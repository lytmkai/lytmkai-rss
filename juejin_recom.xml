<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[æˆ‘ç”¨AIå†™äº†ä¸ªå°ç¨‹åºï¼Œå´è¢«äººè¯´æ²¡æœ‰åº•çº¿â€¦]]></title>    <link>https://juejin.cn/post/7588152122187137078</link>    <guid>https://juejin.cn/post/7588152122187137078</guid>    <pubDate>2025-12-28T02:23:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588152122187137078" data-draft-id="7588004376868241443" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘ç”¨AIå†™äº†ä¸ªå°ç¨‹åºï¼Œå´è¢«äººè¯´æ²¡æœ‰åº•çº¿â€¦"/> <meta itemprop="keywords" content="å¾®ä¿¡å°ç¨‹åº,å‰ç«¯,äº¤äº’è®¾è®¡"/> <meta itemprop="datePublished" content="2025-12-28T02:23:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§å¤§èŠ±çŒ«"/> <meta itemprop="url" content="https://juejin.cn/user/3051900006309096"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘ç”¨AIå†™äº†ä¸ªå°ç¨‹åºï¼Œå´è¢«äººè¯´æ²¡æœ‰åº•çº¿â€¦
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3051900006309096/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§å¤§èŠ±çŒ«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T02:23:26.000Z" title="Sun Dec 28 2025 02:23:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¤§å®¶å¥½ï¼</h2>
<p>ä»Šå¤©æƒ³å’Œå¤§å®¶åˆ†äº«ä¸€ä¸‹æˆ‘ç”¨AIå¼€å‘çš„ä¸€æ¬¾å¾®ä¿¡å°ç¨‹åºâ€”â€”ã€<strong>ç ´å†°ç¥å™¨</strong>ã€‘ã€‚</p>
<p>ä½œä¸ºä¸€ä¸ªå–œæ¬¢å’Œæœ‹å‹èšä¼šä½†åˆç»å¸¸<strong>é¢ä¸´â€œå†·åœºâ€å°´å°¬çš„iäºº</strong>ï¼Œæˆ‘ä¸€ç›´åœ¨å¯»æ‰¾ä¸€æ¬¾èƒ½å¤Ÿæ´»è·ƒèšä¼šæ°›å›´çš„å°ç¨‹åºã€‚ä½†å¸‚é¢ä¸Šçš„åº”ç”¨è¦ä¹ˆåšå·¥ç²—ç³™åŠŸèƒ½å•ä¸€ï¼Œè¦ä¹ˆä¸€å †å¹¿å‘Šæ²¡æ³•ç©ã€‚äºæ˜¯ï¼Œæˆ‘å†³å®šè‡ªå·±åŠ¨æ‰‹ï¼ˆå…¶å®åªåŠ¨äº†å˜´ï¼Œæ˜¯AIåŠ¨çš„æ‰‹ï¼‰ï¼Œå¼€å‘ä¸€æ¬¾å¥½ç”¨ã€åŠŸèƒ½ä¸°å¯Œçš„â€œç ´å†°ç¥å™¨â€ã€‚</p>
<p><strong>å…ˆæ‰£ä¸€ä¸‹æ–‡ç« æ ‡é¢˜</strong>ï¼Œä¸ºä»€ä¹ˆä¼šè¢«äººè¯´æ²¡æœ‰åº•çº¿ï¼Œä¸»è¦è¿˜æ˜¯ä¸€äº›äººå¯¹çœŸå¿ƒè¯å¤§å†’é™©çš„åˆ»æ¿å°è±¡å§ï¼Œæ˜¯æ·»åŠ äº†ä¸€äº›äº²å¯†äº’åŠ¨å’Œæƒ…ä¾£æ¨¡å¼ï¼Œä¸è¿‡ä¹Ÿæ˜¯å¤§å®¶å„å–æ‰€éœ€ï¼Œç‰©å°½å…¶ç”¨å§ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1dcc864098bb4eabaff850a4742a6075~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5aSn6Iqx54yr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767493405&amp;x-signature=wI6Zccj5ZLhChqoWXmKH7czfOpk%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-1">å¥½äº†ï¼Œå…ˆç»™å¤§å®¶å±•ç¤ºä¸€ä¸‹è¿™æ¬¾å°ç¨‹åºçš„ä¸»è¦ç•Œé¢</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b22ee3a2501e47d3aa1307d768d40cd6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5aSn6Iqx54yr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767493405&amp;x-signature=2FHeH3X3jGx2PvxGe2IflU8CCf0%3D" alt="WechatIMG67.jpg" loading="lazy"/></p>
<h6 data-id="heading-2">å¯æƒœæ˜é‡‘è¿™é‡Œå‘è§†é¢‘ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Œæ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥ç§»æ­¥å¾®ä¿¡å°ç¨‹åºä½“éªŒä¸€ä¸‹ã€‚</h6>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/53abd9968f354618bd0835fc4f33ea98~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5aSn6Iqx54yr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767493405&amp;x-signature=sPoMY1Ko%2BkzkxeeYh8E0eSFOIMU%3D" alt="card_qrcode.jpg" loading="lazy"/></p>
<h3 data-id="heading-3">ğŸ’¡ å¼€å‘åˆè¡·</h3>
<p>åœ¨æœ‹å‹èšä¼šã€å›¢å»ºç ´å†°æˆ–è€…KTVå”±æ­Œæ—¶ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦ä¸€äº›å°é“å…·æ¥æ´»è·ƒæ°”æ°›ã€‚æ¯”å¦‚ï¼š</p>
<ul>
<li>æƒ³ç©çœŸå¿ƒè¯å¤§å†’é™©ï¼Œä½†æƒ³ä¸å‡ºå¥½é¢˜ç›®ï¼Ÿ</li>
<li>æƒ³ç©æ‘‡éª°å­ï¼Œä½†æ‰¾ä¸åˆ°å®ä½“éª°å­ï¼Ÿ</li>
<li>æƒ³æŠ½æ‰‘å…‹ç‰Œæ¯”å¤§å°ï¼Œä½†æ²¡å¸¦ç‰Œï¼Ÿ</li>
<li>å–é…’æ—¶æƒ³ç©ä¸ªç®€å•çš„çŒœæ•°å­—æ¸¸æˆï¼Ÿ
ã€ç ´å†°ç¥å™¨ã€‘å°±æ˜¯ä¸ºäº†è§£å†³è¿™äº›åœºæ™¯è€Œç”Ÿçš„ã€‚</li>
</ul>
<h3 data-id="heading-4">ğŸš€ åŠŸèƒ½äº®ç‚¹ä»‹ç»</h3>
<h4 data-id="heading-5">1. çœŸå¿ƒè¯å¤§å†’é™© (Truth or Dare)</h4>
<p>è¿™æ˜¯å°ç¨‹åºçš„æ ¸å¿ƒåŠŸèƒ½ã€‚ä¸ºäº†ä¿è¯é¢˜ç›®çš„è¶£å‘³æ€§å’Œå¤šæ ·æ€§ï¼Œæˆ‘æ¥å…¥äº† LeanCloud ä½œä¸ºåç«¯æ•°æ®åº“ï¼Œè¿™æ ·å¯ä»¥åŠ¨æ€æ›´æ–°é¢˜ç›®åº“ï¼Œè€Œä¸éœ€è¦é¢‘ç¹å‘ç‰ˆã€‚ï¼ˆå·²ç»å½•å…¥äº†å‡ ç™¾é“é¢˜äº†ï¼‰</p>
<ul>
<li>å¤šæ¨¡å¼æ”¯æŒ ï¼šä¸ä»…æœ‰ä¼ ç»Ÿçš„â€œçœŸå¿ƒè¯â€å’Œâ€œå¤§å†’é™©â€ï¼Œæˆ‘è¿˜åŠ å…¥äº†â€œè°æ¥å–â€ã€â€œå¥½è¿å¡â€ã€â€œäº²å¯†äº’åŠ¨â€ä»¥åŠâ€œæƒ…ä¾£æ¨¡å¼â€œã€‚</li>
<li>è‡ªå®šä¹‰æ¦‚ç‡ ï¼šä¸ºäº†æ»¡è¶³ä¸åŒåœºåˆçš„è¯‰æ±‚å·®å¼‚ï¼Œå¯ä»¥è‡ªç”±è°ƒæ•´æ¯ç§æ¨¡å¼çš„å‡ºç°æ¦‚ç‡ã€‚</li>
<li>äº¤äº’ä½“éªŒ ï¼šå¡ç‰‡åˆ‡æ¢ä½¿ç”¨äº†å¹³æ»‘çš„åŠ¨ç”»æ•ˆæœï¼Œé…åˆæ‰‹æœºçš„éœ‡åŠ¨åé¦ˆï¼ŒæŠ½å¡çš„æ„Ÿè§‰éå¸¸çœŸå®ã€‚</li>
</ul>
<h4 data-id="heading-6">2. æ‘‡éª°å­ (Dice)</h4>
<p>æ¨¡æ‹ŸçœŸå®çš„éª°å­ä½“éªŒã€‚</p>
<ul>
<li>å¤šéª°å­æ”¯æŒ ï¼šæœ€å¤šæ”¯æŒ 5 é¢—éª°å­åŒæ—¶æ‘‡åŠ¨ã€‚</li>
<li>çœŸå®æ‰‹æ„Ÿ ï¼šæ”¯æŒâ€œé•¿æŒ‰è“„åŠ›â€å’Œâ€œç‚¹å‡»â€ä¸¤ç§æ¨¡å¼ï¼Œé…åˆéœ‡åŠ¨åé¦ˆï¼Œè¿˜åŸçœŸå®çš„åšå¼ˆæ„Ÿã€‚</li>
<li>é®ç½©æ¨¡å¼ ï¼šæ‘‡å®Œåé»˜è®¤å¯ä»¥è¦†ç›–ç»“æœï¼Œå¢åŠ ç¥ç§˜æ„Ÿï¼Œå¤§å®¶çŒœå®Œåå†æ­æ™“ã€‚</li>
</ul>
<h4 data-id="heading-7">3. æ‰‘å…‹ç‰Œ (Poker)</h4>
<p>ä¸€ä¸ªæç®€çš„æŠ½ç‰Œå·¥å…·ã€‚</p>
<ul>
<li>è‡ªå®šä¹‰å¼ æ•° ï¼šé»˜è®¤æŠ½3å¼ ï¼Œä¹Ÿå¯ä»¥æ ¹æ®è§„åˆ™è°ƒæ•´ã€‚</li>
<li>å¤§å°ç‹å¼€å…³ ï¼šæ”¯æŒé…ç½®æ˜¯å¦åŒ…å«å¤§å°ç‹ã€‚</li>
</ul>
<h4 data-id="heading-8">4. çŒœæ•°å­— (Guess Number)</h4>
<p>ç»å…¸çš„â€œé«˜ä½çŒœâ€æ¸¸æˆï¼Œéå¸¸é€‚åˆä½œä¸ºé…’æ¡Œæƒ©ç½šæ¸¸æˆã€‚</p>
<ul>
<li>èŒƒå›´è®¾å®š ï¼šæ”¯æŒ 1-99 å’Œ 1-999 ä¸¤ç§éš¾åº¦ã€‚</li>
<li>èƒœåˆ©ç‰¹æ•ˆ ï¼šçŒœä¸­æ•°å­—åä¼šæœ‰å…¨å±çƒŸèŠ±ç‰¹æ•ˆï¼Œåº†ç¥èƒœåˆ©ï¼ˆæˆ–è€…è¿æ¥æƒ©ç½šï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-9">ğŸ›  æŠ€æœ¯å®ç°åˆ†äº«</h3>
<h4 data-id="heading-10">0. å¼€å‘å·¥å…·é€‰æ‹©</h4>
<ul>
<li>AIå¼€å‘å·¥å…·æˆ‘é€‰ç”¨äº†TRAEï¼Œç¡®å®åœ¨å›½å†…ç”¨èµ·æ¥æ–¹ä¾¿å¤ªå¤šäº†ã€‚</li>
<li>å¤§æ¨¡å‹æˆ‘é€‰æ‹©è°·æ­Œçš„gemini3proï¼Œå®ƒå®ç°UIçš„èƒ½åŠ›è®©æˆ‘çœ¼å‰ä¸€äº®ï¼Œå·²ç»ç¦»ä¸å¼€äº†ã€‚</li>
</ul>
<h4 data-id="heading-11">1. æŠ€æœ¯æ ˆé€‰æ‹©</h4>
<ul>
<li>å‰ç«¯ ï¼šåŸç”Ÿå¾®ä¿¡å°ç¨‹åº (WXML, WXSS, JS)ã€‚åŸç”Ÿå¼€å‘è™½ç„¶ç¹çï¼Œä½†åœ¨æ€§èƒ½å’Œä½“éªŒä¸Šæ˜¯æœ€ä¼˜çš„ï¼Œç‰¹åˆ«æ˜¯å¯¹äºéœ€è¦é¢‘ç¹åŠ¨ç”»äº¤äº’çš„æ¸¸æˆç±»åº”ç”¨ã€‚</li>
<li>åç«¯ ï¼š LeanCloud (Serverless) ã€‚å¯¹äºè¿™ç§è½»é‡çº§çš„å°ç¨‹åºï¼ŒServerless æ˜¯ç»ä½³é€‰æ‹©ã€‚æˆ‘ä¸éœ€è¦ç»´æŠ¤æœåŠ¡å™¨ï¼Œåªéœ€è¦é€šè¿‡ API è·å–é¢˜ç›®æ•°æ®ï¼Œçœå¿ƒçœåŠ›ã€‚</li>
<li>å›½é™…åŒ– ï¼šå†…ç½®äº† i18n æ¨¡å—ï¼Œä¸ºæœªæ¥çš„å¤šè¯­è¨€æ”¯æŒåšå¥½äº†å‡†å¤‡ã€‚</li>
</ul>
<h4 data-id="heading-12">2. æ²‰æµ¸å¼ UI è®¾è®¡</h4>
<p>ä¸ºäº†æ‰“é€ â€œå¤œé—´æ¨¡å¼â€çš„èšä¼šæ°›å›´ï¼Œæˆ‘å°†æ•´ä½“ UI é£æ ¼å®šè°ƒä¸ºæ·±è‰²ç³»ã€‚</p>
<ul>
<li>è‡ªå®šä¹‰å¯¼èˆªæ  ï¼šä¸ºäº†æœ€å¤§åŒ–å¯è§†é¢ç§¯å’Œç»Ÿä¸€è§†è§‰é£æ ¼ï¼Œæˆ‘å–æ¶ˆäº†åŸç”Ÿå¯¼èˆªæ ï¼Œå®ç°äº†è‡ªå®šä¹‰ Navigation Barï¼Œå®Œç¾é€‚é…å„ç§åˆ˜æµ·å±æœºå‹ã€‚</li>
<li>è§¦æ„Ÿåé¦ˆ ï¼šåœ¨ç”¨æˆ·äº¤äº’çš„å…³é”®èŠ‚ç‚¹ï¼ˆå¦‚æŠ½å¡ã€æ‘‡éª°å­ã€æŒ‰é’®ç‚¹å‡»ï¼‰éƒ½åŠ å…¥äº† wx.vibrateShortçš„è½»å¾®éœ‡åŠ¨åé¦ˆï¼Œæå‡æ“ä½œçš„ç¡®è®¤æ„Ÿã€‚</li>
</ul>
<h4 data-id="heading-13">3. åŠ¨ç”»ä¸æ€§èƒ½</h4>
<ul>
<li>Canvas çƒŸèŠ± ï¼šçŒœæ•°å­—èƒœåˆ©æ—¶çš„çƒŸèŠ±æ•ˆæœä½¿ç”¨äº† Canvas ç»˜åˆ¶ï¼Œä¿è¯äº†æµç•…åº¦ã€‚</li>
<li>CSS3 åŠ¨ç”» ï¼šå¡ç‰‡çš„ç¿»è½¬ã€å…¥åœºåŠ¨ç”»ä¸»è¦ä¾èµ– CSS3 transform å’Œ transition ï¼Œå‡å°‘ JS çº¿ç¨‹çš„å‹åŠ›ã€‚</li>
<li>ç²’å­çˆ†ç‚¸æ•ˆæœï¼šå¼•å…¥äº†three.jsçš„åº“ï¼Œå¤ªå¥½ç”¨äº†åªèƒ½è¯´ï¼</li>
</ul>
<h3 data-id="heading-14">ğŸ”® æœªæ¥å±•æœ›</h3>
<p>ç›®å‰çš„ã€ç ´å†°ç¥å™¨ã€‘å·²ç»èƒ½æ»¡è¶³åŸºç¡€çš„èšä¼šéœ€æ±‚ï¼Œä½†æˆ‘è¿˜æœ‰å¾ˆå¤šæƒ³æ³•ï¼š</p>
<ul>
<li>æ›´å¤šæ¸¸æˆ ï¼šæ¯”å¦‚â€œè°æ˜¯å§åº•â€ã€â€œä½ ç”»æˆ‘çŒœâ€ç­‰å¤šäººåœ¨çº¿äº’åŠ¨æ¸¸æˆã€‚</li>
<li>é¢˜åº“å…±å»º ï¼šå…è®¸ç”¨æˆ·æäº¤è‡ªå·±çš„çœŸå¿ƒè¯å¤§å†’é™©é¢˜ç›®ã€å®¡æ ¸é¢˜ç›®ã€è‡ªå®šä¹‰å¡ç»„ç­‰ã€‚</li>
<li>è”æœºæ¨¡å¼ ï¼šä¸ä»…ä»…æ˜¯çº¿ä¸‹ä¼ æ‰‹æœºç©ï¼Œæœªæ¥å¸Œæœ›èƒ½æ”¯æŒé¢å¯¹é¢å»ºæˆ¿ï¼Œå¤§å®¶åœ¨è‡ªå·±çš„æ‰‹æœºä¸Šæ“ä½œã€‚</li>
</ul>
<h5 data-id="heading-15">æ„Ÿè°¢å¤§å®¶ä½¿ç”¨ã€ç ´å†°ç¥å™¨ã€‘ï¼Œå¦‚æœä½ æœ‰ä»»ä½•å»ºè®®æˆ–å‘ç°äº† Bugï¼Œæ¬¢è¿åœ¨å°ç¨‹åºé‡Œç»™æˆ‘ç•™è¨€ï¼</h5></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[CryptoAiAdminé¡¹ç›®æ•°æ®åº“è¡¨è‡ªåŠ¨åˆ›å»ºå’Œåˆå§‹åŒ–]]></title>    <link>https://juejin.cn/post/7588086766248706099</link>    <guid>https://juejin.cn/post/7588086766248706099</guid>    <pubDate>2025-12-27T12:55:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588086766248706099" data-draft-id="7588067055482355721" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="CryptoAiAdminé¡¹ç›®æ•°æ®åº“è¡¨è‡ªåŠ¨åˆ›å»ºå’Œåˆå§‹åŒ–"/> <meta itemprop="keywords" content="åç«¯,Python,FastAPI"/> <meta itemprop="datePublished" content="2025-12-27T12:55:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åˆ›æ–°æŠ€æœ¯é˜"/> <meta itemprop="url" content="https://juejin.cn/user/4361127086785497"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            CryptoAiAdminé¡¹ç›®æ•°æ®åº“è¡¨è‡ªåŠ¨åˆ›å»ºå’Œåˆå§‹åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4361127086785497/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åˆ›æ–°æŠ€æœ¯é˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T12:55:57.000Z" title="Sat Dec 27 2025 12:55:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. æ¦‚è¿°</h2>
<p>æœ¬ç³»ç»Ÿé‡‡ç”¨äº†åŸºäº SQLAlchemy 2.0 çš„å¼‚æ­¥æ•°æ®åº“æ¶æ„ï¼Œå®ç°äº†è‡ªåŠ¨åŒ–çš„æ•°æ®åº“è¡¨åˆ›å»ºå’ŒåŸºç¡€æ•°æ®åˆå§‹åŒ–ã€‚æ•´ä¸ªåˆå§‹åŒ–è¿‡ç¨‹ç”± <code>InitializeData</code> ç±»ï¼ˆä½äº <code>app/scripts/initialize.py</code>ï¼‰ç»Ÿä¸€ç®¡ç†ï¼Œéµå¾ª"å…ˆåˆ›å»ºè¡¨ç»“æ„ï¼Œå†åˆå§‹åŒ–æ•°æ®"çš„åŸåˆ™ï¼Œç¡®ä¿æ•°æ®å®Œæ•´æ€§å’Œä¾èµ–å…³ç³»æ­£ç¡®æ€§ã€‚</p>
<h2 data-id="heading-1">2. æ•°æ®åº“è¿æ¥é…ç½®</h2>
<h3 data-id="heading-2">2.1 è¿æ¥ç®¡ç†</h3>
<p>ç³»ç»Ÿä½¿ç”¨ <code>app/core/database.py</code> ä¸­çš„å‡½æ•°åˆ›å»ºæ•°æ®åº“è¿æ¥ï¼š</p>
<ul>
<li><code>create_engine_and_session()</code>: åˆ›å»ºåŒæ­¥æ•°æ®åº“å¼•æ“å’Œä¼šè¯å·¥å‚</li>
<li><code>create_async_engine_and_session()</code>: åˆ›å»ºå¼‚æ­¥æ•°æ®åº“å¼•æ“å’Œä¼šè¯å·¥å‚</li>
</ul>
<p>è¿™äº›å‡½æ•°ä»é…ç½®æ–‡ä»¶ä¸­è¯»å–æ•°æ®åº“è¿æ¥å‚æ•°ï¼Œæ”¯æŒå¤šç§æ•°æ®åº“ç±»å‹ï¼ˆSQLiteã€MySQLã€PostgreSQLï¼‰ã€‚</p>
<h3 data-id="heading-3">2.2 æ ¸å¿ƒé…ç½®å‚æ•°</h3>
<ul>
<li>æ•°æ®åº“è¿æ¥URL: <code>settings.DB_URI</code>ï¼ˆåŒæ­¥ï¼‰å’Œ <code>settings.ASYNC_DB_URI</code>ï¼ˆå¼‚æ­¥ï¼‰</li>
<li>è¿æ¥æ± é…ç½®: åŒ…æ‹¬è¿æ¥æ± å¤§å°ã€å›æ”¶æ—¶é—´ã€é¢„æ£€æŸ¥ç­‰</li>
<li>æ—¥å¿—é…ç½®: æ§åˆ¶æ˜¯å¦è¾“å‡ºSQLè¯­å¥</li>
</ul>
<h2 data-id="heading-4">3. æ¨¡å‹å®šä¹‰æ¶æ„</h2>
<h3 data-id="heading-5">3.1 åŸºç¡€æ¨¡å‹è®¾è®¡</h3>
<p>ç³»ç»Ÿé‡‡ç”¨äº†Mixinæ¨¡å¼å®ç°æ¨¡å‹çš„å¤ç”¨å’Œæ‰©å±•ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MappedBase</span>(AsyncAttrs, DeclarativeBase):
    __abstract__: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">True</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ModelMixin</span>(<span class="hljs-title class_ inherited__">MappedBase</span>):
    __abstract__: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">True</span>
    <span class="hljs-comment"># æä¾›é€šç”¨å­—æ®µï¼šidã€uuidã€statusã€descriptionã€created_timeã€updated_time</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserMixin</span>(<span class="hljs-title class_ inherited__">MappedBase</span>):
    __abstract__: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">True</span>
    <span class="hljs-comment"># æä¾›ç”¨æˆ·å®¡è®¡å­—æ®µï¼šcreated_idã€updated_id</span>
</code></pre>
<h3 data-id="heading-6">3.2 ä¸šåŠ¡æ¨¡å‹å®šä¹‰</h3>
<p>ä¸šåŠ¡æ¨¡å‹é€šè¿‡ç»§æ‰¿åŸºç¡€æ¨¡å‹å®ç°ï¼Œä¾‹å¦‚ç”¨æˆ·æ¨¡å‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">UserModel</span>(ModelMixin, UserMixin):
    __tablename__: <span class="hljs-built_in">str</span> = <span class="hljs-string">"sys_user"</span>
    __table_args__: <span class="hljs-built_in">dict</span>[<span class="hljs-built_in">str</span>, <span class="hljs-built_in">str</span>] = ({<span class="hljs-string">'comment'</span>: <span class="hljs-string">'ç”¨æˆ·è¡¨'</span>})
    
    username: Mapped[<span class="hljs-built_in">str</span>] = mapped_column(String(<span class="hljs-number">32</span>), nullable=<span class="hljs-literal">False</span>, unique=<span class="hljs-literal">True</span>, comment=<span class="hljs-string">"ç”¨æˆ·å/ç™»å½•è´¦å·"</span>)
    password: Mapped[<span class="hljs-built_in">str</span>] = mapped_column(String(<span class="hljs-number">255</span>), nullable=<span class="hljs-literal">False</span>, comment=<span class="hljs-string">"å¯†ç å“ˆå¸Œ"</span>)
    <span class="hljs-comment"># å…¶ä»–å­—æ®µ...</span>
    
    <span class="hljs-comment"># å…³è”å…³ç³»</span>
    dept: Mapped[<span class="hljs-string">"DeptModel | None"</span>] = relationship(back_populates=<span class="hljs-string">"users"</span>, lazy=<span class="hljs-string">"selectin"</span>)
    roles: Mapped[<span class="hljs-built_in">list</span>[<span class="hljs-string">"RoleModel"</span>]] = relationship(secondary=<span class="hljs-string">"sys_user_roles"</span>, back_populates=<span class="hljs-string">"users"</span>, lazy=<span class="hljs-string">"selectin"</span>)
</code></pre>
<h2 data-id="heading-7">4. è¡¨åˆ›å»ºè¿‡ç¨‹</h2>
<h3 data-id="heading-8">4.1 æ¨¡å‹åŠ è½½ä¸ä¾èµ–æ’åº</h3>
<p>åœ¨ <code>InitializeData</code> ç±»ä¸­ï¼Œæ¨¡å‹æŒ‰ç…§ä¾èµ–å…³ç³»æ’åºï¼š</p>
<pre><code class="hljs language-python" lang="python">self.prepare_init_models = [
    MenuModel,
    ParamsModel,
    DeptModel,
    RoleModel,
    DictTypeModel,
    DictDataModel,
    PositionModel,
    UserModel,
    UserRolesModel,
]
</code></pre>
<h3 data-id="heading-9">4.2 è¡¨åˆ›å»ºå®ç°</h3>
<p>è¡¨åˆ›å»ºé€šè¿‡ SQLAlchemy çš„ <code>metadata.create_all()</code> æ–¹æ³•å®ç°ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init_create_table</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-literal">None</span>:
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> async_engine.begin() <span class="hljs-keyword">as</span> conn:
            <span class="hljs-keyword">await</span> conn.run_sync(MappedBase.metadata.create_all)
        log.info(<span class="hljs-string">"âœ…ï¸ æ•°æ®åº“è¡¨ç»“æ„åˆå§‹åŒ–å®Œæˆ"</span>)
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        log.error(<span class="hljs-string">f"âŒï¸ æ•°æ®åº“è¡¨ç»“æ„åˆå§‹åŒ–å¤±è´¥: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)
        <span class="hljs-keyword">raise</span>
</code></pre>
<p>è¿™ä¸ªæ–¹æ³•ä¼šè‡ªåŠ¨åˆ›å»ºæ‰€æœ‰ç»§æ‰¿è‡ª <code>MappedBase</code> çš„æ¨¡å‹å¯¹åº”çš„æ•°æ®åº“è¡¨ï¼Œå¹¶å¤„ç†è¡¨ä¹‹é—´çš„å¤–é”®å…³ç³»ã€‚</p>
<h2 data-id="heading-10">5. æ•°æ®åˆå§‹åŒ–è¿‡ç¨‹</h2>
<h3 data-id="heading-11">5.1 åˆå§‹åŒ–æ•°æ®å­˜å‚¨</h3>
<p>åŸºç¡€æ•°æ®å­˜å‚¨åœ¨ <code>app/scripts/data/</code> ç›®å½•ä¸‹çš„ JSON æ–‡ä»¶ä¸­ï¼Œæ¯ä¸ªæ–‡ä»¶å¯¹åº”ä¸€ä¸ªè¡¨ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">data</span>/
â”œâ”€â”€ sys_dept.json
â”œâ”€â”€ sys_dict_data.json
â”œâ”€â”€ sys_dict_type.json
â”œâ”€â”€ sys_menu.json
â”œâ”€â”€ sys_param.json
â”œâ”€â”€ sys_role.json
â”œâ”€â”€ sys_user.json
â””â”€â”€ sys_user_roles.json
</code></pre>
<h3 data-id="heading-12">5.2 æ•°æ®åŠ è½½ä¸æ’å…¥</h3>
<p>æ•°æ®åˆå§‹åŒ–è¿‡ç¨‹åŒ…æ‹¬ä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li><strong>æ£€æŸ¥è¡¨æ˜¯å¦å·²æœ‰æ•°æ®</strong>ï¼šé¿å…é‡å¤åˆå§‹åŒ–</li>
<li><strong>è¯»å–åˆå§‹åŒ–æ•°æ®æ–‡ä»¶</strong>ï¼šä» JSON æ–‡ä»¶ä¸­åŠ è½½æ•°æ®</li>
<li><strong>ç‰¹æ®Šæ•°æ®å¤„ç†</strong>ï¼š
<ul>
<li>åµŒå¥—æ•°æ®å¤„ç†ï¼ˆå¦‚éƒ¨é—¨å’Œèœå•çš„æ ‘å½¢ç»“æ„ï¼‰</li>
<li>å…³è”æ•°æ®å¤„ç†ï¼ˆå¦‚å­—å…¸æ•°æ®ä¸å­—å…¸ç±»å‹çš„å…³è”ï¼‰</li>
</ul>
</li>
<li><strong>æ‰¹é‡æ’å…¥æ•°æ®</strong>ï¼šä½¿ç”¨ <code>db.add_all()</code> å’Œ <code>db.flush()</code> æ‰¹é‡æ’å…¥</li>
</ol>
<h3 data-id="heading-13">5.3 ç‰¹æ®Šæ•°æ®å¤„ç†å®ç°</h3>
<h4 data-id="heading-14">5.3.1 åµŒå¥—æ•°æ®å¤„ç†</h4>
<p>å¯¹äºå…·æœ‰æ ‘å½¢ç»“æ„çš„æ•°æ®ï¼ˆå¦‚éƒ¨é—¨å’Œèœå•ï¼‰ï¼Œç³»ç»Ÿä½¿ç”¨é€’å½’å‡½æ•°åˆ›å»ºå¯¹è±¡ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">__create_objects_with_children</span>(<span class="hljs-params">self, data: <span class="hljs-built_in">list</span>[<span class="hljs-built_in">dict</span>], model_class</span>) -&gt; <span class="hljs-built_in">list</span>:
    objs = []
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">create_object</span>(<span class="hljs-params">obj_data: <span class="hljs-built_in">dict</span></span>):
        children_data = obj_data.pop(<span class="hljs-string">'children'</span>, [])
        obj = model_class(**obj_data)
        <span class="hljs-keyword">if</span> children_data:
            obj.children = [create_object(child) <span class="hljs-keyword">for</span> child <span class="hljs-keyword">in</span> children_data]
        <span class="hljs-keyword">return</span> obj
    
    <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> data:
        objs.append(create_object(item))
    
    <span class="hljs-keyword">return</span> objs
</code></pre>
<h4 data-id="heading-15">5.3.2 å…³è”æ•°æ®å¤„ç†</h4>
<p>å¯¹äºå­˜åœ¨å…³è”å…³ç³»çš„æ•°æ®ï¼ˆå¦‚ç”¨æˆ·ä¸è§’è‰²ï¼‰ï¼Œç³»ç»Ÿå…ˆåˆå§‹åŒ–ä¸»è¡¨æ•°æ®ï¼Œå†åˆå§‹åŒ–å…³è”è¡¨æ•°æ®ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å¤„ç†å­—å…¸ç±»å‹è¡¨ï¼Œä¿å­˜ç±»å‹æ˜ å°„</span>
<span class="hljs-keyword">elif</span> table_name == <span class="hljs-string">"sys_dict_type"</span>:
    objs = []
    <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> data:
        obj = model(**item)
        objs.append(obj)
        dict_type_mapping[item[<span class="hljs-string">'dict_type'</span>]] = obj
<span class="hljs-comment"># å¤„ç†å­—å…¸æ•°æ®è¡¨ï¼Œæ·»åŠ dict_type_idå…³è”</span>
<span class="hljs-keyword">elif</span> table_name == <span class="hljs-string">"sys_dict_data"</span>:
    objs = []
    <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> data:
        dict_type = item.get(<span class="hljs-string">'dict_type'</span>)
        <span class="hljs-keyword">if</span> dict_type <span class="hljs-keyword">in</span> dict_type_mapping:
            item[<span class="hljs-string">'dict_type_id'</span>] = dict_type_mapping[dict_type].<span class="hljs-built_in">id</span>
        <span class="hljs-keyword">else</span>:
            log.warning(<span class="hljs-string">f"âš ï¸  æœªæ‰¾åˆ°å­—å…¸ç±»å‹ <span class="hljs-subst">{dict_type}</span>ï¼Œè·³è¿‡è¯¥å­—å…¸æ•°æ®"</span>)
            <span class="hljs-keyword">continue</span>
        objs.append(model(**item))
</code></pre>
<h2 data-id="heading-16">6. å®Œæ•´åˆå§‹åŒ–æµç¨‹</h2>
<p>æ•°æ®åº“åˆå§‹åŒ–çš„å®Œæ•´æµç¨‹ç”± <code>init_db()</code> æ–¹æ³•ç»Ÿä¸€åè°ƒï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">init_db</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-literal">None</span>:
    <span class="hljs-comment"># å…ˆåˆ›å»ºè¡¨ç»“æ„</span>
    <span class="hljs-keyword">await</span> self.__init_create_table()
    
    <span class="hljs-comment"># å†åˆå§‹åŒ–æ•°æ®</span>
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> async_db_session() <span class="hljs-keyword">as</span> session:
        <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> session.begin():
            <span class="hljs-keyword">await</span> self.__init_data(session)
            <span class="hljs-keyword">await</span> session.commit()
</code></pre>
<h2 data-id="heading-17">8. æ€»ç»“</h2>
<p>æœ¬ç³»ç»Ÿçš„æ•°æ®åº“åˆå§‹åŒ–è¿‡ç¨‹æ˜¯ä¸€ä¸ªé«˜åº¦è‡ªåŠ¨åŒ–ã€å¯æ‰©å±•çš„æ¶æ„ï¼Œé€šè¿‡ SQLAlchemy 2.0 çš„å¼‚æ­¥ç‰¹æ€§å®ç°äº†é«˜æ•ˆçš„æ•°æ®åº“æ“ä½œã€‚æ•´ä¸ªè¿‡ç¨‹éµå¾ªäº†"å…ˆåˆ›å»ºè¡¨ç»“æ„ï¼Œå†åˆå§‹åŒ–æ•°æ®"çš„åŸåˆ™ï¼Œç¡®ä¿äº†æ•°æ®çš„å®Œæ•´æ€§å’Œä¾èµ–å…³ç³»çš„æ­£ç¡®æ€§ã€‚åŒæ—¶ï¼Œç³»ç»Ÿé‡‡ç”¨äº†Mixinæ¨¡å¼å®ç°æ¨¡å‹çš„å¤ç”¨å’Œæ‰©å±•ï¼Œæé«˜äº†ä»£ç çš„å¯ç»´æŠ¤æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[NestJS å¦‚ä½•é…ç½®ç¯å¢ƒå˜é‡]]></title>    <link>https://juejin.cn/post/7588080521445261358</link>    <guid>https://juejin.cn/post/7588080521445261358</guid>    <pubDate>2025-12-27T12:56:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588080521445261358" data-draft-id="7588080521445244974" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="NestJS å¦‚ä½•é…ç½®ç¯å¢ƒå˜é‡"/> <meta itemprop="keywords" content="NestJS"/> <meta itemprop="datePublished" content="2025-12-27T12:56:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å½“æ—¶åªé“å¯»å¸¸"/> <meta itemprop="url" content="https://juejin.cn/user/48816529358711"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            NestJS å¦‚ä½•é…ç½®ç¯å¢ƒå˜é‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/48816529358711/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å½“æ—¶åªé“å¯»å¸¸
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T12:56:06.000Z" title="Sat Dec 27 2025 12:56:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    26
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ‰€éœ€ä¾èµ–</h2>
<pre><code class="hljs language-bash" lang="bash">pnpm i @nestjs/config js-yaml lodash
pnpm i @types/js-yaml @types/lodash cross-env -D
</code></pre>
<h2 data-id="heading-1">ç›®å½•ç»“æ„</h2>
<pre><code class="hljs language-bash" lang="bash">|- config
| |- config.yaml <span class="hljs-comment"># é€šç”¨é…ç½®æ–‡ä»¶</span>
| |- config.local.yaml <span class="hljs-comment"># é€šç”¨é…ç½®æ–‡ä»¶æœ¬åœ°ç‰ˆï¼ˆä¸ä¼šè¢« Git è®°å½•ï¼‰</span>
| |- config.development.yaml <span class="hljs-comment"># å¼€å‘ç¯å¢ƒé…ç½®æ–‡ä»¶ç‰ˆ</span>
| |- config.development.local.yaml <span class="hljs-comment"># å¼€å‘ç¯å¢ƒé…ç½®æ–‡ä»¶ç‰ˆï¼ˆä¸ä¼šè¢« Git è®°å½•ï¼‰</span>
| |- config.production.yaml <span class="hljs-comment"># ç”Ÿäº§é…ç½®æ–‡ä»¶æœ¬åœ°ç‰ˆ</span>
| |- config.production.local.yaml <span class="hljs-comment"># ç”Ÿäº§é…ç½®æ–‡ä»¶æœ¬åœ°ç‰ˆï¼ˆä¸ä¼šè¢« Git è®°å½•ï¼‰</span>
|- src
| |- common
|   |- config.module.ts <span class="hljs-comment"># è‡ªå®šä¹‰çš„ç¯å¢ƒé…ç½®æ¨¡å—</span>
| |- app.module.ts
|- .gitignore
|- nest-cli.json
</code></pre>
<h2 data-id="heading-2">æ¶‰åŠæ–‡ä»¶</h2>
<h3 data-id="heading-3">1ã€package.json</h3>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"build"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"cross-env NODE_ENV=production nest build"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"start"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"cross-env NODE_ENV=development nest start"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"start:dev"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"cross-env NODE_ENV=development nest start --watch"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"start:debug"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"cross-env NODE_ENV=development nest start --debug --watch"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"start:prod"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"node dist/main"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"start:deploy"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"node main.js"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"dependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"@nestjs/config"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^4.0.2"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"js-yaml"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^4.1.1"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"lodash"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^4.17.21"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"devDependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"@types/js-yaml"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^4.0.9"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"@types/lodash"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^4.17.21"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"cross-env"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^10.1.0"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-4">2ã€config.module.ts</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { join } <span class="hljs-keyword">from</span> <span class="hljs-string">'path'</span>
<span class="hljs-keyword">import</span> jsYaml <span class="hljs-keyword">from</span> <span class="hljs-string">'js-yaml'</span>
<span class="hljs-keyword">import</span> { merge } <span class="hljs-keyword">from</span> <span class="hljs-string">'lodash'</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Module</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@nestjs/common'</span>
<span class="hljs-keyword">import</span> { readFileSync, existsSync } <span class="hljs-keyword">from</span> <span class="hljs-string">'fs'</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ConfigModule</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">NestConfigModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@nestjs/config'</span>

<span class="hljs-meta">@Module</span>({
  <span class="hljs-attr">imports</span>: [
    <span class="hljs-title class_">NestConfigModule</span>.<span class="hljs-title function_">forRoot</span>({
      <span class="hljs-attr">load</span>: [configuration],
      <span class="hljs-attr">isGlobal</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">cache</span>: <span class="hljs-literal">true</span>,
    }),
  ],
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ConfigModule</span> {}

<span class="hljs-comment">/**
 * è¯»å–æŒ‡å®šè·¯å¾„çš„ YAML é…ç½®æ–‡ä»¶å¹¶è½¬ä¸ºå¯¹è±¡ç±»å‹
 * <span class="hljs-doctag">@param</span> filePath YAML é…ç½®æ–‡ä»¶çš„è·¯å¾„
 * <span class="hljs-doctag">@returns</span> è§£æåçš„é…ç½®å¯¹è±¡ï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨åˆ™è¿”å›ç©ºå¯¹è±¡
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">loadConfig</span>(<span class="hljs-params">filePath: <span class="hljs-built_in">string</span></span>): <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">existsSync</span>(filePath) ? (jsYaml.<span class="hljs-title function_">load</span>(<span class="hljs-title function_">readFileSync</span>(filePath, <span class="hljs-string">'utf-8'</span>)) <span class="hljs-keyword">as</span> <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt;) : {}
}

<span class="hljs-comment">/**
 * é…ç½®åŠ è½½æ ¸å¿ƒå‡½æ•°ï¼šè¯»å–å¹¶åˆå¹¶å¤šç¯å¢ƒ YAML é…ç½®æ–‡ä»¶
 *
 * åŠŸèƒ½è¯´æ˜ï¼š
 *  - æ ¹æ® NODE_ENV åŒºåˆ†å¼€å‘/ç”Ÿäº§ç¯å¢ƒï¼Œç¡®å®šé…ç½®æ–‡ä»¶å­˜æ”¾ç›®å½•
 *  - æŒ‰ä¼˜å…ˆçº§è¯»å–4ç±» YAML é…ç½®æ–‡ä»¶ï¼ˆé€šç”¨â†’é€šç”¨æœ¬åœ°â†’ç¯å¢ƒâ†’ç¯å¢ƒæœ¬åœ°ï¼‰
 *  - æ·±åº¦åˆå¹¶é…ç½®å¯¹è±¡ï¼Œåç»­é…ç½®ä¼šè¦†ç›–å‰é¢çš„åŒååµŒå¥—å±æ€§
 *  - æœ€ç»ˆè¿”å›åˆå¹¶åçš„å®Œæ•´é…ç½®ï¼Œä¾› NestJS ConfigModule ä½¿ç”¨
 *
 * é…ç½®ä¼˜å…ˆçº§ï¼ˆä»ä½åˆ°é«˜ï¼Œåé¢è¦†ç›–å‰é¢ï¼‰ï¼š
 *  - config.yaml &lt; config.local.yaml &lt; config.{NODE_ENV}.yaml &lt; config.{NODE_ENV}.local.yaml
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">configuration</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// ä»ç¯å¢ƒå˜é‡ä¸­è·å–å½“å‰è¿è¡Œç¯å¢ƒï¼Œé»˜è®¤ä¸ºå¼€å‘ç¯å¢ƒ</span>
  <span class="hljs-keyword">const</span> { <span class="hljs-variable constant_">NODE_ENV</span> = <span class="hljs-string">'development'</span> } = process.<span class="hljs-property">env</span>

  <span class="hljs-comment">// ç¡®å®šé…ç½®æ–‡ä»¶çš„å­˜æ”¾ç›®å½•</span>
  <span class="hljs-comment">//  - å¼€å‘ç¯å¢ƒ: è¯»å–é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ config æ–‡ä»¶å¤¹</span>
  <span class="hljs-comment">//  - ç”Ÿäº§ç¯å¢ƒ: ç›´æ¥è¯»å–å½“å‰æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•</span>
  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">CONFIG_DIR_PATH</span> = <span class="hljs-variable constant_">NODE_ENV</span> === <span class="hljs-string">'development'</span> ? <span class="hljs-title function_">join</span>(process.<span class="hljs-title function_">cwd</span>(), <span class="hljs-string">'config'</span>) : __dirname

  <span class="hljs-comment">// å®šä¹‰å„ç±»é…ç½®æ–‡ä»¶çš„è·¯å¾„</span>
  <span class="hljs-comment">// é€šç”¨é…ç½®æ–‡ä»¶ï¼ˆæ‰€æœ‰ç¯å¢ƒå…±äº«çš„åŸºç¡€é…ç½®ï¼‰</span>
  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">YAML_COMMON_CONFIG_PATH</span> = <span class="hljs-title function_">join</span>(<span class="hljs-variable constant_">CONFIG_DIR_PATH</span>, <span class="hljs-string">'config.yaml'</span>)
  <span class="hljs-comment">// é€šç”¨æœ¬åœ°é…ç½®æ–‡ä»¶ï¼ˆæœ¬åœ°å¼€å‘è¦†ç›–é€šç”¨é…ç½®çš„ä¸ªæ€§åŒ–è®¾ç½®ï¼Œä¸åº”æäº¤åˆ°ä»£ç ä»“åº“ï¼‰</span>
  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">YAML_COMMON_CONFIG_LOCAL_PATH</span> = <span class="hljs-title function_">join</span>(<span class="hljs-variable constant_">CONFIG_DIR_PATH</span>, <span class="hljs-string">'config.local.yaml'</span>)
  <span class="hljs-comment">// ç‰¹å®šç¯å¢ƒçš„é…ç½®æ–‡ä»¶ï¼ˆé’ˆå¯¹å½“å‰ç¯å¢ƒçš„ä¸“ç”¨é…ç½®ï¼Œå¦‚å¼€å‘/ç”Ÿäº§ç¯å¢ƒçš„å·®å¼‚é…ç½®ï¼‰</span>
  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">YAML_ENV_CONFIG_PATH</span> = <span class="hljs-title function_">join</span>(<span class="hljs-variable constant_">CONFIG_DIR_PATH</span>, <span class="hljs-string">`config.<span class="hljs-subst">${NODE_ENV || <span class="hljs-string">'development'</span>}</span>.yaml`</span>)
  <span class="hljs-comment">// ç‰¹å®šç¯å¢ƒçš„æœ¬åœ°é…ç½®æ–‡ä»¶ï¼ˆæœ¬åœ°è¦†ç›–å½“å‰ç¯å¢ƒé…ç½®çš„ä¸ªæ€§åŒ–è®¾ç½®ï¼Œä¸åº”æäº¤åˆ°ä»£ç ä»“åº“ï¼‰</span>
  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">YAML_ENV_CONFIG_LOCAL_PATH</span> = <span class="hljs-title function_">join</span>(<span class="hljs-variable constant_">CONFIG_DIR_PATH</span>, <span class="hljs-string">`config.<span class="hljs-subst">${NODE_ENV || <span class="hljs-string">'development'</span>}</span>.local.yaml`</span>)

  <span class="hljs-comment">// è¯»å–å„ç±»é…ç½®æ–‡ä»¶çš„å†…å®¹</span>
  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">COMMON_CONFIG</span> = <span class="hljs-title function_">loadConfig</span>(<span class="hljs-variable constant_">YAML_COMMON_CONFIG_PATH</span>)
  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">COMMON_CONFIG_LOCAL</span> = <span class="hljs-title function_">loadConfig</span>(<span class="hljs-variable constant_">YAML_COMMON_CONFIG_LOCAL_PATH</span>)
  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">ENV_CONFIG</span> = <span class="hljs-title function_">loadConfig</span>(<span class="hljs-variable constant_">YAML_ENV_CONFIG_PATH</span>)
  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">ENV_CONFIG_LOCAL</span> = <span class="hljs-title function_">loadConfig</span>(<span class="hljs-variable constant_">YAML_ENV_CONFIG_LOCAL_PATH</span>)

  <span class="hljs-comment">// æ·±åº¦åˆå¹¶é…ç½®ï¼Œåé¢çš„é…ç½®ä¼šè¦†ç›–å‰é¢çš„åŒåé…ç½®</span>
  <span class="hljs-comment">// è¿™æ ·æ—¢ä¿è¯äº†åŸºç¡€é…ç½®çš„é€šç”¨æ€§ï¼Œåˆå…è®¸ç¯å¢ƒå’Œæœ¬åœ°é…ç½®è¿›è¡Œä¸ªæ€§åŒ–å®šåˆ¶</span>
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">merge</span>(<span class="hljs-variable constant_">COMMON_CONFIG</span>, <span class="hljs-variable constant_">COMMON_CONFIG_LOCAL</span>, <span class="hljs-variable constant_">ENV_CONFIG</span>, <span class="hljs-variable constant_">ENV_CONFIG_LOCAL</span>)
}
</code></pre>
<h3 data-id="heading-5">3ã€app.module.ts</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Module</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@nestjs/common'</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ConfigModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./common/config.module.ts'</span>

<span class="hljs-meta">@Module</span>({
  <span class="hljs-attr">imports</span>: [<span class="hljs-title class_">ConfigModule</span>]
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AppModule</span> {}
</code></pre>
<h3 data-id="heading-6">4ã€.gitignore</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># dotenv environment variable files</span>
.env.local
*.local.yaml
</code></pre>
<h3 data-id="heading-7">5ã€nest-cli.json</h3>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"$schema"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://json.schemastore.org/nest-cli"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"collection"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"@nestjs/schematics"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"sourceRoot"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"src"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"compilerOptions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"assets"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span> <span class="hljs-attr">"include"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"../package.json"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"outDir"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./dist/package.json"</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-punctuation">{</span> <span class="hljs-attr">"include"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"../pnpm-lock.yaml"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"outDir"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./dist/pnpm-lock.yaml"</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-punctuation">{</span> <span class="hljs-attr">"include"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"../config/config.yaml"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"outDir"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./dist"</span> <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"deleteOutDir"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"builder"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"webpack"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"generateOptions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"flat"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"spec"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h2 data-id="heading-8">ä½¿ç”¨ä»‹ç»</h2>
<h3 data-id="heading-9">1ã€service æœåŠ¡ä½¿ç”¨</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Injectable</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@nestjs/common'</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ConfigService</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@nestjs/config'</span>

<span class="hljs-meta">@Injectable</span>()
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LoginService</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> configService: ConfigService</span>) {}
  
  <span class="hljs-keyword">public</span> <span class="hljs-title function_">testEnvConfig</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> dbHost = <span class="hljs-variable language_">this</span>.<span class="hljs-property">configService</span>.<span class="hljs-property">get</span>&lt;<span class="hljs-built_in">string</span>&gt;(<span class="hljs-string">'database.host'</span>,<span class="hljs-string">'localhost'</span>)
  }
}
</code></pre>
<h3 data-id="heading-10">2ã€main.ts ä¸­ä½¿ç”¨</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AppModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./app.module'</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ConfigService</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@nestjs/config'</span>

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">bootstrap</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> app = <span class="hljs-keyword">await</span> <span class="hljs-title class_">NestFactory</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">AppModule</span>)
  
  <span class="hljs-comment">// ä»åº”ç”¨å®¹å™¨ä¸­è·å–é…ç½®æœåŠ¡å®ä¾‹ï¼Œç”±äº ConfigModule è¢«è®¾ç½®ä¸ºå…¨å±€æ¨¡å—ï¼Œè¿™é‡Œå¯ä»¥ç›´æ¥è·å–</span>
  <span class="hljs-keyword">const</span> configService = app.<span class="hljs-title function_">get</span>(<span class="hljs-title class_">ConfigService</span>)
  <span class="hljs-keyword">const</span> serverPort = configService.<span class="hljs-property">get</span>&lt;<span class="hljs-built_in">number</span>&gt;(<span class="hljs-string">'server.port'</span>, <span class="hljs-number">3000</span>)
  
  <span class="hljs-comment">// å¯åŠ¨åº”ç”¨å¹¶ç›‘å¬é…ç½®ä¸­æŒ‡å®šçš„ç«¯å£</span>
  <span class="hljs-comment">// è¿™ä¸€æ­¥ä¼šå¯åŠ¨ HTTP æœåŠ¡å™¨ï¼Œä½¿åº”ç”¨å¼€å§‹æ¥æ”¶å¤–éƒ¨è¯·æ±‚</span>
  <span class="hljs-keyword">await</span> app.<span class="hljs-title function_">listen</span>(serverPort)
  
  <span class="hljs-comment">// æ‰“å°æœåŠ¡å¯åŠ¨ä¿¡æ¯ï¼Œæ–¹ä¾¿å¼€å‘è€…åœ¨ç»ˆç«¯æŸ¥çœ‹è®¿é—®åœ°å€</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'\n--------------------------------------------------'</span>)
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`âœ  Local:    http://localhost:<span class="hljs-subst">${serverPort}</span>`</span>)
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'--------------------------------------------------'</span>)
}

<span class="hljs-comment">// è°ƒç”¨å¯åŠ¨å‡½æ•°ï¼Œå¯åŠ¨åº”ç”¨</span>
<span class="hljs-title function_">bootstrap</span>()
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[openrestyç›‘æ§]]></title>    <link>https://juejin.cn/post/7588080521445294126</link>    <guid>https://juejin.cn/post/7588080521445294126</guid>    <pubDate>2025-12-27T13:41:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588080521445294126" data-draft-id="7588149079416913974" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="openrestyç›‘æ§"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-27T13:41:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é£çš„å½’å®¿55"/> <meta itemprop="url" content="https://juejin.cn/user/2840793779297303"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            openrestyç›‘æ§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2840793779297303/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é£çš„å½’å®¿55
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T13:41:03.000Z" title="Sat Dec 27 2025 13:41:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1å°æ—¶+
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h4 data-id="heading-0">ä»‹ç»</h4>
<p>è¿™ç¯‡æ–‡ç« ä¸»è¦è®²è§£äº†openrestyçš„ç›‘æ§ç•Œé¢ï¼ŒåŒ…æ‹¬ç›‘æ§ç•Œé¢çš„å®‰è£…ï¼Œå±•ç¤ºï¼Œä»¥åŠä½¿ç”¨ã€‚è¿™é‡Œæ¨èçš„openrestyçš„ç›‘æ§ä¸»è¦æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯qpsï¼ŒçŠ¶æ€ç ï¼Œupstreamè¿æ¥æ•°ç­‰nginxæŒ‡æ ‡çš„ç›‘æ§å¤§å±ï¼Œè¿˜æœ‰ä¸€ä¸ªæ˜¯luaçš„å¼‚å¸¸æ—¥å¿—çš„ç›‘æ§å±•ç¤ºã€‚å‰è€…è®©æˆ‘ä»¬å¯ä»¥æŒæ¡nginxæ•´ä½“çš„å¥åº·çŠ¶æ€ï¼Œåè€…åˆ™ä»ä¸šåŠ¡è§’åº¦å‘Šè¯‰æˆ‘ä»¬ï¼Œå½“å‰ä»€ä¹ˆåœ¨å‡ºé”™ã€‚</p>
<h4 data-id="heading-1">æˆæœå±•ç¤º</h4>
<p>è¿™é‡Œè´´ä¸€ä¸‹grafanaæœ€ç»ˆå±•ç¤ºå‡ºæ¥çš„ç›‘æ§æ•ˆæœ</p>
<h6 data-id="heading-2">ç›‘æ§å¤§å±</h6>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d755ab8b53a242e78490a19d76182596~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO55qE5b2S5a6_NTU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767447665&amp;x-signature=d%2FAK1RJHE4C0pWGsyoUr6Wg%2FJ3g%3D" alt="openresty_1.jpg" loading="lazy"/></p>
<h6 data-id="heading-3">å¼‚å¸¸ç›‘æ§</h6>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/96d275d52b6046adba82e0dab7ce9ec4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO55qE5b2S5a6_NTU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767447665&amp;x-signature=HP%2B%2FnTQep43Kk6c47Tg142OprZ0%3D" alt="openresty_2.jpg" loading="lazy"/></p>
<br/>
<h4 data-id="heading-4">ç›‘æ§å¤§å±</h4>
<p>è¿™ä¸ªç›‘æ§å¤§å±ä¸»è¦æ˜¯é€šè¿‡openrestyçš„prometheusåº“æ¥æ”¶é›†æ•°æ®çš„ï¼Œæœ‰å…´è¶£çš„å¯ä»¥çœ‹ä¸‹è¿™ä¸ªå®˜æ–¹æ–‡æ¡£ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fknyar%2Fnginx-lua-prometheus" target="_blank" title="https://github.com/knyar/nginx-lua-prometheus" ref="nofollow noopener noreferrer">github.com/knyar/nginxâ€¦</a> ã€‚è¿™ä¸ªåº“é‡Œé¢æä¾›äº†ä¸€äº›åŠŸèƒ½çš„å‡½æ•°ï¼Œå¯ä»¥é€šè¿‡è¿™äº›å‡½æ•°å¯¼å‡ºè‡ªå·±æ„Ÿå…´è¶£çš„æŒ‡æ ‡å¹¶å±•ç¤ºï¼Œæœ¬æ–‡å°±é¢å¤–å¯¼å‡ºäº†nginxä¸­çš„upstreamçš„è¿æ¥æ•°è¿™ä¸€æŒ‡æ ‡ï¼Œç”¨äºååŠ©æ’æŸ¥é—®é¢˜ã€‚å½“ç„¶ï¼Œè¿™ä¸ªåº“å·²ç»é»˜è®¤å¯¼å‡ºäº†qpsï¼Œè¿æ¥æ•°ï¼Œå»¶è¿Ÿç­‰é‡è¦ä¿¡æ¯ã€‚</p>
<h6 data-id="heading-5">å®‰è£…</h6>
<p>é¦–å…ˆä»è¿™ä¸ªgité¡¹ç›®è·å–åº“æ–‡ä»¶è¿›è¡Œå®‰è£…ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fknyar%2Fnginx-lua-prometheus" target="_blank" title="https://github.com/knyar/nginx-lua-prometheus" ref="nofollow noopener noreferrer">github.com/knyar/nginxâ€¦</a> ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªåº“æ–‡ä»¶ç”Ÿæ•ˆçš„å‰ææ˜¯éœ€è¦nginxå·²ç»å®‰è£…äº†ngx_luaæ¨¡å—ï¼Œä¸è¿‡å¯¹äºopenrestyæ¥è¯´ï¼Œè¿™æ˜¯è‡ªå¸¦çš„ï¼Œä¸éœ€è¦é¢å¤–å®‰è£…ã€‚ç„¶åå¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤è¿›è¡Œå®‰è£…ï¼š</p>
<ol>
<li>å°†gité¡¹ç›®ä¸­çš„prometheus.luaï¼Œprometheus_keys.luaï¼Œprometheus_resty_counter.lua è¿™å‡ ä¸ªåº“æ–‡ä»¶æ”¾ç½®åˆ°luaçš„lua_package_path æŒ‡å‘çš„æ–‡ä»¶è·¯å¾„</li>
<li>åœ¨nginxé¡¹ç›®å¯åŠ¨æ—¶åˆå§‹åŒ–prometheusåº“ï¼Œå³åœ¨nginx.confé…ç½®æ–‡ä»¶ä¸­å¢åŠ ä»¥ä¸‹å†…å®¹ï¼š</li>
</ol>

<pre><code class="hljs language-csharp" lang="csharp">lua_shared_dict prometheus_metrics <span class="hljs-number">10</span>M;
lua_package_path <span class="hljs-string">"/path/to/nginx-lua-prometheus/?.lua;;"</span>;

init_worker_by_lua_block {
  prometheus = require(<span class="hljs-string">"prometheus"</span>).<span class="hljs-keyword">init</span>(<span class="hljs-string">"prometheus_metrics"</span>)

  metric_requests = prometheus:counter(
    <span class="hljs-string">"nginx_http_requests_total"</span>, <span class="hljs-string">"Number of HTTP requests"</span>, {<span class="hljs-string">"host"</span>, <span class="hljs-string">"status"</span>})
  metric_latency = prometheus:histogram(
    <span class="hljs-string">"nginx_http_request_duration_seconds"</span>, <span class="hljs-string">"HTTP request latency"</span>, {<span class="hljs-string">"host"</span>})
  metric_connections = prometheus:gauge(
    <span class="hljs-string">"nginx_http_connections"</span>, <span class="hljs-string">"Number of HTTP connections"</span>, {<span class="hljs-string">"state"</span>})
}

log_by_lua_block {
  metric_requests:inc(<span class="hljs-number">1</span>, {ngx.<span class="hljs-keyword">var</span>.server_name, ngx.<span class="hljs-keyword">var</span>.status})
  metric_latency:observe(tonumber(ngx.<span class="hljs-keyword">var</span>.request_time), {ngx.<span class="hljs-keyword">var</span>.server_name})
}
</code></pre>
<p>3.  å¢åŠ ä¸€ä¸ªè·¯ç”±ï¼Œå°†nginxçš„ç›‘æ§æ•°æ®å¯¼å‡ºï¼Œæ”¯æŒprometheusæŠ“å–ï¼Œå¯ä»¥åœ¨nginx.confä¸­å¢åŠ ä»¥ä¸‹é…ç½®ï¼š</p>

<pre><code class="hljs language-csharp" lang="csharp">server {
  listen <span class="hljs-number">9145</span>;
  allow <span class="hljs-number">192.168</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>/<span class="hljs-number">16</span>;
  deny all;
  location /metrics {
    content_by_lua_block {
      metric_connections:<span class="hljs-keyword">set</span>(ngx.<span class="hljs-keyword">var</span>.connections_reading, {<span class="hljs-string">"reading"</span>})
      metric_connections:<span class="hljs-keyword">set</span>(ngx.<span class="hljs-keyword">var</span>.connections_waiting, {<span class="hljs-string">"waiting"</span>})
      metric_connections:<span class="hljs-keyword">set</span>(ngx.<span class="hljs-keyword">var</span>.connections_writing, {<span class="hljs-string">"writing"</span>})
      prometheus:collect()
    }
  }
}
</code></pre>
<p>4.  ä¸Šé¢å‡ ä¸ªäº‹å®˜æ–¹çš„å®‰è£…æ­¥éª¤ï¼Œæˆ‘è¿™é‡ŒåŠ äº†ä¸€ä¸ªå¯¼å‡ºupstreamä¿¡æ¯çš„è·¯ç”±ï¼Œå¯ä»¥å†™åœ¨/metrics è¿™ä¸ªè·¯ç”±ä¸‹é¢</p>

<pre><code class="hljs language-lua" lang="lua">location = /upstreams_metrics {
            default_type text/plain;
            content_by_lua_block {
                <span class="hljs-keyword">local</span> <span class="hljs-built_in">concat</span> = <span class="hljs-built_in">table</span>.<span class="hljs-built_in">concat</span>
                <span class="hljs-keyword">local</span> upstream = <span class="hljs-built_in">require</span> <span class="hljs-string">"ngx.upstream"</span>
                <span class="hljs-keyword">local</span> get_servers = upstream.get_servers
                <span class="hljs-keyword">local</span> get_upstreams = upstream.get_upstreams
                <span class="hljs-keyword">local</span> get_primary_peers = upstream.get_primary_peers

                <span class="hljs-keyword">local</span> us = get_upstreams()
                <span class="hljs-keyword">for</span> _, u <span class="hljs-keyword">in</span> <span class="hljs-built_in">ipairs</span>(us) <span class="hljs-keyword">do</span>
                    <span class="hljs-keyword">local</span> srvs, err = get_primary_peers(u)
                    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> srvs <span class="hljs-keyword">then</span>
                        ngx.say(<span class="hljs-string">"#failed to get servers in upstream "</span>, u)
                    <span class="hljs-keyword">else</span>
                        <span class="hljs-keyword">for</span> _, server <span class="hljs-keyword">in</span> <span class="hljs-built_in">ipairs</span>(srvs) <span class="hljs-keyword">do</span>
                            <span class="hljs-keyword">local</span> message = <span class="hljs-built_in">string</span>.<span class="hljs-built_in">format</span>(<span class="hljs-string">'nginx_upstream_conn_total{upstream="%s",server="%s"} %s'</span>,<span class="hljs-built_in">tostring</span>(u),<span class="hljs-built_in">tostring</span>(server.name),<span class="hljs-built_in">tostring</span>(server.conns <span class="hljs-keyword">or</span> <span class="hljs-number">0</span>))
                            ngx.say(message)
                        <span class="hljs-keyword">end</span>
                    <span class="hljs-keyword">end</span>
                <span class="hljs-keyword">end</span>
            }
        }
</code></pre>
<p>5.  è¿™é‡Œnginxå°±å¯ä»¥æŠŠç›‘æ§æ•°æ®å¯¼å‡ºäº†ï¼Œæ¥ä¸‹æ¥éœ€è¦é…ç½®prometheusæŠ“å–è¿™éƒ¨åˆ†æ•°æ®ï¼Œè¿™é‡Œåˆ†ä¸ºä¸¤ç§æƒ…å†µï¼Œå¦‚æœæ˜¯éƒ¨ç½²çš„prometheuså®ä¾‹çš„è¯ï¼Œå¯ä»¥ç›´æ¥æŠ“å–å¯¹åº”nginxå®ä¾‹çš„ç«¯å£</p>

<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-bullet">-</span> <span class="hljs-attr">job_name:</span> <span class="hljs-string">'nginx-moniter'</span>
  <span class="hljs-attr">static_configs:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">targets:</span> [<span class="hljs-string">'10.10.1.123:9145'</span>]
    <span class="hljs-attr">labels:</span>
      <span class="hljs-attr">exporter:</span> <span class="hljs-string">'nginx'</span>
</code></pre>
<p>6.  å¦‚æœæ˜¯ä½¿ç”¨k8séƒ¨ç½²çš„nginxï¼Œå¹¶ä¸”prometheusæ˜¯ä½¿ç”¨operatoréƒ¨ç½²çš„ï¼Œé‚£å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼å¯¼å‡º</p>

<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">k8sçš„nginx</span> <span class="hljs-string">serviceé…ç½®ï¼š</span>

<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Service</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">nginx</span>
  <span class="hljs-attr">labels:</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">nginx</span>
    <span class="hljs-attr">group:</span> <span class="hljs-string">default</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">type:</span> <span class="hljs-string">ClusterIP</span>
  <span class="hljs-attr">ports:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">metrics</span>
      <span class="hljs-attr">port:</span> <span class="hljs-number">9145</span>
      <span class="hljs-attr">targetPort:</span> <span class="hljs-number">9145</span>
      <span class="hljs-attr">protocol:</span> <span class="hljs-string">TCP</span>
  <span class="hljs-attr">selector:</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">nginx</span>
    <span class="hljs-attr">group:</span> <span class="hljs-string">default</span>
    
    
<span class="hljs-string">k8sçš„nginxçš„deploymentè®°å¾—åœ¨é…ç½®ä¸­åŠ ä¸‹ç«¯å£ï¼š</span>

<span class="hljs-attr">containers:</span>
  <span class="hljs-attr">ports:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">containerPort:</span> <span class="hljs-number">9023</span>


<span class="hljs-string">æœ€åæ˜¯prometheusçš„serviceMonitorçš„é…ç½®ï¼š</span>

<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">monitoring.coreos.com/v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">ServiceMonitor</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">nginx</span>
  <span class="hljs-attr">namespace:</span> <span class="hljs-string">monitoring</span>
  <span class="hljs-attr">labels:</span>
    <span class="hljs-attr">app.kubernetes.io/component:</span> <span class="hljs-string">monitor</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">endpoints:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">port:</span> <span class="hljs-string">metrics</span>
    <span class="hljs-attr">path:</span> <span class="hljs-string">/metrics</span>
    <span class="hljs-attr">interval:</span> <span class="hljs-string">30s</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">port:</span> <span class="hljs-string">metrics</span>
    <span class="hljs-attr">path:</span> <span class="hljs-string">/upstreams_metrics</span>
    <span class="hljs-attr">interval:</span> <span class="hljs-string">30s</span>
  <span class="hljs-attr">namespaceSelector:</span>
    <span class="hljs-attr">matchNames:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">default</span>
  <span class="hljs-attr">selector:</span>
    <span class="hljs-attr">matchExpressions:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">key:</span> <span class="hljs-string">name</span>
      <span class="hljs-attr">operator:</span> <span class="hljs-string">In</span>
      <span class="hljs-attr">values:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-string">nginx</span>
</code></pre>
<p>7.  è¿™æ ·prometheuså°±æŠ“å–åˆ°nginxçš„ç›‘æ§æ•°æ®äº†ï¼Œæ¥ä¸‹æ¥çš„å°±æ˜¯åœ¨grafanaä¸­é…ç½®å¤§å±è¿›è¡Œå±•ç¤ºï¼Œè¿™ä¸ªå¯ä»¥åœ¨grafana dashboardç½‘é¡µä¸Šæ‰¾å–œæ¬¢çš„ç•Œé¢ï¼Œæ¯”å¦‚10223è¿™ä¸ªidï¼Œæˆ‘è¿™è¾¹æ˜¯ä½¿ç”¨åŸå§‹çš„ç•Œé¢ç„¶åæ”¹é€ äº†ä¸‹ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffengdeguisu%2Farticle%2Fblob%2Fmain%2Fopenresty%25E7%259B%2591%25E6%258E%25A7%2Fnginx%25E7%259B%2591%25E6%258E%25A7%25E5%25A4%25A7%25E5%25B1%258F.json" target="_blank" title="https://github.com/fengdeguisu/article/blob/main/openresty%E7%9B%91%E6%8E%A7/nginx%E7%9B%91%E6%8E%A7%E5%A4%A7%E5%B1%8F.json" ref="nofollow noopener noreferrer">å¯ä»¥é€šè¿‡æ­¤é“¾æ¥ä¸‹è½½jsonæ–‡ä»¶</a>ï¼Œéœ€è¦çš„å¯ä»¥åœ¨grafanaçš„å¯¼å…¥æŒ‰é’®ä¸­è¾“å…¥jsonæ ¼å¼çš„æ•°æ®æ¥å¯¼å…¥ç•Œé¢ã€‚</p>
<h6 data-id="heading-6">ä½¿ç”¨ä»‹ç»</h6>
<p>å®‰è£…å®Œä¹‹åï¼Œå°±å¯ä»¥çœ‹åˆ°ä¸Šé¢æˆæœä»‹ç»ä¸­çš„nginxç›‘æ§å¤§å±çš„æ•ˆæœäº†ï¼Œä»–å¯ä»¥åŒæ—¶ç›‘æ§å¤šä¸ªnginxå®ä¾‹ï¼Œä¸ŠåŠéƒ¨åˆ†çš„å…¨ç«™ç›‘æ§æ•°æ®ï¼Œå±•ç¤ºäº†æ‰€æœ‰nginxå®ä¾‹æ±‡æ€»è¿‡åçš„qpsï¼Œè¿æ¥æ•°ï¼Œé”™è¯¯æ•°ï¼Œå»¶è¿Ÿç­‰ä¿¡æ¯ï¼Œä¸‹åŠéƒ¨åˆ†æ˜¯æŒ‰ç…§ä¸»æœºç»´åº¦æˆ–è€…podç»´åº¦æ±‡æ€»çš„å¯¹åº”æ•°æ®ã€‚ä¸‹é¢ç®€å•çš„ä»‹ç»ä¸‹ï¼š</p>
<p><strong>qps</strong>ï¼š å¯ä»¥ç”¨äºæŸ¥çœ‹æ¯ç§’çš„è¯·æ±‚æ•°ï¼Œç¡®è®¤æ˜¯å¦æœ‰çªå¢è¯·æ±‚</p>
<p><strong>å¹³å‡æ´»è·ƒè¿æ¥æ•°</strong>ï¼š ç”¨äºæŸ¥çœ‹å®¢æˆ·ç«¯çš„è¿æ¥æ•°ï¼Œå¦‚æœçªå¢ï¼Œå¯èƒ½æ˜¯å†…éƒ¨å¤„ç†æ…¢äº†ï¼Œéœ€è¦æŸ¥çœ‹æ˜¯å¦æœ‰ç“¶é¢ˆ</p>
<p><strong>å¹³å‡è¯·æ±‚å“åº”æ—¶é—´</strong>ï¼š ç”¨äºæŸ¥çœ‹å“åº”æ—¶é—´ï¼Œå¦‚æœå¤ªé«˜ï¼Œè¯´æ˜å®¢æˆ·ä½“éªŒä¼šæ”¶åˆ°ä¸¥é‡å½±å“ï¼Œéœ€è¦è¿›è¡Œæ’æŸ¥</p>
<p><strong>5xxé”™è¯¯ç‡</strong>ï¼š 500çŠ¶æ€ç çš„å æ¯”ï¼Œè¿™ä¸ªå€¼å‡é«˜çš„è¯ï¼Œè¯´æ˜æœåŠ¡å™¨å†…éƒ¨å‡ºç°äº†é—®é¢˜ï¼Œæ— æ³•å¤„ç†è¯·æ±‚ï¼Œ<strong>å¯ä»¥é’ˆå¯¹è¿™ä¸ªå€¼å¢åŠ ç›‘æ§é¢„è­¦ï¼ŒåŠæ—¶å‘ç°é—®é¢˜å¹¶å¤„ç†</strong>ã€‚</p>
<p><strong>upstreamå¹³å‡æ´»è·ƒè¿æ¥æ•°</strong>ï¼š  å±•ç¤ºäº†ä»¥upstreamæ¥è¿›è¡Œæ±‡æ€»çš„æ´»è·ƒè¿æ¥æ•°é‡ï¼Œå¦‚æœæŸä¸ªæ›²çº¿æ¯”è¾ƒé«˜ï¼Œè¯´æ˜å¯¹åº”çš„åç«¯æœåŠ¡å™¨å¤„ç†æ…¢ï¼Œå¯¼è‡´è¿æ¥æ± æº¢å‡ºäº†ï¼Œéœ€è¦è¿›è¡Œå¤„ç†ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œçš„å‰ææ˜¯ä½¿ç”¨nginxçš„upstreamæ¥ä»£ç†åç«¯ï¼Œå¹¶ä¸”å¯ç”¨keepalive è¿™ä¸ªé…ç½®çš„è¿æ¥æ± åŠŸèƒ½ï¼Œè¿™ä¹Ÿæ˜¯æ¨èçš„åšæ³•ï¼Œèƒ½é€šè¿‡å¤ç”¨åç«¯ä»£ç†è¿æ¥æé«˜æ€§èƒ½ã€‚</p>
<h6 data-id="heading-7">ç›‘æ§å¤§å±è®¾ç½®äº†å‡ ä¸ªé€‰é¡¹ï¼Œè¿™é‡Œä¹Ÿä»‹ç»ä¸‹ï¼š</h6>
<p><strong>upstreamæ±‡æ€»ç±»å‹</strong>ï¼š ç”¨äºè®¾ç½®ä¸‹åŠéƒ¨åˆ†çš„upstreamæ´»è·ƒè¿æ¥æ•°ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®ä¸ºpodæ¥æŸ¥çœ‹æ¯ä¸ªnginxå®ä¾‹çš„æ±‡æ€»ä»£ç†è¿æ¥æ•°ï¼Œå¦‚æœè¿™ä¸ªå€¼çªå¢ï¼Œé‚£ä»£è¡¨å¯¹åº”çš„nginxå®ä¾‹çš„åç«¯ä»£ç†æœ‰é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨upstreamé€‰é¡¹æ¥æŸ¥çœ‹æ˜¯å“ªä¸ªåç«¯æœåŠ¡ç»„æœ‰é—®é¢˜
<strong>qpsåˆ†ç»„ç»´åº¦</strong>ï¼š ç”¨äºè®¾ç½®ä¸‹åŠéƒ¨åˆ†çš„å„ä¸ªæŒ‡æ ‡çš„åˆ†ç»„ç»´åº¦ï¼Œç”±podå’Œinstantä¸¤ç§é€‰é¡¹ï¼Œåˆ†åˆ«æŒ‰ç…§nginxå®ä¾‹æˆ–è€…ä¸»æœºæ±‡æ€»ï¼Œåœ¨å‡ºç°çªå¢æƒ…å†µæ—¶ï¼Œå¯ä»¥ç”¨äºç¡®å®šæ˜¯å“ªä¸ªå®ä¾‹æœ‰é—®é¢˜ã€‚
<strong>upstream podå’Œupstream</strong>ï¼š ç”¨äºæŒ‡å®šæŸä¸ªå®ä¾‹æˆ–è€…åç«¯ä»£ç†æ¥æŸ¥çœ‹å¯¹åº”æ•°æ®</p>
<h6 data-id="heading-8">æ’æŸ¥é—®é¢˜æ–¹å¼</h6>
<p>æ¨èå¯ä»¥å…ˆçœ‹ä¸‹ä¸ŠåŠéƒ¨åˆ†çš„æ•´ä½“æ•°æ®ï¼Œç¡®è®¤é›†ç¾¤æ˜¯å¦æ­£å¸¸ï¼Œç„¶åå†æŸ¥çœ‹ä¸‹åŠéƒ¨åˆ†ï¼Œç¡®è®¤å‡ºé—®é¢˜çš„å®ä¾‹ã€‚</p>
<p>å‡ºé—®é¢˜çš„ç»´åº¦æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯éƒ¨åˆ†nginxå®ä¾‹æœ‰é—®é¢˜ï¼Œæ­¤æ—¶å¯ä»¥é€šè¿‡æŒ‰ç…§podåˆ†ç»„æŸ¥çœ‹ç›‘æ§æ‰¾åˆ°é—®é¢˜å®ä¾‹ï¼Œè¿˜æœ‰ä¸€ç§æ˜¯æŸä¸ªåç«¯ä»£ç†æœåŠ¡æœ‰é—®é¢˜ï¼Œæ­¤æ—¶å¯ä»¥é€šè¿‡upstreamåˆ†ç»„æŸ¥çœ‹å‡ºé—®é¢˜çš„å…·ä½“åç«¯æœåŠ¡ã€‚</p>
<p>å¦‚æœæ˜¯æŸä¸ªåç«¯æœåŠ¡æœ‰é—®é¢˜ï¼Œæ¯”å¦‚å¤„ç†è¯·æ±‚å¾ˆæ…¢ï¼Œå°±ä¼šå‡ºç°nginxä¸­çš„å¯¹åº”çš„åç«¯ä»£ç†è¿æ¥æ•°æ¿€å¢ï¼Œç„¶åå› ä¸ºè¿æ¥æ•°å¤ªå¤šï¼Œå¯¼è‡´nginxæ•´ä½“å‡ºç°cpuä½¿ç”¨ç‡é«˜ï¼ŒæœåŠ¡æŠ¥é”™ç­‰æƒ…å†µï¼Œé€šè¿‡è¿™ä¸ªupstreamè¿æ¥æ•°çš„ç›‘æ§å°±å¯ä»¥è¯†åˆ«å‡º æœ‰é—®é¢˜çš„åç«¯æœåŠ¡ï¼Œå¿«é€ŸæŸ¥å‡ºé—®é¢˜ã€‚</p>
<br/>
<h4 data-id="heading-9">å¼‚å¸¸ç›‘æ§</h4>
<p>å¼‚å¸¸ç›‘æ§æ˜¯æŒ‡åœ¨ä½¿ç”¨luaå¤„ç†è¯·æ±‚æ—¶ï¼Œå¦‚æœæœ‰å€¼å¾—éœ€è¦æ³¨æ„çš„æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨errorçº§åˆ«è¿›è¡Œæ‰“å°ï¼ŒåŒæ—¶é€šè¿‡æ—¥å¿—æ”¶é›†ç³»ç»Ÿå°†errorçº§åˆ«çš„æ—¥å¿—è¿‡æ»¤å‡ºæ¥ï¼Œå¯¼å‡ºåˆ°prometheusä¸­ä½œä¸ºç›‘æ§ã€‚ è¿™æ ·ï¼Œä¸šåŠ¡çš„luaå¼‚å¸¸å’Œç³»ç»Ÿçš„å¼‚å¸¸å°±éƒ½å¯¼å…¥åˆ°prometheusä¸­äº†ï¼Œå¯ä»¥é€šè¿‡æŸ¥çœ‹è¿™éƒ¨åˆ†æœ€æ–°çš„æ•°æ®æ¥æ’æŸ¥å½“å‰ç³»ç»Ÿæ˜¯å¦æœ‰é—®é¢˜ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å¢åŠ ç›‘æ§æ¥åŠæ—¶å‘ç°é—®é¢˜ã€‚</p>
<p>å…³äºæ­¤éƒ¨åˆ†ï¼Œä¹Ÿå¯ä»¥æŸ¥çœ‹ç¬”è€…çš„å¦ä¸€ç¯‡æ–‡ç« <a href="https://juejin.cn/post/7580287891274186815" target="_blank" title="https://juejin.cn/post/7580287891274186815">ç›‘æ§åˆ©å™¨ï¼šjavaå¼‚å¸¸ç›‘æ§</a>ï¼Œè¿™ç¯‡æ–‡ç« å…·ä½“ä»‹ç»äº†å¯¼å‡ºjavaå¼‚å¸¸ç›‘æ§çš„ä¼˜åŠ¿å’Œå®ç°æ–¹å¼ã€‚</p>
<h6 data-id="heading-10">å®‰è£…</h6>
<ol>
<li>å¯ä»¥åœ¨éœ€è¦å…³æ³¨çš„åœ°æ–¹æ‰‹åŠ¨åŠ å…¥æ‰“å°ï¼Œä½¿ç”¨errorçº§åˆ«çš„æ—¥å¿—æ‰“å°ï¼Œå¦‚ ngx.log(ngx.ERR, "there is an error")</li>
<li>errorçº§åˆ«çš„æ—¥å¿—åœ¨æ‰“å°æ—¶ä¼šè‡ªå¸¦[error]çš„å­—ç¬¦ï¼Œåœ¨æ—¥å¿—æ”¶é›†ç«¯å°†nginxæ—¥å¿—ä¸­å¸¦æœ‰[error]å­—ç¬¦çš„æ—¥å¿—ç»Ÿä¸€è½¬å­˜åˆ°ä¸€ä¸ªæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶ä¸­çš„æ—¥å¿—å°±éƒ½æ˜¯erroræ—¥å¿—ï¼ŒåŒ…æ‹¬ç”¨æˆ·æ‰“å°çš„å’Œnginxçš„ç³»ç»Ÿå¼‚å¸¸æ—¥å¿—ã€‚</li>
<li>ä½¿ç”¨mtailè§£æå¼‚å¸¸æ—¥å¿—æ–‡ä»¶ï¼Œå°†nginxçš„å¼‚å¸¸æ—¥å¿—å¯¼å‡ºåˆ°prometheusä¸­</li>
<li>grafanaå¢åŠ ç•Œé¢æ˜¾ç¤ºæœ€æ–°çš„nginxå¼‚å¸¸ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffengdeguisu%2Farticle%2Fblob%2Fmain%2Fopenresty%25E7%259B%2591%25E6%258E%25A7%2Fnginx%25E5%25BC%2582%25E5%25B8%25B8%25E7%259B%2591%25E6%258E%25A7.json" target="_blank" title="https://github.com/fengdeguisu/article/blob/main/openresty%E7%9B%91%E6%8E%A7/nginx%E5%BC%82%E5%B8%B8%E7%9B%91%E6%8E%A7.json" ref="nofollow noopener noreferrer">è¿™æ˜¯jsonæ–‡ä»¶çš„é“¾æ¥</a>,å¯ä»¥é€šè¿‡å¤åˆ¶jsonæ–‡ä»¶çš„å†…å®¹ï¼Œåœ¨grafanaçš„å¯¼å…¥ç•Œé¢å¯¼å…¥ã€‚</li>
</ol>
<h6 data-id="heading-11">ä½¿ç”¨æ–¹å¼</h6>
<p>å¯ä»¥åœ¨ç•Œé¢ç›´æ¥æŸ¥çœ‹ï¼Œæ ¹æ®é€‰æ‹©çš„æ—¥æœŸåŒºé—´ï¼Œä¼šæ˜¾ç¤ºæŒ‡å®šæ—¶é—´èŒƒå›´å†…çš„nginxå¼‚å¸¸ã€‚è¿™ä¸ªç›‘æ§ä¸»è¦æœ‰ä¸‰ç§ç”¨æ³•ï¼š</p>
<ol>
<li>åœ¨prometheusä¸­å¢åŠ ç›‘æ§è§„åˆ™ï¼Œå½“æŸä¸€æ—¶åˆ»çªç„¶å‡ºç°å¾ˆå¤šå¼‚å¸¸æ—¶è§¦å‘æŠ¥è­¦ï¼Œç”¨äºåŠæ—¶å‘ç°é—®é¢˜</li>
<li>åœ¨æ’æŸ¥nginxçš„é—®é¢˜æ—¶ï¼ŒæŸ¥çœ‹æ­¤ç›‘æ§ï¼Œå¯èƒ½ä¼šå‘ç°ä¸€äº›ç³»ç»Ÿå¼‚å¸¸ï¼Œè¯´ä¸å®šå°±èƒ½ç›´æ¥æ‰¾åˆ°é—®é¢˜åŸå› </li>
<li>åœ¨æ’æŸ¥é—®é¢˜ç»“æŸåï¼ŒæŸ¥çœ‹æ­¤ç›‘æ§ï¼Œåªæœ‰ç¡®ä¿è¿™ä¸ªç›‘æ§ä¸­çš„æœ€è¿‘å‡ åˆ†é’Ÿå·²ç»ç¡®å®æ²¡æœ‰æ–°å¼‚å¸¸äº†ï¼Œæ‰èƒ½å¤§æ¦‚ç‡è¯´æ˜nginxçš„é—®é¢˜è¢«è§£å†³äº†ï¼Œåªè¦è¿˜æœ‰ä¸æ–­åœ°æ–°å¢å¼‚å¸¸ï¼Œè¯´æ˜é—®é¢˜å¹¶æœªå½»åº•è§£å†³ã€‚</li>
</ol>
<h4 data-id="heading-12">ç»“è¯­</h4>
<p>ä»¥ä¸Šå°±æ˜¯è¿™ç¯‡æ–‡ç« çš„å†…å®¹ï¼Œä¸»è¦ä»‹ç»äº†ä¸¤ç§openrestyçš„ç›‘æ§æ–¹å¼ï¼Œå¸Œæœ›å¯¹å¤§å®¶ç›‘æ§å’Œæ’æŸ¥nginxé—®é¢˜æœ‰å¸®åŠ©ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Redisson å®æˆ˜æŒ‡å—]]></title>    <link>https://juejin.cn/post/7588104741610323978</link>    <guid>https://juejin.cn/post/7588104741610323978</guid>    <pubDate>2025-12-27T14:44:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588104741610323978" data-draft-id="7588067055481913353" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Redisson å®æˆ˜æŒ‡å—"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-27T14:44:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="GKunLi"/> <meta itemprop="url" content="https://juejin.cn/user/430664725579725"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Redisson å®æˆ˜æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/430664725579725/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    GKunLi
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T14:44:59.000Z" title="Sat Dec 27 2025 14:44:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»33åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Redissonï¼šåˆ†å¸ƒå¼ç³»ç»Ÿçš„Javaç¥å™¨ ğŸš€</h2>
<p>Redissonæ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ã€è®¾è®¡ä¼˜é›…çš„Redis Javaå®¢æˆ·ç«¯ï¼Œå®ƒä¸ä»…ä»…æ˜¯ä¸€ä¸ªç®€å•çš„Redisè¿æ¥å™¨ï¼Œæ›´æ˜¯ä¸€ä¸ªå®Œæ•´çš„åˆ†å¸ƒå¼è§£å†³æ–¹æ¡ˆï¼æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœä½ æ­£åœ¨æ„å»ºä¸€ä¸ªé«˜å¹¶å‘çš„ç”µå•†å¹³å°ï¼Œéœ€è¦å¤„ç†å¤§é‡ç”¨æˆ·çš„ç§’æ€è¯·æ±‚ï¼Œæˆ–è€…éœ€è¦åœ¨å¤šä¸ªæœåŠ¡å®ä¾‹ä¹‹é—´å…±äº«ä¼šè¯çŠ¶æ€ï¼ŒRedissonå°±æ˜¯ä½ çš„å¾—åŠ›åŠ©æ‰‹ã€‚</p>
<p><strong>Redissonçš„æ ¸å¿ƒç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>ğŸ¯ <strong>ä¸°å¯Œçš„åˆ†å¸ƒå¼å¯¹è±¡</strong>ï¼šæä¾›åˆ†å¸ƒå¼é”ã€é›†åˆã€è®¡æ•°å™¨ç­‰Javaå¸¸ç”¨å¯¹è±¡</li>
<li>âš¡ <strong>é«˜æ€§èƒ½</strong>ï¼šåŸºäºNettyå®ç°ï¼Œæ€§èƒ½å“è¶Š</li>
<li>ğŸ”’ <strong>åˆ†å¸ƒå¼é”</strong>ï¼šæ”¯æŒå¯é‡å…¥é”ã€å…¬å¹³é”ã€è”é”ç­‰å¤šç§é”ç±»å‹</li>
<li>ğŸ“Š <strong>åˆ†å¸ƒå¼é›†åˆ</strong>ï¼šæä¾›Mapã€Setã€Listã€Queueç­‰åˆ†å¸ƒå¼é›†åˆç±»å‹</li>
<li>ğŸª <strong>é«˜çº§åŠŸèƒ½</strong>ï¼šæ”¯æŒå¸ƒéš†è¿‡æ»¤å™¨ã€å»¶è¿Ÿé˜Ÿåˆ—ã€åˆ†å¸ƒå¼æœåŠ¡ç­‰</li>
<li>ğŸŒ <strong>å¤šRedisæ¨¡å¼</strong>ï¼šæ”¯æŒå•æœºã€ä¸»ä»ã€å“¨å…µã€é›†ç¾¤ç­‰å¤šç§Rediséƒ¨ç½²æ¨¡å¼</li>
</ul>
<p>Redissonè®©åˆ†å¸ƒå¼ç³»ç»Ÿçš„å¼€å‘å˜å¾—ç®€å•è€Œæœ‰è¶£ï¼Œè®©ä½ çš„ä»£ç åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸­ä¹Ÿèƒ½åƒå•æœºåº”ç”¨ä¸€æ ·ä¼˜é›…åœ°è¿è¡Œã€‚</p>
<h2 data-id="heading-1">é«˜çº§åŠŸèƒ½å®æˆ˜</h2>
<h3 data-id="heading-2">1. åˆ†å¸ƒå¼é”</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.redisson.api.RLock;
<span class="hljs-keyword">import</span> org.redisson.api.RedissonClient;
<span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit;
<span class="hljs-keyword">import</span> java.util.concurrent.locks.Lock;

<span class="hljs-comment">/**
 * åˆ†å¸ƒå¼é”ç”Ÿäº§çº§ä½¿ç”¨ç¤ºä¾‹
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DistributedLockExample</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> RedissonClient redissonClient;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">DistributedLockExample</span><span class="hljs-params">(RedissonClient redissonClient)</span> {
        <span class="hljs-built_in">this</span>.redissonClient = redissonClient;
    }
    
    <span class="hljs-comment">/**
     * å¸¦è¶…æ—¶æ§åˆ¶çš„åˆ†å¸ƒå¼é”
     * 
     * <span class="hljs-doctag">@param</span> lockKey é”çš„key
     * <span class="hljs-doctag">@param</span> leaseTime è‡ªåŠ¨é‡Šæ”¾æ—¶é—´
     * <span class="hljs-doctag">@param</span> unit æ—¶é—´å•ä½
     * <span class="hljs-doctag">@param</span> task éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡
     * <span class="hljs-doctag">@return</span> ä»»åŠ¡æ‰§è¡Œç»“æœ
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">executeWithLock</span><span class="hljs-params">(String lockKey, <span class="hljs-type">long</span> leaseTime, TimeUnit unit, Runnable task)</span> {
        <span class="hljs-type">RLock</span> <span class="hljs-variable">lock</span> <span class="hljs-operator">=</span> redissonClient.getLock(lockKey);
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// å°è¯•è·å–é”ï¼Œæœ€å¤šç­‰å¾…10ç§’ï¼Œé”è‡ªåŠ¨é‡Šæ”¾æ—¶é—´ä¸ºleaseTime</span>
            <span class="hljs-type">boolean</span> <span class="hljs-variable">acquired</span> <span class="hljs-operator">=</span> lock.tryLock(<span class="hljs-number">10</span>, leaseTime, unit);
            <span class="hljs-keyword">if</span> (acquired) {
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-comment">// æ‰§è¡Œä¸šåŠ¡é€»è¾‘</span>
                    task.run();
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                } <span class="hljs-keyword">finally</span> {
                    <span class="hljs-comment">// ç¡®ä¿é”è¢«é‡Šæ”¾ï¼Œé˜²æ­¢æ­»é”</span>
                    <span class="hljs-keyword">if</span> (lock.isHeldByCurrentThread()) {
                        lock.unlock();
                    }
                }
            } <span class="hljs-keyword">else</span> {
                System.out.println(<span class="hljs-string">"è·å–é”å¤±è´¥ï¼Œé”å·²è¢«å…¶ä»–çº¿ç¨‹æŒæœ‰: "</span> + lockKey);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            Thread.currentThread().interrupt();
            System.err.println(<span class="hljs-string">"è·å–é”è¿‡ç¨‹ä¸­è¢«ä¸­æ–­: "</span> + e.getMessage());
            <span class="hljs-comment">// æ¢å¤ä¸­æ–­çŠ¶æ€</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    
    <span class="hljs-comment">/**
     * çœ‹é—¨ç‹—æ¨¡å¼é” - è‡ªåŠ¨ç»­æœŸ
     * 
     * <span class="hljs-doctag">@param</span> lockKey é”çš„key
     * <span class="hljs-doctag">@param</span> task éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">executeWithWatchdogLock</span><span class="hljs-params">(String lockKey, Runnable task)</span> {
        <span class="hljs-type">RLock</span> <span class="hljs-variable">lock</span> <span class="hljs-operator">=</span> redissonClient.getLock(lockKey);
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä½¿ç”¨çœ‹é—¨ç‹—æ¨¡å¼ï¼ŒRedissonä¼šè‡ªåŠ¨ç»­æœŸ</span>
            lock.lock(<span class="hljs-number">30</span>, TimeUnit.SECONDS);
            <span class="hljs-keyword">try</span> {
                task.run();
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            } <span class="hljs-keyword">finally</span> {
                <span class="hljs-comment">// ç¡®ä¿é”è¢«é‡Šæ”¾</span>
                <span class="hljs-keyword">if</span> (lock.isHeldByCurrentThread()) {
                    lock.unlock();
                }
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"æ‰§è¡Œå¸¦é”ä»»åŠ¡æ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + e.getMessage());
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
}
</code></pre>
<h3 data-id="heading-3">2. åˆ†å¸ƒå¼é›†åˆ</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.redisson.api.RList;
<span class="hljs-keyword">import</span> org.redisson.api.RMap;
<span class="hljs-keyword">import</span> org.redisson.api.RSet;
<span class="hljs-keyword">import</span> org.redisson.api.RedissonClient;
<span class="hljs-keyword">import</span> java.util.Collection;
<span class="hljs-keyword">import</span> java.util.Map;

<span class="hljs-comment">/**
 * åˆ†å¸ƒå¼é›†åˆç”Ÿäº§çº§ä½¿ç”¨ç¤ºä¾‹
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DistributedCollectionsExample</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> RedissonClient redissonClient;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">DistributedCollectionsExample</span><span class="hljs-params">(RedissonClient redissonClient)</span> {
        <span class="hljs-built_in">this</span>.redissonClient = redissonClient;
    }
    
    <span class="hljs-comment">/**
     * åˆ†å¸ƒå¼åˆ—è¡¨æ“ä½œ
     * 
     * <span class="hljs-doctag">@param</span> listName åˆ—è¡¨åç§°
     * <span class="hljs-doctag">@param</span> items è¦æ·»åŠ çš„é¡¹ç›®
     * <span class="hljs-doctag">@return</span> æ“ä½œç»“æœ
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">operateList</span><span class="hljs-params">(String listName, Collection&lt;String&gt; items)</span> {
        <span class="hljs-keyword">try</span> {
            RList&lt;String&gt; list = redissonClient.getList(listName);
            
            <span class="hljs-comment">// æ·»åŠ å¤šä¸ªå…ƒç´ </span>
            list.addAll(items);
            
            <span class="hljs-comment">// è·å–åˆ—è¡¨å¤§å°</span>
            <span class="hljs-type">int</span> <span class="hljs-variable">size</span> <span class="hljs-operator">=</span> list.size();
            System.out.println(<span class="hljs-string">"åˆ—è¡¨ "</span> + listName + <span class="hljs-string">" çš„å¤§å°: "</span> + size);
            
            <span class="hljs-comment">// è·å–æŒ‡å®šèŒƒå›´çš„å…ƒç´ </span>
            <span class="hljs-keyword">if</span> (size &gt; <span class="hljs-number">0</span>) {
                <span class="hljs-type">int</span> <span class="hljs-variable">endIndex</span> <span class="hljs-operator">=</span> Math.min(<span class="hljs-number">10</span>, size); <span class="hljs-comment">// æœ€å¤šå–10ä¸ªå…ƒç´ </span>
                java.util.List&lt;String&gt; subList = list.subList(<span class="hljs-number">0</span>, endIndex);
                System.out.println(<span class="hljs-string">"åˆ—è¡¨å‰"</span> + endIndex + <span class="hljs-string">"ä¸ªå…ƒç´ : "</span> + subList);
            }
            
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"æ“ä½œåˆ—è¡¨æ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + e.getMessage());
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    
    <span class="hljs-comment">/**
     * åˆ†å¸ƒå¼Mapæ“ä½œ
     * 
     * <span class="hljs-doctag">@param</span> mapName Mapåç§°
     * <span class="hljs-doctag">@param</span> data è¦å­˜å‚¨çš„æ•°æ®
     * <span class="hljs-doctag">@return</span> æ“ä½œç»“æœ
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">operateMap</span><span class="hljs-params">(String mapName, Map&lt;String, Object&gt; data)</span> {
        <span class="hljs-keyword">try</span> {
            RMap&lt;String, Object&gt; map = redissonClient.getMap(mapName);
            
            <span class="hljs-comment">// æ‰¹é‡æ·»åŠ æ•°æ®</span>
            map.putAll(data);
            
            <span class="hljs-comment">// åŸå­æ€§æ“ä½œç¤ºä¾‹ï¼šä»…å½“keyä¸å­˜åœ¨æ—¶æ‰æ·»åŠ </span>
            map.putIfAbsent(<span class="hljs-string">"newKey"</span>, <span class="hljs-string">"newValue"</span>);
            
            <span class="hljs-comment">// è·å–æ‰€æœ‰é”®å€¼å¯¹</span>
            System.out.println(<span class="hljs-string">"Map "</span> + mapName + <span class="hljs-string">" çš„æ‰€æœ‰é”®å€¼å¯¹: "</span> + map.readAllMap());
            
            <span class="hljs-comment">// è·å–Mapå¤§å°</span>
            <span class="hljs-type">int</span> <span class="hljs-variable">size</span> <span class="hljs-operator">=</span> map.size();
            System.out.println(<span class="hljs-string">"Map "</span> + mapName + <span class="hljs-string">" çš„å¤§å°: "</span> + size);
            
            <span class="hljs-comment">// å®‰å…¨åˆ é™¤é”®å€¼å¯¹</span>
            <span class="hljs-type">Object</span> <span class="hljs-variable">removedValue</span> <span class="hljs-operator">=</span> map.remove(<span class="hljs-string">"tempKey"</span>);
            System.out.println(<span class="hljs-string">"åˆ é™¤çš„é”®å€¼å¯¹: "</span> + removedValue);
            
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"æ“ä½œMapæ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + e.getMessage());
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    
    <span class="hljs-comment">/**
     * åˆ†å¸ƒå¼Setæ“ä½œ
     * 
     * <span class="hljs-doctag">@param</span> setName Setåç§°
     * <span class="hljs-doctag">@param</span> elements è¦æ·»åŠ çš„å…ƒç´ 
     * <span class="hljs-doctag">@return</span> æ“ä½œç»“æœ
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">operateSet</span><span class="hljs-params">(String setName, Collection&lt;String&gt; elements)</span> {
        <span class="hljs-keyword">try</span> {
            RSet&lt;String&gt; set = redissonClient.getSet(setName);
            
            <span class="hljs-comment">// æ·»åŠ å…ƒç´ å¹¶è¿”å›æ˜¯å¦æˆåŠŸæ·»åŠ ï¼ˆtrueè¡¨ç¤ºå…ƒç´ ä¸å­˜åœ¨ï¼Œfalseè¡¨ç¤ºå·²å­˜åœ¨ï¼‰</span>
            <span class="hljs-keyword">for</span> (String element : elements) {
                <span class="hljs-type">boolean</span> <span class="hljs-variable">added</span> <span class="hljs-operator">=</span> set.add(element);
                <span class="hljs-keyword">if</span> (!added) {
                    System.out.println(<span class="hljs-string">"å…ƒç´ å·²å­˜åœ¨: "</span> + element);
                }
            }
            
            <span class="hljs-comment">// æ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨</span>
            <span class="hljs-type">boolean</span> <span class="hljs-variable">contains</span> <span class="hljs-operator">=</span> set.contains(<span class="hljs-string">"checkElement"</span>);
            System.out.println(<span class="hljs-string">"Set "</span> + setName + <span class="hljs-string">" åŒ…å« 'checkElement': "</span> + contains);
            
            <span class="hljs-comment">// è·å–Setå¤§å°</span>
            <span class="hljs-type">int</span> <span class="hljs-variable">size</span> <span class="hljs-operator">=</span> set.size();
            System.out.println(<span class="hljs-string">"Set "</span> + setName + <span class="hljs-string">" çš„å¤§å°: "</span> + size);
            
            <span class="hljs-comment">// è·å–æ‰€æœ‰å…ƒç´ </span>
            java.util.Set&lt;String&gt; allElements = set.readAll();
            System.out.println(<span class="hljs-string">"Set "</span> + setName + <span class="hljs-string">" çš„æ‰€æœ‰å…ƒç´ : "</span> + allElements);
            
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"æ“ä½œSetæ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + e.getMessage());
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
}
</code></pre>
<h3 data-id="heading-4">3. åˆ†å¸ƒå¼è®¡æ•°å™¨</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.redisson.api.RAtomicLong;
<span class="hljs-keyword">import</span> org.redisson.api.RCountDownLatch;
<span class="hljs-keyword">import</span> org.redisson.api.RedissonClient;
<span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit;

<span class="hljs-comment">/**
 * åˆ†å¸ƒå¼è®¡æ•°å™¨ç”Ÿäº§çº§ä½¿ç”¨ç¤ºä¾‹
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DistributedCountersExample</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> RedissonClient redissonClient;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">DistributedCountersExample</span><span class="hljs-params">(RedissonClient redissonClient)</span> {
        <span class="hljs-built_in">this</span>.redissonClient = redissonClient;
    }
    
    <span class="hljs-comment">/**
     * åŸå­é•¿æ•´å‹è®¡æ•°å™¨æ“ä½œ
     * 
     * <span class="hljs-doctag">@param</span> counterName è®¡æ•°å™¨åç§°
     * <span class="hljs-doctag">@return</span> å½“å‰è®¡æ•°å€¼
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">operateAtomicCounter</span><span class="hljs-params">(String counterName)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">RAtomicLong</span> <span class="hljs-variable">atomicLong</span> <span class="hljs-operator">=</span> redissonClient.getAtomicLong(counterName);
            
            <span class="hljs-comment">// åŸå­é€’å¢å¹¶è¿”å›æ–°å€¼</span>
            <span class="hljs-type">long</span> <span class="hljs-variable">newValue</span> <span class="hljs-operator">=</span> atomicLong.incrementAndGet();
            System.out.println(<span class="hljs-string">"è®¡æ•°å™¨ "</span> + counterName + <span class="hljs-string">" é€’å¢åå€¼: "</span> + newValue);
            
            <span class="hljs-comment">// åŸå­é€’å‡å¹¶è¿”å›æ–°å€¼</span>
            <span class="hljs-type">long</span> <span class="hljs-variable">decrementedValue</span> <span class="hljs-operator">=</span> atomicLong.decrementAndGet();
            System.out.println(<span class="hljs-string">"è®¡æ•°å™¨ "</span> + counterName + <span class="hljs-string">" é€’å‡åå€¼: "</span> + decrementedValue);
            
            <span class="hljs-comment">// è·å–å½“å‰å€¼</span>
            <span class="hljs-type">long</span> <span class="hljs-variable">currentValue</span> <span class="hljs-operator">=</span> atomicLong.get();
            System.out.println(<span class="hljs-string">"è®¡æ•°å™¨ "</span> + counterName + <span class="hljs-string">" å½“å‰å€¼: "</span> + currentValue);
            
            <span class="hljs-comment">// æ¡ä»¶æ›´æ–° - CASæ“ä½œ</span>
            <span class="hljs-type">boolean</span> <span class="hljs-variable">updated</span> <span class="hljs-operator">=</span> atomicLong.compareAndSet(currentValue, currentValue + <span class="hljs-number">10</span>);
            <span class="hljs-keyword">if</span> (updated) {
                System.out.println(<span class="hljs-string">"è®¡æ•°å™¨ "</span> + counterName + <span class="hljs-string">" CASæ›´æ–°æˆåŠŸ"</span>);
            } <span class="hljs-keyword">else</span> {
                System.out.println(<span class="hljs-string">"è®¡æ•°å™¨ "</span> + counterName + <span class="hljs-string">" CASæ›´æ–°å¤±è´¥"</span>);
            }
            
            <span class="hljs-keyword">return</span> atomicLong.get();
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"æ“ä½œåŸå­è®¡æ•°å™¨æ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + e.getMessage());
            <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
        }
    }
    
    <span class="hljs-comment">/**
     * åˆ†å¸ƒå¼CountDownLatchæ“ä½œ
     * 
     * <span class="hljs-doctag">@param</span> latchName å€’è®¡æ—¶å™¨åç§°
     * <span class="hljs-doctag">@param</span> count åˆå§‹è®¡æ•°
     * <span class="hljs-doctag">@param</span> task å¾…æ‰§è¡Œçš„ä»»åŠ¡
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">operateCountDownLatch</span><span class="hljs-params">(String latchName, <span class="hljs-type">int</span> count, Runnable task)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">RCountDownLatch</span> <span class="hljs-variable">latch</span> <span class="hljs-operator">=</span> redissonClient.getCountDownLatch(latchName);
            
            <span class="hljs-comment">// è®¾ç½®åˆå§‹è®¡æ•°ï¼ˆä»…åœ¨è®¡æ•°ä¸º0æ—¶æœ‰æ•ˆï¼‰</span>
            <span class="hljs-keyword">if</span> (latch.getCount() == <span class="hljs-number">0</span>) {
                latch.trySetCount(count);
            }
            
            System.out.println(<span class="hljs-string">"å€’è®¡æ—¶å™¨ "</span> + latchName + <span class="hljs-string">" åˆå§‹è®¡æ•°: "</span> + latch.getCount());
            
            <span class="hljs-comment">// å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œä»»åŠ¡å¹¶å€’è®¡æ—¶</span>
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
                <span class="hljs-keyword">try</span> {
                    task.run();
                    <span class="hljs-comment">// ä»»åŠ¡å®Œæˆï¼Œå€’è®¡æ—¶</span>
                    latch.countDown();
                    System.out.println(<span class="hljs-string">"ä»»åŠ¡å®Œæˆï¼Œå€’è®¡æ—¶å™¨ "</span> + latchName + <span class="hljs-string">" å‡1"</span>);
                } <span class="hljs-keyword">catch</span> (Exception e) {
                    System.err.println(<span class="hljs-string">"æ‰§è¡Œä»»åŠ¡æ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + e.getMessage());
                }
            }).start();
            
            <span class="hljs-comment">// ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆï¼ˆå¸¦è¶…æ—¶ï¼‰</span>
            <span class="hljs-type">boolean</span> <span class="hljs-variable">completed</span> <span class="hljs-operator">=</span> latch.await(<span class="hljs-number">30</span>, TimeUnit.SECONDS);
            <span class="hljs-keyword">if</span> (completed) {
                System.out.println(<span class="hljs-string">"æ‰€æœ‰ä»»åŠ¡å·²å®Œæˆ"</span>);
            } <span class="hljs-keyword">else</span> {
                System.out.println(<span class="hljs-string">"ç­‰å¾…è¶…æ—¶ï¼Œä»»åŠ¡å¯èƒ½æœªå®Œæˆ"</span>);
            }
            
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            Thread.currentThread().interrupt();
            System.err.println(<span class="hljs-string">"ç­‰å¾…å€’è®¡æ—¶å™¨æ—¶è¢«ä¸­æ–­: "</span> + e.getMessage());
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"æ“ä½œå€’è®¡æ—¶å™¨æ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + e.getMessage());
        }
    }
}
</code></pre>
<h3 data-id="heading-5">4. ä¿¡å·é‡ (Semaphore)</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.redisson.api.RSemaphore;
<span class="hljs-keyword">import</span> org.redisson.api.RedissonClient;
<span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit;

<span class="hljs-comment">/**
 * ä¿¡å·é‡ç”Ÿäº§çº§ä½¿ç”¨ç¤ºä¾‹
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SemaphoreExample</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> RedissonClient redissonClient;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">SemaphoreExample</span><span class="hljs-params">(RedissonClient redissonClient)</span> {
        <span class="hljs-built_in">this</span>.redissonClient = redissonClient;
    }
    
    <span class="hljs-comment">/**
     * ä¿¡å·é‡èµ„æºè®¿é—®æ§åˆ¶
     * 
     * <span class="hljs-doctag">@param</span> semaphoreName ä¿¡å·é‡åç§°
     * <span class="hljs-doctag">@param</span> permits åˆå§‹è®¸å¯è¯æ•°é‡
     * <span class="hljs-doctag">@param</span> task éœ€è¦é™åˆ¶å¹¶å‘çš„ä»»åŠ¡
     * <span class="hljs-doctag">@return</span> æ“ä½œç»“æœ
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">controlAccessWithSemaphore</span><span class="hljs-params">(String semaphoreName, <span class="hljs-type">int</span> <span class="hljs-keyword">permits</span>, Runnable task)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">RSemaphore</span> <span class="hljs-variable">semaphore</span> <span class="hljs-operator">=</span> redissonClient.getSemaphore(semaphoreName);
            
            <span class="hljs-comment">// åˆå§‹åŒ–è®¸å¯è¯æ•°é‡ï¼ˆä»…åœ¨è®¸å¯è¯ä¸º0æ—¶è®¾ç½®ï¼‰</span>
            semaphore.trySetPermits(<span class="hljs-keyword">permits</span>);
            
            <span class="hljs-comment">// è·å–è®¸å¯è¯ï¼ˆå¸¦è¶…æ—¶ï¼‰</span>
            <span class="hljs-type">boolean</span> <span class="hljs-variable">acquired</span> <span class="hljs-operator">=</span> semaphore.tryAcquire(<span class="hljs-number">5</span>, TimeUnit.SECONDS);
            <span class="hljs-keyword">if</span> (acquired) {
                <span class="hljs-keyword">try</span> {
                    System.out.println(<span class="hljs-string">"è·å–åˆ°è®¸å¯è¯ï¼Œå¼€å§‹æ‰§è¡Œä»»åŠ¡"</span>);
                    task.run();
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                } <span class="hljs-keyword">finally</span> {
                    <span class="hljs-comment">// é‡Šæ”¾è®¸å¯è¯</span>
                    semaphore.release();
                    System.out.println(<span class="hljs-string">"ä»»åŠ¡å®Œæˆï¼Œé‡Šæ”¾è®¸å¯è¯"</span>);
                }
            } <span class="hljs-keyword">else</span> {
                System.out.println(<span class="hljs-string">"è·å–è®¸å¯è¯è¶…æ—¶ï¼Œèµ„æºè®¿é—®å—é™"</span>);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            Thread.currentThread().interrupt();
            System.err.println(<span class="hljs-string">"è·å–è®¸å¯è¯æ—¶è¢«ä¸­æ–­: "</span> + e.getMessage());
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"ä½¿ç”¨ä¿¡å·é‡æ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + e.getMessage());
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    
    <span class="hljs-comment">/**
     * æ‰¹é‡è·å–å’Œé‡Šæ”¾è®¸å¯è¯
     * 
     * <span class="hljs-doctag">@param</span> semaphoreName ä¿¡å·é‡åç§°
     * <span class="hljs-doctag">@param</span> permitsToAcquire è¦è·å–çš„è®¸å¯è¯æ•°é‡
     * <span class="hljs-doctag">@param</span> permitsToRelease è¦é‡Šæ”¾çš„è®¸å¯è¯æ•°é‡
     * <span class="hljs-doctag">@return</span> æ“ä½œç»“æœ
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">batchOperateSemaphore</span><span class="hljs-params">(String semaphoreName, <span class="hljs-type">int</span> permitsToAcquire, <span class="hljs-type">int</span> permitsToRelease)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">RSemaphore</span> <span class="hljs-variable">semaphore</span> <span class="hljs-operator">=</span> redissonClient.getSemaphore(semaphoreName);
            
            <span class="hljs-comment">// æ‰¹é‡è·å–è®¸å¯è¯</span>
            <span class="hljs-type">boolean</span> <span class="hljs-variable">acquired</span> <span class="hljs-operator">=</span> semaphore.tryAcquire(permitsToAcquire, <span class="hljs-number">10</span>, TimeUnit.SECONDS);
            <span class="hljs-keyword">if</span> (acquired) {
                <span class="hljs-keyword">try</span> {
                    System.out.println(<span class="hljs-string">"æ‰¹é‡è·å– "</span> + permitsToAcquire + <span class="hljs-string">" ä¸ªè®¸å¯è¯æˆåŠŸ"</span>);
                    <span class="hljs-comment">// æ‰§è¡Œéœ€è¦å¤šè®¸å¯è¯çš„ä»»åŠ¡</span>
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                } <span class="hljs-keyword">finally</span> {
                    <span class="hljs-comment">// æ‰¹é‡é‡Šæ”¾è®¸å¯è¯</span>
                    semaphore.release(permitsToRelease);
                    System.out.println(<span class="hljs-string">"æ‰¹é‡é‡Šæ”¾ "</span> + permitsToRelease + <span class="hljs-string">" ä¸ªè®¸å¯è¯"</span>);
                }
            } <span class="hljs-keyword">else</span> {
                System.out.println(<span class="hljs-string">"æ‰¹é‡è·å– "</span> + permitsToAcquire + <span class="hljs-string">" ä¸ªè®¸å¯è¯å¤±è´¥"</span>);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            Thread.currentThread().interrupt();
            System.err.println(<span class="hljs-string">"æ‰¹é‡è·å–è®¸å¯è¯æ—¶è¢«ä¸­æ–­: "</span> + e.getMessage());
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"æ‰¹é‡æ“ä½œä¿¡å·é‡æ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + e.getMessage());
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
}
</code></pre>
<h3 data-id="heading-6">5. åˆ†å¸ƒå¼é˜Ÿåˆ—</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.redisson.api.RBlockingQueue;
<span class="hljs-keyword">import</span> org.redisson.api.RQueue;
<span class="hljs-keyword">import</span> org.redisson.api.RedissonClient;
<span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit;

<span class="hljs-comment">/**
 * åˆ†å¸ƒå¼é˜Ÿåˆ—ç”Ÿäº§çº§ä½¿ç”¨ç¤ºä¾‹
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DistributedQueueExample</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> RedissonClient redissonClient;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">DistributedQueueExample</span><span class="hljs-params">(RedissonClient redissonClient)</span> {
        <span class="hljs-built_in">this</span>.redissonClient = redissonClient;
    }
    
    <span class="hljs-comment">/**
     * æ™®é€šé˜Ÿåˆ—æ“ä½œ
     * 
     * <span class="hljs-doctag">@param</span> queueName é˜Ÿåˆ—åç§°
     * <span class="hljs-doctag">@param</span> items è¦æ·»åŠ çš„é¡¹ç›®
     * <span class="hljs-doctag">@return</span> æ“ä½œç»“æœ
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">operateQueue</span><span class="hljs-params">(String queueName, java.util.List&lt;String&gt; items)</span> {
        <span class="hljs-keyword">try</span> {
            RQueue&lt;String&gt; queue = redissonClient.getQueue(queueName);
            
            <span class="hljs-comment">// æ·»åŠ å¤šä¸ªå…ƒç´ åˆ°é˜Ÿåˆ—</span>
            <span class="hljs-keyword">for</span> (String item : items) {
                <span class="hljs-type">boolean</span> <span class="hljs-variable">added</span> <span class="hljs-operator">=</span> queue.offer(item);
                <span class="hljs-keyword">if</span> (!added) {
                    System.out.println(<span class="hljs-string">"é˜Ÿåˆ—å·²æ»¡ï¼Œæ— æ³•æ·»åŠ å…ƒç´ : "</span> + item);
                }
            }
            
            <span class="hljs-comment">// è·å–é˜Ÿåˆ—å¤§å°</span>
            <span class="hljs-type">int</span> <span class="hljs-variable">size</span> <span class="hljs-operator">=</span> queue.size();
            System.out.println(<span class="hljs-string">"é˜Ÿåˆ— "</span> + queueName + <span class="hljs-string">" å½“å‰å¤§å°: "</span> + size);
            
            <span class="hljs-comment">// éé˜»å¡è·å–å…ƒç´ </span>
            <span class="hljs-type">String</span> <span class="hljs-variable">element</span> <span class="hljs-operator">=</span> queue.poll(); <span class="hljs-comment">// è·å–å¹¶ç§»é™¤é˜Ÿé¦–å…ƒç´ ï¼Œå¦‚æœé˜Ÿåˆ—ä¸ºç©ºè¿”å›null</span>
            <span class="hljs-keyword">if</span> (element != <span class="hljs-literal">null</span>) {
                System.out.println(<span class="hljs-string">"ä»é˜Ÿåˆ—è·å–å…ƒç´ : "</span> + element);
            } <span class="hljs-keyword">else</span> {
                System.out.println(<span class="hljs-string">"é˜Ÿåˆ—ä¸ºç©º"</span>);
            }
            
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"æ“ä½œé˜Ÿåˆ—æ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + e.getMessage());
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    
}
</code></pre>
<h3 data-id="heading-7">6. å»¶è¿Ÿé˜Ÿåˆ— (Delayed Queue)</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.redisson.api.RBlockingQueue;
<span class="hljs-keyword">import</span> org.redisson.api.RDelayedQueue;
<span class="hljs-keyword">import</span> org.redisson.api.RedissonClient;
<span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit;

<span class="hljs-comment">/**
 * å»¶è¿Ÿé˜Ÿåˆ—ç”Ÿäº§çº§ä½¿ç”¨ç¤ºä¾‹
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DelayedQueueExample</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> RedissonClient redissonClient;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">DelayedQueueExample</span><span class="hljs-params">(RedissonClient redissonClient)</span> {
        <span class="hljs-built_in">this</span>.redissonClient = redissonClient;
    }
    
    <span class="hljs-comment">/**
     * å»¶è¿Ÿé˜Ÿåˆ—æ“ä½œ
     * 
     * <span class="hljs-doctag">@param</span> queueName é˜Ÿåˆ—åç§°
     * <span class="hljs-doctag">@param</span> delayedItems å»¶è¿Ÿé¡¹ç›®åˆ—è¡¨ï¼ŒåŒ…å«é¡¹ç›®å’Œå»¶è¿Ÿæ—¶é—´
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">operateDelayedQueue</span><span class="hljs-params">(String queueName, java.util.List&lt;DelayedItem&gt; delayedItems)</span> {
        RBlockingQueue&lt;String&gt; queue = redissonClient.getBlockingQueue(queueName);
        RDelayedQueue&lt;String&gt; delayedQueue = redissonClient.getDelayedQueue(queue);
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// æ·»åŠ å»¶è¿Ÿå…ƒç´ </span>
            <span class="hljs-keyword">for</span> (DelayedItem item : delayedItems) {
                delayedQueue.offer(item.item, item.delay, item.unit);
                System.out.println(<span class="hljs-string">"æ·»åŠ å»¶è¿Ÿå…ƒç´ : "</span> + item.item + 
                                 <span class="hljs-string">"ï¼Œå»¶è¿Ÿæ—¶é—´: "</span> + item.delay + <span class="hljs-string">" "</span> + item.unit);
            }
            
            <span class="hljs-comment">// å¯åŠ¨æ¶ˆè´¹è€…çº¿ç¨‹å¤„ç†å»¶è¿Ÿå…ƒç´ </span>
            <span class="hljs-type">Thread</span> <span class="hljs-variable">consumerThread</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-keyword">while</span> (!Thread.currentThread().isInterrupted()) {
                        <span class="hljs-comment">// é˜»å¡ç­‰å¾…å»¶è¿Ÿæ—¶é—´åˆ°è¾¾çš„å…ƒç´ </span>
                        <span class="hljs-type">String</span> <span class="hljs-variable">item</span> <span class="hljs-operator">=</span> queue.take();
                        System.out.println(<span class="hljs-string">"è·å–åˆ°å»¶è¿Ÿå…ƒç´ : "</span> + item + 
                                         <span class="hljs-string">"ï¼Œåˆ°è¾¾æ—¶é—´: "</span> + System.currentTimeMillis());
                        
                        <span class="hljs-comment">// å¤„ç†å»¶è¿Ÿå…ƒç´ </span>
                        processDelayedItem(item);
                    }
                } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                    Thread.currentThread().interrupt();
                    System.out.println(<span class="hljs-string">"æ¶ˆè´¹è€…çº¿ç¨‹è¢«ä¸­æ–­"</span>);
                } <span class="hljs-keyword">catch</span> (Exception e) {
                    System.err.println(<span class="hljs-string">"å¤„ç†å»¶è¿Ÿå…ƒç´ æ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + e.getMessage());
                }
            });
            
            consumerThread.start();
            
            <span class="hljs-comment">// ç­‰å¾…ä¸€æ®µæ—¶é—´è§‚å¯Ÿç»“æœ</span>
            Thread.sleep(<span class="hljs-number">10000</span>);
            
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            Thread.currentThread().interrupt();
            System.err.println(<span class="hljs-string">"ä¸»çº¿ç¨‹è¢«ä¸­æ–­: "</span> + e.getMessage());
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"æ“ä½œå»¶è¿Ÿé˜Ÿåˆ—æ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + e.getMessage());
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-comment">// é‡è¦ï¼šä½¿ç”¨å®Œå»¶è¿Ÿé˜Ÿåˆ—åå¿…é¡»é”€æ¯</span>
            delayedQueue.destroy();
        }
    }
    
    <span class="hljs-comment">/**
     * å¤„ç†å»¶è¿Ÿå…ƒç´ çš„ä¸šåŠ¡é€»è¾‘
     * 
     * <span class="hljs-doctag">@param</span> item å»¶è¿Ÿå…ƒç´ 
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processDelayedItem</span><span class="hljs-params">(String item)</span> {
        System.out.println(<span class="hljs-string">"å¤„ç†å»¶è¿Ÿå…ƒç´ : "</span> + item);
        <span class="hljs-comment">// å®é™…ä¸šåŠ¡å¤„ç†é€»è¾‘</span>
    }
    
    <span class="hljs-comment">/**
     * å»¶è¿Ÿå…ƒç´ å°è£…ç±»
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DelayedItem</span> {
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> String item;
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> delay;
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> TimeUnit unit;
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">DelayedItem</span><span class="hljs-params">(String item, <span class="hljs-type">long</span> delay, TimeUnit unit)</span> {
            <span class="hljs-built_in">this</span>.item = item;
            <span class="hljs-built_in">this</span>.delay = delay;
            <span class="hljs-built_in">this</span>.unit = unit;
        }
    }
}
</code></pre>
<h3 data-id="heading-8">7. å‘å¸ƒ/è®¢é˜…æ¨¡å¼</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.redisson.api.RTopic;
<span class="hljs-keyword">import</span> org.redisson.api.RedissonClient;
<span class="hljs-keyword">import</span> org.redisson.api.listener.MessageListener;
<span class="hljs-keyword">import</span> java.util.concurrent.CompletableFuture;
<span class="hljs-keyword">import</span> java.util.concurrent.ExecutorService;
<span class="hljs-keyword">import</span> java.util.concurrent.Executors;

<span class="hljs-comment">/**
 * å‘å¸ƒ/è®¢é˜…æ¨¡å¼ç”Ÿäº§çº§ä½¿ç”¨ç¤ºä¾‹
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PubSubExample</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> RedissonClient redissonClient;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ExecutorService executorService;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">PubSubExample</span><span class="hljs-params">(RedissonClient redissonClient)</span> {
        <span class="hljs-built_in">this</span>.redissonClient = redissonClient;
        <span class="hljs-built_in">this</span>.executorService = Executors.newCachedThreadPool();
    }
    
    <span class="hljs-comment">/**
     * è®¢é˜…æ¶ˆæ¯å¹¶å¤„ç†
     * 
     * <span class="hljs-doctag">@param</span> topicName ä¸»é¢˜åç§°
     * <span class="hljs-doctag">@param</span> messageHandler æ¶ˆæ¯å¤„ç†å™¨
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">subscribeTopic</span><span class="hljs-params">(String topicName, java.util.function.Consumer&lt;String&gt; messageHandler)</span> {
        <span class="hljs-type">RTopic</span> <span class="hljs-variable">topic</span> <span class="hljs-operator">=</span> redissonClient.getTopic(topicName);
        
        <span class="hljs-comment">// æ·»åŠ æ¶ˆæ¯ç›‘å¬å™¨</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">listenerId</span> <span class="hljs-operator">=</span> topic.addListener(String.class, <span class="hljs-keyword">new</span> <span class="hljs-title class_">MessageListener</span>&lt;String&gt;() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onMessage</span><span class="hljs-params">(CharSequence channel, String msg)</span> {
                System.out.println(<span class="hljs-string">"æ”¶åˆ°æ¶ˆæ¯ - é¢‘é“: "</span> + channel + <span class="hljs-string">"ï¼Œå†…å®¹: "</span> + msg);
                
                <span class="hljs-comment">// åœ¨ç‹¬ç«‹çº¿ç¨‹ä¸­å¤„ç†æ¶ˆæ¯ï¼Œé¿å…é˜»å¡Redissonçš„æ¶ˆæ¯å¤„ç†çº¿ç¨‹</span>
                executorService.submit(() -&gt; {
                    <span class="hljs-keyword">try</span> {
                        messageHandler.accept(msg);
                    } <span class="hljs-keyword">catch</span> (Exception e) {
                        System.err.println(<span class="hljs-string">"å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + e.getMessage());
                    }
                });
            }
        });
        
        System.out.println(<span class="hljs-string">"å·²è®¢é˜…ä¸»é¢˜: "</span> + topicName + <span class="hljs-string">"ï¼Œç›‘å¬å™¨ID: "</span> + listenerId);
    }
    
    <span class="hljs-comment">/**
     * å‘å¸ƒæ¶ˆæ¯
     * 
     * <span class="hljs-doctag">@param</span> topicName ä¸»é¢˜åç§°
     * <span class="hljs-doctag">@param</span> message æ¶ˆæ¯å†…å®¹
     * <span class="hljs-doctag">@return</span> å‘å¸ƒçš„æ¶ˆæ¯æ•°é‡
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">publishMessage</span><span class="hljs-params">(String topicName, String message)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">RTopic</span> <span class="hljs-variable">topic</span> <span class="hljs-operator">=</span> redissonClient.getTopic(topicName);
            
            <span class="hljs-comment">// å‘å¸ƒæ¶ˆæ¯</span>
            <span class="hljs-type">long</span> <span class="hljs-variable">receivers</span> <span class="hljs-operator">=</span> topic.publish(message);
            System.out.println(<span class="hljs-string">"æ¶ˆæ¯å·²å‘å¸ƒåˆ°ä¸»é¢˜: "</span> + topicName + 
                             <span class="hljs-string">"ï¼Œæ¥æ”¶è€…æ•°é‡: "</span> + receivers + 
                             <span class="hljs-string">"ï¼Œæ¶ˆæ¯å†…å®¹: "</span> + message);
            
            <span class="hljs-keyword">return</span> receivers;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"å‘å¸ƒæ¶ˆæ¯æ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + e.getMessage());
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        }
    }
    
    <span class="hljs-comment">/**
     * å¼‚æ­¥å‘å¸ƒæ¶ˆæ¯
     * 
     * <span class="hljs-doctag">@param</span> topicName ä¸»é¢˜åç§°
     * <span class="hljs-doctag">@param</span> message æ¶ˆæ¯å†…å®¹
     * <span class="hljs-doctag">@return</span> CompletableFutureè¡¨ç¤ºå‘å¸ƒç»“æœ
     */</span>
    <span class="hljs-keyword">public</span> CompletableFuture&lt;Long&gt; <span class="hljs-title function_">publishMessageAsync</span><span class="hljs-params">(String topicName, String message)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">RTopic</span> <span class="hljs-variable">topic</span> <span class="hljs-operator">=</span> redissonClient.getTopic(topicName);
            
            <span class="hljs-comment">// å¼‚æ­¥å‘å¸ƒæ¶ˆæ¯</span>
            <span class="hljs-keyword">return</span> topic.publishAsync(message)
                      .toCompletableFuture()
                      .whenComplete((result, throwable) -&gt; {
                          <span class="hljs-keyword">if</span> (throwable != <span class="hljs-literal">null</span>) {
                              System.err.println(<span class="hljs-string">"å¼‚æ­¥å‘å¸ƒæ¶ˆæ¯å¤±è´¥: "</span> + throwable.getMessage());
                          } <span class="hljs-keyword">else</span> {
                              System.out.println(<span class="hljs-string">"å¼‚æ­¥å‘å¸ƒæ¶ˆæ¯æˆåŠŸï¼Œæ¥æ”¶è€…æ•°é‡: "</span> + result);
                          }
                      });
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"å¼‚æ­¥å‘å¸ƒæ¶ˆæ¯æ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + e.getMessage());
            <span class="hljs-keyword">return</span> CompletableFuture.completedFuture(<span class="hljs-number">0L</span>);
        }
    }
    
    <span class="hljs-comment">/**
     * å…³é—­èµ„æº
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">shutdown</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> (executorService != <span class="hljs-literal">null</span> &amp;&amp; !executorService.isShutdown()) {
            executorService.shutdown();
        }
    }
}
</code></pre>
<h3 data-id="heading-9">8. å¸ƒéš†è¿‡æ»¤å™¨ (Bloom Filter)</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.redisson.api.RBloomFilter;
<span class="hljs-keyword">import</span> org.redisson.api.RedissonClient;
<span class="hljs-keyword">import</span> java.util.Collection;

<span class="hljs-comment">/**
 * å¸ƒéš†è¿‡æ»¤å™¨ç”Ÿäº§çº§ä½¿ç”¨ç¤ºä¾‹
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BloomFilterExample</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> RedissonClient redissonClient;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">BloomFilterExample</span><span class="hljs-params">(RedissonClient redissonClient)</span> {
        <span class="hljs-built_in">this</span>.redissonClient = redissonClient;
    }
    
    <span class="hljs-comment">/**
     * åˆ›å»ºå¹¶åˆå§‹åŒ–å¸ƒéš†è¿‡æ»¤å™¨
     * 
     * <span class="hljs-doctag">@param</span> filterName è¿‡æ»¤å™¨åç§°
     * <span class="hljs-doctag">@param</span> expectedInsertions é¢„æœŸæ’å…¥å…ƒç´ æ•°é‡
     * <span class="hljs-doctag">@param</span> falseProbability è¯¯åˆ¤ç‡
     * <span class="hljs-doctag">@return</span> å¸ƒéš†è¿‡æ»¤å™¨å®ä¾‹
     */</span>
    <span class="hljs-keyword">public</span> RBloomFilter&lt;String&gt; <span class="hljs-title function_">createBloomFilter</span><span class="hljs-params">(String filterName, 
                                                  <span class="hljs-type">long</span> expectedInsertions, 
                                                  <span class="hljs-type">double</span> falseProbability)</span> {
        <span class="hljs-keyword">try</span> {
            RBloomFilter&lt;String&gt; bloomFilter = redissonClient.getBloomFilter(filterName);
            
            <span class="hljs-comment">// åˆå§‹åŒ–å¸ƒéš†è¿‡æ»¤å™¨ï¼ˆä»…åœ¨æœªåˆå§‹åŒ–æ—¶è®¾ç½®ï¼‰</span>
            <span class="hljs-keyword">if</span> (!bloomFilter.isExists()) {
                <span class="hljs-type">boolean</span> <span class="hljs-variable">initialized</span> <span class="hljs-operator">=</span> bloomFilter.tryInit(expectedInsertions, falseProbability);
                <span class="hljs-keyword">if</span> (initialized) {
                    System.out.println(<span class="hljs-string">"å¸ƒéš†è¿‡æ»¤å™¨ "</span> + filterName + 
                                     <span class="hljs-string">" åˆå§‹åŒ–æˆåŠŸï¼Œé¢„æœŸæ’å…¥æ•°é‡: "</span> + expectedInsertions + 
                                     <span class="hljs-string">"ï¼Œè¯¯åˆ¤ç‡: "</span> + falseProbability);
                } <span class="hljs-keyword">else</span> {
                    System.out.println(<span class="hljs-string">"å¸ƒéš†è¿‡æ»¤å™¨ "</span> + filterName + <span class="hljs-string">" å·²å­˜åœ¨ï¼Œè·³è¿‡åˆå§‹åŒ–"</span>);
                }
            } <span class="hljs-keyword">else</span> {
                System.out.println(<span class="hljs-string">"å¸ƒéš†è¿‡æ»¤å™¨ "</span> + filterName + <span class="hljs-string">" å·²å­˜åœ¨"</span>);
            }
            
            <span class="hljs-keyword">return</span> bloomFilter;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"åˆ›å»ºå¸ƒéš†è¿‡æ»¤å™¨æ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + e.getMessage());
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"åˆ›å»ºå¸ƒéš†è¿‡æ»¤å™¨å¤±è´¥"</span>, e);
        }
    }
    
    <span class="hljs-comment">/**
     * æ‰¹é‡æ·»åŠ å…ƒç´ åˆ°å¸ƒéš†è¿‡æ»¤å™¨
     * 
     * <span class="hljs-doctag">@param</span> filterName è¿‡æ»¤å™¨åç§°
     * <span class="hljs-doctag">@param</span> elements è¦æ·»åŠ çš„å…ƒç´ é›†åˆ
     * <span class="hljs-doctag">@return</span> æˆåŠŸæ·»åŠ çš„å…ƒç´ æ•°é‡
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">batchAddElements</span><span class="hljs-params">(String filterName, Collection&lt;String&gt; elements)</span> {
        <span class="hljs-keyword">try</span> {
            RBloomFilter&lt;String&gt; bloomFilter = redissonClient.getBloomFilter(filterName);
            
            <span class="hljs-keyword">if</span> (!bloomFilter.isExists()) {
                System.out.println(<span class="hljs-string">"å¸ƒéš†è¿‡æ»¤å™¨ "</span> + filterName + <span class="hljs-string">" ä¸å­˜åœ¨ï¼Œæ— æ³•æ·»åŠ å…ƒç´ "</span>);
                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
            }
            
            <span class="hljs-type">int</span> <span class="hljs-variable">addedCount</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
            <span class="hljs-keyword">for</span> (String element : elements) {
                <span class="hljs-type">boolean</span> <span class="hljs-variable">added</span> <span class="hljs-operator">=</span> bloomFilter.add(element);
                <span class="hljs-keyword">if</span> (added) {
                    addedCount++;
                }
            }
            
            System.out.println(<span class="hljs-string">"æ‰¹é‡æ·»åŠ å…ƒç´ å®Œæˆï¼ŒæˆåŠŸæ·»åŠ : "</span> + addedCount + <span class="hljs-string">" ä¸ªå…ƒç´ "</span>);
            <span class="hljs-keyword">return</span> addedCount;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"æ‰¹é‡æ·»åŠ å…ƒç´ åˆ°å¸ƒéš†è¿‡æ»¤å™¨æ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + e.getMessage());
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        }
    }
    
    <span class="hljs-comment">/**
     * æ£€æŸ¥å…ƒç´ æ˜¯å¦å¯èƒ½å­˜åœ¨äºå¸ƒéš†è¿‡æ»¤å™¨ä¸­
     * 
     * <span class="hljs-doctag">@param</span> filterName è¿‡æ»¤å™¨åç§°
     * <span class="hljs-doctag">@param</span> element è¦æ£€æŸ¥çš„å…ƒç´ 
     * <span class="hljs-doctag">@return</span> trueè¡¨ç¤ºå¯èƒ½å­˜åœ¨ï¼Œfalseè¡¨ç¤ºä¸€å®šä¸å­˜åœ¨
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">mightContain</span><span class="hljs-params">(String filterName, String element)</span> {
        <span class="hljs-keyword">try</span> {
            RBloomFilter&lt;String&gt; bloomFilter = redissonClient.getBloomFilter(filterName);
            
            <span class="hljs-keyword">if</span> (!bloomFilter.isExists()) {
                System.out.println(<span class="hljs-string">"å¸ƒéš†è¿‡æ»¤å™¨ "</span> + filterName + <span class="hljs-string">" ä¸å­˜åœ¨"</span>);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
            
            <span class="hljs-type">boolean</span> <span class="hljs-variable">mightContain</span> <span class="hljs-operator">=</span> bloomFilter.contains(element);
            System.out.println(<span class="hljs-string">"å…ƒç´  '"</span> + element + <span class="hljs-string">"' åœ¨è¿‡æ»¤å™¨ "</span> + filterName + 
                             <span class="hljs-string">" ä¸­å¯èƒ½å­˜åœ¨: "</span> + mightContain);
            
            <span class="hljs-keyword">return</span> mightContain;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"æ£€æŸ¥å¸ƒéš†è¿‡æ»¤å™¨æ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + e.getMessage());
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    
    <span class="hljs-comment">/**
     * ä½¿ç”¨å¸ƒéš†è¿‡æ»¤å™¨é˜²æ­¢ç¼“å­˜ç©¿é€çš„å®Œæ•´ç¤ºä¾‹
     * 
     * <span class="hljs-doctag">@param</span> userId ç”¨æˆ·ID
     * <span class="hljs-doctag">@return</span> ç”¨æˆ·ä¿¡æ¯ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
     */</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">preventCachePenetration</span><span class="hljs-params">(String userId)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">filterName</span> <span class="hljs-operator">=</span> <span class="hljs-string">"user_exists_filter"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">cacheKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"user_cache:"</span> + userId;
        
        <span class="hljs-comment">// åˆ›å»ºå¸ƒéš†è¿‡æ»¤å™¨</span>
        RBloomFilter&lt;String&gt; bloomFilter = createBloomFilter(filterName, <span class="hljs-number">1000000</span>, <span class="hljs-number">0.03</span>);
        
        <span class="hljs-comment">// é¦–å…ˆæ£€æŸ¥å¸ƒéš†è¿‡æ»¤å™¨</span>
        <span class="hljs-keyword">if</span> (!bloomFilter.contains(userId)) {
            <span class="hljs-comment">// å¸ƒéš†è¿‡æ»¤å™¨ç¡®è®¤å…ƒç´ ä¸å­˜åœ¨ï¼Œç›´æ¥è¿”å›ï¼Œé¿å…æŸ¥è¯¢ç¼“å­˜å’Œæ•°æ®åº“</span>
            System.out.println(<span class="hljs-string">"å¸ƒéš†è¿‡æ»¤å™¨ç¡®è®¤ç”¨æˆ·ä¸å­˜åœ¨: "</span> + userId);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
        
        <span class="hljs-comment">// å¸ƒéš†è¿‡æ»¤å™¨è®¤ä¸ºå¯èƒ½å­˜åœ¨ï¼Œç»§ç»­æŸ¥è¯¢ç¼“å­˜</span>
        <span class="hljs-comment">// è¿™é‡Œåº”è¯¥æŸ¥è¯¢å®é™…ç¼“å­˜ï¼Œä½†ä¸ºäº†ç¤ºä¾‹ï¼Œæˆ‘ä»¬æ¨¡æ‹Ÿ</span>
        System.out.println(<span class="hljs-string">"å¸ƒéš†è¿‡æ»¤å™¨è®¤ä¸ºç”¨æˆ·å¯èƒ½å­˜åœ¨ï¼Œç»§ç»­æŸ¥è¯¢ç¼“å­˜/æ•°æ®åº“: "</span> + userId);
        
        <span class="hljs-comment">// æ¨¡æ‹ŸæŸ¥è¯¢ç¼“å­˜å’Œæ•°æ®åº“çš„é€»è¾‘</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">userInfo</span> <span class="hljs-operator">=</span> queryUserInfo(userId);
        
        <span class="hljs-keyword">if</span> (userInfo == <span class="hljs-literal">null</span>) {
            <span class="hljs-comment">// å¦‚æœæ•°æ®åº“ä¸­ç¡®å®ä¸å­˜åœ¨ï¼Œå¯ä»¥è€ƒè™‘å°†è¯¥IDåŠ å…¥å¸ƒéš†è¿‡æ»¤å™¨</span>
            <span class="hljs-comment">// ä½†éœ€è¦è°¨æ…å¤„ç†ï¼Œå› ä¸ºç”¨æˆ·å¯èƒ½åœ¨ç¨ååˆ›å»º</span>
            System.out.println(<span class="hljs-string">"ç”¨æˆ·åœ¨æ•°æ®åº“ä¸­ä¸å­˜åœ¨: "</span> + userId);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// å¦‚æœç”¨æˆ·å­˜åœ¨ï¼Œå°†ä¿¡æ¯å­˜å‚¨åˆ°ç¼“å­˜</span>
            System.out.println(<span class="hljs-string">"ç”¨æˆ·å­˜åœ¨ï¼Œæ›´æ–°ç¼“å­˜: "</span> + userId);
        }
        
        <span class="hljs-keyword">return</span> userInfo;
    }
    
    <span class="hljs-comment">/**
     * æ¨¡æ‹ŸæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯
     */</span>
    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">queryUserInfo</span><span class="hljs-params">(String userId)</span> {
        <span class="hljs-comment">// å®é™…åº”ç”¨ä¸­è¿™é‡Œä¼šæŸ¥è¯¢ç¼“å­˜æˆ–æ•°æ®åº“</span>
        <span class="hljs-comment">// ä¸ºäº†ç¤ºä¾‹ï¼Œæˆ‘ä»¬æ¨¡æ‹Ÿä¸€ä¸ªç®€å•çš„é€»è¾‘</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-string">"valid_user"</span>.equals(userId)) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"ç”¨æˆ·ä¿¡æ¯: "</span> + userId;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
}
</code></pre>
<h3 data-id="heading-10">6. åˆ†å¸ƒå¼å¯¹è±¡</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.redisson.api.RBucket;
<span class="hljs-keyword">import</span> org.redisson.api.RSet;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DistributedObjectsExample</span> {
    <span class="hljs-comment">// è‡ªå®šä¹‰å¯¹è±¡</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {
        <span class="hljs-keyword">private</span> String name;
        <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> {
            <span class="hljs-built_in">this</span>.name = name;
            <span class="hljs-built_in">this</span>.age = age;
        }
        
        <span class="hljs-comment">// getterå’Œsetteræ–¹æ³•</span>
        <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> name; }
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> { <span class="hljs-built_in">this</span>.name = name; }
        <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> age; }
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> { <span class="hljs-built_in">this</span>.age = age; }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">objectsExample</span><span class="hljs-params">(RedissonClient redisson)</span> {
        <span class="hljs-comment">// å­˜å‚¨å•ä¸ªå¯¹è±¡</span>
        RBucket&lt;Person&gt; bucket = redisson.getBucket(<span class="hljs-string">"person"</span>);
        bucket.set(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-number">30</span>));
        
        <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> bucket.get(); <span class="hljs-comment">// è·å–å¯¹è±¡</span>
        System.out.println(person.getName()); <span class="hljs-comment">// è¾“å‡º: å¼ ä¸‰</span>
        
        <span class="hljs-comment">// å­˜å‚¨å¯¹è±¡é›†åˆ</span>
        RSet&lt;Person&gt; personSet = redisson.getSet(<span class="hljs-string">"personSet"</span>);
        personSet.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"æå››"</span>, <span class="hljs-number">25</span>));
        personSet.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"ç‹äº”"</span>, <span class="hljs-number">35</span>));
    }
}
</code></pre>
<h2 data-id="heading-11">å®é™…åº”ç”¨åœºæ™¯</h2>
<h3 data-id="heading-12">1. åˆ†å¸ƒå¼é” - é˜²æ­¢é‡å¤æ“ä½œ</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.redisson.api.RLock;
<span class="hljs-keyword">import</span> org.redisson.api.RedissonClient;
<span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit;
<span class="hljs-keyword">import</span> java.util.concurrent.CompletableFuture;

<span class="hljs-comment">/**
 * åˆ†å¸ƒå¼é”ç”Ÿäº§çº§åº”ç”¨åœºæ™¯ç¤ºä¾‹
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DistributedLockScenario</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> RedissonClient redissonClient;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">DEFAULT_LEASE_TIME</span> <span class="hljs-operator">=</span> <span class="hljs-number">30</span>; <span class="hljs-comment">// é»˜è®¤ç§Ÿçº¦æ—¶é—´30ç§’</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">DEFAULT_WAIT_TIME</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;  <span class="hljs-comment">// é»˜è®¤ç­‰å¾…æ—¶é—´10ç§’</span>
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">DistributedLockScenario</span><span class="hljs-params">(RedissonClient redissonClient)</span> {
        <span class="hljs-built_in">this</span>.redissonClient = redissonClient;
    }
    
    <span class="hljs-comment">/**
     * å®‰å…¨çš„åˆ†å¸ƒå¼é”æ“ä½œ
     * 
     * <span class="hljs-doctag">@param</span> lockKey é”çš„key
     * <span class="hljs-doctag">@param</span> businessLogic ä¸šåŠ¡é€»è¾‘
     * <span class="hljs-doctag">@return</span> æ“ä½œç»“æœ
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">executeWithDistributedLock</span><span class="hljs-params">(String lockKey, Runnable businessLogic)</span> {
        <span class="hljs-type">RLock</span> <span class="hljs-variable">lock</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">try</span> {
            lock = redissonClient.getLock(lockKey);
            
            <span class="hljs-comment">// å°è¯•è·å–é”ï¼Œæœ€å¤šç­‰å¾…DEFAULT_WAIT_TIMEç§’ï¼Œé”è‡ªåŠ¨é‡Šæ”¾æ—¶é—´ä¸ºDEFAULT_LEASE_TIMEç§’</span>
            <span class="hljs-type">boolean</span> <span class="hljs-variable">acquired</span> <span class="hljs-operator">=</span> lock.tryLock(DEFAULT_WAIT_TIME, DEFAULT_LEASE_TIME, TimeUnit.SECONDS);
            <span class="hljs-keyword">if</span> (acquired) {
                <span class="hljs-keyword">try</span> {
                    System.out.println(<span class="hljs-string">"è·å–åˆ°åˆ†å¸ƒå¼é”: "</span> + lockKey + 
                                     <span class="hljs-string">"ï¼Œçº¿ç¨‹: "</span> + Thread.currentThread().getName());
                    
                    <span class="hljs-comment">// æ‰§è¡Œä¸šåŠ¡é€»è¾‘</span>
                    businessLogic.run();
                    
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                } <span class="hljs-keyword">finally</span> {
                    <span class="hljs-comment">// ç¡®ä¿é”è¢«é‡Šæ”¾ï¼Œé˜²æ­¢æ­»é”</span>
                    <span class="hljs-keyword">if</span> (lock != <span class="hljs-literal">null</span> &amp;&amp; lock.isHeldByCurrentThread()) {
                        lock.unlock();
                        System.out.println(<span class="hljs-string">"é‡Šæ”¾åˆ†å¸ƒå¼é”: "</span> + lockKey);
                    }
                }
            } <span class="hljs-keyword">else</span> {
                System.out.println(<span class="hljs-string">"è·å–åˆ†å¸ƒå¼é”å¤±è´¥ï¼Œé”å·²è¢«å…¶ä»–çº¿ç¨‹æŒæœ‰: "</span> + lockKey);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            Thread.currentThread().interrupt();
            System.err.println(<span class="hljs-string">"è·å–åˆ†å¸ƒå¼é”è¿‡ç¨‹ä¸­è¢«ä¸­æ–­: "</span> + e.getMessage());
            
            <span class="hljs-comment">// æ¢å¤ä¸­æ–­çŠ¶æ€å¹¶å°è¯•é‡Šæ”¾é”</span>
            <span class="hljs-keyword">if</span> (lock != <span class="hljs-literal">null</span> &amp;&amp; lock.isHeldByCurrentThread()) {
                <span class="hljs-keyword">try</span> {
                    lock.unlock();
                } <span class="hljs-keyword">catch</span> (Exception unlockException) {
                    System.err.println(<span class="hljs-string">"é‡Šæ”¾é”æ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + unlockException.getMessage());
                }
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"æ‰§è¡Œå¸¦é”æ“ä½œæ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + e.getMessage());
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    
    <span class="hljs-comment">/**
     * å¼‚æ­¥æ‰§è¡Œå¸¦é”æ“ä½œ
     * 
     * <span class="hljs-doctag">@param</span> lockKey é”çš„key
     * <span class="hljs-doctag">@param</span> businessLogic ä¸šåŠ¡é€»è¾‘
     * <span class="hljs-doctag">@return</span> CompletableFutureè¡¨ç¤ºæ“ä½œç»“æœ
     */</span>
    <span class="hljs-keyword">public</span> CompletableFuture&lt;Boolean&gt; <span class="hljs-title function_">executeWithDistributedLockAsync</span><span class="hljs-params">(String lockKey, Runnable businessLogic)</span> {
        <span class="hljs-keyword">return</span> CompletableFuture.supplyAsync(() -&gt; {
            <span class="hljs-keyword">return</span> executeWithDistributedLock(lockKey, businessLogic);
        });
    }
    
    <span class="hljs-comment">/**
     * è®¢å•å¤„ç†åœºæ™¯ - é˜²æ­¢é‡å¤ä¸‹å•
     * 
     * <span class="hljs-doctag">@param</span> userId ç”¨æˆ·ID
     * <span class="hljs-doctag">@param</span> orderId è®¢å•ID
     * <span class="hljs-doctag">@return</span> å¤„ç†ç»“æœ
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">processOrder</span><span class="hljs-params">(String userId, String orderId)</span> {
        <span class="hljs-comment">// ä½¿ç”¨ç”¨æˆ·IDå’Œè®¢å•IDä½œä¸ºé”çš„keyï¼Œé˜²æ­¢åŒä¸€ç”¨æˆ·é‡å¤ä¸‹å•</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">lockKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"order_lock:"</span> + userId + <span class="hljs-string">":"</span> + orderId;
        
        <span class="hljs-keyword">return</span> executeWithDistributedLock(lockKey, () -&gt; {
            <span class="hljs-comment">// æ£€æŸ¥è®¢å•æ˜¯å¦å·²å­˜åœ¨</span>
            <span class="hljs-keyword">if</span> (isOrderExists(orderId)) {
                System.out.println(<span class="hljs-string">"è®¢å•å·²å­˜åœ¨ï¼Œè·³è¿‡å¤„ç†: "</span> + orderId);
                <span class="hljs-keyword">return</span>;
            }
            
            <span class="hljs-comment">// æ‰§è¡Œè®¢å•åˆ›å»ºé€»è¾‘</span>
            System.out.println(<span class="hljs-string">"å¼€å§‹å¤„ç†è®¢å•: "</span> + orderId + <span class="hljs-string">"ï¼Œç”¨æˆ·: "</span> + userId);
            
            <span class="hljs-comment">// æ¨¡æ‹Ÿè®¢å•å¤„ç†æ—¶é—´</span>
            <span class="hljs-keyword">try</span> {
                Thread.sleep(<span class="hljs-number">2000</span>);
            } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                Thread.currentThread().interrupt();
            }
            
            <span class="hljs-comment">// ä¿å­˜è®¢å•</span>
            saveOrder(orderId, userId);
            System.out.println(<span class="hljs-string">"è®¢å•å¤„ç†å®Œæˆ: "</span> + orderId);
        });
    }
    
    <span class="hljs-comment">/**
     * æ¨¡æ‹Ÿæ£€æŸ¥è®¢å•æ˜¯å¦å­˜åœ¨
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isOrderExists</span><span class="hljs-params">(String orderId)</span> {
        <span class="hljs-comment">// å®é™…åº”ç”¨ä¸­è¿™é‡Œä¼šæŸ¥è¯¢æ•°æ®åº“æˆ–ç¼“å­˜</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    
    <span class="hljs-comment">/**
     * æ¨¡æ‹Ÿä¿å­˜è®¢å•
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">saveOrder</span><span class="hljs-params">(String orderId, String userId)</span> {
        <span class="hljs-comment">// å®é™…åº”ç”¨ä¸­è¿™é‡Œä¼šä¿å­˜åˆ°æ•°æ®åº“</span>
        System.out.println(<span class="hljs-string">"è®¢å•å·²ä¿å­˜ - è®¢å•ID: "</span> + orderId + <span class="hljs-string">"ï¼Œç”¨æˆ·ID: "</span> + userId);
    }
}
</code></pre>
<h3 data-id="heading-13">2. ä¿¡å·é‡ - é™åˆ¶å¹¶å‘è®¿é—®</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.redisson.api.RSemaphore;
<span class="hljs-keyword">import</span> org.redisson.api.RedissonClient;
<span class="hljs-keyword">import</span> java.util.concurrent.CompletableFuture;
<span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit;

<span class="hljs-comment">/**
 * ä¿¡å·é‡ç”Ÿäº§çº§åº”ç”¨åœºæ™¯ç¤ºä¾‹
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SemaphoreScenario</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> RedissonClient redissonClient;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">RESOURCE_ACCESS_PREFIX</span> <span class="hljs-operator">=</span> <span class="hljs-string">"resource_access:"</span>;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">SemaphoreScenario</span><span class="hljs-params">(RedissonClient redissonClient)</span> {
        <span class="hljs-built_in">this</span>.redissonClient = redissonClient;
    }
    
    <span class="hljs-comment">/**
     * èµ„æºè®¿é—®æ§åˆ¶
     * 
     * <span class="hljs-doctag">@param</span> resourceId èµ„æºID
     * <span class="hljs-doctag">@param</span> maxConcurrent æœ€å¤§å¹¶å‘æ•°
     * <span class="hljs-doctag">@param</span> accessTask è®¿é—®ä»»åŠ¡
     * <span class="hljs-doctag">@return</span> è®¿é—®ç»“æœ
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">controlResourceAccess</span><span class="hljs-params">(String resourceId, <span class="hljs-type">int</span> maxConcurrent, Runnable accessTask)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">semaphoreKey</span> <span class="hljs-operator">=</span> RESOURCE_ACCESS_PREFIX + resourceId;
        <span class="hljs-type">RSemaphore</span> <span class="hljs-variable">semaphore</span> <span class="hljs-operator">=</span> redissonClient.getSemaphore(semaphoreKey);
        
        <span class="hljs-keyword">try</span> {

            semaphore.trySetPermits(maxConcurrent);
            
            System.out.println(<span class="hljs-string">"èµ„æº "</span> + resourceId + <span class="hljs-string">" å½“å‰å¯ç”¨è®¸å¯è¯æ•°: "</span> + semaphore.availablePermits());
            
            <span class="hljs-comment">// å°è¯•è·å–è®¸å¯è¯ï¼Œæœ€å¤šç­‰å¾…5ç§’</span>
            <span class="hljs-type">boolean</span> <span class="hljs-variable">acquired</span> <span class="hljs-operator">=</span> semaphore.tryAcquire(<span class="hljs-number">5</span>, TimeUnit.SECONDS);
            <span class="hljs-keyword">if</span> (acquired) {
                <span class="hljs-keyword">try</span> {
                    System.out.println(<span class="hljs-string">"è·å–åˆ°èµ„æº "</span> + resourceId + <span class="hljs-string">" çš„è®¿é—®æƒé™ï¼Œæ‰§è¡Œè®¿é—®ä»»åŠ¡"</span>);
                    
                    <span class="hljs-comment">// æ‰§è¡Œèµ„æºè®¿é—®ä»»åŠ¡</span>
                    accessTask.run();
                    
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                } <span class="hljs-keyword">finally</span> {
                    <span class="hljs-comment">// é‡Šæ”¾è®¸å¯è¯</span>
                    semaphore.release();
                    System.out.println(<span class="hljs-string">"é‡Šæ”¾èµ„æº "</span> + resourceId + <span class="hljs-string">" çš„è®¿é—®æƒé™"</span>);
                }
            } <span class="hljs-keyword">else</span> {
                System.out.println(<span class="hljs-string">"è·å–èµ„æº "</span> + resourceId + <span class="hljs-string">" è®¿é—®æƒé™è¶…æ—¶ï¼Œå½“å‰å¯ç”¨è®¸å¯è¯æ•°: "</span> + 
                                 semaphore.availablePermits());
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            Thread.currentThread().interrupt();
            System.err.println(<span class="hljs-string">"è·å–è®¸å¯è¯æ—¶è¢«ä¸­æ–­: "</span> + e.getMessage());
            
            <span class="hljs-comment">// å°è¯•é‡Šæ”¾è®¸å¯è¯</span>
            <span class="hljs-keyword">try</span> {
                semaphore.release();
            } <span class="hljs-keyword">catch</span> (Exception releaseException) {
                System.err.println(<span class="hljs-string">"é‡Šæ”¾è®¸å¯è¯æ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + releaseException.getMessage());
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"èµ„æºè®¿é—®æ§åˆ¶æ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + e.getMessage());
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    
    <span class="hljs-comment">/**
     * ç§’æ€ç³»ç»Ÿä¸­çš„å¹¶å‘æ§åˆ¶
     * 
     * <span class="hljs-doctag">@param</span> productId å•†å“ID
     * <span class="hljs-doctag">@param</span> userId ç”¨æˆ·ID
     * <span class="hljs-doctag">@return</span> ç§’æ€ç»“æœ
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">flashSale</span><span class="hljs-params">(String productId, String userId)</span> {
        <span class="hljs-comment">// ä½¿ç”¨å•†å“IDä½œä¸ºä¿¡å·é‡keyï¼Œé™åˆ¶åŒæ—¶è®¿é—®è¯¥å•†å“çš„ç”¨æˆ·æ•°é‡</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">semaphoreKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"flash_sale:"</span> + productId;
        <span class="hljs-type">RSemaphore</span> <span class="hljs-variable">semaphore</span> <span class="hljs-operator">=</span> redissonClient.getSemaphore(semaphoreKey);
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// è®¾ç½®ç§’æ€æ´»åŠ¨çš„å¹¶å‘é™åˆ¶ï¼ˆä¾‹å¦‚ï¼Œæœ€å¤šå…è®¸100ä¸ªç”¨æˆ·åŒæ—¶å‚ä¸ï¼‰</span>
            semaphore.trySetPermits(<span class="hljs-number">100</span>);
            
            <span class="hljs-comment">// å°è¯•è·å–ç§’æ€èµ„æ ¼</span>
            <span class="hljs-type">boolean</span> <span class="hljs-variable">hasQualification</span> <span class="hljs-operator">=</span> semaphore.tryAcquire(<span class="hljs-number">2</span>, TimeUnit.SECONDS);
            <span class="hljs-keyword">if</span> (!hasQualification) {
                System.out.println(<span class="hljs-string">"ç”¨æˆ· "</span> + userId + <span class="hljs-string">" ç§’æ€å¤±è´¥ï¼Œç§’æ€èµ„æ ¼å·²æ»¡"</span>);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
            
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// æ£€æŸ¥åº“å­˜</span>
                <span class="hljs-keyword">if</span> (checkStock(productId) &gt; <span class="hljs-number">0</span>) {
                    <span class="hljs-comment">// æ‰£å‡åº“å­˜</span>
                    <span class="hljs-keyword">if</span> (decreaseStock(productId)) {
                        <span class="hljs-comment">// åˆ›å»ºè®¢å•</span>
                        createOrder(productId, userId);
                        System.out.println(<span class="hljs-string">"ç”¨æˆ· "</span> + userId + <span class="hljs-string">" ç§’æ€æˆåŠŸï¼Œå•†å“: "</span> + productId);
                        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                    } <span class="hljs-keyword">else</span> {
                        System.out.println(<span class="hljs-string">"ç”¨æˆ· "</span> + userId + <span class="hljs-string">" ç§’æ€å¤±è´¥ï¼Œåº“å­˜æ‰£å‡å¤±è´¥"</span>);
                    }
                } <span class="hljs-keyword">else</span> {
                    System.out.println(<span class="hljs-string">"ç”¨æˆ· "</span> + userId + <span class="hljs-string">" ç§’æ€å¤±è´¥ï¼Œåº“å­˜ä¸è¶³"</span>);
                }
            } <span class="hljs-keyword">finally</span> {
                <span class="hljs-comment">// é‡Šæ”¾ç§’æ€èµ„æ ¼</span>
                semaphore.release();
            }
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            Thread.currentThread().interrupt();
            System.err.println(<span class="hljs-string">"ç§’æ€è¿‡ç¨‹ä¸­è¢«ä¸­æ–­: "</span> + e.getMessage());
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"ç§’æ€è¿‡ç¨‹ä¸­å‘ç”Ÿå¼‚å¸¸: "</span> + e.getMessage());
        }
        
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    
    <span class="hljs-comment">/**
     * æ¨¡æ‹Ÿæ£€æŸ¥åº“å­˜
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-title function_">checkStock</span><span class="hljs-params">(String productId)</span> {
        <span class="hljs-comment">// å®é™…åº”ç”¨ä¸­è¿™é‡Œä¼šæŸ¥è¯¢æ•°æ®åº“æˆ–ç¼“å­˜</span>
        <span class="hljs-keyword">return</span> <span class="hljs-number">10</span>; <span class="hljs-comment">// æ¨¡æ‹Ÿæœ‰10ä¸ªåº“å­˜</span>
    }
    
    <span class="hljs-comment">/**
     * æ¨¡æ‹Ÿæ‰£å‡åº“å­˜
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">decreaseStock</span><span class="hljs-params">(String productId)</span> {
        <span class="hljs-comment">// å®é™…åº”ç”¨ä¸­è¿™é‡Œä¼šæ›´æ–°æ•°æ®åº“</span>
        System.out.println(<span class="hljs-string">"æ‰£å‡å•†å“ "</span> + productId + <span class="hljs-string">" çš„åº“å­˜"</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    
    <span class="hljs-comment">/**
     * æ¨¡æ‹Ÿåˆ›å»ºè®¢å•
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">createOrder</span><span class="hljs-params">(String productId, String userId)</span> {
        <span class="hljs-comment">// å®é™…åº”ç”¨ä¸­è¿™é‡Œä¼šåˆ›å»ºè®¢å•è®°å½•</span>
        System.out.println(<span class="hljs-string">"ä¸ºç”¨æˆ· "</span> + userId + <span class="hljs-string">" åˆ›å»ºå•†å“ "</span> + productId + <span class="hljs-string">" çš„è®¢å•"</span>);
    }
    
    <span class="hljs-comment">/**
     * å¼‚æ­¥èµ„æºè®¿é—®
     */</span>
    <span class="hljs-keyword">public</span> CompletableFuture&lt;Boolean&gt; <span class="hljs-title function_">asyncResourceAccess</span><span class="hljs-params">(String resourceId, <span class="hljs-type">int</span> maxConcurrent, Runnable accessTask)</span> {
        <span class="hljs-keyword">return</span> CompletableFuture.supplyAsync(() -&gt; {
            <span class="hljs-keyword">return</span> controlResourceAccess(resourceId, maxConcurrent, accessTask);
        });
    }
}
</code></pre>
<h3 data-id="heading-14">3. å¸ƒéš†è¿‡æ»¤å™¨ - é«˜æ•ˆå»é‡å’Œæ’æŸ¥</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.redisson.api.RBloomFilter;
<span class="hljs-keyword">import</span> org.redisson.api.RedissonClient;
<span class="hljs-keyword">import</span> java.util.Collection;

<span class="hljs-comment">/**
 * å¸ƒéš†è¿‡æ»¤å™¨ç”Ÿäº§çº§åº”ç”¨åœºæ™¯ç¤ºä¾‹
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BloomFilterScenario</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> RedissonClient redissonClient;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">BloomFilterScenario</span><span class="hljs-params">(RedissonClient redissonClient)</span> {
        <span class="hljs-built_in">this</span>.redissonClient = redissonClient;
    }
    
    <span class="hljs-comment">/**
     * é˜²æ­¢ç¼“å­˜ç©¿é€çš„å¸ƒéš†è¿‡æ»¤å™¨
     * 
     * <span class="hljs-doctag">@param</span> key è¦æ£€æŸ¥çš„é”®
     * <span class="hljs-doctag">@return</span> å¦‚æœé”®å¯èƒ½å­˜åœ¨åˆ™è¿”å›trueï¼Œå¦‚æœç¡®å®šä¸å­˜åœ¨åˆ™è¿”å›false
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">preventCachePenetration</span><span class="hljs-params">(String key)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">filterName</span> <span class="hljs-operator">=</span> <span class="hljs-string">"cache_penetration_filter"</span>;
        RBloomFilter&lt;String&gt; bloomFilter = redissonClient.getBloomFilter(filterName);
        
        <span class="hljs-comment">// åˆå§‹åŒ–å¸ƒéš†è¿‡æ»¤å™¨ï¼ˆé¢„è®¡100ä¸‡ä¸ªå…ƒç´ ï¼Œ3%è¯¯åˆ¤ç‡ï¼‰</span>
        <span class="hljs-keyword">if</span> (!bloomFilter.isExists()) {
            bloomFilter.tryInit(<span class="hljs-number">1000000</span>, <span class="hljs-number">0.03</span>);
            System.out.println(<span class="hljs-string">"ç¼“å­˜ç©¿é€é˜²æŠ¤å¸ƒéš†è¿‡æ»¤å™¨å·²åˆå§‹åŒ–"</span>);
        }
        
        <span class="hljs-comment">// é¦–å…ˆæ£€æŸ¥å¸ƒéš†è¿‡æ»¤å™¨</span>
        <span class="hljs-keyword">if</span> (!bloomFilter.contains(key)) {
            <span class="hljs-comment">// å¸ƒéš†è¿‡æ»¤å™¨ç¡®è®¤å…ƒç´ ä¸å­˜åœ¨ï¼Œç›´æ¥è¿”å›ï¼Œé¿å…æŸ¥è¯¢ç¼“å­˜å’Œæ•°æ®åº“</span>
            System.out.println(<span class="hljs-string">"å¸ƒéš†è¿‡æ»¤å™¨ç¡®è®¤é”®ä¸å­˜åœ¨ï¼Œè·³è¿‡ç¼“å­˜å’Œæ•°æ®åº“æŸ¥è¯¢: "</span> + key);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        
        System.out.println(<span class="hljs-string">"å¸ƒéš†è¿‡æ»¤å™¨è®¤ä¸ºé”®å¯èƒ½å­˜åœ¨ï¼Œç»§ç»­æŸ¥è¯¢ç¼“å­˜/æ•°æ®åº“: "</span> + key);
        <span class="hljs-comment">// ç»§ç»­æŸ¥è¯¢ç¼“å­˜å’Œæ•°æ®åº“...</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    
    <span class="hljs-comment">/**
     * URLå»é‡åœºæ™¯
     * 
     * <span class="hljs-doctag">@param</span> url è¦æ£€æŸ¥çš„URL
     * <span class="hljs-doctag">@return</span> å¦‚æœURLæ˜¯æ–°çš„åˆ™è¿”å›trueï¼Œå¦‚æœæ˜¯é‡å¤çš„åˆ™è¿”å›false
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">urlDeduplication</span><span class="hljs-params">(String url)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">filterName</span> <span class="hljs-operator">=</span> <span class="hljs-string">"visited_urls_filter"</span>;
        RBloomFilter&lt;String&gt; bloomFilter = redissonClient.getBloomFilter(filterName);
        
        <span class="hljs-comment">// åˆå§‹åŒ–å¸ƒéš†è¿‡æ»¤å™¨ï¼ˆé¢„è®¡1000ä¸‡ä¸ªURLï¼Œ1%è¯¯åˆ¤ç‡ï¼‰</span>
        <span class="hljs-keyword">if</span> (!bloomFilter.isExists()) {
            bloomFilter.tryInit(<span class="hljs-number">10000000</span>, <span class="hljs-number">0.01</span>);
            System.out.println(<span class="hljs-string">"URLå»é‡å¸ƒéš†è¿‡æ»¤å™¨å·²åˆå§‹åŒ–"</span>);
        }
        
        <span class="hljs-keyword">if</span> (!bloomFilter.contains(url)) {
            <span class="hljs-comment">// é¦–æ¬¡è®¿é—®ï¼Œæ·»åŠ åˆ°è¿‡æ»¤å™¨</span>
            bloomFilter.add(url);
            System.out.println(<span class="hljs-string">"é¦–æ¬¡è®¿é—®URLï¼Œå·²æ·»åŠ åˆ°å¸ƒéš†è¿‡æ»¤å™¨: "</span> + url);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">else</span> {
            System.out.println(<span class="hljs-string">"URLå·²è®¿é—®è¿‡ï¼Œè·³è¿‡å¤„ç†: "</span> + url);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    
    <span class="hljs-comment">/**
     * æ‰¹é‡æ·»åŠ å…ƒç´ åˆ°å¸ƒéš†è¿‡æ»¤å™¨
     * 
     * <span class="hljs-doctag">@param</span> filterName è¿‡æ»¤å™¨åç§°
     * <span class="hljs-doctag">@param</span> elements è¦æ·»åŠ çš„å…ƒç´ é›†åˆ
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">batchAddToBloomFilter</span><span class="hljs-params">(String filterName, Collection&lt;String&gt; elements)</span> {
        RBloomFilter&lt;String&gt; bloomFilter = redissonClient.getBloomFilter(filterName);
        
        <span class="hljs-comment">// å¦‚æœè¿‡æ»¤å™¨ä¸å­˜åœ¨ï¼Œä½¿ç”¨é»˜è®¤å‚æ•°åˆ›å»º</span>
        <span class="hljs-keyword">if</span> (!bloomFilter.isExists()) {
            <span class="hljs-comment">// æ ¹æ®å…ƒç´ æ•°é‡ä¼°ç®—å‚æ•°</span>
            <span class="hljs-type">long</span> <span class="hljs-variable">expectedElements</span> <span class="hljs-operator">=</span> Math.max(elements.size() * <span class="hljs-number">2</span>, <span class="hljs-number">100000L</span>);
            bloomFilter.tryInit(expectedElements, <span class="hljs-number">0.03</span>);
            System.out.println(<span class="hljs-string">"å¸ƒéš†è¿‡æ»¤å™¨ "</span> + filterName + <span class="hljs-string">" å·²åˆå§‹åŒ–ï¼Œé¢„æœŸå…ƒç´ æ•°: "</span> + expectedElements);
        }
        
        <span class="hljs-type">int</span> <span class="hljs-variable">addedCount</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (String element : elements) {
            <span class="hljs-keyword">if</span> (bloomFilter.add(element)) {
                addedCount++;
            }
        }
        
        System.out.println(<span class="hljs-string">"æ‰¹é‡æ·»åŠ å®Œæˆï¼Œæ–°å¢ "</span> + addedCount + <span class="hljs-string">" ä¸ªå…ƒç´ åˆ°è¿‡æ»¤å™¨: "</span> + filterName);
    }
    
    <span class="hljs-comment">/**
     * ç”¨æˆ·IDå­˜åœ¨æ€§æ£€æŸ¥
     * 
     * <span class="hljs-doctag">@param</span> userId ç”¨æˆ·ID
     * <span class="hljs-doctag">@return</span> å¦‚æœç”¨æˆ·å¯èƒ½å­˜åœ¨åˆ™è¿”å›true
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">checkUserExists</span><span class="hljs-params">(String userId)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">filterName</span> <span class="hljs-operator">=</span> <span class="hljs-string">"user_exists_filter"</span>;
        RBloomFilter&lt;String&gt; bloomFilter = redissonClient.getBloomFilter(filterName);
        
        <span class="hljs-comment">// åˆå§‹åŒ–å¸ƒéš†è¿‡æ»¤å™¨ï¼ˆé¢„è®¡1000ä¸‡ä¸ªç”¨æˆ·ï¼Œ3%è¯¯åˆ¤ç‡ï¼‰</span>
        <span class="hljs-keyword">if</span> (!bloomFilter.isExists()) {
            bloomFilter.tryInit(<span class="hljs-number">10000000</span>, <span class="hljs-number">0.03</span>);
            System.out.println(<span class="hljs-string">"ç”¨æˆ·å­˜åœ¨æ€§æ£€æŸ¥å¸ƒéš†è¿‡æ»¤å™¨å·²åˆå§‹åŒ–"</span>);
        }
        
        <span class="hljs-type">boolean</span> <span class="hljs-variable">mightExist</span> <span class="hljs-operator">=</span> bloomFilter.contains(userId);
        System.out.println(<span class="hljs-string">"ç”¨æˆ· "</span> + userId + <span class="hljs-string">" å¯èƒ½å­˜åœ¨: "</span> + mightExist);
        <span class="hljs-keyword">return</span> mightExist;
    }
}
</code></pre>
<h3 data-id="heading-15">4. å»¶è¿Ÿé˜Ÿåˆ— - å®šæ—¶ä»»åŠ¡å¤„ç†</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.redisson.api.RBlockingQueue;
<span class="hljs-keyword">import</span> org.redisson.api.RDelayedQueue;
<span class="hljs-keyword">import</span> org.redisson.api.RedissonClient;
<span class="hljs-keyword">import</span> java.util.concurrent.ExecutorService;
<span class="hljs-keyword">import</span> java.util.concurrent.Executors;
<span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit;

<span class="hljs-comment">/**
 * å»¶è¿Ÿé˜Ÿåˆ—ç”Ÿäº§çº§åº”ç”¨åœºæ™¯ç¤ºä¾‹
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DelayedQueueScenario</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> RedissonClient redissonClient;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ExecutorService executorService;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">DelayedQueueScenario</span><span class="hljs-params">(RedissonClient redissonClient)</span> {
        <span class="hljs-built_in">this</span>.redissonClient = redissonClient;
        <span class="hljs-built_in">this</span>.executorService = Executors.newFixedThreadPool(<span class="hljs-number">10</span>);
    }
    
    <span class="hljs-comment">/**
     * è®¢å•è¶…æ—¶å¤„ç†åœºæ™¯
     * 
     * <span class="hljs-doctag">@param</span> orderId è®¢å•ID
     * <span class="hljs-doctag">@param</span> timeout è¶…æ—¶æ—¶é—´
     * <span class="hljs-doctag">@param</span> unit æ—¶é—´å•ä½
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleOrderTimeout</span><span class="hljs-params">(String orderId, <span class="hljs-type">long</span> timeout, TimeUnit unit)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">queueName</span> <span class="hljs-operator">=</span> <span class="hljs-string">"order_timeout_queue"</span>;
        RBlockingQueue&lt;String&gt; queue = redissonClient.getBlockingQueue(queueName);
        RDelayedQueue&lt;String&gt; delayedQueue = redissonClient.getDelayedQueue(queue);
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// è®¢å•åˆ›å»ºåtimeoutæ—¶é—´å¦‚æœä»æœªæ”¯ä»˜ï¼Œåˆ™è§¦å‘è¶…æ—¶å¤„ç†</span>
            delayedQueue.offer(orderId, timeout, unit);
            System.out.println(<span class="hljs-string">"è®¢å• "</span> + orderId + <span class="hljs-string">" å·²æ·»åŠ åˆ°å»¶è¿Ÿé˜Ÿåˆ—ï¼Œè¶…æ—¶æ—¶é—´: "</span> + timeout + <span class="hljs-string">" "</span> + unit);
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-comment">// æ³¨æ„ï¼šåœ¨å®é™…åº”ç”¨ä¸­ï¼Œå»¶è¿Ÿé˜Ÿåˆ—é€šå¸¸åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸå†…ä¿æŒ</span>
            <span class="hljs-comment">// è¿™é‡Œä¸ºäº†ç¤ºä¾‹ç®€åŒ–ï¼Œä½†åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä¸åº”ç«‹å³é”€æ¯</span>
        }
    }
    
    <span class="hljs-comment">/**
     * å¯åŠ¨å»¶è¿Ÿé˜Ÿåˆ—æ¶ˆè´¹è€…çº¿ç¨‹
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">startDelayedQueueConsumer</span><span class="hljs-params">()</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">queueName</span> <span class="hljs-operator">=</span> <span class="hljs-string">"order_timeout_queue"</span>;
        RBlockingQueue&lt;String&gt; queue = redissonClient.getBlockingQueue(queueName);
        RDelayedQueue&lt;String&gt; delayedQueue = redissonClient.getDelayedQueue(queue);
        
        <span class="hljs-comment">// å¯åŠ¨æ¶ˆè´¹è€…çº¿ç¨‹</span>
        executorService.submit(() -&gt; {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">while</span> (!Thread.currentThread().isInterrupted()) {
                    <span class="hljs-comment">// é˜»å¡ç­‰å¾…è¶…æ—¶è®¢å•</span>
                    <span class="hljs-type">String</span> <span class="hljs-variable">timeoutOrderId</span> <span class="hljs-operator">=</span> queue.take();
                    System.out.println(<span class="hljs-string">"è®¢å•è¶…æ—¶ï¼Œæ‰§è¡Œå–æ¶ˆæ“ä½œ: "</span> + timeoutOrderId);
                    
                    <span class="hljs-comment">// åœ¨ç‹¬ç«‹çº¿ç¨‹ä¸­å¤„ç†è¶…æ—¶è®¢å•ï¼Œé¿å…é˜»å¡é˜Ÿåˆ—æ¶ˆè´¹</span>
                    executorService.submit(() -&gt; {
                        processTimeoutOrder(timeoutOrderId);
                    });
                }
            } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                Thread.currentThread().interrupt();
                System.out.println(<span class="hljs-string">"å»¶è¿Ÿé˜Ÿåˆ—æ¶ˆè´¹è€…çº¿ç¨‹è¢«ä¸­æ–­"</span>);
            } <span class="hljs-keyword">catch</span> (Exception e) {
                System.err.println(<span class="hljs-string">"å»¶è¿Ÿé˜Ÿåˆ—æ¶ˆè´¹è¿‡ç¨‹ä¸­å‘ç”Ÿå¼‚å¸¸: "</span> + e.getMessage());
            }
        });
        
        System.out.println(<span class="hljs-string">"å»¶è¿Ÿé˜Ÿåˆ—æ¶ˆè´¹è€…å·²å¯åŠ¨"</span>);
    }
    
    <span class="hljs-comment">/**
     * å¤„ç†è¶…æ—¶è®¢å•
     * 
     * <span class="hljs-doctag">@param</span> orderId è¶…æ—¶è®¢å•ID
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processTimeoutOrder</span><span class="hljs-params">(String orderId)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// æ‰§è¡Œå–æ¶ˆè®¢å•ã€é‡Šæ”¾åº“å­˜ç­‰æ“ä½œ</span>
            System.out.println(<span class="hljs-string">"æ­£åœ¨å¤„ç†è¶…æ—¶è®¢å•: "</span> + orderId);
            
            <span class="hljs-comment">// æ¨¡æ‹Ÿä¸šåŠ¡å¤„ç†</span>
            cancelOrder(orderId);
            releaseInventory(orderId);
            
            System.out.println(<span class="hljs-string">"è¶…æ—¶è®¢å•å¤„ç†å®Œæˆ: "</span> + orderId);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"å¤„ç†è¶…æ—¶è®¢å•æ—¶å‘ç”Ÿå¼‚å¸¸ï¼Œè®¢å•ID: "</span> + orderId + <span class="hljs-string">"ï¼Œå¼‚å¸¸: "</span> + e.getMessage());
        }
    }
    
    <span class="hljs-comment">/**
     * è®¢å•æ”¯ä»˜æˆåŠŸåå–æ¶ˆå»¶è¿Ÿä»»åŠ¡
     * 
     * <span class="hljs-doctag">@param</span> orderId è®¢å•ID
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">cancelOrderTimeout</span><span class="hljs-params">(String orderId)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">queueName</span> <span class="hljs-operator">=</span> <span class="hljs-string">"order_timeout_queue"</span>;
        RBlockingQueue&lt;String&gt; queue = redissonClient.getBlockingQueue(queueName);
        RDelayedQueue&lt;String&gt; delayedQueue = redissonClient.getDelayedQueue(queue);
        
        <span class="hljs-comment">// ä»å»¶è¿Ÿé˜Ÿåˆ—ä¸­ç§»é™¤ï¼Œé¿å…è¶…æ—¶å¤„ç†</span>
        <span class="hljs-type">boolean</span> <span class="hljs-variable">removed</span> <span class="hljs-operator">=</span> delayedQueue.remove(orderId);
        <span class="hljs-keyword">if</span> (removed) {
            System.out.println(<span class="hljs-string">"å·²å–æ¶ˆè®¢å•è¶…æ—¶å¤„ç†: "</span> + orderId);
        } <span class="hljs-keyword">else</span> {
            System.out.println(<span class="hljs-string">"è®¢å•ä¸åœ¨å»¶è¿Ÿé˜Ÿåˆ—ä¸­ï¼Œå¯èƒ½å·²è¶…æ—¶å¤„ç†: "</span> + orderId);
        }
        
        <span class="hljs-keyword">return</span> removed;
    }
    
    <span class="hljs-comment">/**
     * å…³é—­èµ„æº
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">shutdown</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> (executorService != <span class="hljs-literal">null</span> &amp;&amp; !executorService.isShutdown()) {
            executorService.shutdown();
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">if</span> (!executorService.awaitTermination(<span class="hljs-number">5</span>, TimeUnit.SECONDS)) {
                    executorService.shutdownNow();
                }
            } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                executorService.shutdownNow();
                Thread.currentThread().interrupt();
            }
        }
    }
    
    <span class="hljs-comment">/**
     * æ¨¡æ‹Ÿå–æ¶ˆè®¢å•
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">cancelOrder</span><span class="hljs-params">(String orderId)</span> {
        <span class="hljs-comment">// å®é™…åº”ç”¨ä¸­è¿™é‡Œä¼šæ›´æ–°è®¢å•çŠ¶æ€</span>
        System.out.println(<span class="hljs-string">"è®¢å•å·²å–æ¶ˆ: "</span> + orderId);
    }
    
    <span class="hljs-comment">/**
     * æ¨¡æ‹Ÿé‡Šæ”¾åº“å­˜
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">releaseInventory</span><span class="hljs-params">(String orderId)</span> {
        <span class="hljs-comment">// å®é™…åº”ç”¨ä¸­è¿™é‡Œä¼šé‡Šæ”¾å ç”¨çš„åº“å­˜</span>
        System.out.println(<span class="hljs-string">"å·²é‡Šæ”¾è®¢å•åº“å­˜: "</span> + orderId);
    }
}
</code></pre>
<h3 data-id="heading-16">5. åˆ†å¸ƒå¼è®¡æ•°å™¨ - ç»Ÿè®¡å’Œé™æµ</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.redisson.api.RAtomicLong;
<span class="hljs-keyword">import</span> org.redisson.api.RRateLimiter;
<span class="hljs-keyword">import</span> org.redisson.api.RedissonClient;
<span class="hljs-keyword">import</span> org.redisson.api.RateIntervalUnit;
<span class="hljs-keyword">import</span> org.redisson.api.RateType;
<span class="hljs-keyword">import</span> java.util.concurrent.CompletableFuture;
<span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit;

<span class="hljs-comment">/**
 * åˆ†å¸ƒå¼è®¡æ•°å™¨ç”Ÿäº§çº§åº”ç”¨åœºæ™¯ç¤ºä¾‹
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CounterScenario</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> RedissonClient redissonClient;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">CounterScenario</span><span class="hljs-params">(RedissonClient redissonClient)</span> {
        <span class="hljs-built_in">this</span>.redissonClient = redissonClient;
    }
    
    <span class="hljs-comment">/**
     * æ¥å£è®¿é—®é™æµ
     * 
     * <span class="hljs-doctag">@param</span> interfaceName æ¥å£åç§°
     * <span class="hljs-doctag">@param</span> maxRequests æœ€å¤§è¯·æ±‚æ•°
     * <span class="hljs-doctag">@param</span> timeUnit æ—¶é—´å•ä½
     * <span class="hljs-doctag">@return</span> æ˜¯å¦å…è®¸è®¿é—®
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">interfaceRateLimiting</span><span class="hljs-params">(String interfaceName, <span class="hljs-type">long</span> maxRequests, TimeUnit timeUnit)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">rateLimiterKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"api_rate_limiter:"</span> + interfaceName;
        <span class="hljs-type">RRateLimiter</span> <span class="hljs-variable">rateLimiter</span> <span class="hljs-operator">=</span> redissonClient.getRateLimiter(rateLimiterKey);
        
        <span class="hljs-comment">// é…ç½®é™æµå™¨ï¼šåœ¨æŒ‡å®šæ—¶é—´é—´éš”å†…æœ€å¤šå…è®¸maxRequestsä¸ªè¯·æ±‚</span>
        <span class="hljs-keyword">if</span> (!rateLimiter.isExists()) {
            RateIntervalUnit intervalUnit;
            <span class="hljs-type">long</span> <span class="hljs-variable">rateInterval</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;
            
            <span class="hljs-keyword">switch</span> (timeUnit) {
                <span class="hljs-keyword">case</span> SECONDS:
                    intervalUnit = RateIntervalUnit.SECONDS;
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> MINUTES:
                    intervalUnit = RateIntervalUnit.MINUTES;
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> HOURS:
                    intervalUnit = RateIntervalUnit.HOURS;
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">default</span>:
                    intervalUnit = RateIntervalUnit.SECONDS;
            }
            
            rateLimiter.trySetRate(RateType.OVERALL, maxRequests, rateInterval, intervalUnit);
            System.out.println(<span class="hljs-string">"æ¥å£ "</span> + interfaceName + <span class="hljs-string">" é™æµå™¨å·²è®¾ç½®: "</span> + maxRequests + 
                             <span class="hljs-string">" æ¬¡/"</span> + timeUnit);
        }
        
        <span class="hljs-comment">// å°è¯•è·å–ä»¤ç‰Œ</span>
        <span class="hljs-type">boolean</span> <span class="hljs-variable">allowed</span> <span class="hljs-operator">=</span> rateLimiter.tryAcquire();
        <span class="hljs-keyword">if</span> (allowed) {
            System.out.println(<span class="hljs-string">"æ¥å£ "</span> + interfaceName + <span class="hljs-string">" è®¿é—®è¢«å…è®¸"</span>);
        } <span class="hljs-keyword">else</span> {
            System.out.println(<span class="hljs-string">"æ¥å£ "</span> + interfaceName + <span class="hljs-string">" è®¿é—®è¢«é™æµ"</span>);
        }
        
        <span class="hljs-keyword">return</span> allowed;
    }
    
    <span class="hljs-comment">/**
     * æ¥å£è®¿é—®ç»Ÿè®¡
     * 
     * <span class="hljs-doctag">@param</span> interfaceName æ¥å£åç§°
     * <span class="hljs-doctag">@return</span> å½“å‰è®¿é—®æ¬¡æ•°
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">countApiAccess</span><span class="hljs-params">(String interfaceName)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">counterKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"api_access_counter:"</span> + interfaceName;
        <span class="hljs-type">RAtomicLong</span> <span class="hljs-variable">counter</span> <span class="hljs-operator">=</span> redissonClient.getAtomicLong(counterKey);
        
        <span class="hljs-comment">// åŸå­é€’å¢è®¡æ•°å™¨</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> counter.incrementAndGet();
        System.out.println(<span class="hljs-string">"æ¥å£ "</span> + interfaceName + <span class="hljs-string">" è®¿é—®æ¬¡æ•°: "</span> + count);
        
        <span class="hljs-keyword">return</span> count;
    }
    
    <span class="hljs-comment">/**
     * åˆ†å¸ƒå¼IDç”Ÿæˆå™¨
     * 
     * <span class="hljs-doctag">@param</span> generatorName ç”Ÿæˆå™¨åç§°
     * <span class="hljs-doctag">@param</span> step æ­¥é•¿
     * <span class="hljs-doctag">@return</span> ä¸‹ä¸€ä¸ªID
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">generateDistributedId</span><span class="hljs-params">(String generatorName, <span class="hljs-type">long</span> step)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">counterKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"distributed_id_generator:"</span> + generatorName;
        <span class="hljs-type">RAtomicLong</span> <span class="hljs-variable">idGenerator</span> <span class="hljs-operator">=</span> redissonClient.getAtomicLong(counterKey);
        
        <span class="hljs-comment">// åŸå­æ€§åœ°å¢åŠ stepå¹¶è¿”å›æ–°å€¼</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">nextId</span> <span class="hljs-operator">=</span> idGenerator.addAndGet(step);
        System.out.println(generatorName + <span class="hljs-string">" ç”Ÿæˆçš„ä¸‹ä¸€ä¸ªID: "</span> + nextId);
        
        <span class="hljs-keyword">return</span> nextId;
    }
    
    <span class="hljs-comment">/**
     * ç®€å•çš„åˆ†å¸ƒå¼IDç”Ÿæˆå™¨
     * 
     * <span class="hljs-doctag">@param</span> generatorName ç”Ÿæˆå™¨åç§°
     * <span class="hljs-doctag">@return</span> ä¸‹ä¸€ä¸ªID
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">generateNextId</span><span class="hljs-params">(String generatorName)</span> {
        <span class="hljs-keyword">return</span> generateDistributedId(generatorName, <span class="hljs-number">1</span>);
    }
    
    <span class="hljs-comment">/**
     * è·å–è®¡æ•°å™¨å½“å‰å€¼
     * 
     * <span class="hljs-doctag">@param</span> counterName è®¡æ•°å™¨åç§°
     * <span class="hljs-doctag">@return</span> å½“å‰è®¡æ•°å€¼
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">getCurrentCount</span><span class="hljs-params">(String counterName)</span> {
        <span class="hljs-type">RAtomicLong</span> <span class="hljs-variable">counter</span> <span class="hljs-operator">=</span> redissonClient.getAtomicLong(counterName);
        <span class="hljs-keyword">return</span> counter.get();
    }
    
    <span class="hljs-comment">/**
     * é‡ç½®è®¡æ•°å™¨
     * 
     * <span class="hljs-doctag">@param</span> counterName è®¡æ•°å™¨åç§°
     * <span class="hljs-doctag">@param</span> newValue æ–°å€¼
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">resetCounter</span><span class="hljs-params">(String counterName, <span class="hljs-type">long</span> newValue)</span> {
        <span class="hljs-type">RAtomicLong</span> <span class="hljs-variable">counter</span> <span class="hljs-operator">=</span> redissonClient.getAtomicLong(counterName);
        counter.set(newValue);
        System.out.println(<span class="hljs-string">"è®¡æ•°å™¨ "</span> + counterName + <span class="hljs-string">" å·²é‡ç½®ä¸º: "</span> + newValue);
    }
    
    <span class="hljs-comment">/**
     * å¸¦æ¡ä»¶æ›´æ–°çš„è®¡æ•°å™¨æ“ä½œ
     * 
     * <span class="hljs-doctag">@param</span> counterName è®¡æ•°å™¨åç§°
     * <span class="hljs-doctag">@param</span> expectedValue æœŸæœ›å€¼
     * <span class="hljs-doctag">@param</span> newValue æ–°å€¼
     * <span class="hljs-doctag">@return</span> æ›´æ–°æ˜¯å¦æˆåŠŸ
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">conditionalUpdate</span><span class="hljs-params">(String counterName, <span class="hljs-type">long</span> expectedValue, <span class="hljs-type">long</span> newValue)</span> {
        <span class="hljs-type">RAtomicLong</span> <span class="hljs-variable">counter</span> <span class="hljs-operator">=</span> redissonClient.getAtomicLong(counterName);
        
        <span class="hljs-type">boolean</span> <span class="hljs-variable">updated</span> <span class="hljs-operator">=</span> counter.compareAndSet(expectedValue, newValue);
        <span class="hljs-keyword">if</span> (updated) {
            System.out.println(<span class="hljs-string">"è®¡æ•°å™¨ "</span> + counterName + <span class="hljs-string">" æ¡ä»¶æ›´æ–°æˆåŠŸ: "</span> + expectedValue + <span class="hljs-string">" -&gt; "</span> + newValue);
        } <span class="hljs-keyword">else</span> {
            System.out.println(<span class="hljs-string">"è®¡æ•°å™¨ "</span> + counterName + <span class="hljs-string">" æ¡ä»¶æ›´æ–°å¤±è´¥ï¼Œå½“å‰å€¼: "</span> + counter.get());
        }
        
        <span class="hljs-keyword">return</span> updated;
    }
    
    <span class="hljs-comment">/**
     * å¼‚æ­¥è·å–è®¡æ•°å™¨å€¼
     * 
     * <span class="hljs-doctag">@param</span> counterName è®¡æ•°å™¨åç§°
     * <span class="hljs-doctag">@return</span> CompletableFutureè¡¨ç¤ºè®¡æ•°å€¼
     */</span>
    <span class="hljs-keyword">public</span> CompletableFuture&lt;Long&gt; <span class="hljs-title function_">getCounterValueAsync</span><span class="hljs-params">(String counterName)</span> {
        <span class="hljs-keyword">return</span> CompletableFuture.supplyAsync(() -&gt; {
            <span class="hljs-type">RAtomicLong</span> <span class="hljs-variable">counter</span> <span class="hljs-operator">=</span> redissonClient.getAtomicLong(counterName);
            <span class="hljs-keyword">return</span> counter.get();
        });
    }
}
</code></pre>
<h3 data-id="heading-17">6. åˆ†å¸ƒå¼é›†åˆ - å…±äº«æ•°æ®å­˜å‚¨</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.redisson.api.*;
<span class="hljs-keyword">import</span> org.redisson.api.mapreduce.RCollectionMapReduce;
<span class="hljs-keyword">import</span> java.util.Collection;
<span class="hljs-keyword">import</span> java.util.List;
<span class="hljs-keyword">import</span> java.util.Map;

<span class="hljs-comment">/**
 * åˆ†å¸ƒå¼é›†åˆå¹¶å‘çº§åº”ç”¨åœºæ™¯ç¤ºä¾‹
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CollectionsScenario</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> RedissonClient redissonClient;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">CollectionsScenario</span><span class="hljs-params">(RedissonClient redissonClient)</span> {
        <span class="hljs-built_in">this</span>.redissonClient = redissonClient;
    }
    
    <span class="hljs-comment">/**
     * åˆ†å¸ƒå¼ç¼“å­˜Mapæ“ä½œ
     * 
     * <span class="hljs-doctag">@param</span> cacheName ç¼“å­˜åç§°
     * <span class="hljs-doctag">@param</span> key é”®
     * <span class="hljs-doctag">@param</span> value å€¼
     * <span class="hljs-doctag">@param</span> ttl ç¼“å­˜è¿‡æœŸæ—¶é—´
     * <span class="hljs-doctag">@return</span> æ“ä½œç»“æœ
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">operateDistributedCache</span><span class="hljs-params">(String cacheName, String key, Object value, <span class="hljs-type">long</span> ttl, TimeUnit timeUnit)</span> {
        <span class="hljs-keyword">try</span> {
            RMap&lt;String, Object&gt; cache = redissonClient.getMap(cacheName);
            
            <span class="hljs-comment">// è®¾ç½®å¸¦è¿‡æœŸæ—¶é—´çš„é”®å€¼å¯¹</span>
            <span class="hljs-type">Object</span> <span class="hljs-variable">oldValue</span> <span class="hljs-operator">=</span> cache.put(key, value, ttl, timeUnit);
            
            System.out.println(<span class="hljs-string">"åœ¨ç¼“å­˜ "</span> + cacheName + <span class="hljs-string">" ä¸­è®¾ç½®: "</span> + key + <span class="hljs-string">" = "</span> + value + 
                             <span class="hljs-string">"ï¼Œè¿‡æœŸæ—¶é—´: "</span> + ttl + <span class="hljs-string">" "</span> + timeUnit);
            
            <span class="hljs-keyword">if</span> (oldValue != <span class="hljs-literal">null</span>) {
                System.out.println(<span class="hljs-string">"æ›¿æ¢çš„æ—§å€¼: "</span> + oldValue);
            }
            
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"æ“ä½œåˆ†å¸ƒå¼ç¼“å­˜æ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + e.getMessage());
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    
    <span class="hljs-comment">/**
     * åœ¨çº¿ç”¨æˆ·ç®¡ç†
     * 
     * <span class="hljs-doctag">@param</span> userId ç”¨æˆ·ID
     * <span class="hljs-doctag">@return</span> æ“ä½œç»“æœ
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">manageOnlineUsers</span><span class="hljs-params">(String userId)</span> {
        <span class="hljs-keyword">try</span> {
            RSet&lt;String&gt; onlineUsers = redissonClient.getSet(<span class="hljs-string">"online_users"</span>);
            
            <span class="hljs-comment">// æ·»åŠ ç”¨æˆ·åˆ°åœ¨çº¿ç”¨æˆ·é›†åˆ</span>
            <span class="hljs-type">boolean</span> <span class="hljs-variable">added</span> <span class="hljs-operator">=</span> onlineUsers.add(userId);
            <span class="hljs-keyword">if</span> (added) {
                System.out.println(<span class="hljs-string">"ç”¨æˆ· "</span> + userId + <span class="hljs-string">" å·²ä¸Šçº¿"</span>);
            } <span class="hljs-keyword">else</span> {
                System.out.println(<span class="hljs-string">"ç”¨æˆ· "</span> + userId + <span class="hljs-string">" å·²åœ¨çº¿"</span>);
            }
            
            <span class="hljs-comment">// è·å–å½“å‰åœ¨çº¿ç”¨æˆ·æ•°</span>
            <span class="hljs-type">int</span> <span class="hljs-variable">onlineCount</span> <span class="hljs-operator">=</span> onlineUsers.size();
            System.out.println(<span class="hljs-string">"å½“å‰åœ¨çº¿ç”¨æˆ·æ•°: "</span> + onlineCount);
            
            <span class="hljs-keyword">return</span> added;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"ç®¡ç†åœ¨çº¿ç”¨æˆ·æ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + e.getMessage());
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    
    <span class="hljs-comment">/**
     * ç§»é™¤åœ¨çº¿ç”¨æˆ·
     * 
     * <span class="hljs-doctag">@param</span> userId ç”¨æˆ·ID
     * <span class="hljs-doctag">@return</span> æ˜¯å¦æˆåŠŸç§»é™¤
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">removeOnlineUser</span><span class="hljs-params">(String userId)</span> {
        <span class="hljs-keyword">try</span> {
            RSet&lt;String&gt; onlineUsers = redissonClient.getSet(<span class="hljs-string">"online_users"</span>);
            
            <span class="hljs-type">boolean</span> <span class="hljs-variable">removed</span> <span class="hljs-operator">=</span> onlineUsers.remove(userId);
            <span class="hljs-keyword">if</span> (removed) {
                System.out.println(<span class="hljs-string">"ç”¨æˆ· "</span> + userId + <span class="hljs-string">" å·²ä¸‹çº¿"</span>);
            } <span class="hljs-keyword">else</span> {
                System.out.println(<span class="hljs-string">"ç”¨æˆ· "</span> + userId + <span class="hljs-string">" ä¸åœ¨åœ¨çº¿ç”¨æˆ·åˆ—è¡¨ä¸­"</span>);
            }
            
            <span class="hljs-keyword">return</span> removed;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"ç§»é™¤åœ¨çº¿ç”¨æˆ·æ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + e.getMessage());
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    
    <span class="hljs-comment">/**
     * è·å–æ‰€æœ‰åœ¨çº¿ç”¨æˆ·
     * 
     * <span class="hljs-doctag">@return</span> åœ¨çº¿ç”¨æˆ·åˆ—è¡¨
     */</span>
    <span class="hljs-keyword">public</span> List&lt;String&gt; <span class="hljs-title function_">getOnlineUsers</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">try</span> {
            RSet&lt;String&gt; onlineUsers = redissonClient.getSet(<span class="hljs-string">"online_users"</span>);
            <span class="hljs-keyword">return</span> onlineUsers.readAllSet().stream().toList();
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"è·å–åœ¨çº¿ç”¨æˆ·åˆ—è¡¨æ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + e.getMessage());
            <span class="hljs-keyword">return</span> List.of();
        }
    }
    
    <span class="hljs-comment">/**
     * æ“ä½œåˆ†å¸ƒå¼åˆ—è¡¨
     * 
     * <span class="hljs-doctag">@param</span> listName åˆ—è¡¨åç§°
     * <span class="hljs-doctag">@param</span> elements è¦æ·»åŠ çš„å…ƒç´ 
     * <span class="hljs-doctag">@return</span> æ“ä½œç»“æœ
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">operateDistributedList</span><span class="hljs-params">(String listName, List&lt;String&gt; elements)</span> {
        <span class="hljs-keyword">try</span> {
            RList&lt;String&gt; list = redissonClient.getList(listName);
            
            <span class="hljs-comment">// æ‰¹é‡æ·»åŠ å…ƒç´ </span>
            list.addAll(elements);
            System.out.println(<span class="hljs-string">"å‘åˆ—è¡¨ "</span> + listName + <span class="hljs-string">" æ·»åŠ  "</span> + elements.size() + <span class="hljs-string">" ä¸ªå…ƒç´ "</span>);
            
            <span class="hljs-comment">// è·å–åˆ—è¡¨å¤§å°</span>
            <span class="hljs-type">int</span> <span class="hljs-variable">size</span> <span class="hljs-operator">=</span> list.size();
            System.out.println(<span class="hljs-string">"åˆ—è¡¨ "</span> + listName + <span class="hljs-string">" å½“å‰å¤§å°: "</span> + size);
            
            <span class="hljs-comment">// è·å–åˆ—è¡¨å†…å®¹ï¼ˆé™åˆ¶æ•°é‡ä»¥é¿å…å¤§é‡æ•°æ®ä¼ è¾“ï¼‰</span>
            <span class="hljs-type">int</span> <span class="hljs-variable">maxElementsToShow</span> <span class="hljs-operator">=</span> Math.min(<span class="hljs-number">10</span>, size);
            <span class="hljs-keyword">if</span> (size &gt; <span class="hljs-number">0</span>) {
                java.util.List&lt;String&gt; subList = list.subList(<span class="hljs-number">0</span>, maxElementsToShow);
                System.out.println(<span class="hljs-string">"åˆ—è¡¨å‰ "</span> + maxElementsToShow + <span class="hljs-string">" ä¸ªå…ƒç´ : "</span> + subList);
                <span class="hljs-keyword">if</span> (size &gt; maxElementsToShow) {
                    System.out.println(<span class="hljs-string">"... è¿˜æœ‰ "</span> + (size - maxElementsToShow) + <span class="hljs-string">" ä¸ªå…ƒç´ "</span>);
                }
            }
            
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"æ“ä½œåˆ†å¸ƒå¼åˆ—è¡¨æ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + e.getMessage());
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    
    <span class="hljs-comment">/**
     * æ‰¹é‡æ“ä½œMap
     * 
     * <span class="hljs-doctag">@param</span> mapName Mapåç§°
     * <span class="hljs-doctag">@param</span> data æ‰¹é‡æ•°æ®
     * <span class="hljs-doctag">@return</span> æ“ä½œç»“æœ
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">batchOperateMap</span><span class="hljs-params">(String mapName, Map&lt;String, Object&gt; data)</span> {
        <span class="hljs-keyword">try</span> {
            RMap&lt;String, Object&gt; map = redissonClient.getMap(mapName);
            
            <span class="hljs-comment">// æ‰¹é‡æ·»åŠ æ•°æ®</span>
            map.putAll(data);
            System.out.println(<span class="hljs-string">"å‘Map "</span> + mapName + <span class="hljs-string">" æ‰¹é‡æ·»åŠ  "</span> + data.size() + <span class="hljs-string">" ä¸ªé”®å€¼å¯¹"</span>);
            
            <span class="hljs-comment">// è·å–Mapå¤§å°</span>
            <span class="hljs-type">int</span> <span class="hljs-variable">size</span> <span class="hljs-operator">=</span> map.size();
            System.out.println(<span class="hljs-string">"Map "</span> + mapName + <span class="hljs-string">" å½“å‰å¤§å°: "</span> + size);
            
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"æ‰¹é‡æ“ä½œMapæ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + e.getMessage());
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    
    <span class="hljs-comment">/**
     * è·å–Mapçš„æ‰€æœ‰é”®å€¼å¯¹
     * 
     * <span class="hljs-doctag">@param</span> mapName Mapåç§°
     * <span class="hljs-doctag">@return</span> æ‰€æœ‰é”®å€¼å¯¹
     */</span>
    <span class="hljs-keyword">public</span> Map&lt;String, Object&gt; <span class="hljs-title function_">getAllMapEntries</span><span class="hljs-params">(String mapName)</span> {
        <span class="hljs-keyword">try</span> {
            RMap&lt;String, Object&gt; map = redissonClient.getMap(mapName);
            <span class="hljs-keyword">return</span> map.readAllMap();
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"è·å–Mapæ‰€æœ‰é”®å€¼å¯¹æ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + e.getMessage());
            <span class="hljs-keyword">return</span> Map.of();
        }
    }
    
    <span class="hljs-comment">/**
     * å®‰å…¨åˆ é™¤Mapä¸­çš„é”®å€¼å¯¹
     * 
     * <span class="hljs-doctag">@param</span> mapName Mapåç§°
     * <span class="hljs-doctag">@param</span> key è¦åˆ é™¤çš„é”®
     * <span class="hljs-doctag">@return</span> æ˜¯å¦æˆåŠŸåˆ é™¤
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">safeRemoveFromMap</span><span class="hljs-params">(String mapName, String key)</span> {
        <span class="hljs-keyword">try</span> {
            RMap&lt;String, Object&gt; map = redissonClient.getMap(mapName);
            
            <span class="hljs-type">Object</span> <span class="hljs-variable">removedValue</span> <span class="hljs-operator">=</span> map.remove(key);
            <span class="hljs-keyword">if</span> (removedValue != <span class="hljs-literal">null</span>) {
                System.out.println(<span class="hljs-string">"ä»Map "</span> + mapName + <span class="hljs-string">" ä¸­åˆ é™¤é”®: "</span> + key + <span class="hljs-string">"ï¼Œå€¼: "</span> + removedValue);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            } <span class="hljs-keyword">else</span> {
                System.out.println(<span class="hljs-string">"é”® "</span> + key + <span class="hljs-string">" åœ¨Map "</span> + mapName + <span class="hljs-string">" ä¸­ä¸å­˜åœ¨"</span>);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"å®‰å…¨åˆ é™¤Mapé”®å€¼å¯¹æ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + e.getMessage());
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
}
</code></pre>
<h3 data-id="heading-18">7. å‘å¸ƒ/è®¢é˜… - å®æ—¶æ¶ˆæ¯é€šçŸ¥</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.redisson.api.RTopic;
<span class="hljs-keyword">import</span> org.redisson.api.RedissonClient;
<span class="hljs-keyword">import</span> org.redisson.api.listener.MessageListener;
<span class="hljs-keyword">import</span> java.util.concurrent.CompletableFuture;
<span class="hljs-keyword">import</span> java.util.concurrent.ExecutorService;
<span class="hljs-keyword">import</span> java.util.concurrent.Executors;
<span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit;

<span class="hljs-comment">/**
 * å‘å¸ƒ/è®¢é˜…ç”Ÿäº§çº§åº”ç”¨åœºæ™¯ç¤ºä¾‹
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PubSubScenario</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> RedissonClient redissonClient;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ExecutorService executorService;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">PubSubScenario</span><span class="hljs-params">(RedissonClient redissonClient)</span> {
        <span class="hljs-built_in">this</span>.redissonClient = redissonClient;
        <span class="hljs-built_in">this</span>.executorService = Executors.newCachedThreadPool();
    }
    
    <span class="hljs-comment">/**
     * è®¢é˜…ç³»ç»Ÿé€šçŸ¥
     * 
     * <span class="hljs-doctag">@param</span> topicName ä¸»é¢˜åç§°
     * <span class="hljs-doctag">@param</span> notificationHandler é€šçŸ¥å¤„ç†å™¨
     * <span class="hljs-doctag">@return</span> ç›‘å¬å™¨ID
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">subscribeSystemNotifications</span><span class="hljs-params">(String topicName, java.util.function.Consumer&lt;String&gt; notificationHandler)</span> {
        <span class="hljs-type">RTopic</span> <span class="hljs-variable">topic</span> <span class="hljs-operator">=</span> redissonClient.getTopic(topicName);
        
        <span class="hljs-comment">// æ·»åŠ æ¶ˆæ¯ç›‘å¬å™¨</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">listenerId</span> <span class="hljs-operator">=</span> topic.addListener(String.class, <span class="hljs-keyword">new</span> <span class="hljs-title class_">MessageListener</span>&lt;String&gt;() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onMessage</span><span class="hljs-params">(CharSequence channel, String message)</span> {
                System.out.println(<span class="hljs-string">"æ”¶åˆ°ç³»ç»Ÿé€šçŸ¥ - é¢‘é“: "</span> + channel + <span class="hljs-string">"ï¼Œæ¶ˆæ¯: "</span> + message);
                
                <span class="hljs-comment">// åœ¨ç‹¬ç«‹çº¿ç¨‹ä¸­å¤„ç†æ¶ˆæ¯ï¼Œé¿å…é˜»å¡Redissonçš„æ¶ˆæ¯å¤„ç†çº¿ç¨‹</span>
                executorService.submit(() -&gt; {
                    <span class="hljs-keyword">try</span> {
                        notificationHandler.accept(message);
                    } <span class="hljs-keyword">catch</span> (Exception e) {
                        System.err.println(<span class="hljs-string">"å¤„ç†ç³»ç»Ÿé€šçŸ¥æ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + e.getMessage());
                    }
                });
            }
        });
        
        System.out.println(<span class="hljs-string">"å·²è®¢é˜…ç³»ç»Ÿé€šçŸ¥ä¸»é¢˜: "</span> + topicName + <span class="hljs-string">"ï¼Œç›‘å¬å™¨ID: "</span> + listenerId);
        <span class="hljs-keyword">return</span> listenerId;
    }
    
    <span class="hljs-comment">/**
     * å‘å¸ƒç³»ç»Ÿé€šçŸ¥
     * 
     * <span class="hljs-doctag">@param</span> topicName ä¸»é¢˜åç§°
     * <span class="hljs-doctag">@param</span> message é€šçŸ¥æ¶ˆæ¯
     * <span class="hljs-doctag">@return</span> æ¥æ”¶è€…æ•°é‡
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">publishSystemNotification</span><span class="hljs-params">(String topicName, String message)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">RTopic</span> <span class="hljs-variable">topic</span> <span class="hljs-operator">=</span> redissonClient.getTopic(topicName);
            
            <span class="hljs-comment">// å‘å¸ƒæ¶ˆæ¯</span>
            <span class="hljs-type">long</span> <span class="hljs-variable">receivers</span> <span class="hljs-operator">=</span> topic.publish(message);
            System.out.println(<span class="hljs-string">"ç³»ç»Ÿé€šçŸ¥å·²å‘å¸ƒ - ä¸»é¢˜: "</span> + topicName + 
                             <span class="hljs-string">"ï¼Œæ¶ˆæ¯: "</span> + message + 
                             <span class="hljs-string">"ï¼Œæ¥æ”¶è€…æ•°é‡: "</span> + receivers);
            
            <span class="hljs-keyword">return</span> receivers;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"å‘å¸ƒç³»ç»Ÿé€šçŸ¥æ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + e.getMessage());
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        }
    }
    
    <span class="hljs-comment">/**
     * å¼‚æ­¥å‘å¸ƒç³»ç»Ÿé€šçŸ¥
     * 
     * <span class="hljs-doctag">@param</span> topicName ä¸»é¢˜åç§°
     * <span class="hljs-doctag">@param</span> message é€šçŸ¥æ¶ˆæ¯
     * <span class="hljs-doctag">@return</span> CompletableFutureè¡¨ç¤ºå‘å¸ƒç»“æœ
     */</span>
    <span class="hljs-keyword">public</span> CompletableFuture&lt;Long&gt; <span class="hljs-title function_">publishSystemNotificationAsync</span><span class="hljs-params">(String topicName, String message)</span> {
        <span class="hljs-keyword">return</span> CompletableFuture.supplyAsync(() -&gt; {
            <span class="hljs-keyword">return</span> publishSystemNotification(topicName, message);
        }, executorService);
    }
    
    <span class="hljs-comment">/**
     * è®¢å•çŠ¶æ€å˜æ›´é€šçŸ¥åœºæ™¯
     * 
     * <span class="hljs-doctag">@param</span> orderId è®¢å•ID
     * <span class="hljs-doctag">@param</span> newStatus æ–°çŠ¶æ€
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">notifyOrderStatusChange</span><span class="hljs-params">(String orderId, String newStatus)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">topicName</span> <span class="hljs-operator">=</span> <span class="hljs-string">"order_status_change"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">message</span> <span class="hljs-operator">=</span> String.format(<span class="hljs-string">"è®¢å• %s çŠ¶æ€å˜æ›´ä¸º %s"</span>, orderId, newStatus);
        
        publishSystemNotification(topicName, message);
    }
    
    <span class="hljs-comment">/**
     * ç”¨æˆ·ç™»å½•é€šçŸ¥åœºæ™¯
     * 
     * <span class="hljs-doctag">@param</span> userId ç”¨æˆ·ID
     * <span class="hljs-doctag">@param</span> loginTime ç™»å½•æ—¶é—´
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">notifyUserLogin</span><span class="hljs-params">(String userId, <span class="hljs-type">long</span> loginTime)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">topicName</span> <span class="hljs-operator">=</span> <span class="hljs-string">"user_login"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">message</span> <span class="hljs-operator">=</span> String.format(<span class="hljs-string">"ç”¨æˆ· %s äº %d ç™»å½•"</span>, userId, loginTime);
        
        publishSystemNotification(topicName, message);
    }
    
    <span class="hljs-comment">/**
     * ç³»ç»Ÿç»´æŠ¤é€šçŸ¥åœºæ™¯
     * 
     * <span class="hljs-doctag">@param</span> maintenanceTime ç»´æŠ¤æ—¶é—´
     * <span class="hljs-doctag">@param</span> duration ç»´æŠ¤æ—¶é•¿
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">notifySystemMaintenance</span><span class="hljs-params">(<span class="hljs-type">long</span> maintenanceTime, <span class="hljs-type">long</span> duration)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">topicName</span> <span class="hljs-operator">=</span> <span class="hljs-string">"system_maintenance"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">message</span> <span class="hljs-operator">=</span> String.format(<span class="hljs-string">"ç³»ç»Ÿå°†äº %d å¼€å§‹ç»´æŠ¤ï¼Œé¢„è®¡æŒç»­ %d ç§’"</span>, maintenanceTime, duration);
        
        publishSystemNotification(topicName, message);
    }
    
    <span class="hljs-comment">/**
     * ç§»é™¤æ¶ˆæ¯ç›‘å¬å™¨
     * 
     * <span class="hljs-doctag">@param</span> topicName ä¸»é¢˜åç§°
     * <span class="hljs-doctag">@param</span> listenerId ç›‘å¬å™¨ID
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">removeMessageListener</span><span class="hljs-params">(String topicName, <span class="hljs-type">int</span> listenerId)</span> {
        <span class="hljs-type">RTopic</span> <span class="hljs-variable">topic</span> <span class="hljs-operator">=</span> redissonClient.getTopic(topicName);
        topic.removeListener(listenerId);
        System.out.println(<span class="hljs-string">"å·²ç§»é™¤ç›‘å¬å™¨ï¼ŒID: "</span> + listenerId + <span class="hljs-string">"ï¼Œä¸»é¢˜: "</span> + topicName);
    }
    
    <span class="hljs-comment">/**
     * å…³é—­èµ„æº
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">shutdown</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> (executorService != <span class="hljs-literal">null</span> &amp;&amp; !executorService.isShutdown()) {
            executorService.shutdown();
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">if</span> (!executorService.awaitTermination(<span class="hljs-number">5</span>, TimeUnit.SECONDS)) {
                    executorService.shutdownNow();
                }
            } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                executorService.shutdownNow();
                Thread.currentThread().interrupt();
            }
        }
    }
}
</code></pre>
<h2 data-id="heading-19">åº•å±‚åŸç†è¯¦è§£</h2>
<h3 data-id="heading-20">1. åˆ†å¸ƒå¼é”å®ç°åŸç† ğŸ§©</h3>
<p>Redissonçš„åˆ†å¸ƒå¼é”å°±åƒä¸€ä¸ªæ™ºèƒ½"é—¨å«"ï¼Œå®ƒçš„å®ç°åŸç†éå¸¸å·§å¦™ï¼š</p>
<ul>
<li><strong>è·å–é”</strong>: ä½¿ç”¨Redisçš„<code>SET key value NX EX seconds</code>å‘½ä»¤ï¼Œå°±åƒä¸€ä¸ª"å…ˆåˆ°å…ˆå¾—"çš„æœºåˆ¶ï¼Œç¡®ä¿åªæœ‰åœ¨keyä¸å­˜åœ¨æ—¶æ‰è®¾ç½®æˆåŠŸï¼Œå®ç°åŸå­æ€§æ“ä½œ</li>
<li><strong>Watchdogæœºåˆ¶</strong>: Redissonä½¿ç”¨åå°å®šæ—¶ä»»åŠ¡ï¼ˆçœ‹é—¨ç‹—ï¼‰ï¼Œæ¯è¿‡é”è¿‡æœŸæ—¶é—´çš„1/3å°±è‡ªåŠ¨ç»­æœŸï¼Œå°±åƒç»™é”è£…äº†"æ°¸ä¸æ–­ç”µ"çš„ç”µæ± ï¼Œé˜²æ­¢ä¸šåŠ¡æ‰§è¡Œæ—¶é—´è¿‡é•¿å¯¼è‡´é”æ„å¤–é‡Šæ”¾</li>
<li><strong>å¯é‡å…¥æ€§</strong>: é€šè¿‡Redis Hashç»“æ„è®°å½•çº¿ç¨‹IDå’Œé‡å…¥æ¬¡æ•°ï¼Œè®©åŒä¸€ä¸ª"å®¢äºº"å¯ä»¥å¤šæ¬¡è¿›å…¥"æˆ¿é—´"</li>
<li><strong>åŸå­æ€§æ“ä½œ</strong>: ä½¿ç”¨Luaè„šæœ¬ä¿è¯å¤šä¸ªRediså‘½ä»¤çš„åŸå­æ‰§è¡Œï¼Œå°±åƒä¸€ä¸ª"å¯†é—­æˆ¿é—´"ï¼Œç¡®ä¿æ“ä½œçš„å®Œæ•´æ€§</li>
<li><strong>é”é‡Šæ”¾</strong>: åªæœ‰é”çš„æŒæœ‰è€…æ‰èƒ½é‡Šæ”¾é”ï¼ˆé€šè¿‡Luaè„šæœ¬éªŒè¯ï¼‰ï¼Œé˜²æ­¢"å¼ å† ææˆ´"</li>
<li><strong>RedLockç®—æ³•</strong>: åœ¨å¤šRedisèŠ‚ç‚¹ç¯å¢ƒä¸‹ï¼Œéœ€è¦åŠæ•°ä»¥ä¸ŠèŠ‚ç‚¹è·å–é”æ‰ç®—æˆåŠŸï¼Œå°±åƒ"å°‘æ•°æœä»å¤šæ•°"çš„æ°‘ä¸»æœºåˆ¶</li>
</ul>
<h3 data-id="heading-21">2. ä¿¡å·é‡å®ç°åŸç† ğŸš¦</h3>
<p>ä¿¡å·é‡å°±åƒä¸€ä¸ªæ™ºèƒ½"äº¤é€šç¯"æ§åˆ¶å™¨ï¼š</p>
<ul>
<li><strong>è®¸å¯è¯ç®¡ç†</strong>: ä½¿ç”¨Redisçš„åŸå­æ“ä½œæ¥ç®¡ç†è®¸å¯è¯æ•°é‡ï¼Œç¡®ä¿è®¸å¯è¯è®¡æ•°çš„å‡†ç¡®æ€§</li>
<li><strong>é˜»å¡è·å–</strong>: å½“è®¸å¯è¯ä¸è¶³æ—¶ï¼Œä½¿ç”¨Redisçš„å‘å¸ƒ/è®¢é˜…æœºåˆ¶å®ç°ä¼˜é›…çš„é˜»å¡ç­‰å¾…ï¼Œå°±åƒ"æ’é˜Ÿç­‰åº§"ä¸€æ ·</li>
<li><strong>é‡Šæ”¾è®¸å¯è¯</strong>: å½“è®¸å¯è¯è¢«é‡Šæ”¾æ—¶ï¼Œè‡ªåŠ¨é€šçŸ¥ç­‰å¾…çš„çº¿ç¨‹ï¼Œå®ç°èµ„æºçš„æœ‰æ•ˆåˆ†é…</li>
</ul>
<h3 data-id="heading-22">3. å»¶è¿Ÿé˜Ÿåˆ—å®ç°åŸç† â°</h3>
<p>å»¶è¿Ÿé˜Ÿåˆ—å°±åƒä¸€ä¸ªæ™ºèƒ½"é—¹é’Ÿ"ï¼š</p>
<ul>
<li><strong>æ—¶é—´è½®ç®—æ³•</strong>: Redissonä½¿ç”¨Sorted Set (ZSET) æŒ‰æ—¶é—´æˆ³é¡ºåºå­˜å‚¨å»¶è¿Ÿå…ƒç´ ï¼Œå°±åƒæŒ‰ç…§"é—¹é’Ÿæ—¶é—´"æ’åˆ—çš„é—¹é’Ÿé˜µåˆ—</li>
<li><strong>åå°è½®è¯¢</strong>: ç»´æŠ¤ä¸€ä¸ªåå°çº¿ç¨‹ä¸æ–­è½®è¯¢ZSETï¼Œå°†åˆ°æœŸå…ƒç´ è½¬ç§»åˆ°åº•å±‚é˜Ÿåˆ—ï¼Œå°±åƒ"æ—¶é—´å®ˆæŠ¤è€…"æ—¶åˆ»ç›‘æµ‹</li>
<li><strong>åŸå­è½¬ç§»</strong>: ä½¿ç”¨Luaè„šæœ¬ç¡®ä¿å»¶è¿Ÿå…ƒç´ åˆ°æ™®é€šé˜Ÿåˆ—çš„è½¬ç§»æ˜¯åŸå­æ“ä½œï¼Œé¿å…"æ—¶é—´é”™ä¹±"</li>
</ul>
<h3 data-id="heading-23">4. å¸ƒéš†è¿‡æ»¤å™¨å®ç°åŸç† ğŸ§º</h3>
<p>å¸ƒéš†è¿‡æ»¤å™¨å°±åƒä¸€ä¸ªç¥å¥‡çš„"ç­›å­"ï¼š</p>
<ul>
<li><strong>å¤šHashå‡½æ•°</strong>: ä½¿ç”¨å¤šä¸ªHashå‡½æ•°å¯¹å…ƒç´ è¿›è¡Œè®¡ç®—ï¼Œå°±åƒç”¨å¤šä¸ª"ç­›å­”"å®šä½å…ƒç´ ä½ç½®</li>
<li><strong>BitSetå­˜å‚¨</strong>: ä½¿ç”¨Redisçš„Stringç±»å‹æ¨¡æ‹ŸBitSetï¼Œæ¯ä¸ªbitä½ä»£è¡¨ä¸€ä¸ªå¯èƒ½çš„å…ƒç´ ä½ç½®</li>
<li><strong>è¯¯åˆ¤ç‡æ§åˆ¶</strong>: é€šè¿‡è°ƒæ•´Hashå‡½æ•°ä¸ªæ•°å’ŒBitSetå¤§å°æ¥æ§åˆ¶è¯¯åˆ¤ç‡ï¼Œå°±åƒè°ƒæ•´"ç­›å­ç²¾åº¦"</li>
<li><strong>ç©ºé—´æ•ˆç‡</strong>: ç›¸æ¯”ä¼ ç»Ÿé›†åˆï¼Œå¸ƒéš†è¿‡æ»¤å™¨å ç”¨ç©ºé—´æå°ï¼Œä½†å­˜åœ¨å°‘é‡è¯¯åˆ¤ï¼Œæ˜¯"ç©ºé—´æ¢æ—¶é—´"çš„å…¸å‹åº”ç”¨</li>
</ul>
<h3 data-id="heading-24">5. å‘å¸ƒ/è®¢é˜…æœºåˆ¶ ğŸ“¡</h3>
<p>å‘å¸ƒ/è®¢é˜…å°±åƒä¸€ä¸ªé«˜æ•ˆçš„"å¹¿æ’­ç«™"ï¼š</p>
<ul>
<li><strong>Redis PUB/SUB</strong>: åŸºäºRedisçš„åŸç”Ÿå‘å¸ƒ/è®¢é˜…åŠŸèƒ½å®ç°ï¼Œæä¾›å®æ—¶æ¶ˆæ¯ä¼ é€’</li>
<li><strong>æ¨¡å¼åŒ¹é…</strong>: æ”¯æŒä½¿ç”¨é€šé…ç¬¦è¿›è¡Œé¢‘é“æ¨¡å¼åŒ¹é…ï¼Œè®©æ¶ˆæ¯ä¼ é€’æ›´çµæ´»</li>
<li><strong>æ¶ˆæ¯å¯é æ€§</strong>: æä¾›åŒæ­¥å’Œå¼‚æ­¥ä¸¤ç§æ¶ˆæ¯å¤„ç†æ–¹å¼ï¼Œæ»¡è¶³ä¸åŒåœºæ™¯éœ€æ±‚</li>
<li><strong>è¿æ¥ç®¡ç†</strong>: è‡ªåŠ¨å¤„ç†è¿æ¥æ–­å¼€å’Œé‡è¿ï¼Œç¡®ä¿æ¶ˆæ¯ä¼ é€’çš„å¯é æ€§</li>
</ul>
<h3 data-id="heading-25">6. åºåˆ—åŒ–ä¸ååºåˆ—åŒ– ğŸ“¦</h3>
<p>åºåˆ—åŒ–å°±åƒæ•°æ®çš„"å˜èº«æœ¯"ï¼š</p>
<ul>
<li><strong>é»˜è®¤ç­–ç•¥</strong>: ä½¿ç”¨Jackson JSONåºåˆ—åŒ–ï¼Œä¿è¯æ•°æ®çš„å¯è¯»æ€§å’Œè·¨è¯­è¨€å…¼å®¹æ€§</li>
<li><strong>å¤šç§ç­–ç•¥</strong>: æ”¯æŒKryoã€FSTã€Smileã€CBORç­‰å¤šç§åºåˆ—åŒ–æ–¹å¼ï¼Œæ»¡è¶³ä¸åŒæ€§èƒ½éœ€æ±‚</li>
<li><strong>æ€§èƒ½å¯¹æ¯”</strong>: Kryoå’ŒFSTåºåˆ—åŒ–é€Ÿåº¦å¿«ã€ä½“ç§¯å°ï¼Œä½†Jacksonå…¼å®¹æ€§æ›´å¥½</li>
<li><strong>è‡ªå®šä¹‰åºåˆ—åŒ–</strong>: å¯é€šè¿‡é…ç½®è‡ªå®šä¹‰åºåˆ—åŒ–ç­–ç•¥ï¼Œæ»¡è¶³ç‰¹æ®Šä¸šåŠ¡éœ€æ±‚</li>
</ul>
<h2 data-id="heading-26">æ€§èƒ½ä¼˜åŒ–å»ºè®® ğŸš€</h2>
<ol>
<li>
<p><strong>åˆç†è®¾ç½®è¿æ¥æ± å¤§å°</strong> ğŸ’§ - å°±åƒç»™æ°´ç®¡è®¾ç½®åˆé€‚çš„å£å¾„ï¼Œè¿æ¥æ± å¤ªå°ä¼šé€ æˆ"ä¾›æ°´ä¸è¶³"ï¼ˆè¯·æ±‚æ’é˜Ÿï¼‰ï¼Œå¤ªå¤§åˆ™ä¼šé€ æˆ"èµ„æºæµªè´¹"ï¼ˆè¿æ¥é—²ç½®ï¼‰ï¼Œéœ€è¦æ ¹æ®å®é™…ä¸šåŠ¡æµé‡æ¥"ç²¾ç¡®è°ƒèŠ‚"</p>
</li>
<li>
<p><strong>ä½¿ç”¨æœ¬åœ°ç¼“å­˜å‡å°‘Redisè®¿é—®</strong> ğŸ  - å°±åƒåœ¨å®¶ä¸­å‚¨å¤‡æ—¥å¸¸ç”¨å“ä¸€æ ·ï¼Œé¢‘ç¹è®¿é—®çš„æ•°æ®å¯ä»¥æ”¾åœ¨æœ¬åœ°ç¼“å­˜ä¸­ï¼Œå‡å°‘ç½‘ç»œå¾€è¿”çš„å¼€é”€ï¼Œè®©è®¿é—®å¦‚"è¿‘æ°´æ¥¼å°å…ˆå¾—æœˆ"</p>
</li>
<li>
<p><strong>æ‰¹é‡æ“ä½œæé«˜æ•ˆç‡</strong> ğŸ“¦ - å°±åƒè´­ç‰©æ—¶ä¸€æ¬¡æ€§è´­ä¹°å¤šä»¶å•†å“æ¯”å¤šæ¬¡å•ç‹¬è´­ä¹°æ›´é«˜æ•ˆä¸€æ ·ï¼Œæ‰¹é‡æ“ä½œå¯ä»¥æ˜¾è‘—å‡å°‘ç½‘ç»œé€šä¿¡æ¬¡æ•°ï¼Œæå‡æ•´ä½“æ€§èƒ½</p>
</li>
<li>
<p><strong>åˆç†è®¾ç½®é”çš„è¶…æ—¶æ—¶é—´</strong> â±ï¸ - å°±åƒåœè½¦åœºçš„è®¡æ—¶æ”¶è´¹ä¸€æ ·ï¼Œé”çš„è¶…æ—¶æ—¶é—´è®¾ç½®è¦æ°åˆ°å¥½å¤„ï¼Œå¤ªçŸ­å¯èƒ½å¯¼è‡´ä¸šåŠ¡æœªå®Œæˆå°±è¢«é‡Šæ”¾ï¼Œå¤ªé•¿åˆ™å¯èƒ½é€ æˆèµ„æºé•¿æ—¶é—´å ç”¨</p>
</li>
<li>
<p><strong>é€‰æ‹©åˆé€‚çš„åºåˆ—åŒ–æ–¹å¼</strong> ğŸ“ - å°±åƒé€‰æ‹©ä¸åŒçš„ä¿¡å°ä¸€æ ·ï¼Œä¸åŒçš„åºåˆ—åŒ–æ–¹å¼æœ‰ä¸åŒçš„ç‰¹ç‚¹ï¼šJacksonå…¼å®¹æ€§å¥½ä½†ä½“ç§¯å¤§ï¼ŒKryoå’ŒFSTé€Ÿåº¦å¿«ä½†é€‚ç”¨èŒƒå›´æœ‰é™ï¼Œè¦æ ¹æ®åœºæ™¯é€‰æ‹©</p>
</li>
</ol>
<h2 data-id="heading-27">å¸¸è§é—®é¢˜ä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-28">1. é”çš„å¯é‡å…¥æ€§</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.redisson.api.RLock;
<span class="hljs-keyword">import</span> org.redisson.api.RedissonClient;
<span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit;

<span class="hljs-comment">/**
 * åˆ†å¸ƒå¼é”å¯é‡å…¥æ€§ç”Ÿäº§çº§ç¤ºä¾‹
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ReentrantLockExample</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> RedissonClient redissonClient;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">ReentrantLockExample</span><span class="hljs-params">(RedissonClient redissonClient)</span> {
        <span class="hljs-built_in">this</span>.redissonClient = redissonClient;
    }
    
    <span class="hljs-comment">/**
     * æ¼”ç¤ºåˆ†å¸ƒå¼é”çš„å¯é‡å…¥æ€§
     * 
     * <span class="hljs-doctag">@param</span> lockKey é”çš„key
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">demonstrateReentrantLock</span><span class="hljs-params">(String lockKey)</span> {
        <span class="hljs-type">RLock</span> <span class="hljs-variable">lock</span> <span class="hljs-operator">=</span> redissonClient.getLock(lockKey);
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ç¬¬ä¸€æ¬¡è·å–é”</span>
            lock.lock(<span class="hljs-number">30</span>, TimeUnit.SECONDS);
            System.out.println(<span class="hljs-string">"ç¬¬ä¸€æ¬¡è·å–é”æˆåŠŸ: "</span> + lockKey);
            
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// åŒä¸€çº¿ç¨‹å¯ä»¥å¤šæ¬¡è·å–åŒä¸€æŠŠé”ï¼ˆå¯é‡å…¥ï¼‰</span>
                lock.lock(<span class="hljs-number">30</span>, TimeUnit.SECONDS);
                System.out.println(<span class="hljs-string">"ç¬¬äºŒæ¬¡è·å–é”æˆåŠŸï¼ˆå¯é‡å…¥ï¼‰: "</span> + lockKey);
                
                <span class="hljs-keyword">try</span> {
                    lock.lock(<span class="hljs-number">30</span>, TimeUnit.SECONDS);
                    System.out.println(<span class="hljs-string">"ç¬¬ä¸‰æ¬¡è·å–é”æˆåŠŸï¼ˆå¯é‡å…¥ï¼‰: "</span> + lockKey);
                    
                    <span class="hljs-comment">// æ‰§è¡Œä¸šåŠ¡é€»è¾‘</span>
                    System.out.println(<span class="hljs-string">"æ‰§è¡Œä¸šåŠ¡é€»è¾‘..."</span>);
                    
                } <span class="hljs-keyword">finally</span> {
                    <span class="hljs-comment">// éœ€è¦å¯¹åº”æ¬¡æ•°çš„unlockæ“ä½œ</span>
                    lock.unlock();
                    System.out.println(<span class="hljs-string">"ç¬¬ä¸‰æ¬¡é‡Šæ”¾é”: "</span> + lockKey + <span class="hljs-string">"ï¼Œé”ä»è¢«æŒæœ‰: "</span> + lock.isLocked());
                }
                
            } <span class="hljs-keyword">finally</span> {
                <span class="hljs-comment">// ç¬¬äºŒæ¬¡é‡Šæ”¾é”</span>
                lock.unlock();
                System.out.println(<span class="hljs-string">"ç¬¬äºŒæ¬¡é‡Šæ”¾é”: "</span> + lockKey + <span class="hljs-string">"ï¼Œé”ä»è¢«æŒæœ‰: "</span> + lock.isLocked());
            }
            
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-comment">// æœ€åä¸€æ¬¡é‡Šæ”¾é”ï¼ŒçœŸæ­£é‡Šæ”¾é”</span>
            <span class="hljs-keyword">if</span> (lock.isHeldByCurrentThread()) {
                lock.unlock();
                System.out.println(<span class="hljs-string">"ç¬¬ä¸€æ¬¡é‡Šæ”¾é”: "</span> + lockKey + <span class="hljs-string">"ï¼Œé”å·²å®Œå…¨é‡Šæ”¾: "</span> + !lock.isLocked());
            }
        }
    }
    
    <span class="hljs-comment">/**
     * å®‰å…¨çš„å¯é‡å…¥é”æ“ä½œ
     * 
     * <span class="hljs-doctag">@param</span> lockKey é”çš„key
     * <span class="hljs-doctag">@param</span> businessLogic ä¸šåŠ¡é€»è¾‘
     * <span class="hljs-doctag">@return</span> æ“ä½œç»“æœ
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">safeReentrantOperation</span><span class="hljs-params">(String lockKey, Runnable businessLogic)</span> {
        <span class="hljs-type">RLock</span> <span class="hljs-variable">lock</span> <span class="hljs-operator">=</span> redissonClient.getLock(lockKey);
        <span class="hljs-type">int</span> <span class="hljs-variable">lockCount</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; <span class="hljs-comment">// è®°å½•åŠ é”æ¬¡æ•°</span>
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// è·å–ä¸»é”</span>
            lock.lock(<span class="hljs-number">30</span>, TimeUnit.SECONDS);
            lockCount++;
            
            <span class="hljs-comment">// åœ¨ä¸šåŠ¡é€»è¾‘ä¸­å¯èƒ½éœ€è¦å†æ¬¡è·å–é”</span>
            executeNestedOperation(lock, businessLogic);
            
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"å¯é‡å…¥é”æ“ä½œå¼‚å¸¸: "</span> + e.getMessage());
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-comment">// é‡Šæ”¾æ‰€æœ‰å±‚çº§çš„é”</span>
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; lockCount; i++) {
                <span class="hljs-keyword">if</span> (lock.isHeldByCurrentThread()) {
                    lock.unlock();
                }
            }
        }
    }
    
    <span class="hljs-comment">/**
     * åµŒå¥—æ“ä½œï¼Œå¯èƒ½éœ€è¦å†æ¬¡è·å–é”
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">executeNestedOperation</span><span class="hljs-params">(RLock lock, Runnable businessLogic)</span> {
        <span class="hljs-comment">// æ¨¡æ‹Ÿåœ¨ä¸šåŠ¡é€»è¾‘ä¸­éœ€è¦å†æ¬¡è·å–é”çš„æƒ…å†µ</span>
        <span class="hljs-keyword">if</span> (lock.isHeldByCurrentThread()) {
            <span class="hljs-comment">// åŒä¸€çº¿ç¨‹å¯ä»¥å†æ¬¡è·å–é”</span>
            lock.lock();
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// æ‰§è¡Œä¸šåŠ¡é€»è¾‘</span>
                businessLogic.run();
            } <span class="hljs-keyword">finally</span> {
                lock.unlock(); <span class="hljs-comment">// å¯¹åº”çš„è§£é”æ“ä½œ</span>
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-29">2. æ­»é”é¢„é˜²ä¸è¶…æ—¶å¤„ç†</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.redisson.api.RLock;
<span class="hljs-keyword">import</span> org.redisson.api.RedissonClient;
<span class="hljs-keyword">import</span> java.util.concurrent.CompletableFuture;
<span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit;

<span class="hljs-comment">/**
 * æ­»é”é¢„é˜²ä¸è¶…æ—¶å¤„ç†ç”Ÿäº§çº§ç¤ºä¾‹
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DeadlockPreventionExample</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> RedissonClient redissonClient;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">DeadlockPreventionExample</span><span class="hljs-params">(RedissonClient redissonClient)</span> {
        <span class="hljs-built_in">this</span>.redissonClient = redissonClient;
    }
    
    <span class="hljs-comment">/**
     * ä½¿ç”¨å¸¦è¶…æ—¶çš„é”è·å–ï¼Œé˜²æ­¢æ­»é”
     * 
     * <span class="hljs-doctag">@param</span> lockKey é”çš„key
     * <span class="hljs-doctag">@param</span> businessLogic ä¸šåŠ¡é€»è¾‘
     * <span class="hljs-doctag">@return</span> æ“ä½œç»“æœ
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">preventDeadlockWithTimeout</span><span class="hljs-params">(String lockKey, Runnable businessLogic)</span> {
        <span class="hljs-type">RLock</span> <span class="hljs-variable">lock</span> <span class="hljs-operator">=</span> redissonClient.getLock(lockKey);
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä½¿ç”¨tryLockè®¾ç½®ç­‰å¾…æ—¶é—´å’Œé”æŒæœ‰æ—¶é—´ï¼Œé˜²æ­¢æ— é™ç­‰å¾…å’Œæ­»é”</span>
            <span class="hljs-type">boolean</span> <span class="hljs-variable">acquired</span> <span class="hljs-operator">=</span> lock.tryLock(<span class="hljs-number">10</span>, <span class="hljs-number">30</span>, TimeUnit.SECONDS);
            <span class="hljs-keyword">if</span> (acquired) {
                <span class="hljs-keyword">try</span> {
                    System.out.println(<span class="hljs-string">"è·å–é”æˆåŠŸ: "</span> + lockKey);
                    
                    <span class="hljs-comment">// æ‰§è¡Œä¸šåŠ¡é€»è¾‘</span>
                    businessLogic.run();
                    
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                } <span class="hljs-keyword">finally</span> {
                    <span class="hljs-comment">// ç¡®ä¿é”è¢«é‡Šæ”¾</span>
                    <span class="hljs-keyword">if</span> (lock.isHeldByCurrentThread()) {
                        lock.unlock();
                        System.out.println(<span class="hljs-string">"é‡Šæ”¾é”: "</span> + lockKey);
                    }
                }
            } <span class="hljs-keyword">else</span> {
                System.out.println(<span class="hljs-string">"è·å–é”è¶…æ—¶: "</span> + lockKey);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            Thread.currentThread().interrupt();
            System.err.println(<span class="hljs-string">"è·å–é”æ—¶è¢«ä¸­æ–­: "</span> + e.getMessage());
            
            <span class="hljs-comment">// æ¢å¤ä¸­æ–­çŠ¶æ€å¹¶ç¡®ä¿é”è¢«é‡Šæ”¾</span>
            <span class="hljs-keyword">if</span> (lock != <span class="hljs-literal">null</span> &amp;&amp; lock.isHeldByCurrentThread()) {
                <span class="hljs-keyword">try</span> {
                    lock.unlock();
                } <span class="hljs-keyword">catch</span> (Exception unlockException) {
                    System.err.println(<span class="hljs-string">"é‡Šæ”¾é”æ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + unlockException.getMessage());
                }
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"é”æ“ä½œå¼‚å¸¸: "</span> + e.getMessage());
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    
    <span class="hljs-comment">/**
     * å¼‚æ­¥é”æ“ä½œä¸è¶…æ—¶å¤„ç†
     * 
     * <span class="hljs-doctag">@param</span> lockKey é”çš„key
     * <span class="hljs-doctag">@param</span> businessLogic ä¸šåŠ¡é€»è¾‘
     * <span class="hljs-doctag">@param</span> timeoutSeconds è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
     * <span class="hljs-doctag">@return</span> CompletableFutureè¡¨ç¤ºæ“ä½œç»“æœ
     */</span>
    <span class="hljs-keyword">public</span> CompletableFuture&lt;Boolean&gt; <span class="hljs-title function_">asyncLockOperation</span><span class="hljs-params">(String lockKey, 
                                                         Runnable businessLogic, 
                                                         <span class="hljs-type">long</span> timeoutSeconds)</span> {
        <span class="hljs-keyword">return</span> CompletableFuture.supplyAsync(() -&gt; {
            <span class="hljs-type">RLock</span> <span class="hljs-variable">lock</span> <span class="hljs-operator">=</span> redissonClient.getLock(lockKey);
            
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// ä½¿ç”¨çœ‹é—¨ç‹—æœºåˆ¶ï¼Œè‡ªåŠ¨ç»­æœŸ</span>
                lock.lock(timeoutSeconds, TimeUnit.SECONDS);
                
                <span class="hljs-keyword">try</span> {
                    System.out.println(<span class="hljs-string">"å¼‚æ­¥æ“ä½œè·å–é”æˆåŠŸ: "</span> + lockKey);
                    businessLogic.run();
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                } <span class="hljs-keyword">finally</span> {
                    <span class="hljs-keyword">if</span> (lock != <span class="hljs-literal">null</span> &amp;&amp; lock.isHeldByCurrentThread()) {
                        lock.unlock();
                        System.out.println(<span class="hljs-string">"å¼‚æ­¥æ“ä½œé‡Šæ”¾é”: "</span> + lockKey);
                    }
                }
            } <span class="hljs-keyword">catch</span> (Exception e) {
                System.err.println(<span class="hljs-string">"å¼‚æ­¥é”æ“ä½œå¼‚å¸¸: "</span> + e.getMessage());
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        });
    }
    
    <span class="hljs-comment">/**
     * å¤šé‡é”çš„å®‰å…¨æ“ä½œ
     * 
     * <span class="hljs-doctag">@param</span> lockKeys é”çš„keys
     * <span class="hljs-doctag">@param</span> businessLogic ä¸šåŠ¡é€»è¾‘
     * <span class="hljs-doctag">@return</span> æ“ä½œç»“æœ
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">multiLockOperation</span><span class="hljs-params">(String[] lockKeys, Runnable businessLogic)</span> {
        <span class="hljs-keyword">if</span> (lockKeys == <span class="hljs-literal">null</span> || lockKeys.length == <span class="hljs-number">0</span>) {
            System.out.println(<span class="hljs-string">"æ²¡æœ‰æä¾›é”keys"</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        
        java.util.List&lt;RLock&gt; locks = <span class="hljs-keyword">new</span> <span class="hljs-title class_">java</span>.util.ArrayList&lt;&gt;();
        <span class="hljs-keyword">for</span> (String lockKey : lockKeys) {
            locks.add(redissonClient.getLock(lockKey));
        }
        
        <span class="hljs-type">RLock</span> <span class="hljs-variable">multiLock</span> <span class="hljs-operator">=</span> redissonClient.getMultiLock(locks.toArray(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RLock</span>[<span class="hljs-number">0</span>]));
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// è·å–å¤šé‡é”ï¼Œè®¾ç½®ç­‰å¾…æ—¶é—´å’ŒæŒæœ‰æ—¶é—´</span>
            <span class="hljs-type">boolean</span> <span class="hljs-variable">acquired</span> <span class="hljs-operator">=</span> multiLock.tryLock(<span class="hljs-number">10</span>, <span class="hljs-number">30</span>, TimeUnit.SECONDS);
            <span class="hljs-keyword">if</span> (acquired) {
                <span class="hljs-keyword">try</span> {
                    System.out.println(<span class="hljs-string">"è·å–å¤šé‡é”æˆåŠŸ: "</span> + String.join(<span class="hljs-string">", "</span>, lockKeys));
                    businessLogic.run();
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                } <span class="hljs-keyword">finally</span> {
                    <span class="hljs-comment">// é‡Šæ”¾å¤šé‡é”</span>
                    <span class="hljs-keyword">if</span> (multiLock.isHeldByCurrentThread()) {
                        multiLock.unlock();
                        System.out.println(<span class="hljs-string">"é‡Šæ”¾å¤šé‡é”: "</span> + String.join(<span class="hljs-string">", "</span>, lockKeys));
                    }
                }
            } <span class="hljs-keyword">else</span> {
                System.out.println(<span class="hljs-string">"è·å–å¤šé‡é”è¶…æ—¶: "</span> + String.join(<span class="hljs-string">", "</span>, lockKeys));
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            Thread.currentThread().interrupt();
            System.err.println(<span class="hljs-string">"è·å–å¤šé‡é”æ—¶è¢«ä¸­æ–­: "</span> + e.getMessage());
            
            <span class="hljs-keyword">if</span> (multiLock != <span class="hljs-literal">null</span> &amp;&amp; multiLock.isHeldByCurrentThread()) {
                <span class="hljs-keyword">try</span> {
                    multiLock.unlock();
                } <span class="hljs-keyword">catch</span> (Exception unlockException) {
                    System.err.println(<span class="hljs-string">"é‡Šæ”¾å¤šé‡é”æ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + unlockException.getMessage());
                }
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"å¤šé‡é”æ“ä½œå¼‚å¸¸: "</span> + e.getMessage());
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
}
</code></pre>
<h3 data-id="heading-30">3. å®¢æˆ·ç«¯èµ„æºç®¡ç†</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.redisson.Redisson;
<span class="hljs-keyword">import</span> org.redisson.api.RedissonClient;
<span class="hljs-keyword">import</span> org.redisson.config.Config;
<span class="hljs-keyword">import</span> java.util.concurrent.ExecutorService;
<span class="hljs-keyword">import</span> java.util.concurrent.Executors;
<span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit;

<span class="hljs-comment">/**
 * Redissonå®¢æˆ·ç«¯èµ„æºç®¡ç†ç”Ÿäº§çº§ç¤ºä¾‹
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ResourceManagerExample</span> {
    
    <span class="hljs-comment">/**
     * æ­£ç¡®çš„Redissonå®¢æˆ·ç«¯åˆ›å»ºå’Œå…³é—­
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedissonClientManager</span> {
        <span class="hljs-keyword">private</span> RedissonClient redissonClient;
        <span class="hljs-keyword">private</span> ExecutorService executorService;
        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initialize</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-type">Config</span> <span class="hljs-variable">config</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Config</span>();
                config.useSingleServer()
                      .setAddress(<span class="hljs-string">"redis://127.0.0.1:6379"</span>)
                      .setConnectionPoolSize(<span class="hljs-number">100</span>)
                      .setMinimumIdle(<span class="hljs-number">10</span>)
                      .setConnectTimeout(<span class="hljs-number">10000</span>)
                      .setTimeout(<span class="hljs-number">3000</span>);
                
                config.setNettyThreads(<span class="hljs-number">32</span>);
                
                <span class="hljs-comment">// åˆ›å»ºRedissonå®¢æˆ·ç«¯</span>
                <span class="hljs-built_in">this</span>.redissonClient = Redisson.create(config);
                <span class="hljs-built_in">this</span>.executorService = Executors.newCachedThreadPool();
                
                System.out.println(<span class="hljs-string">"Redissonå®¢æˆ·ç«¯å·²åˆå§‹åŒ–"</span>);
            } <span class="hljs-keyword">catch</span> (Exception e) {
                System.err.println(<span class="hljs-string">"åˆå§‹åŒ–Redissonå®¢æˆ·ç«¯å¤±è´¥: "</span> + e.getMessage());
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"Redissonå®¢æˆ·ç«¯åˆå§‹åŒ–å¤±è´¥"</span>, e);
            }
        }
        
        <span class="hljs-keyword">public</span> RedissonClient <span class="hljs-title function_">getRedissonClient</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">if</span> (redissonClient == <span class="hljs-literal">null</span> || redissonClient.isShutdown()) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalStateException</span>(<span class="hljs-string">"Redissonå®¢æˆ·ç«¯æœªåˆå§‹åŒ–æˆ–å·²å…³é—­"</span>);
            }
            <span class="hljs-keyword">return</span> redissonClient;
        }
        
        <span class="hljs-comment">/**
         * å®‰å…¨å…³é—­Redissonå®¢æˆ·ç«¯
         */</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">shutdown</span><span class="hljs-params">()</span> {
            <span class="hljs-comment">// é¦–å…ˆå…³é—­çº¿ç¨‹æ± </span>
            <span class="hljs-keyword">if</span> (executorService != <span class="hljs-literal">null</span> &amp;&amp; !executorService.isShutdown()) {
                executorService.shutdown();
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-keyword">if</span> (!executorService.awaitTermination(<span class="hljs-number">5</span>, TimeUnit.SECONDS)) {
                        executorService.shutdownNow();
                        <span class="hljs-keyword">if</span> (!executorService.awaitTermination(<span class="hljs-number">5</span>, TimeUnit.SECONDS)) {
                            System.err.println(<span class="hljs-string">"çº¿ç¨‹æ± æœªèƒ½æ­£å¸¸å…³é—­"</span>);
                        }
                    }
                } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                    executorService.shutdownNow();
                    Thread.currentThread().interrupt();
                }
            }
            
            <span class="hljs-comment">// ç„¶åå…³é—­Redissonå®¢æˆ·ç«¯</span>
            <span class="hljs-keyword">if</span> (redissonClient != <span class="hljs-literal">null</span> &amp;&amp; !redissonClient.isShutdown()) {
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-comment">// ä¼˜é›…å…³é—­ï¼Œç­‰å¾…æ‰€æœ‰æ“ä½œå®Œæˆ</span>
                    redissonClient.shutdown(<span class="hljs-number">2</span>, <span class="hljs-number">5</span>, TimeUnit.SECONDS);
                    System.out.println(<span class="hljs-string">"Redissonå®¢æˆ·ç«¯å·²å…³é—­"</span>);
                } <span class="hljs-keyword">catch</span> (Exception e) {
                    System.err.println(<span class="hljs-string">"å…³é—­Redissonå®¢æˆ·ç«¯æ—¶å‘ç”Ÿå¼‚å¸¸: "</span> + e.getMessage());
                }
            }
        }
    }
    
    <span class="hljs-comment">/**
     * ä½¿ç”¨ç¤ºä¾‹
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">RedissonClientManager</span> <span class="hljs-variable">manager</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RedissonClientManager</span>();
        
        <span class="hljs-keyword">try</span> {
            manager.initialize();
            
            <span class="hljs-comment">// ä½¿ç”¨Redissonå®¢æˆ·ç«¯</span>
            <span class="hljs-type">RedissonClient</span> <span class="hljs-variable">redisson</span> <span class="hljs-operator">=</span> manager.getRedissonClient();
            System.out.println(<span class="hljs-string">"Redissonå®¢æˆ·ç«¯çŠ¶æ€: "</span> + (redisson.isShutdown() ? <span class="hljs-string">"å·²å…³é—­"</span> : <span class="hljs-string">"è¿è¡Œä¸­"</span>));
            
            <span class="hljs-comment">// æ‰§è¡Œä¸šåŠ¡æ“ä½œ...</span>
            
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-comment">// ç¡®ä¿åœ¨åº”ç”¨ç»“æŸæ—¶å…³é—­å®¢æˆ·ç«¯</span>
            manager.shutdown();
        }
    }
}
</code></pre>
<p>Redissonå°±åƒåˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„"ç‘å£«å†›åˆ€"ï¼Œæ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ä¸”æ˜“äºä½¿ç”¨çš„Redis Javaå®¢æˆ·ç«¯ï¼å®ƒç‰¹åˆ«é€‚åˆåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­è§£å†³å¹¶å‘æ§åˆ¶ã€æ•°æ®å…±äº«ç­‰å¤æ‚é—®é¢˜ã€‚é€šè¿‡åˆç†ä½¿ç”¨å…¶æä¾›çš„å„ç§åˆ†å¸ƒå¼å¯¹è±¡å’ŒåŠŸèƒ½ï¼Œå¹¶éµå¾ªç”Ÿäº§çº§æœ€ä½³å®è·µï¼Œå°±åƒæœ‰äº†"åˆ†å¸ƒå¼å¼€å‘çš„è¶…çº§åŠ©æ‰‹"ï¼Œå¯ä»¥å¤§å¤§ç®€åŒ–åˆ†å¸ƒå¼åº”ç”¨çš„å¼€å‘ï¼ŒåŒæ—¶ç¡®ä¿ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œå¯é æ€§ã€‚è®©æˆ‘ä»¬ä¸€èµ·ç”¨Redissonæ‰“é€ æ›´ç¨³å®šã€æ›´é«˜æ•ˆçš„åˆ†å¸ƒå¼ç³»ç»Ÿå§ï¼ ğŸ‰</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Anaconda]]></title>    <link>https://juejin.cn/post/7588095884070076416</link>    <guid>https://juejin.cn/post/7588095884070076416</guid>    <pubDate>2025-12-27T15:46:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588095884070076416" data-draft-id="7588092534162014208" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Anaconda"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-27T15:46:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¾œæœˆå"/> <meta itemprop="url" content="https://juejin.cn/user/2872336891512350"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Anaconda
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2872336891512350/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¾œæœˆå
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T15:46:59.000Z" title="Sat Dec 27 2025 15:46:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="xcode">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#000}.xml .hljs-meta{color:silver}.hljs-comment,.hljs-quote{color:#007400}.hljs-attribute,.hljs-keyword,.hljs-literal,.hljs-name,.hljs-selector-tag,.hljs-tag{color:#aa0d91}.hljs-template-variable,.hljs-variable{color:#3f6e74}.hljs-code,.hljs-meta-string,.hljs-string{color:#c41a16}.hljs-link,.hljs-regexp{color:#0e0eff}.hljs-bullet,.hljs-number,.hljs-symbol,.hljs-title{color:#1c00cf}.hljs-meta,.hljs-section{color:#643820}.hljs-built_in,.hljs-builtin-name,.hljs-class .hljs-title,.hljs-params,.hljs-type{color:#5c2699}.hljs-attr{color:#836c28}.hljs-subst{color:#000}.hljs-formula{background-color:#eee;font-style:italic}.hljs-addition{background-color:#baeeba}.hljs-deletion{background-color:#ffc8bd}.hljs-selector-class,.hljs-selector-id{color:#9b703f}.hljs-doctag,.hljs-strong{font-weight:700}.hljs-emphasis{font-style:italic}</style><h2 data-id="heading-0">ğŸ“¦Anacondaä¸Condaçš„æ ¸å¿ƒæ¦‚å¿µ</h2>
<p>Anacondaæ˜¯ä¸€ä¸ªæµè¡Œçš„<code>Pythonæ•°æ®ç§‘å­¦å‘è¡Œç‰ˆ</code>ï¼Œå®ƒé›†æˆäº†Condaã€Pythonä»¥åŠè¶…è¿‡180ä¸ªç§‘å­¦è®¡ç®—å’Œæ•°æ®å¤„ç†çš„å¸¸ç”¨åŒ…ã€‚å®ƒçš„å¼ºå¤§ä¹‹å¤„åœ¨äºèƒ½å¤Ÿé«˜æ•ˆåœ°ç®¡ç†åŒ…å’Œç¯å¢ƒï¼Œå°¤å…¶é€‚åˆå¤„ç†å¤æ‚çš„ä¾èµ–å…³ç³»ã€‚</p>
<p>Condaæ˜¯å…¶æ ¸å¿ƒç»„ä»¶ï¼Œå®ƒèº«å…¼ä¸¤èŒï¼š</p>
<ul>
<li><strong>åŒ…ç®¡ç†å™¨</strong>ï¼šç±»ä¼¼äº<code>pip</code>ï¼Œå¯ä»¥å®‰è£…ã€æ›´æ–°ã€å¸è½½PythonåŒ…ï¼Œä½†ä¼˜åŠ¿åœ¨äºèƒ½è‡ªåŠ¨å¤„ç†å¤æ‚çš„ä¾èµ–å…³ç³»ã€‚</li>
<li><strong>ç¯å¢ƒç®¡ç†å™¨</strong>ï¼šå¯ä»¥åˆ›å»ºç›¸äº’éš”ç¦»çš„è™šæ‹Ÿç¯å¢ƒï¼Œä»¥ä¾¿ä¸åŒé¡¹ç›®å¯ä»¥ä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„Pythonå’Œåº“ï¼Œå½»åº•é¿å…ç‰ˆæœ¬å†²çªã€‚</li>
</ul>
<blockquote>
<p><strong>é‡è¦æç¤º</strong>ï¼šä½¿ç”¨è™šæ‹Ÿç¯å¢ƒæ˜¯<strong>æœ€ä½³å®è·µ</strong>ï¼Œèƒ½ä¸ºæ¯ä¸ªé¡¹ç›®åˆ›å»ºç‹¬ç«‹ã€çº¯å‡€çš„è¿è¡Œç©ºé—´ï¼Œå¼ºçƒˆæ¨èä½ ä¸ºæ¯ä¸€ä¸ªæ–°é¡¹ç›®éƒ½è¿™æ ·åšã€‚</p>
</blockquote>
<h2 data-id="heading-1">ğŸŒ Anaconda æ›´æ¢é•œåƒæº</h2>
<p>æ›´æ¢é•œåƒæºä¸»è¦æ˜¯é€šè¿‡ä¿®æ”¹ Conda çš„é…ç½®æ–‡ä»¶ï¼ˆ<code>.condarc</code>ï¼‰æ¥å®ç°ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†æ­¥éª¤å’Œå‘½ä»¤ã€‚</p>








































<table><thead><tr><th>ä»»åŠ¡</th><th>å‘½ä»¤ / æ“ä½œ</th><th>è¯´æ˜ä¸ç¤ºä¾‹</th></tr></thead><tbody><tr><td><strong>æŸ¥çœ‹å½“å‰é…ç½®</strong></td><td><code>conda config --show channels</code></td><td>æŸ¥çœ‹å½“å‰å·²æ·»åŠ çš„é¢‘é“ï¼ˆé•œåƒæºï¼‰ä¼˜å…ˆçº§åˆ—è¡¨ï¼Œé å‰çš„ä¼˜å…ˆçº§é«˜ã€‚</td></tr><tr><td><strong>æ·»åŠ é•œåƒé¢‘é“</strong></td><td>æ·»åŠ <strong>æ¸…åå¤§å­¦</strong>æºï¼š <code>conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/</code> <code>conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/</code> <code>conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/</code>  <br/>æ·»åŠ <strong>é˜¿é‡Œäº‘</strong>æºï¼š <code>conda config --add channels https://mirrors.aliyun.com/anaconda/pkgs/main/</code> <code>conda config --add channels https://mirrors.aliyun.com/anaconda/pkgs/free/</code>  <br/>æ·»åŠ <strong>ä¸­ç§‘å¤§</strong>æºï¼ˆ<strong>å·²åœç”¨ï¼Œä»…ä½œå‚è€ƒ</strong>ï¼‰ï¼š <code>conda config --add channels https://mirrors.ustc.edu.cn/anaconda/pkgs/main/</code> <code>conda config --add channels https://mirrors.ustc.edu.cn/anaconda/pkgs/free/</code></td><td><strong>å‘½ä»¤ä¼šæŒ‰æ‰§è¡Œé¡ºåºå åŠ </strong>ï¼Œåæ·»åŠ çš„æºä¼šå‡ºç°åœ¨åˆ—è¡¨æ›´é å‰çš„ä½ç½®ï¼Œæ‹¥æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§ã€‚<strong>è¯·å‹¿æ·»åŠ å·²åœç”¨çš„ä¸­ç§‘å¤§æºã€‚</strong></td></tr><tr><td><strong>è®¾ç½®æ˜¾ç¤ºé¢‘é“URL</strong></td><td><code>conda config --set show_channel_urls yes</code></td><td>æ‰§è¡ŒÂ <code>conda install</code>Â æ—¶ï¼Œä¼šæ˜¾ç¤ºåŒ…æ˜¯ä»å“ªä¸ªé•œåƒé¢‘é“ä¸‹è½½çš„ï¼Œä¾¿äºç¡®è®¤æ¥æºã€‚</td></tr><tr><td><strong>ç§»é™¤æŒ‡å®šé•œåƒé¢‘é“</strong></td><td><code>conda config --remove channels &lt;å®Œæ•´çš„é¢‘é“URL&gt;</code></td><td>å½“æŸä¸ªé•œåƒå¤±æ•ˆæ—¶ï¼Œå¯å°†å…¶ç§»é™¤ã€‚ä¾‹å¦‚ç§»é™¤ä¸€ä¸ªå¤±æ•ˆçš„æ¸…åæºï¼š<code>conda config --remove channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/</code></td></tr><tr><td><strong>æ¢å¤é»˜è®¤æº</strong></td><td><code>conda config --remove-key channels</code></td><td><strong>ä¸€é”®ç§»é™¤æ‰€æœ‰è‡ªå®šä¹‰é¢‘é“</strong>ï¼Œæ¢å¤ä¸º Conda å®˜æ–¹é»˜è®¤æº (<code>defaults</code>)ã€‚</td></tr><tr><td><strong>æ‰‹åŠ¨ç¼–è¾‘é…ç½®æ–‡ä»¶</strong></td><td>é…ç½®æ–‡ä»¶é€šå¸¸ä½äºï¼š <code>D:\Environment\Anaconda/.condarc</code>Â (Windows) <code>~/.condarc</code>Â (Mac/Linux)</td><td>ç›´æ¥ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€æ­¤æ–‡ä»¶ï¼ŒæŒ‰Â <strong>YAMLæ ¼å¼</strong>Â è¿›è¡Œæ›´çµæ´»çš„ç¼–è¾‘ï¼ˆä¾‹å¦‚ç›´æ¥è°ƒæ•´æºçš„å…ˆåé¡ºåºï¼‰ã€‚</td></tr></tbody></table>
<ol>
<li>
<ul>
<li><code>channels</code>Â åˆ—è¡¨<strong>è‡ªä¸Šè€Œä¸‹ä¼˜å…ˆçº§é€’å‡</strong>ã€‚ä½ å¯ä»¥é€šè¿‡è°ƒæ•´é¡ºåºæ¥ä¼˜å…ˆä½¿ç”¨æœ€å¿«çš„æºã€‚ç¼–è¾‘Â <code>.condarc</code>Â æ–‡ä»¶ï¼Œå°†é˜¿é‡Œäº‘æ”¾åœ¨æœ€ä¸Šé¢ä»¥è·å¾—ä¼˜å…ˆä½¿ç”¨ã€‚
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">channels:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">https://mirrors.aliyun.com/anaconda/pkgs/main/</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">https://mirrors.aliyun.com/anaconda/pkgs/free/</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">defaults</span>
<span class="hljs-attr">show_channel_urls:</span> <span class="hljs-literal">true</span>
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>ä¸´æ—¶ä½¿ç”¨ç‰¹å®šæº</strong></p>
<ul>
<li>å¦‚æœä¸æƒ³ä¿®æ”¹å…¨å±€é…ç½®ï¼Œå¯ä»¥åœ¨å®‰è£…å‘½ä»¤ä¸­ä¸´æ—¶æŒ‡å®šé¢‘é“ã€‚ä¾‹å¦‚ï¼Œä¸´æ—¶ä»æ¸…åçš„Â <code>conda-forge</code>Â é¢‘é“å®‰è£…æŸä¸ªåŒ…ï¼š
<pre><code class="hljs language-bash" lang="bash">conda install -c https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge &lt;package_name&gt;
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>æµ‹è¯•ä¸æ¸…ç†</strong></p>
<ul>
<li>é…ç½®å®Œæˆåï¼Œå¯ä»¥è¿è¡ŒÂ <code>conda clean -i</code>Â æ¸…é™¤ç´¢å¼•ç¼“å­˜ï¼Œç„¶åå°è¯•å®‰è£…ä¸€ä¸ªåŒ…Â <code>conda install numpy</code>æ¥æµ‹è¯•æ–°æºçš„ä¸‹è½½é€Ÿåº¦ã€‚</li>
</ul>
</li>
</ol>
<h2 data-id="heading-2">ğŸŒ±å‘½ä»¤å¤§å…¨</h2>
<h3 data-id="heading-3">âš™ï¸ç¯å¢ƒç®¡ç†ä¸æ–°ç¯å¢ƒ</h3>













































<table><thead><tr><th>ä»»åŠ¡</th><th>å‘½ä»¤</th><th>è¯´æ˜ä¸ç¤ºä¾‹</th></tr></thead><tbody><tr><td><strong>åˆ›å»ºç¯å¢ƒ</strong></td><td><code>conda create --name &lt;ç¯å¢ƒå&gt; python=&lt;ç‰ˆæœ¬å·&gt;</code></td><td>åˆ›å»ºä¸€ä¸ªæŒ‡å®šPythonç‰ˆæœ¬çš„æ–°ç¯å¢ƒã€‚ä¾‹ï¼š<code>conda create --name my_project python=3.9</code></td></tr><tr><td><strong>æ¿€æ´»ç¯å¢ƒ</strong></td><td><code>conda activate &lt;ç¯å¢ƒå&gt;</code></td><td>è¿›å…¥æŸä¸ªç¯å¢ƒï¼Œåç»­æ“ä½œå‡åœ¨æ­¤ç¯å¢ƒä¸­è¿›è¡Œã€‚Windowsçš„æ—§ç‰ˆAnacondaå¯èƒ½éœ€è¦ä½¿ç”¨Â <code>activate &lt;ç¯å¢ƒå&gt;</code>ã€‚</td></tr><tr><td><strong>é€€å‡ºç¯å¢ƒ</strong></td><td><code>conda deactivate</code></td><td>é€€å‡ºå½“å‰ç¯å¢ƒï¼Œå›åˆ°åŸºç¡€ï¼ˆbaseï¼‰ç¯å¢ƒã€‚</td></tr><tr><td><strong>åˆ—å‡ºæ‰€æœ‰ç¯å¢ƒ</strong></td><td><code>conda env list</code>Â æˆ–Â <code>conda info --envs</code></td><td>æŸ¥çœ‹å·²åˆ›å»ºçš„æ‰€æœ‰ç¯å¢ƒï¼Œå½“å‰æ¿€æ´»çš„ç¯å¢ƒå‰ä¼šç”¨æ˜Ÿå·<code>*</code>æ ‡è®°ã€‚</td></tr><tr><td><strong>åˆ é™¤ç¯å¢ƒ</strong></td><td><code>conda remove --name &lt;ç¯å¢ƒå&gt; --all</code></td><td><strong>è°¨æ…æ“ä½œ</strong>ï¼Œä¼šåˆ é™¤è¯¥ç¯å¢ƒåŠå…¶æ‰€æœ‰åŒ…ã€‚</td></tr><tr><td><strong>å…‹éš†ç¯å¢ƒ</strong></td><td><code>conda create --name &lt;æ–°å&gt; --clone &lt;è¢«å…‹éš†å&gt;</code>[]</td><td>å¤åˆ¶ä¸€ä¸ªç°æœ‰ç¯å¢ƒï¼Œç”¨äºå¤‡ä»½æˆ–åˆ›å»ºç›¸ä¼¼ç¯å¢ƒã€‚</td></tr><tr><td><strong>å¯¼å‡º/å¯¼å…¥ç¯å¢ƒ</strong></td><td>å¯¼å‡ºï¼š<code>conda env export &gt; environment.yml</code> å¯¼å…¥ï¼š<code>conda env create -f environment.yml</code></td><td>å°†ç¯å¢ƒçš„ç²¾ç¡®é…ç½®å¯¼å‡ºä¸ºYAMLæ–‡ä»¶ï¼Œä¾¿äºåœ¨å…¶ä»–æœºå™¨ä¸Šå¤ç°ç›¸åŒç¯å¢ƒã€‚</td></tr></tbody></table>
<h3 data-id="heading-4">ğŸ“¦ åŒ…ç®¡ç†ï¼šå®‰è£…ä¸ç»´æŠ¤å·¥å…·</h3>
<p>åœ¨æ¿€æ´»çš„è™šæ‹Ÿç¯å¢ƒä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨Condaæ¥ç®¡ç†æ‰€æœ‰åŒ…ã€‚</p>








































<table><thead><tr><th>ä»»åŠ¡</th><th>å‘½ä»¤</th><th>è¯´æ˜ä¸ç¤ºä¾‹</th></tr></thead><tbody><tr><td><strong>å®‰è£…åŒ…</strong></td><td><code>conda install &lt;åŒ…å&gt;</code></td><td>å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„åŒ…ã€‚ä¾‹ï¼š<code>conda install pandas</code>ã€‚ å¯æŒ‡å®šç‰ˆæœ¬ï¼š<code>conda install numpy=1.19.5</code>ã€‚ å¯ä»ç‰¹å®šé¢‘é“å®‰è£…ï¼š<code>conda install -c conda-forge scikit-learn</code>ã€‚</td></tr><tr><td><strong>åˆ—å‡ºå·²å®‰è£…åŒ…</strong></td><td><code>conda list</code></td><td>æŸ¥çœ‹å½“å‰ç¯å¢ƒä¸­æ‰€æœ‰å·²å®‰è£…çš„åŒ…åŠå…¶ç‰ˆæœ¬ã€‚</td></tr><tr><td><strong>æœç´¢åŒ…</strong></td><td><code>conda search &lt;åŒ…å&gt;</code></td><td>åœ¨Condaä»“åº“ä¸­æœç´¢å¯ç”¨çš„åŒ…ã€‚åŠ <code>--info</code>å¯æŸ¥çœ‹è¯¦ç»†ç‰ˆæœ¬ä¿¡æ¯ã€‚</td></tr><tr><td><strong>æ›´æ–°åŒ…</strong></td><td><code>conda update &lt;åŒ…å&gt;</code></td><td>æ›´æ–°æŒ‡å®šåŒ…ã€‚ æ›´æ–°æ‰€æœ‰åŒ…ï¼š<code>conda update --all</code>ï¼ˆéœ€è°¨æ…ï¼Œå¯èƒ½å¼•å‘ä¾èµ–é—®é¢˜ï¼‰ã€‚</td></tr><tr><td><strong>å¸è½½åŒ…</strong></td><td><code>conda remove &lt;åŒ…å&gt;</code></td><td>ä»å½“å‰ç¯å¢ƒä¸­ç§»é™¤æŒ‡å®šåŒ…ã€‚</td></tr><tr><td><strong>æ¸…ç†ç¼“å­˜</strong></td><td><code>conda clean --all</code></td><td>åˆ é™¤ä¸å†ä½¿ç”¨çš„åŒ…ç¼“å­˜å’Œä¸´æ—¶æ–‡ä»¶ï¼Œé‡Šæ”¾ç£ç›˜ç©ºé—´ã€‚</td></tr></tbody></table>
<h2 data-id="heading-5">ğŸ› ï¸ é…ç½®ã€æ£€æŸ¥ä»¥åŠä½¿ç”¨æŠ€å·§</h2>
<h3 data-id="heading-6">åŸºç¡€ä¸é…ç½®</h3>
<ul>
<li><strong>æ£€æŸ¥ä¿¡æ¯</strong>ï¼šä½¿ç”¨Â <code>conda info</code>Â æŸ¥çœ‹Condaçš„å®‰è£…è·¯å¾„ã€ç¯å¢ƒåˆ—è¡¨ç­‰åŸºç¡€ä¿¡æ¯ã€‚</li>
<li><strong>æ›´æ–°è‡ªèº«</strong>ï¼šä½¿ç”¨Â <code>conda update conda</code>Â å’ŒÂ <code>conda update anaconda</code>Â æ¥æ›´æ–°Condaå·¥å…·å’Œæ•´ä¸ªAnacondaå‘è¡Œç‰ˆã€‚</li>
<li><strong>é…ç½®é•œåƒæº</strong>ï¼šå›½å†…ç”¨æˆ·å¯ä»¥å°†é»˜è®¤ä»“åº“ï¼ˆchannelï¼‰æ›¿æ¢ä¸ºå›½å†…é•œåƒï¼ˆå¦‚æ¸…åæºï¼‰ä»¥æ˜¾è‘—æå‡ä¸‹è½½é€Ÿåº¦ã€‚ä¸è¿‡é…ç½®æ–¹æ³•å¯èƒ½éšæ—¶é—´å˜åŒ–ï¼Œå»ºè®®æœç´¢â€œAnaconda æ¸…åæº æœ€æ–°â€è·å–å½“å‰å¯ç”¨çš„é…ç½®æŒ‡ä»¤ã€‚</li>
<li><strong>ç¯å¢ƒç‰ˆæœ¬å›æ»š</strong>ï¼šCondaæœ‰è®°å½•ç¯å¢ƒå˜æ›´çš„åŠŸèƒ½ã€‚ä½¿ç”¨Â <code>conda list --revisions</code>Â æŸ¥çœ‹å†å²ç‰ˆæœ¬ï¼Œä½¿ç”¨Â <code>conda install --revision &lt;ç‰ˆæœ¬å·&gt;</code>Â å¯ä»¥å›æ»šåˆ°æŸä¸€çŠ¶æ€ã€‚</li>
</ul>
<h3 data-id="heading-7">æ•´åˆä¸å·¥ä½œæµå»ºè®®</h3>
<ul>
<li><strong>ä¸PyCharmç­‰IDEç»“åˆ</strong>ï¼šåœ¨PyCharmä¸­ï¼Œä½ å¯ä»¥åœ¨Â <code>File &gt; Settings &gt; Project: &lt;é¡¹ç›®å&gt; &gt; Python Interpreter</code>Â ä¸­æ·»åŠ Anacondaè™šæ‹Ÿç¯å¢ƒä¸­çš„Pythonè§£é‡Šå™¨è·¯å¾„ï¼ˆé€šå¸¸ä½äºÂ <code>Anacondaå®‰è£…ç›®å½•/envs/&lt;ç¯å¢ƒå&gt;/python.exe</code>ï¼‰ï¼Œå³å¯åœ¨è¯¥é¡¹ç›®ä¸­ä½¿ç”¨è¯¥ç¯å¢ƒã€‚</li>
<li><strong>Condaä¸Pipæ··ç”¨</strong>ï¼šè™½ç„¶æ¨èä¼˜å…ˆä½¿ç”¨Â <code>conda install</code>ï¼Œä½†å¦‚æœæŸä¸ªåŒ…åœ¨Condaä»“åº“ä¸­æ‰¾ä¸åˆ°ï¼Œå¯ä»¥åœ¨æ¿€æ´»çš„Condaç¯å¢ƒä¸­ä½¿ç”¨Â <code>pip install</code>ã€‚é€šå¸¸ä¸ä¼šæœ‰å¤§é—®é¢˜ï¼Œä½†æç«¯æƒ…å†µä¸‹å¯èƒ½å‡ºç°ä¾èµ–å†²çªã€‚</li>
<li><strong>é¡¹ç›®å·¥ä½œæµå»ºè®®</strong>ï¼š
<ol>
<li>å¯åŠ¨æ–°é¡¹ç›®æ—¶ï¼Œå…ˆåˆ›å»ºä¸“å±è™šæ‹Ÿç¯å¢ƒã€‚</li>
<li>åœ¨ç¯å¢ƒä¸­å®‰è£…æ‰€æœ‰å¿…è¦çš„ä¾èµ–ã€‚</li>
<li>é¡¹ç›®å®Œæˆåï¼Œä½¿ç”¨Â <code>conda env export &gt; environment.yml</code>Â å¯¼å‡ºç¯å¢ƒé…ç½®ï¼Œå¹¶å’Œé¡¹ç›®ä»£ç ä¸€èµ·ä¿å­˜æˆ–åˆ†äº«ã€‚</li>
<li>å¯¹äºä¸éœ€è¦çš„ç¯å¢ƒï¼ŒåŠæ—¶åˆ é™¤ä»¥èŠ‚çœç©ºé—´ã€‚</li>
</ol>
</li>
</ul>
<h2 data-id="heading-8">ğŸ’ æ ¸å¿ƒè¦ç‚¹æ€»ç»“</h2>
<ul>
<li><strong>éš”ç¦»æ˜¯å…³é”®</strong>ï¼šä¸ºæ¯ä¸ªé¡¹ç›®åˆ›å»ºç‹¬ç«‹çš„è™šæ‹Ÿç¯å¢ƒï¼Œè¿™æ˜¯ä½¿ç”¨Anacondaæœ€é‡è¦çš„å¥½ä¹ æƒ¯ã€‚</li>
<li><strong>å‘½ä»¤æœ‰å±‚æ¬¡</strong>ï¼šå…ˆç®¡ç†å¥½ç¯å¢ƒï¼ˆ<code>create</code>,Â <code>activate</code>ï¼‰ï¼Œå†åœ¨ç¯å¢ƒä¸­ç®¡ç†åŒ…ï¼ˆ<code>install</code>,Â <code>list</code>ï¼‰ã€‚</li>
<li><strong>åˆ©ç”¨å¯¼å‡ºåŠŸèƒ½</strong>ï¼šç”¨Â <code>environment.yml</code>Â æ–‡ä»¶è®°å½•ç¯å¢ƒï¼Œç¡®ä¿é¡¹ç›®å¯å¤ç°ã€‚</li>
<li><strong>å–„ç”¨é•œåƒåŠ é€Ÿ</strong>ï¼šåœ¨å›½å†…é…ç½®é•œåƒæºå¯ä»¥æå¤§æå‡åŒ…ä¸‹è½½æ•ˆç‡ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é¢è¯•å®˜: â€œ è¯´ä¸€ä¸‹ä½ å¯¹ Cookie çš„ç†è§£ ? â€]]></title>    <link>https://juejin.cn/post/7588043318359146531</link>    <guid>https://juejin.cn/post/7588043318359146531</guid>    <pubDate>2025-12-27T11:32:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588043318359146531" data-draft-id="7588095884069535744" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é¢è¯•å®˜: â€œ è¯´ä¸€ä¸‹ä½ å¯¹ Cookie çš„ç†è§£ ? â€"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2025-12-27T11:32:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åƒå¯»girling"/> <meta itemprop="url" content="https://juejin.cn/user/2276467567770442"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é¢è¯•å®˜: â€œ è¯´ä¸€ä¸‹ä½ å¯¹ Cookie çš„ç†è§£ ? â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2276467567770442/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åƒå¯»girling
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T11:32:30.000Z" title="Sat Dec 27 2025 11:32:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1.Â <strong>ä»€ä¹ˆæ˜¯ Cookie</strong></h2>
<p><strong>Cookie</strong>ï¼ˆå°ç”œé¥¼ï¼‰æ˜¯Â <strong>æœåŠ¡å™¨å‘é€ç»™æµè§ˆå™¨å¹¶ä¿å­˜åœ¨å®¢æˆ·ç«¯çš„ä¸€å°æ®µæ•°æ®</strong>ï¼Œç”¨äºï¼š</p>
<ul>
<li>è®°å½•ç”¨æˆ·çŠ¶æ€ï¼ˆå¦‚ç™»å½•ä¿¡æ¯ã€è´­ç‰©è½¦å†…å®¹ï¼‰</li>
<li>è·Ÿè¸ªç”¨æˆ·è¡Œä¸ºï¼ˆå¦‚æµè§ˆå†å²ã€å¹¿å‘Šæ¨é€ï¼‰</li>
<li>å­˜å‚¨å°‘é‡é…ç½®ä¿¡æ¯ï¼ˆå¦‚ä¸»é¢˜åå¥½ã€è¯­è¨€è®¾ç½®ï¼‰</li>
</ul>
<p><strong>ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>å¤§å°é™åˆ¶ï¼šé€šå¸¸æ¯ä¸ª Cookie æœ€å¤§ 4KB</li>
<li>æ•°é‡é™åˆ¶ï¼šæ¯ä¸ªåŸŸåä¸€èˆ¬æœ€å¤š 50 ä¸ª Cookie</li>
<li>è‡ªåŠ¨æºå¸¦ï¼šæµè§ˆå™¨åœ¨è®¿é—®åŒä¸€åŸŸåæ—¶ä¼šè‡ªåŠ¨å°† Cookie é™„åŠ åœ¨è¯·æ±‚å¤´ä¸­å‘é€ç»™æœåŠ¡å™¨</li>
</ul>
<hr/>
<h2 data-id="heading-1">2.Â <strong>Cookie çš„ç»“æ„</strong></h2>
<p>ä¸€ä¸ª Cookie é€šå¸¸åŒ…å«ä»¥ä¸‹å­—æ®µï¼š</p>









































<table><thead><tr><th>å­—æ®µå</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>Name</strong></td><td>Cookie çš„åç§°</td></tr><tr><td><strong>Value</strong></td><td>Cookie çš„å€¼ï¼ˆé€šå¸¸ç»è¿‡ URL ç¼–ç ï¼‰</td></tr><tr><td><strong>Domain</strong></td><td>å¯ä»¥è®¿é—®è¯¥ Cookie çš„åŸŸå</td></tr><tr><td><strong>Path</strong></td><td>å¯ä»¥è®¿é—®è¯¥ Cookie çš„è·¯å¾„</td></tr><tr><td><strong>Expires / Max-Age</strong></td><td>Cookie çš„è¿‡æœŸæ—¶é—´ï¼ˆExpires æ˜¯å…·ä½“æ—¥æœŸï¼ŒMax-Age æ˜¯ç§’æ•°ï¼‰</td></tr><tr><td><strong>HttpOnly</strong></td><td>å¦‚æœè®¾ç½®ï¼ŒCookie ä¸èƒ½é€šè¿‡ JavaScript è®¿é—®ï¼ˆé˜²æ­¢ XSS æ”»å‡»ï¼‰</td></tr><tr><td><strong>Secure</strong></td><td>å¦‚æœè®¾ç½®ï¼ŒCookie åªèƒ½é€šè¿‡ HTTPS ä¼ è¾“</td></tr><tr><td><strong>SameSite</strong></td><td>æ§åˆ¶è·¨ç«™è¯·æ±‚æ—¶æ˜¯å¦å‘é€ Cookieï¼ˆé˜²æ­¢ CSRF æ”»å‡»ï¼‰</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-2">3.Â <strong>Cookie çš„å·¥ä½œæµç¨‹</strong></h2>
<ol>
<li>
<p><strong>æœåŠ¡å™¨å‘é€ Cookie</strong> : å½“æµè§ˆå™¨ç¬¬ä¸€æ¬¡è®¿é—®æœåŠ¡å™¨æ—¶ï¼ŒæœåŠ¡å™¨åœ¨å“åº”å¤´ä¸­æ·»åŠ ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">Set-Cookie: <span class="hljs-attr">username</span>=Tom<span class="hljs-comment">; Path=/; HttpOnly; Secure</span>
</code></pre>
<p>æµè§ˆå™¨æ”¶åˆ°åä¼šå°†è¯¥ Cookie ä¿å­˜åˆ°æœ¬åœ°ã€‚</p>
</li>
<li>
<p><strong>æµè§ˆå™¨å­˜å‚¨ Cookie</strong>: Cookie ä¼šè¢«ä¿å­˜åœ¨æµè§ˆå™¨çš„æŸä¸ªæ–‡ä»¶æˆ–å†…å­˜ä¸­ï¼Œæ ¹æ®Â <code>Domain</code>Â å’ŒÂ <code>Path</code>Â æ¥åŒºåˆ†ã€‚</p>
</li>
<li>
<p><strong>æµè§ˆå™¨å‘é€è¯·æ±‚æ—¶æºå¸¦ Cookie</strong> : ä¹‹åæ¯æ¬¡è®¿é—®åŒä¸€åŸŸåå’Œè·¯å¾„æ—¶ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨åœ¨è¯·æ±‚å¤´ä¸­æ·»åŠ ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">Cookie: <span class="hljs-attr">username</span>=Tom
</code></pre>
<p>æœåŠ¡å™¨é€šè¿‡è¯»å–è¿™ä¸ª Cookie æ¥è¯†åˆ«ç”¨æˆ·ã€‚</p>
</li>
</ol>
<hr/>
<h2 data-id="heading-3">4.Â <strong>Cookie çš„åˆ†ç±»</strong></h2>
<h3 data-id="heading-4">ï¼ˆ1ï¼‰<strong>ä¼šè¯ Cookieï¼ˆSession Cookieï¼‰</strong></h3>
<ul>
<li>æ²¡æœ‰è®¾ç½®Â <code>Expires</code>Â æˆ–Â <code>Max-Age</code></li>
<li>æµè§ˆå™¨å…³é—­åè‡ªåŠ¨åˆ é™¤</li>
<li>å¸¸ç”¨äºä¿å­˜çŸ­æœŸä¼šè¯ä¿¡æ¯ï¼ˆå¦‚ç™»å½•çŠ¶æ€ï¼‰</li>
</ul>
<h3 data-id="heading-5">ï¼ˆ2ï¼‰<strong>æŒä¹… Cookieï¼ˆPersistent Cookieï¼‰</strong></h3>
<ul>
<li>è®¾ç½®äº†Â <code>Expires</code>Â æˆ–Â <code>Max-Age</code></li>
<li>åœ¨è¿‡æœŸæ—¶é—´å‰ä¸€ç›´æœ‰æ•ˆï¼Œå³ä½¿æµè§ˆå™¨å…³é—­</li>
<li>å¸¸ç”¨äºä¿å­˜é•¿æœŸä¿¡æ¯ï¼ˆå¦‚è®°ä½ç™»å½•ã€ç”¨æˆ·åå¥½ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-6">5.Â <strong>Cookie çš„ä¼˜ç¼ºç‚¹</strong></h2>
<h3 data-id="heading-7">ä¼˜ç‚¹</h3>
<ul>
<li><strong>ç®€å•æ˜“ç”¨</strong>ï¼šæœåŠ¡å™¨å’Œæµè§ˆå™¨éƒ½åŸç”Ÿæ”¯æŒ</li>
<li><strong>è‡ªåŠ¨æºå¸¦</strong>ï¼šæ— éœ€æ‰‹åŠ¨å¤„ç†</li>
<li><strong>è½»é‡çº§</strong>ï¼šé€‚åˆå­˜å‚¨å°‘é‡æ•°æ®</li>
</ul>
<h3 data-id="heading-8">ç¼ºç‚¹</h3>
<ul>
<li>
<p><strong>å®¹é‡å°</strong>ï¼šæ¯ä¸ª Cookie æœ€å¤§ 4KB</p>
</li>
<li>
<p><strong>å®‰å…¨æ€§å·®</strong>ï¼š</p>
<ul>
<li>å®¹æ˜“è¢«çªƒå–ï¼ˆXSS æ”»å‡»ï¼‰</li>
<li>å®¹æ˜“è¢«ä¼ªé€ ï¼ˆCSRF æ”»å‡»ï¼‰</li>
</ul>
</li>
<li>
<p><strong>æ€§èƒ½å½±å“</strong>ï¼š</p>
<ul>
<li>æ¯æ¬¡è¯·æ±‚éƒ½ä¼šæºå¸¦ï¼Œå¢åŠ å¸¦å®½æ¶ˆè€—</li>
<li>è¿‡å¤š Cookie ä¼šå½±å“é¡µé¢åŠ è½½é€Ÿåº¦</li>
</ul>
</li>
</ul>
<hr/>
<h2 data-id="heading-9">6.Â <strong>Cookie çš„å®‰å…¨è®¾ç½®</strong></h2>
<p>ä¸ºäº†æé«˜å®‰å…¨æ€§ï¼Œå»ºè®®è®¾ç½®ä»¥ä¸‹å±æ€§ï¼š</p>
<ul>
<li>
<p><strong>HttpOnly</strong>ï¼šé˜²æ­¢ JavaScript è®¿é—®ï¼ˆå‡å°‘ XSS é£é™©ï¼‰</p>
</li>
<li>
<p><strong>Secure</strong>ï¼šåªåœ¨ HTTPS è¿æ¥ä¸­ä¼ è¾“</p>
</li>
<li>
<p><strong>SameSite</strong>ï¼š</p>
<ul>
<li><code>Strict</code>ï¼šä»…åœ¨åŒç«™è¯·æ±‚æ—¶å‘é€</li>
<li><code>Lax</code>ï¼šå…è®¸éƒ¨åˆ†è·¨ç«™è¯·æ±‚ï¼ˆå¦‚ GET è¡¨å•æäº¤ï¼‰</li>
</ul>
</li>
<li>
<p><strong>åˆç†çš„è¿‡æœŸæ—¶é—´</strong>ï¼šçŸ­æœŸ Cookie å‡å°‘è¢«ç›—é£é™©</p>
</li>
</ul>
<hr/>
<h2 data-id="heading-10">7.Â <strong>ç¤ºä¾‹ï¼šä½¿ç”¨ Cookie</strong></h2>
<h3 data-id="heading-11">ï¼ˆ1ï¼‰æœåŠ¡å™¨è®¾ç½® Cookieï¼ˆNode.js + Expressï¼‰</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>);
<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>();

app.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/login'</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
  <span class="hljs-comment">// è®¾ç½®ä¸€ä¸ªä¼šè¯ Cookie</span>
  res.<span class="hljs-title function_">cookie</span>(<span class="hljs-string">'username'</span>, <span class="hljs-string">'Tom'</span>, {
    <span class="hljs-attr">httpOnly</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">secure</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> === <span class="hljs-string">'production'</span>,
    <span class="hljs-attr">sameSite</span>: <span class="hljs-string">'Strict'</span>,
    <span class="hljs-attr">maxAge</span>: <span class="hljs-number">3600000</span> <span class="hljs-comment">// 1 å°æ—¶</span>
  });
  res.<span class="hljs-title function_">send</span>(<span class="hljs-string">'ç™»å½•æˆåŠŸ'</span>);
});

app.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/profile'</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
  <span class="hljs-comment">// è¯»å– Cookie</span>
  <span class="hljs-keyword">const</span> username = req.<span class="hljs-property">cookies</span>.<span class="hljs-property">username</span>;
  <span class="hljs-keyword">if</span> (username) {
    res.<span class="hljs-title function_">send</span>(<span class="hljs-string">`æ¬¢è¿ä½ ï¼Œ<span class="hljs-subst">${username}</span>`</span>);
  } <span class="hljs-keyword">else</span> {
    res.<span class="hljs-title function_">send</span>(<span class="hljs-string">'è¯·å…ˆç™»å½•'</span>);
  }
});

app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>);
</code></pre>
<h3 data-id="heading-12">ï¼ˆ2ï¼‰æµè§ˆå™¨æŸ¥çœ‹ Cookie</h3>
<ul>
<li>Chromeï¼š<code>F12</code>Â â†’Â <strong>Application</strong>Â â†’Â <strong>Cookies</strong></li>
<li>Firefoxï¼š<code>F12</code>Â â†’Â <strong>Storage</strong>Â â†’Â <strong>Cookies</strong></li>
</ul>
<hr/>
<h2 data-id="heading-13">8.Â <strong>Cookie ä¸ Token çš„åŒºåˆ«</strong></h2>



































<table><thead><tr><th>ç‰¹æ€§</th><th>Cookie</th><th>Token</th></tr></thead><tbody><tr><td>å­˜å‚¨ä½ç½®</td><td>æµè§ˆå™¨</td><td>æµè§ˆå™¨ï¼ˆLocalStorage/SessionStorageï¼‰æˆ– App</td></tr><tr><td>ä¼ è¾“æ–¹å¼</td><td>è‡ªåŠ¨åœ¨ HTTP è¯·æ±‚å¤´ä¸­å‘é€</td><td>éœ€è¦æ‰‹åŠ¨åœ¨è¯·æ±‚å¤´ä¸­æ·»åŠ ï¼ˆå¦‚Â <code>Authorization: Bearer &lt;token&gt;</code>ï¼‰</td></tr><tr><td>å®¹é‡é™åˆ¶</td><td>æ¯ä¸ª Cookie æœ€å¤§ 4KB</td><td>æ— å›ºå®šé™åˆ¶ï¼ˆä½†è¿‡å¤§å½±å“æ€§èƒ½ï¼‰</td></tr><tr><td>å®‰å…¨æ€§</td><td>è¾ƒä½ï¼ˆæ˜“å— XSS/CSRF æ”»å‡»ï¼‰</td><td>è¾ƒé«˜ï¼ˆå¯ç»“åˆ HttpOnlyã€Secureã€SameSiteï¼‰</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>ç®€å•ä¼šè¯ç®¡ç†ã€çŸ­æœŸçŠ¶æ€å­˜å‚¨</td><td>å¤æ‚è®¤è¯æˆæƒã€è·¨åŸŸè¯·æ±‚ã€ç§»åŠ¨åº”ç”¨</td></tr></tbody></table>
<hr/>
<p>âœ…Â <strong>æ€»ç»“</strong>ï¼š</p>
<ul>
<li><strong>Cookie</strong>Â æ˜¯æœåŠ¡å™¨ä¿å­˜åœ¨æµè§ˆå™¨çš„ä¸€å°æ®µæ•°æ®ï¼Œç”¨äºè®°å½•çŠ¶æ€å’Œè·Ÿè¸ªç”¨æˆ·</li>
<li>è‡ªåŠ¨æºå¸¦åœ¨è¯·æ±‚å¤´ä¸­ï¼Œæ–¹ä¾¿ä½†æœ‰å®¹é‡å’Œå®‰å…¨é™åˆ¶</li>
<li>å¸¸ç”¨äºç®€å•ä¼šè¯ç®¡ç†ï¼Œç°ä»£ Web å¼€å‘ä¸­æ›´å¤šä¸ Token ç»“åˆä½¿ç”¨</li>
<li>å®‰å…¨ä½¿ç”¨éœ€è®¾ç½®Â <code>HttpOnly</code>ã€<code>Secure</code>ã€<code>SameSite</code>Â ç­‰å±æ€§</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[nextjsä¸­ï¼Œå…³äºLayoutç»„ä»¶å’ŒPageç»„ä»¶çš„è®¤çŸ¥]]></title>    <link>https://juejin.cn/post/7588084804093165606</link>    <guid>https://juejin.cn/post/7588084804093165606</guid>    <pubDate>2025-12-27T11:55:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588084804093165606" data-draft-id="7588086766248165427" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="nextjsä¸­ï¼Œå…³äºLayoutç»„ä»¶å’ŒPageç»„ä»¶çš„è®¤çŸ¥"/> <meta itemprop="keywords" content="å‰ç«¯,React.js"/> <meta itemprop="datePublished" content="2025-12-27T11:55:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="RedHeartWWW"/> <meta itemprop="url" content="https://juejin.cn/user/3263006243293768"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            nextjsä¸­ï¼Œå…³äºLayoutç»„ä»¶å’ŒPageç»„ä»¶çš„è®¤çŸ¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3263006243293768/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    RedHeartWWW
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T11:55:29.000Z" title="Sat Dec 27 2025 11:55:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€Layoutâ€”â€”é¡µé¢çš„å¸ƒå±€ç»“æ„</h2>
<p>å½“ç”¨æˆ·è®¿é—®nexté¡¹ç›®ä¸­çš„ä¸€ä¸ªé¡µé¢ï¼Œå¦‚æœè¿™ä¸ªé¡µé¢çš„è·¯ç”±å¯¹åº”æ–‡ä»¶å¤¹ä¸‹é¢æœ‰layout.tsxï¼Œé‚£ä¹ˆnextå°±ä¼šåŸºäºè¿™ä¸ªæ–‡ä»¶é‡Œé¢çš„domç»“æ„ï¼Œæ¸²æŸ“å½“å‰é¡µé¢ç»“æ„ã€‚Layoutçš„é€šå¸¸ä¼ å‚éå¸¸ç®€å•ï¼Œå› ä¸ºå®ƒè´Ÿè´£çš„ä»…ä»…åªæœ‰<strong>è´Ÿè´£å½“å‰é¡µé¢çš„å¸ƒå±€</strong>è¿™ä¸€é¡¹å·¥ä½œã€‚</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">// ä¸€èˆ¬è·¯ç”±æ–‡ä»¶å¤¹ä¸‹çš„layout.tsxåªéœ€è¦æ¸²æŸ“childrenå³å¯</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">LayoutProps</span> {
    <span class="hljs-attr">children</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">ReactNode</span> 
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Layout</span>(<span class="hljs-params">{ children }: LayoutProps</span>) {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"min-h-screen w-full"</span>&gt;</span>{children}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
}

</code></pre>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">// appé¡¶å±‚æ–‡ä»¶å¤¹çš„layouté™¤äº†childrenï¼Œè¿˜éœ€è¦æ¸²æŸ“htmlå’Œbody</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">RootLayout</span>(<span class="hljs-params">{
  children,
}: {
  children: React.ReactNode;
}</span>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>{children}<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span>
  );
}
</code></pre>
<p>é€šå¸¸å½“ç”¨æˆ·è®¿é—®é¡µé¢è·¯ç”±ï¼Œnextä¼šå…ˆåŒ¹é…å¯¹åº”æ–‡ä»¶å¤¹ä¸‹é¢çš„page.tsxï¼Œç„¶åå†â€œ<strong>è‡ªä¸‹è€Œä¸Š</strong>â€å¯»æ‰¾Layout.tsxã€‚</p>
<p>ä¾‹å¦‚ç”¨æˆ·è®¿é—®/blogè¿™ä¸ªé¡µé¢çš„æ—¶å€™ï¼Œä¼šå…ˆå¯»æ‰¾é™æ€è·¯ç”±å¯¹åº”çš„æ–‡ä»¶å¤¹blogï¼ŒåŒ¹é…åˆ°<code>app/blog/page.tsx</code>ä¹‹åï¼Œå¦‚æœå½“å‰æ–‡ä»¶å¤¹ä¸­æ²¡æœ‰layoutï¼Œé‚£å°±é€çº§å¾€ä¸Šå¯»æ‰¾layoutï¼Œç›´åˆ°åŒ¹é…åˆ°<code>app/layout.tsx</code>ã€‚</p>
<pre><code class="hljs language-plaintext" lang="plaintext">app/
 â”œâ”€â”€ (marketing)/  --&gt; å¸¦æ‹¬å·ï¼Œæ˜¯è·¯ç”±ç»„ï¼Œç»§ç»­å¾€ä¸‹æ‰¾
 â”‚    â””â”€â”€ page.tsx --&gt; å¯¹åº”è·¯å¾„ "/"
 â”‚
 â”œâ”€â”€ blog/  --&gt; å¯¹åº”è·¯å¾„ "/blog"
 â”‚    â””â”€â”€ page.tsx --&gt; æ‰¾åˆ°ç›®æ ‡ï¼Œä½†æ˜¯å½“å‰æ–‡ä»¶å¤¹é‡Œé¢æ²¡æœ‰layout.tsx
 â”‚
 â””â”€â”€ Layout.tsx  --&gt; å¦‚æœblogä¸Šçº§æ–‡ä»¶å¤¹ä¸­æœ‰layout.tsxï¼Œé‚£å°±ç”¨è¿™ä¸ªlayout.tsxæ¥æ¸²æŸ“blog/page.tsx
</code></pre>
<h2 data-id="heading-1">äºŒã€Pageâ€”â€”é¡µé¢çš„ä¸šåŠ¡å†…å®¹</h2>
<p>Layout.tsxè´Ÿè´£å½“å‰é¡µé¢çš„ç»“æ„ï¼Œé€šå¸¸é‡Œé¢çš„ä»£ç éƒ½æ˜¯æ²¡æœ‰å¤æ‚ä¸šåŠ¡é€»è¾‘çš„é™æ€çº¯ç»„ä»¶ï¼Œæ‰¿æ‹…ä¸šåŠ¡é€»è¾‘çš„éƒ½æ˜¯Page.tsxã€‚</p>
<p>Pageæœ‰paramså’ŒsearchParamsä¸¤ä¸ªé»˜è®¤å‚æ•°ã€‚<code>params</code>ç”¨äºè·å– <strong>åŠ¨æ€è·¯ç”±</strong>ï¼ˆDynamic Routesï¼‰ä¸­çš„å‚æ•°ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ çš„æ–‡ä»¶è·¯å¾„æ˜¯ <code>app/blog/[slug]/page.tsx</code>ï¼Œé‚£ä¹ˆ <code>params</code> å°±ä¼šåŒ…å« <code>slug</code>ã€‚
<code>searchParams</code>ç”¨äºè·å– URL ä¸­ <strong>é—®å·åé¢çš„æŸ¥è¯¢å‚æ•°</strong>ï¼ˆQuery Parametersï¼‰ã€‚ä¾‹å¦‚ <code>?query=nextjs&amp;page=1</code>ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">const</span> <span class="hljs-title function_">Page</span> = <span class="hljs-keyword">async</span>(<span class="hljs-params">{
    params,
    searchParams
}:{
    params:<span class="hljs-built_in">Promise</span>&lt;{slug:<span class="hljs-built_in">string</span>}&gt;, 
    searchParams:<span class="hljs-built_in">Promise</span>&lt;{[key: <span class="hljs-built_in">string</span>]:<span class="hljs-built_in">string</span> | <span class="hljs-built_in">string</span>[] | <span class="hljs-literal">undefined</span>}&gt;
}</span>) =&gt;{
    <span class="hljs-keyword">const</span> {slug} = <span class="hljs-keyword">await</span> params;
    <span class="hljs-keyword">const</span> urlParams = <span class="hljs-keyword">await</span> searchParams;
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(slug, urlParams);
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Nav</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Hello, I'm the blog page<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Page</span>
</code></pre>
<p>å½“è®¿é—®<code>/blog/a?query=11111&amp;query=222222&amp;b=5</code>æ—¶ï¼Œconsoleä¼šè¾“å‡ºï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/05ea5fc9b608487c8f9d8d9c687458fd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmVkSGVhcnRXV1c=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767441343&amp;x-signature=5IbaBvIimCN51cIP3rK6TRdi1fs%3D" alt="image.png" loading="lazy"/>
å…¶ä¸­<code>['a']</code>æ˜¯åªæœ‰è®¿é—®åŠ¨æ€è·¯ç”±æ‰ä¼šæœ‰è¾“å‡ºï¼Œå¦‚æœè®¿é—®ä¸€ä¸ªé™æ€è·¯ç”±åœ°å€ï¼Œparamsè¾“å‡ºå°±æ˜¯undefinedï¼ŒsearchParamsåˆ™ä¼šä»¥é”®å€¼å¯¹çš„å½¢å¼å±•ç¤ºå‡ºæ¥</p>
<h2 data-id="heading-2">ä¸‰ã€è·¯ç”±ç»„åˆ’åˆ†å¤šæ ¹æ¨¡æ¿</h2>
<p>nextjsé€šè¿‡<code>(folder)</code>çš„æ–¹å¼åˆ’åˆ†è·¯ç”±ç»„ï¼Œè·¯ç”±ç»„æœ¬èº«å¹¶ä¸ä¼šè¢«nextè¯†åˆ«ä¸ºè·¯ç”±ï¼Œæ¯”å¦‚æ–‡ä»¶ç»“æ„å¦‚æœæ˜¯<code>/app/(marketing)/blog/page.tsx</code>ï¼Œé‚£ä¹ˆåªéœ€è¦è®¿é—®<code>/blog</code>å°±èƒ½è®¿é—®åˆ°è¿™ä¸ªpage.tsxã€‚<br/>è·¯ç”±ç»„è™½ç„¶ä¸ä¼šè¢«è¯†åˆ«ä¸ºè·¯ç”±ï¼Œä½†ç”±äºä¸Šé¢æåˆ°çš„pageâ€œ<strong>ä»å†…è€Œå¤–</strong>â€åŒ¹é…layoutæ¸²æŸ“çš„æœºåˆ¶ï¼Œä¸åŒçš„æ¨¡å—éƒ½å¯ä»¥æœ‰è‡ªå·±çš„rootlayoutï¼š</p>
<pre><code class="hljs language-plaintext" lang="plaintext">app/
 â”œâ”€â”€ (marketing)/  --&gt; marketingæ¨¡å—å¯¹åº”è·¯ç”±ç»„
 â”‚    â””â”€â”€ page.tsx --&gt; å¯¹åº”è·¯å¾„ "/"
 |    â””â”€â”€ layout.tsx --&gt; marketingæ¨¡å—ä¸‹æ‰€æœ‰pageçš„æ ¹layout 
 |
 â”œâ”€â”€ (dashboard)/  --&gt; 
 â”‚    â””â”€â”€ dashboard/
 â”‚         â””â”€â”€ page.tsx --&gt; å¯¹åº”è·¯å¾„ "/dashboard"
 â”‚         â””â”€â”€ layout.tsx --&gt; dashboardæ¨¡å—ä¸‹æ‰€æœ‰pageçš„æ ¹layout
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é‚£äº›è®©ä½  debug åˆ°å‡Œæ™¨çš„é™·é˜±ï¼Œæˆ‘å¸®ä½ è¸©å¹³äº†ï¼šReact Hooks é¿å‘æŒ‡å—]]></title>    <link>https://juejin.cn/post/7588069469517594665</link>    <guid>https://juejin.cn/post/7588069469517594665</guid>    <pubDate>2025-12-27T12:03:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588069469517594665" data-draft-id="7587062584165384230" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é‚£äº›è®©ä½  debug åˆ°å‡Œæ™¨çš„é™·é˜±ï¼Œæˆ‘å¸®ä½ è¸©å¹³äº†ï¼šReact Hooks é¿å‘æŒ‡å—"/> <meta itemprop="keywords" content="React.js,å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-27T12:03:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é£æ­¢ä½•å®‰å•Š"/> <meta itemprop="url" content="https://juejin.cn/user/2517239724512420"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é‚£äº›è®©ä½  debug åˆ°å‡Œæ™¨çš„é™·é˜±ï¼Œæˆ‘å¸®ä½ è¸©å¹³äº†ï¼šReact Hooks é¿å‘æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2517239724512420/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é£æ­¢ä½•å®‰å•Š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T12:03:25.000Z" title="Sat Dec 27 2025 12:03:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#444;background-image:linear-gradient(90deg,rgba(59,59,59,.1) 3%,transparent 0),linear-gradient(1turn,rgba(122,120,121,.1) 3%,transparent 0);background-size:30px 30px;background-position:50%;letter-spacing:1px;word-spacing:1px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{position:relative;margin-top:34px;margin-bottom:16px;font-weight:700;line-height:1.3;cursor:text;color:#444;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body h1{font-size:41px;margin-bottom:34px;line-height:1.5}.markdown-body h1:before{content:""}.markdown-body h2{font-size:30px;padding-left:.4em;border-left:.4em solid #5e5e5e;border-bottom:1px solid #444}.markdown-body h2:after{content:"ğŸ•›";position:absolute;top:0;right:0;transition:all;animation:rotate 10s linear infinite}@keyframes rotate{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.markdown-body h3{border-left:.4em solid #8d8d8d;font-size:24px;padding-left:.4em}.markdown-body h4{font-size:20px}.markdown-body h5{font-size:16px}.markdown-body h6{font-size:14px}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body table,.markdown-body ul{margin:.8em 0}.markdown-body strong{font-weight:1000;position:relative;color:#444;padding:0 3px}.markdown-body em{font-weight:inherit}.markdown-body a{box-sizing:border-box;color:grey;position:relative}.markdown-body a:before{position:absolute;box-sizing:border-box;content:"Go -&gt;";left:0;width:100%;max-width:0;color:#fff;background-color:hsla(0,0%,50.2%,.8);white-space:nowrap;transition:.2s ease;pointer-events:none;overflow:hidden}.markdown-body a:after{content:"";position:absolute;bottom:0;left:0;width:100%;height:1px;background-color:grey}.markdown-body a:active:before,.markdown-body a:hover:before{max-width:100%;padding-left:8px;border-radius:5px}.markdown-body hr{position:relative;width:100%;height:1px;border:none;margin-top:36px;margin-bottom:36px;background:linear-gradient(90deg,grey,#f1f1f1,#444,#444,#f1f1f1,grey);overflow:visible}.markdown-body ol,.markdown-body ul{padding-left:32px}.markdown-body ol li,.markdown-body ul li{margin-bottom:6px;list-style:inherit}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol{counter-reset:my-counter}.markdown-body ol&gt;li{padding-left:6px;list-style:none;counter-increment:my-counter;position:relative}.markdown-body ol&gt;li:before{position:absolute;left:-1.5em;content:counter(my-counter);font-weight:700}.markdown-body ol&gt;li:first-child:before{content:"1ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(2):before{content:"2ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(3):before{content:"3ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(4):before{content:"4ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(5):before{content:"5ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(6):before{content:"6ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(7):before{content:"7ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(8):before{content:"8ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(9):before{content:"9ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(10):before{content:"ğŸ”Ÿ"}.markdown-body ul&gt;li{list-style:none;position:relative}.markdown-body ul&gt;li:before{z-index:10;position:absolute;left:-1.57em;content:"ğŸ”¹";margin-right:12px}.markdown-body ul&gt;li input{margin-left:8px!important}.markdown-body blockquote{position:relative;background-color:#d3d3d3;padding:5px 10px;border-left:.2em solid #000;border-radius:3px;transition:all .8s ease}.markdown-body blockquote:hover{opacity:.7}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(69,69,77,.8);color:#fff;font-size:.87em;padding:.07em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:7px;overflow:hidden}.markdown-body pre:before{z-index:10;position:absolute;top:14px;left:14px;width:12px;height:12px;border-radius:50%;background:#fc625d;-webkit-box-shadow:20px 0 #fdbc40,40px 0 #35cd4b;box-shadow:20px 0 #fdbc40,40px 0 #35cd4b;content:" "}.markdown-body pre:after{z-index:9;content:"";position:absolute;width:100%;height:40px;top:0;background-color:#1a1a1a}.markdown-body pre&gt;code{display:block;font-family:Menlo,Monaco,Consolas,Courier New,monospace;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#171717;color:#bababa;font-size:14px;padding:40px 20px 20px}.markdown-body del{color:grey}.markdown-body table{margin-bottom:1.25rem;border-collapse:collapse}.markdown-body table td,.markdown-body table th{margin:0;padding:8px;line-height:20px;vertical-align:middle;border:1px solid #ddd}.markdown-body table thead,.markdown-body table tr:nth-child(2n){background-color:#fcfcfc}.markdown-body table thead th,.markdown-body table tr:nth-child(2n) th{font-weight:700;vertical-align:middle;color:#444}.markdown-body table tbody tr td{font-weight:400;color:#444}.markdown-body table tbody tr:hover{background-color:#d3d3d3}.markdown-body table tbody tr:hover td{color:#fff}.markdown-body img{max-width:100%;margin:0 12px}@media (max-width:720px){.markdown-body h1{font-size:32.8px}.markdown-body h2{font-size:24px}.markdown-body h3{font-size:19.2px}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:12.8px}}</style><style data-highlight="" data-highlight-key="hybrid">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#1d1f21}.hljs::selection,.hljs span::selection{background:#373b41}.hljs::-moz-selection,.hljs span::-moz-selection{background:#373b41}.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#c5c8c6}.hljs-name,.hljs-title{color:#f0c674}.hljs-comment,.hljs-meta,.hljs-meta .hljs-keyword{color:#707880}.hljs-deletion,.hljs-link,.hljs-literal,.hljs-number,.hljs-symbol{color:#c66}.hljs-addition,.hljs-doctag,.hljs-regexp,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-string{color:#b5bd68}.hljs-attribute,.hljs-code,.hljs-selector-id{color:#b294bb}.hljs-bullet,.hljs-keyword,.hljs-selector-tag,.hljs-tag{color:#81a2be}.hljs-subst,.hljs-template-tag,.hljs-template-variable,.hljs-variable{color:#8abeb7}.hljs-built_in,.hljs-builtin-name,.hljs-quote,.hljs-section,.hljs-selector-class,.hljs-type{color:#de935f}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨ <strong>React å‡½æ•°ç»„ä»¶</strong>çš„ä¸–ç•Œé‡Œï¼Œ<code>Hooks</code> æ— ç–‘æ˜¯ <strong>â€œæ•ˆç‡ç¥å™¨â€</strong>â€”â€” å®ƒç”¨æç®€çš„ API å°è£…äº†çŠ¶æ€ç®¡ç†ä¸ç”Ÿå‘½å‘¨æœŸé€»è¾‘ï¼Œè®©æˆ‘ä»¬å‘Šåˆ«äº†ç±»ç»„ä»¶çš„ç¹çã€‚ä½†å°±åƒç«¥è¯é‡Œè—åœ¨ç³–æœå±‹åçš„é™·é˜±ï¼Œè¿™äº›çœ‹ä¼¼å‹å¥½çš„ API èƒŒåï¼Œè—ç€ä¸å°‘å›  <strong>â€œé—­åŒ…ç‰¹æ€§â€â€œä¾èµ–é€»è¾‘â€â€œå¼‚æ­¥å¤„ç†â€</strong> å¼•å‘çš„<strong>å‘</strong>ã€‚å¾ˆå¤šå¼€å‘è€…åˆšä¸Šæ‰‹æ—¶ï¼Œæ€»åœ¨ â€œå†™å¾—é€šâ€ å’Œ â€œå†™å¾—å¯¹â€ ä¹‹é—´åå¤è¸©å‘ï¼Œ<code>debug</code> åˆ°æ€€ç–‘äººç”Ÿã€‚</p>
<p>æˆ‘åœ¨åˆšå…¥æ‰‹æ—¶è¸©äº†ä¸å°‘ <strong>â€œå‘â€</strong>ï¼Œæ‰€ä»¥æˆ‘å°†ç”¨æˆ‘çš„äº²èº«ç»å†å¸®ä½ ä»¬å¡«å¹³ã€‚æœ¬æ–‡å…ˆå¿«é€Ÿæ¢³ç† <code>Hooks</code> æ ¸å¿ƒåŸºç¡€ï¼Œå†èšç„¦é‚£äº›æœ€å®¹æ˜“ä¸­æ‹›çš„ â€œé™·é˜±â€ï¼Œç”¨ä»£ç æ¡ˆä¾‹æ‹†è§£å‘å› ã€ç»™å‡ºé¿å‘æ–¹æ¡ˆï¼Œå¸®ä½ é¿å¼€ Hooks è·¯ä¸Šçš„ <strong>â€œè¿ç¯é›·â€</strong>!</p>
<h3 data-id="heading-1">ä¸€ã€å…ˆæ­ä¸ª Hooks å°èˆå°</h3>
<p><code>React Hooks</code> å°±åƒç»™å‡½æ•°ç»„ä»¶å¼€äº†æŒ‚ â€”â€” ä¸ç”¨å†™ç±»å°±èƒ½æ‹¥æœ‰çŠ¶æ€å’Œç”Ÿå‘½å‘¨æœŸï¼Œå…ˆæ¥å¿«é€Ÿå›é¡¾ä¸‹ <strong>â€œåŸºç¡€ä¸‰ä»¶å¥—â€</strong>ï¼š</p>
<h4 data-id="heading-2">1. useState:çŠ¶æ€ç®¡ç†çš„ â€œå…¥é—¨é’¥åŒ™â€</h4>
<p>å®ƒèƒ½æ¥æ”¶<strong>å€¼</strong>æˆ–<strong>åŒæ­¥å‡½æ•°</strong>ï¼ˆæ³¨æ„ï¼šå¼‚æ­¥ä»£ç ä¼šç¿»è½¦ï¼ï¼‰ï¼Œè¿”å› â€œçŠ¶æ€ + ä¿®æ”¹çŠ¶æ€çš„æ–¹æ³•â€ã€‚ä¿®æ”¹çŠ¶æ€æ—¶ï¼Œ<code>setXxx</code>Â æ—¢å¯ä»¥ç›´æ¥ä¼ å€¼ï¼Œä¹Ÿèƒ½ä¼ ä¸€ä¸ª â€œæ¥æ”¶æ—§çŠ¶æ€ã€è¿”å›æ–°çŠ¶æ€â€ çš„å‡½æ•°ï¼ˆè¿™ä¸ªç»†èŠ‚æ˜¯é¿å‘å…³é”®ï¼ï¼‰ã€‚</p>
<p>æ¯”å¦‚<code>State.jsx</code>é‡Œçš„ä¾‹å­ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getDate</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> { <span class="hljs-title function_">resolve</span>(<span class="hljs-number">100</span>) }, <span class="hljs-number">1000</span>)
    })
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">State</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// âŒ é”™è¯¯ç¤ºèŒƒï¼šuseStateä¸æ”¯æŒå¼‚æ­¥å‡½æ•°</span>
    <span class="hljs-comment">// const [num, setNum] = useState(async () =&gt; {</span>
    <span class="hljs-comment">//   const res = await getDate();</span>
    <span class="hljs-comment">//   return res;</span>
    <span class="hljs-comment">// });</span>

    <span class="hljs-comment">// âœ… æ­£ç¡®ï¼šåŒæ­¥å‡½æ•°åˆå§‹åŒ–çŠ¶æ€</span>
    <span class="hljs-keyword">const</span> [num, setNum] = <span class="hljs-title function_">useState</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
    });

    <span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// âœ… ç”¨å‡½æ•°å½¢å¼è·å–â€œä¿®æ”¹å‰çš„æ—§çŠ¶æ€â€</span>
        <span class="hljs-title function_">setNum</span>(<span class="hljs-function">(<span class="hljs-params">prev</span>) =&gt;</span> {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(prev); <span class="hljs-comment">// ç‚¹å‡»æ—¶æ‰“å°å½“å‰numï¼ˆä¿®æ”¹å‰ï¼‰</span>
            <span class="hljs-keyword">return</span> prev + <span class="hljs-number">1</span>;
        })
    }
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{add}</span>&gt;</span>{num}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
}
</code></pre>
<h4 data-id="heading-3">2. useEffectï¼šç”Ÿå‘½å‘¨æœŸçš„ â€œä¼ªè£…è€…â€</h4>
<p>å®ƒåƒä¸ª â€œå¤šé¢æ‰‹â€ï¼Œèƒ½æ¨¡æ‹Ÿç»„ä»¶çš„ â€œæŒ‚è½½ã€æ›´æ–°ã€å¸è½½â€ï¼Œä½†ç”¨æ³•ä¸å¯¹å°±ä¼šè¸©å‘ï¼š</p>
<ul>
<li><code>useEffect(() =&gt; {})</code>ï¼šç»„ä»¶<strong>åˆæ¬¡åŠ è½½ + æ¯æ¬¡é‡æ¸²æŸ“</strong>éƒ½è§¦å‘</li>
<li><code>useEffect(() =&gt; {}, [])</code>ï¼šåªåœ¨<strong>åˆæ¬¡åŠ è½½</strong>æ—¶è§¦å‘</li>
<li><code>useEffect(() =&gt; {}, [x])</code>ï¼šåˆæ¬¡åŠ è½½ +Â <code>x</code>Â å˜åŒ–æ—¶è§¦å‘</li>
<li>è¿”å›çš„å‡½æ•°ï¼šç»„ä»¶<strong>å¸è½½å‰</strong>æ‰§è¡Œï¼ˆç”¨æ¥åšæ¸…ç†ï¼Œæ¯”å¦‚æ¸…å®šæ—¶å™¨ï¼‰</li>
</ul>
<p>çœ‹<code>Effect.jsx</code>é‡Œçš„å®šæ—¶å™¨ä¾‹å­ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useState, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getData</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> { <span class="hljs-title function_">resolve</span>(<span class="hljs-number">100</span>) }, <span class="hljs-number">1000</span>)
    })
    <span class="hljs-keyword">return</span> data;
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Effect</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> [num, setNum] = <span class="hljs-title function_">useState</span>(<span class="hljs-function">() =&gt;</span> { <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>; });
    <span class="hljs-keyword">const</span> [age, setAge] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">18</span>);

    <span class="hljs-comment">// ğŸŒ° ä¾èµ–é¡¹çš„å‘ï¼ˆåé¢ç»†è¯´ï¼‰</span>
    <span class="hljs-comment">// useEffect(() =&gt; {</span>
    <span class="hljs-comment">//   getData().then((data) =&gt; {</span>
    <span class="hljs-comment">//     console.log(data);</span>
    <span class="hljs-comment">//     setNum(data);</span>
    <span class="hljs-comment">//   })</span>
    <span class="hljs-comment">// }, [age]) // ä¾èµ–ageï¼Œä½†å®é™…ä¿®æ”¹çš„æ˜¯numâ€¦</span>

    <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-comment">// å¯åŠ¨å®šæ—¶å™¨</span>
        <span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
            <span class="hljs-comment">// setNum(num + 1); // âŒ è¿™é‡Œæœ‰å‘ï¼åé¢è®²</span>
        }, <span class="hljs-number">1000</span>)
        <span class="hljs-comment">// ç»„ä»¶å¸è½½å‰æ¸…ç†å®šæ—¶å™¨ï¼ˆé¿å…å†…å­˜æ³„æ¼ï¼‰</span>
        <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
            <span class="hljs-built_in">clearInterval</span>(timer);
        }
    })

    <span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params"/>) {
        <span class="hljs-title function_">setNum</span>(<span class="hljs-function">(<span class="hljs-params">prev</span>) =&gt;</span> {
            <span class="hljs-keyword">return</span> prev + <span class="hljs-number">1</span>;
        })
    }
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{add}</span>&gt;</span>{num}---{age}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
}
</code></pre>
<h4 data-id="heading-4">3. useReducerï¼šå¤æ‚çŠ¶æ€çš„ â€œè°ƒåº¦å‘˜â€</h4>
<p>å½“çŠ¶æ€é€»è¾‘æ¯”è¾ƒå¤æ‚æ—¶ï¼Œ<code>useReducer</code>æ¯”<code>useState</code>æ›´æ¸…æ™° â€”â€” å®ƒæŠŠ â€œçŠ¶æ€ä¿®æ”¹é€»è¾‘â€ æŠ½æˆ<code>reducer</code>å‡½æ•°ï¼Œé€šè¿‡<code>dispatch</code>è§¦å‘ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useReducer } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>
<span class="hljs-comment">// çŠ¶æ€ä¿®æ”¹çš„â€œè§„åˆ™å‡½æ•°â€</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">reducer</span>(<span class="hljs-params">state, action</span>) {
    <span class="hljs-keyword">switch</span>(action.<span class="hljs-property">type</span>) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">'add'</span>:
            <span class="hljs-keyword">return</span> state + action.<span class="hljs-property">num</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">'minus'</span>:
            <span class="hljs-keyword">return</span> state - action.<span class="hljs-property">num</span>;
        <span class="hljs-attr">default</span>:
            <span class="hljs-keyword">return</span> state;
    }
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Trap</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// åˆå§‹åŒ–çŠ¶æ€ä¸º0ï¼Œdispatchç”¨æ¥è§¦å‘reducer</span>
    <span class="hljs-keyword">const</span> [count, dispatch] = <span class="hljs-title function_">useReducer</span>(reducer, <span class="hljs-number">0</span>);
    
    <span class="hljs-comment">// è§¦å‘â€œaddâ€æ“ä½œï¼Œä¼ å‚num=1</span>
    <span class="hljs-title function_">dispatch</span>({<span class="hljs-attr">type</span>: <span class="hljs-string">'add'</span>, <span class="hljs-attr">num</span>: <span class="hljs-number">1</span>});
    
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{count}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
}
</code></pre>
<p>ä»¥ä¸Šæˆ‘ä»¬å°±å¤§è‡´å›é¡¾äº†<code>hooks</code>çš„ä¸€äº›åŸºç¡€çŸ¥è¯†ï¼Œå¦‚æœæƒ³çœ‹æ›´å…·ä½“çš„è¯·çœ‹æˆ‘çš„æ–‡ç« ï¼š</p>
<blockquote>
<p><a href="https://juejin.cn/post/7584370833703911439" target="_blank" title="https://juejin.cn/post/7584370833703911439">ä¸€åœºç»„ä»¶çš„è¿›åŒ–è„±å£ç§€â€”â€”Reactä» â€œç±»â€ åˆ° â€œhooksâ€ çš„ â€œæ”¹å¤´æ¢é¢â€</a></p>
</blockquote>
<h3 data-id="heading-5">äºŒã€é‡ç‚¹æ¥äº†ï¼šHooks çš„ â€œé™·é˜±â€</h3>
<p>å‰é¢éƒ½æ˜¯é“ºå«ï¼Œ<strong>è¿™äº›çœ‹ä¼¼ç®€å•çš„ Hooksï¼Œè—ç€èƒ½è®©ä½  debug åˆ°å¤©äº®çš„å‘</strong>â€”â€” æ¥ä¸‹æ¥é€ä¸ªæ‹†è§£ï¼š</p>
<h4 data-id="heading-6">é™·é˜± 1ï¼š useState çš„ â€œå¼‚æ­¥æ›´æ–°â€+â€œé—­åŒ…é™·é˜±â€</h4>
<p>çœ‹<code>Effect.jsx</code>é‡Œçš„å®šæ—¶å™¨ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-title function_">setNum</span>(num + <span class="hljs-number">1</span>); <span class="hljs-comment">// âŒ è¿™é‡Œæœ‰é—®é¢˜ï¼</span>
    }, <span class="hljs-number">1000</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">clearInterval</span>(timer);
})
</code></pre>
<p><strong>å‘åœ¨å“ªï¼Ÿ</strong></p>
<p><code>useEffect</code>é»˜è®¤æ²¡æœ‰ä¾èµ–é¡¹ï¼Œä¼šåœ¨ç»„ä»¶æ¯æ¬¡é‡æ¸²æŸ“æ—¶é‡æ–°æ‰§è¡Œ â€”â€” ä½†å®šæ—¶å™¨é‡Œçš„<code>num</code>æ˜¯ â€œé—­åŒ…æ•è·çš„æ—§å€¼â€ï¼Œå¯¼è‡´<code>num + 1</code>æ°¸è¿œåªåœ¨åˆå§‹å€¼<code>1</code>çš„åŸºç¡€ä¸ŠåŠ ï¼Œé¡µé¢ä¸ä¼šæ›´æ–°ã€‚</p>
<p><strong>æ€ä¹ˆå¡«å‘ï¼Ÿ</strong></p>
<p>ç”¨<code>setNum</code>çš„ â€œå‡½æ•°å½¢å¼â€ï¼Œå®ƒèƒ½æ‹¿åˆ°æœ€æ–°çš„æ—§çŠ¶æ€ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-title function_">setNum</span>(<span class="hljs-function">(<span class="hljs-params">prev</span>) =&gt;</span> prev + <span class="hljs-number">1</span>); <span class="hljs-comment">// âœ… ä¸ç®¡é—­åŒ…ï¼Œç›´æ¥æ‹¿æœ€æ–°prev</span>
</code></pre>
<h4 data-id="heading-7">é™·é˜± 2ï¼šuseEffect çš„ â€œä¾èµ–é¡¹è¿·è·¯â€</h4>
<p>å†çœ‹<code>Effect.jsx</code>é‡Œè¢«æ³¨é‡Šçš„ä»£ç ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">getData</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
        <span class="hljs-title function_">setNum</span>(data); <span class="hljs-comment">// ä¿®æ”¹num</span>
    })
}, [age]) <span class="hljs-comment">// âŒ ä¾èµ–é¡¹å†™äº†ageï¼Œä½†å®é™…æ²¡ç”¨åˆ°age</span>
</code></pre>
<p><strong>å‘åœ¨å“ªï¼Ÿ</strong></p>
<p><code>useEffect</code>çš„ä¾èµ–é¡¹æ•°ç»„å¿…é¡»åŒ…å« â€œå›è°ƒé‡Œç”¨åˆ°çš„æ‰€æœ‰å¤–éƒ¨å˜é‡â€â€”â€” è¿™é‡Œå›è°ƒé‡Œæ²¡ç”¨åˆ°<code>age</code>ï¼Œå´æŠŠ<code>age</code>å½“ä¾èµ–ï¼Œä¼šå¯¼è‡´<code>age</code>å˜åŒ–æ—¶é‡å¤è¯·æ±‚ï¼›åè¿‡æ¥ï¼Œå¦‚æœç”¨åˆ°äº†æŸä¸ªå˜é‡å´æ²¡å†™è¿›ä¾èµ–ï¼Œå°±ä¼šæ‹¿åˆ°æ—§å€¼ <strong>ï¼ˆé—­åŒ…é™·é˜±ï¼‰</strong>ã€‚</p>
<p><strong>æ€ä¹ˆå¡«å‘ï¼Ÿ</strong></p>
<p>ä¾èµ–é¡¹è¦ <strong>â€œè¯šå®â€</strong>ï¼šç”¨åˆ°å•¥å°±å†™å•¥ï¼Œæ²¡ç”¨åˆ°å°±åˆ«å†™ã€‚æ¯”å¦‚ä¸Šé¢çš„ä»£ç ï¼Œè¦ä¹ˆæŠŠ<code>age</code>ä»ä¾èµ–é‡Œåˆ æ‰ï¼Œè¦ä¹ˆåœ¨å›è°ƒé‡ŒçœŸæ­£ç”¨åˆ°<code>age</code>ã€‚</p>
<h4 data-id="heading-8">é™·é˜± 3ï¼šuseReducer çš„ â€œdispatch ä¸æ˜¯ä¸‡èƒ½è¯â€</h4>
<p>çœ‹<code>Trap.jsx</code>é‡Œçš„å®šæ—¶å™¨æ³¨é‡Šï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-comment">// console.log(count); // âŒ æ°¸è¿œæ‰“å°åˆå§‹å€¼0</span>
        <span class="hljs-comment">// setCount(count + 1); // åŒæ ·çš„é—­åŒ…å‘</span>
        <span class="hljs-comment">// setCount((prev) =&gt; prev + 1) // âœ… ç”¨å‡½æ•°å½¢å¼æ‰å¯¹</span>
    }, <span class="hljs-number">1000</span>)
}, [])
</code></pre>
<p><strong>å‘åœ¨å“ªï¼Ÿ</strong></p>
<p>å“ªæ€•ç”¨äº†<code>useReducer</code>ï¼Œå¦‚æœåœ¨<code>useEffect</code>ï¼ˆä¾èµ–ä¸ºç©ºï¼‰é‡Œç”¨<code>count</code>ï¼Œè¿˜æ˜¯ä¼šå› ä¸ºé—­åŒ…æ•è·æ—§å€¼ï¼Œå¯¼è‡´æ‹¿åˆ°çš„<code>count</code>æ°¸è¿œæ˜¯åˆå§‹å€¼ã€‚</p>
<p><strong>æ€ä¹ˆå¡«å‘ï¼Ÿ</strong></p>
<p>å’Œ<code>useState</code>ä¸€æ ·ï¼Œä¿®æ”¹çŠ¶æ€æ—¶ç”¨ â€œå‡½æ•°å½¢å¼â€ï¼›æˆ–è€…æŠŠ<code>count</code>åŠ å…¥<code>useEffect</code>çš„ä¾èµ–é¡¹ï¼ˆä½†è¦æ³¨æ„é‡å¤è§¦å‘çš„é—®é¢˜ï¼‰ã€‚</p>
<h4 data-id="heading-9">é™·é˜± 4ï¼šuseState çš„ â€œå¼‚æ­¥åˆå§‹åŒ–â€</h4>
<p>çœ‹<code>State.jsx</code>é‡Œçš„æ³¨é‡Šï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// âŒ useStateä¸æ”¯æŒå¼‚æ­¥å‡½æ•°åˆå§‹åŒ–</span>
<span class="hljs-comment">// const [num, setNum] = useState(async () =&gt; {</span>
<span class="hljs-comment">//     const res = await getDate();</span>
<span class="hljs-comment">//     return res;</span>
<span class="hljs-comment">// });</span>
</code></pre>
<p><strong>å‘åœ¨å“ªï¼Ÿ</strong></p>
<p><code>useState</code>çš„åˆå§‹åŒ–å‡½æ•°å¿…é¡»æ˜¯åŒæ­¥çš„ â€”â€” å¼‚æ­¥ä»£ç ä¼šç›´æ¥è¿”å›ä¸€ä¸ª<code>Promise</code>ï¼Œè€Œä¸æ˜¯ä½ æƒ³è¦çš„ç»“æœã€‚</p>
<p><strong>æ€ä¹ˆå¡«å‘ï¼Ÿ</strong></p>
<p>æŠŠå¼‚æ­¥åˆå§‹åŒ–é€»è¾‘æ”¾åˆ°<code>useEffect</code>é‡Œï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">const</span> [num, setNum] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">getDate</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> <span class="hljs-title function_">setNum</span>(res));
}, [])
</code></pre>
<h3 data-id="heading-10">ä¸‰ã€é¿å‘æ€»ç»“ï¼š Hooks çš„ â€œç”Ÿå­˜æ³•åˆ™â€</h3>
<ol>
<li><strong>useState ä¿®æ”¹çŠ¶æ€ï¼Œä¼˜å…ˆç”¨å‡½æ•°å½¢å¼</strong>ï¼š<code>setXxx(prev =&gt; prev + 1)</code>ï¼Œé¿å…é—­åŒ…æ—§å€¼ã€‚</li>
<li><strong>useEffect ä¾èµ–é¡¹è¦ â€œå®Œæ•´ä¸”è¯šå®â€</strong> ï¼šå›è°ƒé‡Œç”¨åˆ°çš„å˜é‡ï¼Œå¿…é¡»å†™è¿›ä¾èµ–æ•°ç»„ï¼›æ²¡ç”¨åˆ°çš„ï¼Œåˆ«çå†™ã€‚</li>
<li><strong>å¼‚æ­¥é€»è¾‘åˆ«å¾€ useState åˆå§‹åŒ–é‡Œå¡</strong>ï¼šäº¤ç»™<code>useEffect</code>ï¼ˆä¾èµ–ä¸ºç©ºï¼‰æ¥åšã€‚</li>
<li><strong>å®šæ—¶å™¨ / è®¢é˜…è¦è®°å¾—æ¸…ç†</strong>ï¼šåœ¨<code>useEffect</code>çš„è¿”å›å‡½æ•°é‡Œåšå¸è½½å‰çš„æ¸…ç†ï¼ˆæ¯”å¦‚æ¸…å®šæ—¶å™¨ï¼‰ã€‚</li>
</ol>
<h2 data-id="heading-11">ç»“è¯­</h2>
<p><code>Hooks</code> çš„é™·é˜±ï¼Œæœ¬è´¨ä¸Šå¤§å¤šæ˜¯å¯¹ <strong>â€œé—­åŒ…â€ â€œReact æ¸²æŸ“æœºåˆ¶â€ å’Œ â€œHooks è®¾è®¡è§„åˆ™â€</strong> ç†è§£ä¸é€å½»çš„ç»“æœã€‚<strong>æ²¡æœ‰ç»å¯¹ â€œä¸‡èƒ½â€ çš„ APIï¼Œåªæœ‰ â€œç”¨å¯¹åœºæ™¯â€ çš„ç”¨æ³•</strong> â€”â€” æ¯”å¦‚ useState çš„å‡½æ•°å¼æ›´æ–°ã€useEffect çš„ä¾èµ–é¡¹è§„èŒƒï¼Œè¿™äº›çœ‹ä¼¼ç»†èŠ‚çš„ç‚¹ï¼Œæ°æ°æ˜¯é¿å¼€é™·é˜±çš„å…³é”®ã€‚å¸Œæœ›æœ¬æ–‡çš„æ¡ˆä¾‹èƒ½å¸®ä½ è·³å‡º â€œè¸©å‘ - debug - å†è¸©å‘â€ çš„å¾ªç¯ï¼Œåœ¨ä½¿ç”¨ Hooks æ—¶æ›´ä»å®¹ã€æ›´ç²¾å‡†ã€‚</p>
<p>è®°ä½:</p>
<blockquote>
<p>å¥½çš„ä»£ç <strong>ä¸æ˜¯ â€œå†™å‡ºæ¥çš„â€ï¼Œè€Œæ˜¯ â€œé¿å‘é¿å‡ºæ¥çš„â€</strong>ï¼Œå¤šç†è§£åº•å±‚é€»è¾‘ï¼Œå°‘ä¾èµ– â€œç»éªŒä¸»ä¹‰â€ï¼Œæ‰èƒ½çœŸæ­£æŒæ¡ <code>Hooks</code> çš„ç²¾é«“</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäº Microsoft Graph API ä¸ React Email æ„å»ºç°ä»£åŒ–é‚®ä»¶å‘é€ç³»ç»Ÿ]]></title>    <link>https://juejin.cn/post/7588300640598638598</link>    <guid>https://juejin.cn/post/7588300640598638598</guid>    <pubDate>2025-12-27T12:43:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588300640598638598" data-draft-id="7588152122186481718" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäº Microsoft Graph API ä¸ React Email æ„å»ºç°ä»£åŒ–é‚®ä»¶å‘é€ç³»ç»Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,React.js,Microsoft"/> <meta itemprop="datePublished" content="2025-12-27T12:43:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§æ˜äºŒä»£"/> <meta itemprop="url" content="https://juejin.cn/user/2349018966401277"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäº Microsoft Graph API ä¸ React Email æ„å»ºç°ä»£åŒ–é‚®ä»¶å‘é€ç³»ç»Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2349018966401277/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§æ˜äºŒä»£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T12:43:34.000Z" title="Sat Dec 27 2025 12:43:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">èƒŒæ™¯</h2>
<p>åœ¨ä¼ ç»Ÿçš„ Node.js æœåŠ¡ç«¯å¼€å‘ä¸­ï¼Œä½¿ç”¨ Nodemailer é…åˆ SMTP åè®®æ˜¯å‘é€é‚®ä»¶çš„æ ‡å‡†åšæ³•ã€‚ç„¶è€Œï¼Œéšç€å®‰å…¨æ ‡å‡†çš„æå‡ï¼Œå¾®è½¯å·²å®£å¸ƒå°†åœ¨ 2026 å¹´å½»åº•åœæ­¢ Outlook/Microsoft 365 å¯¹ SMTP åŸºç¡€èº«ä»½éªŒè¯ï¼ˆBasic Authï¼‰çš„æ”¯æŒã€‚</p>
<p>ä¸ºäº†åº”å¯¹è¿™ä¸€å˜åŒ–ï¼Œæˆ‘ä»¬éœ€è¦è½¬å‘ Microsoft Graph APIã€‚åŒæ—¶ï¼Œä¸ºäº†è§£å†³é‚®ä»¶æ¨¡æ¿å¼€å‘ä¸­æ ·å¼éš¾ä»¥è°ƒè¯•ã€å…¼å®¹æ€§å·®çš„ç—›ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥å¼•å…¥ React Emailã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•ç»“åˆè¿™ä¸¤è€…ï¼Œæ„å»ºä¸€å¥—ç¬¦åˆ Shadcn UI å®¡ç¾é£æ ¼ä¸”å…·å¤‡é«˜åº¦å¯é æ€§çš„é‚®ä»¶å‘é€ç³»ç»Ÿã€‚</p>
<hr/>
<h2 data-id="heading-1">æŠ€æœ¯æ ˆ</h2>
<ul>
<li><strong>React Email</strong>: ä½¿ç”¨ React ç»„ä»¶ç¼–å†™é‚®ä»¶æ¨¡æ¿ï¼Œæ”¯æŒ Tailwind CSSã€‚</li>
<li><strong>Nodemailer</strong>: æˆç†Ÿçš„ Node.js é‚®ä»¶å‘é€åº“ã€‚</li>
<li><strong>Microsoft Graph API</strong>: å¾®è½¯æä¾›çš„ç°ä»£åŒ– API æ¥å£ï¼Œç”¨äºæ›¿ä»£ä¼ ç»Ÿ SMTPã€‚</li>
<li><strong>MSAL Node</strong>: å¾®è½¯å®˜æ–¹æä¾›çš„èº«ä»½éªŒè¯åº“ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-2">1. æ¶æ„è®¾è®¡</h3>
<p>ç³»ç»Ÿåˆ†ä¸ºä¸‰å±‚ï¼šæ¨¡æ¿å±‚ã€é€»è¾‘å±‚å’Œä¼ è¾“å±‚ã€‚</p>
<ul>
<li><strong>æ¨¡æ¿å±‚</strong>ï¼šåˆ©ç”¨ React Email å®šä¹‰ UIï¼Œç¡®ä¿æ ·å¼åœ¨å„é‚®ä»¶å®¢æˆ·ç«¯ï¼ˆå¦‚ Gmailã€Outlookã€iOS Mailï¼‰ä¸­è¡¨ç°ä¸€è‡´ã€‚</li>
<li><strong>ä¼ è¾“å±‚</strong>ï¼šé€šè¿‡è‡ªå®šä¹‰ Nodemailer çš„ <code>Transport</code> æ¥å£ï¼Œå°†åº•å±‚çš„é‚®ä»¶å‘é€è¯·æ±‚å¯¼å‘ Microsoft Graph APIã€‚</li>
<li><strong>è®¤è¯å±‚</strong>ï¼šä½¿ç”¨ Azure åº”ç”¨æ³¨å†Œï¼ˆApp Registrationï¼‰è·å– OAuth2 ä»¤ç‰Œã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-3">2. å®ç° Microsoft Graph ä¼ è¾“å™¨</h3>
<p>æˆ‘ä»¬éœ€è¦å®ç°ä¸€ä¸ªè‡ªå®šä¹‰çš„ <code>AzureTransport</code> ç±»ã€‚å®ƒçš„æ ¸å¿ƒé€»è¾‘æ˜¯ï¼šåœ¨å‘é€é‚®ä»¶å‰æ£€æŸ¥ä»¤ç‰Œæ˜¯å¦è¿‡æœŸï¼Œè‹¥è¿‡æœŸåˆ™é€šè¿‡å®¢æˆ·ç«¯å‡­æ®æµï¼ˆClient Credentials Flowï¼‰è·å–æ–°ä»¤ç‰Œï¼Œéšåè°ƒç”¨ Graph API çš„ <code>/sendMail</code> æ¥å£ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> msal <span class="hljs-keyword">from</span> <span class="hljs-string">'@azure/msal-node'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">SentMessageInfo</span>, <span class="hljs-title class_">Transport</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'nodemailer'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">MailMessage</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'nodemailer/lib/mailer/mail-message'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AzureTransport</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Transport</span>&lt;<span class="hljs-title class_">SentMessageInfo</span>&gt; {
  name = <span class="hljs-string">'Azure'</span>;
  version = <span class="hljs-string">'0.1'</span>;
  <span class="hljs-keyword">private</span> <span class="hljs-attr">msalClient</span>: msal.<span class="hljs-property">ConfidentialClientApplication</span>;
  <span class="hljs-keyword">private</span> <span class="hljs-attr">tokenInfo</span>: msal.<span class="hljs-property">AuthenticationResult</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> config: <span class="hljs-built_in">any</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">msalClient</span> = <span class="hljs-keyword">new</span> msal.<span class="hljs-title class_">ConfidentialClientApplication</span>({
      <span class="hljs-attr">auth</span>: {
        <span class="hljs-attr">clientId</span>: config.<span class="hljs-property">clientId</span>,
        <span class="hljs-attr">clientSecret</span>: config.<span class="hljs-property">clientSecret</span>,
        <span class="hljs-attr">authority</span>: <span class="hljs-string">`https://login.microsoftonline.com/<span class="hljs-subst">${config.tenantId}</span>`</span>
      }
    });
  }

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">getAccessToken</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">tokenInfo</span> || (<span class="hljs-variable language_">this</span>.<span class="hljs-property">tokenInfo</span>.<span class="hljs-property">expiresOn</span> &amp;&amp; <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() &gt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">tokenInfo</span>.<span class="hljs-property">expiresOn</span>.<span class="hljs-title function_">getTime</span>())) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">tokenInfo</span> = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">msalClient</span>.<span class="hljs-title function_">acquireTokenByClientCredential</span>({
        <span class="hljs-attr">scopes</span>: [<span class="hljs-string">'https://graph.microsoft.com/.default'</span>]
      });
    }
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">tokenInfo</span>!.<span class="hljs-property">accessToken</span>;
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">send</span>(<span class="hljs-params">mail: MailMessage, callback: <span class="hljs-built_in">any</span></span>) {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> { subject, <span class="hljs-keyword">from</span>, to, html, text } = mail.<span class="hljs-property">data</span>;
      <span class="hljs-keyword">const</span> accessToken = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getAccessToken</span>();

      <span class="hljs-keyword">const</span> mailMessage = {
        <span class="hljs-attr">message</span>: {
          subject,
          <span class="hljs-attr">body</span>: { <span class="hljs-attr">content</span>: html || text, <span class="hljs-attr">contentType</span>: html ? <span class="hljs-string">'HTML'</span> : <span class="hljs-string">'Text'</span> },
          <span class="hljs-attr">toRecipients</span>: (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(to) ? to : [to]).<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">addr: <span class="hljs-built_in">any</span></span>) =&gt;</span> ({
            <span class="hljs-attr">emailAddress</span>: { <span class="hljs-attr">address</span>: <span class="hljs-keyword">typeof</span> addr === <span class="hljs-string">'string'</span> ? addr : addr.<span class="hljs-property">address</span> }
          })),
        }
      };

      <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`https://graph.microsoft.com/v1.0/users/<span class="hljs-subst">${<span class="hljs-keyword">from</span>}</span>/sendMail`</span>, {
        <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
        <span class="hljs-attr">headers</span>: { <span class="hljs-title class_">Authorization</span>: <span class="hljs-string">`Bearer <span class="hljs-subst">${accessToken}</span>`</span>, <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span> },
        <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(mailMessage)
      });

      <span class="hljs-keyword">if</span> (!response.<span class="hljs-property">ok</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-keyword">await</span> response.<span class="hljs-title function_">text</span>());
      <span class="hljs-title function_">callback</span>(<span class="hljs-literal">null</span>, { <span class="hljs-attr">messageId</span>: response.<span class="hljs-property">headers</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'request-id'</span>) });
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-title function_">callback</span>(error, <span class="hljs-literal">null</span>);
    }
  }
}

</code></pre>
<hr/>
<h4 data-id="heading-4">3. ä½¿ç”¨ React Email ç¼–å†™ Shadcn é£æ ¼æ¨¡æ¿</h4>
<p>Shadcn UI çš„æ ¸å¿ƒåœ¨äºç®€æ´çš„ Zinc è‰²è°ƒå’Œè‰¯å¥½çš„é—´è·ã€‚ä»¥ä¸‹æ˜¯ä¸ºç”¨æˆ·ç¡®è®¤è®¾è®¡çš„é€šç”¨æ¨¡æ¿ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Body</span>, <span class="hljs-title class_">Container</span>, <span class="hljs-title class_">Head</span>, <span class="hljs-title class_">Heading</span>, <span class="hljs-title class_">Html</span>, <span class="hljs-title class_">Preview</span>, <span class="hljs-title class_">Text</span>, <span class="hljs-title class_">Tailwind</span>, <span class="hljs-title class_">Button</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@react-email/components"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">RequestReceivedEmail</span> = (<span class="hljs-params"/>) =&gt; (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Html</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Head</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Preview</span>&gt;</span>Confirmation of your request<span class="hljs-tag">&lt;/<span class="hljs-name">Preview</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Tailwind</span> <span class="hljs-attr">config</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">theme:</span> { <span class="hljs-attr">extend:</span> { <span class="hljs-attr">colors:</span> { <span class="hljs-attr">brand:</span> "#<span class="hljs-attr">09090b</span>" } } } }}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Body</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"bg-white font-sans text-zinc-950"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Container</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"border border-zinc-200 rounded-lg my-10 mx-auto p-8 max-w-[465px]"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Heading</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-2xl font-semibold tracking-tight"</span>&gt;</span>Request Received<span class="hljs-tag">&lt;/<span class="hljs-name">Heading</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-sm leading-6 text-zinc-600 mt-4"</span>&gt;</span>
            We have successfully received your information. Our team will review the details and respond accordingly.
          <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"bg-zinc-950 rounded-md text-white text-sm font-medium px-6 py-3 mt-4 no-underline inline-block"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://app.aands.ai"</span>&gt;</span>
            Access Portal
          <span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Container</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Body</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Tailwind</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">Html</span>&gt;</span></span>
);

</code></pre>
<hr/>
<h3 data-id="heading-5">4. ä¸šåŠ¡é€»è¾‘æ•´åˆ</h3>
<p>æœ€åï¼Œæˆ‘ä»¬å°†ä¸Šè¿°æ¨¡å—æ•´åˆåˆ°ä¸€ä¸ªæœåŠ¡å‡½æ•°ä¸­ã€‚è¯¥å‡½æ•°ä¼šåŒæ—¶å‘ç”¨æˆ·å‘é€å›æ‰§ï¼Œå¹¶å‘è¿è¥å›¢é˜Ÿå‘é€å†…éƒ¨é€šçŸ¥ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { render } <span class="hljs-keyword">from</span> <span class="hljs-string">"@react-email/components"</span>;
<span class="hljs-keyword">import</span> nodemailer <span class="hljs-keyword">from</span> <span class="hljs-string">"nodemailer"</span>;

<span class="hljs-keyword">const</span> transporter = nodemailer.<span class="hljs-title function_">createTransport</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">AzureTransport</span>({
  <span class="hljs-attr">clientId</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">AZURE_CLIENT_ID</span>,
  <span class="hljs-attr">clientSecret</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">AZURE_CLIENT_SECRET</span>,
  <span class="hljs-attr">tenantId</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">AZURE_TENANT_ID</span>
}));

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">sendNotification</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">userData: <span class="hljs-built_in">any</span></span>) =&gt; {
  <span class="hljs-keyword">const</span> userHtml = <span class="hljs-keyword">await</span> <span class="hljs-title function_">render</span>(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">RequestReceivedEmail</span> /&gt;</span></span>);
  
  <span class="hljs-keyword">await</span> transporter.<span class="hljs-title function_">sendMail</span>({
    <span class="hljs-attr">from</span>: <span class="hljs-string">"noreply@yourdomain.com"</span>,
    <span class="hljs-attr">to</span>: userData.<span class="hljs-property">email</span>,
    <span class="hljs-attr">subject</span>: <span class="hljs-string">"Request Confirmation"</span>,
    <span class="hljs-attr">html</span>: userHtml
  });
};

</code></pre>
<hr/>
<h2 data-id="heading-6">æ€»ç»“</h2>
<p>é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬ä¸ä»…è§£å†³äº† SMTP è®¤è¯å³å°†è¿‡æœŸçš„åˆè§„æ€§é—®é¢˜ï¼Œè¿˜æå‡äº†é‚®ä»¶çš„è§†è§‰è´¨é‡ã€‚Microsoft Graph API æä¾›äº†æ¯”ä¼ ç»Ÿ SMTP æ›´å¼ºçš„å¯ç›‘æ§æ€§å’Œå®‰å…¨æ€§ï¼Œè€Œ React Email åˆ™æå¤§åœ°æ”¹å–„äº†é‚®ä»¶å¼€å‘çš„å¼€å‘è€…ä½“éªŒã€‚</p>
<p>åœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œè¯·ç¡®ä¿åœ¨ Azure é—¨æˆ·ä¸­ä¸ºä½ çš„åº”ç”¨æˆäºˆäº† <code>Mail.Send</code> æƒé™ï¼Œå¹¶æ ¹æ®ä¸šåŠ¡éœ€æ±‚é…ç½®ç¯å¢ƒå˜é‡ã€‚</p>
<h2 data-id="heading-7">å‚è€ƒèµ„æ–™</h2>
<ol>
<li><a href="https://juejin.cn/post/7157980257155285005" target="_blank" title="https://juejin.cn/post/7157980257155285005">æ„å»ºå’Œå‘é€ç”µå­é‚®ä»¶çš„Reactç»„ä»¶çš„å®ä¾‹æ•™ç¨‹</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdev.to%2Fgevik%2Fsending-emails-via-outlook-with-nodemailer-and-microsoft-graph-b74" target="_blank" title="https://dev.to/gevik/sending-emails-via-outlook-with-nodemailer-and-microsoft-graph-b74" ref="nofollow noopener noreferrer">Sending Emails via Outlook with Nodemailer and Microsoft Graph</a></li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨ Vue 3 æ„å»ºä»»åŠ¡æ¸…å•ï¼šå“åº”å¼ç¼–ç¨‹çš„ä¼˜é›…å®è·µ]]></title>    <link>https://juejin.cn/post/7588042910198317106</link>    <guid>https://juejin.cn/post/7588042910198317106</guid>    <pubDate>2025-12-27T13:14:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588042910198317106" data-draft-id="7588080521445277742" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨ Vue 3 æ„å»ºä»»åŠ¡æ¸…å•ï¼šå“åº”å¼ç¼–ç¨‹çš„ä¼˜é›…å®è·µ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-27T13:14:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Zyx2007"/> <meta itemprop="url" content="https://juejin.cn/user/3924597867554890"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨ Vue 3 æ„å»ºä»»åŠ¡æ¸…å•ï¼šå“åº”å¼ç¼–ç¨‹çš„ä¼˜é›…å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3924597867554890/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Zyx2007
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T13:14:45.000Z" title="Sat Dec 27 2025 13:14:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œä»»åŠ¡æ¸…å•ï¼ˆTodosï¼‰æ˜¯ä¸€ä¸ªç»å…¸ç»ƒä¹ é¡¹ç›®ã€‚å®ƒè™½åŠŸèƒ½ç®€å•ï¼Œå´èƒ½å®Œæ•´ä½“ç°æ•°æ®é©±åŠ¨ã€çŠ¶æ€ç®¡ç†ä¸ç”¨æˆ·äº¤äº’çš„æ ¸å¿ƒæ€æƒ³ã€‚è‹¥ç”¨ä¼ ç»Ÿ DOM æ“ä½œå®ç°ï¼Œä»£ç å¾€å¾€å†—é•¿ä¸”éš¾ä»¥ç»´æŠ¤ï¼›è€Œå€ŸåŠ© Vue 3 çš„ç»„åˆå¼ API ä¸å“åº”å¼ç³»ç»Ÿï¼Œæˆ‘ä»¬åªéœ€å…³æ³¨â€œæ•°æ®å¦‚ä½•å˜åŒ–â€ï¼Œç•Œé¢ä¾¿ä¼šè‡ªåŠ¨åŒæ­¥æ›´æ–°ã€‚è¿™ç§å£°æ˜å¼å¼€å‘èŒƒå¼ï¼Œä¸ä»…æå‡äº†å¼€å‘æ•ˆç‡ï¼Œä¹Ÿè®©ä»£ç é€»è¾‘æ›´æ¸…æ™°ã€æ›´æ˜“æµ‹è¯•ã€‚</p>
<h2 data-id="heading-0">ä»å‘½ä»¤å¼åˆ°å£°æ˜å¼ï¼šæ€ç»´çš„è½¬å˜</h2>
<p>ä¼ ç»Ÿ JavaScript å¼€å‘é€šå¸¸é‡‡ç”¨<strong>å‘½ä»¤å¼ç¼–ç¨‹</strong>ï¼šå…ˆè·å– DOM å…ƒç´ ï¼Œå†ç›‘å¬äº‹ä»¶ï¼Œæœ€åæ‰‹åŠ¨ä¿®æ”¹å†…å®¹ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">app</span> = document.getElementById(<span class="hljs-string">'app'</span>)<span class="hljs-comment">;</span>
const <span class="hljs-attr">input</span> = document.getElementById(<span class="hljs-string">'todo-input'</span>)<span class="hljs-comment">;</span>
input.addEventListener('change', (e) =&gt; {
  <span class="hljs-attr">app.innerHTML</span> = e.target.value.trim()<span class="hljs-comment">;</span>
})<span class="hljs-comment">;</span>
</code></pre>
<p>è¿™ç§æ–¹å¼ç›´æ¥æ“ä½œæ¸²æŸ“å¼•æ“ï¼Œæ¯ä¸€æ­¥éƒ½éœ€ç²¾ç¡®æ§åˆ¶ã€‚ä¸€æ—¦é€»è¾‘å¤æ‚ï¼ˆå¦‚å¢åˆ æ”¹æŸ¥ã€ç­›é€‰ã€å…¨é€‰ï¼‰ï¼Œä»£ç ä¼šè¿…é€Ÿè†¨èƒ€ï¼Œä¸”å®¹æ˜“å› çŠ¶æ€ä¸ä¸€è‡´å¯¼è‡´ bugã€‚</p>
<p>è€Œ Vue çš„æ ¸å¿ƒç†å¿µæ˜¯<strong>å“åº”å¼æ•°æ®é©±åŠ¨</strong>ï¼šä½ ä¸å†æ“ä½œ DOMï¼Œè€Œæ˜¯å®šä¹‰æ•°æ®ï¼›å½“æ•°æ®å˜åŒ–æ—¶ï¼Œæ¡†æ¶è‡ªåŠ¨æ›´æ–°è§†å›¾ã€‚å¼€å‘è€…åªéœ€æ€è€ƒâ€œä¸šåŠ¡çŠ¶æ€æ˜¯ä»€ä¹ˆâ€ï¼Œè€Œéâ€œé¡µé¢è¯¥æ€ä¹ˆæ”¹â€ã€‚</p>
<h2 data-id="heading-1">å“åº”å¼çŠ¶æ€ï¼šç”¨ <code>ref</code> ç®¡ç†æ•°æ®</h2>
<p>åœ¨ Vue 3 çš„ <code>&lt;script setup&gt;</code> ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>ref</code> åˆ›å»ºå“åº”å¼å˜é‡ï¼š</p>
<pre><code class="hljs language-php" lang="php">&lt;script setup&gt;
import { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">title</span> = <span class="hljs-title function_ invoke__">ref</span>(<span class="hljs-string">'Todos ä»»åŠ¡æ¸…å•'</span>)
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">todos</span> = <span class="hljs-title function_ invoke__">ref</span>([
  { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'æ‰“ç‹è€…'</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span> },
  { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'åƒé¥­'</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">true</span> }
])
&lt;/script&gt;
</code></pre>
<p><code>title</code> å’Œ <code>todos</code> éƒ½æ˜¯å“åº”å¼å¼•ç”¨å¯¹è±¡ã€‚é€šè¿‡ <code>title.value = 'æ–°æ ‡é¢˜'</code> ä¿®æ”¹å€¼åï¼Œæ¨¡æ¿ä¸­æ‰€æœ‰ä½¿ç”¨ <code>{{ title }}</code> çš„åœ°æ–¹éƒ½ä¼šè‡ªåŠ¨åˆ·æ–°ã€‚è¿™ç§æœºåˆ¶å°† UI ä¸çŠ¶æ€ç´§å¯†ç»‘å®šï¼Œæ¶ˆé™¤äº†æ‰‹åŠ¨ DOM æ“ä½œçš„ç¹çã€‚</p>
<h2 data-id="heading-2">æ¨¡æ¿æŒ‡ä»¤ï¼šç®€æ´è¡¨è¾¾é€»è¾‘</h2>
<p>Vue æä¾›ä¸€ç³»åˆ—æŒ‡ä»¤ï¼Œä»¥å£°æ˜æ–¹å¼æè¿° UI è¡Œä¸ºï¼š</p>
<pre><code class="hljs language-ini" lang="ini">&lt;input <span class="hljs-attr">v-model</span>=<span class="hljs-string">"title"</span> @keyup.enter=<span class="hljs-string">"addTodo"</span> /&gt;
&lt;ul <span class="hljs-attr">v-if</span>=<span class="hljs-string">"todos.length"</span>&gt;
  &lt;li <span class="hljs-attr">v-for</span>=<span class="hljs-string">"todo in todos"</span> :key=<span class="hljs-string">"todo.id"</span>&gt;
    &lt;input <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> v-model=<span class="hljs-string">"todo.done"</span> /&gt;
    &lt;span :<span class="hljs-attr">class</span>=<span class="hljs-string">"{ 'done': todo.done }"</span>&gt;{{ todo.title }}&lt;/span&gt;
  &lt;/li&gt;
&lt;/ul&gt;
</code></pre>
<ul>
<li><code>v-model</code> å®ç°åŒå‘ç»‘å®šï¼Œè¾“å…¥æ¡†å†…å®¹ä¸ <code>title</code> åŒæ­¥ï¼›</li>
<li><code>@keyup.enter</code> ç›‘å¬å›è½¦é”®ï¼Œè§¦å‘æ·»åŠ ä»»åŠ¡ï¼›</li>
<li><code>v-for</code> å¾ªç¯æ¸²æŸ“åˆ—è¡¨ï¼Œæ— éœ€æ‰‹åŠ¨æ‹¼æ¥ HTMLï¼›</li>
<li><code>:class</code> åŠ¨æ€ç»‘å®šæ ·å¼ï¼Œå®Œæˆé¡¹æ˜¾ç¤ºåˆ é™¤çº¿ï¼›</li>
<li><code>v-if</code> æ§åˆ¶â€œæš‚æ— ä»»åŠ¡â€æç¤ºçš„æ˜¾ç¤ºæ—¶æœºã€‚</li>
</ul>
<p>è¿™äº›æŒ‡ä»¤å°†å¸¸è§äº¤äº’æ¨¡å¼å°è£…æˆè¯­ä¹‰åŒ–è¯­æ³•ï¼Œå¤§å¹…é™ä½æ ·æ¿ä»£ç é‡ã€‚</p>
<h2 data-id="heading-3">è®¡ç®—å±æ€§ï¼šé«˜æ•ˆæ´¾ç”ŸçŠ¶æ€</h2>
<p>ä»»åŠ¡æ¸…å•éœ€è¦å®æ—¶æ˜¾ç¤ºâ€œæœªå®Œæˆä»»åŠ¡æ•°â€å’Œâ€œå…¨é€‰â€çŠ¶æ€ã€‚è‹¥åœ¨æ¨¡æ¿ä¸­ç›´æ¥å†™ <code>todos.filter(...).length</code>ï¼Œæ¯æ¬¡æ¸²æŸ“éƒ½ä¼šé‡æ–°è®¡ç®—ï¼Œå½±å“æ€§èƒ½ã€‚Vue çš„ <strong><code>computed</code></strong> æä¾›äº†ç¼“å­˜æœºåˆ¶ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">active</span> = computed(() =&gt; {
  return todos.value.filter(<span class="hljs-attr">todo</span> =&gt; !todo.done).length
})
</code></pre>
<p><code>active</code> æ˜¯ä¸€ä¸ªè®¡ç®—å±æ€§ï¼Œåªæœ‰å½“ <code>todos</code> å‘ç”Ÿå˜åŒ–æ—¶æ‰ä¼šé‡æ–°æ±‚å€¼ã€‚æ¨¡æ¿ä¸­ä½¿ç”¨ <code>{{ active }}</code> å³å¯è·å¾—æœ€æ–°ç»“æœï¼Œä¸”æ€§èƒ½æœ€ä¼˜ã€‚</p>
<p>æ›´å·§å¦™çš„æ˜¯ï¼Œ<code>computed</code> æ”¯æŒ <strong>getter/setter</strong>ï¼Œå¯ç”¨äºå®ç°â€œå…¨é€‰â€åŠŸèƒ½ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> allDone = <span class="hljs-title function_">computed</span>({
  <span class="hljs-title function_">get</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> todos.<span class="hljs-property">value</span>.<span class="hljs-title function_">every</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> todo.<span class="hljs-property">done</span>)
  },
  <span class="hljs-title function_">set</span>(<span class="hljs-params">value</span>) {
    todos.<span class="hljs-property">value</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> todo.<span class="hljs-property">done</span> = value)
  }
})
</code></pre>
<p>å½“ç”¨æˆ·å‹¾é€‰â€œå…¨é€‰â€å¤é€‰æ¡†æ—¶ï¼Œ<code>set</code> è¢«è°ƒç”¨ï¼Œæ‰¹é‡æ›´æ–°æ‰€æœ‰ä»»åŠ¡çŠ¶æ€ï¼›åä¹‹ï¼Œè‹¥éƒ¨åˆ†ä»»åŠ¡è¢«å–æ¶ˆï¼Œ<code>get</code> è¿”å› <code>false</code>ï¼Œå¤é€‰æ¡†è‡ªåŠ¨å–æ¶ˆã€‚è¿™ç§åŒå‘è”åŠ¨ä»…éœ€å‡ è¡Œä»£ç ï¼Œå´è¦†ç›–äº†å¤æ‚çš„äº¤äº’é€»è¾‘ã€‚</p>
<h2 data-id="heading-4">æ·»åŠ ä»»åŠ¡ï¼šèšç„¦æ•°æ®å˜æ›´</h2>
<p>æ–°å¢ä»»åŠ¡çš„æœ¬è´¨æ˜¯å‘ <code>todos</code> æ•°ç»„è¿½åŠ ä¸€é¡¹ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">addTodo</span> = () =&gt; {
  <span class="hljs-keyword">if</span> (!title.value.<span class="hljs-title function_ invoke__">trim</span>()) <span class="hljs-keyword">return</span>
  todos.value.<span class="hljs-title function_ invoke__">push</span>({
    <span class="hljs-attr">id</span>: Date.<span class="hljs-title function_ invoke__">now</span>(),
    <span class="hljs-attr">title</span>: title.value,
    <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span>
  })
  title.value = <span class="hljs-string">''</span>
}
</code></pre>
<p>è¿™é‡Œæ²¡æœ‰ <code>createElement</code>ã€<code>appendChild</code> æˆ– <code>innerHTML</code>ï¼Œåªæœ‰å¯¹æ•°æ®çš„æ“ä½œã€‚Vue ä¼šè‡ªåŠ¨æ£€æµ‹æ•°ç»„å˜æ›´ï¼Œå¹¶é«˜æ•ˆæ›´æ–° DOMã€‚è¿™ç§â€œæ•°æ®å³ UIâ€çš„æ€æƒ³ï¼Œè®©ä¸šåŠ¡é€»è¾‘ä¸è§†å›¾å®Œå…¨è§£è€¦ã€‚</p>
<h2 data-id="heading-5">æ ·å¼ä¸ä½“éªŒä¼˜åŒ–</h2>
<p>é€šè¿‡åŠ¨æ€ç±»åï¼Œè½»æ¾å®ç°è§†è§‰åé¦ˆï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.done</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#999</span>;
  <span class="hljs-attribute">text-decoration</span>: line-through;
}
</code></pre>
<p>é…åˆ <code>:class="{ 'done': todo.done }"</code>ï¼Œå®Œæˆçš„ä»»åŠ¡è‡ªåŠ¨å˜ç°å¹¶åŠ åˆ é™¤çº¿ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</p>
<h2 data-id="heading-6">æ€»ç»“</h2>
<p>è¿™ä¸ª Todos åº”ç”¨è™½å°ï¼Œå´å®Œæ•´å±•ç¤ºäº† Vue 3 çš„æ ¸å¿ƒä¼˜åŠ¿ï¼š</p>
<ul>
<li><strong>å“åº”å¼ç³»ç»Ÿ</strong>è®©çŠ¶æ€ä¸è§†å›¾è‡ªåŠ¨åŒæ­¥ï¼›</li>
<li><strong>ç»„åˆå¼ API</strong> æä¾›çµæ´»ã€å¯å¤ç”¨çš„é€»è¾‘ç»„ç»‡æ–¹å¼ï¼›</li>
<li><strong>æ¨¡æ¿æŒ‡ä»¤</strong> å°†å¸¸è§äº¤äº’æŠ½è±¡ä¸ºç®€æ´è¯­æ³•ï¼›</li>
<li><strong>è®¡ç®—å±æ€§</strong> åœ¨ä¿è¯æ€§èƒ½çš„åŒæ—¶ç®€åŒ–æ´¾ç”ŸçŠ¶æ€ç®¡ç†ã€‚</li>
</ul>
<p>ç›¸æ¯”ä¼ ç»Ÿ DOM æ“ä½œï¼ŒVue è®©å¼€å‘è€…ä»â€œå¦‚ä½•æ”¹é¡µé¢â€è½¬å‘â€œæ•°æ®è¯¥æ˜¯ä»€ä¹ˆæ ·â€ï¼Œæå¤§é™ä½äº†å¿ƒæ™ºè´Ÿæ‹…ã€‚å¯¹äºåˆå­¦è€…ï¼Œè¿™æ˜¯å¿«é€Ÿä¸Šæ‰‹ç°ä»£å‰ç«¯å¼€å‘çš„æ·å¾„ï¼›å¯¹äºèµ„æ·±å·¥ç¨‹å¸ˆï¼Œè¿™æ˜¯æ„å»ºå¯ç»´æŠ¤ã€å¯æ‰©å±•åº”ç”¨çš„åšå®åŸºç¡€ã€‚æ­£å¦‚é‚£å¥è€è¯ï¼šâ€œå½“ä½ ä¸“æ³¨äºæ•°æ®ï¼ŒUI è‡ªä¼šè·Ÿéšã€‚â€</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[wxå¾®ä¿¡å°ç¨‹åºéƒ¨åˆ†é€»è¾‘]]></title>    <link>https://juejin.cn/post/7588092534161833984</link>    <guid>https://juejin.cn/post/7588092534161833984</guid>    <pubDate>2025-12-27T13:53:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588092534161833984" data-draft-id="7399604686989656075" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="wxå¾®ä¿¡å°ç¨‹åºéƒ¨åˆ†é€»è¾‘"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-27T13:53:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·27965604270"/> <meta itemprop="url" content="https://juejin.cn/user/317130507551981"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            wxå¾®ä¿¡å°ç¨‹åºéƒ¨åˆ†é€»è¾‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/317130507551981/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·27965604270
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T13:53:47.000Z" title="Sat Dec 27 2025 13:53:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    9
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"w-main"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"w-title"</span>&gt;</span>{{title}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"w-desc"</span>&gt;</span>{{desc}}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">block</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- å¤´åƒé€‰æ‹©æŒ‰é’®ï¼Œæ ¹æ®éœ€è¦å†³å®šæ˜¯å¦æ˜¾ç¤º --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"nickname-wrapper"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"nickname-label"</span>&gt;</span>å¤´åƒ<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"avatar-wrapper"</span> <span class="hljs-attr">open-type</span>=<span class="hljs-string">"chooseAvatar"</span> <span class="hljs-attr">bind:chooseavatar</span>=<span class="hljs-string">"onChooseAvatar"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">image</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"avatar"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"{{userInfo.avatarUrl}}"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">image</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"nickname-wrapper"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"nickname-label"</span>&gt;</span>æ˜µç§°<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"nickname"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"nickname-input"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·è¾“å…¥æ˜µç§°"</span> <span class="hljs-attr">bind:change</span>=<span class="hljs-string">"onInputChange"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">block</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">block</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bindtap</span>=<span class="hljs-string">"onAuthLogin"</span> <span class="hljs-attr">open-type</span>=<span class="hljs-string">"getUserInfo"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"w-login-btn"</span> <span class="hljs-attr">theme</span>=<span class="hljs-string">'primary'</span>&gt;</span>
      ç¡®è®¤æˆæƒç™»å½•
    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">block</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">getApp</span>(); <span class="hljs-comment">//é€šè¿‡getApp()æ–¹æ³•ï¼Œèƒ½å¤Ÿè·å–Appçš„å®ä¾‹ï¼Œä»è€Œè·å–app.jsæ–‡ä»¶ä¸­å®šä¹‰çš„å…¬å…±æ•°æ®globalData</span>
<span class="hljs-comment">// const defaultAvatarUrl = '../../images/no-login.png' // å…ˆå°†avatarUrlè®¾ç½®ä¸ºä¸€ä¸ªå¸¸é‡</span>
<span class="hljs-keyword">const</span> defaultAvatarUrl = <span class="hljs-string">'https://mmbiz.qpic.cn/mmbiz/icTdbqWNOwNRna42FI242Lcia07jQodd2FJGIYQfG0LAJGFxM4FbnQP6yfMxBgJ0F3YRqJCJ1aPAK2dQagdusBZg/0'</span>

<span class="hljs-title class_">Page</span>({
  <span class="hljs-comment">/**
   * é¡µé¢çš„åˆå§‹æ•°æ®
   */</span>
  <span class="hljs-attr">data</span>: {
    <span class="hljs-attr">title</span>: <span class="hljs-string">'ç™»å½•ç¡®è®¤'</span>,
    <span class="hljs-attr">desc</span>: <span class="hljs-string">'ä¸ºä¿éšœæ‚¨çš„è´¦æˆ·å®‰å…¨ï¼Œè¯·ç¡®è®¤æ˜¯æœ¬äººç™»å½•'</span>,
    <span class="hljs-attr">openId</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">sessionKey</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">scene</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">userInfo</span>: {
      <span class="hljs-attr">avatarUrl</span>: defaultAvatarUrl,
      <span class="hljs-attr">nickName</span>: <span class="hljs-string">''</span>,
      <span class="hljs-attr">avatarUrlBase64</span>: <span class="hljs-string">''</span>
    },
    <span class="hljs-attr">hasUserInfo</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">canIUseNicknameComp</span>: wx.<span class="hljs-title function_">canIUse</span>(<span class="hljs-string">'input.type.nickname'</span>),
  },

  <span class="hljs-comment">/**
   * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢åŠ è½½
   */</span>
  <span class="hljs-title function_">onLoad</span>(<span class="hljs-params">options</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>({
      <span class="hljs-attr">scene</span>: <span class="hljs-built_in">decodeURIComponent</span>(options.<span class="hljs-property">scene</span>)
    })
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getOpenId</span>();
  },

  <span class="hljs-title function_">getOpenId</span>(<span class="hljs-params"/>) {
    wx.<span class="hljs-title function_">login</span>({
      <span class="hljs-attr">success</span>: <span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"ç”¨æˆ·ç™»å½•çš„ä¸´æ—¶å‡­è¯æ˜¯ï¼š"</span> + res.<span class="hljs-property">code</span>);
        <span class="hljs-comment">// ä¿å­˜thisåˆ°å˜é‡thatä¸­</span>
        <span class="hljs-keyword">const</span> that = <span class="hljs-variable language_">this</span>;
        wx.<span class="hljs-title function_">request</span>({
          <span class="hljs-attr">url</span>: <span class="hljs-string">'https://juejin.plus/prod-api/wx/public/getOpenId'</span>,
          <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
          <span class="hljs-attr">data</span>: {
            <span class="hljs-attr">code</span>: res.<span class="hljs-property">code</span>,
            <span class="hljs-attr">scene</span>: that.<span class="hljs-property">data</span>.<span class="hljs-property">scene</span> ? that.<span class="hljs-property">data</span>.<span class="hljs-property">scene</span> : <span class="hljs-string">'-1'</span> <span class="hljs-comment">// ä½¿ç”¨thatä»£æ›¿this</span>
          },
          <span class="hljs-attr">success</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">res</span>) {
            <span class="hljs-keyword">if</span> (res.<span class="hljs-property">data</span>.<span class="hljs-property">code</span> == <span class="hljs-number">200</span>) {
              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"ç”¨æˆ·openidï¼š"</span>, res);
              <span class="hljs-comment">// ä½¿ç”¨å˜é‡thatæ¥å¼•ç”¨é¡µé¢å®ä¾‹</span>
              that.<span class="hljs-title function_">setData</span>({
                <span class="hljs-attr">openId</span>: res.<span class="hljs-property">data</span>.<span class="hljs-property">data</span>.<span class="hljs-property">openId</span>,
                <span class="hljs-attr">sessionKey</span>: res.<span class="hljs-property">data</span>.<span class="hljs-property">data</span>.<span class="hljs-property">sessionKey</span>
              });
            } <span class="hljs-keyword">else</span> {
              wx.<span class="hljs-title function_">showToast</span>({
                <span class="hljs-attr">title</span>: <span class="hljs-string">"ç”¨æˆ·openidè·å–å¤±è´¥"</span>,
                <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span>,
                <span class="hljs-attr">icon</span>: <span class="hljs-string">'none'</span>,
                <span class="hljs-attr">mask</span>: <span class="hljs-literal">true</span>
              })
            }
          },
          <span class="hljs-attr">fail</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å¤±è´¥"</span>)
          }
        });
      }
    });
  },

  <span class="hljs-title function_">onAuthLogin</span>(<span class="hljs-params">e</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>.<span class="hljs-property">userInfo</span>.<span class="hljs-property">avatarUrlBase64</span> === <span class="hljs-string">''</span>) {
      wx.<span class="hljs-title function_">showToast</span>({
        <span class="hljs-attr">title</span>: <span class="hljs-string">"è¯·é€‰æ‹©å¤´åƒ"</span>,
        <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span>,
        <span class="hljs-attr">icon</span>: <span class="hljs-string">'none'</span>,
        <span class="hljs-attr">mask</span>: <span class="hljs-literal">true</span>
      })
      <span class="hljs-keyword">return</span>
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>.<span class="hljs-property">userInfo</span>.<span class="hljs-property">nickName</span> === <span class="hljs-string">''</span>) {
      wx.<span class="hljs-title function_">showToast</span>({
        <span class="hljs-attr">title</span>: <span class="hljs-string">"è¯·è¾“å…¥æ˜µç§°"</span>,
        <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span>,
        <span class="hljs-attr">icon</span>: <span class="hljs-string">'none'</span>,
        <span class="hljs-attr">mask</span>: <span class="hljs-literal">true</span>
      })
      <span class="hljs-keyword">return</span>
    }
    wx.<span class="hljs-title function_">getUserProfile</span>({
      <span class="hljs-attr">desc</span>: <span class="hljs-string">'ç”¨äºå®Œå–„ç”¨æˆ·èµ„æ–™'</span>,
      <span class="hljs-attr">success</span>: <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> that = <span class="hljs-variable language_">this</span>;
        that.<span class="hljs-title function_">setData</span>({
          <span class="hljs-attr">isLogin</span>: <span class="hljs-literal">true</span>
        });
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"ç”¨æˆ·ä¿¡æ¯ï¼š"</span>, res)
        <span class="hljs-keyword">var</span> params = {
          <span class="hljs-string">'openId'</span>: that.<span class="hljs-property">data</span>.<span class="hljs-property">openId</span>,
          <span class="hljs-string">'sessionKey'</span>: that.<span class="hljs-property">data</span>.<span class="hljs-property">sessionKey</span>,
          <span class="hljs-string">'encryptedData'</span>: res.<span class="hljs-property">encryptedData</span>,
          <span class="hljs-string">'rawData'</span>: res.<span class="hljs-property">rawData</span>,
          <span class="hljs-string">'signature'</span>: res.<span class="hljs-property">signature</span>,
          <span class="hljs-string">'iv'</span>: res.<span class="hljs-property">iv</span>,
          <span class="hljs-string">'scene'</span>: that.<span class="hljs-property">data</span>.<span class="hljs-property">scene</span> ? that.<span class="hljs-property">data</span>.<span class="hljs-property">scene</span> : <span class="hljs-string">'-1'</span>,
          <span class="hljs-string">'nickName'</span>: that.<span class="hljs-property">data</span>.<span class="hljs-property">userInfo</span>.<span class="hljs-property">nickName</span>,
          <span class="hljs-string">'avatarUrlBase64'</span>: that.<span class="hljs-property">data</span>.<span class="hljs-property">userInfo</span>.<span class="hljs-property">avatarUrlBase64</span>,
        }
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"param:"</span>, params)
        wx.<span class="hljs-title function_">request</span>({
          <span class="hljs-attr">url</span>: <span class="hljs-string">'https://juejin.plus/prod-api/wx/public/getWxUserInfo'</span>,
          <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
          <span class="hljs-attr">data</span>: params,
          <span class="hljs-attr">success</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">res</span>) {
            <span class="hljs-keyword">if</span> (res.<span class="hljs-property">data</span>.<span class="hljs-property">code</span> == <span class="hljs-number">200</span>) {
              that.<span class="hljs-title function_">setData</span>({
                <span class="hljs-attr">isLogin</span>: <span class="hljs-literal">true</span>
              });
              app.<span class="hljs-property">globalData</span>.<span class="hljs-property">loginState</span> = <span class="hljs-literal">true</span>;
              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"ç™»å½•çŠ¶æ€ä¿®æ”¹æˆåŠŸ"</span>)
              wx.<span class="hljs-title function_">showToast</span>({
                <span class="hljs-attr">title</span>: <span class="hljs-string">'ç™»å½•æˆåŠŸ!'</span>,
                <span class="hljs-attr">icon</span>: <span class="hljs-string">'success'</span>,
                <span class="hljs-attr">duration</span>: <span class="hljs-number">3000</span>,
                <span class="hljs-attr">success</span>: <span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> {
                  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
                    wx.<span class="hljs-title function_">reLaunch</span>({
                      <span class="hljs-attr">url</span>: <span class="hljs-string">'/pages/home/home'</span>,
                    })
                  }, <span class="hljs-number">2000</span>)
                },
              })
            } <span class="hljs-keyword">else</span> {
              wx.<span class="hljs-title function_">showToast</span>({
                <span class="hljs-attr">title</span>: <span class="hljs-string">"ç™»å½•å¤±è´¥"</span>,
                <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span>,
                <span class="hljs-attr">icon</span>: <span class="hljs-string">'none'</span>,
                <span class="hljs-attr">mask</span>: <span class="hljs-literal">true</span>
              })
            }
          }
        })
      }
    })
  },

  <span class="hljs-title function_">onChooseAvatar</span>(<span class="hljs-params">e</span>) {
    <span class="hljs-keyword">const</span> {
      avatarUrl
    } = e.<span class="hljs-property">detail</span>

    <span class="hljs-comment">//å¯¹ä¸´æ—¶å›¾ç‰‡é“¾æ¥è¿›è¡Œbase64ç¼–ç </span>
    <span class="hljs-keyword">var</span> avatarUrl_base64 = <span class="hljs-string">'data:image/jpeg;base64,'</span> + wx.<span class="hljs-title function_">getFileSystemManager</span>().<span class="hljs-title function_">readFileSync</span>(avatarUrl, <span class="hljs-string">'base64'</span>)
    <span class="hljs-keyword">const</span> {
      nickName
    } = <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>.<span class="hljs-property">userInfo</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>({
      <span class="hljs-string">"userInfo.avatarUrl"</span>: avatarUrl,
      <span class="hljs-string">"userInfo.avatarUrlBase64"</span>: avatarUrl_base64,
      <span class="hljs-attr">hasUserInfo</span>: nickName &amp;&amp; avatarUrl &amp;&amp; avatarUrl !== defaultAvatarUrl,
    })
  },
  <span class="hljs-title function_">onInputChange</span>(<span class="hljs-params">e</span>) {
    <span class="hljs-keyword">const</span> nickName = e.<span class="hljs-property">detail</span>.<span class="hljs-property">value</span>
    <span class="hljs-keyword">const</span> {
      avatarUrl
    } = <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>.<span class="hljs-property">userInfo</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>({
      <span class="hljs-string">"userInfo.nickName"</span>: nickName,
      <span class="hljs-attr">hasUserInfo</span>: nickName &amp;&amp; avatarUrl &amp;&amp; avatarUrl !== defaultAvatarUrl,
    })
  },
  <span class="hljs-comment">/**
   * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢åˆæ¬¡æ¸²æŸ“å®Œæˆ
   */</span>
  <span class="hljs-title function_">onReady</span>(<span class="hljs-params"/>) {

  },

  <span class="hljs-comment">/**
   * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢æ˜¾ç¤º
   */</span>
  <span class="hljs-title function_">onShow</span>(<span class="hljs-params"/>) {

  },

  <span class="hljs-comment">/**
   * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢éšè—
   */</span>
  <span class="hljs-title function_">onHide</span>(<span class="hljs-params"/>) {

  },

  <span class="hljs-comment">/**
   * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢å¸è½½
   */</span>
  <span class="hljs-title function_">onUnload</span>(<span class="hljs-params"/>) {

  },

  <span class="hljs-comment">/**
   * é¡µé¢ç›¸å…³äº‹ä»¶å¤„ç†å‡½æ•°--ç›‘å¬ç”¨æˆ·ä¸‹æ‹‰åŠ¨ä½œ
   */</span>
  <span class="hljs-title function_">onPullDownRefresh</span>(<span class="hljs-params"/>) {

  },

  <span class="hljs-comment">/**
   * é¡µé¢ä¸Šæ‹‰è§¦åº•äº‹ä»¶çš„å¤„ç†å‡½æ•°
   */</span>
  <span class="hljs-title function_">onReachBottom</span>(<span class="hljs-params"/>) {

  },

  <span class="hljs-comment">/**
   * ç”¨æˆ·ç‚¹å‡»å³ä¸Šè§’åˆ†äº«
   */</span>
  <span class="hljs-title function_">onShareAppMessage</span>(<span class="hljs-params"/>) {

  },
})
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[eslintåŒ¹é…è§„åˆ™é€Ÿé€š]]></title>    <link>https://juejin.cn/post/7588152122186809398</link>    <guid>https://juejin.cn/post/7588152122186809398</guid>    <pubDate>2025-12-27T14:15:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588152122186809398" data-draft-id="7588149079417110582" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="eslintåŒ¹é…è§„åˆ™é€Ÿé€š"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-27T14:15:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="sujiu"/> <meta itemprop="url" content="https://juejin.cn/user/282996947551584"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            eslintåŒ¹é…è§„åˆ™é€Ÿé€š
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/282996947551584/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    sujiu
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T14:15:06.000Z" title="Sat Dec 27 2025 14:15:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">eslintåŒ¹é…è§„åˆ™é€Ÿé€š</h2>
<h3 data-id="heading-1">åŒ¹é…è§„åˆ™</h3>
<p>åœ¨ <code>eslint.config.js</code> é‡Œï¼Œ<strong>â€œå½“å‰æ–‡ä»¶â€</strong> åˆ°åº•ä¼šè¢«å“ªä¸€ä¸ªï¼ˆæˆ–å“ªå‡ ä¸ªï¼‰é…ç½®å¯¹è±¡å‘½ä¸­ï¼Œæ˜¯æŒ‰ä¸‹è¿°æµç¨‹é€æ¡è®¡ç®—çš„ã€‚
åªè¦è®°ä½ä¸€å¥è¯ï¼š</p>
<blockquote>
<p><strong>ESLint ä¼šæŠŠæ–‡ä»¶è·¯å¾„ä¾æ¬¡è·Ÿæ¯ä¸ªé…ç½®å¯¹è±¡çš„ <code>files</code>/<code>ignores</code> åš glob åŒ¹é…ï¼Œå‘½ä¸­ä¸”æœªè¢«å¿½ç•¥çš„å°±ç”Ÿæ•ˆï¼›å¤šä¸ªå¯¹è±¡éƒ½å‘½ä¸­å°±å±‚å±‚åˆå¹¶ã€‚</strong></p>
</blockquote>
<p>ä¸‹é¢æŠŠâ€œåŒ¹é…â€è¿™ä»¶äº‹æ‹†æˆ 5 ä¸ªå…·ä½“é—®é¢˜ï¼Œä¸€æ¬¡æ€§è®²é€ã€‚</p>
<hr/>
<ol>
<li>
<p>æ‹¿è°æ¥åŒ¹é…ï¼Ÿ
æ–‡ä»¶åœ¨ç£ç›˜é‡Œçš„<strong>ç»å¯¹è·¯å¾„</strong>ï¼ˆWindows å¸¦ç›˜ç¬¦ï¼ŒUnix ä»¥ <code>/</code> å¼€å¤´ï¼‰ã€‚
ä¾‹ï¼š
<code>/home/me/proj/src/utils/is-empty.js</code>
<code>D:\repo\src\utils\is-empty.js</code></p>
</li>
<li>
<p>è·Ÿè°åŒ¹é…ï¼Ÿ
æ¯ä¸ªé…ç½®å¯¹è±¡é‡Œå¯èƒ½å‡ºç°çš„ä¸¤ç»„ glob æ¨¡å¼ï¼š</p>
<ul>
<li><code>files</code> æ•°ç»„ â€”â€” ç™½åå•</li>
<li><code>ignores</code> æ•°ç»„ â€”â€” é»‘åå•ï¼ˆæ”¯æŒ <code>!</code> å¦å®šï¼‰</li>
</ul>
</li>
<li>
<p>åŒ¹é…é¡ºåºï¼ˆçº§è”ï¼‰
å¯¹<strong>æ¯ä¸€ä¸ª</strong>é…ç½®å¯¹è±¡ï¼š</p>
<ol>
<li>è‹¥å¯¹è±¡<strong>æ²¡æœ‰</strong> <code>files</code>ï¼Œè§†ä¸º <code>files:["**/*"]</code>ï¼ˆå…¨é€‰ï¼‰ã€‚</li>
<li>æ‹¿æ–‡ä»¶è·¯å¾„å»è·Ÿ <code>files</code> é‡Œæ¯ä¸€é¡¹åš <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fisaacs%2Fminimatch" target="_blank" title="https://github.com/isaacs/minimatch" ref="nofollow noopener noreferrer">minimatch</a>ï¼ˆç±» <code>.gitignore</code> è¯­æ³•ï¼‰ã€‚
<ul>
<li>åªè¦<strong>æœ‰ä¸€é¡¹å‘½ä¸­</strong>å°±è®¤ä¸ºè¯¥å¯¹è±¡â€œé€‚ç”¨äºâ€æ­¤æ–‡ä»¶ã€‚</li>
</ul>
</li>
<li>è‹¥å¯¹è±¡è¿˜æœ‰ <code>ignores</code>ï¼Œå†è·Ÿè¿™äº›æ¨¡å¼æ¯”å¯¹ï¼š
<ul>
<li>å‘½ä¸­ä»»ä½• <code>ignores</code> å°±<strong>ç«‹å³æŠŠè¯¥å¯¹è±¡æ’é™¤</strong>ï¼Œä¸å†å‚ä¸åç»­åˆå¹¶ã€‚</li>
<li>æ”¯æŒå¦å®šå†™æ³• <code>"!xxx"</code>ï¼Œå¯å†æŠŠæ–‡ä»¶â€œæå›æ¥â€ã€‚</li>
</ul>
</li>
<li>å…¨å±€å¿½ç•¥è§„åˆ™ï¼ˆå¯¹è±¡é‡Œåªæœ‰ <code>ignores</code>ï¼Œæ²¡æœ‰ <code>files</code> ç­‰å…¶ä»–é”®ï¼‰ä¼šåœ¨<strong>æ‰€æœ‰å¯¹è±¡</strong>ä¹‹å‰å…ˆç®—ä¸€æ¬¡ï¼ŒåŸç†ç›¸åŒã€‚</li>
</ol>
</li>
<li>
<p>åˆå¹¶ç»“æœ
ç»è¿‡ä¸Šé¢ç­›é€‰åï¼Œå¯èƒ½ 0 ï½ N ä¸ªå¯¹è±¡å¯¹å½“å‰æ–‡ä»¶ç”Ÿæ•ˆã€‚</p>
<ul>
<li>0 ä¸ª â†’ ESLint æŠ¥é”™ â€œNo configuration provided for â€¦â€</li>
<li>â‰¥1 ä¸ª â†’ æŒ‰æ•°ç»„é¡ºåº<strong>æµ…åˆå¹¶</strong>ï¼ˆé åçš„è¦†ç›–é å‰çš„ï¼‰ï¼š
<code>languageOptions</code>/<code>linterOptions</code>/<code>plugins</code>/<code>settings</code> é€’å½’åˆå¹¶ï¼›
<code>rules</code> ç›´æ¥è¦†ç›–åŒåé”®ã€‚</li>
</ul>
</li>
<li>
<p>å¿«é€ŸéªŒè¯
å‘½ä»¤è¡Œçœ‹ä¸€çœ¼åˆ°åº•å“ªæ¡é…ç½®å‘½ä¸­ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npx eslint --inspect-config src/utils/is-empty.js
</code></pre>
<p>ä¼šæ‰“å°å‡ºæœ€ç»ˆåˆå¹¶åçš„å®Œæ•´é…ç½®ä»¥åŠâ€œæ¥è‡ªå“ªå‡ ä¸ªå¯¹è±¡â€ï¼Œè°ƒè¯•ç¥å™¨ã€‚</p>
</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> [
  {                           <span class="hljs-comment">// å¯¹è±¡ A</span>
    <span class="hljs-attr">ignores</span>: [<span class="hljs-string">"**/*.config.js"</span>]   <span class="hljs-comment">// å…¨å±€å¿½ç•¥</span>
  },
  {                           <span class="hljs-comment">// å¯¹è±¡ B</span>
    <span class="hljs-attr">files</span>: [<span class="hljs-string">"src/**/*.js"</span>],
    <span class="hljs-attr">ignores</span>: [<span class="hljs-string">"**/*.test.js"</span>],
    <span class="hljs-attr">rules</span>: { <span class="hljs-attr">semi</span>: <span class="hljs-string">"warn"</span> }
  },
  {                           <span class="hljs-comment">// å¯¹è±¡ C</span>
    <span class="hljs-attr">files</span>: [<span class="hljs-string">"**/*.test.js"</span>],
    <span class="hljs-attr">rules</span>: { <span class="hljs-attr">semi</span>: <span class="hljs-string">"off"</span> }
  }
]
</code></pre>
<p>ç°åœ¨ lint æ–‡ä»¶
<code>/proj/src/utils/is-empty.js</code></p>
<ol>
<li>å…¨å±€å¿½ç•¥ A å…ˆç®— â€”â€” æ–‡ä»¶åä¸æ˜¯ <code>*.config.js</code>ï¼Œ<strong>æœªè¢«å¿½ç•¥</strong>ï¼Œç»§ç»­ã€‚</li>
<li>å¯¹è±¡ Bï¼š<code>files</code> å‘½ä¸­ <code>src/**/*.js</code>ï¼Œä¸”ä¸åœ¨ <code>ignores</code> é‡Œ â†’ <strong>ç”Ÿæ•ˆ</strong>ã€‚</li>
<li>å¯¹è±¡ Cï¼š<code>files</code> å‘½ä¸­ <code>**/*.test.js</code>ï¼Œä½†å½“å‰æ–‡ä»¶ä¸æ˜¯æµ‹è¯• â†’ <strong>è·³è¿‡</strong>ã€‚</li>
</ol>
<p>æœ€ç»ˆåªæœ‰ B ç”Ÿæ•ˆï¼Œ<code>semi: "warn"</code>ã€‚</p>
<p>å†æŠŠ
<code>/proj/src/utils/is-empty.test.js</code>
èµ°ä¸€éï¼š</p>
<ol>
<li>å…¨å±€å¿½ç•¥ A åŒä¸Šï¼Œæœªå¿½ç•¥ã€‚</li>
<li>å¯¹è±¡ Bï¼šè™½ç„¶å‘½ä¸­ <code>src/**/*.js</code>ï¼Œä½†ç´§æ¥ç€è¢« <code>**/*.test.js</code> å¿½ç•¥ â†’ <strong>å¯¹è±¡ B è¢«æ’é™¤</strong>ã€‚</li>
<li>å¯¹è±¡ Cï¼šå‘½ä¸­ <code>**/*.test.js</code> â†’ <strong>ç”Ÿæ•ˆ</strong>ï¼Œ<code>semi: "off"</code>ã€‚</li>
</ol>
<h3 data-id="heading-2">åˆå¹¶è§„åˆ™</h3>
<p>flat Config çš„â€œåˆå¹¶â€å¹¶ä¸æ˜¯æ·±åº¦åˆå¹¶ï¼ˆdeep mergeï¼‰ï¼Œè€Œæ˜¯<strong>æŒ‰æ•°ç»„é¡ºåºã€ä¸€çº§ä¸€çº§åœ°â€œè¦†ç›– + ç´¯åŠ â€</strong>ï¼Œè§„åˆ™éå¸¸å¹²è„†ï¼š</p>
<ol>
<li><strong>æ•°ç»„é¡ºåº = ä¼˜å…ˆçº§</strong>
åå‡ºç°çš„ config å¯¹è±¡å¦‚æœå’Œå‰é¢çš„<strong>åŒå­—æ®µåŒå</strong>ï¼Œå°±<strong>æ•´å€¼è¦†ç›–</strong>ï¼›ä¸åŒåå°±ç´¯åŠ ã€‚</li>
<li><strong>å‘½ä¸­èŒƒå›´ï¼ˆfiles / ignoresï¼‰ç‹¬ç«‹åˆ¤æ–­</strong>
å¯¹å•ä¸ªæ–‡ä»¶æ¥è¯´ï¼ŒESLint ä¼šæŠŠ<strong>æ‰€æœ‰è·¯å¾„å‘½ä¸­</strong>çš„ config å¯¹è±¡æ”¶é›†èµ·æ¥ï¼Œå†æŒ‰é¡ºåºåˆå¹¶ï¼›
åªè¦æŸä¸€æ®µ config çš„ <code>ignores</code> åŒ¹é…äº†ï¼Œè¿™æ®µåŠåé¢åŒè·¯å¾„çš„ config å°±è¢«æ•´æ®µè·³è¿‡ã€‚</li>
<li><strong>åˆå¹¶ç²’åº¦åªåˆ°â€œå­—æ®µâ€ä¸€çº§</strong>
<ul>
<li><code>languageOptions</code>ã€<code>plugins</code>ã€<code>rules</code> éƒ½æ˜¯<strong>æ•´å¯¹è±¡æ›¿æ¢</strong>ï¼Œä¸ä¼šé€’å½’åˆå¹¶å†…éƒ¨å­é”®ã€‚</li>
<li>æƒ³â€œå¢é‡â€å°±å¿…é¡»æŠŠå‰é¢é‚£æ®µå†æŠ„ä¸€éï¼Œæˆ–è€…åˆ©ç”¨å±•å¼€è¿ç®—ç¬¦è‡ªå·±æ‹¼è£…ã€‚</li>
</ul>
</li>
</ol>
<hr/>
<h3 data-id="heading-3">çœ‹ä¸€æ®µä»£ç å°±æ‡‚</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> [
  {                                                    <span class="hljs-comment">// â‘ </span>
    <span class="hljs-attr">files</span>: [<span class="hljs-string">'**/*.ts'</span>],
    <span class="hljs-attr">languageOptions</span>: { <span class="hljs-attr">parser</span>: ts.<span class="hljs-property">parser</span>, <span class="hljs-attr">ecmaVersion</span>: <span class="hljs-number">2022</span> },
    <span class="hljs-attr">rules</span>: { <span class="hljs-string">'@typescript-eslint/no-explicit-any'</span>: <span class="hljs-string">'warn'</span>, <span class="hljs-string">'no-console'</span>: <span class="hljs-string">'off'</span> }
  },
  {                                                    <span class="hljs-comment">// â‘¡</span>
    <span class="hljs-attr">files</span>: [<span class="hljs-string">'**/*.ts'</span>],
    <span class="hljs-attr">rules</span>: { <span class="hljs-string">'no-console'</span>: <span class="hljs-string">'error'</span> }                   <span class="hljs-comment">// æ•´å¯¹è±¡è¦†ç›–ï¼Œç»“æœåªå‰© no-console:error</span>
  }
];
</code></pre>
<p>å¯¹ä»»æ„ <code>.ts</code> æ–‡ä»¶ï¼š</p>
<ul>
<li>å…ˆæ”¶é›† â‘  â†’ å†æ”¶é›† â‘¡</li>
<li>â‘¡ çš„ <code>rules</code> æ˜¯å…¨æ–°å¯¹è±¡ï¼Œç›´æ¥æŠŠ â‘  çš„ <code>rules</code> æ•´ä»½æ›¿æ¢æ‰ï¼›<code>languageOptions</code> ä¿ç•™ â‘  çš„ï¼Œå› ä¸º â‘¡ æ²¡å†™ã€‚</li>
</ul>
<p>æœ€ç»ˆç”Ÿæ•ˆçš„åªæœ‰ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-attr">languageOptions</span>: { <span class="hljs-attr">parser</span>: ts.<span class="hljs-property">parser</span>, <span class="hljs-attr">ecmaVersion</span>: <span class="hljs-number">2022</span> }
<span class="hljs-attr">rules</span>: { <span class="hljs-string">'no-console'</span>: <span class="hljs-string">'error'</span> }
</code></pre>
<p><code>@typescript-eslint/no-explicit-any</code> è¿™æ¡è§„åˆ™è¢«â€œè¦†ç›–æ²¡â€äº†â€”â€”<strong>ä¸ä¼šè‡ªåŠ¨ä¿ç•™</strong>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Python åŸºç¡€å†å‡çº§ï¼5 ä¸ªè¶…å®ç”¨å°æŠ€å·§ï¼Œå†™ä»£ç å¿«äººä¸€æ­¥]]></title>    <link>https://juejin.cn/post/7588042910198382642</link>    <guid>https://juejin.cn/post/7588042910198382642</guid>    <pubDate>2025-12-27T14:16:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588042910198382642" data-draft-id="7588084804093427750" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Python åŸºç¡€å†å‡çº§ï¼5 ä¸ªè¶…å®ç”¨å°æŠ€å·§ï¼Œå†™ä»£ç å¿«äººä¸€æ­¥"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2025-12-27T14:16:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AAAç®€å•ç©è½¬ç¨‹åºè®¾è®¡"/> <meta itemprop="url" content="https://juejin.cn/user/4294056357689099"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Python åŸºç¡€å†å‡çº§ï¼5 ä¸ªè¶…å®ç”¨å°æŠ€å·§ï¼Œå†™ä»£ç å¿«äººä¸€æ­¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4294056357689099/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AAAç®€å•ç©è½¬ç¨‹åºè®¾è®¡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T14:16:18.000Z" title="Sat Dec 27 2025 14:16:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åˆšå…¥é—¨ Python èƒ½å®ç°åŠŸèƒ½ï¼Œä½†æƒ³è®©ä»£ç æ›´ç®€æ´ã€æ›´é«˜æ•ˆï¼Ÿè¿™ 5 ä¸ªè¿›é˜¶ååŸºç¡€çš„å°æŠ€å·§ï¼Œçœ‹ä¼¼ç®€å•å´èƒ½å¤§å¹…æå‡ç¼–ç ä½“éªŒï¼Œæ¯ä¸ªéƒ½é™„å¯ç›´æ¥è¿è¡Œçš„ç¤ºä¾‹ï¼Œæ–°æ‰‹ä¹Ÿèƒ½è½»æ¾æŒæ¡ï½</p>
<h2 data-id="heading-0">1. å·§ç”¨ enumerateï¼šéå†åˆ—è¡¨åŒæ—¶è·å–ç´¢å¼•</h2>
<p>éå†åˆ—è¡¨æ—¶æƒ³çŸ¥é“å…ƒç´ çš„ä½ç½®ï¼Œä¸ç”¨æ‰‹åŠ¨åŠ è®¡æ•°å™¨ï¼Œ<code>enumerate()</code>Â èƒ½ç›´æ¥è¿”å›ç´¢å¼•å’Œå…ƒç´ ï¼Œè¿˜èƒ½è‡ªå®šä¹‰èµ·å§‹ç´¢å¼•ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å¾…éå†çš„åˆ—è¡¨</span>
fruits = [<span class="hljs-string">"è‹¹æœ"</span>, <span class="hljs-string">"é¦™è•‰"</span>, <span class="hljs-string">"æ©™å­"</span>, <span class="hljs-string">"è‘¡è„"</span>]

<span class="hljs-comment"># åŸºç¡€ç”¨æ³•ï¼šé»˜è®¤ä»0å¼€å§‹</span>
<span class="hljs-keyword">for</span> idx, fruit <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(fruits):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç´¢å¼•<span class="hljs-subst">{idx}</span>ï¼š<span class="hljs-subst">{fruit}</span>"</span>)

<span class="hljs-comment"># è¿›é˜¶ç”¨æ³•ï¼šæŒ‡å®šèµ·å§‹ç´¢å¼•ï¼ˆæ¯”å¦‚ä»1å¼€å§‹ï¼‰</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"\næŒ‡å®šèµ·å§‹ç´¢å¼•ï¼š"</span>)
<span class="hljs-keyword">for</span> idx, fruit <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(fruits, start=<span class="hljs-number">1</span>):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç¬¬<span class="hljs-subst">{idx}</span>ä¸ªæ°´æœï¼š<span class="hljs-subst">{fruit}</span>"</span>)

<span class="hljs-comment"># è¾“å‡ºï¼š</span>
<span class="hljs-comment"># ç´¢å¼•0ï¼šè‹¹æœ</span>
<span class="hljs-comment"># ç´¢å¼•1ï¼šé¦™è•‰</span>
<span class="hljs-comment"># ç´¢å¼•2ï¼šæ©™å­</span>
<span class="hljs-comment"># ç´¢å¼•3ï¼šè‘¡è„</span>
<span class="hljs-comment"># </span>
<span class="hljs-comment"># æŒ‡å®šèµ·å§‹ç´¢å¼•ï¼š</span>
<span class="hljs-comment"># ç¬¬1ä¸ªæ°´æœï¼šè‹¹æœ</span>
<span class="hljs-comment"># ç¬¬2ä¸ªæ°´æœï¼šé¦™è•‰</span>
<span class="hljs-comment"># ç¬¬3ä¸ªæ°´æœï¼šæ©™å­</span>
<span class="hljs-comment"># ç¬¬4ä¸ªæ°´æœï¼šè‘¡è„</span>
</code></pre>
<h2 data-id="heading-1">2. zip () å‡½æ•°ï¼šå¤šåˆ—è¡¨åŒæ­¥éå†ï¼Œè¶…çœå¿ƒ</h2>
<p>éœ€è¦åŒæ—¶éå†å¤šä¸ªåˆ—è¡¨çš„å¯¹åº”å…ƒç´ æ—¶ï¼Œ<code>zip()</code>Â èƒ½æŠŠå¤šä¸ªå¯è¿­ä»£å¯¹è±¡æ‰“åŒ…æˆå…ƒç»„ï¼Œé¿å…æ‰‹åŠ¨å¤„ç†ç´¢å¼•ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å¤šä¸ªå…³è”åˆ—è¡¨</span>
names = [<span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-string">"æå››"</span>, <span class="hljs-string">"ç‹äº”"</span>]
scores = [<span class="hljs-number">85</span>, <span class="hljs-number">92</span>, <span class="hljs-number">78</span>]
subjects = [<span class="hljs-string">"æ•°å­¦"</span>, <span class="hljs-string">"è¯­æ–‡"</span>, <span class="hljs-string">"è‹±è¯­"</span>]

<span class="hljs-comment"># åŒæ­¥éå†ä¸‰ä¸ªåˆ—è¡¨</span>
<span class="hljs-keyword">for</span> name, score, subject <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(names, scores, subjects):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{name}</span>çš„<span class="hljs-subst">{subject}</span>æˆç»©ï¼š<span class="hljs-subst">{score}</span>åˆ†"</span>)

<span class="hljs-comment"># è¾“å‡ºï¼š</span>
<span class="hljs-comment"># å¼ ä¸‰çš„æ•°å­¦æˆç»©ï¼š85åˆ†</span>
<span class="hljs-comment"># æå››çš„è¯­æ–‡æˆç»©ï¼š92åˆ†</span>
<span class="hljs-comment"># ç‹äº”çš„è‹±è¯­æˆç»©ï¼š78åˆ†</span>
</code></pre>
<h2 data-id="heading-2">3. ç”¨ set å¿«é€Ÿå»é‡ï¼šæ¯”åˆ—è¡¨éå†é«˜æ•ˆ N å€</h2>
<p>åˆ—è¡¨å»é‡ä¸ç”¨å†™å¾ªç¯åˆ¤æ–­ï¼Œè½¬æˆé›†åˆï¼ˆsetï¼‰å†è½¬å›åˆ—è¡¨ï¼Œä¸€è¡Œå°±èƒ½æå®šï¼Œä¸”æ—¶é—´å¤æ‚åº¦æ›´ä½ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å«é‡å¤å…ƒç´ çš„åˆ—è¡¨</span>
nums = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]

<span class="hljs-comment"># å¿«é€Ÿå»é‡</span>
unique_nums = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">set</span>(nums))
<span class="hljs-built_in">print</span>(<span class="hljs-string">"å»é‡åï¼š"</span>, unique_nums)  <span class="hljs-comment"># è¾“å‡ºï¼šå»é‡åï¼š[1, 2, 3, 4, 5]</span>

<span class="hljs-comment"># æ‹“å±•ï¼šä¿æŒåŸåˆ—è¡¨é¡ºåºï¼ˆPython 3.7+ï¼‰</span>
unique_nums_ordered = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">dict</span>.fromkeys(nums))
<span class="hljs-built_in">print</span>(<span class="hljs-string">"å»é‡ä¸”ä¿åºï¼š"</span>, unique_nums_ordered)  <span class="hljs-comment"># è¾“å‡ºï¼šå»é‡ä¸”ä¿åºï¼š[1, 2, 3, 4, 5]</span>
</code></pre>
<h2 data-id="heading-3">4. ä¸‰å…ƒè¡¨è¾¾å¼ï¼šç®€åŒ–ç®€å•çš„æ¡ä»¶åˆ¤æ–­</h2>
<p>ç®€å•çš„ if-else èµ‹å€¼é€»è¾‘ï¼Œç”¨ä¸‰å…ƒè¡¨è¾¾å¼èƒ½ç²¾ç®€ä»£ç ï¼Œä¿æŒå¯è¯»æ€§çš„åŒæ—¶å‡å°‘è¡Œæ•°ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># éœ€æ±‚ï¼šåˆ¤æ–­æˆç»©æ˜¯å¦åŠæ ¼ï¼Œè¿”å›å¯¹åº”æç¤º</span>
score = <span class="hljs-number">88</span>

<span class="hljs-comment"># ä¼ ç»Ÿif-elseå†™æ³•</span>
<span class="hljs-keyword">if</span> score &gt;= <span class="hljs-number">60</span>:
    result = <span class="hljs-string">"åŠæ ¼"</span>
<span class="hljs-keyword">else</span>:
    result = <span class="hljs-string">"ä¸åŠæ ¼"</span>

<span class="hljs-comment"># ä¸‰å…ƒè¡¨è¾¾å¼å†™æ³•</span>
result = <span class="hljs-string">"åŠæ ¼"</span> <span class="hljs-keyword">if</span> score &gt;= <span class="hljs-number">60</span> <span class="hljs-keyword">else</span> <span class="hljs-string">"ä¸åŠæ ¼"</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æˆç»©<span class="hljs-subst">{score}</span>ï¼š<span class="hljs-subst">{result}</span>"</span>)  <span class="hljs-comment"># è¾“å‡ºï¼šæˆç»©88ï¼šåŠæ ¼</span>

<span class="hljs-comment"># è¿›é˜¶ï¼šåµŒå¥—ä¸‰å…ƒè¡¨è¾¾å¼ï¼ˆé€‚ç”¨äºç®€å•åœºæ™¯ï¼‰</span>
score = <span class="hljs-number">95</span>
result = <span class="hljs-string">"ä¼˜ç§€"</span> <span class="hljs-keyword">if</span> score &gt;= <span class="hljs-number">90</span> <span class="hljs-keyword">else</span> <span class="hljs-string">"è‰¯å¥½"</span> <span class="hljs-keyword">if</span> score &gt;= <span class="hljs-number">80</span> <span class="hljs-keyword">else</span> <span class="hljs-string">"åŠæ ¼"</span> <span class="hljs-keyword">if</span> score &gt;= <span class="hljs-number">60</span> <span class="hljs-keyword">else</span> <span class="hljs-string">"ä¸åŠæ ¼"</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æˆç»©<span class="hljs-subst">{score}</span>ï¼š<span class="hljs-subst">{result}</span>"</span>)  <span class="hljs-comment"># è¾“å‡ºï¼šæˆç»©95ï¼šä¼˜ç§€</span>
</code></pre>
<h2 data-id="heading-4">5. with è¯­å¥ï¼šè‡ªåŠ¨ç®¡ç†æ–‡ä»¶ / èµ„æºï¼Œå‘Šåˆ«å¿˜è®° close ()</h2>
<p>æ“ä½œæ–‡ä»¶æ—¶ç”¨<code>with</code>è¯­å¥ï¼Œæ— éœ€æ‰‹åŠ¨è°ƒç”¨<code>close()</code>ï¼Œä»£ç å—æ‰§è¡Œå®Œä¼šè‡ªåŠ¨å…³é—­æ–‡ä»¶ï¼Œé¿å…èµ„æºæ³„éœ²ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ä¼ ç»Ÿå†™æ³•ï¼ˆéœ€æ‰‹åŠ¨closeï¼‰</span>
f = <span class="hljs-built_in">open</span>(<span class="hljs-string">"test.txt"</span>, <span class="hljs-string">"w"</span>, encoding=<span class="hljs-string">"utf-8"</span>)
f.write(<span class="hljs-string">"PythonåŸºç¡€è¿›é˜¶æŠ€å·§"</span>)
f.close()

<span class="hljs-comment"># withè¯­å¥å†™æ³•ï¼ˆæ¨èï¼‰</span>
<span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">"test.txt"</span>, <span class="hljs-string">"r"</span>, encoding=<span class="hljs-string">"utf-8"</span>) <span class="hljs-keyword">as</span> f:
    content = f.read()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ–‡ä»¶å†…å®¹ï¼š"</span>, content)  <span class="hljs-comment"># è¾“å‡ºï¼šæ–‡ä»¶å†…å®¹ï¼šPythonåŸºç¡€è¿›é˜¶æŠ€å·§</span>

<span class="hljs-comment"># æ³¨ï¼šwithè¯­å¥å—ç»“æŸåï¼Œæ–‡ä»¶ä¼šè‡ªåŠ¨å…³é—­ï¼Œå³ä½¿æŠ¥é”™ä¹Ÿä¸å½±å“</span>
</code></pre>
<hr/>
<h3 data-id="heading-5">æ€»ç»“</h3>
<ol>
<li><code>enumerate()</code>Â éå†å¸¦ç´¢å¼•ã€<code>zip()</code>Â åŒæ­¥éå†å¤šåˆ—è¡¨ï¼Œè§£å†³éå†åœºæ™¯çš„å¸¸è§ç—›ç‚¹ï¼›</li>
<li>é›†åˆï¼ˆsetï¼‰å¿«é€Ÿå»é‡æ•ˆç‡é«˜ï¼Œä¸‰å…ƒè¡¨è¾¾å¼ç®€åŒ–ç®€å•æ¡ä»¶èµ‹å€¼ï¼›</li>
<li><code>with</code>Â è¯­å¥è‡ªåŠ¨ç®¡ç†èµ„æºï¼Œæ“ä½œæ–‡ä»¶ / ç½‘ç»œè¿æ¥æ—¶æ›´å®‰å…¨ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸå­åŒ– CSS ä¸ Fragmentï¼šç°ä»£å‰ç«¯å¼€å‘çš„é«˜æ•ˆå®è·µ]]></title>    <link>https://juejin.cn/post/7588080521445343278</link>    <guid>https://juejin.cn/post/7588080521445343278</guid>    <pubDate>2025-12-27T14:33:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588080521445343278" data-draft-id="7588086766248820787" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸå­åŒ– CSS ä¸ Fragmentï¼šç°ä»£å‰ç«¯å¼€å‘çš„é«˜æ•ˆå®è·µ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-27T14:33:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ohyeah"/> <meta itemprop="url" content="https://juejin.cn/user/740446536480618"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸå­åŒ– CSS ä¸ Fragmentï¼šç°ä»£å‰ç«¯å¼€å‘çš„é«˜æ•ˆå®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/740446536480618/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ohyeah
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T14:33:53.000Z" title="Sat Dec 27 2025 14:33:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç°ä»£å‰ç«¯å¼€å‘ä¸­ï¼Œæå‡å¼€å‘æ•ˆç‡ã€ä¼˜åŒ–æ€§èƒ½ä»¥åŠä¿æŒä»£ç å¯ç»´æŠ¤æ€§æ˜¯å¼€å‘è€…æŒç»­è¿½æ±‚çš„ç›®æ ‡ã€‚è¿‘å¹´æ¥ï¼ŒåŸå­åŒ– CSSï¼ˆAtomic CSSï¼‰ç†å¿µä¸ React ä¸­çš„ Fragment æ¨¡å¼é€æ¸æˆä¸ºä¸»æµå®è·µï¼Œå®ƒä»¬åˆ†åˆ«ä»æ ·å¼ç®¡ç†å’Œ DOM ç»“æ„ä¸¤ä¸ªç»´åº¦ï¼Œä¸ºå¼€å‘è€…æä¾›äº†æ›´ä¼˜é›…ã€é«˜æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚æœ¬æ–‡å°†å›´ç»•è¿™ä¸¤ä¸ªæ ¸å¿ƒæ¦‚å¿µå±•å¼€ï¼Œç»“åˆ Tailwind CSS çš„ä½¿ç”¨æ–¹å¼å’ŒåŸç”Ÿ JavaScript ä¸ React ä¸­çš„ Fragment åº”ç”¨ï¼Œæ¢è®¨å¦‚ä½•æ„å»ºé«˜æ€§èƒ½ã€é«˜å¤ç”¨æ€§çš„å‰ç«¯é¡¹ç›®ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ä¼ ç»Ÿ CSS çš„å±€é™ä¸åŸå­åŒ– CSS çš„å…´èµ·</h2>
<p>ä¼ ç»Ÿçš„ CSS ç¼–å†™æ–¹å¼é€šå¸¸ä»¥â€œè¯­ä¹‰åŒ–ç±»åâ€ä¸ºæ ¸å¿ƒï¼Œä¾‹å¦‚ <code>.article-card</code>ã€<code>.user-profile</code> ç­‰ã€‚è¿™ç±»ç±»åè™½ç„¶å…·æœ‰è‰¯å¥½çš„ä¸šåŠ¡å«ä¹‰ï¼Œä½†å¾€å¾€å¯¼è‡´æ ·å¼é«˜åº¦è€¦åˆäºå…·ä½“ç»„ä»¶ï¼Œéš¾ä»¥è·¨é¡¹ç›®æˆ–è·¨ç»„ä»¶å¤ç”¨ã€‚ä¸€ä¸ªå…¸å‹çš„ç—›ç‚¹æ˜¯ï¼šå³ä½¿ä¸¤ä¸ªç»„ä»¶éœ€è¦ç›¸åŒçš„å†…è¾¹è·æˆ–æ–‡å­—é¢œè‰²ï¼Œå¼€å‘è€…ä»éœ€é‡å¤ç¼–å†™ç›¸ä¼¼çš„æ ·å¼è§„åˆ™ï¼Œæˆ–è€…é€šè¿‡å¤æ‚çš„ç»§æ‰¿ç»“æ„æ¥å…±äº«æ ·å¼ï¼Œè¿™ä¸ä»…å¢åŠ äº†ç»´æŠ¤æˆæœ¬ï¼Œä¹Ÿé™ä½äº†å¼€å‘æ•ˆç‡ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼Œ<strong>åŸå­åŒ– CSS</strong>ï¼ˆAtomic CSSï¼‰åº”è¿è€Œç”Ÿã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯å°† CSS è§„åˆ™æ‹†è§£ä¸ºæœ€å°ã€ä¸å¯å†åˆ†çš„â€œåŸå­ç±»â€ï¼Œæ¯ä¸ªç±»åªè´Ÿè´£å•ä¸€çš„æ ·å¼å±æ€§ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li><code>p-4</code> è¡¨ç¤º <code>padding: 1rem</code>ï¼ˆé»˜è®¤ 16pxï¼‰</li>
<li><code>flex</code> è¡¨ç¤º <code>display: flex</code></li>
<li><code>text-gray-500</code> è¡¨ç¤ºç‰¹å®šçš„ç°è‰²æ–‡å­—é¢œè‰²</li>
</ul>
<p>è¿™ç§å†™æ³•çœ‹ä¼¼â€œå†—é•¿â€ï¼Œå®åˆ™å¸¦æ¥äº†æé«˜çš„<strong>å¤ç”¨æ€§</strong>å’Œ<strong>ä¸€è‡´æ€§</strong>ã€‚å¼€å‘è€…ä¸å†éœ€è¦ä¸ºæ¯ä¸ªæ–°ç»„ä»¶åˆ›å»ºæ–°çš„ CSS æ–‡ä»¶æˆ–ç±»åï¼Œè€Œæ˜¯ç›´æ¥ç»„åˆå·²æœ‰çš„åŸå­ç±»å³å¯å¿«é€Ÿæ„å»º UIã€‚</p>
<h3 data-id="heading-1">é¢å‘å¯¹è±¡çš„ CSS æ€ç»´</h3>
<p>åŸå­åŒ– CSS å¹¶éå®Œå…¨æŠ›å¼ƒé¢å‘å¯¹è±¡çš„æ€æƒ³ï¼Œè€Œæ˜¯å°†å…¶é‡æ–°è¯ é‡Šï¼š</p>
<ul>
<li><strong>å°è£…</strong>ï¼šåŸå­ç±»æœ¬èº«å°±æ˜¯å¯¹å•ä¸€æ ·å¼è§„åˆ™çš„å°è£…ï¼›</li>
<li><strong>å¤šæ€</strong>ï¼šé€šè¿‡ä¸åŒç±»çš„ç»„åˆï¼ŒåŒä¸€åŸå­ç±»å¯åœ¨ä¸åŒä¸Šä¸‹æ–‡ä¸­å‘ˆç°ä¸åŒæ•ˆæœï¼›</li>
<li><strong>ç»„åˆä¼˜äºç»§æ‰¿</strong>ï¼šé¿å…æ·±å±‚åµŒå¥—å’Œå¤æ‚é€‰æ‹©å™¨ï¼Œé€šè¿‡ç±»åç»„åˆå®ç°æ ·å¼å åŠ ã€‚</li>
</ul>
<p>è¿™ç§æ¨¡å¼å°¤å…¶é€‚åˆå¿«é€ŸåŸå‹å¼€å‘å’Œå›¢é˜Ÿåä½œï¼Œå› ä¸ºæ‰€æœ‰å¼€å‘è€…éƒ½åŸºäºåŒä¸€å¥—â€œè®¾è®¡ç³»ç»Ÿâ€è¿›è¡Œæ„å»ºï¼Œå‡å°‘äº†é£æ ¼ä¸ä¸€è‡´çš„é—®é¢˜ã€‚</p>
<hr/>
<h2 data-id="heading-2">äºŒã€Tailwind CSSï¼šåŸå­åŒ– CSS çš„æœ€ä½³å®è·µ</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Ftailwindcss.com%2F" target="_blank" title="https://tailwindcss.com/" ref="nofollow noopener noreferrer">Tailwind CSS</a> æ˜¯ç›®å‰æœ€æµè¡Œçš„åŸå­åŒ– CSS æ¡†æ¶ã€‚å®ƒæä¾›äº†ä¸€å¥—é«˜åº¦å¯é…ç½®çš„å®ç”¨ç±»ï¼ˆutility classesï¼‰ï¼Œå‡ ä¹æ— éœ€æ‰‹å†™è‡ªå®šä¹‰ CSS å³å¯å®Œæˆå¤æ‚ç•Œé¢çš„æ­å»ºã€‚</p>
<h3 data-id="heading-3">å¿«é€Ÿä¸Šæ‰‹ Tailwind + Vite</h3>
<p>åœ¨ç°ä»£å‰ç«¯å·¥ç¨‹ä¸­ï¼ŒTailwind é€šå¸¸ä¸æ„å»ºå·¥å…·å¦‚ Vite é…åˆä½¿ç”¨ã€‚å®‰è£…æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">npm install -D tailwindcss postcss autoprefixer
npx tailwindcss <span class="hljs-keyword">init</span> -p
</code></pre>
<p>ç„¶ååœ¨ <code>vite.config.js</code> ä¸­å¼•å…¥æ’ä»¶ï¼ˆè‹¥ä½¿ç”¨å®˜æ–¹æ¨¡æ¿ï¼Œé€šå¸¸å·²è‡ªåŠ¨é›†æˆï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>
<span class="hljs-keyword">import</span> react <span class="hljs-keyword">from</span> <span class="hljs-string">'@vitejs/plugin-react'</span>
<span class="hljs-keyword">import</span> tailwindcss <span class="hljs-keyword">from</span> <span class="hljs-string">'tailwindcss'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [<span class="hljs-title function_">react</span>(), <span class="hljs-title function_">tailwindcss</span>()]
})
</code></pre>
<p>æ¥ç€åœ¨å…¥å£ CSS æ–‡ä»¶ä¸­å¼•å…¥ Tailwind çš„åŸºç¡€æ ·å¼ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@tailwind</span> base;
<span class="hljs-variable">@tailwind</span> components;
<span class="hljs-variable">@tailwind</span> utilities;
</code></pre>
<p>è‡³æ­¤ï¼Œå³å¯åœ¨ JSX æˆ– HTML ä¸­ç›´æ¥ä½¿ç”¨ Tailwind ç±»åã€‚</p>
<h3 data-id="heading-4">ç¤ºä¾‹ï¼šæ„å»ºä¸€ä¸ªå¡ç‰‡ç»„ä»¶</h3>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨ Tailwind æ„å»ºçš„ç®€å•æ–‡ç« å¡ç‰‡ç»„ä»¶ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">ArticleCard</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"p-4 bg-white rounded-xl shadow hover:shadow-lg transition"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-lg font-bold"</span>&gt;</span>Tailwindcss<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-gray-500 mt-2"</span>&gt;</span>
        ç”¨ utility class å¿«é€Ÿæ„å»º UI
      <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œæ‰€æœ‰æ ·å¼å‡é€šè¿‡ç±»åå†…è”å£°æ˜ï¼Œæ— éœ€é¢å¤– CSS æ–‡ä»¶ã€‚<code>p-4</code> æ§åˆ¶å†…è¾¹è·ï¼Œ<code>rounded-xl</code> è®¾ç½®åœ†è§’ï¼Œ<code>shadow</code> å’Œ <code>hover:shadow-lg</code> å®ç°æ‚¬åœé˜´å½±æ•ˆæœï¼Œ<code>transition</code> æ·»åŠ è¿‡æ¸¡åŠ¨ç”»ã€‚è¿™ç§å†™æ³•ç›´è§‚ã€é«˜æ•ˆï¼Œä¸”å¤©ç„¶æ”¯æŒå“åº”å¼ã€‚</p>
<h3 data-id="heading-5">å“åº”å¼å¸ƒå±€ï¼šç§»åŠ¨ç«¯ä¼˜å…ˆ</h3>
<p>Tailwind é»˜è®¤é‡‡ç”¨ <strong>Mobile First</strong>ï¼ˆç§»åŠ¨ç«¯ä¼˜å…ˆï¼‰ç­–ç•¥ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">&lt;div <span class="hljs-attr">className</span>=<span class="hljs-string">"flex flex-col md:flex-row gap-4"</span>&gt;
  &lt;main <span class="hljs-attr">className</span>=<span class="hljs-string">"bg-blue-100 p-4 md:w-2/3"</span>&gt;ä¸»å†…å®¹&lt;/main&gt;
  &lt;aside <span class="hljs-attr">className</span>=<span class="hljs-string">"bg-green-100 p-4 md:w-1/3"</span>&gt;ä¾§è¾¹æ &lt;/aside&gt;
&lt;/div&gt;
</code></pre>
<ul>
<li>åœ¨å°å±è®¾å¤‡ä¸Šï¼Œå®¹å™¨ä¸ºå‚ç›´å¸ƒå±€ï¼ˆ<code>flex-col</code>ï¼‰ï¼›</li>
<li>å½“å±å¹•å®½åº¦ â‰¥ 768pxï¼ˆ<code>md</code> æ–­ç‚¹ï¼‰æ—¶ï¼Œåˆ‡æ¢ä¸ºæ°´å¹³å¸ƒå±€ï¼ˆ<code>md:flex-row</code>ï¼‰ï¼Œå¹¶è®¾ç½®ä¸»å†…å®¹å  2/3ï¼Œä¾§è¾¹æ å  1/3ã€‚</li>
</ul>
<p>è¿™ç§å£°æ˜å¼å“åº”å¼è¯­æ³•æå¤§ç®€åŒ–äº†åª’ä½“æŸ¥è¯¢çš„ç¼–å†™ï¼Œä½¿å¸ƒå±€é€»è¾‘ä¸€ç›®äº†ç„¶ã€‚</p>
<hr/>
<h2 data-id="heading-6">ä¸‰ã€Fragmentï¼šä¼˜é›…è§£å†³ DOM ç»“æ„å†—ä½™</h2>
<p>åœ¨ React å¼€å‘ä¸­ï¼Œç»„ä»¶å¿…é¡»è¿”å›å•ä¸ªæ ¹å…ƒç´ ã€‚æ—©æœŸå¼€å‘è€…å¸¸è¢«è¿«åŒ…è£¹ä¸€å±‚æ— æ„ä¹‰çš„ <code>&lt;div&gt;</code>ï¼Œè¿™ä¸ä»…æ±¡æŸ“ DOM ç»“æ„ï¼Œè¿˜å¯èƒ½å½±å“ CSS å¸ƒå±€ï¼ˆå¦‚ Flex å®¹å™¨çš„å­é¡¹æ•°é‡å˜åŒ–ï¼‰ã€‚</p>
<p>React æä¾›äº† <strong>Fragment</strong> æ¥è§£å†³è¿™ä¸€é—®é¢˜ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æ ‡é¢˜1<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ ‡é¢˜2<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"</span>&gt;</span>
        æäº¤
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ArticleCard</span> /&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  )
}
</code></pre>
<p>è¿™é‡Œçš„ <code>&lt;&gt;...&lt;/&gt;</code> æ˜¯ <code>&lt;React.Fragment&gt;</code> çš„ç®€å†™è¯­æ³•ã€‚å®ƒåœ¨æ¸²æŸ“æ—¶<strong>ä¸ä¼šç”Ÿæˆä»»ä½•å®é™… DOM èŠ‚ç‚¹</strong>ï¼Œä»…ä½œä¸ºé€»è¾‘å®¹å™¨å­˜åœ¨ï¼Œä»è€Œä¿æŒ DOM æ ‘çš„ç®€æ´æ€§ã€‚</p>
<h3 data-id="heading-7">åŸç”Ÿ JavaScript ä¸­çš„ DocumentFragment</h3>
<p>Fragment çš„æ€æƒ³ä¸ä»…å­˜åœ¨äº Reactï¼Œåœ¨åŸç”Ÿ DOM æ“ä½œä¸­åŒæ ·é‡è¦ã€‚å½“éœ€è¦æ‰¹é‡æ’å…¥å¤šä¸ªèŠ‚ç‚¹æ—¶ï¼Œé¢‘ç¹è°ƒç”¨ <code>appendChild</code> ä¼šè§¦å‘å¤šæ¬¡<strong>é‡æ’ï¼ˆreflowï¼‰<strong>å’Œ</strong>é‡ç»˜ï¼ˆrepaintï¼‰</strong> ï¼Œä¸¥é‡å½±å“æ€§èƒ½ã€‚</p>
<p>æ­¤æ—¶å¯ä½¿ç”¨ <code>DocumentFragment</code>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">&lt;script&gt;
  const <span class="hljs-attr">container</span> = document.querySelector(<span class="hljs-string">'.container'</span>)
  const <span class="hljs-attr">p1</span> = document.createElement(<span class="hljs-string">'p'</span>)
  <span class="hljs-attr">p1.textContent</span> = <span class="hljs-string">'111'</span>
  const <span class="hljs-attr">p2</span> = document.createElement(<span class="hljs-string">'p'</span>)
  <span class="hljs-attr">p2.textContent</span> = <span class="hljs-string">'222'</span>

  const <span class="hljs-attr">fragment</span> = document.createDocumentFragment()
  fragment.appendChild(p1)
  fragment.appendChild(p2)

  container.appendChild(fragment) // ä»…ä¸€æ¬¡ DOM æ“ä½œ
&lt;/script&gt;
</code></pre>
<p><code>DocumentFragment</code> æ˜¯ä¸€ä¸ª<strong>è„±ç¦»æ–‡æ¡£æµçš„å†…å­˜èŠ‚ç‚¹</strong>ï¼Œåœ¨å…¶ä¸Šæ“ä½œä¸ä¼šè§¦å‘æµè§ˆå™¨æ¸²æŸ“ã€‚åªæœ‰æœ€ç»ˆå°†å…¶æ’å…¥çœŸå® DOM æ—¶ï¼Œæ‰ä¼šä¸€æ¬¡æ€§å°†æ‰€æœ‰å­èŠ‚ç‚¹æŒ‚è½½ï¼Œä»è€Œå°† N æ¬¡ DOM æ“ä½œä¼˜åŒ–ä¸º 1 æ¬¡ã€‚</p>
<blockquote>
<p>å…³é”®ä¼˜åŠ¿ï¼š<strong>å‡å°‘é‡æ’/é‡ç»˜æ¬¡æ•°ï¼Œæ˜¾è‘—æå‡æ€§èƒ½</strong>ï¼Œå°¤å…¶åœ¨å¤„ç†å¤§é‡åŠ¨æ€å†…å®¹ï¼ˆå¦‚åˆ—è¡¨æ¸²æŸ“ã€è¡¨æ ¼ç”Ÿæˆï¼‰æ—¶æ•ˆæœæ˜æ˜¾ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-8">å››ã€ååŒå¢æ•ˆï¼šåŸå­åŒ– CSS + Fragment çš„ç°ä»£å¼€å‘èŒƒå¼</h2>
<p>å°†åŸå­åŒ– CSS ä¸ Fragment ç»“åˆï¼Œæ„æˆäº†ç°ä»£å‰ç«¯å¼€å‘çš„é«˜æ•ˆå·¥ä½œæµï¼š</p>
<ul>
<li><strong>æ ·å¼å±‚é¢</strong>ï¼šé€šè¿‡ Tailwind çš„åŸå­ç±»ï¼Œå¼€å‘è€…åœ¨ JSX ä¸­ç›´æ¥å£°æ˜æ ·å¼ï¼Œæ— éœ€åˆ‡æ¢æ–‡ä»¶ä¸Šä¸‹æ–‡ï¼Œæå‡å¼€å‘è¿è´¯æ€§ï¼›</li>
<li><strong>ç»“æ„å±‚é¢</strong>ï¼šä½¿ç”¨ Fragment é¿å…æ— æ„ä¹‰çš„åŒ…è£…å…ƒç´ ï¼Œä¿æŒè¯­ä¹‰æ¸…æ™°ã€DOM ç²¾ç®€ï¼›</li>
<li><strong>æ€§èƒ½å±‚é¢</strong>ï¼šDocumentFragment ä¼˜åŒ–åŸç”Ÿ DOM æ“ä½œï¼ŒReact Fragment ä¼˜åŒ–è™šæ‹Ÿ DOM æ¸²æŸ“ï¼Œä¸¤è€…å…±åŒä¿éšœåº”ç”¨æµç•…æ€§ã€‚</li>
</ul>
<p>æ›´é‡è¦çš„æ˜¯ï¼Œè¿™ç§ç»„åˆå¤©ç„¶å¥‘åˆ <strong>AI è¾…åŠ©ç¼–ç¨‹</strong> çš„è¶‹åŠ¿ã€‚å½“ä½¿ç”¨è‡ªç„¶è¯­è¨€æè¿° UIï¼ˆå¦‚â€œä¸€ä¸ªå¸¦é˜´å½±çš„ç™½è‰²å¡ç‰‡ï¼ŒåŒ…å«æ ‡é¢˜å’Œç°è‰²æè¿°æ–‡æœ¬â€ï¼‰ï¼ŒLLM æ›´å®¹æ˜“ç”Ÿæˆè¯­ä¹‰æ˜ç¡®ã€ç»“æ„è§„èŒƒçš„ Tailwind ä»£ç ï¼Œè€Œæ— éœ€ç†è§£å¤æ‚çš„ CSS é€‰æ‹©å™¨é€»è¾‘ã€‚</p>
<hr/>
<h2 data-id="heading-9">ç»“è¯­</h2>
<p>åŸå­åŒ– CSS ä¸ Fragment å¹¶éç‚«æŠ€ï¼Œè€Œæ˜¯å¯¹â€œ<strong>å…³æ³¨ç‚¹åˆ†ç¦»</strong>â€å’Œâ€œ<strong>æ€§èƒ½ä¼˜å…ˆ</strong>â€åŸåˆ™çš„åŠ¡å®ä½“ç°ã€‚å‰è€…è®©æ ·å¼å›å½’ç»„åˆä¸å¤ç”¨ï¼Œåè€…è®©ç»“æ„å›å½’è¯­ä¹‰ä¸æ•ˆç‡ã€‚åœ¨ Tailwind CSS å’Œ React ç­‰ç°ä»£å·¥å…·é“¾çš„æ”¯æŒä¸‹ï¼Œå¼€å‘è€…å¯ä»¥æ›´ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘æœ¬èº«ï¼Œè€Œéè¢«ç¹ççš„æ ·å¼ç®¡ç†å’Œ DOM å†—ä½™æ‰€å›°æ‰°ã€‚</p>
<p>æ— è®ºæ˜¯ä¸ªäººé¡¹ç›®è¿˜æ˜¯å¤§å‹å›¢é˜Ÿåä½œï¼Œæ‹¥æŠ±è¿™äº›å®è·µéƒ½å°†å¸¦æ¥æ›´æ¸…çˆ½çš„ä»£ç ã€æ›´å¿«çš„è¿­ä»£é€Ÿåº¦å’Œæ›´ä½³çš„ç”¨æˆ·ä½“éªŒã€‚æ­£å¦‚å‰ç«¯ç”Ÿæ€ä¸æ–­æ¼”è¿›ï¼Œæˆ‘ä»¬çš„å¼€å‘æ–¹å¼ä¹Ÿåº”éšä¹‹ç²¾è¿›â€”â€”å°‘å†™ CSSï¼Œå°‘é€  divï¼Œå¤šç»„åˆï¼Œå¤šä¼˜åŒ–ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flutter å®ç°ä¸€ä¸ªå®¹å™¨å†…éƒ¨å…ƒç´ å¯å¹³ç§»ã€ç¼©æ”¾å’Œæ—‹è½¬ç­‰åŠŸèƒ½ï¼ˆä¹ï¼‰]]></title>    <link>https://juejin.cn/post/7588149079417159734</link>    <guid>https://juejin.cn/post/7588149079417159734</guid>    <pubDate>2025-12-27T14:45:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588149079417159734" data-draft-id="7588146449005740068" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flutter å®ç°ä¸€ä¸ªå®¹å™¨å†…éƒ¨å…ƒç´ å¯å¹³ç§»ã€ç¼©æ”¾å’Œæ—‹è½¬ç­‰åŠŸèƒ½ï¼ˆä¹ï¼‰"/> <meta itemprop="keywords" content="Flutter,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-27T14:45:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åå­—è¢«ä½ ä»¬æƒ³å®Œäº†"/> <meta itemprop="url" content="https://juejin.cn/user/3065854916834782"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flutter å®ç°ä¸€ä¸ªå®¹å™¨å†…éƒ¨å…ƒç´ å¯å¹³ç§»ã€ç¼©æ”¾å’Œæ—‹è½¬ç­‰åŠŸèƒ½ï¼ˆä¹ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3065854916834782/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åå­—è¢«ä½ ä»¬æƒ³å®Œäº†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T14:45:21.000Z" title="Sat Dec 27 2025 14:45:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Flutter å®ç°ä¸€ä¸ªå®¹å™¨å†…éƒ¨å…ƒç´ å¯å¹³ç§»ã€ç¼©æ”¾å’Œæ—‹è½¬ç­‰åŠŸèƒ½ï¼ˆä¹ï¼‰</h2>
<p>Flutter: 3.35.7</p>
<p>ä»Šå¤©çš„åŠŸèƒ½å®Œæˆé‚£åŸºæœ¬åŠŸèƒ½å°±å®Œæˆäº†ï¼Œæ‰€ä»¥ç»™å‡ºgithubé“¾æ¥ï¼š</p>
<pre><code class="hljs language-text" lang="text">https://github.com/yhtqw/FrontEndDemo/tree/main/flutter_demo/lib/pages/transform_use/widgets/multiple_transform
</code></pre>
<p>å‰é¢æˆ‘ä»¬ç®€å•å®ç°äº†å›¾ç‰‡å…ƒç´ å’Œæ–‡æœ¬å…ƒç´ çš„æ–°å¢ï¼Œä¼˜å…ˆå®ç°çš„åŠŸèƒ½ï¼Œå¾ˆå¤šåœ°æ–¹è¿˜å¯ä»¥ä¼˜åŒ–ã€‚ä»Šå¤©æˆ‘æ¥è®¨è®ºä¸€ä¸‹æ–‡æœ¬å…ƒç´ çš„æ‹–åŠ¨ç¼©æ”¾ã€‚</p>
<p>å¯¹äºæ–‡æœ¬å…ƒç´ ï¼Œæ–‡æœ¬å…ƒç´ çš„é«˜åº¦æ˜¯ç”±æ–‡æœ¬è‡ªèº«çš„æ ·å¼æ¥å†³å®šçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬é™åˆ¶æ–‡æœ¬å…ƒç´ åªèƒ½ç¼©æ”¾å®½åº¦ï¼Œé«˜åº¦è‡ªåŠ¨è®¡ç®—ã€‚è¿™æ ·å°±ä¼šå¯¹ç¼©æ”¾åŒºåŸŸè¿›è¡Œå…ƒç´ ç±»å‹åˆ¤æ–­ï¼Œå¦‚æœæ˜¯æ–‡æœ¬å…ƒç´ ï¼Œé‚£ä¹ˆåªç¼©æ”¾å®½åº¦ï¼Œé«˜åº¦è‡ªé€‚åº”ï¼›å¦‚æœæ˜¯å…¶ä»–å…ƒç´ ï¼Œåˆ™åŒä¸Šå¯¹å®½åº¦é«˜åº¦è¿›è¡Œç¼©æ”¾ã€‚æ—¢ç„¶åŠŸèƒ½åˆåŒºåˆ«ï¼Œé‚£ä¹ˆiconä¹Ÿè¦æœ‰åŒºåˆ«ï¼Œé‚£ä¹ˆä¹‹å‰çš„å…ƒç´ æ“ä½œåŒºåŸŸå¾—åšå‡ºæ›´æ”¹ï¼Œæ–°å¢è¿™ç§ç‰¹æ®ŠåŠŸèƒ½åŒºåˆ†å…ƒç´ ç±»å‹å¯¹åº”å›¾æ ‡ä¸ä¸€æ ·çš„é…ç½®ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ResponseAreaModel</span> </span>{
  <span class="hljs-comment">// å…¶ä»–çœç•¥...</span>

  <span class="hljs-comment">/// <span class="markdown">å…ƒç´ ç±»å‹ä¸åŒå±•ç¤ºä¸åŒçš„æ“ä½œicon</span></span>
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">String</span>&gt;? iconConfig;

  <span class="hljs-comment">// å…¶ä»–çœç•¥...</span>
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ConstantsConfig</span> </span>{
  <span class="hljs-comment">// å…¶ä»–çœç•¥...</span>

  <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-built_in">List</span>&lt;ResponseAreaModel&gt; baseAreaList = [
    <span class="hljs-comment">// å…¶ä»–çœç•¥...</span>

    <span class="hljs-comment">// ç¼©æ”¾</span>
    ResponseAreaModel(
      areaWidth: <span class="hljs-number">20</span>,
      areaHeight: <span class="hljs-number">20</span>,
      xRatio: <span class="hljs-number">1</span>,
      yRatio: <span class="hljs-number">1</span>,
      status: ElementStatus.scale.value,
      icon: <span class="hljs-string">'assets/images/icon_scale.png'</span>,
      trigger: TriggerMethod.move,
      iconConfig: {
        ElementType.textType.type: <span class="hljs-string">'assets/images/icon_scale_text.png'</span>,
      },
    ),

    <span class="hljs-comment">// å…¶ä»–çœç•¥...</span>
  ],

  <span class="hljs-comment">// å…¶ä»–çœç•¥...</span>
}

<span class="hljs-comment">// å…¶ä»–çœç•¥...</span>

<span class="hljs-comment">// å¦‚æœé€‰ä¸­ï¼Œåˆ™å±•ç¤ºæ“ä½œåŒºåŸŸ</span>
<span class="hljs-keyword">if</span> (selected) ...areaList.map((item) =&gt; Positioned(
  top: elementItem.elementHeight * item.yRatio - item.areaHeight / <span class="hljs-number">2</span>,
  left: elementItem.elementWidth * item.xRatio - item.areaWidth / <span class="hljs-number">2</span>,
  child: Container(
    width: item.areaWidth,
    height: item.areaHeight,
    alignment: Alignment.center,
    decoration: BoxDecoration(
      color: Colors.blueAccent,
      borderRadius: BorderRadius.circular(item.areaWidth / <span class="hljs-number">2</span>),
    ),
    child: Image.asset(
      <span class="hljs-comment">// åˆ¤æ–­å¯¹åº”ç±»å‹çš„å›¾ç‰‡æ˜¯å¦å•ç‹¬å­˜åœ¨</span>
      item.iconConfig?[elementItem.type] ?? item.icon,
      width: item.areaWidth - ConstantsConfig.areaIconMargin,
      height: item.areaHeight - ConstantsConfig.areaIconMargin,
      fit: BoxFit.scaleDown,
      color: Colors.white,
    ),
  ),
)),
</code></pre>
<p>è¿è¡Œæ•ˆæœï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/600d8604918640c8b86a3dc7bcd9965c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCN5a2X6KKr5L2g5Lus5oOz5a6M5LqG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767451521&amp;x-signature=O51Ojk40bc%2BzwMhvyZIbHnbPN%2F8%3D" alt="image01.gif" loading="lazy"/></p>
<p>è¿™æ ·æˆ‘ä»¬å°±é€šè¿‡å…ƒç´ çŠ¶æ€åŒºåˆ†äº†ç‰¹æ®ŠåŠŸèƒ½çš„å›¾æ ‡å±•ç¤ºï¼Œç°åœ¨å°±æ˜¯åŠŸèƒ½çš„å®ç°äº†ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">/// <span class="markdown">å¤„ç†å…ƒç´ ç¼©æ”¾</span></span>
<span class="hljs-comment">///</span>
<span class="hljs-comment">/// <span class="markdown">é€šè¿‡ç§»åŠ¨ç‚¹åæ ‡[x]å’Œ[y]ä¸æŒ‰ä¸‹çš„åˆå§‹åæ ‡ï¼Œ</span></span>
<span class="hljs-keyword">void</span> _onScale({<span class="hljs-keyword">required</span> <span class="hljs-built_in">double</span> x, <span class="hljs-keyword">required</span> <span class="hljs-built_in">double</span> y}) {
  <span class="hljs-keyword">if</span> (_currentElement?.type == ElementType.textType.type) {
    _onScaleText(x: x, y: y);
  } <span class="hljs-keyword">else</span> {
    _onScaleBase(x: x, y: y);
  }
}

<span class="hljs-comment">/// <span class="markdown">æŠ½å–è·å–ç¼©æ”¾éœ€è¦çš„åŸºç¡€å‚æ•°</span></span>
(<span class="hljs-built_in">double</span>, <span class="hljs-built_in">double</span>, <span class="hljs-built_in">double</span>, <span class="hljs-built_in">double</span>, <span class="hljs-built_in">double</span>) _getScaleParams({<span class="hljs-keyword">required</span> <span class="hljs-built_in">double</span> x, <span class="hljs-keyword">required</span> <span class="hljs-built_in">double</span> y}) {
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> oWidth = _temporary!.width;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> oHeight = _temporary!.height;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> oX = _temporary!.x;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> oY = _temporary!.y;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> resizeRatio = _calcResizeRatio(x: x, y: y);

  <span class="hljs-keyword">return</span> (oWidth, oHeight, oX, oY, resizeRatio);
}

<span class="hljs-comment">/// <span class="markdown">å¤„ç†éæ–‡æœ¬å…ƒç´ çš„ç¼©æ”¾</span></span>
<span class="hljs-keyword">void</span> _onScaleBase({<span class="hljs-keyword">required</span> <span class="hljs-built_in">double</span> x, <span class="hljs-keyword">required</span> <span class="hljs-built_in">double</span> y}) {
  <span class="hljs-keyword">if</span> (_currentElement == <span class="hljs-keyword">null</span> || _temporary == <span class="hljs-keyword">null</span>) <span class="hljs-keyword">return</span>;
  
  <span class="hljs-keyword">final</span> (oWidth, oHeight, oX, oY, resizeRatio) = _getScaleParams(x: x, y: y);
  <span class="hljs-built_in">double</span> newW = oWidth * resizeRatio;
  <span class="hljs-built_in">double</span> newH = oHeight * resizeRatio;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> minSize = ConstantsConfig.minSize;

  <span class="hljs-comment">// ä»¥çŸ­è¾¹ä¸ºåŸºå‡†æ¥è®¡ç®—æœ€å°å®½é«˜</span>
  <span class="hljs-keyword">if</span> (oWidth &lt;= oHeight &amp;&amp; newW &lt; minSize) {
    newW = minSize;
    newH = minSize * oHeight / oWidth;
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (oHeight &lt; oWidth &amp;&amp; newH &lt; minSize) {
    newH = minSize;
    newW = minSize * oWidth / oHeight;
  }

  <span class="hljs-comment">// ä»¥é•¿è¾¹ä¸ºåŸºå‡†æ¥è®¡ç®—æœ€å¤§å®½é«˜</span>
  <span class="hljs-keyword">if</span> (oWidth &gt;= oHeight &amp;&amp; newW &gt;= _transformWidth) {
    newW = _transformWidth;
    newH = _transformWidth * oHeight / oWidth;
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (oHeight &gt; oWidth &amp;&amp; newH &gt;= _transformHeight) {
    newH = _transformHeight;
    newW = _transformHeight * oWidth / oHeight;
  }

  <span class="hljs-keyword">if</span> (
    newW == _currentElement?.elementWidth &amp;&amp;
      newH == _currentElement?.elementHeight
  ) {
    <span class="hljs-keyword">return</span>;
  }

  _currentElement = _currentElement?.copyWith(
    elementWidth: newW,
    elementHeight: newH,
    x: oX - (newW - oWidth) / <span class="hljs-number">2</span>,
    y: oY - (newH - oHeight) / <span class="hljs-number">2</span>,
  );
  _onChange();
}

<span class="hljs-comment">/// <span class="markdown">æ–‡æœ¬å…ƒç´ çš„ç¼©æ”¾</span></span>
<span class="hljs-keyword">void</span> _onScaleText({<span class="hljs-keyword">required</span> <span class="hljs-built_in">double</span> x, <span class="hljs-keyword">required</span> <span class="hljs-built_in">double</span> y}) {
  <span class="hljs-keyword">if</span> (_currentElement == <span class="hljs-keyword">null</span> || _temporary == <span class="hljs-keyword">null</span>) <span class="hljs-keyword">return</span>;
  
  <span class="hljs-keyword">final</span> (oWidth, oHeight, oX, oY, resizeRatio) = _getScaleParams(x: x, y: y);
  <span class="hljs-built_in">double</span> newW = oWidth * resizeRatio;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> minSize = ConstantsConfig.minSize;

  <span class="hljs-comment">// ä»¥çŸ­è¾¹ä¸ºåŸºå‡†æ¥è®¡ç®—æœ€å°å®½é«˜</span>
  <span class="hljs-keyword">if</span> (oWidth &lt;= oHeight &amp;&amp; newW &lt; minSize) {
    newW = minSize;
  }

  <span class="hljs-comment">// ä»¥é•¿è¾¹ä¸ºåŸºå‡†æ¥è®¡ç®—æœ€å¤§å®½é«˜</span>
  <span class="hljs-keyword">if</span> (oWidth &gt;= oHeight &amp;&amp; newW &gt;= _transformWidth) {
    newW = _transformWidth;
  }

  <span class="hljs-keyword">final</span> TextStyle style = _getTextStyle(_currentElement!.textOptions!);
  <span class="hljs-keyword">final</span> (tempWidth, tempHeight) = TransformUtils.calculateTextSize(
    text: _currentElement!.textOptions!.text,
    style: style,
    maxWidth: newW,
  );

  _currentElement = _currentElement?.copyWith(
    elementWidth: newW,
    elementHeight: tempHeight,
    x: oX - (newW - oWidth) / <span class="hljs-number">2</span>,
    y: oY - (tempHeight - oHeight) / <span class="hljs-number">2</span>,
  );
  _onChange();
}
</code></pre>
<p>è¿è¡Œæ•ˆæœï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/20381b3d80ea432c8bf64ad405ac9823~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCN5a2X6KKr5L2g5Lus5oOz5a6M5LqG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767451521&amp;x-signature=k4NYzMkI7lU%2FQwO61AIKsspaaoA%3D" alt="image02.gif" loading="lazy"/></p>
<p>è¿™æ ·æˆ‘ä»¬å°±å®ç°äº†æ–‡æœ¬å…ƒç´ çš„æ‹‰ä¼¸æ•ˆæœã€‚å¯ä»¥çœ‹åˆ°ï¼Œéšç€åŠŸèƒ½çš„å¢åŠ ï¼Œå¯èƒ½å°±éœ€è¦å¯¹ä¹‹å‰çš„é€»è¾‘åšæ›´æ”¹ï¼Œä¸è¿‡å› ä¸ºæŠ½å–äº†é…ç½®ï¼Œå¾ˆå¤šåœ°æ–¹å°±åªéœ€è¦åŠ å…¥å°‘é‡çš„ä»£ç å³å¯å®ç°éƒ¨åˆ†åŠŸèƒ½ã€‚</p>
<p>åŸºç¡€çš„åŠŸèƒ½å·®ä¸å¤šå°±å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥ä¸»åŠŸèƒ½å°±è¿˜æœ‰ä¸€ä¸ªï¼Œé‚£å°±æ˜¯ä¿å­˜ï¼Œæˆ‘ä»¬ä¸çŸ¥é“è¿™ä¸ªåŠŸèƒ½æ˜¯å¦è¿˜å­˜åœ¨ç¼–è¾‘ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œç›´æ¥å°†è¯¥ç»“æ„è½¬æˆå›¾ç‰‡è¿”å›å³å¯ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¿å­˜å°±ç›´æ¥å°†æ•°æ®å’Œå›¾ç‰‡éƒ½ä¼ é€’è¿‡å»å³å¯ã€‚ä¸€èˆ¬è¿™ç§å¤§é‡æ•°æ®å­˜åç«¯éƒ½æ˜¯JSONå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥è½¬æˆjsonå­—ç¬¦ä¸²å­˜å‚¨ï¼š</p>
<pre><code class="hljs language-dart" lang="dart">Future&lt;<span class="hljs-keyword">void</span>&gt; _onSave() <span class="hljs-keyword">async</span> {
  <span class="hljs-keyword">if</span> (_isLoading) <span class="hljs-keyword">return</span>;
  _isLoading = <span class="hljs-keyword">true</span>;

  <span class="hljs-keyword">if</span> (_currentElement != <span class="hljs-keyword">null</span>) {
    setState(() {
      _currentElement = <span class="hljs-keyword">null</span>;
    });
  }

  <span class="hljs-keyword">if</span> (_currentElement == <span class="hljs-keyword">null</span>) {
    <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> imagePath = <span class="hljs-keyword">await</span> _getImagePath();
    <span class="hljs-keyword">final</span> <span class="hljs-built_in">List</span>&lt;<span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">dynamic</span>&gt;&gt; tempStringList = _elementList.map((item) =&gt; ElementModel.toJson(item)).toList();

    widget.onSave(imgSrc: imagePath, data: jsonEncode(tempStringList));

    _isLoading = <span class="hljs-keyword">false</span>;
  } <span class="hljs-keyword">else</span> {
    _isLoading = <span class="hljs-keyword">false</span>;
    _onSave();
  }
}
</code></pre>
<p>è¿è¡Œæ•ˆæœï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/748f17a3018a49ba9d0ff1e5f5c2b255~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCN5a2X6KKr5L2g5Lus5oOz5a6M5LqG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767451521&amp;x-signature=B6r1hNHSSOFgtXUEILCAwe5wbmg%3D" alt="image03.gif" loading="lazy"/></p>
<p>è¿™æ ·æˆ‘ä»¬å°±ç®€å•å®ç°äº†å›¾ç‰‡çš„ç”Ÿæˆï¼Œå¹¶ä¸”å°†æ•°æ®è½¬æ¢æˆJSONå­—ç¬¦ä¸²ä¼ é€’ç»™åç«¯ä¿å­˜ï¼Œåç»­åç«¯è¿”å›è¿™ä¸ªå­—ç¬¦ä¸²å†è¿˜åŸå°±å¯ä»¥è¿›è¡Œç¼–è¾‘ã€‚è¿™æ ·å°±ç®€å•å®ç°äº†åŸºç¡€çš„åŠŸèƒ½ï¼Œåç»­å°±å®ç°è¾…åŠ©çš„åŠŸèƒ½ã€‚</p>
<p>æ„Ÿå…´è¶£çš„ä¹Ÿå¯ä»¥å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·ã€å‰ç«¯å­¦ä¹ å°è¥åœ°ã€‘ï¼Œä¸å®šæ—¶ä¼šåˆ†äº«ä¸€äº›å°åŠŸèƒ½ï½</p>
<p>å¥½äº†ï¼Œä»Šå¤©çš„åˆ†äº«åˆ°æ­¤ç»“æŸï¼Œæ„Ÿè°¢é˜…è¯»ï½æ‹œæ‹œï½</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[static å’Œ lib/assetsèµ„æºåŒºåˆ«]]></title>    <link>https://juejin.cn/post/7588149079417208886</link>    <guid>https://juejin.cn/post/7588149079417208886</guid>    <pubDate>2025-12-27T14:50:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588149079417208886" data-draft-id="7588149079417192502" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="static å’Œ lib/assetsèµ„æºåŒºåˆ«"/> <meta itemprop="keywords" content="å‰ç«¯,Svelte"/> <meta itemprop="datePublished" content="2025-12-27T14:50:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Robet"/> <meta itemprop="url" content="https://juejin.cn/user/193141028175320"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            static å’Œ lib/assetsèµ„æºåŒºåˆ«
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/193141028175320/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Robet
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T14:50:05.000Z" title="Sat Dec 27 2025 14:50:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿™æ˜¯ä¸€ä¸ªéå¸¸å…³é”®çš„é—®é¢˜ï¼åœ¨ <strong>SvelteKit</strong> é¡¹ç›®ä¸­ï¼Œ<code>static/</code> ç›®å½•å’Œ <code>src/lib/assets/</code>ï¼ˆæˆ–ä»»ä½• <code>src/</code> ä¸‹çš„èµ„æºï¼‰å¤„ç†æ–¹å¼<strong>å®Œå…¨ä¸åŒ</strong>ï¼Œç›´æ¥å½±å“åˆ°ï¼š</p>
<ul>
<li>èµ„æºæ˜¯å¦è¢« <strong>æ„å»ºå·¥å…·å¤„ç†</strong></li>
<li>æ˜¯å¦æ”¯æŒ <strong>å“ˆå¸Œæ–‡ä»¶åï¼ˆç¼“å­˜ä¼˜åŒ–ï¼‰</strong></li>
<li>å¦‚ä½• <strong>å¼•ç”¨èµ„æºè·¯å¾„</strong></li>
<li>æ˜¯å¦èƒ½ä½¿ç”¨ <strong>ESM å¯¼å…¥è¯­æ³•</strong></li>
</ul>
<hr/>
<h2 data-id="heading-0">âœ… æ ¸å¿ƒåŒºåˆ«æ€»ç»“</h2>



































<table><thead><tr><th>ç‰¹æ€§</th><th><code>static/</code> ç›®å½•</th><th><code>src/lib/assets/</code>ï¼ˆæˆ–å…¶ä»– <code>src/</code> ä¸‹ï¼‰</th></tr></thead><tbody><tr><td><strong>æ˜¯å¦ç»è¿‡ Vite æ„å»º</strong></td><td>âŒ ä¸å¤„ç†ï¼ŒåŸæ ·å¤åˆ¶</td><td>âœ… ä¼šç»è¿‡ Vite å¤„ç†ï¼ˆå‹ç¼©ã€å“ˆå¸Œã€ä¼˜åŒ–ï¼‰</td></tr><tr><td><strong>è¾“å‡ºä½ç½®</strong></td><td>ç›´æ¥å¤åˆ¶åˆ° <code>build/</code> æ ¹ç›®å½•</td><td>æ‰“åŒ…è¿› <code>build/_app/assets/...</code></td></tr><tr><td><strong>å¼•ç”¨æ–¹å¼</strong></td><td>ç»å¯¹è·¯å¾„ <code>/image.png</code></td><td>å¿…é¡»é€šè¿‡ <strong>ESM å¯¼å…¥</strong>ï¼š<code>import img from '$lib/assets/image.png'</code></td></tr><tr><td><strong>æ–‡ä»¶åå“ˆå¸Œ</strong></td><td>âŒ æ— ï¼ˆä¸åˆ©äºé•¿æœŸç¼“å­˜ï¼‰</td><td>âœ… æœ‰ï¼ˆå¦‚ <code>image.abc123.png</code>ï¼Œåˆ©äº CDN ç¼“å­˜ï¼‰</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>robots.txtã€favicon.icoã€sitemap.xml ç­‰<strong>é™æ€ Web èµ„æº</strong></td><td>åº”ç”¨å†…ä½¿ç”¨çš„å›¾ç‰‡ã€å›¾æ ‡ã€å­—ä½“ç­‰<strong>æ¨¡å—åŒ–èµ„æº</strong></td></tr></tbody></table>
<hr/>
<h2 data-id="heading-1">ğŸ” è¯¦ç»†è§£é‡Š</h2>
<h3 data-id="heading-2">1. <strong><code>static/</code> ç›®å½• â€”â€” â€œçº¯é™æ€ Web æ ¹ç›®å½•â€</strong></h3>
<ul>
<li>
<p>SvelteKit åœ¨æ„å»ºæ—¶ï¼Œä¼š<strong>åŸå°ä¸åŠ¨åœ°å°† <code>static/</code> å†…å®¹å¤åˆ¶åˆ°è¾“å‡ºç›®å½•ï¼ˆ<code>build/</code>ï¼‰çš„æ ¹éƒ¨</strong>ã€‚</p>
</li>
<li>
<p>è¿™äº›æ–‡ä»¶<strong>ä¸ä¼šè¢« Vite å¤„ç†</strong>ï¼ˆä¸å‹ç¼©ã€ä¸é‡å‘½åã€ä¸å“ˆå¸Œï¼‰ã€‚</p>
</li>
<li>
<p>æµè§ˆå™¨é€šè¿‡ <strong>ç»å¯¹è·¯å¾„</strong> è®¿é—®ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- åœ¨ +layout.svelte æˆ– app.html ä¸­ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"icon"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/favicon.ico"</span> /&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/images/logo.png"</span> /&gt;</span>
</code></pre>
</li>
<li>
<p><strong>å…¸å‹ç”¨é€”</strong>ï¼š</p>
<ul>
<li><code>favicon.ico</code></li>
<li><code>robots.txt</code></li>
<li><code>sitemap.xml</code></li>
<li>ç¬¬ä¸‰æ–¹éªŒè¯æ–‡ä»¶ï¼ˆå¦‚ <code>google-site-verification=xxx.html</code>ï¼‰</li>
<li>éœ€è¦å›ºå®š URL çš„å…¬å¼€èµ„æº</li>
</ul>
</li>
</ul>
<blockquote>
<p>âš ï¸ å¦‚æœä½ æŠŠåº”ç”¨å†…çš„å›¾ç‰‡æ”¾è¿™é‡Œï¼ˆå¦‚ <code>/static/product.jpg</code>ï¼‰ï¼Œä¼šå¯¼è‡´ï¼š</p>
<ul>
<li>æ— æ³•åˆ©ç”¨å†…å®¹å“ˆå¸Œ â†’ ç”¨æˆ·å¯èƒ½çœ‹åˆ°æ—§å›¾ï¼ˆç¼“å­˜é—®é¢˜ï¼‰</li>
<li>æ— æ³• tree-shaking æœªä½¿ç”¨çš„å›¾ç‰‡</li>
<li>æ— æ³•ä½¿ç”¨ç°ä»£å›¾åƒæ ¼å¼è‡ªåŠ¨è½¬æ¢ï¼ˆå¦‚ WebPï¼‰</li>
</ul>
</blockquote>
<hr/>
<h3 data-id="heading-3">2. <strong><code>src/lib/assets/</code> â€”â€” â€œæ¨¡å—åŒ–èµ„æºâ€</strong></h3>
<ul>
<li>
<p>è¿™äº›æ–‡ä»¶è¢«è§†ä¸º <strong>JavaScript æ¨¡å—ä¾èµ–</strong>ã€‚</p>
</li>
<li>
<p>å¿…é¡»é€šè¿‡ <strong>ESM <code>import</code> è¯­å¥</strong> å¼•ç”¨ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- åœ¨ .svelte æˆ– .js æ–‡ä»¶ä¸­ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">import</span> logo <span class="hljs-keyword">from</span> <span class="hljs-string">'$lib/assets/logo.png'</span>;
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">{logo}</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"Logo"</span> /&gt;</span>
</code></pre>
</li>
<li>
<p>Vite ä¼šï¼š</p>
<ul>
<li>ä¸ºæ–‡ä»¶ç”Ÿæˆ <strong>å”¯ä¸€å“ˆå¸Œå</strong>ï¼ˆå¦‚ <code>logo.a1b2c3.png</code>ï¼‰</li>
<li>è‡ªåŠ¨ä¼˜åŒ–ï¼ˆå‹ç¼©ã€è½¬ WebP ç­‰ï¼Œéœ€é…ç½®ï¼‰</li>
<li>åªæ‰“åŒ…<strong>å®é™…è¢«å¼•ç”¨çš„èµ„æº</strong></li>
<li>æ”¯æŒåŠ¨æ€ <code>import()</code>ï¼ˆæŒ‰éœ€åŠ è½½ï¼‰</li>
</ul>
</li>
<li>
<p>è¾“å‡ºè·¯å¾„ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs">build/
â””â”€â”€ _app/
    â””â”€â”€ assets/
        â””â”€â”€ logo.a1b2c3.png
</code></pre>
</li>
</ul>
<blockquote>
<p>âœ… <strong>è¿™æ˜¯ SvelteKit æ¨èçš„åº”ç”¨å†…èµ„æºç®¡ç†æ–¹å¼ï¼</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-4">ğŸ§ª å¯¹æ¯”ç¤ºä¾‹</h2>
<h3 data-id="heading-5">åœºæ™¯ï¼šåœ¨é¡µé¢ä¸­æ˜¾ç¤ºä¸€å¼  logo</h3>
<h4 data-id="heading-6">âŒ é”™è¯¯åšæ³•ï¼ˆæŠŠåº”ç”¨å›¾ç‰‡æ”¾ staticï¼‰</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- src/routes/+page.svelte --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/logo.png"</span> /&gt;</span>  <span class="hljs-comment">&lt;!-- æ¥è‡ª static/logo.png --&gt;</span>
</code></pre>
<ul>
<li>é—®é¢˜ï¼šURL å›ºå®šä¸º <code>/logo.png</code>ï¼Œæµè§ˆå™¨ç¼“å­˜åæ›´æ–°å›°éš¾ã€‚</li>
</ul>
<h4 data-id="heading-7">âœ… æ­£ç¡®åšæ³•ï¼ˆç”¨ <code>$lib/assets/</code>ï¼‰</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- src/routes/+page.svelte --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">import</span> logo <span class="hljs-keyword">from</span> <span class="hljs-string">'$lib/assets/logo.png'</span>;
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">{logo}</span> /&gt;</span>
</code></pre>
<ul>
<li>æ¸²æŸ“ç»“æœï¼š<code>&lt;img src="/_app/assets/logo.a1b2c3.png" /&gt;</code></li>
<li>ä¼˜åŠ¿ï¼šæ–‡ä»¶åå«å“ˆå¸Œï¼Œæ›´æ–°å³å¤±æ•ˆç¼“å­˜ï¼ŒCDN å‹å¥½ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-8">ğŸ“ æ¨èç›®å½•ç»“æ„</h2>
<pre><code class="hljs language-scss" lang="scss">project/
â”œâ”€â”€ static/
â”‚   â”œâ”€â”€ favicon<span class="hljs-selector-class">.ico</span>        â† å¿…é¡»æ”¾è¿™é‡Œï¼ˆæµè§ˆå™¨å›ºå®šè¯·æ±‚ /favicon<span class="hljs-selector-class">.ico</span>ï¼‰
â”‚   â”œâ”€â”€ robots<span class="hljs-selector-class">.txt</span>         â† å¿…é¡»æ”¾è¿™é‡Œ
â”‚   â””â”€â”€ vercel<span class="hljs-selector-class">.svg</span>         â† ç¬¬ä¸‰æ–¹éªŒè¯æ–‡ä»¶
â””â”€â”€ <span class="hljs-attribute">src</span>/
    â””â”€â”€ lib/
        â””â”€â”€ assets/
            â”œâ”€â”€ images/
            â”‚   â”œâ”€â”€ logo<span class="hljs-selector-class">.png</span>
            â”‚   â””â”€â”€ hero<span class="hljs-selector-class">.jpg</span>
            â””â”€â”€ icons/
                â””â”€â”€ star<span class="hljs-selector-class">.svg</span>
</code></pre>
<hr/>
<h2 data-id="heading-9">ğŸ’¡ ç‰¹æ®Šæƒ…å†µï¼šä»€ä¹ˆæ—¶å€™ç”¨ <code>static/</code> å­˜å›¾ç‰‡ï¼Ÿ</h2>
<p>ä»…å½“ä½ <strong>éœ€è¦å›ºå®š URL ä¸”ä¸å¸Œæœ›è¢«æ„å»ºå·¥å…·å¤„ç†</strong>æ—¶ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>ä¸€ä¸ªå…¬å¼€çš„åˆ†äº«å›¾ï¼ŒURL å¿…é¡»æ˜¯ <code>https://yoursite.com/share-banner.jpg</code></li>
<li>ç¬¬ä¸‰æ–¹å¹³å°è¦æ±‚ç‰¹å®šè·¯å¾„çš„å›¾ç‰‡ï¼ˆå¦‚å¾®ä¿¡å…¬ä¼—å·ç´ æï¼‰</li>
<li>éå¸¸å¤§çš„èƒŒæ™¯å›¾ï¼Œä¸æƒ³è¢«æ‰“åŒ…ï¼ˆä½†é€šå¸¸ä»å»ºè®®ç”¨ ESM + åŠ¨æ€å¯¼å…¥ï¼‰</li>
</ul>
<p>å¦åˆ™ï¼Œ<strong>ä¸€å¾‹ä½¿ç”¨ <code>$lib/assets/</code> + <code>import</code></strong>ã€‚</p>
<hr/>
<h2 data-id="heading-10">âœ… æ€»ç»“ä¸€å¥è¯</h2>
<blockquote>
<p><strong><code>static/</code> æ˜¯ç»™â€œWeb æœåŠ¡å™¨â€çœ‹çš„é™æ€æ–‡ä»¶ï¼›<br/>
<code>src/lib/assets/</code> æ˜¯ç»™â€œä½ çš„åº”ç”¨ä»£ç â€ç”¨çš„æ¨¡å—åŒ–èµ„æºã€‚</strong></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‘Šåˆ«é‡å¤ä¼ å‚ï¼ç”¨æŸ¯é‡ŒåŒ–æå‡ä»£ç ä¼˜é›…åº¦]]></title>    <link>https://juejin.cn/post/7588146449005838372</link>    <guid>https://juejin.cn/post/7588146449005838372</guid>    <pubDate>2025-12-27T15:54:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588146449005838372" data-draft-id="7588191506606129158" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‘Šåˆ«é‡å¤ä¼ å‚ï¼ç”¨æŸ¯é‡ŒåŒ–æå‡ä»£ç ä¼˜é›…åº¦"/> <meta itemprop="keywords" content="JavaScript,é¢è¯•,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-27T15:54:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é±¼é±¼å—"/> <meta itemprop="url" content="https://juejin.cn/user/4302802432307224"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‘Šåˆ«é‡å¤ä¼ å‚ï¼ç”¨æŸ¯é‡ŒåŒ–æå‡ä»£ç ä¼˜é›…åº¦
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4302802432307224/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é±¼é±¼å—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T15:54:39.000Z" title="Sat Dec 27 2025 15:54:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æŸ¯é‡ŒåŒ–ï¼šè®©å‡½æ•°â€œæ…¢æ…¢æ¥â€ï¼Œä¸€æ¬¡åªåƒä¸€å£</h2>
<p>åœ¨ç¼–ç¨‹ä¸–ç•Œé‡Œï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šé‡åˆ°è¿™æ ·ä¸€ç§åœºæ™¯ï¼šä¸€ä¸ªå‡½æ•°éœ€è¦å¤šä¸ªå‚æ•°æ‰èƒ½å®Œæˆä»»åŠ¡ã€‚ä½†æœ‰æ—¶å€™ï¼Œè¿™äº›å‚æ•°å¹¶ä¸ä¼šä¸€ä¸‹å­å…¨éƒ¨å‡†å¤‡å¥½â€”â€”å¯èƒ½ä»Šå¤©çŸ¥é“ç¬¬ä¸€ä¸ªï¼Œæ˜å¤©æ‹¿åˆ°ç¬¬äºŒä¸ªï¼Œåå¤©æ‰å‡‘é½å…¨éƒ¨ã€‚</p>
<p>è¿™æ—¶å€™ï¼Œ<strong>æŸ¯é‡ŒåŒ–ï¼ˆCurryingï¼‰</strong> å°±æ´¾ä¸Šç”¨åœºäº†ã€‚å®ƒå°±åƒä¸€ä½è€å¿ƒçš„å¨å¸ˆï¼Œä¸æ€¥ç€æŠŠæ•´é“èœåšå®Œï¼Œè€Œæ˜¯å…ˆè®°ä½ä½ å·²ç»ç»™çš„é£Ÿæï¼Œç­‰ä½ æŠŠå‰©ä¸‹çš„ææ–™é™†ç»­é€æ¥ï¼Œå†ä¸€é”…ç‚’å¥½ã€‚</p>
<hr/>
<h3 data-id="heading-1">ä»æœ€ç®€å•çš„åŠ æ³•è¯´èµ·</h3>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæ™®é€šçš„åŠ æ³•å‡½æ•°ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a, b</span>) {
  <span class="hljs-keyword">return</span> a + b;
}
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">add</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)); <span class="hljs-comment">// è¾“å‡º 3</span>
</code></pre>
<p>è¿™å¾ˆç›´æ¥ï¼šä¸¤ä¸ªæ•°ä¸€èµ·ä¼ è¿›å»ï¼Œç«‹åˆ»å‡ºç»“æœã€‚ä½†å¦‚æœæˆ‘åªèƒ½å…ˆç»™ä½  <code>a</code>ï¼Œè¿‡ä¸€ä¼šå„¿å†å‘Šè¯‰ä½  <code>b</code> å‘¢ï¼Ÿæ™®é€šå‡½æ•°å°±æ— èƒ½ä¸ºåŠ›äº†ã€‚</p>
<p>äºæ˜¯æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨â€œæŸ¯é‡ŒåŒ–â€ä¸€ä¸‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>) {
    <span class="hljs-keyword">return</span> a + b;
  };
}
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">add</span>(<span class="hljs-number">1</span>)(<span class="hljs-number">2</span>)); <span class="hljs-comment">// è¾“å‡º 3</span>
</code></pre>
<p>ä½ çœ‹ï¼Œç°åœ¨ <code>add(1)</code> è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°â€œè®°å¾—â€äº† <code>a = 1</code>ï¼Œç­‰ä½ å†è°ƒç”¨å®ƒä¼ å…¥ <code>b</code>ï¼Œå°±èƒ½ç®—å‡ºç»“æœã€‚è¿™èƒŒåé çš„æ˜¯ <strong>é—­åŒ…</strong>â€”â€”å†…éƒ¨å‡½æ•°å¯ä»¥â€œè®°ä½â€å¤–éƒ¨å‡½æ•°çš„å˜é‡ï¼Œå³ä½¿å¤–éƒ¨å‡½æ•°å·²ç»æ‰§è¡Œå®Œäº†ã€‚</p>
<p>è¿™ç§å†™æ³•è™½ç„¶å¯è¡Œï¼Œä½†åªé€‚ç”¨äºå›ºå®šä¸¤ä¸ªå‚æ•°çš„æƒ…å†µã€‚å¦‚æœå‡½æ•°æœ‰ä¸‰ä¸ªã€å››ä¸ªç”šè‡³æ›´å¤šå‚æ•°ï¼Œæ‰‹åŠ¨åµŒå¥—å†™èµ·æ¥ä¼šéå¸¸ç¹çï¼Œè€Œä¸”éš¾ä»¥å¤ç”¨</p>
<hr/>
<h3 data-id="heading-2">è‡ªåŠ¨æŸ¯é‡ŒåŒ–ï¼šé€šç”¨è§£å†³æ–¹æ¡ˆ</h3>
<p>æ‰‹åŠ¨ä¸ºæ¯ä¸ªå‡½æ•°å†™æŸ¯é‡ŒåŒ–ç‰ˆæœ¬å¤ªéº»çƒ¦äº†ã€‚æœ‰æ²¡æœ‰åŠæ³•å†™ä¸€ä¸ªâ€œä¸‡èƒ½å·¥å…·â€ï¼Œè‡ªåŠ¨æŠŠä»»æ„å¤šå‚å‡½æ•°å˜æˆå¯é€æ­¥ä¼ å‚çš„å½¢å¼ï¼Ÿ</p>
<p>å½“ç„¶æœ‰ï¼æ¥çœ‹è¿™ä¸ªé€šç”¨çš„ <code>curry</code> å‡½æ•°ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a, b, c, d</span>) {
  <span class="hljs-keyword">return</span> a + b + c + d;
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">curry</span>(<span class="hljs-params">fn</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">curried</span>(<span class="hljs-params">...args</span>) {
    <span class="hljs-keyword">if</span> (args.<span class="hljs-property">length</span> &gt;= fn.<span class="hljs-property">length</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">fn</span>(...args); <span class="hljs-comment">// å‚æ•°å¤Ÿäº†ï¼Œç›´æ¥æ‰§è¡Œ</span>
    }
    <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">...rest</span>) =&gt;</span> <span class="hljs-title function_">curried</span>(...args, ...rest); <span class="hljs-comment">// ä¸å¤Ÿï¼Ÿç»§ç»­æ”¶</span>
  };
}

<span class="hljs-keyword">const</span> curriedAdd = <span class="hljs-title function_">curry</span>(add);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">curriedAdd</span>(<span class="hljs-number">1</span>)(<span class="hljs-number">2</span>)(<span class="hljs-number">3</span>)(<span class="hljs-number">4</span>)); <span class="hljs-comment">// 10</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">curriedAdd</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>)); <span class="hljs-comment">// 10ï¼Œä¹Ÿå¯ä»¥ä¸€æ¬¡ä¼ å¤šä¸ª</span>
</code></pre>
<h4 data-id="heading-3">å®ƒæ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼Ÿ</h4>
<ul>
<li><code>fn.length</code> æ˜¯ JavaScript ä¸­å‡½æ•°çš„ä¸€ä¸ªå±æ€§ï¼Œè¡¨ç¤ºè¯¥å‡½æ•°<strong>å£°æ˜æ—¶å®šä¹‰çš„å‚æ•°ä¸ªæ•°</strong>ï¼ˆä¸åŒ…æ‹¬å‰©ä½™å‚æ•°ï¼‰ã€‚</li>
<li>æ¯æ¬¡è°ƒç”¨ <code>curried</code>ï¼Œéƒ½ä¼šæ”¶é›†å½“å‰ä¼ å…¥çš„å‚æ•°ï¼ˆé€šè¿‡ <code>...args</code>ï¼‰ã€‚</li>
<li>å¦‚æœå½“å‰å‚æ•°æ•°é‡ â‰¥ åŸå‡½æ•°æ‰€éœ€å‚æ•°æ•°é‡ï¼Œå°±ç«‹å³æ‰§è¡Œ <code>fn(...args)</code>ã€‚</li>
<li>å¦åˆ™ï¼Œè¿”å›ä¸€ä¸ªæ–°å‡½æ•°ï¼Œè¿™ä¸ªæ–°å‡½æ•°ä¼šæŠŠå·²æœ‰çš„ <code>args</code> å’Œåç»­ä¼ å…¥çš„ <code>rest</code> åˆå¹¶ï¼Œå†æ¬¡è°ƒç”¨ <code>curried</code> â€”â€” è¿™å°±æ˜¯é€’å½’çš„æ€æƒ³ã€‚</li>
</ul>
<p>åªè¦æ”¶é›†åˆ°è¶³å¤Ÿæ•°é‡çš„å‚æ•°ï¼Œå°±ç«‹åˆ»æ‰§è¡Œï¼›å¦åˆ™ï¼Œè¿”å›ä¸€ä¸ªæ–°å‡½æ•°ç»§ç»­ç­‰å¾…ã€‚</p>
<blockquote>
<p>ğŸ” <strong>æ³¨æ„</strong>ï¼šè¿™ä¸ªå®ç°åˆ©ç”¨äº† <strong>é—­åŒ… + é€’å½’</strong> çš„æ€æƒ³ã€‚æ¯æ¬¡è°ƒç”¨éƒ½æŠŠå·²æœ‰çš„å‚æ•°â€œå­˜èµ·æ¥â€ï¼Œç›´åˆ°æ”’å¤Ÿä¸ºæ­¢ã€‚è€Œé—­åŒ…ä¿è¯äº†è¿™äº›ä¸­é—´å‚æ•°ä¸ä¼šä¸¢å¤±ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-4">å®æˆ˜ï¼šæ—¥å¿—å‡½æ•°çš„æŸ¯é‡ŒåŒ–å¦™ç”¨</h3>
<p>æŸ¯é‡ŒåŒ–ä¸åªæ˜¯ç‚«æŠ€ï¼Œå®ƒåœ¨å®é™…å¼€å‘ä¸­éå¸¸æœ‰ç”¨ã€‚æ¯”å¦‚å¤„ç†æ—¥å¿—ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">log</span> = type =&gt; <span class="hljs-function"><span class="hljs-params">message</span> =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${type}</span>: <span class="hljs-subst">${message}</span>`</span>);
};

<span class="hljs-keyword">const</span> errorLog = <span class="hljs-title function_">log</span>(<span class="hljs-string">'ERROR'</span>);
<span class="hljs-keyword">const</span> infoLog = <span class="hljs-title function_">log</span>(<span class="hljs-string">'info'</span>);

<span class="hljs-title function_">errorLog</span>(<span class="hljs-string">'æ¥å£å¼‚å¸¸'</span>);        <span class="hljs-comment">// è¾“å‡º: ERROR: æ¥å£å¼‚å¸¸</span>
<span class="hljs-title function_">infoLog</span>(<span class="hljs-string">'é¡µé¢åŠ è½½å®Œæˆ'</span>);     <span class="hljs-comment">// è¾“å‡º: info: é¡µé¢åŠ è½½å®Œæˆ</span>
</code></pre>
<p>è¿™é‡Œï¼Œ<code>log</code> æ˜¯ä¸€ä¸ªæŸ¯é‡ŒåŒ–å‡½æ•°ã€‚æˆ‘ä»¬å…ˆå›ºå®šæ—¥å¿—ç±»å‹ï¼ˆå¦‚ <code>'ERROR'</code>ï¼‰ï¼Œå¾—åˆ°ä¸€ä¸ªä¸“é—¨æ‰“é”™è¯¯æ—¥å¿—çš„å‡½æ•° <code>errorLog</code>ã€‚ä»¥ååªè¦ä¼ æ¶ˆæ¯å†…å®¹å°±è¡Œï¼Œä¸ç”¨æ¯æ¬¡éƒ½å†™ç±»å‹ã€‚</p>
<h4 data-id="heading-5">ä¼˜åŠ¿åœ¨å“ªé‡Œï¼Ÿ</h4>
<ol>
<li><strong>å‡å°‘é‡å¤ä»£ç </strong>ï¼šä¸éœ€è¦æ¯æ¬¡å†™ <code>log('error', 'xxx')</code>ã€‚</li>
<li><strong>æé«˜å¯è¯»æ€§</strong>ï¼š<code>errorLog('xxx')</code> æ¯” <code>log('error', 'xxx')</code> æ›´ç›´è§‚ã€‚</li>
<li><strong>ä¾¿äºç»„åˆä¸å¤ç”¨</strong>ï¼šå¯ä»¥è½»æ¾åˆ›å»ºä¸åŒçº§åˆ«çš„æ—¥å¿—å™¨ï¼Œå¹¶åœ¨å¤šä¸ªæ¨¡å—ä¸­å…±äº«ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-6">æ€»ç»“ï¼šæŸ¯é‡ŒåŒ–çš„ä¸‰å¤§æ ¸å¿ƒ</h3>
<ol>
<li><strong>é—­åŒ…</strong>ï¼šä¿å­˜å·²ä¼ å…¥çš„å‚æ•°ï¼Œä¸ä¼šè¢«åƒåœ¾å›æ”¶ã€‚</li>
<li><strong>é€’å½’/é“¾å¼è°ƒç”¨</strong>ï¼šæ¯æ¬¡è¿”å›æ–°å‡½æ•°ï¼Œç»§ç»­æ¥æ”¶å‰©ä½™å‚æ•°ã€‚</li>
<li><strong>é€€å‡ºæ¡ä»¶</strong>ï¼šå½“å‚æ•°æ•°é‡è¾¾åˆ°åŸå‡½æ•°è¦æ±‚ï¼ˆ<code>fn.length</code>ï¼‰ï¼Œå°±æ‰§è¡Œå¹¶è¿”å›ç»“æœã€‚</li>
</ol>
<p>æŸ¯é‡ŒåŒ–ä¸æ˜¯å¿…é¡»ç”¨çš„æŠ€æœ¯ï¼Œä½†å®ƒèƒ½è®©ä½ çš„å‡½æ•°æ›´çµæ´»ã€æ›´å…·ç»„åˆæ€§ã€‚å°±åƒä¹é«˜ç§¯æœ¨â€”â€”ä½ å¯ä»¥å…ˆæ‹¼å¥½ä¸€éƒ¨åˆ†ï¼Œç­‰éœ€è¦æ—¶å†æ¥ä¸Šå…¶ä»–æ¨¡å—ï¼Œæœ€ç»ˆæ­å‡ºå®Œæ•´ä½œå“ã€‚</p>
<p>ä¸‹æ¬¡å½“ä½ å‘ç°æŸä¸ªå‡½æ•°æ€»æ˜¯åœ¨ä¸åŒåœ°æ–¹ä¼ ç›¸åŒçš„å‰å‡ ä¸ªå‚æ•°æ—¶ï¼Œä¸å¦¨è¯•è¯•æŸ¯é‡ŒåŒ–â€”â€”è®©å‡½æ•°å­¦ä¼šâ€œç­‰ä¸€ç­‰â€ï¼Œè¯´ä¸å®šä»£ç ä¼šå˜å¾—æ›´ä¼˜é›…ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI Agents]]></title>    <link>https://juejin.cn/post/7588042910198038578</link>    <guid>https://juejin.cn/post/7588042910198038578</guid>    <pubDate>2025-12-27T10:35:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588042910198038578" data-draft-id="7536182225327718442" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI Agents"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-27T10:35:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜­ç‰§Deç¢ç¢å¿µ"/> <meta itemprop="url" content="https://juejin.cn/user/2718458506388391"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI Agents
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2718458506388391/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜­ç‰§Deç¢ç¢å¿µ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T10:35:56.000Z" title="Sat Dec 27 2025 10:35:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">AI Agent å®šä¹‰ã€åŸç†</h2>
<blockquote>
<p>å…ˆæŠ“ä½æ ¸å¿ƒåŸç†ã€å®šä¹‰å’Œå…³é”®ç‰¹å¾ï¼Œé¿å…è¢«ç»†èŠ‚æ·¹æ²¡ã€‚</p>
</blockquote>
<h3 data-id="heading-1">å‘å±•å†å²</h3>
<p>AI Agent ä¸æ˜¯æŸä¸€ä¸ªäººåœ¨æŸä¸€åˆ»å‘æ˜çš„ä¸“åˆ©æ¦‚å¿µï¼Œè€Œæ˜¯å‡ åå¹´é‡Œéšç€äººå·¥æ™ºèƒ½é¢†åŸŸçš„å‘å±•é€æ¸æ¼”å˜ï¼Œç”±è¡Œä¸šæ€»ç»“å‡ºæ¥çš„</p>

























<table><thead><tr><th>æ—¶é—´</th><th>äº‹ä»¶/äººç‰©</th><th>è´¡çŒ®</th></tr></thead><tbody><tr><td>1960s-1990s</td><td>äººå·¥æ™ºèƒ½ç ”ç©¶å‘å±•ï¼Œäº§ç”Ÿè‡ªåŠ¨æ¨ç†ã€ä¸“å®¶ç³»ç»Ÿã€æ™ºèƒ½æœºå™¨äººã€æœºå™¨å­¦ä¹ ç­‰ç ”ç©¶æ–¹å‘ã€‚å…·æœ‰ä»£è¡¨æ€§çš„æ˜¯ ELIZAï¼ŒELIZA é€šè¿‡"å…³é”®è¯åŒ¹é…"+"æ¨¡ç‰ˆæ›¿æ¢"çš„æ–¹å¼ï¼Œå°†ç”¨æˆ·é™ˆè¿°è½¬åŒ–ä¸ºé—®é¢˜ï¼Œå¼•å¯¼å¯¹è¯å»¶ç»­æ¥æ¨¡æ‹Ÿå¿ƒç†æ²»ç–—å¸ˆã€‚        <a href="https://link.juejin.cn?target=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FELIZA" target="_blank" title="https://en.wikipedia.org/wiki/ELIZA" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/53cefc04bc5742d49bf308c67fe1c845~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pit54mnRGXnoo7noo7lv7U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767436556&amp;x-signature=fYbT99B3iSSRvdvs4LDBguiFW9g%3D" alt="image.png" loading="lazy"/></a></td><td>è™½æ— çœŸæ­£çš„æ™ºèƒ½ï¼Œå´ç”¨æœ€ç®€å•çš„æŠ€æœ¯å¯¹æ™ºèƒ½ä½œå‡ºäº†æ¢ç´¢</td></tr><tr><td>1995å¹´</td><td>ã€Š Artificial Intelligence: A Modern Approach ã€‹å‡ºç‰ˆ ï¼Œç»Ÿä¸€äº† AI ç ”ç©¶æ–¹å‘ï¼Œæ— è®ºç¬¦å·ä¸»ä¹‰ã€è¿æ¥ä¸»ä¹‰è¿˜æ˜¯æ¦‚ç‡æ–¹æ³•ï¼Œæœ€ç»ˆéƒ½å¯å½’ä¸ºï¼Œè®¾è®¡ç†æ€§æ™ºèƒ½ä½“ï¼ˆRational Agentï¼‰çš„ä¸åŒå®ç°æ–¹å¼ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fpeople.eecs.berkeley.edu%2F~russell%2Faima1e%2Fchapter02.pdf" target="_blank" title="https://people.eecs.berkeley.edu/~russell/aima1e/chapter02.pdf" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fe802f6aa71849178b105caeb2c0f8b8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pit54mnRGXnoo7noo7lv7U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767436556&amp;x-signature=tsXns2DYUxldtEtuNGmdMNQ%2BoSE%3D" alt="image.png" loading="lazy"/></a></td><td>æå‡º Agent çš„ç»å…¸å®šä¹‰ï¼Œé€šè¿‡æ„ŸçŸ¥ç¯å¢ƒã€è‡ªä¸»å†³ç­–å¹¶æ‰§è¡Œè¡ŒåŠ¨ä»¥æœ€å¤§åŒ–ç›®æ ‡è¾¾æˆçš„å®ä½“</td></tr><tr><td>2020å¹´ä»£</td><td>OpenAIã€Google DeepMindã€Anthropic ç­‰å…¬å¸æ ¹æ®è¡Œä¸šå®è·µå’Œç ”ç©¶é€æ­¥æ€»ç»“å‡ºæ¥ AI Agent çš„å®šä¹‰ <a href="https://link.juejin.cn?target=https%3A%2F%2Fbytebytego.com%2Fguides%2Fwhat-is-an-ai-agent%2F" target="_blank" title="https://bytebytego.com/guides/what-is-an-ai-agent/" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c9da32a871341a8b3df0e809ff5b293~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pit54mnRGXnoo7noo7lv7U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767436556&amp;x-signature=qXJmzR2xqPwtutT1Bkrq7PpUVVk%3D" alt="image.png" loading="lazy"/></a></td><td>åŸºäº AI çš„å¿«é€Ÿå‘å±•ï¼Œå’Œå·²æœ‰çš„ Agent æ¦‚å¿µï¼Œæ€»ç»“å‡º AI Agent</td></tr></tbody></table>
<h3 data-id="heading-2">å®šä¹‰</h3>
<p>AI Agent æ˜¯ä¸€ä¸ªèƒ½è®© <strong>å¤§æ¨¡å‹ï¼ˆLLMï¼‰</strong> é€šè¿‡ <strong>è®¿é—®å·¥å…·ï¼ˆAccess To Toolsï¼‰</strong> ã€<strong>è®°å¿†å’ŒçŸ¥è¯†ï¼ˆMemory Knowledgeï¼‰</strong> ï¼Œå» <strong>æ‰§è¡Œæ“ä½œï¼ˆPerform Actionsï¼‰</strong> çš„ç³»ç»Ÿã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmicrosoft%2Fai-agents-for-beginners%2Fblob%2Fmain%2F01-intro-to-ai-agents%2FREADME.md" target="_blank" title="https://github.com/microsoft/ai-agents-for-beginners/blob/main/01-intro-to-ai-agents/README.md" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3eaaaae77faa43f386c02abbc63fc572~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pit54mnRGXnoo7noo7lv7U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767436556&amp;x-signature=jQqEwqGRaQij1FDlslvJn9iv6hw%3D" alt="image.png" loading="lazy"/></a></p>
<ul>
<li>
<p><strong>LLM Large Language Model</strong>ï¼Œå¤§è¯­è¨€æ¨¡å‹ï¼Œä¾‹å¦‚ GPT-4ã€Claudeã€Geminiã€‚Agent çš„æ¦‚å¿µåœ¨ LLM è¯ç”Ÿä¹‹å‰å°±å·²ç»å­˜åœ¨ï¼Œä½¿ç”¨ LLM å»æ„å»º AI Agent çš„ä¼˜åŠ¿åœ¨äºï¼ŒLLM èƒ½æ›´å¥½çš„ç†è§£å’Œè§£é‡Šäººç±»è¯­è¨€ã€‚</p>
</li>
<li>
<p><strong>è®¿é—®å·¥å…·(Access To Tools)</strong> è®¿é—®å·¥å…·æ˜¯æŒ‡ AI Agent è¢«æˆäºˆä½¿ç”¨å¤–éƒ¨èµ„æºæˆ–åŠŸèƒ½çš„èƒ½åŠ›ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li>çŸ¥è¯†è·å–ç±»ï¼šå¦‚æµè§ˆå™¨ã€æœç´¢å¼•æ“ã€æ•°æ®åº“æŸ¥è¯¢å™¨ç­‰ï¼Œç”¨äºè·å–ä¿¡æ¯</li>
<li>è¡Œä¸ºæ‰§è¡Œç±»ï¼šå¦‚ API è°ƒç”¨ã€ç”µå­é‚®ä»¶å‘é€ã€è¡¨å•å¡«å†™ç­‰ï¼Œç”¨äºè®© Agent å¯¹å¤–éƒ¨ç¯å¢ƒäº§ç”Ÿå½±å“</li>
</ul>
</li>
</ul>
<p>LLM å¯ä»¥è®¿é—®å“ªäº›å·¥å…·ç”± AI Agent å¼€å‘è€… æ˜¾ç¤ºæ·»åŠ /å®šä¹‰ã€‚å‡è®¾æ˜¯ä¸ªæ—…æ¸¸ AI Agentï¼Œè¿™ä¸ª AI Agent å…è®¸åœ¨æºç¨‹çš„é¢„å®šç³»ç»Ÿä¸­ï¼Œé‚£å¼€å‘è€…å°±éœ€è¦åœ¨åˆå§‹åŒ–Agentæ—¶ï¼Œé€šè¿‡å£°æ˜ tools çš„æè¿°ã€å‚æ•°ç»“æ„ï¼Œå°†è®¿é—®èˆªç­ä¿¡æ¯çš„å·¥å…·æ³¨å†Œç»™LLMã€‚LLM æ ¹æ®ç”¨æˆ·è¾“å…¥å†…å®¹ä¸ tools æè¿°çš„åŒ¹é…ç¨‹åº¦ï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦ç”Ÿæˆ req è°ƒç”¨è¿™ä¸ª toolsã€‚</p>
<ul>
<li><strong>æ‰§è¡Œæ“ä½œ(Perform Actions)</strong>ã€‚å¦‚æœæ²¡æœ‰ AI Agent è¿™ä¸ªç³»ç»Ÿï¼ŒLLM åªèƒ½åŸºäºç”¨æˆ·ç»™çš„ prompt ç”Ÿæˆå†…å®¹ã€‚æœ‰äº† AI Agent åï¼ŒLLM å°±å¯ä»¥åŸºäºå¯¹ç”¨æˆ·è¯·æ±‚çš„ç†è§£ï¼Œå»ä½¿ç”¨ç¯èŠ‚ä¸­å¯ç”¨çš„å·¥å…·å®Œæˆä»»åŠ¡ã€‚</li>
</ul>
<blockquote>
<p>Perform Actions æŒ‡çš„æ˜¯å†³ç­–å¹¶ä½¿ç”¨å·¥å…·æ‰§è¡Œå…·ä½“æ“ä½œçš„è¿‡ç¨‹ï¼Œåœ¨ LangChain ç­‰æ¡†æ¶ä¸­ï¼Œå¯¹åº”AgentExecutorçš„æ¥å£å®šä¹‰ï¼Œç”± Agents æ¡†æ¶ ç»“åˆ Tools æœºåˆ¶ç›´æ¥å®ç°ï¼Œæ²¡æœ‰å•ç‹¬å®šä¹‰æ¨¡å—åã€‚</p>
</blockquote>
<ul>
<li>
<p><strong>è®°å¿†å’ŒçŸ¥è¯†(Memory+Knowledge)</strong></p>
<ul>
<li>è®°å¿†(Memory)æ˜¯ Agent åœ¨å’Œç”¨æˆ·äº¤äº’è¿‡ç¨‹ä¸­æ‰€è®°ä½çš„å†…å®¹ï¼Œå¦‚:ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œè¿‡å»çš„ç»éªŒç­‰ï¼Œåä¸ªæ€§åŒ–ã€‚æ¯”å¦‚ï¼Œç”¨æˆ·åœ¨æ—…æ¸¸ AI Agent æœŸæœ›çš„å‡ºè¡Œæ—¶é—´ã€å‡ºè¡Œåœ°ç‚¹ã€‚</li>
<li>çŸ¥è¯†(Knowledge)æ˜¯ç”¨æˆ·åœ¨å½“å‰ AI Agent ç¯å¢ƒä»¥å¤–èƒ½è·å–çš„ä¿¡æ¯ã€‚æ¯”å¦‚ï¼Œä»Šå¹´å¤å­£ç”±äºåŒ—äº¬å¤šé›¨ï¼Œåˆ°åŒ—äº¬æ—…æ¸¸äººå€¾å‘äºåšç‰©é¦†ç­‰å®¤å†…æ´»åŠ¨è€Œä¸æ˜¯æˆ·å¤–æ´»åŠ¨ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-3">ç±»æ¯”</h3>
<blockquote>
<p>ç”¨ç±»æ¯”åŠ é€Ÿç†è§£</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ecc3b7e9b7ac4d5397cbf2e0a2c3222d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pit54mnRGXnoo7noo7lv7U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767436556&amp;x-signature=g5EdkeELh6rfNQGdgfLCGu9X1bk%3D" alt="image.png" loading="lazy"/></p>
<p>å¯ä»¥å°† Agent ç±»æ¯”ä¸º PC ç”µè„‘ï¼Œä¸€å¼€å§‹æœ‰äº† CPU ä¸å¤Ÿï¼Œå¤§å¤šæ•°äººæ²¡æ³•ç›´æ¥ç”¨ CPU åŠ æ³•å™¨å’Œå‡æ³•å™¨å®Œæˆä»»åŠ¡ï¼Œéœ€è¦å¾ˆå¤šçš„å¤–å›´è®¾å¤‡+æ“ä½œç³»ç»Ÿæ‰èƒ½æ­å»ºå‡ºç»™äººèƒ½ä½¿ç”¨çš„å·¥å…·</p>
<p>å¯ä»¥æŠŠ Agent ç±»æ¯”ä¸ºä¸€å° PCã€‚ä¸€å¼€å§‹åªæœ‰ CPUï¼ˆå¯¹åº” LLMï¼‰ï¼Œè¿˜è¿œè¿œä¸å¤Ÿã€‚å¤§å¤šæ•°ç”¨æˆ·å¹¶ä¸ä¼šç›´æ¥æ“æ§ CPU çš„åŠ æ³•å™¨æˆ–å‡æ³•å™¨æ¥å®Œæˆä»»åŠ¡â€”â€”ä»–ä»¬ä¾èµ–æ“ä½œç³»ç»Ÿè¿›è¡Œä»»åŠ¡è°ƒåº¦ï¼Œä¾é å·¥å…·æ¥å£è°ƒç”¨å¤–éƒ¨æœåŠ¡ï¼Œè¿˜è¦ä¾èµ–ä¸åŒå±‚çº§çš„å­˜å‚¨ï¼ˆå¦‚ RAMã€ç¡¬ç›˜ï¼‰æ¥æ”¯æ’‘æµç¨‹ã€‚ç±»ä¼¼åœ°ï¼ŒAI Agent ä¹Ÿæ— æ³•ä»…é  LLMã€‚å®ƒéœ€è¦ï¼š</p>
<ul>
<li>ä¸€ä¸ª <strong>è§„åˆ’æ¨¡å—ï¼ˆPlannerï¼‰</strong> æ¥æ‹†è§£ä¸è°ƒåº¦ä»»åŠ¡ã€‚ç±»ä¼¼äºæ“ä½œç³»ç»Ÿï¼Œè°ƒåº¦èµ„æºã€åŠ è½½ç¨‹åºã€ç®¡ç†å†…å­˜ï¼›</li>
<li>å¤šå±‚æ¬¡çš„ <strong>å†…å­˜ï¼ˆMemoryï¼‰</strong> ï¼ŒåŒ…æ‹¬çŸ­æœŸè®°å¿†ã€å·¥ä½œè®°å¿† scratchpad å’Œé•¿æœŸè®°å¿†ï¼Œæ¥ç®¡ç†ä¸Šä¸‹æ–‡ä¸æŒä¹…çŸ¥è¯†ã€‚ç±»ä¼¼äº RAM + ç¡¬ç›˜å­˜å‚¨æ¶æ„ï¼Œæä¾›ä¸åŒæŒä¹…æ€§å’Œè®¿é—®é€Ÿåº¦ï¼›</li>
<li>å„ç§ <strong>å·¥å…·ï¼ˆToolsï¼‰</strong> ï¼ŒåŒ…æ‹¬å„ç±»æ’ä»¶ã€å¤–éƒ¨ APIã€æ•°æ®åº“ç­‰ï¼Œæ‰èƒ½å®Œæˆå…·ä½“æ“ä½œï¼Œç±»ä¼¼äºç”µè„‘é€šè¿‡ç½‘çº¿ã€USBè®¿é—®å¤–è®¾æˆ–å¤–éƒ¨èµ„æºã€‚</li>
</ul>
<h3 data-id="heading-4">æ¶‰åŠçš„æŠ€æœ¯</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.bytebytego.com%2Fp%2Fep169-rag-vs-agentic-rag" target="_blank" title="https://blog.bytebytego.com/p/ep169-rag-vs-agentic-rag" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2378dc506bed46b59fb7820479a9914a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pit54mnRGXnoo7noo7lv7U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767436556&amp;x-signature=GRrJlubBCA8eHwIrN1sx1%2B6wsfU%3D" alt="image.png" loading="lazy"/></a></p>
<p>LLM å‡ºç°åï¼Œä¸ºäº†è§£å†³LLMå‡ ä¸ªå¤©ç„¶çš„é—®é¢˜ï¼Œè¯ç”Ÿäº† RAGã€CoTã€Function Callingã€ReActã€Long term ç­‰çš„æŠ€æœ¯ï¼Œæœ€ç»ˆè¿™äº›æŠ€æœ¯éƒ½è¢«å½’çº³åˆ°äº† Toolsã€Planã€Memory è¿™å‡ ä¸ªæ¨¡å—ã€‚</p>



































<table><thead><tr><th>é—®é¢˜</th><th>åŸå› </th><th>è§£å†³åŠæ³•</th></tr></thead><tbody><tr><td>æ— å®æ—¶ä¿¡æ¯</td><td>LLM çš„çŸ¥è¯†æ¥è‡ªè®­ç»ƒè¯­æ–™ï¼Œæ˜¯é™æ€çš„ã€è¿‡å»çš„ã€‚è®­ç»ƒå®Œæˆåï¼Œé™¤éé‡æ–°è®­ç»ƒï¼Œå¦åˆ™å®ƒä¸ä¼šæ›´æ–°è®¤çŸ¥ã€‚æ–°çš„æ³•å¾‹ã€æ”¿ç­–ã€æ–°é—»ï¼Œç”¨æˆ·ç§æœ‰æ–‡æ¡£ï¼Œå®ƒéƒ½ä¸çŸ¥é“</td><td>å¼•å…¥ RAGï¼ˆ2020å¹´ï¼‰ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.youtube.com%2Fshorts%2F4jYZg6pkXyc" target="_blank" title="https://www.youtube.com/shorts/4jYZg6pkXyc" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/942a358b2d3b4fa5bf087758390af756~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pit54mnRGXnoo7noo7lv7U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767436556&amp;x-signature=0sXu3M1BLcxG14Xip49yh4DV2iY%3D" alt="image.png" loading="lazy"/></a></td></tr><tr><td>é€»è¾‘æ¨ç†èƒ½åŠ›ä¸ä½³</td><td>LLM çš„æ ¸å¿ƒæœºåˆ¶æ˜¯åŸºäºè®­ç»ƒé›†ä¸­çš„å­¦ä¹ åˆ°çš„æ¨¡å¼é¢„æµ‹ä¸‹ä¸€è¯ï¼Œè€Œä¸æ˜¯ç†è§£é—®é¢˜èƒŒåçš„æ¦‚å¿µæˆ–ç»“æ„ï¼Œæ›´ä¸å­˜åœ¨é€»è¾‘æ¨ç†èƒ½åŠ›ï¼Œä¸èƒ½å®Œæˆéœ€è¦ç²¾ç¡®è®¡ç®—æˆ–å¤æ‚è®¡ç®—/æ¨ç†çš„ä»»åŠ¡ã€‚å¦‚: æ•°å­¦é¢˜</td><td>å¼•å…¥ CoTï¼ˆ2022å¹´ï¼‰ï¼Œå¸®åŠ© LLM åœ¨å¤šä¸ªä¸­é—´æ­¥éª¤é—´ç»´æŒè¿è´¯é€»è¾‘ï¼Œæé«˜å‡†ç¡®ç‡ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgonzoml.substack.com%2Fp%2Fchain-of-thought-tree-of-thought" target="_blank" title="https://gonzoml.substack.com/p/chain-of-thought-tree-of-thought" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/76a3f7b7e8754aa79eb24732ace48427~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pit54mnRGXnoo7noo7lv7U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767436556&amp;x-signature=aUGSB41OkzjfqYIeeijluxpCee4%3D" alt="image.png" loading="lazy"/></a></td></tr><tr><td>æ— è¡ŒåŠ¨èƒ½åŠ›</td><td>åªèƒ½è¾“å‡ºæ–‡å­—ï¼Œä¸èƒ½çœŸæ­£å»è®¿é—®å·¥å…·ã€æ‰§è¡Œæ“ä½œ</td><td>å¼•å…¥ Function Callingï¼ˆ2023å¹´ï¼‰-   2023 å¹´ 6 æœˆ 13 æ—¥ï¼ŒOpenAI å‘å¸ƒäº†é¢˜ä¸º â€œFunction calling and other API updatesâ€ çš„å…¬å‘Šï¼Œå®£å¸ƒæ¨å‡ºæ–°çš„ function calling åŠŸèƒ½ï¼Œå…è®¸å¼€å‘è€…å‘æ¨¡å‹æè¿°å‡½æ•°ï¼Œå¹¶è®©æ¨¡å‹åœ¨åˆé€‚çš„æ—¶å€™è¾“å‡ºä¸€ä¸ª JSON æ ¼å¼çš„å‡½æ•°è°ƒç”¨å‚æ•°ã€‚ <a href="https://link.juejin.cn?target=https%3A%2F%2Fzilliz.com%2Fblog%2Ffunction-calling-vs-mcp-vs-a2a-developers-guide-to-ai-agent-protocols" target="_blank" title="https://zilliz.com/blog/function-calling-vs-mcp-vs-a2a-developers-guide-to-ai-agent-protocols" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8d7fe1f68ccd49a28a38127cbf93ba7a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pit54mnRGXnoo7noo7lv7U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767436556&amp;x-signature=krEkk1E8xteGByWU0RjiJOp8ACE%3D" alt="image.png" loading="lazy"/></a></td></tr><tr><td>æ¨ç†å­¤ç«‹ï¼ˆReasoning Onlyï¼‰éš¾ä»¥çº æ­£</td><td>å•çº¯ä¾èµ– Chain-of-Thought æ¨ç†ï¼Œä¼šéšç€å¤šæ­¥æ¨ç†ç´¯ç§¯é”™è¯¯ï¼Œé€ æˆè¯¯å¯¼æˆ–æœ€ç»ˆç»“æœå‡ºé”™ï¼Œä¸”éš¾ä»¥çº æ­£ã€‚</td><td>å¼•å…¥ ReActï¼ˆ2023å¹´ï¼‰ï¼Œé€šè¿‡ Reasoning + Action å¾ªç¯äº¤æ›¿ï¼ˆThought â†’ Action â†’ Observation â†’ Thoughtâ€¦ï¼‰åœ¨æ¨ç†è¿‡ç¨‹ä¸­æ›´æ–°è®¡åˆ’ï¼Œå¤„ç†å¼‚å¸¸ï¼Œå¹¶å€ŸåŠ©è§‚å¯Ÿä¿®æ­£è·¯å¾„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.philschmid.de%2Flanggraph-gemini-2-5-react-agent" target="_blank" title="https://www.philschmid.de/langgraph-gemini-2-5-react-agent" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/678a0c9dedad4031ab0212369311a116~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pit54mnRGXnoo7noo7lv7U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767436556&amp;x-signature=j873XmrCudvDd5%2FygzkAqMrw2qw%3D" alt="image.png" loading="lazy"/></a></td></tr><tr><td>ä¸Šä¸‹æ–‡åªèƒ½ä¿ç•™æœ‰é™token</td><td>LLM çš„ä¸Šä¸‹æ–‡çª—å£æœ‰ä¸¥æ ¼ä¸Šé™ï¼Œå³ä¾¿å¦‚ä»ŠæŸäº›æ¨¡å‹å·²æ”¯æŒåˆ°ç™¾ä¸‡ tokenï¼Œéƒ½æ„å‘³ç€ä¿¡æ¯é‡ä¾ç„¶å—åˆ°é™åˆ¶ã€‚åœ¨å¤šè½®å¯¹è¯æˆ–é•¿ä»»åŠ¡ä¸­ï¼Œè€æ—§æˆ–ä¸é‡è¦çš„ä¿¡æ¯å¾€å¾€è¢«æˆªæ–­æˆ–é—å¿˜ï¼Œå¯¼è‡´è¿è´¯æ€§å’Œæ•´ä½“ç†è§£èƒ½åŠ›ä¸‹é™</td><td>å¼•å…¥ Long-Term Memory(2023å¹´)ï¼Œ "<a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F%2F2306.07174" target="_blank" title="https://arxiv.org/abs//2306.07174" ref="nofollow noopener noreferrer">Augmenting Language Models with Long-Term Memory</a>"</td></tr></tbody></table>
<h3 data-id="heading-5">å®ç°æ‹†è§£</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Flilianweng.github.io%2Fposts%2F2023-06-23-agent%2F%3Futm_source%3Dchatgpt.com%23scientific-discovery-agent" target="_blank" title="https://lilianweng.github.io/posts/2023-06-23-agent/?utm_source=chatgpt.com#scientific-discovery-agent" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a76ad40a9f474d63914b77051b3ae9ac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pit54mnRGXnoo7noo7lv7U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767436556&amp;x-signature=zcJ2qyijsIpSel%2FEOBc8fK6yas0%3D" alt="image.png" loading="lazy"/></a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fnewsletter.maartengrootendorst.com%2Fp%2Fa-visual-guide-to-llm-agents" target="_blank" title="https://newsletter.maartengrootendorst.com/p/a-visual-guide-to-llm-agents" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/49cba25fa2914992b7af28d0c871dbe3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pit54mnRGXnoo7noo7lv7U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767436556&amp;x-signature=ooidQ7HF%2FKvGgO1mh0XHSfzxk8g%3D" alt="image.png" loading="lazy"/></a></p>
<h4 data-id="heading-6">Tools</h4>
<p><strong>Toolsçš„å®šä¹‰</strong></p>
<p>Tools æ˜¯ä¸€ç§æŠ½è±¡ï¼Œå°†ä¸€ä¸ªå‡½æ•°ï¼ˆæˆ–å…¶ä»–å®ç°ï¼‰åŒ…è£…æˆLLM å¯ä»¥è°ƒç”¨çš„å¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«åç§°ã€æè¿°ï¼ˆç”¨äºæç¤ºæ¨¡å‹ï¼‰ä»¥åŠè¾“å…¥å‚æ•°çš„ JSON schema æè¿°</p>
<p><strong>Tools åœ¨ Agent çš„ä½¿ç”¨</strong></p>
<ul>
<li>Agent ä¼šæ ¹æ® Tools æä¾›çš„åç§°ã€æè¿°å’Œå‚æ•° schemaï¼Œæ‹¼è¿›prompt å†…ï¼Œé€šè¿‡ prompt è®© LLM çŸ¥é“ä½•æ—¶å¯ä»¥è°ƒç”¨å“ªä¸ªå·¥å…·</li>
</ul>
<pre><code class="hljs language-python" lang="python">Â  Â  Tool(
Â  Â  Â  Â  name=<span class="hljs-string">"Calculator"</span>,
Â  Â  Â  Â  func=calculator_function,
Â  Â  Â  Â  description=<span class="hljs-string">"Use this tool to perform calculations."</span>
Â  Â  )
</code></pre>
<p>åœ¨ LLM ç”Ÿæˆç»“æœæ—¶ï¼Œå¦‚æœ LLM è®¤ä¸ºæŸä¸ªå·¥å…·çš„è°ƒç”¨æ˜¯å¿…è¦çš„ï¼Œä¼šåœ¨ç»“æœä¸­åŒ…å«ä¸€ä¸ª tool_calls å­—æ®µï¼ŒæŒ‡ç¤ºéœ€è¦è°ƒç”¨çš„å·¥å…·åŠå…¶å‚æ•°ã€‚è¿™ä¸ªç»“æ„åŒ–çš„è¾“å‡ºä½¿å¾— Agent èƒ½å¤Ÿå‡†ç¡®åœ°è§£æå·¥å…·è°ƒç”¨ï¼Œå¹¶æ‰§è¡Œç›¸åº”çš„æ“ä½œã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"tool_calls"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"call_1"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"function"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"arguments"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"{\"a\": 2, \"b\": 3}"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"multiply"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"function"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li>Agent åˆ†æ LLM ç”Ÿæˆçš„å†…å®¹ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨ Toolï¼Œåˆ™è°ƒç”¨å…·ä½“çš„ Tool å¹¶å°†ç»“æœåé¦ˆç»™æ¨¡å‹ï¼Œå½¢æˆâ€œæ¨¡å‹â†’å·¥å…·â†’æ¨¡å‹â€çš„å¾ªç¯ç»“æ„ã€‚</li>
</ul>
<p>å½“ Agent å†³å®šéœ€è¦è°ƒç”¨æŸä¸ª Tool æ—¶ï¼Œå®ƒä¼šç”Ÿæˆä¸€ä¸ªç»“æ„åŒ–çš„ ToolCall å¯¹è±¡ã€‚è¯¥å¯¹è±¡åŒ…å«ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>

Â  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"multiply"</span><span class="hljs-punctuation">,</span>
Â  <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"a"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"b"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
Â  <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"call_1"</span><span class="hljs-punctuation">,</span>
Â  <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tool_call"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>Agent æ‰§è¡Œ Tool å¹¶è·å–ç»“æœ</p>
<pre><code class="hljs language-python" lang="python">tool_output = multiply.invoke({<span class="hljs-string">"a"</span>: <span class="hljs-number">2</span>, <span class="hljs-string">"b"</span>: <span class="hljs-number">3</span>})
</code></pre>
<p>Agent å°† Tool ç»“æœåé¦ˆç»™ LLM</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># tool_output ç»“æœä¸º </span>
tool_message = ToolMessage(
Â  Â  content=<span class="hljs-string">"The result is 42."</span>,
Â  Â  tool_call_id=<span class="hljs-string">"call_1"</span>
)

<span class="hljs-comment"># å‡è®¾ chat_history æ˜¯ä¸€ä¸ªçŸ­æœŸè®°å¿†çš„å®ä¾‹ï¼Œæ›´æ–°å¯¹è¯å†å², æ”¯æŒLLMå¤šè½®å¯¹è¯æ—¶å¯ä»¥åˆ©ç”¨ä¹‹å‰çš„ tool ç»“æœï¼Œé¿å…é‡å¤è°ƒç”¨</span>
chat_history.add_messages([tool_message])

<span class="hljs-comment"># å‡è®¾ user_input æ˜¯ç”¨æˆ·çš„è¾“å…¥</span>
messages = [
Â  Â  (<span class="hljs-string">"human"</span>, user_input),
Â  Â  (<span class="hljs-string">"tool"</span>, tool_message.content)
]

<span class="hljs-comment"># å°† tool çš„è¾“å‡ºä½œä¸ºä¸Šä¸‹æ–‡ä¿¡æ¯æä¾›ç»™ LLMï¼Œç”Ÿæˆæœ€ç»ˆçš„ç»“æœ</span>
ai_message = llm_with_tools.invoke(messages)
</code></pre>
<h4 data-id="heading-7">Planning</h4>
<p>PlanningÂ æ˜¯æŒ‡è®© LLM å…·å¤‡åˆ†è§£å¤æ‚ä»»åŠ¡ã€è§„åˆ’æ‰§è¡Œæ­¥éª¤ã€åŠ¨æ€è°ƒæ•´ç­–ç•¥çš„èƒ½åŠ›ï¼Œä»¥è§£å†³éœ€è¦å¤šæ­¥æ¨ç†æˆ–å¤šå·¥å…·åä½œçš„å¤æ‚é—®é¢˜ã€‚æ¨¡æ‹Ÿäº†äººç±»è§£å†³é—®é¢˜æ—¶ï¼Œæ‹†åˆ†ç›®æ ‡-&gt;åˆ¶å®šæ­¥éª¤-&gt;æ‰§è¡Œè°ƒæ•´çš„æ€ç»´è¿‡ç¨‹ã€‚</p>
<p>Planningçš„å®ç°æœ‰ä¸‰ç§</p>
<ol>
<li>æç¤ºè¯ï¼ˆPrompt-basedï¼‰
é€šè¿‡ç²¾å¿ƒè®¾è®¡çš„æç¤ºè¯å¼•å¯¼ LLM è‡ªä¸»å®Œæˆä»»åŠ¡æ‹†è§£å’Œæ­¥éª¤è§„åˆ’ï¼Œé€‚ç”¨äºé€»è¾‘ç›¸å¯¹å›ºå®šã€æ— éœ€å¤æ‚å·¥å…·è°ƒç”¨çš„åœºæ™¯ã€‚</li>
<li>Chain ç»“æ„åŒ–è§„åˆ’
é€šè¿‡ é“¾ï¼ˆChainï¼‰ å°†å¤šä¸ªå­ä»»åŠ¡æŒ‰å›ºå®šæµç¨‹ä¸²è”ï¼Œé€‚ç”¨äºæ­¥éª¤æ˜ç¡®ã€ä¾èµ–å…³ç³»å›ºå®šçš„åœºæ™¯ï¼Œæœ¬è´¨æ˜¯ç¡¬ç¼–ç è§„åˆ’ã€‚é¢„å…ˆå®šä¹‰å­ä»»åŠ¡çš„æ‰§è¡Œé¡ºåºï¼ˆå¦‚: æ•°æ®é‡‡é›†-&gt;æ¸…æ´—-&gt;åˆ†æ-&gt;è¾“å‡ºï¼‰ï¼Œç”¨ Chain ç»„ä»¶å°†æ¯ä¸ªæ­¥éª¤çš„è¾“å…¥è¾“å‡ºè¡”æ¥ï¼Œå½¢æˆæµæ°´çº¿å¼è§„åˆ’ã€‚</li>
<li>Agent åŠ¨æ€è§„åˆ’
Agent è‡ªä¸»æ‹†è§£ä»»åŠ¡ã€è°ƒæ•´æ­¥éª¤ã€æ‰§è¡Œå·¥å…·ä»¥å®Œæˆå¤æ‚ç›®æ ‡ã€‚å…·ä½“å®ç°æ–¹å¼æœ‰ ReAct(æ€è€ƒReason-&gt;è¡ŒåŠ¨Act-&gt;è§‚å¯ŸObserve)ã€Plan and Executeã€Self Reflective</li>
</ol>
<p>å°æ€è€ƒ:</p>
<ul>
<li>Agentå¦‚ä½•ä»å¤±è´¥Planä¸­å­¦ä¹ ç»éªŒ?</li>
<li>CoT å’Œ WorkFlow çš„å…³ç³»æ˜¯ä»€ä¹ˆ?</li>
</ul>
<h4 data-id="heading-8">Memory</h4>
<p>Memory æ”¯æ’‘ Agent å®ç°ä¸Šä¸‹æ–‡æ„ŸçŸ¥ã€å†å²ç»éªŒå¤ç”¨ã€é•¿æœŸå†³ç­–è¿è´¯æ€§ã€‚
ä¸åŒç±»å‹çš„ Memory å¯¹åº”ä¸åŒçš„åº”ç”¨åœºæ™¯ï¼Œå…¶å®ç°æ–¹æ¡ˆå·®å¼‚æ˜¾è‘—ã€‚æœ€ç»å…¸çš„åˆ†ç±»æ–¹å¼æ˜¯æŒ‰æ—¶é—´è·¨åº¦åˆ’åˆ†ï¼š</p>























<table><thead><tr><th>ç±»å‹</th><th>æ ¸å¿ƒåœºæ™¯</th><th>æ•°æ®ç‰¹ç‚¹</th><th>å­˜å‚¨å‘¨æœŸ</th></tr></thead><tbody><tr><td><strong>çŸ­æœŸè®°å¿†ï¼ˆSTMï¼‰</strong></td><td>ä¼šè¯å†…äº¤äº’ã€å®æ—¶å†³ç­–</td><td>æ•°æ®é‡å°ã€æ—¶æ•ˆæ€§å¼ºã€å®Œæ•´åº¦é«˜</td><td>å•æ¬¡ä¼šè¯ / åˆ†é’Ÿçº§</td></tr><tr><td><strong>é•¿æœŸè®°å¿†ï¼ˆLTMï¼‰</strong></td><td>è·¨ä¼šè¯å¤ç”¨ã€ç»éªŒç§¯ç´¯</td><td>æ•°æ®é‡å¤§ã€éœ€æç‚¼ã€é•¿æœŸæœ‰æ•ˆ</td><td>è·¨ä¼šè¯ / æ°¸ä¹…çº§</td></tr></tbody></table>
<p><strong>çŸ­æœŸè®°å¿†ï¼ˆSTMï¼‰å®ç°</strong></p>
<p>ç”¨é˜Ÿåˆ—ï¼ˆdequeï¼‰å®ç°ï¼Œé™åˆ¶æœ€å¤§é•¿åº¦ï¼ˆé¿å…å†…å­˜æº¢å‡ºï¼‰</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> deque

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ShortTermMemory</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, max_length=<span class="hljs-number">10</span></span>):
        self.memory = deque(maxlen=max_length)  <span class="hljs-comment"># å›ºå®šé•¿åº¦é˜Ÿåˆ—ï¼Œè‡ªåŠ¨FIFO</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">store</span>(<span class="hljs-params">self, content, source</span>):
        <span class="hljs-string">"""å­˜å‚¨æ–°çš„ä¼šè¯ä¿¡æ¯"""</span>
        entry = {
            <span class="hljs-string">"entry_id"</span>: <span class="hljs-string">f"stm-<span class="hljs-subst">{<span class="hljs-built_in">len</span>(self.memory)}</span>"</span>,
            <span class="hljs-string">"content"</span>: content,
            <span class="hljs-string">"metadata"</span>: {<span class="hljs-string">"source"</span>: source, <span class="hljs-string">"timestamp"</span>: self._get_current_time()}
        }
        self.memory.append(entry)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">retrieve_all</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""æ£€ç´¢æ‰€æœ‰çŸ­æœŸè®°å¿†ï¼ˆç”¨äºå½“å‰ä¼šè¯å†³ç­–ï¼‰"""</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">list</span>(self.memory)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_get_current_time</span>(<span class="hljs-params">self</span>):
        <span class="hljs-keyword">import</span> datetime
        <span class="hljs-keyword">return</span> datetime.datetime.now().strftime(<span class="hljs-string">"%Y-%m-%d %H:%M:%S"</span>)
</code></pre>
<p><strong>é•¿æœŸè®°å¿†ï¼ˆLTMï¼‰å®ç°</strong></p>
<p>é‡‡ç”¨ SQLite å­˜å…ƒæ•°æ® + FAISS å­˜å‘é‡ çš„æ··åˆæ–¹æ¡ˆï¼Œæ”¯æŒè¯­ä¹‰æ£€ç´¢</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> sqlite3
<span class="hljs-keyword">import</span> faiss
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">from</span> sentence_transformers <span class="hljs-keyword">import</span> SentenceTransformer

<span class="hljs-comment"># 1. åˆå§‹åŒ– Embedding æ¨¡å‹ï¼ˆç”¨äºç”Ÿæˆå†…å®¹å‘é‡ï¼‰</span>
emb_model = SentenceTransformer(<span class="hljs-string">'all-MiniLM-L6-v2'</span>)
emb_dim = <span class="hljs-number">384</span>  <span class="hljs-comment"># all-MiniLM-L6-v2 çš„è¾“å‡ºç»´åº¦</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">LongTermMemory</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, db_path=<span class="hljs-string">"ltm.db"</span>, faiss_index_path=<span class="hljs-string">"ltm_index.faiss"</span></span>):
        <span class="hljs-comment"># åˆå§‹åŒ– SQLite æ•°æ®åº“ï¼ˆå­˜å…ƒæ•°æ®ï¼‰</span>
        self.conn = sqlite3.connect(db_path)
        self._create_table()
        <span class="hljs-comment"># åˆå§‹åŒ– FAISS ç´¢å¼•ï¼ˆå­˜å‘é‡ï¼‰</span>
        self.faiss_index = self._load_faiss_index(faiss_index_path)
        self.faiss_index_path = faiss_index_path
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_create_table</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""åˆ›å»ºå…ƒæ•°æ®è¡¨"""</span>
        cursor = self.conn.cursor()
        cursor.execute(<span class="hljs-string">'''
            CREATE TABLE IF NOT EXISTS memory_entries (
                entry_id TEXT PRIMARY KEY,
                content TEXT,
                memory_type TEXT,
                timestamp TEXT,
                source TEXT,
                relevance_score REAL
            )
        '''</span>)
        self.conn.commit()
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_load_faiss_index</span>(<span class="hljs-params">self, path</span>):
        <span class="hljs-string">"""åŠ è½½æˆ–åˆ›å»º FAISS ç´¢å¼•"""</span>
        <span class="hljs-keyword">try</span>:
            <span class="hljs-keyword">return</span> faiss.read_index(path)
        <span class="hljs-keyword">except</span>:
            index = faiss.IndexFlatL2(emb_dim)  <span class="hljs-comment"># ç®€å•çš„L2è·ç¦»ç´¢å¼•ï¼ˆé€‚åˆå°æ•°æ®ï¼‰</span>
            faiss.write_index(index, path)
            <span class="hljs-keyword">return</span> index
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">store</span>(<span class="hljs-params">self, content, memory_type, source, relevance_score=<span class="hljs-number">0.5</span></span>):
        <span class="hljs-string">"""å­˜å‚¨é•¿æœŸè®°å¿†ï¼ˆå…ƒæ•°æ®â†’SQLiteï¼Œå‘é‡â†’FAISSï¼‰"""</span>
        <span class="hljs-comment"># ç”Ÿæˆ Entry ID å’Œå‘é‡</span>
        entry_id = <span class="hljs-string">f"ltm-<span class="hljs-subst">{self._get_next_id()}</span>"</span>
        embedding = emb_model.encode([content])[<span class="hljs-number">0</span>].astype(np.float32)
        
        <span class="hljs-comment"># 1. å­˜å…¥ SQLite</span>
        cursor = self.conn.cursor()
        cursor.execute(INSERT INTO memory_entries)
        self.conn.commit()
        
        <span class="hljs-comment"># 2. å­˜å…¥ FAISSï¼ˆéœ€å°†å‘é‡æ·»åŠ åˆ°ç´¢å¼•ï¼Œå¹¶ç”¨IDæ˜ å°„ï¼‰</span>
        self.faiss_index.add(np.array([embedding]))
        faiss.write_index(self.faiss_index, self.faiss_index_path)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">retrieve_semantic</span>(<span class="hljs-params">self, query, top_k=<span class="hljs-number">3</span></span>):
        <span class="hljs-string">"""è¯­ä¹‰æ£€ç´¢ï¼šæ‰¾å’Œ query æœ€ç›¸å…³çš„ top_k æ¡è®°å¿†"""</span>
        <span class="hljs-comment"># 1. ç”ŸæˆæŸ¥è¯¢å‘é‡</span>
        query_emb = emb_model.encode([query])[<span class="hljs-number">0</span>].astype(np.float32)
        <span class="hljs-comment"># 2. FAISS æ£€ç´¢ï¼ˆè¿”å›è·ç¦»å’Œç´¢å¼•ï¼‰</span>
        distances, indices = self.faiss_index.search(np.array([query_emb]), top_k)
        <span class="hljs-comment"># 3. ä» SQLite ä¸­è·å–å¯¹åº”å…ƒæ•°æ®</span>
        cursor = self.conn.cursor()
        results = []
        <span class="hljs-keyword">for</span> idx, dist <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(indices[<span class="hljs-number">0</span>], distances[<span class="hljs-number">0</span>]):
            <span class="hljs-comment"># å‡è®¾ FAISS ç´¢å¼•çš„ idx ä¸ SQLite çš„ entry_id æŒ‰é¡ºåºå¯¹åº”ï¼ˆç®€åŒ–å¤„ç†ï¼‰</span>
            entry_id = <span class="hljs-string">f"ltm-<span class="hljs-subst">{idx+<span class="hljs-number">1</span>}</span>"</span>  <span class="hljs-comment"># éœ€æ ¹æ®å®é™…IDæ˜ å°„è°ƒæ•´</span>
            cursor.execute(<span class="hljs-string">'SELECT * FROM memory_entries WHERE entry_id = ?'</span>, (entry_id,))
            entry = cursor.fetchone()
            <span class="hljs-keyword">if</span> entry:
                results.append({
                    <span class="hljs-string">"entry_id"</span>: entry[<span class="hljs-number">0</span>],
                    <span class="hljs-string">"content"</span>: entry[<span class="hljs-number">1</span>],
                    <span class="hljs-string">"similarity"</span>: <span class="hljs-number">1</span> - dist/<span class="hljs-number">2</span>  <span class="hljs-comment"># å°†L2è·ç¦»è½¬ä¸ºç›¸ä¼¼åº¦ï¼ˆ0~1ï¼‰</span>
                })
        <span class="hljs-keyword">return</span> results
</code></pre>
<h3 data-id="heading-9">å°æ€è€ƒ</h3>
<ul>
<li>AI Agent çš„å®šä¹‰è¿™ä¹ˆå®½æ³›ï¼Œæ˜¯å¦æ‰€æœ‰çš„AIåº”ç”¨éƒ½æ˜¯ AI Agentï¼ŒåŒ…æ‹¬å¯¹è¯æœºå™¨äºº</li>
</ul>
<h2 data-id="heading-10">Agent æ¶æ„&amp;&amp;æµç¨‹å›¾</h2>
<h3 data-id="heading-11">å¸¸è§ Agent æ¶æ„</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fk7v4GMrutHRuTzliZwFH1A" target="_blank" title="https://mp.weixin.qq.com/s/k7v4GMrutHRuTzliZwFH1A" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/k7v4GMrutâ€¦</a></p>
<ul>
<li>åæ€æ¨¡å¼ï¼ˆReflection Patternï¼‰</li>
<li>å·¥å…·æ¨¡å¼ï¼ˆTool Use Patternï¼‰</li>
<li>ReAct æ¨ç†ä¸è¡ŒåŠ¨æ¨¡å¼ï¼ˆReasoning &amp; Actingï¼‰</li>
<li>è§„åˆ’æ¨¡å¼ï¼ˆPlanning Patternï¼‰</li>
<li>å¤šæ™ºèƒ½ä½“æ¨¡å¼ï¼ˆMulti - agent Patternï¼‰</li>
</ul>
<h3 data-id="heading-12">AI Agent æ—¶åºå›¾</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmedium.com%2Faingineer%2Fa-comprehensive-reference-guide-to-building-agentic-ai-systems-823319cb282a" target="_blank" title="https://medium.com/aingineer/a-comprehensive-reference-guide-to-building-agentic-ai-systems-823319cb282a" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a5631250996941d2869a3884e8e8e3b1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pit54mnRGXnoo7noo7lv7U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767436556&amp;x-signature=ml99M6yUfIbuKCHUr2l8RT%2BVa9Q%3D" alt="image.png" loading="lazy"/></a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Sidecarä¸å°±æ˜¯åœ¨Podé‡Œå¤šè·‘ä¸€ä¸ªå®¹å™¨å—ï¼]]></title>    <link>https://juejin.cn/post/7588146449005445156</link>    <guid>https://juejin.cn/post/7588146449005445156</guid>    <pubDate>2025-12-27T11:15:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588146449005445156" data-draft-id="7588149079416750134" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Sidecarä¸å°±æ˜¯åœ¨Podé‡Œå¤šè·‘ä¸€ä¸ªå®¹å™¨å—ï¼"/> <meta itemprop="keywords" content="Linux,Kubernetes"/> <meta itemprop="datePublished" content="2025-12-27T11:15:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ydswin"/> <meta itemprop="url" content="https://juejin.cn/user/536217403032472"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Sidecarä¸å°±æ˜¯åœ¨Podé‡Œå¤šè·‘ä¸€ä¸ªå®¹å™¨å—ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/536217403032472/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ydswin
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T11:15:18.000Z" title="Sat Dec 27 2025 11:15:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æ·±å…¥ç†è§£äº‘åŸç”Ÿæ—¶ä»£çš„æ ¸å¿ƒè®¾è®¡æ¨¡å¼</p>
</blockquote>
<p>ä¹çœ‹ä¹‹ä¸‹ï¼ŒSidecar æ¨¡å¼ç¡®å®åªæ˜¯åœ¨ Pod é‡Œå¤šè¿è¡Œä¸€ä¸ªå®¹å™¨è€Œå·²ã€‚ä½†è¿™ç§è¡¨é¢ç†è§£ï¼Œå°±åƒè¯´â€œäº’è”ç½‘ä¸è¿‡æ˜¯ä¸€å †ç”µç¼†å’ŒæœåŠ¡å™¨â€ä¸€æ ·ï¼Œå¿½ç•¥äº†å…¶èƒŒåçš„ç²¾å¦™è®¾è®¡æ€æƒ³å’Œé©å‘½æ€§ä»·å€¼ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥æ·±å…¥æ¢è®¨è¿™ä¸ªçœ‹ä¼¼ç®€å•å´æå…·å¨åŠ›çš„äº‘åŸç”Ÿæ ¸å¿ƒæ¨¡å¼ã€‚</p>
<h2 data-id="heading-0">ä»ä¸€ä¸ªè®¤çŸ¥è¯¯åŒºè¯´èµ·</h2>
<p><strong>"Pod å°±æ˜¯å®¹å™¨"</strong>â€”â€”è¿™æ˜¯è®¸å¤š Kubernetes åˆå­¦è€…æœ€å¸¸è§çš„è¯¯è§£ã€‚äº‹å®ä¸Šï¼ŒPod å¹¶ä¸æ˜¯å®¹å™¨ï¼Œè€Œæ˜¯<strong>å®¹å™¨çš„å®¹å™¨</strong>ï¼Œæ˜¯ä¸€ä¸ªå¯ä»¥å®¹çº³ä¸€ä¸ªæˆ–å¤šä¸ªç´§å¯†å…³è”å®¹å™¨çš„â€œé€»è¾‘ä¸»æœºâ€ã€‚</p>
<p>å½“æˆ‘ä»¬è¯´â€œåœ¨ Pod é‡Œå¤šè·‘ä¸€ä¸ªå®¹å™¨â€æ—¶ï¼Œè¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿæ„å‘³ç€è¿™ä¸ªé¢å¤–çš„å®¹å™¨ä¸ä¸»åº”ç”¨å®¹å™¨å…±äº«ç€å‡ ä¹æ‰€æœ‰å…³é”®èµ„æºï¼š<strong>ç½‘ç»œå‘½åç©ºé—´</strong>ï¼ˆåŒä¸€ IPï¼Œé€šè¿‡ localhost ç›´æ¥é€šä¿¡ï¼‰ã€<strong>å­˜å‚¨å·</strong>ï¼ˆVolumeï¼‰ä»¥åŠ<strong>ç”Ÿå‘½å‘¨æœŸ</strong>ï¼ˆåŒç”Ÿå…±æ­»ï¼‰ã€‚</p>
<p>è¿™ç§å…±äº«å…³ç³»ï¼Œæ­£æ˜¯ Sidecar é­”åŠ›çš„æºæ³‰ã€‚</p>
<h2 data-id="heading-1">Sidecar çš„æœ¬è´¨ï¼šä¸åªæ˜¯â€œå¤šä¸€ä¸ªå®¹å™¨â€</h2>
<h3 data-id="heading-2">è®¾è®¡æ¨¡å¼è€ŒéæŠ€æœ¯å®ç°</h3>
<p>Sidecar æœ¬è´¨ä¸Šæ˜¯ä¸€ç§<strong>å®¹å™¨è®¾è®¡æ¨¡å¼</strong>ï¼Œè€Œä¸æ˜¯ç®€å•çš„æŠ€æœ¯å®ç°ã€‚å®ƒä»£è¡¨äº†ä¸€ç§æ¶æ„å“²å­¦ï¼šå°†è¾…åŠ©åŠŸèƒ½ä»ä¸»ä¸šåŠ¡é€»è¾‘ä¸­è§£è€¦ï¼Œè®©ä¸“ä¸šå®¹å™¨åšä¸“ä¸šäº‹ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œæƒ³è±¡ä¸€ä½ä¸»å¨ï¼ˆä¸»åº”ç”¨å®¹å™¨ï¼‰åœ¨å¨æˆ¿å·¥ä½œã€‚ä¸»å¨ä¸“æ³¨ç‚’èœï¼ˆä¸šåŠ¡é€»è¾‘ï¼‰ï¼Œè€Œé…èœã€æ‰“æ‰«ã€èœå•æ›´æ–°ç­‰æ‚äº‹ç”±åŠ©æ‰‹ï¼ˆSidecar å®¹å™¨ï¼‰å®Œæˆã€‚è¿™ç§åˆ†å·¥åä½œå¤§å¤§æå‡äº†æ•ˆç‡å’Œä¸“ä¸šæ€§ã€‚</p>
<h3 data-id="heading-3">äº‘åŸç”Ÿæ—¶ä»£çš„â€œåŠŸèƒ½æ‰©å±•æ§½â€</h3>
<p>åœ¨äº‘åŸç”Ÿæ¶æ„ä¸­ï¼ŒSidecar å¦‚åŒè®¡ç®—æœºä¸»æ¿ä¸Šçš„<strong>æ‰©å±•æ§½</strong>ï¼Œå…è®¸æˆ‘ä»¬ä¸ºåº”ç”¨åŠ¨æ€æ·»åŠ å„ç§èƒ½åŠ›è€Œæ— é¡»ä¿®æ”¹åº”ç”¨æœ¬èº«ã€‚</p>
<ul>
<li><strong>æ—¥å¿—æ”¶é›†</strong>ï¼šä¸»å®¹å™¨å†™æ—¥å¿—åˆ°å…±äº«å·ï¼ŒSidecar å®¹å™¨è´Ÿè´£æ”¶é›†å’Œå‘é€åˆ°æ—¥å¿—ç³»ç»Ÿ</li>
<li><strong>æœåŠ¡ç½‘æ ¼</strong>ï¼šå¦‚ Istio ä½¿ç”¨ Envoy ä½œä¸º Sidecar ä»£ç†ï¼Œå®ç°æœåŠ¡é—´é€šä¿¡çš„ç›‘æ§ã€å®‰å…¨å’Œæ§åˆ¶</li>
<li><strong>é…ç½®ç®¡ç†</strong>ï¼šSidecar ç›‘å¬é…ç½®ä¸­å¿ƒï¼ŒåŠ¨æ€æ›´æ–°é…ç½®æ–‡ä»¶ï¼Œä¸»å®¹å™¨åªéœ€è¯»å–æœ¬åœ°æ–‡ä»¶</li>
<li><strong>å®‰å…¨ä»£ç†</strong>ï¼šå¦‚ Vault Agent Sidecarï¼Œè´Ÿè´£ä¸å¯†é’¥ç®¡ç†ç³»ç»Ÿäº¤äº’ï¼Œä¸»åº”ç”¨æ— æ„ŸçŸ¥</li>
</ul>
<h2 data-id="heading-4">ä¸ºä»€ä¹ˆâ€œå¤šè·‘ä¸€ä¸ªå®¹å™¨â€å¦‚æ­¤é‡è¦ï¼Ÿ</h2>
<h3 data-id="heading-5">1. æ— ä¾µå…¥å¼æ¶æ„è®¾è®¡</h3>
<p>ä¼ ç»Ÿåšæ³•ä¸­ï¼Œè¦ä¸ºåº”ç”¨æ·»åŠ ç›‘æ§ã€å®‰å…¨æˆ–é€šä¿¡åŠŸèƒ½ï¼Œé€šå¸¸éœ€è¦ä¿®æ”¹åº”ç”¨ä»£ç ã€‚è€Œ Sidecar æ¨¡å¼é€šè¿‡â€œå¤šè·‘ä¸€ä¸ªå®¹å™¨â€å®ç°äº†<strong>é›¶ä¾µå…¥</strong>çš„åŠŸèƒ½å¢å¼ºã€‚</p>
<p>ä»¥æœåŠ¡ç½‘æ ¼ä¸ºä¾‹ï¼Œåº”ç”¨ä»£ç æ— éœ€å…³å¿ƒæœåŠ¡å‘ç°ã€ç†”æ–­ã€é‡è¯•ç­‰å¤æ‚é€»è¾‘ï¼Œæ‰€æœ‰è¿™äº›éƒ½ç”± Sidecar ä»£ç†é€æ˜å¤„ç†ã€‚</p>
<h3 data-id="heading-6">2. æŠ€æœ¯æ ˆæ— å…³æ€§</h3>
<p>Sidecar å®¹å™¨å¯ä»¥ç”¨ä»»ä½•è¯­è¨€ç¼–å†™ï¼Œä¸ä¸»åº”ç”¨å®¹å™¨çš„æŠ€æœ¯æ ˆæ— å…³ã€‚ä¸€ä¸ª Java åº”ç”¨å¯ä»¥æ­é…ä¸€ä¸ª Go æˆ– Rust ç¼–å†™çš„ Sidecarï¼Œå……åˆ†å‘æŒ¥å„è¯­è¨€ä¼˜åŠ¿ã€‚</p>
<h3 data-id="heading-7">3. ç‹¬ç«‹æ€§å’Œå¯å¤ç”¨æ€§</h3>
<p>Sidecar å®¹å™¨å¯ä»¥<strong>ç‹¬ç«‹å¼€å‘ã€å‡çº§å’Œéƒ¨ç½²</strong>ã€‚ä¸€ä¸ªç²¾å¿ƒè®¾è®¡çš„æ—¥å¿—æ”¶é›† Sidecar å¯ä»¥è¢«å…¨å…¬å¸æ‰€æœ‰æœåŠ¡å¤ç”¨ï¼Œå¤§å¤§é™ä½å¼€å‘ç»´æŠ¤æˆæœ¬ã€‚</p>
<h2 data-id="heading-8">å®æˆ˜ç¤ºä¾‹ï¼šSidecar å¦‚ä½•å·¥ä½œ</h2>
<p>è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå…·ä½“ä¾‹å­çœ‹çœ‹â€œå¤šè·‘ä¸€ä¸ªå®¹å™¨â€å¦‚ä½•å®é™…è¿ä½œï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Pod</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">nginx-with-logger</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">volumes:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">nginx-logs</span>
    <span class="hljs-attr">emptyDir:</span> {}  <span class="hljs-comment"># ä¸´æ—¶å…±äº«ç›®å½•</span>

  <span class="hljs-attr">containers:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">nginx</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">nginx</span>
    <span class="hljs-attr">volumeMounts:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">nginx-logs</span>
      <span class="hljs-attr">mountPath:</span> <span class="hljs-string">/var/log/nginx</span>

  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">log-sidecar</span>  <span class="hljs-comment"># è¿™å°±æ˜¯â€œå¤šè·‘â€çš„å®¹å™¨</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">busybox</span>
    <span class="hljs-attr">command:</span> [<span class="hljs-string">"/bin/sh"</span>, <span class="hljs-string">"-c"</span>]
    <span class="hljs-attr">args:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">while</span> <span class="hljs-literal">true</span><span class="hljs-string">;</span> <span class="hljs-string">do</span>
        <span class="hljs-string">if</span> [ <span class="hljs-string">-f</span> <span class="hljs-string">/var/log/nginx/access.log</span> ]<span class="hljs-string">;</span> <span class="hljs-string">then</span>
          <span class="hljs-string">tail</span> <span class="hljs-string">-n</span> <span class="hljs-number">10</span> <span class="hljs-string">/var/log/nginx/access.log;</span>
        <span class="hljs-string">fi;</span>
        <span class="hljs-string">sleep</span> <span class="hljs-number">5</span><span class="hljs-string">;</span>
      <span class="hljs-string">done</span>
    <span class="hljs-attr">volumeMounts:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">nginx-logs</span>
      <span class="hljs-attr">mountPath:</span> <span class="hljs-string">/var/log/nginx</span>
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š</p>
<ul>
<li><strong>nginx å®¹å™¨</strong>ï¼šä¸“æ³¨æä¾› Web æœåŠ¡ï¼Œå°†æ—¥å¿—å†™å…¥ <code>/var/log/nginx</code></li>
<li><strong>log-sidecar å®¹å™¨</strong>ï¼šè´Ÿè´£è¯»å–æ—¥å¿—å¹¶å¤„ç†ï¼ˆç¤ºä¾‹ä¸­åªæ˜¯æ‰“å°ï¼Œå®é™…å¯å‘é€åˆ°æ—¥å¿—ç³»ç»Ÿï¼‰</li>
</ul>
<p>ä¸¤ä¸ªå®¹å™¨é€šè¿‡ <strong>emptyDir å·</strong>å…±äº«æ—¥å¿—ç›®å½•ï¼Œé€šè¿‡ <strong>localhost</strong> é€šä¿¡ï¼ˆå¦‚æœéœ€è¦ï¼‰ï¼Œå…±åŒæ„æˆä¸€ä¸ªå®Œæ•´çš„ Web æœåŠ¡å•å…ƒã€‚</p>
<h2 data-id="heading-9">è¶…è¶Šâ€œå¤šä¸€ä¸ªå®¹å™¨â€ï¼šSidecar çš„é«˜çº§æ¨¡å¼</h2>
<h3 data-id="heading-10">æœåŠ¡ç½‘æ ¼ä¸­çš„ Sidecar</h3>
<p>åœ¨æœåŠ¡ç½‘æ ¼ï¼ˆå¦‚ Istioï¼‰ä¸­ï¼ŒSidecar æ¨¡å¼å‘æŒ¥åˆ°æè‡´ã€‚æ¯ä¸ª Pod ä¸­æ³¨å…¥çš„ Envoy ä»£ç†å®¹å™¨é€æ˜åœ°æ‹¦æˆªå’Œå¤„ç†æ‰€æœ‰è¿›å‡ºæµé‡ï¼Œå®ç°ç²¾ç»†åŒ–çš„æµé‡ç®¡ç†ã€å®‰å…¨åŠ å¯†å’Œå¯è§‚æµ‹æ€§ã€‚</p>
<p>è¿™æ—¶ï¼Œâ€œå¤šè·‘çš„å®¹å™¨â€ä¸å†æ˜¯ç®€å•çš„è¾…åŠ©è§’è‰²ï¼Œè€Œæ˜¯æ„æˆäº†<strong>åˆ†å¸ƒå¼ç³»ç»Ÿçš„é€šä¿¡åŸºç¡€è®¾æ–½</strong>ã€‚</p>
<h3 data-id="heading-11">é€‚é…å™¨æ¨¡å¼</h3>
<p>Sidecar å¯ä»¥ä½œä¸º<strong>é€‚é…å™¨</strong>ï¼Œåœ¨ä¸åŒæ¥å£æˆ–åè®®é—´è¿›è¡Œè½¬æ¢ã€‚ä¾‹å¦‚ï¼Œä¸»å®¹å™¨æš´éœ² <code>/metrics</code> æ¥å£ï¼Œè€Œç›‘æ§ç³»ç»Ÿéœ€è¦ <code>/health</code> æ¥å£ï¼ŒSidecar å®¹å™¨è´Ÿè´£åè®®è½¬æ¢ï¼Œæ— éœ€ä¿®æ”¹ä¸»åº”ç”¨ã€‚</p>
<h2 data-id="heading-12">æœ€ä½³å®è·µä¸æ³¨æ„äº‹é¡¹</h2>
<p>è™½ç„¶ Sidecar åŠŸèƒ½å¼ºå¤§ï¼Œä½†ä¹Ÿéœ€è¦è°¨æ…ä½¿ç”¨ï¼š</p>
<h3 data-id="heading-13">å¯åŠ¨é¡ºåºåè°ƒ</h3>
<p>Kubernetes ä¸ä¿è¯å®¹å™¨å¯åŠ¨é¡ºåºï¼Œå¦‚æœ Sidecar éœ€è¦å…ˆäºä¸»å®¹å™¨å°±ç»ªï¼ˆå¦‚é…ç½®åŒæ­¥ Sidecarï¼‰ï¼Œéœ€è¦é€šè¿‡ initContainers æˆ–å¥åº·æ£€æŸ¥æœºåˆ¶åè°ƒã€‚</p>
<h3 data-id="heading-14">èµ„æºç®¡ç†</h3>
<p>ä¸º Sidecar è®¾ç½®åˆç†çš„èµ„æºè¯·æ±‚å’Œé™åˆ¶ï¼Œé¿å…ä¸ä¸»å®¹å™¨èµ„æºäº‰æŠ¢ã€‚</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">resources:</span>
  <span class="hljs-attr">requests:</span>
    <span class="hljs-attr">cpu:</span> <span class="hljs-string">100m</span>
    <span class="hljs-attr">memory:</span> <span class="hljs-string">128Mi</span>
  <span class="hljs-attr">limits:</span>
    <span class="hljs-attr">cpu:</span> <span class="hljs-string">200m</span>
    <span class="hljs-attr">memory:</span> <span class="hljs-string">256Mi</span>
</code></pre>
<h3 data-id="heading-15">é¿å…è¿‡åº¦ä½¿ç”¨</h3>
<p>ä¸æ˜¯æ‰€æœ‰åŠŸèƒ½éƒ½é€‚åˆ Sidecar æ¨¡å¼ã€‚å¦‚æœæ¶æ„ä¸å¤æ‚ï¼Œç›´æ¥ä½¿ç”¨ API ç½‘å…³æˆ–ä¼ ç»Ÿä¸­é—´ä»¶å¯èƒ½æ›´ç®€å•ã€‚</p>
<h2 data-id="heading-16">ä¸å…¶ä»–æ¨¡å¼çš„å…³ç³»</h2>
<h3 data-id="heading-17">Sidecar vs Init å®¹å™¨</h3>
<ul>
<li><strong>Init å®¹å™¨</strong>ï¼šåœ¨ Pod å¯åŠ¨å‰è¿è¡Œï¼Œå®Œæˆå³é€€å‡ºï¼Œç”¨äºåˆå§‹åŒ–å·¥ä½œ</li>
<li><strong>Sidecar å®¹å™¨</strong>ï¼šä¸ä¸»å®¹å™¨å¹¶è¡Œè¿è¡Œï¼Œåœ¨æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…æä¾›è¾…åŠ©åŠŸèƒ½</li>
</ul>
<h3 data-id="heading-18">Sidecar vs DaemonSet</h3>
<ul>
<li><strong>Sidecar</strong>ï¼šæ¯ä¸ªåº”ç”¨å®ä¾‹ä¸€ä¸ªï¼Œä¸ç‰¹å®šåº”ç”¨ç´§å¯†ç»‘å®š</li>
<li><strong>DaemonSet</strong>ï¼šæ¯ä¸ªèŠ‚ç‚¹ä¸€ä¸ªï¼Œæä¾›èŠ‚ç‚¹çº§åˆ«æœåŠ¡</li>
</ul>
<h2 data-id="heading-19">æ€»ç»“ï¼šç®€å•æ¦‚å¿µèƒŒåçš„æ·±è¿œå½±å“</h2>
<p>å›åˆ°æœ€åˆçš„é—®é¢˜ï¼šâ€œSidecar ä¸å°±æ˜¯ Pod é‡Œå¤šè·‘ä¸€ä¸ªå®¹å™¨å—ï¼Ÿâ€â€”â€”<strong>æ˜¯ï¼Œä½†è¿œä¸æ­¢äºæ­¤</strong>ã€‚</p>
<p>è¿™ä¸ªçœ‹ä¼¼ç®€å•çš„â€œå¤šè·‘ä¸€ä¸ªå®¹å™¨â€è®¾è®¡ï¼Œå®é™…ä¸Šä»£è¡¨äº†äº‘åŸç”Ÿæ¶æ„çš„æ ¸å¿ƒæ€æƒ³ï¼š<strong>å…³æ³¨ç‚¹åˆ†ç¦»ã€æ¾æ•£è€¦åˆã€å¯å¤ç”¨æ€§</strong>ã€‚å®ƒè®©åº”ç”¨å¼€å‘è€…ä¸“æ³¨ä¸šåŠ¡é€»è¾‘ï¼Œè€Œå°†é€šç”¨èƒ½åŠ›ä¸‹æ²‰åˆ°åŸºç¡€è®¾æ–½å±‚ã€‚</p>
<p>ä»ç®€å•çš„æ—¥å¿—æ”¶é›†åˆ°å¤æ‚çš„æœåŠ¡ç½‘æ ¼ï¼Œä»é…ç½®ç®¡ç†åˆ°å®‰å…¨ä»£ç†ï¼ŒSidecar æ¨¡å¼å·²ç»æˆä¸ºç°ä»£äº‘åŸç”Ÿæ¶æ„ä¸å¯æˆ–ç¼ºçš„ç»„æˆéƒ¨åˆ†ã€‚å®ƒä¸æ˜¯ä»€ä¹ˆé“¶å¼¹ï¼Œä½†å½“åˆç†ä½¿ç”¨æ—¶ï¼Œç¡®å®èƒ½å¤Ÿæå¤§åœ°æå‡ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§ã€å¯è§‚æµ‹æ€§å’Œçµæ´»æ€§ã€‚</p>
<p>æ‰€ä»¥ï¼Œéœ€è¦ç†è§£è¿™ç®€å•è¡¨è±¡èƒŒåè•´å«çš„æ·±åšæ¶æ„æ™ºæ…§ã€‚</p>
<p><em>æ˜¯çš„ï¼Œå®ƒå°±æ˜¯å¤šè·‘ä¸€ä¸ªå®¹å™¨ï¼Œä½†æ­£æ˜¯è¿™ä¸ªâ€œå¤šè·‘â€çš„å®¹å™¨ï¼Œè®©äº‘åŸç”Ÿåº”ç”¨æ¶æ„å˜å¾—å¦‚æ­¤å¼ºå¤§è€Œä¼˜é›…ã€‚</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» Haskell åˆ° Goï¼šè®°ä¸€æ¬¡ RSA åŠ å¯†åè®®ç§»æ¤ä¸â€œå­—èŠ‚é™·é˜±â€æ’æŸ¥å®å½•]]></title>    <link>https://juejin.cn/post/7588093282530754612</link>    <guid>https://juejin.cn/post/7588093282530754612</guid>    <pubDate>2025-12-28T01:04:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588093282530754612" data-draft-id="7588092534162309120" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» Haskell åˆ° Goï¼šè®°ä¸€æ¬¡ RSA åŠ å¯†åè®®ç§»æ¤ä¸â€œå­—èŠ‚é™·é˜±â€æ’æŸ¥å®å½•"/> <meta itemprop="keywords" content="Go,Haskell"/> <meta itemprop="datePublished" content="2025-12-28T01:04:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Lupino"/> <meta itemprop="url" content="https://juejin.cn/user/3051900006579256"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» Haskell åˆ° Goï¼šè®°ä¸€æ¬¡ RSA åŠ å¯†åè®®ç§»æ¤ä¸â€œå­—èŠ‚é™·é˜±â€æ’æŸ¥å®å½•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3051900006579256/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Lupino
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T01:04:45.000Z" title="Sun Dec 28 2025 01:04:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. èƒŒæ™¯ä¸ç›®æ ‡</h2>
<p>æœ¬æ¬¡ä»»åŠ¡çš„ç›®æ ‡æ˜¯å°†ä¸€ä¸ªç”¨ Haskell ç¼–å†™çš„åŠ å¯†ä¼ è¾“åè®®ï¼ˆ<code>Metro.TP.RSA</code>ï¼‰ç§»æ¤åˆ° Go è¯­è¨€ä¸­ï¼Œå¹¶å°è£…ä¸ºæ ‡å‡†çš„ <code>net.Conn</code> æ¥å£ï¼Œä»¥ä¾¿æ›¿æ¢åŸæœ‰çš„ <code>XORConn</code> å®ç°ã€‚</p>
<p>è¯¥åè®®ä¸ä»…ä»…æ˜¯ç®€å•çš„åŠ å¯†ï¼Œè¿˜æ˜¯ä¸€ä¸ªå¸¦æœ‰çŠ¶æ€åå•†çš„æ··åˆåè®®ï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹ç‰¹æ€§ï¼š</p>
<ul>
<li>
<p><strong>èº«ä»½æ¡æ‰‹</strong>ï¼šåŸºäº RSA å…¬ç§é’¥äº¤æ¢æŒ‡çº¹ï¼ˆSHA256ï¼‰ï¼ŒéªŒè¯å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„åˆæ³•æ€§ã€‚</p>
</li>
<li>
<p><strong>æ¨¡å¼åå•†</strong>ï¼šæ”¯æŒä¸‰ç§ä¼ è¾“æ¨¡å¼ï¼š</p>
<ul>
<li><code>Plain</code> (0): æ˜æ–‡ç›´è¿ã€‚</li>
<li><code>RSA</code> (1): å…¨ç¨‹ä½¿ç”¨ RSA-OAEP åŠ å¯†ï¼ˆä¼ ç»Ÿ/å…¼å®¹æ¨¡å¼ï¼‰ã€‚</li>
<li><code>AES</code> (2): ä½¿ç”¨åå•†å‡ºçš„ Session Key è¿›è¡Œ AES-256-CTR åŠ å¯†ï¼ˆé«˜æ€§èƒ½æ¨¡å¼ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-1">2. é‡åˆ°çš„æ ¸å¿ƒé—®é¢˜</h2>
<p>åœ¨åˆæ­¥ç§»æ¤å®Œæˆåï¼Œæˆ‘ä»¬é‡åˆ°äº†ä¸€ä¸ªéå¸¸è¯¡å¼‚çš„ç°è±¡ï¼š</p>
<ul>
<li><strong>Plain æ¨¡å¼</strong>ï¼šä¸€åˆ‡æ­£å¸¸ï¼Œæ¡æ‰‹æˆåŠŸï¼Œæ•°æ®ä¼ è¾“æµç•…ã€‚</li>
<li><strong>AES/RSA æ¨¡å¼</strong>ï¼šæ¡æ‰‹çœ‹ä¼¼å®Œæˆï¼Œä½†éšåè¿æ¥é™·å…¥â€œå‡æ­»â€çŠ¶æ€ï¼ˆHangï¼‰ï¼Œæ— æ³•è¯»å–æ•°æ®ã€‚</li>
</ul>
<p>é€šå¸¸å¦‚æœæ˜¯åŠ å¯†ç®—æ³•é”™è¯¯ï¼ˆå¦‚ IV é”™è¯¯ã€Padding é”™è¯¯ï¼‰ï¼Œç¨‹åºå¾€å¾€ä¼šç›´æ¥æŠ¥é”™ï¼ˆDecryption Failedï¼‰ã€‚è¿™ç§â€œå¡ä½â€çš„ç°è±¡é€šå¸¸æ„å‘³ç€<strong>åè®®çŠ¶æ€æœºä¸åŒæ­¥</strong>æˆ–**æ•°æ®åˆ†åŒ…ï¼ˆFramingï¼‰**å‡ºäº†é—®é¢˜ã€‚</p>
<h2 data-id="heading-2">3. æ·±åº¦æ’æŸ¥ï¼šå­—èŠ‚çº§â€œè„‘è£‚â€</h2>
<p>ç»è¿‡æ’æŸ¥ï¼Œé—®é¢˜çš„æ ¹æºéšè—åœ¨ Haskell å’Œ Go å¯¹æšä¸¾ç±»å‹ï¼ˆEnumï¼‰é»˜è®¤åºåˆ—åŒ–è¡Œä¸ºçš„å·®å¼‚ä¸­ã€‚</p>
<h3 data-id="heading-3">3.1 åè®®å·®å¼‚åˆ†æ</h3>
<ul>
<li>
<p>Haskell ç«¯ (Data.Binary)ï¼š</p>
<p>RSAMode æ´¾ç”Ÿè‡ª Genericã€‚å¯¹äºè¿™ç§ç®€å•çš„ Sum Typeï¼ˆæšä¸¾ï¼‰ï¼ŒHaskell çš„æ ‡å‡†äºŒè¿›åˆ¶åº“å°†å…¶ç¼–ç ä¸º 1 ä¸ªå­—èŠ‚ çš„ç´¢å¼•å€¼ï¼ˆ0, 1, 2ï¼‰ã€‚</p>
</li>
<li>
<p>Go ç«¯ (æ—§ä»£ç )ï¼š</p>
<p>æˆ‘ä»¬åœ¨å‘é€æ¨¡å¼æ—¶ï¼Œä¹ æƒ¯æ€§åœ°ä½¿ç”¨äº† binary.BigEndian.PutUint64ï¼Œå‘é€äº† 8 ä¸ªå­—èŠ‚ã€‚</p>
</li>
</ul>
<h3 data-id="heading-4">3.2 æ•…éšœé‡ç°</h3>
<p>å½“ Go å®¢æˆ·ç«¯è¯·æ±‚ <strong>AES æ¨¡å¼ (2)</strong> æ—¶ï¼Œå‘ç”Ÿäº†ä»¥ä¸‹äº¤äº’ï¼š</p>
<ol>
<li>
<p><strong>Go å‘é€</strong>ï¼š<code>00 00 00 00 00 00 00 02</code> (8å­—èŠ‚)ã€‚</p>
</li>
<li>
<p><strong>Haskell æ¥æ”¶</strong>ï¼šè¯»å– <strong>1ä¸ªå­—èŠ‚</strong>ï¼Œè¯»åˆ°äº† <code>00</code>ã€‚</p>
</li>
<li>
<p><strong>Haskell çŠ¶æ€</strong>ï¼š<code>00</code> å¯¹åº” <code>Plain</code> æ¨¡å¼ã€‚Haskell è®¤ä¸ºåå•†ç»“æŸï¼Œè¿›å…¥æ˜æ–‡æ¥æ”¶çŠ¶æ€ã€‚</p>
</li>
<li>
<p><strong>Go çŠ¶æ€</strong>ï¼šå‘é€å®Œæ¯•ï¼Œè®¤ä¸ºåå•†æˆåŠŸï¼Œè¿›å…¥ AES æ¨¡å¼ï¼Œå¼€å§‹å‘é€åŠ å¯†åçš„ Session Keyã€‚</p>
</li>
<li>
<p><strong>ç»“æœï¼ˆè„‘è£‚ï¼‰</strong> ï¼š</p>
<ul>
<li>Haskell åœ¨ç­‰æ˜æ–‡åº”ç”¨æ•°æ®ã€‚</li>
<li>Go å‘é€äº†ä¸€å †åŠ å¯†çš„äºŒè¿›åˆ¶æµï¼ˆSession Keyï¼‰ã€‚</li>
<li>Haskell è¯»å…¥è¿™äº›ä¹±ç è¯•å›¾å¤„ç†ï¼Œå¯¼è‡´é€»è¾‘é”™ä¹±æˆ–åœ¨ç­‰å¾…åç»­æ•°æ®åŒ…å¤´ï¼ˆLength Headerï¼‰æ—¶æ— é™é˜»å¡ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-5">3.3 ä¸ºä»€ä¹ˆ Plain æ¨¡å¼èƒ½è·‘é€šï¼Ÿ</h3>
<p>è¿™æ˜¯ä¸€ä¸ªæå…·è¿·æƒ‘æ€§çš„å·§åˆã€‚</p>
<p>å½“ Go è¯·æ±‚ Plain (0) æ—¶ï¼Œå‘é€çš„æ˜¯ 00 00 00 00 00 00 00 00ã€‚</p>
<p>Haskell è¯»å–ç¬¬ä¸€ä¸ªå­—èŠ‚ 00ï¼Œè§£æä¸º Plainã€‚</p>
<p>è™½ç„¶ Go å¤šå‘äº†7ä¸ªå­—èŠ‚çš„ 00ï¼Œä½†å› ä¸ºåç»­æ˜¯æ˜æ–‡ä¼ è¾“ï¼Œè¿™å‡ ä¸ªç©ºå­—èŠ‚å¯èƒ½è¢«åº”ç”¨å±‚å¿½ç•¥æˆ–æ°å¥½æœªé€ æˆä¸¥é‡ç ´åï¼ˆè§†å…·ä½“åº”ç”¨å±‚åè®®è€Œå®šï¼‰ï¼Œä»è€Œæ©ç›–äº† bugã€‚</p>
<h2 data-id="heading-6">4. è§£å†³æ–¹æ¡ˆä¸æœ€ç»ˆå®ç°</h2>
<h3 data-id="heading-7">4.1 ä¿®å¤åºåˆ—åŒ–</h3>
<p>å°† Go ä»£ç ä¸­çš„æ¨¡å¼å‘é€ä¸æ¥æ”¶ä¸¥æ ¼é™åˆ¶ä¸º <strong>1 å­—èŠ‚</strong>ï¼š</p>
<p>Go</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// å‘é€ (Client)</span>
modeByte := []<span class="hljs-type">byte</span>{<span class="hljs-type">byte</span>(mode)}
c.sendDataOAEP(modeByte)

<span class="hljs-comment">// æ¥æ”¶ (Server)</span>
modeBytes, _ := c.recvDataOAEP()
mode := <span class="hljs-type">int</span>(modeBytes[<span class="hljs-number">0</span>])
</code></pre>
<h3 data-id="heading-8">4.2 å®Œå–„æµå¼å¤„ç†</h3>
<p>ç”±äº AES-CTR æ˜¯æµåŠ å¯†ï¼Œä½†åè®®å®šä¹‰äº† <code>[Length][IV][Body]</code> çš„å°åŒ…æ ¼å¼ï¼Œè€Œ <code>net.Conn.Read</code> æ˜¯æµå¼çš„ã€‚ä¸ºäº†é˜²æ­¢ TCP ç²˜åŒ…æˆ–æ–­åŒ…å¯¼è‡´è§£å¯†å¤±è´¥ï¼Œæˆ‘ä»¬åœ¨ Go ç»“æ„ä½“ä¸­å¼•å…¥äº† <code>bytes.Buffer</code>ï¼š</p>
<p>Go</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">type</span> RSAConn <span class="hljs-keyword">struct</span> {
    net.Conn
    <span class="hljs-comment">// ... keys ...</span>
    readBuf bytes.Buffer <span class="hljs-comment">// å…³é”®ï¼šå†…éƒ¨ç¼“å†²</span>
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(c *RSAConn)</span></span> Read(b []<span class="hljs-type">byte</span>) (n <span class="hljs-type">int</span>, err <span class="hljs-type">error</span>) {
    <span class="hljs-comment">// ä¼˜å…ˆä»ç¼“å†²åŒºåå‡ºå·²è§£å¯†æ•°æ®</span>
    <span class="hljs-keyword">if</span> c.readBuf.Len() &gt; <span class="hljs-number">0</span> {
        <span class="hljs-keyword">return</span> c.readBuf.Read(b)
    }
    <span class="hljs-comment">// ç¼“å†²åŒºç©ºï¼Œä»ç½‘ç»œè¯»å–å®Œæ•´çš„ä¸€ä¸ªåŠ å¯†åŒ…ï¼Œè§£å¯†åå¡«å…¥ç¼“å†²åŒº</span>
    <span class="hljs-comment">// ... recvDataAES logic ...</span>
}
</code></pre>
<h2 data-id="heading-9">5. æ€»ç»“ä¸ç»éªŒ</h2>
<ol>
<li><strong>è·¨è¯­è¨€åè®®å¿…é¡»ç²¾ç¡®åˆ°å­—èŠ‚</strong>ï¼šä¸è¦å‡è®¾ <code>Int</code> æ˜¯ 4 å­—èŠ‚è¿˜æ˜¯ 8 å­—èŠ‚ï¼Œä¹Ÿä¸è¦ä¾èµ–è¯­è¨€ç‰¹å®šçš„åºåˆ—åŒ–åº“ï¼ˆå¦‚ Haskell çš„ <code>Generic</code> æˆ– Go çš„ <code>gob</code>ï¼‰ï¼Œé™¤éä½ å®Œå…¨æŒæ§ä¸¤ç«¯çš„å®ç°ã€‚æ˜ç¡®è§„å®š <code>uint8</code>ã€<code>uint64</code> (BigEndian) æ˜¯æœ€ç¨³å¦¥çš„ã€‚</li>
<li><strong>è­¦æƒ•â€œéƒ¨åˆ†æ­£å¸¸â€çš„ Bug</strong>ï¼šPlain æ¨¡å¼çš„æ­£å¸¸è¿è¡Œæ˜¯æœ€å¤§çš„å¹²æ‰°é¡¹ï¼Œå®ƒè®©æˆ‘ä»¬è¯¯ä»¥ä¸ºæ¡æ‰‹é€»è¾‘æ˜¯å®Œç¾çš„ï¼Œä»è€Œå°†æ’æŸ¥æ–¹å‘å¼•å‘äº†å¤æ‚çš„åŠ å¯†ç®—æ³•æœ¬èº«ï¼Œå®é™…ä¸Šé—®é¢˜åªæ˜¯ç®€å•çš„ç±»å‹å®½åº¦ä¸åŒ¹é…ã€‚</li>
<li><strong>æµå¼æ¥å£çš„é€‚é…</strong>ï¼šå°†åŸºäºåŒ…ï¼ˆPacket-basedï¼‰çš„åè®®é€‚é…åˆ°æµï¼ˆStream-basedï¼‰æ¥å£ï¼ˆå¦‚ <code>io.Reader</code>ï¼‰æ—¶ï¼Œ<strong>å¿…é¡»</strong>å®ç°å†…éƒ¨ç¼“å†²æœºåˆ¶ï¼Œå¦åˆ™ææ˜“å‡ºç°ç²˜åŒ…å¤„ç†ä¸å½“çš„é—®é¢˜ã€‚</li>
</ol>
<p>é€šè¿‡è¿™æ¬¡ä¿®å¤ï¼Œæˆ‘ä»¬æˆåŠŸå®ç°äº†ä¸€ä¸ªå…¼å®¹ Haskell åç«¯ã€æ”¯æŒ RSA èº«ä»½éªŒè¯å’Œ AES é«˜é€ŸåŠ å¯†çš„ Go è¯­è¨€ä¼ è¾“å±‚æ¨¡å—ï¼Œä¸ºåç»­çš„æœåŠ¡ç«¯åŠŸèƒ½æ‰©å±•ï¼ˆå¦‚ CS2 å¼€ç®±æœåŠ¡ï¼‰æ‰“ä¸‹äº†åšå®åŸºç¡€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[çŸ­æ€è€ƒç¬¬266å¤©ï¼Œç©IPè·¯ä¸Šçš„å‡ ç‚¹æ„Ÿæ‚Ÿï¼Œè¿™å‡ ç‚¹å¾ˆé‡è¦ï¼]]></title>    <link>https://juejin.cn/post/7588300640599146502</link>    <guid>https://juejin.cn/post/7588300640599146502</guid>    <pubDate>2025-12-28T00:57:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588300640599146502" data-draft-id="7588191506606374918" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="çŸ­æ€è€ƒç¬¬266å¤©ï¼Œç©IPè·¯ä¸Šçš„å‡ ç‚¹æ„Ÿæ‚Ÿï¼Œè¿™å‡ ç‚¹å¾ˆé‡è¦ï¼"/> <meta itemprop="keywords" content="åˆ›ä¸š,å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2025-12-28T00:57:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜ç æ­Œ"/> <meta itemprop="url" content="https://juejin.cn/user/764915820529831"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            çŸ­æ€è€ƒç¬¬266å¤©ï¼Œç©IPè·¯ä¸Šçš„å‡ ç‚¹æ„Ÿæ‚Ÿï¼Œè¿™å‡ ç‚¹å¾ˆé‡è¦ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/764915820529831/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜ç æ­Œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T00:57:58.000Z" title="Sun Dec 28 2025 00:57:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>1ã€ç æ‰æ— å¤åˆ©æˆ–è€…å¤åˆ©ä¸é«˜çš„é¡¹ç›®ï¼Œåˆ æ‰æ— ä»·å€¼çš„å¥½å‹ï¼Œåšå‡æ³•ã€‚ä¸“æ³¨æœ‰é•¿çº¿ç§¯ç´¯çš„çŸ­æ–‡å†™ä½œã€å…¬ä¼—å·ä¸“æ ã€ç¤¾ç¾¤åˆä¼™äººç­‰</p>
<p>2ã€ç©IPï¼Œ ä¸€å®šè¦å¿˜äº†é˜…è¯»é‡æŒ‡æ ‡ï¼Œç”¨å¤„ä¸å¤§ã€‚æ ¸å¿ƒæ˜¯æ–‡ç« è·å–çš„ç²¾å‡†ç”¨æˆ·ï¼Œç‚¹èµã€æ”¶è—ã€å’¨è¯¢ã€å¯¼ç§åŸŸã€æˆäº¤ç­‰æ•°æ®</p>
<p>3ã€â€œæ—¥å…¥800â€ï¼Œæ€»èƒ½çœ‹åˆ°ç±»ä¼¼çš„ç®€ä»‹å¼•æµï¼Œå»å¸å¼•å‰¯ä¸šå°ç™½ä»˜è´¹å­¦ä¹ ã€‚ç±»ä¼¼è¿™æ ·çš„ï¼Œä¸€å¾‹åˆ«ç†ï¼Œæ™®é€šäººå‡ ä¹ä¸å¯èƒ½ï¼Œå¤§æ¦‚ç‡æ˜¯èµšä½ å­¦è´¹</p>
<p>4ã€å¯¹å®Œå…¨æ²¡åŸºç¡€çš„åŒå­¦ç©å‰¯ä¸šIPï¼Œ è¦åšå¥½3å¹´ä¹‹å†…æ”¶å…¥ä¸ç¨³å®šçš„å¿ƒç†å‡†å¤‡ï¼Œæ„å‘³ç€ä½ å¿…é¡»æœ‰ä¸€ä»½ä¸»ä¸šï¼Œç¡®ä¿æœ‰åŸºç¡€çš„æ”¶å…¥æ¥æºï¼Œåˆ«ç›²ç›®è£¸è¾ã€‚ä¸€äººä¼ä¸šæ¢ç´¢éœ€è¦æ—¶é—´å‘¨æœŸï¼Œå¾ˆé•¿ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å“åº”å¼ç¼–ç¨‹ä¸åªæœ‰æ¦‚å¿µï¼ä¸‡å­—é•¿æ–‡ + ä»£ç ç¤ºä¾‹ï¼Œæ‰‹æŠŠæ‰‹å¸¦ä½ ç©è½¬ RxJava]]></title>    <link>https://juejin.cn/post/7588095884070273024</link>    <guid>https://juejin.cn/post/7588095884070273024</guid>    <pubDate>2025-12-28T01:07:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588095884070273024" data-draft-id="7588093282530770996" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å“åº”å¼ç¼–ç¨‹ä¸åªæœ‰æ¦‚å¿µï¼ä¸‡å­—é•¿æ–‡ + ä»£ç ç¤ºä¾‹ï¼Œæ‰‹æŠŠæ‰‹å¸¦ä½ ç©è½¬ RxJava"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-28T01:07:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Javaéšæƒ³å½•"/> <meta itemprop="url" content="https://juejin.cn/user/2837192913204935"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å“åº”å¼ç¼–ç¨‹ä¸åªæœ‰æ¦‚å¿µï¼ä¸‡å­—é•¿æ–‡ + ä»£ç ç¤ºä¾‹ï¼Œæ‰‹æŠŠæ‰‹å¸¦ä½ ç©è½¬ RxJava
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2837192913204935/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Javaéšæƒ³å½•
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T01:07:20.000Z" title="Sun Dec 28 2025 01:07:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»29åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡å·²æ”¶å½•è‡³GitHubï¼Œæ¨èé˜…è¯» ğŸ‘‰ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FBookSea4j%2FJavaRecord" target="_blank" title="https://github.com/BookSea4j/JavaRecord" ref="nofollow noopener noreferrer">Javaéšæƒ³å½•</a></p>
<p>å¾®ä¿¡å…¬ä¼—å·ï¼šJavaéšæƒ³å½•</p>
<h2 data-id="heading-0">Reactive Streams ä»‹ç»</h2>
<p>åœ¨èŠ Reactive Streams ä¹‹å‰ï¼Œå…ˆäº†è§£ä¸€ä¸‹ Reactive Programmingï¼ˆååº”å¼/å“åº”å¼ç¼–ç¨‹ï¼‰ã€‚ä¸ºäº†è§£å†³å¼‚æ­¥ç¼–ç¨‹ä¸­å‡ºç°çš„å„ç§é—®é¢˜ï¼Œç¨‹åºå‘˜ä»¬æå‡ºäº†å„ç§çš„æ€è·¯å»è§£å†³è¿™äº›é—®é¢˜ï¼Œè¿™äº›è§£å†³é—®é¢˜çš„æ–¹å¼ã€æ–¹æ³•ï¼Œæ‰‹æ®µå°±å¯ä»¥å«åš Reactive Programmingã€‚</p>
<p>Reactive Programming æ˜¯ä¸€ç§ç¼–ç¨‹æ€æƒ³ï¼Œç±»ä¼¼é¢å‘å¯¹è±¡ï¼Œå‡½æ•°å¼ç¼–ç¨‹ã€‚</p>
<p>æœ¬è´¨ä¸Šæ˜¯å¯¹æ•°æ®æµæˆ–æŸç§å˜åŒ–åšå‡ºçš„ååº”ï¼Œè¿™ä¸ªå˜åŒ–ä»€ä¹ˆæ—¶å€™è§¦å‘æ˜¯æœªçŸ¥çš„ï¼Œæ‰€ä»¥ä»–æ˜¯ä¸€ç§åŸºäºå¼‚æ­¥ã€å›è°ƒçš„æ–¹å¼åœ¨å¤„ç†é—®é¢˜ã€‚</p>
<p>å½“è¶Šæ¥è¶Šå¤šçš„ç¨‹åºå‘˜ï¼Œå¼€å§‹ä½¿ç”¨è¿™ç§ç¼–ç¨‹æ€æƒ³æ—¶ï¼Œéœ€è¦ä¸€äº›å¤§ä½¬æ¥ç»Ÿä¸€ä¸€ä¸ªæ€æƒ³è§„èŒƒã€‚æ‰€ä»¥å›½å¤–çš„å‡ ä¸ªå¤§ä½¬å…¬å¸å¯åŠ¨äº† Reactive Streams é¡¹ç›®ã€‚Netflixã€Pivotalã€Lightbend è”åˆæ¥ä¸ºå¼‚æ­¥æµå¤„ç†æä¾›æ ‡å‡†ï¼Œè§„èŒƒã€‚</p>
<p>Reactive Streams ç¿»è¯‘è¿‡æ¥å°±æ˜¯å“åº”å¼/ååº”å¼æµã€‚<strong>å…¶å®æ˜¯ä¸€ç§åŸºäºå¼‚æ­¥æµå¤„ç†çš„æ ‡å‡†åŒ–è§„èŒƒï¼Œç›®çš„æ˜¯åœ¨ä½¿ç”¨æµå¤„ç†æ—¶æ›´åŠ å¯é ï¼Œé«˜æ•ˆå’Œå“åº”å¼ã€‚</strong></p>
<h2 data-id="heading-1">Java å±‚é¢çš„ Reactive Streams</h2>
<p>åŸºäºè¿™ä¸ªè§„èŒƒçš„å®ç°å¾ˆå¤šï¼Œæ¯”å¦‚ä¸‰æ–¹åº“ä¸­æ¯”è¾ƒå‡ºåçš„ RxJavaï¼ŒReactor ç­‰ç­‰ã€‚</p>
<p>ä½†æ˜¯ JDK8 ç‰ˆæœ¬ä¸­ï¼ŒJava å·²ç»æœ‰äº† CompletableFuture çš„æ”¯æ’‘ï¼Œæˆ‘ä»¬å¯ä»¥å°†å¤§é‡çš„å¼‚æ­¥ä»»åŠ¡åšå¥½ç¼–æ’ã€‚ä½†æ˜¯åœ¨ JDK8 ç‰ˆæœ¬ä¸­çš„ CompletableFuture ä¾ç„¶æœ‰å¾ˆå¤šç‰¹æ€§æ— æ³•æ”¯æ’‘ã€‚æ‰€ä»¥åœ¨ JDK9ï¼ŒCompletableFuture åšäº†å¾ˆå¤šçš„æ›´æ–°ï¼Œæ¯”å¦‚æ”¯æŒå»¶è¿Ÿï¼Œè¶…æ—¶ï¼Œå­ç±»åŒ–ä¹‹ç±»çš„åŠŸèƒ½ã€‚</p>
<p>è¿™æ—¶ï¼Œå’±ä»¬ä¼šå‘ç°ï¼Œå…¶å® CompletableFuture å·²ç»å¯ä»¥å»æ”¯æ’‘åšä¸€äº›å¼‚æ­¥ç¼–ç¨‹çš„æ“ä½œäº†ã€‚ä½†æ˜¯ä¸ºä»€ä¹ˆå¾ˆå¤šå¤§å…¬å¸ä¾ç„¶è¿˜æ˜¯ä½¿ç”¨ RxJavaï¼ŒReactor è¿™ç§ä¸‰æ–¹ä¾èµ–åº“å‘¢ï¼Ÿ</p>
<p>é—®é¢˜åœ¨äºï¼Œå¤§å¤šæ•°çš„æ—¶å€™ï¼Œå’±ä»¬é‡‡ç”¨å¼‚æ­¥ç¼–ç¨‹å¤„ç†çš„ä»»åŠ¡å¹¶ä¸æ˜¯éå¸¸å¤æ‚çš„ã€‚è¿™ä¸ªæ—¶å€™ï¼Œå’±ä»¬ç¡®å®ä¸éœ€è¦å»ä½¿ç”¨ Reactive Streams ååº”æµçš„æ¡†æ¶ã€‚å¦‚æœç³»ç»Ÿè¶Šæ¥è¶Šå¤æ‚ï¼Œæˆ–è€…ä½ å¤„ç†çš„ä¸šåŠ¡æœ¬èº«å°±æ˜¯åŠå…¶å¤æ‚çš„é‚£ç§ï¼Œä½ å°±è¦å»å†™ä¸€ä¸ªè®©äººå¤´çš®å‘éº»çš„ä»£ç äº†ã€‚éšç€æ—¶é—´çš„æ¨ç§»ï¼Œè¿™ç§ä»£ç ä¼šå˜æˆéå¸¸éš¾ä»¥ç»´æŠ¤ã€‚</p>
<p>å…¶æ¬¡ CompletableFuture å¹¶ä¸æ˜¯çœŸæ­£çš„åŸºäº Reactive Streams å»å®ç°ã€‚CompletableFuture æè¿°çš„æ˜¯å•æ¬¡æ‰§è¡Œçš„ç»“æœã€‚å°½ç®¡å¯ä»¥é€šè¿‡å„ç§æ–¹æ³•å°†å¼‚æ­¥ä»»åŠ¡ä¹‹é—´æ„å»ºæˆä¸€ä¸²ä»»åŠ¡ç»„æˆçš„æµç¨‹å›¾ï¼Œæœ¬è´¨ä¸Šä¾ç„¶æ˜¯å•æ¬¡çš„ç»“æœã€‚</p>
<p>ååº”å¼æµï¼Œé¢å‘çš„æ˜¯ Streamã€‚ å’±ä»¬ Java ä¸­çš„ Stream API æ›´ç±»ä¼¼ Reactive Streams çš„æ€æƒ³ã€‚Stream API æ˜¯åŒæ­¥é˜»å¡çš„ã€‚</p>
<p>æœ€ç»å…¸çš„å°±æ˜¯ CompletableFuture æ— æ³•å¤„ç† Reactive Streams ä¸­çš„ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼ŒBack Pressureï¼ˆèƒŒå‹ï¼Œåå‹ï¼Œå›å‹ï¼‰ï¼Œæ¯”å¦‚åœ¨ä¸Šä¸‹æ¸¸æ‰¿è½½èƒ½åŠ›ä¸åŒæ—¶ï¼Œæ¯”å¦‚ä¸‹æ¸¸ç©ä¸è½¬äº†ï¼Œéœ€è¦å‘ŠçŸ¥ä¸Šæ¸¸é‡‡å–ä¸€äº›ç­–ç•¥å»è§£å†³ã€‚CompletableFuture æ˜æ˜¾æ— æ³•å¤„ç†è¿™ç§ã€‚</p>
<p>å…¶æ¬¡è¿˜æœ‰ Java ä¸­æä¾›çš„å›è°ƒï¼ŒFuture æœºåˆ¶åœ¨å®ç°å“åº”å¼ç¼–ç¨‹ä¸­ï¼Œé—®é¢˜å’Œç¼ºç‚¹éƒ½æ¯”è¾ƒéš¾å¤„ç†ã€‚æœ‰ä¸ªæ¯”è¾ƒå‡ºåçš„æ¦‚å¿µå«åš Callback Hellï¼ˆå›è°ƒåœ°ç‹±ï¼‰ã€‚ç®€å•æ¥è¯´å°±æ˜¯å›è°ƒé‡Œé¢å¥—å›è°ƒï¼Œè™½ç„¶å°†å­è¿‡ç¨‹åšåˆ°è§£è€¦ï¼Œä½†æ˜¯éšç€ä¸šåŠ¡çš„è´Ÿè´£ï¼Œå›è°ƒä»£ç çš„å¯è¯»æ€§ã€å¤æ‚æ€§å°±å¤§å¤§çš„å¢åŠ ï¼Œè¿™ä¸ªå°±æ˜¯å›è°ƒåœ°ç‹±ã€‚</p>
<p>æ‰€ä»¥ï¼Œå’±ä»¬éœ€è¦ä¸€å¥—æ¡†æ¶æˆ–è€…è¯´ç±»åº“æ¥å®ç°çœŸæ­£å“åº”å¼æµï¼Œå¤§æ¦‚éœ€è¦å‡ ä¸ªç‰¹æ€§ï¼š</p>
<ul>
<li>æ”¯æŒå°†å¼‚æ­¥ä»»åŠ¡åšå°è£…ä»¥åŠç»„è£…ï¼Œéœ€è¦ API å¯¹å¼‚æ­¥ä»»åŠ¡è¿›è¡ŒåŒ…è£…ï¼Œå¹¶ä¸”éœ€è¦å¾ˆå¤šå­ä»»åŠ¡æ¥å¯¹å¼‚æ­¥æ“ä½œè¿›è¡Œé“¾å¼ç»„è£…ï¼Œè¿‡ç¨‹ä¸­åŒ…æ‹¬è¿‡æ»¤ï¼Œå¼‚å¸¸å¤„ç†ï¼Œè¶…æ—¶ç­‰ç­‰æ“ä½œã€‚</li>
<li>å‡å°‘å¼‚æ­¥ä»»åŠ¡çš„åµŒå¥—ï¼Œå‡å°‘ä»£ç çš„å¤æ‚æ€§ï¼Œå¢åŠ å¯è¯»æ€§ï¼Œé¿å… Callback Hell è¿™ç§åŠå…¶å¤æ‚æ¶å¿ƒçš„ä»£ç ã€‚</li>
<li>æ”¯æŒèƒŒå‹ Back Pressureï¼Œä¹Ÿå°±éœ€è¦æœ‰ä¸Šæ¸¸å’Œä¸‹æ¸¸çš„æ¦‚å¿µï¼Œå¯ä»¥åšåˆ°åå•†å¤„ç†æ•°æ®æµçš„é€Ÿåº¦ã€‚</li>
</ul>
<h2 data-id="heading-2">Java å±‚é¢ Reactive Steams çš„ API</h2>
<p>é¦–å…ˆ Reactive Steams å“åº”æµå®ç°æ–¹å¼å…¶å®æ˜¯åŸºäºè§‚å¯Ÿè€…æ¨¡å¼çš„æ‰©å±•ï¼ŒåŒæ—¶ä¹Ÿèƒ½çœ‹åˆ°å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œè´£ä»»é“¾æ¨¡å¼ç­‰ç­‰ã€‚</p>
<p>æ•´ä¸ª Reactive Steams æµç¨‹å¤§è‡´å¦‚ä¸‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f9592c871e5e40f1be90efcf888187cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2Yemaj-aDs-W9lQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767488840&amp;x-signature=TSgTt3xeOZBxptm6EuAjG8vQSSg%3D" alt="" loading="lazy"/></p>
<p>ç›´æ¥åœ¨ JDK9 ç‰ˆæœ¬ä¹‹ä¸ŠæŸ¥çœ‹ Doug Lee æä¾›çš„ Flow ç±»ã€‚</p>
<p>åœ¨ Flow ç±»ä¸­ï¼Œæä¾›äº†æ ¸å¿ƒçš„å››ä¸ªæ¥å£ï¼šPublisherï¼ŒSubscriberï¼ŒSubscriptionï¼ŒProcessor</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/09f5138c2bb440098f904bb47b27b6ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2Yemaj-aDs-W9lQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767488840&amp;x-signature=7316XjMXvFoj2HFpvI5fx5Tv08I%3D" alt="" loading="lazy"/></p>
<p>Publisherï¼šPublisher æ˜¯å‡½æ•°å¼æ¥å£ï¼Œè´Ÿè´£å‘å¸ƒæ•°æ®çš„ã€‚ Publisher å†…éƒ¨æœ‰ä¸€ä¸ªæ–¹æ³• subscribe æ–¹æ³•ï¼Œå»å’Œå…·ä½“çš„è®¢é˜…è€…ç»‘å®šå…³ç³»ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4bd5da1cce0a48768a6c10bd3325c266~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2Yemaj-aDs-W9lQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767488840&amp;x-signature=0yFzU%2FEhU6cf%2FLDc%2FhYGO%2FgDKY8%3D" alt="" loading="lazy"/></p>
<p>Subscriberï¼šSubscriber æ˜¯è®¢é˜…è€…ï¼Œè´Ÿè´£è®¢é˜…ï¼Œæ¶ˆè´¹æ•°æ®ã€‚å››ä¸ªæ–¹æ³•ï¼š</p>
<ul>
<li>onSubscribeï¼šè®¢é˜…æˆåŠŸåè§¦å‘ï¼Œå¹¶ä¸”è¡¨æ˜å¯ä»¥å¼€å§‹æ¥æ”¶å‘å¸ƒè€…çš„æ•°æ®å…ƒç´ äº†ã€‚</li>
<li>onNextï¼šæ¯æ¬¡è·å–åˆ°å‘å¸ƒè€…çš„æ•°æ®å…ƒç´ éƒ½ä¼šæ‰§è¡Œ onNextã€‚</li>
<li>onErrorï¼šæ¥æ”¶æ•°æ®å…ƒç´ æ—¶ï¼Œå‡ºç°å¼‚å¸¸ç­‰é—®é¢˜æ—¶ï¼Œèµ° onErrorã€‚</li>
<li>onCompleteï¼šå½“æŒ‡å®šæ¥æ”¶çš„å…ƒç´ ä¸ªæ•°æå®šåï¼Œè§¦å‘ onCompleteã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b00cfd018c9e4d6d9eab9109a953eac6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2Yemaj-aDs-W9lQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767488840&amp;x-signature=KN1vhpT34Ny2FvK3c39OX73WOuI%3D" alt="" loading="lazy"/></p>
<p>Subscriptionï¼šå‘å¸ƒè€…å’Œè®¢é˜…è€…æ˜¯åŸºäº Subscription å…³è”çš„ã€‚å½“å»ºç«‹äº†è®¢é˜…çš„å…³ç³»åï¼Œå‘å¸ƒè€…ä¼šå°† Subscription ä¼ é€’ç»™è®¢é˜…è€…ã€‚è®¢é˜…è€…æŒ‡å®šè·å–å…ƒç´ çš„æ•°é‡å’Œå–æ¶ˆè®¢é˜…æ“ä½œï¼Œéƒ½è¦åŸºäº Subscription å»æ“ä½œã€‚æä¾›äº†ä¸¤ä¸ªæ–¹æ³•ï¼š</p>
<ul>
<li>requestï¼šè®¢é˜…è€…è¦è·å–çš„å…ƒç´ ä¸ªæ•°ã€‚</li>
<li>cancelï¼šå–æ¶ˆè®¢é˜…ï¼Œå½“å‰çš„è®¢é˜…è€…ä¸æ¥æ”¶å½“å‰å‘å¸ƒè€…çš„å…ƒç´ ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c68ad044b9374c3eab14b2f3b49f13c0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2Yemaj-aDs-W9lQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767488840&amp;x-signature=Jpp0h1Y6ZxFtnBsdj86KdC4YnpI%3D" alt="" loading="lazy"/></p>
<p>Processorï¼šProcessor ç»§æ‰¿äº† Publisher å’Œ Subscriberï¼Œå³æ˜¯å‘å¸ƒè€…ä¹Ÿæ˜¯è®¢é˜…è€…ã€‚Processor ä¸€èˆ¬ä½œä¸ºæ•°æ®çš„ä¸­è½¬ï¼Œè®¢é˜…è€…å¤„ç†å®Œæ•°æ®å…ƒç´ ï¼Œå¯ä»¥å†æ¬¡å‘ç»™ä¸‹ä¸€ä¸ªè®¢é˜…è€…ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a42047a535c9423995491f68ce606ee3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2Yemaj-aDs-W9lQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767488840&amp;x-signature=xtE0ChJLm8qslq46IFzHStHC4YA%3D" alt="" loading="lazy"/></p>
<p>è¿™å››ä¸ªæ¥å£å¾ˆé‡è¦ï¼Œæ˜¯ Reactive Streams çš„è§„èŒƒï¼Œä½†æ˜¯å¯ä»¥æ˜æ˜¾çš„çœ‹åˆ°ï¼Œå†…éƒ¨æ²¡æœ‰å…·ä½“çš„å†…å®¹å®ç°ã€‚</p>
<p>è¿™é‡Œå°±ç±»ä¼¼ JDBC è¿™ç§è§„èŒƒï¼Œè§„èŒƒåœ¨ JDK9 ä¸­æå‡ºæ¥äº†ï¼Œæƒ³å®ç°ï¼Œå¯ä»¥åŸºäºå½“å‰çš„è¿™å››ä¸ªæ¥å£å†åšå…·ä½“çš„é€»è¾‘å¤„ç†ä»¥åŠå®ç°çš„ç»†èŠ‚ã€‚</p>
<h2 data-id="heading-3">Java å±‚é¢ Reactive Steams åŸºæœ¬æ“ä½œ</h2>
<p>å’±ä»¬æµ‹è¯• Java ä¸­çš„ Flow é‡Œæä¾›çš„ API æ—¶ï¼Œå°±æ˜¯èµ°æœ€åŸºæœ¬çš„æ“ä½œã€‚</p>
<p>å…¶ä¸­ Processor ä¸éœ€è¦é‡å†™ï¼Œç©æœ€åŸºæœ¬çš„æ“ä½œï¼Œä¸å»åšè®¢é˜…è€…å’Œå‘å¸ƒè€…çš„è½¬æ¢ã€‚</p>
<p>å…¶æ¬¡ Subscription ä¹Ÿä¸éœ€è¦é‡å†™ï¼Œè¿™ä¸œè¥¿å°±æ˜¯æä¾›äº†è®¢é˜…è€…æŒ‡å®šè®¢é˜…çš„æ¶ˆæ¯ä¸ªæ•°ï¼Œä»¥åŠå–æ¶ˆçš„æ“ä½œã€‚</p>
<p>ç„¶å Publisher éœ€è¦é‡å†™ï¼Œä½†æ˜¯ JDK ä¸­å·²ç»æä¾›äº†ä¸€ä¸ª Publisher çš„å®ç°ï¼ŒSubmissionPublisherï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</p>
<p>æœ€åï¼ŒSubscriber éœ€è¦å’±ä»¬è‡ªå·±é‡å†™ï¼ŒæŒ‡å®šå¥½è®¢é˜…æ¶ˆæ¯çš„ä¸ªæ•°ï¼Œå·²ç»æ¶ˆè´¹çš„ä¸€äº›é€»è¾‘</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.util.concurrent.Flow;


<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MySubscriber</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Flow</span>.Subscriber&lt;Integer&gt; {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-comment">// ç»‘å®šå¥½è®¢é˜…å…³ç³»åï¼Œå°±ä¼šè§¦å‘è¿™ä¸ªæ–¹æ³•</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSubscribe</span><span class="hljs-params">(Flow.Subscription subscription)</span> {
        subscription.request(<span class="hljs-number">10</span>);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onNext</span><span class="hljs-params">(Integer item)</span> {
        System.out.println(Thread.currentThread().getName() + <span class="hljs-string">"ï¼šæ¥æ”¶åˆ°æ•°æ®æµï¼š"</span> + item);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onError</span><span class="hljs-params">(Throwable throwable)</span> {
        System.out.println(Thread.currentThread().getName() + <span class="hljs-string">"ï¼šæ¥æ”¶æ¶ˆæ¯å‡ºç°å¼‚å¸¸ï¼š"</span> + throwable.getMessage());
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onComplete</span><span class="hljs-params">()</span> {
        System.out.println(Thread.currentThread().getName() + <span class="hljs-string">"ï¼šå½“å‰è®¢é˜…è€…è¦æ±‚æ¥æ”¶çš„æ¶ˆæ¯å…¨éƒ¨å¤„ç†å®Œæ¯•ã€‚"</span>);
    }
}
</code></pre>
<p>ç›´æ¥ä½¿ç”¨ SubmissionPublisher æµ‹è¯•æ•´ä½“æ•ˆæœ</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
    <span class="hljs-comment">// åªæœ‰ä¸€ä¸ªå·¥ä½œçº¿ç¨‹çš„çº¿ç¨‹æ± </span>
    <span class="hljs-type">ExecutorService</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> Executors.newFixedThreadPool(<span class="hljs-number">1</span>);
    <span class="hljs-comment">// æŒ‡å®šç¼“å†²åŒºçš„å¤§å°</span>
    <span class="hljs-type">int</span> <span class="hljs-variable">maxBufferCapacity</span> <span class="hljs-operator">=</span> <span class="hljs-number">5</span>;

    <span class="hljs-comment">// éœ€è¦æŒ‡å®šä¸¤ä¸ªå‚æ•°</span>
    <span class="hljs-comment">// ç¬¬ä¸€ä¸ªå‚æ•°éœ€è¦ä¼ é€’ä¸€ä¸ªçº¿ç¨‹æ± ï¼ŒæŒ‡å®šè®¢é˜…è€…ä½¿ç”¨çš„çº¿ç¨‹</span>
    <span class="hljs-comment">// ç¬¬äºŒä¸ªå‚æ•°ï¼Œéœ€è¦æŒ‡å®šä¸€ä¸ªç¼“å†²åŒºï¼Œå‘å¸ƒè€…å‘å¸ƒæ¶ˆæ¯åï¼Œæ¶ˆæ¯ä¼šæ‰”åˆ°ç¼“å†²åŒºé‡Œã€‚</span>
    SubmissionPublisher&lt;Integer&gt; publisher = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SubmissionPublisher</span>&lt;&gt;(executor,maxBufferCapacity);

    <span class="hljs-comment">// ç»‘å®šè®¢é˜…è€…</span>
    <span class="hljs-type">MySubscriber</span> <span class="hljs-variable">subscriber</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MySubscriber</span>();
    publisher.subscribe(subscriber);

    <span class="hljs-comment">// å‘å¸ƒæ¶ˆæ¯</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
        System.out.println(Thread.currentThread().getName() + <span class="hljs-string">"ï¼šå‘å¸ƒæ¶ˆæ¯ï¼š"</span> + i);
        publisher.submit(i);
    }

    <span class="hljs-comment">// é‡Šæ”¾èµ„æº</span>
    publisher.close();
    executor.shutdown();
}
</code></pre>
<p>ç»“æœè¾“å‡ºå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">main</span>ï¼šå‘å¸ƒæ¶ˆæ¯ï¼š<span class="hljs-number">0</span>
<span class="hljs-selector-tag">main</span>ï¼šå‘å¸ƒæ¶ˆæ¯ï¼š<span class="hljs-number">1</span>
<span class="hljs-selector-tag">main</span>ï¼šå‘å¸ƒæ¶ˆæ¯ï¼š<span class="hljs-number">2</span>
<span class="hljs-selector-tag">main</span>ï¼šå‘å¸ƒæ¶ˆæ¯ï¼š<span class="hljs-number">3</span>
<span class="hljs-selector-tag">main</span>ï¼šå‘å¸ƒæ¶ˆæ¯ï¼š<span class="hljs-number">4</span>
<span class="hljs-selector-tag">main</span>ï¼šå‘å¸ƒæ¶ˆæ¯ï¼š<span class="hljs-number">5</span>
<span class="hljs-selector-tag">main</span>ï¼šå‘å¸ƒæ¶ˆæ¯ï¼š<span class="hljs-number">6</span>
<span class="hljs-selector-tag">main</span>ï¼šå‘å¸ƒæ¶ˆæ¯ï¼š<span class="hljs-number">7</span>
<span class="hljs-selector-tag">main</span>ï¼šå‘å¸ƒæ¶ˆæ¯ï¼š<span class="hljs-number">8</span>
<span class="hljs-selector-tag">main</span>ï¼šå‘å¸ƒæ¶ˆæ¯ï¼š<span class="hljs-number">9</span>
pool-<span class="hljs-number">1</span>-thread-<span class="hljs-number">1</span>ï¼šæ¥æ”¶åˆ°æ•°æ®æµï¼š<span class="hljs-number">0</span>
pool-<span class="hljs-number">1</span>-thread-<span class="hljs-number">1</span>ï¼šæ¥æ”¶åˆ°æ•°æ®æµï¼š<span class="hljs-number">1</span>
pool-<span class="hljs-number">1</span>-thread-<span class="hljs-number">1</span>ï¼šæ¥æ”¶åˆ°æ•°æ®æµï¼š<span class="hljs-number">2</span>
pool-<span class="hljs-number">1</span>-thread-<span class="hljs-number">1</span>ï¼šæ¥æ”¶åˆ°æ•°æ®æµï¼š<span class="hljs-number">3</span>
pool-<span class="hljs-number">1</span>-thread-<span class="hljs-number">1</span>ï¼šæ¥æ”¶åˆ°æ•°æ®æµï¼š<span class="hljs-number">4</span>
pool-<span class="hljs-number">1</span>-thread-<span class="hljs-number">1</span>ï¼šæ¥æ”¶åˆ°æ•°æ®æµï¼š<span class="hljs-number">5</span>
pool-<span class="hljs-number">1</span>-thread-<span class="hljs-number">1</span>ï¼šæ¥æ”¶åˆ°æ•°æ®æµï¼š<span class="hljs-number">6</span>
pool-<span class="hljs-number">1</span>-thread-<span class="hljs-number">1</span>ï¼šæ¥æ”¶åˆ°æ•°æ®æµï¼š<span class="hljs-number">7</span>
pool-<span class="hljs-number">1</span>-thread-<span class="hljs-number">1</span>ï¼šæ¥æ”¶åˆ°æ•°æ®æµï¼š<span class="hljs-number">8</span>
pool-<span class="hljs-number">1</span>-thread-<span class="hljs-number">1</span>ï¼šæ¥æ”¶åˆ°æ•°æ®æµï¼š<span class="hljs-number">9</span>
pool-<span class="hljs-number">1</span>-thread-<span class="hljs-number">1</span>ï¼šå½“å‰è®¢é˜…è€…è¦æ±‚æ¥æ”¶çš„æ¶ˆæ¯å…¨éƒ¨å¤„ç†å®Œæ¯•ã€‚
</code></pre>
<ul>
<li><strong>ç¼“å†²åŒºï¼š</strong> ç¼“å†²åŒºå°±æ˜¯å‘å¸ƒè€…å’Œè®¢é˜…è€…ä¹‹é—´çš„ä¸€å—å†…å­˜ï¼Œç±»ä¼¼çº¿ç¨‹æ± ä¸­çš„é˜»å¡é˜Ÿåˆ—ï¼Œå¯ä»¥å°†æ¶ˆæ¯æ‰”åˆ°è¿™ä¸ªç¼“å­˜åŒºé‡Œã€‚å…¶æ¬¡å’±ä»¬è®¾ç½®çš„ç¼“å†²åŒºå¤§å°æ˜¯ 5ï¼Œä½†æ˜¯å‘ç° get å‡ºæ¥çš„æ—¶å€™ï¼Œ5 è¢«æ›¿æ¢ä¸ºäº† 8ã€‚è¿™æ˜¯å› ä¸º SubmissionPublisher ä¸ºäº†æ›´æœ‰æ•ˆçš„ä½¿ç”¨å†…å­˜ï¼Œé»˜è®¤ä¼šåŸºäº roundCapacity æ–¹æ³•å°†ä¼ é€’çš„ç¼“å†²åŒºå¤§å°æ›¿æ¢ä¸º 2 çš„ n æ¬¡å¹‚ã€‚</li>
<li><strong>èƒŒå‹æ•ˆæœï¼š</strong> å½“è®¢é˜…è€…æŒ‡å®šçš„æ¶ˆæ¯å·²ç»å…¨éƒ¨å¤„ç†å®Œæ¯•åï¼Œå‘å¸ƒè€…æœ€å¤šåªèƒ½å‘å¸ƒç¼“å†²åŒºå¤§å°ä¸ªæ•°çš„æ¶ˆæ¯ï¼Œå‰©ä¸‹çš„å†…å®¹ä¼šåŸºäºèƒŒå‹çš„æ•ˆæœç›´æ¥æš‚æ—¶ä¸å‘é€ã€‚</li>
<li><strong>onCompleteï¼š</strong> éœ€è¦å‘å¸ƒè€…åšäº†close æ“ä½œï¼Œç¡®è®¤äº†å‘å¸ƒè€…å·²ç»å°†æ¶ˆæ¯å…¨éƒ¨å‘é€ï¼Œå¹¶ä¸”è®¢é˜…è€…ä¹Ÿå·²ç»å°†å…¨éƒ¨çš„æ¶ˆæ¯å¤„ç†å®Œæ¯•åï¼Œæ‰ä¼šè§¦å‘ onCompleteã€‚</li>
<li><strong>Subscriptionï¼š</strong> è®¢é˜…è€…å¯ä»¥åœ¨ onNext æˆ–è€…å…¶ä»–æ–¹æ³•ä¸­åŠ¨æ€çš„ä½¿ç”¨ subscription å»æŒ‡å®šåç»­éœ€è¦å‡ ä¸ªæ¶ˆæ¯è®¢é˜…ï¼Œä»¥åŠæ˜¯å¦éœ€è¦å–æ¶ˆè®¢é˜…æ¶ˆæ¯ç­‰æ“ä½œã€‚</li>
</ul>
<h2 data-id="heading-4">Reactive Steams è½åœ°ä½“éªŒ</h2>
<h3 data-id="heading-5">å›è°ƒåœ°ç‹±é—®é¢˜</h3>
<p>å‰é¢çš„æ–¹å¼å¤§è‡´äº†è§£äº† JDK9 ä¸­æ›´æ–°çš„ Reactive Streams çš„è§„èŒƒï¼Œå’±ä»¬å®ç°ä¹Ÿä»…ä»…æ˜¯çœ‹åˆ°äº†å‘å¸ƒè®¢é˜…å’Œå›å‹çš„æ•ˆæœã€‚å¹¶æ²¡æœ‰çœ‹åˆ°å¦‚ä½•è§£å†³å›è°ƒåœ°ç‹±çš„é—®é¢˜ã€‚å’±ä»¬å¯ä»¥é€šè¿‡ Spring5 å®˜ç½‘æä¾›çš„ä¸€ä¸ªä¾‹å­ï¼Œæ¥ä½“éªŒä¸€ä¸‹ CallBack Hell å›è°ƒåœ°ç‹±å¸¦æ¥çš„é—®é¢˜ã€‚åé¢å†æ ¹æ®ä¸‰æ–¹çš„å®ç°æ¥çœ‹ä¸€ä¸‹åŸºäº Reactive Streams å®ç°åæ•ˆæœå¦‚ä½•ã€‚è¿™é‡ŒåŸºæœ¬æ˜¯æ ¹æ®ä¼ªä»£ç èµ°çš„ã€‚</p>
<p>ä¾‹å­ï¼šåœ¨ç”¨æˆ·çš„ UI é¡µé¢ä¸Šï¼Œå±•ç¤ºå½“å‰ç”¨æˆ·æœ€å–œæ¬¢çš„ Top5 çš„å•†å“è¯¦æƒ…ã€‚è¿™é‡Œä¼šæ ¹æ®ç”¨æˆ·çš„ ID å»æŸ¥è¯¢å½“å‰ç”¨æˆ· Top5 å•†å“çš„IDï¼Œå¦‚æœ ID å¯ä»¥æŸ¥è¯¢åˆ°ä¹‹åå†æ ¹æ®å•†å“çš„ ID å»æŸ¥è¯¢å•†å“çš„è¯¦æƒ…ã€‚å¦‚æœå½“å‰ç”¨æˆ· ID æŸ¥è¯¢çš„ç»“æœä¸å­˜åœ¨å–œæ¬¢çš„ Top å•†å“ï¼Œæ²¡æœ‰çš„è¯ï¼Œé€šè¿‡æ¨èæœåŠ¡æŸ¥è¯¢ Top5 çš„å•†å“ä¿¡æ¯ã€‚å±•ç¤ºç»™ç”¨æˆ·ã€‚</p>
<p>å½“å‰ä¾‹å­éœ€è¦ä¸‰ä¸ªæœåŠ¡çš„æ”¯æ’‘ï¼š</p>
<ul>
<li>æ ¹æ®ç”¨æˆ· ID æŸ¥è¯¢ç”¨æˆ·çš„ Top5 å•†å“IDã€‚</li>
<li>æ ¹æ® Top5 å•†å“IDæŸ¥è¯¢å•†å“è¯¦æƒ…ã€‚</li>
<li>è°ƒç”¨æ¨èæœåŠ¡ï¼Œè·å–5ä¸ªå•†å“è¯¦æƒ…ã€‚</li>
</ul>
<p>åŸºäº Java æœ€åŸç”Ÿçš„å¼‚æ­¥ç¼–ç¨‹æ–¹å¼ï¼Œå®ç°ä¸Šè¿°æ“ä½œï¼Œæ¥çœ‹çœ‹åˆ°åº•ä»€ä¹ˆæ˜¯å›è°ƒåœ°ç‹±ã€‚ã€‚ã€‚</p>
<p>å•†å“è¯¦æƒ…å®ä½“ç±»ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Fav</span> {

    <span class="hljs-keyword">private</span> String itemId;

    <span class="hljs-keyword">private</span> String itemName;

    <span class="hljs-keyword">private</span> String itemDetail;

}
</code></pre>
<p>å‡†å¤‡å›è°ƒæ–¹æ³•ï¼Œæ‹¿åˆ°ç»“æœåè§¦å‘</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Callback</span>&lt;T&gt; {

    <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSuccess</span><span class="hljs-params">(T t)</span>;

    <span class="hljs-keyword">void</span> <span class="hljs-title function_">onError</span><span class="hljs-params">(Throwable throwable)</span>;

}
</code></pre>
<p>å‡†å¤‡äº†è®¿é—®ä¸‰ä¸ªæœåŠ¡çš„ Service æ¥å£</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserService</span> {

    <span class="hljs-comment">/**
     * æ ¹æ®ç”¨æˆ·IdæŸ¥è¯¢ç”¨æˆ·çš„Top5å•†å“Id
     * <span class="hljs-doctag">@param</span> userId
     * <span class="hljs-doctag">@param</span> list
     */</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">getFav</span><span class="hljs-params">(String userId, Callback&lt;List&lt;String&gt;&gt; list)</span>;

}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ItemService</span> {
    
    <span class="hljs-comment">/**
     * æ ¹æ®å•†å“IdæŸ¥è¯¢å•†å“çš„è¯¦æƒ…
     *
     * <span class="hljs-doctag">@param</span> itemId
     * <span class="hljs-doctag">@param</span> callback
     */</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">getDetail</span><span class="hljs-params">(String itemId, Callback&lt;Fav&gt; callback)</span>;
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">SuggestionService</span> {

    <span class="hljs-comment">/**
     * è°ƒç”¨æ¨èæœåŠ¡ï¼Œè·å–æ¨èå•†å“
     * <span class="hljs-doctag">@param</span> favs
     */</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">getSuggestion</span><span class="hljs-params">(Callback&lt;List&lt;Fav&gt;&gt; favs)</span>;
}
</code></pre>
<p>å‡†å¤‡äº†å“åº”æ•°æ®çš„ UI çº¿ç¨‹å·¥å…·ä»¥åŠå“åº”æ–¹æ³•</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UiUtils</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">submitOnUiThread</span><span class="hljs-params">(Runnable runnable)</span>{
        <span class="hljs-comment">// çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹åšå“åº”çš„æ“ä½œâ€¦â€¦â€¦â€¦â€¦â€¦</span>
    }


    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">show</span><span class="hljs-params">(Object obj)</span>{
        <span class="hljs-comment">// åˆ©ç”¨UIçº¿ç¨‹å±•ç¤ºå…·ä½“æ•°æ®</span>
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">error</span><span class="hljs-params">(Object obj)</span>{
        <span class="hljs-comment">// å‡ºç°é”™è¯¯å“åº”çš„å†…å®¹</span>
    }

}
</code></pre>
<p>å®Œæˆäº† Controller ä¸­çš„å¼‚æ­¥ç¼–ç¨‹æ•ˆæœ</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@RestController</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CallBackHellController</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> UserService userService;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> ItemService itemService;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> SuggestionService suggestionService;


    <span class="hljs-meta">@GetMapping("/callbackhell")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">callbackHell</span><span class="hljs-params">(String userId)</span>{
        <span class="hljs-comment">//1ã€è°ƒç”¨ç”¨æˆ·æœåŠ¡ï¼ŒæŸ¥è¯¢Top5å•†å“Id</span>
        userService.getFav(userId, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Callback</span>&lt;List&lt;String&gt;&gt;() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSuccess</span><span class="hljs-params">(List&lt;String&gt; list)</span> {
                <span class="hljs-comment">// å·²ç»æŸ¥è¯¢åˆ°å•†å“Idï¼Œä½†æ˜¯ä¸çŸ¥é“æ˜¯å¦æœ‰å€¼</span>
                <span class="hljs-keyword">if</span> (list.isEmpty()){
                    <span class="hljs-comment">// 3ã€ç”¨æˆ·æ²¡æœ‰Top5å•†å“Idï¼Œé€šè¿‡æ¨èæœåŠ¡æŸ¥è¯¢æ¨èå•†å“è¯¦æƒ…</span>
                    suggestionService.getSuggestion(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Callback</span>&lt;List&lt;Fav&gt;&gt;(){
                        <span class="hljs-meta">@Override</span>
                        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSuccess</span><span class="hljs-params">(List&lt;Fav&gt; favs)</span> {
                            <span class="hljs-comment">// æ¨èæœåŠ¡æŸ¥è¯¢åˆ°äº†å•†å“è¯¦æƒ…ï¼Œå“åº”å³å¯</span>
                            UiUtils.submitOnUiThread(() -&gt; {
                                favs.stream().limit(<span class="hljs-number">5</span>).forEach(UiUtils::show);
                            });
                        }
                        <span class="hljs-meta">@Override</span>
                        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onError</span><span class="hljs-params">(Throwable throwable)</span> {
                            UiUtils.error(throwable);
                        }
                    });

                }
                <span class="hljs-keyword">else</span>{
                    <span class="hljs-comment">// 2ã€é€šè¿‡ç”¨æˆ·æŸ¥è¯¢åˆ°äº†Top5å•†å“Idï¼Œé€šè¿‡å•†å“IdæŸ¥è¯¢å•†å“è¯¦æƒ…</span>
                    list.stream().limit(<span class="hljs-number">5</span>).forEach(itemId -&gt; itemService.getDetail(itemId,<span class="hljs-keyword">new</span> <span class="hljs-title class_">Callback</span>&lt;Fav&gt;(){

                        <span class="hljs-meta">@Override</span>
                        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSuccess</span><span class="hljs-params">(Fav fav)</span> {
                            <span class="hljs-comment">// æŸ¥è¯¢åˆ°äº†å•†å“è¯¦æƒ…ï¼Œåˆ©ç”¨UIçº¿ç¨‹ï¼Œç»™å®¢æˆ·ç«¯å“åº”æ•°æ®</span>
                            UiUtils.submitOnUiThread(() -&gt; UiUtils.show(fav));
                        }

                        <span class="hljs-meta">@Override</span>
                        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onError</span><span class="hljs-params">(Throwable throwable)</span> {
                            <span class="hljs-comment">// å‡ºç°å¼‚å¸¸äº†ã€‚</span>
                            UiUtils.error(throwable);
                        }
                    }));
                }
            }
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onError</span><span class="hljs-params">(Throwable throwable)</span> {
                <span class="hljs-comment">// å‡ºç°å¼‚å¸¸äº†ã€‚</span>
                UiUtils.error(throwable);
            }
        });


    }

}
</code></pre>
<h3 data-id="heading-6">è§£å†³å›è°ƒåœ°ç‹±é—®é¢˜</h3>
<p>è¿™é‡Œä¸ºäº†è§£å†³å›è°ƒåœ°ç‹±é—®é¢˜ï¼Œéœ€è¦ä¸€ä¸ª Reactor çš„ä¾èµ–æ¥å¸®åŠ©å’±ä»¬å®ç°å¼‚æ­¥ç¼–ç¨‹ã€‚</p>
<p>éœ€è¦å¯¼å…¥ä¾èµ–</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!--reactorçš„æ ¸å¿ƒä¾èµ–--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.projectreactor<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>reactor-core<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.7.7<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p>ä¸èƒ½å†ä½¿ç”¨ä¹‹å‰çš„ Callback æ–¹å¼äº†ã€‚éœ€è¦ä½¿ç”¨ reactor æä¾›çš„ Fluxï¼Œå¹¶ä¸”è¿™ç§é“¾å¼æ“ä½œä¼šæ›´ç›´è§‚ï¼Œä¹Ÿæ›´å¥½ç»´æŠ¤ã€‚å°±åªéœ€è¦ä¿®æ”¹ä¸‰ä¸ªæœåŠ¡å¯¹åº”çš„ Serviceã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserService</span> {

    <span class="hljs-comment">/**
     * æ ¹æ®ç”¨æˆ·IDæŸ¥è¯¢Top5å•†å“ID
     * <span class="hljs-doctag">@param</span> userId
     * <span class="hljs-doctag">@return</span>
     */</span>
    Flux&lt;List&lt;String&gt;&gt; <span class="hljs-title function_">getFav</span><span class="hljs-params">(String userId)</span>;

}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ItemService</span> {


    <span class="hljs-comment">/**
     * æ ¹æ®å•†å“IDæŸ¥è¯¢å•†å“è¯¦æƒ…
     * <span class="hljs-doctag">@param</span> itemId
     * <span class="hljs-doctag">@return</span>
     */</span>
    Flux&lt;Fav&gt; <span class="hljs-title function_">getDetail</span><span class="hljs-params">(String itemId)</span>;

}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">SuggestionService</span> {

    <span class="hljs-comment">/**
     * è·å–æ¨èçš„å•†å“è¯¦æƒ…
     * <span class="hljs-doctag">@return</span>
     */</span>
    Flux&lt;List&lt;Fav&gt;&gt; <span class="hljs-title function_">getSuggestion</span><span class="hljs-params">()</span>;

}
</code></pre>
<p>ç„¶åå°±å¯ä»¥åˆ©ç”¨ Flux æä¾›çš„ API æ¥è§£å†³ä¹‹å‰å›è°ƒåœ°ç‹±çš„é—®é¢˜ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@RestController</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ReactorCallbackController</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> UserService userService;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> ItemService itemService;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> SuggestionService suggestionService;


    <span class="hljs-meta">@GetMapping("reactorcallback")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">reactorCallback</span><span class="hljs-params">(String userId)</span>{
        userService
                .getFav(userId)   <span class="hljs-comment">// æ ¹æ®ç”¨æˆ·IdæŸ¥è¯¢Top5å•†å“Id</span>
                .flatMap(itemService::getDetail)  <span class="hljs-comment">// æ ¹æ®å•†å“IDæŸ¥è¯¢å•†å“è¯¦æƒ…</span>
                .switchIfEmpty(suggestionService.getSuggestion())  <span class="hljs-comment">// å¦‚æœå‰é¢ä¸ºnullï¼Œè¿™é‡Œé€šè¿‡æ¨èæœåŠ¡æŸ¥è¯¢å•†å“è¯¦æƒ…</span>
                .take(<span class="hljs-number">5</span>)    <span class="hljs-comment">// è·å–å‰5ä¸ªæ•°æ®</span>
                .publishOn(UiUtils.reactorOnUiThread())    <span class="hljs-comment">// ä½¿ç”¨Uiçº¿ç¨‹</span>
                .subscribe(UiUtils::show,UiUtils::error);   <span class="hljs-comment">// æˆåŠŸèµ°showï¼Œå¤±è´¥èµ°error</span>
    }

}
</code></pre>
<h3 data-id="heading-7">CompletableFuture çš„å¼‚æ­¥ç¼–ç¨‹</h3>
<p>Future çš„å½¢å¼ç›¸æ¯” Callback Hell æ•ˆæœè¦å¥½ä¸€äº›ï¼Œè™½ç„¶ JDK8 å’Œ 9 éƒ½å¯¹ CompletableFuture åšäº†å„ç§ä¼˜åŒ–ï¼Œä½†æ˜¯ä»–çš„è¡¨ç°è¿˜æ˜¯ä¸å¤ªå¥½ã€‚å¤šä¸ªFutureåœ¨åµŒå¥—æ—¶ï¼Œå¯è¯»æ€§è¿˜æ˜¯æ¯”è¾ƒå·®çš„ã€‚å¹¶ä¸” CompletableFuture ä¸å­˜åœ¨ä»€ä¹ˆå›å‹ï¼Œæˆ–è€…æ˜¯å»¶è¿Ÿè°ƒç”¨çš„åŠŸèƒ½ã€‚</p>
<p>ç°åœ¨å€ŸåŠ© CompletableFuture æ¥å®ç°ä¸€ä¸ªåœºæ™¯ã€‚</p>
<ol>
<li>è·å–ä¸€ä¸ªç”¨æˆ·IDçš„åˆ—è¡¨ã€‚</li>
<li>é€šè¿‡ç”¨æˆ·IDåˆ†åˆ«è·å–ä»–çš„åå­—ä»¥åŠç»Ÿè®¡ä¿¡æ¯ã€‚ï¼ˆå¸Œæœ›è¿™ä¸¤ä¸ªæ“ä½œæ˜¯å¹¶è¡Œæ‰§è¡Œçš„ï¼‰</li>
<li>å½“ä¸¤ä¸ªä¿¡æ¯éƒ½è·å–åˆ°ä¹‹åï¼Œå°è£…æˆä¸€ä¸ªæ™®é€šå­—ç¬¦ä¸²å³å¯ã€‚</li>
<li>å“åº”æ•°æ®ï¼Œæœ€åæ‹¿åˆ°ç»“æœï¼ˆè¾“å‡ºä¸€ä¸‹ï¼‰ã€‚</li>
</ol>
<p>å®ç°ä»£ç </p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GetNameAndStatTestByCF</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// 1ã€è·å–ä¸€ç»„ç”¨æˆ·IDåˆ—è¡¨</span>
        CompletableFuture&lt;List&lt;String&gt;&gt; idList = getID();
        CompletableFuture&lt;List&lt;String&gt;&gt; dataCompletableFuture = idList.thenComposeAsync(ids -&gt; {
            Stream&lt;CompletableFuture&lt;String&gt;&gt; resultStream = ids.stream().map(id -&gt; {
                <span class="hljs-comment">// 2ã€å¹¶è¡ŒåŸºäºIDæŸ¥è¯¢åç§°ä¿¡æ¯</span>
                CompletableFuture&lt;String&gt; nameTask = getName();
                <span class="hljs-comment">// 2ã€å¹¶è¡ŒåŸºäºIDæŸ¥è¯¢ç»Ÿè®¡ä¿¡æ¯</span>
                CompletableFuture&lt;Integer&gt; statTask = getStat();
                <span class="hljs-comment">// è®©ä¸¤ä¸ªæŸ¥è¯¢åç§°ä¿¡æ¯å’ŒæŸ¥è¯¢ç»Ÿè®¡ä¿¡æ¯æ“ä½œå¹¶è¡Œæ‰§è¡Œ</span>
                <span class="hljs-keyword">return</span> nameTask.thenCombineAsync(statTask, (name, stat) -&gt; {
                    <span class="hljs-comment">// 3ã€æ‹¿åˆ°ä¿¡æ¯ç»„è£…</span>
                    <span class="hljs-keyword">return</span> <span class="hljs-string">"Nameï¼š"</span> + name + <span class="hljs-string">"ï¼ŒStatï¼š"</span> + stat;
                });
            });
            <span class="hljs-comment">// å°†resultStreamè½¬æ¢æˆä¸€ä¸ªæ•°ç»„</span>
            List&lt;CompletableFuture&lt;String&gt;&gt; resultList = resultStream.toList();
            <span class="hljs-comment">// å…¨éƒ¨çš„ä»»åŠ¡å°è£…èµ·æ¥</span>
            CompletableFuture&lt;Void&gt; allDone = CompletableFuture.allOf(resultList.toArray(<span class="hljs-keyword">new</span> <span class="hljs-title class_">CompletableFuture</span>[]{}));
            <span class="hljs-comment">// æ‰§è¡Œå…¨éƒ¨ä»»åŠ¡</span>
            <span class="hljs-keyword">return</span> allDone.thenApplyAsync(v -&gt; resultList.stream()
                    .map(CompletableFuture::join)
                    .collect(Collectors.toList()));
        });

        <span class="hljs-comment">// 4ã€è·å–å…¨éƒ¨çš„ç»„ä»¶ä¿¡æ¯åå“åº”å®¢æˆ·ç«¯ï¼ˆè¾“å‡ºï¼‰</span>
        List&lt;String&gt; data = dataCompletableFuture.join();
        System.out.println(data);
    }

    <span class="hljs-comment">// æ¨¡æ‹ŸzzæœåŠ¡è·å–ç»Ÿè®¡ä¿¡æ¯</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> CompletableFuture&lt;Integer&gt; <span class="hljs-title function_">getStat</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> CompletableFuture.supplyAsync(() -&gt; <span class="hljs-number">666</span>);
    }

    <span class="hljs-comment">// æ¨¡æ‹ŸyyæœåŠ¡è·å–åç§°ä¿¡æ¯</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> CompletableFuture&lt;String&gt; <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> CompletableFuture.supplyAsync(() -&gt; <span class="hljs-string">"å¼ ä¸‰"</span>);
    }

    <span class="hljs-comment">// æ¨¡æ‹ŸxxæœåŠ¡ï¼Œè·å–ä¸€ç»„ç”¨æˆ·ID</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> CompletableFuture&lt;List&lt;String&gt;&gt; <span class="hljs-title function_">getID</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> CompletableFuture.supplyAsync(() -&gt; {
            <span class="hljs-comment">// æ¨¡æ‹ŸæŸ¥è¯¢ä¸‰æ–¹æœåŠ¡</span>
            List&lt;String&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
            list.add(<span class="hljs-string">"1"</span>);
            list.add(<span class="hljs-string">"2"</span>);
            list.add(<span class="hljs-string">"3"</span>);
            <span class="hljs-keyword">return</span> list;
        });
    }

}
</code></pre>
<h3 data-id="heading-8">è§£å†³ CompletableFuture çš„é—®é¢˜</h3>
<p>CompletableFuture å¯ä»¥å®ç°ä¸€äº›ç®€å•çš„å¼‚æ­¥ç¼–ç¨‹ï¼Œä½†æ˜¯å¯çœ‹æ€§å’Œç»´æŠ¤æ€§ä»¥ååæœŸçš„æ‰©å±•éƒ½éœ€è¦å¯¹æ•´ä½“ä»£ç åšæ¯”è¾ƒå¤§æˆæœ¬çš„ç»´æŠ¤ã€‚ä¾ç„¶é‡‡ç”¨ Reactor æ¥å®ç°ä¸€ä¸ªä¸€æ¨¡ä¸€æ ·çš„é€»è¾‘ï¼Œå†çœ‹ä»£ç æ•ˆæœã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GetNameAndStatByReactor</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// 1ã€è·å–ä¸€ç»„ç”¨æˆ·IDåˆ—è¡¨</span>
        Flux&lt;String&gt; idFlux = getId();

        Flux&lt;String&gt; result = idFlux.flatMap(id -&gt; {
            <span class="hljs-comment">// 2ã€å¹¶è¡ŒåŸºäºIDæŸ¥è¯¢åç§°ä¿¡æ¯</span>
            Flux&lt;String&gt; nameFlux = getName(id);
            <span class="hljs-comment">// 2ã€å¹¶è¡ŒåŸºäºIDæŸ¥è¯¢ç»Ÿè®¡ä¿¡æ¯</span>
            Flux&lt;Integer&gt; statFlux = getStat(id);
            <span class="hljs-comment">// ä¿©ä»»åŠ¡å¹¶è¡Œå¤„ç†å®Œæ¯•ï¼Œè§¦å‘3</span>
            <span class="hljs-keyword">return</span> nameFlux.zipWith(statFlux, (name, stat) -&gt; {
                <span class="hljs-comment">// 3ã€æ‹¿åˆ°ä¿¡æ¯ç»„è£…</span>
                <span class="hljs-keyword">return</span> <span class="hljs-string">"Nameï¼š"</span> + name + <span class="hljs-string">"ï¼ŒStatï¼š"</span> + stat;
            });
        });
        Mono&lt;List&lt;String&gt;&gt; listMono = result.collectList();
        List&lt;String&gt; info = listMono.block();
        <span class="hljs-comment">// 4ã€è·å–å…¨éƒ¨çš„ç»„ä»¶ä¿¡æ¯åå“åº”å®¢æˆ·ç«¯ï¼ˆè¾“å‡ºï¼‰</span>
        System.out.println(info);
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Flux&lt;Integer&gt; <span class="hljs-title function_">getStat</span><span class="hljs-params">(String id)</span> {
        <span class="hljs-comment">// ä¼šæŸ¥è¯¢ä¸‰æ–¹æœåŠ¡ï¼Œç„¶åå°è£…ç»“æœ</span>
        <span class="hljs-keyword">return</span> Flux.just(<span class="hljs-number">888</span>);
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Flux&lt;String&gt; <span class="hljs-title function_">getName</span><span class="hljs-params">(String id)</span> {
        <span class="hljs-comment">// ä¼šæŸ¥è¯¢ä¸‰æ–¹æœåŠ¡ï¼Œç„¶åå°è£…ç»“æœ</span>
        <span class="hljs-keyword">return</span> Flux.just(<span class="hljs-string">"å¼ ä¸‰"</span>);
    }


    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Flux&lt;String&gt; <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// ä¼šæŸ¥è¯¢ä¸‰æ–¹æœåŠ¡ï¼Œç„¶åå°è£…ç»“æœ</span>
        <span class="hljs-keyword">return</span> Flux.just(<span class="hljs-string">"1"</span>,<span class="hljs-string">"2"</span>,<span class="hljs-string">"3"</span>);
    }
}
</code></pre>
<h2 data-id="heading-9">RxJava2 å®ç°å¼‚æ­¥ç¼–ç¨‹</h2>
<p>RxJava æ˜¯ä¸€ä¸ªå°æ¡†æ¶ï¼Œæˆ–è€…æ˜¯ä¾èµ–åº“ã€‚åœ¨ RxJava çš„1.xç‰ˆæœ¬ä¸­ï¼Œå®ƒå¹¶ä¸åŸºäº Reactive Streams å»å®ç°çš„ã€‚æ²¡æœ‰å…³ç³»ï¼Œå› ä¸º RxJava çš„ 2 ç‰ˆæœ¬ï¼Œå°±æ˜¯åŸºäºReactive Streams å®ç°çš„äº†ã€‚</p>
<p>ä½¿ç”¨ RxJava å·¨ç®€å•ï¼Œå› ä¸ºä½œè€…æƒ³å°† RxJava å°½é‡åšåˆ°è½»é‡çº§ï¼Œå°±ä¸€ä¸ªä¾èµ–ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!--RxJava2çš„ä¾èµ–--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.reactivex.rxjava2<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>rxjava<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.2.21<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h3 data-id="heading-10">RxJava2 çš„å…¥é—¨æ“ä½œ</h3>
<p>è·å–ä¸€ä¸ª Person å¯¹è±¡çš„é›†åˆï¼Œå°† Person é›†åˆä¸­çš„æ‰€æœ‰å¹´é¾„å¤§äº10å²çš„ Person å¯¹è±¡ç­›é€‰å‡ºæ¥ï¼Œå¹¶è¾“å‡ºä»–çš„åå­—ã€‚</p>
<p>é‡‡ç”¨ RxJava æ¥å®ç°ä¸€ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">//1ã€è·å–Personå¯¹è±¡é›†åˆ</span>
        List&lt;Person&gt; personList = getPersonList();

        <span class="hljs-comment">//2ã€å®Œæˆä¸Šé¢è¦æ±‚çš„æ“ä½œ</span>
        <span class="hljs-comment">//2.1ã€å°†personé›†åˆè½¬æ¢ä¸ºRxJavaçš„æµ</span>
        Flowable.fromArray(personList.toArray(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>[]{}))
                <span class="hljs-comment">//2.2 è¿‡æ»¤å¹´é¾„å¤§äº10å²çš„</span>
                .filter(person -&gt; person.getAge() &gt; <span class="hljs-number">10</span>)
                <span class="hljs-comment">//2.3 è·å–ç­›é€‰åçš„Personåç§°</span>
                .map(person -&gt; person.getName())
                <span class="hljs-comment">//2.4 è¾“å‡ºName</span>
                .subscribe(System.out::println);
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> List&lt;Person&gt; <span class="hljs-title function_">getPersonList</span><span class="hljs-params">()</span> {
        List&lt;Person&gt; personList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        personList.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"å¤§å¨ƒ"</span>,<span class="hljs-number">5</span>));
        personList.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"äºŒå¨ƒ"</span>,<span class="hljs-number">7</span>));
        personList.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"ä¸‰å¨ƒ"</span>,<span class="hljs-number">9</span>));
        personList.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"å››å¨ƒ"</span>,<span class="hljs-number">11</span>));
        personList.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"äº”å¨ƒ"</span>,<span class="hljs-number">13</span>));
        <span class="hljs-keyword">return</span> personList;
    }
}
</code></pre>
<h3 data-id="heading-11">RxJava2 çš„åŸºç¡€å¤„ç†æµç¨‹</h3>
<p>åœ¨ RxJava ä¸­æœ‰ä¸‰ä¸ªæ ¸å¿ƒçš„è§’è‰²</p>
<ul>
<li>è¢«è§‚å¯Ÿè€…ï¼ˆObservableï¼‰</li>
<li>è§‚å¯Ÿè€…ï¼ˆObserverï¼‰</li>
<li>è®¢é˜…ï¼ˆSubscribeï¼‰</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo2</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">//1ã€æ„å»ºObservable</span>
        Observable&lt;String&gt; observable = Observable.create(emitter -&gt; {
            emitter.onNext(<span class="hljs-string">"Hello"</span>);
            emitter.onNext(<span class="hljs-string">"World"</span>);
            emitter.onComplete();
        });

        <span class="hljs-comment">//2ã€æ„å»ºObserver</span>
        Observer&lt;String&gt; observer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Observer</span>&lt;&gt;() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSubscribe</span><span class="hljs-params">(Disposable d)</span> {
                System.out.println(<span class="hljs-string">"å¼€å§‹è®¢é˜…"</span>);
            }

            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onNext</span><span class="hljs-params">(String s)</span> {
                System.out.println(<span class="hljs-string">"è§‚å¯Ÿè€…ï¼š"</span> + s);
            }

            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onError</span><span class="hljs-params">(Throwable e)</span> {
                e.printStackTrace();
            }

            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onComplete</span><span class="hljs-params">()</span> {
                System.out.println(<span class="hljs-string">"è®¢é˜…ç»“æŸ"</span>);
            }
        };

        <span class="hljs-comment">//3ã€è®¢é˜…</span>
        observable.subscribe(observer);
    }

}
</code></pre>
<h3 data-id="heading-12">åˆ›å»ºæ“ä½œç¬¦</h3>
<h4 data-id="heading-13">create</h4>
<p>Observable.create() æ˜¯æ‰‹åŠ¨åˆ›å»º Observable çš„æ–¹æ³•ï¼Œå…è®¸å®Œå…¨æ§åˆ¶æ•°æ®çš„å‘å°„ã€å®Œæˆå’Œé”™è¯¯å¤„ç†ã€‚</p>
<pre><code class="hljs language-java" lang="java">Observable&lt;String&gt; observable = Observable.create(emitter -&gt; {
    emitter.onNext(<span class="hljs-string">"Hello"</span>);
    emitter.onNext(<span class="hljs-string">"World"</span>);
    emitter.onComplete();
});

observable.subscribe(
    item -&gt; System.out.println(<span class="hljs-string">"æ”¶åˆ°: "</span> + item),
    error -&gt; System.err.println(<span class="hljs-string">"é”™è¯¯: "</span> + error),
    () -&gt; System.out.println(<span class="hljs-string">"å®Œæˆ"</span>)
);

<span class="hljs-comment">// è¾“å‡ºï¼š</span>
<span class="hljs-comment">// æ”¶åˆ°: Hello</span>
<span class="hljs-comment">// æ”¶åˆ°: World</span>
<span class="hljs-comment">// å®Œæˆ</span>
</code></pre>
<h4 data-id="heading-14">just</h4>
<p>just ç”¨äºåˆ›å»ºä¸€ä¸ªå‘å°„å›ºå®šæ•°æ®çš„ Observableï¼Œæ•°æ®æ˜¯é¢„å®šä¹‰çš„ï¼Œå‘å°„åç«‹å³å®Œæˆã€‚</p>
<pre><code class="hljs language-java" lang="java">Observable.just(<span class="hljs-string">"Hello"</span>)
    .subscribe(item -&gt; 
        System.out.println(<span class="hljs-string">"æ”¶åˆ°: "</span> + item)
    );

<span class="hljs-comment">// è¾“å‡ºï¼š</span>
<span class="hljs-comment">// æ”¶åˆ°: Hello</span>
</code></pre>
<h4 data-id="heading-15">fromArray</h4>
<p>fromArray ç”¨äºä»æ•°ç»„åˆ›å»ºä¸€ä¸ª Observableï¼ŒæŒ‰æ•°ç»„é¡ºåºå‘å°„æ‰€æœ‰å…ƒç´ ã€‚</p>
<pre><code class="hljs language-java" lang="java">String[] fruits = {<span class="hljs-string">"Apple"</span>, <span class="hljs-string">"Banana"</span>, <span class="hljs-string">"Cherry"</span>, <span class="hljs-string">"Date"</span>};
Observable.fromArray(fruits)
    .subscribe(fruit -&gt; 
        System.out.print(fruit + <span class="hljs-string">" "</span>)
    );

<span class="hljs-comment">// è¾“å‡ºï¼š</span>
<span class="hljs-comment">// Apple Banana Cherry Date</span>
</code></pre>
<h4 data-id="heading-16">fromCallable</h4>
<p>fromCallable ç”¨äºä» Callable åˆ›å»º Observableï¼ŒCallable çš„è¿”å›å€¼ä¼šè¢«åŒ…è£…æˆ Observable å‘å°„ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.fromCallable(() -&gt; <span class="hljs-string">"è®¡ç®—ç»“æœ: "</span> + System.currentTimeMillis())
                .subscribe(System.out::println);

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// è®¡ç®—ç»“æœ: 1620000000000</span>
    }
</code></pre>
<h4 data-id="heading-17">timer</h4>
<p>timer ç”¨äºåˆ›å»ºä¸€ä¸ªå»¶è¿ŸæŒ‡å®šæ—¶é—´åå‘å°„å•ä¸ªæ•°æ®çš„ Observableï¼Œé€šå¸¸æ˜¯ 0Lï¼Œç„¶åç»“æŸã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InterruptedException {
        System.out.println(<span class="hljs-string">"å¼€å§‹æ—¶é—´: "</span> + System.currentTimeMillis());

        Observable.timer(<span class="hljs-number">2</span>, TimeUnit.SECONDS)
                .subscribe(tick -&gt;
                        System.out.println(<span class="hljs-string">"è§¦å‘æ—¶é—´: "</span> + System.currentTimeMillis() + <span class="hljs-string">"ï¼Œå€¼: "</span> + tick)
                );

        Thread.sleep(<span class="hljs-number">3000</span>);
    }
</code></pre>
<p>é»˜è®¤ä½¿ç”¨ <code>Schedulers.computation()</code>çº¿ç¨‹æ± è®¡ç®—ï¼Œçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ˜¯å®ˆæŠ¤çº¿ç¨‹ï¼Œå¦‚æœä¸»çº¿ç¨‹ç»“æŸå®ˆæŠ¤çº¿ç¨‹ä¹Ÿä¼šéšä¹‹ç»ˆæ­¢ã€‚</p>
<h4 data-id="heading-18">interval</h4>
<p>interval() æ–¹æ³•ç”¨äºåˆ›å»ºä¸€ä¸ª å‘¨æœŸæ€§å®šæ—¶å‘å°„çš„ Observableï¼Œå®ƒä¼šæŒ‰ç…§æŒ‡å®šçš„æ—¶é—´é—´éš”æ— é™æœŸåœ°å‘å°„é€’å¢çš„æ•°å­—åºåˆ—ï¼ˆä»0å¼€å§‹ï¼‰ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException {
        Observable.interval(<span class="hljs-number">2</span>, TimeUnit.SECONDS)
                .subscribe(aLong -&gt; System.out.println(Thread.currentThread().getName() + <span class="hljs-string">"ï¼š"</span> + aLong));

        System.in.read();
    }
</code></pre>
<h4 data-id="heading-19">intervalRange</h4>
<p>intervalRange() æ˜¯ interval() çš„å¢å¼ºç‰ˆæœ¬ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ªæœ‰é™æ¬¡æ•°çš„å‘¨æœŸæ€§å‘å°„çš„ Observableã€‚å®ƒå…è®¸ä½ æŒ‡å®šèµ·å§‹å€¼ã€å‘å°„æ¬¡æ•°ã€åˆå§‹å»¶è¿Ÿå’Œé—´éš”æ—¶é—´ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException {
        Observable.intervalRange(<span class="hljs-number">100</span>, <span class="hljs-number">4</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, TimeUnit.SECONDS)
                .subscribe(aLong -&gt; System.out.println(Thread.currentThread().getName() + <span class="hljs-string">"ï¼š"</span> + aLong));
        System.in.read();
    }
</code></pre>
<h4 data-id="heading-20">range &amp; rangeLong</h4>
<p>è¿™ä¸¤ä¸ªæ–¹æ³•ç”¨äºåˆ›å»ºä¸€ä¸ªå‘å°„è¿ç»­æ•´æ•°åºåˆ—çš„ Observableï¼š</p>
<ul>
<li><code>range(start, count)</code>ï¼šå‘å°„ Integer ç±»å‹çš„è¿ç»­æ•´æ•°ã€‚</li>
<li><code>rangeLong(start, count)</code>ï¼šå‘å°„ Long ç±»å‹çš„è¿ç»­æ•´æ•°ã€‚</li>
</ul>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException {
        Observable.range(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>)
                .subscribe(integer -&gt; System.out.println(Thread.currentThread().getName() + <span class="hljs-string">"ï¼š"</span> + integer));
        System.in.read();
    }
</code></pre>
<h4 data-id="heading-21">neverã€errorã€empty</h4>
<p>è¿™ä¸‰ä¸ªæ–¹æ³•éƒ½æ˜¯åˆ›å»ºç‰¹æ®Šçš„ Observable çš„å·¥å‚æ–¹æ³•ï¼Œç”¨äºç‰¹å®šçš„åœºæ™¯ã€‚</p>
<ul>
<li>neverï¼šåˆ›å»ºä¸€ä¸ªæ°¸è¿œä¸ä¼šå‘å°„ä»»ä½•æ•°æ®ï¼Œä¹Ÿä¸ä¼šç»ˆæ­¢çš„ Observableã€‚</li>
<li>errorï¼šåˆ›å»ºä¸€ä¸ªç«‹å³å‘å°„é”™è¯¯çš„ Observableã€‚</li>
<li>emptyï¼šåˆ›å»ºä¸€ä¸ªç«‹å³å®Œæˆä½†ä¸å‘å°„ä»»ä½•æ•°æ®çš„ Observableã€‚</li>
</ul>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// Observable.never()</span>
        <span class="hljs-comment">// Observable.error(new RuntimeException("erroräº‹ä»¶"))</span>
        Observable.empty()
                .subscribe(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Observer</span>() {
                    <span class="hljs-meta">@Override</span>
                    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSubscribe</span><span class="hljs-params">(Disposable d)</span> {
                        System.out.println(<span class="hljs-string">"å¼€å§‹è®¢é˜…"</span>);
                    }

                    <span class="hljs-meta">@Override</span>
                    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onNext</span><span class="hljs-params">(Object s)</span> {
                        System.out.println(<span class="hljs-string">"è§‚å¯Ÿè€…ï¼š"</span> + s);
                    }

                    <span class="hljs-meta">@Override</span>
                    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onError</span><span class="hljs-params">(Throwable e)</span> {
                        System.out.println(<span class="hljs-string">"å‡ºç°å¼‚å¸¸ï¼š"</span> + e.getMessage());
                    }

                    <span class="hljs-meta">@Override</span>
                    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onComplete</span><span class="hljs-params">()</span> {
                        System.out.println(<span class="hljs-string">"è®¢é˜…ç»“æŸ"</span>);
                    }
                });
    }
</code></pre>
<h3 data-id="heading-22">è½¬æ¢æ“ä½œç¬¦</h3>
<p>è½¬æ¢æ“ä½œç¬¦æ˜¯ RxJava ä¸­ç”¨äºå¯¹ Observable å‘å°„çš„æ•°æ®è¿›è¡Œå˜æ¢ã€å¤„ç†ã€ç»„åˆçš„æ“ä½œç¬¦ï¼Œç”¨äºå®ç°æ•°æ®æµçš„å„ç§è½¬æ¢é€»è¾‘ã€‚</p>
<h4 data-id="heading-23">map</h4>
<p>map() æ˜¯ RxJava ä¸­æœ€åŸºæœ¬ã€æœ€å¸¸ç”¨çš„è½¬æ¢æ“ä½œç¬¦ï¼Œç”¨äºå¯¹ Observable å‘å°„çš„æ¯ä¸ªå…ƒç´ è¿›è¡Œä¸€å¯¹ä¸€è½¬æ¢ã€‚</p>
<p>ç®€å•æ¥è¯´ï¼šè¾“å…¥ä¸€ä¸ªå€¼ï¼Œè¾“å‡ºå¦ä¸€ä¸ªå€¼ï¼ˆ1è¿›1å‡ºï¼‰ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.just(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>)
                .map(number -&gt; <span class="hljs-string">"æ•°å­—: "</span> + number)
                .subscribe(text -&gt; System.out.println(text));
    }
</code></pre>
<h4 data-id="heading-24">flatMap</h4>
<p>flatMap() ç”¨äºå°†æ¯ä¸ªå‘å°„é¡¹è½¬æ¢ä¸º Observableï¼Œç„¶å"æ‰å¹³åŒ–"åˆå¹¶æˆä¸€ä¸ª Observableã€‚
ç®€å•æ¥è¯´ï¼šè¾“å…¥ä¸€ä¸ªå€¼ï¼Œå¯ä»¥è¾“å‡ºä»»æ„å¤šä¸ªå€¼ï¼ˆ1è¿›Nå‡ºï¼‰ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.just(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>)
                .map(letter -&gt; letter + <span class="hljs-string">"1"</span>)
                .subscribe(result -&gt; System.out.print(result + <span class="hljs-string">" "</span>));
        <span class="hljs-comment">// è¾“å‡º: A1 B1</span>

        <span class="hljs-comment">// flatMap: 1å¯¹å¤šè½¬æ¢</span>
        Observable.just(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>)
                .flatMap(letter -&gt;
                        Observable.just(letter + <span class="hljs-string">"1"</span>, letter + <span class="hljs-string">"2"</span>, letter + <span class="hljs-string">"3"</span>)
                )
                .subscribe(result -&gt; System.out.print(result + <span class="hljs-string">" "</span>));
        <span class="hljs-comment">// è¾“å‡º: A1 A2 A3 B1 B2 B3</span>
    }
</code></pre>
<h4 data-id="heading-25">concatMap</h4>
<p>concatMap() æ˜¯ flatMap() çš„é¡ºåºä¿æŒç‰ˆæœ¬ï¼Œå®ƒä¼šä¸¥æ ¼æŒ‰ç…§åŸå§‹é¡ºåºä¾æ¬¡å¤„ç†æ¯ä¸ªå…ƒç´ ï¼Œåªæœ‰å‰ä¸€ä¸ªå…ƒç´ çš„ Observable å®Œæˆä¹‹åï¼Œæ‰ä¼šå¤„ç†ä¸‹ä¸€ä¸ªã€‚
ç®€å•æ¥è¯´ï¼šflatMapæ˜¯å¹¶å‘å¤„ç†ï¼ŒconcatMapæ˜¯ä¸²è¡Œå¤„ç†ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException {
        Observable.just(<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>)  <span class="hljs-comment">// æ³¨æ„é¡ºåºï¼š3, 1, 2</span>
                .flatMap(num -&gt;
                        Observable.just(num)
                                .delay(num, TimeUnit.SECONDS)  <span class="hljs-comment">// å»¶è¿Ÿå¯¹åº”çš„ç§’æ•°</span>
                )
                .subscribe(num -&gt; System.out.println(<span class="hljs-string">"flatMap: "</span> + num));
        <span class="hljs-comment">// è¾“å‡ºé¡ºåºï¼š1 2 3ï¼ˆè°å…ˆå®Œæˆè°å…ˆè¾“å‡ºï¼‰</span>

        Observable.just(<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>)
                .concatMap(num -&gt;
                        Observable.just(num)
                                .delay(num, TimeUnit.SECONDS)
                )
                .subscribe(num -&gt; System.out.println(<span class="hljs-string">"concatMap: "</span> + num));
        <span class="hljs-comment">// è¾“å‡ºé¡ºåºï¼š3 1 2ï¼ˆä¸¥æ ¼ä¿æŒåŸå§‹é¡ºåºï¼‰</span>
        System.in.read();
    }
</code></pre>
<h4 data-id="heading-26">buffer</h4>
<p>buffer() ç”¨äºå°† Observable å‘å°„çš„æ•°æ®é¡¹æ”¶é›†åˆ°é›†åˆä¸­ï¼Œç„¶åä¸€æ¬¡æ€§å‘å°„è¿™äº›é›†åˆï¼Œè€Œä¸æ˜¯å•ä¸ªå‘å°„ã€‚
ç®€å•æ¥è¯´ï¼šæŠŠå¤šä¸ªå•ç‹¬çš„æ•°æ®"æ‰“åŒ…"æˆä¸€æ‰¹ä¸€èµ·å‘å°„ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.range(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>)  <span class="hljs-comment">// å‘å°„1-10</span>
                .buffer(<span class="hljs-number">3</span>)           <span class="hljs-comment">// æ¯3ä¸ªä¸€æ‰¹</span>
                .subscribe(batch -&gt;
                        System.out.println(<span class="hljs-string">"æ‰¹æ¬¡: "</span> + batch)
                );

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// æ‰¹æ¬¡: [1, 2, 3]</span>
        <span class="hljs-comment">// æ‰¹æ¬¡: [2, 4, 6]</span>
        <span class="hljs-comment">// æ‰¹æ¬¡: [7, 8, 9]</span>
        <span class="hljs-comment">// æ‰¹æ¬¡: [10]           â† æœ€åä¸€æ‰¹ä¸è¶³3ä¸ª</span>
    }
</code></pre>
<h4 data-id="heading-27">scan</h4>
<p>scan() ç”¨äºå¯¹ Observable å‘å°„çš„æ•°æ®è¿›è¡Œç´¯ç§¯è®¡ç®—ï¼Œå¹¶å‘å°„æ¯ä¸ªä¸­é—´ç»“æœã€‚
ç®€å•æ¥è¯´ï¼šåƒ Excel é‡Œçš„ç´¯è®¡æ±‚å’Œï¼Œæ¯æ¥ä¸€ä¸ªæ–°æ•°æ®ï¼Œå°±ä¸å‰ä¸€ä¸ªç»“æœè®¡ç®—ï¼Œå¹¶è¾“å‡ºå½“å‰ç´¯è®¡å€¼ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.just(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>)
                .scan(Integer::sum)
                .subscribe(result -&gt; System.out.print(result + <span class="hljs-string">" "</span>));

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// 1 3 6 10 15</span>

        <span class="hljs-comment">// è®¡ç®—è¿‡ç¨‹ï¼š</span>
        <span class="hljs-comment">// åˆå§‹ï¼šæ— ç§å­å€¼ï¼Œç¬¬ä¸€æ¬¡ç›´æ¥å‘å°„1</span>
        <span class="hljs-comment">// 1 + 2 = 3</span>
        <span class="hljs-comment">// 3 + 3 = 6</span>
        <span class="hljs-comment">// 6 + 4 = 10</span>
        <span class="hljs-comment">// 10 + 5 = 15</span>
    }
</code></pre>
<h4 data-id="heading-28">window</h4>
<p>window() ç”¨äºå°† Observable å‘å°„çš„æ•°æ®åˆ†ç»„åˆ°å¤šä¸ªå­ Observable ä¸­ï¼Œç„¶åå‘å°„è¿™äº›å­ Observable è€Œä¸æ˜¯å•ä¸ªæ•°æ®é¡¹ã€‚
ç®€å•æ¥è¯´ï¼šåˆ›å»ºå¤šä¸ª"çª—å£"ï¼Œæ¯ä¸ªçª—å£æ˜¯ä¸€ä¸ª Observableï¼Œå°†æ•°æ®åˆ†é…åˆ°ä¸åŒçª—å£ä¸­ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// buffer: ç›´æ¥å‘å°„List</span>
        Observable.range(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>)
                .buffer(<span class="hljs-number">2</span>)
                .subscribe(list -&gt;
                        System.out.println(<span class="hljs-string">"bufferè¾“å‡ºList: "</span> + list)
                );

        <span class="hljs-comment">// window: å‘å°„Observableï¼Œéœ€è¦è¿›ä¸€æ­¥å¤„ç†</span>
        Observable.range(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>)
                .window(<span class="hljs-number">2</span>)
                .flatMapSingle(Observable::toList  <span class="hljs-comment">// éœ€è¦æ‰‹åŠ¨è½¬æ¢</span>
                )
                .subscribe(list -&gt;
                        System.out.println(<span class="hljs-string">"windowè¾“å‡ºList: "</span> + list)
                );

        <span class="hljs-comment">// ä¸¤è€…è¾“å‡ºç›¸åŒï¼Œä½†windowæ›´çµæ´»ï¼š</span>
        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// [1, 2]</span>
        <span class="hljs-comment">// [3, 4]</span>
        <span class="hljs-comment">// [5]</span>
    }
</code></pre>
<p>window å’Œ buffer çš„åŒºåˆ«å°±æ˜¯ï¼š</p>
<ul>
<li>window è¿”å›çš„æ˜¯è¢«è§‚å¯Ÿè€…çš„é›†åˆã€‚</li>
<li>buffer è¿”å›çš„æ˜¯æ•°æ®çš„é›†åˆã€‚</li>
</ul>
<h3 data-id="heading-29">è¿‡æ»¤æ“ä½œç¬¦</h3>
<p>è¿‡æ»¤æ“ä½œç¬¦ç”¨äºä»æ•°æ®æµä¸­ç­›é€‰å‡ºéœ€è¦çš„æ•°æ®ï¼Œè¿‡æ»¤æ‰ä¸éœ€è¦çš„æ•°æ®ã€‚</p>
<h4 data-id="heading-30">filter</h4>
<p>filter() æ˜¯ RxJava ä¸­æœ€åŸºæœ¬çš„è¿‡æ»¤æ“ä½œç¬¦ï¼Œç”¨äºæ ¹æ®æŒ‡å®šæ¡ä»¶ç­›é€‰ Observable å‘å°„çš„æ•°æ®ï¼Œåªè®©æ»¡è¶³æ¡ä»¶çš„æ•°æ®é€šè¿‡ï¼Œä¸æ»¡è¶³æ¡ä»¶çš„è¢«è¿‡æ»¤æ‰ã€‚</p>
<p>å¯¹æ¯ä¸ªæ•°æ®é¡¹è¿›è¡Œåˆ¤æ–­ï¼Œè¿”å› trueåˆ™é€šè¿‡ï¼Œè¿”å› falseåˆ™ä¸¢å¼ƒã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.range(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>)  <span class="hljs-comment">// å‘å°„1-10</span>
                .filter(number -&gt; number % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>)  <span class="hljs-comment">// åªä¿ç•™å¶æ•°</span>
                .subscribe(even -&gt; System.out.print(even + <span class="hljs-string">" "</span>));

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// 2 4 6 8 10</span>
    }
</code></pre>
<h4 data-id="heading-31">ofType</h4>
<p>ofType() æ˜¯ä¸€ä¸ªç±»å‹è¿‡æ»¤æ“ä½œç¬¦ï¼Œç”¨äºè¿‡æ»¤ Observable å‘å°„çš„æ•°æ®ï¼Œåªä¿ç•™æŒ‡å®šç±»å‹çš„æ•°æ®ï¼Œå…¶ä»–ç±»å‹çš„æ•°æ®ä¼šè¢«è¿‡æ»¤æ‰ã€‚
æ ¸å¿ƒæ€æƒ³ï¼šåªè®©æŒ‡å®šç±»å‹çš„æ•°æ®é€šè¿‡ï¼Œç›¸å½“äº filter(item -&gt; item instanceof TargetType) çš„ç®€åŒ–ç‰ˆã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable&lt;Object&gt; mixedObservable = Observable.just(
                <span class="hljs-string">"Hello"</span>,      <span class="hljs-comment">// String</span>
                <span class="hljs-number">123</span>,          <span class="hljs-comment">// Integer</span>
                <span class="hljs-number">45.6</span>,         <span class="hljs-comment">// Double</span>
                <span class="hljs-string">"World"</span>,      <span class="hljs-comment">// String</span>
                <span class="hljs-literal">true</span>,         <span class="hljs-comment">// Boolean</span>
                <span class="hljs-number">789</span>           <span class="hljs-comment">// Integer</span>
        );

        <span class="hljs-comment">// åªä¿ç•™å­—ç¬¦ä¸²ç±»å‹</span>
        mixedObservable
                .ofType(String.class)
                .subscribe(str -&gt;
                        System.out.println(<span class="hljs-string">"å­—ç¬¦ä¸²: "</span> + str)
                );

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// å­—ç¬¦ä¸²: Hello</span>
        <span class="hljs-comment">// å­—ç¬¦ä¸²: World</span>
    }
</code></pre>
<h4 data-id="heading-32">distinct</h4>
<p>distinct() ç”¨äºè¿‡æ»¤ Observable ä¸­é‡å¤çš„æ•°æ®é¡¹ï¼Œç¡®ä¿æ¯ä¸ªæ•°æ®é¡¹åªå‘å°„ä¸€æ¬¡ã€‚
æ ¸å¿ƒæ€æƒ³ï¼šå»é‡ï¼Œä¿è¯å‘å°„çš„æ•°æ®åºåˆ—ä¸­ä¸åŒ…å«é‡å¤å…ƒç´ ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.just(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1</span>)
                .distinct()
                .subscribe(num -&gt; System.out.print(num + <span class="hljs-string">" "</span>));

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// 1 2 3 4 5</span>
        <span class="hljs-comment">// æ³¨æ„ï¼šæœ€åçš„ 1 ä¹Ÿè¢«å»é‡äº†</span>
    }
</code></pre>
<h4 data-id="heading-33">skip &amp; skipLast</h4>
<ul>
<li>skip(n)ï¼šè·³è¿‡ Observable å‘å°„çš„å‰ n ä¸ªæ•°æ®é¡¹ã€‚</li>
<li>skipLast(n)ï¼šè·³è¿‡ Observable å‘å°„çš„å n ä¸ªæ•°æ®é¡¹ã€‚</li>
</ul>
<p>æ ¸å¿ƒæ€æƒ³ï¼šskipæ˜¯"è·³è¿‡å¼€å¤´"ï¼ŒskipLastæ˜¯"è·³è¿‡ç»“å°¾"ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.create(emitter -&gt; {
                    emitter.onNext(<span class="hljs-number">1</span>);
                    emitter.onNext(<span class="hljs-number">2</span>);
                    emitter.onError(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"ä¸­é—´å‡ºé”™"</span>));
                })
                .skipLast(<span class="hljs-number">1</span>) 
                .subscribe(
                        num -&gt; System.out.println(<span class="hljs-string">"æ•°æ®: "</span> + num),
                        error -&gt; System.err.println(<span class="hljs-string">"é”™è¯¯: "</span> + error.getMessage()),
                        () -&gt; System.out.println(<span class="hljs-string">"å®Œæˆ"</span>)
                );

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// æ•°æ®: 1</span>
        <span class="hljs-comment">// é”™è¯¯: ä¸­é—´å‡ºé”™</span>
    }
</code></pre>
<h4 data-id="heading-34">distinctUntilChanged</h4>
<p>distinctUntilChanged() ç”¨äºè¿‡æ»¤æ‰è¿ç»­é‡å¤çš„æ•°æ®ï¼Œåªä¿ç•™å‘ç”Ÿå˜åŒ–çš„æ•°æ®ã€‚
æ ¸å¿ƒæ€æƒ³ï¼šå»é‡ï¼Œä½†åªå»é‡è¿ç»­ç›¸åŒçš„å€¼ï¼Œä¸è¿ç»­å‡ºç°çš„ç›¸åŒå€¼ä¼šè¢«ä¿ç•™ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.just(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>)
                .distinctUntilChanged()
                .subscribe(num -&gt; System.out.print(num + <span class="hljs-string">" "</span>));

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// 1 2 1 3 2 1</span>

        <span class="hljs-comment">// è§£é‡Šï¼š</span>
        <span class="hljs-comment">// åŸå§‹: 1, 1, 2, 2, 1, 3, 3, 2, 2, 1</span>
        <span class="hljs-comment">// å»é‡è¿ç»­é‡å¤å: 1, 2, 1, 3, 2, 1</span>
        <span class="hljs-comment">// æ³¨æ„ï¼šä¸­é—´çš„ 1 è™½ç„¶å‡ºç°è¿‡ï¼Œä½†å› ä¸ºä¸è¿ç»­ï¼Œæ‰€ä»¥ä¿ç•™äº†</span>
    }
</code></pre>
<h4 data-id="heading-35">take</h4>
<p>take() ç”¨äºä» Observable çš„å¼€å¤´å–å‡ºæŒ‡å®šæ•°é‡çš„æ•°æ®ï¼Œç„¶åå®Œæˆã€‚
æ ¸å¿ƒæ€æƒ³ï¼šåªå–å‰ N ä¸ªæ•°æ®ï¼Œä¹‹åçš„æ•°æ®å¿½ç•¥ï¼ŒObservable æå‰å®Œæˆã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.range(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>)  <span class="hljs-comment">// å‘å°„1-10</span>
                .take(<span class="hljs-number">3</span>)             <span class="hljs-comment">// åªå–å‰3ä¸ª</span>
                .subscribe(
                        num -&gt; System.out.print(num + <span class="hljs-string">" "</span>),
                        error -&gt; {
                        },
                        () -&gt; System.out.println(<span class="hljs-string">"\nå·²å®Œæˆ"</span>)
                );

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// 1 2 3</span>
        <span class="hljs-comment">// å·²å®Œæˆ</span>
        <span class="hljs-comment">// æ³¨æ„ï¼š4-10 ä¸ä¼šè¢«å‘å°„</span>
    }
</code></pre>
<h4 data-id="heading-36">firstElement &amp; lastElement &amp; elementAt</h4>
<p>è¿™ä¸‰ä¸ªæ“ä½œç¬¦éƒ½ç”¨äºä» Observable ä¸­å–å‡ºç‰¹å®šä½ç½®çš„å•ä¸ªå…ƒç´ ï¼š</p>
<ul>
<li><strong><code>firstElement()</code></strong>ï¼šå–ç¬¬ä¸€ä¸ªå…ƒç´ </li>
<li><strong><code>lastElement()</code></strong>ï¼šå–æœ€åä¸€ä¸ªå…ƒç´ </li>
<li><strong><code>elementAt(index)</code></strong>ï¼šå–æŒ‡å®šç´¢å¼•ä½ç½®çš„å…ƒç´ </li>
</ul>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.range(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>)  <span class="hljs-comment">// 1,2,3,4,5</span>
                .firstElement()      <span class="hljs-comment">// å–ç¬¬ä¸€ä¸ª</span>
                .subscribe(
                        num -&gt; System.out.println(<span class="hljs-string">"ç¬¬ä¸€ä¸ª: "</span> + num),
                        error -&gt; {
                        },
                        () -&gt; System.out.println(<span class="hljs-string">"æ²¡æœ‰ç¬¬ä¸€ä¸ªå…ƒç´ "</span>)
                );

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// ç¬¬ä¸€ä¸ª: 1</span>
    }
</code></pre>
<h3 data-id="heading-37">ç»„åˆæ“ä½œç¬¦</h3>
<p>ç»„åˆæ“ä½œç¬¦æ˜¯ RxJava ä¸­ç”¨äºå°†å¤šä¸ª Observable ç»„åˆæˆä¸€ä¸ª Observable çš„æ“ä½œç¬¦ã€‚å®ƒä»¬å¤„ç†å¤šä¸ªæ•°æ®æµä¹‹é—´çš„å…³ç³»ï¼Œå®ç°æµçš„åˆå¹¶ã€è¿æ¥ã€ç»„åˆç­‰æ“ä½œã€‚</p>
<h4 data-id="heading-38">concat</h4>
<p>concat() ç”¨äºé¡ºåºè¿æ¥å¤šä¸ª Observableï¼Œå‰ä¸€ä¸ª Observable å®Œæˆåï¼Œæ‰å¼€å§‹å‘å°„ä¸‹ä¸€ä¸ª Observable çš„æ•°æ®ã€‚
æ ¸å¿ƒæ€æƒ³ï¼šä¸²è¡Œè¿æ¥ï¼Œä¿æŒé¡ºåºï¼Œåƒæ’é˜Ÿä¸€æ ·ä¸€ä¸ªæ¥ä¸€ä¸ªã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable&lt;String&gt; first = Observable.just(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>, <span class="hljs-string">"C"</span>);
        Observable&lt;String&gt; second = Observable.just(<span class="hljs-string">"D"</span>, <span class="hljs-string">"E"</span>, <span class="hljs-string">"F"</span>);
        Observable&lt;String&gt; third = Observable.just(<span class="hljs-string">"G"</span>, <span class="hljs-string">"H"</span>);

        Observable.concat(first, second, third)
                .subscribe(
                        letter -&gt; System.out.print(letter + <span class="hljs-string">" "</span>),
                        error -&gt; {
                        },
                        () -&gt; System.out.println(<span class="hljs-string">"\nå…¨éƒ¨å®Œæˆ"</span>)
                );

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// A B C D E F G H</span>
        <span class="hljs-comment">// å…¨éƒ¨å®Œæˆ</span>
        <span class="hljs-comment">// ä¸¥æ ¼æŒ‰ç…§ first â†’ second â†’ third çš„é¡ºåº</span>
    }
</code></pre>
<h4 data-id="heading-39">concatArray</h4>
<p>concatArray() æ˜¯ concat() çš„æ•°ç»„ç‰ˆæœ¬ï¼Œç”¨äºé¡ºåºè¿æ¥å¤šä¸ª Observableï¼ˆä»¥æ•°ç»„å½¢å¼æä¾›ï¼‰ï¼ŒåŠŸèƒ½ä¸ concat() å®Œå…¨ç›¸åŒï¼Œåªæ˜¯å‚æ•°å½¢å¼ä¸åŒã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// åˆ›å»ºObservableæ•°ç»„</span>
        Observable&lt;String&gt;[] observables = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Observable</span>[]{
                Observable.just(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>),
                Observable.just(<span class="hljs-string">"C"</span>, <span class="hljs-string">"D"</span>, <span class="hljs-string">"E"</span>),
                Observable.just(<span class="hljs-string">"F"</span>, <span class="hljs-string">"G"</span>)
        };

        <span class="hljs-comment">// ä½¿ç”¨ concatArray è¿æ¥</span>
        Observable.concatArray(observables)
                .subscribe(letter -&gt; System.out.print(letter + <span class="hljs-string">" "</span>));

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// A B C D E F G</span>
        <span class="hljs-comment">// é¡ºåºè¿æ¥æ‰€æœ‰æ•°ç»„ä¸­çš„Observable</span>
    }
</code></pre>
<h4 data-id="heading-40">merge</h4>
<p>merge() ç”¨äºå¹¶å‘åˆå¹¶å¤šä¸ª Observableï¼Œå°†æ‰€æœ‰æ•°æ®æŒ‰å®é™…åˆ°è¾¾æ—¶é—´é¡ºåºæ··åˆå‘å°„ã€‚</p>
<p>æ ¸å¿ƒæ€æƒ³ï¼šå¹¶è¡Œæ‰§è¡Œï¼Œè°å…ˆåˆ°è°å…ˆå‡ºï¼Œåƒå¤šè½¦é“åˆå¹¶æˆå•è½¦é“ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InterruptedException {
        Observable&lt;Long&gt; fast = Observable.interval(<span class="hljs-number">100</span>, TimeUnit.MILLISECONDS)
                .map(i -&gt; i + <span class="hljs-number">100</span>)  <span class="hljs-comment">// 100, 101, 102...</span>
                .take(<span class="hljs-number">3</span>);
        Observable&lt;Long&gt; slow = Observable.interval(<span class="hljs-number">200</span>, TimeUnit.MILLISECONDS)
                .map(i -&gt; i + <span class="hljs-number">200</span>)  <span class="hljs-comment">// 200, 201, 202...</span>
                .take(<span class="hljs-number">3</span>);

        Observable.merge(fast, slow)
                .subscribe(num -&gt; System.out.print(num + <span class="hljs-string">" "</span>));

        Thread.sleep(<span class="hljs-number">1000</span>);

        <span class="hljs-comment">// è¾“å‡ºï¼ˆå®é™…æ—¶é—´é¡ºåºï¼‰ï¼š</span>
        <span class="hljs-comment">// 100 101 200 102 201 202</span>
        <span class="hljs-comment">// è§£é‡Šï¼š</span>
        <span class="hljs-comment">// 100ms: fastå‘å°„100</span>
        <span class="hljs-comment">// 200ms: slowå‘å°„200, fastå‘å°„101</span>
        <span class="hljs-comment">// 300ms: fastå‘å°„102</span>
        <span class="hljs-comment">// 400ms: slowå‘å°„201</span>
        <span class="hljs-comment">// 600ms: slowå‘å°„202</span>
    }
</code></pre>
<h4 data-id="heading-41">zip</h4>
<p>zip() ç”¨äºå°†å¤šä¸ª Observable çš„æ•°æ®æŒ‰ç´¢å¼•é…å¯¹ç»„åˆï¼Œåƒæ‹‰é“¾ä¸€æ ·ä¸€ä¸€å¯¹åº”ã€‚</p>
<p>æ ¸å¿ƒæ€æƒ³ï¼šç­‰å¾…æ‰€æœ‰Observableéƒ½æœ‰æ•°æ®ï¼Œç„¶åé…å¯¹å‘å°„ï¼Œä»¥æœ€çŸ­çš„Observableä¸ºå‡†ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable&lt;String&gt; letters = Observable.just(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>, <span class="hljs-string">"C"</span>, <span class="hljs-string">"D"</span>);
        Observable&lt;Integer&gt; numbers = Observable.just(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>);

        Observable.zip(
                        letters,
                        numbers,
                        (letter, number) -&gt; letter + number
                )
                .subscribe(result -&gt; System.out.print(result + <span class="hljs-string">" "</span>));

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// A1 B2 C3</span>
        <span class="hljs-comment">// æ³¨æ„ï¼šD è¢«ä¸¢å¼ƒäº†ï¼Œå› ä¸º numbers åªæœ‰3ä¸ª</span>

    }
</code></pre>
<h4 data-id="heading-42">startWith &amp; startWithArray</h4>
<p>è¿™ä¸¤ä¸ªæ“ä½œç¬¦éƒ½ç”¨äºåœ¨ Observable å‘å°„æ•°æ®ä¹‹å‰ï¼Œå…ˆå‘å°„ä¸€äº›æŒ‡å®šçš„æ•°æ®ï¼Œå°±åƒç»™æ•°æ®æµæ·»åŠ "å¼€åœºç™½"ã€‚</p>
<ul>
<li>startWith()ï¼šæ·»åŠ å•ä¸ªå…ƒç´ æˆ– Observableã€‚</li>
<li>startWithArray()ï¼šæ·»åŠ å¤šä¸ªå…ƒç´ ï¼ˆå¯å˜å‚æ•°ï¼‰ã€‚</li>
</ul>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// startWith: æ·»åŠ å•ä¸ªå…ƒç´ </span>
        Observable.just(<span class="hljs-string">"B"</span>, <span class="hljs-string">"C"</span>)
                .startWith(<span class="hljs-string">"A"</span>)
                .subscribe(letter -&gt; System.out.print(<span class="hljs-string">"startWith: "</span> + letter + <span class="hljs-string">" "</span>));

        <span class="hljs-comment">// startWithArray: æ·»åŠ å¤šä¸ªå…ƒç´ </span>
        Observable.just(<span class="hljs-string">"D"</span>, <span class="hljs-string">"E"</span>)
                .startWithArray(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>, <span class="hljs-string">"C"</span>)
                .subscribe(letter -&gt; System.out.print(<span class="hljs-string">"startWithArray: "</span> + letter + <span class="hljs-string">" "</span>));

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// startWith: A B C</span>
        <span class="hljs-comment">// startWithArray: A B C D E</span>
    }
</code></pre>
<h4 data-id="heading-43">count</h4>
<p>count() ç”¨äºç»Ÿè®¡ Observable å‘å°„çš„å…ƒç´ æ•°é‡ï¼Œè¿”å›ä¸€ä¸ªå‘å°„å•ä¸ªè®¡æ•°å€¼çš„ Observableã€‚</p>
<p>æ ¸å¿ƒæ€æƒ³ï¼šæ•°ä¸€æ•°å‘å°„äº†å¤šå°‘ä¸ªå…ƒç´ ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.just(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>, <span class="hljs-string">"C"</span>, <span class="hljs-string">"D"</span>, <span class="hljs-string">"E"</span>)
                .count()
                .subscribe(count -&gt;
                        System.out.println(<span class="hljs-string">"å…ƒç´ æ•°é‡: "</span> + count)
                );

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// å…ƒç´ æ•°é‡: 5</span>
    }
</code></pre>
<h3 data-id="heading-44">åŠŸèƒ½æ“ä½œç¬¦</h3>
<p>åŠŸèƒ½æ“ä½œç¬¦æ˜¯ RxJava ä¸­ç”¨äºè¾…åŠ©è°ƒè¯•ã€ç›‘æ§ã€é”™è¯¯å¤„ç†ã€èµ„æºç®¡ç†å’Œå·¥å…·æ€§åŠŸèƒ½çš„æ“ä½œç¬¦ã€‚å®ƒä»¬ä¸ç›´æ¥å¤„ç†æ•°æ®æµï¼Œè€Œæ˜¯æä¾›è¾…åŠ©åŠŸèƒ½ã€‚</p>
<h4 data-id="heading-45">delay</h4>
<p>delay() ç”¨äºå»¶è¿Ÿå‘å°„ Observable çš„æ•°æ®ï¼Œå¯ä»¥å»¶è¿Ÿæ•´ä¸ªæµï¼Œä¹Ÿå¯ä»¥å»¶è¿Ÿæ¯ä¸ªå…ƒç´ ã€‚
æ ¸å¿ƒæ€æƒ³ï¼šè®©æ•°æ®"ç­‰ä¸€ä¼šå„¿"å†å‘å°„ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InterruptedException {
        System.out.println(<span class="hljs-string">"å¼€å§‹æ—¶é—´: "</span> + System.currentTimeMillis());

        Observable.just(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>, <span class="hljs-string">"C"</span>)
                .delay(<span class="hljs-number">1</span>, TimeUnit.SECONDS)  <span class="hljs-comment">// å»¶è¿Ÿ1ç§’</span>
                .subscribe(item -&gt;
                        System.out.println(System.currentTimeMillis() + <span class="hljs-string">": "</span> + item)
                );

        Thread.sleep(<span class="hljs-number">2000</span>);

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// å¼€å§‹æ—¶é—´: 1766569373459</span>
        <span class="hljs-comment">// 1766569374574: A</span>
        <span class="hljs-comment">// 1766569374580: B</span>
        <span class="hljs-comment">// 1766569374580: C</span>
        <span class="hljs-comment">// æ³¨æ„ï¼šA,B,Cå‡ ä¹åŒæ—¶å‘å°„ï¼Œéƒ½å»¶è¿Ÿäº†1ç§’</span>
    }
</code></pre>
<h4 data-id="heading-46">subscribeOn &amp; observerOn</h4>
<p>è¿™ä¸¤ä¸ªæ“ä½œç¬¦ç”¨äºæ§åˆ¶ Observable åœ¨å“ªä¸ªçº¿ç¨‹ä¸Šæ‰§è¡Œå’Œè§‚å¯Ÿï¼Œæ˜¯ RxJava çº¿ç¨‹è°ƒåº¦çš„æ ¸å¿ƒã€‚</p>
<ul>
<li><strong><code>subscribeOn()</code></strong>ï¼šæŒ‡å®š Observable æ‰§è¡Œåœ¨å“ªä¸ªçº¿ç¨‹</li>
<li><strong><code>observeOn()</code></strong>ï¼šæŒ‡å®š Observer è§‚å¯Ÿåœ¨å“ªä¸ªçº¿ç¨‹</li>
</ul>
<p>subscribeOn ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InterruptedException {
        Observable.create(emitter -&gt; {
                    System.out.println(<span class="hljs-string">"æ‰§è¡Œçº¿ç¨‹: "</span> + Thread.currentThread().getName());
                    emitter.onNext(<span class="hljs-string">"æ•°æ®"</span>);
                    emitter.onComplete();
                })
                .subscribeOn(Schedulers.io())  <span class="hljs-comment">// åœ¨IOçº¿ç¨‹æ‰§è¡Œ</span>
                .subscribe(data -&gt;
                        System.out.println(<span class="hljs-string">"æ¥æ”¶çº¿ç¨‹: "</span> + Thread.currentThread().getName())
                );

        Thread.sleep(<span class="hljs-number">1000</span>);

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// æ‰§è¡Œçº¿ç¨‹: RxCachedThreadScheduler-1</span>
        <span class="hljs-comment">// æ¥æ”¶çº¿ç¨‹: RxCachedThreadScheduler-1</span>
        <span class="hljs-comment">// æ³¨æ„ï¼šæ‰§è¡Œå’Œæ¥æ”¶éƒ½åœ¨IOçº¿ç¨‹</span>
    }
</code></pre>
<p>observeOn ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InterruptedException {
        Observable.create(emitter -&gt; {
                    System.out.println(<span class="hljs-string">"æ‰§è¡Œçº¿ç¨‹: "</span> + Thread.currentThread().getName());
                    emitter.onNext(<span class="hljs-string">"æ•°æ®"</span>);
                    emitter.onComplete();
                })
                .observeOn(Schedulers.io())  <span class="hljs-comment">// åœ¨IOçº¿ç¨‹æ¥æ”¶</span>
                .subscribe(data -&gt;
                        System.out.println(<span class="hljs-string">"æ¥æ”¶çº¿ç¨‹: "</span> + Thread.currentThread().getName())
                );

        Thread.sleep(<span class="hljs-number">1000</span>);

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// æ‰§è¡Œçº¿ç¨‹: main</span>
        <span class="hljs-comment">// æ¥æ”¶çº¿ç¨‹: RxCachedThreadScheduler-1</span>
        <span class="hljs-comment">// æ³¨æ„ï¼šæ‰§è¡Œåœ¨ä¸»çº¿ç¨‹ï¼Œæ¥æ”¶åœ¨IOçº¿ç¨‹</span>
    }
</code></pre>
<h4 data-id="heading-47">retry</h4>
<p>retry ç”¨äºåœ¨ Observable å‘ç”Ÿé”™è¯¯æ—¶è‡ªåŠ¨é‡è¯•ï¼Œå®ç°é”™è¯¯æ¢å¤æœºåˆ¶ï¼Œç›´åˆ°æˆåŠŸæˆ–è¾¾åˆ°é‡è¯•ä¸Šé™ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">AtomicInteger</span> <span class="hljs-variable">attempt</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicInteger</span>();

        Observable.create(emitter -&gt; {
                    attempt.getAndIncrement();
                    System.out.println(<span class="hljs-string">"ç¬¬"</span> + attempt + <span class="hljs-string">"æ¬¡å°è¯•"</span>);
                    <span class="hljs-keyword">if</span> (attempt.get() &lt; <span class="hljs-number">3</span>) {
                        emitter.onError(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"éšæœºå¤±è´¥"</span>));
                    } <span class="hljs-keyword">else</span> {
                        emitter.onNext(<span class="hljs-string">"æˆåŠŸ"</span>);
                        emitter.onComplete();
                    }
                })
                .retry(<span class="hljs-number">2</span>)  <span class="hljs-comment">// æœ€å¤šé‡è¯•2æ¬¡</span>
                .subscribe(
                        data -&gt; System.out.println(<span class="hljs-string">"ç»“æœ: "</span> + data),
                        error -&gt; System.err.println(<span class="hljs-string">"æœ€ç»ˆå¤±è´¥: "</span> + error.getMessage())
                );

    <span class="hljs-comment">// è¾“å‡ºï¼š</span>
    <span class="hljs-comment">// ç¬¬1æ¬¡å°è¯•</span>
    <span class="hljs-comment">// ç¬¬2æ¬¡å°è¯•</span>
    <span class="hljs-comment">// ç¬¬3æ¬¡å°è¯•</span>
    <span class="hljs-comment">// ç»“æœ: æˆåŠŸ</span>
    <span class="hljs-comment">// å°è¯•3æ¬¡åæˆåŠŸï¼ˆåˆå§‹1æ¬¡+é‡è¯•2æ¬¡ï¼‰</span>
    }
</code></pre>
<h4 data-id="heading-48">retryUntil</h4>
<p>retryUntil ç”¨äºè‡ªå®šä¹‰é‡è¯•åœæ­¢æ¡ä»¶ï¼Œå½“æ¡ä»¶æ»¡è¶³æ—¶åœæ­¢é‡è¯•ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">AtomicInteger</span> <span class="hljs-variable">attempt</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicInteger</span>(<span class="hljs-number">0</span>);
        Observable.create(emitter -&gt; {
                    <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> attempt.incrementAndGet();
                    System.out.println(<span class="hljs-string">"ç¬¬"</span> + count + <span class="hljs-string">"æ¬¡å°è¯•"</span>);
                    <span class="hljs-keyword">if</span> (count &lt; <span class="hljs-number">3</span>) {
                        emitter.onError(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"å¤±è´¥"</span>));
                    } <span class="hljs-keyword">else</span> {
                        emitter.onNext(<span class="hljs-string">"æˆåŠŸ"</span>);
                        emitter.onComplete();
                    }
                })
                .retryUntil(() -&gt; {
                    <span class="hljs-comment">// è¿”å› true æ—¶åœæ­¢é‡è¯•</span>
                    <span class="hljs-keyword">return</span> attempt.get() &gt;= <span class="hljs-number">3</span>;  <span class="hljs-comment">// å°è¯•3æ¬¡ååœæ­¢</span>
                })
                .subscribe(
                        data -&gt; System.out.println(<span class="hljs-string">"ç»“æœ: "</span> + data),
                        error -&gt; System.err.println(<span class="hljs-string">"æœ€ç»ˆå¤±è´¥: "</span> + error.getMessage())
                );

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// ç¬¬1æ¬¡å°è¯•</span>
        <span class="hljs-comment">// ç¬¬2æ¬¡å°è¯•</span>
        <span class="hljs-comment">// ç¬¬3æ¬¡å°è¯•</span>
        <span class="hljs-comment">// ç»“æœ: æˆåŠŸ</span>
    }
</code></pre>
<h3 data-id="heading-49">ç”Ÿå‘½å‘¨æœŸçš„åŠŸèƒ½æ“ä½œç¬¦</h3>
<p>å¾ˆå¤šåŠŸèƒ½æ“ä½œç¬¦è´¯ç©¿æ•´ä¸ªå‘å¸ƒè®¢é˜…çš„ç”Ÿå‘½å‘¨æœŸä¸­ã€‚</p>
<h4 data-id="heading-50">doOnSubscribe- è®¢é˜…æ—¶</h4>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.just(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>, <span class="hljs-string">"C"</span>)
                .doOnSubscribe(disposable -&gt;
                        System.out.println(<span class="hljs-string">"æœ‰äººè®¢é˜…äº†ï¼"</span>)
                )
                .subscribe();
        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// æœ‰äººè®¢é˜…äº†ï¼</span>
    }
</code></pre>
<h4 data-id="heading-51">doOnNext - å‘å°„æ¯ä¸ªå…ƒç´ æ—¶</h4>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.range(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>)
                .doOnNext(num -&gt;
                        System.out.println(<span class="hljs-string">"å³å°†å‘å°„: "</span> + num)
                )
                .map(num -&gt; num * <span class="hljs-number">2</span>)
                .doOnNext(num -&gt;
                        System.out.println(<span class="hljs-string">"å‘å°„å: "</span> + num)
                )
                .subscribe();

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// å³å°†å‘å°„: 1</span>
        <span class="hljs-comment">// å‘å°„å: 2</span>
        <span class="hljs-comment">// å³å°†å‘å°„: 2</span>
        <span class="hljs-comment">// å‘å°„å: 4</span>
        <span class="hljs-comment">// å³å°†å‘å°„: 3</span>
        <span class="hljs-comment">// å‘å°„å: 6</span>
    }
</code></pre>
<h4 data-id="heading-52">doAfterNext - å‘å°„åæ‰§è¡Œ</h4>
<pre><code class="hljs language-java" lang="java">Observable.just(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>, <span class="hljs-string">"C"</span>)
    .doOnNext(item -&gt; 
        System.out.println(<span class="hljs-string">"å‘å°„å‰: "</span> + item)
    )
    .doAfterNext(item -&gt; 
        System.out.println(<span class="hljs-string">"å‘å°„å: "</span> + item)
    )
    .subscribe(item -&gt; 
        System.out.println(<span class="hljs-string">"æ¥æ”¶: "</span> + item)
    );

<span class="hljs-comment">// è¾“å‡ºï¼š</span>
<span class="hljs-comment">// å‘å°„å‰: A</span>
<span class="hljs-comment">// æ¥æ”¶: A</span>
<span class="hljs-comment">// å‘å°„å: A</span>
<span class="hljs-comment">// å‘å°„å‰: B</span>
<span class="hljs-comment">// æ¥æ”¶: B</span>
<span class="hljs-comment">// å‘å°„å: B</span>
<span class="hljs-comment">// å‘å°„å‰: C</span>
<span class="hljs-comment">// æ¥æ”¶: C</span>
<span class="hljs-comment">// å‘å°„å: C</span>
</code></pre>
<h4 data-id="heading-53">doOnError - å‡ºé”™æ—¶</h4>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.error(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"æµ‹è¯•é”™è¯¯"</span>))
                .doOnError(error -&gt;
                        System.err.println(<span class="hljs-string">"æ•è·åˆ°é”™è¯¯: "</span> + error.getMessage())
                )
                .onErrorReturnItem(<span class="hljs-string">"é»˜è®¤å€¼"</span>)
                .subscribe();

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// æ•è·åˆ°é”™è¯¯: æµ‹è¯•é”™è¯¯</span>
    }
</code></pre>
<h4 data-id="heading-54">doOnComplete - å®Œæˆæ—¶</h4>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.just(<span class="hljs-string">"ä»»åŠ¡1"</span>, <span class="hljs-string">"ä»»åŠ¡2"</span>)
                .doOnComplete(() -&gt;
                        System.out.println(<span class="hljs-string">"æ‰€æœ‰ä»»åŠ¡éƒ½å®Œæˆäº†ï¼"</span>)
                )
                .subscribe();

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// æ‰€æœ‰ä»»åŠ¡éƒ½å®Œæˆäº†ï¼</span>
    }
</code></pre>
<h4 data-id="heading-55">doOnTerminate - å®Œæˆ/é”™è¯¯å‰æ‰§è¡Œ</h4>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// æ­£å¸¸å®Œæˆçš„æƒ…å†µ</span>
        Observable.just(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>)
                .doOnTerminate(() -&gt;
                        System.out.println(<span class="hljs-string">"å³å°†å®Œæˆ/å‡ºé”™"</span>)
                )
                .doOnComplete(() -&gt;
                        System.out.println(<span class="hljs-string">"doOnComplete"</span>)
                )
                .subscribe(
                        item -&gt; System.out.println(<span class="hljs-string">"æ¥æ”¶: "</span> + item),
                        error -&gt; {
                        },
                        () -&gt; System.out.println(<span class="hljs-string">"onComplete"</span>)
                );

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// æ¥æ”¶: A</span>
        <span class="hljs-comment">// æ¥æ”¶: B</span>
        <span class="hljs-comment">// å³å°†å®Œæˆ/å‡ºé”™</span>
        <span class="hljs-comment">// doOnComplete</span>
        <span class="hljs-comment">// onComplete</span>

        <span class="hljs-comment">// å‡ºé”™çš„æƒ…å†µ</span>
        Observable.error(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"æµ‹è¯•"</span>))
                .doOnTerminate(() -&gt;
                        System.out.println(<span class="hljs-string">"å³å°†å®Œæˆ/å‡ºé”™"</span>)
                )
                .doOnError(error -&gt;
                        System.out.println(<span class="hljs-string">"doOnError: "</span> + error.getMessage())
                )
                .subscribe(
                        item -&gt; {
                        },
                        error -&gt; System.out.println(<span class="hljs-string">"onError: "</span> + error.getMessage())
                );

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// å³å°†å®Œæˆ/å‡ºé”™</span>
        <span class="hljs-comment">// doOnError: æµ‹è¯•</span>
        <span class="hljs-comment">// onError: æµ‹è¯•</span>

    }
</code></pre>
<h4 data-id="heading-56">doAfterTerminate - å®Œæˆ/é”™è¯¯åæ‰§è¡Œ</h4>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// æ­£å¸¸å®Œæˆçš„æƒ…å†µ</span>
        Observable.just(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>)
                .doAfterTerminate(() -&gt;
                        System.out.println(<span class="hljs-string">"å®Œæˆ/å‡ºé”™åæ‰§è¡Œ"</span>)
                )
                .doOnComplete(() -&gt;
                        System.out.println(<span class="hljs-string">"doOnComplete"</span>)
                )
                .subscribe(
                        item -&gt; System.out.println(<span class="hljs-string">"æ¥æ”¶: "</span> + item),
                        error -&gt; {
                        },
                        () -&gt; System.out.println(<span class="hljs-string">"onComplete"</span>)
                );

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// æ¥æ”¶: A</span>
        <span class="hljs-comment">// æ¥æ”¶: B</span>
        <span class="hljs-comment">// doOnComplete</span>
        <span class="hljs-comment">// onComplete</span>
        <span class="hljs-comment">// å®Œæˆ/å‡ºé”™åæ‰§è¡Œ</span>

        <span class="hljs-comment">// å‡ºé”™çš„æƒ…å†µ</span>
        Observable.error(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"æµ‹è¯•"</span>))
                .doAfterTerminate(() -&gt;
                        System.out.println(<span class="hljs-string">"å®Œæˆ/å‡ºé”™åæ‰§è¡Œ"</span>)
                )
                .doOnError(error -&gt;
                        System.out.println(<span class="hljs-string">"doOnError: "</span> + error.getMessage())
                )
                .subscribe(
                        item -&gt; {
                        },
                        error -&gt; System.out.println(<span class="hljs-string">"onError: "</span> + error.getMessage())
                );

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// doOnError: æµ‹è¯•</span>
        <span class="hljs-comment">// onError: æµ‹è¯•</span>
        <span class="hljs-comment">// å®Œæˆ/å‡ºé”™åæ‰§è¡Œ</span>
    }
</code></pre>
<h4 data-id="heading-57">doOnDispose - å–æ¶ˆè®¢é˜…æ—¶</h4>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InterruptedException {
        <span class="hljs-type">Disposable</span> <span class="hljs-variable">disposable</span> <span class="hljs-operator">=</span> Observable.interval(<span class="hljs-number">1</span>, TimeUnit.SECONDS)
                .doOnDispose(() -&gt;
                        System.out.println(<span class="hljs-string">"è®¢é˜…è¢«å–æ¶ˆäº†"</span>)
                )
                .subscribe(num -&gt;
                        System.out.println(<span class="hljs-string">"è®¡æ•°: "</span> + num)
                );

        Thread.sleep(<span class="hljs-number">3500</span>);
        disposable.dispose();

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// è®¡æ•°: 0</span>
        <span class="hljs-comment">// è®¡æ•°: 1</span>
        <span class="hljs-comment">// è®¡æ•°: 2</span>
        <span class="hljs-comment">// è®¢é˜…è¢«å–æ¶ˆäº†</span>
    }
</code></pre>
<h4 data-id="heading-58">doFinally - æœ€ç»ˆæ‰§è¡Œ</h4>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.just(<span class="hljs-string">"æ•°æ®"</span>)
                .doFinally(() -&gt;
                        System.out.println(<span class="hljs-string">"æ— è®ºå¦‚ä½•éƒ½ä¼šæ‰§è¡Œ"</span>)
                )
                .subscribe();

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// æ— è®ºå¦‚ä½•éƒ½ä¼šæ‰§è¡Œ</span>
    }
</code></pre>
<h4 data-id="heading-59">doOnEach - æ¯ä¸ªäº‹ä»¶æ—¶</h4>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.just(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>, <span class="hljs-string">"C"</span>)
                .doOnEach(notification -&gt; {
                    <span class="hljs-keyword">if</span> (notification.isOnNext()) {
                        System.out.println(<span class="hljs-string">"å‘å°„: "</span> + notification.getValue());
                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (notification.isOnComplete()) {
                        System.out.println(<span class="hljs-string">"å®Œæˆ"</span>);
                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (notification.isOnError()) {
                        System.out.println(<span class="hljs-string">"é”™è¯¯: "</span> + notification.getError());
                    }
                })
                .subscribe();

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// å‘å°„: A</span>
        <span class="hljs-comment">// å‘å°„: B</span>
        <span class="hljs-comment">// å‘å°„: C</span>
        <span class="hljs-comment">// å®Œæˆ</span>
    }
</code></pre>
<h4 data-id="heading-60">doOnRequest - è¯·æ±‚æ—¶ï¼ˆèƒŒå‹ç›¸å…³ï¼‰</h4>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Flowable.range(<span class="hljs-number">1</span>, <span class="hljs-number">100</span>)
                .doOnRequest(requested -&gt;
                        System.out.println(<span class="hljs-string">"ä¸‹æ¸¸è¯·æ±‚äº† "</span> + requested + <span class="hljs-string">" ä¸ªå…ƒç´ "</span>)
                )
                .subscribe(
                        num -&gt; System.out.println(<span class="hljs-string">"æ¥æ”¶: "</span> + num),
                        error -&gt; {
                        },
                        () -&gt; System.out.println(<span class="hljs-string">"å®Œæˆ"</span>)
                );

    }
</code></pre>
<h2 data-id="heading-61">ç»“æŸ</h2>
<p>å“åº”å¼ç¼–ç¨‹ç¡®å®éœ€è¦ä¸€äº›æ—¶é—´æ¥æŒæ¡ï¼Œä½†ä¸€æ—¦ç†è§£æ ¸å¿ƒæ¦‚å¿µï¼Œä½ å°±ä¼šå‘ç°å®ƒåœ¨å¤„ç†å¼‚æ­¥æ•°æ®æµæ—¶çš„å¼ºå¤§ä¹‹å¤„ã€‚</p>
<p>ä»å›è°ƒåœ°ç‹±åˆ°æµç•…çš„é“¾å¼è°ƒç”¨ï¼Œä»æ‰‹å¿™è„šä¹±çš„èµ„æºç®¡ç†åˆ°æ™ºèƒ½çš„èƒŒå‹æ§åˆ¶ï¼Œå“åº”å¼ç¼–ç¨‹è®©å¤æ‚å¼‚æ­¥æ“ä½œå˜å¾—æ¸…æ™°å¯æ§ã€‚è™½ç„¶å­¦ä¹ æ›²çº¿å­˜åœ¨ï¼Œä½†æŠ•å…¥æ˜¯å€¼å¾—çš„ã€‚</p>
<p>è®°ä½ï¼Œä¸æ˜¯æ‰€æœ‰åœºæ™¯éƒ½éœ€è¦å“åº”å¼ã€‚åœ¨åˆé€‚çš„ä¸šåŠ¡åœºæ™¯ä¸‹ä½¿ç”¨ï¼Œæ‰èƒ½å‘æŒ¥æœ€å¤§ä»·å€¼ã€‚å»ºè®®ä»å®é™…é¡¹ç›®çš„å°æ¨¡å—å¼€å§‹å°è¯•ï¼Œé€æ­¥ç§¯ç´¯ç»éªŒã€‚</p>
<p>å¸Œæœ›è¿™ç¯‡å†…å®¹èƒ½ä¸ºä½ æ‰“å¼€å“åº”å¼ç¼–ç¨‹çš„å¤§é—¨ã€‚ç¼–ç¨‹ä¹‹è·¯å°±æ˜¯ä¸æ–­å­¦ä¹ çš„è¿‡ç¨‹ï¼Œä¿æŒå¥½å¥‡ï¼Œç»§ç»­æ¢ç´¢å§ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SPAé¦–å±åŠ è½½é€Ÿåº¦ä¼˜åŒ–ï¼]]></title>    <link>https://juejin.cn/post/7588043318360014883</link>    <guid>https://juejin.cn/post/7588043318360014883</guid>    <pubDate>2025-12-28T01:29:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588043318360014883" data-draft-id="7588092534162374656" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SPAé¦–å±åŠ è½½é€Ÿåº¦ä¼˜åŒ–ï¼"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-28T01:29:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§çŸ¥é—²é—²i"/> <meta itemprop="url" content="https://juejin.cn/user/3799545205237111"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SPAé¦–å±åŠ è½½é€Ÿåº¦ä¼˜åŒ–ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3799545205237111/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§çŸ¥é—²é—²i
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T01:29:58.000Z" title="Sun Dec 28 2025 01:29:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">âš¡ é¦–å±åŠ è½½é€Ÿåº¦ä¸ºä½•å¦‚æ­¤é‡è¦ï¼Ÿ</h2>
<p>é¦–å±åŠ è½½æ—¶é—´ï¼ˆFirst Contentful Paintï¼‰æ˜¯å†³å®šç”¨æˆ·ç•™å­˜ç‡çš„å…³é”®æŒ‡æ ‡ã€‚æ®ç»Ÿè®¡ï¼š</p>
<ul>
<li>
<p><strong>53%çš„ç”¨æˆ·</strong> ä¼šåœ¨3ç§’å†…æ”¾å¼ƒåŠ è½½ç¼“æ…¢çš„ç§»åŠ¨ç½‘ç«™</p>
</li>
<li>
<p><strong>æ¯æé«˜1ç§’</strong> çš„åŠ è½½é€Ÿåº¦ï¼Œè½¬åŒ–ç‡æå‡7%</p>
</li>
<li>
<p>Googleå·²å°†é¡µé¢é€Ÿåº¦çº³å…¥æœç´¢æ’åå› ç´ </p>
</li>
</ul>
<h2 data-id="heading-1">ğŸ” ç²¾å‡†è¯Šæ–­ï¼šä½ çš„åº”ç”¨åˆ°åº•"æ…¢"åœ¨å“ªé‡Œï¼Ÿ</h2>
<h3 data-id="heading-2">é¦–å±æ—¶é—´è®¡ç®—æ–¹æ³•</h3>
<pre><code class="hljs language-ini" lang="ini">// ç°ä»£æµè§ˆå™¨API
const <span class="hljs-attr">getFirstContentfulPaint</span> = () =&gt; {
  const <span class="hljs-section">[entry]</span> = performance.getEntriesByName('first-contentful-paint')<span class="hljs-comment">;</span>
  return entry.startTime<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>
â€‹
// ä¼ ç»Ÿè®¡ç®—æ–¹æ³•
const <span class="hljs-attr">firstScreenTime</span> = () =&gt; {
  return performance.timing.domContentLoadedEventEnd - 
         performance.timing.navigationStart<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>
</code></pre>
<h2 data-id="heading-3">ğŸš€ ä¸ƒå¤§æ ¸å¿ƒç†å¿µï¼šä»æ ¹æºè§£å†³åŠ è½½é—®é¢˜</h2>
<h3 data-id="heading-4">ä¸€ã€ä»£ç åˆ†å‰²ï¼šæ™ºèƒ½åŠ è½½çš„è‰ºæœ¯</h3>
<h4 data-id="heading-5">åŠ¨æ€å¯¼å…¥ + è·¯ç”±æ‡’åŠ è½½</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä¼ ç»Ÿæ–¹å¼ï¼ˆä¸æ¨èï¼‰</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Home</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/views/Home.vue'</span>;
â€‹
<span class="hljs-comment">// ç°ä»£åŒ–æ‡’åŠ è½½ï¼ˆå¼ºçƒˆæ¨èï¼‰</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Home</span> = (<span class="hljs-params"/>) =&gt; <span class="hljs-keyword">import</span>(<span class="hljs-comment">/* webpackChunkName: "home" */</span> <span class="hljs-string">'@/views/Home.vue'</span>);
<span class="hljs-keyword">const</span> <span class="hljs-title function_">About</span> = (<span class="hljs-params"/>) =&gt; <span class="hljs-keyword">import</span>(<span class="hljs-comment">/* webpackChunkName: "about" */</span> <span class="hljs-string">'@/views/About.vue'</span>);
â€‹
<span class="hljs-comment">// Vue Routeré…ç½®</span>
<span class="hljs-keyword">const</span> routes = [
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/views/Home.vue'</span>),
    <span class="hljs-attr">meta</span>: { <span class="hljs-attr">preload</span>: <span class="hljs-literal">true</span> } <span class="hljs-comment">// å…³é”®è·¯ç”±é¢„åŠ è½½æ ‡è®°</span>
  }
];
â€‹
<span class="hljs-comment">// é¢„åŠ è½½ç­–ç•¥</span>
router.<span class="hljs-title function_">beforeEach</span>(<span class="hljs-function">(<span class="hljs-params">to, <span class="hljs-keyword">from</span>, next</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> preloadList = to.<span class="hljs-property">matched</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">meta</span>.<span class="hljs-property">preload</span>);
  preloadList.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">route</span> =&gt;</span> {
    route.<span class="hljs-property">components</span>.<span class="hljs-title function_">default</span>().<span class="hljs-keyword">catch</span>(<span class="hljs-function">() =&gt;</span> {});
  });
  <span class="hljs-title function_">next</span>();
});
</code></pre>
<h3 data-id="heading-6">äºŒã€Tree Shakingï¼šå‰”é™¤æ— ç”¨ä»£ç </h3>
<h4 data-id="heading-7">Webpacké…ç½®ä¼˜åŒ–</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">//</span> <span class="hljs-string">webpack.config.js</span>
<span class="hljs-string">module.exports</span> <span class="hljs-string">=</span> {
  <span class="hljs-attr">mode:</span> <span class="hljs-string">'production'</span>,
  <span class="hljs-attr">optimization:</span> {
    <span class="hljs-attr">usedExports:</span> <span class="hljs-literal">true</span>, <span class="hljs-string">//</span> <span class="hljs-string">æ ‡è®°æœªä½¿ç”¨ä»£ç </span>
    <span class="hljs-attr">minimize:</span> <span class="hljs-literal">true</span>,
    <span class="hljs-attr">splitChunks:</span> {
      <span class="hljs-attr">chunks:</span> <span class="hljs-string">'all'</span>,
      <span class="hljs-attr">minSize:</span> <span class="hljs-number">20000</span>,
      <span class="hljs-attr">maxSize:</span> <span class="hljs-number">244000</span>,
      <span class="hljs-attr">cacheGroups:</span> {
        <span class="hljs-attr">vendor:</span> {
          <span class="hljs-attr">test:</span> <span class="hljs-string">/</span>[<span class="hljs-string">\\/</span>]<span class="hljs-string">node_modules</span>[<span class="hljs-string">\\/</span>]<span class="hljs-string">/</span>,
          <span class="hljs-attr">name:</span> <span class="hljs-string">'vendors'</span>,
          <span class="hljs-attr">chunks:</span> <span class="hljs-string">'all'</span>,
          <span class="hljs-attr">priority:</span> <span class="hljs-number">10</span>,
          <span class="hljs-attr">reuseExistingChunk:</span> <span class="hljs-literal">true</span>
        },
        <span class="hljs-attr">common:</span> {
          <span class="hljs-attr">minChunks:</span> <span class="hljs-number">2</span>,
          <span class="hljs-attr">priority:</span> <span class="hljs-number">5</span>,
          <span class="hljs-attr">reuseExistingChunk:</span> <span class="hljs-literal">true</span>
        }
      }
    }
  }
}<span class="hljs-string">;</span>
</code></pre>
<h3 data-id="heading-8">ä¸‰ã€UIæ¡†æ¶æŒ‰éœ€åŠ è½½ï¼šå‘Šåˆ«"å…¨é‡"åŒ…è¢±</h3>
<h4 data-id="heading-9">Element-UIä¼˜åŒ–ç¤ºä¾‹</h4>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// .babelrc é…ç½®</span>
{
  <span class="hljs-string">"plugins"</span>: [
    [
      <span class="hljs-string">"component"</span>,
      {
        <span class="hljs-string">"libraryName"</span>: <span class="hljs-string">"element-ui"</span>,
        <span class="hljs-string">"styleLibraryName"</span>: <span class="hljs-string">"theme-chalk"</span>
      }
    ]
  ]
}
â€‹
<span class="hljs-comment">// æŒ‰éœ€å¼•å…¥ç»„ä»¶</span>
import Vue <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;
import { Button, Select, Pagination } <span class="hljs-keyword">from</span> <span class="hljs-string">'element-ui'</span>;
â€‹
Vue.<span class="hljs-keyword">use</span>(Button);
Vue.<span class="hljs-keyword">use</span>(Select);
Vue.<span class="hljs-keyword">use</span>(Pagination);
</code></pre>
<h3 data-id="heading-10">å››ã€å›¾ç‰‡èµ„æºé©å‘½çº§ä¼˜åŒ–</h3>
<h4 data-id="heading-11">ç°ä»£å›¾ç‰‡å¤„ç†æ–¹æ¡ˆ</h4>
<pre><code class="hljs language-ini" lang="ini">// Vueå›¾ç‰‡æ‡’åŠ è½½æŒ‡ä»¤
Vue.directive('lazy', {
  inserted: (el, binding) =&gt; {
    const <span class="hljs-attr">observer</span> = new IntersectionObserver((entries) =&gt; {
      entries.forEach(<span class="hljs-attr">entry</span> =&gt; {
        if (entry.isIntersecting) {
          const <span class="hljs-attr">img</span> = new Image()<span class="hljs-comment">;</span>
          <span class="hljs-attr">img.src</span> = binding.value<span class="hljs-comment">;</span>
          <span class="hljs-attr">img.onload</span> = () =&gt; {
            <span class="hljs-attr">el.src</span> = binding.value<span class="hljs-comment">;</span>
            el.classList.add('loaded')<span class="hljs-comment">;</span>
          }<span class="hljs-comment">;</span>
          observer.unobserve(el)<span class="hljs-comment">;</span>
        }
      })<span class="hljs-comment">;</span>
    })<span class="hljs-comment">;</span>
    observer.observe(el)<span class="hljs-comment">;</span>
  }
})<span class="hljs-comment">;</span>
â€‹
// WebPè‡ªåŠ¨é™çº§æ–¹æ¡ˆ
&lt;picture&gt;
  &lt;source <span class="hljs-attr">srcset</span>=<span class="hljs-string">"image.webp"</span> type=<span class="hljs-string">"image/webp"</span>&gt;
  &lt;source <span class="hljs-attr">srcset</span>=<span class="hljs-string">"image.jpg"</span> type=<span class="hljs-string">"image/jpeg"</span>&gt;
  &lt;img <span class="hljs-attr">src</span>=<span class="hljs-string">"image.jpg"</span> alt=<span class="hljs-string">"Description"</span>&gt;
&lt;/picture&gt;
</code></pre>
<h3 data-id="heading-12">äº”ã€ç¼“å­˜ç­–ç•¥ï¼šæè‡´åˆ©ç”¨æµè§ˆå™¨èƒ½åŠ›</h3>
<h4 data-id="heading-13">å¤šçº§ç¼“å­˜ä½“ç³»</h4>
<pre><code class="hljs language-ini" lang="ini">// Service Worker ç¼“å­˜ç­–ç•¥
const <span class="hljs-attr">CACHE_NAME</span> = <span class="hljs-string">'v1'</span><span class="hljs-comment">;</span>
const <span class="hljs-attr">urlsToCache</span> = [<span class="hljs-string">'/'</span>, <span class="hljs-string">'/styles/main.css'</span>, <span class="hljs-string">'/scripts/main.js'</span>]<span class="hljs-comment">;</span>
â€‹
self.addEventListener('install', <span class="hljs-attr">event</span> =&gt; {
  event.waitUntil(
    caches.open(CACHE_NAME)
      .then(<span class="hljs-attr">cache</span> =&gt; cache.addAll(urlsToCache))
  )<span class="hljs-comment">;</span>
})<span class="hljs-comment">;</span>
â€‹
self.addEventListener('fetch', <span class="hljs-attr">event</span> =&gt; {
  event.respondWith(
    caches.match(event.request)
      .then(<span class="hljs-attr">response</span> =&gt; {
        if (response) return response<span class="hljs-comment">;</span>
        
        return fetch(event.request).then(<span class="hljs-attr">response</span> =&gt; {
          // åŠ¨æ€ç¼“å­˜é‡è¦èµ„æº
          if (event.request.url.includes('/api/critical')) {
            const <span class="hljs-attr">responseClone</span> = response.clone()<span class="hljs-comment">;</span>
            caches.open(CACHE_NAME).then(<span class="hljs-attr">cache</span> =&gt; {
              cache.put(event.request, responseClone)<span class="hljs-comment">;</span>
            })<span class="hljs-comment">;</span>
          }
          return response<span class="hljs-comment">;</span>
        })<span class="hljs-comment">;</span>
      })
  )<span class="hljs-comment">;</span>
})<span class="hljs-comment">;</span>
</code></pre>
<h3 data-id="heading-14">å…­ã€æ„å»ºä¼˜åŒ–ï¼šå‘å¸ƒå‰çš„æœ€åå†²åˆº</h3>
<h4 data-id="heading-15">Webpacké«˜çº§é…ç½®</h4>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// vue.config.js</span>
<span class="hljs-type">const</span> CompressionPlugin = <span class="hljs-built_in">require</span>(<span class="hljs-string">'compression-webpack-plugin'</span>);
<span class="hljs-type">const</span> BundleAnalyzerPlugin = <span class="hljs-built_in">require</span>(<span class="hljs-string">'webpack-bundle-analyzer'</span>).BundleAnalyzerPlugin;
â€‹
<span class="hljs-keyword">module</span>.exports = {
  chainWebpack: config =&gt; {
    <span class="hljs-comment">// æ‰“åŒ…åˆ†æ</span>
    config.<span class="hljs-built_in">plugin</span>(<span class="hljs-string">'analyzer'</span>).<span class="hljs-built_in">use</span>(BundleAnalyzerPlugin);
    
    <span class="hljs-comment">// ç§»é™¤ prefetch/preload</span>
    config.plugins.<span class="hljs-built_in">delete</span>(<span class="hljs-string">'prefetch'</span>);
    config.plugins.<span class="hljs-built_in">delete</span>(<span class="hljs-string">'preload'</span>);
    
    <span class="hljs-comment">// å‹ç¼©é…ç½®</span>
    config.optimization.<span class="hljs-built_in">minimize</span>(<span class="hljs-literal">true</span>);
    
    <span class="hljs-comment">// Gzipå‹ç¼©</span>
    config.<span class="hljs-built_in">plugin</span>(<span class="hljs-string">'compression'</span>).<span class="hljs-built_in">use</span>(CompressionPlugin, [{
      algorithm: <span class="hljs-string">'gzip'</span>,
      test: /\.(js|css)$/,
      threshold: <span class="hljs-number">10240</span>,
      minRatio: <span class="hljs-number">0.8</span>
    }]);
    
    <span class="hljs-comment">// Brotliå‹ç¼©ï¼ˆæ›´é«˜æ•ˆï¼‰</span>
    config.<span class="hljs-built_in">plugin</span>(<span class="hljs-string">'brotli'</span>).<span class="hljs-built_in">use</span>(CompressionPlugin, [{
      algorithm: <span class="hljs-string">'brotliCompress'</span>,
      filename: <span class="hljs-string">'[path].br[query]'</span>,
      test: /\.(js|css|html|svg)$/,
      compressionOptions: { level: <span class="hljs-number">11</span> },
      threshold: <span class="hljs-number">10240</span>,
      minRatio: <span class="hljs-number">0.8</span>
    }]);
  }
};
</code></pre>
<h3 data-id="heading-16">ä¸ƒã€æœåŠ¡ç«¯ä¼˜åŒ–ï¼šå…¨é“¾è·¯æ€§èƒ½æå‡</h3>
<h4 data-id="heading-17">Nginxé…ç½®ä¼˜åŒ–</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Gzipå‹ç¼©é…ç½®</span>
gzip on;
gzip_vary on;
gzip_min_length 1024;
gzip_types 
    text/plain
    text/css
    text/xml
    text/javascript
    application/javascript
    application/xml+rss
    application/json
    image/svg+xml;
â€‹
<span class="hljs-comment"># ç¼“å­˜ç­–ç•¥</span>
location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg)$ {
    expires 1y;
    add_header Cache-Control <span class="hljs-string">"public, immutable"</span>;
}
â€‹
<span class="hljs-comment"># Brotliå‹ç¼©ï¼ˆéœ€è¦é¢å¤–æ¨¡å—ï¼‰</span>
brotli on;
brotli_comp_level 6;
brotli_types text/plain text/css application/json application/javascript;
</code></pre>
<h4 data-id="heading-18">Node.js Expressä¼˜åŒ–</h4>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">express</span> = <span class="hljs-keyword">require</span>(<span class="hljs-string">'express'</span>);
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">compression</span> = <span class="hljs-keyword">require</span>(<span class="hljs-string">'compression'</span>);
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">helmet</span> = <span class="hljs-keyword">require</span>(<span class="hljs-string">'helmet'</span>);
â€‹
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">app</span> = <span class="hljs-title function_ invoke__">express</span>();
â€‹
<span class="hljs-comment">// å®‰å…¨å¤´éƒ¨</span>
app.<span class="hljs-keyword">use</span>(<span class="hljs-title function_ invoke__">helmet</span>({
  <span class="hljs-attr">contentSecurityPolicy</span>: <span class="hljs-literal">false</span>,
}));
â€‹
<span class="hljs-comment">// å‹ç¼©ä¸­é—´ä»¶</span>
app.<span class="hljs-keyword">use</span>(<span class="hljs-title function_ invoke__">compression</span>({
  <span class="hljs-attr">level</span>: <span class="hljs-number">6</span>,
  <span class="hljs-attr">threshold</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">filter</span>: (req, res) =&gt; {
    <span class="hljs-keyword">if</span> (req.headers[<span class="hljs-string">'x-no-compression'</span>]) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">return</span> compression.<span class="hljs-title function_ invoke__">filter</span>(req, res);
  }
}));
â€‹
<span class="hljs-comment">// é™æ€èµ„æºç¼“å­˜</span>
app.<span class="hljs-keyword">use</span>(express.<span class="hljs-built_in">static</span>(<span class="hljs-string">'dist'</span>, {
  maxAge: <span class="hljs-string">'1y'</span>,
  setHeaders: (res, path) =&gt; {
    <span class="hljs-keyword">if</span> (path.<span class="hljs-title function_ invoke__">endsWith</span>(<span class="hljs-string">'.html'</span>)) {
      res.<span class="hljs-title function_ invoke__">setHeader</span>(<span class="hljs-string">'Cache-Control'</span>, <span class="hljs-string">'public, max-age=0'</span>);
    }
  }
}));
</code></pre>
<h2 data-id="heading-19">ğŸ¯ è¿›é˜¶æ–¹æ¡ˆï¼šçªç ´æ€§èƒ½ç“¶é¢ˆ</h2>
<h3 data-id="heading-20">1. SSRï¼ˆæœåŠ¡ç«¯æ¸²æŸ“ï¼‰</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">//</span> <span class="hljs-string">Nuxt.jsé…ç½®ç¤ºä¾‹</span>
<span class="hljs-string">export</span> <span class="hljs-string">default</span> {
  <span class="hljs-attr">target:</span> <span class="hljs-string">'server'</span>,
  <span class="hljs-attr">render:</span> {
    <span class="hljs-string">//</span> <span class="hljs-string">å¼€å¯HTTP/2æ¨é€</span>
    <span class="hljs-attr">http2:</span> {
      <span class="hljs-attr">push:</span> <span class="hljs-literal">true</span>
    },
    <span class="hljs-string">//</span> <span class="hljs-string">èµ„æºæç¤º</span>
    <span class="hljs-attr">resourceHints:</span> <span class="hljs-literal">true</span>
  },
  <span class="hljs-attr">build:</span> {
    <span class="hljs-string">//</span> <span class="hljs-string">æå–CSS</span>
    <span class="hljs-attr">extractCSS:</span> <span class="hljs-literal">true</span>,
    <span class="hljs-string">//</span> <span class="hljs-string">ä¼˜åŒ–é…ç½®</span>
    <span class="hljs-attr">optimization:</span> {
      <span class="hljs-attr">splitChunks:</span> {
        <span class="hljs-attr">chunks:</span> <span class="hljs-string">'all'</span>,
        <span class="hljs-attr">automaticNameDelimiter:</span> <span class="hljs-string">'.'</span>,
        <span class="hljs-attr">name:</span> <span class="hljs-literal">true</span>,
        <span class="hljs-attr">maxSize:</span> <span class="hljs-number">256000</span>
      }
    }
  }
}<span class="hljs-string">;</span>
</code></pre>
<h3 data-id="heading-21">2. é¢„æ¸²æŸ“å…³é”®è·¯å¾„</h3>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// ä½¿ç”¨prerender-spa-plugin</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">PrerenderSPAPlugin</span> = <span class="hljs-keyword">require</span>(<span class="hljs-string">'prerender-spa-plugin'</span>);
â€‹
module.exports = {
  plugins: [
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">PrerenderSPAPlugin</span>({
      staticDir: path.<span class="hljs-title function_ invoke__">join</span>(__dirname, <span class="hljs-string">'dist'</span>),
      routes: [<span class="hljs-string">'/'</span>, <span class="hljs-string">'/about'</span>, <span class="hljs-string">'/contact'</span>],
      renderer: <span class="hljs-keyword">new</span> <span class="hljs-title class_">PrerenderSPAPlugin</span>.<span class="hljs-title function_ invoke__">PuppeteerRenderer</span>({
        <span class="hljs-attr">inject</span>: {},
        <span class="hljs-attr">renderAfterDocumentEvent</span>: <span class="hljs-string">'render-event'</span>
      })
    })
  ]
};
</code></pre>
<h3 data-id="heading-22">3. CDNåŠ¨æ€åŠ é€Ÿ</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- æ™ºèƒ½CDNé€‰æ‹© --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">const</span> cdnList = [
    <span class="hljs-string">'https://cdn1.example.com'</span>,
    <span class="hljs-string">'https://cdn2.example.com'</span>,
    <span class="hljs-string">'https://cdn3.example.com'</span>
  ];
  
  <span class="hljs-comment">// æµ‹é€Ÿé€‰æ‹©æœ€å¿«çš„CDN</span>
  <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getFastestCDN</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> promises = cdnList.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">url</span> =&gt;</span> 
      <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`<span class="hljs-subst">${url}</span>/ping.txt`</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> ({
        url,
        <span class="hljs-attr">time</span>: performance.<span class="hljs-title function_">now</span>()
      })).<span class="hljs-title function_">catch</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-literal">null</span>)
    );
    
    <span class="hljs-keyword">const</span> results = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(promises);
    <span class="hljs-keyword">const</span> valid = results.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">r</span> =&gt;</span> r !== <span class="hljs-literal">null</span>);
    valid.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a.<span class="hljs-property">time</span> - b.<span class="hljs-property">time</span>);
    <span class="hljs-keyword">return</span> valid[<span class="hljs-number">0</span>].<span class="hljs-property">url</span>;
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h2 data-id="heading-23">ğŸ“Š ç›‘æ§ä¸æŒç»­ä¼˜åŒ–</h2>
<h3 data-id="heading-24">æ€§èƒ½ç›‘æ§ä»ªè¡¨æ¿</h3>
<pre><code class="hljs language-ini" lang="ini">// å®æ—¶æ€§èƒ½ç›‘æ§
const <span class="hljs-attr">metrics</span> = {}<span class="hljs-comment">;</span>
â€‹
// æ”¶é›†æ€§èƒ½æ•°æ®
const <span class="hljs-attr">collectMetrics</span> = () =&gt; {
  const <span class="hljs-attr">paintMetrics</span> = performance.getEntriesByType(<span class="hljs-string">'paint'</span>)<span class="hljs-comment">;</span>
  const <span class="hljs-attr">navigationMetrics</span> = performance.getEntriesByType(<span class="hljs-string">'navigation'</span>)[<span class="hljs-number">0</span>]<span class="hljs-comment">;</span>
  
  <span class="hljs-attr">metrics.FCP</span> = paintMetrics.find(m =&gt; m.name === <span class="hljs-string">'first-contentful-paint'</span>)<span class="hljs-comment">;</span>
  <span class="hljs-attr">metrics.LCP</span> = performance.getEntriesByName(<span class="hljs-string">'largest-contentful-paint'</span>)[<span class="hljs-number">0</span>]<span class="hljs-comment">;</span>
  <span class="hljs-attr">metrics.FID</span> = performance.getEntriesByName(<span class="hljs-string">'first-input'</span>)[<span class="hljs-number">0</span>]<span class="hljs-comment">;</span>
  
  // å‘é€åˆ°ç›‘æ§ç³»ç»Ÿ
  sendToAnalytics(metrics)<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>
â€‹
// ç”¨æˆ·è¡Œä¸ºå…³è”åˆ†æ
const <span class="hljs-attr">correlateWithUserActions</span> = () =&gt; {
  // å…³è”åŠ è½½æ€§èƒ½ä¸ç”¨æˆ·è½¬åŒ–ç‡
}<span class="hljs-comment">;</span>
</code></pre>
<h2 data-id="heading-25">ğŸ æ€»ç»“ï¼šæ„å»ºä½ çš„ä¼˜åŒ–æ¸…å•</h2>
<h3 data-id="heading-26">ç«‹å³æ‰§è¡Œï¼ˆä»Šå¤©å°±èƒ½åšï¼‰</h3>
<ul>
<li>å¯ç”¨è·¯ç”±æ‡’åŠ è½½</li>
<li>é…ç½®Webpackä»£ç åˆ†å‰²</li>
<li>å¼€å¯Gzip/Brotliå‹ç¼©</li>
<li>ä¼˜åŒ–å›¾ç‰‡æ ¼å¼å’Œå°ºå¯¸</li>
<li>è®¾ç½®åˆé€‚çš„HTTPç¼“å­˜å¤´</li>
</ul>
<h3 data-id="heading-27">çŸ­æœŸè§„åˆ’ï¼ˆ1-2å‘¨ï¼‰</h3>
<ul>
<li>å®ç°Service Workerç¦»çº¿ç¼“å­˜</li>
<li>UIæ¡†æ¶æŒ‰éœ€åŠ è½½ä¼˜åŒ–</li>
<li>å…³é”®èµ„æºé¢„åŠ è½½</li>
<li>éƒ¨ç½²CDNåŠ é€Ÿ</li>
<li>æ·»åŠ æ€§èƒ½ç›‘æ§</li>
</ul>
<h3 data-id="heading-28">é•¿æœŸæˆ˜ç•¥ï¼ˆ1-3ä¸ªæœˆï¼‰</h3>
<ul>
<li>å®æ–½SSR/SSGæ–¹æ¡ˆ</li>
<li>å»ºç«‹æ€§èƒ½é¢„ç®—æœºåˆ¶</li>
<li>å¼€å‘æ¸è¿›å¼Webåº”ç”¨ç‰¹æ€§</li>
<li>å»ºç«‹è‡ªåŠ¨åŒ–çš„æ€§èƒ½æµ‹è¯•æµæ°´çº¿</li>
</ul>
<h2 data-id="heading-29">ğŸ’¡ ç»ˆææ€è€ƒ</h2>
<p>é¦–å±ä¼˜åŒ–ä¸æ˜¯ä¸€æ¬¡æ€§ä»»åŠ¡ï¼Œè€Œæ˜¯<strong>æŒç»­çš„è¿‡ç¨‹</strong>ã€‚éšç€åº”ç”¨å‘å±•ï¼Œéœ€è¦ï¼š</p>
<ol>
<li>
<p><strong>å»ºç«‹æ€§èƒ½æ–‡åŒ–</strong> - è®©æ¯ä¸ªå¼€å‘è€…éƒ½æœ‰æ€§èƒ½æ„è¯†</p>
</li>
<li>
<p><strong>è®¾ç½®æ€§èƒ½é¢„ç®—</strong> - ä¸ºæ¯ä¸ªå…³é”®æŒ‡æ ‡è®¾ç½®ä¸Šé™</p>
</li>
<li>
<p><strong>è‡ªåŠ¨åŒ–ç›‘æ§</strong> - å®æ—¶å‘ç°é—®é¢˜ï¼Œå¿«é€Ÿå“åº”</p>
</li>
<li>
<p><strong>A/Bæµ‹è¯•</strong> - ç”¨æ•°æ®é©±åŠ¨ä¼˜åŒ–å†³ç­–</p>
</li>
</ol>
<p>è®°ä½ï¼š<strong>æ¯ä¸€æ¯«ç§’éƒ½å€¼å¾—äº‰å–</strong>ï¼Œå› ä¸ºå¯¹äºç”¨æˆ·æ¥è¯´ï¼Œé€Ÿåº¦ä¸ä»…æ˜¯ä¸€ç§åŠŸèƒ½ï¼Œæ›´æ˜¯ä¸€ç§ä½“éªŒçš„ä¿è¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MyBatis åŠ¨æ€ SQL ä¸ºä»€ä¹ˆè¿™ä¹ˆçµæ´»ï¼ŸèƒŒåé çš„æ˜¯ OGNL]]></title>    <link>https://juejin.cn/post/7588042910198087730</link>    <guid>https://juejin.cn/post/7588042910198087730</guid>    <pubDate>2025-12-27T11:01:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588042910198087730" data-draft-id="7588104741610061834" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MyBatis åŠ¨æ€ SQL ä¸ºä»€ä¹ˆè¿™ä¹ˆçµæ´»ï¼ŸèƒŒåé çš„æ˜¯ OGNL"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-27T11:01:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="JavaEdgeåœ¨æ˜é‡‘"/> <meta itemprop="url" content="https://juejin.cn/user/26044012176424"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MyBatis åŠ¨æ€ SQL ä¸ºä»€ä¹ˆè¿™ä¹ˆçµæ´»ï¼ŸèƒŒåé çš„æ˜¯ OGNL
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/26044012176424/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    JavaEdgeåœ¨æ˜é‡‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T11:01:05.000Z" title="Sat Dec 27 2025 11:01:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡å·²æ”¶å½•åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FJava-Edge%2FJava-Interview-Tutorial" target="_blank" title="https://github.com/Java-Edge/Java-Interview-Tutorial" ref="nofollow noopener noreferrer">Github</a>ï¼Œ<strong>å…³æ³¨æˆ‘ï¼Œç´§è·Ÿæœ¬ç³»åˆ—ä¸“æ æ–‡ç« ï¼Œå’±ä»¬ä¸‹ç¯‡å†ç»­ï¼</strong></p>
<ul>
<li>ğŸš€ é­”éƒ½æ¶æ„å¸ˆ | å…¨ç½‘30WæŠ€æœ¯è¿½éšè€…</li>
<li>ğŸ”§ å¤§å‚åˆ†å¸ƒå¼ç³»ç»Ÿ/æ•°æ®ä¸­å°å®æˆ˜ä¸“å®¶</li>
<li>ğŸ† ä¸»å¯¼äº¤æ˜“ç³»ç»Ÿç™¾ä¸‡çº§æµé‡è°ƒä¼˜ &amp; è½¦è”ç½‘å¹³å°æ¶æ„</li>
<li>ğŸ§  AIGCåº”ç”¨å¼€å‘å…ˆè¡Œè€… | åŒºå—é“¾è½åœ°å®è·µè€…</li>
<li>ğŸŒ ä»¥æŠ€æœ¯é©±åŠ¨åˆ›æ–°ï¼Œæˆ‘ä»¬çš„å¾é€”æ˜¯æ”¹å˜ä¸–ç•Œï¼</li>
<li>ğŸ‘‰ å®æˆ˜å¹²è´§ï¼š<a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.javaedge.cn%2F" target="_blank" title="http://www.javaedge.cn/" ref="nofollow noopener noreferrer">ç¼–ç¨‹ä¸¥é€‰ç½‘</a></li>
</ul>
<h2 data-id="heading-0">0 å‰è¨€</h2>
<p><strong>OGNLï¼ˆObject Graph Navigation Languageï¼Œå¯¹è±¡å›¾å¯¼èˆªè¯­è¨€ï¼‰</strong>ï¼Œåœ¨ Struts2 æ—¶ä»£æ˜¯ç»å¯¹çš„æ ¸å¿ƒï¼Œè€Œåœ¨å¦‚ä»Š Spring Boot å’Œ MyBatis æ¶æ„ï¼Œä¾ç„¶åœ¨å¹•åæ‰®æ¼”ç€æå…¶å…³é”®çš„è§’è‰²ã€‚</p>
<h2 data-id="heading-1">1 å•¥æ˜¯ OGNLï¼Ÿ</h2>
<p>å¦‚æœæŠŠä½ çš„ Java ç¨‹åºæ¯”ä½œä¸€åº§å·¨å¤§çš„åŸå¸‚ï¼Œé‡Œé¢çš„å¯¹è±¡å°±æ˜¯ä¸€æ ‹æ ‹å¤§æ¥¼ï¼Œè€Œå¯¹è±¡çš„å±æ€§å°±æ˜¯å¤§æ¥¼é‡Œçš„æˆ¿é—´ã€‚</p>
<h3 data-id="heading-2">1.1 ä¼ ç»Ÿæ–¹å¼</h3>
<p>ä½ æƒ³å»æŸä¸ªæˆ¿é—´ï¼Œå¾—äº²è‡ªèµ°æ¥¼æ¢¯ã€å¼€é—¨ï¼ˆæ‰‹åŠ¨ç¼–å†™ <code>getUser().getAddress().getCity()</code>ï¼‰ã€‚å¦‚æœä¸­é—´æœ‰ä¸€ä¸ªé—¨é”äº†ï¼ˆä¸º <code>null</code>ï¼‰ï¼Œä½ å°±æ‘”å€’äº†ï¼ˆNullPointerExceptionï¼‰ã€‚</p>
<h3 data-id="heading-3">1.2 OGNL æ–¹å¼</h3>
<p>ä½ åªéœ€è¦è¾“å…¥ä¸€ä¸ªåœ°å€å­—ç¬¦ä¸² <code>"user.address.city"</code>ï¼ŒOGNL å°±åƒä¸€ä¸ª<strong>æ™ºèƒ½å¯¼èˆªä»ª</strong>ï¼Œè‡ªåŠ¨å¸®ä½ ç©¿æ¢­åœ¨å¤§æ¥¼ä¹‹é—´ï¼Œæ‰¾åˆ°é‚£ä¸ªæˆ¿é—´å¹¶å–å‡ºä¸œè¥¿ã€‚</p>
<p>æ ¸å¿ƒå®šä¹‰ï¼šOGNL æ˜¯ä¸€ç§è¡¨è¾¾å¼è¯­è¨€ï¼ˆELï¼‰ï¼Œé€šè¿‡ç®€å•çš„å­—ç¬¦ä¸²è¯­æ³•ï¼Œå°±å¯å­˜å– Java å¯¹è±¡æ ‘ä¸­çš„ä»»æ„å±æ€§ã€è°ƒç”¨æ–¹æ³•ã€ç”šè‡³è¿›è¡Œç®€å•çš„é€»è¾‘è¿ç®—ã€‚</p>
<h2 data-id="heading-4">2 MyBatis ä¸­çš„åŠ¨æ€ SQL</h2>
<p>OGNL æ˜¯ MyBatis åŠ¨æ€ SQL çš„çµé­‚ã€‚</p>
<h3 data-id="heading-5">2.1 ä¸šåŠ¡èƒŒæ™¯</h3>
<p>å‡è®¾ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ª<strong>ç”µå•†å¹³å°çš„è®¢å•æœç´¢åŠŸèƒ½</strong>ã€‚ç”¨æˆ·å¯æŒ‰è®¢å•çŠ¶æ€ã€æ—¶é—´èŒƒå›´ã€å…³é”®è¯è¿›è¡Œç­›é€‰ã€‚ä¸ç”¨ OGNLï¼Œå¯èƒ½è¦å†™æ— æ•°ä¸ª <code>if-else</code>ã€‚</p>
<h3 data-id="heading-6">2.2 è½åœ°å®ç°</h3>
<p>MyBatis XML çœ‹åˆ°çš„ test è¡¨è¾¾å¼å°±æ˜¯ OGNLï¼š</p>
<pre><code class="hljs language-ini" lang="ini">&lt;select <span class="hljs-attr">id</span>=<span class="hljs-string">"findOrders"</span> resultType=<span class="hljs-string">"Order"</span>&gt;
   SELECT * FROM orders
   WHERE <span class="hljs-attr">1</span>=<span class="hljs-number">1</span>
   &lt;if <span class="hljs-attr">test</span>=<span class="hljs-string">"status != null and status != ''"</span>&gt;
     AND status = <span class="hljs-comment">#{status}</span>
   &lt;/if&gt;
   &lt;if <span class="hljs-attr">test</span>=<span class="hljs-string">"keywords != null and keywords.length() &gt; 0"</span>&gt;
     AND title LIKE CONCAT('%', <span class="hljs-comment">#{keywords}, '%')</span>
   &lt;/if&gt;
 &lt;/select&gt;
</code></pre>
<p>ä¸ºå•¥è¿™è¦ç”¨ OGNLï¼Ÿå› ä¸ºå®ƒè§£è€¦â€œé€»è¾‘åˆ¤æ–­â€å’Œâ€œSQLâ€ã€‚ä½ æ— éœ€åœ¨ Java ä»£ç é‡Œæ‹¼è£…å­—ç¬¦ä¸²ï¼Œåªéœ€åœ¨ XML é‡Œå†™ç®€å•çš„â€œå¯¼èˆªå…¬å¼â€ï¼ŒOGNL è‡ªåŠ¨å¸®ä½ è§£æå‚æ•°å¯¹è±¡é‡Œçš„å€¼ã€‚</p>
<h2 data-id="heading-7">3 â€œçƒ­ä¿®æ”¹â€ä¸çº¿ä¸Šæ’æŸ¥</h2>
<h3 data-id="heading-8">3.1 ä¸šåŠ¡èƒŒæ™¯</h3>
<p>ä½ çš„å¾®æœåŠ¡å·²ä¸Šçº¿ï¼Œçªç„¶å‘ç°æŸæ¥å£è¿”å›æ•°æ®å¼‚å¸¸ã€‚ä½ æƒ³çŸ¥ï¼š<strong>ç°åœ¨å†…å­˜é‡ŒæŸä¸ªå…¨å±€é…ç½®å˜é‡çš„å€¼åˆ°åº•æ˜¯å¤šå°‘ï¼Ÿ</strong> æˆ–æƒ³åœ¨ä¸é‡å¯æœåŠ¡æ—¶ï¼Œ<strong>ä¸´æ—¶ä¿®æ”¹ä¸€ä¸‹æŸä¸ª Bean çš„å¼€å…³çŠ¶æ€</strong>ã€‚</p>
<h3 data-id="heading-9">3.2 è½åœ°å®ç°ï¼šç»“åˆ Arthas</h3>
<p>Java è¯Šæ–­åˆ©å™¨ <strong>Arthas</strong> æ·±åº¦é›†æˆ OGNLã€‚å¯ç›´æ¥åœ¨å‘½ä»¤è¡Œè¾“å…¥ OGNL è¡¨è¾¾å¼æ¥â€œçª¥æ¢â€è¿è¡Œä¸­çš„ç³»ç»Ÿã€‚</p>
<h4 data-id="heading-10">æŸ¥çœ‹é™æ€å˜é‡çš„å€¼</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹ç±»ä¸­é™æ€å˜é‡çš„å€¼</span>
 ognl <span class="hljs-string">'@com.example.ConfigManager@getConfig().getTimeout()'</span>
</code></pre>
<h4 data-id="heading-11">çº¿ä¸Šâ€œå¼€æŒ‚â€ä¿®æ”¹é…ç½®</h4>
<pre><code class="hljs language-swift" lang="swift"># åŠ¨æ€ä¿®æ”¹çº¿ä¸Šè¿è¡Œä¸­çš„æŸä¸ªå¼€å…³
 ognl '#config<span class="hljs-operator">=</span><span class="hljs-meta">@com</span>.example.<span class="hljs-type">ConfigManager</span><span class="hljs-meta">@instance</span>, #config.setEnableDebug(<span class="hljs-literal">true</span>)'
</code></pre>
<p>å¾®æœåŠ¡æ¶æ„ä¸‹ï¼ŒèŠ‚ç‚¹ä¼—å¤šï¼Œé‡å¯ä»£ä»·å¤§ã€‚åˆ©ç”¨ OGNL çš„<strong>åŠ¨æ€æ‰§è¡Œèƒ½åŠ›</strong>ï¼Œå¯åœ¨ä¸è§¦åŠ¨ä»£ç å‰æä¸‹ï¼Œç²¾å‡†è§‚å¯Ÿå’Œå¹²é¢„ç”Ÿäº§ç¯å¢ƒçš„å¯¹è±¡çŠ¶æ€ã€‚</p>
<h2 data-id="heading-12">4 é¿å‘</h2>
<p>è™½ç„¶ OGNL å¾ˆå¼ºå¤§ï¼Œä½†åœ¨åˆ†å¸ƒå¼è®¾è®¡æ„ï¼š</p>
<h3 data-id="heading-13">æ€§èƒ½æŸè€—</h3>
<p>OGNL æ¯•ç«Ÿæ˜¯åŸºäºåå°„å’Œè§£æçš„ã€‚åœ¨é«˜æ€§èƒ½ã€é«˜å¹¶å‘çš„å†…å±‚å¾ªç¯ä¸­ï¼Œé¢‘ç¹ä½¿ç”¨å¤æ‚çš„è¡¨è¾¾å¼ä¼šå¯¼è‡´ CPU æŠ–åŠ¨ã€‚<strong>æœ€ä½³å®è·µ</strong>ï¼šå¤æ‚çš„é€»è¾‘å°½é‡åœ¨ Java ä»£ç ä¸­å¤„ç†å¥½ï¼Œä¼ ç»™ OGNL çš„åº”è¯¥æ˜¯â€œç»“æœâ€ã€‚</p>
<h3 data-id="heading-14">å®‰å…¨é£é™©</h3>
<p>è¿™å°±æ˜¯è‘—åçš„â€œStruts2 æ¼æ´â€æ ¹æºã€‚å¦‚æœä½ çš„ç³»ç»Ÿå…è®¸ç”¨æˆ·è¾“å…¥ OGNL è¡¨è¾¾å¼å¹¶åœ¨åå°æ‰§è¡Œï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡æ„é€ ç‰¹æ®Šçš„å­—ç¬¦ä¸²ï¼ˆå¦‚æ‰§è¡Œ <code>Runtime.getRuntime().exec("rm -rf /")</code>ï¼‰æ¥æ§åˆ¶ä½ çš„æœåŠ¡å™¨ã€‚<strong>æœ€ä½³å®è·µ</strong>ï¼šç»ä¸è¦å°†ç”¨æˆ·è¾“å…¥çš„å‚æ•°ç›´æ¥ä½œä¸º OGNL è¡¨è¾¾å¼æ‰§è¡Œã€‚</p>
<h2 data-id="heading-15">5 æ€»ç»“</h2>
<p>OGNL ä¸æ˜¯ä»€ä¹ˆæ·±å¥¥çš„æ•°å­¦æ¨¡å‹ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ª**â€œèƒ¶æ°´å·¥å…·â€<strong>ã€‚å®ƒè®©</strong>å­—ç¬¦ä¸²<strong>å’Œ</strong>å†…å­˜å¯¹è±¡**ä¹‹é—´å»ºç«‹äº†ä¸€åº§æ¡¥æ¢ï¼š</p>
<ul>
<li>åœ¨ <strong>MyBatis</strong> é‡Œï¼Œå®ƒæ˜¯ SQL çš„â€œæŒ‡æŒ¥å®˜â€ã€‚</li>
<li>åœ¨ <strong>Arthas</strong> é‡Œï¼Œå®ƒæ˜¯çº¿ä¸Šçš„â€œé€è§†é•œâ€ã€‚</li>
<li>åœ¨ <strong>æ•°æ®æ ¡éªŒ</strong> é‡Œï¼Œå®ƒæ˜¯çµæ´»çš„â€œè§„åˆ™å¼•æ“â€ã€‚</li>
</ul>
<p>æŒæ¡äº† OGNLï¼Œä½ ä¸ä»…èƒ½å†™å‡ºæ›´ä¼˜é›…çš„åŠ¨æ€ SQLï¼Œæ›´èƒ½åœ¨ç³»ç»Ÿå‡ºé—®é¢˜æ—¶ï¼Œé€šè¿‡è¡¨è¾¾å¼ç›´æ¥ä¸å†…å­˜å¯¹è¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[RBACä»‹ç»ä»¥åŠå¦‚ä½•è®¾è®¡ä¸€ä¸ªç®€æ˜“ä¸”é«˜å¯ç”¨çš„RBAC1çš„é‰´æƒç³»ç»Ÿ]]></title>    <link>https://juejin.cn/post/7588146449005461540</link>    <guid>https://juejin.cn/post/7588146449005461540</guid>    <pubDate>2025-12-27T11:32:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588146449005461540" data-draft-id="7588152122186416182" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="RBACä»‹ç»ä»¥åŠå¦‚ä½•è®¾è®¡ä¸€ä¸ªç®€æ˜“ä¸”é«˜å¯ç”¨çš„RBAC1çš„é‰´æƒç³»ç»Ÿ"/> <meta itemprop="keywords" content="åç«¯,æ¶æ„"/> <meta itemprop="datePublished" content="2025-12-27T11:32:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Thanwinde"/> <meta itemprop="url" content="https://juejin.cn/user/634833993739484"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            RBACä»‹ç»ä»¥åŠå¦‚ä½•è®¾è®¡ä¸€ä¸ªç®€æ˜“ä¸”é«˜å¯ç”¨çš„RBAC1çš„é‰´æƒç³»ç»Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/634833993739484/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Thanwinde
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T11:32:52.000Z" title="Sat Dec 27 2025 11:32:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">RBACä»‹ç»ä»¥åŠå¦‚ä½•è®¾è®¡ä¸€ä¸ªç®€æ˜“ä¸”é«˜å¯ç”¨çš„RBAC1çš„é‰´æƒç³»ç»Ÿ</h2>
<h3 data-id="heading-1">ä¸€.RBAC0,RBAC1,RBAC2,RBAC3</h3>
<p>RBACï¼Œå³ä¸º<strong>ä»¥è§’è‰²ä¸ºåŸºç¡€çš„è®¿é—®æ§åˆ¶</strong>ï¼Œä¸åŒäºæŠŠæƒé™èµ‹äºˆç”¨æˆ·ï¼Œè€Œæ˜¯æŠŠæƒé™èµ‹ç»™è§’è‰²ï¼Œç”¨æˆ·è·å¾—è§’è‰²ï¼Œæ˜¯ä¸€ç§éå¸¸çµæ´»çš„é‰´æƒè®¾è®¡</p>
<p>å…¶è®¾è®¡å›´ç»•ç€ <strong>ç”¨æˆ· è§’è‰² æƒé™ï¼ˆåŠŸèƒ½ï¼‰</strong> å±•å¼€</p>
<h4 data-id="heading-2">ï¼ˆä¸€ï¼‰RBAC0</h4>
<p>RBAC0åˆå«<strong>æ‰å¹³ RBACï¼ˆFlat RBACï¼‰</strong> ï¼Œç”¨æˆ·é€šè¿‡è§’è‰²è·å–æƒé™ï¼›é€šè¿‡å¤šå¯¹å¤šåˆ†é…ï¼›ç”¨æˆ·å¯åŒæ—¶ä½¿ç”¨å¤šä¸ªè§’è‰²çš„æƒé™ ï¼›æœ‰ç”¨æˆ·-è§’è‰²å®¡æŸ¥ï¼ˆèƒ½çŸ¥é“ä¸€ä¸ªç”¨æˆ·æœ‰å¤šå°‘è§’è‰²ï¼‰</p>
<p>å‡å¦‚æœ‰è¿™ä¹ˆä¸€ä¸ªæ¶æ„ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5874e142e5234e80b98a95c07e10ae02~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGhhbndpbmRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767439971&amp;x-signature=lXtHx%2BBpXkLWDpO03JlHXNJmbOo%3D" alt="image-20251227163700084.png" loading="lazy"/></p>
<p>éœ€è¦ç”¨RBAC0å¯¹å…¶è¿›è¡Œé‰´æƒï¼Œç»“æœä¼šæ˜¯è¿™æ ·ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/98ccd5c6747f4eeabf31c62f70ef2b0e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGhhbndpbmRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767439971&amp;x-signature=scddnskH2VTxVi6zJMlsh89Th1M%3D" alt="image-20251227164146052.png" loading="lazy"/></p>
<p>å¦‚ä½ æ‰€è§ï¼Œéå¸¸ä¸‘é™‹ä¸”å¤æ‚</p>
<p><strong>RBAC0ä¸é€‚ç”¨äºå¤„ç†æƒé™å¤ç”¨çš„æƒ…å†µ</strong>ï¼Œæ›´é€‚åº”<strong>æ¯ä¸ªè§’è‰²çš„æƒé™éƒ½ä¸åŒ</strong>çš„æƒ…å†µ</p>
<h4 data-id="heading-3">ï¼ˆäºŒï¼‰RBAC1</h4>
<p>RBAC1åˆå«<strong>å±‚æ¬¡ RBAC(Hierarchical RBAC)</strong> ,<strong>åŒ…å«æ‰å¹³ RBAC</strong> ï¼Œæ”¯æŒè§’è‰²å±‚æ¬¡ç»“æ„ï¼ˆååºå…³ç³»ï¼‰ï¼Œæ”¯æŒä»»æ„å±‚æ¬¡ç»“æ„(2aå‹)ï¼Œæ”¯æŒå—é™å±‚æ¬¡ç»“æ„ï¼ˆå¦‚æ ‘çŠ¶ï¼‰ï¼ˆ2bå‹ï¼‰</p>
<p>ç¿»è¯‘æˆäººè¯å°±æ˜¯åœ¨RBAC0åŠ å…¥äº†<strong>ç»§æ‰¿ç³»ç»Ÿ</strong>ï¼Œä¸¾ä¸ªä¾‹å­ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5a8dcef9412045af924d70d95ab9511b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGhhbndpbmRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767439971&amp;x-signature=0f%2FFdqc%2BbTcIQ%2BaFWswF1QKEYXY%3D" alt="image-20251227164925444.png" loading="lazy"/></p>
<p>è¿™å°±æ˜¯ä¸€ä¸ªå…¸å‹çš„2bå‹çš„RBAC1ç³»ç»Ÿï¼Œè§’è‰²ä¹‹é—´æœ‰<strong>ååº</strong>å…³ç³»ï¼Œå¯ä»¥<strong>ç»§æ‰¿</strong>ï¼šä¸€ä¸ªè§’è‰²å¯ä»¥åŒæ—¶ç»§æ‰¿å¤šä¸ªçˆ¶è§’è‰²çš„æƒé™ï¼Œè·å¾—äº†ç®¡ç†å‘˜æƒé™å°±è·å¾—äº†å•†å®¶ï¼Œç”¨æˆ·çš„æƒé™</p>
<h4 data-id="heading-4">ï¼ˆä¸‰ï¼‰RBAC2</h4>
<p>RBAC2åˆå«<strong>å—é™ RBAC (Constrained RBAC)</strong> ,<strong>åŒ…å«å±‚æ¬¡ RBAC</strong>, å¿…é¡»å¼ºåˆ¶æ‰§è¡ŒèŒè´£åˆ†ç¦»ï¼ˆSODï¼‰,<strong>3a/3b:</strong> åˆ†åˆ«å¯¹åº”ä»»æ„æˆ–å—é™å±‚æ¬¡ç»“æ„ ã€‚</p>
<p>SODé€šè¿‡å°†è¡ŒåŠ¨æˆ–ä»»åŠ¡çš„è´£ä»»å’Œæƒé™åˆ†æ•£ç»™å¤šä¸ªç”¨æˆ·ï¼Œæ¥å‡å°‘æ¬ºè¯ˆå’Œæ„å¤–æŸå®³çš„å¯èƒ½æ€§ ,ä¹Ÿå°±æ˜¯è¯´ä¸èƒ½<strong>å½“é€‰æ‰‹åˆå½“è£åˆ¤</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4e731ca0931949e08cf35e404c1356f6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGhhbndpbmRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767439971&amp;x-signature=94ekHgZgXLhQNibGaKHskaDEO4Q%3D" alt="image-20251227165737822.png" loading="lazy"/></p>
<p>æœ¬è´¨ä¸Šå°±æ˜¯RBAC1 + SOD,è¦æ±‚è¦ä¹ˆå…·æœ‰<strong>SSD(é™æ€èŒè´£åˆ†ç¦»ï¼Œç›´æ¥ç¦æ­¢ä½ å½“é€‰æ‰‹åˆå½“è£åˆ¤)</strong> ï¼Œè¦ä¹ˆå…·æœ‰<strong>DSD(åŠ¨æ€èŒè´£åˆ†ç¦»ï¼Œå…è®¸ä½ å½“é€‰æ‰‹åˆå½“è£åˆ¤ï¼Œä½†ä¸èƒ½åŒæ—¶å½“)</strong></p>
<p>è¾ƒä¸ºå¤æ‚ï¼ŒSODé ä¸šåŠ¡å®ç°</p>
<h4 data-id="heading-5">ï¼ˆå››ï¼‰RBAC3</h4>
<p>RBAC3åˆå«<strong>å¯¹ç§° RBAC(Symmetric RBAC)</strong> ,<strong>åŒ…å«å—é™ RBAC</strong> ,æ”¯æŒæƒé™-è§’è‰²å®¡æŸ¥ï¼ˆPermission-Role Reviewï¼‰ï¼Œå…¶æ€§èƒ½éœ€ä¸ç”¨æˆ·-è§’è‰²å®¡æŸ¥ç›¸å½“</p>
<p>ç±»ä¼¼äºRBAC0çš„ç”¨æˆ·-è§’è‰²å®¡æŸ¥ã€‚ç³»ç»Ÿå¿…é¡»èƒ½å¤ŸçŸ¥é“<strong>ç‰¹å®šè§’è‰²åˆ†é…äº†å“ªäº›æƒé™</strong>ï¼Œä»¥åŠ<strong>ç‰¹å®šæƒé™è¢«åˆ†é…ç»™äº†å“ªäº›è§’è‰²</strong></p>
<p>ä¹Ÿå°±æ˜¯åŠ å…¥äº†ä¸€ä¸ª<strong>åæ¨</strong>çš„æ“ä½œï¼Œä¸”æ€§èƒ½è¦ç›¸å½“</p>
<p>æ—¢èƒ½<strong>role-&gt;perms</strong>ï¼Œä¹Ÿèƒ½<strong>perm-&gt;roles</strong></p>
<p>ä¸ºä»€ä¹ˆè¿™é‡Œä¼šå•ç‹¬æå‡ºä¸€ä¸ªåæ¨çš„åŠŸèƒ½ï¼Ÿ</p>
<p>å› ä¸ºå®ƒ<strong>åœ¨å¤§å‹åˆ†å¸ƒå¼ç³»ç»Ÿä¸­æœ¬è´¨ä¸Šå¾ˆéš¾å®ç°</strong>ã€‚</p>
<ul>
<li><strong>éå¯¹ç§°æ€§ï¼š</strong> å¤§å¤šæ•°è®¿é—®æ§åˆ¶ç³»ç»Ÿæ˜¯ä¸ºäº†å¿«é€Ÿå›ç­”â€œç”¨æˆ· X èƒ½åšä»€ä¹ˆï¼Ÿâ€œè€Œä¼˜åŒ–çš„ï¼Œä»¥ä¾¿åœ¨ç”¨æˆ·ç™»å½•æˆ–è®¿é—®èµ„æºæ—¶å¿«é€Ÿé‰´æƒã€‚</li>
<li><strong>åå‘æŸ¥è¯¢æ˜‚è´µï¼š</strong> è¦å›ç­”â€œè°æ‹¥æœ‰æƒé™ Yï¼Ÿâ€ï¼Œé€šå¸¸éœ€è¦åå‘éå†æ•´ä¸ªæƒé™æ˜ å°„è¡¨ã€‚åœ¨æ‹¥æœ‰æˆåƒä¸Šä¸‡ä¸ªæƒé™å’Œè§’è‰²çš„ç³»ç»Ÿä¸­ï¼Œå¦‚æœç³»ç»Ÿæ¶æ„ä¸æ”¯æŒåŒå‘ç´¢å¼•ï¼Œè¿™ç§æŸ¥è¯¢çš„æ€§èƒ½æ¶ˆè€—å·¨å¤§ï¼Œç±»ä¼¼äºæ•°æ®åº“ä¸­çš„å…¨è¡¨æ‰«æã€‚</li>
</ul>
<h3 data-id="heading-6">å¦‚ä½•è®¾è®¡ä¸€ä¸ªé«˜å¯ç”¨çš„RBAC1ç³»ç»Ÿ</h3>
<p>é¦–å…ˆï¼Œåœ¨ä½ è¦è®¾è®¡å‰ï¼Œä½ åº”å½“çŸ¥é“ä½ ä»¬ä¸šåŠ¡çš„éœ€æ±‚æ¥å†³å®šåº”è¯¥é€‰ç”¨å“ªä¸€ä¸ªçº§åˆ«çš„RBAC</p>
<p>å®é™…ä¸Šï¼Œåœ¨çœŸæ­£çš„ç”Ÿäº§åº”ç”¨é˜¶æ®µï¼Œ<strong>ç»å¤§å¤šæ•°ä¼ä¸šéƒ½æ˜¯é‡‡ç”¨åŸºäºRBAC1ï¼ŒRBAC0æˆ–å…¶å˜ç§å†åŠ ä¸ŠRBAC3çš„åæ¨</strong>ï¼Œå› ä¸º<strong>SODï¼Œå±‚çº§å…¶å®å¾ˆéš¾å®ç°</strong></p>
<p>ä½†æ— è®ºå¦‚ä½•ï¼ŒRBACé‰´æƒç³»ç»Ÿçš„æ€è·¯å…¶å®å¤§å·®ä¸å·®ï¼š<strong>è®¿é—®å¿«é€Ÿï¼Œèƒ½æ‰¿å—ä¸€å®šå‹åŠ›ï¼Œå†…å­˜å ç”¨ä¸å¤§ï¼Œæ”¯æŒçƒ­ä¿®æ”¹ï¼Œæ”¯æŒåˆ†å¸ƒå¼</strong></p>
<p>è¿™é‡Œæˆ‘ä»¥ä¸€ä¸ªæ ‡å‡†çš„RBAC1è¿›è¡Œæ¼”ç¤º</p>
<h4 data-id="heading-7">ï¼ˆä¸€ï¼‰ç³»ç»Ÿåˆ†æ</h4>
<p>è¿™é‡Œä»¥Javaä¸ºä¾‹</p>
<p>é¦–å…ˆï¼Œé‰´æƒç³»ç»Ÿå¿…é¡»å¤„äºç³»ç»Ÿ<strong>æœ€å‰æ–¹</strong>ï¼Œä½†æ˜¯æœ‰äº›æ¥å£å¹¶ä¸éœ€è¦é‰´æƒï¼Œå¦‚ä½•å®ç°ï¼Ÿæˆ‘ä»¬å¤§å¯ä»¥æŠŠé‰´æƒæ”¾åœ¨<strong>æ‹¦æˆªå™¨</strong>ï¼Œç„¶ååƒSpringSecurityé‚£æ ·ç»´æŠ¤ä¸€ä¸ª<strong>åŒ¹é…è¡¨åŒ¹é…å“ªäº›URLè¦é‰´æƒ</strong>ï¼Œ<strong>å“ªäº›URLè¦ä»€ä¹ˆè§’è‰²æ¥è®¿é—®</strong>ï¼Œä½†æ—¢ç„¶å¼•å…¥äº†RBACï¼Œæœ¬èº«å°±æ˜¯ä¸ºäº†<strong>æ›´æ–¹ä¾¿æ›´ç»†ç²’åº¦</strong>çš„å»é‰´æƒã€‚è¿™é‡Œæˆ‘ç»™å‡ºçš„æ–¹æ³•æ˜¯è®¾è®¡ä¸€ä¸ª<strong>æ³¨è§£</strong>ï¼Œ<strong>æ³¨è§£å‚æ•°</strong>æ˜¯è®¿é—®æ­¤æ¥å£æ‰€éœ€çš„æƒé™ï¼Œç”¨<strong>AOP</strong>æ‹¦æˆªå…·æœ‰è¿™ä¸ªæ³¨é‡Šçš„æ–¹æ³•ï¼Œæ£€æŸ¥è®¿é—®çš„Useræœ‰æ²¡æœ‰æƒé™</p>
<p>ä¸ºäº†è·å¾—è®¿é—®çš„userIdï¼Œå¯ä»¥é‡‡ç”¨ThreadLocalæ¥å­˜å‚¨ï¼Œåœ¨ç½‘å…³æˆªå–Tokenæ”¾å…¥Threadlocal</p>
<p>ä½†æˆ‘è¿™é‡Œå»ºè®®ä¸è¦ç”¨ThreadLocalï¼Œç›´æ¥åœ¨è¯·æ±‚ä¸­æ³¨å…¥userIdåˆ°è¯·æ±‚å‚æ•°ä¸­ï¼ŒAOPä¸­å°±ä»è¯·æ±‚å‚æ•°ä¸­æ‹¿å¸¦userIdï¼Œè¿™æ ·ç”¨ç€æ›´åŠ æ–¹ä¾¿ï¼Œä¹Ÿé¿å…äº†ThreadLocal<strong>å†…å­˜æ³„æ¼</strong>çš„é£é™©ï¼ˆæ¦‚ç‡æä½ï¼‰</p>
<p>å…·ä½“æ¥è¯´ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Target</span>(ElementType.PARAMETER)
<span class="hljs-variable">@Retention</span>(RetentionPolicy.RUNTIME)
public <span class="hljs-variable">@interface</span> CurrentUserId {
}
</code></pre>
<p>è¿™ä¸ªæ³¨é‡Šç”¨æ¥æ”¾åœ¨userIdå‰ï¼Œç”¨äºAOPæ‹¿åˆ°userIdï¼Œå¦åˆ™å°±éœ€è¦ä»å…ƒæ•°æ®ä¸­æ‹¿ï¼Œéå¸¸ä¸ä¾¿</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Target</span>(ElementType.METHOD) <span class="hljs-comment">// ä½œç”¨åœ¨æ–¹æ³•ä¸Š</span>
<span class="hljs-variable">@Retention</span>(RetentionPolicy.RUNTIME) <span class="hljs-comment">// è¿è¡Œæ—¶æœ‰æ•ˆ</span>
public <span class="hljs-variable">@interface</span> RequirePermission {
â€‹
 Â  Â <span class="hljs-comment">/**
 Â  Â  * éœ€è¦çš„æƒé™æ ‡è¯†ï¼Œä¾‹å¦‚: {"user:add", "user:edit"}
 Â  Â  */</span>
 Â  Â <span class="hljs-selector-tag">String</span><span class="hljs-selector-attr">[]</span> <span class="hljs-selector-tag">value</span>();
â€‹
 Â  Â <span class="hljs-comment">/**
 Â  Â  * æ ¡éªŒé€»è¾‘ï¼šAND (æ‰€æœ‰æƒé™éƒ½è¦æœ‰) / OR (åªè¦æœ‰ä¸€ä¸ªæƒé™å³å¯)
 Â  Â  * é»˜è®¤ä¸º AND
 Â  Â  */</span>
 Â  Â <span class="hljs-selector-tag">Logical</span> <span class="hljs-selector-tag">logical</span>() <span class="hljs-selector-tag">default</span> <span class="hljs-selector-tag">Logical</span><span class="hljs-selector-class">.AND</span>;
â€‹
 Â  Â <span class="hljs-selector-tag">enum</span> <span class="hljs-selector-tag">Logical</span> {
 Â  Â  Â  Â <span class="hljs-selector-tag">AND</span>, <span class="hljs-selector-tag">OR</span>
 Â   }
}
</code></pre>
<p>è¿™é‡Œæ”¯æŒ æˆ–ï¼Œä¸</p>
<pre><code class="hljs language-ini" lang="ini">@Before("@annotation(top.twindworld.treeauthority.demos.aop.annotation.RequirePermission)")
public void checkPermission(JoinPoint point) {
 Â  Â // 1. è·å–æ³¨è§£è¯¦æƒ…
 Â  Â MethodSignature <span class="hljs-attr">signature</span> = (MethodSignature) point.getSignature()<span class="hljs-comment">;</span>
 Â  Â Method <span class="hljs-attr">method</span> = signature.getMethod()<span class="hljs-comment">;</span>
 Â  Â RequirePermission <span class="hljs-attr">annotation</span> = method.getAnnotation(RequirePermission.class)<span class="hljs-comment">;</span>
 Â  Â if (<span class="hljs-attr">annotation</span> == null) {
 Â  Â  Â  Â return<span class="hljs-comment">;</span>
 Â   }
â€‹
 Â  Â // 2. è·å–å½“å‰ç™»å½•ç”¨æˆ·æ‹¥æœ‰çš„æƒé™é›†åˆ (ä» è¯·æ±‚ ä¸­æ‹¿)
â€‹
 Â  Â Annotation<span class="hljs-section">[]</span><span class="hljs-section">[]</span> <span class="hljs-attr">paramAnnotations</span> = method.getParameterAnnotations()<span class="hljs-comment">;</span>
 Â  Â // è·å–æ‰€æœ‰å‚æ•°å€¼
 Â  Â Object<span class="hljs-section">[]</span> <span class="hljs-attr">args</span> = point.getArgs()<span class="hljs-comment">;</span>
 Â  Â Long <span class="hljs-attr">currentUserId</span> = null<span class="hljs-comment">;</span>
 Â  Â for (int <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; paramAnnotations.length; i++) {</span>
 Â  Â  Â  Â for (Annotation a : paramAnnotations<span class="hljs-section">[i]</span>) {
 Â  Â  Â  Â  Â  Â if (a instanceof CurrentUserId) {
 Â  Â  Â  Â  Â  Â  Â  Â // æ‰¾åˆ°äº†ï¼è¿”å›å¯¹åº”çš„å‚æ•°å€¼
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-attr">currentUserId</span> = (Long) args[i]<span class="hljs-comment">;</span>
 Â  Â  Â  Â  Â  Â  Â  Â break<span class="hljs-comment">;</span>
 Â  Â  Â  Â  Â   }
 Â  Â  Â   }
 Â   }
 Â  Â if (<span class="hljs-attr">currentUserId</span> == null) {
 Â  Â  Â  Â throw new NoAuthorityException(401,"æ— æ³•è·å–å½“å‰ç”¨æˆ· IDï¼Œæƒé™æ ¡éªŒå¤±è´¥")<span class="hljs-comment">;</span>
 Â   }
 Â  Â Set&lt;String&gt; <span class="hljs-attr">roleKeys</span> = redisAuthorityService.getUserRoleKeys(currentUserId)<span class="hljs-comment">;</span>
 Â  Â if (<span class="hljs-attr">roleKeys</span> == null || roleKeys.isEmpty()) {
 Â  Â  Â  Â throw new NoAuthorityException(403, "ç”¨æˆ·æš‚æ— è§’è‰²æƒé™")<span class="hljs-comment">;</span>
 Â   }
â€‹
 Â  Â // 3. è·å–æ¥å£è¦æ±‚çš„æƒé™
 Â  Â String<span class="hljs-section">[]</span> <span class="hljs-attr">requiredPerms</span> = annotation.value()<span class="hljs-comment">;</span>
 Â  Â RequirePermission.Logical <span class="hljs-attr">logical</span> = annotation.logical()<span class="hljs-comment">;</span>
â€‹
 Â  Â // 4. å¼€å§‹æ ¡éªŒ
 Â  Â HashSet&lt;String&gt; <span class="hljs-attr">functionSet</span> = new HashSet&lt;&gt;()<span class="hljs-comment">;</span>
 Â  Â for (String roleKey : roleKeys) {
 Â  Â  Â  Â functionSet.addAll(redisAuthorityService.getRoleFunctionKeys(roleKey))<span class="hljs-comment">;</span>
 Â   }
 Â  Â check(functionSet, requiredPerms, logical)<span class="hljs-comment">;</span>
}
</code></pre>
<p>ç”¨çš„æ—¶å€™å°±åªéœ€è¦è¿™æ ·ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@GetMapping</span>(<span class="hljs-string">"/hello"</span>)
<span class="hljs-variable">@RequirePermission</span>(value = {<span class="hljs-string">"user:manage"</span>}, logical = RequirePermission.Logical.<span class="hljs-keyword">AND</span>)
public String <span class="hljs-built_in">hello</span>(<span class="hljs-variable">@CurrentUserId</span> Long userId) {
 Â  Â <span class="hljs-selector-tag">return</span> Â "<span class="hljs-selector-tag">hello</span>";
}
</code></pre>
<p>éå¸¸çš„ç®€å•æ–¹ä¾¿ï¼</p>
<h4 data-id="heading-8">ï¼ˆäºŒï¼‰é‰´æƒæµç¨‹åˆ†æ</h4>
<p>é‰´æƒéœ€è¦æœ‰ <strong>è®¿é—®å¿«é€Ÿï¼Œèƒ½æ‰¿å—ä¸€å®šå‹åŠ›ï¼Œå†…å­˜å ç”¨ä¸å¤§ï¼Œæ”¯æŒçƒ­ä¿®æ”¹ï¼Œæ”¯æŒåˆ†å¸ƒå¼</strong>çš„ç‰¹ç‚¹ï¼Œé‚£<strong>Redis</strong>ä¾¿æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„ä¸€ä¸ªé€‰æ‹©</p>
<p>æˆ‘ä»¬ç»´æŠ¤ <strong>user:{userId} = Set(roleKey)</strong> å’Œ <strong>role:{roleKey} = Set(functionKey)</strong></p>
<p>å‡å¦‚æœ‰ä¸€ä¸ªç”¨æˆ·è¿›æ¥ï¼Œæˆ‘ä»¬æ ¹æ®å…¶userIdåˆ°RedisæŸ¥å…¶roleï¼Œå†æ ¹æ®å…¶roleå»æ‹¿åˆ°å¯¹åº”çš„functionKey,ç„¶åæ¯”å¯¹è¯¥æ³¨é‡Šä¸­è¦æ±‚çš„åŠŸèƒ½ï¼ˆæƒé™ï¼‰è¿™ä¸ªç”¨æˆ·æ»¡ä¸æ»¡è¶³ï¼Œæ»¡è¶³çš„è¯å°±æ”¾è¡Œï¼Œåä¹‹æ‹¦æˆª</p>
<p>æ€è·¯å¾ˆç®€å•ï¼Œä½†æœ‰å¾ˆå¤šç»†èŠ‚ï¼š<strong>ç”¨æˆ·çš„roleæ˜¯æœ‰ç»§æ‰¿å…³ç³»çš„</strong>ï¼Œå‡å¦‚ä¸€ç”¨æˆ·æœ‰ä¸€ä¸ªroleæ˜¯adminï¼Œä»–å¯èƒ½ç»§æ‰¿äº†æ¥ç€å•†å®¶ï¼Œç”¨æˆ·çš„ä¼—å¤šfunctionsï¼ŒRedisé‡Œé¢çš„role-&gt;functionsä¹Ÿå¿…é¡»æ˜¯<strong>å·±ç»§æ‰¿</strong>çš„ï¼Œä¸ç„¶æ¯ä¸€æ¬¡é‰´æƒéƒ½è¦å»<strong>é€’å½’ç»§æ‰¿</strong></p>
<p>è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„ä¸ºäº†è¯»è€Œç‰ºç‰²å†™ï¼Œä½†é‰´æƒæœ¬èº«å°±æ˜¯æ›´å€¾å‘äºè¯»</p>
<p>åœ¨<strong>ä¿®æ”¹roleçš„functions</strong>æ—¶ï¼Œéœ€è¦é€’å½’çš„ä¿®æ”¹å…¶<strong>çˆ¶è§’è‰²ï¼ˆç»§æ‰¿å®ƒçš„è§’è‰²ï¼‰</strong> çš„functionsï¼Œè¿™æ˜¯ä¸€ä¸ªè¾ƒä¸ºæ¶ˆè€—æ€§èƒ½çš„æ“ä½œï¼Œä½†æ˜¯roleæœ¬èº«æ•°æ®<strong>ä¸å¤š</strong>ï¼Œè¿˜èƒ½æ¥å—</p>
<p>ä¸é‡‡ç”¨<strong>user-&gt;functions</strong>çš„ç†ç”±æ˜¯ï¼Œéšå»äº†roleï¼Œå¯¼è‡´ä¿®æ”¹roleçš„æ—¶å€™éœ€è¦æœ‰ä¸€ä¸ª<strong>åå‘ç´¢å¼•</strong>å»æ‰¾åˆ°è¯¥roleçš„userï¼Œè¿™æå…¶æ¶ˆè€—æ€§èƒ½ï¼Œè€Œä¸”useræ•°é‡ä¼—å¤šï¼Œ<strong>å¾ˆå ç”¨å†…å­˜</strong>ï¼Œè¿™ä¹Ÿå°±æ˜¯RBAC3çš„é—®é¢˜</p>
<p>è€Œä¸”ä¸ºäº†èŠ‚çœå†…å­˜ï¼Œ<strong>user-&gt;role</strong>ä¹Ÿåº”è¯¥é‡‡ç”¨æ‡’åŠ è½½ï¼Œä¸ç„¶ç”¨æˆ·æ•°ä¸€å¤šï¼Œä¸€æ¬¡åŠ è½½ç›´æ¥å¡æ­»</p>
<p>å¯¹äºTTLï¼Œ<strong>user-&gt;role</strong>åº”è¯¥æœ‰TTLï¼Œä¸€å¤©åŠå¤©éƒ½å¯ï¼Œ<strong>role-&gt;functions</strong>å¯ä»¥æŠŠTTLè®¾ä¸ºè¾ƒé•¿ï¼Œå› ä¸ºè¿™ä¸ªæ•°æ®æœ¬èº«ä¿®æ”¹çš„é¢‘ç‡ä¸å¤§ï¼Œåœ¨ä¿®æ”¹çš„æ—¶å€™ä¿®æ”¹å³å¯</p>
<p>ä¸‹é¢æ˜¯æµç¨‹å›¾ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/25549a17e18b4002a2bde2c7115c4a00~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGhhbndpbmRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767439971&amp;x-signature=iF0f6O2beo2Lzho8QU9mf%2BAgh9E%3D" alt="image-20251227190322808.png" loading="lazy"/></p>
<p>ä¿®æ”¹æµç¨‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/82f1e18f1caa46bbb78e9d7a9e5949a8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGhhbndpbmRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767439971&amp;x-signature=WUY6ELUfdCzW%2BCYa1lvTEOxyBJk%3D" alt="image-20251227191152465.png" loading="lazy"/></p>
<hr/>
<p>å¤§è‡´æµç¨‹ä¾¿æ˜¯å¦‚æ­¤ï¼Œå¯¹äºRBACçš„æ›´è¯¦ç»†çš„ä»‹ç»å¯ä»¥çœ‹<a href="https://link.juejin.cn?target=https%3A%2F%2Fcsrc.nist.gov%2FCSRC%2Fmedia%2FPublications%2Fconference-paper%2F2000%2F07%2F26%2Fthe-nist-model-for-role-based-access-control-towards-a-unified-%2Fdocuments%2Fsandhu-ferraiolo-kuhn-00.pdf" target="_blank" title="https://csrc.nist.gov/CSRC/media/Publications/conference-paper/2000/07/26/the-nist-model-for-role-based-access-control-towards-a-unified-/documents/sandhu-ferraiolo-kuhn-00.pdf" ref="nofollow noopener noreferrer">The NIST Model for Role-Based Access Control: Towards a Unified Standard</a></p>
<p>ä¹Ÿå¯ä»¥çœ‹æˆ‘åœ¨githubä¸­çš„å°demoï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FThanwinde%2Ftree-authority" target="_blank" title="https://github.com/Thanwinde/tree-authority" ref="nofollow noopener noreferrer">Thanwinde/tree-authority: ä¸€ä¸ªç®€å•çš„åŸºäºRBAC1çš„é‰´æƒç³»ç»Ÿ</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ‰ TRAE ä¸€å¹´ä½¿ç”¨çš„è¿‡ç¨‹ä½“éªŒ ğŸ‰]]></title>    <link>https://juejin.cn/post/7588124225701953576</link>    <guid>https://juejin.cn/post/7588124225701953576</guid>    <pubDate>2025-12-28T01:48:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588124225701953576" data-draft-id="7588043318360031267" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ‰ TRAE ä¸€å¹´ä½¿ç”¨çš„è¿‡ç¨‹ä½“éªŒ ğŸ‰"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-28T01:48:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§çŸ¥é—²é—²i"/> <meta itemprop="url" content="https://juejin.cn/user/3799545205237111"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ‰ TRAE ä¸€å¹´ä½¿ç”¨çš„è¿‡ç¨‹ä½“éªŒ ğŸ‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3799545205237111/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§çŸ¥é—²é—²i
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T01:48:37.000Z" title="Sun Dec 28 2025 01:48:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€ï¼šç¼–è¯‘é©å‘½ï¼Œæ™ºé€ æœªæ¥</h2>
<p>åœ¨2025å¹´çš„æ•°å­—æµªæ½®ä¸­ï¼Œæˆ‘ä»¬è¿æ¥äº†ä¸€åœºç¼–ç¨‹èŒƒå¼çš„é©å‘½â€”â€”TRAE AIç¼–è¯‘å™¨ï¼Œè¿™ä¸æ˜¯ä¸€æ¬¡ç®€å•çš„æŠ€æœ¯è¿­ä»£ï¼Œè€Œæ˜¯ä¸€æ¬¡å¼€å‘è€…ä½“éªŒçš„é‡å­é£è·ƒï¼è®©æˆ‘ä»¬æ­å¼€è¿™åœºæ™ºèƒ½ç¼–è¯‘é©å‘½çš„ç¥ç§˜é¢çº±ã€‚</p>
<h2 data-id="heading-1">1.TRAE AIç¼–è¯‘å™¨æ™ºèƒ½ç†è§£å¼•æ“</h2>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 2025å¹´ä½ çš„é«˜å…‰æ—¶åˆ»</span>
<span class="hljs-keyword">const</span> yourMilestones = {
  <span class="hljs-attr">fastestCompile</span>: {
    <span class="hljs-attr">date</span>: <span class="hljs-string">"2025-03-15"</span>,
    <span class="hljs-attr">project</span>: <span class="hljs-string">"xxxxæ¡†æ¶"</span>,
    <span class="hljs-attr">time</span>: <span class="hljs-string">"0.8ç§’"</span>,
    <span class="hljs-attr">achievement</span>: <span class="hljs-string">"ğŸš€ æ‰“ç ´ä¸ªäººæœ€å¿«ç¼–è¯‘è®°å½•"</span>
  },
  <span class="hljs-attr">biggestOptimization</span>: {
    <span class="hljs-attr">date</span>: <span class="hljs-string">"2025-07-22"</span>, 
    <span class="hljs-attr">project</span>: <span class="hljs-string">"æ•°æ®å¯è§†åŒ–å¹³å°"</span>,
    <span class="hljs-attr">improvement</span>: <span class="hljs-string">"ç¼–è¯‘æ—¶é—´å‡å°‘76%"</span>,
    <span class="hljs-attr">memory</span>: <span class="hljs-string">"å†…å­˜å ç”¨é™ä½62%"</span>
  },
  <span class="hljs-attr">mostComplexProject</span>: {
    <span class="hljs-attr">date</span>: <span class="hljs-string">"2025-10-30"</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">"æ™ºèƒ½åŸå¸‚ç®¡ç†ç³»ç»Ÿ"</span>,
    <span class="hljs-attr">languages</span>: [<span class="hljs-string">"TypeScript"</span>, <span class="hljs-string">"Python"</span>, <span class="hljs-string">"Rust"</span>],
    <span class="hljs-attr">modules</span>: <span class="hljs-number">89</span>,
    <span class="hljs-attr">lines</span>: <span class="hljs-string">"42,317è¡Œ"</span>
  }
  <span class="hljs-comment">//åœ¨å†™æ•°æ®çš„æ—¶å€™TRAEæ™ºèƒ½æ¨èï¼šç®€æ´é«˜æ•ˆ âœ…</span>
};

<span class="hljs-comment">// TRAEç‹¬æœ‰çš„è·¨è¯­è¨€æ™ºèƒ½ä¼˜åŒ–</span>
<span class="hljs-comment">// è‡ªåŠ¨è¯†åˆ«å„è¯­è¨€æœ€ä½³ç‰¹æ€§å¹¶èåˆ</span>
â€‹
<span class="hljs-comment">// TypeScript + Pythoné£æ ¼æ··åˆï¼ˆTRAEæ™ºèƒ½æ¡¥æ¥ï¼‰</span>
<span class="hljs-meta">@decorator</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> processData&lt;T&gt;(<span class="hljs-attr">data</span>: T[]): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Result</span>&gt; {
    <span class="hljs-comment">// è‡ªåŠ¨ç±»å‹æ¨æ–­ + Pythonå¼åˆ—è¡¨æ¨å¯¼</span>
    <span class="hljs-keyword">const</span> filtered = data.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> <span class="hljs-title function_">isValid</span>(x))
                         .<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> <span class="hljs-title function_">transform</span>(x));
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-title function_">processBatch</span>(filtered);
}
</code></pre>
<p><strong>ç”¨æˆ·å¿ƒå£°ï¼š</strong></p>
<blockquote>
<p>"å°±åƒæœ‰ä¸ªç¼–ç¨‹å¤§å¸ˆåœ¨æ—è¾¹æŒ‡å¯¼ï¼ŒTRAEèƒ½ç†è§£æˆ‘çš„æ„å›¾ï¼Œè€Œä¸ä»…ä»…æ˜¯æ‰§è¡ŒæŒ‡ä»¤ï¼"</p>
<p>åŸæœ¬è‡ªå·±æ•´ç†æ•°æ®æ„å»º45åˆ†é’Ÿï¼Œç°åœ¨å¹³å‡åªè¦25åˆ†é’Ÿã€‚æ•ˆç‡ç›´æ¥ç¿»å€ï¼"</p>
</blockquote>
<pre><code class="hljs language-markdown" lang="markdown">TRAEæ™ºèƒ½ç¼–è¯‘æ¨¡å¼ï¼š
  æ™ºèƒ½æ¨¡å¼:
<span class="hljs-bullet">    -</span> è‡ªåŠ¨åˆ†æé¡¹ç›®ç»“æ„
<span class="hljs-bullet">    -</span> åŠ¨æ€è°ƒæ•´ä¼˜åŒ–ç­–ç•¥
<span class="hljs-bullet">    -</span> å­¦ä¹ å›¢é˜Ÿåä½œæ¨¡å¼
  
  æ€§èƒ½æ¨¡å¼:
<span class="hljs-bullet">    -</span> æé™é€Ÿåº¦ä¼˜åŒ–
<span class="hljs-bullet">    -</span> æ¿€è¿›ç¼“å­˜ç­–ç•¥
<span class="hljs-bullet">    -</span> å¹¶è¡Œç¼–è¯‘åŠ é€Ÿ
<span class="hljs-code">    
  èŠ‚èƒ½æ¨¡å¼:
    - æ™ºèƒ½èµ„æºç®¡ç†
    - åå°é™é»˜ç¼–è¯‘
    - ç”µæ± å‹å¥½ä¼˜åŒ–
</span></code></pre>
<h2 data-id="heading-2">âš¡ æ•ˆç‡æå‡æ—¶é—´çº¿</h2>
<h3 data-id="heading-3">ğŸ“… 2025å¹´æˆé•¿è½¨è¿¹</h3>
<h3 data-id="heading-4">ğŸ“¸ å¹´åº¦æ—¶åˆ»å›é¡¾</h3>
<pre><code class="hljs language-markdown" lang="markdown">âœ¨ éš¾å¿˜çš„ç¼–è¯‘ç¬é—´ï¼š
<span class="hljs-bullet">1.</span> æœ€å¤æ‚çš„ç¼–è¯‘ï¼šæ¶‰åŠ89ä¸ªæ¨¡å—ï¼Œ42ç§’å®Œæˆ
<span class="hljs-bullet">2.</span> æœ€ç¥å¥‡çš„ä¼˜åŒ–ï¼šä¸€è¡Œå»ºè®®èŠ‚çœ3å°æ—¶å·¥ä½œé‡  
<span class="hljs-bullet">3.</span> æœ€åŠæ—¶çš„é¢„è­¦ï¼šé˜»æ­¢äº†çº¿ä¸Šé‡å¤§æ•…éšœ
<span class="hljs-bullet">4.</span> æœ€è‡ªè±ªçš„é¡¹ç›®ï¼šä¸ºå¼€æºç¤¾åŒºè´¡çŒ®æ ¸å¿ƒä¼˜åŒ–
</code></pre>
<blockquote>
<p><strong>"ä¼˜é›…çš„ä»£ç ä¸ä»…è¦èƒ½è¿è¡Œï¼Œæ›´è¦ä¼šæ€è€ƒ"</strong></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React 18 æ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼š5ä¸ªè¢«ä½ä¼°çš„Hooksç”¨æ³•è®©ä½ çš„åº”ç”¨å¿«30%]]></title>    <link>https://juejin.cn/post/7588093282530721844</link>    <guid>https://juejin.cn/post/7588093282530721844</guid>    <pubDate>2025-12-28T00:16:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588093282530721844" data-draft-id="7588092534162276352" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React 18 æ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼š5ä¸ªè¢«ä½ä¼°çš„Hooksç”¨æ³•è®©ä½ çš„åº”ç”¨å¿«30%"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-28T00:16:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿æ©™çš„ç™¾å®ç®±"/> <meta itemprop="url" content="https://juejin.cn/user/1638743356481367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React 18 æ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼š5ä¸ªè¢«ä½ä¼°çš„Hooksç”¨æ³•è®©ä½ çš„åº”ç”¨å¿«30%
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1638743356481367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿æ©™çš„ç™¾å®ç®±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T00:16:45.000Z" title="Sun Dec 28 2025 00:16:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>React 18 æ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼š5ä¸ªè¢«ä½ä¼°çš„Hooksç”¨æ³•è®©ä½ çš„åº”ç”¨å¿«30%</strong></h2>
<h2 data-id="heading-1">å¼•è¨€</h2>
<p>React 18å¸¦æ¥äº†è®¸å¤šä»¤äººå…´å¥‹çš„æ–°ç‰¹æ€§ï¼Œå°¤å…¶æ˜¯å¹¶å‘æ¸²æŸ“ï¼ˆConcurrent Renderingï¼‰å’Œè‡ªåŠ¨æ‰¹å¤„ç†ï¼ˆAutomatic Batchingï¼‰ç­‰èƒ½åŠ›ï¼Œè¿›ä¸€æ­¥æå‡äº†åº”ç”¨çš„æ€§èƒ½ã€‚ç„¶è€Œï¼Œè®¸å¤šå¼€å‘è€…åœ¨ä½¿ç”¨Hooksæ—¶ä»åœç•™åœ¨åŸºç¡€å±‚é¢ï¼Œæœªèƒ½å……åˆ†åˆ©ç”¨å…¶æ½œåŠ›ã€‚äº‹å®ä¸Šï¼ŒReact Hooksçš„è®¾è®¡åˆè¡·ä¸ä»…æ˜¯ä¸ºäº†ç®€åŒ–çŠ¶æ€é€»è¾‘çš„å¤ç”¨ï¼Œè¿˜éšè—äº†è®¸å¤šå¯ä»¥æ˜¾è‘—æå‡æ€§èƒ½çš„æŠ€å·§ã€‚</p>
<p>æœ¬æ–‡å°†æ·±å…¥æ¢è®¨5ä¸ªè¢«ä½ä¼°çš„Hooksç”¨æ³•ï¼Œç»“åˆå®æˆ˜æ¡ˆä¾‹å’Œæ€§èƒ½åˆ†æï¼Œå¸®åŠ©ä½ è§£é”Reactåº”ç”¨çš„é¢å¤–æ€§èƒ½æ½œåŠ›ã€‚è¿™äº›æŠ€å·§ç»è¿‡å®é™…é¡¹ç›®éªŒè¯ï¼Œåˆç†ä½¿ç”¨åç”šè‡³èƒ½è®©åº”ç”¨é€Ÿåº¦æå‡30%ä»¥ä¸Šã€‚</p>
<hr/>
<h2 data-id="heading-2">ä¸»ä½“</h2>
<h3 data-id="heading-3">1. <code>useMemo</code> + <code>useCallback</code>ï¼šé¿å…ä¸å¿…è¦çš„å­ç»„ä»¶é‡æ¸²æŸ“</h3>
<h4 data-id="heading-4">é—®é¢˜èƒŒæ™¯</h4>
<p>åœ¨Reactä¸­ï¼Œçˆ¶ç»„ä»¶çš„çŠ¶æ€æ›´æ–°ä¼šå¯¼è‡´æ‰€æœ‰å­ç»„ä»¶é»˜è®¤é‡æ–°æ¸²æŸ“ï¼Œå³ä½¿å­ç»„ä»¶çš„propså¹¶æœªå˜åŒ–ã€‚è¿™ç§â€œè¿‡åº¦æ¸²æŸ“â€åœ¨å¤æ‚åº”ç”¨ä¸­ä¼šå¸¦æ¥æ˜æ˜¾çš„æ€§èƒ½æŸè€—ã€‚</p>
<h4 data-id="heading-5">ä¼˜åŒ–æ–¹æ¡ˆ</h4>
<p>é€šè¿‡<code>useMemo</code>å’Œ<code>useCallback</code>ç¼“å­˜å€¼å’Œå‡½æ•°ï¼Œå¯ä»¥é¿å…å­ç»„ä»¶çš„æ— æ•ˆæ¸²æŸ“ï¼š</p>
<ul>
<li><code>useMemo</code>ï¼šç¼“å­˜è®¡ç®—ç»“æœï¼Œé¿å…é‡å¤è®¡ç®—ã€‚</li>
<li><code>useCallback</code>ï¼šç¼“å­˜å‡½æ•°å¼•ç”¨ï¼Œé¿å…å› å‡½æ•°é‡æ–°åˆ›å»ºå¯¼è‡´çš„å­ç»„ä»¶æ›´æ–°ã€‚</li>
</ul>
<h4 data-id="heading-6">ä»£ç ç¤ºä¾‹</h4>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">const</span> <span class="hljs-title class_">ExpensiveComponent</span> = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">memo</span>(<span class="hljs-function">(<span class="hljs-params">{ compute, data }</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> result = <span class="hljs-title function_">compute</span>(data);
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{result}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
});

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Parent</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">const</span> data = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], []); <span class="hljs-comment">// ç¼“å­˜æ•°æ®</span>
  <span class="hljs-keyword">const</span> compute = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> data.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a + b), []); <span class="hljs-comment">// ç¼“å­˜å‡½æ•°</span>

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(c =&gt; c + 1)}&gt;Click {count}<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ExpensiveComponent</span> <span class="hljs-attr">compute</span>=<span class="hljs-string">{compute}</span> <span class="hljs-attr">data</span>=<span class="hljs-string">{data}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
}
</code></pre>
<h4 data-id="heading-7">æ€§èƒ½æ”¶ç›Š</h4>
<ul>
<li><strong>å‡å°‘å­ç»„ä»¶æ¸²æŸ“æ¬¡æ•°</strong>ï¼šé€šè¿‡<code>React.memo</code>é…åˆ<code>useCallback</code>å’Œ<code>useMemo</code>ï¼Œå¯ä»¥é¿å…å› çˆ¶ç»„ä»¶æ— å…³çŠ¶æ€æ›´æ–°å¯¼è‡´çš„å­ç»„ä»¶é‡æ¸²æŸ“ã€‚</li>
<li><strong>é™ä½è®¡ç®—å¼€é”€</strong>ï¼šå¯¹äºå¤æ‚è®¡ç®—æˆ–å¤§æ•°æ®å¤„ç†ï¼Œ<code>useMemo</code>èƒ½æ˜¾è‘—å‡å°‘é‡å¤è®¡ç®—çš„å¼€é”€ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-8">2. <code>useTransition</code>ï¼šä¼˜å…ˆå¤„ç†é«˜ä¼˜å…ˆçº§æ›´æ–°</h3>
<h4 data-id="heading-9">Reactå¹¶å‘ç‰¹æ€§çš„æ ¸å¿ƒHook</h4>
<p>Reactå¼•å…¥å¹¶å‘æ¨¡å¼çš„æ ¸å¿ƒç›®æ ‡ä¹‹ä¸€æ˜¯è®©åº”ç”¨èƒ½å¤ŸåŒºåˆ†â€œç´§æ€¥â€å’Œâ€œéç´§æ€¥â€æ›´æ–°ã€‚ä¾‹å¦‚ï¼šç”¨æˆ·åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥æ˜¯ç´§æ€¥ä»»åŠ¡ï¼›è€Œæœç´¢ç»“æœçš„è¿‡æ»¤å¯èƒ½æ˜¯éç´§æ€¥ä»»åŠ¡ã€‚</p>
<h4 data-id="heading-10"><code>useTransition</code>çš„ä½œç”¨</h4>
<p>å®ƒå…è®¸ä½ å°†æŸäº›çŠ¶æ€æ ‡è®°ä¸ºâ€œä½ä¼˜å…ˆçº§â€ï¼Œä»è€Œä¸é˜»å¡ç”¨æˆ·äº¤äº’ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">const</span> [isPending, startTransition] = <span class="hljs-title function_">useTransition</span>();

<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleChange</span>(<span class="hljs-params">e</span>) {
   <span class="hljs-title function_">setInput</span>(e.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>); <span class="hljs-comment">// High-priority update</span>
   <span class="hljs-title function_">startTransition</span>(<span class="hljs-function">() =&gt;</span> {
     <span class="hljs-title function_">setFilteredData</span>(<span class="hljs-title function_">filter</span>(e.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>)); <span class="hljs-comment">// Low-priority update</span>
   });
}
</code></pre>
<h4 data-id="heading-11"><strong>é€‚ç”¨åœºæ™¯</strong></h4>
<ul>
<li><strong>æœç´¢/è¿‡æ»¤å¤§åˆ—è¡¨</strong></li>
<li><strong>åŠ¨æ€åŠ è½½è·¯ç”±</strong></li>
</ul>
<hr/>
<p>###3ï¼å·§ç”¨Deferred Values (<code>defer</code>)
åœ¨æŸäº›æƒ…å†µä¸‹æˆ‘ä»¬å¸Œæœ›å»¶è¿ŸæŸäº›UIå†…å®¹çš„å±•ç¤ºä»¥é¿å…é—ªçƒæˆ–å¡é¡¿ã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">const</span> deferredValue=<span class="hljs-title function_">unstable_deferredValue</span>(value)
</code></pre>
<p>å½“valueå˜åŒ–æ—¶reactä¼šå°è¯•å»¶è¿Ÿæ–°uiå†…å®¹çš„å±•ç¤ºç›´åˆ°æµè§ˆå™¨ç©ºé—²æ—¶æ‰å®Œæˆç»˜åˆ¶ã€‚</p>
<hr/>
<p>##æ€»ç»“</p>
<p>æœ¬æ–‡ä»‹ç»äº†äº”ä¸ªå…³é”®ä½†å¸¸è¢«å¿½è§†çš„react hooksæŠ€å·§ï¼š</p>
<p>1ï¼åˆ©ç”¨memoization hooks(<code> usememo</code>,<code>usecallback</code>)å‡å°‘æ— æ•ˆé‡æ¸²æŸ’
2ï¼é€šè¿‡transitionç®¡ç†æ›´æ–°ä¼˜å…ˆçº§ä»¥æå‡äº¤äº’æµç•…åº¦
3ï¼ä½¿ç”¨deferred valuesæ¨è¿Ÿéå…³é”®å†…å®¹åŠ è½½</p>
<p>æ­£ç¡®è¿ç”¨è¿™äº›æŠ€æœ¯ä¸ä»…èƒ½æé«˜ç¨‹åºè¿è¡Œæ•ˆç‡è¿˜èƒ½æ˜¾è‘—æ”¹å–„ç”¨æˆ·ä½“éªŒã€‚</p>
<p>å¸Œæœ›ä½ èƒ½å°†è¿™äº›æ–¹æ³•åº”ç”¨åˆ°å®é™…é¡¹ç›®ä¸­å¹¶è§è¯æ˜¾è‘—çš„æ€§èƒ½æå‡ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰åç«¯åˆ†ç¦»æ¡†æ¶ CatchAdmin V5 beta.2 å‘å¸ƒ æ’ä»¶åŒ–ä¸å¼€å‘æ•ˆç‡çš„è¿›ä¸€æ­¥æå‡]]></title>    <link>https://juejin.cn/post/7588146449005936676</link>    <guid>https://juejin.cn/post/7588146449005936676</guid>    <pubDate>2025-12-28T00:23:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588146449005936676" data-draft-id="7588300640599130118" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰åç«¯åˆ†ç¦»æ¡†æ¶ CatchAdmin V5 beta.2 å‘å¸ƒ æ’ä»¶åŒ–ä¸å¼€å‘æ•ˆç‡çš„è¿›ä¸€æ­¥æå‡"/> <meta itemprop="keywords" content="åç«¯,PHP,å¼€æº"/> <meta itemprop="datePublished" content="2025-12-28T00:23:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="BingoGo"/> <meta itemprop="url" content="https://juejin.cn/user/993614242266077"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰åç«¯åˆ†ç¦»æ¡†æ¶ CatchAdmin V5 beta.2 å‘å¸ƒ æ’ä»¶åŒ–ä¸å¼€å‘æ•ˆç‡çš„è¿›ä¸€æ­¥æå‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/993614242266077/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    BingoGo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T00:23:07.000Z" title="Sun Dec 28 2025 00:23:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰åç«¯åˆ†ç¦»æ¡†æ¶ CatchAdmin V5 beta.2 å‘å¸ƒ æ’ä»¶åŒ–ä¸å¼€å‘æ•ˆç‡çš„è¿›ä¸€æ­¥æå‡</h2>
<h3 data-id="heading-1">å…³äº CatchAdmin</h3>
<p>CatchAdmin æ˜¯ä¸€æ¬¾åŸºäº Laravel å’Œ Element Plus äºŒæ¬¡å¼€å‘è€Œæˆåå°ç®¡ç†ç³»ç»Ÿã€‚Laravel ç¤¾åŒºä¹Ÿæœ‰è®¸å¤šéå¸¸ä¼˜ç§€çš„åå°ç®¡ç†ç³»ç»Ÿï¼Œä¾‹å¦‚ Novaï¼Œå®˜æ–¹å‡ºå“ï¼Œå½“ç„¶æ˜¯æ”¶è´¹çš„ï¼Œå…è´¹çš„æœ‰åŸºäº Livewire çš„ Filamentï¼Œè¿˜æœ‰ä¸å¾—ä¸è¯´çš„ Laravel Adminã€‚å®ƒé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼ŒCatchAdmin é›†æˆäº† Token é‰´æƒã€æƒé™ç®¡ç†ã€åŠ¨æ€è·¯ç”±ã€åŠ¨æ€è¡¨æ ¼ã€åˆ†é¡µå°è£…ã€èµ„æºæƒé™ã€ä¸Šä¼ ä¸‹è½½ã€ä»£ç ç”Ÿæˆå™¨æ”¯æŒä¸€é”®å¯¼å‡ºå¯¼å…¥ï¼Œæ•°æ®å›æ”¶ç«™ï¼Œé™„ä»¶ç®¡ç†çš„ä¸€æ¬¾æ¨¡å—åŒ–æ¡†æ¶ã€‚Laravel æ¡†æ¶ä»…ä»…ä½œä¸º Api è¾“å‡ºã€‚å°†ç®¡ç†ç³»ç»Ÿæ¨¡å—ä¹‹é—´çš„è€¦åˆé™åˆ°äº†æœ€ä½é™åº¦ã€‚æ¯ä¸ªæ¨¡å—ä¹‹é—´éƒ½æœ‰ç‹¬ç«‹çš„æ§åˆ¶å™¨ï¼Œè·¯ç”±ï¼Œæ¨¡å‹ï¼Œæ•°æ®è¡¨ã€‚åœ¨å¼€å‘ä¸Šå°½å¯èƒ½å°†æ¨¡å—ä¹‹é—´çš„å½±å“é™åˆ°æœ€ä½ï¼Œé™ä½äº†å¼€å‘ä¸Šçš„éš¾åº¦ã€‚åŸºäº CatchAdmin å¯ä»¥å¼€å‘ CMSï¼ŒCRMï¼ŒOA ç­‰ç­‰ç³»ç»Ÿã€‚ä¹Ÿå°è£…äº†å¾ˆå¤šå®ç”¨çš„å·¥å…·ï¼Œæå‡å¼€å‘ä½“éªŒã€‚</p>
<h3 data-id="heading-2">æœ¬æ¬¡æ›´æ–°äº®ç‚¹</h3>
<h4 data-id="heading-3">å¯¼å…¥å¯¼å‡ºåŠŸèƒ½å¢å¼º</h4>
<p>Beta.3 ç‰ˆæœ¬å¯¹æ•°æ®å¯¼å…¥å¯¼å‡ºåŠŸèƒ½è¿›è¡Œäº†æ ¸å¿ƒå±‚é¢çš„å¢å¼ºã€‚åœ¨å®é™…ä¸šåŠ¡ä¸­ï¼Œæ‰¹é‡å¯¼å…¥ç”¨æˆ·ã€è®¢å•ã€å•†å“ç­‰æ•°æ®æ˜¯é«˜é¢‘éœ€æ±‚ã€‚æ­¤æ¬¡æ›´æ–°ä¼˜åŒ–äº†å¯¼å…¥å¯¼å‡ºçš„åº•å±‚é€»è¾‘ï¼Œæ”¯æŒæ›´å¤§æ•°æ®é‡çš„å¤„ç†ï¼Œå¹¶æä¾›äº†æ›´çµæ´»çš„å­—æ®µæ˜ å°„é…ç½®ã€‚åœ¨ä»£ç ç”Ÿæˆå™¨ä¸­å‹¾é€‰"æ”¯æŒå¯¼å…¥å¯¼å‡º"ï¼Œå³å¯ä¸ºæ¨¡å—è‡ªåŠ¨ç”Ÿæˆå®Œæ•´çš„å¯¼å…¥å¯¼å‡ºåŠŸèƒ½ï¼Œæ— éœ€æ‰‹å†™ Excel å¤„ç†ä»£ç ã€‚</p>
<h4 data-id="heading-4">æ’ä»¶ç³»ç»Ÿæ­£å¼æ”¯æŒ</h4>
<p>æ’ä»¶ç³»ç»Ÿæ˜¯ v5.0 çš„æ ¸å¿ƒç‰¹æ€§ä¹‹ä¸€ã€‚CatchAdmin æ²¡æœ‰è‡ªå·±å‘æ˜ä¸€å¥—æ’ä»¶æœºåˆ¶ï¼Œè€Œæ˜¯ç›´æ¥ç»‘å®š Composer ç”Ÿæ€â€”â€”ä»»ä½•ç¬¦åˆ Laravel Package è§„èŒƒçš„ Composer åŒ…éƒ½å¯ä»¥ä½œä¸º CatchAdmin æ’ä»¶ä½¿ç”¨ã€‚</p>
<p>æœ¬æ¬¡æ›´æ–°å¢å¼ºäº†æ’ä»¶å®‰è£…çš„ Hook åŠŸèƒ½ï¼Œå¼€å‘è€…å¯ä»¥åœ¨æ’ä»¶å®‰è£…ã€å¸è½½æ—¶æ‰§è¡Œè‡ªå®šä¹‰é€»è¾‘ï¼ˆå¦‚åˆå§‹åŒ–é…ç½®ã€åˆ›å»ºæ•°æ®è¡¨ç­‰ï¼‰ã€‚åŒæ—¶ä¼˜åŒ–äº†æ’ä»¶å®‰è£…é¡µé¢ï¼Œæ”¯æŒåœ¨åå°å¯è§†åŒ–ç®¡ç†æ’ä»¶çš„å¯ç”¨ã€ç¦ç”¨ä¸å¸è½½ã€‚</p>
<p>è¿™ç§è®¾è®¡è®© CatchAdmin å¯ä»¥æ— ç¼é›†æˆç¬¬ä¸‰æ–¹æœåŠ¡ï¼ˆæ”¯ä»˜ã€çŸ­ä¿¡ã€OSS ç­‰ï¼‰ï¼Œä¹Ÿæ–¹ä¾¿å°†ä¸šåŠ¡é€»è¾‘å°è£…æˆæ’ä»¶åœ¨ä¸åŒé¡¹ç›®é—´å¤ç”¨ã€‚</p>
<h4 data-id="heading-5">SFC è¿œç¨‹åŠ è½½æ€§èƒ½ä¼˜åŒ–</h4>
<p>CatchAdmin çš„å‰ç«¯æ”¯æŒ"å³æ—¶æ¸²æŸ“"ï¼Œå³æ— éœ€ç¼–è¯‘å³å¯ç›´æ¥åŠ è½½ Vue å•æ–‡ä»¶ç»„ä»¶ï¼ˆSFCï¼‰ã€‚è¿™åœ¨å¼€å‘é˜¶æ®µéå¸¸æ–¹ä¾¿ï¼Œä½†è¿œç¨‹åŠ è½½ä¼šå½±å“é¦–å±æ¸²æŸ“é€Ÿåº¦ã€‚</p>
<p>Beta.3 ç‰ˆæœ¬ä¼˜åŒ–äº† SFC çš„åŠ è½½æœºåˆ¶ï¼Œé€šè¿‡ç¼“å­˜ç­–ç•¥å’ŒæŒ‰éœ€åŠ è½½ï¼Œæ˜¾è‘—æå‡äº†é¡µé¢æ¸²æŸ“é€Ÿåº¦ã€‚åœ¨å®é™…æµ‹è¯•ä¸­ï¼Œåˆ—è¡¨é¡µçš„é¦–æ¬¡åŠ è½½æ—¶é—´ç¼©çŸ­äº†çº¦ 30%ã€‚</p>
<h4 data-id="heading-6">å®‰è£…ä½“éªŒä¼˜åŒ–</h4>
<p>ç®€åŒ–äº†é¡¹ç›®åˆå§‹åŒ–æµç¨‹ï¼Œä¿®å¤äº†å›  Composer ä¾èµ–å†²çªå¯¼è‡´çš„å®‰è£…å¤±è´¥é—®é¢˜ã€‚ç°åœ¨ä»åˆ›å»ºé¡¹ç›®åˆ°å¯åŠ¨åå°ï¼Œæ•´ä¸ªè¿‡ç¨‹æ›´åŠ æµç•…ï¼ŒåŸºæœ¬ä¸éœ€è¦æ‰‹åŠ¨å¹²é¢„ã€‚</p>
<p>æ­¤å¤–ï¼Œå·¦ä¾§èœå•ç°åœ¨æ”¯æŒè‡ªåŠ¨æ›´æ–°â€”â€”å®‰è£…æ–°æ¨¡å—æˆ–æ’ä»¶åï¼Œåˆ·æ–°é¡µé¢å³å¯çœ‹åˆ°å¯¹åº”çš„èœå•é¡¹ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®è·¯ç”±ã€‚</p>
<h3 data-id="heading-7">æ’ä»¶å¸‚åœºå·²æ­£å¼ä¸Šçº¿</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcatchadmin.vip%2Fplugins" target="_blank" title="https://catchadmin.vip/plugins" ref="nofollow noopener noreferrer">CatchAdmin æ’ä»¶å¸‚åœº</a></p>
<h3 data-id="heading-8">å¿«é€Ÿå¼€å§‹</h3>
<pre><code class="hljs language-shell" lang="shell">composer global -W require catchadmin/installer
<span class="hljs-meta prompt_">
# </span><span class="bash">æ–°å»ºé¡¹ç›®</span>
catch new catchadmin
<span class="hljs-meta prompt_">
# </span><span class="bash">å®‰è£…é¡¹ç›®</span>
cd catchadmin &amp;&amp; php artisan catch:install
<span class="hljs-meta prompt_">
# </span><span class="bash">å¯åŠ¨é¡¹ç›®</span>
composer run dev
</code></pre>
<h3 data-id="heading-9">åŠŸèƒ½</h3>
<ul>
<li>â˜‘ï¸<strong>ç”¨æˆ·ç®¡ç†</strong> å®Œæˆç”¨æˆ·æ·»åŠ ã€ä¿®æ”¹ã€åˆ é™¤é…ç½®ï¼Œæ”¯æŒä¸åŒç”¨æˆ·ç™»å½•åå°çœ‹åˆ°ä¸åŒçš„é¦–é¡µ</li>
<li>â˜‘ï¸<strong>éƒ¨é—¨ç®¡ç†</strong> éƒ¨é—¨ç»„ç»‡æœºæ„ï¼ˆå…¬å¸ã€éƒ¨é—¨ã€å°ç»„ï¼‰ï¼Œæ ‘ç»“æ„å±•ç°</li>
<li>â˜‘ï¸<strong>å²—ä½ç®¡ç†</strong> å¯ä»¥ç»™ç”¨æˆ·é…ç½®æ‰€æ‹…ä»»èŒåŠ¡</li>
<li>â˜‘ï¸<strong>è§’è‰²ç®¡ç†</strong> æ ‘ç»“æ„è®¾è®¡ï¼Œæ”¯æŒè§’è‰²èœå•å’ŒæŒ‰é’®æƒé™åˆ†é…ï¼Œæ”¯æŒè§’è‰²æ•°æ®æƒé™åˆ†é…ã€å¼ºå¤§çš„è§’è‰²ç®¡ç†ä½“ç³»</li>
<li>â˜‘ï¸<strong>èœå•ç®¡ç†</strong> é…ç½®ç³»ç»Ÿèœå•å’ŒæŒ‰é’®ç­‰</li>
<li>â˜‘ï¸<strong>å­—å…¸ç®¡ç†</strong> å¯¹ç³»ç»Ÿä¸­ç»å¸¸ä½¿ç”¨å¹¶ä¸”å›ºå®šçš„æ•°æ®å¯ä»¥é‡å¤ä½¿ç”¨å’Œç»´æŠ¤</li>
<li>â˜‘ï¸<strong>ç³»ç»Ÿé…ç½®</strong> ç³»ç»Ÿçš„ä¸€äº›å¸¸ç”¨è®¾ç½®ç®¡ç†</li>
<li>â˜‘ï¸<strong>æ“ä½œæ—¥å¿—</strong> ç”¨æˆ·å¯¹ç³»ç»Ÿçš„ä¸€äº›æ­£å¸¸æ“ä½œçš„æŸ¥è¯¢</li>
<li>â˜‘ï¸<strong>ç™»å½•æ—¥å¿—</strong> ç”¨æˆ·ç™»å½•ç³»ç»Ÿçš„è®°å½•æŸ¥è¯¢</li>
<li>â˜‘ï¸<strong>æ–‡ä»¶ä¸Šä¼ </strong> æ”¯æŒ<code>æœ¬åœ°</code>ã€<code>ä¸ƒç‰›äº‘</code>ã€<code>é˜¿é‡Œäº‘</code>ã€<code>è…¾è®¯äº‘</code></li>
<li>â˜‘ï¸<strong>é™„ä»¶ç®¡ç†</strong> ç®¡ç†å½“å‰ç³»ç»Ÿä¸Šä¼ çš„æ–‡ä»¶åŠå›¾ç‰‡ç­‰ä¿¡æ¯</li>
<li>â˜‘ï¸<strong>æ•°æ®è¡¨ç»´æŠ¤</strong> å¯¹ç³»ç»Ÿçš„æ•°æ®è¡¨å¯ä»¥è¿›è¡Œæ¸…ç†ç¢ç‰‡å’Œä¼˜åŒ–ï¼Œå¹¶ä¸”ç®¡ç†æ‰€æœ‰æ•°æ®çš„å›æ”¶å’Œé”€æ¯</li>
<li>â˜‘ï¸<strong>ä»£ç ç”Ÿæˆ</strong> å‰åç«¯ä»£ç çš„ç”Ÿæˆï¼ˆphpã€vueã€ æ•°æ®åº“è¿ç§»ï¼‰ï¼Œæ”¯æŒä¸€é”®ç”Ÿæˆåˆ°æ¨¡å—</li>
<li>â˜‘ï¸<strong>æ”¯æŒ Vue å³æ—¶æ¸²æŸ“</strong> æ”¯æŒå‰ç«¯ Vue å³æ—¶æ¸²æŸ“ æ— éœ€ç¼–è¯‘</li>
<li>â˜‘ï¸<strong>æ”¯æŒæ’ä»¶ç³»ç»Ÿ</strong> CatchAdmin æ’ä»¶å³ Composer åŒ…ï¼Œæ— éœ€å†å­¦ä¸€æ¬¡æ’ä»¶å¼€å‘ï¼Œå®Œå…¨ç»‘å®š Composer ç”Ÿæ€</li>
</ul>
<h3 data-id="heading-10">åœ¨çº¿ä½“éªŒ</h3>
<ul>
<li>æ¼”ç¤ºåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fpro.catchadmin.com" target="_blank" title="https://pro.catchadmin.com" ref="nofollow noopener noreferrer">pro.catchadmin.com</a></li>
<li>è´¦æˆ·ï¼š<code>catch@admin.com</code></li>
<li>å¯†ç ï¼š<code>catchadmin</code></li>
</ul>
<h3 data-id="heading-11">é¡¹ç›®åœ°å€</h3>
<ul>
<li>GitHubï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FJaguarJack%2Fcatch-admin" target="_blank" title="https://github.com/JaguarJack/catch-admin" ref="nofollow noopener noreferrer">github.com/JaguarJack/â€¦</a></li>
<li>Giteeï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fcatchadmin%2Fcatchadmin" target="_blank" title="https://gitee.com/catchadmin/catchadmin" ref="nofollow noopener noreferrer">gitee.com/catchadmin/â€¦</a></li>
</ul>
<h3 data-id="heading-12">ç•Œé¢é¢„è§ˆ</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/22ee6d61947949968475529847960b10~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmluZ29Hbw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767486187&amp;x-signature=uVOz8TqSnNI%2B6GWQ1gworl5LlbI%3D" alt="CatchAdmin v5.0 Beta æ¬¢è¿é¡µ" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eb362fcd7e3c48c59b7d84eecc518065~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmluZ29Hbw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767486187&amp;x-signature=Wfz%2FYZH1Vy4OAaA6Mu3%2F2KiVMb0%3D" alt="CatchAdmin v5.0 Beta æ•°æ®é¢æ¿" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dc174d54e85a48119ad7980ab173deab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmluZ29Hbw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767486187&amp;x-signature=Z9kJN6qRbScmi4IaSPDAQAb5GiA%3D" alt="CatchAdmin v5.0 Beta ç”¨æˆ·ç®¡ç†" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c13ea608179b40529a6b16839966a644~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmluZ29Hbw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767486187&amp;x-signature=ePYKf%2Bxi%2Ffwt4XYHV8gmKAQ7%2FY4%3D" alt="CatchAdmin v5.0 Beta ä»£ç ç”Ÿæˆ" loading="lazy"/></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcatchadmin.com%2Fpost%2F2025-12%2Fcatchadmin-v5-beta" target="_blank" title="https://catchadmin.com/post/2025-12/catchadmin-v5-beta" ref="nofollow noopener noreferrer">åŸæ–‡- å‰åç«¯åˆ†ç¦»æ¡†æ¶ CatchAdmin V5 beta.2 å‘å¸ƒ æ’ä»¶åŒ–ä¸å¼€å‘æ•ˆç‡çš„è¿›ä¸€æ­¥æå‡</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€é‡‘ä»“æ•°æ®åº“ã€‘ksql æŒ‡å—ï¼ˆäº”ï¼‰ â€”â€” åˆ›å»ºä¸ç®¡ç†ç´¢å¼•å’Œè§†å›¾ï¼ˆKingbaseES æŸ¥è¯¢ä¼˜åŒ–æ ¸å¿ƒï¼‰]]></title>    <link>https://juejin.cn/post/7588086766249132083</link>    <guid>https://juejin.cn/post/7588086766249132083</guid>    <pubDate>2025-12-28T00:31:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588086766249132083" data-draft-id="7588104741610569738" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€é‡‘ä»“æ•°æ®åº“ã€‘ksql æŒ‡å—ï¼ˆäº”ï¼‰ â€”â€” åˆ›å»ºä¸ç®¡ç†ç´¢å¼•å’Œè§†å›¾ï¼ˆKingbaseES æŸ¥è¯¢ä¼˜åŒ–æ ¸å¿ƒï¼‰"/> <meta itemprop="keywords" content="æ•°æ®åº“"/> <meta itemprop="datePublished" content="2025-12-28T00:31:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å€”å¼ºçš„çŸ³å¤´_"/> <meta itemprop="url" content="https://juejin.cn/user/3168119757484368"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€é‡‘ä»“æ•°æ®åº“ã€‘ksql æŒ‡å—ï¼ˆäº”ï¼‰ â€”â€” åˆ›å»ºä¸ç®¡ç†ç´¢å¼•å’Œè§†å›¾ï¼ˆKingbaseES æŸ¥è¯¢ä¼˜åŒ–æ ¸å¿ƒï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3168119757484368/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å€”å¼ºçš„çŸ³å¤´_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T00:31:10.000Z" title="Sun Dec 28 2025 00:31:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bc9cfc399d0f419985382edb3f07627a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767486670&amp;x-signature=AVxDGNXwajtU%2BvM%2F5fUFSVnn7Ys%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">å¼•è¨€</h2>
<p>æŒæ¡è¡¨çš„åŸºæœ¬è¿ä½œä¹‹åï¼Œè‹¥æƒ³ä¼˜åŒ–æŸ¥è¯¢æ•ˆç‡å¹¶ç®€åŒ–æ•°æ®è®¿é—®ï¼Œå°±è¦å»å­¦ä¹ â€œç´¢å¼•â€å’Œâ€œè§†å›¾â€çš„è¿ç”¨ï¼Œç´¢å¼•ç±»ä¼¼äºâ€œä¹¦ç±ç›®å½•â€ï¼Œå¯ä»¥æå¤§åœ°åŠ å¿«æŸ¥è¯¢é€Ÿåº¦ï¼›è§†å›¾ç±»ä¼¼â€œæ•°æ®çª—å£â€ï¼Œèƒ½å¤Ÿéšè—å¤æ‚çš„æŸ¥è¯¢é€»è¾‘ï¼Œè¿˜èƒ½æ§åˆ¶æ•°æ®çš„å¯è§æ€§ã€‚æœ¬æ–‡å°±â€œksqlå‘½ä»¤è¡Œæ“ä½œç´¢å¼•ä¸è§†å›¾â€å±•å¼€è®ºè¿°ï¼ŒæŠŠä»â€œä½œç”¨åˆ°åˆ›å»ºï¼Œå†åˆ°æŸ¥çœ‹ï¼Œç»´æŒç›´è‡³åˆ é™¤â€çš„å…¨è¿‡ç¨‹æ‹†è§£æˆå®é™…æ“ä½œæ­¥éª¤ï¼Œå¹¶ç»“åˆä¾‹å­å’Œé¿å‘æç¤ºï¼Œä»¥ä½¿åˆå­¦è€…èƒ½å¤Ÿé¢†æ‚Ÿå¹¶ä»˜è¯¸å®è¡Œã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/083024ed594c4e09b9016a8c2b6ae714~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767486670&amp;x-signature=UALdp3zTq4EqYHTIjbevxhKh5oY%3D" alt="" loading="lazy"/>
@[toc]</p>
<h3 data-id="heading-1">ä¸€ã€å‰ç½®å‡†å¤‡ï¼šç¡®è®¤æ“ä½œåŸºç¡€ï¼ˆè¡”æ¥å‰æ–‡ï¼Œç¡®ä¿è¿è´¯ï¼‰</h3>
<p>ç´¢å¼•å’Œè§†å›¾è¦ä¾æ‰˜å·²æœ‰çš„è¡¨ï¼Œæ‰€ä»¥å¾—å…ˆåšå¥½å¦‚ä¸‹é¢„å¤‡å·¥ä½œï¼ˆå‚ç…§ç¬¬å››ç¯‡â€œè¡¨çš„è¿ä½œâ€ç›¸å…³å†…å®¹ï¼‰ï¼Œä»¥é˜²æ­¢åœ¨æ“ä½œè¿‡ç¨‹ä¸­å› ä¸ºä¾èµ–ç¼ºå¤±è€Œå‡ºç°é”™è¯¯æç¤ºã€‚</p>
<h4 data-id="heading-2">1.1 1. è¿æ¥æ•°æ®åº“å¹¶åˆ‡æ¢ç›®æ ‡æ¨¡å¼</h4>
<p>åˆ©ç”¨ ksql å»ºç«‹ä¸æœ¬åœ° KingbaseES æ•°æ®åº“çš„è”ç³»ï¼Œè½¬åˆ°å…ˆå‰æ‰€åˆ›å»ºçš„ <code>test_schema</code> æ¨¡å¼å½“ä¸­ï¼Œæ£€æŸ¥ç›®æ ‡è¡¨æ˜¯å¦ç¡®å®å­˜åœ¨ï¼ˆæ‹¿ <code>sys_user</code> è¡¨æ¥è¯´ï¼Œè¦æ˜¯æ²¡æœ‰å°±å†æ¬¡åˆ›å»ºå®ƒï¼Œæˆ–è€…ç”¨ä¸€ä¸ªæ–°çš„ä¾‹å­ï¼‰ï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯ç¡®ä¿åç»­æ“ä½œèƒ½å¤Ÿé¡ºåˆ©æ‰§è¡Œã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- 1. è¿æ¥æ•°æ®åº“ï¼ˆè‹¥æœªè¿æ¥ï¼‰</span>
ksql <span class="hljs-operator">-</span>d kingbase <span class="hljs-operator">-</span>U <span class="hljs-keyword">system</span>
<span class="hljs-comment">-- 2. åˆ‡æ¢åˆ° test_schema æ¨¡å¼</span>
<span class="hljs-keyword">SET</span> search_path <span class="hljs-keyword">TO</span> test_schema, public;
<span class="hljs-comment">-- 3. ç¡®è®¤ç›®æ ‡è¡¨å­˜åœ¨ï¼ˆå¦‚ sys_user è¡¨ï¼‰</span>
\dt sys_user;
<span class="hljs-comment">-- è‹¥ä¸å­˜åœ¨ï¼Œåˆ›å»ºç¤ºä¾‹è¡¨ï¼ˆç”¨äºåç»­ç´¢å¼•/è§†å›¾æ“ä½œï¼‰</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> IF <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">EXISTS</span> sys_user (
    id SERIAL <span class="hljs-keyword">PRIMARY</span> KEY,
    name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    phone <span class="hljs-type">CHAR</span>(<span class="hljs-number">11</span>) <span class="hljs-keyword">UNIQUE</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    email <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">UNIQUE</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    create_time <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>
) TABLESPACE test_ts;
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a6b5c243932443dc8cbbe5de8c694016~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767486670&amp;x-signature=G0tY%2BgoaAjKp%2BF1KfEyucsXbhIc%3D" alt="image.png" loading="lazy"/></p>
<p>æ‰§è¡Œåè‹¥æ˜¾ç¤º <code>Table "test_schema.sys_user" does not exist</code>ï¼Œåˆ™å…ˆæ‰§è¡Œä¸Šè¿° <code>CREATE TABLE</code> è¯­å¥åˆ›å»ºè¡¨ï¼Œç¡®ä¿åç»­æ“ä½œæœ‰è½½ä½“ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e52d9913afa04d62bf8f7261fa9de948~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767486670&amp;x-signature=N77MBA7G%2F%2B2aBjWlCDMeN4axOrU%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-3">1.2 2. æ’å…¥æµ‹è¯•æ•°æ®ï¼ˆç”¨äºéªŒè¯ç´¢å¼• / è§†å›¾æ•ˆæœï¼‰</h4>
<p>ä¸ºäº†åç»­å¯ä»¥æ£€æµ‹ç´¢å¼•çš„æŸ¥è¯¢é€Ÿåº¦ï¼Œå¹¶æŸ¥çœ‹è§†å›¾çš„æ•°æ®å±•ç¤ºæƒ…å†µï¼Œè¦ç»™ <code>sys_user</code> è¡¨å¢æ·»å¤§é‡æ¨¡æ‹Ÿæ•°æ®æ¥åšæµ‹è¯•ï¼ˆèƒ½å¤Ÿæ·»åŠ ä¸Šåƒæ¡è®°å½•ä»¥æ¨¡æ‹ŸçœŸå®åœºæ™¯ï¼‰ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æ‰¹é‡æ’å…¥10æ¡æµ‹è¯•æ•°æ®ï¼ˆå¯å¤åˆ¶æ‰©å±•ï¼‰</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> test_schema.sys_user (name, phone, email)
<span class="hljs-keyword">VALUES</span> 
(<span class="hljs-string">'å¼ ä¸‰'</span>, <span class="hljs-string">'13800138000'</span>, <span class="hljs-string">'zhangsan@test.com'</span>),
(<span class="hljs-string">'æå››'</span>, <span class="hljs-string">'13900139000'</span>, <span class="hljs-string">'lisi@test.com'</span>),
(<span class="hljs-string">'ç‹äº”'</span>, <span class="hljs-string">'13700137000'</span>, <span class="hljs-string">'wangwu@test.com'</span>),
(<span class="hljs-string">'èµµå…­'</span>, <span class="hljs-string">'13600136000'</span>, <span class="hljs-string">'zhaoliu@test.com'</span>),
(<span class="hljs-string">'å­™ä¸ƒ'</span>, <span class="hljs-string">'13500135000'</span>, <span class="hljs-string">'sunqi@test.com'</span>),
(<span class="hljs-string">'å‘¨å…«'</span>, <span class="hljs-string">'13400134000'</span>, <span class="hljs-string">'zhouba@test.com'</span>),
(<span class="hljs-string">'å´ä¹'</span>, <span class="hljs-string">'13300133000'</span>, <span class="hljs-string">'wuj iu@test.com'</span>),
(<span class="hljs-string">'éƒ‘å'</span>, <span class="hljs-string">'13200132000'</span>, <span class="hljs-string">'zhengshi@test.com'</span>),
(<span class="hljs-string">'é’±ä¸€'</span>, <span class="hljs-string">'13100131000'</span>, <span class="hljs-string">'qianyi@test.com'</span>),
(<span class="hljs-string">'å†¯äºŒ'</span>, <span class="hljs-string">'1300130000'</span>, <span class="hljs-string">'fenger@test.com'</span>);
</code></pre>
<p>æ‰§è¡Œåæç¤º <code>INSERT 0 10</code>ï¼Œè¡¨ç¤ºæ•°æ®æ’å…¥æˆåŠŸï¼Œä¸ºåç»­æ“ä½œæä¾›æµ‹è¯•åŸºç¡€ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/59643bed5b884fa09303c9fc83ac42c7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767486670&amp;x-signature=iTjCqhECFdFCdPVi5bQevD7gOgg%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-4">äºŒã€ç´¢å¼•ç®¡ç†ï¼šç»™è¡¨ â€œåŠ ç›®å½•â€ï¼ŒåŠ é€ŸæŸ¥è¯¢</h3>
<p>ç´¢å¼•æ˜¯ KingbaseES ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½çš„æ ¸å¿ƒæ‰‹æ®µ â€”â€” å½“è¡¨æ•°æ®é‡è¾ƒå¤§æ—¶ï¼ˆå¦‚ 10 ä¸‡æ¡ +ï¼‰ï¼Œæ— ç´¢å¼•çš„æŸ¥è¯¢ä¼š â€œå…¨è¡¨æ‰«æâ€ï¼ˆé€è¡ŒæŸ¥æ‰¾ï¼‰ï¼Œè€Œæœ‰ç´¢å¼•çš„æŸ¥è¯¢ä¼šé€šè¿‡ â€œç´¢å¼•ç›®å½•â€ ç›´æ¥å®šä½æ•°æ®ï¼Œé€Ÿåº¦æå‡æˆç™¾ä¸Šåƒå€ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬æŒ‰ â€œåˆ›å»ºâ†’æŸ¥çœ‹â†’ç»´æŠ¤â†’åˆ é™¤â€ å±•å¼€è®²è§£</p>
<h4 data-id="heading-5">2.1 1. å…ˆæ‡‚åŸºç¡€ï¼šç´¢å¼•çš„ç±»å‹ä¸é€‚ç”¨åœºæ™¯</h4>
<p>æ–°æ‰‹éœ€å…ˆæ˜ç¡®ä¸åŒç´¢å¼•çš„ä½œç”¨ï¼Œé¿å…ç›²ç›®åˆ›å»ºï¼ˆç´¢å¼•å¹¶éè¶Šå¤šè¶Šå¥½ï¼Œä¼šå¢åŠ æ›´æ–° / æ’å…¥çš„å¼€é”€ï¼‰ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3218ac55b8574a06b17704a0c38641ee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767486670&amp;x-signature=kLVGjxmrzyf8qmSLBew%2FUIHJ6UI%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-6">2.2 2. åˆ›å»ºç´¢å¼•ï¼šç”¨ CREATE INDEX è¯­å¥</h4>
<h5 data-id="heading-7">2.2.1 ç¤ºä¾‹ 1ï¼šåˆ›å»ºæ™®é€šç´¢å¼•ï¼ˆåŠ é€Ÿå•å­—æ®µæŸ¥è¯¢ï¼‰</h5>
<p>ç»™ <code>sys_user</code> è¡¨çš„ <code>phone</code> åˆ—å»ºæ™®é€šç´¢å¼•ï¼ˆé¢‘ç¹æŒ‰æ‰‹æœºå·æŸ¥ç”¨æˆ·æ—¶ç”¨ï¼‰ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- è¯­æ³•ï¼šCREATE INDEX ç´¢å¼•å ON è¡¨å(å­—æ®µå);</span>
<span class="hljs-keyword">CREATE</span> INDEX idx_sys_user_phone <span class="hljs-keyword">ON</span> test_schema.sys_user(phone);
</code></pre>
<ul>
<li>
<p><strong>ç´¢å¼•åè§„èŒƒ</strong>æè®®é‡‡ç”¨â€œidx_è¡¨å_å­—æ®µåâ€æ ¼å¼ï¼Œè¿™æ ·ä¾¿äºè¯†åˆ«ï¼Œæ¯”å¦‚â€œidx_sys_user_phoneâ€å°±è¡¨ç¤ºâ€œsys_userâ€è¡¨ä¸­â€œphoneâ€åˆ—çš„ç´¢å¼•ã€‚</p>
</li>
<li>
<p><strong>æˆåŠŸéªŒè¯</strong>ï¼šæ‰§è¡Œåæç¤º <code>CREATE INDEX</code>ï¼Œè¡¨ç¤ºç´¢å¼•åˆ›å»ºæˆåŠŸã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/527b8aecc1de4ab5be6cb6960a4936ce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767486670&amp;x-signature=oT6oM8BhRa7lGD8VM7jXFvc5Dhg%3D" alt="image.png" loading="lazy"/></p>
</li>
</ul>
<h5 data-id="heading-8">2.2.2 ç¤ºä¾‹ 2ï¼šåˆ›å»ºå”¯ä¸€ç´¢å¼•ï¼ˆç¡®ä¿å­—æ®µå”¯ä¸€ + åŠ é€ŸæŸ¥è¯¢ï¼‰</h5>
<p>ç»™ <code>sys_user</code> è¡¨çš„ <code>email</code> åˆ—å»ºå”¯ä¸€ç´¢å¼•ï¼ˆæ—¢ç¡®ä¿é‚®ç®±ä¸é‡å¤ï¼ŒåˆåŠ é€Ÿé‚®ç®±æŸ¥è¯¢ï¼‰ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- è¯­æ³•ï¼šCREATE UNIQUE INDEX ç´¢å¼•å ON è¡¨å(å­—æ®µå);</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">UNIQUE</span> INDEX idx_sys_user_email <span class="hljs-keyword">ON</span> test_schema.sys_user(email);
</code></pre>
<ul>
<li><strong>ä¸ UNIQUE çº¦æŸçš„åŒºåˆ«</strong>ï¼šå”¯ä¸€ç´¢å¼•åªä¿è¯å€¼å”¯ä¸€ï¼ŒUNIQUE çº¦æŸåŒ…å«çº¦æŸå’Œå”¯ä¸€ç´¢å¼•ï¼Œå¦‚æœè¡¨å·²æœ‰ <code>email</code> çš„ UNIQUE çº¦æŸï¼Œåˆ™ä¸å¿…å†åˆ›å»º <code>email</code> çš„å”¯ä¸€ç´¢å¼•ï¼Œå› ä¸ºçº¦æŸæœ¬èº«å°±ä¼šç”Ÿæˆç´¢å¼•ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/228788c91e354239973e35dfbcb69567~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767486670&amp;x-signature=jN3w8ln%2BrX3TTj6Qs2G%2F61B833w%3D" alt="image.png" loading="lazy"/></li>
</ul>
<h5 data-id="heading-9">2.2.3 ç¤ºä¾‹ 3ï¼šåˆ›å»ºå¤åˆç´¢å¼•ï¼ˆåŠ é€Ÿå¤šå­—æ®µç»„åˆæŸ¥è¯¢ï¼‰</h5>
<p>ä¸º<code>sys_user</code>è¡¨çš„<code>name</code>å’Œ<code>create_time</code>åˆ—åˆ›å»ºå¤åˆç´¢å¼•ï¼Œå½“ç»å¸¸ä¾ç…§â€œå§“å+åˆ›å»ºæ—¶é—´èŒƒå›´â€æ‰§è¡ŒæŸ¥è¯¢çš„æ—¶å€™ä¼šç”¨åˆ°è¿™ä¸ªç´¢å¼•ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- è¯­æ³•ï¼šCREATE INDEX ç´¢å¼•å ON è¡¨å(å­—æ®µ1, å­—æ®µ2);</span>
<span class="hljs-keyword">CREATE</span> INDEX idx_sys_user_name_createtime <span class="hljs-keyword">ON</span> test_schema.sys_user(name, create_time);
</code></pre>
<ul>
<li><strong>å­—æ®µé¡ºåºæ³¨æ„</strong>ï¼šå¤åˆç´¢å¼•ä¾ç…§â€œæœ€å·¦ç¬¦åˆåŸåˆ™â€ï¼Œç´¢å¼•(name, create - time)å¯åŠ å¼º name å•å­—æ®µæŸ¥è¯¢ï¼Œä¹Ÿå¯åŠ å¼º name + create - time ç»¼åˆæŸ¥è¯¢ï¼Œä½†æ— æ³•åŠ å¼º create - time å•å­—æ®µæŸ¥è¯¢ï¼Œè¦æŒ‰ç…§æŸ¥è¯¢ä¹ æƒ¯æ¥ç¡®å®šå­—æ®µé¡ºåºã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/91afcbbf23744aacabd6644e54c78b99~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767486670&amp;x-signature=zpxIFWw%2FiFrNNV5nSbASD0SW9qg%3D" alt="image.png" loading="lazy"/></li>
</ul>
<h4 data-id="heading-10">2.3 3. æŸ¥çœ‹ç´¢å¼•ï¼šç¡®è®¤ç´¢å¼•å­˜åœ¨ä¸å…³è”è¡¨</h4>
<p>åˆ›å»ºç´¢å¼•åï¼Œéœ€é€šè¿‡ ksql å‘½ä»¤æŸ¥çœ‹ç´¢å¼•åˆ—è¡¨ã€å…³è”è¡¨åŠè¯¦æƒ…ï¼Œæ¨è <code>\di</code> å’Œ <code>\dt+</code> å‘½ä»¤ï¼š</p>
<h5 data-id="heading-11">2.3.1 ç¤ºä¾‹ 1ï¼šæŸ¥çœ‹æ‰€æœ‰ç´¢å¼•ï¼ˆ\di å‘½ä»¤ï¼‰</h5>
<p>æ‰§è¡Œ <code>\di</code> å¯åˆ—å‡ºå½“å‰æ¨¡å¼ä¸‹çš„æ‰€æœ‰ç´¢å¼•ï¼Œç¡®è®¤ç´¢å¼•æ˜¯å¦åˆ›å»ºæˆåŠŸï¼š</p>
<pre><code class="hljs language-sql" lang="sql">\di
</code></pre>
<p><strong>æ‰§è¡Œç»“æœç¤ºä¾‹ï¼š</strong></p>
<p><strong>å…³é”®ä¿¡æ¯è§£è¯»ï¼š</strong></p>
<ul>
<li><code>Table</code>ï¼šç´¢å¼•å…³è”çš„è¡¨ï¼ˆç¡®è®¤æ˜¯ <code>sys_user</code>ï¼‰ï¼›</li>
<li><code>Columns</code>ï¼šç´¢å¼•å¯¹åº”çš„å­—æ®µï¼ˆå•å­—æ®µ / å¤šå­—æ®µï¼‰ï¼›</li>
<li><code>sys_user_pkey</code>ï¼šä¸»é”®è‡ªåŠ¨åˆ›å»ºçš„ç´¢å¼•ï¼ˆæ— éœ€æ‰‹åŠ¨åˆ›å»ºï¼‰ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/56541cf7d7d64c03b258768b3382b26a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767486670&amp;x-signature=MOsNGgrmRvYTucwMhVc0zmpV90A%3D" alt="image.png" loading="lazy"/></li>
</ul>
<h5 data-id="heading-12">2.3.2 ç¤ºä¾‹ 2ï¼šæŸ¥çœ‹è¡¨å…³è”çš„ç´¢å¼•ï¼ˆ\dt+ è¡¨åï¼‰</h5>
<p>è‹¥éœ€æŸ¥çœ‹æŸå¼ è¡¨çš„æ‰€æœ‰ç´¢å¼•ï¼ˆå¦‚ <code>sys_user</code>ï¼‰ï¼Œæ‰§è¡Œ <code>\d+ è¡¨å</code>ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">\d<span class="hljs-operator">+</span> test_schema.sys_user
</code></pre>
<p><strong>æ‰§è¡Œç»“æœç¤ºä¾‹ï¼ˆç´¢å¼•éƒ¨åˆ†ï¼‰ï¼š</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bccf956d98dd4763ad219001dbdf466b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767486670&amp;x-signature=4h4ZhOa7304PY%2F5wnmph5m7%2B63E%3D" alt="463bec18ca0d0e9375930d3460bbb07c.png" loading="lazy"/></p>
<p>ç›´æ¥å±•ç¤ºè¡¨å…³è”çš„æ‰€æœ‰ç´¢å¼•ï¼ŒåŒ…æ‹¬ç±»å‹ï¼ˆPRIMARY KEY/UNIQUE/ æ™®é€šï¼‰å’Œå­—æ®µï¼Œæ¸…æ™°ç›´è§‚ã€‚</p>
<h4 data-id="heading-13">2.4 4. ç´¢å¼•ç»´æŠ¤ï¼šä¼˜åŒ–æ€§èƒ½ä¸è°ƒæ•´ç»“æ„</h4>
<p>ç´¢å¼•ç»è¿‡ä¸€å®šæ—¶é—´çš„ä½¿ç”¨ä¹‹åï¼Œæœ‰å¯èƒ½ä¼šå‡ºç°ç”±äºæ•°æ®é¢‘ç¹è¢«åˆ é™¤æˆ–è€…æ›´æ–°è€Œé€ æˆçš„â€œç¢ç‰‡åŒ–â€ç°è±¡ï¼Œå³ç´¢å¼•æ–‡ä»¶ä¸­å­˜åœ¨è®¸å¤šç©ºç™½ç©ºé—´ï¼Œè¿™ç§æƒ…å†µä¸‹è¦å€ŸåŠ©é‡å»ºç´¢å¼•æ¥æ”¹å–„è¿™ç§æƒ…å†µï¼Œè€Œä¸”æŒ‰ç…§ä¸ªäººéœ€æ±‚ä¹Ÿå¯ä»¥é‡æ–°å‘½åæˆ–è€…ç›´æ¥åˆ é™¤ç´¢å¼•ã€‚</p>
<h5 data-id="heading-14">2.4.1 ç¤ºä¾‹ 1ï¼šé‡å»ºç´¢å¼•ï¼ˆè§£å†³ç¢ç‰‡åŒ–ï¼Œæå‡æŸ¥è¯¢é€Ÿåº¦ï¼‰</h5>
<p>å½“ç´¢å¼•æŸ¥è¯¢é€Ÿåº¦å˜æ…¢æ—¶ï¼Œé‡å»ºç´¢å¼•å¯æ•´ç†ç¢ç‰‡ï¼Œæ¢å¤æ€§èƒ½ï¼ˆè¡¨å¤§æ—¶å»ºè®®ç¦»çº¿æ‰§è¡Œï¼Œé¿å…å½±å“ä¸šåŠ¡ï¼‰ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- è¯­æ³•ï¼šREINDEX INDEX ç´¢å¼•å;</span>
REINDEX INDEX idx_sys_user_phone;
<span class="hljs-comment">-- è¿›é˜¶ï¼šé‡å»ºè¡¨çš„æ‰€æœ‰ç´¢å¼•ï¼ˆæ›´é«˜æ•ˆï¼‰</span>
REINDEX <span class="hljs-keyword">TABLE</span> sys_user;
</code></pre>
<ul>
<li><strong>æˆåŠŸéªŒè¯</strong>ï¼šæ‰§è¡Œåæç¤º <code>REINDEX</code>ï¼Œè¡¨ç¤ºé‡å»ºå®Œæˆã€‚</li>
</ul>
<h5 data-id="heading-15">2.4.2 ç¤ºä¾‹ 2ï¼šé‡å‘½åç´¢å¼•ï¼ˆè§„èŒƒå‘½åï¼‰</h5>
<p>ç´¢å¼•åè‹¥ä¸ç¬¦åˆè§„èŒƒï¼Œå¯ä»¥é‡æ–°å‘½åï¼Œå¯ä»¥æŠŠ<code>idx_sys_user_phone</code>æ”¹ä¸º<code>idx_sys_user_mobile</code>ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- è¯­æ³•ï¼šALTER INDEX æ—§ç´¢å¼•å RENAME TO æ–°ç´¢å¼•å;</span>
<span class="hljs-keyword">ALTER</span> INDEX idx_sys_user_phone RENAME <span class="hljs-keyword">TO</span> idx_sys_user_mobile;
</code></pre>
<ul>
<li><strong>éªŒè¯</strong>ï¼šæ‰§è¡Œ <code>\d+ test_schema.sys_user</code> å¯çœ‹åˆ°ç´¢å¼•åå·²æ›´æ–°ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e8979bd27dc4ef49a996e146018f802~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767486670&amp;x-signature=S1iUE%2BoaO3pWzk0noAv8QvNWpnc%3D" alt="6a3f5aa361f83070f3ae48b8f04c2a75.png" loading="lazy"/></li>
</ul>
<h5 data-id="heading-16">2.4.3 ç¤ºä¾‹ 3ï¼šåˆ é™¤ç´¢å¼•ï¼ˆæ— ç”¨ç´¢å¼•æ¸…ç†ï¼‰</h5>
<p>æŸå­—æ®µæŸ¥è¯¢é¢‘ç‡é™ä½æˆ–è€…ç´¢å¼•è‡´ä½¿æ’å…¥/æ›´æ–°å˜æ…¢çš„æ—¶å€™ï¼Œè¦åˆ é™¤æ— ç”¨ç´¢å¼•ï¼ˆè¦æ³¨æ„çš„æ˜¯ï¼Œä¸»é”®ç´¢å¼•ä»¥åŠä¸å”¯ä¸€çº¦æŸç›¸å…³è”çš„ç´¢å¼•ä¸èƒ½ç›´æ¥åˆ ï¼Œåº”å½“å…ˆåˆ çº¦æŸï¼‰ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- è¯­æ³•ï¼šDROP INDEX IF EXISTS ç´¢å¼•å;</span>
<span class="hljs-keyword">DROP</span> INDEX IF <span class="hljs-keyword">EXISTS</span> idx_sys_user_name_createtime;
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c368996dc523453e90de69be67e22b92~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767486670&amp;x-signature=DdBnqlQ77Rh%2BUWelwD1vGqzT6o4%3D" alt="532407218768843c859b33c2822afad1.png" loading="lazy"/></p>
<ul>
<li><code>IF EXISTS</code>ï¼šé¿å…ç´¢å¼•ä¸å­˜åœ¨æ—¶æŠ¥é”™ï¼Œä»…æç¤ºè­¦å‘Šï¼›</li>
<li><strong>éªŒè¯</strong>ï¼šæ‰§è¡Œ <code>\d+ test_schema.sys_user</code> ç¡®è®¤ç´¢å¼•å·²ç§»é™¤ã€‚</li>
</ul>
<h4 data-id="heading-17">2.5 5. ç´¢å¼•ä½¿ç”¨æ³¨æ„äº‹é¡¹ï¼ˆæ–°æ‰‹é¿å‘æŒ‡å—ï¼‰</h4>
<ol>
<li><strong>ç´¢å¼•å¹¶éè¶Šå¤šè¶Šå¥½</strong>ï¼Œç´¢å¼•ä¼šåŠ é‡æ’å…¥ï¼Œæ›´æ–°å’Œåˆ é™¤æ—¶çš„å¼€é”€ï¼Œå› ä¸ºæ¯å½“æ•°æ®å‘ç”Ÿå˜åŠ¨çš„æ—¶å€™ï¼Œéƒ½è¦åŒæ­¥æ›´æ–°ç´¢å¼•ã€‚æ‰€ä»¥ä¸€å¼ è¡¨çš„ç´¢å¼•æœ€å¥½åˆ«è¶…è¿‡5ä¸ªã€‚</li>
<li><strong>å°è¡¨ä¸éœ€è¦åˆ›å»ºç´¢å¼•</strong>ï¼Œå½“æ•°æ®é‡å°äº1ä¸‡æ¡æ—¶ï¼Œå…¨è¡¨æ‰«ææ¯”ç´¢å¼•æŸ¥è¯¢é€Ÿåº¦æ›´å¿«ï¼Œå› ä¸ºç´¢å¼•æŸ¥è¯¢è¦å…ˆæŸ¥æ‰¾ç´¢å¼•å†æŸ¥æ‰¾æ•°æ®ï¼Œè¿™å°±å¤šäº†ä¸€æ¬¡IOæ“ä½œã€‚</li>
<li><strong>åˆ—å¦‚æœç»å¸¸æ›´æ–°å°±ä¸è¦åˆ›å»ºç´¢å¼•</strong>ï¼Œæ¯”å¦‚â€œè®¢å•çŠ¶æ€â€è¿™ä¸ªå­—æ®µï¼ˆå…¶å€¼æ¯ç§’éƒ½åœ¨å˜ï¼‰ï¼Œç»™å®ƒåˆ›å»ºç´¢å¼•ä¹‹åï¼Œç´¢å¼•å°±ä¼šé¢‘ç¹åœ°æ‰§è¡ŒåŒæ­¥æ“ä½œï¼Œä»è€Œå½±å“åˆ°æ•´ä½“çš„æ€§èƒ½è¡¨ç°ã€‚</li>
<li><strong>è¦é¿å¼€å¯¹å‡½æ•°æ‰§è¡Œç´¢å¼•å­—æ®µ</strong>ï¼Œåƒ <code>WHERE SUBSTR(phone,1,3) = '138'</code> è¿™ç§æƒ…å†µä¼šä½¿ç´¢å¼•å¤±æ•ˆï¼Œåº”è¯¥æ”¹æˆ <code>WHERE phone LIKE '138%'</code>ï¼ˆå‰ç¼€ç¬¦åˆèƒ½å¤Ÿåˆ©ç”¨ç´¢å¼•ï¼‰ã€‚</li>
</ol>
<h3 data-id="heading-18">ä¸‰ã€è§†å›¾ç®¡ç†ï¼šç»™æ•°æ® â€œå¼€çª—å£â€ï¼Œç®€åŒ–æŸ¥è¯¢ä¸æ§åˆ¶æƒé™</h3>
<p>è§†å›¾å±äºâ€œè™šæ‹Ÿè¡¨â€ï¼Œå®ƒä¾é SQLæŸ¥è¯¢ç»“æœç”Ÿæˆï¼Œå¹¶æœªå‚¨å­˜å®é™…æ•°æ®ï¼ˆæ•°æ®ä»æ—§ä¿å­˜åœ¨åŸå§‹è¡¨å½“ä¸­ï¼‰ï¼Œå…¶å…³é”®æ„ä¹‰åœ¨äºâ€œéšåŒ¿å¤æ‚æŸ¥è¯¢é€»è¾‘â€ä»¥åŠâ€œè°ƒæ§æ•°æ®å¯è§èŒƒå›´â€ï¼ˆè­¬å¦‚ä»…ä»…å‘ç”¨æˆ·æ˜¾ç¤ºæŸäº›åˆ—ï¼‰ï¼Œæˆ‘ä»¬æŒ‰ç…§â€œåˆ›å»º - æŸ¥çœ‹ - æ“ä½œ - åˆ é™¤â€çš„é¡ºåºæ¥æ‰§è¡Œã€‚</p>
<h4 data-id="heading-19">3.1 1. å…ˆæ‡‚åŸºç¡€ï¼šè§†å›¾çš„æ ¸å¿ƒä½œç”¨ï¼ˆæ–°æ‰‹å¿…çŸ¥ï¼‰</h4>
<p>æ–°æ‰‹å®¹æ˜“æ··æ·† â€œè¡¨â€ å’Œ â€œè§†å›¾â€ï¼Œç”¨é€šä¿—æ¯”å–»ç†è§£ï¼š</p>
<ul>
<li>è¡¨ï¼šâ€œä»“åº“â€ï¼Œå­˜å‚¨å®é™…æ•°æ®ï¼›</li>
<li>è§†å›¾åä¸ºâ€œä»“åº“çª—å£â€ï¼Œæ­¤è§†å›¾ä»…æ˜¾ç¤ºæŒ‡å®šåŒºåŸŸçš„è´§ç‰©ï¼ˆæ•°æ®ï¼‰ï¼Œæ— æ³•çœ‹åˆ°æ•´ä¸ªä»“åº“çš„æ¦‚è²Œï¼Œè€Œä¸”è¯¥çª—å£ä¸å¯ç›´æ¥è¢«ä¿®æ”¹ï¼Œè¦ç»è¿‡æ­¤çª—å£å»æ›´æ”¹ä»“åº“çš„æ•°æ®ï¼Œä¸è¿‡å­˜åœ¨ä¸€äº›é™åˆ¶ã€‚</li>
</ul>
<p>è§†å›¾çš„æ ¸å¿ƒåœºæ™¯ï¼š</p>
<ol>
<li><strong>ç®€åŒ–å¤æ‚æŸ¥è¯¢</strong>ï¼Œå¤šè¡¨å…³è”æŸ¥è¯¢ï¼ˆJOINï¼‰å¯ä»¥è¢«å°è£…æˆè§†å›¾ï¼Œä¹‹åçš„æŸ¥è¯¢ç›´æ¥é’ˆå¯¹è¯¥è§†å›¾å±•å¼€ï¼Œä¸å¿…å†æ¬¡ä¹¦å†™å¤æ‚çš„ SQL è¯­å¥ã€‚</li>
<li><strong>æ•°æ®æƒé™æ§åˆ¶æ–¹é¢</strong>ï¼Œå¯ä»¥å‘æ™®é€šç”¨æˆ·å±•ç¤º <code>sys_user</code> è¡¨ä¸­ <code>name</code> å’Œ <code>phone</code> å­—æ®µçš„å†…å®¹ï¼Œè€Œå°† <code>email</code> è¿™ç±»æ•æ„Ÿä¿¡æ¯é®ç›–èµ·æ¥ï¼Œè¿™è¦ä¾é è§†å›¾æ¥è¾¾æˆã€‚</li>
<li><strong>æ•°æ®ä¸€è‡´æ€§</strong>ï¼šå¤šç³»ç»Ÿå…±ç”¨åŒä¸€æŸ¥è¯¢é€»è¾‘æ—¶ï¼Œè§†å›¾å¯ç¡®ä¿æ‰€æœ‰ç³»ç»Ÿä½¿ç”¨ç›¸åŒçš„ç­›é€‰æ¡ä»¶ã€‚</li>
</ol>
<h4 data-id="heading-20">3.2 2. åˆ›å»ºè§†å›¾ï¼šç”¨ CREATE VIEW è¯­å¥</h4>
<h5 data-id="heading-21">3.2.1 ç¤ºä¾‹ 1ï¼šåŸºç¡€è§†å›¾ï¼ˆç®€åŒ–å•è¡¨æŸ¥è¯¢ï¼‰</h5>
<p>åˆ›å»º â€œç”¨æˆ·åŸºç¡€ä¿¡æ¯è§†å›¾ <code>vw_sys_user_basic</code>â€ï¼ŒåªåŒ…å« <code>id</code>ã€<code>name</code>ã€<code>phone</code> åˆ—ï¼ˆéšè— <code>email</code> æ•æ„Ÿä¿¡æ¯ï¼‰ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- è¯­æ³•ï¼šCREATE VIEW è§†å›¾å AS SELECT è¯­å¥;</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">VIEW</span> vw_sys_user_basic <span class="hljs-keyword">AS</span>
<span class="hljs-keyword">SELECT</span> id, name, phone 
<span class="hljs-keyword">FROM</span> test_schema.sys_user;
</code></pre>
<ul>
<li><strong>æˆåŠŸéªŒè¯</strong>ï¼šæ‰§è¡Œåæç¤º <code>CREATE VIEW</code>ï¼Œè¡¨ç¤ºè§†å›¾åˆ›å»ºæˆåŠŸã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/05ca57890de246bb85db7ed9f73923ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767486670&amp;x-signature=oGrrH6dR5%2FucFT6g4JyG%2B6VY4O0%3D" alt="9c263f90-f43a-4c65-bd61-18968f051c79.png" loading="lazy"/></li>
</ul>
<h5 data-id="heading-22">3.2.2 ç¤ºä¾‹ 2ï¼šè¿›é˜¶è§†å›¾ï¼ˆå¸¦ç­›é€‰æ¡ä»¶çš„å¤æ‚æŸ¥è¯¢ï¼‰</h5>
<p>åˆ›å»º â€œ2024 å¹´åˆ›å»ºçš„ç”¨æˆ·è§†å›¾ <code>vw_sys_user_2024</code>â€ï¼Œç­›é€‰ <code>create_time</code> åœ¨ 2024 å¹´çš„ç”¨æˆ·ï¼ŒåŒ…å« <code>name</code>ã€<code>email</code>ã€<code>create_time</code> åˆ—ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">VIEW</span> vw_sys_user_2024 <span class="hljs-keyword">AS</span>
<span class="hljs-keyword">SELECT</span> name, email, create_time 
<span class="hljs-keyword">FROM</span> test_schema.sys_user 
<span class="hljs-keyword">WHERE</span> create_time <span class="hljs-operator">&gt;=</span> <span class="hljs-string">'2024-01-01 00:00:00'</span> 
  <span class="hljs-keyword">AND</span> create_time <span class="hljs-operator">&lt;</span> <span class="hljs-string">'2025-01-01 00:00:00'</span>;
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4e6a23dc074d4ef09e80dbdf141b4a85~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767486670&amp;x-signature=n85fvsOHRJn%2BemSkdr%2FYtN0Z4FE%3D" alt="b96dd12a-d747-4511-a1e9-210afc759dd3.png" loading="lazy"/></p>
<ul>
<li><strong>åŠ¨æ€æ€§</strong>ï¼šè§†å›¾æ•°æ®ä¼šéšåŸè¡¨å˜åŒ–è‡ªåŠ¨æ›´æ–°ï¼ˆå¦‚åŸè¡¨æ–°å¢ 2024 å¹´ç”¨æˆ·ï¼Œè§†å›¾ä¼šè‡ªåŠ¨åŒ…å«è¯¥æ•°æ®ï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-23">3.2.3 ç¤ºä¾‹ 3ï¼šåªè¯»è§†å›¾ï¼ˆç¦æ­¢ä¿®æ”¹æ•°æ®ï¼‰</h5>
<p>è‹¥éœ€ç¡®ä¿è§†å›¾æ•°æ®ä¸è¢«ä¿®æ”¹ï¼ˆå¦‚æŠ¥è¡¨è§†å›¾ï¼‰ï¼Œå¯æ·»åŠ  <code>WITH READ ONLY</code> é€‰é¡¹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">VIEW</span> vw_sys_user_report <span class="hljs-keyword">AS</span>
<span class="hljs-keyword">SELECT</span> name, phone, create_time 
<span class="hljs-keyword">FROM</span> test_schema.sys_user 
<span class="hljs-keyword">WITH</span> READ <span class="hljs-keyword">ONLY</span>;
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ac6edd45c0444862aeaa079aad4fb989~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767486670&amp;x-signature=fT4ClO1pAb7%2F9hzLM1RSd2vm8Po%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li><strong>æ•ˆæœ</strong>ï¼šåç»­è‹¥å°è¯•é€šè¿‡è§†å›¾ä¿®æ”¹æ•°æ®ï¼ˆå¦‚ <code>UPDATE vw_sys_user_report SET name='å¼ ä¸‰'</code>ï¼‰ï¼Œä¼šæŠ¥é”™ â€œcannot update a read-only viewâ€ã€‚</li>
</ul>
<h4 data-id="heading-24">3.3 3. æŸ¥çœ‹è§†å›¾ï¼šç¡®è®¤è§†å›¾å®šä¹‰ä¸å…³è”è¡¨</h4>
<p>åˆ›å»ºè§†å›¾ä¹‹åï¼Œè¦åˆ©ç”¨ ksql å‘½ä»¤æ¥æŸ¥çœ‹è§†å›¾åˆ—è¡¨ï¼Œå®šä¹‰ä»¥åŠç›¸å…³è”çš„è¡¨ï¼Œå»ºè®®ä½¿ç”¨ <code>\dv</code> å’Œ <code>\d+</code> è¿™ä¸¤ä¸ªå‘½ä»¤ã€‚</p>
<h5 data-id="heading-25">3.3.1 ç¤ºä¾‹ 1ï¼šæŸ¥çœ‹æ‰€æœ‰è§†å›¾ï¼ˆ\dv å‘½ä»¤ï¼‰</h5>
<p>æ‰§è¡Œ <code>\dv</code> å¯åˆ—å‡ºå½“å‰æ¨¡å¼ä¸‹çš„æ‰€æœ‰è§†å›¾ï¼Œç¡®è®¤è§†å›¾æ˜¯å¦åˆ›å»ºæˆåŠŸï¼š</p>
<p><strong>æ‰§è¡Œç»“æœç¤ºä¾‹ï¼š</strong>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a400e2bd015e4b5799c9e6bf13ac4aeb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767486670&amp;x-signature=nyfJoWN%2BDYSdNXhqQ3zH92q5SAo%3D" alt="image.png" loading="lazy"/></p>
<h5 data-id="heading-26">3.3.2 ç¤ºä¾‹ 2ï¼šæŸ¥çœ‹è§†å›¾å®šä¹‰ï¼ˆ\d+ è§†å›¾åï¼‰</h5>
<p>è‹¥éœ€ç¡®è®¤è§†å›¾çš„åº•å±‚ SQLï¼ˆå¦‚å¿˜è®°è§†å›¾ç­›é€‰æ¡ä»¶ï¼‰ï¼Œæ‰§è¡Œ <code>\d+ è§†å›¾å</code>ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">\d<span class="hljs-operator">+</span> vw_sys_user_2024
</code></pre>
<p><strong>æ‰§è¡Œç»“æœç¤ºä¾‹ï¼ˆå®šä¹‰éƒ¨åˆ†ï¼‰ï¼š</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b6a6f06047d040c6b0112b3af6eb9428~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767486670&amp;x-signature=jEBLtQrZwBeDNunk0pGdh7DzbOg%3D" alt="image.png" loading="lazy"/></p>
<p>ç›´æ¥å±•ç¤ºè§†å›¾çš„å®Œæ•´ SQL å®šä¹‰ï¼Œä¾¿äºåç»­ä¿®æ”¹æˆ–éªŒè¯é€»è¾‘ã€‚</p>
<h4 data-id="heading-27">3.4 4. è§†å›¾æ“ä½œï¼šæŸ¥è¯¢ã€ä¿®æ”¹ä¸åˆ é™¤</h4>
<p>è§†å›¾çš„æ ¸å¿ƒæ“ä½œæ˜¯ â€œæŸ¥è¯¢â€ï¼Œä¿®æ”¹å’Œåˆ é™¤éœ€éµå¾ªç‰¹å®šè§„åˆ™</p>
<h5 data-id="heading-28">3.4.1 ç¤ºä¾‹ 1ï¼šæŸ¥è¯¢è§†å›¾æ•°æ®ï¼ˆä¸è¡¨æŸ¥è¯¢ä¸€è‡´ï¼‰</h5>
<p>æŸ¥è¯¢è§†å›¾æ•°æ®çš„è¯­æ³•å’ŒæŸ¥è¯¢è¡¨å®Œå…¨ç›¸åŒï¼Œæ— éœ€é¢å¤–å­¦ä¹ ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æŸ¥è¯¢åŸºç¡€è§†å›¾æ•°æ®</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> vw_sys_user_basic;
<span class="hljs-comment">-- æŸ¥è¯¢2024å¹´ç”¨æˆ·è§†å›¾ï¼ŒæŒ‰åˆ›å»ºæ—¶é—´æ’åº</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> vw_sys_user_2024 <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> create_time <span class="hljs-keyword">DESC</span>;
</code></pre>
<ul>
<li><strong>æ•ˆæœ</strong>ï¼šè¿”å›ç»“æœä¸æŸ¥è¯¢åŸè¡¨ç­›é€‰åçš„æ•°æ®ä¸€è‡´ï¼Œä½†çœ‹ä¸åˆ°éšè—çš„åˆ—ï¼ˆå¦‚ <code>email</code> åœ¨ <code>vw_sys_user_basic</code> ä¸­ä¸å¯è§ï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-29">3.4.2 ç¤ºä¾‹ 2ï¼šä¿®æ”¹è§†å›¾å®šä¹‰ï¼ˆCREATE OR REPLACEï¼‰</h5>
<p>è‹¥éœ€è°ƒæ•´è§†å›¾çš„ç­›é€‰æ¡ä»¶æˆ–åˆ—ï¼ˆå¦‚ <code>vw_sys_user_2024</code> æ”¹ä¸ºåŒ…å« 2023 å¹´æ•°æ®ï¼‰ï¼Œæ— éœ€åˆ é™¤è§†å›¾ï¼Œç›´æ¥ç”¨ <code>CREATE OR REPLACE</code> ä¿®æ”¹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">OR</span> REPLACE <span class="hljs-keyword">VIEW</span> vw_sys_user_2024 <span class="hljs-keyword">AS</span>
<span class="hljs-keyword">SELECT</span> name, email, create_time 
<span class="hljs-keyword">FROM</span> test_schema.sys_user 
<span class="hljs-keyword">WHERE</span> create_time <span class="hljs-operator">&gt;=</span> <span class="hljs-string">'2023-01-01 00:00:00'</span> 
  <span class="hljs-keyword">AND</span> create_time <span class="hljs-operator">&lt;</span> <span class="hljs-string">'2025-01-01 00:00:00'</span>;
</code></pre>
<ul>
<li><strong>éªŒè¯</strong>ï¼šæ‰§è¡Œ <code>\d+ vw_sys_user_2024</code> ç¡®è®¤å®šä¹‰å·²æ›´æ–°ã€‚</li>
</ul>
<h5 data-id="heading-30">3.4.3 ç¤ºä¾‹ 3ï¼šåˆ é™¤è§†å›¾ï¼ˆDROP VIEWï¼‰</h5>
<p>å½“è§†å›¾ä¸å†ä½¿ç”¨æ—¶ï¼Œæ‰§è¡Œåˆ é™¤å‘½ä»¤ï¼ˆ<strong>åˆ é™¤è§†å›¾ä¸å½±å“åŸè¡¨æ•°æ®</strong>ï¼Œä»…åˆ é™¤è§†å›¾å®šä¹‰ï¼‰ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- è¯­æ³•ï¼šDROP VIEW IF EXISTS è§†å›¾å;</span>
<span class="hljs-keyword">DROP</span> <span class="hljs-keyword">VIEW</span> IF <span class="hljs-keyword">EXISTS</span> vw_sys_user_report;
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5db1de87c1814f35b1c307739b2d7462~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767486670&amp;x-signature=SZSaEVKxDZzT0owYyL9PPyLRCXw%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li><strong>éªŒè¯</strong>ï¼šæ‰§è¡Œ <code>\dv</code> ç¡®è®¤è§†å›¾å·²ç§»é™¤ã€‚</li>
</ul>
<h4 data-id="heading-31">3.5 5. è§†å›¾ä½¿ç”¨æ³¨æ„äº‹é¡¹ï¼ˆæ–°æ‰‹é¿å‘æŒ‡å—ï¼‰</h4>
<ol>
<li><strong>è§†å›¾ä¿®æ”¹é™åˆ¶</strong>ï¼šå«ä»¥ä¸‹æƒ…å†µçš„è§†å›¾æ— æ³•ä¿®æ”¹æ•°æ®ï¼ˆå³ä½¿æœªåŠ  <code>READ ONLY</code>ï¼‰ï¼š
<ul>
<li>è§†å›¾æ¶µç›– <code>DISTINCT</code>ï¼ˆå»é‡ï¼‰ï¼Œ<code>GROUP BY</code>ï¼ˆåˆ†ç»„ï¼‰ï¼Œ<code>HAVING</code>ï¼ˆç­›é€‰åˆ†ç»„ï¼‰ã€‚</li>
<li>è§†å›¾åŒ…å«èšåˆå‡½æ•°ï¼ˆå¦‚ <code>COUNT</code>ã€<code>SUM</code>ï¼‰ï¼›</li>
<li>è§†å›¾æ¥è‡ªå¤šè¡¨å…³è”ï¼ˆ<code>JOIN</code>ï¼‰ï¼›</li>
</ul>
</li>
<li><strong>åŸè¡¨åˆ é™¤å½±å“</strong>ï¼šè‹¥åŸè¡¨ï¼ˆæ¯”å¦‚ <code>sys_user</code> è¡¨ï¼‰è¢«åˆ é™¤ï¼Œåˆ™è¯¥è§†å›¾å°±ä¼šæˆä¸ºâ€œæ— æ•ˆè§†å›¾â€ï¼Œåœ¨æ‰§è¡ŒæŸ¥è¯¢çš„æ—¶å€™ï¼Œä¼šæ”¶åˆ°â€œrelation does not existâ€çš„é”™è¯¯æç¤ºã€‚</li>
<li><strong>æ€§èƒ½æ³¨æ„</strong>ï¼šå¤æ‚è§†å›¾åŒ…å«å¤šè¡¨å…³è”æˆ–è€…èšåˆæƒ…å†µæ—¶ï¼Œå…¶æŸ¥è¯¢æ•ˆç‡ä¾é åŸè¡¨ç´¢å¼•ï¼Œæ‰€ä»¥è¦ä¿è¯åŸè¡¨ä¸­ç›¸å…³è”çš„å­—æ®µå·²æœ‰ç´¢å¼•ï¼Œæ¯”å¦‚åœ¨å¤šè¡¨ <code>JOIN</code> æ“ä½œé‡Œæ¶‰åŠçš„å…³è”åˆ—å°±éœ€è¦äº‹å…ˆåˆ›å»ºå¥½ç´¢å¼•ã€‚</li>
</ol>
<h3 data-id="heading-32">å››ã€å¸¸è§é—®é¢˜æ’æŸ¥ï¼šç´¢å¼•ä¸è§†å›¾çš„é«˜é¢‘æŠ¥é”™</h3>
<h4 data-id="heading-33">é—®é¢˜ 1ï¼šåˆ›å»ºç´¢å¼•æŠ¥é”™ â€œé‡å¤çš„é”®åâ€</h4>
<p><strong>æŠ¥é”™ä¿¡æ¯</strong>ï¼š</p>
<pre><code class="hljs language-plaintext" lang="plaintext">ERROR:  duplicate key name "idx_sys_user_phone"
</code></pre>
<p><strong>åŸå› </strong>ï¼šåŒåç´¢å¼•å·²å­˜åœ¨ï¼ˆå¦‚ä¹‹å‰å·²åˆ›å»º <code>idx_sys_user_phone</code>ï¼‰ã€‚<br/>
<strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>æ‰§è¡Œ <code>\di</code> æŸ¥çœ‹ç´¢å¼•åï¼Œç¡®è®¤æ˜¯å¦é‡å¤ï¼›</li>
<li>è‹¥éœ€é‡æ–°å»ºç´¢å¼•ï¼Œå…ˆåˆ é™¤æ—§ç´¢å¼•ï¼ˆ<code>DROP INDEX idx_sys_user_phone;</code>ï¼‰ï¼Œå†åˆ›å»ºæ–°ç´¢å¼•ã€‚</li>
</ul>
<h4 data-id="heading-34">é—®é¢˜ 2ï¼šæŸ¥è¯¢è§†å›¾æŠ¥é”™ â€œå…³ç³»å¯¹è±¡ä¸å­˜åœ¨â€</h4>
<p><strong>æŠ¥é”™ä¿¡æ¯</strong>ï¼š</p>
<pre><code class="hljs language-plaintext" lang="plaintext">ERROR:  relation "vw_sys_user_basic" does not exist
</code></pre>
<p><strong>åŸå› </strong>ï¼š</p>
<ol>
<li>è§†å›¾åæ‹¼å†™é”™è¯¯ï¼ˆå¦‚ <code>vw_sys_user_basci</code>ï¼‰ï¼›</li>
<li>è§†å›¾æ‰€åœ¨æ¨¡å¼ä¸åœ¨æœç´¢è·¯å¾„ä¸­ï¼ˆå¦‚è§†å›¾åœ¨ <code>test_schema</code>ï¼Œä½†å½“å‰æœç´¢è·¯å¾„æ˜¯ <code>public</code>ï¼‰ã€‚<br/>
<strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</li>
</ol>
<ul>
<li>æ£€æŸ¥è§†å›¾åæ‹¼å†™ï¼ˆæ‰§è¡Œ <code>\dv</code> ç¡®è®¤æ­£ç¡®åç§°ï¼‰ï¼›</li>
<li>åˆ‡æ¢åˆ°è§†å›¾æ‰€åœ¨æ¨¡å¼ï¼ˆ<code>SET search_path TO test_schema, public;</code>ï¼‰ï¼Œæˆ–ç”¨ â€œæ¨¡å¼åã€‚è§†å›¾åâ€ å…¨ç§°æŸ¥è¯¢ï¼ˆ<code>SELECT * FROM test_schema.vw_sys_user_basic;</code>ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-35">é—®é¢˜ 3ï¼šé€šè¿‡è§†å›¾ä¿®æ”¹æ•°æ®æŠ¥é”™ â€œæ— æ³•æ›´æ–°åªè¯»è§†å›¾â€</h4>
<p><strong>æŠ¥é”™ä¿¡æ¯</strong>ï¼š</p>
<pre><code class="hljs language-plaintext" lang="plaintext">ERROR:  cannot update a read-only view "vw_sys_user_report"
</code></pre>
<p><strong>åŸå› </strong>ï¼šè§†å›¾åˆ›å»ºæ—¶åŠ äº† <code>WITH READ ONLY</code> é€‰é¡¹ï¼Œç¦æ­¢ä¿®æ”¹ã€‚<br/>
<strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>
<p>è‹¥éœ€å…è®¸ä¿®æ”¹ï¼Œé‡æ–°åˆ›å»ºè§†å›¾ï¼ˆå»æ‰ <code>WITH READ ONLY</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">OR</span> REPLACE <span class="hljs-keyword">VIEW</span> vw_sys_user_report <span class="hljs-keyword">AS</span>
<span class="hljs-keyword">SELECT</span> name, phone, create_time <span class="hljs-keyword">FROM</span> sys_user;
</code></pre>
</li>
<li>
<p>æ³¨æ„ï¼šé‡æ–°åˆ›å»ºå‰éœ€ç¡®è®¤è§†å›¾æ— ä¿®æ”¹é™åˆ¶ï¼ˆå¦‚ä¸å« <code>GROUP BY</code>ã€èšåˆå‡½æ•°ç­‰ï¼‰ã€‚</p>
</li>
</ul>
<h3 data-id="heading-36">äº”ã€æ€»ç»“ï¼šç´¢å¼•ä¸è§†å›¾çš„é…åˆä½¿ç”¨</h3>
<p>æœ¬æ–‡å®Œæ•´è¦†ç›–äº†ç´¢å¼•å’Œè§†å›¾çš„æ ¸å¿ƒæ“ä½œï¼Œæ ¸å¿ƒè¦ç‚¹å¯æ€»ç»“ä¸ºï¼š</p>
<p>1.<strong>ç®¡ç†</strong>â€œæŸ¥è¯¢é€Ÿåº¦â€æ—¶ï¼Œä¾ç…§æŸ¥è¯¢åœºæ™¯æ¥æŒ‘é€‰æ™®é€š/å”¯ä¸€/å¤åˆç´¢å¼•ï¼Œä¸è¦è¿‡åº¦åˆ›å»ºï¼Œè¦å®šæ—¶æ‰§è¡Œé‡å»ºå¹¶æ”¹å–„æ€§èƒ½ã€‚
2. <strong>è§†å›¾</strong>ï¼šç®¡ â€œæŸ¥è¯¢ç®€åŒ–ä¸æƒé™â€ï¼Œå°è£…å¤æ‚é€»è¾‘ã€éšè—æ•æ„Ÿæ•°æ®ï¼Œæ³¨æ„ä¿®æ”¹é™åˆ¶å’ŒåŸè¡¨ä¾èµ–ï¼›</p>
<ol start="3">
<li><strong>é…åˆä½¿ç”¨</strong>ï¼šè§†å›¾çš„æŸ¥è¯¢é€Ÿåº¦ä¸åŸè¡¨ç´¢å¼•ç›¸å…³ï¼Œç»™<code>vw_sys_user_2024</code>è§†å›¾å¯¹åº”çš„<code>sys_user</code>åŸè¡¨åˆ›å»º<code>create - time</code>ç´¢å¼•ä¹‹åï¼Œå…¶æŸ¥è¯¢æ•ˆç‡ä¼šå¾—åˆ°å¾ˆå¤§çš„æ”¹å–„ã€‚</li>
</ol>
<p>æŒæ¡äº†ç´¢å¼•å’Œè§†å›¾ä¹‹åï¼Œä½ å°±å…·æœ‰äº† KingbaseES é«˜æ•ˆæŸ¥è¯¢çš„å…³é”®èƒ½åŠ›ï¼Œä¸‹ç¯‡æ–‡ç« æˆ‘ä»¬ä¼šå­¦ä¹ â€œç”¨æˆ·ä¸æƒé™ç®¡ç†â€ï¼Œä»è€Œä¿éšœæ•°æ®åº“è®¿é—®çš„å®‰å…¨ï¼Œå¹¶åšåˆ°â€œä¸åŒç”¨æˆ·è®¿é—®ä¸åŒæ•°æ®â€è¿™æ ·ç»†è‡´çš„æ§åˆ¶ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ7ï¼‰Hibernateçš„Sessionæ˜¯ä»€ä¹ˆï¼Ÿ]]></title>    <link>https://juejin.cn/post/7588680081325686826</link>    <guid>https://juejin.cn/post/7588680081325686826</guid>    <pubDate>2025-12-27T23:14:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588680081325686826" data-draft-id="7588191506606276614" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ7ï¼‰Hibernateçš„Sessionæ˜¯ä»€ä¹ˆï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-27T23:14:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ7ï¼‰Hibernateçš„Sessionæ˜¯ä»€ä¹ˆï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T23:14:28.000Z" title="Sat Dec 27 2025 23:14:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Hibernateçš„<code>Session</code>æ˜¯ä¸€ä¸ªæ ¸å¿ƒæ¥å£ï¼Œå®ƒè¡¨ç¤ºä¸æ•°æ®åº“çš„å•ä¸ªä¼šè¯ã€‚<code>Session</code>å¯¹è±¡è´Ÿè´£æ‰§è¡ŒCRUDï¼ˆåˆ›å»ºã€è¯»å–ã€æ›´æ–°ã€åˆ é™¤ï¼‰æ“ä½œï¼Œå¹¶å°†æŒä¹…åŒ–å¯¹è±¡çš„çŠ¶æ€ä¸æ•°æ®åº“åŒæ­¥ã€‚æ¯ä¸ª<code>Session</code>å¯¹è±¡éƒ½æ˜¯çŸ­æš‚çš„ï¼Œå¹¶ä¸”ä¸åº”è¯¥åœ¨å¤šä¸ªçº¿ç¨‹ä¹‹é—´å…±äº«ã€‚</p>
<h3 data-id="heading-0">ä¸»è¦åŠŸèƒ½</h3>
<ol>
<li><strong>CRUDæ“ä½œ</strong>ï¼šä½¿ç”¨<code>save</code>ã€<code>update</code>ã€<code>delete</code>ç­‰æ–¹æ³•è¿›è¡ŒæŒä¹…åŒ–æ“ä½œã€‚</li>
<li><strong>æŸ¥è¯¢æ“ä½œ</strong>ï¼šé€šè¿‡HQLï¼ˆHibernate Query Languageï¼‰æˆ–Criteria APIæ‰§è¡Œæ•°æ®åº“æŸ¥è¯¢ã€‚</li>
<li><strong>äº‹åŠ¡ç®¡ç†</strong>ï¼šé€šè¿‡<code>beginTransaction</code>ã€<code>getTransaction</code>ç­‰æ–¹æ³•ç®¡ç†äº‹åŠ¡ã€‚</li>
<li><strong>ç¼“å­˜ç®¡ç†</strong>ï¼šç®¡ç†ä¸€çº§ç¼“å­˜ï¼ˆSessionç¼“å­˜ï¼‰ï¼Œå‡å°‘æ•°æ®åº“è®¿é—®æ¬¡æ•°ã€‚</li>
</ol>
<h3 data-id="heading-1">è¯¦ç»†æ·±å…¥ç»“åˆä»£ç </h3>
<h4 data-id="heading-2">1. è·å–Session</h4>
<p>é€šå¸¸ï¼Œé€šè¿‡<code>SessionFactory</code>è·å–<code>Session</code>å¯¹è±¡ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.cfg.Configuration;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateUtil</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> SessionFactory sessionFactory;

    <span class="hljs-keyword">static</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// åˆ›å»ºSessionFactory</span>
            sessionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate.cfg.xml"</span>).buildSessionFactory();
        } <span class="hljs-keyword">catch</span> (Throwable ex) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExceptionInInitializerError</span>(ex);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SessionFactory <span class="hljs-title function_">getSessionFactory</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> sessionFactory;
    }
}
</code></pre>
<h4 data-id="heading-3">2. ä½¿ç”¨Sessionè¿›è¡ŒCRUDæ“ä½œ</h4>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä»£ç ç¤ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•ä½¿ç”¨<code>Session</code>è¿›è¡ŒCRUDæ“ä½œã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();
        <span class="hljs-comment">// æ‰“å¼€ä¸€ä¸ªæ–°çš„Session</span>
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();

        <span class="hljs-comment">// å¯åŠ¨äº‹åŠ¡</span>
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();

        <span class="hljs-comment">// åˆ›å»ºå¹¶ä¿å­˜Studentå¯¹è±¡</span>
        <span class="hljs-type">Student</span> <span class="hljs-variable">student</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">"John Doe"</span>, <span class="hljs-number">20</span>);
        session.save(student); <span class="hljs-comment">// ä¿å­˜å¯¹è±¡</span>

        <span class="hljs-comment">// æäº¤äº‹åŠ¡</span>
        transaction.commit();

        <span class="hljs-comment">// é‡æ–°å¼€å§‹ä¸€ä¸ªæ–°çš„äº‹åŠ¡</span>
        transaction = session.beginTransaction();

        <span class="hljs-comment">// è¯»å–Studentå¯¹è±¡</span>
        <span class="hljs-type">Student</span> <span class="hljs-variable">retrievedStudent</span> <span class="hljs-operator">=</span> session.get(Student.class, student.getId());
        System.out.println(<span class="hljs-string">"Retrieved Student: "</span> + retrievedStudent.getName() + <span class="hljs-string">", Age: "</span> + retrievedStudent.getAge());

        <span class="hljs-comment">// æ›´æ–°Studentå¯¹è±¡</span>
        retrievedStudent.setAge(<span class="hljs-number">21</span>);
        session.update(retrievedStudent); <span class="hljs-comment">// æ›´æ–°å¯¹è±¡</span>

        <span class="hljs-comment">// åˆ é™¤Studentå¯¹è±¡</span>
        session.delete(retrievedStudent); <span class="hljs-comment">// åˆ é™¤å¯¹è±¡</span>

        <span class="hljs-comment">// æäº¤äº‹åŠ¡</span>
        transaction.commit();

        <span class="hljs-comment">// å…³é—­Session</span>
        session.close();
        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> {
    <span class="hljs-keyword">private</span> Long id;
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
    }

    <span class="hljs-comment">// getters å’Œ setters</span>
    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-built_in">this</span>.name = name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> age;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.age = age;
    }
}
</code></pre>
<h3 data-id="heading-4">è¯¦ç»†è§£é‡Š</h3>
<ol>
<li><strong>è·å–SessionFactory</strong>ï¼šé€šè¿‡<code>HibernateUtil.getSessionFactory()</code>è·å–<code>SessionFactory</code>ã€‚</li>
<li><strong>æ‰“å¼€Session</strong>ï¼šé€šè¿‡<code>sessionFactory.openSession()</code>æ‰“å¼€ä¸€ä¸ªæ–°çš„<code>Session</code>ã€‚</li>
<li><strong>å¼€å§‹äº‹åŠ¡</strong>ï¼šé€šè¿‡<code>session.beginTransaction()</code>å¼€å§‹ä¸€ä¸ªäº‹åŠ¡ã€‚</li>
<li><strong>CRUDæ“ä½œ</strong>ï¼š
<ul>
<li><strong>åˆ›å»ºå¹¶ä¿å­˜å¯¹è±¡</strong>ï¼šä½¿ç”¨<code>session.save(student)</code>æ–¹æ³•å°†å¯¹è±¡æŒä¹…åŒ–åˆ°æ•°æ®åº“ä¸­ã€‚</li>
<li><strong>è¯»å–å¯¹è±¡</strong>ï¼šä½¿ç”¨<code>session.get(Student.class, student.getId())</code>æ–¹æ³•ä»æ•°æ®åº“ä¸­è¯»å–å¯¹è±¡ã€‚</li>
<li><strong>æ›´æ–°å¯¹è±¡</strong>ï¼šä¿®æ”¹å¯¹è±¡å±æ€§åï¼Œä½¿ç”¨<code>session.update(retrievedStudent)</code>æ–¹æ³•æ›´æ–°æ•°æ®åº“ä¸­çš„è®°å½•ã€‚</li>
<li><strong>åˆ é™¤å¯¹è±¡</strong>ï¼šä½¿ç”¨<code>session.delete(retrievedStudent)</code>æ–¹æ³•ä»æ•°æ®åº“ä¸­åˆ é™¤å¯¹è±¡ã€‚</li>
</ul>
</li>
<li><strong>æäº¤äº‹åŠ¡</strong>ï¼šé€šè¿‡<code>transaction.commit()</code>æäº¤äº‹åŠ¡ï¼Œå°†æ‰€æœ‰æ›´æ”¹åŒæ­¥åˆ°æ•°æ®åº“ã€‚</li>
<li><strong>å…³é—­Session</strong>ï¼šé€šè¿‡<code>session.close()</code>å…³é—­<code>Session</code>ã€‚</li>
<li><strong>å…³é—­SessionFactory</strong>ï¼šé€šè¿‡<code>sessionFactory.close()</code>å…³é—­<code>SessionFactory</code>ã€‚</li>
</ol>
<h3 data-id="heading-5">äº‹åŠ¡ç®¡ç†</h3>
<p>åœ¨ä»¥ä¸Šç¤ºä¾‹ä¸­ï¼Œäº‹åŠ¡ç®¡ç†æ˜¯ä¸€ä¸ªå…³é”®éƒ¨åˆ†ã€‚äº‹åŠ¡ç”¨äºç¡®ä¿ä¸€ç»„æ•°æ®åº“æ“ä½œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å›æ»šï¼Œä»¥ä¿æŒæ•°æ®çš„ä¸€è‡´æ€§ã€‚Hibernateé€šè¿‡<code>Session</code>å¯¹è±¡æä¾›äº†å¯¹äº‹åŠ¡çš„ç®¡ç†ã€‚</p>
<h4 data-id="heading-6">äº‹åŠ¡ç¤ºä¾‹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
<span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;

<span class="hljs-keyword">try</span> {
    transaction = session.beginTransaction();
    <span class="hljs-comment">// æ‰§è¡Œä¸€ç»„æ•°æ®åº“æ“ä½œ</span>
    session.save(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">"John Doe"</span>, <span class="hljs-number">20</span>));
    transaction.commit(); <span class="hljs-comment">// æäº¤äº‹åŠ¡</span>
} <span class="hljs-keyword">catch</span> (Exception e) {
    <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
        transaction.rollback(); <span class="hljs-comment">// å›æ»šäº‹åŠ¡</span>
    }
    e.printStackTrace();
} <span class="hljs-keyword">finally</span> {
    session.close(); <span class="hljs-comment">// å…³é—­Session</span>
}
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¦‚æœåœ¨äº‹åŠ¡ä¸­å‘ç”Ÿä»»ä½•å¼‚å¸¸ï¼Œäº‹åŠ¡å°†è¢«å›æ»šï¼Œç¡®ä¿æ•°æ®åº“çŠ¶æ€ä¸å—å½±å“ã€‚</p>
<h3 data-id="heading-7">æ€»ç»“</h3>
<p>Hibernateçš„<code>Session</code>æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„æ¥å£ï¼Œç”¨äºå¤„ç†æŒä¹…åŒ–å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚å®ƒæä¾›äº†CRUDæ“ä½œã€æŸ¥è¯¢ã€äº‹åŠ¡ç®¡ç†å’Œç¼“å­˜ç®¡ç†ç­‰åŠŸèƒ½ï¼Œæ˜¯Hibernateä¸æ•°æ®åº“äº¤äº’çš„æ ¸å¿ƒç»„ä»¶ã€‚é€šè¿‡æ­£ç¡®ä½¿ç”¨<code>Session</code>ï¼Œå¼€å‘è€…å¯ä»¥é«˜æ•ˆåœ°è¿›è¡Œæ•°æ®åº“æ“ä½œï¼ŒåŒæ—¶ç¡®ä¿æ•°æ®çš„ä¸€è‡´æ€§å’Œå®Œæ•´æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ8ï¼‰ä»€ä¹ˆæ˜¯Hibernateçš„SessionFactoryï¼Ÿ]]></title>    <link>https://juejin.cn/post/7588300640599080966</link>    <guid>https://juejin.cn/post/7588300640599080966</guid>    <pubDate>2025-12-27T23:15:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588300640599080966" data-draft-id="7588152122186989622" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ8ï¼‰ä»€ä¹ˆæ˜¯Hibernateçš„SessionFactoryï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-27T23:15:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ8ï¼‰ä»€ä¹ˆæ˜¯Hibernateçš„SessionFactoryï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T23:15:44.000Z" title="Sat Dec 27 2025 23:15:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><code>SessionFactory</code>æ˜¯Hibernateçš„æ ¸å¿ƒç»„ä»¶ä¹‹ä¸€ï¼Œå®ƒè´Ÿè´£åˆ›å»ºå’Œç®¡ç†Sessionå¯¹è±¡ã€‚<code>SessionFactory</code>æ˜¯ä¸€ä¸ªçº¿ç¨‹å®‰å…¨ï¼ˆthread-safeï¼‰çš„å¯¹è±¡ï¼Œé€šå¸¸åœ¨åº”ç”¨ç¨‹åºåˆå§‹åŒ–æ—¶åˆ›å»ºï¼Œå¹¶åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºè¿è¡ŒæœŸé—´å­˜åœ¨ã€‚æ¯ä¸ªæ•°æ®åº“éœ€è¦ä¸€ä¸ªå”¯ä¸€çš„<code>SessionFactory</code>å®ä¾‹ï¼Œå®ƒå……å½“è¿æ¥æ•°æ®åº“çš„å·¥å‚ã€‚</p>
<h3 data-id="heading-0">ä¸»è¦åŠŸèƒ½</h3>
<ol>
<li><strong>åˆ›å»ºSession</strong>ï¼šè´Ÿè´£åˆ›å»ºæ–°çš„<code>Session</code>å¯¹è±¡ã€‚</li>
<li><strong>ç®¡ç†Session</strong>ï¼šç®¡ç†å·²ç»åˆ›å»ºçš„<code>Session</code>å¯¹è±¡ã€‚</li>
<li><strong>ç¼“å­˜é…ç½®</strong>ï¼šä¸º<code>Session</code>æä¾›äºŒçº§ç¼“å­˜æ”¯æŒã€‚</li>
<li><strong>æ•°æ®åº“è¿æ¥ç®¡ç†</strong>ï¼šç®¡ç†ä¸æ•°æ®åº“çš„è¿æ¥ã€‚</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šé€šè¿‡ç¼“å­˜å’Œè¿æ¥æ± æŠ€æœ¯æé«˜æ€§èƒ½ã€‚</li>
</ol>
<h3 data-id="heading-1">åˆ›å»ºSessionFactory</h3>
<p>é€šå¸¸ï¼Œ<code>SessionFactory</code>ç”±é…ç½®æ–‡ä»¶ï¼ˆå¦‚<code>hibernate.cfg.xml</code>ï¼‰é…ç½®ï¼Œå¹¶åœ¨åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶é€šè¿‡<code>Configuration</code>å¯¹è±¡åˆ›å»ºã€‚</p>
<h4 data-id="heading-2"><code>hibernate.cfg.xml</code> ç¤ºä¾‹</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span>
        <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span>
        <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ•°æ®åº“è¿æ¥é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/your_database<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>your_username<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>your_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Hibernate å±æ€§é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.format_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.hbm2ddl.auto"</span>&gt;</span>update<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- æ˜ å°„ç±»é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Student"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h3 data-id="heading-3">ä½¿ç”¨SessionFactory</h3>
<p>é€šè¿‡<code>Configuration</code>å¯¹è±¡è¯»å–é…ç½®æ–‡ä»¶å¹¶åˆ›å»º<code>SessionFactory</code>å®ä¾‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.cfg.Configuration;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateUtil</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> SessionFactory sessionFactory;

    <span class="hljs-keyword">static</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä»é…ç½®æ–‡ä»¶åˆ›å»ºSessionFactory</span>
            sessionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate.cfg.xml"</span>).buildSessionFactory();
        } <span class="hljs-keyword">catch</span> (Throwable ex) {
            <span class="hljs-comment">// è®°å½•å¯åŠ¨å¤±è´¥çš„é”™è¯¯</span>
            System.err.println(<span class="hljs-string">"Initial SessionFactory creation failed."</span> + ex);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExceptionInInitializerError</span>(ex);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SessionFactory <span class="hljs-title function_">getSessionFactory</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> sessionFactory;
    }
}
</code></pre>
<h3 data-id="heading-4">ä½¿ç”¨Sessionè¿›è¡Œæ“ä½œ</h3>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä¾‹å­ï¼Œå±•ç¤ºå¦‚ä½•ä½¿ç”¨<code>SessionFactory</code>åˆ›å»º<code>Session</code>å¹¶è¿›è¡ŒCRUDæ“ä½œï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();
        <span class="hljs-comment">// æ‰“å¼€ä¸€ä¸ªæ–°çš„Session</span>
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();

        <span class="hljs-comment">// å¯åŠ¨äº‹åŠ¡</span>
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();

        <span class="hljs-comment">// åˆ›å»ºå¹¶ä¿å­˜Studentå¯¹è±¡</span>
        <span class="hljs-type">Student</span> <span class="hljs-variable">student</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">"John Doe"</span>, <span class="hljs-number">20</span>);
        session.save(student); <span class="hljs-comment">// ä¿å­˜å¯¹è±¡</span>

        <span class="hljs-comment">// æäº¤äº‹åŠ¡</span>
        transaction.commit();

        <span class="hljs-comment">// é‡æ–°å¼€å§‹ä¸€ä¸ªæ–°çš„äº‹åŠ¡</span>
        transaction = session.beginTransaction();

        <span class="hljs-comment">// è¯»å–Studentå¯¹è±¡</span>
        <span class="hljs-type">Student</span> <span class="hljs-variable">retrievedStudent</span> <span class="hljs-operator">=</span> session.get(Student.class, student.getId());
        System.out.println(<span class="hljs-string">"Retrieved Student: "</span> + retrievedStudent.getName() + <span class="hljs-string">", Age: "</span> + retrievedStudent.getAge());

        <span class="hljs-comment">// æ›´æ–°Studentå¯¹è±¡</span>
        retrievedStudent.setAge(<span class="hljs-number">21</span>);
        session.update(retrievedStudent); <span class="hljs-comment">// æ›´æ–°å¯¹è±¡</span>

        <span class="hljs-comment">// åˆ é™¤Studentå¯¹è±¡</span>
        session.delete(retrievedStudent); <span class="hljs-comment">// åˆ é™¤å¯¹è±¡</span>

        <span class="hljs-comment">// æäº¤äº‹åŠ¡</span>
        transaction.commit();

        <span class="hljs-comment">// å…³é—­Session</span>
        session.close();
        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> {
    <span class="hljs-keyword">private</span> Long id;
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
    }

    <span class="hljs-comment">// getters å’Œ setters</span>
    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-built_in">this</span>.name = name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> age;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.age = age;
    }
}
</code></pre>
<h3 data-id="heading-5">è¯¦ç»†è§£é‡Š</h3>
<ol>
<li><strong>é…ç½®SessionFactory</strong>ï¼šåœ¨<code>HibernateUtil</code>ç±»ä¸­ï¼Œé€šè¿‡<code>Configuration</code>å¯¹è±¡è¯»å–<code>hibernate.cfg.xml</code>é…ç½®æ–‡ä»¶ï¼Œåˆ›å»º<code>SessionFactory</code>å®ä¾‹ã€‚è¿™ä¸ªè¿‡ç¨‹é€šå¸¸åœ¨åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶æ‰§è¡Œï¼Œå¹¶ä¸”<code>SessionFactory</code>åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸä¸­æ˜¯å•ä¾‹çš„ã€‚</li>
<li><strong>è·å–Session</strong>ï¼šé€šè¿‡<code>SessionFactory.openSession()</code>æ–¹æ³•è·å–æ–°çš„<code>Session</code>å¯¹è±¡ã€‚<code>Session</code>å¯¹è±¡ç”¨äºæ‰§è¡ŒCRUDæ“ä½œã€‚</li>
<li><strong>å¯åŠ¨äº‹åŠ¡</strong>ï¼šé€šè¿‡<code>session.beginTransaction()</code>æ–¹æ³•å¯åŠ¨äº‹åŠ¡ã€‚</li>
<li><strong>CRUDæ“ä½œ</strong>ï¼š
<ul>
<li><strong>åˆ›å»ºå¹¶ä¿å­˜å¯¹è±¡</strong>ï¼šä½¿ç”¨<code>session.save(student)</code>æ–¹æ³•å°†å¯¹è±¡æŒä¹…åŒ–åˆ°æ•°æ®åº“ä¸­ã€‚</li>
<li><strong>è¯»å–å¯¹è±¡</strong>ï¼šä½¿ç”¨<code>session.get(Student.class, student.getId())</code>æ–¹æ³•ä»æ•°æ®åº“ä¸­è¯»å–å¯¹è±¡ã€‚</li>
<li><strong>æ›´æ–°å¯¹è±¡</strong>ï¼šä¿®æ”¹å¯¹è±¡å±æ€§åï¼Œä½¿ç”¨<code>session.update(retrievedStudent)</code>æ–¹æ³•æ›´æ–°æ•°æ®åº“ä¸­çš„è®°å½•ã€‚</li>
<li><strong>åˆ é™¤å¯¹è±¡</strong>ï¼šä½¿ç”¨<code>session.delete(retrievedStudent)</code>æ–¹æ³•ä»æ•°æ®åº“ä¸­åˆ é™¤å¯¹è±¡ã€‚</li>
</ul>
</li>
<li><strong>æäº¤äº‹åŠ¡</strong>ï¼šé€šè¿‡<code>transaction.commit()</code>æ–¹æ³•æäº¤äº‹åŠ¡ï¼Œå°†æ‰€æœ‰æ›´æ”¹åŒæ­¥åˆ°æ•°æ®åº“ã€‚</li>
<li><strong>å…³é—­Session</strong>ï¼šé€šè¿‡<code>session.close()</code>æ–¹æ³•å…³é—­<code>Session</code>ã€‚</li>
<li><strong>å…³é—­SessionFactory</strong>ï¼šé€šè¿‡<code>sessionFactory.close()</code>æ–¹æ³•å…³é—­<code>SessionFactory</code>ã€‚</li>
</ol>
<h3 data-id="heading-6">æ€§èƒ½ä¼˜åŒ–</h3>
<p><code>SessionFactory</code>è¿˜æä¾›ä¸€äº›æ€§èƒ½ä¼˜åŒ–åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li><strong>äºŒçº§ç¼“å­˜</strong>ï¼šé€šè¿‡é…ç½®äºŒçº§ç¼“å­˜ï¼Œå‡å°‘å¯¹æ•°æ®åº“çš„ç›´æ¥è®¿é—®ï¼Œæé«˜æ€§èƒ½ã€‚</li>
<li><strong>è¿æ¥æ± ç®¡ç†</strong>ï¼šé€šè¿‡é…ç½®è¿æ¥æ± ï¼Œç®¡ç†å’Œä¼˜åŒ–æ•°æ®åº“è¿æ¥çš„ä½¿ç”¨ã€‚</li>
</ul>
<h4 data-id="heading-7">äºŒçº§ç¼“å­˜é…ç½®ç¤ºä¾‹</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- äºŒçº§ç¼“å­˜é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.cache.use_second_level_cache"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.cache.region.factory_class"</span>&gt;</span>org.hibernate.cache.ehcache.EhCacheRegionFactory<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.cache.provider_class"</span>&gt;</span>org.hibernate.cache.EhCacheProvider<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<p>é€šè¿‡ä¸Šè¿°é…ç½®ï¼Œå¯ç”¨Hibernateçš„äºŒçº§ç¼“å­˜æœºåˆ¶ï¼Œå¯ä»¥æ˜¾è‘—æé«˜åº”ç”¨ç¨‹åºæ€§èƒ½ã€‚</p>
<h3 data-id="heading-8">æ€»ç»“</h3>
<p><code>SessionFactory</code>æ˜¯Hibernateçš„æ ¸å¿ƒç»„ä»¶ä¹‹ä¸€ï¼Œè´Ÿè´£åˆ›å»ºå’Œç®¡ç†<code>Session</code>å¯¹è±¡ï¼Œæä¾›äº†æ•°æ®åº“è¿æ¥ã€ç¼“å­˜ç®¡ç†å’Œæ€§èƒ½ä¼˜åŒ–ç­‰åŠŸèƒ½ã€‚åœ¨ä¸€ä¸ªå…¸å‹çš„Hibernateåº”ç”¨ç¨‹åºä¸­ï¼Œ<code>SessionFactory</code>é€šå¸¸åœ¨åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶åˆå§‹åŒ–ï¼Œå¹¶åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸä¸­ä½¿ç”¨ã€‚æ­£ç¡®åœ°ä½¿ç”¨<code>SessionFactory</code>å’Œ<code>Session</code>ï¼Œå¯ä»¥æœ‰æ•ˆåœ°è¿›è¡Œæ•°æ®åº“æ“ä½œï¼Œæé«˜åº”ç”¨ç¨‹åºçš„æ€§èƒ½å’Œç¨³å®šæ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[RAGæŠ€æœ¯æ¼”è¿›ï¼šä»å¤–éƒ¨çŸ¥è¯†åº“åˆ°æ™ºèƒ½ä½“æ ¸å¿ƒè®°å¿†ç³»ç»Ÿ]]></title>    <link>https://juejin.cn/post/7588080521445523502</link>    <guid>https://juejin.cn/post/7588080521445523502</guid>    <pubDate>2025-12-27T16:24:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588080521445523502" data-draft-id="7588104741610455050" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="RAGæŠ€æœ¯æ¼”è¿›ï¼šä»å¤–éƒ¨çŸ¥è¯†åº“åˆ°æ™ºèƒ½ä½“æ ¸å¿ƒè®°å¿†ç³»ç»Ÿ"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2025-12-27T16:24:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="moshuying"/> <meta itemprop="url" content="https://juejin.cn/user/2700056289356936"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            RAGæŠ€æœ¯æ¼”è¿›ï¼šä»å¤–éƒ¨çŸ¥è¯†åº“åˆ°æ™ºèƒ½ä½“æ ¸å¿ƒè®°å¿†ç³»ç»Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2700056289356936/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    moshuying
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T16:24:19.000Z" title="Sat Dec 27 2025 16:24:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">æŠ€æœ¯æ¼”è¿›å…¨æ™¯å›¾</h3>
<p>æ£€ç´¢å¢å¼ºç”ŸæˆæŠ€æœ¯è‡ª2020å¹´æå‡ºä»¥æ¥ï¼Œç»å†äº†æ˜ç¡®çš„èŒƒå¼æ¼”è¿›ã€‚ä»¥ä¸‹æ—¶é—´è½´æ¦‚æ‹¬äº†å„æ ¸å¿ƒèŒƒå¼å‡ºç°çš„æ—¶é—´ç‚¹ä¸æ¼”è¿›å…³ç³»ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">timeline
    title RAGæŠ€æœ¯æ¼”è¿›æ—¶é—´è½´
    2020 : æœ´ç´ RAGå¥ åŸº
         : æ£€ç´¢-ç”ŸæˆåŸºç¡€æ¶æ„
    2022 : è¯­ä¹‰å¢å¼ºRAGå…´èµ·
         : å‘é‡æ£€ç´¢ä¸å¤šè·³æŸ¥è¯¢
    2023 : å¤šæ¨¡æ€ä¸å›¾RAGå‘å±•
         : è·¨æ¨¡æ€æ£€ç´¢ä¸çŸ¥è¯†å›¾è°±
    2024 : è‡ªé€‚åº”ä¸æ™ºèƒ½ä½“RAG
         : åŠ¨æ€å†³ç­–ä¸å·¥å…·è°ƒç”¨

</code></pre>
<h3 data-id="heading-1">1. åŸºç¡€èŒƒå¼ï¼šæœ´ç´ RAGæ¶æ„ä¸å±€é™æ€§</h3>
<p>æœ´ç´ RAGç¡®ç«‹äº†â€œæ£€ç´¢-å¢å¼º-ç”Ÿæˆâ€çš„åŸºç¡€æµæ°´çº¿ï¼Œå…¶æ¶æ„ç›´æ¥åæ˜ äº†è¯¥æ ¸å¿ƒæ€æƒ³ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    A[ç”¨æˆ·Query] --&gt; B[æŸ¥è¯¢å‘é‡åŒ–]
    B --&gt; C[å‘é‡æ•°æ®åº“æ£€ç´¢]
    C --&gt; D[æ‹¼æ¥ä¸Šä¸‹æ–‡ä¸Query]
    D --&gt; E[LLMç”Ÿæˆ]
    E --&gt; F[æœ€ç»ˆç­”æ¡ˆ]

</code></pre>
<p>è¯¥èŒƒå¼çš„æŠ€æœ¯å®ç°ç›´æ¥ï¼Œä½†å…¶å±€é™æ€§åœ¨å·¥ä¸šåœºæ™¯ä¸­è¿…é€Ÿæš´éœ²ï¼š</p>
<ol>
<li><strong>æ£€ç´¢æ•ˆç‡ç“¶é¢ˆ</strong>ï¼šä¾èµ–TF-IDF/BM25ç­‰ç¨€ç–æ£€ç´¢ï¼Œåœ¨ä¸“ä¸šé¢†åŸŸå¬å›ç‡å¸¸ä½äº40%ã€‚</li>
<li><strong>ä¸Šä¸‹æ–‡å¤±çœŸ</strong>ï¼šå›ºå®šé•¿åº¦æ–‡æœ¬åˆ‡å—å¯¼è‡´è¶…è¿‡30%çš„å…³é”®ä¿¡æ¯è¢«å‰²è£‚æˆ–ä¸¢å¤±ã€‚</li>
<li><strong>ç”Ÿæˆå¯æ§æ€§å·®</strong>ï¼šæœªç»æ ¡å‡†çš„æ£€ç´¢ç»“æœç›´æ¥è¾“å…¥ç”Ÿæˆå™¨ï¼Œå¯¼è‡´äº‹å®é”™è¯¯ç‡é«˜è¾¾15-20%ã€‚</li>
</ol>
<p>æ­¤é˜¶æ®µRAGåœ¨é€šç”¨é—®ç­”åŸºå‡†ä¸Šçš„F1å€¼çº¦ä¸º0.62ï¼Œè¾ƒçº¯ç”Ÿæˆæ¨¡å‹æå‡æœ‰é™ï¼Œæ­ç¤ºäº†â€œåƒåœ¾è¿›ã€åƒåœ¾å‡ºâ€çš„æœ¬è´¨é—®é¢˜ã€‚</p>
<h3 data-id="heading-2">2. è¯­ä¹‰å¢å¼ºèŒƒå¼ï¼šå‘é‡æ£€ç´¢ä¸å¤šè·³æŸ¥è¯¢</h3>
<p>ä¸ºçªç ´åŸºç¡€èŒƒå¼çš„å±€é™ï¼Œè¯­ä¹‰å¢å¼ºRAGå¼•å…¥äº†ç¨ å¯†å‘é‡æ£€ç´¢ä¸å¤šè·³æŸ¥è¯¢æœºåˆ¶ï¼Œå…¶æ ¸å¿ƒæ˜¯<strong>é€šè¿‡è¯­ä¹‰ç†è§£æå‡æ£€ç´¢ç²¾åº¦</strong>ã€‚</p>
<ul>
<li><strong>ç¨ å¯†å‘é‡æ£€ç´¢</strong>ï¼šé‡‡ç”¨åŒå¡”ç¼–ç å™¨ï¼ˆå¦‚Sentence-BERTï¼‰ï¼Œå°†æŸ¥è¯¢ä¸æ–‡æ¡£æ˜ å°„åˆ°åŒä¸€768ç»´è¯­ä¹‰ç©ºé—´ï¼Œé€šè¿‡ä½™å¼¦ç›¸ä¼¼åº¦è®¡ç®—åŒ¹é…åº¦ï¼Œä½¿æ£€ç´¢ä»å…³é”®è¯åŒ¹é…å‡çº§ä¸ºè¯­ä¹‰åŒ¹é…ã€‚</li>
<li><strong>å¤šè·³æ£€ç´¢</strong>ï¼šå¯¹äºå¤æ‚æŸ¥è¯¢ï¼Œç³»ç»Ÿæ‰§è¡Œè¿­ä»£æ£€ç´¢ã€‚ä¾‹å¦‚ï¼Œå¯¹äºâ€œçˆ±å› æ–¯å¦åœ¨è¯ºè´å°”å¥–æ¼”è®²ä¸­æåˆ°äº†è°çš„ç†è®ºï¼Ÿâ€ï¼Œç³»ç»Ÿå¯èƒ½é¦–è½®æ£€ç´¢â€œçˆ±å› æ–¯å¦è¯ºè´å°”æ¼”è®²â€ï¼Œä»ä¸­æå–å…³é”®å®ä½“ï¼ˆå¦‚â€œç‰›é¡¿â€ï¼‰ï¼Œå†è¿›è¡Œç¬¬äºŒè½®æ£€ç´¢ã€‚</li>
</ul>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å¤šè·³æ£€ç´¢ç®€åŒ–ç¤ºä¾‹</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">multi_hop_retrieval</span>(<span class="hljs-params">initial_query, max_hops=<span class="hljs-number">2</span></span>):
    current_query = initial_query
    retrieved_contexts = []

    <span class="hljs-keyword">for</span> hop <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(max_hops):
        <span class="hljs-comment"># 1. è¯­ä¹‰æ£€ç´¢</span>
        docs = dense_vector_retriever.search(current_query, top_k=<span class="hljs-number">3</span>)
        retrieved_contexts.extend(docs)

        <span class="hljs-comment"># 2. åˆ¤æ–­æ˜¯å¦éœ€è¿›ä¸€æ­¥æŸ¥è¯¢ï¼ˆç”±ä¸€ä¸ªå°å‹åˆ†ç±»å™¨æˆ–è§„åˆ™åˆ¤æ–­ï¼‰</span>
        <span class="hljs-keyword">if</span> need_further_hop(current_query, docs):
            <span class="hljs-comment"># 3. ç”Ÿæˆä¸‹ä¸€è·³æŸ¥è¯¢ï¼ˆåˆ©ç”¨LLMæç‚¼æ–°æŸ¥è¯¢ç„¦ç‚¹ï¼‰</span>
            current_query = llm_generate_next_query(current_query, docs)
        <span class="hljs-keyword">else</span>:
            <span class="hljs-keyword">break</span>
    <span class="hljs-keyword">return</span> aggregate_contexts(retrieved_contexts)

</code></pre>
<p>è¯¥èŒƒå¼å°†æ£€ç´¢å¬å›ç‡æå‡è‡³80%ä»¥ä¸Šï¼Œå¹¶åœ¨HotpotQAç­‰å¤šè·³æ¨ç†æ•°æ®é›†ä¸Šå®ç°è¶…è¿‡25%çš„æ€§èƒ½æå‡ã€‚</p>
<h3 data-id="heading-3">3. å¤šæ¨¡æ€èåˆèŒƒå¼ï¼šè·¨æ¨¡æ€çŸ¥è¯†å¯¹é½</h3>
<p>å½“ä¿¡æ¯ä¸é™äºæ–‡æœ¬æ—¶ï¼Œå¤šæ¨¡æ€RAGæˆä¸ºå¿…ç„¶ã€‚å…¶æ ¸å¿ƒæ˜¯æ„å»º<strong>ç»Ÿä¸€çš„è·¨æ¨¡æ€è¯­ä¹‰ç©ºé—´</strong>ã€‚</p>
<ul>
<li><strong>ç»Ÿä¸€ç¼–ç </strong>ï¼šé‡‡ç”¨å¦‚CLIPçš„æ¨¡å‹ï¼Œå°†å›¾åƒã€æ–‡æœ¬ç­‰ä¸åŒæ¨¡æ€æ•°æ®ç¼–ç åˆ°åŒä¸€å‘é‡ç©ºé—´ï¼Œå®ç°â€œä»¥å›¾æœæ–‡â€æˆ–â€œä»¥æ–‡æœå›¾â€ã€‚</li>
<li><strong>è”åˆæ£€ç´¢</strong>ï¼šé’ˆå¯¹å¤šæ¨¡æ€æŸ¥è¯¢ï¼ˆå¦‚â€œæ‰¾ä¸€å¼ ç±»ä¼¼ä¸‹å›¾ä¸­é£æ™¯ç…§çš„è¯—è¯é…å›¾â€ï¼‰ï¼Œç³»ç»Ÿå¹¶è¡Œæ£€ç´¢å¤šæ¨¡æ€æ•°æ®åº“ï¼Œå¹¶å¯¹ç»“æœè¿›è¡Œè·¨æ¨¡æ€ç›¸å…³æ€§èåˆã€‚</li>
</ul>
<p>è¯¥èŒƒå¼åœ¨åŒ»ç–—å½±åƒæŠ¥å‘Šç”Ÿæˆç­‰åœºæ™¯ä¸­ï¼Œå°†è¯Šæ–­æè¿°å‡†ç¡®ç‡ä»77%æå‡è‡³91%ï¼Œè¯æ˜äº†å¤„ç†å¤åˆä¿¡æ¯æºçš„ä»·å€¼ã€‚</p>
<h3 data-id="heading-4">4. ä¸Šä¸‹æ–‡æ„ŸçŸ¥èŒƒå¼ï¼šåŠ¨æ€æ£€ç´¢ä¸é‡æ’åº</h3>
<p>ä¸ºè§£å†³â€œä¸Šä¸‹æ–‡çª—å£æ»¥ç”¨â€å¯¼è‡´çš„ä¿¡æ¯è¿‡è½½ä¸æ€§èƒ½ä¸‹é™é—®é¢˜ï¼Œä¸Šä¸‹æ–‡æ„ŸçŸ¥RAGå¼•å…¥äº†åŠ¨æ€å†³ç­–æœºåˆ¶ã€‚</p>
<ul>
<li><strong>åŠ¨æ€æ£€ç´¢çª—å£</strong>ï¼šç³»ç»Ÿæ ¹æ®æŸ¥è¯¢å¤æ‚åº¦ä¸å¯¹è¯å†å²ï¼Œè‡ªé€‚åº”å†³å®šæ£€ç´¢èŒƒå›´å’Œè¿”å›ç‰‡æ®µæ•°é‡ï¼Œé¿å…æ— å…³ä¿¡æ¯ç¨€é‡Šå…³é”®å†…å®¹ã€‚</li>
<li><strong>é‡æ’åºå™¨</strong>ï¼šåœ¨åˆæ­¥å‘é‡æ£€ç´¢åï¼Œå¼•å…¥è½»é‡çº§äº¤å‰ç¼–ç å™¨æ¨¡å‹å¯¹Top-Kç»“æœè¿›è¡Œç²¾æ’ï¼Œé‡æ–°è¯„ä¼°æŸ¥è¯¢ä¸æ¯ä¸ªç‰‡æ®µçš„ç»†å¾®ç›¸å…³æ€§ï¼Œå°†Top-1å‡†ç¡®ç‡æå‡çº¦22%ã€‚</li>
<li><strong>è¿­ä»£ä¿®æ­£</strong>ï¼šå¼•å…¥â€œç”Ÿæˆ-æ£€ç´¢-éªŒè¯â€å¾ªç¯ï¼Œå½“LLMå¯¹å½“å‰æ£€ç´¢ç»“æœç½®ä¿¡åº¦ä½æ—¶ï¼Œè§¦å‘æ–°ä¸€è½®ä¿®æ­£æ£€ç´¢ã€‚</li>
</ul>
<p>æ­¤èŒƒå¼åœ¨é‡‘èã€æ³•å¾‹ç­‰é«˜ç²¾åº¦è¦æ±‚çš„åœºæ™¯ä¸­ï¼Œå°†ç­”æ¡ˆå‡†ç¡®ç‡ç¨³å®šåœ¨90%ä»¥ä¸Šã€‚</p>
<h3 data-id="heading-5">5. ä»£ç RAGçš„ç°çŠ¶ä¸æ ¸å¿ƒéš¾ç‚¹</h3>
<p>å°†RAGåº”ç”¨äºä»£ç æ£€ç´¢ä¸ç”Ÿæˆæ˜¯æå…·ä»·å€¼çš„åœºæ™¯ï¼Œä½†é¢ä¸´ä¸åŒäºè‡ªç„¶è¯­è¨€çš„ç‹¬ç‰¹æŒ‘æˆ˜ã€‚ä»£ç çš„å¼ºç»“æ„æ€§ã€ç²¾ç¡®æ€§å’ŒæŠ½è±¡æ€§ï¼Œä½¿å¾—é€šç”¨RAGèŒƒå¼åœ¨æ­¤æ°´åœŸä¸æœã€‚</p>
<p><strong>æ ¸å¿ƒéš¾ç‚¹ä¸åº”å¯¹æ€è·¯ï¼š</strong></p>
<ol>
<li><strong>è¯­ä¹‰åŒ¹é…ä¸ç²¾ç¡®ç¬¦å·åŒ¹é…çš„å†²çª</strong>
<ul>
<li><strong>éš¾ç‚¹</strong>ï¼šä»£ç ä¸­å‡½æ•°åã€å˜é‡åã€APIè°ƒç”¨éœ€ç²¾ç¡®åŒ¹é…ã€‚çº¯è¯­ä¹‰æ£€ç´¢å¯èƒ½å› ç†è§£â€œåˆ›å»ºâ€çš„è¯­ä¹‰ï¼Œè€Œè¿”å›<code>generate()</code>æˆ–<code>build()</code>ï¼Œè€Œéå®é™…æ‰€éœ€çš„<code>create()</code>å‡½æ•°ã€‚</li>
<li><strong>æ–¹æ¡ˆ</strong>ï¼šé‡‡ç”¨<strong>æ··åˆæ£€ç´¢ï¼ˆHybrid Searchï¼‰</strong>ã€‚ç»“åˆç¨ å¯†å‘é‡æ£€ç´¢ï¼ˆç†è§£ä»£ç åŠŸèƒ½è¯­ä¹‰ï¼‰ä¸ç¨€ç–å…³é”®è¯æ£€ç´¢ï¼ˆç²¾ç¡®åŒ¹é…ç¬¦å·åï¼‰ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨BM25ç¡®ä¿å‘½ä¸­â€œ<code>pandas.read_csv</code>â€ï¼ŒåŒæ—¶ç”¨å‘é‡æ£€ç´¢ç†è§£â€œè¯»å–CSVæ–‡ä»¶â€çš„æ„å›¾ã€‚</li>
</ul>
</li>
<li><strong>ä»£ç ç»“æ„åœ¨åˆ‡åˆ†æ—¶çš„ç ´å</strong>
<ul>
<li><strong>éš¾ç‚¹</strong>ï¼šæŒ‰å›ºå®šé•¿åº¦åˆ‡åˆ†æ–‡æœ¬ä¼šåˆ‡ç¢å‡½æ•°å®šä¹‰ã€ç±»å£°æ˜ï¼Œå¯¼è‡´æ£€ç´¢åˆ°æ— æ•ˆç‰‡æ®µã€‚</li>
<li><strong>æ–¹æ¡ˆ</strong>ï¼šé‡‡ç”¨<strong>åŸºäºæŠ½è±¡è¯­æ³•æ ‘çš„æ™ºèƒ½åˆ†å—</strong>ã€‚åˆ©ç”¨ASTè§£æä»£ç ï¼ŒæŒ‰å‡½æ•°ã€ç±»ã€æ–¹æ³•ç­‰è‡ªç„¶è¾¹ç•Œè¿›è¡Œåˆ†å—ï¼Œä¿æŒé€»è¾‘å•å…ƒçš„å®Œæ•´æ€§ã€‚</li>
</ul>
</li>
<li><strong>é•¿è·ç¦»ä¾èµ–ä¸å…¨å±€ä¸Šä¸‹æ–‡ç¼ºå¤±</strong>
<ul>
<li><strong>éš¾ç‚¹</strong>ï¼šç†è§£ä¸€ä¸ªå‡½æ•°å¯èƒ½éœ€è¦å…¶å¯¼å…¥çš„æ¨¡å—ã€çˆ¶ç±»å®šä¹‰æˆ–ç›¸å…³é…ç½®ï¼Œè¿™äº›ä¿¡æ¯å¯èƒ½åˆ†å¸ƒåœ¨ä»£ç åº“ä¸åŒä½ç½®ã€‚</li>
<li><strong>æ–¹æ¡ˆ</strong>ï¼šå®æ–½<strong>å¤šè·³æ£€ç´¢</strong>ã€‚ç¬¬ä¸€è·³å®šä½ç›®æ ‡å‡½æ•°ï¼Œç¬¬äºŒè·³æ£€ç´¢å…¶ä¾èµ–æˆ–è°ƒç”¨é“¾ï¼Œç¬¬ä¸‰è·³æ£€ç´¢ç›¸å…³ç±»å‹å®šä¹‰ï¼Œé€æ­¥æ„å»ºå®Œæ•´ä¸Šä¸‹æ–‡å›¾è°±ã€‚</li>
</ul>
</li>
<li><strong>Agentic RAGåœ¨ä»£ç åœºæ™¯ä¸­çš„å†³ç­–å¤æ‚æ€§</strong>
<ul>
<li><strong>éš¾ç‚¹</strong>ï¼šæ™ºèƒ½ä½“éœ€è‡ªä¸»åˆ¤æ–­ä½•æ—¶æ£€ç´¢ã€æ£€ç´¢ä»€ä¹ˆï¼ˆä»£ç ã€æ–‡æ¡£ã€é”™è¯¯æ—¥å¿—ï¼‰ã€ä»¥åŠå¦‚ä½•ç»„åˆä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œâ€œä¿®å¤è¿™ä¸ªBugâ€éœ€åˆ†è§£ä¸ºï¼šæ£€ç´¢é”™è¯¯ä»£ç ã€æ£€ç´¢ç›¸ä¼¼Issueã€æ£€ç´¢ç›¸å…³APIæ–‡æ¡£ã€æ£€ç´¢å•å…ƒæµ‹è¯•ç­‰å¤šæ­¥ã€‚</li>
<li><strong>æ–¹æ¡ˆ</strong>ï¼šå¼ºåŒ–æ™ºèƒ½ä½“çš„<strong>ä»»åŠ¡è§„åˆ’ä¸å·¥å…·è°ƒç”¨</strong>èƒ½åŠ›ã€‚ä¸ºå…¶é…å¤‡ä»£ç è§£æå™¨ã€é™æ€åˆ†æå·¥å…·ã€æµ‹è¯•è¿è¡Œå™¨ç­‰ä¸“ç”¨å·¥å…·ï¼Œä½¿å…¶èƒ½åƒé«˜çº§å·¥ç¨‹å¸ˆä¸€æ ·æ‰§è¡Œå¤åˆæ“ä½œã€‚</li>
</ul>
</li>
</ol>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ä¸€ä¸ªç®€åŒ–çš„ä»£ç å¯¼å‘æ™ºèƒ½ä½“å†³ç­–é€»è¾‘</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CodeAwareRAGAgent</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">analyze_and_fix</span>(<span class="hljs-params">self, issue_description</span>):
        <span class="hljs-comment"># 1. è§„åˆ’ï¼šåˆ†è§£ä»»åŠ¡</span>
        plan = self.llm_planner(issue_description)
        <span class="hljs-comment"># è¾“å‡º: ["å®šä½æ ¸å¿ƒä»£ç ", "æŸ¥æ‰¾ç›¸ä¼¼é”™è¯¯æ¨¡å¼", "æ£€ç´¢APIçº¦æŸ", "ç”Ÿæˆè¡¥ä¸"]</span>

        contexts = []
        <span class="hljs-keyword">for</span> step <span class="hljs-keyword">in</span> plan:
            <span class="hljs-keyword">if</span> <span class="hljs-string">"å®šä½ä»£ç "</span> <span class="hljs-keyword">in</span> step:
                <span class="hljs-comment"># 2. æ£€ç´¢ï¼šæ··åˆæ£€ç´¢æ ¸å¿ƒä»£ç æ®µ</span>
                contexts.append(self.hybrid_retrieve(issue_description, use_ast=<span class="hljs-literal">True</span>))
            <span class="hljs-keyword">elif</span> <span class="hljs-string">"æŸ¥æ‰¾é”™è¯¯"</span> <span class="hljs-keyword">in</span> step:
                <span class="hljs-comment"># 3. å·¥å…·è°ƒç”¨ï¼šæœç´¢Issueè·Ÿè¸ªç³»ç»Ÿ</span>
                contexts.append(self.tool_search_jira(issue_description))
            <span class="hljs-comment"># ... å…¶ä»–æ­¥éª¤</span>
        <span class="hljs-comment"># 4. ç”Ÿæˆä¸éªŒè¯ï¼šç»¼åˆæ‰€æœ‰ä¸Šä¸‹æ–‡ç”Ÿæˆä¿®å¤ï¼Œå¹¶å»ºè®®è¿è¡Œæµ‹è¯•</span>
        patch = self.llm_generate_patch(contexts)
        <span class="hljs-keyword">return</span> patch, <span class="hljs-string">"å»ºè®®æ‰§è¡Œå•å…ƒæµ‹è¯•ï¼špytest tests/test_module.py::TestClass"</span>

</code></pre>
<p>å½“å‰ï¼Œä»£ç RAGçš„æˆåŠŸåº”ç”¨ï¼ˆå¦‚Cursor IDEï¼‰å‡éå•ä¸€æŠ€æœ¯ï¼Œè€Œæ˜¯<strong>æ··åˆæ£€ç´¢ã€ç»“æ„æ„ŸçŸ¥åˆ†å—ã€å¤šè·³æŸ¥è¯¢ä¸æ™ºèƒ½ä½“è§„åˆ’</strong>çš„ç»¼åˆä½“ã€‚å…¶è¯„ä¼°æŒ‡æ ‡ä¹Ÿæ›´ä¸¥æ ¼ï¼Œä¸ä»…çœ‹ç”Ÿæˆä»£ç çš„è¯­ä¹‰æ­£ç¡®æ€§ï¼Œæ›´éœ€é€šè¿‡ç¼–è¯‘å’Œæµ‹è¯•ç”¨ä¾‹ã€‚</p>
<h3 data-id="heading-6">6. è‡ªé€‚åº”ä¸æ™ºèƒ½ä½“èŒƒå¼ï¼šè‡ªä¸»å†³ç­–ç³»ç»Ÿçš„æ ¸å¿ƒ</h3>
<p>RAGçš„æœ€ç»ˆæ¼”è¿›æ–¹å‘æ˜¯æˆä¸ºè‡ªä¸»æ™ºèƒ½ä½“çš„æ ¸å¿ƒè®°å¿†ä¸çŸ¥è¯†å­ç³»ç»Ÿã€‚åœ¨æ­¤èŒƒå¼ä¸­ï¼ŒRAGä¸å†æ˜¯è¢«åŠ¨æŸ¥è¯¢å·¥å…·ï¼Œè€Œæ˜¯æ™ºèƒ½ä½“<strong>è®¤çŸ¥å¾ªç¯</strong>çš„ä¸€éƒ¨åˆ†ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    A[å¤æ‚ä»»åŠ¡] --&gt; B[æ™ºèƒ½ä½“ä»»åŠ¡è§„åˆ’]
    B --&gt; C{å†³ç­–: éœ€è¦ä½•ç§çŸ¥è¯†?}
    C --&gt;|äº‹å®æŸ¥è¯¢| D[è°ƒç”¨RAGè¿›è¡Œæ£€ç´¢]
    C --&gt;|ç¨‹åºæ‰§è¡Œ| E[è°ƒç”¨ä»£ç è§£é‡Šå™¨]
    C --&gt;|å®æ—¶ä¿¡æ¯| F[è°ƒç”¨æœç´¢å¼•æ“]
    D &amp; E &amp; F --&gt; G[ç»¼åˆä¿¡æ¯è¿›è¡Œæ¨ç†]
    G --&gt; H{å­ä»»åŠ¡è§£å†³?}
    H --&gt;|å¦| B
    H --&gt;|æ˜¯ï¼Œç»§ç»­| I[æ‰§è¡Œä¸‹ä¸€å­ä»»åŠ¡]
    I --&gt; J{æ‰€æœ‰ä»»åŠ¡å®Œæˆ?}
    J --&gt;|å¦| B
    J --&gt;|æ˜¯| K[æ•´åˆè¾“å‡ºæœ€ç»ˆç»“æœ]

</code></pre>
<p>åœ¨æ­¤æ¶æ„ä¸­ï¼š</p>
<ul>
<li><strong>RAGä½œä¸ºè®°å¿†ä½“</strong>ï¼šä¸ºæ™ºèƒ½ä½“æä¾›é•¿æœŸã€ç»“æ„åŒ–çš„äº‹å®çŸ¥è¯†ã€‚</li>
<li><strong>åŠ¨æ€ä¸Šä¸‹æ–‡ç®¡ç†</strong>ï¼šæ™ºèƒ½ä½“æ ¹æ®ä»»åŠ¡é˜¶æ®µï¼Œä¸»åŠ¨ä»RAGç³»ç»Ÿä¸­å†™å…¥ã€è¯»å–ã€å‹ç¼©æˆ–éš”ç¦»ç›¸å…³çŸ¥è¯†ç‰‡æ®µï¼Œå®ç°é«˜æ•ˆçš„â€œä¸Šä¸‹æ–‡å·¥ç¨‹â€ã€‚</li>
<li><strong>å·¥å…·é›†æˆ</strong>ï¼šRAGä¸ä»£ç è§£é‡Šå™¨ã€è®¡ç®—å™¨ã€APIè°ƒç”¨ç­‰å·¥å…·å¹³çº§ï¼Œç”±æ™ºèƒ½ä½“ç»Ÿä¸€è°ƒåº¦ï¼ŒååŒè§£å†³å¤æ‚é—®é¢˜ã€‚</li>
</ul>
<p>è¯¥èŒƒå¼åœ¨è‡ªåŠ¨åŒ–æ•°æ®åˆ†æã€å¤æ‚ç³»ç»Ÿæ•…éšœæ’æŸ¥ç­‰åœºæ™¯ä¸­å±•ç°å‡ºæ½œåŠ›ï¼Œå…¶æ ¸å¿ƒæŒ‘æˆ˜åœ¨äºæ™ºèƒ½ä½“è§„åˆ’ä¸å†³ç­–çš„å¯é æ€§ã€‚</p>
<h3 data-id="heading-7">æœªæ¥å±•æœ›ï¼šä½œä¸ºåŸºç¡€è®¾æ–½çš„RAG</h3>
<p>RAGæŠ€æœ¯çš„æ¼”è¿›è·¯å¾„è¡¨æ˜ï¼Œå…¶æ­£ä»ç‹¬ç«‹çš„â€œæ£€ç´¢-ç”Ÿæˆâ€åº”ç”¨ï¼Œæ¼”å˜ä¸º<strong>æ™ºèƒ½ä½“ç³»ç»Ÿçš„æ ‡å‡†çŸ¥è¯†ç»„ä»¶</strong>å’Œ<strong>è¿æ¥å¼‚æ„æ•°æ®æºçš„è¯­ä¹‰å±‚</strong>ã€‚æœªæ¥å…³æ³¨ç‚¹å°†é›†ä¸­äºï¼š</p>
<ol>
<li><strong>ä¸é•¿ä¸Šä¸‹æ–‡æ¨¡å‹çš„ååŒ</strong>ï¼šæ¢ç´¢RAGå¦‚ä½•ä¸ç™¾ä¸‡Tokenä¸Šä¸‹æ–‡çª—å£çš„LLMååŒï¼ŒRAGè´Ÿè´£é«˜æ•ˆç­›é€‰ã€ç»„ç»‡å…³é”®ä¿¡æ¯ï¼Œé•¿ä¸Šä¸‹æ–‡æ¨¡å‹è´Ÿè´£æ·±åº¦èåˆä¸æ¨ç†ï¼Œå½¢æˆäº’è¡¥ã€‚</li>
<li><strong>æ ‡å‡†åŒ–è¯­ä¹‰å±‚</strong>ï¼šæ¨åŠ¨å»ºç«‹ä¼ä¸šçº§æ•°æ®è¯­ä¹‰åŒ–æ ‡å‡†ï¼Œä½¿RAGèƒ½ç»Ÿä¸€ç†è§£æ¥è‡ªæ•°æ®åº“ã€æ–‡æ¡£ã€å›¾è°±ã€APIçš„ç»“æ„åŒ–ä¸éç»“æ„åŒ–ä¿¡æ¯ã€‚</li>
<li><strong>å¼ºåŒ–è¯„ä¼°ä¸å¯è§£é‡Šæ€§</strong>ï¼šå°¤å…¶åœ¨ä»£ç ã€åŒ»ç–—ã€é‡‘èç­‰é«˜é£é™©é¢†åŸŸï¼Œéœ€å‘å±•æ›´ä¸¥æ ¼çš„è¯„ä¼°åŸºå‡†ï¼Œå¹¶æå‡æ£€ç´¢ç»“æœä¸ç”Ÿæˆè¿‡ç¨‹çš„å¯é è§£é‡Šæ€§ã€‚</li>
</ol>
<p>å¯¹äºå·¥ç¨‹å¸ˆè€Œè¨€ï¼Œç†è§£RAGä»é™æ€ç®¡é“åˆ°åŠ¨æ€æ™ºèƒ½ä½“ç»„ä»¶çš„æ¼”è¿›ï¼Œæœ‰åŠ©äºåœ¨è®¾è®¡ä¸‹ä¸€ä»£ç³»ç»Ÿæ—¶ï¼Œå°†å…¶å®šä½ä¸º<strong>å¯ç¼–ç¨‹ã€å¯é›†æˆã€å¯è§‚æµ‹çš„æ ¸å¿ƒçŸ¥è¯†åŸºç¡€è®¾æ–½</strong>ï¼Œè€Œéä¸€ä¸ªå°é—­çš„é—®ç­”é»‘ç›’ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Mybatiså…¥é—¨åˆ°ç²¾é€š äºŒ]]></title>    <link>https://juejin.cn/post/7588042910198595634</link>    <guid>https://juejin.cn/post/7588042910198595634</guid>    <pubDate>2025-12-27T23:54:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588042910198595634" data-draft-id="7588067055482404873" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Mybatiså…¥é—¨åˆ°ç²¾é€š äºŒ"/> <meta itemprop="keywords" content="Java,MyBatis,æºç é˜…è¯»"/> <meta itemprop="datePublished" content="2025-12-27T23:54:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜ä¾ å®¢è¡Œ"/> <meta itemprop="url" content="https://juejin.cn/user/556801719828361"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Mybatiså…¥é—¨åˆ°ç²¾é€š äºŒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/556801719828361/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜ä¾ å®¢è¡Œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T23:54:45.000Z" title="Sat Dec 27 2025 23:54:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨<a href="https://juejin.cn/post/7588084804093280294" target="_blank" title="https://juejin.cn/post/7588084804093280294">ã€ŠMybatiså…¥é—¨åˆ°ç²¾é€š ä¸€ã€‹</a>ä¸­ï¼Œæˆ‘ä»¬äº†è§£äº†Mybatiså¯åŠ¨è¿‡ç¨‹ï¼šé…ç½®è§£æã€åˆ›å»ºSqlSessionã€‚æœ¬æ–‡ä»‹ç»äº†SQLæ‰§è¡Œå¼•æ“Executorï¼Œä»¥åŠå’ŒExecutorå¯†åˆ‡ç›¸å…³çš„ä¸€äºŒçº§ç¼“å­˜å®ç°ã€‚</p>
<blockquote>
<p>æ³¨ï¼šæœ¬æ–‡ä¸­æºç æ¥è‡ªmybatis 3.4.xç‰ˆæœ¬ï¼Œåœ°å€<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmybatis%2Fmybatis-3.git" target="_blank" title="https://github.com/mybatis/mybatis-3.git" ref="nofollow noopener noreferrer">github.com/mybatis/mybâ€¦</a></p>
</blockquote>
<h2 data-id="heading-0">ä¸€ Executoræ¥å£</h2>
<h3 data-id="heading-1">1.1 ä½œç”¨</h3>
<p>Executoræ¥å£ä¸­ï¼Œæ˜¯MyBatisçš„SQLæ‰§è¡Œå¼•æ“ï¼Œé€šè¿‡ç²¾å·§çš„è®¾è®¡æ¨¡å¼ç»„åˆï¼Œå®ç°äº†SQLæ‰§è¡Œçš„é«˜æ•ˆåè°ƒå’Œçµæ´»æ‰©å±•ã€‚è¯¥æ¥å£æœ‰ä»¥ä¸‹å…³é”®èŒè´£ï¼š</p>
<ol>
<li>SQLæ‰§è¡Œåè°ƒ</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æŸ¥è¯¢æ“ä½œ</span>
&lt;E&gt; List&lt;E&gt; <span class="hljs-title function_">query</span><span class="hljs-params">(MappedStatement ms, Object parameter, RowBounds rowBounds, ResultHandler resultHandler)</span>;
<span class="hljs-comment">// æ›´æ–°æ“ä½œ  </span>
<span class="hljs-type">int</span> <span class="hljs-title function_">update</span><span class="hljs-params">(MappedStatement ms, Object parameter)</span>;
</code></pre>
<ol start="2">
<li>ç¼“å­˜ç®¡ç†</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¸€çº§ç¼“å­˜ç®¡ç†</span>
CacheKey <span class="hljs-title function_">createCacheKey</span><span class="hljs-params">(MappedStatement ms, Object parameterObject, RowBounds rowBounds, BoundSql boundSql)</span>;
<span class="hljs-type">boolean</span> <span class="hljs-title function_">isCached</span><span class="hljs-params">(MappedStatement ms, CacheKey key)</span>;
<span class="hljs-keyword">void</span> <span class="hljs-title function_">clearLocalCache</span><span class="hljs-params">()</span>;
</code></pre>
<ol start="3">
<li>äº‹åŠ¡æ§åˆ¶</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">void</span> <span class="hljs-title function_">commit</span><span class="hljs-params">(<span class="hljs-type">boolean</span> required)</span>;
<span class="hljs-keyword">void</span> <span class="hljs-title function_">rollback</span><span class="hljs-params">(<span class="hljs-type">boolean</span> required)</span>;
Transaction <span class="hljs-title function_">getTransaction</span><span class="hljs-params">()</span>;
</code></pre>
<ol start="4">
<li>å»¶è¿ŸåŠ è½½</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">void</span> <span class="hljs-title function_">deferLoad</span><span class="hljs-params">(MappedStatement ms, MetaObject resultObject, String property, CacheKey key, Class&lt;?&gt; targetType)</span>;
</code></pre>
<h3 data-id="heading-2">1.2 æ¥å£ä½“ç³»</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c7c8cd68f25843149d18189d2ee1370b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5L6g5a6i6KGM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767484485&amp;x-signature=qEpKeL%2FIBpUb1BIym4NO%2FEzN%2FPM%3D" alt="" loading="lazy"/></p>
<p>BaseExecutoræ˜¯é¡¶çº§çˆ¶æŠ½è±¡ç±»ï¼Œç”¨æ¨¡ç‰ˆæ–¹æ³•å®ç°å…¬å…±é€»è¾‘ï¼Œå¦‚ç»´æŠ¤ä¸€çº§ç¼“å­˜ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BaseExecutor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Executor</span> {
    <span class="hljs-comment">// æ¨¡æ¿æ–¹æ³•ï¼šå®šä¹‰æ‰§è¡Œæµç¨‹</span>
    <span class="hljs-keyword">public</span> &lt;E&gt; List&lt;E&gt; <span class="hljs-title function_">query</span><span class="hljs-params">(...)</span> {
        <span class="hljs-comment">// 1. æ£€æŸ¥ä¸€çº§ç¼“å­˜</span>
        list = localCache.getObject(key);
        <span class="hljs-keyword">if</span> (list != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> list;
        }
        <span class="hljs-comment">// 2. ä»æ•°æ®åº“æŸ¥è¯¢</span>
        <span class="hljs-keyword">return</span> queryFromDatabase(...);
    }
    
    <span class="hljs-comment">// æŠ½è±¡æ–¹æ³•ï¼šå­ç±»å®ç°å…·ä½“ç­–ç•¥</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">abstract</span> &lt;E&gt; List&lt;E&gt; <span class="hljs-title function_">doQuery</span><span class="hljs-params">(...)</span>;
}
</code></pre>
<p>ä½¿ç”¨ç­–ç•¥æ¨¡å¼ï¼ŒBaseExecutoræœ‰ä»¥ä¸‹å®ç°ç±»</p>
<ul>
<li>SimpleExecutorï¼Œæ¯æ¬¡æ‰§è¡Œå®Œéƒ½å…³é—­Statement</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">doUpdate</span><span class="hljs-params">(MappedStatement ms, Object parameter)</span> {
    <span class="hljs-type">Statement</span> <span class="hljs-variable">stmt</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">try</span> {
        <span class="hljs-type">StatementHandler</span> <span class="hljs-variable">handler</span> <span class="hljs-operator">=</span> configuration.newStatementHandler(...);
        stmt = prepareStatement(handler, ms.getStatementLog());
        <span class="hljs-keyword">return</span> handler.update(stmt);
    } <span class="hljs-keyword">finally</span> {
        <span class="hljs-comment">// æ¯æ¬¡éƒ½å…³é—­Statement</span>
        closeStatement(stmt);
    }
}
</code></pre>
<ul>
<li>ReuseExecutor ï¼Œç¼“å­˜Statementå¯¹è±¡ï¼Œå®ç°é‡ç”¨</li>
<li>BatchExecutorï¼Œæ‰¹é‡æ‰§è¡Œï¼Œæå‡æ€§èƒ½</li>
</ul>
<p>CachingExecutoré‡‡ç”¨äº†è£…é¥°å™¨æ¨¡å¼ï¼Œåœ¨BaseExecutoråŸºç¡€ä¸Šï¼Œæä¾›äº†äºŒçº§ç¼“å­˜èƒ½åŠ›ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CachingExecutor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Executor</span> {
    <span class="hljs-comment">// è¢«è£…é¥°çš„BaseExecutorå­ç±»å¯¹è±¡</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Executor delegate; 
    
    <span class="hljs-keyword">public</span> &lt;E&gt; List&lt;E&gt; <span class="hljs-title function_">query</span><span class="hljs-params">(...)</span> {
        <span class="hljs-type">Cache</span> <span class="hljs-variable">cache</span> <span class="hljs-operator">=</span> ms.getCache();
        <span class="hljs-keyword">if</span> (cache != <span class="hljs-literal">null</span>) {
            <span class="hljs-comment">// äºŒçº§ç¼“å­˜é€»è¾‘</span>
            List&lt;E&gt; list = tcm.getObject(cache, key);
            <span class="hljs-comment">// æœªå‘½ä¸­ç¼“å­˜ï¼ŒæŸ¥è¯¢æ•°æ®åº“å¹¶æ”¾å…¥ç¼“å­˜æ± </span>
            <span class="hljs-keyword">if</span> (list == <span class="hljs-literal">null</span>) {
                list = delegate.query(...); <span class="hljs-comment">// å§”æ‰˜ç»™åŸæ‰§è¡Œå™¨</span>
                tcm.putObject(cache, key, list);
            }
            <span class="hljs-keyword">return</span> list;
        }
        <span class="hljs-comment">//æœªå¯ç”¨äºŒçº§ç¼“å­˜ï¼Œç›´æ¥æŸ¥è¯¢æ•°æ®åº“ </span>
        <span class="hljs-keyword">return</span> delegate.query(...);
    }
}
</code></pre>
<h3 data-id="heading-3">1.3 åˆ›å»ºExecutor</h3>
<p>Configuration#newExecutoræ–¹æ³•ä¼šæ ¹æ®executorTypeæ¥åˆ›å»ºç›¸åº”çš„å®ç°ç±»å¯¹è±¡ï¼Œå¹¶ä½¿ç”¨æ’ä»¶å¢å¼ºã€‚</p>
<p>é»˜è®¤å¾—executorType = ExecutorType.SIMPLEï¼Œå³ä½¿ç”¨SimpleExecutorã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> Executor <span class="hljs-title function_">newExecutor</span><span class="hljs-params">(Transaction transaction, ExecutorType executorType)</span> {
    executorType = executorType == <span class="hljs-literal">null</span> ? defaultExecutorType : executorType;
    executorType = executorType == <span class="hljs-literal">null</span> ? ExecutorType.SIMPLE : executorType;
    Executor executor;
    <span class="hljs-keyword">if</span> (ExecutorType.BATCH == executorType) {
        executor = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BatchExecutor</span>(<span class="hljs-built_in">this</span>, transaction);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ExecutorType.REUSE == executorType) {
        executor = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReuseExecutor</span>(<span class="hljs-built_in">this</span>, transaction);
    } <span class="hljs-keyword">else</span> {
        executor = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleExecutor</span>(<span class="hljs-built_in">this</span>, transaction);
    }
    <span class="hljs-comment">// äºŒçº§ç¼“å­˜è£…é¥°</span>
    <span class="hljs-keyword">if</span> (cacheEnabled) {
        executor = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CachingExecutor</span>(executor);
    }
    <span class="hljs-comment">// ä»£ç†å¢å¼º</span>
    executor = (Executor) interceptorChain.pluginAll(executor);
    <span class="hljs-keyword">return</span> executor;
}
</code></pre>
<h2 data-id="heading-4">äºŒ ç¼“å­˜ä½“ç³»</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7a112f03986a41ed858ae259c4f7762b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5L6g5a6i6KGM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767484485&amp;x-signature=K%2FXRIhY6CGMlDhgyY7PIf%2FrGM9M%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d059800ba2a64aa29c132e3bf6ca705e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5L6g5a6i6KGM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767484485&amp;x-signature=ybspKlGagetMilNDCR9D6Ug4Cdc%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-5">2.1 ä¸€çº§ç¼“å­˜</h3>
<h4 data-id="heading-6">2.1.1 ç‰¹ç‚¹å’Œå¯ç”¨</h4>
<p>ä¸€çº§ç¼“å­˜æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š</p>
<ul>
<li>ä½œç”¨åŸŸï¼šSqlSessionçº§åˆ«ï¼Œä¸åŒSessionä¸å…±äº«</li>
<li>ç”Ÿå‘½å‘¨æœŸï¼šSqlSessionåˆ›å»ºåˆ°å…³é—­</li>
<li>å­˜å‚¨ç»“æ„ï¼šHashMapï¼ˆPerpetualCacheï¼‰</li>
<li>é»˜è®¤çŠ¶æ€ï¼šå§‹ç»ˆå¼€å¯ï¼Œæ— æ³•å…³é—­</li>
<li>æ¸…ç†æ—¶æœºï¼šcommitã€rollbackã€updateæ“ä½œ</li>
</ul>
<p><strong>ä¸€çº§ç¼“å­˜é»˜è®¤å¼€å¯ï¼Œé»˜è®¤ä½œç”¨åŸŸæ˜¯SESSIONã€‚</strong> å¯ç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- mybatis-config.xml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">settings</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- SESSION: ä¼šè¯çº§åˆ«ï¼ˆé»˜è®¤ï¼‰ --&gt;</span>
    <span class="hljs-comment">&lt;!-- STATEMENT: è¯­å¥çº§åˆ«ï¼ˆæ‰§è¡Œå®Œç«‹å³æ¸…ç©ºï¼‰ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"localCacheScope"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"SESSION"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">settings</span>&gt;</span>
</code></pre>
<p>æ¥çœ‹ä¸€ä¸ªå‘½ä¸­ä¸€çº§ç¼“å­˜çš„ç¤ºä¾‹</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">SqlSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession();
<span class="hljs-keyword">try</span> {
    <span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> session.getMapper(UserMapper.class);
    
    <span class="hljs-comment">// ç¬¬ä¸€æ¬¡æŸ¥è¯¢ï¼Œèµ°æ•°æ®åº“</span>
    <span class="hljs-type">User</span> <span class="hljs-variable">user1</span> <span class="hljs-operator">=</span> mapper.selectById(<span class="hljs-number">1</span>);
    
    <span class="hljs-comment">// ç¬¬äºŒæ¬¡æŸ¥è¯¢ï¼Œå‘½ä¸­ä¸€çº§ç¼“å­˜ï¼Œä¸èµ°æ•°æ®åº“</span>
    <span class="hljs-type">User</span> <span class="hljs-variable">user2</span> <span class="hljs-operator">=</span> mapper.selectById(<span class="hljs-number">1</span>);
    
    System.out.println(user1 == user2); <span class="hljs-comment">// trueï¼ŒåŒä¸€å¯¹è±¡</span>
} <span class="hljs-keyword">finally</span> {
    session.close();
}
</code></pre>
<h4 data-id="heading-7">2.1.2 ä½œç”¨åŸŸ</h4>
<p>localCacheScopeå†³å®šäº†ä¸€çº§ç¼“å­˜çš„æœ‰æ•ˆèŒƒå›´ã€‚å–å€¼<code>SESSION</code>å’Œ<code>STATEMENT</code>æœ‰å¦‚ä¸‹åŒºåˆ«ï¼š</p>
<p><code>SESSION</code>ï¼š</p>
<ol>
<li>ä¸€çº§ç¼“å­˜åœ¨<strong>æ•´ä¸ª SqlSession ä¼šè¯æœŸé—´éƒ½æœ‰æ•ˆ</strong>ã€‚</li>
<li>åªæœ‰å½“<code>SqlSession</code>æ‰§è¡Œ<code>insert</code>/<code>update</code>/<code>delete</code>æ“ä½œï¼ˆä¼šè‡ªåŠ¨æ¸…ç©ºå½“å‰ SqlSession çš„ä¸€çº§ç¼“å­˜ï¼‰ã€è°ƒç”¨<code>sqlSession.clearCache()</code>æ‰‹åŠ¨æ¸…ç©ºç¼“å­˜ï¼Œæˆ–<code>SqlSession</code>å…³é—­ï¼ˆ<code>sqlSession.close()</code>ï¼‰æ—¶ï¼Œè¯¥ä¼šè¯çš„ä¸€çº§ç¼“å­˜æ‰ä¼šå¤±æ•ˆæˆ–è¢«é”€æ¯ã€‚</li>
</ol>
<p><code>STATEMENT</code>ï¼š</p>
<ol>
<li><strong>ä¸€çº§ç¼“å­˜ä»…å¯¹å½“å‰æŸ¥è¯¢è¯­å¥æœ‰æ•ˆï¼ŒæŸ¥è¯¢ç»“æŸåç¼“å­˜ç«‹å³å¤±æ•ˆ</strong> <strong>ï¼Œç›¸å½“äº â€œç¦ç”¨äº†ä¸€çº§ç¼“å­˜â€ï¼›</strong></li>
<li>æŸ¥è¯¢æ‰§è¡Œå®Œæˆåï¼Œç¼“å­˜ä¼šè¢«ç«‹å³æ¸…ç©º / å¤±æ•ˆï¼Œç¬¬äºŒæ¬¡æŸ¥è¯¢ä¸ä¼šå¤ç”¨ç¬¬ä¸€æ¬¡çš„ç¼“å­˜ç»“æœï¼Œä»ç„¶ä¼šå»æ•°æ®åº“é‡æ–°æŸ¥è¯¢ï¼›</li>
<li>ç”¨äºè§£å†³åµŒå¥—æŸ¥è¯¢çš„é‡å¤æ•°æ®åŠ è½½é—®é¢˜ï¼Œå¦‚å…³è”æŸ¥è¯¢ä¸­çš„ç›¸åŒæ•°æ®é¿å…é‡å¤æŸ¥è¯¢ã€‚</li>
</ol>
<h4 data-id="heading-8">2.1.3 éçº¿ç¨‹å®‰å…¨</h4>
<p>ä¸€çº§ç¼“å­˜å®ç°æ˜¯PerpetualCacheï¼Œä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå› ä¸ºåº•å±‚ä½¿ç”¨äº†HashMapï¼Œè€Œä¸”putObjectæ–¹æ³•ä¹Ÿä¸åŠ é”ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b6cc278a0ac480e87617f44f297a6d6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5L6g5a6i6KGM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767484485&amp;x-signature=8Zqu9TCHmWr2Xkt89E%2FCZBOgllY%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bafe22add6a64a83ab7682bbf700b12b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5L6g5a6i6KGM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767484485&amp;x-signature=kf%2B3YNSxdP27Ah1qvjkkpa6%2Fcio%3D" alt="" loading="lazy"/></p>
<p>é‚£ä¹ˆä¸ºä»€ä¹ˆä¸ä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„Mapå‘¢ï¼ŸåŸºäºä»¥ä¸‹å‡ ç‚¹åŸå› ï¼š</p>
<ol>
<li>MyBatisçš„è®¾è®¡åŸåˆ™ï¼šSqlSessionä¸åº”è¯¥è¢«å¤šçº¿ç¨‹å…±äº«</li>
<li>ä½¿ç”¨ConcurrentHashMapä¼šå¸¦æ¥æ€§èƒ½å¼€é”€</li>
</ol>
<p><strong>å› æ­¤ï¼Œæ¯ä¸ªçº¿ç¨‹åº”å½“ä½¿ç”¨ç‹¬ç«‹çš„SqlSessionï¼ˆå¦‚ä½¿ç”¨SqlSessionManager ï¼‰ï¼Œæˆ–ä½¿ç”¨Springç­‰æ¡†æ¶æä¾›çš„çº¿ç¨‹å®‰å…¨å°è£…ï¼ˆå¦‚SqlSessionTemplate ï¼‰ã€‚</strong></p>
<h3 data-id="heading-9">2.2 äºŒçº§ç¼“å­˜</h3>
<h4 data-id="heading-10">2.2.1 ç‰¹ç‚¹å’Œå¯ç”¨</h4>
<p>äºŒçº§ç¼“å­˜æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ul>
<li>ä½œç”¨åŸŸï¼šMapperï¼ˆNamespaceï¼‰çº§åˆ«ï¼Œè·¨Sessionå…±äº«</li>
<li>ç”Ÿå‘½å‘¨æœŸï¼šåº”ç”¨å¯åŠ¨åˆ°å…³é—­</li>
<li>å­˜å‚¨ç»“æ„ï¼šå¯é…ç½®ï¼ˆLRUã€FIFOç­‰ï¼‰</li>
<li>é»˜è®¤çŠ¶æ€ï¼šå…³é—­ï¼Œéœ€æ‰‹åŠ¨å¼€å¯</li>
<li>äº‹åŠ¡æ€§ï¼šcommitåæ‰ç”Ÿæ•ˆï¼Œrollbackä¼šæ¸…ç©º</li>
</ul>
<p>å¯ç”¨äºŒçº§ç¼“å­˜ï¼Œéœ€è¦æ»¡è¶³ä¸‰ä¸ªæ¡ä»¶ï¼š</p>
<ul>
<li>å…¨å±€å¼€å¯ï¼ˆ<strong>é»˜è®¤å¯ç”¨</strong>ï¼‰</li>
</ul>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- mybatis-config.xml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">settings</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"cacheEnabled"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"true"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">settings</span>&gt;</span>
</code></pre>
<p>åªæœ‰å½“Configurationä¸­cacheEnabled=trueæ—¶ï¼Œæ‰ä¼šåˆ›å»ºCachingExecutorã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ca009c4f0fb6466d9d1dd5f315d411bd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5L6g5a6i6KGM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767484485&amp;x-signature=sT7vSCqqku%2FTE6bfiA2%2FAGD6K2Y%3D" alt="" loading="lazy"/></p>
<ul>
<li>Mapperå±€éƒ¨é…ç½®ï¼ˆ<strong>å¿…é¡»æ‰‹åŠ¨é…ç½®</strong>ï¼‰</li>
</ul>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">"com.example.mapper.UserMapper"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- åŸºæœ¬é…ç½®ï¼Œæ¿€æ´»äºŒçº§ç¼“å­˜ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">cache</span>/&gt;</span>
    
    <span class="hljs-comment">&lt;!-- å®Œæ•´é…ç½® --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">cache</span>
        <span class="hljs-attr">eviction</span>=<span class="hljs-string">"LRU"</span>           &lt;!<span class="hljs-attr">--</span> <span class="hljs-attr">æ·˜æ±°ç­–ç•¥</span>ï¼š<span class="hljs-attr">LRU</span>/<span class="hljs-attr">FIFO</span>/<span class="hljs-attr">SOFT</span>/<span class="hljs-attr">WEAK</span> <span class="hljs-attr">--</span>&gt;</span>
        flushInterval="60000"    <span class="hljs-comment">&lt;!-- åˆ·æ–°é—´éš”ï¼š60ç§’ --&gt;</span>
        size="512"               <span class="hljs-comment">&lt;!-- ç¼“å­˜å¯¹è±¡æ•°é‡ --&gt;</span>
        readOnly="false"/&gt;       <span class="hljs-comment">&lt;!-- æ˜¯å¦åªè¯» --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span>
</code></pre>
<ul>
<li>æä¾›å®ä½“ç±»åºåˆ—åŒ–ï¼ˆæ¨èï¼‰</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">serialVersionUID</span> <span class="hljs-operator">=</span> <span class="hljs-number">1L</span>;
    <span class="hljs-keyword">private</span> Long id;
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<p><strong>Mapper ä¸­çš„</strong><code>select</code><strong>æŸ¥è¯¢è¯­å¥useCacheé»˜è®¤ä¸ºtrueã€‚</strong></p>
<p><strong>å½“æ‰§è¡Œ</strong><code>insert</code> <strong>ã€</strong> <code>update</code> <strong>ã€</strong> <code>delete</code><strong>æ“ä½œæ—¶ï¼ˆ</strong> <code>flushCache</code><strong>é»˜è®¤ä¸ºtrueï¼‰ï¼ŒMyBatis ä¼šè‡ªåŠ¨æ¸…ç©ºå½“å‰ Mapper å‘½åç©ºé—´ä¸‹çš„äºŒçº§ç¼“å­˜ï¼Œç¡®ä¿ç¼“å­˜æ•°æ®ä¸æ•°æ®åº“æ•°æ®ä¸€è‡´æ€§ã€‚</strong></p>
<p>æ¥çœ‹è·¨Sessionå…±äº«äºŒçº§ç¼“å­˜çš„ç¤ºä¾‹</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Session A</span>
<span class="hljs-type">SqlSession</span> <span class="hljs-variable">session1</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession();
<span class="hljs-keyword">try</span> {
    <span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper1</span> <span class="hljs-operator">=</span> session1.getMapper(UserMapper.class);
    <span class="hljs-type">User</span> <span class="hljs-variable">user1</span> <span class="hljs-operator">=</span> mapper1.selectById(<span class="hljs-number">1</span>);  <span class="hljs-comment">// æŸ¥è¯¢æ•°æ®åº“</span>
    session1.commit();  <span class="hljs-comment">// æäº¤åæ‰æ”¾å…¥äºŒçº§ç¼“å­˜</span>
} <span class="hljs-keyword">finally</span> {
    session1.close();
}

<span class="hljs-comment">// Session B</span>
<span class="hljs-type">SqlSession</span> <span class="hljs-variable">session2</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession();
<span class="hljs-keyword">try</span> {
    <span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper2</span> <span class="hljs-operator">=</span> session2.getMapper(UserMapper.class);
    <span class="hljs-type">User</span> <span class="hljs-variable">user2</span> <span class="hljs-operator">=</span> mapper2.selectById(<span class="hljs-number">1</span>);  <span class="hljs-comment">// å‘½ä¸­äºŒçº§ç¼“å­˜</span>
} <span class="hljs-keyword">finally</span> {
    session2.close();
}
</code></pre>
<h4 data-id="heading-11">2.2.2 å…¶ä»–ç‰¹æ€§</h4>
<p>æ­¤å¤–ï¼ŒäºŒçº§ç¼“å­˜æ”¯æŒè¯­å¥çº§æ§åˆ¶ã€è‡ªå®šä¹‰ç¼“å­˜å®ç°ã€å¯ç”¨ç¼“å­˜æ—¥å¿—</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">"com.example.mapper.UserMapper"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">cache</span>/&gt;</span>
    
    <span class="hljs-comment">&lt;!-- selecté»˜è®¤ä½¿ç”¨ç¼“å­˜ï¼Œå¯ä¸é…ç½®useCache --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"selectById"</span> <span class="hljs-attr">useCache</span>=<span class="hljs-string">"true"</span>&gt;</span>
        SELECT * FROM user WHERE id = #{id}
    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- ä¸ä½¿ç”¨ç¼“å­˜ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"selectRealtime"</span> <span class="hljs-attr">useCache</span>=<span class="hljs-string">"false"</span>&gt;</span>
        SELECT * FROM user WHERE id = #{id}
    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- æ›´æ–°æ“ä½œæ¸…ç©ºç¼“å­˜ï¼ˆé»˜è®¤ï¼‰ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">update</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"updateUser"</span> <span class="hljs-attr">flushCache</span>=<span class="hljs-string">"true"</span>&gt;</span>
        UPDATE user SET name = #{name} WHERE id = #{id}
    <span class="hljs-tag">&lt;/<span class="hljs-name">update</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- ä½¿ç”¨Redisä½œä¸ºäºŒçº§ç¼“å­˜ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">cache</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"org.mybatis.caches.redis.RedisCache"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"host"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"localhost"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"port"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"6379"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">cache</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- å¼€å¯ç¼“å­˜æ—¥å¿— --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">cache</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"org.apache.ibatis.cache.decorators.LoggingCache"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"logImpl"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"STDOUT_LOGGING"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">cache</span>&gt;</span>
</code></pre>
<h3 data-id="heading-12">2.3 æ€»ç»“</h3>



































<table><thead><tr><th>ç‰¹æ€§</th><th>ä¸€çº§ç¼“å­˜</th><th>äºŒçº§ç¼“å­˜</th></tr></thead><tbody><tr><td>ä½œç”¨åŸŸ</td><td>SqlSession</td><td>Mapperï¼ˆå³Namespace<a href="https://link.juejin.cn?target=%255Burl%255D(%255Burl%255D(%255Burl%255D(url)))" target="_blank" title="%5Burl%5D(%5Burl%5D(%5Burl%5D(url)))" ref="nofollow noopener noreferrer">ï¼‰</a></td></tr><tr><td>é»˜è®¤çŠ¶æ€</td><td>å¼€å¯</td><td>å…³é—­</td></tr><tr><td>çº¿ç¨‹å®‰å…¨</td><td>å¦</td><td>æ˜¯</td></tr><tr><td>åºåˆ—åŒ–</td><td>ä¸éœ€è¦</td><td>éœ€è¦</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>å•æ¬¡ä¼šè¯ä¼˜åŒ–</td><td>è·¨ä¼šè¯å…±äº«</td></tr></tbody></table>
<ul>
<li>ä¸€çº§ç¼“å­˜æ˜¯SqlSessionçº§åˆ«ï¼Œæ— æ³•å…³é—­ã€‚<strong>ä½†æ˜¯å½“è®¾ç½®LocalCacheScopeä¸ºSTATEMENTæ—¶ï¼ŒæŸ¥è¯¢è¯­å¥æ‰§è¡Œç»“æŸæ—¶éƒ½ä¼šæ¸…ç©ºä¸€çº§ç¼“å­˜ï¼Œç›¸å½“äº â€œç¦ç”¨äº†ä¸€çº§ç¼“å­˜çš„è·¨æŸ¥è¯¢å¤ç”¨èƒ½åŠ›â€ï¼›</strong></li>
<li><strong>äºŒçº§ç¼“å­˜ï¼Œé€‚åˆè¯»å¤šå†™å°‘åœºæ™¯ï¼Œéœ€è°¨æ…ä½¿ç”¨ï¼›</strong></li>
<li><strong>åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸‹ï¼Œéœ€è¦ç¦ç”¨Mybatisçš„ä¸€äºŒçº§ç¼“å­˜ï¼Œå› ä¸ºå®ƒä»¬éƒ½æ˜¯æœ¬åœ°ç¼“å­˜</strong>ï¼Œä¼šå¼•èµ·æ•°æ®ä¸ä¸€è‡´é—®é¢˜ã€‚åº”å½“ä½¿ç”¨Redisç­‰åˆ†å¸ƒå¼ç¼“å­˜ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æµ…è°ˆdjangoçš„è®¾è®¡æ¨¡å¼]]></title>    <link>https://juejin.cn/post/7588093282530607156</link>    <guid>https://juejin.cn/post/7588093282530607156</guid>    <pubDate>2025-12-27T17:06:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588093282530607156" data-draft-id="7588095884070158336" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æµ…è°ˆdjangoçš„è®¾è®¡æ¨¡å¼"/> <meta itemprop="keywords" content="Django"/> <meta itemprop="datePublished" content="2025-12-27T17:06:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ˆé‡Œè°¢é¡¿"/> <meta itemprop="url" content="https://juejin.cn/user/3678304397695056"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æµ…è°ˆdjangoçš„è®¾è®¡æ¨¡å¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3678304397695056/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ˆé‡Œè°¢é¡¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T17:06:24.000Z" title="Sat Dec 27 2025 17:06:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Django ä¹‹æ‰€ä»¥è¢«ç§°ä¸ºâ€œWeb å¼€å‘ä¸­çš„æ•™ç§‘ä¹¦â€ï¼Œå¾ˆå¤§åŸå› åœ¨äºå®ƒæŠŠç»å…¸çš„è®¾è®¡æ¨¡å¼ç”¨å¾—æ—¢å‡†åˆæ·±ã€‚ä¸‹é¢æŒ‰â€œæ¨¡å¼ â†’ Django ä¸­å¯¹åº”ç»„ä»¶ â†’ æºç çº§ä¾‹å­ â†’ ä¸€å¥è¯æ€»ç»“â€å››ä¸ªç»´åº¦ï¼ŒæŠŠæœ€å¸¸ç”¨çš„ 10 ä¸ªè®¾è®¡æ¨¡å¼ä¸€æ¬¡æ¢³ç†å®Œã€‚çœ‹å®Œä½ èƒ½åœ¨ä»£ç é‡Œç›´æ¥æŒ‡å‡ºâ€œè¿™æ®µå°±æ˜¯ xxx æ¨¡å¼â€ã€‚</p>
<hr/>
<ol>
<li>MTVï¼ˆModelâ€“Templateâ€“Viewï¼‰â€”â€”Django çš„â€œMVCâ€
æ¨¡å¼è§’è‰²<br/>
Model â†” æ•°æ®è®¿é—®<br/>
Template â†” è¡¨ç°å±‚<br/>
View â†” ä¸šåŠ¡é€»è¾‘/è·¯ç”±åˆ†å‘</li>
</ol>
<p>æºç å®šä½<br/>
django/db/models/base.pyï¼ˆModelï¼‰<br/>
django/template/response.pyï¼ˆTemplateResponseï¼‰<br/>
django/views/generic/base.pyï¼ˆViewï¼‰</p>
<p>æœ€å°ä¾‹å­</p>
<h2 data-id="heading-0">urls.py</h2>
<p>path('book/<a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">int:pk</a>/', views.BookDetailView.as_view(), name='book_detail')</p>
<h2 data-id="heading-1">views.py</h2>
<p>class BookDetailView(DetailView):
model = Book          # â†’ Model
template_name = 'book/detail.html'  # â†’ Template
# è‡ªå®šä¹‰ä¸šåŠ¡é€»è¾‘
def get_context_data(self, **kwargs):
ctx = super().get_context_data(**kwargs)
ctx['reviews'] = self.object.reviews.select_related('user')
return ctx
ä¸€å¥è¯ï¼šMVC çš„ Django æ–¹è¨€ï¼ŒæŠŠâ€œæ§åˆ¶å™¨â€æ‹†è§£æˆ URLConf + Viewã€‚</p>
<hr/>
<ol start="2">
<li>Front Controllerï¼ˆå‰ç«¯æ§åˆ¶å™¨ï¼‰â€”â€”WSGI å…¥å£ + URLConf
æ•´ä¸ªè¯·æ±‚å…ˆè¢« django/core/handlers/wsgi.py:WSGIHandler æˆªè·ï¼Œå†äº¤ç»™ ROOT_URLCONF å»äºŒæ¬¡åˆ†å‘ï¼Œå…¸å‹ Front Controllerã€‚</li>
</ol>
<p>æºç ç‰‡æ®µ<br/>
class WSGIHandler(base.BaseHandler):
def <strong>call</strong>(self, environ, start_response):
request = self.request_class(environ)
response = self.get_response(request)   # â†’ è¿›å…¥ URL è§£æ
...
ä¸€å¥è¯ï¼šå•ç‚¹å…¥å£ï¼Œé›†ä¸­è·¯ç”±ã€‚</p>
<hr/>
<ol start="3">
<li>Modelâ€“Viewâ€“ViewModelï¼ˆMVVMï¼‰â€”â€”Django Forms
Mode lï¼ˆæ•°æ®åº“å­—æ®µï¼‰ä¸ Viewï¼ˆHTML è¡¨å•ï¼‰å½¢æ€ä¸åŒï¼ŒForms å±‚å……å½“ ViewModelï¼Œè´Ÿè´£æ•°æ®æ ¡éªŒ/è½¬æ¢ã€‚</li>
</ol>
<p>ä¾‹å­<br/>
class RegisterForm(forms.Form):
username = forms.CharField(max_length=150, regex=r'^[\w.@+-]+$')
password = forms.CharField(widget=forms.PasswordInput)
# ä¸¤æ¬¡å¯†ç ä¸€è‡´æ€§é€»è¾‘
def clean_password2(self):
...
ä¸€å¥è¯ï¼šForms = æœåŠ¡ç«¯ ViewModelï¼ŒæŠŠâ€œæ•°æ®åº“è¡¨ç¤ºâ€ä¸â€œé¡µé¢è¡¨ç¤ºâ€è§£è€¦ã€‚</p>
<hr/>
<ol start="4">
<li>Active Recordâ€”â€”Model å³è¡¨ï¼Œå¯¹è±¡å³è¡Œ
æ¯ä¸ªæ¨¡å‹ç±»ç›´æ¥æ˜ å°„ä¸€å¼ è¡¨ï¼Œå®ä¾‹å³ä¸€è¡Œï¼Œå°è£… CRUDã€‚</li>
</ol>
<p>æºç <br/>
django/db/models/base.py:Model.save/delete</p>
<p>ä¾‹å­<br/>
book = Book(title='Clean Code', price=58)
book.save()          # INSERT
book.price = 48
book.save(update_fields=['price'])  # UPDATE
ä¸€å¥è¯ï¼šå¯¹è±¡è‡ªå¸¦æ•°æ®åº“è¡Œä¸ºï¼Œæ•°æ®+æ“ä½œäºŒåˆä¸€ã€‚</p>
<hr/>
<ol start="5">
<li>Manager / QuerySetâ€”â€”Factory + Strategy
objects = Manager å®ä¾‹ï¼Œè¿”å› QuerySetï¼›QuerySet å»¶è¿Ÿæ‰§è¡Œï¼Œå†…éƒ¨ç”¨ç­–ç•¥æ¨¡å¼æ‹¼è£… SQLã€‚</li>
</ol>
<p>æºç <br/>
django/db/models/query.py:QuerySet<br/>
django/db/models/manager.py:Manager</p>
<p>ä¾‹å­<br/>
qs = Book.objects.filter(price__lte=50).select_related('publisher')
qs = qs.exclude(stock=0)          # é“¾å¼ç­–ç•¥
sql = qs.query.<strong>str</strong>()          # åªçœ‹ SQLï¼Œä¸æŸ¥åº“
ä¸€å¥è¯ï¼šManager æ˜¯å·¥å‚ï¼ŒQuerySet æ˜¯ç­–ç•¥é“¾ã€‚</p>
<hr/>
<ol start="6">
<li>Middlewareâ€”â€”èŒè´£é“¾ï¼ˆChain of Responsibilityï¼‰
è¯·æ±‚/å“åº”å¯¹è±¡åœ¨åˆ°è¾¾è§†å›¾å‰è¦ç»è¿‡ä¸€ä¸²ä¸­é—´ä»¶ï¼Œæ¯ä¸ªä¸­é—´ä»¶å¯çŸ­è·¯æˆ–è¿½åŠ åŠŸèƒ½ã€‚</li>
</ol>
<p>æºç <br/>
django/utils/deprecation.py:MiddlewareMixin<br/>
settings.MIDDLEWARE = [
'django.middleware.security.SecurityMiddleware',
'django.contrib.sessions.middleware.SessionMiddleware',
...
]</p>
<p>è‡ªå®šä¹‰ä¾‹å­<br/>
class SimpleCorsMiddleware:
def <strong>init</strong>(self, get_response):
self.get_response = get_response
def <strong>call</strong>(self, request):
response = self.get_response(request)
response['Access-Control-Allow-Origin'] = '*'
return response
ä¸€å¥è¯ï¼šé“¾è¡¨å¼å¤„ç†ï¼Œå¯æ’æ‹”ã€‚</p>
<hr/>
<ol start="7">
<li>Signalsâ€”â€”è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserverï¼‰
æ¨¡å‹ä¿å­˜ã€ç”¨æˆ·ç™»å½•ç­‰äº‹ä»¶å‘å‡ºâ€œä¿¡å·â€ï¼Œå¤šä¸ªæ¥æ”¶è€…è§£è€¦å“åº”ã€‚</li>
</ol>
<p>æºç <br/>
django/dispatch/dispatcher.py:Signal</p>
<p>ä¾‹å­<br/>
from django.db.models.signals import post_save
from django.dispatch import receiver</p>
<p>@receiver(post_save, sender=User)
def create_user_profile(sender, instance, created, **kwargs):
if created:
Profile.objects.create(user=instance)
ä¸€å¥è¯ï¼šå‘å¸ƒ-è®¢é˜…ï¼Œé™ä½æ¨¡å—é—´è€¦åˆã€‚</p>
<hr/>
<ol start="8">
<li>Template Methodâ€”â€”é€šç”¨è§†å›¾éª¨æ¶
django/views/generic/base.py:View.dispatch å®šä¹‰æ‰§è¡Œéª¨æ¶ï¼ˆget/post åˆ†æ”¯ï¼‰ï¼Œå­ç±»åªè¦†å†™â€œå˜ä½“â€æ–¹æ³•ã€‚</li>
</ol>
<p>ä¾‹å­<br/>
class BookCreateView(CreateView):
model = Book
fields = '<strong>all</strong>'
success_url = reverse_lazy('book_list')
# åªè¦†å†™â€œæ¨¡æ¿æ–¹æ³•â€å…è®¸çš„å°é’©å­
def form_valid(self, form):
form.instance.created_by = self.request.user
return super().form_valid(form)
ä¸€å¥è¯ï¼šçˆ¶ç±»æ­æ¡†æ¶ï¼Œå­ç±»å¡«ç»†èŠ‚ã€‚</p>
<hr/>
<ol start="9">
<li>Decoratorâ€”â€”å‡½æ•°è§†å›¾å¢å¼º
django/contrib/auth/decorators.py:login_required<br/>
django/views/decorators/cache.py:cache_page</li>
</ol>
<p>ä¾‹å­<br/>
@login_required
@cache_page(60 * 15)
def dashboard(request):
...
ä¸€å¥è¯ï¼šä¸åŠ¨åŸå‡½æ•°ï¼ŒåŠ¨æ€å åŠ åŠŸèƒ½ã€‚</p>
<hr/>
<ol start="10">
<li>Dependency Injectionâ€”â€”è®¾ç½®å°±æ˜¯â€œå®¹å™¨â€
Django ä¸é ç¡¬ç¼–ç ç±»ï¼Œè€Œæ˜¯æŠŠä¾èµ–æ”¾è¿› settingsï¼š</li>
</ol>
<ul>
<li>æ•°æ®åº“åç«¯ â†’ DATABASES['default']['ENGINE']</li>
<li>è®¤è¯åç«¯ â†’ AUTHENTICATION_BACKENDS</li>
<li>ç¼“å­˜ â†’ CACHES</li>
</ul>
<p>è¿è¡Œæ—¶ç”¨ django/conf/<strong>init</strong>.py:LazySettings åŠ¨æ€å¯¼å…¥ï¼Œç¬¦åˆ DI æ€æƒ³ã€‚</p>
<p>ä¸€å¥è¯ï¼šé…ç½®å³æ³¨å…¥ï¼Œæ›¿æ¢å®ç°æ— éœ€æ”¹ä¸šåŠ¡ä»£ç ã€‚</p>
<hr/>
<p>é€ŸæŸ¥è¡¨ï¼ˆæ”¶è—çº§ï¼‰</p>
<p>MTV / MVC        â†’ ç›®å½•ç»“æ„ä¸€çœ¼çœ‹æ‡‚<br/>
Front Controller â†’ WSGIHandler + urls.py<br/>
MVVM             â†’ Forms/Serializers<br/>
Active Record    â†’ Model.save()<br/>
Factory          â†’ Manager<br/>
Strategy         â†’ QuerySet é“¾å¼è¿‡æ»¤<br/>
Chain            â†’ Middleware<br/>
Observer         â†’ Signals<br/>
Template Method  â†’ generic.View<br/>
Decorator        â†’ @login_required<br/>
DI               â†’ settings.py</p>
<p>æ‰“å¼€ä»»æ„ Django é¡¹ç›®ï¼Œä½ éƒ½èƒ½æŠŠä¸Šè¡¨å¯¹ç…§åˆ°å…·ä½“æ–‡ä»¶ï¼›é¢è¯•æ—¶æŠŠâ€œæ¨¡å¼ + æºç ä½ç½®â€è„±å£è€Œå‡ºï¼Œå°±æ˜¯åŠ åˆ†é¡¹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Ghostty vs Kittyï¼šä¸ºäº†è·‘ Claude Codeï¼Œæˆ‘åšäº†è¿™ä¸ªå†³å®š]]></title>    <link>https://juejin.cn/post/7588098335790579712</link>    <guid>https://juejin.cn/post/7588098335790579712</guid>    <pubDate>2025-12-27T16:09:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588098335790579712" data-draft-id="7588092534162112512" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Ghostty vs Kittyï¼šä¸ºäº†è·‘ Claude Codeï¼Œæˆ‘åšäº†è¿™ä¸ªå†³å®š"/> <meta itemprop="keywords" content="å‘½ä»¤è¡Œ"/> <meta itemprop="datePublished" content="2025-12-27T16:09:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¹Ÿæ— é£é›¨ä¹Ÿé›¾æ™´"/> <meta itemprop="url" content="https://juejin.cn/user/2175258804632332"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Ghostty vs Kittyï¼šä¸ºäº†è·‘ Claude Codeï¼Œæˆ‘åšäº†è¿™ä¸ªå†³å®š
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2175258804632332/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¹Ÿæ— é£é›¨ä¹Ÿé›¾æ™´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T16:09:39.000Z" title="Sat Dec 27 2025 16:09:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç”¨ Ghostty è·‘ Claude Codeï¼ˆccï¼‰çš„æ—¶å€™ï¼Œé‡åˆ°ä¸ªå¤´ç–¼çš„é—®é¢˜ï¼šå†…å­˜çˆ†äº†ã€‚</p>
<p>æˆ‘çš„ä½¿ç”¨ä¹ æƒ¯æ˜¯å¼€å¤šä¸ª Ghostty çª—å£è·‘ ccï¼ŒåŒæ—¶å¤„ç†ä¸åŒçš„ä»»åŠ¡ã€‚å¤§æ¦‚æ¯éš” 2 å¤©ï¼ŒMac å°±ä¼šå¼¹å‡º"å†…å­˜ä¸è¶³"çš„æç¤ºï¼Œç„¶åç³»ç»Ÿå¼€å§‹ä¸€ä¸ªä¸€ä¸ªåœæ­¢æ­£åœ¨è¿è¡Œçš„åº”ç”¨â€”â€”å…ˆæ˜¯æµè§ˆå™¨çš„æ ‡ç­¾é¡µï¼Œç„¶åæ˜¯ VS Codeï¼Œæœ€åè¿ Finder éƒ½å¡æ­»ã€‚æ¯æ¬¡éƒ½å¾—å¼ºåˆ¶é‡å¯ï¼Œæ‰‹å¤´çš„å·¥ä½œå…¨æ–­äº†ã€‚</p>
<p>æœäº†ä¸€åœˆï¼Œå‘ç°ä¸å°‘äººæœ‰<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fghostty-org%2Fghostty%2Fdiscussions%2F9219" target="_blank" title="https://github.com/ghostty-org/ghostty/discussions/9219" ref="nofollow noopener noreferrer">ç±»ä¼¼çš„é—®é¢˜</a>ï¼ŒGhostty 1.2.1 ç‰ˆæœ¬ç¡®å®å­˜åœ¨å†…å­˜æ³„æ¼ï¼Œå®˜æ–¹åœ¨ 1.2.2 ä¿®å¤äº†ä¸€éƒ¨åˆ†ï¼Œä½† TUI åº”ç”¨ï¼ˆæ¯”å¦‚ Claude Code è¿™ç§ï¼‰è·‘ä¹…äº†è¿˜æ˜¯å®¹æ˜“å‡ºé—®é¢˜ã€‚</p>
<p>Ghostty æœ¬èº«æ˜¯ä¸ªå¾ˆæ£’çš„ç»ˆç«¯â€”â€”GPU åŠ é€Ÿã€åŸç”Ÿ macOS ä½“éªŒã€å¼€ç®±å³ç”¨çš„é…è‰²éƒ½å¾ˆèˆ’æœã€‚Mitchell Hashimotoï¼ˆHashiCorp åˆ›å§‹äººï¼‰åšçš„ä¸œè¥¿ï¼Œå“è´¨ç¡®å®æ²¡è¯è¯´ã€‚ä½†å†…å­˜é—®é¢˜å®åœ¨å½±å“æ—¥å¸¸ä½¿ç”¨ï¼Œåªèƒ½æ¢ä¸ªç»ˆç«¯è¯•è¯•ã€‚</p>
<p>é€‰äº† Kittyã€‚åŒæ ·æ˜¯ GPU åŠ é€Ÿï¼Œæ€§èƒ½å£ç¢‘ä¸é”™ï¼Œè€Œä¸”é«˜åº¦å¯é…ç½®ã€‚</p>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆæ˜¯ Kitty</h2>
<p>åœ¨é€‰æ‹©æ›¿ä»£æ–¹æ¡ˆçš„æ—¶å€™ï¼Œå¯¹æ¯”äº†å‡ ä¸ªä¸»æµçš„ GPU åŠ é€Ÿç»ˆç«¯ï¼š</p>





























<table><thead><tr><th>ç»ˆç«¯</th><th>GPU åŠ é€Ÿ</th><th>ç‰¹ç‚¹</th><th>é¡¾è™‘</th></tr></thead><tbody><tr><td>Alacritty</td><td>OpenGL</td><td>æç®€ï¼Œæ€§èƒ½é¡¶çº§</td><td>åŠŸèƒ½å¤ªå°‘ï¼Œæ²¡æœ‰ Tab/åˆ†å±</td></tr><tr><td>WezTerm</td><td>OpenGL</td><td>åŠŸèƒ½ä¸°å¯Œï¼ŒLua é…ç½®</td><td>é…ç½®å¤æ‚ï¼Œå¯åŠ¨ç•¥æ…¢</td></tr><tr><td>Kitty</td><td>OpenGL</td><td>åŠŸèƒ½/æ€§èƒ½å¹³è¡¡ï¼Œé…ç½®ç®€å•</td><td>-</td></tr></tbody></table>
<p>æœ€åé€‰ Kittyï¼Œä¸»è¦çœ‹ä¸­å‡ ç‚¹ï¼š</p>
<ol>
<li>
<p><strong>æ€§èƒ½é è°±</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fsw.kovidgoyal.net%2Fkitty%2Fperformance%2F" target="_blank" title="https://sw.kovidgoyal.net/kitty/performance/" ref="nofollow noopener noreferrer">å®˜æ–¹æ€§èƒ½æµ‹è¯•</a>æ˜¾ç¤ºï¼ŒKitty åœ¨ macOS ä¸Šçš„è¾“å…¥å»¶è¿Ÿå’Œ Terminal.app å¹¶åˆ—æœ€ä½ï¼Œååé‡æµ‹è¯•ä¹Ÿæ˜¯æœ€å¿«çš„ã€‚é€šè¿‡ GPU ç¼“å­˜å­—ç¬¦çš„ alpha mask å¹¶è¡Œæ¸²æŸ“ï¼ŒCPU å ç”¨ä½ã€‚</p>
</li>
<li>
<p><strong>åŠŸèƒ½å¤Ÿç”¨</strong>ï¼šTabã€åˆ†å±ã€å›¾ç‰‡æ˜¾ç¤ºã€è¶…é“¾æ¥ç‚¹å‡»éƒ½æœ‰ï¼Œè¿˜æ”¯æŒè‡ªå·±çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fsw.kovidgoyal.net%2Fkitty%2Fgraphics-protocol%2F" target="_blank" title="https://sw.kovidgoyal.net/kitty/graphics-protocol/" ref="nofollow noopener noreferrer">å›¾å½¢åè®®</a>ã€‚</p>
</li>
<li>
<p><strong>é…ç½®ç®€å•</strong>ï¼šä¸€ä¸ª <code>kitty.conf</code> æ–‡ä»¶æå®šï¼Œä¸åƒ WezTerm éœ€è¦å†™ Luaã€‚</p>
</li>
<li>
<p><strong>ç¨³å®š</strong>ï¼šé¡¹ç›®æˆç†Ÿï¼Œç”¨çš„äººå¤šï¼Œè¸©å‘å°‘ã€‚</p>
</li>
</ol>
<h2 data-id="heading-1">è¿ç§»çš„ç—›ç‚¹</h2>
<p>æ¢è¿‡æ¥ä¹‹åå‘ç°ï¼ŒKitty çš„é»˜è®¤é…ç½®å’Œ Ghostty å·®åˆ«æŒºå¤§çš„ã€‚ç”¨æƒ¯äº† Ghostty çš„ä½“éªŒï¼Œåˆ‡åˆ° Kitty å„ç§ä¸é€‚åº”ã€‚</p>
<p>é€ä¸ªè§£å†³ï¼š</p>
<h3 data-id="heading-2">ç—›ç‚¹ 1ï¼šé¢œè‰²ä¸å¯¹ï¼ŒClaude Code è¾“å‡ºçœ‹ç€åˆ«æ‰­</h3>
<p>ç¬¬ä¸€ä¸ªå‘ç°çš„é—®é¢˜ï¼šClaude Code çš„è¾“å‡ºé¢œè‰²çœ‹èµ·æ¥ä¸å¤ªå¯¹ï¼Œæœ‰äº›æ–‡å­—é¢œè‰²å’Œ Ghostty é‡Œä¸ä¸€æ ·ã€‚</p>
<p>å¯¹æ¯”äº†ä¸€ä¸‹ï¼Œå‘ç°æ˜¯ ANSI é¢œè‰²é…ç½®ä¸åŒã€‚Ghostty ç”¨çš„æ˜¯è‡ªå·±çš„ StyleDark ä¸»é¢˜ï¼ŒKitty é»˜è®¤æ˜¯å¦ä¸€å¥—é…è‰²ã€‚</p>
<p>ç”¨ <code>ghostty +show-config --default</code> å¯ä»¥å¯¼å‡º Ghostty çš„é»˜è®¤é…ç½®ï¼ŒæŠŠé¢œè‰²å€¼æ¬è¿‡æ¥ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Ghostty é»˜è®¤ä¸»é¢˜è‰²</span>
background <span class="hljs-comment">#282c34</span>
foreground <span class="hljs-comment">#ffffff</span>

<span class="hljs-comment"># ANSI é¢œè‰² - å®Œå…¨åŒ¹é… Ghostty</span>
color0  <span class="hljs-comment">#1d1f21</span>
color1  <span class="hljs-comment">#cc6666</span>
color2  <span class="hljs-comment">#b5bd68</span>
color3  <span class="hljs-comment">#f0c674</span>
color4  <span class="hljs-comment">#81a2be</span>
color5  <span class="hljs-comment">#b294bb</span>
color6  <span class="hljs-comment">#8abeb7</span>
color7  <span class="hljs-comment">#c5c8c6</span>
color8  <span class="hljs-comment">#666666</span>
color9  <span class="hljs-comment">#d54e53</span>
color10 <span class="hljs-comment">#b9ca4a</span>
color11 <span class="hljs-comment">#e7c547</span>
color12 <span class="hljs-comment">#7aa6da</span>
color13 <span class="hljs-comment">#c397d8</span>
color14 <span class="hljs-comment">#70c0b1</span>
color15 <span class="hljs-comment">#eaeaea</span>
</code></pre>
<h3 data-id="heading-3">ç—›ç‚¹ 2ï¼šé€‰ä¸­æ–‡å­—ç›´æ¥æ¶ˆå¤±</h3>
<p>é€‰ä¸­ä¸€æ®µæ–‡å­—ï¼Œå‘ç°æ•´å—å˜æˆç™½è‰²ï¼Œå®Œå…¨çœ‹ä¸è§é€‰äº†å•¥ã€‚</p>
<p>åŸå› æ˜¯ Kitty é»˜è®¤çš„é€‰åŒºé¢œè‰²æœ‰é—®é¢˜ã€‚æ”¹æˆ <code>none</code> è®©å®ƒè‡ªåŠ¨å¤„ç†åè‰²ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">selection_background none
selection_foreground none
</code></pre>
<h3 data-id="heading-4">ç—›ç‚¹ 3ï¼šå­—ä½“æ¯” Ghostty ç²—</h3>
<p>åˆ‡è¿‡æ¥æ€»è§‰å¾—å­—ä½“æ¯” Ghostty ç²—ä¸€ç‚¹ï¼Œçœ‹ä¹…äº†çœ¼ç›ç´¯ã€‚</p>
<p>æŸ¥äº†ä¸‹ï¼ŒGhostty é»˜è®¤ <code>font-thicken = false</code>ï¼Œè€Œ Kitty åœ¨ macOS ä¸Šæœ‰å­—ä½“åŠ ç²—æ¸²æŸ“ã€‚ç¦ç”¨æ‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">macos_thicken_font 0
text_composition_strategy platform
</code></pre>
<h3 data-id="heading-5">ç—›ç‚¹ 4ï¼šå¿«æ·é”®å…¨åºŸäº†</h3>
<p>Ghostty é»˜è®¤æ”¯æŒçš„å‡ ä¸ªå¸¸ç”¨å¿«æ·é”®ï¼ŒKitty éƒ½æ²¡æœ‰æˆ–è€…è¡Œä¸ºä¸åŒï¼š</p>



































<table><thead><tr><th>å¿«æ·é”®</th><th>Ghostty</th><th>Kitty é»˜è®¤</th></tr></thead><tbody><tr><td><code>Cmd+T</code></td><td>æ–°å»º Tabï¼Œç»§æ‰¿å½“å‰ç›®å½•</td><td>æ–°å»º Tabï¼Œå›åˆ° home</td></tr><tr><td><code>Cmd+æ•°å­—</code></td><td>åˆ‡æ¢ Tab</td><td>ä¸ç”Ÿæ•ˆ</td></tr><tr><td><code>Cmd+W</code></td><td>å…³é—­ Tab</td><td>ä¸ç”Ÿæ•ˆ</td></tr><tr><td><code>Cmd+D</code></td><td>å‚ç›´åˆ†å±</td><td>ä¸ç”Ÿæ•ˆ</td></tr><tr><td><code>Cmd+K</code></td><td>æ¸…å±</td><td>ä¸ç”Ÿæ•ˆ</td></tr></tbody></table>
<p>æ‰‹åŠ¨é…ç½®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Tab æ“ä½œ</span>
map cmd+t new_tab_with_cwd
map cmd+w close_tab
map cmd+1 goto_tab 1
map cmd+2 goto_tab 2
map cmd+3 goto_tab 3
map cmd+4 goto_tab 4
map cmd+5 goto_tab 5
map cmd+6 goto_tab 6
map cmd+7 goto_tab 7
map cmd+8 goto_tab 8
map cmd+9 goto_tab 9

<span class="hljs-comment"># åˆ†å±</span>
map cmd+d launch --location=vsplit --cwd=current
map cmd+<span class="hljs-built_in">shift</span>+d launch --location=hsplit --cwd=current
map cmd+[ previous_window
map cmd+] next_window

<span class="hljs-comment"># å…¶ä»–</span>
map cmd+k clear_terminal scroll active
map cmd+equal change_font_size all +1.0
map cmd+minus change_font_size all -1.0
map cmd+0 change_font_size all 0
map cmd+, edit_config_file
map cmd+<span class="hljs-built_in">shift</span>+, load_config_file
</code></pre>
<h3 data-id="heading-6">ç—›ç‚¹ 5ï¼šè¡Œä¸ºç»†èŠ‚ä¸ä¸€è‡´</h3>
<p>è¿˜æœ‰ä¸€äº›å°å·®å¼‚è®©äººä¸é€‚åº”ï¼š</p>

























<table><thead><tr><th>åŠŸèƒ½</th><th>Ghostty</th><th>Kitty é»˜è®¤</th></tr></thead><tbody><tr><td>çª—å£å†…è¾¹è·</td><td>2px</td><td>æ›´å¤§</td></tr><tr><td>é€‰ä¸­è‡ªåŠ¨å¤åˆ¶</td><td>å¼€å¯</td><td>å…³é—­</td></tr><tr><td>å…³é—­ç¡®è®¤</td><td>æœ‰</td><td>æ²¡æœ‰</td></tr></tbody></table>
<pre><code class="hljs language-bash" lang="bash">window_padding_width 2
copy_on_select <span class="hljs-built_in">yes</span>
confirm_os_window_close 1
</code></pre>
<h2 data-id="heading-7">å®Œæ•´é…ç½®</h2>
<p>è¿™æ˜¯æˆ‘ä¿®æ”¹é…ç½®åçš„ <code>~/.config/kitty/kitty.conf</code>ï¼Œç›´æ¥å¤åˆ¶å°±èƒ½ç”¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ===== å­—ä½“è®¾ç½® =====</span>
font_family      Menlo
font_size        13.0

<span class="hljs-comment"># ===== çª—å£è®¾ç½® - åŒ¹é… Ghostty =====</span>
window_padding_width 2
macos_titlebar_color background

<span class="hljs-comment"># ===== é¢œè‰² - Ghostty é»˜è®¤ä¸»é¢˜ =====</span>
background <span class="hljs-comment">#282c34</span>
foreground <span class="hljs-comment">#ffffff</span>

<span class="hljs-comment"># å…‰æ ‡</span>
cursor <span class="hljs-comment">#ffffff</span>
cursor_text_color <span class="hljs-comment">#282c34</span>

<span class="hljs-comment"># é€‰åŒº - è‡ªåŠ¨é¢œè‰²</span>
selection_background none
selection_foreground none

<span class="hljs-comment"># ANSI é¢œè‰² - å®Œå…¨åŒ¹é… Ghostty</span>
color0  <span class="hljs-comment">#1d1f21</span>
color1  <span class="hljs-comment">#cc6666</span>
color2  <span class="hljs-comment">#b5bd68</span>
color3  <span class="hljs-comment">#f0c674</span>
color4  <span class="hljs-comment">#81a2be</span>
color5  <span class="hljs-comment">#b294bb</span>
color6  <span class="hljs-comment">#8abeb7</span>
color7  <span class="hljs-comment">#c5c8c6</span>
color8  <span class="hljs-comment">#666666</span>
color9  <span class="hljs-comment">#d54e53</span>
color10 <span class="hljs-comment">#b9ca4a</span>
color11 <span class="hljs-comment">#e7c547</span>
color12 <span class="hljs-comment">#7aa6da</span>
color13 <span class="hljs-comment">#c397d8</span>
color14 <span class="hljs-comment">#70c0b1</span>
color15 <span class="hljs-comment">#eaeaea</span>

<span class="hljs-comment"># ===== è¡Œä¸ºè®¾ç½® =====</span>
<span class="hljs-comment"># é€‰ä¸­è‡ªåŠ¨å¤åˆ¶</span>
copy_on_select <span class="hljs-built_in">yes</span>

<span class="hljs-comment"># å…³é—­ç¡®è®¤</span>
confirm_os_window_close 1

<span class="hljs-comment"># scrollback</span>
scrollback_lines 10000000

<span class="hljs-comment"># ===== macOS ä¼˜åŒ– =====</span>
macos_option_as_alt <span class="hljs-built_in">yes</span>

<span class="hljs-comment"># ===== Tab æ è®¾ç½® =====</span>
tab_bar_edge bottom

<span class="hljs-comment"># ===== å¿«æ·é”® - åŒ¹é… Ghostty =====</span>
<span class="hljs-comment"># Tab æ“ä½œ</span>
map cmd+t new_tab_with_cwd
map cmd+w close_tab
map cmd+1 goto_tab 1
map cmd+2 goto_tab 2
map cmd+3 goto_tab 3
map cmd+4 goto_tab 4
map cmd+5 goto_tab 5
map cmd+6 goto_tab 6
map cmd+7 goto_tab 7
map cmd+8 goto_tab 8
map cmd+9 goto_tab 9

<span class="hljs-comment"># åˆ†å±</span>
map cmd+d launch --location=vsplit --cwd=current
map cmd+<span class="hljs-built_in">shift</span>+d launch --location=hsplit --cwd=current
map cmd+[ previous_window
map cmd+] next_window

<span class="hljs-comment"># æ¸…å±</span>
map cmd+k clear_terminal scroll active

<span class="hljs-comment"># å­—å·è°ƒæ•´</span>
map cmd+equal change_font_size all +1.0
map cmd+minus change_font_size all -1.0
map cmd+0 change_font_size all 0

<span class="hljs-comment"># æ‰“å¼€é…ç½®</span>
map cmd+, edit_config_file

<span class="hljs-comment"># é‡è½½é…ç½®</span>
map cmd+<span class="hljs-built_in">shift</span>+, load_config_file

<span class="hljs-comment"># ===== å­—ä½“æ¸²æŸ“ - åŒ¹é… Ghostty =====</span>
<span class="hljs-comment"># ç¦ç”¨ macOS å­—ä½“åŠ ç²—</span>
macos_thicken_font 0

<span class="hljs-comment"># ä½¿ç”¨å¹³å°åŸç”Ÿæ¸²æŸ“ç­–ç•¥</span>
text_composition_strategy platform
</code></pre>
<h2 data-id="heading-8">æ€§èƒ½å¯¹æ¯”</h2>
<p>å…³äº Ghostty å’Œ Kitty çš„æ€§èƒ½ï¼Œç½‘ä¸Šæœ‰ä¸å°‘è®¨è®ºã€‚ç®€å•æ€»ç»“ï¼š</p>






























<table><thead><tr><th>ç»´åº¦</th><th>Ghostty</th><th>Kitty</th></tr></thead><tbody><tr><td>IO åå</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fghostty-org%2Fghostty%2Fdiscussions%2F4837" target="_blank" title="https://github.com/ghostty-org/ghostty/discussions/4837" ref="nofollow noopener noreferrer">å·ç§°æ¯” Kitty å¿« 4x</a>ï¼ˆçº¯æ–‡æœ¬è¯»å–ï¼‰</td><td>ä¹Ÿå¾ˆå¿«ï¼Œå®é™…ä½“æ„Ÿå·®ä¸å¤š</td></tr><tr><td>è¾“å…¥å»¶è¿Ÿ</td><td>ä¼˜ç§€</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fsw.kovidgoyal.net%2Fkitty%2Fperformance%2F" target="_blank" title="https://sw.kovidgoyal.net/kitty/performance/" ref="nofollow noopener noreferrer">macOS æœ€ä½å»¶è¿Ÿä¹‹ä¸€</a></td></tr><tr><td>æ¸²æŸ“</td><td>Metalï¼ˆmacOS åŸç”Ÿï¼‰</td><td>OpenGL</td></tr><tr><td>å†…å­˜</td><td>TUI åº”ç”¨æœ‰æ³„æ¼é£é™©</td><td>ç¨³å®š</td></tr></tbody></table>
<p>Mitchell Hashimoto è‡ªå·±ä¹Ÿè¯´è¿‡ï¼Œ"åœ¨å¤§å¤šæ•° benchmark é‡Œ Ghostty æ¯” Kitty å¥½ï¼Œä½†å®é™…ä½¿ç”¨ä¸­ï¼ˆæ¯”å¦‚è·‘ Htopã€Helixï¼‰ä½ æ„Ÿè§‰ä¸å‡ºå·®åˆ«"ã€‚</p>
<p>å¯¹æˆ‘æ¥è¯´ï¼Œé€‰ Kitty çš„æ ¸å¿ƒåŸå› å°±ä¸€ä¸ªï¼š<strong>ç¨³å®š</strong>ã€‚è·‘ Claude Code é•¿ä»»åŠ¡ä¸ä¼š OOMï¼Œè¿™æ¯”å¿«é‚£ä¹ˆä¸€ç‚¹ç‚¹é‡è¦å¤šäº†ã€‚</p>
<h2 data-id="heading-9">è¿ç§»åçš„ä½“éªŒ</h2>
<p>ç”¨äº†å‡ å¤©ï¼Œå†…å­˜é—®é¢˜ç¡®å®æ²¡äº†ã€‚Kitty è·‘ Claude Code é•¿æ—¶é—´ä»»åŠ¡ä¹Ÿå¾ˆç¨³å®šï¼Œå†…å­˜å ç”¨ä¿æŒåœ¨åˆç†èŒƒå›´ã€‚</p>
<p>é…ç½®å®Œæˆåï¼Œä½¿ç”¨ä½“éªŒå’Œ Ghostty åŸºæœ¬ä¸€è‡´ï¼š</p>
<ul>
<li>é¢œè‰²ã€å­—ä½“æ¸²æŸ“éƒ½å¯¹ä¸Šäº†</li>
<li>å¿«æ·é”®ä¹ æƒ¯ä¸ç”¨æ”¹</li>
<li>åˆ†å±ã€Tab ç®¡ç†éƒ½æ­£å¸¸</li>
</ul>
<p>å”¯ä¸€çš„é—æ†¾æ˜¯ Ghostty çš„ UI ç¡®å®æ›´å¥½çœ‹ä¸€ç‚¹ï¼ŒåŸç”Ÿ macOS çš„æ„Ÿè§‰æ›´å¼ºã€‚ä½†ç¨³å®šæ€§æ˜¯ç¬¬ä¸€ä½çš„ï¼Œé¢œå€¼å¯ä»¥å¦¥åã€‚</p>
<p>å¦‚æœä½ ä¹Ÿè¢« Ghostty çš„å†…å­˜é—®é¢˜å›°æ‰°ï¼ŒKitty æ˜¯ä¸ªé è°±çš„æ›¿ä»£æ–¹æ¡ˆã€‚å¸Œæœ›è¿™ä»½é…ç½®èƒ½å¸®ä½ å°‘è¸©ç‚¹å‘ã€‚</p>
<hr/>
<p>å¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« æœ‰å¸®åŠ©ï¼Œæ¬¢è¿å…³æ³¨æˆ‘çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i" target="_blank" title="https://github.com/tt-a1i" ref="nofollow noopener noreferrer">GitHub</a>ï¼Œä¸‹é¢æ˜¯æˆ‘çš„ä¸€äº›å¼€æºé¡¹ç›®ï¼š</p>
<p><strong>Claude Code Skills</strong>ï¼ˆæŒ‰éœ€åŠ è½½ï¼Œæ„å›¾è‡ªåŠ¨è¯†åˆ«ï¼Œä¸æµªè´¹ tokenï¼Œ<a href="https://juejin.cn/post/7578714735307735066" target="_blank" title="https://juejin.cn/post/7578714735307735066">ä»‹ç»æ–‡ç« </a>ï¼‰ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fcode-review-skill" target="_blank" title="https://github.com/tt-a1i/code-review-skill" ref="nofollow noopener noreferrer">code-review-skill</a> - ä»£ç å®¡æŸ¥æŠ€èƒ½ï¼Œè¦†ç›– React 19ã€Vue 3ã€TypeScriptã€Rust ç­‰çº¦ 9000 è¡Œè§„åˆ™ï¼ˆ<a href="https://juejin.cn/post/7578709098255908902" target="_blank" title="https://juejin.cn/post/7578709098255908902">è¯¦ç»†ä»‹ç»</a>ï¼‰</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2F5-whys-skill" target="_blank" title="https://github.com/tt-a1i/5-whys-skill" ref="nofollow noopener noreferrer">5-whys-skill</a> - 5 Whys æ ¹å› åˆ†æï¼Œè¯´"æ‰¾æ ¹å› "è‡ªåŠ¨æ¿€æ´»</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Ffirst-principles-skill" target="_blank" title="https://github.com/tt-a1i/first-principles-skill" ref="nofollow noopener noreferrer">first-principles-skill</a> - ç¬¬ä¸€æ€§åŸç†æ€è€ƒï¼Œé€‚åˆæ¶æ„è®¾è®¡å’ŒæŠ€æœ¯é€‰å‹</li>
</ul>
<p><strong>å…¨æ ˆé¡¹ç›®</strong>ï¼ˆé€‚åˆå­¦ä¹ ç°ä»£æŠ€æœ¯æ ˆï¼‰ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fprompt-vault" target="_blank" title="https://github.com/tt-a1i/prompt-vault" ref="nofollow noopener noreferrer">prompt-vault</a> - Prompt ç®¡ç†å™¨ï¼Œç”¨çš„éƒ½æ˜¯æœ€æ–°çš„æŠ€æœ¯æ ˆï¼Œé€‚åˆç”¨æ¥å­¦ä¹ äº†è§£æœ€æ–°çš„å‰ç«¯å…¨æ ˆå¼€å‘èŒƒå¼ï¼šNext.js 15 + React 19 + tRPC 11 + Supabase å…¨æ ˆç¤ºä¾‹ï¼Œclone ä¸‹æ¥é…ä¸ªå…è´¹ Supabase å°±èƒ½è·‘</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fchat_edit" target="_blank" title="https://github.com/tt-a1i/chat_edit" ref="nofollow noopener noreferrer">chat_edit</a> - åŒæ¨¡å¼ AI åº”ç”¨ï¼ˆèŠå¤©+å¯Œæ–‡æœ¬ç¼–è¾‘ï¼‰ï¼ŒVue 3.5 + TypeScript + Vite 5 + Quill 2.0 + IndexedDB</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»äººå·¥ç›®æ£€åˆ° AI è´¨æ£€-YOLOv8 é©±åŠ¨çš„ PCB ç¼ºé™·æ£€æµ‹ç³»ç»Ÿã€å®Œæ•´æºç ã€‘]]></title>    <link>https://juejin.cn/post/7588152122186924086</link>    <guid>https://juejin.cn/post/7588152122186924086</guid>    <pubDate>2025-12-27T16:11:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588152122186924086" data-draft-id="7588191506606227462" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»äººå·¥ç›®æ£€åˆ° AI è´¨æ£€-YOLOv8 é©±åŠ¨çš„ PCB ç¼ºé™·æ£€æµ‹ç³»ç»Ÿã€å®Œæ•´æºç ã€‘"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-27T16:11:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æˆ‘æ˜¯æ°å°¼"/> <meta itemprop="url" content="https://juejin.cn/user/4200579899599495"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»äººå·¥ç›®æ£€åˆ° AI è´¨æ£€-YOLOv8 é©±åŠ¨çš„ PCB ç¼ºé™·æ£€æµ‹ç³»ç»Ÿã€å®Œæ•´æºç ã€‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4200579899599495/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æˆ‘æ˜¯æ°å°¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T16:11:02.000Z" title="Sat Dec 27 2025 16:11:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»äººå·¥ç›®æ£€åˆ° AI è´¨æ£€-YOLOv8 é©±åŠ¨çš„ PCB ç¼ºé™·æ£€æµ‹ç³»ç»Ÿã€å®Œæ•´æºç ã€‘</h2>
<hr/>
<h3 data-id="heading-1">ä¸€ã€é¡¹ç›®èƒŒæ™¯ä¸ç ”ç©¶æ„ä¹‰</h3>
<p>åœ¨ç”µå­åˆ¶é€ é¢†åŸŸï¼Œ<strong>PCBï¼ˆPrinted Circuit Boardï¼Œå°åˆ¶ç”µè·¯æ¿ï¼‰ç¼ºé™·æ£€æµ‹</strong>æ˜¯ä¿éšœäº§å“è´¨é‡çš„æ ¸å¿ƒç¯èŠ‚ä¹‹ä¸€ã€‚ä¼ ç»Ÿçš„äººå·¥ç›®æ£€æˆ–è§„åˆ™ç®—æ³•å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li>âŒ <strong>æ•ˆç‡ä½</strong>ï¼šäººå·¥æ£€æµ‹éš¾ä»¥æ»¡è¶³å¤§è§„æ¨¡æµæ°´çº¿éœ€æ±‚</li>
<li>âŒ <strong>ä¸€è‡´æ€§å·®</strong>ï¼šä¸åŒæ£€æµ‹äººå‘˜ç»éªŒå·®å¼‚æ˜æ˜¾</li>
<li>âŒ <strong>è§„åˆ™æ³›åŒ–èƒ½åŠ›å¼±</strong>ï¼šä¼ ç»Ÿå›¾åƒç®—æ³•éš¾ä»¥åº”å¯¹å¤æ‚ç¼ºé™·å½¢æ€</li>
<li>âŒ <strong>è‡ªåŠ¨åŒ–ç¨‹åº¦ä½</strong>ï¼šéš¾ä»¥ä¸ç°ä»£å·¥ä¸šç³»ç»Ÿæ·±åº¦é›†æˆ</li>
</ul>
<p>éšç€æ·±åº¦å­¦ä¹ å’Œè®¡ç®—æœºè§†è§‰æŠ€æœ¯çš„å‘å±•ï¼Œ<strong>åŸºäºç›®æ ‡æ£€æµ‹æ¨¡å‹çš„ PCB ç¼ºé™·è‡ªåŠ¨è¯†åˆ«æ–¹æ¡ˆ</strong>é€æ¸æˆä¸ºå·¥ä¸šè§†è§‰çš„ä¸»æµæ–¹å‘ã€‚</p>
<p>æœ¬é¡¹ç›®åŸºäº <strong>Ultralytics YOLOv8</strong> æ„å»ºäº†ä¸€å¥—å®Œæ•´çš„ PCB ç¼ºé™·æ£€æµ‹ç³»ç»Ÿï¼Œå¹¶é€šè¿‡ <strong>PyQt5 æ¡Œé¢ç•Œé¢</strong> å®ç°â€œéç®—æ³•äººå‘˜ä¹Ÿèƒ½ç›´æ¥ä½¿ç”¨â€çš„å·¥ä¸šçº§åº”ç”¨å½¢æ€ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bfa13c88c39b46849233121f118276bf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767456661&amp;x-signature=pa4j4s%2FxUTlMmAVMdbU59Juw8x0%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-2">æºç ä¸‹è½½ä¸æ•ˆæœæ¼”ç¤º</h3>
<p>å“”å“©å“”å“©è§†é¢‘ä¸‹æ–¹è§‚çœ‹ï¼š
<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1tiTLzbEfr" target="_blank" title="https://www.bilibili.com/video/BV1tiTLzbEfr" ref="nofollow noopener noreferrer">www.bilibili.com/video/BV1tiâ€¦</a></p>
<p>åŒ…å«ï¼š</p>
<p>ğŸ“¦å®Œæ•´é¡¹ç›®æºç </p>
<p>ğŸ“¦ é¢„è®­ç»ƒæ¨¡å‹æƒé‡</p>
<p>ğŸ—‚ï¸ æ•°æ®é›†åœ°å€ï¼ˆå«æ ‡æ³¨è„šæœ¬</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d8021cbd57e94765a2553e0cd15daf0b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767456661&amp;x-signature=xhlytzOPG5UM%2FaLtsXO3pIGiApA%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-3">äºŒã€ç³»ç»Ÿæ•´ä½“æ¶æ„è®¾è®¡</h3>
<h4 data-id="heading-4">2.1 æŠ€æœ¯é€‰å‹è¯´æ˜</h4>



































<table><thead><tr><th>æ¨¡å—</th><th>æŠ€æœ¯é€‰å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>æ£€æµ‹æ¨¡å‹</td><td>YOLOv8</td><td>Anchor-Freeï¼Œé«˜ç²¾åº¦ï¼Œé«˜é€Ÿåº¦</td></tr><tr><td>æ·±åº¦å­¦ä¹ æ¡†æ¶</td><td>PyTorch</td><td>çµæ´»ã€ç¤¾åŒºæˆç†Ÿ</td></tr><tr><td>GUI ç•Œé¢</td><td>PyQt5</td><td>è·¨å¹³å°ã€æ¡Œé¢çº§åº”ç”¨</td></tr><tr><td>å›¾åƒå¤„ç†</td><td>OpenCV</td><td>è§†é¢‘æµä¸å›¾åƒè¯»å†™</td></tr><tr><td>æ•°æ®æ ¼å¼</td><td>YOLO æ ‡å‡†</td><td>é€šç”¨ã€æ˜“æ‰©å±•</td></tr></tbody></table>
<hr/>
<h4 data-id="heading-5">2.2 ç³»ç»ŸåŠŸèƒ½æ¨¡å—åˆ’åˆ†</h4>
<p>æ•´ä½“ç³»ç»Ÿé‡‡ç”¨ <strong>â€œæ¨¡å‹å±‚ + æ¨ç†å±‚ + åº”ç”¨å±‚â€</strong> ä¸‰å±‚ç»“æ„ï¼š</p>
<pre><code class="hljs">â”œâ”€â”€ æ•°æ®å±‚
â”‚   â”œâ”€â”€ PCB å›¾åƒæ•°æ®é›†
â”‚   â”œâ”€â”€ YOLO æ ‡æ³¨æ–‡ä»¶
â”‚
â”œâ”€â”€ æ¨¡å‹å±‚
â”‚   â”œâ”€â”€ YOLOv8 ç½‘ç»œç»“æ„
â”‚   â”œâ”€â”€ è®­ç»ƒè„šæœ¬
â”‚   â”œâ”€â”€ æƒé‡æ–‡ä»¶
â”‚
â”œâ”€â”€ æ¨ç†å±‚
â”‚   â”œâ”€â”€ å›¾ç‰‡æ£€æµ‹
â”‚   â”œâ”€â”€ æ‰¹é‡æ£€æµ‹
â”‚   â”œâ”€â”€ è§†é¢‘æ£€æµ‹
â”‚   â”œâ”€â”€ æ‘„åƒå¤´æ£€æµ‹
â”‚
â”œâ”€â”€ åº”ç”¨å±‚
â”‚   â”œâ”€â”€ PyQt5 ä¸»ç•Œé¢
â”‚   â”œâ”€â”€ å‚æ•°é…ç½®
â”‚   â”œâ”€â”€ ç»“æœå¯è§†åŒ–
â”‚   â””â”€â”€ æ–‡ä»¶ä¿å­˜ç®¡ç†
</code></pre>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9a33255ad6de4aafaf897158feb28197~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767456661&amp;x-signature=qyQptAnO8PIcsiOikSZbf3fh%2FQ4%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-6">ä¸‰ã€PCB ç¼ºé™·ç±»å‹å®šä¹‰ä¸æ•°æ®é›†æ„å»º</h3>
<h4 data-id="heading-7">3.1 ç¼ºé™·ç±»åˆ«è¯´æ˜</h4>
<p>æœ¬é¡¹ç›®é’ˆå¯¹å¸¸è§ PCB å·¥ä¸šç¼ºé™·ï¼Œå®šä¹‰äº† 6 å¤§ç±»ç›®æ ‡ï¼š</p>








































<table><thead><tr><th>ç±»åˆ«</th><th>ä¸­æ–‡åç§°</th><th>å·¥ä¸šå«ä¹‰</th></tr></thead><tbody><tr><td>missing_hole</td><td>ç¼ºå­”</td><td>é’»å­”ç¼ºå¤±</td></tr><tr><td>mouse_bite</td><td>é¼ å’¬ç¼ºå£</td><td>æ¿è¾¹æŸå</td></tr><tr><td>open_circuit</td><td>å¼€è·¯</td><td>çº¿è·¯æ–­è£‚</td></tr><tr><td>short</td><td>çŸ­è·¯</td><td>çº¿è·¯ç²˜è¿</td></tr><tr><td>spur</td><td>é£çº¿</td><td>å¤šä½™é‡‘å±çº¿</td></tr><tr><td>spurious_copper</td><td>æ‚é“œ</td><td>éé¢„æœŸé“œæ®‹ç•™</td></tr></tbody></table>
<p>è¿™äº›ç¼ºé™·åœ¨å®é™…ç”Ÿäº§ä¸­å¯¹ PCB åŠŸèƒ½å¯é æ€§å½±å“æå¤§ï¼Œå…·æœ‰æ˜ç¡®çš„æ£€æµ‹ä»·å€¼ã€‚</p>
<hr/>
<h4 data-id="heading-8">3.2 æ•°æ®é›†ç»„ç»‡ç»“æ„</h4>
<p>é‡‡ç”¨ YOLO å®˜æ–¹æ¨èæ ¼å¼ï¼š</p>
<pre><code class="hljs language-text" lang="text">dataset/
â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ train/
â”‚   â””â”€â”€ val/
â”œâ”€â”€ labels/
â”‚   â”œâ”€â”€ train/
â”‚   â””â”€â”€ val/
</code></pre>
<p>å•æ¡æ ‡æ³¨ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-text" lang="text">4 0.5096 0.3528 0.3947 0.3182
</code></pre>
<p>å«ä¹‰ä¸ºï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">[class_id, x_center, y_center, width, height]
</code></pre>
<blockquote>
<p>åæ ‡å‡ä¸º <strong>å½’ä¸€åŒ–æ¯”ä¾‹å€¼</strong>ï¼Œä¸åˆ†è¾¨ç‡æ— å…³ï¼Œåˆ©äºæ¨¡å‹æ³›åŒ–ã€‚</p>
</blockquote>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c6639b9fe8f840208b54dd355f5a82a9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767456661&amp;x-signature=Zh4BpXWnJVLLtsIqxNdXI509CZs%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ff3b9e572e954d249869e1bb8c2f8bf5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767456661&amp;x-signature=Vtg8j5IVCtYQxWcIxH4Iv6ksde0%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-9">å››ã€YOLOv8 æ¨¡å‹åŸç†ä¸å·¥ç¨‹ä¼˜åŠ¿</h3>
<h4 data-id="heading-10">4.1 YOLOv8 æ ¸å¿ƒæ”¹è¿›ç‚¹</h4>
<p>ç›¸æ¯” YOLOv5 / YOLOv7ï¼ŒYOLOv8 å…·å¤‡ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p>
<ul>
<li>ğŸš€ <strong>Anchor-Free æ¶æ„</strong>ï¼šå‡å°‘è¶…å‚æ•°è®¾è®¡</li>
<li>ğŸ¯ <strong>TaskAlignedAssigner</strong>ï¼šæ­£è´Ÿæ ·æœ¬åˆ†é…æ›´åˆç†</li>
<li>ğŸ“‰ <strong>CIoU + DFL Loss</strong>ï¼šå®šä½ç²¾åº¦æ›´é«˜</li>
<li>âš¡ <strong>æ¨ç†é€Ÿåº¦æ›´å¿«</strong>ï¼šé€‚åˆå®æ—¶å·¥ä¸šæ£€æµ‹</li>
</ul>
<p>YOLOv8 ç½‘ç»œç»“æ„æ•´ä½“åˆ†ä¸ºï¼š</p>
<ul>
<li><strong>Backbone</strong>ï¼šç‰¹å¾æå–</li>
<li><strong>Neck</strong>ï¼šFPN + PAN èåˆ</li>
<li><strong>Head</strong>ï¼šç›®æ ‡åˆ†ç±»ä¸å›å½’</li>
</ul>
<hr/>
<h4 data-id="heading-11">4.2 å·¥ä¸šç¼ºé™·æ£€æµ‹çš„é€‚é…æ€§åˆ†æ</h4>
<p>PCB ç¼ºé™·æ£€æµ‹å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ul>
<li>å°ç›®æ ‡å¯†é›†</li>
<li>çº¹ç†å¤æ‚</li>
<li>å¯¹è¯¯æ£€å®¹å¿åº¦ä½</li>
</ul>
<p>YOLOv8 åœ¨ <strong>å°ç›®æ ‡æ£€æµ‹èƒ½åŠ› + å®æ—¶æ€§</strong> ä¸Šè¡¨ç°å°¤ä¸ºçªå‡ºï¼Œéå¸¸é€‚åˆè¯¥ç±»å·¥ä¸šåœºæ™¯ã€‚</p>
<hr/>
<h3 data-id="heading-12">äº”ã€æ¨¡å‹è®­ç»ƒæµç¨‹ä¸å‚æ•°é…ç½®</h3>
<h4 data-id="heading-13">5.1 è®­ç»ƒå‘½ä»¤ç¤ºä¾‹</h4>
<pre><code class="hljs language-bash" lang="bash">yolo detect train \
  data=pcb.yaml \
  model=yolov8n.pt \
  epochs=100 \
  batch=16 \
  imgsz=640 \
  lr0=0.001
</code></pre>
<p>å…³é”®å‚æ•°è¯´æ˜ï¼š</p>
<ul>
<li><code>epochs</code>ï¼šè®­ç»ƒè½®æ¬¡</li>
<li><code>batch</code>ï¼šæ‰¹å¤§å°</li>
<li><code>imgsz</code>ï¼šè¾“å…¥å°ºå¯¸</li>
<li><code>lr0</code>ï¼šåˆå§‹å­¦ä¹ ç‡</li>
</ul>
<hr/>
<h4 data-id="heading-14">5.2 è®­ç»ƒç»“æœè¯„ä¼°æŒ‡æ ‡</h4>
<p>è®­ç»ƒå®Œæˆåç”Ÿæˆä»¥ä¸‹å…³é”®æ–‡ä»¶ï¼š</p>
<ul>
<li><code>results.png</code>ï¼šLoss / mAP æ›²çº¿</li>
<li><code>confusion_matrix.png</code>ï¼šç±»åˆ«æ··æ·†åˆ†æ</li>
<li><code>weights/best.pt</code>ï¼šæœ€ä¼˜æƒé‡</li>
</ul>
<p>å½“ <strong>mAP@0.5 â‰¥ 90%</strong> æ—¶ï¼Œå³å…·å¤‡å·¥ç¨‹éƒ¨ç½²ä»·å€¼ã€‚</p>
<hr/>
<h3 data-id="heading-15">å…­ã€æ¨¡å‹æ¨ç†ä¸ç»“æœè§£æ</h3>
<h4 data-id="heading-16">6.1 Python æ¨ç†ç¤ºä¾‹ä»£ç </h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> ultralytics <span class="hljs-keyword">import</span> YOLO

model = YOLO(<span class="hljs-string">"best.pt"</span>)
results = model(<span class="hljs-string">"test.jpg"</span>, conf=<span class="hljs-number">0.25</span>, save=<span class="hljs-literal">True</span>)

<span class="hljs-keyword">for</span> box <span class="hljs-keyword">in</span> results[<span class="hljs-number">0</span>].boxes:
    cls = <span class="hljs-built_in">int</span>(box.cls)
    conf = <span class="hljs-built_in">float</span>(box.conf)
    <span class="hljs-built_in">print</span>(cls, conf)
</code></pre>
<p>è¾“å‡ºä¿¡æ¯åŒ…å«ï¼š</p>
<ul>
<li>ç¼ºé™·ç±»åˆ«</li>
<li>ç½®ä¿¡åº¦</li>
<li>è¾¹æ¡†åæ ‡</li>
</ul>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fcd7a3d234d346739a4d990fb8cc71c3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767456661&amp;x-signature=Y8L4y%2BmDE4swRV8s8r3P12VBj8s%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-17">6.2 æ£€æµ‹ç»“æœå¯è§†åŒ–</h4>
<p>ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆå¸¦æœ‰ <strong>ç±»åˆ« + ç½®ä¿¡åº¦ + è¾¹æ¡†</strong> çš„ç»“æœå›¾åƒï¼Œä¾¿äºäººå·¥å¤æ ¸å’Œè´¨é‡è¿½æº¯ã€‚</p>
<hr/>
<h3 data-id="heading-18">ä¸ƒã€PyQt5 æ¡Œé¢åº”ç”¨ç³»ç»Ÿè®¾è®¡</h3>
<h4 data-id="heading-19">7.1 GUI åŠŸèƒ½æ¦‚è§ˆ</h4>
<p>æ¡Œé¢ç³»ç»Ÿæ”¯æŒï¼š</p>
<ul>
<li>ğŸ“· å•å›¾ç‰‡æ£€æµ‹</li>
<li>ğŸ“ æ–‡ä»¶å¤¹æ‰¹é‡æ£€æµ‹</li>
<li>ğŸ¥ è§†é¢‘æ£€æµ‹</li>
<li>ğŸ“¡ æ‘„åƒå¤´å®æ—¶æ£€æµ‹</li>
</ul>
<p>ç•Œé¢ä¸ç®—æ³•è§£è€¦ï¼Œç”¨æˆ·æ— éœ€ç†è§£æ·±åº¦å­¦ä¹ å³å¯å®Œæˆæ£€æµ‹ã€‚</p>
<hr/>
<h4 data-id="heading-20">7.2 ä¸»ç¨‹åºè¿è¡Œæ–¹å¼</h4>
<pre><code class="hljs language-bash" lang="bash">python main.py
</code></pre>
<p>ç³»ç»Ÿå°†è‡ªåŠ¨åŠ è½½æ¨¡å‹æƒé‡å¹¶è¿›å…¥ä¸»ç•Œé¢ã€‚</p>
<hr/>
<h3 data-id="heading-21">å…«ã€å·¥ç¨‹è½åœ°ä»·å€¼åˆ†æ</h3>
<h4 data-id="heading-22">8.1 é€‚ç”¨åœºæ™¯</h4>
<ul>
<li>PCB ç”Ÿäº§çº¿è‡ªåŠ¨è´¨æ£€</li>
<li>å·¥ä¸šè§†è§‰æ•™å­¦å®éªŒ</li>
<li>è®¡ç®—æœºè§†è§‰æ¯•ä¸šè®¾è®¡</li>
<li>ä¼ä¸šåŸå‹ç³»ç»ŸéªŒè¯</li>
</ul>
<hr/>
<h4 data-id="heading-23">8.2 é¡¹ç›®ä¼˜åŠ¿æ€»ç»“</h4>
<ul>
<li>âœ… <strong>ä» 0 åˆ° 1 çš„å®Œæ•´å·¥ç¨‹é—­ç¯</strong></li>
<li>âœ… <strong>æ¨¡å‹ + GUI + æ•°æ®é›† ä¸€ä½“åŒ–</strong></li>
<li>âœ… <strong>é«˜å¯å¤ç°æ€§ä¸å¯æ‰©å±•æ€§</strong></li>
<li>âœ… <strong>é€‚åˆç§‘ç ”ä¸å·¥ä¸šåŒåœºæ™¯</strong></li>
</ul>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1fb312c27f2446958d99c93879d2b81d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767456661&amp;x-signature=vS7x3fYG2%2BcaqmOIdhL78feE52M%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-24">ä¹ã€å¯æ‹“å±•æ–¹å‘ä¸æœªæ¥ä¼˜åŒ–</h3>
<ol>
<li>
<p><strong>æ¨¡å‹è½»é‡åŒ–</strong></p>
<ul>
<li>ONNX / TensorRT</li>
<li>Jetson / è¾¹ç¼˜ç«¯éƒ¨ç½²</li>
</ul>
</li>
<li>
<p><strong>ç¼ºé™·ç»Ÿè®¡ä¸æŠ¥è¡¨</strong></p>
<ul>
<li>è‡ªåŠ¨ç”Ÿæˆ CSV / Excel</li>
<li>è´¨é‡è¶‹åŠ¿åˆ†æ</li>
</ul>
</li>
<li>
<p><strong>å¤šæ¨¡å‹å¯¹æ¯”</strong></p>
<ul>
<li>YOLOv8 vs RT-DETR</li>
<li>Transformer-based Detector</li>
</ul>
</li>
<li>
<p><strong>å·¥ä¸šç³»ç»Ÿå¯¹æ¥</strong></p>
<ul>
<li>MES / PLC æ¥å£</li>
<li>Web å¯è§†åŒ–å¹³å°</li>
</ul>
</li>
</ol>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a6aa48b86a86467889f066ea0adbc8ce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767456661&amp;x-signature=g06qDfNDLFDi0Dx%2FP%2B%2FTMAEU7NY%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-25">åã€ç»“è¯­</h3>
<p>æœ¬é¡¹ç›®ä¸ä»…æ˜¯ä¸€ä¸ª <strong>YOLOv8 ç›®æ ‡æ£€æµ‹ç¤ºä¾‹</strong>ï¼Œæ›´æ˜¯ä¸€å¥—<strong>çœŸæ­£å¯ç”¨äºå·¥ä¸šåœºæ™¯çš„ PCB ç¼ºé™·æ£€æµ‹è§£å†³æ–¹æ¡ˆ</strong>ã€‚
é€šè¿‡æ¨¡å‹è®­ç»ƒã€æ¨ç†å°è£…ä¸æ¡Œé¢åº”ç”¨æ•´åˆï¼Œå®ç°äº†ä»ç®—æ³•åˆ°å·¥ç¨‹çš„å®Œæ•´è½åœ°è·¯å¾„ã€‚</p>
<blockquote>
<p><strong>å¦‚æœä½ æ­£åœ¨åšè®¡ç®—æœºè§†è§‰é¡¹ç›® / å·¥ä¸šè§†è§‰ç³»ç»Ÿ / æ¯•ä¸šè®¾è®¡ï¼Œè¿™å¥—æ–¹æ¡ˆå¯ä»¥ç›´æ¥ä½œä¸ºæ¨¡æ¿ä½¿ç”¨ã€‚</strong></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäºæ·±åº¦å­¦ä¹ çš„æ²³é“åƒåœ¾æ£€æµ‹ç³»ç»Ÿè®¾è®¡ï¼ˆYOLOv8ï¼‰]]></title>    <link>https://juejin.cn/post/7588300640598966278</link>    <guid>https://juejin.cn/post/7588300640598966278</guid>    <pubDate>2025-12-27T16:18:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588300640598966278" data-draft-id="7588149079417307190" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäºæ·±åº¦å­¦ä¹ çš„æ²³é“åƒåœ¾æ£€æµ‹ç³»ç»Ÿè®¾è®¡ï¼ˆYOLOv8ï¼‰"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-27T16:18:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æˆ‘æ˜¯æ°å°¼"/> <meta itemprop="url" content="https://juejin.cn/user/4200579899599495"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäºæ·±åº¦å­¦ä¹ çš„æ²³é“åƒåœ¾æ£€æµ‹ç³»ç»Ÿè®¾è®¡ï¼ˆYOLOv8ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4200579899599495/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æˆ‘æ˜¯æ°å°¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T16:18:14.000Z" title="Sat Dec 27 2025 16:18:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åŸºäºæ·±åº¦å­¦ä¹ çš„æ²³é“åƒåœ¾æ£€æµ‹ç³»ç»Ÿè®¾è®¡ï¼ˆYOLOv8ï¼‰</h2>
<hr/>
<h3 data-id="heading-1">ä¸€ã€ç ”ç©¶èƒŒæ™¯ï¼šAI å¦‚ä½•å‚ä¸æ²³é“ç¯å¢ƒæ²»ç†ï¼Ÿ</h3>
<p>éšç€åŸå¸‚åŒ–è¿›ç¨‹åŠ å¿«ï¼Œ<strong>æ²³é“ã€æ¹–æ³Šã€æ°´åº“ç­‰æ°´ä½“ä¸­çš„å¡‘æ–™åƒåœ¾é—®é¢˜æ—¥ç›Šä¸¥å³»</strong>ã€‚å…¶ä¸­ï¼Œå¡‘æ–™ç“¶å› ä½“ç§¯æ˜æ˜¾ã€æ•°é‡åºå¤§ã€éš¾ä»¥è‡ªç„¶é™è§£ï¼Œå·²æˆä¸ºæ°´ç¯å¢ƒæ±¡æŸ“æ²»ç†ä¸­çš„é‡ç‚¹å¯¹è±¡ã€‚</p>
<p>ä¼ ç»Ÿæ²³é“åƒåœ¾ç›‘æµ‹æ–¹å¼ä¸»è¦å­˜åœ¨ä»¥ä¸‹ç—›ç‚¹ï¼š</p>
<ul>
<li>âŒ <strong>äººå·¥å·¡æŸ¥æˆæœ¬é«˜ã€æ•ˆç‡ä½</strong></li>
<li>âŒ <strong>ç›‘æµ‹ç»“æœä¸»è§‚æ€§å¼ºï¼Œéš¾ä»¥é‡åŒ–</strong></li>
<li>âŒ <strong>æ— æ³•å®ç°å®æ—¶ã€è¿ç»­ç›‘æ§</strong></li>
<li>âŒ <strong>éš¾ä»¥å½¢æˆæ•°æ®é—­ç¯æ”¯æ’‘å†³ç­–</strong></li>
</ul>
<p>åœ¨æ­¤èƒŒæ™¯ä¸‹ï¼Œ<strong>åŸºäºæ·±åº¦å­¦ä¹ çš„ç›®æ ‡æ£€æµ‹æŠ€æœ¯</strong>ä¸ºæ²³é“åƒåœ¾è‡ªåŠ¨è¯†åˆ«æä¾›äº†æ–°çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>æœ¬é¡¹ç›®ä»¥ <strong>YOLOv8 ç›®æ ‡æ£€æµ‹æ¨¡å‹</strong> ä¸ºæ ¸å¿ƒï¼Œæ„å»ºäº†ä¸€å¥— <strong>æ²³é“å¡‘æ–™ç“¶æ™ºèƒ½è¯†åˆ«ç³»ç»Ÿ</strong>ï¼Œå¹¶é€šè¿‡ <strong>PyQt5 æ¡Œé¢ç«¯åº”ç”¨</strong> å®ç°å·¥ç¨‹çº§è½åœ°ï¼ŒçœŸæ­£åšåˆ°ï¼š</p>
<blockquote>
<p><strong>â€œæ¨¡å‹å¯è®­ç»ƒã€ç³»ç»Ÿå¯è¿è¡Œã€ç»“æœå¯å±•ç¤ºã€å·¥ç¨‹å¯å¤ç°â€</strong>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/41b7a88e3f0449309189e0d0ab9c4227~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767457093&amp;x-signature=PKfe6xbFDoyyTRRfmQ2JHeIPG6U%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
</blockquote>
<hr/>
<h3 data-id="heading-2">æºç ä¸‹è½½ä¸æ•ˆæœæ¼”ç¤º</h3>
<p>å“”å“©å“”å“©è§†é¢‘ä¸‹æ–¹è§‚çœ‹ï¼š
<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1unTXzNESm" target="_blank" title="https://www.bilibili.com/video/BV1unTXzNESm" ref="nofollow noopener noreferrer">www.bilibili.com/video/BV1unâ€¦</a></p>
<p>åŒ…å«ï¼š</p>
<p>ğŸ“¦å®Œæ•´é¡¹ç›®æºç </p>
<p>ğŸ“¦ é¢„è®­ç»ƒæ¨¡å‹æƒé‡</p>
<p>ğŸ—‚ï¸ æ•°æ®é›†åœ°å€ï¼ˆå«æ ‡æ³¨è„šæœ¬</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/00248fb4d5c74b39a680cec5ca95709d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767457093&amp;x-signature=ensVZMfT6kEb9qFikAg%2BA8QdzRk%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-3">äºŒã€ç³»ç»Ÿæ€»ä½“æ–¹æ¡ˆè®¾è®¡</h3>
<h4 data-id="heading-4">2.1 æŠ€æœ¯è·¯çº¿æ¦‚è§ˆ</h4>
<p>æœ¬ç³»ç»Ÿé‡‡ç”¨ç»å…¸ä½†æˆç†Ÿçš„ AI å·¥ç¨‹æŠ€æœ¯æ ˆï¼š</p>





























<table><thead><tr><th>æ¨¡å—</th><th>æŠ€æœ¯</th></tr></thead><tbody><tr><td>ç›®æ ‡æ£€æµ‹</td><td>YOLOv8ï¼ˆUltralyticsï¼‰</td></tr><tr><td>æ·±åº¦å­¦ä¹ æ¡†æ¶</td><td>PyTorch</td></tr><tr><td>å›¾åƒ/è§†é¢‘å¤„ç†</td><td>OpenCV</td></tr><tr><td>å›¾å½¢ç•Œé¢</td><td>PyQt5</td></tr><tr><td>åº”ç”¨å½¢æ€</td><td>æ¡Œé¢çº§æ™ºèƒ½æ£€æµ‹ç³»ç»Ÿ</td></tr></tbody></table>
<p>æ•´ä½“æµç¨‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">å›¾åƒ / è§†é¢‘ / æ‘„åƒå¤´
<span class="hljs-code">        â†“
   YOLOv8 æ¨ç†æ¨¡å‹
        â†“
  å¡‘æ–™ç“¶ç›®æ ‡æ£€æµ‹ç»“æœ
        â†“
 PyQt5 ç•Œé¢å®æ—¶å±•ç¤º
        â†“
  ç»“æœä¿å­˜ / æ•°æ®åˆ†æ
</span></code></pre>
<hr/>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c6c52a153ecf44af9c62cbfcae17c61f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767457093&amp;x-signature=XGJ%2Bby1JiibN%2Bq20MYguLrFpj5U%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-5">2.2 åŠŸèƒ½æ¨¡å—åˆ’åˆ†</h4>
<p>ç³»ç»ŸæŒ‰åŠŸèƒ½å¯æ‹†åˆ†ä¸ºäº”å¤§æ ¸å¿ƒæ¨¡å—ï¼š</p>
<ol>
<li>
<p><strong>æ•°æ®å±‚</strong></p>
<ul>
<li>æ²³é“åœºæ™¯å¡‘æ–™ç“¶æ•°æ®é›†</li>
<li>YOLO æ ‡å‡†æ ‡æ³¨æ–‡ä»¶</li>
</ul>
</li>
<li>
<p><strong>æ¨¡å‹å±‚</strong></p>
<ul>
<li>YOLOv8 ç½‘ç»œç»“æ„</li>
<li>è®­ç»ƒè„šæœ¬ä¸æƒé‡æ–‡ä»¶</li>
</ul>
</li>
<li>
<p><strong>æ¨ç†å±‚</strong></p>
<ul>
<li>å•å›¾æ£€æµ‹</li>
<li>æ‰¹é‡å›¾ç‰‡æ£€æµ‹</li>
<li>è§†é¢‘æµæ£€æµ‹</li>
<li>æ‘„åƒå¤´å®æ—¶æ£€æµ‹</li>
</ul>
</li>
<li>
<p><strong>ç•Œé¢å±‚</strong></p>
<ul>
<li>PyQt5 ä¸»ç•Œé¢</li>
<li>å‚æ•°é…ç½®é¢æ¿</li>
<li>æ£€æµ‹ç»“æœæ˜¾ç¤ºåŒº</li>
</ul>
</li>
<li>
<p><strong>è¾“å‡ºå±‚</strong></p>
<ul>
<li>æ£€æµ‹å›¾ç‰‡/è§†é¢‘ä¿å­˜</li>
<li>åç»­ç»Ÿè®¡åˆ†ææ¥å£</li>
</ul>
</li>
</ol>
<hr/>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ac98591c91c9401fab72faf0d048e1e4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767457093&amp;x-signature=%2B5cA2Vdp86vXMAxjX5V0akw7djw%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-6">ä¸‰ã€æ•°æ®é›†æ„å»ºä¸ç¼ºé™·ç›®æ ‡å®šä¹‰</h3>
<h4 data-id="heading-7">3.1 æ£€æµ‹ç›®æ ‡è¯´æ˜</h4>
<p>æœ¬é¡¹ç›®å½“å‰èšç„¦ <strong>å•ä¸€æ ¸å¿ƒç›®æ ‡</strong>ï¼š</p>
<pre><code class="hljs language-text" lang="text">bottleï¼ˆå¡‘æ–™ç“¶ï¼‰
</code></pre>
<p>é€‰æ‹©å•ç±»ç›®æ ‡çš„åŸå› ï¼š</p>
<ul>
<li>å¡‘æ–™ç“¶åœ¨æ²³é“åƒåœ¾ä¸­å æ¯”é«˜</li>
<li>å½¢æ€ç‰¹å¾æ˜æ˜¾ï¼Œé€‚åˆæ¨¡å‹å¿«é€Ÿæ”¶æ•›</li>
<li>æ˜“æ‰©å±•ä¸ºå¤šç±»åƒåœ¾æ£€æµ‹ï¼ˆå¦‚å¡‘æ–™è¢‹ã€æ³¡æ²«ç­‰ï¼‰</li>
</ul>
<hr/>
<h4 data-id="heading-8">3.2 æ•°æ®é›†ç»“æ„è®¾è®¡</h4>
<p>é‡‡ç”¨ YOLO å®˜æ–¹æ¨èæ ¼å¼ï¼Œä¿è¯ä¸è®­ç»ƒè„šæœ¬æ— ç¼å…¼å®¹ï¼š</p>
<pre><code class="hljs language-text" lang="text">dataset/
â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ train/
â”‚   â””â”€â”€ val/
â”œâ”€â”€ labels/
â”‚   â”œâ”€â”€ train/
â”‚   â””â”€â”€ val/
</code></pre>
<p>æ ‡æ³¨æ–‡ä»¶ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-text" lang="text">0 0.5123 0.3681 0.2845 0.4176
</code></pre>
<p>è¯´æ˜ï¼š</p>
<ul>
<li><code>0</code>ï¼šå¡‘æ–™ç“¶ç±»åˆ« ID</li>
<li>åå››é¡¹ï¼šç›®æ ‡åœ¨å›¾åƒä¸­çš„å½’ä¸€åŒ–åæ ‡</li>
</ul>
<hr/>
<h4 data-id="heading-9">3.3 æ•°æ®é›†ç‰¹ç‚¹åˆ†æ</h4>
<p>æ²³é“åœºæ™¯ç›¸æ¯”å¸¸è§„ç›®æ ‡æ£€æµ‹æ›´å…·æŒ‘æˆ˜ï¼š</p>
<ul>
<li>ğŸŒŠ æ°´é¢åå…‰ä¸¥é‡</li>
<li>ğŸŒ¿ èƒŒæ™¯æ‚ä¹±ï¼ˆæ¤è¢«ã€æ¼‚æµ®ç‰©ï¼‰</li>
<li>ğŸ“ å¡‘æ–™ç“¶å°ºåº¦å˜åŒ–å¤§</li>
<li>ğŸ“¸ æ‹æ‘„è§’åº¦å¤æ‚ï¼ˆä¿¯è§†ã€è¿œæ™¯ï¼‰</li>
</ul>
<p>è¿™äº›å› ç´ å¯¹æ¨¡å‹çš„<strong>é²æ£’æ€§å’Œæ³›åŒ–èƒ½åŠ›</strong>æå‡ºäº†æ›´é«˜è¦æ±‚ã€‚</p>
<hr/>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e07790295d742c3be80983cb4971191~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767457093&amp;x-signature=0UQ1yKx3svBdgdK6H86wnTmWXPU%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-10">å››ã€YOLOv8 æ¨¡å‹åŸç†ä¸é€‚é…åˆ†æ</h3>
<h4 data-id="heading-11">4.1 YOLOv8 æ ¸å¿ƒä¼˜åŠ¿</h4>
<p>YOLOv8 æ˜¯ Ultralytics æ¨å‡ºçš„æ–°ä¸€ä»£ç›®æ ‡æ£€æµ‹æ¨¡å‹ï¼Œä¸»è¦ä¼˜åŠ¿åŒ…æ‹¬ï¼š</p>
<ul>
<li>âœ… <strong>Anchor-Free æ¶æ„</strong>ï¼šå‡å°‘å…ˆéªŒä¾èµ–</li>
<li>âœ… <strong>TaskAlignedAssigner</strong>ï¼šæ›´åˆç†çš„æ­£æ ·æœ¬åŒ¹é…</li>
<li>âœ… <strong>é«˜æ¨ç†é€Ÿåº¦</strong>ï¼šé€‚åˆå®æ—¶åœºæ™¯</li>
<li>âœ… <strong>æ”¯æŒå¤šä»»åŠ¡æ‰©å±•</strong>ï¼šæ£€æµ‹ / åˆ†å‰² / åˆ†ç±»</li>
</ul>
<p>å¯¹äºæ²³é“åƒåœ¾æ£€æµ‹è¿™ç§ <strong>å®æ—¶ + æˆ·å¤–å¤æ‚åœºæ™¯</strong> ä»»åŠ¡ï¼ŒYOLOv8 éå¸¸é€‚åˆã€‚</p>
<hr/>
<h4 data-id="heading-12">4.2 ç¯ä¿åœºæ™¯ä¸‹çš„æ¨¡å‹é€‚é…</h4>
<p>åœ¨å®é™…å·¥ç¨‹ä¸­ï¼ŒYOLOv8 çš„ä¼˜åŠ¿ä½“ç°åœ¨ï¼š</p>
<ul>
<li>å¯¹å°ç›®æ ‡ï¼ˆè¿œæ™¯å¡‘æ–™ç“¶ï¼‰è¯†åˆ«èƒ½åŠ›å¼º</li>
<li>åœ¨å¤æ‚èƒŒæ™¯ä¸‹è¯¯æ£€ç‡ä½</li>
<li>æ¨¡å‹è½»é‡ï¼Œä¾¿äºåç»­è¾¹ç¼˜ç«¯éƒ¨ç½²</li>
</ul>
<hr/>
<h3 data-id="heading-13">äº”ã€æ¨¡å‹è®­ç»ƒæµç¨‹ä¸è¯„ä¼°æ–¹æ³•</h3>
<h4 data-id="heading-14">5.1 è®­ç»ƒå‘½ä»¤ç¤ºä¾‹</h4>
<pre><code class="hljs language-bash" lang="bash">yolo detect train \
  data=river.yaml \
  model=yolov8n.pt \
  epochs=100 \
  batch=16 \
  imgsz=640 \
  lr0=0.001
</code></pre>
<p>æ ¸å¿ƒå‚æ•°è§£é‡Šï¼š</p>
<ul>
<li><code>epochs</code>ï¼šè®­ç»ƒè½®æ¬¡ï¼Œæ§åˆ¶æ”¶æ•›ç¨‹åº¦</li>
<li><code>batch</code>ï¼šæ˜¾å­˜ä¸è®­ç»ƒç¨³å®šæ€§çš„å¹³è¡¡</li>
<li><code>imgsz</code>ï¼šè¾“å…¥å°ºå¯¸ï¼Œå½±å“å°ç›®æ ‡æ£€æµ‹èƒ½åŠ›</li>
</ul>
<hr/>
<h4 data-id="heading-15">5.2 è®­ç»ƒç»“æœè¯„ä¼°æŒ‡æ ‡</h4>
<p>è®­ç»ƒç»“æŸåä¸»è¦å…³æ³¨ï¼š</p>
<ul>
<li><strong>mAP@0.5</strong></li>
<li><strong>Loss æ›²çº¿æ”¶æ•›æƒ…å†µ</strong></li>
<li><strong>è¯¯æ£€ä¸æ¼æ£€æ ·æœ¬åˆ†æ</strong></li>
</ul>
<p>ç»éªŒä¸Šï¼š</p>
<blockquote>
<p>å½“ mAP@0.5 â‰¥ 90%ï¼Œæ¨¡å‹å·²å…·å¤‡å®é™…éƒ¨ç½²ä»·å€¼ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-16">å…­ã€æ¨¡å‹æ¨ç†ä¸ç»“æœè§£æ</h3>
<h4 data-id="heading-17">6.1 Python æ¨ç†ç¤ºä¾‹</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> ultralytics <span class="hljs-keyword">import</span> YOLO

model = YOLO(<span class="hljs-string">"best.pt"</span>)
results = model(<span class="hljs-string">"river.jpg"</span>, conf=<span class="hljs-number">0.25</span>, save=<span class="hljs-literal">True</span>)

<span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> results:
    <span class="hljs-keyword">for</span> box <span class="hljs-keyword">in</span> r.boxes:
        <span class="hljs-built_in">print</span>(box.cls, box.conf)
</code></pre>
<p>æ¨¡å‹è¾“å‡ºåŒ…æ‹¬ï¼š</p>
<ul>
<li>ç±»åˆ« ID</li>
<li>ç½®ä¿¡åº¦</li>
<li>è¾¹æ¡†åæ ‡</li>
</ul>
<hr/>
<h4 data-id="heading-18">6.2 ç»“æœå¯è§†åŒ–æ•ˆæœ</h4>
<p>ç³»ç»Ÿè‡ªåŠ¨è¾“å‡º <strong>å¸¦æ£€æµ‹æ¡†ä¸ç½®ä¿¡åº¦æ ‡ç­¾çš„å›¾åƒ/è§†é¢‘</strong>ï¼Œä¾¿äºï¼š</p>
<ul>
<li>äººå·¥å¤æ ¸</li>
<li>æ•°æ®ç•™å­˜</li>
<li>åç»­ç»Ÿè®¡åˆ†æ</li>
</ul>
<hr/>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/288cd3636d49426793f0e9b7b64e91f4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767457093&amp;x-signature=6Cm2JES6NuOqrLmvq4rux5Wn%2Fr4%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-19">ä¸ƒã€PyQt5 æ¡Œé¢ç³»ç»Ÿè®¾è®¡ä¸é›†æˆ</h3>
<h4 data-id="heading-20">7.1 ç•Œé¢åŠŸèƒ½æ¦‚è§ˆ</h4>
<p>PyQt5 æ¡Œé¢ç«¯æä¾›å®Œæ•´çš„ç”¨æˆ·æ“ä½œé—­ç¯ï¼š</p>
<ul>
<li>ğŸ“· å›¾ç‰‡æ£€æµ‹</li>
<li>ğŸ“ æ–‡ä»¶å¤¹æ‰¹é‡æ£€æµ‹</li>
<li>ğŸ¥ è§†é¢‘æ£€æµ‹</li>
<li>ğŸ“¡ æ‘„åƒå¤´å®æ—¶è¯†åˆ«</li>
<li>ğŸ’¾ ç»“æœä¿å­˜å¼€å…³</li>
</ul>
<p><strong>ç”¨æˆ·æ— éœ€ç¼–å†™ä»»ä½•ä»£ç å³å¯ä½¿ç”¨æ¨¡å‹èƒ½åŠ›ã€‚</strong></p>
<hr/>
<h4 data-id="heading-21">7.2 ç¨‹åºè¿è¡Œæ–¹å¼</h4>
<pre><code class="hljs language-bash" lang="bash">python main.py
</code></pre>
<p>ç³»ç»Ÿå¯åŠ¨åè‡ªåŠ¨åŠ è½½æ¨¡å‹æƒé‡ï¼Œè¿›å…¥æ£€æµ‹ç•Œé¢ã€‚</p>
<hr/>
<h3 data-id="heading-22">å…«ã€å·¥ç¨‹åº”ç”¨ä»·å€¼åˆ†æ</h3>
<h4 data-id="heading-23">8.1 å…¸å‹åº”ç”¨åœºæ™¯</h4>
<ul>
<li>æ²³é“å·¡æ£€æ— äººå€¼å®ˆç›‘æµ‹</li>
<li>ç¯ä¿éƒ¨é—¨è¾…åŠ©å†³ç­–</li>
<li>AI+ç¯ä¿ç§‘ç ”å®éªŒ</li>
<li>è®¡ç®—æœºè§†è§‰æ¯•ä¸šè®¾è®¡</li>
</ul>
<hr/>
<h4 data-id="heading-24">8.2 é¡¹ç›®æ ¸å¿ƒä¼˜åŠ¿æ€»ç»“</h4>
<ul>
<li>âœ… <strong>å®Œæ•´å·¥ç¨‹é—­ç¯</strong></li>
<li>âœ… <strong>æ¨¡å‹ + ç•Œé¢ä¸€ä½“åŒ–</strong></li>
<li>âœ… <strong>é«˜å¤ç°æ€§ï¼Œä½ä½¿ç”¨é—¨æ§›</strong></li>
<li>âœ… <strong>å…·å¤‡çœŸå®ç¯ä¿åº”ç”¨ä»·å€¼</strong></li>
</ul>
<hr/>
<h3 data-id="heading-25">ä¹ã€æœªæ¥å¯æ‹“å±•æ–¹å‘</h3>
<ol>
<li>
<p><strong>å¤šç±»åƒåœ¾è¯†åˆ«</strong></p>
<ul>
<li>å¡‘æ–™è¢‹ / æ³¡æ²« / æ˜“æ‹‰ç½</li>
</ul>
</li>
<li>
<p><strong>è¾¹ç¼˜è®¾å¤‡éƒ¨ç½²</strong></p>
<ul>
<li>Jetson / æ ‘è“æ´¾</li>
</ul>
</li>
<li>
<p><strong>ç»Ÿè®¡åˆ†ææ¨¡å—</strong></p>
<ul>
<li>åƒåœ¾æ•°é‡è¶‹åŠ¿åˆ†æ</li>
</ul>
</li>
<li>
<p><strong>æ— äººæœº + AI è”åŠ¨</strong></p>
<ul>
<li>ç©ºä¸­å·¡æ£€æ²³é“åƒåœ¾</li>
</ul>
</li>
</ol>
<hr/>
<h3 data-id="heading-26">åã€ç»“è¯­</h3>
<p>æœ¬é¡¹ç›®ä¸ä»…æ˜¯ä¸€ä¸ª <strong>YOLOv8 ç›®æ ‡æ£€æµ‹å®æˆ˜æ¡ˆä¾‹</strong>ï¼Œæ›´æ˜¯ä¸€å¥— <strong>å¯ç›´æ¥æœåŠ¡äºç¯ä¿åœºæ™¯çš„æ™ºèƒ½è¯†åˆ«ç³»ç»ŸåŸå‹</strong>ã€‚</p>
<p>å®ƒè¯æ˜äº†ï¼š
<strong>AI ä¸åªæ˜¯å®éªŒå®¤é‡Œçš„æ¨¡å‹ï¼Œä¹Ÿå¯ä»¥æˆä¸ºæ”¹å–„ç°å®ç¯å¢ƒçš„æŠ€æœ¯åŠ›é‡ã€‚</strong></p>
<blockquote>
<p>å¦‚æœä½ æ­£åœ¨å¯»æ‰¾ä¸€ä¸ª <strong>AI + ç¯ä¿ + å·¥ç¨‹è½åœ°</strong> çš„å®Œæ•´é¡¹ç›®ï¼Œè¿™ä¸ªç³»ç»Ÿå¯ä»¥ç›´æ¥ä½œä¸ºä½ çš„èµ·ç‚¹ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»â€œå•æœºâ€åˆ°â€œåˆ†å¸ƒå¼â€åˆ°â€œé›†ç¾¤â€ï¼ŒæœåŠ¡ç»å†äº†ä»€ä¹ˆï¼Ÿ]]></title>    <link>https://juejin.cn/post/7588092534162145280</link>    <guid>https://juejin.cn/post/7588092534162145280</guid>    <pubDate>2025-12-27T16:32:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588092534162145280" data-draft-id="7588093282530525236" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»â€œå•æœºâ€åˆ°â€œåˆ†å¸ƒå¼â€åˆ°â€œé›†ç¾¤â€ï¼ŒæœåŠ¡ç»å†äº†ä»€ä¹ˆï¼Ÿ"/> <meta itemprop="keywords" content="è®¾è®¡"/> <meta itemprop="datePublished" content="2025-12-27T16:32:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ˆé‡Œè°¢é¡¿"/> <meta itemprop="url" content="https://juejin.cn/user/3678304397695056"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»â€œå•æœºâ€åˆ°â€œåˆ†å¸ƒå¼â€åˆ°â€œé›†ç¾¤â€ï¼ŒæœåŠ¡ç»å†äº†ä»€ä¹ˆï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3678304397695056/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ˆé‡Œè°¢é¡¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T16:32:07.000Z" title="Sat Dec 27 2025 16:32:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ã€ä¸‡å­—é•¿æ–‡Â·å›¾è§£ã€‘<br/>
ä»â€œå•æœºâ€åˆ°â€œåˆ†å¸ƒå¼â€åˆ°â€œé›†ç¾¤â€â€”â€”ä¸€æ¬¡è®²é€ä¸¤è€…çš„åŒºåˆ«ã€è”ç³»ã€è½åœ°åœºæ™¯ä¸å¸¸è§æ¶æ„</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€å…ˆæ”¾ä¸€å¼ è„‘å›¾</h2>
<pre><code class="hljs language-markdown" lang="markdown">å•æœºï¼ˆone boxï¼‰â”€â”€â”€â”€â”¬â”€â”€&gt; é›†ç¾¤ï¼ˆClusterï¼‰ï¼šå¤šå°æœºå™¨å¹²<span class="hljs-strong">**åŒä¸€ä»¶äº‹**</span>ï¼ˆæ¨ªå‘å¤åˆ¶ï¼‰
<span class="hljs-code">                â””â”€â”€&gt; åˆ†å¸ƒå¼ï¼ˆDistributedï¼‰ï¼šå¤šå°æœºå™¨å¹²**ä¸åŒçš„äº‹**ï¼ˆæ¨ªå‘æ‹†åˆ†ï¼‰
</span></code></pre>
<p>å…³é”®è¯</p>
<ul>
<li><strong>é›†ç¾¤</strong> = <strong>äººå¤šåŠ›é‡å¤§</strong>ï¼ˆé‡ï¼‰</li>
<li><strong>åˆ†å¸ƒå¼</strong> = <strong>ä¸“äººå¹²ä¸“äº‹</strong>ï¼ˆåˆ†å·¥ï¼‰</li>
<li>ç°å®ä¸­å¾€å¾€â€œ<strong>åˆ†å¸ƒå¼ + é›†ç¾¤</strong>â€æ··åˆå‡ºç°ï¼ˆæ—¢æ‹†åˆ†åˆå¤åˆ¶ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-1">äºŒã€é›†ç¾¤ï¼ˆClusterï¼‰è¯¦è§£</h2>
<h3 data-id="heading-2">1. å®šä¹‰</h3>
<blockquote>
<p>å¤šå°ç‰©ç†/è™šæ‹ŸèŠ‚ç‚¹<strong>ç»„æˆä¸€ä¸ªé€»è¾‘æ•´ä½“</strong>ï¼Œå¯¹å¤–æä¾›<strong>åŒä¸€ç§æœåŠ¡</strong>ï¼Œé€šè¿‡å¤åˆ¶æé«˜<strong>å¹¶å‘é‡</strong>ä¸<strong>å¯ç”¨æ€§</strong>ã€‚</p>
</blockquote>
<h3 data-id="heading-3">2. æ ¸å¿ƒç›®æ ‡</h3>
<ul>
<li>Scale-Outï¼ˆæ¨ªå‘æ‰©å±•ï¼‰</li>
<li>High-Availabilityï¼ˆæ•…éšœè½¬ç§»ï¼‰</li>
<li>Load-Sharingï¼ˆè´Ÿè½½å‡è¡¡ï¼‰</li>
</ul>
<h3 data-id="heading-4">3. åˆ†ç±»é€Ÿè®°</h3>






























<table><thead><tr><th>ç±»å‹</th><th>è¯´æ˜</th><th>äº§å“æ¡ˆä¾‹</th></tr></thead><tbody><tr><td>é«˜å¯ç”¨é›†ç¾¤ HA</td><td>ä¸»å¤‡åˆ‡æ¢ï¼Œ<strong>A æŒ‚äº† B ç«‹åˆ»é¡¶</strong></td><td>MySQL MGRã€Redis Sentinelã€Keepalived</td></tr><tr><td>è´Ÿè½½å‡è¡¡é›†ç¾¤ LB</td><td>å¤šå°åŒæ—¶åœ¨çº¿ï¼Œ<strong>æµé‡åˆ†æ‘Š</strong></td><td>Nginxã€LVSã€HAProxyã€AWS ELB</td></tr><tr><td>è®¡ç®—é›†ç¾¤ HPC</td><td>å¹¶è¡Œè®¡ç®—ï¼Œ<strong>CPU åŠ ä¸€èµ·ç®—</strong></td><td>Slurmã€Kubernetes Job</td></tr><tr><td>å­˜å‚¨é›†ç¾¤</td><td>å¤šç£ç›˜æ‹¼æˆç»Ÿä¸€å­˜å‚¨</td><td>Cephã€GlusterFSã€HDFS</td></tr></tbody></table>
<h3 data-id="heading-5">4. ç»å…¸æ¶æ„å›¾ï¼ˆä»¥ Web å±‚ä¸ºä¾‹ï¼‰</h3>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-code">        â”Œâ”€â”€â”€&gt; èŠ‚ç‚¹ 1ï¼ˆNginxï¼‰
LBâ”€â”€â”¤   â”œâ”€â”€â”€&gt; èŠ‚ç‚¹ 2ï¼ˆNginxï¼‰   å¯¹å¤– VIP ç»Ÿä¸€å…¥å£
        â””â”€â”€â”€&gt; èŠ‚ç‚¹ 3ï¼ˆNginxï¼‰
</span></code></pre>
<ul>
<li>æ‰€æœ‰èŠ‚ç‚¹<strong>è·‘åŒä¸€å¥—ä»£ç </strong>ï¼›</li>
<li>ä¼šè¯åŒæ­¥ï¼ˆç²˜æ€§ä¼šè¯æˆ– Redisï¼‰ï¼›</li>
<li>å¥åº·æ£€æŸ¥å¤±è´¥å³å‰”é™¤ã€‚</li>
</ul>
<h3 data-id="heading-6">5. ä¼˜ç¼ºç‚¹</h3>
<p>âœ… ç®€å•ï¼šä»£ç é›¶æ”¹é€ <br/>
âœ… çº¿æ€§æ‰©å®¹ï¼šåŠ æœºå™¨å°±æå‡ QPS<br/>
âŒ å•ç‚¹æ•°æ®ä»åœ¨å•æœºï¼ˆä¾‹å¦‚ MySQL ä¸»åº“ï¼‰ï¼Œ<strong>é›†ç¾¤ â‰  æ•°æ®åˆ†å¸ƒå¼</strong></p>
<hr/>
<h2 data-id="heading-7">ä¸‰ã€åˆ†å¸ƒå¼ï¼ˆDistributedï¼‰è¯¦è§£</h2>
<h3 data-id="heading-8">1. å®šä¹‰</h3>
<blockquote>
<p>æŠŠ<strong>åŸæœ¬å•æœºå†…ä¸åŒåŠŸèƒ½</strong>æˆ–<strong>åŒä¸€åŠŸèƒ½çš„ä¸åŒæ•°æ®</strong>æ‹†åˆ°å¤šå°èŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹ä¹‹é—´<strong>é€šè¿‡ç½‘ç»œåä½œ</strong>ï¼Œå¯¹å¤–è¡¨ç°ä¸º<strong>ä¸€ä¸ªç³»ç»Ÿ</strong>ã€‚</p>
</blockquote>
<h3 data-id="heading-9">2. æ ¸å¿ƒç›®æ ‡</h3>
<ul>
<li><strong>æ‹†åˆ†</strong>ï¼ˆæ•°æ®/åŠŸèƒ½/è®¡ç®—ï¼‰</li>
<li><strong>è‡ªæ²»</strong>ï¼ˆå±€éƒ¨æ•…éšœä¸å½±å“å…¨å±€ï¼‰</li>
<li><strong>æœ€ç»ˆä¸€è‡´æ€§</strong>ï¼ˆCAP æƒè¡¡ï¼‰</li>
</ul>
<h3 data-id="heading-10">3. æ‹†åˆ†ç»´åº¦</h3>






























<table><thead><tr><th>ç»´åº¦</th><th>æ¡ˆä¾‹</th><th>äº§å“</th></tr></thead><tbody><tr><td>ä¸šåŠ¡åŠŸèƒ½</td><td>è®¢å•æœåŠ¡ã€ç”¨æˆ·æœåŠ¡ã€åº“å­˜æœåŠ¡<strong>ç‹¬ç«‹è¿›ç¨‹</strong></td><td>å¾®æœåŠ¡</td></tr><tr><td>æ•°æ®</td><td>æŒ‰ç”¨æˆ· ID å–æ¨¡æ‹†æˆ 32 åº“ 1024 è¡¨</td><td>åˆ†åº“åˆ†è¡¨ã€ShardingSphere</td></tr><tr><td>è®¡ç®—</td><td>Map èŠ‚ç‚¹ + Reduce èŠ‚ç‚¹å„å¹²å„çš„</td><td>Hadoop MapReduce</td></tr><tr><td>æ—¶ç©º</td><td>åŒä¸€ä»»åŠ¡æµæ°´çº¿ Stage1â†’Stage2</td><td>Flink æµå¤„ç†</td></tr></tbody></table>
<h3 data-id="heading-11">4. ç»å…¸æ¶æ„å›¾ï¼ˆå¾®æœåŠ¡ + åˆ†åº“åˆ†è¡¨ï¼‰</h3>
<pre><code class="hljs language-markdown" lang="markdown">API ç½‘å…³ â”€â”¬â”€&gt; è®¢å•æœåŠ¡ â”€â”€&gt; è®¢å•åº“ï¼ˆåˆ†ç‰‡ 0-31ï¼‰
<span class="hljs-code">          â”œâ”€&gt; ç”¨æˆ·æœåŠ¡ â”€â”€&gt; ç”¨æˆ·åº“
          â””â”€&gt; åº“å­˜æœåŠ¡ â”€â”€&gt; åº“å­˜åº“ï¼ˆåˆ†ç‰‡ 0-15ï¼‰
</span></code></pre>
<ul>
<li>æ¯ä¸ªæœåŠ¡<strong>ä»£ç ä¸åŒ</strong>ã€<strong>æ•°æ®ä¸åŒ</strong>ï¼›</li>
<li>èŠ‚ç‚¹å¤±è´¥åªå½±å“å±€éƒ¨ï¼›</li>
<li>éœ€è¦åˆ†å¸ƒå¼äº‹åŠ¡/æ¶ˆæ¯æœ€ç»ˆä¸€è‡´æ€§ã€‚</li>
</ul>
<h3 data-id="heading-12">5. ä¼˜ç¼ºç‚¹</h3>
<p>âœ… çªç ´å•æœºå®¹é‡ä¸Šé™ï¼ˆæ•°æ®ã€è®¡ç®—ï¼‰<br/>
âœ… ç‹¬ç«‹å‘å¸ƒã€å¼¹æ€§ä¼¸ç¼©<br/>
âŒ å¤æ‚ï¼šè¿œç¨‹è°ƒç”¨ã€å¹‚ç­‰ã€åˆ†å¸ƒå¼äº‹åŠ¡ã€è„‘è£‚ã€ç½‘ç»œåˆ†åŒº<br/>
âŒ å»¶è¿Ÿæ¯”æœ¬åœ°é«˜ 1~2 ä¸ªæ•°é‡çº§</p>
<hr/>
<h2 data-id="heading-13">å››ã€é›†ç¾¤ vs åˆ†å¸ƒå¼â€”â€”ä¸€å¥è¯å¯¹æ¯”</h2>








































<table><thead><tr><th>ç»´åº¦</th><th>é›†ç¾¤</th><th>åˆ†å¸ƒå¼</th></tr></thead><tbody><tr><td><strong>å•å…ƒå…³ç³»</strong></td><td>åŒæ„èŠ‚ç‚¹ï¼ˆé•œåƒï¼‰</td><td>å¼‚æ„èŠ‚ç‚¹ï¼ˆåˆ†å·¥ï¼‰</td></tr><tr><td><strong>é€æ˜æ€§</strong></td><td>å¯¹å®¢æˆ·ç«¯å‡ ä¹é€æ˜</td><td>éœ€è¦æœåŠ¡å‘ç°ã€ç½‘å…³</td></tr><tr><td><strong>æ‰©å±•ç›®æ ‡</strong></td><td>æå‡<strong>ååé‡</strong>&amp;<strong>å¯ç”¨æ€§</strong></td><td>æå‡<strong>å®¹é‡</strong>&amp;<strong>å¯ç»´æŠ¤æ€§</strong></td></tr><tr><td><strong>æ•…éšœèŒƒå›´</strong></td><td>èŠ‚ç‚¹çº§å†—ä½™ï¼Œæ•°æ®ä»å¯èƒ½å•ç‚¹</td><td>å±€éƒ¨æ•…éšœï¼Œæ•°æ®/è®¡ç®—å·²æ‹†åˆ†</td></tr><tr><td><strong>ä»£ç æ”¹é€ </strong></td><td>é›¶/å°‘é‡</td><td>å¿…é¡»ï¼ˆæ¥å£ã€æ•°æ®è·¯ç”±ã€å®¹é”™ï¼‰</td></tr><tr><td><strong>CAP ä¾§é‡</strong></td><td>ä¾§é‡ <strong>AP</strong>ï¼ˆé«˜å¯ç”¨ï¼‰</td><td>å¿…é¡»é¢å¯¹ <strong>CP/AP é€‰æ‹©</strong></td></tr></tbody></table>
<hr/>
<h2 data-id="heading-14">äº”ã€ä¸ºä»€ä¹ˆæ€»æŠŠä¸¤è€…æ··ç”¨ï¼Ÿ</h2>
<blockquote>
<p>â€œåˆ†å¸ƒå¼â€é‡Œæ¯ä¸ªå­æœåŠ¡æœ¬èº«åˆå¯ä»¥æ˜¯â€œé›†ç¾¤â€â€”â€”<strong>æ—¢åˆ†å·¥åˆå¤åˆ¶</strong>ã€‚</p>
</blockquote>
<p><strong>ç”µå•†è®¢å•æ¶æ„ç¤ºä¾‹</strong></p>
<pre><code class="hljs">è®¢å•æœåŠ¡ï¼ˆé›†ç¾¤ 3 å‰¯æœ¬ï¼‰â”€â”€&gt; è®¢å•è¡¨ï¼ˆåˆ†ç‰‡ 0-15ï¼Œæ¯ç‰‡ 2 å‰¯æœ¬ï¼‰
</code></pre>
<ul>
<li><strong>åˆ†å¸ƒå¼</strong>ï¼šè®¢å•è¡¨æŒ‰ç”¨æˆ· ID æ‹†æˆ 16 ä¸ªåˆ†ç‰‡ â†’ <strong>æ•°æ®åˆ†å¸ƒå¼</strong></li>
<li><strong>é›†ç¾¤</strong>ï¼šæ¯ä¸ªåˆ†ç‰‡æœ‰ 2 å‰¯æœ¬ â†’ <strong>é«˜å¯ç”¨é›†ç¾¤</strong></li>
</ul>
<hr/>
<h2 data-id="heading-15">å…­ã€æ¼”è¿›è·¯çº¿ï¼ˆè€æ¿æœ€çˆ±é—®çš„â€œä¸‰æ­¥èµ°â€ï¼‰</h2>
<ol>
<li><strong>å•æœº</strong> â†’ <strong>é›†ç¾¤</strong>ï¼ˆå…ˆè§£å†³å¹¶å‘&amp;å¯ç”¨ï¼Œä¸åŠ¨ä»£ç ï¼‰</li>
<li><strong>é›†ç¾¤</strong> â†’ <strong>åˆ†å¸ƒå¼</strong>ï¼ˆæ•°æ®é‡/ç ”å‘è§„æ¨¡å˜å¤§ï¼Œå¼€å§‹æ‹†åˆ†ï¼‰</li>
<li><strong>åˆ†å¸ƒå¼</strong> â†’ <strong>æ··åˆäº‘/å¤šæ´»</strong>ï¼ˆåœ°åŸŸå®¹ç¾ã€å¼¹æ€§ã€æˆæœ¬ï¼‰</li>
</ol>
<hr/>
<h2 data-id="heading-16">ä¸ƒã€å¸¸è§äº§å“å¯¹ç…§è¡¨</h2>






























<table><thead><tr><th>åœºæ™¯</th><th>é›†ç¾¤äº§å“</th><th>åˆ†å¸ƒå¼äº§å“</th></tr></thead><tbody><tr><td>æ•°æ®å­˜å‚¨</td><td>MySQL MGRã€Redis Sentinel</td><td>MySQL Shardingã€TiDBã€CockroachDB</td></tr><tr><td>è®¡ç®—</td><td>Kubernetes ReplicaSet</td><td>Hadoop MapReduceã€Sparkã€Flink</td></tr><tr><td>æ¶ˆæ¯</td><td>â€”â€”</td><td>Kafkaã€Pulsarï¼ˆåˆ†åŒº+å‰¯æœ¬ï¼‰</td></tr><tr><td>åè°ƒ</td><td>â€”â€”</td><td>ZooKeeperã€etcdã€Consul</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-17">å…«ã€ä¸€å¼ å›¾æ€»ç»“ï¼ˆä¿å­˜å³å¯ï¼‰</h2>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-code">               å•æœº
                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
        â”‚               â”‚
     é›†ç¾¤ï¼ˆå¤åˆ¶ï¼‰    åˆ†å¸ƒå¼ï¼ˆæ‹†åˆ†ï¼‰
        â”‚               â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                â–¼
         ç°ä»£äº’è”ç½‘æ¶æ„
      ï¼ˆå¾®æœåŠ¡ + åˆ†ç‰‡ + å‰¯æœ¬ï¼‰
</span></code></pre>
<hr/>
<h2 data-id="heading-18">ä¹ã€ä¸€å¥è¯èƒŒä¸‹æ¥</h2>
<blockquote>
<p><strong>é›†ç¾¤</strong>è®©<strong>åŒä¸€å°æœåŠ¡</strong>å˜<strong>å¥½å¤šå°</strong>ï¼›<br/>
<strong>åˆ†å¸ƒå¼</strong>è®©<strong>ä¸€å°æœºå™¨çš„ä»»åŠ¡</strong>æ‹†æˆ<strong>å¥½å¤šå°æœºå™¨çš„ä»»åŠ¡</strong>ï¼›<br/>
çœŸæ­£çš„å¤§å‹ç³»ç»Ÿ = <strong>åˆ†å¸ƒå¼ + é›†ç¾¤</strong>â€”â€”<strong>æ—¢åˆ†å·¥åˆäººå¤š</strong>ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½ ä¼šå…ˆæ‰¾è¡Œè¿˜æ˜¯ç›´æ¥æ‹å¹³ï¼Ÿä¸¤ç§äºŒåˆ†ç­–ç•¥ä½ Pickå“ªä¸ªï¼Ÿ]]></title>    <link>https://juejin.cn/post/7588149079417241654</link>    <guid>https://juejin.cn/post/7588149079417241654</guid>    <pubDate>2025-12-27T15:16:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588149079417241654" data-draft-id="7588149079417225270" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½ ä¼šå…ˆæ‰¾è¡Œè¿˜æ˜¯ç›´æ¥æ‹å¹³ï¼Ÿä¸¤ç§äºŒåˆ†ç­–ç•¥ä½ Pickå“ªä¸ªï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,ç®—æ³•"/> <meta itemprop="datePublished" content="2025-12-27T15:16:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ €ç§‹666"/> <meta itemprop="url" content="https://juejin.cn/user/2566698322650307"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½ ä¼šå…ˆæ‰¾è¡Œè¿˜æ˜¯ç›´æ¥æ‹å¹³ï¼Ÿä¸¤ç§äºŒåˆ†ç­–ç•¥ä½ Pickå“ªä¸ªï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2566698322650307/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ €ç§‹666
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T15:16:04.000Z" title="Sat Dec 27 2025 15:16:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>ä½ æœ‰æ²¡æœ‰é‡åˆ°è¿‡è¿™ç§æƒ…å†µï¼š</p>
<p>é¢è¯•å®˜è½»ææ·¡å†™åœ°æ‰”è¿‡æ¥ä¸€é“é¢˜ï¼šâ€œç»™ä½ ä¸€ä¸ª<strong>mÃ—n</strong>çš„çŸ©é˜µï¼Œæ¯è¡Œé€’å¢ï¼Œè€Œä¸”æ¯ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªæ•°éƒ½æ¯”ä¸Šä¸€è¡Œæœ€åä¸€ä¸ªå¤§â€¦â€¦é—®ä½ èƒ½ä¸èƒ½å¿«é€Ÿæ‰¾åˆ°æŸä¸ªç›®æ ‡å€¼ï¼Ÿâ€</p>
<p>ä½ å¿ƒé‡Œä¸€å’¯å™”ï¼š<br/>
ğŸ‘‰ è¿™ä¸æ˜¯æ™®é€šçš„äºŒç»´æ•°ç»„å•Šï¼Œè¿™ç®€ç›´æ˜¯<strong>å‡åºç•Œçš„å·ç‹ä¹‹ç‹</strong>ï¼</p>
<p>ç„¶åä½ çµå…‰ä¸€é—ªï¼š<br/>
ğŸ’¡ â€œç­‰ç­‰ï¼è¿™ä¸å°±æ˜¯ä¸ªâ€˜å‡è£…æ˜¯äºŒç»´â€™çš„ä¸€ç»´æ•°ç»„å—ï¼Ÿâ€</p>
<p>æ²¡é”™ï¼Œä»Šå¤©æˆ‘ä»¬è¦èŠçš„ï¼Œå°±æ˜¯ä¸€ä¸ªèƒ½è®©äºŒåˆ†æŸ¥æ‰¾ä»<strong>å¹³é¢ç›´è§’åæ ‡ç³»ç›´æ¥ç©¿è¶Šåˆ°æ•°è½´ä¸Šè·³èˆ</strong>çš„ç»å…¸é—®é¢˜ã€‚æˆ‘ä»¬ä¸è®²æ™¦æ¶©å…¬å¼ï¼Œåªç”¨æœ€æ¥åœ°æ°”çš„è¯­è¨€ï¼Œå¸¦ä½ æŠŠè¿™é“é¢˜â€œåƒå¹²æŠ¹å‡€â€ã€‚</p>
<hr/>
<h3 data-id="heading-1">ğŸ§© é—®é¢˜é•¿ä»€ä¹ˆæ ·ï¼Ÿå…ˆåˆ«æ…Œï¼Œå®ƒæ˜¯çº¸è€è™ï¼</h3>
<p>é¢˜ç›®å¤§æ¦‚æ˜¯è¿™æ ·ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Fsearch-a-2d-matrix%2Fdescription%2F" target="_blank" title="https://leetcode.cn/problems/search-a-2d-matrix/description/" ref="nofollow noopener noreferrer">74. æœç´¢äºŒç»´çŸ©é˜µ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1cfb55e56f974ca8a2aeafbdb102a1c0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qCA56eLNjY2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767453364&amp;x-signature=8cwCZDjIVPGiLaVNnv1uIaXUuOc%3D" alt="image.png" loading="lazy"/></p>
<p>çœ‹åˆ°è¿™ä¸ªç»“æ„ï¼Œèªæ˜çš„ä½ å·²ç»å‘ç°äº†å…³é”®ç‚¹ï¼š</p>
<p>âœ… <strong>æ•´ä¸ªçŸ©é˜µå±•å¼€åï¼Œå…¶å®æ˜¯ä¸€ä¸ªä¸¥æ ¼å‡åºçš„ä¸€ç»´æ•°ç»„ï¼</strong></p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸Šé¢é‚£ä¸ªçŸ©é˜µç­‰ä»·äºï¼š</p>
<pre><code class="hljs language-js" lang="js">[<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">16</span>, <span class="hljs-number">20</span>, <span class="hljs-number">23</span>, <span class="hljs-number">30</span>, <span class="hljs-number">34</span>, <span class="hljs-number">60</span>] <span class="hljs-comment">// å®Œå…¨æœ‰åºï¼</span>
</code></pre>
<p>æ‰€ä»¥â€”â€”<br/>
ğŸ‰ æˆ‘ä»¬å¯ä»¥ç”¨<strong>äºŒåˆ†æŸ¥æ‰¾</strong>æ¥è§£å†³ï¼</p>
<p>ä½†é—®é¢˜æ˜¯ï¼šæ€ä¹ˆåœ¨â€œäºŒç»´ç©ºé—´â€é‡Œæâ€œä¸€ç»´æ“ä½œâ€ï¼Ÿ</p>
<p>è¿™å°±å¼•å‡ºäº†ä¸¤ç§ç¥ä»™æ€è·¯ğŸ‘‡</p>
<hr/>
<h3 data-id="heading-2">ğŸš€ æ–¹æ³•ä¸€ï¼šä¸¤æ¬¡äºŒåˆ† â€”â€” å…ˆæ‰¾å°åŒºå†æ•²é—¨</h3>
<p>æƒ³è±¡ä¸€ä¸‹ä½ åœ¨ä¸€æ ‹é«˜æ¡£å…¬å¯“æ¥¼é‡Œæ‰¾æœ‹å‹ï¼š</p>
<ul>
<li>å¤§æ¥¼æœ‰ <code>m</code> å±‚ï¼ˆå¯¹åº”è¡Œï¼‰</li>
<li>æ¯å±‚æœ‰ <code>n</code> æˆ·ï¼ˆå¯¹åº”åˆ—ï¼‰</li>
<li>æ‰€æœ‰æˆ¿é—´å·æŒ‰é¡ºåºæ’åˆ—ï¼Œä¸”ä¸‹ä¸€å±‚ç¬¬ä¸€ä¸ªæˆ¿é—´å· &gt; ä¸Šä¸€å±‚æœ€åä¸€ä¸ª</li>
</ul>
<p>ä½ è¦æ‰¾ä½åœ¨â€œæˆ¿é—´å·=11â€çš„è€å¼ ã€‚</p>
<p>ä½ ä¼šæ€ä¹ˆåšï¼Ÿ</p>
<p>ğŸ§  å½“ç„¶æ˜¯ï¼š</p>
<ol>
<li>å…ˆçœ‹æ¯å±‚çš„<strong>ç¬¬ä¸€æˆ·é—¨ç‰Œå·</strong>ï¼Œç¡®å®šä»–åœ¨å“ªä¸€å±‚ï¼›</li>
<li>ç„¶åå†å»é‚£å±‚æŒ¨å®¶æŒ¨æˆ·æ•²é—¨æ‰¾ä»–ã€‚</li>
</ol>
<p>è¿™å°±æ˜¯<strong>ä¸¤æ¬¡äºŒåˆ†æ³•</strong>çš„æ ¸å¿ƒæ€æƒ³ï¼</p>
<h4 data-id="heading-3">âœ… ç¬¬ä¸€æ­¥ï¼šäºŒåˆ†æ‰¾â€œå¯èƒ½ä½çš„é‚£ä¸€è¡Œâ€</h4>
<p>æˆ‘ä»¬å¯¹<strong>ç¬¬ä¸€åˆ—</strong>è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œæ‰¾çš„æ˜¯ï¼š</p>
<blockquote>
<p>â€œæœ€åä¸€ä¸ªé¦–å…ƒç´  â‰¤ targetâ€çš„é‚£ä¸€è¡Œ</p>
</blockquote>
<p>ä¸ºä»€ä¹ˆæ˜¯â€œæœ€åä¸€ä¸ªâ€ï¼Ÿå› ä¸ºåé¢çš„è¡Œå¼€å¤´å°±å¤ªå¤§äº†ï¼Œä¸å¯èƒ½æœ‰ç›®æ ‡ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œtarget = 11ï¼š</p>





















<table><thead><tr><th>è¡Œ</th><th>é¦–å…ƒç´ </th></tr></thead><tbody><tr><td>0</td><td>1</td></tr><tr><td>1</td><td>10</td></tr><tr><td>2</td><td>23</td></tr></tbody></table>
<p>æ˜¾ç„¶ï¼Œç¬¬2è¡Œå¼€å§‹é¦–å…ƒç´ 23 &gt; 11ï¼Œæ‰€ä»¥åªèƒ½åœ¨ç¬¬0æˆ–ç¬¬1è¡Œã€‚è€Œæˆ‘ä»¬è¦æ‰¾çš„æ˜¯â€œæœ€åä¸€ä¸ªå°äºç­‰äº11çš„é¦–å…ƒç´ â€ï¼Œé‚£å°±æ˜¯ç¬¬1è¡Œï¼ˆ10 â‰¤ 11ï¼‰ã€‚</p>
<p>äºæ˜¯æˆ‘ä»¬é”å®šï¼š<strong>ç›®æ ‡æœ€å¤šåªèƒ½å‡ºç°åœ¨ç¬¬1è¡Œï¼</strong></p>
<h4 data-id="heading-4">âœ… ç¬¬äºŒæ­¥ï¼šåœ¨è¿™è¡Œå†…éƒ¨å†äºŒåˆ†æŸ¥æ‰¾</h4>
<p>ç¬¬1è¡Œæ˜¯ <code>[10, 11, 16, 20]</code>ï¼Œæ ‡å‡†å‡åºæ•°ç»„ï¼Œç›´æ¥å¥—æ¨¡æ¿äºŒåˆ†å³å¯ã€‚</p>
<p>æ‰¾åˆ°äº†11 â†’ è¿”å› <code>true</code>ï¼</p>
<p>ğŸ¯ æˆåŠŸå®šä½ï¼Œå°±åƒå¿«é€’å°å“¥ç²¾å‡†æŠ•é€’ï¼</p>
<h4 data-id="heading-5">ğŸ’¡ å…³é”®ç»†èŠ‚ï¼šé¿å…æ­»å¾ªç¯çš„å°æŠ€å·§</h4>
<p>åœ¨æ‰¾è¡Œçš„æ—¶å€™ï¼Œä¸ºäº†é¿å… <code>low</code> å’Œ <code>high</code> å¡ä½ä¸åŠ¨ï¼Œæˆ‘ä»¬éœ€è¦å‘ä¸Šå–æ•´ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> mid = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>((high - low + <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>) + low;
</code></pre>
<p>å¦åˆ™å½“ <code>low=0, high=1</code> æ—¶ï¼Œ<code>mid</code> æ°¸è¿œæ˜¯0ï¼Œå°±ä¼šé™·å…¥æ— é™å¾ªç¯â€”â€”ç›¸å½“äºä½ ä¸€ç›´åœ¨ä¸€æ¥¼å¾˜å¾Šï¼Œä¸æ•¢ä¸ŠäºŒæ¥¼ ğŸ˜µâ€ğŸ’«</p>
<hr/>
<h3 data-id="heading-6">ğŸš€ æ–¹æ³•äºŒï¼šä¸€æ¬¡äºŒåˆ† â€”â€” æŠŠäºŒç»´å‹æˆä¸€ç»´ï¼Œâ€œé™ç»´æ‰“å‡»â€ï¼</h3>
<p>å¦‚æœè¯´æ–¹æ³•ä¸€æ˜¯â€œä¸€æ­¥æ­¥æ¨ç†â€ï¼Œé‚£æ–¹æ³•äºŒå°±æ˜¯â€œå¼€æŒ‚æ¨¡å¼â€ï¼</p>
<p>å®ƒçš„å“²å­¦æ˜¯ï¼š</p>
<blockquote>
<p>â€œæˆ‘ä¸ç®¡ä½ æ˜¯å‡ ç»´ï¼Œåªè¦æ•´ä½“æœ‰åºï¼Œæˆ‘å°±å½“ä½ æ˜¯ä¸€æ¡ç›´çº¿ï¼â€</p>
</blockquote>
<h4 data-id="heading-7">ğŸŒ€ æ€è·¯ç²¾é«“ï¼šè™šæ‹Ÿä¸€ç»´æ•°ç»„ + ä¸‹æ ‡æ˜ å°„</h4>
<p>å‡è®¾çŸ©é˜µæ˜¯ <code>m Ã— n</code>ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒçœ‹ä½œä¸€ä¸ªé•¿åº¦ä¸º <code>m * n</code> çš„ä¸€ç»´æ•°ç»„ã€‚</p>
<p>å¦‚ä½•å°†ä¸€ç»´ä¸‹æ ‡ <code>k</code> æ˜ å°„å›äºŒç»´åæ ‡ï¼Ÿ</p>
<p>âœ¨ ç­”æ¡ˆéå¸¸ä¼˜é›…ï¼š</p>
<pre><code class="hljs language-js" lang="js">row = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(k / n);   <span class="hljs-comment">// ç¬¬å‡ è¡Œ</span>
col = k % n;               <span class="hljs-comment">// ç¬¬å‡ åˆ—</span>
</code></pre>
<p>æ˜¯ä¸æ˜¯åƒæäº†å°æ—¶å€™å­¦çš„â€œæ’åº§ä½â€ï¼Ÿ</p>
<p>æ¯”å¦‚ä¸€å…±4åˆ—ï¼š</p>
<ul>
<li>ç¬¬0ä¸ªåŒå­¦ â†’ ç¬¬0è¡Œç¬¬0åˆ—</li>
<li>ç¬¬5ä¸ªåŒå­¦ â†’ ç¬¬1è¡Œç¬¬1åˆ—ï¼ˆ5 Ã· 4 = 1ä½™1ï¼‰</li>
</ul>
<p>äºæ˜¯æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨æ•´ä¸ªâ€œè™šæ‹Ÿæ•°ç»„â€ä¸ŠåšäºŒåˆ†æŸ¥æ‰¾ï¼</p>
<h4 data-id="heading-8">ğŸ” å®æˆ˜æ¼”ç¤ºï¼štarget = 11</h4>
<p>æ€»é•¿åº¦ = 3Ã—4 = 12ï¼Œåˆå§‹èŒƒå›´ <code>[0, 11]</code></p>
<p>ä¸­é—´ä¸‹æ ‡ <code>mid = 5</code> â†’ å¯¹åº”ä½ç½®æ˜¯ï¼š</p>
<pre><code class="hljs language-js" lang="js">row = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-number">5</span> / <span class="hljs-number">4</span>) = <span class="hljs-number">1</span>
col = <span class="hljs-number">5</span> % <span class="hljs-number">4</span> = <span class="hljs-number">1</span>
â†’ matrix[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>] = <span class="hljs-number">11</span> âœ… æ‰¾åˆ°äº†ï¼
</code></pre>
<p>boomï¼ä¸€å‡»å¿…ä¸­ï¼</p>
<hr/>
<h3 data-id="heading-9">ğŸ†š ä¸¤ç§æ–¹æ³•å¯¹æ¯”ï¼šè°æ›´é€‚åˆä½ ï¼Ÿ</h3>








































<table><thead><tr><th>ç»´åº¦</th><th>ä¸¤æ¬¡äºŒåˆ†æ³•</th><th>ä¸€æ¬¡äºŒåˆ†æ³•</th></tr></thead><tbody><tr><td>æ—¶é—´å¤æ‚åº¦</td><td>O(log m + log n) = O(log mn)</td><td>O(log mn)</td></tr><tr><td>ç©ºé—´å¤æ‚åº¦</td><td>O(1)</td><td>O(1)</td></tr><tr><td>ä»£ç é•¿åº¦</td><td>ç¨é•¿ï¼ˆä¸¤ä¸ªå‡½æ•°ï¼‰</td><td>è¶…çŸ­ï¼ˆ10è¡Œæå®šï¼‰</td></tr><tr><td>é€»è¾‘æ¸…æ™°åº¦</td><td>åˆ†æ­¥æ€è€ƒï¼Œé€‚åˆæ•™å­¦</td><td>æ•°å­¦ç¾æ„Ÿå¼ºï¼Œé€‚åˆè£…X</td></tr><tr><td>è¾¹ç•Œå¤„ç†éš¾åº¦</td><td>ç¬¬ä¸€åˆ—äºŒåˆ†éœ€å°å¿ƒ</td><td>ç›¸å¯¹ç®€å•</td></tr><tr><td>æ¨èæŒ‡æ•°</td><td>â­â­â­â­â˜†</td><td>â­â­â­â­â­</td></tr></tbody></table>
<h4 data-id="heading-10">ğŸ¤” å¦‚ä½•é€‰æ‹©ï¼Ÿ</h4>
<ul>
<li>å¦‚æœä½ æ˜¯<strong>åˆå­¦è€…</strong>ï¼Œå»ºè®®å…ˆæŒæ¡ä¸¤æ¬¡äºŒåˆ†æ³•â€”â€”å®ƒæ›´ç¬¦åˆç›´è§‰ï¼Œåƒæ˜¯èµ°è·¯ï¼šå…ˆè¿ˆå·¦è„šï¼Œå†è¿ˆå³è„šã€‚</li>
<li>å¦‚æœä½ æ˜¯<strong>è€å¸æœº</strong>ï¼Œç›´æ¥ä¸Šä¸€æ¬¡äºŒåˆ†æ³•ï¼Œä»£ç ç®€æ´å¾—åƒè¯—ä¸€æ ·ï¼Œé¢è¯•å®˜çœ‹äº†éƒ½æƒ³é¼“æŒğŸ‘</li>
</ul>
<hr/>
<h3 data-id="heading-11">ğŸ¯ æˆ‘çš„ç‹¬ç‰¹ç†è§£ï¼šè¿™ä¸æ˜¯â€œä¸¤ç§æ–¹æ³•â€ï¼Œè€Œæ˜¯â€œä¸¤ç§æ€ç»´æ–¹å¼â€</h3>
<p>å¾ˆå¤šäººè¯´ï¼šâ€œå“¦ï¼Œä¸€ä¸ªæ˜¯åˆ†æ²»ï¼Œä¸€ä¸ªæ˜¯æ˜ å°„ã€‚â€<br/>
æˆ‘è¯´ï¼š<strong>é”™ï¼è¿™æ˜¯ä¸¤ç§äººç”Ÿå“²å­¦ï¼</strong></p>
<ul>
<li>
<p><strong>ä¸¤æ¬¡äºŒåˆ†æ³•</strong>åƒæ˜¯â€œç¨³æ‰ç¨³æ‰“å‹é€‰æ‰‹â€ï¼š</p>
<blockquote>
<p>â€œæˆ‘ä¸æ€¥ï¼Œå…ˆç¼©å°èŒƒå›´ï¼Œå†ç²¾ç¡®æ‰“å‡»ã€‚â€<br/>
ç±»ä¼¼äºç”Ÿæ´»ä¸­é‚£äº›åšäº‹æœ‰è®¡åˆ’ã€æ­¥æ­¥ä¸ºè¥çš„äººã€‚</p>
</blockquote>
</li>
<li>
<p><strong>ä¸€æ¬¡äºŒåˆ†æ³•</strong>åˆ™æ˜¯â€œå…¨å±€è§†è§’å‹å¤©æ‰â€ï¼š</p>
<blockquote>
<p>â€œä½ ä»¬è¿˜åœ¨çº ç»“ç»´åº¦ï¼Ÿæˆ‘å·²ç»æŠŠå®ƒæ‹å¹³äº†ï¼â€<br/>
å°±åƒé©¬æ–¯å…‹è¯´çš„ï¼šâ€œä¸è¦è¢«è¡¨è±¡è¿·æƒ‘ï¼ŒæŠ“ä½æœ¬è´¨ã€‚â€</p>
</blockquote>
</li>
</ul>
<p>è€Œè¿™é“é¢˜çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>ğŸ”‘ <strong>åªè¦æ•°æ®æ•´ä½“æœ‰åºï¼Œç»´åº¦åªæ˜¯éšœçœ¼æ³•ï¼</strong></p>
<p>ä½ å¯ä»¥æŠŠå®ƒå½“æˆä¸€å¼ è¡¨æ ¼ï¼Œä¹Ÿå¯ä»¥å½“æˆä¸€æ¡çº¿ï¼Œç”šè‡³å¯ä»¥å½“æˆä¸€éƒ¨ç”µå½±çš„æ—¶é—´è½´â€”â€”åªè¦ä½ èƒ½æ‰¾åˆ°â€œé¡ºåºâ€çš„é”šç‚¹ã€‚</p>
<hr/>
<h3 data-id="heading-12">ğŸ› ï¸ å®é™…ä»£ç å®ç°ï¼ˆå¯ç›´æ¥å¤åˆ¶ç²˜è´´ï¼‰</h3>
<h4 data-id="heading-13">âœ… æ–¹æ³•ä¸€ï¼šä¸¤æ¬¡äºŒåˆ†ï¼ˆæ¨èå­¦ä¹ ç”¨ï¼‰</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> searchMatrix = <span class="hljs-keyword">function</span>(<span class="hljs-params">matrix, target</span>) {
    <span class="hljs-comment">// æ‰¾åˆ°å¯èƒ½åŒ…å« target çš„æœ€åä¸€è¡Œï¼ˆåŸºäºé¦–åˆ—ï¼‰</span>
    <span class="hljs-keyword">let</span> low = -<span class="hljs-number">1</span>;
    <span class="hljs-keyword">let</span> high = matrix.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>;
    
    <span class="hljs-keyword">while</span> (low &lt; high) {
        <span class="hljs-keyword">const</span> mid = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>((high - low + <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>) + low;
        <span class="hljs-keyword">if</span> (matrix[mid][<span class="hljs-number">0</span>] &lt;= target) {
            low = mid;
        } <span class="hljs-keyword">else</span> {
            high = mid - <span class="hljs-number">1</span>;
        }
    }

    <span class="hljs-keyword">if</span> (low === -<span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// æ¯”æœ€å°çš„è¿˜å°</span>

    <span class="hljs-comment">// åœ¨è¯¥è¡Œå†…è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾</span>
    <span class="hljs-keyword">const</span> row = matrix[low];
    <span class="hljs-keyword">let</span> left = <span class="hljs-number">0</span>, right = row.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>;
    <span class="hljs-keyword">while</span> (left &lt;= right) {
        <span class="hljs-keyword">const</span> mid = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>((right - left) / <span class="hljs-number">2</span>) + left;
        <span class="hljs-keyword">if</span> (row[mid] === target) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (row[mid] &gt; target) {
            right = mid - <span class="hljs-number">1</span>;
        } <span class="hljs-keyword">else</span> {
            left = mid + <span class="hljs-number">1</span>;
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
};
</code></pre>
<h4 data-id="heading-14">âœ… æ–¹æ³•äºŒï¼šä¸€æ¬¡äºŒåˆ†ï¼ˆæ¨èå®æˆ˜ç”¨ï¼‰</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> searchMatrix = <span class="hljs-keyword">function</span>(<span class="hljs-params">matrix, target</span>) {
    <span class="hljs-keyword">const</span> m = matrix.<span class="hljs-property">length</span>;
    <span class="hljs-keyword">const</span> n = matrix[<span class="hljs-number">0</span>].<span class="hljs-property">length</span>;
    <span class="hljs-keyword">let</span> low = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">let</span> high = m * n - <span class="hljs-number">1</span>;

    <span class="hljs-keyword">while</span> (low &lt;= high) {
        <span class="hljs-keyword">const</span> mid = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>((high - low) / <span class="hljs-number">2</span>) + low;
        <span class="hljs-keyword">const</span> val = matrix[<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(mid / n)][mid % n];

        <span class="hljs-keyword">if</span> (val &lt; target) {
            low = mid + <span class="hljs-number">1</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (val &gt; target) {
            high = mid - <span class="hljs-number">1</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
};
</code></pre>
<blockquote>
<p>âš¡ æç¤ºï¼šèƒŒä¸‹è¿™ä¸ªä¸‹æ ‡æ˜ å°„å…¬å¼ï¼Œå…³é”®æ—¶åˆ»èƒ½æ•‘ä½ ä¸€å‘½ï¼</p>
</blockquote>
<hr/>
<h3 data-id="heading-15">ğŸŒŸ å†™åœ¨æœ€åï¼šå­¦ä¼šâ€œé™ç»´â€ï¼Œæ‰èƒ½è·³å‡ºé¢˜æµ·</h3>
<p>å¾ˆå¤šåˆ·é¢˜äººé™·å…¥å›°å¢ƒçš„åŸå› æ˜¯ï¼š</p>
<blockquote>
<p>â€œæˆ‘åšäº†100é“äºŒåˆ†é¢˜ï¼Œæ€ä¹ˆæ¢äº†ä¸ªé©¬ç”²å°±ä¸è®¤è¯†äº†ï¼Ÿâ€</p>
</blockquote>
<p>å› ä¸ºä½ è®°å¾—çš„æ˜¯â€œå½¢å¼â€ï¼Œè€Œä¸æ˜¯â€œçµé­‚â€ã€‚</p>
<p>çœŸæ­£çš„é«˜æ‰‹ï¼Œçœ‹åˆ°è¿™ç§çŸ©é˜µä¸ä¼šæƒ³â€œäºŒç»´æ€ä¹ˆæâ€ï¼Œè€Œæ˜¯é—®è‡ªå·±ï¼š</p>
<p>â“ â€œè¿™ä¸ªç»“æ„æœ‰æ²¡æœ‰å…¨å±€æœ‰åºæ€§ï¼Ÿâ€<br/>
â“ â€œèƒ½ä¸èƒ½æŠŠå®ƒå˜æˆæˆ‘èƒ½å¤„ç†çš„å½¢å¼ï¼Ÿâ€</p>
<p>ä¸€æ—¦ä½ æŒæ¡äº†è¿™ç§<strong>åŒ–å½’æ€ç»´</strong>ï¼Œä½ ä¼šå‘ç°ï¼š</p>
<ul>
<li>æ—‹è½¬æ’åºæ•°ç»„ï¼Ÿâ†’ æ‰¾æ–­ç‚¹ â†’ é™ç»´å¤„ç†</li>
<li>å±±è„‰æ•°ç»„æ‰¾å³°å€¼ï¼Ÿâ†’ åˆ©ç”¨å•è°ƒæ€§ â†’ äºŒåˆ†æ”¶ç¼©</li>
<li>äºŒç»´æœç´¢ï¼Ÿâ†’ æ‰å¹³åŒ– â†’ å½“ä½œä¸€ç»´</li>
</ul>
<p>ğŸš€ æ‰€è°“ç®—æ³•èƒ½åŠ›ï¼Œä¸æ˜¯è®°å¿†å¥—è·¯ï¼Œè€Œæ˜¯<strong>ä¸æ–­æŠŠæ–°é—®é¢˜ç¿»è¯‘æˆæ—§çŸ¥è¯†çš„èƒ½åŠ›</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-16">â¤ï¸ ç»“è¯­ï¼šæ„¿ä½ ä¹Ÿèƒ½åœ¨ä»£ç ä¸–ç•Œé‡Œâ€œä»¥æ— åšå…¥æœ‰é—´â€</h3>
<p>åº„å­è¯´ï¼šâ€œå½¼èŠ‚è€…æœ‰é—´ï¼Œè€Œåˆ€åˆƒè€…æ— åšï¼Œä»¥æ— åšå…¥æœ‰é—´ï¼Œæ¢æ¢ä¹å…¶äºæ¸¸åˆƒå¿…æœ‰ä½™åœ°çŸ£ã€‚â€</p>
<p>ç¿»è¯‘æˆç¨‹åºå‘˜è¯­è¨€å°±æ˜¯ï¼š</p>
<blockquote>
<p>åªè¦ä½ æ‰¾å¯¹äº†çªç ´å£ï¼ˆæœ‰åºæ€§ï¼‰ï¼Œå“ªæ€•é—®é¢˜çœ‹èµ·æ¥åšä¸å¯æ‘§ï¼ˆäºŒç»´+åµŒå¥—ï¼‰ï¼Œä½ çš„ç®—æ³•ä¹Ÿèƒ½åƒä¸€æŠŠè–„åˆƒï¼Œè½»æ¾æ»‘è¿›å»ï¼Œå’”åš“ä¸€å£°â€”â€”æå®šï¼</p>
</blockquote>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Ooder A2UIæ¶æ„ç™½çš®ä¹¦]]></title>    <link>https://juejin.cn/post/7588300640598949894</link>    <guid>https://juejin.cn/post/7588300640598949894</guid>    <pubDate>2025-12-27T15:20:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588300640598949894" data-draft-id="7588300640598933510" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Ooder A2UIæ¶æ„ç™½çš®ä¹¦"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,å“åº”å¼ç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-27T15:20:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="OneCodeCN"/> <meta itemprop="url" content="https://juejin.cn/user/1427583415622366"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Ooder A2UIæ¶æ„ç™½çš®ä¹¦
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1427583415622366/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    OneCodeCN
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T15:20:24.000Z" title="Sat Dec 27 2025 15:20:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1å°æ—¶+
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Ooder A2UIæ¶æ„ç™½çš®ä¹¦</h2>
<h3 data-id="heading-1">ç›®å½•</h3>
<ol>
<li><a href="#1-%E6%A6%82%E8%BF%B0" title="#1-%E6%A6%82%E8%BF%B0">æ¦‚è¿°</a>
<ul>
<li>1.1 ä»€ä¹ˆæ˜¯Ooder A2UI</li>
<li>1.2 è®¾è®¡ç›®æ ‡</li>
<li>1.3 é€‚ç”¨åœºæ™¯</li>
</ul>
</li>
<li><a href="#2-%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1" title="#2-%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1">æ¶æ„è®¾è®¡</a>
<ul>
<li>2.1 æ•´ä½“æ¶æ„</li>
<li>2.2 åˆ†å±‚è®¾è®¡</li>
<li>2.3 å‰åç«¯å¼ºæ˜ å°„å…³ç³»</li>
</ul>
</li>
<li><a href="#3-%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5" title="#3-%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5">æ ¸å¿ƒæ¦‚å¿µ</a>
<ul>
<li>3.1 å››åˆ†ç¦»è®¾è®¡åŸåˆ™</li>
<li>3.2 æ³¨è§£é©±åŠ¨å¼€å‘</li>
<li>3.3 é™æ€æ¨¡æ¿æ¸²æŸ“</li>
<li>3.4 DTO/VOä¸€ä½“åŒ–</li>
<li>3.5 ç¼–è¯‘æœŸé™æ€è½¬æ¢</li>
<li>3.6 è¿è¡ŒæœŸåŠ¨æ€è£…é…</li>
</ul>
</li>
<li><a href="#4-%E6%A0%B8%E5%BF%83%E7%BB%84%E4%BB%B6" title="#4-%E6%A0%B8%E5%BF%83%E7%BB%84%E4%BB%B6">æ ¸å¿ƒç»„ä»¶</a>
<ul>
<li>4.1 æ³¨è§£ä½“ç³»</li>
<li>4.2 è§†å›¾ç»„ä»¶</li>
<li>4.3 æœåŠ¡ç»„ä»¶</li>
<li>4.4 é€šè®¯ç»„ä»¶</li>
<li>4.5 Pageæœºåˆ¶</li>
</ul>
</li>
<li><a href="#5-%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86" title="#5-%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86">å·¥ä½œåŸç†</a>
<ul>
<li>5.1 ç¼–è¯‘æœŸæµç¨‹</li>
<li>5.2 è¿è¡ŒæœŸæµç¨‹</li>
<li>5.3 æ•°æ®æµå‘</li>
<li>5.4 äº‹ä»¶å¤„ç†</li>
</ul>
</li>
<li><a href="#6-%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B" title="#6-%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B">å¼€å‘æµç¨‹</a>
<ul>
<li>6.1 éœ€æ±‚åˆ†æ</li>
<li>6.2 è§†å›¾è®¾è®¡</li>
<li>6.3 æœåŠ¡å®ç°</li>
<li>6.4 ç³»ç»Ÿé›†æˆ</li>
<li>6.5 éƒ¨ç½²ä¸Šçº¿</li>
</ul>
</li>
<li><a href="#7-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5" title="#7-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5">æœ€ä½³å®è·µ</a>
<ul>
<li>7.1 æ³¨è§£ä½¿ç”¨è§„èŒƒ</li>
<li>7.2 è§†å›¾è®¾è®¡åŸåˆ™</li>
<li>7.3 æœåŠ¡è®¾è®¡åŸåˆ™</li>
<li>7.4 æ€§èƒ½ä¼˜åŒ–</li>
</ul>
</li>
<li><a href="#8-%E4%B8%8E%E5%85%B6%E4%BB%96%E6%A1%86%E6%9E%B6%E6%AF%94%E8%BE%83" title="#8-%E4%B8%8E%E5%85%B6%E4%BB%96%E6%A1%86%E6%9E%B6%E6%AF%94%E8%BE%83">ä¸å…¶ä»–æ¡†æ¶æ¯”è¾ƒ</a>
<ul>
<li>8.1 ä¸React/Vueæ¯”è¾ƒ</li>
<li>8.2 ä¸ä¼ ç»ŸJSP/ASPæ¯”è¾ƒ</li>
<li>8.3 ä¸ä½ä»£ç å¹³å°æ¯”è¾ƒ</li>
</ul>
</li>
<li><a href="#9-%E6%9C%AA%E6%9D%A5%E5%8F%91%E5%B1%95%E6%96%B9%E5%90%91" title="#9-%E6%9C%AA%E6%9D%A5%E5%8F%91%E5%B1%95%E6%96%B9%E5%90%91">æœªæ¥å‘å±•æ–¹å‘</a>
<ul>
<li>9.1 AIå¢å¼º</li>
<li>9.2 äº‘åŸç”Ÿæ”¯æŒ</li>
<li>9.3 å¾®æœåŠ¡é›†æˆ</li>
<li>9.4 è·¨å¹³å°æ”¯æŒ</li>
</ul>
</li>
</ol>
<h3 data-id="heading-2">1. æ¦‚è¿°</h3>
<h4 data-id="heading-3">1.1 ä»€ä¹ˆæ˜¯Ooder A2UI</h4>
<p>Ooder A2UIæ˜¯ä¸€å¥—åŸºäº<strong>æ³¨è§£é©±åŠ¨+é™æ€ç¼–è¯‘+åŠ¨æ€è£…é…</strong>çš„å…¨æ ˆæ¡†æ¶ï¼Œé€šè¿‡<strong>å‰åç«¯å¼ºæ˜ å°„</strong>å’Œ<strong>DTO/VOä¸€ä½“åŒ–</strong>è®¾è®¡ï¼Œè§£å†³ä¼ ç»Ÿä¼ä¸šçº§å¼€å‘ä¸­"å‰åç«¯ååŒæˆæœ¬é«˜ã€ä»£ç ä¸€è‡´æ€§éš¾ä¿éšœã€AIç”Ÿæˆä»£ç è´¨é‡ä½"ä¸‰å¤§æ ¸å¿ƒç—›ç‚¹ã€‚å…¶åˆ›æ–°çš„<strong>å››åˆ†ç¦»è®¾è®¡åŸåˆ™</strong>ï¼Œå°†ç»„ä»¶çš„å±æ€§ã€æ ·å¼ã€äº‹ä»¶ã€è¡Œä¸ºè§£è€¦ï¼Œæ—¢ä¿è¯äº†å¼€å‘çµæ´»æ€§ï¼Œåˆä¸ºç»“æ„åŒ–çš„AIä»£ç ç”Ÿæˆæä¾›äº†æ ‡å‡†åŒ–è½½ä½“ã€‚</p>
<p>Ooder A2UIçš„æ ¸å¿ƒä»·å€¼åœ¨äºé€šè¿‡å£°æ˜å¼æ³¨è§£é…ç½®ï¼Œå°†å‰ç«¯ç•Œé¢ã€åç«¯æœåŠ¡å’Œé€šè®¯æœºåˆ¶æœ‰æœºåœ°ç»“åˆåœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªå®Œæ•´çš„ã€å¯ç»´æŠ¤çš„åº”ç”¨ç³»ç»Ÿã€‚å®ƒç‰¹åˆ«é€‚åˆAIç”Ÿæˆä»£ç ï¼ˆA2UI - AI to UIï¼‰çš„åœºæ™¯ï¼Œé€šè¿‡ç»“æ„åŒ–çš„è®¾è®¡å’Œå¼ºç±»å‹æ˜ å°„ï¼Œä½¿AIèƒ½å¤Ÿæ›´å®¹æ˜“åœ°ç†è§£å’Œç”Ÿæˆé«˜è´¨é‡çš„ä»£ç ã€‚</p>
<h4 data-id="heading-4">1.2 è®¾è®¡ç›®æ ‡</h4>
<ul>
<li><strong>ç®€åŒ–å¼€å‘æµç¨‹</strong>ï¼šé€šè¿‡æ³¨è§£é©±åŠ¨å¼€å‘ï¼Œå‡å°‘é‡å¤ä»£ç ï¼Œæé«˜å¼€å‘æ•ˆç‡</li>
<li><strong>å‰åç«¯ä¸€è‡´æ€§</strong>ï¼šé€šè¿‡å¼ºæ˜ å°„å…³ç³»ç¡®ä¿å‰åç«¯è¡Œä¸ºä¸€è‡´</li>
<li><strong>æ˜“äºç»´æŠ¤å’Œæ‰©å±•</strong>ï¼šé‡‡ç”¨ä¸¥æ ¼çš„åˆ†å±‚è®¾è®¡ï¼Œä¾¿äºä»£ç ç»´æŠ¤å’ŒåŠŸèƒ½æ‰©å±•</li>
<li><strong>æ”¯æŒAIç”Ÿæˆ</strong>ï¼šç»“æ„åŒ–çš„è®¾è®¡ä¾¿äºAIç†è§£å’Œç”Ÿæˆä»£ç </li>
<li><strong>ä¼ä¸šçº§æ”¯æŒ</strong>ï¼šé€‚åˆæ„å»ºå¤æ‚çš„ä¼ä¸šçº§åº”ç”¨</li>
<li><strong>é«˜æ€§èƒ½</strong>ï¼šé™æ€æ¨¡æ¿æ¸²æŸ“æœºåˆ¶ï¼Œåˆå§‹åŠ è½½å¿«</li>
<li><strong>ç»„ä»¶åŒ–è®¾è®¡</strong>ï¼šé«˜åº¦ç»„ä»¶åŒ–ï¼Œæé«˜ä»£ç å¤ç”¨ç‡</li>
</ul>
<h4 data-id="heading-5">1.3 é€‚ç”¨åœºæ™¯</h4>
<ul>
<li>ä¼ä¸šèµ„æºè§„åˆ’ï¼ˆERPï¼‰ç³»ç»Ÿ</li>
<li>å®¢æˆ·å…³ç³»ç®¡ç†ï¼ˆCRMï¼‰ç³»ç»Ÿ</li>
<li>äººåŠ›èµ„æºç®¡ç†ï¼ˆHRMï¼‰ç³»ç»Ÿ</li>
<li>å†…å®¹ç®¡ç†ç³»ç»Ÿï¼ˆCMSï¼‰</li>
<li>å„ç±»ç®¡ç†åå°å’Œæ§åˆ¶å°</li>
<li>å¤æ‚è¡¨å•å¤„ç†ç³»ç»Ÿ</li>
<li>æ•°æ®å¯è§†åŒ–ç³»ç»Ÿ</li>
<li>ä¼ä¸šçº§æƒé™ç®¡ç†ç³»ç»Ÿ</li>
</ul>
<h3 data-id="heading-6">2. æ¶æ„è®¾è®¡</h3>
<h4 data-id="heading-7">2.1 æ•´ä½“æ¶æ„</h4>
<p>Ooder A2UIé‡‡ç”¨å‰åç«¯ä¸€ä½“åŒ–çš„æ¶æ„è®¾è®¡ï¼Œé€šè¿‡æ³¨è§£å°†å‰åç«¯ç´§å¯†ç»‘å®šã€‚å¹³å°éµå¾ªå…¨æ ˆæ¶æ„è®¾è®¡ç†å¿µï¼Œå°†å‰ç«¯è®¾è®¡ã€åç«¯å¾®æœåŠ¡å’Œé€šè®¯ç»„ä»¶åˆ†ç¦»ï¼Œæ„å»ºäº†ä¸€ä¸ªçµæ´»ã€å¯æ‰©å±•çš„åº”ç”¨æ¶æ„ã€‚</p>
<p><strong>æ ¸å¿ƒæ¶æ„ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>å‰åç«¯æ— ç¼é›†æˆï¼Œé€šè¿‡æ³¨è§£å®ç°å¼ºæ˜ å°„å…³ç³»</li>
<li>ç»„ä»¶åŒ–è®¾è®¡ï¼Œæ”¯æŒé«˜åº¦å¤ç”¨</li>
<li>æ¨¡å—åŒ–æ¶æ„ï¼Œä¾¿äºæ‰©å±•å’Œç»´æŠ¤</li>
<li>æ”¯æŒå¾®æœåŠ¡æ¶æ„ï¼Œå…·å¤‡è‰¯å¥½çš„æ‰©å±•æ€§</li>
</ul>
<h4 data-id="heading-8">2.2 åˆ†å±‚è®¾è®¡</h4>
<p>Ooder A2UIé‡‡ç”¨ä¸¥æ ¼çš„ä¸‰å±‚åˆ†ç¦»è®¾è®¡ï¼Œå„å±‚èŒè´£æ˜ç¡®ï¼Œè¾¹ç•Œæ¸…æ™°ï¼š</p>
<h5 data-id="heading-9">2.2.0 è¾¹ç•Œä¸äº¤äº’è§„èŒƒ</h5>





























<table><thead><tr><th>åˆ†å±‚</th><th>è¾“å…¥</th><th>è¾“å‡º</th><th>ä¾èµ–é™åˆ¶</th></tr></thead><tbody><tr><td>è§†å›¾å±‚</td><td>PageCtxä¸Šä¸‹æ–‡ã€åç«¯JSONæ•°æ®</td><td>å‰ç«¯æ¸²æŸ“DOMã€ç”¨æˆ·äº¤äº’äº‹ä»¶</td><td>ä»…ä¾èµ–é€šè®¯ç»„ä»¶ï¼Œä¸ç›´æ¥ä¾èµ–æœåŠ¡å±‚</td></tr><tr><td>æœåŠ¡å±‚</td><td>è§†å›¾å±‚è¯·æ±‚å‚æ•°ã€ä»“åº“å±‚æ•°æ®</td><td>æ ‡å‡†åŒ–ResultModelå“åº”</td><td>ä¾èµ–ä»“åº“å±‚ï¼Œä¸ç›´æ¥ä¾èµ–è§†å›¾å±‚</td></tr><tr><td>ä»“åº“å±‚</td><td>æœåŠ¡å±‚æ•°æ®æŸ¥è¯¢æŒ‡ä»¤</td><td>ç»“æ„åŒ–æ•°æ®/äº‹åŠ¡æ‰§è¡Œç»“æœ</td><td>æ— ä¸Šå±‚ä¾èµ–ï¼Œä»…ä¾èµ–æ•°æ®æº</td></tr></tbody></table>
<h5 data-id="heading-10">2.2.1 è§†å›¾å±‚</h5>
<p><strong>èŒè´£</strong>ï¼šè´Ÿè´£UIå±•ç¤ºå’Œç”¨æˆ·äº¤äº’ï¼Œä½¿ç”¨Javaæ³¨è§£å®šä¹‰å‰ç«¯ç»„ä»¶</p>
<p><strong>æ ¸å¿ƒç»„ä»¶</strong>ï¼š</p>
<ul>
<li>è§†å›¾ç±»ï¼šé€šè¿‡æ³¨è§£å®šä¹‰ç»„ä»¶çš„å¤–è§‚å’Œè¡Œä¸º</li>
<li>å­—æ®µç»„ä»¶ï¼šè¾“å…¥æ¡†ã€æŒ‰é’®ã€ä¸‹æ‹‰æ¡†ç­‰åŸºæœ¬UIç»„ä»¶</li>
<li>å®¹å™¨ç»„ä»¶ï¼šè¡¨å•ã€ç½‘æ ¼ã€æ ‡ç­¾é¡µç­‰å¤æ‚UIç»„ä»¶</li>
<li>Pageæœºåˆ¶ï¼šä½œä¸ºè§†å›¾çš„å®¹å™¨ï¼Œç»„ç»‡å„ç§è§†å›¾ç»„ä»¶</li>
</ul>
<p><strong>è®¾è®¡åŸåˆ™</strong>ï¼š</p>
<ul>
<li>é‡‡ç”¨å››åˆ†ç¦»è®¾è®¡åŸåˆ™ï¼ˆå±æ€§ã€æ ·å¼ã€äº‹ä»¶ã€è¡Œä¸ºï¼‰</li>
<li>å®¹å™¨ç»„ä»¶ä¸å±•ç¤ºç»„ä»¶åˆ†ç¦»</li>
<li>Pageä¸ºä¸­å¿ƒçš„å‰ç«¯ç»„ä»¶ç»„ç»‡</li>
<li>æ”¯æŒå“åº”å¼è®¾è®¡ï¼Œè‡ªé€‚åº”ä¸åŒå±å¹•å°ºå¯¸</li>
</ul>
<h5 data-id="heading-11">2.2.2 æœåŠ¡å±‚</h5>
<p><strong>èŒè´£</strong>ï¼šè´Ÿè´£ä¸šåŠ¡é€»è¾‘å¤„ç†ï¼Œæä¾›Webå¯è®¿é—®çš„æœåŠ¡æ–¹æ³•</p>
<p><strong>æ ¸å¿ƒç»„ä»¶</strong>ï¼š</p>
<ul>
<li>APIæœåŠ¡ï¼šé€šè¿‡@RestControlleræ³¨è§£å®šä¹‰Webå¯è®¿é—®çš„æœåŠ¡</li>
<li>ä¸šåŠ¡æœåŠ¡ï¼šå®ç°å…·ä½“çš„ä¸šåŠ¡é€»è¾‘</li>
<li>èšåˆæœåŠ¡ï¼šé€šè¿‡@Aggregationæ³¨è§£å®ç°æœåŠ¡èšåˆ</li>
</ul>
<p><strong>è®¾è®¡åŸåˆ™</strong>ï¼š</p>
<ul>
<li>SpringBootå¾®æœåŠ¡æ¶æ„</li>
<li>WebæœåŠ¡æ¨¡å—åŒ–</li>
<li>ä»¥Web Pathä¸ºä¸­å¿ƒçš„æœåŠ¡åœ°å€ç»Ÿä¸€</li>
<li>æœåŠ¡ç‹¬ç«‹æ€§ï¼Œæ¯ä¸ªæœåŠ¡ç‹¬ç«‹éƒ¨ç½²å’Œè¿è¡Œ</li>
</ul>
<h5 data-id="heading-12">2.2.3 ä»“åº“å±‚</h5>
<p><strong>èŒè´£</strong>ï¼šè´Ÿè´£æ•°æ®è®¿é—®ï¼Œä¸æ•°æ®åº“äº¤äº’</p>
<p><strong>è®¾è®¡åŸåˆ™</strong>ï¼š</p>
<ul>
<li>æ•°æ®è®¿é—®ä¸ä¸šåŠ¡é€»è¾‘åˆ†ç¦»</li>
<li>æ”¯æŒå¤šç§æ•°æ®æº</li>
<li>äº‹åŠ¡ç®¡ç†</li>
<li>æ•°æ®ç¼“å­˜æœºåˆ¶</li>
</ul>
<h4 data-id="heading-13">2.3 å‰åç«¯å¼ºæ˜ å°„å…³ç³»</h4>
<p>Ooderé€šè¿‡å¤šç§æœºåˆ¶å®ç°å‰åç«¯çš„å¼ºæ˜ å°„å…³ç³»ï¼Œç¡®ä¿å‰åç«¯çš„ä¸€è‡´æ€§å’ŒååŒå·¥ä½œï¼š</p>
<blockquote>
<p>Ooder A2UIé€šè¿‡<strong>æ³¨è§£å…ƒæ•°æ®æ‰«æ+ç±»å‹åŒ¹é…æ ¡éªŒ</strong>ï¼Œåœ¨ç¼–è¯‘æœŸå³å¯æ£€æµ‹å‰åç«¯ç»„ä»¶æ˜ å°„ä¸ä¸€è‡´é—®é¢˜ï¼ˆå¦‚åç«¯å®šä¹‰<code>ComponentType.DATEPICKER</code>ä½†å‰ç«¯æ— å¯¹åº”<code>ood.UI.DatePicker</code>ç»„ä»¶ï¼‰ï¼Œé¿å…ä¼ ç»Ÿæ¡†æ¶åœ¨è¿è¡ŒæœŸæ‰æš´éœ²çš„ç±»å‹ä¸åŒ¹é…é”™è¯¯ã€‚</p>
</blockquote>
<h5 data-id="heading-14">2.3.1 ç»„ä»¶æ˜ å°„å…³ç³»</h5>
<p>é€šè¿‡ComponentTypeæšä¸¾ä¸å‰ç«¯ç»„ä»¶å»ºç«‹ä¸€ä¸€å¯¹åº”å…³ç³»ï¼š</p>













































<table><thead><tr><th>åç«¯æšä¸¾å€¼</th><th>å‰ç«¯ç»„ä»¶</th><th>æè¿°</th></tr></thead><tbody><tr><td>INPUT</td><td>ood.UI.Input</td><td>è¾“å…¥æ¡†ç»„ä»¶</td></tr><tr><td>DATEPICKER</td><td>ood.UI.DatePicker</td><td>æ—¥æœŸé€‰æ‹©å™¨ç»„ä»¶</td></tr><tr><td>COMBOBOX</td><td>ood.UI.ComboBox</td><td>ä¸‹æ‹‰æ¡†ç»„ä»¶</td></tr><tr><td>BUTTON</td><td>ood.UI.Button</td><td>æŒ‰é’®ç»„ä»¶</td></tr><tr><td>TABS</td><td>ood.UI.Tabs</td><td>æ ‡ç­¾é¡µç»„ä»¶</td></tr><tr><td>GRID</td><td>ood.UI.Grid</td><td>ç½‘æ ¼ç»„ä»¶</td></tr><tr><td>TREE</td><td>ood.UI.Tree</td><td>æ ‘å½¢ç»„ä»¶</td></tr></tbody></table>
<h5 data-id="heading-15">2.3.2 è§†å›¾æ˜ å°„å…³ç³»</h5>
<p>é€šè¿‡ViewTypeæšä¸¾å®šä¹‰å‰åç«¯è§†å›¾çš„å¯¹åº”å…³ç³»ï¼š</p>






























<table><thead><tr><th>åç«¯æšä¸¾å€¼</th><th>å‰ç«¯è§†å›¾</th><th>æè¿°</th></tr></thead><tbody><tr><td>FORM</td><td>è¡¨å•è§†å›¾</td><td>ç”¨äºæ•°æ®å½•å…¥å’Œå±•ç¤º</td></tr><tr><td>GRID</td><td>ç½‘æ ¼è§†å›¾</td><td>ç”¨äºæ•°æ®å±•ç¤ºå’Œæ“ä½œ</td></tr><tr><td>TREE</td><td>æ ‘å½¢è§†å›¾</td><td>ç”¨äºå±•ç¤ºå±‚çº§ç»“æ„æ•°æ®</td></tr><tr><td>TABS</td><td>æ ‡ç­¾é¡µè§†å›¾</td><td>ç”¨äºç»„ç»‡å’Œç®¡ç†å¤æ‚ç•Œé¢</td></tr></tbody></table>
<h5 data-id="heading-16">2.3.3 äº‹ä»¶æ˜ å°„å…³ç³»</h5>
<p>é€šè¿‡APIEventAnnotationå®ç°å‰ç«¯äº‹ä»¶ä¸åç«¯æœåŠ¡çš„ç»‘å®šï¼š</p>
<ol>
<li><strong>äº‹ä»¶å®šä¹‰</strong>ï¼šåœ¨åç«¯é€šè¿‡@APIEventAnnotationå®šä¹‰äº‹ä»¶</li>
<li><strong>äº‹ä»¶ç»‘å®š</strong>ï¼šåœ¨å‰ç«¯ç»„ä»¶ä¸Šç»‘å®šå¯¹åº”çš„äº‹ä»¶å¤„ç†å‡½æ•°</li>
<li><strong>æœåŠ¡è°ƒç”¨</strong>ï¼šäº‹ä»¶è§¦å‘æ—¶è°ƒç”¨åç«¯å¯¹åº”çš„æœåŠ¡æ–¹æ³•</li>
<li><strong>å“åº”å¤„ç†</strong>ï¼šå¤„ç†åç«¯æœåŠ¡çš„å“åº”å¹¶æ›´æ–°å‰ç«¯ç•Œé¢</li>
</ol>
<h5 data-id="heading-17">2.3.4 æ•°æ®æµå‘æ˜ å°„</h5>
<p>é€šè¿‡RequestPathEnumå’ŒResponsePathEnumæ§åˆ¶å‰åç«¯æ•°æ®æµå‘ï¼š</p>
<ol>
<li><strong>è¯·æ±‚è·¯å¾„</strong>ï¼šå®šä¹‰å‰ç«¯å‘åç«¯å‘é€è¯·æ±‚çš„è·¯å¾„</li>
<li><strong>å“åº”è·¯å¾„</strong>ï¼šå®šä¹‰åç«¯å‘å‰ç«¯è¿”å›æ•°æ®çš„è·¯å¾„</li>
<li><strong>æ•°æ®è½¬æ¢</strong>ï¼šåœ¨è¯·æ±‚å’Œå“åº”è¿‡ç¨‹ä¸­è¿›è¡Œæ•°æ®æ ¼å¼è½¬æ¢</li>
<li><strong>çŠ¶æ€ç®¡ç†</strong>ï¼šé€šè¿‡æ•°æ®æµå‘æ§åˆ¶ç»„ä»¶çŠ¶æ€çš„å˜åŒ–</li>
</ol>
<h3 data-id="heading-18">3. æ ¸å¿ƒæ¦‚å¿µ</h3>
<h4 data-id="heading-19">3.1 å››åˆ†ç¦»è®¾è®¡åŸåˆ™</h4>
<p>å››åˆ†ç¦»è®¾è®¡åŸåˆ™æ˜¯Ooder A2UIçš„æ ¸å¿ƒè®¾è®¡ç†å¿µï¼Œå°†ç»„ä»¶çš„<strong>å±æ€§ã€æ ·å¼ã€äº‹ä»¶ã€è¡Œä¸º</strong>è¿›è¡Œæ˜ç¡®åˆ†ç¦»ï¼Œå®ç°é«˜å†…èšä½è€¦åˆçš„ç»„ä»¶è®¾è®¡ã€‚</p>
<h5 data-id="heading-20">3.1.1 åˆ†ç¦»å†…å®¹</h5>
<p><strong>1. å±æ€§ï¼ˆPropertiesï¼‰</strong></p>
<ul>
<li>å®šä¹‰ï¼šç»„ä»¶çš„é…ç½®å±æ€§å’Œæ•°æ®æ¨¡å‹</li>
<li>å®ç°ï¼šé€šè¿‡<code>Static.DataModel</code>å®šä¹‰</li>
<li>ç‰¹ç‚¹ï¼šåŒ…å«åˆå§‹å€¼ã€å¯é€‰å€¼åˆ—è¡¨ã€å˜æ›´åŠ¨ä½œå’Œæ˜¾ç¤ºåç§°</li>
<li>ç¤ºä¾‹ï¼šä¸»é¢˜ã€å“åº”å¼ã€å°ºå¯¸ç­‰é…ç½®å±æ€§</li>
</ul>
<p><strong>2. æ ·å¼ï¼ˆStylesï¼‰</strong></p>
<ul>
<li>å®šä¹‰ï¼šç»„ä»¶çš„CSSæ ·å¼</li>
<li>å®ç°ï¼šé€šè¿‡<code>Static.Appearances</code>å®šä¹‰</li>
<li>ç‰¹ç‚¹ï¼šæ”¯æŒé€‰æ‹©å™¨åµŒå¥—ã€ä¼ªç±»ã€è¿‡æ¸¡æ•ˆæœç­‰</li>
<li>ç¤ºä¾‹ï¼šé¢œè‰²ã€å­—ä½“ã€å¸ƒå±€ç­‰æ ·å¼å®šä¹‰</li>
</ul>
<p><strong>3. äº‹ä»¶ï¼ˆEventsï¼‰</strong></p>
<ul>
<li>å®šä¹‰ï¼šç»„ä»¶çš„äº¤äº’äº‹ä»¶</li>
<li>å®ç°ï¼šé€šè¿‡<code>Static.EventHandlers</code>å®šä¹‰</li>
<li>ç‰¹ç‚¹ï¼šäº‹ä»¶ä¸ä¸šåŠ¡é€»è¾‘åˆ†ç¦»ï¼Œæ”¯æŒè‡ªå®šä¹‰äº‹ä»¶</li>
<li>ç¤ºä¾‹ï¼šç‚¹å‡»äº‹ä»¶ã€å˜æ›´äº‹ä»¶ã€åŠ è½½äº‹ä»¶ç­‰</li>
</ul>
<p><strong>4. è¡Œä¸ºï¼ˆBehaviorsï¼‰</strong></p>
<ul>
<li>å®šä¹‰ï¼šç»„ä»¶çš„è¡Œä¸ºè§„åˆ™å’Œçº¦æŸ</li>
<li>å®ç°ï¼šé€šè¿‡<code>Static.Behaviors</code>å®šä¹‰</li>
<li>ç‰¹ç‚¹ï¼šå®šä¹‰ç»„ä»¶çš„äº¤äº’è¡Œä¸ºå’Œè§„åˆ™</li>
<li>ç¤ºä¾‹ï¼šæ‹–æ‹½è¡Œä¸ºã€é¢æ¿è¡Œä¸ºã€çƒ­é”®æ”¯æŒç­‰</li>
</ul>
<h5 data-id="heading-21">3.1.2 å®ç°æœºåˆ¶</h5>
<p>Ooderç»„ä»¶çš„å››åˆ†ç¦»è®¾è®¡é€šè¿‡æ¸…æ™°çš„ç»“æ„ç»„ç»‡å®ç°ï¼Œä»¥ä¸‹æ˜¯<code>ood.UI.FormLayout</code>ç»„ä»¶çš„å››åˆ†ç¦»æ¶æ„ç¤ºæ„å›¾ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">ood<span class="hljs-selector-class">.UI</span><span class="hljs-selector-class">.FormLayout</span>ç»„ä»¶ç»“æ„
â”œâ”€â”€ Static<span class="hljs-selector-class">.DataModel</span>ï¼ˆå±æ€§ï¼‰ï¼šåˆå§‹å€¼ã€å¯é€‰å€¼ã€æ•°æ®çº¦æŸ
â”œâ”€â”€ Static<span class="hljs-selector-class">.Appearances</span>ï¼ˆæ ·å¼ï¼‰ï¼šCSSé€‰æ‹©å™¨ã€ä¼ªç±»ã€å“åº”å¼è§„åˆ™
â”œâ”€â”€ Static<span class="hljs-selector-class">.EventHandlers</span>ï¼ˆäº‹ä»¶ï¼‰ï¼šç‚¹å‡»ã€å˜æ›´ã€åŠ è½½ç­‰äº‹ä»¶ç»‘å®š
â””â”€â”€ Static<span class="hljs-selector-class">.Behaviors</span>ï¼ˆè¡Œä¸ºï¼‰ï¼šæ‹–æ‹½è§„åˆ™ã€çƒ­é”®æ˜ å°„ã€äº¤äº’çº¦æŸ
</code></pre>
<p>ä»<code>FormLayout.js</code>ä»£ç ä¸­å¯ä»¥çœ‹åˆ°ï¼ŒOoderç»„ä»¶ä¸¥æ ¼éµå¾ªå››åˆ†ç¦»è®¾è®¡åŸåˆ™ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">ood.<span class="hljs-title class_">Class</span>(<span class="hljs-string">"ood.UI.FormLayout"</span>, [<span class="hljs-string">"ood.UI"</span>, <span class="hljs-string">"ood.absList"</span>], {
    <span class="hljs-title class_">Static</span>: {
        <span class="hljs-title class_">Appearances</span>: {
            <span class="hljs-comment">// æ ·å¼å®šä¹‰</span>
        },
        <span class="hljs-title class_">Templates</span>: {
            <span class="hljs-comment">// æ¨¡æ¿å®šä¹‰</span>
        },
        <span class="hljs-title class_">Behaviors</span>: {
            <span class="hljs-comment">// è¡Œä¸ºå®šä¹‰</span>
        },
        <span class="hljs-title class_">DataModel</span>: {
            <span class="hljs-comment">// å±æ€§å®šä¹‰</span>
        },
        <span class="hljs-title class_">EventHandlers</span>: {
            <span class="hljs-comment">// äº‹ä»¶å¤„ç†ç¨‹åº</span>
        }
    }
});
</code></pre>
<h4 data-id="heading-22">3.2 æ³¨è§£é©±åŠ¨å¼€å‘</h4>
<p>æ³¨è§£é©±åŠ¨å¼€å‘æ˜¯Ooder A2UIçš„æ ¸å¿ƒå¼€å‘æ¨¡å¼ï¼Œé€šè¿‡Javaæ³¨è§£å¿«é€Ÿæ„å»ºå‰åç«¯ä¸€ä½“åŒ–åº”ç”¨ã€‚</p>
<h5 data-id="heading-23">3.2.1 æ ¸å¿ƒæœºåˆ¶</h5>
<ol>
<li><strong>æ³¨è§£æ‰«æä¸è§£æ</strong>ï¼šåœ¨Pageåˆå§‹åŒ–è¿‡ç¨‹ä¸­ï¼Œç³»ç»Ÿæ‰«æè§†å›¾ç±»ä¸Šçš„æ‰€æœ‰æ³¨è§£</li>
<li><strong>ç»„ä»¶ç»“æ„ç”Ÿæˆ</strong>ï¼šå°†æ³¨è§£ä¿¡æ¯è½¬æ¢ä¸ºå‰ç«¯ç»„ä»¶çš„é…ç½®ä¿¡æ¯</li>
<li><strong>äº‹ä»¶ç»‘å®šè£…é…</strong>ï¼šå®Œæˆé€šè®¯ç»„ä»¶çš„è£…é…åŠå‰ç«¯ç»„ä»¶äº‹ä»¶ç»‘å®š</li>
<li><strong>è¿è¡ŒæœŸåŠ¨æ€è£…é…</strong>ï¼šæ ¹æ®ç”¨æˆ·äº¤äº’äº‹ä»¶å’Œæ•°æ®å˜åŒ–ï¼ŒåŠ¨æ€è°ƒæ•´ç»„ä»¶çŠ¶æ€</li>
</ol>
<h5 data-id="heading-24">3.2.2 æ³¨è§£åˆ†ç±»</h5>
<p>Ooderå¹³å°çš„æ³¨è§£åˆ†ä¸ºä¸‰ä¸ªå±‚æ¬¡ï¼š</p>
<p><strong>1. å¿…é¡»çš„æ³¨è§£</strong>ï¼ˆç”¨äºå»ºç«‹åŸºæœ¬çš„ç»„ä»¶æ˜ å°„å…³ç³»ï¼‰</p>
<ul>
<li>ç»„ä»¶ç±»å‹æ³¨è§£ï¼š@InputAnnotationã€@ButtonAnnotationç­‰</li>
<li>è§†å›¾ç±»å‹æ³¨è§£ï¼š@FormAnnotationã€@GridAnnotationç­‰</li>
<li>æœåŠ¡æ³¨è§£ï¼š@RestControllerã€@Serviceã€@Aggregationç­‰</li>
</ul>
<p><strong>2. å¿…è¦çš„ä¿®é¥°æ³¨è§£</strong>ï¼ˆç”¨äºå®Œå–„ç»„ä»¶çš„å¤–è§‚å’ŒåŸºæœ¬è¡Œä¸ºï¼‰</p>
<ul>
<li>å¤–è§‚æ³¨è§£ï¼š@CustomAnnotationï¼ˆcaptionã€indexã€imageClassç­‰ï¼‰</li>
<li>å¸ƒå±€æ³¨è§£ï¼š@FormAnnotationï¼ˆcolã€rowã€borderTypeç­‰ï¼‰</li>
<li>æ•°æ®æ³¨è§£ï¼š@Uidã€@Pidï¼ˆæ ‡è¯†è®°å½•å…³ç³»ï¼‰</li>
</ul>
<p><strong>3. å¢å¼ºçš„æ³¨è§£</strong>ï¼ˆç”¨äºæ‰©å±•ç»„ä»¶çš„åŠŸèƒ½å’Œäº¤äº’ï¼‰</p>
<ul>
<li>è¡Œä¸ºæ³¨è§£ï¼š@APIEventAnnotationï¼ˆå®šä¹‰äº‹ä»¶äº¤äº’è¡Œä¸ºï¼‰</li>
<li>åˆ—è¡¨å¢å¼ºæ³¨è§£ï¼š@CustomListAnnotationï¼ˆå¢å¼ºæšä¸¾å­—æ®µçš„æ•°æ®èƒ½åŠ›ï¼‰</li>
<li>å¤åˆæ³¨è§£ï¼šComboç»„ä»¶ç›¸å…³æ³¨è§£</li>
</ul>
<h4 data-id="heading-25">3.3 é™æ€æ¨¡æ¿æ¸²æŸ“</h4>
<p>Ooder A2UIé‡‡ç”¨é™æ€æ¨¡æ¿æ¸²æŸ“æœºåˆ¶ï¼Œä¸React/Vueçš„åŠ¨æ€æ¸²æŸ“æœ‰æ˜æ˜¾åŒºåˆ«ã€‚</p>
<h5 data-id="heading-26">3.3.1 æ¸²æŸ“æµç¨‹</h5>
<ol>
<li><strong>åç«¯ç”Ÿæˆé…ç½®</strong>ï¼šåç«¯é€šè¿‡æ³¨è§£ç”ŸæˆJSONé…ç½®</li>
<li><strong>å‰ç«¯æ¨¡æ¿æ¸²æŸ“</strong>ï¼šå‰ç«¯ä½¿ç”¨é™æ€æ¨¡æ¿æ¸²æŸ“ç»„ä»¶</li>
<li><strong>æ•°æ®ä¼ é€’</strong>ï¼šæ•°æ®é€šè¿‡JSONæ ¼å¼ä¼ é€’</li>
<li><strong>ç»„ä»¶åˆå§‹åŒ–</strong>ï¼šæ ¹æ®é…ç½®åˆå§‹åŒ–ç»„ä»¶çŠ¶æ€</li>
</ol>
<h5 data-id="heading-27">3.3.2 æ ¸å¿ƒç‰¹ç‚¹</h5>
<ul>
<li><strong>åˆå§‹åŠ è½½å¿«</strong>ï¼šé™æ€æ¨¡æ¿æ¸²æŸ“å‡å°‘äº†å‰ç«¯è®¡ç®—å¼€é”€</li>
<li><strong>å‰åç«¯åˆ†ç¦»</strong>ï¼šåç«¯å®Œå…¨è¾“å‡ºJSONäº¤ç”±å‰ç«¯æ¸²æŸ“</li>
<li><strong>æ˜“äºç¼“å­˜</strong>ï¼šé™æ€æ¨¡æ¿å¯ä»¥è¢«æµè§ˆå™¨ç¼“å­˜</li>
<li><strong>é€‚åˆAIç”Ÿæˆ</strong>ï¼šç»“æ„åŒ–çš„æ¨¡æ¿ä¾¿äºAIç†è§£å’Œç”Ÿæˆ</li>
</ul>
<h4 data-id="heading-28">3.4 DTO/VOä¸€ä½“åŒ–</h4>
<p>DTO/VOä¸€ä½“åŒ–è®¾è®¡æ˜¯Ooder A2UIçš„é‡è¦ç‰¹ç‚¹ï¼Œå•ä¸€å¯¹è±¡åŒæ—¶ä½œä¸ºæ•°æ®ä¼ è¾“å¯¹è±¡ï¼ˆDTOï¼‰å’Œè§†å›¾å¯¹è±¡ï¼ˆVOï¼‰ã€‚</p>
<h5 data-id="heading-29">3.4.1 è®¾è®¡ä¼˜åŠ¿</h5>
<ul>
<li><strong>å‡å°‘å¯¹è±¡è½¬æ¢å¼€é”€</strong>ï¼šæ— éœ€åœ¨DTOå’ŒVOä¹‹é—´è¿›è¡Œè½¬æ¢</li>
<li><strong>ä¾¿äºå‰åç«¯æ•°æ®ä¸€è‡´æ€§ç»´æŠ¤</strong>ï¼šåŒä¸€å¯¹è±¡ç¡®ä¿æ•°æ®ç»“æ„ä¸€è‡´</li>
<li><strong>ç®€åŒ–å¼€å‘æµç¨‹</strong>ï¼šå‡å°‘éœ€è¦ç»´æŠ¤çš„å¯¹è±¡æ•°é‡</li>
<li><strong>æ”¯æŒç›´æ¥JSONè¾“å‡º</strong>ï¼šå¯ä»¥ç›´æ¥è¾“å‡ºä¸ºå‰ç«¯æ‰€éœ€çš„JSONæ ¼å¼</li>
</ul>
<h5 data-id="heading-30">3.4.2 å®ç°æ–¹å¼</h5>
<p>åœ¨Ooderä¸­ï¼Œè§†å›¾ç±»åŒæ—¶ä½œä¸ºDTOå’ŒVOä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@FormAnnotation(
    borderType = BorderType.inset,
    col = 2,
    row = 8,
    customService = {EmployeeManagementService.class}
)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EmployeeManagementView</span> {
    <span class="hljs-comment">// è§†å›¾å±æ€§åŒæ—¶ä½œä¸ºDTOå­—æ®µ</span>
    <span class="hljs-meta">@InputAnnotation(maxlength = 10, required = true)</span>
    <span class="hljs-meta">@CustomAnnotation(caption = "å‘˜å·¥ID", index = 1)</span>
    <span class="hljs-meta">@Uid</span>
    <span class="hljs-keyword">private</span> String employeeId;
    
    <span class="hljs-comment">// å…¶ä»–å±æ€§...</span>
}
</code></pre>
<h4 data-id="heading-31">3.5 ç¼–è¯‘æœŸé™æ€è½¬æ¢</h4>
<p>ç¼–è¯‘æœŸé™æ€è½¬æ¢æ˜¯Ooder A2UIå°†æ³¨è§£è½¬æ¢ä¸ºå¯æ‰§è¡Œç¨‹åºçš„ç¬¬ä¸€é˜¶æ®µï¼Œé€šè¿‡<strong>æ³¨è§£å…ƒæ•°æ®æ‰«æ+ç±»å‹åŒ¹é…æ ¡éªŒ+é…ç½®ç”Ÿæˆ</strong>çš„å®Œæ•´æµç¨‹ï¼Œå®ç°ä»Javaæ³¨è§£åˆ°å‰ç«¯ç»„ä»¶çš„è‡ªåŠ¨åŒ–è½¬æ¢ã€‚</p>
<h5 data-id="heading-32">3.5.1 è½¬æ¢æµç¨‹</h5>
<p><strong>ç¼–è¯‘æœŸé™æ€è½¬æ¢æ ¸å¿ƒæµç¨‹å›¾</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">ç¼–è¯‘æœŸé™æ€è½¬æ¢æµç¨‹
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <span class="hljs-number">1.</span> æ³¨è§£æ‰«æé˜¶æ®µ â”‚â”€â”€â”€â”€â–¶â”‚ <span class="hljs-number">2.</span> ç»“æ„ç”Ÿæˆé˜¶æ®µ  â”‚â”€â”€â”€â”€â–¶â”‚ <span class="hljs-number">3.</span> ç»‘å®šè£…é…é˜¶æ®µ   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                        â”‚                        â”‚
        â–¼                        â–¼                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Annotation      â”‚     â”‚ ComponentMeta    â”‚     â”‚ APIEventBinding   â”‚
â”‚ Processoræ‰«æ   â”‚     â”‚ â†’ JSONé…ç½®       â”‚     â”‚ â†’ äº‹ä»¶ç»‘å®šé…ç½®   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                        â”‚                        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â–¼
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚ <span class="hljs-number">4.</span> è¾“å‡ºç‰©ç”Ÿæˆ   â”‚
                         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                         â”‚ xxx.view.json   â”‚
                         â”‚ xxx.<span class="hljs-keyword">event</span>.json  â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>è¯¦ç»†è½¬æ¢æ­¥éª¤</strong>ï¼š</p>
<ol>
<li>
<p><strong>æ³¨è§£æ‰«æé˜¶æ®µ</strong>ï¼š</p>
<ul>
<li>é€šè¿‡<code>AnnotationProcessor</code>æ‰«æè§†å›¾ç±»ä¸Šçš„æ‰€æœ‰æ³¨è§£</li>
<li>ç”Ÿæˆ<code>ComponentMeta</code>å…ƒæ•°æ®ï¼ŒåŒ…å«ç»„ä»¶ç±»å‹ã€å¸ƒå±€ã€æ ·å¼ã€äº‹ä»¶ç­‰å®Œæ•´ä¿¡æ¯</li>
<li>æ‰§è¡Œ<strong>ç¼–è¯‘æœŸç±»å‹æ ¡éªŒ</strong>ï¼Œæ£€æµ‹å‰åç«¯ç»„ä»¶æ˜ å°„ä¸€è‡´æ€§</li>
<li>æ”¯æŒå¢é‡æ‰«æï¼Œä»…å¤„ç†å˜æ›´çš„æ³¨è§£ä¿¡æ¯</li>
</ul>
</li>
<li>
<p><strong>ç»“æ„ç”Ÿæˆé˜¶æ®µ</strong>ï¼š</p>
<ul>
<li>å°†<code>ComponentMeta</code>è½¬æ¢ä¸ºå‰ç«¯å¯è¯†åˆ«çš„JSONé…ç½®</li>
<li>è§†å›¾ç»„ä»¶ç”Ÿæˆï¼šæ ¹æ®<code>@FormAnnotation</code>ç­‰è§†å›¾æ³¨è§£ç”Ÿæˆå¯¹åº”çš„å‰ç«¯è§†å›¾ç»„ä»¶é…ç½®</li>
<li>å­—æ®µç»„ä»¶ç”Ÿæˆï¼šæ ¹æ®<code>@InputAnnotation</code>ç­‰å­—æ®µæ³¨è§£ç”Ÿæˆå…·ä½“çš„UIæ§ä»¶é…ç½®</li>
<li>å®¹å™¨ç»„ä»¶ç”Ÿæˆï¼šæ ¹æ®å®¹å™¨æ³¨è§£ç”Ÿæˆå®¹å™¨ç±»ç»„ä»¶çš„å¸ƒå±€é…ç½®</li>
<li>é…ç½®ä¿¡æ¯ç”Ÿæˆï¼šåˆå¹¶æ ·å¼ã€å±æ€§ã€äº‹ä»¶ç­‰é…ç½®ï¼Œç”Ÿæˆå®Œæ•´çš„ç»„ä»¶æè¿°</li>
</ul>
</li>
<li>
<p><strong>ç»‘å®šè£…é…é˜¶æ®µ</strong>ï¼š</p>
<ul>
<li>ç”Ÿæˆ<code>APIEventBinding</code>é…ç½®ï¼Œå»ºç«‹å‰ç«¯äº‹ä»¶ä¸åç«¯æœåŠ¡çš„æ˜ å°„å…³ç³»</li>
<li>é€šè®¯ç»„ä»¶è£…é…ï¼šå°†è§†å›¾æ‰€éœ€çš„æ•°æ®æ¥å£è½¬æ¢ä¸ºæ ‡å‡†åŒ–çš„Ajaxå®šä¹‰</li>
<li>äº‹ä»¶ç»‘å®šï¼šå°†ç»„ä»¶çš„Eventå®šä¹‰å®ä¾‹åŒ–å¹¶ä¸è§†å›¾/å…ƒç´ è¿›è¡Œç»‘å®š</li>
<li>å‚æ•°æ±‡èšï¼šå®šä¹‰å‚æ•°ä»PageCtxåˆ°æœåŠ¡æ–¹æ³•çš„æ˜ å°„è§„åˆ™</li>
<li>æœåŠ¡ç»‘å®šï¼šè·å–å¯Webè®¿é—®çš„æœåŠ¡æ–¹æ³•ï¼Œç”ŸæˆæœåŠ¡è°ƒç”¨é…ç½®</li>
</ul>
</li>
<li>
<p><strong>è¾“å‡ºç‰©ç”Ÿæˆ</strong>ï¼š</p>
<ul>
<li>ç¼–è¯‘æœŸç”Ÿæˆ<code>xxx.view.json</code>ï¼šåŒ…å«ç»„ä»¶çš„å®Œæ•´é…ç½®ä¿¡æ¯ï¼Œä¾›å‰ç«¯æ¸²æŸ“ä½¿ç”¨</li>
<li>ç¼–è¯‘æœŸç”Ÿæˆ<code>xxx.event.json</code>ï¼šåŒ…å«äº‹ä»¶ç»‘å®šé…ç½®ï¼Œä¾›è¿è¡ŒæœŸäº‹ä»¶å¤„ç†ä½¿ç”¨</li>
<li>è¾“å‡ºç‰©é‡‡ç”¨JSONæ ¼å¼ï¼Œä¾¿äºå‰ç«¯è§£æå’Œç¼“å­˜</li>
<li>æ”¯æŒå¢é‡ç”Ÿæˆï¼Œä»…æ›´æ–°å˜æ›´çš„é…ç½®æ–‡ä»¶</li>
</ul>
</li>
</ol>
<p><strong>æ ¸å¿ƒæŠ€æœ¯ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>åŸºäºJavaæ³¨è§£å¤„ç†å™¨å®ç°ï¼Œæ— è¿è¡Œæ—¶æ€§èƒ½å¼€é”€</li>
<li>ç¼–è¯‘æœŸç±»å‹å®‰å…¨æ ¡éªŒï¼Œæå‰å‘ç°æ˜ å°„é”™è¯¯</li>
<li>æ ‡å‡†åŒ–è¾“å‡ºæ ¼å¼ï¼Œä¾¿äºè·¨å¹³å°é›†æˆ</li>
<li>æ”¯æŒå¢é‡ç¼–è¯‘ï¼Œæé«˜å¼€å‘æ•ˆç‡</li>
</ul>
<h4 data-id="heading-33">3.6 è¿è¡ŒæœŸåŠ¨æ€è£…é…</h4>
<p>è¿è¡ŒæœŸåŠ¨æ€è£…é…æ˜¯Ooder A2UIå°†æ³¨è§£è½¬æ¢ä¸ºå¯æ‰§è¡Œç¨‹åºçš„ç¬¬äºŒé˜¶æ®µï¼Œåœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­åŠ¨æ€è°ƒæ•´ç»„ä»¶çŠ¶æ€ã€‚</p>
<h5 data-id="heading-34">3.6.1 è£…é…ç±»å‹</h5>
<p><strong>1. äº‹ä»¶é©±åŠ¨è£…é…</strong></p>
<ul>
<li>è§¦å‘æ¡ä»¶ï¼šç”¨æˆ·äº¤äº’è§¦å‘ç»„ä»¶äº‹ä»¶</li>
<li>å¤„ç†æµç¨‹ï¼šäº‹ä»¶è§¦å‘ â†’ æœåŠ¡è°ƒç”¨ â†’ æ•°æ®å¤„ç† â†’ çŠ¶æ€æ›´æ–°</li>
<li>å®ç°ï¼šæ ¹æ®ç»‘å®šçš„APIEventAnnotationè°ƒç”¨å¯¹åº”çš„åç«¯æœåŠ¡</li>
</ul>
<p><strong>2. æ•°æ®é©±åŠ¨è£…é…</strong></p>
<ul>
<li>è§¦å‘æ¡ä»¶ï¼šæ•°æ®å˜åŒ–æˆ–ç»„ä»¶åˆå§‹åŒ–</li>
<li>å¤„ç†æµç¨‹ï¼šæ•°æ®åŠ è½½ â†’ æ•°æ®ä¼ é€’ â†’ æ•°æ®å±•ç¤º</li>
<li>å®ç°ï¼šæ ¹æ®ç»„ä»¶çš„æ•°æ®é¡¹å®šä¹‰åŠ¨æ€åŠ è½½å’Œå±•ç¤ºæ•°æ®</li>
</ul>
<p><strong>3. åŠ¨æ€ç»„ä»¶ç”Ÿæˆ</strong></p>
<ul>
<li>è§¦å‘æ¡ä»¶ï¼šä¸šåŠ¡éœ€æ±‚å˜åŒ–</li>
<li>å¤„ç†æµç¨‹ï¼šç»„ä»¶ç”Ÿæˆ â†’ ç»„ä»¶é”€æ¯ â†’ ç”Ÿå‘½å‘¨æœŸç®¡ç† â†’ ç»„ä»¶ç»„åˆ</li>
<li>å®ç°ï¼šæ”¯æŒæ ¹æ®ä¸šåŠ¡éœ€æ±‚åŠ¨æ€ç”Ÿæˆå’Œé”€æ¯ç»„ä»¶</li>
</ul>
<h3 data-id="heading-35">4. æ ¸å¿ƒç»„ä»¶</h3>
<h4 data-id="heading-36">4.1 æ³¨è§£ä½“ç³»</h4>
<p>Ooder A2UIæä¾›äº†ä¸°å¯Œçš„æ³¨è§£ä½“ç³»ï¼Œç”¨äºå®šä¹‰ç»„ä»¶çš„å¤–è§‚ã€è¡Œä¸ºå’Œäº¤äº’ï¼Œæ˜¯å®ç°å‰åç«¯å¼ºæ˜ å°„å…³ç³»çš„æ ¸å¿ƒã€‚</p>
<h5 data-id="heading-37">4.1.1 æ³¨è§£åˆ†ç±»</h5>
<p>æ ¹æ®åŠŸèƒ½å’Œç”¨é€”ï¼ŒOoderçš„æ³¨è§£å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š</p>
<p><strong>1. è§†å›¾å±‚æ³¨è§£</strong></p>
<ul>
<li>å®šä¹‰ï¼šç”¨äºå®šä¹‰è§†å›¾çš„åŸºæœ¬å±æ€§å’Œå¸ƒå±€</li>
<li>ç¤ºä¾‹ï¼š
<ul>
<li><code>@FormViewAnnotation</code>ï¼šè¡¨å•è§†å›¾å®šä¹‰</li>
<li><code>@GridViewAnnotation</code>ï¼šç½‘æ ¼è§†å›¾å®šä¹‰</li>
<li><code>@PanelAnnotation</code>ï¼šé¢æ¿å®¹å™¨å®šä¹‰</li>
<li><code>@DialogAnnotation</code>ï¼šå¯¹è¯æ¡†å®¹å™¨å®šä¹‰</li>
</ul>
</li>
<li>ä½œç”¨ï¼šç¡®å®šè§†å›¾çš„ç±»å‹ã€å¸ƒå±€å’ŒåŸºæœ¬æ ·å¼</li>
</ul>
<p><strong>2. å­—æ®µæ³¨è§£</strong></p>
<ul>
<li>å®šä¹‰ï¼šç”¨äºå®šä¹‰å…·ä½“çš„UIæ§ä»¶å’Œè¾“å…¥å­—æ®µ</li>
<li>ç¤ºä¾‹ï¼š
<ul>
<li><code>@InputAnnotation</code>ï¼šè¾“å…¥æ¡†é…ç½®</li>
<li><code>@DatePickerAnnotation</code>ï¼šæ—¥æœŸé€‰æ‹©å™¨é…ç½®</li>
<li><code>@ComboBoxAnnotation</code>ï¼šä¸‹æ‹‰æ¡†é…ç½®</li>
<li><code>@ButtonAnnotation</code>ï¼šæŒ‰é’®é…ç½®</li>
</ul>
</li>
<li>ä½œç”¨ï¼šå®šä¹‰å­—æ®µçš„ç±»å‹ã€éªŒè¯è§„åˆ™å’ŒåŸºæœ¬æ ·å¼</li>
</ul>
<p><strong>3. è¡Œä¸ºå’Œäº¤äº’æ³¨è§£</strong></p>
<ul>
<li>å®šä¹‰ï¼šç”¨äºå®šä¹‰ç»„ä»¶çš„äº‹ä»¶å’Œäº¤äº’è¡Œä¸º</li>
<li>ç¤ºä¾‹ï¼š
<ul>
<li><code>@APIEventAnnotation</code>ï¼šæ ¸å¿ƒåŸºç¡€è¡Œä¸ºé…ç½®ï¼Œå®šä¹‰äº‹ä»¶äº¤äº’è¡Œä¸º</li>
<li><code>@ModuleAnnotation</code>ï¼šæ¨¡å—å®šä¹‰æ³¨è§£ï¼Œç”¨äºå®šä¹‰åº”ç”¨æ¨¡å—</li>
</ul>
</li>
<li>ä½œç”¨ï¼šç»‘å®šå‰ç«¯äº‹ä»¶ä¸åç«¯æœåŠ¡ï¼Œå®šä¹‰äº¤äº’é€»è¾‘</li>
</ul>
<p><strong>4. é…ç½®æ³¨è§£</strong></p>
<ul>
<li>å®šä¹‰ï¼šç”¨äºå®Œå–„ç»„ä»¶çš„å¤–è§‚å’ŒåŸºæœ¬è¡Œä¸º</li>
<li>ç¤ºä¾‹ï¼š
<ul>
<li><code>@CustomAnnotation</code>ï¼šåº•å±‚é€šç”¨å¤–è§‚é…ç½®ï¼ŒåŒ…å«captionã€indexã€imageClassç­‰å±æ€§</li>
<li><code>@CustomListAnnotation</code>ï¼šè‡ªå®šä¹‰åˆ—è¡¨é…ç½®ï¼Œç”¨äºå¢å¼ºæšä¸¾å­—æ®µçš„æ•°æ®èƒ½åŠ›</li>
</ul>
</li>
<li>ä½œç”¨ï¼šå¢å¼ºç»„ä»¶çš„å¤–è§‚å’ŒåŠŸèƒ½</li>
</ul>
<p><strong>5. èœå•æ³¨è§£</strong></p>
<ul>
<li>å®šä¹‰ï¼šç”¨äºå®šä¹‰èœå•å’Œå·¥å…·æ </li>
<li>ç¤ºä¾‹ï¼š
<ul>
<li><code>@ToolBarMenu</code>ï¼šå·¥å…·æ é…ç½®</li>
<li><code>@BottomBarMenu</code>ï¼šåº•éƒ¨æ é…ç½®</li>
</ul>
</li>
<li>ä½œç”¨ï¼šå®šä¹‰é¡µé¢çš„å¯¼èˆªå’Œæ“ä½œèœå•</li>
</ul>
<p><strong>6. æœåŠ¡æ³¨è§£</strong></p>
<ul>
<li>å®šä¹‰ï¼šç”¨äºå®šä¹‰æœåŠ¡çš„Webè®¿é—®æ€§</li>
<li>ç¤ºä¾‹ï¼š
<ul>
<li><code>@RestController</code>ï¼šå®šä¹‰Webå¯è®¿é—®çš„æ§åˆ¶å™¨</li>
<li><code>@Service</code>ï¼šå®šä¹‰ä¸šåŠ¡æœåŠ¡</li>
<li><code>@Aggregation</code>ï¼šå®šä¹‰èšåˆæœåŠ¡</li>
</ul>
</li>
<li>ä½œç”¨ï¼šç¡®ä¿æœåŠ¡å¯ä»¥è¢«Webè®¿é—®ï¼Œå®ç°å‰åç«¯é€šè®¯</li>
</ul>
<h5 data-id="heading-38">4.1.2 æ³¨è§£ä½¿ç”¨ç¤ºä¾‹</h5>
<p>ä»æŠ€æœ¯æ–‡æ¡£ä¸­å¯ä»¥çœ‹åˆ°ï¼ŒOoderçš„æ³¨è§£ä½¿ç”¨éµå¾ªä¸¥æ ¼çš„è§„èŒƒï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è§†å›¾ç±»æ³¨è§£ç¤ºä¾‹</span>
<span class="hljs-meta">@FormAnnotation(
    borderType = BorderType.inset,
    col = 2,
    row = 8,
    customService = {EmployeeManagementService.class}
)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EmployeeManagementView</span> {
    <span class="hljs-comment">// å­—æ®µæ³¨è§£ç¤ºä¾‹</span>
    <span class="hljs-meta">@InputAnnotation(maxlength = 10, required = true)</span>
    <span class="hljs-meta">@CustomAnnotation(caption = "å‘˜å·¥ID", index = 1, imageClass = "fa-solid fa-id-card")</span>
    <span class="hljs-meta">@Uid</span>
    <span class="hljs-keyword">private</span> String employeeId;
    
    <span class="hljs-comment">// è¡Œä¸ºæ³¨è§£ç¤ºä¾‹</span>
    <span class="hljs-meta">@ButtonAnnotation(buttonType = ButtonType.primary)</span>
    <span class="hljs-meta">@CustomAnnotation(caption = "ä¿å­˜", index = 10, imageClass = "fa-solid fa-save")</span>
    <span class="hljs-meta">@APIEventAnnotation(
        bindAction = {CustomAction.SAVE},
        customRequestData = {RequestPathEnum.CURRFORM},
        beforeInvoke = CustomBeforInvoke.BUSY,
        onExecuteSuccess = CustomOnExecueSuccess.MESSAGE
    )</span>
    <span class="hljs-keyword">private</span> String saveButton;
}
</code></pre>
<h5 data-id="heading-39">4.1.3 æ³¨è§£ä½¿ç”¨çº¦æŸ</h5>
<p>ä¸ºç¡®ä¿æ³¨è§£çš„æ­£ç¡®ä½¿ç”¨ï¼Œé¿å…æ»¥ç”¨å¯¼è‡´çš„æ€§èƒ½é—®é¢˜å’Œç»´æŠ¤å›°éš¾ï¼ŒOoder A2UIå®šä¹‰äº†æ ¸å¿ƒæ³¨è§£çš„ä½¿ç”¨çº¦æŸå’Œç¦ç”¨åœºæ™¯ï¼š</p>



































<table><thead><tr><th>æ³¨è§£</th><th>æ ¸å¿ƒç”¨é€”</th><th>ç¦ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>@APIEventAnnotation</code></td><td>ç»‘å®šå‰ç«¯äº‹ä»¶ä¸åç«¯æœåŠ¡</td><td>éç”¨æˆ·äº¤äº’åœºæ™¯ï¼ˆå¦‚åå°å®šæ—¶ä»»åŠ¡ã€æ•°æ®åŒæ­¥ï¼‰</td></tr><tr><td><code>@Aggregation</code></td><td>èšåˆå¤šæœåŠ¡æ¥å£</td><td>å•ä¸€èŒè´£çš„åŸºç¡€æœåŠ¡ï¼ˆåº”ä¿æŒæœåŠ¡åŸå­æ€§ï¼‰</td></tr><tr><td><code>@CustomAnnotation</code></td><td>é…ç½®ç»„ä»¶å¤–è§‚</td><td>é…ç½®ç»„ä»¶ä¸šåŠ¡é€»è¾‘ï¼ˆä¸šåŠ¡é€»è¾‘åº”åœ¨æœåŠ¡å±‚å®ç°ï¼‰</td></tr><tr><td><code>@FormAnnotation</code></td><td>å®šä¹‰è¡¨å•è§†å›¾ç»“æ„</td><td>éè¡¨å•ç±»è§†å›¾ï¼ˆå¦‚çº¯å±•ç¤ºå‹è§†å›¾ã€æ ‘å½¢è§†å›¾ï¼‰</td></tr><tr><td><code>@APIEventAnnotation</code></td><td>å®šä¹‰äº‹ä»¶äº¤äº’è¡Œä¸º</td><td>ç®€å•çš„å‰ç«¯æœ¬åœ°äº¤äº’ï¼ˆæ— éœ€åç«¯æœåŠ¡çš„äº¤äº’ï¼‰</td></tr></tbody></table>
<p><strong>ä½¿ç”¨çº¦æŸè¯´æ˜</strong>ï¼š</p>
<ol>
<li><strong>å•ä¸€èŒè´£åŸåˆ™</strong>ï¼šæ¯ä¸ªæ³¨è§£ä»…ç”¨äºå…¶è®¾è®¡çš„æ ¸å¿ƒç”¨é€”ï¼Œé¿å…åŠŸèƒ½è¿‡è½½</li>
<li><strong>åˆ†å±‚ä½¿ç”¨åŸåˆ™</strong>ï¼šè§†å›¾å±‚æ³¨è§£ä»…ç”¨äºè§†å›¾ç±»ï¼ŒæœåŠ¡å±‚æ³¨è§£ä»…ç”¨äºæœåŠ¡ç±»ï¼Œé¿å…è·¨å±‚ä½¿ç”¨</li>
<li><strong>æœ€å°åŒ–ä½¿ç”¨åŸåˆ™</strong>ï¼šä»…ä½¿ç”¨å¿…è¦çš„æ³¨è§£ï¼Œé¿å…è¿‡åº¦é…ç½®</li>
<li><strong>ä¸€è‡´æ€§åŸåˆ™</strong>ï¼šç›¸åŒç±»å‹çš„ç»„ä»¶ä½¿ç”¨ç»Ÿä¸€çš„æ³¨è§£é…ç½®é£æ ¼</li>
</ol>
<h4 data-id="heading-40">4.2 è§†å›¾ç»„ä»¶</h4>
<p>è§†å›¾ç»„ä»¶æ˜¯Ooder A2UIåº”ç”¨çš„æ ¸å¿ƒï¼Œè´Ÿè´£UIå±•ç¤ºå’Œç”¨æˆ·äº¤äº’ï¼Œé€šè¿‡æ³¨è§£å®šä¹‰å’Œé…ç½®ã€‚</p>
<h5 data-id="heading-41">4.2.1 ç»„ä»¶åˆ†ç±»</h5>
<p><strong>1. åŸºæœ¬ç»„ä»¶</strong></p>
<ul>
<li>å®šä¹‰ï¼šæä¾›åŸºæœ¬UIåŠŸèƒ½çš„åŸå­ç»„ä»¶</li>
<li>ç¤ºä¾‹ï¼šè¾“å…¥æ¡†ã€æŒ‰é’®ã€ä¸‹æ‹‰æ¡†ã€æ—¥æœŸé€‰æ‹©å™¨ç­‰</li>
<li>ç‰¹ç‚¹ï¼šåŠŸèƒ½å•ä¸€ï¼Œé«˜åº¦å¯å¤ç”¨</li>
<li>å®ç°ï¼šé€šè¿‡å­—æ®µæ³¨è§£å®šä¹‰ï¼Œå¦‚<code>@InputAnnotation</code>ã€<code>@ButtonAnnotation</code>ç­‰</li>
</ul>
<p><strong>2. å®¹å™¨ç»„ä»¶</strong></p>
<ul>
<li>å®šä¹‰ï¼šç”¨äºç»„ç»‡å’Œå¸ƒå±€å…¶ä»–ç»„ä»¶çš„ç»„ä»¶</li>
<li>ç¤ºä¾‹ï¼šè¡¨å•ã€ç½‘æ ¼ã€æ ‡ç­¾é¡µã€é¢æ¿ç­‰</li>
<li>ç‰¹ç‚¹ï¼šå¯ä»¥åŒ…å«å…¶ä»–ç»„ä»¶ï¼Œç®¡ç†å­ç»„ä»¶çš„å¸ƒå±€å’Œç”Ÿå‘½å‘¨æœŸ</li>
<li>å®ç°ï¼šé€šè¿‡è§†å›¾æ³¨è§£å®šä¹‰ï¼Œå¦‚<code>@FormAnnotation</code>ã€<code>@GridAnnotation</code>ç­‰</li>
</ul>
<p><strong>3. å¯¼èˆªç»„ä»¶</strong></p>
<ul>
<li>å®šä¹‰ï¼šç”¨äºå®ç°é¡µé¢å¯¼èˆªå’Œæ•°æ®å±•ç¤ºçš„ç»„ä»¶</li>
<li>ç¤ºä¾‹ï¼šæ ‘å½¢ç»“æ„ã€èœå•ã€é¢åŒ…å±‘ç­‰</li>
<li>ç‰¹ç‚¹ï¼šé€šå¸¸ç”¨äºå±•ç¤ºå±‚çº§æ•°æ®ï¼Œå®ç°å¯¼èˆªåŠŸèƒ½</li>
<li>å®ç°ï¼šé€šè¿‡ç‰¹å®šçš„è§†å›¾æ³¨è§£å®šä¹‰ï¼Œå¦‚<code>@TreeAnnotation</code>ç­‰</li>
</ul>
<p><strong>4. æ•°æ®å¯è§†åŒ–ç»„ä»¶</strong></p>
<ul>
<li>å®šä¹‰ï¼šç”¨äºå±•ç¤ºå’Œåˆ†ææ•°æ®çš„ç»„ä»¶</li>
<li>ç¤ºä¾‹ï¼šå›¾è¡¨ã€æŠ¥è¡¨ã€ä»ªè¡¨ç›˜ç­‰</li>
<li>ç‰¹ç‚¹ï¼šæ”¯æŒå¤šç§æ•°æ®å±•ç¤ºæ–¹å¼ï¼Œå¯è§†åŒ–æ•ˆæœä¸°å¯Œ</li>
<li>å®ç°ï¼šé€šè¿‡ç‰¹å®šçš„è§†å›¾æ³¨è§£å®šä¹‰ï¼Œå¦‚<code>@ChartAnnotation</code>ç­‰</li>
</ul>
<h5 data-id="heading-42">4.2.2 ç»„ä»¶è®¾è®¡åŸåˆ™</h5>
<p>ä»æŠ€æœ¯æ–‡æ¡£ä¸­å¯ä»¥æå–å‡ºOoderè§†å›¾ç»„ä»¶çš„è®¾è®¡åŸåˆ™ï¼š</p>
<ol>
<li>
<p><strong>å®¹å™¨ç»„ä»¶ä¸å±•ç¤ºç»„ä»¶åˆ†ç¦»</strong></p>
<ul>
<li>å®¹å™¨ç»„ä»¶è´Ÿè´£ä¸šåŠ¡é€»è¾‘å¤„ç†å’Œæ•°æ®ç®¡ç†</li>
<li>å±•ç¤ºç»„ä»¶è´Ÿè´£UIæ¸²æŸ“ï¼Œæ— çŠ¶æ€</li>
<li>æé«˜ç»„ä»¶çš„å¯å¤ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§</li>
</ul>
</li>
<li>
<p><strong>Pageä¸ºä¸­å¿ƒçš„å‰ç«¯ç»„ä»¶ç»„ç»‡</strong></p>
<ul>
<li>Pageæ˜¯å‰ç«¯ç»„ä»¶çš„æ ¹å®¹å™¨ï¼Œç»„ç»‡æ‰€æœ‰å­ç»„ä»¶</li>
<li>åŠ¨æ€ç»„ä»¶åŠ è½½ï¼Œæ ¹æ®ä¸šåŠ¡éœ€æ±‚åŠ¨æ€åŠ è½½å’Œå¸è½½ç»„ä»¶</li>
<li>ç»Ÿä¸€ç®¡ç†ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ</li>
<li>é€šè¿‡PageCtxç®¡ç†é¡µé¢è¿è¡Œæ‰€éœ€çš„æ‰€æœ‰ä¸Šä¸‹æ–‡ä¿¡æ¯</li>
</ul>
</li>
<li>
<p><strong>å››åˆ†ç¦»è®¾è®¡åŸåˆ™</strong></p>
<ul>
<li>å±æ€§ã€æ ·å¼ã€äº‹ä»¶ã€è¡Œä¸ºåˆ†ç¦»</li>
<li>å®ç°é«˜å†…èšä½è€¦åˆçš„ç»„ä»¶è®¾è®¡</li>
<li>ä¾¿äºç»´æŠ¤å’Œæ‰©å±•</li>
</ul>
</li>
</ol>
<h4 data-id="heading-43">4.3 æœåŠ¡ç»„ä»¶</h4>
<p>æœåŠ¡ç»„ä»¶è´Ÿè´£ä¸šåŠ¡é€»è¾‘å¤„ç†ï¼Œæä¾›Webå¯è®¿é—®çš„æœåŠ¡æ–¹æ³•ï¼Œæ˜¯Ooder A2UIåç«¯çš„æ ¸å¿ƒã€‚</p>
<h5 data-id="heading-44">4.3.1 æœåŠ¡åˆ†ç±»</h5>
<p><strong>1. APIæœåŠ¡</strong></p>
<ul>
<li>å®šä¹‰ï¼šé€šè¿‡<code>@RestController</code>æ³¨è§£å®šä¹‰Webå¯è®¿é—®çš„æœåŠ¡</li>
<li>ç‰¹ç‚¹ï¼šç›´æ¥å¯¹å¤–æš´éœ²HTTPæ¥å£ï¼Œå¤„ç†å‰åç«¯é€šè®¯</li>
<li>å®ç°ï¼šä½¿ç”¨SpringMVCæ³¨è§£ï¼Œå¦‚<code>@GetMapping</code>ã€<code>@PostMapping</code>ç­‰</li>
<li>ç¤ºä¾‹ï¼š
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping("/employee/management")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EmployeeManagementController</span> {
    <span class="hljs-meta">@PostMapping("/save")</span>
    <span class="hljs-keyword">public</span> ResultModel&lt;Boolean&gt; <span class="hljs-title function_">saveEmployee</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> EmployeeManagementView view)</span> {
        <span class="hljs-comment">// ä¿å­˜å‘˜å·¥ä¿¡æ¯é€»è¾‘</span>
    }
}
</code></pre>
</li>
</ul>
<p><strong>2. ä¸šåŠ¡æœåŠ¡</strong></p>
<ul>
<li>å®šä¹‰ï¼šå®ç°å…·ä½“çš„ä¸šåŠ¡é€»è¾‘</li>
<li>ç‰¹ç‚¹ï¼šå°è£…ä¸šåŠ¡è§„åˆ™å’Œå¤„ç†é€»è¾‘ï¼Œè¢«APIæœåŠ¡è°ƒç”¨</li>
<li>å®ç°ï¼šä½¿ç”¨<code>@Service</code>æ³¨è§£</li>
<li>ç¤ºä¾‹ï¼š
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EmployeeManagementService</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">saveEmployee</span><span class="hljs-params">(EmployeeManagementView view)</span> {
        <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘å¤„ç†</span>
    }
}
</code></pre>
</li>
</ul>
<p><strong>3. èšåˆæœåŠ¡</strong></p>
<ul>
<li>å®šä¹‰ï¼šé€šè¿‡<code>@Aggregation</code>æ³¨è§£å®ç°æœåŠ¡èšåˆ</li>
<li>ç‰¹ç‚¹ï¼šæ•´åˆå¤šä¸ªæœåŠ¡çš„åŠŸèƒ½ï¼Œæä¾›ç»Ÿä¸€çš„æœåŠ¡æ¥å£</li>
<li>å®ç°ï¼šä½¿ç”¨<code>@Aggregation</code>æ³¨è§£ï¼ŒæŒ‡å®šèšåˆç±»å‹å’Œç”¨æˆ·ç©ºé—´</li>
<li>ç¤ºä¾‹ï¼š
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Aggregation(type = AggregationType.API, userSpace = UserSpace.SYS)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AggregatedService</span> {
    <span class="hljs-comment">// èšåˆæœåŠ¡å®ç°</span>
}
</code></pre>
</li>
</ul>
<h5 data-id="heading-45">4.3.2 æœåŠ¡è®¾è®¡åŸåˆ™</h5>
<p>ä»æŠ€æœ¯æ–‡æ¡£ä¸­å¯ä»¥æå–å‡ºOoderæœåŠ¡ç»„ä»¶çš„è®¾è®¡åŸåˆ™ï¼š</p>
<ol>
<li>
<p><strong>ä¸šåŠ¡é€»è¾‘ä¸æ•°æ®è®¿é—®åˆ†ç¦»</strong></p>
<ul>
<li>æœåŠ¡å±‚è´Ÿè´£ä¸šåŠ¡é€»è¾‘ï¼Œä»“åº“å±‚è´Ÿè´£æ•°æ®è®¿é—®</li>
<li>æé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯æµ‹è¯•æ€§</li>
</ul>
</li>
<li>
<p><strong>æœåŠ¡æ–¹æ³•å•ä¸€èŒè´£</strong></p>
<ul>
<li>æ¯ä¸ªæœåŠ¡æ–¹æ³•åªåšä¸€ä»¶äº‹</li>
<li>æé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§</li>
</ul>
</li>
<li>
<p><strong>ç»Ÿä¸€è¿”å›æ ¼å¼</strong></p>
<ul>
<li>ä½¿ç”¨<code>ResultModel</code>ç»Ÿä¸€APIè¿”å›æ ¼å¼</li>
<li>åŒ…å«çŠ¶æ€ç ã€æ¶ˆæ¯å’Œæ•°æ®</li>
<li>ä¾¿äºå‰ç«¯ç»Ÿä¸€å¤„ç†å“åº”</li>
</ul>
</li>
<li>
<p><strong>å¼‚å¸¸å¤„ç†è§„èŒƒ</strong></p>
<ul>
<li>æä¾›å®Œå–„çš„å¼‚å¸¸å¤„ç†æœºåˆ¶</li>
<li>ç»Ÿä¸€å¼‚å¸¸æ ¼å¼ï¼Œä¾¿äºå‰ç«¯å¤„ç†</li>
</ul>
</li>
</ol>
<h4 data-id="heading-46">4.4 é€šè®¯ç»„ä»¶</h4>
<p>é€šè®¯ç»„ä»¶è´Ÿè´£å‰åç«¯æ•°æ®äº¤äº’ï¼Œæ˜¯è¿æ¥å‰ç«¯è§†å›¾å’Œåç«¯æœåŠ¡çš„æ¡¥æ¢ã€‚</p>
<h5 data-id="heading-47">4.4.1 æ ¸å¿ƒé€šè®¯ç»„ä»¶</h5>
<p><strong>1. APIEvent</strong></p>
<ul>
<li>å®šä¹‰ï¼šå®šä¹‰å‰ç«¯äº‹ä»¶ä¸åç«¯æœåŠ¡çš„ç»‘å®šå…³ç³»</li>
<li>å®ç°ï¼šé€šè¿‡<code>@APIEventAnnotation</code>æ³¨è§£å®šä¹‰</li>
<li>ç‰¹ç‚¹ï¼šæ”¯æŒäº‹ä»¶ç»‘å®šã€æœåŠ¡è°ƒç”¨ã€æ•°æ®å¤„ç†ç­‰åŠŸèƒ½</li>
<li>ä½œç”¨ï¼šå°†å‰ç«¯äº‹ä»¶ä¸åç«¯æœåŠ¡ç»‘å®šï¼Œå®ç°å‰åç«¯äº¤äº’</li>
</ul>
<p><strong>2. RequestPathEnum/ResponsePathEnum</strong></p>
<ul>
<li>å®šä¹‰ï¼šæ§åˆ¶å‰åç«¯æ•°æ®æµå‘çš„æšä¸¾ç±»</li>
<li>å®ç°ï¼šé€šè¿‡æšä¸¾å€¼å®šä¹‰æ•°æ®æµå‘</li>
<li>ç‰¹ç‚¹ï¼šæ”¯æŒå¤šç§æ•°æ®æµå‘ï¼Œå¦‚CURRFORMã€DATAã€CONTEXTç­‰</li>
<li>ä½œç”¨ï¼šæ§åˆ¶è¯·æ±‚å’Œå“åº”çš„æ•°æ®è·¯å¾„ï¼Œå®ç°æ•°æ®çš„æ­£ç¡®ä¼ é€’</li>
</ul>
<p><strong>3. ResultModel</strong></p>
<ul>
<li>å®šä¹‰ï¼šç»Ÿä¸€çš„APIè¿”å›æ ¼å¼</li>
<li>å®ç°ï¼šåŒ…å«codeã€messageã€dataç­‰å­—æ®µ</li>
<li>ç‰¹ç‚¹ï¼šç»Ÿä¸€çš„è¿”å›æ ¼å¼ï¼Œä¾¿äºå‰ç«¯å¤„ç†</li>
<li>ä½œç”¨ï¼šç¡®ä¿APIè¿”å›æ ¼å¼ä¸€è‡´ï¼Œä¾¿äºå‰ç«¯ç»Ÿä¸€å¤„ç†å“åº”</li>
</ul>
<h5 data-id="heading-48">4.4.2 é€šè®¯æœºåˆ¶</h5>
<p>ä»æŠ€æœ¯æ–‡æ¡£ä¸­å¯ä»¥æå–å‡ºOoderçš„é€šè®¯æœºåˆ¶ï¼š</p>
<ol>
<li>
<p><strong>æ³¨è§£é©±åŠ¨çš„é€šè®¯</strong></p>
<ul>
<li>é€šè¿‡<code>@APIEventAnnotation</code>å®šä¹‰é€šè®¯è¡Œä¸º</li>
<li>åœ¨Pageåˆå§‹åŒ–æ—¶åŠ¨æ€å®Œæˆé€šè®¯ç»„ä»¶çš„æ³¨å…¥</li>
<li>é€šè¿‡æ³¨è§£æ‰©å±•é€šè®¯ç»„ä»¶çš„è¡Œä¸º</li>
<li>æ”¯æŒé€šè¿‡æ³¨è§£çµæ´»é…ç½®é€šè®¯å‚æ•°</li>
</ul>
</li>
<li>
<p><strong>é€šè®¯ç»„ä»¶ä¸å®¹å™¨ç»„ä»¶çš„ç»‘å®š</strong></p>
<ul>
<li>Pageåˆå§‹åŒ–æ—¶è‡ªåŠ¨å®Œæˆç»‘å®š</li>
<li>æ”¯æŒæ‰‹åŠ¨æŒ‡å®šç»‘å®šå…³ç³»</li>
<li>æ”¯æŒè¿è¡Œæ—¶åŠ¨æ€è°ƒæ•´ç»‘å®šå…³ç³»</li>
<li>é€šè¿‡ç»‘å®šæœºåˆ¶å®ç°ç»„ä»¶é—´è§£è€¦</li>
</ul>
</li>
</ol>
<h4 data-id="heading-49">4.5 Pageæœºåˆ¶</h4>
<p>Pageæ˜¯Ooderå¹³å°ä¸­é¢å‘ç”¨æˆ·çš„æœ€å°å•ä½ï¼Œä½œä¸ºè§†å›¾çš„å®¹å™¨ï¼Œå®ƒå°†å„ç§è§†å›¾ç»„ä»¶æœ‰æœºåœ°ç»„ç»‡åœ¨ä¸€èµ·ã€‚</p>
<h5 data-id="heading-50">4.5.1 æ ¸å¿ƒåŠŸèƒ½</h5>
<p><strong>1. åŠ¨æ€åŒ…è£…</strong></p>
<ul>
<li>å®ç°ï¼šé€šè¿‡Webå®¹å™¨æ‹¦æˆªæœºåˆ¶åŠ¨æ€åŒ…è£…Page</li>
<li>ä½œç”¨ï¼šå°†è§†å›¾å¯¹è±¡è‡ªåŠ¨åŒ…è£…ä¸ºPageå¯¹è±¡ï¼Œæ·»åŠ å…¬å…±æ€§æ”¯æ’‘åŠŸèƒ½</li>
</ul>
<p><strong>2. ç»„ä»¶ç»„ç»‡</strong></p>
<ul>
<li>å®ç°ï¼šå°†å„ç§è§†å›¾ç»„ä»¶æœ‰æœºåœ°ç»„ç»‡åœ¨Pageä¸­</li>
<li>ä½œç”¨ï¼šç®¡ç†é¡µé¢çš„å¸ƒå±€å’Œç»„ä»¶å±‚æ¬¡ç»“æ„</li>
</ul>
<p><strong>3. ç¯å¢ƒç®¡ç†</strong></p>
<ul>
<li>å®ç°ï¼šåŒ…å«å½“å‰ç¯å¢ƒå˜é‡ã€æ•°æ®é€šè®¯ç»„ä»¶ã€æ¶ˆæ¯ç»„ä»¶ã€æ ·å¼ä¸»ä½“ç»„ä»¶ç­‰å…¬å…±æ€§æ”¯æ’‘åŠŸèƒ½</li>
<li>ä½œç”¨ï¼šä¸ºé¡µé¢å†…çš„ç»„ä»¶æä¾›å…¬å…±æœåŠ¡å’Œèµ„æº</li>
</ul>
<p><strong>4. ç”Ÿå‘½å‘¨æœŸç®¡ç†</strong></p>
<ul>
<li>å®ç°ï¼šç®¡ç†Pageçš„åˆ›å»ºã€åˆå§‹åŒ–ã€è¿è¡Œå’Œé”€æ¯è¿‡ç¨‹</li>
<li>ä½œç”¨ï¼šç¡®ä¿é¡µé¢å’Œç»„ä»¶çš„æ­£ç¡®åˆå§‹åŒ–å’Œé”€æ¯</li>
<li>æä¾›å®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼Œæ”¯æŒè‡ªå®šä¹‰æ‰©å±•</li>
</ul>
<p><strong>Pageç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°</strong>ï¼š</p>






























<table><thead><tr><th>ç”Ÿå‘½å‘¨æœŸé˜¶æ®µ</th><th>é’©å­å‡½æ•°</th><th>æ ¸å¿ƒä½œç”¨</th></tr></thead><tbody><tr><td>Pageåˆå§‹åŒ–</td><td><code>onPageCreate(PageCtx ctx)</code></td><td>åˆå§‹åŒ–ä¸Šä¸‹æ–‡ã€åŠ è½½å…¬å…±èµ„æº</td></tr><tr><td>ç»„ä»¶æ¸²æŸ“å‰</td><td><code>onComponentBeforeMount(ComponentMeta meta)</code></td><td>ä¿®æ”¹ç»„ä»¶åˆå§‹é…ç½®</td></tr><tr><td>ç»„ä»¶æ¸²æŸ“å</td><td><code>onComponentMounted(DOMElement el)</code></td><td>ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ã€åˆå§‹åŒ–ç¬¬ä¸‰æ–¹æ’ä»¶</td></tr><tr><td>Pageé”€æ¯</td><td><code>onPageDestroy()</code></td><td>é‡Šæ”¾èµ„æºã€å–æ¶ˆäº‹ä»¶ç›‘å¬</td></tr></tbody></table>
<h5 data-id="heading-51">4.5.2 PageåŠ¨æ€ç”Ÿæˆæœºåˆ¶</h5>
<p>ä»æŠ€æœ¯æ–‡æ¡£ä¸­å¯ä»¥æå–å‡ºPageåŠ¨æ€ç”Ÿæˆæœºåˆ¶ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ç”¨æˆ·ç›´æ¥è®¿é—®è§†å›¾å…¥å£URL</span>
<span class="hljs-comment">// Webå®¹å™¨æ‹¦æˆªè¯·æ±‚å¹¶åŠ¨æ€ç”ŸæˆPageå¯¹è±¡</span>
<span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping("/user/management")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserManagementViewController</span> {
    <span class="hljs-comment">// è§†å›¾å…¥å£æ–¹æ³•å…·æœ‰Webå¯è®¿é—®æ€§</span>
    <span class="hljs-meta">@GetMapping</span>
    <span class="hljs-keyword">public</span> UserManagementView <span class="hljs-title function_">getUserManagementView</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// è¿”å›è§†å›¾å¯¹è±¡ï¼ŒWebå®¹å™¨è‡ªåŠ¨åŒ…è£…ä¸ºPage</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserManagementView</span>();
    }
}
</code></pre>
<p><strong>PageåŠ¨æ€ç”Ÿæˆæµç¨‹</strong>ï¼š</p>
<ol>
<li>ç”¨æˆ·è®¿é—®è§†å›¾å…¥å£URL</li>
<li>Webå®¹å™¨æ‹¦æˆªè¯·æ±‚</li>
<li>è°ƒç”¨è§†å›¾å…¥å£æ–¹æ³•è·å–è§†å›¾å¯¹è±¡</li>
<li>åŠ¨æ€ç”ŸæˆPageå¯¹è±¡ï¼ŒåŒ…è£…è§†å›¾å¯¹è±¡</li>
<li>åˆå§‹åŒ–Pageä¸Šä¸‹æ–‡å’Œé€šè®¯ç»„ä»¶</li>
<li>è¿”å›å®Œæ•´çš„Pageå¯¹è±¡ç»™å‰ç«¯</li>
</ol>
<h5 data-id="heading-52">4.5.3 ä¸Šä¸‹æ–‡ç®¡ç†</h5>
<p>PageCtxæ˜¯Pageçš„ä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œè´Ÿè´£ç®¡ç†é¡µé¢è¿è¡Œæ‰€éœ€çš„æ‰€æœ‰ç¯å¢ƒå˜é‡å’Œæ•°æ®ï¼š</p>
<p><strong>1. ç¯å¢ƒå˜é‡ç®¡ç†</strong></p>
<ul>
<li>ç®¡ç†é¡µé¢è¿è¡Œæ‰€éœ€çš„æ‰€æœ‰ç¯å¢ƒå˜é‡</li>
<li>æä¾›å…¨å±€è®¿é—®æ¥å£</li>
</ul>
<p><strong>2. ç”¨æˆ·ä¼šè¯ç®¡ç†</strong></p>
<ul>
<li>ç®¡ç†ç”¨æˆ·ä¼šè¯ä¿¡æ¯</li>
<li>æ”¯æŒä¼šè¯çŠ¶æ€ä¿æŒ</li>
</ul>
<p><strong>3. é¡µé¢å‚æ•°ç®¡ç†</strong></p>
<ul>
<li>ç®¡ç†é¡µé¢å‚æ•°çš„ä¼ é€’å’ŒåŒæ­¥</li>
<li>æ”¯æŒURLå‚æ•°è‡ªåŠ¨æ±‡èš</li>
</ul>
<p><strong>4. æ•°æ®å…±äº«</strong></p>
<ul>
<li>å®ç°ä¸åŒç»„ä»¶é—´çš„æ•°æ®å…±äº«å’Œé€šä¿¡</li>
<li>æ”¯æŒç»„ä»¶é—´äº‹ä»¶ä¼ é€’</li>
</ul>
<p><strong>ä¸Šä¸‹æ–‡ç®¡ç†ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è§†å›¾å…¥å£ç±»</span>
<span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping("/employee/management")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EmployeeManagementViewController</span> {
    <span class="hljs-meta">@GetMapping</span>
    <span class="hljs-keyword">public</span> EmployeeManagementView <span class="hljs-title function_">getEmployeeManagementView</span><span class="hljs-params">(
        <span class="hljs-meta">@RequestParam(required = false)</span> String departmentId,
        <span class="hljs-meta">@RequestParam(required = false)</span> String employeeName)</span> {
        
        <span class="hljs-type">EmployeeManagementView</span> <span class="hljs-variable">view</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">EmployeeManagementView</span>();
        
        <span class="hljs-comment">// å‚æ•°ä¼šè‡ªåŠ¨æ±‡èšåˆ°Pageä¸Šä¸‹æ–‡ç¯å¢ƒ</span>
        <span class="hljs-comment">// PageCtxä¸­ä¼šåŒ…å«departmentIdå’ŒemployeeNameå‚æ•°</span>
        <span class="hljs-keyword">return</span> view;
    }
}
</code></pre>
<h3 data-id="heading-53">5. å·¥ä½œåŸç†</h3>
<h4 data-id="heading-54">5.1 ç¼–è¯‘æœŸæµç¨‹</h4>
<p>ç¼–è¯‘æœŸæµç¨‹æ˜¯Ooder A2UIå°†æ³¨è§£è½¬æ¢ä¸ºå¯æ‰§è¡Œç¨‹åºçš„ç¬¬ä¸€é˜¶æ®µï¼Œä¸»è¦åœ¨Pageåˆå§‹åŒ–è¿‡ç¨‹ä¸­å®Œæˆã€‚</p>
<h5 data-id="heading-55">5.1.1 æ³¨è§£æ‰«æä¸è§£æ</h5>
<ol>
<li>
<p><strong>è§†å›¾å±‚æ³¨è§£æ‰«æ</strong>ï¼š</p>
<ul>
<li>æ‰«æ<code>@FormViewAnnotation</code>ã€<code>@GridViewAnnotation</code>ç­‰è§†å›¾æ³¨è§£</li>
<li>ç¡®å®šè§†å›¾çš„ç±»å‹ã€å¸ƒå±€å’ŒåŸºæœ¬æ ·å¼</li>
<li>æå–è§†å›¾çš„è‡ªå®šä¹‰æœåŠ¡å’Œé…ç½®ä¿¡æ¯</li>
</ul>
</li>
<li>
<p><strong>å­—æ®µæ³¨è§£æ‰«æ</strong>ï¼š</p>
<ul>
<li>æ‰«æ<code>@InputAnnotation</code>ã€<code>@DatePickerAnnotation</code>ç­‰å­—æ®µæ³¨è§£</li>
<li>ç¡®å®šæ¯ä¸ªå­—æ®µçš„ç±»å‹ã€éªŒè¯è§„åˆ™å’ŒåŸºæœ¬æ ·å¼</li>
<li>æå–å­—æ®µçš„å¤–è§‚é…ç½®å’Œäº¤äº’è¡Œä¸º</li>
</ul>
</li>
<li>
<p><strong>è¡Œä¸ºæ³¨è§£æ‰«æ</strong>ï¼š</p>
<ul>
<li>æ‰«æ<code>@APIEventAnnotation</code>ç­‰è¡Œä¸ºæ³¨è§£</li>
<li>ç¡®å®šç»„ä»¶çš„äº‹ä»¶å’Œäº¤äº’è¡Œä¸º</li>
<li>æå–äº‹ä»¶ç»‘å®šçš„æœåŠ¡å’Œå‚æ•°é…ç½®</li>
</ul>
</li>
<li>
<p><strong>é…ç½®æ³¨è§£æ‰«æ</strong>ï¼š</p>
<ul>
<li>æ‰«æ<code>@CustomAnnotation</code>ç­‰é…ç½®æ³¨è§£</li>
<li>æå–ç»„ä»¶çš„å¤–è§‚é…ç½®å’Œå¢å¼ºåŠŸèƒ½</li>
<li>åˆå¹¶å’Œå¤„ç†æ³¨è§£é…ç½®ï¼Œæ¶ˆé™¤å†²çª</li>
</ul>
</li>
</ol>
<h5 data-id="heading-56">5.1.2 ç»„ä»¶ç»“æ„ç”Ÿæˆ</h5>
<p>å°†æ³¨è§£ä¿¡æ¯è½¬æ¢ä¸ºå‰ç«¯ç»„ä»¶çš„é…ç½®ä¿¡æ¯ï¼Œç”Ÿæˆç»„ä»¶çš„é™æ€ç»“æ„å’Œåˆå§‹çŠ¶æ€ã€‚</p>
<ol>
<li>
<p><strong>è§†å›¾ç»„ä»¶ç”Ÿæˆ</strong>ï¼š</p>
<ul>
<li>æ ¹æ®è§†å›¾å±‚æ³¨è§£ç”Ÿæˆå¯¹åº”çš„å‰ç«¯è§†å›¾ç»„ä»¶</li>
<li>è®¾ç½®è§†å›¾çš„å¸ƒå±€ã€æ ·å¼å’Œåˆå§‹çŠ¶æ€</li>
<li>ç”Ÿæˆè§†å›¾çš„å®¹å™¨ç»“æ„å’Œå­ç»„ä»¶å ä½ç¬¦</li>
</ul>
</li>
<li>
<p><strong>å­—æ®µç»„ä»¶ç”Ÿæˆ</strong>ï¼š</p>
<ul>
<li>æ ¹æ®å­—æ®µæ³¨è§£ç”Ÿæˆå…·ä½“çš„UIæ§ä»¶</li>
<li>è®¾ç½®æ§ä»¶çš„ç±»å‹ã€éªŒè¯è§„åˆ™å’Œåˆå§‹å€¼</li>
<li>ç”Ÿæˆæ§ä»¶çš„DOMç»“æ„å’Œäº‹ä»¶ç»‘å®š</li>
</ul>
</li>
<li>
<p><strong>å®¹å™¨ç»„ä»¶ç”Ÿæˆ</strong>ï¼š</p>
<ul>
<li>æ ¹æ®å®¹å™¨æ³¨è§£ç”Ÿæˆå®¹å™¨ç±»ç»„ä»¶</li>
<li>è®¾ç½®å®¹å™¨çš„å¸ƒå±€æ–¹å¼å’Œå­ç»„ä»¶ç®¡ç†è§„åˆ™</li>
<li>ç”Ÿæˆå®¹å™¨çš„DOMç»“æ„å’Œæ ·å¼</li>
</ul>
</li>
<li>
<p><strong>é…ç½®ä¿¡æ¯ç”Ÿæˆ</strong>ï¼š</p>
<ul>
<li>æ ¹æ®é…ç½®æ³¨è§£ç”Ÿæˆç»„ä»¶çš„å¤–è§‚å’Œè¡Œä¸ºé…ç½®</li>
<li>ç”Ÿæˆç»„ä»¶çš„JSONé…ç½®ï¼ŒåŒ…æ‹¬å±æ€§ã€æ ·å¼ã€äº‹ä»¶å’Œè¡Œä¸º</li>
<li>å°†é…ç½®ä¿¡æ¯å­˜å‚¨åœ¨ç»„ä»¶çš„é™æ€å±æ€§ä¸­</li>
</ul>
</li>
</ol>
<h5 data-id="heading-57">5.1.3 äº‹ä»¶ç»‘å®šè£…é…</h5>
<p>åœ¨Pageåˆå§‹åŒ–æ—¶å®Œæˆé€šè®¯ç»„ä»¶çš„è£…é…åŠå‰ç«¯ç»„ä»¶äº‹ä»¶ç»‘å®šã€‚</p>
<ol>
<li>
<p><strong>é€šè®¯ç»„ä»¶è£…é…</strong>ï¼š</p>
<ul>
<li>å°†è§†å›¾æ‰€éœ€çš„æ•°æ®æ¥å£è½¬æ¢ä¸ºAjaxå®šä¹‰</li>
<li>åˆå§‹åŒ–é€šè®¯ç»„ä»¶ï¼Œè®¾ç½®è¯·æ±‚URLå’Œå‚æ•°</li>
<li>é…ç½®é€šè®¯ç»„ä»¶çš„å›è°ƒå‡½æ•°å’Œé”™è¯¯å¤„ç†</li>
</ul>
</li>
<li>
<p><strong>äº‹ä»¶ç»‘å®š</strong>ï¼š</p>
<ul>
<li>å°†ç»„ä»¶çš„Eventå®šä¹‰å®ä¾‹åŒ–å¹¶ä¸è§†å›¾/å…ƒç´ è¿›è¡Œç»‘å®š</li>
<li>ä¸ºç»„ä»¶æ·»åŠ äº‹ä»¶ç›‘å¬å™¨ï¼Œç»‘å®šåˆ°å¯¹åº”çš„å¤„ç†å‡½æ•°</li>
<li>é…ç½®äº‹ä»¶çš„è§¦å‘æ¡ä»¶å’Œæ‰§è¡Œé¡ºåº</li>
</ul>
</li>
<li>
<p><strong>å‚æ•°æ±‡èš</strong>ï¼š</p>
<ul>
<li>æ ¹æ®è§†å›¾å…¥å£æ–¹æ³•çš„å‚æ•°ï¼Œå°†å‚æ•°æ±‡èšåˆ°PageCtxé¡µé¢å½“å‰ç¯å¢ƒä¸­</li>
<li>å¤„ç†URLå‚æ•°ã€è¯·æ±‚å¤´å’Œè¯·æ±‚ä½“å‚æ•°</li>
<li>ä¸ºé¡µé¢å†…çš„ç»„ä»¶æä¾›å¯ç”¨çš„ä¸Šä¸‹æ–‡æ•°æ®</li>
</ul>
</li>
<li>
<p><strong>æœåŠ¡ç»‘å®š</strong>ï¼š</p>
<ul>
<li>å°†è§†å›¾æ‰€éœ€çš„æœåŠ¡ç«¯äº¤äº’ä»è§†å›¾ç»‘å®šçš„æœåŠ¡ç±»ä¸­è·å–å¯Webè®¿é—®çš„methodæ–¹æ³•</li>
<li>å»ºç«‹å‰ç«¯ç»„ä»¶äº‹ä»¶ä¸åç«¯æœåŠ¡æ–¹æ³•çš„æ˜ å°„å…³ç³»</li>
<li>é…ç½®æœåŠ¡è°ƒç”¨çš„å‚æ•°è½¬æ¢å’Œå“åº”å¤„ç†</li>
</ul>
</li>
</ol>
<h4 data-id="heading-58">5.2 è¿è¡ŒæœŸæµç¨‹</h4>
<p>è¿è¡ŒæœŸæµç¨‹æ˜¯Ooder A2UIå°†æ³¨è§£è½¬æ¢ä¸ºå¯æ‰§è¡Œç¨‹åºçš„ç¬¬äºŒé˜¶æ®µï¼Œåœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­åŠ¨æ€è°ƒæ•´ç»„ä»¶çŠ¶æ€ã€‚</p>
<h5 data-id="heading-59">5.2.1 Pageåˆå§‹åŒ–</h5>
<ol>
<li>
<p><strong>è¯·æ±‚æ‹¦æˆª</strong>ï¼š</p>
<ul>
<li>ç”¨æˆ·è®¿é—®è§†å›¾å…¥å£URL</li>
<li>Webå®¹å™¨æ‹¦æˆªè¯·æ±‚ï¼Œè°ƒç”¨å¯¹åº”çš„æ§åˆ¶å™¨æ–¹æ³•</li>
<li>æ§åˆ¶å™¨æ–¹æ³•è¿”å›è§†å›¾å¯¹è±¡</li>
</ul>
</li>
<li>
<p><strong>PageåŠ¨æ€ç”Ÿæˆ</strong>ï¼š</p>
<ul>
<li>Webå®¹å™¨è‡ªåŠ¨å°†è§†å›¾å¯¹è±¡åŒ…è£…ä¸ºPageå¯¹è±¡</li>
<li>åˆå§‹åŒ–Pageçš„ä¸Šä¸‹æ–‡ç¯å¢ƒå’Œå…¬å…±ç»„ä»¶</li>
<li>åŠ è½½é¡µé¢æ‰€éœ€çš„èµ„æºå’Œæ ·å¼</li>
</ul>
</li>
<li>
<p><strong>ç»„ä»¶åˆå§‹åŒ–</strong>ï¼š</p>
<ul>
<li>æ ¹æ®ç¼–è¯‘æœŸç”Ÿæˆçš„é…ç½®åˆå§‹åŒ–ç»„ä»¶</li>
<li>ä¸ºç»„ä»¶ç»‘å®šäº‹ä»¶å¤„ç†å‡½æ•°</li>
<li>åŠ è½½ç»„ä»¶çš„åˆå§‹æ•°æ®</li>
</ul>
</li>
</ol>
<h5 data-id="heading-60">5.2.2 ç»„ä»¶æ¸²æŸ“</h5>
<ol>
<li>
<p><strong>é™æ€æ¨¡æ¿æ¸²æŸ“</strong>ï¼š</p>
<ul>
<li>å‰ç«¯ä½¿ç”¨é™æ€æ¨¡æ¿æ¸²æŸ“ç»„ä»¶</li>
<li>æ ¹æ®ç»„ä»¶çš„JSONé…ç½®ç”ŸæˆDOMç»“æ„</li>
<li>åº”ç”¨ç»„ä»¶çš„æ ·å¼å’Œå±æ€§</li>
</ul>
</li>
<li>
<p><strong>æ•°æ®ç»‘å®š</strong>ï¼š</p>
<ul>
<li>å°†PageCtxä¸­çš„æ•°æ®ç»‘å®šåˆ°ç»„ä»¶ä¸Š</li>
<li>åˆå§‹åŒ–ç»„ä»¶çš„åˆå§‹çŠ¶æ€</li>
<li>ä¸ºç»„ä»¶è®¾ç½®é»˜è®¤å€¼å’Œåˆå§‹å±æ€§</li>
</ul>
</li>
<li>
<p><strong>äº‹ä»¶ç»‘å®š</strong>ï¼š</p>
<ul>
<li>ä¸ºç»„ä»¶ç»‘å®šäº‹ä»¶å¤„ç†å‡½æ•°</li>
<li>å»ºç«‹å‰ç«¯äº‹ä»¶ä¸åç«¯æœåŠ¡çš„æ˜ å°„å…³ç³»</li>
<li>é…ç½®äº‹ä»¶çš„è§¦å‘æ¡ä»¶å’Œæ‰§è¡Œé¡ºåº</li>
</ul>
</li>
</ol>
<h5 data-id="heading-61">5.2.3 ç”¨æˆ·äº¤äº’å¤„ç†</h5>
<ol>
<li>
<p><strong>äº‹ä»¶è§¦å‘</strong>ï¼š</p>
<ul>
<li>ç”¨æˆ·ä¸ç»„ä»¶äº¤äº’ï¼Œè§¦å‘ç»„ä»¶äº‹ä»¶</li>
<li>äº‹ä»¶å¤„ç†å‡½æ•°è¢«è°ƒç”¨ï¼Œè·å–äº‹ä»¶ä¸Šä¸‹æ–‡</li>
<li>å‡†å¤‡äº‹ä»¶è°ƒç”¨çš„å‚æ•°å’Œé…ç½®</li>
</ul>
</li>
<li>
<p><strong>æœåŠ¡è°ƒç”¨</strong>ï¼š</p>
<ul>
<li>æ ¹æ®äº‹ä»¶é…ç½®è°ƒç”¨åç«¯å¯¹åº”çš„æœåŠ¡æ–¹æ³•</li>
<li>é€šè¿‡é€šè®¯ç»„ä»¶å‘é€Ajaxè¯·æ±‚</li>
<li>ä¼ é€’è¯·æ±‚å‚æ•°å’Œä¸Šä¸‹æ–‡æ•°æ®</li>
</ul>
</li>
<li>
<p><strong>å“åº”å¤„ç†</strong>ï¼š</p>
<ul>
<li>æ¥æ”¶åç«¯æœåŠ¡çš„å“åº”</li>
<li>å¤„ç†å“åº”æ•°æ®ï¼Œè½¬æ¢ä¸ºå‰ç«¯å¯ç”¨çš„æ ¼å¼</li>
<li>æ›´æ–°PageCtxä¸­çš„æ•°æ®å’Œç»„ä»¶çŠ¶æ€</li>
</ul>
</li>
<li>
<p><strong>çŠ¶æ€æ›´æ–°</strong>ï¼š</p>
<ul>
<li>æ ¹æ®å“åº”æ•°æ®æ›´æ–°ç»„ä»¶çŠ¶æ€</li>
<li>é‡æ–°æ¸²æŸ“å—å½±å“çš„ç»„ä»¶</li>
<li>ä¿æŒç»„ä»¶é—´çš„æ•°æ®ä¸€è‡´æ€§</li>
</ul>
</li>
</ol>
<h5 data-id="heading-62">5.2.4 åŠ¨æ€ç»„ä»¶ç®¡ç†</h5>
<ol>
<li>
<p><strong>ç»„ä»¶ç”Ÿæˆ</strong>ï¼š</p>
<ul>
<li>æ ¹æ®ä¸šåŠ¡éœ€æ±‚åŠ¨æ€ç”Ÿæˆç»„ä»¶</li>
<li>åˆå§‹åŒ–ç»„ä»¶çš„å±æ€§ã€æ ·å¼å’Œäº‹ä»¶</li>
<li>å°†ç»„ä»¶æ·»åŠ åˆ°Pageä¸­è¿›è¡Œç®¡ç†</li>
</ul>
</li>
<li>
<p><strong>ç»„ä»¶é”€æ¯</strong>ï¼š</p>
<ul>
<li>æ ¹æ®ä¸šåŠ¡éœ€æ±‚åŠ¨æ€é”€æ¯ç»„ä»¶</li>
<li>ç§»é™¤ç»„ä»¶çš„äº‹ä»¶ç›‘å¬å™¨å’Œæ•°æ®ç»‘å®š</li>
<li>é‡Šæ”¾ç»„ä»¶å ç”¨çš„èµ„æº</li>
</ul>
</li>
<li>
<p><strong>ç»„ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†</strong>ï¼š</p>
<ul>
<li>ç®¡ç†ç»„ä»¶çš„åˆ›å»ºã€åˆå§‹åŒ–ã€è¿è¡Œå’Œé”€æ¯è¿‡ç¨‹</li>
<li>è°ƒç”¨ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°</li>
<li>ç¡®ä¿ç»„ä»¶çš„æ­£ç¡®åˆå§‹åŒ–å’Œé”€æ¯</li>
</ul>
</li>
</ol>
<h4 data-id="heading-63">5.3 æ•°æ®æµå‘</h4>
<p>Ooder A2UIçš„æ•°æ®æµå‘é€šè¿‡RequestPathEnumå’ŒResponsePathEnumè¿›è¡Œæ§åˆ¶ï¼Œç¡®ä¿æ•°æ®çš„æ­£ç¡®ä¼ é€’å’Œå¤„ç†ã€‚</p>
<h5 data-id="heading-64">5.3.1 è¯·æ±‚æ•°æ®æµ</h5>
<ol>
<li>
<p><strong>ç”¨æˆ·äº¤äº’</strong>ï¼š</p>
<ul>
<li>ç”¨æˆ·ä¸å‰ç«¯ç»„ä»¶äº¤äº’ï¼Œè§¦å‘äº‹ä»¶</li>
<li>ç»„ä»¶æ”¶é›†ç”¨æˆ·è¾“å…¥çš„æ•°æ®</li>
<li>å‡†å¤‡äº‹ä»¶è°ƒç”¨çš„å‚æ•°</li>
</ul>
</li>
<li>
<p><strong>å‰ç«¯æ•°æ®å¤„ç†</strong>ï¼š</p>
<ul>
<li>æ ¹æ®<code>RequestPathEnum</code>ç¡®å®šæ•°æ®çš„æ¥æºå’Œæ ¼å¼</li>
<li>ä»PageCtxæˆ–ç»„ä»¶ä¸­è·å–æ•°æ®</li>
<li>è½¬æ¢æ•°æ®æ ¼å¼ï¼Œå‡†å¤‡å‘é€è¯·æ±‚</li>
</ul>
</li>
<li>
<p><strong>è¯·æ±‚å‘é€</strong>ï¼š</p>
<ul>
<li>é€šè®¯ç»„ä»¶å‘é€Ajaxè¯·æ±‚</li>
<li>ä¼ é€’è¯·æ±‚URLã€æ–¹æ³•å’Œå‚æ•°</li>
<li>è®¾ç½®è¯·æ±‚å¤´å’Œèº«ä»½éªŒè¯ä¿¡æ¯</li>
</ul>
</li>
<li>
<p><strong>åç«¯æ•°æ®å¤„ç†</strong>ï¼š</p>
<ul>
<li>åç«¯æ§åˆ¶å™¨æ¥æ”¶è¯·æ±‚</li>
<li>å¤„ç†è¯·æ±‚å‚æ•°ï¼Œè½¬æ¢ä¸ºä¸šåŠ¡å¯¹è±¡</li>
<li>è°ƒç”¨ä¸šåŠ¡æœåŠ¡å¤„ç†ä¸šåŠ¡é€»è¾‘</li>
</ul>
</li>
<li>
<p><strong>æ•°æ®åº“æ“ä½œ</strong>ï¼š</p>
<ul>
<li>ä¸šåŠ¡æœåŠ¡è°ƒç”¨æ•°æ®è®¿é—®å±‚</li>
<li>æ‰§è¡Œæ•°æ®åº“æŸ¥è¯¢ã€æ’å…¥ã€æ›´æ–°æˆ–åˆ é™¤æ“ä½œ</li>
<li>è¿”å›æ“ä½œç»“æœ</li>
</ul>
</li>
</ol>
<h5 data-id="heading-65">5.3.2 å“åº”æ•°æ®æµ</h5>
<ol>
<li>
<p><strong>åç«¯å“åº”ç”Ÿæˆ</strong>ï¼š</p>
<ul>
<li>ä¸šåŠ¡æœåŠ¡å¤„ç†å®Œæˆï¼Œè¿”å›ç»“æœ</li>
<li>æ§åˆ¶å™¨å°†ç»“æœè½¬æ¢ä¸º<code>ResultModel</code>æ ¼å¼</li>
<li>è®¾ç½®å“åº”çŠ¶æ€ç å’Œæ¶ˆæ¯</li>
</ul>
</li>
<li>
<p><strong>å“åº”å‘é€</strong>ï¼š</p>
<ul>
<li>åç«¯å‘é€å“åº”ç»™å‰ç«¯</li>
<li>ä¼ é€’å“åº”æ•°æ®å’ŒçŠ¶æ€ä¿¡æ¯</li>
<li>è®¾ç½®å“åº”å¤´å’Œç¼“å­˜æ§åˆ¶</li>
</ul>
</li>
<li>
<p><strong>å‰ç«¯å“åº”å¤„ç†</strong>ï¼š</p>
<ul>
<li>é€šè®¯ç»„ä»¶æ¥æ”¶å“åº”</li>
<li>è§£æå“åº”æ•°æ®ï¼Œæ£€æŸ¥çŠ¶æ€ç </li>
<li>æ ¹æ®<code>ResponsePathEnum</code>ç¡®å®šæ•°æ®çš„ç›®æ ‡å’Œæ ¼å¼</li>
</ul>
</li>
<li>
<p><strong>æ•°æ®æ›´æ–°</strong>ï¼š</p>
<ul>
<li>æ›´æ–°PageCtxä¸­çš„æ•°æ®</li>
<li>é€šçŸ¥ç›¸å…³ç»„ä»¶æ•°æ®å·²æ›´æ–°</li>
<li>é‡æ–°æ¸²æŸ“å—å½±å“çš„ç»„ä»¶</li>
</ul>
</li>
<li>
<p><strong>UIæ›´æ–°</strong>ï¼š</p>
<ul>
<li>ç»„ä»¶æ ¹æ®æ–°çš„æ•°æ®é‡æ–°æ¸²æŸ“</li>
<li>æ›´æ–°ç”¨æˆ·ç•Œé¢ï¼Œå±•ç¤ºæœ€æ–°æ•°æ®</li>
<li>ä¿æŒç»„ä»¶é—´çš„æ•°æ®ä¸€è‡´æ€§</li>
</ul>
</li>
</ol>
<h5 data-id="heading-66">5.3.3 æ•°æ®æµå‘ç¤ºä¾‹ï¼šå‘˜å·¥ä¿¡æ¯ä¿å­˜</h5>
<p>ä»¥"å‘˜å·¥ä¿¡æ¯ä¿å­˜"ä¸ºä¾‹ï¼Œå±•ç¤ºOoder A2UIå®Œæ•´çš„æ•°æ®æµå‘ï¼š</p>
<p><strong>1. ç”¨æˆ·äº¤äº’</strong></p>
<ul>
<li>ç”¨æˆ·åœ¨å‘˜å·¥ç®¡ç†è¡¨å•ä¸­å¡«å†™å®Œæ•´ä¿¡æ¯åï¼Œç‚¹å‡»"ä¿å­˜"æŒ‰é’®</li>
<li>è§¦å‘<code>CustomAction.SAVE</code>äº‹ä»¶ï¼Œè¯¥äº‹ä»¶é€šè¿‡<code>@APIEventAnnotation</code>ç»‘å®šåˆ°ä¿å­˜æŒ‰é’®</li>
</ul>
<p><strong>2. å‰ç«¯å¤„ç†</strong></p>
<ul>
<li>é€šè®¯ç»„ä»¶æ ¹æ®<code>RequestPathEnum.CURRFORM</code>ä»PageCtxè·å–å½“å‰è¡¨å•æ•°æ®</li>
<li>æ•°æ®æ ¼å¼è½¬æ¢ä¸ºJSONï¼ŒåŒ…å«å‘˜å·¥IDã€å§“åã€éƒ¨é—¨ç­‰å®Œæ•´ä¿¡æ¯</li>
<li>é€šè®¯ç»„ä»¶å°è£…è¯·æ±‚ï¼Œè®¾ç½®URLä¸º<code>/employee/management/save</code>ï¼ŒHTTPæ–¹æ³•ä¸ºPOST</li>
</ul>
<p><strong>3. åç«¯å¤„ç†</strong></p>
<ul>
<li>åç«¯<code>EmployeeManagementController.saveEmployee()</code>æ¥æ”¶è¯·æ±‚</li>
<li>è¯·æ±‚å‚æ•°è‡ªåŠ¨è½¬æ¢ä¸º<code>EmployeeManagementView</code>å¯¹è±¡</li>
<li>è°ƒç”¨<code>EmployeeManagementService.saveEmployee()</code>æ‰§è¡Œä¸šåŠ¡é€»è¾‘</li>
<li>æœåŠ¡å±‚éªŒè¯æ•°æ®å®Œæ•´æ€§ï¼Œæ£€æŸ¥å‘˜å·¥IDæ˜¯å¦å·²å­˜åœ¨</li>
<li>ä»“åº“å±‚æ‰§è¡Œæ•°æ®åº“æ’å…¥æ“ä½œï¼Œä¿å­˜å‘˜å·¥ä¿¡æ¯</li>
<li>æœåŠ¡å±‚è¿”å›<code>ResultModel.success(true, "ä¿å­˜æˆåŠŸ")</code></li>
</ul>
<p><strong>4. å‰ç«¯å“åº”</strong></p>
<ul>
<li>é€šè®¯ç»„ä»¶æ¥æ”¶å“åº”ï¼Œè§£æ<code>ResultModel</code>æ ¼å¼æ•°æ®</li>
<li>æ ¹æ®<code>ResponsePathEnum.MESSAGE</code>æå–å“åº”æ¶ˆæ¯"ä¿å­˜æˆåŠŸ"</li>
<li>è°ƒç”¨<code>CustomOnExecueSuccess.MESSAGE</code>é…ç½®ï¼Œå±•ç¤ºæˆåŠŸæç¤º</li>
<li>æ›´æ–°PageCtxä¸­çš„æ•°æ®ï¼Œæ ‡è®°è¡¨å•ä¸ºå·²ä¿å­˜çŠ¶æ€</li>
<li>å¯é€‰ï¼šæ ¹æ®<code>CustomAction.RELOADPARENT</code>é…ç½®ï¼Œåˆ·æ–°çˆ¶é¡µé¢æ•°æ®</li>
</ul>
<p><strong>æ•°æ®æµå‘å›¾</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">ç”¨æˆ·ç‚¹å‡»ä¿å­˜æŒ‰é’®
    â†“
è§¦å‘CustomAction.SAVEäº‹ä»¶
    â†“
RequestPathEnum.CURRFORMè·å–è¡¨å•æ•°æ®
    â†“
é€šè®¯ç»„ä»¶å‘é€POSTè¯·æ±‚åˆ°/employee/management/save
    â†“
åç«¯EmployeeManagementController.saveEmployee()æ¥æ”¶è¯·æ±‚
    â†“
è½¬æ¢ä¸ºEmployeeManagementViewå¯¹è±¡
    â†“
è°ƒç”¨EmployeeManagementService.saveEmployee()
    â†“
æ•°æ®åº“æ’å…¥æ“ä½œ
    â†“
è¿”å›ResultModel.success(<span class="hljs-literal">true</span>, <span class="hljs-string">"ä¿å­˜æˆåŠŸ"</span>)
    â†“
å‰ç«¯è§£æå“åº”
    â†“
ResponsePathEnum.MESSAGEæå–æ¶ˆæ¯
    â†“
å±•ç¤ºæˆåŠŸæç¤º
    â†“
æ›´æ–°PageCtxæ•°æ®
</code></pre>
<p>è¯¥ç¤ºä¾‹å±•ç¤ºäº†Ooder A2UIä»ç”¨æˆ·äº¤äº’åˆ°æ•°æ®æŒä¹…åŒ–çš„å®Œæ•´æ•°æ®æµå‘ï¼Œé€šè¿‡RequestPathEnumå’ŒResponsePathEnumå®ç°äº†å‰åç«¯æ•°æ®çš„ç²¾ç¡®æ§åˆ¶ï¼Œç¡®ä¿äº†æ•°æ®çš„ä¸€è‡´æ€§å’Œå¯é æ€§ã€‚</p>
<h4 data-id="heading-67">5.4 äº‹ä»¶å¤„ç†</h4>
<p>Ooder A2UIçš„äº‹ä»¶å¤„ç†æœºåˆ¶åŸºäºæ³¨è§£é©±åŠ¨ï¼Œå°†å‰ç«¯äº‹ä»¶ä¸åç«¯æœåŠ¡ç´§å¯†ç»‘å®šã€‚</p>
<h5 data-id="heading-68">5.4.1 äº‹ä»¶å®šä¹‰</h5>
<p>åœ¨åç«¯é€šè¿‡<code>@APIEventAnnotation</code>å®šä¹‰äº‹ä»¶ï¼ŒæŒ‡å®šäº‹ä»¶çš„ç»‘å®šåŠ¨ä½œã€è¯·æ±‚æ•°æ®ã€å“åº”å¤„ç†ç­‰é…ç½®ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@APIEventAnnotation(
    bindAction = {CustomAction.SAVE},
    customRequestData = {RequestPathEnum.CURRFORM},
    beforeInvoke = CustomBeforInvoke.BUSY,
    onExecuteSuccess = CustomOnExecueSuccess.MESSAGE
)</span>
<span class="hljs-keyword">private</span> String saveButton;
</code></pre>
<h5 data-id="heading-69">5.4.2 äº‹ä»¶ç»‘å®š</h5>
<p>åœ¨Pageåˆå§‹åŒ–æ—¶ï¼Œç³»ç»Ÿæ ¹æ®æ³¨è§£é…ç½®è‡ªåŠ¨å®Œæˆäº‹ä»¶ç»‘å®šï¼š</p>
<ol>
<li>
<p><strong>äº‹ä»¶ç›‘å¬å™¨æ³¨å†Œ</strong>ï¼š</p>
<ul>
<li>ä¸ºç»„ä»¶æ·»åŠ äº‹ä»¶ç›‘å¬å™¨</li>
<li>ç»‘å®šåˆ°å¯¹åº”çš„å¤„ç†å‡½æ•°</li>
<li>é…ç½®äº‹ä»¶çš„è§¦å‘æ¡ä»¶</li>
</ul>
</li>
<li>
<p><strong>æœåŠ¡æ˜ å°„å»ºç«‹</strong>ï¼š</p>
<ul>
<li>å»ºç«‹å‰ç«¯äº‹ä»¶ä¸åç«¯æœåŠ¡çš„æ˜ å°„å…³ç³»</li>
<li>é…ç½®æœåŠ¡è°ƒç”¨çš„å‚æ•°å’Œå“åº”å¤„ç†</li>
<li>è®¾ç½®äº‹ä»¶çš„æ‰§è¡Œé¡ºåºå’Œä¾èµ–å…³ç³»</li>
</ul>
</li>
</ol>
<h5 data-id="heading-70">5.4.3 äº‹ä»¶è§¦å‘</h5>
<p>ç”¨æˆ·ä¸ç»„ä»¶äº¤äº’æ—¶ï¼Œè§¦å‘å¯¹åº”çš„äº‹ä»¶ï¼š</p>
<ol>
<li>
<p><strong>äº‹ä»¶æ•è·</strong>ï¼š</p>
<ul>
<li>ç»„ä»¶æ•è·ç”¨æˆ·äº¤äº’äº‹ä»¶</li>
<li>æ£€æŸ¥äº‹ä»¶çš„è§¦å‘æ¡ä»¶</li>
<li>è·å–äº‹ä»¶çš„ä¸Šä¸‹æ–‡ä¿¡æ¯</li>
</ul>
</li>
<li>
<p><strong>äº‹ä»¶å¤„ç†</strong>ï¼š</p>
<ul>
<li>è°ƒç”¨äº‹ä»¶å¤„ç†å‡½æ•°</li>
<li>å‡†å¤‡äº‹ä»¶è°ƒç”¨çš„å‚æ•°</li>
<li>æ‰§è¡Œäº‹ä»¶çš„å‰ç½®å¤„ç†</li>
</ul>
</li>
</ol>
<h5 data-id="heading-71">5.4.4 æœåŠ¡è°ƒç”¨</h5>
<p>äº‹ä»¶è§¦å‘åï¼Œç³»ç»Ÿæ ¹æ®é…ç½®è°ƒç”¨å¯¹åº”çš„åç«¯æœåŠ¡ï¼š</p>
<ol>
<li>
<p><strong>è¯·æ±‚æ„å»º</strong>ï¼š</p>
<ul>
<li>æ ¹æ®<code>customRequestData</code>é…ç½®è·å–è¯·æ±‚æ•°æ®</li>
<li>æ„å»ºAjaxè¯·æ±‚ï¼Œè®¾ç½®URLã€æ–¹æ³•å’Œå‚æ•°</li>
<li>æ·»åŠ è¯·æ±‚å¤´å’Œèº«ä»½éªŒè¯ä¿¡æ¯</li>
</ul>
</li>
<li>
<p><strong>è¯·æ±‚å‘é€</strong>ï¼š</p>
<ul>
<li>é€šè®¯ç»„ä»¶å‘é€Ajaxè¯·æ±‚</li>
<li>å¤„ç†è¯·æ±‚çš„å¼‚æ­¥æ‰§è¡Œ</li>
<li>æ˜¾ç¤ºåŠ è½½çŠ¶æ€æˆ–é®ç½©</li>
</ul>
</li>
<li>
<p><strong>è¯·æ±‚ä¸­æ–­å¤„ç†</strong>ï¼š</p>
<ul>
<li>æ”¯æŒè¯·æ±‚çš„ä¸­æ–­å’Œå–æ¶ˆ</li>
<li>å¤„ç†è¯·æ±‚è¶…æ—¶å’Œç½‘ç»œé”™è¯¯</li>
<li>æä¾›å‹å¥½çš„é”™è¯¯æç¤º</li>
</ul>
</li>
</ol>
<h5 data-id="heading-72">5.4.5 å“åº”å¤„ç†</h5>
<p>åç«¯æœåŠ¡è¿”å›å“åº”åï¼Œç³»ç»Ÿæ ¹æ®é…ç½®å¤„ç†å“åº”æ•°æ®ï¼š</p>
<ol>
<li>
<p><strong>å“åº”è§£æ</strong>ï¼š</p>
<ul>
<li>è§£æå“åº”æ•°æ®ï¼Œæ£€æŸ¥çŠ¶æ€ç </li>
<li>å¤„ç†å“åº”çš„æˆåŠŸå’Œå¤±è´¥æƒ…å†µ</li>
<li>è½¬æ¢å“åº”æ•°æ®æ ¼å¼</li>
</ul>
</li>
<li>
<p><strong>æ•°æ®æ›´æ–°</strong>ï¼š</p>
<ul>
<li>æ ¹æ®<code>ResponsePathEnum</code>é…ç½®æ›´æ–°æ•°æ®</li>
<li>æ›´æ–°PageCtxä¸­çš„æ•°æ®</li>
<li>é€šçŸ¥ç›¸å…³ç»„ä»¶æ•°æ®å·²æ›´æ–°</li>
</ul>
</li>
<li>
<p><strong>UIæ›´æ–°</strong>ï¼š</p>
<ul>
<li>é‡æ–°æ¸²æŸ“å—å½±å“çš„ç»„ä»¶</li>
<li>æ›´æ–°ç”¨æˆ·ç•Œé¢ï¼Œå±•ç¤ºæœ€æ–°æ•°æ®</li>
<li>æ‰§è¡Œäº‹ä»¶çš„åç½®å¤„ç†</li>
</ul>
</li>
<li>
<p><strong>äº‹ä»¶å›è°ƒ</strong>ï¼š</p>
<ul>
<li>è°ƒç”¨äº‹ä»¶çš„æˆåŠŸæˆ–å¤±è´¥å›è°ƒå‡½æ•°</li>
<li>æ‰§è¡Œè‡ªå®šä¹‰çš„å“åº”å¤„ç†é€»è¾‘</li>
<li>æ˜¾ç¤ºæˆåŠŸæˆ–é”™è¯¯æç¤º</li>
</ul>
</li>
</ol>
<h5 data-id="heading-73">5.4.6 äº‹ä»¶ä¼ æ’­</h5>
<p>æ”¯æŒäº‹ä»¶çš„ä¼ æ’­å’Œå†’æ³¡æœºåˆ¶ï¼Œå®ç°å¤æ‚çš„äº¤äº’é€»è¾‘ï¼š</p>
<ol>
<li>
<p><strong>äº‹ä»¶å†’æ³¡</strong>ï¼š</p>
<ul>
<li>äº‹ä»¶ä»è§¦å‘ç»„ä»¶å‘ä¸Šå†’æ³¡åˆ°çˆ¶ç»„ä»¶</li>
<li>çˆ¶ç»„ä»¶å¯ä»¥æ•è·å’Œå¤„ç†å­ç»„ä»¶çš„äº‹ä»¶</li>
<li>æ”¯æŒé˜»æ­¢äº‹ä»¶å†’æ³¡</li>
</ul>
</li>
<li>
<p><strong>äº‹ä»¶å§”æ‰˜</strong>ï¼š</p>
<ul>
<li>å°†äº‹ä»¶å§”æ‰˜ç»™çˆ¶ç»„ä»¶å¤„ç†</li>
<li>å‡å°‘äº‹ä»¶ç›‘å¬å™¨çš„æ•°é‡</li>
<li>æé«˜æ€§èƒ½å’Œå¯ç»´æŠ¤æ€§</li>
</ul>
</li>
<li>
<p><strong>è‡ªå®šä¹‰äº‹ä»¶</strong>ï¼š</p>
<ul>
<li>æ”¯æŒè‡ªå®šä¹‰äº‹ä»¶çš„å®šä¹‰å’Œè§¦å‘</li>
<li>å®ç°ç»„ä»¶é—´çš„è§£è€¦é€šä¿¡</li>
<li>æ”¯æŒå¤æ‚çš„äº¤äº’åœºæ™¯</li>
</ul>
</li>
</ol>
<h3 data-id="heading-74">6. å¼€å‘æµç¨‹</h3>
<p>Ooder A2UIçš„å¼€å‘æµç¨‹éµå¾ªæ³¨è§£é©±åŠ¨çš„å¼€å‘æ¨¡å¼ï¼Œä»éœ€æ±‚åˆ†æåˆ°éƒ¨ç½²ä¸Šçº¿ï¼Œå½¢æˆäº†ä¸€å¥—å®Œæ•´çš„å¼€å‘ä½“ç³»ã€‚</p>
<h4 data-id="heading-75">6.1 éœ€æ±‚åˆ†æ</h4>
<p>éœ€æ±‚åˆ†ææ˜¯Ooder A2UIå¼€å‘æµç¨‹çš„ç¬¬ä¸€æ­¥ï¼Œä¸»è¦ç›®çš„æ˜¯ç†è§£ä¸šåŠ¡éœ€æ±‚ï¼Œç¡®å®šç³»ç»Ÿçš„åŠŸèƒ½å’ŒèŒƒå›´ã€‚</p>
<h5 data-id="heading-76">6.1.1 ä¸šåŠ¡éœ€æ±‚åˆ†æ</h5>
<ol>
<li>
<p><strong>è¯†åˆ«ä¸šåŠ¡å…ƒç´ </strong>ï¼š</p>
<ul>
<li>ç¡®å®šç³»ç»Ÿä¸­æ¶‰åŠçš„æ ¸å¿ƒä¸šåŠ¡å®ä½“</li>
<li>åˆ†æå®ä½“ä¹‹é—´çš„å…³ç³»</li>
<li>å®šä¹‰å®ä½“çš„å±æ€§å’Œè¡Œä¸º</li>
</ul>
</li>
<li>
<p><strong>ç¡®å®šåŠŸèƒ½éœ€æ±‚</strong>ï¼š</p>
<ul>
<li>è¯†åˆ«ç³»ç»Ÿéœ€è¦å®ç°çš„åŠŸèƒ½æ¨¡å—</li>
<li>åˆ†ææ¯ä¸ªåŠŸèƒ½æ¨¡å—çš„å…·ä½“éœ€æ±‚</li>
<li>ç¡®å®šåŠŸèƒ½çš„ä¼˜å…ˆçº§å’Œä¾èµ–å…³ç³»</li>
</ul>
</li>
<li>
<p><strong>åˆ†æç”¨æˆ·äº¤äº’</strong>ï¼š</p>
<ul>
<li>è¯†åˆ«ç”¨æˆ·ä¸ç³»ç»Ÿçš„äº¤äº’æ–¹å¼</li>
<li>åˆ†æäº¤äº’æµç¨‹å’Œç”¨æˆ·ä½“éªŒè¦æ±‚</li>
<li>ç¡®å®šéœ€è¦çš„äº¤äº’ç»„ä»¶å’Œäº‹ä»¶</li>
</ul>
</li>
<li>
<p><strong>æ•°æ®æµå‘åˆ†æ</strong>ï¼š</p>
<ul>
<li>åˆ†æç³»ç»Ÿä¸­çš„æ•°æ®æµå‘</li>
<li>ç¡®å®šæ•°æ®çš„æ¥æºå’Œç›®æ ‡</li>
<li>åˆ†ææ•°æ®çš„å¤„ç†å’Œè½¬æ¢é€»è¾‘</li>
</ul>
</li>
</ol>
<h5 data-id="heading-77">6.1.2 æŠ€æœ¯éœ€æ±‚åˆ†æ</h5>
<ol>
<li>
<p><strong>ç¡®å®šæŠ€æœ¯æ ˆ</strong>ï¼š</p>
<ul>
<li>é€‰æ‹©åˆé€‚çš„æŠ€æœ¯æ ˆ</li>
<li>ç¡®å®šå¼€å‘å·¥å…·å’Œç¯å¢ƒ</li>
<li>åˆ¶å®šæŠ€æœ¯è§„èŒƒå’Œæ ‡å‡†</li>
</ul>
</li>
<li>
<p><strong>ç³»ç»Ÿæ¶æ„è®¾è®¡</strong>ï¼š</p>
<ul>
<li>ç¡®å®šç³»ç»Ÿçš„åˆ†å±‚æ¶æ„</li>
<li>è®¾è®¡æ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»</li>
<li>ç¡®å®šé€šè®¯æœºåˆ¶å’Œæ•°æ®æ ¼å¼</li>
</ul>
</li>
<li>
<p><strong>æ€§èƒ½å’Œå®‰å…¨éœ€æ±‚</strong>ï¼š</p>
<ul>
<li>åˆ†æç³»ç»Ÿçš„æ€§èƒ½è¦æ±‚</li>
<li>ç¡®å®šå®‰å…¨æœºåˆ¶å’Œè®¤è¯æ–¹å¼</li>
<li>åˆ¶å®šæ•°æ®å¤‡ä»½å’Œæ¢å¤ç­–ç•¥</li>
</ul>
</li>
</ol>
<h4 data-id="heading-78">6.2 è§†å›¾è®¾è®¡</h4>
<p>è§†å›¾è®¾è®¡æ˜¯Ooder A2UIå¼€å‘æµç¨‹çš„æ ¸å¿ƒï¼Œé€šè¿‡æ³¨è§£å®šä¹‰å‰ç«¯ç»„ä»¶çš„å¤–è§‚å’Œè¡Œä¸ºã€‚</p>
<h5 data-id="heading-79">6.2.1 è§†å›¾ç±»è®¾è®¡</h5>
<ol>
<li>
<p><strong>åˆ›å»ºè§†å›¾ç±»</strong>ï¼š</p>
<ul>
<li>æ ¹æ®éœ€æ±‚åˆ›å»ºè§†å›¾ç±»</li>
<li>ç»§æ‰¿é€‚å½“çš„çˆ¶ç±»</li>
<li>è®¾ç½®è§†å›¾çš„åŸºæœ¬å±æ€§</li>
</ul>
</li>
<li>
<p><strong>æ·»åŠ è§†å›¾æ³¨è§£</strong>ï¼š</p>
<ul>
<li>æ ¹æ®è§†å›¾ç±»å‹æ·»åŠ ç›¸åº”çš„æ³¨è§£ï¼Œå¦‚<code>@FormAnnotation</code>ã€<code>@GridAnnotation</code>ç­‰</li>
<li>é…ç½®è§†å›¾çš„å¸ƒå±€ã€æ ·å¼å’ŒåŸºæœ¬å±æ€§</li>
<li>ç»‘å®šè§†å›¾çš„è‡ªå®šä¹‰æœåŠ¡</li>
</ul>
</li>
<li>
<p><strong>è®¾è®¡è§†å›¾ç»“æ„</strong>ï¼š</p>
<ul>
<li>ç¡®å®šè§†å›¾çš„å®¹å™¨ç»“æ„</li>
<li>è®¾è®¡å­ç»„ä»¶çš„å¸ƒå±€å’Œæ’åˆ—æ–¹å¼</li>
<li>ç¡®å®šç»„ä»¶çš„å±‚çº§å…³ç³»</li>
</ul>
</li>
</ol>
<h5 data-id="heading-80">6.2.2 å­—æ®µå’Œç»„ä»¶è®¾è®¡</h5>
<ol>
<li>
<p><strong>å®šä¹‰å­—æ®µ</strong>ï¼š</p>
<ul>
<li>æ ¹æ®éœ€æ±‚å®šä¹‰è§†å›¾çš„å­—æ®µ</li>
<li>é€‰æ‹©åˆé€‚çš„å­—æ®µç±»å‹</li>
<li>è®¾ç½®å­—æ®µçš„åŸºæœ¬å±æ€§</li>
</ul>
</li>
<li>
<p><strong>æ·»åŠ å­—æ®µæ³¨è§£</strong>ï¼š</p>
<ul>
<li>æ ¹æ®å­—æ®µç±»å‹æ·»åŠ ç›¸åº”çš„æ³¨è§£ï¼Œå¦‚<code>@InputAnnotation</code>ã€<code>@ComboBoxAnnotation</code>ç­‰</li>
<li>é…ç½®å­—æ®µçš„éªŒè¯è§„åˆ™å’ŒåŸºæœ¬æ ·å¼</li>
<li>æ·»åŠ å­—æ®µçš„å¤–è§‚é…ç½®å’Œäº¤äº’è¡Œä¸º</li>
</ul>
</li>
<li>
<p><strong>è®¾è®¡äº¤äº’è¡Œä¸º</strong>ï¼š</p>
<ul>
<li>ä¸ºç»„ä»¶æ·»åŠ <code>@APIEventAnnotation</code>æ³¨è§£</li>
<li>é…ç½®äº‹ä»¶çš„ç»‘å®šåŠ¨ä½œå’Œè¯·æ±‚æ•°æ®</li>
<li>è®¾ç½®äº‹ä»¶çš„å‰ç½®å¤„ç†å’Œåç½®å¤„ç†</li>
</ul>
</li>
</ol>
<h5 data-id="heading-81">6.2.3 è§†å›¾é…ç½®ä¼˜åŒ–</h5>
<ol>
<li>
<p><strong>ä¼˜åŒ–å¸ƒå±€è®¾è®¡</strong>ï¼š</p>
<ul>
<li>è°ƒæ•´ç»„ä»¶çš„å¸ƒå±€å’Œæ’åˆ—æ–¹å¼</li>
<li>ä¼˜åŒ–ç»„ä»¶çš„å°ºå¯¸å’Œé—´è·</li>
<li>ç¡®ä¿è§†å›¾çš„ç¾è§‚æ€§å’Œæ˜“ç”¨æ€§</li>
</ul>
</li>
<li>
<p><strong>å¢å¼ºç”¨æˆ·ä½“éªŒ</strong>ï¼š</p>
<ul>
<li>æ·»åŠ é€‚å½“çš„æç¤ºå’Œå¸®åŠ©ä¿¡æ¯</li>
<li>ä¼˜åŒ–äº¤äº’æµç¨‹å’Œåé¦ˆæœºåˆ¶</li>
<li>ç¡®ä¿è§†å›¾çš„å“åº”å¼è®¾è®¡</li>
</ul>
</li>
<li>
<p><strong>ç¡®ä¿å¯è®¿é—®æ€§</strong>ï¼š</p>
<ul>
<li>æ·»åŠ é€‚å½“çš„ARIAå±æ€§</li>
<li>ç¡®ä¿é”®ç›˜å¯¼èˆªæ”¯æŒ</li>
<li>ç¡®ä¿å±å¹•é˜…è¯»å™¨å…¼å®¹æ€§</li>
</ul>
</li>
</ol>
<h4 data-id="heading-82">6.3 æœåŠ¡å®ç°</h4>
<p>æœåŠ¡å®ç°æ˜¯Ooder A2UIå¼€å‘æµç¨‹çš„åç«¯éƒ¨åˆ†ï¼Œè´Ÿè´£å®ç°ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®è®¿é—®ã€‚</p>
<h5 data-id="heading-83">6.3.1 æœåŠ¡ç±»è®¾è®¡</h5>
<ol>
<li>
<p><strong>åˆ›å»ºæœåŠ¡ç±»</strong>ï¼š</p>
<ul>
<li>æ ¹æ®éœ€æ±‚åˆ›å»ºæœåŠ¡ç±»</li>
<li>ç»§æ‰¿é€‚å½“çš„çˆ¶ç±»</li>
<li>æ·»åŠ <code>@Service</code>å’Œ<code>@RestController</code>æ³¨è§£</li>
</ul>
</li>
<li>
<p><strong>è®¾è®¡APIæ¥å£</strong>ï¼š</p>
<ul>
<li>ç¡®å®šAPIçš„URLè·¯å¾„å’ŒHTTPæ–¹æ³•</li>
<li>è®¾è®¡è¯·æ±‚å‚æ•°å’Œå“åº”æ ¼å¼</li>
<li>æ·»åŠ é€‚å½“çš„æ³¨è§£ï¼Œå¦‚<code>@GetMapping</code>ã€<code>@PostMapping</code>ç­‰</li>
</ul>
</li>
<li>
<p><strong>ç»‘å®šè§†å›¾æœåŠ¡</strong>ï¼š</p>
<ul>
<li>åœ¨è§†å›¾ç±»ä¸­ç»‘å®šæœåŠ¡ç±»</li>
<li>ç¡®ä¿æœåŠ¡æ–¹æ³•çš„Webå¯è®¿é—®æ€§</li>
<li>é…ç½®æœåŠ¡çš„å®‰å…¨å’Œè®¤è¯</li>
</ul>
</li>
</ol>
<h5 data-id="heading-84">6.3.2 ä¸šåŠ¡é€»è¾‘å®ç°</h5>
<ol>
<li>
<p><strong>å®ç°ä¸šåŠ¡æ–¹æ³•</strong>ï¼š</p>
<ul>
<li>æ ¹æ®éœ€æ±‚å®ç°ä¸šåŠ¡é€»è¾‘æ–¹æ³•</li>
<li>ç¡®ä¿æ–¹æ³•çš„å•ä¸€èŒè´£åŸåˆ™</li>
<li>å¤„ç†ä¸šåŠ¡è§„åˆ™å’ŒéªŒè¯</li>
</ul>
</li>
<li>
<p><strong>æ•°æ®è®¿é—®å®ç°</strong>ï¼š</p>
<ul>
<li>å®ç°æ•°æ®è®¿é—®é€»è¾‘</li>
<li>ä¸æ•°æ®åº“è¿›è¡Œäº¤äº’</li>
<li>å¤„ç†æ•°æ®çš„æŸ¥è¯¢ã€æ’å…¥ã€æ›´æ–°å’Œåˆ é™¤</li>
</ul>
</li>
<li>
<p><strong>å¼‚å¸¸å¤„ç†</strong>ï¼š</p>
<ul>
<li>æ·»åŠ é€‚å½“çš„å¼‚å¸¸å¤„ç†æœºåˆ¶</li>
<li>ç¡®ä¿å¼‚å¸¸ä¿¡æ¯çš„å‹å¥½æ€§å’Œæœ‰ç”¨æ€§</li>
<li>è®°å½•å¼‚å¸¸æ—¥å¿—</li>
</ul>
</li>
</ol>
<h5 data-id="heading-85">6.3.3 æœåŠ¡æµ‹è¯•å’Œä¼˜åŒ–</h5>
<ol>
<li>
<p><strong>å•å…ƒæµ‹è¯•</strong>ï¼š</p>
<ul>
<li>ä¸ºæœåŠ¡æ–¹æ³•ç¼–å†™å•å…ƒæµ‹è¯•</li>
<li>ç¡®ä¿æµ‹è¯•è¦†ç›–ç‡</li>
<li>éªŒè¯ä¸šåŠ¡é€»è¾‘çš„æ­£ç¡®æ€§</li>
</ul>
</li>
<li>
<p><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼š</p>
<ul>
<li>ä¼˜åŒ–æœåŠ¡çš„æ€§èƒ½</li>
<li>å‡å°‘æ•°æ®åº“æŸ¥è¯¢æ¬¡æ•°</li>
<li>ä¼˜åŒ–æ•°æ®å¤„ç†é€»è¾‘</li>
</ul>
</li>
<li>
<p><strong>å®‰å…¨åŠ å›º</strong>ï¼š</p>
<ul>
<li>ç¡®ä¿æœåŠ¡çš„å®‰å…¨æ€§</li>
<li>æ·»åŠ é€‚å½“çš„è®¤è¯å’Œæˆæƒæœºåˆ¶</li>
<li>é˜²æ­¢å¸¸è§çš„å®‰å…¨æ¼æ´</li>
</ul>
</li>
</ol>
<h4 data-id="heading-86">6.4 ç³»ç»Ÿé›†æˆ</h4>
<p>ç³»ç»Ÿé›†æˆæ˜¯Ooder A2UIå¼€å‘æµç¨‹çš„é‡è¦ç¯èŠ‚ï¼Œç¡®ä¿å‰ç«¯è§†å›¾å’Œåç«¯æœåŠ¡çš„æ­£ç¡®é›†æˆã€‚</p>
<h5 data-id="heading-87">6.4.1 å‰åç«¯é›†æˆ</h5>
<ol>
<li>
<p><strong>é…ç½®é€šè®¯ç»„ä»¶</strong>ï¼š</p>
<ul>
<li>é…ç½®å‰åç«¯é€šè®¯ç»„ä»¶</li>
<li>ç¡®ä¿é€šè®¯ç»„ä»¶çš„æ­£ç¡®åˆå§‹åŒ–</li>
<li>é…ç½®é€šè®¯çš„è¶…æ—¶å’Œé‡è¯•æœºåˆ¶</li>
</ul>
</li>
<li>
<p><strong>æµ‹è¯•æ•°æ®äº¤äº’</strong>ï¼š</p>
<ul>
<li>æµ‹è¯•å‰ç«¯è§†å›¾ä¸åç«¯æœåŠ¡çš„æ•°æ®äº¤äº’</li>
<li>éªŒè¯è¯·æ±‚å‚æ•°å’Œå“åº”æ ¼å¼</li>
<li>ç¡®ä¿æ•°æ®çš„æ­£ç¡®ä¼ é€’å’Œè½¬æ¢</li>
</ul>
</li>
<li>
<p><strong>è°ƒè¯•å’Œæ’é”™</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨è°ƒè¯•å·¥å…·è°ƒè¯•ç³»ç»Ÿ</li>
<li>åˆ†æå’Œè§£å†³é›†æˆé—®é¢˜</li>
<li>ç¡®ä¿ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œå¯é æ€§</li>
</ul>
</li>
</ol>
<h5 data-id="heading-88">6.4.2 ç»„ä»¶é›†æˆå’Œæµ‹è¯•</h5>
<ol>
<li>
<p><strong>é›†æˆç»„ä»¶</strong>ï¼š</p>
<ul>
<li>é›†æˆå„ä¸ªç»„ä»¶ï¼Œå½¢æˆå®Œæ•´çš„ç³»ç»Ÿ</li>
<li>ç¡®ä¿ç»„ä»¶ä¹‹é—´çš„æ­£ç¡®åä½œ</li>
<li>æµ‹è¯•ç»„ä»¶çš„é›†æˆæ•ˆæœ</li>
</ul>
</li>
<li>
<p><strong>ç³»ç»Ÿæµ‹è¯•</strong>ï¼š</p>
<ul>
<li>è¿›è¡Œç³»ç»Ÿçº§æµ‹è¯•</li>
<li>éªŒè¯ç³»ç»Ÿçš„åŠŸèƒ½å’Œæ€§èƒ½</li>
<li>ç¡®ä¿ç³»ç»Ÿç¬¦åˆéœ€æ±‚</li>
</ul>
</li>
<li>
<p><strong>ç”¨æˆ·æµ‹è¯•</strong>ï¼š</p>
<ul>
<li>è¿›è¡Œç”¨æˆ·æµ‹è¯•</li>
<li>æ”¶é›†ç”¨æˆ·åé¦ˆ</li>
<li>ä¼˜åŒ–ç³»ç»Ÿçš„ç”¨æˆ·ä½“éªŒ</li>
</ul>
</li>
</ol>
<h4 data-id="heading-89">6.5 éƒ¨ç½²ä¸Šçº¿</h4>
<p>éƒ¨ç½²ä¸Šçº¿æ˜¯Ooder A2UIå¼€å‘æµç¨‹çš„æœ€åä¸€æ­¥ï¼Œå°†ç³»ç»Ÿéƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒã€‚</p>
<h5 data-id="heading-90">6.5.1 éƒ¨ç½²å‡†å¤‡</h5>
<ol>
<li>
<p><strong>ç¼–è¯‘æ‰“åŒ…</strong>ï¼š</p>
<ul>
<li>ç¼–è¯‘æºä»£ç </li>
<li>æ‰“åŒ…åº”ç”¨</li>
<li>ç”Ÿæˆéƒ¨ç½²æ–‡ä»¶</li>
</ul>
</li>
<li>
<p><strong>é…ç½®ç¯å¢ƒ</strong>ï¼š</p>
<ul>
<li>å‡†å¤‡ç”Ÿäº§ç¯å¢ƒ</li>
<li>é…ç½®æœåŠ¡å™¨å’Œæ•°æ®åº“</li>
<li>ç¡®ä¿ç¯å¢ƒçš„ä¸€è‡´æ€§</li>
</ul>
</li>
<li>
<p><strong>åˆ¶å®šéƒ¨ç½²è®¡åˆ’</strong>ï¼š</p>
<ul>
<li>åˆ¶å®šè¯¦ç»†çš„éƒ¨ç½²è®¡åˆ’</li>
<li>ç¡®å®šéƒ¨ç½²çš„æ—¶é—´å’Œæ­¥éª¤</li>
<li>åˆ¶å®šå›æ»šç­–ç•¥</li>
</ul>
</li>
</ol>
<h5 data-id="heading-91">6.5.2 éƒ¨ç½²æ‰§è¡Œ</h5>
<ol>
<li>
<p><strong>éƒ¨ç½²åº”ç”¨</strong>ï¼š</p>
<ul>
<li>å°†åº”ç”¨éƒ¨ç½²åˆ°ç”Ÿäº§æœåŠ¡å™¨</li>
<li>é…ç½®åº”ç”¨å‚æ•°</li>
<li>å¯åŠ¨åº”ç”¨æœåŠ¡</li>
</ul>
</li>
<li>
<p><strong>éªŒè¯éƒ¨ç½²ç»“æœ</strong>ï¼š</p>
<ul>
<li>éªŒè¯åº”ç”¨çš„æ­£å¸¸è¿è¡Œ</li>
<li>æµ‹è¯•ç³»ç»Ÿçš„åŠŸèƒ½å’Œæ€§èƒ½</li>
<li>ç¡®ä¿ç³»ç»Ÿçš„ç¨³å®šæ€§</li>
</ul>
</li>
<li>
<p><strong>ç›‘æ§å’Œç»´æŠ¤</strong>ï¼š</p>
<ul>
<li>è®¾ç½®ç³»ç»Ÿç›‘æ§</li>
<li>ç›‘æ§ç³»ç»Ÿçš„è¿è¡ŒçŠ¶æ€</li>
<li>åŠæ—¶å¤„ç†ç³»ç»Ÿé—®é¢˜</li>
</ul>
</li>
</ol>
<h5 data-id="heading-92">6.5.3 ä¸Šçº¿åçš„ç»´æŠ¤</h5>
<ol>
<li>
<p><strong>ç³»ç»Ÿç›‘æ§</strong>ï¼š</p>
<ul>
<li>æŒç»­ç›‘æ§ç³»ç»Ÿçš„è¿è¡ŒçŠ¶æ€</li>
<li>åˆ†æç³»ç»Ÿæ—¥å¿—</li>
<li>åŠæ—¶å‘ç°å’Œè§£å†³é—®é¢˜</li>
</ul>
</li>
<li>
<p><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼š</p>
<ul>
<li>åˆ†æç³»ç»Ÿæ€§èƒ½</li>
<li>ä¼˜åŒ–ç³»ç»Ÿæ€§èƒ½</li>
<li>æé«˜ç³»ç»Ÿçš„å“åº”é€Ÿåº¦</li>
</ul>
</li>
<li>
<p><strong>åŠŸèƒ½è¿­ä»£</strong>ï¼š</p>
<ul>
<li>æ ¹æ®ç”¨æˆ·åé¦ˆè¿›è¡ŒåŠŸèƒ½è¿­ä»£</li>
<li>æŒç»­æ”¹è¿›ç³»ç»Ÿ</li>
<li>ç¡®ä¿ç³»ç»Ÿçš„ç«äº‰åŠ›</li>
</ul>
</li>
</ol>
<h4 data-id="heading-93">6.6 å¼€å‘æµç¨‹æœ€ä½³å®è·µ</h4>
<p>ä»æŠ€æœ¯æ–‡æ¡£ä¸­å¯ä»¥æå–å‡ºOoder A2UIå¼€å‘æµç¨‹çš„æœ€ä½³å®è·µï¼š</p>
<ol>
<li>
<p><strong>éµå¾ªæ³¨è§£è§„èŒƒ</strong>ï¼š</p>
<ul>
<li>æ­£ç¡®ä½¿ç”¨å„ç±»æ³¨è§£</li>
<li>éµå¾ªæ³¨è§£çš„ä½¿ç”¨è§„èŒƒ</li>
<li>ç¡®ä¿æ³¨è§£é…ç½®çš„ä¸€è‡´æ€§</li>
</ul>
</li>
<li>
<p><strong>ç»„ä»¶åŒ–è®¾è®¡</strong>ï¼š</p>
<ul>
<li>é‡‡ç”¨ç»„ä»¶åŒ–è®¾è®¡æ€æƒ³</li>
<li>æé«˜ç»„ä»¶çš„å¯å¤ç”¨æ€§</li>
<li>ç¡®ä¿ç»„ä»¶çš„ç‹¬ç«‹æ€§</li>
</ul>
</li>
<li>
<p><strong>æ¨¡å—åŒ–å¼€å‘</strong>ï¼š</p>
<ul>
<li>é‡‡ç”¨æ¨¡å—åŒ–å¼€å‘æ–¹å¼</li>
<li>æé«˜æ¨¡å—çš„å¯ç»´æŠ¤æ€§</li>
<li>ç¡®ä¿æ¨¡å—çš„ä½è€¦åˆæ€§</li>
</ul>
</li>
<li>
<p><strong>æµ‹è¯•é©±åŠ¨å¼€å‘</strong>ï¼š</p>
<ul>
<li>é‡‡ç”¨æµ‹è¯•é©±åŠ¨å¼€å‘æ–¹å¼</li>
<li>ç¡®ä¿ä»£ç çš„è´¨é‡å’Œå¯é æ€§</li>
<li>æé«˜å¼€å‘æ•ˆç‡</li>
</ul>
</li>
<li>
<p><strong>æŒç»­é›†æˆå’Œäº¤ä»˜</strong>ï¼š</p>
<ul>
<li>é‡‡ç”¨æŒç»­é›†æˆå’Œäº¤ä»˜æ–¹å¼</li>
<li>æé«˜å¼€å‘å’Œéƒ¨ç½²æ•ˆç‡</li>
<li>ç¡®ä¿ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œå¯é æ€§</li>
</ul>
</li>
</ol>
<h3 data-id="heading-94">7. æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-95">7.1 æ³¨è§£ä½¿ç”¨åŸåˆ™</h4>
<p>Ooder A2UIçš„æ³¨è§£ä½“ç³»æ˜¯å®ç°å‰åç«¯å¼ºæ˜ å°„å…³ç³»çš„æ ¸å¿ƒï¼Œæ­£ç¡®ä½¿ç”¨æ³¨è§£æ˜¯ç¡®ä¿ç³»ç»Ÿå¯ç»´æŠ¤æ€§å’Œæ‰©å±•æ€§çš„å…³é”®ã€‚</p>
<h5 data-id="heading-96">7.1.1 æ³¨è§£åˆ†ç±»ä½¿ç”¨</h5>
<p><strong>1. è§†å›¾å±‚æ³¨è§£</strong></p>
<ul>
<li>ç”¨é€”ï¼šç”¨äºå®šä¹‰ç»„ä»¶çš„å¤–è§‚å’Œå¸ƒå±€</li>
<li>ç¤ºä¾‹ï¼š<code>@FormAnnotation</code>ã€<code>@GridAnnotation</code>ã€<code>@TabsAnnotation</code>ç­‰</li>
<li>æœ€ä½³å®è·µï¼šæ ¹æ®è§†å›¾ç±»å‹é€‰æ‹©åˆé€‚çš„æ³¨è§£ï¼Œé…ç½®å¿…è¦çš„å¸ƒå±€å’Œæ ·å¼å±æ€§</li>
</ul>
<p><strong>2. è¡Œä¸ºæ³¨è§£</strong></p>
<ul>
<li>ç”¨é€”ï¼šç”¨äºå®šä¹‰ç»„ä»¶çš„äº‹ä»¶å’Œäº¤äº’è¡Œä¸º</li>
<li>ç¤ºä¾‹ï¼š<code>@APIEventAnnotation</code>ã€<code>@ModuleAnnotation</code>ç­‰</li>
<li>æœ€ä½³å®è·µï¼šæ˜ç¡®äº‹ä»¶çš„è§¦å‘æ¡ä»¶å’Œå¤„ç†é€»è¾‘ï¼Œåˆç†é…ç½®è¯·æ±‚å’Œå“åº”æ•°æ®</li>
</ul>
<p><strong>3. å­—æ®µæ³¨è§£</strong></p>
<ul>
<li>ç”¨é€”ï¼šç”¨äºå®šä¹‰å…·ä½“çš„æ•°æ®é¡¹å’Œè¾“å…¥æ§ä»¶</li>
<li>ç¤ºä¾‹ï¼š<code>@InputAnnotation</code>ã€<code>@DatePickerAnnotation</code>ã€<code>@ComboBoxAnnotation</code>ç­‰</li>
<li>æœ€ä½³å®è·µï¼šæ ¹æ®æ•°æ®ç±»å‹é€‰æ‹©åˆé€‚çš„æ§ä»¶ï¼Œé…ç½®å¿…è¦çš„éªŒè¯è§„åˆ™</li>
</ul>
<p><strong>4. æœåŠ¡æ³¨è§£</strong></p>
<ul>
<li>ç”¨é€”ï¼šç”¨äºå®šä¹‰æœåŠ¡çš„Webè®¿é—®æ€§</li>
<li>ç¤ºä¾‹ï¼š<code>@RestController</code>ã€<code>@Service</code>ã€<code>@Aggregation</code>ç­‰</li>
<li>æœ€ä½³å®è·µï¼šç¡®ä¿æœåŠ¡çš„Webå¯è®¿é—®æ€§ï¼Œé…ç½®åˆç†çš„URLè·¯å¾„</li>
</ul>
<h5 data-id="heading-97">7.1.2 æ³¨è§£ç»„åˆè§„èŒƒ</h5>
<p><strong>1. éµå¾ªæ³¨è§£ä½¿ç”¨çš„å»é‡åŸåˆ™</strong></p>
<ul>
<li>é¿å…é‡å¤é…ç½®ç›¸åŒçš„å±æ€§</li>
<li>ç¡®ä¿æ³¨è§£ä¹‹é—´çš„å…¼å®¹æ€§</li>
<li>ä¼˜å…ˆä½¿ç”¨æ›´å…·ä½“çš„æ³¨è§£</li>
</ul>
<p><strong>2. åˆç†ç»„åˆä¸åŒç±»å‹çš„æ³¨è§£</strong></p>
<ul>
<li>æ¯ä¸ªå­—æ®µè‡³å°‘åŒ…å«ä¸€ä¸ªç»„ä»¶ç±»å‹æ³¨è§£å’Œä¸€ä¸ªå¤–è§‚æ³¨è§£</li>
<li>æ ¹æ®éœ€è¦æ·»åŠ è¡Œä¸ºæ³¨è§£å’Œå…¶ä»–å¢å¼ºæ³¨è§£</li>
<li>ç¡®ä¿æ³¨è§£ç»„åˆèƒ½å¤Ÿå®Œæ•´æè¿°ç»„ä»¶çš„å¤–è§‚å’Œè¡Œä¸º</li>
</ul>
<p><strong>3. æ³¨è§£ä½¿ç”¨ç¤ºä¾‹</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@InputAnnotation(
    maxlength = 20,
    required = true
)</span>
<span class="hljs-meta">@CustomAnnotation(
    caption = "å‘˜å·¥å§“å",
    index = 1,
    imageClass = "fa-solid fa-user"
)</span>
<span class="hljs-keyword">private</span> String employeeName;
</code></pre>
<h5 data-id="heading-98">7.1.3 æ³¨è§£é…ç½®è§„èŒƒ</h5>
<p><strong>1. éµå¾ªæœ€å°åŒ–é…ç½®åŸåˆ™</strong></p>
<ul>
<li>åªé…ç½®å¿…è¦çš„å±æ€§</li>
<li>åˆ©ç”¨é»˜è®¤å€¼å‡å°‘é…ç½®é‡</li>
<li>é¿å…è¿‡åº¦é…ç½®</li>
</ul>
<p><strong>2. ä¿æŒæ³¨è§£é…ç½®çš„ä¸€è‡´æ€§</strong></p>
<ul>
<li>ç»Ÿä¸€æ³¨è§£çš„ä½¿ç”¨æ–¹å¼</li>
<li>ä¿æŒå±æ€§å‘½åçš„ä¸€è‡´æ€§</li>
<li>ç¡®ä¿é…ç½®å€¼çš„æ ¼å¼ç»Ÿä¸€</li>
</ul>
<p><strong>3. æ³¨è§£é…ç½®ç¤ºä¾‹</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@FormAnnotation(
    borderType = BorderType.inset,
    col = 2,
    row = 8,
    customService = {EmployeeManagementService.class}
)</span>
</code></pre>
<h4 data-id="heading-99">7.2 è§†å›¾è®¾è®¡åŸåˆ™</h4>
<p>è§†å›¾è®¾è®¡æ˜¯Ooder A2UIå¼€å‘çš„æ ¸å¿ƒï¼Œéµå¾ªè‰¯å¥½çš„è§†å›¾è®¾è®¡åŸåˆ™å¯ä»¥æé«˜ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§å’Œç”¨æˆ·ä½“éªŒã€‚</p>
<h5 data-id="heading-100">7.2.1 æ ¸å¿ƒè®¾è®¡åŸåˆ™</h5>
<p><strong>1. å•ä¸€èŒè´£åŸåˆ™</strong></p>
<ul>
<li>æ¯ä¸ªè§†å›¾åº”æœ‰æ˜ç¡®çš„èŒè´£å’Œç”¨é€”</li>
<li>é¿å…åœ¨ä¸€ä¸ªè§†å›¾ä¸­å®ç°è¿‡å¤šçš„åŠŸèƒ½</li>
<li>æé«˜è§†å›¾çš„å¯å¤ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§</li>
</ul>
<p><strong>2. å¯å¤ç”¨æ€§åŸåˆ™</strong></p>
<ul>
<li>è®¾è®¡é€šç”¨ç»„ä»¶ï¼Œæé«˜ä»£ç å¤ç”¨ç‡</li>
<li>æŠ½è±¡å…¬å…±çš„è§†å›¾é€»è¾‘å’Œå¸ƒå±€</li>
<li>å»ºç«‹ç»„ä»¶åº“ï¼Œä¾¿äºå¤ç”¨å’Œç»´æŠ¤</li>
</ul>
<p><strong>3. å¯ç»´æŠ¤æ€§åŸåˆ™</strong></p>
<ul>
<li>ä¿æŒä»£ç ç»“æ„æ¸…æ™°ï¼Œæ˜“äºç†è§£å’Œä¿®æ”¹</li>
<li>åˆç†ç»„ç»‡è§†å›¾çš„å±‚æ¬¡ç»“æ„</li>
<li>ä½¿ç”¨æ¸…æ™°çš„å‘½åè§„èŒƒ</li>
</ul>
<p><strong>4. å¯æ‰©å±•æ€§åŸåˆ™</strong></p>
<ul>
<li>æä¾›æ‰©å±•æœºåˆ¶ï¼Œæ”¯æŒè‡ªå®šä¹‰ç»„ä»¶çš„å¼€å‘å’Œé›†æˆ</li>
<li>è®¾è®¡æ¾è€¦åˆçš„ç»„ä»¶ç»“æ„</li>
<li>æ”¯æŒæ’ä»¶åŒ–å¼€å‘</li>
</ul>
<h5 data-id="heading-101">7.2.2 è§†å›¾è®¾è®¡æœ€ä½³å®è·µ</h5>
<p><strong>1. å®¹å™¨ç»„ä»¶ä¸å±•ç¤ºç»„ä»¶åˆ†ç¦»</strong></p>
<ul>
<li>å®¹å™¨ç»„ä»¶è´Ÿè´£ä¸šåŠ¡é€»è¾‘å¤„ç†å’Œæ•°æ®ç®¡ç†</li>
<li>å±•ç¤ºç»„ä»¶è´Ÿè´£UIæ¸²æŸ“ï¼Œæ— çŠ¶æ€</li>
<li>æé«˜ç»„ä»¶çš„å¯å¤ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§</li>
</ul>
<p><strong>2. Pageä¸ºä¸­å¿ƒçš„å‰ç«¯ç»„ä»¶ç»„ç»‡</strong></p>
<ul>
<li>Pageæ˜¯å‰ç«¯ç»„ä»¶çš„æ ¹å®¹å™¨ï¼Œç»„ç»‡æ‰€æœ‰å­ç»„ä»¶</li>
<li>åŠ¨æ€ç»„ä»¶åŠ è½½ï¼Œæ ¹æ®ä¸šåŠ¡éœ€æ±‚åŠ¨æ€åŠ è½½å’Œå¸è½½ç»„ä»¶</li>
<li>ç»Ÿä¸€ç®¡ç†ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ</li>
<li>é€šè¿‡PageCtxç®¡ç†é¡µé¢è¿è¡Œæ‰€éœ€çš„æ‰€æœ‰ä¸Šä¸‹æ–‡ä¿¡æ¯</li>
</ul>
<p><strong>3. å››åˆ†ç¦»è®¾è®¡åŸåˆ™</strong></p>
<ul>
<li>å±æ€§ã€æ ·å¼ã€äº‹ä»¶ã€è¡Œä¸ºåˆ†ç¦»</li>
<li>å®ç°é«˜å†…èšä½è€¦åˆçš„ç»„ä»¶è®¾è®¡</li>
<li>ä¾¿äºç»´æŠ¤å’Œæ‰©å±•</li>
</ul>
<p><strong>4. å“åº”å¼è®¾è®¡</strong></p>
<ul>
<li>ç¡®ä¿è§†å›¾åœ¨ä¸åŒå±å¹•å°ºå¯¸ä¸‹éƒ½èƒ½æ­£å¸¸æ˜¾ç¤º</li>
<li>é‡‡ç”¨å¼¹æ€§å¸ƒå±€å’Œåª’ä½“æŸ¥è¯¢</li>
<li>ä¼˜åŒ–ç§»åŠ¨ç«¯ä½“éªŒ</li>
</ul>
<h4 data-id="heading-102">7.3 æœåŠ¡è®¾è®¡åŸåˆ™</h4>
<p>æœåŠ¡è®¾è®¡æ˜¯Ooder A2UIåç«¯å¼€å‘çš„æ ¸å¿ƒï¼Œéµå¾ªè‰¯å¥½çš„æœåŠ¡è®¾è®¡åŸåˆ™å¯ä»¥æé«˜ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§å’Œæ€§èƒ½ã€‚</p>
<h5 data-id="heading-103">7.3.1 æ ¸å¿ƒè®¾è®¡åŸåˆ™</h5>
<p><strong>1. ä¸šåŠ¡é€»è¾‘ä¸æ•°æ®è®¿é—®åˆ†ç¦»</strong></p>
<ul>
<li>æœåŠ¡å±‚è´Ÿè´£ä¸šåŠ¡é€»è¾‘ï¼Œä»“åº“å±‚è´Ÿè´£æ•°æ®è®¿é—®</li>
<li>æé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯æµ‹è¯•æ€§</li>
<li>ä¾¿äºæ›´æ¢æ•°æ®è®¿é—®å±‚å®ç°</li>
</ul>
<p><strong>2. æœåŠ¡æ–¹æ³•å•ä¸€èŒè´£</strong></p>
<ul>
<li>æ¯ä¸ªæœåŠ¡æ–¹æ³•åªåšä¸€ä»¶äº‹</li>
<li>æé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§</li>
<li>ä¾¿äºæµ‹è¯•å’Œè°ƒè¯•</li>
</ul>
<p><strong>3. ç»Ÿä¸€è¿”å›æ ¼å¼</strong></p>
<ul>
<li>ä½¿ç”¨<code>ResultModel</code>ç»Ÿä¸€APIè¿”å›æ ¼å¼</li>
<li>åŒ…å«çŠ¶æ€ç ã€æ¶ˆæ¯å’Œæ•°æ®</li>
<li>ä¾¿äºå‰ç«¯ç»Ÿä¸€å¤„ç†å“åº”</li>
</ul>
<p><strong>4. å¼‚å¸¸å¤„ç†è§„èŒƒ</strong></p>
<ul>
<li>æä¾›å®Œå–„çš„å¼‚å¸¸å¤„ç†æœºåˆ¶</li>
<li>ç»Ÿä¸€å¼‚å¸¸æ ¼å¼ï¼Œä¾¿äºå‰ç«¯å¤„ç†</li>
<li>è®°å½•å¼‚å¸¸æ—¥å¿—ï¼Œä¾¿äºè°ƒè¯•å’Œç›‘æ§</li>
</ul>
<h5 data-id="heading-104">7.3.2 æœåŠ¡è®¾è®¡æœ€ä½³å®è·µ</h5>
<p><strong>1. è®¾è®¡RESTful API</strong></p>
<ul>
<li>éµå¾ªRESTfulè®¾è®¡åŸåˆ™</li>
<li>ä½¿ç”¨åˆé€‚çš„HTTPæ–¹æ³•</li>
<li>è®¾è®¡æ¸…æ™°çš„URLè·¯å¾„</li>
</ul>
<p><strong>2. æœåŠ¡å®ç°ç¤ºä¾‹</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping("/employee/management")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EmployeeManagementService</span> {
    <span class="hljs-meta">@PostMapping("/save")</span>
    <span class="hljs-keyword">public</span> ResultModel&lt;Boolean&gt; <span class="hljs-title function_">saveEmployee</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> EmployeeManagementView view)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä¿å­˜å‘˜å·¥ä¿¡æ¯é€»è¾‘</span>
            <span class="hljs-keyword">return</span> ResultModel.success(<span class="hljs-literal">true</span>, <span class="hljs-string">"ä¿å­˜æˆåŠŸ"</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">return</span> ResultModel.error(<span class="hljs-string">"ä¿å­˜å¤±è´¥: "</span> + e.getMessage());
        }
    }
}
</code></pre>
<p><strong>3. æœåŠ¡å®‰å…¨è®¾è®¡</strong></p>
<ul>
<li>æ·»åŠ é€‚å½“çš„è®¤è¯å’Œæˆæƒæœºåˆ¶</li>
<li>éªŒè¯è¯·æ±‚å‚æ•°ï¼Œé˜²æ­¢æ³¨å…¥æ”»å‡»</li>
<li>åŠ å¯†æ•æ„Ÿæ•°æ®</li>
</ul>
<h4 data-id="heading-105">7.4 æ€§èƒ½ä¼˜åŒ–</h4>
<p>æ€§èƒ½ä¼˜åŒ–æ˜¯Ooder A2UIå¼€å‘çš„é‡è¦ç¯èŠ‚ï¼Œè‰¯å¥½çš„æ€§èƒ½å¯ä»¥æé«˜ç”¨æˆ·ä½“éªŒå’Œç³»ç»Ÿçš„å¯æ‰©å±•æ€§ã€‚</p>
<h5 data-id="heading-106">7.4.1 ç»„ä»¶ä¼˜åŒ–</h5>
<p><strong>1. åˆç†è®¾è®¡ç»„ä»¶ç»“æ„</strong></p>
<ul>
<li>é¿å…è¿‡åº¦åµŒå¥—ç»„ä»¶</li>
<li>å‡å°‘ç»„ä»¶çš„å±‚çº§æ·±åº¦</li>
<li>ä¼˜åŒ–ç»„ä»¶çš„æ¸²æŸ“é€»è¾‘</li>
</ul>
<p><strong>2. ç»„ä»¶æ‡’åŠ è½½</strong></p>
<ul>
<li>æ ¹æ®ä¸šåŠ¡éœ€æ±‚åŠ¨æ€åŠ è½½ç»„ä»¶</li>
<li>é¿å…ä¸€æ¬¡æ€§åŠ è½½è¿‡å¤šç»„ä»¶</li>
<li>æé«˜åˆå§‹åŠ è½½é€Ÿåº¦</li>
</ul>
<p><strong>3. ç»„ä»¶ç¼“å­˜</strong></p>
<ul>
<li>ç¼“å­˜ä¸ç»å¸¸å˜åŒ–çš„ç»„ä»¶</li>
<li>å‡å°‘ç»„ä»¶çš„é‡æ–°æ¸²æŸ“æ¬¡æ•°</li>
<li>æé«˜ç³»ç»Ÿçš„å“åº”é€Ÿåº¦</li>
</ul>
<h5 data-id="heading-107">7.4.2 é€šè®¯ä¼˜åŒ–</h5>
<p><strong>1. ä¼˜åŒ–é€šè®¯åè®®</strong></p>
<ul>
<li>ä½¿ç”¨é«˜æ•ˆçš„é€šè®¯åè®®</li>
<li>å‡å°‘æ•°æ®ä¼ è¾“é‡</li>
<li>å‹ç¼©å“åº”æ•°æ®</li>
</ul>
<p><strong>2. æ‰¹é‡è¯·æ±‚</strong></p>
<ul>
<li>å°†å¤šä¸ªå°è¯·æ±‚åˆå¹¶ä¸ºä¸€ä¸ªå¤§è¯·æ±‚</li>
<li>å‡å°‘HTTPè¯·æ±‚æ¬¡æ•°</li>
<li>æé«˜é€šè®¯æ•ˆç‡</li>
</ul>
<p><strong>3. å¼‚æ­¥é€šè®¯</strong></p>
<ul>
<li>é‡‡ç”¨å¼‚æ­¥é€šè®¯æ–¹å¼</li>
<li>é¿å…é˜»å¡ä¸»çº¿ç¨‹</li>
<li>æé«˜ç³»ç»Ÿçš„å¹¶å‘èƒ½åŠ›</li>
</ul>
<h5 data-id="heading-108">7.4.3 æ•°æ®ä¼˜åŒ–</h5>
<p><strong>1. åˆç†ä½¿ç”¨ç¼“å­˜</strong></p>
<ul>
<li>ç¼“å­˜å¸¸ç”¨æ•°æ®</li>
<li>å‡å°‘æ•°æ®åº“æŸ¥è¯¢æ¬¡æ•°</li>
<li>æé«˜æ•°æ®è®¿é—®é€Ÿåº¦</li>
</ul>
<p><strong>2. ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢</strong></p>
<ul>
<li>ä½¿ç”¨ç´¢å¼•ä¼˜åŒ–æŸ¥è¯¢</li>
<li>é¿å…å…¨è¡¨æ‰«æ</li>
<li>ä¼˜åŒ–æŸ¥è¯¢è¯­å¥</li>
</ul>
<p><strong>3. æ•°æ®åˆ†é¡µ</strong></p>
<ul>
<li>å¯¹å¤§æ•°æ®é›†è¿›è¡Œåˆ†é¡µ</li>
<li>å‡å°‘å•æ¬¡è¿”å›çš„æ•°æ®é‡</li>
<li>æé«˜ç³»ç»Ÿçš„å“åº”é€Ÿåº¦</li>
</ul>
<h5 data-id="heading-109">7.4.4 ä¼ä¸šçº§é«˜å¹¶å‘ä¼˜åŒ–ç­–ç•¥</h5>
<p>é’ˆå¯¹ä¼ä¸šçº§é«˜å¹¶å‘åœºæ™¯ï¼ŒOoder A2UIæä¾›äº†ä»¥ä¸‹é«˜çº§ä¼˜åŒ–ç­–ç•¥ï¼š</p>
<p><strong>1. ç»„ä»¶ç¼“å­˜ç­–ç•¥</strong></p>
<ul>
<li>å¯¹é«˜é¢‘è®¿é—®çš„é™æ€è§†å›¾ï¼ˆå¦‚èœå•ã€ä»ªè¡¨ç›˜ï¼‰å¯ç”¨<code>PageCache</code>ï¼Œç¼“å­˜æœ‰æ•ˆæœŸå†…ç›´æ¥è¿”å›ç¼–è¯‘åçš„JSONé…ç½®</li>
<li>æ”¯æŒåŸºäºç”¨æˆ·è§’è‰²çš„å·®å¼‚åŒ–ç¼“å­˜ï¼Œç¡®ä¿æ•°æ®å®‰å…¨æ€§</li>
<li>é…ç½®ç¤ºä¾‹ï¼š<code>@PageCache(expire = 3600, key = "menu_${user.role}")</code></li>
<li>æ€§èƒ½æ”¶ç›Šï¼šå‡å°‘80%ä»¥ä¸Šçš„ç¼–è¯‘æœŸè®¡ç®—å¼€é”€ï¼Œåˆå§‹åŠ è½½é€Ÿåº¦æå‡5-10å€</li>
</ul>
<p><strong>2. æ•°æ®åˆ†ç‰‡åŠ è½½</strong></p>
<ul>
<li>å¯¹å¤§æ•°æ®é‡ç½‘æ ¼ç»„ä»¶ï¼Œé€šè¿‡<code>@GridAnnotation(pageSize = 20)</code>é…ç½®åˆ†é¡µï¼Œç»“åˆåç«¯<code>PageHelper</code>å®ç°åˆ†ç‰‡æŸ¥è¯¢</li>
<li>æ”¯æŒè™šæ‹Ÿæ»šåŠ¨ï¼Œä»…æ¸²æŸ“å¯è§†åŒºåŸŸå†…çš„æ•°æ®</li>
<li>é…ç½®ç¤ºä¾‹ï¼š
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@GridAnnotation(
    pageSize = 20,
    virtualScroll = true,
    scrollHeight = "500px"
)</span>
<span class="hljs-keyword">private</span> String dataGrid;
</code></pre>
</li>
<li>æ€§èƒ½æ”¶ç›Šï¼šæ”¯æŒç™¾ä¸‡çº§æ•°æ®é‡å±•ç¤ºï¼Œåˆå§‹æ¸²æŸ“é€Ÿåº¦æå‡100å€ä»¥ä¸Š</li>
</ul>
<p><strong>3. é€šè®¯æ‰¹å¤„ç†</strong></p>
<ul>
<li>é€šè¿‡<code>@BatchAPIEventAnnotation</code>å°†å¤šä¸ªç‹¬ç«‹è¯·æ±‚åˆå¹¶ä¸ºä¸€æ¬¡æ‰¹é‡è¯·æ±‚ï¼Œå‡å°‘HTTPè¿æ¥æ•°</li>
<li>æ”¯æŒå¼‚æ­¥æ‰¹å¤„ç†ï¼Œæé«˜ç³»ç»Ÿå¹¶å‘èƒ½åŠ›</li>
<li>é…ç½®ç¤ºä¾‹ï¼š
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@BatchAPIEventAnnotation(
    batchSize = 5,
    delay = 100,
    bindActions = {CustomAction.UPDATE, CustomAction.DELETE}
)</span>
<span class="hljs-keyword">private</span> String batchButton;
</code></pre>
</li>
<li>æ€§èƒ½æ”¶ç›Šï¼šå‡å°‘HTTPè¯·æ±‚æ¬¡æ•°60%ä»¥ä¸Šï¼Œé«˜å¹¶å‘åœºæ™¯ä¸‹ç³»ç»Ÿååé‡æå‡3-5å€</li>
</ul>
<p><strong>4. æœåŠ¡å±‚å¼‚æ­¥å¤„ç†</strong></p>
<ul>
<li>å¯¹è€—æ—¶è¾ƒé•¿çš„æœåŠ¡æ–¹æ³•ï¼Œä½¿ç”¨<code>@Async</code>æ³¨è§£å®ç°å¼‚æ­¥å¤„ç†</li>
<li>é…ç½®çº¿ç¨‹æ± å‚æ•°ï¼Œä¼˜åŒ–å¹¶å‘å¤„ç†èƒ½åŠ›</li>
<li>ç»“åˆ<code>CompletableFuture</code>å®ç°å¤æ‚çš„å¼‚æ­¥ç¼–æ’</li>
<li>æ€§èƒ½æ”¶ç›Šï¼šæé«˜æœåŠ¡å±‚å¹¶å‘å¤„ç†èƒ½åŠ›ï¼Œå‡å°‘è¯·æ±‚ç­‰å¾…æ—¶é—´</li>
</ul>
<h5 data-id="heading-110">7.4.5 æ¸²æŸ“ä¼˜åŒ–</h5>
<p><strong>1. é™æ€æ¨¡æ¿æ¸²æŸ“</strong></p>
<ul>
<li>åˆ©ç”¨Ooderçš„é™æ€æ¨¡æ¿æ¸²æŸ“æœºåˆ¶</li>
<li>å‡å°‘å‰ç«¯çš„è®¡ç®—å¼€é”€</li>
<li>æé«˜åˆå§‹åŠ è½½é€Ÿåº¦</li>
</ul>
<p><strong>2. å‡å°‘DOMæ“ä½œ</strong></p>
<ul>
<li>æ‰¹é‡æ›´æ–°DOM</li>
<li>é¿å…é¢‘ç¹çš„DOMæ“ä½œ</li>
<li>ä½¿ç”¨è™šæ‹ŸDOMæŠ€æœ¯</li>
</ul>
<p><strong>3. ä¼˜åŒ–CSSå’ŒJavaScript</strong></p>
<ul>
<li>å‹ç¼©CSSå’ŒJavaScriptæ–‡ä»¶</li>
<li>å‡å°‘æ–‡ä»¶å¤§å°</li>
<li>æé«˜åŠ è½½é€Ÿåº¦</li>
</ul>
<h4 data-id="heading-111">7.5 æ ¸å¿ƒç†å¿µè§„èŒƒ</h4>
<p>ä»æŠ€æœ¯æ–‡æ¡£ä¸­å¯ä»¥æå–å‡ºOoder A2UIçš„æ ¸å¿ƒç†å¿µè§„èŒƒï¼š</p>
<p><strong>1. è§†å›¾å¯¹è±¡çš„åŒé‡è§’è‰²</strong></p>
<ul>
<li>æ•°æ®ä¼ è¾“å¯¹è±¡(DTO)ï¼šè§†å›¾å¯¹è±¡ä½œä¸ºæ•°æ®è½½ä½“ï¼Œç”¨äºå‰åç«¯æ•°æ®ä¼ è¾“</li>
<li>è§†å›¾é…ç½®è½½ä½“ï¼šé€šè¿‡æ³¨è§£å®šä¹‰è§†å›¾çš„å¤–è§‚ã€è¡Œä¸ºå’Œäº¤äº’</li>
</ul>
<p><strong>2. æ³¨è§£ä¸å‰ç«¯æ¡†æ¶çš„å¼ºæ˜ å°„å…³ç³»</strong></p>
<ul>
<li>ComponentType.INPUT â†’ ood.UI.Input</li>
<li>ViewType.FORM â†’ è¡¨å•è§†å›¾</li>
<li>APIEventAnnotation â†’ ç»‘å®šå‰ç«¯äº‹ä»¶ä¸åç«¯æœåŠ¡</li>
<li>RequestPathEnum/ResponsePathEnum â†’ æ§åˆ¶å‰åç«¯æ•°æ®æµå‘</li>
</ul>
<p><strong>3. æ³¨è§£é©±åŠ¨çš„è®¾è®¡åŸåˆ™</strong></p>
<ul>
<li>å£°æ˜å¼é…ç½®ï¼šé€šè¿‡æ³¨è§£å£°æ˜è§†å›¾ç»“æ„å’Œè¡Œä¸ºï¼Œè€Œéç¼–ç¨‹å¼å®šä¹‰</li>
<li>é…ç½®å³ä»£ç ï¼šæ³¨è§£é…ç½®ä¸ä¸šåŠ¡é€»è¾‘åˆ†ç¦»ï¼Œæé«˜å¯ç»´æŠ¤æ€§</li>
<li>å¼ºç±»å‹æ˜ å°„ï¼šæ³¨è§£ä¸å‰ç«¯ç»„ä»¶ä¸€ä¸€å¯¹åº”ï¼Œç¡®ä¿ç±»å‹å®‰å…¨</li>
</ul>
<p><strong>4. ç»„ä»¶ä½“ç³»è§„èŒƒ</strong></p>
<ul>
<li>éµå¾ª"å¹²-æ”¯-å¶"ç»“æ„åŒ–è®¾è®¡æ¨¡å¼</li>
<li>æ ¸å¿ƒæ³¨è§£ä½œä¸º"å¹²"ï¼Œå®šä¹‰ç»„ä»¶çš„åŸºæœ¬è¡Œä¸ºå’Œå±æ€§</li>
<li>å­ç±»ç»„ä»¶ä½œä¸º"æ”¯"ï¼Œæ‰©å±•æ ¸å¿ƒç»„ä»¶çš„åŠŸèƒ½</li>
<li>å…·ä½“åº”ç”¨åœºæ™¯ä½œä¸º"å¶"ï¼Œå®ç°å…·ä½“çš„ä¸šåŠ¡éœ€æ±‚</li>
</ul>
<h3 data-id="heading-112">8. ä¸å…¶ä»–æ¡†æ¶æ¯”è¾ƒ</h3>
<h4 data-id="heading-113">8.1 ä¸React/Vueæ¯”è¾ƒ</h4>
<p>Ooder A2UIä¸React/Vueä½œä¸ºå½“å‰ä¸»æµçš„Webå¼€å‘æ¡†æ¶ï¼Œåœ¨è®¾è®¡ç†å¿µå’Œå®ç°æ–¹å¼ä¸Šæœ‰æ˜æ˜¾åŒºåˆ«ã€‚</p>






































































<table><thead><tr><th>ç‰¹æ€§</th><th>Ooder A2UI</th><th>React/Vue</th></tr></thead><tbody><tr><td><strong>æ¸²æŸ“æ–¹å¼</strong></td><td>é™æ€æ¨¡æ¿æ¸²æŸ“</td><td>åŠ¨æ€æ¸²æŸ“ï¼ˆè™šæ‹ŸDOMï¼‰</td></tr><tr><td><strong>å¼€å‘æ¨¡å¼</strong></td><td>æ³¨è§£é©±åŠ¨</td><td>æ¨¡æ¿/JSXé©±åŠ¨</td></tr><tr><td><strong>å‰åç«¯å…³ç³»</strong></td><td>å¼ºç»‘å®š</td><td>æ¾è€¦åˆ</td></tr><tr><td><strong>ç»„ä»¶è®¾è®¡</strong></td><td>å››åˆ†ç¦»è®¾è®¡ï¼ˆå±æ€§ã€æ ·å¼ã€äº‹ä»¶ã€è¡Œä¸ºåˆ†ç¦»ï¼‰</td><td>ç»„ä»¶åŒ–è®¾è®¡</td></tr><tr><td><strong>æ•°æ®ç®¡ç†</strong></td><td>åç«¯å®Œå…¨æ§åˆ¶</td><td>å‰ç«¯æ•°æ®ç®¡ç†ï¼ˆçŠ¶æ€ç®¡ç†åº“ï¼‰</td></tr><tr><td><strong>è®¾è®¡åŸåˆ™</strong></td><td>å£°æ˜å¼é…ç½®ï¼Œé…ç½®å³ä»£ç </td><td>å£°æ˜å¼ç¼–ç¨‹ï¼Œç»„ä»¶åŒ–å¼€å‘</td></tr><tr><td><strong>å‰åç«¯é€šè®¯</strong></td><td>æ³¨è§£é©±åŠ¨çš„é€šè®¯æœºåˆ¶</td><td>RESTful APIæˆ–GraphQL</td></tr><tr><td><strong>è§†å›¾ä¸æ•°æ®å…³ç³»</strong></td><td>DTO/VOä¸€ä½“åŒ–</td><td>æ•°æ®é©±åŠ¨è§†å›¾</td></tr><tr><td><strong>å­¦ä¹ æ›²çº¿</strong></td><td>è¾ƒé™¡å³­ï¼Œéœ€è¦æŒæ¡Javaå’Œå‰ç«¯æŠ€æœ¯</td><td>è¾ƒå¹³ç¼“ï¼Œä¸»è¦å‰ç«¯æŠ€æœ¯</td></tr><tr><td><strong>é€‚åˆåœºæ™¯</strong></td><td>ä¼ä¸šçº§ç®¡ç†ç³»ç»Ÿï¼Œå¤æ‚è¡¨å•å¤„ç†</td><td>å„ç§Webåº”ç”¨ï¼ŒåŒ…æ‹¬å•é¡µåº”ç”¨</td></tr><tr><td><strong>æ€§èƒ½ç‰¹ç‚¹</strong></td><td>åˆå§‹åŠ è½½å¿«ï¼ŒåŠ¨æ€æ›´æ–°æ…¢</td><td>åˆå§‹åŠ è½½æ…¢ï¼ŒåŠ¨æ€æ›´æ–°å¿«</td></tr><tr><td><strong>AIå…¼å®¹æ€§</strong></td><td>ç»“æ„åŒ–è®¾è®¡ï¼Œä¾¿äºAIç”Ÿæˆä»£ç </td><td>åŠ¨æ€ç»“æ„ï¼ŒAIç”Ÿæˆä»£ç éš¾åº¦è¾ƒå¤§</td></tr></tbody></table>
<p><strong>æ ¸å¿ƒåŒºåˆ«åˆ†æ</strong>ï¼š</p>
<ol>
<li><strong>æ¸²æŸ“æ–¹å¼</strong>ï¼šOoder A2UIé‡‡ç”¨é™æ€æ¨¡æ¿æ¸²æŸ“ï¼Œåç«¯å®Œå…¨è¾“å‡ºJSONäº¤ç”±å‰ç«¯æ¸²æŸ“ï¼›è€ŒReact/Vueé‡‡ç”¨åŠ¨æ€æ¸²æŸ“ï¼Œé€šè¿‡è™šæ‹ŸDOMå®ç°é«˜æ•ˆæ›´æ–°ã€‚</li>
<li><strong>å¼€å‘æ¨¡å¼</strong>ï¼šOoder A2UIåŸºäºJavaæ³¨è§£é©±åŠ¨å¼€å‘ï¼Œå°†å‰åç«¯ç´§å¯†ç»‘å®šï¼›è€ŒReact/VueåŸºäºæ¨¡æ¿/JSXé©±åŠ¨ï¼Œå‰åç«¯æ¾è€¦åˆã€‚</li>
<li><strong>ç»„ä»¶è®¾è®¡</strong>ï¼šOoder A2UIé‡‡ç”¨å››åˆ†ç¦»è®¾è®¡åŸåˆ™ï¼Œå°†å±æ€§ã€æ ·å¼ã€äº‹ä»¶ã€è¡Œä¸ºåˆ†ç¦»ï¼›è€ŒReact/Vueé‡‡ç”¨ç»„ä»¶åŒ–è®¾è®¡ï¼Œå°†HTMLã€CSSã€JavaScriptå°è£…åœ¨ç»„ä»¶ä¸­ã€‚</li>
<li><strong>æ•°æ®ç®¡ç†</strong>ï¼šOoder A2UIç”±åç«¯å®Œå…¨æ§åˆ¶æ•°æ®ï¼Œå‰ç«¯åªè´Ÿè´£å±•ç¤ºï¼›è€ŒReact/Vueç”±å‰ç«¯ç®¡ç†æ•°æ®ï¼Œé€šè¿‡çŠ¶æ€ç®¡ç†åº“å®ç°å¤æ‚æ•°æ®æµè½¬ã€‚</li>
<li><strong>AIå…¼å®¹æ€§</strong>ï¼šOoder A2UIçš„ç»“æ„åŒ–è®¾è®¡å’Œå¼ºç±»å‹æ˜ å°„ï¼Œä½¿å…¶æ›´é€‚åˆAIç”Ÿæˆä»£ç ï¼›è€ŒReact/Vueçš„åŠ¨æ€ç»“æ„å’Œçµæ´»è¯­æ³•ï¼Œå¢åŠ äº†AIç”Ÿæˆä»£ç çš„éš¾åº¦ã€‚</li>
</ol>
<p><strong>ä¼ä¸šçº§åœºæ™¯æ€§èƒ½å¯¹æ¯”</strong>ï¼š</p>



































<table><thead><tr><th>æµ‹è¯•åœºæ™¯</th><th>Ooder A2UI</th><th>React 18</th><th>Vue 3</th></tr></thead><tbody><tr><td>100å­—æ®µå¤æ‚è¡¨å•åˆå§‹åŠ è½½</td><td>200ms</td><td>350ms</td><td>320ms</td></tr><tr><td>1000è¡Œæ•°æ®ç½‘æ ¼æ¸²æŸ“</td><td>450ms</td><td>300ms</td><td>280ms</td></tr><tr><td>è¡¨å•æäº¤-æ•°æ®ä¿å­˜-UIåˆ·æ–°</td><td>150ms</td><td>120ms</td><td>110ms</td></tr><tr><td>ç¼–è¯‘æœŸç±»å‹æ ¡éªŒè¦†ç›–åº¦</td><td>100%</td><td>éœ€é¢å¤–TSæ ¡éªŒ</td><td>éœ€é¢å¤–TSæ ¡éªŒ</td></tr></tbody></table>
<p><strong>æ€§èƒ½æµ‹è¯•ç»“è®º</strong>ï¼š</p>
<ul>
<li><strong>åˆå§‹åŠ è½½æ€§èƒ½</strong>ï¼šOoder A2UIåœ¨<strong>å¤æ‚è¡¨å•åˆå§‹åŠ è½½</strong>åœºæ™¯ä¸‹è¡¨ç°ä¼˜å¼‚ï¼Œæ¯”Reactå¿«43%ï¼Œæ¯”Vueå¿«37.5%ï¼Œé€‚åˆå¤§å‹ä¼ä¸šçº§è¡¨å•åº”ç”¨</li>
<li><strong>åŠ¨æ€æ¸²æŸ“æ€§èƒ½</strong>ï¼šReact/Vueåœ¨<strong>1000è¡Œæ•°æ®ç½‘æ ¼æ¸²æŸ“</strong>åœºæ™¯ä¸‹æ›´ä¼˜ï¼Œåˆ©ç”¨è™šæ‹ŸDOMæŠ€æœ¯å®ç°é«˜æ•ˆæ›´æ–°ï¼Œé€‚åˆæ•°æ®é«˜é¢‘å˜åŒ–çš„åœºæ™¯</li>
<li><strong>ç«¯åˆ°ç«¯æ€§èƒ½</strong>ï¼šä¸‰è€…åœ¨<strong>è¡¨å•æäº¤-æ•°æ®ä¿å­˜-UIåˆ·æ–°</strong>åœºæ™¯ä¸‹æ€§èƒ½å·®å¼‚ä¸å¤§ï¼Œä¸»è¦å–å†³äºç½‘ç»œå»¶è¿Ÿå’Œåç«¯å¤„ç†é€Ÿåº¦</li>
<li><strong>ç±»å‹å®‰å…¨</strong>ï¼šOoder A2UIé€šè¿‡<strong>ç¼–è¯‘æœŸç±»å‹æ ¡éªŒ</strong>å®ç°100%è¦†ç›–ï¼Œé¿å…äº†è¿è¡ŒæœŸç±»å‹é”™è¯¯ï¼Œè€ŒReact/Vueéœ€è¦é¢å¤–é…ç½®TypeScriptæ‰èƒ½å®ç°ç±»ä¼¼åŠŸèƒ½</li>
</ul>
<p><strong>é€‰æ‹©å»ºè®®</strong>ï¼š</p>
<ul>
<li>å¯¹äº<strong>ä¼ä¸šçº§ç®¡ç†ç³»ç»Ÿ</strong>ã€<strong>å¤æ‚è¡¨å•å¤„ç†</strong>å’Œ<strong>é‡è§†åˆå§‹åŠ è½½é€Ÿåº¦</strong>çš„åœºæ™¯ï¼ŒOoder A2UIæ˜¯æ›´ä¼˜é€‰æ‹©</li>
<li>å¯¹äº<strong>å•é¡µåº”ç”¨</strong>ã€<strong>é«˜äº¤äº’æ€§å‰ç«¯åº”ç”¨</strong>å’Œ<strong>æ•°æ®é«˜é¢‘å˜åŒ–</strong>çš„åœºæ™¯ï¼ŒReact/Vueå¯èƒ½æ›´é€‚åˆ</li>
</ul>
<h4 data-id="heading-114">8.2 ä¸ä¼ ç»ŸJSP/ASPæ¯”è¾ƒ</h4>
<p>Ooder A2UIä¸ä¼ ç»ŸJSP/ASPæŠ€æœ¯ç›¸æ¯”ï¼Œåœ¨å¼€å‘æ¨¡å¼ã€å‰åç«¯åˆ†ç¦»ã€ç»„ä»¶åŒ–ç¨‹åº¦ç­‰æ–¹é¢æœ‰æ˜æ˜¾ä¼˜åŠ¿ã€‚</p>




























































<table><thead><tr><th>ç‰¹æ€§</th><th>Ooder A2UI</th><th>ä¼ ç»ŸJSP/ASP</th></tr></thead><tbody><tr><td><strong>å¼€å‘æ¨¡å¼</strong></td><td>æ³¨è§£é©±åŠ¨</td><td>è„šæœ¬åµŒå…¥</td></tr><tr><td><strong>å‰åç«¯åˆ†ç¦»</strong></td><td>å‰åç«¯ä¸€ä½“åŒ–è®¾è®¡</td><td>å‰åç«¯æ··åˆ</td></tr><tr><td><strong>ç»„ä»¶åŒ–ç¨‹åº¦</strong></td><td>é«˜åº¦ç»„ä»¶åŒ–</td><td>ä½ç»„ä»¶åŒ–</td></tr><tr><td><strong>æ€§èƒ½</strong></td><td>é™æ€æ¨¡æ¿æ¸²æŸ“ï¼Œåˆå§‹åŠ è½½å¿«</td><td>åŠ¨æ€ç¼–è¯‘ï¼Œåˆå§‹åŠ è½½æ…¢</td></tr><tr><td><strong>ç»´æŠ¤æ€§</strong></td><td>æ˜“äºç»´æŠ¤å’Œæ‰©å±•</td><td>ç»´æŠ¤å›°éš¾ï¼Œæ‰©å±•æ€§å·®</td></tr><tr><td><strong>å¼€å‘æ•ˆç‡</strong></td><td>æ³¨è§£é©±åŠ¨ï¼Œå¼€å‘æ•ˆç‡é«˜</td><td>è„šæœ¬åµŒå…¥ï¼Œå¼€å‘æ•ˆç‡ä½</td></tr><tr><td><strong>ä»£ç å¤ç”¨</strong></td><td>é«˜åº¦ç»„ä»¶åŒ–ï¼Œä»£ç å¤ç”¨ç‡é«˜</td><td>ä½ç»„ä»¶åŒ–ï¼Œä»£ç å¤ç”¨ç‡ä½</td></tr><tr><td><strong>å®‰å…¨æ€§</strong></td><td>å‰åç«¯å¼ºç»‘å®šï¼Œå®‰å…¨æ€§é«˜</td><td>å‰åç«¯æ··åˆï¼Œå®‰å…¨æ€§è¾ƒä½</td></tr><tr><td><strong>å“åº”å¼æ”¯æŒ</strong></td><td>å†…ç½®å“åº”å¼è®¾è®¡</td><td>éœ€æ‰‹åŠ¨å®ç°å“åº”å¼</td></tr><tr><td><strong>ç°ä»£åŒ–æ”¯æŒ</strong></td><td>æ”¯æŒç°ä»£æµè§ˆå™¨ï¼Œå“åº”å¼è®¾è®¡</td><td>å¯¹ç°ä»£æµè§ˆå™¨æ”¯æŒæœ‰é™</td></tr></tbody></table>
<p><strong>æ ¸å¿ƒåŒºåˆ«åˆ†æ</strong>ï¼š</p>
<ol>
<li><strong>å¼€å‘æ¨¡å¼</strong>ï¼šOoder A2UIé‡‡ç”¨æ³¨è§£é©±åŠ¨å¼€å‘ï¼Œå°†ä¸šåŠ¡é€»è¾‘ä¸UIè®¾è®¡åˆ†ç¦»ï¼›è€Œä¼ ç»ŸJSP/ASPé‡‡ç”¨è„šæœ¬åµŒå…¥æ–¹å¼ï¼Œå°†HTMLå’Œä»£ç æ··åˆåœ¨ä¸€èµ·ã€‚</li>
<li><strong>å‰åç«¯åˆ†ç¦»</strong>ï¼šOoder A2UIè™½ç„¶é‡‡ç”¨å‰åç«¯ä¸€ä½“åŒ–è®¾è®¡ï¼Œä½†é€šè¿‡æ³¨è§£å®ç°äº†æ¸…æ™°çš„åˆ†å±‚ï¼›è€Œä¼ ç»ŸJSP/ASPå®Œå…¨æ··åˆï¼Œå‰åç«¯è¾¹ç•Œæ¨¡ç³Šã€‚</li>
<li><strong>ç»„ä»¶åŒ–ç¨‹åº¦</strong>ï¼šOoder A2UIé«˜åº¦ç»„ä»¶åŒ–ï¼Œæ”¯æŒç»„ä»¶å¤ç”¨å’Œæ‰©å±•ï¼›è€Œä¼ ç»ŸJSP/ASPç»„ä»¶åŒ–ç¨‹åº¦ä½ï¼Œä»£ç å¤ç”¨å›°éš¾ã€‚</li>
<li><strong>æ€§èƒ½</strong>ï¼šOoder A2UIé‡‡ç”¨é™æ€æ¨¡æ¿æ¸²æŸ“ï¼Œåˆå§‹åŠ è½½å¿«ï¼›è€Œä¼ ç»ŸJSP/ASPéœ€è¦åŠ¨æ€ç¼–è¯‘ï¼Œåˆå§‹åŠ è½½æ…¢ã€‚</li>
<li><strong>ç»´æŠ¤æ€§</strong>ï¼šOoder A2UIçš„ç»“æ„åŒ–è®¾è®¡å’Œæ¸…æ™°åˆ†å±‚ï¼Œä½¿å…¶æ˜“äºç»´æŠ¤å’Œæ‰©å±•ï¼›è€Œä¼ ç»ŸJSP/ASPçš„æ··åˆä»£ç ï¼Œç»´æŠ¤å›°éš¾ï¼Œæ‰©å±•æ€§å·®ã€‚</li>
</ol>
<h4 data-id="heading-115">8.3 ä¸ä½ä»£ç å¹³å°æ¯”è¾ƒ</h4>
<p>Ooder A2UIä¸ä½ä»£ç å¹³å°éƒ½æ˜¯ä¸ºäº†æé«˜å¼€å‘æ•ˆç‡ï¼Œä½†åœ¨å¼€å‘æ–¹å¼ã€çµæ´»æ€§ã€æ€§èƒ½ç­‰æ–¹é¢æœ‰æ˜æ˜¾åŒºåˆ«ã€‚</p>




























































<table><thead><tr><th>ç‰¹æ€§</th><th>Ooder A2UI</th><th>ä½ä»£ç å¹³å°</th></tr></thead><tbody><tr><td><strong>å¼€å‘æ–¹å¼</strong></td><td>ä»£ç é©±åŠ¨ + å¯è§†åŒ–ç¼–è¾‘</td><td>å¯è§†åŒ–ç¼–è¾‘ä¸ºä¸»</td></tr><tr><td><strong>çµæ´»æ€§</strong></td><td>é«˜åº¦çµæ´»ï¼Œæ”¯æŒå¤æ‚ä¸šåŠ¡é€»è¾‘</td><td>çµæ´»æ€§å—é™ï¼Œé€‚åˆç®€å•åº”ç”¨</td></tr><tr><td><strong>æ€§èƒ½</strong></td><td>é«˜æ€§èƒ½ï¼Œé€‚åˆå¤æ‚åº”ç”¨</td><td>æ€§èƒ½ä¸€èˆ¬ï¼Œé€‚åˆç®€å•åº”ç”¨</td></tr><tr><td><strong>å­¦ä¹ æ›²çº¿</strong></td><td>è¾ƒé™¡å³­ï¼Œéœ€è¦æŒæ¡Javaå’Œå‰ç«¯æŠ€æœ¯</td><td>è¾ƒå¹³ç¼“ï¼Œæ˜“äºä¸Šæ‰‹</td></tr><tr><td><strong>å®šåˆ¶èƒ½åŠ›</strong></td><td>é«˜åº¦å¯å®šåˆ¶</td><td>å®šåˆ¶èƒ½åŠ›å—é™</td></tr><tr><td><strong>å¤æ‚ä¸šåŠ¡æ”¯æŒ</strong></td><td>æ”¯æŒå¤æ‚ä¸šåŠ¡é€»è¾‘</td><td>é€‚åˆç®€å•ä¸šåŠ¡é€»è¾‘</td></tr><tr><td><strong>ä»£ç å¯æ§æ€§</strong></td><td>å®Œå…¨å¯æ§ï¼Œå¯ç›´æ¥ä¿®æ”¹ä»£ç </td><td>ä»£ç ç”Ÿæˆåéš¾ä»¥ä¿®æ”¹</td></tr><tr><td><strong>æ‰©å±•æ€§</strong></td><td>é«˜åº¦å¯æ‰©å±•ï¼Œæ”¯æŒè‡ªå®šä¹‰ç»„ä»¶</td><td>æ‰©å±•æ€§å—é™ï¼Œä¾èµ–å¹³å°èƒ½åŠ›</td></tr><tr><td><strong>é€‚åˆå›¢é˜Ÿ</strong></td><td>ä¸“ä¸šå¼€å‘å›¢é˜Ÿ</td><td>ä¸šåŠ¡äººå‘˜æˆ–ä½ä»£ç å¼€å‘è€…</td></tr><tr><td><strong>éƒ¨ç½²æ–¹å¼</strong></td><td>çµæ´»éƒ¨ç½²ï¼Œæ”¯æŒç§æœ‰éƒ¨ç½²</td><td>é€šå¸¸äº‘éƒ¨ç½²ï¼Œç§æœ‰éƒ¨ç½²æˆæœ¬é«˜</td></tr></tbody></table>
<p><strong>æ ¸å¿ƒåŒºåˆ«åˆ†æ</strong>ï¼š</p>
<ol>
<li><strong>å¼€å‘æ–¹å¼</strong>ï¼šOoder A2UIä»¥ä»£ç é©±åŠ¨ä¸ºä¸»ï¼Œç»“åˆå¯è§†åŒ–ç¼–è¾‘ï¼›è€Œä½ä»£ç å¹³å°ä»¥å¯è§†åŒ–ç¼–è¾‘ä¸ºä¸»ï¼Œä»£ç ç¼–è¾‘ä¸ºè¾…ã€‚</li>
<li><strong>çµæ´»æ€§</strong>ï¼šOoder A2UIé«˜åº¦çµæ´»ï¼Œæ”¯æŒå¤æ‚ä¸šåŠ¡é€»è¾‘å’Œå®šåˆ¶éœ€æ±‚ï¼›è€Œä½ä»£ç å¹³å°çµæ´»æ€§å—é™ï¼Œé€‚åˆç®€å•åº”ç”¨ã€‚</li>
<li><strong>æ€§èƒ½</strong>ï¼šOoder A2UIæ€§èƒ½ä¼˜å¼‚ï¼Œé€‚åˆå¤æ‚åº”ç”¨å’Œé«˜å¹¶å‘åœºæ™¯ï¼›è€Œä½ä»£ç å¹³å°æ€§èƒ½ä¸€èˆ¬ï¼Œé€‚åˆç®€å•åº”ç”¨ã€‚</li>
<li><strong>ä»£ç å¯æ§æ€§</strong>ï¼šOoder A2UIç”Ÿæˆçš„ä»£ç å®Œå…¨å¯æ§ï¼Œå¯ç›´æ¥ä¿®æ”¹ï¼›è€Œä½ä»£ç å¹³å°ç”Ÿæˆçš„ä»£ç éš¾ä»¥ä¿®æ”¹ï¼Œä¾èµ–å¹³å°èƒ½åŠ›ã€‚</li>
<li><strong>é€‚åˆå›¢é˜Ÿ</strong>ï¼šOoder A2UIé€‚åˆä¸“ä¸šå¼€å‘å›¢é˜Ÿï¼Œå……åˆ†å‘æŒ¥å¼€å‘äººå‘˜çš„èƒ½åŠ›ï¼›è€Œä½ä»£ç å¹³å°é€‚åˆä¸šåŠ¡äººå‘˜æˆ–ä½ä»£ç å¼€å‘è€…ï¼Œé™ä½å¼€å‘é—¨æ§›ã€‚</li>
</ol>
<h4 data-id="heading-116">8.4 æ€»ç»“</h4>
<p>Ooder A2UIä½œä¸ºä¸€ç§æ–°å‹çš„å…¨æ ˆæ¡†æ¶ï¼Œåœ¨è®¾è®¡ç†å¿µå’Œå®ç°æ–¹å¼ä¸Šä¸ä¼ ç»Ÿæ¡†æ¶å’Œä½ä»£ç å¹³å°æœ‰æ˜æ˜¾åŒºåˆ«ã€‚å®ƒç»“åˆäº†æ³¨è§£é©±åŠ¨å¼€å‘ã€é™æ€æ¨¡æ¿æ¸²æŸ“ã€å‰åç«¯å¼ºæ˜ å°„ç­‰ç‰¹ç‚¹ï¼Œé€‚åˆå¼€å‘å¤æ‚çš„ä¼ä¸šçº§ç®¡ç†ç³»ç»Ÿã€‚</p>
<p><strong>é€‰æ‹©å»ºè®®</strong>ï¼š</p>
<ol>
<li>å¦‚æœéœ€è¦å¼€å‘å¤æ‚çš„ä¼ä¸šçº§ç®¡ç†ç³»ç»Ÿï¼ŒOoder A2UIæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚</li>
<li>å¦‚æœéœ€è¦å¼€å‘å•é¡µåº”ç”¨æˆ–å¯¹å‰ç«¯äº¤äº’è¦æ±‚è¾ƒé«˜ï¼ŒReact/Vueå¯èƒ½æ›´é€‚åˆã€‚</li>
<li>å¦‚æœéœ€è¦å¿«é€Ÿå¼€å‘ç®€å•åº”ç”¨ï¼Œä½ä»£ç å¹³å°å¯èƒ½æ›´é€‚åˆã€‚</li>
<li>ä¼ ç»ŸJSP/ASPå·²ç»é€æ¸è¢«æ·˜æ±°ï¼Œä¸å»ºè®®æ–°é¡¹ç›®ä½¿ç”¨ã€‚</li>
</ol>
<p>Ooder A2UIçš„ä¼˜åŠ¿åœ¨äºå°†å‰åç«¯ç´§å¯†ç»‘å®šï¼Œå‡å°‘äº†å‰åç«¯æ²Ÿé€šæˆæœ¬ï¼ŒåŒæ—¶ä¿æŒäº†è‰¯å¥½çš„æ€§èƒ½å’Œå¯ç»´æŠ¤æ€§ã€‚å®ƒçš„ç»“æ„åŒ–è®¾è®¡ä¹Ÿä½¿å…¶éå¸¸é€‚åˆAIç”Ÿæˆä»£ç ï¼Œç¬¦åˆæœªæ¥A2UIï¼ˆAI to UIï¼‰çš„å‘å±•æ–¹å‘ã€‚</p>
<h3 data-id="heading-117">9. æœªæ¥å‘å±•æ–¹å‘</h3>
<p>Ooder A2UIçš„æ ¸å¿ƒå®šä½æ˜¯<strong>å…¨æ ˆé€šç”¨æ¶æ„æ¨¡å‹</strong>ï¼Œæœªæ¥å°†æ›´å€¾å‘äºå‘AIé è¿‘ï¼Œæ ¸å¿ƒæœç€<strong>è½»é‡çº§A2UIå¼€æºå¼€æ”¾</strong>åŠªåŠ›ã€‚</p>
<h4 data-id="heading-118">9.1 æ ¸å¿ƒæ¶æ„æ¨¡å‹ä¼˜åŒ–</h4>
<p>èšç„¦äºå…¨æ ˆé€šç”¨æ¶æ„æ¨¡å‹çš„ä¼˜åŒ–ï¼Œæ‰“é€ æ›´è½»é‡ã€æ›´é«˜æ•ˆçš„A2UIå¼€å‘æ¡†æ¶ï¼š</p>






























<table><thead><tr><th>å‘å±•æ–¹å‘</th><th>çŸ­æœŸç›®æ ‡ï¼ˆ1å¹´å†…ï¼‰</th><th>é•¿æœŸç›®æ ‡ï¼ˆ2-3å¹´ï¼‰</th></tr></thead><tbody><tr><td>è½»é‡çº§æ¶æ„</td><td>ä¼˜åŒ–ç¼–è¯‘æœŸæµç¨‹ï¼Œå‡å°‘æ ¸å¿ƒä¾èµ–ï¼Œé™ä½æ¡†æ¶ä½“ç§¯</td><td>å®ç°æ¨¡å—åŒ–è®¾è®¡ï¼Œæ”¯æŒæŒ‰éœ€åŠ è½½æ ¸å¿ƒç»„ä»¶</td></tr><tr><td>é€šç”¨æ¶æ„æ¨¡å‹</td><td>æç‚¼æ›´é€šç”¨çš„å…¨æ ˆæ¶æ„æ¨¡å‹ï¼Œé€‚é…æ›´å¤šä¸šåŠ¡åœºæ™¯</td><td>æ„å»ºå¯æ‰©å±•çš„æ¶æ„ä½“ç³»ï¼Œæ”¯æŒè‡ªå®šä¹‰æ‰©å±•å’Œæ’ä»¶å¼€å‘</td></tr><tr><td>æ€§èƒ½ä¼˜åŒ–</td><td>è¿›ä¸€æ­¥æå‡åˆå§‹åŠ è½½é€Ÿåº¦å’ŒåŠ¨æ€æ›´æ–°æ•ˆç‡</td><td>å®ç°è‡ªåŠ¨æ€§èƒ½ä¼˜åŒ–ï¼Œæ ¹æ®è¿è¡Œç¯å¢ƒè‡ªé€‚åº”è°ƒæ•´</td></tr><tr><td>å¼€å‘ä½“éªŒä¼˜åŒ–</td><td>ç®€åŒ–æ³¨è§£é…ç½®ï¼Œæä¾›æ›´å‹å¥½çš„å¼€å‘å·¥å…·æ”¯æŒ</td><td>é›†æˆIDEæ’ä»¶ï¼Œå®ç°æ™ºèƒ½åŒ–å¼€å‘è¾…åŠ©</td></tr></tbody></table>
<h4 data-id="heading-119">9.2 AIåŸç”Ÿèƒ½åŠ›å¢å¼º</h4>
<p>å¼ºåŒ–AIåŸç”Ÿè®¾è®¡ï¼Œæ‰“é€ æ›´é€‚åˆAIç”Ÿæˆä»£ç çš„æ¶æ„ä½“ç³»ï¼š</p>






























<table><thead><tr><th>å‘å±•æ–¹å‘</th><th>çŸ­æœŸç›®æ ‡ï¼ˆ1å¹´å†…ï¼‰</th><th>é•¿æœŸç›®æ ‡ï¼ˆ2-3å¹´ï¼‰</th></tr></thead><tbody><tr><td>A2UIæ ¸å¿ƒèƒ½åŠ›</td><td>ä¼˜åŒ–å››åˆ†ç¦»è®¾è®¡ï¼Œä½¿å…¶æ›´é€‚åˆAIç†è§£å’Œç”Ÿæˆ</td><td>å®ç°AIå‹å¥½çš„ç»„ä»¶æè¿°è¯­è¨€ï¼Œé™ä½AIç”Ÿæˆä»£ç çš„å¤æ‚åº¦</td></tr><tr><td>AIä»£ç ç”Ÿæˆæ”¯æŒ</td><td>æä¾›AIç”Ÿæˆä»£ç çš„æ ‡å‡†æ¨¡æ¿å’Œæœ€ä½³å®è·µ</td><td>æ„å»ºAIä»£ç ç”Ÿæˆçš„è¯„ä¼°ä½“ç³»ï¼Œç¡®ä¿ç”Ÿæˆä»£ç çš„è´¨é‡</td></tr><tr><td>æ™ºèƒ½åŒ–å¼€å‘å·¥å…·</td><td>é›†æˆAIè¾…åŠ©å¼€å‘å·¥å…·ï¼Œæ”¯æŒæ™ºèƒ½è¡¥å…¨ã€é”™è¯¯æç¤º</td><td>å®ç°AIé©±åŠ¨çš„ä»£ç é‡æ„å’Œä¼˜åŒ–å»ºè®®</td></tr><tr><td>ä½ä»£ç /æ— ä»£ç æ”¯æŒ</td><td>æä¾›å¯è§†åŒ–è®¾è®¡å™¨ï¼Œæ”¯æŒæ‹–æ‹½å¼å¼€å‘</td><td>å®ç°éœ€æ±‚æ–‡æ¡£åˆ°ä»£ç çš„è‡ªåŠ¨è½¬æ¢ï¼Œé™ä½å¼€å‘é—¨æ§›</td></tr></tbody></table>
<h4 data-id="heading-120">9.3 å¼€æºå¼€æ”¾ç”Ÿæ€å»ºè®¾</h4>
<p>æ¨åŠ¨Ooder A2UIçš„å¼€æºå¼€æ”¾ï¼Œæ„å»ºæ´»è·ƒçš„å¼€å‘è€…ç”Ÿæ€ï¼š</p>






























<table><thead><tr><th>å‘å±•æ–¹å‘</th><th>çŸ­æœŸç›®æ ‡ï¼ˆ1å¹´å†…ï¼‰</th><th>é•¿æœŸç›®æ ‡ï¼ˆ2-3å¹´ï¼‰</th></tr></thead><tbody><tr><td>å¼€æºç¤¾åŒºå»ºè®¾</td><td>å»ºç«‹GitHubå¼€æºä»“åº“ï¼Œå‘å¸ƒæ ¸å¿ƒä»£ç å’Œæ–‡æ¡£</td><td>æ„å»ºæ´»è·ƒçš„å¼€å‘è€…ç¤¾åŒºï¼Œå¸å¼•æ›´å¤šè´¡çŒ®è€…</td></tr><tr><td>ç»„ä»¶åº“æ‰©å±•</td><td>æä¾›åŸºç¡€ç»„ä»¶åº“ï¼Œæ”¯æŒè‡ªå®šä¹‰ç»„ä»¶å¼€å‘</td><td>å»ºç«‹ç»„ä»¶å¸‚åœºï¼Œæ”¯æŒç»„ä»¶çš„å…±äº«å’Œå¤ç”¨</td></tr><tr><td>æ–‡æ¡£å’Œæ•™ç¨‹</td><td>å®Œå–„å®˜æ–¹æ–‡æ¡£ï¼Œæä¾›å…¥é—¨æ•™ç¨‹å’Œæœ€ä½³å®è·µ</td><td>æ„å»ºä¸°å¯Œçš„å­¦ä¹ èµ„æºï¼ŒåŒ…æ‹¬è§†é¢‘æ•™ç¨‹ã€æ¡ˆä¾‹åˆ†æ</td></tr><tr><td>åˆä½œä¼™ä¼´ç”Ÿæ€</td><td>ä¸AIå¹³å°ã€äº‘æœåŠ¡æä¾›å•†å»ºç«‹åˆä½œå…³ç³»</td><td>æ„å»ºå®Œæ•´çš„A2UIç”Ÿæ€ç³»ç»Ÿï¼Œæ”¯æŒå¤šç§åœºæ™¯åº”ç”¨</td></tr></tbody></table>
<h4 data-id="heading-121">9.4 ä¼ä¸šçº§æ”¯æŒä¸é€‚é…</h4>
<p>åœ¨ä¿æŒè½»é‡çº§æ ¸å¿ƒçš„åŒæ—¶ï¼Œæä¾›ä¼ä¸šçº§æ”¯æŒå’Œé€‚é…ï¼š</p>






























<table><thead><tr><th>å‘å±•æ–¹å‘</th><th>çŸ­æœŸç›®æ ‡ï¼ˆ1å¹´å†…ï¼‰</th><th>é•¿æœŸç›®æ ‡ï¼ˆ2-3å¹´ï¼‰</th></tr></thead><tbody><tr><td>ä¼ä¸šçº§éƒ¨ç½²æ–¹æ¡ˆ</td><td>æä¾›ç®€å•æ˜“ç”¨çš„éƒ¨ç½²å·¥å…·ï¼Œæ”¯æŒç§æœ‰éƒ¨ç½²</td><td>æ”¯æŒä¼ä¸šçº§å®‰å…¨è®¤è¯å’Œæƒé™ç®¡ç†</td></tr><tr><td>é›†æˆèƒ½åŠ›</td><td>æ”¯æŒä¸ä¸»æµä¼ä¸šç³»ç»Ÿçš„é›†æˆï¼Œå¦‚ERPã€CRM</td><td>æä¾›æ ‡å‡†åŒ–çš„é›†æˆæ¥å£ï¼Œæ”¯æŒè‡ªå®šä¹‰é›†æˆå¼€å‘</td></tr><tr><td>åˆè§„æ€§æ”¯æŒ</td><td>å®ç°æ•°æ®éšç§ä¿æŠ¤å’Œåˆè§„æ€§æ”¯æŒ</td><td>æ”¯æŒGDPRã€ç­‰ä¿2.0ç­‰åˆè§„æ€§è¦æ±‚</td></tr><tr><td>ä¼ä¸šçº§æœåŠ¡</td><td>æä¾›æŠ€æœ¯æ”¯æŒå’ŒåŸ¹è®­æœåŠ¡ï¼Œæ”¯æŒå®šåˆ¶åŒ–å¼€å‘</td><td>å»ºç«‹ä¼ä¸šçº§æœåŠ¡ä½“ç³»ï¼Œæ”¯æŒå¤§è§„æ¨¡åº”ç”¨éƒ¨ç½²</td></tr></tbody></table>
<h3 data-id="heading-122">é™„å½•</h3>
<h4 data-id="heading-123">æ ¸å¿ƒAPIå‚è€ƒ</h4>
<h5 data-id="heading-124">1. Pageç›¸å…³API</h5>



































<table><thead><tr><th>APIåç§°</th><th>åŠŸèƒ½æè¿°</th><th>ä½¿ç”¨ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>PageCtx.getContext()</code></td><td>è·å–å½“å‰Pageä¸Šä¸‹æ–‡</td><td><code>PageCtx.getContext().getUser()</code></td></tr><tr><td><code>PageCtx.setData(key, value)</code></td><td>è®¾ç½®Pageä¸Šä¸‹æ–‡æ•°æ®</td><td><code>PageCtx.setData("userInfo", userData)</code></td></tr><tr><td><code>PageCtx.getData(key)</code></td><td>è·å–Pageä¸Šä¸‹æ–‡æ•°æ®</td><td><code>const userInfo = PageCtx.getData("userInfo")</code></td></tr><tr><td><code>PageCtx.refreshComponent(componentId)</code></td><td>åˆ·æ–°æŒ‡å®šç»„ä»¶</td><td><code>PageCtx.refreshComponent("dataGrid")</code></td></tr><tr><td><code>PageCtx.showMessage(message, type)</code></td><td>æ˜¾ç¤ºæç¤ºæ¶ˆæ¯</td><td><code>PageCtx.showMessage("ä¿å­˜æˆåŠŸ", "success")</code></td></tr></tbody></table>
<h5 data-id="heading-125">2. é€šè®¯ç›¸å…³API</h5>

























<table><thead><tr><th>APIåç§°</th><th>åŠŸèƒ½æè¿°</th><th>ä½¿ç”¨ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>APIEvent.invoke(action, data)</code></td><td>è°ƒç”¨æŒ‡å®šäº‹ä»¶</td><td><code>APIEvent.invoke(CustomAction.SAVE, formData)</code></td></tr><tr><td><code>APIEvent.bind(action, callback)</code></td><td>ç»‘å®šäº‹ä»¶å›è°ƒ</td><td><code>APIEvent.bind(CustomAction.SAVE, onSaveSuccess)</code></td></tr><tr><td><code>APIEvent.unbind(action, callback)</code></td><td>è§£ç»‘äº‹ä»¶å›è°ƒ</td><td><code>APIEvent.unbind(CustomAction.SAVE, onSaveSuccess)</code></td></tr></tbody></table>
<h4 data-id="heading-126">æ³¨è§£åˆ—è¡¨</h4>
<h5 data-id="heading-127">æ ¸å¿ƒæ³¨è§£é€ŸæŸ¥è¡¨</h5>

























































































<table><thead><tr><th>æ³¨è§£ç±»å‹</th><th>æ ¸å¿ƒæ³¨è§£</th><th>ä¸»è¦ç”¨é€”</th><th>åº”ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>è§†å›¾æ³¨è§£</td><td><code>@FormAnnotation</code></td><td>å®šä¹‰è¡¨å•è§†å›¾ç»“æ„</td><td>æ•°æ®å½•å…¥è¡¨å•</td></tr><tr><td/><td><code>@GridAnnotation</code></td><td>å®šä¹‰ç½‘æ ¼è§†å›¾ç»“æ„</td><td>æ•°æ®å±•ç¤ºè¡¨æ ¼</td></tr><tr><td/><td><code>@TreeAnnotation</code></td><td>å®šä¹‰æ ‘å½¢è§†å›¾ç»“æ„</td><td>å±‚çº§æ•°æ®å±•ç¤º</td></tr><tr><td>å­—æ®µæ³¨è§£</td><td><code>@InputAnnotation</code></td><td>é…ç½®è¾“å…¥æ¡†ç»„ä»¶</td><td>æ–‡æœ¬ã€æ•°å­—è¾“å…¥</td></tr><tr><td/><td><code>@ButtonAnnotation</code></td><td>é…ç½®æŒ‰é’®ç»„ä»¶</td><td>æ“ä½œæŒ‰é’®</td></tr><tr><td/><td><code>@ComboBoxAnnotation</code></td><td>é…ç½®ä¸‹æ‹‰æ¡†ç»„ä»¶</td><td>é€‰é¡¹é€‰æ‹©</td></tr><tr><td/><td><code>@DatePickerAnnotation</code></td><td>é…ç½®æ—¥æœŸé€‰æ‹©å™¨ç»„ä»¶</td><td>æ—¥æœŸæ—¶é—´è¾“å…¥</td></tr><tr><td>è¡Œä¸ºæ³¨è§£</td><td><code>@APIEventAnnotation</code></td><td>ç»‘å®šå‰ç«¯äº‹ä»¶ä¸åç«¯æœåŠ¡</td><td>ç”¨æˆ·äº¤äº’äº‹ä»¶å¤„ç†</td></tr><tr><td/><td><code>@Aggregation</code></td><td>å®šä¹‰æœåŠ¡èšåˆå…³ç³»</td><td>å¤æ‚æœåŠ¡ç»„åˆ</td></tr><tr><td>é…ç½®æ³¨è§£</td><td><code>@CustomAnnotation</code></td><td>é…ç½®ç»„ä»¶å¤–è§‚å±æ€§</td><td>è‡ªå®šä¹‰ç»„ä»¶æ˜¾ç¤º</td></tr><tr><td/><td><code>@CustomListAnnotation</code></td><td>é…ç½®åˆ—è¡¨æ•°æ®</td><td>å¢å¼ºæšä¸¾å­—æ®µ</td></tr><tr><td>æœåŠ¡æ³¨è§£</td><td><code>@RestController</code></td><td>å®šä¹‰Webå¯è®¿é—®æ§åˆ¶å™¨</td><td>æœåŠ¡ç«¯APIå…¥å£</td></tr><tr><td/><td><code>@Service</code></td><td>å®šä¹‰ä¸šåŠ¡æœåŠ¡</td><td>ä¸šåŠ¡é€»è¾‘å®ç°</td></tr></tbody></table>
<h4 data-id="heading-128">å¸¸è§é—®é¢˜æ’æŸ¥æŒ‡å—</h4>
<h5 data-id="heading-129">1. ç¼–è¯‘æœŸé”™è¯¯</h5>

























<table><thead><tr><th>é”™è¯¯ç±»å‹</th><th>å¯èƒ½åŸå› </th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>æ³¨è§£æ‰«æå¤±è´¥</td><td>ç¼ºå°‘å¿…è¦çš„ä¾èµ–åŒ…</td><td>æ£€æŸ¥pom.xmlæˆ–build.gradleä¾èµ–é…ç½®</td></tr><tr><td>ç»„ä»¶æ˜ å°„ä¸åŒ¹é…</td><td>åç«¯å®šä¹‰çš„ComponentTypeå‰ç«¯æ— å¯¹åº”ç»„ä»¶</td><td>æ£€æŸ¥å‰ç«¯ç»„ä»¶åº“æ˜¯å¦åŒ…å«å¯¹åº”çš„ç»„ä»¶å®ç°</td></tr><tr><td>æ³¨è§£é…ç½®é”™è¯¯</td><td>æ³¨è§£å±æ€§å€¼ç±»å‹ä¸åŒ¹é…</td><td>æ£€æŸ¥æ³¨è§£å±æ€§å€¼æ˜¯å¦ç¬¦åˆè¦æ±‚</td></tr></tbody></table>
<h5 data-id="heading-130">2. è¿è¡ŒæœŸé”™è¯¯</h5>






























<table><thead><tr><th>é”™è¯¯ç±»å‹</th><th>å¯èƒ½åŸå› </th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>ç»„ä»¶æ¸²æŸ“å¤±è´¥</td><td>å‰ç«¯ç»„ä»¶é…ç½®é”™è¯¯</td><td>æ£€æŸ¥ç»„ä»¶çš„JSONé…ç½®æ˜¯å¦æ­£ç¡®</td></tr><tr><td>äº‹ä»¶ç»‘å®šå¤±è´¥</td><td>APIEventAnnotationé…ç½®é”™è¯¯</td><td>æ£€æŸ¥äº‹ä»¶ç»‘å®šçš„æœåŠ¡å’Œæ–¹æ³•æ˜¯å¦å­˜åœ¨</td></tr><tr><td>æ•°æ®æµå‘é”™è¯¯</td><td>RequestPathEnum/ResponsePathEnumé…ç½®é”™è¯¯</td><td>æ£€æŸ¥æ•°æ®æµå‘é…ç½®æ˜¯å¦ç¬¦åˆé¢„æœŸ</td></tr><tr><td>æœåŠ¡è°ƒç”¨å¤±è´¥</td><td>åç«¯æœåŠ¡ä¸å¯è®¿é—®</td><td>æ£€æŸ¥æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œï¼ŒURLæ˜¯å¦æ­£ç¡®</td></tr></tbody></table>
<h5 data-id="heading-131">3. æ€§èƒ½é—®é¢˜</h5>

























<table><thead><tr><th>é—®é¢˜ç±»å‹</th><th>å¯èƒ½åŸå› </th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>åˆå§‹åŠ è½½æ…¢</td><td>ç»„ä»¶æ•°é‡è¿‡å¤šæˆ–é…ç½®å¤æ‚</td><td>å¯ç”¨ç»„ä»¶ç¼“å­˜ï¼Œä¼˜åŒ–ç»„ä»¶ç»“æ„</td></tr><tr><td>åŠ¨æ€æ›´æ–°æ…¢</td><td>æ•°æ®é‡å¤§æˆ–æ¸²æŸ“é€»è¾‘å¤æ‚</td><td>å¯ç”¨è™šæ‹Ÿæ»šåŠ¨ï¼Œä¼˜åŒ–æ¸²æŸ“é€»è¾‘</td></tr><tr><td>æœåŠ¡å“åº”æ…¢</td><td>æ•°æ®åº“æŸ¥è¯¢æ•ˆç‡ä½</td><td>ä¼˜åŒ–SQLæŸ¥è¯¢ï¼Œæ·»åŠ ç´¢å¼•ï¼Œå¯ç”¨ç¼“å­˜</td></tr></tbody></table>
<h4 data-id="heading-132">æœ¯è¯­è¡¨</h4>













































<table><thead><tr><th>æœ¯è¯­</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>A2UI</td><td>AI to UIï¼ŒAIç”ŸæˆUIä»£ç çš„æŠ€æœ¯æ–¹å‘</td></tr><tr><td>å››åˆ†ç¦»è®¾è®¡</td><td>å°†ç»„ä»¶çš„å±æ€§ã€æ ·å¼ã€äº‹ä»¶ã€è¡Œä¸ºåˆ†ç¦»çš„è®¾è®¡åŸåˆ™</td></tr><tr><td>DTO/VOä¸€ä½“åŒ–</td><td>è§†å›¾ç±»åŒæ—¶ä½œä¸ºæ•°æ®ä¼ è¾“å¯¹è±¡å’Œè§†å›¾å¯¹è±¡</td></tr><tr><td>ç¼–è¯‘æœŸé™æ€è½¬æ¢</td><td>å°†Javaæ³¨è§£è½¬æ¢ä¸ºå‰ç«¯ç»„ä»¶é…ç½®çš„è¿‡ç¨‹</td></tr><tr><td>è¿è¡ŒæœŸåŠ¨æ€è£…é…</td><td>æ ¹æ®ç”¨æˆ·äº¤äº’å’Œæ•°æ®å˜åŒ–åŠ¨æ€è°ƒæ•´ç»„ä»¶çŠ¶æ€</td></tr><tr><td>PageCtx</td><td>Pageçš„ä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œç®¡ç†é¡µé¢è¿è¡Œæ‰€éœ€çš„æ‰€æœ‰ç¯å¢ƒå˜é‡å’Œæ•°æ®</td></tr><tr><td>APIEvent</td><td>å®šä¹‰å‰ç«¯äº‹ä»¶ä¸åç«¯æœåŠ¡çš„ç»‘å®šå…³ç³»</td></tr><tr><td>ComponentType</td><td>åç«¯ç»„ä»¶ç±»å‹æšä¸¾ï¼Œä¸å‰ç«¯ç»„ä»¶ä¸€ä¸€å¯¹åº”</td></tr><tr><td>ViewType</td><td>åç«¯è§†å›¾ç±»å‹æšä¸¾ï¼Œä¸å‰ç«¯è§†å›¾ä¸€ä¸€å¯¹åº”</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å·¥åœ°â€œç«çœ¼é‡‘ç›â€ï¼æ‰‹æŠŠæ‰‹å¸¦ä½ ç”¨ YOLO11 å®ç°å®‰å…¨å¸½ä½©æˆ´æ£€æµ‹]]></title>    <link>https://juejin.cn/post/7588067055482568713</link>    <guid>https://juejin.cn/post/7588067055482568713</guid>    <pubDate>2025-12-27T15:25:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588067055482568713" data-draft-id="7587264707284254730" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å·¥åœ°â€œç«çœ¼é‡‘ç›â€ï¼æ‰‹æŠŠæ‰‹å¸¦ä½ ç”¨ YOLO11 å®ç°å®‰å…¨å¸½ä½©æˆ´æ£€æµ‹"/> <meta itemprop="keywords" content="è®¡ç®—æœºè§†è§‰,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-27T15:25:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="GetcharZp"/> <meta itemprop="url" content="https://juejin.cn/user/4328150938692264"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å·¥åœ°â€œç«çœ¼é‡‘ç›â€ï¼æ‰‹æŠŠæ‰‹å¸¦ä½ ç”¨ YOLO11 å®ç°å®‰å…¨å¸½ä½©æˆ´æ£€æµ‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4328150938692264/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    GetcharZp
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T15:25:49.000Z" title="Sat Dec 27 2025 15:25:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:2;font-weight:400;font-size:15px;overflow-x:hidden;color:#333;letter-spacing:1.2px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1:first-child,.markdown-body h2:first-child,.markdown-body h3:first-child,.markdown-body h4:first-child,.markdown-body h5:first-child,.markdown-body h6:first-child{margin-top:-1.5rem;margin-bottom:1rem}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{content:"#";display:inline-block;color:#3eaf7c;padding-right:.23em}.markdown-body h1{position:relative;font-size:2.5rem;margin-bottom:5px}.markdown-body h1:before{font-size:2.5rem}.markdown-body h2{padding-bottom:.5rem;font-size:2.2rem;border-bottom:1px solid #ececec}.markdown-body h3{font-size:1.5rem;padding-bottom:0}.markdown-body h4{font-size:1.25rem}.markdown-body h5{font-size:1rem}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body strong{color:#3eaf7c}.markdown-body img{max-width:100%;border-radius:2px;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #3eaf7c;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;overflow-x:auto;padding:.2rem .5rem;margin:0;color:#3eaf7c;font-size:.85em;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:.5rem solid #3eaf7c}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{font-weight:500;text-decoration:none;color:#3eaf7c;margin:0 5px}.markdown-body a:active,.markdown-body a:hover{text-decoration:none;border-bottom:1.5px solid #3eaf7c}.markdown-body a[href^=http]:after{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04MzIgMTI4SDY0MHY2NGgxNDYuNzUyTDUyMS4zNzYgNDU3LjM3Nmw0NS4yNDggNDUuMjQ4TDgzMiAyMzcuMjQ4VjM4NGg2NFYxMjh6IiBmaWxsPSIjM2VhZjdjIi8+PHBhdGggZD0iTTc2OCA4MzJIMTkyVjI1NmgzNTJ2LTY0SDE2MGEzMiAzMiAwIDAwLTMyIDMydjY0MGEzMiAzMiAwIDAwMzIgMzJoNjQwYTMyIDMyIDAgMDAzMi0zMlY0ODBoLTY0djM1MnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");margin-left:2px}.markdown-body a[href^="#"]:before{content:"#"}.markdown-body table{display:inline-block!important;font-size:13px;width:auto;max-width:100%;overflow:auto;border:1px solid #3eaf7c;border-collapse:collapse}.markdown-body thead{background:#3eaf7c;color:#fff;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(153,255,188,.1)}.markdown-body td,.markdown-body th{padding:4px 8px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#7b7878;padding:1px 23px;border-left:.5rem solid;border-color:#42b983;background-color:rgba(66,184,131,.1);position:relative;margin:14px 8px 0}.markdown-body blockquote:before{display:inline-block;position:absolute;content:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUiIGhlaWdodD0iMjUiIHZpZXdCb3g9IjAgMCAyNyAyNyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLjg2MiAxLjg2MikiIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSI+PGNpcmNsZSBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMS43MjQiIGZpbGw9IiM0MkI5ODMiIGN4PSIxMS42MzgiIGN5PSIxMS42MzgiIHI9IjExLjYzOCIvPjxwYXRoIGQ9Ik0xNC45NzggNi4yN0E1LjAwNiA1LjAwNiAwIDAwNi42NyA5LjQ2OGE0LjkwMSA0LjkwMSAwIDAwMS43NzMgNC4zNjJjLjMyMy4yNTguNTE0LjY0Ny41MjIgMS4wNnYxLjA2YTIuNjg1IDIuNjg1IDAgMDA1LjM3IDB2LTEuMDA4Yy4wMDItLjM5OC4xNzMtLjc3Ny40Ny0xLjA0MmE1LjAyMyA1LjAyMyAwIDAwLjE3My03LjYzem0tMy4zMzcgMTAuOTY3YTEuMzA0IDEuMzA0IDAgMDEtMS4yODYtMS4yODd2LS4yNzhoMi41NzJ2LjI2MWMwIC43MTMtLjU3MyAxLjI5NC0xLjI4NiAxLjMwNHptMi4yNi00LjQxNWMtLjQ0LjM4My0uNzUuODkzLS44ODcgMS40NmgtMi43NDZhMi44NjggMi44NjggMCAwMC0uOTM4LTEuNTNoLS4wMThhMy40NzYgMy40NzYgMCAwMS0xLjI2OS0zLjE0NSAzLjYxNSAzLjYxNSAwIDAxNy4xOTYuNCAzLjY1IDMuNjUgMCAwMS0xLjMzOCAyLjgxNXoiIGZpbGw9IiNGRkYiLz48L2c+PC9zdmc+");width:25px;height:25px;left:-16px;top:12px}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{outline:none;border:none;border-left:4px solid #3eaf7c;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary::-webkit-details-marker{color:#3eaf7c}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ol li::marker{color:#3eaf7c}.markdown-body ul li{list-style:none;padding-left:10px}.markdown-body ul li::marker{content:"â€¢";color:#3eaf7c}.markdown-body ul li.task-list-item:before{content:"";margin-right:0}.markdown-body input[type=checkbox]{vertical-align:text-bottom;box-shadow:inset 0 0 0 10px #fff}.markdown-body input[type=checkbox]:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04NzcuMDU2IDE0Ni45NDR2NzMwLjExMkgxNDYuOTQ0VjE0Ni45NDRoNzMwLjExMnptMC0xMDQuMjc3SDE0Ni45NDRjLTU3LjYyOCAwLTEwNC4yNzcgNDYuNjQ5LTEwNC4yNzcgMTA0LjI3N3Y3MzAuMTEyYzAgNTcuNjI4IDQ2LjY0OSAxMDQuMjc3IDEwNC4yNzcgMTA0LjI3N2g3MzAuMTEyYzU3LjYyOCAwIDEwNC4yNzctNDYuNjQ5IDEwNC4yNzctMTA0LjI3N1YxNDYuOTQ0YzAtNTcuNjI4LTQ2LjY0OS0xMDQuMjc3LTEwNC4yNzctMTA0LjI3N3oiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}.markdown-body input[type=checkbox]:checked:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik05MTAuMjA4IDBIMTEzLjc2QTExNC4xMTIgMTE0LjExMiAwIDAwLS4wMzIgMTEzLjc5MlY5MTAuMjRjMCA2Mi41OTIgNTEuMiAxMTMuNzkyIDExMy43OTIgMTEzLjc5Mmg3OTYuNDQ4YzYyLjU5MiAwIDExMy43OTItNTEuMiAxMTMuNzkyLTExMy43OTJWMTEzLjc5MkMxMDI0IDUxLjIgOTcyLjggMCA5MTAuMjA4IDB6bS01MTIgNzk2LjQ0OEwxMTMuNzYgNTEybDc5LjY0OC03OS42NDggMjA0LjggMjA0LjhMODMwLjU2IDIwNC44bDc5LjY0OCA3OS42NDgtNTEyIDUxMnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="monokai">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#272822;color:#ddd}.hljs-keyword,.hljs-literal,.hljs-name,.hljs-selector-tag,.hljs-strong,.hljs-tag{color:#f92672}.hljs-code{color:#66d9ef}.hljs-class .hljs-title{color:#fff}.hljs-attribute,.hljs-link,.hljs-regexp,.hljs-symbol{color:#bf79db}.hljs-addition,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-emphasis,.hljs-section,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-string,.hljs-subst,.hljs-template-tag,.hljs-template-variable,.hljs-title,.hljs-type,.hljs-variable{color:#a6e22e}.hljs-comment,.hljs-deletion,.hljs-meta,.hljs-quote{color:#75715e}.hljs-doctag,.hljs-keyword,.hljs-literal,.hljs-section,.hljs-selector-id,.hljs-selector-tag,.hljs-title,.hljs-type{font-weight:700}</style><blockquote>
<p>å·¥ä¸šå®‰å…¨æ— å°äº‹ã€‚å½“ YOLO å®¶æ—æœ€æ–°æˆå‘˜ YOLO11 é‡ä¸Šå·¥åœ°å®‰å…¨ç›‘ç®¡ï¼Œæ•ˆç‡ä¸ç²¾å‡†åº¦å¦‚ä½•èµ·é£ï¼Ÿæœ¬æ–‡å¸¦ä½ ä»é›¶å®ç°æ–°ç±»åˆ«ç›®æ ‡æ£€æµ‹è®­ç»ƒï¼</p>
<p>å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.ultralytics.com%2Fzh" target="_blank" title="https://docs.ultralytics.com/zh" ref="nofollow noopener noreferrer">docs.ultralytics.com/zh</a></p>
<p>Githubï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fultralytics%2Fultralytics" target="_blank" title="https://github.com/ultralytics/ultralytics" ref="nofollow noopener noreferrer">github.com/ultralyticsâ€¦</a></p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/43a0810912ad4a7b8b84de78240d2c86~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2V0Y2hhclpw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767453948&amp;x-signature=N4I%2Ff1GUvi%2FcRusZITtA%2BBUnf8o%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-0">å®‰å…¨ç¬¬ä¸€ï¼šä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ AI ç›‘å·¥ï¼Ÿ</h3>
<p>åœ¨æ–½å·¥ç°åœºæˆ–å·¥ä¸šç”Ÿäº§ä¸­ï¼Œæ­£ç¡®ä½©æˆ´å®‰å…¨å¸½æ˜¯ä¿å‘½çš„ç¬¬ä¸€é“é˜²çº¿ã€‚ç„¶è€Œï¼Œä¼ ç»Ÿçš„é äººçœ¼ç›¯ç€ç›‘æ§çœ‹ï¼Œä¸ä»…è´¹æ—¶è´¹åŠ›ï¼Œè¿˜ææ˜“äº§ç”Ÿè§†è§‰ç–²åŠ³å¯¼è‡´æ¼æ£€ã€‚</p>
<p>éšç€ Ultralytics YOLO11 çš„é‡ç£…å‘å¸ƒï¼Œè®¡ç®—æœºè§†è§‰æŠ€æœ¯åœ¨å¤„ç†æ­¤ç±»â€œé«˜ç²¾åº¦ã€é«˜å®æ—¶æ€§â€ä»»åŠ¡æ—¶å±•ç°å‡ºäº†æƒŠäººçš„èƒ½åŠ›ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥ä¸€åœºå®æˆ˜ï¼šç”¨ YOLO11 æ‰“é€ ä¸€å¥—è‡ªåŠ¨åŒ–å®‰å…¨å¸½ä½©æˆ´æ£€æµ‹ç³»ç»Ÿã€‚</p>
<h3 data-id="heading-1">è®¤è¯†æ–°ç‹è€…ï¼šYOLO11 å¼ºåœ¨å“ªé‡Œï¼Ÿ</h3>
<p>ä½œä¸º YOLO å®¶æ—çš„æœ€æ–°ä¸€ä»£ï¼ˆ2024å¹´ä¸‹åŠå¹´å‘å¸ƒï¼‰ï¼ŒYOLO11 å¹¶ä¸æ˜¯ç®€å•çš„ç‰ˆæœ¬å·é€’å¢ï¼Œå®ƒåœ¨æ¶æ„ä¸Šè¿›è¡Œäº†æ·±åº¦ä¼˜åŒ–ã€‚</p>
<h4 data-id="heading-2">æ ¸å¿ƒä¼˜ç‚¹</h4>
<ul>
<li>
<p>æè‡´çš„å‚æ•°æ•ˆç‡ï¼š YOLO11m åœ¨è¾¾åˆ°æ¯” YOLOv8m æ›´é«˜ç²¾åº¦çš„åŒæ—¶ï¼Œå‚æ•°é‡å‡å°‘äº†çº¦ 22%ã€‚è¿™æ„å‘³ç€å®ƒåœ¨è¾¹ç¼˜è®¡ç®—è®¾å¤‡ï¼ˆå¦‚æ‘„åƒå¤´ã€è¾¹ç¼˜ç›’å­ï¼‰ä¸Šè·‘å¾—æ›´æ¬¢ã€‚</p>
</li>
<li>
<p>æ¶æ„é©æ–°ï¼š é€šè¿‡é‡‡ç”¨æ”¹è¿›çš„ backbone å’Œ neck æ¶æ„ï¼Œæ˜¾è‘—æå‡äº†ç‰¹å¾æå–çš„æ·±åº¦å’Œå¹¿åº¦ï¼Œå°¤å…¶æ˜¯å¯¹é®æŒ¡ç‰©ä½“å’Œå°ç›®æ ‡çš„æ•æ‰æ›´åŠ ç²¾å‡†ã€‚</p>
</li>
<li>
<p>å…¨èƒ½é€‰æ‰‹ï¼š åŸç”Ÿæ”¯æŒæ£€æµ‹ã€åˆ†å‰²ã€å§¿æ€ä¼°è®¡ã€æ—‹è½¬æ¡†å’Œåˆ†ç±»ï¼Œä¸€ä¸ª API æå®šæ‰€æœ‰ä»»åŠ¡ã€‚</p>
</li>
</ul>
<h4 data-id="heading-3">æ½œåœ¨ä¸è¶³</h4>
<ul>
<li>
<p>ç¤¾åŒºç§¯ç´¯ï¼š ç›¸æ¯”äºä¹…ç»æ²™åœºçš„ YOLOv5/v8ï¼ŒYOLO11 å±äºæ–°é”ï¼Œç›¸å…³çš„ç¬¬ä¸‰æ–¹æ’ä»¶å’Œç°æˆçš„é¢„è®­ç»ƒæƒé‡åº“è¿˜åœ¨å¿«é€Ÿè¡¥å……ä¸­ã€‚</p>
</li>
<li>
<p>è®­ç»ƒé—¨æ§›ï¼š è™½ç„¶å®˜æ–¹ API æç®€ï¼Œä½†è¦å‘æŒ¥æœ€é«˜æ•ˆèƒ½ï¼Œå¯¹æ˜¾å¡é©±åŠ¨ï¼ˆCUDA 12+ï¼‰å’Œç¯å¢ƒé…ç½®æœ‰ä¸€å®šè¦æ±‚ã€‚</p>
</li>
</ul>
<h3 data-id="heading-4">å®æˆ˜ï¼šä»é›¶è®­ç»ƒå®‰å…¨å¸½æ£€æµ‹æ¨¡å‹</h3>
<ol>
<li>
<p>æ•°æ®é›†å‡†å¤‡ï¼Œå¯ä¸‹è½½ YOLO å®˜æ–¹æä¾›çš„æ•°æ®é›† <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fultralytics%2Fultralytics%2Fblob%2Fmain%2Fultralytics%2Fcfg%2Fdatasets%2Fconstruction-ppe.yaml" target="_blank" title="https://github.com/ultralytics/ultralytics/blob/main/ultralytics/cfg/datasets/construction-ppe.yaml" ref="nofollow noopener noreferrer">github.com/ultralyticsâ€¦</a></p>
<p>ä¹Ÿå¯ä»¥è‡ªå·±ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FHumanSignal%2Flabel-studio" target="_blank" title="https://github.com/HumanSignal/label-studio" ref="nofollow noopener noreferrer">Label-Studio</a> é‡æ–°æ ‡æ³¨â€œä½©æˆ´å®‰å…¨å¸½ï¼ˆhelmetï¼‰â€å’Œâ€œæœªä½©æˆ´ï¼ˆheadï¼‰â€ä¸¤ç±»æ ‡ç­¾çš„æ•°æ®ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b253b39e536a4985846e375c4a5129aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2V0Y2hhclpw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767453948&amp;x-signature=k6Mi1oxR2YhXeeFD97PQj%2FvOqoc%3D" alt="image.png" loading="lazy"/></p>
<p>æ ‡æ³¨å®Œæˆåï¼Œç‚¹å‡»å¯¼å‡º <code>YOLO with Images</code>ï¼Œ å°†èƒ½å¤Ÿå¯¼å‡º YOLO æ ¼å¼ï¼ˆæ¯å¼ å›¾ç‰‡å¯¹åº”ä¸€ä¸ª .txt æ ‡ç­¾ï¼Œå†…å®¹ä¸ºï¼šclass_id x_center y_center width heightï¼Œå‡ä¸ºå½’ä¸€åŒ–æ•°å€¼ï¼‰çš„æ•°æ®ã€‚</p>
</li>
</ol>
<p>ç›®å½•ç»“æ„ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">â”œâ”€images
â”‚  â”œâ”€<span class="hljs-built_in">test</span>
â”‚  â”œâ”€train  <span class="hljs-comment"># è®­ç»ƒé›†å›¾ç‰‡</span>
â”‚  â””â”€val    <span class="hljs-comment"># éªŒè¯é›†å›¾ç‰‡</span>
â””â”€labels
    â”œâ”€<span class="hljs-built_in">test</span>
    â”œâ”€train <span class="hljs-comment"># éªŒè¯é›†æ ‡ç­¾</span>
    â””â”€val   <span class="hljs-comment"># éªŒè¯é›†æ ‡ç­¾</span>
</code></pre>
<ol start="2">
<li>åˆ›å»º <code>helmet.yaml</code> é…ç½®æ–‡ä»¶ï¼ˆPSï¼šæ¨èç”¨å®˜æ–¹çš„ <code>construction-ppe.yaml</code> è¿›è¡Œå¿«é€ŸéªŒè¯ï¼‰</li>
</ol>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»ºè¯¥æ–‡ä»¶ï¼Œå‘Šè¯‰æ¨¡å‹æ•°æ®çš„è·¯å¾„å’Œç±»åˆ«ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">path:</span> <span class="hljs-string">C:\Users\getcharzp\datasets\helmet_data</span>  <span class="hljs-comment"># æ•°æ®æ ¹ç›®å½•</span>
<span class="hljs-attr">train:</span> <span class="hljs-string">images/train</span> <span class="hljs-comment"># è®­ç»ƒé›†å›¾ç‰‡</span>
<span class="hljs-attr">val:</span> <span class="hljs-string">images/val</span>     <span class="hljs-comment"># éªŒè¯é›†å›¾ç‰‡</span>
<span class="hljs-attr">test:</span> <span class="hljs-string">images/test</span>   <span class="hljs-comment"># æµ‹è¯•é›†å›¾ç‰‡</span>

<span class="hljs-comment"># Classes</span>
<span class="hljs-attr">names:</span>
  <span class="hljs-attr">0:</span> <span class="hljs-string">head</span>
  <span class="hljs-attr">1:</span> <span class="hljs-string">helmet</span>
</code></pre>
<ol start="3">
<li>æ¨¡å‹è®­ç»ƒ</li>
</ol>
<p>YOLO11 çš„ API éå¸¸ç®€æ´ï¼ŒåŒæ—¶æä¾›äº†ç›¸å…³çš„å‘½ä»¤è¡Œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œå¿«é€Ÿè¿›è¡Œæ¨¡å‹çš„è®­ç»ƒï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£… ultralytics</span>
pip install -U ultralytics

<span class="hljs-comment"># æ¨¡å‹è®­ç»ƒ</span>
<span class="hljs-comment"># è¿›å…¥æ•°æ®é›†æ ¹ç›®å½•ä¸‹ï¼Œè¿è¡Œä¸‹è¿°å‘½ä»¤</span>
yolo detect train data=helmet.yaml model=yolo11n.pt epochs=100 imgsz=640
</code></pre>
<ol start="4">
<li>æ¨¡å‹æ¨ç†ä¸ä½¿ç”¨</li>
</ol>
<p>è®­ç»ƒå¥½åï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€è¡Œä»£ç å¯¹å›¾ç‰‡è¿›è¡Œæ£€æµ‹ï¼Œåœ¨æ•°æ®é›†æ ¹ç›®å½•åˆ›å»º <code>predict.py</code> æ–‡ä»¶å¹¶è¿è¡Œï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> ultralytics <span class="hljs-keyword">import</span> YOLO

model = YOLO(<span class="hljs-string">"runs/detect/train2/weights/best.pt"</span>) <span class="hljs-comment"># </span>
results = model.predict(source=<span class="hljs-string">"test.jpg"</span>, save=<span class="hljs-literal">True</span>, conf=<span class="hljs-number">0.5</span>)
</code></pre>













<table><thead><tr><th>åŸå›¾</th><th>é¢„æµ‹å›¾</th></tr></thead><tbody><tr><td><img width="100%" src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/44213b7983eb49e693baaa5bbb8ea47b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2V0Y2hhclpw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767453948&amp;x-signature=%2FEAKGKusEqoJGSqORi%2BuFOOfFzw%3D" alt="" loading="lazy"/></td><td><img width="100%" src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a71b7cbfcb6045d39a0d4fc24c9928bd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2V0Y2hhclpw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767453948&amp;x-signature=l0G6o6OfQAszyVfmJVwj8XzXuDk%3D" alt="" loading="lazy"/></td></tr></tbody></table>
<h3 data-id="heading-5">é¿å‘æŒ‡å—ï¼šé‚£äº›ä½ æ²¡æƒ³åˆ°çš„â€œé‡è¦ç»†èŠ‚â€</h3>
<p>åœ¨å®é™…å·¥ä¸šéƒ¨ç½²ä¸­ï¼Œå…‰æœ‰ä»£ç æ˜¯ä¸å¤Ÿçš„ï¼Œä½ è¿˜éœ€è¦è€ƒè™‘ä»¥ä¸‹ä¸‰ä¸ªâ€œæ·±å‘â€ï¼š</p>
<p>è´Ÿæ ·æœ¬ï¼ˆBackground Imagesï¼‰çš„é‡è¦æ€§</p>
<p>å¾ˆå¤šå¼€å‘è€…åªæ ‡æ³¨æœ‰å®‰å…¨å¸½çš„å›¾ã€‚ä½†åœ¨å·¥åœ°ä¸Šï¼Œå¯èƒ½ä¼šæœ‰åœ†å½¢çš„æ¡¶ã€ç¯å…·è¢«è¯¯è®¤ä¸ºå®‰å…¨å¸½ã€‚</p>
<p>å»ºè®®ï¼š åœ¨è®­ç»ƒé›†ä¸­åŠ å…¥ 10% å·¦å³ä¸åŒ…å«ä»»ä½•ç›®æ ‡çš„â€œç©ºå›¾ç‰‡â€ï¼Œè¿™èƒ½æå¤§é™ä½è¯¯æŠ¥ç‡ã€‚</p>
<p>å¤šå°ºåº¦æ£€æµ‹ï¼ˆSmall Objectsï¼‰</p>
<p>å¡”åŠä¸Šçš„æ‘„åƒå¤´ç¦»åœ°é¢å¾ˆè¿œï¼Œäººå¤´åœ¨ç”»é¢ä¸­å¯èƒ½åªæœ‰å‡ ä¸ªåƒç´ ã€‚</p>
<p>å»ºè®®ï¼š è®­ç»ƒæ—¶å¼€å¯ augment=Trueï¼Œå¹¶è€ƒè™‘ä½¿ç”¨ SAHIï¼ˆSlicing Aided Hyper Inferenceï¼‰ åˆ‡ç‰‡æ¨ç†æŠ€æœ¯ï¼Œå°†å¤§å›¾åˆ‡å‰²æ£€æµ‹åå†åˆå¹¶ï¼Œé¿å…å°ç›®æ ‡ä¸¢å¤±ã€‚</p>
<p>å…‰ç…§ä¸ç¯å¢ƒçš„é²æ£’æ€§</p>
<p>å·¥åœ°æœ‰å¼ºçƒˆçš„èƒŒå…‰æˆ–å¤œé—´è¡¥å…‰ã€‚</p>
<p>å»ºè®®ï¼š å……åˆ†åˆ©ç”¨ YOLO11 è‡ªå¸¦çš„æ•°æ®å¢å¼ºåŠŸèƒ½ï¼Œå°¤å…¶æ˜¯è°ƒæ•´ hsv_vï¼ˆäº®åº¦ï¼‰å’Œ blurï¼ˆæ¨¡ç³Šï¼‰å‚æ•°ï¼Œæ¨¡æ‹Ÿæ¶åŠ£å¤©æ°”å’Œå…‰ç…§æ¡ä»¶ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScript å‡½æ•°æŸ¯é‡ŒåŒ–ï¼šä»å…¥é—¨åˆ°å®æˆ˜ï¼Œä¸€æ–‡æå®šï¼ˆé¢è¯•å¯ç”¨ï¼‰]]></title>    <link>https://juejin.cn/post/7588104741610389514</link>    <guid>https://juejin.cn/post/7588104741610389514</guid>    <pubDate>2025-12-27T15:32:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588104741610389514" data-draft-id="7588086766248837171" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScript å‡½æ•°æŸ¯é‡ŒåŒ–ï¼šä»å…¥é—¨åˆ°å®æˆ˜ï¼Œä¸€æ–‡æå®šï¼ˆé¢è¯•å¯ç”¨ï¼‰"/> <meta itemprop="keywords" content="JavaScript,é¢è¯•,å‡½æ•°å¼ç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-27T15:32:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å—å±±å®‰"/> <meta itemprop="url" content="https://juejin.cn/user/1795929588117962"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScript å‡½æ•°æŸ¯é‡ŒåŒ–ï¼šä»å…¥é—¨åˆ°å®æˆ˜ï¼Œä¸€æ–‡æå®šï¼ˆé¢è¯•å¯ç”¨ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1795929588117962/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å—å±±å®‰
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T15:32:07.000Z" title="Sat Dec 27 2025 15:32:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>æœ€è¿‘åœ¨å¤ä¹  JavaScript é«˜é˜¶å‡½æ•°çš„æ—¶å€™ï¼ŒåˆæŠŠå‡½æ•°æŸ¯é‡ŒåŒ–ï¼ˆCurryingï¼‰ç¿»å‡ºæ¥å¥½å¥½æ‹äº†ä¸€éã€‚å¾ˆå¤šäººä¸€å¬åˆ°â€œæŸ¯é‡ŒåŒ–â€å°±è§‰å¾—é«˜å¤§ä¸Šï¼Œå…¶å®å®ƒæ²¡é‚£ä¹ˆç¥ç§˜ï¼Œç”¨é€šä¿—çš„è¯è¯´ï¼Œå°±æ˜¯æŠŠä¸€ä¸ªæ¥å—å¤šä¸ªå‚æ•°çš„å‡½æ•°ï¼Œå˜æˆä¸€ä¸ªä¸ªåªæ¥å—ä¸€ä¸ªå‚æ•°çš„å‡½æ•°é“¾æ¡ã€‚</p>
<p>è¿™ç¯‡æ–‡ç« å°±æŠŠæˆ‘è‡ªå·±çš„å­¦ä¹ ç¬”è®°æ•´ç†äº†ä¸€ä¸‹ï¼Œä»æœ€åŸºç¡€çš„å¯¹æ¯”å¼€å§‹ï¼Œæ…¢æ…¢è®²åˆ°åŸç†ã€å®ç°ã€å®é™…ç”¨æ³•ï¼Œå¸Œæœ›èƒ½å¸®ä½ æŠŠè¿™ä¸ªçŸ¥è¯†ç‚¹å½»åº•åƒé€ã€‚</p>
<h2 data-id="heading-1">1. å…ˆçœ‹ä¸€ä¸ªæœ€ç›´è§‚çš„å¯¹æ¯”</h2>
<p>æ™®é€šå†™æ³•ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a, b</span>) {
  <span class="hljs-keyword">return</span> a + b;
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">add</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)); <span class="hljs-comment">// 3</span>
</code></pre>
<p>æŸ¯é‡ŒåŒ–å†™æ³•ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">b</span>) {
    <span class="hljs-keyword">return</span> a + b;
  };
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">add</span>(<span class="hljs-number">1</span>)(<span class="hljs-number">2</span>)); <span class="hljs-comment">// 3</span>
</code></pre>
<p>çœ‹åˆ°åŒºåˆ«äº†å—ï¼Ÿ</p>
<ul>
<li>æ™®é€šç‰ˆï¼šä¸€æ¬¡æŠŠæ‰€æœ‰å‚æ•°ä¼ å®Œã€‚</li>
<li>æŸ¯é‡ŒåŒ–ç‰ˆï¼šå‚æ•°ä¸€ä¸ªä¸€ä¸ªä¼ ï¼Œæ¯æ¬¡è°ƒç”¨è¿”å›ä¸€ä¸ªæ–°å‡½æ•°ï¼Œç›´åˆ°æ‰€æœ‰å‚æ•°æ”¶é›†é½äº†æ‰çœŸæ­£è®¡ç®—ã€‚</li>
</ul>
<p>è¿™ç§â€œä¸€ä¸ªä¸€ä¸ªä¼ â€çš„æ–¹å¼ï¼Œå°±æ˜¯å‡½æ•°æŸ¯é‡ŒåŒ–çš„æ ¸å¿ƒã€‚</p>
<h2 data-id="heading-2">2. æŸ¯é‡ŒåŒ–çš„æœ¬è´¨ï¼šé—­åŒ… + å‚æ•°æ”¶é›†</h2>
<p>ä¸ºä»€ä¹ˆèƒ½ä¸€ä¸ªä¸€ä¸ªä¼ ï¼Ÿé çš„æ˜¯é—­åŒ…ã€‚</p>
<p>åœ¨å¤–å±‚å‡½æ•°é‡Œï¼Œå‚æ•° a è¢«ä¿å­˜äº†ä¸‹æ¥ï¼ˆæˆäº†é—­åŒ…é‡Œçš„è‡ªç”±å˜é‡ï¼‰ï¼Œå†…å±‚å‡½æ•°å¯ä»¥éšæ—¶è®¿é—®å®ƒã€‚å½“æˆ‘ä»¬å†ä¼ è¿›æ¥ b çš„æ—¶å€™ï¼Œå°±å¯ä»¥ç”¨ä¹‹å‰ä¿å­˜çš„ a å»è®¡ç®—ã€‚</p>
<p>æ‰€ä»¥è¯´ï¼ŒæŸ¯é‡ŒåŒ–æœ¬è´¨ä¸Šå°±æ˜¯åˆ©ç”¨é—­åŒ…æŠŠå‚æ•°â€œæ”’â€èµ·æ¥ï¼Œç­‰å‚æ•°å¤Ÿäº†å†æ‰§è¡ŒçœŸæ­£çš„é€»è¾‘ã€‚</p>
<h2 data-id="heading-3">3. æ€ä¹ˆåˆ¤æ–­å‚æ•°â€œå¤Ÿäº†â€ï¼Ÿ</h2>
<p>JavaScript å‡½æ•°æœ‰ä¸€ä¸ªéšè—å±æ€§ lengthï¼Œå®ƒè¡¨ç¤ºå‡½æ•°å®šä¹‰æ—¶å‚æ•°çš„ä¸ªæ•°ï¼ˆä¸åŒ…æ‹¬å‰©ä½™å‚æ•°å’Œé»˜è®¤å‚æ•°ï¼‰ã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a, b</span>) {
  <span class="hljs-keyword">return</span> a + b;
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(add.<span class="hljs-property">length</span>); <span class="hljs-comment">// 2</span>
</code></pre>
<p>æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªå±æ€§æ¥åšä¸€ä¸ªç›¸å¯¹ä¸¥è°¨çš„æŸ¯é‡ŒåŒ–åˆ¤æ–­ï¼šåªæœ‰å½“æ”¶é›†åˆ°çš„å‚æ•°æ•°é‡ â‰¥ åŸå‡½æ•°çš„ length æ—¶ï¼Œæ‰çœŸæ­£æ‰§è¡Œã€‚</p>
<h2 data-id="heading-4">4. æ‰‹å†™ä¸€ä¸ªé€šç”¨æŸ¯é‡ŒåŒ–å‡½æ•°</h2>
<p>ä¸‹é¢è¿™ä¸ªæ˜¯æˆ‘è‡ªå·±æœ€å¸¸ç”¨çš„ä¸€ç‰ˆï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">curry</span>(<span class="hljs-params">fn</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">curried</span>(<span class="hljs-params">...args</span>) {
    <span class="hljs-keyword">if</span> (args.<span class="hljs-property">length</span> &gt;= fn.<span class="hljs-property">length</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">fn</span>(...args); <span class="hljs-comment">// ç›´æ¥å±•å¼€ï¼Œæ›´æ¸…æ™°</span>
    }
    <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">...more</span>) =&gt;</span> <span class="hljs-title function_">curried</span>(...args, ...more); <span class="hljs-comment">// è¿™é‡Œä¹Ÿç”¨å±•å¼€åˆå¹¶</span>
  };
}

<span class="hljs-comment">// æµ‹è¯•</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a, b, c</span>) {
  <span class="hljs-keyword">return</span> a + b + c;
}

<span class="hljs-keyword">const</span> curriedAdd = <span class="hljs-title function_">curry</span>(add);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">curriedAdd</span>(<span class="hljs-number">1</span>)(<span class="hljs-number">2</span>)(<span class="hljs-number">3</span>));     <span class="hljs-comment">// 6</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">curriedAdd</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)(<span class="hljs-number">3</span>));     <span class="hljs-comment">// 6</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">curriedAdd</span>(<span class="hljs-number">1</span>)(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>));     <span class="hljs-comment">// 6</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">curriedAdd</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>));     <span class="hljs-comment">// 6</span>
</code></pre>
<p>è¿™ä¸ªç‰ˆæœ¬çš„å¥½å¤„ï¼š</p>
<ul>
<li>æ”¯æŒä»»æ„æ•°é‡çš„å‚æ•°é€æ­¥ä¼ é€’</li>
<li>ä¹Ÿæ”¯æŒä¸€æ¬¡ä¼ å¤šä¸ªï¼ˆåªè¦æ€»æ•°å¤Ÿäº†å°±æ‰§è¡Œï¼‰</li>
<li>å®ç°åªæœ‰åæ¥è¡Œï¼Œå®¹æ˜“ç†è§£å’Œè®°å¿†</li>
</ul>
<p>æ³¨æ„ï¼šè¿™é‡Œç”¨äº†é€’å½’ + é—­åŒ…ï¼Œå¤–å±‚æ¯æ¬¡è°ƒç”¨éƒ½ä¼šäº§ç”Ÿæ–°çš„ curried å‡½æ•°ï¼Œargs ä¼šè¢«ä¸æ–­ç´¯åŠ ï¼Œç›´åˆ°æ»¡è¶³æ¡ä»¶ã€‚</p>
<h2 data-id="heading-5">5. æŸ¯é‡ŒåŒ–çš„ç»å…¸å®æˆ˜åœºæ™¯</h2>
<p>è¯´äº†é‚£ä¹ˆå¤šï¼Œè¿™ä¹ˆéº»çƒ¦çš„ç¼–å†™æŸ¯é‡ŒåŒ–å‡½æ•°ï¼Œå®ƒåˆ°åº•èƒ½åšä»€ä¹ˆå‘¢ï¼Ÿ</p>
<h3 data-id="heading-6">åœºæ™¯ä¸€ï¼šå›ºå®šéƒ¨åˆ†å‚æ•°ï¼Œåˆ¶é€ ä¸“ç”¨çš„å·¥å…·å‡½æ•°</h3>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// é€šç”¨æ—¥å¿—å‡½æ•°</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">log</span> = (<span class="hljs-params">type</span>) =&gt; <span class="hljs-function">(<span class="hljs-params">message</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`[<span class="hljs-subst">${type.toUpperCase()}</span>]: <span class="hljs-subst">${message}</span>`</span>);
};

<span class="hljs-comment">// é€šè¿‡æŸ¯é‡ŒåŒ–â€œå›ºå®šâ€æ—¥å¿—ç±»å‹ï¼Œå¾—åˆ°ä¸“ç”¨å‡½æ•°</span>
<span class="hljs-keyword">const</span> errorLog = <span class="hljs-title function_">log</span>(<span class="hljs-string">'error'</span>); <span class="hljs-comment">// ç¬¬ä¸€ä¸ªå‚æ•°</span>
<span class="hljs-keyword">const</span> infoLog = <span class="hljs-title function_">log</span>(<span class="hljs-string">'info'</span>);
<span class="hljs-keyword">const</span> warnLog = <span class="hljs-title function_">log</span>(<span class="hljs-string">'warn'</span>);
<span class="hljs-comment">// ç¬¬äºŒä¸ªå‚æ•°</span>
<span class="hljs-title function_">errorLog</span>(<span class="hljs-string">'æ¥å£ 404 äº†ï¼'</span>);         <span class="hljs-comment">// [ERROR]: æ¥å£ 404 äº†ï¼</span>
<span class="hljs-title function_">infoLog</span>(<span class="hljs-string">'é¡µé¢åŠ è½½å®Œæˆ'</span>);           <span class="hljs-comment">// [INFO]: é¡µé¢åŠ è½½å®Œæˆ</span>
<span class="hljs-title function_">warnLog</span>(<span class="hljs-string">'å³å°†å¼ƒç”¨æ—§ API'</span>);        <span class="hljs-comment">// [WARN]: å³å°†å¼ƒç”¨æ—§ API</span>
</code></pre>
<p>è¿™ç§å†™æ³•åœ¨å®é™…é¡¹ç›®é‡Œç‰¹åˆ«å¸¸è§ï¼Œå°¤å…¶æ˜¯åšæ—¥å¿—ã€åŸ‹ç‚¹ã€äº‹ä»¶ç»‘å®šçš„æ—¶å€™ï¼Œèƒ½è®©ä»£ç è¯­ä¹‰æ›´æ¸…æ™°ã€‚</p>
<h3 data-id="heading-7">åœºæ™¯äºŒï¼šå»¶è¿Ÿæ‰§è¡Œ / å‚æ•°å¤ç”¨</h3>
<p>æ¯”å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªé€šç”¨çš„ Ajax è¯·æ±‚å‡½æ•°ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">ajax</span>(<span class="hljs-params">method, url, data</span>) {
  <span class="hljs-comment">// ...çœŸæ­£çš„è¯·æ±‚é€»è¾‘</span>
}

<span class="hljs-comment">// æŸ¯é‡ŒåŒ–å</span>
<span class="hljs-keyword">const</span> get = <span class="hljs-title function_">curry</span>(ajax)(<span class="hljs-string">'GET'</span>);
<span class="hljs-keyword">const</span> post = <span class="hljs-title function_">curry</span>(ajax)(<span class="hljs-string">'POST'</span>);

<span class="hljs-keyword">const</span> fetchUserList = <span class="hljs-title function_">get</span>(<span class="hljs-string">'/api/users'</span>);
<span class="hljs-keyword">const</span> fetchUserDetail = <span class="hljs-title function_">get</span>(<span class="hljs-string">'/api/users/'</span>);

<span class="hljs-keyword">const</span> submitForm = <span class="hljs-title function_">post</span>(<span class="hljs-string">'/api/submit'</span>);
</code></pre>
<p>è¿™æ ·æ¯æ¬¡è°ƒç”¨æ—¶å°±ä¸ç”¨åå¤å†™ methodï¼Œä»£ç æ›´ç®€æ´ï¼Œä¹Ÿæ›´ä¸å®¹æ˜“å†™é”™ã€‚</p>
<h3 data-id="heading-8">åœºæ™¯ä¸‰ï¼šé…åˆå‡½æ•°å¼ç¼–ç¨‹åº“ï¼ˆå¦‚ lodashã€ramdaï¼‰</h3>
<p>lodash çš„ _.curry åŠŸèƒ½æ›´å¼ºå¤§ï¼Œæ”¯æŒå ä½ç¬¦ __ æ¥è·³è¿‡æŸäº›å‚æ•°ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">const</span> _ = <span class="hljs-built_in">require</span>(<span class="hljs-string">'lodash'</span>);

<span class="hljs-keyword">const</span> <span class="hljs-title function_">join</span> = (<span class="hljs-params">sep, ...arr</span>) =&gt; arr.<span class="hljs-title function_">join</span>(sep);
<span class="hljs-keyword">const</span> curryJoin = _.<span class="hljs-title function_">curry</span>(join);

<span class="hljs-keyword">const</span> dotJoin = <span class="hljs-title function_">curryJoin</span>(<span class="hljs-string">'.'</span>);
<span class="hljs-title function_">dotJoin</span>(<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>); <span class="hljs-comment">// "a.b.c"</span>
</code></pre>
<p>ä¸è¿‡æ—¥å¸¸é¡¹ç›®é‡Œï¼Œè‡ªå·±æ‰‹å†™ä¸€ä¸ªç®€å•ç‰ˆå¾€å¾€å°±å¤Ÿç”¨äº†ã€‚</p>
<h2 data-id="heading-9">6. æŸ¯é‡ŒåŒ–çš„ä¼˜ç¼ºç‚¹æ€»ç»“</h2>
<p>ä¼˜ç‚¹ï¼š</p>
<ol>
<li>å‚æ•°å¤ç”¨ï¼šå›ºå®šå‰å‡ ä¸ªå‚æ•°ï¼Œå¿«é€Ÿç”Ÿæˆæ–°å‡½æ•°</li>
<li>å»¶è¿Ÿæ‰§è¡Œï¼šå‚æ•°æ²¡æ”¶é›†é½ä¹‹å‰ä¸ä¼šçœŸæ­£è¿è¡Œ</li>
<li>è®©ä»£ç æ›´å‡½æ•°å¼ã€æ›´å£°æ˜å¼ï¼Œé˜…è¯»æ€§æ›´å¥½ï¼ˆå°¤å…¶é…åˆç®¡é“æ“ä½œï¼‰</li>
</ol>
<p>ç¼ºç‚¹ï¼š</p>
<ol>
<li>äº§ç”Ÿå¤§é‡é—­åŒ…å’Œä¸­é—´å‡½æ•°ï¼Œæ€§èƒ½ç•¥æœ‰æŸè€—ï¼ˆç°ä»£å¼•æ“ä¼˜åŒ–åå½±å“å¾ˆå°ï¼‰</li>
<li>è°ƒè¯•æ—¶è°ƒç”¨æ ˆä¼šå˜æ·±ä¸€ç‚¹</li>
<li>å¦‚æœæ»¥ç”¨ï¼Œä¼šè®©ä»£ç çœ‹èµ·æ¥â€œå¤ªå·§å¦™â€ï¼Œåè€Œé™ä½å¯è¯»æ€§</li>
</ol>
<p>æ‰€ä»¥æˆ‘çš„å»ºè®®æ˜¯ï¼šåˆé€‚çš„åœ°æ–¹ç”¨ï¼Œåˆ«ä¸ºäº†æŸ¯é‡ŒåŒ–è€ŒæŸ¯é‡ŒåŒ–ã€‚</p>
<h2 data-id="heading-10">æœ€å</h2>
<p>å‡½æ•°æŸ¯é‡ŒåŒ–å…¶å®å°±æ˜¯ä¸€ä¸ªå¾ˆå°çš„æŠ€å·§ï¼Œä½†ç”¨å¥½äº†èƒ½è®©ä½ çš„ä»£ç æ›´ä¼˜é›…ã€æ›´çµæ´»ã€‚å°¤å…¶æ˜¯å½“ä½ å¼€å§‹æ¥è§¦å‡½æ•°å¼ç¼–ç¨‹ã€React é«˜é˜¶ç»„ä»¶ã€Redux ä¸­é—´ä»¶è¿™äº›åœºæ™¯æ—¶ï¼Œä¼šå‘ç°æŸ¯é‡ŒåŒ–çš„å½±å­åˆ°å¤„éƒ½æ˜¯ã€‚</p>
<p>å¸Œæœ›è¿™ç¯‡ä»é›¶å¼€å§‹çš„æ•´ç†ï¼Œèƒ½å¸®ä½ æŠŠæŸ¯é‡ŒåŒ–å½»åº•ææ˜ç™½ã€‚æ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ ç”¨æŸ¯é‡ŒåŒ–å†™è¿‡çš„æœ‰è¶£ä»£ç ï¼Œæˆ–è€…ä½ è¸©è¿‡çš„å‘ï½</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Spring Boot ä¸ Disruptor é«˜æ€§èƒ½å¹¶å‘å®æˆ˜]]></title>    <link>https://juejin.cn/post/7588092534161915904</link>    <guid>https://juejin.cn/post/7588092534161915904</guid>    <pubDate>2025-12-27T14:10:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588092534161915904" data-draft-id="7588095884069928960" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Spring Boot ä¸ Disruptor é«˜æ€§èƒ½å¹¶å‘å®æˆ˜"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-27T14:10:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ITæ©˜å­çš®"/> <meta itemprop="url" content="https://juejin.cn/user/3148645291002232"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Spring Boot ä¸ Disruptor é«˜æ€§èƒ½å¹¶å‘å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3148645291002232/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ITæ©˜å­çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T14:10:24.000Z" title="Sat Dec 27 2025 14:10:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. Disruptor æ¡†æ¶ç®€ä»‹</h2>
<p>Disruptor æ˜¯ LMAX å…¬å¸å¼€å‘çš„é«˜æ€§èƒ½æ— é”å¹¶å‘æ¡†æ¶ï¼Œä¸“é—¨ä¸ºè§£å†³é«˜å¹¶å‘åœºæ™¯ä¸‹çš„æ•°æ®äº¤æ¢é—®é¢˜è€Œè®¾è®¡ã€‚å®ƒåŸºäº<strong>ç¯å½¢ç¼“å†²åŒº</strong>å’Œ<strong>æ— é”ç®—æ³•</strong>å®ç°ï¼Œèƒ½å¤Ÿåœ¨å•ä¸ªçº¿ç¨‹ä¸Šæ¯ç§’å¤„ç†æ•°ç™¾ä¸‡ç¬”è®¢å•ï¼Œåœ¨é‡‘èäº¤æ˜“ã€å®æ—¶æ•°æ®å¤„ç†ç­‰é¢†åŸŸæœ‰ç€å“è¶Šè¡¨ç°ã€‚</p>
<h3 data-id="heading-1">1.1 ä¸ºä»€ä¹ˆéœ€è¦ Disruptor</h3>
<p>ä¼ ç»Ÿé˜»å¡é˜Ÿåˆ—ï¼ˆå¦‚ ArrayBlockingQueueï¼‰åœ¨é«˜å¹¶å‘ç¯å¢ƒä¸‹å­˜åœ¨æ€§èƒ½ç“¶é¢ˆï¼šçº¿ç¨‹ä¼šå› ç«äº‰é”è€Œé¢‘ç¹æŒ‚èµ·å’Œæ¢å¤ï¼Œäº§ç”Ÿå¤§é‡ä¸Šä¸‹æ–‡åˆ‡æ¢å¼€é”€ã€‚å®éªŒè¡¨æ˜ï¼Œå¯¹æœ‰é”æ•°æ®ç»“æ„è¿›è¡Œ5äº¿æ¬¡æ“ä½œï¼Œ<strong>åŠ é”å¤šçº¿ç¨‹å¹¶å‘</strong>æƒ…å†µä¸‹é€Ÿåº¦æ¯”<strong>å•çº¿ç¨‹æ— é”</strong>æ…¢3ä¸ªæ•°é‡çº§ï¼Œè€Œ CAS æ“ä½œæ€§èƒ½çº¦ä¸ºé”æ“ä½œçš„8å€ã€‚</p>
<p>Disruptor é€šè¿‡æ— é”è®¾è®¡è§£å†³äº†è¿™ä¸€æ ¸å¿ƒé—®é¢˜ï¼Œç‰¹åˆ«é€‚ç”¨äºéœ€è¦é«˜ååé‡å’Œä½å»¶è¿Ÿçš„åº”ç”¨åœºæ™¯ã€‚</p>
<h2 data-id="heading-2">2. Disruptor æ ¸å¿ƒæ¶æ„ä¸æ€§èƒ½åŸç†</h2>
<h3 data-id="heading-3">2.1 ç¯å½¢ç¼“å†²åŒºï¼ˆRing Bufferï¼‰</h3>
<p>Ring Buffer æ˜¯ Disruptor çš„æ ¸å¿ƒæ•°æ®ç»“æ„ï¼Œå®ƒæ˜¯ä¸€ä¸ªå›ºå®šå¤§å°çš„ç¯å½¢æ•°ç»„ã€‚è¿™ç§è®¾è®¡å…·æœ‰æ˜¾è‘—ä¼˜åŠ¿ï¼š</p>
<ul>
<li><strong>å†…å­˜è¿ç»­</strong>ï¼šæ•°ç»„å…ƒç´ åœ¨å†…å­˜ä¸­è¿ç»­åˆ†å¸ƒï¼Œæœ‰åˆ©äº CPU ç¼“å­˜é¢„åŠ è½½</li>
<li><strong>å¤ç”¨å†…å­˜</strong>ï¼šé¢„å…ˆåˆ†é…æ‰€æœ‰äº‹ä»¶å¯¹è±¡ï¼Œé¿å…è¿è¡Œæ—¶é¢‘ç¹åˆ›å»ºå¯¹è±¡å’Œåƒåœ¾å›æ”¶</li>
<li><strong>å¿«é€Ÿå®šä½</strong>ï¼šé€šè¿‡ä½è¿ç®—æ›¿ä»£å–æ¨¡æ“ä½œï¼Œ<code>sequence &amp; (array length - 1) = array index</code></li>
</ul>
<h3 data-id="heading-4">2.2 æ— é”è®¾è®¡å®ç°</h3>
<p>Disruptor é‡‡ç”¨ CASï¼ˆCompare-And-Swapï¼‰æ“ä½œå®ç°çº¿ç¨‹å®‰å…¨ï¼Œå®Œå…¨é¿å…ä¼ ç»Ÿé”æœºåˆ¶ã€‚å•ç”Ÿäº§è€…æ¨¡å¼ä¸‹ç”šè‡³ä¸éœ€è¦ä»»ä½•åŒæ­¥æœºåˆ¶ï¼Œå¤šç”Ÿäº§è€…æ¨¡å¼ä¸‹ä¹Ÿä»…å¯¹åºåˆ—å·è¿›è¡Œ CAS æ“ä½œã€‚</p>
<h3 data-id="heading-5">2.3 è§£å†³ä¼ªå…±äº«ï¼ˆFalse Sharingï¼‰</h3>
<p>ä¼ªå…±äº«æ˜¯ç°ä»£å¤šæ ¸å¤„ç†å™¨ä¸­å½±å“æ€§èƒ½çš„é‡è¦å› ç´ ã€‚å½“ä¸åŒçº¿ç¨‹ä¿®æ”¹åŒä¸€ç¼“å­˜è¡Œä¸­çš„ä¸åŒå˜é‡æ—¶ï¼Œä¼šå¯¼è‡´ç¼“å­˜è¡Œæ— æ•ˆåŒ–ã€‚Disruptor é€šè¿‡<strong>ç¼“å­˜è¡Œå¡«å……</strong>æŠ€æœ¯è§£å†³è¿™ä¸€é—®é¢˜ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// Disruptor é€šè¿‡å¡«å……é¿å…ä¼ªå…±äº«çš„ç¤ºä¾‹</span>
<span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title">RingBufferPad</span> {
    <span class="hljs-keyword">protected</span> <span class="hljs-built_in">long</span> p1, p2, p3, p4, p5, p6, p7; <span class="hljs-comment">// ç¼“å­˜è¡Œå¡«å……</span>
}
</code></pre>
<h3 data-id="heading-6">2.4 åºåˆ—å·æœºåˆ¶</h3>
<p>Disruptor ä½¿ç”¨åºåˆ—å·ï¼ˆSequenceï¼‰æ¥åè°ƒç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„å·¥ä½œè¿›åº¦ï¼š</p>
<ul>
<li>æ¯ä¸ªç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„åºåˆ—å·</li>
<li>é€šè¿‡åºåˆ—å·è·Ÿè¸ªå¤„ç†è¿›åº¦ï¼Œé¿å…ç«äº‰</li>
<li>åºåˆ—å·æœ¬èº«ä¹Ÿè¿›è¡Œç¼“å­˜è¡Œå¡«å……ï¼Œé˜²æ­¢ä¼ªå…±äº«</li>
</ul>
<h2 data-id="heading-7">3. Spring Boot é›†æˆ Disruptor å®æˆ˜</h2>
<p>ä¸‹é¢é€šè¿‡ä¸€ä¸ªå®Œæ•´çš„è®¢å•å¤„ç†æ¡ˆä¾‹å±•ç¤ºå¦‚ä½•åœ¨ Spring Boot é¡¹ç›®ä¸­é›†æˆå’Œä½¿ç”¨ Disruptorã€‚</p>
<h3 data-id="heading-8">3.1 ç¯å¢ƒé…ç½®</h3>
<p>é¦–å…ˆï¼Œåœ¨ Maven é¡¹ç›®ä¸­æ·»åŠ  Disruptor ä¾èµ–ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- Spring Boot ç›¸å…³ä¾èµ– --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- Disruptor ä¾èµ– --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.lmax<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>disruptor<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">optional</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">optional</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
</code></pre>
<h3 data-id="heading-9">3.2 å®šä¹‰äº‹ä»¶ï¼ˆEventï¼‰</h3>
<p>äº‹ä»¶æ˜¯åœ¨ Disruptor ä¸­ä¼ é€’çš„æ•°æ®è½½ä½“ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">@Data
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderEvent</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> orderId;
    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> userId;
    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> price;
    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> status;
}
</code></pre>
<h3 data-id="heading-10">3.3 å®ç°äº‹ä»¶å·¥å‚</h3>
<p>äº‹ä»¶å·¥å‚è´Ÿè´£é¢„åˆ›å»ºäº‹ä»¶å¯¹è±¡ï¼Œä¾› Ring Buffer ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderEventFactory</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">EventFactory</span>&lt;<span class="hljs-title class_">OrderEvent</span>&gt; {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">OrderEvent</span> <span class="hljs-title function_">newInstance</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderEvent</span>();
    }
}
</code></pre>
<h3 data-id="heading-11">3.4 å®ç°äº‹ä»¶å¤„ç†å™¨</h3>
<p>äº‹ä»¶å¤„ç†å™¨åŒ…å«å…·ä½“çš„ä¸šåŠ¡é€»è¾‘ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">OrderEventHandler</span> <span class="hljs-title">implements</span> <span class="hljs-title">EventHandler</span>&lt;<span class="hljs-title">OrderEvent</span>&gt; {
    @Override
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onEvent</span>(<span class="hljs-params">OrderEvent <span class="hljs-keyword">event</span>, <span class="hljs-built_in">long</span> sequence, boolean endOfBatch</span>)</span> {
        <span class="hljs-comment">// å¤„ç†è®¢å•çš„å…·ä½“ä¸šåŠ¡é€»è¾‘</span>
        processOrder(<span class="hljs-keyword">event</span>);
    }
    
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">processOrder</span>(<span class="hljs-params">OrderEvent orderEvent</span>)</span> {
        <span class="hljs-comment">// æ¨¡æ‹Ÿè®¢å•æ”¯ä»˜é€»è¾‘</span>
        System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"å¤„ç†è®¢å•: "</span> + orderEvent.getOrderId() + 
                          <span class="hljs-string">", ç”¨æˆ·: "</span> + orderEvent.getUserId() + 
                          <span class="hljs-string">", é‡‘é¢: "</span> + orderEvent.getPrice());
        
        <span class="hljs-comment">// å‡è®¾è®¢å•å¤„ç†é€šè¿‡åæ›´æ–°è®¢å•çŠ¶æ€</span>
        orderEvent.setStatus(<span class="hljs-string">"å·²æ”¯ä»˜"</span>);
        
        <span class="hljs-comment">// æ¨¡æ‹Ÿåº“å­˜æ‰£å‡é€»è¾‘</span>
        reduceInventory(orderEvent);
        System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"è®¢å•å¤„ç†å®Œæˆ: "</span> + orderEvent.getOrderId() + <span class="hljs-string">" çŠ¶æ€: "</span> + orderEvent.getStatus());
    }
    
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">reduceInventory</span>(<span class="hljs-params">OrderEvent orderEvent</span>)</span> {
        <span class="hljs-comment">// æ¨¡æ‹Ÿåº“å­˜æ‰£å‡é€»è¾‘</span>
        System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"æ‰£å‡åº“å­˜: è®¢å• "</span> + orderEvent.getOrderId());
    }
}
</code></pre>
<h3 data-id="heading-12">3.5 å®ç°ç”Ÿäº§è€…</h3>
<p>ç”Ÿäº§è€…è´Ÿè´£å‘ Ring Buffer å‘å¸ƒäº‹ä»¶ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderEventProducer</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> RingBuffer&lt;OrderEvent&gt; ringBuffer;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">OrderEventProducer</span><span class="hljs-params">(RingBuffer&lt;OrderEvent&gt; ringBuffer)</span> {
        <span class="hljs-built_in">this</span>.ringBuffer = ringBuffer;
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onData</span><span class="hljs-params">(String userId, <span class="hljs-type">double</span> price)</span> {
        <span class="hljs-type">long</span> <span class="hljs-variable">sequence</span> <span class="hljs-operator">=</span> ringBuffer.next();  <span class="hljs-comment">// è·å–ä¸‹ä¸€ä¸ªåºåˆ—å·</span>
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">OrderEvent</span> <span class="hljs-variable">orderEvent</span> <span class="hljs-operator">=</span> ringBuffer.get(sequence); <span class="hljs-comment">// è·å–äº‹ä»¶å¯¹è±¡</span>
            orderEvent.setOrderId(UUID.randomUUID().toString());
            orderEvent.setUserId(userId);
            orderEvent.setPrice(price);
            orderEvent.setStatus(<span class="hljs-string">"æœªæ”¯ä»˜"</span>);
        } <span class="hljs-keyword">finally</span> {
            ringBuffer.publish(sequence);  <span class="hljs-comment">// å‘å¸ƒäº‹ä»¶</span>
        }
    }
}
</code></pre>
<h3 data-id="heading-13">3.6 é…ç½® Disruptor</h3>
<p>åœ¨ Spring Boot ä¸­é…ç½® Disruptor Beanï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DisruptorConfig</span> {
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> Disruptor&lt;OrderEvent&gt; <span class="hljs-title function_">disruptor</span><span class="hljs-params">()</span> {
        <span class="hljs-type">OrderEventFactory</span> <span class="hljs-variable">factory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderEventFactory</span>();
        <span class="hljs-type">int</span> <span class="hljs-variable">bufferSize</span> <span class="hljs-operator">=</span> <span class="hljs-number">1024</span>; <span class="hljs-comment">// RingBuffer å¤§å°ï¼Œå¿…é¡»æ˜¯2çš„å¹‚</span>
        
        <span class="hljs-comment">// åˆ›å»º Disruptor</span>
        Disruptor&lt;OrderEvent&gt; disruptor = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Disruptor</span>&lt;&gt;(
            factory, 
            bufferSize, 
            Executors.defaultThreadFactory(),
            ProducerType.MULTI,  <span class="hljs-comment">// å¤šç”Ÿäº§è€…æ¨¡å¼</span>
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">YieldingWaitStrategy</span>()  <span class="hljs-comment">// ç­‰å¾…ç­–ç•¥</span>
        );
        
        <span class="hljs-comment">// ç»‘å®šäº‹ä»¶å¤„ç†å™¨</span>
        disruptor.handleEventsWith(<span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderEventHandler</span>());
        disruptor.start();
        
        <span class="hljs-keyword">return</span> disruptor;
    }
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> OrderEventProducer <span class="hljs-title function_">orderEventProducer</span><span class="hljs-params">(Disruptor&lt;OrderEvent&gt; disruptor)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderEventProducer</span>(disruptor.getRingBuffer());
    }
}
</code></pre>
<h3 data-id="heading-14">3.7 åˆ›å»º REST æ§åˆ¶å™¨</h3>
<p>é€šè¿‡ REST API æ¥æ”¶è®¢å•è¯·æ±‚ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/orders"</span>)
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderController</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">OrderEventProducer</span> orderEventProducer;
    
    <span class="hljs-meta">@PostMapping</span>(<span class="hljs-string">"/create"</span>)
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">ResponseEntity</span>&lt;<span class="hljs-title class_">String</span>&gt; <span class="hljs-title function_">createOrder</span>(<span class="hljs-params"><span class="hljs-meta">@RequestBody</span> OrderRequest orderRequest</span>) {
        orderEventProducer.<span class="hljs-title function_">onData</span>(orderRequest.<span class="hljs-title function_">getUserId</span>(), orderRequest.<span class="hljs-title function_">getPrice</span>());
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">ResponseEntity</span>.<span class="hljs-title function_">ok</span>(<span class="hljs-string">"è®¢å•åˆ›å»ºæˆåŠŸï¼Œæ­£åœ¨å¤„ç†ï¼"</span>);
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderRequest</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> userId;
    <span class="hljs-keyword">private</span> double price;
    
    <span class="hljs-comment">// Getters and Setters</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">getUserId</span>(<span class="hljs-params"/>) { <span class="hljs-keyword">return</span> userId; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setUserId</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> userId</span>) { <span class="hljs-variable language_">this</span>.<span class="hljs-property">userId</span> = userId; }
    <span class="hljs-keyword">public</span> double <span class="hljs-title function_">getPrice</span>(<span class="hljs-params"/>) { <span class="hljs-keyword">return</span> price; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setPrice</span>(<span class="hljs-params">double price</span>) { <span class="hljs-variable language_">this</span>.<span class="hljs-property">price</span> = price; }
}
</code></pre>
<h2 data-id="heading-15">4. é«˜çº§ç‰¹æ€§ä¸ä¼˜åŒ–é…ç½®</h2>
<h3 data-id="heading-16">4.1 ç­‰å¾…ç­–ç•¥é€‰æ‹©</h3>
<p>Disruptor æä¾›å¤šç§ç­‰å¾…ç­–ç•¥ï¼Œé€‚ç”¨äºä¸åŒåœºæ™¯ï¼š</p>
<ul>
<li><strong>BlockingWaitStrategy</strong>ï¼šé»˜è®¤ç­–ç•¥ï¼Œä½¿ç”¨é”å’Œæ¡ä»¶å˜é‡ï¼ŒCPU æ¶ˆè€—æœ€å°</li>
<li><strong>SleepingWaitStrategy</strong>ï¼šå¹³è¡¡å»¶è¿Ÿå’Œ CPU æ¶ˆè€—ï¼Œé€‚ç”¨äºå¼‚æ­¥æ—¥å¿—è®°å½•ç­‰åœºæ™¯</li>
<li><strong>YieldingWaitStrategy</strong>ï¼šä½å»¶è¿Ÿç­–ç•¥ï¼Œé€šè¿‡è‡ªæ—‹å’Œ Thread.yield() å®ç°</li>
<li><strong>BusySpinWaitStrategy</strong>ï¼šæ€§èƒ½æœ€ä½³ï¼Œä½† CPU å ç”¨æœ€é«˜ï¼Œé€‚ç”¨äºä½å»¶è¿Ÿç³»ç»Ÿ</li>
</ul>
<h3 data-id="heading-17">4.2 å¤šæ¶ˆè´¹è€…æ¨¡å¼</h3>
<p>Disruptor æ”¯æŒå¤æ‚çš„æ¶ˆè´¹è€…ä¾èµ–å…³ç³»ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// å¹¶è¡Œå¤„ç†ï¼šä¸‰ä¸ªæ¶ˆè´¹è€…åŒæ—¶å¤„ç†æ¯ä¸ªäº‹ä»¶</span>
disruptor<span class="hljs-selector-class">.handleEventsWith</span>(handler1, handler2, handler3);

<span class="hljs-comment">// é¡ºåºå¤„ç†ï¼šhandler1 å®Œæˆåæ‰æ‰§è¡Œ handler2</span>
disruptor<span class="hljs-selector-class">.handleEventsWith</span>(handler1)<span class="hljs-selector-class">.then</span>(handler2);

<span class="hljs-comment">// è±å½¢å¤„ç†æ¨¡å¼</span>
disruptor<span class="hljs-selector-class">.handleEventsWith</span>(handler1, handler2)<span class="hljs-selector-class">.then</span>(handler3);
</code></pre>
<h3 data-id="heading-18">4.3 æ‰¹é‡äº‹ä»¶å¤„ç†</h3>
<p>Disruptor å¤©ç„¶æ”¯æŒæ‰¹é‡å¤„ç†ï¼Œæ¶ˆè´¹è€…å¯ä»¥ä¸€æ¬¡å¤„ç†å¤šä¸ªå¯ç”¨äº‹ä»¶ï¼Œå‡å°‘è°ƒç”¨æ¬¡æ•°ï¼Œæé«˜ååé‡ã€‚</p>
<h2 data-id="heading-19">5. æ€§èƒ½ä¼˜åŒ–å»ºè®®</h2>
<h3 data-id="heading-20">5.1 åˆç†è®¾ç½® Ring Buffer å¤§å°</h3>
<p>Ring Buffer å¤§å°åº”ä¸º 2 çš„å¹‚ï¼Œä»¥ä¾¿ä½¿ç”¨ä½è¿ç®—æ›¿ä»£æ˜‚è´µçš„å–æ¨¡æ“ä½œã€‚å¤§å°è®¾ç½®éœ€æƒè¡¡ï¼š</p>
<ul>
<li>è¿‡å¤§ï¼šå ç”¨å†…å­˜å¤šï¼Œå¢åŠ åƒåœ¾å›æ”¶å‹åŠ›</li>
<li>è¿‡å°ï¼šå®¹æ˜“å¯¼è‡´ç”Ÿäº§è€…é˜»å¡ï¼Œå½±å“ååé‡</li>
</ul>
<h3 data-id="heading-21">5.2 é¿å…äº‹ä»¶å¯¹è±¡ä¸­åˆ›å»ºä¸´æ—¶å¯¹è±¡</h3>
<p>åœ¨äº‹ä»¶å¤„ç†ä¸­åº”é¿å…åˆ›å»ºä¸´æ—¶å¯¹è±¡ï¼Œä»¥å‡å°‘åƒåœ¾å›æ”¶å‹åŠ›ã€‚å¯ä»¥å¤ç”¨äº‹ä»¶å¯¹è±¡æˆ–ä½¿ç”¨å¯¹è±¡æ± ã€‚</p>
<h3 data-id="heading-22">5.3 ç›‘æ§ä¸è°ƒä¼˜</h3>
<p>ç›‘æ§ Disruptor æ€§èƒ½æŒ‡æ ‡ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…çš„åºåˆ—å·å·®è·</li>
<li>äº‹ä»¶å¤„ç†å»¶è¿Ÿåˆ†å¸ƒ</li>
<li>ç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µï¼ˆCPUã€å†…å­˜ï¼‰</li>
</ul>
<p>æ ¹æ®ç›‘æ§ç»“æœè°ƒæ•´ç­‰å¾…ç­–ç•¥ã€æ¶ˆè´¹è€…æ•°é‡ç­‰å‚æ•°ã€‚</p>
<h2 data-id="heading-23">6. é€‚ç”¨åœºæ™¯ä¸é™åˆ¶</h2>
<h3 data-id="heading-24">6.1 ç†æƒ³åº”ç”¨åœºæ™¯</h3>
<ul>
<li><strong>é‡‘èäº¤æ˜“ç³»ç»Ÿ</strong>ï¼šé«˜ååé‡ã€ä½å»¶è¿Ÿçš„è®¢å•å¤„ç†</li>
<li><strong>å®æ—¶æ•°æ®å¤„ç†</strong>ï¼šæ—¥å¿—å¤„ç†ã€å®æ—¶è®¡ç®—ç­‰</li>
<li><strong>æ¸¸æˆæœåŠ¡å™¨</strong>ï¼šå¤„ç†å¤§é‡ç©å®¶å¹¶å‘æ“ä½œ</li>
<li><strong>æ¶ˆæ¯å¼•æ“</strong>ï¼šé«˜ååé‡çš„æ¶ˆæ¯ä¼ é€’</li>
</ul>
<h3 data-id="heading-25">6.2 ä¸é€‚ç”¨åœºæ™¯</h3>
<ul>
<li><strong>æ•°æ®æŒä¹…åŒ–</strong>ï¼šDisruptor æ˜¯å†…å­˜é˜Ÿåˆ—ï¼Œå®•æœºå¯èƒ½å¯¼è‡´æ•°æ®ä¸¢å¤±</li>
<li><strong>åˆ†å¸ƒå¼ç³»ç»Ÿ</strong>ï¼šDisruptor é€‚ç”¨äºå•æœºé«˜å¹¶å‘ï¼Œåˆ†å¸ƒå¼åœºæ™¯éœ€ç»“åˆæ¶ˆæ¯ä¸­é—´ä»¶</li>
<li><strong>ç®€å•ä¸šåŠ¡</strong>ï¼šä½å¹¶å‘åœºæ™¯ä¸‹ä¼˜åŠ¿ä¸æ˜æ˜¾ï¼Œåè€Œå¢åŠ ç³»ç»Ÿå¤æ‚åº¦</li>
</ul>
<h2 data-id="heading-26">7. æ€»ç»“</h2>
<p>Disruptor é€šè¿‡å…¶ç‹¬ç‰¹çš„ç¯å½¢ç¼“å†²åŒºè®¾è®¡å’Œæ— é”ç®—æ³•ï¼Œä¸ºé«˜å¹¶å‘åº”ç”¨æä¾›äº†å“è¶Šçš„æ€§èƒ½ã€‚åœ¨ Spring Boot é¡¹ç›®ä¸­é›†æˆ Disruptor å¯ä»¥æ˜¾è‘—æå‡ç³»ç»Ÿååé‡ï¼Œç‰¹åˆ«æ˜¯åœ¨è®¢å•å¤„ç†ã€å®æ—¶è®¡ç®—ç­‰åœºæ™¯ä¸‹ã€‚</p>
<p>æˆåŠŸä½¿ç”¨ Disruptor çš„å…³é”®åœ¨äºï¼š</p>
<ol>
<li>ç†è§£å…¶æ ¸å¿ƒåŸç†ï¼Œç‰¹åˆ«æ˜¯å†…å­˜å¸ƒå±€å’Œåºåˆ—å·æœºåˆ¶</li>
<li>æ ¹æ®ä¸šåŠ¡ç‰¹ç‚¹é€‰æ‹©åˆé€‚çš„ç­‰å¾…ç­–ç•¥å’Œæ¶ˆè´¹è€…æ¨¡å¼</li>
<li>è¿›è¡Œå……åˆ†çš„æ€§èƒ½æµ‹è¯•å’Œç›‘æ§ï¼ŒæŒç»­è°ƒä¼˜å‚æ•°</li>
</ol>
<p>å½“åº”ç”¨é¢ä¸´é«˜å¹¶å‘æŒ‘æˆ˜ï¼Œä¸”ä¼ ç»Ÿé˜Ÿåˆ—æˆä¸ºæ€§èƒ½ç“¶é¢ˆæ—¶ï¼ŒDisruptor æ˜¯ä¸€ä¸ªå€¼å¾—è€ƒè™‘çš„è§£å†³æ–¹æ¡ˆï¼Œèƒ½å¤Ÿå¸®åŠ©ç³»ç»Ÿå®ç°ç™¾ä¸‡çº§ TPS çš„å¤„ç†èƒ½åŠ›ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vert.xæ¡†æ¶è¯¦è§£ä¸é¡¹ç›®å®æˆ˜ï¼šæ„å»ºé«˜æ€§èƒ½å¼‚æ­¥åº”ç”¨]]></title>    <link>https://juejin.cn/post/7588095884069945344</link>    <guid>https://juejin.cn/post/7588095884069945344</guid>    <pubDate>2025-12-27T14:17:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588095884069945344" data-draft-id="7588092534161948672" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vert.xæ¡†æ¶è¯¦è§£ä¸é¡¹ç›®å®æˆ˜ï¼šæ„å»ºé«˜æ€§èƒ½å¼‚æ­¥åº”ç”¨"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-27T14:17:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ITæ©˜å­çš®"/> <meta itemprop="url" content="https://juejin.cn/user/3148645291002232"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vert.xæ¡†æ¶è¯¦è§£ä¸é¡¹ç›®å®æˆ˜ï¼šæ„å»ºé«˜æ€§èƒ½å¼‚æ­¥åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3148645291002232/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ITæ©˜å­çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T14:17:26.000Z" title="Sat Dec 27 2025 14:17:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€Vert.xæ¡†æ¶æ¦‚è¿°</h2>
<h3 data-id="heading-1">1.1 ä»€ä¹ˆæ˜¯Vert.xï¼Ÿ</h3>
<p>Vert.xæ˜¯ä¸€ä¸ªåœ¨JVMä¸Šæ„å»ºå“åº”å¼åº”ç”¨ç¨‹åºçš„å·¥å…·åŒ…ï¼Œé‡‡ç”¨äº‹ä»¶é©±åŠ¨å’Œéé˜»å¡çš„è®¾è®¡ç†å¿µã€‚å®ƒæ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€ï¼ˆJavaã€Kotlinã€Scalaã€Groovyã€JavaScriptç­‰ï¼‰ï¼Œä½¿å¼€å‘è€…èƒ½å¤Ÿç”¨ç†Ÿæ‚‰çš„è¯­è¨€æ„å»ºé«˜æ€§èƒ½ã€å¯æ‰©å±•çš„åˆ†å¸ƒå¼ç³»ç»Ÿã€‚</p>
<h3 data-id="heading-2">1.2 æ ¸å¿ƒç‰¹æ€§</h3>
<ul>
<li><strong>äº‹ä»¶é©±åŠ¨å’Œéé˜»å¡I/O</strong>ï¼šåŸºäºNettyï¼Œå……åˆ†åˆ©ç”¨ç³»ç»Ÿèµ„æº</li>
<li><strong>å¤šè¯­è¨€æ”¯æŒ</strong>ï¼šPolyglotç‰¹æ€§å…è®¸æ··åˆä½¿ç”¨å¤šç§è¯­è¨€</li>
<li><strong>é«˜å¹¶å‘å¤„ç†</strong>ï¼šå•æœºå¯å¤„ç†æ•°ç™¾ä¸‡å¹¶å‘è¿æ¥</li>
<li><strong>è½»é‡çº§</strong>ï¼šæ ¸å¿ƒåº“ä½“ç§¯å°ï¼Œæ¨¡å—åŒ–è®¾è®¡</li>
<li><strong>å®Œæ•´çš„å“åº”å¼ç¼–ç¨‹æ”¯æŒ</strong>ï¼šåŸç”Ÿæ”¯æŒRxJavaã€SmallRye Mutinyç­‰</li>
</ul>
<h2 data-id="heading-3">äºŒã€Vert.xæ ¸å¿ƒæ¶æ„è§£æ</h2>
<h3 data-id="heading-4">2.1 äº‹ä»¶å¾ªç¯æ¨¡å‹</h3>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// Vert.xçš„äº‹ä»¶å¾ªç¯çº¿ç¨‹ç¤ºä¾‹</span>
<span class="hljs-selector-tag">vertx</span><span class="hljs-selector-class">.setPeriodic</span>(<span class="hljs-number">1000</span>, id -&gt; {
    <span class="hljs-comment">// æ­¤å›è°ƒåœ¨äº‹ä»¶å¾ªç¯çº¿ç¨‹æ‰§è¡Œ</span>
    <span class="hljs-selector-tag">System</span><span class="hljs-selector-class">.out</span><span class="hljs-selector-class">.println</span>(<span class="hljs-string">"Timer fired in event loop thread: "</span> 
        + Thread.<span class="hljs-built_in">currentThread</span>().<span class="hljs-built_in">getName</span>());
});
</code></pre>
<p>Vert.xé‡‡ç”¨å¤šReactoræ¨¡å¼ï¼Œé»˜è®¤äº‹ä»¶å¾ªç¯çº¿ç¨‹æ•° = CPUæ ¸å¿ƒæ•° * 2ã€‚è¿™ç§è®¾è®¡é¿å…äº†ä¼ ç»Ÿé˜»å¡æ¨¡å‹ä¸­çš„çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢å¼€é”€ã€‚</p>
<h3 data-id="heading-5">2.2 Verticleï¼šVert.xçš„åŸºæœ¬éƒ¨ç½²å•å…ƒ</h3>
<pre><code class="hljs language-scala" lang="scala">public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainVerticle</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractVerticle</span> </span>{
    <span class="hljs-meta">@Override</span>
    public void start() {
        <span class="hljs-comment">// å¯åŠ¨HTTPæœåŠ¡å™¨</span>
        vertx.createHttpServer()
            .requestHandler(req -&gt; {
                req.response()
                   .putHeader(<span class="hljs-string">"content-type"</span>, <span class="hljs-string">"text/plain"</span>)
                   .end(<span class="hljs-string">"Hello from Vert.x!"</span>);
            })
            .listen(<span class="hljs-number">8888</span>);
    }
}
</code></pre>
<p>Verticleæœ‰ä¸‰ç§ç±»å‹ï¼š</p>
<ol>
<li><strong>Standard Verticle</strong>ï¼šæ ‡å‡†verticleï¼Œåœ¨äº‹ä»¶å¾ªç¯çº¿ç¨‹æ‰§è¡Œ</li>
<li><strong>Worker Verticle</strong>ï¼šå·¥ä½œverticleï¼Œåœ¨å·¥ä½œçº¿ç¨‹æ± æ‰§è¡Œ</li>
<li><strong>Multi-threaded Worker Verticle</strong>ï¼šå¤šçº¿ç¨‹å·¥ä½œverticle</li>
</ol>
<h3 data-id="heading-6">2.3 Event Busï¼šåº”ç”¨ç¥ç»ç³»ç»Ÿ</h3>
<p>Vert.xçš„äº‹ä»¶æ€»çº¿æä¾›äº†åˆ†å¸ƒå¼ã€å…¨åŒå·¥çš„é€šä¿¡æœºåˆ¶ï¼Œæ”¯æŒï¼š</p>
<ul>
<li>å‘å¸ƒ/è®¢é˜…æ¨¡å¼</li>
<li>ç‚¹å¯¹ç‚¹è¯·æ±‚/å“åº”</li>
<li>é›†ç¾¤æ¨¡å¼ä¸‹è·¨èŠ‚ç‚¹çš„é€šä¿¡</li>
</ul>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// å‘é€æ¶ˆæ¯</span>
eventBus.send(<span class="hljs-string">"news.uk.sport"</span>, <span class="hljs-string">"Yay! Someone kicked a ball"</span>);

<span class="hljs-comment">// æ¥æ”¶æ¶ˆæ¯</span>
eventBus.consumer(<span class="hljs-string">"news.uk.sport"</span>, message -&gt; {
    System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"Received news: "</span> + message.body());
});
</code></pre>
<h2 data-id="heading-7">ä¸‰ã€å®æˆ˜é¡¹ç›®ï¼šæ„å»ºå®æ—¶æ•°æ®å¤„ç†ç³»ç»Ÿ</h2>
<h3 data-id="heading-8">3.1 é¡¹ç›®æ¦‚è¿°</h3>
<p>æˆ‘ä»¬å°†æ„å»ºä¸€ä¸ªå®æ—¶æ•°æ®å¤„ç†ç³»ç»Ÿï¼ŒåŒ…å«ä»¥ä¸‹æ¨¡å—ï¼š</p>
<ul>
<li>REST APIç½‘å…³</li>
<li>å®æ—¶æ•°æ®å¤„ç†å™¨</li>
<li>WebSocketæ¨é€æœåŠ¡</li>
<li>åˆ†å¸ƒå¼äº‹ä»¶æ€»çº¿é€šä¿¡</li>
<li>ç›‘æ§æŒ‡æ ‡æ”¶é›†</li>
</ul>
<h3 data-id="heading-9">3.2 é¡¹ç›®åˆå§‹åŒ–</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- Mavenä¾èµ–é…ç½® --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-core<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.3.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.3.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-web-client<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.3.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
</code></pre>
<h3 data-id="heading-10">3.3 ä¸»å¯åŠ¨ç±»å®ç°</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DataProcessingApplication</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"><span class="hljs-built_in">String</span>[] args</span>) {
        <span class="hljs-title class_">Vertx</span> vertx = <span class="hljs-title class_">Vertx</span>.<span class="hljs-title function_">vertx</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">VertxOptions</span>()
            .<span class="hljs-title function_">setEventLoopPoolSize</span>(<span class="hljs-number">16</span>)
            .<span class="hljs-title function_">setWorkerPoolSize</span>(<span class="hljs-number">20</span>));
        
        <span class="hljs-comment">// éƒ¨ç½²verticle</span>
        <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">String</span>&gt; apiDeployment = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">promise</span>();
        <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">String</span>&gt; processorDeployment = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">promise</span>();
        
        vertx.<span class="hljs-title function_">deployVerticle</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ApiGatewayVerticle</span>(), apiDeployment);
        vertx.<span class="hljs-title function_">deployVerticle</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">DataProcessorVerticle</span>(), processorDeployment);
        
        <span class="hljs-comment">// å¼‚æ­¥ç­‰å¾…æ‰€æœ‰verticleéƒ¨ç½²å®Œæˆ</span>
        <span class="hljs-title class_">CompositeFuture</span>.<span class="hljs-title function_">all</span>(apiDeployment.<span class="hljs-title function_">future</span>(), processorDeployment.<span class="hljs-title function_">future</span>())
            .<span class="hljs-title function_">onComplete</span>(result -&gt; {
                <span class="hljs-keyword">if</span> (result.<span class="hljs-title function_">succeeded</span>()) {
                    <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"æ‰€æœ‰verticleéƒ¨ç½²æˆåŠŸï¼"</span>);
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-title class_">System</span>.<span class="hljs-property">err</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"éƒ¨ç½²å¤±è´¥: "</span> + result.<span class="hljs-title function_">cause</span>().<span class="hljs-title function_">getMessage</span>());
                }
            });
    }
}
</code></pre>
<h3 data-id="heading-11">3.4 REST APIç½‘å…³å®ç°</h3>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">class</span> <span class="hljs-selector-tag">ApiGatewayVerticle</span> <span class="hljs-selector-tag">extends</span> <span class="hljs-selector-tag">AbstractVerticle</span> {
    
    <span class="hljs-variable">@Override</span>
    public void <span class="hljs-built_in">start</span>() {
        <span class="hljs-selector-tag">Router</span> <span class="hljs-selector-tag">router</span> = <span class="hljs-selector-tag">Router</span><span class="hljs-selector-class">.router</span>(vertx);
        
        <span class="hljs-comment">// å¯ç”¨CORS</span>
        <span class="hljs-selector-tag">router</span><span class="hljs-selector-class">.route</span>()<span class="hljs-selector-class">.handler</span>(CorsHandler.<span class="hljs-built_in">create</span>(<span class="hljs-string">"*"</span>));
        
        <span class="hljs-comment">// è¯·æ±‚æ—¥å¿—ä¸­é—´ä»¶</span>
        <span class="hljs-selector-tag">router</span><span class="hljs-selector-class">.route</span>()<span class="hljs-selector-class">.handler</span>(ctx -&gt; {
            <span class="hljs-selector-tag">System</span><span class="hljs-selector-class">.out</span><span class="hljs-selector-class">.println</span>(<span class="hljs-string">"Received request: "</span> + ctx.<span class="hljs-built_in">request</span>().<span class="hljs-built_in">method</span>() 
                + <span class="hljs-string">" "</span> + ctx.<span class="hljs-built_in">request</span>().<span class="hljs-built_in">path</span>());
            <span class="hljs-selector-tag">ctx</span><span class="hljs-selector-class">.next</span>();
        });
        
        <span class="hljs-comment">// æ•°æ®æ¥æ”¶ç«¯ç‚¹</span>
        <span class="hljs-selector-tag">router</span><span class="hljs-selector-class">.post</span>(<span class="hljs-string">"/api/data"</span>)
            <span class="hljs-selector-class">.handler</span>(BodyHandler.<span class="hljs-built_in">create</span>())
            <span class="hljs-selector-class">.handler</span>(<span class="hljs-attribute">this</span>::handleDataIngestion);
        
        <span class="hljs-comment">// å¥åº·æ£€æŸ¥ç«¯ç‚¹</span>
        <span class="hljs-selector-tag">router</span><span class="hljs-selector-class">.get</span>(<span class="hljs-string">"/health"</span>)<span class="hljs-selector-class">.handler</span>(ctx -&gt; {
            <span class="hljs-selector-tag">ctx</span><span class="hljs-selector-class">.json</span>(new <span class="hljs-built_in">JsonObject</span>()
                .<span class="hljs-built_in">put</span>(<span class="hljs-string">"status"</span>, <span class="hljs-string">"UP"</span>)
                .<span class="hljs-built_in">put</span>(<span class="hljs-string">"timestamp"</span>, System.<span class="hljs-built_in">currentTimeMillis</span>()));
        });
        
        <span class="hljs-comment">// å¯åŠ¨HTTPæœåŠ¡å™¨</span>
        <span class="hljs-selector-tag">vertx</span><span class="hljs-selector-class">.createHttpServer</span>()
            <span class="hljs-selector-class">.requestHandler</span>(router)
            <span class="hljs-selector-class">.listen</span>(<span class="hljs-number">8080</span>)
            <span class="hljs-selector-class">.onSuccess</span>(server -&gt; {
                <span class="hljs-selector-tag">System</span><span class="hljs-selector-class">.out</span><span class="hljs-selector-class">.println</span>(<span class="hljs-string">"APIç½‘å…³å¯åŠ¨åœ¨ç«¯å£ 8080"</span>);
            })
            <span class="hljs-selector-class">.onFailure</span>(<span class="hljs-attribute">Throwable</span>::printStackTrace);
    }
    
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">handleDataIngestion</span>(RoutingContext ctx) {
        <span class="hljs-selector-tag">JsonObject</span> <span class="hljs-selector-tag">data</span> = <span class="hljs-selector-tag">ctx</span><span class="hljs-selector-class">.getBodyAsJson</span>();
        
        <span class="hljs-comment">// éªŒè¯æ•°æ®</span>
        <span class="hljs-selector-tag">if</span> (data == null || !data.<span class="hljs-built_in">containsKey</span>(<span class="hljs-string">"sensorId"</span>)) {
            <span class="hljs-selector-tag">ctx</span><span class="hljs-selector-class">.fail</span>(<span class="hljs-number">400</span>);
            <span class="hljs-selector-tag">return</span>;
        }
        
        <span class="hljs-comment">// é€šè¿‡äº‹ä»¶æ€»çº¿å‘å¸ƒæ•°æ®</span>
        <span class="hljs-selector-tag">vertx</span><span class="hljs-selector-class">.eventBus</span>()<span class="hljs-selector-class">.request</span>(<span class="hljs-string">"data.process"</span>, data, reply -&gt; {
            <span class="hljs-selector-tag">if</span> (reply.<span class="hljs-built_in">succeeded</span>()) {
                <span class="hljs-selector-tag">ctx</span><span class="hljs-selector-class">.json</span>(new <span class="hljs-built_in">JsonObject</span>()
                    .<span class="hljs-built_in">put</span>(<span class="hljs-string">"status"</span>, <span class="hljs-string">"processed"</span>)
                    .<span class="hljs-built_in">put</span>(<span class="hljs-string">"messageId"</span>, reply.<span class="hljs-built_in">result</span>().<span class="hljs-built_in">body</span>()));
            } <span class="hljs-selector-tag">else</span> {
                <span class="hljs-selector-tag">ctx</span><span class="hljs-selector-class">.fail</span>(<span class="hljs-number">500</span>);
            }
        });
    }
}
</code></pre>
<h3 data-id="heading-12">3.5 æ•°æ®å¤„ç†å™¨å®ç°</h3>
<pre><code class="hljs language-scss" lang="scss">public class DataProcessorVerticle extends AbstractVerticle {
    
    private static final int BATCH_SIZE = <span class="hljs-number">1000</span>;
    private List&lt;JsonObject&gt; batchBuffer = new ArrayList&lt;&gt;();
    
    <span class="hljs-keyword">@Override</span>
    public void start() {
        <span class="hljs-comment">// æ³¨å†Œæ•°æ®å¤„ç†å™¨</span>
        vertx<span class="hljs-selector-class">.eventBus</span>().&lt;JsonObject&gt;<span class="hljs-built_in">consumer</span>("data.process", message -&gt; {
            JsonObject data = message.body();
            
            <span class="hljs-comment">// å¼‚æ­¥å¤„ç†æ•°æ®</span>
            <span class="hljs-built_in">processData</span>(data)
                <span class="hljs-selector-class">.onSuccess</span>(processedData -&gt; {
                    // æ·»åŠ åˆ°æ‰¹å¤„ç†ç¼“å†²åŒº
                    batchBuffer.add(processedData);
                    
                    <span class="hljs-comment">// è¾¾åˆ°æ‰¹å¤„ç†å¤§å°æ—¶æ‰¹é‡å­˜å‚¨</span>
                    if (batchBuffer.size() &gt;= BATCH_SIZE) {
                        <span class="hljs-built_in">flushBatch</span>();
                    }
                    
                    <span class="hljs-comment">// å‘é€å¤„ç†å®Œæˆå“åº”</span>
                    message<span class="hljs-selector-class">.reply</span>(UUID.randomUUID()<span class="hljs-selector-class">.toString</span>());
                    
                    <span class="hljs-comment">// å®æ—¶æ¨é€åˆ°WebSocketå®¢æˆ·ç«¯</span>
                    vertx<span class="hljs-selector-class">.eventBus</span>()<span class="hljs-selector-class">.publish</span>("data.realtime", processedData);
                })
                <span class="hljs-selector-class">.onFailure</span>(err -&gt; {
                    System.err.println("æ•°æ®å¤„ç†å¤±è´¥: " + err.getMessage());
                    message<span class="hljs-selector-class">.fail</span>(<span class="hljs-number">500</span>, err.getMessage());
                });
        });
        
        <span class="hljs-comment">// å®šæ—¶åˆ·æ–°æ‰¹å¤„ç†</span>
        vertx<span class="hljs-selector-class">.setPeriodic</span>(<span class="hljs-number">5000</span>, id -&gt; {
            if (!batchBuffer.isEmpty()) {
                <span class="hljs-built_in">flushBatch</span>();
            }
        });
        
        System<span class="hljs-selector-class">.out</span><span class="hljs-selector-class">.println</span>("æ•°æ®å¤„ç†å™¨å·²å¯åŠ¨");
    }
    
    private Future&lt;JsonObject&gt; <span class="hljs-built_in">processData</span>(JsonObject rawData) {
        Promise&lt;JsonObject&gt; promise = Promise<span class="hljs-selector-class">.promise</span>();
        
        <span class="hljs-comment">// ä½¿ç”¨å·¥ä½œçº¿ç¨‹æ‰§è¡ŒCPUå¯†é›†å‹å¤„ç†</span>
        vertx<span class="hljs-selector-class">.executeBlocking</span>(future -&gt; {
            try {
                // æ¨¡æ‹Ÿæ•°æ®å¤„ç†
                JsonObject processed = rawData.copy();
                processed<span class="hljs-selector-class">.put</span>("processed", true)
                         <span class="hljs-selector-class">.put</span>("timestamp", System.currentTimeMillis())
                         <span class="hljs-selector-class">.put</span>("processedBy", "worker-" + Thread.currentThread()<span class="hljs-selector-class">.getName</span>());
                
                <span class="hljs-comment">// æ¨¡æ‹Ÿå¤„ç†å»¶è¿Ÿ</span>
                Thread<span class="hljs-selector-class">.sleep</span>(<span class="hljs-number">10</span>);
                
                future<span class="hljs-selector-class">.complete</span>(processed);
            } catch (Exception e) {
                future<span class="hljs-selector-class">.fail</span>(e);
            }
        }, promise);
        
        return promise<span class="hljs-selector-class">.future</span>();
    }
    
    private void <span class="hljs-built_in">flushBatch</span>() {
        if (batchBuffer.isEmpty()) return;
        
        List&lt;JsonObject&gt; toFlush = new ArrayList&lt;&gt;(batchBuffer);
        batchBuffer<span class="hljs-selector-class">.clear</span>();
        
        <span class="hljs-comment">// å¼‚æ­¥å­˜å‚¨åˆ°æ•°æ®åº“</span>
        <span class="hljs-built_in">storeBatch</span>(toFlush)
            <span class="hljs-selector-class">.onSuccess</span>(count -&gt; {
                System.out.println("æ‰¹é‡å­˜å‚¨æˆåŠŸï¼Œè®°å½•æ•°: " + count);
            })
            <span class="hljs-selector-class">.onFailure</span>(err -&gt; {
                System.err.println("æ‰¹é‡å­˜å‚¨å¤±è´¥: " + err.getMessage());
                <span class="hljs-comment">// é‡æ–°åŠ å…¥ç¼“å†²åŒº</span>
                batchBuffer<span class="hljs-selector-class">.addAll</span>(toFlush);
            });
    }
    
    private Future&lt;Integer&gt; <span class="hljs-built_in">storeBatch</span>(List&lt;JsonObject&gt; batch) {
        <span class="hljs-comment">// è¿™é‡Œå¯ä»¥å®ç°å®é™…çš„æ•°æ®åº“å­˜å‚¨é€»è¾‘</span>
        <span class="hljs-comment">// ç¤ºä¾‹ä¸­ä»…æ¨¡æ‹Ÿå¼‚æ­¥å­˜å‚¨</span>
        Promise&lt;Integer&gt; promise = Promise<span class="hljs-selector-class">.promise</span>();
        vertx<span class="hljs-selector-class">.setTimer</span>(<span class="hljs-number">100</span>, id -&gt; {
            promise.complete(batch.size());
        });
        return promise<span class="hljs-selector-class">.future</span>();
    }
}
</code></pre>
<h3 data-id="heading-13">3.6 WebSocketå®æ—¶æ¨é€æœåŠ¡</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">WebSocketServerVerticle</span> <span class="hljs-title">extends</span> <span class="hljs-title">AbstractVerticle</span> {
    
    <span class="hljs-keyword">private</span> Set&lt;ServerWebSocket&gt; clients = ConcurrentHashMap.newKeySet();
    
    @Override
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">start</span>()</span> {
        <span class="hljs-comment">// åˆ›å»ºWebSocketæœåŠ¡å™¨</span>
        vertx.createHttpServer()
            .webSocketHandler(<span class="hljs-keyword">this</span>::handleWebSocket)
            .listen(<span class="hljs-number">8081</span>)
            .onSuccess(server -&gt; {
                System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"WebSocketæœåŠ¡å™¨å¯åŠ¨åœ¨ç«¯å£ 8081"</span>);
            });
        
        <span class="hljs-comment">// è®¢é˜…å®æ—¶æ•°æ®</span>
        vertx.eventBus().&lt;JsonObject&gt;consumer(<span class="hljs-string">"data.realtime"</span>, message -&gt; {
            JsonObject data = message.body();
            broadcastToClients(data);
        });
    }
    
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">handleWebSocket</span>(<span class="hljs-params">ServerWebSocket ws</span>)</span> {
        System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"æ–°çš„WebSocketè¿æ¥: "</span> + ws.remoteAddress());
        clients.<span class="hljs-keyword">add</span>(ws);
        
        ws.textMessageHandler(message -&gt; {
            <span class="hljs-comment">// å¤„ç†å®¢æˆ·ç«¯æ¶ˆæ¯</span>
            handleClientMessage(ws, message);
        });
        
        ws.closeHandler(v -&gt; {
            System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"WebSocketè¿æ¥å…³é—­"</span>);
            clients.<span class="hljs-keyword">remove</span>(ws);
        });
        
        ws.exceptionHandler(err -&gt; {
            System.err.println(<span class="hljs-string">"WebSocketé”™è¯¯: "</span> + err.getMessage());
            clients.<span class="hljs-keyword">remove</span>(ws);
        });
        
        <span class="hljs-comment">// å‘é€æ¬¢è¿æ¶ˆæ¯</span>
        ws.writeTextMessage(<span class="hljs-keyword">new</span> JsonObject()
            .put(<span class="hljs-string">"type"</span>, <span class="hljs-string">"welcome"</span>)
            .put(<span class="hljs-string">"message"</span>, <span class="hljs-string">"è¿æ¥æˆåŠŸ"</span>)
            .encode());
    }
    
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">broadcastToClients</span>(<span class="hljs-params">JsonObject data</span>)</span> {
        String json = data.encode();
        clients.forEach(client -&gt; {
            <span class="hljs-keyword">if</span> (!client.isClosed()) {
                client.writeTextMessage(json);
            }
        });
    }
    
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">handleClientMessage</span>(<span class="hljs-params">ServerWebSocket ws, String message</span>)</span> {
        <span class="hljs-comment">// å¤„ç†å®¢æˆ·ç«¯æ¶ˆæ¯</span>
        System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"æ”¶åˆ°å®¢æˆ·ç«¯æ¶ˆæ¯: "</span> + message);
    }
}
</code></pre>
<h2 data-id="heading-14">å››ã€Vert.xé«˜çº§ç‰¹æ€§å®æˆ˜</h2>
<h3 data-id="heading-15">4.1 ä½¿ç”¨å“åº”å¼ç¼–ç¨‹</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ReactiveDataProcessor</span> {
    
    <span class="hljs-keyword">public</span> Single&lt;JsonObject&gt; processReactive(JsonObject <span class="hljs-keyword">data</span>) {
        <span class="hljs-keyword">return</span> Single.create(emitter -&gt; {
            vertx.eventBus().&lt;JsonObject&gt;request(<span class="hljs-string">"data.process"</span>, <span class="hljs-keyword">data</span>)
                .onSuccess(reply -&gt; {
                    JsonObject result = reply.body();
                    result.put(<span class="hljs-string">"reactiveProcessed"</span>, <span class="hljs-literal">true</span>);
                    emitter.onSuccess(result);
                })
                .onFailure(emitter::onError);
        });
    }
    
    <span class="hljs-keyword">public</span> Flowable&lt;JsonObject&gt; processStream(List&lt;JsonObject&gt; dataStream) {
        <span class="hljs-keyword">return</span> Flowable.fromIterable(dataStream)
            .flatMapSingle(<span class="hljs-keyword">this</span>::processReactive)
            .buffer(<span class="hljs-number">100</span>)  <span class="hljs-comment">// æ¯100æ¡æ‰¹å¤„ç†</span>
            .flatMap(Flowable::fromIterable);
    }
}
</code></pre>
<h3 data-id="heading-16">4.2 é›†ç¾¤æ¨¡å¼é…ç½®</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ClusterApplication</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">ClusterManager</span> <span class="hljs-variable">mgr</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HazelcastClusterManager</span>();
        
        <span class="hljs-type">VertxOptions</span> <span class="hljs-variable">options</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">VertxOptions</span>()
            .setClusterManager(mgr)
            .setClustered(<span class="hljs-literal">true</span>);
        
        Vertx.clusteredVertx(options, res -&gt; {
            <span class="hljs-keyword">if</span> (res.succeeded()) {
                <span class="hljs-type">Vertx</span> <span class="hljs-variable">vertx</span> <span class="hljs-operator">=</span> res.result();
                <span class="hljs-comment">// åœ¨é›†ç¾¤ä¸­éƒ¨ç½²verticle</span>
                vertx.deployVerticle(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ApiGatewayVerticle</span>());
                System.out.println(<span class="hljs-string">"åº”ç”¨å·²åŠ å…¥é›†ç¾¤"</span>);
            } <span class="hljs-keyword">else</span> {
                System.err.println(<span class="hljs-string">"é›†ç¾¤å¯åŠ¨å¤±è´¥: "</span> + res.cause().getMessage());
            }
        });
    }
}
</code></pre>
<h3 data-id="heading-17">4.3 é…ç½®ç®¡ç†</h3>
<pre><code class="hljs language-scala" lang="scala">public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ConfigAwareVerticle</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractVerticle</span> </span>{
    
    <span class="hljs-meta">@Override</span>
    public void start() {
        <span class="hljs-comment">// ä»æ–‡ä»¶åŠ è½½é…ç½®</span>
        <span class="hljs-type">ConfigStoreOptions</span> fileStore = <span class="hljs-keyword">new</span> <span class="hljs-type">ConfigStoreOptions</span>()
            .setType(<span class="hljs-string">"file"</span>)
            .setConfig(<span class="hljs-keyword">new</span> <span class="hljs-type">JsonObject</span>().put(<span class="hljs-string">"path"</span>, <span class="hljs-string">"config.json"</span>));
        
        <span class="hljs-type">ConfigRetriever</span> retriever = <span class="hljs-type">ConfigRetriever</span>.create(vertx,
            <span class="hljs-keyword">new</span> <span class="hljs-type">ConfigRetrieverOptions</span>().addStore(fileStore));
        
        <span class="hljs-comment">// ç›‘å¬é…ç½®å˜æ›´</span>
        retriever.listen(change -&gt; {
            <span class="hljs-type">JsonObject</span> newConfig = change.getNewConfiguration();
            <span class="hljs-type">System</span>.out.println(<span class="hljs-string">"é…ç½®å·²æ›´æ–°: "</span> + newConfig.encodePrettily());
            handleConfigUpdate(newConfig);
        });
        
        <span class="hljs-comment">// è·å–åˆå§‹é…ç½®</span>
        retriever.getConfig().onSuccess(config -&gt; {
            <span class="hljs-type">System</span>.out.println(<span class="hljs-string">"åº”ç”¨å¯åŠ¨é…ç½®: "</span> + config.encodePrettily());
            initialize(config);
        });
    }
}
</code></pre>
<h2 data-id="heading-18">äº”ã€æ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-19">5.1 æ€§èƒ½ä¼˜åŒ–ç­–ç•¥</h3>
<ol>
<li>
<p><strong>é€‚å½“è°ƒæ•´çº¿ç¨‹æ± å¤§å°</strong></p>
<pre><code class="hljs language-scss" lang="scss">VertxOptions options = new <span class="hljs-built_in">VertxOptions</span>()
    <span class="hljs-selector-class">.setEventLoopPoolSize</span>(Runtime.getRuntime()<span class="hljs-selector-class">.availableProcessors</span>() * <span class="hljs-number">2</span>)
    <span class="hljs-selector-class">.setWorkerPoolSize</span>(<span class="hljs-number">20</span>)
    <span class="hljs-selector-class">.setInternalBlockingPoolSize</span>(<span class="hljs-number">20</span>);
</code></pre>
</li>
<li>
<p><strong>ä½¿ç”¨Future/Promiseé¿å…å›è°ƒåœ°ç‹±</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">public</span> Future&lt;JsonObject&gt; processDataPipeline(JsonObject input) {
    <span class="hljs-keyword">return</span> validateInput(input)
        .compose(<span class="hljs-keyword">this</span>::enrichData)
        .compose(<span class="hljs-keyword">this</span>::transformData)
        .compose(<span class="hljs-keyword">this</span>::persistData);
}
</code></pre>
</li>
<li>
<p><strong>åˆç†ä½¿ç”¨executeBlocking</strong></p>
<pre><code class="hljs language-arduino" lang="arduino">vertx.<span class="hljs-built_in">executeBlocking</span>(promise -&gt; {
    <span class="hljs-comment">// æ‰§è¡Œé˜»å¡æ“ä½œ</span>
    <span class="hljs-type">String</span> result = <span class="hljs-built_in">blockingOperation</span>();
    promise.<span class="hljs-built_in">complete</span>(result);
}, <span class="hljs-literal">false</span>, res -&gt; {  <span class="hljs-comment">// orderedå‚æ•°è®¾ä¸ºfalseå¯å¹¶è¡Œæ‰§è¡Œ</span>
    <span class="hljs-comment">// å¤„ç†ç»“æœ</span>
});
</code></pre>
</li>
</ol>
<h3 data-id="heading-20">5.2 ç›‘æ§ä¸åº¦é‡</h3>
<pre><code class="hljs language-scala" lang="scala">public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MetricsVerticle</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractVerticle</span> </span>{
    <span class="hljs-meta">@Override</span>
    public void start() {
        <span class="hljs-comment">// å¯ç”¨MicrometeræŒ‡æ ‡</span>
        <span class="hljs-type">MicrometerMetricsOptions</span> options = <span class="hljs-keyword">new</span> <span class="hljs-type">MicrometerMetricsOptions</span>()
            .setPrometheusOptions(<span class="hljs-keyword">new</span> <span class="hljs-type">VertxPrometheusOptions</span>().setEnabled(<span class="hljs-literal">true</span>))
            .setEnabled(<span class="hljs-literal">true</span>);
        
        <span class="hljs-type">Vertx</span> vertxWithMetrics = <span class="hljs-type">Vertx</span>.vertx(
            <span class="hljs-keyword">new</span> <span class="hljs-type">VertxOptions</span>().setMetricsOptions(options));
        
        <span class="hljs-comment">// è‡ªå®šä¹‰æŒ‡æ ‡</span>
        <span class="hljs-type">MeterRegistry</span> registry = <span class="hljs-type">BackendRegistries</span>.getDefaultNow();
        <span class="hljs-type">Counter</span> requestCounter = <span class="hljs-type">Counter</span>.builder(<span class="hljs-string">"http.requests"</span>)
            .description(<span class="hljs-string">"HTTPè¯·æ±‚æ•°é‡"</span>)
            .register(registry);
        
        <span class="hljs-comment">// åœ¨è·¯ç”±ä¸­ä½¿ç”¨</span>
        router.route().handler(ctx -&gt; {
            requestCounter.increment();
            ctx.next();
        });
    }
}
</code></pre>
<h2 data-id="heading-21">å…­ã€éƒ¨ç½²ä¸è¿ç»´</h2>
<h3 data-id="heading-22">6.1 Dockerå®¹å™¨åŒ–éƒ¨ç½²</h3>
<pre><code class="hljs language-bash" lang="bash">FROM eclipse-temurin:17-jre-alpine
WORKDIR /app
COPY target/vertx-app-1.0.0-fat.jar app.jar
EXPOSE 8080 8081
ENTRYPOINT [<span class="hljs-string">"java"</span>, <span class="hljs-string">"-jar"</span>, <span class="hljs-string">"app.jar"</span>]
</code></pre>
<h3 data-id="heading-23">6.2 Kuberneteséƒ¨ç½²é…ç½®</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">apps/v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Deployment</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">vertx-app</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">replicas:</span> <span class="hljs-number">3</span>
  <span class="hljs-attr">selector:</span>
    <span class="hljs-attr">matchLabels:</span>
      <span class="hljs-attr">app:</span> <span class="hljs-string">vertx-app</span>
  <span class="hljs-attr">template:</span>
    <span class="hljs-attr">metadata:</span>
      <span class="hljs-attr">labels:</span>
        <span class="hljs-attr">app:</span> <span class="hljs-string">vertx-app</span>
    <span class="hljs-attr">spec:</span>
      <span class="hljs-attr">containers:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">vertx-app</span>
        <span class="hljs-attr">image:</span> <span class="hljs-string">vertx-app:1.0.0</span>
        <span class="hljs-attr">ports:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">containerPort:</span> <span class="hljs-number">8080</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">containerPort:</span> <span class="hljs-number">8081</span>
        <span class="hljs-attr">resources:</span>
          <span class="hljs-attr">requests:</span>
            <span class="hljs-attr">memory:</span> <span class="hljs-string">"512Mi"</span>
            <span class="hljs-attr">cpu:</span> <span class="hljs-string">"250m"</span>
          <span class="hljs-attr">limits:</span>
            <span class="hljs-attr">memory:</span> <span class="hljs-string">"1Gi"</span>
            <span class="hljs-attr">cpu:</span> <span class="hljs-string">"500m"</span>
        <span class="hljs-attr">livenessProbe:</span>
          <span class="hljs-attr">httpGet:</span>
            <span class="hljs-attr">path:</span> <span class="hljs-string">/health</span>
            <span class="hljs-attr">port:</span> <span class="hljs-number">8080</span>
          <span class="hljs-attr">initialDelaySeconds:</span> <span class="hljs-number">30</span>
          <span class="hljs-attr">periodSeconds:</span> <span class="hljs-number">10</span>
</code></pre>
<h2 data-id="heading-24">ä¸ƒã€æ€»ç»“</h2>
<p>Vert.xä½œä¸ºä¸€ä¸ªç°ä»£åŒ–çš„å“åº”å¼æ¡†æ¶ï¼Œé€šè¿‡äº‹ä»¶é©±åŠ¨å’Œéé˜»å¡I/Oçš„è®¾è®¡ï¼Œä¸ºæ„å»ºé«˜æ€§èƒ½ã€å¯æ‰©å±•çš„åˆ†å¸ƒå¼ç³»ç»Ÿæä¾›äº†å¼ºå¤§æ”¯æŒã€‚æœ¬æ–‡é€šè¿‡å®Œæ•´çš„å®æˆ˜é¡¹ç›®å±•ç¤ºäº†ï¼š</p>
<ol>
<li><strong>Vert.xæ ¸å¿ƒæ¦‚å¿µçš„å®é™…åº”ç”¨</strong>ï¼šåŒ…æ‹¬Verticleã€Event Busã€å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹</li>
<li><strong>å®Œæ•´é¡¹ç›®æ¶æ„</strong>ï¼šä»APIç½‘å…³åˆ°å®æ—¶æ•°æ®å¤„ç†å†åˆ°WebSocketæ¨é€</li>
<li><strong>æœ€ä½³å®è·µ</strong>ï¼šé”™è¯¯å¤„ç†ã€é…ç½®ç®¡ç†ã€æ€§èƒ½ä¼˜åŒ–</li>
<li><strong>ç”Ÿäº§å°±ç»ªç‰¹æ€§</strong>ï¼šé›†ç¾¤ã€ç›‘æ§ã€å®¹å™¨åŒ–éƒ¨ç½²</li>
</ol>
<p>Vert.xçš„å­¦ä¹ æ›²çº¿å¯èƒ½è¾ƒé™¡å³­ï¼Œç‰¹åˆ«æ˜¯å¯¹äºä¹ æƒ¯ä¼ ç»ŸåŒæ­¥ç¼–ç¨‹çš„å¼€å‘è€…ã€‚ä½†ä¸€æ—¦æŒæ¡å…¶å¼‚æ­¥ç¼–ç¨‹èŒƒå¼ï¼Œå°±èƒ½æ„å»ºå‡ºé«˜æ€§èƒ½ã€å¯æ‰©å±•çš„ç°ä»£åŒ–åº”ç”¨ç³»ç»Ÿã€‚å»ºè®®ä»ç®€å•çš„HTTPæœåŠ¡å¼€å§‹ï¼Œé€æ­¥æ·±å…¥åˆ°äº‹ä»¶æ€»çº¿ã€é›†ç¾¤ç­‰é«˜çº§ç‰¹æ€§ï¼Œæœ€ç»ˆæ„å»ºå®Œæ•´çš„åˆ†å¸ƒå¼ç³»ç»Ÿã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vert.xä¸ä¼ ç»ŸSpringæ¡†æ¶åœ¨æ€§èƒ½ã€å¹¶å‘å¤„ç†æ–¹é¢æœ‰å“ªäº›å·®å¼‚]]></title>    <link>https://juejin.cn/post/7588095884069961728</link>    <guid>https://juejin.cn/post/7588095884069961728</guid>    <pubDate>2025-12-27T14:21:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588095884069961728" data-draft-id="7588004601393807394" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vert.xä¸ä¼ ç»ŸSpringæ¡†æ¶åœ¨æ€§èƒ½ã€å¹¶å‘å¤„ç†æ–¹é¢æœ‰å“ªäº›å·®å¼‚"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-27T14:21:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ITæ©˜å­çš®"/> <meta itemprop="url" content="https://juejin.cn/user/3148645291002232"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vert.xä¸ä¼ ç»ŸSpringæ¡†æ¶åœ¨æ€§èƒ½ã€å¹¶å‘å¤„ç†æ–¹é¢æœ‰å“ªäº›å·®å¼‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3148645291002232/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ITæ©˜å­çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T14:21:45.000Z" title="Sat Dec 27 2025 14:21:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Vert.x å’Œ Spring æ¡†æ¶åœ¨æ€§èƒ½ä¸å¹¶å‘å¤„ç†ä¸Šçš„å·®å¼‚ï¼Œæ ¹æºåœ¨äºå®ƒä»¬æˆªç„¶ä¸åŒçš„è®¾è®¡å“²å­¦å’Œæ¶æ„æ¨¡å‹ã€‚ä¸‹é¢è¿™ä¸ªè¡¨æ ¼æ±‡æ€»äº†å®ƒä»¬çš„æ ¸å¿ƒåŒºåˆ«ï¼Œæ–¹ä¾¿ä½ å¿«é€ŸæŠŠæ¡è¦ç‚¹ã€‚</p>



































<table><thead><tr><th>ç‰¹æ€§ç»´åº¦</th><th>Vert.x</th><th>Spring (ä¼ ç»Ÿé˜»å¡æ¨¡å¼)</th></tr></thead><tbody><tr><td><strong>æ ¸å¿ƒæ¶æ„</strong></td><td>äº‹ä»¶é©±åŠ¨ã€éé˜»å¡ I/O (åŸºäº Netty)</td><td>åŸºäº Servlet å®¹å™¨ï¼ˆå¦‚ Tomcatï¼‰çš„çº¿ç¨‹æ± æ¨¡å‹</td></tr><tr><td><strong>å¹¶å‘æ¨¡å‹</strong></td><td><strong>äº‹ä»¶å¾ªç¯ (Event Loop)</strong> ï¼Œå°‘é‡çº¿ç¨‹å¤„ç†æµ·é‡è¿æ¥</td><td><strong>â€œä¸€ä¸ªè¯·æ±‚ä¸€ä¸ªçº¿ç¨‹â€ (Thread-per-Request)</strong></td></tr><tr><td><strong>æ€§èƒ½ç‰¹ç‚¹</strong></td><td><strong>é«˜ååã€ä½å»¶è¿Ÿ</strong>ï¼Œæ“…é•¿å¤„ç†<strong>å¤§é‡å¹¶å‘é•¿è¿æ¥</strong></td><td>åœ¨å¤æ‚ä¸šåŠ¡é€»è¾‘å’Œ<strong>CPUå¯†é›†å‹</strong>ä»»åŠ¡ä¸­è¡¨ç°ç¨³å¥</td></tr><tr><td><strong>èµ„æºæ¶ˆè€—</strong></td><td>è½»é‡çº§ï¼Œèµ„æºå ç”¨å°‘ï¼Œæ‰©å±•æ€§å¼º</td><td>çº¿ç¨‹æ± å’Œç»„ä»¶å †æ ˆå¸¦æ¥ç›¸å¯¹è¾ƒé«˜çš„å†…å­˜å¼€é”€</td></tr><tr><td><strong>ç¼–ç¨‹èŒƒå¼</strong></td><td>å¼‚æ­¥å›è°ƒã€Future/Promiseã€å“åº”å¼ç¼–ç¨‹</td><td>åŒæ­¥é˜»å¡ï¼Œæ›´ç¬¦åˆç›´è§‰ï¼Œæ˜“äºè°ƒè¯•</td></tr></tbody></table>
<h3 data-id="heading-0">ğŸ”§ ç†è§£å·®å¼‚çš„æ ¹æº</h3>
<p>è¡¨æ ¼ä¸­çš„å¯¹æ¯”æºäºä¸¤è€…æ ¹æœ¬çš„è®¾è®¡å“²å­¦ä¸åŒï¼š</p>
<ul>
<li><strong>Vert.x çš„äº‹ä»¶å¾ªç¯æ¨¡å‹</strong>ï¼šVert.x çš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªæˆ–å¤šä¸ª <strong>äº‹ä»¶å¾ªç¯çº¿ç¨‹</strong>ã€‚å®ƒä¸ä¼šä¸ºæ¯ä¸ªè¯·æ±‚åˆ›å»ºæ–°çº¿ç¨‹ï¼Œè€Œæ˜¯å°†I/Oæ“ä½œï¼ˆå¦‚ç½‘ç»œè¯·æ±‚ã€æ•°æ®åº“æŸ¥è¯¢ï¼‰æ³¨å†Œä¸ºäº‹ä»¶ã€‚å½“æ“ä½œåœ¨åå°å®Œæˆæ—¶ï¼Œå›è°ƒå‡½æ•°è¢«è§¦å‘ã€‚è¿™ä½¿å¾—å®ƒèƒ½å¤Ÿç”¨<strong>æå°‘çš„çº¿ç¨‹æ”¯æ’‘æé«˜çš„å¹¶å‘è¿æ¥</strong>ï¼Œéå¸¸é€‚åˆI/Oå¯†é›†å‹åº”ç”¨ã€‚</li>
<li><strong>Spring çš„çº¿ç¨‹æ± æ¨¡å‹</strong>ï¼šä¼ ç»Ÿ Spring MVC é»˜è®¤ä½¿ç”¨åŒæ­¥æ¨¡å‹ã€‚æ¯ä¸ªè¯·æ±‚éƒ½ä¼šå ç”¨ä¸€ä¸ªç‹¬ç«‹çš„çº¿ç¨‹ã€‚å¦‚æœè¯·æ±‚å› ç­‰å¾…æ•°æ®åº“å“åº”è€Œé˜»å¡ï¼Œè¿™ä¸ªçº¿ç¨‹å°±è¢«å ç”¨ï¼Œæ— æ³•å¤„ç†å…¶ä»–è¯·æ±‚ã€‚å½“å¹¶å‘è¯·æ±‚æ•°è¶…è¿‡çº¿ç¨‹æ± å¤§å°æ—¶ï¼Œæ–°è¯·æ±‚å¿…é¡»æ’é˜Ÿç­‰å¾…ï¼Œæ€§èƒ½ä¼šæ€¥å‰§ä¸‹é™ã€‚</li>
</ul>
<h3 data-id="heading-1">ğŸ“Š å…³é”®æ€§èƒ½æ•°æ®å‚è€ƒ</h3>
<p>å…·ä½“çš„æ€§èƒ½æµ‹è¯•æ•°æ®èƒ½è®©ä½ æœ‰æ›´ç›´è§‚çš„æ„Ÿå—ï¼š</p>
<ul>
<li><strong>REST API è¯·æ±‚å¤„ç†</strong>ï¼šåœ¨åŸºå‡†æµ‹è¯•ä¸­ï¼ŒVert.x çš„è¯·æ±‚å¤„ç†é€Ÿç‡è¢«è¯å®å¯ä»¥è¾¾åˆ° <strong>Spring Boot çš„ 2 å€</strong>ã€‚å¦ä¸€é¡¹æµ‹è¯•ç”šè‡³æ˜¾ç¤ºå…¶æ€§èƒ½å¯è¾¾ Spring çš„ <strong>9 å€</strong>ã€‚</li>
<li><strong>é«˜å¹¶å‘æ··åˆæŸ¥è¯¢</strong>ï¼šåœ¨ TechEmpower æ€§èƒ½åŸºå‡†æµ‹è¯•ä¸­ï¼ŒVert.x çš„ç»¼åˆæ’åéå¸¸é å‰ï¼Œå±•ç°å‡ºæå¼ºçš„å¹¶å‘å¤„ç†èƒ½åŠ›ã€‚</li>
<li><strong>å®é™…åº”ç”¨æµ‹è¯•</strong>ï¼šæœ‰å¼€å‘è€…é€šè¿‡æ¨¡æ‹Ÿé«˜å¹¶å‘åœºæ™¯å‘ç°ï¼Œé‡‡ç”¨ Vert.x æ¶æ„çš„ç³»ç»Ÿååé‡å¯è¾¾ä¼ ç»Ÿ Spring Boot æ¶æ„çš„ <strong>3.3 å€</strong>ã€‚</li>
</ul>
<h3 data-id="heading-2">ğŸš€ Spring çš„å“åº”å¼æ–¹æ¡ˆï¼šSpring WebFlux</h3>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒSpring æ¡†æ¶ä¹Ÿæä¾›äº†å“åº”å¼è§£å†³æ–¹æ¡ˆæ¥åº”å¯¹é«˜å¹¶å‘åœºæ™¯ï¼Œå³ <strong>Spring WebFlux</strong>ã€‚å®ƒåŒæ ·åŸºäºéé˜»å¡æ¨¡å‹ï¼Œåº•å±‚ä¹Ÿå¯ä»¥ä½¿ç”¨ Nettyï¼Œæ—¨åœ¨ä¸ Vert.x ç«äº‰ã€‚ä½†åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå¦‚æœé¡¹ç›®ä¾èµ–äº†ä¼—å¤šåŒæ­¥çš„ç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚ä¼ ç»Ÿçš„ JPA æˆ– MyBatisï¼‰ï¼Œæ•´ä¸ªè°ƒç”¨é“¾å¯èƒ½æ— æ³•ä¿æŒéé˜»å¡ï¼Œä»è€Œæ— æ³•å®Œå…¨å‘æŒ¥ WebFlux çš„å¨åŠ›ã€‚</p>
<h3 data-id="heading-3">ğŸ’¡ å¦‚ä½•æ ¹æ®åœºæ™¯åšé€‰æ‹©</h3>
<p>äº†è§£äº†è¿™äº›å·®å¼‚å’Œæ•°æ®åï¼Œä½ çš„æŠ€æœ¯é€‰å‹æ€è·¯å°±ä¼šæ¸…æ™°å¾ˆå¤šï¼š</p>
<ul>
<li>
<p><strong>ä¼˜å…ˆé€‰æ‹© Vert.x çš„åœºæ™¯</strong>ï¼š</p>
<ul>
<li><strong>é«˜å¹¶å‘ã€ä½å»¶è¿Ÿçš„å®æ—¶æœåŠ¡</strong>ï¼šå¦‚å®æ—¶èŠå¤©ã€æ¶ˆæ¯æ¨é€ã€æ¸¸æˆæœåŠ¡å™¨ã€ç‰©è”ç½‘ï¼ˆIoTï¼‰æ•°æ®é‡‡é›†ç­‰ã€‚</li>
<li><strong>API ç½‘å…³æˆ–ä»£ç†æœåŠ¡</strong>ï¼šéœ€è¦é«˜æ•ˆè·¯ç”±å¤§é‡ç½‘ç»œè¯·æ±‚çš„åœºæ™¯ã€‚</li>
<li><strong>å›¢é˜Ÿç†Ÿæ‚‰å“åº”å¼ç¼–ç¨‹èŒƒå¼</strong>ï¼Œä¸”æŠ€æœ¯æ ˆèƒ½ä¿è¯å…¨é“¾è·¯å¼‚æ­¥ï¼ˆä¾‹å¦‚ä½¿ç”¨å¼‚æ­¥æ•°æ®åº“é©±åŠ¨ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>ä¼˜å…ˆé€‰æ‹© Spring Boot çš„åœºæ™¯</strong>ï¼š</p>
<ul>
<li><strong>ä¼ ç»Ÿçš„ä¼ä¸šçº§åº”ç”¨æˆ–éœ€è¦å¿«é€Ÿäº¤ä»˜çš„ä¸šåŠ¡ç³»ç»Ÿ</strong>ï¼šSpring Boot çš„å¼€ç®±å³ç”¨ã€æä½³çš„å¼€å‘æ•ˆç‡å’Œå¼ºå¤§çš„ç”Ÿæ€æ˜¯å·¨å¤§ä¼˜åŠ¿ã€‚</li>
<li><strong>æ•°æ®å¯†é›†å‹åº”ç”¨</strong>ï¼šæ¶‰åŠå¤æ‚äº‹åŠ¡ç®¡ç†ã€å¤šç§æ•°æ®æºé›†æˆï¼Œéœ€è¦å¼ºå¤§ ORMï¼ˆå¦‚ Hibernateï¼‰æ”¯æŒçš„åœºæ™¯ã€‚</li>
<li><strong>éœ€è¦ä¸åºå¤§çš„ Spring ç”Ÿæ€ç³»ç»Ÿï¼ˆå¦‚ Spring Security, Spring Cloud, Spring Dataï¼‰æ·±åº¦é›†æˆ</strong>çš„é¡¹ç›®ã€‚</li>
</ul>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vert.xä¸Springæ¡†æ¶ï¼šå¼€å‘æ•ˆç‡ä¸å›¢é˜Ÿå­¦ä¹ æˆæœ¬æ·±åº¦å¯¹æ¯”]]></title>    <link>https://juejin.cn/post/7588095884069994496</link>    <guid>https://juejin.cn/post/7588095884069994496</guid>    <pubDate>2025-12-27T14:26:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588095884069994496" data-draft-id="7588004601393823778" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vert.xä¸Springæ¡†æ¶ï¼šå¼€å‘æ•ˆç‡ä¸å›¢é˜Ÿå­¦ä¹ æˆæœ¬æ·±åº¦å¯¹æ¯”"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-27T14:26:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ITæ©˜å­çš®"/> <meta itemprop="url" content="https://juejin.cn/user/3148645291002232"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vert.xä¸Springæ¡†æ¶ï¼šå¼€å‘æ•ˆç‡ä¸å›¢é˜Ÿå­¦ä¹ æˆæœ¬æ·±åº¦å¯¹æ¯”
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3148645291002232/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ITæ©˜å­çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T14:26:03.000Z" title="Sat Dec 27 2025 14:26:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€ï¼šé€‰æ‹©æ¡†æ¶çš„åŒé‡è€ƒé‡</h2>
<p>åœ¨æŠ€æœ¯é€‰å‹è¿‡ç¨‹ä¸­ï¼Œæ€§èƒ½æ•°æ®åªæ˜¯å†³ç­–çš„ä¸€ä¸ªæ–¹é¢ï¼Œè€Œ<strong>å¼€å‘æ•ˆç‡</strong>å’Œ<strong>å›¢é˜Ÿå­¦ä¹ æˆæœ¬</strong>å¾€å¾€å¯¹é¡¹ç›®æˆåŠŸæœ‰ç€æ›´ç›´æ¥çš„å½±å“ã€‚Vert.xå’ŒSpringä»£è¡¨äº†ä¸¤ç§æˆªç„¶ä¸åŒçš„å¼€å‘å“²å­¦ï¼Œè¿™äº›å·®å¼‚ç›´æ¥ä½“ç°åœ¨å¼€å‘ä½“éªŒå’Œä¸Šæ‰‹éš¾åº¦ä¸Šã€‚æœ¬æ–‡å°†æ·±å…¥åˆ†æè¿™ä¸¤å¤§æ¡†æ¶åœ¨å¼€å‘æ•ˆç‡å’Œå­¦ä¹ æˆæœ¬æ–¹é¢çš„å…·ä½“å·®å¼‚ï¼Œå¸®åŠ©å›¢é˜Ÿåšå‡ºæ›´åˆç†çš„æŠ€æœ¯å†³ç­–ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€ç¼–ç¨‹æ¨¡å‹å¯¹æ¯”ï¼šå¼‚æ­¥ä¸åŒæ­¥çš„æœ¬è´¨å·®å¼‚</h2>
<h3 data-id="heading-2">1.1 Vert.xçš„äº‹ä»¶é©±åŠ¨æ¨¡å‹</h3>
<p>Vert.xé‡‡ç”¨<strong>å¼‚æ­¥éé˜»å¡</strong>æ¶æ„ï¼ŒåŸºäºäº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰æœºåˆ¶ã€‚è¿™ç§æ¨¡å‹è¦æ±‚å¼€å‘è€…é‡‡ç”¨å›è°ƒã€Promiseæˆ–å“åº”å¼ç¼–ç¨‹é£æ ¼ï¼Œä»£ç æ‰§è¡Œæµç¨‹ä¸å†æ˜¯ä¼ ç»Ÿçš„é¡ºåºæ‰§è¡Œã€‚</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// Vert.xçš„å¼‚æ­¥ç¼–ç¨‹ç¤ºä¾‹</span>
vertx.<span class="hljs-title function_ invoke__">createHttpServer</span>()
    .<span class="hljs-title function_ invoke__">requestHandler</span>(req <span class="hljs-punctuation">-&gt;</span> {
        <span class="hljs-comment">// å¼‚æ­¥å¤„ç†è¯·æ±‚</span>
        <span class="hljs-title function_ invoke__">someAsyncOperation</span>(result <span class="hljs-punctuation">-&gt;</span> {
            req.<span class="hljs-title function_ invoke__">response</span>().<span class="hljs-title function_ invoke__">end</span>(<span class="hljs-string">"Result: "</span> + result);
        });
    })
    .<span class="hljs-title function_ invoke__">listen</span>(<span class="hljs-number">8080</span>);
</code></pre>
<p>è¿™ç§æ¨¡å‹çš„ä¼˜åŠ¿åœ¨äº<strong>é«˜å¹¶å‘æ€§èƒ½</strong>ï¼Œä½†éœ€è¦å¼€å‘è€…è½¬å˜æ€ç»´æ–¹å¼ï¼Œä»"å‘½ä»¤å¼"è½¬å‘"å“åº”å¼"ã€‚</p>
<h3 data-id="heading-3">1.2 Springçš„ä¼ ç»ŸåŒæ­¥æ¨¡å‹</h3>
<p>Spring Booté»˜è®¤é‡‡ç”¨ç†Ÿæ‚‰çš„<strong>åŒæ­¥é˜»å¡å¼</strong>ç¼–ç¨‹æ¨¡å‹ï¼Œæ›´ç¬¦åˆäººç±»çš„çº¿æ€§æ€ç»´ä¹ æƒ¯ã€‚</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// Springçš„åŒæ­¥ç¼–ç¨‹ç¤ºä¾‹</span>
<span class="hljs-variable">@RestController</span>
public class UserController {
    <span class="hljs-variable">@GetMapping</span>(<span class="hljs-string">"/users/{id}"</span>)
    public User <span class="hljs-built_in">getUser</span>(<span class="hljs-variable">@PathVariable</span> String id) {
        <span class="hljs-comment">// åŒæ­¥é˜»å¡ç›´åˆ°è¿”å›ç»“æœ</span>
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">userService</span><span class="hljs-selector-class">.findById</span>(id);
    }
}
</code></pre>
<p>è¿™ç§æ¨¡å‹è™½ç„¶åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹èµ„æºæ•ˆç‡è¾ƒä½ï¼Œä½†<strong>é€»è¾‘æ¸…æ™°</strong>ï¼Œæ˜“äºç†è§£å’Œè°ƒè¯•ã€‚</p>
<h2 data-id="heading-4">äºŒã€å¼€å‘æ•ˆç‡ç»¼åˆåˆ†æ</h2>
<h3 data-id="heading-5">2.1 Spring Bootçš„å¼€å‘æ•ˆç‡ä¼˜åŠ¿</h3>
<p>Spring Bootåœ¨å¼€å‘æ•ˆç‡æ–¹é¢å…·æœ‰æ˜¾è‘—ä¼˜åŠ¿ï¼Œä¸»è¦ä½“ç°åœ¨ï¼š</p>
<ul>
<li><strong>å¼€ç®±å³ç”¨</strong>ï¼šé€šè¿‡è‡ªåŠ¨é…ç½®å‡å°‘äº†å¤§é‡çš„æ ·æ¿ä»£ç </li>
<li><strong>å¼ºå¤§çš„ç”Ÿæ€ç³»ç»Ÿ</strong>ï¼šé›†æˆäº†Springå…¨å®¶æ¡¶ï¼ˆSpring Dataã€Securityã€Cloudç­‰ï¼‰ï¼Œæä¾›äº†ä¼ä¸šçº§åº”ç”¨æ‰€éœ€çš„å…¨å¥—è§£å†³æ–¹æ¡ˆ</li>
<li><strong>ä¸°å¯Œçš„ç¬¬ä¸‰æ–¹é›†æˆ</strong>ï¼šå‡ ä¹æ‰€æœ‰å¸¸è§éœ€æ±‚éƒ½æœ‰æˆç†Ÿçš„Springé›†æˆæ–¹æ¡ˆ</li>
</ul>
<p>è¿™äº›ç‰¹æ€§ä½¿å¾—Spring Bootç‰¹åˆ«é€‚åˆ<strong>å¿«é€Ÿè¿­ä»£</strong>çš„ä¼ ç»Ÿä¼ä¸šçº§åº”ç”¨å¼€å‘ã€‚</p>
<h3 data-id="heading-6">2.2 Vert.xçš„å¼€å‘æ•ˆç‡ç‰¹ç‚¹</h3>
<p>Vert.xçš„å¼€å‘æ•ˆç‡ç‰¹ç‚¹æ›´ä¸ºå¤æ‚ï¼š</p>
<ul>
<li><strong>åˆæœŸå­¦ä¹ æ›²çº¿è¾ƒé™¡</strong>ï¼šå¼‚æ­¥ç¼–ç¨‹æ¨¡å‹éœ€è¦é€‚åº”æœŸ</li>
<li><strong>æ¨¡å—åŒ–è®¾è®¡</strong>ï¼šVert.xçš„ç»„ä»¶ä¸ºæ¾è€¦åˆï¼Œä¾¿äºå®šåˆ¶å’Œæ‰©å±•</li>
<li><strong>è½»é‡çº§</strong>ï¼šæ ¸å¿ƒåº“å°å·§çµæ´»ï¼Œæ— éœ€å¤æ‚é…ç½®å³å¯è¿è¡Œ</li>
</ul>
<p>ä¸€æ—¦å›¢é˜ŸæŒæ¡äº†å¼‚æ­¥ç¼–ç¨‹èŒƒå¼ï¼ŒVert.xåœ¨æ„å»º<strong>è½»é‡çº§å¾®æœåŠ¡</strong>å’Œ<strong>äº‘åŸç”Ÿåº”ç”¨</strong>æ—¶èƒ½æä¾›é«˜æ•ˆçš„å¼€å‘ä½“éªŒã€‚</p>
<h2 data-id="heading-7">ä¸‰ã€å­¦ä¹ æˆæœ¬æ·±åº¦è§£æ</h2>
<h3 data-id="heading-8">3.1 Springæ¡†æ¶çš„å­¦ä¹ æ›²çº¿</h3>
<p>Springè™½ç„¶åŠŸèƒ½å¼ºå¤§ï¼Œä½†å…¶<strong>æ¦‚å¿µå¤æ‚åº¦é«˜</strong>ï¼Œå­¦ä¹ æ›²çº¿é™¡å³­ã€‚æ–°æ‰‹éœ€è¦æŒæ¡ä¾èµ–æ³¨å…¥ã€é¢å‘åˆ‡é¢ç¼–ç¨‹ã€å„ç§é…ç½®æ–¹å¼ç­‰æ¦‚å¿µã€‚ç‰¹åˆ«æ˜¯åœ¨å¾®æœåŠ¡åœºæ™¯ä¸‹ï¼ŒSpringéœ€è¦å¼•å…¥å¤§é‡ç»„ä»¶ï¼ˆå¦‚æ³¨å†Œä¸­å¿ƒã€é…ç½®ä¸­å¿ƒç­‰ï¼‰ï¼Œå¢åŠ äº†å­¦ä¹ æˆæœ¬ã€‚</p>
<p>ä¸è¿‡ï¼ŒSpringæ‹¥æœ‰<strong>åºå¤§çš„ç¤¾åŒºæ”¯æŒ</strong>å’Œ<strong>ä¸°å¯Œçš„å­¦ä¹ èµ„æº</strong>ï¼Œè¿™åœ¨ä¸€å®šç¨‹åº¦ä¸Šé™ä½äº†å­¦ä¹ éš¾åº¦ã€‚</p>
<h3 data-id="heading-9">3.2 Vert.xçš„å­¦ä¹ æŒ‘æˆ˜</h3>
<p>Vert.xè¯ç”Ÿäºäº‘è®¡ç®—æ—¶ä»£ï¼Œè®¾è®¡ä¸Šæ›´åŠ ç®€æ´ï¼Œæ¦‚å¿µç²¾ç®€ã€‚ä½†å®ƒé¢ä¸´çš„æŒ‘æˆ˜åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>å¼‚æ­¥ç¼–ç¨‹æ€ç»´</strong>ï¼šéœ€è¦é€‚åº”å›è°ƒåœ°ç‹±ã€å¼‚æ­¥æµæ§åˆ¶ç­‰æ¦‚å¿µ</li>
<li><strong>è°ƒè¯•å›°éš¾</strong>ï¼šå¼‚æ­¥è°ƒç”¨é“¾ä½¿é—®é¢˜å®šä½å’Œè°ƒè¯•æ›´åŠ å¤æ‚</li>
<li><strong>ç”Ÿæ€ç›¸å¯¹è¾ƒå°</strong>ï¼šè™½ç„¶Vert.xç”Ÿæ€å·²è¦†ç›–Webå¼€å‘ã€æ•°æ®è®¿é—®ã€å¾®æœåŠ¡ç­‰é¢†åŸŸï¼Œä½†ç›¸æ¯”Springä»ä¸å¤Ÿæˆç†Ÿ</li>
</ul>
<h2 data-id="heading-10">å››ã€å›¢é˜Ÿé€‚é…æ€§è€ƒé‡</h2>
<h3 data-id="heading-11">4.1 å›¢é˜ŸæŠ€æœ¯èƒŒæ™¯çš„å½±å“</h3>
<p>å›¢é˜Ÿç°æœ‰æŠ€æœ¯æ ˆå¯¹æ¡†æ¶é€‰æ‹©æœ‰é‡è¦å½±å“ï¼š</p>
<ul>
<li><strong>ä¼ ç»ŸJavaå›¢é˜Ÿ</strong>ï¼šç†Ÿæ‚‰Springçš„å›¢é˜Ÿç»§ç»­ä½¿ç”¨Springé€šå¸¸æ•ˆç‡æ›´é«˜</li>
<li><strong>å…¨æ ˆæˆ–Node.jsèƒŒæ™¯å›¢é˜Ÿ</strong>ï¼šå¯¹äº‹ä»¶é©±åŠ¨æ¨¡å‹æœ‰ç»éªŒçš„å›¢é˜Ÿæ›´å®¹æ˜“ä¸Šæ‰‹Vert.x</li>
<li><strong>å¾®æœåŠ¡ä¸“é—¨å›¢é˜Ÿ</strong>ï¼šVert.xçš„è½»é‡æ€§å’Œé«˜æ€§èƒ½ä½¿å…¶åœ¨å¾®æœåŠ¡æ¶æ„ä¸­å…·æœ‰ä¼˜åŠ¿</li>
</ul>
<h3 data-id="heading-12">4.2 é¡¹ç›®ç±»å‹ä¸è§„æ¨¡è€ƒé‡</h3>
<ul>
<li><strong>å¤§å‹å¤æ‚ä¼ä¸šåº”ç”¨</strong>ï¼šSpringçš„å…¨é¢åŠŸèƒ½å’Œç¨³å®šæ€§æ›´é€‚åˆ</li>
<li><strong>é«˜å¹¶å‘ã€ä½å»¶è¿Ÿåº”ç”¨</strong>ï¼šVert.xçš„æ€§èƒ½ä¼˜åŠ¿æ˜æ˜¾</li>
<li><strong>åˆåˆ›é¡¹ç›®æˆ–åŸå‹å¼€å‘</strong>ï¼šSpring Bootçš„å¿«é€Ÿå¼€å‘èƒ½åŠ›æœ‰ä¼˜åŠ¿</li>
</ul>
<h2 data-id="heading-13">äº”ã€å®é™…åº”ç”¨ä¸­çš„é€‰æ‹©ç­–ç•¥</h2>
<h3 data-id="heading-14">5.1 æ··åˆä½¿ç”¨æ¨¡å¼</h3>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œå¯ä»¥è€ƒè™‘<strong>ç»“åˆä½¿ç”¨Vert.xå’ŒSpring</strong>ï¼Œå–é•¿è¡¥çŸ­ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// Spring Bootå¤„ç†ä¸šåŠ¡é€»è¾‘ï¼ŒVert.xå¤„ç†é«˜å¹¶å‘I/Oæ“ä½œ</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HybridService</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">BusinessService</span> businessService;
    
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">handleHighConcurrency</span>(<span class="hljs-params"/>) {
        vertx.<span class="hljs-title function_">executeBlocking</span>(promise -&gt; {
            <span class="hljs-comment">// ä½¿ç”¨Vert.xå¤„ç†é«˜å¹¶å‘I/O</span>
            <span class="hljs-title class_">Object</span> result = businessService.<span class="hljs-title function_">process</span>();
            promise.<span class="hljs-title function_">complete</span>(result);
        }, result -&gt; {
            <span class="hljs-comment">// å¤„ç†ç»“æœ</span>
        });
    }
}
</code></pre>
<h3 data-id="heading-15">5.2 æ¸è¿›å¼é‡‡ç”¨ç­–ç•¥</h3>
<p>å¯¹äºè€ƒè™‘è½¬å‘Vert.xçš„å›¢é˜Ÿï¼Œå¯ä»¥é‡‡ç”¨æ¸è¿›å¼ç­–ç•¥ï¼š</p>
<ol>
<li><strong>è¯•ç‚¹é¡¹ç›®</strong>ï¼šé€‰æ‹©éæ ¸å¿ƒä½†é«˜å¹¶å‘çš„æœåŠ¡ä½œä¸ºè¯•ç‚¹</li>
<li><strong>å›¢é˜ŸåŸ¹è®­</strong>ï¼šé€æ­¥åŸ¹å…»å›¢é˜Ÿçš„å¼‚æ­¥ç¼–ç¨‹èƒ½åŠ›</li>
<li><strong>æ··åˆæ¶æ„</strong>ï¼šåœ¨ç°æœ‰Springåº”ç”¨ä¸­é€æ­¥å¼•å…¥Vert.xç»„ä»¶</li>
</ol>
<h2 data-id="heading-16">å…­ã€æœªæ¥å‘å±•è¶‹åŠ¿</h2>
<h3 data-id="heading-17">6.1 å“åº”å¼ç¼–ç¨‹çš„å…´èµ·</h3>
<p>éšç€äº‘åŸç”Ÿå’Œå¾®æœåŠ¡æ¶æ„çš„æ™®åŠï¼Œå“åº”å¼ç¼–ç¨‹ç†å¿µæ­£åœ¨ä¸»æµåŒ–ã€‚Springä¹Ÿæ¨å‡ºäº†<strong>WebFlux</strong>ä½œä¸ºå“åº”å¼è§£å†³æ–¹æ¡ˆï¼Œè¿™åæ˜ äº†è¡Œä¸šå‘å¼‚æ­¥éé˜»å¡æ¨¡å¼å‘å±•çš„è¶‹åŠ¿ã€‚</p>
<h3 data-id="heading-18">6.2 å…±å­˜è€Œéå–ä»£</h3>
<p>Vert.xå’ŒSpringåœ¨æœªæ¥å¯èƒ½ä¼šæ˜¯<strong>å…±å­˜è€Œéå–ä»£</strong>çš„å…³ç³»ã€‚Springåœ¨ä¼ä¸šçº§åº”ç”¨å’Œä¼ ç»ŸWebå¼€å‘ä¸­ä¾ç„¶æœ‰å¼ºå¤§çš„ç”Ÿå‘½åŠ›ï¼Œè€ŒVert.xåˆ™åœ¨éœ€è¦é«˜å¹¶å‘å’Œä½å»¶è¿Ÿçš„åœºæ™¯ä¸­è¡¨ç°å‡ºè‰²ã€‚</p>
<h2 data-id="heading-19">ç»“è®ºï¼šå¹³è¡¡æ€§èƒ½ä¸å¼€å‘æ•ˆç‡</h2>
<p>Vert.xå’ŒSpringåœ¨å¼€å‘æ•ˆç‡å’Œå­¦ä¹ æˆæœ¬æ–¹é¢çš„å·®å¼‚ï¼Œåæ˜ äº†ä¸¤ç§ä¸åŒçš„è®¾è®¡å“²å­¦å’Œé€‚ç”¨åœºæ™¯ã€‚é€‰æ‹©æ¡†æ¶æ—¶ï¼Œå›¢é˜Ÿéœ€è¦ç»¼åˆè€ƒè™‘ï¼š</p>
<ol>
<li><strong>é¡¹ç›®éœ€æ±‚å’Œæ€§èƒ½è¦æ±‚</strong>ï¼šé«˜å¹¶å‘åœºæ™¯ä¼˜å…ˆè€ƒè™‘Vert.xï¼Œå¤æ‚ä¼ä¸šçº§åº”ç”¨å€¾å‘Spring</li>
<li><strong>å›¢é˜ŸæŠ€æœ¯èƒŒæ™¯</strong>ï¼šå›¢é˜Ÿå¯¹å¼‚æ­¥ç¼–ç¨‹çš„æ¥å—åº¦å’Œå­¦ä¹ èƒ½åŠ›</li>
<li><strong>é¡¹ç›®å‘¨æœŸå’Œèµ„æº</strong>ï¼šå¿«é€Ÿè¿­ä»£é¡¹ç›®å¯èƒ½æ›´é€‚åˆSpringï¼Œæ€§èƒ½æ•æ„Ÿå‹é¡¹ç›®å¯è€ƒè™‘Vert.x</li>
<li><strong>é•¿æœŸç»´æŠ¤è€ƒé‡</strong>ï¼šæ¡†æ¶çš„ç¨³å®šæ€§ã€ç”Ÿæ€æˆç†Ÿåº¦å’Œç¤¾åŒºæ”¯æŒ</li>
</ol>
<p>æœ€ç»ˆï¼Œæ²¡æœ‰ç»å¯¹çš„ä¼˜åŠ£ï¼Œåªæœ‰<strong>é€‚åˆç‰¹å®šåœºæ™¯å’Œå›¢é˜Ÿçš„é€‰æ‹©</strong>ã€‚æ˜æ™ºçš„åšæ³•æ˜¯æ ¹æ®å…·ä½“éœ€æ±‚ï¼Œå¯èƒ½ç”šè‡³ç»“åˆä¸¤è€…ä¼˜åŠ¿ï¼Œæ„å»ºæœ€é€‚åˆçš„æŠ€æœ¯æ ˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[LangChainå­¦ä¹ ï¼šMemoryå®æˆ˜â€”â€”è®©ä½ çš„å¤§æ¨¡å‹è®°ä½ä½ ]]></title>    <link>https://juejin.cn/post/7588084804093460518</link>    <guid>https://juejin.cn/post/7588084804093460518</guid>    <pubDate>2025-12-27T14:35:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588084804093460518" data-draft-id="7587779957675327539" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="LangChainå­¦ä¹ ï¼šMemoryå®æˆ˜â€”â€”è®©ä½ çš„å¤§æ¨¡å‹è®°ä½ä½ "/> <meta itemprop="keywords" content="å‰ç«¯,LangChain,JavaScript"/> <meta itemprop="datePublished" content="2025-12-27T14:35:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å—å±±å®‰"/> <meta itemprop="url" content="https://juejin.cn/user/1795929588117962"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            LangChainå­¦ä¹ ï¼šMemoryå®æˆ˜â€”â€”è®©ä½ çš„å¤§æ¨¡å‹è®°ä½ä½ 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1795929588117962/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å—å±±å®‰
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T14:35:01.000Z" title="Sat Dec 27 2025 14:35:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>æœ€è¿‘åœ¨ç ”ç©¶æ€ä¹ˆè®©å¤§æ¨¡å‹çœŸæ­£â€œè®°ä½â€ç”¨æˆ·è¯´è¿‡çš„è¯ï¼Œè€Œä¸æ˜¯æ¯æ¬¡å¯¹è¯éƒ½åƒå¤±å¿†äº†ä¸€æ ·ä»å¤´æ¥è¿‡ä»Šå¤©å°±æŠŠæˆ‘çš„å­¦ä¹ ç¬”è®°ã€ä»£ç ç¤ºä¾‹ã€è¸©å‘å¿ƒå¾—å…¨éƒ¨æ•´åˆèµ·æ¥ï¼Œå†™æˆè¿™ç¯‡è¶…è¯¦ç»†çš„å®æˆ˜æŒ‡å—ã€‚</p>
<p>è¿™ç¯‡æ–‡ç« çš„ç›®æ ‡å¾ˆç®€å•ï¼šè®©ä½ çœ‹å®Œå°±èƒ½ä¸Šæ‰‹ï¼Œåœ¨è‡ªå·±çš„é¡¹ç›®é‡Œå¿«é€ŸåŠ ä¸Šâ€œè®°å¿†â€åŠŸèƒ½ã€‚å’±ä»¬ä»æœ€åŸºç¡€çš„æ— çŠ¶æ€è°ƒç”¨å¼€å§‹ï¼Œä¸€æ­¥æ­¥æ·±å…¥åˆ°å¤šè½®å¯¹è¯ã€Token æ§åˆ¶ã€å¤šç”¨æˆ·åœºæ™¯ã€æŒä¹…åŒ–å­˜å‚¨ï¼Œæœ€åå†èŠèŠç”Ÿäº§ç¯å¢ƒçš„æœ€ä½³å®è·µã€‚</p>
<h2 data-id="heading-1">ä¸€ã€ä¸ºä»€ä¹ˆ LLM é»˜è®¤æ²¡æœ‰è®°å¿†ï¼Ÿ</h2>
<p>æ‰€æœ‰å¤§æ¨¡å‹çš„ API è°ƒç”¨ï¼ˆOpenAIã€DeepSeekã€Claudeã€Gemini ç­‰ï¼‰æœ¬è´¨ä¸Šéƒ½æ˜¯<strong>æ— çŠ¶æ€</strong>çš„ã€‚æ¯æ¬¡è¯·æ±‚éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œæ¨¡å‹å®Œå…¨ä¸çŸ¥é“ä½ ä¸Šä¸€æ¬¡è¯´äº†ä»€ä¹ˆã€‚</p>
<p>æ¥çœ‹ä¸€ä¸ªæœ€ç®€å•çš„ä¾‹å­ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ChatDeepSeek</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@langchain/deepseek"</span>;


<span class="hljs-keyword">const</span> model = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ChatDeepSeek</span>({
  <span class="hljs-attr">model</span>: <span class="hljs-string">"deepseek-chat"</span>,
  <span class="hljs-attr">temperature</span>: <span class="hljs-number">0</span>,
});

<span class="hljs-keyword">const</span> res1 = <span class="hljs-keyword">await</span> model.<span class="hljs-title function_">invoke</span>(<span class="hljs-string">"æˆ‘å«åé«˜ä¿Šï¼Œå–œæ¬¢æ‰“å’Œå¹³ç²¾è‹±"</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res1.<span class="hljs-property">content</span>);  <span class="hljs-comment">// æ­£å¸¸å›å¤</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'///////'</span>)
<span class="hljs-keyword">const</span> res2 = <span class="hljs-keyword">await</span> model.<span class="hljs-title function_">invoke</span>(<span class="hljs-string">"æˆ‘å«ä»€ä¹ˆåå­—ï¼Ÿ"</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res2.<span class="hljs-property">content</span>);  <span class="hljs-comment">// æ¨¡å‹ï¼šï¼Ÿï¼Ÿï¼Ÿæˆ‘ä¸çŸ¥é“å•Š...</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d212d55d5c5b4b22aa7a1bfcfd8948c1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5bGx5a6J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767450901&amp;x-signature=RHthXGfUjqMrzaPn7tlBwDlNwNc%3D" alt="image.png" loading="lazy"/></p>
<p>ç¬¬äºŒæ¬¡é—®åå­—ï¼Œæ¨¡å‹ç›´æ¥æ‡µäº†ã€‚å› ä¸ºä¸¤æ¬¡è°ƒç”¨ä¹‹é—´æ²¡æœ‰ä»»ä½•å…³è”ã€‚</p>
<p>è¦è®©æ¨¡å‹æœ‰è®°å¿†ï¼Œæœ€åŸå§‹çš„åŠæ³•å°±æ˜¯æ‰‹åŠ¨ç»´æŠ¤ä¸€ä¸ªæ¶ˆæ¯åˆ—è¡¨ï¼Œæ¯æ¬¡è°ƒç”¨éƒ½æŠŠå†å²å¸¦ä¸Šï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">let</span> messages = [
  { <span class="hljs-attr">role</span>: <span class="hljs-string">"user"</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"æˆ‘å«åé«˜ä¿Šï¼Œå–œæ¬¢æ‰“å’Œå¹³ç²¾è‹±"</span> },
  { <span class="hljs-attr">role</span>: <span class="hljs-string">"assistant"</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"å¥½çš„ï¼Œæˆ‘è®°ä½äº†ï¼"</span> },
  { <span class="hljs-attr">role</span>: <span class="hljs-string">"user"</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"æˆ‘å«ä»€ä¹ˆåå­—ï¼Ÿ"</span> }
];

<span class="hljs-keyword">await</span> model.<span class="hljs-title function_">invoke</span>(messages);
</code></pre>
<p>çŸ­æœŸçœ‹æ²¡é—®é¢˜ï¼Œä½†å¯¹è¯è½®æ•°ä¸€å¤šï¼Œè¿™ä¸ªåˆ—è¡¨å°±ä¼šåƒæ»šé›ªçƒä¸€æ ·è¶Šæ¥è¶Šå¤§ï¼Œå¯¼è‡´ï¼š</p>
<ul>
<li>Token æ¶ˆè€—æš´æ¶¨ï¼Œæˆæœ¬é«˜</li>
<li>å®¹æ˜“è¶…å‡ºæ¨¡å‹ä¸Šä¸‹æ–‡çª—å£ï¼ˆæ¯”å¦‚ 128k token ä¸Šé™ï¼‰</li>
<li>Prompt ç»“æ„å®¹æ˜“å†™ä¹±</li>
</ul>
<p>LangChain çš„ Memory æ¨¡å—å°±æ˜¯ä¸ºäº†ä¼˜é›…åœ°è§£å†³è¿™ä¸ªé—®é¢˜è€Œç”Ÿçš„ã€‚</p>
<h2 data-id="heading-2">äºŒã€Memory çš„æ ¸å¿ƒï¼šRunnableWithMessageHistory</h2>
<p>åœ¨ç°ä»£ LangChain JSï¼ˆåŸºäº LCEL æ¶æ„ï¼‰é‡Œï¼Œå®ç°è®°å¿†æœ€æ¨èçš„æ–¹å¼æ˜¯ä½¿ç”¨ RunnableWithMessageHistoryã€‚å®ƒèƒ½è‡ªåŠ¨å®Œæˆï¼š</p>
<ol>
<li>æ ¹æ®ä¼šè¯ ID åŠ è½½å†å²æ¶ˆæ¯</li>
<li>æŠŠå†å²æ³¨å…¥åˆ° Prompt çš„ {history} å ä½ç¬¦</li>
<li>è°ƒç”¨æ¨¡å‹</li>
<li>æŠŠæœ¬æ¬¡ç”¨æˆ·è¾“å…¥å’Œæ¨¡å‹å›å¤è‡ªåŠ¨ä¿å­˜å›å†å²</li>
</ol>
<p>æ ¸å¿ƒä»£ç é•¿è¿™æ ·ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ChatPromptTemplate</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@langchain/core/prompts"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">RunnableWithMessageHistory</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@langchain/core/runnables"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">InMemoryChatMessageHistory</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@langchain/core/chat_history"</span>;

<span class="hljs-keyword">const</span> prompt = <span class="hljs-title class_">ChatPromptTemplate</span>.<span class="hljs-title function_">fromMessages</span>([
  [<span class="hljs-string">"system"</span>, <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªæœ‰è®°å¿†çš„åŠ©æ‰‹ï¼Œç”¨ä¸­æ–‡å‹å¥½å›å¤ã€‚"</span>],
  [<span class="hljs-string">"placeholder"</span>, <span class="hljs-string">"{history}"</span>],  <span class="hljs-comment">// å†å²æ¶ˆæ¯æ³¨å…¥ç‚¹</span>
  [<span class="hljs-string">"human"</span>, <span class="hljs-string">"{input}"</span>],         <span class="hljs-comment">// å½“å‰ç”¨æˆ·è¾“å…¥</span>
]);

<span class="hljs-keyword">const</span> chain = prompt.<span class="hljs-title function_">pipe</span>(model);

<span class="hljs-comment">// å¤šç”¨æˆ·å­˜å‚¨ï¼ˆç”Ÿäº§å¿…å¤‡ï¼‰</span>
<span class="hljs-keyword">const</span> messageHistories = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>&lt;string, <span class="hljs-title class_">InMemoryChatMessageHistory</span>&gt;();

<span class="hljs-keyword">const</span> chainWithHistory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RunnableWithMessageHistory</span>({
  <span class="hljs-attr">runnable</span>: chain,
  <span class="hljs-attr">getMessageHistory</span>: <span class="hljs-keyword">async</span> (sessionId) =&gt; {
    <span class="hljs-keyword">if</span> (!messageHistories.<span class="hljs-title function_">has</span>(sessionId)) {
      messageHistories.<span class="hljs-title function_">set</span>(sessionId, <span class="hljs-keyword">new</span> <span class="hljs-title class_">InMemoryChatMessageHistory</span>());
    }
    <span class="hljs-keyword">return</span> messageHistories.<span class="hljs-title function_">get</span>(sessionId)!;
  },
  <span class="hljs-attr">inputMessagesKey</span>: <span class="hljs-string">"input"</span>,     <span class="hljs-comment">// è¾“å…¥å¯¹è±¡ä¸­çš„é”®å</span>
  <span class="hljs-attr">historyMessagesKey</span>: <span class="hljs-string">"history"</span>, <span class="hljs-comment">// prompt ä¸­çš„å ä½ç¬¦é”®å</span>
});
</code></pre>
<p>è°ƒç”¨æ–¹å¼ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">await</span> chainWithHistory.<span class="hljs-title function_">invoke</span>(
  { <span class="hljs-attr">input</span>: <span class="hljs-string">"æˆ‘å«åé«˜ä¿Šï¼Œå–œæ¬¢æ‰“å’Œå¹³ç²¾è‹±"</span> },
  { <span class="hljs-attr">configurable</span>: { <span class="hljs-attr">sessionId</span>: <span class="hljs-string">"user-001"</span> } }
);

<span class="hljs-keyword">await</span> chainWithHistory.<span class="hljs-title function_">invoke</span>(
  { <span class="hljs-attr">input</span>: <span class="hljs-string">"æˆ‘æ˜¯ï¼Ÿ"</span> },
  { <span class="hljs-attr">configurable</span>: { <span class="hljs-attr">sessionId</span>: <span class="hljs-string">"user-001"</span> } }  <span class="hljs-comment">// ç›¸åŒ sessionId æ‰æœ‰è®°å¿†</span>
);
</code></pre>
<p>ç¬¬äºŒæ¬¡è°ƒç”¨æ—¶ï¼Œæ¨¡å‹å°±èƒ½æ­£ç¡®å›ç­”â€œåé«˜ä¿Šâ€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5dbb5c30e39443bd939070866a4a9370~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5bGx5a6J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767450901&amp;x-signature=PUl01aucZJ7IwahBOZGymWHk2Q4%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-3">ä¸‰ã€å®Œæ•´è°ƒç”¨æµç¨‹æ·±åº¦æ‹†è§£</h2>
<p>å¾ˆå¤šæ–°æ‰‹ï¼ˆåŒ…æ‹¬æ›¾ç»çš„æˆ‘ï¼‰çœ‹åˆ°ä»£ç èƒ½è·‘ï¼Œä½†ä¸æ¸…æ¥šå†…éƒ¨åˆ°åº•æ˜¯æ€ä¹ˆå·¥ä½œçš„ã€‚ä¸‹é¢æŠŠä¸€æ¬¡ invoke çš„å®Œæ•´æµç¨‹æ‹†å¼€æ¥è¯´ï¼š</p>
<ol>
<li>
<p><strong>æ¥æ”¶è¾“å…¥å’Œ sessionId</strong> ä½ è°ƒç”¨ chainWithHistory.invoke({ input: "..." }, { configurable: { sessionId: "xxx" } })</p>
</li>
<li>
<p><strong>è·å–å¯¹åº”ä¼šè¯çš„å†å²å®ä¾‹</strong> è°ƒç”¨ä½ æä¾›çš„ getMessageHistory("xxx")ï¼Œè¿”å›ä¸€ä¸ª BaseChatMessageHistory å®ä¾‹ï¼ˆæ¯”å¦‚ InMemoryChatMessageHistoryï¼‰</p>
</li>
<li>
<p><strong>è¯»å–å†å²æ¶ˆæ¯</strong> è‡ªåŠ¨æ‰§è¡Œ await history.getMessages()ï¼Œå¾—åˆ°æ‰€æœ‰ä¹‹å‰çš„æ¶ˆæ¯æ•°ç»„</p>
</li>
<li>
<p><strong>æ„é€ å®Œæ•´è¾“å…¥å¯¹è±¡</strong></p>
<pre><code class="hljs language-JavaScript" lang="JavaScript">{
  <span class="hljs-attr">history</span>: [æ‰€æœ‰æ—§æ¶ˆæ¯],
  <span class="hljs-attr">input</span>: <span class="hljs-string">"å½“å‰ç”¨æˆ·è¾“å…¥"</span>
}
</code></pre>
</li>
<li>
<p><strong>æ¸²æŸ“ Prompt</strong></p>
<ul>
<li>{history} è¢«æ›¿æ¢æˆå®Œæ•´çš„å†å²æ¶ˆæ¯åˆ—è¡¨</li>
<li>{input} è¢«æ›¿æ¢æˆæœ¬æ¬¡ç”¨æˆ·è¾“å…¥ï¼ˆä½œä¸º HumanMessageï¼‰</li>
<li>æœ€ç»ˆå½¢æˆä¸€ä¸ªå®Œæ•´çš„ messages æ•°ç»„ä¼ ç»™æ¨¡å‹</li>
</ul>
</li>
<li>
<p><strong>è°ƒç”¨æ¨¡å‹å¾—åˆ°å›å¤</strong></p>
</li>
<li>
<p><strong>è‡ªåŠ¨ä¿å­˜æœ¬æ¬¡å¯¹è¯</strong>ï¼ˆå…³é”®ï¼ï¼‰ RunnableWithMessageHistory ä¼šè‡ªåŠ¨ï¼š</p>
<ul>
<li>history.addMessage(new HumanMessage(æœ¬æ¬¡è¾“å…¥))</li>
<li>history.addMessage(new AIMessage(æ¨¡å‹å›å¤))</li>
</ul>
</li>
<li>
<p><strong>è¿”å›æ¨¡å‹å›å¤</strong></p>
</li>
</ol>
<p>æ•´ä¸ªè¿‡ç¨‹é™¤äº†æä¾› getMessageHistory å¤–ï¼Œå…¶ä»–å…¨æ˜¯è‡ªåŠ¨çš„ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¯´å®ƒâ€œä¼˜é›…â€çš„åŸå› ã€‚</p>
<h2 data-id="heading-4">å››ã€å…³é”®ç»„ä»¶é€ä¸ªè¯¦è§£</h2>
<h3 data-id="heading-5">1. ChatPromptTemplate.fromMessages</h3>
<p>è¿™æ˜¯æ„å»ºèŠå¤© Prompt çš„é¦–é€‰æ–¹å¼ï¼Œå†™æ³•ç›´è§‚ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-title class_">ChatPromptTemplate</span>.<span class="hljs-title function_">fromMessages</span>([
  [<span class="hljs-string">"system"</span>, <span class="hljs-string">"ç³»ç»Ÿæç¤º"</span>],
  [<span class="hljs-string">"placeholder"</span>, <span class="hljs-string">"{history}"</span>],  <span class="hljs-comment">// å¿…é¡»å’Œ historyMessagesKey ä¸€è‡´</span>
  [<span class="hljs-string">"human"</span>, <span class="hljs-string">"{input}"</span>],          <span class="hljs-comment">// å¿…é¡»å’Œ inputMessagesKey ä¸€è‡´</span>
]);
</code></pre>
<p>æ”¯æŒçš„ role æœ‰ï¼šsystemã€humanã€aiã€placeholderã€‚è¿˜å¯ä»¥æ’å…¥ few-shot ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript">[
  [<span class="hljs-string">"human"</span>, <span class="hljs-string">"ä½ æ˜¯è°ï¼Ÿ"</span>],
  [<span class="hljs-string">"ai"</span>, <span class="hljs-string">"æˆ‘æ˜¯åé«˜ä¿Šçš„ç§äººåŠ©æ‰‹ã€‚"</span>],
  [<span class="hljs-string">"human"</span>, <span class="hljs-string">"{input}"</span>]
]
</code></pre>
<h3 data-id="heading-6">2. InMemoryChatMessageHistory</h3>
<p>æœ€ç®€å•çš„å†…å­˜å­˜å‚¨ç±»ï¼Œå†…éƒ¨å°±æ˜¯ä¸€ä¸ª messages: BaseMessage[] æ•°ç»„ã€‚</p>
<ul>
<li>ä¼˜ç‚¹ï¼šç®€å•ã€å¿«é€Ÿã€é€‚åˆæœ¬åœ°æµ‹è¯•å’Œè°ƒè¯•</li>
<li>ç¼ºç‚¹ï¼šè¿›ç¨‹é‡å¯å°±ä¸¢å¤±ã€ä¸æ”¯æŒå¤šå®ä¾‹å…±äº«</li>
</ul>
<p>æ„é€ å‡½æ•°æ”¯æŒé¢„åŠ è½½ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">new</span> <span class="hljs-title class_">InMemoryChatMessageHistory</span>([
  <span class="hljs-keyword">new</span> <span class="hljs-title class_">HumanMessage</span>(<span class="hljs-string">"æ—§æ¶ˆæ¯"</span>),
  <span class="hljs-keyword">new</span> <span class="hljs-title class_">AIMessage</span>(<span class="hljs-string">"æ—§å›å¤"</span>)
]);
</code></pre>
<p>æ‰‹åŠ¨æ“ä½œæ–¹æ³•ï¼š</p>
<ul>
<li>await history.getMessages() è·å–</li>
<li>await history.addMessage(msg) æ·»åŠ </li>
<li>await history.clear() æ¸…ç©ºï¼ˆæ¯”å¦‚ç”¨æˆ·ç‚¹â€œæ–°å¯¹è¯â€ï¼‰</li>
</ul>
<h3 data-id="heading-7">3. sessionId çš„é‡è¦æ€§</h3>
<p>å¦‚æœä½ åƒè¿™æ ·å†™ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-attr">getMessageHistory</span>: <span class="hljs-keyword">async</span> () =&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">InMemoryChatMessageHistory</span>()
</code></pre>
<p>é‚£æ‰€æœ‰ç”¨æˆ·éƒ½ä¼šå…±äº«åŒä¸€ä¸ªå†å²ï¼ä¸Šçº¿åç”¨æˆ·Açœ‹åˆ°ç”¨æˆ·Bçš„èŠå¤©è®°å½•ï¼Œç¾éš¾ã€‚</p>
<p>å¿…é¡»ç”¨ Map/Set æˆ–æ•°æ®åº“æŒ‰ sessionIdï¼ˆé€šå¸¸æ˜¯ç”¨æˆ·ID + è®¾å¤‡IDï¼‰éš”ç¦»ã€‚</p>
<h2 data-id="heading-8">äº”ã€Token çˆ†ç‚¸æ€ä¹ˆåŠï¼Ÿé«˜çº§ Memory ç­–ç•¥</h2>
<p>å…¨é‡ä¿å­˜å†å²ï¼ˆBuffer é£æ ¼ï¼‰ç®€å•ï¼Œä½†å¯¹è¯é•¿äº† Token å¾ˆå®¹æ˜“çˆ†ã€‚LangChain æä¾›äº†å¤šç§æ§åˆ¶ç­–ç•¥ï¼š</p>
<ol>
<li>
<p><strong>çª—å£è®°å¿†ï¼ˆWindowï¼‰</strong> åªä¿ç•™æœ€è¿‘ N è½®å¯¹è¯ã€‚å®ç°æ–¹å¼ï¼šåœ¨ getMessageHistory ä¸­ sliceï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">const</span> all = <span class="hljs-keyword">await</span> baseHistory.<span class="hljs-title function_">getMessages</span>();
<span class="hljs-keyword">return</span> all.<span class="hljs-title function_">slice</span>(-maxTurns * <span class="hljs-number">2</span>);  <span class="hljs-comment">// æ¯è½®ä¸¤å¥</span>
</code></pre>
</li>
<li>
<p><strong>æ‘˜è¦è®°å¿†ï¼ˆSummaryï¼‰</strong> ç”¨ LLM æŠŠæ—§å¯¹è¯å‹ç¼©æˆæ‘˜è¦ï¼Œä¿ç•™å…³é”®ä¿¡æ¯ä¸ä¸¢å¤±ç»†èŠ‚ã€‚</p>
</li>
<li>
<p><strong>æ··åˆæ‘˜è¦ç¼“å†²ï¼ˆSummary Bufferï¼‰</strong> æœ€è¿‘å‡ è½®ä¿ç•™åŸæ–‡ï¼Œæ—§çš„ç”¨æ‘˜è¦æ›¿æ¢ã€‚æœ€æ¨èçš„ç”Ÿäº§æ–¹æ¡ˆã€‚</p>
<p>LangChain JS æœ‰ç°æˆå®ç°ï¼ˆæ—§ç‰ˆ Memory ç±»ï¼‰ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ConversationSummaryBufferMemory</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"langchain/memory"</span>;

<span class="hljs-keyword">const</span> memory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConversationSummaryBufferMemory</span>({
  <span class="hljs-attr">llm</span>: model,
  <span class="hljs-attr">maxTokenLimit</span>: <span class="hljs-number">1000</span>,  <span class="hljs-comment">// è¶…è¿‡å°±æ‘˜è¦æ—§éƒ¨åˆ†</span>
});
</code></pre>
<p>æ–°ç‰ˆ LCEL ä¹Ÿå¯ä»¥é€šè¿‡è‡ªå®šä¹‰ getMessageHistory å®ç°ç±»ä¼¼é€»è¾‘ã€‚</p>
</li>
</ol>
<h2 data-id="heading-9">å…­ã€ç”Ÿäº§ç¯å¢ƒå¿…å¤‡ï¼šæŒä¹…åŒ–å­˜å‚¨</h2>
<p>InMemory åªèƒ½ç”¨äºå¼€å‘æµ‹è¯•ï¼Œä¸Šçº¿å¿…é¡»æ¢æŒä¹…åŒ–å®ç°ï¼š</p>






























<table><thead><tr><th>å­˜å‚¨</th><th>åŒ…</th><th>åœºæ™¯</th></tr></thead><tbody><tr><td>Upstash Redis</td><td>@langchain/upstash</td><td>Serverlessï¼ˆå¦‚ Vercelï¼‰é¦–é€‰</td></tr><tr><td>Redis</td><td>@langchain/redis</td><td>é«˜æ€§èƒ½ä¼ ç»ŸæœåŠ¡</td></tr><tr><td>MongoDB</td><td>@langchain/mongodb</td><td>éœ€è¦å¤æ‚æŸ¥è¯¢</td></tr><tr><td>Postgres</td><td>@langchain/community</td><td>å·²æœ‰ SQL ç”Ÿæ€</td></tr></tbody></table>
<p>æ›¿æ¢æ–¹å¼åªéœ€æ”¹ getMessageHistory è¿”å›å¯¹åº”ç±»å³å¯ï¼Œå…¶ä»–ä»£ç ä¸åŠ¨ã€‚</p>
<h2 data-id="heading-10">ä¸ƒã€å®é™…é¡¹ç›®ä¸­çš„æœ€ä½³å®è·µ</h2>
<ol>
<li><strong>å¤šç”¨æˆ·å¿…ç”¨ sessionId</strong>ï¼Œå»ºè®®æ ¼å¼ï¼šuser:<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>u</mi><mi>s</mi><mi>e</mi><mi>r</mi><mi>I</mi><mi>d</mi></mrow><mo>:</mo><mi>c</mi><mi>h</mi><mi>a</mi><mi>t</mi><mo>:</mo></mrow><annotation encoding="application/x-tex">{userId}:chat:</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord"><span class="mord mathnormal">u</span><span class="mord mathnormal" style="margin-right:0.02778em;">ser</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">d</span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal">c</span><span class="mord mathnormal">ha</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">:</span></span></span></span></span>{chatId}</li>
<li><strong>æä¾›â€œæ¸…é™¤å¯¹è¯â€åŠŸèƒ½</strong>ï¼šæ‰‹åŠ¨è°ƒç”¨ history.clear()</li>
<li><strong>ç›‘æ§ Token ä½¿ç”¨</strong>ï¼šç”¨ LangSmith æˆ–è‡ªå·±ç»Ÿè®¡ï¼ŒåŠæ—¶è§¦å‘æ‘˜è¦</li>
<li><strong>ç»“åˆ RAG</strong>ï¼šMemory å­˜å¯¹è¯å†å²ï¼ŒVectorStore å­˜çŸ¥è¯†åº“ï¼ŒèŒè´£åˆ†å¼€</li>
<li><strong>é”™è¯¯å¤„ç†</strong>ï¼šæ¨¡å‹è°ƒç”¨å¤±è´¥æ—¶ä¸è¦ä¿å­˜æœ¬æ¬¡æ¶ˆæ¯ï¼Œé¿å…è„æ•°æ®</li>
<li><strong>é¢„åŠ è½½å†å²</strong>ï¼šç”¨æˆ·é‡æ–°æ‰“å¼€æ—§å¯¹è¯æ—¶ï¼Œä»æ•°æ®åº“åŠ è½½å addMessages</li>
</ol>
<h2 data-id="heading-11">å…«ã€æ€»ç»“</h2>
<p>LangChain çš„ Memory æ¨¡å—æœ¬è´¨ä¸Šå°±æ˜¯å¸®ä½ è‡ªåŠ¨åŒ–äº†â€œè¯»å†å² â†’ å‘æ¨¡å‹ â†’ å­˜æ–°æ¶ˆæ¯â€è¿™ä¸ªå¾ªç¯ã€‚æ ¸å¿ƒåªæœ‰ä¸‰ä»¶äº‹ï¼š</p>
<ul>
<li>ç”¨ ChatPromptTemplate.fromMessages å†™å¥½å¸¦ {history} å’Œ {input} çš„æ¨¡æ¿</li>
<li>ç”¨ RunnableWithMessageHistory åŒ…è£… chain</li>
<li>æä¾›å¯é çš„ getMessageHistoryï¼ˆå¼€å‘ç”¨ InMemoryï¼Œä¸Šçº¿ç”¨ Redis ç­‰ï¼‰</li>
</ul>
<p>æŒæ¡äº†è¿™å¥—æµç¨‹ï¼Œä½ å°±èƒ½è½»æ¾åšå‡ºå„ç§æœ‰è®°å¿†çš„èŠå¤©åº”ç”¨ï¼šå®¢æœæœºå™¨äººã€ä¸ªäººåŠ©æ‰‹ã€å†™ä½œæ­æ¡£ã€è§’è‰²æ‰®æ¼”â€¦â€¦</p>
<p>ä»æˆ‘æœ€åˆçš„â€œæ‰‹åŠ¨æ»šé›ªçƒâ€æ¶ˆæ¯åˆ—è¡¨ï¼Œåˆ°ç°åœ¨å‡ è¡Œä»£ç å°±æå®šå¤šç”¨æˆ·æŒä¹…åŒ–è®°å¿†ï¼ŒLangChain ç¡®å®çœäº†å¾ˆå¤šå¿ƒã€‚å¸Œæœ›è¿™ç¯‡å¹²è´§èƒ½å¸®ä½ åœ¨é¡¹ç›®é‡Œå¿«é€Ÿè½åœ°ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¼ ç»Ÿå·¥å…·è°ƒç”¨å¤ªç—›è‹¦ï¼ŸLangChain ä¸€é”®æ‰“é€š LLM ä¸çœŸå®ä¸–ç•Œ]]></title>    <link>https://juejin.cn/post/7588191506606080006</link>    <guid>https://juejin.cn/post/7588191506606080006</guid>    <pubDate>2025-12-27T14:57:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588191506606080006" data-draft-id="7588149079417126966" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¼ ç»Ÿå·¥å…·è°ƒç”¨å¤ªç—›è‹¦ï¼ŸLangChain ä¸€é”®æ‰“é€š LLM ä¸çœŸå®ä¸–ç•Œ"/> <meta itemprop="keywords" content="LangChain,LLM,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-27T14:57:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="xhxxx"/> <meta itemprop="url" content="https://juejin.cn/user/3235201610941578"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¼ ç»Ÿå·¥å…·è°ƒç”¨å¤ªç—›è‹¦ï¼ŸLangChain ä¸€é”®æ‰“é€š LLM ä¸çœŸå®ä¸–ç•Œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3235201610941578/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    xhxxx
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T14:57:50.000Z" title="Sat Dec 27 2025 14:57:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¤§æ¨¡å‹æƒ³â€œå¹²æ´»â€ï¼Œä½†å¾—é ä½ åŠ¨æ‰‹ï¼šLangChain å·¥å…·è°ƒç”¨è¯¦è§£</h2>
<blockquote>
<p><strong>å¤§è¯­è¨€æ¨¡å‹èƒ½å‘Šè¯‰ä½ â€œè¯¥æŸ¥åŒ—äº¬å¤©æ°”â€ï¼Œå´æ— æ³•è‡ªå·±æ‰“å¼€ APIã€‚å®ƒåªè´Ÿè´£â€œæƒ³â€ï¼Œä½ è´Ÿè´£â€œåšâ€â€”â€”è€Œ LangChain è®©è¿™ä¸ªåä½œå˜å¾—ä¼˜é›…åˆå®‰å…¨ã€‚</strong></p>
</blockquote>
<p>åœ¨æ„å»ºæ™ºèƒ½åº”ç”¨æ—¶ï¼Œæˆ‘ä»¬å¸¸å¸Œæœ›å¤§æ¨¡å‹ä¸ä»…èƒ½èŠå¤©ï¼Œè¿˜èƒ½<strong>æ‰§è¡ŒçœŸå®æ“ä½œ</strong>ï¼šæŸ¥å¤©æ°”ã€ç®—æ•°å­¦ã€æŸ¥æ•°æ®åº“â€¦â€¦<br/>
ä½† LLM æœ¬èº«åªæ˜¯ä¸€ä¸ª<strong>æ–‡æœ¬ç”Ÿæˆå™¨</strong>ï¼Œæ²¡æœ‰è®¿é—®å¤–éƒ¨ç³»ç»Ÿçš„èƒ½åŠ›ã€‚äºæ˜¯ï¼Œâ€œå·¥å…·è°ƒç”¨â€ï¼ˆTool Callingï¼‰æˆä¸ºè¿æ¥â€œæƒ³æ³•â€ä¸â€œè¡ŒåŠ¨â€çš„æ¡¥æ¢ã€‚</p>
<p>æœ¬æ–‡å°†å…ˆç®€è¦å¯¹æ¯”<strong>ä¼ ç»Ÿæ‰‹å†™å·¥å…·è°ƒåº¦</strong>çš„ç¹çä¹‹å¤„ï¼Œå†æ·±å…¥è§£æä½ ä»£ç ä¸­ <strong>LangChain çš„å·¥å…·è°ƒç”¨å®ç°</strong>ï¼Œæ­ç¤ºå…¶å¦‚ä½•é€šè¿‡å£°æ˜å¼è®¾è®¡å¤§å¹…é™ä½å¤æ‚åº¦ã€‚</p>
<hr/>
<h3 data-id="heading-1">ğŸ§± ä¼ ç»Ÿæ–¹å¼ï¼šæ‰‹å†™è°ƒåº¦çš„å¤æ‚æ€§</h3>
<p>åœ¨æ²¡æœ‰æ¡†æ¶æ”¯æŒçš„æ—¶ä»£ï¼Œå¼€å‘è€…éœ€è¦<strong>æ‰‹åŠ¨å®Œæˆä»æ„å›¾è¯†åˆ«åˆ°å‡½æ•°è°ƒç”¨çš„å…¨è¿‡ç¨‹</strong>â€”â€”å°±åƒä¸€ä¸ªæ—¢å½“æŒ‡æŒ¥å®˜ã€åˆå½“ç¿»è¯‘ã€è¿˜å¾—äº²è‡ªè·‘è…¿çš„å…¨èƒ½æ‚å·¥ã€‚</p>
<h4 data-id="heading-2">1. åˆ†æ•£æ— è§„èŒƒçš„å·¥å…·å®šä¹‰</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å·¥å…·å‡½æ•°å„è‡ªç‹¬ç«‹å®šä¹‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getWeather</span>(<span class="hljs-params">city</span>) {
  <span class="hljs-comment">// ...æŸ¥å¤©æ°”é€»è¾‘</span>
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a, b</span>) {
  <span class="hljs-keyword">return</span> a + b;
}
</code></pre>
<p>é—®é¢˜æ˜¾è€Œæ˜“è§ï¼š</p>
<ul>
<li>æ²¡æœ‰ç»Ÿä¸€æ¥å£ï¼›</li>
<li>å‚æ•°æ ¼å¼éšæ„ï¼ˆæœ‰çš„ç”¨å­—ç¬¦ä¸²ï¼Œæœ‰çš„ç”¨æ•°å­—ï¼‰ï¼›</li>
<li>æ›´å…³é”®çš„æ˜¯ï¼š<strong>æ¨¡å‹æ ¹æœ¬ä¸çŸ¥é“è¿™äº›å‡½æ•°å­˜åœ¨</strong>ã€‚</li>
</ul>
<blockquote>
<p>ğŸ’¡ è¿™å°±åƒä½ æœ‰ä¸€å †ä¸“ä¸šå·¥å…·ï¼ˆæ‰³æ‰‹ã€ç”µé’»ã€æ¸©åº¦è®¡ï¼‰ï¼Œä½†æ²¡è´´æ ‡ç­¾ã€ä¹Ÿæ²¡è¯´æ˜ä¹¦ã€‚å“ªæ€•è¯·æ¥ä¸€ä½é¡¶çº§å·¥ç¨‹å¸ˆï¼ˆå¤§æ¨¡å‹ï¼‰ï¼Œä»–ä¹Ÿåªèƒ½å¹²çªçœ¼ï¼šâ€œæˆ‘ä¸çŸ¥é“ä½ èƒ½åšä»€ä¹ˆã€‚â€</p>
</blockquote>
<hr/>
<h4 data-id="heading-3">2. ç¹ççš„å·¥å…·è¯´æ˜ï¼ˆOpenAI åŸç”Ÿ JSONï¼‰</h4>
<p>ä¸ºäº†è®©æ¨¡å‹çŸ¥é“å·¥å…·çš„å­˜åœ¨ï¼Œä½ ä¸å¾—ä¸æ‰‹å†™å†—é•¿çš„ JSON Schemaï¼š</p>
<pre><code class="hljs language-js" lang="js">tools = [
  {
    <span class="hljs-string">"type"</span>: <span class="hljs-string">"function"</span>,
    <span class="hljs-string">"function"</span>: {
      <span class="hljs-string">"name"</span>: <span class="hljs-string">"get-weather"</span>,
      <span class="hljs-string">"description"</span>: <span class="hljs-string">"è·å–æŒ‡å®šåŸå¸‚çš„å½“å‰å¤©æ°”"</span>,
      <span class="hljs-string">"parameters"</span>: {
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"object"</span>,
        <span class="hljs-string">"properties"</span>: {
          <span class="hljs-string">"location"</span>: {
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"string"</span>,
            <span class="hljs-string">"description"</span>: <span class="hljs-string">"åŸå¸‚åç§°ï¼Œå¦‚'åŒ—äº¬'"</span>
          }
        },
        <span class="hljs-string">"required"</span>: [<span class="hljs-string">"location"</span>]
      }
    }
  }
]
</code></pre>
<p>å¦‚æœä½ æœ‰ 10 ä¸ªå·¥å…·ï¼Œå°±å¾—é‡å¤å†™ 10 æ¬¡ç±»ä¼¼çš„ç»“æ„ã€‚<br/>
ä¸ä»…å®¹æ˜“å‡ºé”™ï¼Œè¿˜éš¾ä»¥ç»´æŠ¤â€”â€”<strong>ä¿®æ”¹ä¸€ä¸ªå‚æ•°ï¼Œå¯èƒ½è¦åŒæ—¶æ”¹ JSON å’Œå‡½æ•°å®ç°ä¸¤å¤„åœ°æ–¹</strong>ã€‚</p>
<blockquote>
<p>ğŸ› ï¸ è¿™å°±åƒç»™æ¯ä¸ªå·¥å…·å•ç‹¬æ‰‹å†™ä¸€å¼ çº¸è´¨è¯´æ˜ä¹¦ï¼Œå†é’‰åœ¨å¢™ä¸Šã€‚æ–°å‘˜å·¥ï¼ˆæ¨¡å‹ï¼‰æ¥äº†ï¼Œå¾—å¯¹ç€å¢™ä¸€æ¡æ¡è¯»ï¼Œè¿˜å¯èƒ½çœ‹é”™è¡Œã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-4">3. è„†å¼±çš„è°ƒç”¨é€»è¾‘ï¼šç¡¬ç¼–ç  + æ­£åˆ™è§£æ</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleQuery</span>(<span class="hljs-params">query</span>) {
  <span class="hljs-keyword">if</span> (query.<span class="hljs-title function_">includes</span>(<span class="hljs-string">"å¤©æ°”"</span>)) {
    <span class="hljs-keyword">const</span> city = query.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/(åŒ—äº¬|ä¸Šæµ·|å¹¿å·)/</span>)?.[<span class="hljs-number">0</span>] || <span class="hljs-string">"æœªçŸ¥"</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">getWeather</span>(city);
  } 
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (query.<span class="hljs-title function_">includes</span>(<span class="hljs-string">"åŠ "</span>) || query.<span class="hljs-title function_">includes</span>(<span class="hljs-string">"+"</span>)) {
    <span class="hljs-keyword">const</span> nums = query.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/\d+/g</span>);
    <span class="hljs-keyword">if</span> (nums &amp;&amp; nums.<span class="hljs-property">length</span> &gt;= <span class="hljs-number">2</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">add</span>(<span class="hljs-built_in">parseInt</span>(nums[<span class="hljs-number">0</span>]), <span class="hljs-built_in">parseInt</span>(nums[<span class="hljs-number">1</span>]));
    }
  }
  <span class="hljs-keyword">return</span> <span class="hljs-string">"æˆ‘ä¸æ‡‚è¿™ä¸ªé—®é¢˜"</span>;
}
</code></pre>
<p>è¿™ç§å†™æ³•çš„é—®é¢˜åœ¨äºï¼š</p>
<ul>
<li><strong>æ„å›¾è¯†åˆ«é å…³é”®è¯</strong>ï¼šç”¨æˆ·è¯´â€œåŒ—äº¬ä»Šå¤©çƒ­å¾—åƒ30åº¦â€ï¼Œå¯èƒ½è¢«è¯¯åˆ¤ä¸ºåŠ æ³•ï¼›</li>
<li><strong>å‚æ•°æå–é æ­£åˆ™</strong>ï¼šè‡ªç„¶è¯­è¨€åƒå˜ä¸‡åŒ–ï¼Œè§„åˆ™å¾ˆå¿«å¤±æ•ˆï¼›</li>
<li><strong>æ¯åŠ ä¸€ä¸ªå·¥å…·ï¼Œå°±è¦æ”¹ä¸»å‡½æ•°</strong>ï¼šè¿åâ€œå¼€é—­åŸåˆ™â€ï¼Œä»£ç è¶Šæ¥è¶Šè‡ƒè‚¿ã€‚</li>
</ul>
<blockquote>
<p>ğŸ’¡ <strong>è¿™å°±åƒä½ é›‡äº†ä¸€ä½è¯ºè´å°”å¥–å¾—ä¸»å½“æˆ˜ç•¥é¡¾é—®ï¼Œå´é€¼ä»–èƒŒç”µè¯ç°¿ã€å†™æ­£åˆ™è¡¨è¾¾å¼ã€è‡ªå·±è·‘æ°”è±¡ç«™â€”â€”å®Œå…¨æµªè´¹äº†ä»–çš„æ™ºæ…§ã€‚</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-5">ğŸ¤– LangChain çš„è§£æ³•ï¼šè®©æ¨¡å‹å†³ç­–ï¼Œä½ æ¥æ‰§è¡Œ</h3>
<p>LangChain æä¾›äº†ä¸€å¥—<strong>å£°æ˜å¼å·¥å…·æŠ½è±¡</strong>ï¼ŒæŠŠâ€œå·¥å…·è¯´æ˜ä¹¦â€å’Œâ€œå·¥å…·æœ¬èº«â€åˆäºŒä¸ºä¸€ï¼Œå½¢æˆä¸€ä¸ª<strong>è‡ªæè¿°ã€å¯éªŒè¯ã€å³æ’å³ç”¨çš„æ¨¡å—</strong>ã€‚</p>
<p>æ ¸å¿ƒæ€æƒ³éå¸¸æ¸…æ™°ï¼š</p>
<blockquote>
<p><strong>ä½ å‘Šè¯‰æ¨¡å‹æœ‰å“ªäº›å·¥å…·å¯ç”¨ â†’ æ¨¡å‹è‡ªä¸»å†³å®šæ˜¯å¦è°ƒç”¨ â†’ ä½ æ”¶åˆ°è°ƒç”¨è¯·æ±‚åæ‰§è¡ŒçœŸå®å‡½æ•°ã€‚</strong></p>
</blockquote>
<p>ä¸‹é¢ç»“åˆä½ çš„ä»£ç ï¼Œä¸€æ­¥æ­¥æ‹†è§£è¿™åœºâ€œäººæœºåä½œâ€ã€‚</p>
<hr/>
<h4 data-id="heading-6">ğŸ”§ ç¬¬ä¸€æ­¥ï¼šç”¨ <code>tool()</code> å®šä¹‰ç»“æ„åŒ–å·¥å…· â€”â€” â€œå¸¦æ™ºèƒ½æ ‡ç­¾çš„å·¥å…·ç®±â€</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å¤©æ°”æŸ¥è¯¢å·¥å…·</span>
<span class="hljs-keyword">const</span> weathertool = <span class="hljs-title function_">tool</span>(
  <span class="hljs-keyword">async</span> ({ city }) =&gt; {
    <span class="hljs-keyword">const</span> weather = fakeWeatherDB[city];
    <span class="hljs-keyword">if</span> (!weather) <span class="hljs-keyword">return</span> <span class="hljs-string">`åŸå¸‚<span class="hljs-subst">${city}</span>çš„å¤©æ°”ä¿¡æ¯ä¸å­˜åœ¨`</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-string">`å½“å‰<span class="hljs-subst">${city}</span>çš„å¤©æ°”æ˜¯<span class="hljs-subst">${weather.temp}</span>, <span class="hljs-subst">${weather.condition}</span>, é£åŠ›<span class="hljs-subst">${weather.wind}</span>`</span>;
  },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">"get_weather"</span>,
    <span class="hljs-attr">description</span>: <span class="hljs-string">"æŸ¥è¯¢æŒ‡å®šåŸå¸‚çš„ä»Šæ—¥å¤©æ°”æƒ…å†µ"</span>,
    <span class="hljs-attr">schema</span>: z.<span class="hljs-title function_">object</span>({
      <span class="hljs-attr">city</span>: z.<span class="hljs-title function_">string</span>().<span class="hljs-title function_">describe</span>(<span class="hljs-string">"è¦æŸ¥è¯¢å¤©æ°”çš„åŸå¸‚åç§°"</span>)
    })
  }
);

<span class="hljs-comment">// åŠ æ³•å·¥å…·</span>
<span class="hljs-keyword">const</span> addTool = <span class="hljs-title function_">tool</span>(
  <span class="hljs-keyword">async</span> ({ a, b }) =&gt; <span class="hljs-title class_">String</span>(a + b),
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">"add"</span>,
    <span class="hljs-attr">description</span>: <span class="hljs-string">"è®¡ç®—ä¸¤ä¸ªæ•°å­—çš„å’Œ"</span>,
    <span class="hljs-attr">schema</span>: z.<span class="hljs-title function_">object</span>({
      <span class="hljs-attr">a</span>: z.<span class="hljs-title function_">number</span>(),
      <span class="hljs-attr">b</span>: z.<span class="hljs-title function_">number</span>()
    })
  }
);
</code></pre>
<h5 data-id="heading-7">è¿™é‡Œåšäº†ä¸‰ä»¶äº‹ï¼š</h5>
<ol>
<li>
<p><strong>å°è£…æ‰§è¡Œé€»è¾‘</strong><br/>
å‡½æ•°æ¥æ”¶ä¸€ä¸ªå¯¹è±¡å‚æ•°ï¼ˆå¦‚ <code>{ city }</code>ï¼‰ï¼Œé€šè¿‡è§£æ„è·å–å­—æ®µã€‚<br/>
è¿”å›å€¼å¿…é¡»æ˜¯ <strong>å­—ç¬¦ä¸²</strong>ï¼ˆLLM å·¥å…·åè®®è¦æ±‚ï¼‰ã€‚</p>
</li>
<li>
<p><strong>æä¾›å…ƒæ•°æ®</strong></p>
<ul>
<li><code>name</code>ï¼šå·¥å…·å”¯ä¸€æ ‡è¯†ï¼ˆæ¨¡å‹è°ƒç”¨æ—¶ä½¿ç”¨ï¼‰</li>
<li><code>description</code>ï¼šè‡ªç„¶è¯­è¨€æè¿°ï¼Œå¸®åŠ©æ¨¡å‹ç†è§£ç”¨é€”</li>
</ul>
</li>
<li>
<p><strong>å®šä¹‰å‚æ•°è§„èŒƒï¼ˆZod Schemaï¼‰</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-attr">schema</span>: z.<span class="hljs-title function_">object</span>({ <span class="hljs-attr">city</span>: z.<span class="hljs-title function_">string</span>() })
</code></pre>
<ul>
<li>ç›¸å½“äºç»™æ¨¡å‹ä¸€ä»½â€œä»»åŠ¡å•å¡«å†™æŒ‡å—â€</li>
<li>LangChain ä¼šè‡ªåŠ¨å°†å…¶è½¬ä¸º JSON Schema æ³¨å…¥æ¨¡å‹</li>
<li>è¿è¡Œæ—¶è¿˜å¯æ ¡éªŒå‚æ•°åˆæ³•æ€§ï¼ˆç±»å‹å®‰å…¨ï¼‰</li>
</ul>
</li>
</ol>
<blockquote>
<p>âœ… <strong>ä¼˜åŠ¿</strong>ï¼šå·¥å…·å®šä¹‰ä¸€ä½“åŒ–ï¼Œè‡ªæè¿°ã€å¯éªŒè¯ã€æ˜“æµ‹è¯•ã€‚<br/>
å°±åƒç»™æ¯ä¸ªå·¥å…·è´´ä¸Š<strong>æ™ºèƒ½ RFID æ ‡ç­¾</strong>ï¼šä¸€æ‰«å°±çŸ¥é“åå­—ã€ç”¨é€”ã€æ€ä¹ˆç”¨ã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-8">ğŸ”— ç¬¬äºŒæ­¥ï¼šç”¨ <code>.bindTools()</code> ç»‘å®šå·¥å…·é›† â€”â€” â€œå‘é¡¾é—®å±•ç¤ºå·¥å…·å¢™â€</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> model = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ChatDeepSeek</span>({
  <span class="hljs-attr">modelName</span>: <span class="hljs-string">"deepseek-chat"</span>,
  <span class="hljs-attr">temperature</span>: <span class="hljs-number">0</span>,
}).<span class="hljs-title function_">bindTools</span>([addTool, weathertool]);
</code></pre>
<p>è¿™è¡Œä»£ç çš„ä½œç”¨æ˜¯ï¼š<br/>
<strong>å°†å·¥å…·åˆ—è¡¨â€œæ³¨å†Œâ€ç»™æ¨¡å‹</strong>ï¼Œç›¸å½“äºå¸¦æ¨¡å‹å‚è§‚ä½ çš„â€œå·¥å…·å¢™â€ï¼š</p>
<blockquote>
<p>â€œçœ‹ï¼Œè¿™é‡Œæœ‰ä¸¤ä»¶è£…å¤‡ï¼š</p>
<ul>
<li><strong>åŠ æ³•è®¡ç®—å™¨</strong>ï¼šè¾“å…¥ä¸¤ä¸ªæ•°å­—ï¼Œè¾“å‡ºå®ƒä»¬çš„å’Œï¼›</li>
<li><strong>å¤©æ°”é›·è¾¾</strong>ï¼šè¾“å…¥åŸå¸‚åï¼Œè¿”å›å®æ—¶å¤©æ°”ã€‚<br/>
é‡åˆ°ç›¸å…³é—®é¢˜ï¼Œä½ å¯ä»¥ç›´æ¥â€˜ç‚¹åâ€™è°ƒç”¨å®ƒä»¬ã€‚â€</li>
</ul>
</blockquote>
<p>æ­¤æ—¶ï¼Œæ¨¡å‹åœ¨æ¨ç†æ—¶ä¼šå‚è€ƒè¿™äº›å·¥å…·çš„ <code>name</code>ã€<code>description</code> å’Œ <code>parameters</code>ï¼Œ<strong>è‡ªä¸»åˆ¤æ–­æ˜¯å¦éœ€è¦è°ƒç”¨ã€è°ƒç”¨å“ªä¸ªã€ä¼ ä»€ä¹ˆå‚æ•°</strong>ã€‚</p>
<hr/>
<h4 data-id="heading-9">ğŸ“¬ ç¬¬ä¸‰æ­¥ï¼šæ¨¡å‹è¿”å› <code>tool_calls</code> â€”â€” â€œå†™ä¸‹ä»»åŠ¡å•ï¼Œä½†ä¸æ‰§è¡Œâ€</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> model.<span class="hljs-title function_">invoke</span>(<span class="hljs-string">"åŒ—äº¬çš„å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ"</span>);
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼šæ¨¡å‹ä¸ä¼šç›´æ¥å›ç­”å¤©æ°”ï¼Œè€Œæ˜¯è¿”å›ï¼š</p>
<pre><code class="hljs language-js" lang="js">res.<span class="hljs-property">tool_calls</span> = [
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">"get_weather"</span>,
    <span class="hljs-attr">args</span>: { <span class="hljs-attr">city</span>: <span class="hljs-string">"åŒ—äº¬"</span> },  <span class="hljs-comment">// â† å·²æ˜¯è§£æå¥½çš„å¯¹è±¡ï¼</span>
    <span class="hljs-attr">id</span>: <span class="hljs-string">"call_abc123"</span>
  }
]
</code></pre>
<h5 data-id="heading-10">ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿ</h5>
<ul>
<li><strong>å®‰å…¨éš”ç¦»</strong>ï¼šæ¨¡å‹è¿è¡Œåœ¨æ²™ç›’ä¸­ï¼Œä¸èƒ½ç›´æ¥è°ƒç”¨ä½ çš„å‡½æ•°ï¼ˆé˜²æ­¢ä»»æ„ä»£ç æ‰§è¡Œï¼‰ã€‚</li>
<li><strong>å¯æ§æ‰§è¡Œ</strong>ï¼šä½ å¯ä»¥åœ¨è°ƒç”¨å‰åŠ æƒé™æ£€æŸ¥ã€æ—¥å¿—ã€é‡è¯•ç­‰é€»è¾‘ã€‚</li>
<li><strong>çµæ´»å“åº”</strong>ï¼šä½ å¯ä»¥é€‰æ‹©ä¸æ‰§è¡Œã€æ¨¡æ‹Ÿå“åº”ï¼ˆæµ‹è¯•ï¼‰ã€æˆ–å¹¶è¡Œè°ƒç”¨å¤šä¸ªå·¥å…·ã€‚</li>
</ul>
<blockquote>
<p>âš ï¸ <strong>é‡è¦</strong>ï¼š<code>tool_calls</code> åªæ˜¯æ¨¡å‹çš„â€œè°ƒç”¨æ„å›¾â€ï¼Œ<strong>ä¸ä»£è¡¨å·¥å…·å·²è¢«æ‰§è¡Œ</strong>ã€‚<br/>
å°±åƒ CEO åœ¨ä¼šè®®å®¤è¯´ï¼šâ€œæŸ¥ä¸€ä¸‹åŒ—äº¬å¤©æ°”ã€‚â€<br/>
ä½†ä»–ä¸ä¼šäº²è‡ªæ‰“å¼€ç”µè„‘â€”â€”ä»–åªæ˜¯<strong>å‘å‡ºæŒ‡ä»¤</strong>ã€‚çœŸæ­£çš„æ‰§è¡Œï¼Œè¦é ä½ è¿™ä¸ªâ€œæ‰§è¡ŒåŠ©ç†â€å»å®Œæˆã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-11">ğŸ› ï¸ ç¬¬å››æ­¥ï¼šä½ æ‰‹åŠ¨â€œå…‘ç°â€è°ƒç”¨ â€”â€” â€œæ‰§è¡Œä»»åŠ¡ï¼Œå¸¦å›ç»“æœâ€</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// const res = await model.invoke("3+5 ç­‰äºå¤šå°‘ï¼Ÿ");</span>
<span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> model.<span class="hljs-title function_">invoke</span>(<span class="hljs-string">"åŒ—äº¬çš„å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ"</span>);
<span class="hljs-comment">// å¯é€‰é“¾ es6 æ–°å¢ æœ‰åˆ©äºä»£ç çš„ç®€æ´å’Œä¼˜é›…</span>
<span class="hljs-keyword">if</span>(res.<span class="hljs-property">tool_calls</span>?.<span class="hljs-property">length</span>){
    <span class="hljs-comment">//console.log(res.tool_calls[0]);</span>
    <span class="hljs-keyword">if</span>(res.<span class="hljs-property">tool_calls</span>[<span class="hljs-number">0</span>].<span class="hljs-property">name</span>===<span class="hljs-string">"add"</span>){
       <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> addTool.<span class="hljs-title function_">invoke</span>(res.<span class="hljs-property">tool_calls</span>[<span class="hljs-number">0</span>].<span class="hljs-property">args</span>);
       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"æœ€ç»ˆç»“æœ:"</span>,result);
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(res.<span class="hljs-property">tool_calls</span>[<span class="hljs-number">0</span>].<span class="hljs-property">name</span>===<span class="hljs-string">"get_weather"</span>){
        <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> weathertool.<span class="hljs-title function_">invoke</span>(res.<span class="hljs-property">tool_calls</span>[<span class="hljs-number">0</span>].<span class="hljs-property">args</span>);
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"æœ€ç»ˆç»“æœ:"</span>,result);
    }
</code></pre>
<p>è¿™é‡Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</p>
<ul>
<li><code>call.args</code> æ˜¯ä¸€ä¸ª<strong>æ™®é€š JavaScript å¯¹è±¡</strong>ï¼ˆå¦‚ <code>{ city: "åŒ—äº¬" }</code>ï¼‰ï¼Œå·²ç”± LangChain è‡ªåŠ¨è§£æï¼ˆæ— éœ€ <code>JSON.parse</code>ï¼ï¼‰ã€‚</li>
<li>å·¥å…·å¤§æ¨¡å‹è¿”å›çš„tool_callsç¡®å®šå¤§æ¨¡å‹å†³å®šè°ƒç”¨çš„å·¥å…·åç§°æ¥æ‰‹åŠ¨çš„æ‰§è¡Œè¿™ä¸ªå·¥å…·å‡½æ•°</li>
<li><code>tool_calls.agrs</code>ä¸­å­˜å‚¨çš„å°±æ˜¯å·¥å…·å¯¹åº”çš„éœ€è¦çš„å‚æ•°,åœ¨è°ƒç”¨å·¥å…·æ—¶å°†å‚æ•°ä¼ å…¥æ‰§è¡Œ</li>
<li>å‡½æ•°æ‰§è¡Œåè¿”å›å­—ç¬¦ä¸²ï¼Œä½ å¯ç›´æ¥å±•ç¤ºï¼Œæˆ–å†ä¼ å›æ¨¡å‹ç”Ÿæˆæ›´è‡ªç„¶çš„å›ç­”ï¼ˆAgent æ¨¡å¼ï¼‰ã€‚</li>
</ul>
<blockquote>
<p>ğŸ’¡ <strong>è¿™å°±æ˜¯â€œäººæœºåä½œâ€çš„ç²¾é«“</strong>ï¼š<br/>
æ¨¡å‹æ˜¯â€œå¤§è„‘â€ï¼Œè´Ÿè´£æ€è€ƒä¸å†³ç­–ï¼›<br/>
ä½ çš„ä»£ç æ˜¯â€œæ‰‹è„šâ€ï¼Œè´Ÿè´£æ„ŸçŸ¥ä¸è¡ŒåŠ¨ã€‚<br/>
è€Œ LangChainï¼Œå°±æ˜¯é‚£æ ¹è¿æ¥ç¥ç»ä¸è‚Œè‚‰çš„<strong>åå°„å¼§</strong>ã€‚</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1b222a6c1b5e45c48ff2a7047da254f1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeGh4eHg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767452270&amp;x-signature=KHgLxUYtxejxX15lIMvnVuibsqU%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-12">ğŸŒŸ æ€»ç»“ï¼šLangChain å¦‚ä½•ç®€åŒ–å·¥å…·è°ƒç”¨</h3>



































<table><thead><tr><th>ç¯èŠ‚</th><th>ä¼ ç»Ÿæ–¹å¼</th><th>LangChain</th></tr></thead><tbody><tr><td><strong>å·¥å…·å®šä¹‰</strong></td><td>åˆ†æ•£å‡½æ•°ï¼Œæ— æè¿°</td><td><code>tool()</code> ä¸€ä½“åŒ–å°è£…ï¼ˆå‡½æ•°+æè¿°+schemaï¼‰</td></tr><tr><td><strong>æ„å›¾è¯†åˆ«</strong></td><td>æ‰‹å†™å…³é”®è¯/NLP</td><td>æ¨¡å‹è‡ªä¸»å†³ç­–</td></tr><tr><td><strong>å‚æ•°æå–</strong></td><td>æ­£åˆ™/è§„åˆ™è§£æ</td><td>æ¨¡å‹ç”Ÿæˆç»“æ„åŒ–å‚æ•°ï¼Œæ¡†æ¶è‡ªåŠ¨è§£æ</td></tr><tr><td><strong>è°ƒç”¨æ‰§è¡Œ</strong></td><td>ç¡¬ç¼–ç  <code>if/else</code></td><td>æ ¹æ® <code>tool_calls</code> åŠ¨æ€åˆ†å‘</td></tr><tr><td><strong>æ‰©å±•æ–°å·¥å…·</strong></td><td>ä¿®æ”¹ä¸»é€»è¾‘</td><td>åªéœ€å®šä¹‰æ–° <code>tool</code> å¹¶åŠ å…¥æ•°ç»„</td></tr></tbody></table>
<blockquote>
<p><strong>LangChain ä¸æ˜¯æ›¿ä½ å†™ä¸šåŠ¡é€»è¾‘ï¼Œè€Œæ˜¯æ›¿ä½ å†™â€œè°ƒåº¦é€»è¾‘â€ã€‚</strong><br/>
ä½ åªéœ€ä¸“æ³¨å·¥å…·æœ¬èº«çš„å®ç°ï¼Œå‰©ä¸‹çš„äº¤ç»™æ¡†æ¶ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-13">âœ… ç»“è¯­</h3>
<p>å¤§æ¨¡å‹æ˜¯â€œå¤§è„‘â€ï¼Œä½ çš„ä»£ç æ˜¯â€œæ‰‹è„šâ€ã€‚<br/>
LangChain æä¾›çš„ <code>tool()</code> æœºåˆ¶ï¼Œæ­£æ˜¯é‚£æ ¹è¿æ¥â€œæ€æƒ³â€ä¸â€œè¡ŒåŠ¨â€çš„ç¥ç»é€šè·¯ã€‚</p>
<p>ç†è§£ <code>tool_calls</code> åªæ˜¯â€œæè®®â€è€Œéâ€œæ‰§è¡Œâ€ï¼Œæ˜¯æŒæ¡æ™ºèƒ½ä½“ï¼ˆAgentï¼‰å¼€å‘çš„ç¬¬ä¸€æ­¥ã€‚<br/>
è€Œä½ ï¼Œå°±æ˜¯é‚£ä¸ªè®© AI ä»â€œçº¸ä¸Šè°ˆå…µâ€èµ°å‘â€œçœŸæªå®å¹²â€çš„å…³é”®æ‰§è¡Œè€…ã€‚</p>
<blockquote>
<p><strong>åˆ«è®©å¤©æ‰é¡¾é—®åªåŠ¨å˜´â€”â€”ç»™ä»–ä¸€å¥—å¥½å·¥å…·ï¼Œå†é…ä¸€ä¸ªé è°±çš„æ‰§è¡Œè€…ï¼Œå¥‡è¿¹æ‰ä¼šå‘ç”Ÿã€‚</strong></p>
</blockquote>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>