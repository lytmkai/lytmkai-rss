<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[milvuså‘é‡æ•°æ®åº“è¯¦è§£ä¸åº”ç”¨å®æˆ˜]]></title>    <link>https://juejin.cn/post/7573776814948237331</link>    <guid>https://juejin.cn/post/7573776814948237331</guid>    <pubDate>2025-11-18T08:15:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573776814948237331" data-draft-id="7573855399716814867" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="milvuså‘é‡æ•°æ®åº“è¯¦è§£ä¸åº”ç”¨å®æˆ˜"/> <meta itemprop="keywords" content="LLM"/> <meta itemprop="datePublished" content="2025-11-18T08:15:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ITæ©˜å­çš®"/> <meta itemprop="url" content="https://juejin.cn/user/3148645291002232"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            milvuså‘é‡æ•°æ®åº“è¯¦è§£ä¸åº”ç”¨å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3148645291002232/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ITæ©˜å­çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T08:15:29.000Z" title="Tue Nov 18 2025 08:15:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Milvus æ˜¯ä¸€æ¬¾ä¸“ä¸ºäººå·¥æ™ºèƒ½æ—¶ä»£è®¾è®¡çš„<strong>å¼€æºå‘é‡æ•°æ®åº“</strong>ï¼Œæ ¸å¿ƒä½¿å‘½æ˜¯é«˜æ•ˆå¤„ç†ç”±éç»“æ„åŒ–æ•°æ®ï¼ˆå¦‚å›¾åƒã€æ–‡æœ¬ã€éŸ³é¢‘ã€è§†é¢‘ï¼‰ç”Ÿæˆçš„<strong>åµŒå…¥å‘é‡</strong>ï¼Œå¹¶æä¾›é«˜æ•ˆçš„ç›¸ä¼¼æ€§æœç´¢ã€‚ç®€å•æ¥è¯´ï¼Œå®ƒå°†éç»“æ„åŒ–æ•°æ®è½¬æ¢ä¸ºè®¡ç®—æœºå¯ç†è§£çš„å¤šç»´å‘é‡ï¼Œå¹¶èƒ½åœ¨æµ·é‡æ•°æ®ä¸­å¿«é€Ÿæ‰¾åˆ°æœ€ç›¸ä¼¼çš„å†…å®¹ ã€‚</p>
<p>ä¸‹è¡¨æ¸…æ™°åœ°å±•ç¤ºäº†Milvusä¸å…¶ä»–ä¸»æµå‘é‡æ•°æ®åº“çš„æ ¸å¿ƒå·®å¼‚ï¼Œå¸®åŠ©æ‚¨ç†è§£å…¶ç‹¬ç‰¹å®šä½ã€‚</p>









































<table><thead><tr><th>æ•°æ®åº“åç§°</th><th>ç±»å‹</th><th>æ ¸å¿ƒä¼˜åŠ¿</th><th>å…¸å‹é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>Milvus</strong>â€‹</td><td>å¼€æº/æ‰˜ç®¡</td><td><strong>é«˜æ€§èƒ½ã€å¯æ‰©å±•æ€§æå¼º</strong>ï¼Œæ”¯æŒå¤šç§ç´¢å¼•å’Œåˆ†å¸ƒå¼æ¶æ„</td><td>å¤§è§„æ¨¡å›¾åƒ/è§†é¢‘æ£€ç´¢ã€æ¨èç³»ç»Ÿã€RAGç³»ç»Ÿ</td></tr><tr><td><strong>Pinecone</strong>â€‹</td><td>å…¨æ‰˜ç®¡</td><td><strong>å¼€ç®±å³ç”¨ï¼Œæ˜“ä¸Šæ‰‹</strong>ï¼Œæ— éœ€ç®¡ç†åŸºç¡€è®¾æ–½</td><td>å¿«é€ŸåŸå‹å¼€å‘ã€å®æ—¶æ¨èã€è¯­ä¹‰æœç´¢</td></tr><tr><td><strong>ChromaDB</strong>â€‹</td><td>åµŒå…¥å¼</td><td><strong>è½»é‡çº§ï¼Œæ˜“ç”¨</strong>ï¼Œé€‚åˆæœ¬åœ°å¼€å‘å’Œè½»é‡çº§åº”ç”¨</td><td>è½»é‡çº§AIåº”ç”¨ã€RAGç³»ç»Ÿã€åŸå‹è®¾è®¡</td></tr><tr><td><strong>Weaviate</strong>â€‹</td><td>å¼€æº/æ‰˜ç®¡</td><td><strong>æ”¯æŒæ··åˆæœç´¢</strong>ï¼ˆå‘é‡+å…³é”®å­—ï¼‰ï¼Œå†…ç½®æ¨¡å—åŒ–è®¾è®¡</td><td>çŸ¥è¯†å›¾è°±ã€æ··åˆæœç´¢åº”ç”¨</td></tr><tr><td><strong>PgVector</strong>â€‹</td><td>PostgreSQLæ‰©å±•</td><td><strong>ä¸PostgreSQLæ— ç¼é›†æˆ</strong>ï¼Œå¯ä½¿ç”¨æ ‡å‡†SQLæŸ¥è¯¢</td><td>å·²æœ‰PostgreSQLåŸºç¡€è®¾æ–½çš„ä¸­å°è§„æ¨¡AIåº”ç”¨</td></tr></tbody></table>
<h3 data-id="heading-0">ğŸ”„ æ ¸å¿ƒå·¥ä½œåŸç†ï¼šä»æ•°æ®åˆ°ç»“æœ</h3>
<p>Milvus çš„å·¥ä½œæµç¨‹å¯ä»¥æ¸…æ™°åœ°åˆ’åˆ†ä¸ºä»¥ä¸‹å››ä¸ªå…³é”®æ­¥éª¤ï¼Œä¸‹å›¾å±•ç¤ºäº†ä»æ•°æ®æ³¨å…¥åˆ°è¿”å›ç»“æœçš„å®Œæ•´è·¯å¾„ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d6b2af55162d41f68972b1f722b88776~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSVTmqZjlrZDnmq4=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764058528&amp;x-signature=Ez%2Bcnts2KfI3PFphi%2FFejreKFNU%3D" alt="image.png" loading="lazy"/></p>
<ol>
<li>
<p><strong>æ•°æ®å‘é‡åŒ–</strong>ï¼šåˆ©ç”¨ Embedding æ¨¡å‹ï¼ˆå¦‚ BERTã€ResNetï¼‰å°†å›¾ç‰‡ã€æ–‡æœ¬ç­‰éç»“æ„åŒ–æ•°æ®è½¬æ¢ä¸ºé«˜ç»´å‘é‡ ã€‚</p>
</li>
<li>
<p><strong>æ•°æ®å­˜å‚¨ä¸ç´¢å¼•</strong>ï¼šå°†è¿™äº›å‘é‡åŠå…¶å¯¹åº”çš„å…ƒæ•°æ®ï¼ˆå¦‚IDã€æè¿°ï¼‰æ’å…¥Milvusã€‚Milvusä¼šä¸ºå‘é‡æ„å»ºé«˜æ•ˆçš„ç´¢å¼•ï¼ˆå¦‚HNSWã€IVF_FLATï¼‰ï¼Œå°†æœç´¢ä»â€œå¤§æµ·æé’ˆâ€å˜ä¸ºâ€œæŸ¥å›¾ç´¢éª¥â€ï¼Œè¿™æ˜¯å®ç°é«˜é€Ÿæ£€ç´¢çš„å…³é”® ã€‚</p>
</li>
<li>
<p><strong>ç›¸ä¼¼æ€§æœç´¢</strong>ï¼šå½“è¾“å…¥æŸ¥è¯¢ï¼ˆä¾‹å¦‚ä¸€æ®µé—®é¢˜æ–‡æœ¬ï¼‰æ—¶ï¼Œå…ˆå°†å…¶è½¬æ¢ä¸ºæŸ¥è¯¢å‘é‡ã€‚Milvusä¼šåœ¨ç´¢å¼•ä¸­å¿«é€Ÿè®¡ç®—è¯¥æŸ¥è¯¢å‘é‡ä¸åº“ä¸­æ‰€æœ‰å‘é‡çš„è·ç¦»ï¼ˆå¦‚æ¬§æ°è·ç¦»L2ã€å†…ç§¯IPï¼‰ ã€‚</p>
</li>
<li>
<p><strong>è¿”å›ç»“æœ</strong>ï¼šæœ€åï¼Œæ ¹æ®è·ç¦»è¿œè¿‘ï¼ˆä»£è¡¨ç›¸ä¼¼åº¦é«˜ä½ï¼‰ï¼Œè¿”å›æœ€ç›¸ä¼¼çš„è‹¥å¹²ä¸ªå‘é‡åŠå…¶å…³è”çš„åŸå§‹æ•°æ®ï¼ˆå¦‚æœ€ç›¸å…³çš„æ–‡æ¡£ç‰‡æ®µï¼‰ä½œä¸ºç»“æœ ã€‚</p>
</li>
</ol>
<h3 data-id="heading-1">ğŸ› ï¸ å®æˆ˜ï¼šæ„å»ºRAGçŸ¥è¯†åº“çš„æ ¸å¿ƒæ­¥éª¤</h3>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨ Python æ„å»º RAG çŸ¥è¯†åº“çš„å®Œæ•´ç¤ºä¾‹ã€‚</p>
<h4 data-id="heading-2">æ­¥éª¤ä¸€ï¼šç¯å¢ƒå‡†å¤‡ä¸è¿æ¥</h4>
<p>é¦–å…ˆå®‰è£…å¿…è¦çš„åº“ï¼Œå¹¶åˆå§‹åŒ– Milvus å®¢æˆ·ç«¯ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">from</span> pymilvus import connections, Collection, FieldSchema, CollectionSchema, DataType, utility

<span class="hljs-meta"># è¿æ¥åˆ° Milvus æœåŠ¡å™¨ï¼ˆä»¥å•æœºç‰ˆä¸ºä¾‹ï¼‰</span>
connections.connect(<span class="hljs-keyword">alias</span>=<span class="hljs-string">"default"</span>, host=<span class="hljs-string">'localhost'</span>, port=<span class="hljs-string">'19530'</span>)
</code></pre>
<h4 data-id="heading-3">æ­¥éª¤äºŒï¼šè®¾è®¡æ•°æ®è¡¨ï¼ˆCollection Schemaï¼‰</h4>
<p>æ ¹æ®ä½ çš„æ•°æ®ç‰¹å¾å®šä¹‰è¡¨ç»“æ„ï¼Œä¾‹å¦‚ï¼Œä¸€ä¸ªç”¨äºå­˜å‚¨çŸ¥è¯†åº“æ–‡æ¡£ç‰‡æ®µçš„é›†åˆå¯èƒ½éœ€è¦ä»¥ä¸‹å­—æ®µï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># å®šä¹‰å­—æ®µ</span>
<span class="hljs-attr">fields</span> = [
    FieldSchema(name=<span class="hljs-string">"id"</span>, dtype=DataType.VARCHAR, is_primary=<span class="hljs-literal">True</span>, max_length=<span class="hljs-number">100</span>),  <span class="hljs-comment"># ä¸»é”®</span>
    FieldSchema(name=<span class="hljs-string">"doc_id"</span>, dtype=DataType.VARCHAR, max_length=<span class="hljs-number">100</span>),  <span class="hljs-comment"># æ–‡æ¡£ID</span>
    FieldSchema(name=<span class="hljs-string">"content"</span>, dtype=DataType.VARCHAR, max_length=<span class="hljs-number">1000</span>),  <span class="hljs-comment"># æ–‡æ¡£å†…å®¹æ–‡æœ¬</span>
    FieldSchema(name=<span class="hljs-string">"vector"</span>, dtype=DataType.FLOAT_VECTOR, dim=<span class="hljs-number">768</span>)  <span class="hljs-comment"># å‘é‡å­—æ®µï¼Œç»´åº¦éœ€ä¸æ¨¡å‹åŒ¹é…</span>
]
<span class="hljs-comment"># åˆ›å»ºé›†åˆSchema</span>
<span class="hljs-attr">schema</span> = CollectionSchema(fields=fields, description=<span class="hljs-string">"RAG knowledge base collection"</span>)
<span class="hljs-comment"># åˆ›å»ºé›†åˆ</span>
<span class="hljs-attr">rag_collection</span> = Collection(name=<span class="hljs-string">"rag_kb"</span>, schema=schema)
</code></pre>
<h4 data-id="heading-4">æ­¥éª¤ä¸‰ï¼šé…ç½®ç´¢å¼•</h4>
<p>ä¸ºå‘é‡å­—æ®µåˆ›å»ºç´¢å¼•æ˜¯ä¿è¯é«˜æ•ˆæŸ¥è¯¢çš„å…³é”®ã€‚</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-comment"># é…ç½®ç´¢å¼•å‚æ•°ï¼ˆä»¥IVF_FLATç´¢å¼•ä¸ºä¾‹ï¼‰</span>
index_params = {
    <span class="hljs-string">"index_type"</span>: <span class="hljs-string">"IVF_FLAT"</span>,
    <span class="hljs-string">"metric_type"</span>: <span class="hljs-string">"L2"</span>,  <span class="hljs-comment"># ä½¿ç”¨æ¬§æ°è·ç¦»ä½œä¸ºç›¸ä¼¼åº¦åº¦é‡</span>
    <span class="hljs-string">"params"</span>: {<span class="hljs-string">"nlist"</span>: 1024}  <span class="hljs-comment"># èšç±»ä¸­å¿ƒæ•°é‡ï¼Œå€¼è¶Šå¤§ï¼Œç²¾åº¦è¶Šé«˜ï¼Œæœç´¢è¶Šæ…¢</span>
}
<span class="hljs-comment"># ä¸ºå‘é‡å­—æ®µåˆ›å»ºç´¢å¼•</span>
rag_collection.create_index(field_name=<span class="hljs-string">"vector"</span>, index_params=index_params)
</code></pre>
<h4 data-id="heading-5">æ­¥éª¤å››ï¼šæ’å…¥æ•°æ®</h4>
<p>å°†æ–‡æ¡£å‘é‡åŠå…¶å…ƒæ•°æ®å­˜å…¥é›†åˆã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># å‡è®¾ documents æ˜¯åŒ…å«æ–‡æ¡£æ–‡æœ¬å’Œå¯¹åº”å‘é‡çš„åˆ—è¡¨</span>
<span class="hljs-comment"># ç¤ºä¾‹æ•°æ®</span>
<span class="hljs-attr">documents</span> = [
    {<span class="hljs-string">"doc_id"</span>: <span class="hljs-string">"doc1"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"æœºå™¨å­¦ä¹ æ˜¯äººå·¥æ™ºèƒ½çš„æ ¸å¿ƒé¢†åŸŸä¹‹ä¸€..."</span>, <span class="hljs-string">"vector"</span>: [<span class="hljs-number">0.1</span>, <span class="hljs-number">0.2</span>, ..., <span class="hljs-number">0.768</span>]},
    {<span class="hljs-string">"doc_id"</span>: <span class="hljs-string">"doc2"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"æ·±åº¦å­¦ä¹ æ˜¯åŸºäºç¥ç»ç½‘ç»œçš„æŠ€æœ¯..."</span>, <span class="hljs-string">"vector"</span>: [<span class="hljs-number">0.3</span>, <span class="hljs-number">0.4</span>, ..., <span class="hljs-number">0.768</span>]},
    <span class="hljs-comment"># ... æ›´å¤šæ•°æ®</span>
]

<span class="hljs-comment"># å‡†å¤‡æ’å…¥çš„æ•°æ®åˆ—è¡¨</span>
<span class="hljs-attr">data</span> = [
    [doc[<span class="hljs-string">"doc_id"</span>] for doc in documents],  <span class="hljs-comment"># IDåˆ—è¡¨ï¼Œè¿™é‡Œç®€å•ä½¿ç”¨doc_id</span>
    [doc[<span class="hljs-string">"doc_id"</span>] for doc in documents],  <span class="hljs-comment"># æ–‡æ¡£IDåˆ—è¡¨</span>
    [doc[<span class="hljs-string">"content"</span>] for doc in documents],  <span class="hljs-comment"># å†…å®¹åˆ—è¡¨</span>
    [doc[<span class="hljs-string">"vector"</span>] for doc in documents]   <span class="hljs-comment"># å‘é‡åˆ—è¡¨</span>
]

<span class="hljs-comment"># æ’å…¥æ•°æ®</span>
<span class="hljs-attr">insert_result</span> = rag_collection.insert(data)
rag_collection.flush()  <span class="hljs-comment"># ç¡®ä¿æ•°æ®è¢«æŒä¹…åŒ–</span>
print(f"å·²æ’å…¥ {len(insert_result.primary_keys)} æ¡æ•°æ®ã€‚")
</code></pre>
<h4 data-id="heading-6">æ­¥éª¤äº”ï¼šæ‰§è¡Œç›¸ä¼¼æ€§æœç´¢</h4>
<p>ç”¨æˆ·æŸ¥è¯¢æ—¶ï¼Œå…ˆå°†å…¶å‘é‡åŒ–ï¼Œç„¶ååœ¨ Milvus ä¸­æœç´¢ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># 1. åŠ è½½é›†åˆåˆ°å†…å­˜ï¼ˆé¦–æ¬¡æœç´¢å‰éœ€è¦ï¼‰</span>
rag_collection.load()

<span class="hljs-comment"># 2. å‡†å¤‡æœç´¢å‚æ•°ï¼ˆéœ€ä¸ç´¢å¼•å‚æ•°åŒ¹é…ï¼‰</span>
<span class="hljs-attr">search_params</span> = {<span class="hljs-string">"metric_type"</span>: <span class="hljs-string">"L2"</span>, <span class="hljs-string">"params"</span>: {<span class="hljs-string">"nprobe"</span>: <span class="hljs-number">10</span>}}  <span class="hljs-comment"># nprobeå®šä¹‰æœç´¢çš„èšç±»ä¸­å¿ƒæ•°é‡</span>

<span class="hljs-comment"># 3. æ‰§è¡Œæœç´¢ï¼ˆå‡è®¾ query_vector æ˜¯ç”¨æˆ·æŸ¥è¯¢è½¬æ¢åçš„å‘é‡ï¼‰</span>
<span class="hljs-attr">results</span> = rag_collection.search(
    <span class="hljs-attr">data</span>=[query_vector],
    <span class="hljs-attr">anns_field</span>=<span class="hljs-string">"vector"</span>,  <span class="hljs-comment"># åœ¨å“ªä¸ªå­—æ®µä¸Šæœç´¢</span>
    <span class="hljs-attr">param</span>=search_params,
    <span class="hljs-attr">limit</span>=<span class="hljs-number">3</span>,  <span class="hljs-comment"># è¿”å›æœ€ç›¸ä¼¼çš„3ä¸ªç»“æœ</span>
    <span class="hljs-attr">output_fields</span>=[<span class="hljs-string">"id"</span>, <span class="hljs-string">"doc_id"</span>, <span class="hljs-string">"content"</span>]  <span class="hljs-comment"># æŒ‡å®šè¿”å›å“ªäº›å…ƒæ•°æ®å­—æ®µ</span>
)

<span class="hljs-comment"># 4. å¤„ç†ç»“æœ</span>
for hits in results:
    for hit in hits:
        print(f"ID: {hit.id}, ç›¸ä¼¼åº¦è·ç¦»: {hit.distance}")
        print(f"å†…å®¹: {hit.entity.get('content')}")
        print("---")
</code></pre>
<h3 data-id="heading-7">ğŸ’¡ æ ¸å¿ƒæŠ€å·§ä¸ä¼˜åŒ–å»ºè®®</h3>
<ol>
<li>
<p><strong>ç´¢å¼•é€‰æ‹©ç­–ç•¥</strong>ï¼š</p>
<ul>
<li>
<p><strong>HNSW</strong>ï¼šé€‚ç”¨äº<strong>é«˜å¬å›ç‡ã€ä½å»¶è¿Ÿ</strong>çš„æœç´¢åœºæ™¯ï¼Œä½†å†…å­˜å ç”¨è¾ƒé«˜ ã€‚</p>
</li>
<li>
<p><strong>IVF_FLAT/IVF_PQ</strong>ï¼š<strong>å¹³è¡¡ç²¾åº¦ã€å†…å­˜å’Œé€Ÿåº¦</strong>çš„é€šç”¨é€‰æ‹©ã€‚IVF_PQé€šè¿‡é‡åŒ–å‹ç¼©å‘é‡ï¼Œèƒ½æ˜¾è‘—å‡å°‘å†…å­˜å ç”¨ï¼Œé€‚åˆè¶…å¤§è§„æ¨¡æ•°æ®é›†ï¼Œä½†ä¼šå¸¦æ¥å°‘é‡ç²¾åº¦æŸå¤± ã€‚</p>
</li>
<li>
<p><strong>CAGRA</strong>ï¼šMilvus 2.4 æ–°å¢ï¼Œä¸º<strong>GPUåŠ é€Ÿ</strong>è®¾è®¡ï¼Œç‰¹åˆ«é€‚åˆéœ€è¦æè‡´æ€§èƒ½çš„ç”Ÿæˆå¼AIåº”ç”¨ ã€‚</p>
</li>
<li>
<p><strong>FLAT</strong>ï¼š<strong>ç²¾åº¦100%ä¿è¯</strong>ï¼Œé€‚ç”¨äºæ•°æ®é‡å°ï¼ˆå¦‚ä¸‡çº§ï¼‰æˆ–éœ€è¦ç»å¯¹ç²¾ç¡®ç»“æœçš„åœºæ™¯ ã€‚</p>
</li>
</ul>
</li>
<li>
<p><strong>æ€§èƒ½è°ƒä¼˜å‚æ•°</strong>ï¼š</p>
<ul>
<li>
<p><strong><code>nlist</code>å’Œ <code>nprobe</code></strong>ï¼šåœ¨IVFç´¢å¼•ä¸­ï¼Œ<code>nlist</code>æ˜¯èšç±»ä¸­å¿ƒæ•°ï¼Œ<code>nprobe</code>æ˜¯æœç´¢æ—¶æ¶‰åŠçš„èšç±»ä¸­å¿ƒæ•°ã€‚å¢åŠ  <code>nprobe</code>èƒ½æé«˜å¬å›ç‡ï¼Œä½†ä¼šé™ä½æœç´¢é€Ÿåº¦ï¼Œéœ€è¦åœ¨ä¸¤è€…é—´æƒè¡¡ ã€‚</p>
</li>
<li>
<p><strong><code>ef</code></strong>ï¼šåœ¨HNSWç´¢å¼•ä¸­ï¼Œæ§åˆ¶æœç´¢æ·±åº¦ï¼Œå€¼è¶Šå¤§ï¼Œç»“æœè¶Šç²¾ç¡®ï¼Œä½†é€Ÿåº¦è¶Šæ…¢ ã€‚</p>
</li>
</ul>
</li>
<li>
<p><strong>æ•°æ®æŒä¹…åŒ–ä¸é«˜å¯ç”¨</strong>ï¼šå¯¹äºç”Ÿäº§ç¯å¢ƒï¼ŒåŠ¡å¿…ä½¿ç”¨<strong>åˆ†å¸ƒå¼éƒ¨ç½²</strong>æ¨¡å¼ï¼Œå¹¶ä¾èµ– etcd ç®¡ç†å…ƒæ•°æ®ï¼Œä½¿ç”¨ MinIO æˆ– SSOä½œä¸ºå¯¹è±¡å­˜å‚¨ï¼Œé€šè¿‡ Pulsar ç­‰ç®¡ç†æ—¥å¿—ï¼Œä»¥ç¡®ä¿æ•°æ®å¯é å’ŒæœåŠ¡é«˜å¯ç”¨ ã€‚</p>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ChromaDBè¯¦è§£ä¸åº”ç”¨å®æˆ˜]]></title>    <link>https://juejin.cn/post/7573738017988149291</link>    <guid>https://juejin.cn/post/7573738017988149291</guid>    <pubDate>2025-11-18T08:17:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573738017988149291" data-draft-id="7573776814948253715" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ChromaDBè¯¦è§£ä¸åº”ç”¨å®æˆ˜"/> <meta itemprop="keywords" content="LLM"/> <meta itemprop="datePublished" content="2025-11-18T08:17:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ITæ©˜å­çš®"/> <meta itemprop="url" content="https://juejin.cn/user/3148645291002232"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ChromaDBè¯¦è§£ä¸åº”ç”¨å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3148645291002232/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ITæ©˜å­çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T08:17:04.000Z" title="Tue Nov 18 2025 08:17:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ChromaDB æ˜¯ä¸€æ¬¾ä¸“ä¸ºAIåº”ç”¨è®¾è®¡çš„å¼€æºå‘é‡æ•°æ®åº“ï¼Œå®ƒè®©æœºå™¨èƒ½å¤ŸçœŸæ­£â€œç†è§£â€æ•°æ®çš„è¯­ä¹‰ï¼Œè€Œä¸ä»…ä»…æ˜¯åŒ¹é…å…³é”®è¯ã€‚ä¸‹é¢è¿™å¼ å›¾èƒ½å¸®ä½ å¿«é€ŸæŠŠæ¡å®ƒçš„æ ¸å¿ƒè¿ä½œæœºåˆ¶ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/14812f12de8d4a24852a00ccb004d9af~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSVTmqZjlrZDnmq4=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764058666&amp;x-signature=X9vn3ngfUanfXb5wlqNT8aqEZ%2Bw%3D" alt="image.png" loading="lazy"/></p>
<p>ä¸‹é¢ï¼Œæˆ‘å°†å¸¦ä½ æ·±å…¥äº†è§£å¦‚ä½•ç”¨å®ƒè§£å†³å®é™…é—®é¢˜ã€‚</p>
<h3 data-id="heading-0">ğŸ”„ ChromaDB æ ¸å¿ƒæ¦‚å¿µ</h3>
<p>ç†è§£ä»¥ä¸‹å‡ ä¸ªå…³é”®æ¦‚å¿µæ˜¯ç†Ÿç»ƒä½¿ç”¨ChromaDBçš„åŸºç¡€ ï¼š</p>
<ul>
<li>
<p><strong>é›†åˆï¼ˆCollectionï¼‰</strong> ï¼šç±»ä¼¼äºå…³ç³»å‹æ•°æ®åº“ä¸­çš„â€œè¡¨â€ï¼Œæ˜¯å­˜å‚¨ç›¸å…³æ•°æ®çš„åŸºæœ¬å•å…ƒã€‚</p>
</li>
<li>
<p><strong>æ–‡æ¡£ï¼ˆDocumentï¼‰</strong> ï¼šä½ æƒ³è¦å­˜å‚¨å’Œæœç´¢çš„åŸå§‹æ•°æ®æœ¬èº«ï¼Œæ¯”å¦‚ä¸€æ®µæ–‡æœ¬ã€‚</p>
</li>
<li>
<p><strong>åµŒå…¥å‘é‡ï¼ˆEmbeddingï¼‰</strong> ï¼šæ–‡æ¡£ç»è¿‡Embeddingæ¨¡å‹è½¬æ¢åå¾—åˆ°çš„ä¸€ä¸²é«˜ç»´æ•°å­—ï¼Œä»£è¡¨äº†å…¶è¯­ä¹‰ç‰¹å¾ã€‚è¿™æ˜¯ChromaDBæ“ä½œçš„çœŸæ­£å¯¹è±¡ã€‚</p>
</li>
<li>
<p><strong>å…ƒæ•°æ®ï¼ˆMetadataï¼‰</strong> ï¼šä¸æ–‡æ¡£ç›¸å…³çš„é™„åŠ ä¿¡æ¯ï¼ˆå¦‚ä½œè€…ã€åˆ†ç±»ã€æ¥æºï¼‰ï¼Œå¯ç”¨äºç²¾ç¡®è¿‡æ»¤ã€‚</p>
</li>
<li>
<p><strong>åµŒå…¥å‡½æ•°ï¼ˆEmbedding Functionï¼‰</strong> ï¼šè´Ÿè´£å°†æ–‡æ¡£è½¬æ¢ä¸ºå‘é‡çš„æ¨¡å‹ã€‚ChromaDBæ”¯æŒå¤šç§å†…ç½®åŠè‡ªå®šä¹‰æ¨¡å‹ã€‚</p>
</li>
</ul>
<h3 data-id="heading-1">ğŸ› ï¸ æ ¸å¿ƒåŠŸèƒ½ä¸å®æˆ˜åº”ç”¨</h3>
<h4 data-id="heading-2">1. ç¯å¢ƒé…ç½®ä¸å¿«é€Ÿå¼€å§‹</h4>
<p>é¦–å…ˆå®‰è£…ChromaDBï¼Œå¹¶æ ¹æ®ä½ çš„ä½¿ç”¨åœºæ™¯é€‰æ‹©åˆé€‚çš„å®¢æˆ·ç«¯ ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># å®‰è£…</span>
pip install chromadb

<span class="hljs-comment"># åœºæ™¯1: å®éªŒè°ƒè¯• - ä½¿ç”¨å†…å­˜å®¢æˆ·ç«¯ï¼ˆæ•°æ®ä¸ä¿å­˜ï¼‰</span>
<span class="hljs-attr">client</span> = chromadb.Client()

<span class="hljs-comment"># åœºæ™¯2: æœ¬åœ°åº”ç”¨ - ä½¿ç”¨æŒä¹…åŒ–å®¢æˆ·ç«¯ï¼ˆæ•°æ®ä¿å­˜åˆ°ç£ç›˜ï¼‰</span>
<span class="hljs-attr">client</span> = chromadb.PersistentClient(path=<span class="hljs-string">"./chroma_db"</span>)

<span class="hljs-comment"># åœºæ™¯3: ç”Ÿäº§ç¯å¢ƒ - è¿æ¥è¿œç¨‹æœåŠ¡å™¨ </span>
<span class="hljs-comment"># é¦–å…ˆç”¨ Docker å¯åŠ¨æœåŠ¡ç«¯: docker run -p 8000:8000 chromadb/chroma</span>
<span class="hljs-attr">client</span> = chromadb.HttpClient(host=<span class="hljs-string">'localhost'</span>, port=<span class="hljs-number">8000</span>)
</code></pre>
<h4 data-id="heading-3">2. åˆ›å»ºé›†åˆå¹¶æ·»åŠ æ•°æ®</h4>
<p>åˆ›å»ºä¸€ä¸ªé›†åˆæ¥ç®¡ç†ä½ çš„æ•°æ®ã€‚å…³é”®æ˜¯é€‰æ‹©åˆé€‚çš„<strong>åµŒå…¥å‡½æ•°ï¼ˆEmbedding Functionï¼‰</strong> ï¼Œå®ƒç›´æ¥å½±å“å‘é‡åŒ–è´¨é‡å’Œæœç´¢æ•ˆæœ ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">import chromadb
from chromadb.utils import embedding_functions

<span class="hljs-comment"># è¿æ¥å®¢æˆ·ç«¯</span>
<span class="hljs-attr">client</span> = chromadb.PersistentClient(path=<span class="hljs-string">"./my_chroma_db"</span>)

<span class="hljs-comment"># é€‰æ‹©åµŒå…¥å‡½æ•° - ä»¥ Sentence Transformer ä¸ºä¾‹ï¼ˆæœ¬åœ°è¿è¡Œï¼Œå…è´¹ï¼‰</span>
<span class="hljs-attr">sentence_transformer_ef</span> = embedding_functions.SentenceTransformerEmbeddingFunction(model_name=<span class="hljs-string">"all-MiniLM-L6-v2"</span>)

<span class="hljs-comment"># åˆ›å»ºé›†åˆæ—¶æŒ‡å®šåµŒå…¥å‡½æ•°</span>
<span class="hljs-attr">collection</span> = client.get_or_create_collection(
    <span class="hljs-attr">name</span>=<span class="hljs-string">"my_knowledge_base"</span>,
    <span class="hljs-attr">embedding_function</span>=sentence_transformer_ef <span class="hljs-comment"># æŒ‡å®šåµŒå…¥å‡½æ•°</span>
)

<span class="hljs-comment"># å‡†å¤‡å¹¶æ·»åŠ æ•°æ®</span>
<span class="hljs-attr">documents</span> = [
    <span class="hljs-string">"ChromaDBæ˜¯ä¸€ä¸ªå¼€æºçš„å‘é‡æ•°æ®åº“ã€‚"</span>,
    <span class="hljs-string">"ç†ŠçŒ«æ˜¯ä¸­å›½çš„å›½å®ï¼Œä¸»è¦ä»¥ç«¹å­ä¸ºé£Ÿã€‚"</span>,
    <span class="hljs-string">"å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰åœ¨è‡ªç„¶è¯­è¨€å¤„ç†ä¸­è¡¨ç°å‡ºè‰²ã€‚"</span>,
    <span class="hljs-string">"åŒ—äº¬æ˜¯ä¸­å›½çš„é¦–éƒ½ï¼Œæ˜¯ä¸€åº§å†å²æ‚ ä¹…çš„åŸå¸‚ã€‚"</span>
]
<span class="hljs-attr">metadatas</span> = [
    {<span class="hljs-string">"topic"</span>: <span class="hljs-string">"database"</span>, <span class="hljs-string">"type"</span>: <span class="hljs-string">"tech"</span>},
    {<span class="hljs-string">"topic"</span>: <span class="hljs-string">"animal"</span>, <span class="hljs-string">"type"</span>: <span class="hljs-string">"nature"</span>},
    {<span class="hljs-string">"topic"</span>: <span class="hljs-string">"AI"</span>, <span class="hljs-string">"type"</span>: <span class="hljs-string">"tech"</span>},
    {<span class="hljs-string">"topic"</span>: <span class="hljs-string">"city"</span>, <span class="hljs-string">"type"</span>: <span class="hljs-string">"geography"</span>}
]
<span class="hljs-attr">ids</span> = [<span class="hljs-string">"doc1"</span>, <span class="hljs-string">"doc2"</span>, <span class="hljs-string">"doc3"</span>, <span class="hljs-string">"doc4"</span>]

<span class="hljs-comment"># æ·»åŠ æ•°æ®åˆ°é›†åˆï¼ŒChromaDBä¼šè‡ªåŠ¨è°ƒç”¨åµŒå…¥å‡½æ•°å°†æ–‡æ¡£è½¬ä¸ºå‘é‡</span>
collection.add(
    <span class="hljs-attr">documents</span>=documents,
    <span class="hljs-attr">metadatas</span>=metadatas,
    <span class="hljs-attr">ids</span>=ids
)
print("æ•°æ®æ·»åŠ æˆåŠŸï¼")
</code></pre>
<h4 data-id="heading-4">3. æ‰§è¡Œè¯­ä¹‰æœç´¢ä¸è¿‡æ»¤</h4>
<p>è¿™æ˜¯ChromaDBçš„æ ¸å¿ƒèƒ½åŠ›ï¼Œå®ƒèƒ½æ‰¾åˆ°è¯­ä¹‰ä¸Šæœ€ç›¸è¿‘çš„ç»“æœï¼Œè€Œä¸ä»…ä»…æ˜¯å…³é”®è¯åŒ¹é…ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># åŸºç¡€è¯­ä¹‰æœç´¢ï¼šç›´æ¥ä½¿ç”¨è‡ªç„¶è¯­è¨€æŸ¥è¯¢</span>
<span class="hljs-attr">results</span> = collection.query(
    <span class="hljs-attr">query_texts</span>=[<span class="hljs-string">"ä¸€ç§åƒç«¹å­çš„åŠ¨ç‰©"</span>], <span class="hljs-comment"># æŸ¥è¯¢æ–‡æœ¬æ˜¯â€œç†ŠçŒ«â€çš„å¦ä¸€ç§è¯´æ³•</span>
    <span class="hljs-attr">n_results</span>=<span class="hljs-number">2</span>
)

print("è¯­ä¹‰æœç´¢ç»“æœæ˜¾ç¤ºå®ƒèƒ½ç†è§£å«ä¹‰:")
for i, doc in enumerate(results<span class="hljs-section">['documents']</span><span class="hljs-section">[0]</span>):
    print(f"{i+1}. {doc} (ID: {results<span class="hljs-section">['ids']</span><span class="hljs-section">[0]</span><span class="hljs-section">[i]</span>})")
    print(f"   å…ƒæ•°æ®: {results<span class="hljs-section">['metadatas']</span><span class="hljs-section">[0]</span><span class="hljs-section">[i]</span>}")
    print(f"   ç›¸ä¼¼åº¦è·ç¦»: {results<span class="hljs-section">['distances']</span><span class="hljs-section">[0]</span><span class="hljs-section">[i]</span>:.4f}") <span class="hljs-comment"># è·ç¦»è¶Šå°è¶Šç›¸ä¼¼</span>

<span class="hljs-comment"># ç»„åˆè¿‡æ»¤æŸ¥è¯¢ï¼šè¯­ä¹‰æœç´¢ + å…ƒæ•°æ®æ¡ä»¶ </span>
print("\nç»“åˆå…ƒæ•°æ®è¿‡æ»¤åçš„ç»“æœï¼ˆåªæœç´¢æŠ€æœ¯ç±»æ–‡æ¡£ï¼‰:")
<span class="hljs-attr">filtered_results</span> = collection.query(
    <span class="hljs-attr">query_texts</span>=[<span class="hljs-string">"ä¸€ç§å¼€æºçš„æ•°æ®åº“æŠ€æœ¯"</span>],
    <span class="hljs-attr">n_results</span>=<span class="hljs-number">2</span>,
    <span class="hljs-attr">where</span>={<span class="hljs-string">"type"</span>: <span class="hljs-string">"tech"</span>} <span class="hljs-comment"># å…ƒæ•°æ®è¿‡æ»¤æ¡ä»¶ï¼šåªè¿”å› type ä¸º tech çš„æ–‡æ¡£</span>
)
for i, doc in enumerate(filtered_results<span class="hljs-section">['documents']</span><span class="hljs-section">[0]</span>):
    print(f"{i+1}. {doc}")
</code></pre>
<h4 data-id="heading-5">4. å®æˆ˜æ¡ˆä¾‹ï¼šä¸ºAI Agentæ·»åŠ é•¿æœŸè®°å¿†</h4>
<p>è¿™æ˜¯ä¸€ä¸ªéå¸¸ç»å…¸çš„åº”ç”¨åœºæ™¯ ã€‚æ™®é€šçš„AIå¯¹è¯æœºå™¨äººæ²¡æœ‰è®°å¿†ï¼Œæ¯æ¬¡å¯¹è¯éƒ½æ˜¯æ–°çš„å¼€å§‹ã€‚åˆ©ç”¨ChromaDBï¼Œæˆ‘ä»¬å¯ä»¥è®©å®ƒè®°ä½ä¹‹å‰çš„å¯¹è¯å†…å®¹ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">AgentMemory</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, persist_directory=<span class="hljs-string">"./agent_memory"</span></span>):
        self.client = chromadb.PersistentClient(path=persist_directory)
        <span class="hljs-comment"># ä½¿ç”¨ä¸€ä¸ªèƒ½ç†è§£ä¸­æ–‡çš„åµŒå…¥æ¨¡å‹</span>
        self.embedding_function = embedding_functions.SentenceTransformerEmbeddingFunction(model_name=<span class="hljs-string">"paraphrase-multilingual-MiniLM-L12-v2"</span>)
        self.collection = self.client.get_or_create_collection(
            name=<span class="hljs-string">"conversation_history"</span>,
            embedding_function=self.embedding_function
        )
        self._next_id = <span class="hljs-number">1</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">remember</span>(<span class="hljs-params">self, conversation_text, metadata=<span class="hljs-literal">None</span></span>):
        <span class="hljs-string">"""è®°ä½ä¸€æ®µå¯¹è¯"""</span>
        doc_id = <span class="hljs-string">f"memory_<span class="hljs-subst">{self._next_id}</span>"</span>
        self._next_id += <span class="hljs-number">1</span>
        self.collection.add(
            documents=[conversation_text],
            metadatas=[metadata] <span class="hljs-keyword">if</span> metadata <span class="hljs-keyword">else</span> [{}],
            ids=[doc_id]
        )
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Agent å·²è®°ä½ä¸€æ®µå¯¹è¯ (ID: <span class="hljs-subst">{doc_id}</span>)"</span>)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">recall_relevant_memories</span>(<span class="hljs-params">self, current_query, n_results=<span class="hljs-number">3</span></span>):
        <span class="hljs-string">"""æ ¹æ®å½“å‰é—®é¢˜ï¼Œå›å¿†ç›¸å…³çš„å†å²å¯¹è¯"""</span>
        results = self.collection.query(
            query_texts=[current_query],
            n_results=n_results
        )
        <span class="hljs-keyword">return</span> results

<span class="hljs-comment"># ä½¿ç”¨ç¤ºä¾‹</span>
agent_brain = AgentMemory()

<span class="hljs-comment"># æ¨¡æ‹Ÿä¸€äº›å†å²å¯¹è¯</span>
agent_brain.remember(<span class="hljs-string">"ç”¨æˆ·æ˜¨å¤©è¯´å–œæ¬¢ç§‘å¹»ç”µå½±ï¼Œç‰¹åˆ«æ˜¯å…³äºæ—¶é—´æ—…è¡Œçš„ã€‚"</span>, metadata={<span class="hljs-string">"date"</span>: <span class="hljs-string">"2024-11-17"</span>, <span class="hljs-string">"topic"</span>: <span class="hljs-string">"preference"</span>})
agent_brain.remember(<span class="hljs-string">"æˆ‘ä»¬ä¸Šå‘¨è®¨è®ºè¿‡ã€Šä¸‰ä½“ã€‹è¿™æœ¬ä¹¦çš„é»‘æš—æ£®æ—æ³•åˆ™ã€‚"</span>, metadata={<span class="hljs-string">"date"</span>: <span class="hljs-string">"2024-11-10"</span>, <span class="hljs-string">"topic"</span>: <span class="hljs-string">"discussion"</span>})

<span class="hljs-comment"># ä»Šå¤©ç”¨æˆ·æå‡ºäº†ä¸€ä¸ªæ–°é—®é¢˜</span>
today_question = <span class="hljs-string">"æœ‰æ²¡æœ‰ç±»ä¼¼ã€Šä¸‰ä½“ã€‹é‚£æ ·æœ‰æ·±åº¦è®¾å®šçš„ç”µå½±æ¨èï¼Ÿ"</span>
relevant_memories = agent_brain.recall_relevant_memories(today_question)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"ç”¨æˆ·å½“å‰é—®é¢˜:"</span>, today_question)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"\nAgent å›å¿†èµ·çš„ç›¸å…³å†å²å¯¹è¯ï¼š"</span>)
<span class="hljs-keyword">for</span> i, memory <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(relevant_memories[<span class="hljs-string">'documents'</span>][<span class="hljs-number">0</span>]):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{i+<span class="hljs-number">1</span>}</span>. <span class="hljs-subst">{memory}</span>"</span>)
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå½“ä½ é—®å‡ºæ–°é—®é¢˜æ—¶ï¼ŒAI Agentä¸å†æ˜¯â€œå¤±å¿†â€çš„ã€‚å®ƒä¼šè‡ªåŠ¨ä»ChromaDBä¸­æ‰¾å‡ºè¯­ä¹‰ä¸Šæœ€ç›¸å…³çš„å†å²å¯¹è¯ï¼Œä»è€Œç»™å‡ºæ›´å…·è¿ç»­æ€§ã€æ›´ä¸ªæ€§åŒ–çš„å›ç­”ã€‚è¿™æ­£æ˜¯<strong>æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰</strong> â€‹ ç³»ç»Ÿçš„æ ¸å¿ƒæ€æƒ³ä¹‹ä¸€ ã€‚</p>
<h3 data-id="heading-6">ğŸ’¡ æœ€ä½³å®è·µä¸æ€»ç»“</h3>






























<table><thead><tr><th>ç‰¹æ€§/åœºæ™¯</th><th>æ¨èåšæ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>åµŒå…¥æ¨¡å‹é€‰æ‹©</strong>â€‹</td><td><strong>èµ·æ­¥/æœ¬åœ°å¼€å‘</strong>ï¼š<code>all-MiniLM-L6-v2</code> <strong>ç”Ÿäº§/é‡è´¨é‡</strong>ï¼š<code>text-embedding-ada-002</code>(OpenAI) <strong>å¤šè¯­è¨€/ä¸­æ–‡</strong>ï¼š<code>text2vec-base-chinese</code></td><td>æ¨¡å‹é€‰æ‹©ç›´æ¥å½±å“æœç´¢ç²¾åº¦ï¼Œä¸­æ–‡åº”ç”¨åŠ¡å¿…é€‰æ”¯æŒä¸­æ–‡çš„æ¨¡å‹ã€‚</td></tr><tr><td><strong>å…ƒæ•°æ®è®¾è®¡</strong>â€‹</td><td>æå‰è§„åˆ’å¥½è¦è®°å½•çš„å­—æ®µï¼Œå¦‚ <code>source</code>, <code>category</code>, <code>author</code>, <code>timestamp</code>ã€‚</td><td>ä¸°å¯Œçš„å…ƒæ•°æ®æ˜¯å®ç°ç²¾å‡†è¿‡æ»¤å’Œé«˜æ•ˆç®¡ç†çš„å…³é”® ã€‚</td></tr><tr><td><strong>éƒ¨ç½²æ¨¡å¼</strong>â€‹</td><td><strong>å¼€å‘æµ‹è¯•</strong>ï¼šå†…å­˜æ¨¡å¼æˆ–æŒä¹…åŒ–æ¨¡å¼ <strong>ç”Ÿäº§ç¯å¢ƒ</strong>ï¼šå®¢æˆ·ç«¯-æœåŠ¡å™¨æ¨¡å¼ï¼ˆå¦‚Dockeréƒ¨ç½²ï¼‰</td><td>ç”Ÿäº§ç¯å¢ƒä¸€å®šè¦ç”¨æœåŠ¡ç«¯æ¨¡å¼ï¼Œä¿è¯ç¨³å®šæ€§å’Œå¯æ‰©å±•æ€§ã€‚</td></tr><tr><td><strong>æ€§èƒ½ä¼˜åŒ–</strong>â€‹</td><td>å¯¹å¤§è§„æ¨¡æ•°æ®é›†ï¼Œå¯è°ƒæ•´HNSWç´¢å¼•å‚æ•°æˆ–åœ¨åº”ç”¨å±‚æ·»åŠ ç¼“å­˜ç­–ç•¥ ã€‚</td><td>æ ¹æ®æ•°æ®é‡å’Œæ€§èƒ½è¦æ±‚è¿›è¡Œè°ƒä¼˜ã€‚</td></tr></tbody></table>
<p><strong>ChromaDBçš„æ ¸å¿ƒä»·å€¼</strong>åœ¨äºï¼Œå®ƒä»¥ä¸€ç§å¼€å‘è€…å‹å¥½ï¼ˆAPIç®€å•ï¼‰ä¸”èµ„æºå‹å¥½ï¼ˆè½»é‡çº§ï¼‰çš„æ–¹å¼ï¼Œå°†å¼ºå¤§çš„è¯­ä¹‰æœç´¢èƒ½åŠ›å¸¦ç»™äº†æ¯ä¸€ä½å¼€å‘è€…ï¼Œæå¤§åœ°é™ä½äº†æ„å»ºæ™ºèƒ½åº”ç”¨çš„é—¨æ§› ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Pythonæ–‡ä»¶ç±»å‹å¤§å…¨ï¼šä».pyåˆ°.pydï¼Œä½ è§è¿‡å‡ ç§ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7573669819029209098</link>    <guid>https://juejin.cn/post/7573669819029209098</guid>    <pubDate>2025-11-18T08:16:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573669819029209098" data-draft-id="7573669819029176330" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Pythonæ–‡ä»¶ç±»å‹å¤§å…¨ï¼šä».pyåˆ°.pydï¼Œä½ è§è¿‡å‡ ç§ï¼Ÿ"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2025-11-18T08:16:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜æ™šæ«"/> <meta itemprop="url" content="https://juejin.cn/user/2327002779758760"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Pythonæ–‡ä»¶ç±»å‹å¤§å…¨ï¼šä».pyåˆ°.pydï¼Œä½ è§è¿‡å‡ ç§ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2327002779758760/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜æ™šæ«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T08:16:22.000Z" title="Tue Nov 18 2025 08:16:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/802ed047c120429a98105172c4ae2d97~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5pma5p6r:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764058582&amp;x-signature=WlKy41c0uGmX0id4N4%2Bi29rOMvg%3D" alt="image.png" loading="lazy"/></p>
<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ç¨‹åºå‘˜æ™šæ«ã€‚</p>
<p>æœ€è¿‘æœ‰äº†[AIç¼–ç¨‹]ï¼ŒPythonçš„çƒ­åº¦é™ä½äº†ï¼Œæˆ‘ä¹Ÿç»ˆäºæœ‰æ—¶é—´å…³æ³¨ä¸€ç›´æ„Ÿå…´è¶£çš„Pythonè¯é¢˜ï¼Œè€Œä¸æ˜¯å›ç­”Pythonæ€ä¹ˆå®‰è£…è¿™ç§å…¥é—¨é—®é¢˜äº†ã€‚</p>
<p>æˆ‘å¯¹äºPythonå…´è¶£çš„æ¢ç´¢ï¼Œä¸»è¦åŸºäºä¸¤æœ¬ä¹¦ï¼šã€Šæµç•…çš„Pythonã€‹ã€ã€ŠPythoné«˜æ€§èƒ½ç¼–ç¨‹ã€‹ã€‚è¶Šæ·±å…¥äº†è§£Pythoné«˜çº§è¯­æ³•ï¼Œè¶Šèƒ½æ·±å…¥ç†è§£è¿™é—¨è¯­è¨€è®¾è®¡çš„ç²¾å¦™ä¹‹å¤„ã€‚</p>
<p>ä»Šå¤©æˆ‘ä»¬æ¥èŠèŠPythonä¸–ç•Œä¸­é‚£äº›å½¢å½¢è‰²è‰²çš„æ–‡ä»¶ç±»å‹ã€‚</p>
<blockquote>
<p>ä½œä¸ºä¸€ä¸ªPythonå¼€å‘è€…ï¼Œä½ è‚¯å®šç»å¸¸è·Ÿ<code>.py</code>æ–‡ä»¶æ‰“äº¤é“ã€‚ä½†Pythonç”Ÿæ€ä¸­å…¶å®è¿˜æœ‰å¾ˆå¤šå…¶ä»–é‡è¦çš„æ–‡ä»¶ç±»å‹ï¼Œæ¯ç§éƒ½æœ‰å…¶ç‹¬ç‰¹çš„ç”¨é€”ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ğŸ“ Pythonæ ¸å¿ƒæ–‡ä»¶ç±»å‹</h2>





















































<table><thead><tr><th>æ–‡ä»¶ç±»å‹</th><th>ä¸»è¦ç”¨é€”</th><th>æ˜¯å¦å¯è¯»</th><th>ç”Ÿæˆæ–¹å¼</th></tr></thead><tbody><tr><td><strong>.py</strong></td><td>Pythonæºä»£ç </td><td>âœ… æ˜¯</td><td>æ‰‹åŠ¨åˆ›å»º</td></tr><tr><td><strong>.pyc</strong></td><td>ç¼–è¯‘åçš„å­—èŠ‚ç </td><td>âŒ å¦</td><td>Pythonè‡ªåŠ¨ç”Ÿæˆ</td></tr><tr><td><strong>.pyo</strong></td><td>ä¼˜åŒ–åçš„å­—èŠ‚ç </td><td>âŒ å¦</td><td>Pythonå¸¦-Oå‚æ•°ç”Ÿæˆ</td></tr><tr><td><strong>.pyd</strong></td><td>WindowsåŠ¨æ€é“¾æ¥åº“</td><td>âŒ å¦</td><td>Cython/Cæ‰©å±•ç¼–è¯‘</td></tr><tr><td><strong>.so</strong></td><td>Linux/MacåŠ¨æ€åº“</td><td>âŒ å¦</td><td>Cython/Cæ‰©å±•ç¼–è¯‘</td></tr><tr><td><strong>.pyw</strong></td><td>æ— æ§åˆ¶å°Pythonè„šæœ¬</td><td>âœ… æ˜¯</td><td>æ‰‹åŠ¨åˆ›å»º</td></tr><tr><td><strong>.pyx</strong></td><td>Cythonæºä»£ç </td><td>âœ… æ˜¯</td><td>æ‰‹åŠ¨åˆ›å»º</td></tr></tbody></table>
<p>æœ‰ä¸€äº›æ–‡ä»¶ç±»å‹ä½ å¯èƒ½æ²¡è§è¿‡ï¼Œæœ‰2ç§åŸå› ï¼š</p>
<ul>
<li>ä½ æ²¡æœ‰è¿™ä¹ˆå¤æ‚çš„å·¥ä½œåœºæ™¯ï¼Œä¾‹å¦‚soæ–‡ä»¶çš„ä½¿ç”¨</li>
<li>éƒ¨åˆ†ç±»å‹è¢«ç¼–è¾‘å™¨ç»™è‡ªåŠ¨å±è”½äº†ï¼Œä¾‹å¦‚ï¼špycæ–‡ä»¶</li>
</ul>
<h2 data-id="heading-1">ğŸ”§ è¯¦ç»†è§£æ</h2>
<h3 data-id="heading-2">1. .py - Pythonæºä»£ç æ–‡ä»¶</h3>
<p>è¿™æ˜¯æœ€å¸¸è§çš„Pythonæ–‡ä»¶ï¼ŒåŒ…å«äººç±»å¯è¯»çš„Pythonä»£ç ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># hello.py</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">greet</span>(<span class="hljs-params">name</span>):
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"Hello, <span class="hljs-subst">{name}</span>!"</span>

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-built_in">print</span>(greet(<span class="hljs-string">"Pythonå¼€å‘è€…: ç¨‹åºå‘˜æ™šæ«"</span>))
</code></pre>
<h3 data-id="heading-3">2. .pyc - ç¼–è¯‘å­—èŠ‚ç æ–‡ä»¶</h3>
<p>Pythonè§£é‡Šå™¨å°†.pyæ–‡ä»¶ç¼–è¯‘æˆå­—èŠ‚ç ï¼ŒåŠ é€Ÿåç»­æ‰§è¡Œã€‚</p>
<p><strong>ç”Ÿæˆæ–¹å¼</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Pythonä¼šè‡ªåŠ¨åœ¨__pycache__ç›®å½•ç”Ÿæˆ.pycæ–‡ä»¶</span>
python -m py_compile hello.py
</code></pre>
<p><strong>æ–‡ä»¶ç»“æ„</strong>ï¼š</p>
<ul>
<li>ä½äº<code>__pycache__</code>ç›®å½•</li>
<li>å‘½åæ ¼å¼ï¼š<code>hello.cpython-39.pyc</code></li>
<li>åŒ…å«Pythonå­—èŠ‚ç ï¼Œä¸æ˜¯æœºå™¨ç </li>
</ul>
<h3 data-id="heading-4">3. .pyd - WindowsåŠ¨æ€é“¾æ¥åº“</h3>
<p><code>.pyd</code>æ–‡ä»¶æœ¬è´¨ä¸Šæ˜¯DLLæ–‡ä»¶ï¼Œä½†å¯ä»¥è¢«Pythonç›´æ¥å¯¼å…¥ã€‚</p>
<blockquote>
<p>è¿™ç§ç±»å‹ï¼Œå¯ä»¥ç†è§£ä¸ºjavaä¸­çš„jaråŒ…æ ¼å¼ï¼Œå¯ä»¥æ‰“åŒ…åç»™åˆ«äººä½¿ç”¨ã€‚</p>
</blockquote>
<p><strong>åˆ›å»ºç¤ºä¾‹</strong>ï¼ˆä½¿ç”¨Cythonï¼‰ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å®‰è£…Cython</span>
pip install cython

<span class="hljs-comment"># åˆ›å»ºCythonæ–‡ä»¶</span>
<span class="hljs-comment"># hello.pyx</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">cython_greet</span>(<span class="hljs-params">name</span>):
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"Hello from Cython, <span class="hljs-subst">{name}</span>!"</span>

<span class="hljs-comment"># setup.py</span>
<span class="hljs-keyword">from</span> setuptools <span class="hljs-keyword">import</span> setup
<span class="hljs-keyword">from</span> Cython.Build <span class="hljs-keyword">import</span> cythonize

setup(ext_modules=cythonize(<span class="hljs-string">"hello.pyx"</span>))

<span class="hljs-comment"># ç¼–è¯‘ç”Ÿæˆ.pyd</span>
python setup.py build_ext --inplace
</code></pre>
<p><strong>ä½¿ç”¨.pydæ–‡ä»¶</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åƒæ™®é€šæ¨¡å—ä¸€æ ·å¯¼å…¥</span>
<span class="hljs-keyword">import</span> hello
<span class="hljs-built_in">print</span>(hello.cython_greet(<span class="hljs-string">"ç¨‹åºå‘˜æ™šæ«"</span>))
</code></pre>
<h3 data-id="heading-5">4. .pyx - Cythonæºä»£ç æ–‡ä»¶</h3>
<p>Cythonæ˜¯Pythonçš„è¶…é›†ï¼Œå…è®¸ç¼–å†™Cæ‰©å±•ã€‚</p>
<pre><code class="hljs language-cython" lang="cython"># fastmath.pyx
def fibonacci(int n):
    cdef int i
    cdef double a = 0.0, b = 1.0
    for i in range(n):
        a, b = b, a + b
    return a
</code></pre>
<h3 data-id="heading-6">5. .pyw - æ— æ§åˆ¶å°è„šæœ¬</h3>
<p>åœ¨Windowsä¸Šï¼Œ<code>.pyw</code>æ–‡ä»¶è¿è¡Œæ—¶ä¸ä¼šæ˜¾ç¤ºæ§åˆ¶å°çª—å£ï¼Œé€‚åˆGUIåº”ç”¨ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># my_app.pyw</span>
<span class="hljs-keyword">import</span> tkinter <span class="hljs-keyword">as</span> tk

root = tk.Tk()
root.title(<span class="hljs-string">"æ— æ§åˆ¶å°åº”ç”¨"</span>)
root.mainloop()
</code></pre>
<h2 data-id="heading-7">ğŸ“¦ åŒ…ä¸åˆ†å‘æ–‡ä»¶</h2>
<h3 data-id="heading-8">åŒ…ç›¸å…³æ–‡ä»¶</h3>

















<table><thead><tr><th>æ–‡ä»¶ç±»å‹</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><strong><strong>init</strong>.py</strong></td><td>åŒ…åˆå§‹åŒ–æ–‡ä»¶ï¼ˆPython 3.3+å¯é€‰ï¼‰</td></tr><tr><td><strong><strong>main</strong>.py</strong></td><td>åŒ…ä½œä¸ºè„šæœ¬æ‰§è¡Œæ—¶çš„å…¥å£</td></tr></tbody></table>
<h3 data-id="heading-9">åˆ†å‘ä¸å®‰è£…</h3>

































<table><thead><tr><th>æ–‡ä»¶ç±»å‹</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><strong>.whl</strong></td><td>PythonåŒ…çš„åˆ†å‘æ ¼å¼ï¼ˆwheelï¼‰</td></tr><tr><td><strong>.egg</strong></td><td>æ—§ç‰ˆåŒ…åˆ†å‘æ ¼å¼</td></tr><tr><td><strong>setup.py</strong></td><td>åŒ…å®‰è£…è„šæœ¬</td></tr><tr><td><strong>setup.cfg</strong></td><td>åŒ…é…ç½®</td></tr><tr><td><strong>pyproject.toml</strong></td><td>ç°ä»£åŒ…é…ç½®</td></tr><tr><td><strong>requirements.txt</strong></td><td>ä¾èµ–åˆ—è¡¨</td></tr></tbody></table>
<h2 data-id="heading-10">ğŸ› ï¸ é…ç½®æ–‡ä»¶ç±»å‹</h2>
<h3 data-id="heading-11">é¡¹ç›®é…ç½®</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># pyproject.tomlï¼ˆç°ä»£Pythoné¡¹ç›®ï¼‰</span>
[build-system]
requires = [<span class="hljs-string">"setuptools"</span>, <span class="hljs-string">"wheel"</span>]

[project]
name = <span class="hljs-string">"my-project"</span>
version = <span class="hljs-string">"0.1.0"</span>

<span class="hljs-comment"># setup.cfgï¼ˆä¼ ç»Ÿé…ç½®ï¼‰</span>
[metadata]
name = my-project
version = <span class="hljs-number">0.1</span><span class="hljs-number">.0</span>

<span class="hljs-comment"># requirements.txt</span>
requests&gt;=<span class="hljs-number">2.25</span><span class="hljs-number">.0</span>
pandas&gt;=<span class="hljs-number">1.3</span><span class="hljs-number">.0</span>
</code></pre>
<h3 data-id="heading-12">ç¯å¢ƒä¸å·¥å…·é…ç½®</h3>

























<table><thead><tr><th>æ–‡ä»¶ç±»å‹</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><strong>.python-version</strong></td><td>pyenvç‰ˆæœ¬æ–‡ä»¶</td></tr><tr><td><strong>Pipfile</strong></td><td>pipenvä¾èµ–ç®¡ç†</td></tr><tr><td><strong>Pipfile.lock</strong></td><td>ä¾èµ–é”æ–‡ä»¶</td></tr><tr><td><strong>environment.yml</strong></td><td>condaç¯å¢ƒé…ç½®</td></tr></tbody></table>
<h2 data-id="heading-13">ğŸ” ç‰¹æ®Šç”¨é€”æ–‡ä»¶</h2>
<h3 data-id="heading-14">1. .pyi - å­˜æ ¹æ–‡ä»¶</h3>
<p>ç”¨äºç±»å‹æç¤ºï¼Œä¸åŒ…å«å®ç°ä»£ç ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># math.pyi</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">sqrt</span>(<span class="hljs-params">x: <span class="hljs-built_in">float</span></span>) -&gt; <span class="hljs-built_in">float</span>: ...
<span class="hljs-keyword">def</span> <span class="hljs-title function_">pow</span>(<span class="hljs-params">x: <span class="hljs-built_in">float</span>, y: <span class="hljs-built_in">float</span></span>) -&gt; <span class="hljs-built_in">float</span>: ...
</code></pre>
<h3 data-id="heading-15">2. .pth - è·¯å¾„é…ç½®æ–‡ä»¶</h3>
<p>åœ¨Pythonè·¯å¾„ä¸­æ·»åŠ è‡ªå®šä¹‰è·¯å¾„ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># my_paths.pth</span>
/home/user/my_python_libs
../relative/path/to/modules
</code></pre>
<h3 data-id="heading-16">3. .pyz - è‡ªåŒ…å«åº”ç”¨</h3>
<p>åŒ…å«æ‰€æœ‰ä¾èµ–çš„zipåº”ç”¨ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»º.pyzæ–‡ä»¶</span>
python -m zipapp my_app -o app.pyz

<span class="hljs-comment"># è¿è¡Œ</span>
python app.pyz
</code></pre>
<h2 data-id="heading-17">ğŸ’» å¼€å‘å·¥å…·æ–‡ä»¶</h2>
<h3 data-id="heading-18">æµ‹è¯•ç›¸å…³</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># test_example.py</span>
<span class="hljs-keyword">import</span> pytest

<span class="hljs-keyword">def</span> <span class="hljs-title function_">test_addition</span>():
    <span class="hljs-keyword">assert</span> <span class="hljs-number">1</span> + <span class="hljs-number">1</span> == <span class="hljs-number">2</span>

<span class="hljs-comment"># conftest.pyï¼ˆpytesté…ç½®ï¼‰</span>
<span class="hljs-keyword">import</span> pytest

<span class="hljs-meta">@pytest.fixture</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">sample_data</span>():
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"key"</span>: <span class="hljs-string">"value"</span>}
</code></pre>
<h3 data-id="heading-19">ä»£ç è´¨é‡</h3>

























<table><thead><tr><th>æ–‡ä»¶ç±»å‹</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><strong>.pylintrc</strong></td><td>Pylinté…ç½®</td></tr><tr><td><strong>.flake8</strong></td><td>Flake8é…ç½®</td></tr><tr><td><strong>.coveragerc</strong></td><td>æµ‹è¯•è¦†ç›–ç‡é…ç½®</td></tr><tr><td><strong>.pre-commit-config.yaml</strong></td><td>Gité’©å­é…ç½®</td></tr></tbody></table>
<h2 data-id="heading-20">ğŸ¯ å®é™…é¡¹ç›®ç¤ºä¾‹</h2>
<p>ä¸€ä¸ªå…¸å‹çš„Pythoné¡¹ç›®ç»“æ„ï¼š</p>
<pre><code class="hljs language-css" lang="css">my_project/
â”œâ”€â”€ <span class="hljs-attribute">src</span>/
â”‚   â”œâ”€â”€ __init__<span class="hljs-selector-class">.py</span>
â”‚   â”œâ”€â”€ <span class="hljs-selector-tag">main</span><span class="hljs-selector-class">.py</span>
â”‚   â””â”€â”€ utils<span class="hljs-selector-class">.py</span>
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ __init__<span class="hljs-selector-class">.py</span>
â”‚   â””â”€â”€ test_main<span class="hljs-selector-class">.py</span>
â”œâ”€â”€ docs/
â”‚   â””â”€â”€ conf<span class="hljs-selector-class">.py</span>
â”œâ”€â”€ <span class="hljs-selector-class">.python-version</span>
â”œâ”€â”€ pyproject<span class="hljs-selector-class">.toml</span>
â”œâ”€â”€ requirements<span class="hljs-selector-class">.txt</span>
â”œâ”€â”€ setup<span class="hljs-selector-class">.py</span>
â””â”€â”€ README<span class="hljs-selector-class">.md</span>
</code></pre>
<h2 data-id="heading-21">ğŸ’¡ å®ç”¨æŠ€å·§</h2>
<h3 data-id="heading-22">1. æŸ¥çœ‹.pycæ–‡ä»¶å†…å®¹</h3>
<pre><code class="hljs language-bash" lang="bash">python -m dis hello.pyc
</code></pre>
<h3 data-id="heading-23">2. å°†PythonåŒ…ç¼–è¯‘æˆ.pyd</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ä½¿ç”¨Cythonæ‰¹é‡ç¼–è¯‘</span>
<span class="hljs-keyword">from</span> Cython.Build <span class="hljs-keyword">import</span> cythonize
<span class="hljs-keyword">from</span> setuptools <span class="hljs-keyword">import</span> setup, Extension

extensions = [
    Extension(<span class="hljs-string">"my_module"</span>, [<span class="hljs-string">"my_module.pyx"</span>])
]

setup(ext_modules=cythonize(extensions))
</code></pre>
<h3 data-id="heading-24">3. åˆ›å»ºä¸“ä¸šçš„åˆ†å‘åŒ…</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># setup.py</span>
<span class="hljs-keyword">from</span> setuptools <span class="hljs-keyword">import</span> setup, find_packages

setup(
    name=<span class="hljs-string">"my-package"</span>,
    version=<span class="hljs-string">"1.0.0"</span>,
    packages=find_packages(),
    install_requires=[
        <span class="hljs-string">"requests&gt;=2.25.0"</span>,
    ],
    entry_points={
        <span class="hljs-string">'console_scripts'</span>: [
            <span class="hljs-string">'my-command=my_package.cli:main'</span>,
        ],
    },
)
</code></pre>
<h2 data-id="heading-25">ğŸš€ æ€§èƒ½å¯¹æ¯”ï¼š.py vs .pyd</h2>
<p>åœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œç¼–è¯‘æˆ.pydå¯ä»¥æ˜¾è‘—æå‡æ€§èƒ½ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ€§èƒ½æµ‹è¯•ç¤ºä¾‹</span>
<span class="hljs-keyword">import</span> timeit

<span class="hljs-comment"># Pythonç‰ˆæœ¬</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">python_fib</span>(<span class="hljs-params">n</span>):
    <span class="hljs-keyword">if</span> n &lt;= <span class="hljs-number">1</span>:
        <span class="hljs-keyword">return</span> n
    <span class="hljs-keyword">return</span> python_fib(n-<span class="hljs-number">1</span>) + python_fib(n-<span class="hljs-number">2</span>)

<span class="hljs-comment"># Cythonç¼–è¯‘ç‰ˆæœ¬ï¼ˆå‡è®¾å·²ç¼–è¯‘ä¸º.pydï¼‰</span>
<span class="hljs-keyword">from</span> cython_fib <span class="hljs-keyword">import</span> cython_fib

<span class="hljs-comment"># æµ‹è¯•æ€§èƒ½</span>
n = <span class="hljs-number">35</span>
python_time = timeit.timeit(<span class="hljs-keyword">lambda</span>: python_fib(n), number=<span class="hljs-number">1</span>)
cython_time = timeit.timeit(<span class="hljs-keyword">lambda</span>: cython_fib(n), number=<span class="hljs-number">1</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"Python: <span class="hljs-subst">{python_time:<span class="hljs-number">.2</span>f}</span>s"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"Cython: <span class="hljs-subst">{cython_time:<span class="hljs-number">.2</span>f}</span>s"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"åŠ é€Ÿæ¯”: <span class="hljs-subst">{python_time/cython_time:<span class="hljs-number">.1</span>f}</span>x"</span>)
</code></pre>
<h2 data-id="heading-26">ğŸ“Š æ€»ç»“</h2>
<p>Pythonçš„æ–‡ä»¶ç”Ÿæ€ç³»ç»Ÿéå¸¸ä¸°å¯Œï¼Œä»æºä»£ç åˆ°ç¼–è¯‘æ–‡ä»¶ï¼Œä»é…ç½®åˆ°åˆ†å‘ï¼Œæ¯ç§æ–‡ä»¶ç±»å‹éƒ½æœ‰å…¶ç‰¹å®šç”¨é€”ï¼š</p>
<ul>
<li><strong>å¼€å‘é˜¶æ®µ</strong>ï¼šä¸»è¦ä½¿ç”¨<code>.py</code>ã€<code>.pyx</code></li>
<li><strong>è¿è¡Œé˜¶æ®µ</strong>ï¼šæ¶‰åŠ<code>.pyc</code>ã€<code>.pyd</code>ã€<code>.so</code></li>
<li><strong>åˆ†å‘é˜¶æ®µ</strong>ï¼šä½¿ç”¨<code>.whl</code>ã€<code>.egg</code></li>
<li><strong>é…ç½®ç®¡ç†</strong>ï¼šå„ç§é…ç½®æ–‡ä»¶</li>
</ul>
<p>æŒæ¡è¿™äº›æ–‡ä»¶ç±»å‹çš„ç‰¹ç‚¹å’Œç”¨é€”ï¼Œèƒ½å¤Ÿå¸®åŠ©ä½ æ›´å¥½åœ°ç»„ç»‡é¡¹ç›®ã€ä¼˜åŒ–æ€§èƒ½å’Œç®¡ç†ä¾èµ–ã€‚</p>
<hr/>
<p><strong>äº’åŠ¨è¯é¢˜</strong>ï¼šä½ åœ¨é¡¹ç›®ä¸­è¿˜é‡åˆ°è¿‡å“ªäº›ç‰¹æ®Šçš„Pythonæ–‡ä»¶ç±»å‹ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„ç»éªŒï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è·¨åŸŸé—®é¢˜æ·±åº¦å‰–æï¼šä¸ºä½•CORSè®¾ç½®äº†è¿˜æ˜¯æŠ¥é”™ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7573669819029028874</link>    <guid>https://juejin.cn/post/7573669819029028874</guid>    <pubDate>2025-11-18T07:56:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573669819029028874" data-draft-id="7573710392212881435" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è·¨åŸŸé—®é¢˜æ·±åº¦å‰–æï¼šä¸ºä½•CORSè®¾ç½®äº†è¿˜æ˜¯æŠ¥é”™ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-18T07:56:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Function66"/> <meta itemprop="url" content="https://juejin.cn/user/2436173499477623"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è·¨åŸŸé—®é¢˜æ·±åº¦å‰–æï¼šä¸ºä½•CORSè®¾ç½®äº†è¿˜æ˜¯æŠ¥é”™ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2436173499477623/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Function66
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T07:56:57.000Z" title="Tue Nov 18 2025 07:56:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    11
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é—®é¢˜èƒŒæ™¯</h2>
<p>æœ€è¿‘åœ¨é¡¹ç›®ä¸­é‡åˆ°äº†ä¸€ä¸ªæ£˜æ‰‹çš„è·¨åŸŸé—®é¢˜ï¼šBåŸŸåçš„ç½‘é¡µè¢«åµŒå…¥åœ¨AåŸŸåå†…éƒ¨ï¼ŒBåŸŸåçš„æ¥å£è¯·æ±‚ä¹Ÿå‡ºç°äº†è·¨åŸŸé”™è¯¯ã€‚å°½ç®¡åç«¯åŒå­¦å·²ç»é…ç½®äº†<code>Access-Control-Allow-Origin</code>ç­‰CORSç›¸å…³å¤´éƒ¨ï¼Œä½†æ§åˆ¶å°ä»ç„¶æŒç»­æŠ¥è·¨åŸŸé”™è¯¯ã€‚</p>
<h2 data-id="heading-1">é—®é¢˜æ’æŸ¥è¿‡ç¨‹</h2>
<h3 data-id="heading-2">åˆæ­¥æ’æŸ¥</h3>
<p>ä¸€å¼€å§‹æˆ‘ä»¬æŒ‰ç…§å¸¸è§„è·¨åŸŸé—®é¢˜çš„æ’æŸ¥æ€è·¯ï¼š</p>
<ul>
<li>æ£€æŸ¥åç«¯CORSé…ç½®æ˜¯å¦æ­£ç¡®</li>
<li>éªŒè¯<code>Access-Control-Allow-Origin</code>å¤´æ˜¯å¦åŒ…å«AåŸŸå</li>
<li>ç¡®è®¤<code>Access-Control-Allow-Credentials</code>è®¾ç½®ä¸ºtrue</li>
</ul>
<p>ä½†æ‰€æœ‰è¿™äº›é…ç½®éƒ½æ­£ç¡®ï¼Œé—®é¢˜ä¾ç„¶å­˜åœ¨ã€‚</p>
<h3 data-id="heading-3">æ·±å…¥åˆ†æ</h3>
<p>ç»è¿‡ä»”ç»†æ’æŸ¥ï¼Œå‘ç°äº†é—®é¢˜çš„æœ¬è´¨ï¼š<strong>BåŸŸåæ²¡æœ‰æˆåŠŸæºå¸¦AåŸŸåçš„Cookie</strong>ï¼Œå¯¼è‡´è¯·æ±‚è¢«æœåŠ¡ç«¯çš„passportæƒé™æ‹¦æˆªä¸­é—´ä»¶æ‹¦æˆªï¼Œä»è€Œè§¦å‘äº†è·¨åŸŸé”™è¯¯ã€‚</p>
<p>è¿™é‡Œçš„å…³é”®ç‚¹æ˜¯ï¼šå³ä½¿åç«¯æ­£ç¡®é…ç½®äº†CORSï¼Œå¦‚æœè¯·æ±‚å› ä¸ºæƒé™é—®é¢˜è¢«å‰ç«¯ä¸­é—´ä»¶æ‹¦æˆªï¼ŒåŒæ ·ä¼šè¡¨ç°ä¸ºè·¨åŸŸé”™è¯¯ã€‚</p>
<h2 data-id="heading-4">è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-5">æ–¹æ¡ˆä¸€ï¼šç§æ¤Cookieæ–¹æ¡ˆ</h3>
<p>javascript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Bé¡µé¢ä¸­çš„è¯·æ±‚å¤„ç†</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">makeRequest</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> xhr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">XMLHttpRequest</span>();
  
  <span class="hljs-comment">// å…³é”®ï¼šæ·»åŠ x-requested-withå¤´ï¼Œé˜»æ­¢æµè§ˆå™¨è‡ªåŠ¨å¤„ç†302é‡å®šå‘</span>
  xhr.<span class="hljs-title function_">setRequestHeader</span>(<span class="hljs-string">'x-requested-with'</span>, <span class="hljs-string">'XMLHttpRequest'</span>);
  
  xhr.<span class="hljs-property">onreadystatechange</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (xhr.<span class="hljs-property">readyState</span> === <span class="hljs-number">4</span>) {
      <span class="hljs-keyword">if</span> (xhr.<span class="hljs-property">status</span> === <span class="hljs-number">302</span>) {
        <span class="hljs-comment">// æ‰‹åŠ¨å¤„ç†302é‡å®šå‘</span>
        <span class="hljs-keyword">const</span> redirectUrl = <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">href</span>;
        <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">href</span> = <span class="hljs-string">`/sso/logon?redirectUrl=<span class="hljs-subst">${<span class="hljs-built_in">encodeURIComponent</span>(redirectUrl)}</span>`</span>;
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (xhr.<span class="hljs-property">status</span> === <span class="hljs-number">200</span>) {
        <span class="hljs-comment">// æ­£å¸¸å¤„ç†å“åº”</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è¯·æ±‚æˆåŠŸ'</span>, xhr.<span class="hljs-property">responseText</span>);
      }
    }
  };
  
  xhr.<span class="hljs-title function_">open</span>(<span class="hljs-string">'GET'</span>, <span class="hljs-string">'/api/data'</span>, <span class="hljs-literal">true</span>);
  xhr.<span class="hljs-title function_">send</span>();
}
</code></pre>
<p><strong>åç«¯é…åˆè°ƒæ•´ï¼š</strong></p>
<p>java</p>
<pre><code class="hljs language-vbscript" lang="vbscript">// å½“æ£€æµ‹åˆ°x-requested-<span class="hljs-keyword">with</span>å¤´æ—¶ï¼Œä¸è‡ªåŠ¨é‡å®šå‘
<span class="hljs-keyword">if</span> (<span class="hljs-string">"XMLHttpRequest"</span>.equals(<span class="hljs-built_in">request</span>.getHeader(<span class="hljs-string">"x-requested-with"</span>))) {
    <span class="hljs-built_in">response</span>.setStatus(<span class="hljs-number">302</span>);
    <span class="hljs-built_in">response</span>.setHeader(<span class="hljs-string">"Location"</span>, <span class="hljs-string">""</span>); // æ¸…ç©ºæˆ–ä¸è®¾ç½®Locationå¤´
    // é€šè¿‡å…¶ä»–æ–¹å¼ä¼ é€’é‡å®šå‘URLï¼Œå¦‚å“åº”ä½“
} <span class="hljs-keyword">else</span> {
    <span class="hljs-built_in">response</span>.sendRedirect(<span class="hljs-string">"/sso/logon?redirectUrl="</span> + url);
}
</code></pre>
<p><strong>æ–¹æ¡ˆç¼ºé™·ï¼š</strong></p>
<ul>
<li>éƒ¨åˆ†æµè§ˆå™¨å‡ºäºå®‰å…¨ç­–ç•¥è€ƒè™‘ï¼Œç¦æ­¢è·¨åŸŸåç§æ¤Cookie</li>
<li>å®ç°ç›¸å¯¹å¤æ‚ï¼Œéœ€è¦å‰åç«¯ååŒè°ƒæ•´</li>
</ul>
<h3 data-id="heading-6">æ–¹æ¡ˆäºŒï¼šåŒæºéƒ¨ç½²æ–¹æ¡ˆï¼ˆæ¨èï¼‰</h3>
<p>å°†Bé¡µé¢çš„æ¨¡æ¿ç›´æ¥éƒ¨ç½²åˆ°AåŸŸåçš„æœåŠ¡å™¨ä¸Šï¼Œä»æ ¹æœ¬ä¸Šæ¶ˆé™¤è·¨åŸŸé—®é¢˜ã€‚</p>
<p><strong>å®æ–½æ­¥éª¤ï¼š</strong></p>
<ol>
<li>å°†Bé¡µé¢çš„å‰ç«¯èµ„æºæ‰“åŒ…éƒ¨ç½²åˆ°AåŸŸåæœåŠ¡</li>
<li>è°ƒæ•´è·¯ç”±é…ç½®ï¼Œç¡®ä¿Bé¡µé¢çš„è®¿é—®è·¯å¾„åœ¨AåŸŸåä¸‹</li>
<li>æ›´æ–°æ‰€æœ‰ç›¸å…³çš„èµ„æºå¼•ç”¨è·¯å¾„</li>
</ol>
<p>nginx</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Nginxé…ç½®ç¤ºä¾‹</span>
server {
    listen 80;
    server_name a-domain.com;
    
    location /b-page/ {
        <span class="hljs-comment"># ä»£ç†åˆ°Bé¡µé¢æœåŠ¡æˆ–ç›´æ¥æœåŠ¡é™æ€èµ„æº</span>
        proxy_pass http://b-service/;
        <span class="hljs-comment"># æˆ–è€…ç›´æ¥æœåŠ¡æœ¬åœ°æ–‡ä»¶</span>
        root /path/to/b-page-static-files;
    }
    
    location /api/ {
        proxy_pass http://b-api-service/;
    }
}
</code></pre>
<p><strong>ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>å½»åº•è§£å†³è·¨åŸŸé—®é¢˜</li>
<li>Cookieè‡ªç„¶å…±äº«ï¼Œæ— éœ€ç‰¹æ®Šå¤„ç†</li>
<li>æ›´å¥½çš„æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒ</li>
</ul>
<h2 data-id="heading-7">æŠ€æœ¯è¦ç‚¹æ€»ç»“</h2>
<h3 data-id="heading-8">1. CORSä¸Cookieçš„å…³ç³»</h3>
<ul>
<li>è·¨åŸŸè¯·æ±‚é»˜è®¤ä¸æºå¸¦Cookie</li>
<li>éœ€è¦è®¾ç½®<code>withCredentials: true</code>ï¼ˆå‰ç«¯ï¼‰å’Œ<code>Access-Control-Allow-Credentials: true</code>ï¼ˆåç«¯ï¼‰</li>
<li><code>Access-Control-Allow-Origin</code>ä¸èƒ½ä¸º<code>*</code>ï¼Œå¿…é¡»æŒ‡å®šå…·ä½“åŸŸå</li>
</ul>
<h3 data-id="heading-9">2. 302é‡å®šå‘çš„Ajaxå¤„ç†</h3>
<ul>
<li>é»˜è®¤æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å¤„ç†302é‡å®šå‘ï¼Œå‰ç«¯æ— æ³•æ‹¦æˆª</li>
<li>é€šè¿‡<code>x-requested-with: XMLHttpRequest</code>å¤´å‘ŠçŸ¥åç«¯éœ€è¦ç‰¹æ®Šå¤„ç†</li>
<li>åç«¯æ®æ­¤å†³å®šæ˜¯å¦è®©å‰ç«¯æ‰‹åŠ¨å¤„ç†é‡å®šå‘</li>
</ul>
<h3 data-id="heading-10">3. è·¨åŸŸé—®é¢˜çš„æœ¬è´¨</h3>
<p>è·¨åŸŸé—®é¢˜ä¸ä»…ä»…æ˜¯æŠ€æœ¯é…ç½®é—®é¢˜ï¼Œæ›´æ˜¯å®‰å…¨ç­–ç•¥çš„ä½“ç°ã€‚æµè§ˆå™¨çš„åŒæºç­–ç•¥æ˜¯ä¸ºäº†ä¿æŠ¤ç”¨æˆ·æ•°æ®å®‰å…¨ã€‚</p>
<h2 data-id="heading-11">ç»éªŒæ•™è®­</h2>
<ol>
<li><strong>ä¸è¦ç›²ç›®ç›¸ä¿¡é”™è¯¯ä¿¡æ¯</strong>ï¼šè·¨åŸŸé”™è¯¯å¯èƒ½æ˜¯å…¶ä»–é—®é¢˜çš„è¡¨è±¡</li>
<li><strong>ç³»ç»ŸåŒ–æ’æŸ¥</strong>ï¼šä»å‰ç«¯åˆ°åç«¯ï¼Œä»ç½‘ç»œåˆ°å®‰å…¨ç­–ç•¥å…¨é¢æ’æŸ¥</li>
<li><strong>ä¼˜å…ˆé€‰æ‹©æ ¹æœ¬è§£å†³æ–¹æ¡ˆ</strong>ï¼šç›¸æ¯”å„ç§workaroundï¼Œä»æ¶æ„å±‚é¢è§£å†³é—®é¢˜æ›´å¯é </li>
</ol>
<h2 data-id="heading-12">ç»“è¯­</h2>
<p>è·¨åŸŸé—®é¢˜æ˜¯å‰ç«¯å¼€å‘ä¸­çš„å¸¸è§æŒ‘æˆ˜ï¼Œç†è§£å…¶èƒŒåçš„åŸç†å’Œæµè§ˆå™¨å®‰å…¨ç­–ç•¥è‡³å…³é‡è¦ã€‚é€šè¿‡è¿™æ¬¡é—®é¢˜çš„è§£å†³ï¼Œæˆ‘ä»¬ä¸ä»…ä¿®å¤äº†bugï¼Œæ›´é‡è¦çš„æ˜¯åŠ æ·±äº†å¯¹Webå®‰å…¨æœºåˆ¶çš„ç†è§£ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React Native è‡ªå®šä¹‰å­—ä½“å¯¼è‡´ Text / TextInput æ–‡æœ¬å‚ç›´ä¸å±…ä¸­çš„ç»ˆæè§£å†³æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7573968791202381870</link>    <guid>https://juejin.cn/post/7573968791202381870</guid>    <pubDate>2025-11-18T08:10:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573968791202381870" data-draft-id="7573694361474646043" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React Native è‡ªå®šä¹‰å­—ä½“å¯¼è‡´ Text / TextInput æ–‡æœ¬å‚ç›´ä¸å±…ä¸­çš„ç»ˆæè§£å†³æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="React Native,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-18T08:10:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="konh"/> <meta itemprop="url" content="https://juejin.cn/user/1345407452197118"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React Native è‡ªå®šä¹‰å­—ä½“å¯¼è‡´ Text / TextInput æ–‡æœ¬å‚ç›´ä¸å±…ä¸­çš„ç»ˆæè§£å†³æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1345407452197118/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    konh
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T08:10:55.000Z" title="Tue Nov 18 2025 08:10:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><hr/>
<h2 data-id="heading-0">ğŸ“ <strong>React Native è‡ªå®šä¹‰å­—ä½“å¯¼è‡´ Text / TextInput æ–‡æœ¬å‚ç›´ä¸å±…ä¸­çš„ç»ˆæè§£å†³æ–¹æ¡ˆ</strong></h2>
<blockquote>
<p>é€‚ç”¨<br/>
âœ” React Nativeï¼ˆ0.71+ï¼‰<br/>
âœ” Expoï¼ˆæ‰€æœ‰ç‰ˆæœ¬ï¼‰<br/>
âœ” iOS + Android<br/>
âœ” è‡ªå®šä¹‰å­—ä½“ï¼ˆTTF / OTFï¼‰</p>
</blockquote>
<hr/>
<h2 data-id="heading-1">ğŸ“Œ ä¸€ã€é—®é¢˜èƒŒæ™¯</h2>
<p>å½“é¡¹ç›®ä½¿ç”¨è‡ªå®šä¹‰å­—ä½“ï¼ˆä»è®¾è®¡å¸ˆé‚£æ‹¿çš„ TTF/OTFï¼‰æ—¶ï¼ŒText å’Œ TextInput å¸¸ä¼šå‡ºç°è¿™äº›é—®é¢˜ï¼š</p>
<ul>
<li>æ–‡å­—åä¸Š / åä¸‹</li>
<li>placeholder å’Œè¾“å…¥çš„æ–‡å­—ä¸å¯¹é½</li>
<li>lineHeight è®¾ç½®äº†ä½†ä¸ç”Ÿæ•ˆ</li>
<li>iOS çœ‹ä¼¼æ­£å¸¸ï¼ŒAndroid å®Œå…¨å</li>
<li>åŒä¸€ä¸ªå­—ä½“åœ¨ä¸åŒç»„ä»¶é—´é«˜åº¦ä¸ä¸€è‡´</li>
</ul>
<p>è¿™äº›é—®é¢˜åœ¨ç³»ç»Ÿå­—ä½“ä¸‹ä¸ä¼šå‡ºç°ï¼Œä½†æ˜¯æ¢æˆè‡ªå®šä¹‰å­—ä½“åå‡ ä¹å¿…ç°ã€‚</p>
<hr/>
<h2 data-id="heading-2">ğŸ“Œ äºŒã€ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿï¼Ÿâ€”â€”å…³é”®å› ç´ æ˜¯ <strong>å­—ä½“åº¦é‡ï¼ˆFont Metricsï¼‰</strong></h2>
<p>æ¯ä¸ªå­—ä½“å†…éƒ¨éƒ½å¸¦æœ‰ä¸€å¥—å…³é”®æ•°æ®ï¼š</p>
<ul>
<li><strong>ascent</strong>ï¼šå­—ä½“å‘ä¸Šçš„é«˜åº¦</li>
<li><strong>descent</strong>ï¼šå­—ä½“å‘ä¸‹çš„é«˜åº¦</li>
<li><strong>lineGap</strong>ï¼šå­—ä½“æ¨èçš„è¡Œé—´è·</li>
<li><strong>unitsPerEm</strong>ï¼šå­—ä½“çš„â€œå•ä½ä½“ç³»â€ï¼Œå†³å®šæ¯”ä¾‹</li>
<li><strong>baseline</strong>ï¼šæ–‡å­—çœŸå®æ‘†æ”¾çš„ä½ç½®</li>
</ul>
<p>React Native çš„ Text / TextInput ä¼šæ ¹æ®è¿™äº› metrics æ¥æ’ç‰ˆæ–‡å­—ã€‚</p>
<p>è€Œè‡ªå®šä¹‰å­—ä½“å¸¸å¸¸å­˜åœ¨ï¼š</p>
<ul>
<li>ascent ç‰¹åˆ«é«˜</li>
<li>descent å¤ªå¤§</li>
<li>lineGap &gt; 0ï¼ˆè®¾è®¡å¸ˆå­—ä½“å¸¸è§ï¼‰</li>
<li>unitsPerEm ä¸æ˜¯ç³»ç»Ÿå¸¸ç”¨çš„ 1000 / 2048</li>
<li>baseline åç§»</li>
</ul>
<p>ğŸ” <strong>ç»“æœï¼šæ–‡å­—åœ¨ç»„ä»¶å†…éƒ¨çš„ä½ç½®å‘ç”Ÿåç§»</strong></p>
<p>ä¸ºä»€ä¹ˆç³»ç»Ÿå­—ä½“æ²¡é—®é¢˜ï¼Ÿ<br/>
å› ä¸ºç³»ç»Ÿå­—ä½“ï¼ˆSan Francisco / Robotoï¼‰å¯¹ç§»åŠ¨ç«¯åšè¿‡ç‰¹æ®Šä¼˜åŒ–ï¼Œè€Œè‡ªå®šä¹‰å­—ä½“æ²¡æœ‰ã€‚</p>
<hr/>
<h2 data-id="heading-3">ğŸ“Œ ä¸‰ã€å¹³å°å·®å¼‚ï¼ˆéå¸¸å…³é”®ï¼‰</h2>
<h4 data-id="heading-4"><strong>iOSï¼šæ¯”è¾ƒå®½å®¹</strong></h4>
<ul>
<li>ä¼šè‡ªåŠ¨å¹³æ»‘ baseline</li>
<li>ä¼šäººä¸ºä¿®æ­£éƒ¨åˆ† ascent/descent</li>
<li>æ‰€ä»¥é—®é¢˜ä¸æ˜æ˜¾</li>
</ul>
<h4 data-id="heading-5"><strong>Androidï¼šéå¸¸ä¸¥æ ¼</strong></h4>
<ul>
<li>ç»å¯¹ä½¿ç”¨å­—ä½“çœŸå® fontMetrics</li>
<li>lineHeight å¿…é¡»ç”± dev æ˜ç¡®æŒ‡å®š</li>
<li>ä¸è‡ªåŠ¨å±…ä¸­ TextInput æ–‡å­—</li>
</ul>
<p>ğŸ‘‰ æ‰€ä»¥å¤§éƒ¨åˆ†â€œæ–‡å­—åä¸Šâ€çš„é—®é¢˜éƒ½å‡ºç°åœ¨ Androidã€‚</p>
<hr/>
<h2 data-id="heading-6">ğŸ“Œ å››ã€ç»ˆæè§£å†³æ–¹æ¡ˆï¼ˆæŒ‰æ•ˆæœæ’åºï¼‰</h2>
<hr/>
<h3 data-id="heading-7">âœ… <strong>æ–¹æ¡ˆ 1ï¼šä¸ºè‡ªå®šä¹‰å­—ä½“è®¾ç½®åˆç†çš„ lineHeightï¼ˆæœ€æ¨èï¼‰</strong></h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">&lt;TextInput</span>
  <span class="hljs-string">style={{</span>
    <span class="hljs-attr">fontFamily:</span> <span class="hljs-string">"YourFont"</span><span class="hljs-string">,</span>
    <span class="hljs-attr">fontSize:</span> <span class="hljs-number">16</span><span class="hljs-string">,</span>
    <span class="hljs-attr">lineHeight:</span> <span class="hljs-number">20</span><span class="hljs-string">,</span> <span class="hljs-string">//</span> <span class="hljs-string">å¸¸ç”¨:</span> <span class="hljs-string">fontSize</span> <span class="hljs-string">*</span> <span class="hljs-number">1.25</span>
  <span class="hljs-string">}}</span>
<span class="hljs-string">/&gt;</span>
</code></pre>
<p>ç»éªŒå…¬å¼ï¼š</p>
<h4 data-id="heading-8">iOSï¼š</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">lineHeight</span> = fontSize * <span class="hljs-number">1.2</span>
</code></pre>
<h4 data-id="heading-9">Androidï¼š</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">lineHeight</span> = fontSize * <span class="hljs-number">1.3</span>
</code></pre>
<p>ğŸ‘‰ è¿™æ˜¯èƒ½è§£å†³ <strong>90%</strong> è‡ªå®šä¹‰å­—ä½“é—®é¢˜çš„æ–¹æ¡ˆã€‚</p>
<hr/>
<h3 data-id="heading-10">âœ… <strong>æ–¹æ¡ˆ 2ï¼šç»™ TextInput å¤–é¢å¥—ä¸€å±‚ View å¹¶æ§åˆ¶å‚ç›´å±…ä¸­</strong></h3>
<p>å› ä¸º TextInput è‡ªå·±ä¸æ“…é•¿å¯¹é½ â€”â€” å°¤å…¶æ˜¯ Androidã€‚</p>
<pre><code class="hljs language-less" lang="less">&lt;<span class="hljs-selector-tag">View</span> <span class="hljs-selector-tag">style</span>={{ <span class="hljs-attribute">height</span>: <span class="hljs-number">48</span>, <span class="hljs-attribute">justifyContent</span>: <span class="hljs-string">"center"</span> }}&gt;
  &lt;<span class="hljs-selector-tag">TextInput</span>
    <span class="hljs-selector-tag">style</span>={{
      fontFamily: "YourFont",
      fontSize: 16,
      lineHeight: 20,
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attribute">textAlignVertical</span>: <span class="hljs-string">"center"</span>, <span class="hljs-comment">// Android å¿…é¡»åŠ </span>
    }}
  /&gt;
&lt;/<span class="hljs-selector-tag">View</span>&gt;
</code></pre>
<p>âš ï¸ å…³é”®ç‚¹ï¼š</p>
<ul>
<li><strong>padding å¿…é¡»è®¾ä¸º 0</strong>ï¼ˆå¦åˆ™ Android ä¼šé¢å¤–åŠ ï¼‰</li>
<li><strong>textAlignVertical=center</strong>ï¼ˆAndroid ä¸åŠ å°±ä¼šåï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-11">âœ… <strong>æ–¹æ¡ˆ 3ï¼šç»Ÿä¸€ placeholder ä¸æ–‡å­—è¡Œé«˜</strong></h3>
<p>React Native çš„ placeholder ä¸è·Ÿéšæ–‡å­—è¡Œé«˜ï¼ˆå°¤å…¶ Androidï¼‰ã€‚</p>
<p>å¼ºåˆ¶åŒæ­¥ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">placeholderTextColor</span>=<span class="hljs-string">"#888"</span>
</code></pre>
<p>å¹¶ä¿æŒåŒæ ·é«˜åº¦çš„ wrapperï¼š</p>
<pre><code class="hljs language-less" lang="less">&lt;<span class="hljs-selector-tag">View</span> <span class="hljs-selector-tag">style</span>={{ <span class="hljs-attribute">height</span>: <span class="hljs-number">48</span>, <span class="hljs-attribute">justifyContent</span>: <span class="hljs-string">"center"</span> }}&gt;
  &lt;<span class="hljs-selector-tag">TextInput</span>
    <span class="hljs-comment">// same styles as above</span>
  /&gt;
&lt;/<span class="hljs-selector-tag">View</span>&gt;
</code></pre>
<hr/>
<h3 data-id="heading-12">ğŸ”§ <strong>æ–¹æ¡ˆ 4ï¼ˆé‡é‡ä½†æœ€å½»åº•ï¼‰ï¼šä¿®å¤å­—ä½“æ–‡ä»¶çš„ metrics</strong></h3>
<p>å¦‚æœä¸€ä¸ªå­—ä½“æ€ä¹ˆè°ƒéƒ½ä¸å¯¹é½ï¼Œé‚£å®ƒå°±æ˜¯ <em>æœ¬èº«åº¦é‡æœ‰é—®é¢˜</em>ã€‚</p>
<p>å¯ä»¥ç”¨å­—ä½“ç¼–è¾‘å™¨ä¿®ï¼š</p>
<ul>
<li>FontForgeï¼ˆå…è´¹ï¼‰</li>
<li>Glyphsï¼ˆmacOSï¼‰</li>
<li>FontToolsï¼ˆCLIï¼‰</li>
</ul>
<p>éœ€è¦ä¿®çš„å­—æ®µï¼š</p>
<ol>
<li>ascent â†’ è°ƒæ•´åˆ°åˆç†æ¯”ä¾‹</li>
<li>descent â†’ è°ƒæ•´åˆ°åˆç†æ¯”ä¾‹</li>
<li>lineGap â†’ è®¾ä¸º 0ï¼ˆç§»åŠ¨ç«¯æœ€ä½³å®è·µï¼‰</li>
<li>unitsPerEm â†’ 1000 æˆ– 2048ï¼ˆå¸¸ç”¨è§„èŒƒï¼‰</li>
</ol>
<p>å¯¼å‡ºå RN çš„ Text/TextInput é«˜åº¦ç«‹å³æ­£å¸¸ã€‚</p>
<hr/>
<h2 data-id="heading-13">ğŸ“Œ äº”ã€æœ€ä½³å®è·µç»„ä»¶ï¼ˆå¯ç›´æ¥å¤åˆ¶åˆ°é¡¹ç›®ï¼‰</h2>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Platform</span>, <span class="hljs-title class_">View</span>, <span class="hljs-title class_">TextInput</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-native"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Input</span>(<span class="hljs-params">props</span>) {
  <span class="hljs-keyword">const</span> lineHeight = <span class="hljs-title class_">Platform</span>.<span class="hljs-property">OS</span> === <span class="hljs-string">"android"</span> ? <span class="hljs-number">22</span> : <span class="hljs-number">20</span>;

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">height:</span> <span class="hljs-attr">48</span>, <span class="hljs-attr">justifyContent:</span> "<span class="hljs-attr">center</span>" }}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">TextInput</span>
        {<span class="hljs-attr">...props</span>}
        <span class="hljs-attr">style</span>=<span class="hljs-string">{[</span>
          {
            <span class="hljs-attr">fontFamily:</span> "<span class="hljs-attr">YourFont</span>",
            <span class="hljs-attr">fontSize:</span> <span class="hljs-attr">16</span>,
            <span class="hljs-attr">lineHeight</span>,
            <span class="hljs-attr">padding:</span> <span class="hljs-attr">0</span>,
            <span class="hljs-attr">textAlignVertical:</span> "<span class="hljs-attr">center</span>",
          },
          <span class="hljs-attr">props.style</span>,
        ]}
      /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  );
}
</code></pre>
<hr/>
<h2 data-id="heading-14">ğŸ“Œ å…­ã€å¿«é€Ÿåˆ¤æ–­æ˜¯å“ªç§é—®é¢˜ï¼ˆæ’æŸ¥è¡¨ï¼‰</h2>








































<table><thead><tr><th>ç°è±¡</th><th>åŸå› </th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>æ–‡å­—åä¸Š</td><td>ascent å¤ªå¤§</td><td>å¢åŠ  lineHeight</td></tr><tr><td>placeholder åä½ç½®</td><td>TextInput baseline å˜åŒ–</td><td>åŒ… wrapper</td></tr><tr><td>Android å®Œå…¨ä¸å¯¹é½</td><td>ä¸æ”¯æŒè‡ªåŠ¨ baseline</td><td>åŠ  textAlignVertical</td></tr><tr><td>iOS æ­£å¸¸ã€Android ä¸æ­£å¸¸</td><td>Android ç”¨çœŸå® metrics</td><td>ç»Ÿä¸€ lineHeight</td></tr><tr><td>ä¸åŒè®¾å¤‡çœ‹èµ·æ¥ä¸ä¸€æ ·</td><td>å­—ä½“ degree scaling ä¸ä¸€è‡´</td><td>wrapper + lineHeight</td></tr><tr><td>æ€ä¹ˆè°ƒéƒ½ä¸å¯¹</td><td>å­—ä½“æ–‡ä»¶æœ¬èº«é”™è¯¯</td><td>ä¿®å­—ä½“ metrics</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-15">ğŸ“Œ ä¸ƒã€æ€»ç»“</h2>
<p>React Native ä½¿ç”¨è‡ªå®šä¹‰å­—ä½“åé«˜åº¦/å¯¹é½å¼‚å¸¸ <strong>ä¸æ˜¯ RN çš„ bug</strong>ï¼Œè€Œæ˜¯ï¼š</p>
<ul>
<li>è‡ªå®šä¹‰å­—ä½“åº¦é‡ä¸è§„èŒƒ</li>
<li>RN å¿…é¡»éµå®ˆå­—ä½“çœŸå® metrics</li>
<li>Android æ›´ä¸¥æ ¼</li>
<li>TextInput æœ¬èº«å¯¹è¡Œé«˜å¤„ç†ç®€å•</li>
</ul>
<p>æœ€æœ‰æ•ˆçš„åŠæ³•æ˜¯ï¼š</p>
<ol>
<li><strong>ç»Ÿä¸€ lineHeight</strong></li>
<li><strong>å¤–åŒ… wrapper</strong></li>
<li><strong>Android åŠ  textAlignVertical=center</strong></li>
<li>ä¸è¡Œå°± <strong>ä¿®å­—ä½“åº¦é‡</strong></li>
</ol>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è§£æè§†è§‰ï¼šå¤§è„‘å¦‚ä½•â€œè¾¨åˆ«â€ç¾ä¸‘ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7573738017988247595</link>    <guid>https://juejin.cn/post/7573738017988247595</guid>    <pubDate>2025-11-18T08:31:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573738017988247595" data-draft-id="7573855399716716563" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è§£æè§†è§‰ï¼šå¤§è„‘å¦‚ä½•â€œè¾¨åˆ«â€ç¾ä¸‘ï¼Ÿ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-11-18T08:31:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Juchecar"/> <meta itemprop="url" content="https://juejin.cn/user/284133851925070"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è§£æè§†è§‰ï¼šå¤§è„‘å¦‚ä½•â€œè¾¨åˆ«â€ç¾ä¸‘ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/284133851925070/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Juchecar
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T08:31:15.000Z" title="Tue Nov 18 2025 08:31:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;color:#3c9dff}.markdown-body h1{font-size:30px;margin-bottom:5px;padding-bottom:8px;text-align:center}.markdown-body h2{font-size:24px;padding-bottom:6px}.markdown-body h2:before{content:"ğŸ‹"}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h3:before{content:"ğŸ“"}.markdown-body h4{font-size:16px}.markdown-body h4:before{content:"ğŸ‘"}.markdown-body h5{font-size:15px}.markdown-body h5:before{content:"ğŸ‰"}.markdown-body h6{margin-top:5px}.markdown-body h6:before{content:"ğŸ’"}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;margin:0 auto;max-width:100%;border-radius:4px;padding:1px;border:1px solid #d2e8ff}.markdown-body img:hover{box-shadow:0 1px 3px #5eaeff}.markdown-body hr{height:4px;margin:34px 0;background-size:4px 1px;background-image:linear-gradient(270deg,#5eaeff,#f3f9ff 25%,transparent 50%);border-style:none}.markdown-body code{word-break:break-word;border-radius:3px;overflow-x:auto;background-color:#d2e8ff;color:#3c9dff;font-size:.9em;padding:.1em .5em;margin:0 3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;transition:all .3s}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:1px solid #90c7ff;border-radius:4px}.markdown-body pre:hover{box-shadow:0 1px 10px #beddff}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#3c9dff;border-bottom:1px solid #90c7ff;transition:all .3s}.markdown-body a:hover{color:#007fff;border-bottom:2px solid #5eaeff}.markdown-body a[href]:not(:empty){padding-right:18px}.markdown-body a[href]:not(:empty):after{display:inline-block;width:16px;height:16px;margin-left:2px;content:"";background:url(data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxwYXRoIGQ9Ik0zODQgMTI4YTQ4IDQ4IDAgMDEyLjgxNiA5NS45MkwzODQgMjI0SDI1NmEzMiAzMiAwIDAwLTMxLjkyIDI5LjZMMjI0IDI1NnY1MTJhMzIgMzIgMCAwMDI5LjYgMzEuOTJsMi40LjA4aDUxMmEzMiAzMiAwIDAwMzEuOTItMjkuNmwuMDgtMi40VjY1NmE0OCA0OCAwIDAxOTUuOTItMi44MTZMODk2IDY1NnYxMTJhMTI4IDEyOCAwIDAxLTEyNCAxMjcuOTM2bC00IC4wNjRIMjU2YTEyOCAxMjggMCAwMS0xMjcuOTM2LTEyNGwtLjA2NC00VjI1NmExMjggMTI4IDAgMDExMjQtMTI3LjkzNmw0LS4wNjRoMTI4em0zODQgMGExMjggMTI4IDAgMDExMjcuOTM2IDEyNGwuMDY0IDR2MTYwYTQ4IDQ4IDAgMDEtOTUuOTIgMi44MTZMODAwIDQxNlYyOTEuODcybC0zODIuMDY0IDM4Mi4wOGE0OCA0OCAwIDAxLTcwLjAzMi02NS42bDIuMTYtMi4yODhMNzMyLjA5NiAyMjRINjA4YTQ4IDQ4IDAgMDEtMi44MTYtOTUuOTJMNjA4IDEyOGgxNjB6IiBmaWxsPSIjM2M5ZGZmIiBmaWxsLW9wYWNpdHk9Ii41NiIgZGF0YS1zcG0tYW5jaG9yLWlkPSJhMzEzeC5zZWFyY2hfaW5kZXguMC5pMC41Yzc1M2E4MTgwa2RKWCIgY2xhc3M9InNlbGVjdGVkIi8+PC9zdmc+);background-size:100%}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border:1px solid #3c9dff}.markdown-body thead{text-align:center}.markdown-body thead th{color:#fff;background-color:#5eaeff}.markdown-body tr{text-align:center}.markdown-body tbody tr:hover{background-color:#d2e8ff}.markdown-body tbody tr:hover code{background-color:#90c7ff}.markdown-body tr:nth-child(2n){background-color:#ecf5ff}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5eaeff}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{font-weight:900;padding:0 1px;font-size:17px}.markdown-body small{color:#cbcbcb;padding:0 1px;font-size:22px;zoom:.5}.markdown-body em{padding:0 1px}.markdown-body del{padding:0 1px;text-decoration-thickness:2px}.markdown-body blockquote{color:#1a1b1c;padding:1px 20px;margin:22px 0;border-radius:4px;border-left:4px solid rgba(60,157,255,.5);background-color:rgba(190,221,255,.3)}.markdown-body blockquote blockquote{margin:8px 0}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{margin:12px 0;padding:4px 10px;border:2px solid #3c9dff;border-radius:8px;background-color:#ecf5ff;transition:all .3s}.markdown-body details summary{cursor:pointer}.markdown-body input[type=checkbox]{position:relative;appearance:none;width:16px;height:16px;border-radius:2px;vertical-align:middle;transform:translateY(-2px);box-sizing:border-box;border:1px solid #beddff}.markdown-body input[type=checkbox]:checked{border:1px solid #5eaeff;background-color:#5eaeff}.markdown-body input[type=checkbox]:checked:before{position:absolute;top:3px;left:1px;width:11px;height:6px;background-color:transparent;border-left:2px solid #fff;border-bottom:2px solid #fff;transform:rotate(-45deg);content:"";box-sizing:border-box}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="androidstudio">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#a9b7c6;background:#282b2e}.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#6897bb}.hljs-deletion,.hljs-keyword,.hljs-selector-tag{color:#cc7832}.hljs-link,.hljs-template-variable,.hljs-variable{color:#629755}.hljs-comment,.hljs-quote{color:grey}.hljs-meta{color:#bbb529}.hljs-addition,.hljs-attribute,.hljs-string{color:#6a8759}.hljs-section,.hljs-title,.hljs-type{color:#ffc66d}.hljs-name,.hljs-selector-class,.hljs-selector-id{color:#e8bf6a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿™æ˜¯ä¸€ä¸ªæ¯”è¯†åˆ«è‰²å½©ã€å½¢çŠ¶æ›´æ·±å±‚ã€æ›´å¤æ‚çš„é—®é¢˜ï¼Œå®ƒè§¦åŠäº†ç¥ç»ç§‘å­¦ã€å¿ƒç†å­¦ã€è¿›åŒ–ç”Ÿç‰©å­¦ç”šè‡³å“²å­¦çš„äº¤å‰é¢†åŸŸã€‚å¤§è„‘å¹¶æ²¡æœ‰ä¸€ä¸ªä¸“é—¨çš„â€œç¾ä¸‘ä¸­å¿ƒâ€ï¼Œè€Œæ˜¯é€šè¿‡ä¸€ä¸ªåŠ¨æ€çš„ã€å¤šå±‚æ¬¡çš„<strong>è¯„ä¼°ç³»ç»Ÿ</strong>æ¥ç»¼åˆåˆ¤æ–­ç¾ä¸‘ã€‚</p>
<p>è¿™ä¸ªç³»ç»Ÿå¯ä»¥æ¦‚æ‹¬ä¸ºä¸‰ä¸ªä¸»è¦å±‚é¢çš„äº¤äº’ä½œç”¨ï¼š</p>
<h3 data-id="heading-0">å±‚é¢ä¸€ï¼šç”Ÿç‰©å­¦ä¸è¿›åŒ–æœ¬èƒ½â€”â€”â€œç¡¬è¿çº¿â€çš„åå¥½</h3>
<p>è¿™æ˜¯æˆ‘ä»¬ä¸ç”Ÿä¿±æ¥çš„å®¡ç¾åŸºç¡€ï¼Œæºäºè¿›åŒ–ä¸­å¯¹ç”Ÿå­˜å’Œç¹è¡æœ‰åˆ©çš„ç‰¹è´¨çš„åå¥½ã€‚</p>
<ol>
<li>
<p><strong>å¯¹ç§°æ€§</strong>ï¼š</p>
<ul>
<li><strong>ä¸ºä»€ä¹ˆç¾ï¼Ÿ</strong> åœ¨è‡ªç„¶ç•Œä¸­ï¼Œèº«ä½“å¯¹ç§°æ€§é€šå¸¸æ˜¯å‘è‚²å¥åº·ã€åŸºå› ä¼˜è‰¯ã€æŠ—ç—…èƒ½åŠ›å¼ºçš„ä¸€ä¸ªæ ‡å¿—ã€‚ä¸å¯¹ç§°å¯èƒ½æ„å‘³ç€ç–¾ç—…æˆ–åŸºå› ç¼ºé™·ã€‚å› æ­¤ï¼Œæˆ‘ä»¬çš„å¤§è„‘ä¼šæ— æ„è¯†åœ°è¢«å¯¹ç§°çš„è„¸åºå’Œèº«ä½“æ‰€å¸å¼•ã€‚</li>
<li><strong>è¯æ®</strong>ï¼šå¤§é‡ç ”ç©¶è¡¨æ˜ï¼Œæ— è®ºæ˜¯äººè„¸è¿˜æ˜¯åŠ¨ç‰©ï¼Œäººä»¬æ™®éè®¤ä¸ºå¯¹ç§°çš„ä¸ªä½“æ›´å…·å¸å¼•åŠ›ã€‚</li>
</ul>
</li>
<li>
<p><strong>å¹³å‡åŒ–</strong>ï¼š</p>
<ul>
<li><strong>ä¸ºä»€ä¹ˆç¾ï¼Ÿ</strong> â€œå¹³å‡â€çš„é¢å­”æ„å‘³ç€åŸºå› å¤šæ ·æ€§ã€è¿œç¦»æç«¯ç‰¹å¾ï¼Œä»è€Œé¢„ç¤ºç€æ›´ç¨³å®šã€æ›´å¥åº·çš„åŸºå› ã€‚è®¡ç®—æœºåˆæˆçš„ã€å°†å¤šå¼ é¢å­”èåˆè€Œæˆçš„â€œå¹³å‡è„¸â€é€šå¸¸è¢«è®¤ä¸ºæ¯”ä»»ä½•ä¸€å¼ åŸå§‹ç…§ç‰‡éƒ½æ›´å…·å¸å¼•åŠ›ã€‚</li>
<li><strong>è¯æ®</strong>ï¼šè¿™ä¸ªç°è±¡åœ¨è·¨æ–‡åŒ–ç ”ç©¶ä¸­éƒ½å¾—åˆ°äº†éªŒè¯ï¼Œè¯´æ˜å®ƒæ˜¯ä¸€ç§æ™®éçš„æœ¬èƒ½ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ¸…æ™°è‚¤è‰²ä¸ç‰¹å®šè…°è‡€æ¯”ï¼ˆå¥³æ€§ï¼‰/è‚©è…°æ¯”ï¼ˆç”·æ€§ï¼‰</strong>ï¼š</p>
<ul>
<li><strong>ä¸ºä»€ä¹ˆç¾ï¼Ÿ</strong> å…‰æ»‘ã€æ´å‡€çš„çš®è‚¤æ˜¯å¥åº·å’Œå¹´è½»çš„é‡è¦ä¿¡å·ã€‚å¯¹äºå¥³æ€§ï¼Œ0.7å·¦å³çš„è…°è‡€æ¯”è¢«è§†ä¸ºç”Ÿè‚²èƒ½åŠ›å¼ºçš„æ ‡å¿—ï¼›å¯¹äºç”·æ€§ï¼Œå€’ä¸‰è§’å½¢çš„èº«æï¼ˆè‚©å®½è…°ç»†ï¼‰åˆ™è±¡å¾ç€åŠ›é‡å’Œå¥åº·ã€‚</li>
<li><strong>è¯æ®</strong>ï¼šè¿™äº›åå¥½å…·æœ‰è·¨æ–‡åŒ–çš„ä¸€è‡´æ€§ï¼Œå¼ºçƒˆæš—ç¤ºäº†å…¶è¿›åŒ–æ ¹æºã€‚</li>
</ul>
</li>
<li>
<p><strong>ç‰¹å®šç¯å¢ƒåå¥½</strong>ï¼š</p>
<ul>
<li><strong>ä¸ºä»€ä¹ˆç¾ï¼Ÿ</strong> æˆ‘ä»¬ç¥–å…ˆèµ–ä»¥ç”Ÿå­˜çš„ç¯å¢ƒå¡‘é€ äº†æˆ‘ä»¬å¯¹é£æ™¯çš„å®¡ç¾ã€‚æˆ‘ä»¬æœ¬èƒ½åœ°å–œæ¬¢æœ‰æ°´æºã€å¼€é˜”çš„è‰åŸã€æ•£è½çš„æ ‘æœ¨ï¼ˆå¯æä¾›åº‡æŠ¤ï¼‰å’Œä¸€å®šè§†é‡çš„é£æ™¯ï¼Œå› ä¸ºè¿™æ ·çš„ç¯å¢ƒèƒ½æä¾›ç”Ÿå­˜æ‰€éœ€çš„èµ„æºå’Œå®‰å…¨ã€‚</li>
<li><strong>è¯æ®</strong>ï¼šè¿™ç±»é£æ™¯ç”»å’Œå…¬å›­è®¾è®¡æ™®éè®©äººæ„Ÿåˆ°æ„‰æ‚¦å’Œæ”¾æ¾ã€‚</li>
</ul>
</li>
</ol>
<p><strong>å°ç»“ï¼š</strong> è¿™ä¸ªå±‚é¢æ˜¯<strong>å¿«é€Ÿã€è‡ªåŠ¨ã€æ— æ„è¯†</strong>çš„ï¼Œä¸»è¦ç”±å¤§è„‘çš„å¥–èµç³»ç»Ÿï¼ˆå¦‚è…¹ä¾§è¢«ç›–åŒºã€ä¼éš”æ ¸ï¼‰åœ¨æ¥æ”¶åˆ°è¿™äº›â€œå¥½ä¿¡å·â€åé‡Šæ”¾å¤šå·´èƒºï¼Œè®©æˆ‘ä»¬äº§ç”Ÿæ„‰æ‚¦æ„Ÿï¼Œä»è€Œå®šä¹‰ä¸ºâ€œç¾â€ã€‚</p>
<hr/>
<h3 data-id="heading-1">å±‚é¢äºŒï¼šæ–‡åŒ–ä¸å­¦ä¹ â€”â€”â€œè½¯ä»¶â€çš„å¡‘é€ </h3>
<p>å¦‚æœè¯´ç”Ÿç‰©å­¦æœ¬èƒ½æ˜¯ç¡¬ä»¶ï¼Œé‚£ä¹ˆæ–‡åŒ–å°±æ˜¯å®‰è£…åœ¨ä¸Šé¢çš„è½¯ä»¶ï¼Œå®ƒæ·±åˆ»å½±å“ç€æˆ‘ä»¬è®¤ä¸ºä»€ä¹ˆæ˜¯ç¾çš„ã€‚</p>
<ol>
<li>
<p><strong>ç¤¾ä¼šè§„èŒƒä¸æ—¶å°š</strong>ï¼š</p>
<ul>
<li><strong>å¦‚ä½•å½±å“ï¼Ÿ</strong> ä¸åŒæ–‡åŒ–ã€ä¸åŒæ—¶ä»£å¯¹ç¾çš„æ ‡å‡†å·®å¼‚å·¨å¤§ã€‚æ¯”å¦‚ï¼Œå”ä»£ä»¥èƒ–ä¸ºç¾ï¼Œè€Œç°ä»£å¤šä»¥ç˜¦ä¸ºç¾ï¼›æŸäº›éƒ¨è½ä»¥é•¿è„–å­ã€åšå”‡ç›˜ä¸ºç¾ã€‚è¿™äº›æ ‡å‡†é€šè¿‡åª’ä½“ã€è‰ºæœ¯å’Œç¤¾äº¤ä¸æ–­å¼ºåŒ–ï¼Œå†…åŒ–ä¸ºæˆ‘ä»¬ä¸ªäººçš„å®¡ç¾ã€‚</li>
<li><strong>å¤§è„‘æœºåˆ¶</strong>ï¼šè¿™ä¸ªè¿‡ç¨‹æ¶‰åŠåˆ°<strong>å‰é¢å¶çš®å±‚</strong>ï¼ˆè´Ÿè´£ç¤¾ä¼šè®¤çŸ¥ã€ç†è§£å’Œå†…åŒ–è§„åˆ™ï¼‰å’Œ<strong>é•œåƒç¥ç»å…ƒç³»ç»Ÿ</strong>ï¼ˆå¸®åŠ©æˆ‘ä»¬æ¨¡ä»¿å’Œå­¦ä¹ ä»–äººçš„åå¥½ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç†Ÿæ‚‰åº¦ä¸æ›å…‰æ•ˆåº”</strong>ï¼š</p>
<ul>
<li><strong>å¦‚ä½•å½±å“ï¼Ÿ</strong> æˆ‘ä»¬å€¾å‘äºå–œæ¬¢è‡ªå·±ç†Ÿæ‚‰çš„äº‹ç‰©ã€‚ä»…ä»…å› ä¸ºåå¤çœ‹åˆ°æŸä¸ªé¢å­”ã€æŸç§è®¾è®¡é£æ ¼ï¼Œæˆ‘ä»¬å°±ä¼šå¯¹å®ƒäº§ç”Ÿæ›´ç§¯æçš„æƒ…æ„Ÿã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬å¸¸å¸¸ä¼šè§‰å¾—â€œè¶Šçœ‹è¶Šé¡ºçœ¼â€ã€‚</li>
<li><strong>å¤§è„‘æœºåˆ¶</strong>ï¼šæ›å…‰æ•ˆåº”é™ä½äº†å¤§è„‘<strong>æä»æ ¸</strong>ï¼ˆä¸ææƒ§å’Œä¸ç¡®å®šæ€§ç›¸å…³ï¼‰çš„ååº”ï¼Œä»è€Œå¢åŠ äº†èˆ’é€‚æ„Ÿå’Œåå¥½ã€‚</li>
</ul>
</li>
<li>
<p><strong>çŸ¥è¯†ä¸èƒŒæ™¯æ•…äº‹</strong>ï¼š</p>
<ul>
<li><strong>å¦‚ä½•å½±å“ï¼Ÿ</strong> äº†è§£ä¸€ä¸ªè‰ºæœ¯å“èƒŒåçš„æ•…äº‹ã€åˆ›ä½œèƒŒæ™¯ã€æŠ€æœ¯éš¾åº¦ï¼Œä¼šæå¤§åœ°å½±å“æˆ‘ä»¬å¯¹å®ƒçš„å®¡ç¾åˆ¤æ–­ã€‚ä¸€ä¸ªçœ‹ä¼¼ç®€å•çš„ç°ä»£è‰ºæœ¯ä½œå“ï¼Œä¸€æ—¦ä½ çŸ¥é“å®ƒè•´å«çš„æ·±åˆ»ç†å¿µï¼Œå¯èƒ½ä¼šç¬é—´è§‰å¾—å®ƒâ€œç¾â€äº†èµ·æ¥ã€‚</li>
<li><strong>å¤§è„‘æœºåˆ¶</strong>ï¼šè¿™æ¶‰åŠåˆ°<strong>é«˜çº§è®¤çŸ¥åŒºåŸŸ</strong>çš„æ·±åº¦ä»‹å…¥ï¼Œå°†ç†æ€§çŸ¥è¯†è½¬åŒ–ä¸ºæƒ…æ„Ÿä½“éªŒã€‚</li>
</ul>
</li>
</ol>
<p><strong>å°ç»“ï¼š</strong> æ–‡åŒ–å±‚é¢æ˜¯<strong>çµæ´»ã€å¯å˜çš„</strong>ï¼Œå®ƒè§£é‡Šäº†ä¸ºä»€ä¹ˆå®¡ç¾å…·æœ‰å¤šæ ·æ€§å’Œæ—¶ä»£æ€§ã€‚</p>
<hr/>
<h3 data-id="heading-2">å±‚é¢ä¸‰ï¼šä¸ªä½“ç»éªŒä¸æƒ…æ„Ÿâ€”â€”â€œç§äººå®šåˆ¶â€çš„æ»¤é•œ</h3>
<p>è¿™æ˜¯æœ€ä¸ªäººåŒ–çš„å±‚é¢ï¼Œå°†ç¾ä¸æˆ‘ä»¬çš„è‡ªèº«ç»å†å’Œæƒ…æ„Ÿç´§å¯†ç›¸è¿ã€‚</p>
<ol>
<li>
<p><strong>æƒ…æ„Ÿå…³è”</strong>ï¼š</p>
<ul>
<li><strong>å¦‚ä½•å½±å“ï¼Ÿ</strong> æˆ‘ä»¬ä¼šå¯¹ä¸ç¾å¥½å›å¿†ç›¸å…³è”çš„äººã€ç‰©ã€åœ°æ–¹äº§ç”Ÿç‰¹æ®Šçš„å®¡ç¾åå¥½ã€‚æ¯”å¦‚ï¼Œä¸€é¦–è€æ­Œå› ä¸ºå…³è”ç€ä½ çš„åˆæ‹è€Œå˜å¾—æ— æ¯”åŠ¨å¬ï¼›ä¸€ä¸ªæ—§ç‰©ä»¶å› ä¸ºæ‰¿è½½ç€å®¶ä¹¡çš„è®°å¿†è€Œæ˜¾å¾—æ ¼å¤–çè´µã€‚</li>
<li><strong>å¤§è„‘æœºåˆ¶</strong>ï¼š<strong>æµ·é©¬ä½“</strong>ï¼ˆè®°å¿†ä¸­å¿ƒï¼‰å’Œ<strong>æä»æ ¸</strong>ï¼ˆæƒ…ç»ªä¸­å¿ƒï¼‰ä¸å¥–èµç³»ç»Ÿå¼ºçƒˆäº’åŠ¨ï¼Œä¸ºä¸­æ€§åˆºæ¿€èµ‹äºˆäº†ç§¯æçš„æƒ…æ„Ÿä»·å€¼ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ€§æ ¼ä¸ä»·å€¼è§‚</strong>ï¼š</p>
<ul>
<li><strong>å¦‚ä½•å½±å“ï¼Ÿ</strong> ä¸€ä¸ªè¿½æ±‚åˆºæ¿€çš„äººå¯èƒ½è§‰å¾—æé™è¿åŠ¨å¾ˆç¾ï¼Œè€Œä¸€ä¸ªæ€§æ ¼æ¬é™çš„äººå¯èƒ½è§‰å¾—é™è°§çš„å±±æ°´å¾ˆç¾ã€‚æˆ‘ä»¬çš„å†…åœ¨æ€§æ ¼å†³å®šäº†æˆ‘ä»¬è¢«ä½•ç§ç‰¹è´¨å¸å¼•ã€‚</li>
<li><strong>å¤§è„‘æœºåˆ¶</strong>ï¼šè¿™ä¸ä¸ªäººçš„ç¥ç»é€’è´¨åŸºç¡€ï¼ˆå¦‚å¤šå·´èƒºæ°´å¹³ï¼‰å’Œå¤§è„‘æ´»åŠ¨çš„æ•´ä½“æ¨¡å¼æœ‰å…³ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-3">æ€»ç»“ï¼šå¤§è„‘å¦‚ä½•â€œè¾¨åˆ«â€ç¾ä¸‘ï¼Ÿ</h3>
<p>è¿™ä¸ªè¿‡ç¨‹æ˜¯ä¸€ä¸ªç²¾å½©çš„<strong>ç¥ç»äº¤å“ä¹</strong>ï¼š</p>
<ol>
<li><strong>æ„ŸçŸ¥è¾“å…¥</strong>ï¼šè§†è§‰ã€å¬è§‰ç­‰ä¿¡æ¯è¿›å…¥å¤§è„‘ã€‚</li>
<li><strong>ç‰¹å¾å¤„ç†</strong>ï¼šåœ¨è§†è§‰çš®å±‚ç­‰åŒºåŸŸè¿›è¡ŒåŸºç¡€å¤„ç†ï¼ˆå¦‚è¯†åˆ«å½¢çŠ¶ã€é¢œè‰²ï¼‰ã€‚</li>
<li><strong>å¤šç³»ç»Ÿè¯„ä¼°</strong>ï¼šä¿¡æ¯è¢«åŒæ—¶å‘é€åˆ°å¤šä¸ªè„‘åŒºè¿›è¡Œè¯„ä¼°ï¼š
<ul>
<li><strong>å¥–èµç³»ç»Ÿ</strong>ï¼šè¯„ä¼°å…¶ç”Ÿç‰©å­¦ä»·å€¼ï¼ˆâ€œå®ƒçœ‹èµ·æ¥å¥åº·å—ï¼Ÿâ€ï¼‰ã€‚</li>
<li><strong>å‰é¢å¶çš®å±‚</strong>ï¼šè¯„ä¼°å…¶æ–‡åŒ–å’Œç¤¾ä¼šæ„ä¹‰ï¼ˆâ€œå®ƒç¬¦åˆæ½®æµå’Œè§„èŒƒå—ï¼Ÿâ€ï¼‰ã€‚</li>
<li><strong>è®°å¿†ä¸æƒ…ç»ªç³»ç»Ÿ</strong>ï¼šè¯„ä¼°å…¶ä¸ªäººæƒ…æ„Ÿä»·å€¼ï¼ˆâ€œå®ƒå¯¹æˆ‘æœ‰ç‰¹æ®Šæ„ä¹‰å—ï¼Ÿâ€ï¼‰ã€‚</li>
</ul>
</li>
<li><strong>è¾¾æˆå…±è¯†ä¸äº§ç”Ÿä½“éªŒ</strong>ï¼šå½“è¿™äº›ç³»ç»Ÿç»™å‡ºçš„ç§¯æä¿¡å·è¶³å¤Ÿå¼ºå¤§ä¸”åè°ƒä¸€è‡´æ—¶ï¼Œå¤§è„‘å°±ä¼šäº§ç”Ÿä¸€ç§<strong>æ„‰æ‚¦ã€å¸å¼•ã€æ²‰æµ¸</strong>çš„ä½“éªŒâ€”â€”è¿™å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„â€œç¾â€çš„æ„Ÿè§‰ã€‚åä¹‹ï¼Œå¦‚æœä¿¡å·æ˜¯æ¶ˆæçš„ï¼ˆå¦‚ä¸å¯¹ç§°ã€ä¸ç†Ÿæ‚‰ã€å¼•å‘åå›å¿†ï¼‰ï¼Œæˆ‘ä»¬å°±ä¼šæ„Ÿåˆ°â€œä¸‘â€æˆ–ä¸æ‚¦ã€‚</li>
</ol>
<p><strong>ä¸€ä¸ªå…³é”®ç°è±¡ï¼šâ€œä¸‘â€ä¸ºä½•æœ‰æ—¶ä¹Ÿå¸å¼•äººï¼Ÿ</strong></p>
<p>æœ‰æ—¶ï¼Œä¸€ä¸ªå¯¹è±¡å¯èƒ½è¿åäº†æœ¬èƒ½å±‚é¢çš„â€œç¾â€ï¼ˆæ¯”å¦‚æ€ªå¼‚çš„è‰ºæœ¯ï¼‰ï¼Œä½†å´åœ¨æ–‡åŒ–æˆ–ä¸ªä½“å±‚é¢å¼•å‘äº†å¼ºçƒˆçš„å…´è¶£å’Œæ·±åº¦æ€è€ƒã€‚è¿™ç§è®¤çŸ¥ä¸Šçš„æŒ‘æˆ˜å’Œè§£å†³ï¼Œæœ¬èº«ä¹Ÿèƒ½æ¿€æ´»å¥–èµç³»ç»Ÿï¼Œäº§ç”Ÿä¸€ç§ä¸åŒäºçº¯ç²¹â€œæ¼‚äº®â€çš„ã€æ›´å¤æ‚çš„å®¡ç¾ä½“éªŒã€‚</p>
<p>å› æ­¤ï¼Œè¾¨åˆ«ç¾ä¸‘ï¼Œæ˜¯å¤§è„‘å°†<strong>æœ¬èƒ½ã€æ•™å…»å’Œè‡ªæˆ‘</strong>ä¸‰è€…èåˆåï¼Œæ‰€åšçš„ä¸€ä¸ªç¬é—´çš„ã€æ•´ä½“çš„æƒ…æ„Ÿåˆ¤æ–­ã€‚å®ƒæ—¢æ˜¯æ™®éçš„ï¼Œåˆæ˜¯æœ€ç§å¯†çš„ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue3 å“åº”å¼åŸç†ï¼šä»é›¶å®ç° Reactive]]></title>    <link>https://juejin.cn/post/7573694361474793499</link>    <guid>https://juejin.cn/post/7573694361474793499</guid>    <pubDate>2025-11-18T08:32:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573694361474793499" data-draft-id="7572961448537571355" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue3 å“åº”å¼åŸç†ï¼šä»é›¶å®ç° Reactive"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js"/> <meta itemprop="datePublished" content="2025-11-18T08:32:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº‘æ«æ™–"/> <meta itemprop="url" content="https://juejin.cn/user/835284567331021"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue3 å“åº”å¼åŸç†ï¼šä»é›¶å®ç° Reactive
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/835284567331021/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº‘æ«æ™–
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T08:32:36.000Z" title="Tue Nov 18 2025 08:32:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>è¿˜è®°å¾—ç¬¬ä¸€æ¬¡ä½¿ç”¨ Vue æ—¶çš„é‚£ç§æƒŠè‰³å—ï¼Ÿæ•°æ®å˜äº†ï¼Œè§†å›¾è‡ªåŠ¨æ›´æ–°ï¼Œå°±åƒé­”æ³•ä¸€æ ·ï¼ä½†ä½œä¸ºä¸€åæœ‰è¿½æ±‚çš„å‰ç«¯å¼€å‘è€…ï¼Œæˆ‘ä»¬ä¸èƒ½åªåœç•™åœ¨"ä¼šç”¨"çš„å±‚é¢ï¼Œæ›´è¦æ·±å…¥ç†è§£èƒŒåçš„åŸç†ã€‚</p>
<p>ä»Šå¤©ï¼Œæˆ‘å°†å¸¦ä½ ä»é›¶å®ç°ä¸€ä¸ª Vue3 çš„å“åº”å¼ç³»ç»Ÿï¼Œ<strong>æ‰‹å†™ä»£ç ä¸åˆ° 200 è¡Œ</strong>ï¼Œå´èƒ½è¦†ç›–æ ¸å¿ƒåŸç†ã€‚è¯»å®Œæœ¬æ–‡ï¼Œä½ å°†å½»åº•æ˜ç™½ï¼š</p>
<ul>
<li>ğŸ¤”Â <strong>ä¸ºä»€ä¹ˆ Vue3 æ”¾å¼ƒ Object.defineProperty é€‰æ‹© Proxyï¼Ÿ</strong></li>
<li>ğŸ”¥Â <strong>ä¾èµ–æ”¶é›†å’Œè§¦å‘æ›´æ–°çš„ç²¾å¦™è®¾è®¡</strong></li>
<li>ğŸ¯Â <strong>æ•°ç»„æ–¹æ³•çš„é‡å†™èƒŒåéšè—çš„æ™ºæ…§</strong></li>
<li>ğŸ’¡Â <strong>Vue3 å“åº”å¼ç›¸æ¯” Vue2 çš„æ€§èƒ½ä¼˜åŠ¿</strong></li>
</ul>
<h2 data-id="heading-1">ä»€ä¹ˆæ˜¯å“åº”å¼ï¼Ÿ</h2>
<p>ç®€å•æ¥è¯´ï¼Œå“åº”å¼æ˜¯<strong>å½“æ•°æ®å˜åŒ–æ—¶ï¼Œè‡ªåŠ¨æ‰§è¡Œä¾èµ–æ•°æ®çš„ä»£ç </strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> state = <span class="hljs-title function_">reactive</span>({ <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> });
<span class="hljs-title function_">effect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`countå€¼å˜åŒ–ï¼š<span class="hljs-subst">${state.count}</span>`</span>);
});
state.<span class="hljs-property">count</span>++; <span class="hljs-comment">// countå€¼å˜åŒ–ï¼š1</span>
state.<span class="hljs-property">count</span>++; <span class="hljs-comment">// countå€¼å˜åŒ–ï¼š2</span>
</code></pre>
<h3 data-id="heading-2">vue2å’Œvue3å“åº”å¼åŒºåˆ«</h3>






























<table><thead><tr><th>ç‰¹æ€§</th><th>vue2(Object.defineProperty)</th><th>vue3(proxy)</th></tr></thead><tbody><tr><td>å¯¹è±¡æ–°å¢å±æ€§</td><td>$set apiå®ç°å“åº”å¼</td><td>ç›´æ¥æ”¯æŒ</td></tr><tr><td>å¯¹è±¡åˆ é™¤å±æ€§</td><td>$delete api å®ç°å“åº”å¼</td><td>ç›´æ¥æ”¯æŒ</td></tr><tr><td>æ•°ç»„æ‹¦æˆª</td><td>æ”¹å†™æ•°ç»„åŸå‹æ–¹æ³•</td><td>åŸç”Ÿæ”¯æŒï¼Œé‡æ–°åŒ…è£…</td></tr><tr><td>æ€§èƒ½</td><td>é€’å½’éå†æ‰€æœ‰å±æ€§</td><td>æ‡’ä»£ç†ï¼Œè®¿é—®æ—¶æ‰ä»£ç†</td></tr></tbody></table>
<p>ç»¼ä¸Šæ‰€è¿°Proxyçš„ä¼˜åŠ¿éå¸¸çš„æ˜æ˜¾ï¼Œè¿™å°±æ˜¯Vue3é€‰æ‹©é‡æ„å“åº”å¼ç³»ç»Ÿçš„æ ¹æœ¬åŸå› ã€‚</p>
<h2 data-id="heading-3">æ‰‹å†™å®ç°ï¼šä»é›¶æ„å»ºå“åº”å¼</h2>
<h3 data-id="heading-4">1. é¡¹ç›®ç»“æ„</h3>
<pre><code class="hljs language-text" lang="text">â”œâ”€â”€ reactive.js           // reactive æ ¸å¿ƒ
â”œâ”€â”€ effect.js             // å‰¯ä½œç”¨ç®¡ç†
â”œâ”€â”€ baseHandler.js        // Proxy å¤„ç†å™¨
â”œâ”€â”€ arrayInstrumentations.js // æ•°ç»„æ–¹æ³•é‡å†™
â”œâ”€â”€ utils.js              // å·¥å…·å‡½æ•°
â””â”€â”€ index.js              // å…¥å£æ–‡ä»¶
</code></pre>
<h2 data-id="heading-5">å“åº”å¼å…¥å£</h2>
<p>æˆ‘ä»¬å…ˆä»<code>reactive</code>å‡½æ•°ç€æ‰‹ï¼Œä½¿ç”¨è¿‡<code>vue3</code>åº”è¯¥å¯¹<code>reactive</code>å¹¶ä¸é™Œç”Ÿã€‚æ­¤å‡½æ•°æ¥æ”¶ä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åè¿”å›ä¸€ä¸ªä»£ç†å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// reactive.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">reactive</span>(<span class="hljs-params">target</span>) {
  <span class="hljs-comment">// åˆ¤æ–­targetæ˜¯å¦ä¸€ä¸ªå¯¹è±¡</span>
  <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">isObject</span>(target)) {
    <span class="hljs-keyword">return</span> target;
  }
  <span class="hljs-keyword">const</span> proxy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(target, {
    <span class="hljs-title function_">get</span>(<span class="hljs-params">target, key, receiver</span>) {
      <span class="hljs-comment">// åç»­æ”¶é›†ä¾èµ–</span>
    },
    <span class="hljs-title function_">set</span>(<span class="hljs-params">target, key, value, receiver</span>) {
      <span class="hljs-keyword">const</span> oldValue = target[key];
      <span class="hljs-keyword">if</span> (oldValue != value) {
        <span class="hljs-comment">// åç»­è§¦å‘æ›´æ–°</span>
      }
    }
  })
  <span class="hljs-keyword">return</span> proxy;
}
</code></pre>
<p>ç›®å‰å·²ç»æ­å»ºäº†<code>reactive</code>å‡½æ•°çš„æ¡†æ¶ï¼Œä½†æ˜¯ç›®å‰è¿˜æœ‰äº›é—®é¢˜ï¼š</p>
<ol>
<li>åŒä¸€ä¸ªå¯¹è±¡ä»£ç†å¤šæ¬¡ï¼Œä¼šè¿”å›ä¸åŒçš„ä»£ç†å¯¹è±¡ï¼Œè¿™æ ·æ€§èƒ½ä¸Šå¸¦æ¥ä¸å¿…è¦çš„å¼€é”€ã€‚</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> originalObj = { <span class="hljs-attr">name</span>: <span class="hljs-string">'Vue'</span>, <span class="hljs-attr">version</span>: <span class="hljs-number">3</span> }; <span class="hljs-comment">// ç¬¬ä¸€æ¬¡è°ƒç”¨ reactive </span>
<span class="hljs-keyword">const</span> proxy1 = <span class="hljs-title function_">reactive</span>(originalObj); <span class="hljs-comment">// ç¬¬äºŒæ¬¡è°ƒç”¨ reactiveï¼ˆä¼ å…¥åŒä¸€ä¸ªå¯¹è±¡)</span>
<span class="hljs-keyword">const</span> proxy2 = <span class="hljs-title function_">reactive</span>(originalObj); <span class="hljs-comment">// éªŒè¯ä¸¤ä¸ªä»£ç†æ˜¯åŒä¸€ä¸ªå®ä¾‹</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(proxy1 === proxy2); <span class="hljs-comment">// false</span>
</code></pre>
<p>å¯ä»¥é€šè¿‡ç¼“å­˜ä»£ç†å¯¹è±¡è§£å†³æ­¤ç±»é—®é¢˜ï¼Œé‡‡ç”¨<code>WeakMap</code>æ¥ç¼“å­˜ä»£ç†å¯¹è±¡ï¼Œ<code>key</code>ä¸º<code>target</code>,<code>value</code>ä¸ºä»£ç†å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ç¼“å­˜ä»£ç†å¯¹è±¡ï¼Œé¿å…é‡å¤ä»£ç†</span>
<span class="hljs-keyword">const</span> reactiveMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakMap</span>();
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">reactive</span>(<span class="hljs-params">target</span>) {
  <span class="hljs-comment">// åˆ¤æ–­targetæ˜¯å¦ä¸€ä¸ªå¯¹è±¡</span>
  <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">isObject</span>(target)) {
    <span class="hljs-keyword">return</span> target;
  }
  <span class="hljs-comment">// å°†targetæ˜¯å¦å·²ç»ä»£ç†è¿‡ï¼Œå¦‚æœä»£ç†åˆ™è¿”å›ç¼“å­˜çš„ä»£ç†å¯¹è±¡ã€‚</span>
  <span class="hljs-keyword">const</span> existsProxy = reactiveMap.<span class="hljs-title function_">get</span>(target);
  <span class="hljs-keyword">if</span> (existsProxy) {
    <span class="hljs-keyword">return</span> existsProxy;
  }
  <span class="hljs-keyword">const</span> proxy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(target, {
    <span class="hljs-comment">/* æ­¤å¤„æš‚æ—¶çœç•¥ */</span>
  })
  <span class="hljs-comment">// ç¼“å­˜ä»£ç†å¯¹è±¡</span>
  reactiveMap.<span class="hljs-title function_">set</span>(target, proxy);
  <span class="hljs-keyword">return</span> proxy;
}
</code></pre>
<blockquote>
<p>ğŸ’¡ æç¤º <br/>
åœ¨ä¸Šè¿°ä»£ç ä¸­ä¹‹æ‰€ä»¥é‡‡ç”¨<code>WeakMap</code>ä¸»è¦è€ƒè™‘<code>key</code>æ˜¯ä¸€ä¸ªå¯¹è±¡å¹¶ä¸”<code>WeakMap</code>å¯ä»¥å½“<code>target</code>ä¸å†å¼•ç”¨æ—¶ä¼šè‡ªåŠ¨æ¸…ç†ã€‚</p>
</blockquote>
<ol start="2">
<li>å½“å·²ç»è¢«<code>reactive</code>å¤„ç†åï¼Œå†æ¬¡è°ƒç”¨<code>reactive</code>æ—¶ï¼Œåˆè¢«ä»£ç†ã€‚</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> originalObj = { <span class="hljs-attr">count</span>: <span class="hljs-number">1</span> }; <span class="hljs-comment">// ç¬¬ä¸€æ¬¡åˆ›å»ºå“åº”å¼å¯¹è±¡ </span>
<span class="hljs-keyword">const</span> proxy1 = <span class="hljs-title function_">reactive</span>(originalObj);
<span class="hljs-keyword">const</span> proxy2 = <span class="hljs-title function_">reactive</span>(proxy1); <span class="hljs-comment">// å°†ä»£ç†å¯¹è±¡å†æ¬¡ä»£ç†</span>
</code></pre>
<p>åœ¨<code>Vue3</code>çš„æºç ä¸­é€šè¿‡<code>__v_isReactive</code>æ ‡è®°æ¥åˆ¤æ–­ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">ReactiveFlags</span> = {
  <span class="hljs-attr">IS_REACTIVE</span>: <span class="hljs-string">"__v_isReactive"</span>,
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">reactive</span>(<span class="hljs-params">target</span>) {
  <span class="hljs-comment">// åˆ¤æ–­targetæ˜¯å¦ä¸€ä¸ªå¯¹è±¡</span>
  <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">isObject</span>(target)) {
    <span class="hljs-keyword">return</span> target;
  }
  <span class="hljs-comment">// é¿å…é‡å¤ä»£ç†</span>
  <span class="hljs-keyword">if</span> (target[<span class="hljs-title class_">ReactiveFlags</span>.<span class="hljs-property">IS_REACTIVE</span>]) {
    <span class="hljs-keyword">return</span> target;
  }
  <span class="hljs-comment">// å°†targetæ˜¯å¦å·²ç»ä»£ç†è¿‡ï¼Œå¦‚æœä»£ç†åˆ™è¿”å›ç¼“å­˜çš„ä»£ç†å¯¹è±¡ã€‚</span>
  <span class="hljs-keyword">const</span> existsProxy = reactiveMap.<span class="hljs-title function_">get</span>(target);
  <span class="hljs-keyword">if</span> (existsProxy) {
    <span class="hljs-keyword">return</span> existsProxy;
  }
  <span class="hljs-keyword">const</span> proxy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(target, {
    <span class="hljs-title function_">get</span>(<span class="hljs-params">target, key, receiver</span>) {
      <span class="hljs-keyword">if</span> (key === <span class="hljs-title class_">ReactiveFlags</span>.<span class="hljs-property">IS_REACTIVE</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
      }
    },
    <span class="hljs-comment">/* æ­¤å¤„æš‚æ—¶çœç•¥ */</span>
  })
  <span class="hljs-comment">// ç¼“å­˜ä»£ç†å¯¹è±¡</span>
  reactiveProxy.<span class="hljs-title function_">set</span>(target, proxy);
  <span class="hljs-keyword">return</span> proxy;
}
</code></pre>
<ul>
<li>å½“ç¬¬ä¸€æ¬¡è°ƒç”¨<code>reactive</code>æ—¶ï¼Œæ£€æŸ¥<code>target</code>ä¸­æ˜¯å¦å·²ç»å­˜åœ¨<code>__v_isReactive</code>æ ‡è®°ï¼Œæ­£å¸¸æƒ…å†µä¸‹æ˜¯<code>undefined</code>ï¼Œè¿”å›ä¸€ä¸ª<code>Proxy</code>ä»£ç†å¯¹è±¡ã€‚</li>
<li>å¦‚æœå°†è¿”å›çš„<code>Proxy</code>ä»£ç†å¯¹è±¡ï¼Œå†æ¬¡è°ƒç”¨<code>reactive</code>å‡½æ•°ï¼Œå†æ¬¡æ£€æŸ¥<code>__v_isReactive</code>æ˜¯å¦å­˜åœ¨ï¼Œå°†ä¼šè¿›å…¥<code>Proxy</code>ä»£ç†å¯¹è±¡çš„<code>get</code>æ–¹æ³•ä¸­ï¼Œè¿›å…¥åˆ¤æ–­è¿”å›<code>true</code>ã€‚ä»è€Œè¾¾åˆ°æ— è®ºå°†ç›¸åŒä»£ç†å¯¹è±¡è°ƒç”¨å¤šå°‘æ¬¡<code>reactive</code>éƒ½ä¸ä¼šäº§ç”Ÿå¤šå±‚ä»£ç†å¯¹è±¡åµŒå¥—ã€‚</li>
</ul>
<p>åœ¨<code>Vue3</code>ä¸­<code>get</code>å’Œ<code>set</code>åŒ…è£¹çš„å¯¹è±¡æ˜¯æŠ½ç¦»åˆ°ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶<code>baseHandlers</code>ä¸­çš„ï¼Œæˆ‘ä»¬ä¹Ÿè¿›è¡Œç›¸åŒè°ƒæ•´ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// baseHandlers.js</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ReactiveFlags</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"./reactive"</span>; 
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> mutableHandlers = {
  <span class="hljs-title function_">get</span>(<span class="hljs-params">target, key, receiver</span>) {
    <span class="hljs-comment">// 1. å“åº”å¼æ ‡è¯†åˆ¤æ–­ï¼ˆVue3 æºç æ ‡å‡†é€»è¾‘ï¼‰</span>
    <span class="hljs-keyword">if</span> (key === <span class="hljs-title class_">ReactiveFlags</span>.<span class="hljs-property">IS_REACTIVE</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    <span class="hljs-comment">/* åç»­å®ç°ä¾èµ–æ”¶é›† */</span>
  },

  <span class="hljs-title function_">set</span>(<span class="hljs-params">target, key, value, receiver</span>) {
    <span class="hljs-keyword">const</span> oldValue = target[key];
    <span class="hljs-keyword">if</span> (oldValue !== value) {
     <span class="hljs-comment">// åç»­è§¦å‘æ›´æ–°</span>
    }
  },
};
</code></pre>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// reactive.js</span>
<span class="hljs-keyword">import</span> { mutableHandlers } <span class="hljs-keyword">from</span> <span class="hljs-string">"./baseHandler.js"</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">ReactiveFlags</span> = {
  <span class="hljs-attr">IS_REACTIVE</span>: <span class="hljs-string">"__v_isReactive"</span>,
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">reactive</span>(<span class="hljs-params">target</span>) {
  <span class="hljs-comment">// åˆ¤æ–­targetæ˜¯å¦ä¸€ä¸ªå¯¹è±¡</span>
  <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">isObject</span>(target)) {
    <span class="hljs-keyword">return</span> target;
  }
  <span class="hljs-comment">// é¿å…é‡å¤ä»£ç†</span>
  <span class="hljs-keyword">if</span> (target[<span class="hljs-title class_">ReactiveFlags</span>.<span class="hljs-property">IS_REACTIVE</span>]) {
    <span class="hljs-keyword">return</span> target;
  }
  <span class="hljs-comment">// å°†targetæ˜¯å¦å·²ç»ä»£ç†è¿‡ï¼Œå¦‚æœä»£ç†åˆ™è¿”å›ç¼“å­˜çš„ä»£ç†å¯¹è±¡ã€‚</span>
  <span class="hljs-keyword">const</span> existsProxy = reactiveMap.<span class="hljs-title function_">get</span>(target);
  <span class="hljs-keyword">if</span> (existsProxy) {
    <span class="hljs-keyword">return</span> existsProxy;
  }
  <span class="hljs-keyword">const</span> proxy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(target, mutableHandlers)
  <span class="hljs-comment">// ç¼“å­˜ä»£ç†å¯¹è±¡</span>
  reactiveProxy.<span class="hljs-title function_">set</span>(target, proxy);
  <span class="hljs-keyword">return</span> proxy;
}
</code></pre>
<h2 data-id="heading-6">å‰¯ä½œç”¨ç®¡ç†</h2>
<p>åœ¨<code>Vue3</code>ä¸­æä¾›äº†ä¸€ä¸ª<code>effect</code>å‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ªå‡½æ•°ï¼Œæä¾›ç»™ç”¨æˆ·è·å–æ•°æ®æ¸²æŸ“è§†å›¾ï¼Œæ•°æ®å˜åŒ–åå†æ¬¡è°ƒç”¨è¯¥å‡½æ•°æ›´æ–°è§†å›¾ã€‚<code>effect</code>å…·ä½“å®ç°å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å½“å‰å“åº”å™¨</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> activeEffect;
<span class="hljs-comment">// æ¸…ç†ä¾èµ–</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">cleanupEffect</span>(<span class="hljs-params">effect</span>) {
  effect.<span class="hljs-property">deps</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">dep</span>) =&gt;</span> {
    dep.<span class="hljs-title function_">delete</span>(effect);
  });
  effect.<span class="hljs-property">deps</span>.<span class="hljs-property">length</span> = <span class="hljs-number">0</span>;
}
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ReactiveEffect</span> {
  active = <span class="hljs-literal">true</span>; <span class="hljs-comment">// æ˜¯å¦æ¿€æ´»çŠ¶æ€</span>
  deps = []; <span class="hljs-comment">// ä¾èµ–é›†åˆæ•°ç»„</span>
  parent = <span class="hljs-literal">undefined</span>; <span class="hljs-comment">// çˆ¶çº§effect å¤„ç†åµŒå¥—effect</span>
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">fn, scheduler</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">fn</span> = fn; <span class="hljs-comment">// ç”¨æˆ·æä¾›çš„å‡½æ•°</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">scheduler</span> = scheduler <span class="hljs-comment">// è°ƒåº¦å™¨ï¼ˆç”¨äºcomputedã€watchï¼‰</span>
  }
  <span class="hljs-title function_">run</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">active</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fn</span>();
    }
    <span class="hljs-keyword">try</span> {
      <span class="hljs-comment">// å»ºç«‹effectçš„çˆ¶å­å…³ç³» ç¡®ä¿ä¾èµ–æ”¶é›†çš„å‡†ç¡®æ€§</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">parent</span> = activeEffect;
      activeEffect = <span class="hljs-variable language_">this</span>;
      <span class="hljs-comment">// æ¸…é™¤æ—§ä¾èµ– é¿å…ä¸å¿…è¦çš„æ›´æ–°</span>
      <span class="hljs-title function_">cleanupEffect</span>(<span class="hljs-variable language_">this</span>);
      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fn</span>();
    } <span class="hljs-keyword">finally</span> {
      <span class="hljs-comment">// æ¢å¤çˆ¶çº§effect</span>
      activeEffect = <span class="hljs-variable language_">this</span>.<span class="hljs-property">parent</span>;
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">parent</span> = <span class="hljs-literal">undefined</span>;
    }
  }
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">effect</span>(<span class="hljs-params">fn, options = {}</span>) {
  <span class="hljs-keyword">const</span> e = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReactiveEffect</span>(fn, options.<span class="hljs-property">scheduler</span>);
  e.<span class="hljs-title function_">run</span>();
  <span class="hljs-comment">// ç»™åˆ°ç”¨æˆ·è‡ªè¡Œæ§åˆ¶å“åº”</span>
  <span class="hljs-keyword">const</span> runner = e.<span class="hljs-property">run</span>.<span class="hljs-title function_">bind</span>(e); <span class="hljs-comment">// ç¡®ä¿thisçš„æŒ‡å‘</span>
  runner.<span class="hljs-property">effect</span> = e;
  <span class="hljs-keyword">return</span> runner;
}
<span class="hljs-comment">// æ”¶é›†ä¾èµ–å‡½æ•°</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">track</span>(<span class="hljs-params">target, key</span>) {}
<span class="hljs-comment">// è§¦å‘ä¾èµ–</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">trigger</span>(<span class="hljs-params">target, key</span>) {}
</code></pre>
<h3 data-id="heading-7">å®ç°æ”¶é›†ä¾èµ–</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> state = <span class="hljs-title function_">reactive</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'jim '</span>});
<span class="hljs-title function_">effect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'app'</span>).<span class="hljs-property">innerHTML</span> = <span class="hljs-string">`<span class="hljs-subst">${state.name}</span>`</span>;
})
</code></pre>
<p>å½“è°ƒç”¨<code>effect</code>å‡½æ•°æ—¶ï¼Œå°†ä¼šæ‰§è¡Œç”¨æˆ·æä¾›çš„å‡½æ•°é€»è¾‘ï¼Œå¦‚ä¸Šè¿°ä»£ç æ‰§è¡Œ<code>state.name</code>æ—¶å°†ä¼šè¿›å…¥ä»£ç†å¯¹è±¡çš„<code>get</code>æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¸­è¿›è¡Œä¾èµ–æ”¶é›†ã€‚å³è°ƒç”¨<code>track</code>å‡½æ•°ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// baseHandler.js</span>
<span class="hljs-keyword">import</span> { isObject } <span class="hljs-keyword">from</span> <span class="hljs-string">"./utils"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ReactiveFlags</span>, reactive } <span class="hljs-keyword">from</span> <span class="hljs-string">"./reactive"</span>;
<span class="hljs-keyword">import</span> { track } <span class="hljs-keyword">from</span> <span class="hljs-string">"./effect"</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> mutableHandlers = {
  <span class="hljs-title function_">get</span>(<span class="hljs-params">target, key, receiver</span>) {
    <span class="hljs-comment">// å“åº”å¼æ ‡è¯†åˆ¤æ–­ï¼ˆVue3 æºç æ ‡å‡†é€»è¾‘ï¼‰</span>
    <span class="hljs-keyword">if</span> (key === <span class="hljs-title class_">ReactiveFlags</span>.<span class="hljs-property">IS_REACTIVE</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    <span class="hljs-comment">// æ”¶é›†ä¾èµ–ï¼ˆæ‰€æœ‰å±æ€§è®¿é—®éƒ½éœ€è¦è¿½è¸ªï¼‰</span>
    <span class="hljs-title function_">track</span>(target, key);
    <span class="hljs-comment">// æ‰§è¡ŒåŸç”Ÿ get æ“ä½œ </span>
    <span class="hljs-keyword">const</span> result = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(target, key, receiver);
    <span class="hljs-comment">// æ·±å±‚å“åº”å¼ï¼šåµŒå¥—å¯¹è±¡/æ•°ç»„è‡ªåŠ¨è½¬ä¸ºå“åº”å¼ï¼ˆVue3 æ‡’ä»£ç†ç‰¹æ€§ï¼‰</span>
    <span class="hljs-keyword">if</span> (result &amp;&amp; <span class="hljs-title function_">isObject</span>(result)) {
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">reactive</span>(result);
    }

    <span class="hljs-keyword">return</span> result;
  },
  <span class="hljs-comment">/* setæ–¹æ³•åœ¨æ­¤çœç•¥ */</span>
};
</code></pre>
<p>åœ¨<code>effect.js</code>ä¸­<code>track</code>å‡½æ•°ä¸­å®ç°ä¾èµ–æ”¶é›†</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å½“å‰å“åº”å™¨</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> activeEffect;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> targetMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakMap</span>(); <span class="hljs-comment">//  æ”¶é›†ä¾èµ–</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">track</span>(<span class="hljs-params">target, key</span>) {
  <span class="hljs-keyword">if</span> (!activeEffect) <span class="hljs-keyword">return</span>;
  <span class="hljs-keyword">let</span> depsMap = targetMap.<span class="hljs-title function_">get</span>(target);
  <span class="hljs-keyword">if</span> (!depsMap) {
    targetMap.<span class="hljs-title function_">set</span>(target, (depsMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>()));
  }
  <span class="hljs-keyword">let</span> dep = depsMap.<span class="hljs-title function_">get</span>(key);
  <span class="hljs-keyword">if</span> (!dep) {
    depsMap.<span class="hljs-title function_">set</span>(key, (dep = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>())); <span class="hljs-comment">// Vue3å†…éƒ¨æ˜¯ä¸€ä¸ªDepç±»</span>
  }
  <span class="hljs-title function_">trackEffects</span>(dep);
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">trackEffects</span>(<span class="hljs-params">dep</span>) {
  <span class="hljs-keyword">let</span> shouldTrack = !dep.<span class="hljs-title function_">has</span>(activeEffect);
  <span class="hljs-keyword">if</span> (shouldTrack) {
    dep.<span class="hljs-title function_">add</span>(activeEffect);
    activeEffect.<span class="hljs-property">deps</span>.<span class="hljs-title function_">push</span>(dep); <span class="hljs-comment">// åŒå‘è®°å½•</span>
  }
}
</code></pre>
<p>æ”¶é›†å®Œæ¯•åçš„ä¾èµ–å…³ç³»ç»“æ„ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title class_">WeakMap</span> {
  <span class="hljs-attr">target1</span>: <span class="hljs-title class_">Map</span> {
    <span class="hljs-attr">key1</span>: <span class="hljs-title class_">Set</span>[effect1, effect2],
    <span class="hljs-attr">key2</span>: <span class="hljs-title class_">Set</span>[effect3]
  },
  <span class="hljs-attr">target2</span>: <span class="hljs-title class_">Map</span> { ... }
}
</code></pre>
<h3 data-id="heading-8">å®ç°è§¦å‘ä¾èµ–</h3>
<p>å½“ç”¨æˆ·å¯¹æ•°æ®è¿›è¡Œäº†ä¿®æ”¹æ—¶ï¼Œéœ€è¦æ ¹æ®æ”¶é›†çš„ä¾èµ–è‡ªåŠ¨å¯¹åº”æ‰§è¡Œ<code>effect</code>çš„ç”¨æˆ·å‡½æ•°ã€‚</p>
<pre><code class="hljs language-js" lang="js">state.<span class="hljs-property">name</span> = <span class="hljs-string">'tom'</span>
</code></pre>
<p>åœ¨<code>baseHandle.js</code>ä¸­è°ƒç”¨<code>trigger</code>å‡½æ•°ã€‚è¯¥å‡½æ•°å®ç°å…·ä½“çš„è§¦å‘ä¾èµ–</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// baseHandle.js</span>
<span class="hljs-keyword">import</span> { isObject } <span class="hljs-keyword">from</span> <span class="hljs-string">"./utils"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ReactiveFlags</span>, reactive } <span class="hljs-keyword">from</span> <span class="hljs-string">"./reactive"</span>;
<span class="hljs-keyword">import</span> { track, trigger } <span class="hljs-keyword">from</span> <span class="hljs-string">"./effect"</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> mutableHandlers = {
  <span class="hljs-comment">/* getæ–¹æ³•å®ç°çœç•¥ */</span>
  <span class="hljs-title function_">set</span>(<span class="hljs-params">target, key, value, receiver</span>) {
    <span class="hljs-keyword">const</span> oldValue = target[key];
    <span class="hljs-keyword">const</span> success = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">set</span>(target, key, value, receiver);
    <span class="hljs-comment">// 7. åªæœ‰å€¼å˜åŒ–ä¸”æ˜¯è‡ªèº«å±æ€§æ—¶ï¼Œæ‰è§¦å‘æ›´æ–°ï¼ˆé¿å…åŸå‹é“¾å¹²æ‰°ï¼‰</span>
    <span class="hljs-keyword">if</span> (success &amp;&amp; oldValue !== value) {
      <span class="hljs-title function_">trigger</span>(target, key); <span class="hljs-comment">// è§¦å‘ä¾èµ–</span>
    }
    <span class="hljs-keyword">return</span> success;
  },
};
</code></pre>
<p>åœ¨<code>effect.js</code>ä¸­å®ç°<code>trigger</code>å‡½æ•°çš„å®ç°</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// è§¦å‘ä¾èµ–</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">trigger</span>(<span class="hljs-params">target, key</span>) {
  <span class="hljs-keyword">const</span> depsMap = targetMap.<span class="hljs-title function_">get</span>(target);
  <span class="hljs-keyword">if</span> (!depsMap) <span class="hljs-keyword">return</span>;
  <span class="hljs-keyword">let</span> dep = depsMap.<span class="hljs-title function_">get</span>(key);
  <span class="hljs-keyword">if</span> (dep) <span class="hljs-title function_">triggerEffects</span>(dep);
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">triggerEffects</span>(<span class="hljs-params">dep</span>) {
  <span class="hljs-keyword">const</span> effects = [...dep]; <span class="hljs-comment">// é¿å…åœ¨éå† Set è¿‡ç¨‹ä¸­ä¿®æ”¹ Set æœ¬èº«å¯¼è‡´çš„è¿­ä»£å™¨å¼‚å¸¸é—®é¢˜</span>
  effects.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">effect</span>) =&gt;</span> {
    <span class="hljs-comment">// é¿å…æ— é™é€’å½’ï¼šå½“å‰æ­£åœ¨æ‰§è¡Œçš„effectä¸å†æ¬¡è§¦å‘</span>
    <span class="hljs-keyword">if</span> (effect != activeEffect) {
      <span class="hljs-keyword">if</span> (!effect.<span class="hljs-property">scheduler</span>) {
        effect.<span class="hljs-title function_">run</span>();
      } <span class="hljs-keyword">else</span> {
        effect.<span class="hljs-title function_">scheduler</span>();
      }
    }
  });
}
</code></pre>
<h2 data-id="heading-9">å¯¹æ•°ç»„å“åº”å¼å¤„ç†</h2>
<p>åœ¨<code>Vue3</code>æºç ä¸­å•ç‹¬ä¸€ä¸ªæ–‡ä»¶<code>arrayInstrumentations</code>å¯¹æ•°ç»„çš„æ–¹æ³•é‡æ–°åŒ…è£…äº†ä¸€ä¸‹ã€‚æˆ‘çš„å¤„ç†ä¸æºç æœ‰ç‚¹ä¸åŒæ¯•ç«Ÿæ˜¯ç®€æ˜“ç‰ˆæœ¬ï¼Œä½†æ˜¯åŸç†éƒ½æ˜¯ä¸€æ ·çš„</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// arrayInstrumentations.js</span>
<span class="hljs-keyword">import</span> { reactive } <span class="hljs-keyword">from</span> <span class="hljs-string">"./reactive"</span>;
<span class="hljs-keyword">import</span> { trigger } <span class="hljs-keyword">from</span> <span class="hljs-string">"./effect"</span>;
<span class="hljs-keyword">import</span> { isArray } <span class="hljs-keyword">from</span> <span class="hljs-string">"./utils"</span>;

<span class="hljs-comment">// éœ€è¦ç‰¹æ®Šå¤„ç†çš„æ•°ç»„ä¿®æ”¹æ–¹æ³•ï¼ˆVue3 æºç ä¸­ä¹Ÿæ˜¯ç”¨ Set å­˜å‚¨ï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> arrayInstrumentations = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([
  <span class="hljs-string">"push"</span>,
  <span class="hljs-string">"pop"</span>,
  <span class="hljs-string">"shift"</span>,
  <span class="hljs-string">"unshift"</span>,
  <span class="hljs-string">"splice"</span>,
  <span class="hljs-string">"sort"</span>,
  <span class="hljs-string">"reverse"</span>,
]);

<span class="hljs-comment">/**
 * åŒ…è£…æ•°ç»„ä¿®æ”¹æ–¹æ³•ï¼Œæ·»åŠ å“åº”å¼èƒ½åŠ›
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">method</span> - æ•°ç»„æ–¹æ³•å
 * <span class="hljs-doctag">@returns</span> åŒ…è£…åçš„å‡½æ•°
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createArrayMethod</span>(<span class="hljs-params">method</span>) {
  <span class="hljs-comment">// è·å–åŸç”Ÿæ•°ç»„æ–¹æ³•</span>
  <span class="hljs-keyword">const</span> originalMethod = <span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>[method];

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">...args</span>) {
    <span class="hljs-comment">// 1. æ‰§è¡ŒåŸç”Ÿæ•°ç»„æ–¹æ³•ï¼ˆä¿è¯åŸæœ‰åŠŸèƒ½ä¸å˜ï¼‰</span>
    <span class="hljs-keyword">const</span> result = originalMethod.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args);

    <span class="hljs-comment">// 2. å¤„ç†æ–°å¢å…ƒç´ çš„å“åº”å¼è½¬æ¢ï¼ˆpush/unshift/splice å¯èƒ½æ·»åŠ æ–°å…ƒç´ ï¼‰</span>
    <span class="hljs-keyword">let</span> inserted;
    <span class="hljs-keyword">switch</span> (method) {
      <span class="hljs-keyword">case</span> <span class="hljs-string">"push"</span>:
      <span class="hljs-keyword">case</span> <span class="hljs-string">"unshift"</span>:
        inserted = args; <span class="hljs-comment">// è¿™ä¸¤ä¸ªæ–¹æ³•çš„å‚æ•°å°±æ˜¯æ–°å¢å…ƒç´ </span>
        <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-string">"splice"</span>:
        inserted = args.<span class="hljs-title function_">slice</span>(<span class="hljs-number">2</span>); <span class="hljs-comment">// splice ç¬¬ä¸‰ä¸ªå‚æ•°åŠä»¥åæ˜¯æ–°å¢å…ƒç´ </span>
        <span class="hljs-keyword">break</span>;
    }
    <span class="hljs-comment">// æ–°å¢å…ƒç´ è½¬ä¸ºå“åº”å¼ï¼ˆé€’å½’å¤„ç†å¯¹è±¡/æ•°ç»„ï¼‰</span>
    <span class="hljs-keyword">if</span> (inserted) {
      inserted.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> item === <span class="hljs-string">"object"</span> &amp;&amp; item !== <span class="hljs-literal">null</span>) {
          <span class="hljs-title function_">reactive</span>(item);
        }
      });
    }

    <span class="hljs-comment">// 3. è§¦å‘ä¾èµ–æ›´æ–°ï¼ˆVue3 æºç ä¸­ä¼šè§¦å‘ length å’Œå¯¹åº”ç´¢å¼•çš„æ›´æ–°ï¼‰</span>
    <span class="hljs-title function_">trigger</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-string">"length"</span>);
    <span class="hljs-keyword">return</span> result;
  };
}

<span class="hljs-comment">// ç”Ÿæˆæ‰€æœ‰åŒ…è£…åçš„æ•°ç»„æ–¹æ³•ï¼ˆé”®ï¼šæ–¹æ³•åï¼Œå€¼ï¼šåŒ…è£…å‡½æ•°ï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> arrayMethods = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-literal">null</span>);
arrayInstrumentations.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">method</span>) =&gt;</span> {
  arrayMethods[method] = <span class="hljs-title function_">createArrayMethod</span>(method);
});

<span class="hljs-comment">/**
 * åˆ¤æ–­æ˜¯å¦æ˜¯éœ€è¦æ‹¦æˆªçš„æ•°ç»„æ–¹æ³•
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">unknown</span>} <span class="hljs-variable">target</span> - ç›®æ ‡å¯¹è±¡
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">key</span> - å±æ€§å/æ–¹æ³•å
 * <span class="hljs-doctag">@returns</span> <span class="hljs-variable">boolean</span>
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">isArrayInstrumentation</span>(<span class="hljs-params">target, key</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">isArray</span>(target) &amp;&amp; arrayInstrumentations.<span class="hljs-title function_">has</span>(key);
}
</code></pre>
<p>ç„¶ååœ¨<code>baseHandler</code>ä¸­æ·»åŠ æ•°ç»„æƒ…å†µä¸‹çš„é€»è¾‘</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// baseHandler.js</span>
<span class="hljs-keyword">import</span> { isObject } <span class="hljs-keyword">from</span> <span class="hljs-string">"./utils"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ReactiveFlags</span>, reactive } <span class="hljs-keyword">from</span> <span class="hljs-string">"./reactive"</span>;
<span class="hljs-keyword">import</span> { track, trigger } <span class="hljs-keyword">from</span> <span class="hljs-string">"./effect"</span>;
<span class="hljs-comment">// å¼•å…¥æŠ½ç¦»çš„æ•°ç»„å·¥å…·</span>
<span class="hljs-keyword">import</span> { isArrayInstrumentation, arrayMethods } <span class="hljs-keyword">from</span> <span class="hljs-string">"./arrayInstrumentations"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> mutableHandlers = {
  <span class="hljs-title function_">get</span>(<span class="hljs-params">target, key, receiver</span>) {
    <span class="hljs-comment">// 1. å“åº”å¼æ ‡è¯†åˆ¤æ–­ï¼ˆVue3 æºç æ ‡å‡†é€»è¾‘ï¼‰</span>
    <span class="hljs-keyword">if</span> (key === <span class="hljs-title class_">ReactiveFlags</span>.<span class="hljs-property">IS_REACTIVE</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    <span class="hljs-comment">// 2. æ”¶é›†ä¾èµ–ï¼ˆæ‰€æœ‰å±æ€§è®¿é—®éƒ½éœ€è¦è¿½è¸ªï¼‰</span>
    <span class="hljs-title function_">track</span>(target, key);
    <span class="hljs-comment">// 3. æ‰§è¡ŒåŸç”Ÿ get æ“ä½œ</span>
    <span class="hljs-keyword">const</span> result = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(target, key, receiver);
    <span class="hljs-comment">// 4. æ•°ç»„æ–¹æ³•æ‹¦æˆªï¼šå¦‚æœæ˜¯éœ€è¦å¤„ç†çš„æ•°ç»„æ–¹æ³•ï¼Œè¿”å›åŒ…è£…åçš„å‡½æ•°</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isArrayInstrumentation</span>(target, key)) {
      <span class="hljs-comment">// ç»‘å®š this ä¸ºç›®æ ‡æ•°ç»„ï¼Œç¡®ä¿åŸç”Ÿæ–¹æ³•æ‰§è¡Œæ—¶ä¸Šä¸‹æ–‡æ­£ç¡®</span>
      <span class="hljs-keyword">return</span> arrayMethods[key].<span class="hljs-title function_">bind</span>(target);
    }
    <span class="hljs-comment">// 5. æ·±å±‚å“åº”å¼ï¼šåµŒå¥—å¯¹è±¡/æ•°ç»„è‡ªåŠ¨è½¬ä¸ºå“åº”å¼ï¼ˆVue3 æ‡’ä»£ç†ç‰¹æ€§ï¼‰</span>
    <span class="hljs-keyword">if</span> (result &amp;&amp; <span class="hljs-title function_">isObject</span>(result)) {
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">reactive</span>(result);
    }

    <span class="hljs-keyword">return</span> result;
  },

  <span class="hljs-title function_">set</span>(<span class="hljs-params">target, key, value, receiver</span>) {
    <span class="hljs-keyword">const</span> oldValue = target[key];
    <span class="hljs-keyword">const</span> isArrayTarget = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(target);
    <span class="hljs-comment">// 6. æ‰§è¡ŒåŸç”Ÿ set æ“ä½œ</span>
    <span class="hljs-keyword">const</span> success = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">set</span>(target, key, value, receiver);
    <span class="hljs-comment">// 7. åªæœ‰å€¼å˜åŒ–ä¸”æ˜¯è‡ªèº«å±æ€§æ—¶ï¼Œæ‰è§¦å‘æ›´æ–°ï¼ˆé¿å…åŸå‹é“¾å¹²æ‰°ï¼‰</span>
    <span class="hljs-keyword">if</span> (success &amp;&amp; oldValue !== value) {
      <span class="hljs-comment">// æ•°ç»„ç´¢å¼•è®¾ç½®ï¼šè§¦å‘å¯¹åº”ç´¢å¼•å’Œ length æ›´æ–°ï¼ˆVue3 æºç é€»è¾‘ï¼‰</span>
      <span class="hljs-keyword">if</span> (isArrayTarget &amp;&amp; key !== <span class="hljs-string">"length"</span>) {
        <span class="hljs-keyword">const</span> index = <span class="hljs-title class_">Number</span>(key);
        <span class="hljs-keyword">if</span> (index &gt;= <span class="hljs-number">0</span> &amp;&amp; index &lt; target.<span class="hljs-property">length</span>) {
          <span class="hljs-title function_">trigger</span>(target, key); <span class="hljs-comment">// è§¦å‘ç´¢å¼•æ›´æ–°</span>
          <span class="hljs-title function_">trigger</span>(target, <span class="hljs-string">"length"</span>); <span class="hljs-comment">// è§¦å‘é•¿åº¦æ›´æ–°</span>
          <span class="hljs-keyword">return</span> success;
        }
      }
      <span class="hljs-comment">// æ™®é€šå¯¹è±¡/æ•°ç»„ length è®¾ç½®ï¼šè§¦å‘å¯¹åº” key æ›´æ–°</span>
      <span class="hljs-title function_">trigger</span>(target, key);
    }
    <span class="hljs-keyword">return</span> success;
  },
};
</code></pre>
<h2 data-id="heading-10">å®Œæ•´ä»£ç ä½¿ç”¨ç¤ºä¾‹</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { reactive, effect } <span class="hljs-keyword">from</span> <span class="hljs-string">"./packages/index"</span>;
<span class="hljs-keyword">const</span> state = <span class="hljs-title function_">reactive</span>({
  <span class="hljs-attr">name</span>: <span class="hljs-string">"vue"</span>,
  <span class="hljs-attr">version</span>: <span class="hljs-string">"3.4.5"</span>,
  <span class="hljs-attr">author</span>: <span class="hljs-string">"vue team"</span>,
  <span class="hljs-attr">friends</span>: [<span class="hljs-string">"jake"</span>, <span class="hljs-string">"james"</span>],
});
<span class="hljs-title function_">effect</span>(<span class="hljs-function">() =&gt;</span> {
  app.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">`
    &lt;div&gt; Welcome <span class="hljs-subst">${state.name}</span> !&lt;/div&gt;
    &lt;div&gt; <span class="hljs-subst">${state.friends}</span> &lt;/div&gt;
  `</span>;
});
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
  state.<span class="hljs-property">name</span> = <span class="hljs-string">"vue3"</span>; 
  state.<span class="hljs-property">friends</span>.<span class="hljs-title function_">push</span>(<span class="hljs-string">"jimmy"</span>);
}, <span class="hljs-number">1000</span>);
<span class="hljs-comment">// ä¸€å¼€å§‹æ˜¾ç¤º:</span>
<span class="hljs-comment">//    Welcome vue </span>
<span class="hljs-comment">//    'jake,james'</span>
<span class="hljs-comment">// 1ç§’é’Ÿåï¼š</span>
<span class="hljs-comment">//    Welcome vue3</span>
<span class="hljs-comment">//    'jake,james,jimmy'</span>
</code></pre>
<h2 data-id="heading-11">æ€»ç»“</h2>
<p>é€šè¿‡è¿™ 200 è¡Œä»£ç ï¼Œæˆ‘ä»¬å®ç°äº†ä¸€ä¸ªå®Œæ•´çš„ Vue3 å“åº”å¼ç³»ç»Ÿæ ¸å¿ƒï¼š</p>
<ul>
<li>âœ… <strong>å“åº”å¼ä»£ç†</strong>: åŸºäº Proxy çš„æ‡’ä»£ç†æœºåˆ¶</li>
<li>âœ… <strong>ä¾èµ–æ”¶é›†</strong>: ç²¾å‡†çš„ effect è¿½è¸ª</li>
<li>âœ… <strong>æ‰¹é‡æ›´æ–°</strong>: é¿å…é‡å¤æ‰§è¡Œçš„è°ƒåº¦æœºåˆ¶</li>
<li>âœ… <strong>æ•°ç»„å¤„ç†</strong>: é‡å†™æ•°ç»„æ–¹æ³•ä¿æŒå“åº”æ€§</li>
<li>âœ… <strong>åµŒå¥—æ”¯æŒ</strong>: è‡ªåŠ¨çš„æ·±å±‚å“åº”å¼è½¬æ¢</li>
</ul>
<p><strong>å®Œæ•´ä»£ç å’Œèµ„æº</strong>
æœ¬æ–‡æ‰€æœ‰ä»£ç å·²å¼€æºï¼ŒåŒ…å«è¯¦ç»†æ³¨é‡Šå’Œæµ‹è¯•ç”¨ä¾‹ï¼š</p>
<p><strong>GitHub ä»“åº“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgardenia83%2Fvue-source-code.git" target="_blank" title="https://github.com/gardenia83/vue-source-code.git" ref="nofollow noopener noreferrer">github.com/gardenia83/â€¦</a></strong></p>
<p>è¿™ä¸ºæˆ‘ä»¬ç†è§£ Vue3 çš„å“åº”å¼åŸç†æä¾›äº†åšå®çš„åŸºç¡€ï¼Œä¹Ÿä¸ºå­¦ä¹ æ›´é«˜çº§çš„ç‰¹æ€§å¦‚ computedã€watch ç­‰æ‰“ä¸‹äº†åŸºç¡€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨LangSmithè¿½è¸ªæ™ºèƒ½ä½“è¿è¡Œ]]></title>    <link>https://juejin.cn/post/7573687816431353866</link>    <guid>https://juejin.cn/post/7573687816431353866</guid>    <pubDate>2025-11-18T08:18:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573687816431353866" data-draft-id="7573968791202349102" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨LangSmithè¿½è¸ªæ™ºèƒ½ä½“è¿è¡Œ"/> <meta itemprop="keywords" content="Agent,LangChain,Python"/> <meta itemprop="datePublished" content="2025-11-18T08:18:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="FreeCode"/> <meta itemprop="url" content="https://juejin.cn/user/1282499717900794"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨LangSmithè¿½è¸ªæ™ºèƒ½ä½“è¿è¡Œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1282499717900794/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    FreeCode
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T08:18:06.000Z" title="Tue Nov 18 2025 08:18:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="" data-highlight-key="agate">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#333;color:#fff}.hljs-name,.hljs-strong{font-weight:700}.hljs-code,.hljs-emphasis{font-style:italic}.hljs-tag{color:#62c8f3}.hljs-selector-class,.hljs-selector-id,.hljs-template-variable,.hljs-variable{color:#ade5fc}.hljs-bullet,.hljs-string{color:#a2fca2}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-quote,.hljs-section,.hljs-title,.hljs-type{color:#ffa}.hljs-bullet,.hljs-number,.hljs-symbol{color:#d36363}.hljs-keyword,.hljs-literal,.hljs-selector-tag{color:#fcc28c}.hljs-code,.hljs-comment,.hljs-deletion{color:#888}.hljs-link,.hljs-regexp{color:#c6b4f0}.hljs-meta{color:#fc9b9b}.hljs-deletion{background-color:#fc9b9b;color:#333}.hljs-addition{background-color:#a2fca2;color:#333}.hljs a{color:inherit}.hljs a:focus,.hljs a:hover{color:inherit;text-decoration:underline}</style><h2 data-id="heading-0">LangSmithç®€ä»‹</h2>
<p>LangSmithæä¾›ç”¨äºå¼€å‘ã€è°ƒè¯•å’Œéƒ¨ç½²å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰åº”ç”¨ç¨‹åºçš„å·¥å…·ã€‚å®ƒèƒ½å¸®åŠ©ä½ åœ¨åŒä¸€ä¸ªå¹³å°ä¸­å®Œæˆè¯·æ±‚è¿½è¸ªã€è¾“å‡ºè¯„ä¼°ã€æç¤ºè¯æµ‹è¯•ä»¥åŠéƒ¨ç½²ç®¡ç†ç­‰æ“ä½œã€‚
LangSmithä¸ä¾èµ–ç‰¹å®šæ¡†æ¶ï¼Œå› æ­¤æ— è®ºä½ æ˜¯å¦ä½¿ç”¨LangChainçš„å¼€æºåº“ï¼ˆlangchainå’Œlanggraphï¼‰ï¼Œéƒ½å¯ä»¥æ­£å¸¸ä½¿ç”¨è¯¥å·¥å…·ã€‚ä½ å¯ä»¥å…ˆåœ¨æœ¬åœ°è¿›è¡ŒåŸå‹å¼€å‘ï¼Œéšåæ— ç¼è¿‡æ¸¡åˆ°ç”Ÿäº§ç¯å¢ƒï¼›åŒæ—¶ï¼Œå€ŸåŠ©å…¶é›†æˆçš„ç›‘æ§ä¸è¯„ä¼°åŠŸèƒ½ï¼Œèƒ½å¤Ÿæ„å»ºå‡ºæ›´å¯é çš„äººå·¥æ™ºèƒ½ç³»ç»Ÿã€‚</p>
<h2 data-id="heading-1">å¯è§‚æµ‹æ€§ï¼ˆObservabilityï¼‰</h2>
<p>å¯¹äºä½¿ç”¨å¤§æ¨¡å‹ï¼ˆLLMï¼‰æ„å»ºçš„åº”ç”¨ç¨‹åºè€Œè¨€ï¼Œå¯è§‚æµ‹æ€§ï¼ˆObservabilityï¼‰æ˜¯ä¸€é¡¹å…³é”®éœ€æ±‚ã€‚LLMå…·æœ‰éç¡®å®šæ€§ç‰¹å¾ï¼Œè¿™æ„å‘³ç€ç›¸åŒçš„æç¤ºè¯å¯èƒ½ä¼šç”Ÿæˆä¸åŒçš„å“åº”ã€‚è¿™ç§ç‰¹æ€§ä½¿å¾—LLMåº”ç”¨çš„è°ƒè¯•ä¸ç›‘æ§å·¥ä½œï¼Œæ¯”ä¼ ç»Ÿè½¯ä»¶æ›´å…·æŒ‘æˆ˜æ€§ã€‚</p>
<p>LangSmithä¸ºè§£å†³è¿™ä¸€é—®é¢˜æä¾›äº†æ–¹æ¡ˆï¼šå®ƒèƒ½è®©ä½ ç«¯åˆ°ç«¯åœ°æŒæ¡åº”ç”¨ç¨‹åºå¤„ç†è¯·æ±‚çš„å®Œæ•´è¿‡ç¨‹ã€‚æ¯ä¸€ä¸ªè¯·æ±‚éƒ½ä¼šç”Ÿæˆä¸€æ¡è¿½è¸ªè®°å½•ï¼ˆtraceï¼‰ï¼Œè¯¥è®°å½•ä¼šå®Œæ•´æ•æ‰æ•´ä¸ªè¿‡ç¨‹ä¸­å‘ç”Ÿçš„æ‰€æœ‰äº‹ä»¶ã€‚ä¸€æ¡è¿½è¸ªè®°å½•åŒ…å«å¤šä¸ªç‹¬ç«‹è¿è¡Œå•å…ƒï¼ˆrunsï¼‰â€”â€” å³åº”ç”¨ç¨‹åºæ‰§è¡Œçš„å…·ä½“æ“ä½œï¼Œä¾‹å¦‚ä¸€æ¬¡LLMè°ƒç”¨æˆ–ä¸€ä¸ªä¿¡æ¯æ£€ç´¢æ­¥éª¤ã€‚é€šè¿‡å¯¹è¿™äº›è¿è¡Œå•å…ƒè¿›è¡Œè¿½è¸ªï¼Œä½ å¯ä»¥æ£€æŸ¥ã€è°ƒè¯•å¹¶éªŒè¯åº”ç”¨ç¨‹åºçš„è¿è¡Œè¡Œä¸ºã€‚</p>
<p>æœ¬æ–‡å°†æ­å»ºä¸€ä¸ªæœ€å°åŒ–çš„RAGåº”ç”¨ç¨‹åºï¼Œå¹¶ä¸ºå…¶æ·»åŠ LangSmithè¿½è¸ªåŠŸèƒ½ã€‚å…·ä½“æ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ul>
<li>é…ç½®ä½ çš„ç¯å¢ƒã€‚</li>
<li>åˆ›å»ºä¸€ä¸ªå¯æ£€ç´¢ä¸Šä¸‹æ–‡å¹¶è°ƒç”¨LLMçš„åº”ç”¨ç¨‹åºã€‚</li>
<li>å¯ç”¨è¿½è¸ªåŠŸèƒ½ï¼Œä»¥åŒæ—¶æ•æ‰æ£€ç´¢æ­¥éª¤å’ŒLLMè°ƒç”¨è¿‡ç¨‹ã€‚</li>
<li>åœ¨LangSmithç•Œé¢ä¸­æŸ¥çœ‹ç”Ÿæˆçš„è¿½è¸ªè®°å½•ã€‚</li>
</ul>
<h2 data-id="heading-2">å‡†å¤‡</h2>
<p>ä½ éœ€è¦ï¼š</p>
<ul>
<li>ä¸€ä¸ªLangSmithè´¦å·ï¼šå¯åœ¨smith.langchain.comæ³¨å†Œæˆ–ç™»å½•ã€‚</li>
<li>ä¸€ä¸ªLangSmith APIå¯†é’¥ï¼šè¯·å‚è€ƒã€Šåˆ›å»ºAPIå¯†é’¥æŒ‡å—ã€‹æ“ä½œã€‚</li>
<li>å®‰è£…langsmith</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">pip install -U langsmith
</code></pre>
<ul>
<li>è®¾ç½®ç¯å¢ƒå˜é‡ï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">export</span> LANGSMITH_TRACING=<span class="hljs-literal">true</span>
<span class="hljs-built_in">export</span> LANGSMITH_API_KEY=<span class="hljs-string">"&lt;your-langsmith-api-key&gt;"</span>
<span class="hljs-built_in">export</span> LANGSMITH_WORKSPACE_ID=<span class="hljs-string">"&lt;your-workspace-id&gt;"</span>

</code></pre>
<h2 data-id="heading-3">æ„å»ºæ™ºèƒ½ä½“åº”ç”¨</h2>
<p>å¯ä»¥ä½¿ç”¨æœ¬æ­¥éª¤ä¸­åˆ—å‡ºçš„ç¤ºä¾‹åº”ç”¨ä»£ç ï¼Œä¸ºä¸€ä¸ªRAGåº”ç”¨ç¨‹åºæ·»åŠ åŸ‹ç‚¹ç›‘æµ‹ï¼›ä¹Ÿå¯ä»¥ä½¿ç”¨ä½ è‡ªå·±åŒ…å«å¤§æ¨¡å‹è°ƒç”¨é€»è¾‘çš„åº”ç”¨ä»£ç ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªæœ€å°åŒ–çš„RAGåº”ç”¨ç¨‹åºï¼Œå®ƒç›´æ¥ä½¿ç”¨OpenAI SDKï¼Œæš‚æœªæ·»åŠ ä»»ä½•LangSmithè¿½è¸ªåŠŸèƒ½ã€‚è¯¥åº”ç”¨åŒ…å«ä¸‰ä¸ªæ ¸å¿ƒéƒ¨åˆ†ï¼š</p>
<ul>
<li>æ£€ç´¢å™¨å‡½æ•°ï¼ˆRetriever functionï¼‰ï¼šæ¨¡æ‹Ÿæ–‡æ¡£æ£€ç´¢è¿‡ç¨‹ï¼Œä¸”å§‹ç»ˆè¿”å›ç›¸åŒçš„å­—ç¬¦ä¸²ã€‚</li>
<li>OpenAI å®¢æˆ·ç«¯ï¼ˆOpenAI clientï¼‰ï¼šåˆå§‹åŒ–ä¸€ä¸ªåŸºç¡€çš„ OpenAI å®¢æˆ·ç«¯ï¼Œç”¨äºå‘é€èŠå¤©è¡¥å…¨è¯·æ±‚ã€‚</li>
<li>RAG å‡½æ•°ï¼ˆRAG functionï¼‰ï¼šå°†æ£€ç´¢åˆ°çš„æ–‡æ¡£ä¸ç”¨æˆ·çš„é—®é¢˜ç»“åˆï¼Œæ„å»ºç³»ç»Ÿæç¤ºè¯ï¼›è°ƒç”¨ chat.completions.create() æ¥å£ï¼›å¹¶è¿”å›åŠ©æ‰‹çš„å“åº”ç»“æœã€‚</li>
</ul>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> openai <span class="hljs-keyword">import</span> OpenAI

<span class="hljs-keyword">def</span> <span class="hljs-title function_">retriever</span>(<span class="hljs-params">query: <span class="hljs-built_in">str</span></span>):
    <span class="hljs-comment"># Minimal example retriever</span>
    <span class="hljs-keyword">return</span> [<span class="hljs-string">"Harrison worked at Kensho"</span>]

<span class="hljs-comment"># OpenAI client call (no wrapping yet)</span>
client = OpenAI()

<span class="hljs-keyword">def</span> <span class="hljs-title function_">rag</span>(<span class="hljs-params">question: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    docs = retriever(question)
    system_message = (
        <span class="hljs-string">"Answer the user's question using only the provided information below:\n"</span>
        + <span class="hljs-string">"\n"</span>.join(docs)
    )

    <span class="hljs-comment"># This call is not traced yet</span>
    resp = client.chat.completions.create(
        model=<span class="hljs-string">"gpt-4o-mini"</span>,
        messages=[
            {<span class="hljs-string">"role"</span>: <span class="hljs-string">"system"</span>, <span class="hljs-string">"content"</span>: system_message},
            {<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: question},
        ],
    )
    <span class="hljs-keyword">return</span> resp.choices[<span class="hljs-number">0</span>].message.content

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-built_in">print</span>(rag(<span class="hljs-string">"Where did Harrison work?"</span>))
</code></pre>
<h2 data-id="heading-4">è¿½è¸ªLLMè°ƒç”¨</h2>
<p>è¿½è¸ªæ‰€æœ‰çš„å¤§æ¨¡å‹è°ƒç”¨ï¼ŒLangSmithæä¾›äº†å¯¹åº”çš„åŒ…è£…å™¨ï¼ˆwrapperï¼‰ï¼š</p>
<ul>
<li>Pythonè¯­è¨€ï¼šwrap_openai</li>
<li>TypeScriptè¯­è¨€ï¼šwrapOpenAI</li>
</ul>
<p>æ­¤ä»£ç ç‰‡æ®µä¼šå¯¹OpenAIå®¢æˆ·ç«¯è¿›è¡ŒåŒ…è£…ï¼Œè¿™æ ·åç»­æ¯ä¸€æ¬¡æ¨¡å‹è°ƒç”¨éƒ½ä¼šè¢«è‡ªåŠ¨è®°å½•ï¼Œå¹¶ä½œä¸ºLangSmithä¸­ä¸€æ¡è¿½è¸ªè®°å½•çš„å­è¿è¡Œå•å…ƒã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> openai <span class="hljs-keyword">import</span> OpenAI
<span class="hljs-keyword">from</span> langsmith.wrappers <span class="hljs-keyword">import</span> wrap_openai  <span class="hljs-comment"># traces openai calls</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">retriever</span>(<span class="hljs-params">query: <span class="hljs-built_in">str</span></span>):
    <span class="hljs-keyword">return</span> [<span class="hljs-string">"Harrison worked at Kensho"</span>]

client = wrap_openai(OpenAI())  <span class="hljs-comment"># log traces by wrapping the model calls</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">rag</span>(<span class="hljs-params">question: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    docs = retriever(question)
    system_message = (
        <span class="hljs-string">"Answer the user's question using only the provided information below:\n"</span>
        + <span class="hljs-string">"\n"</span>.join(docs)
    )
    resp = client.chat.completions.create(
        model=<span class="hljs-string">"gpt-4o-mini"</span>,
        messages=[
            {<span class="hljs-string">"role"</span>: <span class="hljs-string">"system"</span>, <span class="hljs-string">"content"</span>: system_message},
            {<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: question},
        ],
    )
    <span class="hljs-keyword">return</span> resp.choices[<span class="hljs-number">0</span>].message.content

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-built_in">print</span>(rag(<span class="hljs-string">"Where did Harrison work?"</span>))
</code></pre>
<h2 data-id="heading-5">è¿½è¸ªæ•´ä¸ªåº”ç”¨</h2>
<p>ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨traceableè£…é¥°å™¨ï¼Œæ¥è¿½è¸ªæ•´ä¸ªåº”ç”¨ç¨‹åºï¼Œè€Œä¸åªæ˜¯ä»…ä»…è¿½è¸ªå¤§å‹è¯­è¨€æ¨¡å‹çš„è°ƒç”¨ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> openai <span class="hljs-keyword">import</span> OpenAI
<span class="hljs-keyword">from</span> langsmith.wrappers <span class="hljs-keyword">import</span> wrap_openai
<span class="hljs-keyword">from</span> langsmith <span class="hljs-keyword">import</span> traceable

<span class="hljs-keyword">def</span> <span class="hljs-title function_">retriever</span>(<span class="hljs-params">query: <span class="hljs-built_in">str</span></span>):
    <span class="hljs-keyword">return</span> [<span class="hljs-string">"Harrison worked at Kensho"</span>]

client = wrap_openai(OpenAI())  <span class="hljs-comment"># keep this to capture the prompt and response from the LLM</span>

<span class="hljs-meta">@traceable</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">rag</span>(<span class="hljs-params">question: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    docs = retriever(question)
    system_message = (
        <span class="hljs-string">"Answer the user's question using only the provided information below:\n"</span>
        + <span class="hljs-string">"\n"</span>.join(docs)
    )
    resp = client.chat.completions.create(
        model=<span class="hljs-string">"gpt-4o-mini"</span>,
        messages=[
            {<span class="hljs-string">"role"</span>: <span class="hljs-string">"system"</span>, <span class="hljs-string">"content"</span>: system_message},
            {<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: question},
        ],
    )
    <span class="hljs-keyword">return</span> resp.choices[<span class="hljs-number">0</span>].message.content

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-built_in">print</span>(rag(<span class="hljs-string">"Where did Harrison work?"</span>))
</code></pre>
<h2 data-id="heading-6">è¿½è¸ªLangChainåº”ç”¨</h2>
<ul>
<li>è‡ªåŠ¨è¿½è¸ª</li>
</ul>
<p>LangSmithå¯ä¸LangChainæ— ç¼é›†æˆï¼Œä½ åªéœ€è¦é…ç½®LangSmithçš„ç¯å¢ƒå˜é‡ï¼Œå³å¯è‡ªåŠ¨è¿½è¸ªLangChainåº”ç”¨çš„è¿è¡Œã€‚</p>
<ul>
<li>é€‰æ‹©æ€§è·Ÿè¸ª</li>
</ul>
<p>æœ‰æ—¶å€™ä½ å¹¶ä¸éœ€è¦è¿½è¸ªæ™ºèƒ½ä½“æ‰€æœ‰çš„è¡Œä¸ºã€‚ä½ å¯èƒ½å¸Œæœ›é€‰æ‹©æ€§çš„è¿½è¸ªä¸€äº›è¡Œä¸ºã€‚ä½¿ç”¨tracing_contextä¸Šä¸‹æ–‡ç®¡ç†å™¨å¯ä»¥å®ç°é€‰æ‹©æ€§çš„è¿½è¸ªã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># You can opt-in to specific invocations..</span>
<span class="hljs-keyword">import</span> langsmith <span class="hljs-keyword">as</span> ls

<span class="hljs-keyword">with</span> ls.tracing_context(enabled=<span class="hljs-literal">True</span>):
    chain.invoke({<span class="hljs-string">"question"</span>: <span class="hljs-string">"Am I using a callback?"</span>, <span class="hljs-string">"context"</span>: <span class="hljs-string">"I'm using a callback"</span>})

<span class="hljs-comment"># This will NOT be traced (assuming LANGSMITH_TRACING is not set)</span>
chain.invoke({<span class="hljs-string">"question"</span>: <span class="hljs-string">"Am I being traced?"</span>, <span class="hljs-string">"context"</span>: <span class="hljs-string">"I'm not being traced"</span>})

<span class="hljs-comment"># This would not be traced, even if LANGSMITH_TRACING=true</span>
<span class="hljs-keyword">with</span> ls.tracing_context(enabled=<span class="hljs-literal">False</span>):
    chain.invoke({<span class="hljs-string">"question"</span>: <span class="hljs-string">"Am I being traced?"</span>, <span class="hljs-string">"context"</span>: <span class="hljs-string">"I'm not being traced"</span>})
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¿„ç½—æ–¯Yandexåœ°å›¾å®æˆ˜]]></title>    <link>https://juejin.cn/post/7573738017988165675</link>    <guid>https://juejin.cn/post/7573738017988165675</guid>    <pubDate>2025-11-18T08:18:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573738017988165675" data-draft-id="7573588675638345743" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¿„ç½—æ–¯Yandexåœ°å›¾å®æˆ˜"/> <meta itemprop="keywords" content="API,Vue.js"/> <meta itemprop="datePublished" content="2025-11-18T08:18:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="jason_yang"/> <meta itemprop="url" content="https://juejin.cn/user/2972704795802653"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¿„ç½—æ–¯Yandexåœ°å›¾å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2972704795802653/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    jason_yang
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T08:18:29.000Z" title="Tue Nov 18 2025 08:18:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    33
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç”±äºåœ°åŸŸé™åˆ¶ï¼Œä¸€èˆ¬åœ¨ä¿„è¯­åŒºåªèƒ½ä½¿ç”¨Yandexåšåœ°å›¾å±•ç¤ºï¼Œè¿™é‡Œä»‹ç»yandex å¸¸ç”¨çš„ä¸€äº›api</p>
<blockquote>
<p>ç”±äºå¾ˆå¤šèµ„æ–™å’Œaiéƒ½æ˜¯2.1çš„ç‰ˆæœ¬ï¼Œæ•…æ­¤é€‰æ‹©äº†è¾ƒè€çš„ç‰ˆæœ¬2.1åšå¼€å‘ï¼Œæœ€æ–°æ›´æ–°åˆ°v3çš„ç‰ˆæœ¬</p>
</blockquote>
<h2 data-id="heading-0">1.åˆå§‹åŒ–</h2>
<p>å¼•å…¥èµ„æº</p>
<pre><code class="hljs language-js" lang="js">&lt;script src=<span class="hljs-string">"https://api-maps.yandex.ru/2.1/?lang=zh_CN&amp;onload=initMap"</span> defer&gt;&lt;/script&gt;
 <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"map"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span> 
</code></pre>
<p>åˆå§‹åŒ–</p>
<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºdivçš„id</li>
</ul>
<pre><code class="hljs language-js" lang="js">     <span class="hljs-keyword">let</span> map;
     
    <span class="hljs-comment">// åˆå§‹åŒ–åœ°å›¾</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">initMap</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> mapCenter = [<span class="hljs-number">31.0</span>, <span class="hljs-number">114.0</span>]; <span class="hljs-comment">// ä¸­å›½ä¸­å—éƒ¨ï¼Œè®©å¤šä¸ªåŸå¸‚å¯è§</span>
      map = <span class="hljs-keyword">new</span> ymaps.<span class="hljs-title class_">Map</span>(<span class="hljs-string">"map"</span>, {
        <span class="hljs-attr">center</span>: mapCenter,
        <span class="hljs-attr">zoom</span>: <span class="hljs-number">5</span>
      });
    } 
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0d2e31877ffe4cd1a878530c27024d2d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamFzb25feWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060690&amp;x-signature=TkVareLnso9gPeyt%2BYtFbzlYaz8%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-1">å°è£…åˆå§‹åŒ–</h3>
<p>ä¸ºäº†æ–¹ä¾¿ç»´æŠ¤ï¼Œæˆ‘ä»¬å°è£…ä¸€ä¸‹ yandexçš„åˆå§‹åŒ–ã€‚</p>
<p>è¿™é‡Œé€šè¿‡åŠ¨æ€æ’å…¥jsæ–¹å¼åˆå§‹åŒ–</p>
<blockquote>
<p>æ³¨æ„åŸæ¥çš„onload é€šè¿‡è¿™ç§æ–¹å¼æ— æ³•æ­£å¸¸è§¦å‘ã€‚å¯ä»¥æ­£å¸¸åŒæ­¥æ–¹æ³•ç¼–å†™ä»£ç å³å¯ã€‚å¦‚åœ¨ï¼š<code>map = new (window as any).ymaps.Map(...)</code>åˆå§‹åŒ–åä¸‹é¢æ¥ç€å†™éœ€è¦åˆå§‹åŒ–çš„é€»è¾‘</p>
</blockquote>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span> 
     <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"main-container"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"mapContainer"</span> <span class="hljs-attr">v-loading</span>=<span class="hljs-string">"loading"</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">import</span> { ref,  onMounted, onUnmounted } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>   
  <span class="hljs-keyword">const</span> props = <span class="hljs-title function_">defineProps</span>({
    <span class="hljs-attr">apiKey</span>: {
      <span class="hljs-attr">type</span>: <span class="hljs-title class_">String</span>,
      <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>,
    },
  })  
  <span class="hljs-keyword">const</span> loading = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)   
  <span class="hljs-keyword">let</span> <span class="hljs-attr">map</span>: any | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>   
  <span class="hljs-keyword">const</span> mapContainer = ref&lt;<span class="hljs-title class_">HTMLElement</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>) 

  <span class="hljs-comment">// æ£€æŸ¥Yandex Mapsæ˜¯å¦å·²åŠ è½½</span>
  <span class="hljs-keyword">const</span> isYandexMapsLoaded = (): <span class="hljs-function"><span class="hljs-params">boolean</span> =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> (<span class="hljs-variable language_">window</span> <span class="hljs-keyword">as</span> any).<span class="hljs-property">ymaps</span> !== <span class="hljs-string">'undefined'</span>
  }
 
  <span class="hljs-keyword">const</span> loadYandexMaps = (): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-keyword">void</span>&gt; =&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦å·²ç»åŠ è½½è¿‡</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isYandexMapsLoaded</span>()) {
        <span class="hljs-title function_">resolve</span>()
        <span class="hljs-keyword">return</span>
      }

      <span class="hljs-comment">// åˆ›å»ºscriptæ ‡ç­¾</span>
      <span class="hljs-keyword">const</span> script = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'script'</span>) 
      <span class="hljs-keyword">const</span> apiKey = props.<span class="hljs-property">apiKey</span> <span class="hljs-comment">//  //</span>
      script.<span class="hljs-property">src</span> = <span class="hljs-string">`https://api-maps.yandex.ru/2.1/?apikey=<span class="hljs-subst">${apiKey}</span>&amp;lang=ru_RU`</span>
      script.<span class="hljs-property">type</span> = <span class="hljs-string">'text/javascript'</span>
      script.<span class="hljs-property">defer</span> = <span class="hljs-literal">true</span>

      <span class="hljs-comment">// åŠ è½½å®Œæˆå›è°ƒ</span>
      script.<span class="hljs-property">onload</span> = <span class="hljs-function">() =&gt;</span> { 
        ;(<span class="hljs-variable language_">window</span> <span class="hljs-keyword">as</span> any).<span class="hljs-property">ymaps</span>.<span class="hljs-title function_">ready</span>(<span class="hljs-function">() =&gt;</span> {
          <span class="hljs-title function_">resolve</span>()
        })
      } 
      script.<span class="hljs-property">onerror</span> = <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to load Yandex Maps API'</span>, error)
        <span class="hljs-title function_">reject</span>(error)
      } 
      <span class="hljs-variable language_">document</span>.<span class="hljs-property">head</span>.<span class="hljs-title function_">appendChild</span>(script)
    })
  } 
  
  <span class="hljs-comment">// åˆå§‹åŒ–åœ°å›¾</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">initMap</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">if</span> (!mapContainer.<span class="hljs-property">value</span> || !<span class="hljs-title function_">isYandexMapsLoaded</span>()) <span class="hljs-keyword">return</span>

    <span class="hljs-keyword">let</span> initLat = <span class="hljs-number">55.751244</span>
    <span class="hljs-keyword">let</span> initLng = <span class="hljs-number">37.618423</span>
    <span class="hljs-keyword">let</span> initZoom = <span class="hljs-number">15</span>
 

    <span class="hljs-comment">// åˆ›å»ºåœ°å›¾å®ä¾‹</span>
    map = <span class="hljs-keyword">new</span> (<span class="hljs-variable language_">window</span> <span class="hljs-keyword">as</span> any).<span class="hljs-property">ymaps</span>.<span class="hljs-title class_">Map</span>(mapContainer.<span class="hljs-property">value</span>, {
      <span class="hljs-attr">center</span>: [initLat, initLng], <span class="hljs-comment">// è«æ–¯ç§‘åæ ‡ä½œä¸ºé»˜è®¤å€¼</span>
      <span class="hljs-attr">zoom</span>: initZoom,
      <span class="hljs-attr">controls</span>: [<span class="hljs-string">'fullscreenControl'</span>] 
    }) 
    
    <span class="hljs-comment">// åœ¨è¿™é‡Œæ­£å¸¸å†™åŒæ­¥çš„ä»£ç </span>
  }

  <span class="hljs-comment">// ç»„ä»¶å¸è½½æ—¶æ¸…ç†åœ°å›¾å®ä¾‹</span>
  <span class="hljs-title function_">onUnmounted</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span> (map) {
      map.<span class="hljs-title function_">destroy</span>()
      map = <span class="hljs-literal">null</span>
    }
  })
 
  <span class="hljs-title function_">onMounted</span>(<span class="hljs-keyword">async</span> () =&gt; {
    loading.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">loadYandexMaps</span>()  
      <span class="hljs-title function_">initMap</span>() 
      loading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Error onMounted:'</span>, error)
      loading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
    }
  })
 
  
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"scss"</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
  <span class="hljs-selector-class">.main-container</span> {
    <span class="hljs-attribute">position</span>: relative;
      <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100vh</span> - <span class="hljs-number">70px</span>);
  } 
  <span class="hljs-selector-class">.loading</span> {
    <span class="hljs-attribute">text-align</span>: center;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
    <span class="hljs-attribute">color</span>: <span class="hljs-number">#909399</span>;
  }
 
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<h2 data-id="heading-2">2.æ ‡è®°</h2>
<h3 data-id="heading-3">ç³»ç»Ÿè‡ªå¸¦æ ‡è®°</h3>
<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºåæ ‡</li>
<li>ç¬¬äºŒä¸ªä¸ºå¼¹æ¡†å†…å®¹</li>
</ul>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-keyword">const</span> placemark = <span class="hljs-keyword">new</span> ymaps.<span class="hljs-title class_">Placemark</span>(
         [<span class="hljs-number">39.9042</span>, <span class="hljs-number">116.4074</span>],
          { <span class="hljs-attr">balloonContent</span>: <span class="hljs-string">'&lt;h3&gt;åŒ—äº¬ç«™ç‚¹&lt;/h3&gt;&lt;p&gt;è¿™æ˜¯é¦–éƒ½æ ¸å¿ƒç«™ç‚¹ï¼ŒåŠŸèƒ½é½å…¨ã€‚&lt;/p&gt;'</span> }, 
        );
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b8d00b31ee24434990fdd8c1bd342216~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamFzb25feWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060690&amp;x-signature=Zk6Ral3kOrRcd0JEJtvVtaDkuec%3D" alt="image.png" loading="lazy"/></p>
<p>ç‚¹å‡»æ•ˆæœ
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0fb2ddd225fb47a699fe88e87ad2fae1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamFzb25feWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060690&amp;x-signature=AWijn1ce0uY%2FjbvtM6QRAyWFT3k%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-4">è‡ªå®šä¹‰æ ‡è®°å›¾æ ‡</h3>
<p>ç”±äºè‡ªå¸¦çš„å›¾æ ‡å¥½ä¸‘ï¼Œä¸€èˆ¬ä½¿ç”¨ç¾å·¥è®¾è®¡çš„iconã€‚</p>
<ul>
<li>é€šè¿‡å‚æ•°iconLayout æŒ‡å®šæ¸²æŸ“ç±»å‹</li>
<li>é€šè¿‡å‚æ•°iconImageHref è®¾ç½®å¯¹åº”çš„å›¾ç‰‡</li>
</ul>
<pre><code class="hljs language-js" lang="js">   myPlacemarkWithContent = <span class="hljs-keyword">new</span> ymaps.<span class="hljs-title class_">Placemark</span>(
           [<span class="hljs-number">39.9042</span>, <span class="hljs-number">116.4074</span>],
            {
                <span class="hljs-attr">hintContent</span>: <span class="hljs-string">"A custom placemark icon with contents"</span>,
                <span class="hljs-attr">balloonContent</span>: <span class="hljs-string">"This one â€” for Christmas"</span>, 
            },
            { 
                <span class="hljs-attr">iconLayout</span>: <span class="hljs-string">"default#imageWithContent"</span>, 
                <span class="hljs-attr">iconImageHref</span>: <span class="hljs-string">"dashboard/local1.png"</span>, <span class="hljs-comment">// è‡ªå®šä¹‰å›¾ç‰‡</span>
                <span class="hljs-comment">// The size of the placemark.</span>
                <span class="hljs-attr">iconImageSize</span>: [<span class="hljs-number">40</span>, <span class="hljs-number">46</span>], 
                <span class="hljs-attr">iconImageOffset</span>: [-<span class="hljs-number">24</span>, -<span class="hljs-number">24</span>], 
                <span class="hljs-attr">iconContentOffset</span>: [<span class="hljs-number">15</span>, <span class="hljs-number">15</span>],  
            }
        );
        
    map.<span class="hljs-property">geoObjects</span>.<span class="hljs-title function_">add</span>(myPlacemarkWithContent);
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/86b120666e104c50aa91ab8a0b6c9acd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamFzb25feWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060690&amp;x-signature=RhxnuXu0PX0w63uGO%2FymSDtGgg4%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-5">å›¾æ ‡è¿½åŠ ä¿¡æ¯æ˜¾ç¤º</h3>
<p>é€šè¿‡ymaps.templateLayoutFactory.createClass æˆ‘ä»¬å¯ä»¥åœ¨å›¾æ ‡åŸºç¡€ä¸Šè¿½åŠ ä¿¡æ¯</p>
<pre><code class="hljs language-js" lang="js">
        <span class="hljs-title class_">MyIconContentLayout</span> = ymaps.<span class="hljs-property">templateLayoutFactory</span>.<span class="hljs-title function_">createClass</span>(
            <span class="hljs-string">'&lt;div style="color: #FFFFFF; font-weight: bold;"&gt;$[properties.iconContent]&lt;/div&gt;'</span>
        ), 
        myPlacemarkWithContent = <span class="hljs-keyword">new</span> ymaps.<span class="hljs-title class_">Placemark</span>(
           [<span class="hljs-number">39.9042</span>, <span class="hljs-number">116.4074</span>],
            {
                <span class="hljs-attr">hintContent</span>: <span class="hljs-string">"A custom placemark icon with contents"</span>,
                <span class="hljs-attr">balloonContent</span>: <span class="hljs-string">"This one â€” for Christmas"</span>,
                <span class="hljs-attr">iconContent</span>: <span class="hljs-string">"M"</span>,
            },
            { 
                <span class="hljs-attr">iconLayout</span>: <span class="hljs-string">"default#imageWithContent"</span>,
                <span class="hljs-comment">// Custom image for the placemark icon.</span>
                <span class="hljs-attr">iconImageHref</span>: <span class="hljs-string">"dashboard/local1.png"</span>,
                <span class="hljs-comment">// The size of the placemark.</span>
                <span class="hljs-attr">iconImageSize</span>: [<span class="hljs-number">40</span>, <span class="hljs-number">46</span>], 
                <span class="hljs-attr">iconImageOffset</span>: [-<span class="hljs-number">24</span>, -<span class="hljs-number">24</span>], 
                <span class="hljs-attr">iconContentOffset</span>: [<span class="hljs-number">15</span>, <span class="hljs-number">15</span>], 
                <span class="hljs-attr">iconContentLayout</span>: <span class="hljs-title class_">MyIconContentLayout</span>,
            }
        );
        map.<span class="hljs-property">geoObjects</span>.<span class="hljs-title function_">add</span>(myPlacemarkWithContent);
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2778f6319840421b94505f77a602b44b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamFzb25feWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060690&amp;x-signature=fgVLRCDj0qcDx1ISVCKGqFwdRB4%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-6">3.æ±‡æ€»æ˜¾ç¤º</h2>
<h3 data-id="heading-7">ç³»ç»Ÿè‡ªå¸¦Clusterer</h3>
<p>ç³»ç»Ÿè‡ªåŠ¨Clusterer</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> myMap = <span class="hljs-keyword">new</span> ymaps.<span class="hljs-title class_">Map</span>(
            <span class="hljs-string">"map"</span>,
            {
                <span class="hljs-attr">center</span>: [<span class="hljs-number">55.751574</span>, <span class="hljs-number">37.573856</span>],
                <span class="hljs-attr">zoom</span>: <span class="hljs-number">9</span>,
            },
            {
                <span class="hljs-attr">searchControlProvider</span>: <span class="hljs-string">"yandex#search"</span>,
            }
        ),
        clusterer = <span class="hljs-keyword">new</span> ymaps.<span class="hljs-title class_">Clusterer</span>({
            <span class="hljs-attr">preset</span>: <span class="hljs-string">"islands#invertedVioletClusterIcons"</span>,
            <span class="hljs-attr">clusterHideIconOnBalloonOpen</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">geoObjectHideIconOnBalloonOpen</span>: <span class="hljs-literal">false</span>,
        });

 

    <span class="hljs-keyword">var</span> getPointData = <span class="hljs-keyword">function</span> (<span class="hljs-params">index</span>) {
            <span class="hljs-keyword">return</span> {
                <span class="hljs-attr">balloonContentBody</span>:
                    <span class="hljs-string">"placemark &lt;strong&gt;balloon "</span> + index + <span class="hljs-string">"&lt;/strong&gt;"</span>,
                <span class="hljs-attr">clusterCaption</span>: <span class="hljs-string">"placemark &lt;strong&gt;"</span> + index + <span class="hljs-string">"&lt;/strong&gt;"</span>,
            };
        },
        getPointOptions = <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
            <span class="hljs-keyword">return</span> {
                <span class="hljs-attr">preset</span>: <span class="hljs-string">"islands#violetIcon"</span>,
            };
        },
        points = [
            [<span class="hljs-number">55.831903</span>, <span class="hljs-number">37.411961</span>],
            [<span class="hljs-number">55.763338</span>, <span class="hljs-number">37.565466</span>],
            [<span class="hljs-number">55.763338</span>, <span class="hljs-number">37.565466</span>],
            [<span class="hljs-number">55.744522</span>, <span class="hljs-number">37.616378</span>],
            [<span class="hljs-number">55.780898</span>, <span class="hljs-number">37.642889</span>],
            [<span class="hljs-number">55.793559</span>, <span class="hljs-number">37.435983</span>],
            [<span class="hljs-number">55.800584</span>, <span class="hljs-number">37.675638</span>],
            [<span class="hljs-number">55.716733</span>, <span class="hljs-number">37.589988</span>],
            [<span class="hljs-number">55.775724</span>, <span class="hljs-number">37.56084</span>],
            [<span class="hljs-number">55.822144</span>, <span class="hljs-number">37.433781</span>],
            [<span class="hljs-number">55.87417</span>, <span class="hljs-number">37.669838</span>],
            [<span class="hljs-number">55.71677</span>, <span class="hljs-number">37.482338</span>],
            [<span class="hljs-number">55.78085</span>, <span class="hljs-number">37.75021</span>],
            [<span class="hljs-number">55.810906</span>, <span class="hljs-number">37.654142</span>],
            [<span class="hljs-number">55.865386</span>, <span class="hljs-number">37.713329</span>],
            [<span class="hljs-number">55.847121</span>, <span class="hljs-number">37.525797</span>],
            [<span class="hljs-number">55.778655</span>, <span class="hljs-number">37.710743</span>],
            [<span class="hljs-number">55.623415</span>, <span class="hljs-number">37.717934</span>],
            [<span class="hljs-number">55.863193</span>, <span class="hljs-number">37.737</span>],
            [<span class="hljs-number">55.86677</span>, <span class="hljs-number">37.760113</span>],
            [<span class="hljs-number">55.698261</span>, <span class="hljs-number">37.730838</span>],
            [<span class="hljs-number">55.6338</span>, <span class="hljs-number">37.564769</span>],
            [<span class="hljs-number">55.639996</span>, <span class="hljs-number">37.5394</span>],
            [<span class="hljs-number">55.69023</span>, <span class="hljs-number">37.405853</span>],
            [<span class="hljs-number">55.77597</span>, <span class="hljs-number">37.5129</span>],
            [<span class="hljs-number">55.775777</span>, <span class="hljs-number">37.44218</span>],
            [<span class="hljs-number">55.811814</span>, <span class="hljs-number">37.440448</span>],
            [<span class="hljs-number">55.751841</span>, <span class="hljs-number">37.404853</span>],
            [<span class="hljs-number">55.627303</span>, <span class="hljs-number">37.728976</span>],
            [<span class="hljs-number">55.816515</span>, <span class="hljs-number">37.597163</span>],
            [<span class="hljs-number">55.664352</span>, <span class="hljs-number">37.689397</span>],
            [<span class="hljs-number">55.679195</span>, <span class="hljs-number">37.600961</span>],
            [<span class="hljs-number">55.673873</span>, <span class="hljs-number">37.658425</span>],
            [<span class="hljs-number">55.681006</span>, <span class="hljs-number">37.605126</span>],
            [<span class="hljs-number">55.876327</span>, <span class="hljs-number">37.431744</span>],
            [<span class="hljs-number">55.843363</span>, <span class="hljs-number">37.778445</span>],
            [<span class="hljs-number">55.875445</span>, <span class="hljs-number">37.549348</span>],
            [<span class="hljs-number">55.662903</span>, <span class="hljs-number">37.702087</span>],
            [<span class="hljs-number">55.746099</span>, <span class="hljs-number">37.434113</span>],
            [<span class="hljs-number">55.83866</span>, <span class="hljs-number">37.712326</span>],
            [<span class="hljs-number">55.774838</span>, <span class="hljs-number">37.415725</span>],
            [<span class="hljs-number">55.871539</span>, <span class="hljs-number">37.630223</span>],
            [<span class="hljs-number">55.657037</span>, <span class="hljs-number">37.571271</span>],
            [<span class="hljs-number">55.691046</span>, <span class="hljs-number">37.711026</span>],
            [<span class="hljs-number">55.803972</span>, <span class="hljs-number">37.65961</span>],
            [<span class="hljs-number">55.616448</span>, <span class="hljs-number">37.452759</span>],
            [<span class="hljs-number">55.781329</span>, <span class="hljs-number">37.442781</span>],
            [<span class="hljs-number">55.844708</span>, <span class="hljs-number">37.74887</span>],
            [<span class="hljs-number">55.723123</span>, <span class="hljs-number">37.406067</span>],
            [<span class="hljs-number">55.858585</span>, <span class="hljs-number">37.48498</span>],
        ],
        geoObjects = [];

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, len = points.<span class="hljs-property">length</span>; i &lt; len; i++) {
        geoObjects[i] = <span class="hljs-keyword">new</span> ymaps.<span class="hljs-title class_">Placemark</span>(
            points[i],
            <span class="hljs-title function_">getPointData</span>(i),
            <span class="hljs-title function_">getPointOptions</span>()
        );
    }

    clusterer.<span class="hljs-title function_">add</span>(geoObjects);
    myMap.<span class="hljs-property">geoObjects</span>.<span class="hljs-title function_">add</span>(clusterer);

    myMap.<span class="hljs-title function_">setBounds</span>(clusterer.<span class="hljs-title function_">getBounds</span>(), {
        <span class="hljs-attr">checkZoomRange</span>: <span class="hljs-literal">true</span>,
    });
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ae5718772104892b86d4585c5081bf8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamFzb25feWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060690&amp;x-signature=Fhn8vPr4BDy9Oy3z6DKgXMIQjBE%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4bc93823be3d46158ac8f48d403c378d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamFzb25feWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060690&amp;x-signature=yZOSe1sUk41L%2F0vqBCA3Z9%2BcpHY%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e346afd08bf540e7a5ffe053f417443e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamFzb25feWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060690&amp;x-signature=iizC3y7tJ28U4LdaPL0Acb9c1tM%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c432457589b64e468b433e5d26bb1cbe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamFzb25feWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060690&amp;x-signature=QBybwgtkCVd6T2Kjq8e8WfKEkEs%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-8">éªŒè¯è‡ªå¸¦clustererçš„ç“¶é¢ˆ</h3>
<p>é€šè¿‡éšæœºæ–¹æ³•åˆ›å»º4wèŠ‚ç‚¹</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span> 
     <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"main-container"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"mapContainer"</span> <span class="hljs-attr">v-loading</span>=<span class="hljs-string">"loading"</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">import</span> { ref,  onMounted, onUnmounted } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>   
  <span class="hljs-keyword">const</span> props = <span class="hljs-title function_">defineProps</span>({
    <span class="hljs-attr">apiKey</span>: {
      <span class="hljs-attr">type</span>: <span class="hljs-title class_">String</span>,
      <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>,
    },
  })  
  <span class="hljs-keyword">const</span> loading = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)   
  <span class="hljs-keyword">let</span> <span class="hljs-attr">map</span>: any | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>   
  <span class="hljs-keyword">const</span> mapContainer = ref&lt;<span class="hljs-title class_">HTMLElement</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>) 

  <span class="hljs-comment">// æ£€æŸ¥Yandex Mapsæ˜¯å¦å·²åŠ è½½</span>
  <span class="hljs-keyword">const</span> isYandexMapsLoaded = (): <span class="hljs-function"><span class="hljs-params">boolean</span> =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> (<span class="hljs-variable language_">window</span> <span class="hljs-keyword">as</span> any).<span class="hljs-property">ymaps</span> !== <span class="hljs-string">'undefined'</span>
  }
 
  <span class="hljs-keyword">const</span> loadYandexMaps = (): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-keyword">void</span>&gt; =&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦å·²ç»åŠ è½½è¿‡</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isYandexMapsLoaded</span>()) {
        <span class="hljs-title function_">resolve</span>()
        <span class="hljs-keyword">return</span>
      }

      <span class="hljs-comment">// åˆ›å»ºscriptæ ‡ç­¾</span>
      <span class="hljs-keyword">const</span> script = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'script'</span>) 
      <span class="hljs-keyword">const</span> apiKey = props.<span class="hljs-property">apiKey</span> <span class="hljs-comment">//  //</span>
      script.<span class="hljs-property">src</span> = <span class="hljs-string">`https://api-maps.yandex.ru/2.1/?apikey=<span class="hljs-subst">${apiKey}</span>&amp;lang=ru_RU`</span>
      script.<span class="hljs-property">type</span> = <span class="hljs-string">'text/javascript'</span>
      script.<span class="hljs-property">defer</span> = <span class="hljs-literal">true</span>

      <span class="hljs-comment">// åŠ è½½å®Œæˆå›è°ƒ</span>
      script.<span class="hljs-property">onload</span> = <span class="hljs-function">() =&gt;</span> { 
        ;(<span class="hljs-variable language_">window</span> <span class="hljs-keyword">as</span> any).<span class="hljs-property">ymaps</span>.<span class="hljs-title function_">ready</span>(<span class="hljs-function">() =&gt;</span> {
          <span class="hljs-title function_">resolve</span>()
        })
      } 
      script.<span class="hljs-property">onerror</span> = <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to load Yandex Maps API'</span>, error)
        <span class="hljs-title function_">reject</span>(error)
      } 
      <span class="hljs-variable language_">document</span>.<span class="hljs-property">head</span>.<span class="hljs-title function_">appendChild</span>(script)
    })
  } 
  
   <span class="hljs-keyword">const</span> <span class="hljs-title function_">getRandomData</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">COUNT</span> = <span class="hljs-number">40000</span> <span class="hljs-comment">// 300000</span>
    <span class="hljs-keyword">const</span> locations = [] 
    <span class="hljs-comment">// æ·±åœ³å¸‚ä¸­å¿ƒåæ ‡èŒƒå›´ï¼ˆå¤§è‡´ï¼‰</span>
    <span class="hljs-keyword">const</span> baseLat = <span class="hljs-number">55.751244</span>
    <span class="hljs-keyword">const</span> baseLng = <span class="hljs-number">37.618423</span>
  
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable constant_">COUNT</span>; i++) {
      <span class="hljs-keyword">const</span> lat = baseLat + (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() - <span class="hljs-number">0.5</span>) * <span class="hljs-number">30.5</span> <span class="hljs-comment">// +-0.25èŒƒå›´</span>
      <span class="hljs-keyword">const</span> lng = baseLng + (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() - <span class="hljs-number">0.5</span>) * <span class="hljs-number">100.5</span>
  
      locations.<span class="hljs-title function_">push</span>([ <span class="hljs-built_in">parseFloat</span>(lat.<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">6</span>)),
        <span class="hljs-built_in">parseFloat</span>(lng.<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">6</span>))])
    }
    <span class="hljs-keyword">return</span> locations
  }  <span class="hljs-comment">// åˆå§‹åŒ–åœ°å›¾</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">initMap</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">if</span> (!mapContainer.<span class="hljs-property">value</span> || !<span class="hljs-title function_">isYandexMapsLoaded</span>()) <span class="hljs-keyword">return</span>

    <span class="hljs-keyword">let</span> initLat = <span class="hljs-number">55.751244</span>
    <span class="hljs-keyword">let</span> initLng = <span class="hljs-number">37.618423</span>
    <span class="hljs-keyword">let</span> initZoom = <span class="hljs-number">15</span>
 

    <span class="hljs-comment">// åˆ›å»ºåœ°å›¾å®ä¾‹</span>
    map = <span class="hljs-keyword">new</span> (<span class="hljs-variable language_">window</span> <span class="hljs-keyword">as</span> any).<span class="hljs-property">ymaps</span>.<span class="hljs-title class_">Map</span>(mapContainer.<span class="hljs-property">value</span>, {
      <span class="hljs-attr">center</span>: [initLat, initLng], <span class="hljs-comment">// è«æ–¯ç§‘åæ ‡ä½œä¸ºé»˜è®¤å€¼</span>
      <span class="hljs-attr">zoom</span>: initZoom,
      <span class="hljs-attr">controls</span>: [<span class="hljs-string">'fullscreenControl'</span>] 
    }) 

       <span class="hljs-keyword">let</span> clusterer =  <span class="hljs-keyword">new</span> (<span class="hljs-variable language_">window</span> <span class="hljs-keyword">as</span> any).<span class="hljs-property">ymaps</span>.<span class="hljs-title class_">Clusterer</span>({
            <span class="hljs-attr">preset</span>: <span class="hljs-string">"islands#invertedVioletClusterIcons"</span>,
            <span class="hljs-attr">clusterHideIconOnBalloonOpen</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">geoObjectHideIconOnBalloonOpen</span>: <span class="hljs-literal">false</span>,
        }); 
    <span class="hljs-keyword">let</span> getPointData = <span class="hljs-keyword">function</span> (<span class="hljs-params">index:number</span>) {
            <span class="hljs-keyword">return</span> {
                <span class="hljs-attr">balloonContentBody</span>:
                    <span class="hljs-string">"placemark &lt;strong&gt;balloon "</span> + index + <span class="hljs-string">"&lt;/strong&gt;"</span>,
                <span class="hljs-attr">clusterCaption</span>: <span class="hljs-string">"placemark &lt;strong&gt;"</span> + index + <span class="hljs-string">"&lt;/strong&gt;"</span>,
            };
        },
        getPointOptions = <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
            <span class="hljs-keyword">return</span> {
                <span class="hljs-attr">preset</span>: <span class="hljs-string">"islands#violetIcon"</span>,
            };
        };
    <span class="hljs-keyword">let</span>    points = <span class="hljs-title function_">getRandomData</span>()
    <span class="hljs-keyword">let</span>    geoObjects = []

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, len = points.<span class="hljs-property">length</span>; i &lt; len; i++) {
        geoObjects[i] = <span class="hljs-keyword">new</span> ymaps.<span class="hljs-title class_">Placemark</span>(
            points[i],
            <span class="hljs-title function_">getPointData</span>(i),
            <span class="hljs-title function_">getPointOptions</span>()
        );
    }

    clusterer.<span class="hljs-title function_">add</span>(geoObjects);
    map.<span class="hljs-property">geoObjects</span>.<span class="hljs-title function_">add</span>(clusterer);

    map.<span class="hljs-title function_">setBounds</span>(clusterer.<span class="hljs-title function_">getBounds</span>(), {
        <span class="hljs-attr">checkZoomRange</span>: <span class="hljs-literal">true</span>,
    });

  }
  

  <span class="hljs-comment">// ç»„ä»¶å¸è½½æ—¶æ¸…ç†åœ°å›¾å®ä¾‹</span>
  <span class="hljs-title function_">onUnmounted</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span> (map) {
      map.<span class="hljs-title function_">destroy</span>()
      map = <span class="hljs-literal">null</span>
    }
  })
 
  <span class="hljs-title function_">onMounted</span>(<span class="hljs-keyword">async</span> () =&gt; {
    loading.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">loadYandexMaps</span>()  
      <span class="hljs-title function_">initMap</span>() 
      loading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Error onMounted:'</span>, error)
      loading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
    }
  })
 
  
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"scss"</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
  <span class="hljs-selector-class">.main-container</span> {
    <span class="hljs-attribute">position</span>: relative;
      <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100vh</span> - <span class="hljs-number">70px</span>);
  } 
 

  <span class="hljs-selector-class">.loading</span> {
    <span class="hljs-attribute">text-align</span>: center;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
    <span class="hljs-attribute">color</span>: <span class="hljs-number">#909399</span>;
  }
 
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
 
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3edbbcd56de4725b418e0ea3661f66f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamFzb25feWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060690&amp;x-signature=bLtkWB5ItteZfTmIlvBL%2FKmjuxk%3D" alt="image.png" loading="lazy"/>
åœ¨æ¸²æŸ“æ—¶å·²ç»å¼€å§‹å¡äº†ã€‚</p>
<p>è¿™é‡Œå¯ä»¥å‚è€ƒä¹‹å‰è°·æ­Œåœ°å›¾çš„ä¼˜åŒ–æ–¹æ¡ˆ
<a href="https://juejin.cn/post/7501119171796615219" target="_blank" title="https://juejin.cn/post/7501119171796615219">juejin.cn/post/750111â€¦</a></p>
<p>æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬è¿˜æ˜¯ä¸ç›´æ¥ä½¿ç”¨è‡ªå¸¦çš„clusterï¼Œæˆ‘ä»¬é€šè¿‡åå°è®¡ç®—ï¼Œå‰å°è‡ªå®šä¹‰æ¸²æŸ“è¿”å›çš„æ±‡æ€»æ•°æ®</p>
<h3 data-id="heading-9">è‡ªå®šä¹‰æ¸²æŸ“åå°æ±‡æ€»æ•°æ®</h3>
<p>é€šè¿‡åªç»˜åˆ¶å°‘é‡çš„æ±‡æ€»æ ‡è®°ï¼Œæ¥æå‡æ¸²æŸ“æ•ˆç‡</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span> 
     <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"main-container"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"mapContainer"</span> <span class="hljs-attr">v-loading</span>=<span class="hljs-string">"loading"</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">import</span> { ref,  onMounted, onUnmounted } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>   
  <span class="hljs-keyword">const</span> props = <span class="hljs-title function_">defineProps</span>({
    <span class="hljs-attr">apiKey</span>: {
      <span class="hljs-attr">type</span>: <span class="hljs-title class_">String</span>,
      <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>,
    },
  })  
  <span class="hljs-keyword">const</span> loading = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)   
  <span class="hljs-keyword">let</span> <span class="hljs-attr">map</span>: any | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>   
  <span class="hljs-keyword">const</span> mapContainer = ref&lt;<span class="hljs-title class_">HTMLElement</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>) 

  <span class="hljs-comment">// æ£€æŸ¥Yandex Mapsæ˜¯å¦å·²åŠ è½½</span>
  <span class="hljs-keyword">const</span> isYandexMapsLoaded = (): <span class="hljs-function"><span class="hljs-params">boolean</span> =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> (<span class="hljs-variable language_">window</span> <span class="hljs-keyword">as</span> any).<span class="hljs-property">ymaps</span> !== <span class="hljs-string">'undefined'</span>
  }
 
  <span class="hljs-keyword">const</span> loadYandexMaps = (): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-keyword">void</span>&gt; =&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦å·²ç»åŠ è½½è¿‡</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isYandexMapsLoaded</span>()) {
        <span class="hljs-title function_">resolve</span>()
        <span class="hljs-keyword">return</span>
      }

      <span class="hljs-comment">// åˆ›å»ºscriptæ ‡ç­¾</span>
      <span class="hljs-keyword">const</span> script = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'script'</span>) 
      <span class="hljs-keyword">const</span> apiKey = props.<span class="hljs-property">apiKey</span> <span class="hljs-comment">//  //</span>
      script.<span class="hljs-property">src</span> = <span class="hljs-string">`https://api-maps.yandex.ru/2.1/?apikey=<span class="hljs-subst">${apiKey}</span>&amp;lang=ru_RU`</span>
      script.<span class="hljs-property">type</span> = <span class="hljs-string">'text/javascript'</span>
      script.<span class="hljs-property">defer</span> = <span class="hljs-literal">true</span>

      <span class="hljs-comment">// åŠ è½½å®Œæˆå›è°ƒ</span>
      script.<span class="hljs-property">onload</span> = <span class="hljs-function">() =&gt;</span> { 
        ;(<span class="hljs-variable language_">window</span> <span class="hljs-keyword">as</span> any).<span class="hljs-property">ymaps</span>.<span class="hljs-title function_">ready</span>(<span class="hljs-function">() =&gt;</span> {
          <span class="hljs-title function_">resolve</span>()
        })
      } 
      script.<span class="hljs-property">onerror</span> = <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to load Yandex Maps API'</span>, error)
        <span class="hljs-title function_">reject</span>(error)
      } 
      <span class="hljs-variable language_">document</span>.<span class="hljs-property">head</span>.<span class="hljs-title function_">appendChild</span>(script)
    })
  } 
  
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">getRandomData</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">COUNT</span> = <span class="hljs-number">10</span> <span class="hljs-comment">// 300000</span>
    <span class="hljs-keyword">const</span> locations = []
  
    <span class="hljs-comment">// æ·±åœ³å¸‚ä¸­å¿ƒåæ ‡èŒƒå›´ï¼ˆå¤§è‡´ï¼‰</span>
    <span class="hljs-keyword">const</span> baseLat = <span class="hljs-number">55.751244</span>
    <span class="hljs-keyword">const</span> baseLng = <span class="hljs-number">37.618423</span>
 
  
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable constant_">COUNT</span>; i++) {
      <span class="hljs-keyword">const</span> lat = baseLat + (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() - <span class="hljs-number">0.5</span>) * <span class="hljs-number">35</span> <span class="hljs-comment">// +-0.25èŒƒå›´</span>
      <span class="hljs-keyword">const</span> lng = baseLng + (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() - <span class="hljs-number">0.5</span>) * <span class="hljs-number">35</span>
  
      locations.<span class="hljs-title function_">push</span>({
        <span class="hljs-attr">id</span>: <span class="hljs-string">`<span class="hljs-subst">${i + <span class="hljs-number">1</span>}</span>`</span>,
        <span class="hljs-attr">type</span>: i % <span class="hljs-number">2</span> === <span class="hljs-number">0</span> ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>,
        <span class="hljs-attr">total</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">100</span>,
        <span class="hljs-attr">lat</span>: <span class="hljs-built_in">parseFloat</span>(lat.<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">6</span>)),
        <span class="hljs-attr">lng</span>: <span class="hljs-built_in">parseFloat</span>(lng.<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">6</span>))
      })
    }
    <span class="hljs-keyword">return</span> locations
  }

    <span class="hljs-keyword">const</span> <span class="hljs-title function_">createClusterIcon</span> = (<span class="hljs-params">count: number, type: string, size: number = <span class="hljs-number">40</span></span>) =&gt; {
    <span class="hljs-keyword">const</span> color = type === <span class="hljs-string">'green'</span> ? <span class="hljs-string">'#00BD24'</span> : <span class="hljs-string">'#E0312C'</span>
    <span class="hljs-keyword">const</span> svg = <span class="hljs-string">`
    &lt;svg width="<span class="hljs-subst">${size}</span>" height="<span class="hljs-subst">${size}</span>" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"&gt;
      &lt;g opacity="0.280000"&gt;
        &lt;circle id="æ¤­åœ† 201" cx="20" cy="20" r="20" fill="<span class="hljs-subst">${color}</span>" /&gt;
      &lt;/g&gt;
      &lt;g opacity="0.520000"&gt;
        &lt;circle id="æ¤­åœ† 202" cx="20" cy="20" r="17" fill="<span class="hljs-subst">${color}</span>"  /&gt;
      &lt;/g&gt;
      &lt;circle id="æ¤­åœ† 203" cx="20" cy="20" r="14" fill="<span class="hljs-subst">${color}</span>" /&gt;
      &lt;text x="20" y="25" font-size="10" fill="#fff" text-anchor="middle" dominant-baseline="top"&gt;
        <span class="hljs-subst">${count}</span>
      &lt;/text&gt;
    &lt;/svg&gt;
  `</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">`data:image/svg+xml;charset=utf-8,<span class="hljs-subst">${<span class="hljs-built_in">encodeURIComponent</span>(svg)}</span>`</span>
  }

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">createCluster</span> = (<span class="hljs-params">title:string,own:number,total:number,lat:number,lng:number</span>) =&gt; {
      <span class="hljs-keyword">const</span> color = own === <span class="hljs-number">1</span> ? <span class="hljs-string">'green'</span> : <span class="hljs-string">'red'</span>
      <span class="hljs-comment">// åˆ›å»ºSVGæ ¼å¼çš„åœ†å½¢å›¾æ ‡</span>
      <span class="hljs-keyword">const</span> iconHref = <span class="hljs-title function_">createClusterIcon</span>(total, color, <span class="hljs-number">40</span>)

      <span class="hljs-comment">// åˆ›å»ºæ ‡è®°</span>
      <span class="hljs-keyword">const</span> placemark = <span class="hljs-keyword">new</span> (<span class="hljs-variable language_">window</span> <span class="hljs-keyword">as</span> any).<span class="hljs-property">ymaps</span>.<span class="hljs-title class_">Placemark</span>(
        [lat, lng],
        {
          <span class="hljs-attr">hintContent</span>: title, 
          <span class="hljs-comment">// ä¿å­˜å®Œæ•´çš„æ ‡è®°æ•°æ®</span>
          <span class="hljs-attr">markerData</span>: {
            <span class="hljs-attr">title</span>: title,
          },
        },
        {
          <span class="hljs-attr">iconLayout</span>: <span class="hljs-string">'default#image'</span>, <span class="hljs-comment">// ä½¿ç”¨é»˜è®¤å›¾ç‰‡å¸ƒå±€</span>
          <span class="hljs-attr">iconImageHref</span>: iconHref, <span class="hljs-comment">// å¼•ç”¨ SVG çš„ Data URI</span>
          <span class="hljs-attr">iconImageSize</span>: [<span class="hljs-number">40</span>, <span class="hljs-number">40</span>], <span class="hljs-comment">// å›¾æ ‡æ˜¾ç¤ºå°ºå¯¸</span>
          <span class="hljs-attr">iconImageOffset</span>: [-<span class="hljs-number">40</span> / <span class="hljs-number">2</span>, -<span class="hljs-number">40</span> / <span class="hljs-number">2</span>], <span class="hljs-comment">// åç§»é‡ï¼ˆä¸­å¿ƒç‚¹å¯¹é½åæ ‡ï¼‰</span>
        },
      ) 
      <span class="hljs-comment">// å°†æ ‡è®°æ·»åŠ åˆ°åœ°å›¾</span>
      map.<span class="hljs-property">geoObjects</span>.<span class="hljs-title function_">add</span>(placemark)
      <span class="hljs-keyword">return</span> placemark
  }

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">initMap</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">if</span> (!mapContainer.<span class="hljs-property">value</span> || !<span class="hljs-title function_">isYandexMapsLoaded</span>()) <span class="hljs-keyword">return</span>

    <span class="hljs-keyword">let</span> initLat = <span class="hljs-number">55.751244</span>
    <span class="hljs-keyword">let</span> initLng = <span class="hljs-number">37.618423</span>
    <span class="hljs-keyword">let</span> initZoom = <span class="hljs-number">5</span> 
    <span class="hljs-comment">// åˆ›å»ºåœ°å›¾å®ä¾‹</span>
    map = <span class="hljs-keyword">new</span> (<span class="hljs-variable language_">window</span> <span class="hljs-keyword">as</span> any).<span class="hljs-property">ymaps</span>.<span class="hljs-title class_">Map</span>(mapContainer.<span class="hljs-property">value</span>, {
      <span class="hljs-attr">center</span>: [initLat, initLng], <span class="hljs-comment">// è«æ–¯ç§‘åæ ‡ä½œä¸ºé»˜è®¤å€¼</span>
      <span class="hljs-attr">zoom</span>: initZoom,
      <span class="hljs-attr">controls</span>: [<span class="hljs-string">'fullscreenControl'</span>] 
    }) 
 
    <span class="hljs-keyword">let</span> points = <span class="hljs-title function_">getRandomData</span>() 

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, len = points.<span class="hljs-property">length</span>; i &lt; len; i++) {
      <span class="hljs-keyword">const</span> obj = points[i]
      <span class="hljs-title function_">createCluster</span>(obj.<span class="hljs-property">id</span>,obj.<span class="hljs-property">type</span>, obj.<span class="hljs-property">total</span>, obj.<span class="hljs-property">lat</span>,obj.<span class="hljs-property">lng</span>) 
    }  
  }
  

  <span class="hljs-comment">// ç»„ä»¶å¸è½½æ—¶æ¸…ç†åœ°å›¾å®ä¾‹</span>
  <span class="hljs-title function_">onUnmounted</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span> (map) {
      map.<span class="hljs-title function_">destroy</span>()
      map = <span class="hljs-literal">null</span>
    }
  })
 
  <span class="hljs-title function_">onMounted</span>(<span class="hljs-keyword">async</span> () =&gt; {
    loading.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">loadYandexMaps</span>()  
      <span class="hljs-title function_">initMap</span>() 
      loading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Error onMounted:'</span>, error)
      loading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
    }
  })
 
  
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"scss"</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
  <span class="hljs-selector-class">.main-container</span> {
    <span class="hljs-attribute">position</span>: relative;
      <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100vh</span> - <span class="hljs-number">70px</span>);
  } 
 

  <span class="hljs-selector-class">.loading</span> {
    <span class="hljs-attribute">text-align</span>: center;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
    <span class="hljs-attribute">color</span>: <span class="hljs-number">#909399</span>;
  }
 
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
 
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7bd54c26589e489696a43640777ea806~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamFzb25feWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060690&amp;x-signature=4b5SaYdqIpEhtl5SRpvujWiJa%2FA%3D" alt="image.png" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ç°åœ¨æ±‡æ€»çš„åªæ˜¯ä¸€ä¸ªæ ‡è®°ï¼Œå¹¶æ²¡æœ‰å®Œå…¨åœ¨åœ°å›¾å…¨éƒ¨ç”Ÿæˆã€‚</p>
<h2 data-id="heading-10">4.è‡ªå®šä¹‰å¼¹æ¡†</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d35e9d96918c4c4a9e730d6904b88117~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamFzb25feWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060690&amp;x-signature=NC0Hsu0qqbQxCMpHvbjUMZcR9EA%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>é€šè¿‡å‚æ•°balloonLayout è‡ªå®šä¹‰å¼¹æ¡†å†…å®¹</li>
<li>é€šè¿‡placemark.options.set('iconImageHref'ï¼Œâ€˜xxxâ€™) å®æ—¶ä¿®æ”¹åŸæ¥è‡ªå®šä¹‰çš„æ ‡è®°å›¾ç‰‡</li>
</ul>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh"</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
    <span class="hljs-selector-tag">body</span> {
      <span class="hljs-attribute">font-family</span>: Arial, sans-serif;
      <span class="hljs-attribute">margin</span>: <span class="hljs-number">20px</span>;
    }

    <span class="hljs-selector-id">#map</span> {
      <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
      <span class="hljs-attribute">height</span>: <span class="hljs-number">600px</span>;
      <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ccc</span>;
    }

    <span class="hljs-comment">/* æ°”æ³¡å®¹å™¨ - ç”¨äºä¸‰è§’å®šä½ */</span>
    <span class="hljs-selector-class">.balloon-wrapper</span> {
      <span class="hljs-attribute">position</span>: relative;
      <span class="hljs-attribute">overflow</span>: visible;
      <span class="hljs-comment">/* ç¡®ä¿ä¸‰è§’ä¸è¢«è£å‰ª */</span>
    }

    <span class="hljs-comment">/* æ°”æ³¡å†…å®¹åŒºåŸŸ */</span>
    <span class="hljs-selector-class">.custom-balloon</span> {
      <span class="hljs-attribute">background</span>: <span class="hljs-number">#fff</span>;
      <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;
      <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">3px</span> <span class="hljs-number">14px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.2</span>);
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">15px</span>;
      <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;
      <span class="hljs-attribute">position</span>: relative;
      <span class="hljs-attribute">z-index</span>: <span class="hljs-number">2</span>;
    }

    <span class="hljs-comment">/* å·¦ä¸Šè§’ä¸‰è§’ - æŒ‡å‘å·¦ä¾§æ ‡è®° */</span>
    <span class="hljs-selector-class">.balloon-triangle</span> {
      <span class="hljs-attribute">position</span>: absolute;
      <span class="hljs-attribute">top</span>: <span class="hljs-number">20px</span>;
      <span class="hljs-comment">/* è·ç¦»æ°”æ³¡é¡¶éƒ¨20px */</span>
      <span class="hljs-attribute">left</span>: -<span class="hljs-number">10px</span>;
      <span class="hljs-comment">/* è¶…å‡ºæ°”æ³¡å·¦ä¾§10px */</span>
      <span class="hljs-attribute">width</span>: <span class="hljs-number">0</span>;
      <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;
      <span class="hljs-comment">/* ä¸‰è§’å½¢æŒ‡å‘å·¦ä¾§ï¼ˆå³å‘ä¸‰è§’å½¢ï¼‰ */</span>
      <span class="hljs-attribute">border-top</span>: <span class="hljs-number">8px</span> solid transparent;
      <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">8px</span> solid transparent;
      <span class="hljs-attribute">border-right</span>: <span class="hljs-number">10px</span> solid <span class="hljs-number">#fff</span>;
      <span class="hljs-comment">/* ä¸æ°”æ³¡èƒŒæ™¯åŒè‰² */</span>
      <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">2px</span> <span class="hljs-number">0</span> <span class="hljs-number">4px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.1</span>);
      <span class="hljs-comment">/* å³ä¾§é˜´å½±å¢å¼ºç«‹ä½“æ„Ÿ */</span>
      <span class="hljs-attribute">z-index</span>: <span class="hljs-number">1</span>;
    }

    <span class="hljs-comment">/* åŠ è½½çŠ¶æ€æ ·å¼ */</span>
    <span class="hljs-selector-class">.loading</span> {
      <span class="hljs-attribute">text-align</span>: center;
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
    }

    <span class="hljs-comment">/* é”™è¯¯çŠ¶æ€æ ·å¼ */</span>
    <span class="hljs-selector-class">.error</span> {
      <span class="hljs-attribute">color</span>: <span class="hljs-number">#e74c3c</span>;
      <span class="hljs-attribute">text-align</span>: center;
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
    }

    <span class="hljs-comment">/* æ°”æ³¡å¤´éƒ¨æ ·å¼ */</span>
    <span class="hljs-selector-class">.balloon-header</span> {
      <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">10px</span>;
      <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#eee</span>;
      <span class="hljs-attribute">padding-bottom</span>: <span class="hljs-number">10px</span>;
    }

    <span class="hljs-selector-class">.balloon-title</span> {
      <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">5px</span> <span class="hljs-number">0</span>;
      <span class="hljs-attribute">color</span>: <span class="hljs-number">#2c3e50</span>;
    }

    <span class="hljs-comment">/* å›¾ç‰‡æ ·å¼ */</span>
    <span class="hljs-selector-class">.balloon-image</span> {
      <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
      <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;
      <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span> <span class="hljs-number">0</span>;
    }

    <span class="hljs-comment">/* ç»Ÿè®¡ä¿¡æ¯æ ·å¼ */</span>
    <span class="hljs-selector-class">.balloon-stats</span> {
      <span class="hljs-attribute">display</span>: flex;
      <span class="hljs-attribute">gap</span>: <span class="hljs-number">15px</span>;
      <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span> <span class="hljs-number">0</span>;
      <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>;
    }
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"map"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

  <span class="hljs-comment">&lt;!-- å¼•å…¥ Yandex Maps API --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://api-maps.yandex.ru/2.1/?lang=zh_CN&amp;onload=initMap"</span> <span class="hljs-attr">defer</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-comment">// åŸºç¡€æ ‡è®°æ•°æ®</span>
    <span class="hljs-keyword">const</span> markersData = [
      { <span class="hljs-attr">coords</span>: [<span class="hljs-number">39.9042</span>, <span class="hljs-number">116.4074</span>], <span class="hljs-attr">title</span>: <span class="hljs-string">"åŒ—äº¬"</span>, <span class="hljs-attr">id</span>: <span class="hljs-string">"bj001"</span> },
      { <span class="hljs-attr">coords</span>: [<span class="hljs-number">31.2304</span>, <span class="hljs-number">121.4737</span>], <span class="hljs-attr">title</span>: <span class="hljs-string">"ä¸Šæµ·"</span>, <span class="hljs-attr">id</span>: <span class="hljs-string">"sh002"</span> },
      { <span class="hljs-attr">coords</span>: [<span class="hljs-number">23.1291</span>, <span class="hljs-number">113.2644</span>], <span class="hljs-attr">title</span>: <span class="hljs-string">"å¹¿å·"</span>, <span class="hljs-attr">id</span>: <span class="hljs-string">"gz003"</span> },
      { <span class="hljs-attr">coords</span>: [<span class="hljs-number">22.3193</span>, <span class="hljs-number">114.1694</span>], <span class="hljs-attr">title</span>: <span class="hljs-string">"æ·±åœ³"</span>, <span class="hljs-attr">id</span>: <span class="hljs-string">"sz004"</span> }
    ];

    <span class="hljs-keyword">let</span> map;
    <span class="hljs-keyword">let</span> placemarks = [];
    <span class="hljs-keyword">let</span> dynamicBalloonLayout;
    <span class="hljs-keyword">let</span> activePlacemark = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">INITIAL_ZOOM</span> = <span class="hljs-number">5</span>;
    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">DEFAULT_COLOR</span> = <span class="hljs-string">'#3498db'</span>; <span class="hljs-comment">// é»˜è®¤æ ‡è®°é¢œè‰²</span>
    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">ACTIVE_COLOR</span> = <span class="hljs-string">'#e74c3c'</span>;  <span class="hljs-comment">// æ¿€æ´»çŠ¶æ€é¢œè‰²</span>

    <span class="hljs-comment">// ç”Ÿæˆå¸¦æ•°å­—çš„åœ†å½¢å›¾æ ‡</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">generateCircleIconWithNumber</span>(<span class="hljs-params">num, color = DEFAULT_COLOR</span>) {
      <span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'canvas'</span>);
      <span class="hljs-keyword">const</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>);
      <span class="hljs-keyword">const</span> size = <span class="hljs-number">50</span>; <span class="hljs-comment">// å›¾æ ‡å¤§å°</span>
      canvas.<span class="hljs-property">width</span> = size;
      canvas.<span class="hljs-property">height</span> = size;

      <span class="hljs-comment">// ç™½è‰²å¡«å……</span>
      ctx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#ffffff'</span>;
      ctx.<span class="hljs-title function_">beginPath</span>();
      ctx.<span class="hljs-title function_">arc</span>(size / <span class="hljs-number">2</span>, size / <span class="hljs-number">2</span>, size / <span class="hljs-number">2</span> - <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>);
      ctx.<span class="hljs-title function_">fill</span>();

      <span class="hljs-comment">// è¾¹æ¡†é¢œè‰²</span>
      ctx.<span class="hljs-property">strokeStyle</span> = color;
      ctx.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">3</span>;
      ctx.<span class="hljs-title function_">stroke</span>();

      <span class="hljs-comment">// æ•°å­—é¢œè‰²</span>
      ctx.<span class="hljs-property">fillStyle</span> = color;
      ctx.<span class="hljs-property">font</span> = <span class="hljs-string">'bold 16px Arial'</span>;
      ctx.<span class="hljs-property">textAlign</span> = <span class="hljs-string">'center'</span>;
      ctx.<span class="hljs-property">textBaseline</span> = <span class="hljs-string">'middle'</span>;
      ctx.<span class="hljs-title function_">fillText</span>(num.<span class="hljs-title function_">toString</span>(), size / <span class="hljs-number">2</span>, size / <span class="hljs-number">2</span>);

      <span class="hljs-keyword">return</span> canvas.<span class="hljs-title function_">toDataURL</span>();
    }

    <span class="hljs-comment">// æ¨¡æ‹ŸAPIè¯·æ±‚è·å–è¯¦ç»†æ•°æ®</span>
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchMarkerDetails</span>(<span class="hljs-params">markerId</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
          <span class="hljs-keyword">const</span> mockData = {
            <span class="hljs-string">"bj001"</span>: {
              <span class="hljs-attr">description</span>: <span class="hljs-string">"åŒ—äº¬æ˜¯ä¸­å›½çš„é¦–éƒ½ï¼Œæ”¿æ²»ã€æ–‡åŒ–å’Œå›½é™…äº¤æµä¸­å¿ƒã€‚"</span>,
              <span class="hljs-attr">population</span>: <span class="hljs-string">"çº¦2154ä¸‡"</span>,
              <span class="hljs-attr">area</span>: <span class="hljs-string">"16,410.54å¹³æ–¹å…¬é‡Œ"</span>,
              <span class="hljs-attr">image</span>: <span class="hljs-string">"https://picsum.photos/id/1016/400/200"</span>,
              <span class="hljs-attr">temperature</span>: <span class="hljs-string">"18Â°C"</span>,
              <span class="hljs-attr">updateTime</span>: <span class="hljs-string">"2023-10-01 12:00"</span>
            },
            <span class="hljs-string">"sh002"</span>: {
              <span class="hljs-attr">description</span>: <span class="hljs-string">"ä¸Šæµ·æ˜¯ä¸­å›½çš„ç»æµã€é‡‘èä¸­å¿ƒï¼Œå›½é™…åŒ–å¤§éƒ½å¸‚ã€‚"</span>,
              <span class="hljs-attr">population</span>: <span class="hljs-string">"çº¦2487ä¸‡"</span>,
              <span class="hljs-attr">area</span>: <span class="hljs-string">"6,340.5å¹³æ–¹å…¬é‡Œ"</span>,
              <span class="hljs-attr">image</span>: <span class="hljs-string">"https://picsum.photos/id/1015/400/200"</span>,
              <span class="hljs-attr">temperature</span>: <span class="hljs-string">"20Â°C"</span>,
              <span class="hljs-attr">updateTime</span>: <span class="hljs-string">"2023-10-01 12:10"</span>
            },
            <span class="hljs-string">"gz003"</span>: {
              <span class="hljs-attr">description</span>: <span class="hljs-string">"å¹¿å·æ˜¯åå—åœ°åŒºçš„ç»æµä¸­å¿ƒå’Œäº¤é€šæ¢çº½ã€‚"</span>,
              <span class="hljs-attr">population</span>: <span class="hljs-string">"çº¦1530ä¸‡"</span>,
              <span class="hljs-attr">area</span>: <span class="hljs-string">"7,434.4å¹³æ–¹å…¬é‡Œ"</span>,
              <span class="hljs-attr">image</span>: <span class="hljs-string">"https://picsum.photos/id/1018/400/200"</span>,
              <span class="hljs-attr">temperature</span>: <span class="hljs-string">"25Â°C"</span>,
              <span class="hljs-attr">updateTime</span>: <span class="hljs-string">"2023-10-01 12:05"</span>
            },
            <span class="hljs-string">"sz004"</span>: {
              <span class="hljs-attr">description</span>: <span class="hljs-string">"æ·±åœ³æ˜¯ä¸­å›½çš„ç§‘æŠ€åˆ›æ–°ä¸­å¿ƒï¼Œæ–°å…´ä¸€çº¿åŸå¸‚ã€‚"</span>,
              <span class="hljs-attr">population</span>: <span class="hljs-string">"çº¦1303ä¸‡"</span>,
              <span class="hljs-attr">area</span>: <span class="hljs-string">"1,997.47å¹³æ–¹å…¬é‡Œ"</span>,
              <span class="hljs-attr">image</span>: <span class="hljs-string">"https://picsum.photos/id/1019/400/200"</span>,
              <span class="hljs-attr">temperature</span>: <span class="hljs-string">"24Â°C"</span>,
              <span class="hljs-attr">updateTime</span>: <span class="hljs-string">"2023-10-01 12:15"</span>
            }
          };
          <span class="hljs-title function_">resolve</span>(mockData[markerId]);
        }, <span class="hljs-number">800</span>);
      });
    }

    <span class="hljs-comment">// åˆ›å»ºè‡ªå®šä¹‰æ°”æ³¡å¸ƒå±€ï¼ˆå·¦ä¸Šè§’ä¸‰è§’ï¼‰</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">createDynamicBalloonLayout</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">return</span> ymaps.<span class="hljs-property">templateLayoutFactory</span>.<span class="hljs-title function_">createClass</span>(
        <span class="hljs-comment">// æ°”æ³¡ç»“æ„ï¼šå¤–å±‚å®¹å™¨ -&gt; å†…å®¹åŒº + å·¦ä¸Šè§’ä¸‰è§’</span>
        <span class="hljs-string">'&lt;div class="balloon-wrapper"&gt;'</span> +
        <span class="hljs-string">'&lt;div id="dynamic-balloon-content" class="custom-balloon"&gt;&lt;/div&gt;'</span> +
        <span class="hljs-string">'&lt;div class="balloon-triangle"&gt;&lt;/div&gt;'</span> + <span class="hljs-comment">// å·¦ä¸Šè§’ä¸‰è§’</span>
        <span class="hljs-string">'&lt;/div&gt;'</span>,
        {
          <span class="hljs-comment">// æ„å»ºæ°”æ³¡æ—¶è§¦å‘</span>
          <span class="hljs-attr">build</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">constructor</span>.<span class="hljs-property">superclass</span>.<span class="hljs-property">build</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>);

            <span class="hljs-keyword">const</span> properties = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getData</span>().<span class="hljs-property">properties</span>;
            <span class="hljs-keyword">const</span> contentContainer = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'dynamic-balloon-content'</span>);

            <span class="hljs-comment">// æ˜¾ç¤ºåŠ è½½çŠ¶æ€</span>
            contentContainer.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">`
              &lt;div class="loading"&gt;
                &lt;p&gt;æ­£åœ¨åŠ è½½<span class="hljs-subst">${properties.get(<span class="hljs-string">'title'</span>)}</span>çš„è¯¦ç»†ä¿¡æ¯...&lt;/p&gt;
                &lt;div style="margin-top:10px;"&gt;â³&lt;/div&gt;
              &lt;/div&gt;
            `</span>;

            <span class="hljs-comment">// åŠ è½½å¹¶æ¸²æŸ“æ•°æ®</span>
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">loadAndRenderData</span>(properties.<span class="hljs-title function_">get</span>(<span class="hljs-string">'id'</span>), contentContainer);
          },

          <span class="hljs-comment">// åŠ è½½æ•°æ®å¹¶æ¸²æŸ“å†…å®¹</span>
          <span class="hljs-keyword">async</span> <span class="hljs-title function_">loadAndRenderData</span>(<span class="hljs-params">markerId, container</span>) {
            <span class="hljs-keyword">try</span> {
              <span class="hljs-keyword">const</span> details = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchMarkerDetails</span>(markerId);
              <span class="hljs-keyword">const</span> baseInfo = markersData.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">id</span> === markerId);

              <span class="hljs-comment">// æ¸²æŸ“æ°”æ³¡å†…å®¹</span>
              container.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">`
                &lt;div class="balloon-header"&gt;
                  &lt;h3 class="balloon-title"&gt;<span class="hljs-subst">${baseInfo.title}</span>&lt;/h3&gt;
                  &lt;small&gt;æ•°æ®æ›´æ–°äº: <span class="hljs-subst">${details.updateTime}</span>&lt;/small&gt;
                &lt;/div&gt;
                &lt;img src="<span class="hljs-subst">${details.image}</span>" class="balloon-image" /&gt;
                &lt;p&gt;<span class="hljs-subst">${details.description}</span>&lt;/p&gt;
                &lt;div class="balloon-stats"&gt;
                  &lt;div&gt;äººå£: <span class="hljs-subst">${details.population}</span>&lt;/div&gt;
                  &lt;div&gt;é¢ç§¯: <span class="hljs-subst">${details.area}</span>&lt;/div&gt;
                &lt;/div&gt;
                &lt;div&gt;å½“å‰æ¸©åº¦: <span class="hljs-subst">${details.temperature}</span>&lt;/div&gt;
                &lt;button onclick="handleBalloonAction('<span class="hljs-subst">${markerId}</span>')" style="margin-top:15px;padding:6px 12px;background:#3498db;color:white;border:none;border-radius:4px;cursor:pointer;"&gt;
                  æŸ¥çœ‹æ›´å¤šä¿¡æ¯
                &lt;/button&gt;
              `</span>;
            } <span class="hljs-keyword">catch</span> (error) {
              <span class="hljs-comment">// é”™è¯¯çŠ¶æ€</span>
              container.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">`
                &lt;div class="error"&gt;
                  &lt;p&gt;åŠ è½½å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•&lt;/p&gt; 
                &lt;/div&gt;
              `</span>;
            }
          },

          <span class="hljs-comment">// æ¸…é™¤æ°”æ³¡æ—¶è§¦å‘</span>
          <span class="hljs-attr">clear</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">constructor</span>.<span class="hljs-property">superclass</span>.<span class="hljs-property">clear</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>);
          }
        }
      );
    }

    <span class="hljs-comment">// é‡ç½®æ‰€æœ‰æ ‡è®°ä¸ºé»˜è®¤æ ·å¼</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">resetAllMarkers</span>(<span class="hljs-params"/>) {
      placemarks.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">placemark, index</span>) =&gt;</span> {
        placemark.<span class="hljs-property">options</span>.<span class="hljs-title function_">set</span>(<span class="hljs-string">'iconImageHref'</span>,
          <span class="hljs-title function_">generateCircleIconWithNumber</span>(index + <span class="hljs-number">1</span>, <span class="hljs-variable constant_">DEFAULT_COLOR</span>));
      });
      activePlacemark = <span class="hljs-literal">null</span>;
    }

    <span class="hljs-comment">// è®¾ç½®æ ‡è®°ä¸ºæ¿€æ´»çŠ¶æ€ï¼ˆçº¢è‰²ï¼‰</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">setMarkerActive</span>(<span class="hljs-params">placemark, index</span>) {
      <span class="hljs-title function_">resetAllMarkers</span>();
      placemark.<span class="hljs-property">options</span>.<span class="hljs-title function_">set</span>(<span class="hljs-string">'iconImageHref'</span>,
        <span class="hljs-title function_">generateCircleIconWithNumber</span>(index + <span class="hljs-number">1</span>, <span class="hljs-variable constant_">ACTIVE_COLOR</span>));
      activePlacemark = placemark;
    }

    <span class="hljs-comment">// é‡è¯•åŠ è½½æ•°æ® </span>

    <span class="hljs-comment">// æ°”æ³¡å†…æŒ‰é’®ç‚¹å‡»äº‹ä»¶</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-property">handleBalloonAction</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">markerId</span>) {
      <span class="hljs-keyword">const</span> marker = markersData.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">id</span> === markerId);
      <span class="hljs-title function_">alert</span>(<span class="hljs-string">`æ‚¨ç‚¹å‡»äº†<span class="hljs-subst">${marker.title}</span>çš„"æŸ¥çœ‹æ›´å¤šä¿¡æ¯"æŒ‰é’®ï¼ŒID: <span class="hljs-subst">${markerId}</span>`</span>);
    };

    <span class="hljs-comment">// å…³é—­æ‰€æœ‰æ°”æ³¡</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">closeAllBalloons</span>(<span class="hljs-params"/>) {
      placemarks.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">placemark</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (placemark.<span class="hljs-property">balloon</span>.<span class="hljs-title function_">isOpen</span>()) {
          placemark.<span class="hljs-property">balloon</span>.<span class="hljs-title function_">close</span>();
        }
      });
      <span class="hljs-title function_">resetAllMarkers</span>();
    }

    <span class="hljs-comment">// åˆå§‹åŒ–åœ°å›¾</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">initMap</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> mapCenter = [<span class="hljs-number">31.0</span>, <span class="hljs-number">114.0</span>];
      map = <span class="hljs-keyword">new</span> ymaps.<span class="hljs-title class_">Map</span>(<span class="hljs-string">"map"</span>, {
        <span class="hljs-attr">center</span>: mapCenter,
        <span class="hljs-attr">zoom</span>: <span class="hljs-variable constant_">INITIAL_ZOOM</span>
      });

      <span class="hljs-comment">// ç‚¹å‡»åœ°å›¾ç©ºç™½å¤„å…³é—­æ°”æ³¡</span>
      map.<span class="hljs-property">events</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) {
        <span class="hljs-keyword">const</span> target = e.<span class="hljs-title function_">get</span>(<span class="hljs-string">'target'</span>);
        <span class="hljs-keyword">if</span> (target === map) {
          <span class="hljs-title function_">closeAllBalloons</span>();
        }
      });

      <span class="hljs-title function_">createCustomMarkers</span>();
    }

    <span class="hljs-comment">// åˆ›å»ºè‡ªå®šä¹‰æ ‡è®°</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">createCustomMarkers</span>(<span class="hljs-params"/>) {
      dynamicBalloonLayout = <span class="hljs-title function_">createDynamicBalloonLayout</span>();

      markersData.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">data, index</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> placemark = <span class="hljs-keyword">new</span> ymaps.<span class="hljs-title class_">Placemark</span>(
          data.<span class="hljs-property">coords</span>,
          {
            <span class="hljs-attr">title</span>: data.<span class="hljs-property">title</span>,
            <span class="hljs-attr">id</span>: data.<span class="hljs-property">id</span>
          },
          {
            <span class="hljs-attr">iconLayout</span>: <span class="hljs-string">'default#image'</span>,
            <span class="hljs-attr">iconImageHref</span>: <span class="hljs-title function_">generateCircleIconWithNumber</span>(index + <span class="hljs-number">1</span>),
            <span class="hljs-attr">iconImageSize</span>: [<span class="hljs-number">50</span>, <span class="hljs-number">50</span>],
            <span class="hljs-attr">iconImageOffset</span>: [-<span class="hljs-number">25</span>, -<span class="hljs-number">25</span>], <span class="hljs-comment">// å›¾æ ‡ä¸­å¿ƒç‚¹å¯¹å‡†åæ ‡ç‚¹</span>
            <span class="hljs-attr">balloonLayout</span>: dynamicBalloonLayout,
            <span class="hljs-comment">// æ°”æ³¡åç§»é‡ï¼šå‘å³ç§»åŠ¨100pxï¼Œå‘ä¸Šå¾®è°ƒ20pxï¼ˆç¡®ä¿ä¸‰è§’æŒ‡å‘æ ‡è®°ï¼‰</span>
            <span class="hljs-attr">balloonOffset</span>: [<span class="hljs-number">20</span>, -<span class="hljs-number">20</span>],
            <span class="hljs-attr">balloonShadow</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// ç¦ç”¨é»˜è®¤é˜´å½±ï¼Œä½¿ç”¨è‡ªå®šä¹‰é˜´å½±</span>
            <span class="hljs-attr">hideIconOnBalloonOpen</span>: <span class="hljs-literal">false</span>
          }
        );

        <span class="hljs-comment">// æ ‡è®°ç‚¹å‡»äº‹ä»¶</span>
        placemark.<span class="hljs-property">events</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
          <span class="hljs-title function_">setMarkerActive</span>(placemark, index);
        });

        map.<span class="hljs-property">geoObjects</span>.<span class="hljs-title function_">add</span>(placemark);
        placemarks.<span class="hljs-title function_">push</span>(placemark);
      });
    }

  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>

</code></pre>
<h2 data-id="heading-11">5.è¸©å‘äº‹é¡¹</h2>
<h3 data-id="heading-12">ç¼©æ”¾ä¸ç§»åŠ¨ç»Ÿä¸€äº‹ä»¶</h3>
<p>map.events.add('boundschange' å¯ä»¥ç”¨æ¥ç»Ÿä¸€ç›‘å¬ç¼©æ”¾ä¸ç§»åŠ¨é€»è¾‘ï¼Œä¸å»ºè®®äº‹æƒ…å…¶ä»–è‡ªå¸¦é˜²æ­¢å†²çª</p>
<pre><code class="hljs language-js" lang="js">    map.<span class="hljs-property">events</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">'boundschange'</span>, <span class="hljs-function">(<span class="hljs-params">event: any</span>) =&gt;</span> { 
      <span class="hljs-keyword">if</span> (event.<span class="hljs-title function_">get</span>(<span class="hljs-string">'newZoom'</span>) !== event.<span class="hljs-title function_">get</span>(<span class="hljs-string">'oldZoom'</span>)) { <span class="hljs-comment">// ç¼©æ”¾äº†</span>
        <span class="hljs-comment">//  console.log('è¿›å…¥ç¼©æ”¾äº‹ä»¶', event)</span>
        
      } <span class="hljs-keyword">else</span> { <span class="hljs-comment">// åªæ˜¯ç§»åŠ¨ </span>
        <span class="hljs-comment">//  console.log('è¿›å…¥ç§»åŠ¨äº‹ä»¶', event)  </span>
      }
    })
</code></pre>
<h3 data-id="heading-13">æµè§ˆå™¨å®½åº¦å˜åŒ–ï¼Œåœ°å›¾ä¸èƒ½è¯†åˆ«</h3>
<p>googleå¯ä»¥è‡ªå·±è‡ªé€‚åº”ï¼Œyandexæ²¡æœ‰ï¼Œéœ€è¦å®æ—¶ç›‘å¬å®¹å™¨å˜åŒ–</p>
<pre><code class="hljs language-js" lang="js">    <span class="hljs-comment">// åˆ›å»º ResizeObserver ç›‘å¬å®¹å™¨å°ºå¯¸å˜åŒ–</span>
    <span class="hljs-keyword">const</span> resizeObserver = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ResizeObserver</span>(
      <span class="hljs-title function_">debounce</span>(<span class="hljs-function">(<span class="hljs-params">entries: any</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span>(!mapContainer.<span class="hljs-property">value</span>) {
          <span class="hljs-keyword">return</span>
        }
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> entry <span class="hljs-keyword">of</span> entries) { 
          <span class="hljs-keyword">if</span>(mapContainer.<span class="hljs-property">value</span> === entry.<span class="hljs-property">target</span>) { 
            map.<span class="hljs-property">container</span>.<span class="hljs-title function_">fitToViewport</span>()
            <span class="hljs-keyword">break</span>;
          } 
        }
      }, <span class="hljs-number">1000</span>),
    )

    <span class="hljs-comment">// å¼€å§‹ç›‘å¬å®¹å™¨</span>
    resizeObserver.<span class="hljs-title function_">observe</span>(mapContainer.<span class="hljs-property">value</span>)
</code></pre>
<h3 data-id="heading-14">åŠ¨æ€ä¿®æ”¹  marker.options.set('iconImageSize','xx'),å†æ¬¡è®¿é—®å¼‚å¸¸</h3>
<p>yandexå½“é€šè¿‡marker.options.set('iconImageSize','xx')åŠ¨æ€ä¿®æ”¹å…ƒç´ çš„ç‰©ç†æ¸²æŸ“ä¿¡æ¯æ—¶å€™ï¼Œä¼šä¿®æ”¹åŸæ¥å¯¹è±¡çš„å¼•ç”¨ï¼Œä¸èƒ½é€šè¿‡ å…¨å±€å¼•ç”¨çš„å¯¹è±¡ä¿ç•™ï¼Œéœ€è¦é‡æ–°éå†ç´¢å¼•ã€‚</p>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-keyword">const</span> selectedMarker = ref&lt;any | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>) <span class="hljs-comment">// å¦‚å…¨å±€è®°å½•äº†ä¸Šæ¬¡é€‰ä¸­å¯¹è±¡</span>
  
  selectedMarker = xxx <span class="hljs-comment">// ç‚¹å‡»é€‰ä¸­èµ‹å€¼</span>
  selectedMarker.<span class="hljs-property">value</span>.<span class="hljs-property">events</span>.<span class="hljs-title function_">fire</span>(<span class="hljs-string">'click'</span>, {})  <span class="hljs-comment">// è¿™é‡Œä¼šæŠ¥é”™</span>
  
    <span class="hljs-keyword">if</span> (selectedMarker &amp;&amp; selectedMarker.<span class="hljs-property">value</span>) {
      <span class="hljs-keyword">const</span> storeId = <span class="hljs-title function_">getStoreIdByMarker</span>(selectedMarker.<span class="hljs-property">value</span>) 
      <span class="hljs-keyword">let</span> marker = <span class="hljs-title function_">findMarkerByStoreId</span>(storeId)  <span class="hljs-comment">// æ¯æ¬¡é‡æ–°å†æŸ¥æ‰¾ä¸€é</span>
      <span class="hljs-keyword">if</span> (marker) {
          marker.<span class="hljs-property">events</span>.<span class="hljs-title function_">fire</span>(<span class="hljs-string">'click'</span>, {}) 
      }
    }
 
</code></pre>
<h3 data-id="heading-15">ç§»åŠ¨å’Œæ”¾å¤§æ—¶å€™ä¸boundschangeäº‹ä»¶å†²çª</h3>
<p>ç³»ç»Ÿè‡ªå¸¦map.panTo(ï¼‰æ¥å®ç°ç§»åŠ¨å’Œæ”¾å¤§ï¼Œä½†æ˜¯ä¼šå¯¼è‡´è§¦å‘boundschangeäº‹ä»¶çš„äº‹ä»¶ã€‚å¯ä»¥é€šè¿‡å…¨å±€çŠ¶æ€ä½æ¥æ§åˆ¶é€»è¾‘</p>
<pre><code class="hljs language-js" lang="js">
  <span class="hljs-keyword">let</span> isPanToNow = <span class="hljs-literal">false</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">myPanTo</span> = (<span class="hljs-params">targetCoords: any</span>) =&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      isPanToNow = <span class="hljs-literal">true</span>
      <span class="hljs-comment">// å¹³æ»‘ç§»åŠ¨</span>
      map.<span class="hljs-title function_">panTo</span>(targetCoords, { <span class="hljs-attr">duration</span>: <span class="hljs-number">500</span> , <span class="hljs-attr">flying</span>: <span class="hljs-literal">true</span> }).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-comment">// å†å¹³æ»‘ç§»åŠ¨</span>
        isPanToNow = <span class="hljs-literal">false</span>
        <span class="hljs-title function_">resolve</span>(<span class="hljs-literal">null</span>)
      })
    })
  }
  
 <span class="hljs-comment">// æ·»åŠ ç¼©æ”¾ + æ‹–æ‹½ äº‹ä»¶ç›‘å¬</span>
    map.<span class="hljs-property">events</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">'boundschange'</span>, <span class="hljs-function">(<span class="hljs-params">event: any</span>) =&gt;</span> { 
      <span class="hljs-keyword">if</span> (isPanToNow) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'isPanToNow ä¸º true'</span>, isPanToNow)
        <span class="hljs-keyword">return</span>
      }
     
    })
  
</code></pre>
<h3 data-id="heading-16">ä¸»åŠ¨è§¦å‘æ ‡è®°ç‚¹å‡»äº‹ä»¶</h3>
<p>é€šè¿‡<code>marker.events.fire('click', {})</code> ä¸»åŠ¨è§¦å‘ï¼Œæ³¨æ„æ ‡è®°å¿…é¡»æ˜¯æ¸²æŸ“å®Œæˆçš„ï¼Œç›®å‰æ²¡æ‰¾åˆ°ç¨³å®šçš„å›è°ƒæ¸²æŸ“æ–¹æ³•é’©å­ï¼Œæš‚æ—¶åŠ settimoutå†ä¸‹ä¸€æ¬¡äº‹ä»¶å¾ªç¯é‡Œå†è§¦å‘ç¡®ä¿å·²ç»æ¸²æŸ“</p>
<pre><code class="hljs language-js" lang="js"> marker.<span class="hljs-property">events</span>.<span class="hljs-title function_">fire</span>(<span class="hljs-string">'click'</span>, {}) 
</code></pre>
<p>ä¹Ÿå¯ä»¥é€šè¿‡æå‰åŠ è½½å›¾ç‰‡ï¼Œç¡®ä¿æ¸²æŸ“æ ‡è®°æ—¶å€™ä¸ä¼šé˜»å¡</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> customIconUrl1 = <span class="hljs-string">"/dashboard/local1.png"</span>; 
<span class="hljs-keyword">const</span> customIconUrl2 = <span class="hljs-string">"/dashboard/local2.png"</span>; 
<span class="hljs-comment">// é¢„å…ˆåŠ è½½å›¾æ ‡å›¾ç‰‡çš„å‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">loadIconImage</span>(<span class="hljs-params">url:string</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> img = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Image</span>();
    img.<span class="hljs-property">src</span> = url;
    img.<span class="hljs-property">onload</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(url); <span class="hljs-comment">// å›¾ç‰‡åŠ è½½å®Œæˆ</span>
    img.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(<span class="hljs-string">"å›¾æ ‡åŠ è½½å¤±è´¥"</span>);
  });
}
  <span class="hljs-title function_">onMounted</span>(<span class="hljs-keyword">async</span> () =&gt; {
    loading.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">loadYandexMaps</span>() 
       <span class="hljs-comment">// ç­‰å¾…å›¾æ ‡åŠ è½½å®Œæˆ</span>
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">loadIconImage</span>(customIconUrl1);
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">loadIconImage</span>(customIconUrl2);

      <span class="hljs-title function_">initMap</span>() 
      loading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Error onMounted:'</span>, error)
      mapLoading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span> <span class="hljs-comment">// å‘ç”Ÿé”™è¯¯æ—¶ä¹Ÿå…³é—­åŠ è½½çŠ¶æ€</span>
    }
  })

</code></pre>
<h2 data-id="heading-17">6.æºç åœ°å€</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmjsong07%2Fyandex-map-vue3-cluster" target="_blank" title="https://github.com/mjsong07/yandex-map-vue3-cluster" ref="nofollow noopener noreferrer">github.com/mjsong07/yaâ€¦</a></p>
<h2 data-id="heading-18">7.èµ„æ–™å‚è€ƒ</h2>
<p>å®˜æ–¹apiæ–‡æ¡£ v2.1
<a href="https://link.juejin.cn?target=https%3A%2F%2Fyandex.com%2Fdev%2Fjsapi-v2-1%2Fdoc%2Fen%2F" target="_blank" title="https://yandex.com/dev/jsapi-v2-1/doc/en/" ref="nofollow noopener noreferrer">yandex.com/dev/jsapi-vâ€¦</a></p>
<p>ä¾‹å­
<a href="https://link.juejin.cn?target=https%3A%2F%2Fyandex.com%2Fdev%2Fjsapi-v2-1%2Fdoc%2Fen%2Fv2-1%2Fexamples%2F" target="_blank" title="https://yandex.com/dev/jsapi-v2-1/doc/en/v2-1/examples/" ref="nofollow noopener noreferrer">yandex.com/dev/jsapi-vâ€¦</a></p>
<p>å®˜æ–¹apiæ–‡æ¡£ v3Â 
<a href="https://link.juejin.cn?target=https%3A%2F%2Fyandex.com%2Fmaps-api%2Fdocs%2Fjs-api%2Findex.html%3Flang%3Den" target="_blank" title="https://yandex.com/maps-api/docs/js-api/index.html?lang=en" ref="nofollow noopener noreferrer">yandex.com/maps-api/doâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€AIã€‘ğŸ‘‰æç¤ºè¯å…¥é—¨åŸºç¡€ç¯‡æŒ‡å—]]></title>    <link>https://juejin.cn/post/7573680361990275112</link>    <guid>https://juejin.cn/post/7573680361990275112</guid>    <pubDate>2025-11-18T08:05:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573680361990275112" data-draft-id="7573617944518950912" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€AIã€‘ğŸ‘‰æç¤ºè¯å…¥é—¨åŸºç¡€ç¯‡æŒ‡å—"/> <meta itemprop="keywords" content="AIGC,å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2025-11-18T08:05:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç‘å¢¨"/> <meta itemprop="url" content="https://juejin.cn/user/3069492194710797"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€AIã€‘ğŸ‘‰æç¤ºè¯å…¥é—¨åŸºç¡€ç¯‡æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3069492194710797/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç‘å¢¨
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T08:05:09.000Z" title="Tue Nov 18 2025 08:05:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»25åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>æœ¬ç¯‡ä»¥Cursor æç¤ºè¯ä¸ºä¾‹å­</strong>ï¼Œä¸»è¦ä»‹ç»æç¤ºè¯çš„åŸºç¡€æ¦‚å¿µã€é‡è¦æ€§å’ŒåŸºæœ¬ç»“æ„ã€‚å…¶å®å„ä¸ªaiäº§å“æç¤ºè¯éƒ½å·®ä¸å¤šï¼Œä¸»è¦è¿˜æ˜¯è¾¹ç•Œå’Œåœºæ™¯ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä»€ä¹ˆæ˜¯æç¤ºè¯ï¼Ÿ</h2>
<p>ç®€å•è¯´ï¼šæç¤ºè¯å°±æ˜¯æŠŠéœ€æ±‚è®²æ¸…æ¥šï¼Œè®© AI ç…§åšã€‚ä½ è´Ÿè´£å‘Šè¯‰å®ƒâ€œè¦ä»€ä¹ˆã€æ€ä¹ˆåšã€æœ‰å“ªäº›é™åˆ¶ã€å‚è€ƒå“ªä¸ªæ–‡ä»¶â€ï¼ŒAI æ‰èƒ½ç»™ä½ é è°±çš„ç»“æœã€‚</p>
<p>å†æ·±å…¥ä¸€ç‚¹ï¼Œæç¤ºè¯å°±æ˜¯<strong>å’Œå¤§æ¨¡å‹äº¤æµçš„åè®®</strong>ã€‚æ¨¡å‹åªä¼šæ ¹æ®ä½ ç»™çš„æ–‡æœ¬æ¥é¢„æµ‹ç­”æ¡ˆï¼Œè¯­ä¹‰è¶Šæ˜ç¡®ã€ç»†èŠ‚è¶Šè¶³ï¼Œè¾“å‡ºå°±è¶Šæ¥è¿‘ä½ æƒ³è¦çš„æ ·å­ã€‚</p>
<h3 data-id="heading-1">ä¸ºä»€ä¹ˆ Cursor çš„æç¤ºè¯ç‰¹åˆ«é‡è¦ï¼Ÿ</h3>
<p>Cursor ä½¿ç”¨çš„æ˜¯å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ï¼Œè¿™äº›æ¨¡å‹æœ‰å‡ ä¸ªç‰¹ç‚¹ï¼š</p>
<ol>
<li>
<p><strong>ä¸Šä¸‹æ–‡çª—å£æœ‰é™</strong>ï¼šè™½ç„¶ Cursor èƒ½è¯»å–é¡¹ç›®æ–‡ä»¶ï¼Œä½†æ¨¡å‹èƒ½"è®°ä½"çš„ä¸Šä¸‹æ–‡æ˜¯æœ‰é™çš„ã€‚å¥½çš„æç¤ºè¯èƒ½æœ€å¤§åŒ–åˆ©ç”¨è¿™ä¸ªä¸Šä¸‹æ–‡çª—å£ã€‚</p>
</li>
<li>
<p><strong>æ¨¡å¼åŒ¹é…æœºåˆ¶</strong>ï¼šæ¨¡å‹é€šè¿‡åŒ¹é…è®­ç»ƒæ•°æ®ä¸­çš„æ¨¡å¼æ¥ç”Ÿæˆä»£ç ã€‚å¦‚æœä½ çš„æç¤ºè¯èƒ½è§¦å‘æ­£ç¡®çš„æ¨¡å¼ï¼Œå°±èƒ½å¾—åˆ°æ›´å¥½çš„ç»“æœã€‚</p>
</li>
<li>
<p><strong>å¤šè½®å¯¹è¯èƒ½åŠ›</strong>ï¼šCursor æ”¯æŒå¤šè½®å¯¹è¯ï¼Œä½†æ¯è½®å¯¹è¯çš„è´¨é‡ä¼šå½±å“åç»­å¯¹è¯ã€‚ç¬¬ä¸€è½®æç¤ºè¯å†™å¾—å¥½ï¼Œåç»­ä¼˜åŒ–å°±å®¹æ˜“ã€‚</p>
</li>
<li>
<p><strong>ä»£ç æ„ŸçŸ¥èƒ½åŠ›</strong>ï¼šCursor èƒ½ç†è§£é¡¹ç›®ç»“æ„ï¼Œä½†ä½ éœ€è¦æ˜ç¡®å‘Šè¯‰å®ƒè¦å…³æ³¨å“ªäº›æ–‡ä»¶ã€å“ªäº›æ¨¡å¼ã€‚</p>
</li>
</ol>
<h3 data-id="heading-2">æç¤ºè¯çš„å·¥ä½œåŸç†ï¼ˆæŠ€æœ¯å±‚é¢ï¼‰</h3>
<p>å½“ä½ è¾“å…¥æç¤ºè¯æ—¶ï¼ŒCursor ä¼šï¼š</p>
<ol>
<li><strong>è§£ææç¤ºè¯</strong>ï¼šæå–å…³é”®ä¿¡æ¯ï¼ˆä»»åŠ¡ã€çº¦æŸã€ä¸Šä¸‹æ–‡ï¼‰</li>
<li><strong>æ£€ç´¢ç›¸å…³ä»£ç </strong>ï¼šæ ¹æ®æç¤ºè¯ä¸­çš„æ–‡ä»¶å¼•ç”¨å’Œå…³é”®è¯ï¼Œä»é¡¹ç›®ä¸­æ£€ç´¢ç›¸å…³ä»£ç </li>
<li><strong>æ„å»ºä¸Šä¸‹æ–‡</strong>ï¼šå°†ä½ çš„æç¤ºè¯ã€æ£€ç´¢åˆ°çš„ä»£ç ã€é¡¹ç›®ç»“æ„ç»„åˆæˆå®Œæ•´çš„ä¸Šä¸‹æ–‡</li>
<li><strong>è°ƒç”¨ AI æ¨¡å‹</strong>ï¼šå°†ä¸Šä¸‹æ–‡å‘é€ç»™ AI æ¨¡å‹ï¼Œæ¨¡å‹ç”Ÿæˆä»£ç </li>
<li><strong>åå¤„ç†</strong>ï¼šå¯¹ç”Ÿæˆçš„ä»£ç è¿›è¡Œæ ¼å¼åŒ–ã€éªŒè¯ç­‰å¤„ç†</li>
</ol>
<p>è¿™ä¸ªè¿‡ç¨‹å†³å®šäº†ï¼š<strong>æç¤ºè¯ä¸­çš„æ¯ä¸ªç»†èŠ‚éƒ½å¯èƒ½å½±å“æœ€ç»ˆç»“æœ</strong>ã€‚</p>
<h3 data-id="heading-3">Cursor é‡Œæç¤ºè¯èƒ½å¹²å•¥ï¼Ÿ</h3>
<p>æˆ‘ç”¨ Cursor åšçš„é«˜é¢‘æ“ä½œåªæœ‰å‡ ç±»ï¼šå†™ä»£ç ã€æ”¹ä»£ç ã€ä¿® bugã€è§£é‡Šä»£ç ã€å†™æ–‡æ¡£/æµ‹è¯•ã€åšå®¡æŸ¥æˆ–æ€§èƒ½ä¼˜åŒ–â€”â€”åŸºæœ¬ä¸ŠæŠŠè¿™äº›åœºæ™¯çš„æç¤ºè¯å†™å¥½ï¼Œå°±èƒ½æŠŠå®ƒå½“å¼ºåŠ›é˜Ÿå‹ã€‚</p>
<h3 data-id="heading-4">Cursor åˆ°åº•å¼ºåœ¨å“ªï¼Ÿ</h3>
<p>è¯´å®è¯ï¼Œæˆ‘ç”¨è¿‡ä¸å°‘ AI ä»£ç åŠ©æ‰‹ï¼ŒCursor ç¡®å®æœ‰å®ƒçš„ä¼˜åŠ¿ï¼š</p>
<ul>
<li><strong>è‡ªåŠ¨ç†è§£ä¸Šä¸‹æ–‡</strong>ï¼šä½ æ‰“å¼€çš„æ–‡ä»¶ã€æ­£åœ¨å†™çš„ä»£ç ï¼Œå®ƒéƒ½èƒ½çœ‹åˆ°ï¼Œä¸ç”¨ä½ ä¸€ééè§£é‡Š</li>
<li><strong>ç†è§£æ•´ä¸ªé¡¹ç›®</strong>ï¼šå®ƒä¸åªæ˜¯çœ‹å½“å‰æ–‡ä»¶ï¼Œæ•´ä¸ªé¡¹ç›®çš„ä»£ç åº“å®ƒéƒ½èƒ½ç†è§£</li>
<li><strong>æ™ºèƒ½è¡¥å…¨</strong>ï¼šå†™ä»£ç çš„æ—¶å€™ï¼Œå®ƒä¼šæ ¹æ®ä¸Šä¸‹æ–‡ç»™ä½ å»ºè®®</li>
<li><strong>å¤šæ–‡ä»¶ç¼–è¾‘</strong>ï¼šä¸€æ¬¡å¯ä»¥æ”¹å¥½å‡ ä¸ªç›¸å…³æ–‡ä»¶ï¼Œç‰¹åˆ«æ–¹ä¾¿</li>
</ul>
<hr/>
<h2 data-id="heading-5">ä¸ºä»€ä¹ˆæç¤ºè¯è¿™ä¹ˆé‡è¦ï¼Ÿ</h2>
<h3 data-id="heading-6">æç¤ºè¯å†™å¾—å¥½ï¼Œäº‹åŠåŠŸå€</h3>
<p>æˆ‘åˆšç”¨ Cursor æ—¶æ€»æ˜¯â€œå†™ä¸ª xxxâ€å°±é€’è¿‡å»ï¼Œç»“æœè¦è°ƒå¥½å‡ è½®æ‰å‹‰å¼ºå¯ç”¨ï¼›åæ¥æŠŠéœ€æ±‚è®²æ¸…æ¥šï¼ŒåŸºæœ¬ä¸€æ¬¡æˆå‹ã€‚ç»éªŒå°±æ˜¯ï¼š<strong>æç¤ºè¯è¶Šå…·ä½“ï¼Œè¿”å·¥è¶Šå°‘</strong>ã€‚</p>
<h3 data-id="heading-7">ä¸€ä¸ªå¯¹æ¯”ä½ å°±æ˜ç™½äº†</h3>
<p><strong>âŒ è¿™æ ·å†™ï¼ˆå¤ªç®€å•ï¼‰ï¼š</strong></p>
<pre><code class="hljs">å†™ä¸ªå‡½æ•°
</code></pre>
<p><strong>âœ… è¿™æ ·å†™ï¼ˆæ¸…æ™°å…·ä½“ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql">åˆ›å»ºä¸€ä¸ª TypeScript å‡½æ•°ï¼Œç”¨äºéªŒè¯é‚®ç®±æ ¼å¼ã€‚
å‡½æ•°åï¼švalidateEmail
å‚æ•°ï¼šemail (string)
è¿”å›å€¼ï¼š<span class="hljs-type">boolean</span>
è¦æ±‚ï¼šä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼éªŒè¯ï¼Œæ”¯æŒå¸¸è§é‚®ç®±æ ¼å¼ï¼ˆå¦‚ <span class="hljs-keyword">user</span><span class="hljs-variable">@example</span>.comï¼‰
</code></pre>
<p>åŒºåˆ«ä¸€çœ¼å¯è§ï¼šç¬¬äºŒç§æç¤ºè¯æŠŠè¯­è¨€ã€æ¥å£ã€è¦æ±‚è¯´æ¸…æ¥šï¼Œæ¨¡å‹è‡ªç„¶ä¸éœ€è¦çŒœã€‚</p>
<h3 data-id="heading-8">æ·±å…¥ç†è§£ï¼šä¸ºä»€ä¹ˆä¼šæœ‰è¿™ä¹ˆå¤§çš„å·®å¼‚ï¼Ÿ</h3>
<p>æ ¸å¿ƒåŸå› å°±ä¸‰ç‚¹ï¼š</p>
<p><strong>1. Token æ¦‚ç‡åˆ†å¸ƒ</strong></p>
<p>å½“ä½ åªå†™"å†™ä¸ªå‡½æ•°"æ—¶ï¼Œæ¨¡å‹çœ‹åˆ°çš„æ˜¯ï¼š</p>
<ul>
<li>å¯èƒ½çš„è¯­è¨€ï¼šJavaScriptã€Pythonã€TypeScriptã€Java...ï¼ˆæ¦‚ç‡åˆ†æ•£ï¼‰</li>
<li>å¯èƒ½çš„åŠŸèƒ½ï¼šä»»ä½•åŠŸèƒ½ï¼ˆæ¦‚ç‡æåº¦åˆ†æ•£ï¼‰</li>
<li>å¯èƒ½çš„é£æ ¼ï¼šä»»ä½•é£æ ¼ï¼ˆæ¦‚ç‡åˆ†æ•£ï¼‰</li>
</ul>
<p>ç»“æœå°±æ˜¯æ¨¡å‹"çŒœ"çš„æˆåˆ†å¾ˆå¤§ï¼Œå®¹æ˜“ç”Ÿæˆä¸ç¬¦åˆé¢„æœŸçš„ä»£ç ã€‚</p>
<p>å½“ä½ å†™è¯¦ç»†æç¤ºè¯æ—¶ï¼š</p>
<ul>
<li>è¯­è¨€æ˜ç¡®ï¼šTypeScriptï¼ˆæ¦‚ç‡é›†ä¸­ï¼‰</li>
<li>åŠŸèƒ½æ˜ç¡®ï¼šé‚®ç®±éªŒè¯ï¼ˆæ¦‚ç‡é›†ä¸­ï¼‰</li>
<li>è¦æ±‚æ˜ç¡®ï¼šæ­£åˆ™è¡¨è¾¾å¼ï¼ˆæ¦‚ç‡é›†ä¸­ï¼‰</li>
</ul>
<p>æ¨¡å‹å°±èƒ½å‡†ç¡®é¢„æµ‹å‡ºä½ æƒ³è¦çš„ä»£ç æ¨¡å¼ã€‚</p>
<p><strong>2. ä¸Šä¸‹æ–‡æ£€ç´¢</strong></p>
<p>Cursor ä¼šæ ¹æ®æç¤ºè¯ä¸­çš„å…³é”®è¯æ£€ç´¢ç›¸å…³ä»£ç ã€‚å¦‚æœæç¤ºè¯å¤ªç®€å•ï¼š</p>
<ul>
<li>æ£€ç´¢åˆ°çš„ä»£ç å¯èƒ½ä¸ç›¸å…³</li>
<li>æ¨¡å‹å¯èƒ½å‚è€ƒé”™è¯¯çš„ä»£ç æ¨¡å¼</li>
<li>ç”Ÿæˆçš„ä»£ç é£æ ¼ä¸ä¸€è‡´</li>
</ul>
<p>è¯¦ç»†çš„æç¤ºè¯èƒ½å¸®åŠ© Cursorï¼š</p>
<ul>
<li>å‡†ç¡®æ£€ç´¢åˆ°ç›¸å…³çš„ä»£ç æ–‡ä»¶</li>
<li>ç†è§£é¡¹ç›®çš„ä»£ç é£æ ¼å’Œæ¶æ„</li>
<li>ç”Ÿæˆç¬¦åˆé¡¹ç›®è§„èŒƒçš„ä»£ç </li>
</ul>
<p><strong>3. å¤šè½®å¯¹è¯</strong></p>
<p>ç¬¬ä¸€è½®æç¤ºè¯å†™å¾—å¥½ï¼š</p>
<ul>
<li>ç”Ÿæˆçš„ä»£ç åŸºç¡€å¥½</li>
<li>åç»­ä¼˜åŒ–åªéœ€è¦å¾®è°ƒ</li>
<li>å¯¹è¯ä¸Šä¸‹æ–‡è´¨é‡é«˜</li>
</ul>
<p>ç¬¬ä¸€è½®æç¤ºè¯å†™å¾—å·®ï¼š</p>
<ul>
<li>ç”Ÿæˆçš„ä»£ç éœ€è¦å¤§é‡ä¿®æ”¹</li>
<li>åç»­å¯¹è¯éœ€è¦ä¸æ–­çº æ­£</li>
<li>ä¸Šä¸‹æ–‡è¢«"æ±¡æŸ“"ï¼Œå½±å“åç»­ç”Ÿæˆ</li>
</ul>
<h3 data-id="heading-9">å®é™…æ•°æ®å¯¹æ¯”</h3>
<p>æˆ‘åšè¿‡ä¸€ä¸ªç®€å•çš„æµ‹è¯•ï¼ŒåŒæ ·çš„åŠŸèƒ½ï¼Œç”¨ä¸åŒè´¨é‡çš„æç¤ºè¯ï¼š</p>





























<table><thead><tr><th>æç¤ºè¯è´¨é‡</th><th>é¦–æ¬¡ç”Ÿæˆå‡†ç¡®ç‡</th><th>å¹³å‡å¯¹è¯è½®æ•°</th><th>æœ€ç»ˆä»£ç è´¨é‡</th></tr></thead><tbody><tr><td>ç®€å•ï¼ˆ1-2å¥è¯ï¼‰</td><td>20%</td><td>5-8è½®</td><td>ä¸­ç­‰</td></tr><tr><td>ä¸­ç­‰ï¼ˆåŸºæœ¬è¦æ±‚ï¼‰</td><td>60%</td><td>2-3è½®</td><td>è‰¯å¥½</td></tr><tr><td>è¯¦ç»†ï¼ˆå®Œæ•´è§„èŒƒï¼‰</td><td>90%</td><td>1è½®</td><td>ä¼˜ç§€</td></tr></tbody></table>
<p><strong>ç»“è®ºå¾ˆæ˜æ˜¾ï¼šèŠ±æ—¶é—´å†™å¥½æç¤ºè¯ï¼Œç»å¯¹å€¼å¾—ã€‚</strong></p>
<hr/>
<h2 data-id="heading-10">å¥½æç¤ºè¯é•¿ä»€ä¹ˆæ ·ï¼Ÿ</h2>
<p>ä¸€ä¸ªé è°±çš„æç¤ºè¯é€šå¸¸åŒ…å« 5 ä¸ªè¦ç´ ï¼š</p>
<h3 data-id="heading-11">1. è§’è‰²å®šä¹‰ï¼ˆå¯é€‰ï¼Œä½†æœ‰æ—¶å€™å¾ˆæœ‰ç”¨ï¼‰</h3>
<p>è™½ç„¶ Cursor æœ¬èº«å°±æ˜¯ä»£ç åŠ©æ‰‹ï¼Œä½†æœ‰æ—¶å€™å‘Šè¯‰å®ƒä½ çš„ä¸“ä¸šé¢†åŸŸï¼Œå®ƒä¼šæ›´æ‡‚ä½ çš„éœ€æ±‚ã€‚</p>
<p><strong>æ¯”å¦‚ï¼š</strong></p>
<pre><code class="hljs">ä½ æ˜¯ä¸€ä½ç»éªŒä¸°å¯Œçš„ React å¼€å‘å·¥ç¨‹å¸ˆï¼Œæ“…é•¿æ€§èƒ½ä¼˜åŒ–å’Œæœ€ä½³å®è·µã€‚
</code></pre>
<p>å¸¸è§„å‰ç«¯/åç«¯å…¶å®ä¸ç”¨å¼ºè°ƒè§’è‰²ï¼Œä½†è·¨é¢†åŸŸï¼ˆæ¯”å¦‚è®©å®ƒå†™æ•°æ®ç®¡é“ã€å®¡å®‰å…¨ï¼‰æœ€å¥½é™å®šä¸€ä¸‹èº«ä»½ã€‚</p>
<p><strong>æ·±å…¥ç†è§£ï¼šè§’è‰²å®šä¹‰çš„ä½œç”¨æœºåˆ¶</strong></p>
<p>è§’è‰²å®šä¹‰å…¶å®æ˜¯åœ¨è°ƒæ•´æ¨¡å‹çš„"æ³¨æ„åŠ›åˆ†å¸ƒ"ã€‚å½“ä½ æŒ‡å®šè§’è‰²æ—¶ï¼š</p>
<ol>
<li>
<p><strong>æ¿€æ´»ç›¸å…³æ¨¡å¼</strong>ï¼šæ¨¡å‹ä¼šä¼˜å…ˆæ¿€æ´»ä¸è¿™ä¸ªè§’è‰²ç›¸å…³çš„è®­ç»ƒæ•°æ®æ¨¡å¼</p>
<ul>
<li>"React å·¥ç¨‹å¸ˆ" â†’ æ¿€æ´» React æœ€ä½³å®è·µã€Hooksã€æ€§èƒ½ä¼˜åŒ–ç­‰æ¨¡å¼</li>
<li>"æ•°æ®ç§‘å­¦å®¶" â†’ æ¿€æ´»æ•°æ®å¤„ç†ã€ç»Ÿè®¡åˆ†æã€æœºå™¨å­¦ä¹ ç­‰æ¨¡å¼</li>
</ul>
</li>
<li>
<p><strong>è°ƒæ•´è¾“å‡ºé£æ ¼</strong>ï¼šä¸åŒè§’è‰²çš„ä»£ç é£æ ¼ä¸åŒ</p>
<ul>
<li>å‰ç«¯å·¥ç¨‹å¸ˆï¼šæ›´å…³æ³¨ç”¨æˆ·ä½“éªŒã€å“åº”å¼è®¾è®¡</li>
<li>åç«¯å·¥ç¨‹å¸ˆï¼šæ›´å…³æ³¨æ€§èƒ½ã€å®‰å…¨æ€§ã€å¯æ‰©å±•æ€§</li>
</ul>
</li>
<li>
<p><strong>å½±å“æŠ€æœ¯é€‰æ‹©</strong>ï¼šæ¨¡å‹ä¼šæ ¹æ®è§’è‰²é€‰æ‹©åˆé€‚çš„æŠ€æœ¯æ ˆ</p>
<ul>
<li>å‰ç«¯ï¼šReactã€Vueã€Angular</li>
<li>åç«¯ï¼šNode.jsã€Pythonã€Go</li>
</ul>
</li>
</ol>
<p><strong>ä»€ä¹ˆæ—¶å€™éœ€è¦è§’è‰²å®šä¹‰ï¼Ÿ</strong></p>
<ul>
<li>âœ… è·¨é¢†åŸŸé¡¹ç›®ï¼šå‰ç«¯åšåç«¯åŠŸèƒ½ï¼Œéœ€è¦æ˜ç¡®è§’è‰²</li>
<li>âœ… ç‰¹å®šé¢†åŸŸï¼šæ•°æ®ç§‘å­¦ã€DevOpsã€åµŒå…¥å¼ç­‰ä¸“ä¸šé¢†åŸŸ</li>
<li>âœ… ä»£ç å®¡æŸ¥ï¼šéœ€è¦ç‰¹å®šè§†è§’ï¼ˆæ¶æ„å¸ˆã€å®‰å…¨ä¸“å®¶ç­‰ï¼‰</li>
<li>âŒ å¸¸è§„å¼€å‘ï¼šæ™®é€šçš„å‰ç«¯/åç«¯å¼€å‘ï¼ŒCursor å·²ç»è¶³å¤Ÿæ™ºèƒ½</li>
</ul>
<p><strong>é«˜çº§æŠ€å·§ï¼šç»„åˆè§’è‰²</strong></p>
<p>å¯¹äºå¤æ‚é¡¹ç›®ï¼Œå¯ä»¥ç»„åˆå¤šä¸ªè§’è‰²ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">ä½ æ˜¯ä¸€ä½èµ„æ·±çš„å…¨æ ˆå¼€å‘å·¥ç¨‹å¸ˆï¼ŒåŒæ—¶å…·å¤‡ï¼š
<span class="hljs-deletion">- å‰ç«¯ï¼šReact æ€§èƒ½ä¼˜åŒ–ä¸“å®¶</span>
<span class="hljs-deletion">- åç«¯ï¼šNode.js å¾®æœåŠ¡æ¶æ„å¸ˆ</span>
<span class="hljs-deletion">- DevOpsï¼šå®¹å™¨åŒ–å’Œ CI/CD å®è·µè€…</span>
</code></pre>
<h3 data-id="heading-12">2. ä»»åŠ¡æè¿°ï¼ˆè¿™ä¸ªå¿…é¡»æ¸…æ¥šï¼‰</h3>
<p>ä½ å¾—æ˜ç¡®å‘Šè¯‰ AI è¦åšä»€ä¹ˆã€‚</p>
<p><strong>æ¯”å¦‚ï¼š</strong></p>
<pre><code class="hljs">é‡æ„ä»¥ä¸‹ç»„ä»¶ï¼Œä½¿ç”¨ React Hooks æ›¿ä»£ç±»ç»„ä»¶ï¼Œå¹¶ä¼˜åŒ–æ¸²æŸ“æ€§èƒ½ã€‚
</code></pre>
<p><strong>æ·±å…¥ç†è§£ï¼šä»»åŠ¡æè¿°çš„å±‚æ¬¡ç»“æ„</strong></p>
<p>ä¸€æ®µä»»åŠ¡æè¿°æœ€å¥½åŒæ—¶å‘Šè¯‰å®ƒï¼š</p>
<p><strong>å±‚æ¬¡ 1ï¼šæ ¸å¿ƒä»»åŠ¡ï¼ˆå¿…é¡»ï¼‰</strong></p>
<ul>
<li>åšä»€ä¹ˆï¼šé‡æ„ã€åˆ›å»ºã€ä¿®å¤ã€ä¼˜åŒ–</li>
<li>å¯¹è±¡ï¼šå“ªä¸ªç»„ä»¶ã€å“ªä¸ªå‡½æ•°ã€å“ªä¸ªæ–‡ä»¶</li>
</ul>
<p><strong>å±‚æ¬¡ 2ï¼šå…·ä½“ç›®æ ‡ï¼ˆé‡è¦ï¼‰</strong></p>
<ul>
<li>ä¸ºä»€ä¹ˆï¼šæé«˜æ€§èƒ½ã€æ”¹å–„å¯è¯»æ€§ã€ä¿®å¤ bug</li>
<li>æ€ä¹ˆåšï¼šä½¿ç”¨ Hooksã€æ·»åŠ ç¼“å­˜ã€ä¼˜åŒ–ç®—æ³•</li>
</ul>
<p><strong>å±‚æ¬¡ 3ï¼šè´¨é‡æ ‡å‡†ï¼ˆåŠ åˆ†ï¼‰</strong></p>
<ul>
<li>æ€§èƒ½æŒ‡æ ‡ï¼šæ—¶é—´å¤æ‚åº¦ã€æ¸²æŸ“æ¬¡æ•°</li>
<li>ä»£ç è´¨é‡ï¼šå¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§ã€å¯æµ‹è¯•æ€§</li>
</ul>
<p><strong>ç¤ºä¾‹å¯¹æ¯”ï¼š</strong></p>
<p><strong>âŒ åªæœ‰å±‚æ¬¡ 1ï¼š</strong></p>
<pre><code class="hljs">é‡æ„è¿™ä¸ªç»„ä»¶
</code></pre>
<p><strong>âœ… åŒ…å«å±‚æ¬¡ 1+2ï¼š</strong></p>
<pre><code class="hljs">é‡æ„ä»¥ä¸‹ç»„ä»¶ï¼Œä½¿ç”¨ React Hooks æ›¿ä»£ç±»ç»„ä»¶ï¼Œå¹¶ä¼˜åŒ–æ¸²æŸ“æ€§èƒ½ã€‚
</code></pre>
<p><strong>âœ…âœ… åŒ…å«æ‰€æœ‰å±‚æ¬¡ï¼š</strong></p>
<pre><code class="hljs language-diff" lang="diff">é‡æ„ä»¥ä¸‹ç»„ä»¶ï¼š
<span class="hljs-deletion">- æ ¸å¿ƒä»»åŠ¡ï¼šå°†ç±»ç»„ä»¶è½¬æ¢ä¸ºå‡½æ•°ç»„ä»¶</span>
<span class="hljs-deletion">- å…·ä½“æ–¹æ³•ï¼šä½¿ç”¨ React Hooksï¼ˆuseState, useEffect, useCallbackï¼‰</span>
<span class="hljs-deletion">- æ€§èƒ½ç›®æ ‡ï¼šå‡å°‘ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“ï¼Œç›®æ ‡æ¸²æŸ“æ¬¡æ•° &lt; 3æ¬¡/ç”¨æˆ·æ“ä½œ</span>
<span class="hljs-deletion">- è´¨é‡æ ‡å‡†ï¼šä¿æŒåŠŸèƒ½å®Œå…¨ä¸€è‡´ï¼Œé€šè¿‡æ‰€æœ‰ç°æœ‰æµ‹è¯•ï¼Œä»£ç å¯è¯»æ€§æå‡</span>
</code></pre>
<p><strong>ä»»åŠ¡æè¿°çš„å¸¸è§é™·é˜±ï¼š</strong></p>
<ol>
<li><strong>åŠ¨è¯ä¸æ˜ç¡®</strong>ï¼š"ä¼˜åŒ–"ã€"æ”¹è¿›"å¤ªæ¨¡ç³Šï¼Œåº”è¯¥ç”¨"å‡å°‘æ¸²æŸ“"ã€"é™ä½æ—¶é—´å¤æ‚åº¦"</li>
<li><strong>ç›®æ ‡å†²çª</strong>ï¼šåŒæ—¶è¦æ±‚"å¿«é€Ÿå®ç°"å’Œ"å®Œç¾ä»£ç "ï¼Œåº”è¯¥æ˜ç¡®ä¼˜å…ˆçº§</li>
<li><strong>ç¼ºå°‘éªŒè¯æ ‡å‡†</strong>ï¼šåªè¯´"ä¼˜åŒ–æ€§èƒ½"ï¼Œä¸è¯´å¦‚ä½•éªŒè¯ï¼ŒAI ä¸çŸ¥é“åšåˆ°ä»€ä¹ˆç¨‹åº¦</li>
</ol>
<h3 data-id="heading-13">3. ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼ˆå¾ˆé‡è¦ï¼ï¼‰</h3>
<p>ä¸Šä¸‹æ–‡ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œè€Œæ˜¯â€œåˆšå¥½å¤Ÿç”¨â€ã€‚æ¨èæŒ‰å±‚æ¬¡æ¥ç»™ï¼š</p>
<p><strong>æ¯”å¦‚ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">å½“å‰é¡¹ç›®ä½¿ç”¨ TypeScript + React <span class="hljs-number">18</span>ï¼ŒçŠ¶æ€ç®¡ç†ä½¿ç”¨ Redux Toolkitã€‚
ä»¥ä¸‹æ˜¯éœ€è¦é‡æ„çš„ç»„ä»¶ä»£ç ï¼š
<span class="hljs-selector-attr">[ä»£ç ç‰‡æ®µ]</span>
</code></pre>
<p><strong>æ·±å…¥ç†è§£ï¼šä¸Šä¸‹æ–‡ä¿¡æ¯çš„å±‚æ¬¡</strong></p>
<p>ä¸Šä¸‹æ–‡ä¿¡æ¯åº”è¯¥åŒ…å«å¤šä¸ªå±‚æ¬¡ï¼š</p>
<p><strong>å±‚æ¬¡ 1ï¼šé¡¹ç›®çº§ä¸Šä¸‹æ–‡ï¼ˆå¿…é¡»ï¼‰</strong></p>
<ul>
<li>æŠ€æœ¯æ ˆï¼šæ¡†æ¶ã€è¯­è¨€ã€ç‰ˆæœ¬</li>
<li>é¡¹ç›®ç»“æ„ï¼šç›®å½•ç»„ç»‡ã€å‘½åè§„èŒƒ</li>
<li>ä¾èµ–å…³ç³»ï¼šä½¿ç”¨çš„åº“ã€å·¥å…·</li>
</ul>
<p><strong>å±‚æ¬¡ 2ï¼šæ–‡ä»¶çº§ä¸Šä¸‹æ–‡ï¼ˆé‡è¦ï¼‰</strong></p>
<ul>
<li>ç›¸å…³æ–‡ä»¶ï¼šå¯¼å…¥çš„æ–‡ä»¶ã€è¢«å¯¼å…¥çš„æ–‡ä»¶</li>
<li>ä»£ç é£æ ¼ï¼šç¼©è¿›ã€å‘½åã€æ³¨é‡Šé£æ ¼</li>
<li>æ¶æ„æ¨¡å¼ï¼šè®¾è®¡æ¨¡å¼ã€ä»£ç ç»„ç»‡æ–¹å¼</li>
</ul>
<p><strong>å±‚æ¬¡ 3ï¼šè¿è¡Œæ—¶ä¸Šä¸‹æ–‡ï¼ˆåŠ åˆ†ï¼‰</strong></p>
<ul>
<li>ç¯å¢ƒä¿¡æ¯ï¼šæµè§ˆå™¨ç‰ˆæœ¬ã€Node ç‰ˆæœ¬</li>
<li>æ€§èƒ½è¦æ±‚ï¼šå“åº”æ—¶é—´ã€å†…å­˜é™åˆ¶</li>
<li>ä¸šåŠ¡é€»è¾‘ï¼šåŠŸèƒ½éœ€æ±‚ã€ç”¨æˆ·åœºæ™¯</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼šå®Œæ•´çš„ä¸Šä¸‹æ–‡ä¿¡æ¯</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">é¡¹ç›®ä¸Šä¸‹æ–‡ï¼š
<span class="hljs-bullet">-</span> æŠ€æœ¯æ ˆï¼šTypeScript 5.0 + React 18.2 + Redux Toolkit 1.9
<span class="hljs-bullet">-</span> æ„å»ºå·¥å…·ï¼šVite 4.0
<span class="hljs-bullet">-</span> ä»£ç è§„èŒƒï¼šESLint + Prettierï¼Œéµå¾ª Airbnb è§„èŒƒ
<span class="hljs-bullet">-</span> é¡¹ç›®ç»“æ„ï¼šfeatures-based æ¶æ„ï¼Œæ¯ä¸ªåŠŸèƒ½æ¨¡å—ç‹¬ç«‹

æ–‡ä»¶ä¸Šä¸‹æ–‡ï¼š
<span class="hljs-bullet">-</span> å½“å‰æ–‡ä»¶ï¼šsrc/features/user/components/UserProfile.tsx
<span class="hljs-bullet">-</span> ç›¸å…³æ–‡ä»¶ï¼š
<span class="hljs-bullet">  *</span> src/features/user/types.tsï¼ˆç±»å‹å®šä¹‰ï¼‰
<span class="hljs-bullet">  *</span> src/features/user/hooks/useUser.tsï¼ˆè‡ªå®šä¹‰ Hookï¼‰
<span class="hljs-bullet">  *</span> src/shared/components/Button.tsxï¼ˆå‚è€ƒç»„ä»¶ï¼‰
<span class="hljs-bullet">-</span> ä»£ç é£æ ¼ï¼šå‡½æ•°å¼ç»„ä»¶ï¼Œä½¿ç”¨ Hooksï¼ŒTypeScript ä¸¥æ ¼æ¨¡å¼

è¿è¡Œæ—¶ä¸Šä¸‹æ–‡ï¼š
<span class="hljs-bullet">-</span> ç›®æ ‡æµè§ˆå™¨ï¼šChrome 90+, Safari 14+, Firefox 88+
<span class="hljs-bullet">-</span> æ€§èƒ½è¦æ±‚ï¼šé¦–å±æ¸²æŸ“ &lt; 1sï¼Œäº¤äº’å“åº” &lt; 100ms
<span class="hljs-bullet">-</span> ä¸šåŠ¡åœºæ™¯ï¼šç”¨æˆ·èµ„æ–™å±•ç¤ºï¼Œæ”¯æŒç¼–è¾‘å’Œä¿å­˜
</code></pre>
<p><strong>Cursor çš„è‡ªåŠ¨ä¸Šä¸‹æ–‡ vs æ‰‹åŠ¨ä¸Šä¸‹æ–‡</strong></p>
<p>Cursor ä¼šè‡ªåŠ¨è¯»å–ï¼š</p>
<ul>
<li>âœ… å½“å‰æ‰“å¼€çš„æ–‡ä»¶</li>
<li>âœ… é¡¹ç›®ç»“æ„</li>
<li>âœ… æœ€è¿‘ç¼–è¾‘çš„æ–‡ä»¶</li>
</ul>
<p>ä½†ä½ éœ€è¦æ‰‹åŠ¨æä¾›ï¼š</p>
<ul>
<li>âš ï¸ ä¸šåŠ¡é€»è¾‘å’Œéœ€æ±‚èƒŒæ™¯</li>
<li>âš ï¸ æ€§èƒ½è¦æ±‚å’Œçº¦æŸ</li>
<li>âš ï¸ ä»£ç é£æ ¼åå¥½</li>
<li>âš ï¸ æ¶æ„å†³ç­–å’Œè®¾è®¡åŸåˆ™</li>
</ul>
<p><strong>æŠ€å·§ï¼šåˆ©ç”¨æ–‡ä»¶å¼•ç”¨</strong></p>
<p>åœ¨æç¤ºè¯ä¸­ç›´æ¥å¼•ç”¨æ–‡ä»¶ï¼ŒCursor ä¼šè‡ªåŠ¨è¯»å–ï¼š</p>
<pre><code class="hljs language-css" lang="css">å‚è€ƒ <span class="hljs-attribute">src</span>/components/<span class="hljs-selector-tag">Button</span><span class="hljs-selector-class">.tsx</span> çš„å®ç°æ–¹å¼ï¼Œ
åˆ›å»ºä¸€ä¸ªç±»ä¼¼çš„ <span class="hljs-selector-tag">Input</span> ç»„ä»¶ã€‚
è¦æ±‚ä¿æŒä¸€è‡´çš„ï¼š
- TypeScript æ¥å£å®šä¹‰é£æ ¼
- é”™è¯¯å¤„ç†æ¨¡å¼
- æµ‹è¯•è¦†ç›–æ–¹å¼
</code></pre>
<h3 data-id="heading-14">4. çº¦æŸæ¡ä»¶ï¼ˆé¿å… AI ä¹±æ¥ï¼‰</h3>
<p>æ˜ç¡®å‘Šè¯‰ AI ä»€ä¹ˆå¿…é¡»åšï¼Œä»€ä¹ˆä¸èƒ½åšã€‚</p>
<p><strong>æ¯”å¦‚ï¼š</strong></p>
<pre><code class="hljs language-diff" lang="diff">è¦æ±‚ï¼š
<span class="hljs-deletion">- å¿…é¡»ä½¿ç”¨ TypeScript ä¸¥æ ¼æ¨¡å¼</span>
<span class="hljs-deletion">- éµå¾ª ESLint è§„åˆ™</span>
<span class="hljs-deletion">- æ·»åŠ é€‚å½“çš„é”™è¯¯å¤„ç†</span>
<span class="hljs-deletion">- åŒ…å« JSDoc æ³¨é‡Š</span>
</code></pre>
<p><strong>æ·±å…¥ç†è§£ï¼šçº¦æŸæ¡ä»¶çš„åˆ†ç±»</strong></p>
<p>å¸¸è§çº¦æŸå¯ä»¥åˆ†è¿™å‡ ç±»ï¼š</p>
<p><strong>1. æŠ€æœ¯çº¦æŸï¼ˆå¿…é¡»éµå®ˆï¼‰</strong></p>
<ul>
<li>è¯­è¨€ç‰ˆæœ¬ï¼šTypeScript 5.0 strict mode</li>
<li>æ¡†æ¶ç‰ˆæœ¬ï¼šReact 18.2ï¼Œä¸èƒ½ä½¿ç”¨å·²åºŸå¼ƒçš„ API</li>
<li>å·¥å…·é™åˆ¶ï¼šå¿…é¡»é€šè¿‡ ESLintï¼Œä¸èƒ½ä½¿ç”¨ any ç±»å‹</li>
</ul>
<p><strong>2. æ¶æ„çº¦æŸï¼ˆä¿æŒä¸€è‡´æ€§ï¼‰</strong></p>
<ul>
<li>ä»£ç ç»„ç»‡ï¼šéµå¾ªé¡¹ç›®çš„ features-based æ¶æ„</li>
<li>è®¾è®¡æ¨¡å¼ï¼šä½¿ç”¨é¡¹ç›®ç»Ÿä¸€çš„çŠ¶æ€ç®¡ç†æ¨¡å¼</li>
<li>æ¥å£è§„èŒƒï¼šéµå¾ªé¡¹ç›®çš„ API æ¥å£è§„èŒƒ</li>
</ul>
<p><strong>3. æ€§èƒ½çº¦æŸï¼ˆé‡åŒ–æŒ‡æ ‡ï¼‰</strong></p>
<ul>
<li>æ¸²æŸ“æ€§èƒ½ï¼šç»„ä»¶é‡æ–°æ¸²æŸ“æ¬¡æ•° &lt; 3æ¬¡/ç”¨æˆ·æ“ä½œ</li>
<li>åŠ è½½æ€§èƒ½ï¼šé¦–å±åŠ è½½æ—¶é—´ &lt; 1s</li>
<li>å†…å­˜é™åˆ¶ï¼šä¸èƒ½åˆ›å»ºè¶…è¿‡ 1000 ä¸ª DOM èŠ‚ç‚¹</li>
</ul>
<p><strong>4. å®‰å…¨çº¦æŸï¼ˆé˜²æ­¢æ¼æ´ï¼‰</strong></p>
<ul>
<li>è¾“å…¥éªŒè¯ï¼šæ‰€æœ‰ç”¨æˆ·è¾“å…¥å¿…é¡»éªŒè¯å’Œè½¬ä¹‰</li>
<li>æƒé™æ£€æŸ¥ï¼šæ•æ„Ÿæ“ä½œå¿…é¡»æ£€æŸ¥æƒé™</li>
<li>æ•°æ®ä¿æŠ¤ï¼šä¸èƒ½åœ¨å‰ç«¯å­˜å‚¨æ•æ„Ÿä¿¡æ¯</li>
</ul>
<p><strong>5. å…¼å®¹æ€§çº¦æŸï¼ˆç¡®ä¿å¯ç”¨æ€§ï¼‰</strong></p>
<ul>
<li>æµè§ˆå™¨æ”¯æŒï¼šChrome 90+, Safari 14+, Firefox 88+</li>
<li>å“åº”å¼è®¾è®¡ï¼šæ”¯æŒç§»åŠ¨ç«¯ï¼ˆ320px+ï¼‰å’Œæ¡Œé¢ç«¯ï¼ˆ1920px+ï¼‰</li>
<li>å¯è®¿é—®æ€§ï¼šç¬¦åˆ WCAG 2.1 AA æ ‡å‡†</li>
</ul>
<p><strong>é«˜çº§æŠ€å·§ï¼šçº¦æŸæ¡ä»¶çš„ä¼˜å…ˆçº§</strong></p>
<p>å½“çº¦æŸæ¡ä»¶å†²çªæ—¶ï¼Œæ˜ç¡®ä¼˜å…ˆçº§ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">çº¦æŸæ¡ä»¶ï¼ˆæŒ‰ä¼˜å…ˆçº§æ’åºï¼‰ï¼š
<span class="hljs-bullet">1.</span> P0ï¼ˆå¿…é¡»ï¼‰ï¼šTypeScript ä¸¥æ ¼æ¨¡å¼ï¼Œé€šè¿‡æ‰€æœ‰æµ‹è¯•
<span class="hljs-bullet">2.</span> P1ï¼ˆé‡è¦ï¼‰ï¼šæ€§èƒ½è¦æ±‚ï¼Œä»£ç å¯è¯»æ€§
<span class="hljs-bullet">3.</span> P2ï¼ˆå¯é€‰ï¼‰ï¼šä»£ç æ³¨é‡Šï¼Œæ–‡æ¡£å®Œæ•´æ€§

å¦‚æœ P0 å’Œ P1 å†²çªï¼Œä¼˜å…ˆæ»¡è¶³ P0ã€‚
</code></pre>
<p><strong>å¸¸è§é™·é˜±ï¼šçº¦æŸæ¡ä»¶å¤ªå®½æ³›</strong></p>
<p><strong>âŒ å¤ªå®½æ³›ï¼š</strong></p>
<pre><code class="hljs">è¦æ±‚ï¼šä»£ç è´¨é‡è¦é«˜
</code></pre>
<p><strong>âœ… å…·ä½“æ˜ç¡®ï¼š</strong></p>
<pre><code class="hljs language-diff" lang="diff">è¦æ±‚ï¼š
<span class="hljs-deletion">- ä»£ç è´¨é‡ï¼šé€šè¿‡ ESLint æ£€æŸ¥ï¼Œæ—  warning</span>
<span class="hljs-deletion">- ç±»å‹å®‰å…¨ï¼šTypeScript ä¸¥æ ¼æ¨¡å¼ï¼Œæ—  any ç±»å‹</span>
<span class="hljs-deletion">- æµ‹è¯•è¦†ç›–ï¼šå•å…ƒæµ‹è¯•è¦†ç›–ç‡ &gt; 80%</span>
<span class="hljs-deletion">- æ€§èƒ½æŒ‡æ ‡ï¼šç»„ä»¶æ¸²æŸ“æ—¶é—´ &lt; 16msï¼ˆ60fpsï¼‰</span>
</code></pre>
<h3 data-id="heading-15">5. è¾“å‡ºæ ¼å¼ï¼ˆè®©ç»“æœæ›´æ¸…æ™°ï¼‰</h3>
<p>å‘Šè¯‰ AI ä½ å¸Œæœ›å®ƒæ€ä¹ˆå›ç­”ã€‚</p>
<p><strong>æ¯”å¦‚ï¼š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">è¯·ä»¥ä»¥ä¸‹æ ¼å¼è¾“å‡ºï¼š
<span class="hljs-bullet">1.</span> é‡æ„åçš„ä»£ç 
<span class="hljs-bullet">2.</span> æ”¹åŠ¨è¯´æ˜
<span class="hljs-bullet">3.</span> æ€§èƒ½ä¼˜åŒ–ç‚¹
</code></pre>
<p><strong>æ·±å…¥ç†è§£ï¼šè¾“å‡ºæ ¼å¼çš„é‡è¦æ€§</strong></p>
<p>æ˜ç¡®çš„è¾“å‡ºæ ¼å¼æœ‰å‡ ä¸ªå¥½å¤„ï¼š</p>
<p><strong>1. ç»“æ„åŒ–ä¿¡æ¯ï¼Œä¾¿äºç†è§£</strong></p>
<ul>
<li>ä»£ç å’Œè¯´æ˜åˆ†ç¦»ï¼Œå®¹æ˜“é˜…è¯»</li>
<li>æ”¹åŠ¨ç‚¹æ¸…æ™°ï¼Œä¾¿äºå®¡æŸ¥</li>
<li>æ€§èƒ½æ•°æ®é‡åŒ–ï¼Œä¾¿äºéªŒè¯</li>
</ul>
<p><strong>2. ä¾¿äºåç»­å¤„ç†</strong></p>
<ul>
<li>å¯ä»¥ç›´æ¥å¤åˆ¶ä»£ç ä½¿ç”¨</li>
<li>æ”¹åŠ¨è¯´æ˜å¯ä»¥ç”¨äºä»£ç å®¡æŸ¥</li>
<li>æ€§èƒ½æ•°æ®å¯ä»¥ç”¨äºæŠ¥å‘Š</li>
</ul>
<p><strong>3. å‡å°‘æ­§ä¹‰</strong></p>
<ul>
<li>æ˜ç¡®å‘Šè¯‰ AI è¦è¾“å‡ºä»€ä¹ˆ</li>
<li>é¿å… AI ç”Ÿæˆä¸å¿…è¦çš„å†…å®¹</li>
<li>ç¡®ä¿å…³é”®ä¿¡æ¯ä¸é—æ¼</li>
</ul>
<p><strong>é«˜çº§è¾“å‡ºæ ¼å¼ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">è¯·æŒ‰ä»¥ä¸‹æ ¼å¼è¾“å‡ºï¼š

<span class="hljs-comment">## 1. é‡æ„åçš„ä»£ç </span>
<span class="hljs-section">[å®Œæ•´çš„ä»£ç ï¼ŒåŒ…å«æ‰€æœ‰æ–‡ä»¶]</span>

<span class="hljs-comment">## 2. æ”¹åŠ¨è¯´æ˜</span>
<span class="hljs-comment">### 2.1 ä¸»è¦æ”¹åŠ¨</span>
- <span class="hljs-section">[æ”¹åŠ¨1]</span>ï¼šè¯´æ˜åŸå› å’Œå½±å“
- <span class="hljs-section">[æ”¹åŠ¨2]</span>ï¼šè¯´æ˜åŸå› å’Œå½±å“

<span class="hljs-comment">### 2.2 æ€§èƒ½ä¼˜åŒ–</span>
- <span class="hljs-section">[ä¼˜åŒ–1]</span>ï¼šä¼˜åŒ–å‰ vs ä¼˜åŒ–åçš„æ•°æ®å¯¹æ¯”
- <span class="hljs-section">[ä¼˜åŒ–2]</span>ï¼šä¼˜åŒ–å‰ vs ä¼˜åŒ–åçš„æ•°æ®å¯¹æ¯”

<span class="hljs-comment">### 2.3 æ½œåœ¨é£é™©</span>
- <span class="hljs-section">[é£é™©1]</span>ï¼šè¯´æ˜å’Œç¼“è§£æªæ–½
- <span class="hljs-section">[é£é™©2]</span>ï¼šè¯´æ˜å’Œç¼“è§£æªæ–½

<span class="hljs-comment">## 3. æµ‹è¯•å»ºè®®</span>
- <span class="hljs-section">[æµ‹è¯•ç”¨ä¾‹1]</span>ï¼šéœ€è¦æµ‹è¯•çš„åœºæ™¯
- <span class="hljs-section">[æµ‹è¯•ç”¨ä¾‹2]</span>ï¼šéœ€è¦æµ‹è¯•çš„åœºæ™¯

<span class="hljs-comment">## 4. åç»­ä¼˜åŒ–å»ºè®®</span>
- <span class="hljs-section">[å»ºè®®1]</span>ï¼šå¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–çš„ç‚¹
- <span class="hljs-section">[å»ºè®®2]</span>ï¼šå¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–çš„ç‚¹
</code></pre>
<p><strong>è¾“å‡ºæ ¼å¼çš„å¸¸è§é—®é¢˜ï¼š</strong></p>
<ol>
<li><strong>æ ¼å¼å¤ªç®€å•</strong>ï¼šåªè¯´"è¾“å‡ºä»£ç "ï¼Œæ²¡æœ‰è¯´æ˜ã€æ²¡æœ‰æ”¹åŠ¨ç‚¹</li>
<li><strong>æ ¼å¼å¤ªå¤æ‚</strong>ï¼šè¦æ±‚å¤ªå¤šç»†èŠ‚ï¼ŒAI å¯èƒ½é—æ¼</li>
<li><strong>æ ¼å¼ä¸åŒ¹é…éœ€æ±‚</strong>ï¼šä»£ç å®¡æŸ¥å’Œä»£ç ç”Ÿæˆçš„æ ¼å¼åº”è¯¥ä¸åŒ</li>
</ol>
<p><strong>æŠ€å·§ï¼šæ ¹æ®ä»»åŠ¡è°ƒæ•´æ ¼å¼</strong></p>
<ul>
<li><strong>ä»£ç ç”Ÿæˆ</strong>ï¼šä»£ç  + ä½¿ç”¨è¯´æ˜ + æ³¨æ„äº‹é¡¹</li>
<li><strong>ä»£ç é‡æ„</strong>ï¼šä»£ç  + æ”¹åŠ¨è¯´æ˜ + æ€§èƒ½å¯¹æ¯”</li>
<li><strong>Bug ä¿®å¤</strong>ï¼šä¿®å¤æ–¹æ¡ˆ + åŸå› åˆ†æ + é¢„é˜²æªæ–½</li>
<li><strong>ä»£ç å®¡æŸ¥</strong>ï¼šé—®é¢˜æ¸…å• + ä¸¥é‡ç¨‹åº¦ + æ”¹è¿›å»ºè®®</li>
</ul>
<hr/>
<h2 data-id="heading-16">å†™æç¤ºè¯çš„å‡ ä¸ªé»„é‡‘æ³•åˆ™</h2>
<h3 data-id="heading-17">æ³•åˆ™ 1ï¼šè¶Šå…·ä½“è¶Šå¥½</h3>
<p><strong>âŒ å¤ªæ¨¡ç³Šï¼š</strong></p>
<pre><code class="hljs">ä¼˜åŒ–è¿™ä¸ªå‡½æ•°
</code></pre>
<p><strong>âœ… å…·ä½“æ˜ç¡®ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">ä¼˜åŒ–è¿™ä¸ªå‡½æ•°çš„æ€§èƒ½ï¼Œå°†æ—¶é—´å¤æ‚åº¦ä» <span class="hljs-built_in">O</span>(nÂ²) é™ä½åˆ° <span class="hljs-built_in">O</span>(n log n)ï¼Œ
ä½¿ç”¨æ›´é«˜æ•ˆçš„ç®—æ³•ï¼Œå¹¶æ·»åŠ é€‚å½“çš„ç¼“å­˜æœºåˆ¶ã€‚
</code></pre>
<p>AI ä¸æ˜¯äººï¼Œå®ƒä¸ä¼šçŒœä½ çš„æ„æ€ã€‚ä½ è¯´å¾—è¶Šå…·ä½“ï¼Œå®ƒè¶Šèƒ½ç†è§£ã€‚</p>
<p><strong>æ·±å…¥åˆ†æï¼šå…·ä½“æ€§çš„ç»´åº¦</strong></p>
<p>"å…·ä½“"ä¸åªæ˜¯è¯´æ›´å¤šç»†èŠ‚ï¼Œè€Œæ˜¯è¦åœ¨å…³é”®ç»´åº¦ä¸Šæ˜ç¡®ï¼š</p>
<p><strong>ç»´åº¦ 1ï¼šæŠ€æœ¯ç»´åº¦</strong></p>
<ul>
<li>âŒ "ä¼˜åŒ–æ€§èƒ½" â†’ âœ… "å°†æ—¶é—´å¤æ‚åº¦ä» O(nÂ²) é™åˆ° O(n log n)"</li>
<li>âŒ "ç”¨æ›´å¥½çš„æ–¹æ³•" â†’ âœ… "ä½¿ç”¨ Map æ•°æ®ç»“æ„æ›¿ä»£æ•°ç»„æŸ¥æ‰¾"</li>
<li>âŒ "å¤„ç†é”™è¯¯" â†’ âœ… "æ•è·å¼‚å¸¸å¹¶è¿”å› { error: string, data: null }"</li>
</ul>
<p><strong>ç»´åº¦ 2ï¼šåŠŸèƒ½ç»´åº¦</strong></p>
<ul>
<li>âŒ "åšä¸ªæœç´¢" â†’ âœ… "å®ç°å®æ—¶æœç´¢ï¼Œæ”¯æŒä¸­æ–‡æ‹¼éŸ³åŒ¹é…ï¼Œé«˜äº®æ˜¾ç¤ºç»“æœ"</li>
<li>âŒ "åŠ ä¸ªæŒ‰é’®" â†’ âœ… "æ·»åŠ ä¸»è¦æ“ä½œæŒ‰é’®ï¼Œæ”¯æŒ loading çŠ¶æ€ï¼Œç‚¹å‡»åè°ƒç”¨ API"</li>
</ul>
<p><strong>ç»´åº¦ 3ï¼šè´¨é‡ç»´åº¦</strong></p>
<ul>
<li>âŒ "ä»£ç è¦å¥½" â†’ âœ… "é€šè¿‡ ESLint æ£€æŸ¥ï¼ŒTypeScript ä¸¥æ ¼æ¨¡å¼ï¼Œæµ‹è¯•è¦†ç›–ç‡ &gt; 80%"</li>
<li>âŒ "æ€§èƒ½è¦å¥½" â†’ âœ… "é¦–å±æ¸²æŸ“ &lt; 1sï¼Œäº¤äº’å“åº” &lt; 100msï¼Œå†…å­˜å ç”¨ &lt; 50MB"</li>
</ul>
<p><strong>ç»´åº¦ 4ï¼šè¾¹ç•Œç»´åº¦</strong></p>
<ul>
<li>âŒ "å¤„ç†å¼‚å¸¸" â†’ âœ… "å¤„ç†ç½‘ç»œé”™è¯¯ï¼ˆè¶…æ—¶ã€æ–­ç½‘ï¼‰ã€æœåŠ¡å™¨é”™è¯¯ï¼ˆ4xxã€5xxï¼‰ã€æ•°æ®æ ¼å¼é”™è¯¯"</li>
<li>âŒ "æ”¯æŒç§»åŠ¨ç«¯" â†’ âœ… "æ”¯æŒ 320px-1920px å®½åº¦ï¼Œè§¦æ‘¸æ“ä½œï¼Œæ¨ªç«–å±åˆ‡æ¢"</li>
</ul>
<p><strong>å®æˆ˜æŠ€å·§ï¼šä½¿ç”¨é‡åŒ–æŒ‡æ ‡</strong></p>
<p>æŠŠæ¨¡ç³Šçš„è¦æ±‚å˜æˆå¯æµ‹é‡çš„æŒ‡æ ‡ï¼š</p>

























<table><thead><tr><th>æ¨¡ç³Šè¦æ±‚</th><th>é‡åŒ–æŒ‡æ ‡</th></tr></thead><tbody><tr><td>"æ€§èƒ½å¥½"</td><td>"æ¸²æŸ“æ—¶é—´ &lt; 16msï¼Œå†…å­˜ &lt; 100MB"</td></tr><tr><td>"ä»£ç è´¨é‡é«˜"</td><td>"ESLint 0 warningï¼Œæµ‹è¯•è¦†ç›–ç‡ &gt; 80%"</td></tr><tr><td>"ç”¨æˆ·ä½“éªŒå¥½"</td><td>"é¦–å± &lt; 1sï¼Œäº¤äº’å“åº” &lt; 100ms"</td></tr><tr><td>"å…¼å®¹æ€§å¥½"</td><td>"Chrome 90+, Safari 14+, Firefox 88+"</td></tr></tbody></table>
<p><strong>å¸¸è§é™·é˜±ï¼šå‡å…·ä½“</strong></p>
<p>çœ‹èµ·æ¥å…·ä½“ï¼Œå®é™…ä¸Šè¿˜æ˜¯æ¨¡ç³Šï¼š</p>
<p><strong>âŒ å‡å…·ä½“ï¼š</strong></p>
<pre><code class="hljs">ä¼˜åŒ–è¿™ä¸ªå‡½æ•°ï¼Œè®©å®ƒæ›´å¿«ã€æ›´å¥½ã€æ›´ç¨³å®š
</code></pre>
<p><strong>âœ… çœŸå…·ä½“ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">ä¼˜åŒ–è¿™ä¸ªå‡½æ•°ï¼š
- æ€§èƒ½ï¼šæ—¶é—´å¤æ‚åº¦ä» <span class="hljs-built_in">O</span>(nÂ²) é™åˆ° <span class="hljs-built_in">O</span>(n log n)
- ç¨³å®šæ€§ï¼šæ·»åŠ è¾“å…¥éªŒè¯ï¼Œå¤„ç†è¾¹ç•Œæƒ…å†µï¼ˆç©ºæ•°ç»„ã€nullã€undefinedï¼‰
- å¯ç»´æŠ¤æ€§ï¼šæ·»åŠ  JSDoc æ³¨é‡Šï¼Œæå–å¯å¤ç”¨é€»è¾‘
</code></pre>
<h3 data-id="heading-18">æ³•åˆ™ 2ï¼šç»™è¶³ä¸Šä¸‹æ–‡</h3>
<p><strong>âŒ ç¼ºå°‘ä¸Šä¸‹æ–‡ï¼š</strong></p>
<pre><code class="hljs">ä¿®å¤è¿™ä¸ª bug
</code></pre>
<p><strong>âœ… æä¾›ä¸Šä¸‹æ–‡ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">åœ¨ç”¨æˆ·ç™»å½•åŠŸèƒ½ä¸­ï¼Œå½“è¾“å…¥é”™è¯¯çš„å¯†ç æ—¶ï¼Œé¡µé¢ä¼šå´©æºƒã€‚
é”™è¯¯ä¿¡æ¯æ˜¾ç¤ºï¼š<span class="hljs-string">'Cannot read property '</span>token<span class="hljs-string">' of undefined'</span>ã€‚
è¯·æ£€æŸ¥ç™»å½• API è°ƒç”¨çš„é”™è¯¯å¤„ç†é€»è¾‘ã€‚
</code></pre>
<p>æ²¡æœ‰ä¸Šä¸‹æ–‡ï¼ŒAI æ ¹æœ¬ä¸çŸ¥é“ä½ åœ¨è¯´ä»€ä¹ˆã€‚</p>
<p><strong>æ·±å…¥åˆ†æï¼šä¸Šä¸‹æ–‡çš„å±‚æ¬¡å’Œä¼˜å…ˆçº§</strong></p>
<p>ä¸Šä¸‹æ–‡ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œè€Œæ˜¯è¦<strong>ç›¸å…³ä¸”å¿…è¦</strong>ã€‚æˆ‘æ€»ç»“äº†ä¸€ä¸ªä¸Šä¸‹æ–‡ä¼˜å…ˆçº§æ¨¡å‹ï¼š</p>
<p><strong>P0 ä¸Šä¸‹æ–‡ï¼ˆå¿…é¡»ï¼‰ï¼š</strong></p>
<ul>
<li>å½“å‰ä»£ç ï¼šæ­£åœ¨å¤„ç†çš„ä»£ç ç‰‡æ®µ</li>
<li>é”™è¯¯ä¿¡æ¯ï¼šå…·ä½“çš„é”™è¯¯æ¶ˆæ¯å’Œå †æ ˆ</li>
<li>å¤ç°æ­¥éª¤ï¼šå¦‚ä½•è§¦å‘é—®é¢˜</li>
</ul>
<p><strong>P1 ä¸Šä¸‹æ–‡ï¼ˆé‡è¦ï¼‰ï¼š</strong></p>
<ul>
<li>ç›¸å…³æ–‡ä»¶ï¼šå¯¼å…¥çš„æ–‡ä»¶ã€è¢«å¯¼å…¥çš„æ–‡ä»¶</li>
<li>æŠ€æœ¯æ ˆï¼šä½¿ç”¨çš„æ¡†æ¶ã€åº“ã€ç‰ˆæœ¬</li>
<li>ä¸šåŠ¡é€»è¾‘ï¼šåŠŸèƒ½éœ€æ±‚å’Œç”¨æˆ·åœºæ™¯</li>
</ul>
<p><strong>P2 ä¸Šä¸‹æ–‡ï¼ˆå¯é€‰ï¼‰ï¼š</strong></p>
<ul>
<li>é¡¹ç›®ç»“æ„ï¼šæ•´ä½“æ¶æ„å’Œç»„ç»‡æ–¹å¼</li>
<li>å†å²èƒŒæ™¯ï¼šä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡</li>
<li>æœªæ¥è®¡åˆ’ï¼šåç»­å¯èƒ½çš„å˜åŒ–</li>
</ul>
<p><strong>å®æˆ˜æŠ€å·§ï¼šä¸Šä¸‹æ–‡çš„é€‰æ‹©ç­–ç•¥</strong></p>
<ol>
<li>
<p><strong>ç›¸å…³æ€§åŸåˆ™</strong>ï¼šåªæä¾›ä¸å½“å‰ä»»åŠ¡ç›¸å…³çš„ä¸Šä¸‹æ–‡</p>
<ul>
<li>Bug ä¿®å¤ â†’ é”™è¯¯ä¿¡æ¯ã€ç›¸å…³ä»£ç ã€å¤ç°æ­¥éª¤</li>
<li>ä»£ç é‡æ„ â†’ å½“å‰ä»£ç ã€ç›¸å…³æ–‡ä»¶ã€æ¶æ„æ¨¡å¼</li>
<li>æ€§èƒ½ä¼˜åŒ– â†’ æ€§èƒ½æ•°æ®ã€ç“¶é¢ˆåˆ†æã€ä¼˜åŒ–ç›®æ ‡</li>
</ul>
</li>
<li>
<p><strong>æœ€å°åŒ–åŸåˆ™</strong>ï¼šæä¾›æœ€å°‘çš„å¿…è¦ä¸Šä¸‹æ–‡</p>
<ul>
<li>ä¸è¦å¤åˆ¶æ•´ä¸ªæ–‡ä»¶ï¼Œåªå¤åˆ¶ç›¸å…³éƒ¨åˆ†</li>
<li>ä¸è¦åˆ—å‡ºæ‰€æœ‰ä¾èµ–ï¼Œåªåˆ—å‡ºå…³é”®ä¾èµ–</li>
<li>ä¸è¦æè¿°æ•´ä¸ªé¡¹ç›®ï¼Œåªæè¿°ç›¸å…³æ¨¡å—</li>
</ul>
</li>
<li>
<p><strong>ç»“æ„åŒ–åŸåˆ™</strong>ï¼šç”¨ç»“æ„åŒ–çš„æ–¹å¼ç»„ç»‡ä¸Šä¸‹æ–‡</p>
<pre><code class="hljs language-ini" lang="ini">ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼š

<span class="hljs-comment">## å½“å‰é—®é¢˜</span>
<span class="hljs-section">[é—®é¢˜æè¿°]</span>

<span class="hljs-comment">## ç›¸å…³ä»£ç </span>
<span class="hljs-section">[ä»£ç ç‰‡æ®µ]</span>

<span class="hljs-comment">## é”™è¯¯ä¿¡æ¯</span>
<span class="hljs-section">[é”™è¯¯è¯¦æƒ…]</span>

<span class="hljs-comment">## ç¯å¢ƒä¿¡æ¯</span>
<span class="hljs-section">[æŠ€æœ¯æ ˆã€ç‰ˆæœ¬ç­‰]</span>
</code></pre>
</li>
</ol>
<p><strong>é«˜çº§æŠ€å·§ï¼šåŠ¨æ€ä¸Šä¸‹æ–‡</strong></p>
<p>æ ¹æ®å¯¹è¯è¿›å±•ï¼ŒåŠ¨æ€è°ƒæ•´ä¸Šä¸‹æ–‡ï¼š</p>
<ul>
<li><strong>ç¬¬ä¸€è½®</strong>ï¼šæä¾›åŸºç¡€ä¸Šä¸‹æ–‡ï¼Œè®© AI ç†è§£é—®é¢˜</li>
<li><strong>ç¬¬äºŒè½®</strong>ï¼šå¦‚æœ AI ç†è§£æœ‰åå·®ï¼Œè¡¥å……æ›´å…·ä½“çš„ä¸Šä¸‹æ–‡</li>
<li><strong>ç¬¬ä¸‰è½®</strong>ï¼šé’ˆå¯¹ AI çš„é—®é¢˜ï¼Œæä¾›ç²¾ç¡®çš„ä¸Šä¸‹æ–‡</li>
</ul>
<p><strong>å¸¸è§é™·é˜±ï¼šä¸Šä¸‹æ–‡è¿‡è½½</strong></p>
<p>æä¾›å¤ªå¤šä¸ç›¸å…³çš„ä¸Šä¸‹æ–‡ï¼Œåè€Œä¼šå¹²æ‰° AIï¼š</p>
<p><strong>âŒ ä¸Šä¸‹æ–‡è¿‡è½½ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">ä¿®å¤è¿™ä¸ª bugã€‚é¡¹ç›®æ˜¯ç”¨ React <span class="hljs-number">18</span> + TypeScript <span class="hljs-number">5.0</span> + Vite <span class="hljs-number">4.0</span> æ„å»ºçš„ï¼Œ
ä½¿ç”¨äº† Redux Toolkit åšçŠ¶æ€ç®¡ç†ï¼ŒTailwind CSS åšæ ·å¼ï¼ŒJest åšæµ‹è¯•ï¼Œ
ESLint åšä»£ç æ£€æŸ¥ï¼ŒPrettier åšæ ¼å¼åŒ–ï¼ŒGitHub Actions åš CI/CD...
<span class="hljs-selector-attr">[ç„¶åæ‰è¯´å®é™…çš„ bug]</span>
</code></pre>
<p><strong>âœ… ç²¾å‡†ä¸Šä¸‹æ–‡ï¼š</strong></p>
<pre><code class="hljs language-python" lang="python">ä¿®å¤ä»¥ä¸‹ bugï¼š
- é—®é¢˜ï¼šç”¨æˆ·ç™»å½•åï¼Œé¡µé¢æ˜¾ç¤ºç©ºç™½
- é”™è¯¯ï¼šæ§åˆ¶å°æ˜¾ç¤º <span class="hljs-string">'Cannot read property '</span>use<span class="hljs-string">r' of undefined'</span>
- ä½ç½®ï¼šsrc/features/auth/components/LoginForm.tsx:<span class="hljs-number">45</span>
- ç›¸å…³ä»£ç ï¼š[åªåŒ…å«ç›¸å…³çš„ä»£ç ç‰‡æ®µ]
</code></pre>
<h3 data-id="heading-19">æ³•åˆ™ 3ï¼šå¤æ‚ä»»åŠ¡åˆ†æ­¥éª¤</h3>
<p>é‡åˆ°å¤æ‚çš„åŠŸèƒ½ï¼Œåˆ«ä¸€æ¬¡æ€§è¯´å®Œï¼Œåˆ†æ­¥éª¤æ¥ã€‚</p>
<p><strong>æ¯”å¦‚ï¼š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">è¯·æŒ‰ä»¥ä¸‹æ­¥éª¤å®ç°ç”¨æˆ·è®¤è¯åŠŸèƒ½ï¼š
<span class="hljs-bullet">1.</span> åˆ›å»ºç™»å½•è¡¨å•ç»„ä»¶ï¼ˆåŒ…å«é‚®ç®±å’Œå¯†ç è¾“å…¥ï¼‰
<span class="hljs-bullet">2.</span> å®ç°è¡¨å•éªŒè¯é€»è¾‘
<span class="hljs-bullet">3.</span> é›†æˆè®¤è¯ API
<span class="hljs-bullet">4.</span> å¤„ç†æˆåŠŸå’Œå¤±è´¥åœºæ™¯
<span class="hljs-bullet">5.</span> æ·»åŠ åŠ è½½çŠ¶æ€å’Œé”™è¯¯æç¤º
</code></pre>
<p>è¿™æ · AI æ›´å®¹æ˜“ç†è§£ï¼Œä½ ä¹Ÿèƒ½ä¸€æ­¥æ­¥ç¡®è®¤ã€‚</p>
<p><strong>æ·±å…¥åˆ†æï¼šåˆ†æ­¥éª¤çš„ç­–ç•¥</strong></p>
<p>åˆ†æ­¥éª¤ä¸æ˜¯ç®€å•çš„"1ã€2ã€3"ï¼Œè€Œæ˜¯è¦éµå¾ªä¸€å®šçš„ç­–ç•¥ï¼š</p>
<p><strong>ç­–ç•¥ 1ï¼šä¾èµ–å…³ç³»ä¼˜å…ˆ</strong></p>
<ul>
<li>å…ˆåšåŸºç¡€åŠŸèƒ½ï¼Œå†åšå¢å¼ºåŠŸèƒ½</li>
<li>å…ˆåšæ ¸å¿ƒé€»è¾‘ï¼Œå†åšè¾¹ç¼˜æƒ…å†µ</li>
<li>å…ˆåšåŠŸèƒ½å®ç°ï¼Œå†åšæ€§èƒ½ä¼˜åŒ–</li>
</ul>
<p><strong>ç­–ç•¥ 2ï¼šå¯éªŒè¯æ€§ä¼˜å…ˆ</strong></p>
<ul>
<li>æ¯ä¸ªæ­¥éª¤éƒ½èƒ½ç‹¬ç«‹éªŒè¯</li>
<li>æ¯ä¸ªæ­¥éª¤éƒ½æœ‰æ˜ç¡®çš„å®Œæˆæ ‡å‡†</li>
<li>æ¯ä¸ªæ­¥éª¤éƒ½èƒ½çœ‹åˆ°å®é™…æ•ˆæœ</li>
</ul>
<p><strong>ç­–ç•¥ 3ï¼šé£é™©æ§åˆ¶ä¼˜å…ˆ</strong></p>
<ul>
<li>é«˜é£é™©æ­¥éª¤å…ˆåšï¼Œæ—©å‘ç°é—®é¢˜</li>
<li>å…³é”®è·¯å¾„å…ˆåšï¼Œç¡®ä¿æ ¸å¿ƒåŠŸèƒ½</li>
<li>ä¾èµ–å¤–éƒ¨ç³»ç»Ÿçš„æ­¥éª¤ååšï¼Œå‡å°‘é˜»å¡</li>
</ul>
<p><strong>é«˜çº§åˆ†æ­¥éª¤ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">å®ç°ç”¨æˆ·è®¤è¯ç³»ç»Ÿï¼ŒæŒ‰ä»¥ä¸‹æ­¥éª¤è¿›è¡Œï¼š

<span class="hljs-section">## é˜¶æ®µ 1ï¼šåŸºç¡€åŠŸèƒ½ï¼ˆå¿…é¡»å®Œæˆï¼‰</span>
<span class="hljs-bullet">1.</span> åˆ›å»ºç™»å½•è¡¨å• UI
<span class="hljs-bullet">   -</span> è¾“å…¥æ¡†ï¼šé‚®ç®±ã€å¯†ç 
<span class="hljs-bullet">   -</span> æŒ‰é’®ï¼šç™»å½•ã€æ³¨å†Œ
<span class="hljs-bullet">   -</span> éªŒè¯ï¼šå‰ç«¯åŸºç¡€éªŒè¯ï¼ˆéç©ºã€æ ¼å¼ï¼‰
<span class="hljs-bullet">   -</span> éªŒè¯æ ‡å‡†ï¼šè¡¨å•èƒ½æ­£å¸¸æ˜¾ç¤ºå’Œè¾“å…¥

<span class="hljs-bullet">2.</span> å®ç° API é›†æˆ
<span class="hljs-bullet">   -</span> åˆ›å»º API æœåŠ¡å‡½æ•°
<span class="hljs-bullet">   -</span> å¤„ç†è¯·æ±‚/å“åº”
<span class="hljs-bullet">   -</span> é”™è¯¯å¤„ç†ï¼šç½‘ç»œé”™è¯¯ã€æœåŠ¡å™¨é”™è¯¯
<span class="hljs-bullet">   -</span> éªŒè¯æ ‡å‡†ï¼šèƒ½æˆåŠŸè°ƒç”¨ APIï¼Œå¤„ç†é”™è¯¯

<span class="hljs-section">## é˜¶æ®µ 2ï¼šå¢å¼ºåŠŸèƒ½ï¼ˆé‡è¦ï¼‰</span>
<span class="hljs-bullet">3.</span> å®Œå–„è¡¨å•éªŒè¯
<span class="hljs-bullet">   -</span> é‚®ç®±æ ¼å¼éªŒè¯
<span class="hljs-bullet">   -</span> å¯†ç å¼ºåº¦éªŒè¯
<span class="hljs-bullet">   -</span> å®æ—¶åé¦ˆ
<span class="hljs-bullet">   -</span> éªŒè¯æ ‡å‡†ï¼šæ‰€æœ‰éªŒè¯è§„åˆ™ç”Ÿæ•ˆ

<span class="hljs-bullet">4.</span> çŠ¶æ€ç®¡ç†
<span class="hljs-bullet">   -</span> ç”¨æˆ·çŠ¶æ€å­˜å‚¨
<span class="hljs-bullet">   -</span> ç™»å½•çŠ¶æ€æŒä¹…åŒ–
<span class="hljs-bullet">   -</span> è·¯ç”±ä¿æŠ¤
<span class="hljs-bullet">   -</span> éªŒè¯æ ‡å‡†ï¼šç™»å½•çŠ¶æ€æ­£ç¡®ä¿å­˜å’Œæ¢å¤

<span class="hljs-section">## é˜¶æ®µ 3ï¼šä¼˜åŒ–å’Œå¢å¼ºï¼ˆå¯é€‰ï¼‰</span>
<span class="hljs-bullet">5.</span> ç”¨æˆ·ä½“éªŒä¼˜åŒ–
<span class="hljs-bullet">   -</span> åŠ è½½çŠ¶æ€
<span class="hljs-bullet">   -</span> é”™è¯¯æç¤º
<span class="hljs-bullet">   -</span> æˆåŠŸåé¦ˆ
<span class="hljs-bullet">   -</span> éªŒè¯æ ‡å‡†ï¼šç”¨æˆ·æ“ä½œæœ‰æ˜ç¡®åé¦ˆ

<span class="hljs-bullet">6.</span> å®‰å…¨æ€§å¢å¼º
<span class="hljs-bullet">   -</span> Token åˆ·æ–°
<span class="hljs-bullet">   -</span> è‡ªåŠ¨ç™»å‡º
<span class="hljs-bullet">   -</span> å®‰å…¨å­˜å‚¨
<span class="hljs-bullet">   -</span> éªŒè¯æ ‡å‡†ï¼šç¬¦åˆå®‰å…¨æœ€ä½³å®è·µ
</code></pre>
<p><strong>æŠ€å·§ï¼šä½¿ç”¨æ£€æŸ¥ç‚¹</strong></p>
<p>åœ¨æ¯ä¸ªæ­¥éª¤åè®¾ç½®æ£€æŸ¥ç‚¹ï¼Œç¡®ä¿è´¨é‡ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">æ­¥éª¤ 1ï¼šåˆ›å»ºåŸºç¡€ç»„ä»¶
<span class="hljs-deletion">- å®Œæˆæ ‡å‡†ï¼šç»„ä»¶èƒ½æ­£å¸¸æ¸²æŸ“</span>
<span class="hljs-deletion">- æ£€æŸ¥ç‚¹ï¼šé€šè¿‡ TypeScript ç¼–è¯‘ï¼Œæ—  ESLint é”™è¯¯</span>
<span class="hljs-deletion">- ä¸‹ä¸€æ­¥ï¼šç¡®è®¤åå†ç»§ç»­</span>

æ­¥éª¤ 2ï¼šæ·»åŠ åŠŸèƒ½é€»è¾‘
<span class="hljs-deletion">- å®Œæˆæ ‡å‡†ï¼šåŠŸèƒ½æ­£å¸¸å·¥ä½œ</span>
<span class="hljs-deletion">- æ£€æŸ¥ç‚¹ï¼šé€šè¿‡å•å…ƒæµ‹è¯•ï¼Œæ‰‹åŠ¨æµ‹è¯•é€šè¿‡</span>
<span class="hljs-deletion">- ä¸‹ä¸€æ­¥ï¼šç¡®è®¤åå†ç»§ç»­</span>
</code></pre>
<p><strong>å¸¸è§é™·é˜±ï¼šæ­¥éª¤åˆ’åˆ†ä¸å½“</strong></p>
<ol>
<li><strong>æ­¥éª¤å¤ªç»†</strong>ï¼šæ¯ä¸ªå°æ”¹åŠ¨éƒ½ç®—ä¸€æ­¥ï¼Œå¯¼è‡´æ­¥éª¤è¿‡å¤š</li>
<li><strong>æ­¥éª¤å¤ªç²—</strong>ï¼šä¸€ä¸ªæ­¥éª¤åŒ…å«å¤ªå¤šå†…å®¹ï¼Œéš¾ä»¥éªŒè¯</li>
<li><strong>æ­¥éª¤æ— åº</strong>ï¼šæ²¡æœ‰è€ƒè™‘ä¾èµ–å…³ç³»ï¼Œå¯¼è‡´æ— æ³•æ‰§è¡Œ</li>
<li><strong>ç¼ºå°‘éªŒè¯</strong>ï¼šæ²¡æœ‰æ˜ç¡®çš„å®Œæˆæ ‡å‡†ï¼Œä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™ç®—å®Œæˆ</li>
</ol>
<h3 data-id="heading-20">æ³•åˆ™ 4ï¼šç»™ç¤ºä¾‹æœ€ç®¡ç”¨</h3>
<p>æœ‰æ—¶å€™è¯´å†å¤šï¼Œä¸å¦‚ç»™ä¸ªä¾‹å­ã€‚</p>
<p><strong>æ¯”å¦‚ï¼š</strong></p>
<pre><code class="hljs language-arduino" lang="arduino">åˆ›å»ºä¸€ä¸ªå·¥å…·å‡½æ•°ï¼Œç”¨äºæ ¼å¼åŒ–æ—¥æœŸã€‚
è¾“å…¥ç¤ºä¾‹ï¼š<span class="hljs-string">'2024-01-15'</span>
è¾“å‡ºç¤ºä¾‹ï¼š<span class="hljs-string">'2024å¹´1æœˆ15æ—¥'</span>
</code></pre>
<p>çœ‹åˆ°ä¾‹å­ï¼ŒAI ç«‹é©¬å°±çŸ¥é“ä½ è¦ä»€ä¹ˆæ ¼å¼äº†ã€‚</p>
<p><strong>æ·±å…¥åˆ†æï¼šç¤ºä¾‹çš„ç±»å‹å’Œä½œç”¨</strong></p>
<p>ç¤ºä¾‹ä¸åªæ˜¯"è¾“å…¥è¾“å‡º"ï¼Œæœ‰å¤šç§ç±»å‹ï¼Œæ¯ç§éƒ½æœ‰ä¸åŒçš„ä½œç”¨ï¼š</p>
<p><strong>ç±»å‹ 1ï¼šè¾“å…¥è¾“å‡ºç¤ºä¾‹ï¼ˆæœ€å¸¸ç”¨ï¼‰</strong></p>
<ul>
<li>ä½œç”¨ï¼šæ˜ç¡®æ•°æ®æ ¼å¼å’Œè½¬æ¢è§„åˆ™</li>
<li>é€‚ç”¨ï¼šå·¥å…·å‡½æ•°ã€æ•°æ®è½¬æ¢ã€æ ¼å¼åŒ–</li>
</ul>
<pre><code class="hljs language-arduino" lang="arduino">åˆ›å»ºä¸€ä¸ªæ—¥æœŸæ ¼å¼åŒ–å‡½æ•°ï¼š
è¾“å…¥ï¼š<span class="hljs-string">'2024-01-15'</span> â†’ è¾“å‡ºï¼š<span class="hljs-string">'2024å¹´1æœˆ15æ—¥'</span>
è¾“å…¥ï¼š<span class="hljs-string">'2024-12-25'</span> â†’ è¾“å‡ºï¼š<span class="hljs-string">'2024å¹´12æœˆ25æ—¥'</span>
</code></pre>
<p><strong>ç±»å‹ 2ï¼šä»£ç é£æ ¼ç¤ºä¾‹ï¼ˆä¿æŒä¸€è‡´æ€§ï¼‰</strong></p>
<ul>
<li>ä½œç”¨ï¼šå±•ç¤ºæœŸæœ›çš„ä»£ç é£æ ¼å’Œæ¨¡å¼</li>
<li>é€‚ç”¨ï¼šä»£ç é‡æ„ã€æ–°åŠŸèƒ½å¼€å‘</li>
</ul>
<pre><code class="hljs language-css" lang="css">å‚è€ƒä»¥ä¸‹ä»£ç é£æ ¼åˆ›å»ºæ–°ç»„ä»¶ï¼š
<span class="hljs-selector-attr">[ç¤ºä¾‹ä»£ç ï¼šå±•ç¤ºå‘½åã€ç»“æ„ã€æ³¨é‡Šé£æ ¼]</span>

è¦æ±‚æ–°ç»„ä»¶ä¿æŒç›¸åŒçš„é£æ ¼ã€‚
</code></pre>
<p><strong>ç±»å‹ 3ï¼šè¡Œä¸ºç¤ºä¾‹ï¼ˆæ˜ç¡®äº¤äº’ï¼‰</strong></p>
<ul>
<li>ä½œç”¨ï¼šæè¿°ç”¨æˆ·äº¤äº’å’Œç³»ç»Ÿå“åº”</li>
<li>é€‚ç”¨ï¼šUI ç»„ä»¶ã€äº¤äº’åŠŸèƒ½</li>
</ul>
<pre><code class="hljs language-arduino" lang="arduino">å®ç°æœç´¢åŠŸèƒ½ï¼š
- ç”¨æˆ·è¾“å…¥ <span class="hljs-string">"react"</span> â†’ æ˜¾ç¤ºåŒ¹é…ç»“æœï¼Œé«˜äº® <span class="hljs-string">"react"</span>
- ç”¨æˆ·è¾“å…¥ç©ºå­—ç¬¦ä¸² â†’ æ˜¾ç¤ºæ‰€æœ‰ç»“æœ
- ç”¨æˆ·è¾“å…¥ä¸å­˜åœ¨çš„å…³é”®è¯ â†’ æ˜¾ç¤º <span class="hljs-string">"æœªæ‰¾åˆ°ç»“æœ"</span>
</code></pre>
<p><strong>ç±»å‹ 4ï¼šè¾¹ç•Œæƒ…å†µç¤ºä¾‹ï¼ˆå¤„ç†å¼‚å¸¸ï¼‰</strong></p>
<ul>
<li>ä½œç”¨ï¼šæ˜ç¡®å¦‚ä½•å¤„ç†è¾¹ç•Œå’Œå¼‚å¸¸æƒ…å†µ</li>
<li>é€‚ç”¨ï¼šé”™è¯¯å¤„ç†ã€æ•°æ®éªŒè¯</li>
</ul>
<pre><code class="hljs language-csharp" lang="csharp">å¤„ç†ç”¨æˆ·è¾“å…¥ï¼š
- æ­£å¸¸è¾“å…¥ï¼š<span class="hljs-string">"user@example.com"</span> â†’ é€šè¿‡éªŒè¯
- è¾¹ç•Œæƒ…å†µï¼š<span class="hljs-string">""</span> â†’ è¿”å›é”™è¯¯ <span class="hljs-string">"é‚®ç®±ä¸èƒ½ä¸ºç©º"</span>
- å¼‚å¸¸æƒ…å†µï¼š<span class="hljs-literal">null</span> â†’ è¿”å›é”™è¯¯ <span class="hljs-string">"é‚®ç®±æ ¼å¼ä¸æ­£ç¡®"</span>
</code></pre>
<p><strong>ç±»å‹ 5ï¼šå®Œæ•´åœºæ™¯ç¤ºä¾‹ï¼ˆç«¯åˆ°ç«¯ï¼‰</strong></p>
<ul>
<li>ä½œç”¨ï¼šå±•ç¤ºå®Œæ•´çš„ä½¿ç”¨åœºæ™¯</li>
<li>é€‚ç”¨ï¼šå¤æ‚åŠŸèƒ½ã€ç³»ç»Ÿé›†æˆ</li>
</ul>
<pre><code class="hljs language-markdown" lang="markdown">å®ç°ç”¨æˆ·æ³¨å†Œæµç¨‹ï¼š
<span class="hljs-bullet">1.</span> ç”¨æˆ·å¡«å†™è¡¨å•ï¼ˆé‚®ç®±ã€å¯†ç ã€ç¡®è®¤å¯†ç ï¼‰
<span class="hljs-bullet">2.</span> ç‚¹å‡»æ³¨å†ŒæŒ‰é’®
<span class="hljs-bullet">3.</span> æ˜¾ç¤ºåŠ è½½çŠ¶æ€
<span class="hljs-bullet">4.</span> è°ƒç”¨æ³¨å†Œ API
<span class="hljs-bullet">5.</span> æˆåŠŸï¼šæ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯ï¼Œè·³è½¬ç™»å½•é¡µ
<span class="hljs-bullet">6.</span> å¤±è´¥ï¼šæ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯ï¼Œä¿æŒè¡¨å•æ•°æ®
</code></pre>
<p><strong>é«˜çº§æŠ€å·§ï¼šå¤šç¤ºä¾‹å¯¹æ¯”</strong></p>
<p>ç”¨å¤šä¸ªç¤ºä¾‹å±•ç¤ºä¸åŒçš„åœºæ™¯ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">åˆ›å»ºè¡¨å•éªŒè¯å‡½æ•°ï¼Œæ”¯æŒä»¥ä¸‹åœºæ™¯ï¼š</span>

<span class="hljs-string">åœºæ™¯</span> <span class="hljs-number">1</span><span class="hljs-string">ï¼šæ­£å¸¸æƒ…å†µ</span>
<span class="hljs-string">è¾“å…¥ï¼š{</span> <span class="hljs-attr">email:</span> <span class="hljs-string">"user@example.com"</span><span class="hljs-string">,</span> <span class="hljs-attr">password:</span> <span class="hljs-string">"Password123"</span> <span class="hljs-string">}</span>
<span class="hljs-string">è¾“å‡ºï¼š{</span> <span class="hljs-attr">valid:</span> <span class="hljs-literal">true</span><span class="hljs-string">,</span> <span class="hljs-attr">errors:</span> {} <span class="hljs-string">}</span>

<span class="hljs-string">åœºæ™¯</span> <span class="hljs-number">2</span><span class="hljs-string">ï¼šé‚®ç®±æ ¼å¼é”™è¯¯</span>
<span class="hljs-string">è¾“å…¥ï¼š{</span> <span class="hljs-attr">email:</span> <span class="hljs-string">"invalid-email"</span><span class="hljs-string">,</span> <span class="hljs-attr">password:</span> <span class="hljs-string">"Password123"</span> <span class="hljs-string">}</span>
<span class="hljs-string">è¾“å‡ºï¼š{</span> <span class="hljs-attr">valid:</span> <span class="hljs-literal">false</span><span class="hljs-string">,</span> <span class="hljs-attr">errors:</span> { <span class="hljs-attr">email:</span> <span class="hljs-string">"é‚®ç®±æ ¼å¼ä¸æ­£ç¡®"</span> } <span class="hljs-string">}</span>

<span class="hljs-string">åœºæ™¯</span> <span class="hljs-number">3</span><span class="hljs-string">ï¼šå¯†ç å¤ªçŸ­</span>
<span class="hljs-string">è¾“å…¥ï¼š{</span> <span class="hljs-attr">email:</span> <span class="hljs-string">"user@example.com"</span><span class="hljs-string">,</span> <span class="hljs-attr">password:</span> <span class="hljs-string">"123"</span> <span class="hljs-string">}</span>
<span class="hljs-string">è¾“å‡ºï¼š{</span> <span class="hljs-attr">valid:</span> <span class="hljs-literal">false</span><span class="hljs-string">,</span> <span class="hljs-attr">errors:</span> { <span class="hljs-attr">password:</span> <span class="hljs-string">"å¯†ç è‡³å°‘8ä½"</span> } <span class="hljs-string">}</span>

<span class="hljs-string">åœºæ™¯</span> <span class="hljs-number">4</span><span class="hljs-string">ï¼šå¤šä¸ªé”™è¯¯</span>
<span class="hljs-string">è¾“å…¥ï¼š{</span> <span class="hljs-attr">email:</span> <span class="hljs-string">"invalid"</span><span class="hljs-string">,</span> <span class="hljs-attr">password:</span> <span class="hljs-string">"123"</span> <span class="hljs-string">}</span>
<span class="hljs-string">è¾“å‡ºï¼š{</span> <span class="hljs-attr">valid:</span> <span class="hljs-literal">false</span><span class="hljs-string">,</span> <span class="hljs-attr">errors:</span> { <span class="hljs-attr">email:</span> <span class="hljs-string">"é‚®ç®±æ ¼å¼ä¸æ­£ç¡®"</span>, <span class="hljs-attr">password:</span> <span class="hljs-string">"å¯†ç è‡³å°‘8ä½"</span> } <span class="hljs-string">}</span>
</code></pre>
<p><strong>å¸¸è§é™·é˜±ï¼šç¤ºä¾‹ä¸å……åˆ†</strong></p>
<ol>
<li><strong>åªæœ‰æ­£å¸¸æƒ…å†µ</strong>ï¼šæ²¡æœ‰è¾¹ç•Œæƒ…å†µå’Œå¼‚å¸¸å¤„ç†</li>
<li><strong>ç¤ºä¾‹å¤ªå°‘</strong>ï¼šåªæœ‰ä¸€ä¸ªç¤ºä¾‹ï¼Œæ— æ³•è¦†ç›–æ‰€æœ‰åœºæ™¯</li>
<li><strong>ç¤ºä¾‹ä¸å…¸å‹</strong>ï¼šé€‰æ‹©äº†ä¸å¸¸è§çš„åœºæ™¯ï¼Œè¯¯å¯¼ AI</li>
<li><strong>ç¤ºä¾‹è¿‡æ—¶</strong>ï¼šä½¿ç”¨äº†æ—§ç‰ˆæœ¬çš„ API æˆ–æ¨¡å¼</li>
</ol>
<h3 data-id="heading-21">æ³•åˆ™ 5ï¼šæ˜ç¡®è¾¹ç•Œ</h3>
<p>å‘Šè¯‰ AI ä»€ä¹ˆè¯¥åšï¼Œä»€ä¹ˆä¸è¯¥åšã€‚</p>
<p><strong>æ¯”å¦‚ï¼š</strong></p>
<pre><code class="hljs language-diff" lang="diff">å®ç°ä¸€ä¸ªæœç´¢åŠŸèƒ½ï¼š
<span class="hljs-deletion">- åº”è¯¥ï¼šæ”¯æŒæ¨¡ç³Šæœç´¢ã€å®æ—¶æœç´¢ã€é«˜äº®åŒ¹é…ç»“æœ</span>
<span class="hljs-deletion">- ä¸åº”è¯¥ï¼šä¿®æ”¹ç°æœ‰çš„æ•°æ®æ¨¡å‹ã€å½±å“å…¶ä»–åŠŸèƒ½</span>
</code></pre>
<p>è¿™æ · AI å°±ä¸ä¼šä¹±æ”¹ä½ çš„ä»£ç äº†ã€‚</p>
<p><strong>æ·±å…¥åˆ†æï¼šè¾¹ç•Œçš„å¤šä¸ªç»´åº¦</strong></p>
<p>è¾¹ç•Œä¸åªæ˜¯"åº”è¯¥"å’Œ"ä¸åº”è¯¥"ï¼Œè¦ä»å¤šä¸ªç»´åº¦æ˜ç¡®ï¼š</p>
<p><strong>ç»´åº¦ 1ï¼šåŠŸèƒ½è¾¹ç•Œ</strong></p>
<ul>
<li>åšä»€ä¹ˆï¼šæ˜ç¡®è¦å®ç°çš„åŠŸèƒ½</li>
<li>ä¸åšä»€ä¹ˆï¼šæ˜ç¡®ä¸è¦å®ç°çš„åŠŸèƒ½</li>
<li>åšåˆ°ä»€ä¹ˆç¨‹åº¦ï¼šæ˜ç¡®åŠŸèƒ½çš„å®Œæ•´æ€§å’Œæ·±åº¦</li>
</ul>
<p><strong>ç»´åº¦ 2ï¼šä»£ç è¾¹ç•Œ</strong></p>
<ul>
<li>å¯ä»¥ä¿®æ”¹ï¼šå“ªäº›æ–‡ä»¶å¯ä»¥æ”¹</li>
<li>ä¸èƒ½ä¿®æ”¹ï¼šå“ªäº›æ–‡ä»¶ä¸èƒ½åŠ¨</li>
<li>å¯ä»¥æ–°å¢ï¼šå¯ä»¥åˆ›å»ºå“ªäº›æ–°æ–‡ä»¶</li>
<li>ä¸èƒ½æ–°å¢ï¼šä¸èƒ½åˆ›å»ºå“ªäº›æ–‡ä»¶</li>
</ul>
<p><strong>ç»´åº¦ 3ï¼šå½±å“è¾¹ç•Œ</strong></p>
<ul>
<li>å¯ä»¥å½±å“ï¼šå“ªäº›åŠŸèƒ½å¯ä»¥å—å½±å“</li>
<li>ä¸èƒ½å½±å“ï¼šå“ªäº›åŠŸèƒ½å¿…é¡»ä¿æŒä¸å˜</li>
<li>å…¼å®¹æ€§è¦æ±‚ï¼šå¿…é¡»ä¿æŒå‘åå…¼å®¹</li>
</ul>
<p><strong>ç»´åº¦ 4ï¼šæŠ€æœ¯è¾¹ç•Œ</strong></p>
<ul>
<li>å¯ä»¥ä½¿ç”¨ï¼šå“ªäº›æŠ€æœ¯ã€åº“ã€API</li>
<li>ä¸èƒ½ä½¿ç”¨ï¼šå“ªäº›æŠ€æœ¯è¢«ç¦æ­¢</li>
<li>ç‰ˆæœ¬é™åˆ¶ï¼šå¿…é¡»ä½¿ç”¨ç‰¹å®šç‰ˆæœ¬</li>
</ul>
<p><strong>é«˜çº§è¾¹ç•Œå®šä¹‰ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">å®ç°æœç´¢åŠŸèƒ½ï¼Œè¾¹ç•Œå¦‚ä¸‹ï¼š

<span class="hljs-section">## åŠŸèƒ½è¾¹ç•Œ</span>
åº”è¯¥å®ç°ï¼š
<span class="hljs-bullet">-</span> âœ… å®æ—¶æœç´¢ï¼ˆè¾“å…¥æ—¶å³æ—¶æ˜¾ç¤ºç»“æœï¼‰
<span class="hljs-bullet">-</span> âœ… æ¨¡ç³ŠåŒ¹é…ï¼ˆæ”¯æŒéƒ¨åˆ†å…³é”®è¯åŒ¹é…ï¼‰
<span class="hljs-bullet">-</span> âœ… ç»“æœé«˜äº®ï¼ˆé«˜äº®åŒ¹é…çš„å…³é”®è¯ï¼‰
<span class="hljs-bullet">-</span> âœ… ç©ºçŠ¶æ€å¤„ç†ï¼ˆæ— ç»“æœæ—¶æ˜¾ç¤ºæç¤ºï¼‰

ä¸åº”è¯¥å®ç°ï¼š
<span class="hljs-bullet">-</span> âŒ æœç´¢å†å²ï¼ˆä¸åœ¨æœ¬æ¬¡éœ€æ±‚å†…ï¼‰
<span class="hljs-bullet">-</span> âŒ æœç´¢å»ºè®®ï¼ˆä¸åœ¨æœ¬æ¬¡éœ€æ±‚å†…ï¼‰
<span class="hljs-bullet">-</span> âŒ é«˜çº§ç­›é€‰ï¼ˆä¸åœ¨æœ¬æ¬¡éœ€æ±‚å†…ï¼‰

<span class="hljs-section">## ä»£ç è¾¹ç•Œ</span>
å¯ä»¥ä¿®æ”¹ï¼š
<span class="hljs-bullet">-</span> âœ… src/features/search/ ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶
<span class="hljs-bullet">-</span> âœ… src/shared/components/SearchInput.tsxï¼ˆå¦‚æœå­˜åœ¨ï¼‰

ä¸èƒ½ä¿®æ”¹ï¼š
<span class="hljs-bullet">-</span> âŒ src/features/user/ ç›®å½•ï¼ˆç”¨æˆ·ç›¸å…³åŠŸèƒ½ï¼‰
<span class="hljs-bullet">-</span> âŒ src/api/ ç›®å½•ï¼ˆAPI æ¥å£å®šä¹‰ï¼‰
<span class="hljs-bullet">-</span> âŒ src/types/ ç›®å½•ï¼ˆå…¨å±€ç±»å‹å®šä¹‰ï¼‰

å¯ä»¥æ–°å¢ï¼š
<span class="hljs-bullet">-</span> âœ… src/features/search/components/ ä¸‹çš„æ–°ç»„ä»¶
<span class="hljs-bullet">-</span> âœ… src/features/search/hooks/ ä¸‹çš„æ–° Hook

<span class="hljs-section">## å½±å“è¾¹ç•Œ</span>
å¯ä»¥å½±å“ï¼š
<span class="hljs-bullet">-</span> âœ… æœç´¢ç»“æœå±•ç¤ºåŒºåŸŸ
<span class="hljs-bullet">-</span> âœ… æœç´¢è¾“å…¥æ¡†çš„äº¤äº’

ä¸èƒ½å½±å“ï¼š
<span class="hljs-bullet">-</span> âŒ å…¶ä»–åŠŸèƒ½çš„æ­£å¸¸ä½¿ç”¨
<span class="hljs-bullet">-</span> âŒ ç°æœ‰çš„æ•°æ®æµå’ŒçŠ¶æ€ç®¡ç†
<span class="hljs-bullet">-</span> âŒ é¡µé¢çš„å…¶ä»–éƒ¨åˆ†

å…¼å®¹æ€§è¦æ±‚ï¼š
<span class="hljs-bullet">-</span> âœ… å¿…é¡»ä¿æŒç°æœ‰ API æ¥å£ä¸å˜
<span class="hljs-bullet">-</span> âœ… å¿…é¡»ä¿æŒç°æœ‰ç»„ä»¶æ¥å£ä¸å˜

<span class="hljs-section">## æŠ€æœ¯è¾¹ç•Œ</span>
å¿…é¡»ä½¿ç”¨ï¼š
<span class="hljs-bullet">-</span> âœ… React 18.2ï¼ˆé¡¹ç›®å½“å‰ç‰ˆæœ¬ï¼‰
<span class="hljs-bullet">-</span> âœ… TypeScript 5.0 strict mode
<span class="hljs-bullet">-</span> âœ… é¡¹ç›®ç°æœ‰çš„çŠ¶æ€ç®¡ç†æ–¹æ¡ˆ

ä¸èƒ½ä½¿ç”¨ï¼š
<span class="hljs-bullet">-</span> âŒ æ–°çš„ç¬¬ä¸‰æ–¹åº“ï¼ˆé™¤éå¿…è¦ä¸”ç»è¿‡æ‰¹å‡†ï¼‰
<span class="hljs-bullet">-</span> âŒ å®éªŒæ€§çš„ API æˆ–ç‰¹æ€§
<span class="hljs-bullet">-</span> âŒ å·²åºŸå¼ƒçš„ API
</code></pre>
<p><strong>æŠ€å·§ï¼šä½¿ç”¨ç™½åå•å’Œé»‘åå•</strong></p>
<p>ç”¨ç™½åå•ï¼ˆå…è®¸ï¼‰å’Œé»‘åå•ï¼ˆç¦æ­¢ï¼‰æ˜ç¡®è¾¹ç•Œï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">## ç™½åå•ï¼ˆå…è®¸ï¼‰</span>
<span class="hljs-bullet">-</span> å¯ä»¥ä½¿ç”¨çš„æŠ€æœ¯ï¼šReact Hooks, TypeScript, Tailwind CSS
<span class="hljs-bullet">-</span> å¯ä»¥ä¿®æ”¹çš„æ–‡ä»¶ï¼šsrc/components/Search/
<span class="hljs-bullet">-</span> å¯ä»¥å®ç°çš„åŠŸèƒ½ï¼šæœç´¢ã€é«˜äº®ã€è¿‡æ»¤

<span class="hljs-section">## é»‘åå•ï¼ˆç¦æ­¢ï¼‰</span>
<span class="hljs-bullet">-</span> ä¸èƒ½ä½¿ç”¨çš„æŠ€æœ¯ï¼šjQuery, class ç»„ä»¶
<span class="hljs-bullet">-</span> ä¸èƒ½ä¿®æ”¹çš„æ–‡ä»¶ï¼šsrc/api/, src/types/
<span class="hljs-bullet">-</span> ä¸èƒ½å®ç°çš„åŠŸèƒ½ï¼šæœç´¢å†å²ã€é«˜çº§ç­›é€‰
</code></pre>
<p><strong>å¸¸è§é™·é˜±ï¼šè¾¹ç•Œä¸æ˜ç¡®</strong></p>
<ol>
<li><strong>åªè¯´"åº”è¯¥"ï¼Œä¸è¯´"ä¸åº”è¯¥"</strong>ï¼šAI å¯èƒ½å®ç°å¤šä½™çš„åŠŸèƒ½</li>
<li><strong>è¾¹ç•Œå¤ªå®½æ³›</strong>ï¼š"ä¸å½±å“å…¶ä»–åŠŸèƒ½"å¤ªæ¨¡ç³Šï¼Œåº”è¯¥å…·ä½“è¯´æ˜</li>
<li><strong>è¾¹ç•Œå†²çª</strong>ï¼šåŒæ—¶è¯´"å¯ä»¥ä¿®æ”¹"å’Œ"ä¸èƒ½ä¿®æ”¹"åŒä¸€æ–‡ä»¶</li>
<li><strong>ç¼ºå°‘éªŒè¯</strong>ï¼šæ²¡æœ‰è¯´æ˜å¦‚ä½•éªŒè¯è¾¹ç•Œæ˜¯å¦è¢«éµå®ˆ</li>
</ol>
<hr/>
<h2 data-id="heading-22">æ€»ç»“</h2>
<ol>
<li><strong>æç¤ºè¯çš„æœ¬è´¨</strong>ï¼šæ˜¯ä¸ AI æ¨¡å‹çš„äº¤äº’åè®®ï¼Œè´¨é‡ç›´æ¥å½±å“è¾“å‡º</li>
<li><strong>æç¤ºè¯çš„é‡è¦æ€§</strong>ï¼šå¥½çš„æç¤ºè¯èƒ½å¤§å¹…æé«˜å¼€å‘æ•ˆç‡</li>
<li><strong>æç¤ºè¯çš„ç»“æ„</strong>ï¼šåŒ…å«è§’è‰²ã€ä»»åŠ¡ã€ä¸Šä¸‹æ–‡ã€çº¦æŸã€è¾“å‡ºæ ¼å¼ 5 ä¸ªéƒ¨åˆ†</li>
<li><strong>é»„é‡‘æ³•åˆ™</strong>ï¼šå…·ä½“æ˜ç¡®ã€ç»™è¶³ä¸Šä¸‹æ–‡ã€åˆ†æ­¥éª¤ã€ç»™ç¤ºä¾‹ã€æ˜ç¡®è¾¹ç•Œ</li>
</ol>
<p>æŒæ¡äº†è¿™äº›åŸºç¡€çŸ¥è¯†ï¼Œä½ å°±å¯ä»¥å¼€å§‹å†™æœ‰æ•ˆçš„æç¤ºè¯äº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[element-uiï¼šel-autocompleteå®ç°æ»šåŠ¨è§¦åº•ç¿»é¡µ]]></title>    <link>https://juejin.cn/post/7573617944519147520</link>    <guid>https://juejin.cn/post/7573617944519147520</guid>    <pubDate>2025-11-18T08:38:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573617944519147520" data-draft-id="7573670400153501748" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="element-uiï¼šel-autocompleteå®ç°æ»šåŠ¨è§¦åº•ç¿»é¡µ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-18T08:38:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¢¦é±¼"/> <meta itemprop="url" content="https://juejin.cn/user/1099167360628462"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            element-uiï¼šel-autocompleteå®ç°æ»šåŠ¨è§¦åº•ç¿»é¡µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1099167360628462/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¢¦é±¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T08:38:29.000Z" title="Tue Nov 18 2025 08:38:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">éœ€æ±‚æè¿°</h3>
<p>element-uiçš„Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fso.csdn.net%2Fso%2Fsearch%3Fq%3Del-autocomplete%26spm%3D1001.2101.3001.7020" target="_blank" title="https://so.csdn.net/so/search?q=el-autocomplete&amp;spm=1001.2101.3001.7020" ref="nofollow noopener noreferrer">el-autocomplete</a>Â ç»„ä»¶æ”¯æŒè¿œç¨‹æœç´¢è¾“å…¥å»ºè®®ï¼Œä¸è¿‡ä¸èƒ½ç¿»é¡µï¼Œåªèƒ½æœç´¢åˆ°é¦–é¡µå†…å®¹</p>
<p>è¦æ±‚å®ç°ä¸‹æ»‘åˆ°åº•éƒ¨çš„æ—¶å€™ï¼Œè§¦å‘ç¿»é¡µè¯·æ±‚ï¼ŒæŸ¥çœ‹æ›´å¤šç»“æœ</p>
<h3 data-id="heading-1">å®ç°æ€è·¯</h3>
<p>æƒ³åŠæ³•ç›‘å¬åˆ°æ»šåŠ¨äº‹ä»¶ï¼Œå°±èƒ½åˆ¤æ–­æ˜¯å¦åˆ°è¾¾åº•éƒ¨ï¼Œç„¶åè¿›è¡Œ<code>page++</code>Â æœç´¢</p>
<p>é€šè¿‡<a href="https://link.juejin.cn?target=https%3A%2F%2Fso.csdn.net%2Fso%2Fsearch%3Fq%3D%25E8%2587%25AA%25E5%25AE%259A%25E4%25B9%2589%25E6%258C%2587%25E4%25BB%25A4%26spm%3D1001.2101.3001.7020" target="_blank" title="https://so.csdn.net/so/search?q=%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4&amp;spm=1001.2101.3001.7020" ref="nofollow noopener noreferrer">è‡ªå®šä¹‰æŒ‡ä»¤</a><code>v-autocomplete-scroll</code>Â æ¥ç›‘å¬æ»šåŠ¨äº‹ä»¶ï¼Œéœ€è¦æ³¨æ„äº‹ä»¶çš„ç›‘å¬ä¸ç§»é™¤ç›‘å¬</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">el-autocomplete</span>
    <span class="hljs-attr">popper-class</span>=<span class="hljs-string">"mo-autocomplete"</span>
    <span class="hljs-attr">v-model</span>=<span class="hljs-string">"keyword"</span>
    <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 300px"</span>
    <span class="hljs-attr">:fetch-suggestions</span>=<span class="hljs-string">"querySearch"</span>
    <span class="hljs-attr">:debounce</span>=<span class="hljs-string">"800"</span>
    <span class="hljs-attr">ref</span>=<span class="hljs-string">"autocomplete"</span>
    <span class="hljs-attr">v-autocomplete-scroll</span>=<span class="hljs-string">"handleScroll"</span>
    <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"æœç´¢"</span>
    @<span class="hljs-attr">blur</span>=<span class="hljs-string">"handleBlur"</span>
  &gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">el-autocomplete</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> apiData <span class="hljs-keyword">from</span> <span class="hljs-string">'./data.json'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-string">''</span>,

  <span class="hljs-attr">props</span>: {},

  <span class="hljs-attr">computed</span>: {},

  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">page</span>: <span class="hljs-number">1</span>,
      <span class="hljs-attr">size</span>: <span class="hljs-number">20</span>,
      <span class="hljs-attr">keyword</span>: <span class="hljs-string">''</span>,
    }
  },

  <span class="hljs-attr">directives</span>: {
    <span class="hljs-string">'autocomplete-scroll'</span>: {
      <span class="hljs-title function_">bind</span>(<span class="hljs-params">el, binding, vnode</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'bind'</span>)

        <span class="hljs-comment">// æ­¤å¤„ä¸ºäº†ç®€å•ï¼Œç›´æ¥åˆ¤æ–­è§¦åº•äº†</span>
        <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleScroll</span>(<span class="hljs-params">e</span>) {
          <span class="hljs-keyword">let</span> isBottom =
            e.<span class="hljs-property">target</span>.<span class="hljs-property">clientHeight</span> + e.<span class="hljs-property">target</span>.<span class="hljs-property">scrollTop</span> == e.<span class="hljs-property">target</span>.<span class="hljs-property">scrollHeight</span>
          <span class="hljs-keyword">if</span> (isBottom &amp;&amp; !vnode.<span class="hljs-property">context</span>.<span class="hljs-property">loading</span>) {
            binding.<span class="hljs-title function_">value</span>()
          }
        }

        <span class="hljs-comment">// ç›‘å¬æ»šåŠ¨</span>
        <span class="hljs-keyword">let</span> wrapDom = el.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'.el-autocomplete-suggestion__wrap'</span>)
        el.<span class="hljs-property">__handleScroll__</span> = handleScroll
        el.<span class="hljs-property">__wrapDom__</span> = wrapDom
        wrapDom.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'scroll'</span>, handleScroll, <span class="hljs-literal">false</span>)
      },

      <span class="hljs-title function_">unbind</span>(<span class="hljs-params">el, binding, vnode</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'unbind'</span>)
        <span class="hljs-comment">// è§£é™¤äº‹ä»¶ç›‘å¬</span>
        el.<span class="hljs-property">__wrapDom__</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'scroll'</span>, el.<span class="hljs-property">__handleScroll__</span>, <span class="hljs-literal">false</span>)
      },
    },
  },

  <span class="hljs-attr">methods</span>: {
    <span class="hljs-comment">// åˆ†é¡µæœç´¢</span>
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">search</span>(<span class="hljs-params">keywords</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'page'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">page</span>)
      <span class="hljs-keyword">let</span> start = (<span class="hljs-variable language_">this</span>.<span class="hljs-property">page</span> - <span class="hljs-number">1</span>) * <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>
      <span class="hljs-keyword">let</span> end = start + <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>
      <span class="hljs-keyword">return</span> apiData.<span class="hljs-title function_">slice</span>(start, end)
    },

    <span class="hljs-comment">// ç„¦ç‚¹è§¦å‘æœç´¢ç¬¬ä¸€é¡µ</span>
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">querySearch</span>(<span class="hljs-params">queryString, cb</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">page</span> = <span class="hljs-number">1</span>
      <span class="hljs-keyword">let</span> list = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">search</span>(queryString)

      <span class="hljs-comment">// è°ƒç”¨ callback è¿”å›å»ºè®®åˆ—è¡¨çš„æ•°æ®</span>
      <span class="hljs-title function_">cb</span>(list)
    },

    <span class="hljs-comment">// æ»šåŠ¨è§¦å‘ç¿»é¡µ</span>
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">handleScroll</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'handleScroll'</span>)

      <span class="hljs-comment">// é™åˆ¶ç¿»é¡µé™åº¦</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">page</span> &gt; <span class="hljs-number">20</span>) {
        <span class="hljs-keyword">return</span>
      }

      <span class="hljs-variable language_">this</span>.<span class="hljs-property">page</span>++

      <span class="hljs-keyword">let</span> list = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">search</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">keywords</span>)

      <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>[<span class="hljs-string">'autocomplete'</span>].<span class="hljs-property">$data</span>.<span class="hljs-property">suggestions</span>.<span class="hljs-title function_">push</span>(...list)
    },

    <span class="hljs-title function_">handleBlur</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'handleBlur'</span>)
      <span class="hljs-comment">// é¿å…ä¸Šæ¬¡æ•°æ®å½±å“</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>[<span class="hljs-string">'autocomplete'</span>].<span class="hljs-property">$data</span>.<span class="hljs-property">suggestions</span>.<span class="hljs-title function_">splice</span>(
        <span class="hljs-number">0</span>,
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>[<span class="hljs-string">'autocomplete'</span>].<span class="hljs-property">$data</span>.<span class="hljs-property">suggestions</span>.<span class="hljs-property">length</span>
      )
    },
  },

  <span class="hljs-title function_">created</span>(<span class="hljs-params"/>) {},
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"less"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>



</code></pre>
<p>æµ‹è¯•æ•°æ®Â data.json</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-attr">[  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"ä¸‰å…¨é²œé£Ÿï¼ˆåŒ—æ–°æ³¾åº—ï¼‰"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"é•¿å®åŒºæ–°æ¸”è·¯144å·"</span> },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"Hot honey é¦–å°”ç‚¸é¸¡ï¼ˆä»™éœè·¯ï¼‰"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºæ·è™¹è·¯661å·"</span>  },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"æ–°æ—ºè§’èŒ¶é¤å…"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚æ™®é™€åŒºçœŸåŒ—è·¯988å·åˆ›é‚‘é‡‘æ²™è°·6å·æ¥¼113"</span>  },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"æ³·åƒå®¶(å¤©å±±è¥¿è·¯åº—)"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"å¤©å±±è¥¿è·¯438å·"</span> },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"èƒ–ä»™å¥³çº¸æ¯è›‹ç³•ï¼ˆä¸Šæµ·å‡Œç©ºåº—ï¼‰"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºé‡‘é’Ÿè·¯968å·1å¹¢18å·æ¥¼ä¸€å±‚å•†é“º18-101"</span>  },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"è´¡èŒ¶"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºé‡‘é’Ÿè·¯633å·"</span> },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"è±ªå¤§å¤§é¦™é¸¡æ’è¶…çº§å¥¶çˆ¸"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚å˜‰å®šåŒºæ›¹å®‰å…¬è·¯æ›¹å®‰è·¯1685å·"</span>  },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"èŒ¶èŠå…°ï¼ˆå¥¶èŒ¶ï¼Œæ‰‹æŠ“é¥¼ï¼‰"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚æ™®é™€åŒºåŒæ™®è·¯1435å·"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"åäºŒæ³·ç”º"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚åŒ—ç¿Ÿè·¯1444å¼„81å·Bå¹¢-107"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"æ˜Ÿç§»æµ“ç¼©å’–å•¡"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚å˜‰å®šåŒºæ–°éƒè·¯817å·"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"é˜¿å§¨å¥¶èŒ¶/è±ªå¤§å¤§"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"å˜‰å®šåŒºæ›¹å®‰è·¯1611å·"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"æ–°éº¦ç”œå››å­£ç”œå“ç‚¸é¸¡"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"å˜‰å®šåŒºæ›¹å®‰å…¬è·¯2383å¼„55å·"</span> },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"Monicaæ‘©æ‰˜ä¸»é¢˜å’–å•¡åº—"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"å˜‰å®šåŒºæ±Ÿæ¡¥é•‡æ›¹å®‰å…¬è·¯2409å·1Fï¼Œ2383å¼„62å·1F"</span>  },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"æµ®ç”Ÿè‹¥èŒ¶ï¼ˆå‡Œç©ºsohoåº—ï¼‰"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·é•¿å®åŒºé‡‘é’Ÿè·¯968å·9å·æ¥¼åœ°ä¸‹ä¸€å±‚"</span>  },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"NONO JUICE  é²œæ¦¨æœæ±"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºå¤©å±±è¥¿è·¯119å·"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"CoCoéƒ½å¯(åŒ—æ–°æ³¾åº—ï¼‰"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºä»™éœè¥¿è·¯"</span> },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"å¿«ä¹æŸ æª¬ï¼ˆç¥å·æ™ºæ…§åº—ï¼‰"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºå¤©å±±è¥¿è·¯567å·1å±‚R117å·åº—é“º"</span>  },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"Merci Paul cafe"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚æ™®é™€åŒºå…‰å¤è¥¿è·¯ä¸¹å·´è·¯28å¼„6å·æ¥¼819"</span>  },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"çŒ«å±±ç‹ï¼ˆè¥¿éƒŠç™¾è”åº—ï¼‰"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºä»™éœè¥¿è·¯88å·ç¬¬ä¸€å±‚G05-F01-1-306"</span>  },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"æªä¼šå±±"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚æ™®é™€åŒºæ£•æ¦ˆè·¯"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"çºµé£Ÿ"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"å…ƒä¸°å¤©å±±èŠ±å›­(ä¸œé—¨) åŒæµè·¯267å·"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"é’±è®°"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºå¤©å±±è¥¿è·¯"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"å£¹æ¯åŠ "</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºé€šåè·¯"</span> },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"å”¦å“‡å˜€å’–"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºæ–°æ³¾é•‡é‡‘é’Ÿè·¯999å·2å¹¢ï¼ˆBå¹¢ï¼‰ç¬¬01å±‚ç¬¬1-02Aå•å…ƒ"</span>  },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"çˆ±èŒœèŒœé‡Œ(è¥¿éƒŠç™¾è”)"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"é•¿å®åŒºä»™éœè¥¿è·¯88å·1305å®¤"</span> },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"çˆ±èŒœèŒœé‡Œ(è¿‘é“å¹¿åœº)"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚æ™®é™€åŒºçœŸåŒ—è·¯818å·è¿‘é“åŸå¸‚å¹¿åœºåŒ—åŒºåœ°ä¸‹äºŒæ¥¼N-B2-O2-Cå•†é“º"</span>  },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"é²œæœæ¦¨æ±ï¼ˆé‡‘æ²™æ±Ÿè·¯å’Œç¾å¹¿åº—ï¼‰"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯2239å·é‡‘æ²™å’Œç¾å¹¿åœºB1-10-6"</span>  },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"å¼€å¿ƒä¸½æœï¼ˆç¼¤è°·åº—ï¼‰"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºå¨å®è·¯å¤©å±±è·¯341å·"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"è¶…çº§é¸¡è½¦ï¼ˆä¸°åº„è·¯åº—ï¼‰"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚å˜‰å®šåŒºä¸°åº„è·¯240å·"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"å¦™ç”Ÿæ´»æœå›­ï¼ˆåŒ—æ–°æ³¾åº—ï¼‰"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"é•¿å®åŒºæ–°æ¸”è·¯144å·"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"é¦™å®œåº¦éº»è¾£é¦™é”…"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"é•¿å®åŒºæ·è™¹è·¯148å·"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"å‡¡ä»”æ±‰å ¡ï¼ˆè€çœŸåŒ—è·¯åº—ï¼‰"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚æ™®é™€åŒºè€çœŸåŒ—è·¯160å·"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"æ¸¯å¼å°é“º"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºé‡‘é’Ÿè·¯968å·15æ¥¼15-105å®¤"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"èœ€é¦™æºéº»è¾£é¦™é”…ï¼ˆå‰‘æ²³è·¯åº—ï¼‰"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"å‰‘æ²³è·¯443-1"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"åŒ—äº¬é¥ºå­é¦†"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"é•¿å®åŒºåŒ—æ–°æ³¾è¡—é“å¤©å±±è¥¿è·¯490-1å·"</span> },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"é¥­å…¸*æ–°ç®€é¤ï¼ˆå‡Œç©ºSOHOåº—ï¼‰"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºé‡‘é’Ÿè·¯968å·9å·æ¥¼åœ°ä¸‹ä¸€å±‚9-83å®¤"</span>  },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"ç„¦è€³Â·å·å¼å¿«é¤ï¼ˆé‡‘é’Ÿè·¯åº—ï¼‰"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é‡‘é’Ÿè·¯633å·åœ°ä¸‹ä¸€å±‚ç”²éƒ¨"</span>  },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"åŠ¨åŠ›é¸¡è½¦"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"é•¿å®åŒºä»™éœè¥¿è·¯299å¼„3å·101B"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"æµé˜³è’¸èœ"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"å¤©å±±è¥¿è·¯430å·"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"å››æµ·æ¸¸é¾™ï¼ˆå¤©å±±è¥¿è·¯åº—ï¼‰"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºå¤©å±±è¥¿è·¯"</span> },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"æ¨±èŠ±é£Ÿå ‚ï¼ˆå‡Œç©ºåº—ï¼‰"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºé‡‘é’Ÿè·¯968å·15æ¥¼15-105å®¤"</span>  },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"å£¹åˆ†ç±³å®¢å®¶ä¼ ç»Ÿè°ƒåˆ¶ç±³ç²‰(å¤©å±±åº—)"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"å¤©å±±è¥¿è·¯428å·"</span> },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"ç¦è£ç¥¥çƒ§è…Šï¼ˆå¹³æºªè·¯åº—ï¼‰"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºåå’Œè·¯ç¦æ³‰è·¯255å¼„57-73å·"</span>  },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"é€Ÿè®°é»„ç„–é¸¡ç±³é¥­"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºåŒ—æ–°æ³¾è¡—é“é‡‘é’Ÿè·¯180å·1å±‚01å·æ‘Šä½"</span>  },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"çº¢è¾£æ¤’éº»è¾£çƒ«"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"ä¸Šæµ·å¸‚é•¿å®åŒºå¤©å±±è¥¿è·¯492å·"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"(å°æ¨ç”Ÿç…)è¥¿éƒŠç™¾è”é¤å…"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"é•¿å®åŒºä»™éœè¥¿è·¯88å·ç™¾è”2æ¥¼"</span> },  { <span class="hljs-string">"value"</span>: <span class="hljs-string">"é˜³é˜³éº»è¾£çƒ«"</span>, <span class="hljs-string">"address"</span>: <span class="hljs-string">"å¤©å±±è¥¿è·¯389å·"</span> },  {    <span class="hljs-string">"value"</span>: <span class="hljs-string">"å—æ‹³å¦ˆå¦ˆé¾™è™¾ç›–æµ‡é¥­"</span>,    <span class="hljs-string">"address"</span>: <span class="hljs-string">"æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯1699å·é‘«ä¹æƒ ç¾é£Ÿå¹¿åœºA13"</span>  }]</span>


</code></pre>
<p>å‚è€ƒ<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fweixin_43877368%2Farticle%2Fdetails%2F123273563" target="_blank" title="https://blog.csdn.net/weixin_43877368/article/details/123273563" ref="nofollow noopener noreferrer">el-autocomplete æ»šåŠ¨åˆ°åº•éƒ¨åŠ è½½æ•°æ®</a><br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.runoob.com%2Fjsref%2Fmet-element-removeeventlistener.html" target="_blank" title="https://www.runoob.com/jsref/met-element-removeeventlistener.html" ref="nofollow noopener noreferrer">www.runoob.com/jsref/met-eâ€¦</a><br/>
<a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.3qphp.com%2Fweb%2Fjavascript%2F4961.html" target="_blank" title="http://www.3qphp.com/web/javascript/4961.html" ref="nofollow noopener noreferrer">vue è§£é™¤é¼ æ ‡çš„ç›‘å¬äº‹ä»¶çš„æ–¹æ³•</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[LLM å››é˜¶æ®µå’Œ Transformer æ¶æ„ï¼ˆä¸€ï¼‰]]></title>    <link>https://juejin.cn/post/7573855399717060627</link>    <guid>https://juejin.cn/post/7573855399717060627</guid>    <pubDate>2025-11-18T08:55:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573855399717060627" data-draft-id="7573776814947811347" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="LLM å››é˜¶æ®µå’Œ Transformer æ¶æ„ï¼ˆä¸€ï¼‰"/> <meta itemprop="keywords" content="LLM"/> <meta itemprop="datePublished" content="2025-11-18T08:55:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°å…µå¼ å¥"/> <meta itemprop="url" content="https://juejin.cn/user/1257497032405229"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            LLM å››é˜¶æ®µå’Œ Transformer æ¶æ„ï¼ˆä¸€ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1257497032405229/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°å…µå¼ å¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T08:55:58.000Z" title="Tue Nov 18 2025 08:55:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿™ç¯‡æ–‡ç« ä»ç¨‹åºå‘˜è§†è§’ï¼Œç±»æ¯”ç†è§£ LLM çš„åº•å±‚åŸç†ã€‚</p>
<h2 data-id="heading-0">é˜¶æ®µä¸€ï¼šè®¾è®¡è“å›¾</h2>
<p>LLM ç°åœ¨éƒ½ç”¨ Transformer æ¶æ„ï¼Œæœ€å¼€å§‹ä¹Ÿè¦è®¾ç½®ä¸€äº›é¢å¤–çš„å‚æ•°ã€‚</p>
<h3 data-id="heading-1">d_modle</h3>
<p>æ¯”å¦‚ 4096ï¼Œæ˜¯ 2 çš„ n æ¬¡æ–¹ã€‚ä»£è¡¨å†…éƒ¨å‘é‡çš„ç»´åº¦ï¼Œå¸¸è§çš„ xy è½´å°±æ˜¯äºŒç»´çš„ï¼Œå·¦è¾¹ä»£è¡¨æ¯”å¦‚ [1,2]ï¼Œ4096 ç»´åº¦å°±ç”¨ [1,2,3....] ä¸€å…±æœ‰ 4096 ä¸ªæ•°å­—ï¼Œæ‰€ä»¥ä¸éœ€è¦æƒ³è±¡å‡º 4096 ç»´åœ¨ç°å®ä¸–ç•Œæ˜¯ä»€ä¹ˆæ ·çš„ç»“æ„ï¼Œæˆ‘ä»¬ç”¨æ•°å­¦ä¸­çš„çŸ©é˜µè¡¨ç¤ºä»–ä»¬ã€‚</p>
<p>ç»´åº¦ä»£è¡¨äº†æ€è€ƒçš„å¹¿åº¦ï¼Œæ¯”å¦‚æˆ‘ä»¬ä»å„ä¸ªè§’åº¦åˆ¤æ–­ä¸€ä¸ªäººï¼Œèº«é«˜ã€ä½“é‡ã€æ€§åˆ«ç­‰ç­‰ï¼Œæ¯ä¸€ä¸ªè§’åº¦éƒ½ç±»æ¯”ä¸€ä¸ªç»´åº¦ã€‚</p>
<h3 data-id="heading-2">Layers</h3>
<p>æ¯”å¦‚ 96 å±‚ï¼Œæ¯ä¸ª 4096 çš„çŸ©é˜µä»£è¡¨ä¸€å±‚ï¼Œæ¯å±‚é‡Œé¢æœ‰å¤šä¸ª 4096 çš„çŸ©é˜µï¼Œæœ‰ä¸åŒçš„å«ä¹‰ã€‚åé¢ä¼šè¯¦ç»†è§£é‡Šã€‚</p>
<p>Layers ä»£è¡¨æ€è€ƒçš„æ·±åº¦ã€‚</p>
<h3 data-id="heading-3">Vocab Size</h3>
<p>æ¯”å¦‚ 128kï¼Œè¿™ä¸ªæ˜¯è¯æ±‡è¡¨å¤§å°ï¼Œè¯æ±‡è¡¨é…ç½®äº† LLM æœ‰å¤šå°‘ä¸ª tokenã€‚</p>
<p><strong>Token</strong> æ˜¯ <strong>Tokenizer</strong> æ ¹æ®ç»Ÿè®¡è§„å¾‹åˆ‡åˆ†å‡ºæ¥çš„ï¼Œä¸å®Œå…¨ç­‰åŒäºä¸­æ–‡çš„æ¯ä¸ªå­—æˆ–è€…å› ä¸ºçš„æ¯ä¸ªå•è¯ï¼Œè¿˜åŒ…æ‹¬æ ‡ç‚¹ç¬¦å·ã€è¯ã€æˆ–çŸ­è¯­ï¼Œå–å†³äº Tokenizer æ˜¯å¦‚ä½•åˆ‡åˆ†çš„ï¼Œæ¯”å¦‚å®ƒå‘ç° â€œå¥¥åˆ©ç»™â€ ç»å¸¸å‡ºç°åœ¨ä¸€èµ·ï¼Œä¹Ÿä¼šæŠŠè¿™ä¸ªè¯æ ‡è®°ä¸ºä¸€ä¸ª tokenã€‚</p>
<p>è¿™äº› token å’Œå¯¹åº”çš„å‘é‡åæ ‡å­˜åœ¨ Vocab Map å’Œ Embedding Table ä¸­ï¼ŒMap çš„æ•°æ®æ˜¯ token å’Œ Id çš„å¯¹åº”ã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// Vocab Map</span>
<span class="hljs-punctuation">{</span>
   <span class="hljs-attr">"apple"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">501</span><span class="hljs-punctuation">,</span>
   <span class="hljs-attr">"cat"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">882</span><span class="hljs-punctuation">,</span>
   <span class="hljs-attr">"Java"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">998</span><span class="hljs-punctuation">,</span>
   <span class="hljs-attr">"love"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1024</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>Embedding Table ä¸­å­˜çš„æ˜¯ Id å’Œå‘é‡åæ ‡ï¼Œ<strong>å½¢çŠ¶</strong>æ˜¯[ VocabSize, d_modle]ï¼Œå³ [128k,4096]ã€‚</p>
<p>è¿™é‡Œè¦é‡ç‚¹è§£é‡Šä¸‹å½¢çŠ¶å’Œå‘é‡ã€‚</p>
<h3 data-id="heading-4">Shape å½¢çŠ¶å’Œ Vector å‘é‡</h3>
<p>å½¢çŠ¶çš„ [128k,4096] è¡¨ç¤º 128k è¡Œï¼Œ4096 åˆ—çš„çŸ©é˜µã€‚</p>
<p>å‘é‡çš„ [128k,4096] è¡¨ç¤ºä¸€ä¸ªç‚¹åœ¨äºŒç»´åæ ‡ç³»çš„æ–¹å‘å’Œå¤§å°ï¼Œå…ˆæ‰¾åˆ°è¿™ä¸ªç‚¹çš„åæ ‡ï¼Œå†ä»åŸç‚¹å½“èµ·ç‚¹ç”»æ¡çº¿è¿æ¥ä¸Šè¿™ä¸ªç‚¹ï¼Œå°±æ˜¯å‘é‡ã€‚è¿™ä¸ªå‘é‡çš„å½¢çŠ¶æ˜¯ [1,2]ï¼Œå› ä¸ºæ˜¯ 1 è¡Œ 2 åˆ—ã€‚</p>
<p>åç»­æˆ‘éƒ½ä¼šä¸¥æ ¼çš„åŒºåˆ†å½¢çŠ¶å’Œå‘é‡ï¼Œå¯ä»¥åœé¡¿ä¸‹ç†è§£ä¸¤è€…çš„åŒºåˆ«ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dbd81567e5c04312932a3a9462f1d000~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5YW15byg5YGl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060958&amp;x-signature=s%2FqyWbBcBBpRPVftGIyXM7EQCPI%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-5">é˜¶æ®µäºŒï¼šé¢„è®­ç»ƒ</h2>
<p>åœ¨é˜¶æ®µä¸€ä¸­è®¾ç½®å¥½æ‰€æœ‰å‚æ•°ï¼Œé˜¶æ®µäºŒå°±æ˜¯é€šè¿‡æµ·é‡æ•°æ®å­¦ä¹ ï¼Œé…ç½®è¿™äº›å‚æ•°ï¼ˆçŸ©é˜µï¼‰ã€‚</p>
<p>æˆ‘ä»¬è¯´çš„ LLM å¥½ä¸å¥½ç”¨ï¼Œå°±æ˜¯å–å†³äºè¿™äº› token åœ¨å‘é‡çš„åæ ‡åœ°å€ã€çŸ©é˜µçš„è½¬æ¢ç­‰ç­‰æ˜¯å¦åˆç†ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚åœ¨é˜¶æ®µ 1 å®šä¹‰äº† 2 ä¸ªå‚æ•°ï¼ˆå®é™…ä¸Š LLM è¦å¤šå¾—å¤šï¼Œå…‰ GPT3 å°±æœ‰  1760 äº¿ï¼‰ï¼Œç±»æ¯”ä»£ç ä¸­æ–°å»ºä¸€ä¸ªå¯¹è±¡ <code>new Person()</code> æœ‰èº«é«˜å’Œä½“é‡ä¸¤ä¸ªå‚æ•°ã€‚</p>
<p>ç»è¿‡é˜¶æ®µäºŒåï¼Œè¿™ä¸ªå¯¹è±¡å°±è¢«é»˜è®¤èµ‹å€¼èº«é«˜ 170ï¼Œä½“é‡ 70kgï¼ˆé»˜è®¤å‘é‡åœ°å€ï¼‰ã€‚</p>
<p>è€Œå½“ä¸Šä¸‹æ–‡å‡ºç°ç”·å­—åï¼Œè¿™ä¸ªå±æ€§å°±å˜æˆäº† 175 å’Œ 75kgï¼Œå‡ºç°å¥³å­—å°±å˜æˆ 165 å’Œ 55kgï¼ˆçŸ©é˜µè½¬æ¢ï¼‰ã€‚</p>
<h3 data-id="heading-6">å‘é‡çš„ä½ç½®</h3>
<p>è¿˜è®°å¾—é˜¶æ®µä¸€è¯´çš„ Embedding Table æ˜¯ä¸€ä¸ªå½¢çŠ¶ä¸º [128k,4096] çš„çŸ©é˜µå—ï¼Ÿé€šè¿‡ Transformer è®­ç»ƒåï¼ŒLLM å†³å®šæŠŠ â€œäººâ€ è¿™ä¸ª Token æ”¾åˆ°ä¸€ä¸ªç‰¹å®šçš„åæ ‡ [1.3,0,4...]ä¸€å…± 4096 ä½ã€‚</p>
<p>æˆ‘ä»¬ä¸çŸ¥é“ä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªåæ ‡ï¼Œè¿™æ˜¯ LLM é»‘ç›’çš„åœ°æ–¹ï¼Œæ—¢ä¸çŸ¥é“ Why ä½†çŸ¥é“ Howï¼ˆTransformer è®­ç»ƒï¼‰ã€‚</p>
<p>â€œäººâ€ è¿™ä¸ªå­—åœ¨ä¸­æ–‡é‡Œæœ‰å¤ªå¤šå«ä¹‰ï¼Œç”·äººã€å¥³äººã€å¥½äººã€å¥½äººç­‰ç­‰ï¼Œè¿™äº›è¯åˆæ˜¯ä¸åŒçš„å‘é‡ï¼Œå‘é‡æ­£æ˜¯è¿™äº›å‘é‡åˆå¹¶çš„å‡å€¼ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/045de90c66454098a94828b6459ed234~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5YW15byg5YGl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060958&amp;x-signature=L5IwbqMuX1M4s%2F7BrXH0t5hRvmc%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-7">çŸ©é˜µè½¬æ¢</h3>
<p>å¦‚æœä¸Šä¸‹æ–‡æœ‰ â€œç”·â€ è¿™ä¸ªå­—ï¼Œæ•´å¥è¯ï¼ˆå…¶å®æ˜¯æœ€åä¸€å¥è¯æœ€åä¸€ä¸ª token çš„å‘é‡ï¼Œåé¢å†è§£é‡Šï¼‰çš„å‘é‡å°±ä¼šæœç€ â€œç”·äººâ€ è¿™ä¸ª token çš„ä½ç½®åä¸€ç‚¹ã€‚</p>
<p>è½¬æ¢çš„æ–¹å¼ï¼Œå°±æ˜¯ç”¨çš„<strong>çŸ©é˜µä¹˜æ³•</strong>ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­è§£é‡Šè¿™ç§è½¬æ¢ï¼Œå‡è®¾å…¬å¸æœ‰ 5 ä¸ªåˆçº§ 3 ä¸ªä¸­çº§ 1 ä¸ªé«˜çº§å¼€å‘å·¥ç¨‹å¸ˆï¼Œç”¨ä¸€ä¸ªå½¢çŠ¶ä¸º [3,1] çš„çŸ©é˜µè¡¨ç¤ºï¼ŒçŸ©é˜µå†…å®¹æ˜¯<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mrow><mi>i</mi><mi>n</mi></mrow></msub><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">v_{in} = \begin{bmatrix} 5 \\ 3 \\ 1 \end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"/><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"/><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewbox="0 0 667 3600"><path d="M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84&#10;H403z M403 1759 V0 H319 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">5</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">3</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"/><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewbox="0 0 667 3600"><path d="M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347z&#10;M347 1759 V0 H263 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span></span></span></span></span></span>ã€‚</p>
<p>å¦‚æœæƒ³çŸ¥é“ä»–ä»¬çš„æ€»è–ªèµ„æˆæœ¬å’Œæ€»ä»£ç é‡ï¼Œè¿™æ˜¯ä¸ªå½¢çŠ¶ä¸º [2,1] çš„çŸ©é˜µï¼Œå¦‚ä½•è½¬æ¢ï¼Ÿ</p>
<p>è¿™å°±éœ€è¦ä¸€ä¸ªå½¢çŠ¶ä¸º [2,3] çš„è§„åˆ™çŸ©é˜µï¼Œè¿™é‡Œé¢å®šä¹‰äº†ä¸åŒçº§åˆ«å·¥ç¨‹å¸ˆçš„è–ªèµ„å’Œä»£ç é‡ã€‚<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>10</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>20</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>50</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>200</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>500</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1000</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">M = \begin{bmatrix} 
10 &amp; 20 &amp; 50 \\ 
200 &amp; 500 &amp; 1000 
\end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"/><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">10</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">200</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">20</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">500</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">50</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">1000</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span/></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span></p>
<p>M è§„åˆ™çŸ©é˜µè¡¨ç¤ºåˆçº§çš„è–ªèµ„ æ˜¯ 10 ä»£ç é‡æ˜¯ 200ï¼Œä¸­çº§æ˜¯ 20 å’Œ 500ï¼Œé«˜çº§æ˜¯ 50 å’Œ 1000ã€‚</p>
<p>ç„¶åä½¿ç”¨çŸ©é˜µä¹˜æ³•ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8ae5309bfeb748919e29fcb6e14502de~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5YW15byg5YGl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060958&amp;x-signature=csFzeM8l0Hij2KEGiap0Xs1p4Hk%3D" alt="image.png" loading="lazy"/></p>
<p>çŸ©é˜µä¹˜æ³•å°±æ˜¯ç”¨å‰ä¸€ä¸ªçŸ©é˜µæ¨ªè¡Œæ¯ä¸€ä¸ªå€¼ï¼Œä¹˜ä»¥ç¬¬äºŒä¸ªçŸ©é˜µçºµåˆ—æ¯ä¸€ä¸ªå€¼ï¼Œå³ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>10</mn><mo>Ã—</mo><mn>5</mn><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mn>20</mn><mo>Ã—</mo><mn>3</mn><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mn>50</mn><mo>Ã—</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mn>160</mn></mrow><annotation encoding="application/x-tex">(10 \times 5) + (20 \times 3) + (50 \times 1)= 160</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord">10</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">5</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord">20</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">3</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord">50</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">160</span></span></span></span></span>ï¼Œ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>200</mn><mo>Ã—</mo><mn>5</mn><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mn>500</mn><mo>Ã—</mo><mn>3</mn><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mn>1000</mn><mo>Ã—</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mn>3500</mn></mrow><annotation encoding="application/x-tex">(200 \times 5) + (500 \times 3) + (1000 \times 1) = 3500</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord">200</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">5</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord">500</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">3</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord">1000</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">3500</span></span></span></span></span>ï¼Œè¿™å°±æ˜¯<strong>ç‚¹ç§¯</strong>ã€‚</p>
<p>ç®€çŸ­è§£é‡Šä¸‹ç‚¹ç§¯ï¼Œç‚¹ç§¯æ˜¯è®¡ç®—ä¸¤ä¸ªå‘é‡ç›¸ä¼¼åº¦çš„ã€‚</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><mo stretchy="false">[</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>3</mn></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">A = [a_1, a_2, a_3]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">]</span></span></span></span></span></p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><mo>=</mo><mo stretchy="false">[</mo><msub><mi>b</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>b</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>b</mi><mn>3</mn></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">B = [b_1, b_2, b_3]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">]</span></span></span></span></span></p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>â‹…</mo><mi>B</mi><mo>=</mo><mo stretchy="false">(</mo><msub><mi>a</mi><mn>1</mn></msub><mo>Ã—</mo><msub><mi>b</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><msub><mi>a</mi><mn>2</mn></msub><mo>Ã—</mo><msub><mi>b</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><msub><mi>a</mi><mn>3</mn></msub><mo>Ã—</mo><msub><mi>b</mi><mn>3</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">A \cdot B = (a_1 \times b_1) + (a_2 \times b_2) + (a_3 \times b_3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p>
<p>å€¼ä¸ºæ­£æ•°è¯´æ˜ç›¸ä¼¼åº¦å¾ˆå¤§ï¼Œä¸º 0 è¯´æ˜å‚ç›´ï¼ˆæ­£äº¤ï¼‰æ²¡æœ‰å…³ç³»ï¼Œä¸ºè´Ÿæ•°è¯´æ˜æ–¹å‘ç›¸åã€‚</p>
<p>å›åˆ°çŸ©é˜µä¹˜æ³•ï¼Œè¿™é‡Œè¦æ³¨æ„ï¼Œè§„åˆ™çŸ©é˜µ M æ˜¯æ”¾åœ¨å‰é¢çš„ï¼Œä¸èƒ½åè¿‡æ¥ï¼ŒçŸ©é˜µä¹˜æ³•ä¸­ç¬¬ä¸€ä¸ªçŸ©é˜µçš„åˆ—æ•°å¿…é¡»ç­‰äºç¬¬äºŒä¸ªçŸ©é˜µçš„åˆ—æ•°ï¼Œä¸Šé¢çš„è®¡ç®—ç”¨å½¢çŠ¶è¡¨ç¤ºå°±æ˜¯ [2,3] * [3,1] = [2,1]ã€‚</p>
<p>ç°åœ¨åº”è¯¥å¯¹çŸ©é˜µä¹˜æ³•æœ‰ä¸ªå¤§è‡´è®¤çŸ¥äº†å§ï¼Œè§„åˆ™çŸ©é˜µ * åŸå§‹å€¼çŸ©é˜µ = ç»“æœçŸ©é˜µï¼Œå°±æ˜¯è¿™ä¹ˆå›äº‹ï¼Œä¸ç”¨å¤ªåœ¨æ„æ˜¯æ€ä¹ˆä¹˜åˆ°åº•æ€ä¹ˆç®—ï¼Œåªéœ€è¦è®°ä½ä»–ä»¬å¯ä»¥é€šè¿‡çŸ©é˜µä¹˜æ³•è½¬æ¢ã€‚</p>
<p>LLM ä¸­å¤§é‡ç”¨åˆ°çš„è¿™ç§è½¬åŒ–ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬åˆšåˆšè¯´ â€œäººâ€ çš„å‘é‡ä¼šåå‘ â€œç”·äººâ€ çš„åŸå› ï¼Œä½†å®é™…ä¸Šæ›´å¤æ‚å’Œç²¾å¦™ï¼Œè®©æˆ‘ä»¬æ­£å¼è¿›å…¥ Transfer æ¶æ„ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[jsæ·±å…¥ä¹‹ä»åŸå‹åˆ°åŸå‹é“¾]]></title>    <link>https://juejin.cn/post/7573694361474957339</link>    <guid>https://juejin.cn/post/7573694361474957339</guid>    <pubDate>2025-11-18T08:52:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573694361474957339" data-draft-id="7573694361474220059" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="jsæ·±å…¥ä¹‹ä»åŸå‹åˆ°åŸå‹é“¾"/> <meta itemprop="keywords" content="JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-18T08:52:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç±³å…°å°é“åŒ 17"/> <meta itemprop="url" content="https://juejin.cn/user/3201392514434440"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            jsæ·±å…¥ä¹‹ä»åŸå‹åˆ°åŸå‹é“¾
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3201392514434440/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç±³å…°å°é“åŒ 17
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T08:52:08.000Z" title="Tue Nov 18 2025 08:52:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> A {
}
<span class="hljs-keyword">let</span> a=<span class="hljs-keyword">new</span> <span class="hljs-title function_">A</span>();
a.<span class="hljs-property">name</span>=<span class="hljs-string">"abc"</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a.<span class="hljs-property">name</span>);
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­Aå°±æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œæˆ‘ä»¬ä½¿ç”¨newåˆ›å»ºäº†ä¸€ä¸ªå®ä¾‹å¯¹è±¡a</p>
<h3 data-id="heading-1">prototype</h3>
<p>æ¯ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ªprototypeå±æ€§</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> A {
}
A.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">name</span>=<span class="hljs-string">"å¼ ä¸‰"</span>
<span class="hljs-keyword">let</span> a1=<span class="hljs-keyword">new</span> <span class="hljs-title function_">A</span>();
<span class="hljs-keyword">let</span> a2=<span class="hljs-keyword">new</span> <span class="hljs-title function_">A</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a1.<span class="hljs-property">name</span>,a2.<span class="hljs-property">name</span>)
</code></pre>
<blockquote>
<p>prototypeæŒ‡å‘çš„æ˜¯è°ƒç”¨è¯¥å‡½æ•°åˆ›å»ºçš„å®ä¾‹çš„åŸå‹ï¼Œä¹Ÿå°±æ˜¯ä¾‹å­ä¸­a1,a2çš„åŸå‹ã€‚
æ¯ä¸€ä¸ªå¯¹è±¡ï¼ˆnullé™¤å¤–ï¼‰åˆ›å»ºçš„æ—¶å€™ï¼Œéƒ½ä¼šå…³è”å¦å¤–ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ˜¯åŸå‹ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½ä¼šä»åŸå‹â€œç»§æ‰¿â€å±æ€§</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/86dd12c7a8c340cdacfb5c749ebd69a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57Gz5YWw5bCP6ZOB5YygMTc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060728&amp;x-signature=RsCI3zACxDbeFicsil7OSMVCg8o%3D" alt="3bdfe951-d6de-4e73-ae8b-8db05e5d54bf.jpeg" loading="lazy"/></p>
<h3 data-id="heading-2">_<em>proto</em>_</h3>
<p>æ¯ä¸ªå¯¹è±¡ï¼ˆé™¤äº†nullï¼‰éƒ½æœ‰ä¸€ä¸ª__proto__å±æ€§ï¼Œè¿™ä¸ªå±æ€§æŒ‡å‘è¯¥å¯¹è±¡çš„åŸå‹</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> A {
}
<span class="hljs-keyword">let</span> a=<span class="hljs-keyword">new</span> <span class="hljs-title function_">A</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a.<span class="hljs-property">__proto__</span>===A.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>)
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2d3d535b7475465bbf6d6440ffd5ece8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57Gz5YWw5bCP6ZOB5YygMTc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060728&amp;x-signature=oQjCdEHII0%2FKSMsqKUF%2FyB%2FDy1s%3D" alt="a8d6b4f1-e328-44f6-8c7b-421bcfe8ac22.jpeg" loading="lazy"/></p>
<h3 data-id="heading-3">constructor</h3>
<p>æ¯ä¸ªåŸå‹éƒ½æœ‰ä¸€ä¸ªconstructorå±æ€§æŒ‡å‘å…³è”çš„æ„é€ å‡½æ•°</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> A {
}
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(A.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span>===A)
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/76f12e22807d406ca2a19477115867b4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57Gz5YWw5bCP6ZOB5YygMTc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060728&amp;x-signature=iUnWbGFhDDs15oc32MiSw5Gc67E%3D" alt="4e507f00-af31-4942-bf0a-ffc0c89cd49c.jpeg" loading="lazy"/></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> A {
}
<span class="hljs-keyword">let</span> a=<span class="hljs-keyword">new</span> <span class="hljs-title function_">A</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(A.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span>===A)
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a.<span class="hljs-property">__proto__</span>===A.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>)
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a.<span class="hljs-property">contructor</span>===A.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span>)
<span class="hljs-comment">// é¡ºä¾¿å­¦ä¹ ä¸€ä¸ªES5çš„æ–¹æ³•,å¯ä»¥è·å¾—å¯¹è±¡çš„åŸå‹</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(a) === A.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>)
</code></pre>
<p>å½“è¯»å–å®ä¾‹å±æ€§æ—¶ï¼Œå¦‚æœæ‰¾ä¸åˆ°å°±ä¼šä»ä¸å¯¹è±¡å…³è”çš„åŸå‹ä¸ŠæŸ¥æ‰¾ï¼Œå¦‚æœè¿˜æŸ¥ä¸åˆ°å°±ä¼šæŸ¥æ‰¾åŸå‹çš„åŸå‹ï¼Œä¸€ç›´æ‰¾åˆ°æœ€é¡¶å±‚ä¸ºæ­¢ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> A {
}
A.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">name</span>=<span class="hljs-string">"test"</span>;
<span class="hljs-keyword">let</span> a=<span class="hljs-keyword">new</span> <span class="hljs-title function_">A</span>();
a.<span class="hljs-property">name</span>=<span class="hljs-string">"aaa"</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a.<span class="hljs-property">name</span>);<span class="hljs-comment">//aaa</span>
<span class="hljs-keyword">delete</span> a.<span class="hljs-property">name</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a.<span class="hljs-property">name</span>);<span class="hljs-comment">//test</span>
</code></pre>
<p>åŸå‹çš„åŸå‹ï¼Œå…¶å®æ˜¯æœ‰Objectæ„é€ å‡½æ•°ç”Ÿæˆ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dd6eb3c1fd644a7cae5a9014559c6043~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57Gz5YWw5bCP6ZOB5YygMTc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060728&amp;x-signature=SheS5ZlbjF5Csvl0ak%2FC8v2iAyg%3D" alt="a15399d7-b5ff-4fbc-afa3-9026ca9cddb7.jpeg" loading="lazy"/></p>
<h3 data-id="heading-4">åŸå‹é“¾</h3>
<p>çº¢è‰²éƒ¨åˆ†å°±ä»£è¡¨äº†åŸå‹é“¾çš„å½¢æˆ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/34de0d66541d4771b21afeceb67f80ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57Gz5YWw5bCP6ZOB5YygMTc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764060728&amp;x-signature=JcYxwRAMDypdI7nLoZg2NozLSDs%3D" alt="dd4ff7f1-95d8-4007-9c1e-551d3ea83545.jpeg" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[loveqq ä½œä¸ºç½‘å…³æ¡†æ¶æ—¶å¦‚ä½•ä¿®æ”¹è¯·æ±‚ä½“ / å“åº”ä½“ï¼Œå’Œ spring åˆæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7573694361474072603</link>    <guid>https://juejin.cn/post/7573694361474072603</guid>    <pubDate>2025-11-18T07:13:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573694361474072603" data-draft-id="7573710392212553755" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="loveqq ä½œä¸ºç½‘å…³æ¡†æ¶æ—¶å¦‚ä½•ä¿®æ”¹è¯·æ±‚ä½“ / å“åº”ä½“ï¼Œå’Œ spring åˆæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯,æ¶æ„"/> <meta itemprop="datePublished" content="2025-11-18T07:13:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="kfyty725"/> <meta itemprop="url" content="https://juejin.cn/user/2685462482255984"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            loveqq ä½œä¸ºç½‘å…³æ¡†æ¶æ—¶å¦‚ä½•ä¿®æ”¹è¯·æ±‚ä½“ / å“åº”ä½“ï¼Œå’Œ spring åˆæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2685462482255984/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    kfyty725
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T07:13:13.000Z" title="Tue Nov 18 2025 07:13:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>loveqq-framework ä½œä¸ºç½‘å…³æ¡†æ¶ä½¿ç”¨æ—¶ï¼Œä¿®æ”¹å“åº”ä½“æ˜¯ä¸€ä¸ªååˆ†å¸¸è§çš„éœ€æ±‚ã€‚</p>
<p>è€Œä½œä¸ºä¸€ä¸ªä½¿ç”¨è¿‡ spring gateway çš„ä½œè€…ï¼Œæˆ‘è§‰å¾— spring gateway ä¸­ä¿®æ”¹å“åº”ä½“å®åœ¨æ˜¯å¤æ‚ï¼Œå› æ­¤ loveqq æ¡†æ¶åœ¨å®ç°ä¿®æ”¹å“åº”ä½“æ—¶ï¼Œåˆ™åŠ›æ±‚ç®€æ´æ˜“ç”¨ã€‚</p>
<h3 data-id="heading-1">å¦‚ä½•å®ç°ï¼Ÿ</h3>
<p>Â loveqq æ¡†æ¶ä¿®æ”¹å“åº”ä½“æ˜¯åŸºäºç½‘å…³è¿‡æ»¤å™¨ï¼ˆGatewayFilterï¼‰å®ç°çš„ï¼Œå› æ­¤è¦å®ç°ä¿®æ”¹å“åº”ä½“åªéœ€ä¸¤æ­¥ï¼š</p>
<p>1ã€è‡ªå®šä¹‰ç½‘å…³è¿‡æ»¤å™¨</p>
<p>2ã€ç»™æŒ‡å®šçš„è·¯ç”±é…ç½®è¿™ä¸ªè¿‡æ»¤å™¨</p>
<p>ä¸‹é¢ç»™å‡ºç›¸åº”çš„ç¤ºä¾‹ï¼š</p>
<p>ç½‘å…³è¿‡æ»¤å™¨ï¼š</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-comment">/**
     * è¿™é‡Œæ‰‹åŠ¨è®¾ç½® bean name ä¸ºï¼šFormatResponseBody
     * åé¢é…ç½®æ—¶ä¼šç”¨åˆ°ï¼Œå½“ç„¶è‡ªåŠ¨ç”Ÿæˆçš„ä¹Ÿå¯ä»¥ï¼Œåªæ˜¯åç§°æ¯”è¾ƒé•¿è€Œå·²
     * &lt;p&gt;
     * æ³¨æ„ï¼šè¿™é‡Œè®¾ç½®è¿‡æ»¤å™¨ä¼˜å…ˆçº§ä¸ºæœ€ä½çº§åˆ«ï¼Œå› ä¸ºéœ€è¦è½¬å‘è¯·æ±‚ä¹‹åæ‰èƒ½è·å–ä¸‹æ¸¸å“åº”ä½“ï¼Œè€Œè½¬å‘è¿‡æ»¤å™¨é»˜è®¤çš„çº§åˆ«æ¯”è¾ƒä½
     */</span>
    <span class="hljs-meta">@Order(Integer.MAX_VALUE)</span>
    <span class="hljs-meta">@Component("FormatResponseBody")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FormatResponseBodyGatewayFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">GatewayFilter</span> {

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> Mono&lt;Void&gt; <span class="hljs-title function_">doFilter</span><span class="hljs-params">(ServerRequest request, ServerResponse response, GatewayFilterChain chain)</span> {
            <span class="hljs-keyword">return</span> chain.doFilter(request, response)
                    .then(Mono.defer(response::getAggregateBody))               <span class="hljs-comment">// å¯ä»¥ç›´æ¥è·å–èšåˆåçš„å“åº”ä½“ï¼Œé¿å… Flux åˆ†æ®µå¤„ç†æ•°æ®</span>
                    .map(e -&gt; {
                        <span class="hljs-type">byte</span>[] bytes = NIOUtil.read(e);
                        <span class="hljs-type">JSON</span> <span class="hljs-variable">json</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JSON</span>();
                        json.put(<span class="hljs-string">"data"</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(bytes));
                        json.put(<span class="hljs-string">"code"</span>, <span class="hljs-number">0</span>);
                        <span class="hljs-keyword">return</span> NIOUtil.from(json.toString());                   <span class="hljs-comment">// ä¿®æ”¹å“åº”ä½“</span>
                    })
                    .flatMap(json -&gt; response.writeBody(Flux.just(json)))       <span class="hljs-comment">// å“åº”ä½“å†™å…¥å“åº”</span>
                    .then();
        }
    }
</code></pre>
<p>åº”ç”¨è¿‡æ»¤å™¨ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">k:</span>
  <span class="hljs-attr">server:</span>
    <span class="hljs-attr">gateway:</span>
      <span class="hljs-attr">routes:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">uri:</span> <span class="hljs-string">lb://demo</span>
          <span class="hljs-attr">predicates:</span> <span class="hljs-string">Path=/api/demo/**</span>
          <span class="hljs-attr">filters:</span>
            <span class="hljs-bullet">-</span> <span class="hljs-attr">id:</span> <span class="hljs-string">StripPrefix</span>               <span class="hljs-comment"># å»é™¤ /api</span>
              <span class="hljs-attr">args:</span>
                <span class="hljs-attr">stripPrefix:</span> <span class="hljs-number">1</span>
            <span class="hljs-bullet">-</span> <span class="hljs-attr">id:</span> <span class="hljs-string">FormatResponseBody</span>        <span class="hljs-comment"># ä¿®æ”¹å“åº”ä½“</span>
</code></pre>
<p>è¿™æ ·å°±å¯ä»¥äº†ã€‚</p>
<h4 data-id="heading-2">å“åº”ä½“æ ¡éªŒä¸é€šè¿‡æƒ³æŠ›å‡ºå¼‚å¸¸ï¼Ÿ</h4>
<p>å¾ˆç®€å•ï¼Œç›´æ¥æŠ›å‡ºå¼‚å¸¸å°±å¯ä»¥äº†ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-java" lang="java">        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> Mono&lt;Void&gt; <span class="hljs-title function_">doFilter</span><span class="hljs-params">(ServerRequest request, ServerResponse response, GatewayFilterChain chain)</span> {
            <span class="hljs-keyword">return</span> chain.doFilter(request, response)
                    .then(Mono.defer(response::getAggregateBody))               <span class="hljs-comment">// å¯ä»¥ç›´æ¥è·å–èšåˆåçš„å“åº”ä½“ï¼Œé¿å… Flux åˆ†æ®µå¤„ç†æ•°æ®</span>
                    .map(e -&gt; {
                        <span class="hljs-type">String</span> <span class="hljs-variable">body</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(NIOUtil.read(e));
                        <span class="hljs-keyword">if</span> (body.charAt(<span class="hljs-number">0</span>) != <span class="hljs-string">'{'</span> || body.charAt(<span class="hljs-number">0</span>) != <span class="hljs-string">'['</span>) {
                            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ResolvableException</span>(<span class="hljs-string">"not json"</span>);
                        }
                        <span class="hljs-type">JSON</span> <span class="hljs-variable">json</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JSON</span>();
                        json.put(<span class="hljs-string">"data"</span>, body);
                        json.put(<span class="hljs-string">"code"</span>, <span class="hljs-number">0</span>);
                        <span class="hljs-keyword">return</span> NIOUtil.from(json.toString());                   <span class="hljs-comment">// ä¿®æ”¹å“åº”ä½“</span>
                    })
                    .flatMap(json -&gt; response.writeBody(Flux.just(json)))       <span class="hljs-comment">// å“åº”ä½“å†™å…¥å“åº”</span>
                    .then();
        }
</code></pre>
<h4 data-id="heading-3">è¿™æ ·çš„è¯ï¼Œç½‘å…³ä¼šè¾“å‡ºæ­£å¸¸çš„é”™è¯¯ä¿¡æ¯å—ï¼Ÿ</h4>
<p>å½“ç„¶å¯ä»¥ï¼Œå› ä¸ºç½‘å…³å¼‚å¸¸åŒæ ·å¯ä»¥èµ° mvc æ¨¡å¼çš„å…¨å±€å¼‚å¸¸å¤„ç†å™¨è¿›è¡Œå¤„ç†ï¼</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@RestControllerAdvice(supportAny = true)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GlobalExceptionHandler</span> {
    <span class="hljs-comment">/**
     * å¼‚å¸¸å¤„ç†
     *
     * <span class="hljs-doctag">@param</span> request æŠ½è±¡çš„ç»Ÿä¸€çš„è¯·æ±‚å¯¹è±¡
     * <span class="hljs-doctag">@param</span> e       å¼‚å¸¸
     * <span class="hljs-doctag">@return</span> è¿”å›é”™è¯¯ä¿¡æ¯
     */</span>
    <span class="hljs-meta">@ExceptionHandler</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">onException</span><span class="hljs-params">(ServerRequest request, Exception e)</span> {
        <span class="hljs-keyword">return</span> e.getClass().getName() + <span class="hljs-string">":"</span> + e.getMessage();
    }
}
</code></pre>
<p>çœ‹èµ·æ¥ç›¸å½“ç®€æ´ï¼Œå‡ ä¹å’Œä¿®æ”¹è¯·æ±‚ä½“æ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œä½†æ˜¯ spring gateway ä¿®æ”¹è¯·æ±‚ä½“ / å“åº”ä½“æƒ³å¿…åšè¿‡çš„å„ä½æ‡‚çš„éƒ½æ‡‚ã€‚</p>
<p>æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥å°è¯•ä¸€ä¸‹ï½</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[vue3+Cesiumå¼€å‘æ•™ç¨‹ï¼ˆ14ï¼‰---CesiumåŠ è½½ä¸åˆ é™¤geojsonã€kmlã€glbã€3dtilesã€czmlæ•°æ®]]></title>    <link>https://juejin.cn/post/7573699930259570714</link>    <guid>https://juejin.cn/post/7573699930259570714</guid>    <pubDate>2025-11-18T07:16:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573699930259570714" data-draft-id="7573687816430698506" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="vue3+Cesiumå¼€å‘æ•™ç¨‹ï¼ˆ14ï¼‰---CesiumåŠ è½½ä¸åˆ é™¤geojsonã€kmlã€glbã€3dtilesã€czmlæ•°æ®"/> <meta itemprop="keywords" content="cesium,GIS"/> <meta itemprop="datePublished" content="2025-11-18T07:16:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="GisCoder"/> <meta itemprop="url" content="https://juejin.cn/user/3968552295476428"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            vue3+Cesiumå¼€å‘æ•™ç¨‹ï¼ˆ14ï¼‰---CesiumåŠ è½½ä¸åˆ é™¤geojsonã€kmlã€glbã€3dtilesã€czmlæ•°æ®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3968552295476428/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    GisCoder
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T07:16:08.000Z" title="Tue Nov 18 2025 07:16:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬å­¦ä¹ ç³»åˆ—å°†ä»¥Cesium + Vue3 + Vite +Typescript+elementplusä½œä¸ºä¸»è¦æŠ€æœ¯æ ˆå±•å¼€ï¼Œåç»­ä¼šå¾ªåºæ¸è¿›ï¼ŒæŒç»­æ¢ç´¢Cesiumçš„é«˜çº§åŠŸèƒ½ï¼Œç›¸å…³æºç å…¨éƒ¨<strong>å…è´¹å…¬å¼€</strong>ã€‚è¯¦æƒ…è¯·æŸ¥çœ‹åŸæ–‡<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fh0bzCJwupHpDjwXXscH5hA" target="_blank" title="https://mp.weixin.qq.com/s/h0bzCJwupHpDjwXXscH5hA" ref="nofollow noopener noreferrer">Cesium+Vue3å­¦ä¹ ç³»åˆ—ï¼ˆ14ï¼‰---CesiumåŠ è½½ä¸åˆ é™¤geojsonã€kmlã€glbã€3dtilesã€czmlæ•°æ®</a></p>
<p>1ã€geojsonæ•°æ®é…ç½®ä¸åŠ è½½æ–¹å¼</p>
<pre><code class="hljs language-bash" lang="bash">
//geojsonæµ‹è¯•æ•°æ®
<span class="hljs-built_in">export</span> const geojsonTestInfo:ILayerItem = {
    <span class="hljs-built_in">id</span>: LayerIdFlag.GEOMSON_TEST,
    name: <span class="hljs-string">"geojsonTest"</span>,
    <span class="hljs-built_in">type</span>: <span class="hljs-string">"geojson"</span>,
    url: <span class="hljs-string">"/testdata/line.geojson"</span>,
    layer: <span class="hljs-string">"geojsonTest"</span>
}
</code></pre>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-keyword">case</span> <span class="hljs-string">'geojson'</span>:
                handle = <span class="hljs-keyword">await</span> Cesium.GeoJsonDataSource.load(item.url!, {
                    clampToGround: <span class="hljs-keyword">true</span>,
                });
                (handle <span class="hljs-keyword">as</span> Cesium.GeoJsonDataSource).<span class="hljs-keyword">show</span> = <span class="hljs-keyword">show</span>;
                <span class="hljs-keyword">this</span>.viewer.dataSources.add(handle)
                <span class="hljs-comment">//è§†è§’</span>
                <span class="hljs-keyword">this</span>.viewer.zoomTo(handle)
                <span class="hljs-keyword">break</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4c1e6ab9e2042bb932ac58944b49eac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2lzQ29kZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764054967&amp;x-signature=iyL2wDXR8Np%2BNcjM2M9KblQODKw%3D" alt="" loading="lazy"/></p>
<p>2ã€kmlæ•°æ®é…ç½®ä¸åŠ è½½æ–¹å¼</p>
<pre><code class="hljs language-bash" lang="bash">
//kmlæµ‹è¯•æ•°æ®
<span class="hljs-built_in">export</span> const kmlTestInfo:ILayerItem = {
    <span class="hljs-built_in">id</span>: LayerIdFlag.KML_TEST,
    name: <span class="hljs-string">"kmlTest"</span>,
    <span class="hljs-built_in">type</span>: <span class="hljs-string">"kml"</span>,
    url: <span class="hljs-string">"/testdata/gdpPerCapita2008.kmz"</span>,
    layer: <span class="hljs-string">"kmlTest"</span>
}
</code></pre>
<pre><code class="hljs language-dart" lang="dart">
            <span class="hljs-keyword">case</span> <span class="hljs-string">'kml'</span>:
                handle = <span class="hljs-keyword">await</span> Cesium.KmlDataSource.load(item.url!, {
                    clampToGround: <span class="hljs-keyword">true</span>,
                });
                (handle <span class="hljs-keyword">as</span> Cesium.KmlDataSource).<span class="hljs-keyword">show</span> = <span class="hljs-keyword">show</span>
                <span class="hljs-keyword">this</span>.viewer.dataSources.add(handle)
                <span class="hljs-keyword">this</span>.viewer.zoomTo(handle)
                <span class="hljs-keyword">break</span>
</code></pre>
<p>3ã€glbæ•°æ®é…ç½®ä¸åŠ è½½æ–¹å¼</p>
<pre><code class="hljs language-yaml" lang="yaml">
<span class="hljs-string">//glbæµ‹è¯•æ•°æ®</span>
<span class="hljs-string">export</span> <span class="hljs-string">const</span> <span class="hljs-string">glbTestInfo:ILayerItem</span> <span class="hljs-string">=</span> {
    <span class="hljs-attr">id:</span> <span class="hljs-string">LayerIdFlag.GLB_TEST</span>,
    <span class="hljs-attr">name:</span> <span class="hljs-string">"glbTest"</span>,
    <span class="hljs-attr">type:</span> <span class="hljs-string">"glb"</span>,
    <span class="hljs-attr">url:</span> <span class="hljs-string">"/testdata/CesiumMilkTruck.glb"</span>,
    <span class="hljs-attr">layer:</span> <span class="hljs-string">"glbTest"</span>,
    <span class="hljs-attr">scale:</span> <span class="hljs-number">5</span>,
    <span class="hljs-attr">lon:</span> <span class="hljs-number">114.314521</span>,
    <span class="hljs-attr">lat:</span> <span class="hljs-number">22.543062</span>,
    <span class="hljs-attr">height:</span> <span class="hljs-number">0</span>,
    <span class="hljs-string">heading:45</span>,
    <span class="hljs-attr">pitch:</span> <span class="hljs-number">0</span>,
    <span class="hljs-attr">roll:</span> <span class="hljs-number">0</span>   
}
</code></pre>
<pre><code class="hljs language-ini" lang="ini">
            case 'glb':
                let <span class="hljs-attr">position</span> = Cesium.Cartesian3.fromDegrees(item.lon, item.lat, item.height || <span class="hljs-number">0</span>)<span class="hljs-comment">;</span>
                // è®¾ç½®æ¨¡å‹æ–¹å‘
                let <span class="hljs-attr">hpRoll</span> = new Cesium.HeadingPitchRoll(Cesium.Math.toRadians(item.heading || <span class="hljs-number">45</span>), Cesium.Math.toRadians(item.pitch || <span class="hljs-number">0</span>), Cesium.Math.toRadians(item.roll || <span class="hljs-number">0</span>))<span class="hljs-comment">;</span>
                // ç”Ÿæˆä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°ä»ä»¥æä¾›çš„åŸç‚¹ä¸ºä¸­å¿ƒçš„å‚è€ƒå¸§åˆ°æä¾›çš„æ¤­åœ†ä½“çš„å›ºå®šå‚è€ƒå¸§è®¡ç®—4x4å˜æ¢çŸ©é˜µã€‚
                let <span class="hljs-attr">fixedFrame</span> = Cesium.Transforms.localFrameToFixedFrameGenerator(<span class="hljs-string">'north'</span>, <span class="hljs-string">'west'</span>)<span class="hljs-comment">;</span>
                <span class="hljs-attr">handle</span> = await Cesium.Model.fromGltfAsync({
                    url: item.url!,
                    modelMatrix: Cesium.Transforms.headingPitchRollToFixedFrame(position, hpRoll, Cesium.Ellipsoid.WGS84, fixedFrame),
                    scale: item.scale || 1,
                })<span class="hljs-comment">;</span>
                <span class="hljs-attr">handle.show</span> = show<span class="hljs-comment">;</span>
                this.viewer.scene.primitives.add(handle)
                this.viewer.camera.flyTo({
                    destination: Cesium.Cartesian3.fromDegrees(item.lon, item.lat, 100),
                    duration: 2
                })
                break<span class="hljs-comment">;</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/842198e367ec427cbbc4956a8d0e313f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2lzQ29kZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764054967&amp;x-signature=DbB%2FAkeffqnQYOzKGBeWF3QmP0A%3D" alt="" loading="lazy"/></p>
<p>4ã€3dtilesé…ç½®ä¸åŠ è½½æ–¹å¼ã€‚ç”±äºæœ¬ç¤ºä¾‹ä¸­çš„3dtiles æ•°æ®é«˜åº¦è¾ƒä½ï¼Œè¿™é‡Œéœ€è¦å°†å…¶é«˜åº¦æå‡äº†500ç±³ã€‚åç»­ä¼šå‡ºä¸€ä¸ªåŠ¨æ€è°ƒæ•´3dtilesä½ç½®çš„ç« èŠ‚ï¼Œæ•¬è¯·æœŸå¾…ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">
<span class="hljs-comment">//3dtileæµ‹è¯•æ•°æ®</span>
<span class="hljs-keyword">export</span> <span class="hljs-type">const</span> model3dtilesTestInfo:ILayerItem = {
    id: LayerIdFlag.MODEL_3DTILES_TEST,
    name: <span class="hljs-string">"model3dtilesTest"</span>,
    type: <span class="hljs-string">"3dtiles"</span>,
    url: <span class="hljs-string">"/testdata/dayanta/tileset.json"</span>,
    layer: <span class="hljs-string">"model3dtilesTest"</span>
}
</code></pre>
<pre><code class="hljs language-ini" lang="ini">
 case '3dtiles':
                <span class="hljs-attr">handle</span> = await Cesium.Cesium3DTileset.fromUrl(item.url!)<span class="hljs-comment">;                </span>
                (handle as Cesium.Cesium3DTileset).<span class="hljs-attr">show</span> = show<span class="hljs-comment">;</span>
                this.viewer.scene.primitives.add(handle)
                this.viewer.zoomTo(handle, new Cesium.HeadingPitchRange(0.0, -0.3, 0.0))
               
                let <span class="hljs-attr">cartographic</span> = Cesium.Cartographic.fromCartesian(
                    handle.boundingSphere.center
                )<span class="hljs-comment">;</span>
                let <span class="hljs-attr">surface</span> = Cesium.Cartesian3.fromRadians(
                    cartographic.longitude,
                    cartographic.latitude,
                    0.0
                )<span class="hljs-comment">;</span>
                let <span class="hljs-attr">offset</span> = Cesium.Cartesian3.fromRadians(
                    cartographic.longitude,
                    cartographic.latitude,
                    500.0
                )<span class="hljs-comment">;</span>
                let <span class="hljs-attr">translation</span> = Cesium.Cartesian3.subtract(
                    offset,
                    surface,
                    new Cesium.Cartesian3()
                )<span class="hljs-comment">;</span>
                <span class="hljs-attr">handle.modelMatrix</span> = Cesium.Matrix4.fromTranslation(translation)<span class="hljs-comment">;</span>
                break
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed9282b311254e33aea1f56e13e8d592~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2lzQ29kZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764054967&amp;x-signature=a7nUbeJf1bUltbdqcfk7HvbVjq4%3D" alt="" loading="lazy"/></p>
<p>5ã€czmlæ•°æ®é…ç½®ä¸åŠ è½½æ–¹å¼</p>
<pre><code class="hljs language-bash" lang="bash">
<span class="hljs-built_in">export</span> const czmlTestInfo:ILayerItem = {
    <span class="hljs-built_in">id</span>: LayerIdFlag.CZML_TEST,
    name: <span class="hljs-string">"czmlTest"</span>,
    <span class="hljs-built_in">type</span>: <span class="hljs-string">"czml"</span>,
    url: <span class="hljs-string">"/testdata/simple.czml"</span>,
    layer: <span class="hljs-string">"czmlTest"</span>
}
</code></pre>
<pre><code class="hljs language-dart" lang="dart">
          <span class="hljs-keyword">case</span> <span class="hljs-string">'czml'</span>:
                handle = <span class="hljs-keyword">await</span> Cesium.CzmlDataSource.load(item.url!);
                (handle <span class="hljs-keyword">as</span> Cesium.CzmlDataSource).<span class="hljs-keyword">show</span> = <span class="hljs-keyword">show</span>
                <span class="hljs-keyword">this</span>.viewer.dataSources.add(handle)
                 <span class="hljs-keyword">this</span>.viewer.zoomTo(handle)
                <span class="hljs-keyword">break</span>
</code></pre>
<p><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5440b5268bf849a893f470ffb8fd515e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2lzQ29kZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764054967&amp;x-signature=mkVZ2eiWJn1l%2BWtLW8XoErSP9XE%3D" alt="" loading="lazy"/></p>
<p>6ã€æ•°æ®åˆ é™¤ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp">    Remove(id: <span class="hljs-built_in">string</span>): <span class="hljs-keyword">void</span> {
        <span class="hljs-keyword">const</span> item = <span class="hljs-keyword">this</span>.layersIdMap.<span class="hljs-keyword">get</span>(id)
        <span class="hljs-keyword">if</span> (!item) <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">const</span> { type, handle } = item;
        <span class="hljs-keyword">switch</span> (type) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">'imagery_wms'</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'imagery_wmts'</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'imagery_xyz'</span>:
                <span class="hljs-keyword">this</span>.viewer.imageryLayers.<span class="hljs-keyword">remove</span>(handle)
                <span class="hljs-keyword">break</span>
            <span class="hljs-keyword">case</span> <span class="hljs-string">'terrain'</span>:
                <span class="hljs-comment">// å›åˆ°é»˜è®¤æ¤­çƒ</span>
                <span class="hljs-keyword">this</span>.viewer.terrainProvider = <span class="hljs-keyword">new</span> Cesium.EllipsoidTerrainProvider()
                <span class="hljs-keyword">break</span>
            <span class="hljs-keyword">case</span> <span class="hljs-string">'geojson'</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'kml'</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'czml'</span>:
                <span class="hljs-keyword">this</span>.viewer.dataSources.<span class="hljs-keyword">remove</span>(handle)
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'3dtiles'</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'glb'</span>:
                <span class="hljs-keyword">this</span>.viewer.scene.primitives.<span class="hljs-keyword">remove</span>(handle)
                <span class="hljs-keyword">break</span>;
        }
        <span class="hljs-keyword">this</span>.layersIdMap.delete(id);
    }
</code></pre>
<p>7ã€å‰ç«¯å®ç°ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"custom-data-container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"custom-data-title"</span>&gt;</span> è‡ªå®šä¹‰æ•°æ® <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"text-align: left;"</span>&gt;</span>
           
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"data-items"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>å›¾å±‚ä¿¡æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">el-checkbox</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"geojsonChecked"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"geojson"</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span> @<span class="hljs-attr">change</span>=<span class="hljs-string">"changeGeojson"</span>/&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">el-checkbox</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"kmlChecked"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"KML"</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span> @<span class="hljs-attr">change</span>=<span class="hljs-string">"changeKml"</span>/&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">el-checkbox</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"glbChecked"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"glb"</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span> @<span class="hljs-attr">change</span>=<span class="hljs-string">"changeGlb"</span>/&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">el-checkbox</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"model3dtilesChecked"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"3dtiles"</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span> @<span class="hljs-attr">change</span>=<span class="hljs-string">"changeModel3dtiles"</span>/&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">el-checkbox</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"czmlChecked"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"czml"</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span> @<span class="hljs-attr">change</span>=<span class="hljs-string">"changeCzml"</span>/&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { czmlTestInfo, geojsonTestInfo, glbTestInfo, kmlTestInfo, <span class="hljs-title class_">LayerIdFlag</span>, model3dtilesTestInfo } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/system/LayerManager/LayerConfig'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">LayerManager</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/system/LayerManager/LayerManager'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">CesiumViewer</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/Viewer/CesiumViewer'</span>
<span class="hljs-keyword">const</span> viewer = <span class="hljs-title class_">CesiumViewer</span>.<span class="hljs-property">viewer</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">mLayerManager</span>: <span class="hljs-title class_">LayerManager</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>
<span class="hljs-keyword">const</span> geojsonChecked = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)
<span class="hljs-keyword">const</span> kmlChecked = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)
<span class="hljs-keyword">const</span> glbChecked = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)
<span class="hljs-keyword">const</span> model3dtilesChecked = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)
<span class="hljs-keyword">const</span> czmlChecked = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)
<span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
    mLayerManager = <span class="hljs-title class_">LayerManager</span>.<span class="hljs-title function_">getInstance</span>(viewer!)
})
<span class="hljs-keyword">const</span> <span class="hljs-title function_">changeGeojson</span> = (<span class="hljs-params">val: string | number | boolean</span>) =&gt; {
  <span class="hljs-keyword">if</span> (val) {
    <span class="hljs-comment">// åŠ è½½geojsonå›¾å±‚</span>
    mLayerManager?.<span class="hljs-title class_">Add</span>(geojsonTestInfo)
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// ç§»é™¤geojsonå›¾å±‚</span>
    mLayerManager?.<span class="hljs-title class_">Remove</span>(<span class="hljs-title class_">LayerIdFlag</span>.<span class="hljs-property">GEOMSON_TEST</span>)
  }
}
<span class="hljs-keyword">const</span> <span class="hljs-title function_">changeKml</span> = (<span class="hljs-params">val: string | number | boolean</span>) =&gt; {
  <span class="hljs-keyword">if</span> (val) {
    <span class="hljs-comment">// åŠ è½½kmlå›¾å±‚</span>
    mLayerManager?.<span class="hljs-title class_">Add</span>(kmlTestInfo)
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// ç§»é™¤kmlå›¾å±‚</span>
    mLayerManager?.<span class="hljs-title class_">Remove</span>(<span class="hljs-title class_">LayerIdFlag</span>.<span class="hljs-property">KML_TEST</span>)
  }
}
<span class="hljs-keyword">const</span> <span class="hljs-title function_">changeGlb</span> = (<span class="hljs-params">val: string | number | boolean</span>) =&gt; {
  <span class="hljs-keyword">if</span> (val) {
    <span class="hljs-comment">// åŠ è½½glbå›¾å±‚</span>
    mLayerManager?.<span class="hljs-title class_">Add</span>(glbTestInfo)
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// ç§»é™¤glbå›¾å±‚</span>
    mLayerManager?.<span class="hljs-title class_">Remove</span>(<span class="hljs-title class_">LayerIdFlag</span>.<span class="hljs-property">GLB_TEST</span>)
  }
}
<span class="hljs-keyword">const</span> <span class="hljs-title function_">changeModel3dtiles</span> = (<span class="hljs-params">val: string | number | boolean</span>) =&gt; {
  <span class="hljs-keyword">if</span> (val) {
    <span class="hljs-comment">// åŠ è½½3dtileså›¾å±‚</span>
    mLayerManager?.<span class="hljs-title class_">Add</span>(model3dtilesTestInfo)
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// ç§»é™¤3dtileså›¾å±‚</span>
    mLayerManager?.<span class="hljs-title class_">Remove</span>(<span class="hljs-title class_">LayerIdFlag</span>.<span class="hljs-property">MODEL_3DTILES_TEST</span>)
  }
}
<span class="hljs-keyword">const</span> <span class="hljs-title function_">changeCzml</span> = (<span class="hljs-params">val: string | number | boolean</span>) =&gt; {
  <span class="hljs-keyword">if</span> (val) {
    <span class="hljs-comment">// åŠ è½½czmlå›¾å±‚</span>
    mLayerManager?.<span class="hljs-title class_">Add</span>(czmlTestInfo)
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// ç§»é™¤czmlå›¾å±‚</span>
    mLayerManager?.<span class="hljs-title class_">Remove</span>(<span class="hljs-title class_">LayerIdFlag</span>.<span class="hljs-property">CZML_TEST</span>)
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"scss"</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.custom-data-container</span> {
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;
    <span class="hljs-selector-class">.custom-data-title</span> {
        <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>;
        <span class="hljs-attribute">font-weight</span>: bold;
        <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">10px</span>;
    }
    
    <span class="hljs-selector-class">.data-items</span> {
        <span class="hljs-selector-class">.el-checkbox</span> {
            <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">20px</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">30px</span>;
        }
        :<span class="hljs-built_in">deep</span>(.el-checkbox__label) {
            <span class="hljs-attribute">color</span>: <span class="hljs-built_in">rgb</span>(<span class="hljs-number">206</span>, <span class="hljs-number">194</span>, <span class="hljs-number">194</span>);
        }
    }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<p><strong>æ›´å¤šä»£ç è¯·æŸ¥çœ‹åŸæ–‡</strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fh0bzCJwupHpDjwXXscH5hA" target="_blank" title="https://mp.weixin.qq.com/s/h0bzCJwupHpDjwXXscH5hA" ref="nofollow noopener noreferrer">Cesium+Vue3å­¦ä¹ ç³»åˆ—ï¼ˆ14ï¼‰---CesiumåŠ è½½ä¸åˆ é™¤geojsonã€kmlã€glbã€3dtilesã€czmlæ•°æ®</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ–‡è¯»æ‡‚-Jetpackä¸AndroidX]]></title>    <link>https://juejin.cn/post/7573617944518606848</link>    <guid>https://juejin.cn/post/7573617944518606848</guid>    <pubDate>2025-11-18T06:50:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573617944518606848" data-draft-id="7573670400153059380" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ–‡è¯»æ‡‚-Jetpackä¸AndroidX"/> <meta itemprop="keywords" content="Android,Android Jetpack,Kotlin"/> <meta itemprop="datePublished" content="2025-11-18T06:50:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ— çŸ¥çš„å‰ç«¯"/> <meta itemprop="url" content="https://juejin.cn/user/2410561882569933"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ–‡è¯»æ‡‚-Jetpackä¸AndroidX
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2410561882569933/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ— çŸ¥çš„å‰ç«¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T06:50:32.000Z" title="Tue Nov 18 2025 06:50:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">1. æ ¸å¿ƒæ¦‚å¿µï¼šä¸€å¥è¯æ¦‚æ‹¬</h3>
<ul>
<li><strong>Jetpack</strong>ï¼šÂ <strong>ä¸€å¥—ç»„ä»¶ã€å·¥å…·å’ŒæŒ‡å—çš„é›†åˆ</strong>ã€‚å®ƒçš„ç›®çš„æ˜¯å¸®åŠ©å¼€å‘è€…éµå¾ªæœ€ä½³å®è·µï¼Œå‡å°‘æ ·æ¿ä»£ç ï¼Œå¹¶è®©åº”ç”¨åœ¨å„ç§ Android ç‰ˆæœ¬å’Œè®¾å¤‡ä¸Šéƒ½èƒ½ä¸€è‡´åœ°å·¥ä½œã€‚</li>
<li><strong>AndroidX</strong>ï¼šÂ <strong>Jetpack ç»„ä»¶çš„</strong>Â  <strong>â€œåŒ…è£…â€å’Œâ€œå‘½åç©ºé—´â€</strong> ã€‚å®ƒæ˜¯ Android æ”¯æŒåº“çš„é‡æ–°è®¾è®¡å’Œæ›¿ä»£å“ï¼Œæ‰€æœ‰ Jetpack ç»„ä»¶éƒ½å­˜æ”¾åœ¨Â <code>androidx</code>Â è¿™ä¸ªå‘½åç©ºé—´ä¸‹ã€‚</li>
</ul>
<p>å¯ä»¥æŠŠå®ƒä»¬çš„å…³ç³»ç†è§£ä¸ºï¼š<br/>
<strong>Jetpack æ˜¯ä¸€ä¸ªâ€œå“ç‰Œâ€æˆ–â€œç”Ÿæ€â€ï¼Œè€Œ AndroidX æ˜¯è¿™ä¸ªå“ç‰Œä¸‹æ‰€æœ‰äº§å“çš„â€œåŒ…è£…è§„æ ¼â€å’Œâ€œå‡ºå‚æ ‡å‡†â€ã€‚</strong></p>
<hr/>
<h3 data-id="heading-1">2. è¯¦ç»†ä»‹ç»</h3>
<h4 data-id="heading-2">AndroidX</h4>
<p><strong>æ˜¯ä»€ä¹ˆï¼Ÿ</strong><br/>
AndroidX æ˜¯å¯¹åŸå§‹ Android æ”¯æŒåº“ï¼ˆAndroid Support Libraryï¼‰çš„é‡å¤§æ”¹è¿›å’Œæ›¿ä»£ã€‚åœ¨ AndroidX å‡ºç°ä¹‹å‰ï¼Œå¼€å‘è€…ä½¿ç”¨åƒÂ <code>com.android.support:appcompat-v7</code>Â è¿™æ ·çš„æ”¯æŒåº“ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ</strong></p>
<ol>
<li><strong>ç»Ÿä¸€çš„å‘½åç©ºé—´</strong>ï¼š æ—§çš„æ”¯æŒåº“åŒ…åæ··ä¹±ï¼ˆ<code>com.android.support.*</code>ï¼‰ï¼Œä¸ Android æ“ä½œç³»ç»Ÿæœ¬èº«çš„åŒ…åï¼ˆ<code>android.*</code>ï¼‰å®¹æ˜“æ··æ·†ã€‚AndroidX å°†æ‰€æœ‰åº“éƒ½è¿ç§»åˆ°æ¸…æ™°çš„Â <code>androidx.*</code>Â å‘½åç©ºé—´ä¸‹ã€‚</li>
<li><strong>ç‹¬ç«‹çš„ç‰ˆæœ¬æ§åˆ¶</strong>ï¼š AndroidX ä¸‹çš„æ¯ä¸ªåº“ï¼ˆå¦‚Â <code>androidx.appcompat</code>ï¼ŒÂ <code>androidx.lifecycle</code>ï¼‰éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„ç‰ˆæœ¬å·ï¼Œä¸å†ä¸ Android å¹³å°ç‰ˆæœ¬ç»‘å®šã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥å•ç‹¬æ›´æ–°æŸä¸ªåº“ï¼Œè€Œä¸å¿…ç­‰å¾…æ•´ä¸ªç³»ç»Ÿæ›´æ–°ã€‚</li>
<li><strong>æ›´å¥½çš„è¯­ä¹‰åŒ–ç‰ˆæœ¬</strong>ï¼š éµå¾ªä¸¥æ ¼çš„è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶ï¼Œè®©å¼€å‘è€…æ›´æ¸…æ¥šåœ°äº†è§£ç‰ˆæœ¬å‡çº§å¸¦æ¥çš„å˜åŒ–ã€‚</li>
<li><strong>æ›´å¥½çš„æ‰“åŒ…å’Œæ¨¡å—åŒ–</strong>ï¼š åº“è¢«æ‹†åˆ†å¾—æ›´ç»†ï¼Œä½ å¯ä»¥åªå¼•å…¥ä½ éœ€è¦çš„éƒ¨åˆ†ï¼Œå‡å°‘åº”ç”¨ä½“ç§¯ã€‚</li>
</ol>
<p><strong>æ€»ç»“ï¼šAndroidX æ˜¯ä¸€ä¸ªåŸºç¡€è®¾æ–½å±‚é¢çš„æ”¹è¿›ï¼Œä¸º Jetpack ç»„ä»¶æä¾›äº†ç»Ÿä¸€çš„â€œå®¶â€ã€‚</strong></p>
<h4 data-id="heading-3">Jetpack</h4>
<p><strong>æ˜¯ä»€ä¹ˆï¼Ÿ</strong><br/>
Jetpack æ˜¯ä¸€ä¸ªç”± Google ç²¾å¿ƒç­–åˆ’çš„ç»„ä»¶é›†åˆï¼Œæ—¨åœ¨åŠ é€Ÿ Android åº”ç”¨å¼€å‘ã€‚å®ƒä¸æ˜¯ä¸€ä¸ªå•ä¸€çš„åº“ï¼Œè€Œæ˜¯ä¸€ä¸ªâ€œå…¨å®¶æ¡¶â€ï¼Œæ¶µç›–äº†åº”ç”¨å¼€å‘çš„å„ä¸ªæ–¹é¢ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ</strong></p>
<ol>
<li><strong>éµå¾ªæœ€ä½³å®è·µ</strong>ï¼š Jetpack ç»„ä»¶å†…ç½®äº† Google æ¨èçš„æœ€ä½³æ¶æ„å’Œå®è·µï¼ˆå¦‚ MVVMï¼‰ï¼Œå¸®åŠ©å¼€å‘è€…æ„å»ºå¥å£®ã€å¯æµ‹è¯•å’Œå¯ç»´æŠ¤çš„åº”ç”¨ã€‚</li>
<li><strong>æ¶ˆé™¤æ ·æ¿ä»£ç </strong>ï¼š ä¾‹å¦‚ï¼Œ<code>ViewModel</code>Â å’ŒÂ <code>LiveData</code>Â å¯ä»¥å¸®ä½ ä»¥ç”Ÿå‘½å‘¨æœŸæ„ŸçŸ¥çš„æ–¹å¼ç®¡ç†ç•Œé¢ç›¸å…³çš„æ•°æ®ï¼Œæ— éœ€æ‰‹åŠ¨å¤„ç†ç”Ÿå‘½å‘¨æœŸå¸¦æ¥çš„å„ç§é—®é¢˜ã€‚</li>
<li><strong>ä¿è¯å‘åå…¼å®¹</strong>ï¼š Jetpack ç»„ä»¶é€šå¸¸ä¼šåœ¨æ—§ç‰ˆ Android ç³»ç»Ÿä¸Šæä¾›æ–°åŠŸèƒ½çš„å®ç°ï¼Œè®©ä½ èƒ½è½»æ¾ä½¿ç”¨æ–° APIï¼Œè€Œæ— éœ€æ‹…å¿ƒç³»ç»Ÿç‰ˆæœ¬ç¢ç‰‡åŒ–ã€‚</li>
<li><strong>ç®€åŒ–å¤æ‚ä»»åŠ¡</strong>ï¼š ä¾‹å¦‚ï¼Œä½¿ç”¨Â <code>Room</code>Â åº“æ“ä½œ SQLite æ•°æ®åº“ï¼Œä½¿ç”¨Â <code>WorkManager</code>Â ç®¡ç†åå°ä»»åŠ¡ï¼Œéƒ½æ¯”ä½¿ç”¨åŸç”Ÿ API ç®€å•å¾—å¤šã€‚</li>
</ol>
<p><strong>Jetpack çš„ç»„æˆéƒ¨åˆ†ï¼š</strong><br/>
Jetpack è¢«åˆ†ä¸ºå››ä¸ªå¤§ç±»ï¼š</p>
<ol>
<li>
<p><strong>æ¶æ„ç»„ä»¶ï¼ˆArchitectureï¼‰</strong> ï¼š æ„å»ºç¨³å¥ã€å¯æµ‹è¯•ã€å¯ç»´æŠ¤åº”ç”¨çš„æ ¸å¿ƒã€‚</p>
<ul>
<li><code>Data Binding</code>ï¼š ä»¥å£°æ˜æ–¹å¼å°†å¸ƒå±€ç•Œé¢ç»„ä»¶ç»‘å®šåˆ°åº”ç”¨ä¸­çš„æ•°æ®æºã€‚</li>
<li><code>Lifecycle</code>ï¼š ç®¡ç† Activity å’Œ Fragment çš„ç”Ÿå‘½å‘¨æœŸã€‚</li>
<li><code>LiveData</code>ï¼š åœ¨åº•å±‚æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶é€šçŸ¥è§†å›¾çš„å¯è§‚å¯Ÿæ•°æ®æŒæœ‰è€…ã€‚</li>
<li><code>ViewModel</code>ï¼š ä»¥æ³¨é‡ç”Ÿå‘½å‘¨æœŸçš„æ–¹å¼å­˜å‚¨å’Œç®¡ç†ç•Œé¢ç›¸å…³çš„æ•°æ®ã€‚</li>
<li><code>Room</code>ï¼š SQLite æ•°æ®åº“çš„æŠ½è±¡å±‚ï¼Œæä¾›ç¼–è¯‘æ—¶æ ¡éªŒå’Œä¾¿åˆ©çš„ APIã€‚</li>
<li><code>Navigation</code>ï¼š å¤„ç†åº”ç”¨å†…å¯¼èˆªã€‚</li>
<li><code>Paging</code>ï¼š é€æ­¥ä»æ•°æ®æºåŠ è½½ä¿¡æ¯ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç•Œé¢ç»„ä»¶ï¼ˆUIï¼‰</strong> ï¼š æä¾›å„ç§ç•Œé¢æ§ä»¶å’Œè¾…åŠ©å·¥å…·ã€‚</p>
<ul>
<li><code>Fragment</code>ï¼š æ¨¡å—åŒ–çš„ç•Œé¢ç»„ä»¶ã€‚</li>
<li><code>Layout</code>ï¼š ç”¨äºæ’åˆ—è§†å›¾çš„ XML å¸ƒå±€ã€‚</li>
<li><code>AppCompat</code>ï¼š è®©åº”ç”¨åœ¨æ–°ç‰ˆ Android ä¸Šä¹Ÿèƒ½æ‹¥æœ‰ Material Design å¤–è§‚ã€‚</li>
<li><code>Emoji</code>ï¼š ç¡®ä¿è®¾å¤‡åœ¨ç³»ç»Ÿæœªæ›´æ–°æ—¶ä¹Ÿèƒ½æ˜¾ç¤ºæœ€æ–°çš„ emojiã€‚</li>
<li><code>Transition</code>ï¼š å¤„ç†ç•Œé¢ä¹‹é—´çš„åŠ¨ç”»è¿‡æ¸¡ã€‚</li>
<li><code>Palette</code>ï¼š ä»å›¾ç‰‡ä¸­æå–æœ‰æ„ä¹‰çš„é¢œè‰²ã€‚</li>
</ul>
</li>
<li>
<p><strong>è¡Œä¸ºç»„ä»¶ï¼ˆBehaviorï¼‰</strong> ï¼š ä¸æ ‡å‡† Android æœåŠ¡é›†æˆã€‚</p>
<ul>
<li><code>Download Manager</code>ï¼š å¤„ç†é•¿æ—¶é—´è¿è¡Œçš„ HTTP æ–‡ä»¶ä¸‹è½½ã€‚</li>
<li><code>Media &amp; Playback</code>ï¼š ç”¨äºåª’ä½“æ’­æ”¾å’Œè·¯ç”±ï¼ˆå‘åå…¼å®¹ï¼‰ã€‚</li>
<li><code>Notifications</code>ï¼š æä¾›å‘åå…¼å®¹çš„é€šçŸ¥ APIã€‚</li>
<li><code>Permissions</code>ï¼š ç”¨äºæ£€æŸ¥å’Œè¯·æ±‚åº”ç”¨æƒé™ã€‚</li>
<li><code>Sharing</code>ï¼š æä¾›å…±äº«æ“ä½œï¼ˆå¦‚Â <code>ShareActionProvider</code>ï¼‰ã€‚</li>
<li><code>Slices</code>ï¼š åœ¨ Google æœç´¢ç­‰åœ°æ–¹å±•ç¤ºåº”ç”¨çš„äº¤äº’å¼å†…å®¹ã€‚</li>
</ul>
</li>
<li>
<p><strong>åŸºç¡€ç»„ä»¶ï¼ˆFoundationï¼‰</strong> ï¼š æä¾›æ¨ªå‘åŠŸèƒ½ï¼Œå¦‚å‘åå…¼å®¹ã€æµ‹è¯•å’Œ Kotlin è¯­è¨€æ”¯æŒã€‚</p>
<ul>
<li><code>AppCompat</code>ï¼š ä¸ºæ—§ç‰ˆ Android æä¾› Material Design çš„å®ç°ã€‚</li>
<li><code>Android KTX</code>ï¼š æä¾›äº†ä¸€ç³»åˆ— Kotlin æ‰©å±•å‡½æ•°ï¼Œè®©ä»£ç æ›´ç®€æ´ã€æ›´åœ°é“ã€‚</li>
<li><code>Multidex</code>ï¼š ä¸ºæ–¹æ³•æ•°è¶…è¿‡ 64K çš„åº”ç”¨æä¾›æ”¯æŒã€‚</li>
<li><code>Test</code>ï¼š ç”¨äºè¿›è¡Œå•å…ƒæµ‹è¯•å’Œä»ªå™¨æµ‹è¯•çš„æ¡†æ¶ã€‚</li>
</ul>
</li>
</ol>
<hr/>
<h3 data-id="heading-4">3. åŒºåˆ«ä¸è”ç³»</h3>






























<table><thead><tr><th>ç‰¹æ€§</th><th>Jetpack</th><th>AndroidX</th></tr></thead><tbody><tr><td><strong>å®šä¹‰</strong></td><td><strong>ä¸€å¥—ç»„ä»¶ã€å·¥å…·å’ŒæŒ‡å—çš„é›†åˆ</strong>ï¼ˆä¸€ä¸ªâ€œç”Ÿæ€â€æˆ–â€œå“ç‰Œâ€ï¼‰ã€‚</td><td><strong>Jetpack ç»„ä»¶çš„å®˜æ–¹å‘½åç©ºé—´å’ŒåŒ…ç»“æ„</strong>ï¼ˆä¸€ä¸ªâ€œåŒ…è£…æ ‡å‡†â€ï¼‰ã€‚</td></tr><tr><td><strong>èŒƒå›´</strong></td><td>å¹¿æ³›ï¼ŒåŒ…å«æ¶æ„ã€UIã€è¡Œä¸ºã€åŸºç¡€ç­‰è¶…è¿‡ 100 ä¸ªåº“ã€‚</td><td>å…·ä½“ï¼Œæ˜¯æ‰€æœ‰ Jetpack åº“çš„åŒ…åå‰ç¼€ã€‚</td></tr><tr><td><strong>å…³ç³»</strong></td><td><strong>å†…å®¹</strong>ã€‚Jetpack å®šä¹‰äº†â€œæœ‰ä»€ä¹ˆåº“â€å’Œâ€œè¿™äº›åº“èƒ½åšä»€ä¹ˆâ€ã€‚</td><td><strong>å½¢å¼</strong>ã€‚AndroidX å®šä¹‰äº†â€œè¿™äº›åº“å«ä»€ä¹ˆâ€å’Œâ€œå¦‚ä½•è¢«å¼•å…¥é¡¹ç›®â€ã€‚</td></tr><tr><td><strong>ç±»æ¯”</strong></td><td>å¦‚åŒÂ  <strong>â€œå®œå®¶å®¶å±…â€</strong> Â è¿™ä¸ªå“ç‰Œï¼Œå®ƒæä¾›å§å®¤ã€å¨æˆ¿ã€å®¢å…ç­‰å„ç§ç³»åˆ—çš„å®¶å…·ã€‚</td><td>å¦‚åŒå®œå®¶æ‰€æœ‰äº§å“éƒ½éµå¾ªçš„Â  <strong>â€œå¹³æ¿åŒ…è£…â€å’Œâ€œAllen Key ç»„è£…â€</strong> Â æ ‡å‡†ã€‚</td></tr></tbody></table>
<p><strong>æ ¸å¿ƒè”ç³»ï¼š</strong><br/>
<strong>æ‰€æœ‰ Jetpack ç»„ä»¶éƒ½ä½¿ç”¨ AndroidX å‘½åç©ºé—´ã€‚</strong> Â å½“ä½ ä½¿ç”¨ Jetpack æ—¶ï¼Œä½ å®é™…ä¸Šæ˜¯åœ¨ä½¿ç”¨Â <code>androidx.*</code>Â åŒ…ä¸‹çš„åº“ã€‚</p>
<hr/>
<h3 data-id="heading-5">4. ç”¨æ³•ç¤ºä¾‹</h3>
<h4 data-id="heading-6">1. åœ¨é¡¹ç›®ä¸­é…ç½®</h4>
<p>é¦–å…ˆï¼Œåœ¨ä½ çš„é¡¹ç›®çš„Â <code>build.gradle</code>Â æ–‡ä»¶ä¸­ï¼Œç¡®ä¿å·²ç»é…ç½®äº† AndroidXï¼š</p>
<p>gradle</p>
<pre><code class="hljs language-ini" lang="ini">// åœ¨ gradle.properties æ–‡ä»¶ä¸­ï¼ˆå¦‚æœæ²¡æœ‰åˆ™æ·»åŠ ï¼‰
<span class="hljs-attr">android.useAndroidX</span>=<span class="hljs-literal">true</span>
<span class="hljs-attr">android.enableJetifier</span>=<span class="hljs-literal">true</span> // è¿™ä¸ªæ ‡å¿—è¡¨ç¤ºè‡ªåŠ¨è¿ç§»æ—§çš„ä¾èµ–åˆ° AndroidX
</code></pre>
<h4 data-id="heading-7">2. æ·»åŠ ä¾èµ–</h4>
<p>ç„¶åï¼Œåœ¨ä½ çš„ App æ¨¡å—çš„Â <code>build.gradle</code>Â æ–‡ä»¶ä¸­ï¼Œæ·»åŠ ä½ éœ€è¦çš„ Jetpack ç»„ä»¶ï¼ˆå³ AndroidX åº“ï¼‰ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼šä½¿ç”¨ ViewModel å’Œ LiveDataï¼ˆæ¶æ„ç»„ä»¶ï¼‰</strong></p>
<p>gradle</p>
<pre><code class="hljs language-kotlin" lang="kotlin">dependencies {
    def lifecycle_version = <span class="hljs-string">"2.6.2"</span>

    <span class="hljs-comment">// ViewModel</span>
    implementation <span class="hljs-string">"androidx.lifecycle:lifecycle-viewmodel-ktx:<span class="hljs-variable">$lifecycle_version</span>"</span>
    <span class="hljs-comment">// LiveData</span>
    implementation <span class="hljs-string">"androidx.lifecycle:lifecycle-livedata-ktx:<span class="hljs-variable">$lifecycle_version</span>"</span>
    <span class="hljs-comment">// å¯é€‰ - ç”Ÿå‘½å‘¨æœŸæ„ŸçŸ¥ç»„ä»¶ï¼Œå¦‚é»˜è®¤çš„ LifecycleObserver</span>
    implementation <span class="hljs-string">"androidx.lifecycle:lifecycle-common-java8:<span class="hljs-variable">$lifecycle_version</span>"</span>
}
</code></pre>
<p><strong>åœ¨ä»£ç ä¸­ä½¿ç”¨ï¼š</strong></p>
<p>kotlin</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// MainActivity.kt</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> : <span class="hljs-type">AppCompatActivity</span>() {
    <span class="hljs-comment">// é€šè¿‡ ViewModelProvider è·å– ViewModel å®ä¾‹</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> viewModel: MainViewModel <span class="hljs-keyword">by</span> viewModels()

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        <span class="hljs-comment">// è§‚å¯Ÿ LiveDataï¼Œå½“æ•°æ®å˜åŒ–æ—¶è‡ªåŠ¨æ›´æ–° UI</span>
        viewModel.myData.observe(<span class="hljs-keyword">this</span>) { <span class="hljs-keyword">data</span> -&gt;
            <span class="hljs-comment">// æ›´æ–° TextView æˆ–å…¶ä»– UI ç»„ä»¶</span>
            textView.text = <span class="hljs-keyword">data</span>
        }
    }
}

<span class="hljs-comment">// MainViewModel.kt</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MainViewModel</span> : <span class="hljs-type">ViewModel</span>() {
    <span class="hljs-comment">// ä½¿ç”¨ MutableLiveData æ¥æŒæœ‰å¯ä»¥è¢«æ”¹å˜çš„æ•°æ®</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> _myData = MutableLiveData&lt;String&gt;()
    <span class="hljs-comment">// å¯¹å¤–æš´éœ²ä¸å¯å˜çš„ LiveDataï¼Œé˜²æ­¢å¤–éƒ¨ä¿®æ”¹</span>
    <span class="hljs-keyword">val</span> myData: LiveData&lt;String&gt; = _myData

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">updateData</span><span class="hljs-params">(newData: <span class="hljs-type">String</span>)</span></span> {
        _myData.value = newData
    }
}
</code></pre>
<p><strong>ç¤ºä¾‹ 2ï¼šä½¿ç”¨ Roomï¼ˆæ¶æ„ç»„ä»¶ï¼‰</strong></p>
<p>gradle</p>
<pre><code class="hljs language-kotlin" lang="kotlin">dependencies {
    def room_version = <span class="hljs-string">"2.5.2"</span>

    implementation <span class="hljs-string">"androidx.room:room-runtime:<span class="hljs-variable">$room_version</span>"</span>
    kapt <span class="hljs-string">"androidx.room:room-compiler:<span class="hljs-variable">$room_version</span>"</span> <span class="hljs-comment">// å¯¹äº Kotlinï¼Œä½¿ç”¨ kaptã€‚Java ç”¨ annotationProcessor</span>
    <span class="hljs-comment">// å¯é€‰ - Kotlin æ‰©å±•å’Œåç¨‹æ”¯æŒ</span>
    implementation <span class="hljs-string">"androidx.room:room-ktx:<span class="hljs-variable">$room_version</span>"</span>
}
</code></pre>
<p><strong>åœ¨ä»£ç ä¸­ä½¿ç”¨ï¼š</strong></p>
<p>kotlin</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// 1. å®šä¹‰æ•°æ®å®ä½“ï¼ˆEntityï¼‰</span>
<span class="hljs-variable">@Entity</span>
data class <span class="hljs-built_in">User</span>(
    <span class="hljs-variable">@PrimaryKey</span> val <span class="hljs-attribute">uid</span>: Int,
    <span class="hljs-variable">@ColumnInfo</span>(name = <span class="hljs-string">"first_name"</span>) val <span class="hljs-attribute">firstName</span>: String?,
    <span class="hljs-variable">@ColumnInfo</span>(name = <span class="hljs-string">"last_name"</span>) val <span class="hljs-attribute">lastName</span>: String?
)

<span class="hljs-comment">// 2. å®šä¹‰æ•°æ®è®¿é—®å¯¹è±¡ï¼ˆDAOï¼‰</span>
<span class="hljs-variable">@Dao</span>
interface UserDao {
    <span class="hljs-variable">@Query</span>(<span class="hljs-string">"SELECT * FROM user"</span>)
    fun <span class="hljs-built_in">getAll</span>(): List&lt;User&gt;

    <span class="hljs-variable">@Insert</span>
    fun <span class="hljs-built_in">insertAll</span>(vararg <span class="hljs-attribute">users</span>: User)
}

<span class="hljs-comment">// 3. å®šä¹‰æ•°æ®åº“ï¼ˆDatabaseï¼‰</span>
<span class="hljs-variable">@Database</span>(entities = [<span class="hljs-attribute">User</span>::class], version = <span class="hljs-number">1</span>)
abstract class <span class="hljs-attribute">AppDatabase </span>: <span class="hljs-built_in">RoomDatabase</span>() {
    <span class="hljs-selector-tag">abstract</span> <span class="hljs-selector-tag">fun</span> <span class="hljs-selector-tag">userDao</span>(): <span class="hljs-selector-tag">UserDao</span>
}

<span class="hljs-comment">// åœ¨ Activity æˆ– Application ä¸­åˆ›å»ºæ•°æ®åº“å®ä¾‹</span>
<span class="hljs-selector-tag">val</span> <span class="hljs-selector-tag">db</span> = <span class="hljs-selector-tag">Room</span><span class="hljs-selector-class">.databaseBuilder</span>(
    applicationContext,
    <span class="hljs-attribute">AppDatabase</span>::class.java, <span class="hljs-string">"database-name"</span>
)<span class="hljs-selector-class">.build</span>()

<span class="hljs-comment">// ä½¿ç”¨ DAO</span>
<span class="hljs-selector-tag">val</span> <span class="hljs-selector-tag">users</span> = <span class="hljs-selector-tag">db</span><span class="hljs-selector-class">.userDao</span>()<span class="hljs-selector-class">.getAll</span>()
</code></pre>
<hr/>
<h3 data-id="heading-8">æ€»ç»“</h3>
<ul>
<li><strong>AndroidX</strong>Â æ˜¯<strong>åŸºç¡€è®¾æ–½</strong>ï¼Œæ˜¯æ‰€æœ‰ç°ä»£ Android æ”¯æŒåº“çš„<strong>æ–°å®¶ï¼ˆ<code>androidx.*</code>Â åŒ…åï¼‰</strong> ã€‚</li>
<li><strong>Jetpack</strong>Â æ˜¯å»ºç«‹åœ¨ AndroidX ä¹‹ä¸Šçš„<strong>ä¸€å¥—å¼ºå¤§çš„å¼€å‘å·¥å…·é›†</strong>ï¼Œå®ƒæä¾›äº†æ„å»ºä¼˜ç§€åº”ç”¨æ‰€éœ€çš„å„ç§ç»„ä»¶å’Œæ¶æ„æŒ‡å¯¼ã€‚</li>
</ul>
<p>å¯¹äºå¼€å‘è€…æ¥è¯´ï¼Œ<strong>ä½ ä¸éœ€è¦åœ¨â€œä½¿ç”¨ AndroidXâ€å’Œâ€œä½¿ç”¨ Jetpackâ€ä¹‹é—´åšé€‰æ‹©</strong>ã€‚å½“ä½ å¼€å§‹ä¸€ä¸ªæ–°é¡¹ç›®æ—¶ï¼ŒAndroid Studio é»˜è®¤ä¼šä½¿ç”¨ AndroidXã€‚è€Œå½“ä½ å¼•å…¥ä»»ä½•ä¸€ä¸ªÂ <code>androidx.*</code>Â åŒ…ä¸‹çš„åº“æ—¶ï¼Œä½ å°±åœ¨ä½¿ç”¨ Jetpackã€‚å®ƒä»¬æ˜¯ç°ä»£ Android å¼€å‘çš„åŸºçŸ³ï¼Œå¼ºçƒˆå»ºè®®æ‰€æœ‰æ–°é¡¹ç›®éƒ½åŸºäºå®ƒä»¬è¿›è¡Œå¼€å‘ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Playwright MCPç©è½¬æµè§ˆå™¨è‡ªåŠ¨åŒ–]]></title>    <link>https://juejin.cn/post/7573687816430862346</link>    <guid>https://juejin.cn/post/7573687816430862346</guid>    <pubDate>2025-11-18T07:25:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573687816430862346" data-draft-id="7573669819028635658" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Playwright MCPç©è½¬æµè§ˆå™¨è‡ªåŠ¨åŒ–"/> <meta itemprop="keywords" content="MCP"/> <meta itemprop="datePublished" content="2025-11-18T07:25:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è€å…‹èŠAI"/> <meta itemprop="url" content="https://juejin.cn/user/2596366815072922"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Playwright MCPç©è½¬æµè§ˆå™¨è‡ªåŠ¨åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2596366815072922/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è€å…‹èŠAI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T07:25:56.000Z" title="Tue Nov 18 2025 07:25:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œåˆ†äº«çŸ¥è¯†ï¼Œä¹˜é£è€Œè¡Œï¼Œæˆ‘æ˜¯è€å…‹ã€‚ä»Šå¤©ä¸ºå¤§å®¶åˆ†äº«ä¸€æ¬¾MCPåº”ç”¨ï¼ŒPlaywright MCPã€‚é€šè¿‡è¿™ä¸ªMCPï¼Œä½ å¯ä»¥è®©Claudeç›´æ¥æ§åˆ¶æµè§ˆå™¨ï¼Œè‡ªåŠ¨å®Œæˆç½‘é¡µæ“ä½œã€æ•°æ®æŠ“å–ã€è¡¨å•å¡«å†™ç­‰ä»»åŠ¡ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘å°†æ‰‹æŠŠæ‰‹æ•™ä½ å¦‚ä½•å®‰è£…é…ç½®ï¼Œå¹¶é€šè¿‡ä¸¤ä¸ªå®æˆ˜æ¡ˆä¾‹å±•ç¤ºå®ƒçš„å¼ºå¤§åŠŸèƒ½ã€‚</p>
<h3 data-id="heading-0">Playwright MCPä¸‹è½½å®‰è£…</h3>
<h4 data-id="heading-1">ç¯å¢ƒå‡†å¤‡</h4>
<p>windows 11æ“ä½œç³»ç»Ÿéœ€è¦å®‰è£…nodejsï¼Œæˆ‘å·²ç»å®‰è£…äº†ç‰ˆæœ¬æ˜¯22.21.1ã€‚</p>
<h4 data-id="heading-2">å®‰è£…Playwright</h4>
<pre><code class="hljs">npm install -g playwright
</code></pre>
<p>é€šè¿‡Playwright å®‰è£…æµè§ˆå™¨</p>
<pre><code class="hljs">playwright install chromium
</code></pre>
<h4 data-id="heading-3">å®‰è£…Playwright MCP</h4>
<p>Playwright MCPçš„åœ¨githubä¸­çš„é¡¹ç›®åœ°å€ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fexecuteautomation%2Fmcp-playwright" target="_blank" title="https://github.com/executeautomation/mcp-playwright" ref="nofollow noopener noreferrer">github.com/executeautoâ€¦</a> é€šè¿‡smitheryå®‰è£…Playwright MCP</p>
<pre><code class="hljs language-sql" lang="sql">npx <span class="hljs-operator">-</span>y <span class="hljs-variable">@smithery</span><span class="hljs-operator">/</span>cli<span class="hljs-variable">@latest</span> install <span class="hljs-variable">@executeautomation</span><span class="hljs-operator">/</span>playwright<span class="hljs-operator">-</span>mcp<span class="hljs-operator">-</span>server <span class="hljs-comment">--client claude --key d46d0ada-0f5c-4392-b731-3304a101d362</span>
</code></pre>
<p>å®‰è£…å®Œæˆåæ‰“å¼€Claude Desktopå®¢æˆ·ç«¯ï¼Œåœ¨Settingsâ†’Developerä¸­å¯ä»¥çœ‹åˆ°å·²ç»å®‰è£…çš„Playwright MCPã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3318a6d721ad4ed0844cc760edf9d378~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ICB5YWL6IGKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055556&amp;x-signature=ZcE%2F9TnGESi8VRx3EEtTnd7Y9Gk%3D" alt="image.png" loading="lazy"/></p>
<p>æ³¨æ„ï¼šç”±äºplaywright-mcp-serverä¸­çš„å¯¹playwrightçš„æµè§ˆå™¨ä½ç½®ä½¿ç”¨çš„æ˜¯ç¡¬ç¼–ç ï¼Œplaywrightçš„æµè§ˆå™¨å¿…é¡»ä½¿ç”¨chromium-1179â€”â€”è¿™ä¸€ç‚¹å¯ä»¥æ”¹è¿›ä¸€ä¸‹ï¼Œå®‰è£…å®ŒæˆPlaywright MCPï¼Œéœ€è¦å¯¹Playwrightä¸­æµè§ˆå™¨æ–‡ä»¶å¤¹è¿›è¡Œä¿®æ”¹ï¼Œæ‰¾åˆ°å®‰è£…ç›®å½•ï¼šC:\Users\DELL\AppData\Local\ms-playwright\ï¼Œæµè§ˆå™¨æ–‡ä»¶å¤¹ä¿®æ”¹ä¸ºchromium-1179</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c62c03ace4da4c3180381e3993ff13c9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ICB5YWL6IGKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055556&amp;x-signature=KTx4stbF2%2BVaRTjjTSfZx3LJDsQ%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-4">å®æˆ˜ä¸€ï¼šç™¾åº¦çƒ­æœæŠ“å–</h3>
<p>æ¼”ç¤ºç›®æ ‡ï¼Œä½¿ç”¨ Playwright MCP è®¿é—®ç™¾åº¦ï¼Œè·å–å½“å¤©çš„çƒ­é—¨æœç´¢ä¿¡æ¯ã€‚</p>
<p><strong>1. å‘é€æŒ‡ä»¤ç»™ Claudeï¼š</strong></p>
<p><code>è¯·å¸®æˆ‘ä½¿ç”¨æµè§ˆå™¨è®¿é—®ç™¾åº¦ï¼ˆwww.baidu.comï¼‰ï¼Œ æ‰¾åˆ°ä»Šå¤©çš„çƒ­æœæ¦œå•ï¼Œå¹¶æ•´ç†æˆåˆ—è¡¨è¿”å›ç»™æˆ‘ã€‚</code></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/35677ca8f4a44d28b7f0f76e9332de05~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ICB5YWL6IGKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055556&amp;x-signature=DoKEKh5cz7y54ebLo1eU2JzSFo4%3D" alt="image.png" loading="lazy"/></p>
<p>Playwrightæ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®äº†ç™¾åº¦æµè§ˆå™¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b61ca71273943f5a19d3a5523490ffa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ICB5YWL6IGKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055556&amp;x-signature=vrKvywuQQ10irVhn67iISSiAyPg%3D" alt="image.png" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°è·å–æ•°æ®å’ŒåŸé¡µé¢ä¸­çš„å†…å®¹ä¸€è‡´ï¼Œèƒ½å¤Ÿå¾ˆå¥½çš„å®Œæˆæ•°æ®é‡‡é›†å·¥ä½œã€‚</p>
<hr/>
<h3 data-id="heading-5">å®æˆ˜æ¼”ç¤ºäºŒï¼šå¤æ‚è¡¨å•å¡«æŠ¥</h3>
<h4 data-id="heading-6"><strong>å‡†å¤‡å·¥ä½œï¼šåˆ›å»ºæµ‹è¯•è¡¨å•</strong></h4>
<p>æˆ‘åœ¨æœ¬åœ°åˆ›å»ºäº†ä¸€ä¸ªviteçš„vueé¡¹ç›®ï¼Œå°†index.htmlæ›¿æ¢ä¸ºè¡¨å•</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å‘˜å·¥ä¿¡æ¯ç™»è®°è¡¨<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        <span class="hljs-selector-tag">body</span> { <span class="hljs-attribute">font-family</span>: Arial; <span class="hljs-attribute">max-width</span>: <span class="hljs-number">600px</span>; <span class="hljs-attribute">margin</span>: <span class="hljs-number">50px</span> auto; <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>; }
        <span class="hljs-selector-class">.form-group</span> { <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">15px</span>; }
        <span class="hljs-selector-tag">label</span> { <span class="hljs-attribute">display</span>: block; <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">5px</span>; <span class="hljs-attribute">font-weight</span>: bold; }
        <span class="hljs-selector-tag">input</span>, select, <span class="hljs-selector-tag">textarea</span> { <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>; <span class="hljs-attribute">padding</span>: <span class="hljs-number">8px</span>; <span class="hljs-attribute">box-sizing</span>: border-box; }
        <span class="hljs-selector-tag">button</span> { <span class="hljs-attribute">background</span>: <span class="hljs-number">#007bff</span>; <span class="hljs-attribute">color</span>: white; <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span> <span class="hljs-number">20px</span>; <span class="hljs-attribute">border</span>: none; <span class="hljs-attribute">cursor</span>: pointer; }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å‘˜å·¥ä¿¡æ¯ç™»è®°è¡¨<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"employeeForm"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>å§“å *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">required</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>æ€§åˆ« *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"gender"</span> <span class="hljs-attr">required</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span>&gt;</span>è¯·é€‰æ‹©<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"male"</span>&gt;</span>ç”·<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"female"</span>&gt;</span>å¥³<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>å‡ºç”Ÿæ—¥æœŸ *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"date"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"birthday"</span> <span class="hljs-attr">required</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>è”ç³»ç”µè¯ *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"tel"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"phone"</span> <span class="hljs-attr">required</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>ç”µå­é‚®ç®± *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">required</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>éƒ¨é—¨ *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"department"</span> <span class="hljs-attr">required</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span>&gt;</span>è¯·é€‰æ‹©éƒ¨é—¨<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"tech"</span>&gt;</span>æŠ€æœ¯éƒ¨<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"sales"</span>&gt;</span>é”€å”®éƒ¨<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"hr"</span>&gt;</span>äººåŠ›èµ„æºéƒ¨<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"finance"</span>&gt;</span>è´¢åŠ¡éƒ¨<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>èŒä½ *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"position"</span> <span class="hljs-attr">required</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>å…¥èŒæ—¥æœŸ *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"date"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hireDate"</span> <span class="hljs-attr">required</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>æ•™è‚²ç¨‹åº¦ *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"education"</span> <span class="hljs-attr">required</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span>&gt;</span>è¯·é€‰æ‹©<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"bachelor"</span>&gt;</span>æœ¬ç§‘<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"master"</span>&gt;</span>ç¡•å£«<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"phd"</span>&gt;</span>åšå£«<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"other"</span>&gt;</span>å…¶ä»–<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>æŠ€èƒ½ç‰¹é•¿<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"skills"</span> <span class="hljs-attr">rows</span>=<span class="hljs-string">"4"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·æè¿°æ‚¨çš„ä¸“ä¸šæŠ€èƒ½å’Œç‰¹é•¿"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"agreement"</span> <span class="hljs-attr">required</span>&gt;</span>
                æˆ‘å·²é˜…è¯»å¹¶åŒæ„å…¬å¸ç›¸å…³è§„å®š
            <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>æäº¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'employeeForm'</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'submit'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) {
            e.<span class="hljs-title function_">preventDefault</span>();
            <span class="hljs-title function_">alert</span>(<span class="hljs-string">'è¡¨å•æäº¤æˆåŠŸï¼'</span>);
        });
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p>å¯åŠ¨é¡¹ç›®ï¼Œé€šè¿‡<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A5173%2F%25E8%25AE%25BF%25E9%2597%25AE%25E8%25A1%25A8%25E5%258D%2595" target="_blank" title="http://localhost:5173/%E8%AE%BF%E9%97%AE%E8%A1%A8%E5%8D%95" ref="nofollow noopener noreferrer">http://localhost:5173/è®¿é—®è¡¨å•</a></p>
<h4 data-id="heading-7">æ¼”ç¤ºæ“ä½œ</h4>
<h5 data-id="heading-8">1.æ‰“å¼€è¡¨å•</h5>
<p>å‘Šè¯‰claude æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A5173%2F" target="_blank" title="http://localhost:5173/" ref="nofollow noopener noreferrer">http://localhost:5173/</a></p>
<h5 data-id="heading-9">2.å¡«å†™è¡¨å•å†…å®¹</h5>
<p>å‘Šè¯‰claudeï¼Œå¡«å†™è¡¨å•å†…å®¹ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">è¯·å¸®æˆ‘å¡«å†™è¿™ä¸ªå‘˜å·¥ç™»è®°è¡¨å•ï¼ˆfile:///path/to/complex-form.htmlï¼‰ï¼Œ
ä½¿ç”¨ä»¥ä¸‹ä¿¡æ¯ï¼š
<span class="hljs-deletion">- å§“åï¼šå¼ å°æ˜</span>
<span class="hljs-deletion">- æ€§åˆ«ï¼šç”·</span>
<span class="hljs-deletion">- å‡ºç”Ÿæ—¥æœŸï¼š1990-05-15</span>
<span class="hljs-deletion">- è”ç³»ç”µè¯ï¼š13800138000</span>
<span class="hljs-deletion">- ç”µå­é‚®ç®±ï¼šzhangxiaoming@example.com</span>
<span class="hljs-deletion">- éƒ¨é—¨ï¼šæŠ€æœ¯éƒ¨</span>
<span class="hljs-deletion">- èŒä½ï¼šé«˜çº§å·¥ç¨‹å¸ˆ</span>
<span class="hljs-deletion">- å…¥èŒæ—¥æœŸï¼š2024-01-15</span>
<span class="hljs-deletion">- æ•™è‚²ç¨‹åº¦ï¼šç¡•å£«</span>
<span class="hljs-deletion">- æŠ€èƒ½ç‰¹é•¿ï¼šç²¾é€šPythonã€JavaScriptï¼Œ5å¹´å…¨æ ˆå¼€å‘ç»éªŒ</span>

ç„¶åå‹¾é€‰åŒæ„æ¡æ¬¾ï¼Œå¹¶æäº¤è¡¨å•ã€‚
</code></pre>
<p>å¤§å®¶å¥½ï¼Œåˆ†äº«çŸ¥è¯†ï¼Œä¹˜é£è€Œè¡Œï¼Œæˆ‘æ˜¯è€å…‹ã€‚ä»Šå¤©ä¸ºå¤§å®¶åˆ†äº«ä¸€æ¬¾MCPåº”ç”¨ï¼ŒPlaywright MCPã€‚é€šè¿‡è¿™ä¸ªMCPï¼Œä½ å¯ä»¥è®©Claudeç›´æ¥æ§åˆ¶æµè§ˆå™¨ï¼Œè‡ªåŠ¨å®Œæˆç½‘é¡µæ“ä½œã€æ•°æ®æŠ“å–ã€è¡¨å•å¡«å†™ç­‰ä»»åŠ¡ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘å°†æ‰‹æŠŠæ‰‹æ•™ä½ å¦‚ä½•å®‰è£…é…ç½®ï¼Œå¹¶é€šè¿‡ä¸¤ä¸ªå®æˆ˜æ¡ˆä¾‹å±•ç¤ºå®ƒçš„å¼ºå¤§åŠŸèƒ½ã€‚</p>
<h3 data-id="heading-10">Playwright MCPä¸‹è½½å®‰è£…</h3>
<h4 data-id="heading-11">ç¯å¢ƒå‡†å¤‡</h4>
<p>windows 11æ“ä½œç³»ç»Ÿéœ€è¦å®‰è£…nodejsï¼Œæˆ‘å·²ç»å®‰è£…äº†ç‰ˆæœ¬æ˜¯22.21.1ã€‚</p>
<h4 data-id="heading-12">å®‰è£…Playwright</h4>
<pre><code class="hljs">npm install -g playwright
</code></pre>
<p>é€šè¿‡Playwright å®‰è£…æµè§ˆå™¨</p>
<pre><code class="hljs">playwright install chromium
</code></pre>
<h4 data-id="heading-13">å®‰è£…Playwright MCP</h4>
<p>Playwright MCPçš„åœ¨githubä¸­çš„é¡¹ç›®åœ°å€ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fexecuteautomation%2Fmcp-playwright" target="_blank" title="https://github.com/executeautomation/mcp-playwright" ref="nofollow noopener noreferrer">github.com/executeautoâ€¦</a> é€šè¿‡smitheryå®‰è£…Playwright MCP</p>
<pre><code class="hljs language-sql" lang="sql">npx <span class="hljs-operator">-</span>y <span class="hljs-variable">@smithery</span><span class="hljs-operator">/</span>cli<span class="hljs-variable">@latest</span> install <span class="hljs-variable">@executeautomation</span><span class="hljs-operator">/</span>playwright<span class="hljs-operator">-</span>mcp<span class="hljs-operator">-</span>server <span class="hljs-comment">--client claude --key d46d0ada-0f5c-4392-b731-3304a101d362</span>
</code></pre>
<p>å®‰è£…å®Œæˆåæ‰“å¼€Claude Desktopå®¢æˆ·ç«¯ï¼Œåœ¨Settingsâ†’Developerä¸­å¯ä»¥çœ‹åˆ°å·²ç»å®‰è£…çš„Playwright MCPã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9b0135e46fcf4b3489da269d12db8f06~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ICB5YWL6IGKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055556&amp;x-signature=VJrYXrZn%2FhhoR%2BTKByYpZuc6b2k%3D" alt="image.png" loading="lazy"/></p>
<p>æ³¨æ„ï¼šç”±äºplaywright-mcp-serverä¸­çš„å¯¹playwrightçš„æµè§ˆå™¨ä½ç½®ä½¿ç”¨çš„æ˜¯ç¡¬ç¼–ç ï¼Œplaywrightçš„æµè§ˆå™¨å¿…é¡»ä½¿ç”¨chromium-1179â€”â€”è¿™ä¸€ç‚¹å¯ä»¥æ”¹è¿›ä¸€ä¸‹ï¼Œå®‰è£…å®ŒæˆPlaywright MCPï¼Œéœ€è¦å¯¹Playwrightä¸­æµè§ˆå™¨æ–‡ä»¶å¤¹è¿›è¡Œä¿®æ”¹ï¼Œæ‰¾åˆ°å®‰è£…ç›®å½•ï¼šC:\Users\DELL\AppData\Local\ms-playwright\ï¼Œæµè§ˆå™¨æ–‡ä»¶å¤¹ä¿®æ”¹ä¸ºchromium-1179</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b298a180bc3040eaa67b6232caa41cf6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ICB5YWL6IGKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055556&amp;x-signature=teEOxz55dpuxEd5Hw2S%2B4CYU8HQ%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-14">å®æˆ˜ä¸€ï¼šç™¾åº¦çƒ­æœæŠ“å–</h3>
<p>æ¼”ç¤ºç›®æ ‡ï¼Œä½¿ç”¨ Playwright MCP è®¿é—®ç™¾åº¦ï¼Œè·å–å½“å¤©çš„çƒ­é—¨æœç´¢ä¿¡æ¯ã€‚</p>
<p><strong>1. å‘é€æŒ‡ä»¤ç»™ Claudeï¼š</strong></p>
<p><code>è¯·å¸®æˆ‘ä½¿ç”¨æµè§ˆå™¨è®¿é—®ç™¾åº¦ï¼ˆwww.baidu.comï¼‰ï¼Œ æ‰¾åˆ°ä»Šå¤©çš„çƒ­æœæ¦œå•ï¼Œå¹¶æ•´ç†æˆåˆ—è¡¨è¿”å›ç»™æˆ‘ã€‚</code></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d3dcc316350847a9ba48b851cac05444~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ICB5YWL6IGKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055556&amp;x-signature=bRgWFHcVD9utcrUDFPotOv8aVyI%3D" alt="image.png" loading="lazy"/></p>
<p>Playwrightæ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®äº†ç™¾åº¦æµè§ˆå™¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5fd4f203395d49e2ad61cdc08aeebf4a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ICB5YWL6IGKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055556&amp;x-signature=3p98t4okYZga%2BW%2F9nVitvhsoIL4%3D" alt="image.png" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°è·å–æ•°æ®å’ŒåŸé¡µé¢ä¸­çš„å†…å®¹ä¸€è‡´ï¼Œèƒ½å¤Ÿå¾ˆå¥½çš„å®Œæˆæ•°æ®é‡‡é›†å·¥ä½œã€‚</p>
<hr/>
<h3 data-id="heading-15">å®æˆ˜æ¼”ç¤ºäºŒï¼šå¤æ‚è¡¨å•å¡«æŠ¥</h3>
<h4 data-id="heading-16"><strong>å‡†å¤‡å·¥ä½œï¼šåˆ›å»ºæµ‹è¯•è¡¨å•</strong></h4>
<p>æˆ‘åœ¨æœ¬åœ°åˆ›å»ºäº†ä¸€ä¸ªviteçš„vueé¡¹ç›®ï¼Œå°†index.htmlæ›¿æ¢ä¸ºè¡¨å•</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å‘˜å·¥ä¿¡æ¯ç™»è®°è¡¨<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        <span class="hljs-selector-tag">body</span> { <span class="hljs-attribute">font-family</span>: Arial; <span class="hljs-attribute">max-width</span>: <span class="hljs-number">600px</span>; <span class="hljs-attribute">margin</span>: <span class="hljs-number">50px</span> auto; <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>; }
        <span class="hljs-selector-class">.form-group</span> { <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">15px</span>; }
        <span class="hljs-selector-tag">label</span> { <span class="hljs-attribute">display</span>: block; <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">5px</span>; <span class="hljs-attribute">font-weight</span>: bold; }
        <span class="hljs-selector-tag">input</span>, select, <span class="hljs-selector-tag">textarea</span> { <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>; <span class="hljs-attribute">padding</span>: <span class="hljs-number">8px</span>; <span class="hljs-attribute">box-sizing</span>: border-box; }
        <span class="hljs-selector-tag">button</span> { <span class="hljs-attribute">background</span>: <span class="hljs-number">#007bff</span>; <span class="hljs-attribute">color</span>: white; <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span> <span class="hljs-number">20px</span>; <span class="hljs-attribute">border</span>: none; <span class="hljs-attribute">cursor</span>: pointer; }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å‘˜å·¥ä¿¡æ¯ç™»è®°è¡¨<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"employeeForm"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>å§“å *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">required</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>æ€§åˆ« *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"gender"</span> <span class="hljs-attr">required</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span>&gt;</span>è¯·é€‰æ‹©<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"male"</span>&gt;</span>ç”·<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"female"</span>&gt;</span>å¥³<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>å‡ºç”Ÿæ—¥æœŸ *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"date"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"birthday"</span> <span class="hljs-attr">required</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>è”ç³»ç”µè¯ *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"tel"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"phone"</span> <span class="hljs-attr">required</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>ç”µå­é‚®ç®± *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">required</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>éƒ¨é—¨ *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"department"</span> <span class="hljs-attr">required</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span>&gt;</span>è¯·é€‰æ‹©éƒ¨é—¨<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"tech"</span>&gt;</span>æŠ€æœ¯éƒ¨<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"sales"</span>&gt;</span>é”€å”®éƒ¨<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"hr"</span>&gt;</span>äººåŠ›èµ„æºéƒ¨<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"finance"</span>&gt;</span>è´¢åŠ¡éƒ¨<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>èŒä½ *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"position"</span> <span class="hljs-attr">required</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>å…¥èŒæ—¥æœŸ *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"date"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hireDate"</span> <span class="hljs-attr">required</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>æ•™è‚²ç¨‹åº¦ *<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"education"</span> <span class="hljs-attr">required</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span>&gt;</span>è¯·é€‰æ‹©<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"bachelor"</span>&gt;</span>æœ¬ç§‘<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"master"</span>&gt;</span>ç¡•å£«<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"phd"</span>&gt;</span>åšå£«<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"other"</span>&gt;</span>å…¶ä»–<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>æŠ€èƒ½ç‰¹é•¿<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"skills"</span> <span class="hljs-attr">rows</span>=<span class="hljs-string">"4"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·æè¿°æ‚¨çš„ä¸“ä¸šæŠ€èƒ½å’Œç‰¹é•¿"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"agreement"</span> <span class="hljs-attr">required</span>&gt;</span>
                æˆ‘å·²é˜…è¯»å¹¶åŒæ„å…¬å¸ç›¸å…³è§„å®š
            <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>æäº¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'employeeForm'</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'submit'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) {
            e.<span class="hljs-title function_">preventDefault</span>();
            <span class="hljs-title function_">alert</span>(<span class="hljs-string">'è¡¨å•æäº¤æˆåŠŸï¼'</span>);
        });
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p>å¯åŠ¨é¡¹ç›®ï¼Œé€šè¿‡<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A5173%2F%25E8%25AE%25BF%25E9%2597%25AE%25E8%25A1%25A8%25E5%258D%2595" target="_blank" title="http://localhost:5173/%E8%AE%BF%E9%97%AE%E8%A1%A8%E5%8D%95" ref="nofollow noopener noreferrer">http://localhost:5173/è®¿é—®è¡¨å•</a></p>
<h4 data-id="heading-17">æ¼”ç¤ºæ“ä½œ</h4>
<h5 data-id="heading-18">1.æ‰“å¼€è¡¨å•</h5>
<p>å‘Šè¯‰claude æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A5173%2F" target="_blank" title="http://localhost:5173/" ref="nofollow noopener noreferrer">http://localhost:5173/</a></p>
<h5 data-id="heading-19">2.å¡«å†™è¡¨å•å†…å®¹</h5>
<p>å‘Šè¯‰claudeï¼Œå¡«å†™è¡¨å•å†…å®¹ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">è¯·å¸®æˆ‘å¡«å†™è¿™ä¸ªå‘˜å·¥ç™»è®°è¡¨å•ï¼ˆfile:///path/to/complex-form.htmlï¼‰ï¼Œ
ä½¿ç”¨ä»¥ä¸‹ä¿¡æ¯ï¼š
<span class="hljs-deletion">- å§“åï¼šå¼ å°æ˜</span>
<span class="hljs-deletion">- æ€§åˆ«ï¼šç”·</span>
<span class="hljs-deletion">- å‡ºç”Ÿæ—¥æœŸï¼š1990-05-15</span>
<span class="hljs-deletion">- è”ç³»ç”µè¯ï¼š13800138000</span>
<span class="hljs-deletion">- ç”µå­é‚®ç®±ï¼šzhangxiaoming@example.com</span>
<span class="hljs-deletion">- éƒ¨é—¨ï¼šæŠ€æœ¯éƒ¨</span>
<span class="hljs-deletion">- èŒä½ï¼šé«˜çº§å·¥ç¨‹å¸ˆ</span>
<span class="hljs-deletion">- å…¥èŒæ—¥æœŸï¼š2024-01-15</span>
<span class="hljs-deletion">- æ•™è‚²ç¨‹åº¦ï¼šç¡•å£«</span>
<span class="hljs-deletion">- æŠ€èƒ½ç‰¹é•¿ï¼šç²¾é€šPythonã€JavaScriptï¼Œ5å¹´å…¨æ ˆå¼€å‘ç»éªŒ</span>

ç„¶åå‹¾é€‰åŒæ„æ¡æ¬¾ï¼Œå¹¶æäº¤è¡¨å•ã€‚
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/130773aca5bf48b0b6cea8c853147595~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ICB5YWL6IGKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055556&amp;x-signature=N29AlOZnhWDcBxhNWp7WKyFSnIs%3D" alt="image3.png" loading="lazy"/></p>
<p>ClaudeæŒ‰ç…§æŒ‡ä»¤ä¸€æ­¥æ­¥çš„å°†è¡¨å•å†…å®¹å¡«å†™å®Œå–„ï¼Œå¡«å†™ç»“æœå®Œå…¨ç¬¦åˆé¢„æœŸï¼Œéå¸¸å¥½ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dace789e8516411ca91dc46aae5b1bce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ICB5YWL6IGKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055556&amp;x-signature=AX1KIWo5nXz8XHV6Mb8qsFHzKjU%3D" alt="after_submit-2025-11-18T03-02-53-324Z.png" loading="lazy"/></p>
<h2 data-id="heading-20">æ€»ç»“</h2>
<p>Playwright MCPè®©æ™®é€šäººåœ¨æ— éœ€ç¼–ç¨‹ï¼Œåªç”¨è‡ªç„¶è¯­è¨€æè¿°å°±å¯ä»¥çš„æƒ…å†µä¸‹å°±å¯ä»¥é€šè¿‡æµè§ˆå™¨å®Œæˆä¿¡æ¯é‡‡é›†å’Œå¡«æŠ¥çš„è‡ªåŠ¨åŒ–å·¥ä½œã€‚åº”ç”¨åœºæ™¯æœ‰ï¼Œä¿¡æ¯é‡‡é›†å’Œç›‘æ§ã€è‡ªåŠ¨åŒ–è¡¨å•å¡«æŠ¥ã€ç½‘ç«™åŠŸèƒ½æµ‹è¯•ã€æ•°æ®æ‰¹é‡å¤„ç†ã€å®šæ—¶ä»»åŠ¡æ‰§è¡Œã€‚</p>
<p>å¦‚æœè¿™ä¸ªè§†é¢‘å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä¸€ä¸ªå…è´¹çš„èµ,å…³æ³¨æˆ‘çš„è´¦å·ï¼æœ‰ä»»ä½•é—®é¢˜æ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€ï¼Œæˆ‘ä¼šåŠæ—¶å›å¤ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Java + Spring åˆ° Python + FastAPI ï¼ˆäºŒï¼‰]]></title>    <link>https://juejin.cn/post/7572997791451201574</link>    <guid>https://juejin.cn/post/7572997791451201574</guid>    <pubDate>2025-11-17T01:54:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572997791451201574" data-draft-id="7572048000301629481" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Java + Spring åˆ° Python + FastAPI ï¼ˆäºŒï¼‰"/> <meta itemprop="keywords" content="Java,Spring,Python"/> <meta itemprop="datePublished" content="2025-11-17T01:54:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°å…µå¼ å¥"/> <meta itemprop="url" content="https://juejin.cn/user/1257497032405229"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Java + Spring åˆ° Python + FastAPI ï¼ˆäºŒï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1257497032405229/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°å…µå¼ å¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T01:54:20.000Z" title="Mon Nov 17 2025 01:54:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    19
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">FastAPI ä¸­ Depends åº”ç”¨çº§ä½¿ç”¨</h2>
<p>é™¤äº†å•ä¸ªå‡½æ•°æ–¹æ³•çš„ Depends å¤–ï¼Œè¿˜æœ‰æ•´ä¸ªåº”ç”¨å±‚çº§çš„ Depends yieldï¼Œä»¥ Redis åˆå§‹åŒ–è¿æ¥æ± ä¸ºä¾‹ã€‚</p>
<p>è¿æ¥æ± åªåœ¨åº”ç”¨çš„å¯åŠ¨çš„æ—¶å€™åˆ›å»ºï¼Œåœæ­¢æ—¶å…³é—­ã€‚å¯ä»¥ç”¨ @app.on_event("startup") å’Œ @app.on_event("shutdown")ï¼Œä½†æ›´æ¨èç”¨ lifespanã€‚</p>
<p>è€ç”¨æ³•ï¼š</p>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-comment"># é€»è¾‘è¢«æ‹†åˆ†åœ¨ä¸¤ä¸ªä¸åŒçš„å‡½æ•°é‡Œ</span>
<span class="hljs-meta">@app.on_event(<span class="hljs-params"><span class="hljs-string">"startup"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">startup_event</span>():
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"--- å¯åŠ¨ï¼šåˆ›å»ºè¿æ¥æ±  ---"</span>)
    app.state.db_pool = <span class="hljs-keyword">await</span> create_db_pool()

<span class="hljs-meta">@app.on_event(<span class="hljs-params"><span class="hljs-string">"shutdown"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">shutdown_event</span>():
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"--- å…³é—­ï¼šé”€æ¯è¿æ¥æ±  ---"</span>)
    <span class="hljs-keyword">await</span> app.state.db_pool.close()

app = FastAPI()
</code></pre>
<p>æ–°ç”¨æ³•ï¼š</p>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-keyword">from</span> contextlib <span class="hljs-keyword">import</span> asynccontextmanager

<span class="hljs-meta">@asynccontextmanager</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">lifespan</span>(<span class="hljs-params">app: FastAPI</span>):
    <span class="hljs-comment"># --- å¯åŠ¨æ—¶ ---</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"--- (Lifespan) åˆ›å»ºæ•°æ®åº“è¿æ¥æ±  (Engine)... ---"</span>)
    db_pool_engine = <span class="hljs-keyword">await</span> create_db_pool() <span class="hljs-comment"># æ˜‚è´µçš„æ“ä½œï¼Œåªåšä¸€æ¬¡</span>
    
    <span class="hljs-comment"># å…³é”®ï¼šæŠŠ 'æ± ' æŒ‚è½½åˆ° app.state ä¸Š</span>
    app.state.db_pool = db_pool_engine
    
    <span class="hljs-keyword">yield</span>
    
    <span class="hljs-comment"># --- å…³é—­æ—¶ ---</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"--- (Lifespan) å…³é—­æ•°æ®åº“è¿æ¥æ± ... ---"</span>)
    <span class="hljs-keyword">await</span> app.state.db_pool.close()

<span class="hljs-comment"># æ³¨å†Œ lifespan</span>
app = FastAPI(lifespan=lifespan)
</code></pre>
<p>app.state æ˜¯ FastAPI æä¾›çš„ä¸€ä¸ªå…¨å±€çŠ¶æ€å¯¹è±¡ï¼Œç”¨äºå­˜å‚¨ Redisã€MySQL è¿æ¥æ± ç­‰æ¯”è¾ƒé‡çš„å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> Request, Depends

<span class="hljs-comment"># è¿™æ˜¯ä½ çš„ 'Depends' ä¾èµ–é¡¹</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_db_session</span>(<span class="hljs-params">request: Request</span>):
    <span class="hljs-comment"># 1. ä» 'request' ä¸­æ‹¿åˆ° 'app'ï¼Œå†æ‹¿åˆ° 'state'</span>
    db_pool = request.app.state.db_pool
    
    <span class="hljs-comment"># 2. ä» 'æ± ' ä¸­è·å–ä¸€ä¸ª 'è¿æ¥'</span>
    <span class="hljs-comment">#    'async with' è¯­å¥ä¼šè‡ªåŠ¨ 'å€Ÿ' å’Œ 'è¿˜'</span>
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> db_pool.acquire() <span class="hljs-keyword">as</span> connection:
        <span class="hljs-comment"># 3. åŸºäºè¿™ä¸ªè¿æ¥ï¼Œåˆ›å»ºäº‹åŠ¡</span>
        <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> connection.begin() <span class="hljs-keyword">as</span> transaction:
            <span class="hljs-comment"># 4. åˆ›å»ºä¸€ä¸ªè½»é‡çº§çš„ Session</span>
            <span class="hljs-comment">#    (æ³¨æ„ï¼šä¸åŒDBåº“å®ç°ä¸åŒï¼Œè¿™é‡Œæ˜¯æ¦‚å¿µ)</span>
            session = create_session(connection, transaction) 
            
            <span class="hljs-keyword">try</span>:
                <span class="hljs-comment"># 5. 'yield' è¿™ä¸ª session ç»™è·¯ç”±</span>
                <span class="hljs-keyword">yield</span> session
                <span class="hljs-comment"># 6. è·¯ç”±æˆåŠŸï¼Œäº‹åŠ¡è‡ªåŠ¨ commit</span>
            <span class="hljs-keyword">except</span> Exception:
                <span class="hljs-comment"># 7. è·¯ç”±å¤±è´¥ï¼Œäº‹åŠ¡è‡ªåŠ¨ rollback</span>
                <span class="hljs-keyword">await</span> transaction.rollback()
                <span class="hljs-keyword">raise</span>
</code></pre>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/users/{user_id}"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_user</span>(<span class="hljs-params">
    user_id: <span class="hljs-built_in">int</span>,
    <span class="hljs-comment"># 'Depends' ä¼šè‡ªåŠ¨æ‰§è¡Œç¬¬ 2 æ­¥</span>
    db: AsyncSession = Depends(<span class="hljs-params">get_db_session</span>) 
</span>):
    <span class="hljs-comment"># 'db' å°±æ˜¯é‚£ä¸ªè¢« 'yield' å‡ºæ¥çš„ã€å¸¦äº‹åŠ¡çš„ session</span>
    user = <span class="hljs-keyword">await</span> user_repo.get_user(db, user_id)
    <span class="hljs-keyword">return</span> user
</code></pre>
<p>æ€»ç»“ï¼š lifespan (å¯åŠ¨) -&gt; app.state (å…¨å±€å­˜å‚¨) -&gt; Request (ä¼ é€’ app) -&gt; Depends (è¯»å– app.state) -&gt; yield (æ³¨å…¥è·¯ç”±)ã€‚</p>
<h2 data-id="heading-1">èµ„æºè¿æ¥æ± å…¨å±€ä½¿ç”¨</h2>
<p>å› ä¸ºæ˜¯ FastAPI çš„ï¼Œæ„å‘³ç€å¿…é¡»åœ¨ http ç¯å¢ƒå†…æ‰èƒ½ä½¿ç”¨ã€‚å¦‚æœåœ¨é http ç¯å¢ƒä½¿ç”¨ï¼Œéœ€è¦è¿™æ ·æ”¹é€ ã€‚</p>
<p>å…ˆåˆ›å»ºä¸€ä¸ªå…¨å±€å…±ç”¨çš„ db_core.pyã€‚</p>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-comment"># db_core.py</span>
<span class="hljs-keyword">from</span> sqlalchemy.ext.asyncio <span class="hljs-keyword">import</span> create_async_engine, AsyncSession, AsyncEngine
<span class="hljs-keyword">from</span> sqlalchemy.orm <span class="hljs-keyword">import</span> sessionmaker
<span class="hljs-keyword">from</span> contextlib <span class="hljs-keyword">import</span> asynccontextmanager

<span class="hljs-comment"># 1. åœ¨æ¨¡å—çš„é¡¶å±‚å®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡ (æˆ‘ä»¬çš„â€œå•ä¾‹â€)</span>
<span class="hljs-comment">#    å®ƒåœ¨æ‰€æœ‰å¯¼å…¥æ­¤æ¨¡å—çš„æ–‡ä»¶ä¸­æ˜¯ *å…±äº«* çš„</span>
db_engine: AsyncEngine | <span class="hljs-literal">None</span> = <span class="hljs-literal">None</span>
_async_session_maker = <span class="hljs-literal">None</span>

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">create_db_pool</span>():
    <span class="hljs-keyword">global</span> db_engine, _async_session_maker
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"--- (Core) æ­£åœ¨åˆ›å»ºå…¨å±€æ•°æ®åº“è¿æ¥æ± ... ---"</span>)
    db_engine = create_async_engine(
        <span class="hljs-string">"mysql+aiomysql://..."</span>, 
        pool_size=<span class="hljs-number">10</span>, 
        max_overflow=<span class="hljs-number">5</span>
    )
    _async_session_maker = sessionmaker(
        db_engine, class_=AsyncSession, expire_on_commit=<span class="hljs-literal">False</span>
    )

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">close_db_pool</span>():
    <span class="hljs-keyword">global</span> db_engine
    <span class="hljs-keyword">if</span> db_engine:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"--- (Core) æ­£åœ¨å…³é—­å…¨å±€æ•°æ®åº“è¿æ¥æ± ... ---"</span>)
        <span class="hljs-keyword">await</span> db_engine.dispose()

<span class="hljs-comment"># 2. è¿™å°±æ˜¯ä½ çš„â€œäº‹åŠ¡â€ä¾èµ–é¡¹ï¼</span>
<span class="hljs-comment">#    æ³¨æ„ï¼šå®ƒç°åœ¨ *ä¸* éœ€è¦ 'request: Request' äº†ï¼</span>
<span class="hljs-meta">@asynccontextmanager</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_db_session</span>():
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> _async_session_maker:
        <span class="hljs-keyword">raise</span> Exception(<span class="hljs-string">"æ•°æ®åº“è¿æ¥æ± æœªåˆå§‹åŒ–ï¼Œè¯·å…ˆè°ƒç”¨ create_db_pool()"</span>)

    <span class="hljs-comment"># _async_session_maker() ä¼šè‡ªåŠ¨ä» 'db_engine' (æ± ) ä¸­è·å–è¿æ¥</span>
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> _async_session_maker() <span class="hljs-keyword">as</span> session:
        <span class="hljs-keyword">try</span>:
            <span class="hljs-keyword">yield</span> session
            <span class="hljs-keyword">await</span> session.commit()
        <span class="hljs-keyword">except</span> Exception:
            <span class="hljs-keyword">await</span> session.rollback()
            <span class="hljs-keyword">raise</span>
</code></pre>
<p>åœ¨ FastAPI ä¸­ä½¿ç”¨ lifespan åŒ…è£¹ã€‚</p>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-comment"># main.py</span>
<span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> FastAPI, Depends
<span class="hljs-keyword">from</span> contextlib <span class="hljs-keyword">import</span> asynccontextmanager
<span class="hljs-keyword">from</span> db_core <span class="hljs-keyword">import</span> create_db_pool, close_db_pool, get_db_session

<span class="hljs-meta">@asynccontextmanager</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">lifespan</span>(<span class="hljs-params">app: FastAPI</span>):
    <span class="hljs-comment"># 'lifespan' è´Ÿè´£è§¦å‘å…¨å±€å•ä¾‹çš„åˆå§‹åŒ–</span>
    <span class="hljs-keyword">await</span> create_db_pool()
    <span class="hljs-keyword">yield</span>
    <span class="hljs-keyword">await</span> close_db_pool()

app = FastAPI(lifespan=lifespan)

<span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/users/{user_id}"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_user</span>(<span class="hljs-params">
    user_id: <span class="hljs-built_in">int</span>,
    <span class="hljs-comment"># é­”æ³•ï¼'get_db_session' ç°åœ¨æ˜¯ä¸€ä¸ªâ€œé€šç”¨â€ä¾èµ–é¡¹</span>
    <span class="hljs-comment"># FastAPI ä¼šè‡ªåŠ¨å¤„ç† @asynccontextmanager</span>
    db: AsyncSession = Depends(<span class="hljs-params">get_DBSession</span>) 
</span>):
    <span class="hljs-comment"># 'db' å°±æ˜¯é‚£ä¸ªå¸¦äº‹åŠ¡çš„ session</span>
    user = <span class="hljs-keyword">await</span> user_repo.get_user(db, user_id)
    <span class="hljs-keyword">return</span> user
</code></pre>
<p>åœ¨é http ç¯å¢ƒä¸­ï¼Œåˆ™è‡ªå·±ç»´æŠ¤ç”Ÿå‘½å‘¨æœŸã€‚æ¯”å¦‚ Kafka æ¶ˆè´¹ã€‚</p>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-comment"># main.py</span>
<span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> FastAPI, Depends
<span class="hljs-keyword">from</span> contextlib <span class="hljs-keyword">import</span> asynccontextmanager
<span class="hljs-keyword">from</span> db_core <span class="hljs-keyword">import</span> create_db_pool, close_db_pool, get_db_session

<span class="hljs-meta">@asynccontextmanager</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">lifespan</span>(<span class="hljs-params">app: FastAPI</span>):
    <span class="hljs-comment"># 'lifespan' è´Ÿè´£è§¦å‘å…¨å±€å•ä¾‹çš„åˆå§‹åŒ–</span>
    <span class="hljs-keyword">await</span> create_db_pool()
    <span class="hljs-keyword">yield</span>
    <span class="hljs-keyword">await</span> close_db_pool()

app = FastAPI(lifespan=lifespan)

<span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/users/{user_id}"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_user</span>(<span class="hljs-params">
    user_id: <span class="hljs-built_in">int</span>,
    <span class="hljs-comment"># é­”æ³•ï¼'get_db_session' ç°åœ¨æ˜¯ä¸€ä¸ªâ€œé€šç”¨â€ä¾èµ–é¡¹</span>
    <span class="hljs-comment"># FastAPI ä¼šè‡ªåŠ¨å¤„ç† @asynccontextmanager</span>
    db: AsyncSession = Depends(<span class="hljs-params">get_DBSession</span>) 
</span>):
    <span class="hljs-comment"># 'db' å°±æ˜¯é‚£ä¸ªå¸¦äº‹åŠ¡çš„ session</span>
    user = <span class="hljs-keyword">await</span> user_repo.get_user(db, user_id)
    <span class="hljs-keyword">return</span> user
</code></pre>
<p>ç”¨å“ªç§å–å†³äºé¡¹ç›®ï¼Œçº¯ http API é¡¹ç›®å…¨åœ¨ FastAPI é‡Œé¢é…åˆ BackgroundTasks å°±å¤Ÿäº†ï¼Œå¦‚æœè¿˜æœ‰é http å…¥å£çš„å¤„ç†ï¼Œæ¯”å¦‚å®šæ—¶ä»»åŠ¡ã€Kafka æ¶ˆè´¹ç­‰ï¼Œåˆ™ç”¨ç¬¬äºŒç§ã€‚</p>
<p>BackgroundTasks çš„ä½œç”¨å’Œå¼‚æ­¥çº¿ç¨‹ç±»ä¼¼ï¼Œæ¯”å¦‚ç”¨æˆ·æ³¨å†ŒæˆåŠŸåè¦å‘ä¸ªé‚®ä»¶é€šçŸ¥ï¼Œè¿™å°±å¯ä»¥ç”¨ BackgroundTasks åšï¼Œåªä¸è¿‡åŸç†ä¸æ˜¯çœŸçš„æœ‰ä¸ªå¼‚æ­¥çº¿ç¨‹æ± ï¼Œè€Œæ˜¯ FastAPI å†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ª list åˆ—è¡¨ä¿å­˜è¿™äº›ä»»åŠ¡ï¼Œåœ¨ http å¤„ç†å®Œæ¯•åï¼Œå°† list ç»™ Ready Queue æ‰§è¡Œï¼Œä¾‹å¦‚ã€‚</p>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> FastAPI, BackgroundTasks

app = FastAPI()

<span class="hljs-comment"># è¿™æ˜¯ä¸€ä¸ªæ¨¡æ‹Ÿçš„ã€'async' çš„é‚®ä»¶å‘é€å‡½æ•°</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">send_welcome_email</span>(<span class="hljs-params">email: <span class="hljs-built_in">str</span>, name: <span class="hljs-built_in">str</span></span>):
    <span class="hljs-comment"># æ¨¡æ‹Ÿ 2 ç§’é’Ÿçš„ I/O å»¶è¿Ÿ</span>
    <span class="hljs-keyword">await</span> asyncio.sleep(<span class="hljs-number">2</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"--- [åå°ä»»åŠ¡]ï¼šé‚®ä»¶å·²å‘é€ç»™ <span class="hljs-subst">{email}</span> (å§“å: <span class="hljs-subst">{name}</span>) ---"</span>)
    
<span class="hljs-meta">@app.post(<span class="hljs-params"><span class="hljs-string">"/users"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">create_user</span>(<span class="hljs-params">
    email: <span class="hljs-built_in">str</span>,
    name: <span class="hljs-built_in">str</span>,
    background_tasks: BackgroundTasks  <span class="hljs-comment"># 1. åœ¨è¿™é‡Œå£°æ˜</span>
</span>):
    <span class="hljs-comment"># ... ä½ çš„æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œæ¯”å¦‚ä¿å­˜ç”¨æˆ·åˆ°æ•°æ®åº“ ...</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"--- (è·¯ç”±) æ­£åœ¨åˆ›å»ºç”¨æˆ· <span class="hljs-subst">{name}</span> ... ---"</span>)
    
    <span class="hljs-comment"># 2. æ·»åŠ åå°ä»»åŠ¡</span>
    <span class="hljs-comment"># å®ƒä¸ä¼šç«‹å³æ‰§è¡Œï¼</span>
    background_tasks.add_task(
        send_welcome_email,  <span class="hljs-comment"># ä½ è¦è°ƒç”¨çš„å‡½æ•°</span>
        email,               <span class="hljs-comment"># ä½ç½®å‚æ•°</span>
        name=name            <span class="hljs-comment"># å…³é”®å­—å‚æ•°</span>
    )
    
    <span class="hljs-comment"># 3. ç«‹å³è¿”å›å“åº”</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"--- (è·¯ç”±) ç«‹å³è¿”å›å“åº”ç»™ç”¨æˆ· ---"</span>)
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"message"</span>: <span class="hljs-string">f"ç”¨æˆ· <span class="hljs-subst">{name}</span> åˆ›å»ºæˆåŠŸï¼Œæ¬¢è¿é‚®ä»¶å°†åœ¨åå°å‘é€ã€‚"</span>}
</code></pre>
<h3 data-id="heading-2">é‡åˆ° CPU å¯†é›†å‹ä»»åŠ¡æ€ä¹ˆåŠï¼Ÿ</h3>
<p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« é‡Œé¢è¯¦ç»†è¯´è¿‡ï¼Œä¸ºäº†æ–¹ä¾¿åšå†…å­˜å›æ”¶ï¼ŒPython ç”¨ GLC ä¿è¯åœ¨åŒä¸€ä¸ªæ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹æ‹¿åˆ°é”ï¼Œio ä»»åŠ¡é™¤å¤–ã€‚</p>
<p>æ‰€ä»¥ Python æ²¡æœ‰å¤šçº¿ç¨‹ï¼Œå³ä½¿ç”¨ asyncio.to_thread æ‰§è¡Œï¼Œä¹Ÿä¼šå ç”¨ GLCã€‚</p>
<p>è¦çœŸæ­£çš„è¿è¡Œ CPU å¯†é›†å‹ä»»åŠ¡ï¼Œåªèƒ½ç”¨å¤šè¿›ç¨‹ã€‚æ¯ä¸ªè¿›ç¨‹æœ‰è‡ªå·±çš„ GLCï¼Œç›¸äº’ä¸å¹²æ‰°ï¼Œå³æ–°å¯ä¸€ä¸ª Python ç¨‹åºã€‚</p>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-keyword">import</span> asyncio
<span class="hljs-keyword">from</span> concurrent.futures <span class="hljs-keyword">import</span> ProcessPoolExecutor

<span class="hljs-keyword">def</span> <span class="hljs-title function_">my_cpu_heavy_task</span>():
    <span class="hljs-comment"># ... (5 ç§’é’Ÿçš„ CPU å¯†é›†å‹è®¡ç®—) ...</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">"Done"</span>

<span class="hljs-comment"># ä½ éœ€è¦è‡ªå·±ç®¡ç†è¿™ä¸ªè¿›ç¨‹æ± </span>
cpu_pool = ProcessPoolExecutor()

<span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/cpu-task"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">run_cpu_task</span>():
    loop = asyncio.get_running_loop()
    
    <span class="hljs-comment"># å‘Šè¯‰äº‹ä»¶å¾ªç¯ï¼š</span>
    <span class="hljs-comment"># "è¯·åœ¨ 'cpu_pool' (ä¸€ä¸ªå®Œå…¨ç‹¬ç«‹çš„è¿›ç¨‹) é‡Œè¿è¡Œè¿™ä¸ªä»»åŠ¡"</span>
    result = <span class="hljs-keyword">await</span> loop.run_in_executor(
        cpu_pool,  <span class="hljs-comment"># &lt;--- ä½¿ç”¨è¿›ç¨‹æ± ï¼Œè€Œä¸æ˜¯çº¿ç¨‹æ± </span>
        my_cpu_heavy_task
    )
    
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"result"</span>: result}
</code></pre>
<h2 data-id="heading-3">yield çš„åŸç†</h2>
<p>yield æ˜¯æš‚åœä¸€ä¸ªå‡½æ•°ï¼Œreturn æ˜¯è¿”å›ä¸€ä¸ªå‡½æ•°ã€‚yield æŠŠä¸€ä¸ªæ™®é€šå‡½æ•°å˜ä¸ºäº†ç”Ÿæˆå™¨ï¼ˆGeneratorï¼‰ã€‚</p>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">my_generator</span>():
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"--- 1. ç”Ÿæˆå™¨å¼€å§‹ ---"</span>)
    <span class="hljs-keyword">yield</span> <span class="hljs-string">"Hello"</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"--- 2. æˆ‘ä» 'Hello' ä¹‹åè¢«å”¤é†’äº† ---"</span>)
    <span class="hljs-keyword">yield</span> <span class="hljs-string">"World"</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"--- 3. æˆ‘ä» 'World' ä¹‹åè¢«å”¤é†’äº† ---"</span>)
    <span class="hljs-comment"># æ²¡æœ‰æ›´å¤šçš„ yieldï¼Œå‡½æ•°è‡ªåŠ¨ç»“æŸ</span>
</code></pre>
<p>ç±»ä¼¼ Java ä¸­ Iteratorï¼Œæ¯ä¸€ä¸ª yield éƒ½æ˜¯ next()ï¼Œå…ˆåˆ¤æ–­ hasNext()ï¼Œå†æ‰§è¡Œã€‚</p>
<p>åœ¨å †æ ˆå±‚é¢ï¼Œæ™®é€šçš„ return æ‰§è¡Œåï¼Œå †æ ˆé‡Œé¢çš„ä¸´æ—¶å˜é‡éƒ½é”€æ¯ï¼Œè€Œ yield ç›¸å½“äºæš‚åœæ“ä½œï¼Œä¿ç•™å†…å­˜ä¸­çš„æ•°æ®ï¼Œç”Ÿå‘½å‘¨æœŸæ˜¯åˆ›å»º -&gt; æš‚åœ -&gt; æ¢å¤ -&gt; ... -&gt; æ­»äº¡ã€‚</p>
<h2 data-id="heading-4">å…³é”®è¯å’Œç»„ä»¶åŒºåˆ†</h2>
<p>Python çš„è¯­è¨€å…³é”®è¯æœ‰ï¼šasync def / awaitã€yieldã€with/async withï¼Œè¯­è¨€ç‰¹æ€§æœ‰ @...ï¼ˆåªæ˜¯æä¾›@ç¬¦å·ï¼‰ï¼ŒType Hintsã€è£…é¥°å™¨ï¼ˆå°†å‡½æ•°å˜ä¸ºæ–¹æ³•å…¥å‚ï¼Œç±»ä¼¼ Spring çš„ç¯ç»•é€šçŸ¥ï¼‰ï¼Œæ ‡å‡†åº“æœ‰ asyncioã€contextlibã€typingã€‚</p>
<p>FastAPI çš„æœ‰ Dependsï¼ˆå’Œ yield æ­é…ä¸€èµ·ç”¨ï¼‰ï¼Œ@app.getã€ @app.postã€@app.on_event("startup") ç­‰æ¡†æ¶è£…é¥°å™¨ï¼Œlifespan http åº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸï¼ŒPydanticï¼ˆç”¨ Type Hints åšæ ¡éªŒå’Œç±»å‹è½¬æ¢ï¼‰ï¼ŒUvicornï¼ˆç±»ä¼¼ Tomcat å®¹å™¨ï¼‰ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ•°æ®-156 Apache Druid+Kafka å®æ—¶åˆ†æå®æˆ˜ï¼šJSON æ‹‰å¹³æ‘„å–ä¸ SQL æŒ‡æ ‡å…¨æµç¨‹]]></title>    <link>https://juejin.cn/post/7573632156884271155</link>    <guid>https://juejin.cn/post/7573632156884271155</guid>    <pubDate>2025-11-18T07:32:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573632156884271155" data-draft-id="7573687816430960650" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ•°æ®-156 Apache Druid+Kafka å®æ—¶åˆ†æå®æˆ˜ï¼šJSON æ‹‰å¹³æ‘„å–ä¸ SQL æŒ‡æ ‡å…¨æµç¨‹"/> <meta itemprop="keywords" content="åç«¯,å¤§æ•°æ®,NoSQL"/> <meta itemprop="datePublished" content="2025-11-18T07:32:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ­¦å­åº·"/> <meta itemprop="url" content="https://juejin.cn/user/149189314230039"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ•°æ®-156 Apache Druid+Kafka å®æ—¶åˆ†æå®æˆ˜ï¼šJSON æ‹‰å¹³æ‘„å–ä¸ SQL æŒ‡æ ‡å…¨æµç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/149189314230039/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ­¦å­åº·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T07:32:50.000Z" title="Tue Nov 18 2025 07:32:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">TL;DR</h2>
<ul>
<li>åœºæ™¯ï¼šç”µå•†ç‚¹å‡»/è®¢å•æµå…¥ Kafkaï¼ŒDruid è¿›è¡Œå®æ—¶åˆ†æä¸å¯è§†åŒ–ã€‚</li>
<li>ç»“è®ºï¼šåµŒå¥— JSON éœ€é¢„å¤„ç†æ‹‰å¹³ï¼›Kafka Indexing Service è®¾â€œä»æœ€æ—©ä½ç‚¹â€ä¸ç¦ç”¨ Rollup æ›´ç¨³ã€‚</li>
<li>äº§å‡ºï¼šScala Producerâ†’Druid æ‘„å–â†’SQL æŒ‡æ ‡ï¼ˆè®¢å•/ç”¨æˆ·/æ”¯ä»˜/TopNï¼‰è·‘é€šä¸å¸¸è§å‘ä½æ¸…å•ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/96e3b98f8e0045dab35bca37731c0e0e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055970&amp;x-signature=tmzytXLsKta1xtUbCYpNQLrdABM%3D" alt="å¤§æ•°æ®-156 Apache Druid+Kafka å®æ—¶åˆ†æå®æˆ˜ï¼šJSON æ‹‰å¹³æ‘„å–ä¸ SQL æŒ‡æ ‡å…¨æµç¨‹" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79b3c8efd2754e8d802efa7441b9de26~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055970&amp;x-signature=160VrMjbh3DJpZLiLNaFBRzZETA%3D" alt="Apache Druid" loading="lazy"/></p>
<h2 data-id="heading-1">æ•´ä½“æµç¨‹</h2>
<ul>
<li>Kafka æ•°æ®æº: Kafka æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼æµå¤„ç†å¹³å°ï¼Œè´Ÿè´£æ¥æ”¶ã€å­˜å‚¨å¹¶ä¼ è¾“æ•°æ®ã€‚å®ƒæ”¯æŒä»å„ç±»åº”ç”¨ã€æ—¥å¿—ã€ä¼ æ„Ÿå™¨ç­‰è®¾å¤‡é‡‡é›†å®æ—¶æ•°æ®ï¼Œå°†æ•°æ®åˆ’åˆ†ä¸ºå¤šä¸ªä¸»é¢˜ï¼ˆTopicï¼‰ï¼Œå¹¶å°†æ¶ˆæ¯åˆ†å‘ç»™æ¶ˆè´¹è€…ã€‚åœ¨è¿™ä¸ªæ¡ˆä¾‹ä¸­ï¼ŒKafka æ˜¯ Druid çš„æ•°æ®æºã€‚</li>
<li>Kafka Producer: æ•°æ®ç”Ÿäº§è€…ï¼ˆProducerï¼‰è´Ÿè´£å°†æ•°æ®å‘é€åˆ° Kafka çš„ä¸»é¢˜ä¸­ã€‚ä¾‹å¦‚ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥å‘ Kafka å†™å…¥æ—¥å¿—ã€ç”¨æˆ·è¡Œä¸ºæ•°æ®ã€ä¼ æ„Ÿå™¨æ•°æ®ç­‰ã€‚æ¯æ¡æ¶ˆæ¯å¯ä»¥æ˜¯ JSONã€Avro ç­‰æ ¼å¼çš„æ•°æ®è®°å½•ã€‚</li>
<li>Druid Kafka Ingestion: Druid æä¾›äº†å¯¹ Kafka çš„åŸç”Ÿæ”¯æŒã€‚é€šè¿‡ Kafka Indexing Serviceï¼ŒDruid å¯ä»¥æŒç»­ä» Kafka çš„æŸä¸ªä¸»é¢˜ä¸­æ¶ˆè´¹æ•°æ®ï¼Œå®æ—¶åœ°å°†è¿™äº›æ•°æ®æ‘„å–åˆ° Druid ä¸­ã€‚æ‘„å–è¿‡ç¨‹ä¸­ï¼ŒDruid ä¼šå°†æ•°æ®æ‹†è§£ä¸ºå°çš„æ®µï¼ˆSegmentï¼‰ï¼Œå¹¶å°†è¿™äº›æ®µå­˜å‚¨åœ¨ Druid é›†ç¾¤çš„æ·±åº¦å­˜å‚¨ä¸­ï¼ˆå¦‚ HDFSã€S3 ç­‰ï¼‰ã€‚</li>
<li>å®æ—¶æ•°æ®æ‘„å–å’Œç´¢å¼•: Druid çš„ Kafka æ‘„å–ä»»åŠ¡ä¼šç›‘å¬ Kafka çš„åˆ†åŒºï¼ŒæŒ‰ç…§æµæ•°æ®çš„åˆ°è¾¾é¡ºåºæ¶ˆè´¹æ•°æ®ï¼Œå¹¶åœ¨å†…éƒ¨åˆ›å»ºç´¢å¼•ã€‚è¿™äº›ç´¢å¼•ç»“æ„åŒ–å­˜å‚¨äº†æ•°æ®ï¼Œå¹¶é€šè¿‡åˆ†ç‰‡å’Œåˆ†åŒºæœºåˆ¶ï¼Œä¿è¯äº†æŸ¥è¯¢çš„é«˜æ•ˆæ€§å’Œæ°´å¹³æ‰©å±•èƒ½åŠ›ã€‚</li>
<li>Druid æŸ¥è¯¢å±‚: Druid æä¾›äº†éå¸¸å¼ºå¤§çš„æŸ¥è¯¢èƒ½åŠ›ï¼Œå¯ä»¥é€šè¿‡ SQL æŸ¥è¯¢æ–¹å¼è¿›è¡Œäº¤äº’ï¼Œä¹Ÿæ”¯æŒå¤šç»´æŸ¥è¯¢ã€èšåˆæŸ¥è¯¢ç­‰ã€‚è¿™äº›æŸ¥è¯¢å¯ä»¥æ˜¯ä½å»¶è¿Ÿçš„å®æ—¶æŸ¥è¯¢ï¼Œä¹Ÿå¯ä»¥å¯¹å†å²æ•°æ®è¿›è¡Œå¤æ‚çš„åˆ†æã€‚ç”¨æˆ·é€šè¿‡ Druid æŸ¥è¯¢æ¥å£æˆ– BI å·¥å…·ï¼ˆå¦‚ Apache Supersetã€Tableau ç­‰ï¼‰å‘é›†ç¾¤å‘é€æŸ¥è¯¢ã€‚</li>
<li>Kafka æ¶ˆè´¹è€… Offset ç®¡ç†: Druid ä½¿ç”¨ Kafka æ¶ˆè´¹è€…æ¨¡å‹ï¼Œå®æ—¶æ¶ˆè´¹æ¶ˆæ¯å¹¶ç®¡ç† Offsetï¼ˆåç§»é‡ï¼‰ï¼Œç¡®ä¿æ•°æ®ä¸ä¸¢å¤±æˆ–é‡å¤æ‘„å–ã€‚Offset ä¼šè¢«å®šæœŸæäº¤åˆ° Kafka ä¸­ï¼Œä¿è¯å³ä½¿ä»»åŠ¡é‡å¯ï¼Œæ‘„å–è¿›åº¦ä¹Ÿèƒ½ä»ä¸Šä¸€æ¬¡çš„ä½ç½®ç»§ç»­ã€‚</li>
<li>æŒä¹…åŒ–å’Œæ•°æ®å­˜å‚¨: æ•°æ®åœ¨ç»è¿‡æ‘„å–å’Œç´¢å¼•åï¼ŒDruid ä¼šå®šæœŸå°†æ•°æ®æ®µï¼ˆSegmentï¼‰æŒä¹…åŒ–åˆ°æ·±åº¦å­˜å‚¨ä¸­ï¼Œå¹¶å¯¹æ—§æ•°æ®è¿›è¡Œåˆå¹¶å’Œå‹ç¼©ï¼Œå‡å°‘å­˜å‚¨ç©ºé—´çš„å ç”¨ã€‚Druid çš„é›†ç¾¤æ¶æ„æ”¯æŒåˆ†å¸ƒå¼å­˜å‚¨å’ŒæŸ¥è¯¢ï¼Œå¹¶èƒ½æ ¹æ®æ•°æ®è§„æ¨¡è¿›è¡Œè‡ªåŠ¨æ‰©å±•ã€‚</li>
</ul>
<h2 data-id="heading-2">æ¡ˆä¾‹å‡è®¾</h2>
<p>å‡è®¾æˆ‘ä»¬åœ¨æ„å»ºä¸€ä¸ªç”¨æˆ·è¡Œä¸ºåˆ†æç³»ç»Ÿï¼Œé€šè¿‡ Kafka é‡‡é›†ç”¨æˆ·ç‚¹å‡»æ—¥å¿—ï¼Œå¹¶é€šè¿‡ Druid å®æ—¶åˆ†æç”¨æˆ·è¡Œä¸ºã€‚</p>
<ul>
<li>Kafka æ•°æ®ç”Ÿäº§: ç”µå•†å¹³å°çš„åº”ç”¨ç¨‹åºä¼šå°†æ¯æ¬¡ç”¨æˆ·ç‚¹å‡»äº§ç”Ÿçš„æ—¥å¿—è®°å½•ï¼ˆä¾‹å¦‚ç‚¹å‡»å•†å“ã€é¡µé¢æµè§ˆç­‰ï¼‰å‘é€åˆ° Kafka ä¸­çš„ user-clicks ä¸»é¢˜ã€‚æ¯æ¡è®°å½•éƒ½åŒ…å«ç”¨æˆ·IDã€å•†å“IDã€æ—¶é—´æˆ³ã€é¡µé¢ä¿¡æ¯ç­‰ã€‚</li>
<li>Druid æ•°æ®æ‘„å–: é…ç½® Druid çš„ Kafka Indexing Serviceï¼Œä» user-clicks ä¸»é¢˜æ¶ˆè´¹æ•°æ®ã€‚æ•°æ®ä¼šå®æ—¶æµå…¥ Druid ä¸­ï¼ŒDruid å°†æ•°æ®æŒ‰ç…§æ—¶é—´èŒƒå›´åˆ‡åˆ†ä¸ºæ®µï¼Œå¹¶å­˜å‚¨åˆ°å…¶æ·±åº¦å­˜å‚¨ä¸­ã€‚</li>
<li>å®æ—¶æ•°æ®æŸ¥è¯¢ä¸åˆ†æ: ä¸šåŠ¡æ–¹å¯ä»¥é€šè¿‡ SQL æŸ¥è¯¢æˆ–å¤šç»´æŸ¥è¯¢æ¥å£ï¼Œå®æ—¶åˆ†æç”¨æˆ·çš„ç‚¹å‡»è¡Œä¸ºã€‚æŸ¥è¯¢çš„ä¾‹å­å¯èƒ½æ˜¯ç»Ÿè®¡æ¯ä¸ªå°æ—¶çš„é¡µé¢æµè§ˆé‡ã€åˆ†æä¸åŒå•†å“çš„å—æ¬¢è¿ç¨‹åº¦ç­‰ã€‚è¿™äº›æŸ¥è¯¢å¯ä»¥ç›´æ¥åæ˜ ç”¨æˆ·çš„å½“å‰è¡Œä¸ºï¼Œå¸®åŠ©ä¸šåŠ¡æ–¹åšå‡ºå¿«é€Ÿå†³ç­–ã€‚</li>
<li>å¯è§†åŒ–å’ŒæŠ¥è¡¨: Druid çš„æŸ¥è¯¢ç»“æœå¯ä»¥é€šè¿‡ Apache Superset ç­‰å·¥å…·è¿›è¡Œå¯è§†åŒ–å±•ç¤ºï¼Œåˆ›å»ºå®æ—¶ä»ªè¡¨ç›˜ï¼Œå±•ç¤ºç”¨æˆ·è¡Œä¸ºçš„å„ç§å…³é”®æŒ‡æ ‡ã€‚æ•°æ®åˆ†æå¸ˆå’Œè¿è¥äººå‘˜å¯ä»¥åœ¨å¯è§†åŒ–å¹³å°ä¸Šç›´è§‚åœ°çœ‹åˆ°å½“å‰ç³»ç»Ÿçš„è¿è¥çŠ¶æ€ã€‚</li>
</ul>
<h2 data-id="heading-3">éœ€æ±‚åˆ†æ</h2>
<h3 data-id="heading-4">åœºæ™¯åˆ†æ</h3>
<ul>
<li>æ•°æ®é‡å¤§ï¼Œéœ€è¦åœ¨è¿™äº›æ•°æ®ä¸­æ ¹æ®ä¸šåŠ¡éœ€è¦çµæ´»æŸ¥è¯¢</li>
<li>å®æ—¶æ€§è¦æ±‚é«˜</li>
<li>æ•°æ®å®æ—¶çš„æ¨è¿‡æ¥ï¼Œè¦åœ¨ç§’çº§å¯¹æ•°æ®è¿›è¡Œåˆ†æå¹¶æŸ¥è¯¢å‡ºç»“æœ</li>
</ul>
<h3 data-id="heading-5">æ•°æ®æè¿°</h3>
<pre><code class="hljs language-shell" lang="shell">{"ts":1607499629841,"orderId":"1009388","userId":"807134","orderStatusId":1,"orderStatus":"å·²æ”¯ä»˜","payModeId":0,"payMode":"å¾®ä¿¡","payment":"933.90","products":
[{"productId":"102163","productName":"è´åˆxxx+ç²‰","price":18.7,"productNum":3,"categoryid":"10360","catname1":"å¨å«æ¸…æ´ã€çº¸åˆ¶ç”¨å“","catname2":"ç”Ÿæ´»æ—¥ç”¨","catname3":"æµ´å®¤ç”¨å“"},{"productId":"100349","productName":"COxxx0C","price":877.8,"productNum":1,"categoryid":"10302","catname1":"æ¯å©´ã€ç©å…·ä¹å™¨","catname2":"è¥¿æ´‹å¼¦ä¹å™¨","catname3":"å‰ä»–"}]}
</code></pre>
<ul>
<li>ts äº¤æ˜“æ—¶é—´</li>
<li>orderId è®¢å•ç¼–å·</li>
<li>userId ç”¨æˆ·id</li>
<li>orderStatusId è®¢å•çŠ¶æ€Id</li>
<li>orderStatus è®¢å•çŠ¶æ€ 0-11ï¼šæœªæ”¯ä»˜,å·²æ”¯ä»˜,å‘è´§ä¸­,å·²å‘è´§,å‘è´§å¤±è´¥,å·²é€€æ¬¾,å·²å…³å•,è®¢å•è¿‡æœŸ,è®¢å•å·²å¤±æ•ˆ,äº§å“å·²å¤±æ•ˆ,ä»£ä»˜æ‹’ç»,æ”¯ä»˜ä¸­</li>
<li>payModelId æ”¯ä»˜æ–¹å¼id</li>
<li>payMode æ”¯ä»˜æ–¹å¼ï¼š0-6ï¼šå¾®ä¿¡,æ”¯ä»˜å®,ä¿¡ç”¨å¡,é“¶è”,è´§åˆ°ä»˜æ¬¾,ç°é‡‘,å…¶ä»–</li>
<li>paymentï¼šæ”¯ä»˜é‡‘é¢</li>
<li>productsï¼šè´­ä¹°å•†å“ ï¼ˆä¸€ä¸ªè®¢å•å¯èƒ½åŒ…å«å¤šä¸ªå•†å“ï¼Œè¿™é‡Œæ˜¯åµŒå¥—ç»“æ„ï¼‰</li>
<li>productId å•†å“Id</li>
<li>productName å•†å“åç§°</li>
<li>price å•ä»·</li>
<li>productNum è´­ä¹°æ•°é‡</li>
<li>categoryid å•†å“åˆ†ç±»Id</li>
<li>catname1 å•†å“ä¸€çº§åˆ†ç±»åç§°</li>
<li>catname2 å•†å“äºŒçº§åˆ†ç±»åç§°</li>
<li>catname3 å•†å“ä¸‰çº§åˆ†ç±»åç§°</li>
</ul>
<p>ä»¥ä¸Šçš„åµŒå¥—çš„jsonæ•°æ®æ ¼å¼ï¼ŒDruidä¸å¥½å¤„ç†ï¼Œéœ€è¦å¯¹æ•°æ®è¿›è¡Œé¢„å¤„ç†ï¼Œå°†æ•°æ®æ‹‰å¹³ï¼Œå¤„ç†åçš„æ•°æ®æ ¼å¼ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">{"ts":1607499629841,"orderId":"1009388","userId":"807134","orderStatusId":1,"orderStatus":"å·²æ”¯ä»˜","payModeId":0,"payMode":"å¾®ä¿¡","payment":"933.90","product":
{"productId":"102163","productName":"è´åˆxxx+ç²‰","price":18.7,"productNum":3,"categoryid":"10360","catname1":"å¨å«æ¸…æ´ã€çº¸åˆ¶ç”¨å“","catname2":"ç”Ÿæ´»æ—¥ç”¨","catname3":"æµ´å®¤ç”¨å“"}}
{"ts":1607499629841,"orderId":"1009388","userId":"807134","orderStatusId":1,"orderStatus":"å·²æ”¯ä»˜","payModeId":0,"payMode":"å¾®ä¿¡","payment":"933.90","product":
{"productId":"100349","productName":"COxxx0C","price":877.8,"productNum":1,"categoryid":"10302","catname1":"æ¯å©´ã€ç©å…·ä¹å™¨","catname2":"è¥¿æ´‹å¼¦ä¹å™¨","catname3":"å‰ä»–"}}
</code></pre>
<h2 data-id="heading-6">Kafkaç”Ÿäº§è€…</h2>
<p>å¥½ä¹…æ²¡ç”¨Scalaäº†ï¼Œç”¨Scalaå†™ä¸€ä¸ªï¼š</p>
<pre><code class="hljs language-scala" lang="scala"><span class="hljs-keyword">package</span> icu.wzk.kafka

<span class="hljs-keyword">import</span> org.apache.kafka.clients.producer.{<span class="hljs-type">KafkaProducer</span>, <span class="hljs-type">ProducerConfig</span>, <span class="hljs-type">ProducerRecord</span>}
<span class="hljs-keyword">import</span> org.apache.kafka.common.serialization.<span class="hljs-type">StringSerializer</span>

<span class="hljs-keyword">import</span> java.util.<span class="hljs-type">Properties</span>
<span class="hljs-keyword">import</span> scala.io.<span class="hljs-type">BufferedSource</span>

<span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">KafkaProducerForDruid</span> </span>{
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span></span>(args: <span class="hljs-type">Array</span>[<span class="hljs-type">String</span>]): <span class="hljs-type">Unit</span> = {
    <span class="hljs-keyword">val</span> brokers = <span class="hljs-string">"h121.wzk.icu:9092"</span>
    <span class="hljs-keyword">val</span> topic = <span class="hljs-string">"druid2"</span>
    <span class="hljs-keyword">val</span> prop = <span class="hljs-keyword">new</span> <span class="hljs-type">Properties</span>()
    prop.put(<span class="hljs-type">ProducerConfig</span>.<span class="hljs-type">BOOTSTRAP_SERVERS_CONFIG</span>, brokers)
    prop.put(<span class="hljs-type">ProducerConfig</span>.<span class="hljs-type">KEY_SERIALIZER_CLASS_CONFIG</span>, classOf[<span class="hljs-type">StringSerializer</span>])
    prop.put(<span class="hljs-type">ProducerConfig</span>.<span class="hljs-type">VALUE_SERIALIZER_CLASS_CONFIG</span>, classOf[<span class="hljs-type">StringSerializer</span>])

    <span class="hljs-keyword">val</span> producer = <span class="hljs-keyword">new</span> <span class="hljs-type">KafkaProducer</span>[<span class="hljs-type">String</span>, <span class="hljs-type">String</span>](prop);
    <span class="hljs-keyword">val</span> source: <span class="hljs-type">BufferedSource</span> = scala.io.<span class="hljs-type">Source</span>.fromFile(<span class="hljs-string">"orders1.json"</span>)
    <span class="hljs-keyword">val</span> iter: <span class="hljs-type">Iterator</span>[<span class="hljs-type">String</span>] = source.getLines();
    iter.foreach {
      line =&gt; <span class="hljs-keyword">val</span> msg = <span class="hljs-keyword">new</span> <span class="hljs-type">ProducerRecord</span>[<span class="hljs-type">String</span>, <span class="hljs-type">String</span>](topic, line);
        producer.send(msg)
        println(msg)
        <span class="hljs-type">Thread</span>.sleep(<span class="hljs-number">10</span>)
    }
    producer.close()
    source.close()
  }
}
</code></pre>
<p>è¿è¡Œç»“æœå¦‚ä¸‹å›¾ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8adbe8be8b24d618eb695883a5cfa4a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055970&amp;x-signature=YEkBpMeNO4WQyhejzdWg1uCNz2Y%3D" alt="Druid Kafka Producer" loading="lazy"/></p>
<h2 data-id="heading-7">Druidå¯¼å…¥æ•°æ®</h2>
<p>è¿™é‡Œå°±ä¸è¯¦ç»†æè¿°äº†ï¼Œä¹‹å‰å…¥é—¨é˜¶æ®µå·²ç»èµ°è¿‡å®Œæ•´çš„æµç¨‹äº†ï¼š</p>
<ul>
<li>JSONæ•°æ®è¦æ‹‰å¹³</li>
<li>ä¸å®šä¹‰ RollUp</li>
</ul>
<p>åŠ è½½æ•°æ®æºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1008894294984deea9332757d29231f5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055970&amp;x-signature=S03d53ZQB7r0RpOM2bPqK21gCZc%3D" alt="Druid æŸ¥çœ‹æ•°æ®" loading="lazy"/>
JSON æ‹‰å¹³ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6cd1473c441a4173af7379263d732923~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055970&amp;x-signature=WYplXTf6idWHnI75jdvzcS5iQ%2Fs%3D" alt="Druid å±•ç¤ºæ•°æ®" loading="lazy"/>
æ—¶é—´æˆ³ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0c6aa34e43c4266ad2302f9b7bb3b67~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055970&amp;x-signature=hHgwzwVP37SD60fkNXCCmKYrRvQ%3D" alt="Druid æ•°æ®æ—¶é—´æˆ³" loading="lazy"/>
ä¸è¦è¿›è¡Œ RollUpï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4947ec0a0733417fbcd9a3348db174ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055970&amp;x-signature=mmcVxVKqHW5ym6ziriMAxR3dwDM%3D" alt="Druid ä¸è¿›è¡Œ Roll Up" loading="lazy"/>
æœ€ç»ˆç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4167f58fad5a4be7899084c5e8dcf2ed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055970&amp;x-signature=rTXZx66y0mbEG55eKPYO6ttTvFk%3D" alt="Druid JSON æ•°æ®å±•ç¤º" loading="lazy"/>
è®¡ç®—ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a05bfed8a5641d49a86cd68bcf68290~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055970&amp;x-signature=qB20PHA5mShyr1LfPY1jlWEvEA0%3D" alt="Druid è®¡ç®—ç»“æœ" loading="lazy"/>
è¿è¡Œæµ‹è¯•çš„SQLï¼Œä¸€åˆ‡æ­£å¸¸ï¼
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/05def1636abe4311a9de6200dfd3f5b1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055970&amp;x-signature=5l9yJ7wXhplXUSHXSRzxnRmZZrM%3D" alt="Druid SQL è¿è¡Œç»“æœ" loading="lazy"/></p>
<h2 data-id="heading-8">æŸ¥è¯¢è®¡ç®—</h2>
<h3 data-id="heading-9">è®¢å•æ€»æ•°</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æŸ¥è¯¢è®¢å•æ€»æ•°</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">COUNT</span>(<span class="hljs-keyword">distinct</span> orderId) <span class="hljs-keyword">as</span> orderscount
<span class="hljs-keyword">FROM</span> druid2
</code></pre>
<p>è¿è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef56f55e67ef40be82ebf203223660f1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055970&amp;x-signature=5E6ugYRl1nsB4MV5IiRnFLQ82yI%3D" alt="Druid SQL æ‰§è¡Œç•Œé¢" loading="lazy"/></p>
<h3 data-id="heading-10">ç”¨æˆ·æ€»æ•°</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æŸ¥è¯¢ç”¨æˆ·æ€»æ•°</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">COUNT</span>(<span class="hljs-keyword">distinct</span> userId) <span class="hljs-keyword">as</span> usercount
<span class="hljs-keyword">FROM</span> druid2
</code></pre>
<p>è¿è¡Œç»“æœå¦‚ä¸‹å›¾ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eea20f1e6e36451dbe398ac53431449a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055970&amp;x-signature=EQ93CnjJAzevu2oDAaYMZpEW%2F4U%3D" alt="Druid æŸ¥è¯¢ç”¨æˆ·çš„æ€»æ•°" loading="lazy"/></p>
<h3 data-id="heading-11">ç»Ÿè®¡ç»“æœçŠ¶æ€è®¢å•æ•°</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ç»Ÿè®¡å„ç§è®¢å•çŠ¶æ€çš„è®¢å•æ•°</span>
<span class="hljs-keyword">SELECT</span> orderStatus, <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>)
<span class="hljs-keyword">FROM</span> (
  <span class="hljs-keyword">SELECT</span> orderId, orderStatus
  <span class="hljs-keyword">FROM</span> druid2
  <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> orderId, orderStatus
)
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> orderStatus
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6636a79402cf4eafb0830139a326c7f5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055970&amp;x-signature=Mp5VmRAHWx08tt%2Fi65I0ZHQDQTc%3D" alt="Druid è¿›è¡Œèšåˆçš„ç»“æœ" loading="lazy"/></p>
<h3 data-id="heading-12">ç»Ÿè®¡å„ç§æ”¯ä»˜æ–¹å¼çš„è®¢å•æ•°</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ç»Ÿè®¡å„ç§æ”¯ä»˜æ–¹å¼è®¢å•æ•°</span>
<span class="hljs-keyword">SELECT</span> payMode, <span class="hljs-built_in">count</span>(<span class="hljs-number">1</span>)
<span class="hljs-keyword">FROM</span> (
  <span class="hljs-keyword">SELECT</span> orderId, payMode
  <span class="hljs-keyword">FROM</span> druid2
  <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> orderId, payMode
)
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> payMode
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d8da696a6b254c88800c8fdd21460503~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055970&amp;x-signature=jIT%2FPUa2LIGB7XGE3A1vKQ%2Bp9nI%3D" alt="Druid èšåˆç»“æœ" loading="lazy"/></p>
<h3 data-id="heading-13">è®¢å•é‡‘é¢æœ€å¤§çš„å‰10å</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- è®¢å•é‡‘é¢æœ€å¤§çš„å‰10å</span>
<span class="hljs-keyword">SELECT</span> orderId, payment, <span class="hljs-built_in">count</span>(<span class="hljs-number">1</span>) <span class="hljs-keyword">as</span> productcount, <span class="hljs-built_in">sum</span>("product.productNum") <span class="hljs-keyword">as</span> products
<span class="hljs-keyword">FROM</span> druid2
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> orderId, payment
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/60cb3756a8244551a435aac14f9b778a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764055970&amp;x-signature=CQ4j1xSrJTzv11pmynvJLV5G90A%3D" alt="Druid è®¢å•é‡‘é¢æœ€å¤§çš„å‰10å" loading="lazy"/></p>
<h2 data-id="heading-14">æ¡ˆä¾‹å°èŠ‚</h2>
<ul>
<li>åœ¨é…ç½®æ‘„å…¥æºæ—¶è¦è®¾ç½®ä¸ºTrueä»æµçš„å¼€å§‹è¿›è¡Œæ¶ˆè´¹æ•°æ®ï¼Œå¦åˆ™åœ¨æ•°æ®æºä¸­å¯èƒ½æŸ¥ä¸åˆ°æ•°æ®</li>
<li>Druidçš„JOINèƒ½åŠ›éå¸¸æœ‰é™ï¼Œåˆ†ç»„æˆ–è€…èšåˆå¤šçš„åœºæ™¯æ¨èä½¿ç”¨</li>
<li>SQLæ”¯æŒèƒ½åŠ›éå¸¸å—é™</li>
<li>æ•°æ®çš„åˆ†åŒºç»„ç»‡åªæœ‰æ—¶é—´åºåˆ—ä¸€ç§æ–¹å¼</li>
</ul>
<h2 data-id="heading-15">é”™è¯¯é€ŸæŸ¥</h2>






































































<table><thead><tr><th>ç—‡çŠ¶</th><th>æ ¹å› å®šä½</th><th>ä¿®å¤</th></tr></thead><tbody><tr><td>Druid è¡¨æ— æ•°æ®/å¾ˆå°‘æ¶ˆè´¹</td><td>ä½ç‚¹ä» latest å¼€å§‹ï¼Œå†å²æœªæ‰«</td><td>æŸ¥ä»»åŠ¡æ—¥å¿—ä¸ Kafka Lagï¼›åœ¨ ingestion spec è®¾ useEarliestOffset: true æˆ–ç­‰ä»·å‚æ•°ï¼Œé‡è·‘ä»»åŠ¡</td></tr><tr><td>æ—¶é—´ç­›é€‰æŸ¥ä¸åˆ°æ•°æ®</td><td>ts å•ä½/æ—¶åŒºä¸ç¬¦</td><td>SELECT __time FROM ... LIMIT 10ï¼›æ ¡æ­£ timestampSpecï¼ˆæ ¼å¼/æ—¶åŒº/å•ä½ï¼‰ï¼Œç¡®ä¿ tsâ†’__time æ­£ç¡®</td></tr><tr><td>æ•°å€¼åˆ—è¢«å½“ä½œå­—ç¬¦ä¸²</td><td>JSON å­—æ®µç±»å‹ä¸ä¸€è‡´</td><td>æŸ¥è¯¢ EXPLAIN/æ ·ä¾‹è¡Œï¼›åœ¨é¢„å¤„ç†ç»Ÿä¸€ç±»å‹ï¼›æˆ– Druid schema ä¸­è®¾æ­£ç¡®ç±»å‹å¹¶åŠ è½¬æ¢</td></tr><tr><td>è®¡æ•°ç»“æœå¼‚å¸¸</td><td>å¯ç”¨/è¯¯ç”¨ Rollup æˆ–é‡å¤å±•å¼€</td><td>æŸ¥ ingestionSpec ä¸æ ·ä¾‹æ˜ç»†ï¼›åˆ†æå…³ Rollupï¼›æ•°ç»„å±•å¼€ä»…ä¸€å¤„è¿›è¡Œï¼Œé¿å…é‡å¤</td></tr><tr><td>è®¢å•æ•°ä¸è¡Œæ•°ä¸ç­‰</td><td>æ¯ä¸ª product æ‹†è¡Œå¯¼è‡´é‡å¤ orderId</td><td>COUNT(DISTINCT orderId)ï¼›è§£é‡Šå£å¾„å·®å¼‚ï¼›ç»´åº¦å£å¾„ç”¨ distinct/order ç²’åº¦å­æŸ¥è¯¢</td></tr><tr><td>æ‘„å–ä»»åŠ¡å¡ä½ PENDING</td><td>MiddleManager/Indexer èµ„æºæ§½ä¸è¶³</td><td>Overlord UI/ä»»åŠ¡æ—¥å¿—ï¼›æ‰©å®¹ task slots æˆ–é™ä½å¹¶å‘ï¼›æ£€æŸ¥ YARN/K8s èµ„æº</td></tr><tr><td>Kafka Lag ä¸æ–­å‡é«˜</td><td>ä»»åŠ¡å¹¶å‘ &lt; åˆ†åŒºæ•° / å•æ¡å¤ªå¤§</td><td>Kafka åˆ†åŒºä¸ä»»åŠ¡å¹¶å‘å¯¹æ¯”ï¼›ä»»åŠ¡æ•°â‰¥åˆ†åŒºæ•°ï¼›è°ƒå¤§ maxRowsInMemory/æ‰¹é‡ä¸å‹ç¼©</td></tr><tr><td>æŸ¥è¯¢è¶…æ—¶</td><td>Segment è¿‡ç¢/å†å²èŠ‚ç‚¹å‹åŠ›å¤§</td><td>Broker/Historical æŒ‡æ ‡ï¼›è°ƒæ•´ segmentGranularityã€åˆå¹¶æ®µã€åŠ ç¼“å­˜ä¸å¹¶è¡Œåº¦/æ‰©å®¹</td></tr><tr><td>æ—¶é—´åˆ—ä¸ºç©ºæˆ–å…¨ 1970</td><td>æ—¶é—´è§£æå¤±è´¥</td><td>ä»»åŠ¡æ—¥å¿—ä¸­ timestamp é”™è¯¯ï¼›ä¿®æ­£æ—¶é—´æ ¼å¼æˆ–å•ä½ï¼ˆms/ç§’ï¼‰ï¼›å¿…è¦æ—¶é¢„å¤„ç†è½¬æ ‡å‡† ISO8601</td></tr><tr><td>ç»´åº¦è¿‡å¤šå¯¼è‡´æ…¢</td><td>é«˜åŸºæ•°ç»´åº¦æœªä¼˜åŒ–</td><td>CARDINALITY æŒ‡æ ‡ï¼›ä¸ºé«˜åŸºæ•°ç»´åº¦å¯ç”¨ç´¢å¼•/å­—å…¸å‹ç¼©ï¼›å¿…è¦æ—¶ä¸‹æ¨åˆ°ç¦»çº¿å±‚</td></tr><tr><td>SQL æŠ¥å¤šå€¼èšåˆé”™è¯¯</td><td>å¤šå€¼åˆ—ç”¨ä¸æ”¯æŒçš„èšåˆ</td><td>æŠ¥é”™å †æ ˆï¼›ä½¿ç”¨ array_length/UNNEST/åˆé€‚èšåˆï¼Œæˆ–é¢„å¤„ç†æˆå•å€¼</td></tr><tr><td>ä»»åŠ¡é¢‘ç¹é‡å¯</td><td>Offsets æäº¤/ç»„ ID é…ç½®ä¸å½“</td><td>Kafka æ¶ˆè´¹ç»„æ—¥å¿—ï¼›å›ºå®š consumerProperties ä¸ç»„ IDï¼›å¯ç”¨ç¨³å®šçš„æäº¤ç­–ç•¥</td></tr></tbody></table>
<h2 data-id="heading-16">å…¶ä»–ç³»åˆ—</h2>
<h3 data-id="heading-17">ğŸš€ AIç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>AIç‚¼ä¸¹æ—¥å¿—-29 - å­—èŠ‚è·³åŠ¨ DeerFlow æ·±åº¦ç ”ç©¶æ¡†<em>æ–œä½“æ ·å¼</em>æ¶ ç§æœ‰éƒ¨ç½² æµ‹è¯•ä¸Šæ‰‹ æ¶æ„ç ”ç©¶</strong>ï¼ŒæŒç»­æ‰“é€ å®ç”¨AIå·¥å…·æŒ‡å—ï¼
<strong>AIç ”ç©¶-127 Qwen2.5-Omni æ·±è§£ï¼šThinker-Talker åŒæ ¸ã€TMRoPE ä¸æµå¼è¯­éŸ³</strong>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fw776341482%2Fcategory_12794137.html" target="_blank" title="https://blog.csdn.net/w776341482/category_12794137.html" ref="nofollow noopener noreferrer">ğŸ”— AIæ¨¡å—ç›´è¾¾é“¾æ¥ </a></p>
<h3 data-id="heading-18">ğŸ’» Javaç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>Java-174 FastFDS ä»å•æœºåˆ°åˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨ï¼šå®æˆ˜ä¸æ¶æ„å–èˆ</strong>
MyBatis å·²å®Œç»“ï¼ŒSpring å·²å®Œç»“ï¼ŒNginxå·²å®Œç»“ï¼ŒTomcatå·²å®Œç»“ï¼Œåˆ†å¸ƒå¼æœåŠ¡å·²å®Œç»“ï¼ŒDubboå·²å®Œç»“ï¼ŒMySQLå·²å®Œç»“ï¼ŒMongoDBå·²å®Œç»“ï¼ŒNeo4jå·²å®Œç»“ï¼ŒFastDFS æ­£åœ¨æ›´æ–°ï¼Œæ·±å…¥æµ…å‡ºåŠ©ä½ æ‰“ç‰¢åŸºç¡€ï¼
<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fw776341482%2Fcategory_12833348.html" target="_blank" title="https://blog.csdn.net/w776341482/category_12833348.html" ref="nofollow noopener noreferrer">ğŸ”— Javaæ¨¡å—ç›´è¾¾é“¾æ¥</a></p>
<h3 data-id="heading-19">ğŸ“Š å¤§æ•°æ®æ¿å—å·²å®Œæˆå¤šé¡¹å¹²è´§æ›´æ–°ï¼ˆ300ç¯‡ï¼‰ï¼š</h3>
<p>åŒ…æ‹¬ Hadoopã€Hiveã€Kafkaã€Flinkã€ClickHouseã€Elasticsearch ç­‰äºŒåä½™é¡¹æ ¸å¿ƒç»„ä»¶ï¼Œè¦†ç›–ç¦»çº¿+å®æ—¶æ•°ä»“å…¨æ ˆï¼
<strong>å¤§æ•°æ®-278 Spark MLib - åŸºç¡€ä»‹ç» æœºå™¨å­¦ä¹ ç®—æ³• æ¢¯åº¦æå‡æ ‘ GBDTæ¡ˆä¾‹ è¯¦è§£</strong>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fw776341482%2Fcategory_12713819.html" target="_blank" title="https://blog.csdn.net/w776341482/category_12713819.html" ref="nofollow noopener noreferrer">ğŸ”— å¤§æ•°æ®æ¨¡å—ç›´è¾¾é“¾æ¥</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Chrome/Firefox æµè§ˆå™¨æ‰©å±•å¼€å‘å®Œæ•´æŒ‡å—]]></title>    <link>https://juejin.cn/post/7572997791452020774</link>    <guid>https://juejin.cn/post/7572997791452020774</guid>    <pubDate>2025-11-17T03:29:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572997791452020774" data-draft-id="7571729676344033343" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Chrome/Firefox æµè§ˆå™¨æ‰©å±•å¼€å‘å®Œæ•´æŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯,Chrome"/> <meta itemprop="datePublished" content="2025-11-17T03:29:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‡³ç®€ç®€"/> <meta itemprop="url" content="https://juejin.cn/user/4212984286819384"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Chrome/Firefox æµè§ˆå™¨æ‰©å±•å¼€å‘å®Œæ•´æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4212984286819384/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‡³ç®€ç®€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T03:29:00.000Z" title="Mon Nov 17 2025 03:29:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æµè§ˆå™¨æ‰©å±•</h2>
<p>æµè§ˆå™¨æ‰©å±•ï¼ˆBrowser Extensionï¼‰æ˜¯ä¸€ç§å¯ä»¥ä¿®æ”¹å’Œå¢å¼ºæµè§ˆå™¨åŠŸèƒ½çš„å°å‹è½¯ä»¶ç¨‹åºã€‚å®ƒä»¬ä½¿ç”¨ Web æŠ€æœ¯ï¼ˆHTMLã€CSSã€JavaScriptï¼‰å¼€å‘ï¼Œå¯ä»¥åœ¨ç”¨æˆ·æµè§ˆç½‘é¡µæ—¶æä¾›é¢å¤–åŠŸèƒ½ã€‚</p>
<h3 data-id="heading-1">å…¸å‹åº”ç”¨åœºæ™¯</h3>








































<table><thead><tr><th>ç±»å‹</th><th>ç¤ºä¾‹</th><th>æŠ€æœ¯è¦ç‚¹</th></tr></thead><tbody><tr><td><strong>å†…å®¹å¢å¼º</strong></td><td>å¹¿å‘Šæ‹¦æˆªå™¨ï¼ˆAdBlockï¼‰ã€è¯­æ³•æ£€æŸ¥ï¼ˆGrammarlyï¼‰</td><td>Content Scriptsã€DOM æ“ä½œ</td></tr><tr><td><strong>ç”Ÿäº§åŠ›å·¥å…·</strong></td><td>å¯†ç ç®¡ç†å™¨ã€ç¬”è®°å·¥å…·ã€æˆªå›¾å·¥å…·</td><td>Storage APIã€Context Menu</td></tr><tr><td><strong>æ•°æ®è·å–</strong></td><td>ä»·æ ¼è¿½è¸ªã€å¤©æ°”æŸ¥è¯¢ã€æ–°é—»è®¢é˜…</td><td>Fetch APIã€å®šæ—¶ä»»åŠ¡</td></tr><tr><td><strong>é¡µé¢ä¿®æ”¹</strong></td><td>æš—é»‘æ¨¡å¼ã€å­—ä½“æ›¿æ¢ã€æ ·å¼è°ƒæ•´</td><td>CSS æ³¨å…¥ã€åŠ¨æ€ DOM</td></tr><tr><td><strong>å¼€å‘å·¥å…·</strong></td><td>React DevToolsã€Vue DevTools</td><td>DevTools APIã€æ¶ˆæ¯ä¼ é€’</td></tr><tr><td><strong>æ ‡ç­¾ç®¡ç†</strong></td><td>OneTabã€Session Buddy</td><td>Tabs APIã€Bookmarks API</td></tr></tbody></table>
<h3 data-id="heading-2">æ‰©å±•çš„ä¼˜åŠ¿</h3>
<ul>
<li>âœ… <strong>ç›´æ¥è®¿é—®æµè§ˆå™¨ API</strong>ï¼šæ¯”ç½‘é¡µåº”ç”¨æœ‰æ›´å¼ºçš„èƒ½åŠ›</li>
<li>âœ… <strong>æ— éœ€æœåŠ¡å™¨</strong>ï¼šå¯ä»¥å®Œå…¨ç¦»çº¿è¿è¡Œ</li>
<li>âœ… <strong>è·¨é¡µé¢å·¥ä½œ</strong>ï¼šå¯ä»¥åœ¨æ‰€æœ‰æ ‡ç­¾é¡µä¸­ç”Ÿæ•ˆ</li>
<li>âœ… <strong>æŒä¹…åŒ–å­˜å‚¨</strong>ï¼šä½¿ç”¨æµè§ˆå™¨æä¾›çš„å­˜å‚¨ API</li>
<li>âœ… <strong>ç”¨æˆ·åŸºæ•°å¤§</strong>ï¼šChrome Web Store å’Œ Firefox Add-ons æœ‰åºå¤§ç”¨æˆ·ç¾¤</li>
</ul>
<h2 data-id="heading-3">æ ¸å¿ƒæ¦‚å¿µ</h2>
<h3 data-id="heading-4">1. Manifest æ–‡ä»¶ï¼šæ‰©å±•çš„èº«ä»½è¯</h3>
<p>Manifest æ˜¯æ‰©å±•çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œå®šä¹‰äº†æ‰©å±•çš„æ‰€æœ‰ä¿¡æ¯ã€æƒé™å’Œè¡Œä¸ºã€‚</p>
<p><strong>åŸºç¡€ç»“æ„ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"manifest_version"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æˆ‘çš„æ‰©å±•"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1.0.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹æ‰©å±•"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"icons"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"16"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-16.png"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"48"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-48.png"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"128"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-128.png"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"storage"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"activeTab"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"host_permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"https://*/*"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"action"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"default_popup"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"popup.html"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"default_icon"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-32.png"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"default_title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ç‚¹å‡»æ‰“å¼€"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>Manifestä¸»è¦æœ‰v2å’Œv3ä¸¤ç§ï¼Œç°åœ¨ä»¥ v3 ä¸ºä¸»</p>
<p><strong>Manifest V2 vs V3 ä¸»è¦å·®å¼‚ï¼š</strong></p>



































<table><thead><tr><th>ç‰¹æ€§</th><th>Manifest V2</th><th>Manifest V3</th></tr></thead><tbody><tr><td>åå°è„šæœ¬</td><td><code>background.page</code> / <code>background.scripts</code></td><td><code>background.service_worker</code></td></tr><tr><td>ç½‘ç»œè¯·æ±‚</td><td><code>webRequest</code> APIï¼ˆåŒæ­¥é˜»å¡ï¼‰</td><td><code>declarativeNetRequest</code>ï¼ˆå£°æ˜å¼ï¼‰</td></tr><tr><td>ä»£ç æ‰§è¡Œ</td><td><code>executeScript</code></td><td><code>scripting.executeScript</code></td></tr><tr><td>è¿œç¨‹ä»£ç </td><td>å…è®¸</td><td>ç¦æ­¢ï¼ˆå¿…é¡»æ‰“åŒ…åœ¨æ‰©å±•å†…ï¼‰</td></tr><tr><td>å®‰å…¨æ€§</td><td>ä¸€èˆ¬</td><td>æ›´å¼ºï¼ˆCSP æ›´ä¸¥æ ¼ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-5">2. äº”å¤§æ ¸å¿ƒç»„ä»¶è¯¦è§£</h3>
<h4 data-id="heading-6">ç»„ä»¶æ¶æ„å›¾</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ca126b36fd614f3fb5946616794b929a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Iez566A566A:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763954940&amp;x-signature=GYU%2FazDjFUfHAOAho8DxpNq7uOA%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li><strong>Background Script (åå°è„šæœ¬):</strong> Â æ‰©å±•çš„æ ¸å¿ƒï¼ŒæŒç»­è¿è¡Œåœ¨åå°ï¼Œå¤„ç†äº‹ä»¶å’Œåè°ƒå…¶ä»–ç»„ä»¶</li>
<li><strong>Popup (å¼¹çª—UI):</strong> Â ç”¨æˆ·ç‚¹å‡»æ‰©å±•å›¾æ ‡æ—¶æ˜¾ç¤ºçš„ç•Œé¢</li>
<li><strong>Content Script (å†…å®¹è„šæœ¬):</strong> Â æ³¨å…¥åˆ°ç½‘é¡µä¸­çš„è„šæœ¬ï¼Œå¯ä»¥è®¿é—®å’Œä¿®æ”¹é¡µé¢DOM</li>
<li><strong>Options Page (é€‰é¡¹é¡µé¢):</strong> Â æ‰©å±•çš„è®¾ç½®é¡µé¢ï¼Œç”¨äºé…ç½®é€‰é¡¹</li>
<li><strong>Web Page DOM:</strong> Â å®é™…ç½‘é¡µçš„æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ŒContent Scriptå¯ä»¥ç›´æ¥æ“ä½œ</li>
</ul>
<h4 data-id="heading-7">ç»„ä»¶å¯¹æ¯”è¡¨</h4>





















































<table><thead><tr><th>ç»„ä»¶</th><th>è¿è¡Œç¯å¢ƒ</th><th>ç”Ÿå‘½å‘¨æœŸ</th><th>èƒ½è®¿é—® DOM</th><th>èƒ½ä½¿ç”¨ Chrome API</th><th>é€šä¿¡æ–¹å¼</th></tr></thead><tbody><tr><td><strong>Background</strong></td><td>ç‹¬ç«‹ä¸Šä¸‹æ–‡</td><td>é•¿æœŸ/äº‹ä»¶è§¦å‘</td><td>âŒ</td><td>âœ… å…¨éƒ¨</td><td><code>runtime.sendMessage</code></td></tr><tr><td><strong>Content Script</strong></td><td>ç½‘é¡µä¸Šä¸‹æ–‡</td><td>éšé¡µé¢åŠ è½½</td><td>âœ… é¡µé¢ DOM</td><td>âš ï¸ éƒ¨åˆ†</td><td><code>runtime.sendMessage</code></td></tr><tr><td><strong>Popup</strong></td><td>ç‹¬ç«‹çª—å£</td><td>å¼¹çª—æ‰“å¼€æ—¶</td><td>âœ… è‡ªèº« DOM</td><td>âœ… å…¨éƒ¨</td><td>ç›´æ¥è°ƒç”¨æˆ–æ¶ˆæ¯</td></tr><tr><td><strong>Options</strong></td><td>ç‹¬ç«‹é¡µé¢</td><td>è®¾ç½®é¡µæ‰“å¼€æ—¶</td><td>âœ… è‡ªèº« DOM</td><td>âœ… å…¨éƒ¨</td><td>ç›´æ¥è°ƒç”¨æˆ–æ¶ˆæ¯</td></tr><tr><td><strong>DevTools</strong></td><td>DevTools é¢æ¿</td><td>DevTools æ‰“å¼€æ—¶</td><td>âš ï¸ é€šè¿‡ inspectedWindow</td><td>âœ… éƒ¨åˆ†</td><td><code>runtime.connect</code></td></tr></tbody></table>
<h3 data-id="heading-8">3. æƒé™ç³»ç»Ÿ</h3>
<h4 data-id="heading-9">æƒé™ç±»å‹</h4>
<p><strong>åŸºæœ¬æƒé™ï¼ˆpermissionsï¼‰ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"storage"</span><span class="hljs-punctuation">,</span>        <span class="hljs-comment">// ä½¿ç”¨ chrome.storage API</span>
    <span class="hljs-string">"activeTab"</span><span class="hljs-punctuation">,</span>      <span class="hljs-comment">// è®¿é—®å½“å‰æ´»åŠ¨æ ‡ç­¾é¡µ</span>
    <span class="hljs-string">"tabs"</span><span class="hljs-punctuation">,</span>          <span class="hljs-comment">// è®¿é—®æ ‡ç­¾é¡µä¿¡æ¯ï¼ˆURLã€æ ‡é¢˜ç­‰ï¼‰</span>
    <span class="hljs-string">"notifications"</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// æ˜¾ç¤ºç³»ç»Ÿé€šçŸ¥</span>
    <span class="hljs-string">"alarms"</span><span class="hljs-punctuation">,</span>        <span class="hljs-comment">// å®šæ—¶ä»»åŠ¡</span>
    <span class="hljs-string">"contextMenus"</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// å³é”®èœå•</span>
    <span class="hljs-string">"cookies"</span><span class="hljs-punctuation">,</span>       <span class="hljs-comment">// è®¿é—® Cookie</span>
    <span class="hljs-string">"downloads"</span><span class="hljs-punctuation">,</span>     <span class="hljs-comment">// ç®¡ç†ä¸‹è½½</span>
    <span class="hljs-string">"bookmarks"</span><span class="hljs-punctuation">,</span>     <span class="hljs-comment">// ç®¡ç†ä¹¦ç­¾</span>
    <span class="hljs-string">"history"</span>        <span class="hljs-comment">// è®¿é—®å†å²è®°å½•</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>ä¸»æœºæƒé™ï¼ˆhost_permissionsï¼‰ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"host_permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"https://api.example.com/*"</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// ç‰¹å®šåŸŸå</span>
    <span class="hljs-string">"https://*/*"</span><span class="hljs-punctuation">,</span>                 <span class="hljs-comment">// æ‰€æœ‰ HTTPS ç½‘ç«™</span>
    <span class="hljs-string">"&lt;all_urls&gt;"</span>                   <span class="hljs-comment">// æ‰€æœ‰ç½‘ç«™ï¼ˆéœ€è°¨æ…ï¼‰</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-10">æƒé™æœ€å°åŒ–åŸåˆ™</h4>
<p>âš ï¸ <strong>é‡è¦</strong>ï¼šåªè¯·æ±‚å¿…è¦çš„æƒé™ï¼Œè¿‡å¤šæƒé™ä¼šï¼š</p>
<ul>
<li>é™ä½ç”¨æˆ·ä¿¡ä»»åº¦</li>
<li>å¢åŠ å®¡æ ¸éš¾åº¦</li>
<li>å½±å“å•†åº—æ’å</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// âŒ ä¸å¥½ï¼šè¯·æ±‚äº†ä¸å¿…è¦çš„æƒé™</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"tabs"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"history"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"bookmarks"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"&lt;all_urls&gt;"</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>

<span class="hljs-comment">// âœ… å¥½ï¼šåªè¯·æ±‚å®é™…ä½¿ç”¨çš„æƒé™</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"storage"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"activeTab"</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<hr/>
<h2 data-id="heading-11">é¡¹ç›®æ¶æ„ä¸æŠ€æœ¯æ ˆ</h2>
<h3 data-id="heading-12">æŠ€æœ¯é€‰å‹</h3>
<p>ç¬”è€…æ¨èç›´æ¥ä½¿ç”¨ç°æˆçš„å¼€å‘æ¨¡æ¿ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FJohnBra%2Fvite-web-extension" target="_blank" title="https://github.com/JohnBra/vite-web-extension" ref="nofollow noopener noreferrer">github.com/JohnBra/vitâ€¦</a></p>
<h2 data-id="heading-13">ä»¥ vite-web-extension æ¨¡æ¿å¼€å‘çš„æ¯æ—¥é‡‘ä»·å°ä¾‹å­</h2>
<h3 data-id="heading-14">1. å‰ç½®è¦æ±‚</h3>
<ul>
<li><strong>Node.js</strong>: &gt;= 16.xï¼ˆæ¨è 18.x æˆ– 20.xï¼‰</li>
<li><strong>åŒ…ç®¡ç†å™¨</strong>: npm / yarn / pnpmï¼ˆæ¨è pnpmï¼‰</li>
<li><strong>æµè§ˆå™¨</strong>: Chrome æˆ– Firefox æœ€æ–°ç‰ˆ</li>
</ul>
<p>æ£€æŸ¥ç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">node --version   <span class="hljs-comment"># v20.x.x</span>
npm --version    <span class="hljs-comment"># 10.x.x</span>
</code></pre>
<h3 data-id="heading-15">2. é¡¹ç›®åˆå§‹åŒ–</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å…‹éš†é¡¹ç›®æˆ–ä½¿ç”¨æ¨¡æ¿</span>
git <span class="hljs-built_in">clone</span> https://github.com/JohnBra/vite-web-extension

<span class="hljs-comment"># å®‰è£…ä¾èµ–</span>
pnpm install

<span class="hljs-comment"># æˆ–ä½¿ç”¨ npm</span>
npm install
</code></pre>
<h3 data-id="heading-16">3. å¼€å‘æ¨¡å¼å¯åŠ¨</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Chrome å¼€å‘æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰</span>
pnpm dev
<span class="hljs-comment"># æˆ–</span>
pnpm dev:chrome

<span class="hljs-comment"># Firefox å¼€å‘æ¨¡å¼</span>
pnpm dev:firefox
</code></pre>
<p><strong>å¼€å‘æ¨¡å¼ç‰¹æ€§ï¼š</strong></p>
<ul>
<li>âœ… è‡ªåŠ¨ç›‘å¬æ–‡ä»¶å˜åŒ–</li>
<li>âœ… çƒ­é‡è½½ï¼ˆnodemon è‡ªåŠ¨é‡æ–°æ„å»ºï¼‰</li>
<li>âœ… Source Map æ”¯æŒ</li>
<li>âœ… å¼€å‘ç¯å¢ƒä¸“ç”¨å›¾æ ‡</li>
<li>âœ… è¯¦ç»†çš„é”™è¯¯æ—¥å¿—</li>
</ul>
<h3 data-id="heading-17">4. åŠ è½½æ‰©å±•åˆ°æµè§ˆå™¨</h3>
<h4 data-id="heading-18">Chrome / Edge</h4>
<ol>
<li>
<p>æ‰“å¼€æ‰©å±•ç®¡ç†é¡µé¢ï¼š</p>
<ul>
<li>åœ°å€æ è¾“å…¥ <code>chrome://extensions</code></li>
<li>æˆ–é€šè¿‡èœå•ï¼šæ›´å¤šå·¥å…· â†’ æ‰©å±•ç¨‹åº</li>
</ul>
</li>
<li>
<p>å¼€å¯<strong>å¼€å‘è€…æ¨¡å¼</strong>ï¼ˆå³ä¸Šè§’å¼€å…³ï¼‰</p>
</li>
<li>
<p>ç‚¹å‡» <strong>"åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº"</strong></p>
</li>
<li>
<p>é€‰æ‹©é¡¹ç›®çš„ <code>dist_chrome</code> æ–‡ä»¶å¤¹</p>
</li>
<li>
<p>æ‰©å±•åŠ è½½æˆåŠŸï¼Œå¯ä»¥çœ‹åˆ°å¼€å‘ç‰ˆå›¾æ ‡</p>
</li>
</ol>
<p><strong>å¸¸è§é—®é¢˜ï¼š</strong></p>
<ul>
<li>âš ï¸ å¦‚æœä¿®æ”¹äº† Manifestï¼Œéœ€è¦ç‚¹å‡»åˆ·æ–°æŒ‰é’®</li>
<li>âš ï¸ Content Script ä¿®æ”¹åï¼Œéœ€è¦åˆ·æ–°ç›®æ ‡ç½‘é¡µ</li>
<li>âš ï¸ Popup å’Œ Options é¡µé¢å¯ä»¥ç›´æ¥åˆ·æ–°</li>
</ul>
<h4 data-id="heading-19">Firefox</h4>
<ol>
<li>
<p>æ‰“å¼€è°ƒè¯•é¡µé¢ï¼š</p>
<ul>
<li>åœ°å€æ è¾“å…¥ <code>about:debugging#/runtime/this-firefox</code></li>
<li>æˆ–é€šè¿‡èœå•ï¼šé™„åŠ ç»„ä»¶å’Œä¸»é¢˜ â†’ ç®¡ç†æ‰©å±• â†’ è°ƒè¯•é™„åŠ ç»„ä»¶</li>
</ul>
</li>
<li>
<p>ç‚¹å‡» <strong>"ä¸´æ—¶è½½å…¥é™„åŠ ç»„ä»¶"</strong></p>
</li>
<li>
<p>é€‰æ‹© <code>dist_firefox</code> æ–‡ä»¶å¤¹ä¸­çš„ <code>manifest.json</code> æ–‡ä»¶</p>
</li>
<li>
<p>æ‰©å±•åŠ è½½æˆåŠŸ</p>
</li>
</ol>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>âš ï¸ Firefox çš„ä¸´æ—¶æ‰©å±•åœ¨æµè§ˆå™¨å…³é—­åä¼šè¢«å¸è½½</li>
<li>âš ï¸ æ¯æ¬¡é‡å¯æµè§ˆå™¨éœ€è¦é‡æ–°åŠ è½½</li>
</ul>
<h3 data-id="heading-20">5. éªŒè¯å®‰è£…</h3>
<p>åŠ è½½æ‰©å±•åï¼ŒéªŒè¯ä»¥ä¸‹åŠŸèƒ½ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. æ‰“å¼€ Popup</span>
<span class="hljs-comment">//    ç‚¹å‡»æ‰©å±•å›¾æ ‡ï¼Œåº”è¯¥çœ‹åˆ°é»„é‡‘ä»·æ ¼æŸ¥è¯¢ç•Œé¢</span>

<span class="hljs-comment">// 2. æŸ¥çœ‹ Background Script æ—¥å¿—</span>
<span class="hljs-comment">//    åœ¨æ‰©å±•ç®¡ç†é¡µé¢ï¼Œç‚¹å‡»"service worker"æˆ–"èƒŒæ™¯é¡µ"</span>
<span class="hljs-comment">//    æ§åˆ¶å°åº”è¯¥æ˜¾ç¤ºï¼š'background script loaded'</span>

<span class="hljs-comment">// 3. æŸ¥çœ‹ Content Script</span>
<span class="hljs-comment">//    è®¿é—®ä»»æ„ç½‘ç«™ï¼Œæ‰“å¼€å¼€å‘è€…å·¥å…·</span>
<span class="hljs-comment">//    åº”è¯¥çœ‹åˆ°é¡µé¢å·¦ä¸‹è§’æœ‰é»„è‰²æç¤ºï¼š"content script loaded"</span>

<span class="hljs-comment">// 4. æ‰“å¼€ Options é¡µé¢</span>
<span class="hljs-comment">//    å³é”®ç‚¹å‡»æ‰©å±•å›¾æ ‡ â†’ é€‰é¡¹</span>
<span class="hljs-comment">//    åº”è¯¥æ˜¾ç¤ºè®¾ç½®é¡µé¢</span>
</code></pre>
<hr/>
<h2 data-id="heading-21">Manifest é…ç½®è¯¦è§£</h2>
<h3 data-id="heading-22">å®Œæ•´é…ç½®æ–‡ä»¶</h3>
<p>æœ¬é¡¹ç›®çš„ <code>manifest.json</code>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"manifest_version"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1.0.0"</span><span class="hljs-punctuation">,</span>
  
  <span class="hljs-attr">"icons"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"16"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-16.png"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"32"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-32.png"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"48"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-48.png"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"128"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-128.png"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  
  <span class="hljs-attr">"action"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"default_popup"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"src/pages/popup/index.html"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"default_icon"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"32"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-32.png"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"default_title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æŸ¥çœ‹é»„é‡‘ä»·æ ¼"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  
  <span class="hljs-attr">"background"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"service_worker"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"src/pages/background/index.ts"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"module"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  
  <span class="hljs-attr">"content_scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"matches"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"http://*/*"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"https://*/*"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"&lt;all_urls&gt;"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"js"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"src/pages/content/index.tsx"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"css"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"contentStyle.css"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"run_at"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"document_idle"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"storage"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"activeTab"</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  
  <span class="hljs-attr">"host_permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"https://chatbot-be-omega.vercel.app/*"</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  
  <span class="hljs-attr">"options_ui"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"page"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"src/pages/options/index.html"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"open_in_tab"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  
  <span class="hljs-attr">"chrome_url_overrides"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"newtab"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"src/pages/newtab/index.html"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  
  <span class="hljs-attr">"devtools_page"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"src/pages/devtools/index.html"</span><span class="hljs-punctuation">,</span>
  
  <span class="hljs-attr">"web_accessible_resources"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"resources"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-string">"contentStyle.css"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"icon-128.png"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"icon-32.png"</span>
      <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"matches"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"&lt;all_urls&gt;"</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-23">å­—æ®µè¯¦è§£</h3>
<h4 data-id="heading-24">åŸºç¡€ä¿¡æ¯</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"manifest_version"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>        <span class="hljs-comment">// å¿…é¡»æ˜¯ 3ï¼ˆæ–°ç‰ˆï¼‰</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ‰©å±•åç§°"</span><span class="hljs-punctuation">,</span>            <span class="hljs-comment">// æœ€å¤š 45 ä¸ªå­—ç¬¦</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1.0.0"</span><span class="hljs-punctuation">,</span>           <span class="hljs-comment">// è¯­ä¹‰åŒ–ç‰ˆæœ¬å·</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ‰©å±•æè¿°"</span><span class="hljs-punctuation">,</span>     <span class="hljs-comment">// æœ€å¤š 132 ä¸ªå­—ç¬¦</span>
  <span class="hljs-attr">"author"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä½œè€…å"</span>            <span class="hljs-comment">// å¯é€‰</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-25">å›¾æ ‡é…ç½®</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"icons"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"16"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-16.png"</span><span class="hljs-punctuation">,</span>      <span class="hljs-comment">// æ‰©å±•é¡µé¢çš„ favicon</span>
    <span class="hljs-attr">"48"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-48.png"</span><span class="hljs-punctuation">,</span>      <span class="hljs-comment">// æ‰©å±•ç®¡ç†é¡µé¢</span>
    <span class="hljs-attr">"128"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-128.png"</span>     <span class="hljs-comment">// å®‰è£…å’Œ Chrome Web Store</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>å›¾æ ‡è®¾è®¡å»ºè®®ï¼š</strong></p>
<ul>
<li>ä½¿ç”¨ç®€æ´ã€å¯è¯†åˆ«çš„è®¾è®¡</li>
<li>PNG æ ¼å¼ï¼Œé€æ˜èƒŒæ™¯</li>
<li>ä¸åŒå°ºå¯¸ä¿æŒä¸€è‡´æ€§</li>
<li>é¿å…æ–‡å­—ï¼ˆå¤ªå°çœ‹ä¸æ¸…ï¼‰</li>
</ul>
<h4 data-id="heading-26">Actionï¼ˆå·¥å…·æ å›¾æ ‡ï¼‰</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"action"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"default_popup"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"popup.html"</span><span class="hljs-punctuation">,</span>       <span class="hljs-comment">// ç‚¹å‡»å›¾æ ‡æ‰“å¼€çš„é¡µé¢</span>
    <span class="hljs-attr">"default_icon"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"16"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-16.png"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"32"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-32.png"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"default_title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"é¼ æ ‡æ‚¬åœæç¤ºæ–‡å­—"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>åŠ¨æ€ä¿®æ”¹ï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä¿®æ”¹å›¾æ ‡</span>
chrome.<span class="hljs-property">action</span>.<span class="hljs-title function_">setIcon</span>({ <span class="hljs-attr">path</span>: <span class="hljs-string">"new-icon.png"</span> });

<span class="hljs-comment">// ä¿®æ”¹æ ‡é¢˜</span>
chrome.<span class="hljs-property">action</span>.<span class="hljs-title function_">setTitle</span>({ <span class="hljs-attr">title</span>: <span class="hljs-string">"æ–°æ ‡é¢˜"</span> });

<span class="hljs-comment">// ä¿®æ”¹å¾½ç« </span>
chrome.<span class="hljs-property">action</span>.<span class="hljs-title function_">setBadgeText</span>({ <span class="hljs-attr">text</span>: <span class="hljs-string">"99+"</span> });
chrome.<span class="hljs-property">action</span>.<span class="hljs-title function_">setBadgeBackgroundColor</span>({ <span class="hljs-attr">color</span>: <span class="hljs-string">"#FF0000"</span> });
</code></pre>
<h4 data-id="heading-27">Content Scripts é…ç½®</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"content_scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"matches"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-string">"https://www.example.com/*"</span><span class="hljs-punctuation">,</span>    <span class="hljs-comment">// åŒ¹é…æ¨¡å¼</span>
        <span class="hljs-string">"https://*.google.com/*"</span>
      <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"js"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"content.js"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>             <span class="hljs-comment">// JavaScript æ–‡ä»¶</span>
      <span class="hljs-attr">"css"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"content.css"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>           <span class="hljs-comment">// CSS æ–‡ä»¶</span>
      <span class="hljs-attr">"run_at"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"document_idle"</span><span class="hljs-punctuation">,</span>        <span class="hljs-comment">// æ³¨å…¥æ—¶æœº</span>
      <span class="hljs-attr">"all_frames"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>              <span class="hljs-comment">// æ˜¯å¦æ³¨å…¥åˆ° iframe</span>
      <span class="hljs-attr">"match_about_blank"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span>        <span class="hljs-comment">// æ˜¯å¦åŒ¹é… about:blank</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>run_at é€‰é¡¹ï¼š</strong></p>
<ul>
<li><code>document_start</code>: DOM æ„å»ºä¹‹å‰ï¼ˆæœ€æ—©ï¼‰</li>
<li><code>document_end</code>: DOM æ„å»ºå®Œæˆå</li>
<li><code>document_idle</code>: é¡µé¢ç©ºé—²æ—¶ï¼ˆé»˜è®¤ï¼Œæ¨èï¼‰</li>
</ul>
<h4 data-id="heading-28">Web Accessible Resources</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"web_accessible_resources"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"resources"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"images/*"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"styles.css"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"matches"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"https://example.com/*"</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>ç”¨é€”ï¼š</strong> å…è®¸ç½‘é¡µè®¿é—®æ‰©å±•å†…çš„èµ„æºæ–‡ä»¶</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åœ¨ Content Script ä¸­ä½¿ç”¨æ‰©å±•èµ„æº</span>
<span class="hljs-keyword">const</span> imageUrl = chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">getURL</span>(<span class="hljs-string">'images/logo.png'</span>);
<span class="hljs-keyword">const</span> img = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'img'</span>);
img.<span class="hljs-property">src</span> = imageUrl;
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(img);
</code></pre>
<hr/>
<h2 data-id="heading-29">æ ¸å¿ƒç»„ä»¶å¼€å‘å®è·µ</h2>
<h3 data-id="heading-30">1. Background Scriptï¼ˆåå°è„šæœ¬ï¼‰</h3>
<p>Background Script æ˜¯æ‰©å±•çš„"å¤§è„‘"ï¼Œè´Ÿè´£å¤„ç†äº‹ä»¶ã€ç®¡ç†çŠ¶æ€ã€åè°ƒå„ç»„ä»¶ã€‚</p>
<h4 data-id="heading-31">Manifest V3 çš„å˜åŒ–</h4>
<p>åœ¨ Manifest V3 ä¸­ï¼ŒBackground Page è¢« <strong>Service Worker</strong> å–ä»£ï¼š</p>






























<table><thead><tr><th>ç‰¹æ€§</th><th>Background Page (V2)</th><th>Service Worker (V3)</th></tr></thead><tbody><tr><td>ç”Ÿå‘½å‘¨æœŸ</td><td>æŒç»­è¿è¡Œ</td><td>äº‹ä»¶é©±åŠ¨ï¼Œç©ºé—²æ—¶ä¼‘çœ </td></tr><tr><td>DOM è®¿é—®</td><td>æœ‰ DOM</td><td>æ—  DOM</td></tr><tr><td>å®šæ—¶å™¨</td><td>setTimeout/setInterval</td><td>chrome.alarms API</td></tr><tr><td>å­˜å‚¨</td><td>å˜é‡æŒä¹…åŒ–</td><td>éœ€è¦ä½¿ç”¨ chrome.storage</td></tr></tbody></table>
<h4 data-id="heading-32">åŸºç¡€ç¤ºä¾‹</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/pages/background/index.ts</span>

<span class="hljs-comment">// ç›‘å¬æ‰©å±•å®‰è£…æˆ–æ›´æ–°</span>
chrome.<span class="hljs-property">runtime</span>.<span class="hljs-property">onInstalled</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">details</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (details.<span class="hljs-property">reason</span> === <span class="hljs-string">'install'</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ‰©å±•é¦–æ¬¡å®‰è£…'</span>);
    <span class="hljs-comment">// åˆå§‹åŒ–é»˜è®¤è®¾ç½®</span>
    chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>({
      <span class="hljs-attr">settings</span>: {
        <span class="hljs-attr">refreshInterval</span>: <span class="hljs-number">30</span>,
        <span class="hljs-attr">notifications</span>: <span class="hljs-literal">true</span>
      }
    });
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (details.<span class="hljs-property">reason</span> === <span class="hljs-string">'update'</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ‰©å±•å·²æ›´æ–°åˆ°'</span>, chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">getManifest</span>().<span class="hljs-property">version</span>);
  }
});

<span class="hljs-comment">// ç›‘å¬æ¥è‡ªå…¶ä»–ç»„ä»¶çš„æ¶ˆæ¯</span>
chrome.<span class="hljs-property">runtime</span>.<span class="hljs-property">onMessage</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">message, sender, sendResponse</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ”¶åˆ°æ¶ˆæ¯:'</span>, message);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ¥è‡ª:'</span>, sender.<span class="hljs-property">tab</span> ? <span class="hljs-string">`æ ‡ç­¾é¡µ <span class="hljs-subst">${sender.tab.id}</span>`</span> : <span class="hljs-string">'æ‰©å±•é¡µé¢'</span>);
  
  <span class="hljs-keyword">if</span> (message.<span class="hljs-property">action</span> === <span class="hljs-string">'getGoldPrice'</span>) {
    <span class="hljs-comment">// å¼‚æ­¥å¤„ç†</span>
    <span class="hljs-title function_">fetchGoldPrice</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {
      <span class="hljs-title function_">sendResponse</span>({ <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span>, data });
    }).<span class="hljs-keyword">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {
      <span class="hljs-title function_">sendResponse</span>({ <span class="hljs-attr">success</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">error</span>: error.<span class="hljs-property">message</span> });
    });
    
    <span class="hljs-comment">// è¿”å› true è¡¨ç¤ºå¼‚æ­¥å“åº”</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  }
  
  <span class="hljs-keyword">if</span> (message.<span class="hljs-property">action</span> === <span class="hljs-string">'openOptionsPage'</span>) {
    chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">openOptionsPage</span>();
  }
});

<span class="hljs-comment">// ç›‘å¬æ ‡ç­¾é¡µæ›´æ–°</span>
chrome.<span class="hljs-property">tabs</span>.<span class="hljs-property">onUpdated</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">tabId, changeInfo, tab</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (changeInfo.<span class="hljs-property">status</span> === <span class="hljs-string">'complete'</span> &amp;&amp; tab.<span class="hljs-property">url</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'é¡µé¢åŠ è½½å®Œæˆ:'</span>, tab.<span class="hljs-property">url</span>);
    <span class="hljs-comment">// å¯ä»¥åœ¨è¿™é‡Œæ³¨å…¥ Content Script æˆ–æ‰§è¡Œå…¶ä»–æ“ä½œ</span>
  }
});

<span class="hljs-comment">// ä½¿ç”¨ Alarms API å®ç°å®šæ—¶ä»»åŠ¡</span>
chrome.<span class="hljs-property">alarms</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">'fetchGoldPrice'</span>, {
  <span class="hljs-attr">periodInMinutes</span>: <span class="hljs-number">30</span>  <span class="hljs-comment">// æ¯ 30 åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡</span>
});

chrome.<span class="hljs-property">alarms</span>.<span class="hljs-property">onAlarm</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">alarm</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (alarm.<span class="hljs-property">name</span> === <span class="hljs-string">'fetchGoldPrice'</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å®šæ—¶è·å–é»„é‡‘ä»·æ ¼'</span>);
    <span class="hljs-title function_">fetchGoldPrice</span>();
  }
});

<span class="hljs-comment">// æ•°æ®è·å–å‡½æ•°</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchGoldPrice</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://api.example.com/gold-price'</span>);
    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();
    
    <span class="hljs-comment">// ä¿å­˜åˆ° storage</span>
    <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>({ <span class="hljs-attr">goldPrice</span>: data });
    
    <span class="hljs-comment">// æ›´æ–°å¾½ç« </span>
    chrome.<span class="hljs-property">action</span>.<span class="hljs-title function_">setBadgeText</span>({ 
      <span class="hljs-attr">text</span>: data.<span class="hljs-property">price</span>.<span class="hljs-title function_">toString</span>() 
    });
    
    <span class="hljs-keyword">return</span> data;
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'è·å–æ•°æ®å¤±è´¥:'</span>, error);
    <span class="hljs-keyword">throw</span> error;
  }
}
</code></pre>
<h4 data-id="heading-33">é«˜çº§ç”¨æ³•ï¼šé•¿è¿æ¥</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// Background Script</span>
chrome.<span class="hljs-property">runtime</span>.<span class="hljs-property">onConnect</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">port</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å»ºç«‹è¿æ¥:'</span>, port.<span class="hljs-property">name</span>);
  
  port.<span class="hljs-property">onMessage</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">message</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ”¶åˆ°æ¶ˆæ¯:'</span>, message);
    <span class="hljs-comment">// å¤„ç†æ¶ˆæ¯</span>
    port.<span class="hljs-title function_">postMessage</span>({ <span class="hljs-attr">response</span>: <span class="hljs-string">'processed'</span> });
  });
  
  port.<span class="hljs-property">onDisconnect</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è¿æ¥æ–­å¼€'</span>);
  });
});

<span class="hljs-comment">// Popup æˆ– Content Script</span>
<span class="hljs-keyword">const</span> port = chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">connect</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'my-channel'</span> });
port.<span class="hljs-title function_">postMessage</span>({ <span class="hljs-attr">action</span>: <span class="hljs-string">'subscribe'</span> });
port.<span class="hljs-property">onMessage</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">message</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ”¶åˆ°æ¨é€:'</span>, message);
});
</code></pre>
<h3 data-id="heading-34">2. Content Scriptï¼ˆå†…å®¹è„šæœ¬ï¼‰</h3>
<p>Content Script è¿è¡Œåœ¨ç½‘é¡µä¸Šä¸‹æ–‡ä¸­ï¼Œå¯ä»¥è¯»å–å’Œä¿®æ”¹é¡µé¢ DOMï¼Œä½†æœ‰ç‹¬ç«‹çš„ JavaScript è¿è¡Œç¯å¢ƒã€‚</p>
<h4 data-id="heading-35">ç‰¹æ€§ä¸é™åˆ¶</h4>
<p><strong>å¯ä»¥åšï¼š</strong></p>
<ul>
<li>âœ… è®¿é—®å’Œä¿®æ”¹é¡µé¢ DOM</li>
<li>âœ… ç›‘å¬é¡µé¢äº‹ä»¶</li>
<li>âœ… ä½¿ç”¨éƒ¨åˆ† Chrome APIï¼ˆruntimeã€storageã€i18n ç­‰ï¼‰</li>
<li>âœ… ä¸ Background Script é€šä¿¡</li>
</ul>
<p><strong>ä¸èƒ½åšï¼š</strong></p>
<ul>
<li>âŒ è®¿é—®é¡µé¢çš„ JavaScript å˜é‡å’Œå‡½æ•°</li>
<li>âŒ ä½¿ç”¨å¤§éƒ¨åˆ† Chrome APIï¼ˆtabsã€windowsã€bookmarks ç­‰ï¼‰</li>
<li>âŒ è·¨åŸŸè¯·æ±‚ï¼ˆéœ€è¦é€šè¿‡ Backgroundï¼‰</li>
</ul>
<h4 data-id="heading-36">React é›†æˆç¤ºä¾‹</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/pages/content/index.tsx</span>
<span class="hljs-keyword">import</span> { createRoot } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-dom/client'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useState, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'./style.css'</span>;

<span class="hljs-comment">// åˆ›å»ºå®¹å™¨</span>
<span class="hljs-keyword">const</span> container = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>);
container.<span class="hljs-property">id</span> = <span class="hljs-string">'gold-price-extension-root'</span>;
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(container);

<span class="hljs-comment">// React ç»„ä»¶</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">GoldPriceWidget</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [price, setPrice] = useState&lt;<span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);
  <span class="hljs-keyword">const</span> [visible, setVisible] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
  
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// ä» storage è·å–ä»·æ ¼</span>
    chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>([<span class="hljs-string">'goldPrice'</span>], <span class="hljs-function">(<span class="hljs-params">result</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (result.<span class="hljs-property">goldPrice</span>) {
        <span class="hljs-title function_">setPrice</span>(result.<span class="hljs-property">goldPrice</span>.<span class="hljs-property">price</span>);
      }
    });
    
    <span class="hljs-comment">// ç›‘å¬ storage å˜åŒ–</span>
    chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">onChanged</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">changes</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (changes.<span class="hljs-property">goldPrice</span>) {
        <span class="hljs-title function_">setPrice</span>(changes.<span class="hljs-property">goldPrice</span>.<span class="hljs-property">newValue</span>.<span class="hljs-property">price</span>);
      }
    });
  }, []);
  
  <span class="hljs-keyword">if</span> (!visible) {
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> 
        <span class="hljs-attr">className</span>=<span class="hljs-string">"gold-price-toggle"</span>
        <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setVisible(true)}
      &gt;
        ğŸ’°
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
    );
  }
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"gold-price-widget"</span>&gt;</span>
                // ã€‚ã€‚ã€‚
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}

<span class="hljs-comment">// æ¸²æŸ“</span>
<span class="hljs-keyword">const</span> root = <span class="hljs-title function_">createRoot</span>(container);
root.<span class="hljs-title function_">render</span>(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">GoldPriceWidget</span> /&gt;</span></span>);

<span class="hljs-comment">// ç›‘å¬é¡µé¢ DOM å˜åŒ–</span>
<span class="hljs-keyword">const</span> observer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MutationObserver</span>(<span class="hljs-function">(<span class="hljs-params">mutations</span>) =&gt;</span> {
  mutations.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">mutation</span>) =&gt;</span> {
    <span class="hljs-comment">// æ£€æµ‹ç‰¹å®šå…ƒç´ å¹¶è¿›è¡Œå¤„ç†</span>
    <span class="hljs-keyword">if</span> (mutation.<span class="hljs-property">type</span> === <span class="hljs-string">'childList'</span>) {
      <span class="hljs-keyword">const</span> targetElement = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'.target-class'</span>);
      <span class="hljs-keyword">if</span> (targetElement) {
        <span class="hljs-comment">// åœ¨ç›®æ ‡å…ƒç´ ä¸Šæ·»åŠ åŠŸèƒ½</span>
        <span class="hljs-title function_">addCustomFeature</span>(targetElement);
      }
    }
  });
});

observer.<span class="hljs-title function_">observe</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>, {
  <span class="hljs-attr">childList</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">subtree</span>: <span class="hljs-literal">true</span>
});

<span class="hljs-comment">// è‡ªå®šä¹‰åŠŸèƒ½</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">addCustomFeature</span>(<span class="hljs-params">element: Element</span>) {
  <span class="hljs-keyword">const</span> button = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'button'</span>);
  button.<span class="hljs-property">textContent</span> = <span class="hljs-string">'æŸ¥çœ‹é‡‘ä»·'</span>;
  button.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
    chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">sendMessage</span>({ <span class="hljs-attr">action</span>: <span class="hljs-string">'openPopup'</span> });
  });
  element.<span class="hljs-title function_">appendChild</span>(button);
}
</code></pre>
<h4 data-id="heading-37">CSS éš”ç¦»</h4>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* src/pages/content/style.css */</span>

<span class="hljs-comment">/* ä½¿ç”¨å”¯ä¸€çš„ç±»åå‰ç¼€ï¼Œé¿å…ä¸é¡µé¢æ ·å¼å†²çª */</span>
<span class="hljs-selector-class">.gold-price-extension-root</span> {
  <span class="hljs-attribute">all</span>: initial; <span class="hljs-comment">/* é‡ç½®æ‰€æœ‰æ ·å¼ */</span>
  <span class="hljs-attribute">font-family</span>: -apple-system, BlinkMacSystemFont, <span class="hljs-string">'Segoe UI'</span>, sans-serif;
}

<span class="hljs-selector-class">.gold-price-widget</span> {
  <span class="hljs-attribute">position</span>: fixed;
  <span class="hljs-attribute">bottom</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">right</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;
  <span class="hljs-attribute">background</span>: white;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">12px</span>;
  <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">4px</span> <span class="hljs-number">20px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.15</span>);
  <span class="hljs-attribute">z-index</span>: <span class="hljs-number">999999</span>; <span class="hljs-comment">/* ç¡®ä¿åœ¨æœ€ä¸Šå±‚ */</span>
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">16px</span>;
}

<span class="hljs-comment">/* ä½¿ç”¨ CSS-in-JS ä¹Ÿæ˜¯ä¸é”™çš„é€‰æ‹© */</span>
</code></pre>
<h4 data-id="heading-38">ä¸é¡µé¢è„šæœ¬é€šä¿¡</h4>
<p>Content Script å’Œé¡µé¢è„šæœ¬è¿è¡Œåœ¨ä¸åŒçš„ä¸Šä¸‹æ–‡ä¸­ï¼Œéœ€è¦é€šè¿‡ <code>window.postMessage</code> é€šä¿¡ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// Content Script â†’ é¡µé¢</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">postMessage</span>({
  <span class="hljs-attr">type</span>: <span class="hljs-string">'FROM_EXTENSION'</span>,
  <span class="hljs-attr">action</span>: <span class="hljs-string">'getData'</span>
}, <span class="hljs-string">'*'</span>);

<span class="hljs-comment">// é¡µé¢ â†’ Content Script</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'message'</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (event.<span class="hljs-property">source</span> !== <span class="hljs-variable language_">window</span>) <span class="hljs-keyword">return</span>;
  
  <span class="hljs-keyword">if</span> (event.<span class="hljs-property">data</span>.<span class="hljs-property">type</span> === <span class="hljs-string">'FROM_PAGE'</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ¥è‡ªé¡µé¢çš„æ¶ˆæ¯:'</span>, event.<span class="hljs-property">data</span>);
    
    <span class="hljs-comment">// è½¬å‘åˆ° Background</span>
    chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">sendMessage</span>(event.<span class="hljs-property">data</span>);
  }
});
</code></pre>
<h3 data-id="heading-39">3. Popupï¼ˆå¼¹çª—é¡µé¢ï¼‰</h3>
<p>Popup æ˜¯ç”¨æˆ·ä¸æ‰©å±•äº¤äº’çš„ä¸»è¦ç•Œé¢ï¼Œç‚¹å‡»å·¥å…·æ å›¾æ ‡æ—¶å¼¹å‡ºã€‚</p>
<h4 data-id="heading-40">ç‰¹ç‚¹</h4>
<ul>
<li>â±ï¸ <strong>ä¸´æ—¶æ€§</strong>ï¼šå…³é—­åé¡µé¢å’ŒçŠ¶æ€ä¼šè¢«é”€æ¯</li>
<li>ğŸ“ <strong>å°ºå¯¸é™åˆ¶</strong>ï¼šæœ€å° 25x25pxï¼Œæœ€å¤§ 800x600px</li>
<li>âš¡ <strong>å¿«é€ŸåŠ è½½</strong>ï¼šåº”è¯¥åœ¨ 1 ç§’å†…å®Œæˆåˆå§‹åŒ–</li>
</ul>
<h4 data-id="heading-41">å®Œæ•´ç¤ºä¾‹</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/pages/popup/Popup.tsx</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useEffect, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">GoldPriceData</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"./types"</span>;
<span class="hljs-keyword">import</span> { fetchGoldPriceData, refreshGoldPriceData } <span class="hljs-keyword">from</span> <span class="hljs-string">"./services/goldPriceService"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">JewelryCard</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"./components/JewelryCard"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BankCard</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"./components/BankCard"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">LoadingSpinner</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"./components/LoadingSpinner"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Popup</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [data, setData] = useState&lt;<span class="hljs-title class_">GoldPriceData</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);
  <span class="hljs-keyword">const</span> [loading, setLoading] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">true</span>);
  <span class="hljs-keyword">const</span> [refreshing, setRefreshing] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
  <span class="hljs-keyword">const</span> [activeTab, setActiveTab] = useState&lt;<span class="hljs-string">"jewelry"</span> | <span class="hljs-string">"bank"</span>&gt;(<span class="hljs-string">"jewelry"</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">loadData</span>();
  }, []);

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">loadData</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">true</span>);
      <span class="hljs-keyword">const</span> goldData = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchGoldPriceData</span>();
      <span class="hljs-title function_">setData</span>(goldData);
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"åŠ è½½æ•°æ®å¤±è´¥:"</span>, error);
    } <span class="hljs-keyword">finally</span> {
      <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">false</span>);
    }
  };

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleRefresh</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-title function_">setRefreshing</span>(<span class="hljs-literal">true</span>);
      <span class="hljs-keyword">const</span> goldData = <span class="hljs-keyword">await</span> <span class="hljs-title function_">refreshGoldPriceData</span>();
      <span class="hljs-title function_">setData</span>(goldData);
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"åˆ·æ–°æ•°æ®å¤±è´¥:"</span>, error);
    } <span class="hljs-keyword">finally</span> {
      <span class="hljs-title function_">setRefreshing</span>(<span class="hljs-literal">false</span>);
    }
  };

  <span class="hljs-keyword">if</span> (loading) {
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"w-[400px] h-[600px] flex items-center justify-center"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">LoadingSpinner</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
  }

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"w-[400px] h-[600px] bg-gradient-to-br from-amber-50 via-yellow-50 to-orange-50 flex flex-col"</span>&gt;</span>
      {/* å¤´éƒ¨ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">header</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"bg-white/60 backdrop-blur-md shadow-sm px-4 py-3 flex items-center justify-between"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-base font-semibold"</span>&gt;</span>æ¯æ—¥é‡‘ä»·<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleRefresh}</span>
          <span class="hljs-attr">disabled</span>=<span class="hljs-string">{refreshing}</span>
          <span class="hljs-attr">className</span>=<span class="hljs-string">"p-1.5 rounded-full hover:bg-amber-100/50 transition-colors"</span>
        &gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">RefreshIcon</span> <span class="hljs-attr">spinning</span>=<span class="hljs-string">{refreshing}</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>

      {/* æ ‡ç­¾åˆ‡æ¢ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex border-b border-amber-100"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setActiveTab("jewelry")}
          className={`flex-1 py-2.5 text-sm ${
            activeTab === "jewelry" ? "text-amber-600" : "text-gray-500"
          }`}
        &gt;
          é‡‘é¥°å“
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setActiveTab("bank")}
          className={`flex-1 py-2.5 text-sm ${
            activeTab === "bank" ? "text-amber-600" : "text-gray-500"
          }`}
        &gt;
          é“¶è¡Œé‡‘æ¡
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

      {/* å†…å®¹åŒºåŸŸ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex-1 overflow-y-auto p-3"</span>&gt;</span>
        {activeTab === "jewelry" ? (
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"grid grid-cols-2 gap-2"</span>&gt;</span>
            {data?.jewelryBrands.map((brand) =&gt; (
              <span class="hljs-tag">&lt;<span class="hljs-name">JewelryCard</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{brand.id}</span> <span class="hljs-attr">brand</span>=<span class="hljs-string">{brand}</span> /&gt;</span>
            ))}
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        ) : (
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex flex-col gap-2"</span>&gt;</span>
            {data?.bankGoldBars.map((bank) =&gt; (
              <span class="hljs-tag">&lt;<span class="hljs-name">BankCard</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{bank.id}</span> <span class="hljs-attr">bank</span>=<span class="hljs-string">{bank}</span> /&gt;</span>
            ))}
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        )}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

      {/* åº•éƒ¨ä¿¡æ¯ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">footer</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"px-4 py-2 text-center"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-xs text-gray-500"</span>&gt;</span>æ›´æ–°æ—¶é—´: {data?.lastUpdate}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">footer</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p><strong>Popup è®¾è®¡åŸåˆ™ï¼š</strong></p>
<ul>
<li>ğŸ¯ <strong>å•ä¸€ç›®æ ‡</strong>ï¼šæ¯ä¸ª Popup åº”è¯¥æœ‰æ˜ç¡®çš„ç”¨é€”</li>
<li>âš¡ <strong>å¿«é€Ÿå“åº”</strong>ï¼šä¼˜å…ˆæ˜¾ç¤ºç¼“å­˜æ•°æ®ï¼Œåå°åˆ·æ–°</li>
<li>ğŸ“± <strong>ç®€æ´ UI</strong>ï¼šç©ºé—´æœ‰é™ï¼Œé¿å…å¤æ‚äº¤äº’</li>
<li>ğŸ’¾ <strong>çŠ¶æ€ç®¡ç†</strong>ï¼šä½¿ç”¨ <code>chrome.storage</code> æŒä¹…åŒ–é‡è¦çŠ¶æ€</li>
</ul>
<hr/>
<h2 data-id="heading-42">ç»„ä»¶é—´é€šä¿¡æœºåˆ¶</h2>
<p>æµè§ˆå™¨æ‰©å±•çš„å„ä¸ªç»„ä»¶ä¹‹é—´éœ€è¦é¢‘ç¹é€šä¿¡ï¼ŒChrome æä¾›äº†å¤šç§é€šä¿¡æ–¹å¼ã€‚</p>
<h3 data-id="heading-43">1. ä¸€æ¬¡æ€§æ¶ˆæ¯ä¼ é€’</h3>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> ç®€å•çš„è¯·æ±‚-å“åº”æ¨¡å¼</p>
<h4 data-id="heading-44">Content Script â†’ Background</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// Content Script</span>
chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">sendMessage</span>(
  { <span class="hljs-attr">action</span>: <span class="hljs-string">'getPrice'</span>, <span class="hljs-attr">item</span>: <span class="hljs-string">'gold'</span> },
  <span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (response.<span class="hljs-property">success</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä»·æ ¼:'</span>, response.<span class="hljs-property">data</span>);
    }
  }
);

<span class="hljs-comment">// Background Script</span>
chrome.<span class="hljs-property">runtime</span>.<span class="hljs-property">onMessage</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">request, sender, sendResponse</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (request.<span class="hljs-property">action</span> === <span class="hljs-string">'getPrice'</span>) {
    <span class="hljs-title function_">fetchPrice</span>(request.<span class="hljs-property">item</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">price</span> =&gt;</span> {
      <span class="hljs-title function_">sendResponse</span>({ <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">data</span>: price });
    }).<span class="hljs-keyword">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {
      <span class="hljs-title function_">sendResponse</span>({ <span class="hljs-attr">success</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">error</span>: error.<span class="hljs-property">message</span> });
    });
    
    <span class="hljs-comment">// å¿…é¡»è¿”å› true è¡¨ç¤ºå¼‚æ­¥å“åº”</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  }
});
</code></pre>
<h4 data-id="heading-45">Popup â†’ Background</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// Popup</span>
<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">sendMessage</span>({
  <span class="hljs-attr">action</span>: <span class="hljs-string">'getData'</span>
});

<span class="hljs-comment">// æˆ–è€…ä½¿ç”¨ callback</span>
chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">sendMessage</span>(
  { <span class="hljs-attr">action</span>: <span class="hljs-string">'getData'</span> },
  <span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response);
  }
);
</code></pre>
<h4 data-id="heading-46">Background â†’ Content Script</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// Background: å‘ç‰¹å®šæ ‡ç­¾é¡µå‘é€æ¶ˆæ¯</span>
chrome.<span class="hljs-property">tabs</span>.<span class="hljs-title function_">sendMessage</span>(
  tabId,
  { <span class="hljs-attr">action</span>: <span class="hljs-string">'updatePrice'</span>, <span class="hljs-attr">price</span>: <span class="hljs-number">520</span> },
  <span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Content Script å“åº”:'</span>, response);
  }
);

<span class="hljs-comment">// Background: å‘æ‰€æœ‰æ ‡ç­¾é¡µå¹¿æ’­</span>
chrome.<span class="hljs-property">tabs</span>.<span class="hljs-title function_">query</span>({}, <span class="hljs-function">(<span class="hljs-params">tabs</span>) =&gt;</span> {
  tabs.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">tab</span> =&gt;</span> {
    <span class="hljs-keyword">if</span> (tab.<span class="hljs-property">id</span>) {
      chrome.<span class="hljs-property">tabs</span>.<span class="hljs-title function_">sendMessage</span>(tab.<span class="hljs-property">id</span>, { <span class="hljs-attr">action</span>: <span class="hljs-string">'refresh'</span> });
    }
  });
});

<span class="hljs-comment">// Content Script: ç›‘å¬æ¶ˆæ¯</span>
chrome.<span class="hljs-property">runtime</span>.<span class="hljs-property">onMessage</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">request, sender, sendResponse</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (request.<span class="hljs-property">action</span> === <span class="hljs-string">'updatePrice'</span>) {
    <span class="hljs-title function_">updatePriceDisplay</span>(request.<span class="hljs-property">price</span>);
    <span class="hljs-title function_">sendResponse</span>({ <span class="hljs-attr">updated</span>: <span class="hljs-literal">true</span> });
  }
});
</code></pre>
<h3 data-id="heading-47">2. é•¿è¿æ¥ï¼ˆLong-lived Connectionsï¼‰</h3>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> éœ€è¦æŒç»­é€šä¿¡ã€å®æ—¶æ¨é€æ•°æ®</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// Content Script: å»ºç«‹è¿æ¥</span>
<span class="hljs-keyword">const</span> port = chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">connect</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'price-updates'</span> });

<span class="hljs-comment">// å‘é€æ¶ˆæ¯</span>
port.<span class="hljs-title function_">postMessage</span>({ <span class="hljs-attr">action</span>: <span class="hljs-string">'subscribe'</span>, <span class="hljs-attr">symbol</span>: <span class="hljs-string">'GOLD'</span> });

<span class="hljs-comment">// æ¥æ”¶æ¶ˆæ¯</span>
port.<span class="hljs-property">onMessage</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">message</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ”¶åˆ°æ›´æ–°:'</span>, message);
  <span class="hljs-title function_">updateUI</span>(message.<span class="hljs-property">price</span>);
});

<span class="hljs-comment">// ç›‘å¬æ–­å¼€</span>
port.<span class="hljs-property">onDisconnect</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è¿æ¥å·²æ–­å¼€'</span>);
});

<span class="hljs-comment">// Background Script: ç›‘å¬è¿æ¥</span>
<span class="hljs-keyword">const</span> connections = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();

chrome.<span class="hljs-property">runtime</span>.<span class="hljs-property">onConnect</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">port</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ–°è¿æ¥:'</span>, port.<span class="hljs-property">name</span>);
  
  connections.<span class="hljs-title function_">set</span>(port.<span class="hljs-property">name</span>, port);
  
  port.<span class="hljs-property">onMessage</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">message</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (message.<span class="hljs-property">action</span> === <span class="hljs-string">'subscribe'</span>) {
      <span class="hljs-comment">// å¼€å§‹æ¨é€æ•°æ®</span>
      <span class="hljs-title function_">startPriceUpdates</span>(port, message.<span class="hljs-property">symbol</span>);
    }
  });
  
  port.<span class="hljs-property">onDisconnect</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">() =&gt;</span> {
    connections.<span class="hljs-title function_">delete</span>(port.<span class="hljs-property">name</span>);
  });
});

<span class="hljs-keyword">function</span> <span class="hljs-title function_">startPriceUpdates</span>(<span class="hljs-params">port, <span class="hljs-built_in">symbol</span></span>) {
  <span class="hljs-keyword">const</span> intervalId = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">fetchPrice</span>(<span class="hljs-built_in">symbol</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">price</span> =&gt;</span> {
      <span class="hljs-keyword">try</span> {
        port.<span class="hljs-title function_">postMessage</span>({ price, <span class="hljs-built_in">symbol</span>, <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() });
      } <span class="hljs-keyword">catch</span> (e) {
        <span class="hljs-comment">// ç«¯å£å·²æ–­å¼€</span>
        <span class="hljs-built_in">clearInterval</span>(intervalId);
      }
    });
  }, <span class="hljs-number">5000</span>);
}
</code></pre>
<h3 data-id="heading-48">3. Storage å˜åŒ–ç›‘å¬</h3>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> å¤šä¸ªç»„ä»¶å…±äº«çŠ¶æ€</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä»»æ„ç»„ä»¶ï¼šè®¾ç½®æ•°æ®</span>
chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>({ <span class="hljs-attr">goldPrice</span>: <span class="hljs-number">520</span> });

<span class="hljs-comment">// ä»»æ„ç»„ä»¶ï¼šç›‘å¬å˜åŒ–</span>
chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">onChanged</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">changes, areaName</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (areaName === <span class="hljs-string">'local'</span> &amp;&amp; changes.<span class="hljs-property">goldPrice</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä»·æ ¼æ›´æ–°:'</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'  æ—§å€¼:'</span>, changes.<span class="hljs-property">goldPrice</span>.<span class="hljs-property">oldValue</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'  æ–°å€¼:'</span>, changes.<span class="hljs-property">goldPrice</span>.<span class="hljs-property">newValue</span>);
    
    <span class="hljs-comment">// æ›´æ–° UI</span>
    <span class="hljs-title function_">updatePriceDisplay</span>(changes.<span class="hljs-property">goldPrice</span>.<span class="hljs-property">newValue</span>);
  }
});
</code></pre>
<h3 data-id="heading-49">4. æ¶ˆæ¯ä¼ é€’æœ€ä½³å®è·µ</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å®šä¹‰æ¶ˆæ¯ç±»å‹ï¼ˆTypeScriptï¼‰</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Message</span> {
  <span class="hljs-attr">action</span>: <span class="hljs-built_in">string</span>;
  data?: <span class="hljs-built_in">any</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Response</span> {
  <span class="hljs-attr">success</span>: <span class="hljs-built_in">boolean</span>;
  data?: <span class="hljs-built_in">any</span>;
  error?: <span class="hljs-built_in">string</span>;
}

<span class="hljs-comment">// å°è£…æ¶ˆæ¯å‘é€</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">sendMessage</span>(<span class="hljs-params">message: Message</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Response</span>&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">sendMessage</span>(message, <span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (chrome.<span class="hljs-property">runtime</span>.<span class="hljs-property">lastError</span>) {
        <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(chrome.<span class="hljs-property">runtime</span>.<span class="hljs-property">lastError</span>.<span class="hljs-property">message</span>));
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-title function_">resolve</span>(response);
      }
    });
  });
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">sendMessage</span>({
    <span class="hljs-attr">action</span>: <span class="hljs-string">'getPrice'</span>,
    <span class="hljs-attr">data</span>: { <span class="hljs-attr">symbol</span>: <span class="hljs-string">'GOLD'</span> }
  });
  
  <span class="hljs-keyword">if</span> (response.<span class="hljs-property">success</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response.<span class="hljs-property">data</span>);
  }
} <span class="hljs-keyword">catch</span> (error) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'é€šä¿¡å¤±è´¥:'</span>, error);
}
</code></pre>
<hr/>
<h2 data-id="heading-50">æ•°æ®å­˜å‚¨æ–¹æ¡ˆ</h2>
<h3 data-id="heading-51">1. chrome.storage API</h3>
<p>Chrome Extension æä¾›äº†ä¸“é—¨çš„å­˜å‚¨ APIï¼Œæ¯” <code>localStorage</code> æ›´å¼ºå¤§ã€‚</p>
<h4 data-id="heading-52">å­˜å‚¨ç±»å‹å¯¹æ¯”</h4>





























<table><thead><tr><th>å­˜å‚¨ç±»å‹</th><th>å®¹é‡</th><th>åŒæ­¥</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><code>storage.local</code></td><td>10 MB</td><td>âŒ</td><td>æœ¬åœ°æ•°æ®ç¼“å­˜</td></tr><tr><td><code>storage.sync</code></td><td>100 KB</td><td>âœ…</td><td>ç”¨æˆ·è®¾ç½®ï¼ˆè·¨è®¾å¤‡åŒæ­¥ï¼‰</td></tr><tr><td><code>storage.session</code></td><td>10 MB</td><td>âŒ</td><td>ä¸´æ—¶ä¼šè¯æ•°æ®ï¼ˆMV3ï¼‰</td></tr></tbody></table>
<h4 data-id="heading-53">åŸºç¡€ç”¨æ³•</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä¿å­˜æ•°æ®</span>
<span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>({
  <span class="hljs-attr">user</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">'John'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">30</span> },
  <span class="hljs-attr">settings</span>: { <span class="hljs-attr">theme</span>: <span class="hljs-string">'dark'</span> },
  <span class="hljs-attr">prices</span>: [<span class="hljs-number">520</span>, <span class="hljs-number">530</span>, <span class="hljs-number">525</span>]
});

<span class="hljs-comment">// è¯»å–æ•°æ®</span>
<span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>([<span class="hljs-string">'user'</span>, <span class="hljs-string">'settings'</span>]);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result.<span class="hljs-property">user</span>);      <span class="hljs-comment">// { name: 'John', age: 30 }</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result.<span class="hljs-property">settings</span>);  <span class="hljs-comment">// { theme: 'dark' }</span>

<span class="hljs-comment">// è¯»å–æ‰€æœ‰æ•°æ®</span>
<span class="hljs-keyword">const</span> allData = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>(<span class="hljs-literal">null</span>);

<span class="hljs-comment">// åˆ é™¤æ•°æ®</span>
<span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">remove</span>([<span class="hljs-string">'user'</span>]);

<span class="hljs-comment">// æ¸…ç©ºæ‰€æœ‰æ•°æ®</span>
<span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">clear</span>();

<span class="hljs-comment">// è·å–å­˜å‚¨ä½¿ç”¨é‡</span>
<span class="hljs-keyword">const</span> bytes = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">getBytesInUse</span>([<span class="hljs-string">'prices'</span>]);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ä½¿ç”¨äº† <span class="hljs-subst">${bytes}</span> å­—èŠ‚`</span>);
</code></pre>
<h4 data-id="heading-54">å°è£… Storage å·¥å…·ç±»</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// utils/storage.ts</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">StorageManager</span> {
  <span class="hljs-keyword">async</span> get&lt;T&gt;(<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">Promise</span>&lt;T | <span class="hljs-literal">null</span>&gt; {
    <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>(key);
    <span class="hljs-keyword">return</span> result[key] ?? <span class="hljs-literal">null</span>;
  }

  <span class="hljs-keyword">async</span> set&lt;T&gt;(<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">value</span>: T): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
    <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>({ [key]: value });
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">remove</span>(<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
    <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">remove</span>(key);
  }

  <span class="hljs-keyword">async</span> getMultiple&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt;&gt;(
    <span class="hljs-attr">keys</span>: <span class="hljs-built_in">string</span>[]
  ): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Partial</span>&lt;T&gt;&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>(keys);
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">setMultiple</span>(<span class="hljs-attr">items</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt;): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
    <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>(items);
  }

  <span class="hljs-title function_">onChange</span>(<span class="hljs-attr">callback</span>: <span class="hljs-function">(<span class="hljs-params">changes: <span class="hljs-built_in">any</span>, areaName: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>): <span class="hljs-built_in">void</span> {
    chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">onChanged</span>.<span class="hljs-title function_">addListener</span>(callback);
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> storage = <span class="hljs-keyword">new</span> <span class="hljs-title class_">StorageManager</span>();

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">import</span> { storage } <span class="hljs-keyword">from</span> <span class="hljs-string">'./utils/storage'</span>;

<span class="hljs-comment">// ä¿å­˜</span>
<span class="hljs-keyword">await</span> storage.<span class="hljs-title function_">set</span>(<span class="hljs-string">'goldPrice'</span>, { <span class="hljs-attr">price</span>: <span class="hljs-number">520</span>, <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() });

<span class="hljs-comment">// è¯»å–</span>
<span class="hljs-keyword">const</span> goldPrice = <span class="hljs-keyword">await</span> storage.<span class="hljs-property">get</span>&lt;{ <span class="hljs-attr">price</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">timestamp</span>: <span class="hljs-built_in">number</span> }&gt;(<span class="hljs-string">'goldPrice'</span>);

<span class="hljs-comment">// ç›‘å¬å˜åŒ–</span>
storage.<span class="hljs-title function_">onChange</span>(<span class="hljs-function">(<span class="hljs-params">changes, areaName</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (changes.<span class="hljs-property">goldPrice</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä»·æ ¼æ›´æ–°:'</span>, changes.<span class="hljs-property">goldPrice</span>.<span class="hljs-property">newValue</span>);
  }
});
</code></pre>
<h3 data-id="heading-55">2. IndexedDBï¼ˆå¤§é‡æ•°æ®ï¼‰</h3>
<p>å¯¹äºéœ€è¦å­˜å‚¨å¤§é‡ç»“æ„åŒ–æ•°æ®çš„åœºæ™¯ï¼Œå¯ä»¥ä½¿ç”¨ IndexedDBã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// utils/indexedDB.ts</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">GoldPriceDB</span> {
  <span class="hljs-keyword">private</span> dbName = <span class="hljs-string">'GoldPriceExtension'</span>;
  <span class="hljs-keyword">private</span> version = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">private</span> <span class="hljs-attr">db</span>: <span class="hljs-title class_">IDBDatabase</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">init</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> request = indexedDB.<span class="hljs-title function_">open</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">dbName</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">version</span>);

      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span> = request.<span class="hljs-property">result</span>;
        <span class="hljs-title function_">resolve</span>();
      };

      request.<span class="hljs-property">onupgradeneeded</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> db = (event.<span class="hljs-property">target</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">IDBOpenDBRequest</span>).<span class="hljs-property">result</span>;
        
        <span class="hljs-comment">// åˆ›å»ºå¯¹è±¡å­˜å‚¨</span>
        <span class="hljs-keyword">if</span> (!db.<span class="hljs-property">objectStoreNames</span>.<span class="hljs-title function_">contains</span>(<span class="hljs-string">'prices'</span>)) {
          <span class="hljs-keyword">const</span> store = db.<span class="hljs-title function_">createObjectStore</span>(<span class="hljs-string">'prices'</span>, {
            <span class="hljs-attr">keyPath</span>: <span class="hljs-string">'id'</span>,
            <span class="hljs-attr">autoIncrement</span>: <span class="hljs-literal">true</span>
          });
          
          <span class="hljs-comment">// åˆ›å»ºç´¢å¼•</span>
          store.<span class="hljs-title function_">createIndex</span>(<span class="hljs-string">'timestamp'</span>, <span class="hljs-string">'timestamp'</span>, { <span class="hljs-attr">unique</span>: <span class="hljs-literal">false</span> });
          store.<span class="hljs-title function_">createIndex</span>(<span class="hljs-string">'brand'</span>, <span class="hljs-string">'brand'</span>, { <span class="hljs-attr">unique</span>: <span class="hljs-literal">false</span> });
        }
      };
    });
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">addPrice</span>(<span class="hljs-attr">price</span>: <span class="hljs-built_in">any</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">number</span>&gt; {
    <span class="hljs-keyword">const</span> transaction = <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>!.<span class="hljs-title function_">transaction</span>([<span class="hljs-string">'prices'</span>], <span class="hljs-string">'readwrite'</span>);
    <span class="hljs-keyword">const</span> store = transaction.<span class="hljs-title function_">objectStore</span>(<span class="hljs-string">'prices'</span>);
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> request = store.<span class="hljs-title function_">add</span>(price);
      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(request.<span class="hljs-property">result</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">number</span>);
      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
    });
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">getPrices</span>(limit = <span class="hljs-number">100</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">any</span>[]&gt; {
    <span class="hljs-keyword">const</span> transaction = <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>!.<span class="hljs-title function_">transaction</span>([<span class="hljs-string">'prices'</span>], <span class="hljs-string">'readonly'</span>);
    <span class="hljs-keyword">const</span> store = transaction.<span class="hljs-title function_">objectStore</span>(<span class="hljs-string">'prices'</span>);
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> request = store.<span class="hljs-title function_">getAll</span>(<span class="hljs-literal">undefined</span>, limit);
      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(request.<span class="hljs-property">result</span>);
      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
    });
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">getPricesByBrand</span>(<span class="hljs-attr">brand</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">any</span>[]&gt; {
    <span class="hljs-keyword">const</span> transaction = <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>!.<span class="hljs-title function_">transaction</span>([<span class="hljs-string">'prices'</span>], <span class="hljs-string">'readonly'</span>);
    <span class="hljs-keyword">const</span> store = transaction.<span class="hljs-title function_">objectStore</span>(<span class="hljs-string">'prices'</span>);
    <span class="hljs-keyword">const</span> index = store.<span class="hljs-title function_">index</span>(<span class="hljs-string">'brand'</span>);
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> request = index.<span class="hljs-title function_">getAll</span>(brand);
      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(request.<span class="hljs-property">result</span>);
      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
    });
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> goldPriceDB = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GoldPriceDB</span>();

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">await</span> goldPriceDB.<span class="hljs-title function_">init</span>();
<span class="hljs-keyword">await</span> goldPriceDB.<span class="hljs-title function_">addPrice</span>({
  <span class="hljs-attr">brand</span>: <span class="hljs-string">'å‘¨å¤§ç¦'</span>,
  <span class="hljs-attr">price</span>: <span class="hljs-number">520</span>,
  <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()
});

<span class="hljs-keyword">const</span> prices = <span class="hljs-keyword">await</span> goldPriceDB.<span class="hljs-title function_">getPricesByBrand</span>(<span class="hljs-string">'å‘¨å¤§ç¦'</span>);
</code></pre>
<hr/>
<h2 data-id="heading-56">å®æˆ˜æ¡ˆä¾‹ï¼šé»„é‡‘ä»·æ ¼æŸ¥è¯¢æ‰©å±•</h2>
<p>è®©æˆ‘ä»¬æ·±å…¥åˆ†ææœ¬é¡¹ç›®çš„å®Œæ•´å®ç°ã€‚</p>
<h3 data-id="heading-57">1. é¡¹ç›®æ¶æ„</h3>
<pre><code class="hljs">æ•°æ®æµå‘ï¼š
API â†’ Service Layer â†’ Storage â†’ UI Components
 â†“         â†“             â†“          â†“
å¤–éƒ¨æ•°æ®  ä¸šåŠ¡é€»è¾‘     ç¼“å­˜å±‚    ç”¨æˆ·ç•Œé¢
</code></pre>
<h3 data-id="heading-58">2. ç±»å‹å®šä¹‰ç³»ç»Ÿ</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/pages/popup/types.ts</span>

<span class="hljs-comment">/** é‡‘é¥°å“å“ç‰Œä»·æ ¼ */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">JewelryBrand</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;        <span class="hljs-comment">// å“ç‰Œåç§°</span>
  <span class="hljs-attr">price</span>: <span class="hljs-built_in">number</span>;       <span class="hljs-comment">// ä»·æ ¼ï¼ˆå…ƒ/å…‹ï¼‰</span>
  <span class="hljs-attr">change</span>: <span class="hljs-built_in">number</span>;      <span class="hljs-comment">// æ¶¨è·Œå¹…åº¦ï¼ˆå…ƒï¼‰</span>
  <span class="hljs-attr">updateTime</span>: <span class="hljs-built_in">string</span>;  <span class="hljs-comment">// æ›´æ–°æ—¶é—´</span>
}

<span class="hljs-comment">/** é“¶è¡Œé‡‘æ¡ä»·æ ¼ */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">BankGoldBar</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">bankName</span>: <span class="hljs-built_in">string</span>;    <span class="hljs-comment">// é“¶è¡Œåç§°</span>
  <span class="hljs-attr">buyPrice</span>: <span class="hljs-built_in">number</span>;    <span class="hljs-comment">// ä¹°å…¥ä»·ï¼ˆå…ƒ/å…‹ï¼‰</span>
  <span class="hljs-attr">sellPrice</span>: <span class="hljs-built_in">number</span>;   <span class="hljs-comment">// å–å‡ºä»·ï¼ˆå…ƒ/å…‹ï¼‰</span>
  <span class="hljs-attr">change</span>: <span class="hljs-built_in">number</span>;      <span class="hljs-comment">// æ¶¨è·Œå¹…åº¦ï¼ˆå…ƒï¼‰</span>
  <span class="hljs-attr">updateTime</span>: <span class="hljs-built_in">string</span>;  <span class="hljs-comment">// æ›´æ–°æ—¶é—´</span>
}

<span class="hljs-comment">/** é»„é‡‘ä»·æ ¼æ•°æ® */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">GoldPriceData</span> {
  <span class="hljs-attr">jewelryBrands</span>: <span class="hljs-title class_">JewelryBrand</span>[];
  <span class="hljs-attr">bankGoldBars</span>: <span class="hljs-title class_">BankGoldBar</span>[];
  <span class="hljs-attr">lastUpdate</span>: <span class="hljs-built_in">string</span>;
}

<span class="hljs-comment">/** API å“åº”ç±»å‹ */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">BrandPriceData</span> {
  <span class="hljs-attr">brand</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">goldPrice</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">platinumPrice</span>: <span class="hljs-built_in">number</span> | <span class="hljs-built_in">string</span>;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">PriceResponse</span> {
  <span class="hljs-attr">status</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">timestamp</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">data</span>: <span class="hljs-title class_">BrandPriceData</span>[];
}
</code></pre>
<h3 data-id="heading-59">3. Service Layerå®ç°</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/pages/popup/services/goldPriceService.ts</span>

<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">API_URL</span> = <span class="hljs-string">"https://chatbot-be-omega.vercel.app/api/goldPrice"</span>;

<span class="hljs-comment">// å®šä¹‰å“ç‰Œåˆ†ç±»</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">JEWELRY_BRANDS</span> = [
  <span class="hljs-string">"å‘¨å¤§ç¦"</span>, <span class="hljs-string">"è€å‡¤ç¥¥"</span>, <span class="hljs-string">"å‘¨å…­ç¦"</span>, <span class="hljs-string">"å‘¨ç”Ÿç”Ÿ"</span>, 
  <span class="hljs-string">"å…­ç¦ç å®"</span>, <span class="hljs-string">"è€åº™"</span>, <span class="hljs-string">"é‡‘è‡³å°Š"</span>, <span class="hljs-string">"èœç™¾"</span>
  <span class="hljs-comment">// ... æ›´å¤šå“ç‰Œ</span>
];

<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">BANK_BRANDS</span> = [<span class="hljs-string">"ä¸­å›½é»„é‡‘"</span>, <span class="hljs-string">"é«˜èµ›å°”"</span>];

<span class="hljs-comment">/**
 * ä» API è·å–é»„é‡‘ä»·æ ¼æ•°æ®
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> fetchGoldPriceFromAPI = <span class="hljs-keyword">async</span> (): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">PriceResponse</span>&gt; =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-variable constant_">API_URL</span>, {
      <span class="hljs-attr">method</span>: <span class="hljs-string">"GET"</span>,
      <span class="hljs-attr">headers</span>: { <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/json"</span> },
    });

    <span class="hljs-keyword">if</span> (!response.<span class="hljs-property">ok</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`API è¯·æ±‚å¤±è´¥: <span class="hljs-subst">${response.status}</span>`</span>);
    }

    <span class="hljs-keyword">const</span> <span class="hljs-attr">data</span>: <span class="hljs-title class_">PriceResponse</span> = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();

    <span class="hljs-keyword">if</span> (data.<span class="hljs-property">status</span> !== <span class="hljs-string">"ok"</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"API è¿”å›çŠ¶æ€å¼‚å¸¸"</span>);
    }

    <span class="hljs-keyword">return</span> data;
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"è·å–é»„é‡‘ä»·æ ¼å¤±è´¥:"</span>, error);
    <span class="hljs-keyword">throw</span> error;
  }
};

<span class="hljs-comment">/**
 * å°† API æ•°æ®è½¬æ¢ä¸ºåº”ç”¨æ ¼å¼
 */</span>
<span class="hljs-keyword">const</span> transformAPIData = (<span class="hljs-attr">apiResponse</span>: <span class="hljs-title class_">PriceResponse</span>): <span class="hljs-function"><span class="hljs-params">GoldPriceData</span> =&gt;</span> {
  <span class="hljs-comment">// è½¬æ¢é‡‘é¥°å“æ•°æ®</span>
  <span class="hljs-keyword">const</span> <span class="hljs-attr">jewelryBrands</span>: <span class="hljs-title class_">JewelryBrand</span>[] = apiResponse.<span class="hljs-property">data</span>
    .<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> <span class="hljs-variable constant_">JEWELRY_BRANDS</span>.<span class="hljs-title function_">includes</span>(item.<span class="hljs-property">brand</span>))
    .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item, index</span>) =&gt;</span> ({
      <span class="hljs-attr">id</span>: <span class="hljs-string">`jewelry-<span class="hljs-subst">${index}</span>`</span>,
      <span class="hljs-attr">name</span>: item.<span class="hljs-property">brand</span>,
      <span class="hljs-attr">price</span>: item.<span class="hljs-property">goldPrice</span>,
      <span class="hljs-attr">change</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">updateTime</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(apiResponse.<span class="hljs-property">timestamp</span>).<span class="hljs-title function_">toLocaleString</span>(<span class="hljs-string">"zh-CN"</span>, {
        <span class="hljs-attr">month</span>: <span class="hljs-string">"2-digit"</span>,
        <span class="hljs-attr">day</span>: <span class="hljs-string">"2-digit"</span>,
        <span class="hljs-attr">hour</span>: <span class="hljs-string">"2-digit"</span>,
        <span class="hljs-attr">minute</span>: <span class="hljs-string">"2-digit"</span>,
      }),
    }));

  <span class="hljs-comment">// è½¬æ¢é“¶è¡Œé‡‘æ¡æ•°æ®</span>
  <span class="hljs-keyword">const</span> <span class="hljs-attr">bankGoldBars</span>: <span class="hljs-title class_">BankGoldBar</span>[] = apiResponse.<span class="hljs-property">data</span>
    .<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> <span class="hljs-variable constant_">BANK_BRANDS</span>.<span class="hljs-title function_">includes</span>(item.<span class="hljs-property">brand</span>))
    .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item, index</span>) =&gt;</span> ({
      <span class="hljs-attr">id</span>: <span class="hljs-string">`bank-<span class="hljs-subst">${index}</span>`</span>,
      <span class="hljs-attr">bankName</span>: item.<span class="hljs-property">brand</span>,
      <span class="hljs-attr">buyPrice</span>: item.<span class="hljs-property">goldPrice</span>,
      <span class="hljs-attr">sellPrice</span>: <span class="hljs-keyword">typeof</span> item.<span class="hljs-property">platinumPrice</span> === <span class="hljs-string">"number"</span> 
        ? item.<span class="hljs-property">platinumPrice</span> 
        : item.<span class="hljs-property">goldPrice</span>,
      <span class="hljs-attr">change</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">updateTime</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(apiResponse.<span class="hljs-property">timestamp</span>).<span class="hljs-title function_">toLocaleString</span>(<span class="hljs-string">"zh-CN"</span>, {
        <span class="hljs-attr">month</span>: <span class="hljs-string">"2-digit"</span>,
        <span class="hljs-attr">day</span>: <span class="hljs-string">"2-digit"</span>,
        <span class="hljs-attr">hour</span>: <span class="hljs-string">"2-digit"</span>,
        <span class="hljs-attr">minute</span>: <span class="hljs-string">"2-digit"</span>,
      }),
    }));

  <span class="hljs-keyword">const</span> lastUpdate = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(apiResponse.<span class="hljs-property">timestamp</span>).<span class="hljs-title function_">toLocaleString</span>(<span class="hljs-string">"zh-CN"</span>, {
    <span class="hljs-attr">year</span>: <span class="hljs-string">"numeric"</span>,
    <span class="hljs-attr">month</span>: <span class="hljs-string">"2-digit"</span>,
    <span class="hljs-attr">day</span>: <span class="hljs-string">"2-digit"</span>,
    <span class="hljs-attr">hour</span>: <span class="hljs-string">"2-digit"</span>,
    <span class="hljs-attr">minute</span>: <span class="hljs-string">"2-digit"</span>,
  });

  <span class="hljs-keyword">return</span> { jewelryBrands, bankGoldBars, lastUpdate };
};

<span class="hljs-comment">/**
 * è·å–é»„é‡‘ä»·æ ¼æ•°æ®ï¼ˆå¯¹å¤–æ¥å£ï¼‰
 * å¸¦ç¼“å­˜æœºåˆ¶
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> fetchGoldPriceData = <span class="hljs-keyword">async</span> (): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">GoldPriceData</span>&gt; =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// å…ˆå°è¯•ä»ç¼“å­˜è¯»å–</span>
    <span class="hljs-keyword">const</span> cached = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>([<span class="hljs-string">'goldPriceData'</span>, <span class="hljs-string">'cacheTime'</span>]);
    <span class="hljs-keyword">const</span> now = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
    <span class="hljs-keyword">const</span> cacheAge = now - (cached.<span class="hljs-property">cacheTime</span> || <span class="hljs-number">0</span>);
    
    <span class="hljs-comment">// ç¼“å­˜æœ‰æ•ˆæœŸï¼š5 åˆ†é’Ÿ</span>
    <span class="hljs-keyword">if</span> (cached.<span class="hljs-property">goldPriceData</span> &amp;&amp; cacheAge &lt; <span class="hljs-number">5</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä½¿ç”¨ç¼“å­˜æ•°æ®'</span>);
      <span class="hljs-keyword">return</span> cached.<span class="hljs-property">goldPriceData</span>;
    }

    <span class="hljs-comment">// ç¼“å­˜è¿‡æœŸï¼Œé‡æ–°è·å–</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è·å–æ–°æ•°æ®'</span>);
    <span class="hljs-keyword">const</span> apiResponse = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchGoldPriceFromAPI</span>();
    <span class="hljs-keyword">const</span> data = <span class="hljs-title function_">transformAPIData</span>(apiResponse);

    <span class="hljs-comment">// ä¿å­˜åˆ°ç¼“å­˜</span>
    <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>({
      <span class="hljs-attr">goldPriceData</span>: data,
      <span class="hljs-attr">cacheTime</span>: now
    });

    <span class="hljs-keyword">return</span> data;
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"è·å–å¹¶è½¬æ¢é»„é‡‘ä»·æ ¼æ•°æ®å¤±è´¥:"</span>, error);
    
    <span class="hljs-comment">// å¦‚æœæœ‰ç¼“å­˜æ•°æ®ï¼Œå³ä½¿è¿‡æœŸä¹Ÿè¿”å›</span>
    <span class="hljs-keyword">const</span> cached = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>([<span class="hljs-string">'goldPriceData'</span>]);
    <span class="hljs-keyword">if</span> (cached.<span class="hljs-property">goldPriceData</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'API å¤±è´¥ï¼Œä½¿ç”¨è¿‡æœŸç¼“å­˜'</span>);
      <span class="hljs-keyword">return</span> cached.<span class="hljs-property">goldPriceData</span>;
    }
    
    <span class="hljs-keyword">throw</span> error;
  }
};

<span class="hljs-comment">/**
 * å¼ºåˆ¶åˆ·æ–°æ•°æ®
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> refreshGoldPriceData = <span class="hljs-keyword">async</span> (): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">GoldPriceData</span>&gt; =&gt; {
  <span class="hljs-comment">// æ¸…é™¤ç¼“å­˜æ—¶é—´ï¼Œå¼ºåˆ¶é‡æ–°è·å–</span>
  <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">remove</span>([<span class="hljs-string">'cacheTime'</span>]);
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">fetchGoldPriceData</span>();
};
</code></pre>
<h3 data-id="heading-60">4. UI ç»„ä»¶å®ç°</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/pages/popup/components/JewelryCard.tsx</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">JewelryBrand</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"../types"</span>;

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">JewelryCardProps</span> {
  <span class="hljs-attr">brand</span>: <span class="hljs-title class_">JewelryBrand</span>;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">JewelryCard</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span>&lt;<span class="hljs-title class_">JewelryCardProps</span>&gt; = <span class="hljs-function">(<span class="hljs-params">{ brand }</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> isPositive = brand.<span class="hljs-property">change</span> &gt;= <span class="hljs-number">0</span>;

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"bg-white/80 backdrop-blur-sm rounded-lg p-3 shadow-sm hover:shadow-md transition-shadow"</span>&gt;</span>
      {/* å“ç‰Œåå’Œæ¶¨è·Œ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex items-center justify-between mb-2"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-sm font-medium text-gray-800"</span>&gt;</span>{brand.name}<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
        {brand.change !== 0 &amp;&amp; (
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>
            <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">text-xs</span> <span class="hljs-attr">px-2</span> <span class="hljs-attr">py-0.5</span> <span class="hljs-attr">rounded-full</span> ${
              <span class="hljs-attr">isPositive</span> 
                ? "<span class="hljs-attr">bg-red-50</span> <span class="hljs-attr">text-red-600</span>" 
                <span class="hljs-attr">:</span> "<span class="hljs-attr">bg-green-50</span> <span class="hljs-attr">text-green-600</span>"
            }`}
          &gt;</span>
            {isPositive ? "+" : ""}{brand.change}
          <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        )}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      
      {/* ä»·æ ¼æ˜¾ç¤º */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex items-baseline"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-xl font-semibold text-amber-600"</span>&gt;</span>
          Â¥{brand.price}
        <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-xs text-gray-500 ml-1"</span>&gt;</span>/å…‹<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      
      {/* æ›´æ–°æ—¶é—´ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"mt-1 text-xs text-gray-400"</span>&gt;</span>
        {brand.updateTime}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
</code></pre>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/pages/popup/components/BankCard.tsx</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BankGoldBar</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"../types"</span>;

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">BankCardProps</span> {
  <span class="hljs-attr">bank</span>: <span class="hljs-title class_">BankGoldBar</span>;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">BankCard</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span>&lt;<span class="hljs-title class_">BankCardProps</span>&gt; = <span class="hljs-function">(<span class="hljs-params">{ bank }</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> isPositive = bank.<span class="hljs-property">change</span> &gt;= <span class="hljs-number">0</span>;

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"bg-white/80 backdrop-blur-sm rounded-lg p-3 shadow-sm hover:shadow-md transition-shadow"</span>&gt;</span>
      {/* é“¶è¡Œåå’Œæ¶¨è·Œ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex items-center justify-between mb-2"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-sm font-medium text-gray-800"</span>&gt;</span>{bank.bankName}<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
        {bank.change !== 0 &amp;&amp; (
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>
            <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">text-xs</span> <span class="hljs-attr">px-2</span> <span class="hljs-attr">py-0.5</span> <span class="hljs-attr">rounded-full</span> ${
              <span class="hljs-attr">isPositive</span> 
                ? "<span class="hljs-attr">bg-red-50</span> <span class="hljs-attr">text-red-600</span>" 
                <span class="hljs-attr">:</span> "<span class="hljs-attr">bg-green-50</span> <span class="hljs-attr">text-green-600</span>"
            }`}
          &gt;</span>
            {isPositive ? "+" : ""}{bank.change}
          <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        )}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      
      {/* ä¹°å…¥/å–å‡ºä»·æ ¼ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex justify-between items-center"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex flex-col"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-xs text-gray-500 mb-1"</span>&gt;</span>ä¹°å…¥<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-base font-semibold text-blue-600"</span>&gt;</span>
            Â¥{bank.buyPrice}
          <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"h-6 w-px bg-gray-200"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex flex-col items-end"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-xs text-gray-500 mb-1"</span>&gt;</span>å–å‡º<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-base font-semibold text-purple-600"</span>&gt;</span>
            Â¥{bank.sellPrice}
          <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      
      {/* æ›´æ–°æ—¶é—´ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"mt-2 text-xs text-gray-400 text-center"</span>&gt;</span>
        {bank.updateTime}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
</code></pre>
<h3 data-id="heading-61">5. å…³é”®æŠ€æœ¯ç‚¹</h3>
<h4 data-id="heading-62">é”™è¯¯å¤„ç†ä¸é™çº§ç­–ç•¥</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å¤šå±‚æ¬¡çš„é”™è¯¯å¤„ç†</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchWithRetry</span>(<span class="hljs-params">url: <span class="hljs-built_in">string</span>, retries = <span class="hljs-number">3</span></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Response</span>&gt; {
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; retries; i++) {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(url);
      <span class="hljs-keyword">if</span> (response.<span class="hljs-property">ok</span>) <span class="hljs-keyword">return</span> response;
      
      <span class="hljs-keyword">if</span> (i === retries - <span class="hljs-number">1</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`è¯·æ±‚å¤±è´¥: <span class="hljs-subst">${response.status}</span>`</span>);
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-keyword">if</span> (i === retries - <span class="hljs-number">1</span>) <span class="hljs-keyword">throw</span> error;
      
      <span class="hljs-comment">// æŒ‡æ•°é€€é¿</span>
      <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(<span class="hljs-number">2</span>, i) * <span class="hljs-number">1000</span>));
    }
  }
  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Max retries reached'</span>);
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchWithRetry</span>(<span class="hljs-variable constant_">API_URL</span>);
  <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();
} <span class="hljs-keyword">catch</span> (error) {
  <span class="hljs-comment">// é™çº§åˆ°ç¼“å­˜æ•°æ®</span>
  <span class="hljs-keyword">const</span> cached = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getCachedData</span>();
  <span class="hljs-keyword">if</span> (cached) <span class="hljs-keyword">return</span> cached;
  
  <span class="hljs-comment">// æ˜¾ç¤ºé”™è¯¯æç¤º</span>
  <span class="hljs-title function_">showErrorNotification</span>(error);
}
</code></pre>
<h4 data-id="heading-63">æ€§èƒ½ä¼˜åŒ–</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. é˜²æŠ–åˆ·æ–°</span>
<span class="hljs-keyword">function</span> debounce&lt;T <span class="hljs-keyword">extends</span> (...<span class="hljs-attr">args</span>: <span class="hljs-built_in">any</span>[]) =&gt; <span class="hljs-built_in">any</span>&gt;(
  <span class="hljs-attr">func</span>: T,
  <span class="hljs-attr">wait</span>: <span class="hljs-built_in">number</span>
): <span class="hljs-function">(<span class="hljs-params">...args: Parameters&lt;T&gt;</span>) =&gt;</span> <span class="hljs-built_in">void</span> {
  <span class="hljs-keyword">let</span> <span class="hljs-attr">timeout</span>: <span class="hljs-title class_">NodeJS</span>.<span class="hljs-property">Timeout</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">...args: Parameters&lt;T&gt;</span>) {
    <span class="hljs-built_in">clearTimeout</span>(timeout);
    timeout = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">func</span>(...args), wait);
  };
}

<span class="hljs-keyword">const</span> debouncedRefresh = <span class="hljs-title function_">debounce</span>(refreshGoldPriceData, <span class="hljs-number">1000</span>);

<span class="hljs-comment">// 2. æ•°æ®é¢„åŠ è½½</span>
chrome.<span class="hljs-property">runtime</span>.<span class="hljs-property">onInstalled</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-comment">// å®‰è£…æ—¶é¢„å…ˆè·å–æ•°æ®</span>
  <span class="hljs-title function_">fetchGoldPriceData</span>().<span class="hljs-keyword">catch</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">error</span>);
});

<span class="hljs-comment">// 3. åå°å®šæ—¶æ›´æ–°</span>
chrome.<span class="hljs-property">alarms</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">'updatePrices'</span>, {
  <span class="hljs-attr">periodInMinutes</span>: <span class="hljs-number">30</span>
});

chrome.<span class="hljs-property">alarms</span>.<span class="hljs-property">onAlarm</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">alarm</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (alarm.<span class="hljs-property">name</span> === <span class="hljs-string">'updatePrices'</span>) {
    <span class="hljs-title function_">fetchGoldPriceData</span>().<span class="hljs-keyword">catch</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">error</span>);
  }
});
</code></pre>
<hr/>
<h2 data-id="heading-64">è·¨æµè§ˆå™¨å…¼å®¹æ€§å¤„ç†</h2>
<h3 data-id="heading-65">1. ä½¿ç”¨ webextension-polyfill</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å®‰è£…</span>
npm install webextension-polyfill
npm install --save-dev <span class="hljs-meta">@types</span>/webextension-polyfill

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Browser</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'webextension-polyfill'</span>;

<span class="hljs-comment">// ç»Ÿä¸€çš„ Promise é£æ ¼ API</span>
<span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Browser</span>.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'key'</span>);
<span class="hljs-keyword">const</span> tabs = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Browser</span>.<span class="hljs-property">tabs</span>.<span class="hljs-title function_">query</span>({ <span class="hljs-attr">active</span>: <span class="hljs-literal">true</span> });

<span class="hljs-comment">// è‡ªåŠ¨å¤„ç†å›è°ƒè½¬ Promise</span>
<span class="hljs-title class_">Browser</span>.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">sendMessage</span>({ <span class="hljs-attr">action</span>: <span class="hljs-string">'test'</span> })
  .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response))
  .<span class="hljs-keyword">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(error));
</code></pre>
<h3 data-id="heading-66">2. Vite é…ç½®å·®å¼‚</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// vite.config.chrome.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-title function_">crx</span>({
      <span class="hljs-attr">manifest</span>: {
        ...baseManifest,
        <span class="hljs-attr">background</span>: {
          <span class="hljs-attr">service_worker</span>: <span class="hljs-string">'src/pages/background/index.ts'</span>,  <span class="hljs-comment">// Chrome: Service Worker</span>
          <span class="hljs-attr">type</span>: <span class="hljs-string">'module'</span>
        },
      },
      <span class="hljs-attr">browser</span>: <span class="hljs-string">'chrome'</span>,
    })
  ],
});

<span class="hljs-comment">// vite.config.firefox.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-title function_">crx</span>({
      <span class="hljs-attr">manifest</span>: {
        ...baseManifest,
        <span class="hljs-attr">background</span>: {
          <span class="hljs-attr">scripts</span>: [<span class="hljs-string">'src/pages/background/index.ts'</span>]  <span class="hljs-comment">// Firefox: Scripts Array</span>
        },
      },
      <span class="hljs-attr">browser</span>: <span class="hljs-string">'firefox'</span>,
    })
  ],
});
</code></pre>
<h3 data-id="heading-67">3. æµè§ˆå™¨ç‰¹æ€§æ£€æµ‹</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// utils/browser.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">getBrowserInfo</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> userAgent = navigator.<span class="hljs-property">userAgent</span>;
  
  <span class="hljs-keyword">if</span> (userAgent.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'Edg/'</span>)) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">name</span>: <span class="hljs-string">'Edge'</span>, <span class="hljs-attr">isChromium</span>: <span class="hljs-literal">true</span> };
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (userAgent.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'Chrome'</span>)) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">name</span>: <span class="hljs-string">'Chrome'</span>, <span class="hljs-attr">isChromium</span>: <span class="hljs-literal">true</span> };
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (userAgent.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'Firefox'</span>)) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">name</span>: <span class="hljs-string">'Firefox'</span>, <span class="hljs-attr">isChromium</span>: <span class="hljs-literal">false</span> };
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (userAgent.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'Safari'</span>)) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">name</span>: <span class="hljs-string">'Safari'</span>, <span class="hljs-attr">isChromium</span>: <span class="hljs-literal">false</span> };
  }
  
  <span class="hljs-keyword">return</span> { <span class="hljs-attr">name</span>: <span class="hljs-string">'Unknown'</span>, <span class="hljs-attr">isChromium</span>: <span class="hljs-literal">false</span> };
};

<span class="hljs-comment">// æ ¹æ®æµè§ˆå™¨è°ƒæ•´è¡Œä¸º</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> isSidePanel <span class="hljs-title class_">Supported</span> = <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> { name } = <span class="hljs-title function_">getBrowserInfo</span>();
  <span class="hljs-keyword">return</span> name === <span class="hljs-string">'Chrome'</span> || name === <span class="hljs-string">'Edge'</span>;
};

<span class="hljs-comment">// æ¡ä»¶æ€§ä½¿ç”¨ API</span>
<span class="hljs-keyword">if</span> (<span class="hljs-string">'sidePanel'</span> <span class="hljs-keyword">in</span> chrome) {
  chrome.<span class="hljs-property">sidePanel</span>.<span class="hljs-title function_">setOptions</span>({ <span class="hljs-attr">path</span>: <span class="hljs-string">'panel.html'</span> });
}
</code></pre>
<hr/>
<h2 data-id="heading-68">è°ƒè¯•æŠ€å·§ä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-69">1. è°ƒè¯•å·¥å…·</h3>
<h4 data-id="heading-70">Background Script è°ƒè¯•</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Chrome</span>
1. æ‰“å¼€ chrome://extensions
2. æ‰¾åˆ°ä½ çš„æ‰©å±•
3. ç‚¹å‡» <span class="hljs-string">"service worker"</span> æˆ– <span class="hljs-string">"èƒŒæ™¯é¡µ"</span>
4. æ‰“å¼€ DevTools æ§åˆ¶å°

<span class="hljs-comment"># Firefox</span>
1. æ‰“å¼€ about:debugging
2. ç‚¹å‡» <span class="hljs-string">"æ£€æŸ¥"</span>
3. æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°
</code></pre>
<h4 data-id="heading-71">Content Script è°ƒè¯•</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç›´æ¥åœ¨ç½‘é¡µä¸­è°ƒè¯•</span>
1. æ‰“å¼€ç›®æ ‡ç½‘é¡µ
2. æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·
3. åœ¨ Console ä¸­å¯ä»¥çœ‹åˆ° Content Script çš„æ—¥å¿—
4. åœ¨ Sources/Debugger æ ‡ç­¾å¯ä»¥æ‰¾åˆ°æ³¨å…¥çš„è„šæœ¬
</code></pre>
<h4 data-id="heading-72">Popup è°ƒè¯•</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Chrome</span>
1. å³é”®ç‚¹å‡»æ‰©å±•å›¾æ ‡
2. é€‰æ‹© <span class="hljs-string">"æ£€æŸ¥å¼¹å‡ºå†…å®¹"</span>
3. DevTools ä¼šé™„åŠ åˆ° Popup

<span class="hljs-comment"># Firefox</span>
1. å³é”®ç‚¹å‡»æ‰©å±•å›¾æ ‡
2. é€‰æ‹© <span class="hljs-string">"è°ƒè¯•æ­¤æ‰©å±•"</span>
</code></pre>
<h3 data-id="heading-73">2. æ—¥å¿—ç³»ç»Ÿ</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// utils/logger.ts</span>
<span class="hljs-keyword">enum</span> <span class="hljs-title class_">LogLevel</span> {
  <span class="hljs-variable constant_">DEBUG</span> = <span class="hljs-number">0</span>,
  <span class="hljs-variable constant_">INFO</span> = <span class="hljs-number">1</span>,
  <span class="hljs-variable constant_">WARN</span> = <span class="hljs-number">2</span>,
  <span class="hljs-variable constant_">ERROR</span> = <span class="hljs-number">3</span>
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Logger</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">level</span>: <span class="hljs-title class_">LogLevel</span> = <span class="hljs-title class_">LogLevel</span>.<span class="hljs-property">INFO</span>;
  <span class="hljs-keyword">private</span> <span class="hljs-attr">prefix</span>: <span class="hljs-built_in">string</span>;

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">prefix: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">prefix</span> = <span class="hljs-string">`[<span class="hljs-subst">${prefix}</span>]`</span>;
  }

  <span class="hljs-title function_">setLevel</span>(<span class="hljs-params">level: LogLevel</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">level</span> = level;
  }

  <span class="hljs-title function_">debug</span>(<span class="hljs-params">...args: <span class="hljs-built_in">any</span>[]</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">level</span> &lt;= <span class="hljs-title class_">LogLevel</span>.<span class="hljs-property">DEBUG</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">prefix</span>, <span class="hljs-string">'[DEBUG]'</span>, ...args);
    }
  }

  <span class="hljs-title function_">info</span>(<span class="hljs-params">...args: <span class="hljs-built_in">any</span>[]</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">level</span> &lt;= <span class="hljs-title class_">LogLevel</span>.<span class="hljs-property">INFO</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">prefix</span>, <span class="hljs-string">'[INFO]'</span>, ...args);
    }
  }

  <span class="hljs-title function_">warn</span>(<span class="hljs-params">...args: <span class="hljs-built_in">any</span>[]</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">level</span> &lt;= <span class="hljs-title class_">LogLevel</span>.<span class="hljs-property">WARN</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">prefix</span>, <span class="hljs-string">'[WARN]'</span>, ...args);
    }
  }

  <span class="hljs-title function_">error</span>(<span class="hljs-params">...args: <span class="hljs-built_in">any</span>[]</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">level</span> &lt;= <span class="hljs-title class_">LogLevel</span>.<span class="hljs-property">ERROR</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">prefix</span>, <span class="hljs-string">'[ERROR]'</span>, ...args);
    }
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> logger = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Logger</span>(<span class="hljs-string">'GoldPrice'</span>);

<span class="hljs-comment">// ä½¿ç”¨</span>
logger.<span class="hljs-title function_">info</span>(<span class="hljs-string">'è·å–ä»·æ ¼æ•°æ®'</span>);
logger.<span class="hljs-title function_">error</span>(<span class="hljs-string">'API è¯·æ±‚å¤±è´¥'</span>, error);
</code></pre>
<h3 data-id="heading-74">3. æ€§èƒ½ç›‘æ§</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ€§èƒ½è®¡æ—¶</span>
<span class="hljs-keyword">const</span> startTime = performance.<span class="hljs-title function_">now</span>();
<span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchGoldPriceData</span>();
<span class="hljs-keyword">const</span> endTime = performance.<span class="hljs-title function_">now</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ•°æ®è·å–è€—æ—¶: <span class="hljs-subst">${(endTime - startTime).toFixed(<span class="hljs-number">2</span>)}</span>ms`</span>);

<span class="hljs-comment">// ä½¿ç”¨ Performance API</span>
performance.<span class="hljs-title function_">mark</span>(<span class="hljs-string">'fetch-start'</span>);
<span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchData</span>();
performance.<span class="hljs-title function_">mark</span>(<span class="hljs-string">'fetch-end'</span>);
performance.<span class="hljs-title function_">measure</span>(<span class="hljs-string">'fetch-duration'</span>, <span class="hljs-string">'fetch-start'</span>, <span class="hljs-string">'fetch-end'</span>);

<span class="hljs-keyword">const</span> measures = performance.<span class="hljs-title function_">getEntriesByName</span>(<span class="hljs-string">'fetch-duration'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ•°æ®è·å–è€—æ—¶: <span class="hljs-subst">${measures[<span class="hljs-number">0</span>].duration}</span>ms`</span>);
</code></pre>
<hr/>
<h2 data-id="heading-75">æ€§èƒ½ä¼˜åŒ–ç­–ç•¥</h2>
<h3 data-id="heading-76">1. Content Script ä¼˜åŒ–</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// âŒ ä¸å¥½ï¼šé˜»å¡ä¸»çº¿ç¨‹</span>
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'.item'</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {
  <span class="hljs-comment">// å¤§é‡ DOM æ“ä½œ</span>
  item.<span class="hljs-property">innerHTML</span> = <span class="hljs-title function_">generateComplexHTML</span>();
});

<span class="hljs-comment">// âœ… å¥½ï¼šæ‰¹é‡æ“ä½œï¼Œä½¿ç”¨ DocumentFragment</span>
<span class="hljs-keyword">const</span> fragment = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createDocumentFragment</span>();
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'.item'</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> newElement = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>);
  newElement.<span class="hljs-property">innerHTML</span> = <span class="hljs-title function_">generateComplexHTML</span>();
  fragment.<span class="hljs-title function_">appendChild</span>(newElement);
});
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(fragment);

<span class="hljs-comment">// âœ… æ›´å¥½ï¼šä½¿ç”¨ IntersectionObserver å»¶è¿ŸåŠ è½½</span>
<span class="hljs-keyword">const</span> observer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">IntersectionObserver</span>(<span class="hljs-function">(<span class="hljs-params">entries</span>) =&gt;</span> {
  entries.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">entry</span> =&gt;</span> {
    <span class="hljs-keyword">if</span> (entry.<span class="hljs-property">isIntersecting</span>) {
      <span class="hljs-title function_">enhanceElement</span>(entry.<span class="hljs-property">target</span>);
      observer.<span class="hljs-title function_">unobserve</span>(entry.<span class="hljs-property">target</span>);
    }
  });
});

<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'.item'</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {
  observer.<span class="hljs-title function_">observe</span>(item);
});
</code></pre>
<h3 data-id="heading-77">2. èµ„æºä¼˜åŒ–</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä»£ç åˆ†å‰²</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">loadHeavyFeature</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> <span class="hljs-variable language_">module</span> = <span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./heavy-feature'</span>);
  <span class="hljs-variable language_">module</span>.<span class="hljs-title function_">initialize</span>();
};

<span class="hljs-comment">// å›¾ç‰‡æ‡’åŠ è½½</span>
<span class="hljs-keyword">const</span> imageUrl = chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">getURL</span>(<span class="hljs-string">'images/large-image.png'</span>);
<span class="hljs-keyword">const</span> img = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Image</span>();
img.<span class="hljs-property">loading</span> = <span class="hljs-string">'lazy'</span>;
img.<span class="hljs-property">src</span> = imageUrl;

<span class="hljs-comment">// å‹ç¼©æ•°æ®</span>
<span class="hljs-keyword">import</span> pako <span class="hljs-keyword">from</span> <span class="hljs-string">'pako'</span>;

<span class="hljs-comment">// ä¿å­˜æ—¶å‹ç¼©</span>
<span class="hljs-keyword">const</span> compressed = pako.<span class="hljs-title function_">deflate</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(largeData));
<span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>({ <span class="hljs-attr">data</span>: compressed });

<span class="hljs-comment">// è¯»å–æ—¶è§£å‹</span>
<span class="hljs-keyword">const</span> { data } = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'data'</span>);
<span class="hljs-keyword">const</span> decompressed = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(pako.<span class="hljs-title function_">inflate</span>(data, { <span class="hljs-attr">to</span>: <span class="hljs-string">'string'</span> }));
</code></pre>
<h3 data-id="heading-78">3. å†…å­˜ç®¡ç†</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åŠæ—¶æ¸…ç†ç›‘å¬å™¨</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">listener</span>: (<span class="hljs-function">(<span class="hljs-params">changes: <span class="hljs-built_in">any</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>) | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">startMonitoring</span>(<span class="hljs-params"/>) {
  listener = <span class="hljs-function">(<span class="hljs-params">changes</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Storage changed:'</span>, changes);
  };
  chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">onChanged</span>.<span class="hljs-title function_">addListener</span>(listener);
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">stopMonitoring</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">if</span> (listener) {
    chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">onChanged</span>.<span class="hljs-title function_">removeListener</span>(listener);
    listener = <span class="hljs-literal">null</span>;
  }
}

<span class="hljs-comment">// é™åˆ¶ç¼“å­˜å¤§å°</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">addToCache</span>(<span class="hljs-params">key: <span class="hljs-built_in">string</span>, data: <span class="hljs-built_in">any</span></span>) {
  <span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'cache'</span>) || {};
  <span class="hljs-keyword">const</span> cacheKeys = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(cache);
  
  <span class="hljs-comment">// æœ€å¤šä¿ç•™ 100 æ¡</span>
  <span class="hljs-keyword">if</span> (cacheKeys.<span class="hljs-property">length</span> &gt;= <span class="hljs-number">100</span>) {
    <span class="hljs-keyword">const</span> oldest = cacheKeys[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">delete</span> cache[oldest];
  }
  
  cache[key] = data;
  <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>({ cache });
}
</code></pre>
<hr/>
<h2 data-id="heading-79">æ‰“åŒ…æ„å»ºä¸å‘å¸ƒ</h2>
<h3 data-id="heading-80">1. ç”Ÿäº§æ„å»º</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ„å»º Chrome ç‰ˆæœ¬</span>
npm run build:chrome

<span class="hljs-comment"># æ„å»º Firefox ç‰ˆæœ¬</span>
npm run build:firefox

<span class="hljs-comment"># è¾“å‡ºç›®å½•</span>
<span class="hljs-comment"># dist_chrome/   # Chrome æ‰©å±•æ–‡ä»¶</span>
<span class="hljs-comment"># dist_firefox/  # Firefox æ‰©å±•æ–‡ä»¶</span>
</code></pre>
<h3 data-id="heading-81">2. æ‰“åŒ…ä¸º ZIP</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ‰‹åŠ¨æ‰“åŒ…</span>
<span class="hljs-built_in">cd</span> dist_chrome
zip -r ../extension-chrome.zip *

<span class="hljs-built_in">cd</span> ../dist_firefox
zip -r ../extension-firefox.zip *

<span class="hljs-comment"># æˆ–ä½¿ç”¨è„šæœ¬</span>
npm install --save-dev archiver

// scripts/zip.js
const archiver = require(<span class="hljs-string">'archiver'</span>);
const fs = require(<span class="hljs-string">'fs'</span>);

<span class="hljs-keyword">function</span> zipDirectory(<span class="hljs-built_in">source</span>, out) {
  const archive = archiver(<span class="hljs-string">'zip'</span>, { zlib: { level: 9 } });
  const stream = fs.createWriteStream(out);

  <span class="hljs-built_in">return</span> new Promise((resolve, reject) =&gt; {
    archive
      .directory(source, false)
      .on('error', reject)
      .pipe(stream);

    stream.on('close', resolve);
    archive.finalize();
  });
}

zipDirectory('./dist_chrome', './extension-chrome.zip');
</code></pre>
<h3 data-id="heading-82">3. å‘å¸ƒåˆ° Chrome Web Store</h3>
<h4 data-id="heading-83">å‡†å¤‡å·¥ä½œ</h4>
<ol>
<li>
<p><strong>æ³¨å†Œå¼€å‘è€…è´¦å·</strong></p>
<ul>
<li>è®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Fchrome.google.com%2Fwebstore%2Fdevconsole%2F" target="_blank" title="https://chrome.google.com/webstore/devconsole/" ref="nofollow noopener noreferrer">Chrome Web Store Developer Dashboard</a></li>
<li>æ”¯ä»˜ $5 ä¸€æ¬¡æ€§æ³¨å†Œè´¹</li>
</ul>
</li>
<li>
<p><strong>å‡†å¤‡èµ„æ–™</strong></p>
<ul>
<li>æ‰©å±• ZIP æ–‡ä»¶</li>
<li>å›¾æ ‡ï¼ˆ128x128pxï¼‰</li>
<li>æˆªå›¾ï¼ˆè‡³å°‘ 1 å¼ ï¼Œ1280x800 æˆ– 640x400ï¼‰</li>
<li>æ¨å¹¿å›¾ç‰‡ï¼ˆå¯é€‰ï¼Œ440x280pxï¼‰</li>
<li>è¯¦ç»†æè¿°ï¼ˆè‹±æ–‡ï¼Œæœ€å¤š 132 å­—ç¬¦ç®€ä»‹ + è¯¦ç»†è¯´æ˜ï¼‰</li>
</ul>
</li>
</ol>
<h4 data-id="heading-84">å‘å¸ƒæµç¨‹</h4>
<pre><code class="hljs language-bash" lang="bash">1. ç™»å½• Developer Dashboard
2. ç‚¹å‡» <span class="hljs-string">"New Item"</span>
3. ä¸Šä¼  ZIP æ–‡ä»¶
4. å¡«å†™å•†åº—ä¿¡æ¯ï¼š
   - åç§°å’Œæè¿°
   - ç±»åˆ«å’Œè¯­è¨€
   - æˆªå›¾å’Œå›¾æ ‡
   - éšç§æ”¿ç­–ï¼ˆå¦‚æœä½¿ç”¨äº†ç”¨æˆ·æ•°æ®ï¼‰
5. å®šä»·å’Œåˆ†å‘ï¼š
   - å…è´¹æˆ–ä»˜è´¹
   - å‘å¸ƒåœ°åŒº
6. æäº¤å®¡æ ¸
</code></pre>
<p><strong>å®¡æ ¸æ—¶é—´ï¼š</strong> é€šå¸¸ 1-3 å¤©</p>
<h3 data-id="heading-85">4. å‘å¸ƒåˆ° Firefox Add-ons</h3>
<h4 data-id="heading-86">å‡†å¤‡å·¥ä½œ</h4>
<ol>
<li>
<p><strong>æ³¨å†Œè´¦å·ï¼ˆå…è´¹ï¼‰</strong></p>
<ul>
<li>è®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Faddons.mozilla.org%2Fdevelopers%2F" target="_blank" title="https://addons.mozilla.org/developers/" ref="nofollow noopener noreferrer">Firefox Add-on Developer Hub</a></li>
</ul>
</li>
<li>
<p><strong>ç­¾åè¦æ±‚</strong></p>
<ul>
<li>Firefox è¦æ±‚æ‰€æœ‰æ‰©å±•å¿…é¡»ç­¾å</li>
<li>å¯ä»¥é€‰æ‹©è‡ªåŠ¨ç­¾åï¼ˆä¸ä¸Šæ¶ï¼‰æˆ–å®Œæ•´å®¡æ ¸ï¼ˆä¸Šæ¶ï¼‰</li>
</ul>
</li>
</ol>
<h4 data-id="heading-87">å‘å¸ƒæµç¨‹</h4>
<pre><code class="hljs language-bash" lang="bash">1. ç™»å½• Developer Hub
2. Submit a New Add-on
3. é€‰æ‹©åˆ†å‘æ–¹å¼ï¼š
   - On this site (å®Œæ•´å®¡æ ¸ï¼Œå…¬å¼€å‘å¸ƒ)
   - On your own (è‡ªåŠ¨ç­¾åï¼Œè‡ªè¡Œåˆ†å‘)
4. ä¸Šä¼  ZIP æ–‡ä»¶
5. å¡«å†™ä¿¡æ¯ï¼š
   - åç§°ã€æè¿°ã€åˆ†ç±»
   - ç‰ˆæœ¬è¯´æ˜
   - è®¸å¯è¯
   - éšç§æ”¿ç­–
6. æäº¤å®¡æ ¸
</code></pre>
<p><strong>å®¡æ ¸æ—¶é—´ï¼š</strong> äººå·¥å®¡æ ¸é€šå¸¸ 1-5 å¤©</p>
<h3 data-id="heading-88">5. GitHub Actions è‡ªåŠ¨åŒ–</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># .github/workflows/release.yml</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-string">and</span> <span class="hljs-string">Release</span>

<span class="hljs-attr">on:</span>
  <span class="hljs-attr">push:</span>
    <span class="hljs-attr">tags:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">'v*'</span>

<span class="hljs-attr">jobs:</span>
  <span class="hljs-attr">build:</span>
    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span>
    
    <span class="hljs-attr">steps:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v3</span>
      
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Setup</span> <span class="hljs-string">Node.js</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/setup-node@v3</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-attr">node-version:</span> <span class="hljs-string">'20'</span>
      
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Install</span> <span class="hljs-string">dependencies</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">npm</span> <span class="hljs-string">install</span>
      
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-string">Chrome</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">npm</span> <span class="hljs-string">run</span> <span class="hljs-string">build:chrome</span>
      
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-string">Firefox</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">npm</span> <span class="hljs-string">run</span> <span class="hljs-string">build:firefox</span>
      
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Create</span> <span class="hljs-string">ZIP</span> <span class="hljs-string">files</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">|
          cd dist_chrome &amp;&amp; zip -r ../extension-chrome.zip * &amp;&amp; cd ..
          cd dist_firefox &amp;&amp; zip -r ../extension-firefox.zip * &amp;&amp; cd ..
</span>      
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Create</span> <span class="hljs-string">Release</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">softprops/action-gh-release@v1</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-attr">files:</span> <span class="hljs-string">|
            extension-chrome.zip
            extension-firefox.zip
</span>        <span class="hljs-attr">env:</span>
          <span class="hljs-attr">GITHUB_TOKEN:</span> <span class="hljs-string">${{</span> <span class="hljs-string">secrets.GITHUB_TOKEN</span> <span class="hljs-string">}}</span>
</code></pre>
<hr/>
<h2 data-id="heading-89">å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-90">1. Manifest é”™è¯¯</h3>
<p><strong>é—®é¢˜ï¼š</strong> <code>Manifest version 3 is not supported</code></p>
<p><strong>è§£å†³ï¼š</strong></p>
<ul>
<li>ç¡®ä¿ Chrome ç‰ˆæœ¬ &gt;= 88</li>
<li>Firefox éœ€è¦ç‰¹æ®Šé…ç½®æ”¯æŒ MV3</li>
</ul>
<p><strong>é—®é¢˜ï¼š</strong> <code>Permission 'tabs' is not recognized</code></p>
<p><strong>è§£å†³ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// âŒ é”™è¯¯</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"tabs"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"https://*/*"</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>

<span class="hljs-comment">// âœ… æ­£ç¡®</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"tabs"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"host_permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"https://*/*"</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-91">2. Content Script é—®é¢˜</h3>
<p><strong>é—®é¢˜ï¼š</strong> Content Script æ— æ³•è®¿é—®é¡µé¢å˜é‡</p>
<p><strong>è§£å†³ï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// âŒ ä¸èƒ½ç›´æ¥è®¿é—®</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">pageVariable</span>);

<span class="hljs-comment">// âœ… é€šè¿‡ postMessage é€šä¿¡</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">postMessage</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">'GET_DATA'</span> }, <span class="hljs-string">'*'</span>);
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'message'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (e.<span class="hljs-property">data</span>.<span class="hljs-property">type</span> === <span class="hljs-string">'DATA_RESPONSE'</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e.<span class="hljs-property">data</span>.<span class="hljs-property">value</span>);
  }
});

<span class="hljs-comment">// é¡µé¢è„šæœ¬</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'message'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (e.<span class="hljs-property">data</span>.<span class="hljs-property">type</span> === <span class="hljs-string">'GET_DATA'</span>) {
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">postMessage</span>({
      <span class="hljs-attr">type</span>: <span class="hljs-string">'DATA_RESPONSE'</span>,
      <span class="hljs-attr">value</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">pageVariable</span>
    }, <span class="hljs-string">'*'</span>);
  }
});
</code></pre>
<h3 data-id="heading-92">3. CORS é—®é¢˜</h3>
<p><strong>é—®é¢˜ï¼š</strong> <code>Fetch API cannot load due to CORS policy</code></p>
<p><strong>è§£å†³ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// manifest.json æ·»åŠ  host_permissions</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"host_permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"https://api.example.com/*"</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æˆ–åœ¨ Background Script ä¸­ä»£ç†è¯·æ±‚</span>
<span class="hljs-comment">// Content Script</span>
chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">sendMessage</span>({
  <span class="hljs-attr">action</span>: <span class="hljs-string">'fetch'</span>,
  <span class="hljs-attr">url</span>: <span class="hljs-string">'https://api.example.com/data'</span>
}, <span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response);
});

<span class="hljs-comment">// Background Script</span>
chrome.<span class="hljs-property">runtime</span>.<span class="hljs-property">onMessage</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">request, sender, sendResponse</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (request.<span class="hljs-property">action</span> === <span class="hljs-string">'fetch'</span>) {
    <span class="hljs-title function_">fetch</span>(request.<span class="hljs-property">url</span>)
      .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">r</span> =&gt;</span> r.<span class="hljs-title function_">json</span>())
      .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> <span class="hljs-title function_">sendResponse</span>(data))
      .<span class="hljs-keyword">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> <span class="hljs-title function_">sendResponse</span>({ <span class="hljs-attr">error</span>: error.<span class="hljs-property">message</span> }));
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// å¼‚æ­¥å“åº”</span>
  }
});
</code></pre>
<h3 data-id="heading-93">4. Storage é…é¢é—®é¢˜</h3>
<p><strong>é—®é¢˜ï¼š</strong> <code>QUOTA_BYTES quota exceeded</code></p>
<p><strong>è§£å†³ï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ£€æŸ¥å­˜å‚¨ä½¿ç”¨é‡</span>
<span class="hljs-keyword">const</span> bytes = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">getBytesInUse</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å·²ä½¿ç”¨: <span class="hljs-subst">${bytes}</span> / <span class="hljs-subst">${chrome.storage.local.QUOTA_BYTES}</span>`</span>);

<span class="hljs-comment">// å®šæœŸæ¸…ç†æ—§æ•°æ®</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">cleanup</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> all = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>(<span class="hljs-literal">null</span>);
  <span class="hljs-keyword">const</span> keys = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(all);
  
  <span class="hljs-comment">// åˆ é™¤è¶…è¿‡ 7 å¤©çš„æ•°æ®</span>
  <span class="hljs-keyword">const</span> sevenDaysAgo = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - <span class="hljs-number">7</span> * <span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>;
  <span class="hljs-keyword">const</span> toRemove = keys.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">key</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> item = all[key];
    <span class="hljs-keyword">return</span> item.<span class="hljs-property">timestamp</span> &amp;&amp; item.<span class="hljs-property">timestamp</span> &lt; sevenDaysAgo;
  });
  
  <span class="hljs-keyword">if</span> (toRemove.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">remove</span>(toRemove);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ¸…ç†äº† <span class="hljs-subst">${toRemove.length}</span> æ¡è¿‡æœŸæ•°æ®`</span>);
  }
}
</code></pre>
<h3 data-id="heading-94">5. Service Worker ç”Ÿå‘½å‘¨æœŸ</h3>
<p><strong>é—®é¢˜ï¼š</strong> Background Service Worker æ„å¤–ä¼‘çœ </p>
<p><strong>è§£å†³ï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// âŒ ä¸è¦ä¾èµ–å…¨å±€å˜é‡</span>
<span class="hljs-keyword">let</span> cache = {};  <span class="hljs-comment">// Service Worker ä¼‘çœ åä¼šä¸¢å¤±</span>

<span class="hljs-comment">// âœ… ä½¿ç”¨ chrome.storage</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getCache</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'cache'</span>);
  <span class="hljs-keyword">return</span> result.<span class="hljs-property">cache</span> || {};
}

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">setCache</span>(<span class="hljs-params">cache</span>) {
  <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>({ cache });
}

<span class="hljs-comment">// âŒ ä¸è¦ä½¿ç”¨ setTimeout</span>
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">doSomething</span>();
}, <span class="hljs-number">60000</span>);  <span class="hljs-comment">// å¯èƒ½ä¸ä¼šæ‰§è¡Œ</span>

<span class="hljs-comment">// âœ… ä½¿ç”¨ chrome.alarms</span>
chrome.<span class="hljs-property">alarms</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">'task'</span>, { <span class="hljs-attr">delayInMinutes</span>: <span class="hljs-number">1</span> });
chrome.<span class="hljs-property">alarms</span>.<span class="hljs-property">onAlarm</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">alarm</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (alarm.<span class="hljs-property">name</span> === <span class="hljs-string">'task'</span>) {
    <span class="hljs-title function_">doSomething</span>();
  }
});
</code></pre>
<hr/>
<h2 data-id="heading-95">å‚è€ƒèµ„æ–™</h2>
<h3 data-id="heading-96">å®˜æ–¹æ–‡æ¡£</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.chrome.com%2Fdocs%2Fextensions%2F" target="_blank" title="https://developer.chrome.com/docs/extensions/" ref="nofollow noopener noreferrer">Chrome Extensions æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FMozilla%2FAdd-ons%2FWebExtensions" target="_blank" title="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions" ref="nofollow noopener noreferrer">MDN Web Extensions</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fextensionworkshop.com%2F" target="_blank" title="https://extensionworkshop.com/" ref="nofollow noopener noreferrer">Firefox Extension Workshop</a></li>
</ul>
<h3 data-id="heading-97">å·¥å…·å’Œåº“</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcrxjs.dev%2Fvite-plugin" target="_blank" title="https://crxjs.dev/vite-plugin" ref="nofollow noopener noreferrer">@crxjs/vite-plugin</a> - Vite æ’ä»¶</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmozilla%2Fwebextension-polyfill" target="_blank" title="https://github.com/mozilla/webextension-polyfill" ref="nofollow noopener noreferrer">webextension-polyfill</a> - æµè§ˆå™¨å…¼å®¹å±‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FDefinitelyTyped%2FDefinitelyTyped%2Ftree%2Fmaster%2Ftypes%2Fchrome" target="_blank" title="https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/chrome" ref="nofollow noopener noreferrer">Chrome Types</a> - TypeScript ç±»å‹å®šä¹‰</li>
</ul>
<h3 data-id="heading-98">ç¤¾åŒºèµ„æº</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FGoogleChrome%2Fchrome-extensions-samples" target="_blank" title="https://github.com/GoogleChrome/chrome-extensions-samples" ref="nofollow noopener noreferrer">Chrome Extension Samples</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffregante%2FAwesome-WebExtensions" target="_blank" title="https://github.com/fregante/Awesome-WebExtensions" ref="nofollow noopener noreferrer">Awesome Browser Extensions</a></li>
</ul>
<h2 data-id="heading-99">æ¯æ—¥é‡‘ä»·ä»“åº“åœ°å€æ˜¯ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Filcherry%2Fdaily-gold-price" target="_blank" title="https://github.com/ilcherry/daily-gold-price" ref="nofollow noopener noreferrer">github.com/ilcherry/daâ€¦</a></h2></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[App Store ä¸Šæ¶ App çš„å®Œæ•´æŒ‡å—ï¼Œä»å¼€å‘å‡†å¤‡åˆ° IPA ä¸Šä¼ çš„è·¨å¹³å°å®æˆ˜æµç¨‹]]></title>    <link>https://juejin.cn/post/7573855399716519955</link>    <guid>https://juejin.cn/post/7573855399716519955</guid>    <pubDate>2025-11-18T07:34:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573855399716519955" data-draft-id="7573738017987887147" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="App Store ä¸Šæ¶ App çš„å®Œæ•´æŒ‡å—ï¼Œä»å¼€å‘å‡†å¤‡åˆ° IPA ä¸Šä¼ çš„è·¨å¹³å°å®æˆ˜æµç¨‹"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-18T07:34:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="00åç¨‹åºå‘˜"/> <meta itemprop="url" content="https://juejin.cn/user/1159358440539900"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            App Store ä¸Šæ¶ App çš„å®Œæ•´æŒ‡å—ï¼Œä»å¼€å‘å‡†å¤‡åˆ° IPA ä¸Šä¼ çš„è·¨å¹³å°å®æˆ˜æµç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1159358440539900/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    00åç¨‹åºå‘˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T07:34:50.000Z" title="Tue Nov 18 2025 07:34:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç§»åŠ¨åº”ç”¨å¼€å‘ä¸­ï¼Œâ€œApp Store ä¸Šæ¶ Appâ€ å¾€å¾€æ˜¯æœ€å®¹æ˜“è®©å¼€å‘è€…ç´§å¼ çš„ä¸€æ­¥ã€‚
æ— è®ºæ˜¯é¦–æ¬¡ä¸Šæ¶çš„æ–°é¡¹ç›®ï¼Œè¿˜æ˜¯è¿­ä»£æ›´æ–°çš„å•†ä¸š Appï¼Œåªè¦æ¶‰åŠè¯ä¹¦ä½“ç³»ã€IPA æ„å»ºã€å®¡æ ¸æµç¨‹ï¼Œå°±å¸¸å¸¸ä¼šé‡åˆ°å„ç§é—®é¢˜â€”â€”è¯ä¹¦æ— æ•ˆã€ä¸Šä¼ å¤±è´¥ã€æˆªå›¾ä¸åˆè§„ã€å®¡æ ¸è¢«æ‹’â€¦â€¦</p>
<p>ä½†ä¸Šæ¶æµç¨‹æœ¬èº«å¹¶ä¸ç¥ç§˜ï¼Œåªè¦ç†è§£è‹¹æœçš„è§„èŒƒå’Œå·¥å…·é“¾ï¼Œå°±èƒ½ç³»ç»ŸåŒ–åœ°å®Œæˆæ•´ä¸ªè¿‡ç¨‹ã€‚
æœ¬æ–‡å°†ç«™åœ¨å¼€å‘è€…çš„è§’åº¦ï¼Œç»™å‡ºä¸€ä»½ <strong>é€‚ç”¨äº macOS / Windows / Linux çš„å®Œæ•´ä¸Šæ¶æ–¹æ¡ˆ</strong>ï¼Œé‡ç‚¹ä»‹ç» App Store ä¸Šæ¶çš„å…³é”®æµç¨‹ä¸å¯é€‰æ‹©çš„å·¥å…·ç»„åˆã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€App Store ä¸Šæ¶æµç¨‹ä¸€è§ˆ</h2>
<p>æ— è®ºæ˜¯åŸç”Ÿå¼€å‘è¿˜æ˜¯è·¨å¹³å°å¼€å‘ï¼Œè¦ä¸Šæ¶ App Store éƒ½å¿…é¡»å®Œæˆä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li>åˆ›å»ºå¼€å‘è€…è´¦å·ï¼ˆApple Developer Programï¼‰</li>
<li>å‡†å¤‡ App IDã€è¯ä¹¦ä¸æè¿°æ–‡ä»¶</li>
<li>æ„å»ºå¹¶ç­¾å IPA åŒ…</li>
<li>ä¸Šä¼  IPA åˆ° App Store Connect</li>
<li>å¡«å†™åº”ç”¨ä¿¡æ¯ã€æˆªå›¾ã€éšç§æ”¿ç­–</li>
<li>æäº¤å®¡æ ¸å¹¶ç­‰å¾…ç»“æœ</li>
</ol>
<p>è™½ç„¶æ­¥éª¤å›ºå®šï¼Œä½†å®é™…æ“ä½œå—å·¥å…·å’Œå¹³å°å½±å“å¾ˆå¤§ï¼Œå› æ­¤çµæ´»é€‰æ‹©å·¥å…·æ˜¯æå‡æ•ˆç‡çš„å…³é”®ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€ä¸Šæ¶å‰çš„åŸºç¡€å‡†å¤‡ï¼šè´¦å·ä¸åº”ç”¨èµ„æ–™</h2>
<h3 data-id="heading-2">1. å¼€å‘è€…è´¦å·</h3>
<p>æ‰€æœ‰ App Store ä¸Šæ¶éƒ½å¿…é¡»ä½¿ç”¨ä»˜è´¹å¼€å‘è€…è´¦å·ï¼ˆ$99 / å¹´ï¼‰ã€‚
è´¦å·æ³¨å†Œåå¯ä»¥ä½¿ç”¨ï¼š</p>
<ul>
<li>App Store Connectï¼ˆåº”ç”¨ç®¡ç†ï¼‰</li>
<li>è¯ä¹¦ç”Ÿæˆä¸ç­¾åç³»ç»Ÿ</li>
<li>TestFlight æµ‹è¯•</li>
<li>åº”ç”¨å®¡æ ¸æµç¨‹</li>
</ul>
<h3 data-id="heading-3">2. åº”ç”¨èµ„æ–™æ¸…å•</h3>
<p>åœ¨ä¸Šä¼  IPA å‰ï¼Œéœ€è¦æå‰å‡†å¤‡ï¼š</p>
<ul>
<li>åº”ç”¨åç§°ã€ç®€ä»‹ã€å…³é”®è¯</li>
<li>App å›¾æ ‡ï¼ˆ1024Ã—1024ï¼‰</li>
<li>éšç§æ”¿ç­–é“¾æ¥</li>
<li>åº”ç”¨æˆªå›¾ï¼ˆ6.5 å¯¸ã€5.5 å¯¸ã€iPad å°ºå¯¸ç­‰ï¼‰</li>
<li>æƒé™ç”¨é€”è¯´æ˜ï¼ˆéº¦å…‹é£ã€ç›¸æœºã€å®šä½ç­‰ï¼‰</li>
</ul>
<p>è¿™äº›å†…å®¹å°†åœ¨ App Store Connect ä¸­å¡«å†™ã€‚</p>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€è¯ä¹¦ä½“ç³»ï¼šä¸Šæ¶æœ€å®¹æ˜“å‡ºé—®é¢˜çš„éƒ¨åˆ†</h2>
<p>è‹¹æœé€šè¿‡è¯ä¹¦ä½“ç³»ç¡®ä¿ä¸Šä¼ è€…èº«ä»½çœŸå®å¯ä¿¡ã€‚
å¿…é¡»å‡†å¤‡çš„è¯ä¹¦åŒ…æ‹¬ï¼š</p>

















<table><thead><tr><th>ç±»å‹</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>iOS Distribution</td><td>ç”¨äºå‘å¸ƒåˆ° App Store</td></tr><tr><td>Provisioning Profile</td><td>åŒ…å« Bundle IDã€è¯ä¹¦ç­‰ä¿¡æ¯ï¼Œæ§åˆ¶ IPA ç­¾å</td></tr></tbody></table>
<p>è¿‡å»å¿…é¡»ä½¿ç”¨ Mac çš„é’¥åŒ™ä¸²åŠ©æ‰‹ç”Ÿæˆè¯ä¹¦ï¼Œä½†å¦‚ä»Šå·²ç»æœ‰è·¨å¹³å°æ–¹æ¡ˆã€‚</p>
<hr/>
<h2 data-id="heading-5">å››ã€è·¨å¹³å°è¯ä¹¦ç”Ÿæˆï¼šé€‚ç”¨äºæ²¡æœ‰ Mac çš„å¼€å‘è€…</h2>
<p>å¯¹äº Windows / Linux ç”¨æˆ·ï¼Œå¯ä»¥ä½¿ç”¨è·¨å¹³å°å·¥å…·ç”Ÿæˆè¯ä¹¦ï¼Œä¾‹å¦‚ï¼š</p>
<h3 data-id="heading-6"><strong>å¼€å¿ƒä¸Šæ¶ï¼ˆAppuploader CLIï¼‰ç”Ÿæˆè¯ä¹¦</strong></h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f838c2971bf54c1a8a84811672b1b8be~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMDDlkI7nqIvluo_lkZg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056090&amp;x-signature=Fwq98fnMk68ccTm7r0f8PAhe2xA%3D" alt="è¯ä¹¦" loading="lazy"/></p>
<p>ç”Ÿæˆå†…å®¹åŒ…æ‹¬ï¼š</p>
<ul>
<li>p12 è¯ä¹¦</li>
<li>æè¿°æ–‡ä»¶</li>
<li>ä¸ Apple è´¦å·ç»‘å®šçš„ç­¾åæ–‡ä»¶</li>
</ul>
<p>è¯ä¹¦å¯è·¨ç”µè„‘å…±äº«ï¼Œé€‚åˆå›¢é˜Ÿåä½œï¼Œä¹Ÿé€‚åˆæ—  Mac ç¯å¢ƒã€‚</p>
<hr/>
<h2 data-id="heading-7">äº”ã€æ„å»º IPA åŒ…ï¼šæ ¹æ®å¼€å‘æ–¹å¼é€‰æ‹©å¯¹åº”å·¥å…·</h2>
<p>ä¸åŒå¼€å‘æ–¹å¼å¯¹åº”ä¸åŒæ„å»ºæ–¹æ¡ˆï¼š</p>
<h3 data-id="heading-8">1. åŸç”Ÿå¼€å‘ï¼ˆSwift / Objective-Cï¼‰</h3>
<p>ä½¿ç”¨ Mac + Xcode æ„å»ºï¼š</p>
<pre><code class="hljs">Product â†’ Archive â†’ Export IPA
</code></pre>
<h3 data-id="heading-9">2. uni-app</h3>
<p>ä½¿ç”¨ HBuilderX äº‘æ‰“åŒ…å³å¯è·å¾— IPAï¼Œæ— éœ€å®‰è£… Xcodeã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ebce08b202b64163a1efca069494d333~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMDDlkI7nqIvluo_lkZg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056090&amp;x-signature=pukjxor%2BEO2ctKymdso1XQNY0AY%3D" alt="hbæ‰“åŒ…" loading="lazy"/></p>
<h3 data-id="heading-10">3. Flutter</h3>
<p>å¯ä½¿ç”¨ä»¥ä¸‹äº‘æ„å»ºæœåŠ¡ï¼š</p>
<ul>
<li>Codemagic</li>
<li>Bitrise</li>
<li>GitHub Actionsï¼ˆè¿œç¨‹ Mac Runnerï¼‰</li>
</ul>
<h3 data-id="heading-11">4. React Native / Ionic / Capacitor</h3>
<p>å¯ä½¿ç”¨ï¼š</p>
<ul>
<li>Expo Cloud Build</li>
<li>ç¬¬ä¸‰æ–¹ CI å¹³å°æ„å»º</li>
</ul>
<p>æ— è®ºé‡‡ç”¨å“ªç§æ–¹å¼ï¼Œåªè¦æœ€ç»ˆå¾—åˆ° <strong>ç­¾åæ­£ç¡®çš„ IPA æ–‡ä»¶</strong> å³å¯ã€‚</p>
<hr/>
<h2 data-id="heading-12">å…­ã€ä¸Šä¼  IPA åˆ° App Storeï¼šå·¥å…·å¯¹æ¯”ä¸æœ€ä½³è§£æ³•</h2>
<p>è‹¹æœå®˜æ–¹æä¾›çš„ä¸Šä¼ æ–¹å¼åŒ…æ‹¬ï¼š</p>

























<table><thead><tr><th>å·¥å…·</th><th>å¹³å°</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td>Xcode Organizer</td><td>macOS</td><td>å®˜æ–¹ã€ä½†å®Œå…¨ä¾èµ– Mac</td></tr><tr><td>Transporter</td><td>macOS</td><td>å›¾å½¢åŒ–ä¸Šä¼ ï¼Œä¸æ”¯æŒè‡ªåŠ¨åŒ–</td></tr><tr><td>altool</td><td>macOS</td><td>å·²å¼ƒç”¨</td></tr></tbody></table>
<p>å¯¹äº Windows æˆ– Linux å¼€å‘è€…æ¥è¯´ï¼Œè¿™äº›æ–¹å¼ä¸å¯ç”¨ã€‚</p>
<hr/>
<h2 data-id="heading-13">ä¸ƒã€è·¨å¹³å°ä¸Šä¼  IPA çš„è§£å†³æ–¹æ¡ˆï¼šå‘½ä»¤è¡Œä¸Šä¼ </h2>
<p>æœ€çµæ´»çš„ IPA ä¸Šä¼ æ–¹å¼æ˜¯ä½¿ç”¨è·¨å¹³å°çš„ CLI å·¥å…·ï¼Œä¾‹å¦‚æ–°ç‰ˆï¼š</p>
<h3 data-id="heading-14"><strong>å¼€å¿ƒä¸Šæ¶ï¼ˆAppuploaderï¼‰å‘½ä»¤è¡Œå·¥å…·</strong></h3>
<p>ç¤ºä¾‹ä¸Šä¼ å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">appuploader_cli -u ios@team.com -p xxx-xxx-xxx-xxx -c 2 -f ./build/MyApp.ipa
</code></pre>
<p>å‚æ•°è¯´æ˜ï¼š</p>

























<table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-u</code></td><td>Apple ID</td></tr><tr><td><code>-p</code></td><td>App ä¸“ç”¨å¯†ç </td></tr><tr><td><code>-c</code></td><td>ä¸Šä¼ é€šé“ï¼ˆ1 æ—§åè®®ã€2 æ–°åè®®ï¼‰</td></tr><tr><td><code>-f</code></td><td>IPA æ–‡ä»¶</td></tr></tbody></table>
<p>CLI ä¸Šä¼ çš„ä¼˜åŠ¿ï¼š</p>
<ul>
<li>æ”¯æŒ Windows / Linux / macOS</li>
<li>å¯é›†æˆåˆ° CI/CD æµæ°´çº¿</li>
<li>ä¸Šä¼ æ—¥å¿—ä¸é”™è¯¯ä¿¡æ¯æ˜ç¡®</li>
<li>ä¸ä¾èµ– Mac</li>
<li>é€‚åˆè‡ªåŠ¨åŒ–å‘å¸ƒä¸å›¢é˜Ÿåä½œ</li>
</ul>
<p>ä¸Šä¼ å®Œæˆåï¼Œæ„å»ºä¼šè‡ªåŠ¨å‡ºç°åœ¨ï¼š</p>
<ul>
<li>TestFlight</li>
<li>App Store Connect â†’ æ„å»ºç‰ˆæœ¬</li>
</ul>
<hr/>
<h2 data-id="heading-15">å…«ã€åœ¨ App Store Connect ä¸­é…ç½®å…ƒæ•°æ®ä¸å®¡æ ¸æäº¤</h2>
<p>å®Œæˆ IPA ä¸Šä¼ åï¼Œè¿˜éœ€é…ç½®ï¼š</p>
<ul>
<li>åº”ç”¨æˆªå›¾</li>
<li>åŠŸèƒ½ä»‹ç»</li>
<li>éšç§æƒé™è¯´æ˜</li>
<li>å¹´é¾„åˆ†çº§</li>
<li>å…³é”®è¯</li>
<li>è”ç³»æ–¹å¼</li>
<li>æ³•åŠ¡å†…å®¹ï¼ˆéšç§æ”¿ç­–é“¾æ¥ï¼‰</li>
</ul>
<p>æœ€åé€‰æ‹©æ„å»ºç‰ˆæœ¬ï¼Œæäº¤å®¡æ ¸ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c8d6567aff74c7aac684a0685500efe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMDDlkI7nqIvluo_lkZg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056090&amp;x-signature=ZWiqsqJhvOZE9zr5w1cqS4DHww4%3D" alt="asc" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-16">ä¹ã€å®¡æ ¸å¸¸è§é—®é¢˜ä¸æœ€ç»ˆä¸Šçº¿</h2>
<p>App Store å®¡æ ¸ä¸¥æ ¼ï¼Œå¸¸è§æ‹’ç»åŸå› åŒ…æ‹¬ï¼š</p>

























<table><thead><tr><th>åŸå› </th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>æƒé™ç”¨é€”æè¿°ä¸å®Œæ•´</td><td>ç¼ºå°‘ NSCameraUsageDescription ç­‰å­—æ®µ</td></tr><tr><td>æˆªå›¾ä¸åŠŸèƒ½ä¸ä¸€è‡´</td><td>å¿…é¡»çœŸå®å±•ç¤ºåº”ç”¨ç•Œé¢</td></tr><tr><td>App é—ªé€€</td><td>åˆå§‹åŒ–é˜¶æ®µæœªå¤„ç†å¥½è®¾å¤‡æƒé™</td></tr><tr><td>è´¦å·ç™»å½•æœºåˆ¶å¼‚å¸¸</td><td>ä¸ç¬¦åˆ Apple ç™»å½•è¦æ±‚</td></tr></tbody></table>
<p>é€šå¸¸æ­£å¸¸ App çš„å®¡æ ¸æ—¶é—´ï¼š</p>
<ul>
<li>é¦–æ¬¡ä¸Šæ¶ï¼š2â€“7 å¤©</li>
<li>ç‰ˆæœ¬æ›´æ–°ï¼š1â€“3 å¤©</li>
</ul>
<hr/>
<p>â€œApp Store ä¸Šæ¶ Appâ€ çœ‹ä¼¼å¤æ‚ï¼Œä½†æµç¨‹æœ¬è´¨æ˜¯æ¸…æ™°çš„ï¼šå‡†å¤‡ â†’ æ„å»º â†’ ç­¾å â†’ ä¸Šä¼  â†’ é…ç½® â†’ å®¡æ ¸ã€‚</p>
<p>å¦‚ä»Šæ— è®ºä½ æ˜¯å¦æ‹¥æœ‰ Macï¼Œéƒ½èƒ½é€šè¿‡äº‘æ‰“åŒ… + è·¨å¹³å°è¯ä¹¦ç®¡ç† + è·¨ç³»ç»Ÿ IPA ä¸Šä¼ å·¥å…·ï¼Œå®Œæˆå®Œæ•´çš„ä¸Šæ¶æµç¨‹ã€‚</p>
<p>å¯¹å¼€å‘è€…è€Œè¨€ï¼Œå…³é”®ä¸æ˜¯å¹³å°ï¼Œè€Œæ˜¯æ˜¯å¦æŒæ¡äº†æ­£ç¡®çš„æµç¨‹ä¸åˆé€‚çš„å·¥å…·ç»„åˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[langchainåˆ›å»ºæ™ºèƒ½ä½“]]></title>    <link>https://juejin.cn/post/7572844326390382626</link>    <guid>https://juejin.cn/post/7572844326390382626</guid>    <pubDate>2025-11-17T04:13:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572844326390382626" data-draft-id="7552505922577236003" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="langchainåˆ›å»ºæ™ºèƒ½ä½“"/> <meta itemprop="keywords" content="AIGC,AIç¼–ç¨‹,OpenAI"/> <meta itemprop="datePublished" content="2025-11-17T04:13:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="uccs"/> <meta itemprop="url" content="https://juejin.cn/user/2664871915435550"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            langchainåˆ›å»ºæ™ºèƒ½ä½“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2664871915435550/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    uccs
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T04:13:59.000Z" title="Mon Nov 17 2025 04:13:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">AgentType</h2>
<p><code>LangChain</code> æä¾›äº†å¤šç§æ™ºèƒ½ä½“ç±»å‹ï¼Œå¯ä»¥æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©åˆé€‚çš„ç±»å‹ã€‚å¸¸è§çš„æ™ºèƒ½ä½“ç±»å‹åŒ…æ‹¬ï¼š</p>






















































<table><thead><tr><th align="left">AgentType</th><th align="left">æ ¸å¿ƒæœºåˆ¶</th><th align="left">é€‚ç”¨åœºæ™¯</th><th align="left">ä¼˜ç‚¹</th><th align="left">ç¼ºç‚¹</th></tr></thead><tbody><tr><td align="left"><code>ZERO_SHOT_REACT_DESCRIPTION</code></td><td align="left"><code>ReAct</code> + å·¥å…·æè¿°</td><td align="left">ç®€å•ä»»åŠ¡ + å·¥å…·ç»„åˆ</td><td align="left">å¿«é€Ÿé›†æˆã€æ— éœ€è®­ç»ƒæ•°æ®</td><td align="left">è¾“å‡ºæ ¼å¼è‡ªç”±ï¼Œå¯æ§æ€§è¾ƒä½</td></tr><tr><td align="left"><code>STRUCTURED_CHAT_ZERO_SHOT_REACT_DESCRIPTION</code></td><td align="left">ç»“æ„åŒ–è¾“å‡º + <code>ReAct</code></td><td align="left">ç»“æ„åŒ–å·¥å…·è°ƒç”¨</td><td align="left">é«˜å¯æ§æ€§ï¼Œæ ¼å¼ä¸¥æ ¼</td><td align="left">ä¾èµ–å·¥å…·æè¿°æ¸…æ™°åº¦</td></tr><tr><td align="left"><code>OPENAI_FUNCTIONS</code></td><td align="left">OpenAI å‡½æ•°è°ƒç”¨</td><td align="left">OPENAI æ¨¡å‹åœºæ™¯</td><td align="left">é«˜æ•ˆï¼Œå¼ºè€¦åˆ OPENAI</td><td align="left">ä»…é™ OPENAI æ¨¡å‹</td></tr><tr><td align="left"><code>CONVERSATIONS_REACT_DESCRIPTION</code></td><td align="left">å¤šè½®å¯¹è¯ + <code>ReAct</code></td><td align="left">å¤šè½®äº¤äº’ä»»åŠ¡</td><td align="left">ä¸Šä¸‹æ–‡æ„ŸçŸ¥ã€çµæ´»æ€§é«˜</td><td align="left">éœ€é…ç½®è®°å¿†æ¨¡å—</td></tr><tr><td align="left"><code>AUTO_GPT</code></td><td align="left">è‡ªä¸»ä»£ç†å¾ªç¯</td><td align="left">å¤æ‚ä»»åŠ¡è‡ªåŠ¨åŒ–</td><td align="left">è‡ªä¸»å†³ç­–ã€é•¿æœŸç›®æ ‡</td><td align="left">å®éªŒæ€§ï¼Œç¨³å®šæ€§å¾…éªŒè¯</td></tr><tr><td align="left"><code>STRUCTURED_CHAT</code></td><td align="left">ä¸¥æ ¼ç»“æ„åŒ–è¾“å‡º</td><td align="left">æ•°æ®æå–ã€è¡¨å•å¡«å†™</td><td align="left">æ ¼å¼æ ‡å‡†åŒ–ã€å¯æ§æ€§å¼º</td><td align="left">çµæ´»æ€§ä½</td></tr></tbody></table>
<h2 data-id="heading-1">åˆå§‹åŒ–æ™ºèƒ½ä½“</h2>
<p>æ™ºèƒ½ä½“æ˜¯ä¸€ä¸ªå¯ä»¥ä½¿ç”¨ä¸€ç»„å·¥å…·æ¥å®Œæˆä»»åŠ¡çš„ç³»ç»Ÿã€‚<code>initialize_agent</code> ç”¨äºåˆ›å»ºä¸€ä¸ªæ™ºèƒ½ä½“(agent)ï¼Œå®ƒå¯ä»¥ä½¿ç”¨ä¸€ç»„å·¥å…·(tools)æ¥å®Œæˆä»»åŠ¡ã€‚æ™ºèƒ½ä½“é€šè¿‡ä¸è¯­è¨€æ¨¡å‹(LLM)äº¤äº’ï¼Œå†³å®šä½•æ—¶ä»¥åŠå¦‚ä½•ä½¿ç”¨è¿™äº›å·¥å…·</p>
<p><code>initialize_agent</code> æ¥è‡ªäº <code>langchain</code> è¿™ä¸ªåŒ…</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain.agents <span class="hljs-keyword">import</span> initialize_agent, AgentType

agent = initialize_agent(
    tools=create_calc_tools(),
    llm=llm,
    agent=AgentType.STRUCTURED_CHAT_ZERO_SHOT_REACT_DESCRIPTION,
    verbose=<span class="hljs-literal">True</span>, <span class="hljs-comment"># æ‰“å¼€è°ƒè¯•</span>
)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"å·¥å…·å‡½æ•°è®¡ç®—ç»“æœï¼š"</span>, resp)
</code></pre>
<p>ä¼ å…¥ <code>verbose=True</code> å¯ä»¥æ‰“å¼€è°ƒè¯•æ¨¡å¼ï¼Œçœ‹åˆ°æ™ºèƒ½ä½“çš„æ€è€ƒè¿‡ç¨‹</p>
<p><code>Thought</code> æ˜¯æ™ºèƒ½ä½“çš„æ€è€ƒè¿‡ç¨‹ï¼Œ<code>Action</code> æ˜¯æ™ºèƒ½ä½“å†³å®šä½¿ç”¨å“ªä¸ªå·¥å…·ä»¥åŠä¼ å…¥ä»€ä¹ˆå‚æ•°ï¼Œ<code>Observation</code> æ˜¯å·¥å…·å‡½æ•°çš„è¿”å›ç»“æœ</p>
<pre><code class="hljs language-bash" lang="bash">&gt; Entering new AgentExecutor chain...
Thought: éœ€è¦ä½¿ç”¨åŠ æ³•å·¥å…·æ¥è®¡ç®—ä¸¤ä¸ªæ•°çš„å’Œã€‚
Action:
</code></pre>
<p>{ "action": "add", "action_input": { "a": 100, "b": 100 } }</p>
<pre><code class="hljs language-css" lang="css">
Observation: <span class="hljs-number">200</span>


&gt; Finished chain.
å·¥å…·å‡½æ•°è®¡ç®—ç»“æœï¼š {'<span class="hljs-selector-tag">input</span>': <span class="hljs-string">'100+100=?'</span>, <span class="hljs-string">'output'</span>: <span class="hljs-number">200</span>}
</code></pre>
<h2 data-id="heading-2">ç»“æ„åŒ–è¿”å›</h2>
<p>æˆ‘ä»¬ç°åœ¨è¿”å›çš„æ˜¯ä¸€ä¸ªçº¯æ–‡æœ¬ï¼Œæˆ‘ä»¬å¸Œæœ›è¿”å›çš„æ˜¯ä¸€ä¸ª <code>json</code>ï¼Œå› ä¸º <code>json</code> åœ¨å¤„ç†å¤§æ¨¡å‹ä¹‹é—´çš„è°ƒç”¨æ—¶æ›´ä¸ºé«˜æ•ˆå’Œçµæ´»</p>
<p><code>JsonOutputParser</code> å¯ä»¥å°†å¤§æ¨¡å‹çš„è¾“å‡ºè§£æä¸º <code>json</code> æ ¼å¼</p>
<p>æˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ª <code>output_schema</code>ï¼Œå‘Šè¯‰ <code>JsonOutputParser</code> æˆ‘ä»¬å¸Œæœ›è¿”å›çš„ <code>json</code> æ ¼å¼</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> pydantic <span class="hljs-keyword">import</span> BaseModel, Field
<span class="hljs-keyword">from</span> langchain_core.output_parsers <span class="hljs-keyword">import</span> JsonOutputParser

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Output</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    args: <span class="hljs-built_in">str</span> = Field(description=<span class="hljs-string">"è¾“å…¥çš„å‚æ•°"</span>)
    output: <span class="hljs-built_in">str</span> = Field(description=<span class="hljs-string">"è¿”å›çš„ç»“æœ"</span>)
    think: <span class="hljs-built_in">str</span> = Field(description=<span class="hljs-string">"æ€è€ƒè¿‡ç¨‹"</span>)


parser = JsonOutputParser(pydantic_object=Output)
format_instructions = parser.get_format_instructions()

prompt = chat_prompt_template.format_messages(
    role=<span class="hljs-string">"è®¡ç®—"</span>,
    domain=<span class="hljs-string">"ä½¿ç”¨å·¥å…·è¿›è¡Œæ•°å­¦è®¡ç®—"</span>,
    question=<span class="hljs-string">f"""
    è¯·é˜…è¯»ä¸‹é¢çš„é—®é¢˜ï¼Œå¹¶è¿”å›ä¸€ä¸ªä¸¥æ ¼çš„ JSON å¯¹è±¡ï¼Œä¸è¦ä½¿ç”¨ Markdown ä»£ç å—åŒ…è£¹
    æ ¼å¼è¦æ±‚ï¼š
    <span class="hljs-subst">{format_instructions}</span>

é—®é¢˜ï¼š
100+100=?
"""</span>,
)
</code></pre>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fastak16%2Flangchain-demo%2Fblob%2F4fa8c5287c1706a6620421cf68a9fcf77ae275f4%2Fbailian%2Fbailian_agent.py" target="_blank" title="https://github.com/astak16/langchain-demo/blob/4fa8c5287c1706a6620421cf68a9fcf77ae275f4/bailian/bailian_agent.py" ref="nofollow noopener noreferrer">æºç </a></p>
<h2 data-id="heading-3">PythonREPL</h2>
<p>ä¹‹å‰å¼€å‘çš„ <code>add</code> å·¥å…·å‡½æ•°åªèƒ½è¿›è¡ŒåŠ æ³•è¿ç®—ï¼Œåœ¨æˆ‘ä»¬å®é™…çš„å¼€å‘ä¸­ï¼Œè‚¯å®šä¸å¯èƒ½è¿™ä¹ˆç®€å•</p>
<p>ä½†æ˜¯æˆ‘ä»¬åˆä¸å¯èƒ½å»å¼€å‘æ‰€æœ‰çš„å·¥å…·å‡½æ•°ï¼Œè¿™æ ·å·¥ä½œé‡å¤ªå¤§</p>
<p><code>PythonREPL</code> æ˜¯ä¸€ä¸ªå†…ç½®çš„å·¥å…·ï¼Œå¯ä»¥è®©å¤§æ¨¡å‹ç›´æ¥æ‰§è¡Œ <code>Python</code> ä»£ç </p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_experimental.tools.python.tool <span class="hljs-keyword">import</span> PythonREPLTool

python_repl = PythonREPLTool()
ret = python_repl.run(<span class="hljs-string">"print(1 + 1)"</span>)

<span class="hljs-built_in">print</span>(ret)  <span class="hljs-comment"># è¾“å‡º 2</span>
</code></pre>
<p>åœ¨ä½ ä½¿ç”¨ <code>PythonREPL</code> å·¥å…·æ—¶ï¼Œè¯·åŠ¡å¿…å°å¿ƒï¼Œå› ä¸ºå®ƒå…è®¸æ‰§è¡Œä»»æ„çš„ <code>Python</code> ä»£ç ï¼Œè¿™å¯èƒ½ä¼šå¸¦æ¥å®‰å…¨é£é™©</p>
<pre><code class="hljs language-bash" lang="bash">Python REPL can execute arbitrary code. Use with caution.
</code></pre>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fastak16%2Flangchain-demo%2Fblob%2F01bfa5ecb31d22656182108a6441306579db0a09%2Fbailian%2Fbailian_repl.py" target="_blank" title="https://github.com/astak16/langchain-demo/blob/01bfa5ecb31d22656182108a6441306579db0a09/bailian/bailian_repl.py" ref="nofollow noopener noreferrer">æºç </a></p>
<h3 data-id="heading-4">ç”¨æ™ºèƒ½ä½“ç¼–å†™ä¸€ä¸ªç½‘ç«™</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_experimental.tools.python.tool <span class="hljs-keyword">import</span> PythonREPLTool
<span class="hljs-keyword">from</span> langchain.agents <span class="hljs-keyword">import</span> initialize_agent, AgentType
<span class="hljs-keyword">from</span> langchain.prompts <span class="hljs-keyword">import</span> PromptTemplate
<span class="hljs-keyword">from</span> bailian.common <span class="hljs-keyword">import</span> llm


tools = [PythonREPLTool()]
tool_names = [<span class="hljs-string">"PythonREPLTool"</span>]

agent = initialize_agent(
    tools=tools,
    llm=llm,
    agent=AgentType.ZERO_SHOT_REACT_DESCRIPTION,
    verbose=<span class="hljs-literal">True</span>,
)

prompt_template = PromptTemplate.from_template(
    template=<span class="hljs-string">"""
å°½ä½ æ‰€èƒ½å›ç­”ä»¥ä¸‹é—®é¢˜æˆ–æ‰§è¡Œç”¨æˆ·å‘½ä»¤ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å·¥å…·: [${tool_names}]
--
è¯·æŒ‰ç…§ä»¥ä¸‹æ ¼å¼è¿›è¡Œæ€è€ƒï¼š
\```
# æ€è€ƒçš„è¿‡ç¨‹
- é—®é¢˜ï¼šä½ å¿…é¡»å›ç­”çš„é—®é¢˜
- æ€è€ƒï¼šä½ è€ƒè™‘åº”è¯¥æ€ä¹ˆåš
- è¡ŒåŠ¨ï¼šè¦é‡‡å–è¡ŒåŠ¨ï¼Œåº”è¯¥æ˜¯[{tool_names}]ä¸­çš„ä¸€ä¸ª
- è¡ŒåŠ¨è¾“å…¥ï¼šè¡ŒåŠ¨çš„è¾“å…¥
- è§‚å¯Ÿï¼šè¡ŒåŠ¨çš„ç»“æœ
...(è¿™ä¸ªæ€è€ƒ/è¡ŒåŠ¨/è¡ŒåŠ¨è¾“å…¥/è§‚å¯Ÿå¯ä»¥é‡å¤Næ¬¡)
# æœ€ç»ˆç­”æ¡ˆ
å¯¹åŸå§‹è¾“å…¥é—®é¢˜çš„æœ€ç»ˆç­”æ¡ˆ
\```
--
æ³¨æ„ï¼š
- PythonREPLTool å·¥å…·çš„å…¥å‚æ˜¯pythonä»£ç ï¼Œä¸å…è®¸æ·»åŠ  ```python æˆ– ```py ç­‰æ ‡è®°
--
è¦æ±‚ï¼š{input}
"""</span>
)

prompt = prompt_template.<span class="hljs-built_in">format</span>(
    tool_names=<span class="hljs-string">", "</span>.join(tool_names),
    <span class="hljs-built_in">input</span>=<span class="hljs-string">"""
    è¦æ±‚ï¼š
    1. å‘ /Users/uccs/Desktop/project/ai/ai-agent/.tmp ä¸‹å†™å…¥ä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œåç§°ä¸º index.html
    2. å†™ä¸€ä¸ªåœ¨çº¿æ•™è‚²äº§å“çš„å®˜ç½‘ï¼ŒåŒ…å«3ä¸ªtabï¼Œåˆ†åˆ«æ˜¯ é¦–é¡µã€å®æˆ˜è¯¾ã€ä½“ç³»è¯¾å’Œå…³äºæˆ‘ä»¬
    3. é¦–é¡µåŒ…å«3ä¸ªæ¨¡å—ï¼Œåˆ†åˆ«æ˜¯ï¼šçƒ­é—¨è¯¾ç¨‹ã€ä¸Šæ–°è¯¾ç¨‹ã€çˆ†æ¬¾è¯¾ç¨‹
    4. å…³äºæˆ‘ä»¬å±•ç¤ºå¹³å°çš„è”ç³»æ–¹å¼ç­‰åŸºæœ¬ä¿¡æ¯
    """</span>,
)

agent.invoke({<span class="hljs-string">"input"</span>: prompt})
</code></pre>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fastak16%2Flangchain-demo%2Fblob%2F3584bda65b0089f157676059fc2e7ac3f0dc209f%2Fbailian%2Fbailian_repl.py" target="_blank" title="https://github.com/astak16/langchain-demo/blob/3584bda65b0089f157676059fc2e7ac3f0dc209f/bailian/bailian_repl.py" ref="nofollow noopener noreferrer">æºç </a></p>
<h2 data-id="heading-5">è§£æå™¨</h2>
<p><code>LangChain</code> è¾“å‡ºè§£æå™¨ï¼ˆ<code>Output Parsers</code>ï¼‰æ˜¯å°†å¤§è¯­è¨€æ¨¡å‹ï¼ˆ<code>LLM</code>ï¼‰çš„åŸå§‹æ–‡æœ¬å“åº”è½¬æ¢ä¸ºç»“æ„åŒ–ã€å¯æ“ä½œæ•°æ®çš„å…³é”®ç»„ä»¶ã€‚è¾“å‡ºè§£æå™¨é€šè¿‡æä¾›æ ¼å¼åŒ–æŒ‡ä»¤å¹¶è§£ææ¨¡å‹è¾“å‡ºï¼Œå®ç°æ–‡æœ¬åˆ°ç»“æ„åŒ–æ•°æ®çš„é«˜æ•ˆè½¬æ¢ã€‚</p>
<h3 data-id="heading-6">åŸºç¡€è§£æå™¨</h3>
<p>åŸºç¡€è§£æå™¨å¤„ç†æœ€ç®€å•çš„æ•°æ®æ ¼å¼è½¬æ¢ï¼š</p>
<ul>
<li><code>StrOutputParser</code>ï¼šç›´æ¥æå–æ¨¡å‹è¿”å›çš„åŸå§‹æ–‡æœ¬ï¼Œä¸åšä»»ä½•ç»“æ„åŒ–å¤„ç†</li>
<li><code>CommaSeparatedListOutputParser</code>ï¼šå°†é€—å·åˆ†éš”çš„æ–‡æœ¬è½¬æ¢ä¸º <code>Python</code> åˆ—è¡¨ã€‚ä¾‹å¦‚ï¼Œå°† <code>"apples, bananas, oranges"</code> è§£æä¸º <code>['apples', 'bananas', 'oranges']</code></li>
<li><code>BooleanOutputParser</code>ï¼šè§£ææ–‡æœ¬ä¸ºå¸ƒå°”å€¼ <code>ï¼ˆTrue/Falseï¼‰</code>ã€‚æ¨¡å‹è¾“å‡ºå¿…é¡»æ˜¯ <code>"yes"</code> æˆ– <code>"no"</code>ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰ï¼Œè§£æå™¨ä¼šç»Ÿä¸€è½¬ä¸ºå¤§å†™ååˆ¤æ–­</li>
<li><code>SimpleJsonOutputParser</code>ï¼šå°†æ–‡æœ¬ç®€å•å¤„ç†åè½¬æ¢ä¸º <code>JSON</code> æ ¼å¼ï¼Œé€šå¸¸ç”¨äºæ¨¡å‹å·²ç»æ­£ç¡®è¾“å‡º <code>JSON</code> çš„æƒ…å†µ</li>
</ul>
<h4 data-id="heading-7">StrOutputParser</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> bailian.common <span class="hljs-keyword">import</span> llm, chat_prompt_template
<span class="hljs-keyword">from</span> langchain_core.output_parsers <span class="hljs-keyword">import</span> StrOutputParser

parser = StrOutputParser()
chain = chat_prompt_template | llm | parser
resp = chain.invoke(
    <span class="hljs-built_in">input</span>={
        <span class="hljs-string">"role"</span>: <span class="hljs-string">"è®¡ç®—"</span>,
        <span class="hljs-string">"domain"</span>: <span class="hljs-string">"æ•°å­¦è®¡ç®—"</span>,
        <span class="hljs-string">"question"</span>: <span class="hljs-string">"100+200 = ?"</span>,
    }
)
<span class="hljs-built_in">print</span>(resp)

<span class="hljs-comment"># ç»“æœ</span>
<span class="hljs-comment"># 100 + 200 = **300**</span>
</code></pre>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fastak16%2Flangchain-demo%2Fblob%2Fca6c4c270e77c9d5cca7a4a55d06cd76e078aefc%2Fbailian%2Fbailian_output_parser.py" target="_blank" title="https://github.com/astak16/langchain-demo/blob/ca6c4c270e77c9d5cca7a4a55d06cd76e078aefc/bailian/bailian_output_parser.py" ref="nofollow noopener noreferrer">æºç </a></p>
<h4 data-id="heading-8">CommaSeparatedListOutputParser</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> bailian.common <span class="hljs-keyword">import</span> llm, chat_prompt_template
<span class="hljs-keyword">from</span> langchain_core.output_parsers <span class="hljs-keyword">import</span> CommaSeparatedListOutputParser

parser = CommaSeparatedListOutputParser()
chain = chat_prompt_template | llm | parser
resp = chain.invoke(
    <span class="hljs-built_in">input</span>={
        <span class="hljs-string">"role"</span>: <span class="hljs-string">"è®¡ç®—"</span>,
        <span class="hljs-string">"domain"</span>: <span class="hljs-string">"æ•°å­¦è®¡ç®—"</span>,
        <span class="hljs-string">"question"</span>: <span class="hljs-string">"100*200 = ?"</span>,
    }
)
<span class="hljs-built_in">print</span>(resp)

<span class="hljs-comment"># ç»“æœ</span>
<span class="hljs-comment"># ['100ä¹˜ä»¥200ç­‰äº20000ã€‚å› æ­¤ï¼Œ$100 \\times 200 = 20000$ã€‚']</span>
</code></pre>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fastak16%2Flangchain-demo%2Fblob%2Ff735cf42a7acf7d23b0429176a41a3fc0087e43b%2Fbailian%2Fbailian_output_parser.py" target="_blank" title="https://github.com/astak16/langchain-demo/blob/f735cf42a7acf7d23b0429176a41a3fc0087e43b/bailian/bailian_output_parser.py" ref="nofollow noopener noreferrer">æºç </a></p>
<h3 data-id="heading-9">Pydantic è§£æå™¨</h3>
<p><code>Pydantic</code> è§£æå™¨é€šè¿‡ <code>Pydantic</code> æ¨¡å‹å®šä¹‰å¤æ‚ç»“æ„ï¼Œæä¾›æ›´ä¸¥æ ¼çš„éªŒè¯å’Œæ•°æ®æ ¡éªŒï¼š</p>
<ul>
<li><code>PydanticOutputParser</code>ï¼šå°†æ¨¡å‹è¾“å‡ºè§£æä¸º <code>Pydantic</code> å®šä¹‰çš„æ¨¡å‹å¯¹è±¡ã€‚éœ€è¦é¢„å…ˆå®šä¹‰ <code>Pydantic</code> æ¨¡å‹ï¼Œæ”¯æŒåµŒå¥—æ•°æ®ç»“æ„å’Œç±»å‹éªŒè¯</li>
<li><code>PydanticToolsParser</code>ï¼šä¸“é—¨å¤„ç†OpenAIå·¥å…·è°ƒç”¨ä¸­çš„ <code>Pydantic</code> å¯¹è±¡ï¼Œå°†å·¥å…·è°ƒç”¨å‚æ•°è§£æä¸º <code>Pydantic</code> æ¨¡å‹</li>
</ul>
<p><code>Pydantic</code> è§£æå™¨é€‚åˆéœ€è¦ä¸¥æ ¼éªŒè¯çš„æ•°æ®ç»“æ„ï¼Œå¦‚ç”¨æˆ·ä¿¡æ¯ã€è®¢å•è¯¦æƒ…ç­‰ï¼Œç¡®ä¿è¾“å‡ºçš„å®Œæ•´æ€§å’Œæ­£ç¡®æ€§</p>
<h3 data-id="heading-10">å‡½æ•°è°ƒç”¨è§£æå™¨</h3>
<p>å‡½æ•°è°ƒç”¨è§£æå™¨å¤„ç†æ”¯æŒOpenAIå‡½æ•°è°ƒç”¨çš„æ¨¡å‹ï¼ˆå¦‚GPT-4ï¼‰çš„å“åº”ï¼š</p>
<ul>
<li><code>OutputFunctionsParser</code>ï¼šè§£ææ¨¡å‹è¿”å›çš„å‡½æ•°è°ƒç”¨å‚æ•°ï¼Œé€šå¸¸è¿”å›JSONæ ¼å¼çš„å‡½æ•°å‚æ•°</li>
<li><code>JsonOutputFunctionsParser</code>ï¼šæå–å‡½æ•°è°ƒç”¨ä¸­çš„JSONå‚æ•°</li>
</ul>
<p>è¿™äº›è§£æå™¨ä¸“ä¸ºéœ€è¦è°ƒç”¨ç‰¹å®šå‡½æ•°æˆ–å·¥å…·çš„åœºæ™¯è®¾è®¡ï¼Œå¸¸è§äºAgentç³»ç»Ÿæˆ–å¤æ‚ä»»åŠ¡å¤„ç†</p>
<h3 data-id="heading-11">æ—¶é—´/æšä¸¾è§£æå™¨</h3>
<p>å¤„ç†ç‰¹å®šç±»å‹çš„æ•°æ®ï¼š</p>
<ul>
<li><code>DatetimeOutputParser</code>ï¼šå°†æ–‡æœ¬è§£æä¸ºæ ‡å‡†æ—¥æœŸæ—¶é—´æ ¼å¼ï¼ˆ<code>"%Y-%m-%dT%H:%M:%S.%fZ"</code>ï¼‰</li>
<li><code>EnumOutputParser</code>ï¼šå°†æ–‡æœ¬è§£æä¸ºé¢„å®šä¹‰çš„æšä¸¾å€¼ï¼Œé€‚ç”¨äºéœ€è¦ä¸¥æ ¼é™åˆ¶è¾“å‡ºé€‰é¡¹çš„åœºæ™¯ã€‚</li>
</ul>
<h4 data-id="heading-12">DatetimeOutputParser</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> bailian.common <span class="hljs-keyword">import</span> llm
<span class="hljs-keyword">from</span> langchain.output_parsers <span class="hljs-keyword">import</span> DatetimeOutputParser
<span class="hljs-keyword">from</span> langchain.prompts <span class="hljs-keyword">import</span> ChatPromptTemplate

parser = DatetimeOutputParser()
instructions = parser.get_format_instructions()
prompt = ChatPromptTemplate.from_messages(
    [
        (<span class="hljs-string">"system"</span>, <span class="hljs-string">f"å¿…é¡»æŒ‰ç…§ä»¥ä¸‹æ ¼å¼è¿”å›æ—¥æœŸæ—¶é—´ï¼š<span class="hljs-subst">{instructions}</span>"</span>),
        (<span class="hljs-string">"human"</span>, <span class="hljs-string">"è¯·å°†ä»¥ä¸‹è‡ªç„¶è¯­è¨€è½¬æ¢ä¸ºæ ‡å‡†æ—¥æœŸæ—¶é—´æ ¼å¼ï¼š{text}"</span>),
    ]
)
chain = prompt | llm | parser
resp = chain.invoke({<span class="hljs-string">"text"</span>: <span class="hljs-string">"äºŒå¹´é›¶äºŒäº”å¹´äº”æœˆä¸€æ—¥ä¸‹åˆåç‚¹ååˆ†"</span>})
<span class="hljs-built_in">print</span>(resp)

<span class="hljs-comment"># ç»“æœ</span>
<span class="hljs-comment"># 2025-05-01 22:10:00</span>
</code></pre>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fastak16%2Flangchain-demo%2Ftree%2Fb9b7de835edb63bb532be00392bab420b50f91fb" target="_blank" title="https://github.com/astak16/langchain-demo/tree/b9b7de835edb63bb532be00392bab420b50f91fb" ref="nofollow noopener noreferrer">æºç </a></p>
<h3 data-id="heading-13">æ­£åˆ™è§£æå™¨</h3>
<p>é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼æå–ç‰¹å®šæ¨¡å¼çš„æ•°æ®ï¼š</p>
<ul>
<li><code>RegexParser</code>ï¼šå•å­—æ®µæ­£åˆ™åŒ¹é…ã€‚</li>
<li><code>RegexDictParser</code>ï¼šå¤šå­—æ®µæ­£åˆ™æå–ä¸ºå­—å…¸ã€‚</li>
<li>æ­£åˆ™è§£æå™¨é€‚åˆéœ€è¦çµæ´»åŒ¹é…æ–‡æœ¬æ¨¡å¼çš„åœºæ™¯ï¼Œå¦‚æå–ç”µè¯å·ç ã€é‚®ç®±åœ°å€ç­‰ã€‚</li>
</ul>
<h3 data-id="heading-14">å¤åˆè§£æå™¨</h3>
<p>å¤„ç†å¤æ‚æˆ–å¤šéƒ¨åˆ†çš„è¾“å‡ºï¼š</p>
<ul>
<li><code>CombiningOutputParser</code>ï¼šç»„åˆå¤šä¸ªè§£æå™¨ï¼Œå°†æ–‡æœ¬é€šè¿‡åˆ†éš”ç¬¦æ‹†åˆ†ååˆ†åˆ«è§£æã€‚</li>
<li><code>RetryWithErrorOutputParser</code>ï¼šåœ¨è§£æå¤±è´¥æ—¶é‡è¯•å¹¶å°è¯•ä¿®å¤è¾“å‡ºã€‚</li>
<li>å¤åˆè§£æå™¨æä¾›äº†æ›´å¼ºå¤§çš„å¤„ç†èƒ½åŠ›ï¼Œå¯ä»¥åº”å¯¹å¤æ‚æˆ–å¤šä»»åŠ¡çš„è¾“å‡ºåœºæ™¯ã€‚</li>
</ul>
<h3 data-id="heading-15">å¼ºæ ¡éªŒè§£æå™¨</h3>
<p>æä¾›æ›´ä¸¥æ ¼çš„è¾“å‡ºéªŒè¯ï¼š</p>
<ul>
<li><code>GuardrailsOutputParser</code>ï¼šåŸºäº <code>Guardrails</code> åº“ï¼Œå¯¹è¾“å‡ºè¿›è¡Œå¼ºæ ¡éªŒï¼Œæ”¯æŒè‡ªå®šä¹‰è§„åˆ™ï¼ˆå¦‚è¿‡æ»¤ä¸å½“å†…å®¹ã€æ ¡éªŒæ•°æ®æ ¼å¼ï¼‰ã€‚</li>
</ul>
<p><code>Guardrails</code> è§£æå™¨ç‰¹åˆ«é€‚åˆå®‰å…¨æ•æ„Ÿåœºæ™¯ï¼Œç¡®ä¿è¾“å‡ºå†…å®¹ç¬¦åˆé¢„è®¾è§„åˆ™å’Œæ ‡å‡†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ¥æ‰‹ç¥–ä¼ ä»£ç åï¼Œæˆ‘ç»ˆäºç†è§£äº†"ç»„åˆä¼˜äºç»§æ‰¿"]]></title>    <link>https://juejin.cn/post/7573508048141893641</link>    <guid>https://juejin.cn/post/7573508048141893641</guid>    <pubDate>2025-11-17T13:47:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573508048141893641" data-draft-id="7573528564026212398" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ¥æ‰‹ç¥–ä¼ ä»£ç åï¼Œæˆ‘ç»ˆäºç†è§£äº†&quot;ç»„åˆä¼˜äºç»§æ‰¿&quot;"/> <meta itemprop="keywords" content="JavaScript"/> <meta itemprop="datePublished" content="2025-11-17T13:47:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¹Ÿæ— é£é›¨ä¹Ÿé›¾æ™´"/> <meta itemprop="url" content="https://juejin.cn/user/2175258804632332"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ¥æ‰‹ç¥–ä¼ ä»£ç åï¼Œæˆ‘ç»ˆäºç†è§£äº†"ç»„åˆä¼˜äºç»§æ‰¿"
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2175258804632332/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¹Ÿæ— é£é›¨ä¹Ÿé›¾æ™´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T13:47:59.000Z" title="Mon Nov 17 2025 13:47:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ä¸ç®¡æ˜¯çœ‹äº›åšå®¢ï¼Œæ–‡ç« è¿˜æ˜¯å•¥ï¼Œç»å¸¸ä¼šçœ‹åˆ°"ç»„åˆä¼˜äºç»§æ‰¿"è¿™å¥è¯ï¼Œå¿ƒé‡Œæƒ³çš„æ˜¯ï¼šå•¥ç©æ„å„¿ï¼Ÿç»§æ‰¿å¤šå¥½ç”¨å•Šï¼Œextendsä¸€ä¸‹å°±å®Œäº‹äº†ï¼Œè¿˜èƒ½å¤ç”¨ä»£ç ï¼Œå¤šé¦™ã€‚ä¹Ÿæ²¡å»è¯¦ç»†æƒ³è¿‡ç›¸å…³çš„é—®é¢˜ã€‚</p>
<p>ç›´åˆ°æœ‰ä¸€å¤©ï¼Œæˆ‘æ¥æ‰‹äº†ä¸€ä¸ª"ç¥–ä¼ "é¡¹ç›®ï¼Œçœ‹åˆ°äº†è¿™æ ·çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {}
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Mammal</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Animal</span> {}
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Mammal</span> {}
<span class="hljs-keyword">class</span> <span class="hljs-title class_">GuideDog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Dog</span> {}
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ServiceDog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">GuideDog</span> {}
<span class="hljs-keyword">class</span> <span class="hljs-title class_">TherapyDog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">ServiceDog</span> {}

<span class="hljs-comment">// æˆ‘ï¼š???è¿™æ˜¯ä»€ä¹ˆå¥—å¨ƒç°åœº</span>
</code></pre>
<p>ç„¶åäº§å“ç»ç†è¯´ï¼šæˆ‘ä»¬è¦åŠ ä¸ªä¼šé£çš„ç‹—ã€‚</p>
<p>æˆ‘ï¼š......</p>
<p>è¿™æ—¶å€™æ‰æ˜ç™½ï¼ŒåŸæ¥ç»§æ‰¿ä¸æ˜¯ä¸‡èƒ½çš„ã€‚ä»Šå¤©å°±æ¥èŠèŠä¸ºä»€ä¹ˆ"ç»„åˆä¼˜äºç»§æ‰¿"ï¼Œä»¥åŠä»€ä¹ˆæ—¶å€™è¯¥ç”¨ç»§æ‰¿ï¼Œä»€ä¹ˆæ—¶å€™è¯¥ç”¨ç»„åˆã€‚</p>
<h2 data-id="heading-1">ç»§æ‰¿çš„é—®é¢˜åˆ°åº•åœ¨å“ª</h2>
<h3 data-id="heading-2">é—®é¢˜1ï¼šç±»å±‚æ¬¡å¤ªè„†å¼±</h3>
<p>ç»§æ‰¿æœ€å¤§çš„é—®é¢˜æ˜¯ï¼š<strong>ä½ çš„å­ç±»å’Œçˆ¶ç±»ç»‘æ­»äº†</strong>ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Bird</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  }

  <span class="hljs-title function_">fly</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is flying`</span>;
  }

  <span class="hljs-title function_">layEggs</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> laid eggs`</span>;
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Penguin</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Bird</span> {
  <span class="hljs-comment">// é—®é¢˜æ¥äº†ï¼šä¼é¹…ä¸ä¼šé£</span>
  <span class="hljs-title function_">fly</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Penguins cannot fly!'</span>);
  }
}

<span class="hljs-keyword">const</span> penguin = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Penguin</span>(<span class="hljs-string">'æ³¢æ³¢'</span>);
penguin.<span class="hljs-title function_">fly</span>(); <span class="hljs-comment">// ğŸ’¥ æŠ›é”™äº†</span>
</code></pre>
<p>ä½ çœ‹ï¼Œä¼é¹…ç¡®å®æ˜¯é¸Ÿï¼Œä½†å®ƒä¸ä¼šé£ã€‚å¦‚æœç”¨ç»§æ‰¿ï¼Œè¦ä¹ˆï¼š</p>
<ol>
<li>åœ¨å­ç±»é‡Œè¦†ç›–æ–¹æ³•æŠ›é”™ï¼ˆä½†è¿™è¿åäº†é‡Œæ°æ›¿æ¢åŸåˆ™ï¼‰</li>
<li>æŠŠçˆ¶ç±»æ‹†æˆæ›´ç»†çš„ç±»ï¼ˆä½†è¿™åˆå¯¼è‡´ç±»çˆ†ç‚¸ï¼‰</li>
</ol>
<p>è¿™å°±æ˜¯æ‰€è°“çš„"è„†å¼±åŸºç±»é—®é¢˜"ï¼ˆFragile Base Class Problemï¼‰ã€‚çˆ¶ç±»æ”¹ä¸€ç‚¹ä¸œè¥¿ï¼Œæ‰€æœ‰å­ç±»éƒ½å¯èƒ½æŒ‚ã€‚</p>
<h3 data-id="heading-3">é—®é¢˜2ï¼šå¤šç»§æ‰¿çš„å›°å¢ƒ</h3>
<p>JavaScriptåªæ”¯æŒå•ç»§æ‰¿ï¼Œä½†ç°å®ä¸–ç•Œå¾ˆå¤šä¸œè¥¿éœ€è¦å¤šç§èƒ½åŠ›ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æˆ‘æƒ³è¦ä¸€ä¸ªä¼šé£åˆä¼šæ¸¸æ³³çš„é¸­å­</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Duck</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Bird</span>, <span class="hljs-title class_">Fish</span> {  <span class="hljs-comment">// âŒ è¯­æ³•é”™è¯¯ï¼ŒJSä¸æ”¯æŒå¤šç»§æ‰¿</span>
  <span class="hljs-comment">// ...</span>
}
</code></pre>
<p>æœ‰äººè¯´ï¼Œé‚£æˆ‘ç”¨Mixinå•Šï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Duck</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Bird</span> {}
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(<span class="hljs-title class_">Duck</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>, <span class="hljs-title class_">Swimmable</span>, <span class="hljs-title class_">Diveable</span>);
</code></pre>
<p>ä½†è¿™åˆå¼•å…¥äº†æ–°é—®é¢˜ï¼š</p>
<ul>
<li>Mixinçš„æ–¹æ³•å¯èƒ½å†²çª</li>
<li>æ²¡æœ‰ç±»å‹æ£€æŸ¥</li>
<li>åŸå‹é“¾å˜å¾—æ··ä¹±</li>
</ul>
<h3 data-id="heading-4">é—®é¢˜3ï¼šé€»è¾‘æ•£è½åœ¨ç»§æ‰¿é“¾ä¸­</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  }

  <span class="hljs-title function_">eat</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">energy</span> += <span class="hljs-number">10</span>;  <span class="hljs-comment">// ç­‰ç­‰ï¼Œenergyåœ¨å“ªå®šä¹‰çš„ï¼Ÿ</span>
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Mammal</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Animal</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-variable language_">super</span>(name);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">energy</span> = <span class="hljs-number">100</span>;  <span class="hljs-comment">// åŸæ¥åœ¨è¿™</span>
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Mammal</span> {
  <span class="hljs-title function_">bark</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">energy</span> &lt; <span class="hljs-number">20</span>) {  <span class="hljs-comment">// è¦ç†è§£è¿™ä¸ªé€»è¾‘ï¼Œå¾—ç¿»ä¸‰å±‚ç»§æ‰¿é“¾</span>
      <span class="hljs-keyword">return</span> <span class="hljs-string">'Too tired to bark'</span>;
    }
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">energy</span> -= <span class="hljs-number">5</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-string">'Woof!'</span>;
  }
}
</code></pre>
<p>è¦ç†è§£<code>Dog.bark()</code>çš„å®Œæ•´é€»è¾‘ï¼Œä½ å¾—ï¼š</p>
<ol>
<li>çœ‹Dogç±»çš„barkæ–¹æ³•</li>
<li>å¾€ä¸Šç¿»Mammalçš„æ„é€ å‡½æ•°ï¼ˆæ‰¾energyå®šä¹‰ï¼‰</li>
<li>å†å¾€ä¸Šç¿»Animalçš„eatæ–¹æ³•ï¼ˆçœ‹energyæ€ä¹ˆå˜åŒ–ï¼‰</li>
</ol>
<p>è¿™å°±æ˜¯"çŸ¥è¯†æ•£è½"é—®é¢˜ã€‚ç»§æ‰¿é“¾ä¸€é•¿ï¼Œä»£ç å°±åƒä¾¦æ¢å°è¯´ï¼Œåˆ°å¤„æ‰¾çº¿ç´¢ã€‚</p>
<h2 data-id="heading-5">ç»„åˆæ˜¯ä»€ä¹ˆ</h2>
<p>ç»„åˆçš„æ ¸å¿ƒæ€æƒ³å¾ˆç®€å•ï¼š<strong>æŠŠåŠŸèƒ½æ‹†æˆç‹¬ç«‹çš„å°å—ï¼Œéœ€è¦ä»€ä¹ˆå°±ç»„è£…ä»€ä¹ˆ</strong>ã€‚</p>
<p>å°±åƒæ­ä¹é«˜ï¼š</p>
<ul>
<li>ç»§æ‰¿ï¼šä¹°äº†ä¸ª"åŸå ¡å¥—è£…"ï¼Œæƒ³æ”¹æˆ"å¤ªç©ºç«™"ï¼Œå¾—æŠŠå¡”æ¥¼é”¯æ‰ï¼Œå¾ˆéº»çƒ¦</li>
<li>ç»„åˆï¼šä¹°äº†ä¸€å †ç§¯æœ¨ï¼Œæƒ³æ­å•¥æ­å•¥</li>
</ul>
<h3 data-id="heading-6">æœ€ç®€å•çš„ç»„åˆä¾‹å­</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æŠŠèƒ½åŠ›å®šä¹‰æˆç‹¬ç«‹çš„å¯¹è±¡</span>
<span class="hljs-keyword">const</span> canFly = {
  <span class="hljs-title function_">fly</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is flying at <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.flySpeed}</span> km/h`</span>;
  }
};

<span class="hljs-keyword">const</span> canSwim = {
  <span class="hljs-title function_">swim</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is swimming at <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.swimSpeed}</span> km/h`</span>;
  }
};

<span class="hljs-keyword">const</span> canWalk = {
  <span class="hljs-title function_">walk</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is walking at <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.walkSpeed}</span> km/h`</span>;
  }
};

<span class="hljs-comment">// é¸­å­ï¼šä¼šé£ã€ä¼šæ¸¸ã€ä¼šèµ°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createDuck</span>(<span class="hljs-params">name</span>) {
  <span class="hljs-keyword">const</span> duck = {
    name,
    <span class="hljs-attr">flySpeed</span>: <span class="hljs-number">50</span>,
    <span class="hljs-attr">swimSpeed</span>: <span class="hljs-number">5</span>,
    <span class="hljs-attr">walkSpeed</span>: <span class="hljs-number">3</span>
  };

  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(duck, canFly, canSwim, canWalk);
}

<span class="hljs-comment">// ä¼é¹…ï¼šåªä¼šæ¸¸ã€ä¼šèµ°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createPenguin</span>(<span class="hljs-params">name</span>) {
  <span class="hljs-keyword">const</span> penguin = {
    name,
    <span class="hljs-attr">swimSpeed</span>: <span class="hljs-number">30</span>,
    <span class="hljs-attr">walkSpeed</span>: <span class="hljs-number">2</span>
  };

  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(penguin, canSwim, canWalk);
}

<span class="hljs-keyword">const</span> duck = <span class="hljs-title function_">createDuck</span>(<span class="hljs-string">'å”è€é¸­'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(duck.<span class="hljs-title function_">fly</span>());   <span class="hljs-comment">// âœ… å”è€é¸­ is flying at 50 km/h</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(duck.<span class="hljs-title function_">swim</span>());  <span class="hljs-comment">// âœ… å”è€é¸­ is swimming at 5 km/h</span>

<span class="hljs-keyword">const</span> penguin = <span class="hljs-title function_">createPenguin</span>(<span class="hljs-string">'æ³¢æ³¢'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(penguin.<span class="hljs-title function_">swim</span>()); <span class="hljs-comment">// âœ… æ³¢æ³¢ is swimming at 30 km/h</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(penguin.<span class="hljs-property">fly</span>);    <span class="hljs-comment">// âœ… undefined - ä¼é¹…æœ¬æ¥å°±ä¸ä¼šé£</span>
</code></pre>
<p>çœ‹åˆ°åŒºåˆ«äº†å—ï¼Ÿ</p>
<ul>
<li>ç”¨ç»§æ‰¿ï¼šä¼é¹…ç»§æ‰¿äº†Birdï¼Œä½†å¾—è¦†ç›–flyæ–¹æ³•æŠ›é”™</li>
<li>ç”¨ç»„åˆï¼šä¼é¹…å‹æ ¹ä¸ç»„è£…flyèƒ½åŠ›ï¼Œè‡ªç„¶å°±ä¸ä¼šé£</li>
</ul>
<h2 data-id="heading-7">ç»„åˆçš„å‡ ç§å®ç°æ–¹å¼</h2>
<h3 data-id="heading-8">æ–¹å¼1ï¼šå·¥å‚å‡½æ•° + Object.assign</h3>
<p>è¿™æ˜¯æœ€ç®€å•çš„æ–¹å¼ï¼Œä¸Šé¢å·²ç»å±•ç¤ºè¿‡äº†ã€‚ä¼˜ç‚¹æ˜¯ç®€å•ç›´æ¥ï¼Œç¼ºç‚¹æ˜¯æ²¡æœ‰ç±»å‹æç¤ºã€‚</p>
<h3 data-id="heading-9">æ–¹å¼2ï¼šç±»ç»„åˆï¼ˆClass Compositionï¼‰</h3>
<p>å¦‚æœä½ å–œæ¬¢classè¯­æ³•ï¼Œå¯ä»¥è¿™æ ·ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  }
}

<span class="hljs-comment">// æŠŠèƒ½åŠ›å®šä¹‰æˆè£…é¥°å‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">withFlying</span>(<span class="hljs-params">Base</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">extends</span> <span class="hljs-title class_">Base</span> {
    <span class="hljs-title function_">fly</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is flying`</span>;
    }
  };
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">withSwimming</span>(<span class="hljs-params">Base</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">extends</span> <span class="hljs-title class_">Base</span> {
    <span class="hljs-title function_">swim</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is swimming`</span>;
    }
  };
}

<span class="hljs-comment">// ç»„è£…èƒ½åŠ›</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Duck</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">withSwimming</span>(<span class="hljs-title function_">withFlying</span>(<span class="hljs-title class_">Animal</span>)) {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-variable language_">super</span>(name);
  }
}

<span class="hljs-keyword">const</span> duck = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Duck</span>(<span class="hljs-string">'å”è€é¸­'</span>);
duck.<span class="hljs-title function_">fly</span>();   <span class="hljs-comment">// âœ…</span>
duck.<span class="hljs-title function_">swim</span>();  <span class="hljs-comment">// âœ…</span>
duck <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Animal</span>; <span class="hljs-comment">// âœ… true</span>
</code></pre>
<p>è¿™ç§æ–¹å¼çš„å¥½å¤„æ˜¯ï¼š</p>
<ul>
<li>ä¿ç•™äº†classçš„è¯­æ³•</li>
<li>instanceofæ£€æŸ¥ä»ç„¶æœ‰æ•ˆ</li>
<li>IDEèƒ½æä¾›ä»£ç è¡¥å…¨</li>
</ul>
<h3 data-id="heading-10">æ–¹å¼3ï¼šä¾èµ–æ³¨å…¥</h3>
<p>æ›´é«˜çº§çš„åšæ³•æ˜¯æŠŠèƒ½åŠ›æ³¨å…¥è¿›å»ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Bird</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name, abilities = []</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;

    <span class="hljs-comment">// æ³¨å…¥èƒ½åŠ›</span>
    abilities.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">ability</span> =&gt;</span> {
      ability.<span class="hljs-title function_">attachTo</span>(<span class="hljs-variable language_">this</span>);
    });
  }
}

<span class="hljs-comment">// å®šä¹‰èƒ½åŠ›æ¨¡å—</span>
<span class="hljs-keyword">const</span> flyingAbility = {
  <span class="hljs-title function_">attachTo</span>(<span class="hljs-params">target</span>) {
    target.<span class="hljs-property">flySpeed</span> = <span class="hljs-number">50</span>;
    target.<span class="hljs-property">fly</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is flying at <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.flySpeed}</span> km/h`</span>;
    };
  }
};

<span class="hljs-keyword">const</span> swimmingAbility = {
  <span class="hljs-title function_">attachTo</span>(<span class="hljs-params">target</span>) {
    target.<span class="hljs-property">swimSpeed</span> = <span class="hljs-number">10</span>;
    target.<span class="hljs-property">swim</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is swimming at <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.swimSpeed}</span> km/h`</span>;
    };
  }
};

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> duck = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Bird</span>(<span class="hljs-string">'å”è€é¸­'</span>, [flyingAbility, swimmingAbility]);
<span class="hljs-keyword">const</span> penguin = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Bird</span>(<span class="hljs-string">'æ³¢æ³¢'</span>, [swimmingAbility]);

duck.<span class="hljs-title function_">fly</span>();    <span class="hljs-comment">// âœ…</span>
penguin.<span class="hljs-property">fly</span>;   <span class="hljs-comment">// âœ… undefined</span>
</code></pre>
<p>è¿™ç§æ–¹å¼æ›´çµæ´»ï¼Œèƒ½åŠ›æ¨¡å—å¯ä»¥æœ‰è‡ªå·±çš„åˆå§‹åŒ–é€»è¾‘ã€‚</p>
<h2 data-id="heading-11">å®æˆ˜æ¡ˆä¾‹ï¼šé‡æ„ç»§æ‰¿ä»£ç </h2>
<p>æ¥çœ‹ä¸ªçœŸå®åœºæ™¯ã€‚å‡è®¾æˆ‘ä»¬è¦åšä¸€ä¸ªæ¸¸æˆè§’è‰²ç³»ç»Ÿã€‚</p>
<h3 data-id="heading-12">ç”¨ç»§æ‰¿å®ç°ï¼ˆä¸€å›¢ç³Ÿï¼‰</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Character</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name, hp, mp</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">hp</span> = hp;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">mp</span> = mp;
  }

  <span class="hljs-title function_">attack</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> attacks!`</span>;
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Mage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Character</span> {
  <span class="hljs-title function_">castSpell</span>(<span class="hljs-params">spellName</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">mp</span> &lt; <span class="hljs-number">10</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'Not enough MP!'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">mp</span> -= <span class="hljs-number">10</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> casts <span class="hljs-subst">${spellName}</span>!`</span>;
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Warrior</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Character</span> {
  <span class="hljs-title function_">useSkill</span>(<span class="hljs-params">skillName</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">hp</span> &lt; <span class="hljs-number">20</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'Too injured!'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">hp</span> -= <span class="hljs-number">20</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> uses <span class="hljs-subst">${skillName}</span>!`</span>;
  }
}

<span class="hljs-comment">// ç°åœ¨äº§å“è¯´ï¼šæˆ‘ä»¬è¦åŠ ä¸ª"é­”å‰‘å£«"ï¼Œæ—¢èƒ½æ–½æ³•åˆèƒ½ç”¨æˆ˜æŠ€</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SpellBlade</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Mage</span> {  <span class="hljs-comment">// ç»§æ‰¿æ³•å¸ˆ</span>
  <span class="hljs-title function_">useSkill</span>(<span class="hljs-params">skillName</span>) {  <span class="hljs-comment">// å¤åˆ¶ç²˜è´´æˆ˜å£«çš„ä»£ç </span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">hp</span> &lt; <span class="hljs-number">20</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'Too injured!'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">hp</span> -= <span class="hljs-number">20</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> uses <span class="hljs-subst">${skillName}</span>!`</span>;
  }
}

<span class="hljs-comment">// é—®é¢˜ï¼š</span>
<span class="hljs-comment">// 1. SpellBladeå¤åˆ¶äº†Warriorçš„ä»£ç ï¼ˆè¿åDRYåŸåˆ™ï¼šDRY - Don't Repeat Yourselfï¼ˆä¸è¦é‡å¤è‡ªå·±ï¼‰ï¼‰</span>
<span class="hljs-comment">// 2. å¦‚æœWarriorçš„useSkillæ”¹äº†ï¼ŒSpellBladeä¹Ÿå¾—æ”¹</span>
<span class="hljs-comment">// 3. ç»§æ‰¿Mageè¿˜æ˜¯Warriorï¼Ÿè¿™æ˜¯ä¸ªå“²å­¦é—®é¢˜</span>
</code></pre>
<h3 data-id="heading-13">ç”¨ç»„åˆé‡æ„ï¼ˆæ¸…çˆ½ï¼‰</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æŠŠèƒ½åŠ›æ‹†æˆç‹¬ç«‹æ¨¡å—</span>
<span class="hljs-keyword">const</span> combatAbility = {
  <span class="hljs-title function_">attack</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> attacks for <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.attackPower}</span> damage!`</span>;
  }
};

<span class="hljs-keyword">const</span> magicAbility = {
  <span class="hljs-title function_">castSpell</span>(<span class="hljs-params">spellName</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">mp</span> &lt; <span class="hljs-number">10</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'Not enough MP!'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">mp</span> -= <span class="hljs-number">10</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> casts <span class="hljs-subst">${spellName}</span>!`</span>;
  }
};

<span class="hljs-keyword">const</span> skillAbility = {
  <span class="hljs-title function_">useSkill</span>(<span class="hljs-params">skillName</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">hp</span> &lt; <span class="hljs-number">20</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'Too injured!'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">hp</span> -= <span class="hljs-number">20</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> uses <span class="hljs-subst">${skillName}</span>!`</span>;
  }
};

<span class="hljs-comment">// å·¥å‚å‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createCharacter</span>(<span class="hljs-params">name, hp, mp, abilities</span>) {
  <span class="hljs-keyword">const</span> character = {
    name,
    hp,
    mp,
    <span class="hljs-attr">attackPower</span>: <span class="hljs-number">50</span>
  };

  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(character, ...abilities);
}

<span class="hljs-comment">// åˆ›å»ºä¸åŒèŒä¸š</span>
<span class="hljs-keyword">const</span> mage = <span class="hljs-title function_">createCharacter</span>(<span class="hljs-string">'ç”˜é“å¤«'</span>, <span class="hljs-number">100</span>, <span class="hljs-number">200</span>, [combatAbility, magicAbility]);
<span class="hljs-keyword">const</span> warrior = <span class="hljs-title function_">createCharacter</span>(<span class="hljs-string">'é˜¿æ‹‰è´¡'</span>, <span class="hljs-number">200</span>, <span class="hljs-number">50</span>, [combatAbility, skillAbility]);
<span class="hljs-keyword">const</span> spellBlade = <span class="hljs-title function_">createCharacter</span>(<span class="hljs-string">'å¡å°”è¾¾'</span>, <span class="hljs-number">150</span>, <span class="hljs-number">150</span>, [combatAbility, magicAbility, skillAbility]);

mage.<span class="hljs-title function_">castSpell</span>(<span class="hljs-string">'ç«çƒæœ¯'</span>);        <span class="hljs-comment">// âœ…</span>
warrior.<span class="hljs-title function_">useSkill</span>(<span class="hljs-string">'ç‹‚æˆ˜å£«ä¹‹æ€’'</span>);   <span class="hljs-comment">// âœ…</span>
spellBlade.<span class="hljs-title function_">castSpell</span>(<span class="hljs-string">'é›·ç”µæœ¯'</span>);  <span class="hljs-comment">// âœ…</span>
spellBlade.<span class="hljs-title function_">useSkill</span>(<span class="hljs-string">'å‰‘æ°”æ–©'</span>);   <span class="hljs-comment">// âœ…</span>
</code></pre>
<p>ç”¨ç»„åˆçš„å¥½å¤„ï¼š</p>
<ol>
<li>ä»£ç ä¸é‡å¤ï¼Œæ¯ä¸ªèƒ½åŠ›åªå®šä¹‰ä¸€æ¬¡</li>
<li>èƒ½åŠ›å¯ä»¥éšæ„ç»„åˆï¼Œæƒ³è¦ä»€ä¹ˆç»„è£…ä»€ä¹ˆ</li>
<li>æ–°å¢èŒä¸šè¶…ç®€å•ï¼Œæ”¹ä¸€ä¸‹èƒ½åŠ›åˆ—è¡¨å°±è¡Œ</li>
</ol>
<h2 data-id="heading-14">ä»€ä¹ˆæ—¶å€™è¯¥ç”¨ç»§æ‰¿</h2>
<p>è¯´äº†è¿™ä¹ˆå¤šç»„åˆçš„å¥½å¤„ï¼Œéš¾é“ç»§æ‰¿å°±å®Œå…¨æ²¡ç”¨äº†å—ï¼Ÿ</p>
<p>ä¹Ÿä¸æ˜¯ã€‚ç»§æ‰¿é€‚åˆè¿™äº›åœºæ™¯ï¼š</p>
<h3 data-id="heading-15">åœºæ™¯1ï¼šä¸¥æ ¼çš„"is-a"å…³ç³»</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Error</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">message</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span> = message;
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">TypeError</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Error</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">message</span>) {
    <span class="hljs-variable language_">super</span>(message);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = <span class="hljs-string">'TypeError'</span>;
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ReferenceError</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Error</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">message</span>) {
    <span class="hljs-variable language_">super</span>(message);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = <span class="hljs-string">'ReferenceError'</span>;
  }
}
</code></pre>
<p>TypeError <strong>ç¡®å®æ˜¯</strong> Errorçš„ä¸€ç§ï¼Œè¿™ç§å…³ç³»å¾ˆç¨³å®šï¼Œä¸ä¼šå˜ã€‚ç”¨ç»§æ‰¿æ²¡æ¯›ç—…ã€‚</p>
<h3 data-id="heading-16">åœºæ™¯2ï¼šéœ€è¦åˆ©ç”¨å¤šæ€</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Shape</span> {
  <span class="hljs-title function_">getArea</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'å­ç±»å¿…é¡»å®ç°getAreaæ–¹æ³•'</span>);
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Circle</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Shape</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">radius</span>) {
    <span class="hljs-variable language_">super</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">radius</span> = radius;
  }

  <span class="hljs-title function_">getArea</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">radius</span> ** <span class="hljs-number">2</span>;
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Rectangle</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Shape</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">width, height</span>) {
    <span class="hljs-variable language_">super</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">width</span> = width;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">height</span> = height;
  }

  <span class="hljs-title function_">getArea</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">width</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">height</span>;
  }
}

<span class="hljs-comment">// åˆ©ç”¨å¤šæ€</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">calculateTotalArea</span>(<span class="hljs-params">shapes</span>) {
  <span class="hljs-keyword">return</span> shapes.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">sum, shape</span>) =&gt;</span> sum + shape.<span class="hljs-title function_">getArea</span>(), <span class="hljs-number">0</span>);
}

<span class="hljs-keyword">const</span> shapes = [
  <span class="hljs-keyword">new</span> <span class="hljs-title class_">Circle</span>(<span class="hljs-number">5</span>),
  <span class="hljs-keyword">new</span> <span class="hljs-title class_">Rectangle</span>(<span class="hljs-number">4</span>, <span class="hljs-number">6</span>),
  <span class="hljs-keyword">new</span> <span class="hljs-title class_">Circle</span>(<span class="hljs-number">3</span>)
];

<span class="hljs-title function_">calculateTotalArea</span>(shapes); <span class="hljs-comment">// ç»Ÿä¸€è°ƒç”¨getAreaï¼Œä¸ç”¨ç®¡å…·ä½“ç±»å‹</span>
</code></pre>
<p>è¿™ç§æƒ…å†µç»§æ‰¿çš„ä¼˜åŠ¿å¾ˆæ˜æ˜¾ï¼šæ‰€æœ‰å½¢çŠ¶éƒ½æœ‰getAreaæ–¹æ³•ï¼Œå¯ä»¥ç»Ÿä¸€å¤„ç†ã€‚</p>
<h3 data-id="heading-17">åœºæ™¯3ï¼šæ¡†æ¶è¦æ±‚</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Reactç»„ä»¶å¿…é¡»ç»§æ‰¿React.Component</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyComponent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span> {
  <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Hello<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
  }
}

<span class="hljs-comment">// è™½ç„¶ç°åœ¨æœ‰äº†å‡½æ•°ç»„ä»¶ï¼Œä½†ç±»ç»„ä»¶æ—¶ä»£å°±æ˜¯è¿™æ ·</span>
</code></pre>
<p>æ¡†æ¶è§„å®šäº†ç»§æ‰¿ï¼Œé‚£å°±æ²¡åŠæ³•ï¼Œå¾—ç”¨ã€‚</p>
<h2 data-id="heading-18">ç»„åˆå’Œç»§æ‰¿çš„æ··åˆä½¿ç”¨</h2>
<p>å®é™…é¡¹ç›®ä¸­ï¼Œå¾€å¾€æ˜¯ç»„åˆå’Œç»§æ‰¿æ··ç€ç”¨ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç”¨ç»§æ‰¿è¡¨è¾¾"is-a"å…³ç³»</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name, energy</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">energy</span> = energy;
  }

  <span class="hljs-title function_">eat</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">energy</span> += <span class="hljs-number">10</span>;
  }
}

<span class="hljs-comment">// ç”¨ç»„åˆæ·»åŠ èƒ½åŠ›</span>
<span class="hljs-keyword">const</span> canFly = {
  <span class="hljs-title function_">fly</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">energy</span> &lt; <span class="hljs-number">10</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'Too tired to fly'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">energy</span> -= <span class="hljs-number">10</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is flying`</span>;
  }
};

<span class="hljs-keyword">const</span> canSwim = {
  <span class="hljs-title function_">swim</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">energy</span> &lt; <span class="hljs-number">5</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'Too tired to swim'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">energy</span> -= <span class="hljs-number">5</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is swimming`</span>;
  }
};

<span class="hljs-comment">// é¸­å­æ˜¯åŠ¨ç‰©ï¼ˆç»§æ‰¿ï¼‰ï¼Œä¼šé£ä¼šæ¸¸ï¼ˆç»„åˆï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Duck</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Animal</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-variable language_">super</span>(name, <span class="hljs-number">100</span>);
    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(<span class="hljs-variable language_">this</span>, canFly, canSwim);
  }
}

<span class="hljs-keyword">const</span> duck = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Duck</span>(<span class="hljs-string">'å”è€é¸­'</span>);
duck.<span class="hljs-title function_">eat</span>();    <span class="hljs-comment">// ç»§æ‰¿è‡ªAnimal</span>
duck.<span class="hljs-title function_">fly</span>();    <span class="hljs-comment">// ç»„åˆçš„èƒ½åŠ›</span>
duck.<span class="hljs-title function_">swim</span>();   <span class="hljs-comment">// ç»„åˆçš„èƒ½åŠ›</span>
</code></pre>
<p>è¿™æ ·æ—¢ä¿ç•™äº†ç»§æ‰¿çš„å¤šæ€æ€§ï¼Œåˆæœ‰äº†ç»„åˆçš„çµæ´»æ€§ã€‚</p>
<h2 data-id="heading-19">TypeScriptä¸­çš„ç»„åˆ</h2>
<p>åœ¨TSé‡Œï¼Œç»„åˆçš„ç±»å‹å®‰å…¨æ€§æ›´å¥½ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å®šä¹‰èƒ½åŠ›æ¥å£</span>
interface <span class="hljs-title class_">Flyable</span> {
  <span class="hljs-attr">flySpeed</span>: number;
  <span class="hljs-title function_">fly</span>(): string;
}

interface <span class="hljs-title class_">Swimmable</span> {
  <span class="hljs-attr">swimSpeed</span>: number;
  <span class="hljs-title function_">swim</span>(): string;
}

<span class="hljs-comment">// ç»„åˆç±»å‹</span>
type <span class="hljs-title class_">Duck</span> = {
  <span class="hljs-attr">name</span>: string;
} &amp; <span class="hljs-title class_">Flyable</span> &amp; <span class="hljs-title class_">Swimmable</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">createDuck</span>(<span class="hljs-params">name: string</span>): <span class="hljs-title class_">Duck</span> {
  <span class="hljs-keyword">return</span> {
    name,
    <span class="hljs-attr">flySpeed</span>: <span class="hljs-number">50</span>,
    <span class="hljs-attr">swimSpeed</span>: <span class="hljs-number">10</span>,
    <span class="hljs-title function_">fly</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is flying`</span>;
    },
    <span class="hljs-title function_">swim</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is swimming`</span>;
    }
  };
}

<span class="hljs-keyword">const</span> duck = <span class="hljs-title function_">createDuck</span>(<span class="hljs-string">'å”è€é¸­'</span>);
duck.<span class="hljs-title function_">fly</span>();   <span class="hljs-comment">// âœ… ç±»å‹å®‰å…¨</span>
duck.<span class="hljs-title function_">walk</span>();  <span class="hljs-comment">// âŒ ç¼–è¯‘é”™è¯¯ï¼šDuckæ²¡æœ‰walkæ–¹æ³•</span>
</code></pre>
<p>TSçš„ç±»å‹ç³»ç»Ÿå¤©ç„¶æ”¯æŒç»„åˆï¼Œç”¨èµ·æ¥æ¯”ç»§æ‰¿èˆ’æœå¤šäº†ã€‚</p>
<h2 data-id="heading-20">æ€»ç»“</h2>
<p>"ç»„åˆä¼˜äºç»§æ‰¿"ä¸æ˜¯è¯´ç»§æ‰¿ä¸€æ— æ˜¯å¤„ï¼Œè€Œæ˜¯è¯´ï¼š</p>
<ol>
<li><strong>ä¼˜å…ˆè€ƒè™‘ç»„åˆ</strong>ï¼šå¤§éƒ¨åˆ†åœºæ™¯ä¸‹ï¼Œç»„åˆæ›´çµæ´»ã€æ›´å¥½ç»´æŠ¤</li>
<li><strong>ç»§æ‰¿ä¹Ÿæœ‰ç”¨</strong>ï¼šä¸¥æ ¼çš„is-aå…³ç³»ã€éœ€è¦å¤šæ€ã€æ¡†æ¶è¦æ±‚ç­‰åœºæ™¯ä¸‹ç»§æ‰¿æ›´åˆé€‚</li>
<li><strong>ä¸¤è€…ç»“åˆ</strong>ï¼šå®é™…é¡¹ç›®ä¸­å¾€å¾€æ˜¯ç»„åˆ + ç»§æ‰¿æ··ç”¨</li>
</ol>
<p>è®°ä½ä¸€ä¸ªåŸåˆ™ï¼š<strong>å¦‚æœä½ åœ¨çº ç»“è¯¥ä¸è¯¥ç”¨ç»§æ‰¿ï¼Œé‚£å¤§æ¦‚ç‡åº”è¯¥ç”¨ç»„åˆ</strong>ã€‚</p>
<p>æœ€åç”¨ä¸€å¥è¯æ¦‚æ‹¬ï¼š</p>
<ul>
<li>ç»§æ‰¿æ˜¯"ä½ æ˜¯ä»€ä¹ˆ"ï¼ˆyou are what you areï¼‰</li>
<li>ç»„åˆæ˜¯"ä½ èƒ½åšä»€ä¹ˆ"ï¼ˆyou are what you doï¼‰</li>
</ul>
<p>ä¸–ç•Œæ˜¯ç”±èƒ½åŠ›ç»„æˆçš„ï¼Œä¸æ˜¯ç”±è¡€ç»Ÿç»„æˆçš„ã€‚ä»£ç ä¹Ÿä¸€æ ·ã€‚</p>
<hr/>
<p>å‚è€ƒæ–‡æ¡£ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FComposition_over_inheritance" target="_blank" title="https://en.wikipedia.org/wiki/Composition_over_inheritance" ref="nofollow noopener noreferrer">Composition over inheritance - Wikipedia</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FDesign_Patterns" target="_blank" title="https://en.wikipedia.org/wiki/Design_Patterns" ref="nofollow noopener noreferrer">ã€Šè®¾è®¡æ¨¡å¼ã€‹- Gang of Four</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fjavascript.info%2Fmixins" target="_blank" title="https://javascript.info/mixins" ref="nofollow noopener noreferrer">Functional Mixins in JavaScript</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸æ˜¯ç¨‹åºå‘˜ä¹Ÿèƒ½ç©ï¼ŸTraeåŠ©ä½ ä¸€é”®å˜èº«Chromeæ‰©å±•å¼€å‘å¤§å¸ˆï¼Œæ‰“é€ ä¸ªæ€§Hulkæ’ä»¶ï¼]]></title>    <link>https://juejin.cn/post/7573273271799103528</link>    <guid>https://juejin.cn/post/7573273271799103528</guid>    <pubDate>2025-11-17T09:00:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573273271799103528" data-draft-id="7572539461478531115" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸æ˜¯ç¨‹åºå‘˜ä¹Ÿèƒ½ç©ï¼ŸTraeåŠ©ä½ ä¸€é”®å˜èº«Chromeæ‰©å±•å¼€å‘å¤§å¸ˆï¼Œæ‰“é€ ä¸ªæ€§Hulkæ’ä»¶ï¼"/> <meta itemprop="keywords" content="Trae,AIç¼–ç¨‹,VibeCoding"/> <meta itemprop="datePublished" content="2025-11-17T09:00:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AAAé˜¿giao"/> <meta itemprop="url" content="https://juejin.cn/user/473218785740627"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸æ˜¯ç¨‹åºå‘˜ä¹Ÿèƒ½ç©ï¼ŸTraeåŠ©ä½ ä¸€é”®å˜èº«Chromeæ‰©å±•å¼€å‘å¤§å¸ˆï¼Œæ‰“é€ ä¸ªæ€§Hulkæ’ä»¶ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/473218785740627/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AAAé˜¿giao
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T09:00:45.000Z" title="Mon Nov 17 2025 09:00:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>ä½ æ˜¯ä¸æ˜¯ä¹Ÿæ›¾æƒ³è¿‡ï¼šè¦æ˜¯èƒ½è‡ªå·±åšä¸€ä¸ªæµè§ˆå™¨æ’ä»¶ï¼Œä¸€é”®æŠŠç½‘é¡µå˜æˆâ€œç»¿å·¨äººâ€é£æ ¼è¯¥å¤šé…·ï¼Ÿä½†ä¸€æƒ³åˆ°è¦å†™ä»£ç ã€é…æƒé™ã€è°ƒæ ·å¼â€¦â€¦å°±æœ›è€Œå´æ­¥äº†ï¼Ÿåˆ«æ‹…å¿ƒï¼ç°åœ¨ï¼Œæœ‰äº†æ™ºèƒ½ç¼–ç¨‹åŠ©æ‰‹ Traeï¼Œå¼€å‘ Chrome æ‰©å±•ä¸å†æ˜¯ç¨‹åºå‘˜çš„ä¸“å±æŠ€èƒ½ã€‚åªè¦ä½ ä¼šæè¿°æƒ³æ³•ã€ä¼šç”»ä¸ªè‰å›¾ã€ä¼šå†™å‡ è¡Œè¯´æ˜æ–‡æ¡£ï¼ŒTrae å°±èƒ½å¸®ä½ æŠŠåˆ›æ„å˜æˆçœŸå®å¯ç”¨çš„æ’ä»¶ã€‚æœ¬æ–‡å°†å¸¦ä½ ä»é›¶å¼€å§‹ï¼Œç”¨â€œæ–‡æ¡£é©±åŠ¨ + æ™ºèƒ½åä½œâ€çš„æ–°æ–¹å¼ï¼Œè½»æ¾æ‰“é€ å±äºä½ çš„ Hulk æµè§ˆå™¨æ‰©å±•â€”â€”æ— éœ€æ·±åšç¼–ç åŠŸåº•ï¼Œä¹Ÿèƒ½ç©è½¬å¼€å‘ï¼</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€ä»€ä¹ˆæ˜¯ Traeï¼Ÿä¸ºä»€ä¹ˆå®ƒæ”¹å˜äº†å¼€å‘èŒƒå¼ï¼Ÿ</h2>
<p>Trae æ˜¯ä¸€ä¸ªåŸºäºå¤§æ¨¡å‹çš„æ™ºèƒ½ coding agentï¼ˆç¼–ç¨‹ä»£ç†ï¼‰ï¼Œå®ƒèƒ½å¤Ÿç†è§£è‡ªç„¶è¯­è¨€æŒ‡ä»¤ï¼Œå¹¶æ ¹æ®ä¸Šä¸‹æ–‡è‡ªåŠ¨ç”Ÿæˆç»“æ„æ¸…æ™°ã€åŠŸèƒ½å®Œæ•´çš„ä»£ç ã€‚ä¸ä¼ ç»Ÿ IDE æˆ–ä»£ç è¡¥å…¨å·¥å…·ä¸åŒï¼ŒTrae ä¸ä»…èƒ½å†™å‡½æ•°ï¼Œè¿˜èƒ½ç†è§£é¡¹ç›®æ•´ä½“æ¶æ„ã€ç”¨æˆ·äº¤äº’é€»è¾‘å’Œå¹³å°è§„èŒƒã€‚</p>
<p>æ›´é‡è¦çš„æ˜¯ï¼Œ<strong>Trae çš„æ ¸å¿ƒä¼˜åŠ¿åœ¨äºâ€œä¸Šä¸‹æ–‡æ„ŸçŸ¥â€</strong> ã€‚å¦‚æœä½ åªè¯´â€œå¸®æˆ‘å†™ä¸ªæŒ‰é’®â€ï¼Œå®ƒå¯èƒ½æ— æ³•å‡†ç¡®è¾“å‡ºï¼›ä½†å¦‚æœä½ æä¾›ä¸€ä»½æ¸…æ™°çš„ <code>instruction.txt</code>ï¼Œé™„ä¸Š UX è®¾è®¡å›¾ï¼ˆå¦‚ <code>ux.jpg</code>ï¼‰ã€ç›®å½•ç»“æ„é¢„æœŸã€åŠŸèƒ½æè¿°ç”šè‡³é”™è¯¯å¤„ç†éœ€æ±‚ï¼ŒTrae å°±èƒ½åƒä¸€ä½ç»éªŒä¸°å¯Œçš„å…¨æ ˆå¼€å‘è€…ä¸€æ ·ï¼Œä¸ºä½ ç”Ÿæˆé«˜åº¦è´´åˆéœ€æ±‚çš„ä»£ç ã€‚</p>
<p>è¿™ç§â€œVibe Codingâ€ï¼ˆæ°›å›´ç¼–ç¨‹ï¼‰æ¨¡å¼æ­£åœ¨é¢ è¦†ä¼ ç»Ÿå¼€å‘æµç¨‹ï¼š</p>
<ul>
<li><strong>ä»£ç ä¸å†æ˜¯èµ·ç‚¹ï¼Œè€Œæ˜¯ç»“æœ</strong>ï¼›</li>
<li><strong>æ–‡æ¡£ã€è®¾è®¡ç¨¿ã€çº¿æ¡†å›¾æˆä¸ºæ–°çš„â€œæºä»£ç â€</strong> ï¼›</li>
<li><strong>äººç±»è´Ÿè´£åˆ›æ„ã€ç›‘ç£ä¸å†³ç­–ï¼ŒAI è´Ÿè´£æ‰§è¡Œä¸å®ç°</strong>ã€‚</li>
</ul>
<p>è¿™æ­£æ˜¯æ™®é€šäººä¹Ÿèƒ½å‚ä¸äº§å“åˆ›é€ çš„æ—¶ä»£çº¢åˆ©ã€‚</p>
<hr/>
<h2 data-id="heading-2">äºŒã€Hulk æ‰©å±•ï¼šä¸€ä¸ªæç®€ä½†å®Œæ•´çš„ Chrome æ’ä»¶æ¡ˆä¾‹</h2>
<h3 data-id="heading-3">åŠŸèƒ½ç›®æ ‡</h3>
<p>Hulk æ˜¯ä¸€ä¸ªè½»é‡çº§ Chrome æ‰©å±•ï¼Œæ ¸å¿ƒåŠŸèƒ½åªæœ‰ä¸€ä¸ªï¼š<strong>ç‚¹å‡»æ‰©å±•å›¾æ ‡ â†’ å¼¹å‡ºçª—å£ â†’ ç‚¹å‡»â€œæ”¹å˜é¢œè‰²â€æŒ‰é’® â†’ å½“å‰ç½‘é¡µèƒŒæ™¯å˜ä¸ºç»¿è‰²</strong>ã€‚è™½ç„¶åŠŸèƒ½ç®€å•ï¼Œä½†å®ƒå®Œæ•´è¦†ç›–äº† Chrome æ‰©å±•çš„ä¸‰å¤§æ ¸å¿ƒç»„ä»¶ï¼š</p>
<ol>
<li><strong>Popupï¼ˆå¼¹å‡ºç•Œé¢ï¼‰</strong> ï¼šç”¨æˆ·äº¤äº’å…¥å£ï¼›</li>
<li><strong>Content Scriptï¼ˆå†…å®¹è„šæœ¬ï¼‰</strong> ï¼šæ“ä½œå½“å‰ç½‘é¡µ DOMï¼›</li>
<li><strong>Manifestï¼ˆæ¸…å•æ–‡ä»¶ï¼‰</strong> ï¼šå£°æ˜æƒé™ä¸èµ„æºã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€é¡¹ç›®ç»“æ„è¯¦è§£ï¼š<code>green_land</code> â€”â€” ç»¿è‰²ä¸»é¢˜ Chrome æ‰©å±•</h2>
<pre><code class="hljs language-bash" lang="bash">green_land/
â”œâ”€â”€ icons/
â”‚   â”œâ”€â”€ icon16.png
â”‚   â”œâ”€â”€ icon48.png
â”‚   â””â”€â”€ icon128.png
â”œâ”€â”€ instruction.txt               <span class="hljs-comment"># ç»™ Trae çš„ä»»åŠ¡è¯´æ˜ä¹¦</span>
â”œâ”€â”€ manifest.json                 <span class="hljs-comment"># æ‰©å±•é…ç½®æ–‡ä»¶ï¼ˆManifest V3ï¼‰</span>
â”œâ”€â”€ popup.html                    <span class="hljs-comment"># å¼¹å‡ºçª—å£ç•Œé¢</span>
â”œâ”€â”€ popup.js                      <span class="hljs-comment"># å¼¹å‡ºçª—å£é€»è¾‘</span>
â”œâ”€â”€ readme.md                     <span class="hljs-comment"># é¡¹ç›®è¯´æ˜æ–‡æ¡£ï¼ˆå¯é€‰ï¼‰</span>
â””â”€â”€ ux.jpg                        <span class="hljs-comment"># UX è®¾è®¡å‚è€ƒå›¾</span>
</code></pre>
<blockquote>
<p>âœ… <strong>æ€»è§ˆ</strong>ï¼šè¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„ Chrome æ‰©å±•é¡¹ç›®ï¼Œæ— éœ€é¢å¤–ä¾èµ–ï¼Œæ‰€æœ‰èµ„æºæœ¬åœ°åŒ–ï¼Œç»“æ„æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤å’Œéƒ¨ç½²ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-5">1. <code>icons/</code> æ–‡ä»¶å¤¹ â€”â€” å›¾æ ‡ç³»ç»Ÿ</h3>
<pre><code class="hljs">icons/
â”œâ”€â”€ icon16.png    â†’ ç”¨äºåœ°å€æ å°å›¾æ ‡ï¼ˆ16x16ï¼‰
â”œâ”€â”€ icon48.png    â†’ ç”¨äºæ‰©å±•ç®¡ç†é¡µï¼ˆ48x48ï¼‰
â””â”€â”€ icon128.png   â†’ ç”¨äºåº”ç”¨å•†åº—æˆ–é«˜åˆ†è¾¨ç‡æ˜¾ç¤ºï¼ˆ128x128ï¼‰
</code></pre>
<p><strong>ä½œç”¨ï¼š</strong></p>
<p>Chrome è¦æ±‚ä¸åŒå°ºå¯¸çš„å›¾æ ‡ä»¥é€‚åº”ä¸åŒåœºæ™¯ã€‚è¿™äº› PNG å›¾åƒå¿…é¡»ä¸ºæ­£æ–¹å½¢ã€é€æ˜èƒŒæ™¯ï¼Œä¸”æ— è¾¹æ¡†ã€‚</p>
<p><strong>å»ºè®®ï¼š</strong></p>
<ul>
<li>ä½¿ç”¨å·¥å…·å¦‚ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.iconverticons.com%2F" title="https://www.iconverticons.com/" target="_blank" ref="nofollow noopener noreferrer">www.iconverticons.com</a> æˆ– Photoshop åˆ¶ä½œä¸€å¥—ç»Ÿä¸€é£æ ¼çš„å›¾æ ‡ï¼›</li>
<li>ä¸»é¢˜é¢œè‰²å»ºè®®ä¸ºç»¿è‰²ç³»ï¼ˆå‘¼åº”â€œHulkâ€æˆ–â€œGreen Landâ€æ¦‚å¿µï¼‰ï¼Œå¢å¼ºå“ç‰Œè¯†åˆ«åº¦ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-6">2. <code>instruction.txt</code> â€”â€” ç»™ Trae çš„â€œæŒ‡ä»¤æ‰‹å†Œâ€</h3>
<p>è¿™æ˜¯æ•´ä¸ªé¡¹ç›®çš„â€œçµé­‚æ–‡ä»¶â€ã€‚Trae ä¼šè¯»å–å®ƒæ¥ç†è§£ä½ çš„éœ€æ±‚ï¼Œå¹¶ç”Ÿæˆå…¶ä»–ä»£ç æ–‡ä»¶ã€‚</p>
<p><strong>ç¤ºä¾‹å†…å®¹ï¼š</strong></p>
<pre><code class="hljs">ä½ æ˜¯ä¸€ä¸ªç»éªŒä¸°å¯Œçš„Chrome æ‰©å±•ç¨‹åºå¼€å‘è€…ï¼Œè¯·å¸®æˆ‘å¼€å‘ä¸€ä¸ªåä¸ºHulkçš„æ‰©å±•ç¨‹åº
UX è®¾è®¡å›¾å‚è€ƒux.jpg

å…·ä½“äº¤äº’æ­¥éª¤å¦‚ä¸‹ï¼š
Step1ï¼šç‚¹å‡»ç¨‹åºå›¾æ ‡æ‰“å¼€å¼¹å‡ºçª—å£ï¼Œåœ¨çª—å£ä¸­é»˜è®¤æç¤ºï¼šâ€œæ”¹å˜èƒŒæ™¯é¢œè‰²â€ï¼Œâ€œç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å°†å½“å‰é¡µé¢èƒŒæ™¯è‰²æ”¹ä¸ºç»¿è‰²â€å’Œä¸€ä¸ªâ€œæ”¹å˜é¢œè‰²â€æŒ‰é’®ã€‚

Step2ï¼šç‚¹å‡»æŒ‰é’®ï¼Œç½‘é¡µèƒŒæ™¯æ”¹å˜ä¸ºç»¿è‰²

æ³¨æ„ä»¥ä¸‹ï¼š
è¯·ä½¿ç”¨iconsæ–‡ä»¶å¤¹çš„å›¾æ ‡ä½œä¸ºåº”ç”¨ç¨‹åºçš„å›¾æ ‡
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆé‡è¦ï¼Ÿ</strong></p>
<ul>
<li>å®ƒæ˜¯ Trae çš„â€œè¾“å…¥æºâ€ï¼›</li>
<li>å†³å®šäº†ç”Ÿæˆä»£ç çš„è´¨é‡å’Œå‡†ç¡®æ€§ï¼›</li>
<li>æ”¯æŒè‡ªç„¶è¯­è¨€æè¿°ï¼Œé€‚åˆéç¨‹åºå‘˜è¡¨è¾¾æƒ³æ³•ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-7">3. <code>manifest.json</code> â€”â€” æ‰©å±•çš„èº«ä»½è¯æ˜</h3>
<p>è¿™æ˜¯ Chrome æ‰©å±•çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œå®šä¹‰äº†åç§°ã€ç‰ˆæœ¬ã€æƒé™ã€å…¥å£ç­‰ã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"manifest_version"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Hulk"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä¸€ä¸ªç®€å•çš„èƒŒæ™¯é¢œè‰²ä¿®æ”¹æ‰©å±•ç¨‹åº"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"icons"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"16"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icons/icon16.png"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"48"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icons/icon48.png"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"128"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icons/icon128.png"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"action"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"default_popup"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"popup.html"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"activeTab"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"scripting"</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<hr/>
<h3 data-id="heading-8">4. <code>popup.html</code> â€”â€” ç”¨æˆ·äº¤äº’ç•Œé¢</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Hulk - æ”¹å˜èƒŒæ™¯é¢œè‰²<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
    <span class="hljs-selector-tag">body</span> {
      <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">15px</span>;
      <span class="hljs-attribute">font-family</span>: Arial, sans-serif;
      <span class="hljs-attribute">text-align</span>: center;
    }
    <span class="hljs-selector-tag">h2</span> {
      <span class="hljs-attribute">font-size</span>: <span class="hljs-number">18px</span>;
      <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">10px</span>;
      <span class="hljs-attribute">color</span>: <span class="hljs-number">#333</span>;
    }
    <span class="hljs-selector-tag">p</span> {
      <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>;
      <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">15px</span>;
      <span class="hljs-attribute">color</span>: <span class="hljs-number">#666</span>;
      <span class="hljs-attribute">line-height</span>: <span class="hljs-number">1.4</span>;
    }
    <span class="hljs-selector-tag">button</span> {
      <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#4CAF50</span>;
      <span class="hljs-attribute">color</span>: white;
      <span class="hljs-attribute">border</span>: none;
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span> <span class="hljs-number">15px</span>;
      <span class="hljs-attribute">text-align</span>: center;
      <span class="hljs-attribute">text-decoration</span>: none;
      <span class="hljs-attribute">display</span>: inline-block;
      <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>;
      <span class="hljs-attribute">margin</span>: <span class="hljs-number">4px</span> <span class="hljs-number">2px</span>;
      <span class="hljs-attribute">cursor</span>: pointer;
      <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;
    }
    <span class="hljs-selector-tag">button</span><span class="hljs-selector-pseudo">:hover</span> {
      <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#45a049</span>;
    }
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ”¹å˜èƒŒæ™¯é¢œè‰²<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å°†å½“å‰é¡µé¢èƒŒæ™¯è‰²æ”¹ä¸ºç»¿è‰²<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"changeColorBtn"</span>&gt;</span>æ”¹å˜é¢œè‰²<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"popup.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p><strong>ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>ä½¿ç”¨è¯­ä¹‰åŒ–æ ‡ç­¾ï¼›</li>
<li>å¼•å…¥ CSS å®ç°ç¾åŒ–ï¼›</li>
<li>æŒ‰é’®ç»‘å®šäº‹ä»¶å¤„ç†ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-9">5. <code>popup.js</code> â€”â€” äº¤äº’é€»è¾‘å®ç°</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è·å–æŒ‰é’®å…ƒç´ </span>
<span class="hljs-keyword">const</span> changeColorBtn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'changeColorBtn'</span>);

<span class="hljs-comment">// ä¸ºæŒ‰é’®æ·»åŠ ç‚¹å‡»äº‹ä»¶ç›‘å¬å™¨</span>
changeColorBtn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// è·å–å½“å‰æ´»åŠ¨æ ‡ç­¾é¡µ</span>
    <span class="hljs-keyword">const</span> [tab] = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">tabs</span>.<span class="hljs-title function_">query</span>({ <span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">currentWindow</span>: <span class="hljs-literal">true</span> });
    
    <span class="hljs-comment">// å‘å½“å‰é¡µé¢æ³¨å…¥è„šæœ¬ï¼Œç›´æ¥ä¿®æ”¹èƒŒæ™¯é¢œè‰²</span>
    <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">scripting</span>.<span class="hljs-title function_">executeScript</span>({
      <span class="hljs-attr">target</span>: { <span class="hljs-attr">tabId</span>: tab.<span class="hljs-property">id</span> },
      <span class="hljs-attr">function</span>: <span class="hljs-function">() =&gt;</span> {
        <span class="hljs-comment">// ä¿®æ”¹é¡µé¢èƒŒæ™¯é¢œè‰²ä¸ºç»¿è‰²</span>
        <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundColor</span> = <span class="hljs-string">'#4CAF50'</span>;
      }
    });
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'ä¿®æ”¹èƒŒæ™¯é¢œè‰²æ—¶å‡ºé”™:'</span>, error);
  }
});
</code></pre>
<p><strong>åŠŸèƒ½ï¼š</strong></p>
<ul>
<li>æŸ¥è¯¢å½“å‰æ¿€æ´»æ ‡ç­¾é¡µï¼›</li>
<li>å‘é€æ¶ˆæ¯ç»™å†…å®¹è„šæœ¬ï¼ˆcontent scriptï¼‰ï¼›</li>
<li>è§¦å‘é¡µé¢å˜è‰²æ“ä½œã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-10">6. <code>readme.md</code> â€”â€” é¡¹ç›®è¯´æ˜æ–‡æ¡£</h3>
<p>è™½ç„¶ä¸æ˜¯å¿…é¡»ï¼Œä½†å¼ºçƒˆæ¨èæ·»åŠ ï¼Œä¾¿äºå›¢é˜Ÿåä½œæˆ–æœªæ¥ç»´æŠ¤ã€‚</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># Green Land Chrome Extension</span>

<span class="hljs-section">## åŠŸèƒ½</span>
<span class="hljs-bullet">-</span> ç‚¹å‡»å›¾æ ‡ â†’ æ˜¾ç¤ºå¼¹çª—
<span class="hljs-bullet">-</span> ç‚¹å‡»â€œç‚¹äº®ç»¿è‰²â€ â†’ å½“å‰é¡µé¢èƒŒæ™¯å˜ä¸ºç»¿è‰²

<span class="hljs-section">## æŠ€æœ¯æ ˆ</span>
<span class="hljs-bullet">-</span> Chrome Extensions API
<span class="hljs-bullet">-</span> Manifest V3
<span class="hljs-bullet">-</span> JavaScript + HTML + CSS

<span class="hljs-section">## ä½¿ç”¨æ–¹æ³•</span>
<span class="hljs-bullet">1.</span> è§£å‹æ–‡ä»¶å¤¹
<span class="hljs-bullet">2.</span> åœ¨ Chrome æµè§ˆå™¨ä¸­è¿›å…¥ <span class="hljs-code">`chrome://extensions/`</span>
<span class="hljs-bullet">3.</span> å¯ç”¨å¼€å‘è€…æ¨¡å¼
<span class="hljs-bullet">4.</span> ç‚¹å‡»â€œåŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åºâ€
<span class="hljs-bullet">5.</span> é€‰æ‹© green<span class="hljs-emphasis">_land æ–‡ä»¶å¤¹

## ä½œè€…
@VibeCoder
</span></code></pre>
<hr/>
<h3 data-id="heading-11">7. <code>ux.jpg</code> â€”â€” UI è®¾è®¡å‚è€ƒå›¾</h3>
<p><strong>è¿™å¼ å›¾ç‰‡æ˜¯ä½ è®¾è®¡çš„åŸå‹å›¾ï¼Œå¯ä»¥æ˜¯ï¼š</strong></p>
<ul>
<li>æ‰‹ç»˜çº¿æ¡†å›¾ï¼›</li>
<li>Figma æˆ– Sketch å¯¼å‡ºçš„æˆªå›¾ï¼›</li>
<li>æˆ–ç®€å•çš„ PPT é¡µé¢å¸ƒå±€ã€‚</li>
</ul>
<p><strong>å¯¹ Trae çš„ä»·å€¼ï¼š</strong></p>
<ul>
<li>æä¾›è§†è§‰ä¸Šä¸‹æ–‡ï¼›</li>
<li>å¸®åŠ© Trae ç†è§£æ’ç‰ˆã€é¢œè‰²ã€å­—ä½“å¤§å°ç­‰ç»†èŠ‚ï¼›</li>
<li>å‡å°‘æ­§ä¹‰ï¼Œæå‡ç”Ÿæˆè´¨é‡ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-12">å››ã€å¦‚ä½•ç”¨ Trae è‡ªåŠ¨ç”Ÿæˆè¿™äº›æ–‡ä»¶ï¼Ÿ</h2>
<p>åªéœ€ä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li>
<p>åˆ›å»ºç©ºæ–‡ä»¶å¤¹ <code>green_land</code>ï¼›</p>
</li>
<li>
<p>æ·»åŠ  <code>instruction.txt</code> å’Œ <code>ux.jpg</code>ï¼›</p>
</li>
<li>
<p>åœ¨å¯¹è¯åŠŸèƒ½æ¡†ä¸­å¯¹Traeå¼•ç”¨ <code>instruction.txt</code>Â å¹¶å‘å‡ºæŒ‡ä»¤å¼€å§‹ç”Ÿæˆ</p>
</li>
<li>
<p>Trae å°†è‡ªåŠ¨ï¼š</p>
<ul>
<li>åˆ†æéœ€æ±‚ï¼›</li>
<li>ç”Ÿæˆ <code>manifest.json</code>ï¼›</li>
<li>åˆ›å»º <code>popup.html</code> å’Œ <code>popup.js</code>ï¼›</li>
<li>è¾“å‡ºç»“æ„åŒ–çš„é¡¹ç›®ç›®å½•ï¼›</li>
</ul>
</li>
<li>
<p>ä½ åªéœ€æ£€æŸ¥ã€æµ‹è¯•ã€æ‰“åŒ…å³å¯ï¼</p>
</li>
</ol>
<hr/>
<h2 data-id="heading-13">äº”ã€åœ¨ Chrome ä¸­å®‰è£… Hulk æ‰©å±•</h2>
<p><strong>1. æ‰“å¼€ Chrome æµè§ˆå™¨</strong>ï¼Œè®¿é—® <code>chrome://extensions/</code>ï¼›</p>
<p><strong>2. å¼€å¯å³ä¸Šè§’â€œå¼€å‘è€…æ¨¡å¼â€</strong> ï¼›</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f28647b17afa48968ba7189a77efcccf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUFB6Zi_Z2lhbw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763974845&amp;x-signature=Q1ERJldHUMu37w%2Bd0hEUbvlaSVk%3D" alt="" loading="lazy"/></p>
<ol start="3">
<li>ç‚¹å‡» <strong>â€œåŠ è½½æœªæ‰“åŒ…çš„æ‰©å±•ç¨‹åºâ€</strong> ï¼›</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/116bdef2b3404575a344227eaac482f3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUFB6Zi_Z2lhbw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763974845&amp;x-signature=x6iiSOmSDWdmHlhAYkAwvvTurgo%3D" alt="" loading="lazy"/></p>
<ol start="4">
<li>é€‰æ‹©ä½ çš„ <code>hulk-extension</code> æ–‡ä»¶å¤¹ï¼›</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/33baa15d128843adbf36093c2e6fcbe5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUFB6Zi_Z2lhbw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763974845&amp;x-signature=%2FwifnTEuZFrIFVJ%2B1UZB2ZY8j9U%3D" alt="" loading="lazy"/></p>
<p>å®‰è£…æˆåŠŸï¼åœ°å€æ å³ä¾§ä¼šå‡ºç° Hulk å›¾æ ‡ï¼ˆæ­¤å¤„ç”¨çš„æ˜¯vueçš„å›¾æ ‡ï¼‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6f39a21569e248d0b37bf65c977229fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUFB6Zi_Z2lhbw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763974845&amp;x-signature=aEsuktmgyTfDCzMqvrQHeWfLMpI%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>æç¤ºï¼šå¦‚æœå›¾æ ‡æœªæ˜¾ç¤ºï¼Œè¯·æ£€æŸ¥ <code>icons/</code> æ–‡ä»¶æ˜¯å¦å­˜åœ¨ä¸”è·¯å¾„æ­£ç¡®ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-14">è¿è¡Œæ•ˆæœå±•ç¤º</h2>
<p><strong>ç‚¹å‡»æŒ‰é’®åçš„ç½‘é¡µå˜åŒ–</strong><br/>
ä»»æ„æ‰“å¼€ä¸€ä¸ªç½‘ç«™ï¼ˆå¦‚ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.baidu.com%2F" title="https://www.baidu.com/" target="_blank" ref="nofollow noopener noreferrer">www.baidu.com/</a>ï¼‰ï¼Œç‚¹å‡»â€œæ”¹å˜é¢œè‰²â€æŒ‰é’®ï¼Œæ•´ä¸ªé¡µé¢ç¬é—´è¢«é²œç»¿è‰²è¦†ç›–ï¼Œä»¿ä½›è¢«ç»¿å·¨äººæµ©å…‹é™„ä½“ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/53743ecb0cc3467dbbcdb1cfc0c67428~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUFB6Zi_Z2lhbw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763974845&amp;x-signature=42q6FNkXanL%2BRSpyk3Ncil0YC84%3D" alt="" loading="lazy"/></p>
<p>ç‚¹å‡»æ”¹å˜é¢œè‰²</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/619cea60f0f94b5ca0b4561ab579087d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUFB6Zi_Z2lhbw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763974845&amp;x-signature=h%2BTmBzxdY%2FGt56JoOUY6gNIfWG0%3D" alt="" loading="lazy"/></p>
<p>æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/938ed07b20f54005a420c3b51cc226be~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUFB6Zi_Z2lhbw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763974845&amp;x-signature=m67EnY1wznRosN8Pm4aLo4OHxmo%3D" alt="" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-15">ä¸ Trae åä½œçš„å¿ƒå¾—ï¼šæ–‡æ¡£å³ç”Ÿäº§åŠ›</h2>
<p>åœ¨æ•´ä¸ª Hulk é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å‡ ä¹æ²¡æœ‰æ‰‹å†™ä¸€è¡Œä»£ç â€”â€”æ‰€æœ‰æ–‡ä»¶å‡ç”± Trae æ ¹æ® <code>instruction.txt</code> å’Œé¡¹ç›®ç»“æ„è‡ªåŠ¨ç”Ÿæˆã€‚è¿™è®©æˆ‘ä»¬æ·±åˆ»ä½“ä¼šåˆ°ï¼š</p>
<ul>
<li><strong>æ¸…æ™°çš„éœ€æ±‚ &gt; å®Œç¾çš„è¯­æ³•</strong>ï¼šTrae æ›´åœ¨æ„ä½ â€œæƒ³åšä»€ä¹ˆâ€ï¼Œè€Œä¸æ˜¯â€œæ€ä¹ˆå†™ JavaScriptâ€ï¼›</li>
<li><strong>è®¾è®¡ç¨¿æ˜¯æ²Ÿé€šæ¡¥æ¢</strong>ï¼šå“ªæ€•æ˜¯ä¸€å¼ æ‰‹ç»˜çº¿æ¡†å›¾ï¼ˆux.jpgï¼‰ï¼Œä¹Ÿèƒ½æå¤§æå‡ç”Ÿæˆå‡†ç¡®ç‡ï¼›</li>
<li><strong>è¿­ä»£æ¯”å®Œç¾æ›´é‡è¦</strong>ï¼šç¬¬ä¸€æ¬¡ç”Ÿæˆå¯èƒ½æœ‰å° bugï¼Œä½†é€šè¿‡è¡¥å……è¯´æ˜ï¼ˆå¦‚â€œæŒ‰é’®è¦åœ†è§’â€ã€â€œå­—ä½“åŠ å¤§â€ï¼‰ï¼ŒTrae èƒ½å¿«é€Ÿä¿®æ­£ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-16">ç»“è¯­</h2>
<p>è°è¯´åš Chrome æ‰©å±•ä¸€å®šè¦ç²¾é€š JavaScript æˆ–ç¿»çƒ‚å®˜æ–¹æ–‡æ¡£ï¼Ÿåœ¨ Vibe Coding çš„æ—¶ä»£ï¼Œæ¸…æ™°çš„è¡¨è¾¾ã€ç»“æ„åŒ–çš„æ–‡æ¡£å’Œä¸€ç‚¹ç‚¹åˆ›æ„ï¼Œæ‰æ˜¯çœŸæ­£çš„â€œè¶…èƒ½åŠ›â€ã€‚å€ŸåŠ© Trae è¿™æ ·çš„æ™ºèƒ½ç¼–ç¨‹ä¼™ä¼´ï¼Œä½ ä¸å†åªæ˜¯ç”¨æˆ·ï¼Œè€Œæ˜¯åˆ›é€ è€…ã€‚Hulk æ’ä»¶åªæ˜¯ä¸€ä¸ªèµ·ç‚¹â€”â€”ä¸‹ä¸€æ¬¡ï¼Œä¹Ÿè®¸æ˜¯ä½ è‡ªå·±çš„çµæ„Ÿç«èŠ±ï¼Œç‚¹ç‡ƒä¸‹ä¸€ä¸ªçˆ†æ¬¾æ‰©å±•ã€‚ç°åœ¨å°±åŠ¨æ‰‹è¯•è¯•å§ï¼Œè®© Trae æˆä¸ºä½ å¼€å‘è·¯ä¸Šçš„â€œå¤–æŒ‚å¤§è„‘â€ï¼Œä¸€èµ·æŠŠæƒ³æ³•å˜æˆç°å®ï¼</p>
<blockquote>
<p>ğŸš€ <strong>è¡ŒåŠ¨å»ºè®®</strong>ï¼šå¤åˆ¶æœ¬æ–‡çš„ <code>instruction.txt</code>ï¼Œé…ä¸Šä½ å–œæ¬¢çš„å›¾æ ‡å’Œä¸€å¥æ–°åŠŸèƒ½æè¿°ï¼ˆæ¯”å¦‚â€œæŠŠæ–‡å­—å˜æˆç´«è‰²â€ï¼‰ï¼Œè®© Trae ä¸ºä½ ç”Ÿæˆç¬¬äºŒä¸ªæ‰©å±•ï¼ç¼–ç¨‹ï¼Œä»æœªå¦‚æ­¤æœ‰è¶£ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ–‡è®²æ¸…ï¼šAIå¤§æ¨¡å‹ä¸­AI Agentçš„å®šä¹‰ã€åˆ†ç±»åŠå‘å±•è¶‹åŠ¿]]></title>    <link>https://juejin.cn/post/7573738017987952683</link>    <guid>https://juejin.cn/post/7573738017987952683</guid>    <pubDate>2025-11-18T07:43:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573738017987952683" data-draft-id="7573855399716552723" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ–‡è®²æ¸…ï¼šAIå¤§æ¨¡å‹ä¸­AI Agentçš„å®šä¹‰ã€åˆ†ç±»åŠå‘å±•è¶‹åŠ¿"/> <meta itemprop="keywords" content="LLM"/> <meta itemprop="datePublished" content="2025-11-18T07:43:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ™ºæ³ŠAI"/> <meta itemprop="url" content="https://juejin.cn/user/3572727470361578"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ–‡è®²æ¸…ï¼šAIå¤§æ¨¡å‹ä¸­AI Agentçš„å®šä¹‰ã€åˆ†ç±»åŠå‘å±•è¶‹åŠ¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3572727470361578/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ™ºæ³ŠAI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T07:43:15.000Z" title="Tue Nov 18 2025 07:43:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>ä¸€ã€AIå¤§æ¨¡å‹çš„å®šä¹‰ä¸åˆ†ç±»</strong></p>
<p>AIå¤§æ¨¡å‹(Large AI Models / Large-scale AI Models) æ˜¯æŒ‡æ‹¥æœ‰äº¿çº§ä»¥ä¸Šå‚æ•°çš„æ·±åº¦å­¦ä¹ æ¨¡å‹ã€‚</p>
<p>AIå¤§æ¨¡å‹åˆ©ç”¨æ·±åº¦å­¦ä¹ ç®—æ³•å’Œäººå·¥ç¥ç»ç½‘ç»œæŠ€æœ¯ç­‰AIæŠ€æœ¯ï¼Œé€šè¿‡å­¦ä¹ å¤§é‡çš„æ•°æ®æå‡é¢„æµ‹èƒ½åŠ›ï¼Œå…¶æ€§èƒ½ä¸æ¨¡å‹çš„å‚æ•°è§„æ¨¡ã€æ•°æ®é›†å¤§å°å’Œè®­ç»ƒç”¨çš„è®¡ç®—é‡ä¹‹é—´å­˜åœ¨å¹‚å¾‹å…³ç³»ã€‚</p>
<p>ä»åº”ç”¨é¢†åŸŸè§’åº¦åˆ†ç±»ï¼ŒAIå¤§æ¨¡å‹åˆ†ä¸ºé€šç”¨å¤§æ¨¡å‹ã€å‚ç›´å¤§æ¨¡å‹ï¼›æŒ‰è¾“å…¥æ•°æ®ç±»å‹ï¼ŒAIå¤§æ¨¡å‹åˆ†ä¸ºå•æ¨¡æ€å¤§æ¨¡å‹ã€å¤šæ¨¡æ€å¤§æ¨¡å‹ ï¼›æŒ‰å¼€æ”¾æ€§åˆ†ç±»ï¼ŒAIå¤§æ¨¡å‹åˆ†ä¸ºå¼€æºå¤§æ¨¡å‹ã€é—­æºå¤§æ¨¡å‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c948918128d74d5eb82545c820185f83~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=KmA0Z55R5%2FN41E%2Fs6uZdZDcI1c0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>äºŒã€AI Agentçš„å®šä¹‰ä¸åˆ†ç±»</strong></p>
<p>AI Agentï¼ˆæ™ºèƒ½ä½“ï¼‰æ˜¯ä¸€ç§å…·å¤‡ç¯å¢ƒæ„ŸçŸ¥ã€è‡ªä¸»å†³ç­–ä¸è¡ŒåŠ¨æ‰§è¡Œèƒ½åŠ›çš„äººå·¥æ™ºèƒ½ç³»ç»Ÿã€‚</p>
<p>å…¶æ ¸å¿ƒèƒ½åŠ›æ¶æ„åŒ…å«å››ä¸ªå…³é”®ç»´åº¦ï¼š</p>
<p>æ„ŸçŸ¥èƒ½åŠ›ï¼ˆPerceptionï¼‰-è§£æã€ç†è§£ç¯å¢ƒä¿¡æ¯ä¸ç”¨æˆ·è¾“å…¥ã€è¿›è¡ŒçŸ¥è¯†æ¨ç†ã€ç”Ÿæˆæ–‡æœ¬ï¼›</p>
<p>è§„åˆ’èƒ½åŠ›ï¼ˆPlanningï¼‰-åˆ¶å®šç›®æ ‡å¯¼å‘çš„ä»»åŠ¡ç­–ç•¥ï¼›</p>
<p>è¡ŒåŠ¨èƒ½åŠ›ï¼ˆAction/Tool Useï¼‰-è°ƒç”¨å·¥å…·æˆ–APIæ‰§è¡Œæ“ä½œï¼›</p>
<p>è®°å¿†èƒ½åŠ›ï¼ˆMemoryï¼‰- å­˜å‚¨å¹¶å…³è”å†å²äº¤äº’ä¸çŸ¥è¯†ã€‚</p>
<p>AIå‘å±•å¯åˆ’åˆ†ä¸ºäº”ä¸ªé˜¶æ®µï¼šL1èŠå¤©æœºå™¨äººã€L2æ¨ç†è€…ï¼ŒL3æ™ºèƒ½ä½“ã€L4åˆ›æ–°è€…ã€L5ç»„ç»‡è€…ï¼Œæ™ºèƒ½ä½“å¤„åœ¨ç¬¬ä¸‰é˜¶æ®µã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0789d57ab4e40d09cc172b0161a39d9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=arGxfM3B5jNz2JldDHzPya1OTT8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>æ›´å¤šAIå¤§æ¨¡å‹å­¦ä¹ è§†é¢‘åŠèµ„æºï¼Œéƒ½åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fyuan.zhipoai.cn%2F" target="_blank" title="https://yuan.zhipoai.cn/" ref="nofollow noopener noreferrer">æ™ºæ³ŠAI</a>ã€‚</strong></p>
<p><strong>ä¸‰ã€AI Agentçš„å‘å±•å†ç¨‹ï¼šä»ä¼ ç»Ÿæ¶æ„åˆ°ç°ä»£èŒƒå¼</strong></p>
<p>AI Agentçš„å‘å±•å¯åˆ†ä¸ºä¸¤å¤§é˜¶æ®µã€‚2017å¹´ä¹‹å‰å¯è§†ä¸ºä¼ ç»Ÿæ¶æ„æ—¶æœŸï¼Œä»éº¦å¡é”¡çš„â€œå»ºè®®æ¥å—è€…â€è®¾æƒ³ï¼Œåˆ°åŒ…å®¹æ¶æ„ã€BDIæ¶æ„ã€æ··åˆæ¶æ„ï¼Œè¯¥é˜¶æ®µçš„ç ”ç©¶ä¸ºAgentå¥ å®šäº†åˆæ­¥çš„ç†è®ºä¸æ¶æ„åŸºç¡€ã€‚</p>
<p>2017å¹´ä¹‹åï¼Œéšç€Transformeræ¶æ„çš„æå‡ºï¼ŒAI Agentè¿›å…¥ç°ä»£èŒƒå¼é˜¶æ®µã€‚å¤§è¯­è¨€æ¨¡å‹å¦‚GPT-3æ‰®æ¼”äº†â€œå¤§è„‘â€è§’è‰²ï¼Œçªç ´äº†ä¼ ç»Ÿç³»ç»Ÿçš„èƒ½åŠ›é™åˆ¶ã€‚</p>
<p>å·¥å…·è°ƒç”¨ä¸å¤–éƒ¨APIé›†æˆä½¿Agentè·å¾—â€œæ‰‹è„šâ€ï¼Œå®ç°ä¸ç°å®ä¸–ç•Œçš„é«˜æ•ˆäº¤äº’ã€‚å¤šæ¨¡æ€æ¨¡å‹å’Œæ ‡å‡†åŒ–å·¥å…·åè®®è¿›ä¸€æ­¥æ‰©å±•äº†å…¶æ„ŸçŸ¥ä¸æ‰§è¡Œèƒ½åŠ›ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b8b5b312df64b8f9ff701e7e97fec58~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=IAnZQwozO%2FP8Gs0eksnRNzYiBj4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>Agent = å¤§æ¨¡å‹+è§„åˆ’èƒ½åŠ›+è®°å¿†èƒ½åŠ›+è¡ŒåŠ¨èƒ½åŠ›</strong></p>
<p>AI Agentæ˜¯â€œæ•°å­—äººâ€ï¼Œå¤§æ¨¡å‹æ˜¯â€œæ•°å­—äººçš„å¤§è„‘â€ã€‚</p>
<p>å¤§æ¨¡å‹æ˜¯AI Agentçš„æ ¸å¿ƒé©±åŠ¨åŠ›ä¸æ™ºèƒ½åŸºç¡€ï¼Œå®ƒä¸ºAgentæä¾›äº†å…³é”®çš„æ„ŸçŸ¥ä¸è®¤çŸ¥èƒ½åŠ›ï¼ŒåŒ…æ‹¬ç†è§£ä¿¡æ¯ã€è¿›è¡ŒçŸ¥è¯†æ¨ç†ã€ç”Ÿæˆæ–‡æœ¬ä»¥åŠå±•ç°åˆ›é€ æ€§æ€ç»´ï¼Œå¦‚åŒèµ‹äºˆAgentä¸€ä¸ªå¼ºå¤§çš„â€œå¤§è„‘â€ã€‚</p>
<p>AI Agentæ˜¯åœ¨å¤§æ¨¡å‹çš„åŸºç¡€ä¸Šæ•´åˆäº†ä¸‰å¤§å…³é”®èƒ½åŠ›ç»„ä»¶æ„æˆçš„æ›´é«˜çº§æ¶æ„ï¼šè§„åˆ’ï¼ˆPlanningï¼‰ã€è®°å¿†ï¼ˆMemoryï¼‰å’Œå·¥å…·ä½¿ç”¨ï¼ˆTool Useï¼‰ã€‚</p>
<p>è¿™ç§ç»“åˆäº†å¤§æ¨¡å‹æ™ºèƒ½ä¸è¡ŒåŠ¨èƒ½åŠ›çš„æ¶æ„ï¼Œä»£è¡¨äº†å½“å‰å¤§æ¨¡å‹åº”ç”¨çš„æœ€é«˜é˜¶å½¢æ€ï¼Œå®ç°äº†ä»è¢«åŠ¨å“åº”åˆ°ä¸»åŠ¨è§„åˆ’å’Œæ‰§è¡Œçš„è·ƒè¿ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/763a24e3be1a40f2ba9dca7d09152770~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=NG5bAnW7M9GgU5x1rFiWhDl9Uwk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>å››ã€é€šå¾€AGIçš„é“è·¯ï¼šAI Agentä¸‰çº§è·ƒè¿ï¼Œäº§å“å½¢æ€ä¸æŠ€æœ¯èƒ½åŠ›çš„ååŒæ¼”è¿›</strong></p>
<p>Agentæ˜¯AIè¿ˆå‘AGIï¼ˆé€šç”¨äººå·¥æ™ºèƒ½ï¼‰çš„å…³é”®ç¯èŠ‚ä¹‹ä¸€ã€‚</p>
<p>å…¶å‘å±•å¯åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼Œæ—¢ä½“ç°äº§å“å½¢æ€çš„æ¼”è¿›ï¼Œä¹Ÿæ ‡å¿—ç€æŠ€æœ¯èƒ½åŠ›çš„è·ƒå‡ï¼š</p>
<p>åˆçº§é˜¶æ®µçš„æ™ºèƒ½ä½“ä¾§é‡äºäººæœºæ·±åº¦äº¤äº’ï¼Œæ ¸å¿ƒèƒ½åŠ›æ„å»ºäºå¤§è¯­è¨€æ¨¡å‹ã€æç¤ºè¯å·¥ç¨‹å’Œå‘é‡æ•°æ®åº“ç­‰æŠ€æœ¯ä¹‹ä¸Šï¼Œå®ç°L1éƒ¨åˆ†è‡ªåŠ¨åŒ–ã€‚</p>
<p>ä¸­çº§é˜¶æ®µå‘å±•ä¸ºä»»åŠ¡é©±åŠ¨å‹æ™ºèƒ½ä½“ï¼Œéœ€çªç ´å¤šæ™ºèƒ½ä½“åä½œæ¡†æ¶ã€å¤æ‚ä»»åŠ¡è§„åˆ’ä¸è®°å¿†ç®¡ç†ç­‰æŠ€æœ¯ï¼Œèƒ½å¤Ÿåœ¨å°‘é‡äººå·¥å¹²é¢„ä¸‹å®Œæˆå¤šæ­¥éª¤å¤æ‚ä»»åŠ¡ï¼Œè¾¾åˆ°L2æœ‰æ¡ä»¶è‡ªåŠ¨åŒ–è‡³L3é«˜åº¦è‡ªåŠ¨åŒ–ã€‚</p>
<p>é«˜çº§é˜¶æ®µå°†å®ç°çº¯ç²¹çš„AGIæ™ºèƒ½ä½“ï¼Œæ— éœ€ä»»ä½•äººå·¥å¹²é¢„ï¼Œè¾¾æˆL4å®Œå…¨è‡ªåŠ¨åŒ–ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/09b5e82caa864e4791026703fcfc3052~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=4jWFmYuDsUdSACrbUaEJSOf42D8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>äº”ã€MCPæ™®åŠçªç ´ä¼ ç»ŸAgentå­˜åœ¨çš„é—®é¢˜ï¼Œå¢å¼ºAgentä¸å·¥å…·é—´çš„äº’è”äº’é€šèƒ½åŠ›</strong></p>
<p>æ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼ˆModel Context Protocolï¼ŒMCPï¼‰ï¼Œæ˜¯ç”±Anthropicæ¨å‡ºçš„å¼€æºåè®®ï¼Œæ—¨åœ¨å®ç°å¤§è¯­è¨€æ¨¡å‹/Agentä¸å¤–éƒ¨æ•°æ®æºå’Œå·¥å…·çš„é›†æˆã€‚</p>
<p>ä¸ä¼ ç»Ÿçš„å·¥å…·è°ƒç”¨æ–¹å¼ï¼ˆå¦‚Function Callingã€A2Aç­‰ï¼‰ç›¸æ¯”ï¼ŒMCPå…·å¤‡é€šç”¨æ€§å¼ºã€äº’æ“ä½œæ€§é«˜ã€ä½¿ç”¨é—¨æ§›ä½ç­‰çªå‡ºä¼˜åŠ¿ï¼Œé€šè¿‡æä¾›å¼€æ”¾ç»Ÿä¸€çš„é€šä¿¡æ ‡å‡†ï¼Œæœ‰æ•ˆè§£å†³äº†Agentä¸å¤–éƒ¨ç¯å¢ƒäº¤äº’è¿‡ç¨‹ä¸­å­˜åœ¨çš„ç”Ÿæ€ç¢ç‰‡åŒ–å’Œé›†æˆæˆæœ¬é«˜æ˜‚ç­‰é—®é¢˜ã€‚</p>
<p>MCPçš„å¹¿æ³›åº”ç”¨å°†æ˜¾è‘—é™ä½ç³»ç»Ÿé›†æˆå¤æ‚åº¦ï¼Œå¢å¼ºAgentä¸å·¥å…·ä¹‹é—´çš„äº’è”äº’é€šèƒ½åŠ›ï¼Œå½¢æˆæ›´åŠ ç¹è£ã€å¼€æ”¾å’ŒååŒçš„Agentç”Ÿæ€ç³»ç»Ÿã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2e67baf646b24abbb20d56824c7d27c6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=bD2keys6waM%2FsjZJPS4xR31pyPk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23047df68e304e7fbb2b6515b957d446~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=piu2CF%2BFcMJTYbCD87AlaERQZ74%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>å…­ã€ä¸æ˜¯æ‰€æœ‰AIæ¨¡å‹/äº§å“éƒ½æ˜¯Agentï¼Œå…³é”®åœ¨äº"å·¥å…·è°ƒç”¨èƒ½åŠ›"</strong></p>
<p>å¤§å¤šæ•°AIäº§å“ï¼ˆå¦‚æ–‡æœ¬ç”Ÿæˆã€å›¾åƒç”Ÿæˆæ¨¡å‹ï¼‰æ˜¯è¢«åŠ¨å“åº”çš„â€œå¤§è„‘â€ï¼Œæ˜¯å…·å¤‡â€œç†è§£ä¸ç”Ÿæˆâ€èƒ½åŠ›çš„æŠ€æœ¯åº•åº§ï¼Œä»…èƒ½å®Œæˆæ–‡æœ¬åˆ›ä½œã€ä¿¡æ¯é—®ç­”ç­‰å•ä¸€ã€å°é—­çš„è¾“å‡ºä»»åŠ¡ï¼Œå®ƒä»¬æ¥å—è¾“å…¥å¹¶äº§ç”Ÿè¾“å‡ºï¼Œä½†æ— æ³•å½±å“å¤–éƒ¨ä¸–ç•Œã€‚</p>
<p>è€ŒAI Agentåˆ™åŒæ—¶å…·å¤‡â€œæ„ŸçŸ¥èƒ½åŠ›ã€è®°å¿†èƒ½åŠ›ã€å·¥å…·è°ƒç”¨èƒ½åŠ›ã€è§„åˆ’èƒ½åŠ›â€å››å¤§èƒ½åŠ›ï¼Œå…¶æ ¸å¿ƒå·®å¼‚åœ¨äºæ˜¯å¦å…·å¤‡å·¥å…·è°ƒç”¨ï¼ˆTool Useï¼‰èƒ½åŠ›ï¼Œå³ä¸»åŠ¨è°ƒç”¨å¤–éƒ¨å·¥å…·ä»¥æ‹“å±•èƒ½åŠ›è¾¹ç•Œã€è¾¾æˆå¤æ‚ç›®æ ‡çš„èƒ½åŠ›ï¼Œå®ç°äº†ä»â€œè§£ç­”é—®é¢˜â€åˆ°â€œè§£å†³é—®é¢˜â€çš„è·¨è¶Šã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d752ecf61e464397bd20684ab4e8b950~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=7cfA5jnSwpnqYjAfKVVggKm2GlM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a17d18fe66bb4565809dc664069d57b9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=rGmojU%2BiwamxlEOpMdmBkO9t5Gs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>ä¸ƒã€AI Agentåº”ç”¨åœºæ™¯æ·±åº¦åˆ†åŒ–ï¼šæ™ºèƒ½å®¢æœæ¸—é€ç‡æœ€é«˜ï¼Œæ•°æ®åˆ†ææˆä¸ºç¬¬äºŒå¢é•¿æ›²çº¿</strong></p>
<p>æ ¹æ®ç¬¬ä¸€æ–°å£°æ™ºåº“å¯¹äº’è”ç½‘ã€é‡‘èã€é€šä¿¡ã€åŒ»ç–—ã€å·¥ä¸š/åˆ¶é€ ã€æ•™è‚²å…­å¤§è¡Œä¸šè¿‘70å®¶ä¼ä¸šè°ƒç ”åˆ†æï¼Œå°†å…­å¤§è¡Œä¸šä¸‹AI Agentåº”ç”¨çš„36ä¸ªç»†åˆ†åœºæ™¯æŒ‰â€œæ ¸å¿ƒåŠŸèƒ½ä¼˜å…ˆçº§â€ï¼ˆå³åœºæ™¯æœ€æ ¸å¿ƒçš„ç›®æ ‡æ˜¯å“ªç±»åŠŸèƒ½ï¼‰åˆ’åˆ†ä¸ºå®¢æœã€æ•°æ®åˆ†æã€è¥é”€ ã€ç ”å‘ã€çŸ¥è¯†åŠ©æ‰‹äº”å¤§ç±»ã€‚</p>
<p>AI Agentçš„åº”ç”¨å‘ˆç°åœºæ™¯æ·±åº¦åˆ†åŒ–çš„æ˜¾è‘—ç‰¹å¾ï¼šæ™ºèƒ½å®¢æœä»¥è¶…70%çš„æ¸—é€ç‡æˆä¸ºæˆç†Ÿæ ‡æ†ï¼›æ•°æ®åˆ†æåœºæ™¯æ¸—é€ç‡è¾¾60%ç´§éšå…¶åï¼Œæˆä¸ºä¸šåŠ¡å†³ç­–çš„æ ¸å¿ƒæ”¯æ’‘ï¼›ç ”å‘ã€è¥é”€ã€çŸ¥è¯†åŠ©æ‰‹åœºæ™¯å­•è‚²ç€ä¸‹ä¸€è½®çˆ†å‘ç‚¹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6580006ecebf419ca4a5d63b15fd172b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=7KeCRYBk%2B6puMbvup7K39IqRams%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e6f7d525657a4b178c26d4ef356cb64f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=J%2F8vinEAxFhzzPfv4kFZmTfHZEY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a1061b5009e84b8ea4094b30b400f9e1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=cKPLSFag6yMyQWUGigFQtZC7gvA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6d70f4dd6db14638a289f84788dcf53f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=vmDYZ2ynebgvfH%2Btwf9xyB29qIY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>å…«ã€å‚ç›´AI Agenté‡æ„SaaSè¡Œä¸šï¼šä»æ•ˆç‡æå‡åˆ°ä»·å€¼åˆ›é€ </strong></p>
<p>AI Agentå¯¹SaaSè¡Œä¸šçš„é‡æ„æ˜¯ä¸€åœºä»åº•å±‚é€»è¾‘åˆ°ç”¨æˆ·ä½“éªŒçš„èŒƒå¼é©å‘½ï¼Œå½»åº•é¢ è¦†äº†ä¼ ç»Ÿè½¯ä»¶"äººæ“ä½œå·¥å…·"çš„åä½œæ¨¡å¼ã€‚</p>
<p>è¿™ç§é‡æ„ä¸æ˜¯ç®€å•çš„åŠŸèƒ½å¢å¼ºï¼Œè€Œæ˜¯å½»åº•æ”¹å˜äº†äººæœºåä½œçš„æœ¬è´¨ï¼šç”¨æˆ·ä»æ“ä½œè€…å‡çº§ä¸ºæŒ‡æŒ¥å®˜ï¼Œè½¯ä»¶ä»æ‰§è¡Œè€…èœ•å˜ä¸ºåä½œè€…ã€‚</p>
<p>è¿™ç§é‡æ„æ¨åŠ¨SaaSä»·å€¼ä»"æå‡æ•ˆç‡"è·ƒè¿è‡³"åˆ›é€ æ”¶ç›Š"â€”â€”Salesforceé›†æˆAgentåé”€å”®çº¿ç´¢è½¬åŒ–å‘¨æœŸç¼©çŸ­40%ï¼Œæ ‡å¿—ç€è½¯ä»¶æ­£å¼è¿›å…¥"ç›®æ ‡é©±åŠ¨ã€äººæœºå…±åˆ›"çš„æ–°çºªå…ƒã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/54d1d4324a404ccd90172effa6d28b52~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=nALl3nxMFPPIqvmFd0Nttlijaj8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>ä¹ã€AI Agentä¼˜ç§€å‚å•†æ¡ˆä¾‹åˆ†æ</strong></p>
<p><strong>1.é˜¿é‡Œäº‘ï¼šé€šä¹‰åƒé—®Agentï¼Œæ€æ·±ã€è¡Œé€Ÿï¼Œæ»¡è¶³å¤šåœºæ™¯AIåº”ç”¨æ„å»ºéœ€æ±‚</strong></p>
<p>é˜¿é‡Œäº‘é€šä¹‰åƒé—®Agentç³»ç»Ÿå±•ç°äº†ä¼ä¸šçº§é€šç”¨Agentçš„å…¸å‹å®è·µï¼Œé€šè¿‡å¤§æ¨¡å‹ä¸å·¥å…·è°ƒç”¨èåˆï¼Œå®ç°å¤æ‚ä»»åŠ¡çš„è‡ªè§„åˆ’ä¸æ‰§è¡Œã€‚</p>
<p>é€šä¹‰åƒé—®Agentç³»ç»Ÿå®šä½ä¼ä¸šçº§æ™ºèƒ½åä½œä¸­æ¢ï¼Œå…·å¤‡å¤šæ™ºèƒ½ä½“åä½œä¸è®°å¿†è¿›åŒ–èƒ½åŠ›ï¼Œæ”¯æŒä¼ä¸šé€‚é…ä¸šåŠ¡æµç¨‹ã€‚</p>
<p>æ ¸å¿ƒä¼˜åŠ¿åœ¨äºæ·±åº¦èåˆé˜¿é‡Œç”Ÿæ€å·¥å…·ä¸ä¼ä¸šä¸šåŠ¡ç³»ç»Ÿï¼Œæ”¯æŒç§æœ‰åŒ–éƒ¨ç½²ã€‚</p>
<p>å•†ä¸šæ¨¡å¼ä»¥â€œåŸºç¡€æœåŠ¡è´¹ + å®šåˆ¶åŒ–å¼€å‘è´¹â€ä¸ºä¸»ï¼Œå·²åœ¨é›¶å”®ã€ç‰©æµã€é‡‘èç­‰é¢†åŸŸè½åœ°ã€‚</p>
<p>é˜¿é‡Œäº‘é€šä¹‰åƒé—®Agenté€šè¿‡ç«¯åˆ°ç«¯ä»»åŠ¡è‡ªåŠ¨åŒ–ï¼Œå¸®åŠ©ä¼ä¸šé™ä½è¿è¥æˆæœ¬ï¼Œç›®å‰æœåŠ¡è¶…2000å®¶ä¼ä¸šï¼Œæ˜¯é˜¿é‡Œæ¨è¿›äº§ä¸šAIåŒ–çš„å…³é”®è½½ä½“ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cdda91505147487fa2a16ad0beb96b8d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=brjZcW6DaghCeCF%2BOdoQnKjtnVY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ba1bf49d85842f483a08f94b6a968e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=ovpGV9h1GRzho3wBF4EyA6XTuRw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>2.è…¾è®¯äº‘ï¼šæ™ºèƒ½ä½“å¼€å‘å¹³å°åŠ©åŠ›å¤šè¡Œä¸šã€å¤šåœºæ™¯æ™ºèƒ½ä½“æ­å»º</strong></p>
<p>è…¾è®¯äº‘æ™ºèƒ½ä½“å¼€å‘å¹³å°ï¼ˆTencent Cloud Agent Development Platformï¼Œç®€ç§°Tencent Cloud ADPï¼‰æ˜¯åŸºäºå¤§æ¨¡å‹æŠ€æœ¯æ„å»ºçš„ä¸€ç«™å¼æ™ºèƒ½ä½“å¼€å‘ä¸éƒ¨ç½²å¹³å°ã€‚</p>
<p>è¯¥å¹³å°æ•´åˆäº†å¤šç§å…ˆè¿›çš„äººå·¥æ™ºèƒ½æ¡†æ¶ä¸å·¥å…·ï¼Œå¸®åŠ©ä¼ä¸šé«˜æ•ˆã€çµæ´»åœ°æ‰“é€ è´´åˆä¸šåŠ¡åœºæ™¯çš„æ™ºèƒ½ä½“åº”ç”¨ï¼Œå®ç°å¯¹å†…å¯¹å¤–æœåŠ¡çš„æ™ºèƒ½åŒ–å‡çº§ã€‚</p>
<p>ä¾æ‰˜è…¾è®¯äº‘é›„åšçš„å¤§æ¨¡å‹åŸºç¡€ä¸è‡ªç ”æŠ€æœ¯ï¼ŒADPæä¾›åŒ…æ‹¬ LLM + RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰ã€Workflowï¼ˆå·¥ä½œæµå¼•æ“ï¼‰ã€ Multi-agentï¼ˆå¤šæ™ºèƒ½ä½“ååŒï¼‰ç­‰æ ¸å¿ƒå¼€å‘æ¡†æ¶ï¼Œæœ‰æ•ˆé™ä½å¼€å‘é—¨æ§›ï¼Œæå‡æ™ºèƒ½åº”ç”¨çš„æ„å»ºæ•ˆç‡ä¸è´¨é‡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4eaf191a27e6407fb254c9efc34e8ce4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=spUNQ6oSpZGkX2mgEic4dRaryko%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae191e6cbc8c450280adee9a6e024ef6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=q7lcfY4wOSOrBzDuVsIzxxwTKnw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>3.æ™ºè°±ï¼šAutoGLMæ²‰æ€ï¼Œæ¨åŠ¨æ™ºèƒ½ä½“è¿›å…¥â€œè¾¹æƒ³è¾¹å¹²â€çš„é˜¶æ®µ</strong></p>
<p>æ™ºè°±å‘å¸ƒçš„AutoGLMæ²‰æ€æ˜¯å…¨çƒé¦–ä¸ªèƒ½æ“ä½œæ‰‹æœºå’Œç”µè„‘çš„é€šç”¨Agentï¼Œç”±æ™ºè°±è‡ªç ”çš„çº¯å›½äº§æ¨¡å‹GLM-4.5ä¸GLM-4.5Vé©±åŠ¨ï¼Œæ”¯æŒå¤æ‚ä»»åŠ¡é“¾æ‰§è¡Œã€å¤šè½®å¯¹è¯ã€å·¥å…·è°ƒç”¨ã€çŸ¥è¯†åº“å¢å¼ºç­‰é«˜çº§åŠŸèƒ½ï¼Œåœ¨ç›¸å…³åŸºå‡†æµ‹è¯•ä¸­æ€§èƒ½è¡¨ç°å‡ºè‰² ã€‚</p>
<p>å…¶æœ€å¤§äº®ç‚¹æ˜¯èƒ½æˆä¸ºç”¨æˆ·çš„â€œæ‰§è¡Œå‹åŠ©æ‰‹â€ï¼Œåªéœ€ç”¨æˆ·ä¸€å¥è¯ï¼Œå®ƒå°±èƒ½æ“ä½œæ‰‹æœºã€ç”µè„‘ï¼Œåœ¨40å¤šä¸ªé«˜é¢‘æ‰‹æœºåº”ç”¨åŠç”µè„‘è½¯ä»¶ä¸­æ— ç¼åˆ‡æ¢ï¼Œå®Œæˆå¤æ‚ä»»åŠ¡ã€‚</p>
<p>æ— è®ºæ˜¯ç”¨äºä¼ä¸šçº§çš„ä¸šåŠ¡èµ‹èƒ½ã€å†…å®¹åˆ›ä½œï¼Œè¿˜æ˜¯ä¸ªäººçš„å­¦ä¹ å’Œæ•ˆç‡å·¥å…·ï¼ŒAutoGLMéƒ½æä¾›äº†ä¸€ä¸ªé«˜æ•ˆä¸”å¯é çš„æ™ºèƒ½åŒ–è§£å†³æ–¹æ¡ˆã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/44735b6752be4bdeb1d493e3af0b9bc8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=p5NRtiNnPfuW28%2F2ganGtO1i0bo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16829122b0584f4fb1b330efe571de6a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=PL75rybH%2FgAul%2FnAP16Isc%2FmT98%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>åã€è¶‹åŠ¿ä¸å±•æœ›</strong></p>
<p><strong>1.AIæ–°å‹ç”Ÿäº§åŠ›ï¼šä»"AIè¾…åŠ©äººç±»(Copilot)"åˆ°"AIè‡ªä¸»æœåŠ¡(Autopilot)"</strong></p>
<p>AI Agentä½œä¸ºâ€œæ–°å‹ç”Ÿäº§åŠ›â€çš„æ ¸å¿ƒè½½ä½“ ï¼Œæ­£åœ¨å°†AIåº”ç”¨ä»â€œCopilotâ€ï¼ˆè¾…åŠ©è€…ï¼‰æ¨å‘â€œAutopilotâ€ï¼ˆè‡ªä¸»æœåŠ¡è€…ï¼‰çš„æ–°é«˜åº¦ã€‚</p>
<p>è¿™ç§ä»â€œè¾…åŠ©â€åˆ°â€œè‡ªä¸»â€çš„è·ƒè¿ï¼Œä¸ä»…ä»…æ˜¯æ•ˆç‡çš„è¿›ä¸€æ­¥æå‡ï¼Œæ›´é¢„ç¤ºç€æœªæ¥å·¥ä½œæ¨¡å¼å’ŒæœåŠ¡å½¢æ€çš„æ ¹æœ¬æ€§é‡å¡‘â€”â€”AIå°†ä»â€œææ•ˆå·¥å…·â€é€æ­¥è¿›åŒ–ä¸ºèƒ½ä¸»åŠ¨æ€è€ƒã€å†³ç­–å¹¶è§£å†³é—®é¢˜çš„â€œæ–°å‹ç”Ÿäº§åŠ›â€ã€‚</p>
<p>æœªæ¥éšç€æŠ€æœ¯çš„æˆç†Ÿå’Œåº”ç”¨åœºæ™¯çš„æ·±åŒ–ï¼ŒAIçš„è‡ªä¸»æœåŠ¡èƒ½åŠ›å°†æ›´å¹¿æ³›åœ°æ¸—é€åˆ°å„è¡Œå„ä¸šçš„æ ¸å¿ƒç¯èŠ‚ï¼Œæ·±åˆ»æ”¹å˜ä»·å€¼é“¾æ„æˆï¼Œå¹¶æœ€ç»ˆé‡æ–°å®šä¹‰äººæœºåä½œçš„è¾¹ç•Œä¸æ¨¡å¼ï¼Œå¼€å¯æ™ºèƒ½ç»æµçš„æ–°ç¯‡ç« ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ca7bbc70835440c1ac24dfffeac33014~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=RNKQLA2f4BSm7o%2FBmcZi8zY%2F0h0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>2.Agent+æœºå™¨äººï¼šä¸ºå…·èº«æ™ºèƒ½èµ‹äºˆâ€œå¤§è„‘â€çš„å…³é”®ä»·å€¼</strong></p>
<p>å…·èº«æ™ºèƒ½ï¼ˆEmbodied Intelligenceï¼‰é€šè¿‡å°†æ™ºèƒ½ä½“ï¼ˆAgentï¼‰ä¸ç‰©ç†å®ä½“ç»“åˆï¼Œå®ç°äº†äººå·¥æ™ºèƒ½ä»è™šæ‹Ÿä¸–ç•Œå‘ç‰©ç†ä¸–ç•Œçš„å»¶ä¼¸ã€‚</p>
<p>å¤§æ¨¡å‹èµ‹äºˆçš„è®¤çŸ¥ã€æ¨ç†èƒ½åŠ›åµŒå…¥æœºå™¨äººç¡¬ä»¶åï¼Œä½¿å…¶åœ¨æ„ŸçŸ¥äº¤äº’ã€ä»»åŠ¡æ‰§è¡Œä¸ååŒè¿›åŒ–å±‚é¢å®ç°çªç ´ï¼Œä¸ºæœºå™¨äººé¢†åŸŸå¼€è¾Ÿå…¨æ–°å¸‚åœºç©ºé—´ã€‚</p>
<p>è¿™ä¸€ç»“åˆä¹Ÿæ¨åŠ¨æ™ºèƒ½ä½“ä»å•ä¸€åŠŸèƒ½æ‰§è¡Œå‘å…¨åœºæ™¯è‡ªä¸»å†³ç­–è·¨è¶Šå¼å‡çº§ã€‚éšç€å…·èº«æ™ºèƒ½å‘å±•ï¼Œâ€œæœºå™¨äºº+Agentâ€å°†é€æ­¥æ¶ˆèç‰©ç†ä¸æ•°å­—ä¸–ç•Œçš„ç•Œé™ï¼Œæˆä¸ºé‡æ„ç”Ÿäº§åŠ›ç½‘ç»œçš„è¶…çº§èŠ‚ç‚¹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/49b312fe02e3469a8a924aee8dbb1727~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=mEQz%2FudaRrBSYhVvTvw1C0aC2oA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/13d931d77cfb4317993775429944d332~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=VupORBxJhVf54YR5FqcOws7Gc44%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>3.é€šç”¨Agentæµé‡å…¥å£ï¼šé¢ è¦†ä¼ ç»Ÿæœç´¢å¼•æ“</strong></p>
<p>å‚ç›´Agenté‡æ„ä¸šåŠ¡æ¨¡å¼ï¼Œé€šç”¨Agenté‡æ„æµé‡æ¨¡å¼ã€‚AI Agentå¯¹ç°æœ‰äº’è”ç½‘æµé‡å…¥å£çš„å½±å“æ˜¯æ·±è¿œä¸”é¢ è¦†æ€§çš„ï¼šæœªæ¥ï¼Œäº’è”ç½‘æµé‡å…¥å£å¯èƒ½å‘å°‘æ•°é€šç”¨Agenté›†ä¸­ï¼Œä»·å€¼é“¾é¢ä¸´é‡æ„ã€‚</p>
<p>ä¼ ç»Ÿæµé‡åˆ†å‘å…¥å£ï¼ˆæœç´¢å¼•æ“ã€åº”ç”¨å•†åº—ï¼‰å—åˆ°ä¸¥å³»æŒ‘æˆ˜ï¼Œç”¨æˆ·ä¿¡æ¯è·å–çš„æ–¹å¼å°†è¢«é¢ è¦†ï¼Œä¼ ç»Ÿæœç´¢å¼•æ“æµé‡å…¥å£çš„ä»·å€¼ä»â€œæµé‡åˆ†å‘â€è½¬å‘â€œç›´æ¥æ»¡è¶³éœ€æ±‚â€ï¼Œèƒ½ç›´æ¥å®Œæˆä»»åŠ¡çš„Agentå¹³å°å°†å æ®æ›´å¤§ä»·å€¼ã€‚</p>
<p>æ®ç¬¬ä¸€æ–°å£°æ™ºåº“ç ”ç©¶é¢„æµ‹ï¼Œå›´ç»•â€œé€šç”¨å…¥å£çº§Agentâ€çš„å¤§æˆ˜å°†åœ¨2025å¹´åº•å¼€å§‹é€æ¸æ‹‰å¼€å¸·å¹•ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9210e28f24cc41aa90bafeab6e86b7a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=oiWBkxhlSW%2FEu0vOiEWrak40zqQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b81cb574931c4654a5c0886f5674633b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056594&amp;x-signature=Pvm5E8sRZQX1U0qEWokyVxLh%2FOc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>æ›´å¤šAIå¤§æ¨¡å‹å­¦ä¹ è§†é¢‘åŠèµ„æºï¼Œéƒ½åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fyuan.zhipoai.cn%2F" target="_blank" title="https://yuan.zhipoai.cn/" ref="nofollow noopener noreferrer">æ™ºæ³ŠAI</a>ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android UI çº¿ç¨‹ä¸ä¸€å®šæ˜¯ä¸»çº¿ç¨‹]]></title>    <link>https://juejin.cn/post/7573776814948073491</link>    <guid>https://juejin.cn/post/7573776814948073491</guid>    <pubDate>2025-11-18T07:47:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573776814948073491" data-draft-id="7573855399716601875" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android UI çº¿ç¨‹ä¸ä¸€å®šæ˜¯ä¸»çº¿ç¨‹"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2025-11-18T07:47:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‡ªåŠ¨åŒ–BUGåˆ¶é€ å™¨"/> <meta itemprop="url" content="https://juejin.cn/user/4072246798985848"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android UI çº¿ç¨‹ä¸ä¸€å®šæ˜¯ä¸»çº¿ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4072246798985848/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‡ªåŠ¨åŒ–BUGåˆ¶é€ å™¨
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T07:47:58.000Z" title="Tue Nov 18 2025 07:47:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨é˜…è¯»å®˜æ–¹çº¿ç¨‹æ¦‚è¿°æ–‡æ¡£æ—¶ï¼Œæœ‰ä»¥ä¸‹æè¿°ï¼š</p>
<h4 data-id="heading-0">çº¿ç¨‹æ³¨è§£</h4>
<p>çº¿ç¨‹æ³¨è§£å¯ä»¥æ£€æŸ¥æŸä¸ªæ–¹æ³•æ˜¯å¦ä»ç‰¹å®šç±»å‹çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fguide%2Fcomponents%2Fprocesses-and-threads%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/guide/components/processes-and-threads?hl=zh-cn" ref="nofollow noopener noreferrer">çº¿ç¨‹</a>è°ƒç”¨ã€‚æ”¯æŒä»¥ä¸‹çº¿ç¨‹æ³¨è§£ï¼š</p>
<ul>
<li><code>@MainThread</code></li>
<li><code>@UiThread</code></li>
<li><code>@WorkerThread</code></li>
<li><code>@BinderThread</code></li>
<li><code>@AnyThread</code></li>
</ul>
<p>æ„å»ºå·¥å…·ä¼šå°† <code>@MainThread</code> å’Œ <code>@UiThread</code> æ³¨è§£è§†ä¸ºå¯äº’æ¢ï¼Œå› æ­¤æ‚¨å¯ä»¥ä» <code>@MainThread</code> æ–¹æ³•è°ƒç”¨ <code>@UiThread</code> æ–¹æ³•ï¼Œåä¹‹äº¦ç„¶ã€‚ä¸è¿‡ï¼Œ<strong>å¦‚æœç³»ç»Ÿåº”ç”¨æœ‰å¤šä¸ªè§†å›¾åœ¨ä¸åŒçš„çº¿ç¨‹ä¸Šï¼Œé‚£ä¹ˆç•Œé¢çº¿ç¨‹å¯èƒ½ä¼šä¸ä¸»çº¿ç¨‹ä¸åŒã€‚</strong> å› æ­¤ï¼Œæ‚¨åº”ä½¿ç”¨ <code>@UiThread</code> ä¸ºä¸åº”ç”¨çš„è§†å›¾å±‚æ¬¡ç»“æ„å…³è”çš„æ–¹æ³•æ·»åŠ æ³¨è§£ï¼Œå¹¶ä½¿ç”¨ <code>@MainThread</code> ä»…ä¸ºä¸åº”ç”¨ç”Ÿå‘½å‘¨æœŸå…³è”çš„æ–¹æ³•æ·»åŠ æ³¨è§£ã€‚</p>
<p>å¦‚æœæŸä¸ªç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•å…·æœ‰ç›¸åŒçš„çº¿ç¨‹è¦æ±‚ï¼Œæ‚¨å¯ä¸ºè¯¥ç±»æ·»åŠ ä¸€ä¸ªçº¿ç¨‹æ³¨è§£ï¼Œä»¥éªŒè¯è¯¥ç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•æ˜¯å¦ä»åŒä¸€ç±»å‹çš„çº¿ç¨‹è°ƒç”¨ã€‚</p>
<p>çº¿ç¨‹æ³¨è§£çš„ä¸€ä¸ªå¸¸è§ç”¨é€”æ˜¯éªŒè¯æ³¨è§£ä¸º <code>@WorkerThread</code> çš„æ–¹æ³•æˆ–ç±»ï¼Œå¹¶ä¸”æ­¤ç±»æ³¨è§£ä»…ä¼šé€šè¿‡ç›¸åº”çš„åå°çº¿ç¨‹è°ƒç”¨ã€‚</p>
<h3 data-id="heading-1">ä¸ºä»€ä¹ˆ UI çº¿ç¨‹ä¸ä¸€å®šæ˜¯ä¸»çº¿ç¨‹ï¼Ÿ</h3>
<p>åœ¨ Android ä¸­ï¼Œé€šå¸¸æƒ…å†µä¸‹<strong>ä¸»çº¿ç¨‹ï¼ˆMain Threadï¼‰</strong> å’Œ<strong>UI çº¿ç¨‹ï¼ˆUI Threadï¼‰</strong> æ˜¯åŒä¸€ä¸ªçº¿ç¨‹ â€”â€” åº”ç”¨å¯åŠ¨æ—¶åˆ›å»ºçš„ä¸»çº¿ç¨‹è´Ÿè´£å¤„ç† UI ç»˜åˆ¶ã€ç”¨æˆ·äº¤äº’ç­‰æ“ä½œï¼Œå› æ­¤ä¸»çº¿ç¨‹ä¹Ÿè¢«ç§°ä¸º UI çº¿ç¨‹ã€‚ä½†åœ¨<strong>ç³»ç»Ÿåº”ç”¨</strong>æˆ–ç‰¹æ®Šåœºæ™¯ä¸­ï¼Œä¸¤è€…å¯èƒ½åˆ†ç¦»ï¼Œæ ¸å¿ƒåŸå› æ˜¯ï¼š<strong>UI çº¿ç¨‹çš„æœ¬è´¨æ˜¯ â€œè´Ÿè´£ç®¡ç†æŸä¸ªè§†å›¾å±‚æ¬¡ï¼ˆView Hierarchyï¼‰ç»˜åˆ¶å’Œäº¤äº’çš„çº¿ç¨‹â€ï¼Œè€Œä¸»çº¿ç¨‹æ˜¯ â€œåº”ç”¨è¿›ç¨‹å¯åŠ¨æ—¶åˆ›å»ºçš„ä¸»è¦çº¿ç¨‹â€</strong> ï¼Œå½“ä¸€ä¸ªåº”ç”¨éœ€è¦ç®¡ç†å¤šä¸ªç‹¬ç«‹çš„è§†å›¾å±‚æ¬¡ä¸”å¸Œæœ›å®ƒä»¬ä¸äº’ç›¸é˜»å¡æ—¶ï¼Œå¯èƒ½ä¼šä¸ºä¸åŒçš„è§†å›¾å±‚æ¬¡åˆ†é…ä¸åŒçš„çº¿ç¨‹ï¼Œè¿™äº›çº¿ç¨‹å°±æ˜¯å„è‡ªè§†å›¾çš„ â€œUI çº¿ç¨‹â€ï¼Œä½†å¹¶éåº”ç”¨çš„ä¸»çº¿ç¨‹ã€‚</p>
<h3 data-id="heading-2">ä¸¾ä¾‹è¯´æ˜ï¼šç³»ç»Ÿçº§å¤šçª—å£åº”ç”¨çš„åœºæ™¯</h3>
<p>å‡è®¾ Android ç³»ç»Ÿä¸­æœ‰ä¸€ä¸ªè´Ÿè´£ç®¡ç†å¤šä»»åŠ¡çª—å£çš„ç³»ç»Ÿåº”ç”¨ï¼ˆå¦‚ç³»ç»Ÿçš„ â€œåˆ†å±ç®¡ç†å™¨â€ï¼‰ï¼Œå…¶åŠŸèƒ½æ˜¯åŒæ—¶æ˜¾ç¤ºå¤šä¸ªç‹¬ç«‹çš„åº”ç”¨çª—å£ï¼ˆå¦‚å·¦ä¾§ä¸€ä¸ªè§†é¢‘çª—å£ã€å³ä¾§ä¸€ä¸ªæ–‡æ¡£çª—å£ï¼‰ï¼Œå¹¶å…è®¸ç”¨æˆ·åˆ†åˆ«ä¸ä¸¤ä¸ªçª—å£äº¤äº’ã€‚</p>
<ul>
<li>
<p>è¯¥ç³»ç»Ÿåº”ç”¨çš„<strong>ä¸»çº¿ç¨‹ï¼ˆMain Threadï¼‰</strong> è´Ÿè´£å¤„ç†å…¨å±€é€»è¾‘ï¼šå¦‚çª—å£çš„åˆ›å»º / é”€æ¯ã€ä½ç½®è°ƒæ•´ã€ç³»ç»Ÿäº‹ä»¶ï¼ˆå¦‚å±å¹•æ—‹è½¬ï¼‰çš„åˆ†å‘ç­‰ï¼Œè¿™æ˜¯åº”ç”¨è¿›ç¨‹å¯åŠ¨æ—¶çš„æ ¸å¿ƒçº¿ç¨‹ã€‚</p>
</li>
<li>
<p>ç”±äºä¸¤ä¸ªçª—å£éœ€è¦é«˜é¢‘åˆ·æ–°ï¼ˆå¦‚è§†é¢‘çª—å£æ¯ç§’ 30 å¸§ç»˜åˆ¶ï¼‰ï¼Œå¦‚æœéƒ½ç”±ä¸»çº¿ç¨‹å¤„ç†ï¼Œå¯èƒ½å¯¼è‡´ä¸»çº¿ç¨‹é˜»å¡ï¼ˆä¾‹å¦‚è§†é¢‘ç»˜åˆ¶è€—æ—¶å½±å“æ–‡æ¡£çª—å£çš„è¾“å…¥å“åº”ï¼‰ã€‚å› æ­¤ï¼Œç³»ç»Ÿåº”ç”¨ä¸ºæ¯ä¸ªçª—å£çš„è§†å›¾å±‚æ¬¡ï¼ˆView Treeï¼‰å•ç‹¬åˆ›å»ºäº†<strong>ä¸¤ä¸ªç‹¬ç«‹çš„åå°çº¿ç¨‹</strong>ï¼š</p>
<ul>
<li>çº¿ç¨‹ Aï¼šä¸“é—¨è´Ÿè´£å·¦ä¾§è§†é¢‘çª—å£çš„è§†å›¾ç»˜åˆ¶ï¼ˆå¦‚è§£ç åçš„å¸§æ¸²æŸ“ï¼‰ã€è§¦æ‘¸äº‹ä»¶å¤„ç†ï¼ˆå¦‚æ‹–åŠ¨è¿›åº¦æ¡ï¼‰ï¼Œå®ƒæ˜¯<strong>è§†é¢‘çª—å£çš„ UI çº¿ç¨‹</strong>ã€‚</li>
<li>çº¿ç¨‹ Bï¼šä¸“é—¨è´Ÿè´£å³ä¾§æ–‡æ¡£çª—å£çš„è§†å›¾ç»˜åˆ¶ï¼ˆå¦‚æ–‡å­—æ»šåŠ¨ï¼‰ã€è¾“å…¥äº‹ä»¶å¤„ç†ï¼ˆå¦‚é”®ç›˜è¾“å…¥ï¼‰ï¼Œå®ƒæ˜¯<strong>æ–‡æ¡£çª—å£çš„ UI çº¿ç¨‹</strong>ã€‚</li>
</ul>
</li>
</ul>
<p>æ­¤æ—¶ï¼Œçº¿ç¨‹ A å’Œçº¿ç¨‹ B éƒ½æ˜¯å„è‡ªè§†å›¾çš„ â€œUI çº¿ç¨‹â€ï¼ˆå› ä¸ºå®ƒä»¬ç›´æ¥ç®¡ç†è§†å›¾çš„ç»˜åˆ¶å’Œäº¤äº’ï¼‰ï¼Œä½†å®ƒä»¬éƒ½ä¸æ˜¯ç³»ç»Ÿåº”ç”¨çš„ â€œä¸»çº¿ç¨‹â€ï¼ˆä¸»çº¿ç¨‹åœ¨å¤„ç†å…¨å±€é€»è¾‘ï¼‰ã€‚å› æ­¤ï¼Œåœ¨è¿™ä¸ªåœºæ™¯ä¸­ï¼Œ<strong>UI çº¿ç¨‹ï¼ˆçº¿ç¨‹ Aã€Bï¼‰ä¸ä¸»çº¿ç¨‹ï¼ˆç³»ç»Ÿåº”ç”¨çš„æ ¸å¿ƒçº¿ç¨‹ï¼‰æ˜¯ä¸åŒçš„çº¿ç¨‹</strong>ã€‚</p>
<h3 data-id="heading-3">ä¸ºä»€ä¹ˆæ™®é€šåº”ç”¨ä¸­ä¸¤è€…é€šå¸¸ä¸€è‡´ï¼Ÿ</h3>
<p>æ™®é€šåº”ç”¨çš„è§†å›¾å±‚æ¬¡ï¼ˆå¦‚ Activity çš„å¸ƒå±€ï¼‰é»˜è®¤ç»‘å®šåˆ°ä¸»çº¿ç¨‹ï¼Œä¸” Android æ¡†æ¶å¯¹æ™®é€šåº”ç”¨çš„ UI æ“ä½œåšäº†ä¸¥æ ¼é™åˆ¶ï¼ˆå¦‚éä¸»çº¿ç¨‹æ“ä½œ UI ä¼šæŠ›å‡ºå¼‚å¸¸ï¼‰ï¼Œç›®çš„æ˜¯ç®€åŒ–å¼€å‘å¹¶é¿å…å¤šçº¿ç¨‹æ“ä½œ UI å¯¼è‡´çš„åŒæ­¥é—®é¢˜ã€‚è€Œç³»ç»Ÿåº”ç”¨ç”±äºåŠŸèƒ½å¤æ‚ï¼ˆå¦‚éœ€è¦ç®¡ç†å¤šä¸ªç‹¬ç«‹è§†å›¾ï¼‰ï¼Œå¯èƒ½é€šè¿‡åº•å±‚æœºåˆ¶ç»•è¿‡è¿™äº›é™åˆ¶ï¼Œä¸ºä¸åŒè§†å›¾åˆ†é…ç‹¬ç«‹çš„ UI çº¿ç¨‹ï¼Œå› æ­¤ä¼šå‡ºç° â€œUI çº¿ç¨‹â‰ ä¸»çº¿ç¨‹â€ çš„æƒ…å†µã€‚</p>
<p>ç»¼ä¸Šï¼Œâ€œUI çº¿ç¨‹â€ çš„å®šä¹‰ä¾èµ–äº â€œå“ªä¸ªçº¿ç¨‹åœ¨ç®¡ç†è§†å›¾çš„ç»˜åˆ¶å’Œäº¤äº’â€ï¼Œè€Œ â€œä¸»çº¿ç¨‹â€ æ˜¯åº”ç”¨è¿›ç¨‹çš„æ ¸å¿ƒçº¿ç¨‹ï¼Œä¸¤è€…åœ¨ç‰¹æ®Šåœºæ™¯ï¼ˆå¦‚ç³»ç»Ÿåº”ç”¨çš„å¤šè§†å›¾ç®¡ç†ï¼‰ä¸­å¯èƒ½åˆ†ç¦»ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€FAQã€‘HarmonyOS SDK é—­æºå¼€æ”¾èƒ½åŠ› â€” Notification Kit]]></title>    <link>https://juejin.cn/post/7573631442313838598</link>    <guid>https://juejin.cn/post/7573631442313838598</guid>    <pubDate>2025-11-18T07:40:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573631442313838598" data-draft-id="7573855399716503571" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€FAQã€‘HarmonyOS SDK é—­æºå¼€æ”¾èƒ½åŠ› â€” Notification Kit"/> <meta itemprop="keywords" content="HarmonyOS"/> <meta itemprop="datePublished" content="2025-11-18T07:40:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="HarmonyOS_SDK"/> <meta itemprop="url" content="https://juejin.cn/user/3245414492430023"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€FAQã€‘HarmonyOS SDK é—­æºå¼€æ”¾èƒ½åŠ› â€” Notification Kit
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3245414492430023/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    HarmonyOS_SDK
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T07:40:21.000Z" title="Tue Nov 18 2025 07:40:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>1.é—®é¢˜æè¿°ï¼š</strong></p>
<p>è·å–åº”ç”¨æ˜¯å¦å¼€å¯äº†å…è®¸é€šçŸ¥æƒé™åï¼Œå¦‚ä½•å¼•å¯¼è·³è½¬å¼€å¯æƒé™é€šçŸ¥çš„è®¾ç½®é¡µé¢ï¼Ÿ</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ol>
<li>é€šè¿‡isNotificationEnabledæ–¹æ³•æŸ¥è¯¢é€šçŸ¥æ˜¯å¦æˆæƒï¼Œå‚è€ƒisNotificationEnabledç”¨æ³•ã€‚</li>
</ol>
<p>2.è‹¥ç”³è¯·é€šçŸ¥æƒé™è¢«æ‹’ç»åï¼Œåç»­è°ƒç”¨requestEnableNotification()æ–¹æ³•ä¸å†å¼¹çª—ï¼ŒåŒæ—¶ä¼šè¿”å›é”™è¯¯ï¼Œé”™è¯¯ç æ˜¯1600004ã€‚å…·ä½“å‚è€ƒè¯·æ±‚é€šçŸ¥æˆæƒã€‚</p>
<p>3.å¦‚æœæƒ³äºŒæ¬¡æˆæƒï¼Œå¯ä»¥è°ƒç”¨openNotificationSettingsç”³è¯·æˆæƒï¼Œæ‹‰èµ·é€šçŸ¥ç®¡ç†å¼¹çª—æˆ–è€…å¼•å¯¼ç”¨æˆ·è·³è½¬åº”ç”¨è®¾ç½®é¡µé¢å¼€å¯æƒé™ã€‚</p>
<p>å®Œæ•´ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-ts" lang="ts">
<span class="hljs-keyword">import</span> { notificationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NotificationKit'</span>;

<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;

<span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;

<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Want</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;


<span class="hljs-meta">@Entry</span>

<span class="hljs-meta">@Component</span>

struct <span class="hljs-title class_">NotificationPage</span> {

  <span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {

    <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>;

    notificationManager.<span class="hljs-title function_">isNotificationEnabled</span>().<span class="hljs-title function_">then</span>((<span class="hljs-attr">data</span>: <span class="hljs-built_in">boolean</span>) =&amp;gt; {

      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"isNotificationEnabled success, data: "</span> + data);

      <span class="hljs-keyword">if</span> (!data) {

        <span class="hljs-keyword">let</span> requestEnableNotificationCallback = (<span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span>): <span class="hljs-built_in">void</span> =&amp;gt; {

          <span class="hljs-keyword">if</span> (err) {

            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`requestEnableNotification failed, code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);

          } <span class="hljs-keyword">else</span> {

            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`requestEnableNotification success`</span>);

          }

        };

        notificationManager.<span class="hljs-title function_">requestEnableNotification</span>(context, requestEnableNotificationCallback);

      }

    }).<span class="hljs-title function_">catch</span>((<span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span>) =&amp;gt; {

      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`isNotificationEnabled fail, code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);

    });

  }


  <span class="hljs-comment">// å‘å¸ƒåŸºæœ¬ç±»å‹é€šçŸ¥</span>

  <span class="hljs-title function_">publishBasicNotification</span>(<span class="hljs-params"/>) {


    <span class="hljs-keyword">let</span> <span class="hljs-attr">notificationRequest</span>: notificationManager.<span class="hljs-property">NotificationRequest</span> = {

      <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>,

      <span class="hljs-attr">notificationSlotType</span>: notificationManager.<span class="hljs-property">SlotType</span>.<span class="hljs-property">SOCIAL_COMMUNICATION</span>,

      <span class="hljs-attr">content</span>: {

        <span class="hljs-attr">notificationContentType</span>: notificationManager.<span class="hljs-property">ContentType</span>.<span class="hljs-property">NOTIFICATION_CONTENT_BASIC_TEXT</span>, <span class="hljs-comment">// æ™®é€šæ–‡æœ¬ç±»å‹é€šçŸ¥</span>

        <span class="hljs-attr">normal</span>: {

          <span class="hljs-attr">title</span>: <span class="hljs-string">'åŸºæœ¬å‹æ¶ˆæ¯é€šçŸ¥'</span>,

          <span class="hljs-attr">text</span>: <span class="hljs-string">'é€šçŸ¥å†…å®¹XXXXXXX'</span>,

          <span class="hljs-attr">additionalText</span>: <span class="hljs-string">'TextXXXXXXX'</span>,

        }

      }

    };


    notificationManager.<span class="hljs-title function_">publish</span>(notificationRequest, (<span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span>) =&amp;gt; {

      <span class="hljs-keyword">if</span> (err) {

        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to publish notification. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);

        <span class="hljs-keyword">return</span>;

      }

      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Succeeded in publishing notification.'</span>);

    });

    notificationManager.<span class="hljs-title function_">setBadgeNumber</span>(<span class="hljs-number">1</span>)

  }


  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {

    <span class="hljs-title class_">Column</span>() {

      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'åŸºæœ¬é€šçŸ¥'</span>)

        .<span class="hljs-title function_">onClick</span>(() =&amp;gt; {

          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">publishBasicNotification</span>()

        })

      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'äºŒæ¬¡æˆæƒ'</span>)

        .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">20</span> })

        .<span class="hljs-title function_">onClick</span>(() =&amp;gt; {

          <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>;

          notificationManager.<span class="hljs-title function_">openNotificationSettings</span>(context).<span class="hljs-title function_">then</span>(() =&amp;gt; {

            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`openNotificationSettings success`</span>);

          }).<span class="hljs-title function_">catch</span>((<span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span>) =&amp;gt; {

            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`openNotificationSettings failed, code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);

          });

        })

      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'ç‚¹å‡»è¿›å…¥åº”ç”¨è®¾ç½®é¡µé¢'</span>)

        .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">20</span> })

        .<span class="hljs-title function_">onClick</span>(() =&amp;gt; {

          <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>;

          <span class="hljs-keyword">let</span> <span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span> = {

            <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.huawei.hmos.settings'</span>,

            <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'com.huawei.hmos.settings.MainAbility'</span>,

            <span class="hljs-attr">uri</span>: <span class="hljs-string">'application_info_entry'</span>,

            <span class="hljs-attr">parameters</span>: {

              <span class="hljs-attr">pushParams</span>: <span class="hljs-string">"com.example.myapplication"</span> <span class="hljs-comment">// é…ç½®åº”ç”¨åŒ…å</span>

            }

          };

          context.<span class="hljs-title function_">startAbility</span>(want).<span class="hljs-title function_">then</span>(() =&amp;gt; {

          }).<span class="hljs-title function_">catch</span>((<span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span>) =&amp;gt; {

            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>)

          });

        })


    }

    .<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">HorizontalAlign</span>.<span class="hljs-property">Center</span>)

    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)

    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)

  }

}

</code></pre>
<p><strong>2.é—®é¢˜æè¿°ï¼š</strong></p>
<p>ä½¿ç”¨notificationManager.openNotificationSettingsæ¥å£æ‰“å¼€çš„å¼¹çª—ï¼Œå¦‚ä½•ç›‘å¬å¼¹çª—å…³é—­äº‹ä»¶ï¼Ÿ</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<p>åœ¨é¡µé¢æ‰“å¼€åº”ç”¨é€šçŸ¥è®¾ç½®é¡µã€‚</p>
<p><code>openNotificationSettings</code>æ¥å£æ‹‰èµ·çš„è®¾ç½®é¡µé¢ï¼Œé¡µé¢å…³é—­çš„æ—¶å€™æ²¡æœ‰å›è°ƒæ–¹æ³•å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œä½†æ˜¯è¯¥æ¥å£æ‹‰èµ·çš„é¡µé¢å…³é—­çš„æ—¶å€™ï¼Œä¼šè§¦å‘å…¶ä»–é¡µé¢èšç„¦çš„å›è°ƒï¼Œåœ¨è¿™ä¸ªé¡µé¢çš„æ ¹ç»„ä»¶ä¸Šæ³¨å†Œçš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-references%2Fts-universal-focus-event%23onfocus" target="_blank" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-focus-event#onfocus" ref="nofollow noopener noreferrer">onfocus</a>äº‹ä»¶ï¼Œåœ¨è¯¥å›è°ƒå†…è‡ªå®šä¹‰ä¸€äº›æ“ä½œï¼Œæ¯”å¦‚è°ƒç”¨isNotificationEnabledSync()æ¥æŸ¥è¯¢åº”ç”¨é€šçŸ¥çš„å¼€å¯çŠ¶æ€ã€‚å…·ä½“å®ç°ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-TypeScript" lang="TypeScript">
<span class="hljs-keyword">import</span> { notificationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NotificationKit'</span>;

<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;

<span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;


<span class="hljs-meta">@Entry</span>

<span class="hljs-meta">@Component</span>

struct <span class="hljs-title class_">NotificationManagerDemo</span> {

  <span class="hljs-comment">// ç»„ä»¶èšç„¦çŠ¶æ€</span>

  <span class="hljs-meta">@State</span> <span class="hljs-attr">focusState</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>


  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {

    <span class="hljs-title class_">Column</span>() {

      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'æ‰“å¼€å¼¹çª—'</span>)

        .<span class="hljs-title function_">onClick</span>(() =&amp;gt; {

          <span class="hljs-keyword">let</span> context = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>;

          <span class="hljs-comment">// æ‹‰èµ·åº”ç”¨é€šçŸ¥è®¾ç½®é¡µé¢</span>

          notificationManager.<span class="hljs-title function_">openNotificationSettings</span>(context).<span class="hljs-title function_">then</span>(() =&amp;gt; {

            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'é¡µé¢æ‹‰èµ·æˆåŠŸ'</span>)

            <span class="hljs-comment">// æ‹‰èµ·æˆåŠŸï¼Œæ”¹å˜é¡µé¢èšç„¦çŠ¶æ€</span>

            <span class="hljs-variable language_">this</span>.<span class="hljs-property">focusState</span> = <span class="hljs-literal">false</span>

          }).<span class="hljs-title function_">catch</span>((<span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span>) =&amp;gt; {

            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'é¡µé¢æ‹‰èµ·å¤±è´¥'</span>)

          });

        })

    }

    .<span class="hljs-title function_">onFocus</span>(() =&amp;gt; {

      <span class="hljs-comment">// ç»„ä»¶èšç„¦çš„å›è°ƒ</span>

      <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">focusState</span>) {

        <span class="hljs-comment">// åšä¸€äº›è‡ªå·±çš„æ“ä½œ</span>

        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'åº”ç”¨é€šçŸ¥é¡µé¢å…³é—­'</span>)

        <span class="hljs-comment">// æŸ¥è¯¢é€šçŸ¥å¼€å…³æ˜¯å¦å¼€å¯</span>

        <span class="hljs-keyword">let</span> res = notificationManager.<span class="hljs-title function_">isNotificationEnabledSync</span>()

        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`æ˜¯å¦å¼€å¯åº”ç”¨é€šçŸ¥ï¼š<span class="hljs-subst">${res}</span>`</span>)

        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>().<span class="hljs-title function_">showToast</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">`æ˜¯å¦å¼€å¯åº”ç”¨é€šçŸ¥ï¼š<span class="hljs-subst">${res}</span>`</span> })


        <span class="hljs-comment">// é‡ç½®ç»„ä»¶èšç„¦çŠ¶æ€</span>

        <span class="hljs-variable language_">this</span>.<span class="hljs-property">focusState</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">focusState</span>

      }

    })

  }

}

</code></pre>
<p><strong>3.é—®é¢˜æè¿°ï¼š</strong></p>
<p>notificationManager.openNotificationSettingså”¤èµ·åŠæ¨¡æ€æ¡†ï¼Œå¦‚ä½•ç›‘å¬æ¶ˆå¤±å¹¶è¯»å–æœ€æ–°é€šçŸ¥å¼€å¯çŠ¶æ€ï¼Ÿ</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<p>å°è£…é€šçŸ¥ç®¡ç†å·¥å…·ç±»ï¼Œå…¨å±€ä½¿ç”¨ã€‚</p>
<ol>
<li>åˆ›å»ºé€šçŸ¥ç®¡ç†å·¥å…·ç±»ï¼š</li>
</ol>
<pre><code class="hljs language-TypeScript" lang="TypeScript">
<span class="hljs-comment">// NotificationUtil.ts</span>

<span class="hljs-keyword">import</span> { notificationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.NotificationKit'</span>;

<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;

<span class="hljs-keyword">import</span> { common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;

 

<span class="hljs-comment">/**

 * é€šçŸ¥ç®¡ç†å·¥å…·ç±»

 */</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">NotificationUtil</span> {

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-attr">instance</span>: <span class="hljs-title class_">NotificationUtil</span>;

  <span class="hljs-keyword">private</span> <span class="hljs-attr">context</span>: common.<span class="hljs-property">UIAbilityContext</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;

  <span class="hljs-keyword">private</span> <span class="hljs-attr">focusStateCallbacks</span>: <span class="hljs-title class_">Array</span>&amp;lt;(<span class="hljs-attr">isFocused</span>: <span class="hljs-built_in">boolean</span>) =&amp;gt; <span class="hljs-built_in">void</span>&amp;gt; = [];

 

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {

  }

 

  <span class="hljs-comment">/**

   * è·å–å•ä¾‹å®ä¾‹

   */</span>

  <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-title function_">getInstance</span>(): <span class="hljs-title class_">NotificationUtil</span> {

    <span class="hljs-keyword">if</span> (!<span class="hljs-title class_">NotificationUtil</span>.<span class="hljs-property">instance</span>) {

      <span class="hljs-title class_">NotificationUtil</span>.<span class="hljs-property">instance</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NotificationUtil</span>();

    }

    <span class="hljs-keyword">return</span> <span class="hljs-title class_">NotificationUtil</span>.<span class="hljs-property">instance</span>;

  }

 

  <span class="hljs-comment">/**

   * åˆå§‹åŒ–å·¥å…·ç±»ï¼ˆå¿…é¡»åœ¨åº”ç”¨å¯åŠ¨æ—¶è°ƒç”¨ï¼‰

   * <span class="hljs-doctag">@param</span> context UIAbilityä¸Šä¸‹æ–‡

   */</span>

  <span class="hljs-keyword">public</span> <span class="hljs-title function_">initialize</span>(<span class="hljs-attr">context</span>: common.<span class="hljs-property">UIAbilityContext</span>): <span class="hljs-built_in">void</span> {

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span> = context;

  }

 

  <span class="hljs-comment">/**

   * æ‰“å¼€é€šçŸ¥è®¾ç½®é¡µé¢

   * <span class="hljs-doctag">@returns</span> Promise&lt;boolean&gt; æ˜¯å¦æˆåŠŸæ‰“å¼€

   */</span>

  <span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">openNotificationSettings</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {

    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>) {

      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'NotificationUtil æœªåˆå§‹åŒ–ï¼Œè¯·å…ˆè°ƒç”¨ initialize æ–¹æ³•'</span>);

      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;

    }

 

    <span class="hljs-keyword">try</span> {

      <span class="hljs-keyword">await</span> notificationManager.<span class="hljs-title function_">openNotificationSettings</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>);

      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'é€šçŸ¥è®¾ç½®é¡µé¢æ‹‰èµ·æˆåŠŸ'</span>);

      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;

    } <span class="hljs-keyword">catch</span> (err) {

      <span class="hljs-keyword">const</span> error = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;

      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`é€šçŸ¥è®¾ç½®é¡µé¢æ‹‰èµ·å¤±è´¥: <span class="hljs-subst">${error.code}</span> - <span class="hljs-subst">${error.message}</span>`</span>);

      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;

    }

  }

 

  <span class="hljs-comment">/**

   * æ£€æŸ¥é€šçŸ¥æ˜¯å¦å¼€å¯ï¼ˆåŒæ­¥ï¼‰

   * <span class="hljs-doctag">@returns</span> boolean é€šçŸ¥æ˜¯å¦å¼€å¯

   */</span>

  <span class="hljs-keyword">public</span> <span class="hljs-title function_">isNotificationEnabled</span>(): <span class="hljs-built_in">boolean</span> {

    <span class="hljs-keyword">try</span> {

      <span class="hljs-keyword">return</span> notificationManager.<span class="hljs-title function_">isNotificationEnabledSync</span>();

    } <span class="hljs-keyword">catch</span> (err) {

      <span class="hljs-keyword">const</span> error = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;

      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`æ£€æŸ¥é€šçŸ¥çŠ¶æ€å¤±è´¥: <span class="hljs-subst">${error.code}</span> - <span class="hljs-subst">${error.message}</span>`</span>);

      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;

    }

  }

 

  <span class="hljs-comment">/**

   * æ£€æŸ¥é€šçŸ¥æ˜¯å¦å¼€å¯ï¼ˆå¼‚æ­¥ï¼‰

   * <span class="hljs-doctag">@returns</span> Promise&lt;boolean&gt; é€šçŸ¥æ˜¯å¦å¼€å¯

   */</span>

  <span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">isNotificationEnabledAsync</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {

    <span class="hljs-keyword">try</span> {

      <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> notificationManager.<span class="hljs-title function_">isNotificationEnabled</span>();

    } <span class="hljs-keyword">catch</span> (err) {

      <span class="hljs-keyword">const</span> error = err <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;

      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`å¼‚æ­¥æ£€æŸ¥é€šçŸ¥çŠ¶æ€å¤±è´¥: <span class="hljs-subst">${error.code}</span> - <span class="hljs-subst">${error.message}</span>`</span>);

      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;

    }

  }

 

  <span class="hljs-comment">/**

   * æ³¨å†Œé¡µé¢èšç„¦çŠ¶æ€å›è°ƒ

   * <span class="hljs-doctag">@param</span> callback å›è°ƒå‡½æ•°

   */</span>

  <span class="hljs-keyword">public</span> <span class="hljs-title function_">registerFocusCallback</span>(<span class="hljs-attr">callback</span>: (<span class="hljs-attr">isFocused</span>: <span class="hljs-built_in">boolean</span>) =&amp;gt; <span class="hljs-built_in">void</span>): <span class="hljs-built_in">void</span> {

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">focusStateCallbacks</span>.<span class="hljs-title function_">push</span>(callback);

  }

 

  <span class="hljs-comment">/**

   * æ³¨é”€é¡µé¢èšç„¦çŠ¶æ€å›è°ƒ

   * <span class="hljs-doctag">@param</span> callback å›è°ƒå‡½æ•°

   */</span>

  <span class="hljs-keyword">public</span> <span class="hljs-title function_">unregisterFocusCallback</span>(<span class="hljs-attr">callback</span>: (<span class="hljs-attr">isFocused</span>: <span class="hljs-built_in">boolean</span>) =&amp;gt; <span class="hljs-built_in">void</span>): <span class="hljs-built_in">void</span> {

    <span class="hljs-keyword">const</span> index = <span class="hljs-variable language_">this</span>.<span class="hljs-property">focusStateCallbacks</span>.<span class="hljs-title function_">indexOf</span>(callback);

    <span class="hljs-keyword">if</span> (index &amp;gt; -<span class="hljs-number">1</span>) {

      <span class="hljs-variable language_">this</span>.<span class="hljs-property">focusStateCallbacks</span>.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">1</span>);

    }

  }

 

  <span class="hljs-comment">/**

   * å¤„ç†é¡µé¢èšç„¦äº‹ä»¶ï¼ˆéœ€è¦åœ¨é¡µé¢onFocusä¸­è°ƒç”¨ï¼‰

   * <span class="hljs-doctag">@param</span> isFocused æ˜¯å¦èšç„¦

   */</span>

  <span class="hljs-keyword">public</span> <span class="hljs-title function_">handleFocusChange</span>(<span class="hljs-attr">isFocused</span>: <span class="hljs-built_in">boolean</span>): <span class="hljs-built_in">void</span> {

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">focusStateCallbacks</span>.<span class="hljs-title function_">forEach</span>(callback =&amp;gt; {

      <span class="hljs-keyword">try</span> {

        <span class="hljs-title function_">callback</span>(isFocused);

      } <span class="hljs-keyword">catch</span> (err) {

        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'ç„¦ç‚¹çŠ¶æ€å›è°ƒæ‰§è¡Œå¤±è´¥:'</span>, err);

      }

    });

  }

 

  <span class="hljs-comment">/**

   * å®Œæ•´çš„æ‰“å¼€é€šçŸ¥è®¾ç½®å¹¶ç›‘å¬è¿”å›çš„æµç¨‹

   * <span class="hljs-doctag">@param</span> onReturnCallback è¿”å›æ—¶çš„å›è°ƒå‡½æ•°

   * <span class="hljs-doctag">@returns</span> Promise&lt;boolean&gt; æ˜¯å¦æˆåŠŸæ‰§è¡Œ

   */</span>

  <span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">openSettingsAndListenReturn</span>(onReturnCallback?: (<span class="hljs-attr">isEnabled</span>: <span class="hljs-built_in">boolean</span>) =&amp;gt; <span class="hljs-built_in">void</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {

    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>) {

      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'NotificationUtil æœªåˆå§‹åŒ–'</span>);

      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;

    }

 

    <span class="hljs-keyword">const</span> success = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">openNotificationSettings</span>();

    <span class="hljs-keyword">if</span> (success &amp;amp;&amp;amp; onReturnCallback) {

      <span class="hljs-comment">// æ³¨å†Œä¸€æ¬¡æ€§å›è°ƒ</span>

      <span class="hljs-keyword">const</span> tempCallback = (<span class="hljs-attr">isFocused</span>: <span class="hljs-built_in">boolean</span>) =&amp;gt; {

        <span class="hljs-keyword">if</span> (isFocused) {

          <span class="hljs-keyword">const</span> isEnabled = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isNotificationEnabled</span>();

          <span class="hljs-title function_">onReturnCallback</span>(isEnabled);

          <span class="hljs-comment">// æ‰§è¡Œåç«‹å³æ³¨é”€</span>

          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">unregisterFocusCallback</span>(tempCallback);

        }

      };

 

      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">registerFocusCallback</span>(tempCallback);

    }

 

    <span class="hljs-keyword">return</span> success;

  }

}

 

<span class="hljs-comment">// å¯¼å‡ºé»˜è®¤å®ä¾‹</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">NotificationUtil</span>.<span class="hljs-title function_">getInstance</span>();

 

</code></pre>
<ol start="2">
<li>åœ¨åº”ç”¨å…¥å£åˆå§‹åŒ–å·¥å…·ç±»ï¼š</li>
</ol>
<pre><code class="hljs language-TypeScript" lang="TypeScript">
  <span class="hljs-title function_">onCreate</span>(<span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span>, <span class="hljs-attr">launchParam</span>: <span class="hljs-title class_">AbilityConstant</span>.<span class="hljs-property">LaunchParam</span>): <span class="hljs-built_in">void</span> {

    <span class="hljs-keyword">try</span> {

      <span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-title function_">getApplicationContext</span>().<span class="hljs-title function_">setColorMode</span>(<span class="hljs-title class_">ConfigurationConstant</span>.<span class="hljs-property">ColorMode</span>.<span class="hljs-property">COLOR_MODE_NOT_SET</span>);

 

      <span class="hljs-comment">// åˆå§‹åŒ–é€šçŸ¥å·¥å…·ç±»</span>

      <span class="hljs-title class_">NotificationUtil</span>.<span class="hljs-title function_">initialize</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>);

 

    } <span class="hljs-keyword">catch</span> (err) {

      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-variable constant_">DOMAIN</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Failed to set colorMode. Cause: %{public}s'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));

    }

    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">DOMAIN</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onCreate'</span>);

  }

</code></pre>
<ol start="3">
<li>ä½¿ç”¨å°è£…åçš„å·¥å…·ç±»ï¼š</li>
</ol>
<pre><code class="hljs language-TypeScript" lang="TypeScript">
<span class="hljs-keyword">import</span> <span class="hljs-title class_">NotificationUtil</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./NotificationUtil'</span>;

 

<span class="hljs-meta">@Entry</span>

<span class="hljs-meta">@Component</span>

struct <span class="hljs-title class_">NotificationManagerDemo</span> {

  <span class="hljs-meta">@State</span> <span class="hljs-attr">focusState</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>

 

  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {

    <span class="hljs-title class_">Column</span>() {

 

      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'æ‰“å¼€åº”ç”¨é€šçŸ¥è®¾ç½®é¡µ'</span>)

        .<span class="hljs-title function_">onClick</span>(<span class="hljs-keyword">async</span> () =&amp;gt; {

          <span class="hljs-keyword">await</span> <span class="hljs-title class_">NotificationUtil</span>.<span class="hljs-title function_">openSettingsAndListenReturn</span>((<span class="hljs-attr">isEnabled</span>: <span class="hljs-built_in">boolean</span>) =&amp;gt; {

            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'ä»è®¾ç½®é¡µé¢è¿”å›ï¼Œé€šçŸ¥çŠ¶æ€:'</span>, isEnabled);

            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>().<span class="hljs-title function_">showToast</span>({

              <span class="hljs-attr">message</span>: <span class="hljs-string">`é€šçŸ¥çŠ¶æ€: <span class="hljs-subst">${isEnabled ? <span class="hljs-string">'å·²å¼€å¯'</span> : <span class="hljs-string">'å·²å…³é—­'</span>}</span>`</span>

            });

          });

        })

 

    }

    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)

    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)

    .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)

    .<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">HorizontalAlign</span>.<span class="hljs-property">Center</span>)

    .<span class="hljs-title function_">onFocus</span>(() =&amp;gt; {

      <span class="hljs-comment">// å°†ç„¦ç‚¹å˜åŒ–ä¼ é€’ç»™å·¥å…·ç±»</span>

      <span class="hljs-title class_">NotificationUtil</span>.<span class="hljs-title function_">handleFocusChange</span>(<span class="hljs-literal">true</span>);

    })

    .<span class="hljs-title function_">onBlur</span>(() =&amp;gt; {

      <span class="hljs-title class_">NotificationUtil</span>.<span class="hljs-title function_">handleFocusChange</span>(<span class="hljs-literal">false</span>);

    })

  }

}

</code></pre>
<p><strong>4.é—®é¢˜æè¿°ï¼š</strong></p>
<p>å¦‚ä½•ç›´æ¥ä»¥å¼¹çª—æ–¹å¼æ‰“å¼€é€šçŸ¥ç®¡ç†é¡µé¢ï¼Ÿ</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ol>
<li>
<p>é€šè¿‡isNotificationEnabledæ–¹æ³•æŸ¥è¯¢é€šçŸ¥æ˜¯å¦æˆæƒï¼Œå‚è€ƒ<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-references%2Fjs-apis-notificationmanager%23notificationmanagerisnotificationenabled11-1" target="_blank" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-notificationmanager#notificationmanagerisnotificationenabled11-1" ref="nofollow noopener noreferrer">isNotificationEnabledç”¨æ³•</a>ã€‚</p>
</li>
<li>
<p>è‹¥ç”³è¯·é€šçŸ¥æƒé™è¢«æ‹’ç»åï¼Œåç»­è°ƒç”¨requestEnableNotification()æ–¹æ³•ä¸å†å¼¹çª—ï¼ŒåŒæ—¶ä¼šè¿”å›é”™è¯¯ï¼Œé”™è¯¯ç æ˜¯1600004ã€‚å…·ä½“å‚è€ƒ<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-guides%2Fnotification-enable" target="_blank" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/notification-enable" ref="nofollow noopener noreferrer">è¯·æ±‚é€šçŸ¥æˆæƒ</a>ã€‚</p>
</li>
</ol>
<p>å¦‚æœæƒ³äºŒæ¬¡æˆæƒï¼Œå¯ä»¥è°ƒç”¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-references%2Fjs-apis-notificationmanager%23notificationmanageropennotificationsettings13" target="_blank" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-notificationmanager#notificationmanageropennotificationsettings13" ref="nofollow noopener noreferrer">openNotificationSettings</a>ç”³è¯·æˆæƒï¼Œæ‹‰èµ·é€šçŸ¥ç®¡ç†å¼¹çª—ã€‚æˆ–è€…å¼•å¯¼ç”¨æˆ·è·³è½¬åº”ç”¨è®¾ç½®é¡µé¢å¼€å¯æƒé™ï¼Œè·³è½¬è®¾ç½®é¡µé¢æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript">
<span class="hljs-keyword">let</span> context = <span class="hljs-title function_">getContext</span>(<span class="hljs-variable language_">this</span>) <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>;

<span class="hljs-keyword">let</span> <span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span> = {

  <span class="hljs-attr">bundleName</span>: <span class="hljs-string">'com.huawei.hmos.settings'</span>,

  <span class="hljs-attr">abilityName</span>: <span class="hljs-string">'com.huawei.hmos.settings.MainAbility'</span>,

  <span class="hljs-attr">uri</span>: <span class="hljs-string">'application_info_entry'</span>,

  <span class="hljs-attr">parameters</span>: {

    <span class="hljs-attr">pushParams</span>: <span class="hljs-string">"bundleName"</span> <span class="hljs-comment">// é…ç½®åº”ç”¨åŒ…å</span>

  }

};

context.<span class="hljs-title function_">startAbility</span>(want).<span class="hljs-title function_">then</span>(() =&amp;gt; {

}).<span class="hljs-keyword">catch</span>((<span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span>) =&amp;gt; {

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>)

});

</code></pre>
<p><strong>5.é—®é¢˜æè¿°ï¼š</strong></p>
<p>notificationManager.requestEnableNotification err.codeï¼š1600013ï¼ŒåŸå› æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<p>ã€èƒŒæ™¯çŸ¥è¯†ã€‘</p>
<p>åº”ç”¨éœ€è¦è·å–ç”¨æˆ·æˆæƒæ‰èƒ½å‘é€é€šçŸ¥ã€‚åœ¨é€šçŸ¥å‘å¸ƒå‰è°ƒç”¨requestEnableNotification()æ–¹æ³•ï¼Œå¼¹çª—è®©ç”¨æˆ·é€‰æ‹©æ˜¯å¦å…è®¸å‘é€é€šçŸ¥ï¼Œåç»­å†æ¬¡è°ƒç”¨requestEnableNotification()æ–¹æ³•æ—¶ï¼Œåˆ™ä¸å†å¼¹çª—ã€‚å¯å‚è€ƒæ–‡æ¡£<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-guides%2Fnotification-enable" target="_blank" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/notification-enable" ref="nofollow noopener noreferrer">è¯·æ±‚é€šçŸ¥æƒé™</a>ã€‚</p>
<p>ã€é—®é¢˜å®šä½ã€‘</p>
<ol>
<li>
<p>æƒé™è¯·æ±‚æ—¶æœºé—®é¢˜ï¼Œéœ€è¦åœ¨UIåŠ è½½åå†ç”³è¯·ã€‚</p>
</li>
<li>
<p>æ˜¯å¦ç»‘å®šUiAbilityContextï¼Œcontextæ˜¯å¦æ­£å¸¸åˆå§‹åŒ–ã€‚</p>
</li>
<li>
<p>ä»¥å‰æœ‰å¼‚å¸¸å¼¹å‡ºçš„åœºæ™¯ï¼Œäº§ç”Ÿäº†è„æ•°æ®ã€‚</p>
</li>
<li>
<p>æ£€æŸ¥ç›¸å…³å‚æ•°HashMapä½¿ç”¨æ˜¯å¦æ­£ç¡®ã€‚</p>
</li>
</ol>
<p>ã€åˆ†æç»“è®ºã€‘</p>
<ol>
<li>
<p>1600013ï¼Œè‹¥çª—å£æœªåŠ è½½å®Œæˆå°±è¯·æ±‚äº†é€šçŸ¥ï¼Œå¯¼è‡´æ¸²æŸ“å¼‚å¸¸ï¼Œå†æ¬¡è¯·æ±‚å°±ä¼šæŠ¥è¿™ä¸ªé”™ï¼Œå°½é‡åœ¨çª—å£åˆ›å»ºå¹¶æ¸²æŸ“åå†è°ƒç”¨ã€‚</p>
</li>
<li>
<p>å»ºè®®åœ¨entryAbilityä¸­è°ƒç”¨ï¼Œæˆ–æ˜¯åœ¨å¯¹åº”çš„é¡µé¢ä¸­è°ƒç”¨ï¼Œä¸å»ºè®®åœ¨æˆæƒæ—¶åˆ‡æ¢é¡µé¢ã€‚</p>
</li>
</ol>
<p>ã€ä¿®æ”¹å»ºè®®ã€‘</p>
<p>é’ˆå¯¹æŠ¥é”™codeï¼š1600013ï¼Œå¯ä»¥é‡‡ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹æ¡ˆï¼š</p>
<ol>
<li>æ‰§è¡Œé‡å¯æ‰‹æœºã€åˆ é™¤åº”ç”¨çš„æ“ä½œï¼Œæ¸…ç†è„æ•°æ®åå†æ¬¡å®‰è£…åº”ç”¨å°è¯•ã€‚ç”³è¯·é€šçŸ¥æƒé™ä»£ç æ”¹ä¸ºåœ¨uiåŠ è½½åå†ç”³è¯·ã€‚ä»£ç ç¤ºä¾‹ï¼š</li>
</ol>
<pre><code class="hljs language-TypeScript" lang="TypeScript">
windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/Index'</span>, (err) =&amp;gt; {

     <span class="hljs-keyword">if</span> (err.<span class="hljs-property">code</span>) {

       hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Failed to load the content. Cause: %{public}s'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err) ?? <span class="hljs-string">''</span>);

       <span class="hljs-keyword">return</span>;

     }

 

     notificationManager.<span class="hljs-title function_">requestEnableNotification</span>().<span class="hljs-title function_">then</span>(() =&amp;gt; {

       hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'â€™testTag'</span>, <span class="hljs-string">'requestEnableNotification success'</span>);

     })

       .<span class="hljs-keyword">catch</span>((<span class="hljs-attr">error</span>: <span class="hljs-title class_">BusinessError</span>) =&amp;gt; {

         hilog.<span class="hljs-title function_">error</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'requestEnableNotification error : %{public}s'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error))

       })

     hilog.<span class="hljs-title function_">info</span>(<span class="hljs-number">0x0000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'Succeeded in loading the content.'</span>);

   });

</code></pre>
<ol start="2">
<li>
<p>ç»‘å®šUiAbilityContextä½¿ç”¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-references%2Fjs-apis-notificationmanager%23notificationmanagerrequestenablenotification10" target="_blank" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-notificationmanager#notificationmanagerrequestenablenotification10" ref="nofollow noopener noreferrer">æ¨¡æ€å¼¹çª—</a>æ–¹å¼ï¼Œåˆå§‹åŒ–contextã€‚ä»£ç ç¤ºä¾‹ï¼š</p>
</li>
</ol>
<pre><code class="hljs language-TypeScript" lang="TypeScript">
<span class="hljs-keyword">let</span> context = <span class="hljs-title function_">getContext</span>(<span class="hljs-variable language_">this</span>) <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>;

notificationManager.<span class="hljs-title function_">isNotificationEnabled</span>().<span class="hljs-title function_">then</span>((<span class="hljs-attr">data</span>: <span class="hljs-built_in">boolean</span>) =&amp;gt; {

  hilog.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">DOMAIN_NUMBER</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">"isNotificationEnabled success, data: "</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));

  <span class="hljs-keyword">if</span>(!data){

    notificationManager.<span class="hljs-title function_">requestEnableNotification</span>(context).<span class="hljs-title function_">then</span>(() =&amp;gt; {

      hilog.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">DOMAIN_NUMBER</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">`[ANS] requestEnableNotification success`</span>);

    }).<span class="hljs-keyword">catch</span>((err : <span class="hljs-title class_">BusinessError</span>) =&amp;gt; {

      <span class="hljs-keyword">if</span>(<span class="hljs-number">1600004</span> == err.<span class="hljs-property">code</span>){

        hilog.<span class="hljs-title function_">error</span>(<span class="hljs-variable constant_">DOMAIN_NUMBER</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">`[ANS] requestEnableNotification refused, code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);

      } <span class="hljs-keyword">else</span> {

        hilog.<span class="hljs-title function_">error</span>(<span class="hljs-variable constant_">DOMAIN_NUMBER</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">`[ANS] requestEnableNotification failed, code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);

      }

    });

  }

}).<span class="hljs-keyword">catch</span>((err : <span class="hljs-title class_">BusinessError</span>) =&amp;gt; {

  hilog.<span class="hljs-title function_">error</span>(<span class="hljs-variable constant_">DOMAIN_NUMBER</span>, <span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">`isNotificationEnabled fail: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(err)}</span>`</span>);

});

</code></pre>
<ul>
<li>ä¸åœ¨æˆæƒæ—¶åˆ‡æ¢é¡µé¢ï¼Œå»ºè®®åœ¨window.loadContentå›è°ƒä¸­è¯·æ±‚æƒé™ã€‚</li>
</ul>
<p/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Ract Router v7ï¼šæœ€å…¨åŸºç¡€ä¸é«˜çº§ç”¨æ³•æŒ‡å—ï¼ˆå¯ç›´æ¥ä¸Šæ‰‹ï¼‰]]></title>    <link>https://juejin.cn/post/7573699930259849242</link>    <guid>https://juejin.cn/post/7573699930259849242</guid>    <pubDate>2025-11-18T07:43:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573699930259849242" data-draft-id="7573632156884205619" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Ract Router v7ï¼šæœ€å…¨åŸºç¡€ä¸é«˜çº§ç”¨æ³•æŒ‡å—ï¼ˆå¯ç›´æ¥ä¸Šæ‰‹ï¼‰"/> <meta itemprop="keywords" content="React.js,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-18T07:43:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸ç‚¹é˜³å…‰"/> <meta itemprop="url" content="https://juejin.cn/user/4336129592794407"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Ract Router v7ï¼šæœ€å…¨åŸºç¡€ä¸é«˜çº§ç”¨æ³•æŒ‡å—ï¼ˆå¯ç›´æ¥ä¸Šæ‰‹ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4336129592794407/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸ç‚¹é˜³å…‰
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T07:43:16.000Z" title="Tue Nov 18 2025 07:43:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>React Router v7 å·²ç»æ­£å¼æˆä¸ºç°ä»£ React åº”ç”¨çš„é»˜è®¤è·¯ç”±æ–¹æ¡ˆã€‚ç›¸æ¯”è¿‡å»çš„ç‰ˆæœ¬ï¼Œv7 åœ¨æ•°æ®åŠ è½½ã€è·¯ç”±æ‡’åŠ è½½ã€é”™è¯¯è¾¹ç•Œã€è·¯ç”±æ¨¡å—åŒ–ç­‰æ–¹é¢åšäº†æ›´ç»Ÿä¸€ã€æ›´ç°ä»£åŒ–çš„è®¾è®¡ã€‚</p>
<p>æœ¬æ–‡å¸¦ä½ å¿«é€ŸæŒæ¡ <strong>åŸºç¡€ç”¨æ³• + é«˜çº§ç”¨æ³•</strong>ï¼Œé€‚åˆä» v5/v6 å‡çº§æˆ–æ–°é¡¹ç›®ä½¿ç”¨</p>
<h2 data-id="heading-0"><strong>ä¸€ã€æ ¸å¿ƒç†å¿µä¸å˜åŒ–æ¦‚è§ˆ</strong></h2>
<p>React Router v7 ä¸»è¦å›´ç»•ä¸‰ä¸ªå…³é”®è¯ï¼š</p>
<h4 data-id="heading-1"><strong>1. è·¯ç”±æ˜¯ UI çš„ä¸€éƒ¨åˆ†</strong></h4>
<p>-router æ˜¯ç»„ä»¶</p>
<ul>
<li>ä¸å†æ˜¯é…ç½®å¼ä¸ºä¸»ï¼Œç»„ä»¶å¼æ›´è‡ªç„¶</li>
<li>Layout + Outlet æˆä¸ºä¸»æµ</li>
</ul>
<h4 data-id="heading-2"><strong>2. æ•°æ®è·¯ç”±ï¼ˆData Routerï¼‰ç»Ÿä¸€åŒ–</strong></h4>
<p>æä¾›ç»Ÿä¸€ APIï¼š</p>
<ul>
<li><code>loader</code> æ•°æ®åŠ è½½</li>
<li><code>action</code> æ•°æ®æäº¤</li>
<li><code>lazy</code> æ‡’åŠ è½½è·¯ç”±èµ„æº</li>
<li><code>errorElement</code> é”™è¯¯è¾¹ç•Œ</li>
</ul>
<h4 data-id="heading-3"><strong>3. ç»„ä»¶å³è·¯ç”±</strong></h4>
<p>v7 ä¿ç•™äº† v6 çš„ <code>createBrowserRouter</code>ã€<code>RouterProvider</code>ï¼Œå¹¶ç»§ç»­å¼ºåŒ–åµŒå¥—è·¯ç”±çš„æ¦‚å¿µ</p>
<h2 data-id="heading-4"><strong>äºŒã€åŸºç¡€ç”¨æ³•</strong></h2>
<h3 data-id="heading-5"><strong>1. å®‰è£…</strong></h3>
<pre><code class="hljs">npm install react-router-dom
</code></pre>
<h3 data-id="heading-6"/>
<h3 data-id="heading-7"><strong>2. æœ€ç®€è·¯ç”±ç»“æ„</strong></h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { createBrowserRouter, <span class="hljs-title class_">RouterProvider</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-router-dom"</span>;

<span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createBrowserRouter</span>([
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">"/"</span>,
    <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">HomePage</span> /&gt;</span></span>,
  },
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">"/about"</span>,
    <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">AboutPage</span> /&gt;</span></span>,
  },
]);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">RouterProvider</span> <span class="hljs-attr">router</span>=<span class="hljs-string">{router}</span> /&gt;</span></span>;
}
</code></pre>
<h3 data-id="heading-8"/>
<h3 data-id="heading-9"><strong>3. Layout + Outletï¼ˆåµŒå¥—è·¯ç”±ï¼‰</strong></h3>
<p>Layout æ˜¯ v7 å¼ºè°ƒçš„æœ€ä½³å®è·µï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Outlet</span>, <span class="hljs-title class_">Link</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-router-dom"</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Layout</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">nav</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/"</span>&gt;</span>é¦–é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/profile"</span>&gt;</span>ä¸ªäººä¸­å¿ƒ<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">main</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Outlet</span> /&gt;</span> {/* å­è·¯ç”±åœ¨è¿™é‡Œæ¸²æŸ“ */}
      <span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}

<span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createBrowserRouter</span>([
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">"/"</span>,
    <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Layout</span> /&gt;</span></span>,
    <span class="hljs-attr">children</span>: [
      { <span class="hljs-attr">index</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">HomePage</span> /&gt;</span></span> },
      { <span class="hljs-attr">path</span>: <span class="hljs-string">"profile"</span>, <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ProfilePage</span> /&gt;</span></span> },
    ],
  },
]);
</code></pre>
<h2 data-id="heading-10"><strong>ä¸‰ã€æ‡’åŠ è½½ï¼ˆasync lazyï¼‰â€”â€”å¼ºçƒˆæ¨èå†™æ³•</strong></h2>
<p>React Router v7 å®˜æ–¹æ¨èä½¿ç”¨ <code>async lazy()</code> æ¥è¿›è¡Œè·¯ç”±çº§æŒ‰éœ€åŠ è½½ã€‚</p>
<h4 data-id="heading-11"><strong>ğŸ”¥ æ¨èå†™æ³•ï¼šasync lazy()</strong></h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">const</span> router = createBrowserRouter([
  {
    path: <span class="hljs-string">"/"</span>,
    <span class="hljs-function"><span class="hljs-keyword">async</span> <span class="hljs-title">lazy</span>()</span> {
      <span class="hljs-keyword">const</span> Component = (<span class="hljs-keyword">await</span> import(<span class="hljs-string">"./pages/Layout"</span>)).<span class="hljs-literal">default</span>;
      <span class="hljs-keyword">return</span> { Component };
    },
    children: [
      {
        index: <span class="hljs-literal">true</span>,
        <span class="hljs-function"><span class="hljs-keyword">async</span> <span class="hljs-title">lazy</span>()</span> {
          <span class="hljs-keyword">const</span> Component = (<span class="hljs-keyword">await</span> import(<span class="hljs-string">"./pages/Home"</span>)).<span class="hljs-literal">default</span>;
          <span class="hljs-keyword">return</span> { Component };
        },
      },
      {
        path: <span class="hljs-string">"profile"</span>,
        <span class="hljs-function"><span class="hljs-keyword">async</span> <span class="hljs-title">lazy</span>()</span> {
          <span class="hljs-keyword">const</span> Component = (<span class="hljs-keyword">await</span> import(<span class="hljs-string">"./pages/Profile"</span>)).<span class="hljs-literal">default</span>;
          <span class="hljs-keyword">return</span> { Component };
        },
      },
    ],
  },
]);
</code></pre>
<p>ä¼˜åŠ¿ï¼š<br/>
âœ” è¯­æ³•å¹²å‡€<br/>
âœ” å’Œ Data Router å®Œæ•´å…¼å®¹<br/>
âœ” è‡ªåŠ¨ Suspense<br/>
âœ” æ”¯æŒ SSRï¼ˆæœªæ¥ç‰ˆæœ¬ï¼‰<br/>
âœ” å¤§å‹é¡¹ç›®ç»“æ„æ¸…æ™°</p>
<h2 data-id="heading-12"><strong>å››ã€è·³è½¬ä¸å‚æ•°è¯»å–</strong></h2>
<h3 data-id="heading-13"><strong>1. è·³è½¬</strong></h3>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">navigate</span> = useNavigate()<span class="hljs-comment">;</span>
navigate("/profile")<span class="hljs-comment">;</span>
</code></pre>
<h3 data-id="heading-14"><strong>2. è·å–è·¯å¾„å‚æ•°</strong></h3>
<pre><code class="hljs language-scss" lang="scss">const { id } = <span class="hljs-built_in">useParams</span>();
</code></pre>
<h3 data-id="heading-15"><strong>3. è·å–æŸ¥è¯¢å‚æ•°</strong></h3>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-section">[searchParams]</span> = useSearchParams()<span class="hljs-comment">;</span>
const <span class="hljs-attr">keyword</span> = searchParams.get(<span class="hljs-string">"keyword"</span>)<span class="hljs-comment">;</span>
</code></pre>
<hr/>
<h2 data-id="heading-16"/>
<h2 data-id="heading-17"><strong>äº”ã€è·³è½¬ä¸å‚æ•°è¯»å–ï¼ˆåŠ å¼ºç‰ˆï¼‰</strong></h2>
<p>è¿™ä¸€éƒ¨åˆ†å¾ˆå¤šäººç”¨å¾—ä¸å…¨ï¼Œè¿™é‡Œè®² <strong>è·³è½¬æ–¹å¼ã€è·¯å¾„å‚æ•°ã€æŸ¥è¯¢å‚æ•°ã€çŠ¶æ€ä¼ å‚</strong> 4 å¤§ç±»ã€‚</p>
<hr/>
<h2 data-id="heading-18"><strong>ğŸ“Œ 1. è·³è½¬å¯¼èˆª</strong></h2>
<h4 data-id="heading-19"><strong>ï¼ˆ1ï¼‰useNavigateï¼šæœ€å¸¸ç”¨è·³è½¬</strong></h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useNavigate } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-router-dom"</span>;

<span class="hljs-keyword">const</span> nav = <span class="hljs-title function_">useNavigate</span>();

<span class="hljs-title function_">nav</span>(<span class="hljs-string">"/profile"</span>);                 <span class="hljs-comment">// æ™®é€šè·³è½¬</span>
<span class="hljs-title function_">nav</span>(-<span class="hljs-number">1</span>);                         <span class="hljs-comment">// è¿”å›ä¸Šä¸€é¡µ</span>
<span class="hljs-title function_">nav</span>(<span class="hljs-string">"/login"</span>, { <span class="hljs-attr">replace</span>: <span class="hljs-literal">true</span> }); <span class="hljs-comment">// ä¸ç•™å†å²è®°å½•</span>
</code></pre>
<hr/>
<h4 data-id="heading-20"><strong>ï¼ˆ2ï¼‰é“¾æ¥è·³è½¬ Link</strong></h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Link</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-router-dom"</span>;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/about"</span>&gt;</span>å…³äºæˆ‘ä»¬<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span></span>
</code></pre>
<hr/>
<h4 data-id="heading-21"><strong>ï¼ˆ3ï¼‰æŒ‰é’®è·³è½¬ Navigate ç»„ä»¶</strong></h4>
<p>é€‚åˆæ¡ä»¶è·³è½¬ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">{ isLogin ? &lt;Dashboard /&gt; : &lt;Navigate <span class="hljs-attr">to</span>=<span class="hljs-string">"/login"</span> replace /&gt; }
</code></pre>
<hr/>
<h2 data-id="heading-22"><strong>ğŸ“Œ 2. è·¯å¾„å‚æ•°ï¼ˆURL Paramsï¼‰</strong></h2>
<p>ä¾‹å¦‚è®¿é—®ï¼š<br/>
<code>/user/123</code></p>
<p>å®šä¹‰è·¯ç”±ï¼š</p>
<pre><code class="hljs language-css" lang="css">{
  path: <span class="hljs-string">"user/:id"</span>,
  element: &lt;UserDetail /&gt;
}
</code></pre>
<p>è¯»å–å‚æ•°ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> { useParams } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-router-dom"</span>;

const { <span class="hljs-built_in">id</span> } = useParams(); // <span class="hljs-built_in">id</span> === <span class="hljs-string">"123"</span>
</code></pre>
<p>æ³¨æ„ï¼š</p>
<ul>
<li>params ä¸€å®šæ˜¯å­—ç¬¦ä¸²ç±»å‹</li>
<li>å¯ç”¨ Zod/Number() åšè½¬æ¢</li>
</ul>
<hr/>
<h2 data-id="heading-23"><strong>ğŸ“Œ 3. æŸ¥è¯¢å‚æ•°ï¼ˆSearch Paramsï¼‰</strong></h2>
<p>ä¾‹å¦‚è®¿é—®ï¼š<br/>
<code>/list?page=2&amp;keyword=test</code></p>
<p>è¯»å–ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">import { useSearchParams } from "react-router-dom"<span class="hljs-comment">;</span>

const <span class="hljs-section">[search]</span> = useSearchParams()<span class="hljs-comment">;</span>

const <span class="hljs-attr">page</span> = search.get(<span class="hljs-string">"page"</span>)<span class="hljs-comment">; </span>
const <span class="hljs-attr">keyword</span> = search.get(<span class="hljs-string">"keyword"</span>)<span class="hljs-comment">;</span>
</code></pre>
<p>ä¿®æ”¹ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">const <span class="hljs-selector-attr">[search, setSearch]</span> = <span class="hljs-built_in">useSearchParams</span>();

<span class="hljs-built_in">setSearch</span>({ page: <span class="hljs-number">3</span> });
</code></pre>
<p>æ”¯æŒ appendï¼š</p>
<pre><code class="hljs language-go" lang="go">search.<span class="hljs-built_in">append</span>(<span class="hljs-string">"type"</span>, <span class="hljs-string">"A"</span>);
setSearch(search);
</code></pre>
<hr/>
<h2 data-id="heading-24"><strong>ğŸ“Œ 4. è·³è½¬æ—¶æºå¸¦ stateï¼ˆé URLï¼‰</strong></h2>
<p>ç±»ä¼¼ history.push çš„ stateï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">nav</span>("/detail", {
  state: { <span class="hljs-selector-tag">from</span>: <span class="hljs-string">"list"</span>, id: <span class="hljs-number">123</span> }
});
</code></pre>
<p>è¯»å–ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">import { useLocation } from "react-router-dom"<span class="hljs-comment">;</span>

const { state } = useLocation()<span class="hljs-comment">;</span>
// <span class="hljs-attr">state.from</span> === <span class="hljs-string">"list"</span>
</code></pre>
<p>ç”¨æ³•ï¼š</p>
<ul>
<li>æœç´¢åˆ—è¡¨ â†’ è¯¦æƒ…</li>
<li>è·¨é¡µé¢ä¸´æ—¶æ•°æ®</li>
<li>ä¸æ±¡æŸ“ URL</li>
<li>ä»…ä¼šè¯å†…æœ‰æ•ˆ</li>
</ul>
<hr/>
<h2 data-id="heading-25"/>
<h2 data-id="heading-26"><strong>å…­ã€Data Routerï¼šloader ä¸ actionï¼ˆé«˜çº§ï¼‰</strong></h2>
<h2 data-id="heading-27"><strong>ğŸ“Œ ä¸ºä»€ä¹ˆéœ€è¦ Data Routerï¼Ÿ</strong></h2>
<p>ä¼ ç»Ÿ SPA æ•°æ®åŠ è½½æµç¨‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">æ¸²æŸ“ç»„ä»¶ â†’ useEffect â†’ <span class="hljs-keyword">fetch</span> æ•°æ® â†’ setState â†’å†æ¸²æŸ“
</code></pre>
<p>ä½†è¿™æœ‰å‡ ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li>å¤šå±‚åµŒå¥—æ—¶ useEffect éå¸¸ä¹±</li>
<li>SSRã€é¢„åŠ è½½ã€åˆ‡æ¢é¡µé¢æ—¶ä¸èƒ½ä¿è¯ä¸€è‡´æ€§</li>
<li>å¼‚æ­¥é”™è¯¯å¾ˆéš¾é›†ä¸­å¤„ç†</li>
<li>é¦–å±æ¸²æŸ“è¿‡æ…¢</li>
<li>React æ¸²æŸ“åæ‰è¯·æ±‚æ•°æ®ï¼Œç™½å±æ—¶é—´æ›´é•¿</li>
</ul>
<p>React Router v7 å¼•å…¥ Data Router åï¼Œæµç¨‹å˜æˆï¼š</p>
<pre><code class="hljs">è¿›å…¥æŸä¸ªè·¯ç”± â†’ æ‰§è¡Œ loader â†’ æ•°æ®å‡†å¤‡å¥½ â†’ å†æ¸²æŸ“ç»„ä»¶
</code></pre>
<p>å¥½å¤„ï¼š</p>
<ul>
<li>é¡µé¢æ¸²æŸ“ <strong>ä¹‹å‰</strong> å°±æ‹¿åˆ°æ•°æ®ï¼ˆé¦–å±æ›´å¿«ï¼‰</li>
<li>æ•°æ®é€»è¾‘ä» UI åˆ†ç¦»</li>
<li>é”™è¯¯è‡ªåŠ¨èµ°è·¯ç”± errorElement</li>
<li>å¤šä¸ª loader å¹¶è¡Œæ‰§è¡Œ</li>
<li>æ”¯æŒè‡ªåŠ¨ revalidateï¼ˆè‡ªåŠ¨åˆ·æ–°ï¼‰</li>
<li>SSR &amp; CSR ç»Ÿä¸€å¼€å‘ä½“éªŒ</li>
</ul>
<hr/>
<h2 data-id="heading-28"><strong>ğŸ“Œ 1. loaderï¼šåŠ è½½é¡µé¢æ•°æ®</strong></h2>
<p>loader æ˜¯è·¯ç”±çº§æ•°æ®åŠ è½½å‡½æ•°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-attr">path</span>: <span class="hljs-string">"/detail/:id"</span>,
  <span class="hljs-attr">loader</span>: <span class="hljs-keyword">async</span> ({ params, request }) =&gt; {
    <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api/detail/<span class="hljs-subst">${params.id}</span>`</span>);
    <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">json</span>();
  },
  <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">DetailPage</span> /&gt;</span></span>
}
</code></pre>
<p>ç»„ä»¶å†…è¯»å–ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">import { useLoaderData } from "react-router-dom"<span class="hljs-comment">;</span>

const <span class="hljs-attr">data</span> = useLoaderData()<span class="hljs-comment">;</span>
</code></pre>
<h3 data-id="heading-29"><strong>2. actionï¼šè¡¨å•æäº¤é€»è¾‘</strong></h3>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-attr">path</span>: <span class="hljs-string">"/create"</span>,
  <span class="hljs-attr">action</span>: <span class="hljs-keyword">async</span> ({ request }) =&gt; {
    <span class="hljs-keyword">const</span> form = <span class="hljs-keyword">await</span> request.<span class="hljs-title function_">formData</span>();
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">createItem</span>(form);
  },
  <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">CreatePage</span> /&gt;</span></span>
}
</code></pre>
<p>é…åˆ <code>&lt;Form&gt;</code>ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Form</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"post"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"title"</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>æäº¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Form</span>&gt;</span>
</code></pre>
<hr/>
<h2 data-id="heading-30"><strong>ä¸ƒã€é”™è¯¯è¾¹ç•Œ errorElement</strong></h2>
<p>v7 æ”¯æŒè·¯ç”±çº§é”™è¯¯ UIï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-attr">path</span>: <span class="hljs-string">"/"</span>,
  <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Layout</span> /&gt;</span></span>,
  <span class="hljs-attr">errorElement</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ErrorPage</span> /&gt;</span></span>,
}
</code></pre>
<p>è¯»å–å¼‚å¸¸ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">err</span> = useRouteError()<span class="hljs-comment">;</span>
</code></pre>
<hr/>
<h2 data-id="heading-31"><strong>å…«ã€handleï¼šè·¯ç”±å…ƒä¿¡æ¯ï¼ˆmetaï¼‰</strong></h2>
<p>å¯ç”¨äºï¼š</p>
<ul>
<li>é¡µé¢æ ‡é¢˜</li>
<li>é¢åŒ…å±‘</li>
<li>æƒé™</li>
<li>è·¯ç”±æè¿°</li>
</ul>
<pre><code class="hljs language-yaml" lang="yaml">{
  <span class="hljs-attr">path:</span> <span class="hljs-string">"settings"</span>,
  <span class="hljs-attr">handle:</span> { <span class="hljs-attr">title:</span> <span class="hljs-string">"ç³»ç»Ÿè®¾ç½®"</span>, <span class="hljs-attr">auth:</span> <span class="hljs-literal">true</span> },
  <span class="hljs-attr">element:</span> <span class="hljs-string">&lt;SettingsPage</span> <span class="hljs-string">/&gt;</span>
}
</code></pre>
<p>è¯»å–æ‰€æœ‰åŒ¹é…è·¯ç”±çš„ handleï¼š</p>
<pre><code class="hljs language-ini" lang="ini">import { useMatches } from "react-router-dom"<span class="hljs-comment">;</span>

const <span class="hljs-attr">matches</span> = useMatches()<span class="hljs-comment">;</span>
</code></pre>
<hr/>
<h2 data-id="heading-32"><strong>ä¹ã€æ¨¡å—åŒ–è·¯ç”±ï¼ˆå¤§å‹é¡¹ç›®æœ€ä½³å®è·µï¼‰</strong></h2>
<p>å‡è®¾æœ‰ä¸‰ä¸ªæ¨¡å—ï¼š<strong>Dashboardã€Userã€Project</strong></p>
<h4 data-id="heading-33"><strong>1ï¸âƒ£ Dashboard æ¨¡å—</strong></h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// routes/dashboard.routes.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> dashboardRoutes = [
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">"dashboard"</span>,
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">lazy</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> <span class="hljs-title class_">Component</span> = (<span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"@/pages/Dashboard"</span>)).<span class="hljs-property">default</span>;
      <span class="hljs-keyword">return</span> { <span class="hljs-title class_">Component</span> };
    },
    <span class="hljs-attr">handle</span>: { <span class="hljs-attr">title</span>: <span class="hljs-string">"Dashboard"</span> },
  },
];
</code></pre>
<hr/>
<h4 data-id="heading-34"><strong>2ï¸âƒ£ User æ¨¡å—ï¼ˆå¸¦ loader/actionï¼‰</strong></h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// routes/user.routes.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> userRoutes = [
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">"user"</span>,
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">lazy</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> <span class="hljs-title class_">Layout</span> = (<span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"@/pages/User/Layout"</span>)).<span class="hljs-property">default</span>;
      <span class="hljs-keyword">return</span> { <span class="hljs-title class_">Component</span>: <span class="hljs-title class_">Layout</span> };
    },
    <span class="hljs-attr">children</span>: [
      {
        <span class="hljs-attr">index</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-keyword">async</span> <span class="hljs-title function_">lazy</span>(<span class="hljs-params"/>) {
          <span class="hljs-keyword">const</span> <span class="hljs-title class_">Component</span> = (<span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"@/pages/User/List"</span>)).<span class="hljs-property">default</span>;
          <span class="hljs-keyword">return</span> { <span class="hljs-title class_">Component</span> };
        },
        <span class="hljs-attr">handle</span>: { <span class="hljs-attr">title</span>: <span class="hljs-string">"ç”¨æˆ·åˆ—è¡¨"</span> },
      },
    ],
  },
];
</code></pre>
<hr/>
<h4 data-id="heading-35"><strong>3ï¸âƒ£ Project æ¨¡å—</strong></h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// routes/project.routes.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> projectRoutes = [
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">"project"</span>,
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">lazy</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> <span class="hljs-title class_">Layout</span> = (<span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"@/pages/Project/Layout"</span>)).<span class="hljs-property">default</span>;
      <span class="hljs-keyword">return</span> { <span class="hljs-title class_">Component</span>: <span class="hljs-title class_">Layout</span> };
    },
    <span class="hljs-attr">children</span>: [
      {
        <span class="hljs-attr">index</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-keyword">async</span> <span class="hljs-title function_">lazy</span>(<span class="hljs-params"/>) {
          <span class="hljs-keyword">const</span> <span class="hljs-title class_">Component</span> = (<span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"@/pages/Project/List"</span>)).<span class="hljs-property">default</span>;
          <span class="hljs-keyword">return</span> { <span class="hljs-title class_">Component</span> };
        },
        <span class="hljs-attr">handle</span>: { <span class="hljs-attr">title</span>: <span class="hljs-string">"é¡¹ç›®åˆ—è¡¨"</span> },
      },
     
    ],
  },
];
</code></pre>
<hr/>
<h4 data-id="heading-36"><strong>4ï¸âƒ£ ä¸»è·¯ç”±ç»Ÿä¸€æ•´åˆ</strong></h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// routes/index.ts</span>
<span class="hljs-keyword">import</span> { createBrowserRouter } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-router-dom"</span>;
<span class="hljs-keyword">import</span> { dashboardRoutes } <span class="hljs-keyword">from</span> <span class="hljs-string">"./dashboard.routes"</span>;
<span class="hljs-keyword">import</span> { userRoutes } <span class="hljs-keyword">from</span> <span class="hljs-string">"./user.routes"</span>;
<span class="hljs-keyword">import</span> { projectRoutes } <span class="hljs-keyword">from</span> <span class="hljs-string">"./project.routes"</span>;

<span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createBrowserRouter</span>([
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">"/"</span>,
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">lazy</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> <span class="hljs-title class_">Layout</span> = (<span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"@/pages/Layout"</span>)).<span class="hljs-property">default</span>;
      <span class="hljs-keyword">return</span> { <span class="hljs-title class_">Component</span>: <span class="hljs-title class_">Layout</span> };
    },
    <span class="hljs-attr">children</span>: [
      ...dashboardRoutes,
      ...userRoutes,
      ...projectRoutes,
    ],
  },
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">"/login"</span>,
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">lazy</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> <span class="hljs-title class_">Component</span> = (<span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"@/pages/Login"</span>)).<span class="hljs-property">default</span>;
      <span class="hljs-keyword">return</span> { <span class="hljs-title class_">Component</span> };
    },
  },
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">"*"</span>,
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">lazy</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> <span class="hljs-title class_">Component</span> = (<span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"@/pages/NotFound"</span>)).<span class="hljs-property">default</span>;
      <span class="hljs-keyword">return</span> { <span class="hljs-title class_">Component</span> };
    },
  },
]);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router;
</code></pre>
<hr/>
<h2 data-id="heading-37"><strong>åã€æƒé™æ§åˆ¶ï¼ˆç»“åˆ loader + handleï¼‰</strong></h2>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-attr">path</span>: <span class="hljs-string">"admin"</span>,
  <span class="hljs-attr">handle</span>: { <span class="hljs-attr">auth</span>: <span class="hljs-literal">true</span> },
  <span class="hljs-attr">loader</span>: <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> login = <span class="hljs-keyword">await</span> <span class="hljs-title function_">checkLogin</span>();
    <span class="hljs-keyword">if</span> (!login) <span class="hljs-keyword">throw</span> <span class="hljs-title function_">redirect</span>(<span class="hljs-string">"/login"</span>);
  },
  <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Admin</span> /&gt;</span></span>
}
</code></pre>
<p>æ»¡è¶³æ‰€æœ‰æƒé™åœºæ™¯ã€‚</p>
<hr/>
<h2 data-id="heading-38"><strong>ç»“è¯­</strong></h2>
<p>React Router v7 æ˜¯ç›®å‰ React ç”Ÿæ€æœ€å…¨é¢çš„ SPA/SSR è·¯ç”±æ–¹æ¡ˆï¼Œå®ƒçš„ä¼˜åŠ¿åŒ…æ‹¬ï¼š</p>
<ul>
<li>ç»Ÿä¸€çš„é¡µé¢åŠ è½½æ–¹å¼</li>
<li>æŒ‰éœ€åŠ è½½ï¼ˆlazyï¼‰</li>
<li>æ¨¡å—åŒ–è·¯ç”±</li>
<li>çœŸæ­£æ„ä¹‰çš„è·¯ç”±æ•°æ®å±‚</li>
<li>å¼ºå¤§çš„é”™è¯¯è¾¹ç•Œå’Œ handle</li>
</ul>
<p>æ— è®ºæ˜¯å°é¡¹ç›®è¿˜æ˜¯å¤§å‹ç®¡ç†åå°ï¼Œå®ƒéƒ½è¶³å¤Ÿå¯æ§ä¸”å¯æ‰©å±•ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[bulk RNA-Seqï¼ˆ7ï¼‰å·®å¼‚è¡¨è¾¾åˆ†æå¯è§†åŒ–]]></title>    <link>https://juejin.cn/post/7573687816431058954</link>    <guid>https://juejin.cn/post/7573687816431058954</guid>    <pubDate>2025-11-18T07:38:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573687816431058954" data-draft-id="7573699930259701786" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="bulk RNA-Seqï¼ˆ7ï¼‰å·®å¼‚è¡¨è¾¾åˆ†æå¯è§†åŒ–"/> <meta itemprop="keywords" content="ç®—æ³•"/> <meta itemprop="datePublished" content="2025-11-18T07:38:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ—‹è½¬çš„é©¬é“ƒè–¯å¹²"/> <meta itemprop="url" content="https://juejin.cn/user/2138965292615177"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            bulk RNA-Seqï¼ˆ7ï¼‰å·®å¼‚è¡¨è¾¾åˆ†æå¯è§†åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2138965292615177/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ—‹è½¬çš„é©¬é“ƒè–¯å¹²
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T07:38:03.000Z" title="Tue Nov 18 2025 07:38:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸Šä¸€æœŸæˆ‘ä»¬è®²äº†æ ·æœ¬ç›¸å…³æ€§åˆ†æçš„ä¸€äº›å¯è§†åŒ–ï¼Œè¿™ä¸€æœŸæˆ‘ä»¬æ¥åšå·®å¼‚åˆ†æçš„çƒ­å›¾å’Œç«å±±å›¾ã€‚</p>
<p><strong>ç«å±±å›¾</strong></p>
<p>ç«å±±å›¾ï¼ˆVolcano Plotï¼‰RNA-seqç­‰åˆ†ææ—¶å¸¸ç”¨çš„ä¸€ç§å›¾ï¼Œå®ƒèƒ½å¤Ÿæ¸…æ™°åœ°å±•ç¤ºæ˜¾è‘—ä¸Šè°ƒå’Œä¸‹è°ƒçš„åŸºå› ï¼Œå› ä½œå‡ºæ¥çš„å›¾å½¢å¦‚ç«å±±å–·å‘ï¼Œæ•…è€Œå¾—åã€‚</p>
<p>ä¾‹å¦‚å›¾ä¸­ï¼ŒXè½´ä¸€èˆ¬è¡¨ç¤ºlog2çš„å€æ•°å˜åŒ–ï¼ŒYè½´ä¸€èˆ¬è¡¨ç¤º-log10(p-value)ï¼Œä¸åŒé¢œè‰²çš„ç‚¹è¡¨ç¤ºæ»¡è¶³ä¸åŒæ¡ä»¶çš„åŸºå› ã€‚<br/>
çº¢è‰²è¡¨ç¤ºä¸Šè°ƒåŸºå› ï¼ˆP&lt;0.05, Fold change &gt;=2ï¼‰ï¼Œè“è‰²è¡¨ç¤ºä¸‹è°ƒåŸºå› ï¼Œç°è‰²è¡¨ç¤ºä¸æ˜¾è‘—çš„åŸºå› ï¼ˆå³è¦ä¹ˆFold changeä¸æ»¡è¶³é˜ˆå€¼ï¼Œè¦ä¹ˆPvalueä¸æ»¡è¶³é˜ˆå€¼ï¼Œè¦ä¹ˆFold changeå’ŒPvalueéƒ½ä¸æ»¡è¶³é˜ˆå€¼ï¼‰ï¼Œä¸¤æ¡å‚ç›´è™šçº¿è¡¨ç¤ºFold changeï¼ˆè¿™é‡Œé»˜è®¤2å€ï¼Œå³log2(2)=1ï¼‰ï¼Œä¸€æ¡æ°´å¹³çº¿è¡¨ç¤ºPvalueé˜ˆå€¼ï¼ˆé»˜è®¤0.05ï¼‰</p>
<pre><code class="hljs language-ini" lang="ini">DE &lt;- read.delim("Rworkspace/de_result") <span class="hljs-comment">#å¯¼å…¥å·®å¼‚åˆ†æç»“æœ</span>
library(ggrepel)
my_palette &lt;- c('<span class="hljs-comment">#4DBBD5FF', '#999999','#E64B35FF' )</span>
library(ggplot2) 
ggplot(<span class="hljs-attr">data</span> = DE, aes(x = log2FoldChange, y = -log10(padj))) + 
geom_point(aes(<span class="hljs-attr">color</span> = direction, size = abs(log2FoldChange))) + 
geom_hline(<span class="hljs-attr">yintercept</span> = -log10(<span class="hljs-number">0.05</span>), linetype = <span class="hljs-string">'dashed'</span>, color = <span class="hljs-string">'red'</span>) + Â Â geom_vline(xinterceptÂ =Â c(-<span class="hljs-number">1</span>,<span class="hljs-number">1</span>),Â linetypeÂ =Â <span class="hljs-string">'dashed'</span>)Â +  
scale_color_manual(<span class="hljs-attr">values</span> = my_palette) +  
scale_size(<span class="hljs-attr">range</span> = c(<span class="hljs-number">0.1</span>,<span class="hljs-number">1.5</span>)) + 
guides(<span class="hljs-attr">size</span> = <span class="hljs-literal">FALSE</span>) + 
labs(<span class="hljs-attr">x</span> = <span class="hljs-string">'log2 fold change'</span>,    
<span class="hljs-attr">y</span> = <span class="hljs-string">'-log10(pvalue)'</span> ,   
<span class="hljs-attr">title</span> = <span class="hljs-string">'Vocano plot'</span>,    
<span class="hljs-attr">size</span> = <span class="hljs-string">'log2 fold change'</span>) +    
theme_bw()   
<span class="hljs-attr">legend.background</span> = element_blank())
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3ac409cb87144af80a33669d0df331e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peL6L2s55qE6ams6ZOD6Jav5bmy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056283&amp;x-signature=8%2FjIs8UwWrpbm54cSUWBK9fhLGI%3D" alt="image.png" loading="lazy"/></p>
<p>ç”¨é¢œè‰²ä»£è¡¨æ•°å­—ï¼Œè®©æ•°æ®å‘ˆç°æ›´ç›´è§‚ï¼Œå¯¹æ¯”æ›´æ˜æ˜¾ã€‚<br/>
ç›´è§‚å‘ˆç°å¤šæ ·æœ¬å¤šä¸ªåŸºå› çš„å…¨å±€è¡¨è¾¾é‡å˜åŒ–ã€‚</p>
<p>å‘ˆç°å¤šæ ·æœ¬å¤šåŸºå› è¡¨è¾¾é‡çš„èšç±»å…³ç³»ã€‚</p>
<p>èšç±»æ˜¯æŠŠç›¸ä¼¼çš„å¯¹è±¡é€šè¿‡é™æ€åˆ†ç±»çš„æ–¹æ³•åˆ†æˆä¸åŒçš„ç»„åˆ«æˆ–è€…æ›´å¤šçš„å­é›†ï¼Œè¿™æ ·è®©åœ¨åŒä¸€ä¸ªå­é›†ä¸­çš„æˆå‘˜å¯¹è±¡éƒ½æœ‰ç›¸ä¼¼çš„ä¸€äº›å±æ€§ã€‚</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">library</span>(tidyverse)
de_result &lt;- <span class="hljs-attribute">filter</span>(DE, abs(log2FoldChange) &gt; <span class="hljs-number">1</span> &amp; padj &lt; <span class="hljs-number">0.05</span>) %&gt;%
<span class="hljs-built_in">mutate</span>(FC = <span class="hljs-number">2</span> **log2FoldChange) %&gt;%  <span class="hljs-built_in">mutate</span>(direction = if_else( 
padj &gt; <span class="hljs-number">0.05</span>, 'ns', if_else(  
abs(log2FoldChange) &lt; <span class="hljs-number">1</span>, 'ns', <span class="hljs-built_in">if_else</span>(   
log2FoldChange &gt;= <span class="hljs-number">1</span>, 'up', 'down')))) %&gt;%
<span class="hljs-built_in">left_join</span>(gene_info, by = c('GID' = 'ID')) %&gt;% 
<span class="hljs-built_in">left_join</span>(rownames_to_column(genes_exp, var = 'GID'), 
by = 'GID') %&gt;%Â Â dplyr::<span class="hljs-built_in">select</span>(<span class="hljs-built_in">-c</span>(<span class="hljs-number">8</span>:<span class="hljs-number">9</span>))#logFC&gt;<span class="hljs-number">2</span>,padi&lt;<span class="hljs-number">0.05</span>ç­›é€‰å·®å¼‚åŸºå› ï¼Œå¹¶å…³è”åŸºå› ä¿¡æ¯è¡¨å’Œè¡¨è¾¾çŸ©é˜µpheatmap_de &lt;- <span class="hljs-built_in">select</span>(de_result, <span class="hljs-built_in">-c</span>(<span class="hljs-number">2</span>:<span class="hljs-number">15</span>)) %&gt;% 
<span class="hljs-built_in">column_to_rownames</span>(var = <span class="hljs-string">'GID'</span>)<span class="hljs-built_in">pheatmap</span>(<span class="hljs-built_in">log10</span>(pheatmap_deÂ ),Â cluster_rowsÂ =Â TRUE,Â          show_rownames = F,       
annotation_col = <span class="hljs-built_in">select</span>(sample_info, group),         cutree_rows =<span class="hljs-number">2</span>,         cutree_cols =<span class="hljs-number">2</span> )#ç”»å›¾å¹¶æ·»åŠ æ³¨é‡Šä¿¡æ¯
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[bulk RNA-Seqï¼ˆ8ï¼‰å¯Œé›†åˆ†æ]]></title>    <link>https://juejin.cn/post/7573669819028963338</link>    <guid>https://juejin.cn/post/7573669819028963338</guid>    <pubDate>2025-11-18T07:46:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573669819028963338" data-draft-id="7573694361474383899" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="bulk RNA-Seqï¼ˆ8ï¼‰å¯Œé›†åˆ†æ"/> <meta itemprop="keywords" content="ç®—æ³•"/> <meta itemprop="datePublished" content="2025-11-18T07:46:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ—‹è½¬çš„é©¬é“ƒè–¯å¹²"/> <meta itemprop="url" content="https://juejin.cn/user/2138965292615177"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            bulk RNA-Seqï¼ˆ8ï¼‰å¯Œé›†åˆ†æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2138965292615177/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ—‹è½¬çš„é©¬é“ƒè–¯å¹²
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T07:46:33.000Z" title="Tue Nov 18 2025 07:46:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸Šä¸€æœŸæˆ‘ä»¬è®²äº†æ ·æœ¬ç›¸å…³æ€§åˆ†æçš„ä¸€äº›å¯è§†åŒ–ï¼Œè¿™ä¸€æœŸæˆ‘ä»¬æ¥åšå·®å¼‚åˆ†æçš„çƒ­å›¾å’Œç«å±±å›¾ã€‚
<strong>æ„å»ºOrgDB</strong></p>
<p>OrgDBæ˜¯bioconductorä¸­å­˜å‚¨ä¸åŒæ•°æ®åº“åŸºå› IDä¹‹é—´çš„å¯¹åº”å…³ç³»ï¼Œä»¥åŠåŸºå› ä¸GOç­‰æ³¨é‡Šçš„å¯¹åº”å…³ç³»çš„Rè½¯ä»¶åŒ…ã€‚å…±æœ‰19ä¸ªç‰©ç§ï¼Œå¯ä»¥åœ¨è¿™é‡Œä¸‹è½½ï¼šBioconductor - BiocViews<br/>
æ²¡æœ‰OrgDBçš„ç‰©ç§å¯ä»¥é€šè¿‡AnnotationForgeè‡ªå·±æ„å»ºä½¿ç”¨eggnog-mapperçš„æ³¨é‡Šç»“æœæ„å»ºOrgDBï¼ˆç§èŠæˆ‘è·å–æ„å»ºOrgDBè„šæœ¬ï¼‰</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d665e88305a1420898fdae0db26b8ca0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peL6L2s55qE6ams6ZOD6Jav5bmy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056793&amp;x-signature=ElwVNHTZO75qhja%2FU2eiNIx0YRw%3D" alt="image.png" loading="lazy"/></p>
<p>GOå¯Œé›†ï¼ˆå·²æœ‰OrgDB,æ‹Ÿå—èŠ¥ä¸ºä¾‹ï¼‰</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/83d7c21655a5458a84fa3d19955db9b1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peL6L2s55qE6ams6ZOD6Jav5bmy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056793&amp;x-signature=JoG9YnEg99wkHV1TYr0rHJL3Qrg%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ab541bb7007042d39545dd8abafa9103~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peL6L2s55qE6ams6ZOD6Jav5bmy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056793&amp;x-signature=P9ojN%2BO0yZjUAxeJxaMGkM5bHKs%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b8d811494d294a27ae1fb6a1ef3989b6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peL6L2s55qE6ams6ZOD6Jav5bmy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056793&amp;x-signature=6dSOYE3kgUun%2BYxif1N2MfOYKgI%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/109009a3f69648d98debdda8ef26e8e0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peL6L2s55qE6ams6ZOD6Jav5bmy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056793&amp;x-signature=Djv%2F0xAxn%2FIauJESrMSFMkQ96%2Bg%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/25030ccc1a714ae885b6801e7b6b232a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peL6L2s55qE6ams6ZOD6Jav5bmy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056793&amp;x-signature=wQFclwvYWwXnOE5Cai8vNi62pvQ%3D" alt="image.png" loading="lazy"/></p>
<p>KEGGå¯Œé›†åˆ†æï¼ˆä¸å¸¸è§ç‰©ç§ï¼‰</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cbc2e793554a416dbbcd6bbb401c1171~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peL6L2s55qE6ams6ZOD6Jav5bmy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056793&amp;x-signature=Zszu596Xt1YKWCEHmyfoWPGx%2F4s%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e776190ea85942599e90b77a0cbb45f4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peL6L2s55qE6ams6ZOD6Jav5bmy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056793&amp;x-signature=EHgoxP9BCD3QhWxoXuXKXPQde%2BY%3D" alt="image.png" loading="lazy"/></p>
<p>KEGGå¯Œé›†åˆ†æï¼ˆå¸¸è§ç‰©ç§,æ‹Ÿå—èŠ¥ï¼‰</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ffacbc9be2414603aefb41702bfcefbd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peL6L2s55qE6ams6ZOD6Jav5bmy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056793&amp;x-signature=iGJxWZmVKNtWsvrR3T16wECCjYs%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a79ab4a4ec544eb0b7db01a76f091aef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peL6L2s55qE6ams6ZOD6Jav5bmy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764056793&amp;x-signature=j4zWKkZhMVkwkaR46zdERX3HLgM%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Kafka æ¶ˆæ¯ç§¯å‹äº†ï¼ŒåŒäº‹è·‘è·¯äº†]]></title>    <link>https://juejin.cn/post/7573687816431190026</link>    <guid>https://juejin.cn/post/7573687816431190026</guid>    <pubDate>2025-11-18T07:54:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573687816431190026" data-draft-id="7573687816431140874" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Kafka æ¶ˆæ¯ç§¯å‹äº†ï¼ŒåŒäº‹è·‘è·¯äº†"/> <meta itemprop="keywords" content="Spring Cloud,Kafka,åç«¯"/> <meta itemprop="datePublished" content="2025-11-18T07:54:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çº¸ä»“"/> <meta itemprop="url" content="https://juejin.cn/user/1812410601572599"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Kafka æ¶ˆæ¯ç§¯å‹äº†ï¼ŒåŒäº‹è·‘è·¯äº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1812410601572599/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çº¸ä»“
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T07:54:44.000Z" title="Tue Nov 18 2025 07:54:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¿«åˆ°å¹´åº•äº†ï¼Œç³»ç»Ÿé¢‘ç¹å‡ºé—®é¢˜ã€‚æˆ‘æœ‰æ­£å½“ç†ç”±æ€€ç–‘è€æ¿ä¸æƒ³å‘å¹´ç»ˆå¥–æ‰€ä»¥æäº‹ã€‚</p>
<p>è¿™ä¸ï¼Œå‡ å¹´éƒ½é‡ä¸åˆ°çš„æ¶ˆæ¯é˜Ÿåˆ—ç§¯å‹ç°è±¡ä»Šæ™šåˆå·åœŸé‡æ¥äº†ã€‚</p>
<p>ä»Šæ™šæ³¨å®šæ˜¯ä¸ªä¸çœ å¤œäº†ï¼ŒåŸç¥å¯åŠ¨ã€‚ã€‚ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d262a2234a3345a5bd06d6e88cb83886~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57q45LuT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764057283&amp;x-signature=EgR7MTMwdg1urXnKTvopJ4l0pdY%3D" alt="image.png" loading="lazy"/></p>
<p>ç»„é‡Œçš„å°ä¼™ä¼´ç«æ€¥ç«ç‡æ‰¾åˆ°æˆ‘è¯´ï¼ŒKafka çš„æ¶ˆæ¯ç§¯å‹ä¸€ç›´åœ¨æ¶¨ï¼Œé¢„è§ˆå›¾ä¸€ç›´å‡ºä¸æ¥ã€‚æˆ‘åŠ äº†å‡ ä¸ªæœåŠ¡å®ä¾‹ï¼Œåˆšå¼€å§‹å¯ä»¥æ¶ˆè´¹ï¼Œåé¢æ¶ˆè´¹ç€ä¹Ÿå¡ä½äº†ã€‚</p>
<p>æœ¬æ¥åˆšåˆšä¸‹ç­çš„æˆ‘å°±æ¯”è¾ƒç–²æƒ«ï¼Œæƒ³è®©ä»–æ’¤å›é•œåƒæ˜å¤©å†ä¸Šã€‚ä¸æˆæƒ³ç»„é•¿ä¸è®²æ­¦å¾·ï¼Œç›´æ¥å¼€äº†ä¸ªé£ä¹¦è§†é¢‘ã€‚</p>
<p>æˆ‘å½“æ—¶æœ¬æ¥ä¸æƒ³ç†ä»–ï¼Œæˆ‘å·²ç»ä¸‹ç­äº†ï¼Œåˆ«äººä¸Šçº¿çš„åŠŸèƒ½å‡ºé—®é¢˜å…³æˆ‘å•¥äº‹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/de4e28b56392431cb9ced680fc7ca0fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57q45LuT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764057283&amp;x-signature=0E67yTsROPOVD8BnIxMoOI0E6Hg%3D" alt="image.png" loading="lazy"/></p>
<p>åæ¥ä»–è¶æˆ‘ä¸æ³¨æ„æå·è¢­ï¼Œç»™æˆ‘ç§ä¿¡äº†ï¼Œæˆ‘å½“æ—¶æ²¡å¤šæƒ³å°±ç‚¹å¼€äº†é£ä¹¦ã€‚</p>
<p>æœ¬æ¥ä»¥ä¼ ç»ŸåŠŸå¤«çš„ç‚¹åˆ°ä¸ºæ­¢ï¼Œæˆ‘è¿›å…¥é£ä¹¦ä¸ç‚¹å¼€ä»–çš„ä¼šè¯ï¼Œæ˜¯èƒ½çœ‹ä»–ç»™æˆ‘å‘çš„æœ€åä¸€å¥è¯çš„ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d01ffbdf60cd4787b53b80772b77e7a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57q45LuT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764057283&amp;x-signature=HIYSUBEibj6LkQLBebckeAbaiu4%3D" alt="image.png" loading="lazy"/></p>
<p>æˆ‘æŠŠæ‰‹æ”¾åœ¨ä»–é‚£ä¸ªä¼šè¯ä¸Šå°±æ˜¯æ²¡ç‚¹å¼€ï¼Œå·²è¯»ä¸å›è¿™ç§äº‹åšå¤šäº†ä¸å¥½ã€‚æˆ‘ç¬‘äº†ä¸€ä¸‹ï¼Œå‡†å¤‡æ´—æ´—ç¡äº†ã€‚</p>
<p>æ­£åœ¨æˆ‘æ”¶æ‰‹ä¸ç‚¹çš„æ—¶å€™ï¼Œä»–çªç„¶ç»™æˆ‘æ¥äº†ä¸€ä¸ªç”µè¯ï¼Œæˆ‘å¤§æ„äº†å•Šï¼Œæ²¡æœ‰æŒ‚ï¼Œè¿˜å¼ºè¡Œæ¥äº†ä»–çš„ç”µè¯ã€‚ä¸¤åˆ†å¤šé’Ÿä»¥åå°±å¥½äº†ï¼Œæˆ‘è¯´å°ä¼™å­ä½ ä¸è®²æ­¦å¾·ã€‚</p>
<p>ç›´æ¥å–Šè¯ï¼Œä»Šæ™šå¿…é¡»è§£å†³ï¼Œå¤§å®¶éƒ½ç‚¹å’–å•¡ç®—ä»–çš„ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dd429dec7d7b40628ea638adf1398c1c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57q45LuT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764057283&amp;x-signature=BlGPf6cgFQnEht1CZSow5sSincg%3D" alt="image.png" loading="lazy"/>
è¿™çœŸæ²¡åŠæ³•ï¼Œéƒ½æ‰¾ä¸Šé—¨æ¥äº†ã€‚åªèƒ½è·Ÿç€æŸ¥ä¸€ä¸‹ï¼Œæ—©ç‚¹è§£å†³æ—©ç‚¹ç¡è§‰ã€‚ç„¶åæˆ‘å°±ä¸Š Kafka é¢æ¿ä¸€çœ‹ï¼šæœ€åˆçš„4ä¸ªåˆ†åŒºå·²ç»ç§¯å‹äº† 1200 æ¡ï¼Œåé¢æ–°åŠ çš„åˆ†åŒºä¹Ÿå¼€å§‹ç§¯å‹äº†ï¼Œè€Œä¸”ç§¯å‹çš„é€Ÿåº¦è¶Šæ¥è¶Šå¿«ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/168bdb4c49b341a09684c6d7474a7aeb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57q45LuT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764057283&amp;x-signature=IQk0XL6JvXa3zCv32Ke%2BxEF0%2BdY%3D" alt="image.png" loading="lazy"/></p>
<p>ææ¸…æ¥šå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿæˆ‘ä»¬å°±å¾—æ€è€ƒä¸€ä¸‹å¯¼è‡´ç§¯å‹çš„åŸå› ã€‚ä¸€èˆ¬æ˜¯æ¶ˆè´¹è€…ä»£ç æ‰§è¡Œå‡ºé”™äº†ï¼Œå¯¼è‡´æŸæ¡æ¶ˆæ¯æ¶ˆè´¹ä¸äº†ã€‚</p>
<p>æ‰€ä»¥æŸä¸ªç‚¹å¡ä½äº†ï¼Œç„¶ååˆæœ‰æ–°çš„æ¶ˆæ¯è¿›æ¥ã€‚</p>
<p>Kafka æ˜¯é€šè¿‡ offset æœºåˆ¶æ¥æ ‡è®°æ¶ˆæ¯æ˜¯å¦æ¶ˆè´¹è¿‡çš„ï¼Œæ‰€ä»¥å¦‚æœåˆ†åŒºä¸­æœ‰æŸä¸€æ¡æ¶ˆæ¯æ¶ˆè´¹å¤±è´¥ï¼Œå°±ä¼šå¯¼è‡´åé¢çš„æ²¡æœºä¼šæ¶ˆè´¹ã€‚</p>
<p>æˆ‘ç”¨çš„æ˜¯spring cloud stream æ¥å¤„ç†æ¶ˆæ¯é˜Ÿåˆ—çš„å‘é€å’Œç›‘å¬ã€‚ä»£ç ä¸Šæ˜¯æ¯æ¬¡å¤„ç†ä¸€æ¡æ¶ˆæ¯ï¼Œè€Œä¸”ä»£ç è¿˜åœ¨å¤„ç†çš„è¿‡ç¨‹ä¸­åŠ äº† try-catchã€‚ç›‘å¬å™¨é“¾è·¯æ‰“å°çš„æ—¥å¿—æ˜¾ç¤ºæ‰§è¡ŒæˆåŠŸäº†ï¼Œtry-catchä¹Ÿæ²¡æœ‰æ•æ‰åˆ°ä»»ä½•çš„å¼‚å¸¸ã€‚</p>
<p>è¿™ä¸€çœ‹ï¼Œæˆ‘å°±ä»¥ä¸ºæ˜¯æ¶ˆè´¹è€…æ€§èƒ½ä¸è¶³ï¼Œçªç„¶æƒ³èµ· SpringCloudStream å¥½åƒæœ‰ä¸ªå¤šçº¿ç¨‹æ¶ˆè´¹çš„æœºåˆ¶ã€‚ç«‹é©¬è®©å¼€å‘è€å“¥è¯•è¯•ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½å°±è¿™æ ·è§£å†³äº†ï¼Œæˆ‘å›°å¾—ä¸è¡Œã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4aa5194bc0dd4d11a11e4f420644b18d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57q45LuT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764057283&amp;x-signature=%2BrMIs%2FHVShaV5EWk1STUCapwJDI%3D" alt="image.png" loading="lazy"/></p>
<p>æˆ‘åŠçœ¯ç€çœ¼ç›è¢«æé†’åµé†’äº†ã€‚å¼€å‘è€å“¥æŠŠå¤šçº¿ç¨‹æ”¹æˆ10ä¹‹åï¼Œå‘ç°ç§¯å‹æ›´å¿«äº†ï¼Œè€Œä¸”è¿˜æœ‰podä¼šæŒ‚ã€‚è€å“¥æŸ¥äº†ä¸€ä¸‹å¤šçº¿ç¨‹çš„é…ç½® concurrencyã€‚</p>
<p>åŸæ¥æŒ‡çš„æ˜¯æ¶ˆè´¹è€…çº¿ç¨‹ï¼Œä¸€ä¸ªæ¶ˆè´¹è€…çº¿ç¨‹ä¼šè´Ÿè´£å¤„ç†ä¸€ä¸ªåˆ†åŒºã€‚å¯¹äºæˆ‘ä»¬æ¥è¯´ï¼Œå¢åŠ ä¹‹åå¯èƒ½ä¼šå¯¼è‡´ä¸¥é‡çš„æµé‡å€¾æ–œï¼Œéš¾æ€ªpodä¼šæŒ‚æ‰ï¼Œèµ¶ç´§æ¢å¤äº†å›å»ã€‚</p>
<p>çœ‹æ¥æƒ³ç³Šå¼„è¿‡å»æ˜¯ä¸è¡Œäº†ï¼Œæˆ‘æŠŠpodè¿è¡Œçš„æ—¥å¿—å…¨éƒ¨æ‹‰ä¸‹æ¥ã€‚æŸ¥äº†ä¸€ä¸‹æ—¥å¿—ï¼Œæ—¥å¿—æ˜¾ç¤ºæ‰§è¡ŒæˆåŠŸäº†ï¼Œä½†åŒæ—¶æœ‰è¶…æ—¶é”™è¯¯ï¼Œè¿™å°±è§äº†é¬¼äº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f520d30783e648208fc84f9af2fa7e15~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57q45LuT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764057283&amp;x-signature=9Xd6ePItrR7Gza9g4a4v6jmip84%3D" alt="image.png" loading="lazy"/></p>
<p>ä½œä¸ºä¸€ä¸ªåšå®šçš„å”¯ç‰©ä¸»ä¹‰è€…ï¼Œæˆ‘æ˜¯ä¸ä¿¡è§é¬¼çš„ã€‚ä½†æ­¤åˆ»æˆ‘æ±—æ¯›å€’ç«–ï¼Œå“å¾—ä¸æ•¢å†çœ‹å±å¹•ä¸€çœ¼ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e734b9c41f6d44cc9d91f95346099844~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57q45LuT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764057283&amp;x-signature=uJ6DjPAI2ah7TsTUDgNrZgaYilU%3D" alt="image.png" loading="lazy"/></p>
<p>ä½†æ˜¯å†…å¿ƒåˆè§‰å¾—ä¸ç”˜å¿ƒï¼Œäºæ˜¯æˆ‘å·å·ç„äº†ä¸€çœ¼å±å¹•ã€‚ä¸çœ‹è¿˜å¥½ï¼Œä¸€å–µä½ çŒœæˆ‘å‘ç°äº†å•¥ï¼Ÿ</p>
<p>æ¶ˆè´¹è€…ç»„é‡å¹³è¡¡äº†ï¼Œè¿™å°±åƒæ˜¯åœ¨é»‘æš—ä¸­æœ‰ä¸€æŸå…‰ç…§å‘äº†æˆ‘ï¼ŒçŒªå…«æˆ’å‘ç°å«¦å¨¥åŸæ¥ä¸€ç›´æš—æ‹è‡ªå·±ï¼Œæˆ‘çš„å¥³ç¥å…¶å®ä¸éœ€è¦æ‹‰å±ã€‚</p>
<p>æœ‰äº†é‡å¹³è¡¡å°±å¥½è¯´äº†ï¼Œæ— éå°±æ˜¯ä¸¤ç§æƒ…å†µï¼Œä¸€æ˜¯æœåŠ¡æŒ‚æ‰äº†ï¼ŒäºŒæ˜¯æœåŠ¡æ¶ˆè´¹è€…æ‰§è¡Œè¶…æ—¶äº†ã€‚ç°åœ¨çœ‹æ¥æœåŠ¡æ²¡æœ‰æŒ‚ï¼Œé‚£å°±æ˜¯è¶…æ—¶äº†ï¼Œä¹Ÿæ­£å¥½å’Œä¸Šé¢çš„æ—¥å¿—èƒ½å¯¹ä¸Šã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/04985de725e14d628345e7b71ee76d0b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57q45LuT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764057283&amp;x-signature=iK374RfLuibUb%2BoRMw%2BlPETGfq0%3D" alt="image.png" loading="lazy"/></p>
<p>é‚£æ€ä¹ˆåˆçœ‹åˆ°ç›‘å¬å™¨æ‰§è¡Œçš„ç»“æœæ˜¯æ­£å¸¸çš„å‘¢ï¼Ÿ</p>
<p>è¿™å°±å¾—ä» Kafka çš„æ‰¹é‡æ‹‰å–æœºåˆ¶è¯´èµ·äº†ï¼Œè¿™è´§å’Œæˆ‘ä»¬äººç±»ç›´è§‰ä¸Šçš„çš„é˜Ÿåˆ—æœºåˆ¶ä¸å¤ªä¸€æ ·ã€‚æˆ‘ä»¬ä¸€èˆ¬ç†è§£çš„é˜Ÿåˆ—æ˜¯å‘é€ä¸€ä¸ªæ¶ˆæ¯ç»™é˜Ÿåˆ—ï¼Œç„¶åé˜Ÿåˆ—å°±å¼‚æ­¥æŠŠè¿™æ¶ˆæ¯ç»™æ¶ˆè´¹è€…ã€‚ä½†æ˜¯è¿™è´§æ˜¯æ¶ˆè´¹è€…ä¸»åŠ¨å»<strong>æ‹‰å–ä¸€æ‰¹</strong>æ¥æ¶ˆè´¹ã€‚</p>
<p>ç„¶åå¥½æ­»ä¸æ­»ï¼ŒSpringCloudStream ä¸ºäº†å°è£…å¾—å¥½ç”¨ç¬¦åˆäººç±»çš„è®¤çŸ¥ï¼Œå°±åšæˆäº†ä¸€èˆ¬ç†è§£çš„é˜Ÿåˆ—é‚£ç§æ–¹å¼ã€‚</p>
<p>SpringCloudStream ä¸€æ‰¹æ‹‰äº†500æ¡è®°å½•ï¼Œç„¶åæä¾›äº†ä¸€ä¸ªç›‘å¬å™¨æ¥å£è®©æˆ‘ä»¬å®ç°ã€‚å…¥å‚æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯500æ¡æ•°æ®ä¸­çš„ä¸€æ¡ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/659126ce33d44c4e887c1df1db5655f0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57q45LuT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764057283&amp;x-signature=cbDMY0wPWJdT9Y9FacBwEj61cyk%3D" alt="image.png" loading="lazy"/></p>
<p>æˆ‘ä»¬å‡è®¾è¿™500æ¡æ•°æ®çš„IDæ˜¯ 001-500ï¼Œæ¯ä¸€æ¡æ•°æ®å¯¹åº”çš„æ¶ˆè´¹è€…éœ€è¦æ‰§è¡Œ10sã€‚é‚£ä¹ˆæ€»å…±å°±éœ€è¦500 x 10s=5000sã€‚</p>
<p>å†å‡è®¾æ¶ˆè´¹è€…æ‰§è¡Œçš„è¶…æ—¶æ—¶é—´æ˜¯ 300sï¼Œè€Œä¸”æ¶ˆè´¹è€…æ‰§è¡Œçš„è¿‡ç¨‹æ˜¯ä¸²è¡Œçš„ã€‚é‚£ä¹ˆ500æ¡ä¸­æœ€å¤šåªèƒ½æ‰§è¡Œ30æ¡ï¼Œè¿™å°±èƒ½è§£é‡Šä¸ºä»€ä¹ˆçœ‹æ¶ˆè´¹é“¾è·¯æ˜¯æ­£å¸¸çš„ï¼Œä½†æ˜¯è¿˜è¶…æ—¶ã€‚</p>
<p>å› ä¸ºå•æ¬¡æ¶ˆè´¹ç¡®å®æˆåŠŸäº†ï¼Œä½†æ˜¯æ‰¹æ¬¡æ¶ˆè´¹ä¹Ÿç¡®å®è¶…æ—¶äº†ã€‚</p>
<p>æˆ‘å’§ä¸ªè±†ï¼Œç ´æ¡ˆäº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/01f37852aca94c5e82fb78b2cf547c96~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57q45LuT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764057283&amp;x-signature=obku9iCkmjK%2BKHFoNtRFYpM%2B8h4%3D" alt="image.png" loading="lazy"/></p>
<p>äºæ˜¯æˆ‘å°±æƒ³åˆ°äº†ä¸¤ç§æ–¹å¼æ¥å¤„ç†è¿™ä¸ªé—®é¢˜ï¼šç¬¬ä¸€æ˜¯æ”¹æˆå•æ¡æ¶ˆæ¯æ¶ˆè´¹å®Œç«‹é©¬ç¡®è®¤ï¼Œç¬¬äºŒæ˜¯æŠŠæ‰¹æ¬¡æ‹‰å–çš„æ•°æ®é‡æ”¹å°ä¸€ç‚¹ã€‚</p>
<p>ç¬¬ä¸€ç§æ–¹æ¡ˆæŒºå¥½çš„ï¼Œå°±æ˜¯æ€§èƒ½è‚¯å®šæ²¡æœ‰æ‰¹é‡é‚£ä¹ˆå¥½ï¼Œä¸ç„¶ä½ ä»¥ä¸º Kafka çš„ååé‡èƒ½è–„çº±ActiveMQè¿™äº›ä¼ ç»Ÿé˜Ÿåˆ—ã€‚ååé‡éƒ½æ˜¯å°äº‹ï¼Œè¿™ä¸ªæ–¹æ¡ˆèƒœåœ¨å¯ä»¥ç«‹é©¬å»ç¡è§‰äº†ã€‚åªéœ€è¦æ”¹ä¸€ä¸ªé…ç½®ï¼š<code>ack-mode: RECORD</code></p>
<p>ç¬¬äºŒç§æ–¹æ¡ˆæ˜¯åæ¥æçš„ï¼Œå…¶å®å•å•æŠŠæ‰¹æ¬¡æ‹‰å–çš„æ•°æ®é‡æ”¹å°æ€§èƒ½æå‡è¿˜ä¸æ˜¯å¾ˆæ˜æ˜¾ã€‚ä¸è¿‡æ—¢ç„¶æˆ‘ä»¬éƒ½èƒ½æ‹¿åˆ°ä¸€æ‰¹æ•°æ®äº†ï¼Œé‚£å¤šçº¿ç¨‹å®‰æ’ä¸Šå°±å¾—äº†ã€‚</p>
<p>å…ˆæ”¹é…ç½®ï¼Œä¸€æ¬¡åªæ‹‰å–50æ¡ <code>max.poll.records: 50</code>ã€‚ç„¶åå¯ç”¨çº¿ç¨‹æ± å¤„ç†ï¼Œå®Œç¾ï¼</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@StreamListener("&lt;TOPIC&gt;")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">consume</span><span class="hljs-params">(List&lt;<span class="hljs-type">byte</span>[]&gt; payloads)</span> {
    
    List&lt;CompletableFuture&lt;Void&gt;&gt; futures = payloads.stream().map(bytes -&gt; {
        <span class="hljs-type">Payload</span> <span class="hljs-variable">payload</span> <span class="hljs-operator">=</span> JacksonSnakeCaseUtils.parseJson(<span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(bytes), Payload.class);

        <span class="hljs-keyword">return</span> CompletableFuture.runAsync(() -&gt; {
            <span class="hljs-comment">// ........</span>
        }, batchConsumeExecutor).exceptionally(e -&gt; {
            log.error(<span class="hljs-string">"Thread error {}"</span>, bytes, e);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        });
    }).collect(Collectors.toList());

    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// ç­‰å¾…è¿™æ‰¹æ¶ˆæ¯ä¸­çš„æ‰€æœ‰ä»»åŠ¡å…¨éƒ¨å®Œæˆ</span>
        CompletableFuture.allOf(futures.toArray(<span class="hljs-keyword">new</span> <span class="hljs-title class_">CompletableFuture</span>[<span class="hljs-number">0</span>])).join();
        errorMessage = <span class="hljs-string">"OK"</span>;
    } <span class="hljs-keyword">catch</span> (Exception e) {
        errorMessage = <span class="hljs-string">"Ex: "</span> + e.getMessage();
    } <span class="hljs-keyword">finally</span> {
        <span class="hljs-comment">// ...</span>
    }
}
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/22c364e4a4264b7394cdcd4ea05eadb8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57q45LuT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764057283&amp;x-signature=052zcBN1DKbaLbU2W6KA1WK2yNw%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Grok 4.1æ·±å¤œå‘å¸ƒï¼ç®—åŠ›éœ€æ±‚è·ƒå‡èƒŒåçš„æŠ€æœ¯æ¼”è¿›ä¸å¼€å‘è€…æœºé‡]]></title>    <link>https://juejin.cn/post/7573855399716700179</link>    <guid>https://juejin.cn/post/7573855399716700179</guid>    <pubDate>2025-11-18T08:00:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573855399716700179" data-draft-id="7573776814948122643" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Grok 4.1æ·±å¤œå‘å¸ƒï¼ç®—åŠ›éœ€æ±‚è·ƒå‡èƒŒåçš„æŠ€æœ¯æ¼”è¿›ä¸å¼€å‘è€…æœºé‡"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,èµ„è®¯"/> <meta itemprop="datePublished" content="2025-11-18T08:00:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç®—å®¶è®¡ç®—"/> <meta itemprop="url" content="https://juejin.cn/user/1426490793396571"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Grok 4.1æ·±å¤œå‘å¸ƒï¼ç®—åŠ›éœ€æ±‚è·ƒå‡èƒŒåçš„æŠ€æœ¯æ¼”è¿›ä¸å¼€å‘è€…æœºé‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1426490793396571/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç®—å®¶è®¡ç®—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T08:00:41.000Z" title="Tue Nov 18 2025 08:00:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä»Šå¤©å‡Œæ™¨ï¼Œé©¬æ–¯å…‹æ——ä¸‹xAIæ­£å¼å‘å¸ƒäº†Grok 4.1æ¨¡å‹ã€‚è¯¥ç‰ˆæœ¬ç°å·²å‘æ‰€æœ‰ç”¨æˆ·å¼€æ”¾ï¼Œå…è´¹ç”¨æˆ·ä¹Ÿèƒ½åœ¨Grokå®˜ç½‘ã€Xå¹³å°åŠiOSå’ŒAndroidåº”ç”¨ä¸­ä½“éªŒåˆ°ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ab6bc1c34104be68266d1cc8f5bd9dc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764057640&amp;x-signature=OZCfeHBiiY5gRRJ7%2BLNdCvhpcTg%3D" alt="image.png" loading="lazy"/></p>
<p>ä¸ä¹‹å‰ä¸»è¦è¿½æ±‚å‚æ•°è§„æ¨¡çš„å¢é•¿ä¸åŒï¼ŒGrok 4.1åœ¨ç®—åŠ›æ”¯æ’‘ä¸‹ï¼Œæ¨¡å‹ä»å•çº¯è§„æ¨¡æ‰©å¼ è½¬å‘ç»¼åˆèƒ½åŠ›ä¼˜åŒ–ï¼Œç‰¹åˆ«æ˜¯åœ¨æ¨ç†è´¨é‡ã€æƒ…æ„Ÿäº¤äº’å’Œä¸ªæ€§åŒ–ä½“éªŒæ–¹é¢å®ç°äº†è´¨çš„é£è·ƒã€‚</p>
<p>åœ¨å›½é™…ç›²æµ‹å¹³å°LMSYS Arenaçš„æœ€æ–°è¯„ä¼°ä¸­ï¼ŒGrok 4.1çš„æ€è€ƒæ¨¡å¼è·å¾—äº†1483çš„Eloè¯„åˆ†ï¼Œåœ¨æ‰€æœ‰å…¬å¼€å¯ç”¨æ¨¡å‹ä¸­æ’åç¬¬ä¸€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/698a05d7d8f443e18798d415d47d1a93~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764057640&amp;x-signature=M0VnpvnEb9CBQaBbT%2BLVxYO%2Bz84%3D" alt="å›¾åƒ" loading="lazy"/></p>
<p>Grok 4.1çš„å‘å¸ƒä¸ä»…æ˜¯æ¨¡å‹èƒ½åŠ›çš„å‡çº§ï¼Œå…¶èƒŒåæ˜¯ç®—åŠ›éœ€æ±‚çš„æ•°é‡çº§è·ƒå‡ã€‚è¿™æ—¢é¢„ç¤ºç€æ›´é«˜çš„é—¨æ§›ï¼Œä¹Ÿæ­ç¤ºäº†æ›´å¹¿é˜”çš„æœºé‡ã€‚</p>
<p>Grok 4.1æ‰€ä»£è¡¨çš„ç®—åŠ›å¢é•¿å¹¶éå­¤ä¾‹ï¼Œå®ƒé¡ºåº”äº†æ¨¡å‹å‘å±•å¯¹ç®—åŠ›æ„ˆå‘æ¸´æ±‚çš„æ ¸å¿ƒè¶‹åŠ¿ã€‚</p>
<p>ä¸€æ–¹é¢ï¼Œæ¨¡å‹è¿›åŒ–é©±åŠ¨ç®—åŠ›éœ€æ±‚çš„å¢é•¿ã€‚å½“å‰ï¼Œé¡¶å°–AIæ¨¡å‹çš„è®­ç»ƒè®¡ç®—é‡æ­£ä»¥æ¯5ä¸ªæœˆç¿»ä¸€ç•ªçš„é€Ÿåº¦å¢é•¿ã€‚Grok 4.1åœ¨æ¨ç†è´¨é‡å’Œæƒ…æ„Ÿäº¤äº’ç­‰æ–¹é¢çš„æ˜¾è‘—æå‡ï¼Œå¾ˆå¯èƒ½ä¾èµ–äºæ›´å¤æ‚çš„æ¨¡å‹æ¶æ„ã€æ›´å¤§è§„æ¨¡çš„é«˜è´¨é‡è®­ç»ƒæ•°æ®ä»¥åŠæ›´è€—æ—¶çš„å¼ºåŒ–å­¦ä¹ å¯¹é½æŠ€æœ¯ï¼Œè¿™äº›éƒ½ç›´æ¥è½¬åŒ–ä¸ºäº†å¯¹è®¡ç®—èµ„æºçš„å·¨é‡éœ€æ±‚ã€‚</p>
<p>åŒæ—¶ï¼Œæ¨¡å‹èƒ½åŠ›æ­£ä»â€œå¯¹è¯â€å‘â€œåŠäº‹â€æ¼”è¿›ï¼Œè¿™æ„å‘³ç€å®ƒéœ€è¦åœ¨å¤æ‚é“¾æ¡ä¸­ä¿æŒç¨³å®šçš„è¾“å‡ºå’ŒçŠ¶æ€è·Ÿè¸ªï¼Œå…¶æ¨ç†æˆæœ¬è¿œé«˜äºç®€å•çš„é—®ç­”ã€‚Grok 4.1è‡´åŠ›äºæˆä¸ºèƒ½å¤„ç†å¤æ‚ä»»åŠ¡çš„â€œæ™ºèƒ½ä½“â€ï¼Œè¿™èƒŒåæ˜¯æŒç»­è¿è¡Œçš„ç®—åŠ›æ¶ˆè€—ã€‚</p>
<h2 data-id="heading-0">æŠ€æœ¯æ¼”è¿›ä¸æ•ˆç‡ä¼˜åŒ–</h2>
<p>é¢å¯¹é£™å‡çš„ç®—åŠ›éœ€æ±‚ï¼Œè¡Œä¸šä¹Ÿåœ¨é€šè¿‡æŠ€æœ¯é©æ–°è¿›è¡Œåº”å¯¹ï¼Œè¯•å›¾åœ¨æ¨¡å‹æ€§èƒ½ã€æ•ˆç‡å’Œæˆæœ¬ä¹‹é—´æ‰¾åˆ°å¹³è¡¡ã€‚</p>
<p>ä¸€æ–¹é¢ï¼Œæ¨¡å‹è§„æ¨¡ä»åœ¨å¢é•¿ï¼›å¦ä¸€æ–¹é¢ï¼Œæ¨¡å‹æ•ˆç‡ä¹Ÿåœ¨é£é€Ÿæå‡ã€‚æ•°æ®æ˜¾ç¤ºï¼Œåœ¨è¾¾åˆ°GPT-3.5æ°´å¹³ä¸Šçš„ç³»ç»Ÿæ¨ç†æˆæœ¬ï¼Œåœ¨è¿‘ä¸¤å¹´å†…ä¸‹é™äº†280å€ã€‚åŒæ—¶ï¼Œç¡¬ä»¶å±‚é¢çš„æˆæœ¬æ¯å¹´ä¸‹é™30%ï¼Œèƒ½æ•ˆæ¯å¹´æé«˜40%ã€‚è¿™æ„å‘³ç€ï¼Œç›¸åŒçš„ç®—åŠ›é¢„ç®—ï¼Œæœªæ¥å¯ä»¥é©±åŠ¨æ›´å¼ºå¤§çš„æ¨¡å‹ã€‚</p>
<p>ç„¶è€Œï¼Œå¹¶éæ‰€æœ‰åœºæ™¯éƒ½éœ€è¦åŠ¨ç”¨â€œä¸‡äº¿å‚æ•°â€çš„å·¨æ— éœ¸æ¨¡å‹ã€‚å½“å‰ä¸€ä¸ªæ˜¾è‘—è¶‹åŠ¿æ˜¯ï¼Œå¼€æ”¾æƒé‡çš„æ¨¡å‹æ­£åœ¨å¿«é€Ÿç¼©å°ä¸é—­æºæ¨¡å‹çš„æ€§èƒ½å·®è·ã€‚åœ¨æŸäº›åŸºå‡†æµ‹è¯•ä¸­ï¼Œä¸€å¹´å†…æ€§èƒ½å·®å¼‚å°±ä»8%å‡å°‘åˆ°ä»…1.7%ã€‚è¿™ä¸ºå¼€å‘è€…åœ¨ç‰¹å®šåœºæ™¯ä¸‹ï¼Œåˆ©ç”¨æ›´å°çš„æˆæœ¬å¾®è°ƒï¼ˆFine-tuningï¼‰å‡ºä¸“ç²¾çš„æ¨¡å‹æä¾›äº†å¯èƒ½ï¼Œä¾‹å¦‚ä½¿ç”¨Qwenç³»åˆ—æ¨¡å‹è¿›è¡Œé¢†åŸŸé€‚é…ã€‚</p>
<h2 data-id="heading-1">å¼€å‘è€…çš„æ–°æœºé‡</h2>
<p>ç®—åŠ›åŸºåº§çš„å¼ºåŒ–ä¸æ¨¡å‹æŠ€æœ¯çš„æ¼”è¿›ï¼Œæ­£ä¸ºå¼€å‘è€…æ‰“å¼€ä¸€æ‰‡æ–°çš„å¤§é—¨ï¼Œå°¤å…¶æ˜¯åœ¨AIä¸ç‰©ç†ä¸–ç•Œäº¤äº’å’Œå‚ç›´è¡Œä¸šåº”ç”¨è¿™ä¸¤ä¸ªæ–¹å‘ã€‚</p>
<ul>
<li>
<p><strong>è¿ˆå‘ç‰©ç†ä¸–ç•Œçš„æ™ºèƒ½ä½“</strong>ï¼šæ›´å¼ºçš„æ¨¡å‹æ„å‘³ç€èƒ½é©±åŠ¨æ›´å¯é çš„AIæ™ºèƒ½ä½“ï¼ˆAgentï¼‰ã€‚Grok 4.1è¿™ç±»æ¨¡å‹æ‰€æå‡çš„æ¨ç†å’Œä»»åŠ¡è§„åˆ’èƒ½åŠ›ï¼Œæ­£æ˜¯æ™ºèƒ½ä½“å®ç°è‡ªä¸»æ„ŸçŸ¥ã€å†³ç­–å’Œè¡ŒåŠ¨çš„å…³é”®ã€‚2025å¹´è¢«è§†ä¸ºå…·èº«æ™ºèƒ½çš„â€œGPT-2æ—¶åˆ»â€ï¼ŒAIå¼€å§‹ä»è™šæ‹Ÿä¸–ç•Œèµ°å‘ç‰©ç†ä¸–ç•Œï¼Œåœ¨æœºå™¨äººæ§åˆ¶ã€å·¥ä¸šè‡ªåŠ¨åŒ–ç­‰é¢†åŸŸéœ€è¦å¼€å‘è€…å°†æ¨¡å‹èƒ½åŠ›ä¸å…·ä½“ç¡¬ä»¶å’Œç¯å¢ƒç›¸ç»“åˆã€‚</p>
</li>
<li>
<p><strong>æ·±è€•å‚ç›´è¡Œä¸šçš„æµç¨‹æ”¹é€ </strong>ï¼šå¯¹äºå¤§å¤šæ•°å¼€å‘è€…è€Œè¨€ï¼Œæœ€å…·å¯è¡Œæ€§çš„æœºä¼šåœ¨äºå°†AIæ·±åº¦åµŒå…¥å‚ç›´è¡Œä¸šçš„ä¸šåŠ¡æµç¨‹ã€‚èµ„æœ¬æ­£ä»è¿½é€â€œçº¯AIâ€æ¦‚å¿µï¼Œè½¬å‘é’çé‚£äº›èƒ½ç”¨AIè§£å†³è¡Œä¸šæ ¸å¿ƒé—®é¢˜çš„â€œAI+è¡Œä¸šâ€å…¬å¸ã€‚</p>
</li>
</ul>
<h2 data-id="heading-2">åº”å¯¹ç®—åŠ›æŒ‘æˆ˜çš„ç­–ç•¥</h2>
<p>é¢å¯¹æŒç»­çš„ç®—åŠ›éœ€æ±‚å¢é•¿ï¼Œå»ºè®®å¼€å‘è€…å¯ä»¥ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢è¿›è¡Œåº”å¯¹å’Œå‡†å¤‡ã€‚</p>
<ul>
<li>
<p><strong>æ‹¥æŠ±æ··åˆäº‘ä¸å¼€æºæŠ€</strong>æœ¯ï¼šæ··åˆäº‘æ¶æ„å·²æˆä¸ºä¼ä¸šéƒ¨ç½²AIåº”ç”¨çš„é»˜è®¤é€‰æ‹©ï¼Œå®ƒèƒ½åœ¨æˆæœ¬ã€å®‰å…¨ä¸æ•æ·æ€§ä¹‹é—´å–å¾—å¹³è¡¡ã€‚åŒæ—¶ï¼Œç§¯æåˆ©ç”¨vLLMç­‰å¼€æºæ¨ç†åŠ é€Ÿæ¡†æ¶ï¼Œå¯ä»¥æœ‰æ•ˆä¼˜åŒ–æ¨ç†æ•ˆç‡ã€é™ä½æˆæœ¬ã€‚</p>
</li>
<li>
<p><strong>å…³æ³¨AIæ²»ç†ä¸è´Ÿè´£ä»»å¼€å‘</strong>ï¼šç®—åŠ›ä¸æ¨¡å‹èƒ½åŠ›çš„æå‡ä¹Ÿä¼´éšç€è´£ä»»çš„åŠ é‡ã€‚ä¼ä¸šæ­£åœ¨æ„å»ºAIæ²»ç†æ¡†æ¶ï¼Œä»¥åº”å¯¹æŠ€æœ¯ç¨³å¥æ€§ã€åˆè§„å®‰å…¨ç­‰é£é™©ã€‚ä½œä¸ºå¼€å‘è€…ï¼Œåœ¨è®¾è®¡é˜¶æ®µå°±éœ€è¦è€ƒè™‘ç®—æ³•çš„é€æ˜åº¦ã€å…¬å¹³æ€§ä»¥åŠå®‰å…¨æŠ¤æ çš„è®¾ç½®ï¼Œè¿™æ­£é€æ¸æˆä¸ºä¸€é¡¹æ ¸å¿ƒæŠ€èƒ½ã€‚</p>
</li>
</ul>
<p>ä½œä¸ºå¼€å‘è€…ï¼Œä½ æ˜¯å¦‚ä½•åº”å¯¹ç®—åŠ›æŒ‘æˆ˜å¹¶çœ‹å¾…æœªæ¥çš„æœºé‡ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„è§è§£ã€‚</p>
<p><strong>å†™åœ¨æœ€å</strong>ï¼šå¦‚æœæ‚¨æ­£åœ¨è¿›è¡ŒAIé¢†åŸŸçš„åˆ›ä¸šæˆ–ç ”ç©¶ï¼Œå´å—å›°äºé«˜æ˜‚çš„ç®—åŠ›æˆæœ¬æˆ–é«˜å¹¶å‘ä¸‹çš„æ¨ç†ç¨³å®šæ€§ç­‰é—®é¢˜ï¼Œæ¬¢è¿ç•™è¨€æˆ–ç§ä¿¡æˆ‘ä»¬ï¼Œæ‰¾åˆ°æ‚¨çš„é™æœ¬å¢æ•ˆçªç ´å£~</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ«å†æ­»ç£•æ¡†æ¶äº†ï¼ä½ çš„æŠ€æœ¯è·¯çº¿å›¾è¯¥æ›´æ–°äº†]]></title>    <link>https://juejin.cn/post/7573694361474629659</link>    <guid>https://juejin.cn/post/7573694361474629659</guid>    <pubDate>2025-11-18T08:03:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573694361474629659" data-draft-id="7573968791202299950" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ«å†æ­»ç£•æ¡†æ¶äº†ï¼ä½ çš„æŠ€æœ¯è·¯çº¿å›¾è¯¥æ›´æ–°äº†"/> <meta itemprop="keywords" content="å‰ç«¯,æ¶æ„,å‰ç«¯æ¡†æ¶"/> <meta itemprop="datePublished" content="2025-11-18T08:03:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çº¯çˆ±æŒé—¨äºº"/> <meta itemprop="url" content="https://juejin.cn/user/2849548342403454"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ«å†æ­»ç£•æ¡†æ¶äº†ï¼ä½ çš„æŠ€æœ¯è·¯çº¿å›¾è¯¥æ›´æ–°äº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2849548342403454/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çº¯çˆ±æŒé—¨äºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T08:03:09.000Z" title="Tue Nov 18 2025 08:03:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">å…ˆè¯´ç»“è®ºï¼š</h2>
<p>å‰ç«¯ä¸ä¼šå‡‰ï¼Œä½†â€œåªä¼šå‡ ä¸ªæ¡†æ¶ APIâ€çš„å‰ç«¯ï¼Œç¡®å®è¶Šæ¥è¶Šéš¾æ··<br/>
è¿™ä¸¤å¹´â€œå‰ç«¯è¦å‡‰äº†â€â€œå…¨æ ˆæ›¿ä»£å‰ç«¯â€çš„å£°éŸ³æ­¤èµ·å½¼ä¼ï¼Œæœ¬è´¨æ˜¯é—¨æ§›é‡æ–°æ´—ç‰Œï¼š</p>
<ul>
<li><strong>ç®€å• CRUDã€çº¯æ ·å¼å¼€å‘</strong>è¢«ä½ä»£ç ã€æ¨¡æ¿ä»£ç å’Œ AI æ¨¡å‹å¿«é€Ÿèš•é£Ÿï¼›</li>
<li><strong>å¤æ‚ä¸šåŠ¡ã€å·¥ç¨‹ä½“ç³»ã€è·¨ç«¯ä½“éªŒã€AI èƒ½åŠ›é›†æˆ</strong>ï¼Œåè€Œéœ€è¦æ›´å¼ºçš„å‰ç«¯å·¥ç¨‹å¸ˆå»æ’‘ä½ã€‚</li>
</ul>
<p>å¦‚æœä½ å¯¹â€œå‰ç«¯çš„å°½å¤´æ˜¯è·‘è·¯è½¬ç®¡ç†â€å·²ç»å¼€å§‹è¿·èŒ«ï¼Œé‚£è¿™ç¯‡å°±æ˜¯ç»™ä½ çœ‹çš„ï¼š<strong>åˆ«å†æ­»ç£•æ¡†æ¶ç‰ˆæœ¬å·ï¼Œè¯¥æ›´æ–°çš„æ˜¯ä½ çš„æŠ€æœ¯è·¯çº¿å›¾ã€‚</strong></p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€å…ˆææ¸…æ¥šï¼š2025 çš„å‰ç«¯åˆ°åº•åœ¨å˜ä»€ä¹ˆï¼Ÿ</h2>
<h3 data-id="heading-2">æ¡†æ¶çº¢æµ·ï¼šä»â€œä¼šç”¨â€åˆ°â€œç”¨å¾—å€¼â€</h3>
<p>Reactã€Vueã€Svelteã€Solidã€Qwikã€Nextã€Nuxtâ€¦â€¦Meta Framework ä¸€å¤§å †ï¼Œè¿œè¿œè¶…è¿‡å²—ä½éœ€æ±‚ã€‚<br/>
<strong>ç°åœ¨ä¼ä¸šé€‰å‹æ›´å…³æ³¨ï¼š</strong></p>
<ul>
<li>ç”Ÿæ€æˆç†Ÿåº¦ï¼ˆå¦‚ Next.js çš„ SSR/SSG èƒ½åŠ›ï¼‰</li>
<li>æ¡†æ¶åœ¨åº”ç”¨ç”Ÿå‘½å‘¨æœŸä¸­çš„è§’è‰²ï¼ˆæ¸²æŸ“ç­–ç•¥ã€æ•°æ®æµè½¬ã€SEOã€éƒ¨ç½²ï¼‰</li>
</ul>
<p><strong>è¶‹åŠ¿ï¼š</strong></p>
<ul>
<li><strong>æ¡†æ¶ Meta åŒ–</strong>ï¼ˆNext.jsã€Nuxtï¼‰å°†è·¯ç”±ã€æ•°æ®è·å–ã€ç¼“å­˜ç­–ç•¥æ•´ä½“çº³å…¥è§„èŒƒï¼›</li>
<li><strong>çº¦å®šä¼˜äºé…ç½®</strong>ï¼Œä¸å†æ˜¯â€œä¸€ä¸ªå‰ç«¯åº“â€ï¼Œè€Œæ˜¯â€œä¸€å¥—å®Œæ•´è§£å†³æ–¹æ¡ˆâ€ã€‚</li>
</ul>
<blockquote>
<p><strong>ä»¥å‰æ˜¯â€œä½ ä¼š Vue/React å°±èƒ½å¹²æ´»â€ï¼Œç°åœ¨æ˜¯â€œä½ è¦ç†è§£æ¡†æ¶åœ¨æ•´ä¸ªåº”ç”¨ä¸­çš„è§’è‰²â€ã€‚</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-3">å·¥å…·æœ‰ AIï¼Œå¼€å‘æ–¹å¼ä¹Ÿåœ¨å˜</h3>
<p>AI å·¥å…·ï¼ˆå¦‚ Cursorã€GitHub Copilot Xï¼‰å¯ä»¥æ˜¾è‘—æé€Ÿï¼Œç”šè‡³æ›¿ä»£é‡å¤åŠ³åŠ¨ã€‚<br/>
<strong>çœŸæ­£æ‹‰å¼€å·®è·çš„å˜æˆäº†ï¼š</strong></p>
<ul>
<li>ä½ èƒ½ç»™ AI å†™å‡ºæ¸…æ™°ã€å¯å®ç°çš„éœ€æ±‚æè¿°ï¼ˆPromptï¼‰ï¼›</li>
<li>ä½ èƒ½åˆ¤æ–­ AI ç”Ÿæˆä»£ç çš„è´¨é‡ã€æ½œåœ¨é£é™©ã€æ€§èƒ½é—®é¢˜ï¼›</li>
<li>ä½ èƒ½åŸºäºç”Ÿæˆç»“æœåšå‡ºåˆç†æŠ½è±¡å’Œé‡æ„ã€‚</li>
</ul>
<blockquote>
<p><strong>AI ä¸æ˜¯æ¥æŠ¢é¥­ç¢—ï¼Œè€Œæ˜¯é€¼ä½ ä»â€œç å†œâ€è¿›åŒ–æˆâ€œæ¶æ„å’Œå†³ç­–çš„äººâ€ã€‚</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-4">ä¸šåŠ¡ä¾§ï¼šå‰ç«¯ä¸å†æ˜¯â€œç”»ç•Œé¢â€ï¼Œè€Œæ˜¯â€œåšä½“éªŒ + åšå¢é•¿â€</h3>
<ul>
<li><strong>B ç«¯äº§å“</strong>ï¼šäº¤äº’å·¥ç¨‹å¸ˆ + ä½ä»£ç æ‹¼è£…å¸ˆ + å¤æ‚è¡¨å•å¤„ç†ä¸“å®¶ï¼›</li>
<li><strong>C ç«¯äº§å“</strong>ï¼šä¸äº§å“è¿è¥æ·±åº¦æ†ç»‘ï¼Œæ‡‚ A/B æµ‹è¯•ã€åŸ‹ç‚¹ã€Funnel åˆ†æã€å¹¿å‘ŠæŠ•æ”¾é“¾è·¯ï¼›</li>
<li><strong>è·¨å¹³å°</strong>ï¼šWeb + å°ç¨‹åº + Appï¼ˆRN/Flutter/WebViewï¼‰æ··åˆå½¢æ€æˆä¸ºå¸¸æ€ã€‚</li>
</ul>
<blockquote>
<p><strong>é‚£äº›è¿˜åœ¨å–Šâ€œåˆ‡å›¾ä»”ä¼˜åŒ– paddingâ€çš„å²—ä½ç¡®å®åœ¨æ¶ˆå¤±ï¼Œä½†å¯¹â€œæ‡‚ä¸šåŠ¡ã€æœ‰æ•°æ®æ„è¯†ã€èƒ½æ­å…¨é“¾è·¯ä½“éªŒâ€çš„å‰ç«¯éœ€æ±‚æ›´é«˜ã€‚</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-5">äºŒã€åˆ«å†æ­»ç£•æ¡†æ¶ APIï¼š2025 çš„å‰ç«¯æ ¸å¿ƒèƒ½åŠ›é•¿ä»€ä¹ˆæ ·ï¼Ÿ</h2>
<h3 data-id="heading-6">åŸºçŸ³èƒ½åŠ›ï¼šWeb åŸç”Ÿä¸‰ä»¶å¥—ï¼Œå¾—çœŸçš„åƒé€</h3>
<p><strong>é‡ç‚¹ä¸æ˜¯â€œä¼šç”¨â€ï¼Œè€Œæ˜¯ç†è§£åº•å±‚åŸç†ï¼š</strong></p>
<ul>
<li><strong>JS</strong>ï¼šäº‹ä»¶å¾ªç¯ã€åŸå‹é“¾ã€Promise æ‰§è¡Œæ¨¡å‹ã€ESM æ¨¡å—åŒ–ï¼›</li>
<li><strong>æµè§ˆå™¨</strong>ï¼šæ¸²æŸ“æµç¨‹ï¼ˆDOM/CSSOM/å¸ƒå±€/ç»˜åˆ¶/åˆæˆï¼‰ã€HTTP/2/3ã€å®‰å…¨é˜²æŠ¤ï¼ˆXSS/CSRFï¼‰ã€‚</li>
</ul>
<blockquote>
<p><strong>è¿™å—æ‰å®äº†ï¼Œä½ åœ¨ä»»ä½•æ¡†æ¶ä¸‹éƒ½ä¸ä¼šæ…Œï¼Œä¹Ÿæ›´èƒ½çœ‹æ‡‚â€œæ¡†æ¶ä¸ºä»€ä¹ˆè¿™ä¹ˆè®¾è®¡â€ã€‚</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-7">å·¥ç¨‹èƒ½åŠ›ï¼šä»â€œä¼šç”¨è„šæ‰‹æ¶â€åˆ°â€œèƒ½çœ‹æ‡‚å’Œè°ƒæ•´å·¥ç¨‹æ ˆâ€</h3>
<p>Viteã€Rspackã€Turbopack ç­‰å·¥å…·è®©å·¥ç¨‹æ„å»ºä»â€œé»‘é­”æ³•â€å˜æˆâ€œå¯ç»„åˆæ‹¼è£…ä»¶â€ã€‚<br/>
<strong>ä½ éœ€è¦ï¼š</strong></p>
<ul>
<li>çœ‹æ‡‚é¡¹ç›®çš„æ„å»ºé…ç½®ï¼ˆVite/Webpack/Rspack ä»»æ„ä¸€ç§ï¼‰ï¼›</li>
<li>ç†è§£æ‰“åŒ…æ‹†åˆ†ã€åŠ¨æ€åŠ è½½ã€CI/CD æµç¨‹ï¼›</li>
<li>èƒ½æ’æŸ¥æ„å»ºé—®é¢˜ï¼ˆè·¯å¾„è§£æã€ä¾èµ–å†²çªï¼‰ã€‚</li>
</ul>
<blockquote>
<p><strong>å¦‚æœä½ åœ¨å›¢é˜Ÿé‡Œèƒ½ä¸»åŠ¨åšè¿™äº›äº‹ï¼Œåˆ«äººå¯¹ä½ çš„â€œçº§åˆ«åˆ¤æ–­â€ä¼šæ˜æ˜¾ä¸ä¸€æ ·ã€‚</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-8">è·¨ç«¯å’Œè¿è¡Œæ—¶ï¼šä¸åªä¼šâ€œå†™ Web é¡µâ€</h3>
<p><strong>2025 å¹´å‰ç«¯è§†è§’çš„å…³é”®æ–¹å‘ï¼š</strong></p>
<ul>
<li><strong>å°ç¨‹åº/å¤šç«¯æ¡†æ¶</strong>ï¼ˆTaroã€Uni-appï¼‰ï¼›</li>
<li><strong>æ··åˆæ–¹æ¡ˆ</strong>ï¼ˆRN/Flutter/WebView é€šä¿¡æœºåˆ¶ï¼‰ï¼›</li>
<li><strong>æ¡Œé¢ç«¯</strong>ï¼ˆElectronã€Tauriï¼‰ã€‚</li>
</ul>
<p><strong>å»ºè®®ï¼š</strong></p>
<ul>
<li>è‡³å°‘æ·±è€•ä¸€ä¸ªâ€œè·¨ç«¯ä¸»æˆ˜åœºâ€ï¼ˆå¦‚ Web + å°ç¨‹åº æˆ– Web + Flutterï¼‰ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-9">æ•°æ®å’ŒçŠ¶æ€ï¼šä»â€œä¼šç”¨ Vuex/Reduxâ€åˆ°â€œèƒ½è®¾è®¡çŠ¶æ€æ¨¡å‹â€</h3>
<p>ç°ä»£å‰ç«¯å¤æ‚åº¦ 70% åœ¨â€œæ•°æ®å’ŒçŠ¶æ€ç®¡ç†â€ã€‚<br/>
<strong>è¿›é˜¶ç‚¹åœ¨äºï¼š</strong></p>
<ul>
<li>è®¾è®¡åˆç†çš„æ•°æ®æ¨¡å‹ï¼ˆæœ¬åœ° UI çŠ¶æ€ vs æœåŠ¡ç«¯çœŸç›¸ï¼‰ï¼›</li>
<li>å­¦ä¼šç”¨ Query åº“ã€State Machine è§£è€¦çŠ¶æ€ä¸è§†å›¾ã€‚</li>
</ul>
<blockquote>
<p><strong>å½“ä½ èƒ½æŠŠâ€œçŠ¶æ€è®¾è®¡æ¸…æ¥šâ€ï¼Œä½ åœ¨å¤æ‚ä¸šåŠ¡å›¢é˜Ÿé‡Œä¼šéå¸¸åƒé¦™ã€‚</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-10">æ€§èƒ½ã€ç¨³å®šæ€§ã€å¯è§‚æµ‹æ€§ï¼šé«˜çº§å‰ç«¯çš„ç¡¬æŒ‡æ ‡</h3>
<p><strong>ä½ éœ€è¦ç³»ç»Ÿæ€§å›ç­”é—®é¢˜ï¼Œè€Œä¸æ˜¯â€œççŒœâ€ï¼š</strong></p>
<ul>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šé¦–å±åŠ è½½ï¼ˆèµ„æºæ‹†åˆ†ã€CDNï¼‰ã€è¿è¡Œæ—¶ä¼˜åŒ–ï¼ˆå‡å°‘é‡æ’ã€è™šæ‹Ÿåˆ—è¡¨ï¼‰ï¼›</li>
<li><strong>ç¨³å®šæ€§</strong>ï¼šé”™è¯¯é‡‡é›†ã€æ—¥å¿—ä¸ŠæŠ¥ã€ç°åº¦å‘å¸ƒï¼›</li>
<li><strong>å·¥å…·</strong>ï¼šLighthouseã€Web Vitalsã€Session Replayã€‚</li>
</ul>
<blockquote>
<p><strong>è¿™å—åšå¾—å¥½çš„äººå¾€å¾€æ˜¯æŠ€æœ¯éª¨å¹²ï¼Œä¸”å¾ˆéš¾è¢«ä½ä»£ç æˆ– AI ç›´æ¥æ›¿ä»£ã€‚</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-11">AI æ—¶ä»£çš„å‰ç«¯ï¼šä¸æ˜¯â€œå†™ AIâ€ï¼Œè€Œæ˜¯â€œè®© AI çœŸæ­£è·‘è¿›äº§å“â€</h3>
<p><strong>ä½ éœ€è¦é©¾é©­ï¼š</strong></p>
<ul>
<li><strong>åŸºç¡€èƒ½åŠ›</strong>ï¼šè°ƒç”¨ AI å¹³å° APIï¼ˆæµå¼è¿”å›å¤„ç†ã€å¢é‡æ¸²æŸ“ï¼‰ï¼›</li>
<li><strong>äº§å“æ€ç»´</strong>ï¼šå“ªäº›åœºæ™¯é€‚åˆ AIï¼ˆæ™ºèƒ½æœç´¢ã€æ–‡æ¡£é—®ç­”ï¼‰ï¼›å¦‚ä½•åšæƒé™æ§åˆ¶ã€é”™è¯¯å…œåº•ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-12">ä¸‰ã€è·¯çº¿å›¾åˆ«å†æŒ‰â€œæ¡†æ¶å­¦ä¹ é¡ºåºâ€æ’äº†ï¼ŒæŒ‰è§’è‰²æ¥é€‰</h2>
<h3 data-id="heading-13">åˆä¸­çº§ï¼šä»â€œä¼šç”¨â€åˆ°â€œèƒ½ç‹¬ç«‹è´Ÿè´£ä¸€ä¸ªåŠŸèƒ½â€</h3>
<p><strong>ç›®æ ‡ï¼š</strong></p>
<ul>
<li>ç‹¬ç«‹å®Œæˆä¸­ç­‰å¤æ‚åº¦æ¨¡å—ï¼ˆç™»å½•ã€æƒé™ã€è¡¨å•ã€åˆ—è¡¨åˆ†é¡µï¼‰ã€‚</li>
</ul>
<p><strong>å»ºè®®è·¯çº¿ï¼š</strong></p>
<ul>
<li>å¤¯å® JS + æµè§ˆå™¨åŸºç¡€ï¼›</li>
<li>é€‰æ‹© React/Vue + Next/Nuxt åšå®Œæ•´é¡¹ç›®ï¼›</li>
<li>æ­å»º eslint + prettier + git hooks çš„å¼€å‘ä¹ æƒ¯ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-14">è¿›é˜¶ï¼šä»â€œåŠŸèƒ½å‰ç«¯â€åˆ°â€œå·¥ç¨‹å‰ç«¯ + ä¸šåŠ¡å‰ç«¯â€</h3>
<p><strong>ç›®æ ‡ï¼š</strong></p>
<ul>
<li>ä¼˜åŒ–é¡¹ç›®ã€æ¨è¿›åŸºç¡€è®¾æ–½ã€ç»™åç«¯/äº§å“ææŠ€æœ¯æ–¹æ¡ˆã€‚</li>
</ul>
<p><strong>å»ºè®®è·¯çº¿ï¼š</strong></p>
<ul>
<li>æ·±å…¥æ„å»ºå·¥å…·ï¼ˆWebpack/Viteï¼‰ï¼›</li>
<li>ä¸»å¯¼ä¸€æ¬¡æ€§èƒ½ä¼˜åŒ–æˆ–åŸ‹ç‚¹æ–¹æ¡ˆï¼›</li>
<li>å¼•å…¥ AI èƒ½åŠ›ï¼ˆå¦‚æ™ºèƒ½æœç´¢ã€å·¥å•å›å¤å»ºè®®ï¼‰ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-15">é«˜çº§/èµ„æ·±ï¼šä»â€œé«˜çº§å‰ç«¯â€åˆ°â€œå‰ç«¯æŠ€æœ¯è´Ÿè´£äººâ€</h3>
<p><strong>ç›®æ ‡ï¼š</strong></p>
<ul>
<li>è®¾è®¡æŠ€æœ¯ä½“ç³»ã€æ¨åŠ¨é•¿æœŸä»·å€¼ã€‚</li>
</ul>
<p><strong>å»ºè®®è·¯çº¿ï¼š</strong></p>
<ul>
<li>æ˜ç¡®å›¢é˜ŸæŠ€æœ¯æ ˆï¼ˆæ¡†æ¶ã€çŠ¶æ€ç®¡ç†ã€æ‰“åŒ…ç­–ç•¥ï¼‰ï¼›</li>
<li>ä¸»å¯¼è·¨éƒ¨é—¨é¡¹ç›®ã€å»ºç«‹çŸ¥è¯†åˆ†äº«æœºåˆ¶ï¼›</li>
<li>è¯„ä¼° AI/ä½ä»£ç /æ–°æ¡†æ¶çš„å¼•å…¥ä»·å€¼ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-16">å››ã€2025 å¹´ä¸è¦å†çŠ¯çš„å‡ ä¸ªé”™è¯¯</h2>
<ol>
<li>
<p><strong>åªè·Ÿç€çƒ­ç‚¹å­¦æ¡†æ¶ï¼Œä¸åšé¡¹ç›®å’ŒæŠ½è±¡</strong></p>
<ul>
<li>é€‰ä¸€ä¸ªä¸»æˆ˜åœº + ä¸€ä¸ªå¤‡èƒï¼ˆReact+Next.jsï¼ŒVue+Nuxt.jsï¼‰ï¼Œç”¨å®ƒä»¬åš 2~3 ä¸ªå®Œæ•´é¡¹ç›®ã€‚</li>
</ul>
</li>
<li>
<p><strong>å®Œå…¨å¿½ç•¥ä¸šåŠ¡ï¼Œæ²‰è¿·å†™â€œä¼˜é›…ä»£ç â€</strong></p>
<ul>
<li>æŠŠé‡æ„å’Œä¸šåŠ¡è¿­ä»£ç»‘ä¸€èµ·ï¼Œè€Œä¸æ˜¯æâ€œçº¯æŠ€æœ¯é‡æ„â€ã€‚</li>
</ul>
</li>
<li>
<p><strong>å¯¹ AI æŒæ•Œè§†å’Œé€ƒé¿æ€åº¦</strong></p>
<ul>
<li>æŠŠé‡å¤åŠ³åŠ¨äº¤ç»™ AIï¼ŒæŠŠæ—¶é—´æŠ•åˆ°æ¶æ„è®¾è®¡ã€ä¸šåŠ¡æŠ½è±¡ä¸Šã€‚</li>
</ul>
</li>
<li>
<p><strong>æŠŠâ€œç®¡ç†â€å½“æˆå”¯ä¸€å‡ºè·¯</strong></p>
<ul>
<li>åšå‰ç«¯æ¶æ„ã€æ€§èƒ½ä¼˜åŒ–å¹³å°ã€ä½ä»£ç å¹³å°çš„æŠ€æœ¯ä¸“å®¶ï¼Œè–ªèµ„å’Œè‡ªç”±åº¦ä¸è¾“ç®¡ç†å²—ã€‚</li>
</ul>
</li>
</ol>
<hr/>
<h2 data-id="heading-17">äº”ã€ä¸€ä¸ªç°å®ç‚¹çš„å»ºè®®ï¼šç»™è‡ªå·±çš„ 2025 åšä¸ªâ€œå¹´åº¦è§„åˆ’â€</h2>
<p><strong>Q1ï¼š</strong></p>
<ul>
<li>é€‰å®šä¸»æŠ€æœ¯æ ˆï¼ˆReact+Next æˆ– Vue+Nuxtï¼‰ï¼›</li>
<li>åšä¸€ä¸ªå®Œæ•´å°é¡¹ç›®ï¼ˆç™»å½•ã€æƒé™ã€åˆ—è¡¨/è¯¦æƒ…ã€SSRã€éƒ¨ç½²ï¼‰ã€‚</li>
</ul>
<p><strong>Q2ï¼š</strong></p>
<ul>
<li>æ·±å…¥å·¥ç¨‹åŒ–æ–¹å‘ï¼ˆä¼˜åŒ–æ‰“åŒ…ä½“ç§¯ã€æ­å»ºç›‘æ§åŸ‹ç‚¹ç³»ç»Ÿï¼‰ã€‚</li>
</ul>
<p><strong>Q3ï¼š</strong></p>
<ul>
<li>é€‰ä¸€ä¸ªä¸šåŠ¡åœºæ™¯å¼•å…¥ AI æˆ–é…ç½®åŒ–èƒ½åŠ›ï¼ˆå¦‚æ™ºèƒ½æœç´¢ã€ä½ä»£ç è¡¨å•ï¼‰ã€‚</li>
</ul>
<p><strong>Q4ï¼š</strong></p>
<ul>
<li>è¾“å‡ºå’Œæ²‰æ·€ï¼ˆå†™ 3~5 ç¯‡æŠ€æœ¯æ–‡ç« ã€è¸©å‘å¤ç›˜ï¼‰ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-18">æœ€åï¼šåˆ«é—®å‰ç«¯å‡‰æ²¡å‡‰ï¼Œå…ˆé—®é—®è‡ªå·±â€œæ˜¯ä¸æ˜¯è¿˜åœåœ¨ 2018 å¹´çš„ç©æ³•â€</h2>
<ul>
<li>å¦‚æœä½ è¿˜æŠŠâ€œç†Ÿç»ƒæŒæ¡ Vue/Reactâ€å½“æˆç®€å†äº®ç‚¹ï¼Œé‚£ç¡®å®ä¼šç„¦è™‘ï¼›</li>
<li>ä½†å¦‚æœä½ èƒ½è¯´æ¸…æ¥šï¼š
<ul>
<li>åœ¨å¤æ‚é¡¹ç›®é‡Œä¸»å¯¼è¿‡å“ªäº›å·¥ç¨‹ä¼˜åŒ–ï¼›</li>
<li>å¦‚ä½•æŠŠä¸šåŠ¡æŠ½è±¡æˆå¯å¤ç”¨çš„ç»„ä»¶/å¹³å°ï¼›</li>
<li>å¦‚ä½•åœ¨äº§å“é‡Œèå…¥ AI/å¤šç«¯/æ•°æ®é©±åŠ¨ï¼›<br/>
é‚£ä¹ˆï¼Œåœ¨ 2025 å¹´çš„å‰ç«¯å¸‚åœºï¼Œä½ ä¸ä»…ä¸ä¼šâ€œå‡‰â€ï¼Œåè€Œä¼šæˆä¸ºåˆ«äººçœ¼ä¸­çš„â€œç¨€ç¼ºâ€ã€‚</li>
</ul>
</li>
</ul>
<p><strong>åˆ«å†æ­»ç£•æ¡†æ¶äº†ï¼Œæ›´æ–°ä½ çš„æŠ€æœ¯è·¯çº¿å›¾ï¼Œä»â€œå†™é¡µé¢çš„äººâ€å˜æˆâ€œæ‰“é€ ä½“éªŒå’Œå¹³å°çš„äººâ€ã€‚è¿™æ‰æ˜¯ 2025 å¹´å‰ç«¯çœŸæ­£çš„è¿›åŒ–æ–¹å‘ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[CyberRT Transportä¼ è¾“å±‚è®¾è®¡]]></title>    <link>https://juejin.cn/post/7573599234433515555</link>    <guid>https://juejin.cn/post/7573599234433515555</guid>    <pubDate>2025-11-18T06:09:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573599234433515555" data-draft-id="7573225720698126388" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="CyberRT Transportä¼ è¾“å±‚è®¾è®¡"/> <meta itemprop="keywords" content="åç«¯,C++"/> <meta itemprop="datePublished" content="2025-11-18T06:09:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åˆè¿‡ä¸€ä¸ªç§‹"/> <meta itemprop="url" content="https://juejin.cn/user/365482977799405"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            CyberRT Transportä¼ è¾“å±‚è®¾è®¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/365482977799405/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åˆè¿‡ä¸€ä¸ªç§‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T06:09:59.000Z" title="Tue Nov 18 2025 06:09:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>CyberRT é‡Œ Transport ä¼ è¾“å±‚è®¾è®¡æœ‰ä¸‰ç§ï¼š</p>
<ul>
<li><strong>INTRA</strong>ï¼šè¿›ç¨‹å†…é€šä¿¡ï¼Œé€šè¿‡å‡½æ•°è°ƒç”¨ç›´æ¥ä¼ é€’æ¶ˆæ¯ï¼ˆé›¶æ‹·è´ï¼‰</li>
<li><strong>SHM</strong>ï¼šåŒä¸»æœºè¿›ç¨‹é—´é€šä¿¡ï¼Œåˆ©ç”¨å…±äº«å†…å­˜å®ç°é«˜æ•ˆæ•°æ®äº¤æ¢</li>
<li><strong>RTPS</strong>ï¼šè·¨ä¸»æœºé€šä¿¡ï¼ŒåŸºäº RTPS åè®®å®ç°å¯é ç½‘ç»œä¼ è¾“</li>
</ul>
<p>è¿™ç¯‡æ–‡ç« ï¼Œé‡ç‚¹æ¢³ç† SHM å’Œ RTPSçš„è®¾è®¡ã€‚é¦–å…ˆæ˜¯åŸºç±»çš„è®¾è®¡ã€‚</p>
<h2 data-id="heading-1">åŸºç±»è®¾è®¡</h2>
<h3 data-id="heading-2">transport å•ä¾‹</h3>
<blockquote>
<p>å¯¹å¤–ä½¿ç”¨å•ä¾‹ï¼Œæä¾› CreateTransmitter å’Œ CreateReceiver å‡½æ•°ã€‚</p>
</blockquote>
<pre><code class="hljs language-cpp" lang="cpp">        <span class="hljs-comment">//è¿”å›ä¸€ä¸ªTransmitterçš„æŒ‡é’ˆ</span>
        <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> M&gt;
        <span class="hljs-function"><span class="hljs-keyword">auto</span> <span class="hljs-title">CreateTransmitter</span><span class="hljs-params">(<span class="hljs-type">const</span> RoleAttributes &amp;attr,
                               <span class="hljs-type">const</span> OptionalMode &amp;mode = OptionalMode::RTPS)</span> -&gt;
            <span class="hljs-keyword">typename</span> std::shared_ptr&lt;Transmitter&lt;M&gt;&gt;</span>;

        <span class="hljs-comment">//è¿”å›ä¸€ä¸ªReceiverçš„æŒ‡é’ˆ</span>
        <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> M&gt;
        <span class="hljs-function"><span class="hljs-keyword">auto</span> <span class="hljs-title">CreateReceiver</span><span class="hljs-params">(<span class="hljs-type">const</span> RoleAttributes &amp;attr,
                            <span class="hljs-type">const</span> <span class="hljs-keyword">typename</span> Receiver&lt;M&gt;::MessageListener &amp;msg_listener,
                            <span class="hljs-type">const</span> OptionalMode &amp;mode = OptionalMode::RTPS)</span> -&gt;
            <span class="hljs-keyword">typename</span> std::shared_ptr&lt;Receiver&lt;M&gt;&gt;</span>;
</code></pre>
<p>å…¶ä¸­ï¼š</p>
<ul>
<li>RoleAttributes ç»“æ„ä½“æ˜¯ å½“å‰ä¸»æœºä¿¡æ¯çš„æ ‡è®°ï¼ˆä¸»æœºåã€IPã€è¿›ç¨‹IDã€channelç›¸å…³ã€<code>idèŠ‚ç‚¹çš„å“ˆè¥¿å”¯ä¸€æ ‡è¯†ç¬¦</code>ã€qosç›¸å…³ã€nodeç›¸å…³ï¼Œmessage_typeæ¶ˆæ¯ç±»å‹ï¼‰</li>
<li>OptionalModeï¼šINTRAã€SHMã€RTPS</li>
<li>CreateReceiver é¢å¤–éœ€è¦ä¸€ä¸ª Receiver::MessageListenerï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚å½¢å‚åˆ—è¡¨ä¸ºï¼šMessagePtrï¼ˆæ¨¡æ¿å‚æ•° M æ¶ˆæ¯ç»“æ„ä½“ï¼‰ã€MessageInfoï¼ˆé¢å¤–æ¶ˆæ¯ï¼‰ã€RoleAttributesï¼ˆä¸»æœºï¼‰ï¼‰ã€‚</li>
</ul>
<h6 data-id="heading-3">RoleAttributes</h6>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">RoleAttributes</span> : <span class="hljs-keyword">public</span> Serializable {
        std::string host_name; <span class="hljs-comment">//ä¸»æœºå</span>
        std::string host_ip;   <span class="hljs-comment">//ä¸»æœºIP</span>
        <span class="hljs-type">int32_t</span> process_id;    <span class="hljs-comment">//è¿›ç¨‹ID</span>

        std::string channel_name; <span class="hljs-comment">// channel name</span>
        <span class="hljs-type">uint64_t</span> channel_id;      <span class="hljs-comment">// hash value of channel_name</span>

        QosProfile qos_profile; <span class="hljs-comment">// Qosé…ç½®ç­–ç•¥</span>
        <span class="hljs-type">uint64_t</span> id;            <span class="hljs-comment">// èŠ‚ç‚¹ çš„ å“ˆå¸Œå”¯ä¸€æ ‡è¯†ç¬¦</span>

        std::string node_name; <span class="hljs-comment">// node name</span>
        <span class="hljs-type">uint64_t</span> node_id;      <span class="hljs-comment">// hash value of node_name</span>

        std::string message_type; <span class="hljs-comment">// æ¶ˆæ¯ç±»å‹</span>

        <span class="hljs-built_in">SERIALIZE</span>(host_name, host_ip, process_id, channel_name, qos_profile, id, node_name, node_id,
                  message_type)
    };
</code></pre>
<h6 data-id="heading-4">MessageListener</h6>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">using</span> MessagePtr = std::shared_ptr&lt;M&gt;;
<span class="hljs-keyword">using</span> MessageListener = std::function&lt;<span class="hljs-built_in">void</span>(<span class="hljs-type">const</span> MessagePtr &amp;, <span class="hljs-type">const</span> MessageInfo &amp;, <span class="hljs-type">const</span> RoleAttributes &amp;)&gt;;    
</code></pre>
<h6 data-id="heading-5">MessageInfo</h6>
<pre><code class="hljs language-cpp" lang="cpp">    <span class="hljs-keyword">class</span> <span class="hljs-title class_">MessageInfo</span>
    {
    <span class="hljs-keyword">public</span>:
        ...

    <span class="hljs-keyword">private</span>:
        Identity sender_id_; <span class="hljs-comment">//å‘é€è€…ID</span>
        Identity spare_id_;  <span class="hljs-comment">//å¤‡ç”¨å‘é€è€… ID</span>
        <span class="hljs-type">uint64_t</span> channel_id_ = <span class="hljs-number">0</span>; 
        <span class="hljs-type">uint64_t</span> seq_num_ = <span class="hljs-number">0</span>; 
    }; 
</code></pre>
<h3 data-id="heading-6">Endpoint</h3>
<blockquote>
<p>Endpoint ä½œä¸º Transmitter å’Œ Receiver çš„åŸºç±»
ä¸»è¦å£°æ˜å‡ ä¸ªå…¬å…±å˜é‡ï¼š</p>
</blockquote>
<ul>
<li>enabled_ : æ ‡è¯†è¯¥ç«¯ç‚¹å½“å‰æ˜¯å¦å·²å¯ç”¨ã€‚å‘é€ç«¯åœ¨å¯ç”¨åæ‰å…è®¸ Transmit ï¼›æ¥æ”¶ç«¯åœ¨å¯ç”¨åæ‰ä¼šå‘å¯¹åº”çš„ Dispatcher æ³¨å†Œç›‘å¬ã€‚ç”¨äºç”Ÿå‘½å‘¨æœŸä¸çŠ¶æ€æ§åˆ¶ã€‚</li>
<li>id_ : ç«¯ç‚¹å”¯ä¸€æ ‡è¯†ï¼Œç±»å‹ä¸º Identity ã€‚ç”¨äºåŒºåˆ†ä¸åŒçš„å‘é€è€…/æ¥æ”¶è€…ï¼Œå¹¶åœ¨åˆ†å‘æ—¶æŒ‰ sender_id åšé’ˆå¯¹æ€§è·¯ç”±æˆ–è¿æ¥ç®¡ç†ï¼Œä¾‹å¦‚ ListenerHandler çš„æŒ‰å¯¹ç«¯è¿æ¥ä½¿ç”¨ msg_info.sender_id().HashValue() è¿›è¡ŒåŒ¹é…ã€‚</li>
<li>attr_ : ç«¯ç‚¹çš„è§’è‰²å±æ€§ RoleAttributes ï¼ŒåŒ…å« channel_id ã€ channel_name ã€ host_ip ã€QoS é…ç½®ç­‰ã€‚åˆ›å»º Transmitter/Receiver æ—¶ç”±ä¸Šå±‚ä¼ å…¥ï¼Œç”¨äºé€‰æ‹©ä¼ è¾“æ¨¡å¼ã€åœ¨ Dispatcher ä¾§å»º Reader/Segmentã€ä»¥åŠåœ¨åˆ†å‘æ—¶è¯†åˆ«é€šé“å’Œå‚æ•°ã€‚</li>
</ul>
<pre><code class="hljs language-cpp" lang="cpp">    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Endpoint</span>
    {
    <span class="hljs-keyword">public</span>:
        <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">Endpoint</span><span class="hljs-params">(<span class="hljs-type">const</span> RoleAttributes &amp;attr)</span></span>;
        <span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">Endpoint</span>();

        <span class="hljs-function"><span class="hljs-type">const</span> Identity &amp;<span class="hljs-title">id</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{ <span class="hljs-keyword">return</span> id_; }
        <span class="hljs-function"><span class="hljs-type">const</span> RoleAttributes &amp;<span class="hljs-title">attributes</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{ <span class="hljs-keyword">return</span> attr_; }

    <span class="hljs-keyword">protected</span>:
        <span class="hljs-type">bool</span> enabled_;
        Identity id_;
        RoleAttributes attr_;
    };    
</code></pre>
<h6 data-id="heading-7">Identity</h6>
<pre><code class="hljs language-cpp" lang="cpp">    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Identity</span>
    {
    <span class="hljs-keyword">public</span>:
        ...
    <span class="hljs-keyword">private</span>:
        <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Update</span><span class="hljs-params">()</span></span>;        <span class="hljs-comment">// æ›´æ–°æ ‡è¯†ç¬¦   </span>
        <span class="hljs-type">char</span> data_[ID_SIZE];  <span class="hljs-comment">// 8ä¸ªå­—èŠ‚</span>
        <span class="hljs-type">uint64_t</span> hash_value_; <span class="hljs-comment">// æ ‡è¯†ç¬¦çš„å“ˆå¸Œå€¼</span>
    }; 
</code></pre>
<h3 data-id="heading-8">Transmitter</h3>
<p>ä¸»è¦æ˜¯å£°æ˜äº†Enableå’ŒTransmit çº¯è™šå‡½æ•°ã€‚ä»¥åŠ seq_num_ æ¶ˆæ¯å¸§å·ã€MessageInfo é™„åŠ æ•°æ®</p>
<p>å‘é€ç«¯æŠ½è±¡ï¼Œè´Ÿè´£å°†æ¶ˆæ¯åºåˆ—åŒ–å¹¶é€šè¿‡æ‰€é€‰ä¼ è¾“æ¨¡å¼ï¼ˆRTPS æˆ– SHMï¼‰å‘å‡ºï¼ŒåŒæ—¶æºå¸¦ MessageInfo ï¼ˆå‘é€è€… IDã€åºå·ç­‰ï¼‰</p>
<h3 data-id="heading-9">Receiver</h3>
<p>ä¸»è¦æ˜¯å£°æ˜äº†</p>
<ul>
<li>Enableçº¯è™šå‡½æ•°</li>
<li>ä¿å­˜æ„é€ ä¼ å…¥çš„ MessageListener</li>
<li>protected OnNewMessage æ‰§è¡Œå›è°ƒçš„å‡½æ•°ã€‚ï¼ˆå­ç±»å§ OnNewMessage è§¦å‘å³å¯è§¦å‘ MessageListenerï¼‰</li>
</ul>
<p>æ¥æ”¶ç«¯æŠ½è±¡ï¼Œå‘å¯¹åº” Dispatcher æ³¨å†Œç›‘å¬ï¼Œå¹¶åœ¨æ”¶åˆ°æ¶ˆæ¯åæ‰§è¡Œç”¨æˆ·å›è°ƒ</p>
<h3 data-id="heading-10">Dispatcher</h3>
<blockquote>
<p>Dispatcher åŸºç±»ï¼Œè¿˜æœ‰ RtpsDispatcher å’Œ ShmDispatcher çš„æ´¾ç”Ÿå­ç±»ã€‚</p>
</blockquote>
<p>ä¸‰ç§åŠŸèƒ½ï¼š</p>
<ol>
<li>Receiveræ³¨å†Œç®¡ç†ï¼šDispatcher è´Ÿè´£ç®¡ç†æ‰€æœ‰çš„Receiverå®ä¾‹ï¼Œç¡®ä¿æ¯ä¸ªReceiverèƒ½å¤Ÿæ­£ç¡®æ¥æ”¶å¹¶å¤„ç†å…¶è®¢é˜…çš„æ¶ˆæ¯ã€‚</li>
<li>æ¶ˆæ¯è·å–ä¸è½¬å‘ï¼šDsipatcher éœ€è¦ä»ä¸åŒå…±äº«ä¸»é¢˜ä¸­è·å–æ•°æ®ï¼Œå¹¶æ ¹æ®æ¶ˆæ¯å†…å®¹å°†å…¶è½¬å‘åˆ°åˆé€‚çš„Receiver</li>
<li>å›è°ƒå‡½æ•°è§¦å‘</li>
</ol>
<p>å…³é”®æˆå‘˜ï¼š</p>
<ul>
<li>bool is_shutdown_ æ§åˆ¶ç”Ÿå‘½å‘¨æœŸ</li>
<li>AtomicHashMap&lt;uint64_t, ListenerHandlerBasePtr&gt; msg_listeners_ ç”¨äºè·¨çº¿ç¨‹å®‰å…¨åœ°ä¿å­˜å„é€šé“ç›‘å¬å™¨
<ul>
<li>channel_id --- ListenerHandlerBase</li>
</ul>
</li>
<li>AtomicRWLock rw_lock_ ä¿æŠ¤å¹¶å‘è®¿é—®</li>
</ul>
<p>é¦–æ¬¡æ³¨å†Œä¼šä¸ºè¯¥ channel_id åˆ›å»º ListenerHandler å¹¶å»ºç«‹è¿æ¥ï¼›åç»­å¤ç”¨åŒä¸€ handler å¹¶æ£€æŸ¥ç±»å‹ä¸€è‡´æ€§</p>
<blockquote>
<p>Dispatcherçš„ RtpsDispatcher å’Œ ShmDispatcher å­ç±» ä¸»è¦æ˜¯åœ¨ Receiver çš„å­ç±» ShmReceiver å’Œ RtpsReceiver</p>
<ul>
<li>æ„é€ è·å–</li>
<li>Enable æ³¨å†Œï¼ŒæŠŠ Receiveræ³¨å†Œåˆ°Dispatcher</li>
</ul>
</blockquote>
<h4 data-id="heading-11">ListenerHandlerBase æŠ½è±¡åŸºç±»</h4>
<ul>
<li>å®šä¹‰ Disconnect RunFromString çº¯è™šå‡½æ•°</li>
</ul>
<h4 data-id="heading-12">Signal ä¿¡å·æ§½çš„å®ç°</h4>
<h5 data-id="heading-13">Slot</h5>
<p>æ¨¡æ¿å‚æ•°æ˜¯ Argsï¼šå›è°ƒå‡½æ•°çš„å½¢å‚åˆ—è¡¨ã€‚<br/>
æ¯ä¸ªSlotå°±æ˜¯å¯¹å›è°ƒå‡½æ•°çš„å°è£…</p>
<pre><code class="hljs language-cpp" lang="cpp">    <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span>... Args&gt;
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Slot</span>
    {
    <span class="hljs-keyword">public</span>:
        <span class="hljs-keyword">using</span> Callback = std::function&lt;<span class="hljs-built_in">void</span>(Args...)&gt;;
        <span class="hljs-built_in">Slot</span>(<span class="hljs-type">const</span> Slot &amp;another) : <span class="hljs-built_in">cb_</span>(another.cb_), <span class="hljs-built_in">connected_</span>(another.connected_) {}
        <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">Slot</span><span class="hljs-params">(<span class="hljs-type">const</span> Callback &amp;cb, <span class="hljs-type">bool</span> connected = <span class="hljs-literal">true</span>)</span> : cb_(cb), connected_(connected) {</span>}
        <span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">Slot</span>() {}

        <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">(Args... args)</span>
        </span>{
            <span class="hljs-keyword">if</span> (connected_ &amp;&amp; cb_) {
                <span class="hljs-built_in">cb_</span>(args...);
            }
        }

        <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Disconnect</span><span class="hljs-params">()</span> </span>{ connected_ = <span class="hljs-literal">false</span>; }
        <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">connected</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{ <span class="hljs-keyword">return</span> connected_; }

    <span class="hljs-keyword">private</span>:
        Callback cb_;
        <span class="hljs-type">bool</span> connected_ = <span class="hljs-literal">true</span>;
    }; 
</code></pre>
<h5 data-id="heading-14">Connection</h5>
<p>Connection ä»£è¡¨äº†ä¸€å¯¹ Slotå’ŒSignalçš„è¿æ¥å…³ç³»ã€‚</p>
<h5 data-id="heading-15">Signal</h5>
<p>æ¨¡æ¿å‚æ•°ä¹Ÿæ˜¯ Argsï¼šå›è°ƒå‡½æ•°çš„å½¢å‚åˆ—è¡¨ã€‚</p>
<p>Signal å†…éƒ¨æˆå‘˜ï¼š</p>
<ul>
<li>std::list&lt;std::shared_ptr&lt;Slot&lt;Args...&gt;&gt;&gt;ï¼šä¸€ä¸ª Slot åˆ—è¡¨</li>
<li>std::mutex å¯¹ Slot åˆ—è¡¨ äº’æ–¥è®¿é—®ã€‚</li>
</ul>
<p>è°ƒç”¨æ–¹å¼ï¼š</p>
<ul>
<li>
<p>Signale::Connect(const Callback &amp;cb) ä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå°è£…æˆSlotï¼Œæ·»åŠ åˆ°Slotåˆ—è¡¨ï¼Œç„¶åç”Ÿæˆä¸€ä¸ªConnection&lt;Args...&gt;è¿”å›ã€‚</p>
</li>
<li>
<p>Signale::Disconnect(const ConnectionType &amp;conn) åˆ™æ˜¯ä¼ å…¥ä¸€ä¸ªConnection&lt;Args...&gt;ï¼Œä»Slotåˆ—è¡¨é‡Œæ‰¾åˆ° conné‡Œé‚£ä¸ªslotï¼Œç„¶åslot::DisConnectã€‚</p>
</li>
</ul>
<h4 data-id="heading-16">ListenerHandler å­ç±»  ä¿¡å·æ§½æœºåˆ¶</h4>
<p>ä¿¡å·æ§½æœºåˆ¶ï¼ŒåŸºç±» è¿æ¥çŠ¶æ€</p>
<p>ä¸¤ç§ç»‘å®šå…³ç³»ï¼š</p>
<ol>
<li>å¹¿æ’­ç»‘å®š</li>
<li>å®šå‘ç»‘å®š</li>
</ol>
<blockquote>
<p>Connect æä¾›äº†ä¸¤ç§ç»‘å®šï¼Œå¦‚æœåªæä¾›self_idå’Œå›è°ƒï¼Œé‚£ä¹ˆæ³¨å†Œåˆ°signal_ç»Ÿä¸€çš„ï¼ˆåªè¦æœ‰æ¶ˆæ¯å°±ä¼šå¹¿æ’­è§¦å‘æ‰€æœ‰ï¼‰<br/>
å¦‚æœé¢å¤–æä¾› oppo_idï¼Œé‚£ä¹ˆå½“ å¯¹åº”çš„æ¶ˆæ¯æ¥äº†ï¼Œå•ç‹¬è§¦å‘ã€‚</p>
</blockquote>
<h2 data-id="heading-17">SHM è®¾è®¡æ€è·¯</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/690b284308894eb3b3c1ecdb870a5c06~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-I6L-H5LiA5Liq56eL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764051018&amp;x-signature=HE0cQ2kdS4HeyfMBMq9jwFVARCo%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>Transmitterä¼šæ ¹æ®channel_id_ä½œä¸ºkeyç”Ÿæˆä¸€å—Segmentå…±äº«å†…å­˜
<ul>
<li>ï¼ˆSegmentFactory::CreateSegment æœ‰ä¸¤ç§æ„é€ æ–¹æ³•ï¼šPosix IPC <code>PosixSegment</code>å’ŒSystem V IPC <code>XsiSegment</code>(é»˜è®¤)ï¼‰ï¼Œ</li>
</ul>
</li>
<li>NotifierFactory::CreateNotifier() è·å– Indicator é€šçŸ¥ï¼ˆæœ‰ä¸¤ç§é€šçŸ¥ï¼šå…±äº«å†…å­˜<code>ConditionNotifier</code> å’Œ ç»„æ’­ <code>MulticastNotifier</code>ï¼‰</li>
<li>Receiver å°†è‡ªèº«å›è°ƒå‡½æ•° æ³¨å†Œè¿› å•ä¾‹Dispatcherã€‚Dispatcheré€šè¿‡ä¸æ–­ç›‘å¬ é€šçŸ¥æ¶ˆæ¯ã€‚å¦‚æœç›¸å…³ï¼Œåˆ™å¯¹å¯¹åº”çš„Segmentè¯»å–æ•°æ®ã€‚</li>
</ul>
<h3 data-id="heading-18">å…±äº«å†…å­˜åˆ†å¸ƒ</h3>
<h4 data-id="heading-19">Segment</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/61f262bb4a4345d5b0d5b0d08f7b3c44~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-I6L-H5LiA5Liq56eL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764051018&amp;x-signature=vy0BQh91k4AX74KWQD1DsECEuPQ%3D" alt="image.png" loading="lazy"/></p>
<p>Segment åŸºç±» å…³é”®æˆå‘˜ï¼š</p>
<ul>
<li>State* state_ æ®µçŠ¶æ€æŒ‡é’ˆï¼ˆè·¨è¿›ç¨‹å…±äº«ï¼‰</li>
<li>Block* blocks_ å—æ•°ç»„æŒ‡é’ˆ
<ul>
<li><code>Blockå—çº§è¯»å†™é”è®¾è®¡ å†™ä¼˜å…ˆ</code>ï¼šé€šè¿‡ CAS åŸå­æ“ä½œå¯¹ lock_num_ åœ¨0ï¼ˆç©ºé—²ï¼‰ï¼Œ-1ï¼ˆå†™ï¼‰ï¼Œ&gt;0(è¯»)</li>
</ul>
</li>
<li>void* managed_shm_ æ˜ å°„åçš„å…±äº«å†…å­˜åŸºå€</li>
<li>std::unordered_map&lt;uint32_t, uint8_t*&gt; block_buf_addrs_ index buf* çš„åœ°å€è¡¨</li>
</ul>
<p>å…³é”®æˆå‘˜å‡½æ•°ï¼š</p>
<ul>
<li>AcquireBlockToWrite é€‰æ‹©å¯å†™å—ã€åŠ å†™é”å¹¶è¿”å›
<ul>
<li>è‹¥ state_-&gt;need_remap() æˆ–æ¶ˆæ¯è¶…å‡º ceiling_msg_size() ï¼Œåˆ†åˆ«èµ° Remap() ä¸ Recreate()</li>
<li>GetNextWritableBlockIndex() åŸºäº State::seq_.fetch_add(1) è½®è¯¢é€‰æ‹©ä¸‹ä¸€ä¸ªå¯å†™å—ï¼Œå¹¶å°è¯• Block::TryLockForWrite() ï¼Œå¤±è´¥åˆ™ç»§ç»­å¾ªç¯ã€‚</li>
</ul>
</li>
<li>ReleaseWrittenBlock(const WritableBlock&amp;) : é‡Šæ”¾å¯¹åº”å—çš„å†™é”
<ul>
<li>Block::ReleaseWriteLock() é‡Šæ”¾å—å†™é”</li>
</ul>
</li>
<li>AcquireBlockToRead(ReadableBlock*) : æŒ‰ç»™å®š index åŠ è¯»é”å¹¶è¿”å›
<ul>
<li>Block::TryLockForRead å°è¯•è¯»é”</li>
</ul>
</li>
<li>ReleaseReadBlock(const ReadableBlock&amp;) : é‡Šæ”¾å¯¹åº”å—çš„è¯»é”
<ul>
<li>Block::ReleaseReadLock é‡Šæ”¾Blockçš„è¯»é”</li>
</ul>
</li>
</ul>
<h4 data-id="heading-20">Indicator</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cfc3cef5074948548a6f606e4f9ee901~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-I6L-H5LiA5Liq56eL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764051018&amp;x-signature=6YKRFnr8A1udll3rJLvs%2FKPBCuQ%3D" alt="image.png" loading="lazy"/></p>
<h5 data-id="heading-21">ConditionNotifier å•ä¾‹ å…±äº«å†…å­˜é€šçŸ¥</h5>
<p>æ‰€æœ‰çš„ ConditionNotifier å•ä¾‹åœ¨ åŒä¸€å— key åˆ›å»º/è·å– å†…å­˜åˆ†å¸ƒ</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// </span>
<span class="hljs-type">int</span> shmid = <span class="hljs-built_in">shmget</span>(key_, shm_size_, <span class="hljs-number">0644</span> | IPC_CREAT | IPC_EXCL);
<span class="hljs-comment">// </span>
<span class="hljs-type">void</span>* managed_shm_ = <span class="hljs-built_in">shmat</span>(shmid, <span class="hljs-literal">nullptr</span>, <span class="hljs-number">0</span>);
<span class="hljs-comment">// é€šè¿‡ replacement new åœ¨ å…±äº«å†…å­˜ä¸Šåˆ›å»º Indicator</span>
</code></pre>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// åˆ é™¤å…±äº«å†…å­˜ </span>
<span class="hljs-type">int</span> shmid = <span class="hljs-built_in">shmget</span>(key_, <span class="hljs-number">0</span>, <span class="hljs-number">0644</span>);
<span class="hljs-built_in">shmctl</span>(shmid, IPC_RMID, <span class="hljs-number">0</span>)
<span class="hljs-comment">// æ–­å¼€å…±äº«å†…å­˜</span>
<span class="hljs-built_in">shmdt</span>(managed_shm_);
</code></pre>
<h4 data-id="heading-22">å°æ€»ç»“</h4>
<ul>
<li>Segment é€šè¿‡ Blockå—çº§é”ï¼Œé™åˆ¶äº†Bufferçš„è¯»å†™è®¿é—®</li>
<li>Indicator ç”¨äºé€šçŸ¥ï¼Œå¯¹äºé”çš„æ§åˆ¶è¾ƒå¼±ï¼Œå…è®¸å¤šè¯»è€…å¤šå†™è€…å…±åŒè®¿é—®ï¼Œå…è®¸ä¸€å®šçš„è„æ•°æ®çš„å­˜åœ¨ã€‚
<ul>
<li><code>æç«¯æƒ…å†µ</code>ã€‚è™½ç„¶æ˜¯ä¸€åœˆä¸€åœˆçš„è·å–çš„readableinfoï¼Œå¦‚æœå†™è€…å¤ªå¤šäº†ï¼Œåˆ™å­˜åœ¨å¤šä¸ªå†™è€…åŒæ—¶å†™å…¥åŒä¸€å—çš„readableinfoçš„æƒ…å†µï¼ˆå¯èƒ½å­˜åœ¨å¤å†™çš„æƒ…å†µï¼‰ã€‚ç›¸åº”ï¼Œæ¯ä¸ªè¯»è€…éƒ½æœ‰è‡ªå·±è®°å½•ç‹¬ç«‹çš„ next_seq_ï¼ˆè¡¨ç¤ºè‡ªå·±ä¸‹ä¸€å—è¯»çš„seqæ•°ç»„ä¸‹æ ‡ï¼Œåªè¦æ£€æµ‹åˆ°seqå¯¹åº”æ•°ç»„æ•°å€¼æ›´å¤§ï¼Œå°±è¯´æ˜ readableinfo æœ‰æ–°çš„é€šçŸ¥æ•°æ®ï¼Œè·å– readableinfo æ£€æŸ¥æ˜¯å¦ç›¸å…³ï¼Œè¿›è¡Œä¸‹ä¸€æ­¥å¤„ç†ï¼‰</li>
<li>ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œä¸»è¦æ˜¯ç”±äº <code>è¯»çš„é¢‘ç‡ è·Ÿä¸ä¸Š å†™çš„é¢‘ç‡</code>ã€‚ä»£ç é‡Œæ¯50usè¿›è¡Œä¸€æ¬¡æ£€æµ‹ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-23">ShmTransmitter</h3>
<ul>
<li>Enableï¼š  å·¥å‚ç±»åˆ›å»º
<ul>
<li>SegmentFactory::CreateSegment(channel_id_)
<ul>
<li>é»˜è®¤ XsiSegment</li>
</ul>
</li>
<li>NotifierFactory::CreateNotifier()
<ul>
<li>é»˜è®¤ ConditionNotifier</li>
</ul>
</li>
</ul>
</li>
<li>Transmitï¼š å‘é€æ•°æ®
<ul>
<li>
<p><code>Segment::AcquireBlockToWrite</code> è·å–ä¸€å—å¯å†™çš„Blockï¼ˆåŒ…å«indexã€Block*ã€uint8_t* bufferæŒ‡é’ˆï¼‰æ‹¿åˆ°çš„è¿™å—blockåŠ ä¸Šå†™é” â­</p>
</li>
<li>
<p>ï¼ˆæ¨¡æ¿ç±»å‹<code>M</code> + MessageInfo åºåˆ—åŒ–å†™å…¥uint8_t* bufferï¼›ç»™Blockè®¾ç½®msg_sizeæ¶ˆæ¯å¤§å°ï¼Œmsg_info_sizeé™„åŠ æ¶ˆæ¯å¤§å°ï¼Œï¼‰</p>
</li>
<li>
<p>é‡Šæ”¾æ­¤blockçš„å†™é”  <code>Segment::ReleaseWrittenBlock</code></p>
</li>
<li>
<p>æ–°å»º <code>ReadableInfo</code>ï¼Œ<code>NotifierBase::Notify</code> é€šçŸ¥</p>
</li>
</ul>
</li>
</ul>
<h3 data-id="heading-24">ShmReceiver</h3>
<ul>
<li>åˆå§‹åŒ–: é€šè¿‡ ShmDispatcher::Instance() è·å–åˆ°å…¨å±€å•ä¾‹çš„ ShmDispatcher</li>
<li>Enable(): å‘¼åº”å‰æ–‡ï¼Œé€šè¿‡ AddListener æŠŠ åŸºç±»OnNewMessage æ·»åŠ åˆ° ShmDispatcherã€‚</li>
</ul>
<h3 data-id="heading-25">ShmDispatcher</h3>
<ul>
<li>Init:
<ul>
<li>NotifierFactory::CreateNotifier è·å–åˆ°å…¨å±€å•ä¾‹ Notify</li>
<li>åˆ›å»ºä¸€ä¸ªthreadï¼Œæ‰§è¡Œ ShmDispatcher::ThreadFunc()</li>
</ul>
</li>
<li>AddListenerï¼š
<ul>
<li>å­ç±»å°† æ¨¡æ¿å‚æ•° MessageT é‡å†™å°è£…ä¸€ä¸ªå›è°ƒï¼ˆReadableBock åºåˆ—åŒ–å¾—åˆ° MessageTï¼Œå†æ‰§è¡Œå›åˆ°ï¼‰</li>
<li>å†è°ƒç”¨çˆ¶ç±» AddListener</li>
<li>AddSegment()</li>
</ul>
</li>
<li>ThreadFunc: ç›‘å¬ Indicator
<ul>
<li>ä¸æ–­è°ƒç”¨ ConditionNotifier::Listenï¼Œè·å– ReadableInfo</li>
<li>åˆ¤æ–­ ReadableInfo çš„ host_id å’Œ æœ¬æœºæ˜¯å¦ä¸€è‡´ã€‚è·å–åˆ° channel_id å’Œ block_index</li>
<li>æ¥ä¸‹æ¥ï¼Œæ ¹æ®channel_idï¼Œè·å–åˆ°å¯¹åº”çš„Segmentã€‚é€šè¿‡ Segment::AcquireBlockToRead è·å–åˆ° Blockçš„è¯»é”ä»¥åŠå¯¹åº”çš„Bufferæ•°æ®ã€‚</li>
<li>ShmDispatcher::OnMessage ï¼Œé€šè¿‡ channel_id è·å–åˆ° å¯¹åº”çš„ ListenerHandlerï¼Œæ‰§è¡Œå¯¹åº”çš„ ListenerHandler::Runï¼Œæ¥ç€å°±æ˜¯ ListenerHandler signal_å¹¿æ’­é€šçŸ¥ä»¥åŠï¼Œsignals_[oppo_id]å®šå‘é€šçŸ¥ã€‚</li>
</ul>
</li>
</ul>
<blockquote>
<p>æ­¤æ—¶ å½“æ¶ˆæ¯åˆ°æ¥</p>
<ol>
<li>è§¦å‘çš„å›è°ƒä¼ å…¥<code>listener_adapterï¼ˆconst std::shared_ptr&lt;ReadableBlock&gt; &amp;rbï¼Œconst MessageInfo &amp;msg_infoï¼‰</code><br/>
ReadableBlock è§£æ MessageT</li>
<li>æ‰§è¡Œ <code>listener(const std::shared_ptr&lt;MessageT&gt; &amp;, const MessageInfo &amp;)</code></li>
</ol>
</blockquote>
<h2 data-id="heading-26">RTSP è®¾è®¡</h2>
<h3 data-id="heading-27">FastRTPSé€šä¿¡</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/224830b607304940a9c0601d9b8863ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-I6L-H5LiA5Liq56eL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764051018&amp;x-signature=kQwmO9aSeNRP90u%2BSGDjJ9VApDo%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨åŸºäºFastRTPSå®ç°è·¨è¿›ç¨‹é€šä¿¡æ—¶ï¼Œå‘é€ç«¯å’Œæ¥æ”¶ç«¯éœ€éµå¾ªç‰¹å®šæµç¨‹å®Œæˆé…ç½®ï¼Œä»¥å®ç°æ•°æ®é€šä¿¡ã€‚å…¶å…·ä½“æ­¥éª¤å¦‚ä¸‹æ‰€è¿°ï¼Œ</p>
<ul>
<li>
<p>åœ¨å‘é€ç«¯ï¼Œé¦–å…ˆè¦åˆ›å»º RtpsParticipantã€‚æ¥ç€ï¼Œåˆ›å»ºRtpsWriterçš„é…ç½®ä¿¡æ¯å®ä¾‹å¹¶å®Œæˆå¡«å……ï¼Œéšååˆ›å»º RtpsWriterå’Œ RtpsWriterHistoryï¼Œæœ€åå°† RtpsWriter è¿›è¡Œæ³¨å†Œã€‚å‡†å¤‡å·¥ä½œå®Œæˆåï¼Œå°±å¯ä»¥è¿›è¡Œæ•°æ®è£…è½½ä¸å‘é€ã€‚</p>
</li>
<li>
<p>åœ¨æ¥æ”¶ç«¯ï¼ŒåŒæ ·éœ€è¦å…ˆåˆ›å»ºRtpsParticipantï¼Œç„¶ååˆ›å»ºRtpsReaderçš„é…ç½®ä¿¡æ¯å®ä¾‹å¹¶å¡«å……ç›¸å…³ä¿¡æ¯ï¼Œåˆ›å»ºRtpsReaderå¹¶ä¸ºå…¶è®¾ç½®å›è°ƒå‡½æ•°ï¼Œå†åˆ›å»ºRtpsReaderHistoryï¼Œå®Œæˆè¿™äº›æ­¥éª¤åï¼Œå°±èƒ½åœ¨æ¥æ”¶åˆ°æ•°æ®æ—¶æ‰§è¡Œå›è°ƒæ“ä½œã€‚å½“å‘é€ç«¯å’Œæ¥æ”¶ç«¯éƒ½æŒ‰ç…§ä¸Šè¿°æµç¨‹é…ç½®å®ŒæˆåŒæ–¹å³å¯å¼€å§‹é€šä¿¡ã€‚</p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/253811a768a740ba82ffacad1a5fd306~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-I6L-H5LiA5Liq56eL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764051018&amp;x-signature=0pHuLiZomLCQo48FHL0or4CslBw%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[element-plusä¸»é¢˜é…ç½®åŠåŠ¨æ€åˆ‡æ¢ä¸»é¢˜]]></title>    <link>https://juejin.cn/post/7573738017987346475</link>    <guid>https://juejin.cn/post/7573738017987346475</guid>    <pubDate>2025-11-18T06:02:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573738017987346475" data-draft-id="7573549302620241963" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="element-plusä¸»é¢˜é…ç½®åŠåŠ¨æ€åˆ‡æ¢ä¸»é¢˜"/> <meta itemprop="keywords" content="å‰ç«¯,CSS,Element"/> <meta itemprop="datePublished" content="2025-11-18T06:02:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤©å¤–æ¥ç‰©"/> <meta itemprop="url" content="https://juejin.cn/user/4072246798727294"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            element-plusä¸»é¢˜é…ç½®åŠåŠ¨æ€åˆ‡æ¢ä¸»é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4072246798727294/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤©å¤–æ¥ç‰©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T06:02:53.000Z" title="Tue Nov 18 2025 06:02:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åˆ›å»ºvueé¡¹ç›®çš„ä¸åŒæ–¹å¼</h2>
<p>pnpm create vite ä½¿ç”¨äºåˆ›å»ºä¸€äº›ç»„ä»¶åº“ï¼Œç¬¬ä¸‰æ–¹åº“çš„æ—¶å€™</p>
<p>pnpm create vue é€‚ç”¨äºvueé¡¹ç›®ï¼Œå†…éƒ¨æœ‰ä¸€äº›åŸºç¡€çš„æ ·å¼ï¼Œvueçš„ä¸»é¢˜ï¼Œ</p>
<h2 data-id="heading-1">element-plusä¸»é¢˜é…ç½®</h2>
<h3 data-id="heading-2">æŒ‰éœ€å¼•å…¥element</h3>
<h4 data-id="heading-3">1. scsså˜é‡è‡ªå®šä¹‰ä¸»é¢˜</h4>
<p>åˆ†æ”¯ï¼š<code>feature-element-theme-anxu-scss</code></p>
<p><code>src/styles/element/index.scss</code></p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">/* just override what you need */</span>
<span class="hljs-variable">@forward</span> <span class="hljs-string">'element-plus/theme-chalk/src/common/var.scss'</span> with (
  $<span class="hljs-attribute">colors</span>: (
    <span class="hljs-string">'primary'</span>: (
      <span class="hljs-string">'base'</span>: green,
    ),
  )
);

</code></pre>
<p><code>vite.config.ts</code></p>
<pre><code class="hljs language-php" lang="php">import { fileURLToPath, URL } <span class="hljs-keyword">from</span> <span class="hljs-string">'node:url'</span>

import { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>
import vue <span class="hljs-keyword">from</span> <span class="hljs-string">'@vitejs/plugin-vue'</span>
import vueDevTools <span class="hljs-keyword">from</span> <span class="hljs-string">'vite-plugin-vue-devtools'</span>
import AutoImport <span class="hljs-keyword">from</span> <span class="hljs-string">'unplugin-auto-import/vite'</span>
import Components <span class="hljs-keyword">from</span> <span class="hljs-string">'unplugin-vue-components/vite'</span>
import { ElementPlusResolver } <span class="hljs-keyword">from</span> <span class="hljs-string">'unplugin-vue-components/resolvers'</span>
import ElementPlus <span class="hljs-keyword">from</span> <span class="hljs-string">'unplugin-element-plus/vite'</span>

<span class="hljs-comment">// https://vite.dev/config/</span>
export <span class="hljs-keyword">default</span> <span class="hljs-title function_ invoke__">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-title function_ invoke__">vue</span>(),
    <span class="hljs-title function_ invoke__">vueDevTools</span>(),
    <span class="hljs-title function_ invoke__">AutoImport</span>({
      <span class="hljs-attr">resolvers</span>: [<span class="hljs-title function_ invoke__">ElementPlusResolver</span>()],
    }),
    <span class="hljs-title function_ invoke__">Components</span>({
      <span class="hljs-attr">resolvers</span>: [
        <span class="hljs-title function_ invoke__">ElementPlusResolver</span>({
          <span class="hljs-attr">importStyle</span>: <span class="hljs-string">'sass'</span>,
        }),
      ],
    }),
    <span class="hljs-title function_ invoke__">ElementPlus</span>({
      <span class="hljs-attr">useSource</span>: <span class="hljs-literal">true</span>,
    }),
  ],
  <span class="hljs-attr">resolve</span>: {
    <span class="hljs-attr">alias</span>: {
      <span class="hljs-string">'@'</span>: <span class="hljs-title function_ invoke__">fileURLToPath</span>(<span class="hljs-keyword">new</span> <span class="hljs-title function_ invoke__">URL</span>(<span class="hljs-string">'./src'</span>, import.meta.url)),
    },
  },
  <span class="hljs-attr">css</span>: {
    <span class="hljs-attr">preprocessorOptions</span>: {
      <span class="hljs-attr">scss</span>: {
        <span class="hljs-attr">additionalData</span>: `@<span class="hljs-keyword">use</span> <span class="hljs-string">"@/styles/element/index.scss"</span> <span class="hljs-keyword">as</span> *;`,
      },
    },
  },
})

</code></pre>
<p>æŒ‰éœ€å¼•å…¥ç»„ä»¶æ—¶ï¼Œä½¿ç”¨ç»„ä»¶ï¼Œä¼šè‡ªåŠ¨å¼•å…¥å¯¹åº”ç»„ä»¶çš„æ ·å¼ï¼Œä¸ç”¨å†main.tsä¸­å¼•å…¥elememntçš„å…¨éƒ¨æ ·å¼ã€‚</p>
<p>ä¸»é¢˜é…ç½®åªéœ€è¦ä¿®æ”¹éœ€è¦æ”¹å˜çš„é¢œè‰²å˜é‡å³å¯</p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œå¯¹åº”ç»„ä»¶çš„é¢œè‰²å˜é‡å·²ç»å˜åŒ–</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0fc8b8fcc69404fab6f3bdf76c35e90~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSp5aSW5p2l54mp:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764050572&amp;x-signature=E2AxThBMaix0GyHleQA2Rw4r4yA%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-4">2. csså˜é‡è‡ªå®šä¹‰ä¸»é¢˜</h4>
<p>åˆ†æ”¯ï¼š <code>feature-element-theme-anxu-css</code></p>
<p><code>src/styles/element/index.scss</code></p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-pseudo">:root</span> {
  <span class="hljs-attr">--el-color-primary</span>: green;
}

</code></pre>
<p><code>vite.config.ts</code></p>
<pre><code class="hljs language-php" lang="php">import { fileURLToPath, URL } <span class="hljs-keyword">from</span> <span class="hljs-string">'node:url'</span>

import { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>
import vue <span class="hljs-keyword">from</span> <span class="hljs-string">'@vitejs/plugin-vue'</span>
import vueDevTools <span class="hljs-keyword">from</span> <span class="hljs-string">'vite-plugin-vue-devtools'</span>
import AutoImport <span class="hljs-keyword">from</span> <span class="hljs-string">'unplugin-auto-import/vite'</span>
import Components <span class="hljs-keyword">from</span> <span class="hljs-string">'unplugin-vue-components/vite'</span>
import { ElementPlusResolver } <span class="hljs-keyword">from</span> <span class="hljs-string">'unplugin-vue-components/resolvers'</span>
import ElementPlus <span class="hljs-keyword">from</span> <span class="hljs-string">'unplugin-element-plus/vite'</span>

<span class="hljs-comment">// https://vite.dev/config/</span>
export <span class="hljs-keyword">default</span> <span class="hljs-title function_ invoke__">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-title function_ invoke__">vue</span>(),
    <span class="hljs-title function_ invoke__">vueDevTools</span>(),
    <span class="hljs-title function_ invoke__">AutoImport</span>({
      <span class="hljs-attr">resolvers</span>: [<span class="hljs-title function_ invoke__">ElementPlusResolver</span>()],
    }),
    <span class="hljs-title function_ invoke__">Components</span>({
      <span class="hljs-attr">resolvers</span>: [
        <span class="hljs-title function_ invoke__">ElementPlusResolver</span>({
          <span class="hljs-attr">importStyle</span>: <span class="hljs-string">'sass'</span>,
        }),
      ],
    }),
    <span class="hljs-title function_ invoke__">ElementPlus</span>({
      <span class="hljs-attr">useSource</span>: <span class="hljs-literal">true</span>,
    }),
  ],
  <span class="hljs-attr">resolve</span>: {
    <span class="hljs-attr">alias</span>: {
      <span class="hljs-string">'@'</span>: <span class="hljs-title function_ invoke__">fileURLToPath</span>(<span class="hljs-keyword">new</span> <span class="hljs-title function_ invoke__">URL</span>(<span class="hljs-string">'./src'</span>, import.meta.url)),
    },
  },
  <span class="hljs-attr">css</span>: {
    <span class="hljs-attr">preprocessorOptions</span>: {
      <span class="hljs-attr">scss</span>: {
        <span class="hljs-attr">additionalData</span>: `@<span class="hljs-keyword">use</span> <span class="hljs-string">"@/styles/element/index.scss"</span> <span class="hljs-keyword">as</span> *;`,
      },
    },
  },
})

</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œcsså˜é‡è¢«æ³¨å…¥åˆ°ç»„ä»¶å¯¹åº”çš„scssæ–‡ä»¶é¡¶éƒ¨ï¼Œä»è€Œè®©ä¸»é¢˜ç”Ÿæ•ˆ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/867f5770e5c74661b07493355029ab4f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSp5aSW5p2l54mp:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764050572&amp;x-signature=BClr4pbbrrits5hV7MnpypeYi4g%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-5">å…¨é‡å¼•å…¥element</h3>
<h4 data-id="heading-6">scsså…¨é‡å¼•å…¥</h4>
<p>åˆ†æ”¯ <code>feature-element-theme-all-scss</code></p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">/* just override what you need */</span>
<span class="hljs-variable">@forward</span> <span class="hljs-string">'element-plus/theme-chalk/src/common/var.scss'</span> with (
  $<span class="hljs-attribute">colors</span>: (
    <span class="hljs-string">'primary'</span>: (
      <span class="hljs-string">'base'</span>: green,
    ),
  )
);

<span class="hljs-comment">// If you just import on demand, you can ignore the following content.</span>
<span class="hljs-comment">// å¦‚æœä½ æ˜¯å…¨é‡å¯¼å…¥ï¼Œéœ€è¦åŠ ä¸‹è¾¹è¿™å¥ï¼Œå¦‚æœæ˜¯æŒ‰éœ€å¼•å…¥ï¼Œè¯·æ³¨é‡Šæ‰ä¸‹è¾¹è¿™å¥</span>
<span class="hljs-variable">@use</span> <span class="hljs-string">'element-plus/theme-chalk/src/index.scss'</span> as *;

</code></pre>
<p><code>main.ts</code></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-string">'./assets/main.css'</span>

<span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> { createPinia } <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ElementPlus</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'element-plus'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./styles/element/index.scss'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.vue'</span>
<span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">'./router'</span>

<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>)

app.<span class="hljs-title function_">use</span>(<span class="hljs-title function_">createPinia</span>())
app.<span class="hljs-title function_">use</span>(router)

app.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">ElementPlus</span>)
app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>)

</code></pre>
<p>è¿™æ—¶å€™å¯ä»¥çœ‹åˆ°æ ·å¼è¢«å…¨éƒ¨å¼•å…¥äº†</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb18d941425949e9aa52776192f39b42~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSp5aSW5p2l54mp:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764050572&amp;x-signature=gPHmjfSStYYy7Xv8wTaOGsU%2BvOQ%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-7">csså…¨é‡å¼•å…¥</h4>
<p>åˆ†æ”¯ï¼š<code>feature-element-theme-all-css</code>
<code>src/styles/element/index.css</code></p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-pseudo">:root</span> {
  <span class="hljs-attr">--el-color-primary</span>: green;
}

</code></pre>
<p><code>main.ts</code></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-string">'./assets/main.css'</span>

<span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> { createPinia } <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ElementPlus</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'element-plus'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'element-plus/dist/index.css'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./styles/element/index.css'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.vue'</span>
<span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">'./router'</span>

<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>)

app.<span class="hljs-title function_">use</span>(<span class="hljs-title function_">createPinia</span>())
app.<span class="hljs-title function_">use</span>(router)

app.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">ElementPlus</span>)
app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>)

</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œelementçš„csså˜é‡å·²ç»è¢«è¦†ç›–äº†</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/08f49c441f894deb8c4fa106d8cc8a01~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSp5aSW5p2l54mp:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764050572&amp;x-signature=HTfbHaox5fgUWsxdbyAcNRu8sxA%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-8">åŠ¨æ€ä¸»é¢˜</h2>
<blockquote>
<p>è¿è¡Œæ—¶åŠ¨æ€åˆ‡æ¢ä¸»é¢˜ï¼Œä¸èƒ½ä¾èµ–scsså˜é‡</p>
<p>åŸå› </p>
<p>SCSS å˜é‡æ˜¯ç¼–è¯‘æ—¶å˜é‡,åœ¨æ„å»ºé˜¶æ®µå°±è¢«æ›¿æ¢æ‰äº†,åœ¨æµè§ˆå™¨è¿è¡Œæ—¶æ— æ³•å†æ”¹å˜,æ‰€ä»¥æ— æ³•ç”¨äºâ€œåŠ¨æ€åˆ‡æ¢ä¸»é¢˜â€ã€‚</p>
</blockquote>
<p>åŠ¨æ€ä¸»é¢˜åº”è¯¥ä½¿ç”¨csså˜é‡æ¥å®ç°</p>
<p>å®˜æ–¹æä¾›äº†ä¸€ä¸ªåˆ‡æ¢ä¸»é¢˜çš„é¡¹ç›®<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Felement-plus%2Felement-plus-vite-starter%23" target="_blank" title="https://github.com/element-plus/element-plus-vite-starter#" ref="nofollow noopener noreferrer">github.com/element-pluâ€¦</a></p>
<p>é‡Œé¢å¼•å…¥äº†ä¸€å¥—æš—é»‘æ¨¡å¼çš„æ ·å¼ï¼Œç„¶åé€šè¿‡ useToggleè¿›è¡Œåˆ‡æ¢</p>
<p>åˆ†æ”¯ <code>feature-element-theme-anxu-scss-dynamic</code>
è¿˜æ˜¯é‡‡ç”¨æŒ‰éœ€å¼•å…¥elememntçš„æ–¹å¼</p>
<p><code>src/styles/index.scss</code>
è¿™é‡Œå…¨é‡å¼•å…¥æš—é»‘æ¨¡å¼çš„æ ·å¼</p>
<pre><code class="hljs language-css" lang="css">// import dark theme
<span class="hljs-keyword">@use</span> <span class="hljs-string">'element-plus/theme-chalk/src/dark/css-vars.scss'</span> as *;

// <span class="hljs-selector-pseudo">:root</span> {
//   <span class="hljs-attr">--ep-color-primary</span>: red;
// }

<span class="hljs-selector-tag">body</span> {
  <span class="hljs-attribute">font-family</span>:
    Inter, system-ui, Avenir, <span class="hljs-string">'Helvetica Neue'</span>, Helvetica, <span class="hljs-string">'PingFang SC'</span>, <span class="hljs-string">'Hiragino Sans GB'</span>,
    <span class="hljs-string">'Microsoft YaHei'</span>, <span class="hljs-string">'å¾®è½¯é›…é»‘'</span>, Arial, sans-serif;
  -webkit-<span class="hljs-attribute">font-smoothing</span>: antialiased;
  -moz-osx-<span class="hljs-attribute">font-smoothing</span>: grayscale;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
}

<span class="hljs-selector-tag">a</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-built_in">var</span>(--ep-color-primary);
}

</code></pre>
<p><code>main.ts</code>åœ¨main.tsä¸­å¼•å…¥æ ·å¼</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// import './assets/main.css'</span>

<span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> { createPinia } <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.vue'</span>
<span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">'./router'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'@/styles/index.scss'</span>

<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>)

app.<span class="hljs-title function_">use</span>(<span class="hljs-title function_">createPinia</span>())
app.<span class="hljs-title function_">use</span>(router)

app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>)

</code></pre>
<p><code>src/styles/element/index.scss</code>
è¿™é‡Œæ˜¯è‡ªå®šä¹‰é»˜è®¤ä¸»é¢˜å˜é‡</p>
<pre><code class="hljs language-perl" lang="perl">$--colors: (
  <span class="hljs-string">'primary'</span>: (
    <span class="hljs-string">'base'</span>: rgb(<span class="hljs-number">0</span>, <span class="hljs-number">128</span>, <span class="hljs-number">19</span>),
  ),
  <span class="hljs-string">'success'</span>: (
    <span class="hljs-string">'base'</span>: <span class="hljs-comment">#21ba45,</span>
  ),
  <span class="hljs-string">'warning'</span>: (
    <span class="hljs-string">'base'</span>: <span class="hljs-comment">#f2711c,</span>
  ),
  <span class="hljs-string">'danger'</span>: (
    <span class="hljs-string">'base'</span>: <span class="hljs-comment">#db2828,</span>
  ),
  <span class="hljs-string">'error'</span>: (
    <span class="hljs-string">'base'</span>: <span class="hljs-comment">#db2828,</span>
  ),
  <span class="hljs-string">'info'</span>: (
    <span class="hljs-string">'base'</span>: <span class="hljs-comment">#42b8dd,</span>
  ),
);

<span class="hljs-regexp">//</span> You should <span class="hljs-keyword">use</span> them in scss, because we calculate it by sass.
// comment <span class="hljs-keyword">next</span> lines to <span class="hljs-keyword">use</span> default color
@forward <span class="hljs-string">'element-plus/theme-chalk/src/common/var.scss'</span> with (
  <span class="hljs-regexp">//</span> <span class="hljs-keyword">do</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">use</span> same name, it will override.
  $colors: $--colors // $button-padding-horizontal: (<span class="hljs-string">'default'</span>: <span class="hljs-number">50</span>px)
);

<span class="hljs-regexp">//</span> <span class="hljs-keyword">if</span> you want to import all
// @use <span class="hljs-string">"element-plus/theme-chalk/src/index.scss"</span> as *;

<span class="hljs-regexp">//</span> You can comment it to hide debug info.
// @debug $--colors;

<span class="hljs-regexp">//</span> custom dark variables
@use <span class="hljs-string">'./dark.scss'</span>;

</code></pre>
<p><code>src/styles/element/dark.scss</code> è¿™æ˜¯å¯¹æš—é»‘ä¸»é¢˜é¢œè‰²é‡æ–°å®šä¹‰</p>
<pre><code class="hljs language-css" lang="css">// only scss variables

$<span class="hljs-attr">--colors</span>: (
  <span class="hljs-string">'primary'</span>: (
    <span class="hljs-string">'base'</span>: <span class="hljs-number">#589ef8</span>,
  ),
);

<span class="hljs-keyword">@forward</span> <span class="hljs-string">'element-plus/theme-chalk/src/dark/var.scss'</span> with (
  $<span class="hljs-attribute">colors</span>: $--colors
);

</code></pre>
<p><code>vite.config.ts</code>  è¿™é‡Œå¼•å…¥è‡ªå®šä¹‰ä¸»é¢˜å˜é‡ï¼Œè‡ªå®šä¹‰é»˜è®¤ä¸»é¢˜å’Œæš—é»‘ä¸»é¢˜é¢œè‰²</p>
<pre><code class="hljs language-php" lang="php">import { fileURLToPath, URL } <span class="hljs-keyword">from</span> <span class="hljs-string">'node:url'</span>

import { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>
import vue <span class="hljs-keyword">from</span> <span class="hljs-string">'@vitejs/plugin-vue'</span>
import vueDevTools <span class="hljs-keyword">from</span> <span class="hljs-string">'vite-plugin-vue-devtools'</span>
import AutoImport <span class="hljs-keyword">from</span> <span class="hljs-string">'unplugin-auto-import/vite'</span>
import Components <span class="hljs-keyword">from</span> <span class="hljs-string">'unplugin-vue-components/vite'</span>
import { ElementPlusResolver } <span class="hljs-keyword">from</span> <span class="hljs-string">'unplugin-vue-components/resolvers'</span>
import ElementPlus <span class="hljs-keyword">from</span> <span class="hljs-string">'unplugin-element-plus/vite'</span>

<span class="hljs-comment">// https://vite.dev/config/</span>
export <span class="hljs-keyword">default</span> <span class="hljs-title function_ invoke__">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-title function_ invoke__">vue</span>(),
    <span class="hljs-title function_ invoke__">vueDevTools</span>(),
    <span class="hljs-title function_ invoke__">AutoImport</span>({
      <span class="hljs-attr">resolvers</span>: [<span class="hljs-title function_ invoke__">ElementPlusResolver</span>()],
    }),
    <span class="hljs-title function_ invoke__">Components</span>({
      <span class="hljs-attr">resolvers</span>: [
        <span class="hljs-title function_ invoke__">ElementPlusResolver</span>({
          <span class="hljs-attr">importStyle</span>: <span class="hljs-string">'sass'</span>,
        }),
      ],
    }),
    <span class="hljs-title function_ invoke__">ElementPlus</span>({
      <span class="hljs-attr">useSource</span>: <span class="hljs-literal">true</span>,
    }),
  ],
  <span class="hljs-attr">resolve</span>: {
    <span class="hljs-attr">alias</span>: {
      <span class="hljs-string">'@'</span>: <span class="hljs-title function_ invoke__">fileURLToPath</span>(<span class="hljs-keyword">new</span> <span class="hljs-title function_ invoke__">URL</span>(<span class="hljs-string">'./src'</span>, import.meta.url)),
    },
  },
  <span class="hljs-attr">css</span>: {
    <span class="hljs-attr">preprocessorOptions</span>: {
      <span class="hljs-attr">scss</span>: {
        <span class="hljs-attr">additionalData</span>: `@<span class="hljs-keyword">use</span> <span class="hljs-string">"@/styles/element/index.scss"</span> <span class="hljs-keyword">as</span> *;`,
      },
    },
  },
})

</code></pre>
<p>åŠ¨æ€åˆ‡æ¢ä¸»é¢˜</p>
<ul>
<li>é€šè¿‡useDarkè·å–å½“å‰æ˜¯å¦æ˜¯æš—é»‘æ¨¡å¼</li>
<li>é€šè¿‡useToggleåˆ‡æ¢ä¸»é¢˜</li>
</ul>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">RouterLink</span>, <span class="hljs-title class_">RouterView</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-router'</span>
<span class="hljs-keyword">import</span> { useDark, useToggle } <span class="hljs-keyword">from</span> <span class="hljs-string">'@vueuse/core'</span>
<span class="hljs-keyword">const</span> isDark = <span class="hljs-title function_">useDark</span>()
<span class="hljs-keyword">const</span> toggleDark = <span class="hljs-title function_">useToggle</span>(isDark)
<span class="hljs-keyword">const</span> <span class="hljs-title function_">changeTheme</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-title function_">toggleDark</span>()
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"changeTheme"</span>&gt;</span> åˆ‡æ¢ä¸»é¢˜ <span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">el-input</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-input</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">RouterView</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
<span class="hljs-selector-tag">header</span> {
  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">1.5</span>;
  <span class="hljs-attribute">max-height</span>: <span class="hljs-number">100vh</span>;
}

<span class="hljs-selector-class">.logo</span> {
  <span class="hljs-attribute">display</span>: block;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto <span class="hljs-number">2rem</span>;
}

<span class="hljs-selector-tag">nav</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">12px</span>;
  <span class="hljs-attribute">text-align</span>: center;
  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">2rem</span>;
}

<span class="hljs-selector-tag">nav</span> <span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.router-link-exact-active</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-built_in">var</span>(--color-text);
}

<span class="hljs-selector-tag">nav</span> <span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.router-link-exact-active</span><span class="hljs-selector-pseudo">:hover</span> {
  <span class="hljs-attribute">background-color</span>: transparent;
}

<span class="hljs-selector-tag">nav</span> <span class="hljs-selector-tag">a</span> {
  <span class="hljs-attribute">display</span>: inline-block;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span> <span class="hljs-number">1rem</span>;
  <span class="hljs-attribute">border-left</span>: <span class="hljs-number">1px</span> solid <span class="hljs-built_in">var</span>(--color-border);
}

<span class="hljs-selector-tag">nav</span> <span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:first</span>-of-type {
  <span class="hljs-attribute">border</span>: <span class="hljs-number">0</span>;
}

<span class="hljs-keyword">@media</span> (<span class="hljs-attribute">min-width</span>: <span class="hljs-number">1024px</span>) {
  <span class="hljs-selector-tag">header</span> {
    <span class="hljs-attribute">display</span>: flex;
    place-items: center;
    <span class="hljs-attribute">padding-right</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-built_in">var</span>(--section-gap) / <span class="hljs-number">2</span>);
  }

  <span class="hljs-selector-class">.logo</span> {
    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> <span class="hljs-number">2rem</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span>;
  }

  <span class="hljs-selector-tag">header</span> <span class="hljs-selector-class">.wrapper</span> {
    <span class="hljs-attribute">display</span>: flex;
    place-items: flex-start;
    <span class="hljs-attribute">flex-wrap</span>: wrap;
  }

  <span class="hljs-selector-tag">nav</span> {
    <span class="hljs-attribute">text-align</span>: left;
    <span class="hljs-attribute">margin-left</span>: -<span class="hljs-number">1rem</span>;
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1rem</span>;

    <span class="hljs-attribute">padding</span>: <span class="hljs-number">1rem</span> <span class="hljs-number">0</span>;
    <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">1rem</span>;
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>

</code></pre>
<p>ä»£ç ä»“åº“åœ°å€ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FStacey1018%2Ftest-vue-create" target="_blank" title="https://github.com/Stacey1018/test-vue-create" ref="nofollow noopener noreferrer">github.com/Stacey1018/â€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Workflows vs Agentsï¼šå¦‚ä½•é€‰æ‹©ä½ çš„ LLM åº”ç”¨æ¶æ„ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7572880767585910835</link>    <guid>https://juejin.cn/post/7572880767585910835</guid>    <pubDate>2025-11-17T03:36:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572880767585910835" data-draft-id="7572362484659339315" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Workflows vs Agentsï¼šå¦‚ä½•é€‰æ‹©ä½ çš„ LLM åº”ç”¨æ¶æ„ï¼Ÿ"/> <meta itemprop="keywords" content="LangChain"/> <meta itemprop="datePublished" content="2025-11-17T03:36:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ALLINAI"/> <meta itemprop="url" content="https://juejin.cn/user/4001878056639549"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Workflows vs Agentsï¼šå¦‚ä½•é€‰æ‹©ä½ çš„ LLM åº”ç”¨æ¶æ„ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4001878056639549/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ALLINAI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T03:36:59.000Z" title="Mon Nov 17 2025 03:36:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡æ˜¯åŸºäº LangGraph å®˜æ–¹æ–‡æ¡£çš„æ·±åº¦è§£é‡Š</p>
</blockquote>
<p>éšç€å¤§æ¨¡å‹èƒ½åŠ›å¿«é€Ÿå¢å¼ºï¼Œå¼€å‘è€…åœ¨æ„å»º LLM åº”ç”¨æ—¶é¢ä¸´ä¸€ä¸ªæ ¸å¿ƒé€‰æ‹©ï¼š</p>
<p><strong>åˆ°åº•è¦ä½¿ç”¨ Workflowsï¼ˆå·¥ä½œæµï¼‰è¿˜æ˜¯ Agentsï¼ˆæ™ºèƒ½ä½“ï¼‰ï¼Ÿ</strong></p>
<p>è¿™ä¸¤ç§æ¶æ„ç»å¸¸è¢«æ··ç”¨ï¼Œä½†åœ¨ LangChain / LangGraph çš„æ¡†æ¶ä¸­ï¼Œå®ƒä»¬æœ‰éå¸¸æ¸…æ™°çš„è¾¹ç•Œã€åº”ç”¨åœºæ™¯å’Œè®¾è®¡å“²å­¦ã€‚ç†è§£å®ƒä»¬çš„åŒºåˆ«ï¼Œæœ‰åŠ©äºä½ é€‰æ‹©æ›´ç¨³å®šã€æ›´æ™ºèƒ½ã€ä¹Ÿæ›´å®¹æ˜“ç»´æŠ¤çš„ç³»ç»Ÿè®¾è®¡ã€‚</p>
<p><strong>æœ¬æ–‡ä¸»é¢˜</strong>ï¼š</p>
<ul>
<li>LLM åŠŸèƒ½å¦‚ä½•è¢«å¢å¼º</li>
<li>å„ç±» Workflows çš„æ¨¡å¼</li>
<li>ä»€ä¹ˆæ˜¯ Agents</li>
<li>Workflows ä¸ Agents çš„æ ¸å¿ƒåŒºåˆ«</li>
<li>çœŸå®é¡¹ç›®ä¸­å¦‚ä½•é€‰æ‹©</li>
</ul>
<hr/>
<h2 data-id="heading-0">1. LLM ä¸å¢å¼ºæœºåˆ¶ï¼šæ‰€æœ‰ç³»ç»Ÿçš„åŸºçŸ³</h2>
<p>ä¸è®ºæ˜¯ Workflows è¿˜æ˜¯ Agentsï¼Œæœ¬è´¨ä¸Šéƒ½å»ºç«‹åœ¨ <strong>LLM çš„æ ¸å¿ƒèƒ½åŠ›ä¹‹ä¸Š</strong>ã€‚
LangChain æ–‡æ¡£å¼ºè°ƒï¼š</p>
<blockquote>
<p>Workflows and agentic systems are based on LLMs and the various augmentations you add to them.</p>
</blockquote>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼ŒLLM æ˜¯æ ¸å¿ƒï¼Œå¼€å‘è€…é€šè¿‡â€œå¢å¼ºï¼ˆaugmentationsï¼‰â€è®©å®ƒæ›´å¯é ã€æ›´æ˜“æ§ã€‚</p>
<p>å®˜æ–¹åˆ—å‡ºäº†ä¸‰ç±»å…³é”®å¢å¼ºèƒ½åŠ›ï¼š</p>
<h3 data-id="heading-1"><strong>â‘  ç»“æ„åŒ–è¾“å‡ºï¼ˆStructured outputsï¼‰</strong></h3>
<p>å¼ºåˆ¶ LLM è¾“å‡º JSON / Pydantic æ¨¡å¼ï¼Œä»è€Œä¿è¯å¯æ§æ€§ä¸ä¸€è‡´æ€§ã€‚</p>
<h3 data-id="heading-2"><strong>â‘¡ å·¥å…·è°ƒç”¨ï¼ˆTool callingï¼‰</strong></h3>
<p>LLM ä¸å†åªç”Ÿæˆæ–‡æœ¬ï¼Œè€Œèƒ½è°ƒç”¨å¤–éƒ¨å‡½æ•°ã€APIã€æ•°æ®åº“è®¿é—®ã€æœç´¢å·¥å…·ç­‰ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">@tool</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">search</span>(<span class="hljs-params">query: <span class="hljs-built_in">str</span></span>):
    ...

model = model.bind_tools([search])
</code></pre>
<h3 data-id="heading-3"><strong>â‘¢ çŸ­æœŸè®°å¿†ï¼ˆShort-term memoryï¼‰</strong></h3>
<p>è®© LLM åœ¨ä¸€ä¸ªå·¥ä½œæµï¼æ™ºèƒ½ä½“å¾ªç¯ä¸­æ‹¥æœ‰â€œçŠ¶æ€â€ï¼Œèƒ½å¤Ÿè®°ä½ä¸Šä¸€æ­¥è¡ŒåŠ¨çš„ç»“æœã€‚</p>
<p>è¿™äº›èƒ½åŠ›ä¸º Workflows ä¸ Agents æ‰“ä¸‹å…±åŒçš„åŸºç¡€ã€‚</p>
<hr/>
<h2 data-id="heading-4">2. Workflowsï¼šå¯æ§ã€ç¨³å®šã€å¯é¢„æµ‹çš„ç³»ç»Ÿæ¶æ„</h2>
<p>Workflows æ˜¯ <strong>é¢„å®šä¹‰è·¯å¾„çš„ LLM ç¼–æ’æ–¹å¼</strong>ï¼Œå®ƒå¼ºè°ƒï¼š</p>
<ul>
<li>æµç¨‹ç”±ä»£ç æ§åˆ¶</li>
<li>æ¯ä¸€æ­¥çš„æ‰§è¡Œé¡ºåºå›ºå®š</li>
<li>é€‚ç”¨äºç¡®å®šæ€§ä»»åŠ¡</li>
</ul>
<p>LangGraph å®˜æ–¹æ–‡æ¡£å°† Workflows åˆ†æˆå‡ ç±»å…¸å‹æ¨¡å¼ï¼š</p>
<hr/>
<h3 data-id="heading-5"><strong>2.1 Prompt Chainingï¼ˆæç¤ºé“¾ï¼‰</strong></h3>
<p>æœ€ç»å…¸çš„å·¥ä½œæµï¼Œæ¯æ¬¡ LLM è°ƒç”¨å¤„ç†ä¸Šä¸€æ­¥è¾“å‡ºã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1016568713f24b909a9a55275b0eba40~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUxMSU5BSQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955418&amp;x-signature=hWsyneKcxtQsRY%2BennZlR259fS8%3D" alt="2025-11-17 11 03 22.png" loading="lazy"/></p>
<p>å¸¸ç”¨äºï¼š</p>
<ul>
<li>ç¿»è¯‘ + æ ¡å¯¹</li>
<li>å†…å®¹ç”Ÿæˆ + å®¡æ ¸</li>
<li>å¤šæ­¥åŠ å·¥è¿‡ç¨‹</li>
</ul>
<p>ç‰¹ç‚¹ï¼š
<strong>é¡ºåºå›ºå®šã€éå¸¸å¯æ§ã€‚</strong></p>
<hr/>
<h3 data-id="heading-6"><strong>2.2 Parallelizationï¼ˆå¹¶è¡ŒåŒ–ï¼‰</strong></h3>
<p>å¤šä¸ª LLM è°ƒç”¨åŒæ—¶è¿›è¡Œã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fdf5e07535eb48b89c6a7b5a65fd3eb5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUxMSU5BSQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955418&amp;x-signature=qAX1cmIgS7cCflxrLhtzTPeHL4E%3D" alt="2025-11-17 11 06 35.png" loading="lazy"/></p>
<p>é€‚ç”¨äºï¼š</p>
<ul>
<li>å¤§æ–‡ä»¶åˆ†æ®µå¤„ç†</li>
<li>å¤šç»´åº¦è¯„ä¼°</li>
<li>å¤šè·¯å¾„æ¢ç´¢ï¼ˆå¦‚å¤šç§é£æ ¼è¾“å‡ºï¼‰</li>
</ul>
<p>ä¼˜ç‚¹ï¼š
<strong>å¤§å¹…æå‡ååé‡å’Œé€Ÿåº¦ã€‚</strong></p>
<hr/>
<h3 data-id="heading-7"><strong>2.3 Routingï¼ˆè·¯ç”±ï¼‰</strong></h3>
<p>LLM ç”¨ä¸€æ¬¡è°ƒç”¨å†³å®šâ€œæŠŠè¾“å…¥é€å¾€å“ªä¸ªåˆ†æ”¯â€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e71d723240a14bd4b21a1426a0443d75~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUxMSU5BSQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955418&amp;x-signature=wHLkaINVTDnHKXJgca0lKuVLzOg%3D" alt="2025-11-17 11 08 06.png" loading="lazy"/></p>
<p>å¦‚ï¼š</p>
<ul>
<li>å¤šè¯­è¨€å®¢æœ</li>
<li>æ„å›¾è¯†åˆ«</li>
<li>åˆ†ç±»å¤„ç†</li>
</ul>
<p>æœ¬è´¨æ˜¯ï¼š
<strong>LLM åšè·¯ç”±å†³ç­–ï¼Œä½†æµç¨‹ç»“æ„ä»ç”±å¼€å‘è€…å®šä¹‰ã€‚</strong></p>
<hr/>
<h3 data-id="heading-8"><strong>2.4 Orchestratorâ€“Workerï¼ˆåè°ƒè€…â€“å·¥äººæ¨¡å‹ï¼‰</strong></h3>
<p>ä¸€ä¸ª orchestratorï¼ˆåè°ƒè€…ï¼‰æ‹†è§£ä»»åŠ¡ï¼Œå¤šä¸ª worker å¹¶è¡Œå¤„ç†ï¼Œæœ€å synthesizeï¼ˆåˆæˆï¼‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b72e0ef30f514cebb7f64cb0f5fdbae3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUxMSU5BSQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955418&amp;x-signature=U%2F47fTNj1VvrWjsGy239%2FaA63pU%3D" alt="2025-11-17 11 10 37.png" loading="lazy"/></p>
<p>ä¾‹å¦‚ï¼š</p>
<ul>
<li>ç”Ÿæˆé•¿ç¯‡æ–‡ç« </li>
<li>æ‹†è§£å¤§ä»»åŠ¡å¹¶è¡Œæ‰§è¡Œ</li>
<li>ä»£ç å¤šæ–‡ä»¶é‡æ„</li>
</ul>
<p>è¿™ç§æ¨¡å¼éå¸¸é€‚åˆï¼š<strong>éœ€è¦è§„æ¨¡åŒ–ã€ç»“æ„åŒ–çš„å¤§å‹ç”Ÿæˆä»»åŠ¡ã€‚</strong></p>
<hr/>
<h3 data-id="heading-9"><strong>2.5 Evaluatorâ€“Optimizerï¼ˆè¯„ä¼°è€…â€“ä¼˜åŒ–å™¨ï¼‰</strong></h3>
<p>ç”Ÿæˆ â†’ è¯„ä¼° â†’ ä¼˜åŒ– â†’ å¾ªç¯ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d32bc697cd9843d8aec00282e6128058~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUxMSU5BSQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955418&amp;x-signature=1uKETake16XMVQKwerQna3uogXQ%3D" alt="2025-11-17 11 14 43.png" loading="lazy"/></p>
<p>ç”¨äºï¼š</p>
<ul>
<li>æå‡æ–‡æœ¬è´¨é‡</li>
<li>è‡ªåŠ¨æ ¡å¯¹</li>
<li>åæ€ä¸æ”¹è¿›ï¼ˆself-reflectionï¼‰</li>
<li>å¤šæ¬¡è¿­ä»£ç›´åˆ°æ»¡è¶³æ ‡å‡†</li>
</ul>
<p>ç‰¹ç‚¹ï¼š
<strong>å¼•å…¥åé¦ˆç¯ï¼Œä½†æµç¨‹ä¾ç„¶å›ºå®šï¼Œå¾ªç¯èŒƒå›´å—æ§ã€‚</strong></p>
<hr/>
<h3 data-id="heading-10"><strong>2.6 Workflows çš„æœ¬è´¨æ€»ç»“</strong></h3>
<p>å®˜æ–¹å®šä¹‰çš„å…³é”®æ€»ç»“å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>Workflows have predetermined code paths and are designed to operate in a certain order.</p>
</blockquote>
<p>é€šä¿—è®²ï¼š</p>
<p>ğŸŒŸ <strong>Workflows æ˜¯â€œä½ å†™è§„åˆ™ï¼ŒLLM æ‰§è¡Œè§„åˆ™â€ã€‚</strong>
æµç¨‹å®Œå…¨å¯æ§ï¼Œå‡ ä¹ä¸ä¼šâ€œä¹±è·‘â€ã€‚</p>
<p>é€‚ç”¨äºï¼š</p>
<ul>
<li>é«˜ç¨³å®šè¦æ±‚</li>
<li>å¯¹ç»“æœè´¨é‡å¯æ§æ€§å¼º</li>
<li>æ•°æ®å¤„ç†ç±»ä»»åŠ¡</li>
<li>ç”Ÿäº§ç¯å¢ƒ</li>
</ul>
<hr/>
<h2 data-id="heading-11">3. Agentsï¼šå…·æœ‰è‡ªä¸»æ€§çš„æ™ºèƒ½ä½“ç³»ç»Ÿ</h2>
<p>ä¸ Workflows ç›¸åï¼ŒAgents æ‰®æ¼”ä¸€ä¸ªâ€œå¯ä»¥è‡ªå·±å†³å®šä¸‹ä¸€æ­¥åšä»€ä¹ˆâ€çš„è§’è‰²ã€‚</p>
<p>LangChain æ–‡æ¡£ç»™å‡ºäº†æ¸…æ™°å®šä¹‰ï¼š</p>
<blockquote>
<p>Agents are implemented as an LLM performing actions using tools.
They operate in continuous feedback loops and have more autonomy.</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2fd58bd368f3486a94865cbee1dd9dbc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUxMSU5BSQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955418&amp;x-signature=z9dGNmbjusSeJV0F%2B8QiKtYHotU%3D" alt="2025-11-17 11 19 36.png" loading="lazy"/></p>
<p>ä¸€å¥è¯æ€»ç»“ï¼š</p>
<p>ğŸŒŸ <strong>Agents æ˜¯è®© LLM è‡ªä¸»è¡ŒåŠ¨çš„ç³»ç»Ÿï¼šå®ƒå†³å®šè¦åšä»€ä¹ˆï¼Œè€Œä¸æ˜¯ä½ å†™æ­»æµç¨‹ã€‚</strong></p>
<p>Agent çš„æ ¸å¿ƒæœºåˆ¶åŒ…å«ï¼š</p>
<h3 data-id="heading-12"><strong>â‘  LLM å†³ç­–è¡ŒåŠ¨ï¼ˆAction Selectionï¼‰</strong></h3>
<p>LLM è§‚å¯Ÿå½“å‰å¯¹è¯çŠ¶æ€ï¼Œå†³å®šä¸‹ä¸€æ­¥è°ƒç”¨å“ªä¸ªå·¥å…·ã€‚</p>
<h3 data-id="heading-13"><strong>â‘¡ è°ƒç”¨å¤–éƒ¨å·¥å…·ï¼ˆTool Callingï¼‰</strong></h3>
<p>å¦‚æœç´¢ã€æ•°æ®åº“ã€è®¡ç®—å™¨ã€æ–‡ä»¶è¯»å–ç­‰ã€‚</p>
<h3 data-id="heading-14"><strong>â‘¢ æ ¹æ®ç¯å¢ƒåé¦ˆåšä¸‹ä¸€æ­¥åŠ¨ä½œï¼ˆFeedback Loopï¼‰</strong></h3>
<p>ç¯å¢ƒå¯èƒ½è¿”å›ï¼š</p>
<ul>
<li>å·¥å…·æ‰§è¡Œç»“æœ</li>
<li>ç”¨æˆ·åé¦ˆ</li>
<li>ç³»ç»ŸçŠ¶æ€</li>
</ul>
<p>LLM å†æ ¹æ®åé¦ˆç”Ÿæˆä¸‹ä¸€æ­¥è®¡åˆ’ã€‚</p>
<h3 data-id="heading-15"><strong>â‘£ è‡ªåŠ¨å¾ªç¯ç›´åˆ°ä»»åŠ¡å®Œæˆ</strong></h3>
<p>Agent çš„æµç¨‹æ˜¯ <strong>åŠ¨æ€ç”Ÿæˆçš„ï¼Œä¸å†™æ­»åœ¨ä»£ç é‡Œ</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-16">4. Workflows vs Agentsï¼šæ ¸å¿ƒåŒºåˆ«</h2>













































<table><thead><tr><th>é¡¹ç›®</th><th>Workflowsï¼ˆå·¥ä½œæµï¼‰</th><th>Agentsï¼ˆä»£ç†ï¼‰</th></tr></thead><tbody><tr><td><strong>è°æ§åˆ¶æµç¨‹ï¼Ÿ</strong></td><td>å¼€å‘è€…</td><td>LLM</td></tr><tr><td><strong>æµç¨‹æ˜¯å¦å›ºå®šï¼Ÿ</strong></td><td>å›ºå®šé¡ºåº</td><td>åŠ¨æ€å†³å®š</td></tr><tr><td><strong>é€‚ç”¨ä»»åŠ¡</strong></td><td>ç»“æ„åŒ–ã€å¯æ§ä»»åŠ¡</td><td>æ¢ç´¢æ€§ã€å¤æ‚ä»»åŠ¡</td></tr><tr><td><strong>å¯é¢„æµ‹æ€§</strong></td><td>é«˜</td><td>è¾ƒä½</td></tr><tr><td><strong>æ™ºèƒ½çµæ´»æ€§</strong></td><td>é™åˆ¶è¾ƒå¤š</td><td>é«˜</td></tr><tr><td><strong>å®‰å…¨æ€§ç¨³å®šæ€§</strong></td><td>é«˜</td><td>éœ€æ›´å¤šçº¦æŸ</td></tr><tr><td><strong>å…¸å‹ç”¨æ³•</strong></td><td>æ•°æ®å¤„ç†ã€æ–‡æ¡£ç”Ÿæˆã€é“¾å¼æ¨ç†</td><td>å·¥å…·è°ƒåº¦ã€æœç´¢ã€è§„åˆ’ã€å¤šæ­¥éª¤å†³ç­–</td></tr></tbody></table>
<p>ä¸€å¥è¯ï¼š</p>
<p>âœ¨ <strong>Workflows æ³¨é‡â€œå¯é å®Œæˆä»»åŠ¡â€
âœ¨ Agents æ³¨é‡â€œè‡ªä¸»æ¢ç´¢å¹¶æ‰¾åˆ°è§£å†³æ–¹å¼â€</strong></p>
<hr/>
<h2 data-id="heading-17">5. å¦‚ä½•é€‰æ‹©ï¼šçœŸå®é¡¹ç›®ä¸­çš„å®è·µå»ºè®®</h2>
<p>æ ¹æ® LangChain æ–‡æ¡£ï¼Œå»ºè®®å¦‚ä¸‹ï¼š</p>
<h3 data-id="heading-18"><strong>å¦‚æœä½ çš„ä»»åŠ¡æ˜¯â€¦â€¦</strong></h3>
<p>âœ” å¯é¢„æµ‹ã€æœ‰æ˜ç¡®æ­¥éª¤
âœ” å¯¹ç¨³å®šæ€§å’Œæ€§èƒ½è¦æ±‚é«˜
âœ” ç”Ÿäº§ç¯å¢ƒåœ¨çº¿æœåŠ¡</p>
<p>ğŸ‘‰ <strong>ä¼˜å…ˆä½¿ç”¨ Workflows</strong></p>
<hr/>
<p>å¦‚æœä½ çš„ä»»åŠ¡æ˜¯â€¦â€¦</p>
<p>âœ” ä¸ç¡®å®šæ€§é«˜
âœ” éœ€è¦å·¥å…·è°ƒåº¦
âœ” éœ€è¦å¤šæ­¥éª¤æ¢ç´¢
âœ” ç»“æœæ–¹å¼ä¸å›ºå®š</p>
<p>ğŸ‘‰ <strong>é€‚åˆä½¿ç”¨ Agents</strong></p>
<hr/>
<h3 data-id="heading-19">ä¹Ÿå¯ä»¥æ··åˆä½¿ç”¨</h3>
<p>ä¸€ä¸ªå¸¸è§çš„æœ€ä½³å®è·µï¼š</p>
<ul>
<li>ç”¨ Workflows è´Ÿè´£ä¸»æµç¨‹ï¼ˆä¿è¯ç¨³å®šï¼‰</li>
<li>åœ¨å…³é”®èŠ‚ç‚¹ç”¨ Agent åšè‡ªä¸»å†³ç­–ï¼ˆæå‡æ™ºèƒ½æ€§ï¼‰</li>
</ul>
<p>ä¾‹å¦‚ï¼š</p>
<ul>
<li>â€œå†…å®¹ç”Ÿæˆæµç¨‹+è‡ªåŠ¨æ ¡å¯¹â€ ç”¨ Workflow</li>
<li>â€œè‡ªåŠ¨æ£€ç´¢ç›¸å…³çŸ¥è¯†â€ ç”¨ Agent</li>
<li>â€œå¤æ‚ä»»åŠ¡è§„åˆ’â€ ç”¨ Agent</li>
<li>â€œæ‰§è¡Œæ­¥éª¤â€ ç”¨ Workflow</li>
</ul>
<p>è¿™ç§æ··åˆç»“æ„åœ¨ LangGraph ä¸­éå¸¸å®¹æ˜“å®ç°ã€‚</p>
<hr/>
<h2 data-id="heading-20">6. ç»“è¯­ï¼šä»å¯æ§åˆ°æ™ºèƒ½ï¼Œé€‰æ‹©æœ€é€‚åˆçš„æ¶æ„</h2>
<p>éšç€å¤§æ¨¡å‹èƒ½åŠ›å¢å¼ºï¼Œæˆ‘ä»¬æœ‰è¶Šæ¥è¶Šå¤šçš„æ–¹å¼æ„å»ºæ™ºèƒ½ç³»ç»Ÿã€‚
Workflows å’Œ Agents å¹¶éå¯¹ç«‹ï¼Œè€Œæ˜¯è§£å†³ä¸åŒç±»å‹é—®é¢˜çš„å·¥å…·ã€‚</p>
<p><strong>Workflows ç»™ä½ ç¨³å®šæ€§ä¸å¯æ§æ€§ï¼›Agents ç»™äºˆçµæ´»æ€§ä¸è‡ªä¸»æ€§ã€‚</strong></p>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼š</p>
<ul>
<li>å…ˆç”¨ Workflows ä¿è¯ç¨³å®š</li>
<li>éœ€è¦â€œæ™ºèƒ½æ¢ç´¢â€æ—¶å†åŠ  Agent</li>
<li>ç”¨ LLM å¢å¼ºå·¥å…·ï¼ˆç»“æ„åŒ–è¾“å‡ºã€å·¥å…·è°ƒç”¨ã€çŸ­æœŸè®°å¿†ï¼‰æå‡ä¸¤è€…å¯é æ€§</li>
</ul>
<p>æœ€ç»ˆç›®æ ‡ä¸æ˜¯é€‰æ‹©å…¶ä¸­ä¸€æ–¹ï¼Œè€Œæ˜¯
âœ¨ <strong>æ„å»ºä¸€ä¸ªæ—¢å¯é åˆæ™ºèƒ½çš„ç³»ç»Ÿã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‰‹æœºå´©æºƒæ—¥å¿—å¯¼å‡ºçš„å·¥ç¨‹åŒ–æ–¹æ³•ï¼Œæ„å»ºå¤šå·¥å…·ååŒçš„è·¨å¹³å°æ—¥å¿—è·å–ä¸åˆ†æä½“ç³»ï¼ˆiOS/Android å…¨åœºæ™¯ 2025 è¿›é˜¶ç‰ˆï¼‰]]></title>    <link>https://juejin.cn/post/7573632156883894323</link>    <guid>https://juejin.cn/post/7573632156883894323</guid>    <pubDate>2025-11-18T06:37:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573632156883894323" data-draft-id="7573687816430436362" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‰‹æœºå´©æºƒæ—¥å¿—å¯¼å‡ºçš„å·¥ç¨‹åŒ–æ–¹æ³•ï¼Œæ„å»ºå¤šå·¥å…·ååŒçš„è·¨å¹³å°æ—¥å¿—è·å–ä¸åˆ†æä½“ç³»ï¼ˆiOS/Android å…¨åœºæ™¯ 2025 è¿›é˜¶ç‰ˆï¼‰"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-18T06:37:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="bcbnb"/> <meta itemprop="url" content="https://juejin.cn/user/895474073078377"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‰‹æœºå´©æºƒæ—¥å¿—å¯¼å‡ºçš„å·¥ç¨‹åŒ–æ–¹æ³•ï¼Œæ„å»ºå¤šå·¥å…·ååŒçš„è·¨å¹³å°æ—¥å¿—è·å–ä¸åˆ†æä½“ç³»ï¼ˆiOS/Android å…¨åœºæ™¯ 2025 è¿›é˜¶ç‰ˆï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/895474073078377/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    bcbnb
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T06:37:06.000Z" title="Tue Nov 18 2025 06:37:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç§»åŠ¨åº”ç”¨å¼€å‘çš„è°ƒè¯•ä¸ç»´æŠ¤é˜¶æ®µï¼Œ<strong>å´©æºƒæ—¥å¿—ï¼ˆCrash Logsï¼‰</strong> æ˜¯å½±å“æ•ˆç‡æœ€æ ¸å¿ƒçš„è°ƒè¯•èµ„æºä¹‹ä¸€ã€‚æ— è®ºæ˜¯ iOS è¿˜æ˜¯ Androidï¼Œåªè¦å‘ç”Ÿå´©æºƒï¼Œæ—¥å¿—å°±æ˜¯å”¯ä¸€èƒ½å¤Ÿè¿˜åŸçœŸå®ç°åœºçš„å…³é”®ä¿¡æ¯æ¥æºã€‚</p>
<p>ç„¶è€Œï¼Œåœ¨å®é™…å¼€å‘ä¸­ï¼Œä½ ä¼šé‡åˆ°è¿™äº›å¸¸è§ç—›ç‚¹ï¼š</p>
<ul>
<li>å´©æºƒå‘ç”Ÿåœ¨ç”¨æˆ·æ‰‹æœºä¸Šï¼Œæ— æ³•å¤ç°</li>
<li>ç³»ç»Ÿæ—¥å¿—åˆ†æ•£åœ¨ä¸åŒç›®å½•ï¼Œå¾ˆéš¾æ‰‹å·¥æ•´ç†</li>
<li>iOS çš„å´©æºƒç¬¦å·åŒ–ï¼ˆsymbolicateï¼‰éº»çƒ¦</li>
<li>ç³»ç»Ÿ killï¼ˆJetsamï¼‰ã€å†…å­˜è­¦å‘Šã€å¡æ­»æ— æ³•ä» App å†…åˆ¤æ–­</li>
<li>Android/ iOS å´©æºƒæ ¼å¼ä¸åŒï¼Œå¼€å‘è€…å·¥å…·æ”¯æŒæœ‰é™</li>
<li>æµ‹è¯•å›¢é˜Ÿä¸å¼€å‘å›¢é˜Ÿæ— æ³•ç»Ÿä¸€å¯¼å‡ºæ–¹å¼å†²å†²å†²Â·</li>
</ul>
<p>å› æ­¤ï¼Œä»…ä¾èµ–å•ä¸€å·¥å…·æ— æ³•æ„å»ºå®Œæ•´çš„æ—¥å¿—è·å–é“¾è·¯ã€‚
ä¸€ä¸ªæˆç†Ÿçš„ç§»åŠ¨å›¢é˜Ÿå¿…é¡»æŒæ¡å¤šå·¥å…·åä½œçš„â€œå·¥ç¨‹åŒ–æ—¥å¿—å¯¼å‡ºæ–¹æ¡ˆâ€ã€‚</p>
<p>æœ¬æ–‡å°†ä»å®è·µè§’åº¦è®²è§£å¦‚ä½•ä½¿ç”¨ <strong>å…‹é­”ï¼ˆKeyMobï¼‰ã€Xcode Devices &amp; Simulatorsã€macOS Consoleã€Android adbã€Firebase Crashlyticsã€iMazingã€PerfDog</strong> ç­‰å·¥å…·ï¼Œæ­å»ºä¸€å¥—è¦†ç›– iOS å’Œ Android çš„å…¨é¢æ—¥å¿—å¯¼å‡ºä¸åˆ†æä½“ç³»ã€‚</p>
<p>æ–‡ç« ä¸åå‘å¹¿å‘Šï¼Œä¸ä¾èµ–ç½‘ç»œæœç´¢ï¼Œå†…å®¹åŸºäºå¼€å‘å®æˆ˜ã€å·¥å…·èƒ½åŠ›ä¸å·¥ç¨‹ç»éªŒæ’°å†™ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆå´©æºƒæ—¥å¿—å¿…é¡»ä½¿ç”¨å¤šå·¥å…·å¯¼å‡ºï¼Ÿ</h2>
<p>ç§»åŠ¨ç«¯å´©æºƒåˆ†ä¸ºå¤šç§ç±»å‹ï¼Œæ—¥å¿—åˆ†å¸ƒè·¯å¾„å®Œå…¨ä¸åŒï¼š</p>
<h3 data-id="heading-1"><strong>1. App è‡ªèº«å´©æºƒï¼ˆä¾‹å¦‚ EXC_BAD_ACCESS / NullPointerï¼‰</strong></h3>
<p>æ—¥å¿—å­˜åœ¨ï¼š</p>
<ul>
<li>iOSï¼š<code>/Library/Logs/CrashReporter/</code></li>
<li>Androidï¼š<code>/data/tombstones/</code></li>
</ul>
<h3 data-id="heading-2"><strong>2. ç³»ç»Ÿæ€è¿›ç¨‹ï¼ˆJetsamã€OOMï¼‰</strong></h3>
<p>App æ— æ³•æ•è·ï¼Œå¿…é¡»ä»ç³»ç»Ÿæ—¥å¿—å¯¼å‡ºã€‚</p>
<h3 data-id="heading-3"><strong>3. WebView / JSBridge å´©æºƒ</strong></h3>
<p>æ—¥å¿—åˆ†æ•£åœ¨ï¼š</p>
<ul>
<li>å‰ç«¯æ§åˆ¶å°</li>
<li>Native å®¹å™¨æ—¥å¿—</li>
<li>ç³»ç»Ÿæ—¥å¿—</li>
</ul>
<h3 data-id="heading-4"><strong>4. Flutter / Unity / Cocos ç­‰å¼•æ“</strong></h3>
<p>æœ‰è‡ªå·±ç‹¬ç«‹çš„å´©æºƒç›®å½•ä¸ç¬¦å·æ–‡ä»¶ã€‚</p>
<p>å› æ­¤ï¼Œæ­£ç¡®çš„æ—¥å¿—å¯¼å‡ºå¿…é¡»æ˜¯åˆ†å±‚çš„ã€ç»„åˆçš„ï¼Œè€Œéå•ç‚¹å·¥å…·ã€‚</p>
<hr/>
<h2 data-id="heading-5">äºŒã€Xcode Devicesï¼šiOS å®˜æ–¹å´©æºƒæ—¥å¿—å¯¼å‡ºæ–¹å¼ï¼ˆåŸºç¡€ä½†å¿…ä¼šï¼‰</h2>
<p>é€‚ç”¨äºå¼€å‘ç‰ˆ/å†…æµ‹ç‰ˆ iOS åº”ç”¨ã€‚</p>
<h3 data-id="heading-6">å¯¼å‡ºæ­¥éª¤ï¼š</h3>
<pre><code class="hljs language-sql" lang="sql">Xcode â†’ <span class="hljs-keyword">Window</span> â†’ Devices <span class="hljs-keyword">and</span> Simulators â†’ é€‰ä¸­ iPhone â†’ <span class="hljs-keyword">View</span> Device Logs
</code></pre>
<h3 data-id="heading-7">å¯å¯¼å‡ºå†…å®¹ï¼š</h3>
<ul>
<li>Crash Reports</li>
<li>Hang Reports</li>
<li>Jetsam æ—¥å¿—</li>
<li>è¿›ç¨‹å´©æºƒè®°å½•</li>
</ul>
<h3 data-id="heading-8">ä¼˜ç‚¹ï¼š</h3>
<ul>
<li>å®˜æ–¹æ”¯æŒ</li>
<li>æ”¯æŒç¬¦å·åŒ–</li>
<li>æ•°æ®å‡†ç¡®å¯é </li>
</ul>
<h3 data-id="heading-9">ä¸è¶³ï¼š</h3>
<ul>
<li>éœ€è¦ Mac</li>
<li>ä¸æ”¯æŒ Windows / Linux</li>
<li>ä¸é€‚åˆæ‰¹é‡æµ‹è¯•ä¸ç³»ç»Ÿçº§æ—¥å¿—å¯¼å‡º</li>
</ul>
<p>é€‚åˆå¼€å‘è€…ä½¿ç”¨ï¼Œä½†ä¸è¶³ä»¥è¦†ç›–æµ‹è¯•å›¢é˜Ÿå…¨åœºæ™¯ã€‚</p>
<hr/>
<h2 data-id="heading-10">ä¸‰ã€å…‹é­”ï¼ˆKeyMobï¼‰ï¼šæœ€é€‚åˆè·¨å¹³å°å¼€å‘è€…çš„ç³»ç»Ÿçº§å´©æºƒæ—¥å¿—å¯¼å‡ºå·¥å…·</h2>
<p>åœ¨è°ƒè¯•è¿‡ç¨‹ä¸­ï¼ŒKeyMob æ˜¯å¾ˆå¤šå¼€å‘è€…è§£å†³â€œéš¾å¯¼å‡ºæ—¥å¿—â€çš„åˆ©å™¨ï¼Œç‰¹åˆ«é€‚ç”¨äº iOSã€‚</p>
<h3 data-id="heading-11"><strong>1. å¯å¯¼å‡ºå¤šç±»å´©æºƒæ—¥å¿—ï¼ˆæ— éœ€è¶Šç‹±ï¼‰</strong></h3>
<p>åŒ…æ‹¬ï¼š</p>
<ul>
<li>App å´©æºƒæ—¥å¿—ï¼ˆCrash Logsï¼‰</li>
<li>ç³»ç»Ÿåˆ‡æ¢æ—¥å¿—</li>
<li>å†…å­˜ä¸è¶³æ€è¿›ç¨‹ï¼ˆJetsamï¼‰</li>
<li>Watchdogã€çº¿ç¨‹å¡æ­»</li>
<li>WebKit å´©æºƒ</li>
<li>å°ç¨‹åºå´©æºƒ</li>
<li>Flutter/Unity å´©æºƒ</li>
<li>ç³»ç»Ÿè­¦å‘Šã€æƒé™é”™è¯¯</li>
</ul>
<h3 data-id="heading-12"><strong>2. å¯æŸ¥çœ‹å®æ—¶è®¾å¤‡æ—¥å¿—ï¼ˆDevice Logsï¼‰</strong></h3>
<p>ä¾¿äºå®šä½å´©æºƒå‰çš„è¡Œä¸ºï¼Œç‰¹åˆ«é€‚åˆå¤ç°ä¸äº†çš„é—®é¢˜ã€‚</p>
<h3 data-id="heading-13"><strong>3. æ—¥å¿—è¿‡æ»¤èƒ½åŠ›å¼º</strong></h3>
<p>æ”¯æŒï¼š</p>
<ul>
<li>å…³é”®å­—è¿‡æ»¤</li>
<li>App åç§°è¿‡æ»¤</li>
<li>è¿›ç¨‹åç§°è¿‡æ»¤</li>
<li>æ­£åˆ™è¿‡æ»¤</li>
</ul>
<h3 data-id="heading-14"><strong>4. æ–‡ä»¶å¯¼å‡ºåŠŸèƒ½å®Œå–„</strong></h3>
<p>å¯å¯¼å‡ºï¼š</p>
<pre><code class="hljs language-bash" lang="bash">.crash
.<span class="hljs-built_in">log</span>
.txt
.json
</code></pre>
<p>æ”¯æŒè·¨ç‰ˆæœ¬å¯¹æ¯”ã€‚</p>
<h3 data-id="heading-15"><strong>5. è·¨å¹³å°</strong></h3>
<p>Windows / macOS / Linux å…¨æ”¯æŒã€‚</p>
<hr/>
<h2 data-id="heading-16">å››ã€macOS Console.appï¼šç³»ç»Ÿçº§å´©æºƒæ—¥å¿—çš„åº•å±‚è§†è§’</h2>
<p>é€‚åˆè°ƒè¯•ï¼š</p>
<ul>
<li>ç³»ç»Ÿçº§åˆ«å´©æºƒ</li>
<li>å®ˆæŠ¤è¿›ç¨‹é”™è¯¯</li>
<li>æ¨é€ï¼ˆapsdï¼‰</li>
<li>WebKitã€SpringBoardç­‰</li>
</ul>
<p>Console.app åœ¨â€œæ— æ³•å¤ç°â€çš„æƒ…å†µä¸‹éå¸¸æœ‰ç”¨ï¼Œå¯çœ‹åˆ°è®¸å¤š Xcode Console çœ‹ä¸åˆ°çš„ä¿¡æ¯ã€‚</p>
<hr/>
<h2 data-id="heading-17">äº”ã€iMazingï¼šé€‚åˆæµ‹è¯•å›¢é˜Ÿçš„å´©æºƒæ—¥å¿—å¯¼å‡ºæ–¹æ¡ˆ</h2>
<p>iMazing å¯ä¸€é”®å¯¼å‡º iOS å´©æºƒæ—¥å¿—ï¼Œé€‚åˆéå¼€å‘äººå‘˜ã€‚</p>
<p>å¯å¯¼å‡ºï¼š</p>
<ul>
<li>Crash Logs</li>
<li>Sysdiagnose</li>
<li>App æ–‡ä»¶ç›®å½•</li>
</ul>
<hr/>
<h2 data-id="heading-18">å…­ã€Android å´©æºƒæ—¥å¿—å¯¼å‡ºï¼šadb æ˜¯åŸºç¡€</h2>
<p>å¸¸ç”¨å‘½ä»¤ï¼š</p>
<h3 data-id="heading-19"><strong>1. å¯¼å‡ºå´©æºƒæ—¥å¿—ï¼š</strong></h3>
<pre><code class="hljs language-ruby" lang="ruby">adb logcat *<span class="hljs-symbol">:E</span>
</code></pre>
<h3 data-id="heading-20"><strong>2. å¯¼å‡º tombstoneï¼š</strong></h3>
<pre><code class="hljs language-bash" lang="bash">adb pull /data/tombstones/ tombstones/
</code></pre>
<h3 data-id="heading-21"><strong>3. å¯¼å‡ºç³»ç»Ÿçº§æ—¥å¿—ï¼š</strong></h3>
<pre><code class="hljs language-python" lang="python">adb bugreport &gt; bugreport.<span class="hljs-built_in">zip</span>
</code></pre>
<p>Android å´©æºƒæ—¥å¿—ç›¸å¯¹å¼€æ”¾ï¼Œä½†ä¹Ÿé¢ä¸´æ•°æ®åˆ†æ•£çš„é—®é¢˜ï¼Œåé¢éœ€è¦å·¥å…·é“¾è¡¥å……ã€‚</p>
<hr/>
<h2 data-id="heading-22">ä¸ƒã€Firebase Crashlyticsï¼šçº¿ä¸Šå´©æºƒæ—¥å¿—å¿…å¤‡</h2>
<p>Crashlytics è´Ÿè´£çº¿ä¸Šæ”¶é›†ï¼Œå…·å¤‡ï¼š</p>
<ul>
<li>å´©æºƒåˆ†ç»„</li>
<li>è®¾å¤‡ä¿¡æ¯</li>
<li>å´©æºƒè¶‹åŠ¿</li>
<li>Breadcrumbsï¼ˆå´©æºƒå‰äº‹ä»¶ï¼‰</li>
<li>è‡ªå®šä¹‰æ—¥å¿—ä¸ŠæŠ¥</li>
</ul>
<p>é€‚åˆä½œä¸º KeyMob + Xcode + adb çš„â€œçº¿ä¸Šè¡¥å……â€ã€‚</p>
<hr/>
<h2 data-id="heading-23">å…«ã€PerfDogï¼šç”¨äºéªŒè¯å´©æºƒå‰æ€§èƒ½å¼‚å¸¸åœºæ™¯</h2>
<p>æŸäº›å´©æºƒæ˜¯æ€§èƒ½å¼‚å¸¸å¯¼è‡´çš„ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>GPU è¿‡è½½</li>
<li>å†…å­˜æš´æ¶¨</li>
<li>æ¸©åº¦è¿‡çƒ­å¯¼è‡´é™é¢‘</li>
</ul>
<p>PerfDog æä¾› FPSã€CPUã€GPUã€å†…å­˜ã€æ¸©åº¦çš„é•¿æ—¶é—´è¶‹åŠ¿ï¼Œæœ‰åŠ©äºåˆ¤æ–­å´©æºƒçš„å‰ææ¡ä»¶ã€‚</p>
<hr/>
<h2 data-id="heading-24">ä¹ã€å¤šå·¥å…·ååŒæ„å»ºâ€œå´©æºƒæ—¥å¿—å¯¼å‡ºä½“ç³»â€</h2>








































<table><thead><tr><th>åœºæ™¯</th><th>å·¥å…·ç»„åˆ</th><th>ç›®æ ‡</th></tr></thead><tbody><tr><td>iOS å¼€å‘è¿‡ç¨‹</td><td>Xcode + KeyMob</td><td>å¼€å‘æ—¥å¿— + ç³»ç»Ÿæ—¥å¿—</td></tr><tr><td>iOS æµ‹è¯•å›¢é˜Ÿ</td><td>KeyMob + iMazing</td><td>è·¨å¹³å°å¯¼å‡º</td></tr><tr><td>iOS ç³»ç»Ÿçº§å´©æºƒ</td><td>KeyMob + Console.app</td><td>æ·±åº¦è¯Šæ–­</td></tr><tr><td>çº¿ä¸Šç”¨æˆ·å´©æºƒ</td><td>Crashlytics + MetricKit</td><td>äº‘ç«¯åˆ†æ</td></tr><tr><td>Android è°ƒè¯•</td><td>adb + PerfDog</td><td>åº•å±‚ + æ€§èƒ½è¶‹åŠ¿</td></tr><tr><td>é«˜äº¤äº’åº”ç”¨ï¼ˆæ¸¸æˆ/æ¸²æŸ“ï¼‰</td><td>PerfDog + KeyMob</td><td>æ€§èƒ½å¯¼è‡´çš„å´©æºƒåˆ†æ</td></tr></tbody></table>
<p>å¤šå·¥å…·ç»„åˆæ‰èƒ½çœŸæ­£è¦†ç›–æ‰€æœ‰å´©æºƒç±»å‹ã€‚</p>
<hr/>
<h2 data-id="heading-25">åã€å®æˆ˜æ¡ˆä¾‹ï¼šæ— æ³•å¤ç°çš„ iOS å´©æºƒé€šè¿‡ç³»ç»Ÿæ—¥å¿—æˆåŠŸå®šä½</h2>
<p>æŸè§†é¢‘ App åœ¨ç”¨æˆ·æ‰‹æœºä¸Šéšæœºå´©æºƒï¼Œæ— æ³•å¤ç°ã€‚</p>
<p>è°ƒè¯•æµç¨‹ï¼š</p>
<h3 data-id="heading-26"><strong>Crashlytics</strong></h3>
<p>çº¿ä¸ŠæŠ¥é”™ä¸ºï¼š<code>EXC_RESOURCE (MEMORY)</code>
ä½†åŸå› ä¸æ˜ã€‚</p>
<h3 data-id="heading-27"><strong>KeyMob å¯¼å‡ºç³»ç»Ÿæ—¥å¿—</strong></h3>
<p>å‘ç° jetsam è®°å½•ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">process killed due to memory pressure: highwater
</code></pre>
<h3 data-id="heading-28"><strong>KeyMob æ€§èƒ½ç›‘æ§</strong></h3>
<p>å†…å­˜å³°å€¼è¶…è¿‡ 1.6GBï¼Œæ¥è¿‘ç³»ç»Ÿé™åˆ¶ã€‚</p>
<h3 data-id="heading-29"><strong>æŸ¥æ‰¾é—®é¢˜</strong></h3>
<p>Instruments å‘ç°å¤šä¸ªå¤§å›¾æœªé‡Šæ”¾ã€‚</p>
<p>æœ€ç»ˆä¿®å¤ï¼šå›¾åƒç¼“å­˜ç­–ç•¥æ”¹ä¸ºæŒ‰éœ€é‡Šæ”¾ã€‚
çº¿ä¸Šå´©æºƒç‡ä¸‹é™ <strong>82%</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-30">å´©æºƒæ—¥å¿—å¯¼å‡ºä¸æ˜¯æŠ€æœ¯æœ¬èº«ï¼Œè€Œæ˜¯å·¥ç¨‹èƒ½åŠ›</h2>
<p>ä¸€ä¸ªæˆç†Ÿå›¢é˜Ÿå¿…é¡»å…·å¤‡å„æ–¹é¢çš„èƒ½åŠ›ï¼Œè€Œè¿™ç¦»ä¸å¼€å·¥å…·åä½œï¼š</p>
<ul>
<li><strong>Xcode</strong>ï¼šå¼€å‘é˜¶æ®µ</li>
<li><strong>KeyMob</strong>ï¼šç³»ç»Ÿçº§ + å®æ—¶æ—¥å¿—</li>
<li><strong>adb</strong>ï¼šAndroid è°ƒè¯•</li>
<li><strong>Crashlytics</strong>ï¼šçº¿ä¸Šç”¨æˆ·</li>
<li><strong>Console.app</strong>ï¼šæ·±å±‚ç³»ç»Ÿ</li>
<li><strong>PerfDog</strong>ï¼šæ€§èƒ½å¼•å‘çš„å´©æºƒ</li>
</ul>
<p>æŒæ¡è¿™å¥—ä½“ç³»ï¼Œä½ å°±èƒ½çœŸæ­£åšåˆ°â€œé‡åˆ°ä»»ä½•å´©æºƒéƒ½æœ‰æ‰‹æ®µè§£å†³â€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Agentçš„"æ€è€ƒ" - æ™ºèƒ½ä½“]]></title>    <link>https://juejin.cn/post/7573239644156149787</link>    <guid>https://juejin.cn/post/7573239644156149787</guid>    <pubDate>2025-11-17T08:52:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573239644156149787" data-draft-id="7573299401046900782" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Agentçš„&quot;æ€è€ƒ&quot; - æ™ºèƒ½ä½“"/> <meta itemprop="keywords" content="åç«¯,æ¶æ„,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-11-17T08:52:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ThinkSmart"/> <meta itemprop="url" content="https://juejin.cn/user/1673909045041469"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Agentçš„"æ€è€ƒ" - æ™ºèƒ½ä½“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1673909045041469/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ThinkSmart
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T08:52:25.000Z" title="Mon Nov 17 2025 08:52:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä»€ä¹ˆæ˜¯æ™ºèƒ½ä½“ï¼Ÿ</h3>
<p>æ™ºèƒ½ä½“æ˜¯ä¸€ä¸ªèƒ½å¤Ÿæ„ŸçŸ¥ç¯å¢ƒã€è¿›è¡Œæ¨ç†ã€åˆ¶å®šè®¡åˆ’ã€åšå‡ºå†³ç­–å¹¶è‡ªä¸»é‡‡å–è¡ŒåŠ¨ä»¥å®ç°ç‰¹å®šç›®æ ‡çš„AIç³»ç»Ÿã€‚</p>
<p>æ™ºèƒ½ä½“ä»¥å¤§è¯­è¨€æ¨¡å‹ä¸ºæ ¸å¿ƒï¼Œé›†æˆè®°å¿†ã€çŸ¥è¯†åº“å’Œå·¥å…·ç­‰åŠŸèƒ½ä¸ºä¸€ä½“ï¼Œæ„é€ äº†å®Œæ•´çš„å†³ç­–ã€æ‰§è¡Œå’Œè®°å¿†èƒ½åŠ›ï¼Œæ‹¥æœ‰ä¸»è§‚èƒ½åŠ¨æ€§</p>
<p>ä¸æ™®é€šçš„AIå¤§æ¨¡å‹ä¸åŒçš„æ˜¯ï¼Œæ™ºèƒ½ä½“èƒ½å¤Ÿï¼š</p>
<ol>
<li>æ„ŸçŸ¥ç¯å¢ƒï¼šé€šè¿‡å„ç§è¾“å…¥æ¸ é“è·å–ä¿¡æ¯ï¼ˆå¤šæ¨¡æ€ï¼‰ï¼Œç†è§£ç”¨æˆ·éœ€æ±‚å’Œç¯å¢ƒçŠ¶æ€</li>
<li>è‡ªåŠ©è§„åˆ’ä»»åŠ¡æ­¥éª¤ï¼šå°†å¤æ‚ä»»åŠ¡åˆ†è§£ä¸ºå¯æ‰§è¡Œçš„å­ä»»åŠ¡ï¼Œå¹¶è®¾è®¡æ‰§è¡Œé¡ºåº</li>
<li>ä¸»åŠ¨è°ƒç”¨å·¥å…·å®Œæˆä»»åŠ¡ï¼šæ ¹æ®éœ€è¦é€‰æ‹©å¹¶ä½¿ç”¨å„ç§å¤–éƒ¨å·¥å…·å’ŒAPIï¼Œæ‰©å±•è‡ªå·±èƒ½åŠ›çš„è¾¹ç•Œ</li>
<li>è¿›è¡Œå¤šæ­¥æ¨ç†ï¼šåŒå“¥æ€ç»´é“¾é€æ­¥åˆ†æé—®é¢˜å¹¶æ¨å¯¼è§£å†³æ–¹æ¡ˆ</li>
<li>æŒç»­å­¦ä¹ å’Œè®°å¿†è¿‡å»çš„äº¤äº’ï¼šä¿æŒä¸Šä¸‹æ–‡è¿è´¯æ€§ï¼Œåˆ©ç”¨å†å²äº¤äº’æ”¹è¿›ç­–ç•¥</li>
<li>æ ¹æ®ç¯å¢ƒåé¦ˆè°ƒæ•´è¡Œä¸ºï¼šæ ¹æ®æ‰§è¡Œç»“æœåŠ¨æ€è°ƒæ•´ç­–ç•¥ï¼Œå®ç°é—­ç¯ä¼˜åŒ–</li>
</ol>
<p>è¿™æ ·è¯´å¯èƒ½è¿˜æ˜¯ä¼šè¿·èŒ«ï¼Œä½†æ˜¯å¤§æ¦‚ç‡ç”¨è¿‡è¿™ä¸ªåŠŸèƒ½ï¼Œæ¯”å¦‚è±†åŒ…çš„æ€è€ƒï¼Œè¿™å°±æ˜¯AIé€æ­¥æ™ºèƒ½åŒ–çš„ä½“ç°ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3dd84f94ed664c17815dfaa9b9a956f9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGhpbmtTbWFydA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763974344&amp;x-signature=WVP44C5r8SmZko3NrHOI5L5nyXQ%3D" alt="image.png" loading="lazy"/></p>
<p>é€šè¿‡æ™ºèƒ½ä½“ï¼Œè®©AIä¼šåƒäººç±»ä¸€æ ·å…ˆæ€è€ƒåå›ç­”ï¼Œè®©ç­”æ¡ˆæ›´å‡†ç¡®ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bfc2a03fb435421ba5b10bef38829455~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGhpbmtTbWFydA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763974344&amp;x-signature=3FigzZMD6ABcM7GbgolHn0Tuqxw%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-1">æ™ºèƒ½ä½“çš„åˆ†ç±»</h3>
<p>è·Ÿäººçš„æˆé•¿é˜¶æ®µä¸€æ ·ï¼Œæ™ºèƒ½ä½“ä¹Ÿæ˜¯å¯ä»¥ä¸æ–­è¿›åŒ–çš„ï¼ŒæŒ‰ç…§è‡ªä¸»æ€§å’Œè§„åˆ’èƒ½åŠ›ï¼Œæ™ºèƒ½ä½“å¯ä»¥åˆ†ä¸ºå‡ ä¸ªå±‚æ¬¡ï¼š</p>
<ul>
<li>
<p>ååº”å¼æ™ºèƒ½ä½“</p>
<p>æ ¹æ®å½“å‰çš„è¾“å…¥å’Œå›ºå®šçš„è§„åˆ™åšå‡ºååº”ï¼Œåƒç®€å•çš„èŠå¤©æœºå™¨äººï¼Œæ²¡æœ‰çœŸæ­£çš„è§„åˆ’èƒ½åŠ›</p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b8ddabc6ca6c43a388b7988b18c5a8aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGhpbmtTbWFydA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763974344&amp;x-signature=d8ujLdOCGYiTKP55W9mk3M5tXeA%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>
<p>æœ‰é™è§„åˆ’æ™ºèƒ½ä½“</p>
<p>èƒ½è¿›è¡Œç®€å•çš„å¤šæ­¥éª¤æ‰§è¡Œï¼Œä½†æ‰§è¡Œçš„è®¡åˆ’é€šå¸¸éƒ½æ˜¯é¢„è®¾çš„ï¼Œæˆ–è€…æ˜¯æœ‰ä¸¥æ ¼é™åˆ¶çš„ï¼Œ"èƒ½å¹²äº‹ï¼Œä½†å¹²ä¸äº†å¤æ‚çš„å¤§äº‹"ã€‚</p>
<p>ç®€å•çš„ä¾‹å­ï¼Œå°±æ˜¯æ™ºèƒ½ä½“å°†é—®é¢˜æ€ä¹ˆæ‹†è§£ï¼Œæ€ä¹ˆå»æ€è€ƒé—®é¢˜ï¼Œéƒ½æ˜¯è¢«äººä¸ºæå‰å®šå¥½çš„ï¼Œä¸æ˜¯æ™ºèƒ½ä½“è‡ªå·±è§„åˆ’çš„</p>
</li>
<li>
<p>è‡ªåŠ©è§„åˆ’æ™ºèƒ½ä½“</p>
<p>èƒ½å¤Ÿæ ¹æ®ä»»åŠ¡ç›®æ ‡ "è‡ªä¸»" åˆ†è§£ä»»åŠ¡ã€åˆ¶å®šè®¡åˆ’ã€é€‰æ‹©å·¥å…·å¹¶ä¸€æ­¥æ­¥æ‰§è¡Œï¼Œç›´åˆ°å®Œæˆä»»åŠ¡ã€‚</p>
<p>æ¯”å¦‚25å¹´å¾ˆç«çš„Manusï¼Œå®ƒçš„æ ¸å¿ƒäº®ç‚¹åœ¨äºå…¶ "è‡ªåŠ©æ‰§è¡Œçš„èƒ½åŠ›"ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥åœ¨å¼€æºçš„Manusçš„å¤åˆ»ç‰ˆ --- <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FFoundationAgents%2FOpenManus" target="_blank" title="https://github.com/FoundationAgents/OpenManus" ref="nofollow noopener noreferrer">OpenManus</a>ï¼Œè¿™ç±»æ™ºèƒ½ä½“é€šè¿‡"æ€è€ƒ-è¡ŒåŠ¨-è§‚å¯Ÿ"çš„å¾ªç¯æ¨¡å¼å·¥ä½œ</p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5dbe1b9c3bde4e618f5a87a4a0984149~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGhpbmtTbWFydA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763974344&amp;x-signature=OKeUhORbDzdW8j43x0WK2mmGZFI%3D" alt="image.png" loading="lazy"/></p>
<p>æ„Ÿå…´è¶£çš„å¯ä»¥æŠŠä»£ç ä¸‹ä¸‹æ¥çœ‹çœ‹ï¼Œåé¢æˆ‘ä¼šä¸“é—¨å‡ºä¸€ç¯‡æ–‡ç« èŠä¸€ä¸‹æˆ‘è‡ªå·±æ˜¯æ€ä¹ˆå»å­¦ä¹ OpenManus</p>
<h3 data-id="heading-2">æ™ºèƒ½ä½“å®ç°çš„å…³é”®æŠ€æœ¯</h3>
<h4 data-id="heading-3">CoTæ€ç»´é“¾</h4>
<p>CoTï¼ˆChain of  Thoughtï¼‰æ€ç»´é“¾æ˜¯ä¸€ç§è®©AIåƒäººç±»ä¸€æ ·"æ€è€ƒ"çš„æŠ€æœ¯ï¼Œå¸®åŠ©AIåœ¨å¤„ç†å¤æ‚é—®é¢˜æ—¶èƒ½å¤ŸæŒ‰ç…§æ­¥éª¤æ€è€ƒã€‚</p>
<p>å¯¹äºå¤æ‚çš„æ¨ç†ç±»é—®é¢˜ï¼Œå…ˆæ€è€ƒåæ‰§è¡Œï¼Œè¿™æ ·çš„æ•ˆæœå¾€å¾€æ›´å¥½ï¼Œå¯ä»¥è®©æ¨¡å‹åœ¨ç”Ÿæˆç­”æ¡ˆæ—¶å±•ç¤ºæ¨ç†è¿‡ç¨‹</p>
<p>CoTçš„å®ç°æ–¹å¼å…¶å®å¾ˆç®€å•ï¼Œå¯ä»¥åœ¨è¾“å…¥Promptæ—¶ï¼Œ<strong>ç»™æ¨¡å‹æä¾›é¢å¤–çš„æç¤ºæˆ–å¼•å¯¼</strong>ï¼Œæ¯”å¦‚"è®©æˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥æ€è€ƒè¿™ä¸ªé—®é¢˜"ï¼Œè®©æ¨¡å‹ä»¥é€æ­¥æ¨ç†çš„æ–¹å¼ç”Ÿæˆå›ç­”ï¼Œè¿˜å¯ä»¥è¿ç”¨Promptçš„ä¼˜åŒ–æŠ€å·§few shotï¼Œç»™æ¨¡å‹æä¾›åŒ…å«æ€ç»´é“¾çš„ç¤ºä¾‹é—®é¢˜å’Œç­”æ¡ˆï¼Œè®©æ¨¡å‹å­¦ä¹ å¦‚ä½•æ„å»ºè‡ªå·±çš„æ€ç»´é“¾ï¼Œåœ¨OpenManusæ—©æœŸçš„ç‰ˆæœ¬ä¸­ï¼Œæœ‰CoTçš„ç³»ç»Ÿæç¤ºè¯</p>
<pre><code class="hljs language-vbnet" lang="vbnet">You are an assistant focused <span class="hljs-keyword">on</span> Chain <span class="hljs-keyword">of</span> Thought reasoning. <span class="hljs-keyword">For</span> <span class="hljs-keyword">each</span> question, please follow these steps:  
  
<span class="hljs-number">1</span>. Break down the problem: Divide complex problems <span class="hljs-keyword">into</span> smaller, more manageable parts  
<span class="hljs-number">2</span>. Think <span class="hljs-keyword">step</span> <span class="hljs-keyword">by</span> <span class="hljs-keyword">step</span>: Think through <span class="hljs-keyword">each</span> part <span class="hljs-keyword">in</span> detail, showing your reasoning process  
<span class="hljs-number">3</span>. Synthesize conclusions: Integrate the thinking <span class="hljs-keyword">from</span> <span class="hljs-keyword">each</span> part <span class="hljs-keyword">into</span> a complete solution  
<span class="hljs-number">4</span>. Provide an answer: Give a final concise answer  
  
Your response should follow this format:  
<span class="hljs-symbol">Thinking:</span> [Detailed thought process, including problem decomposition, reasoning <span class="hljs-keyword">for</span> <span class="hljs-keyword">each</span> <span class="hljs-keyword">step</span>, <span class="hljs-built_in">and</span> analysis]  
<span class="hljs-symbol">Answer:</span> [Final answer based <span class="hljs-keyword">on</span> the thought process, clear <span class="hljs-built_in">and</span> concise]  
  
Remember, the thinking process <span class="hljs-built_in">is</span> more important than the final answer, <span class="hljs-keyword">as</span> it demonstrates how you reached your conclusion.
</code></pre>

<pre><code class="hljs language-css" lang="css">ä½ æ˜¯ä¸€åä¸“æ³¨äº â€œæ€ç»´é“¾â€ï¼ˆChain of Thoughtï¼‰æ¨ç†çš„åŠ©æ‰‹ã€‚é’ˆå¯¹æ¯ä¸ªé—®é¢˜ï¼Œè¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š
æ‹†è§£é—®é¢˜ï¼šå°†å¤æ‚é—®é¢˜åˆ†è§£ä¸ºæ›´å°ã€æ›´æ˜“äºå¤„ç†çš„éƒ¨åˆ†ã€‚
é€æ­¥æ€è€ƒï¼šè¯¦ç»†æ€è€ƒæ¯ä¸ªéƒ¨åˆ†ï¼Œæ¸…æ™°å±•ç¤ºä½ çš„æ¨ç†è¿‡ç¨‹ã€‚
ç»¼åˆç»“è®ºï¼šå°†æ¯ä¸ªéƒ¨åˆ†çš„æ€è€ƒæ•´åˆèµ·æ¥ï¼Œå½¢æˆå®Œæ•´çš„è§£å†³æ–¹æ¡ˆã€‚
ç»™å‡ºç­”æ¡ˆï¼šæä¾›æœ€ç»ˆç®€æ´çš„ç­”æ¡ˆã€‚
ä½ çš„å›å¤éœ€éµå¾ªä»¥ä¸‹æ ¼å¼ï¼šæ€è€ƒï¼š<span class="hljs-selector-attr">[è¯¦ç»†çš„æ€è€ƒè¿‡ç¨‹ï¼ŒåŒ…æ‹¬é—®é¢˜æ‹†è§£ã€æ¯ä¸€æ­¥çš„æ¨ç†ä¾æ®åŠåˆ†æ]</span>ç­”æ¡ˆï¼š<span class="hljs-selector-attr">[åŸºäºæ€è€ƒè¿‡ç¨‹å¾—å‡ºçš„æœ€ç»ˆç­”æ¡ˆï¼Œæ¸…æ™°ç®€æ´]</span>
è¯·è®°ä½ï¼Œæ€è€ƒè¿‡ç¨‹æ¯”æœ€ç»ˆç­”æ¡ˆæ›´é‡è¦ï¼Œå› ä¸ºå®ƒèƒ½ä½“ç°ä½ å¾—å‡ºç»“è®ºçš„é€»è¾‘è·¯å¾„ã€‚
</code></pre>
<h4 data-id="heading-4">Agent Loop æ‰§è¡Œå¾ªç¯</h4>
<p>Agent Loop æ˜¯æ™ºèƒ½ä½“æœ€æ ¸å¿ƒçš„å·¥ä½œæœºåˆ¶ï¼ŒæŒ‡æ™ºèƒ½ä½“åœ¨æ²¡æœ‰ç”¨æˆ·è¾“å…¥çš„æƒ…å†µä¸‹ï¼Œè‡ªä¸»é‡å¤æ‰§è¡Œæ¨ç†å’Œå·¥å…·è°ƒç”¨çš„è¿‡ç¨‹ã€‚</p>
<p>åœ¨ä¼ ç»Ÿçš„èŠå¤©æ¨¡å‹ä¸­ï¼Œæ¯æ¬¡ç”¨æˆ·æé—®åï¼ŒAIå›å¤ä¸€æ¬¡å°±ç»“æŸäº†ï¼Œä½†åœ¨æ™ºèƒ½ä½“ä¸­ï¼ŒAIå›å¤åå¯èƒ½ä¼šç»§ç»­è‡ªä¸»æ‰§è¡Œåç»­åŠ¨ä½œ(å¦‚è°ƒç”¨å·¥å…·ã€å¤„ç†ç»“æœã€ç»§ç»­æ¨ç†)ï¼Œå½¢æˆä¸€ä¸ªè‡ªä¸»æ‰§è¡Œçš„å¾ªç¯ï¼Œç›´åˆ°ä»»åŠ¡å®Œæˆï¼ˆæˆ–è€…è¶…å‡ºé¢„è®¾çš„æœ€å¤§æ­¥éª¤ï¼‰</p>
<p>æˆ‘ä»¬å¯ä»¥åœ¨OpenManusä¸­æ‰¾åˆ°è¿™æ®µAgent Loopçš„æ‰§è¡Œå¾ªç¯ä»£ç ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aec72f2670cf4b5c95788e5a68877d8a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGhpbmtTbWFydA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763974344&amp;x-signature=69Dvyw5McvTo6B26mIN4Y7HhNPE%3D" alt="image.png" loading="lazy"/></p>
<p>å…ˆäº†è§£å‡ ä¸ªæ¦‚å¿µï¼ŒAgentåœ¨æ‰§è¡Œçš„æ—¶å€™ï¼Œæœ‰æå‰å®šä¹‰å‡ ä¸ªAgentçš„æ‰§è¡ŒçŠ¶æ€:</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">AgentState</span>(<span class="hljs-built_in">str</span>, Enum):
    <span class="hljs-string">"""Agent execution states"""</span>
    IDLE = <span class="hljs-string">"IDLE"</span>					// ç©ºé—²ä¸­
    RUNNING = <span class="hljs-string">"RUNNING"</span>		// è¿è¡Œä¸­
    FINISHED = <span class="hljs-string">"FINISHED"</span>	// å·²å®Œæˆ
    ERROR = <span class="hljs-string">"ERROR"</span>				// å¼‚å¸¸
</code></pre>
<p>å¯¹Agentéœ€è¦é™åˆ¶æœ€å¤§çš„æ€è€ƒæ­¥é•¿ï¼Œä¸èƒ½è®©Agentæ— é™çš„æ€è€ƒä¸‹å»ï¼ŒåŒæ—¶è€ƒè™‘å‡ºç°æ­»å¾ªç¯çš„æƒ…å†µï¼Œéœ€è¦æœ‰ä¸ªæœ€å¤§æ­¥é•¿</p>
<pre><code class="hljs language-python" lang="python">max_steps: <span class="hljs-built_in">int</span> = <span class="hljs-number">20</span>
</code></pre>
<p>æˆ‘ä»¬æ¥å¯¹è¿™run()ä»£ç åšä¸€ä¸‹æ‹†è§£</p>
<p>ç¬¬ä¸€æ­¥ï¼šæ£€æŸ¥çŠ¶æ€</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">if</span> self.state != AgentState.IDLE:
    <span class="hljs-keyword">raise</span> RuntimeError(<span class="hljs-string">f"Cannot run agent from state: <span class="hljs-subst">{self.state}</span>"</span>)
</code></pre>
<p>ç¬¬äºŒæ­¥ï¼šåˆå§‹åŒ–ç”¨æˆ·è¯·æ±‚(User Prompt)</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">if</span> request:
    self.update_memory(<span class="hljs-string">"user"</span>, request)
</code></pre>
<p>ç¬¬ä¸‰æ­¥ï¼šçŠ¶æ€åŠä¸Šä¸‹æ–‡çš„ç®¡ç†</p>
<pre><code class="hljs language-python" lang="python">results: <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>] = []
<span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> self.state_context(AgentState.RUNNING):
</code></pre>
<p>ç¬¬å››æ­¥ï¼šä¸»å¾ªç¯ï¼Œç›´åˆ°Agentè¾¾åˆ°æœ€å¤§æ­¥éª¤æˆ–è€…Agentçš„æ‰§è¡Œä»»åŠ¡çš„çŠ¶æ€ä¸ºå·²å®Œæˆ</p>
<pre><code class="hljs language-python" lang="python"> <span class="hljs-keyword">while</span> (
     self.current_step &lt; self.max_steps <span class="hljs-keyword">and</span> self.state != AgentState.FINISHED
):
</code></pre>
<p>ç¬¬äº”æ­¥ï¼šå…·ä½“æ‰§è¡ŒåŠ¨ä½œstep()</p>
<pre><code class="hljs language-python" lang="python">self.current_step += <span class="hljs-number">1</span>
logger.info(<span class="hljs-string">f"Executing step <span class="hljs-subst">{self.current_step}</span>/<span class="hljs-subst">{self.max_steps}</span>"</span>)
step_result = <span class="hljs-keyword">await</span> self.step()
</code></pre>
<p>ç¬¬å…­æ­¥ï¼šæ£€æŸ¥Agentæ˜¯å¦å¡åœ¨å¾ªç¯ä¸­å’Œæ˜¯å¦è¾¾åˆ°æœ€å¤§æ­¥é•¿</p>
<pre><code class="hljs language-python" lang="python"> <span class="hljs-keyword">if</span> self.is_stuck():
           self.handle_stuck_state()
           results.append(<span class="hljs-string">f"Step <span class="hljs-subst">{self.current_step}</span>: <span class="hljs-subst">{step_result}</span>"</span>)
</code></pre>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">if</span> self.current_step &gt;= self.max_steps:
           self.current_step = <span class="hljs-number">0</span>
           self.state = AgentState.IDLE
           results.append(<span class="hljs-string">f"Terminated: Reached max steps (<span class="hljs-subst">{self.max_steps}</span>)"</span>)
</code></pre>
<p>æˆ‘ä»¬å¯ä»¥ç”¨Javaæ¥æŠŠè¿™æ®µä»£ç å†™ä¸€ä¸‹</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> String <span class="hljs-title function_">run</span><span class="hljs-params">()</span> {  
    List&lt;String&gt; results = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
  	<span class="hljs-type">int</span> <span class="hljs-variable">MAX_STEPS</span> <span class="hljs-operator">=</span> <span class="hljs-number">20</span>;
    <span class="hljs-keyword">while</span> (currentStep &lt; MAX_STEPS &amp;&amp; !isFinished) {  
        currentStep++;  
        <span class="hljs-comment">// è¿™é‡Œå®ç°å…·ä½“çš„æ­¥éª¤é€»è¾‘ - ä¼ªä»£ç </span>
        <span class="hljs-type">String</span> <span class="hljs-variable">stepResult</span> <span class="hljs-operator">=</span> executeStep();  
        results.add(<span class="hljs-string">"æ­¥éª¤ "</span> + currentStep + <span class="hljs-string">": "</span> + stepResult);  
    }  
    <span class="hljs-keyword">if</span> (currentStep &gt;= MAX_STEPS) {  
        results.add(<span class="hljs-string">"è¾¾åˆ°æœ€å¤§æ­¥éª¤æ•°: "</span> + MAX_STEPS);  
    }  
    <span class="hljs-keyword">return</span> String.join(<span class="hljs-string">"\n"</span>, results);  
}
</code></pre>
<h4 data-id="heading-5">ReActæ¨¡å¼</h4>
<p>ReActï¼ˆReasoning + Actingï¼‰æ˜¯ä¸€ç§ç»“åˆæ¨ç†å’Œè¡ŒåŠ¨çš„æ™ºèƒ½ä½“æ¶æ„ï¼Œå®ƒæ¨¡ä»¿äººç±»è§£å†³é—®é¢˜æ—¶çš„"æ€è€ƒ-è¡ŒåŠ¨-è§‚å¯Ÿ"çš„å¾ªç¯</p>
<p>ç›®çš„æ˜¯é€šè¿‡äº¤äº’å¼çš„å†³ç­–å»è§£å†³å¤æ‚é—®é¢˜ï¼Œè¿™ä¹Ÿæ˜¯ç›®å‰æœ€å¸¸ç”¨çš„æ™ºèƒ½ä½“çš„å·¥ä½œæ¨¡å¼ä¹‹ä¸€ã€‚</p>
<p>æ ¸å¿ƒæ€æƒ³ï¼š</p>
<ol>
<li>æ¨ç†(Reasion)ï¼šå°†åŸå§‹é—®é¢˜æ‹†æˆå¤šæ­¥éª¤çš„ä»»åŠ¡(å¯¹åº”ä¸Šæ–‡step)ï¼Œæ˜ç¡®å½“å‰è¦æ‰§è¡Œçš„æ­¥éª¤ï¼Œç¬¬ä¸€æ­¥å¹²ä»€ä¹ˆï¼Œç¬¬äºŒæ­¥å¹²ä»€ä¹ˆ</li>
<li>è¡ŒåŠ¨(Act)ï¼šè°ƒç”¨å¤–éƒ¨å·¥å…·æ‰§è¡ŒåŠ¨ä½œï¼Œæ¯”å¦‚è°ƒç”¨æœç´¢å¼•æ“ã€æ‰“å¼€æµè§ˆå™¨è®¿é—®ç½‘é¡µç­‰</li>
<li>è§‚å¯Ÿ(Observe)ï¼šè·å–å·¥å…·è¿”å›çš„ç»“æœï¼Œåé¦ˆç»™æ™ºèƒ½ä½“è¿›è¡Œä¸‹ä¸€æ­¥å†³ç­–ã€‚æ¯”å¦‚å°†æ‰“å¼€çš„ç½‘é¡µä»£ç è¾“å…¥ç»™AI</li>
<li>å¾ªç¯è¿­ä»£ï¼šä¸æ–­é‡å¤ä¸Šè¿°3ä¸ªè¿‡ç¨‹ï¼ŒçŸ¥é“ä»»åŠ¡å®Œæˆæˆ–è€…è¾¾åˆ°ç»ˆæ­¢æ¡ä»¶(å¦‚è¾¾åˆ°æœ€å¤§æ€è€ƒå’Œæ‰§è¡Œçš„æ­¥é•¿)</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/519f20b3d3ac4459b99234c769206878~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGhpbmtTbWFydA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763974344&amp;x-signature=DB9K%2BoBU8%2BgtMWWmoAFOx30%2FEqo%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-6">æ‰€éœ€æ”¯æŒçš„ç³»ç»Ÿ</h4>
<p>é™¤äº†ä¸Šé¢æˆ‘ä»¬ä»‹ç»çš„å·¥ä½œæœºåˆ¶å¤–ï¼Œæ™ºèƒ½ä½“çš„å®ç°è¿˜ä¾èµ–äºå¾ˆå¤šæ”¯æŒç³»ç»Ÿ</p>
<ul>
<li>AIå¤§æ¨¡å‹ï¼Œè¿™ä¸ªæ˜¯è‚¯å®šè¦æœ‰çš„ï¼Œç”±å¤§æ¨¡å‹æä¾›äº†æ€è€ƒã€æ¨ç†å’Œå†³ç­–çš„æ ¸å¿ƒèƒ½åŠ›ï¼Œè¶Šå¼ºçš„AIå¤§æ¨¡å‹é€šå¸¸æ‰§è¡Œä»»åŠ¡çš„æ•ˆæœè¶Šå¥½</li>
<li>è®°å¿†ç³»ç»Ÿï¼Œæ™ºèƒ½ä½“éœ€è¦è®°å¿†ç³»ç»Ÿæ¥å­˜å‚¨å¯¹è¯å†å²ã€ä¸­é—´ç»“æœå’Œæ‰§è¡ŒçŠ¶æ€ï¼Œè¿™æ ·æ‰èƒ½å¤Ÿè¿›è¡Œè¿ç»­çš„å¯¹è¯å¹¶æ ¹æ®å†å²å¯¹è¯åˆ†ææ¥ä¸‹æ¥çš„å·¥ä½œæ­¥éª¤</li>
<li>çŸ¥è¯†åº“ï¼Œå°½ç®¡å¤§è¯­è¨€æ¨¡å‹æ‹¥æœ‰ä¸°å¯Œçš„å‚æ•°çŸ¥è¯†ï¼Œä½†é’ˆå¯¹ç‰¹å®šé¢†åŸŸçš„ä¸“ä¸šçŸ¥è¯†å¾€å¾€éœ€è¦é¢å¤–çš„çŸ¥è¯†åº“æ”¯æŒï¼Œæ¯”å¦‚ä¹‹å‰æˆ‘æœ‰è®²åˆ°è¿‡çš„ä¸€ç¯‡æ–‡ç« ï¼Œé€šè¿‡RAGæ£€ç´¢å¢å¼ºç”Ÿæˆ + å‘é‡æ•°æ®åº“ç­‰æŠ€æœ¯ï¼Œæ™ºèƒ½ä½“å¯ä»¥æ£€ç´¢å¹¶åˆ©ç”¨ä¸“ä¸šçŸ¥è¯†å›ç­”é—®é¢˜</li>
<li>å·¥å…·è°ƒç”¨ï¼Œå·¥å…·æ˜¯æ‰©å±•æ™ºèƒ½ä½“èƒ½åŠ›è¾¹ç•Œçš„å…³é”®ï¼Œæ™ºèƒ½ä½“é€šè¿‡å·¥å…·è°ƒç”¨å¯ä»¥è®¿é—®æœç´¢å¼•æ“ã€æ•°æ®åº“ã€APIæ¥å£ç­‰å¤–éƒ¨æœåŠ¡ï¼Œæå¤§çš„å¢å¼ºäº†å…¶è§£å†³é—®é¢˜çš„å®é™…èƒ½åŠ›ï¼ŒMCPå…¶å®ä¹Ÿæ˜¯å·¥å…·è°ƒç”¨çš„ä¸€ç§</li>
</ul>
<p>ç»¼åˆä¸Šé¢æ‰€è¯´çš„å››ç±»æŠ€æœ¯ï¼Œç»“åˆCoTã€Agent Loopã€ReActç­‰æœºåˆ¶ï¼Œå°±å¯ä»¥æ„å»ºä¸€ä¸ªå®Œæ•´çš„ã€æœ‰è‡ªåŠ©è§„åˆ’èƒ½åŠ›çš„AIæ™ºèƒ½ä½“</p>
<h3 data-id="heading-7">æ™ºèƒ½ä½“å·¥ä½œæµ</h3>
<p>å½“æˆ‘ä»¬é¢å¯¹å¤æ‚ä»»åŠ¡æ—¶ï¼Œå•ä¸€çš„æ™ºèƒ½ä½“å¯èƒ½æ— æ³•æ»¡è¶³éœ€æ±‚ï¼Œå› æ­¤æ™ºèƒ½ä½“**å·¥ä½œæµ(Agent Workflow)**åº”è¿è€Œç”Ÿ</p>
<p>é€šè¿‡ç®€å•çš„ä»»åŠ¡ç¼–æ’ï¼Œå…è®¸å¤šä¸ªæ™ºèƒ½ä½“ååŒå·¥ä½œï¼Œå„å¸å…¶èŒ</p>
<p>æ™ºèƒ½ä½“å·¥ä½œæµç¼–æ’çš„ç²¾é«“åœ¨äº <strong>å°†å¤æ‚ä»»åŠ¡åˆ†è§£ä¸ºè¿è´¯çš„èŠ‚ç‚¹é“¾</strong>ï¼Œæ¯ä¸ªèŠ‚ç‚¹ç”±æœ€é€‚åˆçš„æ™ºèƒ½ä½“å¤„ç†ï¼ŒèŠ‚ç‚¹é—´é€šè¿‡æ¡ä»¶è·¯ç”±è¿›è¡Œçµæ´»è¿æ¥ï¼Œå½¢æˆä¸€ä¸ªé«˜æ•ˆã€å¯é çš„æ‰§è¡Œç½‘ç»œã€‚</p>
<h4 data-id="heading-8">Prompt Chaining æç¤ºé“¾å·¥ä½œæµ</h4>
<p>Prompt Chaining æ˜¯æœ€å¸¸è§çš„æ™ºèƒ½ä½“å·¥ä½œæµæ¨¡å¼ä¹‹ä¸€ï¼Œå®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯å°†ä¸€ä¸ªå¤æ‚ä»»åŠ¡æ‹†è§£ä¸ºä¸€ç³»åˆ—æœ‰åºçš„å­ä»»åŠ¡</p>
<p>æ¯ä¸€æ­¥éƒ½ç”±LLMå¤„ç†å‰åºLLMå¤„ç†çš„è¾“å‡ºç»“æœï¼Œé€æ­¥æ¨è¿›ä»»åŠ¡çš„å®Œæˆ</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚ä½ æƒ³è¦åœ¨å°çº¢ä¹¦å‘ä¸€ä¸ªè´´ï¼Œä½ åœ¨æ€è€ƒå†…å®¹æ€ä¹ˆå†™ï¼Œå¯ä»¥è®©æ™ºèƒ½ä½“å·¥ä½œæµæ¥å¸®ä½ ï¼Œå¯ä»¥å…ˆè®©LLM-Call-1å¸®ä½ å…ˆç”Ÿæˆå¤§çº²ï¼Œåç»­çš„LLM-Call-nå†æ ¹æ®å¤§çº²ç”Ÿæˆè¯¦ç»†å†…å®¹ï¼Œæœ€åè¿›è¡Œæ¶¦è‰²å’Œæ ¡å¯¹ï¼Œæ¯ä¸€æ­¥éƒ½å¯ä»¥æ’å…¥æ ¡éªŒå’Œä¸­é—´æ£€æŸ¥ï¼Œç¡®ä¿æµç¨‹æ­£ç¡®ï¼Œå†…å®¹ç”Ÿæˆæ›´ç²¾å‡†</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1aff3f1513644b3890b3e3bf135b34ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGhpbmtTbWFydA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763974344&amp;x-signature=MwJuZDFqlAM5bSteucGTK3jIRcM%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™ç§æ¨¡å¼ç»“æ„æ¸…æ™°ï¼Œæ˜“äºè°ƒè¯•ï¼Œé€‚åˆä»»åŠ¡å¯ä»¥è‡ªç„¶è¢«åˆ†è§£ä¸ºå¤šä¸ªé˜¶æ®µçš„åœºæ™¯</p>
<h4 data-id="heading-9">Routing è·¯ç”±åˆ†æµå·¥ä½œæµ</h4>
<p>Routingå·¥ä½œæµæ¨¡å¼åˆ™æ›´åƒä¸€ä¸ªæ™ºèƒ½çš„è·¯ç”±å™¨ï¼Œæ ¹æ®è¾“å…¥å†…å®¹çš„ç±»å‹æˆ–ç‰¹å¾ï¼Œå°†ä»»åŠ¡åˆ†å‘ç»™æœ€åˆé€‚çš„ä¸‹æ¸¸æ™ºèƒ½ä½“</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨å®¢æœç³»ç»Ÿä¸­ï¼Œå¯ä»¥å°†å¸¸è§çš„é—®é¢˜ã€é€€æ¬¾è¯·æ±‚ã€æŠ€æœ¯æ”¯æŒç­‰åˆ†æµåˆ°ä¸åŒçš„å¤„ç†æ¨¡å—ï¼Œå†å¤šæ¨¡å‹ç³»ç»Ÿä¸­ï¼Œå¯ä»¥å°†ç®€å•çš„é—®é¢˜åˆ†é…ç»™å°é—®é¢˜ï¼Œå¤æ‚çš„é—®é¢˜äº¤ç»™å¤§æ¨¡å‹ï¼Œè¿™æ ·æ—¢æé«˜äº†å¤„ç†æ•ˆç‡ï¼Œä¹Ÿä¿è¯äº†æ¯ç±»é—®é¢˜éƒ½èƒ½å¤Ÿå¾—åˆ°æœ€ä¼˜çš„è§£ç­”ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/216f050ccf584418ada6fa78a5bf8723~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGhpbmtTbWFydA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763974344&amp;x-signature=76ti6YDtyQHF2KgZNTKy%2FZv5J3M%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-10">Orchestrator-Workers åè°ƒè€…-æ‰§è¡Œè€…å·¥ä½œæµ</h4>
<p>å¯¹äºå¤æ‚çš„ä»»åŠ¡ã€å‚ä¸ä»»åŠ¡çš„æ™ºèƒ½ä½“å¢å¤šæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å¼•å…¥ä¸€ä½ <strong>"ç®¡ç†è€…"</strong>ï¼Œ<strong>ä¼šæ ¹æ®ä»»åŠ¡åŠ¨æ€æ‹†è§£å‡ºå¤šä¸ªå­ä»»åŠ¡</strong>(çœ‹ç€è·Ÿä¸Šé¢çš„è·¯ç”±å™¨å¾ˆåƒï¼Œä½†ä»»åŠ¡æ‹†è§£æ˜¯æœ€å…³é”®çš„ä¸åŒï¼Œä¸æ˜¯ç®€å•è·¯ç”±äº†)ï¼Œå°†è¿™äº›å­ä»»åŠ¡åˆ†é…ç»™å¤šä¸ª <strong>"å·¥äºº"</strong> æ™ºèƒ½ä½“ï¼Œæœ€åå†æ•´åˆæ‰€æœ‰å·¥äººçš„ç»“æœï¼Œè¿™ç§ä¸­å¤®åè°ƒæœºåˆ¶æé«˜äº†å¤æ‚ç³»ç»Ÿçš„æ•´ä½“æ•ˆç‡ï¼Œé€‚åˆä»»åŠ¡ç»“æ„ä¸ç¡®å®šã€éœ€è¦åŠ¨æ€åˆ†è§£çš„å¤æ‚åœºæ™¯</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/20249fc380744a82b67943ae2acae581~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGhpbmtTbWFydA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763974344&amp;x-signature=wKv6lnwtHTrC0c4VbxkiBQoyHUM%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-11">Parallelization å¹¶è¡ŒåŒ–å·¥ä½œæµ</h4>
<p>åœ¨Parallelizationå¹¶è¡ŒåŒ–çš„æ¨¡å¼ä¸‹ï¼Œä»»åŠ¡ä¼šè¢«æ‹†åˆ†ä¸ºå¤šä¸ªå¯ä»¥å¹¶è¡Œå¤„ç†çš„å­ä»»åŠ¡ï¼Œæœ€åèšåˆå„è‡ªçš„ç»“æœã€‚</p>
<p>æ¯”å¦‚åœ¨ä»£ç åˆè§„å®‰å…¨å®¡æŸ¥çš„åœºæ™¯ä¸­ï¼Œå¯ä»¥è®©å¤šä¸ªæ™ºèƒ½ä½“åˆ†åˆ«å¯¹åŒä¸€æ®µä»£ç è¿›è¡Œå®‰å…¨å®¡æŸ¥ï¼Œæœ€å "æŠ•ç¥¨" å†³å®šæ˜¯å¦æœ‰é—®é¢˜ã€‚æ¯”å¦‚åœ¨å¤„ç†è¶…é•¿æ–‡æ¡£çš„æ—¶å€™ï¼Œå¯ä»¥å°†æ–‡æ¡£åˆ†æ®µï¼Œæ¯æ®µç”±ä¸åŒçš„æ™ºèƒ½ä½“å¹¶è¡Œçš„æ€»ç»“ï¼Œè¿™ç§æ¨¡å¼å¯ä»¥æ˜¾è‘—æå‡åˆå…­é€Ÿåº¦ï¼Œé€šè¿‡ "æŠ•ç¥¨" æœºåˆ¶æå‡ç»“æœçš„å‡†ç¡®åº¦</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/97b131abfb59474fbaad933152cf68b2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGhpbmtTbWFydA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763974344&amp;x-signature=yYlLz1T%2FMuLgHFndOUBH3HWCmcI%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-12">A2Aåè®®</h3>
<h4 data-id="heading-13">ä»€ä¹ˆæ˜¯A2A</h4>
<p>A2Aï¼ˆAgent To Agentï¼‰æ˜¯æœ€è¿‘æ¯”è¾ƒçƒ­é—¨çš„æ¦‚å¿µï¼Œç®€å•æ¥è¯´ï¼ŒA2Aåè®®å°±æ˜¯ä¸º "æ™ºèƒ½ä½“ä¹‹é—´å¦‚ä½•ç›´æ¥äº¤æµå’Œåä½œ" åˆ¶å®šçš„ä¸€å¥—æ ‡å‡†</p>
<p>A2Aåè®®çš„æ ¸å¿ƒï¼Œæ˜¯è®©æ¯ä¸ªæ™ºèƒ½ä½“éƒ½èƒ½åƒ "ç½‘ç»œèŠ‚ç‚¹" ä¸€æ ·ï¼Œæ‹¥æœ‰è‡ªå·±çš„èº«ä»½ã€èƒ½åŠ›æè¿°å’Œé€šä¿¡æ¥å£ã€‚</p>
<p>A2Aä¸ä»…è§„å®šäº†æ¶ˆæ¯çš„æ ¼å¼å’Œä¼ é€’æ–¹å¼ï¼Œè¿˜åŒ…å«äº†èº«ä»½è®¤è¯ã€èƒ½åŠ›å‘ç°ã€ä»»åŠ¡å§”æ‰˜ã€ç»“æœå›ä¼ ç­‰æœºåˆ¶ï¼Œè¿™æ ·ä¸€æ¥ï¼Œæ™ºèƒ½ä½“ä¹‹é—´å°±å¯ä»¥åƒäººç±»å›¢é˜Ÿä¸€æ ·ï¼Œç›¸äº’æ‰“æ‹›å‘¼ã€è¯¢é—®å¯¹æ–¹èƒ½åšä»€ä¹ˆï¼Œè¯·æ±‚ååŠ©ã€‚</p>
<p>å¯ä»¥æŠŠA2Aç±»æ¯”ä¸ºæ™ºèƒ½ä½“ä¸–ç•Œé‡Œçš„HTTPåè®®ï¼ŒHTTPåè®®è®©å…¨çƒä¸åŒçš„æœåŠ¡å™¨å’Œç”µè„‘ä¹‹é—´èƒ½å¤Ÿäº¤æ¢æ•°æ®ï¼ŒA2Aåè®®åˆ™æ˜¯è®©ä¸åŒçš„å‚å•†ã€ä¸åŒçš„å¹³å°ã€ä¸åŒèƒ½åŠ›çš„æ™ºèƒ½ä½“èƒ½å¤Ÿåƒå›¢é˜Ÿæˆå‘˜ä¸€æ ·äº’ç›¸ç†è§£ã€åä½œå’Œåˆ†å·¥ã€‚å¦‚æœè¯´HTTPåè®®è®©äº’è”ç½‘æˆä¸ºäº†ä¸€ä¸ªå¼€æ”¾ã€äº’è”çš„ä¸–ç•Œï¼Œé‚£ä¹ˆA2Aåè®®åˆ™è®©æ™ºèƒ½ä½“ä¸–ç•Œå˜å¾—å¼€æ”¾ã€åä½œå’Œé«˜æ•ˆã€‚</p>
<p>åƒä¸Šé¢æˆ‘ä»¬å…¶å®å°±æœ‰Agentä¹‹é—´çš„äº¤äº’ï¼Œä½†è¿™éƒ½æ˜¯å±€é™äºè‡ªå·±çš„æœåŠ¡ï¼Œä¸æ¶‰åŠç¬¬ä¸‰æ–¹çš„æ™ºèƒ½ä½“æœåŠ¡</p>
<h4 data-id="heading-14">A2Aé¢ä¸´çš„é—®é¢˜</h4>
<p>ç®€å•å’ŒMCPå¯¹æ¯”ä¸€ä¸‹ï¼Œè™½ç„¶A2Aå’ŒMCPéƒ½ç®—æ˜¯åè®®(æˆ–è€…è¯´æ˜¯æ ‡å‡†)ï¼Œä½†äºŒè€…å­˜åœ¨æœ¬è´¨ä¸Šçš„åŒºåˆ«ã€‚</p>
<p>MCPåè®®æ˜¯æ™ºèƒ½ä½“å’Œå¤–éƒ¨å·¥å…·ä¹‹é—´çš„æ ‡å‡†ï¼Œå®ƒè§„å®šäº†æ™ºèƒ½ä½“å¦‚ä½•å®‰å…¨ã€è§„èŒƒçš„è°ƒç”¨å¤–éƒ¨çš„æ•°æ®åº“ã€æœç´¢å¼•æ“ã€ä»£ç æ‰§è¡Œç­‰å·¥å…·èµ„æº</p>
<p>å¯ä»¥æŠŠMCPç†è§£ä¸º "æ™ºèƒ½ä½“-å·¥å…·" çš„HTTPåè®®ï¼Œè€ŒA2Aåè®®åˆ™æ˜¯æ™ºèƒ½ä½“ä¹‹é—´çš„é€šä¿¡åè®®ï¼Œè®©ä¸åŒçš„AIç›´æ¥å¯¹è¯ã€åä½œå’Œåˆ†å·¥ã€‚</p>
<p>ä»å®‰å…¨çš„è§’åº¦æ¥çœ‹ï¼ŒMCPå’ŒA2Aå¤„ç†çš„æ˜¯ä¸åŒå±‚é¢çš„å®‰å…¨é—®é¢˜ï¼š</p>
<ul>
<li>MCPçš„å®‰å…¨å…³æ³¨ç‚¹ï¼šä¸»è¦é›†ä¸­åœ¨å•ä¸ªæ™ºèƒ½ä½“ä¸å·¥å…·ä¹‹é—´çš„å®‰å…¨äº¤äº’ï¼Œä¸»è¦é˜²èŒƒçš„æ˜¯å·¥å…·æ»¥ç”¨å’Œæç¤ºè¯æ³¨å…¥æ”»å‡»</li>
<li>A2Açš„å®‰å…¨å…³æ³¨ç‚¹ï¼šæ›´å…³æ³¨æ™ºèƒ½ä½“ç½‘ç»œä¸­çš„èº«ä»½è®¤è¯ã€æˆæƒå’Œä¿¡ä»»é“¾ï¼ŒA2Aéœ€è¦è§£å†³ "æˆ‘æ€ä¹ˆçŸ¥é“æˆ‘åœ¨å’Œè°é€šä¿¡"ã€"è¿™ä¸ªæ™ºèƒ½ä½“æœ‰æƒé™è¯·æ±‚è¿™é¡¹ä»»åŠ¡å—ï¼Ÿ"ã€"å¦‚ä½•é˜²æ­¢æ¶æ„æ™ºèƒ½ä½“çªƒå–æˆ–ç¯¡æ”¹ä»»åŠ¡æ•°æ®"ç­‰é—®é¢˜</li>
</ul>
<p>A2Aé¢ä¸´çš„å®‰å…¨æŒ‘æˆ˜æ›´åŠ å¤æ‚ï¼Œåœ¨å¤„ç†è·¨ç½‘ç»œã€è·¨å¹³å°ã€å¤šæ–¹åä½œçš„åœºæ™¯çš„è½åœ°åœºæ™¯è¿˜ä¸æˆç†Ÿ</p>
<p>å¯¹äºä¸€ä¸ªæˆç†Ÿçš„æ™ºèƒ½ä½“ç³»ç»Ÿï¼Œå¯èƒ½ä¼šåŒæ—¶è¿ç”¨MCPå’ŒA2Aï¼ŒMCPè´Ÿè´£æŸä¸ªæ™ºèƒ½ä½“å†…éƒ¨è°ƒç”¨å·¥å…·å®Œæˆï¼ŒA2Aè´Ÿè´£æ™ºèƒ½ä½“ä¹‹é—´çš„åä½œå®Œæˆä»»åŠ¡</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨æˆ·é€‰å‰§æƒ…ï¼ŒAIå†™æ•…äº‹ï¼šTrae Solo+GLM-4.6å®ç°æ²‰æµ¸å¼å°è¯´åˆ›ä½œä½“éªŒ]]></title>    <link>https://juejin.cn/post/7573468493569589284</link>    <guid>https://juejin.cn/post/7573468493569589284</guid>    <pubDate>2025-11-17T09:26:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573468493569589284" data-draft-id="7573336057481297926" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨æˆ·é€‰å‰§æƒ…ï¼ŒAIå†™æ•…äº‹ï¼šTrae Solo+GLM-4.6å®ç°æ²‰æµ¸å¼å°è¯´åˆ›ä½œä½“éªŒ"/> <meta itemprop="keywords" content="Trae"/> <meta itemprop="datePublished" content="2025-11-17T09:26:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="_æ‘˜æ˜Ÿ_"/> <meta itemprop="url" content="https://juejin.cn/user/2228036358374227"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨æˆ·é€‰å‰§æƒ…ï¼ŒAIå†™æ•…äº‹ï¼šTrae Solo+GLM-4.6å®ç°æ²‰æµ¸å¼å°è¯´åˆ›ä½œä½“éªŒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2228036358374227/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    _æ‘˜æ˜Ÿ_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T09:26:00.000Z" title="Mon Nov 17 2025 09:26:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»18åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5198527003bf4a67a19606b3117e03e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=1299W9dvbcJ3i4%2B0wq3xaGoGK0g%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">ç”¨æˆ·é€‰å‰§æƒ…ï¼ŒAIå†™æ•…äº‹ï¼šTrae Solo+GLM-4.6å®ç°æ²‰æµ¸å¼å°è¯´åˆ›ä½œä½“éªŒ</h2>
<h3 data-id="heading-1">é¡¹ç›®èƒŒæ™¯</h3>
<p>åœ¨äººå·¥æ™ºèƒ½æŠ€æœ¯è¿…çŒ›å‘å±•çš„ä»Šå¤©ï¼Œå†…å®¹åˆ›ä½œæ­£ç»å†ä»â€œäººå·¥ä¸»å¯¼â€å‘â€œäººæœºååŒâ€çš„æ·±åˆ»å˜é©ã€‚ä¼ ç»Ÿå°è¯´åˆ›ä½œå¾€å¾€é¢ä¸´çµæ„Ÿæ¯ç«­ã€ç»“æ„æ··ä¹±ã€èŠ‚å¥æŠŠæ§éš¾ç­‰ç—›ç‚¹ï¼Œè€Œç°æœ‰AIå†™ä½œå·¥å…·å¤šä¸ºå•å‘è¾“å‡ºï¼Œç¼ºä¹äº’åŠ¨æ€§ä¸å™äº‹å¼ åŠ›ã€‚ä¸ºæ‰“ç ´è¿™ä¸€å±€é™ï¼Œæˆ‘ä»¬æ‰“é€ äº†ä¸€æ¬¾è½»é‡çº§ã€å…ç™»å½•çš„ AIå°è¯´åˆ›ä½œå¹³å°ï¼Œæ—¨åœ¨é€šè¿‡å‰æ²¿å¤§æ¨¡å‹èƒ½åŠ›èµ‹èƒ½æ¯ä¸€ä½æ•…äº‹åˆ›ä½œè€…ã€‚</p>
<p>æœ¬é¡¹ç›®æ·±åº¦èåˆ Trae Solo çš„é«˜æ•ˆå‰ç«¯å¼€å‘ä¸ä»»åŠ¡è°ƒåº¦èƒ½åŠ›ï¼Œä»¥åŠ GLM-4.6 åœ¨ä¸­æ–‡å™äº‹ã€æƒ…èŠ‚æ„å»ºå’Œé£æ ¼ä¸€è‡´æ€§ä¸Šçš„å“è¶Šè¡¨ç°ï¼Œæ„å»ºå‡ºâ€œç”¨æˆ·é€‰å‰§æƒ…ï¼ŒAIå†™æ•…äº‹â€çš„æ²‰æµ¸å¼åˆ›ä½œé—­ç¯ã€‚ç”¨æˆ·åªéœ€è¾“å…¥ä¸€ä¸ªæ•…äº‹å¼€å¤´ï¼Œç³»ç»Ÿå³åˆ»ç”Ÿæˆä¸‰ä¸ªé£æ ¼å„å¼‚çš„æƒ…èŠ‚åˆ†æ”¯æ¦‚è§ˆï¼›é€‰å®šå…¶ä¸€åï¼ŒAIå°†ç»­å†™300â€“500å­—çš„é«˜è´¨é‡æ­£æ–‡ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸ŠæŒç»­è¡ç”Ÿæ–°åˆ†æ”¯ï¼Œå½¢æˆä¸€æ£µåŠ¨æ€ç”Ÿé•¿çš„æ•…äº‹æ ‘ã€‚æ•´ä¸ªè¿‡ç¨‹æ— éœ€æ³¨å†Œï¼ŒAPI Key é€šè¿‡æœ¬åœ°å­˜å‚¨å®‰å…¨ä¿å­˜ï¼Œå…¼é¡¾éšç§ä¸ä¾¿æ·ã€‚</p>
<p>å¹³å°é‡‡ç”¨ æ–°ç²—é‡ä¸»ä¹‰ï¼ˆNeo-Brutalismï¼‰ è§†è§‰é£æ ¼ï¼Œä»¥ç™½è‰²ä¸ºåŸºåº•ï¼Œæ­é…æ©™ã€ç»¿ã€è“ã€ç°ç­‰é«˜å¯¹æ¯”è‰²å—ï¼Œå¼ºè°ƒæ“ä½œåé¦ˆä¸ä¿¡æ¯å±‚çº§ï¼Œè¥é€ å‡ºå…¼å…·ä¸ªæ€§ä¸æµç•…äº¤äº’çš„åˆ›ä½œä½“éªŒã€‚æˆ‘ä»¬ç›¸ä¿¡ï¼ŒAIä¸åº”æ›¿ä»£åˆ›ä½œè€…ï¼Œè€Œåº”æˆä¸ºæ¿€å‘æƒ³è±¡åŠ›çš„ä¼™ä¼´â€”â€”è¿™æ¬¾å¹³å°æ­£æ˜¯å¯¹â€œäººæœºå…±åˆ›â€æœªæ¥çš„ä¸€æ¬¡å®è·µæ¢ç´¢ã€‚</p>
<h3 data-id="heading-2">æ™ºè°±å¤§æ¨¡å‹</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bigmodel.cn%2F" target="_blank" title="https://www.bigmodel.cn/" ref="nofollow noopener noreferrer">æ™ºè°±AI</a>ï¼ˆZhipu AIï¼‰æ˜¯ä¸­å›½é¢†å…ˆçš„å¤§æ¨¡å‹æŠ€æœ¯å…¬å¸ï¼Œè‡´åŠ›äºæ¨åŠ¨é€šç”¨äººå·¥æ™ºèƒ½ï¼ˆAGIï¼‰çš„å‘å±•ã€‚å…¶è‡ªä¸»ç ”å‘çš„GLMï¼ˆGeneral Language Modelï¼‰ç³»åˆ—å¤§æ¨¡å‹ï¼Œå‡­å€Ÿå¼ºå¤§çš„è¯­è¨€ç†è§£ä¸ç”Ÿæˆèƒ½åŠ›ã€å¤šæ¨¡æ€èåˆèƒ½åŠ›ä»¥åŠé«˜æ•ˆçš„æ¨ç†æ€§èƒ½ï¼Œå·²åœ¨å­¦æœ¯ç•Œå’Œäº§ä¸šç•Œè·å¾—å¹¿æ³›è®¤å¯ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/74c638c4a9044b328a505562da46e508~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=GHZU9Lt2skEP4q77TIzWiS4XKHY%3D" alt="" loading="lazy"/></p>
<p>æœ€æ–°å‘å¸ƒçš„GLM-4.6ä¸ä»…åœ¨é€»è¾‘æ¨ç†ã€ä»£ç ç”Ÿæˆã€å¤šè¯­è¨€æ”¯æŒç­‰æ–¹é¢å®ç°æ˜¾è‘—çªç ´ï¼Œè¿˜å…·å¤‡æ›´å¼ºçš„ä¸Šä¸‹æ–‡ç†è§£ä¸é•¿æ–‡æœ¬å¤„ç†èƒ½åŠ›ï¼›</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16ad64f02f4c413f9b5cab1bb8291e6e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=W6dlj6mH857S9IP3RnZipahsOV4%3D" alt="" loading="lazy"/></p>
<p>åœ¨â€œAIå°è¯´åˆ›ä½œå¹³å°â€è¿™ä¸€åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬æ­£æ˜¯ä¾æ‰˜ Trae Solo çš„é«˜æ•ˆè°ƒåº¦èƒ½åŠ›ï¼Œç»“åˆ GLM-4.6 åœ¨å™äº‹ç”Ÿæˆã€æƒ…èŠ‚å»¶å±•ä¸é£æ ¼æ§åˆ¶ä¸Šçš„å¼ºå¤§è¯­è¨€å»ºæ¨¡ä¼˜åŠ¿ï¼Œå®ç°äº†ä»ç”¨æˆ·è¾“å…¥çš„æ•…äº‹å¼€å¤´åˆ°å¤šåˆ†æ”¯å‰§æƒ…æ¦‚è§ˆã€å†åˆ°æ²‰æµ¸å¼ç« èŠ‚å†…å®¹çš„ç«¯åˆ°ç«¯æ™ºèƒ½åˆ›ä½œã€‚é€šè¿‡æœ¬åœ°åŒ– API ç®¡ç†ä¸æ— ç™»å½•è½»é‡æ¶æ„ï¼Œæ™ºè°±å¤§æ¨¡å‹ä¸ä»…ä¸ºå†™ä½œè€…æä¾›äº†ä½é—¨æ§›ã€é«˜è‡ªç”±åº¦çš„åˆ›ä½œæ æ†ï¼Œæ›´é‡æ–°å®šä¹‰äº† AI é©±åŠ¨ä¸‹äº’åŠ¨å¼å°è¯´ç”Ÿæˆçš„æ–°èŒƒå¼ã€‚</p>
<h4 data-id="heading-3">è·å–API KEY</h4>
<p>åœ¨æ™ºè°±AIå¼€æ”¾å¹³å°çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bigmodel.cn%2Fusercenter%2Fproj-mgmt%2Fapikeys" target="_blank" title="https://www.bigmodel.cn/usercenter/proj-mgmt/apikeys" ref="nofollow noopener noreferrer">æ§åˆ¶å°</a>ä¸­ï¼Œå³å¯æ·»åŠ è´¦å·çš„API KEY</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/537e063ac2014f328d9b4dd0fb5a969e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=SKqj4ljcsZReLVV0MQaRnBOk2h4%3D" alt="" loading="lazy"/></p>
<p>æ·»åŠ å®Œä¹‹åéœ€è¦ä½¿ç”¨çš„æ—¶å€™ç›´æ¥å¤åˆ¶API KEYå³å¯</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4fc40498effa4bd4b10c0416abf9391c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=CNQpVQI8Kx26CX0yQPCCLATJP6w%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-4">GLM-4.6</h4>
<p>æ™ºè°±æœ€æ–°æ——èˆ°ï¼Œä»£ç èƒ½åŠ›å…¨é¢å¯¹é½ Claude Sonnet 4ï¼Œæ˜¯å›½å†…æœ€å¥½çš„ç¼–ç¨‹æ¨¡å‹ã€‚åœ¨çœŸå®ç¼–ç¨‹ã€é•¿ä¸Šä¸‹æ–‡å¤„ç†ã€æ¨ç†èƒ½åŠ›ã€ä¿¡æ¯æœç´¢ã€å†™ä½œèƒ½åŠ›ä¸æ™ºèƒ½ä½“åº”ç”¨ç­‰å¤šä¸ªæ–¹é¢å®ç°å…¨é¢æå‡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/32ce7fbc26324b168158b02b97a3f13d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=%2FdeHGA7nkboVXwxR6NWmcvyL3S4%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5a9fc3dcd13f4a4badc65e0e1c73a831~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=7y5NfvlJOhSiShMUNDbql21osNs%3D" alt="" loading="lazy"/></p>
<p>GLM-4.6è°ƒç”¨ç¤ºä¾‹</p>
<pre><code class="hljs language-vbnet" lang="vbnet">curl -X POST <span class="hljs-string">"https://open.bigmodel.cn/api/paas/v4/chat/completions"</span> \
    -H <span class="hljs-string">"Content-Type: application/json"</span> \
    -H <span class="hljs-string">"Authorization: Bearer your-api-key"</span> \
    -d <span class="hljs-comment">'{</span>
        <span class="hljs-string">"model"</span>: <span class="hljs-string">"glm-4.6"</span>,
        <span class="hljs-string">"messages"</span>: [
        {
            <span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>,
            <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä½œä¸ºä¸€åè¥é”€ä¸“å®¶ï¼Œè¯·ä¸ºæˆ‘çš„äº§å“åˆ›ä½œä¸€ä¸ªå¸å¼•äººçš„å£å·"</span>
        },
        {
            <span class="hljs-string">"role"</span>: <span class="hljs-string">"assistant"</span>,
            <span class="hljs-string">"content"</span>: <span class="hljs-string">"å½“ç„¶ï¼Œè¦åˆ›ä½œä¸€ä¸ªå¸å¼•äººçš„å£å·ï¼Œè¯·å‘Šè¯‰æˆ‘ä¸€äº›å…³äºæ‚¨äº§å“çš„ä¿¡æ¯"</span>
        },
        {
            <span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>,
            <span class="hljs-string">"content"</span>: <span class="hljs-string">"æ™ºè°±AI å¼€æ”¾å¹³å°"</span>
        }
            ],
            <span class="hljs-string">"thinking"</span>: {
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"enabled"</span>
        },
            <span class="hljs-string">"max_tokens"</span>: <span class="hljs-number">65536</span>,
            <span class="hljs-string">"temperature"</span>: <span class="hljs-number">1.0</span>
        }<span class="hljs-comment">'</span>
</code></pre>
<h3 data-id="heading-5">Trae Solo</h3>
<p>è¿‡å»å‡ å¹´ï¼ŒPrompt Engineeringï¼ˆæç¤ºè¯å·¥ç¨‹ï¼‰é£é¡ä¸€æ—¶â€”â€”äººä»¬é€šè¿‡ç²¾å¿ƒé›•ç¢è¾“å…¥æ–‡æœ¬ï¼Œè¯•å›¾â€œå¼•å¯¼â€å¤§æ¨¡å‹è¾“å‡ºç†æƒ³ç»“æœã€‚ç„¶è€Œï¼Œéšç€ AI åº”ç”¨æ—¥ç›Šæ·±å…¥å¤æ‚åœºæ™¯ï¼Œä»…é é™æ€ã€å­¤ç«‹çš„æç¤ºè¯å·²éš¾ä»¥ä¸ºç»§ã€‚</p>
<p>ä»¥æ™ºèƒ½å®¢æœä¸ºä¾‹ï¼šç³»ç»Ÿä¸ä»…è¦ç†è§£ç”¨æˆ·å½“å‰çš„æé—®ï¼Œè¿˜éœ€èåˆå†å²å¯¹è¯ã€ç”¨æˆ·èº«ä»½ã€ä¸šåŠ¡çŠ¶æ€ï¼Œç”šè‡³åŠ¨æ€è°ƒç”¨ä¸åŒåç«¯æœåŠ¡ã€‚æ­¤æ—¶ï¼Œä¼ ç»Ÿ Prompt Engineering çš„å±€é™æ€§æš´éœ²æ— é—â€”â€”å®ƒæŠŠ AI è°ƒç”¨å½“ä½œä¸€æ¬¡æ€§çš„â€œé»‘ç®±è¯·æ±‚â€ï¼Œç¼ºä¹å¯¹æ•´ä½“äº¤äº’è„‰ç»œçš„æŠŠæ¡ã€‚</p>
<p>æ­£æ˜¯åœ¨è¿™æ ·çš„èƒŒæ™¯ä¸‹ï¼ŒContext Engineeringï¼ˆä¸Šä¸‹æ–‡å·¥ç¨‹ï¼‰åº”è¿è€Œç”Ÿï¼Œè€Œ Trae Solo æ­£æ˜¯è¿™ä¸€èŒƒå¼æ¼”è¿›çš„å…ˆè¡Œè€…ä¸æ ¸å¿ƒæ¨åŠ¨è€…ã€‚Trae Solo ä¸æ»¡è¶³äºä»…ä»…ä¼˜åŒ–æç¤ºè¯ï¼Œè€Œæ˜¯æ„å»ºäº†ä¸€ä¸ªç»“æ„åŒ–ã€å¯æ¼”åŒ–ã€å¯è¿½æº¯çš„ä¸Šä¸‹æ–‡ç©ºé—´â€”â€”åœ¨æ­£ç¡®çš„æ—¶é—´ï¼Œä¸ºæ­£ç¡®çš„æ¨¡å‹ï¼Œæ³¨å…¥æ­£ç¡®çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚å®ƒå°† AI äº¤äº’ä»â€œå•æ¬¡é—®ç­”â€å‡çº§ä¸ºâ€œæŒç»­ã€æ™ºèƒ½ã€æƒ…å¢ƒæ„ŸçŸ¥çš„å¯¹è¯æµâ€ï¼ŒçœŸæ­£å®ç°äº†ä» Prompt Engineering åˆ° Context Engineering çš„è·ƒè¿ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/990aef66c4d348fc938f9964c164bea3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=gXsn2icpxRBasD0z%2FCpW3PJmv88%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-6">Trae Soloå¼€å‘å®è·µ</h3>
<h4 data-id="heading-7">å¼€å‘æç¤ºè¯</h4>
<p>å‡†å¤‡å¥½ä¸‹æ–¹çš„å¼€å‘æç¤ºè¯å¹¶è¾“å…¥Soloï¼š</p>
<pre><code class="hljs language-rust" lang="rust">æˆ‘ç°åœ¨è¦å¼€å‘ä¸€ä¸ªå«åšAIå°è¯´åˆ›ä½œå¹³å°ï¼Œæµç¨‹æ˜¯ç”¨æˆ·ç»™å‡ºä¸€ä¸ªæ•…äº‹çš„å¼€å¤´,åº”ç”¨ä¼šè°ƒç”¨GLM-<span class="hljs-number">4.6</span>,ç”Ÿæˆåç»­ä¸‰ä¸ªæƒ…èŠ‚åˆ†æ”¯æ¦‚è§ˆ,ç”¨æˆ·å¯ä»¥ä»»æ„é€‰æ‹©ä¸€ä¸ªåˆ†æ”¯ã€‚é€‰æ‹©åˆ†æ”¯ä¹‹åç«‹é©¬è°ƒç”¨GLM-<span class="hljs-number">4.6</span>ç”Ÿæˆå…·ä½“çš„æƒ…èŠ‚,å¤§çº¦<span class="hljs-number">300</span>-<span class="hljs-number">500</span>ç™¾å­—å·¦å³ã€‚æœªè¢«é€‰æ‹©çš„åˆ†æ”¯å°±æŠ›å¼ƒæ‰ï¼Œé€‰æ‹©çš„åˆ†æ”¯ä½¿ç”¨æ ‘å½¢ç»“æ„ä¸€çº§ä¸€çº§å¾€ä¸‹å±•ç¤ºï¼Œä½†æ˜¯å§‹ç»ˆå±•ç¤ºå½“å‰çš„åˆ†æ”¯ï¼ŒæŒç»­é‡å¤ã€‚é‡‡ç”¨ReactæŠ€æœ¯ï¼Œé£æ ¼ä½¿ç”¨æ–°ç²—é‡é£æ ¼ï¼Œå¤šç”¨ç™½è‰²ã€æ©™è‰²ã€ç»¿è‰²ã€è“è‰²ã€ç°è‰²ç­‰ï¼Œæµç•…çš„äº¤äº’è®¾è®¡ã€‚è¿™ä¸ªæ²¡æœ‰ç™»å½•ï¼Œå°±æ˜¯æ‰€æœ‰äººéƒ½å¯ä»¥ç”¨ï¼Œè€Œä¸”åªæœ‰ä¸¤ä¸ªé¡µé¢ï¼Œä¸€ä¸ªæ˜¯é¦–é¡µ-æ ¸å¿ƒåŠŸèƒ½ï¼Œä¸€ä¸ªæ˜¯API Key çš„é…ç½®é¡µé¢ï¼ˆä¿å­˜åˆ°æœ¬åœ°çš„local storageä¸­ï¼‰ï¼Œåœ¨äº§å“éœ€æ±‚æ–‡æ¡£ä¸­åŠ å…¥GLM4.<span class="hljs-number">6</span>è°ƒç”¨ç¤ºä¾‹ï¼š
<span class="hljs-keyword">const</span> url = ' https:<span class="hljs-comment">//open.bigmodel.cn/api/paas/v4/chat/completions ';</span>
<span class="hljs-keyword">const</span> options = {
method: <span class="hljs-symbol">'POST</span>',
headers: {Authorization: <span class="hljs-symbol">'Bearer</span> &lt;token&gt;', <span class="hljs-symbol">'Content</span>-Type': <span class="hljs-symbol">'application</span>/json'},
body: '{<span class="hljs-string">"model"</span>:<span class="hljs-string">"glm-4.6"</span>,<span class="hljs-string">"messages"</span>:[{<span class="hljs-string">"role"</span>:<span class="hljs-string">"system"</span>,<span class="hljs-string">"content"</span>:<span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„AIåŠ©æ‰‹ã€‚"</span>},{<span class="hljs-string">"role"</span>:<span class="hljs-string">"user"</span>,<span class="hljs-string">"content"</span>:<span class="hljs-string">"è¯·ä»‹ç»ä¸€ä¸‹äººå·¥æ™ºèƒ½çš„å‘å±•å†ç¨‹ã€‚"</span>}],<span class="hljs-string">"temperature"</span>:<span class="hljs-number">1</span>,<span class="hljs-string">"max_tokens"</span>:<span class="hljs-number">65536</span>,<span class="hljs-string">"stream"</span>:<span class="hljs-literal">false</span>}'};
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8ab6a0f282af490eace990dc6746fc34~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=%2BK8wj5sL%2FMk0EpKTQXiULNb9amo%3D" alt="" loading="lazy"/></p>
<p>Soloé¦–å…ˆä¼šåˆ›å»ºä¸€ä»½äº§å“éœ€æ±‚æ–‡æ¡£å’ŒæŠ€æœ¯æ¶æ„æ–‡æ¡£ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/22a40973b64a4b338717698f2d6de011~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=VMo5eaTrZmQj88MgWzaEqbfeeyA%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/15747531b9cc4168a52001edef9eca3e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=PxTq9YZZgDJn3Cso5UlM0WejSsY%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-8">å¼€å‘æ–‡æ¡£</h4>
<p>äº§å“éœ€æ±‚æ–‡æ¡£ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/84e3bac35a5e4499a438930dc7df53dc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=c777I%2F2wLOJygvxihjHP4uc3Utg%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/caf96ec1189443259004b05a12980e70~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=zO1hRpgY20nxEtjTd3s7cTrdnpU%3D" alt="" loading="lazy"/></p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># AIå°è¯´åˆ›ä½œå¹³å° - äº§å“éœ€æ±‚æ–‡æ¡£</span>

<span class="hljs-section">## 1. äº§å“æ¦‚è¿°</span>

AIå°è¯´åˆ›ä½œå¹³å°æ˜¯ä¸€ä¸ªåŸºäºGLM-4.6å¤§è¯­è¨€æ¨¡å‹çš„äº¤äº’å¼æ•…äº‹åˆ›ä½œå·¥å…·ï¼Œç”¨æˆ·å¯ä»¥è¾“å…¥æ•…äº‹å¼€å¤´ï¼Œç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆå¤šä¸ªæƒ…èŠ‚åˆ†æ”¯ä¾›ç”¨æˆ·é€‰æ‹©ï¼Œå½¢æˆä¸ªæ€§åŒ–çš„æ•…äº‹å‘å±•è·¯å¾„ã€‚

è¯¥å¹³å°æ—¨åœ¨ä¸ºåˆ›ä½œè€…ã€å°è¯´çˆ±å¥½è€…å’Œå¨±ä¹ç”¨æˆ·æä¾›ä¸€ä¸ªç®€å•æ˜“ç”¨çš„AIè¾…åŠ©åˆ›ä½œå·¥å…·ï¼Œé€šè¿‡æ ‘å½¢ç»“æ„å±•ç¤ºæ•…äº‹å‘å±•è„‰ç»œï¼Œè®©æ¯ä¸ªç”¨æˆ·éƒ½èƒ½åˆ›ä½œå‡ºç‹¬ç‰¹çš„æ•…äº‹ã€‚

<span class="hljs-section">## 2. æ ¸å¿ƒåŠŸèƒ½</span>

<span class="hljs-section">### 2.1 ç”¨æˆ·è§’è‰²</span>

æœ¬äº§å“æ— éœ€ç”¨æˆ·æ³¨å†Œç™»å½•ï¼Œæ‰€æœ‰è®¿é—®è€…å‡å¯ç›´æ¥ä½¿ç”¨å…¨éƒ¨åŠŸèƒ½ã€‚

<span class="hljs-section">### 2.2 åŠŸèƒ½æ¨¡å—</span>

æˆ‘ä»¬çš„AIå°è¯´åˆ›ä½œå¹³å°åŒ…å«ä»¥ä¸‹ä¸»è¦é¡µé¢ï¼š

<span class="hljs-bullet">1.</span> <span class="hljs-strong">**é¦–é¡µï¼ˆæ•…äº‹åˆ›ä½œé¡µé¢ï¼‰**</span>ï¼šæ•…äº‹è¾“å…¥åŒºåŸŸã€æƒ…èŠ‚åˆ†æ”¯é€‰æ‹©åŒºåŸŸã€æ•…äº‹æ ‘å½¢å±•ç¤ºåŒºåŸŸã€å½“å‰æƒ…èŠ‚æ˜¾ç¤ºåŒºåŸŸ
<span class="hljs-bullet">2.</span> <span class="hljs-strong">**API Keyé…ç½®é¡µé¢**</span>ï¼šAPI Keyè¾“å…¥è¡¨å•ã€é…ç½®ä¿å­˜åŠŸèƒ½ã€é…ç½®çŠ¶æ€æ˜¾ç¤º

<span class="hljs-section">### 2.3 é¡µé¢è¯¦æƒ…</span>

| é¡µé¢åç§°        | æ¨¡å—åç§°   | åŠŸèƒ½æè¿°                                     |
| ----------- | ------ | ---------------------------------------- |
| é¦–é¡µ          | æ•…äº‹è¾“å…¥åŒºåŸŸ | æä¾›æ–‡æœ¬è¾“å…¥æ¡†ï¼Œç”¨æˆ·è¾“å…¥æ•…äº‹å¼€å¤´ï¼ˆ50-200å­—ï¼‰ï¼ŒåŒ…å«è¾“å…¥æç¤ºå’Œå­—æ•°ç»Ÿè®¡    |
| é¦–é¡µ          | æƒ…èŠ‚åˆ†æ”¯ç”Ÿæˆ | è°ƒç”¨GLM-4.6 APIç”Ÿæˆä¸‰ä¸ªä¸åŒçš„æƒ…èŠ‚åˆ†æ”¯æ¦‚è§ˆï¼Œæ¯ä¸ªåˆ†æ”¯50-100å­—æè¿° |
| é¦–é¡µ          | åˆ†æ”¯é€‰æ‹©åŒºåŸŸ | å±•ç¤ºä¸‰ä¸ªæƒ…èŠ‚åˆ†æ”¯é€‰é¡¹ï¼Œç”¨æˆ·ç‚¹å‡»é€‰æ‹©å…¶ä¸­ä¸€ä¸ªï¼ŒåŒ…å«åˆ†æ”¯é¢„è§ˆå’Œé€‰æ‹©æŒ‰é’®        |
| é¦–é¡µ          | è¯¦ç»†æƒ…èŠ‚ç”Ÿæˆ | åŸºäºç”¨æˆ·é€‰æ‹©çš„åˆ†æ”¯è°ƒç”¨GLM-4.6ç”Ÿæˆ300-500å­—çš„è¯¦ç»†æƒ…èŠ‚å†…å®¹      |
| é¦–é¡µ          | æ•…äº‹æ ‘å½¢å±•ç¤º | ä½¿ç”¨æ ‘å½¢ç»“æ„å±•ç¤ºæ•…äº‹å‘å±•è·¯å¾„ï¼Œé«˜äº®å½“å‰é€‰æ‹©çš„åˆ†æ”¯ï¼Œæ˜¾ç¤ºå†å²é€‰æ‹©è·¯å¾„        |
| é¦–é¡µ          | å½“å‰æƒ…èŠ‚æ˜¾ç¤º | å±•ç¤ºå½“å‰ç”Ÿæˆçš„è¯¦ç»†æƒ…èŠ‚å†…å®¹ï¼ŒåŒ…å«ç»§ç»­åˆ›ä½œå’Œé‡æ–°å¼€å§‹åŠŸèƒ½              |
| é¦–é¡µ          | å¯¼èˆªåŠŸèƒ½   | æä¾›è¿”å›ä¸Šä¸€æ­¥ã€é‡æ–°å¼€å§‹ã€å‰å¾€é…ç½®é¡µé¢çš„å¯¼èˆªæŒ‰é’®                 |
| API Keyé…ç½®é¡µé¢ | é…ç½®è¡¨å•   | æä¾›API Keyè¾“å…¥æ¡†ï¼ŒåŒ…å«è¾“å…¥éªŒè¯å’Œæ ¼å¼æ£€æŸ¥                 |
| API Keyé…ç½®é¡µé¢ | æœ¬åœ°å­˜å‚¨   | å°†API Keyä¿å­˜åˆ°localStorageï¼ŒåŒ…å«ä¿å­˜ç¡®è®¤å’Œæ¸…é™¤åŠŸèƒ½      |
| API Keyé…ç½®é¡µé¢ | é…ç½®çŠ¶æ€   | æ˜¾ç¤ºå½“å‰API Keyé…ç½®çŠ¶æ€ï¼ŒåŒ…å«è¿æ¥æµ‹è¯•åŠŸèƒ½                 |

<span class="hljs-section">## 3. æ ¸å¿ƒæµç¨‹</span>

<span class="hljs-strong">**ä¸»è¦ç”¨æˆ·æ“ä½œæµç¨‹ï¼š**</span>

<span class="hljs-bullet">1.</span> ç”¨æˆ·è®¿é—®é¦–é¡µï¼Œæ£€æŸ¥API Keyé…ç½®çŠ¶æ€
<span class="hljs-bullet">2.</span> å¦‚æœªé…ç½®API Keyï¼Œå¼•å¯¼ç”¨æˆ·å‰å¾€é…ç½®é¡µé¢è®¾ç½®
<span class="hljs-bullet">3.</span> ç”¨æˆ·åœ¨é¦–é¡µè¾“å…¥æ•…äº‹å¼€å¤´
<span class="hljs-bullet">4.</span> ç³»ç»Ÿè°ƒç”¨GLM-4.6ç”Ÿæˆä¸‰ä¸ªæƒ…èŠ‚åˆ†æ”¯æ¦‚è§ˆ
<span class="hljs-bullet">5.</span> ç”¨æˆ·é€‰æ‹©å…¶ä¸­ä¸€ä¸ªåˆ†æ”¯
<span class="hljs-bullet">6.</span> ç³»ç»ŸåŸºäºé€‰æ‹©çš„åˆ†æ”¯ç”Ÿæˆè¯¦ç»†æƒ…èŠ‚å†…å®¹
<span class="hljs-bullet">7.</span> ç”¨æˆ·å¯ä»¥ç»§ç»­åŸºäºå½“å‰æƒ…èŠ‚ç”Ÿæˆæ–°çš„åˆ†æ”¯ï¼Œæˆ–é‡æ–°å¼€å§‹åˆ›ä½œ

<span class="hljs-strong">**GLM-4.6 APIè°ƒç”¨ç¤ºä¾‹ï¼š**</span>

<span class="hljs-code">```javascript
const url = 'https://open.bigmodel.cn/api/paas/v4/chat/completions';

const options = {
  method: 'POST',
  headers: {
    Authorization: 'Bearer &lt;token&gt;', 
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    "model": "glm-4.6",
    "messages": [
      {
        "role": "system",
        "content": "ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å°è¯´åˆ›ä½œåŠ©æ‰‹ï¼Œæ“…é•¿æ ¹æ®ç»™å®šçš„æ•…äº‹å¼€å¤´åˆ›ä½œå¼•äººå…¥èƒœçš„æƒ…èŠ‚å‘å±•ã€‚"
      },
      {
        "role": "user",
        "content": "è¯·åŸºäºä»¥ä¸‹æ•…äº‹å¼€å¤´ï¼Œç”Ÿæˆä¸‰ä¸ªä¸åŒçš„æƒ…èŠ‚å‘å±•æ–¹å‘..."
      }
    ],
    "temperature": 1,
    "max_tokens": 65536,
    "stream": false
  })
};
```</span>

<span class="hljs-code">```mermaid
graph TD
  A[é¦–é¡µ] --&gt; B{æ£€æŸ¥API Key}
  B --&gt;|æœªé…ç½®| C[API Keyé…ç½®é¡µé¢]
  B --&gt;|å·²é…ç½®| D[è¾“å…¥æ•…äº‹å¼€å¤´]
  C --&gt; E[ä¿å­˜API Keyåˆ°localStorage]
  E --&gt; A
  D --&gt; F[ç”Ÿæˆä¸‰ä¸ªæƒ…èŠ‚åˆ†æ”¯]
  F --&gt; G[é€‰æ‹©åˆ†æ”¯]
  G --&gt; H[ç”Ÿæˆè¯¦ç»†æƒ…èŠ‚]
  H --&gt; I[å±•ç¤ºåœ¨æ•…äº‹æ ‘ä¸­]
  I --&gt; J{ç»§ç»­åˆ›ä½œ?}
  J --&gt;|æ˜¯| F
  J --&gt;|å¦| K[é‡æ–°å¼€å§‹]
  K --&gt; D
```</span>

<span class="hljs-section">## 4. ç”¨æˆ·ç•Œé¢è®¾è®¡</span>

<span class="hljs-section">### 4.1 è®¾è®¡é£æ ¼</span>

é‡‡ç”¨æ–°ç²—é‡ä¸»ä¹‰ï¼ˆNeo-Brutalismï¼‰è®¾è®¡é£æ ¼ï¼Œå…·ä½“åŒ…æ‹¬ï¼š

<span class="hljs-bullet">*</span> <span class="hljs-strong">**ä¸»è‰²è°ƒ**</span>ï¼šç™½è‰² (#FFFFFF) ä½œä¸ºèƒŒæ™¯è‰²

<span class="hljs-bullet">*</span> <span class="hljs-strong">**å¼ºè°ƒè‰²**</span>ï¼šæ©™è‰² (#FF6B35)ã€ç»¿è‰² (#4ECDC4)ã€è“è‰² (#45B7D1)

<span class="hljs-bullet">*</span> <span class="hljs-strong">**è¾…åŠ©è‰²**</span>ï¼šæ·±ç°è‰² (#2C3E50)ã€æµ…ç°è‰² (#BDC3C7)

<span class="hljs-bullet">*</span> <span class="hljs-strong">**æŒ‰é’®é£æ ¼**</span>ï¼šç²—è¾¹æ¡†ã€é«˜å¯¹æ¯”åº¦ã€æ–¹å½¢è®¾è®¡ï¼Œå¸¦æœ‰é˜´å½±æ•ˆæœ

<span class="hljs-bullet">*</span> <span class="hljs-strong">**å­—ä½“**</span>ï¼šç²—ä½“æ— è¡¬çº¿å­—ä½“ï¼Œä¸»æ ‡é¢˜18-24pxï¼Œæ­£æ–‡14-16px

<span class="hljs-bullet">*</span> <span class="hljs-strong">**å¸ƒå±€é£æ ¼**</span>ï¼šç½‘æ ¼åŒ–å¸ƒå±€ï¼Œæ˜ç¡®çš„åŒºå—åˆ†å‰²ï¼Œå¤§èƒ†çš„è‰²å½©å¯¹æ¯”

<span class="hljs-bullet">*</span> <span class="hljs-strong">**å›¾æ ‡é£æ ¼**</span>ï¼šç®€æ´çš„çº¿æ€§å›¾æ ‡ï¼Œé…åˆå“ç‰Œè‰²å½©

<span class="hljs-section">### 4.2 é¡µé¢è®¾è®¡æ¦‚è§ˆ</span>

| é¡µé¢åç§°    | æ¨¡å—åç§°   | UIå…ƒç´                            |
| ------- | ------ | ------------------------------ |
| é¦–é¡µ      | æ•…äº‹è¾“å…¥åŒºåŸŸ | ç™½è‰²èƒŒæ™¯çš„å¤§å‹æ–‡æœ¬æ¡†ï¼Œæ©™è‰²è¾¹æ¡†ï¼Œå­—æ•°è®¡æ•°å™¨ï¼Œç»¿è‰²æäº¤æŒ‰é’®   |
| é¦–é¡µ      | åˆ†æ”¯é€‰æ‹©åŒºåŸŸ | ä¸‰ä¸ªå¹¶æ’çš„å¡ç‰‡ï¼Œè“è‰²è¾¹æ¡†ï¼Œæ‚¬åœæ—¶æ©™è‰²é«˜äº®ï¼Œç²—ä½“æ ‡é¢˜      |
| é¦–é¡µ      | æ•…äº‹æ ‘å±•ç¤º  | æ·±ç°è‰²èƒŒæ™¯ï¼Œç™½è‰²è¿æ¥çº¿ï¼Œå½©è‰²èŠ‚ç‚¹ï¼ˆæ©™/ç»¿/è“ï¼‰ï¼Œå½“å‰èŠ‚ç‚¹é«˜äº® |
| é¦–é¡µ      | æƒ…èŠ‚å†…å®¹åŒº  | ç™½è‰²èƒŒæ™¯ï¼Œæ·±ç°è‰²æ–‡å­—ï¼Œç»¿è‰²è¾¹æ¡†ï¼Œæ»šåŠ¨æ¡æ ·å¼å®šåˆ¶        |
| é¦–é¡µ      | å¯¼èˆªæŒ‰é’®   | ç²—è¾¹æ¡†æŒ‰é’®ï¼Œä¸åŒåŠŸèƒ½ä½¿ç”¨ä¸åŒé¢œè‰²ï¼Œæ‚¬åœæ•ˆæœæ˜æ˜¾        |
| APIé…ç½®é¡µé¢ | é…ç½®è¡¨å•   | å±…ä¸­å¸ƒå±€ï¼Œç™½è‰²å¡ç‰‡ï¼Œæ©™è‰²è¾“å…¥æ¡†è¾¹æ¡†ï¼Œå¤§å‹ä¿å­˜æŒ‰é’®       |
| APIé…ç½®é¡µé¢ | çŠ¶æ€æ˜¾ç¤º   | å½©è‰²çŠ¶æ€æŒ‡ç¤ºå™¨ï¼ŒæˆåŠŸä¸ºç»¿è‰²ï¼Œé”™è¯¯ä¸ºæ©™è‰²ï¼Œæœªé…ç½®ä¸ºç°è‰²     |

<span class="hljs-section">### 4.3 å“åº”å¼è®¾è®¡</span>

äº§å“é‡‡ç”¨æ¡Œé¢ä¼˜å…ˆçš„å“åº”å¼è®¾è®¡ï¼š

<span class="hljs-bullet">*</span> <span class="hljs-strong">**æ¡Œé¢ç«¯ï¼ˆ1200px+ï¼‰**</span>ï¼šä¸‰æ å¸ƒå±€ï¼Œæ•…äº‹æ ‘ã€å†…å®¹åŒºã€åˆ†æ”¯é€‰æ‹©å¹¶æ’æ˜¾ç¤º

<span class="hljs-bullet">*</span> <span class="hljs-strong">**å¹³æ¿ç«¯ï¼ˆ768px-1199pxï¼‰**</span>ï¼šä¸¤æ å¸ƒå±€ï¼Œæ•…äº‹æ ‘æŠ˜å ä¸ºæŠ½å±‰å¼ï¼Œä¸»è¦æ˜¾ç¤ºå†…å®¹åŒºå’Œåˆ†æ”¯é€‰æ‹©

<span class="hljs-bullet">*</span> <span class="hljs-strong">**ç§»åŠ¨ç«¯ï¼ˆ&lt;768pxï¼‰**</span>ï¼šå•æ å¸ƒå±€ï¼Œå„æ¨¡å—å‚ç›´å †å ï¼Œä¼˜åŒ–è§¦æ‘¸äº¤äº’

<span class="hljs-bullet">*</span> <span class="hljs-strong">**äº¤äº’ä¼˜åŒ–**</span>ï¼šæ”¯æŒè§¦æ‘¸æ‰‹åŠ¿ï¼ŒæŒ‰é’®å°ºå¯¸é€‚é…ç§»åŠ¨ç«¯ï¼Œæ–‡å­—å¤§å°è‡ªé€‚åº”
</code></pre>
<p>æŠ€æœ¯æ¶æ„æ–‡æ¡£ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3dd36b9954a148b1b3f80b485fec76b7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=g0obzgxngGqra1aSQbMGOVLK%2BQY%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d56b97a8f35644e4a4cbb7582f951736~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=LM7Mi26pWljLPuPnnGl5O6mIJtM%3D" alt="" loading="lazy"/></p>
<pre><code class="hljs language-css" lang="css"># AIå°è¯´åˆ›ä½œå¹³å° - æŠ€æœ¯æ¶æ„æ–‡æ¡£

## <span class="hljs-number">1</span>. æ¶æ„è®¾è®¡

```mermaid
graph <span class="hljs-selector-tag">TD</span>
  <span class="hljs-selector-tag">A</span><span class="hljs-selector-attr">[ç”¨æˆ·æµè§ˆå™¨]</span> --&gt; <span class="hljs-selector-tag">B</span><span class="hljs-selector-attr">[Reactå‰ç«¯åº”ç”¨]</span>
  <span class="hljs-selector-tag">B</span> --&gt; C<span class="hljs-selector-attr">[GLM-4.6 API]</span>
  <span class="hljs-selector-tag">B</span> --&gt; D<span class="hljs-selector-attr">[LocalStorage]</span>

  subgraph "å‰ç«¯å±‚"
    <span class="hljs-selector-tag">B</span>
    D
  end

  subgraph "å¤–éƒ¨æœåŠ¡"
    C
  end
```

## <span class="hljs-number">2</span>. æŠ€æœ¯æè¿°

- **å‰ç«¯**: React@<span class="hljs-number">18</span> + TypeScript + Vite + TailwindCSS
- **çŠ¶æ€ç®¡ç†**: React Context + useReducer
- **HTTPå®¢æˆ·ç«¯**: Fetch API
- **æœ¬åœ°å­˜å‚¨**: LocalStorage API
- **å¤–éƒ¨æœåŠ¡**: GLM-<span class="hljs-number">4.6</span> API (æ™ºè°±AI)

## <span class="hljs-number">3</span>. è·¯ç”±å®šä¹‰

| è·¯ç”± | ç”¨é€” |
|------|-----|
| / | é¦–é¡µï¼Œæ•…äº‹åˆ›ä½œä¸»ç•Œé¢ï¼ŒåŒ…å«è¾“å…¥åŒºåŸŸã€åˆ†æ”¯é€‰æ‹©ã€æ•…äº‹æ ‘å±•ç¤º |
| /config | API Keyé…ç½®é¡µé¢ï¼Œç”¨äºè®¾ç½®å’Œç®¡ç†GLM-<span class="hljs-number">4.6</span>çš„APIå¯†é’¥ |

## <span class="hljs-number">4</span>. APIå®šä¹‰

### <span class="hljs-number">4.1</span> GLM-<span class="hljs-number">4.6</span> APIé›†æˆ

**ç”Ÿæˆæƒ…èŠ‚åˆ†æ”¯æ¦‚è§ˆ**
```
POST https://open.bigmodel.cn/api/paas/v4/chat/completions
```

è¯·æ±‚å‚æ•°:
| å‚æ•°åç§° | å‚æ•°ç±»å‹ | æ˜¯å¦å¿…éœ€ | æè¿° |
|---------|---------|---------|------|
| model | string | true | å›ºå®šå€¼ <span class="hljs-string">"glm-4.6"</span> |
| messages | array | true | å¯¹è¯æ¶ˆæ¯æ•°ç»„ï¼ŒåŒ…å«ç³»ç»Ÿæç¤ºå’Œç”¨æˆ·è¾“å…¥ |
| temperature | number | true | ç”Ÿæˆéšæœºæ€§ï¼Œè®¾ç½®ä¸º<span class="hljs-number">0.8</span>ä»¥ä¿è¯åˆ›æ„æ€§ |
| max_tokens | number | true | æœ€å¤§ç”Ÿæˆtokenæ•°ï¼Œåˆ†æ”¯æ¦‚è§ˆè®¾ç½®ä¸º<span class="hljs-number">200</span> |
| stream | boolean | true | æ˜¯å¦æµå¼è¾“å‡ºï¼Œè®¾ç½®ä¸ºfalse |

å“åº”å‚æ•°:
| å‚æ•°åç§° | å‚æ•°ç±»å‹ | æè¿° |
|---------|---------|------|
| choices | array | ç”Ÿæˆçš„å›å¤é€‰é¡¹æ•°ç»„ |
| choices[<span class="hljs-number">0</span>].message.content | string | ç”Ÿæˆçš„æ–‡æœ¬å†…å®¹ |

**ç”Ÿæˆè¯¦ç»†æƒ…èŠ‚å†…å®¹**
```
POST https://open.bigmodel.cn/api/paas/v4/chat/completions
```

è¯·æ±‚å‚æ•°:
| å‚æ•°åç§° | å‚æ•°ç±»å‹ | æ˜¯å¦å¿…éœ€ | æè¿° |
|---------|---------|---------|------|
| model | string | true | å›ºå®šå€¼ <span class="hljs-string">"glm-4.6"</span> |
| messages | array | true | åŒ…å«æ•…äº‹ä¸Šä¸‹æ–‡å’Œé€‰æ‹©åˆ†æ”¯çš„æ¶ˆæ¯æ•°ç»„ |
| temperature | number | true | ç”Ÿæˆéšæœºæ€§ï¼Œè®¾ç½®ä¸º<span class="hljs-number">0.7</span> |
| max_tokens | number | true | æœ€å¤§ç”Ÿæˆtokenæ•°ï¼Œè¯¦ç»†æƒ…èŠ‚è®¾ç½®ä¸º<span class="hljs-number">800</span> |
| stream | boolean | true | æ˜¯å¦æµå¼è¾“å‡ºï¼Œè®¾ç½®ä¸ºfalse |

ç¤ºä¾‹è¯·æ±‚:
```json
{
  "model": <span class="hljs-string">"glm-4.6"</span>,
  <span class="hljs-string">"messages"</span>: [
    {
      "role": <span class="hljs-string">"system"</span>,
      <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å°è¯´åˆ›ä½œåŠ©æ‰‹ï¼Œæ“…é•¿æ ¹æ®ç»™å®šçš„æ•…äº‹å¼€å¤´å’Œé€‰æ‹©çš„æƒ…èŠ‚æ–¹å‘åˆ›ä½œå¼•äººå…¥èƒœçš„è¯¦ç»†æƒ…èŠ‚ã€‚è¯·ç”Ÿæˆ300-500å­—çš„è¯¦ç»†æƒ…èŠ‚å†…å®¹ã€‚"</span>
    },
    {
      "role": <span class="hljs-string">"user"</span>,
      <span class="hljs-string">"content"</span>: <span class="hljs-string">"æ•…äº‹å¼€å¤´ï¼š[ç”¨æˆ·è¾“å…¥çš„å¼€å¤´] \né€‰æ‹©çš„æƒ…èŠ‚æ–¹å‘ï¼š[ç”¨æˆ·é€‰æ‹©çš„åˆ†æ”¯] \nè¯·åŸºäºä»¥ä¸Šå†…å®¹ç”Ÿæˆè¯¦ç»†çš„æƒ…èŠ‚å‘å±•ã€‚"</span>
    }
  ],
  "temperature": <span class="hljs-number">0.7</span>,
  <span class="hljs-string">"max_tokens"</span>: <span class="hljs-number">800</span>,
  <span class="hljs-string">"stream"</span>: false
}
```

### <span class="hljs-number">4.2</span> æœ¬åœ°å­˜å‚¨API

**API Keyç®¡ç†**
```typescript
// ä¿å­˜API Key
localStorage<span class="hljs-selector-class">.setItem</span>('glm_api_key', apiKey);

// è·å–API Key
const apiKey = localStorage<span class="hljs-selector-class">.getItem</span>('glm_api_key');

// åˆ é™¤API Key
localStorage<span class="hljs-selector-class">.removeItem</span>('glm_api_key');
```

**æ•…äº‹æ•°æ®ç¼“å­˜**
```typescript
// ä¿å­˜å½“å‰æ•…äº‹çŠ¶æ€
localStorage<span class="hljs-selector-class">.setItem</span>('current_story', JSON<span class="hljs-selector-class">.stringify</span>(storyData));

// è·å–æ•…äº‹çŠ¶æ€
const storyData = JSON<span class="hljs-selector-class">.parse</span>(localStorage<span class="hljs-selector-class">.getItem</span>('current_story') || '{}');
```

## <span class="hljs-number">5</span>. æ•°æ®æ¨¡å‹

### <span class="hljs-number">5.1</span> æ•°æ®æ¨¡å‹å®šä¹‰

```mermaid
erDiagram
  STORY ||<span class="hljs-attr">--o</span>{ STORY_NODE : contains
  STORY_NODE ||--o{ BRANCH_OPTION : has
  
  STORY {
    string id PK
    string title
    string initialContent
    date createdAt
    string currentNodeId
  }
  
  STORY_NODE {
    string id PK
    string storyId FK
    string parentNodeId FK
    string <span class="hljs-attribute">content</span>
    int level
    boolean isSelected
    date createdAt
  }
  
  BRANCH_OPTION {
    string id PK
    string nodeId FK
    string title
    string description
    boolean isSelected
    int <span class="hljs-attribute">order</span>
  }
```

### <span class="hljs-number">5.2</span> TypeScriptç±»å‹å®šä¹‰

```typescript
// æ•…äº‹åˆ†æ”¯é€‰é¡¹
interface BranchOption {
  id: string;
  title: string;
  description: string;
  isSelected: boolean;
  <span class="hljs-attribute">order</span>: number;
}

// æ•…äº‹èŠ‚ç‚¹
interface StoryNode {
  id: string;
  parentNodeId?: string;
  <span class="hljs-attribute">content</span>: string;
  level: number;
  isSelected: boolean;
  createdAt: Date;
  branches?: BranchOption[];
}

// å®Œæ•´æ•…äº‹æ•°æ®
interface Story {
  id: string;
  title: string;
  initialContent: string;
  nodes: StoryNode[];
  currentNodeId?: string;
  createdAt: Date;
}

// APIå“åº”ç±»å‹
interface GLMResponse {
  choices: Array&lt;{
    message: {
      <span class="hljs-attribute">content</span>: string;
      role: string;
    };
    finish_reason: string;
  }&gt;;
  usage: {
    prompt_tokens: number;
    completion_tokens: number;
    total_tokens: number;
  };
}

// åº”ç”¨çŠ¶æ€ç±»å‹
interface AppState {
  story: Story | null;
  isLoading: boolean;
  error: string | null;
  apiKey: string | null;
  currentStep: <span class="hljs-string">'input'</span> | <span class="hljs-string">'branches'</span> | <span class="hljs-string">'content'</span>;
}
```

## <span class="hljs-number">6</span>. ç»„ä»¶æ¶æ„

### <span class="hljs-number">6.1</span> ç»„ä»¶å±‚æ¬¡ç»“æ„

```mermaid
graph <span class="hljs-selector-tag">TD</span>
  <span class="hljs-selector-tag">A</span><span class="hljs-selector-attr">[App]</span> --&gt; <span class="hljs-selector-tag">B</span><span class="hljs-selector-attr">[Router]</span>
  <span class="hljs-selector-tag">B</span> --&gt; C<span class="hljs-selector-attr">[HomePage]</span>
  <span class="hljs-selector-tag">B</span> --&gt; D<span class="hljs-selector-attr">[ConfigPage]</span>
  
  C --&gt; E<span class="hljs-selector-attr">[StoryInput]</span>
  C --&gt; F<span class="hljs-selector-attr">[BranchSelector]</span>
  C --&gt; G<span class="hljs-selector-attr">[StoryTree]</span>
  C --&gt; H<span class="hljs-selector-attr">[ContentDisplay]</span>
  C --&gt; <span class="hljs-selector-tag">I</span><span class="hljs-selector-attr">[Navigation]</span>
  
  D --&gt; J<span class="hljs-selector-attr">[ApiKeyForm]</span>
  D --&gt; K<span class="hljs-selector-attr">[ConfigStatus]</span>
  
  subgraph "å…±äº«ç»„ä»¶"
    L<span class="hljs-selector-attr">[Button]</span>
    M<span class="hljs-selector-attr">[Loading]</span>
    N<span class="hljs-selector-attr">[ErrorMessage]</span>
    O<span class="hljs-selector-attr">[Modal]</span>
  end
```

### <span class="hljs-number">6.2</span> æ ¸å¿ƒç»„ä»¶è¯´æ˜

**StoryInputç»„ä»¶**
- åŠŸèƒ½ï¼šå¤„ç†ç”¨æˆ·æ•…äº‹å¼€å¤´è¾“å…¥
- Propsï¼šonSubmit, isLoading, maxLength
- çŠ¶æ€ï¼šinputValue, charCount, validation

**BranchSelectorç»„ä»¶**
- åŠŸèƒ½ï¼šå±•ç¤ºå’Œé€‰æ‹©æƒ…èŠ‚åˆ†æ”¯
- Propsï¼šbranches, onSelect, isLoading
- çŠ¶æ€ï¼šselectedBranch, hoverBranch

**StoryTreeç»„ä»¶**
- åŠŸèƒ½ï¼šæ ‘å½¢å±•ç¤ºæ•…äº‹å‘å±•è·¯å¾„
- Propsï¼šstory, currentNodeId, onNodeClick
- çŠ¶æ€ï¼šexpandedNodes, treeLayout

**ContentDisplayç»„ä»¶**
- åŠŸèƒ½ï¼šæ˜¾ç¤ºå½“å‰æƒ…èŠ‚å†…å®¹
- Propsï¼š<span class="hljs-attribute">content</span>, isLoading, onContinue
- çŠ¶æ€ï¼šdisplayText, animationState

**ApiKeyFormç»„ä»¶**
- åŠŸèƒ½ï¼šAPI Keyé…ç½®å’ŒéªŒè¯
- Propsï¼šonSave, initialValue
- çŠ¶æ€ï¼šapiKey, isValid, testResult

## <span class="hljs-number">7</span>. çŠ¶æ€ç®¡ç†

### <span class="hljs-number">7.1</span> Contextè®¾è®¡

```typescript
// æ•…äº‹çŠ¶æ€Context
const StoryContext = createContext&lt;{
  state: AppState;
  dispatch: Dispatch&lt;StoryAction&gt;;
}&gt;({} as any);

// é…ç½®çŠ¶æ€Context
const ConfigContext = createContext&lt;{
  apiKey: string | null;
  setApiKey: (key: string) =&gt; void;
  isConfigured: boolean;
}&gt;({} as any);
```

### <span class="hljs-number">7.2</span> çŠ¶æ€æ›´æ–°æµç¨‹

```mermaid
graph LR
  <span class="hljs-selector-tag">A</span><span class="hljs-selector-attr">[ç”¨æˆ·æ“ä½œ]</span> --&gt; <span class="hljs-selector-tag">B</span><span class="hljs-selector-attr">[Action Dispatch]</span>
  <span class="hljs-selector-tag">B</span> --&gt; C<span class="hljs-selector-attr">[Reducerå¤„ç†]</span>
  C --&gt; D<span class="hljs-selector-attr">[çŠ¶æ€æ›´æ–°]</span>
  D --&gt; E<span class="hljs-selector-attr">[ç»„ä»¶é‡æ¸²æŸ“]</span>
  E --&gt; F<span class="hljs-selector-attr">[UIæ›´æ–°]</span>
```

## <span class="hljs-number">8</span>. éƒ¨ç½²æ¶æ„

### <span class="hljs-number">8.1</span> æ„å»ºé…ç½®

- **æ„å»ºå·¥å…·**: Vite
- **è¾“å‡ºæ ¼å¼**: é™æ€HTML/CSS/JSæ–‡ä»¶
- **ä»£ç åˆ†å‰²**: è·¯ç”±çº§åˆ«çš„æ‡’åŠ è½½
- **èµ„æºä¼˜åŒ–**: å›¾ç‰‡å‹ç¼©ã€CSS/JSå‹ç¼©

### <span class="hljs-number">8.2</span> éƒ¨ç½²æ–¹æ¡ˆ

- **æ¨èéƒ¨ç½²**: Vercelã€Netlifyç­‰é™æ€æ‰˜ç®¡å¹³å°
- **å¤‡é€‰æ–¹æ¡ˆ**: GitHub Pagesã€äº‘æœåŠ¡å™¨é™æ€æ‰˜ç®¡
- **CDNåŠ é€Ÿ**: è‡ªåŠ¨é…ç½®ï¼Œæå‡å…¨çƒè®¿é—®é€Ÿåº¦
- **HTTPS**: é»˜è®¤æ”¯æŒï¼Œç¡®ä¿APIè°ƒç”¨å®‰å…¨
</code></pre>
<h4 data-id="heading-9">å¼€å‘è°ƒæ•´</h4>
<p>æ£€æŸ¥å®Œæ¯•å¼€å‘æ–‡æ¡£ï¼Œå‘ç°ç¡®å®æŒ‰ç…§è‡ªå·±æ‰€æƒ³çš„è¯ï¼Œå°±å¯ä»¥ç›´æ¥è®©Soloæ ¹æ®æ–‡æ¡£è¿›è¡Œå¼€å‘äº†ã€‚å¦‚æœæ–‡æ¡£æœ‰é—®é¢˜çš„è¯ï¼Œå¯ä»¥æ‰‹åŠ¨è¿›è¡Œè°ƒæ•´ï¼Œä¹Ÿå¯ä»¥è®©è¾“å…¥éœ€æ±‚Soloè¿›è¡Œè°ƒæ•´ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/efc62e52276443c4b0b84438f6a606a3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=x3KVlYv11yZf9JE8V4y8uWPc%2FRQ%3D" alt="" loading="lazy"/></p>
<p>Soloä¸ä»…ä¼šè‡ªåŠ¨å®šä¹‰éœ€è¦å®ç°çš„è¦ç‚¹å’Œä»»åŠ¡ï¼Œä¹Ÿä¼šåˆå§‹åŒ–é¡¹ç›®åŸºç¡€æ¶æ„ï¼ŒåŒ…æ‹¬ä¸‹è½½ä¾èµ–ï¼Œé…ç½®ç¯å¢ƒè¿™äº›ï¼ŒSoloç»Ÿç»Ÿç»™ä½ æ‰“åŒ…å®Œæˆï¼Œæ ¹æœ¬ä¸éœ€è¦è‡ªå·±æ“å¿ƒï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3eee090585514739b334833272599eca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=BQJpnQLUq0zZVs6dX4tzPzrAxDA%3D" alt="" loading="lazy"/></p>
<p>Soloä¼šä¸¥æ ¼æŒ‰ç…§è‡ªå·±æŒ‡å®šçš„ä»»åŠ¡è¿›è¡Œå®Œæˆï¼Œå¦‚æœæˆ‘ä»¬å†å¼€å‘çš„è¿‡ç¨‹ä¸­å‘ç°äº†Soloçš„æ–¹å‘ä¸å¯¹ï¼Œæˆ–è€…æœ‰éœ€è¦è¡¥å……çš„æ—¶å€™ï¼Œå¯ä»¥ç›´æ¥æ‰“æ–­Soloè¾“å…¥éœ€æ±‚ï¼Œå› ä¸ºSoloå®Œå…¨éµå®ˆä¸Šä¸‹æ–‡å·¥ç¨‹çš„ç†å¿µçš„ï¼Œä¸ç®¡ä»å“ªé‡Œå¼€å§‹ï¼Œä»–éƒ½ä¼šé¡¹ç›®ç›®å‰å„ä¸ªä¿¡æ¯æ•´åˆä¹‹åè¿›è¡Œå¼€å‘ï¼Œå®Œå…¨ä¸ç”¨æ‹…å¿ƒæ‰“æ–­ä¼šå¯¹Soloçš„å¼€å‘è¿›åº¦äº§ç”Ÿä»€ä¹ˆå½±å“ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c0ff31fbb894fbeb5288c3ae095ef2d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=V09D0CqvOxM2AiTtMI0HtMoUorE%3D" alt="" loading="lazy"/></p>
<p>å¼€å‘å®Œæ¯•ä¹‹åå¯ä»¥å†å†…ç½®æµè§ˆå…¶ä¸­è¿›è¡Œæ“ä½œæµ‹è¯•</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d7efb5c78f8b4db0a2f77c905b4efe75~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=WZjp%2BQhXU2%2BWPUwdarCNMbQEWfM%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/030785197e6244a7908d64d464289bb8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=UUpj6HRSDcw%2BdKlM1k%2FS8EZXF64%3D" alt="" loading="lazy"/></p>
<p>ä½†æ˜¯æˆ‘åœ¨æµ‹è¯•çš„è¿‡ç¨‹ä¸­å‘ç°ï¼Œåº”ç”¨åœ¨APIè°ƒç”¨å¤±è´¥çš„æ—¶å€™ä¼šä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼Œè¿™æ˜¯ç»å¯¹ä¸å…è®¸çš„ï¼Œé‚£ä¹ˆè¾“å…¥ä¸‹æ–¹æç¤ºè¯è®©Soloç»™æˆ‘æ”¹æˆå›æ¥ï¼</p>
<pre><code class="hljs language-vbnet" lang="vbnet">é¡¹ç›®ä¸­ç»å¯¹ä¸å…è®¸ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼Œå¿…é¡»æ˜¯AIç”Ÿæˆçš„æ•°æ®ï¼ŒAPIè°ƒç”¨å‚è€ƒï¼š
curl -X POST <span class="hljs-string">" https://open.bigmodel.cn/api/paas/v4/chat/completions "</span> \
-H <span class="hljs-string">"Content-Type: application/json"</span> \
-H <span class="hljs-string">"Authorization: Bearer your-api-key"</span> \
-d <span class="hljs-comment">'{</span>
<span class="hljs-string">"model"</span>: <span class="hljs-string">"glm-4.6"</span>,
<span class="hljs-string">"messages"</span>: [
{
<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>,
<span class="hljs-string">"content"</span>: <span class="hljs-string">"ä½œä¸ºä¸€åè¥é”€ä¸“å®¶ï¼Œè¯·ä¸ºæˆ‘çš„äº§å“åˆ›ä½œä¸€ä¸ªå¸å¼•äººçš„å£å·"</span>
},
{
<span class="hljs-string">"role"</span>: <span class="hljs-string">"assistant"</span>,
<span class="hljs-string">"content"</span>: <span class="hljs-string">"å½“ç„¶ï¼Œè¦åˆ›ä½œä¸€ä¸ªå¸å¼•äººçš„å£å·ï¼Œè¯·å‘Šè¯‰æˆ‘ä¸€äº›å…³äºæ‚¨äº§å“çš„ä¿¡æ¯"</span>
},
{
<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>,
<span class="hljs-string">"content"</span>: <span class="hljs-string">"æ™ºè°±AI å¼€æ”¾å¹³å°"</span>
}
],
<span class="hljs-string">"thinking"</span>: {
<span class="hljs-string">"type"</span>: <span class="hljs-string">"enabled"</span>
},
<span class="hljs-string">"max_tokens"</span>: <span class="hljs-number">65536</span>,
<span class="hljs-string">"temperature"</span>: <span class="hljs-number">1.0</span>
}<span class="hljs-comment">'</span>
</code></pre>
<p>é‚£ä¹ˆSoloåœ¨æ¥æ”¶åˆ°ä¿®æ”¹éœ€æ±‚ä¹‹åï¼Œè¿˜æ˜¯ä¸¥æ ¼æŒ‰ç…§å…ˆå®šä¹‰ä»»åŠ¡åˆ—è¡¨ï¼Œå°†å¤§ä»»åŠ¡æ‹†è§£æˆå°ä»»åŠ¡ä¸€é¡¹ä¸€é¡¹çš„å»å®Œæˆä»»åŠ¡è¿™ä¸ªç†å¿µï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d9c2abe870ed41979b4c7d362aa94044~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=pTLUtRyvGuLeIv6wxnkj6Akl%2B%2Fc%3D" alt="" loading="lazy"/></p>
<p>å¹¶ä¸”Soloåœ¨ä¿®æ”¹çš„è¿‡ç¨‹ä¸­è¿˜ä¼šè¿›è¡Œè‡ªæµ‹ï¼Œç¡®ä¿æˆ‘ä»¬æƒ³è¦çš„åŠŸèƒ½ç»™åˆ°æˆ‘ä»¬çš„æ—¶å€™æ˜¯å‡†å¤‡æ— è¯¯çš„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d870ee6fd789431da358605b887fce51~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=fwu4XwXQAT6WDFLpEnX5lNv9amQ%3D" alt="" loading="lazy"/></p>
<p>è¿™æ—¶å€™æˆ‘åˆå‘ç°ï¼Œåœ¨AIè°ƒç”¨çš„è¿‡ç¨‹ä¸­çš„è¶…æ—¶æ—¶é—´å¤ªçŸ­äº†ï¼Œå¯¼è‡´AIæŠ¥é”™ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥ç‚¹å‡»æ§åˆ¶å°ä¸­çš„æ—¥å¿—æŠ¥é”™ï¼Œæ·»åŠ åˆ°å¯¹è¯ä¸­ï¼Œå¹¶ç»™å‡ºå…·ä½“çš„éœ€æ±‚ï¼Œè¿™æ ·Soloå°±ä¼šå¸®æˆ‘ä»¬é’ˆå¯¹æ€§çš„è§£å†³æŠ¥é”™é—®é¢˜ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f58a0f040fa642498e77eb6ab97b2f3e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=48ttEARqR93DldNfmL8QKcPgHTY%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœé¡µé¢ä¸­è¿˜æœ‰ä»€ä¹ˆä¸æ»¡æ„çš„åœ°æ–¹ï¼Œä¹Ÿå¯ä»¥ç»§ç»­è®©Soloç»§ç»­æ”¹æ­£ï¼Œæ¯”å¦‚æˆ‘å‘ç°åœ¨ç”Ÿæˆæ–‡ç« åˆ†æ”¯çš„æ—¶å€™åªæ˜¯ä¸€å‘³çš„è½¬åœˆç­‰å¾…ï¼Œå¹¶æ²¡æœ‰è¿›åº¦æ¡æ˜¾ç¤ºï¼Œè¿™æ ·çš„è¯ç”¨æˆ·å°±ä¼šå¹²ç­‰ç€ï¼Œä¼šè®©ç”¨æˆ·ä½“éªŒæ„Ÿä¸‹é™ï¼Œæˆ‘ä»¬å°±å¯ä»¥è·ŸSoloè¯´è®©ä»–åŠ ä¸ŠåŠ¨æ€æ•ˆæœçš„è¿›åº¦æ¡ï¼Œè®©ç”¨æˆ·çŸ¥é“æˆ‘ä»¬åå°æ­£åœ¨æŒç»­ä¸æ–­çš„è¿è¡Œä¸­~</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5601d4a9f87249399da41ceafa732177~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=sQO3ouHhUbOu6saz8R6V9Erfvf4%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-10">éƒ¨ç½²å±•ç¤º</h3>
<p>æ‰€æœ‰çš„åŠŸèƒ½éƒ½æŒ‰ç…§è‡ªå·±çš„æƒ³æ³•å¼€å‘å®Œæ¯•ä¹‹åï¼Œå°±å¯ä»¥è¿›å…¥åˆ°éƒ¨ç½²é˜¶æ®µã€‚åœ¨ Trae Solo ä¸­ï¼ŒVercel è¢«æ·±åº¦é›†æˆä½œä¸ºé»˜è®¤çš„å‰ç«¯éƒ¨ç½²ä¸æ‰˜ç®¡å¹³å°ï¼Œæå¤§ç®€åŒ–äº†ä»å¼€å‘åˆ°ä¸Šçº¿çš„å…¨æµç¨‹ã€‚å¼€å‘è€…åªéœ€åœ¨ Trae Solo é¡¹ç›®ä¸­å®ŒæˆåŸºç¡€é…ç½®ï¼ˆå¦‚æ¡†æ¶ç±»å‹ã€æ„å»ºå‘½ä»¤ç­‰ï¼‰ï¼Œå³å¯é€šè¿‡å†…ç½®çš„ â€œDeploy to Vercelâ€ ä¸€é”®å‘å¸ƒåŠŸèƒ½ï¼Œå°† Reactã€Next.js ç­‰ç°ä»£å‰ç«¯åº”ç”¨å¿«é€Ÿéƒ¨ç½²è‡³å…¨çƒ CDN ç½‘ç»œã€‚Vercel æä¾›çš„è‡ªåŠ¨ HTTPSã€è¾¹ç¼˜å‡½æ•°æ”¯æŒã€é¢„è§ˆéƒ¨ç½²ï¼ˆPreview Deploymentsï¼‰ä»¥åŠç¯å¢ƒå˜é‡ç®¡ç†ï¼Œä¸ Trae Solo çš„ AI è¾…åŠ©å¼€å‘ç†å¿µé«˜åº¦å¥‘åˆâ€”â€”ä¸ä»…åŠ é€Ÿäº†è¿­ä»£é€Ÿåº¦ï¼Œè¿˜ç¡®ä¿äº†ç”Ÿäº§ç¯å¢ƒçš„ç¨³å®šæ€§ä¸å®‰å…¨æ€§ã€‚æ­¤å¤–ï¼ŒVercel çš„æ— ç¼ Git é›†æˆï¼ˆæ”¯æŒ GitHubã€GitLab ç­‰ï¼‰ä½¿å¾—æ¯æ¬¡ä»£ç æ¨é€éƒ½èƒ½è‡ªåŠ¨è§¦å‘æ„å»ºä¸éƒ¨ç½²ï¼ŒçœŸæ­£å®ç°â€œå†™å®Œå³ä¸Šçº¿â€ã€‚å¯¹äºåƒ AI å°è¯´åˆ›ä½œå¹³å°è¿™ç±»è½»é‡çº§ã€é™æ€ä¼˜å…ˆçš„åº”ç”¨ï¼ŒVercel çš„å…è´¹å¥—é¤å·²å®Œå…¨æ»¡è¶³éœ€æ±‚ï¼Œæ˜¯ Trae Solo æ¨èçš„é«˜æ•ˆã€å¯é éƒ¨ç½²æ–¹æ¡ˆã€‚Trae Solo</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/85004701916a48bea6f195810bc5a991~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=MePdHAsRasoqVnhkogWsW9YHuGE%3D" alt="" loading="lazy"/></p>
<p>åœ¨Soloä¸­åªéœ€ä¸€å¥è¯å³å¯å®Œæˆéƒ¨ç½²ï¼Œè€Œä¸”æ•´ä¸ªè¿‡ç¨‹æ˜¯å®Œå…¨è‡ªåŠ¨çš„ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6656e6d77a284d51aa36eba00fb3dfd6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=ckOv4zl3IAJRqDXmIeOf4H4Gn7w%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7fb9fb1f4fe4d698d3d542004cdb189~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=FqDowsnxm9R1RtbSYemf1LAn5yc%3D" alt="" loading="lazy"/></p>
<p>å¹¶ä¸”è¿™æ—¶å€™å¯ä»¥å†vercelçš„é¡¹ç›®ç®¡ç†ä¸­çœ‹åˆ°é¡¹ç›®çš„è¿è¡ŒçŠ¶æ€ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4bca077e983a4af4ac8efde37ccb3497~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=2eO%2BcvVHEcCwAS8jPmF%2BjunwsTA%3D" alt="" loading="lazy"/></p>
<p>é€šè¿‡é¡¹ç›®é“¾æ¥ç›´æ¥è¿›å…¥åˆ°é¡¹ç›®ä¸­ï¼Œåœ¨è¿›å…¥é¡¹ç›®ä¹‹å‰éœ€è¦é…ç½®ä¸€ä¸‹æ™ºè°±çš„API KEYï¼Œè¿™ä¸ªæ“ä½œåœ¨å‰æ–‡ä¹Ÿæåˆ°è¿‡ï¼Œè¿™é‡Œä¸è¿‡å¤šèµ˜è¿°ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/df97f33926014518aa8df03457166770~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=nX9jTdwL%2BhQXl7pM8d8sQzHjCUc%3D" alt="" loading="lazy"/></p>
<p>è¾“å…¥API KEYä¹‹åï¼Œç‚¹å‡»æµ‹è¯•é…ç½®ï¼Œæ£€éªŒAPI KEYæ˜¯å¦æ­£ç¡®ï¼Œæˆ–è€…è´¦æˆ·ä½™é¢æ˜¯å¦å……è¶³ï¼Œæµ‹è¯•å®Œæ¯•ä¹‹åå³å¯ä¿å­˜è®¾ç½®</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7457fc1c0ad8414a951faba9a9689086~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=zrzARiVds1Xt2hrgPUdM9HI%2BSws%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4566a0a4e4a748d3b8978b4a7038efb0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=NDcm64SYINwJvMltxKip6VeKAlo%3D" alt="" loading="lazy"/></p>
<p>é…ç½®å®Œæ¯•ä¹‹åï¼Œå³å¯å¼€å¯æ•…äº‹åˆ›ä½œï¼Œé‚£ä¹ˆéœ€è¦è‡ªå·±å…ˆæ‹Ÿå®šä¸€ä¸ªæ•…äº‹æ ‡é¢˜ï¼Œå’Œæ•…äº‹çš„å¼€å¤´ï¼Œç„¶åç‚¹å‡»ç”Ÿæˆæ•…äº‹åˆ†æ”¯</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ab4b19c05bf40278bca9ae2621d2e1a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=HUt%2FVggabUrjgXPGbnywCMpT8c8%3D" alt="" loading="lazy"/></p>
<p>ç‚¹å‡»ä¹‹åä¼šå…ˆè®²å½“å‰æ“ä½œçš„å†…å®¹ä¿å­˜åˆ°åˆ›ä½œæ ‘ä¸­</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/edd8c60f67644a2d81dae4c03d7c5a29~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=lJTWbRi4CwUSPumiMMS6pEYbYW8%3D" alt="" loading="lazy"/></p>
<p>ç„¶åå›åˆ°é¦–é¡µç‚¹å‡»ç”Ÿæˆæ–°åˆ†æ”¯</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cd5fc87770f342ce96687ea5d9c19fe9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=UQ6jmbHaP%2F4B82JVVTPxzky5VuU%3D" alt="" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°è¿›åº¦é‡å®æ—¶å±•ç¤ºç€åˆ›ä½œçš„è¿›åº¦</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/961031dfe4694110a12a142074894456~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=WV2ZidW6Mg7UTBoQgV57ty2AqkM%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/231842353d524b5caeede14be8ac8c6e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=SD9qDNxvRcQFmCVH033433XNcHg%3D" alt="" loading="lazy"/></p>
<p>ä¸ä¸€ä¼šå„¿å°±ç”Ÿæˆå‡ºä¸‰ä¸ªä¸åŒçš„æ•…äº‹åˆ†æ”¯</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/006c48a2686f4cde86f426aa52ea908e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=sErmTbbOcHD7oLb%2BKer%2FNP3Yx2c%3D" alt="" loading="lazy"/></p>
<p>è¿™é‡Œæˆ‘ä»¬é€‰æ‹©ä»»ä¸€ä¸€ä¸ªæ•…äº‹åˆ†æ”¯ï¼Œç‚¹å‡»ç”Ÿæˆåˆ†æ”¯çš„è¯¦ç»†å†…å®¹</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4e55d13289204f6fbe6fb1f033fa3e4c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=YAZMySR9aKYzNRks7ln0CWj3qOE%3D" alt="" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ç”Ÿæˆçš„è¯¦ç»†å†…å®¹ï¼Œå¯ä»¥è¯´æ˜¯å¾ˆæœ‰åˆ›æ„æ€§äº†</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f1aa2367abd2406487d21b039e38c786~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=3bO6jIeWC7GG7697Sl%2B5Y5tZi%2BY%3D" alt="" loading="lazy"/></p>
<p>è¿™æ—¶å€™å†å›åˆ°åˆ›ä½œæ ‘ä¸­ï¼Œå¯ä»¥çœ‹åˆ°åˆšåˆšé€‰æ‹©çš„åˆ†æ”¯ä»¥åŠè¯¦æƒ…ï¼Œè¿™æ ·ä¸ç®¡åˆ›ä½œå¤šä¹…ä¹Ÿå¯ä»¥è¿”å›çœ‹åˆ°è‡ªå·±çš„åˆ›ä½œå†ç¨‹</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1fb147e3465a4a53b4bdea0e14bcf421~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=aIsT3PiP6DmK8%2F9fdHgSvhH3OVQ%3D" alt="" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥å°±æ˜¯ä¸æ–­é‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œä¸€éåˆä¸€éé€‰æ‹©æ–°çš„åˆ†æ”¯ï¼Œæ¢ç´¢ä¸åŒåˆ†æ”¯å¸¦æ¥çš„ä¸åŒç»“æœï¼Œæœ€åå½¢æˆä¸€ç¯‡å°è¯´</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3eb9c484e7d14f5199f32c668c6deba2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=sTntICxJeY3JKTGZSOBb56BDz78%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»æµ‹è¯•åˆ°éƒ¨ç½²ï¼šåŸºäºTRAE SOLOæ„å»ºAIåº”ç”¨çš„è´¨é‡é—¨ç¦æµæ°´çº¿]]></title>    <link>https://juejin.cn/post/7572836557143375872</link>    <guid>https://juejin.cn/post/7572836557143375872</guid>    <pubDate>2025-11-17T03:44:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572836557143375872" data-draft-id="7572844326390267938" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»æµ‹è¯•åˆ°éƒ¨ç½²ï¼šåŸºäºTRAE SOLOæ„å»ºAIåº”ç”¨çš„è´¨é‡é—¨ç¦æµæ°´çº¿"/> <meta itemprop="keywords" content="Trae"/> <meta itemprop="datePublished" content="2025-11-17T03:44:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="éƒåŒå­¦çš„æµ‹å¼€ç¬”è®°"/> <meta itemprop="url" content="https://juejin.cn/user/84028728031976"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»æµ‹è¯•åˆ°éƒ¨ç½²ï¼šåŸºäºTRAE SOLOæ„å»ºAIåº”ç”¨çš„è´¨é‡é—¨ç¦æµæ°´çº¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/84028728031976/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    éƒåŒå­¦çš„æµ‹å¼€ç¬”è®°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T03:44:31.000Z" title="Mon Nov 17 2025 03:44:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€ï»¿<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A63342%2Fyundi-java%2Fpreview%2F%25E4%25BB%258E%25E6%25B5%258B%25E8%25AF%2595%25E5%2588%25B0%25E9%2583%25A8%25E7%25BD%25B2-%25E5%259F%25BA%25E4%25BA%258Etrae-solo%25E6%259E%2584%25E5%25BB%25BAai%25E5%25BA%2594%25E7%2594%25A8%25E7%259A%2584%25E8%25B4%25A8%25E9%2587%258F%25E9%2597%25A8%25E7%25A6%2581%25E6%25B5%2581%25E6%25B0%25B4%25E7%25BA%25BF.html%23scw38g_3" target="_blank" title="http://localhost:63342/yundi-java/preview/%E4%BB%8E%E6%B5%8B%E8%AF%95%E5%88%B0%E9%83%A8%E7%BD%B2-%E5%9F%BA%E4%BA%8Etrae-solo%E6%9E%84%E5%BB%BAai%E5%BA%94%E7%94%A8%E7%9A%84%E8%B4%A8%E9%87%8F%E9%97%A8%E7%A6%81%E6%B5%81%E6%B0%B4%E7%BA%BF.html#scw38g_3" ref="nofollow noopener noreferrer"/></h2>
<p>å½“AIåº”ç”¨ä¸€å¤´æ’ä¸Šè´¨é‡ä¿éšœï¼Œè¿™ä¸­é—´çš„â€œå‘â€æˆ‘å¯å¤ªç†Ÿäº†ã€‚ åšæµ‹è¯•å¼€å‘è¿™ä¹ˆå¤šå¹´ï¼Œçœ¼çœ‹ç€åº”ç”¨å¼€å‘ä»è€å¥—è·¯ä¸€è·¯ç‹‚å¥”åˆ°AIé©±åŠ¨ï¼Œä½†è¯´å®è¯ï¼Œè´¨é‡ä¿éšœè¿™ä¸€å—ï¼Œæœ‰ç‚¹è·Ÿä¸ä¸Šäº†ã€‚</p>
<p>ç°åœ¨ç”¨<code>TRAE SOLO</code>è¿™æ ·çš„å·¥å…·ï¼Œéšæ‰‹å°±èƒ½æ­ä¸ªå¸¦å¤§æ¨¡å‹çš„åº”ç”¨demoï¼Œå¿«æ˜¯çœŸå¿«ã€‚ ä½†åŸå‹è·‘èµ·æ¥ä¹‹åå‘¢ï¼Ÿæ€ä¹ˆä¿è¯å®ƒè¿­ä»£ä¸å´©ï¼Ÿä¸Šçº¿ä¹‹åæ€ä¹ˆçŸ¥é“å®ƒåˆ°åº•ç¨³ä¸ç¨³ï¼Ÿè¿™äº›é—®é¢˜æˆä¸ºäº†æ–°çš„æŒ‘æˆ˜ã€‚ æœ¬æ–‡å°†ä»¥ä¸€ä¸ªçœŸå®çš„â€œæ™ºèƒ½é—®ç­”APIâ€ä¸ºä¾‹ï¼Œåˆ†äº«æ˜¯å¦‚ä½•åˆ©ç”¨<code>TRAE SOLO</code>ä¸ºæ ¸å¿ƒï¼Œç»“åˆ<code>Python</code>æµ‹è¯•æ¡†æ¶å’Œ<code>Kubernetes</code>ç¯å¢ƒï¼Œæ­å»ºä¸€å¥—è´¯ç©¿å¼€å‘ã€æµ‹è¯•ã€éƒ¨ç½²å…¨æµç¨‹çš„AIåº”ç”¨è´¨é‡é—¨ç¦æµæ°´çº¿ï¼Œä¸ºAIåº”ç”¨çš„å¯é è½åœ°ä¿é©¾æŠ¤èˆªã€‚</p>
<h2 data-id="heading-1">æ¡ˆä¾‹èƒŒæ™¯ï»¿<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A63342%2Fyundi-java%2Fpreview%2F%25E4%25BB%258E%25E6%25B5%258B%25E8%25AF%2595%25E5%2588%25B0%25E9%2583%25A8%25E7%25BD%25B2-%25E5%259F%25BA%25E4%25BA%258Etrae-solo%25E6%259E%2584%25E5%25BB%25BAai%25E5%25BA%2594%25E7%2594%25A8%25E7%259A%2584%25E8%25B4%25A8%25E9%2587%258F%25E9%2597%25A8%25E7%25A6%2581%25E6%25B5%2581%25E6%25B0%25B4%25E7%25BA%25BF.html%23scw38g_4" target="_blank" title="http://localhost:63342/yundi-java/preview/%E4%BB%8E%E6%B5%8B%E8%AF%95%E5%88%B0%E9%83%A8%E7%BD%B2-%E5%9F%BA%E4%BA%8Etrae-solo%E6%9E%84%E5%BB%BAai%E5%BA%94%E7%94%A8%E7%9A%84%E8%B4%A8%E9%87%8F%E9%97%A8%E7%A6%81%E6%B5%81%E6%B0%B4%E7%BA%BF.html#scw38g_4" ref="nofollow noopener noreferrer"/></h2>
<p>ç›®æ ‡æ˜¯å¿«é€Ÿæ„å»ºä¸€ä¸ªç®€å•çš„æ™ºèƒ½é—®ç­”æœåŠ¡ã€‚åˆ©ç”¨<code>TRAE SOLO</code>çš„SOLO coderåŠŸèƒ½ï¼Œæˆ‘ä»¬é€šè¿‡è‡ªç„¶è¯­è¨€æŒ‡ä»¤ç”Ÿæˆäº†åº”ç”¨çš„æ ¸å¿ƒä»£ç æ¡†æ¶ã€‚</p>
<p>å‘<code>SOLO coder</code>å‘å‡ºçš„æŒ‡ä»¤ï¼š</p>
<blockquote>
<h3 data-id="heading-2"/>
<p>â€œç”Ÿæˆä¸€ä¸ªåŸºäºFastAPIçš„æ™ºèƒ½é—®ç­”æ¥å£ã€‚å®ƒéœ€è¦æ¥æ”¶ç”¨æˆ·é—®é¢˜ï¼Œè°ƒç”¨OpenAIå…¼å®¹çš„APIï¼Œå¹¶è¿”å›ç­”æ¡ˆã€‚åŒæ—¶ï¼Œè¯·ç”Ÿæˆä¸€ä¸ªå¯¹åº”çš„Dockerfileã€‚â€</p>
</blockquote>
<p><code>TRAE SOLO</code>çš„äº§å‡ºï¼š</p>
<ol>
<li><code>app.py</code>: ä¸€ä¸ªå®Œæ•´çš„<code>FastAPI</code>åº”ç”¨ä»£ç ï¼ŒåŒ…å«<code>/ask</code>ç«¯ç‚¹ã€‚</li>
<li><code>requirements.txt</code>: é¡¹ç›®ä¾èµ–æ–‡ä»¶ã€‚</li>
<li><code>Dockerfile</code>: ç”¨äºå®¹å™¨åŒ–çš„<code>Dockerfile</code>ã€‚</li>
</ol>
<p>æ€»ç»“ï¼šÂ <code>TRAE SOLO</code>åœ¨å‡ åˆ†é’Ÿå†…å®Œæˆäº†ä»éœ€æ±‚åˆ°åŸºç¡€ä»£ç çš„è½¬æ¢ï¼Œå®ç°äº†æƒŠäººçš„å¼€å‘æ•ˆç‡æå‡ã€‚</p>
<h2 data-id="heading-3">å®æˆ˜ï»¿<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A63342%2Fyundi-java%2Fpreview%2F%25E4%25BB%258E%25E6%25B5%258B%25E8%25AF%2595%25E5%2588%25B0%25E9%2583%25A8%25E7%25BD%25B2-%25E5%259F%25BA%25E4%25BA%258Etrae-solo%25E6%259E%2584%25E5%25BB%25BAai%25E5%25BA%2594%25E7%2594%25A8%25E7%259A%2584%25E8%25B4%25A8%25E9%2587%258F%25E9%2597%25A8%25E7%25A6%2581%25E6%25B5%2581%25E6%25B0%25B4%25E7%25BA%25BF.html%23scw38g_5" target="_blank" title="http://localhost:63342/yundi-java/preview/%E4%BB%8E%E6%B5%8B%E8%AF%95%E5%88%B0%E9%83%A8%E7%BD%B2-%E5%9F%BA%E4%BA%8Etrae-solo%E6%9E%84%E5%BB%BAai%E5%BA%94%E7%94%A8%E7%9A%84%E8%B4%A8%E9%87%8F%E9%97%A8%E7%A6%81%E6%B5%81%E6%B0%B4%E7%BA%BF.html#scw38g_5" ref="nofollow noopener noreferrer"/></h2>
<p>å°½ç®¡<code>TRAE SOLO</code>ç”Ÿæˆçš„ä»£ç å¯ç”¨ï¼Œä½†ç›´æ¥æŠ•å…¥ç”Ÿäº§å­˜åœ¨é£é™©ã€‚æˆ‘ä»¬éœ€è¦è¿›ä¸€æ­¥æ”¹è¿›å®¡æŸ¥ã€‚</p>
<h3 data-id="heading-4">æ­¥éª¤ä¸€ï¼šä»£ç å®¡æŸ¥ä¸å·¥ç¨‹åŒ–åŠ å›ºï»¿<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A63342%2Fyundi-java%2Fpreview%2F%25E4%25BB%258E%25E6%25B5%258B%25E8%25AF%2595%25E5%2588%25B0%25E9%2583%25A8%25E7%25BD%25B2-%25E5%259F%25BA%25E4%25BA%258Etrae-solo%25E6%259E%2584%25E5%25BB%25BAai%25E5%25BA%2594%25E7%2594%25A8%25E7%259A%2584%25E8%25B4%25A8%25E9%2587%258F%25E9%2597%25A8%25E7%25A6%2581%25E6%25B5%2581%25E6%25B0%25B4%25E7%25BA%25BF.html%23scw38g_38" target="_blank" title="http://localhost:63342/yundi-java/preview/%E4%BB%8E%E6%B5%8B%E8%AF%95%E5%88%B0%E9%83%A8%E7%BD%B2-%E5%9F%BA%E4%BA%8Etrae-solo%E6%9E%84%E5%BB%BAai%E5%BA%94%E7%94%A8%E7%9A%84%E8%B4%A8%E9%87%8F%E9%97%A8%E7%A6%81%E6%B5%81%E6%B0%B4%E7%BA%BF.html#scw38g_38" ref="nofollow noopener noreferrer"/></h3>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬å¯¹AIç”Ÿæˆçš„ä»£ç è¿›è¡Œâ€œäººå·¥å®¡æŸ¥â€å’ŒåŠ å›ºï¼Œè¿™æ˜¯è´¨é‡çš„ç¬¬ä¸€é“é˜²çº¿ã€‚</p>
<ol>
<li>å®‰å…¨åŠ å›ºÂ ï¼šæ£€æŸ¥å‘ç°ï¼ŒAPIå¯†é’¥åœ¨ä»£ç ä¸­ä¸ºç¡¬ç¼–ç ã€‚æˆ‘ä»¬å°†å…¶æ”¹ä¸ºä»ç¯å¢ƒå˜é‡è¯»å–ï¼Œå¹¶è®¡åˆ’ä½¿ç”¨k8sçš„Secretç®¡ç†ã€‚</li>
<li>å¥å£®æ€§åŠ å›ºÂ ï¼šä¸ºAPIæ·»åŠ äº†æ›´å®Œå–„çš„å¼‚å¸¸å¤„ç†ï¼ŒåŒ…æ‹¬ç½‘ç»œè¶…æ—¶ã€æ¨¡å‹APIé™æµç­‰ã€‚</li>
<li>åˆ©ç”¨<code>DiffView</code>å±•ç¤ºä¼˜åŒ–Â ï¼šæˆ‘ä»¬ä½¿ç”¨<code>TRAE SOLO</code>çš„DiffViewåŠŸèƒ½ï¼Œå°†åŸå§‹ç”Ÿæˆçš„ä»£ç ä¸ä¼˜åŒ–åçš„ä»£ç è¿›è¡Œå¯¹æ¯”ï¼Œæ¸…æ™°åœ°å±•ç¤ºäº†æˆ‘ä»¬çš„æ”¹è¿›ç‚¹ã€‚</li>
</ol>
<h3 data-id="heading-5">æ­¥éª¤äºŒï¼šç”Ÿæˆä¸ä¼˜åŒ–è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬ï»¿<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A63342%2Fyundi-java%2Fpreview%2F%25E4%25BB%258E%25E6%25B5%258B%25E8%25AF%2595%25E5%2588%25B0%25E9%2583%25A8%25E7%25BD%25B2-%25E5%259F%25BA%25E4%25BA%258Etrae-solo%25E6%259E%2584%25E5%25BB%25BAai%25E5%25BA%2594%25E7%2594%25A8%25E7%259A%2584%25E8%25B4%25A8%25E9%2587%258F%25E9%2597%25A8%25E7%25A6%2581%25E6%25B5%2581%25E6%25B0%25B4%25E7%25BA%25BF.html%23scw38g_39" target="_blank" title="http://localhost:63342/yundi-java/preview/%E4%BB%8E%E6%B5%8B%E8%AF%95%E5%88%B0%E9%83%A8%E7%BD%B2-%E5%9F%BA%E4%BA%8Etrae-solo%E6%9E%84%E5%BB%BAai%E5%BA%94%E7%94%A8%E7%9A%84%E8%B4%A8%E9%87%8F%E9%97%A8%E7%A6%81%E6%B5%81%E6%B0%B4%E7%BA%BF.html#scw38g_39" ref="nofollow noopener noreferrer"/></h3>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†æ¬¡è¯·å‡º<code>SOLO coder</code>Â ï¼Œè®©å®ƒä¸ºæˆ‘ä»¬çš„APIç”Ÿæˆæµ‹è¯•ä»£ç ã€‚</p>
<p>å‘<code>SOLO coder</code>å‘å‡ºçš„æŒ‡ä»¤ï¼š</p>
<blockquote>
<h3 data-id="heading-6"/>
<p>â€œä¸ºä¸Šé¢çš„FastAPIæ™ºèƒ½é—®ç­”æ¥å£ç”ŸæˆPytestå•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•è„šæœ¬ã€‚æµ‹è¯•éœ€è¦æ¨¡æ‹Ÿå¯¹<code>/ask</code>ç«¯ç‚¹çš„è¯·æ±‚ï¼Œå¹¶éªŒè¯è¿”å›ç»“æ„ã€‚â€</p>
</blockquote>
<p>ç”Ÿæˆåï¼Œæˆ‘ä»¬è¿›è¡Œäº†å…³é”®ä¼˜åŒ–ï¼š</p>
<ul>
<li>ä½¿ç”¨<code>pytest-fixture</code>Â ï¼šä¼˜åŒ–äº†æµ‹è¯•èµ„æºçš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚</li>
<li>å¼•å…¥<code>responses</code>åº“Â ï¼šç²¾ç¡®æ¨¡æ‹Ÿå¯¹ä¸Šæ¸¸å¤§æ¨¡å‹APIçš„è°ƒç”¨ï¼Œå®ç°çœŸæ­£çš„å•å…ƒæµ‹è¯•ï¼Œé¿å…ç½‘ç»œä¾èµ–ã€‚</li>
<li>æ·»åŠ æ€§èƒ½åŸºçº¿æµ‹è¯•Â ï¼šåˆ©ç”¨<code>pytest-benchmark</code>ç®€å•æµ‹è¯•æ¥å£å“åº”æ—¶é—´ï¼Œä¸ºåç»­æ€§èƒ½å›å½’åšå‡†å¤‡ã€‚</li>
</ul>
<p>ä¼˜åŒ–åçš„æµ‹è¯•ç‰‡æ®µç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> pytest
<span class="hljs-keyword">from</span> app <span class="hljs-keyword">import</span> app
<span class="hljs-keyword">from</span> fastapi.testclient <span class="hljs-keyword">import</span> TestClient

<span class="hljs-meta">@pytest.fixture</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">client</span>():
    <span class="hljs-keyword">return</span> TestClient(app)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">test_ask_endpoint</span>(<span class="hljs-params">client</span>):
    <span class="hljs-comment"># ä½¿ç”¨responsesåº“æ¨¡æ‹Ÿæ¨¡å‹APIè¿”å›</span>
    <span class="hljs-keyword">with</span> responses.RequestsMock() <span class="hljs-keyword">as</span> rsps:
        rsps.add(
            rsps.POST,
            <span class="hljs-string">"https://your-aoai-endpoint.openai.azure.com/"</span>,
            json={<span class="hljs-string">"choices"</span>: [{<span class="hljs-string">"message"</span>: {<span class="hljs-string">"content"</span>: <span class="hljs-string">"è¿™æ˜¯æ¨¡æ‹Ÿå›ç­”ã€‚"</span>}}]},
            status=<span class="hljs-number">200</span>
        )
        response = client.post(<span class="hljs-string">"/ask"</span>, json={<span class="hljs-string">"question"</span>: <span class="hljs-string">"ä½ å¥½å—ï¼Ÿ"</span>})
    <span class="hljs-keyword">assert</span> response.status_code == <span class="hljs-number">200</span>
    <span class="hljs-keyword">assert</span> <span class="hljs-string">"answer"</span> <span class="hljs-keyword">in</span> response.json()
</code></pre>
<h3 data-id="heading-7">æ­¥éª¤ä¸‰ï¼šæ³¨å…¥å¯è§‚æµ‹æ€§ï¼Œè®©AIåº”ç”¨â€œé€æ˜åŒ–â€ï»¿<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A63342%2Fyundi-java%2Fpreview%2F%25E4%25BB%258E%25E6%25B5%258B%25E8%25AF%2595%25E5%2588%25B0%25E9%2583%25A8%25E7%25BD%25B2-%25E5%259F%25BA%25E4%25BA%258Etrae-solo%25E6%259E%2584%25E5%25BB%25BAai%25E5%25BA%2594%25E7%2594%25A8%25E7%259A%2584%25E8%25B4%25A8%25E9%2587%258F%25E9%2597%25A8%25E7%25A6%2581%25E6%25B5%2581%25E6%25B0%25B4%25E7%25BA%25BF.html%23ai" target="_blank" title="http://localhost:63342/yundi-java/preview/%E4%BB%8E%E6%B5%8B%E8%AF%95%E5%88%B0%E9%83%A8%E7%BD%B2-%E5%9F%BA%E4%BA%8Etrae-solo%E6%9E%84%E5%BB%BAai%E5%BA%94%E7%94%A8%E7%9A%84%E8%B4%A8%E9%87%8F%E9%97%A8%E7%A6%81%E6%B5%81%E6%B0%B4%E7%BA%BF.html#ai" ref="nofollow noopener noreferrer"/></h3>
<p>AIåº”ç”¨çš„ç‰¹æ®Šæ€§åœ¨äºï¼Œå…¶æ ¸å¿ƒé€»è¾‘ä¾èµ–äºå¤–éƒ¨é»‘ç›’æ¨¡å‹ã€‚å› æ­¤ï¼Œå¯è§‚æµ‹æ€§è‡³å…³é‡è¦ã€‚æˆ‘ä»¬ä¸ºåº”ç”¨æ·»åŠ äº†è‡ªå®šä¹‰æŒ‡æ ‡ï¼š</p>
<ol>
<li>
<p>ä½¿ç”¨<code>prometheus-client</code>åº“Â ï¼šåœ¨APIä¸­åŸ‹ç‚¹ï¼Œè®°å½•ï¼š</p>
<ul>
<li><code>ai_api_requests_total</code>Â ï¼šè¯·æ±‚æ€»æ•°ã€‚</li>
<li><code>ai_api_request_duration_seconds</code>Â ï¼šè¯·æ±‚è€—æ—¶ã€‚</li>
<li><code>ai_model_tokens_used</code>Â ï¼šæ¶ˆè€—çš„å¤§æ¨¡å‹Tokenæ•°ï¼ˆè¿™æ˜¯AIåº”ç”¨ç‰¹æœ‰çš„é»„é‡‘æŒ‡æ ‡ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p>é…ç½®Grafanaçœ‹æ¿Â ï¼šå°†ä¸Šè¿°æŒ‡æ ‡å¯è§†åŒ–ï¼Œå®æ—¶ç›‘æ§APIçš„å¥åº·åº¦å’Œæˆæœ¬ã€‚</p>
</li>
</ol>
<h3 data-id="heading-8">æ­¥éª¤å››ï¼šæ­å»ºk8sç¯å¢ƒä¸‹çš„CI/CDè´¨é‡é—¨ç¦ï»¿<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A63342%2Fyundi-java%2Fpreview%2F%25E4%25BB%258E%25E6%25B5%258B%25E8%25AF%2595%25E5%2588%25B0%25E9%2583%25A8%25E7%25BD%25B2-%25E5%259F%25BA%25E4%25BA%258Etrae-solo%25E6%259E%2584%25E5%25BB%25BAai%25E5%25BA%2594%25E7%2594%25A8%25E7%259A%2584%25E8%25B4%25A8%25E9%2587%258F%25E9%2597%25A8%25E7%25A6%2581%25E6%25B5%2581%25E6%25B0%25B4%25E7%25BA%25BF.html%23k8s-ci-cd" target="_blank" title="http://localhost:63342/yundi-java/preview/%E4%BB%8E%E6%B5%8B%E8%AF%95%E5%88%B0%E9%83%A8%E7%BD%B2-%E5%9F%BA%E4%BA%8Etrae-solo%E6%9E%84%E5%BB%BAai%E5%BA%94%E7%94%A8%E7%9A%84%E8%B4%A8%E9%87%8F%E9%97%A8%E7%A6%81%E6%B5%81%E6%B0%B4%E7%BA%BF.html#k8s-ci-cd" ref="nofollow noopener noreferrer"/></h3>
<p>è¿™æ˜¯å°†ä¸€åˆ‡ä¸²è”èµ·æ¥çš„å…³é”®ã€‚æˆ‘ä»¬åœ¨GitLab CIä¸­è®¾è®¡äº†ä¸€å¥—è‡ªåŠ¨åŒ–æµæ°´çº¿ã€‚<br/>
<code>.gitlab-ci.yml</code>Â ç‰‡æ®µå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">stages:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">test</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">deploy-staging</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">integration-test</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">canary-deploy</span>

<span class="hljs-attr">quality_gate:</span>
  <span class="hljs-attr">stage:</span> <span class="hljs-string">test</span>
  <span class="hljs-attr">image:</span> <span class="hljs-string">python:3.11</span>
  <span class="hljs-attr">before_script:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">pip</span> <span class="hljs-string">install</span> <span class="hljs-string">-r</span> <span class="hljs-string">requirements.txt</span>
  <span class="hljs-attr">script:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">pytest</span> <span class="hljs-string">--cov=app</span> <span class="hljs-string">--cov-report=html:coverage_report</span> <span class="hljs-string">tests/</span>

<span class="hljs-attr">deploy_to_staging:</span>
  <span class="hljs-attr">stage:</span> <span class="hljs-string">deploy-staging</span>
  <span class="hljs-attr">image:</span> <span class="hljs-string">bitnami/kubectl</span>
  <span class="hljs-attr">script:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">echo</span> <span class="hljs-string">"${KUBE_CONFIG}"</span> <span class="hljs-string">&gt;</span> <span class="hljs-string">/tmp/config</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">kubectl</span> <span class="hljs-string">apply</span> <span class="hljs-string">-f</span> <span class="hljs-string">k8s/</span> <span class="hljs-string">-n</span> <span class="hljs-string">staging</span> <span class="hljs-string">--kubeconfig</span> <span class="hljs-string">/tmp/config</span>
  <span class="hljs-attr">only:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">main</span>

<span class="hljs-attr">integration_test:</span>
  <span class="hljs-attr">stage:</span> <span class="hljs-string">integration-test</span>
  <span class="hljs-attr">image:</span> <span class="hljs-string">python:3.11</span>
  <span class="hljs-attr">script:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">pip</span> <span class="hljs-string">install</span> <span class="hljs-string">requests</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">python</span> <span class="hljs-string">tests/integration_test.py</span> <span class="hljs-comment"># å¯¹stagingç¯å¢ƒè¿›è¡Œå†’çƒŸæµ‹è¯•</span>
</code></pre>
<p>æµæ°´çº¿æµç¨‹è§£è¯»ï¼š</p>
<ol>
<li>åˆå¹¶è¯·æ±‚ï¼ˆMerge Requestï¼‰è§¦å‘Â ï¼šå¼€å‘è€…æäº¤ä»£ç åï¼Œæµæ°´çº¿è‡ªåŠ¨å¯åŠ¨ã€‚</li>
<li>è´¨é‡é—¨ç¦1ï¼šå•å…ƒæµ‹è¯•Â ï¼šåœ¨CIç¯å¢ƒä¸­è¿è¡Œæ‰€æœ‰Pytestæµ‹è¯•ï¼Œå¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Šã€‚å¦‚æœå¤±è´¥ï¼Œåˆ™é˜»æ­¢åˆå¹¶ã€‚</li>
<li>è´¨é‡é—¨ç¦2ï¼šéƒ¨ç½²è‡³Stagingç¯å¢ƒÂ ï¼šæµ‹è¯•é€šè¿‡åï¼Œè‡ªåŠ¨å°†åº”ç”¨éƒ¨ç½²åˆ°k8sçš„Stagingå‘½åç©ºé—´ã€‚</li>
<li>è´¨é‡é—¨ç¦3ï¼šé›†æˆæµ‹è¯•Â ï¼šå¯¹Stagingç¯å¢ƒçš„APIç«¯ç‚¹è¿›è¡ŒçœŸå®çš„å†’çƒŸæµ‹è¯•ï¼ŒéªŒè¯éƒ¨ç½²æ˜¯å¦æˆåŠŸã€‚</li>
<li>è´¨é‡é—¨ç¦4ï¼šæ¸è¿›å¼å‘å¸ƒÂ ï¼šä¸€åˆ‡å°±ç»ªåï¼Œæ‰é€šè¿‡k8sçš„Deploymentç­–ç•¥å°†æ–°ç‰ˆæœ¬é€æ­¥å‘å¸ƒåˆ°ç”Ÿäº§ç¯å¢ƒã€‚</li>
</ol>
<h3 data-id="heading-9">æ­¥éª¤äº”ï¼šé£é™©ç®¡æ§ä¸åé¦ˆé—­ç¯ï»¿<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A63342%2Fyundi-java%2Fpreview%2F%25E4%25BB%258E%25E6%25B5%258B%25E8%25AF%2595%25E5%2588%25B0%25E9%2583%25A8%25E7%25BD%25B2-%25E5%259F%25BA%25E4%25BA%258Etrae-solo%25E6%259E%2584%25E5%25BB%25BAai%25E5%25BA%2594%25E7%2594%25A8%25E7%259A%2584%25E8%25B4%25A8%25E9%2587%258F%25E9%2597%25A8%25E7%25A6%2581%25E6%25B5%2581%25E6%25B0%25B4%25E7%25BA%25BF.html%23scw38g_42" target="_blank" title="http://localhost:63342/yundi-java/preview/%E4%BB%8E%E6%B5%8B%E8%AF%95%E5%88%B0%E9%83%A8%E7%BD%B2-%E5%9F%BA%E4%BA%8Etrae-solo%E6%9E%84%E5%BB%BAai%E5%BA%94%E7%94%A8%E7%9A%84%E8%B4%A8%E9%87%8F%E9%97%A8%E7%A6%81%E6%B5%81%E6%B0%B4%E7%BA%BF.html#scw38g_42" ref="nofollow noopener noreferrer"/></h3>
<p>ä¸Šçº¿åï¼Œæˆ‘ä»¬é€šè¿‡<code>Grafana</code>çœ‹æ¿æŒç»­ç›‘æ§<code>Token</code>æ¶ˆè€—å’Œå»¶è¿Ÿã€‚å¦‚æœå‡ºç°å¼‚å¸¸ï¼Œä¾‹å¦‚æŸä¸ªé—®é¢˜å¯¼è‡´Tokenæ¶ˆè€—æ¿€å¢ï¼Œç›‘æ§ç³»ç»Ÿä¼šè§¦å‘å‘Šè­¦ï¼Œå¹¶è‡ªåŠ¨å›æ»šåˆ°ä¸Šä¸€ä¸ªç¨³å®šç‰ˆæœ¬ï¼Œå½¢æˆé£é™©ç®¡æ§çš„é—­ç¯ã€‚</p>
<h2 data-id="heading-10">æœ€åï»¿<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A63342%2Fyundi-java%2Fpreview%2F%25E4%25BB%258E%25E6%25B5%258B%25E8%25AF%2595%25E5%2588%25B0%25E9%2583%25A8%25E7%25BD%25B2-%25E5%259F%25BA%25E4%25BA%258Etrae-solo%25E6%259E%2584%25E5%25BB%25BAai%25E5%25BA%2594%25E7%2594%25A8%25E7%259A%2584%25E8%25B4%25A8%25E9%2587%258F%25E9%2597%25A8%25E7%25A6%2581%25E6%25B5%2581%25E6%25B0%25B4%25E7%25BA%25BF.html%23scw38g_6" target="_blank" title="http://localhost:63342/yundi-java/preview/%E4%BB%8E%E6%B5%8B%E8%AF%95%E5%88%B0%E9%83%A8%E7%BD%B2-%E5%9F%BA%E4%BA%8Etrae-solo%E6%9E%84%E5%BB%BAai%E5%BA%94%E7%94%A8%E7%9A%84%E8%B4%A8%E9%87%8F%E9%97%A8%E7%A6%81%E6%B5%81%E6%B0%B4%E7%BA%BF.html#scw38g_6" ref="nofollow noopener noreferrer"/></h2>
<p>è¿™ä¸ªå®è·µï¼Œæœ€å¤§çš„æ”¶è·å°±æ˜¯ï¼šÂ <code>TRAE SOLO</code>Â å¤ªå¼ºå¤§äº†ï¼Œé€šè¿‡è¿™å¥—æµæ°´çº¿ï¼Œå®ƒçš„é£é™©å’ŒçŠ¶æ€æˆ‘ä»¬éƒ½çœ‹å¾—è§ã€ç®¡å¾—ä½ã€‚<br/>
æœªæ¥å…¶å®ä¹Ÿå¯ä»¥è®©Â <code>TRAE SOLO</code>Â å¸®å¿™å†™æ›´æ™ºèƒ½çš„ç«¯åˆ°ç«¯æµ‹è¯•ï¼Œæˆ–è€…è‡ªåŠ¨åˆ†æçº¿ä¸Šæ—¥å¿—ã€‚æŠ€æœ¯æ—¥æ–°æœˆå¼‚ï¼Œä½†å’±ä»¬å·¥ç¨‹å¸ˆå¯¹è´¨é‡çš„è¿™ä»½æ‰§ç€ï¼Œæ°¸è¿œæ˜¯æœ€å¥½çš„å‹èˆ±çŸ³ï¼Œå“ˆå“ˆå“ˆå“ˆå“ˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‘Šåˆ«å¹¶å‘è­¦å‘Šï¼šSwift 6 çº¿ç¨‹å®‰å…¨é€šçŸ¥ MainActorMessage & AsyncMessage å®æˆ˜æŒ‡å—]]></title>    <link>https://juejin.cn/post/7572961448537587739</link>    <guid>https://juejin.cn/post/7572961448537587739</guid>    <pubDate>2025-11-17T03:28:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572961448537587739" data-draft-id="7573002274323906606" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‘Šåˆ«å¹¶å‘è­¦å‘Šï¼šSwift 6 çº¿ç¨‹å®‰å…¨é€šçŸ¥ MainActorMessage &amp; AsyncMessage å®æˆ˜æŒ‡å—"/> <meta itemprop="keywords" content="Swift"/> <meta itemprop="datePublished" content="2025-11-17T03:28:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="unravel2025"/> <meta itemprop="url" content="https://juejin.cn/user/1116759541421880"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‘Šåˆ«å¹¶å‘è­¦å‘Šï¼šSwift 6 çº¿ç¨‹å®‰å…¨é€šçŸ¥ MainActorMessage &amp; AsyncMessage å®æˆ˜æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1116759541421880/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    unravel2025
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T03:28:08.000Z" title="Mon Nov 17 2025 03:28:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    15
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸ºä»€ä¹ˆæ—§çš„ NotificationCenter ä¼šâ€œè¸©å‘â€</h2>
<p>åœ¨ Swift Concurrency æ—¶ä»£ï¼Œå³ä½¿ä½ æŠŠ <code>addObserver</code> çš„ <code>queue</code> è®¾æˆ <code>.main</code>ï¼Œåªè¦é—­åŒ…é‡Œè°ƒç”¨äº† <code>@MainActor</code> éš”ç¦»çš„å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¾æ—§ä¼šç”©å‡ºè­¦å‘Šï¼š</p>
<blockquote>
<p>âš ï¸ Main actor-isolated property 'xxx' can not be referenced from a non-isolated context</p>
</blockquote>
<p>æ ¹å› ï¼š</p>
<p><code>Notification</code> é»˜è®¤è¢«æ ‡è®°ä¸º <code>nonisolated</code>ï¼Œå®ƒä¸ <code>@MainActor</code> ä¹‹é—´æ²¡æœ‰å»ºç«‹ä»»ä½•â€œéš”ç¦»çº¦å®šâ€ï¼Œç¼–è¯‘å™¨æ— æ³•è¯æ˜çº¿ç¨‹å®‰å…¨ã€‚</p>
<h2 data-id="heading-1">æ–° API çš„åŸºçŸ³ï¼šä¸¤ä¸ªåè®®</h2>




















<table><thead><tr><th>åè®®</th><th>ä½œç”¨</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>MainActorMessage</code></td><td>ä¿è¯è§‚å¯Ÿå›è°ƒä¸€å®šåœ¨ä¸»çº¿ç¨‹æ‰§è¡Œ</td><td>æ›´æ–° UIã€è®¿é—® @MainActor å±æ€§</td></tr><tr><td><code>AsyncMessage</code></td><td>å…è®¸åœ¨ä»»æ„éš”ç¦»åŸŸå¼‚æ­¥æŠ•é€’</td><td>åå°å¤„ç†ã€è·¨ actor é€šä¿¡</td></tr></tbody></table>
<blockquote>
<p>ç³»ç»Ÿç‰ˆæœ¬è¦æ±‚ï¼šiOS / macOS 26+</p>
</blockquote>
<h2 data-id="heading-2">MainActorMessage æ·±å…¥æ‹†è§£</h2>
<h3 data-id="heading-3">åè®®å®šä¹‰</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">public</span> <span class="hljs-keyword">protocol</span> <span class="hljs-title class_">MainActorMessage</span>: <span class="hljs-title class_">SendableMetatype</span> {
    <span class="hljs-keyword">associatedtype</span> <span class="hljs-type">Subject</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">var</span> name: <span class="hljs-type">Notification</span>.<span class="hljs-type">Name</span> { <span class="hljs-keyword">get</span> }

    <span class="hljs-comment">// æŠŠ Notification è½¬æˆå½“å‰æ¶ˆæ¯ç±»å‹</span>
    <span class="hljs-meta">@MainActor</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeMessage</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">notification</span>: <span class="hljs-type">Notification</span>) -&gt; <span class="hljs-keyword">Self</span><span class="hljs-operator">?</span>

    <span class="hljs-comment">// æŠŠæ¶ˆæ¯è½¬å› Notificationï¼ˆä¾› post æ—¶ä½¿ç”¨ï¼‰</span>
    <span class="hljs-meta">@MainActor</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeNotification</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">message</span>: <span class="hljs-keyword">Self</span>) -&gt; <span class="hljs-type">Notification</span>
}
</code></pre>
<p>å…³é”®æ³¨è§£</p>
<ul>
<li>æ‰€æœ‰åè®®è¦æ±‚éƒ½åœ¨ <code>@MainActor</code> éš”ç¦»åŸŸå†…å®Œæˆï¼Œç¼–è¯‘æœŸå³ä¿è¯çº¿ç¨‹å®‰å…¨</li>
<li><code>makeMessage</code> å…è®¸ä½ ä» <code>userInfo</code>ã€<code>object</code> é‡Œå–å‡ºå¼ºç±»å‹æ•°æ®ï¼Œå‘Šåˆ« Any? å¼ºè½¬</li>
</ul>
<h3 data-id="heading-4">ç³»ç»Ÿå¸®ä½ åšå¥½çš„â€œç°æˆçš„â€æ¶ˆæ¯ç±»å‹</h3>
<p>ä»¥ <code>UIApplication.didBecomeActiveNotification</code> ä¸ºä¾‹ï¼ŒSwift 26 å·²å†…ç½®ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">@available</span>(<span class="hljs-keyword">iOS</span> <span class="hljs-number">26.0</span>, <span class="hljs-operator">*</span>)
<span class="hljs-keyword">extension</span> <span class="hljs-title class_">NotificationCenter</span>.<span class="hljs-title class_">MessageIdentifier</span> <span class="hljs-title class_">where</span> <span class="hljs-title class_">Self</span> ==
    <span class="hljs-title class_">NotificationCenter</span>.<span class="hljs-title class_">BaseMessageIdentifier</span>&lt;<span class="hljs-title class_">UIApplication</span>.<span class="hljs-title class_">DidBecomeActiveMessage</span>&gt; {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">var</span> didBecomeActive: <span class="hljs-type">NotificationCenter</span>.<span class="hljs-type">BaseMessageIdentifier</span>&lt;<span class="hljs-type">UIApplication</span>.<span class="hljs-type">DidBecomeActiveMessage</span>&gt; { <span class="hljs-keyword">get</span> }
}
</code></pre>
<p><code>DidBecomeActiveMessage</code> å†…éƒ¨å®ç°ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">public</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">DidBecomeActiveMessage</span>: <span class="hljs-title class_">NotificationCenter</span>.<span class="hljs-title class_">MainActorMessage</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">var</span> name: <span class="hljs-type">Notification</span>.<span class="hljs-type">Name</span> { <span class="hljs-type">UIApplication</span>.didBecomeActiveNotification }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">typealias</span> <span class="hljs-type">Subject</span> <span class="hljs-operator">=</span> <span class="hljs-type">UIApplication</span>

    <span class="hljs-meta">@MainActor</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeMessage</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">notification</span>: <span class="hljs-type">Notification</span>) -&gt; <span class="hljs-type">DidBecomeActiveMessage</span>? {
        <span class="hljs-comment">// ç³»ç»Ÿé€šçŸ¥ä¸éœ€è¦é¢å¤–å‚æ•°ï¼Œç›´æ¥è¿”å›ç©ºå®ä¾‹å³å¯</span>
        <span class="hljs-keyword">return</span> <span class="hljs-type">DidBecomeActiveMessage</span>()
    }

    <span class="hljs-meta">@MainActor</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeNotification</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">message</span>: <span class="hljs-type">DidBecomeActiveMessage</span>) -&gt; <span class="hljs-type">Notification</span> {
        <span class="hljs-type">Notification</span>(name: name)
    }
}
</code></pre>
<h3 data-id="heading-5">è§‚å¯Ÿæ–¹å¼å¯¹æ¯”</h3>













<table><thead><tr><th>æ—§å†™æ³•ï¼ˆä»æœ‰å¹¶å‘è­¦å‘Šï¼‰</th><th>æ–°å†™æ³•ï¼ˆé›¶è­¦å‘Šï¼‰</th></tr></thead><tbody><tr><td><code>NotificationCenter.default.addObserver(forName: .didBecomeActiveNotification, object: nil, queue: .main, using: { ... })</code></td><td><code>NotificationCenter.default.addObserver(of: UIApplication.self, for: .didBecomeActive) { message in ... }</code></td></tr></tbody></table>
<p>å®Œæ•´æ–°ä»£ç ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AppActiveMonitor</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> token: <span class="hljs-type">NSObjectProtocol</span>?

    <span class="hljs-keyword">func</span> <span class="hljs-title function_">startObserving</span>() {
        <span class="hljs-comment">// âœ… é—­åŒ…è‡ªåŠ¨åœ¨ @MainActor æ‰§è¡Œ</span>
        token <span class="hljs-operator">=</span> <span class="hljs-type">NotificationCenter</span>.default.addObserver(
            of: <span class="hljs-type">UIApplication</span>.<span class="hljs-keyword">self</span>,
            for: .didBecomeActive
        ) { [<span class="hljs-keyword">weak</span> <span class="hljs-keyword">self</span>] <span class="hljs-keyword">_</span> <span class="hljs-keyword">in</span>
            <span class="hljs-keyword">self</span><span class="hljs-operator">?</span>.handleDidBecomeActive()
        }
    }

    <span class="hljs-meta">@MainActor</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">handleDidBecomeActive</span>() {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… å·²åˆ‡æ¢åˆ°å‰å°ï¼Œçº¿ç¨‹ï¼š<span class="hljs-subst">\(Thread.isMainThread)</span>"</span>)
    }
}
</code></pre>
<h3 data-id="heading-6">æŠ•é€’ç«¯ï¼ˆpostï¼‰ä¹Ÿå— @MainActor é™åˆ¶</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-meta">@MainActor</span>
<span class="hljs-keyword">func</span> <span class="hljs-title function_">postDidBecomeActive</span>() {
    <span class="hljs-keyword">let</span> message <span class="hljs-operator">=</span> <span class="hljs-type">DidBecomeActiveMessage</span>()
    <span class="hljs-type">NotificationCenter</span>.default.post(message, subject: <span class="hljs-type">UIApplication</span>.shared)
}
</code></pre>
<blockquote>
<p>ç”±äº <code>post</code> æ–¹æ³•æœ¬èº«è¢«æ ‡è®°ä¸º <code>@MainActor</code>ï¼Œç³»ç»Ÿä¿è¯åŒæ­¥æŠ•é€’ï¼Œå³è§‚å¯Ÿé—­åŒ…ä¼šç«‹å³åœ¨å½“å‰ä¸»çº¿ç¨‹æ‰§è¡Œï¼Œä¸æ—§ API çš„â€œå¼‚æ­¥é˜Ÿåˆ—æŠ•é€’â€è¡Œä¸ºä¸åŒã€‚</p>
</blockquote>
<p>è¿ç§»æ—¶éœ€è¯„ä¼°æ˜¯å¦ä¼šå¯¹ç°æœ‰æ—¶åºäº§ç”Ÿå‰¯ä½œç”¨ã€‚</p>
<h2 data-id="heading-7">AsyncMessageï¼šè„±ç¦»ä¸»çº¿ç¨‹çš„çµæ´»æŠ•é€’</h2>
<h3 data-id="heading-8">åè®®å®šä¹‰</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">public</span> <span class="hljs-keyword">protocol</span> <span class="hljs-title class_">AsyncMessage</span>: <span class="hljs-title class_">SendableMetatype</span> {
    <span class="hljs-keyword">associatedtype</span> <span class="hljs-type">Subject</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">var</span> name: <span class="hljs-type">Notification</span>.<span class="hljs-type">Name</span> { <span class="hljs-keyword">get</span> }

    <span class="hljs-comment">// å¯åœ¨ä»»æ„éš”ç¦»åŸŸè°ƒç”¨ï¼Œæ”¯æŒå¼‚æ­¥ä¸Šä¸‹æ–‡</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeMessage</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">notification</span>: <span class="hljs-type">Notification</span>) <span class="hljs-keyword">async</span> -&gt; <span class="hljs-keyword">Self</span><span class="hljs-operator">?</span>

    <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeNotification</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">message</span>: <span class="hljs-keyword">Self</span>) <span class="hljs-keyword">async</span> -&gt; <span class="hljs-type">Notification</span>
}
</code></pre>
<p>ä¸ MainActorMessage çš„æ ¸å¿ƒå·®å¼‚</p>
<ol>
<li>æ²¡æœ‰ <code>@MainActor</code> é™åˆ¶</li>
<li>è§‚å¯Ÿé—­åŒ…ä¸º <code>@Sendable async</code> å½¢å¼ï¼Œå¯å¹¶å‘æ‰§è¡Œ</li>
<li>æŠ•é€’æ–¹ <code>post</code> ä¸è¦æ±‚ä¸»çº¿ç¨‹ï¼Œå¼‚æ­¥åˆ†å‘</li>
</ol>
<h3 data-id="heading-9">è‡ªå®šä¹‰ AsyncMessage å®æˆ˜</h3>
<p>å‡è®¾ RocketSim æ’ä»¶éœ€è¦å¹¿æ’­â€œæœ€è¿‘æ„å»ºåˆ—è¡¨å·²æ›´æ–°â€ï¼š</p>
<p>æ­¥éª¤ 1ï¼šå®šä¹‰å¼ºç±»å‹æ¶ˆæ¯</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">RecentBuild</span> {
    <span class="hljs-keyword">let</span> appName: <span class="hljs-type">String</span>
}

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">RecentBuildsChangedMessage</span>: <span class="hljs-title class_">NotificationCenter</span>.<span class="hljs-title class_">AsyncMessage</span> {
    <span class="hljs-keyword">typealias</span> <span class="hljs-type">Subject</span> <span class="hljs-operator">=</span> [<span class="hljs-type">RecentBuild</span>]   <span class="hljs-comment">// æŠŠæ•°ç»„æœ¬èº«å½“ Subject</span>

    <span class="hljs-keyword">let</span> recentBuilds: [<span class="hljs-type">RecentBuild</span>]

    <span class="hljs-comment">// ä»æ—§çš„ notification.object å–å‡ºæ•°æ®</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeMessage</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">notification</span>: <span class="hljs-type">Notification</span>) <span class="hljs-keyword">async</span> -&gt; <span class="hljs-type">RecentBuildsChangedMessage</span>? {
        <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> builds <span class="hljs-operator">=</span> notification.object <span class="hljs-keyword">as?</span> [<span class="hljs-type">RecentBuild</span>] <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span> }
        <span class="hljs-keyword">return</span> <span class="hljs-type">RecentBuildsChangedMessage</span>(recentBuilds: builds)
    }

    <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeNotification</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">message</span>: <span class="hljs-type">RecentBuildsChangedMessage</span>) <span class="hljs-keyword">async</span> -&gt; <span class="hljs-type">Notification</span> {
        <span class="hljs-type">Notification</span>(name: .recentBuildsChanged, object: message.recentBuilds)
    }
}
</code></pre>
<p>æ­¥éª¤ 2ï¼šæ·»åŠ é™æ€æˆå‘˜ï¼Œæå‡å¯è¯»æ€§</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">extension</span> <span class="hljs-title class_">NotificationCenter</span>.<span class="hljs-title class_">MessageIdentifier</span> <span class="hljs-title class_">where</span> <span class="hljs-title class_">Self</span> ==
    <span class="hljs-title class_">NotificationCenter</span>.<span class="hljs-title class_">BaseMessageIdentifier</span>&lt;<span class="hljs-title class_">RecentBuildsChangedMessage</span>&gt; {

    <span class="hljs-keyword">static</span> <span class="hljs-keyword">var</span> recentBuildsChanged: <span class="hljs-type">NotificationCenter</span>.<span class="hljs-type">BaseMessageIdentifier</span>&lt;<span class="hljs-type">RecentBuildsChangedMessage</span>&gt; {
        .<span class="hljs-keyword">init</span>()
    }
}
</code></pre>
<p>æ­¥éª¤ 3ï¼šå‘é€ç«¯ï¼ˆå¯åœ¨åå°çº¿ç¨‹ï¼‰</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">func</span> <span class="hljs-title function_">fetchLatestBuilds</span>() <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">let</span> builds <span class="hljs-operator">=</span> <span class="hljs-keyword">await</span> <span class="hljs-type">ServerAPI</span>.latestBuilds()
    <span class="hljs-keyword">let</span> message <span class="hljs-operator">=</span> <span class="hljs-type">RecentBuildsChangedMessage</span>(recentBuilds: builds)
    <span class="hljs-keyword">await</span> <span class="hljs-type">NotificationCenter</span>.default.post(message)   <span class="hljs-comment">// å¼‚æ­¥æŠ•é€’</span>
}
</code></pre>
<p>æ­¥éª¤ 4ï¼šè§‚å¯Ÿç«¯ï¼ˆæ”¯æŒä»»æ„éš”ç¦»åŸŸï¼‰</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BuildListViewModel</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> token: <span class="hljs-type">NSObjectProtocol</span>?

    <span class="hljs-keyword">func</span> <span class="hljs-title function_">startObserving</span>() {
        token <span class="hljs-operator">=</span> <span class="hljs-type">NotificationCenter</span>.default.addObserver(
            of: [<span class="hljs-type">RecentBuild</span>].<span class="hljs-keyword">self</span>,
            for: .recentBuildsChanged
        ) { [<span class="hljs-keyword">weak</span> <span class="hljs-keyword">self</span>] message <span class="hljs-keyword">in</span>
            <span class="hljs-comment">// âœ… é—­åŒ…ä¸º async @Sendableï¼Œå¯å¹¶å‘æ‰§è¡Œ</span>
            <span class="hljs-keyword">await</span> <span class="hljs-keyword">self</span><span class="hljs-operator">?</span>.handleNewBuilds(message.recentBuilds)
        }
    }

    <span class="hljs-meta">@MainActor</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">handleNewBuilds</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">builds</span>: [<span class="hljs-type">RecentBuild</span>]) <span class="hljs-keyword">async</span> {
        <span class="hljs-comment">// å›åˆ°ä¸»çº¿ç¨‹åˆ·æ–° UI</span>
        <span class="hljs-keyword">self</span>.builds <span class="hljs-operator">=</span> builds
    }
}
</code></pre>
<h2 data-id="heading-10">çŸ¥è¯†é€ŸæŸ¥è¡¨</h2>



































<table><thead><tr><th>ç‰¹æ€§</th><th>MainActorMessage</th><th>AsyncMessage</th></tr></thead><tbody><tr><td>å›è°ƒçº¿ç¨‹</td><td>ä¸»çº¿ç¨‹ï¼ˆåŒæ­¥ï¼‰</td><td>ä»»æ„ï¼ˆå¼‚æ­¥ï¼‰</td></tr><tr><td>å‘é€æ–¹é™åˆ¶</td><td>@MainActor</td><td>ä»»æ„éš”ç¦»åŸŸ</td></tr><tr><td>è§‚å¯Ÿé—­åŒ…</td><td>åŒæ­¥</td><td><code>async @Sendable</code></td></tr><tr><td>æ˜¯å¦å¼ºç±»å‹</td><td>âœ…</td><td>âœ…</td></tr><tr><td>æ˜¯å¦éœ€è¦ async ä¸Šä¸‹æ–‡</td><td>âŒ</td><td>âœ…</td></tr></tbody></table>
<h2 data-id="heading-11">æ€»ç»“ä¸è¿ç§»å»ºè®®</h2>
<ol>
<li>
<p>ä¼˜å…ˆä½¿ç”¨ MainActorMessage</p>
<p>åªè¦æœ€ç»ˆéœ€è¦åˆ·æ–° UIï¼Œå°±ç›´æ¥é€‰å®ƒï¼Œç¼–è¯‘æœŸå¼ºåˆ¶ä¸»çº¿ç¨‹ï¼Œå†ä¹Ÿä¸ç”¨æ‰‹å†™ <code>DispatchQueue.main.async</code>ã€‚</p>
</li>
<li>
<p>AsyncMessage é€‚åˆâ€œçº¯åå°â€é“¾è·¯</p>
<p>ä¾‹å¦‚æ•°æ®åº“è½åœ°ã€ç½‘ç»œæ—¥å¿—ä¸ŠæŠ¥ã€è·¨ actor é€šä¿¡ï¼Œä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹ã€‚</p>
</li>
<li>
<p>é€æ­¥æ›¿æ¢ï¼Œè€Œéä¸€åˆ€åˆ‡</p>
<p>æ—§é€šçŸ¥å¯ä»¥å…ˆå°è£…æˆæ–°æ¶ˆæ¯ç±»å‹ï¼ŒåŒè½¨å¹¶è¡Œï¼›è§‚å¯Ÿåˆ°æ— å¼‚å¸¸åå†åˆ é™¤æ—§ä»£ç ã€‚</p>
</li>
<li>
<p>å•å…ƒæµ‹è¯•æ›´å‹å¥½</p>
<p>å¼ºç±»å‹æ¶ˆæ¯è®©æµ‹è¯•æ–­è¨€ä¸å†ä¾èµ– <code>userInfo</code> é­”æ³•å­—ç¬¦ä¸²ï¼Œå¯è¯»æ€§â†‘ ç»´æŠ¤æ€§â†‘ã€‚</p>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Trae Solo+è±†åŒ…Version1.6+Seedream4.0æ‰“é€ "AIè¯†èœé€š"]]></title>    <link>https://juejin.cn/post/7573336057481314310</link>    <guid>https://juejin.cn/post/7573336057481314310</guid>    <pubDate>2025-11-17T09:26:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573336057481314310" data-draft-id="7573332163388751926" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Trae Solo+è±†åŒ…Version1.6+Seedream4.0æ‰“é€ &quot;AIè¯†èœé€š&quot;"/> <meta itemprop="keywords" content="Trae"/> <meta itemprop="datePublished" content="2025-11-17T09:26:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="_æ‘˜æ˜Ÿ_"/> <meta itemprop="url" content="https://juejin.cn/user/2228036358374227"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Trae Solo+è±†åŒ…Version1.6+Seedream4.0æ‰“é€ "AIè¯†èœé€š"
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2228036358374227/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    _æ‘˜æ˜Ÿ_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T09:26:30.000Z" title="Mon Nov 17 2025 09:26:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c1476bdb094a450384058ad83af0cbc1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=d5KReQaPMwCngvjpc5g%2FdWUavVc%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">Trae Solo+è±†åŒ…Version1.6+Seedream4.0æ‰“é€ "AIè¯†èœé€š"</h2>
<h3 data-id="heading-1">æ‘˜è¦</h3>
<p>åœ¨äººå·¥æ™ºèƒ½æŠ€æœ¯è¿…çŒ›å‘å±•çš„ä»Šå¤©ï¼Œå¤§æ¨¡å‹æ­£ä»¥å‰æ‰€æœªæœ‰çš„æ·±åº¦ä¸å¹¿åº¦æ¸—é€è¿›æ—¥å¸¸ç”Ÿæ´»çš„å„ä¸ªåœºæ™¯ã€‚ä»æ™ºèƒ½å®¢æœåˆ°å†…å®¹åˆ›ä½œï¼Œä»ä»£ç ç”Ÿæˆåˆ°å›¾åƒç†è§£ï¼ŒAI æ­£åœ¨é‡å¡‘äººä¸ä¿¡æ¯ã€äººä¸æœåŠ¡ä¹‹é—´çš„äº¤äº’æ–¹å¼ã€‚è€Œåœ¨é¤é¥®è¿™ä¸€é«˜é¢‘ã€é«˜æ„ŸçŸ¥çš„é¢†åŸŸï¼Œè¯­è¨€éšœç¢ä¸èœå•ç†è§£å›°éš¾é•¿æœŸå›°æ‰°ç€è·¨å›½æ—…è¡Œè€…ã€ç•™å­¦ç”Ÿä¹ƒè‡³æœ¬åœ°é£Ÿå®¢â€”â€”é¢å¯¹ä¸€å¼ æ»¡æ˜¯é™Œç”Ÿæ–‡å­—æˆ–æ¨¡ç³Šæ’ç‰ˆçš„èœå•ï¼Œå¦‚ä½•å¿«é€Ÿè¯†åˆ«èœå“ã€ç†è§£å…¶é£å‘³ã€å¹¶å‡†ç¡®ä¸‹å•ï¼Ÿæ­£æ˜¯åœ¨è¿™ä¸€ç°å®ç—›ç‚¹é©±åŠ¨ä¸‹ï¼Œæˆ‘ä»¬å¼€å‘äº†â€œAIè¯†èœé€šâ€â€”â€”ä¸€æ¬¾èåˆå¤šæ¨¡æ€æ„ŸçŸ¥ã€è·¨è¯­è¨€ç†è§£ä¸ç”Ÿæˆå¼è§†è§‰çš„æ™ºèƒ½ç‚¹é¤åŠ©æ‰‹ã€‚</p>
<p>â€œAIè¯†èœé€šâ€çš„æ ¸å¿ƒç›®æ ‡ï¼Œæ˜¯è®©ç”¨æˆ·åªéœ€ä¸Šä¼ ä¸€å¼ ä»»æ„è¯­è¨€çš„èœå•å›¾ç‰‡ï¼Œå³å¯åœ¨æ•°ç§’å†…è·å¾—ç»“æ„åŒ–ã€æœ¬åœ°åŒ–ï¼ˆä¸­æ–‡ï¼‰çš„èœå“åˆ—è¡¨ï¼Œæ¯é“èœé™„å¸¦ç²¾å‡†æè¿°ä¸é€¼çœŸå›¾åƒï¼Œå¹¶æ”¯æŒä¸€é”®åŠ å…¥è´­ç‰©è½¦ã€ç”Ÿæˆå¯ç›´æ¥å‘æœåŠ¡å‘˜å±•ç¤ºçš„ç‚¹é¤å­—ç¬¦ä¸²ã€‚è¿™ä¸€çœ‹ä¼¼ç®€å•çš„æµç¨‹èƒŒåï¼Œå®åˆ™æ¶‰åŠå›¾åƒè¯†åˆ«ã€å¤šè¯­è¨€ç¿»è¯‘ã€è¯­ä¹‰ç†è§£ã€å›¾åƒç”Ÿæˆã€çŠ¶æ€ç®¡ç†ä¸å‰ç«¯äº¤äº’ç­‰å¤šä¸ªæŠ€æœ¯æ¨¡å—çš„ååŒã€‚è€Œè¦è®©è¿™äº›æ¨¡å—é«˜æ•ˆã€å‡†ç¡®ã€ä¸€è‡´åœ°å·¥ä½œï¼Œå…³é”®ä¸åœ¨äºå•ä¸ªæ¨¡å‹çš„æ€§èƒ½ä¸Šé™ï¼Œè€Œåœ¨äºå¦‚ä½•æ„å»ºä¸€ä¸ªå¼ºå¤§ã€çµæ´»ã€å¯ç»´æŠ¤çš„<strong>ä¸Šä¸‹æ–‡å·¥ç¨‹ï¼ˆContext Engineeringï¼‰ä½“ç³»</strong>ã€‚</p>
<p>åœ¨æœ¬é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬åˆ›æ–°æ€§åœ°ä»¥ <strong>Trae Solo</strong> ä½œä¸ºä¸Šä¸‹æ–‡å·¥ç¨‹çš„æ ¸å¿ƒå¼•æ“ï¼ŒååŒ <strong>å­—èŠ‚è·³åŠ¨è±†åŒ…å¤§æ¨¡å‹ Version 1.6</strong>ï¼ˆè´Ÿè´£å¤šè¯­è¨€ç†è§£ä¸ç»“æ„åŒ–è¾“å‡ºï¼‰ä¸ <strong>Seedream 4.0</strong>ï¼ˆè´Ÿè´£é«˜è´¨é‡èœå“å›¾åƒç”Ÿæˆï¼‰ï¼Œå…±åŒæ„å»ºäº†ä¸€ä¸ªç«¯åˆ°ç«¯çš„æ™ºèƒ½ç‚¹é¤ç³»ç»Ÿã€‚æœ¬æ–‡å°†é‡ç‚¹å‰–æ Trae Solo åœ¨â€œAIè¯†èœé€šâ€ä¸­çš„ä¸Šä¸‹æ–‡å·¥ç¨‹å®è·µï¼Œæ­ç¤ºå…¶å¦‚ä½•é€šè¿‡ç²¾ç»†åŒ–çš„ä¸Šä¸‹æ–‡è®¾è®¡ã€åŠ¨æ€è®°å¿†ç®¡ç†ä¸å¤šè½®æ„å›¾å¯¹é½ï¼Œæ˜¾è‘—æå‡æ•´ä¸ªç³»ç»Ÿçš„å‡†ç¡®æ€§ã€é²æ£’æ€§ä¸ç”¨æˆ·ä½“éªŒã€‚</p>
<h3 data-id="heading-2">Trae Solo</h3>
<p>å®˜ç½‘ï¼š<a href="https://www.trae.ai/solo" target="_blank" title="https://www.trae.ai/solo" ref="nofollow noopener noreferrer">www.trae.ai/solo</a>ï¼Œç›®å‰Trae Soloæ¨¡å¼éœ€è¦åœ¨å®˜ç½‘ç”³è¯·ä½“éªŒç ï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´èµ¶å¿«å»ç”³è¯·å§ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4864a1e6e0fb43e4bf124213ddeb4744~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=ocv1W%2FvhtqxZjPQW7zMXXS55SFs%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-3">1. ä» Prompt Engineering åˆ° Context Engineering</h4>
<p>è¿‡å»å‡ å¹´ï¼ŒPrompt Engineeringï¼ˆæç¤ºè¯å·¥ç¨‹ï¼‰è¢«è§†ä¸ºé©¾é©­å¤§æ¨¡å‹çš„æ ¸å¿ƒæŠ€èƒ½ã€‚å¼€å‘è€…é€šè¿‡ç²¾å¿ƒè®¾è®¡è¾“å…¥æ–‡æœ¬ï¼Œå¼•å¯¼æ¨¡å‹è¾“å‡ºæœŸæœ›ç»“æœã€‚ç„¶è€Œï¼Œéšç€AIåº”ç”¨åœºæ™¯ä»å•è½®é—®ç­”èµ°å‘å¤šæ­¥éª¤ã€å¤šæ¨¡æ€ã€çŠ¶æ€ä¾èµ–çš„å¤æ‚ä»»åŠ¡ï¼ˆå¦‚æ™ºèƒ½å®¢æœã€è‡ªåŠ¨åŒ–åŠå…¬ã€ä¸ªæ€§åŒ–æ¨èï¼‰ï¼Œé™æ€ã€å­¤ç«‹çš„ prompt å·²æ˜¾ä¹åŠ›ã€‚é—®é¢˜åœ¨äºï¼šçœŸå®ä¸–ç•Œçš„ä»»åŠ¡å¾€å¾€å…·æœ‰<strong>ä¸Šä¸‹æ–‡ä¾èµ–æ€§</strong>â€”â€”å½“å‰æ“ä½œä¾èµ–äºå†å²è¡Œä¸ºï¼Œæ¨¡å‹è¾“å‡ºéœ€ä¸ç³»ç»ŸçŠ¶æ€å¯¹é½ï¼Œç”¨æˆ·æ„å›¾åœ¨äº¤äº’ä¸­åŠ¨æ€æ¼”åŒ–ã€‚</p>
<p>æ­£æ˜¯åœ¨è¿™ä¸€èƒŒæ™¯ä¸‹ï¼Œ<strong>ä¸Šä¸‹æ–‡å·¥ç¨‹ï¼ˆContext Engineeringï¼‰</strong> åº”è¿è€Œç”Ÿã€‚å®ƒä¸å†å°†AIè°ƒç”¨è§†ä¸ºä¸€æ¬¡æ€§çš„â€œé»‘ç®±è¯·æ±‚â€ï¼Œè€Œæ˜¯å°†å…¶åµŒå…¥ä¸€ä¸ª<strong>ç»“æ„åŒ–ã€å¯æ¼”åŒ–ã€å¯è¿½æº¯çš„ä¸Šä¸‹æ–‡ç©ºé—´</strong>ä¸­ã€‚ä¸Šä¸‹æ–‡å·¥ç¨‹å…³æ³¨çš„æ ¸å¿ƒé—®é¢˜æ˜¯ï¼š<strong>å¦‚ä½•åœ¨æ­£ç¡®çš„æ—¶é—´ï¼Œå‘æ­£ç¡®çš„æ¨¡å‹ï¼Œæä¾›æ­£ç¡®çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œä»¥é©±åŠ¨æ•´ä¸ªç³»ç»Ÿè¾¾æˆç›®æ ‡ï¼Ÿ</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c268c13c980e49cb875d209c3bd68836~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=EAsk6zKst2zA92OacoNUag29F0U%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-4">2. Trae Soloï¼šä¸Šä¸‹æ–‡å·¥ç¨‹çš„æ“ä½œç³»ç»Ÿ</h4>
<p>Trae Solo å¹¶éä¸€ä¸ªå¤§è¯­è¨€æ¨¡å‹ï¼Œè€Œæ˜¯ä¸€ä¸ªä¸“ä¸ºå¤æ‚AIåº”ç”¨è®¾è®¡çš„<strong>ä¸Šä¸‹æ–‡ç¼–æ’ä¸æ¨ç†è°ƒåº¦å¹³å°</strong>ã€‚å®ƒæ—¨åœ¨æˆä¸ºAIç³»ç»Ÿçš„â€œæ“ä½œç³»ç»Ÿâ€ï¼Œè´Ÿè´£ç®¡ç†ä»»åŠ¡æµã€ç»´æŠ¤çŠ¶æ€ã€åè°ƒå¤šæ¨¡å‹åä½œï¼Œå¹¶ç¡®ä¿ä¸Šä¸‹æ–‡åœ¨å…¨ç”Ÿå‘½å‘¨æœŸä¸­çš„ä¸€è‡´æ€§ä¸æœ‰æ•ˆæ€§ã€‚</p>
<p>Trae Solo çš„æ ¸å¿ƒèƒ½åŠ›å¯æ¦‚æ‹¬ä¸ºä»¥ä¸‹å››ç‚¹ï¼š</p>
<p><strong>ï¼ˆ1ï¼‰ç»“æ„åŒ–ä¸Šä¸‹æ–‡å»ºæ¨¡</strong><br/>
Trae Solo å…è®¸å¼€å‘è€…ä»¥å£°æ˜å¼æ–¹å¼å®šä¹‰æ•´ä¸ªåº”ç”¨çš„ä¸Šä¸‹æ–‡ç»“æ„ã€‚è¿™åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>è¾“å…¥ä¸Šä¸‹æ–‡</strong>ï¼šç”¨æˆ·ä¸Šä¼ çš„å›¾åƒã€æ–‡æœ¬ã€åœ°ç†ä½ç½®ã€è®¾å¤‡ç±»å‹ç­‰åŸå§‹æ•°æ®ï¼›</li>
<li><strong>ç³»ç»ŸçŠ¶æ€ä¸Šä¸‹æ–‡</strong>ï¼šå½“å‰ä»»åŠ¡é˜¶æ®µã€å·²æå–çš„å®ä½“ã€ç”¨æˆ·é€‰æ‹©ã€é”™è¯¯çŠ¶æ€ç­‰ï¼›</li>
<li><strong>æ¨¡å‹èƒ½åŠ›ä¸Šä¸‹æ–‡</strong>ï¼šå„AIæ¨¡å‹çš„æ¥å£è§„èŒƒã€è¾“å…¥è¾“å‡ºæ ¼å¼ã€æ€§èƒ½è¾¹ç•Œã€è°ƒç”¨æˆæœ¬ç­‰ï¼›</li>
<li><strong>é¢†åŸŸçŸ¥è¯†ä¸Šä¸‹æ–‡</strong>ï¼šé¢„åŠ è½½çš„è¡Œä¸šæœ¯è¯­ã€å¸¸è§å®ä½“åº“ã€ä¸šåŠ¡è§„åˆ™ç­‰ã€‚</li>
</ul>
<p>è¿™äº›ä¸Šä¸‹æ–‡è¢«ç»„ç»‡ä¸ºä¸€ä¸ªåŠ¨æ€æ›´æ–°çš„â€œä¸Šä¸‹æ–‡å›¾è°±â€ï¼ˆContext Graphï¼‰ï¼Œæ‰€æœ‰æ¨¡å—å‡å¯è¯»å†™ï¼Œç¡®ä¿ä¿¡æ¯åŒæ­¥ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c1f1aa5b7554ea19fe84c8fc336e1ab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=AXWpEv599h5A0wIuE8iWurRkcik%3D" alt="" loading="lazy"/></p>
<p><strong>ï¼ˆ2ï¼‰åŠ¨æ€ä¸Šä¸‹æ–‡æ³¨å…¥ä¸è·¯ç”±</strong><br/>
åœ¨è°ƒç”¨ä»»ä¸€AIæ¨¡å‹å‰ï¼ŒTrae Solo ä¼šæ ¹æ®å½“å‰ä»»åŠ¡é˜¶æ®µä¸ç³»ç»ŸçŠ¶æ€ï¼Œ<strong>åŠ¨æ€ç»„è£…æœ€åˆé€‚çš„ä¸Šä¸‹æ–‡åŒ…</strong>ã€‚ä¾‹å¦‚ï¼Œåœ¨èœå•è¯†åˆ«é˜¶æ®µï¼Œå®ƒä¼šå°†å›¾åƒã€è¯­è¨€å…ˆéªŒã€èœç³»çŸ¥è¯†ã€ä»»åŠ¡æŒ‡ä»¤ç­‰æ‰“åŒ…å‘é€ç»™è±†åŒ…æ¨¡å‹ï¼›è€Œåœ¨ç”Ÿæˆç‚¹é¤å­—ç¬¦ä¸²æ—¶ï¼Œåˆ™åªä¼ é€’é€‰ä¸­çš„èœå“åˆ—è¡¨ä¸æ ¼å¼è¦æ±‚ã€‚è¿™ç§æŒ‰éœ€æ³¨å…¥æœºåˆ¶ï¼Œæ—¢æå‡äº†æ¨¡å‹è¾“å‡ºçš„ç›¸å…³æ€§ï¼Œåˆé¿å…äº†ä¿¡æ¯è¿‡è½½ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d5c8767d29664092b9d52d4769cdd9f3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=8VvOo%2FyzfXfnVu7qmXrvo0sv9lc%3D" alt="" loading="lazy"/></p>
<p><strong>ï¼ˆ3ï¼‰å¤šè½®æ„å›¾å¯¹é½ä¸çŠ¶æ€ç®¡ç†</strong><br/>
ç”¨æˆ·äº¤äº’æ˜¯åŠ¨æ€çš„ã€‚Trae Solo å†…ç½®å¼ºå¤§çš„çŠ¶æ€æœºä¸æ„å›¾è¯†åˆ«æ¨¡å—ï¼Œèƒ½å¤Ÿå®æ—¶æ•è·ç”¨æˆ·è¡Œä¸ºï¼ˆå¦‚ç‚¹å‡»ã€å–æ¶ˆã€ä¿®æ”¹ï¼‰ï¼Œå¹¶æ›´æ–°ä¸Šä¸‹æ–‡å›¾è°±ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œå®ƒæ”¯æŒ<strong>ä¸Šä¸‹æ–‡å›æº¯ã€åˆ†æ”¯ä¸åˆå¹¶</strong>â€”â€”å½“ç”¨æˆ·ä¿®æ”¹é€‰æ‹©æ—¶ï¼Œç³»ç»Ÿèƒ½å¿«é€Ÿæ’¤é”€ç›¸å…³æ“ä½œï¼Œè€Œä¸ä¼šå¯¼è‡´çŠ¶æ€æ··ä¹±ã€‚è¿™ç§å¯¹ç”¨æˆ·æ„å›¾çš„æŒç»­å¯¹é½ï¼Œæ˜¯æ„å»ºæµç•…ä½“éªŒçš„åŸºç¡€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0a35fe3e05043f89134d8a32228117b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=GjIHZhGo2CDUae98Fw9Eqg49%2BkM%3D" alt="" loading="lazy"/></p>
<p><strong>ï¼ˆ4ï¼‰é”™è¯¯å¤„ç†ä¸é™çº§ç­–ç•¥</strong><br/>
AIæ¨¡å‹å¹¶é100%å¯é ã€‚Trae Solo æä¾›äº†å®Œå–„çš„é”™è¯¯ç›‘æ§ä¸é™çº§æœºåˆ¶ã€‚ä¾‹å¦‚ï¼Œè‹¥è±†åŒ…æ¨¡å‹è¿”å›æ ¼å¼é”™è¯¯ï¼Œç³»ç»Ÿå¯è‡ªåŠ¨åˆ‡æ¢è‡³å¤‡ç”¨OCR+ç¿»è¯‘æµç¨‹ï¼›è‹¥Seedreamå›¾åƒç”Ÿæˆå¤±è´¥ï¼Œåˆ™å›é€€è‡³é»˜è®¤å ä½å›¾ã€‚æ‰€æœ‰é”™è¯¯å‡è¢«è®°å½•åˆ°ä¸Šä¸‹æ–‡æ—¥å¿—ä¸­ï¼Œä¾¿äºåç»­åˆ†æä¸ä¼˜åŒ–ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cdf930b7895a4396a866d83bf4ae2c48~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=RR9PDcBq6C5dK59CjguOM1DZtl0%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-5">3. ä¸Šä¸‹æ–‡å·¥ç¨‹çš„ä»·å€¼ï¼šä»â€œèƒ½ç”¨â€åˆ°â€œå¥½ç”¨â€</h4>
<p>é€šè¿‡ Trae Solo å®æ–½ä¸Šä¸‹æ–‡å·¥ç¨‹ï¼ŒAIç³»ç»Ÿå®ç°äº†ä¸‰å¤§è·ƒå‡ï¼š</p>
<ul>
<li><strong>å‡†ç¡®æ€§æå‡</strong>ï¼šä¸Šä¸‹æ–‡æä¾›é¢†åŸŸçŸ¥è¯†ä¸ä»»åŠ¡çº¦æŸï¼Œæ˜¾è‘—å‡å°‘æ¨¡å‹å¹»è§‰ï¼›</li>
<li><strong>é²æ£’æ€§å¢å¼º</strong>ï¼šçŠ¶æ€ç®¡ç†ä¸é”™è¯¯å¤„ç†æœºåˆ¶ä¿éšœç³»ç»Ÿåœ¨å¼‚å¸¸æƒ…å†µä¸‹ä»å¯è¿è¡Œï¼›</li>
<li><strong>å¯ç»´æŠ¤æ€§æé«˜</strong>ï¼šä¸Šä¸‹æ–‡ç»“æ„æ¸…æ™°ï¼Œæ¨¡å—è§£è€¦ï¼Œä¾¿äºè¿­ä»£ä¸è°ƒè¯•ã€‚</li>
</ul>
<p>å¯ä»¥è¯´ï¼Œä¸Šä¸‹æ–‡å·¥ç¨‹æ˜¯AIåº”ç”¨ä»â€œæŠ€æœ¯æ¼”ç¤ºâ€èµ°å‘â€œäº§å“è½åœ°â€çš„å¿…ç»ä¹‹è·¯ã€‚è€Œ Trae Soloï¼Œæ­£æ˜¯è¿™æ¡è·¯ä¸Šçš„å¼ºå¤§å¼•æ“ã€‚</p>
<p>è€Œ <strong>Trae Solo</strong>ï¼Œæ­£æ˜¯ä¸ºå®ç°è¿™ä¸€ç›®æ ‡è€Œè®¾è®¡çš„ä¸Šä¸‹æ–‡å·¥ç¨‹æ¡†æ¶ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7d35e5dd88c4347afd46901599d1256~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=%2FncVco1RlxdSzClaxPZfAFadCkM%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-6">è±†åŒ…å¤§æ¨¡å‹æ¥å…¥æŒ‡å—</h3>
<p>æœ¬é¡¹ç›®æ‰€ç”¨çš„è§†è§‰ç†è§£å¤§æ¨¡å‹å’Œæ–‡ç”Ÿå›¾å¤§æ¨¡å‹å‡é‡‡ç”¨ç«å±±å¼•æ“Masså¹³å°ï¼Œåˆ†åˆ«æ˜¯doubao-seed-1-6-vision-250815å’Œdoubao-seedream-4-0-250828</p>
<h4 data-id="heading-7">ç«å±±å¼•æ“Masså¹³å°</h4>
<p>å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.volcengine.com%2F" target="_blank" title="https://www.volcengine.com/" ref="nofollow noopener noreferrer">www.volcengine.com/</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/780d34c2eec64d9696ed5e6a04b4f134~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=Kow7mqm2Q8U8w1LxfP2XzEAOGxw%3D" alt="" loading="lazy"/></p>
<p>ç‚¹å‡»éœ€è¦çš„AI APIè¿›å…¥</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/db94acdcff9c48fbbf019560b652b9a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=2otmfEzkYTdujC1bzTS3HfhMtzc%3D" alt="" loading="lazy"/></p>
<p>è¿›è¡Œå¿«æ·API æ¥å…¥å³å¯</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3886602a3c2d42ffaad04c0e35520f5f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=jCKDbBaS2StvuDvwzwUknmW5rPg%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-8">doubao-seed-1-6-vision</h4>
<p>doubao-seed-1-6-visionï¼šé€‚ç”¨äºè§†é¢‘ç†è§£ã€Groundingã€GUI Agentç­‰é«˜å¤æ‚åº¦çš„åœºæ™¯ï¼Œä¸Doubao-1.5-thinking-vision-proç›¸æ¯”ï¼Œåœ¨æ•™è‚²ã€å›¾åƒå®¡æ ¸ã€å·¡æ£€ä¸å®‰é˜²å’ŒAIæœç´¢é—®ç­”ç­‰åœºæ™¯ä¸‹å±•ç°å‡ºæ›´å¼ºçš„é€šç”¨å¤šæ¨¡æ€ç†è§£å’Œæ¨ç†èƒ½åŠ›ï¼Œæ”¯æŒ 256k ä¸Šä¸‹æ–‡çª—å£ï¼Œè¾“å‡ºé•¿åº¦æ”¯æŒæœ€å¤§ 64k tokensã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eae046d7fd274303b87a3931f42d1c88~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=CmUuEgAs7v7fDhWzJtBhCqHQmT8%3D" alt="" loading="lazy"/></p>
<p>ä¸‹æ–¹æ˜¯è°ƒç”¨ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">curl https:<span class="hljs-comment">//ark.cn-beijing.volces.com/api/v3/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer your api key" \
  -d $'{</span>
    <span class="hljs-string">"model"</span>: <span class="hljs-string">"doubao-seed-1-6-vision-250815"</span>,
    <span class="hljs-string">"messages"</span>: [
        {
            <span class="hljs-string">"content"</span>: [
                {
                    <span class="hljs-string">"image_url"</span>: {
                        <span class="hljs-string">"url"</span>: <span class="hljs-string">"https://ark-project.tos-cn-beijing.ivolces.com/images/view.jpeg"</span>
                    },
                    <span class="hljs-string">"type"</span>: <span class="hljs-string">"image_url"</span>
                },
                {
                    <span class="hljs-string">"text"</span>: <span class="hljs-string">"å›¾ç‰‡ä¸»è¦è®²äº†ä»€ä¹ˆ?"</span>,
                    <span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span>
                }
            ],
            <span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>
        }
    ]
}'
</code></pre>
<h4 data-id="heading-9">doubao-seedream-4.0</h4>
<p>doubao-seedream-4.0åŸºäºé¢†å…ˆæ¶æ„çš„SOTAçº§å¤šæ¨¡æ€å›¾åƒåˆ›ä½œæ¨¡å‹ã€‚å…¶æ‰“ç ´ä¼ ç»Ÿæ–‡ç”Ÿå›¾æ¨¡å‹çš„åˆ›ä½œè¾¹ç•Œï¼ŒåŸç”Ÿæ”¯æŒæ–‡æœ¬ã€å•å›¾å’Œå¤šå›¾è¾“å…¥ï¼Œç”¨æˆ·å¯è‡ªç”±èåˆæ–‡æœ¬ä¸å›¾åƒï¼Œåœ¨åŒä¸€æ¨¡å‹ä¸‹å®ç°åŸºäºä¸»ä½“ä¸€è‡´æ€§çš„å¤šå›¾èåˆåˆ›ä½œã€å›¾åƒç¼–è¾‘ã€ç»„å›¾ç”Ÿæˆç­‰å¤šæ ·ç©æ³•ï¼Œè®©å›¾åƒåˆ›ä½œæ›´åŠ è‡ªç”±å¯æ§ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/12f9c8570e75490eb91a0d21ed90dc7f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=OBc0OBHrxIhw5lAV%2B2ndbTZbEtg%3D" alt="" loading="lazy"/></p>
<p>ä¸‹æ–¹æ˜¯æ¥å…¥ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">curl -X POST https:<span class="hljs-comment">//ark.cn-beijing.volces.com/api/v3/images/generations \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer your api key" \
  -d '{</span>
    <span class="hljs-string">"model"</span>: <span class="hljs-string">"doubao-seedream-4-0-250828"</span>,
    <span class="hljs-string">"prompt"</span>: <span class="hljs-string">"Generate 3 images of a girl and a cow plushie happily riding a roller coaster in an amusement park, depicting morning, noon, and night."</span>,
    <span class="hljs-string">"image"</span>: [<span class="hljs-string">"https://ark-doc.tos-ap-southeast-1.bytepluses.com/doc_image/seedream4_imagesToimages_1.png"</span>, <span class="hljs-string">"https://ark-doc.tos-ap-southeast-1.bytepluses.com/doc_image/seedream4_imagesToimages_2.png"</span>],
    <span class="hljs-string">"sequential_image_generation"</span>: <span class="hljs-string">"auto"</span>,
    <span class="hljs-string">"sequential_image_generation_options"</span>: {
        <span class="hljs-string">"max_images"</span>: <span class="hljs-number">3</span>
    },
    <span class="hljs-string">"response_format"</span>: <span class="hljs-string">"url"</span>,
    <span class="hljs-string">"size"</span>: <span class="hljs-string">"2K"</span>,
    <span class="hljs-string">"stream"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">"watermark"</span>: <span class="hljs-literal">true</span>
}'
</code></pre>
<h3 data-id="heading-10">é¡¹ç›®å¼€å‘</h3>
<h4 data-id="heading-11">å¼€å‘æç¤ºè¯</h4>
<p>å‡†å¤‡å¥½å¦‚ä¸‹å¼€å‘æç¤ºè¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">æˆ‘è¦åšä¸€ä¸ªAIè¯†èœé€šåº”ç”¨ã€‚åŠŸèƒ½æ˜¯ï¼šç”¨æˆ·å¯ä»¥ä¸Šä¼ ä¸€å¼ ä»»ä½•è¯­è¨€èœå•å›¾ç‰‡ï¼Œè°ƒç”¨è§†è§‰ç†è§£æ¨¡å‹doubao-seed-1-6-vision-250815ï¼Œåˆ†æèœå•ä¸­çš„å†…å®¹å¹¶ç¿»è¯‘ä¸ºä¸­æ–‡ï¼Œä¹‹åè¿›å…¥ç¬¬äºŒä¸ªé¡µé¢ï¼šç‚¹èœé¡µé¢ï¼Œç‚¹èœé¡µé¢ä¼šå°†AIç¿»è¯‘åçš„ä¸­æ–‡èœå•ä¸€ä¸€å±•ç¤ºï¼Œå¹¶ä¸”ç”¨æˆ·å¯ä»¥ç‚¹èœã€‚æ¯ä¸€é“èœéƒ½åŒ…å«å®ƒçš„åå­—ã€å®ƒçš„ä»‹ç»å’Œä¸€å¼ å›¾ç‰‡ï¼Œå›¾ç‰‡è°ƒç”¨doubao-seedream-4-0-250828æ¨¡å‹çš„ç”Ÿæˆå›¾ç‰‡ï¼Œç„¶åç”¨æˆ·ç‚¹åŠ å·å¯ä»¥æŠŠè¿™é“èœåŠ å…¥ä»–çš„è´­ç‰©è½¦ï¼Œæœ€åç‚¹æäº¤ç”Ÿæˆä¸€ä¸ªä¸€ä¸²å­—ç¬¦ï¼Œä¸Šé¢å†™ä»–æƒ³è¦ç‚¹å“ªäº›èœï¼Œæ–¹ä¾¿ä»–è·ŸæœåŠ¡å‘˜è¯´ä»–è¦ç‚¹å“ªäº›ã€‚è¿™ä¸ªå­—ç¬¦åº”è¯¥åŒ…åˆä¸­æ–‡åå’Œä»–å…ƒè¯­è¨€çš„åå­—ã€‚é¡¹ç›®éœ€è¦ä½¿ç”¨react å®ç°ï¼Œä½¿ç”¨ shadcnã€redix ç»„ä»¶åº“ã€‚AIæ¨¡å‹çš„API KEYæ”¾åœ¨<span class="hljs-built_in">local</span> storageï¼Œé€šè¿‡ç½‘é¡µå³ä¸Šè§’çš„é½¿è½®æŒ‰é’®è¾“å…¥ã€‚
</code></pre>
<p>è¾“å…¥åˆ°Trae Soloå¯¹è¯æ¡†ä¸­ï¼ŒTrae Soloä¸ä¼šç›´æ¥å¼€å§‹å¼€å‘ï¼Œè€Œæ˜¯ä¼šå…ˆè®¾è®¡ä¸¤ä»½æ–‡æ¡£ï¼Œå¾…æˆ‘ä»¬ç¡®è®¤ä¹‹åæ‰ä¼šå¼€å§‹å¼€å‘ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2ca5eab56f6249f998b81b49d0610f80~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=Xk1xR%2FyWMUm3D5nce4%2F7reTpS5w%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-12">é¡¹ç›®æ–‡æ¡£</h4>
<p>Trae Soloä¼šè‡ªåŠ¨å¸®ä½ åˆ›å»ºä¸¤ä»½æ–‡æ¡£ï¼Œåˆ†åˆ«æ˜¯éœ€æ±‚æ–‡æ¡£å’Œæ¶æ„æ–‡æ¡£ï¼š</p>
<h5 data-id="heading-13">AIè¯†èœé€šäº§å“éœ€æ±‚æ–‡æ¡£</h5>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-comment"># AIè¯†èœé€šäº§å“éœ€æ±‚æ–‡æ¡£</span>

<span class="hljs-comment">## 1. äº§å“æ¦‚è¿°</span>

AIè¯†èœé€šæ˜¯ä¸€æ¬¾æ™ºèƒ½èœå•è¯†åˆ«ä¸ç‚¹é¤åº”ç”¨ï¼Œå¸®åŠ©ç”¨æˆ·å¿«é€Ÿç†è§£ä»»ä½•è¯­è¨€çš„èœå•å†…å®¹å¹¶å®Œæˆç‚¹é¤ã€‚
ç”¨æˆ·åªéœ€ä¸Šä¼ èœå•å›¾ç‰‡ï¼ŒAIå³å¯è‡ªåŠ¨è¯†åˆ«å¹¶ç¿»è¯‘èœå•å†…å®¹ï¼Œç”Ÿæˆç²¾ç¾çš„èœå“å›¾ç‰‡ï¼Œè®©ç”¨æˆ·è½»æ¾å®Œæˆç‚¹é¤æµç¨‹ã€‚
è¯¥äº§å“ä¸»è¦é¢å‘å‡ºå›½æ—…æ¸¸ã€å•†åŠ¡å‡ºå·®æˆ–åœ¨å¤šè¯­è¨€ç¯å¢ƒç”¨é¤çš„ç”¨æˆ·ï¼Œè§£å†³è¯­è¨€éšœç¢å¸¦æ¥çš„ç‚¹é¤å›°æ‰°ã€‚

<span class="hljs-comment">## 2. æ ¸å¿ƒåŠŸèƒ½</span>

<span class="hljs-comment">### 2.1 ç”¨æˆ·è§’è‰²</span>

æœ¬äº§å“æ— éœ€ç”¨æˆ·æ³¨å†Œï¼Œæ‰€æœ‰åŠŸèƒ½å¯¹æ‰€æœ‰ç”¨æˆ·å¼€æ”¾ã€‚

<span class="hljs-comment">### 2.2 åŠŸèƒ½æ¨¡å—</span>

æˆ‘ä»¬çš„AIè¯†èœé€šåº”ç”¨åŒ…å«ä»¥ä¸‹ä¸»è¦é¡µé¢ï¼š

1. **é¦–é¡µ**ï¼šèœå•ä¸Šä¼ åŠŸèƒ½ã€åº”ç”¨ä»‹ç»ã€å¯¼èˆªèœå•
2. **ç‚¹é¤é¡µé¢**ï¼šèœå“å±•ç¤ºåˆ—è¡¨ã€è´­ç‰©è½¦ç®¡ç†ã€è®¢å•ç”Ÿæˆ
3. **è®¾ç½®é¡µé¢**ï¼šAPIå¯†é’¥é…ç½®ã€åº”ç”¨è®¾ç½®

<span class="hljs-comment">### 2.3 é¡µé¢è¯¦æƒ…</span>

| é¡µé¢åç§° | æ¨¡å—åç§°   | åŠŸèƒ½æè¿°                              |
| ---- | ------ | --------------------------------- |
| é¦–é¡µ   | èœå•ä¸Šä¼ åŒºåŸŸ | æ”¯æŒæ‹–æ‹½æˆ–ç‚¹å‡»ä¸Šä¼ èœå•å›¾ç‰‡ï¼Œæ˜¾ç¤ºä¸Šä¼ è¿›åº¦å’Œé¢„è§ˆ           |
| é¦–é¡µ   | åº”ç”¨ä»‹ç»   | å±•ç¤ºåº”ç”¨åŠŸèƒ½ç‰¹è‰²å’Œä½¿ç”¨è¯´æ˜                     |
| é¦–é¡µ   | å¯¼èˆªæ     | åŒ…å«è®¾ç½®æŒ‰é’®å’Œåº”ç”¨æ ‡é¢˜                       |
| ç‚¹é¤é¡µé¢ | èœå“åˆ—è¡¨   | å±•ç¤ºAIè¯†åˆ«çš„èœå“ä¿¡æ¯ï¼ŒåŒ…å«ä¸­æ–‡åç§°ã€åŸæ–‡åç§°ã€æè¿°å’ŒAIç”Ÿæˆå›¾ç‰‡ |
| ç‚¹é¤é¡µé¢ | è´­ç‰©è½¦    | æ˜¾ç¤ºå·²é€‰èœå“æ•°é‡å’Œæ€»è§ˆï¼Œæ”¯æŒå¢å‡æ•°é‡                |
| ç‚¹é¤é¡µé¢ | è®¢å•ç”Ÿæˆ   | ç”ŸæˆåŒ…å«ä¸­æ–‡å’ŒåŸæ–‡çš„ç‚¹é¤æ¸…å•å­—ç¬¦ä¸²                 |
| è®¾ç½®é¡µé¢ | APIé…ç½®  | è¾“å…¥å’Œä¿å­˜Doubao APIå¯†é’¥                 |
| è®¾ç½®é¡µé¢ | åº”ç”¨è®¾ç½®   | è¯­è¨€åå¥½ã€ä¸»é¢˜è®¾ç½®ç­‰åŸºç¡€é…ç½®                    |

<span class="hljs-comment">## 3. æ ¸å¿ƒæµç¨‹</span>

**ä¸»è¦ç”¨æˆ·æ“ä½œæµç¨‹ï¼š**

1. ç”¨æˆ·è¿›å…¥é¦–é¡µï¼Œç‚¹å‡»æˆ–æ‹–æ‹½ä¸Šä¼ èœå•å›¾ç‰‡
2. ç³»ç»Ÿè°ƒç”¨è§†è§‰è¯†åˆ«AIåˆ†æèœå•å†…å®¹å¹¶ç¿»è¯‘ä¸ºä¸­æ–‡
3. è·³è½¬åˆ°ç‚¹é¤é¡µé¢ï¼Œå±•ç¤ºè¯†åˆ«ç»“æœå’ŒAIç”Ÿæˆçš„èœå“å›¾ç‰‡
4. ç”¨æˆ·æµè§ˆèœå“ï¼Œç‚¹å‡»åŠ å·å°†å¿ƒä»ªèœå“åŠ å…¥è´­ç‰©è½¦
5. ç¡®è®¤é€‰æ‹©åï¼Œç”ŸæˆåŒ…å«ä¸­æ–‡å’ŒåŸæ–‡çš„ç‚¹é¤æ¸…å•
6. ç”¨æˆ·å¯å°†æ¸…å•å±•ç¤ºç»™æœåŠ¡å‘˜å®Œæˆç‚¹é¤

```mermaid
graph TD
    A[é¦–é¡µ] --&gt; B[ä¸Šä¼ èœå•å›¾ç‰‡]
    B --&gt; C[AIè¯†åˆ«å¤„ç†]
    C --&gt; D[ç‚¹é¤é¡µé¢]
    D --&gt; E[æµè§ˆèœå“]
    E --&gt; F[æ·»åŠ åˆ°è´­ç‰©è½¦]
    F --&gt; G[ç”Ÿæˆç‚¹é¤æ¸…å•]
    A --&gt; H[è®¾ç½®é¡µé¢]
    H --&gt; I[é…ç½®APIå¯†é’¥]
```

<span class="hljs-comment">## 4. ç”¨æˆ·ç•Œé¢è®¾è®¡</span>

<span class="hljs-comment">### 4.1 è®¾è®¡é£æ ¼</span>

* **ä¸»è‰²è°ƒ**ï¼šç°ä»£è“è‰² (<span class="hljs-comment">#3B82F6) å’Œæ¸©æš–æ©™è‰² (#F59E0B)</span>

* **è¾…åŠ©è‰²**ï¼šä¸­æ€§ç°è‰²ç³» (<span class="hljs-comment">#6B7280, #F3F4F6)</span>

* **æŒ‰é’®æ ·å¼**ï¼šåœ†è§’è®¾è®¡ï¼Œæ‚¬åœæ•ˆæœï¼Œé˜´å½±å±‚æ¬¡

* **å­—ä½“**ï¼šä¸­æ–‡ä½¿ç”¨æ€æºé»‘ä½“ï¼Œè‹±æ–‡ä½¿ç”¨ Inter å­—ä½“ï¼Œä¸»è¦å­—å· 16px

* **å¸ƒå±€é£æ ¼**ï¼šå¡ç‰‡å¼è®¾è®¡ï¼Œé¡¶éƒ¨å¯¼èˆªï¼Œå“åº”å¼ç½‘æ ¼å¸ƒå±€

* **å›¾æ ‡é£æ ¼**ï¼šçº¿æ€§å›¾æ ‡ï¼Œç»Ÿä¸€çš„è§†è§‰è¯­è¨€ï¼Œæ”¯æŒæ·±æµ…ä¸»é¢˜

<span class="hljs-comment">### 4.2 é¡µé¢è®¾è®¡æ¦‚è§ˆ</span>

| é¡µé¢åç§° | æ¨¡å—åç§° | ç•Œé¢å…ƒç´                        |
| ---- | ---- | -------------------------- |
| é¦–é¡µ   | ä¸Šä¼ åŒºåŸŸ | è™šçº¿è¾¹æ¡†çš„æ‹–æ‹½åŒºåŸŸï¼Œä¸Šä¼ å›¾æ ‡ï¼Œè¿›åº¦æ¡ï¼Œå›¾ç‰‡é¢„è§ˆå¡ç‰‡  |
| é¦–é¡µ   | å¯¼èˆªæ   | åº”ç”¨Logoï¼Œæ ‡é¢˜ï¼Œè®¾ç½®é½¿è½®å›¾æ ‡æŒ‰é’®         |
| ç‚¹é¤é¡µé¢ | èœå“å¡ç‰‡ | åœ†è§’å¡ç‰‡ï¼ŒAIç”Ÿæˆå›¾ç‰‡ï¼Œèœåæ ‡é¢˜ï¼Œæè¿°æ–‡æœ¬ï¼ŒåŠ å·æŒ‰é’® |
| ç‚¹é¤é¡µé¢ | è´­ç‰©è½¦  | æµ®åŠ¨è´­ç‰©è½¦å›¾æ ‡ï¼Œæ•°é‡å¾½ç« ï¼Œä¾§è¾¹æ å±•å¼€é¢æ¿       |
| è®¾ç½®é¡µé¢ | é…ç½®è¡¨å• | è¾“å…¥æ¡†ï¼Œä¿å­˜æŒ‰é’®ï¼ŒçŠ¶æ€æç¤ºï¼Œåˆ†ç»„è®¾ç½®é¡¹        |

<span class="hljs-comment">### 4.3 å“åº”å¼è®¾è®¡</span>

åº”ç”¨é‡‡ç”¨ç§»åŠ¨ä¼˜å…ˆçš„å“åº”å¼è®¾è®¡ï¼Œå®Œç¾é€‚é…æ‰‹æœºã€å¹³æ¿å’Œæ¡Œé¢è®¾å¤‡ã€‚åœ¨ç§»åŠ¨ç«¯ä¼˜åŒ–è§¦æ‘¸äº¤äº’ä½“éªŒï¼Œç¡®ä¿æŒ‰é’®å¤§å°é€‚åˆæ‰‹æŒ‡æ“ä½œã€‚

4.4 APIè°ƒç”¨ç¤ºä¾‹

doubao-seedream-4-0-250828è°ƒç”¨ç¤ºä¾‹å¦‚ä¸‹

curl -X POST &lt;https://ark.cn-beijing.volces.com/api/v3/images/generations&gt; \

-H <span class="hljs-string">"Content-Type: application/json"</span> \

-H <span class="hljs-string">"Authorization: Bearer your api key"</span> \

-d '{

<span class="hljs-string">"model"</span>: <span class="hljs-string">"doubao-seedream-4-0-250828"</span>,

<span class="hljs-string">"prompt"</span>: <span class="hljs-string">"Generate 3 images of a girl and a cow plushie happily riding a roller coaster in an amusement park, depicting morning, noon, and night."</span>,

<span class="hljs-string">"image"</span>: [<span class="hljs-string">" &lt;https://ark-doc.tos-ap-southeast-1.bytepluses.com/doc_image/seedream4_imagesToimages_1.png&gt; "</span>, <span class="hljs-string">" &lt;https://ark-doc.tos-ap-southeast-1.bytepluses.com/doc_image/seedream4_imagesToimages_2.png&gt; "</span>],

<span class="hljs-string">"sequential_image_generation"</span>: <span class="hljs-string">"auto"</span>,

<span class="hljs-string">"sequential_image_generation_options"</span>: {

<span class="hljs-string">"max_images"</span>: 3

},

<span class="hljs-string">"response_format"</span>: <span class="hljs-string">"url"</span>,

<span class="hljs-string">"size"</span>: <span class="hljs-string">"2K"</span>,

<span class="hljs-string">"stream"</span>: true,

<span class="hljs-string">"watermark"</span>: true

}'

doubao-seed-1-6-vision-250815è°ƒç”¨ç¤ºä¾‹

curl &lt;https://ark.cn-beijing.volces.com/api/v3/chat/completions&gt; \

-H <span class="hljs-string">"Content-Type: application/json"</span> \

-H <span class="hljs-string">"Authorization: Bearer your api key"</span> \

-d $'{

<span class="hljs-string">"model"</span>: <span class="hljs-string">"doubao-seed-1-6-vision-250815"</span>,

<span class="hljs-string">"messages"</span>: [

{

<span class="hljs-string">"content"</span>: [

{

<span class="hljs-string">"image_url"</span>: {

<span class="hljs-string">"url"</span>: <span class="hljs-string">" &lt;https://ark-project.tos-cn-beijing.ivolces.com/images/view.jpeg&gt; "</span>

},

<span class="hljs-string">"type"</span>: <span class="hljs-string">"image_url"</span>

},

{

<span class="hljs-string">"text"</span>: <span class="hljs-string">"å›¾ç‰‡ä¸»è¦è®²äº†ä»€ä¹ˆ?"</span>,

<span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span>

}

],

<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>

}

]

}'
</code></pre>
<h5 data-id="heading-14">AIè¯†èœé€šæŠ€æœ¯æ¶æ„æ–‡æ¡£</h5>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment"># AIè¯†èœé€šæŠ€æœ¯æ¶æ„æ–‡æ¡£</span>

<span class="hljs-comment">## 1. Architecture design</span>

```mermaid
graph TD
    A[ç”¨æˆ·æµè§ˆå™¨] --&gt; B[Reactå‰ç«¯åº”ç”¨]
    B --&gt; C[Doubao Vision API]
    B --&gt; D[Doubao Image Generation API]
    B --&gt; E[LocalStorage]

    subgraph <span class="hljs-string">"å‰ç«¯å±‚"</span>
        B
        F[shadcn/uiç»„ä»¶]
        G[Radix UIç»„ä»¶]
        H[çŠ¶æ€ç®¡ç†]
        B --&gt; F
        B --&gt; G
        B --&gt; H
    end

    subgraph <span class="hljs-string">"å¤–éƒ¨æœåŠ¡"</span>
        C
        D
    end

    subgraph <span class="hljs-string">"æœ¬åœ°å­˜å‚¨"</span>
        E
    end
```

<span class="hljs-comment">## 2. Technology Description</span>

* Frontend: React@<span class="hljs-number">18</span> + TypeScript + Vite + TailwindCSS

* UI Components: shadcn/ui + Radix UI

* State Management: React Context + useState/useReducer

* HTTP Client: Fetch API

* Storage: LocalStorage

* Icons: Lucide React

* External APIs: Doubao Vision API, Doubao Image Generation API

<span class="hljs-comment">## 3. Route definitions</span>

| Route     | Purpose               |
| --------- | --------------------- |
| /         | é¦–é¡µï¼Œèœå•å›¾ç‰‡ä¸Šä¼ å’ŒAIå¤„ç†        |
| /menu     | ç‚¹èœé¡µé¢ï¼Œæ˜¾ç¤ºç¿»è¯‘åçš„èœå“åˆ—è¡¨å’Œè´­ç‰©è½¦åŠŸèƒ½ |
| /settings | è®¾ç½®é¡µé¢ï¼Œé…ç½®APIå¯†é’¥å’Œåº”ç”¨è®¾ç½®     |

<span class="hljs-comment">## 4. API definitions</span>

<span class="hljs-comment">### 4.1 Core API</span>

<span class="hljs-comment">#### Doubao Vision API è°ƒç”¨</span>

```
POST https:<span class="hljs-comment">//ark.cn-beijing.volces.com/api/v3/chat/completions</span>
```

Request Headers:

| Header Name   | Value             | Description |
| ------------- | ----------------- | ----------- |
| Authorization | Bearer {API_KEY} | APIå¯†é’¥è®¤è¯     |
| Content-Type  | application/json  | è¯·æ±‚å†…å®¹ç±»å‹      |

Request Body:

```json
{
  <span class="hljs-string">"model"</span>: <span class="hljs-string">"doubao-seed-1-6-vision-250815"</span>,
  <span class="hljs-string">"messages"</span>: [
    {
      <span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>,
      <span class="hljs-string">"content"</span>: [
        {
          <span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span>,
          <span class="hljs-string">"text"</span>: <span class="hljs-string">"è¯·è¯†åˆ«è¿™å¼ èœå•å›¾ç‰‡ä¸­çš„æ‰€æœ‰èœå“ï¼Œå¹¶ç¿»è¯‘ä¸ºä¸­æ–‡ã€‚è¯·æŒ‰ç…§ä»¥ä¸‹JSONæ ¼å¼è¿”å›ï¼š{"</span>dishes<span class="hljs-string">": [{"</span>originalName<span class="hljs-string">": "</span>åŸæ–‡åç§°<span class="hljs-string">", "</span>chineseName<span class="hljs-string">": "</span>ä¸­æ–‡åç§°<span class="hljs-string">", "</span>description<span class="hljs-string">": "</span>èœå“æè¿°<span class="hljs-string">", "</span>estimatedPrice<span class="hljs-string">": "</span>é¢„ä¼°ä»·æ ¼<span class="hljs-string">"}]}"</span>
        },
        {
          <span class="hljs-string">"type"</span>: <span class="hljs-string">"image_url"</span>,
          <span class="hljs-string">"image_url"</span>: {
            <span class="hljs-string">"url"</span>: <span class="hljs-string">"data:image/jpeg;base64,{base64_image}"</span>
          }
        }
      ]
    }
  ]
}
```

<span class="hljs-comment">#### Doubao Image Generation API è°ƒç”¨</span>

```
POST https:<span class="hljs-comment">//ark.cn-beijing.volces.com/api/v3/images/generations</span>
```

Request Headers:

| Header Name   | Value             | Description |
| ------------- | ----------------- | ----------- |
| Authorization | Bearer {API_KEY} | APIå¯†é’¥è®¤è¯     |
| Content-Type  | application/json  | è¯·æ±‚å†…å®¹ç±»å‹      |

Request Body:

```json
{
  <span class="hljs-string">"model"</span>: <span class="hljs-string">"doubao-seedream-4-0-250828"</span>,
  <span class="hljs-string">"prompt"</span>: <span class="hljs-string">"é«˜è´¨é‡çš„{èœå“åç§°}ç¾é£Ÿæ‘„å½±ï¼Œä¸“ä¸šé¤å…çº§åˆ«ï¼Œè‡ªç„¶å…‰çº¿ï¼Œç²¾ç¾æ‘†ç›˜"</span>,
  <span class="hljs-string">"n"</span>: <span class="hljs-number">1</span>,
  <span class="hljs-string">"size"</span>: <span class="hljs-string">"1024x1024"</span>,
  <span class="hljs-string">"quality"</span>: <span class="hljs-string">"standard"</span>
}
```

<span class="hljs-comment">### 4.2 æ•°æ®ç±»å‹å®šä¹‰</span>

```typescript
<span class="hljs-comment">// èœå“ä¿¡æ¯</span>
<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Dish</span> </span>{
  id: <span class="hljs-keyword">string</span>;
  originalName: <span class="hljs-keyword">string</span>;
  chineseName: <span class="hljs-keyword">string</span>;
  description: <span class="hljs-keyword">string</span>;
  estimatedPrice?: <span class="hljs-keyword">string</span>;
  imageUrl?: <span class="hljs-keyword">string</span>;
  isGeneratingImage?: <span class="hljs-keyword">boolean</span>;
}

<span class="hljs-comment">// è´­ç‰©è½¦é¡¹ç›®</span>
<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">CartItem</span> </span>{
  dish: Dish;
  quantity: number;
}

<span class="hljs-comment">// APIé…ç½®</span>
<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ApiConfig</span> </span>{
  visionApiKey: <span class="hljs-keyword">string</span>;
  imageApiKey: <span class="hljs-keyword">string</span>;
}

<span class="hljs-comment">// åº”ç”¨çŠ¶æ€</span>
<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">AppState</span> </span>{
  dishes: Dish[];
  cart: CartItem[];
  isProcessing: <span class="hljs-keyword">boolean</span>;
  processingStep: <span class="hljs-string">'uploading'</span> | <span class="hljs-string">'analyzing'</span> | <span class="hljs-string">'translating'</span> | <span class="hljs-string">'generating_images'</span> | <span class="hljs-string">'completed'</span>;
  apiConfig: ApiConfig;
}
```

<span class="hljs-comment">## 5. Data model</span>

<span class="hljs-comment">### 5.1 LocalStorage æ•°æ®ç»“æ„</span>

ç”±äºè¿™æ˜¯ä¸€ä¸ªçº¯å‰ç«¯åº”ç”¨ï¼Œæ‰€æœ‰æ•°æ®éƒ½å­˜å‚¨åœ¨æµè§ˆå™¨çš„LocalStorageä¸­ï¼š

```typescript
<span class="hljs-comment">// APIé…ç½®å­˜å‚¨</span>
localStorage.<span class="hljs-title function_ invoke__">setItem</span>(<span class="hljs-string">'ai-menu-api-config'</span>, JSON.<span class="hljs-title function_ invoke__">stringify</span>({
  <span class="hljs-attr">visionApiKey</span>: <span class="hljs-keyword">string</span>,
  <span class="hljs-attr">imageApiKey</span>: <span class="hljs-keyword">string</span>
}));

<span class="hljs-comment">// æœ€è¿‘å¤„ç†çš„èœå•ç¼“å­˜</span>
localStorage.<span class="hljs-title function_ invoke__">setItem</span>(<span class="hljs-string">'ai-menu-recent-dishes'</span>, JSON.<span class="hljs-title function_ invoke__">stringify</span>({
  <span class="hljs-attr">timestamp</span>: number,
  <span class="hljs-attr">dishes</span>: Dish[]
}));

<span class="hljs-comment">// ç”¨æˆ·åå¥½è®¾ç½®</span>
localStorage.<span class="hljs-title function_ invoke__">setItem</span>(<span class="hljs-string">'ai-menu-preferences'</span>, JSON.<span class="hljs-title function_ invoke__">stringify</span>({
  <span class="hljs-attr">language</span>: <span class="hljs-string">'zh-CN'</span>,
  <span class="hljs-attr">imageQuality</span>: <span class="hljs-string">'standard'</span>,
  <span class="hljs-attr">autoGenerateImages</span>: <span class="hljs-literal">true</span>
}));
```

<span class="hljs-comment">### 5.2 ç»„ä»¶çŠ¶æ€ç®¡ç†</span>

```typescript
<span class="hljs-comment">// å…¨å±€åº”ç”¨çŠ¶æ€ Context</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">AppContext</span> = createContext&lt;{
  state: AppState;
  dispatch: React.Dispatch&lt;AppAction&gt;;
}&gt;();

<span class="hljs-comment">// çŠ¶æ€æ›´æ–°åŠ¨ä½œ</span>
type AppAction = 
  | { type: <span class="hljs-string">'SET_DISHES'</span>; payload: Dish[] }
  | { type: <span class="hljs-string">'ADD_TO_CART'</span>; payload: Dish }
  | { type: <span class="hljs-string">'REMOVE_FROM_CART'</span>; payload: <span class="hljs-keyword">string</span> }
  | { type: <span class="hljs-string">'UPDATE_CART_QUANTITY'</span>; payload: { dishId: <span class="hljs-keyword">string</span>; quantity: number } }
  | { type: <span class="hljs-string">'SET_PROCESSING'</span>; payload: <span class="hljs-keyword">boolean</span> }
  | { type: <span class="hljs-string">'SET_PROCESSING_STEP'</span>; payload: AppState[<span class="hljs-string">'processingStep'</span>] }
  | { type: <span class="hljs-string">'UPDATE_DISH_IMAGE'</span>; payload: { dishId: <span class="hljs-keyword">string</span>; imageUrl: <span class="hljs-keyword">string</span> } };
```

<span class="hljs-comment">## 6. é¡¹ç›®ç»“æ„</span>

```
ai-menu/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ui/                 <span class="hljs-comment"># shadcn/uiç»„ä»¶</span>
â”‚   â”‚   â”œâ”€â”€ ImageUpload.tsx     <span class="hljs-comment"># å›¾ç‰‡ä¸Šä¼ ç»„ä»¶</span>
â”‚   â”‚   â”œâ”€â”€ DishCard.tsx        <span class="hljs-comment"># èœå“å¡ç‰‡ç»„ä»¶</span>
â”‚   â”‚   â”œâ”€â”€ Cart.tsx            <span class="hljs-comment"># è´­ç‰©è½¦ç»„ä»¶</span>
â”‚   â”‚   â”œâ”€â”€ OrderSummary.tsx    <span class="hljs-comment"># è®¢å•æ‘˜è¦ç»„ä»¶</span>
â”‚   â”‚   â””â”€â”€ ApiKeySettings.tsx  <span class="hljs-comment"># APIå¯†é’¥è®¾ç½®ç»„ä»¶</span>
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ HomePage.tsx        <span class="hljs-comment"># é¦–é¡µ</span>
â”‚   â”‚   â”œâ”€â”€ MenuPage.tsx        <span class="hljs-comment"># ç‚¹èœé¡µé¢</span>
â”‚   â”‚   â””â”€â”€ SettingsPage.tsx    <span class="hljs-comment"># è®¾ç½®é¡µé¢</span>
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ useApiConfig.ts     <span class="hljs-comment"># APIé…ç½®ç®¡ç†</span>
â”‚   â”‚   â”œâ”€â”€ useImageUpload.ts   <span class="hljs-comment"># å›¾ç‰‡ä¸Šä¼ å¤„ç†</span>
â”‚   â”‚   â””â”€â”€ useCart.ts          <span class="hljs-comment"># è´­ç‰©è½¦é€»è¾‘</span>
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ doubaoApi.ts        <span class="hljs-comment"># Doubao APIè°ƒç”¨</span>
â”‚   â”‚   â””â”€â”€ imageService.ts     <span class="hljs-comment"># å›¾ç‰‡å¤„ç†æœåŠ¡</span>
â”‚   â”œâ”€â”€ context/
â”‚   â”‚   â””â”€â”€ AppContext.tsx      <span class="hljs-comment"># å…¨å±€çŠ¶æ€ç®¡ç†</span>
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ index.ts            <span class="hljs-comment"># TypeScriptç±»å‹å®šä¹‰</span>
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ storage.ts          <span class="hljs-comment"># LocalStorageå·¥å…·</span>
â”‚   â”‚   â””â”€â”€ imageUtils.ts       <span class="hljs-comment"># å›¾ç‰‡å¤„ç†å·¥å…·</span>
â”‚   â””â”€â”€ App.tsx
â”œâ”€â”€ <span class="hljs-keyword">public</span>/
â”œâ”€â”€ package.json
â”œâ”€â”€ tailwind.config.js
â”œâ”€â”€ vite.config.ts
â””â”€â”€ tsconfig.json
```
</code></pre>
<h4 data-id="heading-15">ä¸Šä¸‹æ–‡å·¥ç¨‹å¼€å‘</h4>
<p>å¦‚æœè¯´å¯¹äºSOLOç”Ÿæˆçš„æ–‡æ¡£ä¸æ»¡æ„ï¼Œæˆ–è€…æœ‰éƒ¨åˆ†åœ°æ–¹éœ€è¦ä¿®æ”¹çš„è¯ï¼Œæ˜¯å¯ä»¥ç›´æ¥åœ¨æ–‡æ¡£ä¸­è¿›è¡Œç¼–è¾‘çš„ï¼Œè¿™ä¸€ç‚¹ åšå¾—å¯è°“æ˜¯éå¸¸ä¸æ»‘ï¼ŒSOLOç»™æˆ‘çš„æ•´ä½“ä½“éªŒå°±æ˜¯æ•´ä¸ªé¡¹ç›®å¼€å‘è¿‡ç¨‹å…¨åœ¨ä½ çš„æŒæ§ä¸­ä¸€èˆ¬ã€‚ğŸ‘</p>
<p>æ–‡æ¡£å…¶å®å°±æ˜¯Traeå¯¹æ•´ä¸ªé¡¹ç›®çš„ç†è§£ï¼Œè¿™ä¸ªä¿®æ­£è¿‡ç¨‹æ˜¯å¾ˆæœ‰å¿…è¦çš„ï¼Œåœ¨ç¡®ä¿Traeå®Œå…¨ç†è§£äº†æˆ‘ä»¬çš„æ„æ€ï¼Œä¹Ÿå°±æ˜¯ç¡®è®¤æ–‡æ¡£æ— è¯¯ä¹‹åå³å¯å‘Trae Soloå‘å‡ºå‘½ä»¤ï¼šæŒ‰ç…§æ–‡æ¡£è¿›è¡Œå¼€å‘ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/732b69e5d2cc4a8bb5c1076481e95ab9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=e0BTgkMdJehWQj2wC3SS47QR%2Be4%3D" alt="" loading="lazy"/></p>
<p>Trae Soloä¼šåœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­è‡ªåŠ¨ä¸‹è½½ä¾èµ–ã€åˆ›å»ºé…ç½®æ–‡ä»¶ã€ç”Ÿæˆå‡½æ•°ã€è¿è¡Œç»ˆç«¯ï¼Œè¿åˆ°çš„é—®é¢˜ä¹Ÿéƒ½ä¼šè¢«å½“åšä¸Šä¸‹æ–‡ç»§ç»­å®Œå–„å¼€å‘ï¼Œä¸æ„§æ˜¯å›½äº§ä¹‹å…‰ï¼Œç¬¬ä¸€ä½ä¸Šä¸‹æ–‡å·¥ç¨‹IDEï¼Œè®©æ•´ä¸ªä»0åˆ°1çš„è¿‡ç¨‹æ— æ¯”ä¸æ»‘æµç•…ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/714cd0caec8a404491f1276859de9c73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=gjqKnZeM7B0glSTY%2Fl5QkqKc3sE%3D" alt="" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°Trae Soloä¸å…‰æ˜¯ä¼šåˆ›å»ºæ–‡ä»¶ï¼Œä¸‹è½½ä¾èµ–ï¼Œå¹¶ä¸”ä¸‹è½½ä¾èµ–ä¸­çš„é”™è¯¯ï¼Œä¹Ÿéƒ½ä¸€å¹¶ç»™è§£å†³æ‰ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c8d700f566a4cd686cad24fdd4d91b2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=AMoycdiIu8eDFLq5pms3T%2Bzo7Mg%3D" alt="" loading="lazy"/></p>
<p>é‡åˆ°é”™è¯¯ä¹‹åä¹Ÿå¯ä»¥ä¸€é”®æ·»åŠ åˆ°ä¸Šä¸‹æ–‡ä¸­è¿›è¡Œä¿®å¤ï¼Œå¹¶ä¸”è¿˜ä¼šæ ¹æ®ä¸Šä¸‹æ–‡è‡ªæµ‹ä¸€ç•ªï¼Œæ¯”èµ·ä¼ ç»Ÿçš„å¤åˆ¶æ§åˆ¶å°çš„é”™è¯¯ï¼Œå†è¿›è¡Œè‡ªæµ‹ï¼Œè¿™ç§æ–¹å¼ä¸çŸ¥é“æœ‰å¤šè®©ç¨‹åºå‘˜å®‰å¿ƒï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d813b7399cbb44f98bb4893906c031e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=muT15VsNqAo%2BIkkNlLsO1lT4d14%3D" alt="" loading="lazy"/></p>
<p>è‹¥æœ‰ä»€ä¹ˆå°é—®é¢˜ä¹Ÿå¯ä»¥éšæ—¶æ‰“æ–­å¹¶æå‡ºé—®é¢˜ï¼ŒTrae Soloä¼šæ ¹æ®ä¸Šä¸‹æ–‡è¿›è¡Œé‡æ–°æ€è€ƒï¼Œå¹¶ä¸”ä¼šç»“åˆå·²ç»ç”Ÿæˆçš„å†…å®¹åŠ ä¸Šåˆšåˆšæå‡ºçš„å†…å®¹è¿›è¡Œç»¼åˆè€ƒé‡ï¼Œæ‰€ä»¥ä¸å¿…æ‹…å¿ƒè¯´çªç„¶çš„æ‰“æ–­ä¼šè®©Traeä¹±äº†é˜µè„šï¼Œè¿™å…¶å®ä¸€åˆ‡éƒ½åœ¨å®ƒçš„æŒæ§ä¹‹ä¸­ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c0cfa96054074fbaaa2abb26db99b76e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=wTkTKNhBsugvYImlAbPDvptavLo%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-16">æˆæœå±•ç¤º</h3>
<h4 data-id="heading-17">1. éƒ¨ç½²é˜¶æ®µ</h4>
<p>åœ¨é¡¹ç›®â€œAIè¯†èœé€šâ€çš„æœ€ç»ˆéƒ¨ç½²é˜¶æ®µï¼Œæˆ‘é€‰æ‹©äº† Vercel ä½œä¸ºå‰ç«¯åº”ç”¨çš„æ‰˜ç®¡å¹³å°ã€‚Vercel ä»¥å…¶å“è¶Šçš„å¼€å‘è€…ä½“éªŒå’Œå¯¹ç°ä»£å‰ç«¯æ¡†æ¶çš„æ·±åº¦æ”¯æŒï¼Œæå¤§ç®€åŒ–äº†éƒ¨ç½²æµç¨‹ã€‚æœ¬é¡¹ç›®åŸºäº React æ„å»ºï¼Œå¹¶ä½¿ç”¨äº† shadcn/ui å’Œ Radix UI ç»„ä»¶åº“ï¼ŒVercel èƒ½è‡ªåŠ¨è¯†åˆ«é¡¹ç›®ç»“æ„ï¼Œå®ç°ä¸€é”®éƒ¨ç½²å’ŒæŒç»­é›†æˆã€‚æ¯æ¬¡ä»£ç æ¨é€è‡³ GitHub ä»“åº“ï¼ŒVercel éƒ½ä¼šè‡ªåŠ¨æ„å»ºå¹¶ç”Ÿæˆé¢„è§ˆé“¾æ¥ï¼Œæ–¹ä¾¿å¿«é€Ÿæµ‹è¯•ä¸è¿­ä»£ã€‚æ›´é‡è¦çš„æ˜¯ï¼ŒVercel æä¾›å…¨çƒè¾¹ç¼˜ç½‘ç»œåˆ†å‘ï¼Œç¡®ä¿ç”¨æˆ·æ— è®ºèº«å¤„ä½•åœ°ï¼Œéƒ½èƒ½å¿«é€ŸåŠ è½½åº”ç”¨é¡µé¢ã€‚æ•´ä¸ªâ€œAIè¯†èœé€šâ€ä»å‰ç«¯äº¤äº’ã€å›¾ç‰‡ä¸Šä¼ ï¼Œåˆ°è°ƒç”¨è±†åŒ…å¤§æ¨¡å‹è¿›è¡Œå¤šè¯­è¨€èœå•è¯†åˆ«ä¸èœå“å›¾åƒç”Ÿæˆï¼Œæœ€ç»ˆç”Ÿæˆç‚¹é¤å­—ç¬¦ä¸²ï¼Œå…¨éƒ¨é€šè¿‡ Vercel é«˜æ•ˆã€ç¨³å®šåœ°äº¤ä»˜ç»™ç”¨æˆ·ã€‚å€ŸåŠ© Vercel çš„å…è´¹è®¡åˆ’å’Œæ— ç¼ DevOps èƒ½åŠ›ï¼Œæˆ‘å¾—ä»¥å°†ç²¾åŠ›èšç„¦åœ¨æ ¸å¿ƒ AI åŠŸèƒ½å¼€å‘ä¸Šï¼Œè€Œæ— éœ€æ‹…å¿ƒæœåŠ¡å™¨è¿ç»´ï¼ŒçœŸæ­£å®ç°äº†â€œå¼€å‘å³éƒ¨ç½²â€çš„ç°ä»£ Web å¼€å‘ä½“éªŒã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e9a28175eda0480c9d763a163df8f364~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=ywg84FUoWdJJ4H6kPbDDS6PSOTw%3D" alt="" loading="lazy"/></p>
<p>å¹¶ä¸”æ•´ä½“çš„éƒ¨ç½²æµç¨‹ä¹Ÿä»…ä»…åªéœ€è¦ä¸€å¥è¯è€Œå·²ï¼Œå¦‚æœè¯´ç¼ºå°‘äº†KEYæˆ–è€…ä¾èµ–ç­‰ç­‰ï¼ŒTraeä¹Ÿä¼šåŠæ—¶çš„æé†’ä½ è¡¥å……ä¿¡æ¯ï¼Œçœå»äº†ç¹ççš„éƒ¨ç½²æµç¨‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d41e6bd5cb1342a59628deb1064156a3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=PUpvlUgwm%2Btthk42HEncyG9vaQk%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-18">2. é¦–é¡µ</h4>
<p>é‚£ä¹ˆåœ¨éƒ¨ç½²å®Œæ¯•ä¹‹åè®¿é—®AIè¯†èœé€šç½‘å€çš„ç¬¬ä¸€å°è±¡å°±æ˜¯é¦–é¡µï¼Œå¯ä»¥è¯´è¿™ä¸ªç•Œé¢æ•´ä½“ï¼Œç®€æ´å¤§æ°”ï¼Œæ¯”å¾ˆå¤šç«å“ç”Ÿæˆçš„éƒ½è¦çˆ½ç›®ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘å–œæ¬¢Trae Soloçš„ç‚¹ï¼Œå®¡ç¾éå¸¸åœ¨çº¿ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fbd94394485b42c0a8d18bd1a8f0fe47~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=kdEFjkXU71MQ4uymHFBLbNICSC4%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-19">3. è®¾ç½®APIå¯†é’¥</h4>
<p>é‚£ä¹ˆæƒ³è¦ä½¿ç”¨æœ¬é¡¹ç›®çš„è¯ï¼Œç¬¬ä¸€ä»¶äº‹å°±æ˜¯è®¾ç½®è±†åŒ…å¤§æ¨¡å‹çš„APIå¯†é’¥ï¼Œè¿™é‡Œå£°æ˜ä¸€ä¸‹ï¼šç”¨æˆ·è‡ªå·±çš„APIå¯†é’¥å­˜æ”¾åœ¨æœ¬åœ°çš„storageä¸­ï¼Œå¹¶ä¸ä¼šä¸Šä¼ åˆ°äº‘ç«¯ï¼Œç¡®ä¿ç”¨æˆ·çš„å¯†é’¥å®‰å…¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6cf0991be7c84779ba4be14ddd42d2ae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=kShZ5EDCp8cUwbvXnueAhOryRW4%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/732bddb7b9944556ba522f961734402b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=WId%2Fqww%2FLYh%2B824qRSK1gB5owrU%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-20">4. è¯†åˆ«èœå•</h4>
<p>å‰ç½®æ¡ä»¶å‡†å¤‡å¥½ä¹‹åï¼Œæˆ‘ä»ç½‘ä¸Šä¸‹è½½äº†ä¸€ä»½è‹±æ–‡èœå•è¿›è¡Œæµ‹è¯•ï¼Œçœ‹çœ‹é¡¹ç›®åˆ°åº•èƒ½ä¸èƒ½æ‰“ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a8b01c7e6484bd98197f4c200a9e38d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=OZMZdEIyZ9fBJpp%2BwJD51P%2Bl5SI%3D" alt="" loading="lazy"/></p>
<p>ä¸Šä¼ å›¾ç‰‡ä¹‹åé¡¹ç›®å°±ä¼šè°ƒç”¨è±†åŒ…å¤§æ¨¡å‹è¿›è¡Œåˆ†æï¼Œæ•´ä½“çš„æ—¶é—´æ ¹æ®èœå•å†…å®¹çš„å¤šå°‘ä¼šæœ‰äº›å‡ºå…¥ï¼Œé™é™ç­‰å¾…å‡ åˆ†é’Ÿå°±å¥½ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fbf62791e0014ee98df2d66986f2e322~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=kp0FqrH4up%2FIWKIUTO0GVvoKEPs%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e7d9e028a4ee4c5bb94e9f3f0d2dd55f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=qMfrUtCdE4UMPZaBEt3XKOKNvDk%3D" alt="" loading="lazy"/></p>
<p>èœå•è¯†åˆ«å®Œæ¯•ä¹‹åï¼Œé¦–é¡µä¼šæç¤ºï¼Œç‚¹å‡»å»ç‚¹èœå³å¯çœ‹åˆ°ç”Ÿæˆçš„ä¸­æ–‡èœå•</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b631edb6b82d42c18b7b1a2bf7c883bf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=TaTJnHFmWyJpLnOy4SX11UjHiZQ%3D" alt="" loading="lazy"/></p>
<p>ä»¥ä¸‹æ˜¯ç”Ÿæˆåçš„ç»“æœï¼Œå¯ä»¥çœ‹åˆ°ï¼Œç”Ÿæˆçš„å›¾ç‰‡æ˜¯å¾ˆç¬¦åˆèœå•ä¸­çš„æ ·å­çš„ï¼Œè¿™æ ·è®©æœ¬æ¥æ™¦æ¶©éš¾æ‡‚çš„èœå•æœ‰äº†æ´»åŠ›ï¼Œè¿™ä¹Ÿè®¸å°±æ˜¯ç§‘æŠ€å¸¦ç»™æˆ‘ä»¬çš„æ„ä¹‰å§ï¼ŒæœåŠ¡ç”Ÿæ´»ï¼Œç„¶åè¿™æ ·å°±å¯ä»¥é¡ºåˆ©ç‚¹èœäº†ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1a3e3884fc3d4951ba4e2b16380db4f4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=Z%2B2z0xzacf8fNPu%2FhTeh15FjACQ%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b2f02085bd4648a6a7da0d6b6f7c6684~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=y%2BlCJkUMqHGyFfsMl1e7tTG%2BmOw%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-21">5. ç‚¹é¤è¿›å…¥è´­ç‰©è½¦</h4>
<p>é€‰æ‹©è‡ªå·±éœ€è¦ç‚¹çš„è§†é¢‘åŠ å…¥è´­ç‰©è½¦</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ea2e4fe2efa4c6881d76b269c6771df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=LnmpmS2uK6Oie9dbabQZ34gupDo%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/afa908f196ee491cbc60bf5a327a4023~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=GQ3xRpiE8vcWCXt8VzWHFZAeJH0%3D" alt="" loading="lazy"/></p>
<p>ç‚¹å‡»ç”Ÿæˆè®¢å•æ±‡æ€»ï¼Œä¼šç”Ÿæˆä¸€ä»½åˆšåˆšçš„ç‚¹èœTXTæ ¼å¼çš„æ¸…å•ï¼š<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6182f8189e7c422999cef368d8bf236c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=hPaq8oUHX%2FnSKYg9G%2BK5Rmhp1Gs%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-22">æ€»ç»“</h3>
<p>â€œAIè¯†èœé€šâ€æ˜¯ä¸€ä¸ªèåˆå¤šæ¨¡æ€AIèƒ½åŠ›çš„æ™ºèƒ½ç‚¹é¤åº”ç”¨ï¼Œé€šè¿‡ç”¨æˆ·ä¸Šä¼ ä»»æ„è¯­è¨€çš„èœå•å›¾ç‰‡ï¼Œè‡ªåŠ¨è°ƒç”¨è±†åŒ…å¤§æ¨¡å‹ï¼ˆdoubao-seed-1.6-visionï¼‰è¿›è¡Œè§†è§‰è¯†åˆ«ä¸ç¿»è¯‘ï¼Œå†ç»“åˆ Seedream 4.0 ç”Ÿæˆé«˜è´¨é‡èœå“å›¾åƒï¼Œæœ€ç»ˆå®ç°ç»“æ„åŒ–ä¸­æ–‡èœå•å±•ç¤ºã€è´­ç‰©è½¦ç®¡ç†ä¸ç‚¹é¤æ¸…å•ç”Ÿæˆã€‚æ•´ä¸ªé¡¹ç›®é‡‡ç”¨ React + TypeScript æŠ€æœ¯æ ˆï¼Œé›†æˆ shadcn/ui ä¸ Radix UI ç»„ä»¶åº“ï¼Œæ‰€æœ‰æ•°æ®ï¼ˆåŒ…æ‹¬ API å¯†é’¥ï¼‰å‡æœ¬åœ°å­˜å‚¨äºæµè§ˆå™¨ LocalStorageï¼Œæ— éœ€åç«¯ä¾èµ–ã€‚é¡¹ç›®é€šè¿‡ Vercel å®ç°ä¸€é”®éƒ¨ç½²ï¼Œå…·å¤‡å®Œæ•´çš„å“åº”å¼è®¾è®¡ä¸æµç•…çš„ç”¨æˆ·äº¤äº’ä½“éªŒã€‚</p>
<p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¸Šä¸‹æ–‡å·¥ç¨‹ï¼ˆContext Engineeringï¼‰æˆä¸ºé¡¹ç›®æˆåŠŸçš„å…³é”®ã€‚ç›¸æ¯”ä¼ ç»Ÿ Prompt Engineeringï¼ŒTrae Solo æä¾›çš„ç»“æ„åŒ–ä¸Šä¸‹æ–‡å»ºæ¨¡ã€åŠ¨æ€æ³¨å…¥ã€å¤šè½®æ„å›¾å¯¹é½ä¸é”™è¯¯é™çº§æœºåˆ¶ï¼Œæ˜¾è‘—æå‡äº†ç³»ç»Ÿåœ¨å¤æ‚ä»»åŠ¡ä¸­çš„å‡†ç¡®æ€§ä¸é²æ£’æ€§ã€‚å°¤å…¶åœ¨å¤šæ¨¡å‹ååŒï¼ˆè§†è§‰è¯†åˆ« + å›¾åƒç”Ÿæˆï¼‰ã€çŠ¶æ€ç®¡ç†ï¼ˆå¦‚è´­ç‰©è½¦åŒæ­¥ã€å›¾ç‰‡ç”ŸæˆçŠ¶æ€è¿½è¸ªï¼‰å’Œå¼‚å¸¸å¤„ç†ï¼ˆå¦‚ API è°ƒç”¨å¤±è´¥å›é€€ï¼‰æ–¹é¢ï¼Œä¸Šä¸‹æ–‡å·¥ç¨‹è®©æ•´ä¸ªæµç¨‹æ›´å¯æ§ã€å¯ç»´æŠ¤ã€‚æ­¤å¤–ï¼Œå°† API å¯†é’¥ç»Ÿä¸€ç®€åŒ–ä¸ºå•å­—æ®µé…ç½®ã€åŠ å…¥è¯†åˆ«è¿›åº¦æ¡ç­‰ç»†èŠ‚ä¼˜åŒ–ï¼Œä¹Ÿæå¤§æå‡äº†ç”¨æˆ·ä½“éªŒã€‚</p>
<p>Trae Solo ä¸ä»…æ˜¯ä¸€æ¬¾å¼€å‘å·¥å…·ï¼Œæ›´åƒä¸€ä½â€œå…¨æ ˆ AI å·¥ç¨‹å¸ˆæ­æ¡£â€ã€‚å®ƒä»éœ€æ±‚ç†è§£å¼€å§‹ï¼Œè‡ªåŠ¨ç”Ÿæˆäº§å“æ–‡æ¡£ä¸æŠ€æœ¯æ¶æ„ï¼Œå†é€æ­¥å®Œæˆé¡¹ç›®åˆå§‹åŒ–ã€ä¾èµ–å®‰è£…ã€ç»„ä»¶å¼€å‘ã€é”™è¯¯ä¿®å¤ä¸éƒ¨ç½²ä¸Šçº¿ï¼Œå…¨ç¨‹ä¸æ»‘æµç•…ã€‚å…¶ä¸Šä¸‹æ–‡æ„ŸçŸ¥èƒ½åŠ›æå¼ºâ€”â€”å³ä½¿ä¸­é€”æ‰“æ–­æˆ–ä¿®æ”¹éœ€æ±‚ï¼Œä¹Ÿèƒ½åŸºäºå·²æœ‰ä¸Šä¸‹æ–‡æ™ºèƒ½è°ƒæ•´ï¼Œç¡®ä¿é€»è¾‘è¿è´¯ã€‚æ›´éš¾å¾—çš„æ˜¯ï¼Œå®ƒå¯¹å¼€å‘è€…ä½“éªŒæåº¦å‹å¥½ï¼šè‡ªåŠ¨å¤„ç†ä¾èµ–å†²çªã€ä¸€é”®ä¿®å¤è¯­æ³•é”™è¯¯ã€å®æ—¶é¢„è§ˆæ•ˆæœï¼ŒçœŸæ­£å®ç°äº†â€œTalk. Think. Ship.â€çš„å¼€å‘å“²å­¦ã€‚ä½œä¸ºå›½äº§ä¸Šä¸‹æ–‡å·¥ç¨‹ IDE çš„å…ˆè¡Œè€…ï¼ŒTrae Solo æå¤§é™ä½äº†å¤æ‚ AI åº”ç”¨çš„å¼€å‘é—¨æ§›ï¼Œå ªç§°â€œå›½äº§ä¹‹å…‰â€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AppleåŒæ¬¾SVGï¼Œæ€ä¹ˆå†™å‡ºæ¥ï¼Ÿæ‰‹å†™+ç¼–è¾‘å™¨ï¼Œä¸¤å¼ æ–¹æ³•éƒ½èƒ½æå®šï¼]]></title>    <link>https://juejin.cn/post/7573709256912126006</link>    <guid>https://juejin.cn/post/7573709256912126006</guid>    <pubDate>2025-11-18T06:40:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573709256912126006" data-draft-id="7573615699958775850" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AppleåŒæ¬¾SVGï¼Œæ€ä¹ˆå†™å‡ºæ¥ï¼Ÿæ‰‹å†™+ç¼–è¾‘å™¨ï¼Œä¸¤å¼ æ–¹æ³•éƒ½èƒ½æå®šï¼"/> <meta itemprop="keywords" content="å¾®ä¿¡"/> <meta itemprop="datePublished" content="2025-11-18T06:40:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä»Šå¤©ä¹Ÿåœ¨ç ”ç©¶å…¬ä¼—å·"/> <meta itemprop="url" content="https://juejin.cn/user/3722264603271284"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AppleåŒæ¬¾SVGï¼Œæ€ä¹ˆå†™å‡ºæ¥ï¼Ÿæ‰‹å†™+ç¼–è¾‘å™¨ï¼Œä¸¤å¼ æ–¹æ³•éƒ½èƒ½æå®šï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3722264603271284/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä»Šå¤©ä¹Ÿåœ¨ç ”ç©¶å…¬ä¼—å·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T06:40:12.000Z" title="Tue Nov 18 2025 06:40:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dd9edfd67ff741ac89921c914e6d3525~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LuK5aSp5Lmf5Zyo56CU56m25YWs5LyX5Y-3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764052812&amp;x-signature=qz1u5%2FVc87ntnU1j0rJht7nRQ%2BM%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹ç¼–è¾‘</p>
<p>æœ‰æ—¶å€™åˆ·åˆ°é‚£ç§å¾ˆå…‹åˆ¶ã€å¾ˆé«˜çº§çš„è½®æ’­â€”â€”æ²¡æœ‰å¤¸å¼ çš„å·¦å³æ•´å±æ»‘åŠ¨ï¼Œåªæ˜¯å‡ å¼ å¡ç‰‡åœ¨è§†é‡é‡Œ<strong>è½»è½»é”™ä½ä¸€ä¸‹</strong>ï¼Œä½ å¤§è„‘é‡Œå°±ä¼šè‡ªåŠ¨è¡¥ä¸€å¥ï¼š</p>
<blockquote>
<p>å—¯ï¼Œè¿™å‘³å„¿æœ‰ç‚¹ Appleã€‚</p>
</blockquote>
<p>è¿™ç±»æ•ˆæœä¸ä¸€å®šè¦ä¸Š JS / CSS å¤§åŠ¨å¹²æˆˆï¼Œå¾ˆå¤šå…¬ä¼—å·é‡Œçš„â€œé«˜çº§è½®æ’­â€ï¼Œå…¶å®å°±æ˜¯ä¸€æ®µÂ <strong>çº¯ SVG + SMIL åŠ¨ç”»</strong>ã€‚ä¸‹é¢æˆ‘ä»¬å°±æ‹†ä¸€æ®µå®é™…åœ¨ç”¨çš„ 4 å›¾è½®æ’­ä»£ç ï¼Œçœ‹å®ƒæ˜¯æ€ä¹ˆé å‡ è¡Œ<code>&lt;animateTransform&gt;</code>Â åšå‡ºè¿™ç§â€œæ¬¾æ¬¾è€Œæ¥â€çš„æ„Ÿè§‰çš„ã€‚<br/>
*æœ¬æ–‡ä»£ç å€Ÿé‰´å­¦ä¹ äº†ä¸€æ¬¾ç°æˆçš„SVGç¼–è¾‘å™¨ -Â Â E2 ç¼–è¾‘å™¨åšç»ƒä¹ ï¼Œåªæ˜¯åšä¸€ä¸‹å­¦ä¹ åˆ†äº«ã€‚</p>
<blockquote>
<p>ä¸‹æ–‡çš„æ ¸å¿ƒç»“æ„æ¥è‡ªè¿™æ ·ä¸€æ®µä»£ç ï¼ˆåªä¿ç•™å’ŒåŠ¨æ•ˆç›¸å…³çš„éƒ¨åˆ†ï¼‰ï¼š</p>
</blockquote>
<pre><code class="hljs language-ini" lang="ini">&lt;svg <span class="hljs-attr">viewBox</span>=<span class="hljs-string">"0 0 0 0"</span> width=<span class="hljs-string">"100%"</span>&gt;
  &lt;g&gt;
    &lt;foreignObject <span class="hljs-attr">x</span>=<span class="hljs-string">"0"</span> y=<span class="hljs-string">"0"</span> width=<span class="hljs-string">"0"</span> height=<span class="hljs-string">"0"</span>&gt;
      &lt;svg
        <span class="hljs-attr">style</span>=<span class="hljs-string">'display:block; background-image:url(""); background-size:100% auto;'</span>
        <span class="hljs-attr">viewBox</span>=<span class="hljs-string">"0 0 0 0"</span> width=<span class="hljs-string">"100%"</span>&gt;
      &lt;/svg&gt;
    &lt;/foreignObject&gt;
  &lt;/g&gt;

  &lt;g&gt;
    &lt;foreignObject ...&gt; ... &lt;/foreignObject&gt;
    &lt;animateTransform
      <span class="hljs-attr">attributeName</span>=<span class="hljs-string">"transform"</span>
      <span class="hljs-attr">type</span>=<span class="hljs-string">"translate"</span>
      <span class="hljs-attr">repeatCount</span>=<span class="hljs-string">"indefinite"</span>
      <span class="hljs-attr">values</span>=<span class="hljs-string">"0 0; 0 0; 0 0; 0 0; 0 0; 0 0; 0 0; -80 0; 0 0;"</span>
      <span class="hljs-attr">begin</span>=<span class="hljs-string">"0.3s"</span>
      <span class="hljs-attr">dur</span>=<span class="hljs-string">"4s"</span>
      <span class="hljs-attr">calcMode</span>=<span class="hljs-string">"spline"</span>
      <span class="hljs-attr">keySplines</span>=<span class="hljs-string">"0.42 0 0.58 1.0; ..."</span>&gt;
    &lt;/animateTransform&gt;
  &lt;/g&gt;

  &lt;!-- å¦å¤– 3 ä¸ª &lt;g&gt;ï¼Œç»“æ„ç±»ä¼¼ï¼Œåªæ˜¯ values ä¸åŒ --&gt;
&lt;/svg&gt;
</code></pre>
<hr/>
<h2 data-id="heading-0">ä¸€ã€æ•´ä½“ç»“æ„ï¼šä¸€ä¸ªÂ <code>&lt;svg&gt;</code>Â + å¤šä¸ªÂ <code>&lt;g&gt;</code>Â = å¤šä¸ª slide</h2>
<p>è¿™æ®µä»£ç çš„ç»“æ„éå¸¸ç®€å•ç²—æš´ï¼š</p>
<ul>
<li><strong>æœ€å¤–å±‚</strong>æ˜¯ä¸€ä¸ªÂ <code>&lt;svg&gt;</code>ï¼Œ<code>width="100%"</code>ï¼Œè·Ÿç€å®¹å™¨è‡ªåŠ¨é“ºæ»¡ï¼›</li>
<li>é‡Œé¢æœ‰Â <strong>å¤šä¸ªÂ <code>&lt;g&gt;</code>Â åˆ†ç»„</strong>ï¼Œæ¯ä¸ªåˆ†ç»„å¯¹åº”ä¸€å¼ â€œå¹»ç¯ç‰‡â€ï¼›</li>
<li>æ¯ä¸ªåˆ†ç»„é‡Œéƒ½æœ‰ä¸€ä¸ªÂ <code>&lt;foreignObject&gt;</code>ï¼Œé‡Œé¢å†åŒ…ä¸€æ®µÂ <code>&lt;svg&gt;</code>ï¼Œè¿™æ®µå†…åµŒ svg åªå¹²ä¸€ä»¶äº‹ï¼š<br/>
ç”¨Â <code>background-image</code>Â æŠŠçœŸæ­£çš„å›¾ç‰‡é“ºä¸Šå»ã€‚</li>
</ul>
<p>æ¢å¥è¯è¯´ï¼Œè¿™ä¸ªè½®æ’­ï¼š</p>
<ul>
<li>æ²¡æœ‰Â <code>&lt;image&gt;</code>Â æ ‡ç­¾ï¼›</li>
<li>æ²¡æœ‰Â <code>&lt;img&gt;</code>Â æ ‡ç­¾ï¼›</li>
<li>å°±æ˜¯æŠŠÂ <strong>å›¾ç‰‡å½“ä½œ CSS èƒŒæ™¯</strong>ï¼ŒæŒ‚åœ¨ä¸€ä¸ª svg é‡Œã€‚</li>
</ul>
<p>è¿™ç§å†™æ³•åœ¨å…¬ä¼—å·åœºæ™¯é‡Œæœ‰ä¸ªå¥½å¤„ï¼š</p>
<ul>
<li>ç‰ˆå¼å±‚æ˜¯ SVG æ§åˆ¶çš„ï¼ˆå¯ä»¥åšåŠ¨æ•ˆï¼‰ï¼›</li>
<li>å›¾åƒå±•ç¤ºå±‚ç›´æ¥èµ° CSS èƒŒæ™¯ï¼ˆå¥½æ›¿æ¢ã€å¥½è£å‰ªï¼‰ã€‚</li>
</ul>
<p>ä½ è¦æ¢è‡ªå·±çš„å›¾ï¼Œåªéœ€è¦æ”¹è¿™ä¸€æ®µçš„ URLï¼š</p>
<pre><code class="hljs language-css" lang="css">&lt;svg
  style='<span class="hljs-attribute">display</span>:block; 
         <span class="hljs-attribute">background-image</span>:<span class="hljs-built_in">url</span>(<span class="hljs-string">"https://ä½ çš„å›¾ç‰‡åœ°å€.jpg"</span>);
         <span class="hljs-attribute">background-size</span>:<span class="hljs-number">100%</span> auto;
         <span class="hljs-attribute">background-repeat</span>:no-repeat;'&gt;
&lt;/svg&gt;
</code></pre>
<hr/>
<h2 data-id="heading-1">äºŒã€è½®æ’­æ ¸å¿ƒï¼šç”¨ SMIL çš„Â <code>&lt;animateTransform&gt;</code>Â åšå¹³ç§»</h2>
<p>çœŸæ­£è®©è¿™å‡ ä¸ª slide â€œæ´»èµ·æ¥â€çš„ï¼Œå°±æ˜¯æ¯ä¸ªÂ <code>&lt;g&gt;</code>Â ä¸‹é¢é‚£æ¡Â <code>animateTransform</code>ã€‚</p>
<p>å…¸å‹ä¸€æ¡é•¿è¿™æ ·ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">&lt;animateTransform
  <span class="hljs-attr">attributeName</span>=<span class="hljs-string">"transform"</span>
  <span class="hljs-attr">type</span>=<span class="hljs-string">"translate"</span>
  <span class="hljs-attr">repeatCount</span>=<span class="hljs-string">"indefinite"</span>
  <span class="hljs-attr">values</span>=<span class="hljs-string">"0 0; 0 0; 0 0; 0 0; 0 0; 0 0; 0 0; -80 0; 0 0;"</span>
  <span class="hljs-attr">begin</span>=<span class="hljs-string">"0.3s"</span>
  <span class="hljs-attr">dur</span>=<span class="hljs-string">"4s"</span>
  <span class="hljs-attr">calcMode</span>=<span class="hljs-string">"spline"</span>
  <span class="hljs-attr">keySplines</span>=<span class="hljs-string">"
    0.42 0 0.58 1.0;
    0.42 0 0.58 1.0;
    0.42 0 0.58 1.0;
    0.42 0 0.58 1.0;
    0.42 0 0.58 1.0;
    0.42 0 0.58 1.0;
    0.42 0 0.58 1.0;
    0.42 0 0.58 1.0"</span>&gt;
&lt;/animateTransform&gt;
</code></pre>
<p>é€é¡¹çœ‹ï¼š</p>
<ul>
<li>
<p><code>attributeName="transform"</code><br/>
æ„å‘³ç€è¿™æ¡åŠ¨ç”»ä¼šç›´æ¥æ”¹Â <code>&lt;g&gt;</code>Â çš„Â <code>transform</code>Â å±æ€§ï¼›</p>
</li>
<li>
<p><code>type="translate"</code><br/>
æŒ‡å®š transform çš„ç±»å‹æ˜¯å¹³ç§»ï¼Œç›¸å½“äºåœ¨åšÂ <code>translate(x, y)</code>ï¼›</p>
</li>
<li>
<p><code>repeatCount="indefinite"</code><br/>
æ— é™å¾ªç¯æ’­æ”¾ï¼Œä¿è¯è½®æ’­ä¸åœæ­¢ï¼›</p>
</li>
<li>
<p><code>dur="4s"</code><br/>
ä¸€è½®åŠ¨ç”»æ€»æ—¶é•¿ 4 ç§’ï¼›</p>
</li>
<li>
<p><code>begin="0.3s"</code><br/>
æ•´ä½“å¼€å§‹æ—¶é—´å»¶è¿Ÿäº† 0.3 ç§’ï¼Œé¿å…é¡µé¢ä¸€åŠ è½½ä¸Šæ¥å°±ç«‹åˆ»æŠ–åŠ¨ï¼›</p>
</li>
<li>
<p><code>values="..."</code><br/>
è¿™æ˜¯æ•´æ®µçš„å…³é”®å¸§åˆ—è¡¨ï¼Œæ¯ä¸€å¯¹æ•°å­—ä»£è¡¨ä¸€ä¸ªå¹³ç§»åæ ‡ï¼š</p>
<ul>
<li><code>0 0</code>ï¼šåœåœ¨åˆå§‹ä½ç½®ï¼›</li>
<li><code>-80 0</code>ï¼šå¾€å·¦ç§»åŠ¨ 80 ä¸ªå•ä½ï¼›</li>
<li>æ¥ç€å†å›åˆ°Â <code>0 0</code>ã€‚</li>
</ul>
</li>
</ul>
<p><code>values</code>Â é‡Œä¹‹æ‰€ä»¥æœ‰ä¸€é•¿ä¸²Â <code>0 0</code>ï¼Œå…¶å®æ˜¯åœ¨<strong>æ‹‰é•¿â€œé™æ­¢æ—¶é—´â€</strong> ï¼Œè®©å¡ç‰‡ç»å¤§éƒ¨åˆ†æ—¶é—´éƒ½ç¨³ç¨³åœ°åœåœ¨ä¸­é—´ï¼Œåªåœ¨æ—¶é—´è½´å°¾å·´é‚£ä¸€æ®µè½»è½»ä¾§ç§»ä¸€ä¸‹å†å›æ¥ã€‚</p>
<p>è¿™å°±æ˜¯â€œä¼˜é›…â€çš„ç¬¬ä¸€å±‚æ¥æºï¼š<br/>
ä¸æ˜¯ä¸€ç›´åœ¨æ˜æ˜¾åœ°æ»‘ï¼Œè€Œæ˜¯<strong>å¤§éƒ¨åˆ†æ—¶é—´åœ¨é™æ­¢ã€å°éƒ¨åˆ†æ—¶é—´åœ¨å¾®åŠ¨</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€åŠ¨èµ·æ¥ä¸ºä»€ä¹ˆçœ‹ç€â€œé«˜çº§â€ï¼Ÿå…³é”®åœ¨äºç¼“åŠ¨ + ç»†å°ä½ç§»</h2>
<h3 data-id="heading-3">1. å¾®å°ä½ç§»ï¼šåªç§»åŠ¨ 80ï¼Œè€Œä¸æ˜¯æ•´å± 100%</h3>
<p>å¯ä»¥å¯¹æ¯”ä¸€ä¸‹å¸¸è§è½®æ’­ï¼š</p>
<ul>
<li>æ™®é€šâ€œæ•´å±è½®æ’­â€ï¼šä¸€å¼ å›¾ä»Â <code>0%</code>Â æ»‘åˆ°Â <code>-100%</code>ï¼Œä¸‹ä¸€å¼ ä»Â <code>100%</code>Â æ»‘åˆ°Â <code>0</code>ï¼›</li>
<li>è¿™æ®µ SVG è½®æ’­ï¼šåªå¹³ç§»Â <code>-80</code>Â æˆ–Â <code>+80</code>Â çš„è·ç¦»ã€‚</li>
</ul>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒå¹¶ä¸æ˜¯åœ¨åšã€Œæ¢å›¾ã€ï¼Œè€Œæ˜¯åœ¨åšã€Œè½»å¾®é”™ä½ã€ï¼š</p>
<ul>
<li>ç”¨æˆ·è§†è§’é‡Œï¼Œä¸€ç›´æ˜¯åŒä¸€å¼ å›¾ä¸ºä¸»ï¼›</li>
<li>å¶å°”è½»è½»æ»‘åŠ¨ä¸€ç‚¹ç‚¹ï¼Œæœ‰ä¸€ç§â€œè½»å¾®å‘¼å¸â€çš„æ„Ÿè§‰ï¼›</li>
<li>è§†è§‰ä¸Šæ›´æ¥è¿‘ Apple å®˜ç½‘é‚£äº›â€œè½»è½»æŠ–ä¸€æŠ–â€çš„åŠ¨æ•ˆï¼Œè€Œä¸æ˜¯ APP é‡Œçš„ banner è·‘é©¬ç¯ã€‚</li>
</ul>
<h3 data-id="heading-4">2. è´å¡å°”ç¼“åŠ¨ï¼š<code>keySplines="0.42 0 0.58 1.0"</code></h3>
<p><code>calcMode="spline"</code>Â +Â <code>keySplines="0.42 0 0.58 1.0"</code>Â è¿™å¯¹ç»„åˆï¼Œå…¶å®å°±æ˜¯ SVG ç‰ˆæœ¬çš„ CSSÂ <code>cubic-bezier(0.42, 0, 0.58, 1)</code>ï¼Œä¹Ÿå°±æ˜¯éå¸¸ç»å…¸çš„Â <strong>ease-in-out</strong>ã€‚</p>
<p>æ•ˆæœæ˜¯ï¼š</p>
<ul>
<li>ä¸€å¼€å§‹æ…¢æ…¢èµ·æ­¥ï¼ˆä¸æ˜¯ç”Ÿç¡¬åœ°åŠ¨ï¼‰ï¼›</li>
<li>ä¸­é—´åŠ é€Ÿä¸€ç‚¹ï¼›</li>
<li>ç»“æŸå‰å†æ…¢æ…¢åˆ¹è½¦ã€‚</li>
</ul>
<p>é…åˆä¸Šå‰é¢è¯´çš„â€œä½ç§»é‡ä¸å¤§â€ï¼Œå°±ä¼šå¾—åˆ°ä¸€ä¸ªå¾ˆå…‹åˆ¶çš„åŠ¨æ•ˆâ€”â€”<strong>æœ‰å­˜åœ¨æ„Ÿï¼Œä½†ä¸æŠ¢å†…å®¹é£å¤´</strong>ã€‚</p>
<h3 data-id="heading-5">3. å¤šä¸ª slide å…±ç”¨åŒä¸€æ—¶é—´è½´</h3>
<p>æ³¨æ„è¿™ 4 ä¸ªÂ <code>&lt;g&gt;</code>ï¼š</p>
<ul>
<li>éƒ½æ˜¯Â <code>dur="4s" begin="0.3s" repeatCount="indefinite"</code>ï¼›</li>
<li>å”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼šæ¯ä¸ªÂ <code>&lt;g&gt;</code>Â çš„Â <code>values</code>Â åºåˆ—ä¸ä¸€æ ·ã€‚</li>
</ul>
<p>æ¢å¥è¯è¯´ï¼š</p>
<ul>
<li>å®ƒä»¬è·‘åœ¨<strong>åŒä¸€æ¡æ—¶é—´çº¿</strong>ä¸Šï¼›</li>
<li>ä½†æ¯ä¸€å¼ å›¾çš„â€œä½ç§»èŠ‚å¥â€ç•¥æœ‰å·®å¼‚ï¼›</li>
<li>æœ€ç»ˆå‘ˆç°å‡ºæ¥å°±æ˜¯ä¸€ä¸ªæ•´ä½“â€œå‘¼å¸â€çš„å¡ç‰‡ç¾¤ï¼Œè€Œä¸æ˜¯å•å¼  slide ç‹¬ç«‹ä¹±é£ã€‚</li>
</ul>
<p>è¿™ç‚¹éå¸¸åƒ Apple å®˜ç½‘é‚£ç§ã€Œä¸€ç»„å¡ç‰‡è·Ÿç€ä¸€ä¸ªèŠ‚å¥ï¼Œè½®æµè¢«ç¨ç¨çªå‡ºã€çš„æ„Ÿè§‰ã€‚</p>
<hr/>
<h2 data-id="heading-6">å››ã€æƒ³æ”¹æˆè‡ªå·±çš„è½®æ’­ï¼Ÿå‡ ä¸ªå®ç”¨çš„æ”¹æ³•</h2>
<p>å¦‚æœä½ æƒ³åœ¨è¿™ä¸ªåŸºç¡€ä¸Šåšä¸ªè‡ªå·±çš„ã€Œè‹¹æœå‘³è½®æ’­ã€ï¼Œä¸»è¦å¯ä»¥æ”¹ 4 ä¸ªæ–¹é¢ï¼š</p>
<h3 data-id="heading-7">1. æ¢æˆä½ è‡ªå·±çš„å›¾ç‰‡</h3>
<p>æ‰¾åˆ°æ¯ä¸ªÂ <code>foreignObject</code>Â é‡Œçš„è¿™æ®µï¼š</p>
<pre><code class="hljs language-css" lang="css">&lt;svg
  style='<span class="hljs-attribute">display</span>:block;
         <span class="hljs-attribute">background-image</span>:<span class="hljs-built_in">url</span>(<span class="hljs-string">"https://ä½ çš„å›¾.jpg"</span>);
         <span class="hljs-attribute">background-size</span>:<span class="hljs-number">100%</span> auto;
         <span class="hljs-attribute">background-repeat</span>:no-repeat;'&gt;
&lt;/svg&gt;
</code></pre>
<p>æŠŠÂ <code>background-image</code>Â æ¢æˆä½ çš„å›¾åœ°å€å°±è¡Œã€‚</p>
<blockquote>
<p>æƒ³æ›´â€œè‹¹æœä¸€ç‚¹â€ï¼Œå¯ä»¥å‡†å¤‡å‡ å¼ åŒä¸€ç³»åˆ—ã€åŒä¸€å…‰æ„Ÿçš„äº§å“å›¾ã€‚</p>
</blockquote>
<h3 data-id="heading-8">2. è°ƒæ•´ä½ç§»å¹…åº¦</h3>
<p>æ‰€æœ‰è½®æ’­çš„ç©ºé—´é”™ä½ï¼Œé çš„å°±æ˜¯Â <code>values</code>Â é‡Œçš„é‚£å‡ ä¸ªÂ <code>-80 0</code>Â /Â <code>80 0</code>ã€‚</p>
<ul>
<li>æƒ³åŠ¨å¾—æ›´æ˜æ˜¾ä¸€ç‚¹ï¼šå¯ä»¥æ”¹æˆÂ <code>-160 0</code>Â /Â <code>160 0</code>ï¼›</li>
<li>æƒ³æ›´å¾®å¦™ä¸€ç‚¹ï¼šå¯ä»¥æ”¹æˆÂ <code>-40 0</code>Â /Â <code>40 0</code>ã€‚</li>
</ul>
<p>æ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">values</span>=<span class="hljs-string">"0 0; 0 0; 0 0; -40 0; 0 0; 0 0; 0 0; 0 0; 0 0"</span>
</code></pre>
<h3 data-id="heading-9">3. è°ƒæ•´èŠ‚å¥å’Œåœç•™æ—¶é—´</h3>
<p>å‡ ç§å¸¸è§ç©æ³•ï¼š</p>
<ul>
<li>
<p><strong>æ•´ä½“æ”¾æ…¢</strong>ï¼š<code>dur="4s"</code>Â æ”¹æˆÂ <code>6s</code>Â æˆ–Â <code>8s</code>ï¼›</p>
</li>
<li>
<p><strong>è®©â€œé™æ­¢â€çš„æ¯”ä¾‹æ›´å¤§</strong>ï¼šå¤šå¤åˆ¶å‡ æ®µÂ <code>0 0</code>ï¼›</p>
</li>
<li>
<p><strong>åªåœ¨æœ€å 10% æ—¶é—´é‡Œç§»åŠ¨</strong>ï¼š<br/>
é…åˆÂ <code>keyTimes</code>ï¼ˆå¦‚æœä½ æ„¿æ„åŠ ä¸Šä¸€è¡Œï¼‰ï¼š</p>
<ul>
<li>å‰ 90% çš„ keyTime éƒ½æ˜¯Â <code>0 0</code>ï¼Œæœ€å 10% æ‰ä»Â <code>0 0 â†’ -80 0 â†’ 0 0</code>ã€‚</li>
</ul>
</li>
</ul>
<p>ç¤ºæ„å†™æ³•ï¼ˆæ‰©å±•ç‰ˆï¼‰ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">&lt;animateTransform
  <span class="hljs-attr">attributeName</span>=<span class="hljs-string">"transform"</span>
  <span class="hljs-attr">type</span>=<span class="hljs-string">"translate"</span>
  <span class="hljs-attr">dur</span>=<span class="hljs-string">"8s"</span>
  <span class="hljs-attr">repeatCount</span>=<span class="hljs-string">"indefinite"</span>
  <span class="hljs-attr">values</span>=<span class="hljs-string">"0 0; 0 0; -80 0; 0 0"</span>
  <span class="hljs-attr">keyTimes</span>=<span class="hljs-string">"0;0.8;0.9;1"</span>
  <span class="hljs-attr">calcMode</span>=<span class="hljs-string">"spline"</span>
  <span class="hljs-attr">keySplines</span>=<span class="hljs-string">"
    0.42 0 0.58 1;
    0.42 0 0.58 1;
    0.42 0 0.58 1"</span> /&gt;
</code></pre>
<h3 data-id="heading-10">4. å¢åŠ  / å‡å°‘å›¾ç‰‡æ•°é‡</h3>
<p>è¿™ä¸ªè½®æ’­æ²¡æœ‰â€œæ€»æ•°é…ç½®â€ï¼Œ<strong>æ¯å¼ å›¾å°±æ˜¯ä¸€ä¸ªÂ <code>&lt;g&gt;</code></strong> ï¼Œæ‰€ä»¥ï¼š</p>
<ul>
<li>
<p>æƒ³å¤šå‡ å¼ å›¾ï¼š</p>
<ul>
<li>å¤åˆ¶ä¸€ä»½Â <code>&lt;g&gt; ... &lt;/g&gt;</code>ï¼Œ</li>
<li>æŒ‰ç…§åŸæ¥çš„ pattern å†™ä¸€æ¡æ–°çš„Â <code>values</code>ï¼›</li>
</ul>
</li>
<li>
<p>æƒ³åªç•™ 3 å¼ å›¾ï¼š</p>
<ul>
<li>åˆ é™¤å…¶ä¸­ä¸€ä¸ªÂ <code>&lt;g&gt;</code>Â å³å¯ã€‚</li>
</ul>
</li>
</ul>
<p>åªè¦ä½ ä¿è¯ï¼š</p>
<ul>
<li>æ‰€æœ‰Â <code>&lt;g&gt;</code>Â çš„Â <code>dur</code>Â å’ŒÂ <code>begin</code>Â ä¸€è‡´ï¼›</li>
<li><code>values</code>Â ä¹‹é—´æœ‰ä¸€ç‚¹èŠ‚å¥å·®å¼‚ï¼ˆä¸è¦å…¨éƒ¨éƒ½ä¸€æ¨¡ä¸€æ ·ï¼‰ï¼›</li>
</ul>
<p>æ•´ä½“çœ‹ä¸Šå»å°±è¿˜æ˜¯é‚£ç§ã€Œæœ‰ç§©åºçš„å°èŒƒå›´é”™ä½ã€ã€‚</p>
<hr/>
<h2 data-id="heading-11">äº”ã€å°ç»“</h2>
<p>è¿™ä¸ª 4 å›¾è½®æ’­æœ¬è´¨ä¸Šåšäº†å‡ ä»¶äº‹ï¼š</p>
<ol>
<li><strong>ç”¨ SVG + foreignObject æ­äº†ä¸ªâ€œåŠ¨æ•ˆå®¹å™¨â€</strong> ï¼Œå›¾ç‰‡å½“èƒŒæ™¯ï¼›</li>
<li><strong>ç”¨Â <code>&lt;animateTransform&gt;</code>Â +Â <code>translate</code>Â åšå¾®ä½ç§»</strong>ï¼Œä¸€æ¬¡åªæŒªå‡ åä¸ªå•ä½ï¼›</li>
<li><strong>ç”¨ cubic-bezier å¼çš„ç¼“åŠ¨æ›²çº¿å‹ä½â€œå»‰ä»·æ„Ÿâ€</strong> ï¼Œæ…¢è¿›æ…¢å‡ºï¼›</li>
<li><strong>è®©æ‰€æœ‰ slide å¥—åœ¨åŒä¸€æ—¶é—´è½´ä¸Š</strong>ï¼Œåšæˆæ•´ä½“çš„â€œå‘¼å¸â€ï¼Œè€Œä¸æ˜¯æ™®é€š banner èˆ¬æœºæ¢°çš„æ»‘åŠ¨ã€‚</li>
</ol>
<p>çœ‹èµ·æ¥æ˜¯â€œè‹¹æœå‘³â€çš„è½®æ’­ï¼Œæ‹†å¼€å°±æ˜¯ä¸€å †å¾ˆæœ´ç´ çš„ SVG æŠ€å·§ã€‚</p>
<hr/>
<h2 data-id="heading-12">æœ€åä¸€å¥ï¼šå¦‚æœä½ æ‡’å¾—æ‰‹å†™â€¦</h2>
<p>å¦‚æœä½ ä¸æƒ³è‡ªå·±å»ç®—è¿™äº›Â <code>values</code>ã€<code>keySplines</code>Â å’ŒÂ <code>&lt;g&gt;</code>Â ç»“æ„ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åœ¨ E2 ç¼–è¾‘å™¨é‡Œæœä¸€ä¸‹ï¼Œç»„ä»¶åç§°å«ã€Œæ¬¾æ¬¾è€Œæ¥ã€ï¼Œç»„ä»¶æœ¬èº«æ˜¯å…è´¹ä½¿ç”¨çš„ï¼Œç”¨ç°æˆç»„ä»¶ç„¶åå†å¯¹å¯¼å‡ºçš„ SVG åšäºŒæ¬¡æ”¹é€ ï¼Œä¼šè½»æ¾ä¸å°‘ã€‚</p>
<p>ä½¿ç”¨ E2 SVG ç¼–è¾‘å™¨ â€” åŸºäº SVG çš„â€œé»‘ç§‘æŠ€äº’åŠ¨â€å¯è§†åŒ–è®¾è®¡å¹³å°ï¼Œä¸Šçº¿1900+åŸåˆ›ç»„ä»¶ï¼Œæ”¯æŒç§¯æœ¨å¼æ‹–æ‹½ã€ç»„ä»¶å¤ç”¨ä¸çƒ­åŒºè§¦å‘ï¼Œå·²è¢« 2 ä¸‡ï¼‹å“ç‰Œåº”ç”¨äºå…¬ä¼—å·ã€å¾®åšã€æ´»åŠ¨ä¸“é¢˜åˆ¶ä½œï¼Œå¿«é€Ÿæ‰“é€ é«˜äº’åŠ¨å›¾æ–‡ã€æå‡ç”¨æˆ·åœç•™ä¸å®Œè¯»ç‡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/39781bad71934fd890011ce326993735~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LuK5aSp5Lmf5Zyo56CU56m25YWs5LyX5Y-3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764052812&amp;x-signature=%2BPDNCroHO7kRuXGVaCpyJj02ntM%3D" alt="image.png" loading="lazy"/>
â€‹
ä¸Šä¼ å››å¼ å°ºå¯¸ç›¸åŒçš„å›¾ç‰‡ï¼Œå°±å¯ä»¥ç›´æ¥é¢„è§ˆæ•ˆæœï¼Œè¿˜å¯ä»¥ç‚¹å‡»è·å–ä»£ç åï¼Œåœ¨å…¶ä»–è½¯ä»¶é‡Œè¿›è¡ŒäºŒæ¬¡ç¼–è¾‘ã€‚è¿˜å¯ä»¥è°ƒæ•´é€Ÿåº¦å‚æ•°ï¼Œå¦‚æœè´­ä¹°äº†ä¼ä¸šä¼šå‘˜çš„è¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C#.NET å…¨å±€å¼‚å¸¸åˆ°åº•æ€ä¹ˆåšï¼Ÿæœ€å®Œæ•´çš„å®æˆ˜æŒ‡å—]]></title>    <link>https://juejin.cn/post/7572539461479415851</link>    <guid>https://juejin.cn/post/7572539461479415851</guid>    <pubDate>2025-11-16T22:59:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572539461479415851" data-draft-id="7572525491540033578" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C#.NET å…¨å±€å¼‚å¸¸åˆ°åº•æ€ä¹ˆåšï¼Ÿæœ€å®Œæ•´çš„å®æˆ˜æŒ‡å—"/> <meta itemprop="keywords" content="C#,.NET"/> <meta itemprop="datePublished" content="2025-11-16T22:59:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å”é’æ«"/> <meta itemprop="url" content="https://juejin.cn/user/3737995266234280"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C#.NET å…¨å±€å¼‚å¸¸åˆ°åº•æ€ä¹ˆåšï¼Ÿæœ€å®Œæ•´çš„å®æˆ˜æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3737995266234280/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å”é’æ«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-16T22:59:29.000Z" title="Sun Nov 16 2025 22:59:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ç®€ä»‹</h3>
<p>å…¨å±€å¼‚å¸¸æ‹¦æˆªæ˜¯æ„å»ºå¥å£®ä¼ä¸šçº§åº”ç”¨çš„å…³é”®åŸºç¡€è®¾æ–½ï¼Œå®ƒèƒ½ç»Ÿä¸€å¤„ç†ç³»ç»Ÿä¸­æœªæ•è·çš„å¼‚å¸¸ï¼Œæä¾›å‹å¥½çš„é”™è¯¯å“åº”ï¼ŒåŒæ—¶è®°å½•å®Œæ•´çš„å¼‚å¸¸ä¿¡æ¯ã€‚</p>
<h3 data-id="heading-1">èƒŒæ™¯å’Œä½œç”¨</h3>
<p>åœ¨ <code>ASP.NET Core</code> åº”ç”¨ä¸­ï¼Œå¼‚å¸¸å¯èƒ½åœ¨æ§åˆ¶å™¨ã€æ•°æ®åº“æ“ä½œæˆ–ä¸­é—´ä»¶ä¸­å‘ç”Ÿã€‚å¦‚æœæ¯ä¸ªåŠ¨ä½œæ–¹æ³•éƒ½æ‰‹åŠ¨å¤„ç†å¼‚å¸¸ï¼ˆå¦‚ <code>try-catch</code>ï¼‰ï¼Œä»£ç ä¼šå˜å¾—å†—é•¿ä¸”éš¾ä»¥ç»´æŠ¤ã€‚å…¨å±€å¼‚å¸¸æ‹¦æˆªå™¨è§£å†³äº†ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li>
<p>ç»Ÿä¸€é”™è¯¯å¤„ç†ï¼šé›†ä¸­æ•è·æ‰€æœ‰æœªå¤„ç†å¼‚å¸¸ï¼Œè¿”å›æ ‡å‡†åŒ–çš„é”™è¯¯å“åº”ã€‚</p>
</li>
<li>
<p>æ ‡å‡†åŒ–å“åº”ï¼šç¬¦åˆ <code>RESTful API</code> è§„èŒƒï¼ˆå¦‚ <code>RFC 7807 Problem Details</code>ï¼‰ã€‚</p>
</li>
<li>
<p>æ—¥å¿—è®°å½•ï¼šè®°å½•å¼‚å¸¸è¯¦æƒ…ï¼Œä¾¿äºè°ƒè¯•å’Œç›‘æ§ã€‚</p>
</li>
<li>
<p>ç”¨æˆ·ä½“éªŒï¼šè¿”å›å‹å¥½çš„é”™è¯¯ä¿¡æ¯ï¼Œè€Œéé»˜è®¤é”™è¯¯é¡µé¢æˆ–å †æ ˆè·Ÿè¸ªã€‚</p>
</li>
<li>
<p>æ€§èƒ½ä¼˜åŒ–ï¼šå‡å°‘é‡å¤çš„å¼‚å¸¸å¤„ç†ä»£ç ï¼Œæå‡å¼€å‘æ•ˆç‡ã€‚</p>
</li>
</ul>
<h3 data-id="heading-2">ä¸»è¦åŠŸèƒ½</h3>
<ul>
<li>
<p>æ•è·å¼‚å¸¸ï¼šæ•è·æ§åˆ¶å™¨ã€æœåŠ¡å±‚æˆ–å…¶ä»–ä»£ç ä¸­çš„æœªå¤„ç†å¼‚å¸¸ã€‚</p>
</li>
<li>
<p>æ ‡å‡†åŒ–å“åº”ï¼šè¿”å› <code>JSON</code> æ ¼å¼çš„é”™è¯¯è¯¦æƒ…ï¼ˆå¦‚çŠ¶æ€ç ã€é”™è¯¯æ¶ˆæ¯ï¼‰ã€‚</p>
</li>
<li>
<p>æ—¥å¿—è®°å½•ï¼šè®°å½•å¼‚å¸¸ä¿¡æ¯ï¼ˆåŒ…æ‹¬å †æ ˆè·Ÿè¸ªï¼‰åˆ°æ—¥å¿—ç³»ç»Ÿã€‚</p>
</li>
<li>
<p>è‡ªå®šä¹‰å¤„ç†ï¼šæ ¹æ®å¼‚å¸¸ç±»å‹è¿”å›ä¸åŒçŠ¶æ€ç æˆ–æ¶ˆæ¯ï¼ˆå¦‚ 400ã€409ã€500ï¼‰ã€‚</p>
</li>
<li>
<p>å¼‚æ­¥æ”¯æŒï¼šå…¼å®¹ <code>async/await</code>ï¼Œé€‚åˆå¼‚æ­¥æ“ä½œã€‚</p>
</li>
<li>
<p><code>DI</code> é›†æˆï¼šé€šè¿‡ä¾èµ–æ³¨å…¥è®¿é—®æœåŠ¡ï¼ˆå¦‚æ—¥å¿—ã€ç¼“å­˜ï¼‰ã€‚</p>
</li>
</ul>
<h3 data-id="heading-3">å¸¸è§å®ç°æ–¹å¼</h3>
<h4 data-id="heading-4">å¼‚å¸¸å¤„ç†ä¸­é—´ä»¶ï¼ˆæ¨èï¼‰</h4>
<p>åœ¨ <code>ASP.NET Core</code> ç®¡é“æœ€å‰ç«¯æ³¨å†Œä¸€ä¸ªä¸­é—´ä»¶ï¼Œæ•è·æ‰€æœ‰åç»­ä¸­é—´ä»¶/ç»ˆç»“ç‚¹æŠ›å‡ºçš„å¼‚å¸¸ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ExceptionHandlingMiddleware</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> RequestDelegate _next;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> ILogger&lt;ExceptionHandlingMiddleware&gt; _logger;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ExceptionHandlingMiddleware</span>(<span class="hljs-params">RequestDelegate next,
        ILogger&lt;ExceptionHandlingMiddleware&gt; logger</span>)</span>
    {
        _next = next;
        _logger = logger;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">InvokeAsync</span>(<span class="hljs-params">HttpContext ctx</span>)</span>
    {
        <span class="hljs-keyword">try</span>
        {
            <span class="hljs-keyword">await</span> _next(ctx);
        }
        <span class="hljs-keyword">catch</span> (Exception ex)
        {
            _logger.LogError(ex, <span class="hljs-string">"Unhandled exception"</span>);
            <span class="hljs-keyword">await</span> HandleExceptionAsync(ctx, ex);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Task <span class="hljs-title">HandleExceptionAsync</span>(<span class="hljs-params">HttpContext ctx, Exception ex</span>)</span>
    {
        ctx.Response.ContentType = <span class="hljs-string">"application/problem+json"</span>;
        ctx.Response.StatusCode = ex <span class="hljs-keyword">switch</span>
        {
            ArgumentException _ =&gt; StatusCodes.Status400BadRequest,
            KeyNotFoundException _ =&gt; StatusCodes.Status404NotFound,
            _ =&gt; StatusCodes.Status500InternalServerError
        };

        <span class="hljs-keyword">var</span> problem = <span class="hljs-keyword">new</span> ProblemDetails
        {
            Title = ex.Message,
            Status = ctx.Response.StatusCode,
            Detail  = ctx.Response.StatusCode == <span class="hljs-number">500</span> ? <span class="hljs-string">"è¯·ç¨åé‡è¯•æˆ–è”ç³»ç®¡ç†å‘˜"</span> : <span class="hljs-literal">null</span>,
            Instance = ctx.Request.Path
        };
        <span class="hljs-keyword">var</span> json = JsonSerializer.Serialize(problem);
        <span class="hljs-keyword">return</span> ctx.Response.WriteAsync(json);
    }
}
</code></pre>
<p>æ³¨å†Œä¸­é—´ä»¶</p>
<p>åœ¨ <code>Program.cs</code>ï¼ˆæˆ– <code>Startup.cs</code>ï¼‰ä¸­æœ€æ—©æ·»åŠ ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">app.UseMiddleware&lt;ExceptionHandlingMiddleware&gt;();

<span class="hljs-comment">// æˆ–æ›´ç®€æ´çš„æ‰©å±•æ–¹æ³•</span>
app.UseExceptionHandling();  <span class="hljs-comment">// éœ€è‡ªè¡Œå®ç° UseExceptionHandling æ‰©å±•</span>
</code></pre>
<p>ä¼˜åŠ¿</p>
<ul>
<li>
<p>æ•è·èŒƒå›´æœ€å¤§ï¼šåŒ…æ‹¬æ‰€æœ‰ <code>MVCã€Minimal API</code>ã€é™æ€æ–‡ä»¶ç­‰ã€‚</p>
</li>
<li>
<p>æ€§èƒ½å¼€é”€å°ï¼Œä»£ç é›†ä¸­æ¸…æ™°ã€‚</p>
</li>
<li>
<p>æ˜“äºä¸ä¾èµ–æ³¨å…¥ã€æ—¥å¿—ç³»ç»Ÿè”åŠ¨ã€‚</p>
</li>
</ul>
<h4 data-id="heading-5">å…¨å±€å¼‚å¸¸è¿‡æ»¤å™¨ï¼ˆIExceptionFilter / IAsyncExceptionFilterï¼‰</h4>
<p>å¦‚æœåªæƒ³æ‹¦æˆª MVC Controller çš„å¼‚å¸¸ï¼Œå¯å®ç°å¼‚å¸¸è¿‡æ»¤å™¨ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">GlobalExceptionFilter</span> : <span class="hljs-title">IExceptionFilter</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> ILogger&lt;GlobalExceptionFilter&gt; _logger;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">GlobalExceptionFilter</span>(<span class="hljs-params">ILogger&lt;GlobalExceptionFilter&gt; logger</span>)</span>
        =&gt; _logger = logger;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnException</span>(<span class="hljs-params">ExceptionContext context</span>)</span>
    {
        <span class="hljs-keyword">var</span> ex = context.Exception;
        _logger.LogError(ex, <span class="hljs-string">"Unhandled exception in controller"</span>);

        <span class="hljs-keyword">var</span> problem = <span class="hljs-keyword">new</span> ProblemDetails
        {
            Title = <span class="hljs-string">"è¯·æ±‚å¤±è´¥"</span>,
            Status = StatusCodes.Status500InternalServerError,
            Detail = ex.Message
        };
        context.Result = <span class="hljs-keyword">new</span> ObjectResult(problem)
        {
            StatusCode = problem.Status
        };
        context.ExceptionHandled = <span class="hljs-literal">true</span>;
    }
}
</code></pre>
<p>æ³¨å†Œè¿‡æ»¤å™¨</p>
<pre><code class="hljs language-csharp" lang="csharp">services.AddControllers(options =&gt;
{
    options.Filters.Add&lt;GlobalExceptionFilter&gt;();
});
</code></pre>
<p>å±€é™</p>
<ul>
<li>
<p>åªæ‹¦æˆªé€šè¿‡ <code>MVC</code> ç®¡é“æ‰§è¡Œçš„ <code>Action</code> æŠ›å‡ºçš„å¼‚å¸¸ã€‚</p>
</li>
<li>
<p>ä¸ä¼šæ•è·ä¾‹å¦‚ä¸­é—´ä»¶æˆ– <code>Minimal API</code> çš„å¼‚å¸¸ã€‚</p>
</li>
</ul>
<h4 data-id="heading-6">.NET 7+ æ–°å¢çš„ IExceptionHandlerï¼ˆæ¨èï¼‰</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">GlobalExceptionHandler</span> : <span class="hljs-title">IExceptionHandler</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> ILogger&lt;GlobalExceptionHandler&gt; _logger;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IProblemDetailsService _problemDetailsService;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">GlobalExceptionHandler</span>(<span class="hljs-params">
        ILogger&lt;GlobalExceptionHandler&gt; logger,
        IProblemDetailsService problemDetailsService</span>)</span>
    {
        _logger = logger;
        _problemDetailsService = problemDetailsService;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> ValueTask&lt;<span class="hljs-built_in">bool</span>&gt; <span class="hljs-title">TryHandleAsync</span>(<span class="hljs-params">
        HttpContext httpContext,
        Exception exception,
        CancellationToken cancellationToken</span>)</span>
    {
        _logger.LogError(exception, <span class="hljs-string">"å…¨å±€å¼‚å¸¸: {Message}"</span>, exception.Message);
        
        <span class="hljs-keyword">var</span> statusCode = GetStatusCode(exception);
        <span class="hljs-keyword">var</span> problemContext = <span class="hljs-keyword">new</span> ProblemDetailsContext
        {
            HttpContext = httpContext,
            Exception = exception,
            ProblemDetails = <span class="hljs-keyword">new</span> ProblemDetails
            {
                Title = <span class="hljs-string">"æœåŠ¡å™¨é”™è¯¯"</span>,
                Status = statusCode,
                Detail = httpContext.RequestServices.GetRequiredService&lt;IWebHostEnvironment&gt;().IsDevelopment() 
                    ? exception.ToString() 
                    : <span class="hljs-string">"è¯·ç¨åå†è¯•"</span>,
                Type = <span class="hljs-string">$"https://httpstatuses.io/<span class="hljs-subst">{statusCode}</span>"</span>
            }
        };
        
        <span class="hljs-comment">// æ·»åŠ è‡ªå®šä¹‰æ‰©å±•</span>
        problemContext.ProblemDetails.Extensions.Add(<span class="hljs-string">"requestId"</span>, httpContext.TraceIdentifier);
        
        <span class="hljs-keyword">await</span> _problemDetailsService.WriteAsync(problemContext);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// æ ‡è®°ä¸ºå·²å¤„ç†</span>
    }
}
</code></pre>
<p>æ³¨å†ŒæœåŠ¡ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">builder.Services.AddExceptionHandler&lt;GlobalExceptionHandler&gt;();
builder.Services.AddProblemDetails(); <span class="hljs-comment">// æ·»åŠ ProblemDetailsæ”¯æŒ</span>

<span class="hljs-keyword">var</span> app = builder.Build();
app.UseExceptionHandler(); <span class="hljs-comment">// å¯ç”¨å¼‚å¸¸å¤„ç†ä¸­é—´ä»¶</span>
</code></pre>
<h4 data-id="heading-7">å†…ç½® UseExceptionHandler</h4>
<p><code>ASP.NET Core</code> è‡ªå¸¦çš„å¼‚å¸¸å¤„ç†ç»ˆç»“ç‚¹ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">if</span> (!app.Environment.IsDevelopment())
{
    app.UseExceptionHandler(errorApp =&gt;
    {
        errorApp.Run(<span class="hljs-keyword">async</span> ctx =&gt;
        {
            <span class="hljs-keyword">var</span> feature = ctx.Features.Get&lt;IExceptionHandlerFeature&gt;();
            <span class="hljs-keyword">var</span> ex = feature?.Error;
            <span class="hljs-comment">// è®°å½•æ—¥å¿—â€¦</span>
            ctx.Response.StatusCode = <span class="hljs-number">500</span>;
            <span class="hljs-keyword">await</span> ctx.Response.WriteAsJsonAsync(<span class="hljs-keyword">new</span> { message = <span class="hljs-string">"æœåŠ¡å™¨å†…éƒ¨é”™è¯¯"</span> });
        });
    });
}
<span class="hljs-keyword">else</span>
{
    app.UseDeveloperExceptionPage();
}
</code></pre>
<ul>
<li>
<p>ä¼˜ç‚¹ï¼šæ— éœ€è‡ªå®šä¹‰ <code>Middleware</code>ï¼Œæ¡†æ¶å†…ç½®ã€‚</p>
</li>
<li>
<p>æ³¨æ„ï¼šè¦åœ¨å…¶ä»–ä¸­é—´ä»¶ä¹‹å‰æ³¨å†Œï¼Œå¹¶åœ¨ç”Ÿäº§/å¼€å‘ç¯å¢ƒä¸­åˆ†å¼€å¤„ç†ã€‚</p>
</li>
</ul>
<h3 data-id="heading-8">èµ„æºå’Œæ–‡æ¡£</h3>
<ul>
<li>
<p>å®˜æ–¹æ–‡æ¡£ï¼š</p>
<ul>
<li>
<p><code>Exception Handling</code>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Flearn.microsoft.com%2Fen-us%2Faspnet%2Fcore%2Ffundamentals%2Ferror-handling" target="_blank" title="https://learn.microsoft.com/en-us/aspnet/core/fundamentals/error-handling" ref="nofollow noopener noreferrer">learn.microsoft.com/en-us/aspneâ€¦</a></p>
</li>
<li>
<p><code>Problem Details</code>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Flearn.microsoft.com%2Fen-us%2Faspnet%2Fcore%2Fweb-api%2Fhandle-errors" target="_blank" title="https://learn.microsoft.com/en-us/aspnet/core/web-api/handle-errors" ref="nofollow noopener noreferrer">learn.microsoft.com/en-us/aspneâ€¦</a></p>
</li>
</ul>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[wangEditor5åœ¨vueä¸­è‡ªå®šä¹‰èœå•æ --æ ¼å¼åˆ·ï¼Œä¸Šä¼ å›¾ç‰‡ï¼Œè§†é¢‘åŠŸèƒ½]]></title>    <link>https://juejin.cn/post/7573670400153026612</link>    <guid>https://juejin.cn/post/7573670400153026612</guid>    <pubDate>2025-11-18T06:43:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573670400153026612" data-draft-id="7573679820631834659" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="wangEditor5åœ¨vueä¸­è‡ªå®šä¹‰èœå•æ --æ ¼å¼åˆ·ï¼Œä¸Šä¼ å›¾ç‰‡ï¼Œè§†é¢‘åŠŸèƒ½"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2025-11-18T06:43:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é»˜é»˜ä¹„è¡Œèµ°"/> <meta itemprop="url" content="https://juejin.cn/user/1151943917446669"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            wangEditor5åœ¨vueä¸­è‡ªå®šä¹‰èœå•æ --æ ¼å¼åˆ·ï¼Œä¸Šä¼ å›¾ç‰‡ï¼Œè§†é¢‘åŠŸèƒ½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1151943917446669/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é»˜é»˜ä¹„è¡Œèµ°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T06:43:00.000Z" title="Tue Nov 18 2025 06:43:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å®‰è£…ç›¸å…³æ’ä»¶</h2>
<pre><code class="hljs language-bash" lang="bash">npm install @wangeditor/editor
npm install @wangeditor/editor-for-vue
</code></pre>
<h3 data-id="heading-1">äºŒã€å®˜æ–¹å…³é”®æ–‡æ¡£</h3>
<ol>
<li>ButtonMenuï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Flink.csdn.net%2F%3Ftarget%3Dhttps%253A%252F%252Fwww.wangeditor.com%252Fv5%252Fdevelopment.html%2523buttonmenu%253Flogin%253Dfrom_csdn" title="https://link.csdn.net/?target=https%3A%2F%2Fwww.wangeditor.com%2Fv5%2Fdevelopment.html%23buttonmenu%3Flogin%3Dfrom_csdn" target="_blank" ref="nofollow noopener noreferrer">www.wangeditor.com/v5/developmâ€¦</a></li>
<li>æ³¨å†Œèœå•åˆ°wangEditorï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Flink.csdn.net%2F%3Ftarget%3Dhttps%253A%252F%252Fwww.wangeditor.com%252Fv5%252Fdevelopment.html%2523%2525E6%2525B3%2525A8%2525E5%252586%25258C%2525E8%25258F%25259C%2525E5%25258D%252595%2525E5%252588%2525B0-wangeditor%253Flogin%253Dfrom_csdn" title="https://link.csdn.net/?target=https%3A%2F%2Fwww.wangeditor.com%2Fv5%2Fdevelopment.html%23%25E6%25B3%25A8%25E5%2586%258C%25E8%258F%259C%25E5%258D%2595%25E5%2588%25B0-wangeditor%3Flogin%3Dfrom_csdn" target="_blank" ref="nofollow noopener noreferrer">è‡ªå®šä¹‰æ‰©å±•æ–°åŠŸèƒ½ | wangEditor</a></li>
<li>insertKeysè‡ªå®šä¹‰åŠŸèƒ½çš„keys:<a href="https://link.juejin.cn?target=https%3A%2F%2Flink.csdn.net%2F%3Ftarget%3Dhttps%253A%252F%252Fwww.wangeditor.com%252Fv5%252Ftoolbar-config.html%2523insertkeys%253Flogin%253Dfrom_csdn" title="https://link.csdn.net/?target=https%3A%2F%2Fwww.wangeditor.com%2Fv5%2Ftoolbar-config.html%23insertkeys%3Flogin%3Dfrom_csdn" target="_blank" ref="nofollow noopener noreferrer">www.wangeditor.com/v5/toolbar-â€¦</a></li>
<li>è‡ªå®šä¹‰ä¸Šä¼ å›¾ç‰‡è§†é¢‘åŠŸèƒ½:<a href="https://link.juejin.cn?target=https%3A%2F%2Flink.csdn.net%2F%3Ftarget%3Dhttps%253A%252F%252Fwww.wangeditor.com%252Fv5%252Fmenu-config.html%2523%2525E8%252587%2525AA%2525E5%2525AE%25259A%2525E4%2525B9%252589%2525E5%25258A%25259F%2525E8%252583%2525BD-1%253Flogin%253Dfrom_csdn" title="https://link.csdn.net/?target=https%3A%2F%2Fwww.wangeditor.com%2Fv5%2Fmenu-config.html%23%25E8%2587%25AA%25E5%25AE%259A%25E4%25B9%2589%25E5%258A%259F%25E8%2583%25BD-1%3Flogin%3Dfrom_csdn" target="_blank" ref="nofollow noopener noreferrer">èœå•é…ç½® | wangEditor</a></li>
<li>æºç åœ°å€:<a href="https://link.juejin.cn?target=https%3A%2F%2Flink.csdn.net%2F%3Ftarget%3Dhttps%253A%252F%252Fgithub.com%252Fwangeditor-team%252FwangEditor%252Ftree%252Fmaster%253Flogin%253Dfrom_csdn" title="https://link.csdn.net/?target=https%3A%2F%2Fgithub.com%2Fwangeditor-team%2FwangEditor%2Ftree%2Fmaster%3Flogin%3Dfrom_csdn" target="_blank" ref="nofollow noopener noreferrer">GitHub - wangeditor-team/wangEditor: wangEditor â€”â€” å¼€æº Web å¯Œæ–‡æœ¬ç¼–è¾‘å™¨</a></li>
</ol>
<h2 data-id="heading-2">ä¸‰ã€åˆå§‹åŒ–ç¼–è¾‘å™¨ï¼ˆwangEdit.vueï¼‰Â </h2>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"border: 1px solid #ccc"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Toolbar</span>
      <span class="hljs-attr">style</span>=<span class="hljs-string">"border-bottom: 1px solid #ccc"</span>
      <span class="hljs-attr">:editor</span>=<span class="hljs-string">"editor"</span>
      <span class="hljs-attr">:defaultConfig</span>=<span class="hljs-string">"toolbarConfig"</span>
      <span class="hljs-attr">:mode</span>=<span class="hljs-string">"mode"</span>
    /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Editor</span>
      <span class="hljs-attr">style</span>=<span class="hljs-string">"height: 500px; overflow-y: hidden"</span>
      <span class="hljs-attr">v-model</span>=<span class="hljs-string">"html"</span>
      <span class="hljs-attr">:defaultConfig</span>=<span class="hljs-string">"editorConfig"</span>
      <span class="hljs-attr">:mode</span>=<span class="hljs-string">"mode"</span>
      @<span class="hljs-attr">onCreated</span>=<span class="hljs-string">"onCreated"</span>
      @<span class="hljs-attr">onChange</span>=<span class="hljs-string">"onChange"</span>
    /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-comment">// import Location from "@/utils/location";</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Editor</span>, <span class="hljs-title class_">Toolbar</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@wangeditor/editor-for-vue"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Boot</span>, <span class="hljs-title class_">IModuleConf</span>, <span class="hljs-title class_">DomEditor</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@wangeditor/editor"</span>;
<span class="hljs-keyword">import</span> { getToken } <span class="hljs-keyword">from</span> <span class="hljs-string">"@/utils/auth"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">MyPainter</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"./geshi"</span>;
<span class="hljs-keyword">const</span> menu1Conf = {
  <span class="hljs-attr">key</span>: <span class="hljs-string">"geshi"</span>, <span class="hljs-comment">// å®šä¹‰ menu key ï¼šè¦ä¿è¯å”¯ä¸€ã€ä¸é‡å¤ï¼ˆé‡è¦ï¼‰</span>
  <span class="hljs-title function_">factory</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyPainter</span>(); <span class="hljs-comment">// æŠŠ `YourMenuClass` æ›¿æ¢ä¸ºä½ èœå•çš„ class</span>
  },
};
<span class="hljs-keyword">const</span> <span class="hljs-variable language_">module</span> = {
  <span class="hljs-comment">// JS è¯­æ³•</span>
  <span class="hljs-attr">menus</span>: [menu1Conf],

  <span class="hljs-comment">// å…¶ä»–åŠŸèƒ½ï¼Œä¸‹æ–‡è®²è§£...</span>
};
<span class="hljs-title class_">Boot</span>.<span class="hljs-title function_">registerModule</span>(<span class="hljs-variable language_">module</span>);
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">components</span>: { <span class="hljs-title class_">Editor</span>, <span class="hljs-title class_">Toolbar</span> },
  <span class="hljs-attr">props</span>: {
    <span class="hljs-attr">relationKey</span>: {
      <span class="hljs-attr">type</span>: <span class="hljs-title class_">String</span>,
      <span class="hljs-attr">default</span>: <span class="hljs-string">""</span>,
    },
  },
  <span class="hljs-title function_">created</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">editorConfig</span>.<span class="hljs-property">MENU_CONF</span>.<span class="hljs-property">uploadImage</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">activityKey</span>);
  },
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-comment">// å¯Œæ–‡æœ¬å®ä¾‹</span>
      <span class="hljs-attr">editor</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-comment">// å¯Œæ–‡æœ¬æ­£æ–‡å†…å®¹</span>
      <span class="hljs-attr">html</span>: <span class="hljs-string">""</span>,
      <span class="hljs-comment">// ç¼–è¾‘å™¨æ¨¡å¼</span>
      <span class="hljs-attr">mode</span>: <span class="hljs-string">"default"</span>, <span class="hljs-comment">// or 'simple'</span>
      <span class="hljs-comment">// å·¥å…·æ é…ç½®</span>
      <span class="hljs-attr">toolbarConfig</span>: {
        <span class="hljs-comment">//æ–°å¢èœå•</span>
        <span class="hljs-attr">insertKeys</span>: {
          <span class="hljs-attr">index</span>: <span class="hljs-number">32</span>,
          <span class="hljs-attr">keys</span>: [<span class="hljs-string">"geshi"</span>],
        },
        <span class="hljs-comment">//å»æ‰ç½‘ç»œä¸Šä¼ å›¾ç‰‡å’Œè§†é¢‘</span>
        <span class="hljs-attr">excludeKeys</span>: [<span class="hljs-string">"insertImage"</span>, <span class="hljs-string">"insertVideo"</span>],
      },
      <span class="hljs-comment">// ç¼–è¾‘æ é…ç½®</span>
      <span class="hljs-attr">editorConfig</span>: {
        <span class="hljs-attr">placeholder</span>: <span class="hljs-string">"è¯·è¾“å…¥ç›¸å…³å†…å®¹......"</span>,
        <span class="hljs-comment">// èœå•é…ç½®</span>
        <span class="hljs-attr">MENU_CONF</span>: {
          <span class="hljs-comment">// ===================</span>
          <span class="hljs-comment">// ä¸Šä¼ å›¾ç‰‡é…ç½®</span>
          <span class="hljs-comment">// ===================</span>
          <span class="hljs-attr">uploadImage</span>: {
            <span class="hljs-comment">// æ–‡ä»¶åç§°</span>
            <span class="hljs-attr">fieldName</span>: <span class="hljs-string">"contentAttachImage"</span>,
            <span class="hljs-attr">server</span>: <span class="hljs-title class_">Location</span>.<span class="hljs-property">serverPath</span> + <span class="hljs-string">"/editor-upload/upload-image"</span>,
            <span class="hljs-attr">headers</span>: {
              <span class="hljs-title class_">Authorization</span>: <span class="hljs-string">"Bearer "</span> + <span class="hljs-title function_">getToken</span>(),
            },
            <span class="hljs-attr">meta</span>: {
              <span class="hljs-attr">activityKey</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">relationKey</span>,
            },
            <span class="hljs-comment">// å•ä¸ªæ–‡ä»¶çš„æœ€å¤§ä½“ç§¯é™åˆ¶ï¼Œé»˜è®¤ä¸º 20M</span>
            <span class="hljs-attr">maxFileSize</span>: <span class="hljs-number">20</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>,
            <span class="hljs-comment">// æœ€å¤šå¯ä¸Šä¼ å‡ ä¸ªæ–‡ä»¶ï¼Œé»˜è®¤ä¸º 100</span>
            <span class="hljs-attr">maxNumberOfFiles</span>: <span class="hljs-number">10</span>,
            <span class="hljs-comment">// é€‰æ‹©æ–‡ä»¶æ—¶çš„ç±»å‹é™åˆ¶ï¼Œé»˜è®¤ä¸º ['image/*'] ã€‚å¦‚ä¸æƒ³é™åˆ¶ï¼Œåˆ™è®¾ç½®ä¸º []</span>
            <span class="hljs-attr">allowedFileTypes</span>: [<span class="hljs-string">"image/*"</span>],
            <span class="hljs-comment">// è·¨åŸŸæ˜¯å¦ä¼ é€’ cookie ï¼Œé»˜è®¤ä¸º false</span>
            <span class="hljs-attr">withCredentials</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-comment">// è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤ä¸º 10 ç§’</span>
            <span class="hljs-attr">timeout</span>: <span class="hljs-number">5</span> * <span class="hljs-number">1000</span>,
            <span class="hljs-comment">// è‡ªå®šä¹‰æ’å…¥å›¾ç‰‡æ“ä½œ</span>
            <span class="hljs-attr">customInsert</span>: <span class="hljs-function">(<span class="hljs-params">res, insertFn</span>) =&gt;</span> {
              <span class="hljs-keyword">if</span> (res.<span class="hljs-property">errno</span> == -<span class="hljs-number">1</span>) {
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">$message</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"ä¸Šä¼ å¤±è´¥!"</span>);
                <span class="hljs-keyword">return</span>;
              }
              <span class="hljs-title function_">insertFn</span>(<span class="hljs-title class_">Location</span>.<span class="hljs-property">serverPath</span> + res.<span class="hljs-property">data</span>.<span class="hljs-property">url</span>, <span class="hljs-string">""</span>, <span class="hljs-string">""</span>);
              <span class="hljs-variable language_">this</span>.<span class="hljs-property">$message</span>.<span class="hljs-title function_">success</span>(<span class="hljs-string">"ä¸Šä¼ æˆåŠŸ!"</span>);
            },
          },
          <span class="hljs-comment">// =====================</span>
          <span class="hljs-comment">// ä¸Šä¼ è§†é¢‘é…ç½®</span>
          <span class="hljs-comment">// =====================</span>
          <span class="hljs-attr">uploadVideo</span>: {
            <span class="hljs-comment">// æ–‡ä»¶åç§°</span>
            <span class="hljs-attr">fieldName</span>: <span class="hljs-string">"contentAttachVideo"</span>,
            <span class="hljs-attr">server</span>: <span class="hljs-title class_">Location</span>.<span class="hljs-property">serverPath</span> + <span class="hljs-string">"/editor-upload/upload-video"</span>,
            <span class="hljs-attr">headers</span>: {
              <span class="hljs-title class_">Authorization</span>: <span class="hljs-string">"Bearer "</span> + <span class="hljs-title function_">getToken</span>(),
            },
            <span class="hljs-attr">meta</span>: {
              <span class="hljs-attr">activityKey</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">relationKey</span>,
            },
            <span class="hljs-comment">// å•ä¸ªæ–‡ä»¶çš„æœ€å¤§ä½“ç§¯é™åˆ¶ï¼Œé»˜è®¤ä¸º 60M</span>
            <span class="hljs-attr">maxFileSize</span>: <span class="hljs-number">60</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>,
            <span class="hljs-comment">// æœ€å¤šå¯ä¸Šä¼ å‡ ä¸ªæ–‡ä»¶ï¼Œé»˜è®¤ä¸º 100</span>
            <span class="hljs-attr">maxNumberOfFiles</span>: <span class="hljs-number">3</span>,
            <span class="hljs-comment">// é€‰æ‹©æ–‡ä»¶æ—¶çš„ç±»å‹é™åˆ¶ï¼Œé»˜è®¤ä¸º ['video/*'] ã€‚å¦‚ä¸æƒ³é™åˆ¶ï¼Œåˆ™è®¾ç½®ä¸º []</span>
            <span class="hljs-attr">allowedFileTypes</span>: [<span class="hljs-string">"video/*"</span>],
            <span class="hljs-comment">// è·¨åŸŸæ˜¯å¦ä¼ é€’ cookie ï¼Œé»˜è®¤ä¸º false</span>
            <span class="hljs-attr">withCredentials</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-comment">// è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤ä¸º 10 ç§’</span>
            <span class="hljs-attr">timeout</span>: <span class="hljs-number">15</span> * <span class="hljs-number">1000</span>,
            <span class="hljs-comment">// è‡ªå®šä¹‰æ’å…¥å›¾ç‰‡æ“ä½œ</span>
            <span class="hljs-attr">customInsert</span>: <span class="hljs-function">(<span class="hljs-params">res, insertFn</span>) =&gt;</span> {
              <span class="hljs-keyword">if</span> (res.<span class="hljs-property">errno</span> == -<span class="hljs-number">1</span>) {
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">$message</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"ä¸Šä¼ å¤±è´¥!"</span>);
                <span class="hljs-keyword">return</span>;
              }
              <span class="hljs-title function_">insertFn</span>(<span class="hljs-title class_">Location</span>.<span class="hljs-property">serverPath</span> + res.<span class="hljs-property">data</span>.<span class="hljs-property">url</span>, <span class="hljs-string">""</span>, <span class="hljs-string">""</span>);
              <span class="hljs-variable language_">this</span>.<span class="hljs-property">$message</span>.<span class="hljs-title function_">success</span>(<span class="hljs-string">"ä¸Šä¼ æˆåŠŸ!"</span>);
            },
          },
        },
      },

      <span class="hljs-comment">// ===== data field end =====</span>
    };
  },
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-comment">// =============== Editor äº‹ä»¶ç›¸å…³ ================</span>
    <span class="hljs-comment">// 1. åˆ›å»º Editor å®ä¾‹å¯¹è±¡</span>
    <span class="hljs-title function_">onCreated</span>(<span class="hljs-params">editor</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">editor</span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">seal</span>(editor); <span class="hljs-comment">// ä¸€å®šè¦ç”¨ Object.seal() ï¼Œå¦åˆ™ä¼šæŠ¥é”™</span>
      <span class="hljs-variable language_">this</span>.$nextTick(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-keyword">const</span> toolbar = <span class="hljs-title class_">DomEditor</span>.<span class="hljs-title function_">getToolbar</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">editor</span>);
        <span class="hljs-keyword">const</span> curToolbarConfig = toolbar.<span class="hljs-title function_">getConfig</span>();
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"ã€ curToolbarConfig ã€‘-39"</span>, curToolbarConfig);
      });
    },
    <span class="hljs-comment">// 2. å¤±å»ç„¦ç‚¹äº‹ä»¶</span>
    <span class="hljs-title function_">onChange</span>(<span class="hljs-params">editor</span>) {
      <span class="hljs-variable language_">this</span>.$emit(<span class="hljs-string">"change"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">html</span>);
    },

    <span class="hljs-comment">// =============== Editoræ“ä½œAPIç›¸å…³ ==============</span>
    <span class="hljs-title function_">insertText</span>(<span class="hljs-params">insertContent</span>) {
      <span class="hljs-keyword">const</span> editor = <span class="hljs-variable language_">this</span>.<span class="hljs-property">editor</span>; <span class="hljs-comment">// è·å– editor å®ä¾‹</span>
      <span class="hljs-keyword">if</span> (editor == <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">return</span>;
      }
      <span class="hljs-comment">// æ‰§è¡ŒEditorçš„APIæ’å…¥</span>
      editor.<span class="hljs-title function_">insertText</span>(insertContent);
    },

    <span class="hljs-comment">// =============== ç»„ä»¶äº¤äº’ç›¸å…³ ==================</span>
    <span class="hljs-comment">// closeEditorBeforeComponent() {</span>
    <span class="hljs-comment">//   this.$emit("returnEditorContent", this.html);</span>
    <span class="hljs-comment">// },</span>
    <span class="hljs-title function_">closeContent</span>(<span class="hljs-params"/>){
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">html</span>=<span class="hljs-string">''</span>
    },
    <span class="hljs-comment">// ========== methods end ===============</span>
  },
  <span class="hljs-title function_">mounted</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// ========== mounted end ===============</span>
  },
  <span class="hljs-title function_">beforeDestroy</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> editor = <span class="hljs-variable language_">this</span>.<span class="hljs-property">editor</span>;
    <span class="hljs-keyword">if</span> (editor == <span class="hljs-literal">null</span>) {
      <span class="hljs-keyword">return</span>;
    }
    editor.<span class="hljs-title function_">destroy</span>();
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"é”€æ¯ç¼–è¾‘å™¨!"</span>);
  },
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"scss"</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
// å¯¹é»˜è®¤çš„<span class="hljs-selector-tag">p</span>æ ‡ç­¾è¿›è¡Œç©¿é€
::v-deep .editorStyle .w-e-text-container [data-slate-editor] p  {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> <span class="hljs-meta">!important</span>;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"@wangeditor/editor/dist/css/style.css"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-perl" lang="perl">è‡ªå®šä¹‰ä¸Šä¼ å›¾ç‰‡æ¥å£
 uploadImage: {
                        <span class="hljs-regexp">//</span> æ–‡ä»¶åç§°
                        fieldName: <span class="hljs-string">"contentAttachImage"</span>,
                        <span class="hljs-regexp">//</span> server: <span class="hljs-string">'/api/v1/public/uploadFile'</span>,
                        headers: {
                            Authorization: <span class="hljs-string">"Bearer "</span> + getToken(),
                        },
                        meta: {
                            activityKey: this.relationKey,
                        },
                        <span class="hljs-regexp">//</span> å•ä¸ªæ–‡ä»¶çš„æœ€å¤§ä½“ç§¯é™åˆ¶ï¼Œé»˜è®¤ä¸º <span class="hljs-number">20</span>M
                        maxFileSize: <span class="hljs-number">20</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>,
                        <span class="hljs-regexp">//</span> æœ€å¤šå¯ä¸Šä¼ å‡ ä¸ªæ–‡ä»¶ï¼Œé»˜è®¤ä¸º <span class="hljs-number">100</span>
                        maxNumberOfFiles: <span class="hljs-number">10</span>,
                        <span class="hljs-regexp">//</span> é€‰æ‹©æ–‡ä»¶æ—¶çš„ç±»å‹é™åˆ¶ï¼Œé»˜è®¤ä¸º [<span class="hljs-string">'image/*'</span>] ã€‚å¦‚ä¸æƒ³é™åˆ¶ï¼Œåˆ™è®¾ç½®ä¸º []
                        allowedFileTypes: [<span class="hljs-string">"image/*"</span>],
                        <span class="hljs-regexp">//</span> è·¨åŸŸæ˜¯å¦ä¼ é€’ cookie ï¼Œé»˜è®¤ä¸º false
                        withCredentials: true,
                        <span class="hljs-regexp">//</span> è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤ä¸º <span class="hljs-number">10</span> ç§’
                        timeout: <span class="hljs-number">5</span> * <span class="hljs-number">1000</span>,
                         è¿™é‡Œè®¾ç½®
                        customUpload: async (file, insertFn) =&gt; {
                            console.log(file, <span class="hljs-string">"file"</span>);
                            let formData = new FormData()
                            const <span class="hljs-function"><span class="hljs-keyword">sub</span> = "<span class="hljs-title">order</span>"</span>;
                            formData.append(<span class="hljs-string">'file'</span>, file)
                            formData.append(<span class="hljs-string">"sub"</span>, <span class="hljs-function"><span class="hljs-keyword">sub</span>)</span>;
                            formData.append(<span class="hljs-string">"type"</span>, <span class="hljs-string">"1"</span>);
                            let res = await getUploadImg(formData)
                            insertFn(res.data.full_path, <span class="hljs-string">''</span>, <span class="hljs-string">''</span>);
                        },
                        customInsert: (res, insertFn) =&gt; {
                            <span class="hljs-keyword">if</span> (res.errno == -<span class="hljs-number">1</span>) {
                                this.$message.error(<span class="hljs-string">"ä¸Šä¼ å¤±è´¥!"</span>);
                                <span class="hljs-keyword">return</span>;
                            }
                            // insertFn(res.data.url, <span class="hljs-string">""</span>, <span class="hljs-string">""</span>);
                            this.$message.success(<span class="hljs-string">"ä¸Šä¼ æˆåŠŸ!"</span>);
                        },
                    },
</code></pre>
<h2 data-id="heading-3">å››ã€æ ¼å¼åˆ·åŠŸèƒ½ç±»jsæ–‡ä»¶</h2>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> {
  SlateEditor,
  SlateText,
  SlateElement,
  SlateTransforms,
  DomEditor,
  <span class="hljs-comment">//   Boot,</span>
} from <span class="hljs-string">"@wangeditor/editor"</span>;
<span class="hljs-comment">// Boot.registerMenu(menu1Conf);</span>
<span class="hljs-keyword">import</span> { Editor } from <span class="hljs-string">"slate"</span>;
export default <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyPainter</span> {
  <span class="hljs-keyword">constructor</span>() {
    <span class="hljs-keyword">this</span>.title = <span class="hljs-string">"æ ¼å¼åˆ·"</span>; <span class="hljs-comment">// è‡ªå®šä¹‰èœå•æ ‡é¢˜</span>
    <span class="hljs-comment">// è¿™é‡Œæ˜¯è®¾ç½®æ ¼å¼åˆ·çš„æ ·å¼å›¾ç‰‡è·Ÿsvgéƒ½å¯ä»¥ï¼Œä½†æ˜¯æ³¨æ„è¦å›¾ç‰‡å¤§å°è¦å°ä¸€ç‚¹ï¼Œå› ä¸ºè¦åº”ç”¨åˆ°é¼ æ ‡æ‰‹åŠ¿ä¸Š</span>
    <span class="hljs-keyword">this</span>.iconSvg = ``;
    <span class="hljs-keyword">this</span>.tag = <span class="hljs-string">"button"</span>; <span class="hljs-comment">//æ³¨å…¥çš„èœå•ç±»å‹</span>
    <span class="hljs-keyword">this</span>.savedMarks = <span class="hljs-literal">null</span>; <span class="hljs-comment">//ä¿å­˜çš„æ ·å¼</span>
    <span class="hljs-keyword">this</span>.domId = <span class="hljs-literal">null</span>; <span class="hljs-comment">//è¿™ä¸ªå¯è¦å¯ä¸è¦</span>
    <span class="hljs-keyword">this</span>.editor = <span class="hljs-literal">null</span>; <span class="hljs-comment">//ç¼–è¾‘å™¨ç¤ºä¾‹</span>
    <span class="hljs-keyword">this</span>.parentStyle = <span class="hljs-literal">null</span>; <span class="hljs-comment">//å‚¨å­˜çˆ¶èŠ‚ç‚¹æ ·å¼</span>
    <span class="hljs-keyword">this</span>.mark = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">this</span>.marksNeedToRemove = []; <span class="hljs-comment">// å¢åŠ  mark çš„åŒæ—¶ï¼Œéœ€è¦ç§»é™¤å“ªäº› mark ï¼ˆäº’æ–¥ï¼Œä¸èƒ½å…±å­˜çš„ï¼‰</span>
  }
  clickHandler(e) {
    console.log(e, <span class="hljs-string">"e"</span>); <span class="hljs-comment">//æ— æ•ˆ</span>
  }
  <span class="hljs-comment">//æ·»åŠ æˆ–è€…ç§»é™¤é¼ æ ‡äº‹ä»¶</span>
  addorRemove = (type) =&gt; {
    <span class="hljs-keyword">const</span> dom = document.body;
    <span class="hljs-keyword">if</span> (type === <span class="hljs-string">"add"</span>) {
      dom.addEventListener(<span class="hljs-string">"mousedown"</span>, <span class="hljs-keyword">this</span>.changeMouseDown);
      dom.addEventListener(<span class="hljs-string">"mouseup"</span>, <span class="hljs-keyword">this</span>.changeMouseup);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">//èµ‹å€¼å®Œéœ€è¦åšçš„æ¸…ç†å·¥ä½œ</span>
      <span class="hljs-keyword">this</span>.savedMarks = undefined;
      dom.removeEventListener(<span class="hljs-string">"mousedown"</span>, <span class="hljs-keyword">this</span>.changeMouseDown);
      dom.removeEventListener(<span class="hljs-string">"mouseup"</span>, <span class="hljs-keyword">this</span>.changeMouseup);
      document.querySelector(<span class="hljs-string">"#w-e-textarea-1"</span>).style.cursor = <span class="hljs-string">"auto"</span>;
    }
  };

  <span class="hljs-comment">//å¤„ç†é‡å¤é”®åå€¼ä¸åŒçš„æƒ…å†µ</span>
  handlerRepeatandNotStyle = (styles) =&gt; {
    <span class="hljs-keyword">const</span> addStyles = styles[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">const</span> notVal = [];
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> style of styles) {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key <span class="hljs-keyword">in</span> style) {
        <span class="hljs-keyword">const</span> value = style[key];
        <span class="hljs-keyword">if</span> (!addStyles.hasOwnProperty(key)) {
          addStyles[key] = value;
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-keyword">if</span> (addStyles[key] !== value) {
            notVal.push(key);
          }
        }
      }
    }
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key of notVal) {
      delete addStyles[key];
    }
    <span class="hljs-keyword">return</span> addStyles;
  };

  <span class="hljs-comment">// è·å–å½“å‰é€‰ä¸­èŒƒå›´çš„çˆ¶çº§èŠ‚ç‚¹</span>
  getSelectionParentEle = (type, func) =&gt; {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.editor) {
      <span class="hljs-keyword">const</span> parentEntry = SlateEditor.nodes(<span class="hljs-keyword">this</span>.editor, {
        match: (node) =&gt; SlateElement.isElement(node),
      });
      let styles = [];
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [node] of parentEntry) {
        styles.push(<span class="hljs-keyword">this</span>.editor.toDOMNode(node).style); <span class="hljs-comment">//å°†nodeå¯¹åº”çš„DOMå¯¹åº”çš„styleå¯¹è±¡åŠ å…¥åˆ°æ•°ç»„</span>
      }
      styles = styles.map((item) =&gt; {
        <span class="hljs-comment">//å¤„ç†ä¸ä¸ºç©ºçš„style</span>
        <span class="hljs-keyword">const</span> newItem = {};
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key <span class="hljs-keyword">in</span> item) {
          <span class="hljs-keyword">const</span> <span class="hljs-keyword">val</span> = item[key];
          <span class="hljs-keyword">if</span> (<span class="hljs-keyword">val</span> !== <span class="hljs-string">""</span>) {
            newItem[key] = <span class="hljs-keyword">val</span>;
          }
        }
        <span class="hljs-keyword">return</span> newItem;
      });
      type === <span class="hljs-string">"get"</span>
        ? func(type, <span class="hljs-keyword">this</span>.handlerRepeatandNotStyle(styles))
        : func(type);
    }
  };

  <span class="hljs-comment">//è·å–æˆ–è€…è®¾ç½®çˆ¶çº§æ ·å¼</span>
  getorSetparentStyle = (type, style) =&gt; {
    <span class="hljs-keyword">if</span> (type === <span class="hljs-string">"get"</span>) {
      <span class="hljs-keyword">this</span>.parentStyle = style; <span class="hljs-comment">//è¿™é‡Œæ˜¯ä¸ªæ ·å¼å¯¹è±¡ ä¾‹å¦‚{textAlign:'center'}</span>
    } <span class="hljs-keyword">else</span> {
      SlateTransforms.setNodes(
        <span class="hljs-keyword">this</span>.editor,
        { ...<span class="hljs-keyword">this</span>.parentStyle },
        {
          mode: <span class="hljs-string">"highest"</span>, <span class="hljs-comment">// é’ˆå¯¹æœ€é«˜å±‚çº§çš„èŠ‚ç‚¹</span>
        }
      );
    }
  };

  <span class="hljs-comment">//è¿™é‡Œæ˜¯å°†svgè½¬æ¢ä¸ºBase64æ ¼å¼</span>
  addmouseStyle = () =&gt; {
    <span class="hljs-keyword">const</span> icon = ``; <span class="hljs-comment">// è¿™é‡Œæ˜¯ç»™é¼ æ ‡æ‰‹åŠ¿æ·»åŠ å›¾æ ‡</span>
    <span class="hljs-comment">// å°†å­—ç¬¦ä¸²ç¼–ç ä¸ºBase64æ ¼å¼</span>
    <span class="hljs-keyword">const</span> base64String = btoa(icon);
    <span class="hljs-comment">// ç”Ÿæˆæ•°æ®URI</span>
    <span class="hljs-keyword">const</span> dataUri = `<span class="hljs-keyword">data</span>:image/svg+xml;base64,${base64String}`;
    <span class="hljs-comment">// å°†æ•°æ®URIåº”ç”¨äºé¼ æ ‡å›¾æ ‡</span>
    document.querySelector(
      <span class="hljs-string">"#w-e-textarea-1"</span>
    ).style.cursor = `url(<span class="hljs-string">'${dataUri}'</span>), auto`;
  };
  changeMouseDown = () =&gt; {}; <span class="hljs-comment">//é¼ æ ‡è½ä¸‹</span>

  changeMouseup = () =&gt; {
    <span class="hljs-comment">//é¼ æ ‡æŠ¬èµ·</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.editor) {
      <span class="hljs-keyword">const</span> editor = <span class="hljs-keyword">this</span>.editor;
      <span class="hljs-keyword">const</span> selectTxt = editor.getSelectionText(); <span class="hljs-comment">//è·å–æ–‡æœ¬æ˜¯å¦ä¸ºnull</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.savedMarks &amp;&amp; selectTxt) {
        <span class="hljs-comment">//å…ˆæ”¹å˜çˆ¶èŠ‚ç‚¹æ ·å¼</span>
        <span class="hljs-keyword">this</span>.getSelectionParentEle(<span class="hljs-string">"set"</span>, <span class="hljs-keyword">this</span>.getorSetparentStyle);
        <span class="hljs-comment">// è·å–æ‰€æœ‰ text node</span>
        <span class="hljs-keyword">const</span> nodeEntries = SlateEditor.nodes(editor, {
          <span class="hljs-comment">//nodeEntriesè¿”å›çš„æ˜¯ä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡</span>
          match: (n) =&gt; SlateText.isText(n), <span class="hljs-comment">//è¿™é‡Œæ˜¯ç­›é€‰ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å¦æ˜¯ text</span>
          universal: <span class="hljs-literal">true</span>, <span class="hljs-comment">//å½“universalä¸º true æ—¶ï¼ŒEditor.nodesä¼šéå†æ•´ä¸ªæ–‡æ¡£ï¼ŒåŒ…æ‹¬æ ¹èŠ‚ç‚¹å’Œæ‰€æœ‰å­èŠ‚ç‚¹ï¼Œä»¥åŒ¹é…æ»¡è¶³æ¡ä»¶çš„èŠ‚ç‚¹ã€‚å½“universalä¸º false æ—¶ï¼ŒEditor.nodesåªä¼šåœ¨å½“å‰èŠ‚ç‚¹çš„ç›´æ¥å­èŠ‚ç‚¹ä¸­è¿›è¡ŒåŒ¹é…ã€‚</span>
        });
        <span class="hljs-comment">// å…ˆæ¸…é™¤é€‰ä¸­èŠ‚ç‚¹çš„æ ·å¼</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> node of nodeEntries) {
          <span class="hljs-keyword">const</span> n = node[<span class="hljs-number">0</span>]; <span class="hljs-comment">//{text:xxxx}</span>
          <span class="hljs-keyword">const</span> keys = Object.keys(n);
          keys.forEach((key) =&gt; {
            <span class="hljs-keyword">if</span> (key === <span class="hljs-string">"text"</span>) {
              <span class="hljs-comment">// ä¿ç•™ text å±æ€§</span>
              <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-comment">// å…¶ä»–å±æ€§ï¼Œå…¨éƒ¨æ¸…é™¤</span>
            SlateEditor.removeMark(editor, key);
          });
        }
        <span class="hljs-comment">// å†èµ‹å€¼æ–°æ ·å¼</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>.savedMarks) {
          <span class="hljs-keyword">if</span> (Object.hasOwnProperty.call(<span class="hljs-keyword">this</span>.savedMarks, key)) {
            <span class="hljs-keyword">const</span> value = <span class="hljs-keyword">this</span>.savedMarks[key];
            editor.addMark(key, value);
          }
        }
        <span class="hljs-keyword">this</span>.addorRemove(<span class="hljs-string">"remove"</span>);
      }
    }
  };

  getValue(editor) {
    <span class="hljs-comment">// return "MyPainter"; // æ ‡è¯†æ ¼å¼åˆ·èœå•</span>
    <span class="hljs-keyword">const</span> mark = <span class="hljs-keyword">this</span>.mark;
    console.log(mark, <span class="hljs-string">"mark"</span>);
    <span class="hljs-keyword">const</span> curMarks = Editor.marks(editor);
    <span class="hljs-comment">// å½“ curMarks å­˜åœ¨æ—¶ï¼Œè¯´æ˜ç”¨æˆ·æ‰‹åŠ¨è®¾ç½®ï¼Œä»¥ curMarks ä¸ºå‡†</span>
    <span class="hljs-keyword">if</span> (curMarks) {
      <span class="hljs-keyword">return</span> curMarks[mark];
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">const</span> [match] = Editor.nodes(editor, {
        <span class="hljs-comment">// @ts-ignore</span>
        match: (n) =&gt; n[mark] === <span class="hljs-literal">true</span>,
      });
      <span class="hljs-keyword">return</span> !!match;
    }
  }

  isActive(editor, <span class="hljs-keyword">val</span>) {
    <span class="hljs-keyword">const</span> isMark = <span class="hljs-keyword">this</span>.getValue(editor);
    <span class="hljs-keyword">return</span> !!isMark;
    <span class="hljs-comment">//  return !!DomEditor.getSelectedNodeByType(editor, "geshi");</span>
    <span class="hljs-comment">// return false;</span>
  }

  isDisabled(editor) {
    <span class="hljs-comment">//æ˜¯å¦ç¦ç”¨</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }
  exec(editor, value) {
    <span class="hljs-comment">//å½“èœå•ç‚¹å‡»åè§¦å‘</span>
    <span class="hljs-comment">// console.log(!this.isActive());</span>
    console.log(value, <span class="hljs-string">"value"</span>);
    <span class="hljs-keyword">this</span>.editor = editor;
    <span class="hljs-keyword">this</span>.domId = editor.id.split(<span class="hljs-string">"-"</span>)[<span class="hljs-number">1</span>]
      ? `w-e-textarea-${editor.id.split(<span class="hljs-string">"-"</span>)[<span class="hljs-number">1</span>]}`
      : undefined;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isDisabled(editor)) <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">const</span> { mark, marksNeedToRemove } = <span class="hljs-keyword">this</span>;
    <span class="hljs-keyword">if</span> (value) {
      <span class="hljs-comment">// å·²ï¼Œåˆ™å–æ¶ˆ</span>
      editor.removeMark(mark);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// æ²¡æœ‰ï¼Œåˆ™æ‰§è¡Œ</span>
      editor.addMark(mark, <span class="hljs-literal">true</span>);
      <span class="hljs-keyword">this</span>.savedMarks = SlateEditor.marks(editor); <span class="hljs-comment">// è·å–å½“å‰é€‰ä¸­æ–‡æœ¬çš„æ ·å¼</span>
      <span class="hljs-keyword">this</span>.getSelectionParentEle(<span class="hljs-string">"get"</span>, <span class="hljs-keyword">this</span>.getorSetparentStyle); <span class="hljs-comment">//è·å–çˆ¶èŠ‚ç‚¹æ ·å¼å¹¶èµ‹å€¼</span>
    <span class="hljs-comment">//   this.addmouseStyle(); //ç‚¹å‡»ä¹‹åç»™é¼ æ ‡æ·»åŠ æ ·å¼</span>
      <span class="hljs-keyword">this</span>.addorRemove(<span class="hljs-string">"add"</span>); <span class="hljs-comment">//å¤„ç†æ·»åŠ å’Œç§»é™¤äº‹ä»¶å‡½æ•°</span>
      <span class="hljs-comment">// ç§»é™¤äº’æ–¥ã€ä¸èƒ½å…±å­˜çš„ marks</span>
      <span class="hljs-keyword">if</span> (marksNeedToRemove) {
        marksNeedToRemove.forEach((m) =&gt; editor.removeMark(m));
      }
    }
    <span class="hljs-keyword">if</span> (
      editor.isEmpty() ||
      editor.getHtml() == <span class="hljs-string">"&lt;p&gt;&lt;br&gt;&lt;/p&gt;"</span> ||
      editor.getSelectionText() == <span class="hljs-string">""</span>
    )
      <span class="hljs-keyword">return</span>; <span class="hljs-comment">//è¿™é‡Œæ˜¯å¯¹æ²¡æœ‰é€‰ä¸­æˆ–è€…æ²¡å†…å®¹åšçš„å¤„ç†</span>
  }
}
</code></pre>
<h2 data-id="heading-4">äº”ã€é¡µé¢åº”ç”¨ç»„ä»¶</h2>
<pre><code class="hljs language-javascript" lang="javascript"> &lt;el-form-item label=<span class="hljs-string">"å†…å®¹"</span>&gt;
 <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">WangEdit</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"form.content"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"wangEdit"</span>  @<span class="hljs-attr">change</span>=<span class="hljs-string">"change"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">WangEdit</span>&gt;</span></span>
  &lt;/el-form-item&gt;


<span class="hljs-comment">// js</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">WangEdit</span> = (<span class="hljs-params"/>) =&gt; <span class="hljs-keyword">import</span>(<span class="hljs-string">"@/views/compoments/WangEdit.vue"</span>);
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-string">"Notice"</span>,
  <span class="hljs-attr">components</span>: {
    <span class="hljs-title class_">WangEdit</span>,
  },
    <span class="hljs-title function_">data</span>(<span class="hljs-params"/>){
    <span class="hljs-keyword">return</span>{
          <span class="hljs-attr">form</span>:{
         }
    }
    },

 <span class="hljs-attr">methods</span>: {
     <span class="hljs-title function_">change</span>(<span class="hljs-params">val</span>) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(val,<span class="hljs-string">'aa'</span>);
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">form</span>.<span class="hljs-property">content</span>=val
        },
     <span class="hljs-comment">// å–æ¶ˆæŒ‰é’®</span>
    <span class="hljs-title function_">cancel</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">open</span> = <span class="hljs-literal">false</span>;
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">form</span>={};
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">wangEdit</span>.<span class="hljs-title function_">closeContent</span>();
    },
}
</code></pre>
<p>è½¬è½½ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdevpress.csdn.net%2Fvue%2F66cb0222101644163366a66d.html" target="_blank" title="https://devpress.csdn.net/vue/66cb0222101644163366a66d.html" ref="nofollow noopener noreferrer">wangEditor5åœ¨vueä¸­è‡ªå®šä¹‰èœå•æ --æ ¼å¼åˆ·ï¼Œä¸Šä¼ å›¾ç‰‡ï¼Œè§†é¢‘åŠŸèƒ½_vue.js_liang04273-Vue</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æŠ€æœ¯èåˆåˆ›æ–°ï¼šTrae+KAT-Coder+GLM-4.6æ‰“é€ åŒ»ç–—æŠ¥å‘Šç¿»è¯‘å®˜]]></title>    <link>https://juejin.cn/post/7573332163388735542</link>    <guid>https://juejin.cn/post/7573332163388735542</guid>    <pubDate>2025-11-17T09:24:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573332163388735542" data-draft-id="7573300346263224374" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æŠ€æœ¯èåˆåˆ›æ–°ï¼šTrae+KAT-Coder+GLM-4.6æ‰“é€ åŒ»ç–—æŠ¥å‘Šç¿»è¯‘å®˜"/> <meta itemprop="keywords" content="Trae"/> <meta itemprop="datePublished" content="2025-11-17T09:24:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="_æ‘˜æ˜Ÿ_"/> <meta itemprop="url" content="https://juejin.cn/user/2228036358374227"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æŠ€æœ¯èåˆåˆ›æ–°ï¼šTrae+KAT-Coder+GLM-4.6æ‰“é€ åŒ»ç–—æŠ¥å‘Šç¿»è¯‘å®˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2228036358374227/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    _æ‘˜æ˜Ÿ_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T09:24:33.000Z" title="Mon Nov 17 2025 09:24:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/93943b9c97b1427f8dc0bf354f1413ff~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=UjBKZ1XJm4Toa7xhsn848EU7QNc%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">æŠ€æœ¯èåˆåˆ›æ–°ï¼šTrae+KAT-Coder+GLM-4.6æ‰“é€ åŒ»ç–—æŠ¥å‘Šç¿»è¯‘å®˜</h2>
<h3 data-id="heading-1">æ‘˜è¦</h3>
<p>ä½œä¸ºè¿™æ¬¾â€œåŒ»ç–—æŠ¥å‘Šç¿»è¯‘å®˜â€åº”ç”¨çš„å¼€å‘è€…ï¼Œæˆ‘æ·±åˆ‡ä½“ä¼šåˆ°æŠ€æœ¯çœŸæ­£è½åœ°äºç”Ÿæ´»ç—›ç‚¹æ—¶çš„åŠ›é‡ã€‚é¢å¯¹çˆ¶æ¯è¾ˆæ‹¿ç€ä½“æ£€å•ä¸€è„¸èŒ«ç„¶çš„æ ·å­ï¼Œæˆ‘å†³å®šç”¨è‡ªå·±æ‰‹ä¸­çš„å·¥å…·åšç‚¹ä»€ä¹ˆâ€”â€”äºæ˜¯ï¼Œæˆ‘å°†å­—èŠ‚çš„ Trae IDE ä½œä¸ºå¼€å‘ä¸»æˆ˜åœºï¼Œæ¥å…¥å¿«æ‰‹ KAT-Coder å¼ºå¤§çš„ä»£ç ç”Ÿæˆä¸æ™ºèƒ½ä»£ç†èƒ½åŠ›ï¼Œå¹¶èåˆæ™ºè°± GLM-4.6 çš„è¯­è¨€ç†è§£ä¸ GLM-4.5V çš„è§†è§‰è¯†åˆ«ä¼˜åŠ¿ï¼Œæ„å»ºå‡ºä¸€ä¸ªèƒ½â€œçœ‹æ‡‚æŠ¥å‘Šã€è¯´å¾—æ˜ç™½â€çš„AIåŠ©æ‰‹ã€‚ä»ä¸€å¥æç¤ºè¯å‡ºå‘ï¼Œåˆ°å®Œæ•´é¡¹ç›®è‡ªåŠ¨ç”Ÿæˆã€æœ¬åœ°è°ƒè¯•ã€åå¤è¿­ä»£ï¼Œæ•´ä¸ªè¿‡ç¨‹é«˜æ•ˆè€Œå……æ»¡æˆå°±æ„Ÿã€‚æœ€ç»ˆï¼Œè¿™ä¸ªåº”ç”¨ä¸ä»…èƒ½æŠŠâ€œä½å¯†åº¦è„‚è›‹ç™½â€å˜æˆâ€œè¡€ç®¡é‡Œçš„åƒåœ¾è½¦â€ï¼Œæ›´è®©åŒ»å­¦çŸ¥è¯†ä¸å†é«˜ä¸å¯æ”€â€”â€”è¿™æ˜¯æˆ‘ä½œä¸ºä¸€åå¼€å‘è€…ï¼Œé€ç»™æ™®é€šç”¨æˆ·ã€å°¤å…¶æ˜¯ä¸­è€å¹´ç¾¤ä½“çš„ä¸€ä»½æŠ€æœ¯æ¸©åº¦ã€‚</p>
<h3 data-id="heading-2">äº§å“å±•ç¤º</h3>
<p>è¿›å…¥åˆ°é¦–é¡µ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/47e7a14b75f1439083488ea78b17a894~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=yx4Sk7AX3aY32Q%2Fe9rGZhh1REvs%3D" alt="" loading="lazy"/></p>
<p>é¦–å…ˆè¦è®¾ç½®GLMå¯†é’¥ï¼Œæ‰èƒ½ä½¿ç”¨åç»­çš„GLM4.6å’ŒGLM4.5VæœåŠ¡</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0aa07e165364b1ba45b87781a708491~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=ipMj7qYkp7ie2q%2Fkl9Pk9FafK1Y%3D" alt="" loading="lazy"/></p>
<p>è¿™é‡Œæˆ‘ä»¬å°†è¿™ä¸ªç—…ä¾‹å•ä¸Šä¼ åˆ°åº”ç”¨ä¸­</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3098677e7f8d41db9ded2683052efea8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=2Mm7DP5KH0NptXp6KZSGNvTDnA8%3D" alt="" loading="lazy"/></p>
<p>GLM4.5Vå¼€å§‹è¯†åˆ«å›¾ç‰‡</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/873e91b30c514d46866bd3fbfd732672~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=z9yDAr4Bgz5TKUQ1F9l1shaMiAA%3D" alt="" loading="lazy"/></p>
<p>è¯†åˆ«å®Œæ¯•ä¹‹åè¿˜ä¼šå¯¹åŸæœ‰çš„å†…å®¹è¿›è¡Œä¸€ä¸ªç»“æ„åŒ–çš„å†…å®¹è¾“å‡º</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b65b001db12a4a7baabd22cb7fadfbf4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=Y9%2Foq2Hcv3CJ9%2B7jv4ruU4cpOn4%3D" alt="" loading="lazy"/>ç‚¹å‡»ç»§ç»­ç¿»è¯‘ç›´æ¥è·³è½¬åˆ°æ–‡æœ¬ç¿»è¯‘ä¸­ï¼Œå½“ç„¶è¿™é‡Œä¹Ÿå¯ä»¥è‡ªå·±è¾“å…¥å†…å®¹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bc4f4ec38da641b59d90ead8a7b1b20f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=ZkkeNfPU5C1ZEkGj958ziUu%2BIS4%3D" alt="" loading="lazy"/></p>
<p>ç‚¹å‡»å¼€å§‹ç¿»è¯‘ä¼šå°±å°†æ™¦æ¶©éš¾æ‡‚çš„å†…å®¹ç»™ç¿»è¯‘æˆé€šä¿—æ˜“æ‡‚çš„å†…å®¹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3ba38b51ac964a7e89d342c866e9960c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=5qdMAKVxCVJZJU2lLbM87h3cFBg%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/db7b9f959f844d278c564d080302c064~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=%2FocLrEyecJvfyWe9Qrdqi72K4DQ%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1491d193689a4052a356e262937d9d3b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=c6DvHYwIg%2FeSGOB%2F0Wm1FqrJfPk%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-3">é¡¹ç›®èƒŒæ™¯</h3>
<p>åœ¨å½“ä»ŠåŒ»ç–—å¥åº·é¢†åŸŸï¼ŒåŒ»æ‚£æ²Ÿé€šä¸ç•…å·²æˆä¸ºæ™®éé—®é¢˜ã€‚æ‚£è€…é¢å¯¹æ£€æŸ¥æŠ¥å‘Šä¸­çš„ä¸“ä¸šåŒ»å­¦æœ¯è¯­å¦‚"ä½å¯†åº¦è„‚è›‹ç™½èƒ†å›ºé†‡"ã€"Cååº”è›‹ç™½"ç­‰æ—¶ï¼Œå¾€å¾€éš¾ä»¥ç†è§£ï¼Œè¿™ç§ä¿¡æ¯ä¸å¯¹ç§°ä¸ä»…å½±å“å¥åº·ç®¡ç†å†³ç­–ï¼Œè¿˜å¯èƒ½å¯¼è‡´ä¸å¿…è¦çš„ç„¦è™‘å’Œå»¶è¯¯æ²»ç–—ã€‚</p>
<p>æ®ç»Ÿè®¡ï¼Œè¶…è¿‡60%çš„æ‚£è€…æ— æ³•å‡†ç¡®ç†è§£åŒ»ç–—æŠ¥å‘Šä¸­çš„å…³é”®æŒ‡æ ‡ï¼Œçº¦40%çš„æ‚£è€…å› æ­¤å»¶è¯¯å¿…è¦åŒ»ç–—å¹²é¢„ã€‚ä¼ ç»Ÿè§£å†³æ–¹æ¡ˆå¦‚åŒ»ç”Ÿå£å¤´è§£é‡Šæˆ–åœ¨çº¿æŸ¥è¯¢ï¼Œå­˜åœ¨æ—¶æ•ˆæ€§å·®ã€ä¸ªæ€§åŒ–ä¸è¶³ç­‰é—®é¢˜ï¼Œå°¤å…¶åœ¨åŒ»ç–—èµ„æºç´§å¼ çš„æƒ…å†µä¸‹éš¾ä»¥æ»¡è¶³éœ€æ±‚ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1287119c3dbe4feeb7e36d513f53c3c1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=BoTLRyWdtRNnpMy0IiIVBgqYenw%3D" alt="" loading="lazy"/></p>
<p>éšç€å¤§è¯­è¨€æ¨¡å‹æŠ€æœ¯çš„çªç ´ï¼ŒAIä¸ºè§£å†³è¿™ä¸€ç—›ç‚¹æä¾›äº†æ–°å¯èƒ½ã€‚æœ¬é¡¹ç›®æ—¨åœ¨æ„å»ºæ™ºèƒ½åŒ»ç–—æŠ¥å‘Šç¿»è¯‘å®˜åº”ç”¨ï¼Œé€šè¿‡å…ˆè¿›AIæ¨¡å‹å°†ä¸“ä¸šåŒ»å­¦æœ¯è¯­è½¬åŒ–ä¸ºç”Ÿæ´»åŒ–è¯­è¨€ï¼Œä¸ºæ‚£è€…æä¾›å³æ—¶ã€å‡†ç¡®ã€æ˜“æ‡‚çš„æŠ¥å‘Šè§£è¯»æœåŠ¡ï¼Œè®©ä¸“ä¸šåŒ»å­¦çŸ¥è¯†å˜å¾—è§¦æ‰‹å¯åŠã€‚</p>
<h3 data-id="heading-4">KAT-Coder</h3>
<p>KAT-Coderå®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.streamlake.com%2Fproduct%2Fkat-coder" target="_blank" title="https://www.streamlake.com/product/kat-coder" ref="nofollow noopener noreferrer">www.streamlake.com/product/katâ€¦</a></p>
<p>KAT-Coder-Pro-V1æ˜¯å¿«æ‰‹æ——ä¸‹StreamLakeå¹³å°æ¨å‡ºçš„ä¸€æ¬¾é¡¶çº§ç¼–ç AIåŠ©æ‰‹ï¼Œä»£è¡¨äº†å½“å‰AIç¼–ç¨‹é¢†åŸŸçš„æœ€å…ˆè¿›æ°´å¹³ã€‚ è¯¥æ¨¡å‹åœ¨SWE-Benchè¯„æµ‹ä¸­è·å¾—äº†73.4%çš„è§£å†³ç‡ï¼Œè¿™ä¸€æˆç»©ç”šè‡³è¶…è¿‡äº†GPT-5å’ŒClaude Sonnet 4ç­‰å›½é™…çŸ¥åæ¨¡å‹ï¼Œå±•ç¤ºäº†å…¶åœ¨å¤æ‚ä»»åŠ¡å¤„ç†æ–¹é¢çš„å“è¶Šèƒ½åŠ›ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d701028af128490bb0729e7570522077~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=UF7XJ460gm7kRXVfST6SZPrT1ew%3D" alt="" loading="lazy"/></p>
<p>KAT-Coder-Pro-V1çš„æ ¸å¿ƒä¼˜åŠ¿åœ¨äºå…¶å…ˆè¿›çš„æ™ºèƒ½ä»£ç†èƒ½åŠ›ã€‚è¯¥æ¨¡å‹æ”¯æŒå¤šå·¥å…·å¹¶è¡Œè°ƒç”¨ï¼Œèƒ½å¤Ÿè‡ªä¸»å®Œæˆå¤æ‚ä»»åŠ¡ï¼Œè¿™ç§èƒ½åŠ›å¯¹äºæ„å»ºåŒ»ç–—æŠ¥å‘Šç¿»è¯‘å®˜è¿™æ ·éœ€è¦å¤šæ­¥éª¤å¤„ç†çš„åº”ç”¨è‡³å…³é‡è¦ã€‚ åœ¨å®é™…åº”ç”¨ä¸­ï¼ŒKAT-Coder-Pro-V1ç”Ÿæˆçš„ä»£ç ä¸ä»…å¯ä»¥ç›´æ¥è¿è¡Œï¼Œè¿˜å±•ç°å‡ºè¾ƒä¸ºæˆç†Ÿçš„å·¥ç¨‹åŒ–æ°´å¹³ï¼ŒåŒ…æ‹¬å‰ç«¯ç•Œé¢è®¾è®¡ã€å†…ç½®åº”ç”¨é›†æˆç­‰ï¼Œè¿™ä¸ºå¿«é€Ÿæ„å»ºå®Œæ•´çš„åŒ»ç–—åº”ç”¨æä¾›äº†å¼ºå¤§æ”¯æŒã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5ea1809806384acab79a91d047e56c0f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=Db3hznXcPm%2F3BqpcGBOyc%2B5Mv1s%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-5">Trae</h3>
<p>Traeå®˜ç½‘ï¼š<a href="https://www.trae.ai/" target="_blank" title="https://www.trae.ai/" ref="nofollow noopener noreferrer">www.trae.ai/</a></p>
<p>Traeæ˜¯ç”±å­—èŠ‚è·³åŠ¨æ¨å‡ºçš„ä¸€æ¬¾AIé©±åŠ¨çš„æ™ºèƒ½é›†æˆå¼€å‘ç¯å¢ƒï¼ˆIDEï¼‰ï¼Œæ—¨åœ¨é€šè¿‡äººå·¥æ™ºèƒ½æŠ€æœ¯æ˜¾è‘—æå‡è½¯ä»¶å¼€å‘æ•ˆç‡ã€‚ ä½œä¸ºä¸€æ¬¾ç°ä»£åŒ–çš„AIç¼–ç¨‹åŠ©æ‰‹ï¼ŒTraeä¸ä»…æ”¯æŒä¸»æµçš„AIæ¨¡å‹å¦‚Anthropicå’ŒOpenAIï¼Œè¿˜æä¾›äº†å¼ºå¤§çš„è‡ªå®šä¹‰æ¨¡å‹é›†æˆèƒ½åŠ›ï¼Œè¿™ä½¿å…¶æˆä¸ºæ„å»ºä¸“ä¸šé¢†åŸŸAIåº”ç”¨çš„ç†æƒ³å¹³å°ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c64605228e844f1b4155a5659f79f1e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=yRK0rkYy%2BQatTqbWVndqdb1sFFI%3D" alt="" loading="lazy"/></p>
<p>Traeå¯¹OpenRouterç­‰å¼€æ”¾å¹³å°çš„æ”¯æŒï¼Œè¿™ä¸ºå¼€å‘è€…æä¾›äº†æ›´å¤§çš„çµæ´»æ€§ï¼Œä½¿å…¶èƒ½å¤Ÿæ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©å’Œé›†æˆæœ€é€‚åˆçš„AIæ¨¡å‹ã€‚ åŒæ—¶ï¼Œç¤¾åŒºæ­£åœ¨ç§¯ææ¨åŠ¨å¯¹è‡ªå®šä¹‰æ¨¡å‹æœåŠ¡å•†base_urlçš„æ”¯æŒèƒ½åŠ›ï¼Œè¿™å°†è¿›ä¸€æ­¥å¢å¼ºTraeåœ¨ä¼ä¸šçº§åº”ç”¨ä¸­çš„é€‚åº”æ€§ã€‚è¿™äº›ç‰¹æ€§ä½¿å¾—Traeæˆä¸ºè¿æ¥è‡ªå®šä¹‰AIæ¨¡å‹ï¼ˆå¦‚KAT-Coder-Pro-V1ï¼‰ä¸ä¸“ä¸šåº”ç”¨åœºæ™¯ï¼ˆå¦‚åŒ»ç–—æŠ¥å‘Šç¿»è¯‘ï¼‰çš„ç†æƒ³æ¡¥æ¢ï¼Œä¸ºæˆ‘ä»¬çš„é¡¹ç›®æä¾›äº†åšå®çš„æŠ€æœ¯åŸºç¡€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/12a7ba79f1894defa4a8035f452bfb61~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=2dRomH3ncH51%2BXiOvQApT%2FxNhX4%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-6">Traeæ¥å…¥è‡ªå®šä¹‰æ¨¡å‹KAT-Coder</h3>
<p>å®˜æ–¹æ–‡æ¡£å‚è€ƒï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FKXSRoBaME_Wvv2wlRZ_FaA" target="_blank" title="https://mp.weixin.qq.com/s/KXSRoBaME_Wvv2wlRZ_FaA" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/KXSRoBaMEâ€¦</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f08abee52b174284bd2e2eed7afb06bd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=kGMrgH1HX7H%2FZq%2F9QOa8xYb3224%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-7">è·å–API Key</h4>
<p>è®¿é—®ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fnovita.ai%2Fsettings%2Fkey-management" target="_blank" title="https://novita.ai/settings/key-management" ref="nofollow noopener noreferrer">novita.ai/settings/keâ€¦</a>novita.aiæœåŠ¡å•†ç‚¹å‡»å¯†é’¥ç®¡ç†</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a0a2577f207a4cbcbcd21e79d40003b4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=etaQg8ggsNNuuSD%2FiTWlOZk5BsM%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-8">æ¥å…¥Trae</h4>
<p>Traeä¸­ç‚¹å‡»ã€è®¾ç½®ã€‘-ã€æ¨¡å‹ã€‘-ã€è‡ªå®šä¹‰æ¨¡å‹ã€‘</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5ad7b15e4334447a8dbdadc5f935e0d9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=xe2aiiMQTw%2BnJXe7lNC303vEmZg%3D" alt="" loading="lazy"/></p>
<p>é€‰æ‹©novita.aiæœåŠ¡å•†ï¼Œæ¨¡å‹è¾“å…¥kat-coderï¼Œå¯†é’¥å°±æ˜¯åˆšåˆšåˆ›å»ºçš„å¯†é’¥</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8128fe0fb5414c0bb7d4003fba84fea7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=iurHxI5cnV2otKA10Hjne5RE2XE%3D" alt="" loading="lazy"/></p>
<p>è‡ªå®šä¹‰æ¨¡å‹kat-coderåŠ å…¥æˆåŠŸ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1a9dc43699c442d9b7066bc8eedc273e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=VMz91FWxkvwvFeSa8wUZzCMQuVc%3D" alt="" loading="lazy"/></p>
<p>åœ¨å¯¹è¯ä¸­é€‰æ‹©Kat-coder</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ffd741ad816d4dab92a04e487229e52a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=mMlaZn%2F9%2FCt%2BBDsKrTHyy9IyI3c%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-9">æ™ºè°±å¤§æ¨¡å‹</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bigmodel.cn%2F" target="_blank" title="https://www.bigmodel.cn/" ref="nofollow noopener noreferrer">æ™ºè°±AI</a>ï¼ˆZhipu AIï¼‰æ˜¯ä¸­å›½é¢†å…ˆçš„å¤§æ¨¡å‹æŠ€æœ¯å…¬å¸ï¼Œè‡´åŠ›äºæ¨åŠ¨é€šç”¨äººå·¥æ™ºèƒ½ï¼ˆAGIï¼‰çš„å‘å±•ã€‚å…¶è‡ªä¸»ç ”å‘çš„GLMï¼ˆGeneral Language Modelï¼‰ç³»åˆ—å¤§æ¨¡å‹ï¼Œå‡­å€Ÿå¼ºå¤§çš„è¯­è¨€ç†è§£ä¸ç”Ÿæˆèƒ½åŠ›ã€å¤šæ¨¡æ€èåˆèƒ½åŠ›ä»¥åŠé«˜æ•ˆçš„æ¨ç†æ€§èƒ½ï¼Œå·²åœ¨å­¦æœ¯ç•Œå’Œäº§ä¸šç•Œè·å¾—å¹¿æ³›è®¤å¯ã€‚</p>
<p>åœ¨åŒ»ç–—æŠ¥å‘Šç¿»è¯‘å®˜åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬é‡‡ç”¨GLM-4.6ä¸GLM-4.5VåŒæ¨¡å‹ååŒæ¶æ„ï¼Œåˆ†åˆ«è´Ÿè´£è¯­è¨€ç†è§£å’Œè§†è§‰è¯†åˆ«ä¸¤å¤§æ ¸å¿ƒåŠŸèƒ½ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/246130590e974d9da4d7e948b3d61096~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=RCq4HwHS%2B5Mtca1T0FJ3EftBh88%3D" alt="" loading="lazy"/></p>
<p>GLM-4.6ä½œä¸ºæ™ºè°±AIçš„æ——èˆ°è¯­è¨€æ¨¡å‹ï¼Œé‡‡ç”¨355Bå‚æ•°çš„æ··åˆä¸“å®¶æ¶æ„ï¼Œæ‹¥æœ‰200Kè¶…é•¿ä¸Šä¸‹æ–‡å¤„ç†èƒ½åŠ›ï¼Œç¨³å±…å›½å†…æ¨¡å‹æ€§èƒ½æ¦œé¦–ã€‚ è¯¥æ¨¡å‹åœ¨å·¥å…·ä½¿ç”¨å’Œä»£ç†ä»»åŠ¡æ–¹é¢è¡¨ç°å“è¶Šï¼Œèƒ½é«˜æ•ˆé›†æˆåˆ°å¤æ‚çš„å·¥ä½œæµä¸­ï¼Œç‰¹åˆ«é€‚åˆå°†ä¸“ä¸šåŒ»ç–—æœ¯è¯­è½¬åŒ–ä¸ºç”Ÿæ´»åŒ–è¡¨è¾¾ã€‚ å…¶tokenæ¶ˆè€—æ¯”å‰ä»£é™ä½30%ï¼Œä¸ºå®æ—¶äº¤äº’æä¾›äº†æˆæœ¬æ•ˆç›Šä¿éšœã€‚</p>
<p>GLM-4.5Våˆ™æ˜¯ä¸“ä¸ºè§†è§‰ä»»åŠ¡è®¾è®¡çš„å¼€æºå¤šæ¨¡æ€æ¨¡å‹ï¼Œåœ¨42ä¸ªè§†è§‰è¯­è¨€åŸºå‡†æµ‹è¯•ä¸­è¡¨ç°ä¼˜å¼‚ã€‚ è¯¥æ¨¡å‹å…·å¤‡å¼ºå¤§çš„OCRèƒ½åŠ›ï¼Œèƒ½å¤Ÿç²¾å‡†æå–åŒ»ç–—æŠ¥å‘Šå›¾åƒä¸­çš„æ–‡å­—å†…å®¹ï¼ŒåŒ…æ‹¬å¤æ‚çš„åŒ»å­¦å›¾è¡¨å’Œæ‰‹å†™ä½“ã€‚ åœ¨åŒ»ç–—å½±åƒåˆ†ææ–¹é¢ï¼ŒGLM-4.5Vèƒ½ç²¾ç¡®å®šä½å›¾åƒä¸­çš„å…³é”®å…ƒç´ ï¼Œä¸ºåç»­çš„è¯­è¨€è§£é‡Šæä¾›å‡†ç¡®çš„è§†è§‰è¾“å…¥ã€‚</p>
<p>åŒæ¨¡å‹ååŒå·¥ä½œæµç¨‹ä¸ºï¼šGLM-4.5Vè´Ÿè´£å¤„ç†ç”¨æˆ·ä¸Šä¼ çš„çº¸è´¨æˆ–ç”µå­æŠ¥å‘Šå›¾ç‰‡ï¼Œé€šè¿‡OCRæŠ€æœ¯æå–æ–‡æœ¬å†…å®¹ï¼›GLM-4.6åˆ™æ¥æ”¶æå–çš„æ–‡æœ¬ï¼Œå°†ä¸“ä¸šåŒ»å­¦æœ¯è¯­è½¬åŒ–ä¸ºé€šä¿—æ˜“æ‡‚çš„æ—¥å¸¸è¡¨è¾¾ã€‚ è¿™ç§åˆ†å·¥æ¨¡å¼å……åˆ†å‘æŒ¥äº†å„è‡ªä¼˜åŠ¿ï¼Œç¡®ä¿ç³»ç»Ÿæ—¢èƒ½"çœ‹å¾—æ¸…"æŠ¥å‘Šå†…å®¹ï¼Œåˆèƒ½"è¯´å¾—æ‡‚"åŒ»å­¦å«ä¹‰ï¼Œä¸ºæ‚£è€…æä¾›æ— ç¼çš„åŒ»ç–—æŠ¥å‘Šè§£è¯»ä½“éªŒã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4b7f27517345433ca1f70b2be2ee8ceb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=%2Fjo3WohWHAXYHt1KOQM44WKFkPY%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-10">è·å–API KEY</h4>
<p>åœ¨æ™ºè°±AIå¼€æ”¾å¹³å°çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bigmodel.cn%2Fusercenter%2Fproj-mgmt%2Fapikeys" target="_blank" title="https://www.bigmodel.cn/usercenter/proj-mgmt/apikeys" ref="nofollow noopener noreferrer">æ§åˆ¶å°</a>ä¸­ï¼Œå³å¯æ·»åŠ è´¦å·çš„API KEY</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8644bb20b9a348218f8d470ef90a821f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=YngpTsJ%2BPBv%2FePJnZyxnXdssrB8%3D" alt="" loading="lazy"/></p>
<p>æ·»åŠ å®Œä¹‹åéœ€è¦ä½¿ç”¨çš„æ—¶å€™ç›´æ¥å¤åˆ¶API KEYå³å¯</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c844a16587443aebe38f8cfb4fc4f72~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=Jm0RQ6%2FYS89laq53BlSh6733KTY%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-11">GLM-4.6</h4>
<p>æ™ºè°±æœ€æ–°æ——èˆ°ï¼Œä»£ç èƒ½åŠ›å…¨é¢å¯¹é½ Claude Sonnet 4ï¼Œæ˜¯å›½å†…æœ€å¥½çš„ç¼–ç¨‹æ¨¡å‹ã€‚åœ¨çœŸå®ç¼–ç¨‹ã€é•¿ä¸Šä¸‹æ–‡å¤„ç†ã€æ¨ç†èƒ½åŠ›ã€ä¿¡æ¯æœç´¢ã€å†™ä½œèƒ½åŠ›ä¸æ™ºèƒ½ä½“åº”ç”¨ç­‰å¤šä¸ªæ–¹é¢å®ç°å…¨é¢æå‡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/99b5860fe92f4e2f9a655f179c064cfa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=t4M7gUJDRaPlCkKqatau2kj%2BTK8%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/141ad591f4b94e6a80806b8d0043a307~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=Ckh8JR0ahM3Ri%2BXMhaLsDaBUfBU%3D" alt="" loading="lazy"/></p>
<p>GLM-4.6è°ƒç”¨ç¤ºä¾‹</p>
<pre><code class="hljs language-vbnet" lang="vbnet">curl -X POST <span class="hljs-string">"https://open.bigmodel.cn/api/paas/v4/chat/completions"</span> \
    -H <span class="hljs-string">"Content-Type: application/json"</span> \
    -H <span class="hljs-string">"Authorization: Bearer your-api-key"</span> \
    -d <span class="hljs-comment">'{</span>
        <span class="hljs-string">"model"</span>: <span class="hljs-string">"glm-4.6"</span>,
        <span class="hljs-string">"messages"</span>: [
        {
            <span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>,
            <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä½œä¸ºä¸€åè¥é”€ä¸“å®¶ï¼Œè¯·ä¸ºæˆ‘çš„äº§å“åˆ›ä½œä¸€ä¸ªå¸å¼•äººçš„å£å·"</span>
        },
        {
            <span class="hljs-string">"role"</span>: <span class="hljs-string">"assistant"</span>,
            <span class="hljs-string">"content"</span>: <span class="hljs-string">"å½“ç„¶ï¼Œè¦åˆ›ä½œä¸€ä¸ªå¸å¼•äººçš„å£å·ï¼Œè¯·å‘Šè¯‰æˆ‘ä¸€äº›å…³äºæ‚¨äº§å“çš„ä¿¡æ¯"</span>
        },
        {
            <span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>,
            <span class="hljs-string">"content"</span>: <span class="hljs-string">"æ™ºè°±AI å¼€æ”¾å¹³å°"</span>
        }
            ],
            <span class="hljs-string">"thinking"</span>: {
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"enabled"</span>
        },
            <span class="hljs-string">"max_tokens"</span>: <span class="hljs-number">65536</span>,
            <span class="hljs-string">"temperature"</span>: <span class="hljs-number">1.0</span>
        }<span class="hljs-comment">'</span>
</code></pre>
<h4 data-id="heading-12">GLM-4.5V</h4>
<p>GLM-4.5V æ˜¯æ™ºè°±æ–°ä¸€ä»£åŸºäº MOE æ¶æ„çš„è§†è§‰æ¨ç†æ¨¡å‹ï¼Œä»¥ 106B çš„æ€»å‚æ•°é‡å’Œ 12B æ¿€æ´»å‚æ•°é‡ï¼Œåœ¨å„ç±»åŸºå‡†æµ‹è¯•ä¸­è¾¾åˆ°å…¨çƒåŒçº§åˆ«å¼€æºå¤šæ¨¡æ€æ¨¡å‹ SOTAï¼Œæ¶µç›–å›¾åƒã€è§†é¢‘ã€æ–‡æ¡£ç†è§£åŠ GUI ä»»åŠ¡ç­‰å¸¸è§ä»»åŠ¡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8b85eec11df3425ca128370d4f9c8536~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=fTLtcoDp3wjPiKTKI1w2M3xS%2Bb8%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0a52341548740a58dceb6b1b33a0a0e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=towuAW%2BYwiRNjbb23QXQkh%2FWpTU%3D" alt="" loading="lazy"/></p>
<p>è°ƒç”¨ç¤ºä¾‹</p>
<pre><code class="hljs language-arduino" lang="arduino">curl -X POST \
  https:<span class="hljs-comment">//open.bigmodel.cn/api/paas/v4/chat/completions \
  -H "Authorization: Bearer your-api-key" \
  -H "Content-Type: application/json" \
  -d '{</span>
    <span class="hljs-string">"model"</span>: <span class="hljs-string">"glm-4.5v"</span>,
    <span class="hljs-string">"messages"</span>: [
      {
        <span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>,
        <span class="hljs-string">"content"</span>: [
          {
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"image_url"</span>,
            <span class="hljs-string">"image_url"</span>: {
              <span class="hljs-string">"url"</span>: <span class="hljs-string">"https://cloudcovert-1305175928.cos.ap-guangzhou.myqcloud.com/%E5%9B%BE%E7%89%87grounding.PNG"</span>
            }
          },
          {
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span>,
            <span class="hljs-string">"text"</span>: <span class="hljs-string">"Where is the second bottle of beer from the right on the table?  Provide coordinates in [[xmin,ymin,xmax,ymax]] format"</span>
          }
        ]
      }
    ],
    <span class="hljs-string">"thinking"</span>: {
      <span class="hljs-string">"type"</span>:<span class="hljs-string">"enabled"</span>
    }
  }'
</code></pre>
<h3 data-id="heading-13">å¼€å‘å®è·µ</h3>
<h4 data-id="heading-14">å¼€å‘æç¤ºè¯</h4>
<p>å‡†å¤‡å¥½å¼€å‘æç¤ºè¯å¹¶è¾“å…¥ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet">æˆ‘è¦åšä¸€ä¸ªåŒ»ç–—æŠ¥å‘Šç¿»è¯‘å®˜åº”ç”¨ï¼Œç›®çš„æ˜¯è§£å†³ä¸­è€å¹´äººçœ‹ä¸æ‡‚çº¸è´¨ç—…ä¾‹ä¸Šçš„ä¸“ä¸šåŒ»å­¦æœ¯è¯­
åŠŸèƒ½ï¼š
<span class="hljs-number">1</span>ã€è¯­è¨€äº¤äº’ï¼šè¾“å…¥æ£€æŸ¥æŠ¥å‘Šç»“è®ºï¼Œè°ƒç”¨GLM-<span class="hljs-number">4.6</span>ç”¨ç”Ÿæ´»åŒ–è¯­è¨€è§£é‡ŠæŒ‡æ ‡æ„ä¹‰ï¼Œä¹Ÿå°±æ˜¯è¯´å°†ç¹ççš„åŒ»ç–—æœ¯è¯­ç¿»è¯‘æˆæ™®é€šäººéƒ½èƒ½å¬å¾—æ‡‚çš„æ ·å­ï¼ˆå¦‚â€œä½å¯†åº¦è„‚è›‹ç™½=è¡€ç®¡åƒåœ¾è½¦â€ï¼‰ï¼Œç¿»è¯‘å‡ºçš„è¯­è¨€ç”¨ç²¾ç¾æŸ”å’Œçš„å¡ç‰‡é£æ ¼å±•ç¤ºã€‚
<span class="hljs-number">2</span>ã€è§†è§‰äº¤äº’ï¼šæ‹ç…§ä¸Šä¼ åŒ»é™¢çš„çº¸è´¨æŠ¥å‘Šå•æˆ–è€…ç”µå­æŠ¥å‘Šå•ï¼Œè°ƒç”¨GLM-<span class="hljs-number">4.5</span>Vè¯†åˆ«æ–‡å­—åï¼Œå†é‡å¤è¯­è¨€äº¤äº’çš„è¿‡ç¨‹
<span class="hljs-number">3</span>ã€GLMçš„å¯†é’¥å­˜æ”¾åœ¨localstorageä¸­ï¼Œæ¯æ¬¡è¿›å…¥é¡µé¢çš„æ—¶å€™éœ€è¦åœ¨è®¾ç½®ä¸­æ‰‹åŠ¨è¾“å…¥ï¼Œè®¾ç½®ä¸­åŒ…å«æµ‹è¯•é“¾æ¥çš„æŒ‰é’®
<span class="hljs-number">4</span>ã€æ•´ä½“ä»¥åŒ»ç–—æç®€é£æ ¼ï¼Œä½¿ç”¨ä½é¥±å’Œçš„è¾…åŠ©è‰²ï¼ˆå¦‚è“ã€ç»¿ï¼‰ï¼šè“è‰²ä»£è¡¨ä¿¡ä»»ä¸ç§‘æŠ€ï¼Œç»¿è‰²ä»£è¡¨å¥åº·ä¸å®‰å¿ƒï¼Œé¿å…ä½¿ç”¨çº¢è‰²ã€æ©™è‰²ç­‰åˆºæ¿€æ€§æš–è‰²
GLM4.<span class="hljs-number">6</span>æ¥å…¥ç¤ºä¾‹ï¼š
curl -X POST <span class="hljs-string">"https://open.bigmodel.cn/api/paas/v4/chat/completions"</span> \
    -H <span class="hljs-string">"Content-Type: application/json"</span> \
    -H <span class="hljs-string">"Authorization: Bearer your-api-key"</span> \
    -d <span class="hljs-comment">'{</span>
        <span class="hljs-string">"model"</span>: <span class="hljs-string">"glm-4.6"</span>,
        <span class="hljs-string">"messages"</span>: [
        {
            <span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>,
            <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä½œä¸ºä¸€åè¥é”€ä¸“å®¶ï¼Œè¯·ä¸ºæˆ‘çš„äº§å“åˆ›ä½œä¸€ä¸ªå¸å¼•äººçš„å£å·"</span>
        },
        {
            <span class="hljs-string">"role"</span>: <span class="hljs-string">"assistant"</span>,
            <span class="hljs-string">"content"</span>: <span class="hljs-string">"å½“ç„¶ï¼Œè¦åˆ›ä½œä¸€ä¸ªå¸å¼•äººçš„å£å·ï¼Œè¯·å‘Šè¯‰æˆ‘ä¸€äº›å…³äºæ‚¨äº§å“çš„ä¿¡æ¯"</span>
        },
        {
            <span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>,
            <span class="hljs-string">"content"</span>: <span class="hljs-string">"æ™ºè°±AI å¼€æ”¾å¹³å°"</span>
        }
            ],
            <span class="hljs-string">"thinking"</span>: {
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"enabled"</span>
        },
            <span class="hljs-string">"max_tokens"</span>: <span class="hljs-number">65536</span>,
            <span class="hljs-string">"temperature"</span>: <span class="hljs-number">1.0</span>
        }<span class="hljs-comment">'</span>
GLM4.<span class="hljs-number">5</span>Væ¥å…¥ç¤ºä¾‹ï¼š
curl -X POST \
  https://open.bigmodel.cn/api/paas/v4/chat/completions \
  -H <span class="hljs-string">"Authorization: Bearer your-api-key"</span> \
  -H <span class="hljs-string">"Content-Type: application/json"</span> \
  -d <span class="hljs-comment">'{</span>
    <span class="hljs-string">"model"</span>: <span class="hljs-string">"glm-4.5v"</span>,
    <span class="hljs-string">"messages"</span>: [
      {
        <span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>,
        <span class="hljs-string">"content"</span>: [
          {
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"image_url"</span>,
            <span class="hljs-string">"image_url"</span>: {
              <span class="hljs-string">"url"</span>: <span class="hljs-string">"https://cloudcovert-1305175928.cos.ap-guangzhou.myqcloud.com/%E5%9B%BE%E7%89%87grounding.PNG"</span>
            }
          },
          {
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span>,
            <span class="hljs-string">"text"</span>: <span class="hljs-string">"Where is the second bottle of beer from the right on the table?  Provide coordinates in [[xmin,ymin,xmax,ymax]] format"</span>
          }
        ]
      }
    ],
    <span class="hljs-string">"thinking"</span>: {
      <span class="hljs-string">"type"</span>:<span class="hljs-string">"enabled"</span>
    }
  }<span class="hljs-comment">'</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f7d384bb83af44a8b0116bcf350d2803~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=OMv4QHOG%2BcY5Sm7XWoXGNq7zzx0%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-15">å¼€å‘æ–‡æ¡£</h4>
<p>æˆ‘ä¼šå…ˆè®©å…¶ç”Ÿæˆå¼€å‘æ–‡æ¡£ï¼Œè¿™æ ·ä¸ä¼šåœ¨åç»­çš„è¿‡ç¨‹ä¸­èµ°åæ–¹å‘ï¼Œä»¥ä¸‹æ˜¯æ–‡æ¡£çš„å…·ä½“å†…å®¹ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">## 1. äº§å“æ¦‚è¿°</span>
åŒ»ç–—æŠ¥å‘Šç¿»è¯‘å®˜åº”ç”¨æ—¨åœ¨å¸®åŠ©ä¸­è€å¹´äººç†è§£çº¸è´¨ç—…å†ä¸Šçš„ä¸“ä¸šåŒ»å­¦æœ¯è¯­ï¼Œå°†å¤æ‚çš„åŒ»ç–—æŠ¥å‘Šè½¬åŒ–ä¸ºé€šä¿—æ˜“æ‡‚çš„ç”Ÿæ´»åŒ–è¯­è¨€ã€‚

é€šè¿‡AIæŠ€æœ¯å°†åŒ»ç–—æœ¯è¯­ç¿»è¯‘æˆå½¢è±¡çš„æ¯”å–»ï¼ˆå¦‚"ä½å¯†åº¦è„‚è›‹ç™½=è¡€ç®¡åƒåœ¾è½¦"ï¼‰ï¼Œè®©æ™®é€šç”¨æˆ·èƒ½å¤Ÿè½»æ¾ç†è§£è‡ªå·±çš„å¥åº·çŠ¶å†µã€‚

<span class="hljs-section">## 2. æ ¸å¿ƒåŠŸèƒ½</span>

<span class="hljs-section">### 2.1 ç”¨æˆ·è§’è‰²</span>
| è§’è‰² | æ³¨å†Œæ–¹å¼ | æ ¸å¿ƒæƒé™ |
|------|----------|----------|
| æ™®é€šç”¨æˆ· | æ— éœ€æ³¨å†Œï¼Œç›´æ¥ä½¿ç”¨ | æ–‡æœ¬è¾“å…¥ç¿»è¯‘ã€å›¾ç‰‡ä¸Šä¼ è¯†åˆ«ã€APIå¯†é’¥è®¾ç½® |

<span class="hljs-section">### 2.2 åŠŸèƒ½æ¨¡å—</span>
åº”ç”¨åŒ…å«ä»¥ä¸‹ä¸»è¦é¡µé¢ï¼š
<span class="hljs-bullet">1.</span> <span class="hljs-strong">**é¦–é¡µ**</span>ï¼šåŠŸèƒ½é€‰æ‹©ã€ä½¿ç”¨å¼•å¯¼ã€æœ€è¿‘ç¿»è¯‘è®°å½•
<span class="hljs-bullet">2.</span> <span class="hljs-strong">**æ–‡æœ¬ç¿»è¯‘é¡µ**</span>ï¼šåŒ»ç–—æœ¯è¯­è¾“å…¥ã€ç¿»è¯‘ç»“æœå±•ç¤ºã€æ”¶è—åŠŸèƒ½
<span class="hljs-bullet">3.</span> <span class="hljs-strong">**å›¾ç‰‡è¯†åˆ«é¡µ**</span>ï¼šæ‹ç…§ä¸Šä¼ ã€å›¾ç‰‡é¢„è§ˆã€è¯†åˆ«ç»“æœå±•ç¤º
<span class="hljs-bullet">4.</span> <span class="hljs-strong">**è®¾ç½®é¡µ**</span>ï¼šAPIå¯†é’¥è¾“å…¥ã€æµ‹è¯•è¿æ¥ã€ä½¿ç”¨è¯´æ˜

<span class="hljs-section">### 2.3 é¡µé¢è¯¦æƒ…</span>
| é¡µé¢åç§° | æ¨¡å—åç§° | åŠŸèƒ½æè¿° |
|-----------|-------------|-------------|
| é¦–é¡µ | åŠŸèƒ½é€‰æ‹©åŒº | æ˜¾ç¤ºæ–‡æœ¬ç¿»è¯‘å’Œå›¾ç‰‡è¯†åˆ«ä¸¤ä¸ªä¸»è¦åŠŸèƒ½å…¥å£ï¼Œä½¿ç”¨å¤§å›¾æ ‡å’Œç®€æ´æ–‡å­—è¯´æ˜ |
| é¦–é¡µ | ä½¿ç”¨å¼•å¯¼ | å±•ç¤ºåº”ç”¨ä½¿ç”¨æ­¥éª¤ï¼Œå¸®åŠ©ç”¨æˆ·å¿«é€Ÿä¸Šæ‰‹ |
| é¦–é¡µ | æœ€è¿‘è®°å½• | æ˜¾ç¤ºæœ€è¿‘5æ¡ç¿»è¯‘è®°å½•ï¼Œç‚¹å‡»å¯æŸ¥çœ‹è¯¦æƒ… |
| æ–‡æœ¬ç¿»è¯‘é¡µ | è¾“å…¥åŒºåŸŸ | å¤šè¡Œæ–‡æœ¬æ¡†è¾“å…¥åŒ»ç–—æŠ¥å‘Šç»“è®ºï¼Œæ”¯æŒç²˜è´´å’Œæ¸…ç©ºæ“ä½œ |
| æ–‡æœ¬ç¿»è¯‘é¡µ | ç¿»è¯‘æŒ‰é’® | è°ƒç”¨GLM-4.6 APIè¿›è¡Œç¿»è¯‘ï¼Œæ˜¾ç¤ºåŠ è½½çŠ¶æ€ |
| æ–‡æœ¬ç¿»è¯‘é¡µ | ç»“æœå±•ç¤º | ç²¾ç¾å¡ç‰‡å±•ç¤ºç¿»è¯‘ç»“æœï¼ŒåŒ…å«åŸæ–‡å’Œé€šä¿—è§£é‡Š |
| æ–‡æœ¬ç¿»è¯‘é¡µ | æ”¶è—åŠŸèƒ½ | æ”¯æŒæ”¶è—å¸¸ç”¨ç¿»è¯‘ç»“æœï¼Œæœ¬åœ°å­˜å‚¨ |
| å›¾ç‰‡è¯†åˆ«é¡µ | æ‹ç…§ä¸Šä¼  | æ”¯æŒæ‹ç…§å’Œä»ç›¸å†Œé€‰æ‹©ï¼Œå›¾ç‰‡å‹ç¼©å’Œé¢„è§ˆ |
| å›¾ç‰‡è¯†åˆ«é¡µ | è¯†åˆ«è¿‡ç¨‹ | æ˜¾ç¤ºè¯†åˆ«è¿›åº¦ï¼Œè°ƒç”¨GLM-4.5V APIæå–æ–‡å­— |
| å›¾ç‰‡è¯†åˆ«é¡µ | ç»“æœç¡®è®¤ | å±•ç¤ºè¯†åˆ«çš„æ–‡å­—å†…å®¹ï¼Œç”¨æˆ·å¯ç¼–è¾‘ä¿®æ­£ |
| å›¾ç‰‡è¯†åˆ«é¡µ | ç¿»è¯‘è·³è½¬ | è¯†åˆ«å®Œæˆåè·³è½¬åˆ°æ–‡æœ¬ç¿»è¯‘é¡µç»§ç»­ç¿»è¯‘ |
| è®¾ç½®é¡µ | APIå¯†é’¥è®¾ç½® | è¾“å…¥GLM APIå¯†é’¥ï¼Œæœ¬åœ°å­˜å‚¨åœ¨localStorage |
| è®¾ç½®é¡µ | è¿æ¥æµ‹è¯• | æµ‹è¯•APIè¿æ¥çŠ¶æ€ï¼Œæ˜¾ç¤ºæˆåŠŸæˆ–å¤±è´¥æç¤º |
| è®¾ç½®é¡µ | ä½¿ç”¨è¯´æ˜ | è¯¦ç»†çš„åº”ç”¨ä½¿ç”¨æŒ‡å—å’Œæ³¨æ„äº‹é¡¹ |

<span class="hljs-section">## 3. æ ¸å¿ƒæµç¨‹</span>

<span class="hljs-section">### æ–‡æœ¬ç¿»è¯‘æµç¨‹</span>
<span class="hljs-bullet">1.</span> ç”¨æˆ·åœ¨æ–‡æœ¬ç¿»è¯‘é¡µè¾“å…¥åŒ»ç–—æŠ¥å‘Šç»“è®º
<span class="hljs-bullet">2.</span> ç‚¹å‡»ç¿»è¯‘æŒ‰é’®ï¼Œè°ƒç”¨GLM-4.6 API
<span class="hljs-bullet">3.</span> APIè¿”å›ç”Ÿæ´»åŒ–è¯­è¨€è§£é‡Š
<span class="hljs-bullet">4.</span> ä»¥ç²¾ç¾å¡ç‰‡å½¢å¼å±•ç¤ºç¿»è¯‘ç»“æœ
<span class="hljs-bullet">5.</span> ç”¨æˆ·å¯é€‰æ‹©æ”¶è—æˆ–åˆ†äº«

<span class="hljs-section">### å›¾ç‰‡è¯†åˆ«ç¿»è¯‘æµç¨‹</span>
<span class="hljs-bullet">1.</span> ç”¨æˆ·åœ¨å›¾ç‰‡è¯†åˆ«é¡µæ‹ç…§æˆ–é€‰æ‹©å›¾ç‰‡
<span class="hljs-bullet">2.</span> å›¾ç‰‡é¢„è§ˆå’Œå‹ç¼©å¤„ç†
<span class="hljs-bullet">3.</span> è°ƒç”¨GLM-4.5V APIè¯†åˆ«å›¾ç‰‡ä¸­çš„æ–‡å­—
<span class="hljs-bullet">4.</span> å±•ç¤ºè¯†åˆ«ç»“æœï¼Œç”¨æˆ·å¯ç¼–è¾‘ä¿®æ­£
<span class="hljs-bullet">5.</span> å°†ä¿®æ­£åçš„æ–‡æœ¬å‘é€åˆ°æ–‡æœ¬ç¿»è¯‘æµç¨‹

<span class="hljs-code">```mermaid
graph TD
    A[é¦–é¡µ] --&gt; B[æ–‡æœ¬ç¿»è¯‘é¡µ]
    A --&gt; C[å›¾ç‰‡è¯†åˆ«é¡µ]
    C --&gt; D[å›¾ç‰‡é¢„è§ˆ]
    D --&gt; E[æ–‡å­—è¯†åˆ«]
    E --&gt; F[è¯†åˆ«ç»“æœç¡®è®¤]
    F --&gt; B
    B --&gt; G[ç¿»è¯‘ç»“æœå±•ç¤º]
    A --&gt; H[è®¾ç½®é¡µ]
    H --&gt; I[APIå¯†é’¥é…ç½®]
    I --&gt; J[è¿æ¥æµ‹è¯•]
```</span>

<span class="hljs-section">## 4. ç”¨æˆ·ç•Œé¢è®¾è®¡</span>

<span class="hljs-section">### 4.1 è®¾è®¡é£æ ¼</span>
<span class="hljs-bullet">-</span> <span class="hljs-strong">**ä¸»è‰²è°ƒ**</span>ï¼šä½é¥±å’Œåº¦è“è‰² (#4A90E2) - ä»£è¡¨ä¿¡ä»»ä¸ç§‘æŠ€
<span class="hljs-bullet">-</span> <span class="hljs-strong">**è¾…åŠ©è‰²**</span>ï¼šä½é¥±å’Œåº¦ç»¿è‰² (#7ED321) - ä»£è¡¨å¥åº·ä¸å®‰å¿ƒ
<span class="hljs-bullet">-</span> <span class="hljs-strong">**èƒŒæ™¯è‰²**</span>ï¼šæµ…ç°è‰² (#F5F7FA) - è¥é€ åŒ»ç–—ä¸“ä¸šæ„Ÿ
<span class="hljs-bullet">-</span> <span class="hljs-strong">**æŒ‰é’®æ ·å¼**</span>ï¼šåœ†è§’çŸ©å½¢ï¼ŒæŸ”å’Œé˜´å½±ï¼Œæ‚¬åœæ•ˆæœ
<span class="hljs-bullet">-</span> <span class="hljs-strong">**å­—ä½“**</span>ï¼šæ€æºé»‘ä½“ï¼Œä¸»æ ‡é¢˜18pxï¼Œæ­£æ–‡14pxï¼Œå°å­—12px
<span class="hljs-bullet">-</span> <span class="hljs-strong">**å¸ƒå±€é£æ ¼**</span>ï¼šå¡ç‰‡å¼å¸ƒå±€ï¼Œå¤§é—´è·ï¼Œç®€æ´æ˜äº†
<span class="hljs-bullet">-</span> <span class="hljs-strong">**å›¾æ ‡é£æ ¼**</span>ï¼šçº¿æ€§å›¾æ ‡ï¼Œç®€æ´æ˜“æ‡‚

<span class="hljs-section">### 4.2 é¡µé¢è®¾è®¡æ¦‚è¿°</span>
| é¡µé¢åç§° | æ¨¡å—åç§° | UIå…ƒç´  |
|-----------|-------------|-------------|
| é¦–é¡µ | åŠŸèƒ½é€‰æ‹©åŒº | ä¸¤ä¸ªå¤§åœ†å½¢æŒ‰é’®ï¼Œè“è‰²å’Œç»¿è‰²æ¸å˜ï¼Œä¸­å¤®æ”¾ç½®å›¾æ ‡å’Œæ–‡å­—ï¼ŒæŒ‰é’®é—´è·å……è¶³ |
| é¦–é¡µ | ä½¿ç”¨å¼•å¯¼ | ä¸‰æ­¥æµç¨‹å›¾ï¼Œä½¿ç”¨æŸ”å’Œçš„ç»¿è‰²è¿æ¥çº¿ï¼Œæ¯æ­¥é…æœ‰ç®€æ´å›¾æ ‡ |
| é¦–é¡µ | æœ€è¿‘è®°å½• | ç™½è‰²å¡ç‰‡åˆ—è¡¨ï¼Œæ˜¾ç¤ºåŸæ–‡æ‘˜è¦å’Œç¿»è¯‘æ—¶é—´ï¼Œå³ä¾§ç®­å¤´æŒ‡ç¤º |
| æ–‡æœ¬ç¿»è¯‘é¡µ | è¾“å…¥åŒºåŸŸ | æµ…è“è‰²è¾¹æ¡†çš„æ–‡æœ¬åŸŸï¼Œåœ†è§’è®¾è®¡ï¼Œæ”¯æŒè‡ªåŠ¨é«˜åº¦è°ƒæ•´ |
| æ–‡æœ¬ç¿»è¯‘é¡µ | ç¿»è¯‘æŒ‰é’® | ç»¿è‰²æ¸å˜æŒ‰é’®ï¼Œåœ†å½¢è®¾è®¡ï¼ŒåŒ…å«ç¿»è¯‘å›¾æ ‡ |
| æ–‡æœ¬ç¿»è¯‘é¡µ | ç»“æœå±•ç¤º | ç²¾ç¾çš„ç™½è‰²å¡ç‰‡ï¼Œè“è‰²æ ‡é¢˜æ ï¼Œå†…éƒ¨å±•ç¤ºé€šä¿—è§£é‡Šï¼Œåº•éƒ¨æ“ä½œæŒ‰é’® |
| å›¾ç‰‡è¯†åˆ«é¡µ | æ‹ç…§åŒºåŸŸ | è™šçº¿è¾¹æ¡†çš„ä¸Šä¼ åŒºåŸŸï¼Œä¸­å¤®ç›¸æœºå›¾æ ‡ï¼Œæ”¯æŒæ‹–æ‹½ä¸Šä¼  |
| å›¾ç‰‡è¯†åˆ«é¡µ | å›¾ç‰‡é¢„è§ˆ | åœ†è§’å›¾ç‰‡å±•ç¤ºï¼Œæ”¯æŒç¼©æ”¾å’Œæ—‹è½¬ï¼Œåº•éƒ¨æ“ä½œæ  |
| è®¾ç½®é¡µ | APIè¾“å…¥ | å®‰å…¨çš„å¯†ç è¾“å…¥æ¡†ï¼Œæ˜¾ç¤º/éšè—åˆ‡æ¢æŒ‰é’®ï¼Œæµ‹è¯•æŒ‰é’® |

<span class="hljs-section">### 4.3 å“åº”å¼è®¾è®¡</span>
<span class="hljs-bullet">-</span> <span class="hljs-strong">**æ¡Œé¢ä¼˜å…ˆ**</span>ï¼šä¸»è¦é¢å‘å¹³æ¿å’Œæ‰‹æœºä½¿ç”¨ï¼Œé‡‡ç”¨å“åº”å¼è®¾è®¡
<span class="hljs-bullet">-</span> <span class="hljs-strong">**æ–­ç‚¹è®¾ç½®**</span>ï¼š768pxï¼ˆå¹³æ¿ï¼‰ã€1024pxï¼ˆæ¡Œé¢ï¼‰
<span class="hljs-bullet">-</span> <span class="hljs-strong">**è§¦æ‘¸ä¼˜åŒ–**</span>ï¼šæŒ‰é’®å°ºå¯¸æœ€å°44pxï¼Œæ”¯æŒæ‰‹åŠ¿æ“ä½œ
<span class="hljs-bullet">-</span> <span class="hljs-strong">**å­—ä½“é€‚é…**</span>ï¼šæ ¹æ®å±å¹•å¤§å°è‡ªåŠ¨è°ƒæ•´å­—ä½“å¤§å°
</code></pre>
<h4 data-id="heading-16">å¼€å‘äº¤äº’</h4>
<p>å¼€å§‹ç”Ÿæˆä¹‹åå¯ä»¥åœ¨æ§åˆ¶å°å®æ—¶ç›‘æ§</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/39136e590790407290e6078698c513c2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=cqs53ZlCs3vpkJo%2B3KH9j6e4vYE%3D" alt="" loading="lazy"/></p>
<p>ä¸ä¸€ä¼šå°±ç”Ÿæˆæˆäº†ä¸€æ•´ä¸ªå®Œæ•´çš„é¡¹ç›®</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cec5b6f58deb444db992dfebc7c9a0cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=TuCpiKBwI8PPLIA8RxhsCXSXHzY%3D" alt="" loading="lazy"/></p>
<p>å¹¶ä¸”ä¹Ÿæ˜¯åœ¨æœ¬åœ°å¯åŠ¨äº†ï¼Œè¿™æ—¶å€™æˆ‘ä»¬éœ€è¦è¿›è¡Œä¸€æ¬¡æµ‹è¯•ï¼Œå¹¶ä¸”ä¸æ–­çš„ç»™å‡ºåé¦ˆï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/90e406b4226b41688f3d2cfe373ed18c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=8l51YhqFF9511aZ421U4LgF3bzA%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ee887db02a4346bb842e105ad7daae0c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=lou%2Bl2hjJncm1HSbfJpjvEVRCyY%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ebd394f5153a405fbdfb5a2f2716d87d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=4ADOxtHGauUpfB9NyVHsnetXoMs%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/68ccc461859e4b6d9ad59540ec620ca7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=6jp54cbJAoupW2fDkv%2FpuLrEsoQ%3D" alt="" loading="lazy"/></p>
<p>é‡å¤å‡ æ¬¡ä¹‹åå°±ä¼šå¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„ç»“æœï¼Œæ¥ä¸‹æ¥å°±æ˜¯éƒ¨ç½²ä¸Šçº¿~</p>
<h4 data-id="heading-17">æ€»ç»“</h4>
<p>æœ¬æ–‡ç³»ç»Ÿä»‹ç»äº†â€œåŒ»ç–—æŠ¥å‘Šç¿»è¯‘å®˜â€åº”ç”¨çš„å¼€å‘å…¨æµç¨‹ï¼Œèšç„¦äºè§£å†³ä¸­è€å¹´äººéš¾ä»¥ç†è§£ä¸“ä¸šåŒ»ç–—æœ¯è¯­çš„æ ¸å¿ƒç—›ç‚¹ã€‚é¡¹ç›®åŸºäº<strong>Trae IDE</strong>ä½œä¸ºå¼€å‘ç¯å¢ƒï¼Œé›†æˆ<strong>KAT-Coder</strong>ï¼ˆç”±å¿«æ‰‹StreamLakeæä¾›ï¼‰å®ç°é«˜æ•ˆä»£ç ç”Ÿæˆä¸å·¥ç¨‹åŒ–èƒ½åŠ›ï¼Œå¹¶ç»“åˆ<strong>æ™ºè°±AI</strong>çš„åŒæ¨¡å‹æ¶æ„â€”â€”<strong>GLM-4.6</strong>ï¼ˆè´Ÿè´£è‡ªç„¶è¯­è¨€ç†è§£ä¸é€šä¿—åŒ–ç¿»è¯‘ï¼‰ä¸<strong>GLM-4.5V</strong>ï¼ˆè´Ÿè´£åŒ»ç–—æŠ¥å‘Šå›¾åƒçš„OCRè¯†åˆ«ä¸ç»“æ„åŒ–æå–ï¼‰â€”â€”æ„å»ºç«¯åˆ°ç«¯çš„æ™ºèƒ½ç¿»è¯‘ç³»ç»Ÿã€‚åº”ç”¨æ”¯æŒæ–‡æœ¬è¾“å…¥ä¸å›¾ç‰‡ä¸Šä¼ ä¸¤ç§äº¤äº’æ¨¡å¼ï¼Œé‡‡ç”¨åŒ»ç–—å‹å¥½å‹UIè®¾è®¡ï¼Œå¼ºè°ƒä½é¥±å’Œè“ç»¿è‰²è°ƒä¸å¡ç‰‡å¼å¸ƒå±€ï¼Œæ³¨é‡å¯ç”¨æ€§ä¸æƒ…æ„Ÿä½“éªŒã€‚æ•´ä¸ªå¼€å‘è¿‡ç¨‹é€šè¿‡æç¤ºè¯é©±åŠ¨ã€è‡ªåŠ¨ç”Ÿæˆã€æœ¬åœ°æµ‹è¯•ä¸è¿­ä»£ä¼˜åŒ–ï¼Œä½“ç°äº†AIåŸç”Ÿå¼€å‘èŒƒå¼åœ¨å‚ç›´é¢†åŸŸäº§å“è½åœ°ä¸­çš„é«˜æ•ˆæ€§ä¸å¯è¡Œæ€§ã€‚</p>
<h4 data-id="heading-18">å‚è€ƒé“¾æ¥</h4>
<ul>
<li><strong>Trae IDE å®˜ç½‘</strong>ï¼š<a href="https://www.trae.ai/" target="_blank" title="https://www.trae.ai/" ref="nofollow noopener noreferrer">www.trae.ai/</a></li>
<li><strong>KAT-Coder äº§å“é¡µ</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.streamlake.com%2Fproduct%2Fkat-coder" target="_blank" title="https://www.streamlake.com/product/kat-coder" ref="nofollow noopener noreferrer">www.streamlake.com/product/katâ€¦</a></li>
<li><strong>æ™ºè°±AI å¼€æ”¾å¹³å°</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bigmodel.cn%2F" target="_blank" title="https://www.bigmodel.cn/" ref="nofollow noopener noreferrer">www.bigmodel.cn/</a></li>
<li><strong>GLM-4.6 ä¸ GLM-4.5V API æ–‡æ¡£</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopen.bigmodel.cn%2F" target="_blank" title="https://open.bigmodel.cn/" ref="nofollow noopener noreferrer">open.bigmodel.cn/</a></li>
<li><strong>è‡ªå®šä¹‰æ¨¡å‹æ¥å…¥ Trae æŒ‡å—</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FKXSRoBaME_Wvv2wlRZ_FaA" target="_blank" title="https://mp.weixin.qq.com/s/KXSRoBaME_Wvv2wlRZ_FaA" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/KXSRoBaMEâ€¦</a></li>
<li><strong>Novita.ai å¯†é’¥ç®¡ç†</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fnovita.ai%2Fsettings%2Fkey-management" target="_blank" title="https://novita.ai/settings/key-management" ref="nofollow noopener noreferrer">novita.ai/settings/keâ€¦</a></li>
</ul>
<p>#AIåŒ»ç–— #æ™ºèƒ½ç¿»è¯‘ #Trae #KATCoder #GLM4.6 #GLM4.5V</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åœ¨Cesiumä¸­å®ç°é£˜åŠ¨çš„çº¢æ——]]></title>    <link>https://juejin.cn/post/7573599234433777699</link>    <guid>https://juejin.cn/post/7573599234433777699</guid>    <pubDate>2025-11-18T06:49:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573599234433777699" data-draft-id="7573679820631785507" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åœ¨Cesiumä¸­å®ç°é£˜åŠ¨çš„çº¢æ——"/> <meta itemprop="keywords" content="JavaScript,cesium,three.js"/> <meta itemprop="datePublished" content="2025-11-18T06:49:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å­ç¦¾ä¸¶"/> <meta itemprop="url" content="https://juejin.cn/user/3931509312981351"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åœ¨Cesiumä¸­å®ç°é£˜åŠ¨çš„çº¢æ——
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3931509312981351/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å­ç¦¾ä¸¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-18T06:49:19.000Z" title="Tue Nov 18 2025 06:49:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16cb0e0496eb41749023b838ca8e4ead~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q56a-5Li2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764053812&amp;x-signature=jFOgLRI%2Be3yPilfKK83ngf7Cw04%3D" alt="smr4d-ls7t2.gif" loading="lazy"/></p>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>å®ç°é£˜åŠ¨çº¢æ——çš„æ•ˆæœæ•´ä½“åˆ†ä¸¤éƒ¨ï¼Œä¸€æ˜¯åˆ©ç”¨<strong>ä¸‰è§’å‡½æ•°çš„å‘¨æœŸæ€§</strong>è®©çº¢æ——æ‘†åŠ¨èµ·æ¥ï¼ŒäºŒæ˜¯æ ¹æ®æ¯ä¸ªç‰‡å…ƒçš„<strong>æ‘†åŠ¨å¹…åº¦æ¥è®¡ç®—å¯¹åº”ä½ç½®çš„é˜´å½±</strong>ã€‚<br/>
è¿™æ˜¯æˆ‘åœ¨ä¸€ä¸ªå›­åŒºé¡¹ç›®ä¸­æ”¶åˆ°çš„éœ€æ±‚ï¼Œåœ¨æ­¤è®°å½•åŠåˆ†äº«å®ç°è¿‡ç¨‹ã€‚</p>
<h2 data-id="heading-1">åŸºç¡€åœºæ™¯æ­å»ºï¼ˆåˆ›å»ºcesiumåœºæ™¯å’Œå¿…è¦çš„å®ä½“ï¼‰</h2>
<p>è¿™é‡Œä½¿ç”¨gltfæ¨¡å‹ä½œä¸ºçº¢æ——ï¼Œå› ä¸ºéœ€è¦è·å¾—å¹³æ»‘çš„æ‘†åŠ¨æ•ˆæœï¼Œå› æ­¤ä½¿ç”¨çš„æ¨¡å‹é¢æ•°è¾ƒå¤šï¼ŒåŒæ—¶ä¸ºäº†æ——å­ä¸æ——æ†å¯ä»¥ä½¿ç”¨ç›¸åŒçš„åæ ‡ä½ç½®ï¼Œæˆ‘å°†æ¨¡å‹çš„å®šä½é”šåœ°æ”¾åˆ°äº†å·¦ä¸Šè§’ï¼ˆè§ä¸‹å›¾ï¼Œæ¥è‡ªå»ºæ¨¡è½¯ä»¶blenderï¼‰ã€‚åŒæ ·çš„ï¼Œé£˜åŠ¨çš„åŠŸèƒ½ä¹Ÿå¯ä»¥æ‰‹åŠ¨åˆ›å»ºCesiumä¸­<code>polygon</code>æˆ–<code>rectangle</code>å®ä½“æ¥å®Œæˆï¼Œæ ¸å¿ƒéƒ¨åˆ†ä¸ä½¿ç”¨gltfæ¨¡å‹æ— å¼‚ã€‚<br/>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0b07bd8406f491eb976de7a4e976bb8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q56a-5Li2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764053812&amp;x-signature=1bRdvs48P6U5Qla67zJ1CPVssHk%3D" alt="image.png" loading="lazy"/>
åˆ›å»ºåŸºç¡€åœºæ™¯</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title class_">Cesium</span>.<span class="hljs-property">Ion</span>.<span class="hljs-property">defaultAccessToken</span> = <span class="hljs-string">"your token"</span>;
<span class="hljs-keyword">const</span> viewer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cesium</span>.<span class="hljs-title class_">Viewer</span>(<span class="hljs-string">"cesiumContainer"</span>);
viewer.<span class="hljs-property">camera</span>.<span class="hljs-title function_">setView</span>({
    <span class="hljs-attr">destination</span>: <span class="hljs-title class_">Cesium</span>.<span class="hljs-property">Cartesian3</span>.<span class="hljs-title function_">fromDegrees</span>(<span class="hljs-number">116.39122232836966</span>, <span class="hljs-number">39.90701265936752</span>, <span class="hljs-number">4.813199462406734</span>),
    <span class="hljs-attr">orientation</span>: {
        <span class="hljs-attr">heading</span>: <span class="hljs-title class_">Cesium</span>.<span class="hljs-property">Math</span>.<span class="hljs-title function_">toRadians</span>(<span class="hljs-number">26.754499635799313</span>),
        <span class="hljs-attr">pitch</span>: <span class="hljs-title class_">Cesium</span>.<span class="hljs-property">Math</span>.<span class="hljs-title function_">toRadians</span>(<span class="hljs-number">5.094600937875728</span>),
        <span class="hljs-attr">roll</span>: <span class="hljs-number">0</span>,
    },
});
<span class="hljs-keyword">const</span> modelPosition = [<span class="hljs-number">116.39124568344667</span>, <span class="hljs-number">39.90705858625655</span>, <span class="hljs-number">6</span>]
<span class="hljs-comment">//ç»˜åˆ¶æ——å­</span>
<span class="hljs-keyword">const</span> flag = viewer.<span class="hljs-property">entities</span>.<span class="hljs-title function_">add</span>({
    <span class="hljs-attr">position</span>: <span class="hljs-title class_">Cesium</span>.<span class="hljs-property">Cartesian3</span>.<span class="hljs-title function_">fromDegrees</span>(...modelPosition),
    <span class="hljs-attr">model</span>: {
        <span class="hljs-attr">uri</span>: <span class="hljs-string">'../source/models/æ——å­/æ——å­.gltf'</span>,
    },
});
<span class="hljs-comment">//ç»˜åˆ¶æ——æ†</span>
viewer.<span class="hljs-property">entities</span>.<span class="hljs-title function_">add</span>({
        <span class="hljs-attr">position</span>: <span class="hljs-title class_">Cesium</span>.<span class="hljs-property">Cartesian3</span>.<span class="hljs-title function_">fromDegrees</span>(modelPosition[<span class="hljs-number">0</span>], modelPosition[<span class="hljs-number">1</span>]),
        <span class="hljs-attr">ellipse</span>: {
            <span class="hljs-attr">semiMinorAxis</span>: <span class="hljs-number">0.01</span>,
            <span class="hljs-attr">semiMajorAxis</span>: <span class="hljs-number">0.01</span>,
            <span class="hljs-attr">extrudedHeight</span>: modelPosition[<span class="hljs-number">2</span>] + <span class="hljs-number">0.05</span>,
            <span class="hljs-attr">material</span>: <span class="hljs-title class_">Cesium</span>.<span class="hljs-property">Color</span>.<span class="hljs-title function_">fromCssColorString</span>(<span class="hljs-string">'#eee'</span>),
        },
    });
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ee558bcfcc3b42bba7000d173e874b4e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q56a-5Li2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764053812&amp;x-signature=kqm%2FUCawVIgRbcBBcSKTsI9by74%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-2">è®©æ——å­é£˜åŠ¨èµ·æ¥</h2>
<p>è¯·æ³¨æ„ï¼Œä¸‹æ–‡ä¸­æ‰€æœ‰ç€è‰²å™¨çš„åæ ‡æ§åˆ¶éƒ½æ˜¯åŸºäºæ¨¡å‹è‡ªèº«çš„<code>å±€éƒ¨åæ ‡ç³»</code>ã€‚å¦‚æœä½¿ç”¨ä¸åŒçš„æ¨¡å‹ï¼Œå¯èƒ½éœ€è¦æ ¹æ®æ¨¡å‹çš„å…·ä½“åæ ‡ç³»ç»Ÿè°ƒæ•´ç›¸å…³å‚æ•°ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> customShader = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cesium</span>.<span class="hljs-title class_">CustomShader</span>({
    <span class="hljs-attr">uniforms</span>: {
        <span class="hljs-comment">// è‡ªå¢å˜é‡ï¼Œè®©åŠ¨ç”»æŒç»­æ‰§è¡Œ</span>
        <span class="hljs-attr">u_time</span>: {
            <span class="hljs-attr">type</span>: <span class="hljs-title class_">Cesium</span>.<span class="hljs-property">UniformType</span>.<span class="hljs-property">FLOAT</span>,
            <span class="hljs-attr">value</span>: <span class="hljs-number">0.0</span>
        },
        <span class="hljs-attr">u_texture</span>: {
            <span class="hljs-attr">type</span>: <span class="hljs-title class_">Cesium</span>.<span class="hljs-property">UniformType</span>.<span class="hljs-property">SAMPLER_2D</span>,
            <span class="hljs-attr">value</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cesium</span>.<span class="hljs-title class_">TextureUniform</span>({
                <span class="hljs-attr">url</span>: <span class="hljs-string">"../source/models/æ——å­/hongqi.jpg"</span>,
            })
        }
    },
    <span class="hljs-attr">varyings</span>: {
        <span class="hljs-comment">// æ——å­çš„ç‰‡å…ƒåç§»é‡éœ€è¦ä¼ é€’ç»™ç‰‡å…ƒç€è‰²å™¨è®¡ç®—é˜´å½±ï¼Œå› æ­¤å®šä¹‰ä¸ºvaryingå˜é‡</span>
        <span class="hljs-attr">v_offset</span>: <span class="hljs-title class_">Cesium</span>.<span class="hljs-property">VaryingType</span>.<span class="hljs-property">FLOAT</span>
    },
    <span class="hljs-attr">vertexShaderText</span>: <span class="hljs-string">`
        void vertexMain(VertexInput vsInput, inout czm_modelVertexOutput vsOutput) {
            // æ ¹æ®æ¨¡å‹uvåæ ‡çš„xå’Œyåæ ‡æ¥ç¡®å®šæ‘†åŠ¨çš„é¢‘ç‡ï¼ˆå¯¹åº”sinæ›²çº¿çš„æ³¢é¢‘ï¼‰
            // è¿™é‡Œæ§åˆ¶æ³¢é¢‘æ—¶ï¼Œåˆ†åˆ«ç”¨åˆ°äº†xå’Œyè½´åæ ‡ï¼Œå¹¶è®©xåæ ‡æƒé‡å¤§äºyåæ ‡ï¼Œä½¿å¾—æ‘†åŠ¨æ›´åŠ è‡ªç„¶
            // æœ€åä¹˜ä»¥0.13æ˜¯ä¸ºäº†æ§åˆ¶æ‘†åŠ¨çš„å¹…åº¦ï¼ˆå¯¹åº”sinæ›²çº¿çš„æ³¢é«˜ï¼‰
            float offset = sin(vsInput.attributes.texCoord_0.x * 8.0 +  vsInput.attributes.texCoord_0.y * 1.5 - u_time) * 0.13;
            v_offset = offset - offset * smoothstep(0.4, 0.0,  vsInput.attributes.texCoord_0.x);
            // ä¸ºç‰‡å…ƒèµ‹äºˆæ–°çš„xåæ ‡ï¼Œæ–°çš„xåæ ‡ä¸ºåŸå§‹xåæ ‡åŠ ä¸Šæ‘†åŠ¨åç§»é‡
            vsOutput.positionMC.x += vsOutput.positionMC.x + v_offset;
            // å› ä¸ºæ——å­åœ¨xæ–¹å‘ä¸Šæœ‰å‰åæ‘†åŠ¨ï¼Œå› æ­¤åœ¨è§†è§‰ä¸Šzè½´åº”å½“é€‚å½“ç¼©çŸ­ä¸€äº›
            vsOutput.positionMC.z *= 0.95;
        }`</span>,
    <span class="hljs-attr">fragmentShaderText</span>: <span class="hljs-string">`
        void fragmentMain(FragmentInput fsInput, inout czm_modelMaterial material) {
                
        }`</span>
})
flag.<span class="hljs-property">model</span>.<span class="hljs-property">customShader</span> = customShader;
viewer.<span class="hljs-property">clock</span>.<span class="hljs-property">onTick</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
    <span class="hljs-comment">// ä½¿åŠ¨ç”»æŒç»­è¿›è¡Œ</span>
    customShader.<span class="hljs-property">uniforms</span>.<span class="hljs-property">u_time</span>.<span class="hljs-property">value</span> += <span class="hljs-number">0.1</span>;
});
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8d2b416f7d80465f810155f2e7a5276d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q56a-5Li2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764053812&amp;x-signature=%2FvtYXHqx5urDwMQCwZ8kMlAdovg%3D" alt="rpwhz-mq5ij.gif" loading="lazy"/></p>
<p>ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œè™½ç„¶æ——å­å·²ç»å®ç°äº†æ‘†åŠ¨æ•ˆæœï¼Œä½†ä¸é¢„æœŸä¸ç¬¦ï¼šé è¿‘æ——æ†çš„ä¸€ä¾§æœ¬åº”ä¿æŒä¸åŠ¨ã€‚æ¥ä¸‹æ¥è¿›ä¸€æ­¥ä¼˜åŒ–é¡¶ç‚¹ç€è‰²å™¨ä»£ç ã€‚</p>
<pre><code class="hljs language-GLSL" lang="GLSL">void vertexMain(VertexInput vsInput, inout czm_modelVertexOutput vsOutput) {
    float offset = sin(vsInput.attributes.texCoord_0.x * 8.0 +  vsInput.attributes.texCoord_0.y * 1.5 - u_time) * 0.13;
    // è¿™æ˜¯å…³é”®çš„ä¸€æ­¥ï¼Œä½¿ç”¨å¹³æ»‘é˜¶æ¢¯å‡½æ•°smoothstepå‡½æ•°æ¥æ§åˆ¶æ‘†åŠ¨çš„èŒƒå›´
    // smoothstep(0.4, 0.0,  vsInput.attributes.texCoord_0.x)è¡¨è¾¾å¼åœ¨uvçš„xè½´åæ ‡é è¿‘èµ·ç‚¹æ—¶è¿”å›1ï¼Œåˆ°è¾¾xè½´çš„0.4æ—¶è¿”å›0
    // å†ç”¨offsetå‡å»offsetä¹˜ä»¥smoothstepå‡½æ•°çš„ç»“æœï¼Œå°±å¯ä»¥å¾—åˆ°åœ¨xè½´åæ ‡é è¿‘0æ—¶ï¼Œoffsetå€¼ä¸º0çš„æ•ˆæœï¼Œå¾€xè½´çš„0.4é è¿‘æ—¶å†æ¸æ¸å›åˆ°å®Œå…¨çš„æ‘†åŠ¨
    // å…³äºsmoothstepå‡½æ•°çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è€ƒhttps://zhuanlan.zhihu.com/p/157758600
    v_offset = offset - offset * smoothstep(0.4, 0.0,  vsInput.attributes.texCoord_0.x);
    vsOutput.positionMC.x += vsOutput.positionMC.x + v_offset;
    vsOutput.positionMC.z *= 0.95;
}
</code></pre>
<p>æ­¤æ—¶smoothstepå‡½æ•°å·²ç»æŠŠæ——æ†ä¸€ä¾§å›ºå®šä½äº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/74cd3ecfc8c14600812c058111d0d2d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q56a-5Li2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764053812&amp;x-signature=dtdOPRhJ5FeOS%2FI5hcdOzGSQUqU%3D" alt="s6cp1-0sa4x.gif" loading="lazy"/></p>
<h2 data-id="heading-3">ä¸ºæ——å­æ·»åŠ è´´å›¾å’Œé˜´å½±</h2>
<pre><code class="hljs language-GLSL" lang="GLSL">void fragmentMain(FragmentInput fsInput, inout czm_modelMaterial material) {
    // è¿™ä¸€æ­¥æ˜¯ä¸ºäº†uvè´´å›¾çš„æ­£ç¡®æ˜ å°„
    fsInput.attributes.texCoord_0.y *= -1.0;
    // (1.0 - v_offset * 3.0)è¡¨è¾¾å¼ç”¨æ¥å†³å®šç‰‡å…ƒçš„äº®åº¦ï¼Œå¾€xè½´çš„æ­£æ–¹å‘åç§»è¶Šå¤§ï¼Œè¿™ä¸ªè¡¨è¾¾å¼è¾“å‡ºçš„å€¼è¶Šå°ï¼Œåˆ™è¶Šæš—
    // v_offset * 3.0æ˜¯ä¸ºäº†æ”¾å¤§åç§»é‡ä»è€Œå¢å¤§æ˜æš—å¯¹æ¯”
    // è´´å›¾é¢œè‰²ä¹˜ä»¥äº®åº¦ç³»æ•°å°±æ˜¯æœ€ç»ˆè‰²ï¼ˆè¿™é‡Œæ§åˆ¶äº®åº¦ç³»æ•°çš„èŒƒå›´åœ¨0-1ä¹‹é—´ï¼Œä¸å»å¢åŠ å‡¸èµ·éƒ¨åˆ†çš„äº®åº¦ä¼šæ›´é€¼çœŸä¸€äº›ï¼‰
    vec4 color = texture(u_texture,fsInput.attributes.texCoord_0) * min((1.0 - v_offset * 2.0),1.0);
    material.diffuse=vec3(color.rgb);     
}
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4f1a2668bb2a4cbb862134657c8b1a72~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q56a-5Li2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764053812&amp;x-signature=W0Uq%2F9MkuX9CxReDeMFz9I%2FYJ%2FU%3D" alt="83e16bd946d643dc8374d800d678666e.png" loading="lazy"/></p>
<p>ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œæ——å­å‡¹é™·éƒ¨åˆ†å·²ç»æœ‰äº†é˜´å½±ï¼Œä½†æ˜¯æ­¤æ—¶é˜´å½±å’Œç‰‡å…ƒçš„åç§»ç¨‹åº¦ä¸ºçº¿æ€§å…³ç³»ï¼Œé˜´å½±å¤„çš„å¯¹æ¯”ä¸å¤Ÿå¼ºçƒˆï¼Œä¸‹é¢åˆ†äº«å¦ä¸€ç§é˜´å½±ç®—æ³•ã€‚</p>
<h2 data-id="heading-4">ä¼˜åŒ–é˜´å½±</h2>
<p>æ¥ä¸‹æ¥é€šè¿‡å®ç°é˜´å½±éšç‰‡å…ƒåç§»é‡çš„æŒ‡æ•°çº§å¢é•¿æ¥å¢å¼ºé˜´å½±éƒ¨åˆ†çš„å¯¹æ¯”åº¦ï¼Œä½¿æ•ˆæœæ›´åŠ é€¼çœŸã€‚</p>
<pre><code class="hljs language-ini" lang="ini">void fragmentMain(FragmentInput fsInput, inout czm_modelMaterial material) {
    // è®¡ç®—ç‰‡å…ƒåç§»é‡çš„å¹³æ–¹ç”¨äºåç»­çš„é˜´å½±è®¡ç®—
    float <span class="hljs-attr">offsetSquared</span> = v_<span class="hljs-literal">off</span>set * v_<span class="hljs-literal">off</span>set<span class="hljs-comment">;</span>
    // è·å–ç‰‡å…ƒåç§»é‡çš„ç¬¦å·ï¼Œç”¨äºåœ¨åç»­çš„è®¡ç®—ä¸­ä¿ç•™åç§»é‡çš„æ­£è´Ÿæ€§
    float <span class="hljs-attr">offsetSign</span> = v_<span class="hljs-literal">off</span>set &gt;= <span class="hljs-number">0.0</span> ? <span class="hljs-number">1.0</span> : -<span class="hljs-number">1.0</span><span class="hljs-comment">;</span>
    fsInput.attributes.texCoord_0.y *= -1.0<span class="hljs-comment">;</span>
    // 1.0 - offsetSquared * offsetSign * 30.0è¡¨è¾¾å¼ç”¨æ¥å†³å®šç‰‡å…ƒçš„äº®åº¦ï¼ŒåŸç†ä¸ä¸Šé¢çš„ç€è‰²å™¨ä¸€è‡´
    // ä¸è¿‡æ­¤æ—¶ç‰‡å…ƒçš„äº®åº¦ä¸åç§»é‡ä¸ºæŒ‡æ•°çº§å¢é•¿å…³ç³»ï¼Œä¼šåœ¨é˜´å½±åŒºåŸŸè·å¾—æ›´åŠ å¤§çš„åå·®ï¼Œå¢å¼ºé€¼çœŸåº¦
    vec4 <span class="hljs-attr">color</span> = texture(u_texture, fsInput.attributes.texCoord_0) * min(<span class="hljs-number">1.0</span> - <span class="hljs-literal">off</span>setSquared * <span class="hljs-literal">off</span>setSign * <span class="hljs-number">30.0</span>, <span class="hljs-number">1.0</span>)<span class="hljs-comment">;</span>
    <span class="hljs-attr">material.diffuse</span>=vec3(color.rgb)<span class="hljs-comment">;</span>
}
</code></pre>
<p>æ¯”åˆšæ‰é€¼çœŸå¤šäº†</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ab3d2355480846e0b4cfa905d6ff8274~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q56a-5Li2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764053812&amp;x-signature=iidpA0rZRNuEI1WfBIAnKYamOuE%3D" alt="8f311d85487d462fa5cac31a6f71550e.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16cb0e0496eb41749023b838ca8e4ead~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q56a-5Li2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764053812&amp;x-signature=jFOgLRI%2Be3yPilfKK83ngf7Cw04%3D" alt="smr4d-ls7t2.gif" loading="lazy"/></p>
<h2 data-id="heading-5">å®Œæ•´çš„CustomShaderä»£ç </h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> customShader = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cesium</span>.<span class="hljs-title class_">CustomShader</span>({
    <span class="hljs-attr">uniforms</span>: {
        <span class="hljs-attr">u_time</span>: {
            <span class="hljs-attr">type</span>: <span class="hljs-title class_">Cesium</span>.<span class="hljs-property">UniformType</span>.<span class="hljs-property">FLOAT</span>,
            <span class="hljs-attr">value</span>: <span class="hljs-number">0.0</span>
        },
        <span class="hljs-attr">u_texture</span>: {
            <span class="hljs-attr">type</span>: <span class="hljs-title class_">Cesium</span>.<span class="hljs-property">UniformType</span>.<span class="hljs-property">SAMPLER_2D</span>,
            <span class="hljs-attr">value</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cesium</span>.<span class="hljs-title class_">TextureUniform</span>({
                <span class="hljs-attr">url</span>: <span class="hljs-string">"../source/models/æ——å­/hongqi.jpg"</span>,
            })
        }
    },
    <span class="hljs-attr">varyings</span>: {
        <span class="hljs-attr">v_offset</span>: <span class="hljs-title class_">Cesium</span>.<span class="hljs-property">VaryingType</span>.<span class="hljs-property">FLOAT</span>
    },
    <span class="hljs-attr">vertexShaderText</span>: <span class="hljs-string">`
            void vertexMain(VertexInput vsInput, inout czm_modelVertexOutput vsOutput) {
                // æ ¹æ®æ¨¡å‹uvåæ ‡çš„xå’Œyåæ ‡æ¥ç¡®å®šæ‘†åŠ¨çš„é¢‘ç‡ï¼ˆå¯¹åº”sinæ›²çº¿çš„æ³¢é¢‘ï¼‰
                // è¿™é‡Œæ§åˆ¶æ³¢é¢‘æ—¶ï¼Œåˆ†åˆ«ç”¨åˆ°äº†xå’Œyè½´åæ ‡ï¼Œå¹¶è®©xåæ ‡æƒé‡å¤§äºyåæ ‡ï¼Œä½¿å¾—æ‘†åŠ¨æ›´åŠ è‡ªç„¶
                // æœ€åä¹˜ä»¥0.13æ˜¯ä¸ºäº†æ§åˆ¶æ‘†åŠ¨çš„å¹…åº¦ï¼ˆå¯¹åº”sinæ›²çº¿çš„æ³¢é«˜ï¼‰
                float offset = sin(vsInput.attributes.texCoord_0.x * 8.0 +  vsInput.attributes.texCoord_0.y * 1.5 - u_time) * 0.13;
                // è¿™æ˜¯å…³é”®çš„ä¸€æ­¥ï¼Œä½¿ç”¨å¹³æ»‘é˜¶æ¢¯å‡½æ•°smoothstepå‡½æ•°æ¥æ§åˆ¶æ‘†åŠ¨çš„èŒƒå›´
                // smoothstep(0.4, 0.0,  vsInput.attributes.texCoord_0.x)è¡¨è¾¾å¼åœ¨uvçš„xè½´åæ ‡é è¿‘èµ·ç‚¹æ—¶è¿”å›1ï¼Œåˆ°è¾¾xè½´çš„0.4æ—¶è¿”å›0
                // å†ç”¨offsetå‡å»offsetä¹˜ä»¥smoothstepå‡½æ•°çš„ç»“æœï¼Œå°±å¯ä»¥å¾—åˆ°åœ¨xè½´åæ ‡é è¿‘0æ—¶ï¼Œoffsetå€¼ä¸º0çš„æ•ˆæœ
                // å…³äºsmoothstepå‡½æ•°çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è€ƒhttps://zhuanlan.zhihu.com/p/157758600
                v_offset = offset - offset * smoothstep(0.4, 0.0,  vsInput.attributes.texCoord_0.x);
                // ä¸ºç‰‡å…ƒèµ‹äºˆæ–°çš„xåæ ‡ï¼Œæ–°çš„xåæ ‡ä¸ºåŸå§‹xåæ ‡åŠ ä¸Šæ‘†åŠ¨åç§»é‡
                vsOutput.positionMC.x += vsOutput.positionMC.x + v_offset;
                // å› ä¸ºæ——å­åœ¨xæ–¹å‘ä¸Šæœ‰å‰åæ‘†åŠ¨ï¼Œå› æ­¤åœ¨è§†è§‰ä¸Šzè½´åº”å½“é€‚å½“ç¼©çŸ­ä¸€äº›
                vsOutput.positionMC.z *= 0.95;
            }`</span>,
    <span class="hljs-attr">fragmentShaderText</span>: <span class="hljs-string">`
            void fragmentMain(FragmentInput fsInput, inout czm_modelMaterial material) {
                // è®¡ç®—ç‰‡å…ƒåç§»é‡çš„å¹³æ–¹ç”¨äºåç»­çš„é˜´å½±è®¡ç®—
                float offsetSquared = v_offset * v_offset;
                // è·å–ç‰‡å…ƒåç§»é‡çš„ç¬¦å·ï¼Œç”¨äºåœ¨åç»­çš„è®¡ç®—ä¸­ä¿ç•™åç§»é‡çš„æ­£è´Ÿæ€§
                float offsetSign = v_offset &gt;= 0.0 ? 1.0 : -1.0;
                fsInput.attributes.texCoord_0.y *= -1.0;
                // 1.0 - offsetSquared * offsetSign * 30.0è¡¨è¾¾å¼ç”¨æ¥å†³å®šç‰‡å…ƒçš„äº®åº¦ï¼ŒåŸç†ä¸ä¸Šé¢çš„ç€è‰²å™¨ä¸€è‡´
                // ä¸è¿‡æ­¤æ—¶ç‰‡å…ƒçš„äº®åº¦ä¸åç§»é‡ä¸ºæŒ‡æ•°çº§å¢é•¿å…³ç³»ï¼Œä¼šåœ¨é˜´å½±åŒºåŸŸè·å¾—æ›´åŠ å¤§çš„åå·®ï¼Œå¢å¼ºé€¼çœŸåº¦
                vec4 color = texture(u_texture, fsInput.attributes.texCoord_0) * min(1.0 - offsetSquared * offsetSign * 30.0, 1.0);
                material.diffuse=vec3(color.rgb);
            }`</span>
})
</code></pre>
<h2 data-id="heading-6">æ€»ç»“</h2>
<ol>
<li>
<p><strong>æ‘†åŠ¨æ ¸å¿ƒ</strong><br/>
ç”¨ä¸‰è§’å‡½æ•°æŠŠ UV åæ ‡æ˜ å°„æˆéšæ—¶é—´å˜åŒ–çš„åç§»é‡ï¼Œå†ç”¨Â <code>smoothstep</code>Â æŠŠæ——æ†ä¾§å›ºå®šï¼Œå°±èƒ½è®©çº¢æ——åªåœ¨è‡ªç”±ç«¯é£˜åŠ¨ã€‚</p>
</li>
<li>
<p><strong>é˜´å½±æ ¸å¿ƒ</strong><br/>
æŠŠé¡¶ç‚¹ç€è‰²å™¨ç®—å‡ºçš„åç§»é‡Â <code>v_offset</code>Â ä¼ è¿›ç‰‡å…ƒç€è‰²å™¨ï¼Œç”¨â€œ1 âˆ’ åç§»é‡Â² Ã— ç¬¦å· Ã— æ”¾å¤§ç³»æ•°â€åšæŒ‡æ•°çº§å‹æš—ï¼Œè¤¶çš±é˜´å½±é€¼çœŸç«‹ä½“ã€‚</p>
</li>
<li>
<p><strong>æ‰©å±•å’Œæ€è€ƒ</strong></p>
<ul>
<li>å¦‚ä½•ä½¿ç”¨å™ªå£°å®ç°ï¼Ÿ</li>
<li>å¦‚ä½•ä¸ºæ‘†åŠ¨çš„å¢åŠ éšæœºæ€§ï¼Ÿ</li>
</ul>
</li>
</ol>
<p>ç¥ç©æ——æ„‰å¿«ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»0åˆ°1ï¼šæ™ºèƒ½æ±‡ AI å…¨æ ˆå®æˆ˜ï¼Œæ‹†è§£å¤šæ¨¡æ€ AI åº”ç”¨å¼€å‘å…¨æµç¨‹]]></title>    <link>https://juejin.cn/post/7573508361741074432</link>    <guid>https://juejin.cn/post/7573508361741074432</guid>    <pubDate>2025-11-17T11:21:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573508361741074432" data-draft-id="7572434032517709870" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»0åˆ°1ï¼šæ™ºèƒ½æ±‡ AI å…¨æ ˆå®æˆ˜ï¼Œæ‹†è§£å¤šæ¨¡æ€ AI åº”ç”¨å¼€å‘å…¨æµç¨‹"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,Node.js"/> <meta itemprop="datePublished" content="2025-11-17T11:21:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¼–ç¨‹å¹²è´§é“º"/> <meta itemprop="url" content="https://juejin.cn/user/52383084474680"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»0åˆ°1ï¼šæ™ºèƒ½æ±‡ AI å…¨æ ˆå®æˆ˜ï¼Œæ‹†è§£å¤šæ¨¡æ€ AI åº”ç”¨å¼€å‘å…¨æµç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/52383084474680/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¼–ç¨‹å¹²è´§é“º
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T11:21:04.000Z" title="Mon Nov 17 2025 11:21:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ab6c91048004434b933d56702b29d2dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57yW56iL5bmy6LSn6ZO6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763983264&amp;x-signature=96kQn2dSYoOvKpkPZ%2FJBTGWIHMQ%3D" alt="2.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4398dbdb77534329936bb0c3e5e89f38~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57yW56iL5bmy6LSn6ZO6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763983264&amp;x-signature=5Wpp8tlzQc4LlcIl%2B%2F1MVG%2B1tQQ%3D" alt="6.png" loading="lazy"/></p>
<p>Â  æˆ‘è¿‘æœŸå®Œæˆäº†ä¸€ä¸ªå…¼å…·å®ç”¨æ€§ä¸æŠ€æœ¯æ·±åº¦çš„å¤šæ¨¡æ€ AI é¡¹ç›® â€”â€”<strong>æ™ºèƒ½æ±‡ AI</strong>ã€‚è¿™ä¸ªé¡¹ç›®æ•´åˆäº†å¯¹è¯ã€å†™ä½œã€ç»˜ç”»ä¸‰å¤§æ ¸å¿ƒèƒ½åŠ›ï¼Œä»æŠ€æœ¯é€‰å‹åˆ°è½åœ°éƒ¨ç½²å…¨ç¨‹è¸©å‘æ— æ•°ï¼Œä¹Ÿæ²‰æ·€äº†ä¸€å¥—å®Œæ•´çš„å¼€å‘æ–¹æ³•è®ºã€‚æœ¬æ–‡å°†ä»æŠ€æœ¯æ¶æ„ã€æ ¸å¿ƒåŠŸèƒ½å®ç°ã€å·¥ç¨‹åŒ–å®è·µä¸‰ä¸ªç»´åº¦ï¼Œå¸¦ä½ åƒé€å…¨æ ˆ AI åº”ç”¨çš„å¼€å‘é€»è¾‘ã€‚</p>
<h2 data-id="heading-0">é¡¹ç›®èƒŒæ™¯ï¼šè§£å†³å¤šæ¨¡æ€ AI åº”ç”¨çš„æ ¸å¿ƒç—›ç‚¹</h2>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œå¼€å‘è€…å’Œåˆ›ä½œè€…å¾€å¾€é¢ä¸´ã€Œå·¥å…·åˆ†æ•£ã€æ•ˆç‡ä½ä¸‹ã€AI èƒ½åŠ›å‰²è£‚ã€çš„é—®é¢˜ï¼šå­¦ä¹ ç¼–ç¨‹éœ€è¦æŸ¥æ–‡æ¡£ + é—® AIï¼Œå†™æ–‡æ¡ˆè¦åˆ‡æ¢ç¼–è¾‘å™¨ + è®¾è®¡å·¥å…·ï¼Œå¤šæ¨¡æ€èƒ½åŠ›é›†æˆæ›´æ˜¯æ¶‰åŠæµå¼å“åº”ã€è·¨ç«¯é€‚é…ç­‰æŠ€æœ¯éš¾ç‚¹ã€‚</p>
<p>æ™ºèƒ½æ±‡ AI çš„æ ¸å¿ƒç›®æ ‡å°±æ˜¯ï¼š<strong>ç”¨ç°ä»£åŒ–å…¨æ ˆæ¶æ„ï¼Œå°è£…å¤æ‚çš„ AI èƒ½åŠ›ï¼Œæ‰“é€ ä¸€ä¸ªã€Œå¼€ç®±å³ç”¨ã€çš„ä¸€ç«™å¼å·¥ä½œå°</strong>ã€‚æ—¢è§£å†³æŠ€æœ¯å±‚é¢çš„ã€Œå¤šæ¨¡æ€é›†æˆã€å®æ—¶å“åº”ã€æ€§èƒ½ä¼˜åŒ–ã€é—®é¢˜ï¼Œä¹Ÿæ»¡è¶³ç”¨æˆ·å±‚é¢çš„ã€Œé«˜æ•ˆåä½œã€åŠŸèƒ½é—­ç¯ã€éœ€æ±‚ã€‚</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€æŠ€æœ¯æ¶æ„ï¼šå…¼é¡¾æ€§èƒ½ä¸æ‰©å±•æ€§çš„å…¨æ ˆé€‰å‹</h2>
<h3 data-id="heading-2">æ ¸å¿ƒæŠ€æœ¯æ ˆé€‰å‹ï¼ˆé™„é€‰å‹æ€è·¯ï¼‰</h3>
<h4 data-id="heading-3">åç«¯æ¶æ„ï¼šè½»é‡é«˜æ•ˆï¼Œèšç„¦ AI èƒ½åŠ›å°è£…</h4>



































<table><thead><tr><th/><th/><th/></tr></thead><tbody><tr><td>æŠ€æœ¯æ ˆ</td><td>é€‰å‹ç†ç”±</td><td>æ ¸å¿ƒä½œç”¨</td></tr><tr><td>Node.js + Express 5.1</td><td>è½»é‡æ— ä¾µå…¥ï¼Œä¸­é—´ä»¶ç”Ÿæ€å®Œå–„ï¼Œé€‚åˆå¿«é€Ÿè¿­ä»£ AI æ¥å£</td><td>æ„å»º RESTful APIï¼Œå¤„ç† AI è¯·æ±‚è½¬å‘ä¸å“åº”</td></tr><tr><td>Prisma ORM + MySQL</td><td>ç±»å‹å®‰å…¨ç‰¹æ€§é€‚é… TypeScriptï¼Œè¿ç§»å·¥å…·ç®€åŒ–æ•°æ®åº“è¿­ä»£</td><td>ç”¨æˆ·æ•°æ®ã€ä¼šè¯è®°å½•ã€ç”Ÿæˆå†…å®¹çš„æŒä¹…åŒ–</td></tr><tr><td>JWT è®¤è¯</td><td>æ— çŠ¶æ€è®¾è®¡ï¼Œé€‚é…åˆ†å¸ƒå¼éƒ¨ç½²ï¼Œå‡å°‘æ•°æ®åº“æŸ¥è¯¢</td><td>ç”¨æˆ·èº«ä»½æ ¡éªŒä¸æƒé™æ§åˆ¶</td></tr><tr><td>SSE æµå¼å“åº”</td><td>ç›¸æ¯” WebSocket æ›´è½»é‡ï¼Œæ— éœ€åŒå‘é€šä¿¡ï¼Œé€‚é… AI æ–‡æœ¬æµå¼è¾“å‡º</td><td>å®ç° AI å›å¤ã€Œæ‰“å­—æœºæ•ˆæœã€ï¼Œé™ä½å‰ç«¯ç­‰å¾…æ„Ÿ</td></tr></tbody></table>
<h4 data-id="heading-4">å‰ç«¯æ¶æ„ï¼šå“åº”å¼ä¼˜å…ˆï¼Œä¼˜åŒ–äº¤äº’ä½“éªŒ</h4>








































<table><thead><tr><th/><th/><th/></tr></thead><tbody><tr><td>æŠ€æœ¯æ ˆ</td><td>é€‰å‹ç†ç”±</td><td>æ ¸å¿ƒä½œç”¨</td></tr><tr><td>Vue 3.5 + Composition API</td><td>ç»„åˆå¼ API æ›´é€‚åˆå¤æ‚é€»è¾‘å¤ç”¨ï¼Œå“åº”å¼ç³»ç»Ÿæ€§èƒ½ä¼˜äº Vue 2</td><td>æ„å»ºç»„ä»¶åŒ–ã€é«˜å¤ç”¨çš„å‰ç«¯ç•Œé¢</td></tr><tr><td>Element Plus</td><td>ä¼ä¸šçº§ç»„ä»¶åº“ï¼Œæ”¯æŒæŒ‰éœ€å¼•å…¥ï¼Œå‡å°‘ UI å¼€å‘å·¥ä½œé‡</td><td>å¿«é€Ÿæ­å»ºä¸€è‡´çš„äº¤äº’ç•Œé¢ï¼ˆè¡¨å•ã€å¼¹çª—ã€å¯¼èˆªç­‰ï¼‰</td></tr><tr><td>Pinia</td><td>ç›¸æ¯” Vuex æ›´ç®€æ´ï¼ŒåŸç”Ÿæ”¯æŒ TypeScriptï¼ŒçŠ¶æ€ç®¡ç†æ›´æ¸…æ™°</td><td>ç®¡ç†å…¨å±€çŠ¶æ€ï¼ˆç”¨æˆ·ä¿¡æ¯ã€ä¼šè¯åˆ—è¡¨ã€AI æ¨¡å‹é…ç½®ï¼‰</td></tr><tr><td>Vite</td><td>å†·å¯åŠ¨é€Ÿåº¦å¿«ï¼Œçƒ­æ›´æ–°é«˜æ•ˆï¼Œé€‚é…å¤§å‹å‰ç«¯é¡¹ç›®</td><td>æå‡å¼€å‘æ•ˆç‡ï¼Œä¼˜åŒ–ç”Ÿäº§ç¯å¢ƒæ„å»ºä½“ç§¯</td></tr><tr><td>@tanstack/vue-virtual</td><td>ä¸“ä¸º Vue 3 ä¼˜åŒ–ï¼Œå†…å­˜å ç”¨ä½ï¼Œæ”¯æŒå¤§æ•°æ®é‡æ¸²æŸ“</td><td>è§£å†³é•¿å¯¹è¯åˆ—è¡¨å¡é¡¿é—®é¢˜</td></tr></tbody></table>
<h4 data-id="heading-5">AI èƒ½åŠ›é›†æˆï¼šæŒ‰éœ€é€‰æ‹©ï¼Œå¹³è¡¡é€Ÿåº¦ä¸è´¨é‡</h4>
<ul>
<li><strong>è±†åŒ…å¿«é€Ÿæ¨¡å‹</strong>ï¼ˆdoubao-seed-1-6-flash-250828ï¼‰ï¼šå“åº”å»¶è¿Ÿ &lt; 500msï¼Œé€‚åˆæ—¥å¸¸å¯¹è¯ã€ç®€å•æŸ¥è¯¢</li>
</ul>

<ul>
<li><strong>è±†åŒ…æ·±åº¦æ€è€ƒæ¨¡å‹</strong>ï¼ˆdoubao-seed-1-6-thinking-250715ï¼‰ï¼šæ”¯æŒæ€ç»´é“¾è¾“å‡ºï¼Œé€‚åˆä»£ç è°ƒè¯•ã€å¤æ‚æ¨ç†</li>
</ul>

<ul>
<li><strong>è±†åŒ… Seedream 4.0</strong>ï¼ˆdoubao-seedream-4-0-250828ï¼‰ï¼šå›¾åƒç”Ÿæˆåˆ†è¾¨ç‡é«˜ï¼ˆæœ€é«˜ 1024x1024ï¼‰ï¼Œé£æ ¼è¿˜åŸåº¦å¥½</li>
</ul>
<h3 data-id="heading-6">ä¸‰å¤§æŠ€æœ¯äº®ç‚¹ï¼ˆé™„è¸©å‘ä¸è§£å†³æ–¹æ¡ˆï¼‰</h3>
<h4 data-id="heading-7">1. SSE æµå¼å“åº”ï¼šæ”»å…‹ AI å¯¹è¯å®æ—¶æ€§ä¸æ ¼å¼å®Œæ•´æ€§éš¾é¢˜</h4>
<p>AI å¯¹è¯çš„æ ¸å¿ƒä½“éªŒç—›ç‚¹æ˜¯ã€Œç­‰å¾…æ„Ÿã€å’Œã€Œæ ¼å¼é”™ä¹±ã€â€”â€” æµå¼è¾“å‡ºèƒ½è§£å†³ç­‰å¾…é—®é¢˜ï¼Œä½†é€æ®µè¿”å›çš„æ–‡æœ¬å®¹æ˜“å¯¼è‡´ Markdown ä»£ç å—ã€è¡¨æ ¼è¢«åˆ†å‰²ã€‚æˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆå¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>ç¼“å†²åŒº + åˆ†æ®µè§£ææœºåˆ¶</strong>ï¼šå°† AI è¿”å›çš„ chunk ç´¯ç§¯åˆ°ç¼“å†²åŒºï¼ŒæŒ‰ã€Œæ¢è¡Œç¬¦ã€åˆ†å‰²ï¼Œä»…å¤„ç†å®Œæ•´è¡Œï¼Œå‰©ä½™å†…å®¹ä¿ç•™åœ¨ç¼“å†²åŒº</li>
</ul>

<ul>
<li><strong>Markdown æ ¼å¼ä¿æŠ¤</strong>ï¼šæ£€æµ‹åˆ°ä»£ç å—èµ·å§‹æ ‡è®°ï¼ˆ```ï¼‰åï¼Œæš‚åœåˆ†æ®µè§£æï¼Œç›´åˆ°æ”¶åˆ°ç»“æŸæ ‡è®°æ‰ç»Ÿä¸€æ¸²æŸ“</li>
</ul>

<ul>
<li><strong>åŒæ¨¡å‹é€‚é…é€»è¾‘</strong>ï¼šå¿«é€Ÿæ¨¡å‹ç›´æ¥æµå¼è¾“å‡ºç»“æœï¼Œæ·±åº¦æ¨¡å‹å…ˆè¾“å‡ºã€Œæ€ç»´é“¾ã€ï¼ˆå¸¦thinking:å‰ç¼€ï¼‰ï¼Œå†è¾“å‡ºæœ€ç»ˆç­”æ¡ˆ</li>
</ul>

<ul>
<li><strong>å¼‚å¸¸é‡è¯•æœºåˆ¶</strong>ï¼šç½‘ç»œä¸­æ–­æ—¶ï¼ŒåŸºäºå·²æ¥æ”¶çš„æ–‡æœ¬ç‰‡æ®µé‡è¯•è¯·æ±‚ï¼Œé¿å…ç”¨æˆ·é‡æ–°è¾“å…¥</li>
</ul>
<pre><code class="hljs"/></pre>
<p><code>// ä¼˜åŒ–åçš„æµå¼å¤„ç†æ ¸å¿ƒä»£ç </code></p>
<p><code>class StreamParser {</code></p>
<p><code>constructor(modelType) {</code></p>
<p><code>this.buffer = '';</code></p>
<p><code>this.modelType = modelType;</code></p>
<p><code>this.inCodeBlock = false; // æ ‡è®°æ˜¯å¦å¤„äºä»£ç å—ä¸­</code></p>
<p><code>}</code></p>
<p><code>parse(chunk) {</code></p>
<p><code>this.buffer += chunk.toString('utf-8');</code></p>
<p><code>const results = [];</code></p>
<p><code>// ä»£ç å—å¤„ç†é€»è¾‘ï¼šæœªç»“æŸåˆ™ä¸åˆ†å‰²</code></p>
<p><code>if (this.inCodeBlock) {</code></p>
<p><code>const codeEndIndex = this.buffer.indexOf('```');</code></p>
<p><code>if (codeEndIndex === -1) return results; // ä»£ç å—æœªç»“æŸï¼Œè¿”å›ç©º</code></p>
<p><code>// æå–å®Œæ•´ä»£ç å—</code></p>
<p><code>results.push(this.buffer.slice(0, codeEndIndex + 3));</code></p>
<p><code>this.buffer = this.buffer.slice(codeEndIndex + 3);</code></p>
<p><code>this.inCodeBlock = false;</code></p>
<p><code>}</code></p>
<p><code>// åˆ†å‰²å®Œæ•´è¡Œï¼ˆéä»£ç å—çŠ¶æ€ï¼‰</code></p>
<p><code>const lines = this.buffer.split('\n');</code></p>
<p><code>this.buffer = lines.pop() || ''; // ä¿ç•™æœ€åä¸€è¡Œï¼ˆå¯èƒ½ä¸å®Œæ•´ï¼‰</code></p>
<p><code>for (const line of lines) {</code></p>
<p><code>if (line.includes('```')) {</code></p>
<p><code>this.inCodeBlock = true;</code></p>
<p><code>}</code></p>
<p><code>// åŒºåˆ†æ€ç»´é“¾å’Œæœ€ç»ˆç­”æ¡ˆï¼ˆæ·±åº¦æ¨¡å‹ï¼‰</code></p>
<p><code>if (this.modelType === 'thinking' &amp;&amp; line.startsWith('thinking:')) {</code></p>
<p><code>results.push({ type: 'thinking', content: line.slice(9) });</code></p>
<p><code>} else {</code></p>
<p><code>results.push({ type: 'answer', content: line });</code></p>
<p><code>}</code></p>
<p><code>}</code></p>
<p><code>return results;</code></p>
<p><code>}</code></p>
<p><code>}</code></p>
<h4 data-id="heading-8">2. Prisma ORMï¼šç±»å‹å®‰å…¨æå‡å¼€å‘æ•ˆç‡ 80%</h4>
<p>ä¼ ç»Ÿ SQL å¼€å‘ä¸­ï¼Œã€Œå­—æ®µåå†™é”™ã€ã€Œç±»å‹ä¸åŒ¹é…ã€æ˜¯é«˜é¢‘ bugã€‚ä½¿ç”¨ Prisma åï¼Œè¿™äº›é—®é¢˜å‡ ä¹æ¶ˆå¤±ï¼š</p>
<ul>
<li><strong>Schema å®šä¹‰é©±åŠ¨å¼€å‘</strong>ï¼šå…ˆå®šä¹‰æ•°æ®æ¨¡å‹ï¼ŒPrisma è‡ªåŠ¨ç”Ÿæˆ TypeScript ç±»å‹ï¼Œå‰åç«¯ç±»å‹ä¸€è‡´</li>
</ul>

<ul>
<li><strong>ç¤ºä¾‹ Schemaï¼ˆæ ¸å¿ƒæ¨¡å‹ï¼‰</strong> ï¼š</li>
</ul>
<pre><code class="hljs"/></pre>
<p><code>// ç”¨æˆ·æ¨¡å‹</code></p>
<p><code>model User {</code></p>
<p><code>id String @id @default(uuid())</code></p>
<p><code>username String @unique</code></p>
<p><code>email String @unique</code></p>
<p><code>passwordHash String</code></p>
<p><code>sessions Session[] // å…³è”ä¼šè¯</code></p>
<p><code>notes Note[] // å…³è”ç¬”è®°</code></p>
<p><code>createdAt DateTime @default(now())</code></p>
<p><code>}</code></p>
<p><code>// ä¼šè¯æ¨¡å‹ï¼ˆAIå¯¹è¯ï¼‰</code></p>
<p><code>model Session {</code></p>
<p><code>id String @id @default(uuid())</code></p>
<p><code>title String</code></p>
<p><code>userId String</code></p>
<p><code>user User @relation(fields: [userId], references: [id], onDelete: Cascade)</code></p>
<p><code>messages Message[] // å…³è”æ¶ˆæ¯</code></p>
<p><code>modelType String // æ¨¡å‹ç±»å‹ï¼šflash/thinking</code></p>
<p><code>createdAt DateTime @default(now())</code></p>
<p><code>updatedAt DateTime @updatedAt</code></p>
<p><code>}</code></p>
<ul>
<li><strong>è¿ç§»ç®¡ç†</strong>ï¼šä¿®æ”¹ Schema åï¼Œæ‰§è¡Œprisma migrate devè‡ªåŠ¨ç”Ÿæˆ SQL è¿ç§»æ–‡ä»¶ï¼Œé¿å…æ‰‹åŠ¨æ”¹åº“</li>
</ul>

<ul>
<li><strong>æŸ¥è¯¢ä¼˜åŒ–</strong>ï¼šå†…ç½®è¿æ¥æ± ï¼ˆé»˜è®¤ 10 ä¸ªè¿æ¥ï¼‰ï¼Œæ”¯æŒæ‰¹é‡æŸ¥è¯¢å’Œäº‹åŠ¡ï¼Œå‡å°‘æ•°æ®åº“å‹åŠ›</li>
</ul>
<h4 data-id="heading-9">3. è™šæ‹Ÿæ»šåŠ¨ï¼šæ”¯æ’‘ 10000 + æ¡å¯¹è¯æ— å¡é¡¿</h4>
<p>é•¿å¯¹è¯åˆ—è¡¨æ˜¯ AI åº”ç”¨çš„å¸¸è§åœºæ™¯ï¼Œä¼ ç»Ÿæ¸²æŸ“æ–¹å¼ä¼šå¯¼è‡´ DOM èŠ‚ç‚¹è¿‡å¤šã€å†…å­˜å ç”¨é£™å‡ã€‚æˆ‘ä»¬çš„ä¼˜åŒ–æ–¹æ¡ˆï¼š</p>
<ul>
<li>ä½¿ç”¨@tanstack/vue-virtualå®ç°ã€Œå¯è§†åŒºåŸŸæ¸²æŸ“ã€ï¼Œä»…æ¸²æŸ“å½“å‰å±å¹•èƒ½çœ‹åˆ°çš„å¯¹è¯é¡¹</li>
</ul>

<ul>
<li>å¯¹è¯é¡¹é«˜åº¦è‡ªé€‚åº”ï¼šé€šè¿‡estimateSizeå‡½æ•°åŠ¨æ€è®¡ç®—æ¯æ¡æ¶ˆæ¯çš„é«˜åº¦ï¼Œé¿å…å›ºå®šé«˜åº¦å¯¼è‡´çš„å¸ƒå±€é”™ä¹±</li>
</ul>

<ul>
<li>æ€§èƒ½æŒ‡æ ‡ï¼š10000 æ¡å¯¹è¯æ—¶ï¼ŒDOM èŠ‚ç‚¹æ•°é‡ä» 10000 + å‡å°‘åˆ° 50 ä»¥å†…ï¼Œå†…å­˜å ç”¨ä» 800MB é™è‡³ 50MBï¼Œæ»šåŠ¨ FPS ç¨³å®š 60+</li>
</ul>
<hr/>
<h2 data-id="heading-10">äºŒã€æ ¸å¿ƒåŠŸèƒ½ï¼šå¤šæ¨¡æ€èƒ½åŠ›çš„æŠ€æœ¯å®ç°ç»†èŠ‚</h2>
<h3 data-id="heading-11">1. AI å¯¹è¯ï¼šä»ã€Œèƒ½èŠã€åˆ°ã€Œå¥½ç”¨ã€çš„ä½“éªŒä¼˜åŒ–</h3>
<h4 data-id="heading-12">æ ¸å¿ƒç‰¹æ€§ä¸æŠ€æœ¯å®ç°</h4>
<ul>
<li><strong>åŒæ¨¡å‹åˆ‡æ¢</strong>ï¼šå‰ç«¯é€šè¿‡ Pinia ç®¡ç†æ¨¡å‹çŠ¶æ€ï¼Œåˆ‡æ¢æ—¶ä¿ç•™å½“å‰ä¼šè¯ä¸Šä¸‹æ–‡ï¼Œåç«¯è‡ªåŠ¨é€‚é…æµå¼è¾“å‡ºé€»è¾‘</li>
</ul>

<ul>
<li><strong>æ€ç»´é“¾å±•ç¤º</strong>ï¼šå‰ç«¯è¯†åˆ«type: thinkingçš„æ¶ˆæ¯ï¼Œç”¨ç°è‰²å°å­— +ã€Œæ€è€ƒä¸­...ã€å‰ç¼€å±•ç¤ºï¼Œä¸æœ€ç»ˆç­”æ¡ˆåŒºåˆ†</li>
</ul>

<ul>
<li><strong>æç¤ºè¯æ¨¡æ¿ç®¡ç†</strong>ï¼šåç«¯å­˜å‚¨æ¨¡æ¿åˆ†ç±»ï¼ˆå†™ä½œ / ç¼–ç¨‹ / å­¦ä¹ ï¼‰ï¼Œå‰ç«¯ç”¨æ ‘å½¢ç»„ä»¶å±•ç¤ºï¼Œé€‰æ‹©åè‡ªåŠ¨å¡«å……åˆ°è¾“å…¥æ¡†</li>
</ul>

<ul>
<li><strong>Markdown æ¸²æŸ“</strong>ï¼šä½¿ç”¨markedè§£æ Markdownï¼Œhighlight.jså®ç°ä»£ç é«˜äº®ï¼Œkatexæ”¯æŒæ•°å­¦å…¬å¼æ¸²æŸ“</li>
</ul>

<ul>
<li><strong>ä¼šè¯æœç´¢</strong>ï¼šåŸºäº Prisma çš„containsæŸ¥è¯¢ï¼Œæ”¯æŒæ¨¡ç³Šæœç´¢ä¼šè¯æ ‡é¢˜å’Œæ¶ˆæ¯å†…å®¹ï¼Œå‰ç«¯ç”¨é˜²æŠ–ä¼˜åŒ–è¾“å…¥ä½“éªŒ</li>
</ul>
<h4 data-id="heading-13">ç•Œé¢æ•ˆæœï¼ˆé™„æ ¸å¿ƒäº¤äº’é€»è¾‘ï¼‰</h4>
<p>**<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79c25a72bd134cd08e44bc515d128b79~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57yW56iL5bmy6LSn6ZO6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763983264&amp;x-signature=SbGyEdvik6vS85ipK%2B31mBtB2QQ%3D" alt="AIå¯¹è¯ç•Œé¢" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹ç¼–è¾‘</p>
<ul>
<li>è¾“å…¥æ¡†æ”¯æŒã€Œå‘é€ã€ã€Œæ¢è¡Œã€å¿«æ·é”®ï¼ˆEnter å‘é€ï¼ŒShift+Enter æ¢è¡Œï¼‰</li>
</ul>

<ul>
<li>å¯¹è¯é¡¹æ”¯æŒã€Œå¤åˆ¶ã€ã€Œæ”¶è—ã€ã€Œåˆ é™¤ã€ï¼Œæ“ä½œæ  hover æ˜¾ç¤º</li>
</ul>

<ul>
<li>æ»šåŠ¨åˆ°åº•éƒ¨è‡ªåŠ¨åŠ è½½æ›´å¤šå†å²æ¶ˆæ¯ï¼ˆåˆ†é¡µæŸ¥è¯¢ï¼Œæ¯é¡µ 20 æ¡ï¼‰</li>
</ul>
<h3 data-id="heading-14">2. æ™ºèƒ½ç¬”è®°ï¼šAI ä¸å¯Œæ–‡æœ¬ç¼–è¾‘å™¨çš„æ·±åº¦èåˆ</h3>
<h4 data-id="heading-15">æŠ€æœ¯éš¾ç‚¹ä¸è§£å†³æ–¹æ¡ˆ</h4>
<ul>
<li><strong>æµå¼æ’å…¥ä¸æ‰“ä¹±ç¼–è¾‘</strong>ï¼šAI ç”Ÿæˆå†…å®¹æ—¶ï¼Œå…ˆè®°å½•å…‰æ ‡ä½ç½®ï¼ˆé€šè¿‡ WangEditor çš„getSelectionRangeï¼‰ï¼Œç”Ÿæˆçš„å†…å®¹æ’å…¥åï¼Œç”¨restoreSelectionæ¢å¤å…‰æ ‡ä½ç½®</li>
</ul>

<ul>
<li><strong>åŒæ¨¡å¼ç¼–è¾‘</strong>ï¼šæ”¯æŒ Markdown å’Œå¯Œæ–‡æœ¬åˆ‡æ¢ï¼Œé€šè¿‡markedå’Œhtml-to-markdownå®ç°åŒå‘è½¬æ¢</li>
</ul>

<ul>
<li><strong>è‡ªåŠ¨ä¿å­˜</strong>ï¼šæ¯ 3 ç§’è§¦å‘ä¸€æ¬¡ä¿å­˜ï¼Œå‰ç«¯é˜²æŠ–é¿å…é¢‘ç¹è¯·æ±‚ï¼Œåç«¯ç”¨ Prisma çš„upsertå®ç°ã€Œæœ‰åˆ™æ›´æ–°ï¼Œæ— åˆ™åˆ›å»ºã€</li>
</ul>
<h4 data-id="heading-16">æ ¸å¿ƒä»£ç ç‰‡æ®µï¼ˆAI è¾…åŠ©å†™ä½œï¼‰</h4>
<pre><code class="hljs"/></pre>
<p><code>// å‰ç«¯è§¦å‘AIæ¶¦è‰²åŠŸèƒ½</code></p>
<p><code>async function aiPolish(content) {</code></p>
<p><code>const loading = ElMessage.info('AIæ¶¦è‰²ä¸­...');</code></p>
<p><code>try {</code></p>
<p><code>// å‘èµ·SSEè¯·æ±‚ï¼Œæºå¸¦å½“å‰ç¬”è®°å†…å®¹å’Œæ“ä½œç±»å‹ï¼ˆpolishï¼‰</code></p>
<p><code>const stream = await fetchSSE('/api/note/ai-assist', {</code></p>
<p><code>method: 'POST',</code></p>
<p><code>body: JSON.stringify({</code></p>
<p><code>content,</code></p>
<p><code>type: 'polish' // æ”¯æŒpolish/summary/translate/continue</code></p>
<p><code>}),</code></p>
<p><code>headers: { 'Content-Type': 'application/json' }</code></p>
<p><code>});</code></p>
<p><code>// æµå¼æ¥æ”¶AIç”Ÿæˆçš„å†…å®¹ï¼Œå®æ—¶æ’å…¥ç¼–è¾‘å™¨</code></p>
<p><code>let result = '';</code></p>
<p><code>for await (const chunk of stream) {</code></p>
<p><code>result += chunk;</code></p>
<p><code>editor.setHtml(result); // å®æ—¶æ›´æ–°ç¼–è¾‘å™¨å†…å®¹</code></p>
<p><code>restoreCursorPosition(); // æ¢å¤å…‰æ ‡ä½ç½®</code></p>
<p><code>}</code></p>
<p><code>} catch (err) {</code></p>
<p><code>ElMessage.error('æ¶¦è‰²å¤±è´¥ï¼š' + err.message);</code></p>
<p><code>} finally {</code></p>
<p><code>loading.close();</code></p>
<p><code>}</code></p>
<p><code>}</code></p>
<h4 data-id="heading-17">ç•Œé¢æ•ˆæœ</h4>
<p>**<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0d2e9b37e7b140f9908eb700126cbb51~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57yW56iL5bmy6LSn6ZO6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763983264&amp;x-signature=KBsrxvG43nZ0rnkp4mpT6MvXI2k%3D" alt="æ™ºèƒ½ç¬”è®°ç•Œé¢" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹ç¼–è¾‘</p>
<h3 data-id="heading-18">3. AI ç»˜ç”»ï¼šé«˜è´¨é‡å›¾åƒç”Ÿæˆä¸ç®¡ç†</h3>
<h4 data-id="heading-19">æŠ€æœ¯å®ç°å…³é”®ç‚¹</h4>
<ul>
<li><strong>å‚æ•°åŒ–ç”Ÿæˆ</strong>ï¼šå‰ç«¯æä¾›å°ºå¯¸ï¼ˆ1024x1024/1024x768/768x1024ï¼‰ã€é£æ ¼ï¼ˆå†™å® / åŠ¨æ¼« / æŠ½è±¡ï¼‰ã€æ•°é‡ï¼ˆ1-4 å¼ ï¼‰ç­‰å‚æ•°ï¼Œåç«¯è½¬å‘è‡³è±†åŒ… Seedream 4.0 API</li>
</ul>

<ul>
<li><strong>å¹¶å‘ä¸‹è½½ä¼˜åŒ–</strong>ï¼šç”Ÿæˆå¤šå¼ å›¾åƒæ—¶ï¼Œç”¨Promise.allé™åˆ¶å¹¶å‘æ•°ï¼ˆæœ€å¤š 2 ä¸ªï¼‰ï¼Œé¿å…æœåŠ¡å™¨å¸¦å®½å ç”¨è¿‡é«˜</li>
</ul>

<ul>
<li><strong>å›¾åƒå­˜å‚¨ç­–ç•¥</strong>ï¼šç”Ÿæˆçš„å›¾åƒ URL å…ˆä¿å­˜åˆ°æ•°æ®åº“ï¼ŒåŒæ—¶å¼‚æ­¥ä¸‹è½½åˆ°æœåŠ¡å™¨æœ¬åœ°ï¼ˆè·¯å¾„ï¼š/uploads/images/{uuid}.pngï¼‰ï¼Œé¿å…ç¬¬ä¸‰æ–¹ API å¤±æ•ˆå¯¼è‡´å›¾åƒä¸¢å¤±</li>
</ul>

<ul>
<li><strong>å…ƒæ•°æ®è®°å½•</strong>ï¼šæ•°æ®åº“å­˜å‚¨å›¾åƒçš„å®Œæ•´å‚æ•°ï¼ˆæç¤ºè¯ã€å°ºå¯¸ã€é£æ ¼ã€ç”Ÿæˆæ—¶é—´ï¼‰ï¼Œæ”¯æŒæŒ‰å…³é”®è¯æœç´¢ç”Ÿæˆè®°å½•</li>
</ul>
<h4 data-id="heading-20">ç•Œé¢æ•ˆæœ</h4>
<p>**<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d15be9b712a74673a2bbe10a8874ef80~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57yW56iL5bmy6LSn6ZO6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763983264&amp;x-signature=C52B1xwZMyN5BA1wsMRo9yMZkr8%3D" alt="AIç»˜ç”»ç•Œé¢1" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹ç¼–è¾‘</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3bbf83ea7e794547867e7f11e3931fcd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57yW56iL5bmy6LSn6ZO6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763983264&amp;x-signature=DfUjBVqZAftyPhP6dbAwUh1VkBA%3D" alt="AIç»˜ç”»ç•Œé¢2" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹ç¼–è¾‘</p>
<hr/>
<h2 data-id="heading-21">ä¸‰ã€å·¥ç¨‹åŒ–å®è·µï¼šä»å¼€å‘åˆ°éƒ¨ç½²çš„å®Œæ•´æµç¨‹</h2>
<h3 data-id="heading-22">1. éœ€æ±‚åˆ†æä¸è®¾è®¡é˜¶æ®µ</h3>
<ul>
<li><strong>UI è®¾è®¡</strong>ï¼šä½¿ç”¨ MasterGo AI å¿«é€Ÿç”ŸæˆåŸå‹ï¼Œå†æ‰‹åŠ¨ä¼˜åŒ–ç»†èŠ‚ï¼Œå¯¼å‡ºç»„ä»¶åˆ‡å›¾ï¼ˆé¿å…é‡å¤è®¾è®¡ï¼‰</li>
</ul>

<ul>
<li><strong>æ¥å£è®¾è®¡</strong>ï¼šåŸºäº OpenAPI 3.0 è§„èŒƒï¼Œç”¨ Swagger ç”Ÿæˆæ¥å£æ–‡æ¡£ï¼Œå‰åç«¯åŒæ­¥å¼€å‘ï¼ˆå‰ç«¯å¯å…ˆç”¨ Mock æ•°æ®ï¼‰</li>
</ul>

<ul>
<li><strong>æ•°æ®åº“å»ºæ¨¡</strong>ï¼šå…ˆæ¢³ç†å®ä½“å…³ç³»ï¼ˆç”¨æˆ· - ä¼šè¯ - æ¶ˆæ¯ - ç¬”è®° - å›¾åƒï¼‰ï¼Œå†ç”¨ Prisma Schema å®šä¹‰æ¨¡å‹ï¼Œé¿å…åæœŸå¤§è§„æ¨¡æ”¹è¡¨</li>
</ul>
<h3 data-id="heading-23">2. å¼€å‘é˜¶æ®µï¼šæ•ˆç‡ä¸è´¨é‡å¹¶é‡</h3>
<h4 data-id="heading-24">åç«¯å¼€å‘è§„èŒƒ</h4>
<ul>
<li>åˆ†å±‚æ¶æ„ï¼šControllerï¼ˆæ¥æ”¶è¯·æ±‚ï¼‰â†’ Serviceï¼ˆä¸šåŠ¡é€»è¾‘ï¼‰â†’ Repositoryï¼ˆæ•°æ®è®¿é—®ï¼‰ï¼ŒèŒè´£å•ä¸€</li>
</ul>

<ul>
<li>ç»Ÿä¸€å“åº”æ ¼å¼ï¼š</li>
</ul>
<pre><code class="hljs"/></pre>
<p><code>// æˆåŠŸå“åº”</code></p>
<p><code>res.json({ code: 200, message: 'success', data: result });</code></p>
<p><code>// é”™è¯¯å“åº”</code></p>
<p><code>res.status(400).json({ code: 400, message: 'å‚æ•°é”™è¯¯', error: err.message });</code></p>
<ul>
<li>æ—¥å¿—è®°å½•ï¼šä½¿ç”¨winstonè®°å½•è¯·æ±‚æ—¥å¿—ã€é”™è¯¯æ—¥å¿—ï¼ŒæŒ‰æ—¥æœŸåˆ†å‰²æ—¥å¿—æ–‡ä»¶ï¼ˆä¾¿äºé—®é¢˜æ’æŸ¥ï¼‰</li>
</ul>

<ul>
<li>AI å·¥å…·è¾…åŠ©ï¼šç”¨ Cursor è‡ªåŠ¨ç”Ÿæˆé‡å¤ä»£ç ï¼ˆå¦‚ CRUD æ¥å£ï¼‰ï¼Œæ‰‹åŠ¨ä¼˜åŒ–æ ¸å¿ƒé€»è¾‘ï¼ˆå¦‚æµå¼å¤„ç†ï¼‰</li>
</ul>
<h4 data-id="heading-25">å‰ç«¯å¼€å‘è§„èŒƒ</h4>
<ul>
<li>ç»„ä»¶åŒ–è®¾è®¡ï¼šæ‹†åˆ†åŸºç¡€ç»„ä»¶ï¼ˆButtonã€Inputã€Cardï¼‰ã€ä¸šåŠ¡ç»„ä»¶ï¼ˆChatItemã€NoteEditorï¼‰ã€é¡µé¢ç»„ä»¶ï¼ˆChatPageã€NotePageï¼‰</li>
</ul>

<ul>
<li>å“åº”å¼é€‚é…ï¼šä½¿ç”¨vw+flexå¸ƒå±€ï¼Œé€‚é… PCï¼ˆâ‰¥1200pxï¼‰ã€å¹³æ¿ï¼ˆ768px-1199pxï¼‰ã€æ‰‹æœºï¼ˆ&lt;768pxï¼‰</li>
</ul>

<ul>
<li>æ€§èƒ½ä¼˜åŒ–ï¼š</li>
</ul>

<ul>
<li>
<ul>
<li>è·¯ç”±æ‡’åŠ è½½ï¼šconst ChatPage = () =&gt; import('@/views/ChatPage.vue')</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>å›¾ç‰‡æ‡’åŠ è½½ï¼šä½¿ç”¨vue-lazyloadï¼Œå»¶è¿ŸåŠ è½½éé¦–å±å›¾åƒ</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>èµ„æºå‹ç¼©ï¼šVite é…ç½®terserå‹ç¼© JS/CSSï¼Œimageminå‹ç¼©å›¾ç‰‡</li>
</ul>
</li>
</ul>
<h3 data-id="heading-26">3. æµ‹è¯•ä¸éƒ¨ç½²é˜¶æ®µ</h3>
<h4 data-id="heading-27">æµ‹è¯•ç­–ç•¥</h4>
<ul>
<li>æ¥å£æµ‹è¯•ï¼šç”¨Supertestç¼–å†™ API æµ‹è¯•ç”¨ä¾‹ï¼Œè¦†ç›–æ ¸å¿ƒæ¥å£ï¼ˆç”¨æˆ·ç™»å½•ã€ä¼šè¯åˆ›å»ºã€AI ç”Ÿæˆï¼‰</li>
</ul>

<ul>
<li>å‰ç«¯æµ‹è¯•ï¼šç”¨Vitestæµ‹è¯•å·¥å…·å‡½æ•°ï¼ˆå¦‚æµå¼è§£æã€Markdown æ¸²æŸ“ï¼‰ï¼Œç”¨Cypressåšå…³é”®æµç¨‹ E2E æµ‹è¯•</li>
</ul>

<ul>
<li>æ€§èƒ½æµ‹è¯•ï¼šç”¨k6æ¨¡æ‹Ÿ 100 å¹¶å‘ç”¨æˆ·è®¿é—® AI å¯¹è¯æ¥å£ï¼Œç¡®ä¿å“åº”æ—¶é—´ &lt; 2s</li>
</ul>
<h4 data-id="heading-28">éƒ¨ç½²æ–¹æ¡ˆï¼ˆDocker+Nginxï¼‰</h4>
<ol>
<li><strong>å®¹å™¨åŒ–æ‰“åŒ…</strong>ï¼š</li>
</ol>
<ul>
<li>
<ul>
<li>åç«¯ï¼šåŸºäº Node.js é•œåƒï¼Œå®‰è£…ä¾èµ–ã€å¤åˆ¶ä»£ç ï¼Œæš´éœ² 3000 ç«¯å£</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>å‰ç«¯ï¼šVite æ„å»ºç”Ÿæˆé™æ€æ–‡ä»¶ï¼ŒåŸºäº Nginx é•œåƒéƒ¨ç½²</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>ç”¨ Docker Compose ç®¡ç†æœåŠ¡ï¼ˆåç«¯ã€å‰ç«¯ã€MySQLï¼‰</li>
</ul>
</li>
</ul>
<ol>
<li><strong>Nginx é…ç½®</strong>ï¼š</li>
</ol>
<ul>
<li>
<ul>
<li>åå‘ä»£ç†ï¼šå°†/apiè¯·æ±‚è½¬å‘è‡³åç«¯æœåŠ¡</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>é™æ€èµ„æºç¼“å­˜ï¼šè®¾ç½® CSS/JS/ å›¾ç‰‡ç¼“å­˜æ—¶é—´ï¼ˆ7 å¤©ï¼‰</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>HTTPS é…ç½®ï¼šä½¿ç”¨ Let's Encrypt ç”³è¯·å…è´¹è¯ä¹¦ï¼Œå¼€å¯ HTTPS</li>
</ul>
</li>
</ul>
<ol>
<li><strong>æœåŠ¡å™¨ç¯å¢ƒ</strong>ï¼š2 æ ¸ 4G äº‘æœåŠ¡å™¨ï¼ˆCentOS 7ï¼‰ï¼ŒMySQL 8.0ï¼ŒDocker 20.10+</li>
</ol>
<hr/>
<h2 data-id="heading-29">å››ã€æŠ€æœ¯ä»·å€¼ä¸å­¦ä¹ è·¯å¾„</h2>
<h3 data-id="heading-30">é€‚åˆè°å­¦ä¹ ï¼Ÿ</h3>
<ul>
<li>æƒ³å…¥é—¨å…¨æ ˆ AI åº”ç”¨å¼€å‘çš„å¼€å‘è€…</li>
</ul>

<ul>
<li>ç†Ÿæ‚‰ Vue/Node.jsï¼Œæƒ³æå‡å·¥ç¨‹åŒ–å®è·µèƒ½åŠ›çš„å¼€å‘è€…</li>
</ul>

<ul>
<li>å¯¹å¤šæ¨¡æ€ AI é›†æˆã€æµå¼å“åº”æŠ€æœ¯æ„Ÿå…´è¶£çš„æŠ€æœ¯çˆ±å¥½è€…</li>
</ul>
<h3 data-id="heading-31">æ ¸å¿ƒå­¦ä¹ è¦ç‚¹</h3>
<ol>
<li><strong>SSE æµå¼å“åº”</strong>ï¼šç†è§£ HTTP æµå¼ä¼ è¾“åŸç†ï¼ŒæŒæ¡ç¼“å†²åŒºè§£æã€æ ¼å¼ä¿æŠ¤çš„å®ç°</li>
</ol>

<ol>
<li><strong>TypeScript å…¨æ ˆå®è·µ</strong>ï¼šå‰åç«¯ç»Ÿä¸€ç±»å‹å®šä¹‰ï¼Œå‡å°‘ç±»å‹é”™è¯¯</li>
</ol>

<ol>
<li><strong>Prisma ORM ä½¿ç”¨</strong>ï¼šä» Schema å®šä¹‰åˆ°æŸ¥è¯¢ä¼˜åŒ–ï¼Œç®€åŒ–æ•°æ®åº“æ“ä½œ</li>
</ol>

<ol>
<li><strong>å¤šæ¨¡æ€ AI API é›†æˆ</strong>ï¼šæ–‡æœ¬ç”Ÿæˆã€å›¾åƒç”Ÿæˆçš„æ¥å£é€‚é…ä¸é”™è¯¯å¤„ç†</li>
</ol>

<ol>
<li><strong>æ€§èƒ½ä¼˜åŒ–æŠ€å·§</strong>ï¼šè™šæ‹Ÿæ»šåŠ¨ã€æ‡’åŠ è½½ã€æ•°æ®åº“ç´¢å¼•ä¼˜åŒ–</li>
</ol>
<h3 data-id="heading-32">æŠ€æœ¯é—¨æ§›ï¼ˆä½è‡³ä¸­ç­‰ï¼‰</h3>
<ul>
<li>å‰ç«¯ï¼šHTML/CSS/JS åŸºç¡€ï¼ŒVue 3 Composition API å…¥é—¨</li>
</ul>

<ul>
<li>åç«¯ï¼šNode.js åŸºç¡€ï¼ŒExpress æ¡†æ¶ä½¿ç”¨ç»éªŒ</li>
</ul>

<ul>
<li>æ•°æ®åº“ï¼šSQL åŸºç¡€ï¼ˆPrisma å¯å±è”½å¤æ‚ SQLï¼‰</li>
</ul>

<ul>
<li>å·¥å…·ï¼šGitã€Docker åŸºç¡€ï¼ˆéƒ¨ç½²ç”¨ï¼‰</li>
</ul>
<h3 data-id="heading-33">é¡¹ç›®äº®ç‚¹æ€»ç»“</h3>
<p>âœ… <strong>æµå¼å“åº” + æ ¼å¼ä¿æŠ¤</strong>ï¼šè§£å†³ AI å¯¹è¯å®æ—¶æ€§ä¸å®Œæ•´æ€§çš„æ ¸å¿ƒçŸ›ç›¾</p>
<p>âœ… <strong>å¤šæ¨¡æ€èƒ½åŠ›æ— ç¼é›†æˆ</strong>ï¼šæ–‡æœ¬ã€å›¾åƒç”Ÿæˆä¸€ç«™å¼å®ç°ï¼Œæ¥å£è®¾è®¡ç»Ÿä¸€</p>
<p>âœ… <strong>å·¥ç¨‹åŒ–è§„èŒƒå®Œå–„</strong>ï¼šä»ä»£ç è§„èŒƒåˆ°éƒ¨ç½²æµç¨‹ï¼Œå¯ç›´æ¥å¤ç”¨ä¸ºä¼ä¸šçº§é¡¹ç›®æ¨¡æ¿</p>
<p>âœ… <strong>æ€§èƒ½ä¼˜åŒ–åˆ°ä½</strong>ï¼šè™šæ‹Ÿæ»šåŠ¨ã€æ‡’åŠ è½½ç­‰æŠ€æœ¯ç¡®ä¿å¤§è§„æ¨¡æ•°æ®ä¸‹çš„æµç•…ä½“éªŒ</p>
<p>âœ… <strong>TypeScript å…¨æ ˆè¦†ç›–</strong>ï¼šç±»å‹å®‰å…¨æå‡å¼€å‘æ•ˆç‡ï¼Œé™ä½ç»´æŠ¤æˆæœ¬</p>
<hr/>
<h2 data-id="heading-34">äº”ã€é¡¹ç›®æ¼”ç¤ºä¸å­¦ä¹ èµ„æº</h2>
<p>è¿™ä¸ªé¡¹ç›®çš„å®Œæ•´å¼€å‘æµç¨‹å·²æ•´ç†æˆè§†é¢‘æ•™ç¨‹ï¼ŒåŒ…å«ï¼š</p>
<ul>
<li>éœ€æ±‚åˆ†æä¸ UI è®¾è®¡ï¼ˆMasterGo AI ä½¿ç”¨ï¼‰</li>
</ul>

<ul>
<li>åç«¯æ¥å£å¼€å‘ï¼ˆExpress+Prismaï¼‰</li>
</ul>

<ul>
<li>å‰ç«¯ç»„ä»¶ä¸äº¤äº’å®ç°ï¼ˆVue 3+Element Plusï¼‰</li>
</ul>

<ul>
<li>SSE æµå¼å“åº”æ ¸å¿ƒä»£ç æ‹†è§£</li>
</ul>

<ul>
<li>Docker éƒ¨ç½²ä¸æœåŠ¡å™¨é…ç½®</li>
</ul>
<p>æ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥æ‰«ç æŸ¥çœ‹è¯¦ç»†æ•™ç¨‹å’Œæºç ï¼š</p>
<h2 data-id="heading-35">å¤šæ¨¡æ€ AIé¡¹ç›®å¼€å‘æŠ€æœ¯å­¦ä¹ ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fcoding.imooc.com%2Fclass%2F954.html" title="https://coding.imooc.com/class/954.html" target="_blank" ref="nofollow noopener noreferrer">coding.imooc.com/class/954.hâ€¦</a></h2>
<hr/>
<h2 data-id="heading-36">æ€»ç»“</h2>
<p>æ™ºèƒ½æ±‡ AI é¡¹ç›®çš„æ ¸å¿ƒä»·å€¼ï¼Œåœ¨äºå°†å¤æ‚çš„å¤šæ¨¡æ€ AI èƒ½åŠ›ä¸ç°ä»£åŒ–å…¨æ ˆæŠ€æœ¯ç»“åˆï¼Œæä¾›äº†ä¸€å¥—ã€Œå¯å¤ç”¨ã€å¯æ‰©å±•ã€çš„å¼€å‘æ–¹æ¡ˆã€‚ä»æŠ€æœ¯è§’åº¦çœ‹ï¼ŒSSE æµå¼å“åº”ã€Prisma ç±»å‹å®‰å…¨ã€è™šæ‹Ÿæ»šåŠ¨è¿™ä¸‰å¤§æŠ€æœ¯äº®ç‚¹ï¼Œè§£å†³äº† AI åº”ç”¨å¼€å‘ä¸­çš„æ ¸å¿ƒç—›ç‚¹ï¼›ä»å·¥ç¨‹åŒ–è§’åº¦çœ‹ï¼Œå®Œæ•´çš„å¼€å‘æµç¨‹ã€è§„èŒƒçš„ä»£ç ç»“æ„ã€ä¾¿æ·çš„éƒ¨ç½²æ–¹æ¡ˆï¼Œè®©é¡¹ç›®å…·å¤‡äº†å®é™…è½åœ°ä»·å€¼ã€‚</p>
<p>å¯¹äºå¼€å‘è€…è€Œè¨€ï¼Œè¿™ä¸ªé¡¹ç›®ä¸ä»…æ˜¯ä¸€æ¬¡æŠ€æœ¯å®è·µï¼Œæ›´æ˜¯å¯¹ AI æ—¶ä»£å¼€å‘æ¨¡å¼çš„æ¢ç´¢ â€”â€” æœªæ¥çš„åº”ç”¨å¼€å‘ï¼Œå°†æ›´å¤šæ˜¯ã€ŒAI èƒ½åŠ›å°è£… + ç”¨æˆ·ä½“éªŒä¼˜åŒ–ã€çš„ç»“åˆã€‚å¸Œæœ›æœ¬æ–‡èƒ½ä¸ºä½ æä¾›ä¸€ä»½æ¸…æ™°çš„å¼€å‘æŒ‡å—ï¼Œå¸®åŠ©ä½ å¿«é€Ÿä¸Šæ‰‹å…¨æ ˆ AI åº”ç”¨å¼€å‘ï¼</p>
<p>â€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€SwiftUI ä»»åŠ¡èº«ä»½ã€‘task(id:) å¦‚ä½•æ­£ç¡®å“åº”ä¾èµ–å˜åŒ–]]></title>    <link>https://juejin.cn/post/7572961448537374747</link>    <guid>https://juejin.cn/post/7572961448537374747</guid>    <pubDate>2025-11-17T03:08:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572961448537374747" data-draft-id="7573193563053604905" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€SwiftUI ä»»åŠ¡èº«ä»½ã€‘task(id:) å¦‚ä½•æ­£ç¡®å“åº”ä¾èµ–å˜åŒ–"/> <meta itemprop="keywords" content="Swift"/> <meta itemprop="datePublished" content="2025-11-17T03:08:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="unravel2025"/> <meta itemprop="url" content="https://juejin.cn/user/1116759541421880"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€SwiftUI ä»»åŠ¡èº«ä»½ã€‘task(id:) å¦‚ä½•æ­£ç¡®å“åº”ä¾èµ–å˜åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1116759541421880/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    unravel2025
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T03:08:31.000Z" title="Mon Nov 17 2025 03:08:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    12
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸ºä»€ä¹ˆ <code>.task</code> é»˜è®¤ä¸ä¼šâ€œè·Ÿç€å˜é‡è·‘â€</h2>
<p>åœ¨ UIKit æ—¶ä»£ï¼Œæˆ‘ä»¬æ‰‹åŠ¨ <code>addObserver</code>ã€<code>removeObserver</code>ï¼Œä¸€ä¸å°å¿ƒå°±å¿˜è®°ç§»é™¤ã€‚</p>
<p>SwiftUI å¸¦æ¥äº†â€œè‡ªåŠ¨ä¾èµ–è¿½è¸ªâ€ï¼šåªè¦ <code>body</code> é‡Œè¯»åˆ°çš„ <code>@State</code>ã€<code>@ObservedObject</code> å‘ç”Ÿå˜åŒ–ï¼Œ<code>body</code> ä¼šè¢«é‡æ–°æ±‚å€¼ã€‚</p>
<p>ç„¶è€Œï¼Œè¿™ä¸ªâ€œè‡ªåŠ¨â€ä»…é™äº <code>body</code> çš„æ±‚å€¼æœ¬èº«ï¼Œå¹¶ä¸åŒ…æ‹¬ä½ åœ¨ <code>.task</code>ï¼ˆæˆ– <code>.onAppear</code>ï¼‰é‡Œå†™çš„å¼‚æ­¥é—­åŒ…ã€‚</p>
<p>æ¢å¥è¯è¯´ï¼š<code>.task</code> é—­åŒ…é‡Œç”¨åˆ°çš„ä»»ä½•å˜é‡ï¼Œéƒ½ä¸ä¼šè‡ªåŠ¨æˆä¸ºâ€œé‡æ–°è§¦å‘â€çš„è§¦å‘å™¨ã€‚</p>
<p>å®ƒåªä¼šåœ¨â€œè§†å›¾ç¬¬ä¸€æ¬¡å‡ºç°â€æ—¶è·‘ä¸€æ¬¡ï¼Œä¹‹åå³ä½¿å˜é‡å˜äº†ï¼Œé—­åŒ…ä¹Ÿä¸ä¼šå†æ‰§è¡Œã€‚</p>
<h2 data-id="heading-1">ä¸€ä¸ªâ€œçœ‹ä¼¼æ­£å¸¸â€å´æ°¸è¿œä¸ä¼šåˆ·æ–°çš„ä¾‹å­</h2>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// å›¾ç‰‡åŠ è½½å™¨</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">ImageLoader</span>: <span class="hljs-title class_">View</span> {
    <span class="hljs-keyword">var</span> url: <span class="hljs-type">URL</span>                                    <span class="hljs-comment">// å¤–éƒ¨ä¼ è¿›æ¥çš„ URL</span>
    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> loaded: <span class="hljs-type">NSImage</span>? <span class="hljs-operator">=</span> <span class="hljs-literal">nil</span>       <span class="hljs-comment">// ä¸‹è½½å¥½çš„å›¾ç‰‡</span>
    
    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {
        <span class="hljs-type">ZStack</span> {
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> loaded {
                <span class="hljs-type">Image</span>(nsImage: loaded)               <span class="hljs-comment">// æ˜¾ç¤ºå›¾ç‰‡</span>
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-type">Text</span>(<span class="hljs-string">"Loadingâ€¦"</span>)                     <span class="hljs-comment">// åŠ è½½ä¸­å ä½</span>
            }
        }
        <span class="hljs-comment">// âš ï¸ åªä¼šåœ¨ç¬¬ä¸€æ¬¡å‡ºç°æ—¶æ‰§è¡Œä¸€æ¬¡</span>
        .task {
            <span class="hljs-comment">// å³ä½¿ url åæ¥å˜äº†ï¼Œè¿™é‡Œä¹Ÿä¸ä¼šå†è·‘</span>
            <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> data <span class="hljs-operator">=</span> <span class="hljs-keyword">try?</span> <span class="hljs-keyword">await</span> <span class="hljs-type">URLSession</span>.shared.data(from: url).<span class="hljs-number">0</span> <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> }
            loaded <span class="hljs-operator">=</span> <span class="hljs-type">NSImage</span>(data: data)
        }
    }
}

<span class="hljs-comment">// åœ¨ ContentView é‡Œéšæœºåˆ‡æ¢é«˜åº¦</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {
    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> height <span class="hljs-operator">=</span> <span class="hljs-number">300</span>
    
    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {
        <span class="hljs-type">ImageLoader</span>(url: <span class="hljs-type">URL</span>(string: <span class="hljs-string">"https://picsum.photos/200/<span class="hljs-subst">\(height)</span>"</span>)<span class="hljs-operator">!</span>)
            .onTapGesture {
                height <span class="hljs-operator">=</span> height <span class="hljs-operator">==</span> <span class="hljs-number">300</span> <span class="hljs-operator">?</span> <span class="hljs-number">200</span> : <span class="hljs-number">300</span>   <span class="hljs-comment">// ç‚¹å‡»å URL å·²å˜</span>
            }
    }
}
</code></pre>
<p>è¿è¡Œç»“æœï¼š</p>
<p>ç‚¹å‡»å <code>body</code> ç¡®å®é‡æ–°æ±‚å€¼ï¼Œä½†å›¾ç‰‡ä¸ä¼šé‡æ–°åŠ è½½ï¼Œå› ä¸º <code>.task</code> é—­åŒ…æ²¡å†è·‘ã€‚</p>
<h2 data-id="heading-2">ç»™ä»»åŠ¡ä¸€ä¸ªâ€œèº«ä»½è¯â€â€”â€”<code>task(id:)</code></h2>
<p>æŠŠâ€œä¾èµ–â€æ˜¾å¼åœ°å‘Šè¯‰ SwiftUIï¼šåªè¦ <code>id</code> çš„å€¼å‘ç”Ÿå˜åŒ–ï¼Œæ—§ä»»åŠ¡ä¼šè¢«è‡ªåŠ¨å–æ¶ˆï¼Œæ–°ä»»åŠ¡ä¼šè¢«é‡æ–°åˆ›å»ºã€‚</p>
<pre><code class="hljs language-swift" lang="swift">.task(id: url) {   <span class="hljs-comment">// url å°±æ˜¯èº«ä»½è¯</span>
    <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> data <span class="hljs-operator">=</span> <span class="hljs-keyword">try?</span> <span class="hljs-keyword">await</span> <span class="hljs-type">URLSession</span>.shared.data(from: url).<span class="hljs-number">0</span> <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> }
    loaded <span class="hljs-operator">=</span> <span class="hljs-type">NSImage</span>(data: data)
}
</code></pre>
<p>å°±è¿™ä¹ˆç®€å•ï¼Œå´è§£å†³äº†â€œå˜é‡å˜è€Œä»»åŠ¡ä¸å˜â€çš„ç—›ç‚¹ã€‚</p>
<h2 data-id="heading-3">å¤šä¾èµ–æ€ä¹ˆåŠï¼Ÿâ€”â€”æ„é€ â€œå¤åˆèº«ä»½è¯â€</h2>
<p>å½“ä»»åŠ¡åŒæ—¶ä¾èµ–å¤šä¸ªå€¼æ—¶ï¼Œéœ€è¦æŠŠå®ƒä»¬æ‰“åŒ…æˆä¸€ä¸ªå¯æ¯”è¾ƒï¼ˆEquatableï¼‰ çš„æ•´ä½“ã€‚</p>
<p>æ–¹æ³• 1ï¼šç”¨æ•°ç»„ <code>[AnyHashable]</code></p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ImageLoader</span>: <span class="hljs-title class_">View</span> {
    <span class="hljs-meta">@Environment</span>(\.baseURL) <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> baseURL   <span class="hljs-comment">// ç¯å¢ƒå€¼</span>
    <span class="hljs-keyword">var</span> path: <span class="hljs-type">String</span>                              <span class="hljs-comment">// å¤–éƒ¨å±æ€§</span>
    
    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> loaded: <span class="hljs-type">NSImage</span>? <span class="hljs-operator">=</span> <span class="hljs-literal">nil</span>
    
    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {
        <span class="hljs-type">ZStack</span> {
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> loaded { <span class="hljs-type">Image</span>(nsImage: loaded) }
            <span class="hljs-keyword">else</span> { <span class="hljs-type">Text</span>(<span class="hljs-string">"Loadingâ€¦"</span>) }
        }
        <span class="hljs-comment">// æŠŠä¸¤ä¸ªä¾èµ–ä¸€èµ·æ”¾è¿›æ•°ç»„ï¼Œä½œä¸ºå¤åˆ id</span>
        .task(id: [baseURL, path] <span class="hljs-keyword">as</span> [<span class="hljs-type">AnyHashable</span>]) {
            <span class="hljs-keyword">let</span> url <span class="hljs-operator">=</span> baseURL.appendingPathComponent(path)
            <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> data <span class="hljs-operator">=</span> <span class="hljs-keyword">try?</span> <span class="hljs-keyword">await</span> <span class="hljs-type">URLSession</span>.shared.data(from: url).<span class="hljs-number">0</span> <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> }
            loaded <span class="hljs-operator">=</span> <span class="hljs-type">NSImage</span>(data: data)
        }
    }
}
</code></pre>
<p>æ–¹æ³• 2ï¼šæŠ½æˆä¸€ä¸ªè®¡ç®—å±æ€§ï¼Œåªè¦å±æ€§æœ¬èº« Equatable</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">var</span> fullURL: <span class="hljs-type">URL</span> {
    baseURL.appendingPathComponent(path)
}

.task(id: fullURL) { <span class="hljs-comment">/* ... */</span> }
</code></pre>
<h2 data-id="heading-4">å¦‚æœä½ æ›´å–œæ¬¢ <code>.onAppear</code> é£æ ¼</h2>
<p><code>.task</code> æœ¬è´¨æ˜¯â€œå¸¦ç”Ÿå‘½å‘¨æœŸçš„å¼‚æ­¥é—­åŒ…â€ã€‚</p>
<p>å¦‚æœä½ åªæƒ³ç”¨ <code>.onAppear</code> + <code>.onChange</code>ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨æ¨¡æ‹Ÿï¼š</p>
<pre><code class="hljs language-swift" lang="swift">.onAppear {
    load()          <span class="hljs-comment">// é¦–æ¬¡åŠ è½½</span>
}
.onChange(of: url) { <span class="hljs-keyword">_</span> <span class="hljs-keyword">in</span>
    load()          <span class="hljs-comment">// url å˜åŒ–æ—¶å†åŠ è½½</span>
}

<span class="hljs-keyword">func</span> <span class="hljs-title function_">load</span>() {
    <span class="hljs-type">Task</span> {
        <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> data <span class="hljs-operator">=</span> <span class="hljs-keyword">try?</span> <span class="hljs-keyword">await</span> <span class="hljs-type">URLSession</span>.shared.data(from: url).<span class="hljs-number">0</span> <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> }
        loaded <span class="hljs-operator">=</span> <span class="hljs-type">NSImage</span>(data: data)
    }
}
</code></pre>
<p>ä½†å®˜æ–¹æ›´æ¨èç»Ÿä¸€ç”¨ <code>.task(id:)</code>ï¼Œå› ä¸ºï¼š</p>
<ol>
<li>è‡ªåŠ¨å–æ¶ˆæ—§ä»»åŠ¡ï¼Œé˜²æ­¢ç½‘ç»œå›è°ƒâ€œä¸²å°â€ï¼›</li>
<li>ä»£ç æ›´çŸ­ï¼Œé€»è¾‘é›†ä¸­ã€‚</li>
</ol>
<h2 data-id="heading-5">Apple ä¸ºä½•ä¸åšâ€œå…¨è‡ªåŠ¨â€è¿½è¸ªï¼Ÿ</h2>
<p>SwiftUI å·¥ç¨‹ç»ç† Matt Ricketson åœ¨ Mastodon çš„å›åº”ï¼š</p>
<ol>
<li>è‡ªåŠ¨è¿½è¸ªå‰¯ä½œç”¨é—­åŒ…ï¼Œææ˜“äº§ç”Ÿä¾èµ–ç¯ï¼Œä¸”éš¾ä»¥è°ƒè¯•ï¼›</li>
<li>æœ‰äº›ä»»åŠ¡æœ¬å°±åªæƒ³è·‘ä¸€æ¬¡ï¼Œä¾‹å¦‚ <code>for await</code> æŒç»­ç›‘å¬ï¼›</li>
<li>æœ‰æ—¶è¯»å†™çš„æ˜¯ç¼“å­˜å€¼ï¼Œä¸åº”å‚ä¸è¿½è¸ªï¼›</li>
</ol>
<p>å› æ­¤ï¼ŒæŠŠâ€œå†³å®šæƒâ€äº¤ç»™å¼€å‘è€…ï¼Œæ˜¯æœ€å®‰å…¨ã€æœ€çµæ´»çš„åšæ³•ã€‚</p>
<h2 data-id="heading-6">æ€»ç»“ä¸å®æˆ˜å»ºè®®</h2>
<ol>
<li>
<p>çœ‹åˆ° <code>.task { ... }</code> å…ˆé—®è‡ªå·±ï¼šé—­åŒ…é‡Œç”¨åˆ°äº†å“ªäº›å¤–éƒ¨å˜é‡ï¼Ÿ</p>
<p>åªè¦æœ‰ä¸€ä¸ªå˜é‡å¯èƒ½å˜åŒ–ä¸”å¸Œæœ›ä»»åŠ¡é‡æ–°æ‰§è¡Œï¼Œå°±ç»™å®ƒä¸€ä¸ª <code>id</code>ã€‚</p>
</li>
<li>
<p>å¤šä¾èµ–å°±æ‰“åŒ…æˆä¸€ä¸ª Equatable å€¼ï¼Œåˆ«å†™å¤šä¸ª <code>.task</code>ï¼Œå¦åˆ™é¡ºåºä¸å–æ¶ˆç­–ç•¥ä¼šå˜å¾—ä¸å¯æ§ã€‚</p>
</li>
<li>
<p>å¦‚æœä»»åŠ¡é‡Œéœ€è¦æŒç»­ç›‘å¬ï¼ˆå¦‚ <code>AsyncSequence</code>ï¼‰ï¼Œè®°å¾—åœ¨ <code>task</code> å†…éƒ¨æ‰‹åŠ¨ <code>for await</code>ï¼Œæ­¤æ—¶ <code>id</code> åªç”¨äºâ€œé…ç½®å˜åŒ–æ—¶é‡å¯â€ï¼Œè€Œä¸æ˜¯â€œæ¯æ¡æ¶ˆæ¯éƒ½é‡å¯â€ã€‚</p>
</li>
<li>
<p>ä¸ <code>.refreshable</code>ã€<code>.searchable</code> æ­é…æ—¶ï¼ŒåŒæ ·å¯ä»¥ç”¨ <code>task(id:)</code> å®ç°â€œæœç´¢å…³é”®å­—å˜åŒ–å³é‡æ–°æ‹‰å–â€ã€‚</p>
</li>
<li>
<p>å•å…ƒæµ‹è¯•ï¼š</p>
<p>ç”¨ <code>ViewInspector</code> ä¹‹ç±»çš„æ¡†æ¶ï¼Œå¯ä»¥ç›´æ¥æ–­è¨€ <code>task(id:)</code> çš„ Equatable å€¼ï¼Œç¡®ä¿ä¾èµ–ç»„åˆæ­£ç¡®ã€‚</p>
</li>
</ol>
<h2 data-id="heading-7">æ‰©å±•åœºæ™¯ï¼šæœç´¢ + åˆ†é¡µ + è‡ªåŠ¨å–æ¶ˆ</h2>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">SearchResultView</span>: <span class="hljs-title class_">View</span> {
    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> keyword <span class="hljs-operator">=</span> <span class="hljs-string">""</span>
    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> page <span class="hljs-operator">=</span> <span class="hljs-number">1</span>
    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> items: [<span class="hljs-type">Item</span>] <span class="hljs-operator">=</span> []
    
    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {
        <span class="hljs-type">List</span>(items) { item <span class="hljs-keyword">in</span>
            <span class="hljs-type">Text</span>(item.title)
        }
        .searchable(text: <span class="hljs-variable">$keyword</span>)
        .task(id: compoundID) {           <span class="hljs-comment">// å…³é”®å­—æˆ–é¡µç ä»»ä¸€å˜åŒ–éƒ½é‡æ–°æŠ“å–</span>
            <span class="hljs-keyword">let</span> newItems <span class="hljs-operator">=</span> <span class="hljs-keyword">await</span> <span class="hljs-type">API</span>.search(keyword: keyword, page: page)
            items <span class="hljs-operator">=</span> page <span class="hljs-operator">==</span> <span class="hljs-number">1</span> <span class="hljs-operator">?</span> newItems : items <span class="hljs-operator">+</span> newItems  <span class="hljs-comment">// åˆ†é¡µæ‹¼æ¥</span>
        }
        .onTapGesture {
            page <span class="hljs-operator">+=</span> <span class="hljs-number">1</span>                       <span class="hljs-comment">// ç‚¹å‡»åŠ è½½ä¸‹ä¸€é¡µ</span>
        }
    }
    
    <span class="hljs-comment">// å¤åˆèº«ä»½è¯ï¼šæœç´¢è¯ + é¡µç </span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> compoundID: [<span class="hljs-type">AnyHashable</span>] {
        [keyword, page]
    }
}
</code></pre>
<p>å¥½å¤„ï¼š</p>
<ul>
<li>ç”¨æˆ·å¿«é€Ÿè¾“å…¥å…³é”®è¯æ—¶ï¼Œæ—§è¯·æ±‚ä¼šè¢«è‡ªåŠ¨å–æ¶ˆï¼Œé¿å…â€œå…ˆå‘å‡ºçš„è¯·æ±‚åè¿”å›â€å¯¼è‡´åˆ—è¡¨é”™ä¹±ï¼›</li>
<li>é¡µç å˜åŒ–ä¹Ÿèƒ½è‡ªåŠ¨ç»­è½½ï¼Œé€»è¾‘ç»Ÿä¸€åœ¨ä¸€å¤„ã€‚</li>
</ul>
<h2 data-id="heading-8">ä¸€å¥è¯æ”¶æŸ</h2>
<p><code>.task(id:)</code> å°±æ˜¯ SwiftUI ä¸–ç•Œçš„ <code>useEffect(callback, [dep1, dep2])</code>â€”â€”</p>
<p>æŠŠâ€œä¾èµ–æ•°ç»„â€æ˜¾å¼åœ°å†™åœ¨ä»£ç é‡Œï¼Œæ‰èƒ½è®©å‰¯ä½œç”¨çœŸæ­£éšä¾èµ–è€Œèˆï¼Œè€Œä¸æ˜¯â€œè·‘äº†ä¸€æ¬¡å°±èººå¹³â€ã€‚</p>
<p>è®°ä½ï¼šä»»åŠ¡ä¹Ÿæœ‰èº«ä»½ï¼Œä¾èµ–å˜åŒ–å°±æ¢èº«ä»½è¯ã€‚</p>
<h2 data-id="heading-9">å­¦ä¹ æ–‡ç« </h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fchris.eidhof.nl%2Fpost%2Fswiftui-task-identity%2F" target="_blank" title="https://chris.eidhof.nl/post/swiftui-task-identity/" ref="nofollow noopener noreferrer">chris.eidhof.nl/post/swiftuâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>