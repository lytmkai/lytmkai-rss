<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[å¤§æ•°æ®-208 å²­å›å½’ä¸Lassoå›å½’ï¼šåŒºåˆ«ã€åº”ç”¨ä¸é€‰æ‹©æŒ‡å—]]></title>    <link>https://juejin.cn/post/7593338828195938344</link>    <guid>https://juejin.cn/post/7593338828195938344</guid>    <pubDate>2026-01-10T01:17:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593338828195938344" data-draft-id="7593338828195921960" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ•°æ®-208 å²­å›å½’ä¸Lassoå›å½’ï¼šåŒºåˆ«ã€åº”ç”¨ä¸é€‰æ‹©æŒ‡å—"/> <meta itemprop="keywords" content="åç«¯,å¤§æ•°æ®,æœºå™¨å­¦ä¹ "/> <meta itemprop="datePublished" content="2026-01-10T01:17:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ­¦å­åº·"/> <meta itemprop="url" content="https://juejin.cn/user/149189314230039"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ•°æ®-208 å²­å›å½’ä¸Lassoå›å½’ï¼šåŒºåˆ«ã€åº”ç”¨ä¸é€‰æ‹©æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/149189314230039/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ­¦å­åº·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-10T01:17:59.000Z" title="Sat Jan 10 2026 01:17:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">TL;DR</h2>
<ul>
<li>åœºæ™¯ï¼šè§£å†³å¤šé‡å…±çº¿æ€§ä¸è¿‡æ‹Ÿåˆé—®é¢˜</li>
<li>ç»“è®ºï¼šå²­å›å½’é€‚åˆé«˜åº¦ç›¸å…³ç‰¹å¾ï¼ŒLassoå›å½’é€‚åˆç‰¹å¾é€‰æ‹©</li>
<li>äº§å‡ºï¼šåº”ç”¨åœºæ™¯ä¸æ­£åˆ™åŒ–å‚æ•°Î»é€‰æ‹©æŒ‡å¯¼</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/530550724ede48d39350b13ca85cb640~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768612678&amp;x-signature=IkAuZPHuLipefWOX4gPE%2F37aybQ%3D" alt="å¤§æ•°æ®-208 å²­å›å½’ä¸Lassoå›å½’ï¼šåŒºåˆ«ã€åº”ç”¨ä¸é€‰æ‹©æŒ‡å—" loading="lazy"/></p>
<h2 data-id="heading-1">ç‰ˆæœ¬çŸ©é˜µ</h2>

























<table><thead><tr><th>ç‰ˆæœ¬</th><th>å·²éªŒè¯</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Ridge Regression (L2)</td><td>å·²éªŒè¯</td><td>é€‚ç”¨äºé«˜ç›¸å…³ç‰¹å¾çš„åœºæ™¯ï¼Œä¿æŒæ‰€æœ‰ç‰¹å¾ä½†å‹ç¼©ç³»æ•°</td></tr><tr><td>Lasso Regression (L1)</td><td>å·²éªŒè¯</td><td>é€‚åˆé«˜ç»´æ•°æ®å’Œç‰¹å¾é€‰æ‹©ï¼Œèƒ½å°†éƒ¨åˆ†ç³»æ•°å‹ç¼©ä¸ºé›¶</td></tr><tr><td>Elastic Net</td><td>å·²éªŒè¯</td><td>ç»“åˆL1å’ŒL2æ­£åˆ™åŒ–çš„ä¼˜åŠ¿ï¼Œé€‚åˆç»¼åˆåœºæ™¯</td></tr></tbody></table>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/58382cac6aec4306ab50d1e232c99d11~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768612678&amp;x-signature=vtkckM%2Bnyw7yFR9yiiigi7i58%2BA%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-2">å²­å›å½’å’ŒLasso</h2>
<p>å²­å›å½’ï¼ˆRidge Regressionï¼‰å’ŒLassoï¼ˆLeast Absolute Shrinkage and Selection Operatorï¼‰æ˜¯ä¸¤ç§ç»å…¸çš„çº¿æ€§å›å½’æ­£åˆ™åŒ–æ–¹æ³•ï¼Œä¸“é—¨ç”¨äºè§£å†³æœºå™¨å­¦ä¹ ä¸­çš„è¿‡æ‹Ÿåˆé—®é¢˜å’Œå¤šé‡å…±çº¿æ€§é—®é¢˜ã€‚è¿™ä¸¤ç§æ–¹æ³•çš„æ ¸å¿ƒæ€æƒ³éƒ½æ˜¯åœ¨æ™®é€šæœ€å°äºŒä¹˜æ³•ï¼ˆOLSï¼‰çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡å¼•å…¥ä¸åŒçš„æ­£åˆ™åŒ–é¡¹æ¥çº¦æŸæ¨¡å‹å‚æ•°ã€‚</p>
<ol>
<li>å²­å›å½’ï¼ˆL2æ­£åˆ™åŒ–ï¼‰ï¼š</li>
</ol>
<ul>
<li>æ·»åŠ L2èŒƒæ•°æƒ©ç½šé¡¹ï¼šåœ¨æŸå¤±å‡½æ•°ä¸­åŠ å…¥å›å½’ç³»æ•°å¹³æ–¹å’Œçš„æƒ©ç½šé¡¹ï¼ˆÎ»âˆ‘Î²Â²ï¼‰</li>
<li>ç‰¹ç‚¹ï¼šæ‰€æœ‰ç‰¹å¾éƒ½ä¼šè¢«ä¿ç•™ï¼Œä½†ç³»æ•°ä¼šè¢«å‹ç¼©</li>
<li>é€‚ç”¨åœºæ™¯ï¼šå½“ç‰¹å¾ä¹‹é—´å­˜åœ¨é«˜åº¦ç›¸å…³æ€§æ—¶ï¼ˆå¦‚åŸºå› è¡¨è¾¾æ•°æ®ï¼‰</li>
<li>æ•°å­¦è¡¨è¾¾å¼ï¼šmin(âˆ‘(y_i - Å·_i)Â² + Î»âˆ‘Î²_jÂ²)</li>
</ul>
<ol start="2">
<li>Lassoå›å½’ï¼ˆL1æ­£åˆ™åŒ–ï¼‰ï¼š</li>
</ol>
<ul>
<li>æ·»åŠ L1èŒƒæ•°æƒ©ç½šé¡¹ï¼šåœ¨æŸå¤±å‡½æ•°ä¸­åŠ å…¥å›å½’ç³»æ•°ç»å¯¹å€¼çš„æƒ©ç½šé¡¹ï¼ˆÎ»âˆ‘|Î²|ï¼‰</li>
<li>ç‰¹ç‚¹ï¼šå¯ä»¥å®ç°ç‰¹å¾é€‰æ‹©ï¼Œéƒ¨åˆ†ç³»æ•°ä¼šè¢«å‹ç¼©ä¸ºé›¶</li>
<li>é€‚ç”¨åœºæ™¯ï¼šå½“ç‰¹å¾ç»´åº¦å¾ˆé«˜ä¸”éœ€è¦ç‰¹å¾é€‰æ‹©æ—¶ï¼ˆå¦‚æ–‡æœ¬åˆ†ç±»ï¼‰</li>
<li>æ•°å­¦è¡¨è¾¾å¼ï¼šmin(âˆ‘(y_i - Å·_i)Â² + Î»âˆ‘|Î²_j|)</li>
</ul>
<p>å®é™…åº”ç”¨ä¸­çš„å…¸å‹åœºæ™¯ï¼š</p>
<ul>
<li>æˆ¿ä»·é¢„æµ‹ï¼šå½“æˆ¿å±‹ç‰¹å¾ï¼ˆé¢ç§¯ã€æˆ¿é—´æ•°ã€åœ°ç†ä½ç½®ç­‰ï¼‰å­˜åœ¨å¤šé‡å…±çº¿æ€§æ—¶</li>
<li>åŸºå› æ•°æ®åˆ†æï¼šå¤„ç†æˆåƒä¸Šä¸‡ä¸ªåŸºå› è¡¨è¾¾æ•°æ®æ—¶</li>
<li>é‡‘èé£æ§ï¼šä»æ•°ç™¾ä¸ªè´¢åŠ¡æŒ‡æ ‡ä¸­ç­›é€‰å…³é”®é£é™©å› å­</li>
</ul>
<p>è¿™ä¸¤ç§æ–¹æ³•çš„åŒºåˆ«ä¸»è¦ä½“ç°åœ¨ï¼š</p>
<ol>
<li>å²­å›å½’ä¼šä½¿æ‰€æœ‰ç³»æ•°éƒ½ç¼©å°ä½†ä¸ä¸ºé›¶ï¼Œé€‚åˆä¿ç•™æ‰€æœ‰ç‰¹å¾çš„æƒ…å†µ</li>
<li>Lassoä¼šä½¿å¾—éƒ¨åˆ†ç³»æ•°å˜ä¸ºé›¶ï¼Œå®ç°ç‰¹å¾é€‰æ‹©</li>
<li>å¼¹æ€§ç½‘ç»œï¼ˆElastic Netï¼‰ç»“åˆäº†ä¸¤è€…çš„ä¼˜ç‚¹ï¼ŒåŒæ—¶ä½¿ç”¨L1å’ŒL2æ­£åˆ™åŒ–</li>
</ol>
<p>é€‰æ‹©å»ºè®®ï¼š</p>
<ul>
<li>å½“é¢„æµ‹æ€§èƒ½æ¯”å¯è§£é‡Šæ€§æ›´é‡è¦æ—¶ï¼Œé€‰æ‹©å²­å›å½’</li>
<li>å½“éœ€è¦ç‰¹å¾é€‰æ‹©å’Œæ¨¡å‹å¯è§£é‡Šæ€§æ—¶ï¼Œé€‰æ‹©Lasso</li>
<li>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œé€šå¸¸éœ€è¦é€šè¿‡äº¤å‰éªŒè¯æ¥ç¡®å®šæœ€ä½³çš„æ­£åˆ™åŒ–å‚æ•°Î»</li>
</ul>
<h3 data-id="heading-3">å²­å›å½’çš„åŸç†</h3>
<p>å²­å›å½’æ˜¯åœ¨æ™®é€šçº¿æ€§å›å½’çš„åŸºç¡€ä¸ŠåŠ å…¥äº†L2æ­£åˆ™åŒ–é¡¹ï¼Œä½¿å¾—æ¨¡å‹æ›´é²æ£’ã€‚å…·ä½“æ¥è¯´ï¼Œå²­å›å½’çš„æŸå¤±å‡½æ•°æ˜¯æ™®é€šæœ€å°äºŒä¹˜æ³•çš„æŸå¤±å‡½æ•°ä¸ä¸€ä¸ªL2æ­£åˆ™åŒ–é¡¹ä¹‹å’Œã€‚è¯¥æ­£åˆ™åŒ–é¡¹æ˜¯å›å½’ç³»æ•°çš„å¹³æ–¹å’Œå¯ä»¥åœ¨æå°åŒ–æŸå¤±çš„åŒæ—¶ï¼Œçº¦æŸå›å½’ç³»æ•°çš„å¤§å°ï¼Œé¿å…å…¶è¿‡å¤§ä»è€Œå¯¼è‡´æ¨¡å‹è¿‡æ‹Ÿåˆã€‚</p>
<h3 data-id="heading-4">Lassoå›å½’çš„åŸç†</h3>
<p>Lassoå›å½’ï¼ˆLeast Absolute Shrinkage and Selection Operatorï¼‰ä¸å²­å›å½’ï¼ˆRidge Regressionï¼‰éƒ½æ˜¯çº¿æ€§å›å½’çš„æ­£åˆ™åŒ–å˜ä½“ï¼Œä½†å®ƒä»¬åœ¨æ­£åˆ™åŒ–æ–¹å¼ä¸Šå­˜åœ¨æ˜¾è‘—å·®å¼‚ï¼š</p>
<ol>
<li>æ­£åˆ™åŒ–é¡¹ç±»å‹ï¼š</li>
</ol>
<ul>
<li>Lassoå›å½’é‡‡ç”¨L1æ­£åˆ™åŒ–ï¼Œå³å¯¹ç³»æ•°ç»å¯¹å€¼ä¹‹å’Œè¿›è¡Œæƒ©ç½šï¼šÎ»Î£|Î²_j|</li>
<li>å²­å›å½’é‡‡ç”¨L2æ­£åˆ™åŒ–ï¼Œå³å¯¹ç³»æ•°å¹³æ–¹å’Œè¿›è¡Œæƒ©ç½šï¼šÎ»Î£Î²_jÂ²</li>
</ul>
<ol start="2">
<li>ç‰¹å¾é€‰æ‹©èƒ½åŠ›ï¼š</li>
</ol>
<ul>
<li>Lassoçš„L1æƒ©ç½šä¼šå¯¼è‡´æŸäº›ç³»æ•°å®Œå…¨æ”¶ç¼©ä¸ºé›¶ï¼Œå®ç°è‡ªåŠ¨ç‰¹å¾é€‰æ‹©</li>
<li>å²­å›å½’çš„L2æƒ©ç½šä¼šä½¿æ‰€æœ‰ç³»æ•°éƒ½è¶‹å‘äºå˜å°ï¼Œä½†ä¸ä¼šå®Œå…¨å½’é›¶</li>
</ul>
<ol start="3">
<li>æ•°å­¦ç‰¹æ€§å·®å¼‚ï¼š</li>
</ol>
<ul>
<li>Lassoçš„è§£åœ¨å‡ ä½•ä¸Šå¯¹åº”è±å½¢çº¦æŸåŒºåŸŸé¡¶ç‚¹</li>
<li>å²­å›å½’çš„è§£å¯¹åº”åœ†å½¢çº¦æŸåŒºåŸŸ</li>
</ul>
<ol start="4">
<li>é€‚ç”¨åœºæ™¯å¯¹æ¯”ï¼š</li>
</ol>
<ul>
<li>å½“ç‰¹å¾æ•°é‡è¿œå¤§äºæ ·æœ¬é‡æ—¶ï¼ˆp&gt;&gt;nï¼‰ï¼ŒLassoé€šå¸¸è¡¨ç°æ›´å¥½</li>
<li>å½“å­˜åœ¨é«˜åº¦ç›¸å…³ç‰¹å¾æ—¶ï¼Œå²­å›å½’å¾€å¾€æ›´ç¨³å®š</li>
</ul>
<ol start="5">
<li>
<p>å®é™…åº”ç”¨ç¤ºä¾‹ï¼š
åœ¨åŸºå› è¡¨è¾¾æ•°æ®åˆ†æä¸­ï¼ˆé€šå¸¸æœ‰æ•°ä¸‡ä¸ªåŸºå› ç‰¹å¾ï¼‰ï¼ŒLassoèƒ½æœ‰æ•ˆè¯†åˆ«å‡ºå°‘æ•°å…³é”®åŸºå› ï¼›è€Œåœ¨ç»æµå­¦æ—¶é—´åºåˆ—é¢„æµ‹ä¸­ï¼ˆç‰¹å¾é—´é«˜åº¦ç›¸å…³ï¼‰ï¼Œå²­å›å½’èƒ½æä¾›æ›´ç¨³å¥çš„é¢„æµ‹ã€‚</p>
</li>
<li>
<p>å‚æ•°é€‰æ‹©ï¼š
ä¸¤ç§æ–¹æ³•éƒ½éœ€è¦é€šè¿‡äº¤å‰éªŒè¯ç¡®å®šæœ€ä¼˜æ­£åˆ™åŒ–å‚æ•°Î»ï¼Œä½†Lassoçš„Î»é€šå¸¸éœ€è¦æ›´ç²¾ç»†çš„ç½‘æ ¼æœç´¢æ¥æ•æ‰ç‰¹å¾é€‰æ‹©çš„å…³é”®é˜ˆå€¼ã€‚</p>
</li>
</ol>
<p>æ³¨æ„ï¼šåœ¨å®è·µä¸­ï¼ŒElastic Netï¼ˆç»“åˆL1å’ŒL2æ­£åˆ™åŒ–ï¼‰å¸¸è¢«ç”¨ä½œæŠ˜ä¸­æ–¹æ¡ˆï¼Œå…¼å…·ä¸¤ç§æ–¹æ³•çš„ä¼˜åŠ¿ã€‚</p>
<h3 data-id="heading-5">è§£å†³æ–¹å¼</h3>
<p>è§£å†³å…±çº¿æ€§çš„é—®é¢˜çš„æ–¹æ³•ä¸»è¦æœ‰ä»¥ä¸‹ä¸‰ç§ï¼š</p>
<ul>
<li>å…¶ä¸€æ˜¯åœ¨å»ºæ¨¡ä¹‹å‰å¯¹å„ç‰¹å¾è¿›è¡Œç›¸å…³æ€§æ£€éªŒï¼Œè‹¥å­˜åœ¨å¤šé‡å…±çº¿æ€§ï¼Œåˆ™å¯ä»¥è€ƒè™‘è¿›ä¸€æ­¥å¯¹æ•°æ®é›†è¿›è¡Œ SVD åˆ†è§£æˆ– PCA ä¸»æˆåˆ†åˆ†æï¼Œåœ¨ SVD æˆ– PCA æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ä¼šå¯¹æ•°æ®é›†è¿›è¡Œæ­£äº¤äº¤æ¢ï¼Œæœ€ç»ˆæ‰€å¾—æ•°æ®é›†å„åˆ—å°†ä¸å­˜åœ¨ä»»åŠ¡ä»»ä½•ç›¸å…³æ€§ã€‚å½“ç„¶æ­¤ä¸¾ä¼šå¯¹æ•°æ®é›†çš„ç»“æ„è¿›è¡Œæ”¹å˜ï¼Œä¸”å„åˆ—ç‰¹å¾å˜å¾—ä¸å¯è§£é‡Šã€‚</li>
<li>å…¶äºŒåˆ™æ˜¯é‡‡ç”¨é€æ­¥å›å½’çš„æ–¹æ³•ï¼Œä»¥æ­¤é€‰å–å¯¹å› å˜é‡è§£é‡ŠåŠ›åº¦æœ€å¼ºçš„è‡ªå˜é‡ï¼ŒåŒæ—¶å¯¹äºå­˜åœ¨ç›¸å…³æ€§çš„è‡ªå˜é‡åŠ ä¸Šä¸€ä¸ªæƒ©ç½šå› å­ï¼Œå‰Šå¼±å…¶å¯¹å› å˜é‡çš„è§£é‡ŠåŠ›åº¦ï¼Œå½“ç„¶è¯¥æ–¹æ³•ä¸èƒ½å®Œå…¨é¿å…å¤šé‡å…±çº¿æ€§çš„å­˜åœ¨ï¼Œä½†èƒ½å¤Ÿç»•è¿‡æœ€å°äºŒä¹˜æ³•å¯¹å…±çº¿æ€§è¾ƒä¸ºæ•æ„Ÿçš„ç¼ºé™·ï¼Œæ„å»ºçº¿æ€§å›å½’æ¨¡å‹ã€‚</li>
<li>å…¶ä¸‰åˆ™æ˜¯åœ¨åŸæœ‰ç®—æ³•åŸºç¡€ä¸Šè¿›è¡Œä¿®æ”¹ï¼Œæ”¾å¼ƒå¯¹çº¿æ€§æ–¹ç¨‹å‚æ•°æ— åä¼°è®¡çš„è‹›åˆ»æ¡ä»¶ï¼Œä½¿å…¶èƒ½å¤Ÿå®¹å¿ç‰¹å¾åˆ—å­˜åœ¨å¤šé‡å…±çº¿æ€§çš„æƒ…å†µï¼Œå¹¶ä¸”èƒ½å¤Ÿé¡ºåˆ©å»ºæ¨¡ï¼Œä¸”å°½å¯èƒ½çš„ä¿è¯ SSE å–å¾—æœ€å°å€¼ã€‚</li>
</ul>
<p>é€šå¸¸æ¥è¯´ï¼Œèƒ½å¤Ÿåˆ©ç”¨ä¸€ä¸ªç®—æ³•è§£å†³çš„é—®é¢˜å°½é‡ä¸ç”¨å¤šä¸ªç®—çš„ç»„åˆæ¥è§£å†³ï¼Œå› æ­¤æ­¤å¤„æˆ‘ä»¬ä¸»è¦è€ƒè™‘åä¸¤ä¸ªæ–¹æ¡ˆï¼Œå…¶ä¸­é€æ­¥å›å½’æˆ‘ä»¬å°†æ”¾åœ¨çº¿æ€§å›å½’çš„æœ€åä¸€éƒ¨åˆ†è¿›è¡Œè®²è§£ï¼Œè€Œç¬¬ä¸‰ä¸ªè§£å†³æ–¹æ¡ˆï¼Œåˆ™æ˜¯æˆ‘ä»¬æ¥ä¸‹æ¥éœ€è¦è¯¦ç»†è®¨è®ºçš„å²­å›å½’ç®—æ³•å’Œ Lasso ç®—æ³•ã€‚</p>
<p>å²­å›å½’å’ŒLassoå›å½’åœ¨åŠ å…¥æ­£åˆ™åŒ–é¡¹çš„æ–¹å¼ä¸Šæœ‰æ‰€ä¸åŒï¼Œä»è€Œå½±å“æ¨¡å‹çš„é€‰æ‹©å’Œåº”ç”¨ã€‚å²­å›å½’æ›´é€‚åˆç”¨äºé¿å…ç³»æ•°è¿‡å¤§è€Œå¯¼è‡´çš„è¿‡æ‹Ÿåˆï¼Œè€ŒLassoåœ¨ç‰¹å¾é€‰æ‹©æ–¹é¢æ›´æœ‰ä¼˜åŠ¿ï¼Œå› æ­¤é€šå¸¸åœ¨é«˜ç»´æ•°æ®ä¸­è¡¨ç°æ›´ä½³ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå¯ä»¥é€šè¿‡äº¤å‰éªŒè¯æ¥é€‰æ‹©æœ€é€‚åˆçš„æ­£åˆ™åŒ–å‚æ•°å¹¶åœ¨å²­å›å½’å’ŒLassoä¹‹é—´åšå‡ºé€‰æ‹©ï¼Œæˆ–è€…ç»“åˆä¸¤è€…ï¼ˆElastic Netï¼‰ä»¥è·å¾—æ›´å¥½çš„æ¨¡å‹æ•ˆæœã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a5cfb546c1f24098a2ca4efb54d5ab79~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768612678&amp;x-signature=RyUswzqnC6oBASgeyUnlKkcHsMQ%3D" alt="å¯¹æ¯” å²­å›å½’ Lasso" loading="lazy"/></p>
<h3 data-id="heading-6">å²­å›å½’</h3>
<h4 data-id="heading-7">åŸºæœ¬åŸç†</h4>
<p>å²­å›å½’ç®—æ³•å®é™…ä¸Šæ˜¯é’ˆå¯¹çº¿æ€§å›å½’ç®—æ³•å±€é™æ€§çš„ä¸€ä¸ªæ”¹è¿›ç±»ç®—æ³•ï¼Œä¼˜åŒ–ç›®çš„æ˜¯è§£å†³ç³»æ•°çŸ©é˜µXTXä¸å¯é€†çš„é—®é¢˜ï¼Œå®¢è§‚ä¸ŠåŒæ—¶ä¹Ÿèµ·åˆ°äº†å…‹æœæ•°æ®é›†å­˜åœ¨å¤šé‡å…±çº¿æ€§çš„æƒ…å†µï¼Œè€Œå²­å›å½’çš„åšæ³•ä¹Ÿéå¸¸ç®€å•ï¼Œå°±æ˜¯åœ¨åŸæ–¹ç¨‹ç³»æ•°è®¡ç®—å…¬å¼ä¸­æ·»åŠ äº†ä¸€ä¸ªæ‰°åŠ¨é¡¹ï¼ŒåŸå…ˆæ— æ³•æ±‚å¹¿ä¹‰é€†çš„æƒ…å†µå˜æˆäº†æ±‚å‡ºå…¶å¹¿ä¹‰é€†ï¼Œä½¿å¾—é—®é¢˜ç¨³å®šå¹¶å¾—ä»¥æ±‚è§£ã€‚
å²­å›å½’åœ¨å¤šå…ƒçº¿æ€§å›å½’çš„æŸå¤±å‡½æ•°ä¸ŠåŠ ä¸Šäº†æ­£åˆ™é¡¹ï¼Œè¡¨è¾¾ä¸ºç³»æ•° w çš„ L2 èŒƒå¼ï¼ˆå³ç³»æ•° w çš„å¹³æ–¹é¡¹ï¼‰ä¹˜ä»¥æ­£åˆ™åŒ–ç³»æ•° Î»ï¼Œå²­å›å½’çš„æŸå¤±å‡½æ•°çš„å®Œæ•´è¡¨è¾¾å¼å†™ä½œï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f20ec80dcdb8477abeaccd35e7dad630~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768612678&amp;x-signature=ab1rU83C9W%2BQVWb1LGyEDYm4Ulk%3D" alt="å²­å›å½’å…¬å¼" loading="lazy"/>
æˆ‘ä»¬ä»ç„¶å¯ä»¥ä½¿ç”¨æœ€å°äºŒä¹˜æ³•æ±‚è§£ï¼Œå¯å¾—ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/244e87a046de4a64bd1bc4448b693549~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768612678&amp;x-signature=UIjaIdoot9iSwKgWOT%2Bl9qdBXL8%3D" alt="å²­å›å½’å…¬å¼" loading="lazy"/>
æ­¤ä¸¾çœ‹ä¼¼ç®€å•ï¼Œå®åˆ™éå¸¸ç²¾å¦™ï¼Œç”¨ä¸€ä¸ªæ»¡ç§©çš„å¯¹è§’çŸ©é˜µå’ŒåŸç³»æ•°çŸ©é˜µè®¡ç®—è¿›è¡Œç›¸åŠ çš„ï¼Œå®é™…ä¸Šèµ·åˆ°äº†ä¸¤ä¸ªä½œç”¨ï¼Œå…¶ä¸€æ˜¯ä½¿å¾—æœ€ç»ˆè¿ç®—ç»“æœï¼ˆXTX + Î»Iï¼‰æ»¡ç§©ï¼Œå³é™ä½äº†åŸæ•°æ®é›†ç‰¹å¾åˆ—çš„å…±çº¿æ€§å½±å“ï¼Œå…¶äºŒä¹Ÿç›¸å½“äºå¯¹æ‰€æœ‰çš„ç‰¹å¾åˆ—çš„å› å˜é‡è§£é‡Šç¨‹åº¦è¿›è¡Œäº†æƒ©ç½šï¼Œä¸”Î»è¶Šå¤§æƒ©ç½šä½œç”¨è¶Šå¼ºã€‚</p>
<p>ç°åœ¨ï¼Œåªè¦ï¼ˆXTX + Î»Iï¼‰å­˜åœ¨é€†çŸ©é˜µï¼Œæˆ‘ä»¬å°±å¯ä»¥æ±‚è§£ã€‚ä¸€ä¸ªçŸ©é˜µå­˜åœ¨é€†çŸ©é˜µçš„å……åˆ†å¿…è¦æ¡ä»¶æ˜¯è¿™ä¸ªçŸ©é˜µçš„è¡Œåˆ—å¼ä¸ä¸º0ã€‚å‡è®¾åŸæœ¬çš„ç‰¹å¾çŸ©é˜µä¸­å­˜åœ¨å…±çº¿æ€§ï¼Œåˆ™æˆ‘ä»¬çš„æ–¹é˜µ XTX å°±ä¼šä¸æ»¡ç§©ï¼ˆå­˜åœ¨å®Œå…¨ä¸ºé›¶çš„è¡Œï¼‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3adca07cfd1f43dc8aa33dba2718e05d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768612678&amp;x-signature=BTL9MrkFCXvSeeJmpNbCALi5uo4%3D" alt="å²­å›å½’å…¬å¼" loading="lazy"/></p>
<p>æ­¤æ—¶æ–¹é˜µ XTX å°±æ˜¯æ²¡æœ‰é€†çš„ï¼Œæœ€å°äºŒä¹˜æ³•å°±æ— æ³•ä½¿ç”¨ï¼ŒåŠ ä¸Šäº†Î»I ä¹‹åï¼Œæˆ‘ä»¬çš„çŸ©é˜µå°±å¤§ä¸ä¸€æ ·äº†ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bfba3e4aa1194494bd4b813e92536a30~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768612678&amp;x-signature=uBZqrlTYKRKxMU5r0GtEMCCP0w0%3D" alt="å²­å›å½’å…¬å¼" loading="lazy"/>
æœ€åå¾—åˆ°çš„è¡Œåˆ—å¼è¿˜æ˜¯ä¸€ä¸ªæ¢¯å½¢è¡Œåˆ—å¼ï¼Œç„¶è€Œå®ƒå·²ç»ä¸å­˜åœ¨å…¨ 0 è¡Œæˆ–è€…å…¨ 0 åˆ—äº†ï¼Œé™¤éï¼š</p>
<ul>
<li>Î» ç­‰äº 0</li>
<li>åŸæœ¬çš„çŸ©é˜µ XTXä¸­å­˜åœ¨å¯¹ç„¦çº¿ä¸Šå…ƒç´ ä¸º -Î»ï¼Œå…¶ä»–å…ƒç´ éƒ½ä¸º0 çš„è¡Œæˆ–è€…åˆ—</li>
</ul>
<p>å¦åˆ™çŸ©é˜µ XTX+Î»I æ°¸è¿œéƒ½æ˜¯æ»¡ç§©ï¼Œåœ¨ sklearn ä¸­ï¼ŒÎ»çš„å€¼æˆ‘ä»¬å¯ä»¥è‡ªç”±çš„æ§åˆ¶ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥è®©å®ƒä¸ä¸º 0ï¼Œæ¯”é¿å…ç¬¬ä¸€ç§æƒ…å†µã€‚è€Œç¬¬äºŒç§æƒ…å†µï¼Œå¦‚æœæˆ‘ä»¬å‘ç°æŸä¸ªÎ»çš„å–å€¼ä¸‹æ¨¡å‹æ— æ³•æ±‚è§£ï¼Œé‚£æˆ‘ä»¬åªéœ€è¦æ›´æ¢ä¸€ä¸ªÎ»çš„å–å€¼å°±å¥½äº†ï¼Œä¹Ÿå¯ä»¥é¡ºåˆ©é¿å…ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒçŸ©é˜µçš„é€†æ°¸è¿œå­˜åœ¨ï¼Œæœ‰è¿™ä¸ªä¿éšœï¼Œæˆ‘ä»¬çš„ w å°±å¯ä»¥å†™ä½œï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/59c97df5f94a466aabf2c68e238b23fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768612678&amp;x-signature=1vw7zBqhAYqVwnONZTlAasVc4a4%3D" alt="å²­å›å½’å…¬å¼" loading="lazy"/>
å¦‚æ­¤ï¼Œæ­£åˆ™åŒ–ç³»æ•°Î»å°±é¿å…äº†ç²¾ç¡®ç›¸å…³å…³ç³»å¸¦æ¥çš„å½±å“ï¼Œè‡³å°‘æœ€å°äºŒä¹˜æ³•åœ¨Î»å­˜åœ¨çš„æƒ…å†µä¸‹æ˜¯ä¸€å®šå¯ä»¥ä½¿ç”¨ã€‚å¯¹äºå­˜åœ¨é«˜åº¦ç›¸å…³å…³ç³»çš„çŸ©é˜µï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡è°ƒå¤§Î»ï¼Œæ¥è®© XTX+Î»I çŸ©é˜µçš„è¡Œåˆ—å¼å˜å¤§ï¼Œä»è€Œè®©é€†çŸ©é˜µå˜å°ï¼Œä»¥æ­¤æ§åˆ¶å‚æ•°å‘é‡ w çš„åç§»ã€‚å½“Î»è¶Šå¤§ï¼Œæ¨¡å‹è¶Šä¸å®¹æ˜“å—åˆ°å…±çº¿æ€§çš„å½±å“ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e7718dab865e4849bb8bed996bd6ef2d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768612678&amp;x-signature=SjiHQqqTZAtKiIb0TKE5ADS%2B32k%3D" alt="å²­å›å½’å…¬å¼" loading="lazy"/></p>
<h3 data-id="heading-8">Lasso</h3>
<h4 data-id="heading-9">åŸºæœ¬åŸç†</h4>
<p>åœ¨å²­å›å½’ä¸­ï¼Œå¯¹è‡ªå˜é‡ç³»æ•°è¿›è¡Œå¹³æ–¹å’Œå¤„ç†ä¹Ÿè¢«ç§°åš L2 æ­£åˆ™åŒ–ï¼Œç”±äºæ­¤åŸå› ï¼Œå²­å›å½’ä¸­è‡ªå˜é‡ç³»æ•°è™½ç„¶ä¼šå¾ˆå¿«è¡°å‡ï¼Œä½†å¾ˆéš¾å½’ä¸ºé›¶ï¼Œä¸”çªœåœ¨å…±çº¿æ€§çš„æ—¶å€™è¡°å‡è¿‡ç¨‹ä¹Ÿå¹¶éä¸¥æ ¼é€’å‡ï¼Œè¿™å°±æ˜¯ä¸ºä½•å²­å›å½’èƒ½å¤Ÿå»ºæ¨¡ã€åˆ¤æ–­å…±çº¿æ€§ï¼Œä½†å¾ˆéš¾è¿›è¡Œå˜é‡ç­›é€‰çš„åŸå› ã€‚ä¸ºäº†å¼¥è¡¥å²­å›å½’åœ¨è¿™æ–¹é¢çš„ä¸è¶³ï¼ŒTibshiraniï¼ˆ1996ï¼‰æå‡ºäº† Lassoï¼ˆThe Least Absolute Shrinkage and Selectiontorperatorï¼‰ç®—æ³•ï¼Œå°†å²­å›å½’çš„æŸå¤±å‡½æ•°ä¸­çš„è‡ªå˜é‡ç³»æ•° L2 æ­£åˆ™åŒ–ä¿®æ”¹ä¸º L1 æ­£åˆ™åŒ–ï¼Œå³ Lasso å›å½’æŸå¤±å‡½æ•°ä¸ºï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/464f28c318fe4051bf853471917759dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768612678&amp;x-signature=lCv9O5LEL6YhT7JrH2%2FyjW2B8Ls%3D" alt="Lassoå…¬å¼" loading="lazy"/>
æˆ‘ä»¬æ¥çœ‹çœ‹ Lasso çš„è®¡ç®—è¿‡ç¨‹ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨æœ€å°äºŒä¹˜æ³•æ¥æ±‚è§£ Lasso ä¸­å‚æ•°ï¼Œæˆ‘ä»¬ä¾ç„¶å¯¹æŸå¤±å‡½æ•°è¿›è¡Œæ±‚å¯¼ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/415f8fa71fd1494e8071020b13c077b4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768612678&amp;x-signature=2YEP4zRU%2F3XE5Laf%2BvL6D1b89h4%3D" alt="Lassoå…¬å¼" loading="lazy"/>
ç°åœ¨é—®é¢˜åˆå›åˆ°äº†è¦æ±‚ XTX çš„é€†å¿…é¡»å­˜åœ¨ï¼Œåœ¨å²­å›å½’ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡æ­£åˆ™åŒ–ç³»æ•°Î»èƒ½å¤Ÿå‘æ–¹é˜µ XTX åŠ ä¸Šä¸€ä¸ªå•ä½çŸ©é˜µï¼Œä»¥æ­¤æ¥é˜²æ­¢æ–¹é˜µ XTX çš„è¡Œåˆ—å¼ä¸º 0ï¼Œè€Œç°åœ¨ L1 èŒƒå¼æ‰€å¸¦çš„æ­£åˆ™é¡¹Î»åœ¨æ±‚å¯¼ä¹‹åå¹¶ä¸å¸¦æœ‰w è¿™ä¸ªé¡¹ï¼Œå› æ­¤å®ƒæ— æ³•å¯¹ XTX é€ æˆä»»ä½•å½±å“ã€‚
ä¹Ÿå°±æ˜¯è¯´ï¼ŒLasso æ— æ³•è§£å†³ç‰¹å¾ä¹‹é—´ç²¾ç¡®ç›¸å…³çš„é—®é¢˜ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨æœ€å°äºŒä¹˜æ³•æ±‚è§£çº¿æ€§å›å½’æ—¶ï¼Œå¦‚æœçº¿æ€§å›å½’æ— è§£æˆ–è€…æŠ¥é™¤é›¶çš„é”™è¯¯ï¼Œæ¢ Lasso ä¸èƒ½è§£å†³ä»»ä½•é—®é¢˜ã€‚
ä¸è¿‡ï¼Œåœ¨ç°å®ä¸­æˆ‘ä»¬å…¶å®ä¼šæ¯”è¾ƒå°‘é‡åˆ°ç²¾ç¡®ç›¸å…³çš„å¤šé‡å…±çº¿æ€§é—®é¢˜ï¼Œå¤§éƒ¨åˆ†å¤šé‡å…±çº¿æ€§é—®é¢˜åº”è¯¥æ—¶é«˜åº¦ç›¸å…³ï¼Œè€Œå¦‚æœæˆ‘ä»¬å‡è®¾æ–¹é˜µ XTX çš„é€†æ˜¯ä¸€å®šå­˜åœ¨çš„ï¼Œé‚£æˆ‘ä»¬å¯ä»¥æœ‰ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8af59a4f660f4c8083c7c76e147335a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768612678&amp;x-signature=sg2b%2BTzR7GEsPMsTYtnl3hvZEg4%3D" alt="Lassoå…¬å¼" loading="lazy"/>
é€šè¿‡å¢å¤§Î»ï¼Œæˆ‘ä»¬å¯ä»¥ä¸º w çš„è®¡ç®—å¢åŠ ä¸€ä¸ªè´Ÿé¡¹ï¼Œä»è€Œé™åˆ¶å‚æ•°ä¼°è®¡ä¸­ w çš„å¤§å°ï¼Œè€Œé˜²æ­¢å¤šé‡å…±çº¿æ€§å¼•èµ·çš„å‚æ•° w è¢«ä¼°è®¡è¿‡å¤§å¯¼è‡´æ¨¡å‹å¤±å‡†çš„é—®é¢˜ï¼ŒLasso ä¸æ˜¯ä»æ ¹æœ¬ä¸Šè§£å†³å¤šé‡å…±çº¿æ€§é—®é¢˜ï¼Œæ˜¯é™åˆ¶å¤šé‡å…±çº¿æ€§å¸¦æ¥çš„å½±å“ã€‚</p>
<h2 data-id="heading-10">é”™è¯¯é€ŸæŸ¥</h2>

























<table><thead><tr><th>ç—‡çŠ¶</th><th>æ ¹å› </th><th>å®šä½ä¿®å¤æ–¹æ³•</th></tr></thead><tbody><tr><td>æ— æ³•æ±‚è§£æ¨¡å‹</td><td>ç‰¹å¾çŸ©é˜µå…±çº¿æ€§</td><td>ç‰¹å¾çŸ©é˜µXTXä¸å¯é€†ï¼Œé€šè¿‡å²­å›å½’æˆ–å¢å¤§Î»å€¼</td></tr><tr><td>è¿‡æ‹Ÿåˆ</td><td>æ¨¡å‹å¤æ‚åº¦è¿‡é«˜</td><td>ç‰¹å¾è¿‡å¤šä¸”æ— æœ‰æ•ˆé€‰æ‹©ï¼Œä½¿ç”¨Lassoè¿›è¡Œç‰¹å¾é€‰æ‹©</td></tr><tr><td>ç‰¹å¾é€‰æ‹©ä¸è¶³</td><td>å²­å›å½’æ— æ³•å°†ç‰¹å¾å‹ç¼©ä¸ºé›¶</td><td>éœ€è¦è‡ªåŠ¨åŒ–ç‰¹å¾é€‰æ‹©ï¼Œä½¿ç”¨Lassoæˆ–Elastic Net</td></tr></tbody></table>
<h2 data-id="heading-11">å…¶ä»–ç³»åˆ—</h2>
<h3 data-id="heading-12">ğŸš€ AIç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>AIç‚¼ä¸¹æ—¥å¿—-29 - å­—èŠ‚è·³åŠ¨ DeerFlow æ·±åº¦ç ”ç©¶æ¡†<em>æ–œä½“æ ·å¼</em>æ¶ ç§æœ‰éƒ¨ç½² æµ‹è¯•ä¸Šæ‰‹ æ¶æ„ç ”ç©¶</strong>ï¼ŒæŒç»­æ‰“é€ å®ç”¨AIå·¥å…·æŒ‡å—ï¼
<strong>AIç ”ç©¶-132 Java ç”Ÿæ€å‰æ²¿ 2025ï¼šSpringã€Quarkusã€GraalVMã€CRaC ä¸äº‘åŸç”Ÿè½åœ°</strong></p>
<h3 data-id="heading-13">ğŸ’» Javaç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>Java-218 RocketMQ Java API å®æˆ˜ï¼šåŒæ­¥/å¼‚æ­¥ Producer ä¸ Pull/Push Consumer</strong>
MyBatis å·²å®Œç»“ï¼ŒSpring å·²å®Œç»“ï¼ŒNginxå·²å®Œç»“ï¼ŒTomcatå·²å®Œç»“ï¼Œåˆ†å¸ƒå¼æœåŠ¡å·²å®Œç»“ï¼ŒDubboå·²å®Œç»“ï¼ŒMySQLå·²å®Œç»“ï¼ŒMongoDBå·²å®Œç»“ï¼ŒNeo4jå·²å®Œç»“ï¼ŒFastDFS å·²å®Œç»“ï¼ŒOSSå·²å®Œç»“ï¼ŒGuavaCacheå·²å®Œç»“ï¼ŒEVCacheå·²å®Œç»“ï¼ŒRabbitMQå·²å®Œç»“ï¼ŒRocketMQæ­£åœ¨æ›´æ–°... æ·±å…¥æµ…å‡ºåŠ©ä½ æ‰“ç‰¢åŸºç¡€ï¼</p>
<h3 data-id="heading-14">ğŸ“Š å¤§æ•°æ®æ¿å—å·²å®Œæˆå¤šé¡¹å¹²è´§æ›´æ–°ï¼ˆ300ç¯‡ï¼‰ï¼š</h3>
<p>åŒ…æ‹¬ Hadoopã€Hiveã€Kafkaã€Flinkã€ClickHouseã€Elasticsearch ç­‰äºŒåä½™é¡¹æ ¸å¿ƒç»„ä»¶ï¼Œè¦†ç›–ç¦»çº¿+å®æ—¶æ•°ä»“å…¨æ ˆï¼
<strong>å¤§æ•°æ®-278 Spark MLib - åŸºç¡€ä»‹ç» æœºå™¨å­¦ä¹ ç®—æ³• æ¢¯åº¦æå‡æ ‘ GBDTæ¡ˆä¾‹ è¯¦è§£</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[DeepSeek V4ï¼Œå®šæ¡£æ˜¥èŠ‚]]></title>    <link>https://juejin.cn/post/7593481317250220058</link>    <guid>https://juejin.cn/post/7593481317250220058</guid>    <pubDate>2026-01-10T01:23:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593481317250220058" data-draft-id="7593177437082337331" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="DeepSeek V4ï¼Œå®šæ¡£æ˜¥èŠ‚"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,AIGC"/> <meta itemprop="datePublished" content="2026-01-10T01:23:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç«¥æ¬§å·´"/> <meta itemprop="url" content="https://juejin.cn/user/3491704662669469"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            DeepSeek V4ï¼Œå®šæ¡£æ˜¥èŠ‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3491704662669469/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç«¥æ¬§å·´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-10T01:23:43.000Z" title="Sat Jan 10 2026 01:23:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="" data-highlight-key="github-gist">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#333}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#d73a49}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-symbol{color:#0086b3}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#6f42c1}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.hljs-number{color:#005cc5}.hljs-string{color:#032f62}</style><p>å…„å¼Ÿä»¬ï¼Œåç¨³äº†ï¼Œå¤§çš„çœŸè¦æ¥äº†ã€‚</p>
<p>å¤–åª’ã€ŠThe Informationã€‹åˆšåˆšæ…å‡ºä¸€ä¸ªçŒ›æ–™ã€‚</p>
<p>DeepSeek V4 å®šæ¡£æ˜¥èŠ‚ï¼Œè®¡åˆ’ 2 æœˆä¸­æ—¬å‘å¸ƒã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8da23f25342e40468d3fd8a6d458f1f7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768613022&amp;x-signature=ljQw6kLEd11r8ZIO%2BgLTbhN98BA%3D" alt="" loading="lazy"/></p>
<p>è€Œä¸”ï¼Œè¿™æ¬¡çš„ç›®æ ‡å¾ˆæ˜ç¡®ï¼Œæ˜¾è‘—æå‡äº†ç¼–ç¨‹èƒ½åŠ›ã€‚</p>
<p>æ³¨æ„ï¼Œè¿™ç»å¯¹ä¸æ˜¯ä¸€æ¬¡å¸¸è§„çš„å‡çº§ã€‚</p>
<p>æ®å¤šä½å‚ä¸å†…éƒ¨æµ‹è¯•çš„äººå£«é€éœ²ï¼Œåœ¨å¤šä¸ªå†…éƒ¨ç¼–ç¨‹åŸºå‡†ä¸­ã€‚</p>
<p>DeepSeek V4 å·²ç»ç›´æ¥è¶…è¶Šäº†å½“å‰å…¨çƒèŒƒå›´å†…çš„ä¸»æµæ¨¡å‹ã€‚</p>
<p>è™½ç„¶å®˜æ–¹è¿˜æ²¡å›åº”ï¼Œä½†æˆ‘è§‰å¾—è¿™äº‹å„¿å¤§æ¦‚ç‡æ˜¯çœŸçš„ã€‚</p>
<p>å› ä¸ºæœ€è¿‘ï¼ŒDeepSeek æ‚„å’ªå’ªçš„æŠŠ DeepSeek R1 çš„è®ºæ–‡æ›´æ–°äº†ã€‚</p>
<p>ä»åŸæ¥çš„ 22 é¡µç›´æ¥åŠ åšåˆ° 86 é¡µã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef04e2166de64c22aa616bd32bbf719b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768613022&amp;x-signature=f5%2B9gzb5ZSe6IeUQbIj9Er1gdlA%3D" alt="https://arxiv.org/abs/2501.12948" loading="lazy"/></p>
<p>è¿˜æœ‰ï¼Œæœ€æ–°ç‰ˆçš„ DeepSeek æ‰‹æœº Appï¼Œæ–°å¢äº†è¯­éŸ³è¾“å…¥ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c3bf6304215d4bc9948898cc8d5aed0b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768613022&amp;x-signature=Z7kswUv0O1Ihk%2FqXdTKXx5O7h1g%3D" alt="" loading="lazy"/></p>
<p>ä¸€åˆ‡è¿¹è±¡ï¼Œéƒ½åƒæäº†åœ¨ç»™æ–°æ¨¡å‹åšé¢„çƒ­ã€‚</p>
<p>çœŸçš„è¦å¥½å¥½æœŸå¾…ä¸€ä¸‹äº†ã€‚</p>
<p>æ–°æ¨¡å‹è¿˜åœ¨è·¯ä¸Šï¼Œä½†æ›´æ–°çš„è®ºæ–‡è¿˜æ˜¯éå¸¸ç²¾å½©çš„ã€‚</p>
<p>æˆ‘çœ‹å®Œä¹‹åï¼Œå…ˆæ¥è·Ÿå¤§å®¶åˆ†äº«ä¸‰ç‚¹ã€‚</p>
<h2 data-id="heading-0">1</h2>
<p>è®­ç»ƒå‡º R1 è¿™æ ·ï¼Œä¸€ä¸ªèƒ½è·Ÿ OpenAI çš„ o1 æ°æ‰‹è…•çš„æ¨¡å‹ã€‚</p>
<p>æ€»å…±èŠ±äº†å¤šå°‘é’±å‘¢ï¼Ÿ</p>
<p>çœ‹è¿™å¼ è¡¨æ ¼ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f62076c4555c43f197288ca9528ecb54~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768613022&amp;x-signature=Q7aAgGcaWwu0bx7LojT22G1xTeM%3D" alt="" loading="lazy"/></p>
<p>ä½ æ²¡çœ‹é”™ï¼Œ29.4 ä¸‡ç¾å…ƒã€‚</p>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œæµ·å¤–å¤§æ¨¡å‹è®­ç»ƒï¼ŒåŠ¨ä¸åŠ¨å°±æ˜¯åƒä¸‡ç¾å…ƒï¼Œä¸Šäº¿ç¾å…ƒã€‚</p>
<p>29.4 ä¸‡ç¾å…ƒï¼Œåœ¨ç¡…è°·è¿ä¸€ä¸ªèµ„æ·±å·¥ç¨‹å¸ˆä¸€å¹´çš„å·¥èµ„éƒ½ä¸å¤Ÿã€‚</p>
<p>è¿™äº‹å„¿æœ€æ‰“è„¸çš„ï¼Œå°±æ˜¯å‰ Scale AI çš„ CEOï¼ŒMeta ç°ä»»é¦–å¸­ AI å®˜ï¼ŒAlexandr Wang äº†ã€‚</p>
<p>ä»–ç»å¸¸è¯´ï¼Œå¿…é¡»è¦ç”¨æ˜‚è´µçš„äººå·¥æ ‡æ³¨æ•°æ®ï¼Œå¤©ä»·çš„ç®—åŠ›å’Œé¡¶çº§çš„èŠ¯ç‰‡æ‰èƒ½åšå‡ºé¡¶çº§ AIã€‚</p>
<p>è¿™å› DeepSeek æ›´æ–°å®Œçš„è®ºæ–‡ï¼Œç›¸å½“äºä¸€ä»½å®Œå…¨å¯å¤ç°çš„æŠ€æœ¯æŠ¥å‘Šã€‚</p>
<p>ç°åœ¨æ‰€æœ‰çš„è¯æ®éƒ½æ‘†åœ¨è¿™äº†ã€‚</p>
<p>è¿˜èŠ±é’±çœ‹å•¥çˆ½å‰§å•Šï¼Œè¿˜æœ‰æ¯” DeepSeek æ›´ç‡ƒçš„ä¸»è§’å—ï¼Ÿ</p>
<h2 data-id="heading-1">2</h2>
<p>è¯´çœŸçš„ï¼Œå†æ¬¡çœ‹åˆ°è¿™ï¼Œæˆ‘è¿˜æ˜¯èµ·äº†ç‚¹é¸¡çš®ç–™ç˜©ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c0e1ac4299a34edda4cdfe9f56a8da65~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768613022&amp;x-signature=dETHYRk3oXQ85qFIgvmI1uyZMew%3D" alt="" loading="lazy"/></p>
<p>ä¸Šå›¾çš„çº¢å­—æ˜¯ AI çš„æ€è€ƒè¿‡ç¨‹ï¼Œç¿»è¯‘è¿‡æ¥çš„æ„æ€æ˜¯ã€‚</p>
<p><strong>ç­‰ç­‰ï¼Œç­‰ç­‰ï¼Œç­‰ä¸€ä¸‹ï¼Œè¿™æ­£æ˜¯æˆ‘è¦æ ‡è®°çš„ä¸€ä¸ªé¡¿æ‚Ÿæ—¶åˆ»ã€‚</strong></p>
<p>è¿™å°±æ˜¯å¼ºåŒ–å­¦ä¹ çš„å¨åŠ›å’Œé­…åŠ›ã€‚</p>
<p>ä»¥å‰è®­ç»ƒ AI çˆ¹å‘³åè¶³ï¼Œåƒæ•™å°å­©å„¿ä¸€æ ·ï¼Œæ‰‹æŠŠæ‰‹ä¸€æ­¥ä¸€æ­¥æ•™ä»–æ­¥éª¤ã€‚</p>
<p>è¿™æ¬¡ï¼ŒDeepSeek é€‰æ‹©äº†æ”¾æ‰‹ï¼Œä¸æ•™ä½ æ€ä¹ˆæ€è€ƒï¼Œåªå‘Šè¯‰ä½ ç­”æ¡ˆå¯¹ä¸å¯¹ã€‚</p>
<p>ç­”å¯¹äº†ç»™é¢—ç³–ï¼Œç­”é”™äº†å°±é¥¿ç€ã€‚</p>
<p>ç»“æœåœ¨æ²¡æœ‰ä»»ä½•äººæ•™å¯¼çš„æƒ…å†µä¸‹ï¼ŒAI çš„æ€è€ƒè¿‡ç¨‹ä¸­æ¶Œç°äº†äººç±»æ‰æœ‰çš„çŠ¹è±«ã€‚</p>
<p>ä¸ºäº†è·å¾—å¥–åŠ±ï¼ŒAI å±…ç„¶è¿›åŒ–å‡ºäº†è‡ªæˆ‘åšå¼ˆã€‚</p>
<p>å¬ç€å¾ˆæŠ½è±¡ã€‚</p>
<p>è¿™å°±åƒä½ è€ƒè¯•ç­”é¢˜è½ç¬”ä¹‹å‰ï¼Œçœ‰å¤´ç´§é”ï¼Œåœé¡¿çš„é‚£å‡ ç§’ã€‚</p>
<p>è¿™å£° Waitï¼Œæ˜¯ AI åœ¨ä¸€ç‰‡æ··æ²Œä¸­ï¼Œç‚¹ç‡ƒçš„ç¬¬ä¸€æ ¹ç«æŸ´ã€‚</p>
<h2 data-id="heading-2">3</h2>
<p>åœ¨è®ºæ–‡çš„è’¸é¦éƒ¨åˆ†ï¼ŒDeepSeek å›ç­”äº†ä¸€ä¸ªæ›´å…·é¢ è¦†æ€§çš„é—®é¢˜ã€‚</p>
<p>R1 èº«ä¸Šçš„èƒ½åŠ›ï¼Œèƒ½ä¸èƒ½æœ‰æ•ˆç¨³å®šçš„è¿ç§»åˆ°å°æ¨¡å‹ä¸Šå‘¢ï¼Ÿ</p>
<p>èƒ½ï¼Œè€Œä¸”æ•ˆæœç‚¸è£‚ã€‚</p>
<p>è®© R1 å½“è€å¸ˆï¼Œç”Ÿæˆé«˜è´¨é‡çš„æ€ç»´é“¾æ•°æ®ï¼Œç„¶åé€šè¿‡ç›‘ç£å¾®è°ƒ SFTï¼Œç›´æ¥æŠŠè¿™å¥—å†…åŠŸå¿ƒæ³•ä¼ æˆç»™å°æ¨¡å‹ã€‚</p>
<p>è¿™å°±æ˜¯è’¸é¦ã€‚</p>
<p>å¥½æ¯”æ­¦æ—ç›Ÿä¸»æŠŠè‡ªå·±æ¯•ç”Ÿé¢†æ‚Ÿçš„å‰‘æ³•å†™æˆäº†ç§˜ç±ï¼Œç›´æ¥æ‰”ç»™äº†å°å¸ˆå¼Ÿä»¬ã€‚</p>
<p>å°å¸ˆå¼Ÿä»¬ä¸ç”¨å†å»æ±Ÿæ¹–ä¸ŠæŒ¨æ‰“è¯•é”™ï¼Œä¸ç”¨å†è·‘ä¸€éå¼ºåŒ–å­¦ä¹ çš„æµç¨‹ï¼Œç›´æ¥ç…§ç€ç»ƒå°±è¡Œã€‚</p>
<p>DeepSeek ç³»ç»Ÿæ€§åœ°å®éªŒäº† 1.5Bã€7Bã€8Bã€14Bã€32Bã€70B ç­‰å„ç§è§„æ¨¡çš„å°æ¨¡å‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/55cd887eb818419eb282b8b26c5ec60c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768613022&amp;x-signature=wDwParAYjZDR6zW8WlW5yGbJPFU%3D" alt="" loading="lazy"/></p>
<p>ä¸ç®¡å•¥å°ºå¯¸ï¼Œè’¸é¦ä¹‹åæ€§èƒ½éƒ½å¾—åˆ°äº†å¤§å¹…æå‡ã€‚</p>
<p>é¡¶çº§çš„æ™ºèƒ½ï¼Œå¯ä»¥åƒæ°´ä¸€æ ·æµåŠ¨ï¼Œä»¥æ›´ä½æˆæœ¬çš„æ— ç¼è¿ç§»åˆ°å°æ¨¡å‹èº«ä¸Šã€‚</p>
<p>å¬ç€æœ‰äº›é­”å¹»ï¼Œä½†è¿™æ‰æ˜¯ DeepSeek ä¸€ç›´æ‰€è¿½æ±‚çš„äº‹æƒ…ã€‚</p>
<p>è®©æ™ºèƒ½åƒè‡ªæ¥æ°´ä¸€æ ·ï¼Œä¾¿å®œä¸”è§¦æ‰‹å¯åŠã€‚</p>
<h2 data-id="heading-3">å°¾å£°</h2>
<p>ä»–ä»¬å»ºèµ·äº†é«˜å¢™ï¼ŒæŒ–æ·±äº†æŠ¤åŸæ²³ã€‚</p>
<p>å¢™å†…æœ¬æ¥ 2 å—é’±çš„é¢åŒ…ï¼Œå–åˆ°äº† 200 å—ã€‚</p>
<p>æœ‰ä¸€å¤©ï¼ŒDeepSeek æ¥åˆ°å¢™è·Ÿå‰ï¼Œç‹ ç‹ åœ°è¸¹äº†è¿™å µå¢™ä¸€è„šã€‚</p>
<p>å¢™å¡Œäº†ã€‚</p>
<p>å¤§å®¶å¾€é‡Œä¸€çœ‹ï¼Œå‘é¢é‡Œé¢æ²¡æœ‰ä»€ä¹ˆé­”æ³•ï¼Œä¹Ÿæ²¡æœ‰ä»€ä¹ˆç¥è¿¹ã€‚</p>
<p>æœ‰çš„åªæ˜¯æè‡´çš„æ•°å­¦ï¼Œçº¯ç²¹çš„é€»è¾‘ï¼Œå’Œä¸€ç¾¤å……æ»¡å¥½å¥‡å¿ƒçš„å·¥ç¨‹å¸ˆã€‚</p>
<p>DeepSeek å®˜ç½‘æœ‰å¥è¯ï¼Œæˆ‘çœŸçš„ç‰¹åˆ«ç‰¹åˆ«å–œæ¬¢ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/decd96fe43fb4e5ba9c46d9744bd54a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768613022&amp;x-signature=a6PQcfkE4FRgTJJmG3efkRjdku0%3D" alt="" loading="lazy"/></p>
<p>æ¢ç´¢æœªè‡³ä¹‹å¢ƒã€‚</p>
<p>æ˜¯å•Šï¼Œæˆ‘ä»¬è¦æ°¸è¿œå»æ¢ç´¢å‰äººå°šæœªæ¢ç´¢ä¹‹åœ°ã€‚</p>
<p>è¿™æ‰æ˜¯äººæœ€åº”è¯¥åšçš„äº‹æƒ…ï¼Œæ¥ç‰µå¼• AI èµ°å‘æˆ‘ä»¬è®¤å¯çš„æ–¹å‘ã€‚</p>
<p>æ•¢é—®è·¯åœ¨ä½•æ–¹ï¼Ÿ</p>
<p>è·¯ï¼Œå…¶å®å°±åœ¨æˆ‘ä»¬æ¯ä¸ªäººçš„è„šä¸‹ã€‚</p>
<h2 data-id="heading-4">â¤ï¸çˆ±å¿ƒä¸‰è¿å‡»</h2>
<p>1.å¦‚æœä½ è§‰å¾—æ¬§å·´çš„æ–‡ç« è¿˜åˆèƒƒå£ï¼Œå°±ç‚¹ä¸ªèµæ”¯æŒä¸‹å§ï¼Œä½ çš„<strong>èµ</strong>æ˜¯æˆ‘æœ€å¤§çš„åŠ¨åŠ›ã€‚</p>
<p>2.å…³æ³¨&gt;&gt;&gt;<a href="https://link.juejin.cn?target=https%3A%2F%2Fraw.githubusercontent.com%2FGeekhyt%2Ffront-end-canteen%2Frefs%2Fheads%2Fmaster%2Fimages%2Fqrcode.jpg" target="_blank" title="https://raw.githubusercontent.com/Geekhyt/front-end-canteen/refs/heads/master/images/qrcode.jpg" ref="nofollow noopener noreferrer">å…¬ä¼—å·æ¬§å·´èŠAI</a>ï¼ŒAI æ—¶ä»£é™ªä½ ä¸€èµ·æˆé•¿ã€‚</p>
<p>3.ç‚¹èµã€è¯„è®ºã€è½¬å‘ === å‚¬æ›´ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Goè¯­è¨€åŠ¨æ‰‹å†™Webæ¡†æ¶ - Geeç¬¬å››å¤© åˆ†ç»„æ§åˆ¶]]></title>    <link>https://juejin.cn/post/7593098101432631350</link>    <guid>https://juejin.cn/post/7593098101432631350</guid>    <pubDate>2026-01-09T12:44:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593098101432631350" data-draft-id="7593165280488636457" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Goè¯­è¨€åŠ¨æ‰‹å†™Webæ¡†æ¶ - Geeç¬¬å››å¤© åˆ†ç»„æ§åˆ¶"/> <meta itemprop="keywords" content="åç«¯,Go"/> <meta itemprop="datePublished" content="2026-01-09T12:44:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Way2top"/> <meta itemprop="url" content="https://juejin.cn/user/1458388314893300"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Goè¯­è¨€åŠ¨æ‰‹å†™Webæ¡†æ¶ - Geeç¬¬å››å¤© åˆ†ç»„æ§åˆ¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1458388314893300/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Way2top
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T12:44:45.000Z" title="Fri Jan 09 2026 12:44:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h4 data-id="heading-0">Group è®¾è®¡çš„åŸå› </h4>
<p>éšç€ Gee æ”¯æŒäº†åŠ¨æ€è·¯ç”±åŒ¹é…ï¼Œæ–°çš„ç»“æ„æ€§é—®é¢˜ä¹Ÿéšä¹‹å‡ºç°ã€‚ åœ¨çœŸå®çš„ Web å¼€å‘ä¸­ï¼Œè·¯ç”±å¹¶éåŒè´¨çš„ï¼Œè€Œæ˜¯å¤©ç„¶å­˜åœ¨è¯­ä¹‰åˆ†å±‚ã€‚ä¾‹å¦‚ï¼šä»¥ <code>/post</code> å¼€å¤´çš„è·¯ç”±å…è®¸åŒ¿åè®¿é—®ï¼›ä»¥ <code>/admin</code> å¼€å¤´çš„è·¯ç”±éœ€è¦é‰´æƒï¼›ä»¥ <code>/api</code> å¼€å¤´çš„è·¯ç”±é¢å‘ç¬¬ä¸‰æ–¹å¹³å°ï¼Œéœ€è¦é¢å¤–çš„é‰´æƒä¸é™åˆ¶ã€‚</p>
<p>å¦‚æœå¸Œæœ›å¯¹æ‰€æœ‰ <code>/admin</code> ç±»å‹æ¥å£ç»Ÿä¸€åšé‰´æƒï¼Œåœ¨å½“å‰ä»…æ”¯æŒåŠ¨æ€è·¯ç”±åŒ¹é…çš„æ¡†æ¶èƒ½åŠ›ä¸‹ï¼Œå°±åªèƒ½åœ¨æ¯ä¸€ä¸ª <code>/admin</code> è·¯ç”±ä¸­é‡å¤ç¼–å†™é‰´æƒé€»è¾‘ã€‚è¿™ä¸ä»…å¸¦æ¥å¤§é‡é‡å¤ä»£ç ï¼Œä¹Ÿè¿èƒŒäº†å¼€é—­åŸåˆ™ï¼ˆOCPï¼‰ï¼Œå¹¶ä¸”ä½¿æ¨ªåˆ‡é€»è¾‘éš¾ä»¥ç»´æŠ¤å’Œæ‰©å±•ã€‚åŒæ ·åœ°ï¼Œå¦‚æœå¸Œæœ›å¯¹ <code>/post</code> è·¯ç”±ç»Ÿä¸€å¢åŠ ä¸€ç»„ä¸­é—´ä»¶æ¥æ‰©å±•èƒ½åŠ›ï¼Œç°æœ‰ç»“æ„ä¹Ÿéš¾ä»¥ä¼˜é›…æ”¯æŒã€‚</p>
<p>é—®é¢˜å› æ­¤è‡ªç„¶æ¼”åŒ–ä¸ºï¼š<strong>å¦‚ä½•åœ¨ä¸ä¿®æ”¹å·²æœ‰è·¯ç”±å®šä¹‰çš„å‰æä¸‹ï¼Œä¸ºä¸€ç±»è·¯ç”±ç»Ÿä¸€æ–½åŠ è¡Œä¸ºï¼Ÿ</strong> è¿™å®é™…ä¸Šè¦æ±‚æ¡†æ¶ä¸­å¼•å…¥â€œè·¯ç”±ä½œç”¨åŸŸâ€çš„æ¦‚å¿µï¼Œè€Œä¸ä»…ä»…æ˜¯â€œè·¯å¾„åŒ¹é…â€ã€‚</p>
<p>ä¸€ä¸ªç›´è§‚çš„æƒ³æ³•æ˜¯ï¼šæ˜¯å¦å¯ä»¥ç›´æ¥åœ¨ router ç»“æ„ä½“ä¸­åŠ å…¥åˆ†ç»„ç›¸å…³çš„æ•°æ®ç»“æ„ï¼Ÿ</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">type</span> router <span class="hljs-keyword">struct</span> {
        roots    <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]*node
        handlers <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]HandlerFunc
}
</code></pre>
<p>ä½†è¿™åœ¨è®¾è®¡ä¸Šå¹¶ä¸åˆç†ã€‚<strong>router çš„èŒè´£è¢«ä¸¥æ ¼é™å®šä¸ºï¼šæ ¹æ® Method + Path è¿›è¡ŒåŒ¹é…å¹¶æ‰¾åˆ°å¯¹åº”çš„ handlerã€‚</strong> å®ƒæ˜¯ä¸€ä¸ªåç®—æ³•å’Œæ•°æ®ç»“æ„çš„ç»„ä»¶ï¼Œåªå…³å¿ƒåŒ¹é…è§„åˆ™æœ¬èº«ï¼Œè€Œä¸å…³å¿ƒä»»ä½•ä¸šåŠ¡è¯­ä¹‰ã€‚</p>
<p>ä¸­é—´ä»¶åˆ™æ°æ°ç›¸åï¼šå®ƒæ‰¿è½½çš„æ˜¯å¼ºä¸šåŠ¡è¯­ä¹‰ï¼ˆå¦‚é‰´æƒã€æ—¥å¿—ã€é™æµï¼‰ï¼Œä¸ä½œç”¨åŸŸå¯†åˆ‡ç›¸å…³ï¼Œå´ä¸å…·ä½“çš„è·¯å¾„åŒ¹é…ç®—æ³•æ— å…³ã€‚å¦‚æœå°†ä¸­é—´ä»¶ç›´æ¥æŒ‚è½½åœ¨ router ä¸Šï¼Œå°±ä¼šè¿«ä½¿ router åŒæ—¶æ‰¿æ‹…â€œè·¯å¾„åŒ¹é…â€å’Œâ€œä¸šåŠ¡æ§åˆ¶â€ä¸¤ç§èŒè´£ï¼Œä»è€Œç ´åå…¶å•ä¸€èŒè´£åŸåˆ™ï¼Œä¹Ÿä½¿è·¯ç”±åŒ¹é…å±‚è¢«ä¸šåŠ¡è¯­ä¹‰æ±¡æŸ“ã€‚</p>
<p>å› æ­¤ï¼Œå¼•å…¥ RouterGroup æœ¬è´¨ä¸Šæ˜¯å¼•å…¥ä¸€ä¸ªç‹¬ç«‹äºåŒ¹é…ç®—æ³•ä¹‹å¤–çš„â€œè·¯ç”±ä½œç”¨åŸŸâ€æŠ½è±¡ã€‚å®ƒä»¥ URL å‰ç¼€ä½œä¸ºè¾¹ç•Œï¼Œå°†ä¸€ç»„è·¯ç”±ç»„ç»‡åˆ°åŒä¸€è¯­ä¹‰ç©ºé—´ä¸­ï¼Œä½¿ä¸­é—´ä»¶èƒ½å¤ŸæŒ‰ç»„å¤ç”¨ã€æŒ‰å±‚å åŠ ï¼Œè€Œ router ä»ç„¶åªä¸“æ³¨äºè·¯å¾„åŒ¹é…æœ¬èº«ã€‚è¿™æ­£æ˜¯ä¸­é—´ä»¶å¿…é¡»åŸºäº Groupï¼Œè€Œä¸èƒ½ç›´æ¥åŸºäº Router çš„æ ¹æœ¬åŸå› ã€‚</p>
<h4 data-id="heading-1">Group å…·ä½“è®¾è®¡</h4>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬è€ƒè™‘å¦‚ä½•è®¾è®¡ Group çš„ç»“æ„ã€‚æ—¢ç„¶ Group æ˜¯ç”¨æ¥åŒºåˆ†ä¸åŒè·¯ç”±åˆ†ç»„ä»¥åŠæ‰¿è½½ä¸­é—´ä»¶çš„ï¼Œé‚£ä¹ˆè‚¯å®šè¦æœ‰ä¸€ä¸ª <code>perfix</code> æ¥ç”¨äºåŒºåˆ†ä¸åŒåˆ†ç»„ï¼ˆæ ¹æ®è·¯ç”±çš„å‰ç¼€è¿›è¡Œåˆ†ç»„ï¼‰ï¼Œè€Œç”¨äºæ‰¿è½½ä¸­é—´ä»¶çš„è¯å¯ä»¥ä½¿ç”¨ä¸€ä¸ª <code>[]HandlerFunc</code> ç”¨äºå­˜æ”¾å¤šä¸ªä¸­é—´ä»¶ã€‚å¦å¤–ï¼Œæˆ‘ä»¬æ”¯æŒåˆ†ç»„åµŒå¥—ï¼Œä¾‹å¦‚å¯¹äº <code>/admin/golang</code> è¿™ä¸ªè·¯ç”±æ¥è¯´ï¼Œ<code>/admin</code> åŒ…å«çš„ä¸­é—´ä»¶ <code>/admin/golang</code> ä¹Ÿåº”è¯¥æ‹¥æœ‰ï¼Œä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œè¿˜éœ€è¦æœ‰ä¸€ä¸ª <code>parent</code> å±æ€§ç”¨äºè®°å½•å½“å‰è·¯ç”±çš„ä¸Šçº§è·¯ç”±ï¼Œè¿™æ ·ä¸Šçº§è·¯ç”±æ‰€æ‹¥æœ‰çš„ä¸­é—´ä»¶å°±å¯ä»¥é›†æˆåˆ°åç»­çš„å­è·¯ç”±ä¸­äº†ã€‚</p>
<p>æœ€åï¼Œæ—¢ç„¶ <code>Group</code> å¯¹è±¡éœ€è¦è¿›è¡Œä¸€äº›è·¯ç”±æ“ä½œï¼Œé‚£ä¹ˆè¿˜éœ€è¦æœ‰è®¿é—® <code>Router</code> çš„èƒ½åŠ›ã€‚ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ <code>Group</code> ä¸­ä¿å­˜ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘ <code>Engine</code>ï¼Œå› ä¸ºæ•´ä¸ªæ¡†æ¶çš„èµ„æºéƒ½æ˜¯ç”± <code>Engine</code> ç»Ÿä¸€åè°ƒçš„ï¼Œè¿™æ ·åšä¹‹åå°±å¯ä»¥é€šè¿‡ <code>Engine</code> é—´æ¥çš„è®¿é—®å„ç§å€Ÿå£äº†ã€‚å› æ­¤ï¼Œæœ€ç»ˆ <code>Group</code> çš„ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">type</span> RouterGroup <span class="hljs-keyword">struct</span> {
        prefix      <span class="hljs-type">string</span>
        middlewares []HandlerFunc <span class="hljs-comment">// æ”¯æŒä¸­é—´ä»¶</span>
        parent      *RouterGroup  <span class="hljs-comment">// æ”¯æŒåµŒå¥—</span>
        engine      *Engine       <span class="hljs-comment">// æ‰€æœ‰ group å…±äº«ä¸€ä¸ª Engine å®ä¾‹</span>
}
</code></pre>
<p>æˆ‘ä»¬è¿˜å¯ä»¥è¿›ä¸€æ­¥åœ°æŠ½è±¡ï¼Œå°†<code>Engine</code>ä½œä¸ºæœ€é¡¶å±‚çš„åˆ†ç»„ï¼Œä¹Ÿå°±æ˜¯è¯´<code>Engine</code>æ‹¥æœ‰<code>RouterGroup</code>æ‰€æœ‰çš„èƒ½åŠ›ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">type</span> Engine struct {
        *RouterGroup
        router *router
        <span class="hljs-built_in">groups</span> []*RouterGroup // å­˜å‚¨æ‰€æœ‰ <span class="hljs-built_in">groups</span>
}
</code></pre>
<p>æœ‰å…³ä¸ºä»€ä¹ˆè¦è¿›ä¸€æ­¥æŠ½è±¡æ¥å°† <code>Engine</code> ä½œä¸ºæœ€é¡¶å±‚ï¼Œå…·ä½“åŸå› å¦‚ä¸‹ï¼šå¦‚æœä¸å°† <code>Engine</code> ä¿®æ”¹ä¸ºæ‹¥æœ‰ <code>RouterGroup</code> çš„èƒ½åŠ›ï¼Œ<code>Engine</code> ä»…ä»…å®šä¹‰ <code>RouterGroup</code> çš„è¯ï¼Œåç»­ä¼šåœ¨åˆ›å»ºå’Œç®¡ç†è·¯ç”±åˆ†ç»„æ—¶é‡åˆ°é—®é¢˜ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬éœ€è¦é¢‘ç¹åœ°é€šè¿‡ <code>Engine</code> è®¿é—® <code>RouterGroup</code>ï¼Œå¹¶ä¸”åœ¨ <code>RouterGroup</code> ä¸­å®šä¹‰è·¯ç”±çš„åŠŸèƒ½ä¼šæ˜¾å¾—ä¸å¤Ÿç›´è§‚ï¼Œå°¤å…¶æ˜¯åœ¨éœ€è¦åˆ†ç»„åµŒå¥—æˆ–ç»Ÿä¸€ç®¡ç†å¤šä¸ªåˆ†ç»„çš„æƒ…å†µä¸‹ï¼Œä»£ç ä¼šå˜å¾—æ›´åŠ å¤æ‚ä¸”ä¸æ˜“æ‰©å±•ã€‚è¿›è€Œæˆ‘ä»¬æƒ³åˆ°å°† <code>Engine</code> ä¿®æ”¹ä¸ºç›´æ¥åŒ…å« <code>RouterGroup</code> çš„èƒ½åŠ›ï¼Œè¿™æ · <code>Engine</code> å°±èƒ½åƒ <code>RouterGroup</code> ä¸€æ ·ï¼Œç›´æ¥æ”¯æŒè·¯ç”±åˆ†ç»„çš„åˆ›å»ºã€ç®¡ç†å’Œä¸­é—´ä»¶çš„ä½¿ç”¨ï¼Œä½¿å¾—è·¯ç”±åˆ†ç»„çš„åŠŸèƒ½æ›´åŠ ç»Ÿä¸€å’Œçµæ´»ã€‚ä¿®æ”¹åï¼Œ<code>Engine</code> ä¸ä»…ç®¡ç†è·¯ç”±ï¼Œè¿˜èƒ½ç®¡ç†åˆ†ç»„å’Œä¸­é—´ä»¶ï¼Œç®€åŒ–äº†ä»£ç ç»“æ„ï¼Œé¿å…äº†å†—ä½™çš„æ¥å£è°ƒç”¨ï¼Œä½¿å¾—ä»£ç æ›´åŠ ç®€æ´ã€æ˜“äºç»´æŠ¤å’Œæ‰©å±•ã€‚</p>
<p>é‚£ä¹ˆå®šä¹‰å¥½ Group ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯¹ gee.go ä¸­çš„å†…å®¹è¿›è¡Œé‡å†™äº†ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// Group ç”¨äºåˆ›å»ºä¸€ä¸ªæ–°çš„ RouterGroup</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(group *RouterGroup)</span></span> Group(prefix <span class="hljs-type">string</span>) *RouterGroup {
        engine := group.engine
        newGroup := &amp;RouterGroup{
                prefix: group.prefix + prefix,
                parent: group,
                engine: engine,
        }
        engine.groups = <span class="hljs-built_in">append</span>(engine.groups, newGroup)
        <span class="hljs-keyword">return</span> newGroup
}

<span class="hljs-comment">// å·¥å…·å‡½æ•°ï¼Œåç»­ GET å’Œ POST ä¼šä½¿ç”¨è¿™ä¸ªå‡½æ•°ç»™ engine çš„è·¯ç”±è¡¨æ·»åŠ è·¯ç”±</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(group *RouterGroup)</span></span> addRoute(method <span class="hljs-type">string</span>, comp <span class="hljs-type">string</span>, handler HandlerFunc) {
        pattern := group.prefix + comp
        log.Printf(<span class="hljs-string">"Route %4s - %s"</span>, method, pattern)
        group.engine.router.addRoute(method, pattern, handler)
        <span class="hljs-comment">//engine.router.addRoute(method, pattern, handler)</span>
}

<span class="hljs-comment">// GET æä¾›ç»™ç”¨æˆ·æ³¨å†Œ GET è¯·æ±‚çš„ä¾¿æ·æ–¹æ³•</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(group *RouterGroup)</span></span> GET(pattern <span class="hljs-type">string</span>, handler HandlerFunc) {
        group.addRoute(<span class="hljs-string">"GET"</span>, pattern, handler)
}

<span class="hljs-comment">// POST æä¾›ç»™ç”¨æˆ·æ³¨å†Œ POST è¯·æ±‚çš„ä¾¿æ·æ–¹æ³•</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(group *RouterGroup)</span></span> POST(pattern <span class="hljs-type">string</span>, handler HandlerFunc) {
        group.addRoute(<span class="hljs-string">"POST"</span>, pattern, handler)
}
</code></pre>
<p>æœ€åï¼Œå†™å®Œä¹‹åå¯ä»¥è¿›è¡Œæµ‹è¯•ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// main.go</span>
<span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
        <span class="hljs-string">"gee"</span>
        <span class="hljs-string">"net/http"</span>
)

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
        r := gee.New()
        r.GET(<span class="hljs-string">"/index"</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gee.Context)</span></span> {
                c.HTML(http.StatusOK, <span class="hljs-string">"&lt;h1&gt;Index Page&lt;/h1&gt;"</span>)
        })
        v1 := r.Group(<span class="hljs-string">"/v1"</span>)
        {
                v1.GET(<span class="hljs-string">"/"</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gee.Context)</span></span> {
                        c.HTML(http.StatusOK, <span class="hljs-string">"&lt;h1&gt;Hello Gee&lt;/h1&gt;"</span>)
                })

                v1.GET(<span class="hljs-string">"/hello"</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gee.Context)</span></span> {
                        <span class="hljs-comment">// æœŸæœ› /hello?name=way2top</span>
                        c.String(http.StatusOK, <span class="hljs-string">"hello %s, you're at %s\n"</span>, c.Query(<span class="hljs-string">"name"</span>), c.Path)
                })
        }
        v2 := r.Group(<span class="hljs-string">"/v2"</span>)
        {
                v2.GET(<span class="hljs-string">"/hello/:name"</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gee.Context)</span></span> {
                        <span class="hljs-comment">// æœŸæœ› /hello/way2top</span>
                        c.String(http.StatusOK, <span class="hljs-string">"hello %s, you're at %s\n"</span>, c.Param(<span class="hljs-string">"name"</span>), c.Path)
                })
                v2.POST(<span class="hljs-string">"/login"</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gee.Context)</span></span> {
                        c.JSON(http.StatusOK, gee.H{
                                <span class="hljs-string">"username"</span>: c.PostForm(<span class="hljs-string">"username"</span>),
                                <span class="hljs-string">"password"</span>: c.PostForm(<span class="hljs-string">"password"</span>),
                        })
                })
        }

        r.Run(<span class="hljs-string">":9999"</span>)
}
</code></pre>
<p>ç»ˆç«¯æµ‹è¯•ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">Gee</span> <span class="hljs-selector-tag">on</span> ï˜ <span class="hljs-selector-tag">main</span> <span class="hljs-selector-attr">[!]</span> <span class="hljs-selector-tag">via</span> î˜§ <span class="hljs-selector-tag">v1</span><span class="hljs-selector-class">.24</span><span class="hljs-selector-class">.3</span> 
â¯ <span class="hljs-selector-tag">curl</span> <span class="hljs-selector-tag">http</span>:<span class="hljs-comment">//localhost:9999/index   </span>
&lt;<span class="hljs-selector-tag">h1</span>&gt;<span class="hljs-selector-tag">Index</span> <span class="hljs-selector-tag">Page</span>&lt;/<span class="hljs-selector-tag">h1</span>&gt;%                              
<span class="hljs-selector-tag">Gee</span> <span class="hljs-selector-tag">on</span> ï˜ <span class="hljs-selector-tag">main</span> <span class="hljs-selector-attr">[!]</span> <span class="hljs-selector-tag">via</span> î˜§ <span class="hljs-selector-tag">v1</span><span class="hljs-selector-class">.24</span><span class="hljs-selector-class">.3</span> 
â¯ <span class="hljs-selector-tag">curl</span> <span class="hljs-selector-tag">http</span>:<span class="hljs-comment">//localhost:9999/v1</span>
&lt;<span class="hljs-selector-tag">h1</span>&gt;<span class="hljs-selector-tag">Hello</span> <span class="hljs-selector-tag">Gee</span>&lt;/<span class="hljs-selector-tag">h1</span>&gt;%                               
<span class="hljs-selector-tag">Gee</span> <span class="hljs-selector-tag">on</span> ï˜ <span class="hljs-selector-tag">main</span> <span class="hljs-selector-attr">[!]</span> <span class="hljs-selector-tag">via</span> î˜§ <span class="hljs-selector-tag">v1</span><span class="hljs-selector-class">.24</span><span class="hljs-selector-class">.3</span> 
â¯ <span class="hljs-selector-tag">curl</span> <span class="hljs-selector-tag">http</span>:<span class="hljs-comment">//localhost:9999/v1/</span>
&lt;<span class="hljs-selector-tag">h1</span>&gt;<span class="hljs-selector-tag">Hello</span> <span class="hljs-selector-tag">Gee</span>&lt;/<span class="hljs-selector-tag">h1</span>&gt;%                               
<span class="hljs-selector-tag">Gee</span> <span class="hljs-selector-tag">on</span> ï˜ <span class="hljs-selector-tag">main</span> <span class="hljs-selector-attr">[!]</span> <span class="hljs-selector-tag">via</span> î˜§ <span class="hljs-selector-tag">v1</span><span class="hljs-selector-class">.24</span><span class="hljs-selector-class">.3</span> 
â¯ <span class="hljs-selector-tag">curl</span> <span class="hljs-selector-tag">http</span>:<span class="hljs-comment">//localhost:9999/v1/hello</span>
<span class="hljs-selector-tag">hello</span> , <span class="hljs-selector-tag">you</span>'<span class="hljs-selector-tag">re</span> <span class="hljs-selector-tag">at</span> /<span class="hljs-selector-tag">v1</span>/<span class="hljs-selector-tag">hello</span>

<span class="hljs-selector-tag">Gee</span> <span class="hljs-selector-tag">on</span> ï˜ <span class="hljs-selector-tag">main</span> <span class="hljs-selector-attr">[!]</span> <span class="hljs-selector-tag">via</span> î˜§ <span class="hljs-selector-tag">v1</span><span class="hljs-selector-class">.24</span><span class="hljs-selector-class">.3</span> 
â¯ <span class="hljs-selector-tag">curl</span> <span class="hljs-selector-tag">http</span>:<span class="hljs-comment">//localhost:9999/v2      </span>
<span class="hljs-number">404</span> <span class="hljs-selector-tag">NOT</span> <span class="hljs-selector-tag">FOUND</span>: <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-tag">s</span>
%!(EXTRA string=/v2)%                             
<span class="hljs-selector-tag">Gee</span> <span class="hljs-selector-tag">on</span> ï˜ <span class="hljs-selector-tag">main</span> <span class="hljs-selector-attr">[!]</span> <span class="hljs-selector-tag">via</span> î˜§ <span class="hljs-selector-tag">v1</span><span class="hljs-selector-class">.24</span><span class="hljs-selector-class">.3</span> 
â¯ <span class="hljs-selector-tag">curl</span> <span class="hljs-selector-tag">http</span>:<span class="hljs-comment">//localhost:9999/v2/hello/way</span>
<span class="hljs-selector-tag">hello</span> <span class="hljs-selector-tag">way</span>, <span class="hljs-selector-tag">you</span>'<span class="hljs-selector-tag">re</span> <span class="hljs-selector-tag">at</span> /<span class="hljs-selector-tag">v2</span>/<span class="hljs-selector-tag">hello</span>/<span class="hljs-selector-tag">way</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2025å¹´Reactç”Ÿæ€æœ€æ–°è¶‹åŠ¿ï¼šæˆ‘ä»Reduxè¿ç§»åˆ°Zustandåæ€§èƒ½æå‡40%çš„å¿ƒå¾—]]></title>    <link>https://juejin.cn/post/7593240931286548532</link>    <guid>https://juejin.cn/post/7593240931286548532</guid>    <pubDate>2026-01-10T00:16:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593240931286548532" data-draft-id="7593240931286532148" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2025å¹´Reactç”Ÿæ€æœ€æ–°è¶‹åŠ¿ï¼šæˆ‘ä»Reduxè¿ç§»åˆ°Zustandåæ€§èƒ½æå‡40%çš„å¿ƒå¾—"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-10T00:16:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿æ©™çš„ç™¾å®ç®±"/> <meta itemprop="url" content="https://juejin.cn/user/1638743356481367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2025å¹´Reactç”Ÿæ€æœ€æ–°è¶‹åŠ¿ï¼šæˆ‘ä»Reduxè¿ç§»åˆ°Zustandåæ€§èƒ½æå‡40%çš„å¿ƒå¾—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1638743356481367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿æ©™çš„ç™¾å®ç®±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-10T00:16:46.000Z" title="Sat Jan 10 2026 00:16:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>2025å¹´Reactç”Ÿæ€æœ€æ–°è¶‹åŠ¿ï¼šæˆ‘ä»Reduxè¿ç§»åˆ°Zustandåæ€§èƒ½æå‡40%çš„å¿ƒå¾—</strong></h2>
<h2 data-id="heading-1">å¼•è¨€</h2>
<p>åœ¨Reactç”Ÿæ€ç³»ç»Ÿä¸­ï¼ŒçŠ¶æ€ç®¡ç†ä¸€ç›´æ˜¯å¼€å‘è€…ä»¬çƒ­è®®çš„è¯é¢˜ã€‚ä»æ—©æœŸçš„Fluxæ¶æ„åˆ°Reduxçš„ç»Ÿæ²»åœ°ä½ï¼Œå†åˆ°è¿‘å¹´æ¥è½»é‡çº§è§£å†³æ–¹æ¡ˆçš„å´›èµ·ï¼ŒçŠ¶æ€ç®¡ç†åº“çš„æ¼”è¿›ä»æœªåœæ­¢ã€‚2025å¹´ï¼Œéšç€React Concurrent Featuresçš„å…¨é¢æ™®åŠå’Œå¼€å‘è€…å¯¹æ€§èƒ½çš„æè‡´è¿½æ±‚ï¼ŒZustandå‡­å€Ÿå…¶ç®€æ´æ€§ã€é«˜æ€§èƒ½å’Œå¯æ‰©å±•æ€§ï¼Œé€æ¸æˆä¸ºè®¸å¤šå›¢é˜Ÿçš„é¦–é€‰ã€‚</p>
<p>ä½œä¸ºä¸€åé•¿æœŸä½¿ç”¨Reduxçš„å‰ç«¯å·¥ç¨‹å¸ˆï¼Œæˆ‘åœ¨æœ€è¿‘çš„é¡¹ç›®ä¸­å®Œæˆäº†ä»Reduxåˆ°Zustandçš„è¿ç§»ï¼Œå¹¶è§è¯äº†é«˜è¾¾40%çš„æ€§èƒ½æå‡ã€‚æœ¬æ–‡å°†åˆ†äº«è¿™ä¸€è¿ç§»è¿‡ç¨‹ä¸­çš„æŠ€æœ¯ç»†èŠ‚ã€æ€§èƒ½ä¼˜åŒ–å¿ƒå¾—ä»¥åŠå¯¹æœªæ¥ReactçŠ¶æ€ç®¡ç†è¶‹åŠ¿çš„æ€è€ƒã€‚</p>
<hr/>
<h2 data-id="heading-2">ä¸»ä½“</h2>
<h3 data-id="heading-3">1. Reduxçš„å†å²ä¸æŒ‘æˆ˜</h3>
<p>Reduxè‡ª2015å¹´è¯ç”Ÿä»¥æ¥ï¼Œä¸€ç›´æ˜¯Reactç”Ÿæ€ä¸­æœ€ä¸»æµçš„çŠ¶æ€ç®¡ç†æ–¹æ¡ˆã€‚å…¶å•å‘æ•°æ®æµã€çº¯å‡½æ•°Reducerå’ŒMiddlewareæœºåˆ¶ä¸ºå¤§å‹åº”ç”¨æä¾›äº†å¯é¢„æµ‹çš„çŠ¶æ€ç®¡ç†èƒ½åŠ›ã€‚ç„¶è€Œï¼Œéšç€æ—¶é—´çš„æ¨ç§»ï¼ŒReduxçš„ä¸€äº›é—®é¢˜ä¹Ÿé€æ¸æš´éœ²ï¼š</p>
<ul>
<li><strong>æ¨¡æ¿ä»£ç è¿‡å¤š</strong>ï¼šå³ä½¿æ˜¯ä¸€ä¸ªç®€å•çš„çŠ¶æ€æ›´æ–°ï¼Œä¹Ÿéœ€è¦å®šä¹‰Actionã€Reducerå’ŒDispatcherã€‚</li>
<li><strong>æ€§èƒ½å¼€é”€</strong>ï¼šåŸºäºContext APIçš„å®ç°æ–¹å¼å¯¼è‡´ä¸å¿…è¦çš„ç»„ä»¶é‡æ¸²æŸ“é—®é¢˜ã€‚</li>
<li><strong>å­¦ä¹ æ›²çº¿é™¡å³­</strong>ï¼šå¯¹äºæ–°æ‰‹æ¥è¯´ï¼ŒReduxçš„æ¦‚å¿µï¼ˆå¦‚Middlewareã€Thunk/Sagaï¼‰è¾ƒä¸ºå¤æ‚ã€‚</li>
</ul>
<p>å°½ç®¡Redux Toolkitï¼ˆRTKï¼‰åœ¨2019å¹´åå¤§å¹…ç®€åŒ–äº†å¼€å‘æµç¨‹ï¼Œä½†åœ¨2025å¹´çš„é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œå…¶æ€§èƒ½ç“¶é¢ˆä¾ç„¶å­˜åœ¨ã€‚</p>
<h3 data-id="heading-4">2. Zustandçš„æ ¸å¿ƒä¼˜åŠ¿</h3>
<p>Zustandæ˜¯ä¸€ä¸ªç”±Poimandreså›¢é˜Ÿå¼€å‘çš„è½»é‡çº§çŠ¶æ€ç®¡ç†åº“ï¼Œå…¶è®¾è®¡å“²å­¦æ˜¯â€œç®€å•ä¸”é«˜æ•ˆâ€ã€‚ä»¥ä¸‹æ˜¯Zustandçš„æ ¸å¿ƒä¼˜åŠ¿ï¼š</p>
<h4 data-id="heading-5">ï¼ˆ1ï¼‰æç®€API</h4>
<p>Zustandçš„APIéå¸¸ç®€æ´ï¼Œåªéœ€å‡ è¡Œä»£ç å³å¯å®šä¹‰ä¸€ä¸ªStoreï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { create } <span class="hljs-keyword">from</span> <span class="hljs-string">'zustand'</span>;

<span class="hljs-keyword">const</span> useStore = <span class="hljs-title function_">create</span>(<span class="hljs-function">(<span class="hljs-params">set</span>) =&gt;</span> ({
  <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">increment</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">set</span>(<span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> ({ <span class="hljs-attr">count</span>: state.<span class="hljs-property">count</span> + <span class="hljs-number">1</span> })),
}));
</code></pre>
<p>ç›¸æ¯”Reduxçš„æ¨¡æ¿ä»£ç ï¼ŒZustandçš„å¼€å‘æ•ˆç‡æ˜¾è‘—æå‡ã€‚</p>
<h4 data-id="heading-6">ï¼ˆ2ï¼‰ç²¾å‡†æ›´æ–°</h4>
<p>ZustandåŸºäºProxyå®ç°ç»†ç²’åº¦å“åº”å¼æ›´æ–°ï¼Œåªæœ‰ä¾èµ–ç‰¹å®šçŠ¶æ€çš„ç»„ä»¶æ‰ä¼šé‡æ–°æ¸²æŸ“ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">Component</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> count = <span class="hljs-title function_">useStore</span>(<span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.<span class="hljs-property">count</span>);
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{count}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
};
</code></pre>
<p>å³ä½¿Storeä¸­çš„å…¶ä»–çŠ¶æ€å˜åŒ–äº†ï¼ˆå¦‚<code>user</code>å­—æ®µï¼‰ï¼Œåªè¦<code>count</code>æœªå˜ï¼Œè¯¥ç»„ä»¶å°±ä¸ä¼šé‡æ¸²æŸ“ã€‚</p>
<h4 data-id="heading-7">ï¼ˆ3ï¼‰åŸç”Ÿæ”¯æŒå¼‚æ­¥æ“ä½œ</h4>
<p>Zustandæ— éœ€Middlewareå³å¯ç›´æ¥å¤„ç†å¼‚æ­¥é€»è¾‘ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> useStore = <span class="hljs-title function_">create</span>(<span class="hljs-function">(<span class="hljs-params">set</span>) =&gt;</span> ({
  <span class="hljs-attr">data</span>: <span class="hljs-literal">null</span>,
  <span class="hljs-attr">fetchData</span>: <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/data'</span>);
    <span class="hljs-title function_">set</span>({ <span class="hljs-attr">data</span>: <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>() });
  },
}));
</code></pre>
<h4 data-id="heading-8">ï¼ˆ4ï¼‰å“è¶Šçš„æ€§èƒ½è¡¨ç°</h4>
<p>åœ¨2025å¹´çš„åŸºå‡†æµ‹è¯•ä¸­ï¼ˆæ¥æºï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fkrausest%2Fjs-framework-benchmark" target="_blank" title="https://github.com/krausest/js-framework-benchmark" ref="nofollow noopener noreferrer">JS Framework Benchmark</a>ï¼‰ï¼ŒZustandåœ¨ä¸‡çº§ç»„ä»¶åœºæ™¯ä¸‹çš„æ¸²æŸ“æ€§èƒ½æ¯”Reduxå¿«40%ä»¥ä¸Šã€‚è¿™ä¸»è¦å¾—ç›Šäºå…¶é¿å…äº†Context APIçš„å¼€é”€å’Œä¼˜åŒ–çš„è®¢é˜…æœºåˆ¶ã€‚</p>
<h3 data-id="heading-9">3. è¿ç§»å®è·µä¸æ€§èƒ½ä¼˜åŒ–</h3>
<h4 data-id="heading-10">ï¼ˆ1ï¼‰æ¸è¿›å¼è¿ç§»ç­–ç•¥</h4>
<p>æˆ‘ä»¬çš„é¡¹ç›®æ˜¯ä¸€ä¸ªæ‹¥æœ‰10ä¸‡+è¡Œä»£ç çš„å¤§å‹ä¼ä¸šåº”ç”¨ã€‚ä¸ºäº†é™ä½é£é™©ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†æ¸è¿›å¼è¿ç§»ç­–ç•¥ï¼š</p>
<ol>
<li><strong>æ–°åŠŸèƒ½ä¼˜å…ˆä½¿ç”¨Zustand</strong>ï¼šé¿å…åœ¨è€ä»£ç ä¸ŠæŠ•å…¥æ›´å¤šç²¾åŠ›ã€‚</li>
<li><strong>é€æ­¥æ›¿æ¢Reduxæ¨¡å—</strong>ï¼šä»ä½é¢‘æ›´æ–°çš„æ¨¡å—å¼€å§‹è¿ç§»ï¼ˆå¦‚ç”¨æˆ·é…ç½®ï¼‰ã€‚</li>
<li><strong>å…±äº«çŠ¶æ€æ¡¥æ¥</strong>ï¼šé€šè¿‡è‡ªå®šä¹‰Hookå®ç°Reduxå’ŒZustandçš„çŠ¶æ€åŒæ­¥ï¼š
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">useCombinedStore</span> = (<span class="hljs-params">selector</span>) =&gt; {
  <span class="hljs-keyword">const</span> reduxState = <span class="hljs-title function_">useSelector</span>(selector);
  <span class="hljs-keyword">const</span> zustandState = <span class="hljs-title function_">useZustandStore</span>(selector);
  <span class="hljs-keyword">return</span> reduxState || zustandState;
};
</code></pre>
</li>
</ol>
<h4 data-id="heading-11">ï¼ˆ2ï¼‰å…³é”®æ€§èƒ½ä¼˜åŒ–ç‚¹</h4>
<ul>
<li><strong>é¿å…åµŒå¥—Selectors</strong>ï¼šæ·±åº¦åµŒå¥—çš„é€‰æ‹©å™¨ä¼šè§¦å‘ä¸å¿…è¦çš„è®¡ç®—ã€‚</li>
<li><strong>ä½¿ç”¨Shallowæ¯”è¾ƒ</strong>ï¼šå¯¹äºå¤æ‚å¯¹è±¡ï¼Œä½¿ç”¨<code>shallow</code>æ¯”è¾ƒå‡½æ•°å‡å°‘é‡æ¸²æŸ“ï¼š
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { shallow } <span class="hljs-keyword">from</span> <span class="hljs-string">'zustand/shallow'</span>;
<span class="hljs-keyword">const</span> { user, profile } = <span class="hljs-title function_">useStore</span>(
  <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> ({ <span class="hljs-attr">user</span>: state.<span class="hljs-property">user</span>, <span class="hljs-attr">profile</span>: state.<span class="hljs-property">profile</span> }),
  shallow
);
</code></pre>
</li>
<li><strong>åˆç†æ‹†åˆ†Store</strong>ï¼šæŒ‰ä¸šåŠ¡åŸŸæ‹†åˆ†å¤šä¸ªå°å‹Storeè€Œéå•ä¸€å…¨å±€Storeã€‚</li>
</ul>
<h4 data-id="heading-12">ï¼ˆ3ï¼‰å®é™…æ•ˆæœå¯¹æ¯”</h4>
<p>è¿ç§»å®Œæˆåï¼Œæˆ‘ä»¬é€šè¿‡React Profilerè¿›è¡Œäº†é‡åŒ–å¯¹æ¯”ï¼š</p>





























<table><thead><tr><th>Metric</th><th>Redux</th><th>Zustand</th><th>Improvement</th></tr></thead><tbody><tr><td>Render Time (ms)</td><td>120</td><td>72</td><td>-40%</td></tr><tr><td>Bundle Size (KB)</td><td>45</td><td>8</td><td>-82%</td></tr><tr><td>LOC</td><td>~1500</td><td>~400</td><td>-73%</td></tr></tbody></table>
<h3 data-id="heading-13">4. Reactæœªæ¥ç”Ÿæ€çš„è¶‹åŠ¿å±•æœ›</h3>
<p>åŸºäºè¿™æ¬¡è¿ç§»ç»éªŒå’Œ2025å¹´çš„æŠ€æœ¯å‘å±•åŠ¨æ€ï¼Œæˆ‘è®¤ä¸ºä»¥ä¸‹è¶‹åŠ¿å°†æˆä¸ºä¸»æµï¼š</p>
<h4 data-id="heading-14">ï¼ˆ1ï¼‰è½»é‡åŒ–æˆä¸ºåˆšéœ€</h4>
<p>éšç€Webåº”ç”¨çš„å¤æ‚åº¦æŒç»­å¢é•¿ï¼Œâ€œé›¶å¼€é”€â€ç†å¿µå°†æ›´å—é‡è§†ã€‚ç±»ä¼¼Zustandã€Jotaiè¿™æ ·çš„è½»é‡çº§åº“ä¼šè¿›ä¸€æ­¥æŒ¤å‹Reduxçš„å¸‚åœºä»½é¢ã€‚</p>
<h4 data-id="heading-15">ï¼ˆ2ï¼‰å¹¶å‘æ¨¡å¼å‹å¥½è®¾è®¡</h4>
<p>React Server Componentså’ŒConcurrent Featuresè¦æ±‚çŠ¶æ€ç®¡ç†åº“å…·å¤‡æ›´é«˜çš„è°ƒåº¦çµæ´»æ€§ã€‚Zustandsçš„å¯ä¸­æ–­æ›´æ–°æœºåˆ¶æ¯”ä¼ ç»Ÿçš„å•å‘æ•°æ®æµæ›´å…·ä¼˜åŠ¿ã€‚</p>
<h4 data-id="heading-16">ï¼ˆ3ï¼‰ç±»å‹å®‰å…¨æˆä¸ºæ ‡é…</h4>
<p>TypeScriptçš„ä½¿ç”¨ç‡å·²è¶…è¿‡90%ï¼Œæ–°ä¸€ä»£çŠ¶æ€ç®¡ç†åº“éƒ½ä¼šä¼˜å…ˆè€ƒè™‘ç±»å‹æ¨å¯¼èƒ½åŠ›ï¼ˆå¦‚Zustandså‡ºè‰²çš„è‡ªåŠ¨ç±»å‹æ¨æ–­ï¼‰ã€‚</p>
<hr/>
<h2 data-id="heading-17">æ€»ç»“</h2>
<p>ä»Reduxåˆ°Zustandsçš„è¿ç§»ä¸ä»…æ˜¯ä¸€æ¬¡æŠ€æœ¯æ ˆå‡çº§</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ„å»ºç°ä»£åŒ–çš„ Python PostgreSQL å·¥å…·åº“ï¼špsql_utils çš„é‡æ„ä¸ä¼˜åŒ–ä¹‹æ—…]]></title>    <link>https://juejin.cn/post/7593338828195889192</link>    <guid>https://juejin.cn/post/7593338828195889192</guid>    <pubDate>2026-01-10T00:33:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593338828195889192" data-draft-id="7593193235251740724" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ„å»ºç°ä»£åŒ–çš„ Python PostgreSQL å·¥å…·åº“ï¼špsql_utils çš„é‡æ„ä¸ä¼˜åŒ–ä¹‹æ—…"/> <meta itemprop="keywords" content="Python,PostgreSQL"/> <meta itemprop="datePublished" content="2026-01-10T00:33:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Lupino"/> <meta itemprop="url" content="https://juejin.cn/user/3051900006579256"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ„å»ºç°ä»£åŒ–çš„ Python PostgreSQL å·¥å…·åº“ï¼špsql_utils çš„é‡æ„ä¸ä¼˜åŒ–ä¹‹æ—…
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3051900006579256/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Lupino
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-10T00:33:12.000Z" title="Sat Jan 10 2026 00:33:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç°ä»£ Python åç«¯å¼€å‘ä¸­ï¼Œè½»é‡çº§ä¸”é«˜æ•ˆçš„æ•°æ®åº“äº¤äº’å·¥å…·è‡³å…³é‡è¦ã€‚æœ¬æ–‡å°†æ€»ç»“ <code>psql_utils</code> åº“çš„æ¶æ„è®¾è®¡ä¸é‡æ„è¿‡ç¨‹ã€‚è¿™æ˜¯ä¸€ä¸ªåŸºäº <code>psycopg</code> 3 æ„å»ºçš„ PostgreSQL å·¥å…·åº“ï¼Œæ—¨åœ¨æä¾›ç±»å‹å®‰å…¨ã€åŒæ—¶æ”¯æŒåŒæ­¥ï¼ˆSyncï¼‰ä¸å¼‚æ­¥ï¼ˆAsyncï¼‰çš„é«˜çº§æ•°æ®æ“ä½œæ¥å£ã€‚</p>
<h2 data-id="heading-0">1. é¡¹ç›®æ¦‚è§ˆä¸æ¶æ„è®¾è®¡</h2>
<p><code>psql_utils</code> å¹¶æ²¡æœ‰é‡‡ç”¨å…¨åŠŸèƒ½çš„ ORMï¼ˆå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰æ¨¡å¼ï¼Œè€Œæ˜¯é€‰æ‹©äº†ä¸€ç§æ›´è½»é‡çº§çš„â€œSQL æ„å»ºå™¨ + è®°å½•æ“ä½œâ€æ¨¡å¼ã€‚è¿™ç§è®¾è®¡åœ¨ä¿æŒ SQL çµæ´»æ€§çš„åŒæ—¶ï¼Œå¤§å¤§ç®€åŒ–äº†å¸¸è§çš„ CRUD æ“ä½œã€‚</p>
<p>é¡¹ç›®æ ¸å¿ƒç”±ä»¥ä¸‹å‡ ä¸ªæ¨¡å—ç»„æˆï¼š</p>
<ul>
<li><strong>ç±»å‹å®šä¹‰ä¸ SQL æ„å»º (<code>types.py</code>, <code>gen_sql.py</code>)</strong> : è´Ÿè´£å°† Python å¯¹è±¡è½¬æ¢ä¸º SQL è¯­å¥ï¼Œé¿å…äº†å®¹æ˜“å‡ºé”™çš„å­—ç¬¦ä¸²æ‹¼æ¥ã€‚</li>
<li><strong>è¿æ¥æ± ç®¡ç† (<code>__init__.py</code>, <code>sync.py</code>)</strong> : åˆ†åˆ«æä¾›äº†åŸºäº <code>asyncio</code> çš„å¼‚æ­¥è¿æ¥æ± å’ŒåŸºäºçº¿ç¨‹çš„åŒæ­¥è¿æ¥æ± ï¼ŒäºŒè€…å…±äº«ç›¸ä¼¼çš„ API è®¾è®¡ã€‚</li>
<li><strong>è®°å½•æ“ä½œæŠ½è±¡ (<code>record.py</code>, <code>record_sync.py</code>, <code>record_utils.py</code>)</strong> : åœ¨ SQL æ„å»ºä¹‹ä¸Šå°è£…äº† <code>get</code> (æŸ¥è¯¢), <code>save</code> (æ’å…¥/æ›´æ–°), <code>remove</code> (åˆ é™¤) ç­‰é«˜å±‚ä¸šåŠ¡é€»è¾‘ã€‚</li>
<li><strong>æ‰“åŒ…é…ç½® (<code>pyproject.toml</code>, <code>setup.py</code>)</strong> : éµå¾ªç°ä»£ Python æ‰“åŒ…æ ‡å‡†ã€‚</li>
</ul>
<h2 data-id="heading-1">2. æ ¸å¿ƒé‡æ„ä¸ä¼˜åŒ–ç‚¹</h2>
<p>åœ¨å¯¹ä»£ç åº“çš„å…¨é¢å®¡æŸ¥ä¸­ï¼Œæˆ‘ä»¬å®æ–½äº†ä¸¥æ ¼çš„ PEP 8 è§„èŒƒï¼Œå¹¶ä¿®å¤äº†æ½œåœ¨çš„è¿è¡Œæ—¶é”™è¯¯ã€‚ä»¥ä¸‹æ˜¯æœ¬æ¬¡é‡æ„çš„å…³é”®ä¼˜åŒ–ç‚¹ï¼š</p>
<h3 data-id="heading-2">A. ä¿®å¤å¯å˜é»˜è®¤å‚æ•° (Mutable Default Arguments)</h3>
<p>è¿™æ˜¯ Python ä¸­æœ€å¸¸è§çš„é™·é˜±ä¹‹ä¸€ã€‚åœ¨åŸä»£ç ä¸­ï¼Œå¤šä¸ªå‡½æ•°ä½¿ç”¨äº† <code>list</code> ä½œä¸ºé»˜è®¤å‚æ•°ï¼ˆä¾‹å¦‚ <code>keys=[]</code>ï¼‰ã€‚è¿™ä¼šå¯¼è‡´åˆ—è¡¨å¯¹è±¡åœ¨å‡½æ•°è°ƒç”¨é—´å…±äº«ï¼Œä»è€Œå¼•å‘éš¾ä»¥è°ƒè¯•çš„çŠ¶æ€æ±¡æŸ“ bugã€‚</p>
<p><strong>ä¼˜åŒ–å‰ï¼š</strong></p>
<p>Python</p>
<pre><code class="hljs language-ini" lang="ini">def __init__(self, <span class="hljs-attr">joins</span>=[]):  <span class="hljs-comment"># å±é™©ï¼æ‰€æœ‰å®ä¾‹å…±äº«åŒä¸€ä¸ªåˆ—è¡¨</span>
    <span class="hljs-attr">self.joins</span> = joins
</code></pre>
<p><strong>ä¼˜åŒ–åï¼š</strong></p>
<p>Python</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, joins: <span class="hljs-type">Optional</span>[<span class="hljs-type">List</span>[LeftJoin]] = <span class="hljs-literal">None</span></span>):
    <span class="hljs-comment"># å®‰å…¨ï¼šæ¯æ¬¡åˆå§‹åŒ–éƒ½åˆ›å»ºæ–°åˆ—è¡¨</span>
    self.joins = joins <span class="hljs-keyword">if</span> joins <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">else</span> []
</code></pre>
<h3 data-id="heading-3">B. ç±»å‹æç¤ºä¸å®‰å…¨æ€§ (Type Hinting)</h3>
<p>å¼•å…¥äº† <code>typing</code> æ¨¡å—ï¼ˆ<code>Optional</code>, <code>List</code>, <code>Union</code>, <code>Callable</code>ï¼‰ï¼Œé…åˆ <code>mypy_extensions</code>ï¼Œæå¤§åœ°å¢å¼ºäº†ä»£ç çš„å¯è¯»æ€§å’Œ IDE çš„è‡ªåŠ¨è¡¥å…¨èƒ½åŠ›ã€‚æ‰€æœ‰å‡½æ•°ç­¾åç°åœ¨éƒ½æ¸…æ™°åœ°è¡¨æ˜äº†è¾“å…¥è¾“å‡ºç±»å‹ï¼Œå‡å°‘äº†ç±»å‹ç›¸å…³çš„è¿è¡Œæ—¶é”™è¯¯ã€‚</p>
<h3 data-id="heading-4">C. ä»£ç é£æ ¼ä¸è§„èŒƒ (PEP 8 &amp; 79å­—ç¬¦é™åˆ¶)</h3>
<p>ä¸ºäº†é€‚åº”å„ç§å¼€å‘ç¯å¢ƒï¼ˆåŒ…æ‹¬ç»ˆç«¯ç¼–è¾‘å™¨å’Œåˆ†å±å¼€å‘ï¼‰ï¼Œæˆ‘ä»¬å¼ºåˆ¶æ‰§è¡Œäº†æ¯è¡Œä¸è¶…è¿‡ 79 ä¸ªå­—ç¬¦çš„æ ‡å‡†ã€‚</p>
<ul>
<li><strong>å­—ç¬¦ä¸²æ ¼å¼åŒ–</strong>ï¼šå°†é™ˆæ—§çš„ <code>.format()</code> æ–¹æ³•å…¨é¢æ›¿æ¢ä¸º Python 3.6+ çš„ f-stringï¼Œä¸ä»…ä»£ç æ›´çŸ­ï¼Œæ€§èƒ½ä¹Ÿæ›´ä¼˜ã€‚</li>
<li><strong>æ–‡æ¡£æ³¨é‡Š</strong>ï¼šä¸ºæ ¸å¿ƒç±»å’Œå‡½æ•°æ·»åŠ äº†æ¸…æ™°çš„è‹±æ–‡ Docstringsï¼Œè§£é‡Šäº†å‚æ•°ç”¨é€”å’Œè¿”å›å€¼ã€‚</li>
</ul>
<h3 data-id="heading-5">D. è¿æ¥æ± çš„å¥å£®æ€§</h3>
<p>åœ¨ <code>__init__.py</code> (Async) å’Œ <code>sync.py</code> (Sync) ä¸­ï¼Œä½¿ç”¨äº†è£…é¥°å™¨æ¨¡å¼ (<code>@run_with_pool</code>) æ¥è‡ªåŠ¨ç®¡ç†æ•°æ®åº“æ¸¸æ ‡ï¼ˆCursorï¼‰çš„ç”Ÿå‘½å‘¨æœŸã€‚</p>
<ul>
<li><strong>è‡ªåŠ¨é‡è¿</strong>ï¼šå½“æ£€æµ‹åˆ°è¿æ¥æ–­å¼€ï¼ˆå¦‚ <code>closing</code> é”™è¯¯ï¼‰æ—¶ï¼Œè£…é¥°å™¨ä¼šè‡ªåŠ¨å°è¯•é‡æ–°å»ºç«‹è¿æ¥æ± å¹¶é‡è¯•æ“ä½œï¼Œå¤§å¤§æé«˜äº†æœåŠ¡åœ¨æ•°æ®åº“é‡å¯æˆ–ç½‘ç»œæ³¢åŠ¨ä¸‹çš„ç¨³å®šæ€§ã€‚</li>
</ul>
<h2 data-id="heading-6">3. æ ¸å¿ƒåŠŸèƒ½å±•ç¤º</h2>
<h3 data-id="heading-7">æ™ºèƒ½çš„ SQL ç”Ÿæˆ</h3>
<p><code>gen_sql.py</code> å¤„ç†äº†å¤æ‚çš„ SQL æ‹¼æ¥é€»è¾‘ï¼Œç‰¹åˆ«æ˜¯ <code>UPSERT</code>ï¼ˆæ’å…¥æˆ–æ›´æ–°ï¼‰æ“ä½œã€‚</p>
<p>Python</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># è‡ªåŠ¨ç”Ÿæˆ INSERT INTO ... ON CONFLICT DO UPDATE</span>
<span class="hljs-attr">sql</span> = gen.gen_insert_or_update(
    <span class="hljs-attr">table_name</span>=t(<span class="hljs-string">'users'</span>),
    <span class="hljs-attr">uniq_columns</span>=[c(<span class="hljs-string">'email'</span>)],
    <span class="hljs-attr">value_columns</span>=[c(<span class="hljs-string">'name'</span>), c(<span class="hljs-string">'age'</span>)]
)
</code></pre>
<h3 data-id="heading-8">ç»Ÿä¸€çš„ Record API</h3>
<p>æ— è®ºæ˜¯åœ¨å¼‚æ­¥è¿˜æ˜¯åŒæ­¥ç¯å¢ƒä¸­ï¼Œå¼€å‘è€…éƒ½å¯ä»¥ä½¿ç”¨å‡ ä¹ä¸€è‡´çš„ API æ¥å¤„ç†æ•°æ®ã€‚</p>
<p><strong>å¼‚æ­¥ä¿å­˜æ•°æ® (<code>record.py</code>)ï¼š</strong></p>
<p>Python</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># å¦‚æœ id å­˜åœ¨åˆ™æ›´æ–°ï¼Œå¦åˆ™æ ¹æ®å”¯ä¸€é”®åˆ¤æ–­æ˜¯æ’å…¥è¿˜æ˜¯æ›´æ–°</span>
<span class="hljs-attr">user_id</span> = await record.save(
    <span class="hljs-attr">table</span>=t(<span class="hljs-string">'users'</span>),
    <span class="hljs-attr">uniq_keys</span>=[<span class="hljs-string">'email'</span>],
    <span class="hljs-attr">email</span>=<span class="hljs-string">'user@example.com'</span>,
    <span class="hljs-attr">name</span>=<span class="hljs-string">'Pythonista'</span>,
    <span class="hljs-attr">json_keys</span>=[<span class="hljs-string">'meta'</span>] <span class="hljs-comment"># è‡ªåŠ¨å¤„ç† JSON åºåˆ—åŒ–ä¸åˆå¹¶</span>
)
</code></pre>
<p><strong>åŒæ­¥è·å–åˆ—è¡¨ (<code>record_sync.py</code>)ï¼š</strong></p>
<p>Python</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># æ”¯æŒåˆ†é¡µã€æ’åºã€JSON å­—æ®µæŸ¥è¯¢</span>
<span class="hljs-attr">users</span> = record_sync.get_list(
    <span class="hljs-attr">table</span>=t(<span class="hljs-string">'users'</span>),
    <span class="hljs-attr">part_sql</span>=<span class="hljs-string">"meta#&gt;&gt;'{role}' = %s"</span>,
    <span class="hljs-attr">args</span>=(<span class="hljs-string">'admin'</span>,),
    <span class="hljs-attr">size</span>=<span class="hljs-number">20</span>,
    <span class="hljs-attr">sorts</span>=<span class="hljs-string">'created_at desc'</span>
)
</code></pre>
<h2 data-id="heading-9">4. ç°ä»£åŒ–æ‰“åŒ…ä¸ä¾èµ–</h2>
<p>é¡¹ç›®é…ç½®å·²æ›´æ–°ä»¥æ”¯æŒç°ä»£ Python ç”Ÿæ€ï¼š</p>
<ul>
<li><strong>pyproject.toml</strong>ï¼šä½œä¸ºæ„å»ºç³»ç»Ÿçš„æ ¸å¿ƒï¼ŒæŒ‡å®šäº†æ„å»ºä¾èµ–ã€‚</li>
<li><strong>ä¾èµ–ç®¡ç†</strong>ï¼šæ˜ç¡®å£°æ˜äº† <code>psycopg[binary,pool]</code>ï¼Œç¡®ä¿å®‰è£…æ—¶åŒ…å«äºŒè¿›åˆ¶é©±åŠ¨å’Œè¿æ¥æ± æ”¯æŒï¼Œæå‡å®‰è£…é€Ÿåº¦å’Œè¿è¡Œæ€§èƒ½ã€‚</li>
<li><strong>ç‰ˆæœ¬å…¼å®¹</strong>ï¼šæ˜ç¡®æ ‡è®°æ”¯æŒ Python 3.8+ï¼Œå¹¶ç§»é™¤äº†å·²åºŸå¼ƒçš„ <code>distutils</code>ã€‚</li>
</ul>
<h2 data-id="heading-10">æ€»ç»“</h2>
<p>ç»è¿‡æœ¬æ¬¡é‡æ„ï¼Œ<code>psql_utils</code> ä»ä¸€ä¸ªç®€å•çš„å·¥å…·è„šæœ¬é›†åˆèœ•å˜ä¸ºä¸€ä¸ªå¥å£®ã€ç±»å‹å®‰å…¨ä¸”æ˜“äºç»´æŠ¤çš„ Python åº“ã€‚å®ƒæ—¢ä¿ç•™äº†ç›´æ¥æ“ä½œ SQL çš„çµæ´»æ€§ï¼Œåˆæä¾›äº†è¶³å¤Ÿçš„æŠ½è±¡æ¥åŠ é€Ÿæ—¥å¸¸å¼€å‘ï¼Œæ˜¯æ„å»ºä¸­å°å‹ PostgreSQL åº”ç”¨çš„ç†æƒ³é€‰æ‹©ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ£’æ£’ç³–å›¾ï¼šå½“æ¡å½¢å›¾é‡ä¸Šæç®€ç¾å­¦]]></title>    <link>https://juejin.cn/post/7592990758477037587</link>    <guid>https://juejin.cn/post/7592990758477037587</guid>    <pubDate>2026-01-10T00:40:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592990758477037587" data-draft-id="7593145583348432938" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ£’æ£’ç³–å›¾ï¼šå½“æ¡å½¢å›¾é‡ä¸Šæç®€ç¾å­¦"/> <meta itemprop="keywords" content="Python,æ•°æ®å¯è§†åŒ–,æ•°æ®åˆ†æ"/> <meta itemprop="datePublished" content="2026-01-10T00:40:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="databook"/> <meta itemprop="url" content="https://juejin.cn/user/3526889035006702"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ£’æ£’ç³–å›¾ï¼šå½“æ¡å½¢å›¾é‡ä¸Šæç®€ç¾å­¦
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3526889035006702/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    databook
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-10T00:40:59.000Z" title="Sat Jan 10 2026 00:40:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>æ£’æ£’ç³–å›¾</strong>ï¼ˆLollipop Chartï¼‰å¯ä»¥çœ‹ä½œæ˜¯æ¡å½¢å›¾çš„ä¸€ç§â€œè½»ç›ˆç‰ˆâ€å˜ä½“ï¼šå®ƒç”¨ä¸€æ ¹ä»åŸºå‡†çº¿å»¶ä¼¸å‡ºæ¥çš„â€œæ£’â€ï¼Œå¹¶åœ¨æœ«ç«¯ä»¥ä¸€ä¸ªâ€œç³–â€ï¼ˆåœ†ç‚¹ï¼‰æ¥è¡¨ç¤ºæ•°å€¼ï¼Œå–ä»£äº†ä¼ ç»Ÿçš„çŸ©å½¢æ¡ã€‚</p>
<p>è¿™ç§å›¾è¡¨ä¼ è¾¾çš„ä¿¡æ¯ä¸æ¡å½¢å›¾æ˜¯ä¸€æ ·çš„ï¼Œä½†å®ƒæ›´æ³¨é‡çªå‡ºæ•°æ®ç‚¹çš„ä½ç½®ï¼Œæ•´ä½“çœ‹èµ·æ¥æ›´åŠ æ¸…æ–°ã€ç°ä»£ã€‚</p>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬ä¸€èµ·æ¢ç´¢æ£’æ£’ç³–å›¾çš„ä¼˜åŠ¿ï¼Œå¹¶é€šè¿‡ä»£ç å®ç°ï¼Œäº²æ‰‹æ‰“é€ ä¸€ä¸ªå±äºè‡ªå·±çš„æ£’æ£’ç³–å›¾ï¼</p>
<h2 data-id="heading-0">è®¾è®¡åŸç†</h2>
<p>è®¾è®¡æ£’æ£’ç³–å›¾çš„åˆè¡·æœ‰ä¸¤ä¸ªæ–¹é¢ï¼š</p>
<p>é¦–å…ˆï¼Œé€šè¿‡å‡å°‘å›¾å½¢ä¸­çš„â€œå¢¨æ°´â€ä½¿ç”¨é‡ï¼Œåœ¨é¢å¯¹å¤§é‡ç±»åˆ«æˆ–æ•°å€¼æ™®éè¾ƒé«˜çš„æƒ…å†µä¸‹ï¼Œé¿å…äº†æ¡å½¢å›¾è¿‡äºå¯†é›†å¯èƒ½å¸¦æ¥çš„<strong>è§†è§‰å‹è¿«æ„Ÿ</strong>å’Œ<strong>æ‚ä¹±æ— ç« </strong>çš„æ„Ÿè§‰ï¼›</p>
<p>å…¶æ¬¡ï¼Œè¿™æ ·çš„è®¾è®¡èƒ½å¤Ÿæ›´å¥½åœ°å¼•å¯¼è§‚å¯Ÿè€…çš„æ³¨æ„åŠ›é›†ä¸­åœ¨å„ä¸ªæ•°æ®ç‚¹çš„å…·ä½“ä½ç½®åŠå…¶ä¹‹é—´çš„å·®å¼‚ä¸Šï¼Œéå¸¸é€‚åˆç”¨æ¥è¿›è¡Œæ’åæˆ–è€…å¯¹æ¯”åˆ†æã€‚</p>
<p><strong>æ£’æ£’ç³–å›¾</strong>ä¸<strong>æ¡å½¢å›¾</strong>åœ¨åŠŸèƒ½ä¸Šæ˜¯ç­‰ä»·çš„ï¼Œä¹Ÿå¹¶ä¸æ€»æ˜¯ä¼˜äºæ¡å½¢å›¾ã€‚</p>
<p>å½“å¤„ç†å¤§é‡ç±»åˆ«ã€æ¡æŸ±éå¸¸é«˜ä¸”ç›¸äº’ä¹‹é—´è·ç¦»è¾ƒè¿‘çš„æ•°æ®æ—¶ï¼Œæ£’æ£’ç³–å›¾ä¼šæ˜¾å¾—æ›´åŠ æ˜“äºé˜…è¯»ç†è§£ï¼›</p>
<p>ç„¶è€Œï¼Œåœ¨éœ€è¦å¼ºè°ƒç»å¯¹æ•°é‡æˆ–æ˜¯å¸Œæœ›è·å¾—æœ€ä¸ºç›´è§‚é•¿åº¦æ¯”è¾ƒçš„æƒ…å†µä¸‹ï¼Œæ¡å½¢å›¾ä¾ç„¶æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚</p>
<h2 data-id="heading-1">å®ç°åŸç†</h2>
<p><strong>æ£’æ£’ç³–å›¾</strong>åœ¨<code>matplotlib</code>åº“ä¸­æ²¡æœ‰ç›´æ¥å¯¹åº”çš„ç±»ã€‚</p>
<p>ä¸è¿‡ï¼Œå®ƒçš„å®ç°åŸç†éå¸¸ç®€å•ï¼Œé€šè¿‡ç»„åˆä½¿ç”¨ <code>matplotlib</code> ä¸­çš„ä¸¤ä¸ªåŸºæœ¬ç»˜å›¾åŠŸèƒ½å°±å¯ä»¥å®ç°ï¼š</p>
<ol>
<li><strong>ç»˜åˆ¶çº¿æ¡</strong> (<code>plt.vlines</code>)ï¼šè¿™æ˜¯æ„æˆæ£’æ£’ç³–â€œæ£å­â€éƒ¨åˆ†çš„å…³é”®ã€‚</li>
</ol>
<p><code>plt.vlines</code> å‡½æ•°ç”¨äºåœ¨å›¾è¡¨ä¸Šç»˜åˆ¶å‚ç›´çº¿æ®µã€‚é€šè¿‡æŒ‡å®šæ¯ä¸ªæ•°æ®ç‚¹çš„ x åæ ‡ã€çº¿æ¡çš„èµ·å§‹ç‚¹ï¼ˆé€šå¸¸æ˜¯ 0ï¼‰å’Œç»“æŸç‚¹ï¼ˆå³å¯¹åº”æ•°æ®çš„ y å€¼ï¼‰ï¼Œå°±å¯ä»¥ç”»å‡ºä» x è½´å»¶ä¼¸åˆ°æ•°æ®å€¼çš„çº¿æ¡ã€‚</p>
<ol start="2">
<li><strong>ç»˜åˆ¶åœ†ç‚¹</strong> (<code>plt.scatter</code>)ï¼šè¿™æ˜¯æ„æˆæ£’æ£’ç³–â€œç³–â€éƒ¨åˆ†çš„å…³é”®ã€‚</li>
</ol>
<p><code>plt.scatter</code> å‡½æ•°ç”¨äºç»˜åˆ¶æ•£ç‚¹å›¾ã€‚é€šè¿‡å°†æ¯ä¸ªæ•°æ®ç‚¹çš„ x åæ ‡å’Œ y åæ ‡ï¼ˆå³æ•°æ®å€¼ï¼‰ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œå°±å¯ä»¥åœ¨æ¯æ¡çº¿çš„é¡¶ç«¯ç»˜åˆ¶ä¸€ä¸ªåœ†ç‚¹ã€‚</p>
<p>æ€»çš„æ¥è¯´ï¼Œ<strong>å®ç°åŸç†</strong>å°±æ˜¯ï¼šç”¨çº¿æ¡è¡¨ç¤ºæ•°å€¼çš„å¤§å°ï¼Œç”¨åœ†ç‚¹å¼ºè°ƒæ•°å€¼çš„ç»ˆç‚¹ä½ç½®ï¼Œä¸¤è€…ç»“åˆå°±å½¢æˆäº†è§†è§‰ä¸Šç±»ä¼¼æ£’æ£’ç³–çš„å›¾è¡¨ã€‚</p>
<p>è¿™ç§ç»„åˆæ–¹å¼ä½¿å¾—å›¾è¡¨æ¯”å®å¿ƒçš„æ¡å½¢å›¾æ›´ç®€æ´ï¼ŒåŒæ—¶åˆèƒ½æ¸…æ™°åœ°ä¼ è¾¾æ•°æ®ä¿¡æ¯ã€‚</p>
<p>ä¸‹ä¸€èŠ‚çš„ç¤ºä¾‹ä¸­ï¼Œå°†ä¼šæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨<code>matplotlib</code>æ¥ç»˜åˆ¶<strong>æ£’æ£’ç³–å›¾</strong>ã€‚</p>
<h2 data-id="heading-2">åº”ç”¨ç¤ºä¾‹</h2>
<p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬é€šè¿‡å®é™…çš„å¯¹æ¯”ç¤ºä¾‹ï¼Œç›´è§‚åœ°æ„Ÿå—æ£’æ£’ç³–å›¾ä¸ä¼ ç»Ÿæ¡å½¢å›¾çš„ä¸åŒè¡¨ç°ã€‚</p>
<h3 data-id="heading-3">é€‚åˆæ£’æ£’ç³–å›¾çš„åœºæ™¯</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åˆ›å»ºæ›´å¤šç±»åˆ«çš„æµ‹è¯•æ•°æ®</span>
<span class="hljs-comment"># æ¨¡æ‹Ÿä¸åŒæœˆä»½ä¸­æ¯å¤©çš„æŸä¸ªæŒ‡æ ‡ï¼ˆä¾‹å¦‚ï¼šæ¯æ—¥å¹³å‡æ­¥æ•°ï¼Œå•ä½ï¼šåƒæ­¥ï¼‰</span>
days = [<span class="hljs-string">f"Day <span class="hljs-subst">{i}</span>"</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">21</span>)]  <span class="hljs-comment"># ç”Ÿæˆ 20 å¤©çš„æ•°æ®</span>
np.random.seed(<span class="hljs-number">42</span>)  <span class="hljs-comment"># è®¾ç½®éšæœºç§å­ï¼Œç¡®ä¿æ¯æ¬¡è¿è¡Œç»“æœä¸€è‡´</span>
<span class="hljs-comment"># ç”Ÿæˆ 1 åˆ° 5 ä¹‹é—´çš„éšæœºæ•°å€¼ä½œä¸ºç¤ºä¾‹æ•°æ®</span>
values = np.<span class="hljs-built_in">round</span>(np.random.uniform(<span class="hljs-number">1.0</span>, <span class="hljs-number">5.0</span>, size=<span class="hljs-built_in">len</span>(days)), <span class="hljs-number">1</span>)

<span class="hljs-comment"># --- åˆ›å»ºå­å›¾ ---</span>
fig, (ax1, ax2) = plt.subplots(<span class="hljs-number">2</span>, <span class="hljs-number">1</span>, figsize=(<span class="hljs-number">12</span>, <span class="hljs-number">10</span>))  <span class="hljs-comment"># è°ƒæ•´ä¸ºå‚ç›´å¸ƒå±€ï¼Œæ–¹ä¾¿æ¯”è¾ƒ</span>

<span class="hljs-comment"># --- ç»˜åˆ¶æ¡å½¢å›¾ (ä¸Šå›¾) ---</span>
bars = ax1.bar(days, values, color=<span class="hljs-string">"skyblue"</span>, edgecolor=<span class="hljs-string">"navy"</span>, linewidth=<span class="hljs-number">0.7</span>)
ax1.set_title(<span class="hljs-string">"æ¡å½¢å›¾ (Bar Chart) - æ¯æ—¥æ­¥æ•°"</span>, fontsize=<span class="hljs-number">14</span>)
ax1.set_ylabel(<span class="hljs-string">"æ•°å€¼ (åƒæ­¥)"</span>)
<span class="hljs-comment"># ax1.set_xlabel('æ—¥æœŸ') # xè½´æ ‡ç­¾å·²åœ¨ä¸‹æ–¹å›¾ä¸­</span>
ax1.grid(axis=<span class="hljs-string">"y"</span>, linestyle=<span class="hljs-string">"--"</span>, alpha=<span class="hljs-number">0.7</span>)
<span class="hljs-comment"># åœ¨æ¡å½¢å›¾ä¸Šæ·»åŠ æ•°å€¼æ ‡ç­¾</span>
<span class="hljs-keyword">for</span> bar, val <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(bars, values):
    height = bar.get_height()
    ax1.text(
        bar.get_x() + bar.get_width() / <span class="hljs-number">2.0</span>,
        height + <span class="hljs-number">0.05</span>,
        <span class="hljs-string">f"<span class="hljs-subst">{val}</span>"</span>,
        ha=<span class="hljs-string">"center"</span>,
        va=<span class="hljs-string">"bottom"</span>,
        fontsize=<span class="hljs-number">8</span>,
    )  <span class="hljs-comment"># æ ‡ç­¾æ—‹è½¬90åº¦èŠ‚çœç©ºé—´</span>

<span class="hljs-comment"># --- ç»˜åˆ¶æ£’æ£’ç³–å›¾ (ä¸‹å›¾) ---</span>
<span class="hljs-comment"># 1. ç»˜åˆ¶çº¿æ¡</span>
ax2.vlines(x=<span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(days)), ymin=<span class="hljs-number">0</span>, ymax=values, color=<span class="hljs-string">"navy"</span>, linewidth=<span class="hljs-number">2</span>)
<span class="hljs-comment"># 2. åœ¨çº¿æ¡é¡¶éƒ¨ç»˜åˆ¶åœ†ç‚¹</span>
ax2.scatter(x=<span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(days)), y=values, color=<span class="hljs-string">"red"</span>, s=<span class="hljs-number">50</span>, zorder=<span class="hljs-number">3</span>)
<span class="hljs-comment"># 3. æ·»åŠ æ•°å€¼æ ‡ç­¾</span>
<span class="hljs-keyword">for</span> i, val <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(values):
    ax2.text(i, val + <span class="hljs-number">0.1</span>, <span class="hljs-string">f"<span class="hljs-subst">{val}</span>"</span>, ha=<span class="hljs-string">"center"</span>, va=<span class="hljs-string">"bottom"</span>, fontsize=<span class="hljs-number">8</span>)

ax2.set_title(<span class="hljs-string">"æ£’æ£’ç³–å›¾ (Lollipop Chart) - æ¯æ—¥æ­¥æ•°"</span>, fontsize=<span class="hljs-number">14</span>)
ax2.set_ylabel(<span class="hljs-string">"æ•°å€¼ (åƒæ­¥)"</span>)
ax2.set_xlabel(<span class="hljs-string">"æ—¥æœŸ"</span>)
ax2.set_xticks(<span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(days)))
ax2.set_xticklabels(days, rotation=<span class="hljs-number">45</span>, ha=<span class="hljs-string">"right"</span>)  <span class="hljs-comment"># æ—‹è½¬xè½´æ ‡ç­¾ä»¥ä¾¿é˜…è¯»</span>
ax2.grid(axis=<span class="hljs-string">"y"</span>, linestyle=<span class="hljs-string">"--"</span>, alpha=<span class="hljs-number">0.7</span>)
ax2.set_ylim(<span class="hljs-number">0</span>, <span class="hljs-built_in">max</span>(values) * <span class="hljs-number">1.1</span>)

<span class="hljs-comment"># --- æ˜¾ç¤ºå›¾å½¢ ---</span>
plt.tight_layout()  <span class="hljs-comment"># è°ƒæ•´å­å›¾é—´è·</span>
plt.show()
</code></pre>

<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cf1d9bc25295437d9eca9ef2ad2c08df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZGF0YWJvb2s=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768610458&amp;x-signature=RLIfamyr63H81ru8%2B1RRGHY13iI%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸ªç¤ºä¾‹ä½¿ç”¨äº†20ä¸ªæ•°æ®ç±»åˆ«ï¼ˆDay 1 åˆ° Day 20ï¼‰ã€‚</p>
<p>ä½ å¯ä»¥çœ‹åˆ°ï¼Œåœ¨æ¡å½¢å›¾ä¸­ï¼Œè®¸å¤šè“è‰²çš„æ¡å½¢ç´§å¯†åœ°æ’åˆ—åœ¨ä¸€èµ·ï¼Œè§†è§‰ä¸Šæ˜¾å¾—æœ‰äº›æ‹¥æŒ¤ã€‚</p>
<p>è€Œåœ¨æ£’æ£’ç³–å›¾ä¸­ï¼Œçº¿æ¡å’Œåœ†ç‚¹ä½¿å¾—æ•°æ®ç‚¹ä¹‹é—´çš„å…³ç³»æ›´åŠ æ¸…æ™°ï¼Œæ•´ä½“è§†è§‰æ•ˆæœæ›´è½»ç›ˆï¼Œæ›´å®¹æ˜“æ¯”è¾ƒå„ä¸ªæ•°å€¼çš„å¤§å°å’Œè¯†åˆ«æ¨¡å¼ã€‚</p>
<h3 data-id="heading-4">é€‚åˆä¼ ç»Ÿæ¡å½¢å›¾çš„åœºæ™¯</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åˆ›å»ºæ›´é€‚åˆæ¡å½¢å›¾çš„æµ‹è¯•æ•°æ®</span>
<span class="hljs-comment"># æ¨¡æ‹ŸæŸå…¬å¸è¿ç»­12ä¸ªæœˆçš„é”€å”®é¢ï¼ˆå•ä½ï¼šä¸‡å…ƒï¼‰</span>
months = [
    <span class="hljs-string">"1æœˆ"</span>,
    <span class="hljs-string">"2æœˆ"</span>,
    <span class="hljs-string">"3æœˆ"</span>,
    <span class="hljs-string">"4æœˆ"</span>,
    <span class="hljs-string">"5æœˆ"</span>,
    <span class="hljs-string">"6æœˆ"</span>,
    <span class="hljs-string">"7æœˆ"</span>,
    <span class="hljs-string">"8æœˆ"</span>,
    <span class="hljs-string">"9æœˆ"</span>,
    <span class="hljs-string">"10æœˆ"</span>,
    <span class="hljs-string">"11æœˆ"</span>,
    <span class="hljs-string">"12æœˆ"</span>,
]
<span class="hljs-comment"># ç”Ÿæˆæœ‰ä¸€å®šè¶‹åŠ¿å’Œæ³¢åŠ¨çš„é”€å”®é¢æ•°æ®ï¼Œä¾‹å¦‚æœ‰å­£èŠ‚æ€§é«˜å³°</span>
sales = [<span class="hljs-number">120</span>, <span class="hljs-number">110</span>, <span class="hljs-number">135</span>, <span class="hljs-number">140</span>, <span class="hljs-number">155</span>, <span class="hljs-number">170</span>, <span class="hljs-number">185</span>, <span class="hljs-number">180</span>, <span class="hljs-number">160</span>, <span class="hljs-number">150</span>, <span class="hljs-number">145</span>, <span class="hljs-number">165</span>]

<span class="hljs-comment"># --- åˆ›å»ºå­å›¾ ---</span>
fig, (ax1, ax2) = plt.subplots(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, figsize=(<span class="hljs-number">16</span>, <span class="hljs-number">6</span>))

<span class="hljs-comment"># --- ç»˜åˆ¶æ¡å½¢å›¾ (å·¦å›¾) ---</span>
bars = ax1.bar(months, sales, color=<span class="hljs-string">"lightsteelblue"</span>, edgecolor=<span class="hljs-string">"black"</span>, linewidth=<span class="hljs-number">0.7</span>)
ax1.set_title(<span class="hljs-string">"æ¡å½¢å›¾ (Bar Chart - æœˆä»½é”€å”®é¢)"</span>, fontsize=<span class="hljs-number">14</span>)
ax1.set_ylabel(<span class="hljs-string">"é”€å”®é¢ (ä¸‡å…ƒ)"</span>)
ax1.set_xlabel(<span class="hljs-string">"æœˆä»½"</span>)
ax1.grid(axis=<span class="hljs-string">"y"</span>, linestyle=<span class="hljs-string">"--"</span>, alpha=<span class="hljs-number">0.7</span>)
<span class="hljs-comment"># åœ¨æ¡å½¢å›¾ä¸Šæ·»åŠ æ•°å€¼æ ‡ç­¾</span>
<span class="hljs-keyword">for</span> bar, s <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(bars, sales):
    height = bar.get_height()
    ax1.text(
        bar.get_x() + bar.get_width() / <span class="hljs-number">2.0</span>,
        height + <span class="hljs-number">2</span>,
        <span class="hljs-string">f"<span class="hljs-subst">{s}</span>"</span>,
        ha=<span class="hljs-string">"center"</span>,
        va=<span class="hljs-string">"bottom"</span>,
        fontsize=<span class="hljs-number">9</span>,
    )

<span class="hljs-comment"># --- ç»˜åˆ¶æ£’æ£’ç³–å›¾ (å³å›¾) ---</span>
ax2.vlines(x=<span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(months)), ymin=<span class="hljs-number">0</span>, ymax=sales, color=<span class="hljs-string">"gray"</span>, linewidth=<span class="hljs-number">2</span>)
ax2.scatter(x=<span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(months)), y=sales, color=<span class="hljs-string">"coral"</span>, s=<span class="hljs-number">50</span>, zorder=<span class="hljs-number">3</span>)
<span class="hljs-keyword">for</span> i, s <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(sales):
    ax2.text(i, s + <span class="hljs-number">3</span>, <span class="hljs-string">f"<span class="hljs-subst">{s}</span>"</span>, ha=<span class="hljs-string">"center"</span>, va=<span class="hljs-string">"bottom"</span>, fontsize=<span class="hljs-number">9</span>)

ax2.set_title(<span class="hljs-string">"æ£’æ£’ç³–å›¾ (Lollipop Chart - æœˆä»½é”€å”®é¢)"</span>, fontsize=<span class="hljs-number">14</span>)
ax2.set_ylabel(<span class="hljs-string">"é”€å”®é¢ (ä¸‡å…ƒ)"</span>)
ax2.set_xlabel(<span class="hljs-string">"æœˆä»½"</span>)
ax2.set_xticks(<span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(months)))
ax2.set_xticklabels(months, rotation=<span class="hljs-number">45</span>)  <span class="hljs-comment"># æ—‹è½¬xè½´æ ‡ç­¾ä»¥é˜²é‡å </span>
ax2.grid(axis=<span class="hljs-string">"y"</span>, linestyle=<span class="hljs-string">"--"</span>, alpha=<span class="hljs-number">0.7</span>)
ax2.set_ylim(<span class="hljs-number">0</span>, <span class="hljs-built_in">max</span>(sales) * <span class="hljs-number">1.1</span>)

<span class="hljs-comment"># --- æ˜¾ç¤ºå›¾å½¢ ---</span>
plt.tight_layout()
plt.show()
</code></pre>

<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d6a6af82104e4da68dfeb68137003d64~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZGF0YWJvb2s=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768610458&amp;x-signature=CKMCTkTKDEqnjlSONu3jYCO%2Fkfo%3D" alt="" loading="lazy"/></p>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæ•°æ®ä»£è¡¨çš„æ˜¯è¿ç»­çš„æœˆä»½ï¼Œæ•°å€¼æœ¬èº«ä»£è¡¨çš„æ˜¯é”€å”®é¢ï¼Œè¿™æ˜¯ä¸€ä¸ªâ€œé‡â€çš„æ¦‚å¿µã€‚</p>
<p>æ¡å½¢å›¾çš„å®å¿ƒå—èƒ½è®©äººç«‹åˆ»æ„Ÿå—åˆ°å“ªä¸ªæœˆä»½çš„é”€å”®é¢æ›´é«˜ï¼Œæ•´ä½“çš„åˆ†å¸ƒå’Œå¯¹æ¯”å…³ç³»ä¸€ç›®äº†ç„¶ã€‚</p>
<p>è€Œæ£’æ£’ç³–å›¾è™½ç„¶ä¹Ÿå±•ç¤ºäº†æ•°æ®ï¼Œä½†çº¿æ¡å’Œåœ†ç‚¹çš„ç»„åˆåœ¨è§†è§‰ä¸Šä¸å¦‚å®å¿ƒæ¡å½¢é‚£æ ·èƒ½ç›´æ¥ä¼ è¾¾â€œé‡â€çš„æ„Ÿè§‰ï¼Œå°¤å…¶æ˜¯åœ¨æ•°å€¼å·®å¼‚ä¸æ˜¯ç‰¹åˆ«å·¨å¤§æ—¶ï¼Œå¯¹æ¯”æ•ˆæœä¼šç¨é€Šäºæ¡å½¢å›¾ã€‚</p>
<h2 data-id="heading-5">æ€»ç»“</h2>
<p><strong>æ£’æ£’ç³–å›¾</strong>å°±åƒæ•°æ®å¯è§†åŒ–ä¸–ç•Œä¸­çš„"å°‘å³æ˜¯å¤š"å“²å­¦ä½“ç°ã€‚</p>
<p>å®ƒä¸æ˜¯è¦å–ä»£ä¼ ç»Ÿæ¡å½¢å›¾ï¼Œè€Œæ˜¯ä¸ºæ•°æ®å¯è§†åŒ–å·¥å…·ç®±å¢åŠ äº†ä¸€ä¸ªæœ‰ä»·å€¼çš„é€‰é¡¹ã€‚</p>
<p>å°±åƒä¸åŒçš„ç”»ç¬”é€‚åˆä¸åŒçš„ç»˜ç”»é£æ ¼ï¼Œä¸åŒçš„å›¾è¡¨ç±»å‹ä¹Ÿé€‚åˆä¸åŒçš„æ•°æ®æ•…äº‹ã€‚</p>
<p><strong>æ£’æ£’ç³–å›¾</strong>çš„çœŸæ­£ä¼˜åŠ¿åœ¨äºå®ƒæ”¹å˜äº†æ•°æ®çš„**"è®²è¿°æ–¹å¼"**ã€‚</p>
<p>å®ƒä¸è¯´ï¼š"è¿™æ˜¯æ‰€æœ‰ä¿¡æ¯ï¼Œä½ è‡ªå·±æ‰¾é‡ç‚¹"ï¼Œè€Œæ˜¯è¯´ï¼š"çœ‹è¿™é‡Œï¼Œè¿™äº›æ˜¯å…³é”®ç‚¹"ã€‚</p>
<p>è¿™ç§ç„¦ç‚¹å¯¼å‘çš„ç‰¹æ€§ï¼Œä½¿å¾—æ£’æ£’ç³–å›¾åœ¨ç°ä»£å¿«èŠ‚å¥çš„æ•°æ®æ²Ÿé€šä¸­è¶Šæ¥è¶Šå—æ¬¢è¿ã€‚</p>
<p>è®¾è®¡å¯è§†åŒ–æ—¶ï¼Œæˆ‘ä»¬ä¸å¦¨é—®é—®è‡ªå·±ï¼šæˆ‘æƒ³è¦è§‚ä¼—é¦–å…ˆçœ‹åˆ°ä»€ä¹ˆï¼Ÿå¦‚æœæ˜¯ç²¾ç¡®çš„æ•°å€¼ç‚¹å’Œæ¸…æ™°çš„æ’åï¼Œé‚£ä¹ˆæ£’æ£’ç³–å›¾å¯èƒ½æ˜¯ä½ çš„ç†æƒ³é€‰æ‹©ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ33ï¼‰ Hibernateçš„æŠ•å½±ï¼ˆProjectionsï¼‰æ˜¯ä»€ä¹ˆï¼Ÿ]]></title>    <link>https://juejin.cn/post/7593215107405512740</link>    <guid>https://juejin.cn/post/7593215107405512740</guid>    <pubDate>2026-01-09T23:29:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593215107405512740" data-draft-id="7593165280489111593" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ33ï¼‰ Hibernateçš„æŠ•å½±ï¼ˆProjectionsï¼‰æ˜¯ä»€ä¹ˆï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-09T23:29:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ33ï¼‰ Hibernateçš„æŠ•å½±ï¼ˆProjectionsï¼‰æ˜¯ä»€ä¹ˆï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T23:29:46.000Z" title="Fri Jan 09 2026 23:29:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">Hibernateçš„æŠ•å½±ï¼ˆProjectionsï¼‰</h3>
<p>åœ¨Hibernateä¸­ï¼ŒæŠ•å½±ï¼ˆProjectionï¼‰æ˜¯æŒ‡æŸ¥è¯¢ç»“æœä¸­åªåŒ…å«å®ä½“çš„æŸäº›å±æ€§ï¼Œè€Œä¸æ˜¯æ•´ä¸ªå®ä½“å¯¹è±¡ã€‚è¿™å¯¹äºä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½å’Œå‡å°‘æ•°æ®ä¼ è¾“é‡éå¸¸æœ‰ç”¨ã€‚</p>
<p>Hibernateçš„æŠ•å½±å¯ä»¥é€šè¿‡Criteria APIä¸­çš„<code>Projections</code>ç±»æ¥å®ç°ã€‚<code>Projections</code>ç±»æä¾›äº†å¤šç§æ–¹æ³•ï¼Œå¯ä»¥å¯¹æŸ¥è¯¢ç»“æœè¿›è¡ŒæŠ•å½±ï¼ŒåŒ…æ‹¬å•å±æ€§ã€å¤šå±æ€§ã€èšåˆï¼ˆå¦‚è®¡æ•°ã€æ±‚å’Œã€å¹³å‡å€¼ç­‰ï¼‰å’Œåˆ†ç»„ç­‰åŠŸèƒ½ã€‚</p>
<h3 data-id="heading-1">ä½¿ç”¨Projectionsçš„ç¤ºä¾‹ä»£ç </h3>
<h4 data-id="heading-2">å®ä½“ç±»å®šä¹‰</h4>
<p>æˆ‘ä»¬ç»§ç»­ä½¿ç”¨ä¹‹å‰å®šä¹‰çš„<code>Person</code>å’Œ<code>Address</code>å®ä½“ç±»ï¼š</p>
<h5 data-id="heading-3">Personç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.domain;

<span class="hljs-keyword">import</span> javax.persistence.*;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "person")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {

    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-meta">@Column(name = "name")</span>
    <span class="hljs-keyword">private</span> String name;

    <span class="hljs-meta">@Column(name = "age")</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
    }

    <span class="hljs-comment">// Getters å’Œ Setters</span>

    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-built_in">this</span>.name = name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> age;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.age = age;
    }
}
</code></pre>
<h5 data-id="heading-4">Addressç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.domain;

<span class="hljs-keyword">import</span> javax.persistence.*;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "address")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Address</span> {

    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-meta">@Column(name = "street")</span>
    <span class="hljs-keyword">private</span> String street;

    <span class="hljs-meta">@ManyToOne</span>
    <span class="hljs-meta">@JoinColumn(name = "person_id", nullable = false)</span>
    <span class="hljs-keyword">private</span> Person person;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Address</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Address</span><span class="hljs-params">(String street, Person person)</span> {
        <span class="hljs-built_in">this</span>.street = street;
        <span class="hljs-built_in">this</span>.person = person;
    }

    <span class="hljs-comment">// Getters å’Œ Setters</span>

    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getStreet</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> street;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setStreet</span><span class="hljs-params">(String street)</span> {
        <span class="hljs-built_in">this</span>.street = street;
    }

    <span class="hljs-keyword">public</span> Person <span class="hljs-title function_">getPerson</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> person;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPerson</span><span class="hljs-params">(Person person)</span> {
        <span class="hljs-built_in">this</span>.person = person;
    }
}
</code></pre>
<h4 data-id="heading-5">Hibernateé…ç½®æ–‡ä»¶ <code>hibernate.cfg.xml</code></h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span>
        <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span>
        <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ•°æ®åº“è¿æ¥é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/your_database<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>your_username<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>your_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Hibernate å±æ€§é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.format_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.hbm2ddl.auto"</span>&gt;</span>update<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- æ˜ å°„ç±» --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Person"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Address"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h4 data-id="heading-6">HibernateUtilç±»</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.cfg.Configuration;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateUtil</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> SessionFactory sessionFactory;

    <span class="hljs-keyword">static</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä»é…ç½®æ–‡ä»¶åˆ›å»ºSessionFactory</span>
            sessionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate.cfg.xml"</span>).buildSessionFactory();
        } <span class="hljs-keyword">catch</span> (Throwable ex) {
            <span class="hljs-comment">// è®°å½•å¯åŠ¨å¤±è´¥çš„é”™è¯¯</span>
            System.err.println(<span class="hljs-string">"Initial SessionFactory creation failed."</span> + ex);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExceptionInInitializerError</span>(ex);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SessionFactory <span class="hljs-title function_">getSessionFactory</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> sessionFactory;
    }
}
</code></pre>
<h3 data-id="heading-7">ä½¿ç”¨Projectionsç¤ºä¾‹</h3>
<h4 data-id="heading-8">æ’å…¥ç¤ºä¾‹æ•°æ®</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateInsertData</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// æ’å…¥ç¤ºä¾‹æ•°æ®</span>
        insertSampleData(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">insertSampleData</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Person</span> <span class="hljs-variable">person1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"John Doe"</span>, <span class="hljs-number">30</span>);
            <span class="hljs-type">Person</span> <span class="hljs-variable">person2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Jane Doe"</span>, <span class="hljs-number">28</span>);

            session.save(person1);
            session.save(person2);

            <span class="hljs-type">Address</span> <span class="hljs-variable">address1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Address</span>(<span class="hljs-string">"123 Main St"</span>, person1);
            <span class="hljs-type">Address</span> <span class="hljs-variable">address2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Address</span>(<span class="hljs-string">"456 Oak St"</span>, person2);

            session.save(address1);
            session.save(address2);

            transaction.commit();
            System.out.println(<span class="hljs-string">"Inserted sample data"</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h4 data-id="heading-9">ä½¿ç”¨ProjectionsæŸ¥è¯¢</h4>
<h5 data-id="heading-10">æŸ¥è¯¢Personçš„å§“åå’Œå¹´é¾„</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;
<span class="hljs-keyword">import</span> org.hibernate.criterion.Projections;
<span class="hljs-keyword">import</span> org.hibernate.criterion.CriteriaQuery;
<span class="hljs-keyword">import</span> org.hibernate.criterion.Restrictions;
<span class="hljs-keyword">import</span> org.hibernate.query.criteria.HibernateCriteriaBuilder;
<span class="hljs-keyword">import</span> org.hibernate.query.criteria.JpaCriteriaQuery;

<span class="hljs-keyword">import</span> javax.persistence.criteria.Root;
<span class="hljs-keyword">import</span> javax.persistence.criteria.CriteriaBuilder;
<span class="hljs-keyword">import</span> javax.persistence.criteria.CriteriaQuery;
<span class="hljs-keyword">import</span> javax.persistence.criteria.Root;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateProjectionsExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// ä½¿ç”¨ProjectionsæŸ¥è¯¢Personçš„å§“åå’Œå¹´é¾„</span>
        queryPersonNameAndAge(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">queryPersonNameAndAge</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">CriteriaBuilder</span> <span class="hljs-variable">criteriaBuilder</span> <span class="hljs-operator">=</span> session.getCriteriaBuilder();
            CriteriaQuery&lt;Object[]&gt; criteriaQuery = criteriaBuilder.createQuery(Object[].class);
            Root&lt;Person&gt; root = criteriaQuery.from(Person.class);

            criteriaQuery.multiselect(root.get(<span class="hljs-string">"name"</span>), root.get(<span class="hljs-string">"age"</span>));

            List&lt;Object[]&gt; results = session.createQuery(criteriaQuery).getResultList();
            System.out.println(<span class="hljs-string">"Query Person name and age:"</span>);
            <span class="hljs-keyword">for</span> (Object[] row : results) {
                <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> (String) row[<span class="hljs-number">0</span>];
                <span class="hljs-type">Integer</span> <span class="hljs-variable">age</span> <span class="hljs-operator">=</span> (Integer) row[<span class="hljs-number">1</span>];
                System.out.println(name + <span class="hljs-string">" - "</span> + age);
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h5 data-id="heading-11">ä½¿ç”¨èšåˆå‡½æ•°æŸ¥è¯¢</h5>
<p>å‡è®¾æˆ‘ä»¬æƒ³è®¡ç®—æ‰€æœ‰Personçš„å¹³å‡å¹´é¾„ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;
<span class="hljs-keyword">import</span> org.hibernate.criterion.Projections;
<span class="hljs-keyword">import</span> org.hibernate.query.criteria.HibernateCriteriaBuilder;
<span class="hljs-keyword">import</span> org.hibernate.query.criteria.JpaCriteriaQuery;

<span class="hljs-keyword">import</span> javax.persistence.criteria.Root;
<span class="hljs-keyword">import</span> javax.persistence.criteria.CriteriaBuilder;
<span class="hljs-keyword">import</span> javax.persistence.criteria.CriteriaQuery;
<span class="hljs-keyword">import</span> javax.persistence.criteria.Root;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateAggregateQueryExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// ä½¿ç”¨Projectionså’Œèšåˆå‡½æ•°æŸ¥è¯¢å¹³å‡å¹´é¾„</span>
        queryAverageAge(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">queryAverageAge</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">CriteriaBuilder</span> <span class="hljs-variable">criteriaBuilder</span> <span class="hljs-operator">=</span> session.getCriteriaBuilder();
            CriteriaQuery&lt;Double&gt; criteriaQuery = criteriaBuilder.createQuery(Double.class);
            Root&lt;Person&gt; root = criteriaQuery.from(Person.class);

            criteriaQuery.select(criteriaBuilder.avg(root.get(<span class="hljs-string">"age"</span>)));

            <span class="hljs-type">Double</span> <span class="hljs-variable">averageAge</span> <span class="hljs-operator">=</span> session.createQuery(criteriaQuery).getSingleResult();
            System.out.println(<span class="hljs-string">"Average age of persons: "</span> + averageAge);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-12">Projectionsè¯¦ç»†è§£é‡Š</h3>
<ol>
<li><strong>æ’å…¥ç¤ºä¾‹æ•°æ®</strong>ï¼šå‘æ•°æ®åº“ä¸­æ’å…¥ä¸¤ä¸ª<code>Person</code>å¯¹è±¡å’Œä¸¤ä¸ª<code>Address</code>å¯¹è±¡ä¾›æŸ¥è¯¢ä½¿ç”¨ã€‚
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateInsertData</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// æ’å…¥ç¤ºä¾‹æ•°æ®</span>
        insertSampleData(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">insertSampleData</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Person</span> <span class="hljs-variable">person1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"John Doe"</span>, <span class="hljs-number">30</span>);
            <span class="hljs-type">Person</span> <span class="hljs-variable">person2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Jane Doe"</span>,<span class="hljs-number">28</span>);
</code></pre>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ34ï¼‰Hibernateçš„åˆ«åï¼ˆAliasï¼‰æ˜¯ä»€ä¹ˆï¼Ÿ]]></title>    <link>https://juejin.cn/post/7593139476841381894</link>    <guid>https://juejin.cn/post/7593139476841381894</guid>    <pubDate>2026-01-09T23:31:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593139476841381894" data-draft-id="7593215107405529124" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ34ï¼‰Hibernateçš„åˆ«åï¼ˆAliasï¼‰æ˜¯ä»€ä¹ˆï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-09T23:31:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ34ï¼‰Hibernateçš„åˆ«åï¼ˆAliasï¼‰æ˜¯ä»€ä¹ˆï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T23:31:10.000Z" title="Fri Jan 09 2026 23:31:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">Hibernateçš„åˆ«åï¼ˆAliasï¼‰</h3>
<p>åœ¨Hibernateä¸­ï¼Œä½¿ç”¨åˆ«åï¼ˆAliasï¼‰å¯ä»¥ä¸ºæŸ¥è¯¢ä¸­çš„å®ä½“æˆ–å±æ€§æŒ‡å®šä¸€ä¸ªç®€çŸ­çš„æ›¿ä»£åç§°ã€‚åˆ«åçš„ä½¿ç”¨æœ‰åŠ©äºç®€åŒ–æŸ¥è¯¢è¯­å¥ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤šè¡¨è”æ¥æˆ–å¤æ‚æŸ¥è¯¢ä¸­ã€‚æ­¤å¤–ï¼Œåˆ«åè¿˜å¯ä»¥ç”¨äºåœ¨ç›¸åŒæŸ¥è¯¢ä¸­å¼•ç”¨åŒä¸€ä¸ªå®ä½“çš„å¤šä¸ªå®ä¾‹ã€‚</p>
<h3 data-id="heading-1">ä½¿ç”¨åˆ«åçš„ç¤ºä¾‹ä»£ç </h3>
<h4 data-id="heading-2">å®ä½“ç±»å®šä¹‰</h4>
<p>æˆ‘ä»¬ç»§ç»­ä½¿ç”¨ä¹‹å‰å®šä¹‰çš„<code>Person</code>å’Œ<code>Address</code>å®ä½“ç±»ã€‚</p>
<h5 data-id="heading-3">Personç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.domain;

<span class="hljs-keyword">import</span> javax.persistence.*;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "person")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {

    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-meta">@Column(name = "name")</span>
    <span class="hljs-keyword">private</span> String name;

    <span class="hljs-meta">@Column(name = "age")</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
    }

    <span class="hljs-comment">// Getters å’Œ Setters</span>

    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-built_in">this</span>.name = name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> age;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.age = age;
    }
}
</code></pre>
<h5 data-id="heading-4">Addressç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.domain;

<span class="hljs-keyword">import</span> javax.persistence.*;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "address")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Address</span> {

    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-meta">@Column(name = "street")</span>
    <span class="hljs-keyword">private</span> String street;

    <span class="hljs-meta">@ManyToOne</span>
    <span class="hljs-meta">@JoinColumn(name = "person_id", nullable = false)</span>
    <span class="hljs-keyword">private</span> Person person;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Address</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Address</span><span class="hljs-params">(String street, Person person)</span> {
        <span class="hljs-built_in">this</span>.street = street;
        <span class="hljs-built_in">this</span>.person = person;
    }

    <span class="hljs-comment">// Getters å’Œ Setters</span>

    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getStreet</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> street;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setStreet</span><span class="hljs-params">(String street)</span> {
        <span class="hljs-built_in">this</span>.street = street;
    }

    <span class="hljs-keyword">public</span> Person <span class="hljs-title function_">getPerson</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> person;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPerson</span><span class="hljs-params">(Person person)</span> {
        <span class="hljs-built_in">this</span>.person = person;
    }
}
</code></pre>
<h4 data-id="heading-5">Hibernateé…ç½®æ–‡ä»¶ <code>hibernate.cfg.xml</code></h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span>
        <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span>
        <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ•°æ®åº“è¿æ¥é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/your_database<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>your_username<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>your_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Hibernate å±æ€§é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.format_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.hbm2ddl.auto"</span>&gt;</span>update<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- æ˜ å°„ç±» --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Person"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Address"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h4 data-id="heading-6">HibernateUtilç±»</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.cfg.Configuration;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateUtil</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> SessionFactory sessionFactory;

    <span class="hljs-keyword">static</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä»é…ç½®æ–‡ä»¶åˆ›å»ºSessionFactory</span>
            sessionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate.cfg.xml"</span>).buildSessionFactory();
        } <span class="hljs-keyword">catch</span> (Throwable ex) {
            <span class="hljs-comment">// è®°å½•å¯åŠ¨å¤±è´¥çš„é”™è¯¯</span>
            System.err.println(<span class="hljs-string">"Initial SessionFactory creation failed."</span> + ex);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExceptionInInitializerError</span>(ex);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SessionFactory <span class="hljs-title function_">getSessionFactory</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> sessionFactory;
    }
}
</code></pre>
<h3 data-id="heading-7">ä½¿ç”¨åˆ«åçš„ç¤ºä¾‹</h3>
<h4 data-id="heading-8">æ’å…¥ç¤ºä¾‹æ•°æ®</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateInsertData</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// æ’å…¥ç¤ºä¾‹æ•°æ®</span>
        insertSampleData(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">insertSampleData</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Person</span> <span class="hljs-variable">person1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"John Doe"</span>, <span class="hljs-number">30</span>);
            <span class="hljs-type">Person</span> <span class="hljs-variable">person2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Jane Doe"</span>, <span class="hljs-number">28</span>);

            session.save(person1);
            session.save(person2);

            <span class="hljs-type">Address</span> <span class="hljs-variable">address1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Address</span>(<span class="hljs-string">"123 Main St"</span>, person1);
            <span class="hljs-type">Address</span> <span class="hljs-variable">address2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Address</span>(<span class="hljs-string">"456 Oak St"</span>, person2);

            session.save(address1);
            session.save(address2);

            transaction.commit();
            System.out.println(<span class="hljs-string">"Inserted sample data"</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h4 data-id="heading-9">ä½¿ç”¨åˆ«åè¿›è¡ŒæŸ¥è¯¢</h4>
<h5 data-id="heading-10">æŸ¥è¯¢PersonåŠå…¶Addressä¿¡æ¯</h5>
<p>ä½¿ç”¨åˆ«åæ¥ç®€åŒ–å¤šè¡¨è”æ¥æŸ¥è¯¢ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.query.criteria.HibernateCriteriaBuilder;
<span class="hljs-keyword">import</span> org.hibernate.query.criteria.JpaCriteriaQuery;
<span class="hljs-keyword">import</span> javax.persistence.criteria.Join;
<span class="hljs-keyword">import</span> javax.persistence.criteria.Root;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateAliasQueryExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// ä½¿ç”¨åˆ«åæŸ¥è¯¢PersonåŠå…¶Addressä¿¡æ¯</span>
        queryPersonAndAddress(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">queryPersonAndAddress</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">HibernateCriteriaBuilder</span> <span class="hljs-variable">criteriaBuilder</span> <span class="hljs-operator">=</span> session.getCriteriaBuilder();
            JpaCriteriaQuery&lt;Object[]&gt; criteriaQuery = criteriaBuilder.createQuery(Object[].class);
            Root&lt;Person&gt; personRoot = criteriaQuery.from(Person.class);
            Join&lt;Person, Address&gt; addressJoin = personRoot.join(<span class="hljs-string">"address"</span>);

            <span class="hljs-comment">// ä½¿ç”¨åˆ«å</span>
            criteriaQuery.multiselect(personRoot.get(<span class="hljs-string">"name"</span>).alias(<span class="hljs-string">"personName"</span>), addressJoin.get(<span class="hljs-string">"street"</span>).alias(<span class="hljs-string">"addressStreet"</span>));

            List&lt;Object[]&gt; results = session.createQuery(criteriaQuery).getResultList();
            System.out.println(<span class="hljs-string">"Query Person and Address:"</span>);
            <span class="hljs-keyword">for</span> (Object[] row : results) {
                <span class="hljs-type">String</span> <span class="hljs-variable">personName</span> <span class="hljs-operator">=</span> (String) row[<span class="hljs-number">0</span>];
                <span class="hljs-type">String</span> <span class="hljs-variable">addressStreet</span> <span class="hljs-operator">=</span> (String) row[<span class="hljs-number">1</span>];
                System.out.println(personName + <span class="hljs-string">" lives at "</span> + addressStreet);
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-11">ä½¿ç”¨åˆ«åçš„è¯¦ç»†è§£é‡Š</h3>
<ol>
<li>
<p><strong>æ’å…¥ç¤ºä¾‹æ•°æ®</strong>ï¼šå‘æ•°æ®åº“ä¸­æ’å…¥ä¸¤ä¸ª<code>Person</code>å¯¹è±¡å’Œä¸¤ä¸ª<code>Address</code>å¯¹è±¡ä¾›æŸ¥è¯¢ä½¿ç”¨ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateInsertData</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// æ’å…¥ç¤ºä¾‹æ•°æ®</span>
        insertSampleData(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">insertSampleData</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Person</span> <span class="hljs-variable">person1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"John Doe"</span>, <span class="hljs-number">30</span>);
            <span class="hljs-type">Person</span> <span class="hljs-variable">person2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Jane Doe"</span>, <span class="hljs-number">28</span>);

            session.save(person1);
            session.save(person2);

            <span class="hljs-type">Address</span> <span class="hljs-variable">address1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Address</span>(<span class="hljs-string">"123 Main St"</span>, person1);
            <span class="hljs-type">Address</span> <span class="hljs-variable">address2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Address</span>(<span class="hljs-string">"456 Oak St"</span>, person2);

            session.save(address1);
            session.save(address2);

            transaction.commit();
            System.out.println(<span class="hljs-string">"Inserted sample data"</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
</li>
<li>
<p><strong>ä½¿ç”¨åˆ«åæŸ¥è¯¢PersonåŠå…¶Addressä¿¡æ¯</strong>ï¼šæˆ‘ä»¬ä½¿ç”¨åˆ«åæ¥ç®€åŒ–è”æ¥æŸ¥è¯¢å¹¶æŠ•å½±ç‰¹å®šçš„å±æ€§ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateAliasQueryExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// ä½¿ç”¨åˆ«åæŸ¥è¯¢PersonåŠå…¶Addressä¿¡æ¯</span>
        queryPersonAndAddress(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">queryPersonAndAddress</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">HibernateCriteriaBuilder</span> <span class="hljs-variable">criteriaBuilder</span> <span class="hljs-operator">=</span> session.getCriteriaBuilder();
            JpaCriteriaQuery&lt;Object[]&gt; criteriaQuery = criteriaBuilder.createQuery(Object[].class);
            Root&lt;Person&gt; personRoot = criteriaQuery.from(Person.class);
            Join&lt;Person, Address&gt; addressJoin = personRoot.join(<span class="hljs-string">"address"</span>);

           
</code></pre>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æœºå™¨å­¦ä¹ å…¥é—¨æ¦‚è¿°ä¸€è§ˆ]]></title>    <link>https://juejin.cn/post/7593177437081911347</link>    <guid>https://juejin.cn/post/7593177437081911347</guid>    <pubDate>2026-01-09T15:18:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593177437081911347" data-draft-id="7593171168259620873" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æœºå™¨å­¦ä¹ å…¥é—¨æ¦‚è¿°ä¸€è§ˆ"/> <meta itemprop="keywords" content="ç®—æ³•"/> <meta itemprop="datePublished" content="2026-01-09T15:18:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="aicoting"/> <meta itemprop="url" content="https://juejin.cn/user/933911964427818"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æœºå™¨å­¦ä¹ å…¥é—¨æ¦‚è¿°ä¸€è§ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/933911964427818/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    aicoting
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T15:18:57.000Z" title="Fri Jan 09 2026 15:18:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»19åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æ¨èç›´æ¥ç½‘ç«™åœ¨çº¿é˜…è¯»ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Faicoting.cn%2F" target="_blank" title="https://link.zhihu.com/?target=https%3A//aicoting.cn/" ref="nofollow noopener noreferrer">aicoting AIç®—æ³•é¢è¯•å­¦ä¹ åœ¨çº¿ç½‘ç«™</a></p>
</blockquote>
<h2 data-id="heading-0">å®šä¹‰ä¸æ ¸å¿ƒæ€æƒ³</h2>
<p>å­¦ä¹ ä¸€ä¸ªçŸ¥è¯†æœ€é‡è¦çš„å°±æ˜¯è¦çŸ¥é“è¿™ä¸ªçŸ¥è¯†çš„å®šä¹‰ï¼Œå®šä¹‰è™½ç„¶å¤§å¤šæ™¦æ¶©ï¼Œå´æ˜¯æœ€èƒ½å®Œæ•´æ¸…æ™°çš„è¡¨è¾¾è¿™ä¸ªçŸ¥è¯†çš„ä¸€ç§è¡¨è¾¾æ–¹å¼ï¼Œé‚£ä¹ˆæœºå™¨å­¦ä¹ çš„å®šä¹‰æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>æœºå™¨å­¦ä¹ ï¼ˆMachine Learning, MLï¼‰æ˜¯äººå·¥æ™ºèƒ½ï¼ˆAIï¼‰çš„æ ¸å¿ƒåˆ†æ”¯ä¹‹ä¸€ï¼Œå…¶ç›®æ ‡æ˜¯é€šè¿‡æ•°æ®é©±åŠ¨çš„æ–¹æ³•ä½¿è®¡ç®—æœºç³»ç»Ÿèƒ½å¤Ÿè‡ªåŠ¨å­¦ä¹ è§„å¾‹ï¼Œä»è€Œåœ¨æ²¡æœ‰æ˜¾å¼ç¼–ç¨‹çš„æƒ…å†µä¸‹å®Œæˆé¢„æµ‹ã€åˆ†ç±»ã€å†³ç­–å’Œä¼˜åŒ–ç­‰ä»»åŠ¡ã€‚ä¸ä¼ ç»Ÿç¨‹åºè®¾è®¡ä¾èµ–å›ºå®šè§„åˆ™ä¸åŒï¼Œæœºå™¨å­¦ä¹ å¼ºè°ƒç»éªŒå­¦ä¹ å’Œè‡ªæˆ‘æ”¹è¿›ï¼Œèƒ½å¤Ÿä»æ•°æ®ä¸­å‘ç°æ½œåœ¨æ¨¡å¼ï¼Œå¹¶å°†å…¶åº”ç”¨äºæ–°æ•°æ®ã€‚</p>
<p>å‘¨å¿—åè€å¸ˆçš„æœºå™¨å­¦ä¹ ä¸€ä¹¦ä¸­ç»™å‡ºçš„å®šä¹‰å¦‚ä¸‹ï¼šæœºå™¨å­¦ä¹ æ˜¯ä¸€é—¨å­¦ç§‘ï¼Œè‡´åŠ›äºç ”ç©¶å¦‚ä½•é€šè¿‡è®¡ç®—çš„æ‰‹æ®µï¼Œåˆ©ç”¨ç»éªŒæ¥æ”¹å–„ç³»ç»Ÿè‡ªèº«çš„æ€§èƒ½ã€‚åœ¨è®¡ç®—æœºç³»ç»Ÿä¸­ï¼Œâ€œç»éªŒâ€é€šå¸¸ä»¥â€œæ•°æ®â€å½¢å¼å­˜åœ¨ï¼Œå› æ­¤ï¼Œæœºå™¨å­¦ä¹ æ‰€ç ”ç©¶çš„ä¸»è¦å†…å®¹ï¼Œæ˜¯å…³äºåœ¨è®¡ç®—æœºä¸Šä»æ•°æ®ä¸­äº§ç”Ÿâ€œæ¨¡å‹â€çš„ç®—æ³•ï¼Œå³â€œå­¦ä¹ ç®—æ³•â€ï¼Œæœ‰äº†å­¦ä¹ ç®—æ³•ï¼Œæˆ‘ä»¬æŠŠç»éªŒæ•°æ®æä¾›ç»™ä»–ï¼Œä»–å°±èƒ½åŸºäºè¿™äº›æ•°æ®äº§ç”Ÿæ¨¡å‹ï¼›åœ¨é¢å¯¹æ–°çš„æƒ…å†µæ—¶ï¼Œæ¨¡å‹ä¼šç»™æˆ‘ä»¬æä¾›ç›¸åº”çš„åˆ¤æ–­ã€‚å¦‚æœè¯´è®¡ç®—æœºç§‘å­¦æ˜¯ç ”ç©¶å…³äºç®—æ³•çš„å­¦é—®ï¼Œé‚£ä¹ˆç±»ä¼¼çš„ï¼Œå¯ä»¥è¯´æœºå™¨å­¦ä¹ æ˜¯ç ”ç©¶å…³äºå­¦ä¹ ç®—æ³•çš„å­¦é—®ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eacb10ee074b478f8fc3d2435deafab9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYWljb3Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768577858&amp;x-signature=OnLf0ewL%2FYHLuQQDhme2%2BiP6%2BS8%3D" alt="" loading="lazy"/></p>
<p>æœºå™¨å­¦ä¹ çš„æ ¸å¿ƒæ€æƒ³å¯ä»¥æ¦‚æ‹¬ä¸ºä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>
<ol>
<li>æ¨¡å‹ï¼ˆModelï¼‰ï¼šæ¨¡å‹æ˜¯è®¡ç®—æœºâ€œç†è§£æ•°æ®â€çš„æ•°å­¦ç»“æ„ï¼Œè´Ÿè´£ä»è¾“å…¥æ•°æ®ä¸­æ•æ‰è§„å¾‹ï¼Œå¹¶è¿›è¡Œé¢„æµ‹æˆ–å†³ç­–ã€‚ä¸åŒçš„æ¨¡å‹é€‚ç”¨äºä¸åŒç±»å‹çš„é—®é¢˜ï¼Œä¾‹å¦‚çº¿æ€§å›å½’ç”¨äºè¿ç»­å€¼é¢„æµ‹ï¼Œå†³ç­–æ ‘å’Œç¥ç»ç½‘ç»œé€‚ç”¨äºå¤æ‚æ¨¡å¼è¯†åˆ«ã€‚</li>
<li>è®­ç»ƒï¼ˆTrainingï¼‰ï¼šè®­ç»ƒæ˜¯æ¨¡å‹å­¦ä¹ çš„è¿‡ç¨‹ï¼Œé€šè¿‡è¾“å…¥å¤§é‡æ•°æ®ï¼Œæ¨¡å‹ä¸æ–­è°ƒæ•´å†…éƒ¨å‚æ•°ä»¥æœ€å°åŒ–é¢„æµ‹è¯¯å·®ã€‚è®­ç»ƒè¿‡ç¨‹çš„è´¨é‡ç›´æ¥å½±å“æ¨¡å‹çš„æ€§èƒ½å’Œæ³›åŒ–èƒ½åŠ›ã€‚</li>
<li>ç‰¹å¾ï¼ˆFeatureï¼‰ï¼šç‰¹å¾æ˜¯æ•°æ®ä¸­æœ€æœ‰ä¿¡æ¯é‡çš„éƒ¨åˆ†ï¼Œæ˜¯æ¨¡å‹å­¦ä¹ è§„å¾‹çš„åŸºç¡€ã€‚é«˜è´¨é‡çš„ç‰¹å¾èƒ½å¤Ÿæ˜¾è‘—æå‡æ¨¡å‹çš„é¢„æµ‹èƒ½åŠ›ï¼Œè€Œæ— å…³æˆ–å™ªå£°ç‰¹å¾å¯èƒ½å¯¼è‡´æ€§èƒ½ä¸‹é™ã€‚</li>
<li>æ³›åŒ–èƒ½åŠ›ï¼ˆGeneralizationï¼‰ï¼šæœºå™¨å­¦ä¹ ä¸ä»…å…³æ³¨æ¨¡å‹åœ¨è®­ç»ƒæ•°æ®ä¸Šçš„è¡¨ç°ï¼Œæ›´é‡è§†å…¶åœ¨æœªçŸ¥æ•°æ®ä¸Šçš„é€‚åº”èƒ½åŠ›ã€‚æ³›åŒ–èƒ½åŠ›å¼ºçš„æ¨¡å‹èƒ½å¤Ÿåœ¨æ–°åœºæ™¯ä¸­ä¿æŒç¨³å®šçš„æ€§èƒ½ï¼Œæ˜¯è¡¡é‡æœºå™¨å­¦ä¹ ç³»ç»Ÿæœ‰æ•ˆæ€§çš„å…³é”®æŒ‡æ ‡ã€‚</li>
</ol>
<p>ç®€å•ç‚¹è¯´ï¼Œæœºå™¨å­¦ä¹ çš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯é€šè¿‡æ•°æ®é©±åŠ¨çš„æ–¹æ³•ï¼Œè®©æ¨¡å‹è‡ªåŠ¨å­¦ä¹ è§„å¾‹ï¼Œå¹¶èƒ½å¤Ÿåœ¨æ–°çš„ç¯å¢ƒä¸­è¿›è¡Œå‡†ç¡®é¢„æµ‹å’Œå†³ç­–ã€‚è¿™ä¸€æ€æƒ³è´¯ç©¿æ‰€æœ‰æœºå™¨å­¦ä¹ ç®—æ³•å’Œåº”ç”¨ï¼Œæ˜¯ç†è§£åç»­å„ç±»æ–¹æ³•å’ŒæŠ€æœ¯çš„åŸºç¡€ã€‚</p>
<h2 data-id="heading-1">æœºå™¨å­¦ä¹ çš„ç±»å‹</h2>
<p>æœºå™¨å­¦ä¹ æ ¹æ®å­¦ä¹ æ–¹å¼å’Œæ•°æ®ç‰¹å¾çš„ä¸åŒï¼Œå¤§è‡´å¯ä»¥åˆ†ä¸ºå‡ ç±»ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>ç›‘ç£å­¦ä¹ ï¼ˆSupervised Learningï¼‰ï¼šé€šè¿‡å¸¦æœ‰æ ‡ç­¾çš„æ•°æ®è¿›è¡Œå­¦ä¹ ï¼Œæ ¸å¿ƒä»»åŠ¡æ˜¯è®©æ¨¡å‹å­¦ä¼šâ€œä»è¾“å…¥é¢„æµ‹è¾“å‡ºâ€ã€‚</li>
<li>æ— ç›‘ç£å­¦ä¹ ï¼ˆUnsupervised Learningï¼‰ï¼šåœ¨æ²¡æœ‰æ ‡ç­¾çš„æ•°æ®ä¸­æŒ–æ˜æ½œåœ¨è§„å¾‹å’Œç»“æ„ï¼Œå¸¸ç”¨äºæ¨¡å¼å‘ç°ä¸æ•°æ®å‹ç¼©ã€‚</li>
<li>åŠç›‘ç£å­¦ä¹ ï¼ˆSemi-supervised Learningï¼‰ï¼šç»“åˆå°‘é‡æ ‡æ³¨æ•°æ®ä¸å¤§é‡æœªæ ‡æ³¨æ•°æ®ï¼Œæé«˜å­¦ä¹ æ•ˆç‡ä¸æ¨¡å‹æ€§èƒ½ã€‚</li>
<li>å¼ºåŒ–å­¦ä¹ ï¼ˆReinforcement Learningï¼‰ï¼šé€šè¿‡ä¸ç¯å¢ƒäº¤äº’ä¸æ–­è¯•é”™ï¼Œå¹¶æ ¹æ®å¥–åŠ±åé¦ˆé€æ­¥ä¼˜åŒ–ç­–ç•¥ï¼Œç”¨äºè§£å†³åŠ¨æ€å†³ç­–é—®é¢˜ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/549a671f0f794981a5229fda2ba40b09~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYWljb3Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768577858&amp;x-signature=CDvWjtTbsXdwta8ucubYHmcw00k%3D" alt="" loading="lazy"/></p>
<p>è¿™äº›ç±»å‹å…±åŒæ„æˆäº†æœºå™¨å­¦ä¹ çš„åŸºæœ¬ç‰ˆå›¾ï¼šæœ‰çš„å¼ºè°ƒâ€œä»è€å¸ˆé‚£é‡Œå­¦ä¹ â€ï¼Œæœ‰çš„æ“…é•¿â€œæ— å¸ˆè‡ªé€šâ€ï¼Œæœ‰çš„å–„äºâ€œè¾¹å­¦è¾¹è¯•â€ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå®ƒä»¬å¾€å¾€ä¸æ˜¯å­¤ç«‹å­˜åœ¨çš„ï¼Œè€Œæ˜¯å¯ä»¥ç»“åˆä½¿ç”¨ï¼Œä»è€Œåº”å¯¹æ›´åŠ å¤æ‚å’Œå¤šæ ·åŒ–çš„ä»»åŠ¡ã€‚</p>
<h3 data-id="heading-2">ç›‘ç£å­¦ä¹ </h3>
<p>ç›‘ç£å­¦ä¹ æ˜¯æœºå™¨å­¦ä¹ çš„åŸºçŸ³ï¼Œå…¶ä¼˜ç‚¹åœ¨äºæ€è·¯æ¸…æ™°ã€æ•ˆæœç›´è§‚ï¼Œä¸”åœ¨åˆ†ç±»ä¸å›å½’ä»»åŠ¡ä¸­è¡¨ç°ä¼˜å¼‚ã€‚æ— è®ºæ˜¯åƒåœ¾é‚®ä»¶è¯†åˆ«ã€è¯­éŸ³è¯†åˆ«ï¼Œè¿˜æ˜¯é‡‘èé£æ§å’ŒåŒ»ç–—è¯Šæ–­ï¼Œéƒ½ç¦»ä¸å¼€ç›‘ç£å­¦ä¹ ã€‚ç†è§£ç›‘ç£å­¦ä¹ ï¼Œä½ å°±æ‰“å¼€äº†æœºå™¨å­¦ä¹ ä¸–ç•Œçš„å¤§é—¨ã€‚</p>
<p>ç›‘ç£å­¦ä¹ ï¼ˆSupervised Learningï¼‰æ˜¯æœºå™¨å­¦ä¹ ä¸­æœ€å¸¸è§ã€åº”ç”¨æœ€å¹¿çš„ä¸€ç±»æ–¹æ³•ã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯åˆ©ç”¨å¸¦æœ‰è¾“å…¥ä¸è¾“å‡ºæ ‡ç­¾çš„æ•°æ®ï¼Œè®­ç»ƒæ¨¡å‹å­¦ä¹ ä¸¤è€…ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œä»è€Œåœ¨æ–°æ•°æ®ä¸Šåšå‡ºé¢„æµ‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bd02f7f0883d48e3a028b77d9d69b1b2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYWljb3Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768577858&amp;x-signature=zznyWc7ARGX2WtUgHb5bqlWYcQQ%3D" alt="" loading="lazy"/></p>
<p>ç›‘ç£å­¦ä¹ çš„æœ¬è´¨æ˜¯â€œæœ‰è€å¸ˆçš„å­¦ä¹ â€ã€‚åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæ¨¡å‹æ¥æ”¶å¤§é‡çš„è¾“å…¥æ•°æ®ï¼ˆç‰¹å¾ï¼‰åŠå…¶å¯¹åº”çš„æ­£ç¡®ç­”æ¡ˆï¼ˆæ ‡ç­¾ï¼‰ï¼Œå¹¶å°è¯•å­¦ä¹ ä¸€ä¸ªå‡½æ•°ï¼Œå°†è¾“å…¥æ˜ å°„åˆ°è¾“å‡ºã€‚å°±åƒå­¦ç”Ÿåœ¨è€å¸ˆçš„æŒ‡å¯¼ä¸‹ï¼Œé€šè¿‡å‚è€ƒç­”æ¡ˆä¸æ–­çº æ­£è‡ªå·±çš„é”™è¯¯ï¼Œæ¨¡å‹ä¹Ÿé€šè¿‡è¯¯å·®åé¦ˆä¸æ–­è°ƒæ•´å‚æ•°ï¼Œä½¿é¢„æµ‹ç»“æœå°½å¯èƒ½æ¥è¿‘çœŸå®æ ‡ç­¾ã€‚</p>
<p>ä»æ•°å­¦ä¸Šçœ‹ï¼Œç›‘ç£å­¦ä¹ å¯ä»¥è¢«è¡¨è¿°ä¸ºï¼šç»™å®šä¸€ä¸ªè®­ç»ƒé›† ï¼Œå…¶ä¸­è¡¨ç¤ºè¾“å…¥ï¼Œè¡¨ç¤ºè¾“å‡ºï¼Œç›®æ ‡æ˜¯æ‰¾åˆ°ä¸€ä¸ªå‡½æ•° ï¼Œä½¿å¾—åœ¨æ–°çš„è¾“å…¥ ä¸‹ï¼Œé¢„æµ‹è¾“å‡º y=f(x) å°½å¯èƒ½æ¥è¿‘çœŸå®è¾“å‡º ã€‚</p>
<p>ç›‘ç£å­¦ä¹ ä¸»è¦åˆ†ä¸ºä¸¤å¤§ä»»åŠ¡ï¼š</p>
<ul>
<li>åˆ†ç±»ï¼ˆClassificationï¼‰ï¼šè¾“å‡ºæ˜¯ç¦»æ•£ç±»åˆ«ï¼Œä¾‹å¦‚è¯†åˆ«å›¾ç‰‡ä¸­çš„åŠ¨ç‰©ç§ç±»ã€‚</li>
<li>å›å½’ï¼ˆRegressionï¼‰ï¼šè¾“å‡ºæ˜¯è¿ç»­å€¼ï¼Œä¾‹å¦‚é¢„æµ‹æˆ¿ä»·æˆ–æ°”æ¸©ã€‚</li>
</ul>
<p>ç›‘ç£å­¦ä¹ é€šå¸¸åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p>
<ol>
<li>æ•°æ®å‡†å¤‡ æ”¶é›†å¹¶æ•´ç†æ•°æ®ï¼Œå°†è¾“å…¥ä¸å¯¹åº”çš„æ ‡ç­¾é…å¯¹ã€‚æ•°æ®è´¨é‡å’Œæ•°é‡ç›´æ¥å½±å“æ¨¡å‹çš„æ•ˆæœã€‚</li>
<li>ç‰¹å¾å·¥ç¨‹ æå–æˆ–é€‰æ‹©æœ‰ä»·å€¼çš„ç‰¹å¾ï¼Œå»é™¤å†—ä½™ä¿¡æ¯ï¼Œä¸ºæ¨¡å‹æä¾›æœ‰æ•ˆçš„å­¦ä¹ åŸºç¡€ã€‚</li>
<li>æ¨¡å‹é€‰æ‹© æ ¹æ®ä»»åŠ¡ç±»å‹é€‰æ‹©åˆé€‚çš„æ¨¡å‹ï¼Œä¾‹å¦‚å›å½’ä»»åŠ¡å¯ç”¨çº¿æ€§å›å½’ï¼Œåˆ†ç±»ä»»åŠ¡å¯ç”¨é€»è¾‘å›å½’ã€æ”¯æŒå‘é‡æœºæˆ–å†³ç­–æ ‘ç­‰ã€‚</li>
<li>è®­ç»ƒæ¨¡å‹ å°†è®­ç»ƒæ•°æ®è¾“å…¥æ¨¡å‹ï¼Œé€šè¿‡ä¼˜åŒ–ç®—æ³•ï¼ˆå¦‚æ¢¯åº¦ä¸‹é™ï¼‰ä¸æ–­è°ƒæ•´å‚æ•°ï¼Œæœ€å°åŒ–é¢„æµ‹å€¼ä¸çœŸå®å€¼ä¹‹é—´çš„è¯¯å·®ã€‚</li>
<li>æ¨¡å‹è¯„ä¼° ä½¿ç”¨éªŒè¯é›†æˆ–äº¤å‰éªŒè¯æ–¹æ³•ï¼Œè¯„ä¼°æ¨¡å‹åœ¨æœªè§æ•°æ®ä¸Šçš„è¡¨ç°ï¼Œå¸¸è§æŒ‡æ ‡åŒ…æ‹¬å‡†ç¡®ç‡ã€å‡æ–¹è¯¯å·®ã€F1 åˆ†æ•°ç­‰ã€‚</li>
<li>æ¨¡å‹åº”ç”¨ åœ¨æµ‹è¯•é›†æˆ–çœŸå®åœºæ™¯ä¸­ä½¿ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œå¯¹æ–°æ•°æ®è¿›è¡Œé¢„æµ‹æˆ–å†³ç­–ã€‚</li>
</ol>
<h3 data-id="heading-3">æ— ç›‘ç£å­¦ä¹ </h3>
<p>ç½‘ç»œä¸­å­˜åœ¨ç€å¤§é‡çš„æ•°æ®ï¼Œç„¶è€Œè¿™äº›æ•°æ®ç»å¤§éƒ¨åˆ†æ˜¯æ²¡æœ‰æ ‡æ³¨çš„ï¼Œè€Œæ ‡æ³¨åˆéœ€è¦å¤§é‡çš„äººåŠ›ï¼Œè´¢åŠ›ï¼Œæ²¡äººæ„¿æ„å½“è¿™ä¸ªå†¤å¤§å¤´ï¼Œç§‘å­¦å®¶å°±æƒ³åˆ°äº†ä¸€ä¸ªå¥½åŠæ³•ï¼šè¿™äº›æ•°æ®ä¸­æœ¬æ¥å°±å­˜åœ¨ç€æŸäº›å…³è”ï¼Œè®©æ¨¡å‹è‡ªå·±å­¦å»å§ï¼æ— ç›‘ç£å­¦ä¹ ä¹Ÿå°±åº”è¿è€Œç”Ÿã€‚</p>
<p>æ— ç›‘ç£å­¦ä¹ ï¼ˆUnsupervised Learningï¼‰æ˜¯ä¸€ç§æ— éœ€äººå·¥æ ‡æ³¨æ•°æ®çš„æœºå™¨å­¦ä¹ æ–¹æ³•ã€‚ä¸ç›‘ç£å­¦ä¹ ä¸åŒï¼Œå®ƒä¸ä¾èµ–è¾“å…¥ä¸æ ‡ç­¾çš„å¯¹åº”å…³ç³»ï¼Œè€Œæ˜¯åœ¨çº¯ç²¹çš„è¾“å…¥æ•°æ®ä¸­è‡ªä¸»å¯»æ‰¾æ½œåœ¨çš„æ¨¡å¼ã€è§„å¾‹ä¸ç»“æ„ã€‚</p>
<p>æ— ç›‘ç£å­¦ä¹ çš„æ ¸å¿ƒæ€æƒ³å¯ä»¥ç†è§£ä¸ºâ€œæ— è€å¸ˆçš„å­¦ä¹ â€ã€‚æ¨¡å‹å¹¶ä¸çŸ¥é“æ­£ç¡®ç­”æ¡ˆæ˜¯ä»€ä¹ˆï¼Œå®ƒçš„ç›®æ ‡æ˜¯é€šè¿‡åˆ†ææ•°æ®ä¹‹é—´çš„ç›¸ä¼¼æ€§ä¸å·®å¼‚æ€§ï¼Œæ­ç¤ºæ•°æ®èƒŒåçš„éšè—ç»“æ„ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5898638d0c9c437283b50cda519dc5b5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYWljb3Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768577858&amp;x-signature=sqVuxaC0Z0SJZGNkFEO8ABvP%2Bd8%3D" alt="" loading="lazy"/></p>
<p>æ— ç›‘ç£å­¦ä¹ å¸¸è§çš„ä»»åŠ¡åŒ…æ‹¬ï¼š</p>
<ul>
<li>èšç±»ï¼ˆClusteringï¼‰ï¼šå°†ç›¸ä¼¼çš„æ•°æ®è‡ªåŠ¨å½’ä¸ºä¸€ç±»ï¼Œä¾‹å¦‚æŠŠå®¢æˆ·åˆ’åˆ†æˆä¸åŒç¾¤ä½“ã€‚</li>
<li>é™ç»´ï¼ˆDimensionality Reductionï¼‰ï¼šåœ¨ä¿ç•™ä¸»è¦ä¿¡æ¯çš„å‰æä¸‹ï¼Œç”¨æ›´å°‘çš„å˜é‡æ¥è¡¨ç¤ºæ•°æ®ï¼Œä¾‹å¦‚å°†é«˜ç»´å›¾åƒæ•°æ®æ˜ å°„åˆ°ä½ç»´ç©ºé—´ã€‚</li>
<li>å…³è”è§„åˆ™æŒ–æ˜ï¼ˆAssociation Rule Miningï¼‰ï¼šå‘ç°å˜é‡ä¹‹é—´çš„æ½œåœ¨å…³ç³»ï¼Œä¾‹å¦‚â€œè´­ç‰©ç¯®åˆ†æâ€ä¸­æ‰¾å‡ºå“ªäº›å•†å“ç»å¸¸ä¸€èµ·è´­ä¹°ã€‚</li>
</ul>
<p>å¯ä»¥è¯´ï¼Œæ— ç›‘ç£å­¦ä¹ æ›´åƒæ˜¯æ¢ç´¢æœªçŸ¥é¢†åŸŸï¼Œå¸®åŠ©äººä»¬ç†è§£æ•°æ®çš„å†…åœ¨ç»“æ„ï¼Œä¸ºåç»­çš„é¢„æµ‹ã€å†³ç­–æˆ–ç‰¹å¾æå–æä¾›æ”¯æŒã€‚</p>
<p>æ— ç›‘ç£å­¦ä¹ çš„ä¸€èˆ¬æµç¨‹åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p>
<ol>
<li>æ•°æ®æ”¶é›†ä¸å‡†å¤‡ è·å–æ•°æ®å¹¶è¿›è¡ŒåŸºæœ¬æ¸…æ´—ï¼Œç¡®ä¿è¾“å…¥æ•°æ®è´¨é‡ã€‚ç”±äºæ²¡æœ‰æ ‡ç­¾ï¼Œæ•°æ®çš„å®Œæ•´æ€§ä¸ä»£è¡¨æ€§æ˜¾å¾—å°¤ä¸ºé‡è¦ã€‚</li>
<li>ç‰¹å¾æå–ä¸è¡¨ç¤º å°†åŸå§‹æ•°æ®è½¬åŒ–ä¸ºæ¨¡å‹å¯ç†è§£çš„ç‰¹å¾è¡¨ç¤ºï¼Œä¾‹å¦‚æ•°å€¼å‘é‡åŒ–æˆ–å½’ä¸€åŒ–å¤„ç†ã€‚</li>
<li>æ¨¡å‹é€‰æ‹© æ ¹æ®ä»»åŠ¡ç›®æ ‡é€‰æ‹©åˆé€‚çš„æ–¹æ³•ï¼šè‹¥æ˜¯å‘ç°ç¾¤ä½“ç»“æ„ï¼Œå¯ä»¥ä½¿ç”¨èšç±»ç®—æ³•ï¼›è‹¥æ˜¯é™ä½ç»´åº¦ï¼Œå¯ä»¥é€‰æ‹©ä¸»æˆåˆ†åˆ†æï¼ˆPCAï¼‰ç­‰æ–¹æ³•ã€‚</li>
<li>æ¨¡å¼å‘ç° æ¨¡å‹é€šè¿‡åˆ†ææ•°æ®é—´çš„ç›¸ä¼¼æ€§ã€åˆ†å¸ƒè§„å¾‹æˆ–ç»Ÿè®¡ç‰¹æ€§ï¼ŒæŒ–æ˜å‡ºæ•°æ®ä¸­éšè—çš„æ¨¡å¼ã€‚</li>
<li>ç»“æœè§£é‡Šä¸åº”ç”¨ å¯¹æ¨¡å‹è¾“å‡ºè¿›è¡Œè§£é‡Šå’ŒéªŒè¯ï¼Œå¹¶ç»“åˆä¸šåŠ¡éœ€æ±‚åº”ç”¨ï¼Œä¾‹å¦‚ç”¨äºå¸‚åœºç»†åˆ†ã€å¼‚å¸¸æ£€æµ‹æˆ–æ•°æ®å¯è§†åŒ–ã€‚</li>
</ol>
<p>æ— ç›‘ç£å­¦ä¹ çš„é­…åŠ›åœ¨äºå‘ç°æœªçŸ¥ã€‚å½“ç¼ºä¹æ ‡æ³¨æ•°æ®æ—¶ï¼Œå®ƒèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬ç†è§£æ•°æ®çš„å†…åœ¨ç»“æ„ï¼Œæ­ç¤ºæ½œåœ¨è§„å¾‹ï¼Œå¹¶ä¸ºå…¶ä»–æœºå™¨å­¦ä¹ æ–¹æ³•æä¾›æ”¯æŒã€‚åœ¨å¤§æ•°æ®åœºæ™¯ä¸‹ï¼Œæ— ç›‘ç£å­¦ä¹ å·²ç»æˆä¸ºæ¢ç´¢å’Œåˆ©ç”¨ä¿¡æ¯çš„é‡è¦å·¥å…·ï¼Œä¾‹å¦‚ç”¨æˆ·è¡Œä¸ºåˆ†æã€åŸºå› æ•°æ®ç ”ç©¶ã€æ¨èç³»ç»Ÿé¢„å¤„ç†ç­‰ã€‚</p>
<h3 data-id="heading-4">åŠç›‘ç£å­¦ä¹ </h3>
<p>åœ¨ç°å®ä¸–ç•Œä¸­ï¼Œè·å–å¤§é‡æ ‡æ³¨æ•°æ®å¾€å¾€ä»£ä»·é«˜æ˜‚ã€è€—æ—¶å·¨å¤§ï¼Œè€Œæœªæ ‡æ³¨æ•°æ®å´éšå¤„å¯è§ã€‚åŠç›‘ç£å­¦ä¹ ï¼ˆSemi-Supervised Learningï¼‰ ä¾¿æ˜¯åœ¨è¿™ç§èƒŒæ™¯ä¸‹è¯ç”Ÿçš„ä¸€ç§æŠ˜ä¸­æ–¹æ¡ˆï¼šå®ƒè¯•å›¾ç»“åˆå°‘é‡å¸¦æ ‡ç­¾çš„æ•°æ®ä¸å¤§é‡æ— æ ‡ç­¾çš„æ•°æ®ï¼Œä»è€Œæå‡æ¨¡å‹çš„å­¦ä¹ æ•ˆæœã€‚</p>
<p>åŠç›‘ç£å­¦ä¹ çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šæ ‡ç­¾ç¨€ç¼ºä½†æ•°æ®ä¸°å¯Œã€‚ç›¸æ¯”ç›‘ç£å­¦ä¹ å®Œå…¨ä¾èµ–æ ‡æ³¨æ•°æ®ï¼ŒåŠç›‘ç£å­¦ä¹ å¸Œæœ›æ¨¡å‹èƒ½å¤Ÿå€ŸåŠ©æ— æ ‡ç­¾æ ·æœ¬ä¸­çš„æ½œåœ¨ç»“æ„ä¸åˆ†å¸ƒè§„å¾‹ï¼Œæ¥è¾…åŠ©æ¨¡å‹æ›´å¥½åœ°å­¦ä¹ å†³ç­–è¾¹ç•Œã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/65c4f699474e4a4f9ea055e7de886b64~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYWljb3Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768577858&amp;x-signature=aCwBeAxcgVOWNp41IU5wc1Nl8AA%3D" alt="" loading="lazy"/></p>
<p>æ¢å¥è¯è¯´ï¼Œå¸¦æ ‡ç­¾çš„æ•°æ®å‘Šè¯‰æ¨¡å‹â€œè¯¥æ€ä¹ˆåˆ†â€ï¼Œè€Œæ— æ ‡ç­¾çš„æ•°æ®åˆ™æ­ç¤ºäº†â€œæ•°æ®æ˜¯æ€ä¹ˆåˆ†å¸ƒçš„â€ã€‚ä¸¤è€…ç»“åˆï¼Œæ—¢èƒ½é™ä½æ ‡æ³¨æˆæœ¬ï¼Œåˆèƒ½æå‡æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ã€‚</p>
<p>åŠç›‘ç£å­¦ä¹ çš„å…¸å‹æµç¨‹ä¸€èˆ¬åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p>
<ol>
<li>åˆå§‹è®­ç»ƒ ä½¿ç”¨å°‘é‡çš„æ ‡æ³¨æ•°æ®è®­ç»ƒä¸€ä¸ªåˆå§‹æ¨¡å‹ï¼Œå»ºç«‹åŸºæœ¬çš„é¢„æµ‹èƒ½åŠ›ã€‚</li>
<li>åˆ©ç”¨æ— æ ‡ç­¾æ•°æ® å€ŸåŠ©æ— æ ‡ç­¾æ•°æ®çš„åˆ†å¸ƒç‰¹æ€§ï¼Œè®©æ¨¡å‹æ•æ‰æ•°æ®çš„æ½œåœ¨ç»“æ„ã€‚å¸¸è§æ–¹å¼åŒ…æ‹¬èšç±»å‡è®¾ï¼ˆç›¸ä¼¼çš„æ ·æœ¬å¾€å¾€å±äºåŒä¸€ç±»åˆ«ï¼‰å’Œæµå½¢å‡è®¾ï¼ˆé«˜ç»´æ•°æ®å¾€å¾€åˆ†å¸ƒåœ¨ä½ç»´æµå½¢ä¸Šï¼‰ã€‚</li>
<li>ä¼ªæ ‡ç­¾ç”Ÿæˆ æ¨¡å‹å¯¹æ— æ ‡ç­¾æ•°æ®è¿›è¡Œé¢„æµ‹ï¼Œå¹¶å°†é«˜ç½®ä¿¡åº¦çš„é¢„æµ‹ç»“æœå½“ä½œâ€œä¼ªæ ‡ç­¾â€ï¼ŒåŠ å…¥åˆ°è®­ç»ƒé›†ä¸­ï¼Œä¸æ–­æ‰©å¤§æ ‡æ³¨æ•°æ®çš„è§„æ¨¡ã€‚</li>
<li>è¿­ä»£ä¼˜åŒ– å°†çœŸå®æ ‡ç­¾ä¸ä¼ªæ ‡ç­¾å…±åŒç”¨äºè®­ç»ƒï¼Œè¿­ä»£æ›´æ–°æ¨¡å‹ï¼Œä½¿å…¶åœ¨ä¸æ–­å­¦ä¹ ä¸­è·å¾—æ›´å¼ºçš„æ³›åŒ–èƒ½åŠ›ã€‚</li>
</ol>
<p>åŠç›‘ç£å­¦ä¹ å¹¿æ³›åº”ç”¨äºæ ‡æ³¨æˆæœ¬é«˜æ˜‚çš„é¢†åŸŸï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>åŒ»å­¦å½±åƒåˆ†æï¼šå°‘é‡ä¸“å®¶æ ‡æ³¨ç»“åˆå¤§é‡æœªæ ‡æ³¨å›¾åƒï¼Œæœ‰åŠ©äºç–¾ç—…è¯Šæ–­æ¨¡å‹çš„è®­ç»ƒã€‚</li>
<li>è‡ªç„¶è¯­è¨€å¤„ç†ï¼šåœ¨æ–‡æœ¬åˆ†ç±»æˆ–æƒ…æ„Ÿåˆ†æä¸­ï¼Œå¤§é‡è¯­æ–™æ²¡æœ‰æ ‡ç­¾ï¼ŒåŠç›‘ç£æ–¹æ³•èƒ½æœ‰æ•ˆåˆ©ç”¨è¿™äº›æ•°æ®ã€‚</li>
<li>ç½‘ç»œå®‰å…¨ï¼šæ¶æ„è¡Œä¸ºæ ·æœ¬æœ‰é™ï¼Œä½†å¤§é‡æ­£å¸¸ç½‘ç»œæµé‡å¯ä»¥æä¾›è¾…åŠ©ä¿¡æ¯ã€‚</li>
</ul>
<p>åŠç›‘ç£å­¦ä¹ æ˜¯ä¸€ç§å·§å¦™çš„æŠ˜ä¸­æ–¹æ¡ˆï¼šå®ƒä¸ä¾èµ–äºæ˜‚è´µçš„å¤§è§„æ¨¡æ ‡æ³¨ï¼Œä¹Ÿä¸å®Œå…¨æ”¾å¼ƒç›‘ç£ä¿¡å·ï¼Œè€Œæ˜¯å°†â€œå°‘é‡å·²çŸ¥â€ä¸â€œå¤§é‡æœªçŸ¥â€ç›¸ç»“åˆï¼Œå¸®åŠ©æ¨¡å‹åœ¨æœ‰é™çš„ç›‘ç£ä¸‹ä¾ç„¶èƒ½å¤Ÿâ€œå­¦å¾—æ›´å¥½â€ã€‚åœ¨æ•°æ®çˆ†ç‚¸ã€æ ‡æ³¨æ˜‚è´µçš„å½“ä¸‹ï¼ŒåŠç›‘ç£å­¦ä¹ æ— ç–‘æ˜¯æ¨åŠ¨äººå·¥æ™ºèƒ½èµ°å‘ç°å®åº”ç”¨çš„é‡è¦æ–¹å¼ã€‚</p>
<h3 data-id="heading-5">å¼ºåŒ–å­¦ä¹ </h3>
<p>å¦‚æœè¯´ç›‘ç£å­¦ä¹ åƒâ€œè€å¸ˆå‡ºé¢˜ã€å­¦ç”Ÿä½œç­”â€ï¼Œæ— ç›‘ç£å­¦ä¹ åƒâ€œå­¦ç”Ÿè‡ªå­¦ã€è‡ªå·±æ€»ç»“â€ï¼Œé‚£ä¹ˆå¼ºåŒ–å­¦ä¹ ï¼ˆReinforcement Learningï¼ŒRLï¼‰æ›´åƒæ˜¯â€œå­¦ç”Ÿåœ¨æ¸¸æˆä¸­é—¯å…³ï¼Œé€šè¿‡å¥–åŠ±ä¸æƒ©ç½šä¸æ–­å‡çº§â€ã€‚å®ƒæ˜¯ä¸€ç§é€šè¿‡ä¸ç¯å¢ƒäº¤äº’æ¥å­¦ä¹ å†³ç­–ç­–ç•¥çš„æœºå™¨å­¦ä¹ æ–¹æ³•ã€‚</p>
<p>å¼ºåŒ–å­¦ä¹ çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šè¡ŒåŠ¨ â†’ å¥–åŠ± â†’ å­¦ä¹  â†’ æ”¹è¿›ã€‚ æ™ºèƒ½ä½“ï¼ˆagentï¼‰é€šè¿‡ä¸ç¯å¢ƒï¼ˆenvironmentï¼‰äº¤äº’ï¼Œåœ¨ä¸åŒçŠ¶æ€ä¸‹é‡‡å–åŠ¨ä½œï¼ˆactionï¼‰ï¼Œç¯å¢ƒä¼šåé¦ˆå¥–åŠ±ï¼ˆrewardï¼‰å’Œæ–°çš„çŠ¶æ€ã€‚æ™ºèƒ½ä½“çš„ç›®æ ‡æ˜¯é€šè¿‡è¯•é”™ï¼Œä¸æ–­ä¼˜åŒ–ç­–ç•¥ï¼ˆpolicyï¼‰ï¼Œä»¥è·å¾—é•¿æœŸç´¯ç§¯çš„æœ€å¤§å¥–åŠ±ã€‚</p>
<p>å¯ä»¥ç®€å•ç†è§£ä¸ºï¼š</p>
<ul>
<li>ç›‘ç£å­¦ä¹ å­¦çš„æ˜¯â€œæ­£ç¡®ç­”æ¡ˆâ€ï¼›</li>
<li>æ— ç›‘ç£å­¦ä¹ å­¦çš„æ˜¯â€œæ½œåœ¨è§„å¾‹â€ï¼›</li>
<li>å¼ºåŒ–å­¦ä¹ å­¦çš„æ˜¯â€œå¦‚ä½•åšé€‰æ‹©ï¼Œæ‰èƒ½èµ¢å¾—æœ€å¤šå¥–åŠ±â€ã€‚</li>
</ul>
<p>ä¸€ä¸ªå…¸å‹çš„å¼ºåŒ–å­¦ä¹ æµç¨‹åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªå…³é”®æ­¥éª¤ï¼š</p>
<ol>
<li>æ„ŸçŸ¥ç¯å¢ƒçŠ¶æ€ï¼ˆStateï¼‰ æ™ºèƒ½ä½“è§‚å¯Ÿå½“å‰æ‰€å¤„çš„ç¯å¢ƒï¼Œä¾‹å¦‚æœºå™¨äººçœ‹åˆ°å‘¨å›´éšœç¢ç‰©ï¼Œæ¸¸æˆç©å®¶çŸ¥é“è‡ªå·±æ‰€åœ¨ä½ç½®ã€‚</li>
<li>é€‰æ‹©åŠ¨ä½œï¼ˆActionï¼‰ æ ¹æ®å½“å‰çš„ç­–ç•¥ï¼Œæ™ºèƒ½ä½“å†³å®šé‡‡å–æŸç§åŠ¨ä½œï¼Œä¾‹å¦‚å‘å‰èµ°ã€å‘å·¦è½¬æˆ–å‘èµ·æ”»å‡»ã€‚</li>
<li>ç¯å¢ƒåé¦ˆï¼ˆReward &amp; Next Stateï¼‰ ç¯å¢ƒæ ¹æ®åŠ¨ä½œåé¦ˆå¥–åŠ±ï¼ˆæ­£å‘æˆ–è´Ÿå‘ï¼‰ï¼ŒåŒæ—¶è¿›å…¥æ–°çš„çŠ¶æ€ã€‚ä¾‹å¦‚ï¼Œæœºå™¨äººé¿å¼€éšœç¢ç‰©è·å¾—å¥–åŠ±ï¼Œæ’åˆ°éšœç¢ç‰©åˆ™å—åˆ°æƒ©ç½šã€‚</li>
<li>ç­–ç•¥æ›´æ–°ï¼ˆPolicy Updateï¼‰ æ™ºèƒ½ä½“åˆ©ç”¨åé¦ˆä¿¡æ¯æ›´æ–°å†³ç­–ç­–ç•¥ï¼Œè®©ä¸‹ä¸€æ¬¡è¡ŒåŠ¨æ›´èªæ˜ï¼Œä»è€Œåœ¨é•¿æœŸä¸­è·å¾—æ›´é«˜çš„æ€»å›æŠ¥ã€‚</li>
</ol>
<p>è¿™ä¸€è¿‡ç¨‹å¾ªç¯å¾€å¤ï¼Œç›´åˆ°æ™ºèƒ½ä½“å­¦ä¼šåœ¨å„ç§æƒ…å¢ƒä¸‹å¦‚ä½•é€‰æ‹©æœ€ä½³åŠ¨ä½œã€‚</p>
<p>å¼ºåŒ–å­¦ä¹ çš„åŸºæœ¬è¦ç´ é€šå¸¸ç”¨äº”å…ƒç»„æ¥æè¿°ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e966718661c4fc889afcb7363bad28f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYWljb3Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768577858&amp;x-signature=3F%2BgULs0DacGLCWuLWO32XZTBdw%3D" alt="" loading="lazy"/></p>
<ul>
<li>Agentï¼ˆæ™ºèƒ½ä½“ï¼‰ï¼šå­¦ä¹ å’Œå†³ç­–çš„ä¸»ä½“ï¼›</li>
<li>Environmentï¼ˆç¯å¢ƒï¼‰ï¼šæ™ºèƒ½ä½“æ‰€å¤„çš„å¤–éƒ¨ä¸–ç•Œï¼›</li>
<li>Stateï¼ˆçŠ¶æ€ï¼‰ï¼šç¯å¢ƒåœ¨æŸä¸€æ—¶åˆ»çš„ä¿¡æ¯æè¿°ï¼›</li>
<li>Actionï¼ˆåŠ¨ä½œï¼‰ï¼šæ™ºèƒ½ä½“å¯ä»¥é‡‡å–çš„è¡Œä¸ºï¼›</li>
<li>Rewardï¼ˆå¥–åŠ±ï¼‰ï¼šåŠ¨ä½œæ‰§è¡Œåç¯å¢ƒç»™äºˆçš„åé¦ˆã€‚</li>
</ul>
<p>å¼ºåŒ–å­¦ä¹ å·²åœ¨å¤šä¸ªé¢†åŸŸå±•ç°å‡ºå¼ºå¤§æ½œåŠ›ï¼š</p>
<ul>
<li>æ¸¸æˆï¼šAlphaGo æ‰“è´¥ä¸–ç•Œå›´æ£‹å† å†›ï¼Œå±•ç¤ºäº†å¼ºåŒ–å­¦ä¹ åœ¨å¤æ‚åšå¼ˆä¸­çš„å¨åŠ›ã€‚</li>
<li>æœºå™¨äººæ§åˆ¶ï¼šæœºå™¨äººé€šè¿‡è¯•é”™å­¦ä¼šèµ°è·¯ã€æŠ“å–ç‰©ä½“ï¼Œç”šè‡³å®Œæˆç²¾ç»†æ“ä½œã€‚</li>
<li>æ¨èç³»ç»Ÿï¼šæ ¹æ®ç”¨æˆ·çš„åé¦ˆåŠ¨æ€è°ƒæ•´æ¨èå†…å®¹ï¼Œä¼˜åŒ–é•¿æœŸç”¨æˆ·ä½“éªŒã€‚</li>
<li>è‡ªåŠ¨é©¾é©¶ï¼šå¼ºåŒ–å­¦ä¹ å¸®åŠ©æ±½è½¦åœ¨æ¨¡æ‹Ÿç¯å¢ƒä¸­ä¸æ–­ä¼˜åŒ–é©¾é©¶ç­–ç•¥ã€‚</li>
</ul>
<p>å¼ºåŒ–å­¦ä¹ æ˜¯ä¸€ç§åŸºäºâ€œè¯•é”™â€”åé¦ˆâ€”æ”¹è¿›â€çš„å­¦ä¹ æ–¹æ³•ï¼Œå¼ºè°ƒé•¿æœŸå›æŠ¥çš„æœ€å¤§åŒ–ã€‚å®ƒä¸åƒç›‘ç£å­¦ä¹ é‚£æ ·ä¾èµ–å¤§é‡æ ‡æ³¨æ•°æ®ï¼Œè€Œæ˜¯é€šè¿‡ä¸ç¯å¢ƒçš„ä¸æ–­äº¤äº’ï¼Œé€æ­¥å½¢æˆæœ€ä¼˜ç­–ç•¥ã€‚éšç€è®¡ç®—èƒ½åŠ›å’Œæ¨¡æ‹Ÿç¯å¢ƒçš„ä¸æ–­å‘å±•ï¼Œå¼ºåŒ–å­¦ä¹ å°†åœ¨æ›´å¤šå¤æ‚ã€åŠ¨æ€çš„ç°å®åœºæ™¯ä¸­å‘æŒ¥é‡è¦ä½œç”¨ã€‚</p>
<h2 data-id="heading-6">æœºå™¨å­¦ä¹  vs æ·±åº¦å­¦ä¹ </h2>
<p>åœ¨äººå·¥æ™ºèƒ½çš„å‘å±•å†ç¨‹ä¸­ï¼Œæœºå™¨å­¦ä¹ ï¼ˆMachine Learning, MLï¼‰å’Œæ·±åº¦å­¦ä¹ ï¼ˆDeep Learning, DLï¼‰ä¸¤ä¸ªå¸¸è¢«æåŠçš„å…³é”®è¯ã€‚å®ƒä»¬æ—¢ç´§å¯†ç›¸å…³ï¼Œåˆå­˜åœ¨æ˜¾è‘—å·®å¼‚ã€‚ç®€å•æ¥è¯´ï¼Œæ·±åº¦å­¦ä¹ æ˜¯æœºå™¨å­¦ä¹ çš„ä¸€ç§å®ç°æ–¹å¼ï¼Œä½†å› ä¸ºè¡¨ç°è¿‡äºäº®çœ¼ï¼Œç»å¸¸è¢«å•ç‹¬æ‹¿å‡ºæ¥ä¸â€œæœºå™¨å­¦ä¹ â€å¯¹æ¯”ã€‚</p>
<h3 data-id="heading-7">å®šä¹‰å·®å¼‚</h3>
<ul>
<li>æœºå™¨å­¦ä¹ ï¼šå¼ºè°ƒè®©è®¡ç®—æœºé€šè¿‡æ•°æ®å­¦ä¹ è§„å¾‹ï¼Œä»è€Œè¿›è¡Œé¢„æµ‹æˆ–å†³ç­–ï¼Œå¸¸è§æ–¹æ³•æœ‰çº¿æ€§å›å½’ã€æ”¯æŒå‘é‡æœºã€å†³ç­–æ ‘ç­‰ã€‚</li>
<li>æ·±åº¦å­¦ä¹ ï¼šå±äºæœºå™¨å­¦ä¹ çš„ä¸€ä¸ªåˆ†æ”¯ï¼ŒåŸºäºäººå·¥ç¥ç»ç½‘ç»œï¼Œå°¤å…¶æ˜¯å¤šå±‚çš„æ·±åº¦ç»“æ„ï¼Œç”¨äºä»æµ·é‡æ•°æ®ä¸­è‡ªåŠ¨æå–ç‰¹å¾å¹¶å®Œæˆä»»åŠ¡ã€‚</li>
</ul>
<h3 data-id="heading-8">å·¥ä½œæ–¹å¼å·®å¼‚</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/359518fa907040229989ca047cd4cfd7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYWljb3Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768577858&amp;x-signature=dL8cavYEYDvcudO7fNBZocGHuwA%3D" alt="" loading="lazy"/></p>
<ul>
<li>åœ¨ä¼ ç»Ÿæœºå™¨å­¦ä¹ ä¸­ï¼Œç‰¹å¾å·¥ç¨‹å¾€å¾€æ˜¯æˆè´¥çš„å…³é”®ã€‚éœ€è¦ä¸“å®¶æ ¹æ®ä»»åŠ¡ç»éªŒæå–æœ‰ä»·å€¼çš„ç‰¹å¾ï¼Œä¾‹å¦‚åœ¨å›¾åƒè¯†åˆ«ä¸­æ‰‹å·¥æå–è¾¹ç¼˜ã€è§’ç‚¹ç­‰ä¿¡æ¯ã€‚</li>
<li>æ·±åº¦å­¦ä¹ åˆ™é€šè¿‡å¤šå±‚ç¥ç»ç½‘ç»œè‡ªåŠ¨å®Œæˆç‰¹å¾æå–ï¼Œå‡å°‘äº†äººå·¥å¹²é¢„ã€‚ä¾‹å¦‚å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰å¯ä»¥è‡ªåŠ¨ä»å›¾åƒä¸­å­¦ä¹ è¾¹ç¼˜ã€çº¹ç†ã€è¯­ä¹‰ç­‰å±‚æ¬¡ç‰¹å¾ã€‚</li>
</ul>
<p>è¿™å°±å¥½æ¯”ï¼šæœºå™¨å­¦ä¹ éœ€è¦â€œäººç±»å¨å¸ˆâ€ç²¾å¿ƒå‡†å¤‡é£Ÿæï¼Œè€Œæ·±åº¦å­¦ä¹ å¯ä»¥â€œè‡ªå·±ä¸‹å¨â€ï¼Œç›´æ¥ä»åŸææ–™åšå‡ºç¾å‘³ã€‚</p>
<h3 data-id="heading-9">æ•°æ®ä¸è®¡ç®—éœ€æ±‚å·®å¼‚</h3>
<ul>
<li>æœºå™¨å­¦ä¹ ï¼šé€šå¸¸åœ¨ä¸­å°è§„æ¨¡æ•°æ®ä¸Šå°±èƒ½å·¥ä½œè‰¯å¥½ï¼Œè®¡ç®—èµ„æºéœ€æ±‚è¾ƒä½ã€‚</li>
<li>æ·±åº¦å­¦ä¹ ï¼šå¾€å¾€éœ€è¦æµ·é‡æ•°æ®å’Œå¼ºå¤§çš„è®¡ç®—èƒ½åŠ›ï¼ˆGPU/TPUï¼‰æ‰èƒ½å‘æŒ¥ä¼˜åŠ¿ï¼Œå¦åˆ™å®¹æ˜“è¿‡æ‹Ÿåˆæˆ–è®­ç»ƒæ•ˆæœä¸ä½³ã€‚</li>
</ul>
<h3 data-id="heading-10">å¯è§£é‡Šæ€§å·®å¼‚</h3>
<ul>
<li>æœºå™¨å­¦ä¹ æ¨¡å‹ï¼ˆå¦‚å†³ç­–æ ‘ã€çº¿æ€§å›å½’ï¼‰é€šå¸¸è¾ƒå®¹æ˜“è§£é‡Šï¼Œå¯ä»¥ç›´è§‚åœ°çœ‹å‡ºæŸä¸ªç‰¹å¾å¯¹ç»“æœçš„å½±å“ã€‚</li>
<li>æ·±åº¦å­¦ä¹ æ¨¡å‹åˆ™è¢«ç§°ä¸ºâ€œé»‘ç®±â€ï¼Œå°½ç®¡ç ”ç©¶è€…æå‡ºäº†å¯è§†åŒ–å’Œå¯è§£é‡Šæ€§æ–¹æ³•ï¼Œä½†æ•´ä½“ä¸Šä»éš¾ä»¥å®Œå…¨è§£é‡Šå…¶å†…éƒ¨æœºåˆ¶ã€‚</li>
</ul>
<h3 data-id="heading-11">åº”ç”¨åœºæ™¯å·®å¼‚</h3>
<ul>
<li>æœºå™¨å­¦ä¹ ï¼šé€‚åˆæ•°æ®é‡æœ‰é™ã€å¯¹å¯è§£é‡Šæ€§è¦æ±‚é«˜çš„ä»»åŠ¡ï¼Œå¦‚é‡‘èé£æ§ã€åŒ»ç–—è¯Šæ–­è¾…åŠ©ã€‚</li>
<li>æ·±åº¦å­¦ä¹ ï¼šåœ¨è®¡ç®—æœºè§†è§‰ã€è¯­éŸ³è¯†åˆ«ã€è‡ªç„¶è¯­è¨€å¤„ç†ç­‰å¤§è§„æ¨¡æ•°æ®é©±åŠ¨çš„é¢†åŸŸè¡¨ç°å“è¶Šã€‚</li>
</ul>
<p>æœºå™¨å­¦ä¹ ä¸æ·±åº¦å­¦ä¹ çš„å…³ç³»ï¼Œå¯ä»¥ç”¨ä¸€å¥è¯æ¥å½¢å®¹ï¼šæ·±åº¦å­¦ä¹ æ˜¯æœºå™¨å­¦ä¹ çš„â€œå‡çº§è£…å¤‡â€ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰ä»»åŠ¡éƒ½å¿…é¡»ç”¨å®ƒã€‚ å½“æ•°æ®é‡æœ‰é™ã€è®¡ç®—èµ„æºå—é™æ—¶ï¼Œä¼ ç»Ÿæœºå™¨å­¦ä¹ ä¾æ—§æ˜¯é«˜æ•ˆå¯é çš„é€‰æ‹©ï¼›è€Œåœ¨å¤§æ•°æ®å’Œé«˜ç®—åŠ›çš„æ”¯æŒä¸‹ï¼Œæ·±åº¦å­¦ä¹ åˆ™å±•ç°å‡ºè¿œè¶…ä¼ ç»Ÿæ–¹æ³•çš„æ½œåŠ›ã€‚</p>
<h2 data-id="heading-12">æœºå™¨å­¦ä¹ çš„åº”ç”¨åœºæ™¯</h2>
<p>æœºå™¨å­¦ä¹ ä¸ä»…æ˜¯å®éªŒå®¤é‡Œçš„æ•°å­¦æ¨¡å‹ï¼Œå®ƒå·²ç»æ·±æ·±åµŒå…¥åˆ°æˆ‘ä»¬çš„æ—¥å¸¸ç”Ÿæ´»å’Œå„è¡Œå„ä¸šä¸­ã€‚ä¸åŒçš„ç®—æ³•å’Œæ–¹æ³•è®©æœºå™¨èƒ½å¤Ÿåƒäººä¸€æ ·æ€è€ƒã€é¢„æµ‹å’Œå†³ç­–ã€‚ä½ å…ˆæƒ³ä¸€ä¸‹æœ‰å“ªäº›åº”ç”¨æ–¹å‘å‘¢ï¼Ÿæ¥ä¸‹æ¥çœ‹çœ‹æ˜¯ä¸æ˜¯å’Œä½ æƒ³çš„ä¸€æ ·å§ï¼</p>
<h3 data-id="heading-13">é‡‘è</h3>
<p>é‡‘èè¡Œä¸šæ˜¯æœºå™¨å­¦ä¹ æœ€æ—©å¤§è§„æ¨¡è½åœ°çš„é¢†åŸŸä¹‹ä¸€ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/31fd0fe219334074b181c7ffc2c0c833~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYWljb3Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768577858&amp;x-signature=l73XKMW7yxH6mt3Aqzb7uVmxA3s%3D" alt="" loading="lazy"/></p>
<ul>
<li>ä¿¡ç”¨é£é™©è¯„ä¼°ï¼šé€šè¿‡å®¢æˆ·çš„æ¶ˆè´¹ã€è¿˜æ¬¾ã€äº¤æ˜“è®°å½•ç­‰æ•°æ®ï¼Œæ¨¡å‹å¯ä»¥é¢„æµ‹å…¶è¿çº¦æ¦‚ç‡ï¼Œä»è€Œå¸®åŠ©é“¶è¡Œå’Œä¿¡è´·æœºæ„åšå‡ºæ”¾è´·å†³ç­–ã€‚</li>
<li>æ¬ºè¯ˆæ£€æµ‹ï¼šæœºå™¨å­¦ä¹ èƒ½å¤Ÿå®æ—¶ç›‘æ§äº¤æ˜“æ•°æ®ï¼Œå‘ç°å¼‚å¸¸æ¨¡å¼å¹¶è¯†åˆ«æ½œåœ¨çš„æ¬ºè¯ˆè¡Œä¸ºã€‚</li>
<li>é‡åŒ–äº¤æ˜“ï¼šåˆ©ç”¨å†å²è¡Œæƒ…å’Œå¸‚åœºç‰¹å¾ï¼Œæ¨¡å‹å¯ä»¥è‡ªåŠ¨å¯»æ‰¾äº¤æ˜“æœºä¼šå¹¶æ‰§è¡Œç­–ç•¥ã€‚</li>
</ul>
<p>åœ¨é‡‘èé¢†åŸŸï¼Œæœºå™¨å­¦ä¹ å°±åƒé£é™©é›·è¾¾ï¼Œæ—¢èƒ½è§„é¿æŸå¤±ï¼Œä¹Ÿèƒ½å‘æ˜ä»·å€¼ã€‚</p>
<h3 data-id="heading-14">åŒ»ç–—</h3>
<p>åœ¨åŒ»ç–—å¥åº·é¢†åŸŸï¼Œæœºå™¨å­¦ä¹ æ­£åœ¨æˆä¸ºåŒ»ç”Ÿçš„ç¬¬äºŒåŒçœ¼ç›ï¼Œæˆ‘çš„ç¡•å£«ç ”ç©¶æ–¹å‘å°±æ˜¯åŒ»å­¦å›¾åƒå¤„ç†ï¼Œä½†æ˜¯æ˜¯ä½¿ç”¨æ·±åº¦å­¦ä¹ ï¼Œç”¨æœºå™¨å­¦ä¹ ä¼°è®¡æ¯•ä¸äº†ä¸šã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9aae59aa1f6243208201ed06fb41add8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYWljb3Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768577858&amp;x-signature=H8anuPnUa19zz9uCv06RFS2wVF0%3D" alt="" loading="lazy"/></p>
<ul>
<li>ç–¾ç—…é¢„æµ‹ä¸è¯Šæ–­ï¼šé€šè¿‡ç”µå­ç—…å†ã€å½±åƒå’ŒåŸºå› æ•°æ®ï¼Œæ¨¡å‹å¯ä»¥è¾…åŠ©åŒ»ç”Ÿæ›´å¿«ã€æ›´å‡†ç¡®åœ°åˆ¤æ–­ç—…æƒ…ã€‚</li>
<li>è¯ç‰©ç ”å‘ï¼šé€šè¿‡å­¦ä¹ åˆ†å­ç»“æ„å’Œä¸´åºŠå®éªŒæ•°æ®ï¼Œæ¨¡å‹èƒ½åŠ é€Ÿè¯ç‰©ç­›é€‰ï¼Œç¼©çŸ­ç ”å‘å‘¨æœŸã€‚</li>
<li>ä¸ªæ€§åŒ–åŒ»ç–—ï¼šæ ¹æ®æ‚£è€…çš„é—ä¼ ä¿¡æ¯å’Œç”Ÿæ´»ä¹ æƒ¯ï¼Œæä¾›æ›´æœ‰é’ˆå¯¹æ€§çš„æ²»ç–—æ–¹æ¡ˆã€‚</li>
</ul>
<p>å®ƒçš„ä»·å€¼ä¸ä»…åœ¨äºæé«˜æ•ˆç‡ï¼Œæ›´åœ¨äºé™ä½è¯¯è¯Šç‡å’ŒåŠ é€Ÿç§‘ç ”è¿›ç¨‹ã€‚</p>
<h3 data-id="heading-15">æ¨èç³»ç»Ÿ</h3>
<p>æ¨èç³»ç»Ÿæ˜¯æœºå™¨å­¦ä¹ åœ¨äº’è”ç½‘é¢†åŸŸçš„é—¨é¢æ‹…å½“ï¼Œæ— è®ºæ˜¯è´­ç‰©ï¼ŒçŸ­è§†é¢‘è¿˜æ˜¯çœ‹å°è¯´ï¼Œæ¨èç³»ç»Ÿéƒ½åœ¨åå°æ‚„æ‚„åœ°å·¥ä½œã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9f5c394e3525493cbe72f46dd42b8d66~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYWljb3Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768577858&amp;x-signature=fNDcLDPZEiQNdLBjyAsc6GQjSpI%3D" alt="" loading="lazy"/></p>
<ul>
<li>ç”µå•†å¹³å°ï¼šæ ¹æ®ç”¨æˆ·çš„æµè§ˆã€è´­ä¹°è¡Œä¸ºï¼Œæ¨èå¯èƒ½æ„Ÿå…´è¶£çš„å•†å“ã€‚</li>
<li>è§†é¢‘ç½‘ç«™ï¼šç»“åˆè§‚çœ‹è®°å½•å’Œåå¥½ï¼Œæ¨èä¸ªæ€§åŒ–çš„å½±ç‰‡ã€‚</li>
<li>ç¤¾äº¤åª’ä½“ï¼šæ ¹æ®äº’åŠ¨æ•°æ®æ¨èå†…å®¹æˆ–å¥½å‹ï¼Œæå‡ç”¨æˆ·é»æ€§ã€‚</li>
</ul>
<p>æ¢å¥è¯è¯´ï¼Œæ¨èç³»ç»Ÿè®©â€œä¿¡æ¯æ‰¾äººâ€æˆä¸ºå¯èƒ½ï¼Œå¤§å¤§æå‡äº†ç”¨æˆ·ä½“éªŒå’Œå¹³å°æ”¶ç›Šã€‚</p>
<h3 data-id="heading-16">è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰</h3>
<p>è‡ªç„¶è¯­è¨€å¤„ç†æ˜¯æœºå™¨å­¦ä¹ æœ€å…·æŒ‘æˆ˜æ€§å’Œæƒ³è±¡åŠ›çš„é¢†åŸŸä¹‹ä¸€ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6013c68d57df44aa932f837828c391a8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYWljb3Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768577858&amp;x-signature=qb1zv54rtDsxI6gHlxP9%2BnAYvsY%3D" alt="" loading="lazy"/></p>
<ul>
<li>æœºå™¨ç¿»è¯‘ï¼šè°·æ­Œç¿»è¯‘ã€DeepL ç­‰åº”ç”¨èƒŒåéƒ½æ˜¯æœºå™¨å­¦ä¹ æ¨¡å‹ã€‚</li>
<li>æƒ…æ„Ÿåˆ†æï¼šåˆ†ææ–‡æœ¬ä¸­çš„æƒ…ç»ªï¼Œç”¨äºèˆ†æƒ…ç›‘æ§æˆ–å®¢æˆ·åé¦ˆåˆ†æã€‚</li>
<li>èŠå¤©æœºå™¨äººï¼šåˆ©ç”¨å¯¹è¯æ•°æ®è¿›è¡Œè®­ç»ƒï¼Œå®ç°å®¢æœã€åŠ©ç†ç­‰åŠŸèƒ½ã€‚</li>
</ul>
<p>æœºå™¨å­¦ä¹ è®©è¯­è¨€ä¸å†åªæ˜¯äººç±»çš„ä¸“å±å·¥å…·ï¼Œä¹Ÿæˆä¸ºäº†äººä¸æœºå™¨æ²Ÿé€šçš„æ¡¥æ¢ã€‚</p>
<h3 data-id="heading-17">è®¡ç®—æœºè§†è§‰ï¼ˆCVï¼‰</h3>
<p>è®¡ç®—æœºè§†è§‰å¯ä»¥è¯´æ˜¯é¢†åŸŸæœ€å¹¿çš„ä¸€ä¸ªæ–¹å‘äº†ï¼Œå› ä¸ºè‡ªç„¶ç•Œæœ€ä¸ç¼ºçš„å°±æ˜¯æ–‡å­—å’Œå›¾åƒå˜›ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6d9e5aa0261f4f408ecb964f080bf326~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYWljb3Rpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768577858&amp;x-signature=Unwe%2BTVfoa4GKmvIsZ1UN6OvssU%3D" alt="" loading="lazy"/></p>
<ul>
<li>äººè„¸è¯†åˆ«ï¼šç”¨äºå®‰é˜²ã€æ”¯ä»˜éªŒè¯ã€èº«ä»½è®¤è¯ã€‚</li>
<li>è‡ªåŠ¨é©¾é©¶ï¼šè¯†åˆ«è½¦é“ã€è¡Œäººå’Œäº¤é€šæ ‡å¿—ï¼Œè¾…åŠ©æˆ–å®Œå…¨å®ç°æ— äººé©¾é©¶ã€‚</li>
<li>åŒ»å­¦å½±åƒåˆ†æï¼šè¯†åˆ«è‚¿ç˜¤ã€ç—…ç¶ç­‰ç»†å¾®ç‰¹å¾ï¼Œæå‡è¯Šæ–­æ•ˆç‡ã€‚</li>
</ul>
<p>è®¡ç®—æœºè§†è§‰å·²å¹¿æ³›åº”ç”¨äºä»æ‰‹æœºè§£é”åˆ°å·¥ä¸šæ£€æµ‹çš„æ–¹æ–¹é¢é¢ã€‚</p>
<p>æœ€æ–°çš„æ–‡ç« éƒ½åœ¨å…¬ä¼—å·aicotingæ›´æ–°ï¼Œåˆ«å¿˜è®°å…³æ³¨å“¦ï¼ï¼ï¼</p>
<h2 data-id="heading-18">å‚è€ƒé“¾æ¥</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fimgtec.eetrend.com%2Fblog%2F2019%2F100042147.html" target="_blank" title="https://imgtec.eetrend.com/blog/2019/100042147.html" ref="nofollow noopener noreferrer">imgtec.eetrend.com/blog/2019/1â€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fqq_40641591%2Farticle%2Fdetails%2F143150523" target="_blank" title="https://blog.csdn.net/qq_40641591/article/details/143150523" ref="nofollow noopener noreferrer">blog.csdn.net/qq_40641591â€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fweixin_43026262%2Farticle%2Fdetails%2F103980616" target="_blank" title="https://blog.csdn.net/weixin_43026262/article/details/103980616" ref="nofollow noopener noreferrer">blog.csdn.net/weixin_4302â€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Nacos - æœåŠ¡æ³¨å†Œ]]></title>    <link>https://juejin.cn/post/7593240931286319156</link>    <guid>https://juejin.cn/post/7593240931286319156</guid>    <pubDate>2026-01-09T15:32:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593240931286319156" data-draft-id="7593338828195561512" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" Nacos - æœåŠ¡æ³¨å†Œ"/> <meta itemprop="keywords" content="Java,å¾®æœåŠ¡"/> <meta itemprop="datePublished" content="2026-01-09T15:32:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å…ƒYäº¨H"/> <meta itemprop="url" content="https://juejin.cn/user/2839351584888617"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             Nacos - æœåŠ¡æ³¨å†Œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2839351584888617/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å…ƒYäº¨H
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T15:32:49.000Z" title="Fri Jan 09 2026 15:32:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Nacos çš„æœåŠ¡æ³¨å†Œæ˜¯å…¶æ ¸å¿ƒåŠŸèƒ½ä¹‹ä¸€ã€‚éšç€ç‰ˆæœ¬çš„æ¼”è¿›ï¼ŒNacos ç»å†äº†ä» 1.xï¼ˆåŸºäº HTTPï¼‰åˆ° 2.xï¼ˆåŸºäº gRPCï¼‰çš„æ¶æ„å‡çº§ã€‚</p>
<p>ä¸‹é¢æˆ‘å°†ä»<strong>å®¢æˆ·ç«¯å‘é€è¯·æ±‚</strong>ã€<strong>æœåŠ¡ç«¯å¤„ç†è¯·æ±‚</strong>ã€<strong>å¿ƒè·³ç»´æŒä¸å¥åº·æ£€æŸ¥</strong>ä¸‰ä¸ªç»´åº¦ï¼Œè¯¦ç»†è®²è§£ Nacosï¼ˆä»¥ 2.x ç‰ˆæœ¬ä¸ºä¸»ï¼Œå…¼é¡¾ 1.x åŒºåˆ«ï¼‰çš„æœåŠ¡æ³¨å†Œæµç¨‹ã€‚</p>
<hr/>
<h3 data-id="heading-0">ä¸€ã€ æ•´ä½“æµç¨‹æ¦‚è§ˆ</h3>
<ol>
<li><strong>æœåŠ¡å¯åŠ¨</strong>ï¼šå®¢æˆ·ç«¯ï¼ˆå¾®æœåŠ¡ï¼‰å¯åŠ¨ï¼Œè¯»å–é…ç½®ã€‚</li>
<li><strong>å»ºç«‹è¿æ¥</strong>ï¼šå®¢æˆ·ç«¯ä¸ Nacos æœåŠ¡ç«¯å»ºç«‹é•¿è¿æ¥ï¼ˆgRPCï¼‰ã€‚</li>
<li><strong>å‘é€æ³¨å†Œè¯·æ±‚</strong>ï¼šå®¢æˆ·ç«¯å°è£…å®ä¾‹ä¿¡æ¯ï¼ˆIPã€Portã€æœåŠ¡åç­‰ï¼‰å‘é€ç»™æœåŠ¡ç«¯ã€‚</li>
<li><strong>æœåŠ¡ç«¯å­˜å‚¨</strong>ï¼šæœåŠ¡ç«¯å°†å®ä¾‹ä¿¡æ¯å­˜å…¥å†…å­˜æ³¨å†Œè¡¨ã€‚</li>
<li><strong>æ•°æ®åŒæ­¥</strong>ï¼šæœåŠ¡ç«¯å°†æ–°æ³¨å†Œçš„å®ä¾‹ä¿¡æ¯åŒæ­¥ç»™é›†ç¾¤å†…çš„å…¶ä»– Nacos èŠ‚ç‚¹ï¼ˆDistro åè®®ï¼‰ã€‚</li>
<li><strong>æœåŠ¡å˜æ›´é€šçŸ¥</strong>ï¼šæœåŠ¡ç«¯ä¸»åŠ¨æ¨é€æœ€æ–°çš„æœåŠ¡åˆ—è¡¨ç»™è®¢é˜…äº†è¯¥æœåŠ¡çš„å®¢æˆ·ç«¯ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-1">äºŒã€ è¯¦ç»†æ­¥éª¤è§£æ</h3>
<h4 data-id="heading-2">1. å®¢æˆ·ç«¯ï¼šå‘èµ·æ³¨å†Œ (Client Side)</h4>
<ul>
<li><strong>å…¥å£</strong>ï¼šåœ¨ Spring Cloud ç¯å¢ƒä¸‹ï¼Œæ³¨å†Œå…¥å£æ˜¯ <code>NacosServiceRegistry.register()</code> æ–¹æ³•ã€‚</li>
<li><strong>å°è£…å®ä¾‹</strong>ï¼šæ„é€  <code>Instance</code> å¯¹è±¡ï¼ŒåŒ…å«ï¼š
<ul>
<li><code>Service Name</code>ï¼ˆæœåŠ¡åï¼‰</li>
<li><code>IP</code> å’Œ <code>Port</code></li>
<li><code>Weight</code>ï¼ˆæƒé‡ï¼‰</li>
<li><code>Metadata</code>ï¼ˆå…ƒæ•°æ®ï¼‰</li>
<li><code>Ephemeral</code>ï¼ˆæ˜¯å¦æ˜¯ä¸´æ—¶å®ä¾‹ï¼Œé»˜è®¤ <strong>true</strong>ï¼‰</li>
</ul>
</li>
<li><strong>é€šä¿¡åè®®</strong>ï¼š
<ul>
<li><strong>Nacos 1.x</strong>ï¼šé€šè¿‡ <strong>HTTP</strong> POST è¯·æ±‚å‘é€åˆ° <code>/nacos/v1/ns/instance</code>ã€‚</li>
<li><strong>Nacos 2.x</strong>ï¼šé€šè¿‡ <strong>gRPC</strong> ä¼ è¾“ã€‚å®¢æˆ·ç«¯é€šè¿‡ <code>NamingClientProxy</code> è°ƒç”¨ <code>registerService</code>ï¼Œè¯·æ±‚ä¼šè¢«å°è£…æˆ <code>InstanceRequest</code> å‘é€ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-3">2. æœåŠ¡ç«¯ï¼šæ¥æ”¶ä¸å­˜å‚¨ (Server Side)</h4>
<p>å½“ Nacos æœåŠ¡ç«¯æ”¶åˆ°æ³¨å†Œè¯·æ±‚åï¼Œä¼šæ‰§è¡Œä»¥ä¸‹é€»è¾‘ï¼š</p>
<ul>
<li><strong>è§£æè¯·æ±‚</strong>ï¼š<code>InstanceRequestHandler</code> æ¥æ”¶ gRPC è¯·æ±‚ï¼ˆ1.x æ˜¯ <code>InstanceController</code>ï¼‰ã€‚</li>
<li><strong>å†…å­˜æ³¨å†Œè¡¨ç»´æŠ¤</strong>ï¼š
<ul>
<li>Nacos å†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ªå¤šå±‚çš„ Map ç»“æ„ï¼š
<code>Map&lt;namespace, Map&lt;group::serviceName, Service&gt;&gt;</code></li>
<li><code>Service</code> ç±»ä¸­åŒ…å«å¤šä¸ª <code>Cluster</code>ï¼ˆé›†ç¾¤ï¼‰ã€‚</li>
<li><code>Cluster</code> ä¸­ç»´æŠ¤äº†ä¸¤ä¸ª <code>Set&lt;Instance&gt;</code>ï¼šä¸€ä¸ªæ˜¯ <strong>ä¸´æ—¶å®ä¾‹</strong>ï¼Œä¸€ä¸ªæ˜¯ <strong>æŒä¹…åŒ–å®ä¾‹</strong>ã€‚</li>
</ul>
</li>
<li><strong>å†™æ—¶å¤åˆ¶ (CopyOnWrite)</strong>ï¼šä¸ºäº†é˜²æ­¢é«˜å¹¶å‘ä¸‹çš„è¯»å†™å†²çªï¼ŒNacos åœ¨æ›´æ–°å®ä¾‹åˆ—è¡¨æ—¶é‡‡ç”¨äº†ç±»ä¼¼ <strong>CopyOnWrite</strong> çš„æœºåˆ¶ã€‚å®ƒä¼šå…ˆè¯»å–æ—§çš„åˆ—è¡¨ï¼Œåˆ›å»ºä¸€ä¸ªæ–°åˆ—è¡¨ï¼ŒæŠŠæ–°å®ä¾‹æ”¾è¿›å»ï¼Œæœ€åæ›¿æ¢æ—§åˆ—è¡¨ã€‚</li>
</ul>
<h4 data-id="heading-4">3. æœåŠ¡ç«¯ï¼šä¸€è‡´æ€§åè®® (Consistency)</h4>
<p>Nacos æ ¹æ®å®ä¾‹ç±»å‹ï¼ˆä¸´æ—¶/æŒä¹…åŒ–ï¼‰èµ°ä¸åŒçš„åè®®ï¼š</p>
<ul>
<li><strong>ä¸´æ—¶å®ä¾‹ï¼ˆé»˜è®¤ï¼ŒAPæ¨¡å¼ï¼‰</strong>ï¼š
<ul>
<li>ä½¿ç”¨ <strong>Distro åè®®</strong>ï¼ˆNacos è‡ªç ”ï¼‰ã€‚</li>
<li>æ³¨å†ŒèŠ‚ç‚¹ä¼šç«‹å³åŒæ­¥ç»™é›†ç¾¤å†…å…¶ä»–èŠ‚ç‚¹ã€‚</li>
<li>éµå¾ª <strong>æœ€ç»ˆä¸€è‡´æ€§</strong>ï¼Œä¿è¯é«˜å¯ç”¨ã€‚</li>
</ul>
</li>
<li><strong>æŒä¹…åŒ–å®ä¾‹ï¼ˆCPæ¨¡å¼ï¼‰</strong>ï¼š
<ul>
<li>ä½¿ç”¨ <strong>Raft åè®®</strong>ï¼ˆJRaft å®ç°ï¼‰ã€‚</li>
<li>å¿…é¡»è¿‡åŠæ•°èŠ‚ç‚¹å†™å…¥æˆåŠŸæ‰ç®—æ³¨å†ŒæˆåŠŸã€‚</li>
<li>ä¿è¯ <strong>å¼ºä¸€è‡´æ€§</strong>ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-5">4. æœåŠ¡ç«¯ï¼šæ¨é€é€šçŸ¥ (Push)</h4>
<ul>
<li>ä¸€æ—¦æ³¨å†Œè¡¨å‘ç”Ÿå˜åŒ–ï¼ŒæœåŠ¡ç«¯ä¼šè§¦å‘ <code>ServiceChangeEvent</code>ã€‚</li>
<li><strong>æ¨é€æœºåˆ¶</strong>ï¼šæœåŠ¡ç«¯é€šè¿‡ <strong>PushService</strong> æ‰¾åˆ°æ‰€æœ‰è®¢é˜…äº†è¯¥æœåŠ¡çš„å®¢æˆ·ç«¯ï¼Œé€šè¿‡ gRPCï¼ˆ2.xï¼‰æˆ– UDPï¼ˆ1.xï¼‰å°†æœ€æ–°çš„å®ä¾‹åˆ—è¡¨æ¨é€è¿‡å»ã€‚</li>
<li><strong>å®¢æˆ·ç«¯ç¼“å­˜</strong>ï¼šå®¢æˆ·ç«¯æ”¶åˆ°æ›´æ–°åï¼Œä¼šæ›´æ–°æœ¬åœ°çš„ <code>ServiceInfo</code> ç¼“å­˜ï¼Œä»è€Œå®ç°è´Ÿè½½å‡è¡¡æ—¶æ‹¿åˆ°æœ€æ–°çš„åœ°å€ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-6">ä¸‰ã€ æ ¸å¿ƒï¼šå¥åº·æ£€æŸ¥æœºåˆ¶</h3>
<p>æ³¨å†Œæµç¨‹å®Œæˆåï¼Œå¦‚ä½•ä¿è¯æœåŠ¡ä¸€ç›´â€œåœ¨çº¿â€ï¼Ÿ</p>
<ol>
<li>
<p><strong>Nacos 1.x (HTTP + å¿ƒè·³)</strong>ï¼š</p>
<ul>
<li>å®¢æˆ·ç«¯æ¯éš” <strong>5ç§’</strong> å‘é€ä¸€æ¬¡å¿ƒè·³ï¼ˆBeatï¼‰ã€‚</li>
<li>æœåŠ¡ç«¯è‹¥ <strong>15ç§’</strong> æ²¡æ”¶åˆ°å¿ƒè·³ï¼Œæ ‡è®°ä¸ºä¸å¥åº·ã€‚</li>
<li>è‹¥ <strong>30ç§’</strong> æ²¡æ”¶åˆ°å¿ƒè·³ï¼Œç›´æ¥å‰”é™¤å®ä¾‹ã€‚</li>
</ul>
</li>
<li>
<p><strong>Nacos 2.x (gRPC + è¿æ¥æ¢æµ‹)</strong>ï¼š</p>
<ul>
<li><strong>é•¿è¿æ¥</strong>ï¼šåŸºäº gRPC çš„ <code>Stream</code>ã€‚å¦‚æœå®¢æˆ·ç«¯å®•æœºï¼ŒgRPC è¿æ¥ä¼šæ–­å¼€ã€‚</li>
<li><strong>è¿æ¥æ–­å¼€å³å‰”é™¤</strong>ï¼šæœåŠ¡ç«¯ç›‘æ§è¿æ¥çŠ¶æ€ï¼Œä¸€æ—¦è¿æ¥å¼‚å¸¸æ–­å¼€ï¼ˆConnection Disconnectï¼‰ï¼ŒæœåŠ¡ç«¯ä¼šç«‹å³è§¦å‘ä¸‹çº¿æµç¨‹ï¼ˆé’ˆå¯¹ä¸´æ—¶å®ä¾‹ï¼‰ã€‚è¿™ç§æ–¹å¼æ¯”å¿ƒè·³æ›´å®æ—¶ã€‚</li>
</ul>
</li>
</ol>
<hr/>
<h3 data-id="heading-7">å››ã€ æ€»ç»“ï¼š1.x ä¸ 2.x çš„å…³é”®åŒºåˆ«</h3>






























<table><thead><tr><th align="left">ç‰¹æ€§</th><th align="left">Nacos 1.x</th><th align="left">Nacos 2.x</th></tr></thead><tbody><tr><td align="left"><strong>é€šä¿¡åè®®</strong></td><td align="left">HTTP</td><td align="left">gRPC (åŒå‘æµ)</td></tr><tr><td align="left"><strong>æ³¨å†Œæ•ˆç‡</strong></td><td align="left">æ¯æ¬¡æ³¨å†Œ/å¿ƒè·³éƒ½æ˜¯çŸ­è¿æ¥ï¼Œå¼€é”€å¤§</td><td align="left">é•¿è¿æ¥å¤ç”¨ï¼Œæå¤§å‡å°‘è¿æ¥æ¡æ‰‹æ¶ˆè€—</td></tr><tr><td align="left"><strong>å®æ—¶æ€§</strong></td><td align="left">ä¾èµ–å¿ƒè·³é—´éš”ï¼Œå“åº”ç¨æ…¢</td><td align="left">è¿æ¥æ–­å¼€ç¬æ—¶æ„Ÿåº”ï¼Œå“åº”æå¿«</td></tr><tr><td align="left"><strong>ä¸€è‡´æ€§åè®®</strong></td><td align="left">Distro (AP) / Raft (CP)</td><td align="left">ä¼˜åŒ–åçš„ Distro / JRaft</td></tr></tbody></table>
<p><strong>æ€»ç»“å£è¿°ç‰ˆ</strong>ï¼š</p>
<blockquote>
<p>"Nacos æ³¨å†Œæµç¨‹é¦–å…ˆæ˜¯å®¢æˆ·ç«¯é€šè¿‡ gRPCï¼ˆ2.xï¼‰å‘æœåŠ¡ç«¯å‘èµ·æ³¨å†Œè¯·æ±‚ã€‚æœåŠ¡ç«¯æ¥æ”¶åï¼Œä¼šå°†å®ä¾‹ä¿¡æ¯å­˜å…¥å†…å­˜ä¸­çš„åŒå±‚ Map ç»“æ„ä¸­ï¼Œå¹¶æ ¹æ®å®ä¾‹æ˜¯å¦æ˜¯ä¸´æ—¶çš„ï¼Œé€‰æ‹©èµ° Distro å¼‚æ­¥åŒæ­¥ï¼ˆAPï¼‰æˆ– Raft å¼ºä¸€è‡´åŒæ­¥ï¼ˆCPï¼‰ã€‚å­˜å‚¨å®Œæˆåï¼ŒæœåŠ¡ç«¯ä¼šå‘å¸ƒå˜æ›´äº‹ä»¶ï¼Œé€šè¿‡é•¿è¿æ¥å¼‚æ­¥æ¨é€ç»™æ‰€æœ‰è®¢é˜…è¯¥æœåŠ¡çš„å®¢æˆ·ç«¯ã€‚æœ€åï¼Œé€šè¿‡ gRPC çš„é•¿è¿æ¥çŠ¶æ€æ¥ç»´æŒå®ä¾‹çš„å¥åº·çŠ¶æ€ï¼Œä¸€æ—¦æ–­å¼€åˆ™è‡ªåŠ¨å‰”é™¤ã€‚"</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ–‡ææ‡‚æœºå™¨å­¦ä¹ çº¿æ€§ä»£æ•°åŸºç¡€çŸ¥è¯†ï¼]]></title>    <link>https://juejin.cn/post/7593175890794905646</link>    <guid>https://juejin.cn/post/7593175890794905646</guid>    <pubDate>2026-01-09T15:36:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593175890794905646" data-draft-id="7593077945016811547" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ–‡ææ‡‚æœºå™¨å­¦ä¹ çº¿æ€§ä»£æ•°åŸºç¡€çŸ¥è¯†ï¼"/> <meta itemprop="keywords" content="ç®—æ³•"/> <meta itemprop="datePublished" content="2026-01-09T15:36:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="aicoting"/> <meta itemprop="url" content="https://juejin.cn/user/933911964427818"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ–‡ææ‡‚æœºå™¨å­¦ä¹ çº¿æ€§ä»£æ•°åŸºç¡€çŸ¥è¯†ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/933911964427818/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    aicoting
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T15:36:32.000Z" title="Fri Jan 09 2026 15:36:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æ¨èç›´æ¥ç½‘ç«™åœ¨çº¿é˜…è¯»ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Faicoting.cn%2F" target="_blank" title="https://link.zhihu.com/?target=https%3A//aicoting.cn/" ref="nofollow noopener noreferrer">aicoting AIç®—æ³•é¢è¯•å­¦ä¹ åœ¨çº¿ç½‘ç«™</a></p>
</blockquote>
<h2 data-id="heading-0">å‘é‡ä¸çŸ©é˜µ</h2>
<h3 data-id="heading-1">å‘é‡ï¼ˆVectorï¼‰</h3>
<p>å‘é‡å¯ä»¥çœ‹ä½œæ˜¯æœ‰åºæ•°å€¼çš„é›†åˆï¼Œç”¨äºè¡¨ç¤ºæ ·æœ¬ç‰¹å¾ã€‚</p>
<p>ä¾‹å¦‚ï¼Œä¸€ä¸ªæˆ¿å±‹æ•°æ®å¯ä»¥è¡¨ç¤ºä¸ºï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">x</mi><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>é¢ç§¯</mtext></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>æˆ¿é—´æ•°</mtext></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>æ¥¼å±‚</mtext></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>120</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\mathbf{x} = \begin{bmatrix} \text{é¢ç§¯} \\ \text{æˆ¿é—´æ•°} \\ \text{æ¥¼å±‚} \end{bmatrix} = \begin{bmatrix} 120 \\ 3 \\ 5 \end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4444em;"/><span class="mord mathbf">x</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"/><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"/><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewbox="0 0 667 3600"><path d="M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84&#10;H403z M403 1759 V0 H319 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord text"><span class="mord cjk_fallback">é¢ç§¯</span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord text"><span class="mord cjk_fallback">æˆ¿é—´æ•°</span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord text"><span class="mord cjk_fallback">æ¥¼å±‚</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"/><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewbox="0 0 667 3600"><path d="M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347z&#10;M347 1759 V0 H263 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"/><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"/><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewbox="0 0 667 3600"><path d="M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84&#10;H403z M403 1759 V0 H319 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">120</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">3</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">5</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"/><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewbox="0 0 667 3600"><path d="M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347z&#10;M347 1759 V0 H263 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span></span></span></span></span></span></p>
<p>åœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œæ ·æœ¬å°±æ˜¯å‘é‡ï¼Œç‰¹å¾æ•°å†³å®šäº†å‘é‡çš„ç»´åº¦ã€‚</p>
<h3 data-id="heading-2">çŸ©é˜µï¼ˆMatrixï¼‰</h3>
<p>å¤šä¸ªæ ·æœ¬å †å æˆçŸ©é˜µï¼Œä¾‹å¦‚ä¸€ä¸ªåŒ…å« m ä¸ªæ ·æœ¬ã€æ¯ä¸ªæ ·æœ¬ n ä¸ªç‰¹å¾çš„æ•°æ®é›†å¯ä»¥è¡¨ç¤ºä¸ºï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>11</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>12</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">â‹¯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mrow><mn>1</mn><mi>n</mi></mrow></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>21</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>22</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">â‹¯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mrow><mn>2</mn><mi>n</mi></mrow></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi><mi mathvariant="normal">â‹®</mi><mpadded height="0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"/></mpadded></mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi><mi mathvariant="normal">â‹®</mi><mpadded height="0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"/></mpadded></mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">â‹±</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi><mi mathvariant="normal">â‹®</mi><mpadded height="0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"/></mpadded></mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mrow><mi>m</mi><mn>1</mn></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mrow><mi>m</mi><mn>2</mn></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">â‹¯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mrow><mi>m</mi><mi>n</mi></mrow></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">X = \begin{bmatrix} x_{11} &amp; x_{12} &amp; \cdots &amp; x_{1n} \\ x_{21} &amp; x_{22} &amp; \cdots &amp; x_{2n} \\ \vdots &amp; \vdots &amp; \ddots &amp; \vdots \\ x_{m1} &amp; x_{m2} &amp; \cdots &amp; x_{mn} \end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:5.46em;vertical-align:-2.48em;"/><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.95em;"><span style="top:-4.95em;"><span class="pstrut" style="height:7.4em;"/><span style="width:0.667em;height:5.400em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="5.400em" viewbox="0 0 667 5400"><path d="M403 1759 V84 H666 V0 H319 V1759 v1800 v1759 h347 v-84&#10;H403z M403 1759 V0 H319 V1759 v1800 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.45em;"><span/></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.98em;"><span style="top:-5.8275em;"><span class="pstrut" style="height:3.6875em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-4.6275em;"><span class="pstrut" style="height:3.6875em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-2.7675em;"><span class="pstrut" style="height:3.6875em;"/><span class="mord"><span class="mord"><span class="mord">â‹®</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"/></span></span></span><span style="top:-1.5675em;"><span class="pstrut" style="height:3.6875em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.48em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.98em;"><span style="top:-5.8275em;"><span class="pstrut" style="height:3.6875em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-4.6275em;"><span class="pstrut" style="height:3.6875em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">22</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-2.7675em;"><span class="pstrut" style="height:3.6875em;"/><span class="mord"><span class="mord"><span class="mord">â‹®</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"/></span></span></span><span style="top:-1.5675em;"><span class="pstrut" style="height:3.6875em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.48em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.98em;"><span style="top:-5.64em;"><span class="pstrut" style="height:3.5em;"/><span class="mord"><span class="minner">â‹¯</span></span></span><span style="top:-4.44em;"><span class="pstrut" style="height:3.5em;"/><span class="mord"><span class="minner">â‹¯</span></span></span><span style="top:-2.58em;"><span class="pstrut" style="height:3.5em;"/><span class="mord"><span class="minner">â‹±</span></span></span><span style="top:-1.38em;"><span class="pstrut" style="height:3.5em;"/><span class="mord"><span class="minner">â‹¯</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.48em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.98em;"><span style="top:-5.8275em;"><span class="pstrut" style="height:3.6875em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-4.6275em;"><span class="pstrut" style="height:3.6875em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-2.7675em;"><span class="pstrut" style="height:3.6875em;"/><span class="mord"><span class="mord"><span class="mord">â‹®</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"/></span></span></span><span style="top:-1.5675em;"><span class="pstrut" style="height:3.6875em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">mn</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.48em;"><span/></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.95em;"><span style="top:-4.95em;"><span class="pstrut" style="height:7.4em;"/><span style="width:0.667em;height:5.400em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="5.400em" viewbox="0 0 667 5400"><path d="M347 1759 V0 H0 V84 H263 V1759 v1800 v1759 H0 v84 H347z&#10;M347 1759 V0 H263 V1759 v1800 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.45em;"><span/></span></span></span></span></span></span></span></span></span></span></p>
<p>å…¶ä¸­ï¼Œæ¯ä¸€è¡Œæ˜¯ä¸€ä¸ªæ ·æœ¬ï¼Œæ¯ä¸€åˆ—æ˜¯ä¸€ä¸ªç‰¹å¾ã€‚</p>
<hr/>
<h2 data-id="heading-3">å‘é‡è¿ç®—ä¸å‡ ä½•æ„ä¹‰</h2>
<h3 data-id="heading-4">å†…ç§¯ï¼ˆDot Productï¼‰</h3>
<p>ä¸¤ä¸ªå‘é‡ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">a</mi><mo separator="true">,</mo><mi mathvariant="bold">b</mi><mo>âˆˆ</mo><msup><mi mathvariant="double-struck">R</mi><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">\mathbf{a}, \mathbf{b} \in \mathbb{R}^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathbf">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathbf">b</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6889em;"/><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span></span> çš„å†…ç§¯å®šä¹‰ä¸ºï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">a</mi><mo>â‹…</mo><mi mathvariant="bold">b</mi><mo>=</mo><msubsup><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><msub><mi>a</mi><mi>i</mi></msub><msub><mi>b</mi><mi>i</mi></msub><mo>=</mo><msup><mi mathvariant="bold">a</mi><mi>T</mi></msup><mi mathvariant="bold">b</mi></mrow><annotation encoding="application/x-tex">\mathbf{a} \cdot \mathbf{b} = \sum_{i=1}^n a_i b_i = \mathbf{a}^T \mathbf{b}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4445em;"/><span class="mord mathbf">a</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathbf">b</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.104em;vertical-align:-0.2997em;"/><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8043em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.8413em;"/><span class="mord"><span class="mord mathbf">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord mathbf">b</span></span></span></span></span></p>
<p>å‡ ä½•æ„ä¹‰ä¸Šï¼Œå†…ç§¯è¡¨ç¤ºä¸¤ä¸ªå‘é‡çš„ç›¸ä¼¼åº¦ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">a</mi><mo>â‹…</mo><mi mathvariant="bold">b</mi><mo>=</mo><mi mathvariant="normal">âˆ¥</mi><mi mathvariant="bold">a</mi><mi mathvariant="normal">âˆ¥</mi><mi mathvariant="normal">âˆ¥</mi><mi mathvariant="bold">b</mi><mi mathvariant="normal">âˆ¥</mi><mi>cos</mi><mo>â¡</mo><mi>Î¸</mi></mrow><annotation encoding="application/x-tex">\mathbf{a} \cdot \mathbf{b} = \|\mathbf{a}\|\|\mathbf{b}\|\cos\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4445em;"/><span class="mord mathbf">a</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathbf">b</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">âˆ¥</span><span class="mord mathbf">a</span><span class="mord">âˆ¥âˆ¥</span><span class="mord mathbf">b</span><span class="mord">âˆ¥</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span></span></span></span></span></p>
<p>è¿™åœ¨æ¨èç³»ç»Ÿï¼ˆå¦‚è®¡ç®—ç”¨æˆ·ä¸ç‰©å“çš„ç›¸ä¼¼åº¦ï¼‰å’Œåˆ†ç±»ï¼ˆå¦‚æ”¯æŒå‘é‡æœºçš„è¶…å¹³é¢ï¼‰ä¸­è‡³å…³é‡è¦ã€‚</p>
<h3 data-id="heading-5">èŒƒæ•°ï¼ˆNormï¼‰</h3>
<p>å‘é‡çš„é•¿åº¦ç”±èŒƒæ•°è¡¡é‡ã€‚å¸¸è§çš„æœ‰ï¼š</p>
<ul>
<li><strong>L2 èŒƒæ•°</strong>ï¼š <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">x</mi><msub><mi mathvariant="normal">âˆ¥</mi><mn>2</mn></msub><mo>=</mo><msqrt><mrow><msubsup><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><msubsup><mi>x</mi><mi>i</mi><mn>2</mn></msubsup></mrow></msqrt></mrow><annotation encoding="application/x-tex">\mathbf{x}\|_2 = \sqrt{\sum_{i=1}^n x_i^2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathbf">x</span><span class="mord"><span class="mord">âˆ¥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.24em;vertical-align:-0.3027em;"/><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9373em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"/><span class="mord" style="padding-left:1em;"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8043em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2769em;"><span/></span></span></span></span></span></span></span><span style="top:-2.8973em;"><span class="pstrut" style="height:3.2em;"/><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.28em" viewbox="0 0 400000 1296" preserveaspectratio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119&#10;c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120&#10;c340,-704.7,510.7,-1060.3,512,-1067&#10;l0 -0&#10;c4.7,-7.3,11,-11,19,-11&#10;H40000v40H1012.3&#10;s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232&#10;c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1&#10;s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26&#10;c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z&#10;M1001 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3027em;"><span/></span></span></span></span></span></span></span></span></li>
<li><strong>L1 èŒƒæ•°</strong>ï¼š <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">x</mi><msub><mi mathvariant="normal">âˆ¥</mi><mn>1</mn></msub><mo>=</mo><msubsup><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><mi mathvariant="normal">âˆ£</mi><msub><mi>x</mi><mi>i</mi></msub><mi mathvariant="normal">âˆ£</mi></mrow><annotation encoding="application/x-tex">\mathbf{x}\|_1 = \sum_{i=1}^n |x_i|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathbf">x</span><span class="mord"><span class="mord">âˆ¥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.104em;vertical-align:-0.2997em;"/><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8043em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">âˆ£</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord">âˆ£</span></span></span></span></span></li>
</ul>
<p>åœ¨æ­£åˆ™åŒ–ä¸­ï¼ŒL1 èŒƒæ•°é¼“åŠ±ç¨€ç–è§£ï¼ˆç‰¹å¾é€‰æ‹©ï¼‰ï¼ŒL2 èŒƒæ•°åˆ™æŠ‘åˆ¶è¿‡å¤§æƒé‡ï¼ˆé˜²æ­¢è¿‡æ‹Ÿåˆï¼‰ã€‚</p>
<hr/>
<h2 data-id="heading-6">çŸ©é˜µè¿ç®—ä¸æ¨¡å‹è®¡ç®—</h2>
<h3 data-id="heading-7">çŸ©é˜µä¹˜æ³•</h3>
<p>å¦‚æœè¾“å…¥æ ·æœ¬ä¸º <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">x</mi><mo>âˆˆ</mo><msup><mi mathvariant="double-struck">R</mi><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">\mathbf{x} \in \mathbb{R}^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"/><span class="mord mathbf">x</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6889em;"/><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span></span>ï¼Œæƒé‡çŸ©é˜µWä¸º <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="double-struck">R</mi><mrow><mi>m</mi><mo>Ã—</mo><mi>n</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\mathbb{R}^{m \times n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7713em;"/><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mbin mtight">Ã—</span><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span></span></span> ï¼Œåˆ™è¾“å‡ºä¸ºï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">y</mi><mo>=</mo><mi>W</mi><mi mathvariant="bold">x</mi></mrow><annotation encoding="application/x-tex">\mathbf{y} = W \mathbf{x}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.1944em;"/><span class="mord mathbf" style="margin-right:0.01597em;">y</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="mord mathbf">x</span></span></span></span></span></p>
<p>è¿™å°±æ˜¯ç¥ç»ç½‘ç»œä¸­ <strong>ä¸€å±‚å…¨è¿æ¥å±‚</strong> çš„è®¡ç®—æ–¹å¼ã€‚</p>
<h3 data-id="heading-8">è½¬ç½®ä¸å¯¹ç§°çŸ©é˜µ</h3>
<ul>
<li>çŸ©é˜µè½¬ç½® <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">A^T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8413em;"/><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span></span> åœ¨å†…ç§¯ä¸ç›¸ä¼¼åº¦è®¡ç®—ä¸­å¸¸è§ã€‚</li>
<li>å¯¹ç§°çŸ©é˜µï¼ˆå¦‚åæ–¹å·®çŸ©é˜µï¼‰åœ¨ PCAã€ç‰¹å¾å€¼åˆ†è§£ä¸­èµ·æ ¸å¿ƒä½œç”¨ã€‚</li>
</ul>
<p>åœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œæ•°æ®é€šå¸¸æ˜¯é«˜ç»´çš„ï¼Œç›´æ¥å¤„ç†æ—¢è´¹è®¡ç®—åˆä¸æ˜“ç†è§£ã€‚<strong>ç‰¹å¾å€¼åˆ†è§£ï¼ˆEigen Decompositionï¼‰å’Œ</strong> <strong>å¥‡å¼‚å€¼åˆ†è§£</strong> <strong>ï¼ˆ</strong> <strong>SVD</strong> <strong>ï¼‰</strong> æä¾›äº†å¼ºå¤§çš„å·¥å…·ï¼Œè®©æˆ‘ä»¬èƒ½å¤Ÿå‘ç°æ•°æ®çš„â€œæ ¸å¿ƒæ–¹å‘â€ï¼Œå®ç°é™ç»´ã€ç‰¹å¾æå–å’Œå‹ç¼©ã€‚</p>
<h2 data-id="heading-9">ç‰¹å¾å€¼åˆ†è§£ä¸å¥‡å¼‚å€¼åˆ†è§£ï¼ˆSVDï¼‰</h2>
<h3 data-id="heading-10">ç‰¹å¾å€¼åˆ†è§£</h3>
<p>ç»™å®šä¸€ä¸ªæ–¹é˜µ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="double-struck">R</mi><mrow><mi>n</mi><mo>Ã—</mo><mi>n</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\mathbb{R}^{n \times n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7713em;"/><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">Ã—</span><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span></span></span>ï¼Œå¦‚æœå­˜åœ¨æ ‡é‡ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î»</mi></mrow><annotation encoding="application/x-tex">\lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal">Î»</span></span></span></span></span> å’Œéé›¶å‘é‡ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">v</mi></mrow><annotation encoding="application/x-tex">\mathbf{v}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4444em;"/><span class="mord mathbf" style="margin-right:0.01597em;">v</span></span></span></span></span>ï¼Œä½¿å¾—ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">v</mi><mo>=</mo><mi>Î»</mi><mi mathvariant="bold">v</mi></mrow><annotation encoding="application/x-tex">\mathbf{v} = \lambda \mathbf{v}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4444em;"/><span class="mord mathbf" style="margin-right:0.01597em;">v</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal">Î»</span><span class="mord mathbf" style="margin-right:0.01597em;">v</span></span></span></span></span>ï¼Œåˆ™ç§° <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î»</mi></mrow><annotation encoding="application/x-tex">\lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal">Î»</span></span></span></span></span> ä¸º <strong>ç‰¹å¾å€¼</strong>ï¼Œ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">v</mi></mrow><annotation encoding="application/x-tex">\mathbf{v}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4444em;"/><span class="mord mathbf" style="margin-right:0.01597em;">v</span></span></span></span></span>ä¸º <strong>ç‰¹å¾å‘é‡</strong>ã€‚</p>
<p>è€ƒè™‘ä¸€ä¸ªç®€å•çš„ 2x2 çŸ©é˜µï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">A = \begin{bmatrix} 2 &amp; 1 \\ 1 &amp; 2 \end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"/><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">2</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span/></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span></p>
<p>æ±‚è§£ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>det</mi><mo>â¡</mo><mo stretchy="false">(</mo><mi>A</mi><mo>âˆ’</mo><mi>Î»</mi><mi>I</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn><mspace width="1em"/><mo>â‡’</mo><mspace width="1em"/><mrow><mo fence="true">âˆ£</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>2</mn><mo>âˆ’</mo><mi>Î»</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>2</mn><mo>âˆ’</mo><mi>Î»</mi></mrow></mstyle></mtd></mtr></mtable><mo fence="true">âˆ£</mo></mrow><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\det(A - \lambda I) = 0 \quad \Rightarrow \quad \begin{vmatrix} 2-\lambda &amp; 1 \\ 1 &amp; 2-\lambda \end{vmatrix} = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mop">det</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal">Î»</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">0</span><span class="mspace" style="margin-right:1em;"/><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â‡’</span><span class="mspace" style="margin-right:1em;"/><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"/><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.45em;"><span class="pstrut" style="height:4.4em;"/><span style="width:0.333em;height:2.400em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.333em" height="2.400em" viewbox="0 0 333 2400"><path d="M145 15 v585 v1200 v585 c2.667,10,9.667,15,21,15&#10;c10,0,16.667,-5,20,-15 v-585 v-1200 v-585 c-2.667,-10,-9.667,-15,-21,-15&#10;c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v1200 v585 h43z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span/></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mord mathnormal">Î»</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mord mathnormal">Î»</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span/></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.45em;"><span class="pstrut" style="height:4.4em;"/><span style="width:0.333em;height:2.400em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.333em" height="2.400em" viewbox="0 0 333 2400"><path d="M145 15 v585 v1200 v585 c2.667,10,9.667,15,21,15&#10;c10,0,16.667,-5,20,-15 v-585 v-1200 v-585 c-2.667,-10,-9.667,-15,-21,-15&#10;c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v1200 v585 h43z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span/></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">0</span></span></span></span></span></p>
<p>å¾—åˆ°ç‰¹å¾å€¼ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Î»</mi><mn>1</mn></msub><mo>=</mo><mn>3</mn><mo separator="true">,</mo><msub><mi>Î»</mi><mn>2</mn></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\lambda_1 = 3, \lambda_2 = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal">Î»</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">Î»</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">1</span></span></span></span></span>ï¼Œå¯¹åº”ç‰¹å¾å‘é‡åˆ†åˆ«ä¸ºï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">v</mi><mn>1</mn></msub><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo separator="true">,</mo><mspace width="1em"/><msub><mi mathvariant="bold">v</mi><mn>2</mn></msub><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mn>1</mn></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\mathbf{v}_1 = \begin{bmatrix} 1 \\ 1 \end{bmatrix}, \quad \mathbf{v}_2 = \begin{bmatrix} 1 \\ -1 \end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5944em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.016em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"/><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span/></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.1667em;"/><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"/><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.016em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"/><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">âˆ’</span><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span/></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span></p>
<p>çŸ©é˜µ A ä½œç”¨åœ¨ v1 ä¸Šï¼Œæ–¹å‘ä¸å˜ï¼Œåªæ‹‰ä¼¸äº† 3 å€ï¼›ä½œç”¨åœ¨ v2 ä¸Šï¼Œæ–¹å‘ä¸å˜ï¼Œåªæ‹‰ä¼¸äº† 1 å€ã€‚</p>
<p>ç‰¹å¾å€¼åˆ†è§£çš„åº”ç”¨åœºæ™¯åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>PCA</strong> <strong>é™ç»´</strong>ï¼šåœ¨ PCAï¼ˆä¸»æˆåˆ†åˆ†æï¼‰ä¸­ï¼Œæˆ‘ä»¬å¯¹æ•°æ®çš„åæ–¹å·®çŸ©é˜µ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mi>m</mi></mfrac><msup><mi>X</mi><mi>T</mi></msup><mi>X</mi></mrow><annotation encoding="application/x-tex">\frac{1}{m} X^T X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"/><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span></span> è¿›è¡Œç‰¹å¾å€¼åˆ†è§£ï¼Œå¾—åˆ°æœ€å¤§æ–¹å·®æ–¹å‘ä¸Šçš„ä¸»æˆåˆ†ã€‚</li>
<li><strong>è°±èšç±»</strong>ï¼šç”¨ Laplacian çŸ©é˜µç‰¹å¾å‘é‡åˆ’åˆ†æ•°æ®</li>
<li><strong>ç¨³æ€åˆ†æ</strong>ï¼šé©¬å°”å¯å¤«é“¾è½¬ç§»çŸ©é˜µçš„ç‰¹å¾å€¼åˆ†ææ”¶æ•›æ€§</li>
</ul>
<h3 data-id="heading-11">å¥‡å¼‚å€¼åˆ†è§£ï¼ˆSVDï¼‰</h3>
<p>å¯¹äºä»»æ„çŸ©é˜µ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>âˆˆ</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>m</mi><mo>Ã—</mo><mi>n</mi></mrow></msup></mrow><annotation encoding="application/x-tex">X \in \mathbb{R}^{m \times n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"/><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.7713em;"/><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mbin mtight">Ã—</span><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span></span></span>ï¼Œå¯ä»¥åˆ†è§£ä¸ºï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>=</mo><mi>U</mi><mi mathvariant="normal">Î£</mi><msup><mi>V</mi><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">X = U \Sigma V^T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.8413em;"/><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mord">Î£</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>å…¶ä¸­ï¼š</p>
<ul>
<li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi><mo>âˆˆ</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>m</mi><mo>Ã—</mo><mi>m</mi></mrow></msup></mrow><annotation encoding="application/x-tex">U \in \mathbb{R}^{m \times m}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"/><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.7713em;"/><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mbin mtight">Ã—</span><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span></span></span></span></span></span> å’Œ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi><mo>âˆˆ</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>n</mi><mo>Ã—</mo><mi>n</mi></mrow></msup></mrow><annotation encoding="application/x-tex">V \in \mathbb{R}^{n \times n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"/><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.7713em;"/><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">Ã—</span><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span></span></span> æ˜¯æ­£äº¤çŸ©é˜µ</li>
<li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Î£</mi><mo>âˆˆ</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>m</mi><mo>Ã—</mo><mi>n</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\Sigma \in \mathbb{R}^{m \times n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"/><span class="mord">Î£</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.7713em;"/><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mbin mtight">Ã—</span><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span></span></span>æ˜¯å¯¹è§’çŸ©é˜µï¼ŒåŒ…å«å¥‡å¼‚å€¼ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Ïƒ</mi><mn>1</mn></msub><mo>â‰¥</mo><msub><mi>Ïƒ</mi><mn>2</mn></msub><mo>â‰¥</mo><mo>â‹¯</mo><mo>â‰¥</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\sigma_1 \ge \sigma_2 \ge \dots \ge 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.786em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.786em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"/><span class="minner">â‹¯</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">0</span></span></span></span></span></li>
</ul>
<p><strong>å¥‡å¼‚å€¼</strong>è¡¨ç¤ºçŸ©é˜µåœ¨å„ä¸ªæ–¹å‘ä¸Šçš„â€œèƒ½é‡å¤§å°â€ã€‚<strong>SVD</strong> <strong>å¯ç”¨äºé</strong> <strong>æ–¹é˜µ</strong>ï¼Œæ¯”ç‰¹å¾å€¼åˆ†è§£æ›´é€šç”¨ã€‚</p>
<p>SVD åœ¨é™ç»´ã€ä¿¡æ¯æ£€ç´¢ï¼ˆLSAï¼‰ã€æ¨èç³»ç»Ÿï¼ˆçŸ©é˜µåˆ†è§£ï¼‰ä¸­åº”ç”¨å¹¿æ³›ã€‚</p>
<p>è€ƒè™‘çŸ©é˜µ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">X = \begin{bmatrix} 3 &amp; 1 \\ 1 &amp; 3 \\ \end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"/><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">3</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span/></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span></p>
<p>SVD åˆ†è§£ç»“æœè¿‘ä¼¼ä¸ºï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo separator="true">,</mo><mspace width="1em"/><mi mathvariant="normal">Î£</mi><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo separator="true">,</mo><mspace width="1em"/><msup><mi>V</mi><mi>T</mi></msup><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">U = \begin{bmatrix} \frac{1}{\sqrt{2}} &amp; -\frac{1}{\sqrt{2}} \\ \frac{1}{\sqrt{2}} &amp; \frac{1}{\sqrt{2}} \end{bmatrix}, \quad \Sigma = \begin{bmatrix} 4 &amp; 0 \\ 0 &amp; 2 \end{bmatrix}, \quad V^T = \begin{bmatrix} \frac{1}{\sqrt{2}} &amp; \frac{1}{\sqrt{2}} \\ -\frac{1}{\sqrt{2}} &amp; \frac{1}{\sqrt{2}} \end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"/><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6331em;"><span style="top:-3.788em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.551em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord sqrt mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9128em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"/><span class="mord mtight" style="padding-left:0.833em;"><span class="mord mtight">2</span></span></span><span style="top:-2.8728em;"><span class="pstrut" style="height:3em;"/><span class="hide-tail mtight" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewbox="0 0 400000 1080" preserveaspectratio="xMinYMin slice"><path d="M95,702&#10;c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14&#10;c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54&#10;c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10&#10;s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429&#10;c69,-144,104.5,-217.7,106.5,-221&#10;l0 -0&#10;c5.3,-9.3,12,-14,20,-14&#10;H400000v40H845.2724&#10;s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7&#10;c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z&#10;M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1272em;"><span/></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.538em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span></span></span><span style="top:-2.4049em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.551em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord sqrt mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9128em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"/><span class="mord mtight" style="padding-left:0.833em;"><span class="mord mtight">2</span></span></span><span style="top:-2.8728em;"><span class="pstrut" style="height:3em;"/><span class="hide-tail mtight" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewbox="0 0 400000 1080" preserveaspectratio="xMinYMin slice"><path d="M95,702&#10;c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14&#10;c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54&#10;c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10&#10;s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429&#10;c69,-144,104.5,-217.7,106.5,-221&#10;l0 -0&#10;c5.3,-9.3,12,-14,20,-14&#10;H400000v40H845.2724&#10;s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7&#10;c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z&#10;M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1272em;"><span/></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.538em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.1331em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6331em;"><span style="top:-3.788em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">âˆ’</span><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.551em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord sqrt mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9128em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"/><span class="mord mtight" style="padding-left:0.833em;"><span class="mord mtight">2</span></span></span><span style="top:-2.8728em;"><span class="pstrut" style="height:3em;"/><span class="hide-tail mtight" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewbox="0 0 400000 1080" preserveaspectratio="xMinYMin slice"><path d="M95,702&#10;c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14&#10;c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54&#10;c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10&#10;s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429&#10;c69,-144,104.5,-217.7,106.5,-221&#10;l0 -0&#10;c5.3,-9.3,12,-14,20,-14&#10;H400000v40H845.2724&#10;s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7&#10;c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z&#10;M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1272em;"><span/></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.538em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span></span></span><span style="top:-2.4049em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.551em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord sqrt mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9128em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"/><span class="mord mtight" style="padding-left:0.833em;"><span class="mord mtight">2</span></span></span><span style="top:-2.8728em;"><span class="pstrut" style="height:3em;"/><span class="hide-tail mtight" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewbox="0 0 400000 1080" preserveaspectratio="xMinYMin slice"><path d="M95,702&#10;c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14&#10;c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54&#10;c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10&#10;s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429&#10;c69,-144,104.5,-217.7,106.5,-221&#10;l0 -0&#10;c5.3,-9.3,12,-14,20,-14&#10;H400000v40H845.2724&#10;s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7&#10;c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z&#10;M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1272em;"><span/></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.538em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.1331em;"><span/></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size4">]</span></span></span><span class="mspace" style="margin-right:0.1667em;"/><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"/><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">Î£</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"/><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">4</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span/></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.1667em;"/><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"/><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"/><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6331em;"><span style="top:-3.788em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.551em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord sqrt mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9128em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"/><span class="mord mtight" style="padding-left:0.833em;"><span class="mord mtight">2</span></span></span><span style="top:-2.8728em;"><span class="pstrut" style="height:3em;"/><span class="hide-tail mtight" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewbox="0 0 400000 1080" preserveaspectratio="xMinYMin slice"><path d="M95,702&#10;c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14&#10;c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54&#10;c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10&#10;s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429&#10;c69,-144,104.5,-217.7,106.5,-221&#10;l0 -0&#10;c5.3,-9.3,12,-14,20,-14&#10;H400000v40H845.2724&#10;s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7&#10;c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z&#10;M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1272em;"><span/></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.538em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span></span></span><span style="top:-2.4049em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">âˆ’</span><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.551em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord sqrt mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9128em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"/><span class="mord mtight" style="padding-left:0.833em;"><span class="mord mtight">2</span></span></span><span style="top:-2.8728em;"><span class="pstrut" style="height:3em;"/><span class="hide-tail mtight" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewbox="0 0 400000 1080" preserveaspectratio="xMinYMin slice"><path d="M95,702&#10;c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14&#10;c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54&#10;c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10&#10;s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429&#10;c69,-144,104.5,-217.7,106.5,-221&#10;l0 -0&#10;c5.3,-9.3,12,-14,20,-14&#10;H400000v40H845.2724&#10;s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7&#10;c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z&#10;M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1272em;"><span/></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.538em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.1331em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6331em;"><span style="top:-3.788em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.551em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord sqrt mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9128em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"/><span class="mord mtight" style="padding-left:0.833em;"><span class="mord mtight">2</span></span></span><span style="top:-2.8728em;"><span class="pstrut" style="height:3em;"/><span class="hide-tail mtight" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewbox="0 0 400000 1080" preserveaspectratio="xMinYMin slice"><path d="M95,702&#10;c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14&#10;c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54&#10;c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10&#10;s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429&#10;c69,-144,104.5,-217.7,106.5,-221&#10;l0 -0&#10;c5.3,-9.3,12,-14,20,-14&#10;H400000v40H845.2724&#10;s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7&#10;c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z&#10;M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1272em;"><span/></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.538em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span></span></span><span style="top:-2.4049em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.551em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord sqrt mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9128em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"/><span class="mord mtight" style="padding-left:0.833em;"><span class="mord mtight">2</span></span></span><span style="top:-2.8728em;"><span class="pstrut" style="height:3em;"/><span class="hide-tail mtight" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewbox="0 0 400000 1080" preserveaspectratio="xMinYMin slice"><path d="M95,702&#10;c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14&#10;c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54&#10;c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10&#10;s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429&#10;c69,-144,104.5,-217.7,106.5,-221&#10;l0 -0&#10;c5.3,-9.3,12,-14,20,-14&#10;H400000v40H845.2724&#10;s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7&#10;c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z&#10;M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1272em;"><span/></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.538em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.1331em;"><span/></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size4">]</span></span></span></span></span></span></span></p>
<p>çŸ©é˜µ X å¯ä»¥çœ‹ä½œå…ˆæ—‹è½¬ï¼ˆ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>V</mi><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">V^T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8413em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span></span>ï¼‰ï¼Œå†æ‹‰ä¼¸ï¼ˆ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Î£</mi></mrow><annotation encoding="application/x-tex">\Sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">Î£</span></span></span></span></span>ï¼‰ï¼Œå†æ—‹è½¬ï¼ˆUï¼‰ï¼Œå¾—åˆ°åŸçŸ©é˜µã€‚ä¿ç•™æœ€å¤§å¥‡å¼‚å€¼å¯¹åº”çš„æ–¹å‘ï¼Œå°±èƒ½å¾—åˆ°æ•°æ®æœ€é‡è¦çš„ä¿¡æ¯ã€‚</p>
<p>å¥‡å¼‚å€¼åˆ†è§£çš„åº”ç”¨åœºæ™¯åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>æ¨èç³»ç»Ÿ</strong>ï¼šçŸ©é˜µåˆ†è§£æ‰¾åˆ°ç”¨æˆ·å’Œç‰©å“çš„æ½œåœ¨å› å­</li>
<li><strong>å›¾åƒå‹ç¼©</strong>ï¼šä¿ç•™ä¸»å¥‡å¼‚å€¼é‡å»ºè¿‘ä¼¼å›¾åƒ</li>
<li><strong>æ½œåœ¨è¯­ä¹‰åˆ†æï¼ˆLSAï¼‰</strong> ï¼šä»æ–‡æ¡£-è¯çŸ©é˜µæå–æ½œåœ¨è¯­ä¹‰ç»“æ„</li>
</ul>
<hr/>
<h2 data-id="heading-12">çº¿æ€§ä»£æ•°ä¸æœºå™¨å­¦ä¹ æ¨¡å‹</h2>
<h3 data-id="heading-13">çº¿æ€§å›å½’</h3>
<p>é¢„æµ‹å…¬å¼å¯ä»¥å†™ä½œï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi mathvariant="bold">y</mi><mo>^</mo></mover><mo>=</mo><mi>X</mi><mi mathvariant="bold">w</mi></mrow><annotation encoding="application/x-tex">\hat{\mathbf{y}} = X \mathbf{w}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9023em;vertical-align:-0.1944em;"/><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7079em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"/><span class="mord mathbf" style="margin-right:0.01597em;">y</span></span><span style="top:-3.0134em;"><span class="pstrut" style="height:3em;"/><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span/></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span></span></span></span></p>
<p>å…¶ä¸­ï¼Œ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">w</mi></mrow><annotation encoding="application/x-tex">\mathbf{w}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4444em;"/><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span></span></span></span> æ˜¯å›å½’ç³»æ•°ã€‚åˆ©ç”¨æœ€å°äºŒä¹˜æ³•ï¼Œå‚æ•°è§£ä¸ºï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">w</mi><mo>=</mo><mo stretchy="false">(</mo><msup><mi>X</mi><mi>T</mi></msup><mi>X</mi><msup><mo stretchy="false">)</mo><mrow><mo>âˆ’</mo><mn>1</mn></mrow></msup><msup><mi>X</mi><mi>T</mi></msup><mi mathvariant="bold">y</mi></mrow><annotation encoding="application/x-tex">\mathbf{w} = (X^T X)^{-1} X^T \mathbf{y}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4444em;"/><span class="mord mathbf" style="margin-right:0.01597em;">w</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.0913em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord mathbf" style="margin-right:0.01597em;">y</span></span></span></span></span></p>
<p>è¿™æ˜¯çº¿æ€§ä»£æ•°åœ¨å›å½’åˆ†æä¸­çš„ç›´æ¥åº”ç”¨ã€‚</p>
<h3 data-id="heading-14">æ”¯æŒå‘é‡æœºï¼ˆSVMï¼‰</h3>
<p>SVM æœ¬è´¨ä¸Šæ˜¯å¯»æ‰¾ä¸€ä¸ªè¶…å¹³é¢ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="bold">w</mi><mi>T</mi></msup><mi mathvariant="bold">x</mi><mo>+</mo><mi>b</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\mathbf{w}^T \mathbf{x} + b = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9247em;vertical-align:-0.0833em;"/><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord mathbf">x</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">0</span></span></span></span></span>ï¼Œæœ€å¤§åŒ–æ•°æ®ç‚¹ä¸è¶…å¹³é¢çš„å‡ ä½•é—´éš”ã€‚è¿™æ˜¯å…¸å‹çš„çº¿æ€§ä»£æ•°ä¸å‡¸ä¼˜åŒ–ç»“åˆçš„ä¾‹å­ã€‚</p>
<h3 data-id="heading-15">ç¥ç»ç½‘ç»œ</h3>
<p>ç¥ç»ç½‘ç»œä¸­ï¼Œæ¯ä¸€å±‚çš„è®¡ç®—éƒ½æ˜¯çŸ©é˜µè¿ç®—ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="bold">h</mi><mrow><mo stretchy="false">(</mo><mi>l</mi><mo stretchy="false">)</mo></mrow></msup><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><msup><mi>W</mi><mrow><mo stretchy="false">(</mo><mi>l</mi><mo stretchy="false">)</mo></mrow></msup><msup><mi mathvariant="bold">h</mi><mrow><mo stretchy="false">(</mo><mi>l</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msup><mo>+</mo><msup><mi mathvariant="bold">b</mi><mrow><mo stretchy="false">(</mo><mi>l</mi><mo stretchy="false">)</mo></mrow></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathbf{h}^{(l)} = f(W^{(l)} \mathbf{h}^{(l-1)} + \mathbf{b}^{(l)})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.888em;"/><span class="mord"><span class="mord mathbf">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.138em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1.138em;vertical-align:-0.25em;"/><span class="mord"><span class="mord mathbf">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p>
<p>å…¶ä¸­ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mo>â‹…</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(\cdot)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord">â‹…</span><span class="mclose">)</span></span></span></span></span>æ˜¯æ¿€æ´»å‡½æ•°ã€‚å¯è§æ•´ä¸ªç½‘ç»œå°±æ˜¯ä¸€è¿ä¸²çš„çº¿æ€§å˜æ¢+éçº¿æ€§æ˜ å°„ã€‚</p>
<p>æœ€æ–°çš„æ–‡ç« éƒ½åœ¨å…¬ä¼—å·aicotingæ›´æ–°ï¼Œåˆ«å¿˜è®°å…³æ³¨å“¦ï¼ï¼ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[RAGç´¢å¼•æµç¨‹è¯¦è§£ï¼šå¦‚ä½•é«˜æ•ˆè§£ææ–‡æ¡£æ„å»ºçŸ¥è¯†åº“]]></title>    <link>https://juejin.cn/post/7593164154632192009</link>    <guid>https://juejin.cn/post/7593164154632192009</guid>    <pubDate>2026-01-09T15:44:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593164154632192009" data-draft-id="7593171168259686409" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="RAGç´¢å¼•æµç¨‹è¯¦è§£ï¼šå¦‚ä½•é«˜æ•ˆè§£ææ–‡æ¡£æ„å»ºçŸ¥è¯†åº“"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-09T15:44:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŒ—è¾°alk"/> <meta itemprop="url" content="https://juejin.cn/user/1772855673241352"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            RAGç´¢å¼•æµç¨‹è¯¦è§£ï¼šå¦‚ä½•é«˜æ•ˆè§£ææ–‡æ¡£æ„å»ºçŸ¥è¯†åº“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1772855673241352/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŒ—è¾°alk
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T15:44:56.000Z" title="Fri Jan 09 2026 15:44:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d589615192674c6681d1913cb9aff349~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YyX6L6wYWxr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768578296&amp;x-signature=EhyDj2mRevmvYLFaGeHIx7R%2FQE4%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-0">å¼•è¨€ï¼šä¸ºä»€ä¹ˆæ–‡æ¡£è§£ææ˜¯RAGçš„åŸºçŸ³ï¼Ÿ</h2>
<p>åœ¨RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰ç³»ç»Ÿä¸­ï¼Œæ–‡æ¡£è§£ææ˜¯æ•´ä¸ªçŸ¥è¯†åº“æ„å»ºçš„ç¬¬ä¸€æ­¥ï¼Œä¹Ÿæ˜¯æœ€å…³é”®çš„ä¸€æ­¥ã€‚å°±åƒå»ºæˆ¿å­éœ€è¦æ‰“å¥½åœ°åŸºä¸€æ ·ï¼Œè‰¯å¥½çš„æ–‡æ¡£è§£æè´¨é‡ç›´æ¥å†³å®šäº†åç»­æ£€ç´¢å’Œç”Ÿæˆçš„æ•ˆæœã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ·±å…¥æ¢è®¨RAGç´¢å¼•æµç¨‹ä¸­çš„æ–‡æ¡£è§£ææŠ€æœ¯ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€RAGæ–‡æ¡£è§£æçš„æ•´ä½“æ¶æ„</h2>
<p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªæµç¨‹å›¾äº†è§£å®Œæ•´çš„è§£ææµç¨‹ï¼š</p>
<pre><code class="hljs">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”Â Â Â Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”Â Â Â Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚Â Â Â Â â”‚Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚Â Â Â Â â”‚Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚
â”‚Â Â åŸå§‹æ–‡æ¡£é›†åˆÂ Â Â â”‚â”€â”€â”€â–¶â”‚Â Â æ–‡æ¡£è§£æä¸æ‹†åˆ†Â â”‚â”€â”€â”€â–¶â”‚Â Â æ–‡æœ¬å‘é‡åŒ–Â Â Â Â Â â”‚
â”‚Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚Â Â Â Â â”‚Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚Â Â Â Â â”‚Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜Â Â Â Â â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜Â Â Â Â â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”Â Â Â Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚
â”‚Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚Â Â Â Â â”‚Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚Â Â Â Â Â Â Â Â Â Â Â Â Â â–¼
â”‚Â Â å…ƒæ•°æ®æå–Â Â Â Â â”‚â—€â”€â”€â”€â”‚Â Â è¯­ä¹‰åˆ†å—Â Â Â Â Â Â Â â”‚Â Â Â Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚Â Â Â Â â”‚Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚Â Â Â Â â”‚Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜Â Â Â Â â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜Â Â Â Â â”‚Â Â å‘é‡å­˜å‚¨ç´¢å¼•Â Â â”‚
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â”‚
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h2 data-id="heading-2">äºŒã€æ–‡æ¡£è§£æçš„æ ¸å¿ƒæ­¥éª¤è¯¦è§£</h2>
<h3 data-id="heading-3">2.1 æ”¯æŒå¤šç§æ–‡æ¡£æ ¼å¼</h3>
<p>å®é™…é¡¹ç›®ä¸­ï¼Œæ–‡æ¡£æ ¼å¼å¤šç§å¤šæ ·ã€‚æˆ‘ä»¬éœ€è¦ä¸€ä¸ªèƒ½å¤„ç†å„ç§æ ¼å¼çš„è§£æå™¨ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span>Â os
<span class="hljs-keyword">from</span>Â typingÂ <span class="hljs-keyword">import</span>Â <span class="hljs-type">List</span>,Â <span class="hljs-type">Dict</span>,Â <span class="hljs-type">Any</span>
<span class="hljs-keyword">from</span>Â langchain.document_loadersÂ <span class="hljs-keyword">import</span>Â (
Â Â Â Â PyPDFLoader,
Â Â Â Â Docx2txtLoader,
Â Â Â Â UnstructuredHTMLLoader,
Â Â Â Â UnstructuredMarkdownLoader,
Â Â Â Â TextLoader
)
<span class="hljs-keyword">from</span>Â langchain.schemaÂ <span class="hljs-keyword">import</span>Â Document

<span class="hljs-keyword">class</span>Â <span class="hljs-title class_">MultiFormatDocumentParser</span>:
Â Â Â Â <span class="hljs-string">"""å¤šæ ¼å¼æ–‡æ¡£è§£æå™¨"""</span>
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
Â Â Â Â Â Â Â Â self.format_handlersÂ =Â {
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'.pdf'</span>:Â self._parse_pdf,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'.docx'</span>:Â self._parse_docx,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'.html'</span>:Â self._parse_html,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'.htm'</span>:Â self._parse_html,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'.md'</span>:Â self._parse_markdown,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'.txt'</span>:Â self._parse_text,
Â Â Â Â Â Â Â Â }
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">parse_document</span>(<span class="hljs-params">self,Â file_path:Â <span class="hljs-built_in">str</span></span>)Â -&gt;Â <span class="hljs-type">List</span>[Document]:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""è§£æå•ä¸ªæ–‡æ¡£"""</span>
Â Â Â Â Â Â Â Â extÂ =Â os.path.splitext(file_path)[<span class="hljs-number">1</span>].lower()
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â extÂ <span class="hljs-keyword">not</span>Â <span class="hljs-keyword">in</span>Â self.format_handlers:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">raise</span>Â ValueError(<span class="hljs-string">f"ä¸æ”¯æŒçš„æ–‡ä»¶æ ¼å¼:Â <span class="hljs-subst">{ext}</span>"</span>)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â self.format_handlers[ext](file_path)
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_parse_pdf</span>(<span class="hljs-params">self,Â file_path:Â <span class="hljs-built_in">str</span></span>)Â -&gt;Â <span class="hljs-type">List</span>[Document]:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""è§£æPDFæ–‡æ¡£"""</span>
Â Â Â Â Â Â Â Â loaderÂ =Â PyPDFLoader(file_path)
Â Â Â Â Â Â Â Â documentsÂ =Â loader.load()
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æå–PDFå…ƒæ•°æ®</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â docÂ <span class="hljs-keyword">in</span>Â documents:
Â Â Â Â Â Â Â Â Â Â Â Â doc.metadata.update({
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'source'</span>:Â file_path,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'format'</span>:Â <span class="hljs-string">'pdf'</span>,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'total_pages'</span>:Â <span class="hljs-built_in">len</span>(documents)
Â Â Â Â Â Â Â Â Â Â Â Â })
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â documents
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_parse_docx</span>(<span class="hljs-params">self,Â file_path:Â <span class="hljs-built_in">str</span></span>)Â -&gt;Â <span class="hljs-type">List</span>[Document]:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""è§£æWordæ–‡æ¡£"""</span>
Â Â Â Â Â Â Â Â loaderÂ =Â Docx2txtLoader(file_path)
Â Â Â Â Â Â Â Â documentsÂ =Â loader.load()
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ·»åŠ æ–‡æ¡£ç»“æ„ä¿¡æ¯</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â docÂ <span class="hljs-keyword">in</span>Â documents:
Â Â Â Â Â Â Â Â Â Â Â Â doc.metadata.update({
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'source'</span>:Â file_path,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'format'</span>:Â <span class="hljs-string">'docx'</span>
Â Â Â Â Â Â Â Â Â Â Â Â })
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â documents
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_parse_html</span>(<span class="hljs-params">self,Â file_path:Â <span class="hljs-built_in">str</span></span>)Â -&gt;Â <span class="hljs-type">List</span>[Document]:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""è§£æHTMLæ–‡æ¡£"""</span>
Â Â Â Â Â Â Â Â loaderÂ =Â UnstructuredHTMLLoader(file_path)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â loader.load()
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_parse_markdown</span>(<span class="hljs-params">self,Â file_path:Â <span class="hljs-built_in">str</span></span>)Â -&gt;Â <span class="hljs-type">List</span>[Document]:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""è§£æMarkdownæ–‡æ¡£"""</span>
Â Â Â Â Â Â Â Â loaderÂ =Â UnstructuredMarkdownLoader(file_path)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â loader.load()
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_parse_text</span>(<span class="hljs-params">self,Â file_path:Â <span class="hljs-built_in">str</span></span>)Â -&gt;Â <span class="hljs-type">List</span>[Document]:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""è§£æçº¯æ–‡æœ¬æ–‡æ¡£"""</span>
Â Â Â Â Â Â Â Â loaderÂ =Â TextLoader(file_path,Â encoding=<span class="hljs-string">'utf-8'</span>)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â loader.load()

<span class="hljs-comment">#Â ä½¿ç”¨ç¤ºä¾‹</span>
parserÂ =Â MultiFormatDocumentParser()
documentsÂ =Â parser.parse_document(<span class="hljs-string">"example.pdf"</span>)
</code></pre>
<h3 data-id="heading-4">2.2 æ™ºèƒ½æ–‡æ¡£åˆ†å—ç­–ç•¥</h3>
<p>æ–‡æ¡£åˆ†å—æ˜¯è§£æçš„æ ¸å¿ƒç¯èŠ‚ï¼Œç›´æ¥å½±å“æ£€ç´¢è´¨é‡ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span>Â langchain.text_splitterÂ <span class="hljs-keyword">import</span>Â (
Â Â Â Â RecursiveCharacterTextSplitter,
Â Â Â Â TokenTextSplitter,
Â Â Â Â MarkdownHeaderTextSplitter
)
<span class="hljs-keyword">import</span>Â re
<span class="hljs-keyword">from</span>Â typingÂ <span class="hljs-keyword">import</span>Â <span class="hljs-type">List</span>

<span class="hljs-keyword">class</span>Â <span class="hljs-title class_">SmartChunker</span>:
Â Â Â Â <span class="hljs-string">"""æ™ºèƒ½æ–‡æ¡£åˆ†å—å™¨"""</span>
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self,Â chunk_size:Â <span class="hljs-built_in">int</span>Â =Â <span class="hljs-number">1000</span>,Â chunk_overlap:Â <span class="hljs-built_in">int</span>Â =Â <span class="hljs-number">200</span></span>):
Â Â Â Â Â Â Â Â self.chunk_sizeÂ =Â chunk_size
Â Â Â Â Â Â Â Â self.chunk_overlapÂ =Â chunk_overlap
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åˆå§‹åŒ–ä¸åŒçš„åˆ†å—å™¨</span>
Â Â Â Â Â Â Â Â self.recursive_splitterÂ =Â RecursiveCharacterTextSplitter(
Â Â Â Â Â Â Â Â Â Â Â Â chunk_size=chunk_size,
Â Â Â Â Â Â Â Â Â Â Â Â chunk_overlap=chunk_overlap,
Â Â Â Â Â Â Â Â Â Â Â Â separators=[<span class="hljs-string">"\n\n"</span>,Â <span class="hljs-string">"\n"</span>,Â <span class="hljs-string">"ã€‚"</span>,Â <span class="hljs-string">"ï¼"</span>,Â <span class="hljs-string">"ï¼Ÿ"</span>,Â <span class="hljs-string">"ï¼›"</span>,Â <span class="hljs-string">"ï¼Œ"</span>,Â <span class="hljs-string">"Â "</span>,Â <span class="hljs-string">""</span>]
Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â self.token_splitterÂ =Â TokenTextSplitter(
Â Â Â Â Â Â Â Â Â Â Â Â chunk_size=chunk_size,
Â Â Â Â Â Â Â Â Â Â Â Â chunk_overlap=chunk_overlap
Â Â Â Â Â Â Â Â )
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">semantic_chunking</span>(<span class="hljs-params">self,Â text:Â <span class="hljs-built_in">str</span>,Â doc_type:Â <span class="hljs-built_in">str</span>Â =Â <span class="hljs-literal">None</span></span>)Â -&gt;Â <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""è¯­ä¹‰æ„ŸçŸ¥çš„åˆ†å—"""</span>
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ ¹æ®æ–‡æ¡£ç±»å‹é€‰æ‹©åˆ†å—ç­–ç•¥</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â doc_typeÂ ==Â <span class="hljs-string">'markdown'</span>:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â self._markdown_chunking(text)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">elif</span>Â self._is_code_document(text):
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â self._code_chunking(text)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">else</span>:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â self._semantic_paragraph_chunking(text)
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_markdown_chunking</span>(<span class="hljs-params">self,Â text:Â <span class="hljs-built_in">str</span></span>)Â -&gt;Â <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""Markdownæ–‡æ¡£åˆ†å—"""</span>
Â Â Â Â Â Â Â Â headers_to_split_onÂ =Â [
Â Â Â Â Â Â Â Â Â Â Â Â (<span class="hljs-string">"#"</span>,Â <span class="hljs-string">"æ ‡é¢˜1"</span>),
Â Â Â Â Â Â Â Â Â Â Â Â (<span class="hljs-string">"##"</span>,Â <span class="hljs-string">"æ ‡é¢˜2"</span>),
Â Â Â Â Â Â Â Â Â Â Â Â (<span class="hljs-string">"###"</span>,Â <span class="hljs-string">"æ ‡é¢˜3"</span>),
Â Â Â Â Â Â Â Â ]
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â markdown_splitterÂ =Â MarkdownHeaderTextSplitter(
Â Â Â Â Â Â Â Â Â Â Â Â headers_to_split_on=headers_to_split_on
Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â chunksÂ =Â markdown_splitter.split_text(text)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â [chunk.page_contentÂ <span class="hljs-keyword">for</span>Â chunkÂ <span class="hljs-keyword">in</span>Â chunks]
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_code_chunking</span>(<span class="hljs-params">self,Â text:Â <span class="hljs-built_in">str</span></span>)Â -&gt;Â <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""ä»£ç æ–‡æ¡£åˆ†å—"""</span>
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æŒ‰å‡½æ•°ã€ç±»ã€æ–¹æ³•è¿›è¡Œåˆ†å—</span>
Â Â Â Â Â Â Â Â patternsÂ =Â [
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">r'(def\s+\w+(.*?):.*?(?=\n\s*def|\Z))'</span>,Â Â <span class="hljs-comment">#Â å‡½æ•°</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">r'(class\s+\w+(.*?):.*?(?=\n\s*class|\Z))'</span>,Â Â <span class="hljs-comment">#Â ç±»</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">r'(//\s*===.*?===)'</span>,Â Â <span class="hljs-comment">#Â æ³¨é‡ŠåŒºå—</span>
Â Â Â Â Â Â Â Â ]
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â chunksÂ =Â []
Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â patternÂ <span class="hljs-keyword">in</span>Â patterns:
Â Â Â Â Â Â Â Â Â Â Â Â chunks.extend(re.findall(pattern,Â text,Â re.DOTALL))
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â chunksÂ <span class="hljs-keyword">if</span>Â chunksÂ <span class="hljs-keyword">else</span>Â self.recursive_splitter.split_text(text)
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_semantic_paragraph_chunking</span>(<span class="hljs-params">self,Â text:Â <span class="hljs-built_in">str</span></span>)Â -&gt;Â <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""è¯­ä¹‰æ®µè½åˆ†å—"""</span>
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å…ˆæŒ‰æ®µè½åˆ†å‰²</span>
Â Â Â Â Â Â Â Â paragraphsÂ =Â re.split(<span class="hljs-string">r'\n\s*\n'</span>,Â text)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â chunksÂ =Â []
Â Â Â Â Â Â Â Â current_chunkÂ =Â <span class="hljs-string">""</span>
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â paraÂ <span class="hljs-keyword">in</span>Â paragraphs:
Â Â Â Â Â Â Â Â Â Â Â Â paraÂ =Â para.strip()
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-keyword">not</span>Â para:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">continue</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å¦‚æœå½“å‰å—åŠ ä¸Šæ–°æ®µè½ä¸è¶…è¿‡é™åˆ¶ï¼Œå°±åˆå¹¶</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-built_in">len</span>(current_chunk)Â +Â <span class="hljs-built_in">len</span>(para)Â +Â <span class="hljs-number">1</span>Â &lt;=Â self.chunk_size:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â current_chunk:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â current_chunkÂ +=Â <span class="hljs-string">"\n\n"</span>Â +Â para
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">else</span>:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â current_chunkÂ =Â para
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">else</span>:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ä¿å­˜å½“å‰å—ï¼Œå¼€å§‹æ–°å—</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â current_chunk:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â chunks.append(current_chunk)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â current_chunkÂ =Â para
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ·»åŠ æœ€åä¸€ä¸ªå—</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â current_chunk:
Â Â Â Â Â Â Â Â Â Â Â Â chunks.append(current_chunk)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â chunks
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_is_code_document</span>(<span class="hljs-params">self,Â text:Â <span class="hljs-built_in">str</span></span>)Â -&gt;Â <span class="hljs-built_in">bool</span>:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""åˆ¤æ–­æ˜¯å¦ä¸ºä»£ç æ–‡æ¡£"""</span>
Â Â Â Â Â Â Â Â code_keywordsÂ =Â [<span class="hljs-string">'defÂ '</span>,Â <span class="hljs-string">'classÂ '</span>,Â <span class="hljs-string">'importÂ '</span>,Â <span class="hljs-string">'functionÂ '</span>,Â <span class="hljs-string">'varÂ '</span>,Â <span class="hljs-string">'letÂ '</span>,Â <span class="hljs-string">'constÂ '</span>]
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-built_in">any</span>(keywordÂ <span class="hljs-keyword">in</span>Â text[:<span class="hljs-number">500</span>]Â <span class="hljs-keyword">for</span>Â keywordÂ <span class="hljs-keyword">in</span>Â code_keywords)

<span class="hljs-comment">#Â ä½¿ç”¨ç¤ºä¾‹</span>
chunkerÂ =Â SmartChunker(chunk_size=<span class="hljs-number">1000</span>,Â chunk_overlap=<span class="hljs-number">200</span>)
chunksÂ =Â chunker.semantic_chunking(large_text_document,Â doc_type=<span class="hljs-string">'markdown'</span>)
</code></pre>
<h3 data-id="heading-5">2.3 é«˜çº§å…ƒæ•°æ®æå–</h3>
<p>å…ƒæ•°æ®èƒ½æ˜¾è‘—æå‡æ£€ç´¢ç²¾åº¦ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span>Â hashlib
<span class="hljs-keyword">from</span>Â datetimeÂ <span class="hljs-keyword">import</span>Â datetime
<span class="hljs-keyword">import</span>Â pytz
<span class="hljs-keyword">from</span>Â langchain.schemaÂ <span class="hljs-keyword">import</span>Â Document

<span class="hljs-keyword">class</span>Â <span class="hljs-title class_">MetadataExtractor</span>:
Â Â Â Â <span class="hljs-string">"""å…ƒæ•°æ®æå–å™¨"""</span>
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
Â Â Â Â Â Â Â Â self.zh_timezoneÂ =Â pytz.timezone(<span class="hljs-string">'Asia/Shanghai'</span>)
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">extract_document_metadata</span>(<span class="hljs-params">self,Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â content:Â <span class="hljs-built_in">str</span>,Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â file_path:Â <span class="hljs-built_in">str</span>,Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â doc_type:Â <span class="hljs-built_in">str</span></span>)Â -&gt;Â <span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>,Â <span class="hljs-type">Any</span>]:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""æå–æ–‡æ¡£å…ƒæ•°æ®"""</span>
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â metadataÂ =Â {
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'source'</span>:Â file_path,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'doc_type'</span>:Â doc_type,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'file_name'</span>:Â os.path.basename(file_path),
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'file_size'</span>:Â os.path.getsize(file_path),
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'last_modified'</span>:Â self._get_file_mtime(file_path),
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'content_hash'</span>:Â self._calculate_content_hash(content),
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'chunk_count'</span>:Â <span class="hljs-number">0</span>,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'total_length'</span>:Â <span class="hljs-built_in">len</span>(content),
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'indexing_time'</span>:Â datetime.now(self.zh_timezone).isoformat(),
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æå–å†…å®¹ç›¸å…³å…ƒæ•°æ®</span>
Â Â Â Â Â Â Â Â content_metadataÂ =Â self._extract_content_metadata(content)
Â Â Â Â Â Â Â Â metadata.update(content_metadata)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â metadata
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_extract_content_metadata</span>(<span class="hljs-params">self,Â content:Â <span class="hljs-built_in">str</span></span>)Â -&gt;Â <span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>,Â <span class="hljs-type">Any</span>]:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""ä»å†…å®¹ä¸­æå–å…ƒæ•°æ®"""</span>
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æå–æ ‡é¢˜</span>
Â Â Â Â Â Â Â Â titleÂ =Â self._extract_title(content)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æå–å…³é”®è¯ï¼ˆç®€å•å®ç°ï¼‰</span>
Â Â Â Â Â Â Â Â keywordsÂ =Â self._extract_keywords(content)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æå–æ–‡æ¡£ç»“æ„ä¿¡æ¯</span>
Â Â Â Â Â Â Â Â structure_infoÂ =Â self._analyze_structure(content)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æå–æ—¶é—´ä¿¡æ¯</span>
Â Â Â Â Â Â Â Â time_infoÂ =Â self._extract_time_info(content)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â {
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'title'</span>:Â title,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'keywords'</span>:Â keywords,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'sections'</span>:Â structure_info.get(<span class="hljs-string">'sections'</span>,Â []),
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'paragraph_count'</span>:Â structure_info.get(<span class="hljs-string">'paragraph_count'</span>,Â <span class="hljs-number">0</span>),
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'mentioned_dates'</span>:Â time_info,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'language'</span>:Â self._detect_language(content),
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'has_tables'</span>:Â self._has_tables(content),
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'has_code_blocks'</span>:Â self._has_code_blocks(content),
Â Â Â Â Â Â Â Â }
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_extract_title</span>(<span class="hljs-params">self,Â content:Â <span class="hljs-built_in">str</span></span>)Â -&gt;Â <span class="hljs-built_in">str</span>:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""æå–æ–‡æ¡£æ ‡é¢˜"""</span>
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å°è¯•ä»å¼€å¤´æˆ–Markdownæ ‡é¢˜ä¸­æå–</span>
Â Â Â Â Â Â Â Â linesÂ =Â content.strip().split(<span class="hljs-string">'\n'</span>)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â lineÂ <span class="hljs-keyword">in</span>Â lines[:<span class="hljs-number">10</span>]:Â Â <span class="hljs-comment">#Â æ£€æŸ¥å‰10è¡Œ</span>
Â Â Â Â Â Â Â Â Â Â Â Â lineÂ =Â line.strip()
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â Markdownæ ‡é¢˜</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â line.startswith(<span class="hljs-string">'#Â '</span>):
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â line[<span class="hljs-number">2</span>:].strip()
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â HTMLæ ‡é¢˜æ ‡ç­¾</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-string">'&lt;h1&gt;'</span>Â <span class="hljs-keyword">in</span>Â line.lower():
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">match</span>Â =Â re.search(<span class="hljs-string">r'&lt;h1[^&gt;]*&gt;(.*?)&lt;/h1&gt;'</span>,Â line,Â re.IGNORECASE)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-keyword">match</span>:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-keyword">match</span>.group(<span class="hljs-number">1</span>).strip()
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å¦‚æœæ²¡æœ‰æ˜ç¡®æ ‡é¢˜ï¼Œä½¿ç”¨ç¬¬ä¸€è¡Œéç©ºå†…å®¹</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â lineÂ <span class="hljs-keyword">in</span>Â lines:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â line.strip()Â <span class="hljs-keyword">and</span>Â <span class="hljs-built_in">len</span>(line.strip())Â &gt;Â <span class="hljs-number">10</span>:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â line.strip()[:<span class="hljs-number">100</span>]
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">"æœªå‘½åæ–‡æ¡£"</span>
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_extract_keywords</span>(<span class="hljs-params">self,Â content:Â <span class="hljs-built_in">str</span>,Â top_n:Â <span class="hljs-built_in">int</span>Â =Â <span class="hljs-number">10</span></span>)Â -&gt;Â <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""æå–å…³é”®è¯ï¼ˆç®€åŒ–ç‰ˆï¼‰"""</span>
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ç§»é™¤å¸¸è§åœç”¨è¯</span>
Â Â Â Â Â Â Â Â stop_wordsÂ =Â {<span class="hljs-string">'çš„'</span>,Â <span class="hljs-string">'äº†'</span>,Â <span class="hljs-string">'åœ¨'</span>,Â <span class="hljs-string">'æ˜¯'</span>,Â <span class="hljs-string">'æˆ‘'</span>,Â <span class="hljs-string">'æœ‰'</span>,Â <span class="hljs-string">'å’Œ'</span>,Â <span class="hljs-string">'å°±'</span>,Â <span class="hljs-string">'ä¸'</span>,Â <span class="hljs-string">'äºº'</span>,Â <span class="hljs-string">'éƒ½'</span>,Â <span class="hljs-string">'ä¸€'</span>,Â <span class="hljs-string">'ä¸€ä¸ª'</span>}
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ä¸­æ–‡åˆ†è¯ï¼ˆç®€åŒ–å¤„ç†ï¼‰</span>
Â Â Â Â Â Â Â Â wordsÂ =Â re.findall(<span class="hljs-string">r'[\u4e00-\u9fff]{2,}'</span>,Â content)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ç»Ÿè®¡è¯é¢‘</span>
Â Â Â Â Â Â Â Â word_freqÂ =Â {}
Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â wordÂ <span class="hljs-keyword">in</span>Â words:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â wordÂ <span class="hljs-keyword">not</span>Â <span class="hljs-keyword">in</span>Â stop_words:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â word_freq[word]Â =Â word_freq.get(word,Â <span class="hljs-number">0</span>)Â +Â <span class="hljs-number">1</span>
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è¿”å›é¢‘ç‡æœ€é«˜çš„è¯</span>
Â Â Â Â Â Â Â Â sorted_wordsÂ =Â <span class="hljs-built_in">sorted</span>(word_freq.items(),Â key=<span class="hljs-keyword">lambda</span>Â x:Â x[<span class="hljs-number">1</span>],Â reverse=<span class="hljs-literal">True</span>)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â [wordÂ <span class="hljs-keyword">for</span>Â word,Â freqÂ <span class="hljs-keyword">in</span>Â sorted_words[:top_n]]
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_analyze_structure</span>(<span class="hljs-params">self,Â content:Â <span class="hljs-built_in">str</span></span>)Â -&gt;Â <span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>,Â <span class="hljs-type">Any</span>]:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""åˆ†ææ–‡æ¡£ç»“æ„"""</span>
Â Â Â Â Â Â Â Â sectionsÂ =Â []
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æå–æ ‡é¢˜</span>
Â Â Â Â Â Â Â Â headingsÂ =Â re.findall(<span class="hljs-string">r'^(#{1,6})\s+(.+)$'</span>,Â content,Â re.MULTILINE)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â level,Â titleÂ <span class="hljs-keyword">in</span>Â headings:
Â Â Â Â Â Â Â Â Â Â Â Â sections.append({
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'level'</span>:Â <span class="hljs-built_in">len</span>(level),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'title'</span>:Â title.strip(),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'type'</span>:Â <span class="hljs-string">'heading'</span>
Â Â Â Â Â Â Â Â Â Â Â Â })
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ç»Ÿè®¡æ®µè½</span>
Â Â Â Â Â Â Â Â paragraphsÂ =Â [pÂ <span class="hljs-keyword">for</span>Â pÂ <span class="hljs-keyword">in</span>Â re.split(<span class="hljs-string">r'\n\s*\n'</span>,Â content)Â <span class="hljs-keyword">if</span>Â p.strip()]
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â {
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'sections'</span>:Â sections,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'paragraph_count'</span>:Â <span class="hljs-built_in">len</span>(paragraphs),
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'has_headings'</span>:Â <span class="hljs-built_in">len</span>(headings)Â &gt;Â <span class="hljs-number">0</span>
Â Â Â Â Â Â Â Â }
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_extract_time_info</span>(<span class="hljs-params">self,Â content:Â <span class="hljs-built_in">str</span></span>)Â -&gt;Â <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""æå–æ—¶é—´ä¿¡æ¯"""</span>
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åŒ¹é…å¸¸è§æ—¥æœŸæ ¼å¼</span>
Â Â Â Â Â Â Â Â date_patternsÂ =Â [
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">r'\d{4}å¹´\d{1,2}æœˆ\d{1,2}æ—¥'</span>,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">r'\d{4}-\d{1,2}-\d{1,2}'</span>,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">r'\d{4}/\d{1,2}/\d{1,2}'</span>,
Â Â Â Â Â Â Â Â ]
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â datesÂ =Â []
Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â patternÂ <span class="hljs-keyword">in</span>Â date_patterns:
Â Â Â Â Â Â Â Â Â Â Â Â dates.extend(re.findall(pattern,Â content))
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-built_in">list</span>(<span class="hljs-built_in">set</span>(dates))Â Â <span class="hljs-comment">#Â å»é‡</span>
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_detect_language</span>(<span class="hljs-params">self,Â content:Â <span class="hljs-built_in">str</span></span>)Â -&gt;Â <span class="hljs-built_in">str</span>:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""æ£€æµ‹è¯­è¨€"""</span>
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ç®€å•åŸºäºå­—ç¬¦åˆ¤æ–­</span>
Â Â Â Â Â Â Â Â zh_charsÂ =Â <span class="hljs-built_in">len</span>(re.findall(<span class="hljs-string">r'[\u4e00-\u9fff]'</span>,Â content))
Â Â Â Â Â Â Â Â en_charsÂ =Â <span class="hljs-built_in">len</span>(re.findall(<span class="hljs-string">r'[a-zA-Z]'</span>,Â content))
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â zh_charsÂ &gt;Â en_chars:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">'zh'</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">elif</span>Â en_charsÂ &gt;Â zh_chars:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">'en'</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">else</span>:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">'mixed'</span>
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_has_tables</span>(<span class="hljs-params">self,Â content:Â <span class="hljs-built_in">str</span></span>)Â -&gt;Â <span class="hljs-built_in">bool</span>:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""åˆ¤æ–­æ˜¯å¦åŒ…å«è¡¨æ ¼"""</span>
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â Markdownè¡¨æ ¼</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â re.search(<span class="hljs-string">r'|.*|.*\n|[-:\s|]+|'</span>,Â content):
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-literal">True</span>
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â HTMLè¡¨æ ¼</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â re.search(<span class="hljs-string">r'&lt;table[^&gt;]*&gt;'</span>,Â content,Â re.IGNORECASE):
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-literal">True</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-literal">False</span>
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_has_code_blocks</span>(<span class="hljs-params">self,Â content:Â <span class="hljs-built_in">str</span></span>)Â -&gt;Â <span class="hljs-built_in">bool</span>:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""åˆ¤æ–­æ˜¯å¦åŒ…å«ä»£ç å—"""</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-built_in">bool</span>(re.search(<span class="hljs-string">r'```[\s\S]*?```'</span>,Â content))
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_get_file_mtime</span>(<span class="hljs-params">self,Â file_path:Â <span class="hljs-built_in">str</span></span>)Â -&gt;Â <span class="hljs-built_in">str</span>:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""è·å–æ–‡ä»¶ä¿®æ”¹æ—¶é—´"""</span>
Â Â Â Â Â Â Â Â mtimeÂ =Â os.path.getmtime(file_path)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â datetime.fromtimestamp(mtime,Â self.zh_timezone).isoformat()
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_calculate_content_hash</span>(<span class="hljs-params">self,Â content:Â <span class="hljs-built_in">str</span></span>)Â -&gt;Â <span class="hljs-built_in">str</span>:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""è®¡ç®—å†…å®¹å“ˆå¸Œå€¼"""</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â hashlib.md5(content.encode(<span class="hljs-string">'utf-8'</span>)).hexdigest()
</code></pre>
<h3 data-id="heading-6">2.4 å®Œæ•´çš„æ–‡æ¡£å¤„ç†æµæ°´çº¿</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">DocumentProcessingPipeline</span>:
Â Â Â Â <span class="hljs-string">"""æ–‡æ¡£å¤„ç†æµæ°´çº¿"""</span>
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self,Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â chunk_size:Â <span class="hljs-built_in">int</span>Â =Â <span class="hljs-number">1000</span>,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â chunk_overlap:Â <span class="hljs-built_in">int</span>Â =Â <span class="hljs-number">200</span></span>):
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â self.parserÂ =Â MultiFormatDocumentParser()
Â Â Â Â Â Â Â Â self.chunkerÂ =Â SmartChunker(chunk_size,Â chunk_overlap)
Â Â Â Â Â Â Â Â self.metadata_extractorÂ =Â MetadataExtractor()
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">process_document</span>(<span class="hljs-params">self,Â file_path:Â <span class="hljs-built_in">str</span></span>)Â -&gt;Â <span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>,Â <span class="hljs-type">Any</span>]:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""å¤„ç†å•ä¸ªæ–‡æ¡£"""</span>
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¼€å§‹å¤„ç†æ–‡æ¡£:Â <span class="hljs-subst">{file_path}</span>"</span>)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â 1.Â è§£ææ–‡æ¡£</span>
Â Â Â Â Â Â Â Â raw_documentsÂ =Â self.parser.parse_document(file_path)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-keyword">not</span>Â raw_documents:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">raise</span>Â ValueError(<span class="hljs-string">f"æ— æ³•è§£ææ–‡æ¡£:Â <span class="hljs-subst">{file_path}</span>"</span>)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â 2.Â åˆå¹¶æ‰€æœ‰é¡µé¢/éƒ¨åˆ†çš„å†…å®¹</span>
Â Â Â Â Â Â Â Â full_contentÂ =Â <span class="hljs-string">"\n\n"</span>.join([doc.page_contentÂ <span class="hljs-keyword">for</span>Â docÂ <span class="hljs-keyword">in</span>Â raw_documents])
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â 3.Â æå–æ–‡æ¡£çº§å…ƒæ•°æ®</span>
Â Â Â Â Â Â Â Â doc_typeÂ =Â os.path.splitext(file_path)[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>:].lower()
Â Â Â Â Â Â Â Â document_metadataÂ =Â self.metadata_extractor.extract_document_metadata(
Â Â Â Â Â Â Â Â Â Â Â Â full_content,Â file_path,Â doc_type
Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â 4.Â æ™ºèƒ½åˆ†å—</span>
Â Â Â Â Â Â Â Â chunksÂ =Â self.chunker.semantic_chunking(full_content,Â doc_type)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â 5.Â ä¸ºæ¯ä¸ªå—æ·»åŠ å…ƒæ•°æ®</span>
Â Â Â Â Â Â Â Â processed_chunksÂ =Â []
Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â i,Â chunk_contentÂ <span class="hljs-keyword">in</span>Â <span class="hljs-built_in">enumerate</span>(chunks):
Â Â Â Â Â Â Â Â Â Â Â Â chunk_metadataÂ =Â document_metadata.copy()
Â Â Â Â Â Â Â Â Â Â Â Â chunk_metadata.update({
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'chunk_id'</span>:Â iÂ +Â <span class="hljs-number">1</span>,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'chunk_index'</span>:Â i,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'chunk_length'</span>:Â <span class="hljs-built_in">len</span>(chunk_content),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'is_first_chunk'</span>:Â iÂ ==Â <span class="hljs-number">0</span>,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'is_last_chunk'</span>:Â iÂ ==Â <span class="hljs-built_in">len</span>(chunks)Â -Â <span class="hljs-number">1</span>,
Â Â Â Â Â Â Â Â Â Â Â Â })
Â Â Â Â Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åˆ›å»ºDocumentå¯¹è±¡</span>
Â Â Â Â Â Â Â Â Â Â Â Â chunk_docÂ =Â Document(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â page_content=chunk_content,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â metadata=chunk_metadata
Â Â Â Â Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â Â Â Â Â processed_chunks.append(chunk_doc)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ›´æ–°æ–‡æ¡£çº§å…ƒæ•°æ®</span>
Â Â Â Â Â Â Â Â document_metadata[<span class="hljs-string">'chunk_count'</span>]Â =Â <span class="hljs-built_in">len</span>(processed_chunks)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ–‡æ¡£å¤„ç†å®Œæˆ:Â <span class="hljs-subst">{file_path}</span>,Â ç”ŸæˆÂ <span class="hljs-subst">{<span class="hljs-built_in">len</span>(processed_chunks)}</span>Â ä¸ªå—"</span>)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â {
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'document_metadata'</span>:Â document_metadata,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'chunks'</span>:Â processed_chunks,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'original_path'</span>:Â file_path
Â Â Â Â Â Â Â Â }
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">process_directory</span>(<span class="hljs-params">self,Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â directory_path:Â <span class="hljs-built_in">str</span>,Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â extensions:Â <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]Â =Â <span class="hljs-literal">None</span></span>)Â -&gt;Â <span class="hljs-type">List</span>[<span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>,Â <span class="hljs-type">Any</span>]]:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""æ‰¹é‡å¤„ç†ç›®å½•ä¸­çš„æ–‡æ¡£"""</span>
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â extensionsÂ <span class="hljs-keyword">is</span>Â <span class="hljs-literal">None</span>:
Â Â Â Â Â Â Â Â Â Â Â Â extensionsÂ =Â [<span class="hljs-string">'.pdf'</span>,Â <span class="hljs-string">'.docx'</span>,Â <span class="hljs-string">'.txt'</span>,Â <span class="hljs-string">'.md'</span>,Â <span class="hljs-string">'.html'</span>]
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â all_resultsÂ =Â []
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â root,Â _,Â filesÂ <span class="hljs-keyword">in</span>Â os.walk(directory_path):
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â fileÂ <span class="hljs-keyword">in</span>Â files:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â file_pathÂ =Â os.path.join(root,Â file)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â extÂ =Â os.path.splitext(file)[<span class="hljs-number">1</span>].lower()
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â extensionsÂ <span class="hljs-keyword">and</span>Â extÂ <span class="hljs-keyword">not</span>Â <span class="hljs-keyword">in</span>Â extensions:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">continue</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â resultÂ =Â self.process_document(file_path)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â all_results.append(result)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¤„ç†æ–‡ä»¶å¤±è´¥Â <span class="hljs-subst">{file_path}</span>:Â <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">continue</span>
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç›®å½•å¤„ç†å®Œæˆï¼Œå…±å¤„ç†Â <span class="hljs-subst">{<span class="hljs-built_in">len</span>(all_results)}</span>Â ä¸ªæ–‡æ¡£"</span>)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â all_results

<span class="hljs-comment">#Â ä½¿ç”¨ç¤ºä¾‹</span>
pipelineÂ =Â DocumentProcessingPipeline(
Â Â Â Â chunk_size=<span class="hljs-number">1000</span>,
Â Â Â Â chunk_overlap=<span class="hljs-number">200</span>
)

<span class="hljs-comment">#Â å¤„ç†å•ä¸ªæ–‡æ¡£</span>
resultÂ =Â pipeline.process_document(<span class="hljs-string">"document.pdf"</span>)

<span class="hljs-comment">#Â å¤„ç†æ•´ä¸ªç›®å½•</span>
resultsÂ =Â pipeline.process_directory(
Â Â Â Â <span class="hljs-string">"./knowledge_base"</span>,
Â Â Â Â extensions=[<span class="hljs-string">'.pdf'</span>,Â <span class="hljs-string">'.docx'</span>,Â <span class="hljs-string">'.md'</span>,Â <span class="hljs-string">'.txt'</span>]
)

<span class="hljs-comment">#Â æå–æ‰€æœ‰å—</span>
all_chunksÂ =Â []
<span class="hljs-keyword">for</span>Â resultÂ <span class="hljs-keyword">in</span>Â results:
Â Â Â Â all_chunks.extend(result[<span class="hljs-string">'chunks'</span>])

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ€»å…±ç”ŸæˆÂ <span class="hljs-subst">{<span class="hljs-built_in">len</span>(all_chunks)}</span>Â ä¸ªæ–‡æœ¬å—"</span>)
</code></pre>
<h2 data-id="heading-7">ä¸‰ã€æ€§èƒ½ä¼˜åŒ–å’Œæœ€ä½³å®è·µ</h2>
<h3 data-id="heading-8">3.1 å¹¶è¡Œå¤„ç†åŠ é€Ÿ</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span>Â concurrent.futures
<span class="hljs-keyword">from</span>Â tqdmÂ <span class="hljs-keyword">import</span>Â tqdm

<span class="hljs-keyword">class</span>Â <span class="hljs-title class_">ParallelDocumentProcessor</span>:
Â Â Â Â <span class="hljs-string">"""å¹¶è¡Œæ–‡æ¡£å¤„ç†å™¨"""</span>
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self,Â max_workers:Â <span class="hljs-built_in">int</span>Â =Â <span class="hljs-number">4</span></span>):
Â Â Â Â Â Â Â Â self.pipelineÂ =Â DocumentProcessingPipeline()
Â Â Â Â Â Â Â Â self.max_workersÂ =Â max_workers
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">process_batch</span>(<span class="hljs-params">self,Â file_paths:Â <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]</span>)Â -&gt;Â <span class="hljs-type">List</span>[<span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>,Â <span class="hljs-type">Any</span>]]:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""æ‰¹é‡å¹¶è¡Œå¤„ç†æ–‡æ¡£"""</span>
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â resultsÂ =Â []
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">with</span>Â concurrent.futures.ProcessPoolExecutor(
Â Â Â Â Â Â Â Â Â Â Â Â max_workers=self.max_workers
Â Â Â Â Â Â Â Â )Â <span class="hljs-keyword">as</span>Â executor:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æäº¤ä»»åŠ¡</span>
Â Â Â Â Â Â Â Â Â Â Â Â future_to_fileÂ =Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â executor.submit(self.pipeline.process_document,Â fp):Â fpÂ 
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â fpÂ <span class="hljs-keyword">in</span>Â file_paths
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å¤„ç†ç»“æœ</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â futureÂ <span class="hljs-keyword">in</span>Â tqdm(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â concurrent.futures.as_completed(future_to_file),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â total=<span class="hljs-built_in">len</span>(file_paths),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â desc=<span class="hljs-string">"å¤„ç†æ–‡æ¡£"</span>
Â Â Â Â Â Â Â Â Â Â Â Â ):
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â file_pathÂ =Â future_to_file[future]
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â resultÂ =Â future.result()
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â results.append(result)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¤„ç†å¤±è´¥Â <span class="hljs-subst">{file_path}</span>:Â <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â results
</code></pre>
<h3 data-id="heading-9">3.2 å¢é‡æ›´æ–°å¤„ç†</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">IncrementalIndexUpdater</span>:
Â Â Â Â <span class="hljs-string">"""å¢é‡ç´¢å¼•æ›´æ–°å™¨"""</span>
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self,Â index_storage_path:Â <span class="hljs-built_in">str</span></span>):
Â Â Â Â Â Â Â Â self.index_storage_pathÂ =Â index_storage_path
Â Â Â Â Â Â Â Â self.processed_filesÂ =Â self._load_processed_files()
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_load_processed_files</span>(<span class="hljs-params">self</span>)Â -&gt;Â <span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>,Â <span class="hljs-built_in">str</span>]:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""åŠ è½½å·²å¤„ç†æ–‡ä»¶è®°å½•"""</span>
Â Â Â Â Â Â Â Â record_fileÂ =Â os.path.join(self.index_storage_path,Â <span class="hljs-string">"processed_files.json"</span>)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â os.path.exists(record_file):
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">with</span>Â <span class="hljs-built_in">open</span>(record_file,Â <span class="hljs-string">'r'</span>,Â encoding=<span class="hljs-string">'utf-8'</span>)Â <span class="hljs-keyword">as</span>Â f:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â json.load(f)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â {}
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_save_processed_files</span>(<span class="hljs-params">self</span>):
Â Â Â Â Â Â Â Â <span class="hljs-string">"""ä¿å­˜å·²å¤„ç†æ–‡ä»¶è®°å½•"""</span>
Â Â Â Â Â Â Â Â record_fileÂ =Â os.path.join(self.index_storage_path,Â <span class="hljs-string">"processed_files.json"</span>)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">with</span>Â <span class="hljs-built_in">open</span>(record_file,Â <span class="hljs-string">'w'</span>,Â encoding=<span class="hljs-string">'utf-8'</span>)Â <span class="hljs-keyword">as</span>Â f:
Â Â Â Â Â Â Â Â Â Â Â Â json.dump(self.processed_files,Â f,Â ensure_ascii=<span class="hljs-literal">False</span>,Â indent=<span class="hljs-number">2</span>)
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">get_changed_files</span>(<span class="hljs-params">self,Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â directory_path:Â <span class="hljs-built_in">str</span>,Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â extensions:Â <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]Â =Â <span class="hljs-literal">None</span></span>)Â -&gt;Â <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""è·å–æœ‰å˜åŒ–çš„æ–‡ä»¶"""</span>
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â changed_filesÂ =Â []
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â root,Â _,Â filesÂ <span class="hljs-keyword">in</span>Â os.walk(directory_path):
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â fileÂ <span class="hljs-keyword">in</span>Â files:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â file_pathÂ =Â os.path.join(root,Â file)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â extÂ =Â os.path.splitext(file)[<span class="hljs-number">1</span>].lower()
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â extensionsÂ <span class="hljs-keyword">and</span>Â extÂ <span class="hljs-keyword">not</span>Â <span class="hljs-keyword">in</span>Â extensions:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">continue</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å·²å¤„ç†æˆ–æœ‰æ›´æ–°</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â file_hashÂ =Â self._calculate_file_hash(file_path)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (file_pathÂ <span class="hljs-keyword">not</span>Â <span class="hljs-keyword">in</span>Â self.processed_filesÂ <span class="hljs-keyword">or</span>Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â self.processed_files[file_path]Â !=Â file_hash):
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â changed_files.append(file_path)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â self.processed_files[file_path]Â =Â file_hash
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â changed_files
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_calculate_file_hash</span>(<span class="hljs-params">self,Â file_path:Â <span class="hljs-built_in">str</span></span>)Â -&gt;Â <span class="hljs-built_in">str</span>:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""è®¡ç®—æ–‡ä»¶å“ˆå¸Œ"""</span>
Â Â Â Â Â Â Â Â hasherÂ =Â hashlib.md5()
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">with</span>Â <span class="hljs-built_in">open</span>(file_path,Â <span class="hljs-string">'rb'</span>)Â <span class="hljs-keyword">as</span>Â f:
Â Â Â Â Â Â Â Â Â Â Â Â bufÂ =Â f.read(<span class="hljs-number">65536</span>)
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">while</span>Â <span class="hljs-built_in">len</span>(buf)Â &gt;Â <span class="hljs-number">0</span>:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â hasher.update(buf)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â bufÂ =Â f.read(<span class="hljs-number">65536</span>)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â hasher.hexdigest()
</code></pre>
<h2 data-id="heading-10">å››ã€å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-11">é—®é¢˜1ï¼šæ–‡æ¡£æ ¼å¼å…¼å®¹æ€§</h3>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šä½¿ç”¨å¤šä¸ªè§£æåº“ï¼Œå¹¶å®ç°é™çº§ç­–ç•¥</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span>Â <span class="hljs-title function_">robust_pdf_parsing</span>(<span class="hljs-params">file_path:Â <span class="hljs-built_in">str</span></span>):
Â Â Â Â <span class="hljs-string">"""é²æ£’çš„PDFè§£æ"""</span>
Â Â Â Â parsersÂ =Â [PyPDFLoader,Â UnstructuredPDFLoader]
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">for</span>Â parser_classÂ <span class="hljs-keyword">in</span>Â parsers:
Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>:
Â Â Â Â Â Â Â Â Â Â Â Â loaderÂ =Â parser_class(file_path)
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â loader.load()
Â Â Â Â Â Â Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">continue</span>
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">#Â é™çº§åˆ°æ–‡æœ¬æå–</span>
Â Â Â Â <span class="hljs-keyword">try</span>:
Â Â Â Â Â Â Â Â <span class="hljs-keyword">import</span>Â textract
Â Â Â Â Â Â Â Â textÂ =Â textract.process(file_path).decode(<span class="hljs-string">'utf-8'</span>)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â [Document(page_content=text,Â metadata={<span class="hljs-string">'source'</span>:Â file_path})]
Â Â Â Â <span class="hljs-keyword">except</span>:
Â Â Â Â Â Â Â Â <span class="hljs-keyword">raise</span>Â ValueError(<span class="hljs-string">f"æ— æ³•è§£æPDFæ–‡ä»¶:Â <span class="hljs-subst">{file_path}</span>"</span>)
</code></pre>
<h3 data-id="heading-12">é—®é¢˜2ï¼šä¸­æ–‡æ–‡æ¡£åˆ†å—æ•ˆæœä¸ä½³</h3>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šä½¿ç”¨ä¸“é—¨çš„ä¸­æ–‡åˆ†å—å™¨</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">ChineseTextSplitter</span>:
Â Â Â Â <span class="hljs-string">"""ä¸­æ–‡æ–‡æœ¬åˆ†å—å™¨"""</span>
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self,Â chunk_size=<span class="hljs-number">500</span>,Â chunk_overlap=<span class="hljs-number">50</span></span>):
Â Â Â Â Â Â Â Â self.chunk_sizeÂ =Â chunk_size
Â Â Â Â Â Â Â Â self.chunk_overlapÂ =Â chunk_overlap
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">split_text</span>(<span class="hljs-params">self,Â text:Â <span class="hljs-built_in">str</span></span>)Â -&gt;Â <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]:
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ä½¿ç”¨ä¸­æ–‡æ ‡ç‚¹è¿›è¡Œåˆ†å‰²</span>
Â Â Â Â Â Â Â Â separatorsÂ =Â [<span class="hljs-string">'\n\n'</span>,Â <span class="hljs-string">'\n'</span>,Â <span class="hljs-string">'ã€‚'</span>,Â <span class="hljs-string">'ï¼'</span>,Â <span class="hljs-string">'ï¼Ÿ'</span>,Â <span class="hljs-string">'ï¼›'</span>,Â <span class="hljs-string">'â€¦â€¦'</span>,Â <span class="hljs-string">'â€¦'</span>,Â <span class="hljs-string">'ï¼Œ'</span>,Â <span class="hljs-string">'ã€'</span>]
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â chunksÂ =Â []
Â Â Â Â Â Â Â Â current_chunkÂ =Â <span class="hljs-string">""</span>
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æŒ‰å¥å­åˆ†å‰²</span>
Â Â Â Â Â Â Â Â sentencesÂ =Â self._split_into_sentences(text)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â sentenceÂ <span class="hljs-keyword">in</span>Â sentences:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-built_in">len</span>(current_chunk)Â +Â <span class="hljs-built_in">len</span>(sentence)Â &lt;=Â self.chunk_size:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â current_chunkÂ +=Â sentence
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">else</span>:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â current_chunk:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â chunks.append(current_chunk)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â current_chunkÂ =Â sentence
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â current_chunk:
Â Â Â Â Â Â Â Â Â Â Â Â chunks.append(current_chunk)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â chunks
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_split_into_sentences</span>(<span class="hljs-params">self,Â text:Â <span class="hljs-built_in">str</span></span>)Â -&gt;Â <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""å°†ä¸­æ–‡æ–‡æœ¬åˆ†å‰²æˆå¥å­"""</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">import</span>Â re
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ä¸­æ–‡å¥å­åˆ†å‰²è§„åˆ™</span>
Â Â Â Â Â Â Â Â patternÂ =Â <span class="hljs-string">r'([ã€‚ï¼ï¼Ÿï¼›â€¦]+\s*)'</span>
Â Â Â Â Â Â Â Â partsÂ =Â re.split(pattern,Â text)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â sentencesÂ =Â []
Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â iÂ <span class="hljs-keyword">in</span>Â <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>,Â <span class="hljs-built_in">len</span>(parts)-<span class="hljs-number">1</span>,Â <span class="hljs-number">2</span>):
Â Â Â Â Â Â Â Â Â Â Â Â sentenceÂ =Â parts[i]Â +Â (parts[i+<span class="hljs-number">1</span>]Â <span class="hljs-keyword">if</span>Â i+<span class="hljs-number">1</span>Â &lt;Â <span class="hljs-built_in">len</span>(parts)Â <span class="hljs-keyword">else</span>Â <span class="hljs-string">''</span>)
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â sentence.strip():
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â sentences.append(sentence)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â sentences
</code></pre>
<h2 data-id="heading-13">äº”ã€å®æˆ˜ï¼šæ„å»ºå®Œæ•´çš„RAGç´¢å¼•ç³»ç»Ÿ</h2>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">CompleteRAGIndexer</span>:
Â Â Â Â <span class="hljs-string">"""å®Œæ•´çš„RAGç´¢å¼•æ„å»ºç³»ç»Ÿ"""</span>
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self,Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â embedding_model=<span class="hljs-literal">None</span>,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â vector_store=<span class="hljs-literal">None</span></span>):
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â self.pipelineÂ =Â DocumentProcessingPipeline()
Â Â Â Â Â Â Â Â self.parallel_processorÂ =Â ParallelDocumentProcessor()
Â Â Â Â Â Â Â Â self.updaterÂ =Â IncrementalIndexUpdater(<span class="hljs-string">"./vector_store"</span>)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â self.embedding_modelÂ =Â embedding_model
Â Â Â Â Â Â Â Â self.vector_storeÂ =Â vector_store
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">build_index</span>(<span class="hljs-params">self,Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â knowledge_base_path:Â <span class="hljs-built_in">str</span>,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â incremental:Â <span class="hljs-built_in">bool</span>Â =Â <span class="hljs-literal">True</span></span>)Â -&gt;Â <span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>,Â <span class="hljs-type">Any</span>]:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""æ„å»ºçŸ¥è¯†åº“ç´¢å¼•"""</span>
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"å¼€å§‹æ„å»ºRAGç´¢å¼•..."</span>)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â 1.Â è·å–éœ€è¦å¤„ç†çš„æ–‡ä»¶</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â incremental:
Â Â Â Â Â Â Â Â Â Â Â Â files_to_processÂ =Â self.updater.get_changed_files(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â knowledge_base_path,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â extensions=[<span class="hljs-string">'.pdf'</span>,Â <span class="hljs-string">'.docx'</span>,Â <span class="hljs-string">'.md'</span>,Â <span class="hljs-string">'.txt'</span>,Â <span class="hljs-string">'.html'</span>]
Â Â Â Â Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¢é‡æ›´æ–°:Â å‘ç°Â <span class="hljs-subst">{<span class="hljs-built_in">len</span>(files_to_process)}</span>Â ä¸ªå˜æ›´æ–‡ä»¶"</span>)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">else</span>:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è·å–æ‰€æœ‰æ–‡ä»¶</span>
Â Â Â Â Â Â Â Â Â Â Â Â all_filesÂ =Â []
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â root,Â _,Â filesÂ <span class="hljs-keyword">in</span>Â os.walk(knowledge_base_path):
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â fileÂ <span class="hljs-keyword">in</span>Â files:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â file.lower().endswith((<span class="hljs-string">'.pdf'</span>,Â <span class="hljs-string">'.docx'</span>,Â <span class="hljs-string">'.md'</span>,Â <span class="hljs-string">'.txt'</span>,Â <span class="hljs-string">'.html'</span>)):
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â all_files.append(os.path.join(root,Â file))
Â Â Â Â Â Â Â Â Â Â Â Â files_to_processÂ =Â all_files
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-keyword">not</span>Â files_to_process:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ²¡æœ‰éœ€è¦å¤„ç†çš„æ–‡ä»¶"</span>)
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â {<span class="hljs-string">'status'</span>:Â <span class="hljs-string">'no_changes'</span>,Â <span class="hljs-string">'chunks'</span>:Â []}
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â 2.Â å¹¶è¡Œå¤„ç†æ–‡æ¡£</span>
Â Â Â Â Â Â Â Â processing_resultsÂ =Â self.parallel_processor.process_batch(files_to_process)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â 3.Â æå–æ‰€æœ‰æ–‡æœ¬å—</span>
Â Â Â Â Â Â Â Â all_chunksÂ =Â []
Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â resultÂ <span class="hljs-keyword">in</span>Â processing_results:
Â Â Â Â Â Â Â Â Â Â Â Â all_chunks.extend(result[<span class="hljs-string">'chunks'</span>])
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ€»å…±ç”ŸæˆÂ <span class="hljs-subst">{<span class="hljs-built_in">len</span>(all_chunks)}</span>Â ä¸ªæ–‡æœ¬å—"</span>)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â 4.Â ç”Ÿæˆå‘é‡åµŒå…¥</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â self.embedding_modelÂ <span class="hljs-keyword">and</span>Â self.vector_store:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"å¼€å§‹ç”Ÿæˆå‘é‡åµŒå…¥..."</span>)
Â Â Â Â Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â Â Â Â Â textsÂ =Â [chunk.page_contentÂ <span class="hljs-keyword">for</span>Â chunkÂ <span class="hljs-keyword">in</span>Â all_chunks]
Â Â Â Â Â Â Â Â Â Â Â Â metadatasÂ =Â [chunk.metadataÂ <span class="hljs-keyword">for</span>Â chunkÂ <span class="hljs-keyword">in</span>Â all_chunks]
Â Â Â Â Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â Â Â Â Â embeddingsÂ =Â self.embedding_model.embed_documents(texts)
Â Â Â Â Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å­˜å‚¨åˆ°å‘é‡æ•°æ®åº“</span>
Â Â Â Â Â Â Â Â Â Â Â Â self.vector_store.add_embeddings(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â texts=texts,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â embeddings=embeddings,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â metadatas=metadatas
Â Â Â Â Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"å‘é‡ç´¢å¼•æ„å»ºå®Œæˆ"</span>)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â 5.Â ä¿å­˜å¤„ç†è®°å½•</span>
Â Â Â Â Â Â Â Â self.updater._save_processed_files()
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â {
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'status'</span>:Â <span class="hljs-string">'success'</span>,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'total_chunks'</span>:Â <span class="hljs-built_in">len</span>(all_chunks),
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'processed_files'</span>:Â <span class="hljs-built_in">len</span>(files_to_process),
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'chunks'</span>:Â all_chunks
Â Â Â Â Â Â Â Â }

<span class="hljs-comment">#Â ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">if</span>Â __name__Â ==Â <span class="hljs-string">"__main__"</span>:
Â Â Â Â <span class="hljs-comment">#Â åˆå§‹åŒ–ç»„ä»¶</span>
Â Â Â Â <span class="hljs-keyword">from</span>Â langchain.embeddingsÂ <span class="hljs-keyword">import</span>Â OpenAIEmbeddings
Â Â Â Â <span class="hljs-keyword">from</span>Â langchain.vectorstoresÂ <span class="hljs-keyword">import</span>Â Chroma
Â Â Â Â 
Â Â Â Â embedding_modelÂ =Â OpenAIEmbeddings()
Â Â Â Â vector_storeÂ =Â Chroma(
Â Â Â Â Â Â Â Â persist_directory=<span class="hljs-string">"./chroma_db"</span>,
Â Â Â Â Â Â Â Â embedding_function=embedding_model
Â Â Â Â )
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">#Â æ„å»ºç´¢å¼•</span>
Â Â Â Â indexerÂ =Â CompleteRAGIndexer(
Â Â Â Â Â Â Â Â embedding_model=embedding_model,
Â Â Â Â Â Â Â Â vector_store=vector_store
Â Â Â Â )
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">#Â é¦–æ¬¡å…¨é‡æ„å»º</span>
Â Â Â Â resultÂ =Â indexer.build_index(
Â Â Â Â Â Â Â Â knowledge_base_path=<span class="hljs-string">"./knowledge_base"</span>,
Â Â Â Â Â Â Â Â incremental=<span class="hljs-literal">False</span>
Â Â Â Â )
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">#Â åç»­å¢é‡æ›´æ–°</span>
Â Â Â Â resultÂ =Â indexer.build_index(
Â Â Â Â Â Â Â Â knowledge_base_path=<span class="hljs-string">"./knowledge_base"</span>,
Â Â Â Â Â Â Â Â incremental=<span class="hljs-literal">True</span>
Â Â Â Â )
</code></pre>
<h2 data-id="heading-14">å…­ã€æ€»ç»“ä¸å±•æœ›</h2>
<p>æ–‡æ¡£è§£ææ˜¯RAGç³»ç»Ÿçš„åŸºçŸ³ï¼Œä¸€ä¸ªä¼˜ç§€çš„è§£æç³»ç»Ÿåº”è¯¥å…·å¤‡ï¼š</p>
<ol>
<li>1.Â <strong>å¤šæ ¼å¼æ”¯æŒ</strong>ï¼šèƒ½å¤„ç†å„ç§å¸¸è§æ–‡æ¡£æ ¼å¼</li>
<li>2.Â <strong>æ™ºèƒ½åˆ†å—</strong>ï¼šç†è§£æ–‡æ¡£ç»“æ„ï¼Œä¿æŒè¯­ä¹‰å®Œæ•´æ€§</li>
<li>3.Â <strong>ä¸°å¯Œå…ƒæ•°æ®</strong>ï¼šæå–æœ‰ç”¨ä¿¡æ¯è¾…åŠ©æ£€ç´¢</li>
<li>4.Â <strong>é«˜æ•ˆå¤„ç†</strong>ï¼šæ”¯æŒå¹¶è¡Œå’Œå¢é‡æ›´æ–°</li>
<li>5.Â <strong>é²æ£’æ€§</strong>ï¼šèƒ½å¤„ç†å„ç§å¼‚å¸¸æƒ…å†µ</li>
</ol>
<p>éšç€å¤§æ¨¡å‹æŠ€æœ¯çš„å‘å±•ï¼Œæœªæ¥çš„æ–‡æ¡£è§£æä¼šæ›´åŠ æ™ºèƒ½åŒ–ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>â€¢ ä½¿ç”¨è§†è§‰æ¨¡å‹è§£æå¤æ‚ç‰ˆå¼</li>
<li>â€¢ åˆ©ç”¨å¤§æ¨¡å‹ç†è§£æ–‡æ¡£è¯­ä¹‰ç»“æ„</li>
<li>â€¢ è‡ªåŠ¨è¯†åˆ«æ–‡æ¡£ç±»å‹å’Œé¢†åŸŸ</li>
<li>â€¢ æ™ºèƒ½æå–è¡¨æ ¼ã€å›¾è¡¨ç­‰éæ–‡æœ¬å†…å®¹</li>
</ul>
<p>å¸Œæœ›æœ¬æ–‡å¯¹ä½ æ„å»ºè‡ªå·±çš„RAGç³»ç»Ÿæœ‰æ‰€å¸®åŠ©ï¼è®°ä½ï¼Œå¥½çš„å¼€å§‹æ˜¯æˆåŠŸçš„ä¸€åŠï¼Œç²¾å¿ƒè®¾è®¡çš„æ–‡æ¡£è§£ææµç¨‹ä¼šè®©ä½ çš„RAGç³»ç»Ÿäº‹åŠåŠŸå€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[HarmonyOSä¸€æ¯å†°ç¾å¼çš„æ—¶é—´ -- FullScreenLaunchComponent]]></title>    <link>https://juejin.cn/post/7593338828195577896</link>    <guid>https://juejin.cn/post/7593338828195577896</guid>    <pubDate>2026-01-09T15:58:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593338828195577896" data-draft-id="7593187953272160256" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="HarmonyOSä¸€æ¯å†°ç¾å¼çš„æ—¶é—´ -- FullScreenLaunchComponent"/> <meta itemprop="keywords" content="HarmonyOS"/> <meta itemprop="datePublished" content="2026-01-09T15:58:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çŒ«çŒ«å¤´å•Š"/> <meta itemprop="url" content="https://juejin.cn/user/1283876003519357"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            HarmonyOSä¸€æ¯å†°ç¾å¼çš„æ—¶é—´ -- FullScreenLaunchComponent
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1283876003519357/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çŒ«çŒ«å¤´å•Š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T15:58:51.000Z" title="Fri Jan 09 2026 15:58:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å‰è¨€</h2>
<p>æœ€è¿‘åœ¨å¼€å‘ä¸­ï¼Œæˆ‘ä»¬çš„å…ƒæœåŠ¡éœ€è¦è¢«å…¶ä»–åº”ç”¨é€šè¿‡FullScreenLaunchComponentæ‹‰èµ·ï¼Œæˆ‘åªèƒ½è¯´å½“æ—¶ä¸Šäº†5.0çš„å½“ï¼ŒFullScreenLaunchComponentä¹Ÿæ˜¯Betaç‰ˆæœ¬çš„ï¼åœ¨å®é™…å¼€å‘ä¸­ä½œä¸ºç¢°äº†å‡ æ¬¡ç°ï¼Œè¸©äº†ä¸å°‘å‘ï¼Œè§‰å¾—æœ‰å¿…è¦åˆ†äº«ä¸‹ï¼Œæ•…æœ‰äº†æ­¤ç¯‡æ–‡ç« ã€‚</p>
<p>è¯¥ç³»åˆ—ä¾æ—§ä¼šå¸¦ç€å¤§å®¶ï¼Œäº†è§£ï¼Œå¼€é˜”ä¸€äº›ä¸æ€ä¹ˆçƒ­é—¨çš„APIï¼Œä¹Ÿå¯èƒ½æ˜¯å·å·è¢«æ›´æ–°çš„APIï¼Œä¹Ÿå¯ä»¥æ˜¯å¥½ç©çš„ï¼Œè—åœ¨å®˜æ–¹æ–‡æ¡£çš„è¾¹è¾¹è§’è§’~å½“ç„¶ä¹Ÿä¼šæœ‰ä¸€äº›APIï¼Œä¹‹å‰æ˜¯æˆ‘ä»¬è¾›è¾›è‹¦è‹¦çš„æ‰‹æ’¸ä»£ç ï¼Œç°åœ¨æœ‰ä¸€ä¸ªAPIèƒ½å¸®æˆ‘ä»¬å¿«é€Ÿå®ç°çš„ï¼Œå¸Œæœ›å¤§å®¶èƒ½æ‰¾å®è—ã€‚</p>
<p>å¦‚æœæ‚¨æœ‰ä»»ä½•ç–‘é—®ã€å¯¹æ–‡ç« å†™çš„ä¸æ»¡æ„ã€å‘ç°é”™è¯¯æˆ–è€…æœ‰æ›´å¥½çš„æ–¹æ³•ï¼Œæ¬¢è¿åœ¨è¯„è®ºã€ç§ä¿¡æˆ–é‚®ä»¶ä¸­æå‡ºï¼Œéå¸¸æ„Ÿè°¢æ‚¨çš„æ”¯æŒã€‚ğŸ™</p>
<h2 data-id="heading-1">äºŒã€FullScreenLaunchComponentçš„è¯ç”ŸèƒŒæ™¯</h2>
<p>OKï¼Œæ­¥å…¥æ­£é¢˜æŠŠï¼Œåœ¨HarmonyOSå¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šéœ€è¦åœ¨ä¸€ä¸ªåº”ç”¨ä¸­åµŒå…¥å¦ä¸€ä¸ªåº”ç”¨çš„èƒ½åŠ›ã€‚æ¯”å¦‚ï¼Œä½ çš„åº”ç”¨æƒ³è¦ä½¿ç”¨æŸä¸ªå…ƒæœåŠ¡æä¾›çš„åŠŸèƒ½ï¼Œä½†åˆä¸æƒ³è®©ç”¨æˆ·è·³è½¬åˆ°å¦ä¸€ä¸ªåº”ç”¨ï¼Œè€Œæ˜¯å¸Œæœ›åœ¨è‡ªå·±çš„åº”ç”¨å†…æ— ç¼ä½¿ç”¨è¿™ä¸ªèƒ½åŠ›ã€‚</p>
<p>ä»¥å‰æˆ‘ä»¬å¯èƒ½éœ€è¦é€šè¿‡è·³è½¬çš„æ–¹å¼æ‹‰èµ·å¦ä¸€ä¸ªåº”ç”¨ï¼Œè¿™æ ·ç”¨æˆ·ä½“éªŒå°±ä¸å¤Ÿæµç•…ã€‚FullScreenLaunchComponentå°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜è€Œç”Ÿçš„ï¼Œå®ƒå…è®¸æˆ‘ä»¬ä»¥å…¨å±æ–¹å¼æ‹‰èµ·å…ƒæœåŠ¡ï¼Œä½¿å¾—åº”ç”¨èƒ½å¤Ÿæä¾›æ›´å‹å¥½çš„ç”¨æˆ·ä½“éªŒã€‚è™½ç„¶æˆ‘ä¸æ˜¯å¾ˆå–œæ¬¢è¿™ä¸ªèƒ½åŠ›ï¼Œå› ä¸ºçœŸçš„å‘åˆ°æˆ‘äº†ã€‚</p>
<h3 data-id="heading-2">1. ä»€ä¹ˆæ˜¯FullScreenLaunchComponent</h3>
<p>FullScreenLaunchComponentæ˜¯ç”±ArkUIæä¾›çš„ç»„ä»¶ï¼Œç®€å•æ¥è¯´ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ª"å®¹å™¨"ï¼Œå¯ä»¥åµŒå…¥è¿è¡Œå¦ä¸€ä¸ªå…ƒæœåŠ¡çš„UIã€‚</p>
<p>å½“è¢«æ‹‰èµ·æ–¹æˆæƒä½¿ç”¨æ–¹åº”ç”¨åµŒå…¥å¼è¿è¡Œå…ƒæœåŠ¡æ—¶ï¼Œä½¿ç”¨æ–¹åº”ç”¨å¯å…¨å±åµŒå…¥å¼è¿è¡Œè¯¥æœåŠ¡ï¼›è‹¥æœªæˆæƒï¼Œåˆ™ä½¿ç”¨æ–¹åº”ç”¨å°†ä»¥è·³å‡ºå¼æ–¹å¼æ‹‰èµ·å…ƒæœåŠ¡ã€‚</p>
<h2 data-id="heading-3">ä¸‰ã€åŸºæœ¬ä½¿ç”¨</h2>
<h3 data-id="heading-4">1. ç‰ˆæœ¬è¯´æ˜</h3>
<ul>
<li>è¯¥ç»„ä»¶ä»API version 12å¼€å§‹æ”¯æŒ</li>
<li>è¯¥ç»„ä»¶ä¸æ”¯æŒåœ¨Wearableè®¾å¤‡ä¸Šä½¿ç”¨ï¼ˆçœŸçš„éœ€è¦åœ¨ç©¿æˆ´è®¾å¤‡ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½å—ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼‰</li>
<li>5.0å’Œ6.0çš„è¡¨ç°éå¸¸ä¸ä¸€æ ·ï¼</li>
</ul>
<h3 data-id="heading-5">2. ä½¿ç”¨æ–¹æ¥å…¥</h3>
<p>ä½¿ç”¨æ–¹æ¥å…¥éå¸¸ç®€å•ï¼Œåªéœ€è¦å‡ è¡Œä»£ç å°±èƒ½æå®šï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FullScreenLaunchComponent</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;

<span class="hljs-meta">@Entry</span>
<span class="hljs-meta">@Component</span>
struct <span class="hljs-title class_">Index</span> {
  <span class="hljs-meta">@State</span> <span class="hljs-attr">appId</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">'XXXXX'</span>; <span class="hljs-comment">// å…ƒæœåŠ¡appId</span>

  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Row</span>() {
      <span class="hljs-title class_">Column</span>() {
        <span class="hljs-title class_">FullScreenLaunchComponent</span>({
          <span class="hljs-attr">content</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">ColumnChild</span>,  <span class="hljs-comment">// å ä½å›¾æ ‡ç»„ä»¶</span>
          <span class="hljs-attr">appId</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">appId</span>,     <span class="hljs-comment">// å…ƒæœåŠ¡appId</span>
          <span class="hljs-attr">options</span>: {},           <span class="hljs-comment">// æ‹‰èµ·å‚æ•°</span>
          <span class="hljs-attr">onTerminated</span>: <span class="hljs-function">(<span class="hljs-params">info</span>) =&gt;</span> {
            <span class="hljs-comment">// å…ƒæœåŠ¡é€€å‡ºæ—¶çš„å›è°ƒ</span>
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`onTerminated code: <span class="hljs-subst">${info.code.toString()}</span>`</span>);
          },
          <span class="hljs-attr">onError</span>: <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
            <span class="hljs-comment">// å‘ç”Ÿå¼‚å¸¸æ—¶çš„å›è°ƒ</span>
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`onError code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);
          },
          <span class="hljs-attr">onReceive</span>: <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
            <span class="hljs-comment">// æ¥æ”¶å…ƒæœåŠ¡ä¼ é€’çš„æ•°æ®</span>
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`onReceive, data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>`</span>);
          }
        }).<span class="hljs-title function_">width</span>(<span class="hljs-string">"80vp"</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">"80vp"</span>)
      }
      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)
    }
    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)
  }
}

<span class="hljs-comment">// å ä½å›¾æ ‡ï¼Œç‚¹å‡»åæ‹‰èµ·å…ƒæœåŠ¡</span>
<span class="hljs-meta">@Builder</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">ColumnChild</span>(<span class="hljs-params"/>) {
  <span class="hljs-title class_">Column</span>() {
    <span class="hljs-title class_">Image</span>($r(<span class="hljs-string">'app.media.startIcon'</span>))
    <span class="hljs-title class_">Text</span>(<span class="hljs-string">'test'</span>)
  }
}
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œæ¥å…¥ç¡®å®éå¸¸æ–¹ä¾¿ï¼åªéœ€è¦ï¼š</p>
<ol>
<li>å¯¼å…¥<code>FullScreenLaunchComponent</code></li>
<li>ä¼ å…¥<code>appId</code>ï¼ˆå…ƒæœåŠ¡çš„å”¯ä¸€æ ‡è¯†ï¼‰</li>
<li>ä¼ å…¥<code>content</code>ï¼ˆå ä½å›¾æ ‡ç»„ä»¶ï¼‰</li>
<li>å¯é€‰ï¼šè®¾ç½®å›è°ƒå‡½æ•°</li>
</ol>
<h3 data-id="heading-6">3. æä¾›æ–¹å®ç°</h3>
<p>æä¾›æ–¹éœ€è¦ç»§æ‰¿<code>EmbeddableUIAbility</code>ï¼Œè¿™æ˜¯<strong>å¿…é¡»</strong>çš„ï¼å¦åˆ™ç³»ç»Ÿæ— æ³•ä¿è¯å…ƒæœåŠ¡åŠŸèƒ½æ­£å¸¸(åˆšå¼€å§‹ï¼Œä½ ç»§æ‰¿æˆ–è€…ä¸ç»§æ‰¿ï¼Œéƒ½ä¸å½±å“ä¸æ­£å¸¸...)ã€‚</p>
<p>æä¾›æ–¹å…¥å£æ–‡ä»¶ï¼š<code>/src/main/ets/entryability/EntryAbility.ets</code></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AbilityConstant</span>, <span class="hljs-title class_">Want</span>, <span class="hljs-title class_">EmbeddableUIAbility</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;
<span class="hljs-keyword">import</span> { hilog } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.PerformanceAnalysisKit'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-variable language_">window</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">DOMAIN</span> = <span class="hljs-number">0x0000</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntryAbility</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">EmbeddableUIAbility</span> {
  storage = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LocalStorage</span>();
  
  <span class="hljs-title function_">onCreate</span>(<span class="hljs-attr">want</span>: <span class="hljs-title class_">Want</span>, <span class="hljs-attr">launchParam</span>: <span class="hljs-title class_">AbilityConstant</span>.<span class="hljs-property">LaunchParam</span>): <span class="hljs-built_in">void</span> {
    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">DOMAIN</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onCreate'</span>);
  }

  <span class="hljs-title function_">onDestroy</span>(): <span class="hljs-built_in">void</span> {
    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">DOMAIN</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onDestroy'</span>);
  }

  <span class="hljs-title function_">onWindowStageCreate</span>(<span class="hljs-attr">windowStage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">WindowStage</span>): <span class="hljs-built_in">void</span> {
    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">DOMAIN</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onWindowStageCreate'</span>);
    <span class="hljs-comment">// âš ï¸ é‡è¦ï¼šæ­£å¸¸å¼€å‘ä¸­getMainWindowSyncå¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼Œä½†å¦‚æœéœ€è¦æä¾›ç»™FullScreenLaunchComponentï¼Œ</span>
    <span class="hljs-comment">// åœ¨FullScreenLaunchComponentåœºæ™¯ä¸‹getMainWindowSyncä¼šå´©æºƒï¼Œå¿…é¡»ä½¿ç”¨try-catchï¼Œè™½ç„¶ä½ ä¹Ÿæ‹¿ä¸åˆ°ï¼Œç¬‘æ­»äº†ã€‚</span>
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">let</span> mainWindow = windowStage.<span class="hljs-title function_">getMainWindowSync</span>();
    <span class="hljs-comment">//TODO åšç‚¹ä»€ä¹ˆ</span>
    } <span class="hljs-keyword">catch</span> (err) {
      hilog.<span class="hljs-title function_">error</span>(<span class="hljs-variable constant_">DOMAIN</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'getMainWindowSync failed: %{public}s'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));
    }
    windowStage.<span class="hljs-title function_">loadContent</span>(<span class="hljs-string">'pages/Index'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">storage</span>);
  }

  <span class="hljs-title function_">onWindowStageDestroy</span>(): <span class="hljs-built_in">void</span> {
    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">DOMAIN</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onWindowStageDestroy'</span>);
  }

  <span class="hljs-title function_">onForeground</span>(): <span class="hljs-built_in">void</span> {
    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">DOMAIN</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onForeground'</span>);
  }

  <span class="hljs-title function_">onBackground</span>(): <span class="hljs-built_in">void</span> {
    hilog.<span class="hljs-title function_">info</span>(<span class="hljs-variable constant_">DOMAIN</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">'%{public}s'</span>, <span class="hljs-string">'Ability onBackground'</span>);
  }
}
</code></pre>
<h2 data-id="heading-7">å››ã€å®é™…å¼€å‘ä¸­çš„å‘ç‚¹</h2>
<p>ä»¥ä¸‹é—®é¢˜éƒ½æ˜¯æˆ‘ä»¬åœ¨ä½œä¸ºæä¾›æ–¹å¼€å‘æ—¶é‡åˆ°çš„ï¼Œå¦‚æœä½ æ˜¯ä½¿ç”¨æ–¹ï¼Œå¯èƒ½ä¸ä¼šé‡åˆ°è¿™äº›é—®é¢˜ï¼Œä½†äº†è§£è¿™äº›é™åˆ¶ä¹Ÿæœ‰åŠ©äºæ›´å¥½åœ°ä½¿ç”¨FullScreenLaunchComponentã€‚</p>
<h3 data-id="heading-8">1. çŠ¶æ€æ é«˜åº¦è·å–é—®é¢˜</h3>
<p>åœ¨HarmonyOS 6.0ä¹‹å‰ï¼Œæˆ‘ä»¬åœ¨EmbeddableUIAbilityä¸­é¡¶éƒ¨çš„çŠ¶æ€æ é«˜åº¦æ²¡æœ‰åŠæ³•æ­£ç¡®çš„è·å–ã€‚è¿™ä¸ªé—®é¢˜å¾ˆéšè”½ï¼Œå› ä¸ºä¸ä¼šæŠ¥é”™ï¼Œåªæ˜¯è·å–åˆ°çš„å€¼ä¸å¯¹ï¼Œå¯¼è‡´UIå¸ƒå±€å‡ºç°é—®é¢˜ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<p>åœ¨6.0ä¹‹å‰ï¼Œæˆ‘ç›´æ¥ä½¿ç”¨äº†å›ºå®šçš„å€¼ã€‚è™½ç„¶ä¸å¤Ÿä¼˜é›…ï¼Œä½†è¿™æ˜¯æœ€ç¨³å¦¥çš„æ–¹æ¡ˆã€‚å¦‚æœä½ çš„åº”ç”¨éœ€è¦é€‚é…å¤šä¸ªç‰ˆæœ¬ï¼Œå»ºè®®å°è£…ä¸€ä¸ªå·¥å…·æ–¹æ³•æ¥å¤„ç†çŠ¶æ€æ é«˜åº¦çš„è·å–ï¼Œé¿å…åœ¨ä¸åŒç‰ˆæœ¬ä¸Šå‡ºç°æ˜¾ç¤ºé—®é¢˜ã€‚</p>
<h3 data-id="heading-9">2. Windowç›¸å…³APIçš„å¼‚å¸¸å¤„ç†</h3>
<p>åœ¨æ­£å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šä½¿ç”¨<code>windowStage.getMainWindowSync()</code>æ¥è·å–ä¸»çª—å£ï¼Œè¿™ä¸ªæ–¹æ³•åœ¨æ™®é€šåœºæ™¯ä¸‹æ˜¯å¯ä»¥æ­£å¸¸å·¥ä½œçš„ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ çš„å…ƒæœåŠ¡éœ€è¦æä¾›ç»™FullScreenLaunchComponentä½¿ç”¨ï¼Œ<code>getMainWindowSync()</code>ä¼šå´©!!!!ï¼</p>
<p>å¾ˆå¤šåœ°æ–¹ä¹ æƒ¯æ€§åœ°ä½¿ç”¨<code>getMainWindow()</code>æˆ–è€…<code>windowStage.getMainWindowSync()</code>ï¼Œç»“æœåœ¨FullScreenLaunchComponentåœºæ™¯ä¸‹ç›´æ¥å´©æºƒï¼Œå½“æ—¶çœŸçš„æ˜¯ä¸€è„¸æ‡µé€¼ã€‚(è¿™ä¹Ÿä¿ƒä½¿æˆ‘ä»¬åœ¨åé¢çš„ä»£ç è§„èŒƒä¸­ï¼Œç¦æ­¢æ‰€æœ‰å¯¹windowæ–¹æ³•çš„ç›´æ¥ä½¿ç”¨)</p>
<p>è¿™æ˜¯å› ä¸ºFullScreenLaunchComponentå†…éƒ¨é»˜è®¤æ–¹å¼ä¸‹ï¼Œæä¾›æ–¹æ— çœŸæ­£çš„çª—å£æ‰¿è½½ï¼Œæ‰€ä»¥æ— æ³•æ­£å¸¸è·å–Windowå¯¹è±¡ã€‚å¦‚æœä½ æ²¡æœ‰è¿›è¡Œtry-catchçš„è¯ï¼Œå“¦å¼ï¼Œå´©æ‰ã€‚</p>
<h3 data-id="heading-10">3. è°ƒè¯•å›°éš¾é—®é¢˜</h3>
<p>è°ƒè¯•éå¸¸å›°éš¾ï¼Œç‰¹åˆ«æ˜¯ä½ éœ€è¦è°ƒè¯•çš„ä¸œè¥¿åœ¨å¯åŠ¨æµç¨‹ï¼ˆå¦‚<code>onCreate</code>ã€<code>onWindowStageCreate</code>ï¼‰çš„æ—¶å€™ï¼Œæ²¡æ³•è¿›è¡Œè°ƒè¯•ã€‚å› ä¸ºæ¯æ¬¡è¢«ä½¿ç”¨æ–¹æ‹‰èµ·æ—¶ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„Embeddableè¿›ç¨‹ï¼Œæ²¡åŠæ³•æå‰æ–­ç‚¹ï¼Œæˆ–è€…æ–­ç‚¹å¯åŠ¨ï¼Œæ‰€ä»¥æ ¹æœ¬æ²¡æœ‰åŠæ³•è¿›è¡Œå¯åŠ¨æµç¨‹çš„è°ƒè¯•ã€‚</p>
<p>æˆ‘ä»¬åªèƒ½é€šè¿‡æ—¥å¿—æ¥ä¸€ç‚¹ç‚¹æ’æŸ¥é—®é¢˜ï¼Œéå¸¸ç—›è‹¦ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<p>åªèƒ½ä¸€ç‚¹ç‚¹çš„åŠ æ—¥å¿—è¾“å‡ºã€‚è™½ç„¶è°ƒè¯•ä½“éªŒä¸å¥½ï¼Œä½†è¿™æ˜¯è·¨è¿›ç¨‹æ¶æ„å¸¦æ¥çš„é™åˆ¶ï¼Œæˆ‘ä»¬åªèƒ½é€šè¿‡æ—¥å¿—æ¥æ’æŸ¥é—®é¢˜ã€‚</p>
<h3 data-id="heading-11">4. UIContextè·å–å¼‚å¸¸</h3>
<p>å› ä¸ºæä¾›æ–¹æ— çœŸæ­£çš„çª—å£æ‰¿è½½ï¼Œæ‰€ä»¥ç¬¬2ç‚¹è¯´çš„windowå¼‚å¸¸çš„ï¼Œå®é™…ä¸Šè·å–çš„UIContextçš„è·å–ä¹Ÿæ˜¯å¼‚å¸¸çš„ã€‚æˆ‘ä»¬åœ¨ä»£ç ä¸­å¤§é‡ä½¿ç”¨äº†<code>getUIContext()</code>æ¥è·å–UIContextï¼Œç»“æœåœ¨FullScreenLaunchComponentåœºæ™¯ä¸‹å¯èƒ½è·å–ä¸åˆ°æ­£ç¡®çš„å€¼ï¼Œå¯¼è‡´å¾ˆå¤šåŠŸèƒ½å¼‚å¸¸ã€‚</p>
<p>æœ€åæˆ‘ä»¬ä¿®æ”¹äº†å¤§é‡çš„ä½¿ç”¨Contextçš„åœ°æ–¹ï¼Œéƒ¨åˆ†æ”¹ç”¨<code>applicationContext</code>ï¼Œæ‰è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>åœ¨FullScreenLaunchComponentåœºæ™¯ä¸‹ï¼Œå°½é‡é¿å…ä½¿ç”¨UIContextï¼Œä¼˜å…ˆä½¿ç”¨<code>applicationContext</code>æˆ–<code>UIAbilityContext</code>ã€‚å¦‚æœå¿…é¡»ä½¿ç”¨UIContextï¼Œä¸€å®šè¦åšå¥½å¼‚å¸¸å¤„ç†ã€‚</p>
<h3 data-id="heading-12">5. ä¸æ”¯æŒå¯Œæ–‡æœ¬ç»„ä»¶</h3>
<p>éƒ¨åˆ†åŠŸèƒ½ä½¿ç”¨äº†RichTextç»„ä»¶æ¥æ˜¾ç¤ºå¯Œæ–‡æœ¬å†…å®¹ï¼Œç„¶åå‘ç°RichTextç»„ä»¶åœ¨FullScreenLaunchComponentä¸­ä¸æ”¯æŒã€‚æ·¦ï¼</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<p>é˜¿å¼¥é™€ä½›ï¼Œæˆ‘ä»¬ç›´æ¥é‡å†™äº†ä¸€å¥—ï¼Œå¯Œæ–‡æœ¬ç»„ä»¶ï¼Œæå¿ƒæ€ã€‚</p>
<h3 data-id="heading-13">6. EmbeddableUIAbilityContextçš„ç‰¹æ®Šæ€§</h3>
<p>ä½œä¸ºæä¾›æ–¹ï¼Œæˆ‘ä»¬å¿…é¡»ç»§æ‰¿<code>EmbeddableUIAbility</code>ï¼Œä½†æ˜¯<code>EmbeddableUIAbility</code>çš„ä¸Šä¸‹æ–‡ï¼Œæ˜¯å’Œæ™®é€šçš„<code>UIAbility</code>çš„ä¸Šä¸‹æ–‡<code>UIAbilityContext</code>ä¸ä¸€æ ·çš„ï¼Œä½¿ç”¨çš„æ˜¯<code>EmbeddableUIAbilityContext</code>ï¼Œè™½ç„¶æ˜¯æœ‰ç»§æ‰¿å…³ç³»ï¼Œä½†åœ¨æŸäº›APIçš„ä½¿ç”¨ä¸Šå¯èƒ½å­˜åœ¨å·®å¼‚ã€‚</p>
<p>æˆ‘ä»¬åœ¨å¼€å‘æ—¶ï¼Œæœ‰äº›åŸæœ¬åœ¨æ™®é€šUIAbilityä¸­èƒ½æ­£å¸¸å·¥ä½œçš„ä»£ç ï¼Œåœ¨EmbeddableUIAbilityä¸­å°±ä¸è¡Œäº†ï¼Œå°±æ˜¯å› ä¸ºä¸Šä¸‹æ–‡ç±»å‹çš„å·®å¼‚å¯¼è‡´çš„ã€‚</p>
<p>åœ¨ä½¿ç”¨ä¸Šä¸‹æ–‡ç›¸å…³APIæ—¶ï¼Œè¦æ³¨æ„<code>EmbeddableUIAbilityContext</code>å’Œ<code>UIAbilityContext</code>çš„å·®å¼‚ï¼Œåšå¥½å…¼å®¹å¤„ç†ã€‚</p>
<h2 data-id="heading-14">äº”ã€èƒ½åŠ›èŒƒå›´ä¸é™åˆ¶</h2>
<p>å®˜æ–¹æ–‡æ¡£å…¶å®ä¹Ÿåˆ—å‡ºå¾ˆå¤šé™åˆ¶åœºæ™¯ï¼Œå¦‚ä¸‹ï¼š</p>
<h3 data-id="heading-15">1. ä¸æ”¯æŒçš„èƒ½åŠ›</h3>
<p><strong>ç»„ä»¶æ–¹é¢ï¼š</strong></p>
<ul>
<li><code>FullScreenLaunchComponent</code>ï¼šä¸æ”¯æŒåµŒå¥—æ‹‰èµ·ï¼ˆæ€»ä¸èƒ½å¥—å¨ƒå§...ï¼‰</li>
<li><code>EmbeddedComponent</code>ï¼šä¸æ”¯æŒåµŒå¥—æ‹‰èµ·</li>
<li><code>RichText</code>ï¼šä¸æ”¯æŒå¯Œæ–‡æœ¬ç»„ä»¶</li>
<li><code>FolderStack</code>ï¼šä¸æ”¯æŒï¼ˆéœ€è¦å’Œå®¿ä¸»æ–¹çª—å£å½¢æˆè”åŠ¨ï¼‰</li>
<li><code>XComponent</code>ï¼šä¸æ”¯æŒ</li>
<li><code>FormLink</code>ï¼šä¸æ”¯æŒ</li>
<li><code>HyperLink</code>ï¼šä¸æ”¯æŒ</li>
<li><code>ContextMenu</code>ï¼šä¸æ”¯æŒ</li>
</ul>
<p><strong>Node-APIæ¥å£æ–¹é¢ï¼š</strong></p>
<ul>
<li>é¡µé¢é—´è½¬åœºï¼šä¸æ”¯æŒ</li>
<li>ç»„ä»¶å†…éšå¼å…±äº«å…ƒç´ è½¬åœºï¼šä¸æ”¯æŒ</li>
<li><code>componentUtils</code>ï¼šä¸æ”¯æŒï¼ˆè·å–çš„ä½ç½®ä¿¡æ¯æ˜¯EmbeddableUIAbilityçš„WindowProxyçš„ä¿¡æ¯ï¼‰</li>
<li><code>UIContext</code>ï¼šä¸æ”¯æŒï¼ˆæä¾›æ–¹æ— çœŸæ­£çš„çª—å£æ‰¿è½½ï¼‰</li>
<li><code>DragController</code>ï¼šä¸æ”¯æŒï¼ˆä¾èµ–UIContextï¼‰</li>
<li>æ³¨å†Œè‡ªå®šä¹‰å­—ä½“ï¼šä¸æ”¯æŒ</li>
</ul>
<h3 data-id="heading-16">2. éƒ¨åˆ†æ”¯æŒçš„èƒ½åŠ›</h3>
<p><strong>å¼¹çª—ç»„ä»¶ï¼š</strong></p>
<ul>
<li>è­¦å‘Šå¼¹çª—ã€åˆ—è¡¨é€‰æ‹©å¼¹çª—ã€è‡ªå®šä¹‰å¼¹çª—ï¼šéƒ¨åˆ†æ”¯æŒ</li>
<li>è‹¥åœ¨FullScreenLaunchComponentä¸­è®¾ç½®<code>showInSubWindow</code>ä¸º<code>true</code>ï¼Œå¼¹çª—å°†åŸºäºFullScreenLaunchComponentçš„å®¿ä¸»çª—å£å¯¹é½</li>
<li>ä»…é™äºçª—å£å¯¹é½ï¼Œå…¶ä»–èƒ½åŠ›å¯èƒ½å—é™</li>
</ul>
<p><strong>Navigationç»„ä»¶ï¼š</strong></p>
<ul>
<li>éƒ¨åˆ†æ”¯æŒ</li>
<li>å¦‚æœFullScreenLaunchComponentæœªè®¾ç½®æ¨¡æ€æˆ–æ²‰æµ¸å¼ï¼ŒNavigationæ— æ³•æ‰©å±•åˆ°å®‰å…¨åŒº</li>
<li>æ— æ³•è·¯ç”±åˆ°å®¿ä¸»æ–¹çš„é¡µé¢ä¸­</li>
</ul>
<h3 data-id="heading-17">3. å…¶ä»–çº¦æŸ</h3>
<p><strong>å®‰å…¨èƒ½åŠ›çº¦æŸï¼š</strong></p>
<ul>
<li>FullScreenLaunchComponentèƒ½åŠ›æ— æ³•ç‹¬ç«‹æä¾›å®‰å…¨ä¿éšœæœºåˆ¶</li>
<li>æä¾›æ–¹åº”ç”¨éœ€è¦ç»“åˆä½¿ç”¨å…¶ä»–ArkUIçš„èƒ½åŠ›è¿›è¡Œå®‰å…¨ä¿æŠ¤</li>
<li>å¦‚æœå­˜åœ¨å®‰å…¨æ–¹é¢çš„è¯‰æ±‚ï¼Œå»ºè®®ä¼˜å…ˆä½¿ç”¨å…¶ä»–æ–¹æ¡ˆ</li>
</ul>
<p><strong>åµŒå¥—çº¦æŸï¼š</strong></p>
<ul>
<li>FullScreenLaunchComponentæš‚ä¸æ”¯æŒåµŒå¥—</li>
<li>ä¸æ”¯æŒAåº”ç”¨(UIAbility)-&gt;Båº”ç”¨(EmbeddableUIAbility)-&gt;Cåº”ç”¨(EmbeddableUIAbility)è¿™ç§åµŒå¥—èƒ½åŠ›ä¾èµ–</li>
</ul>
<p><strong>äº‹ä»¶å¤„ç†æœºåˆ¶çº¦æŸï¼š</strong></p>
<ul>
<li>FullScreenLaunchComponentä¸æ”¯æŒé€šç”¨äº‹ä»¶ï¼Œä¼šå°†äº‹ä»¶ç»è¿‡åæ ‡è½¬æ¢åä¼ é€’ç»™æä¾›æ–¹EmbeddableUIAbilityå¤„ç†</li>
<li>å®¿ä¸»è¿›ç¨‹ä¸æä¾›æ–¹è¿›ç¨‹çš„äº¤äº’é»˜è®¤å‡æ˜¯å¼‚æ­¥å¤„ç†</li>
<li>æŸäº›äº‹ä»¶ï¼ˆå¦‚æŒ‰é”®äº‹ä»¶ã€ç„¦ç‚¹äº‹ä»¶ï¼‰æ”¯æŒåŒæ­¥å¤„ç†ï¼Œä½†æ”¯æŒè¶…æ—¶ç­‰å¾…æœºåˆ¶</li>
</ul>
<p><strong>é¡µé¢æ¸²æŸ“æ•ˆæœä½“éªŒçº¦æŸï¼š</strong></p>
<ul>
<li><strong>é—ªç™½ç°è±¡</strong>ï¼šåˆ›å»ºå¹¶æ‹‰èµ·å¦ä¸€ä¸ªè¿›ç¨‹æ˜¯è€—æ—¶çš„ï¼Œä½¿ç”¨æ–¹åœ¨ç­‰å¾…è¿‡ç¨‹ä¸­ä¼šæ„ŸçŸ¥åˆ°FullScreenLaunchComponentçš„èƒŒæ™¯è‰²ï¼ˆé»˜è®¤æ˜¯ç™½è‰²ï¼‰</li>
<li><strong>æ¸²æŸ“æ˜¾ç¤ºä¸åŒæ­¥ç°è±¡</strong>ï¼šå½“ä½¿ç”¨æ–¹åº”ç”¨é¡µé¢å¿«é€Ÿå˜åŒ–æ—¶ï¼ˆå¦‚æ¨ªç«–å±åˆ‡æ¢ï¼‰ï¼Œä¼šå‡ºç°ä½¿ç”¨æ–¹é¡µé¢æ¸²æŸ“è¿‡ç¨‹å’ŒFullScreenLaunchComponentç»„ä»¶ä¸­å±•ç¤ºçš„å†…å®¹ä¸åŒæ­¥çš„æƒ…å†µ</li>
</ul>
<p><strong>æ¶ˆå‡é—ªç™½é—®é¢˜çš„æ–¹æ³•ï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title class_">FullScreenLaunchComponent</span>({
  <span class="hljs-attr">content</span>: <span class="hljs-title class_">ColumnChild</span>,
  <span class="hljs-attr">appId</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">appId</span>,
  <span class="hljs-attr">options</span>: {},
})
.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#F5F5F5'</span>)  <span class="hljs-comment">// æ ¹æ®æä¾›æ–¹é¡µé¢èƒŒæ™¯è‰²è®¾ç½®ï¼Œå®ç°æ— è·³å˜æ„ŸçŸ¥</span>
.<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)
.<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)
</code></pre>
<h2 data-id="heading-18">å…­ã€æ€»ç»“</h2>
<p>æ€»çš„æ¥è¯´ï¼ŒFullScreenLaunchComponentæ˜¯ä¸€ä¸ªå¾ˆå¼ºå¤§çš„ç»„ä»¶ï¼Œä½¿ç”¨æ–¹æ¥å…¥ç¡®å®éå¸¸æ–¹ä¾¿ï¼ˆè‹¦äº†æˆ‘ä»¬è¿™äº›æä¾›æ–¹ï¼‰ï¼Œè™½ç„¶å­˜åœ¨ä¸€äº›é™åˆ¶å’Œå‘ç‚¹ï¼Œä½†FullScreenLaunchComponentçš„æ•ˆæœå…¶å®è¿˜ä¸é”™çš„ï¼Œæœ‰æ—¶å€™éƒ½æ„ŸçŸ¥ä¸åˆ°æ˜¯åˆ°äº†æˆ‘ä»¬çš„å…ƒæœåŠ¡é‡Œé¢ï¼Œä»¥ä¸ºå°±æ˜¯è‡ªå·±~</p>
<p>å¥½äº†ï¼Œå…³äºFullScreenLaunchComponentçš„å†…å®¹æˆ‘ä»¬å°±ä»‹ç»åˆ°è¿™é‡Œã€‚è™½ç„¶ä½¿ç”¨æ–¹æ¥å…¥å¾ˆæ–¹ä¾¿ï¼Œä½†ä½œä¸ºæä¾›æ–¹åœ¨å®é™…å¼€å‘ä¸­ç¡®å®æœ‰ä¸å°‘å‘ï¼Œå¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©åˆ°æ­£åœ¨å¼€å‘æˆ–å‡†å¤‡å¼€å‘å¯è¢«FullScreenLaunchComponentæ¥å…¥çš„å…ƒæœåŠ¡çš„å¼€å‘è€…ã€‚</p>
<h2 data-id="heading-19">ä¸ƒã€æœ€å</h2>
<p>å› ä¸ºç¯‡å¹…åŸå› ï¼Œæˆ‘ä»¬å…ˆåˆ°è¿™ï¼Œå“ˆã€ä¸‹ä¸€ç¯‡è¿˜æ²¡æƒ³å¥½å†™ä»€ä¹ˆï¼Œå¦‚æœä½ æœ‰æƒ³çœ‹çš„ä¹Ÿå¯ä»¥åœ¨è¯„è®ºåŒºï¼Œæˆ–è€…ç§ä¿¡ç»™æˆ‘ï¼Œé©¬ä¸Šå†™ï½å’•å’•å’•ã€‚</p>
<p>å¦‚æœæ‚¨æœ‰ä»»ä½•ç–‘é—®ã€å¯¹æ–‡ç« å†™çš„ä¸æ»¡æ„ã€å‘ç°é”™è¯¯æˆ–è€…æœ‰æ›´å¥½çš„æ–¹æ³•ï¼Œæ¬¢è¿åœ¨è¯„è®ºã€ç§ä¿¡æˆ–é‚®ä»¶ä¸­æå‡ºï¼Œéå¸¸æ„Ÿè°¢æ‚¨çš„æ”¯æŒã€‚ğŸ™</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é˜¿é‡ŒQwen3-VLåŒå­æ˜Ÿå¼€æºï¼šå›¾æ–‡è§†é¢‘æ··åˆæ£€ç´¢çš„â€œé™ç»´æ‰“å‡»â€]]></title>    <link>https://juejin.cn/post/7593181244709158964</link>    <guid>https://juejin.cn/post/7593181244709158964</guid>    <pubDate>2026-01-09T14:06:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593181244709158964" data-draft-id="7593338828195381288" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é˜¿é‡ŒQwen3-VLåŒå­æ˜Ÿå¼€æºï¼šå›¾æ–‡è§†é¢‘æ··åˆæ£€ç´¢çš„â€œé™ç»´æ‰“å‡»â€"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2026-01-09T14:06:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¢¨é£å¦‚é›ª"/> <meta itemprop="url" content="https://juejin.cn/user/4064249017803927"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é˜¿é‡ŒQwen3-VLåŒå­æ˜Ÿå¼€æºï¼šå›¾æ–‡è§†é¢‘æ··åˆæ£€ç´¢çš„â€œé™ç»´æ‰“å‡»â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4064249017803927/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¢¨é£å¦‚é›ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T14:06:21.000Z" title="Fri Jan 09 2026 14:06:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¦‚æœä½ å…³æ³¨å¤§æ¨¡å‹é¢†åŸŸçš„æœ€æ–°åŠ¨æ€ï¼Œåº”è¯¥æ³¨æ„åˆ°äº†2026å¹´1æœˆ8æ—¥çš„ä¸€ä¸ªé‡ç£…æ¶ˆæ¯ï¼šé˜¿é‡Œé€šä¹‰åƒé—®å›¢é˜ŸæŠŠä»–ä»¬çš„â€œçœ‹å®¶æœ¬é¢†â€æ‹¿å‡ºæ¥äº†ã€‚</p>
<p>è¿™æ¬¡å¼€æºçš„ä¸æ˜¯åˆä¸€ä¸ªå•çº¯èŠå¤©çš„Chatbotï¼Œè€Œæ˜¯ä¸€å¥—ä¸“é—¨è§£å†³â€œå¤šæ¨¡æ€æ£€ç´¢â€éš¾é¢˜çš„å·¥å…·é“¾â€”â€”<strong>Qwen3-VL-Embedding</strong> å’Œ <strong>Qwen3-VL-Reranker</strong>ã€‚</p>
<p>ç®€å•è¯´ï¼Œè¿™å¥—æ¨¡å‹æ˜¯åŸºäºå¼ºå¤§çš„Qwen3-VLåº•åº§æ‰“é€ çš„ï¼Œå®ƒä»¬è§£å†³äº†ä¸€ä¸ªè®©å¼€å‘è€…å¤´ç–¼å·²ä¹…çš„é—®é¢˜ï¼šåœ¨è¿™ä¸ªå›¾æ–‡ã€è§†é¢‘çˆ†ç‚¸çš„å¹´ä»£ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•åƒæœç´¢æ–‡å­—ä¸€æ ·ï¼Œç²¾å‡†åœ°æœç´¢è§†é¢‘ç‰‡æ®µã€å¤æ‚å›¾è¡¨å’Œæˆªå±ï¼Ÿ</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2F640-1-1024x576.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/640-1-1024x576.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/501a319dc2c4490587c242d5ae9b79cf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768572381&amp;x-signature=9pbNLT5ePNNnmXBKeTBP4lrDIdA%3D" alt="640" loading="lazy"/></a></p>
<h3 data-id="heading-0">ä¸ºä»€ä¹ˆéœ€è¦è¿™å¥—â€œåŒå­æ˜Ÿâ€ï¼Ÿ</h3>
<p>åœ¨è¿‡å»çš„ä¸€å¹´é‡Œï¼ŒRAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰å‡ ä¹æˆäº†ä¼ä¸šçº§åº”ç”¨çš„æ ‡é…ã€‚ä½†ç—›ç‚¹åœ¨äºï¼Œä¼ ç»Ÿçš„RAGå¤§å¤šæ˜¯â€œçå­â€ï¼Œåªèƒ½å¤„ç†çº¯æ–‡æœ¬ã€‚ä¸€æ—¦æ–‡æ¡£é‡Œå¤¹æ‚äº†æµç¨‹å›¾ã€æˆ–è€…çŸ¥è¯†åº“é‡Œå †æ»¡äº†è§†é¢‘ç´ æï¼Œä¼ ç»Ÿæ¨¡å‹å°±æ­‡èœäº†ã€‚</p>
<p>é€šä¹‰å›¢é˜Ÿè¿™æ¬¡æ‰“å‡ºçš„ç»„åˆæ‹³ï¼Œæ­£æ˜¯ä¸ºäº†å¡«è¡¥è¿™ä¸ªç©ºç™½ã€‚</p>
<p>è¿™å¥—ç³»ç»Ÿç”±ä¸¤ä¸ªæ ¸å¿ƒè§’è‰²ç»„æˆï¼Œé…åˆèµ·æ¥å°±åƒæ˜¯ä¸€ä¸ªç»éªŒä¸°å¯Œçš„â€œå›¾ä¹¦ç®¡ç†å‘˜â€ï¼š</p>
<p><strong>ç¬¬ä¸€æ­¥ï¼šQwen3-VL-Embeddingï¼ˆè´Ÿè´£â€œå¹¿æ’’ç½‘â€ï¼‰</strong> è¿™æ˜¯æ£€ç´¢çš„ç¬¬ä¸€é“å…³å¡ã€‚å®ƒçš„ä»»åŠ¡æ˜¯æŠŠæ‰€æœ‰çš„ç´ æâ€”â€”æ— è®ºæ˜¯PDFé‡Œçš„æ–‡å­—ã€PPTé‡Œçš„æ¶æ„å›¾ï¼Œè¿˜æ˜¯é•¿è§†é¢‘é‡Œçš„æŸä¸€å¸§ï¼Œç»Ÿç»Ÿâ€œç¿»è¯‘â€æˆç»Ÿä¸€çš„æ•°å­¦å‘é‡ã€‚ è¿™æ‰“ç ´äº†æ¨¡æ€ä¹‹é—´çš„â€œç”Ÿæ®–éš”ç¦»â€ã€‚æœ‰äº†å®ƒï¼Œä½ ä¸ä»…å¯ä»¥ç”¨æ–‡å­—æœå›¾ï¼Œè¿˜èƒ½ç”¨å›¾æœè§†é¢‘ã€‚è€Œä¸”ï¼Œå®ƒæ”¯æŒæ‰€è°“çš„â€œMatryoshkaâ€å¥—å¨ƒå¼è¡¨ç¤ºå­¦ä¹ ï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥åœ¨æ¨ç†æ—¶çµæ´»æˆªæ–­å‘é‡ç»´åº¦ï¼Œåœ¨ç²¾åº¦å’Œé€Ÿåº¦ä¹‹é—´è‡ªç”±åˆ‡æ¢ï¼Œä¸ç”¨é‡æ–°è®­ç»ƒæ¨¡å‹ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2Ffadsfsfg-1024x500.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/fadsfsfg-1024x500.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9a2d5e703f69423f8c3d203da61a01b3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768572381&amp;x-signature=9WjHLkPivbiU9%2F3tsAo8PhyeOH8%3D" alt="fadsfsfg" loading="lazy"/></a></p>
<p><strong>ç¬¬äºŒæ­¥ï¼šQwen3-VL-Rerankerï¼ˆè´Ÿè´£â€œç²¾æŒ‘é€‰â€ï¼‰</strong> Embeddingè™½ç„¶å¿«ï¼Œä½†æœ‰æ—¶å€™ä¸å¤Ÿç²¾å‡†ã€‚è¿™æ—¶å€™å°±éœ€è¦Rerankerç™»åœºäº†ã€‚ ä¸åŒäºå¸‚é¢ä¸Šå¸¸è§çš„åŒå¡”ç»“æ„ï¼Œè¿™ä¸ªRerankerä¼šæŠŠç”¨æˆ·çš„æŸ¥è¯¢å’ŒEmbeddingæå›æ¥çš„å€™é€‰å†…å®¹æ”¾åœ¨ä¸€èµ·è¿›è¡Œâ€œæ·±åº¦é˜…è¯»â€ã€‚å®ƒä¼šé€šè¿‡äº¤å‰æ³¨æ„åŠ›æœºåˆ¶ï¼Œä»”ç»†æ¯”å¯¹æŸ¥è¯¢æ„å›¾å’Œç´ æç»†èŠ‚çš„åŒ¹é…åº¦ï¼Œç„¶åé‡æ–°æ’åº§æ¬¡ã€‚å®˜æ–¹æ•°æ®æ˜¾ç¤ºï¼Œè¿™ä¸ªç²¾æ’æ­¥éª¤èƒ½æ˜¾è‘—æå‡æœ€ç»ˆç»“æœçš„å‡†ç¡®æ€§ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2Fffdsdgdfg-1024x305.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/ffdsdgdfg-1024x305.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cfe24a8d53184aeead17e71bfae239d7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768572381&amp;x-signature=BjbU%2FxDF86qAR%2FFRzaPB4ESvd%2B4%3D" alt="ffdsdgdfg" loading="lazy"/></a></p>
<h3 data-id="heading-1">çœ‹èµ·æ¥å¾ˆå¼ºï¼Œç”¨èµ·æ¥é‡å—ï¼Ÿ</h3>
<p>è¿™å¯èƒ½æ˜¯å¼€å‘è€…æœ€å…³å¿ƒçš„é—®é¢˜ã€‚å¥½æ¶ˆæ¯æ˜¯ï¼Œè¿™å¥—æ¨¡å‹éå¸¸â€œäº²æ°‘â€ã€‚</p>
<p><strong>Qwen3-VL-Embedding</strong> æä¾›äº† <strong>2B</strong> å’Œ <strong>8B</strong> ä¸¤ä¸ªç‰ˆæœ¬ã€‚ <strong>Qwen3-VL-Reranker</strong> ç›®å‰å¼€æºäº† <strong>2B</strong> ç‰ˆæœ¬ã€‚</p>
<p>å¯¹äºå¤§å¤šæ•°å•†ä¸šåº”ç”¨æˆ–ä¸ªäººå¼€å‘è€…æ¥è¯´ï¼Œ2Bå’Œ8Bçš„å‚æ•°é‡æ„å‘³ç€ä½ ä¸éœ€è¦æ‹¥æœ‰æ˜¾å¡é›†ç¾¤ï¼Œå°±èƒ½åœ¨æœ¬åœ°æˆ–ä¸­å‹æœåŠ¡å™¨ä¸Šè·‘èµ·æ¥ã€‚åŒæ—¶ï¼Œå®ƒä»¬åŸç”Ÿæ”¯æŒ32Kçš„ä¸Šä¸‹æ–‡é•¿åº¦ï¼Œå¤„ç†é•¿æ–‡æ¡£æˆ–é•¿è§†é¢‘ç‰‡æ®µç»°ç»°æœ‰ä½™ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2Fsdfgfdgdf-1024x553.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/sdfgfdgdf-1024x553.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2076c3f1cc334ac3946a76c3347a078c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768572381&amp;x-signature=7RS0IbloSWnZyv2DRpZ9EReFZEo%3D" alt="sdfgfdgdf" loading="lazy"/></a></p>
<h3 data-id="heading-2">ç¡¬å®åŠ›çš„è¯æ˜</h3>
<p>åœ¨æŠ€æœ¯åœˆï¼Œä¸æœè·‘ä¸ªåˆ†ã€‚</p>
<p>æ ¹æ®å®˜æ–¹å’Œç¬¬ä¸‰æ–¹çš„æµ‹è¯•æ•°æ®ï¼ˆå¦‚MMEB-V2ã€MMTEBåŸºå‡†ï¼‰ï¼ŒQwen3-VL-Embeddingçš„8Bç‰ˆæœ¬åœ¨å¤šæ¨¡æ€æ£€ç´¢ä»»åŠ¡ä¸Šï¼Œæ€§èƒ½ç›´æ¥è¶…è¶Šäº†ç›®å‰å¸‚é¢ä¸Šå·²çŸ¥çš„å¼€æºæ¨¡å‹ï¼Œç”šè‡³æŠŠä¸€äº›é—­æºå•†ä¸šæœåŠ¡ç”©åœ¨äº†èº«åã€‚</p>
<p>ç‰¹åˆ«æ˜¯å¯¹äºé‚£äº›å¤æ‚çš„è§†è§‰æ–‡æ¡£â€”â€”æ¯”å¦‚åŒ…å«ä»£ç æˆªå›¾çš„æ•™ç¨‹ã€å……æ»¡UIç»„ä»¶çš„è®¾è®¡ç¨¿ï¼Œè¿™å¥—æ¨¡å‹çš„ç†è§£èƒ½åŠ›å±•ç°å‡ºäº†SOTAï¼ˆå½“å‰æœ€ä½³ï¼‰çš„æ°´å‡†ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2Fsdfsgdf-1024x441.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/sdfsgdf-1024x441.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f9cddc8554724dcaa9aa9f26056b60f1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768572381&amp;x-signature=QjrUwFj3cFEE3OLJ1WQgxRi%2FHuc%3D" alt="sdfsgdf" loading="lazy"/></a></p>
<h3 data-id="heading-3">æ€»ç»“</h3>
<p>é€šä¹‰åƒé—®è¿™æ¬¡çš„å¼€æºåŠ¨ä½œï¼Œå®é™…ä¸Šæ˜¯æŠŠå¤šæ¨¡æ€RAGçš„é—¨æ§›ç»™è¸å¹³äº†ã€‚</p>
<p>æ— è®ºä½ æ˜¯æƒ³åšä¸€ä¸ªèƒ½çœ‹æ‡‚è®¾è®¡å›¾çš„ä¼ä¸šçŸ¥è¯†åº“ï¼Œè¿˜æ˜¯æƒ³æ­å»ºä¸€ä¸ªèƒ½æœåˆ°â€œä¸»è§’ç©¿çº¢è¡£æœé‚£ä¸ªé•œå¤´â€çš„è§†é¢‘æœç´¢å¼•æ“ï¼ŒQwen3-VLçš„è¿™å¥—Embeddingå’ŒRerankerç»„åˆï¼Œéƒ½æ˜¯ç›®å‰å¼€æºç•Œæœ€å€¼å¾—å°è¯•çš„åŸºçŸ³ã€‚</p>
<p>ç›®å‰ï¼Œæ¨¡å‹æƒé‡å·²ç»å…¨éƒ¨æ‰˜ç®¡åœ¨Hugging Faceå’ŒModelScopeä¸Šï¼Œéµå¾ªApache 2.0åè®®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå“ªæ€•ä½ æ˜¯æ‹¿å»å•†ç”¨ï¼Œä¹Ÿæ˜¯å®Œå…¨å…è´¹ä¸”åˆè§„çš„ã€‚</p>
<p>å¯¹äºæ­£åœ¨æ„å»ºä¸‹ä¸€ä»£AIåº”ç”¨çš„å¼€å‘è€…æ¥è¯´ï¼Œè¿™ç»å¯¹æ˜¯2026å¹´å¼€å¹´çš„ä¸€ä»½å¤§ç¤¼ã€‚</p>
<p><strong>å¦‚æœä½ ä¹Ÿå¯¹æœ€æ–°çš„AIä¿¡æ¯æ„Ÿå…´è¶£æˆ–è€…æœ‰ç–‘é—® éƒ½å¯ä»¥åŠ å…¥æˆ‘çš„å¤§å®¶åº­ ç¬¬ä¸€æ—¶é—´åˆ†äº«æœ€æ–°AIèµ„è®¯ã€å·¥å…·ã€æ•™ç¨‹ã€æ–‡æ¡£ æ¬¢è¿ä½ çš„åŠ å…¥ï¼ï¼ï¼ğŸ˜‰ğŸ˜‰ğŸ˜‰</strong></p>
<p>å…¬ä¼—å·ï¼šå¢¨é£å¦‚é›ªå°ç«™</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[GDAL å®ç°ç©ºé—´åˆ†æ]]></title>    <link>https://juejin.cn/post/7593175890794758190</link>    <guid>https://juejin.cn/post/7593175890794758190</guid>    <pubDate>2026-01-09T14:26:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593175890794758190" data-draft-id="7593171168259489801" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="GDAL å®ç°ç©ºé—´åˆ†æ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-09T14:26:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="GISä¹‹è·¯"/> <meta itemprop="url" content="https://juejin.cn/user/4346787284915481"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            GDAL å®ç°ç©ºé—´åˆ†æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4346787284915481/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    GISä¹‹è·¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T14:26:23.000Z" title="Fri Jan 09 2026 14:26:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">^Â å…³æ³¨æˆ‘ï¼Œå¸¦ä½ ä¸€èµ·å­¦GISÂ ^</h2>
<h2 data-id="heading-1">å‰è¨€</h2>
<blockquote>
<p>â</p>
<p>ç©ºé—´åˆ†æåŸºäºç©ºé—´å…³ç³»ï¼Œå¸¸è§çš„å¦‚å åŠ ã€æ±‚å·®ã€å–åç­‰ã€‚åœ¨GISå¼€å‘ä¸­ï¼Œç©ºé—´åˆ†æä½œä¸ºå…¶çµé­‚æ”¯æŸ±ï¼Œå…·æœ‰é‡è¦æ„ä¹‰ï¼Œæ˜¯æ¯ä¸€ä¸ªGISeréƒ½å¿…é¡»è¦æŒæ¡çš„æŠ€èƒ½ã€‚</p>
</blockquote>
<p>åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­è®²äº†å¦‚ä½•ä½¿ç”¨<code>GDAL</code>æˆ–è€…<code>ogr2ogr</code>å·¥å…·å°†<code>txt</code>ä»¥åŠ<code>csv</code>æ–‡æœ¬æ•°æ®è½¬æ¢ä¸º<code>Shp</code>æ ¼å¼ï¼Œæœ¬ç¯‡æ•™ç¨‹åœ¨ä¹‹å‰ä¸€ç³»åˆ—æ–‡ç« çš„åŸºç¡€ä¸Šè®²è§£å¦‚ä½•ä½¿ç”¨<strong>GDAL å®ç°ç©ºé—´åˆ†æ</strong>ã€‚</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwOTEzNjI5NQ%3D%3D%26mid%3D2247487980%26idx%3D1%26sn%3Dbfd72c505f12f36cc459989cb16229db%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwOTEzNjI5NQ==&amp;mid=2247487980&amp;idx=1&amp;sn=bfd72c505f12f36cc459989cb16229db&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">GDAL ç®€ä»‹</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwOTEzNjI5NQ%3D%3D%26mid%3D2247488004%26idx%3D1%26sn%3D3cab0afab44ff1c9d2e583933d6b4c3e%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwOTEzNjI5NQ==&amp;mid=2247488004&amp;idx=1&amp;sn=3cab0afab44ff1c9d2e583933d6b4c3e&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">GDAL ä¸‹è½½å®‰è£…</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwOTEzNjI5NQ%3D%3D%26mid%3D2247488017%26idx%3D1%26sn%3De41670cf4042e17353ad7ee507423269%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwOTEzNjI5NQ==&amp;mid=2247488017&amp;idx=1&amp;sn=e41670cf4042e17353ad7ee507423269&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">GDAL å¼€å‘èµ·æ­¥</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwOTEzNjI5NQ%3D%3D%26mid%3D2247488343%26idx%3D1%26sn%3D39a39704cd83d5b4a955cef28c1df5ba%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwOTEzNjI5NQ==&amp;mid=2247488343&amp;idx=1&amp;sn=39a39704cd83d5b4a955cef28c1df5ba&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">GDAL å®ç° GIS æ•°æ®è¯»å–è½¬æ¢ï¼ˆå…¨ï¼‰</a></li>
</ul>
<p>å¦‚æœä½ è¿˜æ²¡æœ‰çœ‹è¿‡ï¼Œå»ºè®®ä»ä»¥ä¸Šå†…å®¹å¼€å§‹ã€‚</p>
<h2 data-id="heading-2">1. å¼€å‘ç¯å¢ƒ</h2>
<p>æœ¬æ–‡ä½¿ç”¨å¦‚ä¸‹å¼€å‘ç¯å¢ƒï¼Œä»¥ä¾›å‚è€ƒã€‚</p>
<p>æ—¶é—´ï¼š<code>2025å¹´</code></p>
<p>ç³»ç»Ÿï¼š<code>Windows 11</code></p>
<p>Pythonï¼š<code>3.11.7</code></p>
<p>GDALï¼š<code>3.11.1</code></p>
<h2 data-id="heading-3">2. ç©ºé—´åˆ†æ</h2>
<p>å®šä¹‰ä¸€ä¸ªæ–¹æ³•<code>SpatialAnalysis</code>ç”¨äºåˆ¤æ–­è¦ç´ é—´ç©ºé—´å…³ç³»ï¼Œè¯¥æ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œå…¶ä¸­<code>sourcePath</code>æŒ‡å‘æºæ•°æ®è·¯å¾„ï¼Œ<code>resultPath</code>æŒ‡å‘ç»“æœæ–‡ä»¶è·¯å¾„ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""è¯´æ˜ï¼šGDAL ç©ºé—´åˆ†ææ“ä½œå‚æ•°ï¼šÂ  Â  -sourcePathï¼šShp æ•°æ®è·¯å¾„Â  Â  -resultPathï¼šç”Ÿæˆç»“æœæ•°æ®è·¯å¾„"""</span><span class="hljs-keyword">def</span> <span class="hljs-title function_">SpatialAnalysis</span>(<span class="hljs-params">sourcePath,resultPath</span>):
</code></pre>
<p>æ¥ç€æ˜¯åŸºç¡€çš„å¸¸è§„æ“ä½œï¼Œæ·»åŠ æ•°æ®é©±åŠ¨ï¼Œè·å–æ•°æ®æºï¼Œè·å–ç›®æ ‡å›¾å±‚ã€‚</p>
<pre><code class="hljs language-scss" lang="scss"># æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨<span class="hljs-built_in">checkFilePath</span>(sourcePath)# æ·»åŠ æ•°æ®é©±åŠ¨shpDriver = ogr<span class="hljs-selector-class">.GetDriverByName</span>("ESRI Shapefile")# è·å–æ•°æ®æºshpDs = shpDriver<span class="hljs-selector-class">.Open</span>(sourcePath)# è·å–å›¾å±‚shpLayer = shpDs<span class="hljs-selector-class">.GetLayer</span>(<span class="hljs-number">0</span>)srs = shpLayer<span class="hljs-selector-class">.GetSpatialRef</span>()geomType = shpLayer<span class="hljs-selector-class">.GetGeomType</span>()
</code></pre>
<p>æ–¹æ³•<code>checkFilePath</code>ç”¨äºæ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£å¸¸ï¼Œæ¥å—ä¸€ä¸ªè·¯å¾„å‚æ•°ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""è¯´æ˜ï¼šæ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£å¸¸å‚æ•°ï¼šÂ  Â  -filePathï¼šæ–‡ä»¶æ•°æ®è·¯å¾„"""</span><span class="hljs-keyword">def</span> <span class="hljs-title function_">checkFilePath</span>(<span class="hljs-params">filePath</span>):Â  Â Â <span class="hljs-keyword">if</span>Â os.path.exists(filePath):Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ–‡ä»¶æ•°æ®è·¯å¾„å­˜åœ¨"</span>)Â  Â Â <span class="hljs-keyword">else</span>:Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ–‡ä»¶æ•°æ®è·¯å¾„ä¸å­˜åœ¨ï¼Œè¯·æ£€æŸ¥ï¼"</span>)
</code></pre>
<p>æœ¬æ–‡åŸºäºä»¥ä¸‹æ•°æ®è¿›è¡Œç©ºé—´åˆ†ææ“ä½œã€‚<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d2189f144c614661a9fef63f88994be5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768573583&amp;x-signature=hdfUeyRmF5vXPSmyDUG7cTerUio%3D" alt="" loading="lazy"/>å¯¹æ¶‰åŠé¢çš„æ“ä½œåˆ†åˆ«è·å–é¢0å’Œé¢1ä¸¤ä¸ªè¦ç´ ã€‚<code>GDAL</code>ä¸­çš„å‡ ä½•å¤„ç†æ“ä½œï¼Œå¦‚å åŠ ã€ç¼“å†²ã€æ±‚å·®ç­‰å‡è¿”å›ä¸€ä¸ªæ–°çš„å‡ ä½•å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-string">""</span><span class="hljs-string">"è·å–ç¬¬ä¸€ä¸ªå›¾å±‚è¦ç´ "</span><span class="hljs-string">""</span># feature = shpLayer.GetNextFeature()# æ ¹æ®FIdè·å–æŒ‡å®šè¦ç´ feature1 = shpLayer.GetFeature(<span class="hljs-number">0</span>)<span class="hljs-built_in">print</span>(f<span class="hljs-string">"né¢çŠ¶è¦ç´ ~~~~~Idï¼š{feature1.GetField('Id')}n"</span>)# è·å–è¦ç´ IdfeatId1 = feature1.GetField(<span class="hljs-string">"Id"</span>)# è·å–å‡ ä½•è¦ç´ geom1 = feature1.GetGeometryRef()# <span class="hljs-built_in">print</span>(f<span class="hljs-string">"é¢çŠ¶å‡ ä½•ï¼š{geom1}"</span>)<span class="hljs-string">""</span><span class="hljs-string">"Â  Â  è·å–ç¬¬äºŒä¸ªè¦ç´ "</span><span class="hljs-string">""</span>feature2 = shpLayer.GetFeature(<span class="hljs-number">1</span>)geom2 = feature2.GetGeometryRef()featId2 = feature2.GetField(<span class="hljs-string">"Id"</span>)
</code></pre>
<h2 data-id="heading-4">3. ç©ºé—´å åŠ </h2>
<p><code>Geometry</code>å¯¹è±¡ä¸Šå…·æœ‰ä¸€ä¸ªæ–¹æ³•<code>Intersection</code>ç”¨äºç©ºé—´å åŠ æ“ä½œï¼Œè¯¥æ–¹æ³•æ¥æ”¶å¦ä¸€ä¸ªå‡ ä½•å¯¹è±¡ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„<code>Geometry</code>å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""Â  Â  ç©ºé—´æ“ä½œä¹‹ã€å åŠ ã€‘"""</span>resultGeom = geom1.Intersection(geom2)<span class="hljs-comment"># print(f"é¢è¦ç´ ã€{featId1}ã€‘ä¸ é¢è¦ç´ ã€{featId2}ã€‘ç›¸äº¤ç»“æœï¼š{resultGeom}")</span>
</code></pre>
<p>å¦‚ä¸‹é¢0å’Œé¢1ç›¸äº¤ç»“æœä¸ºå›¾ä¸­é«˜äº®éƒ¨åˆ†ã€‚<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d619ddfbcda40b5ab01557eb23d3e03~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768573583&amp;x-signature=B5UbEDIDlw02JRX9e8BFfr2hH20%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">4. ç©ºé—´ç¼“å†²</h2>
<p><code>Geometry</code>å¯¹è±¡ä¸Šå…·æœ‰ä¸€ä¸ªæ–¹æ³•<code>Buffer</code>ç”¨äºç©ºé—´ç¼“å†²åŒºç”Ÿæˆï¼Œè¯¥æ–¹æ³•æ¥æ”¶å¦ä¸€ä¸ªå‡ ä½•å¯¹è±¡ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„<code>Geometry</code>å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""Â  Â  ç©ºé—´æ“ä½œä¹‹ã€ç¼“å†²ã€‘"""</span>resultGeom = geom1.Buffer(<span class="hljs-number">1</span>)<span class="hljs-comment"># print(f"é¢è¦ç´ ã€{featId1}ã€‘ç¼“å†²ç»“æœï¼š{resultGeom}")</span>
</code></pre>
<p>å¦‚ä¸‹é¢0ç¼“å†²ç»“æœä¸ºå›¾ä¸­é«˜äº®éƒ¨åˆ†ã€‚<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5eb05561a414420eb2c175f0c095996b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768573583&amp;x-signature=GP7XuRjGDG90TirqHtK5LKEW2bg%3D" alt="" loading="lazy"/></p>
<p>å¦‚ä¸‹çº¿æ®µç¼“å†²ç»“æœä¸ºå›¾ä¸­é«˜äº®éƒ¨åˆ†ã€‚<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/159214a6f1ab4ada9cb8cfa4ea460a5a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768573583&amp;x-signature=bquL9YUDQH6qRD50v%2BF1BraUmjo%3D" alt="" loading="lazy"/></p>
<p>å¦‚ä¸‹ç‚¹ç¼“å†²ç»“æœä¸ºå›¾ä¸­é«˜äº®éƒ¨åˆ†ã€‚<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b39a30c67ebc4c00b98428c9a7d3e6d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768573583&amp;x-signature=itnwOfIeftwgpOZEiA7QML%2FxueM%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-6">5. ç©ºé—´è”åˆ</h2>
<p><code>Geometry</code>å¯¹è±¡ä¸Šå…·æœ‰ä¸€ä¸ªæ–¹æ³•<code>Union</code>ç”¨äºåˆå¹¶å‡ ä½•å¯¹è±¡ï¼Œè¯¥æ–¹æ³•æ¥æ”¶å¦ä¸€ä¸ªå‡ ä½•å¯¹è±¡ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„<code>Geometry</code>å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""Â  Â  ç©ºé—´æ“ä½œä¹‹ã€è”åˆã€‘"""</span>resultGeom = geom1.<span class="hljs-type">Union</span>(geom2)<span class="hljs-comment"># print(f"é¢è¦ç´ ã€{featId1}ã€‘è”åˆç»“æœï¼š{resultGeom}")</span>
</code></pre>
<p>å¦‚ä¸‹é¢0å’Œé¢1è”åˆç»“æœä¸ºå›¾ä¸­é«˜äº®éƒ¨åˆ†ã€‚<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d6c12332463c4924831aa4cb51d92545~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768573583&amp;x-signature=QIRtnMa3eycbAuknLlH8%2B5703yc%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-7">6. ç©ºé—´æ±‚å·®</h2>
<p><code>Geometry</code>å¯¹è±¡ä¸Šå…·æœ‰ä¸€ä¸ªæ–¹æ³•<code>Difference</code>ç”¨äºæ±‚å–ç›®æ ‡å‡ ä½•å¯¹è±¡å·®é›†ï¼Œè¯¥æ–¹æ³•æ¥æ”¶å¦ä¸€ä¸ªå‡ ä½•å¯¹è±¡ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„<code>Geometry</code>å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""Â  Â  ç©ºé—´æ“ä½œä¹‹ã€æ±‚å·®ã€‘"""</span>resultGeom = geom1.Difference(geom2)<span class="hljs-comment"># print(f"é¢è¦ç´ ã€{featId1}ã€‘è”åˆç»“æœï¼š{resultGeom}")</span>
</code></pre>
<p>å¦‚ä¸‹é¢0å’Œé¢1æ±‚å·®ç»“æœä¸ºå›¾ä¸­é«˜äº®éƒ¨åˆ†ã€‚<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dfb4347595ca40d7bda087cb5a248a44~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768573583&amp;x-signature=2vIKI0zhMalaCisV%2Bky%2FEfLkB8Q%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-8">7. å¯¹ç§°å·®é›†</h2>
<p><code>Geometry</code>å¯¹è±¡ä¸Šå…·æœ‰ä¸€ä¸ªæ–¹æ³•<code>SymmetricDifference</code>ç”¨äºå‡ ä½•å¯¹è±¡äº¤é›†å–åæ“ä½œï¼Œè¯¥æ–¹æ³•æ¥æ”¶å¦ä¸€ä¸ªå‡ ä½•å¯¹è±¡ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„<code>Geometry</code>å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""Â  Â  ç©ºé—´æ“ä½œä¹‹ã€æ±‚å¯¹ç§°å·®é›†ã€‘"""</span>resultGeom = geom1.SymmetricDifference(geom2)<span class="hljs-built_in">print</span>(<span class="hljs-string">f"é¢è¦ç´ ã€<span class="hljs-subst">{featId1}</span>ã€‘è”åˆç»“æœï¼š<span class="hljs-subst">{resultGeom}</span>"</span>)
</code></pre>
<p>å¦‚ä¸‹é¢0å’Œé¢1æ±‚å¯¹ç§°å·®é›†ç»“æœä¸ºå›¾ä¸­é«˜äº®éƒ¨åˆ†ã€‚<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/338b1c838355433885d47b7d8ec89cb0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768573583&amp;x-signature=Y0AuvimPbfrWicKaqHb3HalSQsw%3D" alt="" loading="lazy"/></p>
<p>è¿˜æœ‰ä¸€äº›å‡ ä½•æ“ä½œï¼Œå¦‚æ±‚ç­‰ã€æ±‚è·ç¦»ç­‰å†…å®¹æœ¬æ•™ç¨‹å¹¶æœªæ¶‰åŠï¼Œç•™ç»™æ„Ÿå…´è¶£çš„è¯»è€…è‡ªè¡Œå®è·µã€‚</p>
<h2 data-id="heading-9">8. åˆ›å»ºæ–°å›¾å±‚</h2>
<p>å‡ ä½•è¿ç®—å®Œæˆä¹‹åï¼Œéœ€è¦å°†åˆ†æç»“æœä¿å­˜åˆ°æ–°çš„Shpå›¾å±‚ã€‚é€šè¿‡æ•°æ®é©±åŠ¨æ–¹æ³•<code>CreateDataSource</code>åˆ›å»º<code>Shp</code>æ•°æ®æºï¼Œå†ä½¿ç”¨æ•°æ®æºæ–¹æ³•<code>CreateLayer</code>åˆ›å»ºå›¾å±‚å³å¯ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""Â  Â  åˆ›å»ºæ–°å›¾å±‚"""</span>targetDs = shpDriver.CreateDataSource(resultPath)targetLayer = targetDs.CreateLayer(<span class="hljs-string">"result_layer"</span>,srs,ogr.wkbPolygon)featureDefn = shpLayer.GetLayerDefn()tarFeat = ogr.Feature(featureDefn)fieldCount = featureDefn.GetFieldCount()tarFeat.SetGeometry(resultGeom)<span class="hljs-keyword">for</span>Â iÂ <span class="hljs-keyword">in</span>Â <span class="hljs-built_in">range</span>(fieldCount):Â  Â  fieldDefn = featureDefn.GetFieldDefn(i)Â  Â  name = fieldDefn.GetName()Â  Â  value = feature1.GetField(i)Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å­—æ®µåç§°ï¼š<span class="hljs-subst">{name}</span>ï¼Œå­—æ®µå€¼ï¼š<span class="hljs-subst">{value}</span>"</span>)Â  Â Â <span class="hljs-comment"># tarFeat.SetField(i,value)Â  Â  tarFeat.SetField(name,value)targetLayer.CreateFeature(tarFeat)</span>
</code></pre>
<h2 data-id="heading-10">9. æ³¨æ„äº‹é¡¹</h2>
<p>åœ¨<code>windows</code>å¼€å‘ç¯å¢ƒä¸­åŒæ—¶å®‰è£…<code>GDAL</code>ä¸<code>PostGIS</code>ï¼Œå…¶ä¸­æŠ•å½±åº“<code>PROJ</code>çš„ç¯å¢ƒå˜é‡æŒ‡å‘<code>PostGIS</code>çš„å®‰è£…è·¯å¾„ï¼Œåœ¨è¿è¡ŒGDALç¨‹åºæ—¶ï¼Œæ¶‰åŠåˆ°è¦ç´ ã€å‡ ä½•ä¸æŠ•å½±æ“ä½œæ—¶ä¼šå¯¼è‡´å¼‚å¸¸ã€‚<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/148dec8809004a7f82878a7cb92dce35~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768573583&amp;x-signature=wYkNfSx%2FymT3ZpqRPyJvwt3xznQ%3D" alt="" loading="lazy"/>å…·ä½“æ„æ€ä¸º<code>GDAL</code>ä¸æ”¯æŒ<code>PostGIS</code>æ’ä»¶ä¸­çš„æŠ•å½±åº“ç‰ˆæœ¬ï¼Œéœ€è¦æ›´æ¢æŠ•å½±åº“æˆ–è€…å‡çº§ç‰ˆæœ¬ã€‚</p>
<p><code>RuntimeError: PROJ: proj_identify: D:Program FilesPostgreSQL13sharecontribpostgis-3.5projproj.db contains DATABASE.LAYOUT.VERSION.MINOR = 2 whereas a number &gt;= 5 is expected. It comes from another PROJ installation.</code><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4bdac5e5380141dea1389f3bd6cc5943~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768573583&amp;x-signature=rSr9R6m1P%2Fw0%2FE13l7Z2bZYjY1E%3D" alt="" loading="lazy"/></p>
<p>è§£å†³åŠæ³•ä¸ºä¿®æ”¹<code>PROJ</code>çš„ç¯å¢ƒå˜é‡åˆ°<code>GDAL</code>æ”¯æŒçš„ç‰ˆæœ¬æˆ–è€…åœ¨<code>GDAL</code>ç¨‹åºå¼€å¤´æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p>
<pre><code class="hljs language-python" lang="python">os.environ[<span class="hljs-string">'PROJ_LIB'</span>] = <span class="hljs-string">r'D:\Programs\Python\Python311\Libsite-packages\osgeo\data\proj'</span>
</code></pre>
<p><strong>è§†é¢‘æ•ˆæœ</strong></p>
<p><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwOTEzNjI5NQ%3D%3D%26mid%3D2247488572%26idx%3D1%26sn%3D603105f8b81f906457b8ea337e1b0fc8%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwOTEzNjI5NQ==&amp;mid=2247488572&amp;idx=1&amp;sn=603105f8b81f906457b8ea337e1b0fc8&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">GDAL å®ç°ç©ºé—´åˆ†ææ“ä½œ</a></strong></p>
<p><strong><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fc9ccc6dca604c8392c9ec0d62cd0867~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768573583&amp;x-signature=bG3Rr2gBEnfVPCXxSXLW7ksBC2g%3D" alt="" loading="lazy"/></strong></p>
<blockquote>
<p>â</p>
<p>OpenLayersç¤ºä¾‹æ•°æ®ä¸‹è½½ï¼Œè¯·åœ¨å…¬ä¼—å·åå°å›å¤ï¼š<strong>olæ•°æ®</strong></p>
<p>å…¨å›½ä¿¡æ¯åŒ–å·¥ç¨‹å¸ˆï¼GIS åº”ç”¨æ°´å¹³è€ƒè¯•èµ„æ–™ï¼Œè¯·åœ¨å…¬ä¼—å·åå°å›å¤ï¼š<strong>GISè€ƒè¯•</strong></p>
</blockquote>
<blockquote>
<p>â</p>
<p><em><strong>GISä¹‹è·¯</strong></em> å…¬ä¼—å·å·²ç»æ¥å…¥äº†<strong>æ™ºèƒ½</strong> <strong>åŠ©æ‰‹</strong>ï¼Œå¯ä»¥åœ¨å¯¹è¯æ¡†è¿›è¡Œæé—®ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æœç´¢å†å²æ–‡ç« è¿›è¡ŒæŸ¥çœ‹ã€‚</p>
</blockquote>
<p>éƒ½çœ‹åˆ°è¿™äº†ï¼Œä¸è¦å¿˜è®°<em><strong>ç‚¹èµã€æ”¶è—</strong></em> <strong>+</strong> <em><strong>å…³æ³¨</strong></em> å“¦ <strong>ï¼</strong></p>
<p>æœ¬å·ä¸å®šæ—¶æ›´æ–°æœ‰å…³Â <em><strong>GISå¼€å‘</strong></em> ç›¸å…³å†…å®¹ï¼Œ<em><strong>æ¬¢è¿å…³æ³¨Â <img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/552828aca9ae4df692fa55f644156d58~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768573583&amp;x-signature=vO62dYay0T9roF5ciVtHNqZqTJw%3D" alt="" loading="lazy"/><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cf2e562008794b31ab08c6e96ca264bf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768573583&amp;x-signature=OZuuQgLCxbCNqdsaeDlU%2BkwxXrk%3D" alt="" loading="lazy"/></strong></em></p>
<hr/>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/51655673d28b4719a4149fa8be980a66~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768573583&amp;x-signature=u2sgFAOuodmJgzwMiZIdnNsynlw%3D" alt="" loading="lazy"/></p>
<p>Â  Â <img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/31b07311d2364df8833c4b632ee43b09~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768573583&amp;x-signature=ZJEzCpfE6%2FEs%2BHVS%2Fa2GCQfEzBM%3D" alt="" loading="lazy"/>Â </p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwOTEzNjI5NQ%3D%3D%26mid%3D2247487953%26idx%3D1%26sn%3D0b2d5aeefdb290583cf8cdd82f3c2077%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwOTEzNjI5NQ==&amp;mid=2247487953&amp;idx=1&amp;sn=0b2d5aeefdb290583cf8cdd82f3c2077&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">GeoTools å¼€å‘åˆé›†ï¼ˆå…¨ï¼‰</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwOTEzNjI5NQ%3D%3D%26mid%3D2247487119%26idx%3D1%26sn%3Dc313efa84c27bf933ef2f2a47991ef2d%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwOTEzNjI5NQ==&amp;mid=2247487119&amp;idx=1&amp;sn=c313efa84c27bf933ef2f2a47991ef2d&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">OpenLayers å¼€å‘åˆé›†</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Ffkf6VAObpTjPutJplco7wA" target="_blank" title="https://mp.weixin.qq.com/s/fkf6VAObpTjPutJplco7wA" ref="nofollow noopener noreferrer">GDAL å®ç°ç©ºé—´åˆ†ææ“ä½œ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F_DVIdV5_bBPn3zVzUSoZ0w" target="_blank" title="https://mp.weixin.qq.com/s/_DVIdV5_bBPn3zVzUSoZ0w" ref="nofollow noopener noreferrer">GDAL ç©ºé—´å…³ç³»è§£æ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Ff1GPy_DNqtvEDzojlRmcBg" target="_blank" title="https://mp.weixin.qq.com/s/f1GPy_DNqtvEDzojlRmcBg" ref="nofollow noopener noreferrer">GDAL å®ç°æ•°æ®ç©ºé—´æŸ¥è¯¢</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FEyUADPYCf7O_9b0u8LUQCg" target="_blank" title="https://mp.weixin.qq.com/s/EyUADPYCf7O_9b0u8LUQCg" ref="nofollow noopener noreferrer">GDAL å®ç°æ•°æ®å±æ€§æŸ¥è¯¢</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FRdlldTRZ6c7FzfjBSdSPMg" target="_blank" title="https://mp.weixin.qq.com/s/RdlldTRZ6c7FzfjBSdSPMg" ref="nofollow noopener noreferrer">GDAL å®ç°åˆ›å»ºå‡ ä½•å¯¹è±¡</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FTUdUHgYra6oMlOaRIL1m4w" target="_blank" title="https://mp.weixin.qq.com/s/TUdUHgYra6oMlOaRIL1m4w" ref="nofollow noopener noreferrer">GDAL å®ç°è‡ªå®šä¹‰æ•°æ®åæ ‡ç³»</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FPGxwhRbuiRUKIpT2D2cVGQ" target="_blank" title="https://mp.weixin.qq.com/s/PGxwhRbuiRUKIpT2D2cVGQ" ref="nofollow noopener noreferrer">GDAL å®ç°çŸ¢é‡æ•°æ®è¯»å†™</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fi77nCatd4V2nuybZFIs-xA" target="_blank" title="https://mp.weixin.qq.com/s/i77nCatd4V2nuybZFIs-xA" ref="nofollow noopener noreferrer">GDAL æ•°æ®ç±»å‹å¤§å…¨</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F0DGoC0oFHizJbweBnEvI-g" target="_blank" title="https://mp.weixin.qq.com/s/0DGoC0oFHizJbweBnEvI-g" ref="nofollow noopener noreferrer">GDAL å®ç° GIS æ•°æ®è¯»å–è½¬æ¢ï¼ˆå…¨ï¼‰</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»£ç é«˜äº®ã€æ•°å­¦å…¬å¼ã€æµç¨‹å›¾... Astro åšå®¢è¿›é˜¶å…¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7592990758476857363</link>    <guid>https://juejin.cn/post/7592990758476857363</guid>    <pubDate>2026-01-09T14:25:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592990758476857363" data-draft-id="7592990758476824595" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»£ç é«˜äº®ã€æ•°å­¦å…¬å¼ã€æµç¨‹å›¾... Astro åšå®¢è¿›é˜¶å…¨æŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-09T14:25:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æŠ€æœ¯æ›´å¥½è¯´"/> <meta itemprop="url" content="https://juejin.cn/user/2735240657517816"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»£ç é«˜äº®ã€æ•°å­¦å…¬å¼ã€æµç¨‹å›¾... Astro åšå®¢è¿›é˜¶å…¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2735240657517816/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æŠ€æœ¯æ›´å¥½è¯´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T14:25:36.000Z" title="Fri Jan 09 2026 14:25:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0c265db806be4a5390aa23e84b3e7d4d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oqA5pyv5pu05aW96K-0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768573536&amp;x-signature=He9qccJAXS%2FR%2BmjsJOhDq6Up58U%3D" alt="1.jpg" loading="lazy"/>
ä½ åˆšç”¨ Astro æ­å¥½åšå®¢ï¼Œå¼€å§‹å†™ç¬¬ä¸€ç¯‡æŠ€æœ¯æ–‡ç« ã€‚æƒ³è¦é«˜äº®ä»£ç çš„æŸä¸€è¡Œï¼Ÿä¸è¡Œã€‚æƒ³åŠ ä¸ªå¯æŠ˜å çš„è­¦å‘Šæ¡†æé†’è¯»è€…æ³¨æ„äº‹é¡¹ï¼Ÿåšä¸åˆ°ã€‚æƒ³åœ¨ç®—æ³•è®²è§£é‡ŒåŠ ä¸ªæ•°å­¦å…¬å¼ï¼Ÿå®Œå…¨æ²¡æ€è·¯ã€‚</p>
<p>æˆ‘ä¹Ÿé‡åˆ°è¿‡è¿™ç§å°´å°¬ã€‚ç”¨çº¯ Markdown å†™äº†å‡ ç¯‡æ–‡ç« åå‘ç°ï¼Œèƒ½è¡¨è¾¾çš„ä¸œè¥¿å¤ªæœ‰é™äº†ã€‚çœ‹åˆ«äººçš„æŠ€æœ¯åšå®¢ï¼Œä»£ç å—å¯ä»¥æ ‡æ³¨é‡ç‚¹ã€å¯ä»¥å±•ç¤ºä»£ç æ”¹åŠ¨å‰åçš„å¯¹æ¯”ï¼Œæ–‡ç« é‡Œè¿˜èƒ½åµŒå…¥äº¤äº’å¼çš„ç»„ä»¶,è‡ªå·±å´åªèƒ½å¹²å·´å·´åœ°è´´ä»£ç ã€‚</p>
<p>å¥½åœ¨ Astro æä¾›äº† MDX è¿™ä¸ª"å¢å¼ºç‰ˆ Markdown"ã€‚è¯´ç™½äº†ï¼ŒMDX è®©ä½ åœ¨å†™æ–‡ç« çš„æ—¶å€™å¯ä»¥ç”¨ç»„ä»¶ã€å¯ä»¥å†™ JSXï¼Œèƒ½åšçš„äº‹æƒ…ä¸€ä¸‹å­å¤šäº†å¥½å‡ å€ã€‚</p>
<p>è¿™ç¯‡æ–‡ç« æˆ‘ä¼šåˆ†äº« 7 ä¸ª Astro Markdown/MDX çš„è¿›é˜¶ç”¨æ³•ï¼Œä»æœ€åŸºç¡€çš„ç¯å¢ƒé…ç½®åˆ°ä»£ç é«˜äº®ã€è‡ªå®šä¹‰ç»„ä»¶ã€æ•°å­¦å…¬å¼ã€æµç¨‹å›¾ï¼Œæ¯ä¸ªæŠ€å·§éƒ½é…äº†å®Œæ•´çš„ä»£ç å’Œé…ç½®æ­¥éª¤ã€‚è¯»å®Œè¿™ç¯‡ï¼Œä½ çš„æŠ€æœ¯åšå®¢èƒ½ä»"èƒ½çœ‹"å‡çº§åˆ°"ä¸“ä¸š"ã€‚</p>
<h2 data-id="heading-0">ç¬¬ä¸€éƒ¨åˆ†ï¼šåŸºç¡€å‡çº§ - ä» Markdown åˆ° MDX</h2>
<h3 data-id="heading-1">ä¸ºä»€ä¹ˆè¦ç”¨ MDXï¼Ÿ</h3>
<p>Markdown å’Œ MDX çš„åŒºåˆ«ï¼Œå…¶å®å°±åƒè‡ªè¡Œè½¦å’Œç”µåŠ¨è½¦â€”â€”éƒ½èƒ½éª‘,ä½†ä½“éªŒå®Œå…¨ä¸åŒã€‚</p>
<p>çº¯ Markdown åªèƒ½å†™æ–‡æœ¬ã€ä»£ç å—ã€å›¾ç‰‡è¿™äº›é™æ€å†…å®¹ã€‚ä½ æƒ³åŠ ä¸ªæç¤ºæ¡†ï¼Ÿå¾—ç”¨ HTML ç¡¬ç¼–ç ã€‚æƒ³åœ¨æ–‡ç« é‡ŒåµŒå…¥ä¸€ä¸ªå¯äº¤äº’çš„ç»„ä»¶ï¼ŸåŸºæœ¬æ²¡æˆã€‚</p>
<p>MDX å°±ä¸ä¸€æ ·äº†ï¼Œå®ƒæ˜¯"Markdown + JSX"çš„ç»“åˆä½“ã€‚ä½ å¯ä»¥ï¼š</p>
<ul>
<li><strong>å¯¼å…¥å’Œä½¿ç”¨ç»„ä»¶</strong>ï¼šç›´æ¥åœ¨ .mdx æ–‡ä»¶é‡Œ import ä»»ä½• Astro ç»„ä»¶æˆ– React/Vue ç»„ä»¶</li>
<li><strong>å†™ JSX è¡¨è¾¾å¼</strong>ï¼šåœ¨æ–‡ç« é‡Œç”¨ <code>{variable}</code> æ’å…¥å˜é‡ï¼Œç”šè‡³å†™å¾ªç¯å’Œæ¡ä»¶åˆ¤æ–­</li>
<li><strong>è‡ªå®šä¹‰å…ƒç´ æ ·å¼</strong>ï¼šæŠŠæ ‡å‡†çš„ <code>&lt;h1&gt;</code> æ›¿æ¢æˆä½ è‡ªå·±çš„æ ·å¼åŒ–ç»„ä»¶</li>
</ul>
<p>ä¸¾ä¸ªå…·ä½“ä¾‹å­ã€‚ä½ æƒ³åœ¨æ–‡ç« é‡ŒåŠ ä¸ªè­¦å‘Šæ¡†ï¼Œç”¨çº¯ Markdown å¾—è¿™æ ·å†™ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"warning"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æ³¨æ„ï¼šè¿™ä¸ªæ“ä½œä¼šåˆ é™¤æ‰€æœ‰æ•°æ®ï¼<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>ç”¨ MDX å°±èƒ½è¿™æ ·ï¼š</p>
<pre><code class="hljs language-mdx" lang="mdx">import Alert from '@/components/Alert.astro';

&lt;Alert type="warning"&gt;
  æ³¨æ„ï¼šè¿™ä¸ªæ“ä½œä¼šåˆ é™¤æ‰€æœ‰æ•°æ®ï¼
&lt;/Alert&gt;
</code></pre>
<p>çœ‹å‡ºåŒºåˆ«äº†å—ï¼ŸMDX è®©ä½ çš„æ–‡ç« æ›´åƒæ˜¯åœ¨"ç»„è£…ç§¯æœ¨"ï¼Œè€Œä¸æ˜¯"å†™ä»£ç "ã€‚</p>
<h3 data-id="heading-2">5åˆ†é’Ÿé…ç½® MDX ç¯å¢ƒ</h3>
<p>é…ç½® MDX å…¶å®è¶…ç®€å•ï¼Œä¸‰æ­¥æå®šã€‚</p>
<p><strong>ç¬¬ä¸€æ­¥ï¼šå®‰è£…é›†æˆåŒ…</strong></p>
<p>æ‰“å¼€ç»ˆç«¯ï¼Œåœ¨ä½ çš„ Astro é¡¹ç›®é‡Œè¿è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npx astro add mdx
</code></pre>
<p>Astro CLI ä¼šè‡ªåŠ¨å¸®ä½ å®‰è£… <code>@astrojs/mdx</code> å¹¶æ›´æ–°é…ç½®æ–‡ä»¶ã€‚è¿™ä¸ªå‘½ä»¤ä¼šé—®ä½ å‡ ä¸ªé—®é¢˜ï¼ˆè¦ä¸è¦æ›´æ–°é…ç½®ã€è¦ä¸è¦å®‰è£…ä¾èµ–ï¼‰ï¼Œå…¨éƒ¨é€‰ Yes å°±è¡Œã€‚</p>
<p><strong>ç¬¬äºŒæ­¥ï¼šéªŒè¯é…ç½®</strong></p>
<p>è£…å®Œåï¼Œæ‰“å¼€ <code>astro.config.mjs</code>ï¼Œåº”è¯¥èƒ½çœ‹åˆ°è¿™æ ·çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'astro/config'</span>;
<span class="hljs-keyword">import</span> mdx <span class="hljs-keyword">from</span> <span class="hljs-string">'@astrojs/mdx'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">integrations</span>: [<span class="hljs-title function_">mdx</span>()],
});
</code></pre>
<p>å¦‚æœæ²¡æœ‰è‡ªåŠ¨æ·»åŠ ï¼Œæ‰‹åŠ¨åŠ ä¸Šå°±è¡Œã€‚</p>
<p><strong>ç¬¬ä¸‰æ­¥ï¼šæµ‹è¯• MDX æ˜¯å¦ç”Ÿæ•ˆ</strong></p>
<p>åœ¨ <code>src/pages/</code> æˆ– <code>src/content/</code> ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª <code>test.mdx</code> æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-mdx" lang="mdx">
---

title: æµ‹è¯•MDX

---

# è¿™æ˜¯ MDX æµ‹è¯•

æ™®é€šçš„ Markdown æ–‡æœ¬ã€‚

export const greeting = "ä½ å¥½";

ç°åœ¨å¯ä»¥ç”¨å˜é‡äº†ï¼š{greeting}ï¼

&lt;div style="padding: 1rem; background: #f0f0f0;"&gt;
  è¿™æ˜¯ä¸€ä¸ª JSX å…ƒç´ 
&lt;/div&gt;
</code></pre>
<p>è¿è¡Œ <code>npm run dev</code>ï¼Œè®¿é—®å¯¹åº”é¡µé¢ï¼Œå¦‚æœèƒ½çœ‹åˆ°å˜é‡å’Œ JSX å…ƒç´ æ­£å¸¸æ˜¾ç¤ºï¼Œè¯´æ˜ MDX å·²ç»é…ç½®æˆåŠŸäº†ã€‚</p>
<p><strong>å…³äº .md å’Œ .mdx æ–‡ä»¶çš„å…±å­˜</strong></p>
<p>è£…äº† MDX é›†æˆåï¼Œä½ çš„ <code>.md</code> æ–‡ä»¶è¿˜æ˜¯æ­£å¸¸å·¥ä½œçš„ï¼Œä¸ç”¨æ‹…å¿ƒã€‚Astro ä¼šæ ¹æ®æ–‡ä»¶æ‰©å±•åè‡ªåŠ¨é€‰æ‹©å¤„ç†æ–¹å¼ï¼š</p>
<ul>
<li><code>.md</code> æ–‡ä»¶ï¼šæŒ‰æ ‡å‡† Markdown å¤„ç†</li>
<li><code>.mdx</code> æ–‡ä»¶ï¼šæŒ‰ MDX å¤„ç†ï¼Œæ”¯æŒç»„ä»¶å’Œ JSX</li>
</ul>
<p>æˆ‘çš„å»ºè®®æ˜¯ï¼šæ™®é€šæ–‡ç« ç”¨ <code>.md</code>ï¼Œéœ€è¦ç”¨ç»„ä»¶çš„æ–‡ç« ç”¨ <code>.mdx</code>ã€‚ä¸æ˜¯æ‰€æœ‰æ–‡ç« éƒ½éœ€è¦ MDX çš„èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-3">ç¬¬äºŒéƒ¨åˆ†ï¼šä»£ç é«˜äº®çš„è¿›é˜¶æŠ€å·§</h2>
<h3 data-id="heading-4">é…ç½®ä»£ç é«˜äº®ä¸»é¢˜ï¼ˆShikiï¼‰</h3>
<p>Astro é»˜è®¤ç”¨ Shiki åšä»£ç é«˜äº®ï¼Œè¿™å·²ç»å¾ˆä¸é”™äº†ã€‚ä½†é»˜è®¤ä¸»é¢˜æ˜¯ <code>github-dark</code>ï¼Œä½ å¯èƒ½æƒ³æ¢ä¸ªæ›´ç¬¦åˆè‡ªå·±åšå®¢é£æ ¼çš„ã€‚</p>
<p><strong>Shiki vs Prism è¯¥é€‰å“ªä¸ªï¼Ÿ</strong></p>
<p>è€å®è®²ï¼Œæˆ‘æ¨è Shikiã€‚å®ƒæ˜¯ Astro é»˜è®¤çš„æ–¹æ¡ˆï¼Œæ”¯æŒ 100 å¤šç§ç¼–ç¨‹è¯­è¨€å’Œä¸»é¢˜ï¼Œè€Œä¸”æ˜¯æœåŠ¡ç«¯æ¸²æŸ“çš„ï¼Œä¸éœ€è¦åŠ è½½é¢å¤–çš„ JavaScriptã€‚Prism ä¹Ÿä¸é”™ï¼Œä½†éœ€è¦å¼•å…¥ CSS æ–‡ä»¶ï¼Œé…ç½®ç›¸å¯¹éº»çƒ¦ä¸€ç‚¹ã€‚</p>
<p><strong>åˆ‡æ¢å†…ç½®ä¸»é¢˜</strong></p>
<p>æ‰“å¼€ <code>astro.config.mjs</code>ï¼Œåœ¨ <code>markdown</code> é…ç½®é‡ŒåŠ ä¸Š <code>shikiConfig</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'astro/config'</span>;
<span class="hljs-keyword">import</span> mdx <span class="hljs-keyword">from</span> <span class="hljs-string">'@astrojs/mdx'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">integrations</span>: [<span class="hljs-title function_">mdx</span>()],
  <span class="hljs-attr">markdown</span>: {
    <span class="hljs-attr">shikiConfig</span>: {
      <span class="hljs-attr">theme</span>: <span class="hljs-string">'dracula'</span>, <span class="hljs-comment">// å¯é€‰ï¼šgithub-dark, nord, monokai, dracula ç­‰</span>
    },
  },
});
</code></pre>
<p>Shiki æ”¯æŒè¶…å¤šä¸»é¢˜ï¼Œæˆ‘å¸¸ç”¨çš„æœ‰ï¼š</p>
<ul>
<li><code>github-dark</code> / <code>github-light</code> - GitHub é£æ ¼</li>
<li><code>dracula</code> - ç»å…¸çš„ç´«é»‘é…è‰²</li>
<li><code>nord</code> - æ¸…å†·çš„åŒ—æ¬§é£</li>
<li><code>one-dark-pro</code> - VSCode é»˜è®¤æ·±è‰²ä¸»é¢˜</li>
</ul>
<p>ä½ å¯ä»¥åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fshiki.style%2Fthemes" target="_blank" title="https://shiki.style/themes" ref="nofollow noopener noreferrer">Shiki ä¸»é¢˜é¢„è§ˆ</a> é‡ŒæŒ‘ä¸€ä¸ªè‡ªå·±å–œæ¬¢çš„ã€‚</p>
<p><strong>å®ç°æµ…è‰²/æ·±è‰²åŒä¸»é¢˜åˆ‡æ¢</strong></p>
<p>å¦‚æœä½ çš„åšå®¢æ”¯æŒæ·±æµ…è‰²æ¨¡å¼åˆ‡æ¢ï¼ŒShiki å¯ä»¥é…ç½®åŒä¸»é¢˜ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-attr">markdown</span>: {
  <span class="hljs-attr">shikiConfig</span>: {
    <span class="hljs-attr">themes</span>: {
      <span class="hljs-attr">light</span>: <span class="hljs-string">'github-light'</span>,
      <span class="hljs-attr">dark</span>: <span class="hljs-string">'github-dark'</span>,
    },
  },
},
</code></pre>
<p>è¿™æ ·é…ç½®åï¼ŒShiki ä¼šæ ¹æ® CSS çš„ <code>prefers-color-scheme</code> æˆ–ä½ è‡ªå®šä¹‰çš„ä¸»é¢˜åˆ‡æ¢é€»è¾‘è‡ªåŠ¨åº”ç”¨å¯¹åº”çš„ä»£ç é«˜äº®ä¸»é¢˜ã€‚</p>
<h3 data-id="heading-5">é«˜äº®ç‰¹å®šè¡Œå’Œä»£ç æ³¨é‡Š</h3>
<p>å†™æ•™ç¨‹çš„æ—¶å€™ï¼Œç»å¸¸éœ€è¦æ ‡æ³¨"çœ‹è¿™ä¸€è¡Œå¾ˆé‡è¦"æˆ–è€…å±•ç¤º"ä»£ç æ”¹äº†å“ªäº›åœ°æ–¹"ã€‚Shiki Transformers å¯ä»¥å®ç°è¿™äº›åŠŸèƒ½ã€‚</p>
<p><strong>é«˜äº®é‡ç‚¹ä»£ç è¡Œ</strong></p>
<p>å…ˆå®‰è£… Shiki çš„ transformersï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm install shiki
</code></pre>
<p>ç„¶ååœ¨é…ç½®é‡Œå¯ç”¨ <code>transformerNotationHighlight</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'astro/config'</span>;
<span class="hljs-keyword">import</span> mdx <span class="hljs-keyword">from</span> <span class="hljs-string">'@astrojs/mdx'</span>;
<span class="hljs-keyword">import</span> { transformerNotationHighlight } <span class="hljs-keyword">from</span> <span class="hljs-string">'@shikijs/transformers'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">integrations</span>: [<span class="hljs-title function_">mdx</span>()],
  <span class="hljs-attr">markdown</span>: {
    <span class="hljs-attr">shikiConfig</span>: {
      <span class="hljs-attr">theme</span>: <span class="hljs-string">'github-dark'</span>,
      <span class="hljs-attr">transformers</span>: [<span class="hljs-title function_">transformerNotationHighlight</span>()],
    },
  },
});
</code></pre>
<p>ç°åœ¨å¯ä»¥åœ¨ä»£ç å—é‡Œç”¨ <code>// [!code highlight]</code> æ³¨é‡Šæ¥æ ‡è®°éœ€è¦é«˜äº®çš„è¡Œï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-code">```javascript
function hello() {
  console.log('è¿™è¡Œæ˜¯æ™®é€šçš„');
  console.log('è¿™è¡Œä¼šé«˜äº®æ˜¾ç¤º'); // [!code highlight]
}
```</span>
</code></pre>
<p><strong>å±•ç¤ºä»£ç å˜æ›´ï¼ˆDiff é£æ ¼ï¼‰</strong></p>
<p>åœ¨å¯¹æ¯”"ä¿®æ”¹å‰/å"çš„ä»£ç æ—¶ï¼Œå¯ä»¥ç”¨ <code>transformerNotationDiff</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { transformerNotationDiff, transformerNotationHighlight } <span class="hljs-keyword">from</span> <span class="hljs-string">'@shikijs/transformers'</span>;

<span class="hljs-attr">markdown</span>: {
  <span class="hljs-attr">shikiConfig</span>: {
    <span class="hljs-attr">theme</span>: <span class="hljs-string">'github-dark'</span>,
    <span class="hljs-attr">transformers</span>: [
      <span class="hljs-title function_">transformerNotationHighlight</span>(),
      <span class="hljs-title function_">transformerNotationDiff</span>(),
    ],
  },
},
</code></pre>
<p>ç”¨æ³•ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-code">```javascript
function calculate(a, b) {
  return a + b; // [!code --]
  return a * b; // [!code ++]
}
```</span>
</code></pre>
<p>å¸¦ <code>--</code> çš„è¡Œä¼šæ˜¾ç¤ºä¸ºçº¢è‰²ï¼ˆåˆ é™¤ï¼‰ï¼Œå¸¦ <code>++</code> çš„è¡Œæ˜¾ç¤ºä¸ºç»¿è‰²ï¼ˆæ–°å¢ï¼‰ã€‚è¿™ä¸ªåŠŸèƒ½å†™ä»£ç æ•™ç¨‹æ—¶è¶…çº§å®ç”¨ã€‚</p>
<p><strong>èšç„¦ç‰¹å®šä»£ç </strong></p>
<p>è¿˜æœ‰ä¸€ä¸ª <code>transformerNotationFocus</code>ï¼Œå¯ä»¥è®©å…¶ä»–ä»£ç "å˜ç°"ï¼Œåªçªå‡ºä½ æƒ³å¼ºè°ƒçš„éƒ¨åˆ†ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { transformerNotationFocus } <span class="hljs-keyword">from</span> <span class="hljs-string">'@shikijs/transformers'</span>;

<span class="hljs-comment">// æ·»åŠ åˆ° transformers æ•°ç»„</span>
<span class="hljs-attr">transformers</span>: [
  <span class="hljs-title function_">transformerNotationFocus</span>(),
],
</code></pre>
<p>ä½¿ç”¨ <code>// [!code focus]</code> æ ‡è®°ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-code">```javascript
function process() {
  console.log('è¿™è¡Œä¼šå˜ç°');
  console.log('è¿™è¡Œæ­£å¸¸æ˜¾ç¤º'); // [!code focus]
  console.log('è¿™è¡Œä¹Ÿå˜ç°');
}
```</span>
</code></pre>
<h3 data-id="heading-6">å‡çº§åˆ° Expressive Codeï¼ˆå¯é€‰ï¼‰</h3>
<p>å¦‚æœä½ è§‰å¾— Shiki çš„åŠŸèƒ½è¿˜ä¸å¤Ÿï¼Œå¯ä»¥è¯•è¯• Expressive Codeã€‚å®ƒæ˜¯ç¤¾åŒºå¼€å‘çš„å¢å¼ºç‰ˆä»£ç å±•ç¤ºæ–¹æ¡ˆï¼Œæä¾›äº†æ›´å¤šå¼€ç®±å³ç”¨çš„åŠŸèƒ½ï¼š</p>
<ul>
<li>ä»£ç å—æ ‡é¢˜</li>
<li>ä¸€é”®å¤åˆ¶æŒ‰é’®</li>
<li>è¡Œå·æ˜¾ç¤º</li>
<li>ç»ˆç«¯çª—å£æ ·å¼</li>
<li>ä»£ç å¯¹æ¯”ï¼ˆSide-by-Sideï¼‰</li>
</ul>
<p><strong>å®‰è£…è¶…ç®€å•</strong></p>
<pre><code class="hljs language-bash" lang="bash">npx astro add astro-expressive-code
</code></pre>
<p>Astro CLI ä¼šè‡ªåŠ¨é…ç½®å¥½ä¸€åˆ‡ã€‚è£…å®Œåï¼Œä½ çš„ä»£ç å—å°±è‡ªåŠ¨å¸¦ä¸Šè¿™äº›åŠŸèƒ½äº†ï¼Œä¸éœ€è¦é¢å¤–é…ç½®ã€‚</p>
<p><strong>ä»€ä¹ˆæ—¶å€™ç”¨ Expressive Codeï¼Ÿ</strong></p>
<p>è¯´å®è¯ï¼Œæˆ‘ä¸€å¼€å§‹ç”¨çš„æ˜¯é»˜è®¤çš„ Shikiï¼Œåæ¥å‘ç°è¯»è€…ç»å¸¸æƒ³å¤åˆ¶ä»£ç ï¼Œå°±æ¢æˆäº† Expressive Codeã€‚å¦‚æœä½ çš„åšå®¢ä¸»è¦æ˜¯å†™æ•™ç¨‹ã€åˆ†äº«ä»£ç ï¼ŒExpressive Code èƒ½è®©è¯»è€…ä½“éªŒå¥½å¾ˆå¤šã€‚</p>
<p>ä½†å¦‚æœåªæ˜¯å¶å°”æ”¾ç‚¹ä»£ç ï¼Œç”¨ Shiki + Transformers å°±å¤Ÿäº†ï¼Œä¸ç”¨å¢åŠ é¢å¤–çš„ä¾èµ–ã€‚</p>
<h2 data-id="heading-7">ç¬¬ä¸‰éƒ¨åˆ†ï¼šåµŒå…¥è‡ªå®šä¹‰ç»„ä»¶</h2>
<h3 data-id="heading-8">åœ¨ MDX ä¸­å¯¼å…¥å’Œä½¿ç”¨ç»„ä»¶</h3>
<p>MDX æœ€å¼ºå¤§çš„åœ°æ–¹å°±æ˜¯å¯ä»¥ç›´æ¥åœ¨æ–‡ç« é‡Œç”¨ç»„ä»¶ã€‚æˆ‘ç»å¸¸ç”¨è¿™ä¸ªåŠŸèƒ½åšæç¤ºæ¡†ã€ä»£ç å¯¹æ¯”ã€å¯æŠ˜å åŒºåŸŸç­‰ã€‚</p>
<p><strong>åˆ›å»ºä¸€ä¸ªè­¦å‘Šæ¡†ç»„ä»¶</strong></p>
<p>å…ˆåœ¨ <code>src/components/</code> ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª <code>Alert.astro</code>ï¼š</p>
<pre><code class="hljs language-astro" lang="astro">
---

interface Props {
  type?: 'info' | 'warning' | 'error';
}

const { type = 'info' } = Astro.props;

const styles = {
  info: 'bg-blue-50 border-blue-200 text-blue-800',
  warning: 'bg-yellow-50 border-yellow-200 text-yellow-800',
  error: 'bg-red-50 border-red-200 text-red-800',
};

---

&lt;div class={`border-l-4 p-4 ${styles[type]}`}&gt;
  &lt;slot /&gt;
&lt;/div&gt;
</code></pre>
<p><strong>åœ¨ MDX æ–‡ç« ä¸­ä½¿ç”¨</strong></p>
<p>åœ¨ä½ çš„ <code>.mdx</code> æ–‡ä»¶é‡Œå¯¼å…¥å¹¶ä½¿ç”¨å®ƒï¼š</p>
<pre><code class="hljs language-mdx" lang="mdx">
---

title: æˆ‘çš„æŠ€æœ¯æ–‡ç« 

---

import Alert from '@/components/Alert.astro';

# æ–‡ç« æ ‡é¢˜

è¿™æ˜¯æ™®é€šçš„æ–‡ç« å†…å®¹ã€‚

&lt;Alert type="warning"&gt;
  æ³¨æ„ï¼šè¿è¡Œè¿™ä¸ªå‘½ä»¤å‰è¯·å¤‡ä»½æ•°æ®ï¼
&lt;/Alert&gt;

&lt;Alert type="info"&gt;
  æç¤ºï¼šä½ ä¹Ÿå¯ä»¥åœ¨ç»„ä»¶é‡Œç”¨ **Markdown è¯­æ³•**ï¼Œå¾ˆæ–¹ä¾¿ã€‚
&lt;/Alert&gt;
</code></pre>
<p>çœ‹åˆ°äº†å—ï¼Ÿåœ¨ <code>&lt;Alert&gt;</code> ç»„ä»¶é‡Œï¼Œä½ è¿˜å¯ä»¥ç»§ç»­ç”¨ Markdown è¯­æ³•ï¼ˆå¦‚åŠ ç²—ã€é“¾æ¥ç­‰ï¼‰ï¼ŒMDX ä¼šè‡ªåŠ¨å¤„ç†ã€‚</p>
<p><strong>ä½¿ç”¨ React/Vue ç»„ä»¶</strong></p>
<p>MDX ä¸ä»…æ”¯æŒ Astro ç»„ä»¶ï¼Œä¹Ÿå¯ä»¥ç”¨ Reactã€Vue ç­‰æ¡†æ¶ç»„ä»¶ã€‚ä¸è¿‡è¦æ³¨æ„åŠ ä¸Š <code>client:</code> æŒ‡ä»¤ï¼š</p>
<pre><code class="hljs language-mdx" lang="mdx">import Counter from '@/components/Counter.tsx';

&lt;Counter client:load initialCount={0} /&gt;
</code></pre>
<p><code>client:load</code> è¡¨ç¤ºè¿™ä¸ªç»„ä»¶ä¼šåœ¨é¡µé¢åŠ è½½æ—¶åœ¨å®¢æˆ·ç«¯è¿è¡Œã€‚å¦‚æœä¸åŠ ï¼Œç»„ä»¶åªä¼šæœåŠ¡ç«¯æ¸²æŸ“ï¼Œäº¤äº’åŠŸèƒ½ä¸ç”Ÿæ•ˆã€‚</p>
<p><strong>ç»„ä»¶æ–‡ä»¶ç»„ç»‡å»ºè®®</strong></p>
<p>æˆ‘ä¹ æƒ¯æŠŠæ–‡ç« é‡Œå¸¸ç”¨çš„ç»„ä»¶æ”¾åœ¨ <code>src/components/mdx/</code> ç›®å½•ä¸‹ï¼Œè¿™æ ·å¥½ç®¡ç†ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-attribute">src</span>/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ mdx/
â”‚   â”‚   â”œâ”€â”€ Alert<span class="hljs-selector-class">.astro</span>
â”‚   â”‚   â”œâ”€â”€ CodeCompare<span class="hljs-selector-class">.astro</span>
â”‚   â”‚   â”œâ”€â”€ Callout<span class="hljs-selector-class">.astro</span>
â”‚   â”‚   â””â”€â”€ Tabs<span class="hljs-selector-class">.astro</span>
â”‚   â””â”€â”€ ...å…¶ä»–ç»„ä»¶
</code></pre>
<h3 data-id="heading-9">æ˜ å°„ Markdown è¯­æ³•åˆ°è‡ªå®šä¹‰ç»„ä»¶</h3>
<p>è¿™ä¸ªåŠŸèƒ½æœ‰ç‚¹"é»‘é­”æ³•"çš„æ„Ÿè§‰â€”â€”ä½ å¯ä»¥æŠŠ Markdown çš„æ ‡å‡†å…ƒç´ ï¼ˆå¦‚ h1ã€aã€imgï¼‰æ›¿æ¢æˆä½ è‡ªå·±çš„ç»„ä»¶ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšï¼Ÿ</strong></p>
<p>æ¯”å¦‚ä½ æƒ³ç»™æ‰€æœ‰çš„æ ‡é¢˜åŠ ä¸ªé”šç‚¹å›¾æ ‡ï¼Œæˆ–è€…ç»™å¤–éƒ¨é“¾æ¥è‡ªåŠ¨åŠ ä¸ª"â†—"æ ‡è®°ï¼Œæ‰‹åŠ¨ä¸€ä¸ªä¸ªåŠ å¤ªéº»çƒ¦äº†ã€‚ç”¨ç»„ä»¶æ˜ å°„ï¼Œå†™æ ‡å‡† Markdown å°±è‡ªåŠ¨åº”ç”¨ä½ çš„æ ·å¼ã€‚</p>
<p><strong>å®æˆ˜ï¼šè‡ªå®šä¹‰æ ‡é¢˜ç»„ä»¶</strong></p>
<p>å…ˆåˆ›å»ºä¸€ä¸ª <code>CustomHeading.astro</code>ï¼š</p>
<pre><code class="hljs language-astro" lang="astro">
---

interface Props {
  level: 1 | 2 | 3 | 4 | 5 | 6;
  id?: string;
}

const { level, id } = Astro.props;
const Tag = `h${level}` as any;

---

&lt;Tag id={id} class="group relative"&gt;
  &lt;slot /&gt;
  {id &amp;&amp; (
    &lt;a href={`#${id}`} class="ml-2 opacity-0 group-hover:opacity-100 transition-opacity"&gt;
      #
    &lt;/a&gt;
  )}
&lt;/Tag&gt;
</code></pre>
<p><strong>åœ¨ MDX ä¸­ä½¿ç”¨æ˜ å°„</strong></p>
<p>åœ¨ä½ çš„ <code>.mdx</code> æ–‡ä»¶é‡Œï¼Œå¯¼å‡ºä¸€ä¸ª <code>components</code> å¯¹è±¡ï¼š</p>
<pre><code class="hljs language-mdx" lang="mdx">
---

title: æ–‡ç« æ ‡é¢˜

---

import CustomHeading from '@/components/CustomHeading.astro';

export const components = {
  h2: (props) =&gt; &lt;CustomHeading level={2} {...props} /&gt;,
  h3: (props) =&gt; &lt;CustomHeading level={3} {...props} /&gt;,
};

## è¿™æ˜¯äºŒçº§æ ‡é¢˜

é¼ æ ‡æ‚¬åœåœ¨æ ‡é¢˜ä¸Šï¼Œä¼šå‡ºç° # é”šç‚¹é“¾æ¥ã€‚

### è¿™æ˜¯ä¸‰çº§æ ‡é¢˜

æ‰€æœ‰ h2 å’Œ h3 éƒ½è‡ªåŠ¨åº”ç”¨äº†è‡ªå®šä¹‰æ ·å¼ã€‚
</code></pre>
<p><strong>å®æˆ˜ï¼šç»™å¤–éƒ¨é“¾æ¥åŠ å›¾æ ‡</strong></p>
<p>åˆ›å»º <code>ExternalLink.astro</code>ï¼š</p>
<pre><code class="hljs language-astro" lang="astro">
---

interface Props {
  href?: string;
}

const { href } = Astro.props;
const isExternal = href?.startsWith('http');

---

&lt;a href={href} target={isExternal ? '_blank' : undefined} rel={isExternal ? 'noopener noreferrer' : undefined}&gt;
  &lt;slot /&gt;
  {isExternal &amp;&amp; &lt;span class="ml-1 text-xs"&gt;â†—&lt;/span&gt;}
&lt;/a&gt;
</code></pre>
<p>æ˜ å°„ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-mdx" lang="mdx">import ExternalLink from '@/components/ExternalLink.astro';

export const components = {
  a: ExternalLink,
};

[è¿™æ˜¯å†…éƒ¨é“¾æ¥](/about)
[è¿™æ˜¯å¤–éƒ¨é“¾æ¥](https://example.com) â† ä¼šè‡ªåŠ¨åŠ  â†— å›¾æ ‡
</code></pre>
<p><strong>å…¨å±€é…ç½®æ˜ å°„ï¼ˆé«˜çº§ï¼‰</strong></p>
<p>å¦‚æœä½ æƒ³è®©æ‰€æœ‰ MDX æ–‡ä»¶éƒ½ç”¨åŒä¸€å¥—ç»„ä»¶æ˜ å°„ï¼Œå¯ä»¥åœ¨ <code>astro.config.mjs</code> é‡Œé…ç½®ã€‚ä¸è¿‡è¿™ä¸ªéœ€è¦è‡ªå®šä¹‰ MDX æ’ä»¶ï¼Œç¨å¾®å¤æ‚ä¸€ç‚¹ï¼Œæˆ‘ä¸€èˆ¬æ˜¯åœ¨å•ä¸ªæ–‡ä»¶é‡Œé…ç½®å°±å¤Ÿäº†ã€‚</p>
<h2 data-id="heading-10">ç¬¬å››éƒ¨åˆ†ï¼šæ•°å­¦å…¬å¼å’Œå›¾è¡¨é›†æˆ</h2>
<h3 data-id="heading-11">é›†æˆ KaTeX å±•ç¤ºæ•°å­¦å…¬å¼</h3>
<p>å¦‚æœä½ å†™ç®—æ³•ã€æ•°å­¦æˆ–æ•°æ®ç§‘å­¦ç±»çš„æ–‡ç« ï¼Œè‚¯å®šéœ€è¦å±•ç¤ºå…¬å¼ã€‚KaTeX æ˜¯ç›®å‰æœ€å¥½çš„é€‰æ‹©ï¼Œæ¯” MathJax å¿«å¾ˆå¤šï¼Œè€Œä¸”æ”¯æŒæœåŠ¡ç«¯æ¸²æŸ“ã€‚</p>
<p><strong>å®‰è£… KaTeX</strong></p>
<p>éœ€è¦å®‰è£…ä¸‰ä¸ªåŒ…ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm install remark-math rehype-katex katex
</code></pre>
<ul>
<li><code>remark-math</code>ï¼šè§£æ LaTeX è¯­æ³•</li>
<li><code>rehype-katex</code>ï¼šæ¸²æŸ“å…¬å¼ä¸º HTML</li>
<li><code>katex</code>ï¼šKaTeX æ ¸å¿ƒåº“</li>
</ul>
<p><strong>é…ç½® Astro</strong></p>
<p>æ‰“å¼€ <code>astro.config.mjs</code>ï¼Œæ·»åŠ è¿™ä¸¤ä¸ªæ’ä»¶ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'astro/config'</span>;
<span class="hljs-keyword">import</span> mdx <span class="hljs-keyword">from</span> <span class="hljs-string">'@astrojs/mdx'</span>;
<span class="hljs-keyword">import</span> remarkMath <span class="hljs-keyword">from</span> <span class="hljs-string">'remark-math'</span>;
<span class="hljs-keyword">import</span> rehypeKatex <span class="hljs-keyword">from</span> <span class="hljs-string">'rehype-katex'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">integrations</span>: [<span class="hljs-title function_">mdx</span>()],
  <span class="hljs-attr">markdown</span>: {
    <span class="hljs-attr">remarkPlugins</span>: [remarkMath],
    <span class="hljs-attr">rehypePlugins</span>: [rehypeKatex],
  },
});
</code></pre>
<p><strong>å¼•å…¥ KaTeX æ ·å¼</strong></p>
<p>è¿™ä¸€æ­¥å¾ˆé‡è¦ï¼Œä¸ç„¶å…¬å¼æ¸²æŸ“ä¸å‡ºæ¥ã€‚åœ¨ä½ çš„å¸ƒå±€æ–‡ä»¶ï¼ˆå¦‚ <code>src/layouts/MarkdownLayout.astro</code>ï¼‰çš„ <code>&lt;head&gt;</code> é‡ŒåŠ ä¸Šï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">link</span>
  <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span>
  <span class="hljs-attr">href</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css"</span>
  <span class="hljs-attr">crossorigin</span>=<span class="hljs-string">"anonymous"</span>
/&gt;</span>
</code></pre>
<p><strong>åœ¨æ–‡ç« ä¸­ä½¿ç”¨å…¬å¼</strong></p>
<p>é…ç½®å¥½åï¼Œå°±å¯ä»¥åœ¨ Markdown/MDX é‡Œå†™å…¬å¼äº†ã€‚</p>
<p><strong>è¡Œå†…å…¬å¼</strong>ï¼ˆç”¨å•ä¸ª <code>$</code> åŒ…è£¹ï¼‰ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">è´¨èƒ½æ–¹ç¨‹ï¼š$E = mc^2$

äºŒæ¬¡æ–¹ç¨‹çš„è§£ï¼š$x = \frac{-b \pm \sqrt{b^2 - 4ac}}{2a}$
</code></pre>
<p><strong>å—çº§å…¬å¼</strong>ï¼ˆç”¨åŒ <code>$$</code> åŒ…è£¹ï¼‰ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">$$
\int<span class="hljs-emphasis">_{-\infty}^{\infty} e^{-x^2} dx = \sqrt{\pi}
$$

$$
\sum_</span>{i=1}^{n} i = \frac{n(n+1)}{2}
$$
</code></pre>
<p><strong>å¸¸è§é—®é¢˜ï¼šå…¬å¼ä¸æ˜¾ç¤º</strong></p>
<p>å¦‚æœå…¬å¼ä¸æ˜¾ç¤ºæˆ–æ ·å¼ä¸å¯¹ï¼Œæ£€æŸ¥è¿™å‡ ç‚¹ï¼š</p>
<ol>
<li>KaTeX CSS æ˜¯å¦æ­£ç¡®å¼•å…¥ï¼ˆF12 çœ‹ Network é¢æ¿ï¼‰</li>
<li>rehype-katex çš„ç‰ˆæœ¬æ˜¯å¦å…¼å®¹ï¼ˆè¯•è¯•é™åˆ° 6.x ç‰ˆæœ¬ï¼‰</li>
<li>å…¬å¼è¯­æ³•æ˜¯å¦æ­£ç¡®ï¼ˆå» <a href="https://link.juejin.cn?target=https%3A%2F%2Fkatex.org%2Fdocs%2Fsupported.html" target="_blank" title="https://katex.org/docs/supported.html" ref="nofollow noopener noreferrer">KaTeX æ”¯æŒåˆ—è¡¨</a> ç¡®è®¤ï¼‰</li>
</ol>
<h3 data-id="heading-12">é›†æˆ Mermaid ç»˜åˆ¶æµç¨‹å›¾å’Œå›¾è¡¨</h3>
<p>Mermaid å¯ä»¥ç”¨ä»£ç ç”»æµç¨‹å›¾ã€æ—¶åºå›¾ã€ç”˜ç‰¹å›¾ç­‰ï¼Œç‰¹åˆ«é€‚åˆæŠ€æœ¯æ–‡æ¡£ã€‚</p>
<p><strong>ä¸‰ç§é›†æˆæ–¹æ¡ˆå¯¹æ¯”</strong></p>
<p>ç¤¾åŒºæœ‰å‡ ç§ Mermaid é›†æˆæ–¹æ¡ˆï¼Œæˆ‘ç®€å•è¯´è¯´åŒºåˆ«ï¼š</p>

































<table><thead><tr><th>æ–¹æ¡ˆ</th><th>æ¸²æŸ“æ–¹å¼</th><th>SEO</th><th>é…ç½®éš¾åº¦</th><th>æ¨èæŒ‡æ•°</th></tr></thead><tbody><tr><td>rehype-mermaid</td><td>æœåŠ¡ç«¯</td><td>å¥½</td><td>ä¸­</td><td>â­â­â­â­â­</td></tr><tr><td>astro-diagram</td><td>æœåŠ¡ç«¯</td><td>å¥½</td><td>ä½</td><td>â­â­â­â­</td></tr><tr><td>astro-mermaid</td><td>å®¢æˆ·ç«¯</td><td>å·®</td><td>ä½</td><td>â­â­â­</td></tr></tbody></table>
<p>æˆ‘æ¨è <strong>rehype-mermaid</strong>ï¼ŒæœåŠ¡ç«¯æ¸²æŸ“ï¼ŒSEO å‹å¥½ï¼Œç”Ÿæˆçš„æ˜¯é™æ€ SVGã€‚</p>
<p><strong>å®‰è£… rehype-mermaid</strong></p>
<pre><code class="hljs language-bash" lang="bash">npm install rehype-mermaid
</code></pre>
<p><strong>é…ç½®</strong></p>
<p>åœ¨ <code>astro.config.mjs</code> é‡Œæ·»åŠ ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'astro/config'</span>;
<span class="hljs-keyword">import</span> mdx <span class="hljs-keyword">from</span> <span class="hljs-string">'@astrojs/mdx'</span>;
<span class="hljs-keyword">import</span> rehypeMermaid <span class="hljs-keyword">from</span> <span class="hljs-string">'rehype-mermaid'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">integrations</span>: [<span class="hljs-title function_">mdx</span>()],
  <span class="hljs-attr">markdown</span>: {
    <span class="hljs-attr">rehypePlugins</span>: [
      [rehypeMermaid, { <span class="hljs-attr">strategy</span>: <span class="hljs-string">'img-svg'</span> }]
    ],
  },
});
</code></pre>
<p><code>strategy: 'img-svg'</code> è¡¨ç¤ºç”Ÿæˆ SVG å›¾ç‰‡ï¼Œè¿™æ˜¯æœ€ç¨³å®šçš„æ–¹æ¡ˆã€‚</p>
<p><strong>åœ¨æ–‡ç« ä¸­ç”»å›¾</strong></p>
<p>ç”¨ <code>mermaid</code> ä»£ç å—å°±è¡Œï¼š</p>
<p><strong>æµç¨‹å›¾ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-code">```mermaid
graph TD
    A[å¼€å§‹] --&gt; B{æ˜¯å¦å®‰è£…MDX}
    B --&gt;|æ˜¯| C[é…ç½®ä»£ç é«˜äº®]
    B --&gt;|å¦| D[å®‰è£…MDX]
    D --&gt; C
    C --&gt; E[å®Œæˆ]
```</span>
</code></pre>
<p><strong>æ—¶åºå›¾ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-code">```mermaid
sequenceDiagram
    ç”¨æˆ·-&gt;&gt;æµè§ˆå™¨: è®¿é—®é¡µé¢
    æµè§ˆå™¨-&gt;&gt;æœåŠ¡å™¨: è¯·æ±‚HTML
    æœåŠ¡å™¨-&gt;&gt;æµè§ˆå™¨: è¿”å›æ¸²æŸ“åçš„é¡µé¢
    æµè§ˆå™¨-&gt;&gt;ç”¨æˆ·: æ˜¾ç¤ºå†…å®¹
```</span>
</code></pre>
<p><strong>æ„å»ºæ—¶ç”Ÿæˆ</strong></p>
<p>è¿è¡Œ <code>npm run build</code> æ—¶ï¼ŒMermaid å›¾è¡¨ä¼šåœ¨æ„å»ºé˜¶æ®µç”Ÿæˆä¸º SVGï¼Œæœ€ç»ˆé¡µé¢é‡Œæ˜¯é™æ€å›¾ç‰‡ï¼ŒåŠ è½½é€Ÿåº¦å¿«ï¼Œä¹Ÿä¸éœ€è¦å®¢æˆ·ç«¯ JavaScriptã€‚</p>
<p><strong>æ³¨æ„äº‹é¡¹</strong></p>
<p>å¦‚æœæ„å»ºæ—¶æŠ¥é”™"æ‰¾ä¸åˆ° Puppeteer"ï¼Œå¯èƒ½éœ€è¦é¢å¤–é…ç½®ã€‚è¯•è¯•å®‰è£… playwrightï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm install -D playwright
</code></pre>
<p>æˆ–è€…æ¢ç”¨ astro-diagram æ–¹æ¡ˆï¼Œå®ƒå†…ç½®äº†æµè§ˆå™¨ç¯å¢ƒã€‚</p>
<h2 data-id="heading-13">ç¬¬äº”éƒ¨åˆ†ï¼šé«˜çº§æŠ€å·§å’Œæœ€ä½³å®è·µ</h2>
<h3 data-id="heading-14">Content Collections çš„ MDX ä¼˜åŒ–</h3>
<p>å¦‚æœä½ ç”¨ Astro çš„ Content Collections ç®¡ç†åšå®¢æ–‡ç« ï¼ˆå¼ºçƒˆæ¨èï¼‰ï¼ŒMDX æ–‡ä»¶å¯ä»¥è·å¾—æ›´å¥½çš„ç±»å‹æ”¯æŒå’Œå¼€å‘ä½“éªŒã€‚</p>
<p><strong>Content Collections æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<p>ç®€å•è¯´ï¼Œå°±æ˜¯æŠŠæ–‡ç« æ”¾åœ¨ <code>src/content/</code> ç›®å½•ä¸‹ï¼ŒAstro ä¼šè‡ªåŠ¨è¯†åˆ«ã€éªŒè¯ frontmatterï¼Œå¹¶æä¾›ç±»å‹å®‰å…¨çš„ API æ¥è¯»å–å†…å®¹ã€‚</p>
<p><strong>é…ç½® Content Collections</strong></p>
<p>åœ¨ <code>src/content/config.ts</code> å®šä¹‰ä½ çš„é›†åˆï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { defineCollection, z } <span class="hljs-keyword">from</span> <span class="hljs-string">'astro:content'</span>;

<span class="hljs-keyword">const</span> blog = <span class="hljs-title function_">defineCollection</span>({
  <span class="hljs-attr">type</span>: <span class="hljs-string">'content'</span>, <span class="hljs-comment">// è¡¨ç¤ºè¿™æ˜¯å†…å®¹æ–‡ä»¶ï¼ˆMarkdown/MDXï¼‰</span>
  <span class="hljs-attr">schema</span>: z.<span class="hljs-title function_">object</span>({
    <span class="hljs-attr">title</span>: z.<span class="hljs-title function_">string</span>(),
    <span class="hljs-attr">description</span>: z.<span class="hljs-title function_">string</span>(),
    <span class="hljs-attr">pubDate</span>: z.<span class="hljs-title function_">date</span>(),
    <span class="hljs-attr">tags</span>: z.<span class="hljs-title function_">array</span>(z.<span class="hljs-title function_">string</span>()).<span class="hljs-title function_">optional</span>(),
    <span class="hljs-attr">draft</span>: z.<span class="hljs-title function_">boolean</span>().<span class="hljs-title function_">default</span>(<span class="hljs-literal">false</span>),
  }),
});

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> collections = { blog };
</code></pre>
<p><strong>åœ¨ MDX ä¸­ä½¿ç”¨</strong></p>
<p>MDX æ–‡ä»¶çš„ frontmatter ä¼šè¢«è‡ªåŠ¨éªŒè¯ï¼š</p>
<pre><code class="hljs language-mdx" lang="mdx">
---

title: Astro MDX è¿›é˜¶æ•™ç¨‹
description: å­¦ä¹  MDX çš„é«˜çº§ç”¨æ³•
pubDate: 2025-12-02
tags: [Astro, MDX, æ•™ç¨‹]

---

import Alert from '@/components/Alert.astro';

# {frontmatter.title}

&lt;Alert type="info"&gt;
  å‘å¸ƒæ—¥æœŸï¼š{frontmatter.pubDate.toLocaleDateString()}
&lt;/Alert&gt;
</code></pre>
<p><strong>è‡ªåŠ¨ç”Ÿæˆç›®å½•</strong></p>
<p>Content Collections æä¾›äº† <code>getHeadings()</code> æ–¹æ³•ï¼Œå¯ä»¥è·å–æ–‡ç« çš„æ‰€æœ‰æ ‡é¢˜ï¼Œç”¨æ¥ç”Ÿæˆç›®å½•ï¼š</p>
<pre><code class="hljs language-astro" lang="astro">
---

import { getEntry } from 'astro:content';

const entry = await getEntry('blog', 'my-mdx-article');
const { Content, headings } = await entry.render();

---

&lt;aside&gt;
  &lt;h2&gt;ç›®å½•&lt;/h2&gt;
  &lt;ul&gt;
    {headings.map(h =&gt; (
      &lt;li style={`margin-left: ${(h.depth - 1) * 1}rem`}&gt;
        &lt;a href={`#${h.slug}`}&gt;{h.text}&lt;/a&gt;
      &lt;/li&gt;
    ))}
  &lt;/ul&gt;
&lt;/aside&gt;

&lt;article&gt;
  &lt;Content /&gt;
&lt;/article&gt;
</code></pre>
<p>è¿™ä¸ªåŠŸèƒ½åœ¨å†™é•¿æ–‡æ—¶ç‰¹åˆ«å®ç”¨ï¼Œè¯»è€…å¯ä»¥å¿«é€Ÿè·³è½¬åˆ°æ„Ÿå…´è¶£çš„ç« èŠ‚ã€‚</p>
<h3 data-id="heading-15">æ€§èƒ½ä¼˜åŒ–å’Œå¸¸è§é™·é˜±</h3>
<p>MDX å¾ˆå¼ºå¤§ï¼Œä½†ç”¨ä¸å¥½ä¹Ÿä¼šæ‹–æ…¢ç½‘ç«™ã€‚è¿™é‡Œåˆ†äº«å‡ ä¸ªè¦æ³¨æ„çš„ç‚¹ã€‚</p>
<p><strong>é¿å…è¿‡åº¦ä½¿ç”¨å®¢æˆ·ç«¯ç»„ä»¶</strong></p>
<p>MDX é‡Œå¯ä»¥ç”¨ React/Vue ç»„ä»¶ï¼Œä½†åˆ«å¿˜äº†åŠ  <code>client:*</code> æŒ‡ä»¤ã€‚å¦‚æœä¸åŠ ï¼Œç»„ä»¶åªä¼šæœåŠ¡ç«¯æ¸²æŸ“ï¼Œäº¤äº’åŠŸèƒ½ä¸ç”Ÿæ•ˆï¼›å¦‚æœæ»¥ç”¨ <code>client:load</code>ï¼Œä¼šå¢åŠ å¤§é‡ JavaScriptï¼Œæ‹–æ…¢é¡µé¢åŠ è½½ã€‚</p>
<p>æˆ‘çš„å»ºè®®ï¼š</p>
<ul>
<li>é™æ€å†…å®¹ç”¨ Astro ç»„ä»¶ï¼ˆå¦‚ Alertã€Calloutï¼‰</li>
<li>éœ€è¦äº¤äº’çš„ç”¨ <code>client:visible</code>ï¼ˆå¯è§æ—¶æ‰åŠ è½½ï¼‰æˆ– <code>client:idle</code>ï¼ˆç©ºé—²æ—¶åŠ è½½ï¼‰</li>
<li>é™¤éå¿…è¦ï¼Œä¸ç”¨ <code>client:load</code></li>
</ul>
<p><strong>å›¾ç‰‡ä¼˜åŒ–</strong></p>
<p>åœ¨ MDX é‡Œæ’å…¥å›¾ç‰‡ï¼Œåˆ«ç›´æ¥ç”¨ <code>&lt;img&gt;</code>ï¼Œç”¨ Astro çš„ Image ç»„ä»¶ï¼š</p>
<pre><code class="hljs language-mdx" lang="mdx">
---

title: æˆ‘çš„æ–‡ç« 

---

import { Image } from 'astro:assets';
import cover from './cover.jpg';

&lt;Image src={cover} alt="å°é¢å›¾" width={800} height={600} /&gt;
</code></pre>
<p>Astro ä¼šè‡ªåŠ¨ä¼˜åŒ–å›¾ç‰‡ï¼ˆå‹ç¼©ã€ç”Ÿæˆ WebPã€æ‡’åŠ è½½ç­‰ï¼‰ï¼Œæ€§èƒ½å¥½å¾ˆå¤šã€‚</p>
<p><strong>MDX çš„ optimize é€‰é¡¹</strong></p>
<p>å¦‚æœä½ çš„ç«™ç‚¹æœ‰å¾ˆå¤š MDX æ–‡ä»¶ï¼Œæ„å»ºå¾ˆæ…¢ï¼Œå¯ä»¥è¯•è¯•å¼€å¯ <code>optimize</code> é€‰é¡¹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">integrations</span>: [
    <span class="hljs-title function_">mdx</span>({
      <span class="hljs-attr">optimize</span>: <span class="hljs-literal">true</span>,
    }),
  ],
});
</code></pre>
<p>è¿™ä¸ªé€‰é¡¹ä¼šé€šè¿‡å†…éƒ¨çš„ rehype æ’ä»¶ä¼˜åŒ– MDX è¾“å‡ºï¼ŒåŠ å¿«æ„å»ºé€Ÿåº¦ã€‚ä¸è¿‡å¯èƒ½ä¼šæ”¹å˜ç”Ÿæˆçš„ HTML ç»“æ„ï¼Œç”¨ä¹‹å‰å…ˆæµ‹è¯•ä¸€ä¸‹ã€‚</p>
<p><strong>å¸¸è§é”™è¯¯å’Œè§£å†³æ–¹æ¡ˆ</strong></p>



































<table><thead><tr><th>é”™è¯¯</th><th>åŸå› </th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>MDX ç»„ä»¶ä¸æ˜¾ç¤º</td><td>å¿˜äº†å¯¼å…¥ç»„ä»¶</td><td>æ£€æŸ¥ import è¯­å¥</td></tr><tr><td>äº¤äº’ç»„ä»¶ä¸å·¥ä½œ</td><td>ç¼ºå°‘ client: æŒ‡ä»¤</td><td>åŠ ä¸Š <code>client:load</code> ç­‰</td></tr><tr><td>ä»£ç é«˜äº®ä¸ç”Ÿæ•ˆ</td><td>Shiki é…ç½®é”™è¯¯</td><td>æ£€æŸ¥ astro.config.mjs</td></tr><tr><td>æ•°å­¦å…¬å¼ä¸æ¸²æŸ“</td><td>KaTeX CSS æœªå¼•å…¥</td><td>åœ¨ layout é‡ŒåŠ  CSS é“¾æ¥</td></tr><tr><td>æ„å»ºå¾ˆæ…¢</td><td>MDX æ–‡ä»¶å¤ªå¤š</td><td>å¼€å¯ optimize é€‰é¡¹</td></tr></tbody></table>
<h2 data-id="heading-16">ç»“è®º</h2>
<p>è¯´äº†è¿™ä¹ˆå¤šï¼Œæ€»ç»“ä¸€ä¸‹æ ¸å¿ƒè¦ç‚¹ï¼š</p>
<p><strong>å¿«é€Ÿå›é¡¾ 7 ä¸ªæŠ€å·§</strong>ï¼š</p>
<ol>
<li><strong>é…ç½® MDX ç¯å¢ƒ</strong> - ä¸€è¡Œå‘½ä»¤æå®šï¼Œ5åˆ†é’Ÿä¸Šæ‰‹</li>
<li><strong>åˆ‡æ¢ä»£ç é«˜äº®ä¸»é¢˜</strong> - ç”¨ Shiki é…ç½®ä½ å–œæ¬¢çš„é£æ ¼</li>
<li><strong>é«˜äº®å’Œæ³¨é‡Šä»£ç </strong> - ç”¨ Transformers æ ‡æ³¨é‡ç‚¹ã€å±•ç¤ºæ”¹åŠ¨</li>
<li><strong>åµŒå…¥è‡ªå®šä¹‰ç»„ä»¶</strong> - è®©æ–‡ç« æ›´ç”ŸåŠ¨ï¼Œä» Alert åˆ°äº¤äº’å¼ Demo</li>
<li><strong>æ˜ å°„ Markdown å…ƒç´ </strong> - æ‰¹é‡å®šåˆ¶æ ‡é¢˜ã€é“¾æ¥ç­‰é»˜è®¤æ ·å¼</li>
<li><strong>å±•ç¤ºæ•°å­¦å…¬å¼</strong> - KaTeX è®©ä½ çš„ç®—æ³•è®²è§£æ›´ä¸“ä¸š</li>
<li><strong>ç»˜åˆ¶æµç¨‹å›¾</strong> - Mermaid ç”¨ä»£ç ç”»å›¾ï¼ŒæœåŠ¡ç«¯æ¸²æŸ“</li>
</ol>
<p>ç°åœ¨å°±é€‰ä¸€ä¸ªæœ€æ„Ÿå…´è¶£çš„åŠŸèƒ½ï¼Œåœ¨ä½ çš„åšå®¢ä¸Šè¯•è¯•å§ã€‚é…ç½®è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ä¹Ÿåˆ«æ…Œï¼Œå®˜æ–¹æ–‡æ¡£å’Œç¤¾åŒºéƒ½å¾ˆå‹å¥½ï¼Œæœä¸€ä¸‹åŸºæœ¬éƒ½èƒ½æ‰¾åˆ°ç­”æ¡ˆã€‚</p>
<p>è¯è¯´å›æ¥ï¼ŒæŠ€æœ¯åšå®¢æœ€é‡è¦çš„è¿˜æ˜¯å†…å®¹æœ¬èº«ã€‚è¿™äº›å·¥å…·åªæ˜¯è®©ä½ çš„è¡¨è¾¾æ›´æ¸…æ™°ã€æ›´ä¸“ä¸šï¼ŒçœŸæ­£å¸å¼•è¯»è€…çš„ï¼Œæ˜¯ä½ çš„è§‚ç‚¹å’Œç»éªŒã€‚ç¥ä½ çš„ Astro åšå®¢è¶Šæ¥è¶Šå¥½ï¼</p>
<blockquote>
<p>åŸæ–‡é¦–å‘<a href="https://link.juejin.cn?target=https%3A%2F%2Feastondev.com%2Fblog%2Fzh%2Fposts%2Fdev%2F20251202-astro-mdx-advanced-guide%2F" target="_blank" title="https://eastondev.com/blog/zh/posts/dev/20251202-astro-mdx-advanced-guide/" ref="nofollow noopener noreferrer">è‡ªä¸ªäººåšå®¢</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[uni-appå®ç°æœ¬åœ°MQTTè¿æ¥]]></title>    <link>https://juejin.cn/post/7593165280488931369</link>    <guid>https://juejin.cn/post/7593165280488931369</guid>    <pubDate>2026-01-09T14:27:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593165280488931369" data-draft-id="7593165280488865833" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="uni-appå®ç°æœ¬åœ°MQTTè¿æ¥"/> <meta itemprop="keywords" content="å‰ç«¯,Trae"/> <meta itemprop="datePublished" content="2026-01-09T14:27:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æå‰‘ä¸€"/> <meta itemprop="url" content="https://juejin.cn/user/4147782344247918"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            uni-appå®ç°æœ¬åœ°MQTTè¿æ¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4147782344247918/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æå‰‘ä¸€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T14:27:23.000Z" title="Fri Jan 09 2026 14:27:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘æ¥åˆ°å®‰å“ç«¯çš„éœ€æ±‚ï¼Œè¦æ±‚ä½¿ç”¨MQTTè¿æ¥å®ç°è®¾å¤‡ä¿¡æ¯çš„æ”¶å‘ã€‚</p>
<p>å¯èƒ½æœ‰å…„å¼Ÿä¸å¤ªæ¸…æ¥š <strong>MQTTåè®®</strong> æ˜¯ä»€ä¹ˆï¼Œç®€å•åœ°è¯´å®ƒæ˜¯ä¸€ç§è½»é‡çº§çš„ã€åŸºäº<strong>å‘å¸ƒ/è®¢é˜…</strong>æ¨¡å¼çš„æ¶ˆæ¯ä¼ è¾“åè®®ï¼Œå¹¿æ³›ç”¨äºç‰©è”ç½‘ï¼ˆIoTï¼‰é¢†åŸŸã€‚</p>
<p>å¸¸è§çš„æ“ä½œå°±æ˜¯è¿æ¥åæœ‰Nä¸ªè®¾å¤‡è®¢é˜…äº†ä¸»é¢˜Aï¼Œè¿™æ—¶å€™ä»»æ„ä¸€å°è®¾å¤‡å¯¹ä¸»é¢˜Aå‘å¸ƒäº†ä¸€æ¡ä¿¡æ¯ï¼Œåˆ™å½“å‰Nä¸ªè®¾å¤‡éƒ½èƒ½æ”¶åˆ°è¿™æ¡æ¶ˆæ¯ã€‚</p>
<p>è‡³äºå…¶ä»–çš„ä¹Ÿä¸ç”¨çŸ¥é“çš„å¤ªæ¸…æ¥šï¼Œåæ­£çŸ¥é“ä¸€èˆ¬æ˜¯è¿™ä¹ˆç©çš„å°±è¡Œã€‚</p>
<p>å‡å¦‚ä½ æƒ³çŸ¥é“çš„æ›´ä¸ºè¯¦ç»†ï¼Œå¯ä»¥è¯¢é—® <code>Trae</code>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b8193f4914934c5b9c4d8096aac846ba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5YmR5LiA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768573643&amp;x-signature=3lDmOEgK8hGFoRJoioo1g73ZWdQ%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-0">éœ€æ±‚</h2>
<ol>
<li>å®ç°MQTTè¿æ¥</li>
<li>å®ç°ä¸»é¢˜(Topic)è®¢é˜…</li>
<li>èƒ½å¤Ÿå‘é€æ¶ˆæ¯</li>
<li>èƒ½å¤Ÿæ¥æ”¶æ¶ˆæ¯</li>
</ol>
<h2 data-id="heading-1">å®ç°æ–¹æ¡ˆ</h2>
<p>é¦–å…ˆæ˜¯å®‰è£… <code>mqtt.js</code> æ’ä»¶å’Œ <code>uuid.js</code> æ’ä»¶ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">npm i mqtt@3.0.0 uuid
</code></pre>
<p><strong>æ³¨æ„</strong>: è¿™é‡Œä¸€å®šè¦å®‰è£… <code>mqtt v3.0</code> ç‰ˆæœ¬ï¼Œæˆ‘ä¹‹å‰è£…äº†ä¸€ä¸ª v5.x ç‰ˆæœ¬ï¼Œæœ‰æ¯”è¾ƒå¤§çš„ API æ”¹åŠ¨ã€‚é¡¹ç›®ä¸Šæ—¶é—´ç´§å¼ ï¼Œé‚æ²¡æœ‰å†å°è¯•ã€‚ï¼ˆæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥è€ƒè™‘ç”¨æœ€æ–°ç‰ˆå®ç°ï¼‰</p>
<p><code>uuid</code> åªæ˜¯èµ·åˆ°ç”Ÿæˆ è¿æ¥ID å’Œ æ¶ˆæ¯ID çš„ä½œç”¨ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨æ—¶é—´æˆ³çš„æ–¹å¼ï¼Œä½†æ˜¯ä¸ºäº†ä¿è¯ä¸é‡å¤ï¼Œè¿™é‡Œä¾¿ä¸å†æ›´æ¢äº†ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// mqttClient.js å¯¹ MQTT çš„ç®€å•å°è£…</span>
<span class="hljs-keyword">let</span> client = <span class="hljs-literal">null</span>;
<span class="hljs-comment">/**
 * åˆå§‹åŒ– MQTT è¿æ¥
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Object</span>} <span class="hljs-variable">options</span>
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} options.host - æœåŠ¡å™¨åœ°å€ï¼ˆä¸å¸¦åè®®ï¼‰
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} options.port - ç«¯å£ï¼ˆé€šå¸¸ WebSocket æ˜¯ 8083ã€8084 æˆ– 443ï¼‰
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} options.clientId - å®¢æˆ·ç«¯ IDï¼ˆå»ºè®®å”¯ä¸€ï¼‰
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} [options.username] - ç”¨æˆ·å
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} [options.password] - å¯†ç 
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">boolean</span>} [options.useWss=false] - æ˜¯å¦ä½¿ç”¨ wssï¼ˆHTTPSï¼‰
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">initMqtt</span>(<span class="hljs-params">options</span>) {
	<span class="hljs-keyword">const</span> {
		host,
		port,
		clientId,
		username = <span class="hljs-string">''</span>,
		password = <span class="hljs-string">''</span>,
		useWss = <span class="hljs-literal">false</span>
	} = options;

	<span class="hljs-comment">// æ ¹æ®å¹³å°é€‰æ‹©åè®®ï¼ˆApp å’Œ H5 ç”¨ ws/wssï¼Œå°ç¨‹åºç”¨ wxs/wssï¼‰</span>
	<span class="hljs-keyword">let</span> protocol = <span class="hljs-string">'ws'</span>;
	<span class="hljs-keyword">if</span> (useWss) protocol = <span class="hljs-string">'wss'</span>;

	<span class="hljs-comment">// #ifdef MP-WEIXIN</span>
	protocol = useWss ? <span class="hljs-string">'wxs'</span> : <span class="hljs-string">'wxs'</span>;
	<span class="hljs-comment">// #endif</span>

	<span class="hljs-keyword">const</span> url = <span class="hljs-string">`<span class="hljs-subst">${protocol}</span>://<span class="hljs-subst">${host}</span>:<span class="hljs-subst">${port}</span>/mqtt`</span>; <span class="hljs-comment">// æ³¨æ„ï¼šè·¯å¾„å¯èƒ½æ˜¯ / æˆ– /mqttï¼Œæ ¹æ®ä½ çš„ broker é…ç½®</span>

	<span class="hljs-keyword">const</span> connectOptions = {
		<span class="hljs-attr">clientId</span>: clientId,
		<span class="hljs-attr">username</span>: username,
		<span class="hljs-attr">password</span>: password,
		<span class="hljs-attr">keepalive</span>: <span class="hljs-number">60</span>, <span class="hljs-comment">// å¿ƒè·³é—´éš”ï¼ˆç§’ï¼‰</span>
		<span class="hljs-attr">reconnectPeriod</span>: <span class="hljs-number">5000</span>, <span class="hljs-comment">// è‡ªåŠ¨é‡è¿é—´éš”ï¼ˆæ¯«ç§’ï¼‰</span>
		<span class="hljs-attr">connectTimeout</span>: <span class="hljs-number">10000</span>, <span class="hljs-comment">// è¿æ¥è¶…æ—¶</span>
		<span class="hljs-attr">clean</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">// æ˜¯å¦æ¸…é™¤ä¼šè¯</span>
	};

	<span class="hljs-comment">// å¼•å…¥ mqttï¼ˆå¿…é¡»ç”¨ min ç‰ˆæœ¬ï¼Œå¦åˆ™å°ç¨‹åºæŠ¥é”™ï¼‰</span>
	<span class="hljs-keyword">const</span> mqtt = <span class="hljs-built_in">require</span>(<span class="hljs-string">'mqtt/dist/mqtt.min.js'</span>);

	client = mqtt.<span class="hljs-title function_">connect</span>(url, connectOptions);

	<span class="hljs-comment">// ç›‘å¬è¿æ¥äº‹ä»¶</span>
	client.<span class="hljs-title function_">on</span>(<span class="hljs-string">'connect'</span>, <span class="hljs-function">() =&gt;</span> {
		<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'MQTT è¿æ¥æˆåŠŸ'</span>);
	});

	client.<span class="hljs-title function_">on</span>(<span class="hljs-string">'reconnect'</span>, <span class="hljs-function">() =&gt;</span> {
		<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'MQTT æ­£åœ¨é‡è¿...'</span>);
	});

	client.<span class="hljs-title function_">on</span>(<span class="hljs-string">'error'</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
		<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'MQTT è¿æ¥é”™è¯¯:'</span>, err);
	});

	client.<span class="hljs-title function_">on</span>(<span class="hljs-string">'close'</span>, <span class="hljs-function">() =&gt;</span> {
		<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'MQTT è¿æ¥å·²å…³é—­'</span>);
	});

	<span class="hljs-keyword">return</span> client;
}

<span class="hljs-comment">/**
 * è®¢é˜…ä¸»é¢˜
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">topic</span>
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Function</span>} <span class="hljs-variable">callback</span> - (topic, message) =&gt; {}
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">subscribe</span>(<span class="hljs-params">topic, callback</span>) {
	<span class="hljs-keyword">if</span> (!client) {
		<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'MQTT å®¢æˆ·ç«¯æœªåˆå§‹åŒ–'</span>);
		<span class="hljs-keyword">return</span>;
	}

	client.<span class="hljs-title function_">subscribe</span>(topic, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
		<span class="hljs-keyword">if</span> (!err) {
			<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`è®¢é˜…ä¸»é¢˜æˆåŠŸ: <span class="hljs-subst">${topic}</span>`</span>);
		} <span class="hljs-keyword">else</span> {
			<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'è®¢é˜…å¤±è´¥:'</span>, err);
		}
	});

	<span class="hljs-comment">// ç›‘å¬æ¶ˆæ¯ï¼ˆå…¨å±€ç›‘å¬ï¼Œéœ€é…åˆ topic è¿‡æ»¤ï¼‰</span>
	client.<span class="hljs-title function_">on</span>(<span class="hljs-string">'message'</span>, <span class="hljs-function">(<span class="hljs-params">receivedTopic, message</span>) =&gt;</span> {
		<span class="hljs-comment">// if (receivedTopic === topic) {</span>
			<span class="hljs-keyword">try</span> {
				<span class="hljs-comment">// å°è¯•è§£æ JSON</span>
				<span class="hljs-keyword">const</span> payload = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(message.<span class="hljs-title function_">toString</span>());
				<span class="hljs-title function_">callback</span>(receivedTopic, payload);
			} <span class="hljs-keyword">catch</span> (e) {
				<span class="hljs-comment">// é JSON æ¶ˆæ¯</span>
				<span class="hljs-title function_">callback</span>(receivedTopic, message.<span class="hljs-title function_">toString</span>());
			}
		<span class="hljs-comment">// }</span>
	});
}

<span class="hljs-comment">/**
 * å‘å¸ƒæ¶ˆæ¯
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">topic</span>
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string|object</span>} <span class="hljs-variable">message</span>
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">publish</span>(<span class="hljs-params">topic, message</span>) {
	<span class="hljs-keyword">if</span> (!client) {
		<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'MQTT å®¢æˆ·ç«¯æœªåˆå§‹åŒ–'</span>);
		<span class="hljs-keyword">return</span>;
	}

	<span class="hljs-keyword">const</span> payload = <span class="hljs-keyword">typeof</span> message === <span class="hljs-string">'object'</span> ? <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(message) : message;
	client.<span class="hljs-title function_">publish</span>(topic, payload, {
		<span class="hljs-attr">qos</span>: <span class="hljs-number">1</span>
	}, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
		<span class="hljs-keyword">if</span> (err) {
			<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'å‘å¸ƒå¤±è´¥:'</span>, err);
		} <span class="hljs-keyword">else</span> {
			<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å‘å¸ƒæˆåŠŸ: <span class="hljs-subst">${topic}</span>`</span>, payload);
		}
	});
}

<span class="hljs-comment">/**
 * æ–­å¼€è¿æ¥
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">disconnect</span>(<span class="hljs-params"/>) {
	<span class="hljs-keyword">if</span> (client) {
		client.<span class="hljs-title function_">end</span>(<span class="hljs-literal">true</span>); <span class="hljs-comment">// true è¡¨ç¤ºå¼ºåˆ¶æ–­å¼€</span>
		client = <span class="hljs-literal">null</span>;
		<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'MQTT å·²æ–­å¼€'</span>);
	}
}
</code></pre>
<p>æˆ‘è®© <strong>Trae</strong> åŸºäºç½‘ä¸Šçš„å°è£…ç®€å•è¿›è¡Œäº†ä¿®æ”¹ï¼Œç”Ÿæˆäº†ä¸Šè¿°å°è£…Jsæ–‡ä»¶ã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼šåœ¨<code>ç›‘å¬æ¶ˆæ¯</code>çš„éƒ¨åˆ†ï¼Œå¦‚æœä½ çš„ Topic æ˜¯å›ºå®šçš„ï¼Œåˆ™è¯·å°† <code>if (receivedTopic === topic)</code> çš„<strong>æ³¨é‡Šæ‰“å¼€</strong>ï¼Œå¦‚æœä¸æ˜¯ï¼Œåˆ™<strong>æ³¨é‡Šæ‰</strong>ï¼Œåç»­æœ‰è¯¦è§£ã€‚</p>
<p>ç°åœ¨è¿›å…¥åˆ° <code>page/index/index.vue</code> æ–‡ä»¶ä¸­</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> {initMqtt, subscribe, publish, disconnect} <span class="hljs-keyword">from</span> <span class="hljs-string">'./mqttClient.js'</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">host</span>: <span class="hljs-string">'broker.emqx.io'</span>,
            <span class="hljs-attr">messages</span>: []
        }
    },
    <span class="hljs-title function_">mounted</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">connect</span>()
    },
    <span class="hljs-title function_">beforeDestroy</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">disconnect</span>()
    },
    <span class="hljs-attr">methods</span>: {
        <span class="hljs-comment">// è¿æ¥</span>
        <span class="hljs-title function_">connect</span>(<span class="hljs-params"/>) {
            <span class="hljs-keyword">const</span> uuid = <span class="hljs-title function_">uuidv4</span>();
            <span class="hljs-keyword">const</span> client = <span class="hljs-title function_">initMqtt</span>({
                <span class="hljs-attr">host</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">host</span>,
                <span class="hljs-attr">port</span>: <span class="hljs-number">8083</span>,
                <span class="hljs-attr">clientId</span>: uuid,
                <span class="hljs-attr">username</span>: <span class="hljs-string">''</span>,
                <span class="hljs-attr">password</span>: <span class="hljs-string">''</span>,
                <span class="hljs-attr">useWss</span>: <span class="hljs-literal">false</span> <span class="hljs-comment">// å¦‚æœæ˜¯ HTTPS/WSSï¼Œè®¾ä¸º true</span>
            });
            <span class="hljs-keyword">if</span> (client) {
                <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">subscribeTopic</span>();
            }
        },
        <span class="hljs-comment">// è®¢é˜… test/topic ä¸»é¢˜</span>
        <span class="hljs-title function_">subscribeTopic</span>(<span class="hljs-params"/>) {
            <span class="hljs-title function_">subscribe</span>(<span class="hljs-string">'test/topic'</span>, <span class="hljs-function">(<span class="hljs-params">topic, message</span>) =&gt;</span> {
                <span class="hljs-comment">// æ¥æ”¶åˆ°çš„æ¶ˆæ¯</span>
                <span class="hljs-keyword">const</span> msg = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(message);
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">messages</span>.<span class="hljs-title function_">unshift</span>(msg);
            });
        },
        <span class="hljs-comment">// è®¢é˜… å¸¦é€šé…ç¬¦ çš„ä¸»é¢˜</span>
        <span class="hljs-title function_">subscribeTopics</span>(<span class="hljs-params"/>) {
            <span class="hljs-title function_">subscribe</span>(<span class="hljs-string">'+/topic'</span>, <span class="hljs-function">(<span class="hljs-params">topic, message</span>) =&gt;</span> {
                <span class="hljs-comment">// æ¥æ”¶åˆ°çš„æ¶ˆæ¯</span>
                <span class="hljs-keyword">const</span> msg = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(message);
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">messages</span>.<span class="hljs-title function_">unshift</span>(msg);
            });
        },
        <span class="hljs-comment">// å‘é€æ¶ˆæ¯åˆ° test/topic ä¸»é¢˜</span>
        <span class="hljs-title function_">publishMessage</span>(<span class="hljs-params"/>) {
            <span class="hljs-title function_">publish</span>(<span class="hljs-string">'test/topic'</span>, {
                <span class="hljs-attr">name</span>: <span class="hljs-string">'uni-app'</span>,
                <span class="hljs-attr">time</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toISOString</span>(),
                <span class="hljs-attr">msg</span>: <span class="hljs-string">'æµ‹è¯•ä¿¡æ¯'</span>
            });
        },
        <span class="hljs-title function_">disconnect</span>(<span class="hljs-params"/>) {
            <span class="hljs-title function_">disconnect</span>();
        }
    }
}
</code></pre>
<p><strong>æ³¨æ„</strong>ï¼šåœ¨å¸è½½é¡µé¢çš„æ—¶å€™å»ºè®®å°† MQTTè¿æ¥ æ–­å¼€ï¼Œæˆ–è€…åœ¨ uni-app ä¸­ä½¿ç”¨ä¹Ÿå¯ä»¥ä½¿ç”¨ unload æ–¹æ³•æ–­å¼€è¿æ¥ã€‚</p>
<p>å¦å¤–è®¢é˜…ä¸»é¢˜å¯ä»¥é‡‡ç”¨å¸¸è§„çš„ï¼Œç¡®å®šæ€§çš„ <code>Topic</code> ä¸»é¢˜åç§°ï¼Œä¹Ÿå¯ä»¥é‡‡ç”¨ <code>é€šé…ç¬¦(+)</code> çš„ä¸»é¢˜åç§°ã€‚</p>
<p><strong>Trae</strong>è¿˜æé†’æˆ‘ä¸€å®šè¦æ³¨æ„ï¼Œå‡å¦‚ä½ çš„ Topic ä¸ºï¼š</p>
<p><code>123/456/report</code> åˆ™ä½ çš„é€šé…ç¬¦ä¸»é¢˜åç§°ä¸º <code>+/+/report</code></p>
<p>å‡å¦‚ä½ çš„ Topic ä¸ºï¼š</p>
<p><code>/123/456/report</code> åˆ™ä½ çš„é€šé…ç¬¦ä¸»é¢˜åç§°ä¸º <code>+/+/+/report</code>ï¼Œå› ä¸ºä»–çš„ç¬¬ä¸€ä½æ˜¯ <strong>ç©ºå­—ç¬¦ä¸²</strong>ã€‚</p>
<h2 data-id="heading-2">ç»“è®º</h2>
<p>åœ¨å¼€å‘ IoT è®¾å¤‡æ—¶è¿™ä¸ªåè®®ç”¨çš„æ¯”è¾ƒå¹¿æ³›ï¼Œå¦‚æœä¸æ¥è§¦è¿™ä¸ªæ–¹é¢ä¸€èˆ¬ä¸ä¼šç”¨ä¸Šè¿™ä¸ªã€‚</p>
<p>å¦å¤– MQTT æœ¬èº«è‡ªå¸¦<code>å¿ƒè·³</code>å’Œ<code>è‡ªåŠ¨é‡è¿</code>æœºåˆ¶ï¼Œå¤§è‡´ä¸Šç›¸å½“äº <code>WebSocket</code>ï¼Œè¿™ä¸ªéƒ¨åˆ†ä¸€èˆ¬ä¸éœ€è¦åšç‰¹æ®Šå¼€å‘ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€é‡ç£…ç¦åˆ©ã€‘å­¦ç”Ÿè®¤è¯å¯å…è´¹é¢†å– Gemini 3 Pro ä¸€å¹´]]></title>    <link>https://juejin.cn/post/7593338828195446824</link>    <guid>https://juejin.cn/post/7593338828195446824</guid>    <pubDate>2026-01-09T14:35:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593338828195446824" data-draft-id="7593193235251396660" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€é‡ç£…ç¦åˆ©ã€‘å­¦ç”Ÿè®¤è¯å¯å…è´¹é¢†å– Gemini 3 Pro ä¸€å¹´ "/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-09T14:35:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜å¤§å«"/> <meta itemprop="url" content="https://juejin.cn/user/1961184474695213"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€é‡ç£…ç¦åˆ©ã€‘å­¦ç”Ÿè®¤è¯å¯å…è´¹é¢†å– Gemini 3 Pro ä¸€å¹´ 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1961184474695213/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜å¤§å«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T14:35:54.000Z" title="Fri Jan 09 2026 14:35:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">èƒŒæ™¯</h2>
<p>è°·æ­Œæ­£å¼å‘å¸ƒæœ€æ–°ä¸€ä»£æ¨ç†æ¨¡å‹ Gemini 3.0 Proï¼Œå¹¶åŒæ­¥å¼€æ”¾ API æ¥å£åŠåœ¨ è°·æ­Œ AI Studio æ¨å‡ºé¢„è§ˆç‰ˆã€‚è¿™æ¬¾æ¨¡å‹ä¸€ç»å‘å¸ƒï¼Œç«‹åˆ»æ¨ªæ‰«å„å¤§è¯„æµ‹æ¦œå•ï¼Œä»¥â€œä¸€å¤œå°ç¥â€çš„å§¿æ€éœ‡æ’¼äº†å…¨çƒ AI ç¤¾ç¾¤ã€‚</p>
<p>å€¼å¾—ç©å‘³çš„æ˜¯ï¼ŒOpenAI é¦–å¸­æ‰§è¡Œå®˜å¥¥ç‰¹æ›¼ä¹Ÿéš”ç©ºå‘è°·æ­Œå‘æ¥â€œè´ºç”µâ€ï¼Œåœ¨ç¤¾äº¤åª’ä½“ä¸Šè¯„ä»·â€œGemini 3 çœ‹èµ·æ¥å¾ˆä¸é”™â€ï¼Œè°·æ­Œé¦–å¸­æ‰§è¡Œå®˜çš®æŸ¥ä¼Šï¼ˆSundar Pichaiï¼‰åˆ™ä»¥ä¸€ä¸ªè½»æ¾çš„è¡¨æƒ…åŒ…å›åº”ï¼Œå°½æ˜¾ç‹è€…é£èŒƒã€‚</p>
<p>Gemini 3.0 Pro çš„å¼ºå¤§å¹¶éç©ºç©´æ¥é£ï¼Œå…¶åœ¨å…³é”®çš„åŸºå‡†æµ‹è¯•ä¸­å®ç°äº†å…¨é¢â€œç¢¾å‹å¼â€çš„é¢†å…ˆï¼š</p>
<p><strong>æ•°å­¦èƒ½åŠ›ç™»é¡¶å…¨çƒï¼š</strong> åœ¨è¢«èª‰ä¸ºâ€œåœ°ç‹±éš¾åº¦â€çš„æ•°å­¦ç«èµ›åŸºå‡† MathArena ä¸­ï¼Œå½“ GPT-5.1 ç­‰å…¶ä»–é¡¶çº§å¤§æ¨¡å‹ä»åœ¨ 1% å·¦å³å¾˜å¾Šæ—¶ï¼ŒGemini 3.0 Pro çš„å¾—åˆ†ä¸€ä¸¾è¾¾åˆ° <strong>23.4%</strong> ï¼Œæ¯«æ— äº‰è®®åœ°æˆä¸ºå½“å‰å…¨çƒæ•°å­¦èƒ½åŠ›æœ€å¼ºçš„ AIã€‚</p>
<h2 data-id="heading-1">é‡ç£…ç¦åˆ©</h2>
<p>ç°åœ¨ä¸€å¹´ä¼šå‘˜åªè¦ <strong>29.9</strong> å…ƒï¼Œå¸®æ‚¨è§£å†³ä»¥ä¸‹ 4 å¤§é—®é¢˜ã€‚</p>
<blockquote>
<p>âš ï¸æ³¨ï¼šä¼˜æƒ æˆªæ­¢æ—¥æœŸ 2026å¹´1æœˆ31æ—¥</p>
<p>å¦‚æœ‰é—®é¢˜å¯ä»¥è”ç³»Vï¼šzm_davidã€‚</p>
</blockquote>
<h2 data-id="heading-2">1. å‡ºäº†ç‚¹é—®é¢˜ï¼ˆSomething went wrongï¼‰</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/228d3b26acee4cb0a60a7d1b40514c86~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5aSn5Y2r:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768574154&amp;x-signature=FwqoEmTGrfzbyt7J09CcHSndlfs%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b44ecadaba1b48cca89662ae802a29de~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5aSn5Y2r:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768574154&amp;x-signature=pwcwTIc%2FPwlJUvIiHD0rgaSDr2A%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-3">2. æ­¤è´¦å·æ— æ³•è®¢é˜… Google AI æ–¹æ¡ˆ</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0e3e2b44eed343e3b9b73e9b19001e46~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5aSn5Y2r:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768574154&amp;x-signature=3iNaktoFMgp17ihOUw1uZu9hNe0%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">3. æ— æ³•äº«å—æ­¤ä¼˜æƒ </h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/64f8c40de8054a4684fbed1304e96c21~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5aSn5Y2r:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768574154&amp;x-signature=hX5x6DXtJ4ygmXzSruRwL7lJopM%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0af1afa414f74c259acab6a7b0121e16~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5aSn5Y2r:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768574154&amp;x-signature=vguhpjj9Aa0x0AN%2FHR%2F9xc4aHI0%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">4. æ²¡æœ‰ Visa å¡ç»‘å®š</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c0983335f6f548109905edf089f93f30~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5aSn5Y2r:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768574154&amp;x-signature=i7%2BbFbh%2B9LL59ZGJHssYSysd%2Bqk%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Jetpack Composeå†…éƒ¨çš„ä¸åŒèŠ‚ç‚¹ç±»å‹]]></title>    <link>https://juejin.cn/post/7593164154632126473</link>    <guid>https://juejin.cn/post/7593164154632126473</guid>    <pubDate>2026-01-09T14:55:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593164154632126473" data-draft-id="7593175890794840110" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Jetpack Composeå†…éƒ¨çš„ä¸åŒèŠ‚ç‚¹ç±»å‹"/> <meta itemprop="keywords" content="Android,Android Jetpack,Kotlin"/> <meta itemprop="datePublished" content="2026-01-09T14:55:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨€æœ‰çŒ¿è¯‰"/> <meta itemprop="url" content="https://juejin.cn/user/2788017216685784"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Jetpack Composeå†…éƒ¨çš„ä¸åŒèŠ‚ç‚¹ç±»å‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2788017216685784/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨€æœ‰çŒ¿è¯‰
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T14:55:00.000Z" title="Fri Jan 09 2026 14:55:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡è¯‘è‡ªã€ŒThe Different Node Types in Jetpack Composeã€ï¼ŒåŸæ–‡é“¾æ¥<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.grokkingandroid.com%2Fthe-different-node-types-in-jetpack-compose%2F" target="_blank" title="https://www.grokkingandroid.com/the-different-node-types-in-jetpack-compose/" ref="nofollow noopener noreferrer">www.grokkingandroid.com/the-differeâ€¦</a>ï¼Œç”±Wolfram Rittmeyerå‘å¸ƒäº2025å¹´12æœˆ30æ—¥ã€‚</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a732fb91ad6842e5ac8ac107d3ad45a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iA5pyJ54y_6K-J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768575299&amp;x-signature=MY8MC4m7UqcnVuXbWeLfU%2BG8XFg%3D" alt="é¢„è§ˆå›¾å±•ç¤ºäº† ComposeUiNode çš„éƒ¨åˆ†åˆ—è¡¨" loading="lazy"/></p>
<p>å¦‚æœä½ ä»”ç»†è§‚å¯Ÿ Composeï¼Œä½ ä¼šå‘ç°å®ƒå¾ˆå¥‡æ€ªã€‚ä½ ä¼šå‘ç°å¾ˆå¤šå‡½æ•°éƒ½æ²¡æœ‰è¿”å›å€¼ã€‚ç„¶è€Œï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fdevelop%2Fui%2Fcompose%2Fmental-model" target="_blank" title="https://developer.android.com/develop/ui/compose/mental-model" ref="nofollow noopener noreferrer">Android æ–‡æ¡£</a>å´è¯´ï¼š</p>
<blockquote>
<p>å¯ç»„åˆå‡½æ•°ä¼šç”Ÿæˆ UI å±‚çº§ç»“æ„ã€‚</p>
</blockquote>
<p>è¿™åˆ°åº•æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿä»å‡½æ•°å¼ç¼–ç¨‹çš„è§’åº¦æ¥çœ‹ï¼Œä½ é‚£äº›çœ‹ä¼¼æ— å®³çš„æ— çŠ¶æ€å¯ç»„åˆå‡½æ•°å®é™…ä¸Šä¼šäº§ç”Ÿå¤§é‡çš„<em>å‰¯ä½œç”¨[1]</em>ã€‚å…¶ä¸­å°±åŒ…æ‹¬<em>åˆ›å»ºèŠ‚ç‚¹[2]</em>ã€‚</p>
<p>æœ‰æ—¶ä½ å¯èƒ½ä¼šåˆ›å»ºä¸€äº›å¯ç»„åˆå‡½æ•°æ¥è‡ªå·±åˆ›å»ºèŠ‚ç‚¹ã€‚ä½†æ›´å¤šæ—¶å€™ï¼Œä½ ä¼šç›´æ¥å§”æ‰˜ç»™å…¶ä»–å¯ç»„åˆå‡½æ•°æ¥åˆ›å»ºèŠ‚ç‚¹ã€‚</p>
<p>é‚£ä¹ˆï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹æœ‰å“ªäº›èŠ‚ç‚¹ï¼Œå®ƒä»¬çš„åˆ›å»ºä½ç½®ä»¥åŠå®ƒä»¬çš„ç”¨é€”ï¼š</p>
<ul>
<li>ComposeUiNode</li>
<li>LayoutNode</li>
<li>Modifier.Node</li>
<li>SemanticsNode</li>
</ul>
<h2 data-id="heading-0">ComposeUiNode</h2>
<p>å½“ä½ æ·±å…¥ç ”ç©¶<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fui%2Flayout%2Fpackage-summary%23Layout(androidx.compose.ui.Modifier%2Candroidx.compose.ui.layout.MeasurePolicy)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/ui/layout/package-summary#Layout(androidx.compose.ui.Modifier,androidx.compose.ui.layout.MeasurePolicy)" ref="nofollow noopener noreferrer"><code>Layout</code></a>å¯ç»„åˆå¯¹è±¡æ—¶ï¼Œä½ ä¼šå‘ç°å®ƒè°ƒç”¨äº†<code>ReusableComposeNode[3]</code>:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-meta">@UiComposable</span>
<span class="hljs-keyword">inline</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">Layout</span><span class="hljs-params">(modifier: <span class="hljs-type">Modifier</span> = Modifier, measurePolicy: <span class="hljs-type">MeasurePolicy</span>)</span></span> {
    <span class="hljs-keyword">val</span> compositeKeyHash = currentCompositeKeyHash
    <span class="hljs-keyword">val</span> materialized = currentComposer.materialize(modifier)
    <span class="hljs-keyword">val</span> localMap = currentComposer.currentCompositionLocalMap
    ReusableComposeNode&lt;ComposeUiNode, Applier&gt;(
        factory = ComposeUiNode.Constructor,
        update = {
            <span class="hljs-keyword">set</span>(measurePolicy, SetMeasurePolicy)
            <span class="hljs-keyword">set</span>(localMap, SetResolvedCompositionLocals)
            <span class="hljs-keyword">set</span>(materialized, SetModifier)
            <span class="hljs-keyword">set</span>(compositeKeyHash, SetCompositeKeyHash)
        },
    )
}
</code></pre>
<p><strong><code>ReusableComposeNode</code>æœ¬èº«å¹¶ä¸æ˜¯ä¸€ä¸ªèŠ‚ç‚¹ã€‚</strong> ä¸Šé¢çš„ä»£ç ä¸­å¹¶æ²¡æœ‰æ„é€ å‡½æ•°è°ƒç”¨ï¼Œè€Œæ˜¯å¯¹å¦ä¸€ä¸ªå¯ç»„åˆå¯¹è±¡çš„è°ƒç”¨ã€‚ç¬¬å…«è¡Œçš„å·¥å‚å‚æ•°çœ‹ä¼¼æ— å…³ç´§è¦ï¼Œä½†å®é™…ä¸Šéå¸¸é‡è¦ã€‚å› ä¸ºæœ€ç»ˆä¼šåˆ›å»ºèŠ‚ç‚¹çš„å°±æ˜¯è¿™ä¸ªå‡½æ•°ã€‚å®ƒä¼šåˆ›å»ºä¸€ä¸ª <code>ComposeUiNode</code>ã€‚</p>
<p><code>ReusableComposeNode</code> Composable ä¸ Compose è¿è¡Œæ—¶ç´§å¯†ç›¸å…³ã€‚è¿™æ®µä»£ç å‘Šè¯‰ Composer åº”è¯¥å¯åŠ¨ä¸€ä¸ª <code>GroupKind.ReusableNode</code> ç±»å‹çš„æ–°ç»„ï¼Œç„¶åä»£ç ä¼šåˆ›å»ºä¸€ä¸ªæ–°èŠ‚ç‚¹ï¼Œæˆ–è€…åœ¨é‡æ–°ç»„åˆæ—¶é‡ç”¨ç°æœ‰èŠ‚ç‚¹ã€‚æœ€åï¼Œå½“ä½¿ç”¨ update å‡½æ•°å‚æ•°æ—¶ï¼Œå®ƒä¼šè®¾ç½®èŠ‚ç‚¹çš„å†…å®¹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-keyword">inline</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T : Any, <span class="hljs-keyword">reified</span> E : Applier&gt;</span> <span class="hljs-title">ReusableComposeNode</span><span class="hljs-params">(
    <span class="hljs-keyword">noinline</span> factory: () -&gt; <span class="hljs-type">T</span>,
    update: @<span class="hljs-type">DisallowComposableCalls</span> <span class="hljs-type">Updater</span>.() -&gt; <span class="hljs-type">Unit</span>
)</span></span> {
    <span class="hljs-keyword">if</span> (currentComposer.applier !<span class="hljs-keyword">is</span> E) invalidApplier()
    currentComposer.startReusableNode()
    <span class="hljs-keyword">if</span> (currentComposer.inserting) {
        currentComposer.createNode(factory)
    } <span class="hljs-keyword">else</span> {
        currentComposer.useNode()
    }
    Updater(currentComposer).update()
    currentComposer.endNode()
}
</code></pre>
<p>æˆ‘ä»¬çœ‹åˆ°å·¥å‚è¢«ä¼ é€’ç»™äº† <code>createNode()</code> è°ƒç”¨ã€‚æ­¤è°ƒç”¨ä¼šå®‰æ’åœ¨æ‰€æœ‰æ’å…¥æ“ä½œå¤„ç†å®Œæ¯•ååˆ›å»ºèŠ‚ç‚¹ã€‚Compose è¿è¡Œæ—¶å†…éƒ¨ä¼šå»¶è¿Ÿæ‰§è¡Œè®¸å¤šæ“ä½œä»¥å®ç°ä¼˜åŒ–ã€‚è¿™é‡Œæˆ‘ä»¬å¹¶ä¸å…³å¿ƒå…·ä½“ä½•æ—¶å‘ç”Ÿï¼Œåªéœ€çŸ¥é“å®ƒ_å°†ä¼š_å‘ç”Ÿå³å¯ã€‚å½“å®ƒå‘ç”Ÿæ—¶ï¼Œå·¥å‚å°†è¢«è°ƒç”¨ã€‚</p>
<p>ç°åœ¨è®©æˆ‘ä»¬æ›´ä»”ç»†åœ°çœ‹ä¸€ä¸‹å·¥å‚æœ¬èº«ï¼š<code>ComposeUiNode.Constructor</code> çœ‹èµ·æ¥åƒæ˜¯ <code>ComposeUiNode</code> çš„æ„é€ å‡½æ•°ã€‚ä½†äº‹å®å¹¶éå¦‚æ­¤ã€‚å®é™…ä¸Šï¼Œ<code>ComposeUiNode</code> æ˜¯ä¸€ä¸ªæ¥å£ï¼Œå®ƒæœ¬èº«å¹¶ä¸æ‰§è¡Œä»»ä½•æ“ä½œã€‚å®ƒå®é™…ä¸Šæ˜¯ <code>LayoutNode</code> ä½¿ç”¨çš„åŸºæ¥å£ã€‚è‡³äºè¿™ä¸ªæ¥å£å’Œæ„é€ å‡½æ•°çš„ç”¨é€”ï¼Œåœ¨æ¥å£å£°æ˜ä¸Šæ–¹çš„æ³¨é‡Šä¸­å·²ç»ç»™å‡ºï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">/** Interface extracted from LayoutNode to not mark the whole LayoutNode class as <span class="hljs-doctag">@PublishedApi</span>. */</span>
<span class="hljs-meta">@PublishedApi</span>
<span class="hljs-keyword">internal</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ComposeUiNode</span> {
    <span class="hljs-comment">// ...</span>
    <span class="hljs-comment">/** Object of pre-allocated lambdas used to make use with ComposeNode allocation-less. */</span>
    <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> {
        <span class="hljs-keyword">val</span> Constructor: () -&gt; ComposeUiNode = LayoutNode.Constructor
        <span class="hljs-keyword">val</span> VirtualConstructor: () -&gt; ComposeUiNode = { LayoutNode(isVirtual = <span class="hljs-literal">true</span>) }
        <span class="hljs-comment">// ...</span>
    }
}
</code></pre>
<p><strong>æ‰€ä»¥ <code>ComposeUiNode</code> åªæ˜¯ <code>LayoutNode</code> çš„ä¸€ä¸ªæŠ½è±¡ã€‚</strong></p>
<h2 data-id="heading-1">å¸ƒå±€èŠ‚ç‚¹ï¼ˆLayoutNodeï¼‰</h2>
<p>åœ¨ä¸Šä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å·²ç»äº†è§£äº† <code>LayoutNode</code> çš„å®é™…åˆ›å»ºæ—¶é—´ã€‚åŸºæœ¬ä¸Šï¼Œæ¯å½“è°ƒç”¨ <code>Layout</code> å¯ç»„åˆç»„ä»¶æ—¶ï¼Œéƒ½ä¼šåˆ›å»º <code>LayoutNode</code>ã€‚<code>LayoutNode</code> æ˜¯æ ‘çŠ¶ç»“æ„ä¸­çš„å…ƒç´ ï¼Œä»£è¡¨å±å¹•ä¸Šçš„å†…å®¹ã€‚å®ƒéœ€è¦è¢«æµ‹é‡ï¼Œå¯ä»¥åœ¨å…¶è¾¹ç•Œå†…æ”¾ç½®å­å…ƒç´ ï¼Œä¹Ÿå¯ä»¥ç»˜åˆ¶å†…å®¹ã€‚</p>
<p>æ¯ä¸ª <code>LayoutNode</code> éƒ½çŸ¥é“å®ƒçš„å­å…ƒç´ å’Œçˆ¶å…ƒç´ ã€‚å› æ­¤ï¼Œ<code>LayoutNode</code> æ„æˆäº†ä¸€ä¸ªèŠ‚ç‚¹æ ‘ï¼Œä»£è¡¨äº†å·²å‘å‡ºçš„å†…å®¹ã€‚éœ€è¦æ˜ç¡®çš„æ˜¯ï¼šCompose åˆ›å»ºçš„æ ‘çŠ¶ç»“æ„ä¸å…¶ä»– UI æ¡†æ¶ä¸€æ ·â€”â€”ä½† Google æ›´å€¾å‘äºä½¿ç”¨ä¸€äº›æ›´é«˜çº§çš„å‘½åæ–¹å¼ã€‚<strong>å› æ­¤ï¼Œæ¯å½“ä½ å¬åˆ°/è¯»åˆ°æœ‰å…³å¯ç»„åˆç»„ä»¶å‘å‡ºå†…å®¹æ—¶ï¼Œè¯·å°†å…¶ç†è§£ä¸ºä¸€ä¸ª LayoutNode è¢«åˆ›å»ºå¹¶æ’å…¥åˆ°æ ‘ä¸­ã€‚</strong></p>
<p><code>LayoutNode</code> ç±»å®é™…ä¸Šéå¸¸æœ‰è¶£ï¼Œå› æ­¤å€¼å¾—å•ç‹¬æ’°å†™ä¸€ç¯‡åšæ–‡ï¼Œæˆ‘å°†åœ¨å…¶ä¸­æ›´è¯¦ç»†åœ°ä»‹ç»å®ƒçš„ä¸€äº›æ–¹é¢ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸¤ç‚¹å€¼å¾—ä¸€æï¼š</p>
<ul>
<li><code>Applier</code> æ˜¯è°ƒç”¨ <code>LayoutNode</code> ç›¸åº”æ ‘çŠ¶ç»“æ„å¤„ç†æ–¹æ³•çš„å®ä¾‹ã€‚ - <code>LayoutNode</code> æŒæœ‰å¯¹ <code>Owner</code> çš„å¼•ç”¨ã€‚</li>
</ul>
<p>ç”±äº <code>Applier</code> å’Œ <code>Owner</code> åœ¨ Compose ä¸­éƒ½æ˜¯éå¸¸é‡è¦çš„æ¦‚å¿µï¼Œæˆ‘å°†åœ¨å•ç‹¬çš„åšæ–‡ä¸­åˆ†åˆ«ä»‹ç»å®ƒä»¬ã€‚</p>
<h3 data-id="heading-2">LayoutNode çš„ç”¨é€”</h3>
<p><code>LayoutNode</code> æ„æˆ UI æ ‘ï¼Œå¹¶è·Ÿè¸ªå…¶çˆ¶èŠ‚ç‚¹å’Œå­èŠ‚ç‚¹ã€‚UI æ ‘æœ¬èº«çš„ç®¡ç†ç”± <code>Applier</code> å®Œæˆï¼Œæˆ‘å°†åœ¨å¦ä¸€ç¯‡æ–‡ç« ä¸­ä»‹ç»å®ƒã€‚</p>
<p>å¦å¤–ï¼Œéœ€è¦è®°ä½çš„ä¸€ç‚¹æ˜¯ï¼Œ<code>LayoutNode</code> å­˜å‚¨åœ¨ <code>SlotTable[4]</code> ä¸­ã€‚å› æ­¤ï¼Œåœ¨é‡æ–°ç»„åˆæ—¶ï¼Œå¦‚æœè¿è¡Œæ—¶è®¤ä¸ºæ ‘çš„è¿™ä¸€éƒ¨åˆ†ä¸éœ€è¦æ›´æ”¹ï¼Œåˆ™å¯ä»¥é‡ç”¨ç°æœ‰çš„ <code>LayoutNode</code>ã€‚</p>
<p><code>LayoutNode</code> è¿˜ä¼šä¿å­˜å…¶ä¿®é¥°ç¬¦ï¼ˆå‚è§ä¸‹ä¸€èŠ‚ï¼‰ï¼Œå¹¶å§”æ‰˜è¿™äº›ä¿®é¥°ç¬¦æ¥å†³å®šè¯¥ <code>LayoutNode</code> éœ€è¦å¤šå°‘ç©ºé—´ï¼ˆæµ‹é‡ï¼‰ã€åœ¨å±å¹•ä¸Šæ”¾ç½®å…ƒç´ çš„ä½ç½®ï¼ˆå¸ƒå±€ï¼‰ä»¥åŠæœ€ç»ˆåœ¨å±å¹•ä¸Šæ˜¾ç¤ºä»€ä¹ˆå†…å®¹ï¼ˆç»˜åˆ¶ï¼‰ã€‚</p>
<p>è¿˜æœ‰æ›´å¤šå†…å®¹â€”â€”ä½†æ­£å¦‚æˆ‘æåˆ°çš„ï¼Œé‚£æ˜¯å¦ä¸€ç¯‡æ–‡ç« çš„ä¸€éƒ¨åˆ†ã€‚</p>
<h2 data-id="heading-3">Modifier.Node</h2>
<p>ä¿®é¥°ç¬¦åœ¨å†…éƒ¨ç”± <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fui%2FModifier.Node" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/ui/Modifier.Node" ref="nofollow noopener noreferrer"><code>Modifier.Node</code></a> å¯¹è±¡è¡¨ç¤ºã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fui%2FModifier.Node" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/ui/Modifier.Node" ref="nofollow noopener noreferrer">æ ¹æ®æ–‡æ¡£</a>ï¼Œå®ƒæ˜¯â€œä¸ºåº”ç”¨äº androidx.compose.ui.layout.Layout çš„æ¯ä¸ª Modifier.Element åˆ›å»ºçš„ç”Ÿå‘½å‘¨æœŸæ›´é•¿çš„å¯¹è±¡â€ã€‚</p>
<p>è¿™ä¸ªâ€œç”Ÿå‘½å‘¨æœŸæ›´é•¿â€å¾ˆæœ‰æ„æ€ã€‚åŸºæœ¬ä¸Šï¼Œåªè¦ <code>Modifier.Node</code> å±äº <code>LayoutNode</code> çš„ä¿®é¥°ç¬¦é“¾ï¼Œå®ƒå°±ä¼šä¸€ç›´å­˜åœ¨ã€‚ <code>LayoutNode</code> æŒæœ‰ä¸€ä¸ª <code>NodeChain</code> ç±»å‹çš„å¯¹è±¡ï¼Œè¯¥å¯¹è±¡å†…éƒ¨ç»´æŠ¤ç€ä¸€ä¸ªä¿®é¥°ç¬¦åˆ—è¡¨ï¼Œå¹¶æ£€æŸ¥è¯¥åˆ—è¡¨æ˜¯å¦å‘ç”Ÿæ›´æ”¹ï¼Œä»¥åŠ <code>Modifier.Node</code> çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼ˆä¾‹å¦‚ <code>onAttach()</code>ï¼‰æ˜¯å¦è¢«è°ƒç”¨ã€‚</p>
<p><code>Modifier.Node</code> æœ‰è®¸å¤šç°æœ‰çš„å­ç±»å‹ï¼Œä¾‹å¦‚ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fui%2Fnode%2FLayoutModifierNode" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/ui/node/LayoutModifierNode" ref="nofollow noopener noreferrer"><code>LayoutModifierNode</code></a>ï¼ˆè§ä¸‹æ–‡ï¼‰æˆ– <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fui%2Fnode%2FDrawModifierNode%3Fhl%3Den" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/ui/node/DrawModifierNode?hl=en" ref="nofollow noopener noreferrer"><code>DrawModifierNode</code></a>ã€‚åè€…è´Ÿè´£å®é™…åœ¨å±å¹•ä¸Šç»˜åˆ¶å†…å®¹ï¼Œæˆ‘è®¡åˆ’åœ¨å¦ä¸€ç¯‡æ–‡ç« ä¸­è¯¦ç»†ä»‹ç»ã€‚</p>
<p>ç”±äº <code>LayoutNode</code> æ˜¯ <code>SlotTable</code> çš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤é™„åŠ åˆ° <code>LayoutNode</code> çš„ <code>NodeChain</code> å¯¹è±¡çš„ <code>Modifier.Node</code> æ˜¾ç„¶ä¹Ÿæ˜¯ <code>SlotTable</code> çš„ä¸€éƒ¨åˆ†ã€‚</p>
<h3 data-id="heading-4">ç‰¹æ®Šå­ç±»å‹ï¼š<code>LayoutModifierNode</code></h3>
<p><code>LayoutModifierNode</code>ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fui%2Fnode%2FLayoutModifierNode%25EF%25BC%2589%25E6%2598%25AF%25E5%25AE%259E%25E9%2599%2585%25E8%25BF%259B%25E8%25A1%258C%25E6%25B5%258B%25E9%2587%258F%25E7%259A%2584%25E8%258A%2582%25E7%2582%25B9%25EF%25BC%258C%25E5%259B%25A0%25E4%25B8%25BA%25E5%25AE%2583%25E4%25BB%25AC%25E4%25BC%259A%25E5%25BD%25B1%25E5%2593%258D%25E5%25B1%258F%25E5%25B9%2595%25E4%25B8%258A%25E5%2585%2583%25E7%25B4%25A0%25E7%259A%2584%25E5%25A4%25A7%25E5%25B0%258F%25E5%2592%258C%25E4%25BD%258D%25E7%25BD%25AE%25E3%2580%2582%25E6%25AD%25A3%25E5%25A6%2582%25E6%2596%2587%25E6%25A1%25A3%25E6%2589%2580%25E8%25BF%25B0%25EF%25BC%259A%25E2%2580%259C%2560LayoutModifierNode%2560" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/ui/node/LayoutModifierNode%EF%BC%89%E6%98%AF%E5%AE%9E%E9%99%85%E8%BF%9B%E8%A1%8C%E6%B5%8B%E9%87%8F%E7%9A%84%E8%8A%82%E7%82%B9%EF%BC%8C%E5%9B%A0%E4%B8%BA%E5%AE%83%E4%BB%AC%E4%BC%9A%E5%BD%B1%E5%93%8D%E5%B1%8F%E5%B9%95%E4%B8%8A%E5%85%83%E7%B4%A0%E7%9A%84%E5%A4%A7%E5%B0%8F%E5%92%8C%E4%BD%8D%E7%BD%AE%E3%80%82%E6%AD%A3%E5%A6%82%E6%96%87%E6%A1%A3%E6%89%80%E8%BF%B0%EF%BC%9A%E2%80%9C%60LayoutModifierNode%60" ref="nofollow noopener noreferrer">developer.android.com/reference/kâ€¦</a> ä¼šæ”¹å˜å…¶åŒ…è£¹å†…å®¹çš„æµ‹é‡å’Œå¸ƒå±€æ–¹å¼ã€‚â€ã€‚å› æ­¤ï¼Œåœ¨æµ‹é‡å’Œå¸ƒå±€è¿‡ç¨‹ä¸­ï¼Œæ¯å½“éå† <code>ModifierNode</code> é“¾æ—¶ï¼Œè¿™äº›èŠ‚ç‚¹å®é™…ä¸Šéƒ½ä¼šå¼€å§‹è¿›è¡Œæµ‹é‡ã€‚</p>
<p>å› æ­¤ï¼Œæ‰€æœ‰æƒ³è¦æ”¹å˜å…¶å­å…ƒç´ ä½ç½®æˆ–å¯¹æ•´ä¸ª Composable å…ƒç´ å¤§å°äº§ç”Ÿä»»ä½•å½±å“çš„ä¿®é¥°ç¬¦éƒ½éœ€è¦å®ç° <code>LayoutModifierNode</code> æ¥å£ã€‚ä¾‹å¦‚ï¼Œ<code>SizeNode</code> å°±æ˜¯ä¸€ä¸ªå®ç° <code>LayoutModifierNode</code> æ¥å£çš„ä¾‹å­ï¼Œå®ƒæ˜¯ <code>height()</code>ã€<code>width()</code> æˆ– <code>size()</code> ç­‰ä¿®é¥°ç¬¦å®é™…ä½¿ç”¨çš„èŠ‚ç‚¹ã€‚</p>
<h2 data-id="heading-5">SemanticsNode</h2>
<p>å½“ä½ æƒ³è¦å‘è®¾å¤‡çš„*è¾…åŠ©åŠŸèƒ½æœåŠ¡[5]*ä¼ é€’ä¸€äº›ä¿¡æ¯æ—¶ï¼Œä½ å¯ä»¥ä½¿ç”¨ Compose ä¸­çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fui%2FModifier%23(androidx.compose.ui.Modifier).semantics(kotlin.Boolean%2Ckotlin.Function1)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/ui/Modifier#(androidx.compose.ui.Modifier).semantics(kotlin.Boolean,kotlin.Function1)" ref="nofollow noopener noreferrer"><code>semantics</code></a> ä¿®é¥°ç¬¦æ¥å‘ŠçŸ¥ç³»ç»Ÿè¦å‘ç”¨æˆ·ä¼ è¾¾å“ªäº›è¯­ä¹‰å±æ€§ã€‚</p>
<p>ä½†æ˜¯è¾…åŠ©åŠŸèƒ½æœåŠ¡å¹¶ä¸äº†è§£ Composeã€‚åœ¨å…¶ä»–å¹³å°ä¸Šï¼Œè¿™ä¸€ç‚¹æ˜¾è€Œæ˜“è§ï¼Œä½†è€ƒè™‘åˆ° Compose å‘åå…¼å®¹ï¼ˆè€Œä¸”å®ƒå¹¶é Android æ¡†æ¶çš„ç»„æˆéƒ¨åˆ†ï¼‰ï¼Œåœ¨ Android ä¸Šä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p>
<p>å¯¹äºè¾…åŠ©åŠŸèƒ½ï¼Œå‰é¢æåˆ°çš„ <code>Owner</code> å†æ¬¡å‘æŒ¥ä½œç”¨ã€‚å®ƒæŒæœ‰ä¸€ä¸ª <code>SemanticsOwner</code>ï¼Œè¯¥ <code>SemanticsOwner</code> å……å½“äº†ä¸ç›¸åº”å¹³å°è¯­ä¹‰æ¡†æ¶ä¹‹é—´çš„æ¡¥æ¢ã€‚</p>
<p>ä¸ºæ­¤ï¼Œ<code>SemanticsOwner</code> ç»´æŠ¤ç€ä¸€ä¸ª <code>SemanticNode</code> å¯¹è±¡æ ‘ï¼Œç”¨äºå‘è¾…åŠ©åŠŸèƒ½æœåŠ¡çš„ç”¨æˆ·æè¿°å±å¹•å†…å®¹ã€‚è¿™ä¹Ÿæ˜¯æˆ‘æœªæ¥ä¼šæ›´è¯¦ç»†ä»‹ç»çš„å†…å®¹ä¹‹ä¸€ã€‚</p>
<p>æ•¬è¯·æœŸå¾…æ›´å¤šå…³äº Compose å†…éƒ¨è¿ä½œæœºåˆ¶çš„è§è§£ã€‚ç¥ä½ ç¼–ç æ„‰å¿«ï¼</p>
<h2 data-id="heading-6">è„šæ³¨</h2>
<ul>
<li>[1] æˆ‘åœ¨æœ¬æ®µä¸­ä½¿ç”¨â€œå‰¯ä½œç”¨â€ä¸€è¯ï¼Œæ˜¯å› ä¸ºå®ƒåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FSide_effect_(computer_science)" target="_blank" title="https://en.wikipedia.org/wiki/Side_effect_(computer_science)" ref="nofollow noopener noreferrer">è®¡ç®—æœºç§‘å­¦å’Œå‡½æ•°å¼ç¼–ç¨‹</a>ä¸­ç”±æ¥å·²ä¹…ã€‚æˆ‘è¿™é‡ŒæŒ‡çš„å¹¶éå®˜æ–¹ Compose æ–‡æ¡£ä¸­æåˆ°çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fdevelop%2Fui%2Fcompose%2Fside-effects" target="_blank" title="https://developer.android.com/develop/ui/compose/side-effects" ref="nofollow noopener noreferrer">å‰¯ä½œç”¨</a>ã€‚Compose æ–‡æ¡£è‡³å°‘åœ¨è¿‡å»æœ‰æ—¶ä¼šæåŠå‰¯ä½œç”¨çš„è¿™ç§ç”¨æ³•â€”â€”å°½ç®¡å®é™…ä¸Š Compose å‡½æ•°å¹¶éçº¯å‡½æ•°ã€‚</li>
<li>[2] å¦‚æœåœ¨ Compose Compiler æ’ä»¶å®Œæˆå·¥ä½œåæŸ¥çœ‹ Composableï¼Œä½ ä¼šå‘ç°å®ƒä¸ä»…åˆ›å»ºäº†èŠ‚ç‚¹ï¼Œè€Œä¸”ä½ çš„å‡½æ•°è¿˜ä¼šè¿›è¡Œå¤§é‡è°ƒç”¨ï¼Œä»è€Œæ”¹å˜åº”ç”¨ç¨‹åºçš„å…¨å±€çŠ¶æ€ã€‚ä½†è¿™äº›è°ƒç”¨å¹¶ä¸ä¼šå®é™…ç»˜åˆ¶ä»»ä½•å†…å®¹ã€‚å®ƒä»¬æœ€å¤šåªä¼šåˆ›å»ºä¸€äº›ç»˜åˆ¶æ“ä½œï¼Œè¿™äº›æ“ä½œä¼šè¢«è®°å½•ä¸‹æ¥ï¼Œå¹¶åœ¨ç³»ç»Ÿè®¤ä¸ºéœ€è¦ç»˜åˆ¶æ—¶ï¼Œäºæœªæ¥çš„æŸä¸ªæ—¶é—´ç‚¹è¢«è°ƒç”¨ã€‚æˆ‘å°†åœ¨ä»¥åçš„ä¸¤ç¯‡æ–‡ç« ä¸­åˆ†åˆ«ä»‹ç»ç»˜åˆ¶è¿‡ç¨‹ä»¥åŠç¼–è¯‘å™¨å¯¹ä»£ç æ‰€åšçš„æ›´æ”¹ã€‚</li>
<li>[3] å®é™…ä¸Šï¼Œå¸ƒå±€å¯ç»„åˆå¯¹è±¡å…±æœ‰ä¸‰ä¸ªã€‚ä½†å®ƒä»¬æœ€ç»ˆéƒ½ä¼šè°ƒç”¨ <code>ReusableComposeNode</code>ã€‚å…¶ä»–å˜ä½“çš„ç¤ºä¾‹ä¹Ÿä¸ä¹‹éå¸¸ç›¸ä¼¼ã€‚</li>
<li>[4] æœ¬ç³»åˆ—æ–‡ç« ä¸­æˆ‘å¯èƒ½ä¸ä¼šä»‹ç» SlotTableã€‚æˆ‘æ¨è Richard Leland çš„è¿™ç¯‡å…³äº compose çš„æ–‡ç« ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fmedium.com%2Fandroiddevelopers%2Funder-the-hood-of-jetpack-compose-part-2-of-2-37b2c20c6cdd%25EF%25BC%2589%25EF%25BC%258C%25E4%25BB%25A5%25E5%258F%258A" target="_blank" title="https://medium.com/androiddevelopers/under-the-hood-of-jetpack-compose-part-2-of-2-37b2c20c6cdd%EF%BC%89%EF%BC%8C%E4%BB%A5%E5%8F%8A" ref="nofollow noopener noreferrer">medium.com/androiddeveâ€¦</a> Mohit Sarveiya çš„å…³äº slotTable çš„è§†é¢‘ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fcodingwithmohit.com%2F%25EF%25BC%2589%25EF%25BC%258C%25E8%25BF%2599%25E4%25BA%259B%25E8%25A7%2586%25E9%25A2%2591%25E8%25AE%25B2%25E8%25A7%25A3%25E4%25BA%2586%25E5%25A6%2582%25E4%25BD%2595%25E6%25AD%25A3%25E7%25A1%25AE%25E4%25BD%25BF%25E7%2594%25A8" target="_blank" title="https://codingwithmohit.com/%EF%BC%89%EF%BC%8C%E8%BF%99%E4%BA%9B%E8%A7%86%E9%A2%91%E8%AE%B2%E8%A7%A3%E4%BA%86%E5%A6%82%E4%BD%95%E6%AD%A3%E7%A1%AE%E4%BD%BF%E7%94%A8" ref="nofollow noopener noreferrer">codingwithmohit.com/ï¼‰ï¼Œè¿™äº›è§†é¢‘è®²è§£äº†å¦‚ä½•â€¦</a> slotTableã€‚</li>
<li>[5] è®¾å¤‡ä¸Šçš„è¾…åŠ©åŠŸèƒ½æœåŠ¡åœ¨ Android ç³»ç»Ÿä¸­æ˜¯ AccessibilityService çš„å®ç°ï¼Œä½†åœ¨ iOSã€æ¡Œé¢æˆ– Web ç«¯åˆ™æœ‰æ‰€ä¸åŒï¼Œå› æ­¤æˆ‘åœ¨æœ¬æ–‡ä¸­ä½¿ç”¨â€œè¾…åŠ©åŠŸèƒ½æœåŠ¡â€è¿™ä¸ªé€šç”¨æœ¯è¯­ã€‚</li>
</ul>
<blockquote>
<p>æ¬¢è¿æœç´¢å¹¶å…³æ³¨ <em>å…¬ä¼—å·<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fmp%2Fqrcode%3Fscene%3D10000004%26size%3D512%26__biz%3DMzU1MDg0NDczNA%3D%3D%26mid%3D2247484417%26idx%3D1%26sn%3D60c15f0d3c4be75e37748c2472a74102" target="_blank" title="https://mp.weixin.qq.com/mp/qrcode?scene=10000004&amp;size=512&amp;__biz=MzU1MDg0NDczNA==&amp;mid=2247484417&amp;idx=1&amp;sn=60c15f0d3c4be75e37748c2472a74102" ref="nofollow noopener noreferrer">ã€Œç¨€æœ‰çŒ¿è¯‰ã€</a></em> è·å–æ›´å¤šçš„ä¼˜è´¨æ–‡ç« ï¼</p>
<p>ä¿æŠ¤åŸåˆ›ï¼Œè¯·å‹¿è½¬è½½ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[GISä¸­çš„â€œé«˜åº¦â€åˆ°åº•æŒ‡ä»€ä¹ˆï¼Ÿä¸€æ–‡å˜æ¸…æ­£é«˜ã€æ­£å¸¸é«˜ä¸å¤§åœ°é«˜çš„åŒºåˆ«]]></title>    <link>https://juejin.cn/post/7593098101432729654</link>    <guid>https://juejin.cn/post/7593098101432729654</guid>    <pubDate>2026-01-09T13:23:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593098101432729654" data-draft-id="7593145583348088874" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="GISä¸­çš„â€œé«˜åº¦â€åˆ°åº•æŒ‡ä»€ä¹ˆï¼Ÿä¸€æ–‡å˜æ¸…æ­£é«˜ã€æ­£å¸¸é«˜ä¸å¤§åœ°é«˜çš„åŒºåˆ«"/> <meta itemprop="keywords" content="GIS"/> <meta itemprop="datePublished" content="2026-01-09T13:23:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="charlee44"/> <meta itemprop="url" content="https://juejin.cn/user/1117549770846872"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            GISä¸­çš„â€œé«˜åº¦â€åˆ°åº•æŒ‡ä»€ä¹ˆï¼Ÿä¸€æ–‡å˜æ¸…æ­£é«˜ã€æ­£å¸¸é«˜ä¸å¤§åœ°é«˜çš„åŒºåˆ«
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1117549770846872/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    charlee44
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T13:23:01.000Z" title="Fri Jan 09 2026 13:23:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>èŠ‚é€‰è‡ª<a href="https://link.juejin.cn?target=https%3A%2F%2Fitem.jd.com%2F14603137.html" target="_blank" title="https://item.jd.com/14603137.html" ref="nofollow noopener noreferrer">ã€ŠGISåŸºç¡€åŸç†ä¸æŠ€æœ¯å®è·µã€‹</a>ç¬¬2ç«  åœ°ç†ç©ºé—´å‚è€ƒç³»ç»Ÿ</strong>
ä½œè€…åŸåˆ›å†…å®¹ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4f40e608f94c493889e21857893f4279~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY2hhcmxlZTQ0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768569781&amp;x-signature=2RdCPNt9Q2tYu%2B%2F3LRnrwqZ0woU%3D" alt="GISåŸºç¡€åŸç†ä¸æŠ€æœ¯å®è·µ" loading="lazy"/></p>
<h2 data-id="heading-0">2.3 é«˜ç¨‹å‚è€ƒç³»ç»Ÿ</h2>
<p>ä½¿ç”¨ç»åº¦å’Œçº¬åº¦è¡¨ç¤ºçš„åœ°ç†åæ ‡ç³»æ˜¯ä¸€ç§æ°´å¹³åæ ‡ç³»ç»Ÿï¼ˆè¿™é‡Œçš„æ°´å¹³åæ ‡ç³»ç»Ÿå¹¶ä¸è¡¨ç¤ºå…¶å°±æ˜¯å¹³é¢åæ ‡ç³»çš„æ„æ€ï¼Œæ›´å‡†ç¡®çš„å«ä¹‰æ˜¯å…¶è¡¨è¾¾äº†ä¸‰ç»´ç©ºé—´åæ ‡ç³»çš„ä¸¤ä¸ªç»´åº¦ï¼‰ï¼Œç¼ºå°‘å¯¹äºç¬¬ä¸‰ç»´åº¦ä¹Ÿå°±æ˜¯é«˜ç¨‹çš„å‚è€ƒï¼Œä¹Ÿå°±æ˜¯æœ¬èŠ‚æˆ‘ä»¬è¦ä»‹ç»çš„ï¼šé«˜ç¨‹å‚è€ƒç³»ç»Ÿã€‚é«˜ç¨‹å‚è€ƒç³»ç»Ÿæ˜¯ä¸€ç§å‚ç›´åæ ‡ç³»ã€‚</p>
<h3 data-id="heading-1">2.3.1 å¤§åœ°æ°´å‡†é¢</h3>
<p>æˆ‘ä»¬çŸ¥é“ï¼Œå‚è€ƒæ¤­çƒä½“æ˜¯å¯¹åœ°çƒè¡¨é¢çš„ä¸€ç§é€¼è¿‘ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå‚è€ƒæ¤­çƒä½“æ˜¯ç”¨å–œé©¬æ‹‰é›…å±±æ‰€åœ¨çš„é«˜åº¦è¿›è¡Œé€¼è¿‘ï¼Œè¿˜æ˜¯ä»¥é©¬é‡Œäºšçº³æµ·æ²Ÿçš„é«˜åº¦è¿›è¡Œé€¼è¿‘ï¼Ÿç­”æ¡ˆè‚¯å®šéƒ½ä¸æ˜¯ã€‚å…¶å®ï¼Œè¿™å…¶ä¸­è¿˜éšè—äº†å¦ä¸€ä¸ªé€¼åœ°çƒè‡ªç„¶è¡¨é¢çš„å‚è€ƒé¢ï¼Œé‚£å°±æ˜¯æœ¬èŠ‚æˆ‘ä»¬è¦è®²çš„â€”â€”å¤§åœ°æ°´å‡†é¢ï¼ˆGeoidï¼‰ã€‚</p>
<p>åœ°ç†åæ ‡ç³»çš„ç¬¬ä¸‰ç»´åº¦é€šå¸¸ä½¿ç”¨æµ·æ‹”é«˜åº¦ï¼ˆElevationï¼‰ï¼Œè€Œä¸æ˜¯åˆ°çƒå¿ƒçš„è·ç¦»ã€‚ç„¶è€Œé—®é¢˜åœ¨äºï¼Œé«˜åº¦çš„å€¼æ˜¯ä¸€ä¸ªç›¸å¯¹é‡ï¼Œéœ€è¦ä¸€ä¸ªèµ·ç®—ç‚¹ã€‚å¹¶ä¸”ï¼Œè¿™ä¸ªé«˜åº¦å¿…é¡»æ²¿ç€é‡åŠ›æ–¹å‘ï¼ˆé“…é”¤æ–¹å‘ï¼‰æ‰æœ‰ç‰©ç†æ„ä¹‰ï¼ˆæƒ³ä¸€æƒ³ä¸ºä»€ä¹ˆå»ºç­‘ç‰©æ€»æ˜¯è¦ä¿®çš„ä¸åœ°é¢å‚ç›´ï¼‰ã€‚æˆ‘ä»¬è¯´åˆ°â€œæµ·æ‹”â€è¿™ä¸ªåè¯ï¼Œå°±ä¼šè”æƒ³åˆ°é«˜åº¦çš„å€¼åº”è¯¥æ˜¯ä¸€ä¸ªç›®æ ‡åœ°ç‰©è·ç¦»æµ·å¹³é¢çš„é«˜å·®ã€‚äº‹å®ä¹Ÿç¡®å®å¦‚æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¸€ä¸ªå¹³å‡æµ·å¹³é¢ä½œä¸ºé«˜ç¨‹çš„èµ·ç®—ç‚¹ï¼Œå¹¶ä¸”å‡è®¾è¿™ä¸ªæµ·å¹³é¢å®Œå…¨é™æ­¢ï¼Œå¹¶ä¸”å»¶ä¼¸åˆ°æ‰€æœ‰å¤§é™†ä¸‹éƒ¨ï¼Œç”Ÿæˆäº†ä¸€ä¸ªå¯†é—­çš„æ›²é¢â€”â€”è¿™ä¸ªæ›²é¢å°±æ˜¯å¤§åœ°æ°´å‡†é¢ã€‚</p>
<p>ä¸å‚è€ƒæ¤­çƒé¢ä¸åŒçš„æ˜¯ï¼Œå‚è€ƒæ¤­çƒé¢æ˜¯æ•°å­¦æ¨¡å‹å¾—åˆ°çš„ï¼Œå¤„å¤„å¹³æ»‘ä¸”å¹³æ•´ï¼›è€Œå¤§åœ°æ°´å‡†é¢è™½ç„¶å¹³æ»‘ä½†ä¸å¹³æ•´ï¼Œæ˜¯ä¸€ä¸ªä¸è§„åˆ™ä½†è¿ç»­çš„é—­åˆæ›²é¢ã€‚è¿™å…¶ä¸­çš„åŸå› åœ¨äºï¼Œåœ°çƒè´¨é‡åˆ†å¸ƒä¸å‡åŒ€ï¼Œé€ æˆåœ°çƒçš„å¼•åŠ›åœºä¹Ÿæ˜¯åˆ†å¸ƒä¸å‡çš„ã€‚å‡è®¾åœ°çƒçƒä½“å®Œå…¨è¢«æ°´è¦†ç›–ï¼Œæ°´çš„é«˜åº¦ä¹Ÿä¸ä¼šæ˜¯å®Œå…¨ä¸€æ ·ï¼šåœ¨åœ°çƒå±€éƒ¨å¯†åº¦æ›´å¤§çš„åœ°æ–¹ï¼Œåœ°çƒæ–½åŠ çš„å¼•åŠ›å°±ä¼šè¶Šå¤§ï¼Œé€ æˆæ°´ä½è¶Šé«˜ã€‚æ¢å¥è¯è¯´ï¼Œå¤§åœ°æ°´å‡†é¢æ˜¯ä¸€ä¸ªé‡åŠ›ç­‰åŠ¿é¢ï¼Œé‡åŠ›æ–¹å‘ï¼ˆé“…å‚æ–¹å‘ï¼‰åœ¨å…¶ä»»ä½•åœ°æ–¹éƒ½ä¸å…¶è¡¨é¢å‚ç›´ï¼›ç”±äºè´¨é‡ï¼ˆå¼•åŠ›ï¼‰ä¸å‡ï¼Œæ¯ä¸ªä½ç½®çš„é“…å‚æ–¹å‘ä¸ä¸€æ ·ï¼Œç»“æœå°±æ˜¯å¤§åœ°æ°´å‡†é¢å¹¶ä¸å¹³æ•´ã€‚å¦‚ä¸‹å›¾2.8æ‰€ç¤ºã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d53017b72e44df6ad9ded58c1b883c5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY2hhcmxlZTQ0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768569781&amp;x-signature=PypzjF4eh0ArCPUww%2B2Blb2KwRI%3D" alt="å›¾2.8 å¤§åœ°æ°´å‡†é¢ä¸æ—‹è½¬æ¤­çƒä½“" loading="lazy"/></p>
<h3 data-id="heading-2">2.3.2 ä¸‰çº§é€¼è¿‘</h3>
<p>ç°åœ¨æˆ‘ä»¬å·²ç»æœ‰äº†å¤§åœ°æ°´å‡†é¢ã€å‚è€ƒæ¤­çƒé¢å’Œå¤§åœ°åŸºå‡†é¢ã€‚é‚£ä¹ˆå®ƒä»¬çš„å…³ç³»æ˜¯å¦‚ä½•å‘¢ï¼Ÿç®€å•æ¥è¯´ï¼Œå®ƒä»¬å…±åŒç»„æˆäº†å¯¹åœ°çƒè‡ªç„¶è¡¨é¢çš„ä¸‰çº§é€¼è¿‘ã€‚</p>
<ul>
<li>å¤§åœ°æ°´å‡†é¢æ˜¯å¯¹åœ°çƒè‡ªç„¶è¡¨é¢çš„ç¬¬ä¸€çº§é€¼è¿‘ã€‚å¤§åœ°æ°´å‡†é¢é€šè¿‡é‡åŠ›ç­‰åŠ¿ï¼Œç¡®å®šäº†ä¸€ä¸ªé«˜ç¨‹èµ·ç®—é¢ï¼Œå®ƒè¿œæ¯”åœ°çƒè‡ªç„¶è¡¨é¢å¹³æ•´å¾—å¤šï¼Œä½†æ˜¯ä¸æ˜¯å®Œå…¨å¹³æ•´ã€‚åœ°çƒè‡ªç„¶è¡¨é¢å…·æœ‰ä»ç ç©†æœ—ç›å³°ï¼ˆ+8800ç±³ï¼‰åˆ°é©¬é‡Œäºšçº³æµ·æ²Ÿï¼ˆ-11,000ç±³ï¼‰çš„é«˜å·®ï¼Œä½†å¤§åœ°æ°´å‡†é¢ä¸å‚è€ƒæ¤­çƒé¢çš„åå·®èŒƒå›´ä¸è¶…è¿‡200mï¼ˆä»+85ç±³çš„å†°å²›åˆ°-106ç±³çš„å°åº¦å—éƒ¨ï¼‰ã€‚</li>
<li>å‚è€ƒæ¤­çƒé¢æ˜¯å¯¹åœ°çƒè‡ªç„¶è¡¨é¢çš„ç¬¬äºŒçº§é€¼è¿‘ã€‚åœ°çƒè‡ªç„¶è¡¨é¢å’Œå¤§åœ°æ°´å‡†é¢éƒ½æ˜¯ä¸è§„åˆ™çš„æ›²é¢ï¼Œæ— æ³•é€šè¿‡æ•°å­¦æ¨¡å‹å¯¹å…¶è¿›è¡Œè¡¨è¾¾ï¼Œè¿™ä¹Ÿæ„å‘³ç€éš¾ä»¥å¯¹å…¶è¿›è¡Œæµ‹ç®—å’Œåˆ†æã€‚é€šè¿‡å°†å¤§åœ°æ°´å‡†é¢æ‹Ÿåˆæˆä¸€ä¸ªæ—‹è½¬æ¤­çƒä½“ï¼Œä½¿æˆ‘ä»¬å¯ä»¥å¯¹åœ°çƒè‡ªç„¶è¡¨é¢è¿›è¡Œç©ºé—´å‡ ä½•è®¡ç®—ã€‚å‚è€ƒæ¤­çƒé¢æ˜¯æµ‹é‡è®¡ç®—çš„åŸºå‡†é¢ã€‚</li>
<li>å¤§åœ°åŸºå‡†é¢æ˜¯å¯¹åœ°çƒè‡ªç„¶è¡¨é¢çš„ç¬¬ä¸‰æé€¼è¿‘ã€‚å‚è€ƒæ¤­çƒä½“æ˜¯å¯¹åœ°çƒçƒä½“çš„æŠ½è±¡ï¼Œä½†å¤§åœ°åŸºå‡†é¢è§£å†³çš„æ˜¯è¿™ä¸ªå‚è€ƒæ¤­çƒä½“å¦‚ä½•æ‘†æ”¾çš„é—®é¢˜ï¼šå¤§åœ°åŸºå‡†é¢è¦ä¹ˆä¸åœ°çƒè‡ªç„¶è¡¨é¢çš„å±€éƒ¨åŒºåŸŸå…·æœ‰è¾ƒå¥½çš„é‡åˆåº¦ï¼Œä»¥ä¾¿è§£å†³å±€éƒ¨åŒºåŸŸç²¾åº¦çš„é—®é¢˜ï¼›è¦ä¹ˆè®©æ¤­çƒä½“ä¸­å¿ƒä½äºåœ°çƒè´¨å¿ƒï¼Œä»¥ä¾¿å…·æœ‰å…¨çƒèŒƒå›´å¯ä½¿ç”¨çš„ä¾¿æ·æ€§ã€‚</li>
</ul>
<h3 data-id="heading-3">2.3.3 é«˜ç¨‹ç³»ç»Ÿ</h3>
<h4 data-id="heading-4">1 ä¼¼å¤§åœ°æ°´å‡†é¢</h4>
<p>å¦‚å‰æ‰€è¿°ï¼Œå¤§åœ°æ°´å‡†é¢ç¡®å®šäº†é«˜ç¨‹çš„èµ·ç®—é¢ã€‚é‚£ä¹ˆï¼Œåœ°çƒè¡¨é¢ä¸Šä¸€ç‚¹åˆ°å¤§åœ°æ°´å‡†é¢å¿…ç„¶æœ‰ä¸€ä¸ªé«˜åº¦ï¼Œè¿™ä¸ªé«˜åº¦å°±æ˜¯æ­£é«˜ï¼ˆOrthometric Heightï¼‰ã€‚æ­£é«˜å°±æ˜¯æˆ‘ä»¬é€šå¸¸æ„ä¹‰ä¸Šæ‰€è¯´çš„æµ·æ‹”æˆ–è€…æµ·æ‹”é«˜åº¦ï¼Œä¹Ÿå«åšé«˜ç¨‹ï¼ˆElevationï¼‰ã€‚è¿™ä¸ªé«˜ç¨‹ç³»ç»Ÿå°±æ˜¯æ­£é«˜ç³»ç»Ÿã€‚</p>
<p>ç„¶è€Œï¼Œå¤§åœ°æ°´å‡†é¢çš„é—®é¢˜æ˜¯å…¶ä»…ä»…åªæ˜¯ä¸€ä¸ªç†æƒ³åŒ–çš„æ¨¡å‹ï¼Œæ˜¯ä¸èƒ½å‡†ç¡®æµ‹é‡çš„ã€‚å®¢è§‚åœ°è¯´ï¼Œå¤§åœ°æ°´å‡†é¢æ‰€å‡æƒ³çš„å¤§é™†ä¸‹éƒ¨çš„æµ·å¹³é¢æ— æ³•è¢«é‡æµ‹ï¼Œæ²¡æœ‰ç°å®æ„ä¹‰ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå°±å¼•å…¥äº†ä¸€ä¸ªæ•°å­¦è¾…åŠ©é¢ï¼šä¼¼å¤§åœ°æ°´å‡†é¢ï¼ˆQuasi-geoidï¼‰ã€‚ä¼¼å¤§åœ°æ°´å‡†é¢é‡‡ç”¨å¹³å‡æ­£å¸¸é‡åŠ›å€¼æ¥æ‹Ÿåˆæ°´å‡†é¢æ›²çº¿ï¼ˆå¤§åœ°æŸä¸€ç‚¹çš„é‡åŠ›å€¼æ— æ³•ç²¾ç¡®æ±‚å–ï¼‰ï¼Œå¯¼è‡´ä¸¤è€…åœ¨æµ·æ´‹ä¸Šå®Œå…¨é‡åˆï¼Œåœ¨å¤§é™†ä¸Šæœ‰2 ~ 4ç±³çš„å¾®å°å·®å¼‚ã€‚å¦‚æœä¸èƒ½ç†è§£ä¸è¦ç´§ï¼Œæˆ‘ä»¬å¯ä»¥å®šæ€§çš„ç†è§£ï¼šä¼¼å¤§åœ°æ°´å‡†é¢æ˜¯å¯¹å¤§åœ°æ°´å‡†é¢çš„æ•°å­¦è¿‘ä¼¼ï¼Œä¼¼å¤§åœ°æ°´å‡†é¢å¯ä»¥ç²¾ç¡®æ±‚å¾—ï¼Œå¤§åœ°æ°´å‡†é¢ä¸å¯ä»¥ç²¾ç¡®æ±‚å¾—ã€‚</p>
<p>åŒæ ·çš„ï¼Œåœ°çƒè¡¨é¢ä¸Šä¸€ç‚¹åˆ°ä¼¼å¤§åœ°æ°´å‡†é¢ä¹Ÿæœ‰ä¸€ä¸ªé«˜åº¦ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ªé«˜åº¦å«åšæ­£å¸¸é«˜ï¼ˆNormal heightï¼‰ï¼Œå…¶é«˜ç¨‹å°±æ˜¯æ­£å¸¸é«˜ç³»ç»Ÿã€‚æ­£å› ä¸ºä¼¼å¤§åœ°æ°´å‡†é¢æ˜¯å¤§åœ°æ°´å‡†é¢å¾—è¿‘ä¼¼ä¸”å¯æ±‚å–ï¼Œæ‰€ä»¥ä¸€èˆ¬ä½¿ç”¨æ­£å¸¸é«˜æ¥æ›¿ä»£æ­£é«˜ï¼Œæ­£å¸¸é«˜ç³»ç»Ÿç»“æœä¹Ÿå¯ä»¥ç§°ä¸ºæµ·æ‹”é«˜åº¦ã€‚æˆ‘å›½ç›®å‰é‡‡ç”¨çš„æ³•å®šé«˜ç¨‹ç³»ç»Ÿå°±æ˜¯æ­£å¸¸é«˜ç³»ç»Ÿã€‚</p>
<p>æ­£é«˜å’Œæ­£å¸¸é«˜ï¼Œå¤§åœ°æ°´å‡†é¢å’Œä¼¼å¤§åœ°æ°´å‡†é¢çš„ç¤ºæ„å›¾å¦‚ä¸‹å›¾2.9æ‰€ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0724c4f0f8084ebab6f8e5d74660fb1a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY2hhcmxlZTQ0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768569781&amp;x-signature=WFVH8luc5ce1hikIEldLD4ErKDI%3D" alt="å›¾2.9 æ­£é«˜ã€æ­£å¸¸é«˜ä¸å¤§åœ°é«˜" loading="lazy"/></p>
<h4 data-id="heading-5">2 é«˜ç¨‹ç³»ç»Ÿ</h4>
<p>å¦‚å›¾2.9ä¸­æ‰€ç¤ºï¼Œé™¤äº†æ­£é«˜ç³»ç»Ÿå’Œæ­£å¸¸é«˜ç³»ç»Ÿï¼Œè¿˜æœ‰ä¸€ç±»å¸¸ç”¨çš„é«˜ç¨‹ç³»ç»Ÿå°±æ˜¯å¤§åœ°é«˜ç³»ç»Ÿã€‚æ‰€è°“å¤§åœ°é«˜ï¼ŒæŒ‡çš„æ˜¯ä»¥å‚è€ƒæ¤­çƒé¢ä¸ºåŸºå‡†é¢çš„é«˜ç¨‹ç³»ç»Ÿï¼Œå…¶å€¼æ˜¯åœ°é¢ä¸Šä¸€ç‚¹æ²¿è¯¥ç‚¹çš„æ¤­çƒé¢æ³•çº¿åˆ°å‚è€ƒæ¤­çƒé¢çš„è·ç¦»ã€‚å¤§åœ°é«˜ä¹Ÿç§°ä¸ºæ¤­çƒé«˜ã€‚</p>
<p>è™½ç„¶æˆ‘ä»¬ä¸€èˆ¬é‡‡ç”¨çš„é«˜ç¨‹ç³»ç»Ÿæ˜¯æ­£å¸¸é«˜ç³»ç»Ÿï¼Œä½†åœ¨å®é™…çš„ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œæœ‰çš„æ—¶å€™çŸ¥é“æ­£å¸¸é«˜éœ€è¦è®¡ç®—å¤§åœ°é«˜ï¼Œæœ‰çš„æ—¶å€™åˆéœ€è¦é€šè¿‡å¤§åœ°é«˜æ¥è®¡ç®—æ­£å¸¸é«˜ã€‚ä¸€ä¸ªå¾ˆå…¸å‹çš„ä¾‹å­å°±æ˜¯ï¼ŒGPSï¼ˆGlobal Positioning Systemï¼Œå…¨çƒå®šä½ç³»ç»Ÿï¼‰è·å–çš„é«˜ç¨‹ä¸€èˆ¬æ˜¯å¤§åœ°é«˜ï¼Œé‚£ä¹ˆå¦‚ä½•å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„æ­£å¸¸é«˜å‘¢ï¼Ÿ</p>
<p>å¦‚ä¸‹è¡¨2.4æ‰€è¿°ï¼Œå¯¹äºé«˜ç¨‹ç³»ç»Ÿä¸­å˜é‡ï¼Œæˆ‘ä»¬æœ‰å¦‚ä¸‹å®šä¹‰ï¼š</p>




































<table><thead><tr><th align="center">ç¬¦å·</th><th align="center">åç§°</th><th align="center">å«ä¹‰</th></tr></thead><tbody><tr><td align="center"><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">H_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span></td><td align="center">æ­£å¸¸é«˜ï¼ˆNormal Heightï¼‰</td><td align="center">åœ°é¢ä¸Šä¸€ç‚¹æ²¿é‡åŠ›æ–¹å‘åˆ°ä¼¼å¤§åœ°æ°´å‡†é¢çš„è·ç¦»</td></tr><tr><td align="center"><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">H_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span></td><td align="center">æ­£é«˜ ï¼ˆOrthometric Heightï¼‰</td><td align="center">åœ°é¢ä¸Šä¸€ç‚¹æ²¿é‡åŠ›æ–¹å‘åˆ°å¤§åœ°æ°´å‡†é¢çš„è·ç¦»</td></tr><tr><td align="center"><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mi>g</mi></msub></mrow><annotation encoding="application/x-tex">H_g</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span></span></span></span></span></td><td align="center">å¤§åœ°é«˜ï¼ˆGeodetic Heightï¼‰</td><td align="center">åœ°é¢ä¸Šä¸€ç‚¹æ²¿æ¤­çƒé¢æ³•çº¿æ–¹å‘åˆ°å‚è€ƒæ¤­çƒé¢çš„è·ç¦»</td></tr><tr><td align="center"><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î¶</mi></mrow><annotation encoding="application/x-tex">\zeta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.07378em;">Î¶</span></span></span></span></span></td><td align="center">é«˜ç¨‹å¼‚å¸¸ï¼ˆHeight Anomalyï¼‰</td><td align="center">ä¼¼å¤§åœ°æ°´å‡†é¢åˆ°å‚è€ƒæ¤­çƒé¢çš„è·ç¦»</td></tr><tr><td align="center"><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span></span></td><td align="center">å¤§åœ°æ°´å‡†é¢å·®è·ï¼ˆGeoid Undulationï¼‰</td><td align="center">å¤§åœ°æ°´å‡†é¢åˆ°å‚è€ƒæ¤­çƒé¢çš„è·ç¦»</td></tr></tbody></table>
<p>å°†å®ƒä»¬åœ¨ç¤ºæ„å›¾ä¸­æ ‡è¯†ï¼Œå¦‚ä¸‹å›¾2.10æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/86f67969c61e4eafaf010751f95ea2d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY2hhcmxlZTQ0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768569781&amp;x-signature=3J2R4NYxMc2jIP%2F%2FX4u8oDPWyOA%3D" alt="å›¾2.10 æ­£é«˜ã€æ­£å¸¸é«˜ä¸å¤§åœ°é«˜" loading="lazy"/></p>
<p>æ ¹æ®å›¾ç¤ºå¾ˆæ˜¾ç„¶å¯ä»¥å¾—åˆ°å¦‚ä¸‹å…¬å¼ï¼š</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"/><mtd><mrow><msub><mi>H</mi><mi>g</mi></msub><mo>=</mo><msub><mi>H</mi><mi>n</mi></msub><mo>+</mo><mi>Î¶</mi></mrow></mtd><mtd width="50%"/><mtd><mtext>(2.6)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">H_g = H_n + \zeta \tag{2.6}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.07378em;">Î¶</span></span><span class="tag"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"/><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2.6</span></span><span class="mord">)</span></span></span></span></span></span></div>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"/><mtd><mrow><msub><mi>H</mi><mi>g</mi></msub><mo>=</mo><msub><mi>H</mi><mi>o</mi></msub><mo>+</mo><mi>N</mi></mrow></mtd><mtd width="50%"/><mtd><mtext>(2.7)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">H_g = H_o + N \tag{2.7}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span><span class="tag"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"/><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2.7</span></span><span class="mord">)</span></span></span></span></span></span></div>
<p>å›åˆ°ä¹‹å‰æåˆ°çš„é—®é¢˜ï¼ŒGPSè·å–çš„é«˜ç¨‹ä¸ºå¤§åœ°é«˜<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mi>g</mi></msub></mrow><annotation encoding="application/x-tex">H_g</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span></span></span></span></span>ï¼Œé‚£ä¹ˆå†é€šè¿‡å¤§åœ°æµ‹é‡çš„æ–¹æ³•ï¼Œå¯ä»¥ç²¾ç¡®ç¡®å®šé«˜ç¨‹å¼‚å¸¸<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î¶</mi></mrow><annotation encoding="application/x-tex">\zeta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.07378em;">Î¶</span></span></span></span></span>ï¼Œæ ¹æ®å…¬å¼2.6ï¼Œå¤§åœ°é«˜å‡å»é«˜ç¨‹å¼‚å¸¸å°±å¯ä»¥å¾—åˆ°æ­£å¸¸é«˜<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">H_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span>ï¼Œæ­£å¸¸é«˜å¯ä»¥ç”¨æ¥ä»£æ›¿æ­£é«˜ï¼Œæ­£é«˜å³æœ€å¸¸ç”¨çš„æµ·æ‹”é«˜åº¦ã€‚åœ¨å®é™…çš„åº”ç”¨ä¸­ï¼Œæœ‰æ—¶éœ€è¦å¤§åœ°é«˜ï¼Œæœ‰æ—¶éœ€è¦æ­£å¸¸é«˜ï¼Œå¯æ ¹æ®ä¸Šè¿°å…¬å¼çµæ´»è½¬æ¢ã€‚</p>
<h4 data-id="heading-6">3 é«˜ç¨‹åŸºå‡†</h4>
<p>å¦‚2.3.1èŠ‚æ‰€è¿°ï¼Œå¤§åœ°æ°´å‡†é¢ä½¿ç”¨ä¸€ä¸ªå‡æƒ³çš„å¹³å‡æµ·å¹³é¢ä½œä¸ºé«˜ç¨‹èµ·ç‚¹ï¼ˆåŸºå‡†ï¼‰ï¼Œè¿™ä¸ªå¹³å‡æµ·é¢å¯ä»¥é€šè¿‡åœ¨å„åœ°çš„éªŒæ½®ç«™è§‚æµ‹ã€è®¡ç®—ã€ç»¼åˆå¾—åˆ°ã€‚æˆ‘å›½æ ¹æ®å®é™…çš„è§‚æµ‹ç»“æœä¹‹ä¸Šï¼Œå»ºç«‹å¤šä¸ªé«˜ç¨‹åŸºå‡†é¢ï¼Œå…¶ä¸­æœ€å¸¸ç”¨çš„ä¸¤ä¸ªå›½å®¶é«˜ç¨‹åŸºå‡†æ˜¯ï¼š</p>
<ul>
<li>1956é»„æµ·é«˜ç¨‹åŸºå‡†ï¼Œæ°´å‡†åŸç‚¹é«˜ç¨‹72.289ç±³ã€‚</li>
<li>1985å›½å®¶é«˜ç¨‹åŸºå‡†ï¼Œæ°´å‡†åŸç‚¹é«˜ç¨‹72.260ç±³ã€‚</li>
</ul>
<p>ç›®å‰ï¼Œ1985å›½å®¶é«˜ç¨‹åŸºå‡†å·²ç»å…¨éƒ¨æ›¿ä»£1956é»„æµ·é«˜ç¨‹åŸºå‡†ï¼Œä¹‹å‰æ‰€æœ‰ä½¿ç”¨1956é»„æµ·é«˜ç¨‹åŸºå‡†çš„é«˜ç¨‹ç»“æœéƒ½éœ€è¦é€šè¿‡ä¸‹å¼2.8è¿›è¡Œè½¬æ¢ï¼š</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>H</mi><mn>85</mn></msub><mo>=</mo><msub><mi>H</mi><mn>56</mn></msub><mo>âˆ’</mo><mn>0.029</mn></mrow><annotation encoding="application/x-tex">H_{85} = H_{56} - 0.029</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">85</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">56</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">0.029</span></span></span></span></span></div>
<p>æ­¤å¤–ï¼Œå›½é™…ä¸Šé€šç”¨çš„è¿˜æœ‰ç¾å›½å›½å®¶åœ°ç†ç©ºé—´æƒ…æŠ¥å±€ï¼ˆNational Geospatial-Intelligence Agencyï¼ŒNGAï¼‰å‘å¸ƒçš„EGMï¼ˆEarth Gravitational Modelsï¼Œåœ°çƒé‡åŠ›æ¨¡å‹ï¼‰å¤§åœ°æ°´å‡†é¢ã€‚è¿™ä¸ªå¤§åœ°æ°´å‡†é¢æ¨¡å‹æ˜¯ç»¼åˆåˆ©ç”¨ç°æœ‰å…¨çƒå¤§é‡é‡åŠ›æ•°æ®è®¡ç®—å‡ºæ¥çš„ï¼Œé€‚ç”¨äºå…¨çƒèŒƒå›´ã€‚ç›®å‰å·²ç»å‘å¸ƒäº†EGM84ã€EGM96ã€EGM2008å’ŒEGM2020å››ä¸ªç‰ˆæœ¬ã€‚</p>
<hr/>
<p>æœ¬æ–‡èŠ‚é€‰è‡ªä½œè€…æ–°ä¹¦ã€ŠGISåŸºç¡€åŸç†ä¸æŠ€æœ¯å®è·µã€‹ç¬¬2ç« ã€‚ä¹¦ä¸­ç³»ç»Ÿè®²è§£ GIS æ ¸å¿ƒç†è®ºä¸å¤šè¯­è¨€å®æˆ˜ï¼Œé€‚åˆå¼€å‘è€…ä¸é«˜æ ¡å¸ˆç”Ÿã€‚</p>
<p>ğŸ“š <strong>é…å¥—èµ„æºå¼€æº</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffafa1899%2FGISBasic" target="_blank" title="https://github.com/fafa1899/GISBasic" ref="nofollow noopener noreferrer">GitHub</a> | <a href="https://link.juejin.cn?target=https%3A%2F%2Fgitcode.com%2Fcharlee44%2FGISBasic" target="_blank" title="https://gitcode.com/charlee44/GISBasic" ref="nofollow noopener noreferrer">GitCode</a></p>
<p>ğŸ›’ <strong>æ”¯æŒæ­£ç‰ˆ</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fitem.jd.com%2F14603137.html" target="_blank" title="https://item.jd.com/14603137.html" ref="nofollow noopener noreferrer">äº¬ä¸œ</a>ï½œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fproduct.dangdang.com%2F29988568.html" target="_blank" title="https://product.dangdang.com/29988568.html" ref="nofollow noopener noreferrer">å½“å½“</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ31ï¼‰Hibernateçš„åŸç”ŸSQLæŸ¥è¯¢æ˜¯ä»€ä¹ˆï¼Ÿ]]></title>    <link>https://juejin.cn/post/7593145583348105258</link>    <guid>https://juejin.cn/post/7593145583348105258</guid>    <pubDate>2026-01-09T13:47:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593145583348105258" data-draft-id="7593098101432778806" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ31ï¼‰Hibernateçš„åŸç”ŸSQLæŸ¥è¯¢æ˜¯ä»€ä¹ˆï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-09T13:47:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ31ï¼‰Hibernateçš„åŸç”ŸSQLæŸ¥è¯¢æ˜¯ä»€ä¹ˆï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T13:47:01.000Z" title="Fri Jan 09 2026 13:47:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">Hibernateçš„åŸç”ŸSQLæŸ¥è¯¢</h3>
<p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼ŒHQLï¼ˆHibernate Query Languageï¼‰æˆ–Criteria APIå¯èƒ½æ— æ³•æ»¡è¶³å¤æ‚æŸ¥è¯¢çš„éœ€è¦ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨åŸç”ŸSQLæŸ¥è¯¢ï¼ˆNative SQL Queryï¼‰ã€‚åŸç”ŸSQLæŸ¥è¯¢å…è®¸å¼€å‘è€…ç›´æ¥ç¼–å†™SQLè¯­å¥ï¼Œå¹¶é€šè¿‡Hibernateæ‰§è¡Œè¿™äº›è¯­å¥ï¼Œå°†ç»“æœæ˜ å°„ä¸ºå®ä½“ç±»æˆ–è‡ªå®šä¹‰ç»“æœé›†ã€‚</p>
<h3 data-id="heading-1">ä½¿ç”¨åŸç”ŸSQLæŸ¥è¯¢</h3>
<p>åŸç”ŸSQLæŸ¥è¯¢ä¸»è¦åˆ†ä¸ºä¸¤ç§ï¼š</p>
<ol>
<li><strong>å®ä½“æŸ¥è¯¢</strong>ï¼šè¿”å›å®ä½“å¯¹è±¡ã€‚</li>
<li><strong>éå®ä½“æŸ¥è¯¢</strong>ï¼šè¿”å›è‡ªå®šä¹‰å¯¹è±¡æˆ–æŠ•å½±ç»“æœã€‚</li>
</ol>
<h3 data-id="heading-2">ç¤ºä¾‹ä»£ç </h3>
<h4 data-id="heading-3">å®ä½“ç±»å®šä¹‰</h4>
<p>æˆ‘ä»¬å°†å®šä¹‰ä¸¤ä¸ªå®ä½“ç±»ï¼š<code>Person</code> å’Œ <code>Address</code>ã€‚</p>
<h5 data-id="heading-4">Personç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.domain;

<span class="hljs-keyword">import</span> javax.persistence.*;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "person")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {

    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-meta">@Column(name = "name")</span>
    <span class="hljs-keyword">private</span> String name;

    <span class="hljs-meta">@Column(name = "age")</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
    }

    <span class="hljs-comment">// Getters å’Œ Setters</span>

    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-built_in">this</span>.name = name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> age;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.age = age;
    }
}
</code></pre>
<h5 data-id="heading-5">Addressç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.domain;

<span class="hljs-keyword">import</span> javax.persistence.*;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "address")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Address</span> {

    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-meta">@Column(name = "street")</span>
    <span class="hljs-keyword">private</span> String street;

    <span class="hljs-meta">@ManyToOne</span>
    <span class="hljs-meta">@JoinColumn(name = "person_id", nullable = false)</span>
    <span class="hljs-keyword">private</span> Person person;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Address</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Address</span><span class="hljs-params">(String street, Person person)</span> {
        <span class="hljs-built_in">this</span>.street = street;
        <span class="hljs-built_in">this</span>.person = person;
    }

    <span class="hljs-comment">// Getters å’Œ Setters</span>

    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getStreet</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> street;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setStreet</span><span class="hljs-params">(String street)</span> {
        <span class="hljs-built_in">this</span>.street = street;
    }

    <span class="hljs-keyword">public</span> Person <span class="hljs-title function_">getPerson</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> person;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPerson</span><span class="hljs-params">(Person person)</span> {
        <span class="hljs-built_in">this</span>.person = person;
    }
}
</code></pre>
<h4 data-id="heading-6">Hibernateé…ç½®æ–‡ä»¶ <code>hibernate.cfg.xml</code></h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span>
        <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span>
        <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ•°æ®åº“è¿æ¥é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/your_database<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>your_username<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>your_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Hibernate å±æ€§é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.format_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.hbm2ddl.auto"</span>&gt;</span>update<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- æ˜ å°„ç±» --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Person"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Address"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h4 data-id="heading-7">HibernateUtilç±»</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.cfg.Configuration;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateUtil</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> SessionFactory sessionFactory;

    <span class="hljs-keyword">static</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä»é…ç½®æ–‡ä»¶åˆ›å»ºSessionFactory</span>
            sessionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate.cfg.xml"</span>).buildSessionFactory();
        } <span class="hljs-keyword">catch</span> (Throwable ex) {
            <span class="hljs-comment">// è®°å½•å¯åŠ¨å¤±è´¥çš„é”™è¯¯</span>
            System.err.println(<span class="hljs-string">"Initial SessionFactory creation failed."</span> + ex);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExceptionInInitializerError</span>(ex);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SessionFactory <span class="hljs-title function_">getSessionFactory</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> sessionFactory;
    }
}
</code></pre>
<h3 data-id="heading-8">ä½¿ç”¨åŸç”ŸSQLæŸ¥è¯¢ç¤ºä¾‹</h3>
<h4 data-id="heading-9">æ’å…¥ç¤ºä¾‹æ•°æ®</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateInsertData</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// æ’å…¥ç¤ºä¾‹æ•°æ®</span>
        insertSampleData(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">insertSampleData</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Person</span> <span class="hljs-variable">person1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"John Doe"</span>, <span class="hljs-number">30</span>);
            <span class="hljs-type">Person</span> <span class="hljs-variable">person2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Jane Doe"</span>, <span class="hljs-number">28</span>);

            session.save(person1);
            session.save(person2);
            transaction.commit();
            System.out.println(<span class="hljs-string">"Inserted sample data"</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h4 data-id="heading-10">ä½¿ç”¨åŸç”ŸSQLæŸ¥è¯¢</h4>
<h5 data-id="heading-11">æŸ¥è¯¢æ‰€æœ‰Personè®°å½•</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.query.NativeQuery;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateNativeQueryExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// ä½¿ç”¨åŸç”ŸSQLæŸ¥è¯¢æ‰€æœ‰Personè®°å½•</span>
        queryAllPersons(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">queryAllPersons</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> <span class="hljs-string">"SELECT * FROM person"</span>;
            NativeQuery&lt;Person&gt; query = session.createNativeQuery(sql, Person.class);
            List&lt;Person&gt; persons = query.getResultList();
            System.out.println(<span class="hljs-string">"Query all persons:"</span>);
            <span class="hljs-keyword">for</span> (Person person : persons) {
                System.out.println(person.getName() + <span class="hljs-string">" - "</span> + person.getAge());
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h5 data-id="heading-12">ä½¿ç”¨æŠ•å½±æŸ¥è¯¢è¿”å›è‡ªå®šä¹‰ç»“æœ</h5>
<p>å‡è®¾æˆ‘ä»¬åªæƒ³æŸ¥è¯¢Personçš„å§“åå’Œå¹´é¾„ï¼Œè€Œä¸æ˜¯æ•´ä¸ªå®ä½“ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨æŠ•å½±æŸ¥è¯¢ï¼ˆProjection Queryï¼‰ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.query.NativeQuery;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateProjectionQueryExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// ä½¿ç”¨åŸç”ŸSQLæŠ•å½±æŸ¥è¯¢</span>
        queryPersonNameAndAge(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">queryPersonNameAndAge</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> <span class="hljs-string">"SELECT name, age FROM person"</span>;
            NativeQuery&lt;Object[]&gt; query = session.createNativeQuery(sql);
            List&lt;Object[]&gt; results = query.getResultList();
            System.out.println(<span class="hljs-string">"Query person name and age:"</span>);
            <span class="hljs-keyword">for</span> (Object[] row : results) {
                <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> (String) row[<span class="hljs-number">0</span>];
                <span class="hljs-type">Integer</span> <span class="hljs-variable">age</span> <span class="hljs-operator">=</span> (Integer) row[<span class="hljs-number">1</span>];
                System.out.println(name + <span class="hljs-string">" - "</span> + age);
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-13">åŸç”ŸSQLæŸ¥è¯¢è¯¦ç»†è§£é‡Š</h3>
<ol>
<li>
<p><strong>æ’å…¥ç¤ºä¾‹æ•°æ®</strong>ï¼šå‘æ•°æ®åº“ä¸­æ’å…¥ä¸¤ä¸ª<code>Person</code>å¯¹è±¡ä¾›æŸ¥è¯¢ä½¿ç”¨ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateInsertData</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// æ’å…¥ç¤ºä¾‹æ•°æ®</span>
        insertSampleData(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">insertSampleData</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Person</span> <span class="hljs-variable">person1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"John Doe"</span>, <span class="hljs-number">30</span>);
            <span class="hljs-type">Person</span> <span class="hljs-variable">person2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Jane Doe"</span>, <span class="hljs-number">28</span>);

            session.save(person1);
            session.save(person2);
            transaction.commit();
            System.out.println(<span class="hljs-string">"Inserted sample data"</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
</li>
<li>
<p><strong>æŸ¥è¯¢æ‰€æœ‰Personè®°å½•</strong>ï¼šä½¿ç”¨åŸç”ŸSQLæŸ¥è¯¢æ‰€æœ‰Personè®°å½•å¹¶æ˜ å°„ä¸º<code>Person</code>å®ä½“ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateNativeQueryExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// ä½¿ç”¨åŸç”ŸSQLæŸ¥è¯¢æ‰€æœ‰Personè®°å½•</span>
        queryAllPersons(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
</code></pre>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ31ï¼‰Hibernateçš„åŸç”ŸSQLæŸ¥è¯¢æ˜¯ä»€ä¹ˆï¼Ÿ]]></title>    <link>https://juejin.cn/post/7593165280488833065</link>    <guid>https://juejin.cn/post/7593165280488833065</guid>    <pubDate>2026-01-09T13:47:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593165280488833065" data-draft-id="7593098101432795190" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ31ï¼‰Hibernateçš„åŸç”ŸSQLæŸ¥è¯¢æ˜¯ä»€ä¹ˆï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-09T13:47:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ31ï¼‰Hibernateçš„åŸç”ŸSQLæŸ¥è¯¢æ˜¯ä»€ä¹ˆï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T13:47:44.000Z" title="Fri Jan 09 2026 13:47:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">Hibernateçš„åŸç”ŸSQLæŸ¥è¯¢</h3>
<p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼ŒHQLï¼ˆHibernate Query Languageï¼‰æˆ–Criteria APIå¯èƒ½æ— æ³•æ»¡è¶³å¤æ‚æŸ¥è¯¢çš„éœ€è¦ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨åŸç”ŸSQLæŸ¥è¯¢ï¼ˆNative SQL Queryï¼‰ã€‚åŸç”ŸSQLæŸ¥è¯¢å…è®¸å¼€å‘è€…ç›´æ¥ç¼–å†™SQLè¯­å¥ï¼Œå¹¶é€šè¿‡Hibernateæ‰§è¡Œè¿™äº›è¯­å¥ï¼Œå°†ç»“æœæ˜ å°„ä¸ºå®ä½“ç±»æˆ–è‡ªå®šä¹‰ç»“æœé›†ã€‚</p>
<h3 data-id="heading-1">ä½¿ç”¨åŸç”ŸSQLæŸ¥è¯¢</h3>
<p>åŸç”ŸSQLæŸ¥è¯¢ä¸»è¦åˆ†ä¸ºä¸¤ç§ï¼š</p>
<ol>
<li><strong>å®ä½“æŸ¥è¯¢</strong>ï¼šè¿”å›å®ä½“å¯¹è±¡ã€‚</li>
<li><strong>éå®ä½“æŸ¥è¯¢</strong>ï¼šè¿”å›è‡ªå®šä¹‰å¯¹è±¡æˆ–æŠ•å½±ç»“æœã€‚</li>
</ol>
<h3 data-id="heading-2">ç¤ºä¾‹ä»£ç </h3>
<h4 data-id="heading-3">å®ä½“ç±»å®šä¹‰</h4>
<p>æˆ‘ä»¬å°†å®šä¹‰ä¸¤ä¸ªå®ä½“ç±»ï¼š<code>Person</code> å’Œ <code>Address</code>ã€‚</p>
<h5 data-id="heading-4">Personç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.domain;

<span class="hljs-keyword">import</span> javax.persistence.*;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "person")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {

    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-meta">@Column(name = "name")</span>
    <span class="hljs-keyword">private</span> String name;

    <span class="hljs-meta">@Column(name = "age")</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
    }

    <span class="hljs-comment">// Getters å’Œ Setters</span>

    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-built_in">this</span>.name = name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> age;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.age = age;
    }
}
</code></pre>
<h5 data-id="heading-5">Addressç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.domain;

<span class="hljs-keyword">import</span> javax.persistence.*;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "address")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Address</span> {

    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-meta">@Column(name = "street")</span>
    <span class="hljs-keyword">private</span> String street;

    <span class="hljs-meta">@ManyToOne</span>
    <span class="hljs-meta">@JoinColumn(name = "person_id", nullable = false)</span>
    <span class="hljs-keyword">private</span> Person person;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Address</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Address</span><span class="hljs-params">(String street, Person person)</span> {
        <span class="hljs-built_in">this</span>.street = street;
        <span class="hljs-built_in">this</span>.person = person;
    }

    <span class="hljs-comment">// Getters å’Œ Setters</span>

    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getStreet</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> street;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setStreet</span><span class="hljs-params">(String street)</span> {
        <span class="hljs-built_in">this</span>.street = street;
    }

    <span class="hljs-keyword">public</span> Person <span class="hljs-title function_">getPerson</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> person;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPerson</span><span class="hljs-params">(Person person)</span> {
        <span class="hljs-built_in">this</span>.person = person;
    }
}
</code></pre>
<h4 data-id="heading-6">Hibernateé…ç½®æ–‡ä»¶ <code>hibernate.cfg.xml</code></h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span>
        <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span>
        <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ•°æ®åº“è¿æ¥é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/your_database<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>your_username<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>your_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Hibernate å±æ€§é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.format_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.hbm2ddl.auto"</span>&gt;</span>update<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- æ˜ å°„ç±» --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Person"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Address"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h4 data-id="heading-7">HibernateUtilç±»</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.cfg.Configuration;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateUtil</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> SessionFactory sessionFactory;

    <span class="hljs-keyword">static</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä»é…ç½®æ–‡ä»¶åˆ›å»ºSessionFactory</span>
            sessionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate.cfg.xml"</span>).buildSessionFactory();
        } <span class="hljs-keyword">catch</span> (Throwable ex) {
            <span class="hljs-comment">// è®°å½•å¯åŠ¨å¤±è´¥çš„é”™è¯¯</span>
            System.err.println(<span class="hljs-string">"Initial SessionFactory creation failed."</span> + ex);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExceptionInInitializerError</span>(ex);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SessionFactory <span class="hljs-title function_">getSessionFactory</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> sessionFactory;
    }
}
</code></pre>
<h3 data-id="heading-8">ä½¿ç”¨åŸç”ŸSQLæŸ¥è¯¢ç¤ºä¾‹</h3>
<h4 data-id="heading-9">æ’å…¥ç¤ºä¾‹æ•°æ®</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateInsertData</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// æ’å…¥ç¤ºä¾‹æ•°æ®</span>
        insertSampleData(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">insertSampleData</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Person</span> <span class="hljs-variable">person1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"John Doe"</span>, <span class="hljs-number">30</span>);
            <span class="hljs-type">Person</span> <span class="hljs-variable">person2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Jane Doe"</span>, <span class="hljs-number">28</span>);

            session.save(person1);
            session.save(person2);
            transaction.commit();
            System.out.println(<span class="hljs-string">"Inserted sample data"</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h4 data-id="heading-10">ä½¿ç”¨åŸç”ŸSQLæŸ¥è¯¢</h4>
<h5 data-id="heading-11">æŸ¥è¯¢æ‰€æœ‰Personè®°å½•</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.query.NativeQuery;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateNativeQueryExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// ä½¿ç”¨åŸç”ŸSQLæŸ¥è¯¢æ‰€æœ‰Personè®°å½•</span>
        queryAllPersons(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">queryAllPersons</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> <span class="hljs-string">"SELECT * FROM person"</span>;
            NativeQuery&lt;Person&gt; query = session.createNativeQuery(sql, Person.class);
            List&lt;Person&gt; persons = query.getResultList();
            System.out.println(<span class="hljs-string">"Query all persons:"</span>);
            <span class="hljs-keyword">for</span> (Person person : persons) {
                System.out.println(person.getName() + <span class="hljs-string">" - "</span> + person.getAge());
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h5 data-id="heading-12">ä½¿ç”¨æŠ•å½±æŸ¥è¯¢è¿”å›è‡ªå®šä¹‰ç»“æœ</h5>
<p>å‡è®¾æˆ‘ä»¬åªæƒ³æŸ¥è¯¢Personçš„å§“åå’Œå¹´é¾„ï¼Œè€Œä¸æ˜¯æ•´ä¸ªå®ä½“ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨æŠ•å½±æŸ¥è¯¢ï¼ˆProjection Queryï¼‰ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.query.NativeQuery;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateProjectionQueryExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// ä½¿ç”¨åŸç”ŸSQLæŠ•å½±æŸ¥è¯¢</span>
        queryPersonNameAndAge(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">queryPersonNameAndAge</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> <span class="hljs-string">"SELECT name, age FROM person"</span>;
            NativeQuery&lt;Object[]&gt; query = session.createNativeQuery(sql);
            List&lt;Object[]&gt; results = query.getResultList();
            System.out.println(<span class="hljs-string">"Query person name and age:"</span>);
            <span class="hljs-keyword">for</span> (Object[] row : results) {
                <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> (String) row[<span class="hljs-number">0</span>];
                <span class="hljs-type">Integer</span> <span class="hljs-variable">age</span> <span class="hljs-operator">=</span> (Integer) row[<span class="hljs-number">1</span>];
                System.out.println(name + <span class="hljs-string">" - "</span> + age);
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-13">åŸç”ŸSQLæŸ¥è¯¢è¯¦ç»†è§£é‡Š</h3>
<ol>
<li>
<p><strong>æ’å…¥ç¤ºä¾‹æ•°æ®</strong>ï¼šå‘æ•°æ®åº“ä¸­æ’å…¥ä¸¤ä¸ª<code>Person</code>å¯¹è±¡ä¾›æŸ¥è¯¢ä½¿ç”¨ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateInsertData</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// æ’å…¥ç¤ºä¾‹æ•°æ®</span>
        insertSampleData(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">insertSampleData</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Person</span> <span class="hljs-variable">person1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"John Doe"</span>, <span class="hljs-number">30</span>);
            <span class="hljs-type">Person</span> <span class="hljs-variable">person2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Jane Doe"</span>, <span class="hljs-number">28</span>);

            session.save(person1);
            session.save(person2);
            transaction.commit();
            System.out.println(<span class="hljs-string">"Inserted sample data"</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
</li>
<li>
<p><strong>æŸ¥è¯¢æ‰€æœ‰Personè®°å½•</strong>ï¼šä½¿ç”¨åŸç”ŸSQLæŸ¥è¯¢æ‰€æœ‰Personè®°å½•å¹¶æ˜ å°„ä¸º<code>Person</code>å®ä½“ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateNativeQueryExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// ä½¿ç”¨åŸç”ŸSQLæŸ¥è¯¢æ‰€æœ‰Personè®°å½•</span>
        queryAllPersons(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
</code></pre>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‹’ç»è¢«æ‰¾å›ï¼MJJå¿…ä¿®è¯¾ï¼šOutlooké‚®ç®±äº¤æ˜“åçš„â€œé˜²å›æ‰‹â€å®‰å…¨è®¾ç½®å…¨æ”»ç•¥]]></title>    <link>https://juejin.cn/post/7593338828195233832</link>    <guid>https://juejin.cn/post/7593338828195233832</guid>    <pubDate>2026-01-09T13:43:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593338828195233832" data-draft-id="7593193235251216436" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‹’ç»è¢«æ‰¾å›ï¼MJJå¿…ä¿®è¯¾ï¼šOutlooké‚®ç®±äº¤æ˜“åçš„â€œé˜²å›æ‰‹â€å®‰å…¨è®¾ç½®å…¨æ”»ç•¥"/> <meta itemprop="keywords" content="æœåŠ¡å™¨"/> <meta itemprop="datePublished" content="2026-01-09T13:43:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¢¨é£å¦‚é›ª"/> <meta itemprop="url" content="https://juejin.cn/user/4064249017803927"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‹’ç»è¢«æ‰¾å›ï¼MJJå¿…ä¿®è¯¾ï¼šOutlooké‚®ç®±äº¤æ˜“åçš„â€œé˜²å›æ‰‹â€å®‰å…¨è®¾ç½®å…¨æ”»ç•¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4064249017803927/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¢¨é£å¦‚é›ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T13:43:03.000Z" title="Fri Jan 09 2026 13:43:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ‹’ç»è¢«æ‰¾å›ï¼MJJå¿…ä¿®è¯¾ï¼šOutlooké‚®ç®±äº¤æ˜“åçš„â€œé˜²å›æ‰‹â€å®‰å…¨è®¾ç½®å…¨æ”»ç•¥</h2>
<p>åœ¨MJJçš„æ—¥å¸¸äº¤æ˜“ä¸­ï¼Œéµå¾ªâ€œä¸€æœºä¸€å·â€çš„ç¥–è®­ï¼ŒOutlookå‡­å€Ÿå…¶é«˜é£æ§é˜ˆå€¼å’Œå¹¿æ³›çš„æ¥å—åº¦ï¼Œå§‹ç»ˆç¨³åäº¤æ˜“å¸‚åœºçš„å¤´æŠŠäº¤æ¤…ã€‚</p>
<p>ä½†æ˜¯ï¼Œä¹°æ¥çš„å·æ€»æ˜¯å¿ƒæƒŠèƒ†æˆ˜ï¼Ÿæ‹…å¿ƒå–å®¶ç•™äº†åé—¨éšæ—¶â€œå›æ‰‹æâ€ï¼Ÿ</p>
<p>åˆ«æ…Œï¼Œåªè¦æŒ‰ç…§è¿™ç¯‡æ•™ç¨‹çš„<strong>ä¸‰ä¸ªæ ¸å¿ƒæ­¥éª¤</strong>æ“ä½œï¼Œå°±èƒ½æŠŠè´¦å·å½»åº•æ¸…æ´—å¹²å‡€ï¼Œå˜æˆä½ è‡ªå·±çš„ç§æœ‰è´¢äº§ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/351c3ffc076f47719b46f4c491fe67e0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768570983&amp;x-signature=XdkTbu9V3mIQCcYNuSrapYxzqg0%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">å‡†å¤‡å·¥ä½œ</h2>
<p>ç™»å½•ä½ çš„Outlookè´¦å·ï¼Œè¿›å…¥ <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Faccount.microsoft.com%2Fsecurity" target="_blank" title="https://account.microsoft.com/security" ref="nofollow noopener noreferrer">Microsoft è´¦æˆ·å®‰å…¨é¡µé¢</a></strong>ã€‚</p>
<blockquote>
<p><strong>é«˜å±é¢„è­¦</strong>ï¼šåœ¨è¿›è¡Œä»¥ä¸‹æ“ä½œå‰ï¼Œè¯·ç¡®ä¿ä½ å½“å‰çš„ç½‘ç»œç¯å¢ƒç›¸å¯¹ç¨³å®šï¼Œæœ€å¥½ä½¿ç”¨æµè§ˆå™¨çš„éšç§æ¨¡å¼ç™»å½•ï¼Œé¿å…ç¼“å­˜å†²çªã€‚</p>
</blockquote>
<h2 data-id="heading-2">ç¬¬ä¸€æ­¥ï¼šæ¸…æ´—è¾…åŠ©éªŒè¯æ–¹å¼</h2>
<p>è¿™æ˜¯æœ€åŸºç¡€ä¹Ÿæ˜¯æœ€å®¹æ˜“è¢«å¿½è§†çš„ä¸€æ­¥ã€‚å¾ˆå¤šæ—¶å€™ä½ æ”¹äº†å¯†ç ï¼Œå–å®¶å´èƒ½é€šè¿‡é¢„ç•™çš„è¾…åŠ©é‚®ç®±è½»æ¾é‡ç½®ã€‚</p>
<p><strong>æ“ä½œé€»è¾‘ï¼š</strong> å…ˆåŠ ååˆ ã€‚ç¡®ä¿æ‰‹é‡Œæœ‰ç²®ï¼Œå¿ƒä¸­ä¸æ…Œã€‚</p>
<ul>
<li>ç‚¹å‡» <strong>â€œé«˜çº§å®‰å…¨é€‰é¡¹â€ (Advanced security options)</strong>ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/72a1c40439954dbda99f400f498be873~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768570983&amp;x-signature=H4xgaheWMWWQkdVRHwL1KdWH82w%3D" alt="" loading="lazy"/></p>
<ul>
<li><strong>ä»”ç»†æ£€æŸ¥</strong>å½“å‰çš„è¾…åŠ©éªŒè¯æ–¹å¼ï¼ˆæ‰‹æœºå·ã€å¤‡ç”¨é‚®ç®±ï¼‰ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/767aef44bb984a778d680e710218c54d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768570983&amp;x-signature=jYKGKYGTVmoZkSxpFHaliAn%2FIcA%3D" alt="" loading="lazy"/></p>
<ul>
<li>
<p><strong>æ·»åŠ è‡ªå·±çš„éªŒè¯æ–¹å¼</strong>ï¼š</p>
</li>
<li>
<p>å¼ºçƒˆå»ºè®®æ·»åŠ <strong>é‚®ç®±</strong>ä½œä¸ºè¾…åŠ©éªŒè¯ï¼Œæ“ä½œæ–¹ä¾¿ä¸”æ¥æ”¶éªŒè¯ç ç¨³å®šã€‚</p>
</li>
<li>
<p><em>æ³¨æ„ï¼šå¦‚æœè´¦å·å½“å‰åªæœ‰ä¸€ä¸ªè¾…åŠ©é‚®ç®±ï¼ˆå–å®¶çš„ï¼‰ï¼Œåƒä¸‡åˆ«æ€¥ç€åˆ ï¼ä¸€å®šè¦å…ˆæ·»åŠ å¹¶éªŒè¯ä½ è‡ªå·±çš„é‚®ç®±ï¼ŒæˆåŠŸä¸Šä½åï¼Œå†æŠŠå–å®¶çš„è¸¢æ‰ã€‚</em></p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e5ec71484b9e45f3a587a5900c7b6dca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768570983&amp;x-signature=Gc6g9Dy7MfwqXsBrWQ4XL2E8bCU%3D" alt="" loading="lazy"/></p>
<ul>
<li><strong>æ·»åŠ å®Œæˆå</strong>ï¼Œæœæ–­åˆ é™¤æ‰€æœ‰ä¸å±äºä½ çš„é‚®ç®±å’Œæ‰‹æœºå·ã€‚</li>
</ul>
<h2 data-id="heading-3">ç¬¬äºŒæ­¥ï¼šé‡ç½®å®‰å…¨æ¢å¤ç </h2>
<p>å¾ˆå¤šäººæ”¹äº†å¯†ç ã€æ¢äº†æ‰‹æœºå·ï¼Œæœ€åè¿˜æ˜¯è¢«æ‰¾å›äº†ï¼Œä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºä½ æ¼æ‰äº†Outlookçš„â€œå°šæ–¹å®å‰‘â€â€”â€”<strong>æ¢å¤ä»£ç ï¼ˆRecovery Codeï¼‰</strong>ã€‚</p>
<h3 data-id="heading-4">ä¸ºä»€ä¹ˆå¿…é¡»é‡ç½®å®ƒï¼Ÿ</h3>
<p>Outlookçš„æ¢å¤ä»£ç æ˜¯ä¸€ä¸²25ä½çš„éšæœºå­—ç¬¦ã€‚å®ƒæ˜¯è´¦æˆ·çš„<strong>æœ€åä¸€é“é˜²çº¿</strong>ã€‚å“ªæ€•æ²¡æœ‰å¯†ç ã€æ²¡æœ‰æ‰‹æœºéªŒè¯ç ï¼Œæ‹¥æœ‰è¿™ä¸²ä»£ç çš„äººå¯ä»¥ç›´æ¥ç»•è¿‡æ‰€æœ‰éªŒè¯ï¼Œå¼ºè¡Œé‡ç½®è´¦æˆ·ã€‚</p>
<p><strong>é£é™©ç‚¹</strong>ï¼šå¦‚æœå‰å·ä¸»ä¿ç•™äº†ä¹‹å‰çš„æ¢å¤ä»£ç ï¼Œä»–éšæ—¶å¯ä»¥â€œå¤æ´»â€å¹¶æ¥ç®¡è´¦å·ã€‚</p>
<h3 data-id="heading-5">å¦‚ä½•æ“ä½œï¼Ÿ</h3>
<ul>
<li>åœ¨â€œé«˜çº§å®‰å…¨é€‰é¡¹â€é¡µé¢ï¼Œå‘ä¸‹æ‹‰ï¼Œæ‰¾åˆ° <strong>â€œæ¢å¤ä»£ç â€ (Recovery code)</strong> åŒºåŸŸã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/058cea4ff65a478aa46a329e261f45cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768570983&amp;x-signature=VS5Rws8Sc3d7uiOzrc%2BGkFcS0fc%3D" alt="" loading="lazy"/></p>
<ul>
<li>
<p>ç‚¹å‡» <strong>â€œç”Ÿæˆæ–°ä»£ç â€ (Generate new code)</strong> æˆ– <strong>â€œæ›¿æ¢â€</strong>ã€‚</p>
</li>
<li>
<p><strong>ç³»ç»Ÿé€»è¾‘</strong>ï¼šå½“ä½ ç”Ÿæˆæ–°ä»£ç çš„ç¬é—´ï¼Œ<strong>æ—§çš„ä»£ç ä¼šç«‹å³å¤±æ•ˆ</strong>ã€‚è¿™æ„å‘³ç€å‰å·ä¸»æ‰‹é‡Œçš„é‚£ä¸ªå¤‡ä»½å½»åº•å˜æˆäº†åºŸçº¸ã€‚</p>
</li>
<li>
<p><strong>ä¿å­˜æ–°ä»£ç </strong>ï¼šç³»ç»Ÿä¼šæ˜¾ç¤ºä¸€ä¸ªæ–°çš„25ä½ä»£ç ï¼ˆå¦‚ <code>XXXXX-XXXXX-...</code>ï¼‰ã€‚</p>
</li>
<li>
<p><em>å»ºè®®ï¼šæˆªå›¾ä¿å­˜æˆ–æŠ„å†™ä¸‹æ¥ï¼Œå­˜æ”¾åœ¨æœ¬åœ°å®‰å…¨çš„åœ°æ–¹ï¼Œä¸è¦åªä¿å­˜åœ¨ç½‘ç›˜æˆ–é‚®ç®±é‡Œã€‚</em></p>
</li>
</ul>
<h2 data-id="heading-6">ç¬¬ä¸‰æ­¥ï¼šè¸¢æ‰æ‰€æœ‰ç™»å…¥è®¾å¤‡</h2>
<p>æ”¹å®Œæ‰€æœ‰è®¾ç½®åï¼Œå¦‚æœå–å®¶çš„ç”µè„‘æˆ–æ‰‹æœºè¿˜ä¿æŒç€ç™»å½•çŠ¶æ€ï¼ˆCookie/Sessionæœªå¤±æ•ˆï¼‰ï¼Œä»–ä¾ç„¶æœ‰æœºä¼šåœ¨ä½ çœ¼çš®åº•ä¸‹æŸ¥çœ‹éªŒè¯ç æˆ–è¿›è¡Œç ´åã€‚</p>
<ul>
<li>åœ¨â€œé«˜çº§å®‰å…¨é€‰é¡¹â€é¡µé¢ä¸‹æ–¹ï¼Œæ‰¾åˆ° <strong>â€œæ³¨é”€æˆ‘â€ (Sign me out)</strong> æˆ– <strong>â€œæ³¨é”€æ‰€æœ‰ä½ç½®â€</strong>ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3773885afb0c4fedb09add7a1ce0a658~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768570983&amp;x-signature=op1vPNzcG37lu6VN6EplBvJ%2Bqc0%3D" alt="" loading="lazy"/></p>
<ul>
<li>
<p>ç‚¹å‡»ç¡®è®¤ã€‚</p>
</li>
<li>
<p><em>å¤‡æ³¨ï¼šå¾®è½¯å®˜æ–¹æç¤ºè¯¥æ“ä½œå¯èƒ½éœ€è¦24å°æ—¶ç”Ÿæ•ˆï¼Œä½†å®æµ‹é€šå¸¸å‡ åˆ†é’Ÿå†…å°±ä¼šæŠŠæ‰€æœ‰è®¾å¤‡ï¼ˆåŒ…æ‹¬ä½ è‡ªå·±å½“å‰çš„è®¾å¤‡ï¼‰å…¨éƒ¨å¼ºåˆ¶ä¸‹çº¿ã€‚</em></p>
</li>
</ul>
<h2 data-id="heading-7">ç¬¬å››æ­¥ï¼šä¿®æ”¹ç™»å½•å¯†ç </h2>
<p>åšå®Œä»¥ä¸Šä¸‰ä¸ªâ€œå¤§æ‰‹æœ¯â€åï¼Œè´¦å·å·²ç»åŸºæœ¬å®‰å…¨ã€‚æœ€åä¸€æ­¥ï¼Œä¸ºäº†ä»ªå¼æ„Ÿå’Œç»å¯¹çš„å®‰å…¨ï¼š</p>
<ul>
<li>å»ä¿®æ”¹ä¸€ä¸ªé«˜å¼ºåº¦çš„<strong>ç™»å½•å¯†ç </strong>ã€‚</li>
<li>é‡æ–°ç™»å½•ä½ çš„è´¦å·ï¼Œäº«å—å®Œå…¨æŒæ§çš„å¿«æ„Ÿã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/343d74b03e2c4feabb8c7a223e7a23f4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768570983&amp;x-signature=PfG2SSs%2F1iJ5N3l7cXVHsdV9b4w%3D" alt="" loading="lazy"/></p>
<p>æ€»ç»“ä¸é˜²å‘å°è´´å£«</p>
<ol>
<li><strong>é¡ºåºä¸èƒ½ä¹±</strong>ï¼šå»ºè®®æŒ‰ <strong>æ·»åŠ è‡ªå·±é‚®ç®± â†’ åˆ åˆ«äººé‚®ç®± â†’ é‡ç½®æ¢å¤ç  â†’ è¸¢è®¾å¤‡ â†’ æ”¹å¯†ç </strong> çš„é¡ºåºæ“ä½œã€‚</li>
<li><strong>é£æ§æ³¨æ„</strong>ï¼šå¦‚æœè´¦å·IPå˜åŠ¨æå…¶å‰§çƒˆï¼Œè¿ç»­ä¿®æ”¹å®‰å…¨è®¾ç½®å¯èƒ½ä¼šè§¦å‘å¾®è½¯çš„30å¤©å®‰å…¨æŒ‚èµ·æœŸï¼ˆSecurity wait periodï¼‰ã€‚å¦‚æœé‡åˆ°æç¤ºéœ€ç­‰å¾…30å¤©ï¼Œè¯´æ˜è´¦å·è¢«é£æ§ï¼Œæ­¤æ—¶è´¦å·ä»å¯ç™»å½•ä½†æ— æ³•ä¿®æ”¹å®‰å…¨ä¿¡æ¯ï¼Œå»ºè®®æŒ‚æœºå…»å·å‡ å¤©å†è¯•ã€‚</li>
<li><strong>åŒé‡éªŒè¯(2FA)</strong>ï¼šå¦‚æœæ¡ä»¶å…è®¸ï¼Œå»ºè®®ç»‘å®šå¾®è½¯è‡ªå®¶çš„ Authenticator Appï¼Œå®‰å…¨æ€§è¿œé«˜äºçŸ­ä¿¡éªŒè¯ã€‚</li>
</ol>
<p>åšå®Œè¿™å¥—æµç¨‹ï¼Œä½ çš„Outlookè´¦å·å°±åƒç©¿äº†é˜²å¼¹è¡£ï¼Œé™¤äº†ä½ æ²¡äººèƒ½è¿›å¾—å»ï¼</p>
<p><em>å¦‚æœæœ‰é—æ¼çš„ç»†èŠ‚æˆ–é‡åˆ°ç‰¹æ®Šçš„é£æ§æƒ…å†µï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºè¡¥å……äº¤æµï¼</em></p>
<h3 data-id="heading-8">å¦‚æœè§‰å¾—æ–‡ç« å¥½ï¼Œå¯ä»¥å…³æ³¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.legacyvps.com%2F" target="_blank" title="https://www.legacyvps.com/" ref="nofollow noopener noreferrer">ä¼ å®¶å®VPS</a></h3></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ32ï¼‰ä»€ä¹ˆæ˜¯Hibernateçš„CriteriaæŸ¥è¯¢ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7592990758476759059</link>    <guid>https://juejin.cn/post/7592990758476759059</guid>    <pubDate>2026-01-09T13:49:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592990758476759059" data-draft-id="7593145583348121642" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ32ï¼‰ä»€ä¹ˆæ˜¯Hibernateçš„CriteriaæŸ¥è¯¢ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-09T13:49:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ32ï¼‰ä»€ä¹ˆæ˜¯Hibernateçš„CriteriaæŸ¥è¯¢ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T13:49:00.000Z" title="Fri Jan 09 2026 13:49:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">Hibernateçš„CriteriaæŸ¥è¯¢</h3>
<p>Hibernateçš„CriteriaæŸ¥è¯¢æ˜¯ä¸€ç§é¢å‘å¯¹è±¡çš„æŸ¥è¯¢æ–¹å¼ï¼Œå®ƒå…è®¸å¼€å‘è€…ä»¥ç¼–ç¨‹æ–¹å¼æ„å»ºæŸ¥è¯¢ï¼Œè€Œä¸æ˜¯ç›´æ¥ç¼–å†™HQLæˆ–SQLè¯­å¥ã€‚å®ƒçš„ä¸»è¦ç‰¹ç‚¹åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>ç±»å‹å®‰å…¨</strong>ï¼šç¼–è¯‘æ—¶æ£€æŸ¥å¯ä»¥æ•æ‰åˆ°é”™è¯¯ã€‚</li>
<li><strong>é¢å‘å¯¹è±¡</strong>ï¼šä½¿ç”¨Javaå¯¹è±¡å’Œæ–¹æ³•æ¥æ„å»ºæŸ¥è¯¢ã€‚</li>
<li><strong>åŠ¨æ€ç”Ÿæˆ</strong>ï¼šå¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€ç”ŸæˆæŸ¥è¯¢ï¼Œè€Œä¸æ˜¯åœ¨ç¼–è¯‘æ—¶å›ºå®šæŸ¥è¯¢ã€‚</li>
</ul>
<h3 data-id="heading-1">ä½¿ç”¨CriteriaæŸ¥è¯¢</h3>
<p>åœ¨Hibernate 5ä¹‹å‰ï¼ŒCriteria APIæ˜¯é€šè¿‡<code>org.hibernate.Criteria</code>æ¥å£å®ç°çš„ã€‚åœ¨Hibernate 5åŠä¹‹åï¼ŒCriteria APIè¢«é‡æ–°è®¾è®¡ä¸ºJPAçš„Criteria APIï¼ˆ<code>javax.persistence.criteria</code>ï¼‰ã€‚</p>
<h3 data-id="heading-2">ç¤ºä¾‹ä»£ç </h3>
<h4 data-id="heading-3">å®ä½“ç±»å®šä¹‰</h4>
<p>ç»§ç»­ä½¿ç”¨ä¹‹å‰å®šä¹‰çš„<code>Person</code>å’Œ<code>Address</code>å®ä½“ç±»ã€‚</p>
<h5 data-id="heading-4">Personç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.domain;

<span class="hljs-keyword">import</span> javax.persistence.*;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "person")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {

    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-meta">@Column(name = "name")</span>
    <span class="hljs-keyword">private</span> String name;

    <span class="hljs-meta">@Column(name = "age")</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
    }

    <span class="hljs-comment">// Getters å’Œ Setters</span>

    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-built_in">this</span>.name = name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> age;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.age = age;
    }
}
</code></pre>
<h4 data-id="heading-5">Hibernateé…ç½®æ–‡ä»¶ <code>hibernate.cfg.xml</code></h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span>
        <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span>
        <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ•°æ®åº“è¿æ¥é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/your_database<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>your_username<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>your_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Hibernate å±æ€§é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.format_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.hbm2ddl.auto"</span>&gt;</span>update<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- æ˜ å°„ç±» --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Person"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Address"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h4 data-id="heading-6">HibernateUtilç±»</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.cfg.Configuration;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateUtil</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> SessionFactory sessionFactory;

    <span class="hljs-keyword">static</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä»é…ç½®æ–‡ä»¶åˆ›å»ºSessionFactory</span>
            sessionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate.cfg.xml"</span>).buildSessionFactory();
        } <span class="hljs-keyword">catch</span> (Throwable ex) {
            <span class="hljs-comment">// è®°å½•å¯åŠ¨å¤±è´¥çš„é”™è¯¯</span>
            System.err.println(<span class="hljs-string">"Initial SessionFactory creation failed."</span> + ex);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExceptionInInitializerError</span>(ex);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SessionFactory <span class="hljs-title function_">getSessionFactory</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> sessionFactory;
    }
}
</code></pre>
<h3 data-id="heading-7">ä½¿ç”¨CriteriaæŸ¥è¯¢ç¤ºä¾‹</h3>
<h4 data-id="heading-8">æ’å…¥ç¤ºä¾‹æ•°æ®</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateInsertData</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// æ’å…¥ç¤ºä¾‹æ•°æ®</span>
        insertSampleData(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">insertSampleData</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Person</span> <span class="hljs-variable">person1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"John Doe"</span>, <span class="hljs-number">30</span>);
            <span class="hljs-type">Person</span> <span class="hljs-variable">person2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Jane Doe"</span>, <span class="hljs-number">28</span>);

            session.save(person1);
            session.save(person2);
            transaction.commit();
            System.out.println(<span class="hljs-string">"Inserted sample data"</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h4 data-id="heading-9">ä½¿ç”¨CriteriaæŸ¥è¯¢</h4>
<h5 data-id="heading-10">æŸ¥è¯¢æ‰€æœ‰Personè®°å½•</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.query.criteria.HibernateCriteriaBuilder;
<span class="hljs-keyword">import</span> org.hibernate.query.criteria.JpaCriteriaQuery;

<span class="hljs-keyword">import</span> javax.persistence.criteria.Root;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateCriteriaQueryExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// ä½¿ç”¨CriteriaæŸ¥è¯¢æ‰€æœ‰Personè®°å½•</span>
        queryAllPersons(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">queryAllPersons</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">HibernateCriteriaBuilder</span> <span class="hljs-variable">criteriaBuilder</span> <span class="hljs-operator">=</span> session.getCriteriaBuilder();
            JpaCriteriaQuery&lt;Person&gt; criteriaQuery = criteriaBuilder.createQuery(Person.class);
            Root&lt;Person&gt; root = criteriaQuery.from(Person.class);
            criteriaQuery.select(root);

            List&lt;Person&gt; persons = session.createQuery(criteriaQuery).getResultList();
            System.out.println(<span class="hljs-string">"Query all persons:"</span>);
            <span class="hljs-keyword">for</span> (Person person : persons) {
                System.out.println(person.getName() + <span class="hljs-string">" - "</span> + person.getAge());
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h5 data-id="heading-11">ä½¿ç”¨æ¡ä»¶æŸ¥è¯¢</h5>
<p>å‡è®¾æˆ‘ä»¬æƒ³æŸ¥è¯¢å¹´é¾„å¤§äº25å²çš„Personã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.query.criteria.HibernateCriteriaBuilder;
<span class="hljs-keyword">import</span> org.hibernate.query.criteria.JpaCriteriaQuery;

<span class="hljs-keyword">import</span> javax.persistence.criteria.Root;
<span class="hljs-keyword">import</span> javax.persistence.criteria.Predicate;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateCriteriaConditionalQueryExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// ä½¿ç”¨Criteriaæ¡ä»¶æŸ¥è¯¢</span>
        queryPersonsByAge(sessionFactory, <span class="hljs-number">25</span>);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">queryPersonsByAge</span><span class="hljs-params">(SessionFactory sessionFactory, <span class="hljs-type">int</span> age)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">HibernateCriteriaBuilder</span> <span class="hljs-variable">criteriaBuilder</span> <span class="hljs-operator">=</span> session.getCriteriaBuilder();
            JpaCriteriaQuery&lt;Person&gt; criteriaQuery = criteriaBuilder.createQuery(Person.class);
            Root&lt;Person&gt; root = criteriaQuery.from(Person.class);

            <span class="hljs-type">Predicate</span> <span class="hljs-variable">agePredicate</span> <span class="hljs-operator">=</span> criteriaBuilder.greaterThan(root.get(<span class="hljs-string">"age"</span>), age);
            criteriaQuery.select(root).where(agePredicate);

            List&lt;Person&gt; persons = session.createQuery(criteriaQuery).getResultList();
            System.out.println(<span class="hljs-string">"Query persons with age greater than "</span> + age + <span class="hljs-string">":"</span>);
            <span class="hljs-keyword">for</span> (Person person : persons) {
                System.out.println(person.getName() + <span class="hljs-string">" - "</span> + person.getAge());
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-12">CriteriaæŸ¥è¯¢è¯¦ç»†è§£é‡Š</h3>
<ol>
<li>
<p><strong>æ’å…¥ç¤ºä¾‹æ•°æ®</strong>ï¼šå‘æ•°æ®åº“ä¸­æ’å…¥ä¸¤ä¸ª<code>Person</code>å¯¹è±¡ä¾›æŸ¥è¯¢ä½¿ç”¨ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateInsertData</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// æ’å…¥ç¤ºä¾‹æ•°æ®</span>
        insertSampleData(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">insertSampleData</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Person</span> <span class="hljs-variable">person1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"John Doe"</span>, <span class="hljs-number">30</span>);
            <span class="hljs-type">Person</span> <span class="hljs-variable">person2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Jane Doe"</span>, <span class="hljs-number">28</span>);

            session.save(person1);
            session.save(person2);
            transaction.commit();
            System.out.println(<span class="hljs-string">"Inserted sample data"</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
</li>
<li>
<p><strong>æŸ¥è¯¢æ‰€æœ‰Personè®°å½•</strong>ï¼šä½¿ç”¨CriteriaæŸ¥è¯¢æ‰€æœ‰Personè®°å½•ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateCriteriaQueryExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// ä½¿ç”¨CriteriaæŸ¥è¯¢æ‰€æœ‰Personè®°å½•</span>
        queryAllPersons(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">queryAllPersons</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">HibernateCriteriaBuilder</span> <span class="hljs-variable">criteriaBuilder</span> <span class="hljs-operator">=</span> session.getCriteriaBuilder();
            JpaCriteriaQuery&lt;Person&gt; criteriaQuery = criteriaBuilder.createQuery(Person.class);
            Root&lt;Person&gt; root = criteriaQuery.from(Person.class);
            criteriaQuery.select(root);

            List&lt;Person&gt; persons = session.createQuery(criteriaQuery).getResultList();
            System.out.println(<span class="hljs-string">"Query all persons:"</span>);
            <span class="hljs-keyword">for</span> (Person person : persons) {
                System.out.println(person.getName() );
</code></pre>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[TIOBE å…¬å¸ƒ C# æ˜¯ 2025 å¹´åº¦ç¼–ç¨‹è¯­è¨€]]></title>    <link>https://juejin.cn/post/7593145583348154410</link>    <guid>https://juejin.cn/post/7593145583348154410</guid>    <pubDate>2026-01-09T13:50:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593145583348154410" data-draft-id="7593145583348138026" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="TIOBE å…¬å¸ƒ C# æ˜¯ 2025 å¹´åº¦ç¼–ç¨‹è¯­è¨€"/> <meta itemprop="keywords" content="åç«¯,.NET"/> <meta itemprop="datePublished" content="2026-01-09T13:50:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¿½é€æ—¶å…‰è€…"/> <meta itemprop="url" content="https://juejin.cn/user/2770425031690333"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            TIOBE å…¬å¸ƒ C# æ˜¯ 2025 å¹´åº¦ç¼–ç¨‹è¯­è¨€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2770425031690333/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¿½é€æ—¶å…‰è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T13:50:40.000Z" title="Fri Jan 09 2026 13:50:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>TIOBE å…¬å¸ƒçš„æ•°æ®æ˜¾ç¤ºï¼ŒC# ä»¥ 2.94% çš„å¹´åº¦æœ€å¤§æ¶¨å¹…å†åº¦è·è¯„<code>2025 å¹´åº¦ç¼–ç¨‹è¯­è¨€</code>ï¼Œåœ¨è¿‘ä¸‰å¹´å†…ï¼ŒC# ç¬¬äºŒæ¬¡è¢« TIOBE æŒ‡æ•°è¯„ä¸º<code>å¹´åº¦ç¼–ç¨‹è¯­è¨€</code>ã€‚è¿™ä¸€è£èª‰æˆäºˆäº†åœ¨å¹´åº¦æ’åä¸­æ¶¨å¹…æœ€å¤§çš„ç¼–ç¨‹è¯­è¨€ï¼Œè€Œ C# æ­£æ˜¯å‡­å€Ÿè¿™ä¸€æœ€å¤§å¢å¹…è·æ­¤æ®Šè£ã€‚</p>
<p>å¤šå¹´æ¥ï¼ŒC# ç»å†äº†æ ¹æœ¬æ€§çš„å˜é©ï¼šä»è¯­è¨€è®¾è®¡çš„è§’åº¦æ¥çœ‹ï¼Œå®ƒå¸¸å¸¸æ˜¯ä¸»æµç¼–ç¨‹è¯­è¨€ä¸­ç‡å…ˆé‡‡çº³æ–°è¶‹åŠ¿çš„å…ˆè¡Œè€…ã€‚ä¸æ­¤åŒæ—¶ï¼ŒC# æˆåŠŸå®ç°äº†ä¸¤æ¬¡é‡å¤§è½¬å‹ï¼šä¸€æ˜¯ä»ä»…é™ Windows å¹³å°è½¬å‘è·¨å¹³å°æ”¯æŒï¼ŒäºŒæ˜¯ä»å¾®è½¯ä¸“å±èµ°å‘å¼€æºã€‚C# æ€»èƒ½åœ¨å…³é”®æ—¶åˆ»åŠæ—¶æ¼”è¿›ï¼ŒæŒç»­ä¿æŒæ´»åŠ›ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9efab1720cfb4a098214fc1bc9a19002~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768571440&amp;x-signature=56IL1QkVj62Pi5L73pwiu9Cr0Ng%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">TIOBE ä»‹ç»</h2>
<p>TIOBE æ˜¯ä¸€ä¸ªç¼–ç¨‹ç¤¾åŒºæŒ‡æ•°ï¼Œç”¨äºè¡¡é‡ä¸åŒç¼–ç¨‹è¯­è¨€çš„å—æ¬¢è¿ç¨‹åº¦ã€‚TIOBE æŒ‡æ•°åŸºäºå…¨çƒèŒƒå›´å†…ç†Ÿç»ƒå·¥ç¨‹å¸ˆæ•°é‡ã€è¯¾ç¨‹å’Œç¬¬ä¸‰æ–¹ä¾›åº”å•†ç­‰å¤šä¸ªå› ç´ è¿›è¡Œè¯„ä¼°ã€‚æŒ‡æ•°æ¯æœˆæ›´æ–°ä¸€æ¬¡ï¼Œå¹¶ä½¿ç”¨ä¸€ç³»åˆ—æµè¡Œæœç´¢å¼•æ“ï¼ˆå¦‚Googleã€å¿…åº”ã€é›…è™ã€ç»´åŸºç™¾ç§‘ã€äºšé©¬é€Šã€YouTube å’Œç™¾åº¦ç­‰ï¼‰æ¥è®¡ç®—ç¼–ç¨‹è¯­è¨€çš„ç›¸å…³æœç´¢ç»“æœå’Œè®¨è®ºé‡ç­‰æ•°æ®ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒTIOBEæŒ‡æ•°å¹¶ä¸ä»£è¡¨â€œæœ€ä½³â€ç¼–ç¨‹è¯­è¨€ï¼Œä¹Ÿä¸æ˜¯æŒ‡â€œä»£ç è¡Œæ•°æœ€å¤šâ€çš„è¯­è¨€ã€‚</p>
<h2 data-id="heading-2">TIOBE ç¼–ç¨‹è¯­è¨€è¯„åˆ†æ’è¡Œæ¦œ</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/92c779c82b854290816f4396cc320533~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768571440&amp;x-signature=hCQs6c6Gzbu0Y0Ps%2FXEYhXm1XDM%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-3">TIOBE ç¼–ç¨‹ç¤¾åŒºæŒ‡æ•°</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/31112bd0097c4660b1272fdf21a1b1a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768571440&amp;x-signature=KdGoNORKkJlLIuwx1kEnyD%2BCnNc%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">ç¼–ç¨‹è¯­è¨€åäººå ‚</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/daacdb4c6e8242a78563e6fbeb56ab1a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768571440&amp;x-signature=bf6rUUACsxZKLI3ynVuQW4v5S5Q%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">C# 14 æ–°å¢çš„ä¸€äº›åŠŸèƒ½</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Flearn.microsoft.com%2Fzh-cn%2Fdotnet%2Fcsharp%2Fwhats-new%2Fcsharp-14" target="_blank" title="https://learn.microsoft.com/zh-cn/dotnet/csharp/whats-new/csharp-14" ref="nofollow noopener noreferrer">learn.microsoft.com/zh-cn/dotneâ€¦</a></li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d072ec259f374da79a919240c05a54f2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768571440&amp;x-signature=wUSBMB9X3hRndwbmAWNMPAZ5wg4%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-6">.NET 10 æ­£å¼å‘å¸ƒ</h2>
<p>.NET å›¢é˜Ÿäº 2025 å¹´ 11 æœˆ 11 æ—¥å®£å¸ƒ .NET 10 æ­£å¼å‘å¸ƒï¼Œè¿™æ˜¯è¿„ä»Šä¸ºæ­¢æœ€é«˜æ•ˆã€æœ€ç°ä»£ã€æœ€å®‰å…¨ã€æœ€æ™ºèƒ½ä¸”æ€§èƒ½æœ€é«˜çš„ .NET ç‰ˆæœ¬ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c979d7cb5a04cf0bcef7a6b36a09951~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768571440&amp;x-signature=cKvrDewsmjUqjqQ6ef%2FXF8gykh8%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/795eebe014c24ae2b0033a8512e9104c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768571440&amp;x-signature=IlShUQwb6ShlcOHMfdJZ%2BbrORfM%3D" alt="" loading="lazy"/></p>
<p>.NET 10 æ˜¯ä¸€ä¸ªé•¿æœŸæ”¯æŒç‰ˆæœ¬ï¼ˆLTSï¼‰Â ï¼Œå°†æ”¯æŒä¸‰å¹´Â ï¼Œç›´è‡³ 2028 å¹´ 11 æœˆ 10 æ—¥ã€‚æˆ‘ä»¬å¼ºçƒˆå»ºè®®ç”Ÿäº§ç¯å¢ƒä¸­çš„åº”ç”¨ç¨‹åºå‡çº§åˆ° .NET 10ï¼Œä»¥ä¾¿äº«å—æ›´é•¿çš„æ”¯æŒå‘¨æœŸã€æ˜¾è‘—çš„æ€§èƒ½æå‡ä»¥åŠä¼—å¤šæ–°åŠŸèƒ½ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2ec524c0f9b64bc99db0dc14ac9ebef4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768571440&amp;x-signature=cpkwTi1BWbSltzksruzMkp2ICNw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-7">.NET è®©æ„å»º AI é©±åŠ¨çš„åº”ç”¨å˜å¾—ç®€å•ç›´æ¥</h2>
<p>.NET è®©æ„å»º AI é©±åŠ¨çš„åº”ç”¨å˜å¾—ç®€å•ç›´æ¥ï¼Œæ— è®ºæ˜¯è½»é‡çº§é›†æˆè¿˜æ˜¯å¤æ‚çš„å¤šæ™ºèƒ½ä½“ç³»ç»Ÿéƒ½èƒ½è½»æ¾åº”å¯¹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6da089f82e8045ecbbb398c50e0950e2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768571440&amp;x-signature=cDembuQ%2FJC%2FFyM6IQyh%2BSxVWD0w%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-8">Microsoft ä»£ç†æ¡†æ¶ï¼šæ„å»ºæ™ºèƒ½å¤šä»£ç†ç³»ç»Ÿ</h3>
<p>Microsoft ä»£ç†æ¡†æ¶é€šè¿‡å°†è¯­ä¹‰å†…æ ¸å’Œ AutoGen çš„ä¼˜ç‚¹ç»“åˆåˆ°ç»Ÿä¸€ä½“éªŒä¸­ï¼Œç®€åŒ–äº†æ™ºèƒ½ä»£ç† AI ç³»ç»Ÿçš„æ„å»ºã€‚æ— è®ºæ‚¨æ˜¯æ„å»ºå•ä¸ª AI ä»£ç†è¿˜æ˜¯åè°ƒå¤šä¸ªä»£ç†ååŒå·¥ä½œï¼Œè¯¥æ¡†æ¶éƒ½èƒ½æä¾›æ‚¨æ‰€éœ€çš„æ¨¡å¼å’ŒåŸºç¡€è®¾æ–½ã€‚</p>
<ul>
<li>å¼€æºåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmicrosoft%2Fagent-framework" target="_blank" title="https://github.com/microsoft/agent-framework" ref="nofollow noopener noreferrer">github.com/microsoft/aâ€¦</a></li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4a1f1f9bd5404a859ccbf778af773579~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768571440&amp;x-signature=4rknz7UhUdiZl%2B8tCYTA3SPpHwQ%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-9">äººå·¥æ™ºèƒ½åº”ç”¨çš„ç»Ÿä¸€æ„å»ºæ¨¡å—</h3>
<p><code>Microsoft.Extensions.AI</code> å’Œ <code>Microsoft.Extensions.VectorData</code> æä¾›ç»Ÿä¸€çš„æŠ½è±¡ï¼Œç”¨äºå°† AI æœåŠ¡é›†æˆåˆ°æ‚¨çš„åº”ç”¨ç¨‹åºä¸­ã€‚IChatClient æ¥å£é€šè¿‡ä¸€è‡´çš„ API ä¸ä»»ä½•æä¾›ç¨‹åºï¼ˆOpenAIã€Azure OpenAIã€GitHub Modelsã€Ollamaï¼‰é…åˆä½¿ç”¨ï¼Œä»è€Œå¯ä»¥è½»æ¾åˆ‡æ¢æä¾›ç¨‹åºæˆ–æ”¯æŒå¤šä¸ªåç«¯ï¼Œè€Œæ— éœ€é‡å†™ä»£ç ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5750b0dd079b4a6e83eefdc566c8244f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768571440&amp;x-signature=qGdSGXp6cQup8yooeR1D4Ss0DKQ%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-10">.NET æä¾›ä¸€æµçš„ MCP æ”¯æŒ</h3>
<p>.NET æä¾›å¯¹ Model Context Protocolï¼ˆMCPï¼Œæ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼‰ çš„ä¸€æµæ”¯æŒï¼Œè®© AI æ™ºèƒ½ä½“èƒ½å¤Ÿé€šè¿‡æ ‡å‡†åŒ–æ–¹å¼è¿æ¥å¤–éƒ¨å·¥å…·å’ŒæœåŠ¡ã€‚MCP ä½¿ AI æ™ºèƒ½ä½“å¯ä»¥è®¿é—®æ•°æ®æºã€API å’Œå„ç§å·¥å…·ï¼Œä»è€Œæ˜¾è‘—æå‡å…¶èƒ½åŠ›å’Œé€‚ç”¨åœºæ™¯çš„å¤šæ ·æ€§ã€‚</p>
<ul>
<li>C# MCP SDKï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmodelcontextprotocol%2Fcsharp-sdk" target="_blank" title="https://github.com/modelcontextprotocol/csharp-sdk" ref="nofollow noopener noreferrer">github.com/modelcontexâ€¦</a></li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/812d793e7d804298a82435ced941c698~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768571440&amp;x-signature=uPUD5dHJGpCPNyHrXfCqoREwRzM%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-11">C#/.NET/.NET Coreå­¦ä¹ ã€å·¥ä½œã€é¢è¯•æŒ‡å—</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FYSGStudyHards%2FDotNetGuide" target="_blank" title="https://github.com/YSGStudyHards/DotNetGuide" ref="nofollow noopener noreferrer">github.com/YSGStudyHarâ€¦</a></li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/49f7c96db26c44b99ddb009725ca2f6b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768571440&amp;x-signature=wPR4hGqvcs%2FSk7vHiSC0q4HJsvk%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-12">å‚è€ƒæ–‡ç« </h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftiobe.org.cn%2Ftiobe-index" target="_blank" title="https://tiobe.org.cn/tiobe-index" ref="nofollow noopener noreferrer">tiobe.org.cn/tiobe-index</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.tiobe.com%2Ftiobe-index" target="_blank" title="https://www.tiobe.com/tiobe-index" ref="nofollow noopener noreferrer">www.tiobe.com/tiobe-index</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flinkæºç é˜…è¯»ï¼šNettyé€šä¿¡]]></title>    <link>https://juejin.cn/post/7593164154631815177</link>    <guid>https://juejin.cn/post/7593164154631815177</guid>    <pubDate>2026-01-09T12:13:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593164154631815177" data-draft-id="7593164154631798793" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flinkæºç é˜…è¯»ï¼šNettyé€šä¿¡"/> <meta itemprop="keywords" content="Flink,å¤§æ•°æ®"/> <meta itemprop="datePublished" content="2026-01-09T12:13:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¢å‘Googleç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/1063982986695374"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flinkæºç é˜…è¯»ï¼šNettyé€šä¿¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1063982986695374/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¢å‘Googleç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T12:13:27.000Z" title="Fri Jan 09 2026 12:13:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å‰æ–‡ä¸­æˆ‘ä»¬äº†è§£äº† Flink çš„æ•°æ®äº¤äº’è¿‡ç¨‹ï¼Œä¸Šæ¸¸çš„ Task å°†æ•°æ®å†™å…¥åˆ° ResultSubpartition çš„ buffers é˜Ÿåˆ—ä¸­ã€‚ä¸‹æ¸¸çš„ Task é€šè¿‡ LocalInputChannel å’Œ RemoteInputChannel æ¶ˆè´¹ä¸Šæ¸¸çš„æ•°æ®ã€‚</p>
<p>LocalInputChannel æ˜¯ä¸Šä¸‹æ¸¸çš„ Task éƒ¨ç½²åœ¨åŒä¸€ä¸ª TaskManager æ—¶ä½¿ç”¨çš„ï¼Œåœ¨æœ¬åœ°å³å¯å®Œæˆæ•°æ®äº¤æ¢ï¼Œæ— éœ€ç½‘ç»œé€šä¿¡ã€‚å½“ä¸Šä¸‹æ¸¸çš„ Task éƒ¨ç½²åœ¨ä¸åŒçš„ TaskManager æ—¶ï¼Œå°±éœ€è¦ç”¨åˆ° RemoteInputChannelï¼ŒFlink åˆ©ç”¨ Netty æ¥è¿›è¡Œæ•°æ®äº¤äº’ã€‚æœ¬æ–‡æˆ‘ä»¬æ¥ä¸€èµ·æ¢³ç†ä¸€ä¸‹ Netty ç›¸å…³çš„æºç ã€‚</p>
<h3 data-id="heading-0">åˆå§‹åŒ–</h3>
<p>æˆ‘ä»¬å…ˆæ¥çœ‹ NettyServer å’Œ NettyClient çš„åˆå§‹åŒ–è¿‡ç¨‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ba4706fbb604cc5884638aaad02c95b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2i5ZCRR29vZ2xl57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768565606&amp;x-signature=ro8kY7ZVGC%2BQRjha4Mu06IgMWMI%3D" alt="NettyInit" loading="lazy"/></p>
<p>Netty çš„åˆå§‹åŒ–é˜¶æ®µæ˜¯åœ¨ TaskManager å¯åŠ¨çš„è¿‡ç¨‹ä¸­æ‰§è¡Œçš„ã€‚åœ¨ <code>TaskManagerServices.fromConfiguration</code> æ–¹æ³•ä¸­ï¼Œä¼šåˆ›å»ºå¹¶å¯åŠ¨ ShuffleEnvironmentã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">public</span> <span class="hljs-built_in">static</span> TaskManagerServices <span class="hljs-title function_ invoke__">fromConfiguration</span>(
        TaskManagerServicesConfiguration taskManagerServicesConfiguration,
        PermanentBlobService permanentBlobService,
        MetricGroup taskManagerMetricGroup,
        ExecutorService ioExecutor,
        ScheduledExecutor scheduledExecutor,
        FatalErrorHandler fatalErrorHandler,
        WorkingDirectory workingDirectory)
        throws <span class="hljs-built_in">Exception</span> {
    ...

    <span class="hljs-keyword">final</span> ShuffleEnvironment<span class="hljs-meta">&lt;?</span>, <span class="hljs-meta">?&gt;</span> shuffleEnvironment =
            <span class="hljs-title function_ invoke__">createShuffleEnvironment</span>(
                    taskManagerServicesConfiguration,
                    taskEventDispatcher,
                    taskManagerMetricGroup,
                    ioExecutor,
                    scheduledExecutor);
    <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> listeningDataPort = shuffleEnvironment.<span class="hljs-title function_ invoke__">start</span>();
    ...
}
</code></pre>
<p>æˆ‘ä»¬é¡ºç€è°ƒç”¨é“¾è·¯å¯ä»¥ä¸€ç›´æ‰¾åˆ° <code>NettyShuffleServiceFactory.createNettyShuffleEnvironment</code> æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¸­åˆ›å»ºäº† NettyConnectionManagerï¼Œåœ¨ NettyConnectionManager ä¸­æœ‰å‡ ä¸ªå¾ˆé‡è¦çš„å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">public NettyConnectionManager(
        NettyBufferPool bufferPool,
        ResultPartitionProvider partitionProvider,
        TaskEventPublisher taskEventPublisher,
        NettyConfig nettyConfig,
        boolean connectionReuseEnabled) {

    <span class="hljs-attr">this.server</span> = new NettyServer(nettyConfig)<span class="hljs-comment">;</span>
    <span class="hljs-attr">this.client</span> = new NettyClient(nettyConfig)<span class="hljs-comment">;</span>
    <span class="hljs-attr">this.bufferPool</span> = checkNotNull(bufferPool)<span class="hljs-comment">;</span>

    <span class="hljs-attr">this.partitionRequestClientFactory</span> =
            new PartitionRequestClientFactory(
                    client, nettyConfig.getNetworkRetries(), connectionReuseEnabled)<span class="hljs-comment">;</span>

    <span class="hljs-attr">this.nettyProtocol</span> =
            new NettyProtocol(
                    checkNotNull(partitionProvider), checkNotNull(taskEventPublisher))<span class="hljs-comment">;</span>
}
</code></pre>
<p>server å’Œ client ä¸éœ€è¦å¤šä»‹ç»ï¼Œå°±æ˜¯ Netty çš„æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ã€‚bufferPool æ˜¯ç¼“å†²æ± ï¼Œç”¨äºå­˜å‚¨è¦ä¼ è¾“çš„æ•°æ®ã€‚nettyProtocol æä¾›äº† NettyClient å’Œ NettyServer å¼•å¯¼å¯åŠ¨æ³¨å†Œçš„ Channel Handlerã€‚</p>
<p>åé¢å°±æ˜¯åˆ›å»º NettyShuffleEnvironment åŠå…¶éœ€è¦çš„å¯¹è±¡äº†ã€‚åœ¨åˆ›å»ºå®Œæˆåï¼Œä¼šè°ƒç”¨å®ƒçš„ start æ–¹æ³•å¯åŠ¨ã€‚è¿™ä¸ªå¯åŠ¨æ–¹æ³•å°±æ˜¯è°ƒç”¨äº† <code>connectionManager.start</code>ï¼Œåœ¨ NettyConnectionManager ä¸­ï¼Œå°±æ˜¯åˆå§‹åŒ–å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">start</span>() throws IOException</span> {
    client.<span class="hljs-keyword">init</span>(nettyProtocol, bufferPool);

    <span class="hljs-keyword">return</span> server.<span class="hljs-keyword">init</span>(nettyProtocol, bufferPool);
}
</code></pre>
<h4 data-id="heading-1">client åˆå§‹åŒ–</h4>
<p>client çš„åˆå§‹åŒ–è¿‡ç¨‹æ˜¯å…ˆåˆ›å»ºå¹¶åˆå§‹åŒ– Bootstrapã€‚</p>
<pre><code class="hljs language-scss" lang="scss">private void <span class="hljs-built_in">initEpollBootstrap</span>() {
    <span class="hljs-comment">// Add the server port number to the name in order to distinguish</span>
    <span class="hljs-comment">// multiple clients running on the same host.</span>
    String name =
            NettyConfig<span class="hljs-selector-class">.CLIENT_THREAD_GROUP_NAME</span> + " (" + config.getServerPortRange() + ")";

    EpollEventLoopGroup epollGroup =
            new <span class="hljs-built_in">EpollEventLoopGroup</span>(
                    config.getClientNumThreads(), NettyServer<span class="hljs-selector-class">.getNamedThreadFactory</span>(name));
    bootstrap<span class="hljs-selector-class">.group</span>(epollGroup)<span class="hljs-selector-class">.channel</span>(EpollSocketChannel.class);

    config<span class="hljs-selector-class">.getTcpKeepIdleInSeconds</span>()
            <span class="hljs-selector-class">.ifPresent</span>(idle -&gt; bootstrap.option(EpollChannelOption.TCP_KEEPIDLE, idle));
    config<span class="hljs-selector-class">.getTcpKeepInternalInSeconds</span>()
            <span class="hljs-selector-class">.ifPresent</span>(
                    interval -&gt; bootstrap.option(EpollChannelOption.TCP_KEEPINTVL, interval));
    config<span class="hljs-selector-class">.getTcpKeepCount</span>()
            <span class="hljs-selector-class">.ifPresent</span>(count -&gt; bootstrap.option(EpollChannelOption.TCP_KEEPCNT, count));
}
</code></pre>
<p>åˆå§‹åŒ–è¿‡ç¨‹é‡è¦è®¾ç½® EventLoopGroup å’Œ channelï¼Œå¯ä»¥ç”¨ epoll çš„è¯å°±ç”¨ epollï¼Œå¦åˆ™å°±ç”¨ nioã€‚è®¾ç½®å¥½è¿™äº›åå°±æ˜¯è®¾ç½®äº†ä¸€äº›é€šé“å‚æ•°ï¼ˆè¿æ¥è¶…æ—¶æ—¶é—´ã€Bufffer æ± ç­‰ï¼‰ã€‚</p>
<p>åˆ°è¿™é‡Œ client çš„åˆå§‹åŒ–å…¶å®å¹¶æ²¡æœ‰ç»“æŸï¼Œè¿˜éœ€è¦è®¾ç½® Handler æµæ°´çº¿ï¼Œè¿™äº›å·¥ä½œæ˜¯åœ¨ Task å¯åŠ¨æ—¶æ‰§è¡Œäº†ã€‚</p>
<h4 data-id="heading-2">server åˆå§‹åŒ–</h4>
<p>server çš„åˆå§‹åŒ–è¿‡ç¨‹æ˜¯å…ˆåˆ›å»ºå¹¶åˆå§‹åŒ–äº† ServerBootstrapã€‚ä¹‹ååŒæ ·ä¹Ÿæ˜¯è®¾ç½® EventLoopGroup å’Œ channelï¼Œä»¥åŠé€šé“ç›¸å…³çš„å„ç§å‚æ•°ã€‚</p>
<p>è®¾ç½®å¥½ä¹‹åï¼Œä¼šæ·»åŠ  ChannelHandler æµæ°´çº¿ï¼Œè¿™é‡Œçš„ ChannelHandler æµæ°´çº¿å°±æ˜¯æˆ‘ä»¬å‰é¢åˆ›å»ºçš„ NettyProtocol æä¾›çš„ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">public ChannelHandler<span class="hljs-section">[]</span> getServerChannelHandlers() {
    PartitionRequestQueue <span class="hljs-attr">queueOfPartitionQueues</span> = new PartitionRequestQueue()<span class="hljs-comment">;</span>
    PartitionRequestServerHandler <span class="hljs-attr">serverHandler</span> =
            new PartitionRequestServerHandler(
                    partitionProvider, taskEventPublisher, queueOfPartitionQueues)<span class="hljs-comment">;</span>

    return new ChannelHandler<span class="hljs-section">[]</span> {
        messageEncoder,
        new NettyMessage.NettyMessageDecoder(),
        serverHandler,
        queueOfPartitionQueues
    }<span class="hljs-comment">;</span>
}
</code></pre>
<p>æµæ°´çº¿ä¸ŠåŒ…å«äº†æ¶ˆæ¯ç¼–ç å™¨ã€è§£ç å™¨ã€PartitionRequestServerHandler è¯·æ±‚æœåŠ¡ç«¯å¤„ç†å™¨å’Œ PartitionRequestQueue åˆ†åŒºè¯·æ±‚é˜Ÿåˆ—ã€‚</p>
<p>è¿™äº›éƒ½è®¾ç½®å¥½ä¹‹åï¼Œå°±å¼€å§‹å¯åŠ¨ NettyServer æœåŠ¡äº†ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">Iterator&lt;Integer&gt; portsIterator = config<span class="hljs-selector-class">.getServerPortRange</span>()<span class="hljs-selector-class">.getPortsIterator</span>();
while (portsIterator.hasNext() &amp;&amp; bindFuture == null) {
    Integer port = portsIterator<span class="hljs-selector-class">.next</span>();
    LOG<span class="hljs-selector-class">.debug</span>("Trying to bind Netty server to port: {}", port);

    bootstrap<span class="hljs-selector-class">.localAddress</span>(config.getServerAddress(), port);
    try {
        bindFuture = bootstrap<span class="hljs-selector-class">.bind</span>()<span class="hljs-selector-class">.syncUninterruptibly</span>();
    } catch (Exception e) {
        <span class="hljs-comment">// syncUninterruptibly() throws checked exceptions via Unsafe</span>
        <span class="hljs-comment">// continue if the exception is due to the port being in use, fail early</span>
        <span class="hljs-comment">// otherwise</span>
        if (isBindFailure(e)) {
            LOG<span class="hljs-selector-class">.debug</span>("Failed to bind Netty server", e);
        } else {
            throw e;
        }
    }
}

if (bindFuture == null) {
    throw new <span class="hljs-built_in">BindException</span>(
            "Could not start rest endpoint on any port in port range "
                    + config.getServerPortRange());
}

localAddress = (InetSocketAddress) bindFuture<span class="hljs-selector-class">.channel</span>()<span class="hljs-selector-class">.localAddress</span>();
</code></pre>
<h3 data-id="heading-3">å®¢æˆ·ç«¯è¯·æ±‚è¿œç«¯å­åˆ†åŒº</h3>
<p>æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯åˆå§‹åŒ–ä¹‹åï¼Œåœ¨ Task è¿è¡Œæ—¶ï¼Œä¼šå…ˆå®Œæˆ Client çš„ ChannelHandler çš„é…ç½®ï¼Œç„¶åè¯·æ±‚ Netty è¿œç«¯æœåŠ¡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b99d38c65200487f8f5f1d7e05cc2b36~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2i5ZCRR29vZ2xl57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768565606&amp;x-signature=7ig7BNFyUGozffh2yuryKQkj%2FHo%3D" alt="NettyRequestPartition" loading="lazy"/></p>
<p>æˆ‘ä»¬æ¥çœ‹å…·ä½“è¿‡ç¨‹ï¼Œåœ¨ Task åˆå§‹åŒ–æ—¶ï¼Œä¼šè°ƒç”¨ <code>StreamTask.invoke</code> æ–¹æ³•ï¼Œå…¶å†…éƒ¨ä¼šè°ƒç”¨ <code>StreamTask.restoreStateAndGate</code> æ–¹æ³•ï¼Œè¿™é‡Œä¼šä¾¿åˆ© Task çš„æ‰€æœ‰ InputGateï¼Œç„¶åè°ƒç”¨ requestPartitionsã€‚åœ¨ InputGate çš„ requestPartitions é€»è¾‘ä¸­ï¼Œåˆä¾¿åˆ©æ‰€æœ‰çš„ InputChannelï¼Œè°ƒç”¨ requestSubpartitionsã€‚</p>
<pre><code class="hljs language-scss" lang="scss">for (InputGate inputGate : inputGates) {
    recoveredFutures<span class="hljs-selector-class">.add</span>(inputGate.getStateConsumedFuture());

    inputGate
            <span class="hljs-selector-class">.getStateConsumedFuture</span>()
            <span class="hljs-selector-class">.thenRun</span>(
                    () -&gt;
                            mainMailboxExecutor<span class="hljs-selector-class">.execute</span>(
                                    inputGate::requestPartitions,
                                    "Input gate request partitions"));
}


private void <span class="hljs-built_in">internalRequestPartitions</span>() {
    for (InputChannel inputChannel : inputChannels()) {
        try {
            inputChannel<span class="hljs-selector-class">.requestSubpartitions</span>();
        } catch (Throwable t) {
            inputChannel<span class="hljs-selector-class">.setError</span>(t);
            return;
        }
    }
}
</code></pre>
<p>æˆ‘ä»¬æ¥çœ‹ <code>RemoteInputChannel.requestSubpartitions</code> çš„é€»è¾‘ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">requestSubpartitions</span>() throws IOException, InterruptedException</span> {
    <span class="hljs-keyword">if</span> (partitionRequestClient == <span class="hljs-literal">null</span>) {
        LOG.debug(
                <span class="hljs-string">"{}: Requesting REMOTE subpartitions {} of partition {}. {}"</span>,
                <span class="hljs-keyword">this</span>,
                consumedSubpartitionIndexSet,
                partitionId,
                channelStatePersister);
        <span class="hljs-comment">// Create a client and request the partition</span>
        <span class="hljs-keyword">try</span> {
            partitionRequestClient =
                    connectionManager.createPartitionRequestClient(connectionId);
        } <span class="hljs-keyword">catch</span> (IOException e) {
            <span class="hljs-comment">// IOExceptions indicate that we could not open a connection to the remote</span>
            <span class="hljs-comment">// TaskExecutor</span>
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> PartitionConnectionException(partitionId, e);
        }

        partitionRequestClient.requestSubpartition(
                partitionId, consumedSubpartitionIndexSet, <span class="hljs-keyword">this</span>, <span class="hljs-number">0</span>);
    }
}
</code></pre>
<p>è¿™é‡Œä¸»è¦æœ‰ä¸¤ä¸ªæ­¥éª¤ï¼Œå…ˆæ˜¯åˆ›å»º partitionRequestClientï¼Œç„¶åè°ƒç”¨ requestSubpartitionã€‚</p>
<h4 data-id="heading-4">åˆ›å»ºè¯·æ±‚å®¢æˆ·ç«¯</h4>
<p>PartitionRequestClient æ˜¯åœ¨ <code>PartitionRequestClientFactory.connect</code> ä¸­åˆ›å»ºçš„ã€‚å…ˆè°ƒç”¨äº† <code>NettyClient.connect</code>ï¼ŒåŒæ­¥ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥åˆ°æœåŠ¡ç«¯ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­ä¼šè¿›è¡Œ ChannelHandler é…ç½®ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åœ¨åˆå§‹åŒ–çš„è¿‡ç¨‹ä¸­ä»‹ç»çš„ï¼ŒNettyClient æ²¡æœ‰å®Œæˆçš„æ­¥éª¤ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">public ChannelHandler<span class="hljs-selector-attr">[]</span> <span class="hljs-built_in">getClientChannelHandlers</span>() {
    NetworkClientHandler networkClientHandler = new <span class="hljs-built_in">CreditBasedPartitionRequestClientHandler</span>();

    return new ChannelHandler<span class="hljs-selector-attr">[]</span> {
        messageEncoder,
        new <span class="hljs-built_in">NettyMessageClientDecoderDelegate</span>(networkClientHandler),
        networkClientHandler
    };
}
</code></pre>
<p>Handler åŒ…æ‹¬äº†æ¶ˆæ¯ç¼–ç å™¨ã€è§£ç å™¨å’Œ CreditBasedPartitionRequestClientHandler è¿™ä¸ªåŸºäº Credit çš„åˆ†åŒºè¯·æ±‚å®¢æˆ·ç«¯å¤„ç†å™¨ã€‚Handler é…ç½®å¥½ä¹‹åä¼šåˆ©ç”¨ bootstrap è¿æ¥åˆ°æœåŠ¡ç«¯ã€‚</p>
<p>åœ¨è·å–åˆ° Channel å’Œ NetworkClientHandler ä¹‹åï¼Œå°±ç›´æ¥åˆ›å»ºäº† NettyPartitionRequestClientã€‚</p>
<h4 data-id="heading-5">è¯·æ±‚å­åˆ†åŒºæ•°æ®</h4>
<p>è®©æˆ‘ä»¬å†å›åˆ° RemoteInputChannel çš„ requestSubpartitions æ–¹æ³•ä¸­ï¼Œç°åœ¨æˆ‘ä»¬åˆ›å»ºå¥½äº† NettyPartitionRequestClientï¼Œæ¥ä¸‹æ¥å°±æ˜¯è°ƒç”¨å®ƒçš„ requestSubpartition æ–¹æ³•æ¥å‘èµ·è¯·æ±‚ã€‚</p>
<p>è¿™é‡Œé€»è¾‘ä¹Ÿæ¯”è¾ƒç®€å•ï¼š</p>
<ol>
<li>å‘ NetworkClientHandler æ³¨å†Œå½“å‰ RemoteInputChannelã€‚</li>
<li>æ„é€ è¯·æ±‚å¯¹è±¡ PartitionRequestï¼Œè¿™é‡ŒåŒ…å«äº†åˆ†åŒº IDã€å­åˆ†åŒºç´¢å¼•ã€inputChannel ID ä»¥åŠåˆè¯†çš„ Creditã€‚</li>
<li>è°ƒç”¨ <code>tcpChannel.writeAndFlush</code> å‘èµ·è¯·æ±‚ï¼Œå¹¶æ·»åŠ è¯·æ±‚å¤±è´¥çš„ç›‘å¬ã€‚</li>
<li>å¦‚æœè¯·æ±‚å¤±è´¥ï¼Œç§»é™¤å½“å‰ inputChannelã€‚</li>
</ol>
<h3 data-id="heading-6">æœåŠ¡ç«¯å“åº”</h3>
<p>ç°åœ¨æ•°æ®åˆ°äº†æœåŠ¡ç«¯ï¼Œæˆ‘ä»¬æ¥çœ‹æœåŠ¡ç«¯å¤„ç†çš„å…·ä½“è¿‡ç¨‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/339a67c8d7c64865bc109c665e60c60c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2i5ZCRR29vZ2xl57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768565606&amp;x-signature=xpUm9gskdJn323LGxtvTmcAThSc%3D" alt="NettyServerHandler" loading="lazy"/></p>
<p>åœ¨ NettyServer åˆå§‹åŒ–çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ·»åŠ äº†ä¸¤ä¸ªé‡è¦çš„ Handlerï¼Œåˆ†åˆ«æ˜¯ PartitionRequestServerHandler å’Œ PartitionRequestQueueã€‚æœåŠ¡ç«¯å“åº”æ•°æ®çš„è¿‡ç¨‹å°±æ˜¯è¿™ä¸¤ä¸ª Handler åœ¨å‘æŒ¥ä½œç”¨ã€‚</p>
<p>PartitionRequestServerHandler è´Ÿè´£å¤„ç† Client ç«¯é€šè¿‡ PartitionRequestClient å‘é€çš„è¯·æ±‚ï¼Œå¤„ç†è¿‡ç¨‹æ˜¯å…ˆåˆ›å»º CreditBasedSequenceNumberingViewReader ç±»å‹çš„ readerï¼Œç„¶åå°†å®ƒæ”¾å…¥ PartitionRequestQueue ç»´æŠ¤çš„ reader é˜Ÿåˆ—ä¸­ã€‚PartitionRequestQueue ä¼šç›‘å¬ Netty Channel çš„å¯å†™å…¥çŠ¶æ€ï¼Œå½“ Netty Channel å¯å†™å…¥æ—¶ï¼Œä¼šæ¶ˆè´¹æ•°æ®å¹¶å†™å…¥ç½‘ç»œã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹å…·ä½“çš„æºç ã€‚</p>
<p>æœåŠ¡ç«¯çš„å“åº”å…¥å£åœ¨ <code>PartitionRequestServerHandler.channelRead0</code> æ–¹æ³•ï¼Œè¿™é‡Œåœ¨å¤„ç† PartitionRequest è¯·æ±‚æ—¶ï¼Œå…ˆæ˜¯åˆ›å»º CreditBasedSequenceNumberingViewReaderï¼Œç„¶åè°ƒç”¨ requestSubpartitionViewOrRegisterListenerã€‚</p>
<p>requestSubpartitionViewOrRegisterListener çš„é€»è¾‘æ˜¯åˆ›å»º ResultSubpartitionViewï¼Œå¹¶æé†’ PartitionRequestQueue æœ‰æ•°æ®å¯ç”¨ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">Optional&lt;ResultSubpartitionView&gt; <span class="hljs-attr">subpartitionViewOptional</span> =
        partitionProvider.createSubpartitionViewOrRegisterListener(
                resultPartitionId,
                subpartitionIndexSet,
                this,
                partitionRequestListener)<span class="hljs-comment">;</span>
...

notifyDataAvailable(subpartitionView)<span class="hljs-comment">;</span>
</code></pre>
<p>ResultSubpartitionView å°±æ˜¯ç”¨æ¥æ¶ˆè´¹ ResultSubpartition çš„æ•°æ®ã€‚</p>
<p>notifyDataAvailable å†…éƒ¨è°ƒç”¨äº† notifyReaderNonEmptyï¼ŒnotifyReaderNonEmpty åˆè§¦å‘äº† userEventTriggeredï¼Œè¿™é‡Œè°ƒç”¨ enqueueAvailableReader å°† reader æ”¾å…¥åˆ°å¯ç”¨é˜Ÿåˆ— availableReaders ä¸­ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">private void <span class="hljs-built_in">enqueueAvailableReader</span>(final NetworkSequenceViewReader reader) throws Exception {
    if (reader.isRegisteredAsAvailable()) {
        return;
    }

    ResultSubpartitionView<span class="hljs-selector-class">.AvailabilityWithBacklog</span> availabilityWithBacklog =
            reader<span class="hljs-selector-class">.getAvailabilityAndBacklog</span>();
    if (!availabilityWithBacklog.isAvailable()) {
        int backlog = availabilityWithBacklog<span class="hljs-selector-class">.getBacklog</span>();
        if (backlog &gt; <span class="hljs-number">0</span> &amp;&amp; reader.needAnnounceBacklog()) {
            <span class="hljs-built_in">announceBacklog</span>(reader, backlog);
        }
        return;
    }

    <span class="hljs-comment">// Queue an available reader for consumption. If the queue is empty,</span>
    <span class="hljs-comment">// we try trigger the actual write. Otherwise this will be handled by</span>
    <span class="hljs-comment">// the writeAndFlushNextMessageIfPossible calls.</span>
    boolean triggerWrite = availableReaders<span class="hljs-selector-class">.isEmpty</span>();
    <span class="hljs-built_in">registerAvailableReader</span>(reader);

    if (triggerWrite) {
        <span class="hljs-built_in">writeAndFlushNextMessageIfPossible</span>(ctx.channel());
    }
}
</code></pre>
<p>å¦‚æœ reader æ˜¯é˜Ÿåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œä¼šè§¦å‘æ•°æ®å†™å…¥ç½‘ç»œã€‚</p>
<p>writeAndFlushNextMessageIfPossible çš„å¤„ç†æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>å–å‡ºå¯ç”¨ readerã€‚</li>
<li>è°ƒç”¨ <code>reader.getNextBuffer</code> è·å–æ•°æ®ã€‚</li>
<li>å¦‚æœ reader ä»ç„¶å¯ç”¨ï¼Œå°†å…¶åŠ å›é˜Ÿåˆ—ã€‚</li>
<li>å‘ä¸‹æ¸¸å†™å…¥æ•°æ®å¹¶æ·»åŠ ä¸‹æ¬¡å†™å…¥çš„ç›‘å¬ã€‚</li>
</ol>

<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> BufferAndAvailability <span class="hljs-title function_">getNextBuffer</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException {
    <span class="hljs-type">BufferAndBacklog</span> <span class="hljs-variable">next</span> <span class="hljs-operator">=</span> subpartitionView.getNextBuffer();
    <span class="hljs-keyword">if</span> (next != <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">if</span> (next.buffer().isBuffer() &amp;&amp; --numCreditsAvailable &lt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalStateException</span>(<span class="hljs-string">"no credit available"</span>);
        }

        <span class="hljs-keyword">final</span> Buffer.<span class="hljs-type">DataType</span> <span class="hljs-variable">nextDataType</span> <span class="hljs-operator">=</span> getNextDataType(next);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferAndAvailability</span>(
                next.buffer(), nextDataType, next.buffersInBacklog(), next.getSequenceNumber());
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
}
</code></pre>
<p>åœ¨ getNextBuffer æ–¹æ³•ä¸­ï¼Œä¼šå°† credit å€¼å‡ 1ï¼Œå¹¶åˆ¤æ–­æ˜¯å¦å°äº 0ã€‚å¦‚æœå°äº 0 ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œreader æ˜¯å¦å¯ç”¨ä¹Ÿæ˜¯æ ¹æ® numCreditsAvailable æ˜¯å¦å¤§äº 0 æ¥åˆ¤æ–­çš„ã€‚</p>
<h3 data-id="heading-7">å®¢æˆ·ç«¯æ¥æ”¶æ•°æ®</h3>
<p>NettyClient åœ¨æ¶ˆè´¹æ•°æ®æ—¶ï¼ŒåŒæ ·ä¹Ÿæ˜¯ä»¥ ChannelHandler ä½œä¸ºå…¥å£ã€‚è¿™é‡Œçš„å…¥å£æ–¹æ³•æ˜¯ <code>CreditBasedPartitionRequestClientHandler.channelRead</code> ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e3e211ea7d445e8a040cfd2e5bac1dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2i5ZCRR29vZ2xl57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768565606&amp;x-signature=QzLjqwFQqFXMQxN4wlfezdFTli4%3D" alt="NettyClientHandler" loading="lazy"/></p>
<p>åœ¨ decodeMsg æ–¹æ³•ä¸­ï¼Œå…ˆè§£ç  msgï¼Œåˆ¤æ–­ InputChannel æ˜¯å¦å¯ç”¨ï¼Œå¦‚æœä¸å¯ç”¨ï¼Œåˆ™å–æ¶ˆå½“å‰ InputChannel çš„è®¢é˜…ã€‚å¦‚æœå¯ç”¨ï¼Œç»§ç»­è°ƒç”¨ decodeBufferOrEvent è¿›è¡Œå¤„ç†ã€‚decodeBufferOrEvent çš„æ ¸å¿ƒé€»è¾‘æ˜¯è°ƒç”¨ <code>RemoteInputChannel.onBuffer</code> æ–¹æ³•ï¼Œå°†æ•°æ®åŠ å…¥åˆ° receivedBuffers é˜Ÿåˆ—ã€‚</p>
<p>å¦‚æœ receivedBuffers é˜Ÿåˆ—åœ¨æ­¤ä¹‹å‰å¤„äºç©ºé—²çŠ¶æ€ï¼Œä¼šè°ƒç”¨ notifyChannelNonEmptyï¼Œå°†å½“å‰ RemoteInputChannel åŠ å…¥åˆ° inputChannelsWithData é˜Ÿåˆ—ä¸­ï¼ŒåŒæ—¶è¿˜ä¼šå”¤é†’ inputChannelsWithData ä¸Šçš„é˜»å¡çº¿ç¨‹ï¼Œè®© inputGate å¯ä»¥æ¶ˆè´¹ RemoteInputChannel çš„æ•°æ®ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">private</span> boolean <span class="hljs-title">queueChannelUnsafe</span>(<span class="hljs-params">InputChannel channel, boolean priority</span>)</span> {
    assert Thread.holdsLock(inputChannelsWithData);
    <span class="hljs-keyword">if</span> (channelsWithEndOfPartitionEvents.<span class="hljs-keyword">get</span>(channel.getChannelIndex())) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

    final boolean alreadyEnqueued =
            enqueuedInputChannelsWithData.<span class="hljs-keyword">get</span>(channel.getChannelIndex());
    <span class="hljs-keyword">if</span> (alreadyEnqueued
            &amp;&amp; (!priority || inputChannelsWithData.containsPriorityElement(channel))) {
        <span class="hljs-comment">// already notified / prioritized (double notification), ignore</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

    <span class="hljs-comment">// å½“å‰ inputChannel åŠ å…¥åˆ° inputChannelsWithData</span>
    inputChannelsWithData.<span class="hljs-keyword">add</span>(channel, priority, alreadyEnqueued);
    <span class="hljs-keyword">if</span> (!alreadyEnqueued) {
        enqueuedInputChannelsWithData.<span class="hljs-keyword">set</span>(channel.getChannelIndex());
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}

<span class="hljs-comment">// å”¤é†’çº¿ç¨‹</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">notifyDataAvailable</span>()</span> {
    availabilityMonitor.notifyAll();
    toNotify = inputGate.availabilityHelper.getUnavailableToResetAvailable();
}
</code></pre>
<p>å¦‚æœå®¢æˆ·ç«¯æœ‰ç§¯å‹ï¼Œè¿˜éœ€è¦æ ¹æ®ç§¯å‹ç”³è¯· Buffer å¹¶æ›´æ–° Credit å€¼ã€‚è¿™é‡Œç”³è¯·çš„ buffer æ•°é‡ä¸ºç§¯å‹æ•°é‡+åˆè¯† Credit å€¼ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSenderBacklog</span><span class="hljs-params">(<span class="hljs-type">int</span> backlog)</span> <span class="hljs-keyword">throws</span> IOException {
    notifyBufferAvailable(bufferManager.requestFloatingBuffers(backlog + initialCredit));
}
</code></pre>
<p>å¦‚æœ RemoteInputChannel æ²¡æœ‰è¶³å¤Ÿçš„ bufferï¼Œåˆ™ä¼šå‘ LocalBufferPool ç”³è¯·æ–°çš„ bufferï¼Œå¦‚æœç”³è¯·ä¸åˆ°ï¼Œä¼šåŠ ä¸€ä¸ªç›‘å¬ï¼Œç­‰ LocalBufferPool æœ‰ç©ºé—²æ—¶å†è§¦å‘ç”³è¯· bufferã€‚</p>
<pre><code class="hljs language-ini" lang="ini">private int tryRequestBuffers() {
    assert Thread.holdsLock(bufferQueue)<span class="hljs-comment">;</span>

    int <span class="hljs-attr">numRequestedBuffers</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
    while (bufferQueue.getAvailableBufferSize() &lt; numRequiredBuffers
            &amp;&amp; !isWaitingForFloatingBuffers) {
        BufferPool <span class="hljs-attr">bufferPool</span> = inputChannel.inputGate.getBufferPool()<span class="hljs-comment">;</span>
        Buffer <span class="hljs-attr">buffer</span> = bufferPool.requestBuffer()<span class="hljs-comment">;</span>
        if (buffer != null) {
            bufferQueue.addFloatingBuffer(buffer)<span class="hljs-comment">;</span>
            numRequestedBuffers++<span class="hljs-comment">;</span>
        } else if (bufferPool.addBufferListener(this)) {
            <span class="hljs-attr">isWaitingForFloatingBuffers</span> = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
            break<span class="hljs-comment">;</span>
        }
    }
    return numRequestedBuffers<span class="hljs-comment">;</span>
}
</code></pre>
<p>å½“ RemoteInputChannel ç”³è¯·åˆ°äº†éœ€è¦çš„ buffer ä¹‹åï¼Œå°±ä¼šå‘ NettyServer å‘é€ AddCredit æ¶ˆæ¯ï¼Œè¯·æ±‚æ›´æ–° Credit å€¼ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">notifyCreditAvailable</span>() throws IOException</span> {
    checkPartitionRequestQueueInitialized();

    partitionRequestClient.notifyCreditAvailable(<span class="hljs-keyword">this</span>);
}


<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">notifyCreditAvailable</span>(<span class="hljs-params">RemoteInputChannel inputChannel</span>)</span> {
    sendToChannel(<span class="hljs-keyword">new</span> AddCreditMessage(inputChannel));
}
</code></pre>
<p>NettyServer æ”¶åˆ°è¯·æ±‚åï¼Œä¼šå°†å¯¹åº”çš„ Credit å€¼è¿›è¡Œæ›´æ–°ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">else if (<span class="hljs-attr">msgClazz</span> == AddCredit.class) {
    AddCredit <span class="hljs-attr">request</span> = (AddCredit) msg<span class="hljs-comment">;</span>

    outboundQueue.addCreditOrResumeConsumption(
            request.receiverId, reader -&gt; reader.addCredit(request.credit))<span class="hljs-comment">;</span>
}

void addCreditOrResumeConsumption(
        InputChannelID receiverId, Consumer&lt;NetworkSequenceViewReader&gt; operation)
        throws Exception {
    if (fatalError) {
        return<span class="hljs-comment">;</span>
    }

    NetworkSequenceViewReader <span class="hljs-attr">reader</span> = obtainReader(receiverId)<span class="hljs-comment">;</span>

    operation.accept(reader)<span class="hljs-comment">;</span>
    enqueueAvailableReader(reader)<span class="hljs-comment">;</span>
}


public void addCredit(int creditDeltas) {
    numCreditsAvailable += creditDeltas<span class="hljs-comment">;</span>
}
</code></pre>
<p>æ­¤å¤–ï¼ŒFlink è¿˜æœ‰ä¸¤ç§åœºæ™¯ä¼šæ›´æ–° Credit å€¼ã€‚</p>
<p>ä¸€ç§æ˜¯ LocalBufferPool å›æ”¶ç©ºé—² buffer æ—¶ï¼Œä¼šå°† buffer åˆ†é…ç»™ç”³è¯·è€…ï¼Œåˆ†é…ä¹‹åä¼šè°ƒç”¨å¯¹åº” InputChannel çš„ notifyBufferAvailable æ–¹æ³•é€šçŸ¥æ›´æ–° Creditã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/91654d63dada40089adc39ddeaa32f16~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2i5ZCRR29vZ2xl57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768565606&amp;x-signature=%2B6Q5%2FPKgLnUQeBSJ7%2BBwQflI7Ik%3D" alt="LocalBufferPool" loading="lazy"/></p>
<p>å¦ä¸€ç§æ˜¯ RemoteInputChannel ç‹¬å çš„ buffer é˜Ÿåˆ—é‡Šæ”¾ buffer æ—¶ï¼Œä¼šè§¦å‘ Credit æ›´æ–°ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c5cb9fddc0d4e18802107951125230b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2i5ZCRR29vZ2xl57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768565606&amp;x-signature=T4scDtDnWrMIvABCUiom8RV0bTQ%3D" alt="BufferManager" loading="lazy"/></p>
<h3 data-id="heading-8">åå‹</h3>
<p>é€šè¿‡å‰é¢çš„å­¦ä¹ ï¼Œæˆ‘ä»¬å…¶å®å·²ç»ç†è§£äº†åå‹çš„æœºåˆ¶äº†ã€‚å½“å‰ Flink çš„åå‹å°±æ˜¯é€šè¿‡ Credit æ¥å®ç°åå‹çš„ï¼Œå¦‚æœä¸‹æ¸¸æ•°æ®å¤„ç†é€Ÿåº¦æ…¢ï¼ŒCredit ä¼šè¢«è€—å°½ï¼Œä¸Šæ¸¸ä¹Ÿå°±ä¸ä¼šç»§ç»­å¤„ç†å’Œä¸‹å‘æ•°æ®äº†ã€‚ç›´åˆ°ä¸‹æ¸¸å¤„ç†å®Œæˆï¼Œæœ‰äº†ç©ºé—²çš„ bufferï¼Œæ­¤æ—¶å‘ä¸Šæ¸¸åé¦ˆæ›´æ–° Credit å€¼ï¼Œä¸Šæ¸¸å°±ä¼šç»§ç»­å¤„ç†æ•°æ®ã€‚</p>
<h3 data-id="heading-9">æ€»ç»“</h3>
<p>æœ€åæˆ‘ä»¬æ€»ç»“ä¸€ä¸‹ï¼Œæœ¬æ–‡æˆ‘ä»¬ä¸€èµ·æ¢³ç†äº† Flink Netty ç›¸å…³çš„æºç ã€‚åŒ…æ‹¬ NettyClient å’Œ NettyServer çš„åˆå§‹åŒ–ï¼Œåˆå§‹åŒ–è¿‡ç¨‹ä¸­ä¼šåˆ›å»ºä¸€ç³»åˆ— ChannelHandlerï¼Œä¹‹ååˆ©ç”¨è¿™äº›Handler å¤„ç†æ•°æ®ï¼Œæ•°æ®å¤„ç†åŒ…æ‹¬ Client ç«¯çš„å‘é€å’Œæ¥æ”¶æ¶ˆæ¯ï¼ŒServer ç«¯å¤„ç†æ¶ˆæ¯çš„è¿‡ç¨‹ã€‚ä¸­é—´è¿˜ç©¿æ’ç€ Credit çš„å¤„ç†ã€‚Flink çš„åå‹é€»è¾‘å°±æ˜¯ä¾èµ–äº Credit æ¥å®ç°çš„ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºå‡†æµ‹è¯•ï¼šAkamaiäº‘ä¸Šçš„NVIDIA RTX Pro 6000 Blackwell]]></title>    <link>https://juejin.cn/post/7593173569871806516</link>    <guid>https://juejin.cn/post/7593173569871806516</guid>    <pubDate>2026-01-09T12:18:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593173569871806516" data-draft-id="7593224937075474484" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºå‡†æµ‹è¯•ï¼šAkamaiäº‘ä¸Šçš„NVIDIA RTX Pro 6000 Blackwell"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,äº‘è®¡ç®—,æµ‹è¯•"/> <meta itemprop="datePublished" content="2026-01-09T12:18:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AKAMAI"/> <meta itemprop="url" content="https://juejin.cn/user/829502942352628"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºå‡†æµ‹è¯•ï¼šAkamaiäº‘ä¸Šçš„NVIDIA RTX Pro 6000 Blackwell
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/829502942352628/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AKAMAI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T12:18:22.000Z" title="Fri Jan 09 2026 12:18:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h4 data-id="heading-0"><strong><strong>æ‰§è¡Œæ‘˜è¦</strong></strong></h4>
<p>åŸºå‡†æµ‹è¯•æ˜¾ç¤ºï¼Œåœ¨Akamaiäº‘ä¸Šè¿è¡Œçš„NVIDIA RTX PROâ„¢ 6000 Blackwellæ¨ç†ååé‡æ¯”H100æœ€é«˜æå‡1.63å€ï¼Œåœ¨100ä¸ªå¹¶å‘è¯·æ±‚ä¸‹æ¯å°æœåŠ¡å™¨è¾¾åˆ°24,240 TPSã€‚</p>
<hr/>
<p>å¦‚æ‚¨æ‰€åœ¨çš„ä¼ä¸šä¹Ÿåœ¨è€ƒè™‘é‡‡è´­äº‘æœåŠ¡æˆ–è¿›è¡Œäº‘è¿ç§»ï¼Œ</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.akamai.com%2Fzh%2Flp%2Fakamai-cloud-computing-freetrial%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejin_260109_blogarticles241" target="_blank" title="https://www.akamai.com/zh/lp/akamai-cloud-computing-freetrial?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejin_260109_blogarticles241" ref="nofollow noopener noreferrer">ç‚¹å‡»é“¾æ¥</a>äº†è§£Akamai Linodeè§£å†³æ–¹æ¡ˆï¼Œç°åœ¨ç”³è¯·è¯•ç”¨å¯å¾—é«˜è¾¾5000ç¾å…ƒä¸“å±é¢åº¦</p>
<hr/>
<h4 data-id="heading-1"><strong><strong>ä¸ºAkamaiæ¨ç†äº‘è¿›è¡ŒåŸºå‡†æµ‹è¯•</strong></strong></h4>
<p>æœ¬å‘¨ï¼ŒAkamaiå®£å¸ƒæ¨å‡º<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.akamai.com%2Fzh%2Fblog%2Fcloud%2Fai-edge-all-you-need%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejing_260109_external1_blogarticles241" target="_blank" title="https://www.akamai.com/zh/blog/cloud/ai-edge-all-you-need?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejing_260109_external1_blogarticles241" ref="nofollow noopener noreferrer">Akamaiæ¨ç†äº‘</a>ã€‚æˆ‘ä»¬å°†è‡ªèº«åœ¨å…¨çƒåˆ†å¸ƒå¼æ¶æ„æ–¹é¢çš„ä¸“ä¸šçŸ¥è¯†ä¸NVIDIA Blackwell AIåŸºç¡€è®¾æ–½ç›¸ç»“åˆï¼Œä»æ ¹æœ¬ä¸Šé‡æ–°æ€è€ƒå¹¶æ‰©å±•äº†é‡Šæ”¾AIçœŸæ­£æ½œåŠ›æ‰€éœ€çš„åŠ é€Ÿè®¡ç®—èƒ½åŠ›ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.akamai.com%2Fzh%2Fblog%2Fcloud%2Fenabling-ai-everywhere-with-akamai-inference-cloud%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejing_260109_external2_blogarticles241" target="_blank" title="https://www.akamai.com/zh/blog/cloud/enabling-ai-everywhere-with-akamai-inference-cloud?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejing_260109_external2_blogarticles241" ref="nofollow noopener noreferrer">Akamaiæ¨ç†äº‘</a>å¹³å°å°†NVIDIA RTX PROâ„¢æœåŠ¡å™¨ï¼ˆé…å¤‡NVIDIA RTX PRO 6000 BlackwellæœåŠ¡å™¨ç‰ˆGPUã€NVIDIA BlueField-3Â® DPUå’ŒNVIDIA AI Enterpriseè½¯ä»¶ï¼‰ä¸Akamaiçš„åˆ†å¸ƒå¼äº‘è®¡ç®—åŸºç¡€è®¾æ–½å’Œå…¨çƒè¾¹ç¼˜ç½‘ç»œï¼ˆåœ¨å…¨çƒæ‹¥æœ‰è¶…è¿‡4,400ä¸ªç«™ç‚¹ï¼‰ç›¸ç»“åˆã€‚</p>
<h4 data-id="heading-2"><strong><strong>é«˜æ•ˆã€é€šç”¨ä¸”ä¼˜åŒ–çš„GPU</strong></strong></h4>
<p>åˆ†å¸ƒå¼æ¨ç†å’Œä¸‹ä¸€ä»£æ™ºèƒ½ä½“ä½“éªŒéœ€è¦é«˜æ•ˆã€é€šç”¨å¹¶èƒ½é’ˆå¯¹å¹¶å‘å®æ—¶å·¥ä½œè´Ÿè½½è¿›è¡Œä¼˜åŒ–çš„GPUã€‚RTX PRO 6000 Blackwellå®Œå…¨æ»¡è¶³è¿™ä¸‰é¡¹è¦æ±‚ã€‚å…¶FP4ç²¾åº¦æ¨¡å¼ä»¥æ•°æ®ä¸­å¿ƒçº§GPUçš„ä¸€å°éƒ¨åˆ†åŠŸè€—å’Œæˆæœ¬æä¾›äº†å“è¶Šçš„ååé‡ï¼Œä½¿å¾—å°†å…¶éƒ¨ç½²åˆ°æ•°ç™¾ä¸ªç«™ç‚¹å˜å¾—åˆ‡å®å¯è¡Œã€‚</p>
<p>è¯¥æ¶æ„æ”¯æŒåœ¨å•ä¸ªGPUä¸Šå¹¶å‘å¤„ç†åŒ…æ‹¬æ–‡æœ¬ã€è§†è§‰å’Œè¯­éŸ³åœ¨å†…çš„å¤šæ¨¡æ€å·¥ä½œè´Ÿè½½ï¼Œå‡å°‘äº†å¯¹ä¸“ç”¨åŠ é€Ÿå™¨çš„éœ€æ±‚ï¼Œå¹¶é™åˆ¶äº†ä¸å¿…è¦çš„ç½‘ç»œæ•°æ®ä¼ è¾“ã€‚</p>
<p>NVIDIA RTX ProæœåŠ¡å™¨é’ˆå¯¹ä»£ç†å¼AIã€å·¥ä¸šå’Œç‰©ç†AIã€ç§‘å­¦è®¡ç®—ã€æ•°æ®åˆ†æä¸æ¨¡æ‹Ÿã€è§†è§‰è®¡ç®—å’Œä¼ä¸šåº”ç”¨ç­‰å·¥ä½œè´Ÿè½½è¿›è¡Œäº†ä¼˜åŒ–ã€‚</p>
<p>NVIDIAå¼ºè°ƒï¼Œè¿™äº›æœåŠ¡å™¨èƒ½å¤Ÿå®ç°é«˜è¾¾6å€çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.akamai.com%2Fzh%2Fglossary%2Fwhat-is-a-large-language-model%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejing_260109_external3_blogarticles241" target="_blank" title="https://www.akamai.com/zh/glossary/what-is-a-large-language-model?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejing_260109_external3_blogarticles241" ref="nofollow noopener noreferrer">å¤§è¯­è¨€æ¨¡å‹</a>æ¨ç†ååé‡ã€4å€æ›´å¿«çš„åˆæˆæ•°æ®ç”Ÿæˆé€Ÿåº¦ã€7å€æ›´å¿«çš„åŸºå› ç»„åºåˆ—æ¯”å¯¹é€Ÿåº¦ã€3å€æ›´é«˜çš„å·¥ç¨‹æ¨¡æ‹Ÿååé‡ã€4å€æ›´ä½³çš„å®æ—¶æ¸²æŸ“æ€§èƒ½ï¼Œä»¥åŠ4å€æ›´å¤šçš„å¹¶å‘å¤šå®ä¾‹GPUå·¥ä½œè´Ÿè½½ã€‚</p>
<h4 data-id="heading-3"><strong><strong>æ€§èƒ½éªŒè¯</strong></strong></h4>
<p>ä¸ºäº†éªŒè¯æ€§èƒ½ï¼Œæˆ‘ä»¬æµ‹è¯•äº†åœ¨Akamaiäº‘ä¸Šè¿è¡Œçš„NVIDIA RTX Pro 6000 BlackwellæœåŠ¡å™¨ç‰ˆGPUï¼Œå¹¶ä½¿ç”¨NVIDIA LaunchPadç¯å¢ƒå°†å…¶ä¸NVIDIA H100 NVL 96GBè¿›è¡Œäº†åŸºå‡†æ¯”è¾ƒã€‚</p>
<p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯äº†è§£ï¼Œä¸ç›®å‰è¡Œä¸šçš„é»„é‡‘æ ‡å‡†ç›¸æ¯”ï¼Œä¸‹ä¸€ä»£RTX Pro 6000 GPUåœ¨å®é™…æ¨ç†å·¥ä½œè´Ÿè½½ä¸­çš„è¡¨ç°å¦‚ä½•ã€‚</p>
<h4 data-id="heading-4"><strong><strong>åŸºå‡†æµ‹è¯•ç»“æœå±•ç¤º</strong></strong></h4>
<p>åŸºå‡†æµ‹è¯•ç»“æœè¯å®äº†NVIDIA RTX Pro 6000 Blackwellåœ¨Akamaiäº‘ä¸Šçš„è®¾è®¡ä¼˜åŠ¿ã€‚</p>
<ul>
<li>ç›¸è¾ƒäºH100ï¼ˆFP8ï¼‰ï¼Œååé‡æå‡<strong><strong>1.63å€</strong></strong>ï¼Œè¿™è¡¨æ˜RTX Pro 6000 Blackwellä»¥æ›´å°å·§ã€æ›´æ˜“äºéƒ¨ç½²çš„è§„æ ¼æä¾›äº†æ•°æ®ä¸­å¿ƒçº§çš„æ€§èƒ½ï¼Œéå¸¸é€‚åˆäºåˆ†å¸ƒå¼ç¯å¢ƒã€‚</li>
<li>ä»FP8åˆ‡æ¢åˆ°FP4å¸¦æ¥çš„<strong><strong>1.32å€</strong></strong>æ€§èƒ½æå‡ï¼Œå±•ç¤ºäº†NVIDIAçš„ç²¾åº¦æ•ˆç‡å¦‚ä½•ç›´æ¥è½¬åŒ–ä¸ºåœ¨è¾¹ç¼˜æ›´å¿«ã€æ›´å…·æˆæœ¬æ•ˆç›Šçš„æ¨ç†ã€‚</li>
<li>åœ¨<strong><strong>100+å¹¶å‘è¯·æ±‚</strong></strong>ä¸‹ä¿æŒç¨³å®šçš„æ€§èƒ½ï¼ŒéªŒè¯äº†è¯¥GPUå¤„ç†å…¨çƒåˆ†å¸ƒå¼æ¨ç†ä¸­å¤šç§Ÿæˆ·ã€å¯¹å»¶è¿Ÿæ•æ„Ÿçš„å·¥ä½œè´Ÿè½½çš„èƒ½åŠ›ã€‚</li>
</ul>
<p>ç»¼åˆæ¥çœ‹ï¼Œè¿™äº›ç»“æœè¡¨æ˜ï¼ŒBlackwellçš„æ•ˆç‡å’Œå¹¶å‘æ€§ä¼˜åŠ¿ä½¿å…¶æˆä¸ºAkamaiåˆ†å¸ƒå¼æ¨ç†æ¶æ„çš„ç†æƒ³åŸºç¡€ï¼Œèƒ½å¤Ÿåœ¨æˆ‘ä»¬çš„å…¨çƒç½‘ç»œä¸­æä¾›é«˜ååã€ä½å»¶è¿Ÿå’Œå¯æ‰©å±•çš„æ€§èƒ½ã€‚</p>
<h4 data-id="heading-5"><strong><strong>åŸºå‡†æµ‹è¯•æ¦‚è¿°</strong></strong></h4>
<p>æˆ‘ä»¬éµå¾ªNVIDIAçš„åŸºå‡†æµ‹è¯•æ–¹æ³•æ¥è¯„ä¼°ä¸€è‡´è´Ÿè½½æ¡ä»¶ä¸‹çš„æ¨ç†æ€§èƒ½ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»è®¾ç½®ã€æ–¹æ³•å’Œå…³é”®å‘ç°ï¼Œå¹¶è®¨è®ºè¿™äº›ç»“æœå¯¹åœ¨Akamaiäº‘ä¸Šè¿è¡ŒAIå·¥ä½œè´Ÿè½½çš„æ„ä¹‰ã€‚</p>
<p><strong><strong>è®¾ç½®</strong></strong></p>
<p>ä¸ºäº†è¯„ä¼°Akamaiäº‘ä¸Šçš„NVIDIA RTX Pro 6000 GPUï¼Œæˆ‘ä»¬ä½¿ç”¨äº†<strong><strong>Llama-3.3-Nemotron-Super-49B-v1.5</strong></strong>æ¨¡å‹ï¼Œè¿™æ˜¯ä¸€ä¸ªæºäºMeta Llama-3.3-70B-Instructï¼ˆå³å‚è€ƒæ¨¡å‹ï¼‰çš„å¤§è¯­è¨€æ¨¡å‹ã€‚å®ƒæ˜¯ä¸€ä¸ªé’ˆå¯¹æ¨ç†ã€äººç±»èŠå¤©åå¥½ä»¥åŠæ™ºèƒ½ä½“ä»»åŠ¡ï¼ˆå¦‚RAGå’Œå·¥å…·è°ƒç”¨ï¼‰è¿›è¡Œåè®­ç»ƒçš„æ¨ç†æ¨¡å‹ã€‚</p>
<p>æˆ‘ä»¬ä¸ºåŒä¸€æ¨¡å‹ä½¿ç”¨äº†ä¸¤ä¸ªNVIDIAæ¨ç†å¾®æœåŠ¡é…ç½®æ–‡ä»¶ï¼Œä»¥æ¯”è¾ƒç²¾åº¦æ¨¡å¼å¹¶äº†è§£å…¶å¯¹æ€§èƒ½å’Œæ•ˆç‡çš„å½±å“ã€‚è¿™ä¸¤ä¸ªé…ç½®æ–‡ä»¶â€”â€”tensorrt_llm-rtx6000_blackwell_sv-fp8-tp1-pp1-throughput-2bb5Â å’ŒÂ tensorrt_llm-rtx6000_blackwell_sv-nvfp4-tp1-pp1-throughput-2bb5â€”â€”é™¤äº†ç²¾åº¦è®¾ç½®å¤–å®Œå…¨ç›¸åŒã€‚</p>
<p>ç¬¬ä¸€ä¸ªä½¿ç”¨<strong><strong>FP8</strong></strong>ç²¾åº¦ï¼Œç¬¬äºŒä¸ªä½¿ç”¨NVIDIAçš„<strong><strong>FP4</strong></strong>ç²¾åº¦ã€‚NVIDIAçš„FP4ç‰ˆæœ¬ç›´æ¥åœ¨NVIDIA Blackwell GPUä¸­å¾—åˆ°æ”¯æŒã€‚</p>
<p>é€šè¿‡è¿è¡Œä¸¤è€…ï¼Œæˆ‘ä»¬æ—¨åœ¨è§‚å¯Ÿé™ä½æ•°å€¼ç²¾åº¦å¦‚ä½•å½±å“ååé‡å’Œå»¶è¿Ÿã€‚NVFP4ä»¥ä½äº1%çš„ç²¾åº¦æŸå¤±å¸¦æ¥äº†æ˜¾è‘—çš„æ€§èƒ½å’Œæ•ˆç‡æå‡ï¼Œå®ç°äº†æ›´å¿«ã€æ›´ä½åŠŸè€—çš„å¤§è§„æ¨¡æ¨ç†ï¼Œè€ŒFP8åˆ™æä¾›äº†æ›´é«˜çš„æ•°å€¼ç²¾åº¦ã€‚æ¯”è¾ƒä¸¤è€…æœ‰åŠ©äºä¸ºå®é™…å·¥ä½œè´Ÿè½½ç¡®å®šé€Ÿåº¦ã€æ•ˆç‡å’Œæ¨ç†ä¿çœŸåº¦ä¹‹é—´çš„æœ€ä½³æƒè¡¡ã€‚</p>
<p>æˆ‘ä»¬åœ¨ä½äºAkamaiäº‘LAXæ•°æ®ä¸­å¿ƒçš„NVIDIA RTX Pro 6000 BlackwellæœåŠ¡å™¨ç‰ˆGPUä¸Šè¿è¡Œäº†æµ‹è¯•ã€‚ä¸ºäº†è¿›è¡Œæ¯”è¾ƒï¼Œæˆ‘ä»¬ä½¿ç”¨äº†NVIDIA LaunchPadç¯å¢ƒä¸­çš„NVIDIA H100 GPUã€‚</p>
<p><strong><strong>æ–¹æ³•è®º</strong></strong></p>
<p>å¯¹äºæ­¤åŸºå‡†æµ‹è¯•ï¼Œæˆ‘ä»¬è¿è¡Œäº†ä¸€ä¸ªæ—¨åœ¨æµ‹é‡ç°å®è´Ÿè½½æ¡ä»¶ä¸‹åŸºçº¿æ¨ç†æ€§èƒ½çš„å‹åŠ›æµ‹è¯•ã€‚æ¯ä¸ªè¯·æ±‚å¤„ç†200ä¸ªè¾“å…¥ä»¤ç‰Œå¹¶ç”Ÿæˆ200ä¸ªè¾“å‡ºä»¤ç‰Œï¼Œä»£è¡¨äº†å¤§è¯­è¨€æ¨¡å‹å…¸å‹çš„çŸ­æç¤º-å“åº”äº¤äº’ã€‚</p>
<p>ä¸ºäº†æµ‹è¯•å¯æ‰©å±•æ€§å’Œä¸€è‡´æ€§ï¼Œæˆ‘ä»¬æ‰§è¡Œäº†<strong><strong>100ä¸ªå¹¶å‘è¿è¡Œ</strong></strong>ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿè§‚å¯Ÿç³»ç»Ÿå¤„ç†æŒç»­åŒæ—¶æ¨ç†é‡æ—¶çš„ååé‡å’Œå»¶è¿Ÿè¡Œä¸ºã€‚è¿™ç§æ–¹æ³•æä¾›äº†æ¨¡å‹å’Œç¡¬ä»¶åœ¨ç”Ÿäº§ç±»å·¥ä½œè´Ÿè½½ä¸‹æ€§èƒ½çš„ä¸€ä¸ªå—æ§ä½†å…·æœ‰ä»£è¡¨æ€§çš„å¿«ç…§ã€‚</p>
<p>æˆ‘ä»¬æµ‹é‡äº†ä¸¤ä¸ªå…³é”®æŒ‡æ ‡ï¼š<strong><strong>é¦–ä»¤ç‰Œæ—¶é—´ï¼ˆTTFTï¼‰<strong><strong>å’Œ</strong></strong>æ¯ç§’ä»¤ç‰Œæ•°ï¼ˆTPSï¼‰</strong></strong>ã€‚TTFTä»¥æ¯«ç§’ä¸ºå•ä½ï¼Œè¡¡é‡æ¨¡å‹åœ¨æ”¶åˆ°æç¤ºåå¼€å§‹ç”Ÿæˆå“åº”çš„é€Ÿåº¦â€”â€”è¿™æ˜¯å»¶è¿Ÿå’Œç”¨æˆ·æ„ŸçŸ¥å“åº”æ€§çš„é‡è¦æŒ‡æ ‡ã€‚TPSè¡¡é‡æ•´ä½“ååé‡ï¼Œæ˜¾ç¤ºç³»ç»Ÿåœ¨ç”Ÿæˆå¼€å§‹åæ¯ç§’å¯ä»¥ç”Ÿæˆå¤šå°‘ä»¤ç‰Œã€‚</p>
<p>ä¸¤è€…ç»“åˆæä¾›äº†ç°å®ä¸–ç•Œæ€§èƒ½çš„å¹³è¡¡è§†å›¾ï¼Œåæ˜ äº†åˆå§‹æ¨ç†çš„é€Ÿåº¦ä»¥åŠè´Ÿè½½ä¸‹çš„æŒç»­è¾“å‡ºæ•ˆç‡ã€‚</p>
<p>ä½œä¸ºåŸºå‡†æµ‹è¯•æ–¹æ³•çš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬è¿è¡Œäº†ä¸¤ç»„æµ‹è¯•æ¥è¯„ä¼°NVIDIA RTX 6000 BlackwellæœåŠ¡å™¨ç‰ˆGPUçš„æ€§èƒ½ç‰¹å¾ã€‚</p>
<ol>
<li><strong><strong>FP4ä¸FP8ç²¾åº¦æ¯”è¾ƒ</strong></strong><br/>
æˆ‘ä»¬åœ¨åŒä¸€æ¨¡å‹ä¸Šæµ‹è¯•äº†ä¸¤ä¸ªNIMé…ç½®æ–‡ä»¶â€”â€”ä¸€ä¸ªä½¿ç”¨<strong><strong>FP8</strong></strong>ç²¾åº¦ï¼Œå¦ä¸€ä¸ªä½¿ç”¨FP4ç²¾åº¦â€”â€”ä»¥è¡¡é‡NVIDIAæ–°å‹<strong><strong>FP4</strong></strong>é‡åŒ–å¯¹æ¨ç†æ€§èƒ½çš„å½±å“ã€‚NVIDIAå¼ºè°ƒFP4æ˜¯æ•ˆç‡å’Œååé‡æ–¹é¢çš„ä¸€é¡¹é‡å¤§è¿›æ­¥ã€‚</li>
<li><strong><strong>RTX 6000ä¸H100 GPUæ¯”è¾ƒ</strong></strong><br/>
ç„¶åï¼Œæˆ‘ä»¬å°†<strong><strong>RTX 6000 Blackwell</strong></strong>çš„ç»“æœä¸åœ¨<strong><strong>NVIDIA LaunchPad</strong></strong>ç¯å¢ƒä¸­è¿è¡Œçš„<strong><strong>H100 GPU</strong></strong>è¿›è¡Œäº†æ¯”è¾ƒï¼Œé€šè¿‡æŸ¥çœ‹ä¸¤ä¸ªNIMé…ç½®æ–‡ä»¶<strong><strong>FP8</strong></strong>åŠ<strong><strong>FP4</strong></strong>æ¥è¯„ä¼°å®é™…æ¨ç†ä¼˜åŠ¿ã€‚è¿™ä½¿æˆ‘ä»¬èƒ½å¤Ÿè¯„ä¼°RTX 6000ä¸ä»…åœ¨ä¸åŒç²¾åº¦æ¨¡å¼ä¸‹çš„è¡¨ç°ï¼Œè¿˜ä¸NVIDIAå½“å‰çš„æ•°æ®ä¸­å¿ƒGPUæ ‡å‡†è¿›è¡Œå¯¹æ¯”ã€‚</li>
</ol>
<p><strong><strong>è¯¦ç»†ç»“æœ</strong></strong></p>
<p>æˆ‘ä»¬ç¡®å®š<strong><strong>æœ€ä½³å¹¶å‘çº§åˆ«ä¸º100</strong></strong>â€”â€”å³åœ¨100ä¸ªåŒæ—¶æ¨ç†è¯·æ±‚ä¸‹ï¼Œæˆ‘ä»¬è§‚å¯Ÿåˆ°äº†æœ€ç¨³å®šå’Œæœ€å…·ä»£è¡¨æ€§çš„æ€§èƒ½ç»“æœã€‚åœ¨C=100æ—¶ï¼ŒRTX 6000ä»FP8åˆ‡æ¢åˆ°FP4ç²¾åº¦å¸¦æ¥äº†<strong><strong>1.32å€</strong></strong>çš„æ€§èƒ½æå‡ï¼Œæ˜¾ç¤ºäº†NVIDIA FP4é‡åŒ–çš„æ•ˆç‡å¢ç›Šã€‚</p>
<p>ä¸ä½¿ç”¨FP8ç²¾åº¦çš„H100ç›¸æ¯”ï¼ŒRTX Pro 6000 BlackwellæœåŠ¡å™¨åœ¨ä½¿ç”¨NVFP4ç²¾åº¦æ—¶å®ç°äº†<strong><strong>1.63å€</strong></strong>çš„æ€§èƒ½æå‡ã€‚å³ä½¿ä½¿ç”¨FP8ï¼ŒBlackwellæœåŠ¡å™¨ä¹Ÿå±•ç¤ºäº†<strong><strong>1.21å€</strong></strong>çš„ä¼˜åŠ¿ï¼Œæ˜¾ç¤ºäº†è¶…è¶Šæ—§FP8æ ¼å¼çš„ä¸‹ä¸€ä»£æ¨ç†ä¼˜åŒ–ã€‚</p>
<p>æ€»ä½“è€Œè¨€ï¼Œåœ¨æ­¤å¹¶å‘çº§åˆ«ä¸‹ï¼ŒRTX Pro 6000 BlackwellæœåŠ¡å™¨å®ç°äº†<strong><strong>3,030.01 TPS</strong></strong>ï¼Œè¿™ç›¸å½“äºæˆ‘ä»¬åŸºç¡€è®¾æ–½å³æœåŠ¡ï¼ˆIaaSï¼‰è™šæ‹Ÿæœºäº§å“å¯æä¾›é«˜è¾¾<strong><strong>24,240.08 TPS</strong></strong>ï¼Œçªæ˜¾äº†Blackwellæ¶æ„åœ¨Akamaiäº‘ä¸Šå¼ºå¤§çš„æ¨ç†æ€§èƒ½å’Œå¯æ‰©å±•æ€§ã€‚</p>
<h4 data-id="heading-6"><strong><strong>æµ‹è¯•1ï¼šFP8ä¸FP4ç²¾åº¦æ¯”è¾ƒ</strong></strong></h4>
<p>RTX Pro 6000 Blackwell FP8ä¸FP4çš„æ€§èƒ½ç»“æœã€‚</p>
<p><strong><strong>LAXï¼šNVIDIA RTX Pro 6000 BlackwellæœåŠ¡å™¨ FP8</strong></strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/97dcc1f923be419eb98312be84387ba1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUtBTUFJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768565902&amp;x-signature=8xXj7bfALNZ4H2aLJlBK5fqf8RM%3D" alt="" loading="lazy"/></p>
<p><strong><strong>LAXï¼šNVIDIA RTX PRO 6000 BlackwellæœåŠ¡å™¨ FP4</strong></strong></p>
<p><strong><strong><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef4eafab5ac64fc29eeec53b3e1dcc89~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUtBTUFJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768565902&amp;x-signature=hizz9DHt833P2ruK6rXaQl8GssI%3D" alt="" loading="lazy"/></strong></strong></p>
<p><strong><strong>æµ‹è¯•2ï¼šRTX Pro 6000 BlackwellæœåŠ¡å™¨ä¸H100 GPUæ¯”è¾ƒ</strong></strong></p>
<p>H100 NVL FP8ä¸RTX Pro 6000 BlackwellæœåŠ¡å™¨ FP8å’ŒFP4çš„æ€§èƒ½ç»“æœæ¯”è¾ƒã€‚</p>
<p><strong><strong>LaunchPadï¼šH100 NVL FP8</strong></strong></p>
<p><strong><strong><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9f10c3ab58ea416e8109eb8ba79ee30a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUtBTUFJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768565902&amp;x-signature=PRTVdLCl2%2F4DOGy96V7Xvzki8W0%3D" alt="" loading="lazy"/></strong></strong></p>
<p><strong><strong>LaunchPadï¼šNVIDIA RTX PRO 6000 BlackwellæœåŠ¡å™¨ FP8</strong></strong></p>
<p><strong><strong><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/716ba7039620466da287b23c3b85973b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUtBTUFJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768565902&amp;x-signature=5%2B83fMvTL8vPnHdFE%2BggyCAhjfM%3D" alt="" loading="lazy"/></strong></strong></p>
<p><strong><strong>LaunchPadï¼šNVIDIA RTX PRO 6000 BlackwellæœåŠ¡å™¨ FP4</strong></strong></p>
<p><strong><strong><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/66603aaa9e4e4d819e985e549430ad60~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUtBTUFJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768565902&amp;x-signature=125IgRqFZWKwU6SV6uS2wPiq47U%3D" alt="" loading="lazy"/></strong></strong></p>
<h4 data-id="heading-7"><strong><strong>ç»“è®º</strong></strong></h4>
<p>æœ¬æ¬¡åŸºå‡†æµ‹è¯•æ—¨åœ¨è¯„ä¼°NVIDIA RTX Pro 6000 BlackwellæœåŠ¡å™¨ç‰ˆGPUåœ¨Akamaiäº‘ä¸Šæ‰§è¡ŒLLMæ¨ç†çš„è¡¨ç°ï¼Œä»¥åŠåœ¨ç›¸ä¼¼å‡è®¾ä¸‹ä¸NVIDIA H100 GPUçš„æ¯”è¾ƒã€‚ä½¿ç”¨NVIDIAæ¨èçš„åŸºå‡†æµ‹è¯•æ–¹æ³•ï¼Œæˆ‘ä»¬æµ‹è¯•äº†FP8å’ŒFP4ä¸¤ç§ç²¾åº¦æ¨¡å¼ï¼Œä»¥äº†è§£æ€§èƒ½ã€æ•ˆç‡å’Œå»¶è¿Ÿä¹‹é—´çš„æƒè¡¡ã€‚</p>
<p>ç»“æœæ¸…æ¥šåœ°è¡¨æ˜ï¼ŒFP4å¸¦æ¥äº†å¯è¡¡é‡çš„å¢ç›Šï¼Œåœ¨RTX 6000ä¸Šç›¸æ¯”FP8ååé‡æå‡<strong><strong>1.32å€</strong></strong>ã€‚ä¸FP8ä¸‹çš„H100ç›¸æ¯”ï¼ŒRTX 6000ï¼ˆFP4ï¼‰å®ç°äº†<strong><strong>1.63å€</strong></strong>çš„æ€§èƒ½æå‡ï¼Œçªæ˜¾äº†Blackwellæ¶æ„åœ¨æ¨ç†å·¥ä½œè´Ÿè½½æ–¹é¢çš„æ½œåŠ›ã€‚</p>
<p>è¿™äº›å‘ç°è¡¨æ˜ï¼Œåœ¨Akamaiåˆ†å¸ƒå¼äº‘ä¸Šè¿è¡Œçš„RTX 6000 GPUèƒ½å¤Ÿä»¥æ›´ä½çš„æˆæœ¬å’Œå»¶è¿Ÿä¸ºå®é™…AIæ¨ç†æä¾›é«˜ååé‡å’Œé«˜æ•ˆçš„æ‰©å±•ã€‚å¯¹äºæ­£åœ¨è¯„ä¼°GPUæ–¹æ¡ˆçš„å›¢é˜Ÿè€Œè¨€ï¼Œè¿™ç§ç»„åˆèƒ½åœ¨å…¨çƒèŒƒå›´å†…è¾¾æˆé€Ÿåº¦ã€æ•ˆç‡ä¸å¯åŠæ€§çš„å“è¶Šå¹³è¡¡ã€‚</p>
<h4 data-id="heading-8"><strong><strong>è·å–è®¿é—®æƒé™</strong></strong></h4>
<p>æ³¨å†Œä»¥è·å–åœ¨Akamaiæ¨ç†äº‘ä¸Šä½¿ç”¨RTX Pro 6000 BlackwellæœåŠ¡å™¨ç‰ˆçš„è®¿é—®æƒé™ã€‚</p>
<hr/>
<p>å¦‚æ‚¨æ‰€åœ¨çš„ä¼ä¸šä¹Ÿåœ¨è€ƒè™‘é‡‡è´­äº‘æœåŠ¡æˆ–è¿›è¡Œäº‘è¿ç§»ï¼Œ</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.akamai.com%2Fzh%2Flp%2Fakamai-cloud-computing-freetrial%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejin_260109_blogarticles241_end" target="_blank" title="https://www.akamai.com/zh/lp/akamai-cloud-computing-freetrial?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejin_260109_blogarticles241_end" ref="nofollow noopener noreferrer">ç‚¹å‡»é“¾æ¥</a>äº†è§£Akamai Linodeè§£å†³æ–¹æ¡ˆï¼Œç°åœ¨ç”³è¯·è¯•ç”¨å¯å¾—é«˜è¾¾5000ç¾å…ƒä¸“å±é¢åº¦</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘ä»¬æ¥è¯´è¯´ Cookieã€Sessionã€Tokenã€JWT]]></title>    <link>https://juejin.cn/post/7593187953271881728</link>    <guid>https://juejin.cn/post/7593187953271881728</guid>    <pubDate>2026-01-09T12:57:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593187953271881728" data-draft-id="7593193235251150900" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘ä»¬æ¥è¯´è¯´ Cookieã€Sessionã€Tokenã€JWT"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2026-01-09T12:57:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜å°å‡"/> <meta itemprop="url" content="https://juejin.cn/user/2285197690931932"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘ä»¬æ¥è¯´è¯´ Cookieã€Sessionã€Tokenã€JWT
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2285197690931932/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜å°å‡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T12:57:19.000Z" title="Fri Jan 09 2026 12:57:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»21åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»€ä¹ˆæ˜¯è®¤è¯ï¼ˆAuthenticationï¼‰</h2>
<ul>
<li>é€šä¿—åœ°è®²å°±æ˜¯éªŒè¯å½“å‰ç”¨æˆ·çš„èº«ä»½ï¼Œè¯æ˜â€œä½ æ˜¯ä½ è‡ªå·±â€ï¼ˆæ¯”å¦‚ï¼šä½ æ¯å¤©ä¸Šä¸‹ç­æ‰“å¡ï¼Œéƒ½éœ€è¦é€šè¿‡æŒ‡çº¹æ‰“å¡ï¼Œå½“ä½ çš„æŒ‡çº¹å’Œç³»ç»Ÿé‡Œå½•å…¥çš„æŒ‡çº¹ç›¸åŒ¹é…æ—¶ï¼Œå°±æ‰“å¡æˆåŠŸï¼‰</li>
<li>äº’è”ç½‘ä¸­çš„è®¤è¯ï¼š</li>
</ul>

<ul>
<li>
<ul>
<li>ç”¨æˆ·åå¯†ç ç™»å½•</li>
<li>é‚®ç®±å‘é€ç™»å½•é“¾æ¥</li>
<li>æ‰‹æœºå·æ¥æ”¶éªŒè¯ç </li>
<li>åªè¦ä½ èƒ½æ”¶åˆ°é‚®ç®±/éªŒè¯ç ï¼Œå°±é»˜è®¤ä½ æ˜¯è´¦å·çš„ä¸»äºº</li>
</ul>
</li>
</ul>
<h2 data-id="heading-1">ä»€ä¹ˆæ˜¯æˆæƒï¼ˆAuthorizationï¼‰</h2>
<ul>
<li>ç”¨æˆ·æˆäºˆç¬¬ä¸‰æ–¹åº”ç”¨è®¿é—®è¯¥ç”¨æˆ·æŸäº›èµ„æºçš„æƒé™</li>
</ul>

<ul>
<li>
<ul>
<li>åœ¨å®‰è£…æ‰‹æœºåº”ç”¨çš„æ—¶å€™ï¼ŒAPP ä¼šè¯¢é—®æ˜¯å¦å…è®¸æˆäºˆæƒé™ï¼ˆè®¿é—®ç›¸å†Œã€åœ°ç†ä½ç½®ç­‰æƒé™ï¼‰</li>
<li>åœ¨è®¿é—®å¾®ä¿¡å°ç¨‹åºæ—¶ï¼Œå½“ç™»å½•æ—¶ï¼Œå°ç¨‹åºä¼šè¯¢é—®æ˜¯å¦å…è®¸æˆäºˆæƒé™ï¼ˆè·å–æ˜µç§°ã€å¤´åƒã€åœ°åŒºã€æ€§åˆ«ç­‰ä¸ªäººä¿¡æ¯ï¼‰</li>
</ul>
</li>
</ul>

<ul>
<li>å®ç°æˆæƒçš„æ–¹å¼æœ‰ï¼šcookieã€sessionã€tokenã€OAuth</li>
</ul>
<h2 data-id="heading-2">ä»€ä¹ˆæ˜¯å‡­è¯ï¼ˆCredentialsï¼‰</h2>
<ul>
<li>å®ç°è®¤è¯å’Œæˆæƒçš„å‰ææ˜¯éœ€è¦ä¸€ç§åª’ä»‹ï¼ˆè¯ä¹¦ï¼‰æ¥æ ‡è®°è®¿é—®è€…çš„èº«ä»½</li>
</ul>

<ul>
<li>
<ul>
<li>åœ¨æˆ˜å›½æ—¶æœŸï¼Œå•†é…å˜æ³•ï¼Œå‘æ˜äº†ç…§èº«å¸–ã€‚ç…§èº«å¸–ç”±å®˜åºœå‘æ”¾ï¼Œæ˜¯ä¸€å—æ‰“ç£¨å…‰æ»‘ç»†å¯†çš„ç«¹æ¿ï¼Œä¸Šé¢åˆ»æœ‰æŒæœ‰äººçš„å¤´åƒå’Œç±è´¯ä¿¡æ¯ã€‚å›½äººå¿…é¡»æŒæœ‰ï¼Œå¦‚è‹¥æ²¡æœ‰å°±è¢«è®¤ä¸ºæ˜¯é»‘æˆ·ï¼Œæˆ–è€…é—´è°ä¹‹ç±»çš„ã€‚</li>
<li>åœ¨ç°å®ç”Ÿæ´»ä¸­ï¼Œæ¯ä¸ªäººéƒ½ä¼šæœ‰ä¸€å¼ ä¸“å±çš„å±…æ°‘èº«ä»½è¯ï¼Œæ˜¯ç”¨äºè¯æ˜æŒæœ‰äººèº«ä»½çš„ä¸€ç§æ³•å®šè¯ä»¶ã€‚é€šè¿‡èº«ä»½è¯ï¼Œå¯ä»¥åŠç†æ‰‹æœºå¡/é“¶è¡Œå¡/ä¸ªäººè´·æ¬¾/äº¤é€šå‡ºè¡Œç­‰ç­‰ï¼Œè¿™å°±æ˜¯è®¤è¯çš„å‡­è¯ã€‚</li>
<li>åœ¨äº’è”ç½‘åº”ç”¨ä¸­ï¼Œä¸€èˆ¬ç½‘ç«™ï¼ˆå¦‚æ˜é‡‘ï¼‰ä¼šæœ‰ä¸¤ç§æ¨¡å¼ï¼Œæ¸¸å®¢æ¨¡å¼å’Œç™»å½•æ¨¡å¼ã€‚æ¸¸å®¢æ¨¡å¼ä¸‹ï¼Œå¯ä»¥æ­£å¸¸æµè§ˆç½‘ç«™ä¸Šé¢çš„æ–‡ç« ï¼Œä¸€æ—¦æƒ³è¦ç‚¹èµ/æ”¶è—/åˆ†äº«æ–‡ç« ï¼Œå°±éœ€è¦ç™»å½•æˆ–è€…æ³¨å†Œè´¦å·ã€‚å½“ç”¨æˆ·ç™»å½•æˆåŠŸåï¼ŒæœåŠ¡å™¨ä¼šç»™è¯¥ç”¨æˆ·ä½¿ç”¨çš„æµè§ˆå™¨é¢å‘ä¸€ä¸ªä»¤ç‰Œï¼ˆtokenï¼‰ï¼Œè¿™ä¸ªä»¤ç‰Œç”¨æ¥è¡¨æ˜èº«ä»½ï¼Œæ¯æ¬¡æµè§ˆå™¨å‘é€è¯·æ±‚æ—¶ä¼šå¸¦ä¸Šè¿™ä¸ªä»¤ç‰Œï¼Œå°±å¯ä»¥ä½¿ç”¨æ¸¸å®¢æ¨¡å¼ä¸‹æ— æ³•ä½¿ç”¨çš„åŠŸèƒ½ã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-3">ä»€ä¹ˆæ˜¯ Cookie</h2>
<ul>
<li>HTTP æ˜¯æ— çŠ¶æ€çš„åè®®ï¼ˆå¯¹äºäº‹åŠ¡å¤„ç†æ²¡æœ‰è®°å¿†èƒ½åŠ›ï¼Œæ¯æ¬¡å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¼šè¯å®Œæˆæ—¶ï¼ŒæœåŠ¡ç«¯ä¸ä¼šä¿å­˜ä»»ä½•ä¼šè¯ä¿¡æ¯ï¼‰ï¼šæ¯ä¸ªè¯·æ±‚éƒ½æ˜¯å®Œå…¨ç‹¬ç«‹çš„ï¼ŒæœåŠ¡ç«¯æ— æ³•ç¡®è®¤å½“å‰è®¿é—®è€…çš„èº«ä»½ä¿¡æ¯ï¼Œæ— æ³•åˆ†è¾¨ä¸Šä¸€æ¬¡çš„è¯·æ±‚å‘é€è€…å’Œè¿™ä¸€æ¬¡çš„å‘é€è€…æ˜¯ä¸æ˜¯åŒä¸€ä¸ªäººã€‚æ‰€ä»¥æœåŠ¡å™¨ä¸æµè§ˆå™¨ä¸ºäº†è¿›è¡Œä¼šè¯è·Ÿè¸ªï¼ˆçŸ¥é“æ˜¯è°åœ¨è®¿é—®ï¼‰ï¼Œå°±å¿…é¡»ä¸»åŠ¨çš„å»ç»´æŠ¤ä¸€ä¸ªçŠ¶æ€ï¼Œè¿™ä¸ªçŠ¶æ€ç”¨äºå‘ŠçŸ¥æœåŠ¡ç«¯å‰åä¸¤ä¸ªè¯·æ±‚æ˜¯å¦æ¥è‡ªåŒä¸€æµè§ˆå™¨ã€‚è€Œè¿™ä¸ªçŠ¶æ€éœ€è¦é€šè¿‡ cookie æˆ–è€… session å»å®ç°ã€‚</li>
<li>cookie å­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼šcookie æ˜¯æœåŠ¡å™¨å‘é€åˆ°ç”¨æˆ·æµè§ˆå™¨å¹¶ä¿å­˜åœ¨æœ¬åœ°çš„ä¸€å°å—æ•°æ®ï¼Œå®ƒä¼šåœ¨æµè§ˆå™¨ä¸‹æ¬¡å‘åŒä¸€æœåŠ¡å™¨å†å‘èµ·è¯·æ±‚æ—¶è¢«æºå¸¦å¹¶å‘é€åˆ°æœåŠ¡å™¨ä¸Šã€‚</li>
<li>cookie æ˜¯ä¸å¯è·¨åŸŸçš„ï¼šæ¯ä¸ª cookie éƒ½ä¼šç»‘å®šå•ä¸€çš„åŸŸåï¼Œæ— æ³•åœ¨åˆ«çš„åŸŸåä¸‹è·å–ä½¿ç”¨ï¼Œä¸€çº§åŸŸåå’ŒäºŒçº§åŸŸåä¹‹é—´æ˜¯å…è®¸å…±äº«ä½¿ç”¨çš„ï¼ˆé çš„æ˜¯ domainï¼‰ã€‚</li>
</ul>
<p>cookie é‡è¦çš„å±æ€§</p>





































<table><thead><tr><th>å±æ€§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>name=value</td><td>é”®å€¼å¯¹ï¼Œè®¾ç½® Cookie çš„åç§°åŠç›¸å¯¹åº”çš„å€¼ï¼Œéƒ½å¿…é¡»æ˜¯å­—ç¬¦ä¸²ç±»å‹ - å¦‚æœå€¼ä¸º Unicode å­—ç¬¦ï¼Œéœ€è¦ä¸ºå­—ç¬¦ç¼–ç ã€‚- å¦‚æœå€¼ä¸ºäºŒè¿›åˆ¶æ•°æ®ï¼Œåˆ™éœ€è¦ä½¿ç”¨ BASE64 ç¼–ç ã€‚</td></tr><tr><td>domain</td><td>æŒ‡å®š cookie æ‰€å±åŸŸåï¼Œé»˜è®¤æ˜¯å½“å‰åŸŸå</td></tr><tr><td>path</td><td>æŒ‡å®š cookie åœ¨å“ªä¸ªè·¯å¾„ï¼ˆè·¯ç”±ï¼‰ä¸‹ç”Ÿæ•ˆï¼Œé»˜è®¤æ˜¯ â€˜/â€˜ã€‚å¦‚æœè®¾ç½®ä¸º/abcï¼Œåˆ™åªæœ‰/abcä¸‹çš„è·¯ç”±å¯ä»¥è®¿é—®åˆ°è¯¥ cookieï¼Œå¦‚ï¼š/abc/readã€‚</td></tr><tr><td>maxAge</td><td>cookie å¤±æ•ˆçš„æ—¶é—´ï¼Œå•ä½ç§’ã€‚å¦‚æœä¸ºæ•´æ•°ï¼Œåˆ™è¯¥ cookie åœ¨ maxAge ç§’åå¤±æ•ˆã€‚å¦‚æœä¸ºè´Ÿæ•°ï¼Œè¯¥ cookie ä¸ºä¸´æ—¶ cookie ï¼Œå…³é—­æµè§ˆå™¨å³å¤±æ•ˆï¼Œæµè§ˆå™¨ä¹Ÿä¸ä¼šä»¥ä»»ä½•å½¢å¼ä¿å­˜è¯¥ cookie ã€‚å¦‚æœä¸º 0ï¼Œè¡¨ç¤ºåˆ é™¤è¯¥ cookie ã€‚é»˜è®¤ä¸º -1ã€‚-æ¯” expires å¥½ç”¨ã€‚</td></tr><tr><td>expires</td><td>è¿‡æœŸæ—¶é—´ï¼Œåœ¨è®¾ç½®çš„æŸä¸ªæ—¶é—´ç‚¹åè¯¥ cookie å°±ä¼šå¤±æ•ˆã€‚ä¸€èˆ¬æµè§ˆå™¨çš„ cookie éƒ½æ˜¯é»˜è®¤å‚¨å­˜çš„ï¼Œå½“å…³é—­æµè§ˆå™¨ç»“æŸè¿™ä¸ªä¼šè¯çš„æ—¶å€™ï¼Œè¿™ä¸ª cookie ä¹Ÿå°±ä¼šè¢«åˆ é™¤</td></tr><tr><td>secure</td><td>è¯¥ cookie æ˜¯å¦ä»…è¢«ä½¿ç”¨å®‰å…¨åè®®ä¼ è¾“ã€‚å®‰å…¨åè®®æœ‰ HTTPSï¼ŒSSLç­‰ï¼Œåœ¨ç½‘ç»œä¸Šä¼ è¾“æ•°æ®ä¹‹å‰å…ˆå°†æ•°æ®åŠ å¯†ã€‚é»˜è®¤ä¸ºfalseã€‚å½“ secure å€¼ä¸º true æ—¶ï¼Œcookie åœ¨ HTTP ä¸­æ˜¯æ— æ•ˆï¼Œåœ¨ HTTPS ä¸­æ‰æœ‰æ•ˆã€‚</td></tr><tr><td>httpOnly</td><td>å¦‚æœç»™æŸä¸ª cookie è®¾ç½®äº† httpOnly å±æ€§ï¼Œåˆ™æ— æ³•é€šè¿‡ JS è„šæœ¬ è¯»å–åˆ°è¯¥ cookie çš„ä¿¡æ¯ï¼Œä½†è¿˜æ˜¯èƒ½é€šè¿‡ Application ä¸­æ‰‹åŠ¨ä¿®æ”¹ cookieï¼Œæ‰€ä»¥åªæ˜¯åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥é˜²æ­¢ XSS æ”»å‡»ï¼Œä¸æ˜¯ç»å¯¹çš„å®‰å…¨</td></tr></tbody></table>
<h2 data-id="heading-4">ä»€ä¹ˆæ˜¯ Session</h2>
<ul>
<li>session æ˜¯å¦ä¸€ç§è®°å½•æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¼šè¯çŠ¶æ€çš„æœºåˆ¶</li>
<li>session æ˜¯åŸºäº cookie å®ç°çš„ï¼Œsession å­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯ï¼ŒsessionId ä¼šè¢«å­˜å‚¨åˆ°å®¢æˆ·ç«¯çš„cookie ä¸­</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a859eaee2a24037b837ee0c9a1edfec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5bCP5YGH:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768568239&amp;x-signature=gOS9fkxOKw%2Fep58t63nVbKuRI9w%3D" alt="" loading="lazy"/></p>
<ul>
<li>session è®¤è¯æµç¨‹ï¼š</li>
</ul>

<ul>
<li>
<ul>
<li>ç”¨æˆ·ç¬¬ä¸€æ¬¡è¯·æ±‚æœåŠ¡å™¨çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨æ ¹æ®ç”¨æˆ·æäº¤çš„ç›¸å…³ä¿¡æ¯ï¼Œåˆ›å»ºå¯¹åº”çš„ Session</li>
<li>è¯·æ±‚è¿”å›æ—¶å°†æ­¤ Session çš„å”¯ä¸€æ ‡è¯†ä¿¡æ¯ SessionID è¿”å›ç»™æµè§ˆå™¨</li>
<li>æµè§ˆå™¨æ¥æ”¶åˆ°æœåŠ¡å™¨è¿”å›çš„ SessionID ä¿¡æ¯åï¼Œä¼šå°†æ­¤ä¿¡æ¯å­˜å…¥åˆ° Cookie ä¸­ï¼ŒåŒæ—¶ Cookie è®°å½•æ­¤ SessionID å±äºå“ªä¸ªåŸŸå</li>
<li>å½“ç”¨æˆ·ç¬¬äºŒæ¬¡è®¿é—®æœåŠ¡å™¨çš„æ—¶å€™ï¼Œè¯·æ±‚ä¼šè‡ªåŠ¨åˆ¤æ–­æ­¤åŸŸåä¸‹æ˜¯å¦å­˜åœ¨ Cookie ä¿¡æ¯ï¼Œå¦‚æœå­˜åœ¨è‡ªåŠ¨å°† Cookie ä¿¡æ¯ä¹Ÿå‘é€ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯ä¼šä» Cookie ä¸­è·å– SessionIDï¼Œå†æ ¹æ® SessionID æŸ¥æ‰¾å¯¹åº”çš„ Session ä¿¡æ¯ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°è¯´æ˜ç”¨æˆ·æ²¡æœ‰ç™»å½•æˆ–è€…ç™»å½•å¤±æ•ˆï¼Œå¦‚æœæ‰¾åˆ° Session è¯æ˜ç”¨æˆ·å·²ç»ç™»å½•å¯æ‰§è¡Œåé¢æ“ä½œã€‚</li>
</ul>
</li>
</ul>
<p>æ ¹æ®ä»¥ä¸Šæµç¨‹å¯çŸ¥ï¼ŒSessionID æ˜¯è¿æ¥ Cookie å’Œ Session çš„ä¸€é“æ¡¥æ¢ï¼Œå¤§éƒ¨åˆ†ç³»ç»Ÿä¹Ÿæ˜¯æ ¹æ®æ­¤åŸç†æ¥éªŒè¯ç”¨æˆ·ç™»å½•çŠ¶æ€ã€‚</p>
<h2 data-id="heading-5">Cookie å’Œ Session çš„åŒºåˆ«</h2>
<ul>
<li>å®‰å…¨æ€§ï¼šSession æ¯” Cookie å®‰å…¨ï¼ŒSession æ˜¯å­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯çš„ï¼ŒCookie æ˜¯å­˜å‚¨åœ¨å®¢æˆ·ç«¯çš„ã€‚</li>
<li>å­˜å–å€¼çš„ç±»å‹ä¸åŒï¼šCookie åªæ”¯æŒå­˜å­—ç¬¦ä¸²æ•°æ®ï¼Œæƒ³è¦è®¾ç½®å…¶ä»–ç±»å‹çš„æ•°æ®ï¼Œéœ€è¦å°†å…¶è½¬æ¢æˆå­—ç¬¦ä¸²ï¼ŒSession å¯ä»¥å­˜ä»»æ„æ•°æ®ç±»å‹ã€‚</li>
<li>æœ‰æ•ˆæœŸä¸åŒï¼šCookie å¯è®¾ç½®ä¸ºé•¿æ—¶é—´ä¿æŒï¼Œæ¯”å¦‚ç»å¸¸ä½¿ç”¨çš„é»˜è®¤ç™»å½•åŠŸèƒ½ï¼ŒSession ä¸€èˆ¬å¤±æ•ˆæ—¶é—´è¾ƒçŸ­ï¼Œå®¢æˆ·ç«¯å…³é—­ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼‰æˆ–è€… Session è¶…æ—¶éƒ½ä¼šå¤±æ•ˆã€‚</li>
<li>å­˜å‚¨å¤§å°ä¸åŒï¼šå•ä¸ª Cookie ä¿å­˜çš„æ•°æ®ä¸èƒ½è¶…è¿‡ 4Kï¼ŒSession å¯å­˜å‚¨æ•°æ®è¿œé«˜äº Cookieï¼Œä½†æ˜¯å½“è®¿é—®é‡è¿‡å¤šï¼Œä¼šå ç”¨è¿‡å¤šçš„æœåŠ¡å™¨èµ„æºã€‚</li>
</ul>
<h2 data-id="heading-6">ä»€ä¹ˆæ˜¯ Tokenï¼ˆä»¤ç‰Œï¼‰</h2>
<h3 data-id="heading-7">Acesss Token</h3>
<ul>
<li>è®¿é—®èµ„æºæ¥å£ï¼ˆAPIï¼‰æ—¶æ‰€éœ€è¦çš„èµ„æºå‡­è¯</li>
<li>ç®€å• token çš„ç»„æˆï¼šuid(ç”¨æˆ·å”¯ä¸€çš„èº«ä»½æ ‡è¯†)ã€time(å½“å‰æ—¶é—´çš„æ—¶é—´æˆ³)ã€signï¼ˆç­¾åï¼Œtoken çš„å‰å‡ ä½ä»¥å“ˆå¸Œç®—æ³•å‹ç¼©æˆçš„ä¸€å®šé•¿åº¦çš„åå…­è¿›åˆ¶å­—ç¬¦ä¸²ï¼‰</li>
<li>ç‰¹ç‚¹ï¼š</li>
</ul>

<ul>
<li>
<ul>
<li>æœåŠ¡ç«¯æ— çŠ¶æ€åŒ–ã€å¯æ‰©å±•æ€§å¥½</li>
<li>æ”¯æŒç§»åŠ¨ç«¯è®¾å¤‡</li>
<li>å®‰å…¨</li>
<li>æ”¯æŒè·¨ç¨‹åºè°ƒç”¨</li>
</ul>
</li>
</ul>

<ul>
<li>token çš„èº«ä»½éªŒè¯æµç¨‹ï¼š</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7d90360d6b254a108b2a34941353a887~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5bCP5YGH:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768568239&amp;x-signature=W2RCfhd9EefIaILH12lDb3FXj80%3D" alt="" loading="lazy"/></p>
<ol>
<li>å®¢æˆ·ç«¯ä½¿ç”¨ç”¨æˆ·åè·Ÿå¯†ç è¯·æ±‚ç™»å½•</li>
<li>æœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚ï¼Œå»éªŒè¯ç”¨æˆ·åä¸å¯†ç </li>
<li>éªŒè¯æˆåŠŸåï¼ŒæœåŠ¡ç«¯ä¼šç­¾å‘ä¸€ä¸ª token å¹¶æŠŠè¿™ä¸ª token å‘é€ç»™å®¢æˆ·ç«¯</li>
<li>å®¢æˆ·ç«¯æ”¶åˆ° token ä»¥åï¼Œä¼šæŠŠå®ƒå­˜å‚¨èµ·æ¥ï¼Œæ¯”å¦‚æ”¾åœ¨ cookie é‡Œæˆ–è€… localStorage é‡Œ</li>
<li>å®¢æˆ·ç«¯æ¯æ¬¡å‘æœåŠ¡ç«¯è¯·æ±‚èµ„æºçš„æ—¶å€™éœ€è¦å¸¦ç€æœåŠ¡ç«¯ç­¾å‘çš„ token</li>
<li>æœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚ï¼Œç„¶åå»éªŒè¯å®¢æˆ·ç«¯è¯·æ±‚é‡Œé¢å¸¦ç€çš„ token ï¼Œå¦‚æœéªŒè¯æˆåŠŸï¼Œå°±å‘å®¢æˆ·ç«¯è¿”å›è¯·æ±‚çš„æ•°æ®</li>
</ol>
<ul>
<li>æ¯ä¸€æ¬¡è¯·æ±‚éƒ½éœ€è¦æºå¸¦ tokenï¼Œéœ€è¦æŠŠ token æ”¾åˆ° HTTP çš„ Header é‡Œ</li>
<li>åŸºäº token çš„ç”¨æˆ·è®¤è¯æ˜¯ä¸€ç§æœåŠ¡ç«¯æ— çŠ¶æ€çš„è®¤è¯æ–¹å¼ï¼ŒæœåŠ¡ç«¯ä¸ç”¨å­˜æ”¾ token æ•°æ®ã€‚ç”¨è§£æ token çš„è®¡ç®—æ—¶é—´æ¢å– session çš„å­˜å‚¨ç©ºé—´ï¼Œä»è€Œå‡è½»æœåŠ¡å™¨çš„å‹åŠ›ï¼Œå‡å°‘é¢‘ç¹çš„æŸ¥è¯¢æ•°æ®åº“</li>
<li>token å®Œå…¨ç”±åº”ç”¨ç®¡ç†ï¼Œæ‰€ä»¥å®ƒå¯ä»¥é¿å¼€åŒæºç­–ç•¥</li>
</ul>
<h3 data-id="heading-8">Refresh Token</h3>
<ul>
<li>å¦å¤–ä¸€ç§ tokenâ€”â€”refresh token</li>
<li>refresh token æ˜¯ä¸“ç”¨äºåˆ·æ–° access token çš„ tokenã€‚å¦‚æœæ²¡æœ‰ refresh tokenï¼Œä¹Ÿå¯ä»¥åˆ·æ–° access tokenï¼Œä½†æ¯æ¬¡åˆ·æ–°éƒ½è¦ç”¨æˆ·è¾“å…¥ç™»å½•ç”¨æˆ·åä¸å¯†ç ï¼Œä¼šå¾ˆéº»çƒ¦ã€‚æœ‰äº† refresh tokenï¼Œå¯ä»¥å‡å°‘è¿™ä¸ªéº»çƒ¦ï¼Œå®¢æˆ·ç«¯ç›´æ¥ç”¨ refresh token å»æ›´æ–° access tokenï¼Œæ— éœ€ç”¨æˆ·è¿›è¡Œé¢å¤–çš„æ“ä½œã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cc194893c4a14663b71e869f9ca59027~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5bCP5YGH:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768568239&amp;x-signature=8aaZXEP5X0lKf70px%2FdsXzuAIcM%3D" alt="" loading="lazy"/></p>
<ul>
<li>Access Token çš„æœ‰æ•ˆæœŸæ¯”è¾ƒçŸ­ï¼Œå½“ Acesss Token ç”±äºè¿‡æœŸè€Œå¤±æ•ˆæ—¶ï¼Œä½¿ç”¨ Refresh Token å°±å¯ä»¥è·å–åˆ°æ–°çš„ Tokenï¼Œå¦‚æœ Refresh Token ä¹Ÿå¤±æ•ˆäº†ï¼Œç”¨æˆ·å°±åªèƒ½é‡æ–°ç™»å½•äº†ã€‚</li>
<li>Refresh Token åŠè¿‡æœŸæ—¶é—´æ˜¯å­˜å‚¨åœ¨æœåŠ¡å™¨çš„æ•°æ®åº“ä¸­ï¼Œåªæœ‰åœ¨ç”³è¯·æ–°çš„ Acesss Token æ—¶æ‰ä¼šéªŒè¯ï¼Œä¸ä¼šå¯¹ä¸šåŠ¡æ¥å£å“åº”æ—¶é—´é€ æˆå½±å“ï¼Œä¹Ÿä¸éœ€è¦å‘ Session ä¸€æ ·ä¸€ç›´ä¿æŒåœ¨å†…å­˜ä¸­ä»¥åº”å¯¹å¤§é‡çš„è¯·æ±‚ã€‚</li>
</ul>
<h2 data-id="heading-9">Token å’Œ Session çš„åŒºåˆ«</h2>
<ul>
<li>Session æ˜¯ä¸€ç§è®°å½•æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¼šè¯çŠ¶æ€çš„æœºåˆ¶ï¼Œä½¿æœåŠ¡ç«¯æœ‰çŠ¶æ€åŒ–ï¼Œå¯ä»¥è®°å½•ä¼šè¯ä¿¡æ¯ã€‚è€Œ Token æ˜¯ä»¤ç‰Œï¼Œè®¿é—®èµ„æºæ¥å£ï¼ˆAPIï¼‰æ—¶æ‰€éœ€è¦çš„èµ„æºå‡­è¯ã€‚Tokenä½¿æœåŠ¡ç«¯æ— çŠ¶æ€åŒ–ï¼Œä¸ä¼šå­˜å‚¨ä¼šè¯ä¿¡æ¯ã€‚</li>
<li>Session å’Œ Token å¹¶ä¸çŸ›ç›¾ï¼Œä½œä¸ºèº«ä»½è®¤è¯ Token å®‰å…¨æ€§æ¯” Session å¥½ï¼Œå› ä¸ºæ¯ä¸€ä¸ªè¯·æ±‚éƒ½æœ‰ç­¾åè¿˜èƒ½é˜²æ­¢ç›‘å¬ä»¥åŠé‡æ”¾æ”»å‡»ï¼Œè€Œ Session å°±å¿…é¡»ä¾èµ–é“¾è·¯å±‚æ¥ä¿éšœé€šè®¯å®‰å…¨äº†ã€‚å¦‚æœéœ€è¦å®ç°æœ‰çŠ¶æ€çš„ä¼šè¯ï¼Œä»ç„¶å¯ä»¥å¢åŠ  Session æ¥åœ¨æœåŠ¡å™¨ç«¯ä¿å­˜ä¸€äº›çŠ¶æ€ã€‚</li>
<li>æ‰€è°“ Session è®¤è¯åªæ˜¯ç®€å•çš„æŠŠ User ä¿¡æ¯å­˜å‚¨åˆ° Session é‡Œï¼Œå› ä¸º SessionID çš„ä¸å¯é¢„æµ‹æ€§ï¼Œæš‚ä¸”è®¤ä¸ºæ˜¯å®‰å…¨çš„ã€‚è€Œ Token ï¼Œå¦‚æœæŒ‡çš„æ˜¯ OAuth Token æˆ–ç±»ä¼¼çš„æœºåˆ¶çš„è¯ï¼Œæä¾›çš„æ˜¯ è®¤è¯ å’Œ æˆæƒ ï¼Œè®¤è¯æ˜¯é’ˆå¯¹ç”¨æˆ·ï¼Œæˆæƒæ˜¯é’ˆå¯¹ App ã€‚å…¶ç›®çš„æ˜¯è®©æŸ App æœ‰æƒåˆ©è®¿é—®æŸç”¨æˆ·çš„ä¿¡æ¯ã€‚è¿™é‡Œçš„ Token æ˜¯å”¯ä¸€çš„ã€‚ä¸å¯ä»¥è½¬ç§»åˆ°å…¶å®ƒ Appä¸Šï¼Œä¹Ÿä¸å¯ä»¥è½¬åˆ°å…¶å®ƒç”¨æˆ·ä¸Šã€‚Session åªæä¾›ä¸€ç§ç®€å•çš„è®¤è¯ï¼Œå³åªè¦æœ‰æ­¤ SessionID ï¼Œå³è®¤ä¸ºæœ‰æ­¤ User çš„å…¨éƒ¨æƒåˆ©ã€‚æ˜¯éœ€è¦ä¸¥æ ¼ä¿å¯†çš„ï¼Œè¿™ä¸ªæ•°æ®åº”è¯¥åªä¿å­˜åœ¨ç«™æ–¹ï¼Œä¸åº”è¯¥å…±äº«ç»™å…¶å®ƒç½‘ç«™æˆ–è€…ç¬¬ä¸‰æ–¹ Appã€‚æ‰€ä»¥ç®€å•æ¥è¯´ï¼šå¦‚æœç”¨æˆ·æ•°æ®å¯èƒ½éœ€è¦å’Œç¬¬ä¸‰æ–¹å…±äº«ï¼Œæˆ–è€…å…è®¸ç¬¬ä¸‰æ–¹è°ƒç”¨ API æ¥å£ï¼Œç”¨ Token ã€‚å¦‚æœæ°¸è¿œåªæ˜¯è‡ªå·±çš„ç½‘ç«™ï¼Œè‡ªå·±çš„ Appï¼Œç”¨ä»€ä¹ˆå°±æ— æ‰€è°“äº†ã€‚</li>
</ul>
<h2 data-id="heading-10">ä»€ä¹ˆæ˜¯ JWT</h2>
<ul>
<li>JSON Web Tokenï¼ˆç®€ç§° JWTï¼‰æ˜¯ç›®å‰æœ€æµè¡Œçš„è·¨åŸŸè®¤è¯è§£å†³æ–¹æ¡ˆã€‚</li>
<li>æ˜¯ä¸€ç§è®¤è¯æˆæƒæœºåˆ¶ã€‚</li>
<li>JWT æ˜¯ä¸ºäº†åœ¨ç½‘ç»œåº”ç”¨ç¯å¢ƒé—´ä¼ é€’å£°æ˜è€Œæ‰§è¡Œçš„ä¸€ç§åŸºäº JSON çš„å¼€æ”¾æ ‡å‡†ï¼ˆRFC 7519ï¼‰ã€‚JWT çš„å£°æ˜ä¸€èˆ¬è¢«ç”¨æ¥åœ¨èº«ä»½æä¾›è€…å’ŒæœåŠ¡æä¾›è€…é—´ä¼ é€’è¢«è®¤è¯çš„ç”¨æˆ·èº«ä»½ä¿¡æ¯ï¼Œä»¥ä¾¿äºä»èµ„æºæœåŠ¡å™¨è·å–èµ„æºã€‚æ¯”å¦‚ç”¨åœ¨ç”¨æˆ·ç™»å½•ä¸Šã€‚</li>
<li>å¯ä»¥ä½¿ç”¨ HMAC ç®—æ³•æˆ–è€…æ˜¯ RSA çš„å…¬/ç§ç§˜é’¥å¯¹ JWT è¿›è¡Œç­¾åã€‚å› ä¸ºæ•°å­—ç­¾åçš„å­˜åœ¨ï¼Œè¿™äº›ä¼ é€’çš„ä¿¡æ¯æ˜¯å¯ä¿¡çš„ã€‚</li>
</ul>
<h3 data-id="heading-11">ç”Ÿæˆ JWT</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fjwt.io%2Fwww.jsonwebtoken.io%2F" target="_blank" title="https://jwt.io/www.jsonwebtoken.io/" ref="nofollow noopener noreferrer">jwt.io/www.jsonwebâ€¦</a></p>
<h3 data-id="heading-12">JWT çš„åŸç†</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cdbf2b1cd5284bc0ad158b91e2543dc6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5bCP5YGH:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768568239&amp;x-signature=VKvM%2BNv6E%2FtZVs0WGwWFISJbiKk%3D" alt="" loading="lazy"/></p>
<ul>
<li>JWT è®¤è¯æµç¨‹ï¼š</li>
</ul>

<ul>
<li>
<ul>
<li>ç”¨æˆ·è¾“å…¥ç”¨æˆ·å/å¯†ç ç™»å½•ï¼ŒæœåŠ¡ç«¯è®¤è¯æˆåŠŸåï¼Œä¼šè¿”å›ç»™å®¢æˆ·ç«¯ä¸€ä¸ª JWT</li>
<li>å®¢æˆ·ç«¯å°† token ä¿å­˜åˆ°æœ¬åœ°ï¼ˆé€šå¸¸ä½¿ç”¨ localstorageï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ cookieï¼‰</li>
<li>å½“ç”¨æˆ·å¸Œæœ›è®¿é—®ä¸€ä¸ªå—ä¿æŠ¤çš„è·¯ç”±æˆ–è€…èµ„æºçš„æ—¶å€™ï¼Œéœ€è¦è¯·æ±‚å¤´çš„ Authorization å­—æ®µä¸­ä½¿ç”¨Bearer æ¨¡å¼æ·»åŠ  JWTï¼Œå…¶å†…å®¹çœ‹èµ·æ¥æ˜¯ä¸‹é¢è¿™æ ·</li>
</ul>
</li>
</ul>

<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">Authorization: Bearer &lt;token&gt;</span>
</code></pre>
<ul>
<li>æœåŠ¡ç«¯çš„ä¿æŠ¤è·¯ç”±å°†ä¼šæ£€æŸ¥è¯·æ±‚å¤´ Authorization ä¸­çš„ JWT ä¿¡æ¯ï¼Œå¦‚æœåˆæ³•ï¼Œåˆ™å…è®¸ç”¨æˆ·çš„è¡Œä¸º</li>
<li>å› ä¸º JWT æ˜¯è‡ªåŒ…å«çš„ï¼ˆå†…éƒ¨åŒ…å«äº†ä¸€äº›ä¼šè¯ä¿¡æ¯ï¼‰ï¼Œå› æ­¤å‡å°‘äº†éœ€è¦æŸ¥è¯¢æ•°æ®åº“çš„éœ€è¦</li>
<li>å› ä¸º JWT å¹¶ä¸ä½¿ç”¨ Cookie çš„ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ä»»ä½•åŸŸåæä¾› API æœåŠ¡è€Œä¸éœ€è¦æ‹…å¿ƒè·¨åŸŸèµ„æºå…±äº«é—®é¢˜ï¼ˆCORSï¼‰</li>
<li>å› ä¸ºç”¨æˆ·çš„çŠ¶æ€ä¸å†å­˜å‚¨åœ¨æœåŠ¡ç«¯çš„å†…å­˜ä¸­ï¼Œæ‰€ä»¥è¿™æ˜¯ä¸€ç§æ— çŠ¶æ€çš„è®¤è¯æœºåˆ¶</li>
</ul>
<h3 data-id="heading-13">JWT çš„ä½¿ç”¨æ–¹å¼</h3>
<ul>
<li>å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨è¿”å›çš„ JWTï¼Œå¯ä»¥å‚¨å­˜åœ¨ Cookie é‡Œé¢ï¼Œä¹Ÿå¯ä»¥å‚¨å­˜åœ¨ localStorageã€‚</li>
</ul>
<h4 data-id="heading-14">æ–¹å¼ä¸€</h4>
<ul>
<li>å½“ç”¨æˆ·å¸Œæœ›è®¿é—®ä¸€ä¸ªå—ä¿æŠ¤çš„è·¯ç”±æˆ–è€…èµ„æºçš„æ—¶å€™ï¼Œå¯ä»¥æŠŠå®ƒæ”¾åœ¨ Cookie é‡Œé¢è‡ªåŠ¨å‘é€ï¼Œä½†æ˜¯è¿™æ ·ä¸èƒ½è·¨åŸŸï¼Œæ‰€ä»¥æ›´å¥½çš„åšæ³•æ˜¯æ”¾åœ¨ HTTP è¯·æ±‚å¤´ä¿¡æ¯çš„ Authorization å­—æ®µé‡Œï¼Œä½¿ç”¨ Bearer æ¨¡å¼æ·»åŠ  JWTã€‚</li>
</ul>

<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">GET</span> /calendar/v1/events
<span class="hljs-symbol">Host:</span> api.example.com
<span class="hljs-symbol">Authorization:</span> Bearer &lt;token&gt;
</code></pre>
<ul>
<li>
<ul>
<li>ç”¨æˆ·çš„çŠ¶æ€ä¸ä¼šå­˜å‚¨åœ¨æœåŠ¡ç«¯çš„å†…å­˜ä¸­ï¼Œè¿™æ˜¯ä¸€ç§æ— çŠ¶æ€çš„è®¤è¯æœºåˆ¶</li>
<li>æœåŠ¡ç«¯çš„ä¿æŠ¤è·¯ç”±å°†ä¼šæ£€æŸ¥è¯·æ±‚å¤´ Authorization ä¸­çš„ JWT ä¿¡æ¯ï¼Œå¦‚æœåˆæ³•ï¼Œåˆ™å…è®¸ç”¨æˆ·çš„è¡Œä¸ºã€‚</li>
<li>ç”±äº JWT æ˜¯è‡ªåŒ…å«çš„ï¼Œå› æ­¤å‡å°‘äº†éœ€è¦æŸ¥è¯¢æ•°æ®åº“çš„éœ€è¦</li>
<li>JWT çš„è¿™äº›ç‰¹æ€§ä½¿å¾—å¯ä»¥å®Œå…¨ä¾èµ–å…¶æ— çŠ¶æ€çš„ç‰¹æ€§æä¾›æ•°æ® API æœåŠ¡ï¼Œç”šè‡³æ˜¯åˆ›å»ºä¸€ä¸ªä¸‹è½½æµæœåŠ¡ã€‚</li>
<li>å› ä¸º JWT å¹¶ä¸ä½¿ç”¨ Cookie ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ä»»ä½•åŸŸåæä¾› API æœåŠ¡è€Œä¸éœ€è¦æ‹…å¿ƒè·¨åŸŸèµ„æºå…±äº«é—®é¢˜ï¼ˆCORSï¼‰</li>
</ul>
</li>
</ul>
<h4 data-id="heading-15">æ–¹å¼äºŒ</h4>
<ul>
<li>è·¨åŸŸçš„æ—¶å€™ï¼Œå¯ä»¥æŠŠ JWT æ”¾åœ¨ POST è¯·æ±‚çš„æ•°æ®ä½“é‡Œã€‚</li>
</ul>
<h4 data-id="heading-16">æ–¹å¼ä¸‰</h4>
<ul>
<li>é€šè¿‡ URL ä¼ è¾“</li>
</ul>
<p><a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.example.com%2Fuser%3Ftoken%3Dxxx" target="_blank" title="http://www.example.com/user?token=xxx" ref="nofollow noopener noreferrer">www.example.com/user?token=â€¦</a></p>
<h2 data-id="heading-17">Token å’Œ JWT çš„åŒºåˆ«</h2>
<p>ç›¸åŒï¼š</p>
<ul>
<li>éƒ½æ˜¯è®¿é—®èµ„æºçš„ä»¤ç‰Œ</li>
<li>éƒ½å¯ä»¥è®°å½•ç”¨æˆ·çš„ä¿¡æ¯</li>
<li>éƒ½æ˜¯ä½¿æœåŠ¡ç«¯æ— çŠ¶æ€åŒ–</li>
<li>éƒ½æ˜¯åªæœ‰éªŒè¯æˆåŠŸåï¼Œå®¢æˆ·ç«¯æ‰èƒ½è®¿é—®æœåŠ¡ç«¯ä¸Šå—ä¿æŠ¤çš„èµ„æº</li>
</ul>
<p>åŒºåˆ«ï¼š</p>
<ul>
<li>Tokenï¼šæœåŠ¡ç«¯éªŒè¯å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„ Token æ—¶ï¼Œè¿˜éœ€è¦æŸ¥è¯¢æ•°æ®åº“è·å–ç”¨æˆ·ä¿¡æ¯ï¼Œç„¶åéªŒè¯ Token æ˜¯å¦æœ‰æ•ˆã€‚</li>
<li>JWTï¼šå°† Token å’Œ Payload åŠ å¯†åå­˜å‚¨äºå®¢æˆ·ç«¯ï¼ŒæœåŠ¡ç«¯åªéœ€è¦ä½¿ç”¨å¯†é’¥è§£å¯†è¿›è¡Œæ ¡éªŒï¼ˆæ ¡éªŒä¹Ÿæ˜¯ JWT è‡ªå·±å®ç°çš„ï¼‰å³å¯ï¼Œä¸éœ€è¦æŸ¥è¯¢æˆ–è€…å‡å°‘æŸ¥è¯¢æ•°æ®åº“ï¼Œå› ä¸º JWT è‡ªåŒ…å«äº†ç”¨æˆ·ä¿¡æ¯å’ŒåŠ å¯†çš„æ•°æ®ã€‚</li>
</ul>
<h2 data-id="heading-18">å¸¸è§çš„å‰åç«¯é‰´æƒæ–¹å¼</h2>
<ol>
<li>Session-Cookie</li>
<li>Token éªŒè¯ï¼ˆåŒ…æ‹¬ JWTï¼ŒSSOï¼‰</li>
<li>OAuth2.0ï¼ˆå¼€æ”¾æˆæƒï¼‰</li>
</ol>
<h2 data-id="heading-19">å¸¸è§çš„åŠ å¯†ç®—æ³•</h2>
<ul>
<li>å“ˆå¸Œç®—æ³•(Hash Algorithm)åˆç§°æ•£åˆ—ç®—æ³•ã€æ•£åˆ—å‡½æ•°ã€å“ˆå¸Œå‡½æ•°ï¼Œæ˜¯ä¸€ç§ä»ä»»ä½•ä¸€ç§æ•°æ®ä¸­åˆ›å»ºå°çš„æ•°å­—â€œæŒ‡çº¹â€çš„æ–¹æ³•ã€‚å“ˆå¸Œç®—æ³•å°†æ•°æ®é‡æ–°æ‰“ä¹±æ··åˆï¼Œé‡æ–°åˆ›å»ºä¸€ä¸ªå“ˆå¸Œå€¼ã€‚</li>
<li>å“ˆå¸Œç®—æ³•ä¸»è¦ç”¨æ¥ä¿éšœæ•°æ®çœŸå®æ€§(å³å®Œæ•´æ€§)ï¼Œå³å‘ä¿¡äººå°†åŸå§‹æ¶ˆæ¯å’Œå“ˆå¸Œå€¼ä¸€èµ·å‘é€ï¼Œæ”¶ä¿¡äººé€šè¿‡ç›¸åŒçš„å“ˆå¸Œå‡½æ•°æ¥æ ¡éªŒåŸå§‹æ•°æ®æ˜¯å¦çœŸå®ã€‚</li>
<li>å“ˆå¸Œç®—æ³•é€šå¸¸æœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹ï¼š</li>
</ul>

<ul>
<li>
<ul>
<li>2 çš„ 128 æ¬¡æ–¹ä¸º 340282366920938463463374607431768211456ï¼Œä¹Ÿå°±æ˜¯ 10 çš„ 39 æ¬¡æ–¹çº§åˆ«</li>
<li>2 çš„ 160 æ¬¡æ–¹ä¸º 1.4615016373309029182036848327163e+48ï¼Œä¹Ÿå°±æ˜¯ 10 çš„ 48 æ¬¡æ–¹çº§åˆ«</li>
<li>2 çš„ 256 æ¬¡æ–¹ä¸º 1.1579208923731619542357098500869 Ã— 10 çš„ 77 æ¬¡æ–¹ï¼Œä¹Ÿå°±æ˜¯ 10 çš„ 77 æ¬¡æ–¹</li>
<li>æ­£åƒå¿«é€Ÿï¼šåŸå§‹æ•°æ®å¯ä»¥å¿«é€Ÿè®¡ç®—å‡ºå“ˆå¸Œå€¼</li>
<li>é€†å‘å›°éš¾ï¼šé€šè¿‡å“ˆå¸Œå€¼åŸºæœ¬ä¸å¯èƒ½æ¨å¯¼å‡ºåŸå§‹æ•°æ®</li>
<li>è¾“å…¥æ•æ„Ÿï¼šåŸå§‹æ•°æ®åªè¦æœ‰ä¸€ç‚¹å˜åŠ¨ï¼Œå¾—åˆ°çš„å“ˆå¸Œå€¼å·®åˆ«å¾ˆå¤§</li>
<li>å†²çªé¿å…ï¼šå¾ˆéš¾æ‰¾åˆ°ä¸åŒçš„åŸå§‹æ•°æ®å¾—åˆ°ç›¸åŒçš„å“ˆå¸Œå€¼ï¼Œå®‡å®™ä¸­åŸå­æ•°å¤§çº¦åœ¨ 10 çš„ 60 æ¬¡æ–¹åˆ° 80 æ¬¡æ–¹ä¹‹é—´ï¼Œæ‰€ä»¥ 2 çš„ 256 æ¬¡æ–¹æœ‰è¶³å¤Ÿçš„ç©ºé—´å®¹çº³æ‰€æœ‰çš„å¯èƒ½ï¼Œç®—æ³•å¥½çš„æƒ…å†µä¸‹å†²çªç¢°æ’çš„æ¦‚ç‡å¾ˆä½ï¼š</li>
</ul>
</li>
</ul>
<p>æ³¨æ„ï¼š</p>
<ol>
<li>ä»¥ä¸Šä¸èƒ½ä¿è¯æ•°æ®è¢«æ¶æ„ç¯¡æ”¹ï¼ŒåŸå§‹æ•°æ®å’Œå“ˆå¸Œå€¼éƒ½å¯èƒ½è¢«æ¶æ„ç¯¡æ”¹ï¼Œè¦ä¿è¯ä¸è¢«ç¯¡æ”¹ï¼Œå¯ä»¥ä½¿ç”¨RSA å…¬é’¥ç§é’¥æ–¹æ¡ˆï¼Œå†é…åˆå“ˆå¸Œå€¼ã€‚</li>
<li>å“ˆå¸Œç®—æ³•ä¸»è¦ç”¨æ¥é˜²æ­¢è®¡ç®—æœºä¼ è¾“è¿‡ç¨‹ä¸­çš„é”™è¯¯ï¼Œæ—©æœŸè®¡ç®—æœºé€šè¿‡å‰ 7 ä½æ•°æ®ç¬¬ 8 ä½å¥‡å¶æ ¡éªŒç æ¥ä¿éšœï¼ˆ12.5% çš„æµªè´¹æ•ˆç‡ä½ï¼‰ï¼Œå¯¹äºä¸€æ®µæ•°æ®æˆ–æ–‡ä»¶ï¼Œé€šè¿‡å“ˆå¸Œç®—æ³•ç”Ÿæˆ 128bit æˆ–è€… 256bit çš„å“ˆå¸Œå€¼ï¼Œå¦‚æœæ ¡éªŒæœ‰é—®é¢˜å°±è¦æ±‚é‡ä¼ ã€‚</li>
</ol>
<h2 data-id="heading-20">å¸¸è§é—®é¢˜</h2>
<h3 data-id="heading-21">ä½¿ç”¨ cookie æ—¶éœ€è¦è€ƒè™‘çš„é—®é¢˜</h3>
<ul>
<li>å› ä¸ºå­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼Œå®¹æ˜“è¢«å®¢æˆ·ç«¯ç¯¡æ”¹ï¼Œä½¿ç”¨å‰éœ€è¦éªŒè¯åˆæ³•æ€§</li>
<li>ä¸è¦å­˜å‚¨æ•æ„Ÿæ•°æ®ï¼Œæ¯”å¦‚ç”¨æˆ·å¯†ç ï¼Œè´¦æˆ·ä½™é¢</li>
<li>ä½¿ç”¨ httpOnly åœ¨ä¸€å®šç¨‹åº¦ä¸Šæé«˜å®‰å…¨æ€§</li>
<li>å°½é‡å‡å°‘ cookie çš„ä½“ç§¯ï¼Œèƒ½å­˜å‚¨çš„æ•°æ®é‡ä¸èƒ½è¶…è¿‡ 4kb</li>
<li>è®¾ç½®æ­£ç¡®çš„ domain å’Œ pathï¼Œå‡å°‘æ•°æ®ä¼ è¾“</li>
<li>cookie æ— æ³•è·¨åŸŸ</li>
<li>ä¸€ä¸ªæµè§ˆå™¨é’ˆå¯¹ä¸€ä¸ªç½‘ç«™æœ€å¤šå­˜ 20 ä¸ªCookieï¼Œæµè§ˆå™¨ä¸€èˆ¬åªå…è®¸å­˜æ”¾ 300 ä¸ªCookie</li>
<li>ç§»åŠ¨ç«¯å¯¹ cookie çš„æ”¯æŒä¸æ˜¯å¾ˆå¥½ï¼Œè€Œ session éœ€è¦åŸºäº cookie å®ç°ï¼Œæ‰€ä»¥ç§»åŠ¨ç«¯å¸¸ç”¨çš„æ˜¯ token</li>
</ul>
<h3 data-id="heading-22">ä½¿ç”¨ session æ—¶éœ€è¦è€ƒè™‘çš„é—®é¢˜</h3>
<ul>
<li>å°† session å­˜å‚¨åœ¨æœåŠ¡å™¨é‡Œé¢ï¼Œå½“ç”¨æˆ·åŒæ—¶åœ¨çº¿é‡æ¯”è¾ƒå¤šæ—¶ï¼Œè¿™äº› session ä¼šå æ®è¾ƒå¤šçš„å†…å­˜ï¼Œéœ€è¦åœ¨æœåŠ¡ç«¯å®šæœŸçš„å»æ¸…ç†è¿‡æœŸçš„ session</li>
<li>å½“ç½‘ç«™é‡‡ç”¨é›†ç¾¤éƒ¨ç½²çš„æ—¶å€™ï¼Œä¼šé‡åˆ°å¤šå° web æœåŠ¡å™¨ä¹‹é—´å¦‚ä½•åš session å…±äº«çš„é—®é¢˜ã€‚å› ä¸º session æ˜¯ç”±å•ä¸ªæœåŠ¡å™¨åˆ›å»ºçš„ï¼Œä½†æ˜¯å¤„ç†ç”¨æˆ·è¯·æ±‚çš„æœåŠ¡å™¨ä¸ä¸€å®šæ˜¯é‚£ä¸ªåˆ›å»º session çš„æœåŠ¡å™¨ï¼Œé‚£ä¹ˆè¯¥æœåŠ¡å™¨å°±æ— æ³•æ‹¿åˆ°ä¹‹å‰å·²ç»æ”¾å…¥åˆ° session ä¸­çš„ç™»å½•å‡­è¯ä¹‹ç±»çš„ä¿¡æ¯äº†ã€‚</li>
<li>å½“å¤šä¸ªåº”ç”¨è¦å…±äº« session æ—¶ï¼Œé™¤äº†ä»¥ä¸Šé—®é¢˜ï¼Œè¿˜ä¼šé‡åˆ°è·¨åŸŸé—®é¢˜ï¼Œå› ä¸ºä¸åŒçš„åº”ç”¨å¯èƒ½éƒ¨ç½²çš„ä¸»æœºä¸ä¸€æ ·ï¼Œéœ€è¦åœ¨å„ä¸ªåº”ç”¨åšå¥½ cookie è·¨åŸŸçš„å¤„ç†ã€‚</li>
<li>sessionId æ˜¯å­˜å‚¨åœ¨ cookie ä¸­çš„ï¼Œå‡å¦‚æµè§ˆå™¨ç¦æ­¢ cookie æˆ–ä¸æ”¯æŒ cookie æ€ä¹ˆåŠï¼Ÿä¸€èˆ¬ä¼šæŠŠ sessionId è·Ÿåœ¨ url å‚æ•°åé¢å³é‡å†™ urlï¼Œæ‰€ä»¥ session ä¸ä¸€å®šéå¾—éœ€è¦é  cookie å®ç°</li>
<li>ç§»åŠ¨ç«¯å¯¹ cookie çš„æ”¯æŒä¸æ˜¯å¾ˆå¥½ï¼Œè€Œ session éœ€è¦åŸºäº cookie å®ç°ï¼Œæ‰€ä»¥ç§»åŠ¨ç«¯å¸¸ç”¨çš„æ˜¯ token</li>
</ul>
<h3 data-id="heading-23">ä½¿ç”¨ token æ—¶éœ€è¦è€ƒè™‘çš„é—®é¢˜</h3>
<ul>
<li>å¦‚æœè®¤ä¸ºç”¨æ•°æ®åº“æ¥å­˜å‚¨ token ä¼šå¯¼è‡´æŸ¥è¯¢æ—¶é—´å¤ªé•¿ï¼Œå¯ä»¥é€‰æ‹©æ”¾åœ¨å†…å­˜å½“ä¸­ã€‚æ¯”å¦‚ redis å¾ˆé€‚åˆå¯¹ token æŸ¥è¯¢çš„éœ€æ±‚ã€‚</li>
<li>token å®Œå…¨ç”±åº”ç”¨ç®¡ç†ï¼Œæ‰€ä»¥å®ƒå¯ä»¥é¿å¼€åŒæºç­–ç•¥</li>
<li>token å¯ä»¥é¿å… CSRF æ”»å‡»(å› ä¸ºä¸éœ€è¦ cookie äº†)</li>
<li>ç§»åŠ¨ç«¯å¯¹ cookie çš„æ”¯æŒä¸æ˜¯å¾ˆå¥½ï¼Œè€Œ session éœ€è¦åŸºäº cookie å®ç°ï¼Œæ‰€ä»¥ç§»åŠ¨ç«¯å¸¸ç”¨çš„æ˜¯ token</li>
</ul>
<h3 data-id="heading-24">ä½¿ç”¨ JWT æ—¶éœ€è¦è€ƒè™‘çš„é—®é¢˜</h3>
<ul>
<li>å› ä¸º JWT å¹¶ä¸ä¾èµ– Cookie çš„ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ä»»ä½•åŸŸåæä¾› API æœåŠ¡è€Œä¸éœ€è¦æ‹…å¿ƒè·¨åŸŸèµ„æºå…±äº«é—®é¢˜ï¼ˆCORSï¼‰</li>
<li>JWT é»˜è®¤æ˜¯ä¸åŠ å¯†ï¼Œä½†ä¹Ÿæ˜¯å¯ä»¥åŠ å¯†çš„ã€‚ç”ŸæˆåŸå§‹ Token ä»¥åï¼Œå¯ä»¥ç”¨å¯†é’¥å†åŠ å¯†ä¸€æ¬¡ã€‚</li>
<li>JWT ä¸åŠ å¯†çš„æƒ…å†µä¸‹ï¼Œä¸èƒ½å°†ç§˜å¯†æ•°æ®å†™å…¥ JWTã€‚</li>
<li>JWT ä¸ä»…å¯ä»¥ç”¨äºè®¤è¯ï¼Œä¹Ÿå¯ä»¥ç”¨äºäº¤æ¢ä¿¡æ¯ã€‚æœ‰æ•ˆä½¿ç”¨ JWTï¼Œå¯ä»¥é™ä½æœåŠ¡å™¨æŸ¥è¯¢æ•°æ®åº“çš„æ¬¡æ•°ã€‚</li>
<li>JWT æœ€å¤§çš„ä¼˜åŠ¿æ˜¯æœåŠ¡å™¨ä¸å†éœ€è¦å­˜å‚¨ Sessionï¼Œä½¿å¾—æœåŠ¡å™¨è®¤è¯é‰´æƒä¸šåŠ¡å¯ä»¥æ–¹ä¾¿æ‰©å±•ã€‚ä½†è¿™ä¹Ÿæ˜¯ JWT æœ€å¤§çš„ç¼ºç‚¹ï¼šç”±äºæœåŠ¡å™¨ä¸éœ€è¦å­˜å‚¨ Session çŠ¶æ€ï¼Œå› æ­¤ä½¿ç”¨è¿‡ç¨‹ä¸­æ— æ³•åºŸå¼ƒæŸä¸ª Token æˆ–è€…æ›´æ”¹ Token çš„æƒé™ã€‚ä¹Ÿå°±æ˜¯è¯´ä¸€æ—¦ JWT ç­¾å‘äº†ï¼Œåˆ°æœŸä¹‹å‰å°±ä¼šå§‹ç»ˆæœ‰æ•ˆï¼Œé™¤éæœåŠ¡å™¨éƒ¨ç½²é¢å¤–çš„é€»è¾‘ã€‚</li>
<li>JWT æœ¬èº«åŒ…å«äº†è®¤è¯ä¿¡æ¯ï¼Œä¸€æ—¦æ³„éœ²ï¼Œä»»ä½•äººéƒ½å¯ä»¥è·å¾—è¯¥ä»¤ç‰Œçš„æ‰€æœ‰æƒé™ã€‚ä¸ºäº†å‡å°‘ç›—ç”¨ï¼ŒJWTçš„æœ‰æ•ˆæœŸåº”è¯¥è®¾ç½®å¾—æ¯”è¾ƒçŸ­ã€‚å¯¹äºä¸€äº›æ¯”è¾ƒé‡è¦çš„æƒé™ï¼Œä½¿ç”¨æ—¶åº”è¯¥å†æ¬¡å¯¹ç”¨æˆ·è¿›è¡Œè®¤è¯ã€‚</li>
<li>JWT é€‚åˆä¸€æ¬¡æ€§çš„å‘½ä»¤è®¤è¯ï¼Œé¢å‘ä¸€ä¸ªæœ‰æ•ˆæœŸæçŸ­çš„ JWTï¼Œå³ä½¿æš´éœ²äº†å±é™©ä¹Ÿå¾ˆå°ï¼Œç”±äºæ¯æ¬¡æ“ä½œéƒ½ä¼šç”Ÿæˆæ–°çš„ JWTï¼Œå› æ­¤ä¹Ÿæ²¡å¿…è¦ä¿å­˜ JWTï¼ŒçœŸæ­£å®ç°æ— çŠ¶æ€ã€‚</li>
<li>ä¸ºäº†å‡å°‘ç›—ç”¨ï¼ŒJWT ä¸åº”è¯¥ä½¿ç”¨ HTTP åè®®æ˜ç ä¼ è¾“ï¼Œè¦ä½¿ç”¨ HTTPS åè®®ä¼ è¾“ã€‚</li>
</ul>
<h3 data-id="heading-25">ä½¿ç”¨åŠ å¯†ç®—æ³•æ—¶éœ€è¦è€ƒè™‘çš„é—®é¢˜</h3>
<ul>
<li>ç»ä¸è¦ä»¥æ˜æ–‡å­˜å‚¨å¯†ç </li>
<li>æ°¸è¿œä½¿ç”¨ å“ˆå¸Œç®—æ³• æ¥å¤„ç†å¯†ç ï¼Œç»ä¸è¦ä½¿ç”¨ Base64 æˆ–å…¶ä»–ç¼–ç æ–¹å¼æ¥å­˜å‚¨å¯†ç ï¼Œè¿™å’Œä»¥æ˜æ–‡å­˜å‚¨å¯†ç æ˜¯ä¸€æ ·çš„ï¼Œä½¿ç”¨å“ˆå¸Œï¼Œè€Œä¸è¦ä½¿ç”¨ç¼–ç ã€‚ç¼–ç ä»¥åŠåŠ å¯†ï¼Œéƒ½æ˜¯åŒå‘çš„è¿‡ç¨‹ï¼Œè€Œå¯†ç æ˜¯ä¿å¯†çš„ï¼Œåº”è¯¥åªè¢«å®ƒçš„æ‰€æœ‰è€…çŸ¥é“ï¼Œ è¿™ä¸ªè¿‡ç¨‹å¿…é¡»æ˜¯å•å‘çš„ã€‚å“ˆå¸Œæ­£æ˜¯ç”¨äºåšè¿™ä¸ªçš„ï¼Œä»æ¥æ²¡æœ‰è§£å“ˆå¸Œè¿™ç§è¯´æ³•ï¼Œ ä½†æ˜¯ç¼–ç å°±å­˜åœ¨è§£ç ï¼ŒåŠ å¯†å°±å­˜åœ¨è§£å¯†ã€‚</li>
<li>ç»ä¸è¦ä½¿ç”¨å¼±å“ˆå¸Œæˆ–å·²è¢«ç ´è§£çš„å“ˆå¸Œç®—æ³•ï¼Œåƒ MD5 æˆ– SHA1 ï¼Œåªä½¿ç”¨å¼ºå¯†ç å“ˆå¸Œç®—æ³•ã€‚</li>
<li>ç»ä¸è¦ä»¥æ˜æ–‡å½¢å¼æ˜¾ç¤ºæˆ–å‘é€å¯†ç ï¼Œå³ä½¿æ˜¯å¯¹å¯†ç çš„æ‰€æœ‰è€…ä¹Ÿåº”è¯¥è¿™æ ·ã€‚å¦‚æœéœ€è¦ â€œå¿˜è®°å¯†ç â€ çš„åŠŸèƒ½ï¼Œå¯ä»¥éšæœºç”Ÿæˆä¸€ä¸ªæ–°çš„ä¸€æ¬¡æ€§çš„ï¼ˆè¿™ç‚¹å¾ˆé‡è¦ï¼‰å¯†ç ï¼Œç„¶åæŠŠè¿™ä¸ªå¯†ç å‘é€ç»™ç”¨æˆ·ã€‚</li>
</ul>
<h3 data-id="heading-26">åˆ†å¸ƒå¼æ¶æ„ä¸‹ session å…±äº«æ–¹æ¡ˆ</h3>
<h4 data-id="heading-27">1. session å¤åˆ¶</h4>
<p>ä»»ä½•ä¸€ä¸ªæœåŠ¡å™¨ä¸Šçš„ session å‘ç”Ÿæ”¹å˜ï¼ˆå¢åˆ æ”¹ï¼‰ï¼Œè¯¥èŠ‚ç‚¹ä¼šæŠŠè¿™ä¸ª session çš„æ‰€æœ‰å†…å®¹åºåˆ—åŒ–ï¼Œç„¶åå¹¿æ’­ç»™æ‰€æœ‰å…¶å®ƒèŠ‚ç‚¹ï¼Œä¸ç®¡å…¶ä»–æœåŠ¡å™¨éœ€ä¸éœ€è¦ session ï¼Œä»¥æ­¤æ¥ä¿è¯ session åŒæ­¥<br/>
ä¼˜ç‚¹ï¼šå¯å®¹é”™ï¼Œå„ä¸ªæœåŠ¡å™¨é—´ session èƒ½å¤Ÿå®æ—¶å“åº”ã€‚ç¼ºç‚¹ï¼šä¼šå¯¹ç½‘ç»œè´Ÿè·é€ æˆä¸€å®šå‹åŠ›ï¼Œå¦‚æœ session é‡å¤§çš„è¯å¯èƒ½ä¼šé€ æˆç½‘ç»œå µå¡ï¼Œæ‹–æ…¢æœåŠ¡å™¨æ€§èƒ½ã€‚</p>
<h4 data-id="heading-28">2. ç²˜æ€§ session /IP ç»‘å®šç­–ç•¥</h4>
<ul>
<li>é‡‡ç”¨ Ngnix ä¸­çš„ ip_hash æœºåˆ¶ï¼Œå°†æŸä¸ª ipçš„æ‰€æœ‰è¯·æ±‚éƒ½å®šå‘åˆ°åŒä¸€å°æœåŠ¡å™¨ä¸Šï¼Œå³å°†ç”¨æˆ·ä¸æœåŠ¡å™¨ç»‘å®šã€‚ç”¨æˆ·ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶ï¼Œè´Ÿè½½å‡è¡¡å™¨å°†ç”¨æˆ·çš„è¯·æ±‚è½¬å‘åˆ°äº† A æœåŠ¡å™¨ä¸Šï¼Œå¦‚æœè´Ÿè½½å‡è¡¡å™¨è®¾ç½®äº†ç²˜æ€§ session çš„è¯ï¼Œé‚£ä¹ˆç”¨æˆ·ä»¥åçš„æ¯æ¬¡è¯·æ±‚éƒ½ä¼šè½¬å‘åˆ° A æœåŠ¡å™¨ä¸Šï¼Œç›¸å½“äºæŠŠç”¨æˆ·å’Œ A æœåŠ¡å™¨ç²˜åˆ°äº†ä¸€å—ï¼Œè¿™å°±æ˜¯ç²˜æ€§ session æœºåˆ¶ã€‚</li>
</ul>
<p>ä¼˜ç‚¹ï¼šç®€å•ï¼Œä¸éœ€è¦å¯¹ session åšä»»ä½•å¤„ç†ã€‚ç¼ºç‚¹ï¼šç¼ºä¹å®¹é”™æ€§ï¼Œå¦‚æœå½“å‰è®¿é—®çš„æœåŠ¡å™¨å‘ç”Ÿæ•…éšœï¼Œç”¨æˆ·è¢«è½¬ç§»åˆ°ç¬¬äºŒä¸ªæœåŠ¡å™¨ä¸Šæ—¶ï¼Œä»–çš„ session ä¿¡æ¯éƒ½å°†å¤±æ•ˆã€‚é€‚ç”¨åœºæ™¯ï¼šå‘ç”Ÿæ•…éšœå¯¹å®¢æˆ·äº§ç”Ÿçš„å½±å“è¾ƒå°ï¼›æœåŠ¡å™¨å‘ç”Ÿæ•…éšœæ˜¯ä½æ¦‚ç‡äº‹ä»¶ ã€‚å®ç°æ–¹å¼ï¼šä»¥ Nginx ä¸ºä¾‹ï¼Œåœ¨ upstream æ¨¡å—é…ç½® ip_hash å±æ€§å³å¯å®ç°ç²˜æ€§ sessionã€‚</p>
<h4 data-id="heading-29">3. session å…±äº«ï¼ˆå¸¸ç”¨ï¼‰</h4>
<ul>
<li>ä½¿ç”¨åˆ†å¸ƒå¼ç¼“å­˜æ–¹æ¡ˆæ¯”å¦‚ Memcached ã€Redis æ¥ç¼“å­˜ sessionï¼Œä½†æ˜¯è¦æ±‚ Memcached æˆ– Redis å¿…é¡»æ˜¯é›†ç¾¤</li>
<li>æŠŠ session æ”¾åˆ° Redis ä¸­å­˜å‚¨ï¼Œè™½ç„¶æ¶æ„ä¸Šå˜å¾—å¤æ‚ï¼Œå¹¶ä¸”éœ€è¦å¤šè®¿é—®ä¸€æ¬¡ Redis ï¼Œä½†æ˜¯è¿™ç§æ–¹æ¡ˆå¸¦æ¥çš„å¥½å¤„ä¹Ÿæ˜¯å¾ˆå¤§çš„ï¼š</li>
</ul>

<ul>
<li>
<ul>
<li>å®ç°äº† session å…±äº«ï¼›</li>
<li>å¯ä»¥æ°´å¹³æ‰©å±•ï¼ˆå¢åŠ  Redis æœåŠ¡å™¨ï¼‰ï¼›</li>
<li>æœåŠ¡å™¨é‡å¯ session ä¸ä¸¢å¤±ï¼ˆä¸è¿‡ä¹Ÿè¦æ³¨æ„ session åœ¨ Redis ä¸­çš„åˆ·æ–°/å¤±æ•ˆæœºåˆ¶ï¼‰ï¼›</li>
<li>ä¸ä»…å¯ä»¥è·¨æœåŠ¡å™¨ session å…±äº«ï¼Œç”šè‡³å¯ä»¥è·¨å¹³å°ï¼ˆä¾‹å¦‚ç½‘é¡µç«¯å’Œ APP ç«¯ï¼‰</li>
</ul>
</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/029470ed1c75477cb0b51431c0ac6af1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5bCP5YGH:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768568239&amp;x-signature=gSCNJvpZGBSWtDYFcYelugrccxY%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-30">4. session æŒä¹…åŒ–</h4>
<p>å°† session å­˜å‚¨åˆ°æ•°æ®åº“ä¸­ï¼Œä¿è¯ session çš„æŒä¹…åŒ–<br/>
ä¼˜ç‚¹ï¼šæœåŠ¡å™¨å‡ºç°é—®é¢˜ï¼Œsession ä¸ä¼šä¸¢å¤±ç¼ºç‚¹ï¼šå¦‚æœç½‘ç«™çš„è®¿é—®é‡å¾ˆå¤§ï¼ŒæŠŠ session å­˜å‚¨åˆ°æ•°æ®åº“ä¸­ï¼Œä¼šå¯¹æ•°æ®åº“é€ æˆå¾ˆå¤§å‹åŠ›ï¼Œè¿˜éœ€è¦å¢åŠ é¢å¤–çš„å¼€é”€ç»´æŠ¤æ•°æ®åº“ã€‚</p>
<h3 data-id="heading-31">åªè¦å…³é—­æµè§ˆå™¨ ï¼Œsession çœŸçš„å°±æ¶ˆå¤±äº†ï¼Ÿ</h3>
<p>ä¸å¯¹ã€‚å¯¹ session æ¥è¯´ï¼Œé™¤éç¨‹åºé€šçŸ¥æœåŠ¡å™¨åˆ é™¤ä¸€ä¸ª sessionï¼Œå¦åˆ™æœåŠ¡å™¨ä¼šä¸€ç›´ä¿ç•™ï¼Œç¨‹åºä¸€èˆ¬éƒ½æ˜¯åœ¨ç”¨æˆ·åš log off çš„æ—¶å€™å‘ä¸ªæŒ‡ä»¤å»åˆ é™¤ sessionã€‚ç„¶è€Œæµè§ˆå™¨ä»æ¥ä¸ä¼šä¸»åŠ¨åœ¨å…³é—­ä¹‹å‰é€šçŸ¥æœåŠ¡å™¨å®ƒå°†è¦å…³é—­ï¼Œå› æ­¤æœåŠ¡å™¨æ ¹æœ¬ä¸ä¼šæœ‰æœºä¼šçŸ¥é“æµè§ˆå™¨å·²ç»å…³é—­ï¼Œä¹‹æ‰€ä»¥ä¼šæœ‰è¿™ç§é”™è§‰ï¼Œæ˜¯å¤§éƒ¨åˆ† session æœºåˆ¶éƒ½ä½¿ç”¨ä¼šè¯ cookie æ¥ä¿å­˜ session idï¼Œè€Œå…³é—­æµè§ˆå™¨åè¿™ä¸ª session id å°±æ¶ˆå¤±äº†ï¼Œå†æ¬¡è¿æ¥æœåŠ¡å™¨æ—¶ä¹Ÿå°±æ— æ³•æ‰¾åˆ°åŸæ¥çš„ sessionã€‚å¦‚æœæœåŠ¡å™¨è®¾ç½®çš„ cookie è¢«ä¿å­˜åœ¨ç¡¬ç›˜ä¸Šï¼Œæˆ–è€…ä½¿ç”¨æŸç§æ‰‹æ®µæ”¹å†™æµè§ˆå™¨å‘å‡ºçš„ HTTP è¯·æ±‚å¤´ï¼ŒæŠŠåŸæ¥çš„ session id å‘é€ç»™æœåŠ¡å™¨ï¼Œåˆ™å†æ¬¡æ‰“å¼€æµè§ˆå™¨ä»ç„¶èƒ½å¤Ÿæ‰“å¼€åŸæ¥çš„ sessionã€‚æ°æ°æ˜¯ç”±äºå…³é—­æµè§ˆå™¨ä¸ä¼šå¯¼è‡´ session è¢«åˆ é™¤ï¼Œè¿«ä½¿æœåŠ¡å™¨ä¸º session è®¾ç½®äº†ä¸€ä¸ªå¤±æ•ˆæ—¶é—´ï¼Œå½“è·ç¦»å®¢æˆ·ç«¯ä¸Šä¸€æ¬¡ä½¿ç”¨ session çš„æ—¶é—´è¶…è¿‡è¿™ä¸ªå¤±æ•ˆæ—¶é—´æ—¶ï¼ŒæœåŠ¡å™¨å°±è®¤ä¸ºå®¢æˆ·ç«¯å·²ç»åœæ­¢äº†æ´»åŠ¨ï¼Œæ‰ä¼šæŠŠ session åˆ é™¤ä»¥èŠ‚çœå­˜å‚¨ç©ºé—´ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[çŸ¥è¯†è’¸é¦å­¦ä¹ æ€»ç»“]]></title>    <link>https://juejin.cn/post/7593145583347941418</link>    <guid>https://juejin.cn/post/7593145583347941418</guid>    <pubDate>2026-01-09T11:13:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593145583347941418" data-draft-id="7593145583347925034" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="çŸ¥è¯†è’¸é¦å­¦ä¹ æ€»ç»“"/> <meta itemprop="keywords" content="ç®—æ³•,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-09T11:13:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çŸ®äººä¸‰ç­‰"/> <meta itemprop="url" content="https://juejin.cn/user/4350105576808472"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            çŸ¥è¯†è’¸é¦å­¦ä¹ æ€»ç»“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4350105576808472/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çŸ®äººä¸‰ç­‰
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T11:13:11.000Z" title="Fri Jan 09 2026 11:13:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»23åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<ol>
<li>æ¨¡å‹è’¸é¦æ˜¯ä¸€ç§å°†å¤§æ¨¡å‹çš„çŸ¥è¯†ä¼ é€’ç»™å°æ¨¡å‹çš„è¿‡ç¨‹ï¼Œâ€œå¤§æ¨¡å‹â€é€šå¸¸æ˜¯ä¸€ä¸ªæ€§èƒ½è¾ƒå¥½çš„å¤æ‚æ¨¡å‹ï¼Œè€Œâ€œå°æ¨¡å‹â€åˆ™æ˜¯ä¸€ä¸ªæ›´ç®€å•ã€è®¡ç®—é‡è¾ƒå°çš„æ¨¡å‹ã€‚
<ol>
<li>é€šè¿‡æ¨¡å‹è’¸é¦ï¼Œå¯ä»¥è®©å°æ¨¡å‹å­¦åˆ°å¤§æ¨¡å‹çš„ä¸€äº›å…³é”®çŸ¥è¯†ï¼Œä»è€Œåœ¨ä¿æŒè¾ƒé«˜æ€§èƒ½çš„åŒæ—¶ï¼Œé™ä½è®¡ç®—æˆæœ¬å’Œå­˜å‚¨éœ€æ±‚ã€‚</li>
<li>è’¸é¦ç®—æ³•çš„å…³é”®é—®é¢˜æ˜¯å¦‚ä½•ä»è€å¸ˆæ¨¡å‹è½¬æ¢çš„çŸ¥è¯†ä¼ æˆç»™å­¦ç”Ÿæ¨¡å‹ã€‚</li>
<li>ä¸€ä¸ªçŸ¥è¯†è’¸é¦ç³»ç»Ÿç”±ä¸‰ä¸ªä¸»è¦éƒ¨åˆ†ç»„æˆï¼šçŸ¥è¯†ï¼Œè’¸é¦ç®—æ³•ï¼Œå’Œå¸ˆç”Ÿæ¶æ„ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/25c953a52ad4409bb3f960c7038a6b3d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-u5Lq65LiJ562J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768561991&amp;x-signature=ZOgEpZDmnD5%2F0jNX2FlJUwTiBVQ%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></li>
</ol>
</li>
</ol>
<h2 data-id="heading-1">æ ‡ç­¾</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/87bc82048efe42169a81ee57b0c0511d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-u5Lq65LiJ562J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768561991&amp;x-signature=co5PBuFQFygAj9bJ4rbDB2IL%2BeQ%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<ol>
<li>è½¯æ ‡ç­¾å’Œç¡¬æ ‡ç­¾ï¼šåœ¨æœºå™¨å­¦ä¹ å’Œæ·±åº¦å­¦ä¹ ä¸­ï¼Œç¡¬æ ‡ç­¾ï¼ˆHard Labelsï¼‰å’Œè½¯æ ‡ç­¾ï¼ˆSoft Labelsï¼‰ æ˜¯ä¸¤ç§ä¸åŒçš„æ ‡ç­¾è¡¨ç¤ºæ–¹å¼ã€‚
<ol>
<li>ç¡¬æ ‡ç­¾ï¼ˆHard Labelsï¼‰åœ¨æ¨¡å‹è’¸é¦ä¸­ï¼Œç¡¬æ ‡ç­¾æ˜¯æŒ‡ çœŸå®æ•°æ®çš„æ ‡æ³¨ï¼Œé€šå¸¸æ˜¯ ç‹¬çƒ­ç¼–ç ï¼ˆOne-Hot Encodingï¼‰ çš„å½¢å¼ã€‚ç¡¬æ ‡ç­¾è¡¨ç¤ºæ¯ä¸ªæ ·æœ¬çš„çœŸå®ç±»åˆ«ï¼Œç”¨äº ç›‘ç£å­¦ä¹ ã€‚
<ol>
<li>ç‰¹ç‚¹ æ˜¯ç¦»æ•£æ€§å’Œæ˜ç¡®æ€§ï¼š
<ol>
<li>ç¦»æ•£æ€§ï¼šç¡¬æ ‡ç­¾æ˜¯ç¦»æ•£çš„ï¼Œæ¯ä¸ªæ ·æœ¬åªæœ‰ä¸€ä¸ªç±»åˆ«è¢«æ ‡è®°ä¸º1ï¼Œå…¶ä½™ç±»åˆ«ä¸º0ã€‚</li>
<li>æ˜ç¡®æ€§ï¼šç¡¬æ ‡ç­¾ç›´æ¥åæ˜ äº†æ•°æ®çš„çœŸå®ç±»åˆ«ï¼Œæ²¡æœ‰æ¦‚ç‡ä¿¡æ¯ã€‚</li>
</ol>
</li>
</ol>
</li>
<li>è½¯æ ‡ç­¾ï¼ˆSoft Labelsï¼‰ åœ¨æ¨¡å‹è’¸é¦ä¸­ï¼Œè½¯æ ‡ç­¾æ˜¯æŒ‡æ•™å¸ˆæ¨¡å‹çš„è¾“å‡ºæ¦‚ç‡åˆ†å¸ƒã€‚æ•™å¸ˆæ¨¡å‹å¯¹æ¯ä¸ªæ ·æœ¬è¿›è¡Œé¢„æµ‹ï¼Œè¾“å‡ºæ¯ä¸ªç±»åˆ«çš„æ¦‚ç‡å€¼ï¼Œè¿™äº›æ¦‚ç‡å€¼æ„æˆäº†è½¯æ ‡ç­¾ã€‚</li>
<li>æš—çŸ¥è¯†ï¼šæŒ‡çš„æ˜¯<strong>æ•™å¸ˆæ¨¡å‹å­¦åˆ°çš„ã€æ— æ³•é€šè¿‡äººå·¥æ ‡æ³¨çš„ â€œç¡¬æ ‡ç­¾â€ ç›´æ¥ä½“ç°çš„éšæ€§è§„å¾‹ä¸å…³è”ä¿¡æ¯</strong>ï¼Œæ˜¯æ•™å¸ˆæ¨¡å‹åœ¨æµ·é‡æ•°æ®ä¸Šè®­ç»ƒåå†…åŒ–çš„ â€œç»éªŒâ€ã€‚
<ol>
<li>ä¸¾ä¾‹å¦‚ä¸‹ï¼šåˆ¤æ–­å¥å­ â€œè‹¹æœå‘å¸ƒä¼šå³å°†å¬å¼€â€ çš„ç±»åˆ«æ˜¯<code>[ç§‘æŠ€, ç¾é£Ÿ, ä½“è‚²]</code>ã€‚
<ol>
<li>ç¡¬æ ‡ç­¾ï¼š<code>[1,0,0]</code>ï¼ˆç§‘æŠ€ï¼‰</li>
<li>æš—çŸ¥è¯†ï¼šæ•™å¸ˆè¾“å‡º<code>[0.85, 0.1, 0.05]</code>ã€‚å…¶ä¸­<code>0.1</code>çš„ç¾é£Ÿæ¦‚ç‡ï¼Œå°±æ˜¯æš—çŸ¥è¯† (å› ä¸º â€œè‹¹æœâ€ ä¹Ÿå¯ä»¥æŒ‡æ°´æœï¼Œæ¨¡å‹æ•æ‰åˆ°äº†è¿™ä¸ªä¸€è¯å¤šä¹‰çš„éšæ€§å…³è”ã€‚)</li>
</ol>
</li>
</ol>
</li>
<li>æš—çŸ¥è¯†çš„æ ¸å¿ƒç‰¹ç‚¹
<ol>
<li>éšå«æ€§ï¼šæ— æ³•é€šè¿‡äººå·¥æ ‡æ³¨å¾—åˆ°ï¼Œæ˜¯æ¨¡å‹ä»æ•°æ®ä¸­è‡ªä¸»å­¦ä¹ åˆ°çš„æ¨¡å¼ã€‚</li>
<li>æ³›åŒ–æ€§ï¼šåŒ…å«ç±»åˆ«é—´çš„ç›¸ä¼¼æ€§ã€å…³è”æ€§ï¼Œèƒ½å¸®åŠ©å­¦ç”Ÿæ¨¡å‹æ›´å¥½åœ°å¤„ç†æ¨¡ç³Šæ ·æœ¬ã€‚</li>
<li>æ¸©åº¦ä¾èµ–ï¼šæš—çŸ¥è¯†çš„æå–éœ€è¦é€šè¿‡**æ¸©åº¦ç³»æ•° T **è½¯åŒ–æ•™å¸ˆæ¨¡å‹çš„è¾“å‡ºæ¦‚ç‡ã€‚T è¶Šå¤§ï¼Œæ¦‚ç‡åˆ†å¸ƒè¶Šå¹³æ»‘ï¼Œæš—çŸ¥è¯†çš„ä½“ç°è¶Šå……åˆ†
<ol>
<li>logitsï¼š<strong>logitsï¼ˆå¯¹æ•°å‡ ç‡ï¼‰æŒ‡çš„æ˜¯æ¨¡å‹æœ€åä¸€å±‚å…¨è¿æ¥å±‚çš„åŸå§‹è¾“å‡º</strong>â€”â€” å®ƒæ˜¯è¿˜æ²¡ç»è¿‡ Softmax æ¿€æ´»å‡½æ•°ã€æ²¡æœ‰è¢«å½’ä¸€åŒ–æˆæ¦‚ç‡çš„æ•°å€¼ï¼Œé€šä¿—ç†è§£å°±æ˜¯æ¯”å¦‚æ¯”èµ›è¯„å§”æ‰“åˆ†ï¼šæ­¤æ—¶åˆšè¿›è¡Œæ‰“åˆ†ï¼Œè¿˜æ²¡æœ‰æ ¹æ®åˆ†æ•°è¿›è¡Œåˆ†ç»„çš„é˜¶æ®µè¾“å‡º</li>
</ol>
</li>
</ol>
</li>
<li>æš—çŸ¥è¯†ä¸çŸ¥è¯†è’¸é¦çš„å…³ç³»: çŸ¥è¯†è’¸é¦çš„æ ¸å¿ƒå°±æ˜¯<strong>æŠŠæš—çŸ¥è¯†ä»æ•™å¸ˆæ¨¡å‹è¿ç§»åˆ°å­¦ç”Ÿæ¨¡å‹</strong>ã€‚
<ul>
<li>å¦‚æœåªè®©å­¦ç”Ÿå­¦ä¹ ç¡¬æ ‡ç­¾ï¼Œå­¦ç”Ÿåªèƒ½å­¦ä¼š â€œåˆ†ç±»ç»“æœâ€ï¼Œä½†å­¦ä¸ä¼š â€œåˆ†ç±»çš„é€»è¾‘â€ï¼›</li>
<li>ç»“åˆè½¯æ ‡ç­¾å­¦ä¹ æš—çŸ¥è¯†ï¼Œå­¦ç”Ÿä¸ä»…èƒ½åˆ¤æ–­ â€œæ˜¯ä»€ä¹ˆâ€ï¼Œè¿˜èƒ½ç†è§£ â€œä¸ºä»€ä¹ˆåƒâ€ï¼Œä»è€Œåœ¨æ ·æœ¬åˆ†å¸ƒå¤æ‚ã€æ•°æ®é‡å°‘çš„åœºæ™¯ä¸‹ï¼Œè¾¾åˆ°æ¥è¿‘æ•™å¸ˆæ¨¡å‹çš„æ³›åŒ–æ€§èƒ½ã€‚</li>
</ul>
</li>
</ol>
</li>
</ol>
<h2 data-id="heading-2">è’¸é¦è¿‡ç¨‹</h2>
<ol>
<li>å˜é‡ä»¥åŠå…¬å¼è¯¦è§£ï¼š
<ol>
<li>Zi(T) ï¼šè¡¨ç¤ºæ•™å¸ˆæ¨¡å‹å¯¹ç¬¬ i ç±»çš„ logitsï¼›  Zi(S)åŒç†è¡¨ç¤ºå­¦ç”Ÿæ¨¡å‹çš„ logits</li>
<li>yi è¡¨ç¤ºçœŸå®æ ‡ç­¾ï¼Œä¹Ÿå°±æ˜¯ç¡¬æ ‡ç­¾</li>
<li>Softmax(Zi) = Pi = e^(zi  ) / âˆ‘j e ^ (zj)</li>
<li>è½¯åŒ–æ¦‚ç‡å…¬å¼(å¸¦æœ‰æ¸©åº¦ T çš„ softmax å…¬å¼ï¼Œç”Ÿæˆè½¯æ ‡ç­¾çš„å·¥å…·)ï¼šPi_T = e^(zi / T ) / âˆ‘j e ^ (zj / T)</li>
<li>äº¤å‰ç†µæŸå¤±å‡½æ•°(å¤šåˆ†ç±»ä¸ºä¾‹)ï¼šL_CE= - âˆ‘i  yi * log(y^)</li>
<li>å›¾åƒä»»åŠ¡ï¼šT=2 ï½ 4ï¼›NLP ä»»åŠ¡ï¼šT=5ï½10</li>
</ol>
</li>
<li>è’¸é¦æŸå¤±çš„è®¡ç®—ï¼šL_total = Î± * L_hard + (1-Î±)  * L_soft             Î± âˆˆ  [0,1]) æ˜¯æŸå¤±æƒé‡ï¼Œé€šå¸¸å– (0.3)ï¼ˆä¾§é‡è½¯æŸå¤±ä¼ é€’æš—çŸ¥è¯†ï¼‰ã€‚
<ol>
<li>è½¯æŸå¤± L_soft æ˜¯ä¼ é€’æ•™å¸ˆçš„"æš—çŸ¥è¯†"ï¼Œåˆ†åˆ«ç»“ç®—æ•™å¸ˆæ¨¡å‹å’Œå­¦ç”Ÿæ¨¡å‹çš„è½¯åŒ–æ¦‚ç‡ï¼š
<ol>
<li>1.4 ä¸­çš„è½¯åŒ–æ¦‚ç‡å…¬å¼åˆ†åˆ«è®¡ç®—å¾—åˆ° Pi_T å’Œ Qi_S</li>
<li>æ³¨ï¼šå…¶å®å°±æ˜¯æ¨¡å‹æœ€åä¸€å±‚å…¨è¿æ¥æˆçš„åŸå§‹è¾“å‡º logitsï¼Œä¸ä½¿ç”¨ softmax è€Œæ˜¯å¸¦æœ‰ T çš„ softmax å¾—åˆ°æ¯ä¸ªç±»åˆ«çš„æ¦‚ç‡å€¼</li>
</ol>
</li>
<li>è®¡ç®—äº¤å‰ç†µæŸå¤±ï¼šL_soft = - âˆ‘i Pi_T   * log(Qi_S)
<ol>
<li>ä½¿ç”¨ 1.5 ä¸­çš„å…¬å¼ï¼Œå…¶å®è¿™å°±æ˜¯ä¸€ä¸ªè®¡ç®—æ•™å¸ˆæ¨¡å‹è¾“å‡ºæ¦‚ç‡å’Œå­¦ç”Ÿæ¦‚ç‡åˆ†å¸ƒçš„å·®å€¼åï¼Œåå‘ä¼ æ’­æ¥è®­ç»ƒå­¦ç”Ÿæ¨¡å‹çš„è¿‡ç¨‹</li>
</ol>
</li>
<li>ç¡¬æŸå¤± L_hard æ˜¯ä¿è¯ä»»åŠ¡æ­£ç¡®æ€§ï¼š
<ol>
<li>æ­¤æ—¶ T=1ï¼Œä¹Ÿå°±æ˜¯è¯´ç¡¬åŒ–æ¦‚ç‡å…¬å¼å°±æ˜¯åŸæœ¬çš„ softmax å‡½æ•°å¾—åˆ°çš„</li>
<li>Pi_Sï¼šç¡¬æ ‡ç­¾ä¹Ÿå°±æ˜¯ softmax å¾—åˆ°çš„ç»“æœï¼Œ L_hard = - âˆ‘i yi   * log(Pi_S)ï¼Œæ­¤æ—¶ä¸éœ€è¦æ•™å¸ˆæ¨¡å‹è®¡ç®—ï¼Œå› ä¸ºç”¨çš„æ˜¯çœŸå®æ ‡ç­¾</li>
</ol>
</li>
<li>softmax å‡½æ•°æ­¤æ—¶ä¹Ÿå¯ä»¥ç”¨ MSE å‡½æ•°æ¥ä»£æ›¿ï¼ŒåŸå› å¦‚ä¸‹ï¼š
<ol>
<li>å½“å‰è®¡ç®—æŸå¤±ç›´æ¥ä½¿ç”¨é¢„æµ‹å€¼å’ŒçœŸå®å€¼çš„å‡æ–¹å’Œï¼ŒåŒæ ·å¯ä»¥è¿›è¡Œåå‘ä¼ æ’­è®­ç»ƒï¼Œè€Œä¸”ä¸ç»è¿‡ softmax è¿˜å¯ä»¥é¿å… Softmax çš„æ•°å€¼å‹ç¼©ï¼Œæ›´ç›´æ¥ä¼ é€’æ•™å¸ˆçš„åŸå§‹åˆ¤æ–­ä¿¡æ¯ã€‚</li>
<li>æ­¤æ—¶çš„ MSE ä¸æ˜¯ä¸ºäº†åˆ†ç±»ï¼Œè€Œæ˜¯å•çº¯ä¸ºäº†è®©å­¦ç”Ÿåˆ†å¸ƒå’Œæ•™å¸ˆåˆ†å¸ƒæ¥è¿‘çš„æ›´å¿«</li>
<li>MSE ä½¿ç”¨åœºæ™¯ï¼š(å¿«é€ŸéªŒè¯ã€å°æ¨¡å‹è’¸é¦)   CE ä½¿ç”¨åœºæ™¯: (æ ¸å¿ƒè’¸é¦åœºæ™¯ï¼Œä¼˜å…ˆé€‰æ‹©)</li>
</ol>
</li>
<li>æ€»ç»“ï¼š logits --&gt; Pi --&gt; L ï¼Œæ•™å¸ˆæ¨¡å‹å‚æ•°å†»ç»“ï¼Œåªæ›´æ–°å­¦ç”Ÿæ¨¡å‹å‚æ•°</li>
</ol>
</li>
</ol>
<h2 data-id="heading-3">1 çŸ¥è¯†</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ebc942849fbb4788b8be7af0e2bcf889~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-u5Lq65LiJ562J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768561991&amp;x-signature=0ve%2BR1YlvreMdEZN6L6EnV4vGGs%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>





























<table><thead><tr><th>çŸ¥è¯†ç±»å‹</th><th>è¿ç§»å¯¹è±¡</th><th>é€‚ç”¨åœºæ™¯</th><th>å…¸å‹æŸå¤±å‡½æ•°</th></tr></thead><tbody><tr><td>åŸºäºå“åº”çš„çŸ¥è¯†</td><td>æ•™å¸ˆæ¨¡å‹å…¨è¿æ¥å±‚è¾“å‡º logits</td><td>å…¥é—¨çº§è’¸é¦ã€å°æ¨¡å‹è½»é‡åŒ–</td><td>äº¤å‰ç†µï¼ˆè½¯æ ‡ç­¾ï¼‰ã€MSEï¼ˆLogits åŒ¹é…ï¼‰</td></tr><tr><td>åŸºäºç‰¹å¾çš„çŸ¥è¯†</td><td>æ•™å¸ˆæ¨¡å‹ä¸­é—´å±‚çš„ç‰¹å¾å‘é‡</td><td>å¤æ‚ä»»åŠ¡ï¼ˆæ£€æµ‹ / åˆ†å‰²ï¼‰ã€å¤§æ¨¡å‹è’¸é¦</td><td>MSEã€ä½™å¼¦ç›¸ä¼¼åº¦ã€Gram çŸ©é˜µæŸå¤±</td></tr><tr><td>åŸºäºå…³ç³»çš„çŸ¥è¯†</td><td>æ•™å¸ˆæ¨¡å‹æ ·æœ¬é—´çš„å…³è”å…³ç³»</td><td>ç»†ç²’åº¦åˆ†ç±»ã€å°æ ·æœ¬å­¦ä¹ </td><td>å…³ç³»ä¸€è‡´æ€§æŸå¤±ã€å¯¹æ¯”æŸå¤±</td></tr></tbody></table>
<ol>
<li>
<p>åŸºäºå“åº”çš„çŸ¥è¯†ï¼šæœ€åŸºç¡€ã€æœ€ç»å…¸çš„è’¸é¦èŒƒå¼
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/90d0b06b9d244811b0211c0c879641b7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-u5Lq65LiJ562J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768561991&amp;x-signature=j5Gn8y%2FQ6ULRrWWz6n4Pet%2Ba8bQ%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<ol>
<li>æ ¸å¿ƒå®šä¹‰ï¼šçŸ¥è¯†æ˜¯æ•™å¸ˆæ¨¡å‹åœ¨<strong>è¾“å‡ºå±‚çš„å“åº”</strong>ï¼Œå³æœ€åä¸€å±‚çš„ <strong>Logits</strong> æˆ–ç»è¿‡ Softmaxï¼ˆå¸¦æ¸©åº¦ Tï¼‰çš„ <strong>æ¦‚ç‡åˆ†å¸ƒ</strong>ã€‚</li>
<li>é€šä¿—ç†è§£ï¼šç›¸å½“äºæ•™å¸ˆç›´æ¥æŠŠ â€œæœ€ç»ˆç­”æ¡ˆ + æœ€ç»ˆç»“æœçš„æ€è€ƒâ€ å‘Šè¯‰å­¦ç”Ÿï¼š</li>
<li>è¿ç§»æ–¹å¼ï¼šå­¦ç”Ÿæ¨¡å‹çš„è¾“å‡ºå±‚å“åº” å¯¹é½ æ•™å¸ˆæ¨¡å‹çš„è¾“å‡ºå±‚å“åº”</li>
<li>ä¼˜åŠ¿ï¼šå®ç°ç®€å•ï¼Œæ— éœ€ä¿®æ”¹æ¨¡å‹ç»“æ„ï¼Œé€‚åˆå…¥é—¨å’Œå¿«é€ŸéªŒè¯</li>
<li>åŸºäºè½¯ç›®æ ‡çš„å“åº”å‹çŸ¥è¯†è’¸é¦é€šå¸¸ç”¨äºç›‘ç£å­¦ä¹ çš„åœºæ™¯ä¸­ã€‚</li>
</ol>
</li>
<li>
<p>åŸºäºç‰¹å¾çš„çŸ¥è¯†ï¼šå‡½æ•°é€šè¿‡æœ€å°åŒ–æ•™å¸ˆæ¨¡å‹å’Œå­¦ç”Ÿæ¨¡å‹ä¹‹é—´çš„ç‰¹å¾æ¿€æ´»å·®å¼‚æ¥è¿›è¡Œä¼˜åŒ–
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0205f2fc67d1407a99a9a69c5df0f1af~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-u5Lq65LiJ562J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768561991&amp;x-signature=C%2FIo09BAggAnPASfJ03PAozST6k%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<ol>
<li>æ ¸å¿ƒå®šä¹‰ï¼šçŸ¥è¯†æ˜¯æ•™å¸ˆæ¨¡å‹<strong>ä¸­é—´å±‚çš„ç‰¹å¾è¡¨ç¤º</strong>ï¼Œè¿™äº›ç‰¹å¾æ˜¯æ¨¡å‹å¯¹è¾“å…¥æ•°æ®çš„ â€œæŠ½è±¡ç†è§£â€</li>
<li>é€šä¿—ç†è§£ï¼šæ•™å¸ˆä¸ä»…å‘Šè¯‰å­¦ç”Ÿ â€œç­”æ¡ˆâ€ï¼Œè¿˜æŠŠ â€œè§£é¢˜çš„è‰ç¨¿çº¸â€ ç»™å­¦ç”Ÿçœ‹ï¼Œè®©å­¦ç”Ÿå¯ä»¥å­¦ä¹ åˆ†æé—®é¢˜çš„å…³é”®æ­¥éª¤</li>
<li>è¿ç§»æ–¹å¼ï¼šé€‰æ‹©æ•™å¸ˆä¸å­¦ç”Ÿçš„<strong>å¯¹åº”ä¸­é—´å±‚</strong>ï¼ˆéœ€ä¿è¯ç»´åº¦åŒ¹é…ï¼Œä¸åŒ¹é…æ—¶ç”¨æŠ•å½±å±‚è½¬æ¢ï¼‰ï¼Œè®©å­¦ç”Ÿçš„ä¸­é—´ç‰¹å¾ å¯¹é½ æ•™å¸ˆçš„ä¸­é—´ç‰¹å¾ï¼›</li>
<li>å®ç°æ­¥éª¤æ‹†è§£ï¼š
<ol>
<li>é€‰å®šä¸­é—´å±‚ï¼š(ç›®çš„ï¼šä¿è¯ä¸¤è€…ç‰¹å¾çš„è¯­ä¹‰å±‚çº§ä¸€è‡´)
<ol>
<li>é€‰æ‹©æ–¹æ³•ï¼šåˆ†å±‚çº§(æ ¹æ®æ¨¡å‹ç»“æ„é¡ºåºåˆ†å±‚çº§)å’Œæ‰¾å¯¹åº”(åŒç»“æ„å¯¹åº”æ¯”ä¾‹ï¼Œä¸åŒç»“æ„ä¼˜å…ˆé€‰è¾“å‡ºç»´åº¦ç›¸è¿‘ + è¯­ä¹‰å±‚çº§ç›¸è¿‘çš„å±‚)</li>
<li>ä¸ç”¨çº ç»“ â€œé€‰æœ€å‡†çš„å±‚â€ï¼Œä¼˜å…ˆé€‰<strong>ä¸­å±‚</strong>ï¼ˆåº•å±‚å¤ªç®€å•ã€é«˜å±‚å¤ªæ¥è¿‘è¾“å‡ºå±‚ï¼Œä¸­å±‚çš„çŸ¥è¯†è¿ç§»æ€§ä»·æ¯”æœ€é«˜ï¼‰ï¼›</li>
<li>è‹¥ä¸ç¡®å®šï¼Œç›´æ¥é€‰æ¨¡å‹çš„<strong>å€’æ•°ç¬¬ 3~ ç¬¬ 5 å±‚</strong>ï¼ˆå¤§éƒ¨åˆ†æ¨¡å‹çš„æ ¸å¿ƒè¯­ä¹‰éƒ½åœ¨è¿™ä¸ªåŒºé—´ï¼‰ã€‚</li>
</ol>
</li>
<li>æå–ä¸­é—´ç‰¹å¾ï¼šé€šä¿—ç†è§£å°±æ˜¯ä½¿ç”¨ä¸€ä¸ªé’©å­å‡½æ•°æˆ–è€…ä¿®æ”¹æ¨¡å‹ï¼Œè®©æ¨¡å‹åœ¨å‰å‘ä¼ æ’­çš„æ—¶å€™åœ¨ä½ é€‰å®šçš„ä¸­é—´å±‚è¿›è¡Œ"æ‹¦æˆª"ï¼ŒæŠŠä¸­é—´å±‚è¾“å‡ºä¿å­˜ä¸‹æ¥ï¼Œä¸å½±å“æ­£å¸¸è®­ç»ƒï¼Œåªæ˜¯ä»ä¸­é—´å¤åˆ¶äº†ä¸€ä»½æ•°æ®ã€‚</li>
<li>ç‰¹å¾ç»´åº¦åŒ¹é…ï¼šåŠ æŠ•å½±å±‚
<ol>
<li>æŠ•å½±å±‚çš„ä½œç”¨åªæœ‰ä¸€ä¸ªï¼šè§£å†³å¸ˆç”Ÿç‰¹å¾ â€œç»´åº¦ä¸åŒ¹é…â€ çš„é—®é¢˜ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ª â€œè½¬æ¢å™¨â€ã€‚</li>
<li>å…¶å®åœ¨ NLP ä¸­å°±æ˜¯åŠ ä¸€ä¸ªçº¿æ€§å˜æ¢æ¥æ”¹å˜ç»´åº¦ï¼Œä¸ç ´åç‰¹å¾çš„è¯­ä¹‰ä¿¡æ¯ã€‚</li>
<li>æ­¤æ—¶ç»“æœå°±æ˜¯æ•™å¸ˆæ¨¡å‹ä¸­é—´å±‚è¾“å‡ºå’Œå­¦ç”Ÿæ¨¡å‹ä¸­é—´å±‚è¾“å‡ºçš„ç»´åº¦æ˜¯ä¸€è‡´çš„</li>
</ol>
</li>
<li>è®¡ç®—æŸå¤±å¹¶ä¼˜åŒ–ï¼šä½¿ç”¨è¡¨æ ¼ä¸­çš„æŸå¤±å‡½æ•°ï¼Œå¹¶ä½¿ç”¨æ–¹å‘ä¼ æ’­è¿›è¡Œè®­ç»ƒå³å¯</li>
<li>Gram çŸ©é˜µæŸå¤±ï¼ˆGram Matrix Lossï¼‰ï¼š
<ol>
<li>Gram çŸ©é˜µä¸å…³å¿ƒç‰¹å¾çš„ â€œå…·ä½“æ•°å€¼â€ï¼Œåªå…³å¿ƒ <strong>â€œç‰¹å¾å†…éƒ¨ä¸åŒéƒ¨åˆ†çš„å…³è”ç¨‹åº¦â€</strong>ã€‚</li>
<li>æå–æ•™å¸ˆå’Œå­¦ç”Ÿçš„<strong>ä¸­å±‚éšè—ç‰¹å¾</strong>ï¼šå½¢çŠ¶ä¸º<code>[æ‰¹æ¬¡å¤§å°, åºåˆ—é•¿åº¦, éšè—å±‚ç»´åº¦]</code>ï¼›</li>
<li>è®¡ç®— Gram çŸ©é˜µï¼šè¡¡é‡ â€œè¯ A çš„éšè—å‘é‡â€ å’Œ â€œè¯ B çš„éšè—å‘é‡â€ çš„ç›¸å…³æ€§ï¼›</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li>
<p>åŸºäºå…³ç³»çš„çŸ¥è¯†ï¼šçªç ´äº† â€œå•æ ·æœ¬çŸ¥è¯†â€ çš„å±€é™ï¼Œå…³æ³¨æ•™å¸ˆæ¨¡å‹å¯¹<strong>å¤šä¸ªæ ·æœ¬ä¹‹é—´å…³ç³»</strong>çš„ç†è§£
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/babc038ea54147f694c40c882e0b4de7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-u5Lq65LiJ562J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768561991&amp;x-signature=Ik7EpZDJxU%2BrLI2V27DP3He0VbE%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<ol>
<li>
<p>æ ¸å¿ƒå®šä¹‰ï¼šçŸ¥è¯†ä¸æ˜¯å•ä¸ªæ ·æœ¬çš„è¾“å‡ºæˆ–ç‰¹å¾ï¼Œè€Œæ˜¯<strong>æ ·æœ¬ä¹‹é—´çš„ç›¸å¯¹å…³ç³»</strong>ï¼Œæ¯”å¦‚ â€œæ ·æœ¬ A å’Œæ ·æœ¬ B çš„ç›¸ä¼¼æ€§é«˜äºæ ·æœ¬ A å’Œæ ·æœ¬ Câ€â€œæ ·æœ¬ X æ˜¯æ ·æœ¬ Y çš„ç‰¹ä¾‹â€ã€‚</p>
</li>
<li>
<p>é€šä¿—ç†è§£ï¼šæ•™å¸ˆæ•™å­¦ç”Ÿ â€œä¸¾ä¸€åä¸‰â€ çš„èƒ½åŠ›ï¼Œä¸æ˜¯æ•™å­¦ç”Ÿ â€œè¿™æ˜¯çŒ«â€â€œé‚£æ˜¯ç‹—â€ï¼Œè€Œæ˜¯æ•™ â€œçŒ«å’Œè€è™é•¿å¾—åƒï¼ŒçŒ«å’Œç‹—é•¿å¾—ä¸åƒâ€â€œæ³¢æ–¯çŒ«æ˜¯çŒ«çš„ä¸€ç§â€ã€‚</p>
</li>
<li>
<p>è¿ç§»æ–¹å¼ï¼šæ„å»ºæ ·æœ¬ç»„ï¼ˆå¯¹ï¼‰ï¼Œè®©å­¦ç”Ÿæ¨¡å‹å­¦åˆ°çš„æ ·æœ¬é—´å…³ç³» ä¸ æ•™å¸ˆæ¨¡å‹ä¸€è‡´ï¼›</p>
</li>
<li>
<p>ä¼˜åŠ¿ï¼šèƒ½ä¼ é€’ â€œæ³›åŒ–æ€§çŸ¥è¯†â€ï¼Œè§£å†³å°æ ·æœ¬ã€ç»†ç²’åº¦åˆ†ç±»ç­‰æ•°æ®ä¸è¶³çš„é—®é¢˜ã€‚</p>
</li>
<li>
<p>å®ç°æ­¥éª¤æ‹†è§£ï¼š</p>
<ol>
<li>
<p>æ„å»ºæ ·æœ¬ç»„ï¼š</p>
<ol>
<li>ä»æ‰¹æ¬¡ä¸­é€‰å­é›†æ„å»º â€œæ ·æœ¬å¯¹ / æ ·æœ¬ç»„â€ï¼Œæ¯”å¦‚æ‰¹æ¬¡ B=8(æ‰¹æ¬¡æ˜¯æ ·æœ¬é›†)ï¼Œé€‰å…¶ä¸­ 4 ä¸ªæ ·æœ¬ç»„æˆç»„(æŠ½æ ·)ï¼Œè®¡ç®—ä¸¤ä¸¤ä¹‹é—´çš„å…³ç³»ï¼›</li>
<li>ç›®çš„ï¼šè®©æ¨¡å‹å­¦ä¹  â€œæ ·æœ¬ A å’Œ B åƒï¼ŒA å’Œ C ä¸åƒâ€ è¿™ç±»ç›¸å¯¹å…³ç³»ã€‚</li>
</ol>
</li>
<li>
<p>æå–æ ·æœ¬ç‰¹å¾ï¼šæ–¹æ³•åŒä¸Šï¼Œåªæ˜¯åç»­å¤„ç†ä¸å¤ªä¸€è‡´ï¼Œä¸€ä¸ªæ˜¯å•ä¸ªæ ·æœ¬ï¼Œä¸€ä¸ªæ˜¯æ ·æœ¬ç»„ï¼Œæ­¤æ—¶ä¼šå¾—åˆ°æ•™å¸ˆæ¨¡å‹çš„ç‰¹å¾çŸ©é˜µå’Œå­¦ç”Ÿæ¨¡å‹çš„ç‰¹å¾çŸ©é˜µï¼Œè®¡ç®—çŸ©é˜µè·ç¦»ï¼Œå¹¶è®­ç»ƒè®©å…¶è·ç¦»æ‹‰è¿‘</p>
</li>
<li>
<p>è®¡ç®—å…³ç³»çŸ©é˜µï¼šå¯¹æ•™å¸ˆ / å­¦ç”Ÿçš„æ ·æœ¬ç‰¹å¾ï¼Œè®¡ç®— â€œä¸¤ä¸¤ç›¸ä¼¼åº¦çŸ©é˜µâ€ï¼ˆæ¯”å¦‚ä½™å¼¦ç›¸ä¼¼åº¦ï¼‰ï¼Œå¾—åˆ°æ•™å¸ˆå…³ç³»çŸ©é˜µ (R_t)ã€å­¦ç”Ÿå…³ç³»çŸ©é˜µ (R_s)ï¼›</p>
<ol>
<li>ä¼˜å…ˆç”¨<strong>ä½™å¼¦ç›¸ä¼¼åº¦</strong>ï¼ˆé€šç”¨ã€é²æ£’ï¼Œå¤§éƒ¨åˆ†åœºæ™¯æ•ˆæœæœ€å¥½ï¼‰ï¼›</li>
<li>å¦‚æœç‰¹å¾å·²ç»åšäº†å½’ä¸€åŒ–ï¼ˆæ¯”å¦‚ç”¨<code>F.normalize</code>ï¼‰ï¼Œç”¨<strong>ç‚¹ç§¯ç›¸ä¼¼åº¦</strong>ï¼ˆè®¡ç®—æ›´å¿«ï¼Œç»“æœå’Œä½™å¼¦ç›¸ä¼¼åº¦ä¸€è‡´ï¼‰ã€‚</li>
</ol>





























<table><thead><tr><th>ç›¸ä¼¼åº¦æ–¹æ³•</th><th>è®¡ç®—é€»è¾‘ï¼ˆé€šä¿—ç‰ˆï¼‰</th><th>é€‚ç”¨åœºæ™¯</th><th>ä¼˜ç‚¹</th></tr></thead><tbody><tr><td>ä½™å¼¦ç›¸ä¼¼åº¦</td><td>è¡¡é‡ä¸¤ä¸ªç‰¹å¾<strong>æ–¹å‘æ˜¯å¦ä¸€è‡´</strong>ï¼Œä¸å…³å¿ƒé•¿åº¦ï¼ˆæ¯”å¦‚ç‰¹å¾ A=[1,2], ç‰¹å¾ B=[2,4]ï¼Œæ–¹å‘ç›¸åŒï¼Œä½™å¼¦ç›¸ä¼¼åº¦ = 1ï¼‰</td><td>ç‰¹å¾é•¿åº¦å·®å¼‚å¤§çš„åœºæ™¯ï¼ˆå¦‚ NLP çš„ä¸åŒé•¿åº¦å¥å­ç‰¹å¾ï¼‰</td><td>å¯¹ç‰¹å¾ç¼©æ”¾ä¸æ•æ„Ÿï¼Œé€šç”¨å‹å¼º</td></tr><tr><td>æ¬§å¼è·ç¦»ï¼ˆå€’æ•°ï¼‰</td><td>è¡¡é‡ä¸¤ä¸ªç‰¹å¾<strong>åœ¨ç©ºé—´ä¸­çš„ç›´çº¿è·ç¦»</strong>ï¼Œè·ç¦»è¶Šå°è¶Šç›¸ä¼¼ï¼ˆæ¯”å¦‚ A å’Œ B åæ ‡ç¦»å¾—è¶Šè¿‘ï¼Œè¶Šç›¸ä¼¼ï¼‰</td><td>ç‰¹å¾ç»´åº¦ä½ã€æ•°å€¼åˆ†å¸ƒå‡åŒ€çš„åœºæ™¯</td><td>è®¡ç®—ç®€å•ï¼Œæ˜“äºç†è§£</td></tr><tr><td>ç‚¹ç§¯ç›¸ä¼¼åº¦</td><td>è¡¡é‡ä¸¤ä¸ªç‰¹å¾<strong>æ•°å€¼çš„ä¹˜ç§¯å’Œ</strong>ï¼Œæ•°å€¼è¶Šå¤§ã€å¯¹åº”ç»´åº¦è¶Šä¸€è‡´ï¼Œç›¸ä¼¼åº¦è¶Šé«˜</td><td>ç‰¹å¾å·²ç»å½’ä¸€åŒ–ï¼ˆé•¿åº¦ä¸º 1ï¼‰çš„åœºæ™¯</td><td>è®¡ç®—é€Ÿåº¦æœ€å¿«ï¼Œé€‚åˆå¤§è§„æ¨¡æ ·æœ¬</td></tr></tbody></table>
</li>
<li>
<p>è®¡ç®—æŸå¤±å¹¶ä¼˜åŒ–ï¼šç”¨å…³ç³»ä¸€è‡´æ€§æŸå¤± / å¯¹æ¯”æŸå¤±ï¼Œè®© (R_s) é€¼è¿‘ (R_t)ï¼Œä»…æ›´æ–°å­¦ç”Ÿå‚æ•°ã€‚</p>
<ol>
<li>å…³ç³»ä¸€è‡´æ€§æŸå¤±ï¼ˆRelation Consistency Lossï¼‰ï¼šç›´æ¥è¡¡é‡æ•™å¸ˆå’Œå­¦ç”Ÿçš„<strong>æ ·æœ¬å…³ç³»çŸ©é˜µ</strong>çš„å·®å¼‚ï¼Œè®©å­¦ç”Ÿå­¦åˆ°çš„ â€œæ ·æœ¬é—´ç›¸ä¼¼æ€§â€ å’Œæ•™å¸ˆå®Œå…¨ä¸€è‡´ã€‚
<ol>
<li>ä½™å¼¦ç›¸ä¼¼åº¦ï¼š<strong>åªåš â€œå…³ç³»æè¿°â€</strong>ï¼ˆæ¯”å¦‚ â€œå­¦ç”Ÿ A å’Œ B åƒï¼Œç›¸ä¼¼åº¦ 0.9â€ï¼‰ï¼Œæ˜¯ä¸€ä¸ª â€œé™æ€æ•°å€¼â€ï¼ŒæŠŠ â€œç‰¹å¾çŸ©é˜µâ€ è½¬åŒ–ä¸º â€œå…³ç³»çŸ©é˜µâ€ï¼Œåªåš â€œæ•°å€¼è½¬æ¢â€ï¼Œæ— ä¼˜åŒ–èƒ½åŠ›</li>
<li>å…³ç³»ä¸€è‡´æ€§æŸå¤±ï¼š<strong>åš â€œå…³ç³»ä¼˜åŒ–â€</strong>ï¼ˆè¡¡é‡å­¦ç”Ÿçš„æè¿°å’Œæ•™å¸ˆçš„æè¿°å·®å¤šå°‘ï¼Œå†é€šè¿‡åå‘ä¼ æ’­è®©å­¦ç”Ÿä¿®æ­£ï¼‰ï¼Œæ˜¯ä¸€ä¸ª â€œåŠ¨æ€ä¼˜åŒ–è¿‡ç¨‹â€ï¼Œé€šä¿—è®²å°±æ˜¯è¿™ä¸€æ­¥å¼€å§‹å¯¹ 1 ä¸­å¾—åˆ°çš„å…³ç³»çŸ©é˜µè¿›è¡Œå¤„ç†ï¼Œå…¶å®å°±æ˜¯è¿›è¡Œå½’ä¸€åŒ–åçš„ MSE</li>
<li>ä¼˜åŒ–ç›®æ ‡ï¼šè®©å­¦ç”Ÿçš„<strong>å…³ç³»çŸ©é˜µæ•°å€¼</strong> é€å…ƒç´ é€¼è¿‘æ•™å¸ˆï¼Œä¾èµ–æ•™å¸ˆçš„ â€œæ ‡å‡†ç­”æ¡ˆâ€ï¼ˆå…³ç³»çŸ©é˜µï¼‰</li>
<li>ä½¿ç”¨åœºæ™¯ï¼šæœ‰é«˜æ€§èƒ½æ•™å¸ˆæ¨¡å‹çš„åœºæ™¯ï¼Œè¿½æ±‚ â€œå­¦ç”Ÿå®Œå…¨å¤åˆ»æ•™å¸ˆçš„å…³ç³»åˆ¤æ–­â€</li>
</ol>
</li>
<li>å¯¹æ¯”æŸå¤±ï¼ˆContrastive Loss ï¼› ç»å…¸ InfoNCE æŸå¤±ï¼‰ï¼šä¸ç›´æ¥åŒ¹é…ç›¸ä¼¼åº¦æ•°å€¼ï¼Œè€Œæ˜¯é€šè¿‡ â€œæ‹‰è¿‘åŒç±»æ ·æœ¬ã€æ¨è¿œå¼‚ç±»æ ·æœ¬â€ çš„æ–¹å¼(ç‰©ç†æ„ä¹‰ï¼šè®©æ­£æ ·æœ¬å¯¹çš„ç›¸ä¼¼åº¦å°½å¯èƒ½å¤§ï¼Œè´Ÿæ ·æœ¬å¯¹çš„ç›¸ä¼¼åº¦å°½å¯èƒ½å°ã€‚)ï¼Œè®©å­¦ç”Ÿå­¦åˆ°æ•™å¸ˆçš„ â€œæ ·æœ¬å…³ç³»é€»è¾‘â€ï¼Œæ˜¯æ›´é²æ£’çš„å…³ç³»è’¸é¦æ–¹å¼ã€‚
<ol>
<li>ä¼˜åŒ–ç›®æ ‡ï¼šè®©å­¦ç”Ÿå­¦ä¼š <strong>â€œåŒç±»æ ·æœ¬æ›´åƒï¼Œå¼‚ç±»æ ·æœ¬æ›´ä¸åƒâ€</strong> çš„ç›¸å¯¹å…³ç³»ï¼Œä¸è¿½æ±‚æ•°å€¼å®Œå…¨ä¸€è‡´ï¼›ä¸ä¾èµ–æ•™å¸ˆï¼Œåªä¾èµ–æ ·æœ¬çš„ç±»åˆ«æ ‡ç­¾ï¼ˆæ­£æ ·æœ¬ / è´Ÿæ ·æœ¬ï¼‰</li>
<li>ä½¿ç”¨åœºæ™¯ï¼šæ•™å¸ˆæ¨¡å‹æ•ˆæœä¸€èˆ¬ï¼Œæˆ–æ ·æœ¬æ ‡ç­¾å……è¶³çš„åœºæ™¯ï¼Œè¿½æ±‚ â€œå­¦ç”Ÿè‡ªä¸»å­¦ä¹ åˆç†çš„æ ·æœ¬å…³ç³»â€</li>
</ol>
</li>
<li>ä¸¤ç§æŸå¤±å¯ä»¥æ­é…ä½¿ç”¨
<ol>
<li>å…³ç³»ä¸€è‡´æ€§æŸå¤±ä¿è¯å­¦ç”Ÿ â€œå¤åˆ»æ•™å¸ˆçš„ç»éªŒâ€ï¼›</li>
<li>å¯¹æ¯”æŸå¤±ä¿è¯å­¦ç”Ÿ â€œå­¦ä¹ é€šç”¨çš„å…³ç³»é€»è¾‘â€ï¼Œé¿å…è¿‡æ‹Ÿåˆåˆ°æ•™å¸ˆçš„è¯¯å·®</li>
<li>æ•™å¸ˆæ¨¡å‹èƒ½åŠ›æå¼ºæˆ–è€…èµ„æºæœ‰é™æƒ…å†µä¸‹ä¸å»ºè®®æ­é…ä½¿ç”¨</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 data-id="heading-4">2 è®­ç»ƒ</h2>
<ol>
<li>ç¦»çº¿è’¸é¦ï¼šç¦»çº¿è’¸é¦æ˜¯æœ€å¸¸è§çš„æ–¹æ³•ï¼Œå…¶ä¸­ä½¿ç”¨ä¸€ä¸ªé¢„è®­ç»ƒçš„æ•™å¸ˆæ¨¡å‹æ¥æŒ‡å¯¼å­¦ç”Ÿæ¨¡å‹ã€‚åœ¨è¿™ç§æ–¹å¼ä¸­ï¼Œæ•™å¸ˆæ¨¡å‹é¦–å…ˆåœ¨è®­ç»ƒæ•°æ®é›†ä¸Šè¿›è¡Œé¢„è®­ç»ƒï¼Œç„¶åå°†æ•™å¸ˆæ¨¡å‹ä¸­çš„çŸ¥è¯†è’¸é¦åˆ°å­¦ç”Ÿæ¨¡å‹ä¸­è¿›è¡Œè®­ç»ƒã€‚
<ol>
<li>ä¼˜ç¼ºç‚¹ï¼š
<ol>
<li>ä¼˜ç‚¹ï¼šæ•™å¸ˆæ€§èƒ½ç¨³å®šï¼Œå­¦ç”Ÿçš„ä¸Šé™ç”±æ•™å¸ˆå†³å®šï¼›å®ç°ç®€å•ï¼Œå·¥ä¸šç•Œè½åœ°æˆç†Ÿã€‚</li>
<li>ç¼ºç‚¹ï¼šéœ€è¦åˆ†ä¸¤æ­¥è®­ç»ƒï¼Œè€—æ—¶è¾ƒé•¿ï¼›æ•™å¸ˆä¸€æ—¦å›ºå®šï¼Œæ— æ³•åœ¨å­¦ç”Ÿè®­ç»ƒè¿‡ç¨‹ä¸­ä¼˜åŒ–ã€‚</li>
</ol>
</li>
<li>å…¸å‹åº”ç”¨ï¼š
<ol>
<li>å¤§æ¨¡å‹è½»é‡åŒ–ï¼šå¦‚ç”¨ GPT-3 è’¸é¦å°å°ºå¯¸ GPTã€ç”¨ ResNet-152 è’¸é¦ ResNet-18ï¼›</li>
<li>ç‰¹å®šä»»åŠ¡ä¼˜åŒ–ï¼šå¦‚ç”¨ä¸­æ–‡é¢„è®­ç»ƒå¤§æ¨¡å‹è’¸é¦å°æ¨¡å‹ï¼Œé€‚é…ç§»åŠ¨ç«¯æ–‡æœ¬åˆ†ç±»ã€‚</li>
</ol>
</li>
</ol>
</li>
<li>åœ¨çº¿è’¸é¦ï¼šåœ¨ç¦»çº¿è’¸é¦ä¸­ï¼Œé¢„è®­ç»ƒçš„æ•™å¸ˆæ¨¡å‹é€šå¸¸æ˜¯ä¸€ä¸ªé«˜å®¹é‡çš„æ·±åº¦ç¥ç»ç½‘ç»œã€‚ç„¶è€Œï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¯èƒ½æ— æ³•è·å¾—é€‚ç”¨äºç¦»çº¿è’¸é¦çš„é¢„è®­ç»ƒæ¨¡å‹ã€‚ä¸ºäº†è§£å†³è¿™ä¸€å±€é™æ€§ï¼Œå¯ä»¥ä½¿ç”¨åœ¨çº¿è’¸é¦ï¼Œåœ¨è¿™ç§æ–¹æ³•ä¸­ï¼Œæ•™å¸ˆæ¨¡å‹å’Œå­¦ç”Ÿæ¨¡å‹åœ¨ä¸€ä¸ªç«¯åˆ°ç«¯çš„è®­ç»ƒè¿‡ç¨‹ä¸­åŒæ—¶æ›´æ–°ã€‚åœ¨çº¿è’¸é¦å¯ä»¥é€šè¿‡å¹¶è¡Œè®¡ç®—å®ç°ï¼Œå› æ­¤æ˜¯ä¸€ç§é«˜æ•ˆçš„æ–¹æ³•ã€‚
<ol>
<li>å®ç°æ­¥éª¤ï¼š
<ol>
<li>åˆå§‹åŒ–å¤šä¸ªæ¨¡å‹ï¼šé€šå¸¸åˆå§‹åŒ–ä¸€ç»„ç»“æ„ç›¸åŒæˆ–ç›¸ä¼¼çš„æ¨¡å‹ï¼ˆå¦‚ 3 ä¸ª ResNet-18ï¼‰ï¼Œäº’ä¸º â€œæ•™å¸ˆâ€ å’Œ â€œå­¦ç”Ÿâ€ï¼›</li>
<li>ååŒè®­ç»ƒï¼šæ¯ä¸ªæ¨¡å‹åœ¨è®­ç»ƒæ—¶ï¼Œæ—¢ä½œä¸º â€œå­¦ç”Ÿâ€ å­¦ä¹ å…¶ä»–æ¨¡å‹çš„è¾“å‡ºï¼Œä¹Ÿä½œä¸º â€œæ•™å¸ˆâ€ è¾“å‡ºè½¯æ ‡ç­¾æŒ‡å¯¼å…¶ä»–æ¨¡å‹ï¼›</li>
<li>åŠ¨æ€æ›´æ–°ï¼šæ‰€æœ‰æ¨¡å‹çš„å‚æ•°éƒ½åœ¨è®­ç»ƒä¸­æ›´æ–°ï¼Œæ²¡æœ‰å›ºå®šçš„æ•™å¸ˆã€‚</li>
</ol>
</li>
<li>ä¼˜ç¼ºç‚¹ï¼š
<ol>
<li>ä¼˜ç‚¹ï¼šæ— éœ€é¢„è®­ç»ƒæ•™å¸ˆï¼Œè®­ç»ƒæµç¨‹ä¸€æ­¥åˆ°ä½ï¼›æ•™å¸ˆåŠ¨æ€æ›´æ–°ï¼Œé¿å…è¿‡æ‹Ÿåˆï¼›å¤šä¸ªæ¨¡å‹ååŒï¼Œæ€§èƒ½é€šå¸¸ä¼˜äºå•æ¨¡å‹ã€‚</li>
<li>ç¼ºç‚¹ï¼šè®­ç»ƒæ—¶éœ€è¦åŒæ—¶è¿è¡Œå¤šä¸ªæ¨¡å‹ï¼Œæ˜¾å­˜å ç”¨é«˜ï¼›è¶…å‚æ•°è°ƒä¼˜å¤æ‚ã€‚</li>
</ol>
</li>
<li>å…¸å‹åº”ç”¨ï¼š
<ol>
<li>å¤šæ¨¡å‹é›†æˆç³»ç»Ÿï¼šå¦‚æ¨èç³»ç»Ÿçš„å¤šå¡”æ¨¡å‹ï¼›</li>
<li>èµ„æºå—é™åœºæ™¯ï¼šå¦‚è¾¹ç¼˜è®¾å¤‡çš„æ¨¡å‹è®­ç»ƒï¼Œæ— æ³•æ‰¿æ‹…é¢„è®­ç»ƒå¤§æ¨¡å‹çš„æˆæœ¬ã€‚</li>
</ol>
</li>
</ol>
</li>
<li>è‡ªè’¸é¦ï¼šåœ¨è‡ªè’¸é¦ä¸­ï¼Œæ•™å¸ˆæ¨¡å‹å’Œå­¦ç”Ÿæ¨¡å‹ä½¿ç”¨ç›¸åŒçš„æ¨¡å‹ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥åˆ©ç”¨æ·±å±‚ç¥ç»ç½‘ç»œçš„æ·±å±‚æ¿€æ´»å€¼æ¥è®­ç»ƒæµ…å±‚ç½‘ç»œã€‚è¿™å¯ä»¥è§†ä¸ºåœ¨çº¿è’¸é¦çš„ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œå¹¶å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼å®ç°ã€‚ä¾‹å¦‚ï¼Œæ•™å¸ˆæ¨¡å‹åœ¨æ—©æœŸè®­ç»ƒè½®æ¬¡çš„çŸ¥è¯†å¯ä»¥è½¬ç§»åˆ°å…¶åæœŸè®­ç»ƒè½®æ¬¡ä¸­ï¼Œç”¨äºè®­ç»ƒå­¦ç”Ÿæ¨¡å‹ã€‚
<ol>
<li>æœ€è½»é‡åŒ–çš„è’¸é¦èŒƒå¼</li>
<li>ä¸¤ç§å®ç°æ–¹å¼ï¼š
<ol>
<li>åŸºäºæ—¶é—´çš„è‡ªè’¸é¦ï¼šç”¨æ¨¡å‹ä¸åŒè®­ç»ƒé˜¶æ®µçš„è¾“å‡ºä½œä¸ºè½¯æ ‡ç­¾</li>
<li>åŸºäºç»“æ„çš„è‡ªè’¸é¦	ç”¨æ¨¡å‹ä¸åŒéƒ¨åˆ†çš„è¾“å‡ºä½œä¸ºè½¯æ ‡ç­¾</li>
</ol>
</li>
<li>ä¼˜ç¼ºç‚¹ï¼š
<ol>
<li>ä¼˜ç‚¹ï¼šæ— é¢å¤–æ•™å¸ˆå¼€é”€ï¼Œæ˜¾å­˜å ç”¨æœ€ä½ï¼›è®­ç»ƒæµç¨‹ç®€å•ï¼Œé€‚åˆå°æ¨¡å‹å’Œéšç§ä¿æŠ¤åœºæ™¯ï¼ˆæ— éœ€å…±äº«æ•™å¸ˆæ¨¡å‹ï¼‰ï¼›</li>
<li>ç¼ºç‚¹ï¼šæ€§èƒ½ä¸Šé™å—é™äºæ¨¡å‹è‡ªèº«ï¼Œæ— æ³•è¶…è¶Šå•æ¨¡å‹çš„æœ€ä¼˜æ€§èƒ½ï¼›å¯¹è®­ç»ƒè¶…å‚æ•°æ•æ„Ÿã€‚</li>
</ol>
</li>
<li>å…¸å‹åº”ç”¨ï¼š
<ol>
<li>å°æ¨¡å‹æ€§èƒ½æå‡ï¼šå¦‚ç§»åŠ¨ç«¯çš„è½»é‡çº§ CNN æ¨¡å‹ï¼Œé€šè¿‡è‡ªè’¸é¦æå‡åˆ†ç±»ç²¾åº¦ï¼›</li>
<li>éšç§è®¡ç®—åœºæ™¯ï¼šå¦‚åŒ»ç–—æ•°æ®è®­ç»ƒï¼Œæ•°æ®ä¸èƒ½ç¦»å¼€æœ¬åœ°ï¼Œæ— æ³•è®­ç»ƒç‹¬ç«‹æ•™å¸ˆæ¨¡å‹ã€‚</li>
</ol>
</li>
</ol>
</li>
<li><strong>è®­ç»ƒæ•ˆç‡</strong>ï¼šè‡ªè’¸é¦ &gt; åœ¨çº¿è’¸é¦ &gt; ç¦»çº¿è’¸é¦ï¼ˆè‡ªè’¸é¦æ— éœ€é¢å¤–è®­ç»ƒæ•™å¸ˆï¼‰ï¼›</li>
<li><strong>æ€§èƒ½ä¸Šé™</strong>ï¼šç¦»çº¿è’¸é¦ &gt; åœ¨çº¿è’¸é¦ &gt; è‡ªè’¸é¦ï¼ˆç¦»çº¿è’¸é¦å¯ä½¿ç”¨è¶…å¤§æ¨¡å‹ä½œä¸ºæ•™å¸ˆï¼‰ã€‚</li>
</ol>
<h2 data-id="heading-5">3 çŸ¥è¯†è’¸é¦çš„ç®—æ³•</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/24b32417a6b14194b574ab2118ac7ad3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-u5Lq65LiJ562J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768561991&amp;x-signature=OsttwO5%2FGYyXtbTUWGg7%2FUwIkm4%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>

































































<table><thead><tr><th>è’¸é¦æ–¹æ³•</th><th>æ ¸å¿ƒå®šä½</th><th>å…³é”®åˆ›æ–°ç‚¹</th><th>å…¸å‹åº”ç”¨</th></tr></thead><tbody><tr><td>å¯¹æŠ—è’¸é¦</td><td>é²æ£’æ€§ä¼˜åŒ–</td><td>å¼•å…¥ GAN æ€æƒ³ï¼Œè®©å­¦ç”Ÿå¯¹æŠ—æ€§å­¦ä¹ æ•™å¸ˆçŸ¥è¯†</td><td>å™ªå£°æ•°æ®åˆ†ç±»ã€é˜²å¾¡å¯¹æŠ—æ”»å‡»(è‡ªåŠ¨é©¾é©¶)</td></tr><tr><td>å¤šæ•™å¸ˆè’¸é¦</td><td>çŸ¥è¯†èåˆ</td><td>å¤šä¸ªæ•™å¸ˆæ¨¡å‹ååŒæŒ‡å¯¼ï¼Œé›†æˆäº’è¡¥çŸ¥è¯†</td><td>åŒ»ç–—å½±åƒè¯Šæ–­(é«˜ç²¾åº¦è¦æ±‚ï¼Œå°æ ·æœ¬åœºæ™¯)</td></tr><tr><td>è·¨æ¨¡æ€è’¸é¦</td><td>è·¨é¢†åŸŸè¿ç§»</td><td>ä¸åŒæ¨¡æ€æ¨¡å‹é—´ä¼ é€’çŸ¥è¯†ï¼ˆå¦‚è§†è§‰â†’æ–‡æœ¬ï¼‰</td><td>å›¾æ–‡æ£€æµ‹ï¼Œå­—å¹•ç”Ÿæˆï¼ŒæŸä¸€æ¨¡æ€æ•°æ®ä¸è¶³</td></tr><tr><td>å›¾è’¸é¦</td><td>å›¾ç»“æ„é€‚é…</td><td>é’ˆå¯¹å›¾ç¥ç»ç½‘ç»œï¼ˆGNNï¼‰çš„æ‹“æ‰‘ + èŠ‚ç‚¹çŸ¥è¯†è¿ç§»</td><td>ç¤¾äº¤ç½‘ç»œåˆ†æã€åˆ†å­å±æ€§é¢„æµ‹</td></tr><tr><td>æ³¨æ„åŠ›è’¸é¦</td><td>ç»“æ„å¯¹é½</td><td>è¿ç§»æ•™å¸ˆæ¨¡å‹çš„æ³¨æ„åŠ›æƒé‡ï¼Œå¤åˆ»å†³ç­–é€»è¾‘</td><td>å¤§è¯­è¨€æ¨¡å‹è½»é‡åŒ–ã€æœºå™¨ç¿»è¯‘ã€‚ç»†é¢—ç²’ä»»åŠ¡</td></tr><tr><td>æ— æ•°æ®è’¸é¦</td><td>éšç§ä¿æŠ¤</td><td>æ— éœ€åŸå§‹æ•°æ®ï¼Œé€šè¿‡ç”Ÿæˆæ•°æ®ä¼ é€’çŸ¥è¯†</td><td>éšç§æ•æ„Ÿåœºæ™¯ï¼ˆåŒ»ç–— / é‡‘èï¼‰</td></tr><tr><td>é‡åŒ–è’¸é¦</td><td>ç¡¬ä»¶é€‚é…</td><td>ç»“åˆæ¨¡å‹é‡åŒ–ï¼Œåœ¨å‹ç¼©ç²¾åº¦çš„åŒæ—¶ä¿ç•™æ€§èƒ½</td><td>è¾¹ç¼˜è®¾å¤‡éƒ¨ç½²ï¼ˆæ‰‹æœº / IoTï¼‰ä½èµ„æºæƒ…å†µ</td></tr><tr><td>ç»ˆèº«è’¸é¦</td><td>æŒç»­å­¦ä¹ </td><td>æ¨¡å‹åœ¨æ–°ä»»åŠ¡ä¸Šå­¦ä¹ æ—¶ï¼Œä¿ç•™æ—§ä»»åŠ¡çŸ¥è¯†</td><td>æœºå™¨äººè‡ªä¸»å­¦ä¹ ã€æ¨èç³»ç»Ÿè¿­ä»£</td></tr><tr><td>NAS è’¸é¦</td><td>æ¶æ„æœç´¢</td><td>è’¸é¦æŒ‡å¯¼ç¥ç»æ¶æ„æœç´¢ï¼Œé«˜æ•ˆç”Ÿæˆæœ€ä¼˜å°æ¨¡å‹</td><td>è‡ªåŠ¨åŒ–æ¨¡å‹è®¾è®¡ã€ä½ç®—åŠ›åœºæ™¯</td></tr></tbody></table>
<ol>
<li>
<p>å¯¹æŠ—è’¸é¦ï¼šå°†<strong>å¯¹æŠ—ç”Ÿæˆç½‘ç»œï¼ˆGANï¼‰</strong> çš„æ€æƒ³èå…¥è’¸é¦ï¼Œé€šè¿‡ â€œç”Ÿæˆå™¨ - åˆ¤åˆ«å™¨â€ çš„åšå¼ˆï¼Œè®©å­¦ç”Ÿæ¨¡å‹ä¸ä»…å­¦ä¹ æ•™å¸ˆçš„è½¯æ ‡ç­¾ï¼Œè¿˜èƒ½<strong>æŠµæŠ—å™ªå£°å’Œå¯¹æŠ—æ ·æœ¬</strong>ï¼Œæå‡é²æ£’æ€§ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0191e21c7904bc0a57d5bd93625c055~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-u5Lq65LiJ562J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768561991&amp;x-signature=FGNubxzxY5F%2Blxf6ogSFjiBQzaw%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<ol>
<li>å®ç°æµç¨‹ï¼š
<ol>
<li>ä½¿ç”¨å¹²å‡€æ•°æ®å’Œå¯¹æŠ—æ•°æ®è®­ç»ƒåˆ¤åˆ«å™¨</li>
<li>ä½¿ç”¨æ•™å¸ˆæ¨¡å‹ç”Ÿæˆå¹²å‡€æ•°æ®</li>
<li>è®©å­¦ç”Ÿæ¨¡å‹å»ä½¿ç”¨å¹²å‡€æ•°æ®è¿›è¡Œæ¨ç†ï¼Œå¾—åˆ°ç»“æœåè®©åˆ¤åˆ«å™¨åˆ¤æ–­å±äºå“ªç§æ•°æ®(å¹²å‡€æˆ–è€…å¯¹æŠ—)</li>
<li>å­¦ä¹ å¹²å‡€æ•°æ®çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨æ•™å¸ˆæ¨¡å‹çš„ç»“æœæ¥ä¼˜åŒ–ï¼Œæé«˜å­¦ç”Ÿæ¨¡å‹çš„ç²¾åº¦</li>
<li>å­¦ä¹ å¯¹æŠ—æ•°æ®çš„æ—¶å€™ï¼Œç²¾åº¦æå‡äº†é‚£å¯¹æŠ—æ•°æ®çš„ç»“æœä¹Ÿä¼šæå‡ï¼Œé²æ£’æ€§å¢å¼ºï¼Œåˆ¤åˆ«å™¨æ— æ³•è¯†åˆ«å­¦ç”Ÿæ¨¡å‹çš„è¾“å‡ºåˆ°åº•æ˜¯å¹²å‡€æ•°æ®è¿˜æ˜¯å¯¹æŠ—æ•°æ®</li>
<li>æ³¨ï¼šåˆ¤åˆ«å™¨åªå¯¹è¾“å‡ºæ•°æ®è¿›è¡Œåˆ¤åˆ«ï¼Œå…¶å®åˆ¤åˆ«çš„æ˜¯æ¯ä¸ªè¯å‘é‡ä½ç½®ï¼Œæ¯”å¦‚ä¸€ä¸ªæ­£å¸¸æ–‡æœ¬çš„è¯å‘é‡æ•°å€¼å¤§å°æ˜¯ä¸ä¸€æ ·çš„ï¼Œå¯¹æŠ—æ•°æ®å°±æ˜¯ä¸ç¬¦åˆæ­£å¸¸æ–‡æœ¬çš„å‘é‡å€¼å¤§å°çš„ï¼Œå­¦ç”Ÿæ¨¡å‹å¦‚ä½•å¯ä»¥æŠŠè¿™ä¸ªä½ç½®å¯¹åº”çš„æ¦‚ç‡å¤§å°è°ƒæ•´å¥½ï¼Œåˆ¤åˆ«å™¨å°±ä¼šè®¤ä¸ºè¿™ä¸ªæ–‡æœ¬æ˜¯æ­£å¸¸çš„ã€‚</li>
</ol>
</li>
</ol>
</li>
<li>
<p>å¤šæ•™å¸ˆè’¸é¦ï¼šç”¨<strong>å¤šä¸ªä¸åŒçš„æ•™å¸ˆæ¨¡å‹</strong>ååŒæŒ‡å¯¼ä¸€ä¸ªå­¦ç”Ÿæ¨¡å‹ï¼Œèåˆå¤šä¸ªæ•™å¸ˆçš„äº’è¡¥çŸ¥è¯†ï¼Œé¿å…å•æ•™å¸ˆçš„å±€é™æ€§ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e4a792752b5a4363bcc2fc9eb63a3ad6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-u5Lq65LiJ562J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768561991&amp;x-signature=cxxDGNQSJnj6unQxPLeaDuVgGuI%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<ol>
<li>æ•™å¸ˆé€‰æ‹©ç­–ç•¥ï¼š
<ol>
<li>åŒæ¶æ„å¤šæ•™å¸ˆï¼šå¤šä¸ªç›¸åŒç»“æ„çš„æ¨¡å‹ï¼Œè®­ç»ƒåœ¨ä¸åŒæ•°æ®å­é›†ä¸Šï¼ˆå¦‚æ•°æ®å¢å¼ºçš„ä¸åŒç‰ˆæœ¬ï¼‰ï¼›</li>
<li>å¼‚æ¶æ„å¤šæ•™å¸ˆï¼šä¸åŒç»“æ„çš„æ¨¡å‹ï¼Œè¦†ç›–ä¸åŒçš„ç‰¹å¾æå–è§’åº¦ã€‚</li>
</ol>
</li>
<li>çŸ¥è¯†åŠ æƒç­–ç•¥ï¼š
<ol>
<li>åŠ æƒå¹³å‡ï¼šæ ¹æ®æ•™å¸ˆçš„æ€§èƒ½æƒé‡ï¼Œèåˆå¤šä¸ªæ•™å¸ˆçš„è½¯æ ‡ç­¾ã€‚</li>
<li>æŠ•ç¥¨æœºåˆ¶ï¼šå¯¹æ¯ä¸ªæ ·æœ¬ï¼Œå–å¤šä¸ªæ•™å¸ˆè½¯æ ‡ç­¾çš„ä¼—æ•°ä½œä¸ºå­¦ç”Ÿçš„å­¦ä¹ ç›®æ ‡ï¼›</li>
<li>åˆ†å±‚èåˆï¼šä¸åŒæ•™å¸ˆè´Ÿè´£æŒ‡å¯¼å­¦ç”Ÿçš„ä¸åŒä¸­é—´å±‚ï¼ˆå¦‚æ•™å¸ˆ A æŒ‡å¯¼ä½å±‚ç‰¹å¾ï¼Œæ•™å¸ˆ B æŒ‡å¯¼é«˜å±‚ç‰¹å¾ï¼‰ã€‚</li>
</ol>
</li>
<li>ç¦»çº¿è’¸é¦çš„æ¨¡å¼ï¼Œéšæœºæ£®æ—çš„æ€æƒ³ã€‚</li>
</ol>
</li>
<li>
<p>è·¨æ¨¡æ€è’¸é¦ï¼šè®©ä¸åŒæ¨¡æ€çš„æ¨¡å‹ä¹‹é—´ä¼ é€’çŸ¥è¯†ï¼ˆå¦‚è§†è§‰æ¨¡å‹â†’æ–‡æœ¬æ¨¡å‹ã€è¯­éŸ³æ¨¡å‹â†’å›¾åƒæ¨¡å‹ï¼‰ï¼Œå®ç°è·¨é¢†åŸŸçš„çŸ¥è¯†è¿ç§»ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d62f75d261214e78a76513eb63712490~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-u5Lq65LiJ562J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768561991&amp;x-signature=rnK7NkY2%2Bxpvrx137WPjiChSB3s%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<ol>
<li>å…±äº«ç‰¹å¾ç©ºé—´ï¼šé€šè¿‡ä¸€ä¸ªæ˜ å°„å±‚ï¼Œå°†æºæ¨¡æ€ï¼ˆå¦‚å›¾åƒï¼‰çš„ç‰¹å¾å’Œç›®æ ‡æ¨¡æ€ï¼ˆå¦‚æ–‡æœ¬ï¼‰çš„ç‰¹å¾æŠ•å½±åˆ°åŒä¸€ç©ºé—´ï¼›</li>
<li>å¯¹é½æŸå¤±ï¼šè®©å­¦ç”Ÿæ¨¡å‹ï¼ˆç›®æ ‡æ¨¡æ€ï¼‰çš„ç‰¹å¾ä¸æ•™å¸ˆæ¨¡å‹ï¼ˆæºæ¨¡æ€ï¼‰çš„ç‰¹å¾åœ¨å…±äº«ç©ºé—´ä¸­å¯¹é½ã€‚</li>
<li>ç¦»çº¿è’¸é¦çš„æ¨¡å¼ï¼Œç»Ÿä¸€ä¸åŒæ¨¡æ€çš„ä¿¡æ¯ï¼Œå®Œæˆåœ¨ç»Ÿä¸€æ€ä¸Šçš„è¿ç§»</li>
</ol>
</li>
<li>
<p>å›¾è’¸é¦ï¼šä¸“é—¨é’ˆå¯¹<strong>å›¾ç¥ç»ç½‘ç»œï¼ˆGNNï¼‰</strong> è®¾è®¡çš„è’¸é¦æ–¹æ³•ï¼Œä¸ä»…è¿ç§»èŠ‚ç‚¹çš„ç‰¹å¾çŸ¥è¯†ï¼Œè¿˜è¿ç§»å›¾çš„<strong>æ‹“æ‰‘ç»“æ„çŸ¥è¯†</strong>ï¼ˆå¦‚èŠ‚ç‚¹é—´çš„è¿æ¥å…³ç³»ã€å­å›¾çš„ç»“æ„æ¨¡å¼ï¼‰ã€‚</p>
<ol>
<li>æœ¬äººå†…å®¹ä¸æ¶‰åŠï¼Œä¸åšè¯¦è§£</li>
</ol>
</li>
<li>
<p>æ³¨æ„åŠ›è’¸é¦ï¼šèšç„¦äºè¿ç§»æ•™å¸ˆæ¨¡å‹çš„<strong>æ³¨æ„åŠ›æƒé‡</strong>ï¼Œè®©å­¦ç”Ÿæ¨¡å‹å¤åˆ»æ•™å¸ˆçš„ â€œå†³ç­–é€»è¾‘â€â€”â€” æ¯”å¦‚æ•™å¸ˆå…³æ³¨å›¾åƒçš„å“ªä¸ªåŒºåŸŸã€æ–‡æœ¬çš„å“ªä¸ªè¯ï¼Œè€Œéä»…å­¦ä¹ è¾“å‡ºå±‚çš„è½¯æ ‡ç­¾ã€‚</p>
<ol>
<li>è·å–æ³¨æ„åŠ›æƒé‡ï¼šç±»æ¯”ä¸Šé¢"åŸºäºå…³ç³»çš„çŸ¥è¯†"ï¼ŒåŒºåˆ«åœ¨äºè¿™ä¸ªè’¸é¦æ–¹æ³•æ˜¯é’ˆå¯¹æ ·æœ¬ï¼Œä¸Šé¢æ˜¯é’ˆå¯¹æ ·æœ¬ç»„</li>
<li>è’¸é¦çš„æŸå¤±è®¾è®¡ï¼š
<ol>
<li>ç›´æ¥åŒ¹é…ï¼šå­¦ç”Ÿçš„æ³¨æ„åŠ›çŸ©é˜µä¸æ•™å¸ˆçš„æ³¨æ„åŠ›çŸ©é˜µçš„ MSE æŸå¤±ï¼›</li>
<li>ç‰¹å¾åŠ æƒï¼šç”¨æ•™å¸ˆçš„æ³¨æ„åŠ›æƒé‡åŠ æƒå­¦ç”Ÿçš„ä¸­é—´ç‰¹å¾ï¼Œå†è®¡ç®—ä¸æ•™å¸ˆç‰¹å¾çš„</li>
</ol>
</li>
<li>é€šä¿—è®²å°±æ˜¯æŠŠæ•™å¸ˆæ¨¡å‹çš„æ³¨æ„åŠ›æƒé‡é™„åŠ åˆ°å­¦ç”Ÿæ¨¡å‹çš„ç‰¹å¾å‘é‡ï¼Œè¦ä¸€ä¸€å¯¹åº”ï¼Œè¿™æ ·å­¦ç”Ÿå°±çŸ¥é“äº†å‘é‡çš„é‡è¦ç¨‹åº¦</li>
</ol>
</li>
<li>
<p>æ— æ•°æ®è’¸é¦ï¼šåœ¨<strong>æ²¡æœ‰åŸå§‹è®­ç»ƒæ•°æ®</strong>çš„å‰æä¸‹ï¼Œå®ç°æ•™å¸ˆæ¨¡å‹åˆ°å­¦ç”Ÿæ¨¡å‹çš„çŸ¥è¯†è¿ç§»ï¼Œæ ¸å¿ƒè§£å†³<strong>æ•°æ®éšç§å’Œæ•°æ®ç¼ºå¤±</strong>çš„é—®é¢˜ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0df7c135ca23473aabfb18beb80cc9dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-u5Lq65LiJ562J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768561991&amp;x-signature=h0rfVJ3fFil13NUlNSxVfQt%2FqNs%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<ol>
<li>ç”Ÿæˆä¼ªæ•°æ®
<ol>
<li>ç”¨æ•™å¸ˆæ¨¡å‹æŒ‡å¯¼ä¸€ä¸ªç”Ÿæˆå™¨ï¼ˆå¦‚ GANï¼‰ï¼Œç”Ÿæˆèƒ½å¤Ÿæ¿€æ´»æ•™å¸ˆæ¨¡å‹å…³é”®ç‰¹å¾çš„ä¼ªæ•°æ®ï¼ˆå¦‚è®©æ•™å¸ˆè¾“å‡ºé«˜ç½®ä¿¡åº¦çš„å›¾åƒï¼‰ï¼›</li>
<li>ä¼ªæ•°æ®çš„è´¨é‡ç›´æ¥å†³å®šè’¸é¦æ•ˆæœã€‚</li>
</ol>
</li>
<li>è’¸é¦æµç¨‹ï¼š
<ol>
<li>ç”Ÿæˆå™¨ç”Ÿæˆä¼ªæ•°æ®â†’è¾“å…¥æ•™å¸ˆæ¨¡å‹ï¼Œå¾—åˆ°è½¯æ ‡ç­¾ï¼›</li>
<li>å­¦ç”Ÿæ¨¡å‹å­¦ä¹ ä¼ªæ•°æ®å’Œå¯¹åº”çš„è½¯æ ‡ç­¾ï¼Œæ— éœ€æ¥è§¦åŸå§‹æ•°æ®ã€‚</li>
</ol>
</li>
<li>ç¦»çº¿è’¸é¦æ¨¡å¼</li>
</ol>
</li>
<li>
<p>é‡åŒ–è’¸é¦ï¼šå°†<strong>æ¨¡å‹é‡åŒ–</strong>ä¸çŸ¥è¯†è’¸é¦ç»“åˆï¼Œåœ¨æŠŠæ¨¡å‹æƒé‡ä»é«˜ç²¾åº¦ï¼ˆå¦‚ FP32ï¼‰å‹ç¼©åˆ°ä½ç²¾åº¦ï¼ˆå¦‚ INT8ã€INT4ï¼‰çš„åŒæ—¶ï¼Œé€šè¿‡è’¸é¦å¼¥è¡¥é‡åŒ–å¸¦æ¥çš„æ€§èƒ½æŸå¤±ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3b4186eb4a324b9daa09b55036577a65~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-u5Lq65LiJ562J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768561991&amp;x-signature=6bWPFaKl282xPP1x43i619rx%2B%2FY%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<ol>
<li>é‡åŒ–çš„æ ¸å¿ƒé—®é¢˜ï¼šä½ç²¾åº¦é‡åŒ–ä¼šå¯¼è‡´æƒé‡ä¿¡æ¯ä¸¢å¤±ï¼Œæ¨¡å‹ç²¾åº¦ä¸‹é™ï¼›</li>
<li>é€šè¿‡è’¸é¦è¿›è¡Œè¡¥å¿çš„ç­–ç•¥ï¼š
<ol>
<li>æ•™å¸ˆï¼šé«˜ç²¾åº¦çš„åŸå§‹æ¨¡å‹ï¼ˆFP32ï¼‰ï¼›</li>
<li>å­¦ç”Ÿï¼šé‡åŒ–åçš„ä½ç²¾åº¦æ¨¡å‹ï¼ˆINT8ï¼‰ï¼›</li>
<li>è’¸é¦ç›®æ ‡ï¼šè®©é‡åŒ–å­¦ç”Ÿçš„è¾“å‡ºä¸é«˜ç²¾åº¦æ•™å¸ˆçš„è¾“å‡ºå¯¹é½ï¼ŒåŒæ—¶ä¼˜åŒ–é‡åŒ–è¯¯å·®ã€‚</li>
</ol>
</li>
<li>QATï¼šåœ¨<strong>è®­ç»ƒè¿‡ç¨‹ä¸­å°±æ¨¡æ‹Ÿé‡åŒ–çš„è¯¯å·®</strong>ï¼Œè®©æ¨¡å‹æå‰é€‚åº”ä½ç²¾åº¦ï¼Œæœ€ç»ˆé‡åŒ–åçš„ç²¾åº¦æŸå¤±å¤§å¹…é™ä½ã€‚
<ol>
<li>é€šä¿—è®²å¹¶ä¸æ˜¯å­¦ç”Ÿå°±ä¸€ç›´ç”¨ä½ç²¾åº¦æ¥è®­ç»ƒï¼Œè€Œæ˜¯åœ¨é‡åŒ– / åé‡åŒ–èŠ‚ç‚¹é™ä½ç²¾ç¡®åº¦è¿›è¡Œè®­ç»ƒï¼Œè¿™æ ·å°±å¯ä»¥è®©æ¨¡å‹æ„Ÿå—åˆ°ä¸¢å¤±ç²¾ç¡®åº¦å¸¦æ¥çš„å½±å“ï¼Œä»è€Œé™ä½è¿™éƒ¨åˆ†å½±å“</li>
</ol>
</li>
</ol>
</li>
<li>
<p>ç»ˆèº«è’¸é¦ï¼šä¹Ÿå«<strong>æŒç»­å­¦ä¹ è’¸é¦</strong>ï¼Œè§£å†³æ¨¡å‹åœ¨<strong>è¿ç»­å­¦ä¹ æ–°ä»»åŠ¡</strong>æ—¶çš„ â€œç¾éš¾æ€§é—å¿˜â€ é—®é¢˜ â€”â€” è®©æ¨¡å‹åœ¨å­¦ä¹ æ–°ä»»åŠ¡çŸ¥è¯†çš„åŒæ—¶ï¼Œé€šè¿‡è’¸é¦ä¿ç•™æ—§ä»»åŠ¡çš„çŸ¥è¯†ã€‚</p>
<ol>
<li>ç‰¹æœ‰æœºåˆ¶ï¼š
<ol>
<li><strong>çŸ¥è¯†å›æ”¾</strong>ï¼ˆReplayï¼‰ï¼šè®­ç»ƒæ–°ä»»åŠ¡æ—¶ï¼Œæ¯éš” epoch å›æ”¾ç¼“å­˜çš„æ—§ä»»åŠ¡æ ·æœ¬ï¼Œè®©å­¦ç”ŸåŒæ—¶å­¦æ–°æ—§ä»»åŠ¡ï¼›</li>
<li><strong>å¼¹æ€§æƒé‡å›ºåŒ–ï¼ˆEWCï¼‰</strong>ï¼šå¯¹æ—§ä»»åŠ¡é‡è¦çš„å‚æ•° â€œåŠ æƒé‡æƒ©ç½šâ€ï¼Œé¿å…æ–°ä»»åŠ¡è®­ç»ƒæ—¶ä¿®æ”¹è¿™äº›å‚æ•°ï¼ˆæ¯”å¦‚è¯†åˆ«çŒ«çš„å‚æ•°ï¼Œå­¦ç‹—æ—¶ä¸è¢«ç¯¡æ”¹ï¼‰ã€‚</li>
</ol>
</li>
<li>çŸ¥è¯†ç¼“å­˜æœºåˆ¶
<ol>
<li>å­¦ä¹ æ–°ä»»åŠ¡æ—¶ï¼Œç¼“å­˜æ—§ä»»åŠ¡çš„å…³é”®æ ·æœ¬å’Œæ•™å¸ˆæ¨¡å‹ï¼ˆæ—§ä»»åŠ¡çš„æœ€ä¼˜æ¨¡å‹ï¼‰ï¼›</li>
<li>æ–°ä»»åŠ¡çš„å­¦ç”Ÿæ¨¡å‹åŒæ—¶å­¦ä¹ ï¼šâ‘  æ–°ä»»åŠ¡çš„ç¡¬æ ‡ç­¾ï¼›â‘¡ æ—§ä»»åŠ¡æ•™å¸ˆæ¨¡å‹çš„è½¯æ ‡ç­¾ã€‚</li>
</ol>
</li>
<li>å¢é‡è’¸é¦ç­–ç•¥
<ol>
<li>æ¯æ¬¡å­¦ä¹ æ–°ä»»åŠ¡åï¼Œæ›´æ–°æ•™å¸ˆæ¨¡å‹ä¸º â€œæ–°æ—§ä»»åŠ¡èåˆçš„æ¨¡å‹â€ï¼›</li>
<li>åç»­ä»»åŠ¡çš„å­¦ç”Ÿæ¨¡å‹ï¼Œå§‹ç»ˆå­¦ä¹ æœ€æ–°çš„æ•™å¸ˆæ¨¡å‹çŸ¥è¯†ã€‚</li>
</ol>
</li>
</ol>
</li>
<li>
<p>NASè’¸é¦ï¼šå°†<strong>çŸ¥è¯†è’¸é¦ä¸ç¥ç»æ¶æ„æœç´¢ï¼ˆNASï¼‰</strong> ç»“åˆï¼Œç”¨æ•™å¸ˆæ¨¡å‹çš„çŸ¥è¯†æ¥æŒ‡å¯¼ NAS ç®—æ³•ï¼Œé«˜æ•ˆæœç´¢å‡ºæ€§èƒ½æ¥è¿‘æ•™å¸ˆã€ä¸”è®¡ç®—é‡æå°çš„å­¦ç”Ÿæ¨¡å‹æ¶æ„</p>
<ol>
<li>ä¸€ç§å¯ä»¥è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜å­¦ç”Ÿæ¨¡å‹çš„ç®—æ³•ã€‚</li>
</ol>
</li>
<li>
<p>æ–¹æ³•é€‰æ‹©ï¼š</p>
<ol>
<li><strong>çœ‹æ•°æ®æ¡ä»¶</strong>ï¼šæ•°æ®éšç§â†’æ— æ•°æ®è’¸é¦ï¼›æ•°æ®å¤šæ¨¡æ€â†’è·¨æ¨¡æ€è’¸é¦ï¼›</li>
<li><strong>çœ‹æ¨¡å‹æ¶æ„</strong>ï¼šå›¾ç»“æ„â†’å›¾è’¸é¦ï¼›Transformerâ†’æ³¨æ„åŠ›è’¸é¦ï¼›</li>
<li><strong>çœ‹éƒ¨ç½²éœ€æ±‚</strong>ï¼šè¾¹ç¼˜è®¾å¤‡â†’é‡åŒ–è’¸é¦ï¼›è‡ªåŠ¨åŒ–è®¾è®¡â†’NAS è’¸é¦ï¼›</li>
<li><strong>çœ‹ä»»åŠ¡ç‰¹æ€§</strong>ï¼šæŒç»­å­¦ä¹ â†’ç»ˆèº«è’¸é¦ï¼›é²æ£’æ€§è¦æ±‚â†’å¯¹æŠ—è’¸é¦ï¼›é«˜ç²¾åº¦è¦æ±‚â†’å¤šæ•™å¸ˆè’¸é¦ã€‚</li>
<li>å¸¸ç”¨ç¨‹åº¦ï¼šæ³¨æ„åŠ›è’¸é¦ / é‡åŒ–è’¸é¦ / å¤šæ•™å¸ˆè’¸é¦ &gt; è·¨æ¨¡æ€è’¸é¦ &gt; å¯¹æŠ— / æ— æ•°æ® / å›¾ / ç»ˆèº« / NAS è’¸é¦ï¼›</li>
</ol>
</li>
</ol>
<h3 data-id="heading-6">å‚è€ƒ</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fu012347027%2Farticle%2Fdetails%2F111415197" target="_blank" title="https://blog.csdn.net/u012347027/article/details/111415197" ref="nofollow noopener noreferrer">1</a> <a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fa131529%2Farticle%2Fdetails%2F144582677" target="_blank" title="https://blog.csdn.net/a131529/article/details/144582677" ref="nofollow noopener noreferrer">2</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScript å¦‚ä½•å‡†ç¡®åˆ¤æ–­æ•°æ®ç±»å‹ï¼Ÿ5 ç§æ–¹æ³•æ·±åº¦å¯¹æ¯”]]></title>    <link>https://juejin.cn/post/7593139476840841222</link>    <guid>https://juejin.cn/post/7593139476840841222</guid>    <pubDate>2026-01-09T11:31:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593139476840841222" data-draft-id="7582785032852504639" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScript å¦‚ä½•å‡†ç¡®åˆ¤æ–­æ•°æ®ç±»å‹ï¼Ÿ5 ç§æ–¹æ³•æ·±åº¦å¯¹æ¯”"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-01-09T11:31:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜å¤§å"/> <meta itemprop="url" content="https://juejin.cn/user/3507878440995946"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScript å¦‚ä½•å‡†ç¡®åˆ¤æ–­æ•°æ®ç±»å‹ï¼Ÿ5 ç§æ–¹æ³•æ·±åº¦å¯¹æ¯”
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3507878440995946/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜å¤§å
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T11:31:57.000Z" title="Fri Jan 09 2026 11:31:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å†™jsçš„æ—¶å€™ï¼Œå¾ˆå®¹æ˜“å› ä¸ºæ•°æ®ç±»å‹æ²¡åˆ¤æ–­å¥½è€Œå‡ºé”™ï¼Œæ¯”å¦‚è¿™æ ·çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">calculate</span>(<span class="hljs-params">a, b</span>) {
    <span class="hljs-keyword">return</span> a + b;
}
<span class="hljs-comment">// æˆ‘ä»¥ä¸ºæ˜¯ 10 + 20 = 30</span>
<span class="hljs-title function_">calculate</span>(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>); <span class="hljs-comment">// ç»“æœ 30 å¯¹çš„ </span>

<span class="hljs-comment">// å®é™…ä¸Šç”¨æˆ·è¾“å…¥çš„æ˜¯å­—ç¬¦ä¸²å’Œæ•°å­—</span>
<span class="hljs-title function_">calculate</span>(<span class="hljs-string">"10"</span>, <span class="hljs-number">20</span>); <span class="hljs-comment">// ç»“æœä¸º "1020" </span>
</code></pre>
<p>æ‰€ä»¥ä¸ºäº†é¿å…è¿™ç§æƒ…å†µçš„å‡ºç°ï¼Œæˆ‘ä»¬è¿˜æ˜¯è¦å»åˆ¤æ–­å¥½æ•°æ®ç±»å‹ã€‚</p>
<p>åœ¨<code>JavaScript</code>ä¸­ï¼Œæœ‰å‡ ç§æ–¹å¼æ¥åˆ¤æ–­æ•°æ®ç±»å‹ï¼Œä»¥ä¸‹æ˜¯å¸¸ç”¨çš„æ–¹æ³•ï¼š</p>
<h2 data-id="heading-0">1. typeof æ“ä½œç¬¦</h2>
<p>æœ€å¸¸ç”¨çš„ç±»å‹åˆ¤æ–­æ–¹æ³•ï¼Œä½†æœ‰ä¸€äº›å±€é™æ€§ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">typeof</span> <span class="hljs-number">42</span>;           <span class="hljs-comment">// "number"</span>
<span class="hljs-keyword">typeof</span> <span class="hljs-string">"hello"</span>;      <span class="hljs-comment">// "string"</span>
<span class="hljs-keyword">typeof</span> <span class="hljs-literal">true</span>;         <span class="hljs-comment">// "boolean"</span>
<span class="hljs-keyword">typeof</span> <span class="hljs-literal">undefined</span>;    <span class="hljs-comment">// "undefined"</span>
<span class="hljs-keyword">typeof</span> <span class="hljs-literal">null</span>;         <span class="hljs-comment">// "object" (å†å²é—ç•™é—®é¢˜)</span>
<span class="hljs-keyword">typeof</span> {};           <span class="hljs-comment">// "object"</span>
<span class="hljs-keyword">typeof</span> [];           <span class="hljs-comment">// "object"</span>
<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"/>){}; <span class="hljs-comment">// "function"</span>
<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Symbol</span>();     <span class="hljs-comment">// "symbol"</span>
<span class="hljs-keyword">typeof</span> <span class="hljs-number">42n</span>;          <span class="hljs-comment">// "bigint"</span>
</code></pre>
<p><strong>å±€é™æ€§</strong>ï¼š</p>
<ul>
<li>æ— æ³•åŒºåˆ†æ•°ç»„ã€å¯¹è±¡å’Œ <code>null</code></li>
<li>å‡½æ•°è¿”å› <code>function</code></li>
<li><code>typeof</code> é€‚åˆåˆ¤æ–­åŸºæœ¬ç±»å‹ï¼Œä½†é‡åˆ°å¯¹è±¡ç±»å‹å°±åŠ›ä¸ä»å¿ƒäº†</li>
</ul>
<hr/>
<h2 data-id="heading-1">2. instanceof æ“ä½œç¬¦</h2>
<p>ç”¨äºæ£€æµ‹æ„é€ å‡½æ•°çš„ <code>prototype</code> å±æ€§æ˜¯å¦å‡ºç°åœ¨å¯¹è±¡çš„åŸå‹é“¾ä¸­ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">[] <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Array</span>;           <span class="hljs-comment">// true</span>
{} <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Object</span>;          <span class="hljs-comment">// true</span>
<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>() <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Date</span>;    <span class="hljs-comment">// true</span>
<span class="hljs-keyword">function</span>(<span class="hljs-params"/>){} <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Function</span>; <span class="hljs-comment">// true</span>

<span class="hljs-comment">// ç»§æ‰¿å…³ç³»ï¼Œæ•°ç»„ä¹Ÿæ˜¯å¯¹è±¡</span>
[] <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Object</span>;          <span class="hljs-comment">// true</span>
</code></pre>
<p><code>instanceof</code> çš„å±€é™æ€§ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åŸºæœ¬ç±»å‹ç”¨ä¸äº†</span>
<span class="hljs-number">42</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Number</span>;          <span class="hljs-comment">// false</span>
<span class="hljs-string">"hello"</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">String</span>;     <span class="hljs-comment">// false</span>
</code></pre>
<p>åœ¨è·¨ <code>iframe</code> æˆ–ä¸åŒ <code>window</code> ç¯å¢ƒä¸‹å¯èƒ½å¤±æ•ˆï¼ˆå› ä¸ºæ„é€ å‡½æ•°ä¸åŒï¼‰</p>
<hr/>
<h2 data-id="heading-2">3. Object.prototype .toString.call()</h2>
<p>è¿™æ˜¯æœ€å‡†ç¡®ã€æœ€å¯é çš„æ–¹æ³•,èƒ½è¯†åˆ«æ‰€æœ‰å†…ç½®ç±»å‹ï¼</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(<span class="hljs-number">42</span>);           <span class="hljs-comment">// "[object Number]"</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(<span class="hljs-string">"hello"</span>);      <span class="hljs-comment">// "[object String]"</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(<span class="hljs-literal">true</span>);         <span class="hljs-comment">// "[object Boolean]"</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(<span class="hljs-literal">null</span>);         <span class="hljs-comment">// "[object Null]"</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(<span class="hljs-literal">undefined</span>);    <span class="hljs-comment">// "[object Undefined]"</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>([]);           <span class="hljs-comment">// "[object Array]"</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>({});           <span class="hljs-comment">// "[object Object]"</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>){}); <span class="hljs-comment">// "[object Function]"</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(<span class="hljs-title class_">Symbol</span>());     <span class="hljs-comment">// "[object Symbol]"</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(<span class="hljs-number">42n</span>);          <span class="hljs-comment">// "[object BigInt]"</span>
</code></pre>
<p>æˆ‘ä»¬å°è£…ä¸€ä¸ªå®ç”¨çš„å·¥å…·å‡½æ•°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getRealType</span>(<span class="hljs-params">value</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(value)
        .<span class="hljs-title function_">slice</span>(<span class="hljs-number">8</span>, -<span class="hljs-number">1</span>)          <span class="hljs-comment">// æˆªå–"[object "å’Œ"]"ä¹‹é—´çš„å†…å®¹</span>
        .<span class="hljs-title function_">toLowerCase</span>();         <span class="hljs-comment">// è½¬ä¸ºå°å†™ï¼Œæ›´å‹å¥½</span>
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getRealType</span>([]));        <span class="hljs-comment">// "array"</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getRealType</span>(<span class="hljs-literal">null</span>));      <span class="hljs-comment">// "null"</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getRealType</span>({}));        <span class="hljs-comment">// "object"</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getRealType</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>())); <span class="hljs-comment">// "date"</span>
</code></pre>
<hr/>
<h2 data-id="heading-3">4. ä¸“ç”¨æ–¹æ³•</h2>
<p>å¯¹äºä¸€äº›ç‰¹æ®Šç±»å‹ï¼ŒJavaScriptæä¾›äº†ä¸“é—¨çš„åˆ¤æ–­æ–¹æ³•ï¼š</p>
<h3 data-id="heading-4">åˆ¤æ–­æ•°ç»„ï¼šArray.isArray()</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>([]);     <span class="hljs-comment">// true</span>
<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>({});     <span class="hljs-comment">// false</span>
<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(<span class="hljs-string">"123"</span>);  <span class="hljs-comment">// false</span>
</code></pre>
<h3 data-id="heading-5">åˆ¤æ–­NaNï¼šNumber.isNaN()</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ³¨æ„åŒºåˆ«ï¼</span>
<span class="hljs-built_in">isNaN</span>(<span class="hljs-string">"hello"</span>);        <span class="hljs-comment">// true  â† å­—ç¬¦ä¸²ä¸æ˜¯æ•°å­—ï¼Œä½†è¿™æ ·åˆ¤æ–­å®¹æ˜“è¯¯è§£</span>
<span class="hljs-title class_">Number</span>.<span class="hljs-built_in">isNaN</span>(<span class="hljs-string">"hello"</span>); <span class="hljs-comment">// false â† æ›´å‡†ç¡®ï¼šåªæœ‰çœŸæ­£çš„NaNæ‰è¿”å›true</span>
<span class="hljs-title class_">Number</span>.<span class="hljs-built_in">isNaN</span>(<span class="hljs-title class_">NaN</span>);     <span class="hljs-comment">// true</span>
</code></pre>
<h3 data-id="heading-6">åˆ¤æ–­æœ‰é™æ•°å­—ï¼šNumber.isFinite()</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Number</span>.<span class="hljs-built_in">isFinite</span>(<span class="hljs-number">42</span>);     <span class="hljs-comment">// true</span>
<span class="hljs-title class_">Number</span>.<span class="hljs-built_in">isFinite</span>(<span class="hljs-title class_">Infinity</span>); <span class="hljs-comment">// false  â† æ— ç©·å¤§ä¸æ˜¯æœ‰é™æ•°å­—</span>
<span class="hljs-title class_">Number</span>.<span class="hljs-built_in">isFinite</span>(<span class="hljs-string">"42"</span>);   <span class="hljs-comment">// false  â† å­—ç¬¦ä¸²ä¸æ˜¯æ•°å­—</span>
</code></pre>
<h2 data-id="heading-7">ç¼–å†™å¥å£®çš„å‡½æ•°</h2>
<p>åœ¨å®é™…å¼€å‘ä¸­çš„åº”ç”¨ï¼š</p>
<h3 data-id="heading-8">åœºæ™¯1ï¼šå®‰å…¨çš„æ•°å­—ç›¸åŠ </h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">safeAdd</span>(<span class="hljs-params">a, b</span>) {
    <span class="hljs-comment">// ç¡®ä¿ä¸¤ä¸ªå‚æ•°éƒ½æ˜¯æ•°å­—ç±»å‹</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> a !== <span class="hljs-string">'number'</span> || <span class="hljs-keyword">typeof</span> b !== <span class="hljs-string">'number'</span>) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'å‚æ•°å¿…é¡»æ˜¯æ•°å­—'</span>);
    }
    <span class="hljs-keyword">return</span> a + b;
}

<span class="hljs-title function_">safeAdd</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);     <span class="hljs-comment">// 3</span>
<span class="hljs-title function_">safeAdd</span>(<span class="hljs-number">1</span>, <span class="hljs-string">"2"</span>);   <span class="hljs-comment">// æŠ¥é”™ï¼šå‚æ•°å¿…é¡»æ˜¯æ•°å­—</span>
</code></pre>
<h3 data-id="heading-9">åœºæ™¯2ï¼šå¤„ç†å¤šç§æ•°æ®ç±»å‹</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">processData</span>(<span class="hljs-params">data</span>) {
    <span class="hljs-comment">// getRealTypeæ–¹æ³•åœ¨ç¬¬3ç‚¹Object.prototype.toString.call()ä¸­æœ‰å†™</span>
    <span class="hljs-keyword">const</span> type = <span class="hljs-title function_">getRealType</span>(data); 
    
    <span class="hljs-keyword">switch</span>(type) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">'array'</span>:
            <span class="hljs-keyword">return</span> data.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item * <span class="hljs-number">2</span>);
        <span class="hljs-keyword">case</span> <span class="hljs-string">'object'</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(data).<span class="hljs-property">length</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">'string'</span>:
            <span class="hljs-keyword">return</span> data.<span class="hljs-title function_">toUpperCase</span>();
        <span class="hljs-keyword">case</span> <span class="hljs-string">'number'</span>:
            <span class="hljs-keyword">return</span> data * <span class="hljs-number">2</span>;
        <span class="hljs-attr">default</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">'ä¸æ”¯æŒçš„æ•°æ®ç±»å‹'</span>;
    }
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">processData</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]));    <span class="hljs-comment">// [2, 4, 6]</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">processData</span>(<span class="hljs-string">"hello"</span>));      <span class="hljs-comment">// "HELLO"</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">processData</span>({<span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">2</span>})); <span class="hljs-comment">// 2</span>
</code></pre>
<h2 data-id="heading-10">æ€»ç»“ï¼šé€‰æ‹©åˆé€‚çš„æ–¹æ³•</h2>



































<table><thead><tr><th>åœºæ™¯</th><th>æ¨èæ–¹æ³•</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>åˆ¤æ–­åŸºæœ¬ç±»å‹</td><td><code>typeof</code></td><td><code>typeof "hello" === "string"</code></td></tr><tr><td>åˆ¤æ–­æ•°ç»„</td><td><code>Array.isArray()</code></td><td><code>Array.isArray([])</code></td></tr><tr><td>åˆ¤æ–­è‡ªå®šä¹‰å¯¹è±¡</td><td><code>instanceof</code></td><td><code>obj instanceof MyClass</code></td></tr><tr><td>ç²¾ç¡®ç±»å‹åˆ¤æ–­</td><td><code>Object.prototype.toString.call()</code></td><td>è§ä¸Šæ–‡å·¥å…·å‡½æ•°</td></tr><tr><td>ç‰¹æ®Šå€¼åˆ¤æ–­</td><td>ä¸“ç”¨æ–¹æ³•</td><td><code>Number.isNaN()</code>, <code>Number.isFinite()</code></td></tr></tbody></table>
<blockquote>
<p>æœ¬æ–‡é¦–å‘äºå…¬ä¼—å·ï¼šç¨‹åºå‘˜å¤§åï¼Œä¸“æ³¨åˆ†äº«å‰åç«¯å¼€å‘çš„å®æˆ˜ç¬”è®°ã€‚å…³æ³¨æˆ‘ï¼Œå°‘èµ°å¼¯è·¯ï¼Œä¸€èµ·è¿›æ­¥ï¼</p>
</blockquote>
<h4 data-id="heading-11">ğŸ“Œå¾€æœŸç²¾å½©</h4>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FUqzEppE_f8gdil6S-toBTg" target="_blank" title="https://mp.weixin.qq.com/s/UqzEppE_f8gdil6S-toBTg" ref="nofollow noopener noreferrer">å†™å‰ç«¯ä¹…äº†ï¼Œæˆ‘ç”¨ Node.js ç»™è‡ªå·±é€ äº†å‡ ä¸ªçœåŠ›å°å·¥å…·</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FF4JkmYxUs9RAtsti6V1uhg" target="_blank" title="https://mp.weixin.qq.com/s/F4JkmYxUs9RAtsti6V1uhg" ref="nofollow noopener noreferrer">æˆ‘ä¹Ÿæ˜¯å†™äº†å¾ˆä¹… TypeScriptï¼Œæ‰æ„è¯†åˆ°è¿™äº›å†™æ³•ä¸å¯¹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F2wHCiqgtRfK_008fLBamPQ" target="_blank" title="https://mp.weixin.qq.com/s/2wHCiqgtRfK_008fLBamPQ" ref="nofollow noopener noreferrer">ThreadLocal åœ¨å®é™…é¡¹ç›®ä¸­çš„ 6 å¤§ç”¨æ³•ï¼ŒåŸæ¥å¯ä»¥è¿™ä¹ˆç®€å•</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FsMAKhSLNvmU1ddxg0yv9Fg" target="_blank" title="https://mp.weixin.qq.com/s/sMAKhSLNvmU1ddxg0yv9Fg" ref="nofollow noopener noreferrer">é‡æ„äº†20ä¸ªSpringBooté¡¹ç›®åï¼Œæ€»ç»“å‡ºè¿™å¥—ç¨³å®šé«˜æ•ˆçš„æ¶æ„è®¾è®¡</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[CSS ç‰¹æ®Šç¬¦å· / è‹±æ–‡å¯¼è‡´æ¢è¡Œé—®é¢˜é€ŸæŸ¥è¡¨]]></title>    <link>https://juejin.cn/post/7593077945016221723</link>    <guid>https://juejin.cn/post/7593077945016221723</guid>    <pubDate>2026-01-09T10:02:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593077945016221723" data-draft-id="7593169840199794714" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="CSS ç‰¹æ®Šç¬¦å· / è‹±æ–‡å¯¼è‡´æ¢è¡Œé—®é¢˜é€ŸæŸ¥è¡¨"/> <meta itemprop="keywords" content="CSS"/> <meta itemprop="datePublished" content="2026-01-09T10:02:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¡å°”ç‰¹æ–¯"/> <meta itemprop="url" content="https://juejin.cn/user/4450440831840909"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            CSS ç‰¹æ®Šç¬¦å· / è‹±æ–‡å¯¼è‡´æ¢è¡Œé—®é¢˜é€ŸæŸ¥è¡¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4450440831840909/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¡å°”ç‰¹æ–¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T10:02:55.000Z" title="Fri Jan 09 2026 10:02:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€æœ€æ¨èé€šç”¨å†™æ³•ï¼ˆ90% åœºæ™¯ï¼‰</h2>
<pre><code class="hljs language-arduino" lang="arduino">.text {
  <span class="hljs-type">word</span>-<span class="hljs-keyword">break</span>: normal;
  overflow-wrap: <span class="hljs-keyword">break</span>-<span class="hljs-type">word</span>;
  white-space: normal;
}
</code></pre>
<p><strong>é€‚ç”¨ï¼š</strong></p>
<ul>
<li>ä¸­æ–‡ + è‹±æ–‡æ··æ’</li>
<li>URL / ç‰¹æ®Šç¬¦å·</li>
<li>ä¸å¸Œæœ›è‹±æ–‡è¢«æ‹†æˆå­—æ¯</li>
</ul>
<hr/>
<h2 data-id="heading-1">äºŒã€å¸¸è§éœ€æ±‚å¯¹åº”å†™æ³•</h2>
<blockquote>
<p>ä»¥ä¸‹åœºæ™¯è¦†ç›–ï¼š<strong>ä¸æ‹†å•è¯ / å…è®¸æ‹†å•è¯ / ç‰¹æ®Šç¬¦å·æå‰æ¢è¡Œ</strong> ç­‰çœŸå®ä¸šåŠ¡éœ€æ±‚</p>
</blockquote>
<h3 data-id="heading-2">1ï¸âƒ£ ä¸å¸Œæœ›å•è¯è¢«æ‹†å¼€</h3>
<pre><code class="hljs language-arduino" lang="arduino">.text {
  <span class="hljs-type">word</span>-<span class="hljs-keyword">break</span>: normal;
  overflow-wrap: normal;
}
</code></pre>
<hr/>
<h3 data-id="heading-3">2ï¸âƒ£ å•è¯å¤ªé•¿å…è®¸å¿…è¦æ—¶æ¢è¡Œï¼ˆæ¨èï¼‰</h3>
<pre><code class="hljs language-arduino" lang="arduino">.text {
  overflow-wrap: <span class="hljs-keyword">break</span>-<span class="hljs-type">word</span>;
  <span class="hljs-type">word</span>-<span class="hljs-keyword">break</span>: normal;
}
</code></pre>
<hr/>
<h3 data-id="heading-4">3ï¸âƒ£ ç‰¹æ®Šç¬¦å·ï¼ˆ<code>- _ / .</code>ï¼‰å¯¼è‡´æ–­è¡Œ</h3>
<pre><code class="hljs language-arduino" lang="arduino">.text {
  <span class="hljs-type">word</span>-<span class="hljs-keyword">break</span>: keep-all;
  overflow-wrap: <span class="hljs-keyword">break</span>-<span class="hljs-type">word</span>;
}
</code></pre>
<hr/>
<h3 data-id="heading-5">4ï¸âƒ£ å®Œå…¨ä¸æ¢è¡Œï¼ˆä¸€è¡Œæ˜¾ç¤ºï¼‰</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.text</span> {
  <span class="hljs-attribute">white-space</span>: nowrap;
}
</code></pre>
<hr/>
<h3 data-id="heading-6">5ï¸âƒ£ ä¸€è¡Œæ˜¾ç¤ºï¼Œè¶…å‡ºçœç•¥å·</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.text</span> {
  <span class="hljs-attribute">white-space</span>: nowrap;
  <span class="hljs-attribute">overflow</span>: hidden;
  <span class="hljs-attribute">text-overflow</span>: ellipsis;
}
</code></pre>
<hr/>
<h3 data-id="heading-7">6ï¸âƒ£ URL / é•¿é“¾æ¥ä¼˜é›…æ–­è¡Œ</h3>
<pre><code class="hljs language-arduino" lang="arduino">.text {
  <span class="hljs-type">word</span>-<span class="hljs-keyword">break</span>: normal;
  overflow-wrap: anywhere;
}
</code></pre>
<hr/>
<h3 data-id="heading-8">7ï¸âƒ£ ä»£ç  / hash / token å¼ºåˆ¶æ–­è¡Œ</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.code</span> {
  <span class="hljs-attribute">word-break</span>: break-all;
  <span class="hljs-attribute">font-family</span>: monospace;
}
</code></pre>
<hr/>
<h3 data-id="heading-9">8ï¸âƒ£ <strong>æ˜ç¡®æ¥å—å•è¯è¢«æ‹†å¼€ï¼ˆå¼ºåˆ¶ä»»ä½•ä½ç½®æ¢è¡Œï¼‰</strong></h3>
<pre><code class="hljs language-arduino" lang="arduino">.text {
  <span class="hljs-type">word</span>-<span class="hljs-keyword">break</span>: <span class="hljs-keyword">break</span>-all;
}
</code></pre>
<p><strong>é€‚ç”¨ï¼š</strong></p>
<ul>
<li>æ—¥å¿—å†…å®¹</li>
<li>é•¿ hash / token / ID</li>
<li>ç©ºé—´æçª„ä½†å¿…é¡»å®Œæ•´å±•ç¤º</li>
</ul>
<p>âš ï¸ è‹±æ–‡ä¼šè¢«æ‹†æˆå­—æ¯ï¼Œå±äº<strong>ä¸»åŠ¨é€‰æ‹©çš„è¡Œä¸º</strong></p>
<hr/>
<h3 data-id="heading-10">9ï¸âƒ£ <strong>ç‰¹æ®Šç¬¦å·å¯¼è‡´â€œæå‰æ¢è¡Œâ€ï¼ˆå¦‚ <code>- / _ .</code>ï¼‰</strong></h3>
<pre><code class="hljs language-arduino" lang="arduino">.text {
  <span class="hljs-type">word</span>-<span class="hljs-keyword">break</span>: normal;
  overflow-wrap: normal;
}
</code></pre>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>ç¦æ­¢åœ¨ç¬¦å·å¤„æ–­è¡Œ</li>
<li>è®©æµè§ˆå™¨åªåœ¨çœŸæ­£éœ€è¦æ—¶æ¢è¡Œ</li>
</ul>
<hr/>
<h3 data-id="heading-11">ğŸ”Ÿ <strong>å…è®¸åœ¨ç‰¹æ®Šç¬¦å·å¤„ä¼˜å…ˆæ¢è¡Œï¼ˆæ¯”æ‹†å­—æ¯æ›´å‹å¥½ï¼‰</strong></h3>
<pre><code class="hljs language-arduino" lang="arduino">.text {
  overflow-wrap: anywhere;
  <span class="hljs-type">word</span>-<span class="hljs-keyword">break</span>: normal;
}
</code></pre>
<p><strong>é€‚ç”¨ï¼š</strong></p>
<ul>
<li>URL / è·¯å¾„</li>
<li><code>aaa-bbb-ccc-ddd</code></li>
<li>å¸Œæœ›ä¼˜å…ˆåœ¨ç¬¦å·å¤„åˆ†è¡Œï¼Œè€Œä¸æ˜¯å­—æ¯ä¸­é—´</li>
</ul>
<pre><code class="hljs language-yaml" lang="yaml">
<span class="hljs-meta">---
</span>
<span class="hljs-comment">## ä¸‰ã€Flex / Table å¸¸è§å‘</span>

<span class="hljs-comment">### flex å­é¡¹å†…å®¹è¢«å¼‚å¸¸æ¢è¡Œ</span>

<span class="hljs-string">```css</span>
<span class="hljs-string">.item</span> {
  <span class="hljs-attr">min-width:</span> <span class="hljs-number">0</span><span class="hljs-string">;</span>
  <span class="hljs-attr">overflow-wrap:</span> <span class="hljs-string">break-word;</span>
}
</code></pre>
<hr/>
<h2 data-id="heading-12">å››ã€ä¸æ¨èå†™æ³•ï¼ˆæ…ç”¨ï¼‰</h2>
<blockquote>
<p>âš ï¸ ä»¥ä¸‹å†™æ³•ä¸æ˜¯ä¸èƒ½ç”¨ï¼Œè€Œæ˜¯<strong>å¿…é¡»æ˜ç¡®çŸ¥é“åæœ</strong></p>
</blockquote>
<pre><code class="hljs language-kotlin" lang="kotlin">word-<span class="hljs-keyword">break</span>: <span class="hljs-keyword">break</span>-all;
</code></pre>
<p>âŒ ä¼šæŠŠè‹±æ–‡æ‹†æˆå­—æ¯ï¼Œä»…é€‚åˆæ—¥å¿— / code åœºæ™¯</p>
<hr/>
<h2 data-id="heading-13">äº”ã€å±æ€§é€Ÿè®°è¡¨</h2>





















<table><thead><tr><th>å±æ€§</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>word-break</code></td><td>æ˜¯å¦å…è®¸åœ¨å•è¯å†…éƒ¨æ–­è¡Œ</td></tr><tr><td><code>overflow-wrap</code></td><td>å•è¯å¤ªé•¿æ—¶æ˜¯å¦å…è®¸æ¢è¡Œï¼ˆâ­æ¨èï¼‰</td></tr><tr><td><code>white-space</code></td><td>æ˜¯å¦å…è®¸æ¢è¡Œ</td></tr></tbody></table>
<hr/>
<p>ğŸ“Œ <strong>è®°ä½ä¸€å¥è¯ï¼š</strong></p>
<blockquote>
<p><strong>ä¼˜å…ˆç”¨ <code>overflow-wrap: break-word</code>ï¼Œé¿å… <code>word-break: break-all</code></strong></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨changesetæ¥ç®¡ç†ä½ çš„npmåŒ…ç‰ˆæœ¬]]></title>    <link>https://juejin.cn/post/7593139476840611846</link>    <guid>https://juejin.cn/post/7593139476840611846</guid>    <pubDate>2026-01-09T10:05:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593139476840611846" data-draft-id="7593098101432238134" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨changesetæ¥ç®¡ç†ä½ çš„npmåŒ…ç‰ˆæœ¬"/> <meta itemprop="keywords" content="å‰ç«¯,NPM"/> <meta itemprop="datePublished" content="2026-01-09T10:05:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨€é¥­52"/> <meta itemprop="url" content="https://juejin.cn/user/2313028196632446"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨changesetæ¥ç®¡ç†ä½ çš„npmåŒ…ç‰ˆæœ¬
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2313028196632446/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨€é¥­52
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T10:05:48.000Z" title="Fri Jan 09 2026 10:05:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"/>
<p>ç®€å•ä»‹ç»ä¸‹ï¼Œchangesetæ˜¯ä¸€ä¸ªç‰ˆæœ¬ç®¡ç†å’Œç”Ÿæˆæ›´æ–°æ—¥å¿—çš„å·¥å…·ï¼Œè¶…çº§é€‚ç”¨äºå¤šåŒ…ä»“åº“ï¼Œæ¯”å¦‚monorepoï¼Œå¯ä»¥åœ¨æäº¤å‘å¸ƒæ—¶ï¼Œè‡ªåŠ¨æ›´æ–°æ‰€æœ‰åŒ…çš„ç‰ˆæœ¬å·ï¼Œåˆ›å»ºTagï¼Œå¹¶ä¸”ç”Ÿæˆæ›´æ–°æ—¥å¿—ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€å®‰è£…</h3>
<p>è¿›å…¥é¡¹ç›®ä¹‹åæ‰§è¡Œå‘½ä»¤ï¼Œå®‰è£…changesetï¼Œå¹¶ä¸”åˆå§‹åŒ–</p>
<pre><code class="hljs language-bash" lang="bash"> pnpm add -D @changesets/cli
 pnpm changeset init
</code></pre>
<p>æ‰§è¡Œå®Œä¹‹åï¼Œåœ¨é¡¹ç›®ä¸­ä¼šæ–°å¢ä¸€ä¸ª<code>.changeset</code>ç›®å½•ï¼Œç”¨äºå­˜æ”¾é…ç½®æ–‡ä»¶å’Œ<strong>ä¸´æ—¶çš„ç‰ˆæœ¬å˜æ›´æè¿°æ–‡ä»¶</strong>ã€‚</p>
<pre><code class="hljs language-txt" lang="txt">.changeset/
 â”œâ”€ config.json
 â””â”€ README.md
</code></pre>
<h3 data-id="heading-2">äºŒã€ä½¿ç”¨æµç¨‹</h3>
<p>åœ¨é€šç”¨çš„ç‰ˆæœ¬ç®¡ç†æµç¨‹ä¸­ï¼Œé€šå¸¸ä¼šåŒºåˆ†ä¸ºï¼š</p>
<ul>
<li><strong>é¢„å‘å¸ƒç‰ˆæœ¬</strong>ï¼ˆå¦‚alphaå’Œbetaï¼‰</li>
<li><strong>æ­£å¼ç‰ˆæœ¬</strong></li>
</ul>
<h4 data-id="heading-3">é¢„å‘å¸ƒç‰ˆæœ¬</h4>
<p>é¢„å‘å¸ƒé˜¶æ®µçš„ä¸¤çº§ä¸ºalphaå’Œbetaï¼Œä¸‹é¢æ˜¯å¤§è‡´åŒºåˆ«ï¼š</p>



































<table><thead><tr><th align="left">ç»´åº¦</th><th>alphaï¼ˆå†…æµ‹ï¼‰</th><th>betaï¼ˆå…¬æµ‹ï¼‰</th></tr></thead><tbody><tr><td align="left"><strong>ä»£ç ç¨³å®šæ€§</strong></td><td>éšæ—¶å¯èƒ½å¤§æ”¹</td><td>åŠŸèƒ½åŸºæœ¬é”å®šï¼Œä¸ä¼šæœ‰å¤§çš„è°ƒæ•´</td></tr><tr><td align="left"><strong>æµ‹è¯•äººç¾¤</strong></td><td>å›¢é˜Ÿå†…éƒ¨</td><td>ç°åº¦ç”¨æˆ·</td></tr><tr><td align="left"><strong>å‘å¸ƒé¢‘ç‡</strong></td><td>æ¯å¤©/æ¯å‘¨éƒ½èƒ½å‡ºåŒ…</td><td>èŠ‚å¥ç¨æ…¢ï¼ŒæŸä¸ªé˜¶æ®µçš„ç‰ˆæœ¬</td></tr><tr><td align="left"><strong>ç‰ˆæœ¬å·ç¤ºä¾‹</strong></td><td>1.0.0-alpha.0 âœ 1.0.0-alpha.1 â€¦</td><td>1.0.0-beta.0 âœ 1.0.0-beta.1 â€¦</td></tr><tr><td align="left"><strong>é€€å‡ºæ¡ä»¶</strong></td><td>è¾¾åˆ°åŠŸèƒ½å®Œå¤‡ â†’ è¿›å…¥beta</td><td>è¿ç»­å‡ å¤©æ— é˜»å¡Bug â†’ å‘å¸ƒæ­£å¼ç‰ˆ</td></tr></tbody></table>
<p>ç›¸å…³å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">pnpm changeset pre enter alpha   <span class="hljs-comment"># è¿›å…¥alphaæ¨¡å¼,</span>
pnpm changeset version          <span class="hljs-comment"># ç‰ˆæœ¬å˜æˆ0.0.1-alpha.0</span>

pnpm changeset pre enter beta   <span class="hljs-comment"># è¿›å…¥betaæ¨¡å¼</span>
pnpm changeset version          <span class="hljs-comment"># ç‰ˆæœ¬å˜æˆ0.0.1-beta.0</span>

<span class="hljs-comment"># ç»“æŸé¢„å‘å¸ƒ</span>
pnpm changeset pre <span class="hljs-built_in">exit</span>
pnpm changeset version          <span class="hljs-comment"># ç‰ˆæœ¬å˜æˆ0.0.1</span>
</code></pre>
<h4 data-id="heading-4">æ­£å¼ç‰ˆæœ¬</h4>
<p>å½“ä½ å®ŒæˆæŸä¸ªåŒ…çš„å¼€å‘ï¼Œå‡†å¤‡å‘ç‰ˆæ—¶ï¼Œæ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">pnpm changeset
</code></pre>
<p>å¦‚æœæ˜¯å¤šåŒ…ä»“åº“ï¼Œç»ˆç«¯ä¼šå‡ºç°ä¸€ä¸ªé€‰æ‹©æ¡†ï¼Œè®©ä½ é€‰æ‹©æ”¹è¿‡çš„åŒ…ï¼Œ</p>
<ol>
<li>
<p>æŒ‰ç©ºæ ¼é€‰ä¸­ä½ æ”¹è¿‡çš„åŒ…ï¼ˆæœ‰æ˜Ÿå·å°±ç®—é€‰ä¸­ï¼‰â†’ å›è½¦ï¼Œ</p>
</li>
<li>
<p>é€‰åŒ…çš„æ›´æ–°çº§åˆ«ï¼Œä¼šä¾æ¬¡å‡ºç°majorå’Œminorï¼Œå›è½¦åˆ°ä¸‹ä¸€æ­¥ï¼Œå¦‚æœéƒ½æ²¡é€‰ä¸­ï¼Œå°±é»˜è®¤ä¸ºpatchï¼Œè¾“å…¥æœ¬æ¬¡æ›´æ–°çš„æè¿°å›è½¦</p>
<ul>
<li>patchï¼šä¿®å¤å°bugï¼ˆ1.0.0â†’1.0.1ï¼‰</li>
<li>minorï¼šæ·»åŠ æ–°åŠŸèƒ½ï¼ˆ1.0.0â†’1.1.0ï¼‰</li>
<li>majorï¼šç ´åæ€§çš„å¤§ç‰ˆæœ¬è°ƒæ•´ï¼Œapiçº§åˆ«çš„è°ƒæ•´ï¼ˆ1.0.0â†’2.0.0ï¼‰</li>
</ul>
</li>
</ol>
<p>å•åŒ…ä»“åº“å°±ç›´æ¥åˆ°äº†é€‰æ‹©æ›´æ–°çº§åˆ«è¿™ä¸€æ­¥ï¼ŒåŒæ ·æ˜¯è¾“å…¥æè¿°ï¼Œç„¶åå›è½¦ï¼›</p>
<p>ç”Ÿæˆç‰ˆæœ¬å·ï¼Œæ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">pnpm changeset version
</code></pre>
<p>ä½ ä¼šå‘ç°<code>.changeset</code>æ–‡ä»¶å¤¹ä¸­åˆšæ‰ç”Ÿæˆçš„mdæ–‡ä»¶éƒ½å·²ç»ä¸è§äº†ï¼Œç‰ˆæœ¬å·ä¹Ÿå‡å¥½äº†ã€‚</p>
<h4 data-id="heading-5">å‘å¸ƒ</h4>
<ul>
<li>ç™»å½•npm</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">npm login
</code></pre>
<ul>
<li>å‘ç‰ˆ</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">pnpm changeset publish
</code></pre>
<p>æˆåŠŸåï¼Œä¼šåœ¨gitåˆ›å»ºå¯¹åº”çš„git tagï¼Œç»ˆç«¯ä¼šç»™å‡ºæ¯ä¸ªåŒ…çš„ç‰ˆæœ¬å·å’Œ npmé“¾æ¥ã€‚</p>
<h3 data-id="heading-6">ä¸‰ã€changesetæ€»ç»“</h3>
<p>æœ€åæ€»ç»“ä¸‹ï¼Œå¯¹changesetçš„æ•´ä½“æ„Ÿè§‰</p>
<h4 data-id="heading-7">ä¼˜ç‚¹</h4>
<ol>
<li>ç‰ˆæœ¬è¯­ä¹‰åŒ–ï¼Œæ˜¾å¼æ ‡æ³¨å˜æ›´çº§åˆ«</li>
<li>æ¯ä¸€æ¬¡å˜æ›´éƒ½ä¼šæ–°å»ºä¸ªæ–‡ä»¶ï¼Œæ–¹ä¾¿review
<ul>
<li>åˆ—å‡ºå—å½±å“çš„åŒ…</li>
<li>å˜æ›´çš„çº§åˆ«ï¼Œpatch/minor/major</li>
<li>å˜æ›´çš„å†…å®¹</li>
</ul>
</li>
<li>è‡ªåŠ¨ç”Ÿæˆtagã€ç‰ˆæœ¬å·changelog</li>
<li>Monorepoä¾èµ–çš„è‡ªåŠ¨æ¨å¯¼ï¼Œæ¯”å¦‚ä¿®æ”¹äº†aåŒ…ï¼ŒbåŒ…ä¾èµ–äº†aåŒ…ï¼Œé‚£ä¹ˆbåŒ…ä¹Ÿä¼šæ›´æ–°ç‰ˆæœ¬</li>
</ol>
<h4 data-id="heading-8">ç¼ºç‚¹</h4>
<ol>
<li>ä¼šæœ‰é¢å¤–å¿ƒæ™ºè´Ÿæ‹…ï¼Œ
<ul>
<li>æ¯æ¬¡å˜æ›´éƒ½è¦æ‰§è¡Œchangesetï¼Œä¼šå¢åŠ æ“ä½œæµç¨‹ï¼ˆå…¶å®æˆ‘è§‰å¾—è¿™ä¸ªä¸èƒ½ç®—ï¼‰</li>
<li>æ€è€ƒç‰ˆæœ¬ç±»å‹</li>
<li>æµç¨‹å®¹æ˜“æ¼</li>
</ul>
</li>
<li>å•åŒ…é¡¹ç›®æœ‰ç‚¹å¤šä½™ï¼Œæ²¡å®Œå…¨å‘æŒ¥ä½œç”¨</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Switch2Antigravity: è®© IntelliJ IDEA ä¸ Antigravity æ— ç¼åä½œ]]></title>    <link>https://juejin.cn/post/7593181244708519988</link>    <guid>https://juejin.cn/post/7593181244708519988</guid>    <pubDate>2026-01-09T09:53:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593181244708519988" data-draft-id="7593173569871380532" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Switch2Antigravity: è®© IntelliJ IDEA ä¸ Antigravity æ— ç¼åä½œ"/> <meta itemprop="keywords" content="VibeCoding,IntelliJ IDEA,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-09T09:53:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="PPPHUANG"/> <meta itemprop="url" content="https://juejin.cn/user/3083464300298525"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Switch2Antigravity: è®© IntelliJ IDEA ä¸ Antigravity æ— ç¼åä½œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3083464300298525/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    PPPHUANG
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:53:31.000Z" title="Fri Jan 09 2026 09:53:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>Antigravity</strong> æ˜¯ä¸€æ¬¾â€œä»¥æ™ºèƒ½ä½“ä¸ºä¸»â€çš„å¹³å°ã€‚å®ƒé¢„è®¾ AI ä¸ä»…æ˜¯ç¼–å†™ä»£ç çš„å·¥å…·ï¼Œè€Œä¸”æ˜¯èƒ½å¤Ÿè§„åˆ’ã€æ‰§è¡Œã€éªŒè¯å’Œè¿­ä»£å¤æ‚å·¥ç¨‹ä»»åŠ¡çš„è‡ªä¸»è¡ŒåŠ¨è€…ï¼Œå‡ ä¹æ— éœ€äººå·¥å¹²é¢„ã€‚éšç€ <strong>Gemini 3</strong> çš„å‘å¸ƒ Antigravity åœ¨ vibe coding é¢†åŸŸç«çš„ä¸€å¡Œç³Šæ¶‚ã€‚</p>
<p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œç»å¸¸åœ¨Â <strong>IntelliJ IDEA</strong>Â (å¼ºå¤§çš„ Java/Kotlin é™æ€åˆ†æä¸é‡æ„èƒ½åŠ›)Â å’ŒÂ <strong>Antigravity</strong>Â (æµç•…çš„ AI è¾…åŠ©ç¼–ç ä½“éªŒ)Â ä¹‹é—´åˆ‡æ¢ã€‚</p>
<p>ä¸ºäº†è§£å†³ä¸¤ä¸ªç¼–è¾‘å™¨ä¹‹é—´é¢‘ç¹â€œæ‰‹åŠ¨å®šä½æ–‡ä»¶â€çš„ç—›ç‚¹ï¼Œæˆ‘å¼€å‘äº†ä¸€ä¸ª IntelliJ IDEA æ’ä»¶Â â€”â€”Â <strong>Switch2Antigravity</strong>ï¼Œæ­é… vs code çš„ <strong>Switch2IDEA</strong> æ’ä»¶è®© IntelliJ IDEA ä¸ Antigravity æ— ç¼åä½œã€‚</p>
<h2 data-id="heading-0"><strong>âœ¨ æ ¸å¿ƒåŠŸèƒ½</strong></h2>
<p>è¿™ä¸ªæ’ä»¶çš„æ ¸å¿ƒç›®æ ‡åªæœ‰ä¸€ä¸ªï¼š<strong>Context Switching Costs Null (è®©ä¸Šä¸‹æ–‡åˆ‡æ¢é›¶æˆæœ¬)</strong>ã€‚</p>
<ul>
<li>
<p><strong>âš¡ ä¸€é”®è·³è½¬</strong>: åœ¨ IDEA ä¸­æŒ‰ä¸‹Â <code>Shift + Alt + A</code>ï¼Œå½“å‰ç¼–è¾‘çš„æ–‡ä»¶ä¼šç«‹å³åœ¨ Antigravity ä¸­æ‰“å¼€ã€‚ä¹Ÿå¯ä»¥åœ¨æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹ä¸Šç‚¹å‡»å³é”® <code>Open in Antigravity</code>ã€‚</p>
</li>
<li>
<p><strong>ğŸ“ ç²¾å‡†å®šä½</strong>: ä¸ä»…ä»…æ˜¯æ‰“å¼€æ–‡ä»¶ï¼Œå®ƒä¼šè‡ªåŠ¨å¸¦ä½ åˆ°<strong>å…‰æ ‡æ‰€åœ¨çš„å…·ä½“è¡Œå’Œåˆ—</strong>ã€‚æ— ç¼è¡”æ¥ä½ çš„æ€ç»´æµã€‚</p>
</li>
<li>
<p><strong>ğŸ› ï¸ æ™ºèƒ½é…ç½®</strong>:</p>
<ul>
<li>è‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿä¸­çš„ Antigravity å®‰è£…è·¯å¾„ (æ”¯æŒ WindowsÂ <code>where</code>Â å’Œ Mac/LinuxÂ <code>which</code>Â æ¢æµ‹)ã€‚</li>
<li>æ”¯æŒåœ¨è®¾ç½®é¡µé¢è‡ªå®šä¹‰å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-1"><strong>ğŸ”§ æŠ€æœ¯å®ç°äº®ç‚¹</strong></h2>
<p>åŸºäº IntelliJ Platform SDK å’Œ Kotlin å¼€å‘ï¼Œè™½ç„¶åŠŸèƒ½ç®€å•ï¼Œä½†ç»†èŠ‚æ»¡æ»¡ã€‚</p>
<h3 data-id="heading-2"><strong>1. è·¨å¹³å°å¯åŠ¨å‘½ä»¤</strong></h3>
<p>ä¸åŒç³»ç»Ÿçš„å¯åŠ¨å‚æ•°ç•¥æœ‰ä¸åŒï¼Œä¸ºäº†ä¿è¯ç¨³å®šæ€§ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†åŸç”Ÿçš„ CLI è°ƒç”¨æ–¹å¼è€Œä¸æ˜¯ URL Schemeã€‚</p>
<h3 data-id="heading-3"><strong>2. æ™ºèƒ½è·¯å¾„æ¢æµ‹</strong></h3>
<p>å¾ˆå¤šåŒå­¦çš„å®‰è£…è·¯å¾„å„ä¸ç›¸åŒï¼Œæˆ‘ä»¬åœ¨Â <code>OpenInAntigravityAction</code>Â ä¸­å®ç°äº†å¤šçº§æ¢æµ‹ç­–ç•¥ï¼š</p>
<ol>
<li><strong>ç”¨æˆ·é…ç½®ä¼˜å…ˆ</strong>: æ£€æŸ¥æ’ä»¶è®¾ç½®ä¸­æ˜¯å¦æŒ‡å®šäº†è·¯å¾„ã€‚</li>
<li><strong>PATH ç¯å¢ƒå˜é‡</strong>: éå† PATH æŸ¥æ‰¾Â <code>antigravity</code>ã€‚</li>
<li><strong>System Command</strong>: å°è¯•æ‰§è¡ŒÂ <code>where antigravity</code>Â (Win) æˆ–Â <code>which antigravity</code>Â (Mac) è·å–çœŸå®è·¯å¾„ã€‚</li>
<li><strong>é»˜è®¤è·¯å¾„å…œåº•</strong>: æ£€æŸ¥å¸¸è§çš„é»˜è®¤å®‰è£…ä½ç½® (å¦‚Â <code>AppData</code>,Â <code>/Applications</code>Â ç­‰)ã€‚</li>
</ol>
<h2 data-id="heading-4"><strong>ğŸ¤¯ Inceptionï¼šç”¨ Antigravity å¼€å‘ Antigravity æ’ä»¶</strong></h2>
<p>æ›´æœ‰è¶£çš„æ˜¯ï¼Œ<strong>è¿™ä¸ªæ’ä»¶æœ¬èº«å°±æ˜¯å®Œå…¨ä½¿ç”¨ Antigravity è¾…åŠ©å¼€å‘çš„</strong>ã€‚</p>
<p>ä»æœ€åˆçš„ Gradle è„šæœ¬é…ç½®ã€Kotlin é€»è¾‘å®ç°ï¼Œåˆ°å¤æ‚çš„ SVG å›¾æ ‡ç”Ÿæˆè„šæœ¬ï¼Œç”šè‡³æ˜¯ solving å„ç§ç¯å¢ƒå…¼å®¹æ€§ bugï¼Œå…¨è¿‡ç¨‹éƒ½æ˜¯åœ¨ Antigravity çš„ AGENTIC æ¨¡å¼ä¸‹å®Œæˆçš„ã€‚</p>
<ul>
<li><strong>éœ€æ±‚ç†è§£</strong>: æˆ‘åªéœ€è¦è¾“å…¥ "å¸®æˆ‘æä¸ª IDEA æ’ä»¶ï¼Œèƒ½è·³è½¬åˆ° Antigravity"ï¼Œå®ƒå°±è‡ªåŠ¨è§„åˆ’äº†Â <code>plugin.xml</code>Â å’Œ Action çš„ç»“æ„ã€‚</li>
<li><strong>ä»£ç ç”Ÿæˆ</strong>: è‡ªåŠ¨è¡¥å…¨äº†å¤æ‚çš„ PSI å’Œ ActionSystem ç›¸å…³ä»£ç ã€‚</li>
<li><strong>Debug</strong>: é‡åˆ° Mac ä¸‹Â <code>open</code>Â å‘½ä»¤å‚æ•°é—®é¢˜ï¼Œå®ƒè¿…é€Ÿç»™å‡ºäº†Â <code>ProcessBuilder</code>Â çš„ CLI æ›¿ä»£æ–¹æ¡ˆã€‚</li>
<li><strong>æ–‡æ¡ˆåˆ›ä½œ</strong>: ä½ æ­£åœ¨çœ‹çš„è¿™ç¯‡åšå®¢ï¼Œä¹Ÿæ˜¯å®ƒå†™çš„ï¼</li>
</ul>
<p>è¿™ä¸ä»…æ˜¯ä¸€ä¸ªå·¥å…·çš„é›†æˆï¼Œæ›´æ˜¯ä¸€æ¬¡Â <strong>AI Native å¼€å‘æµç¨‹</strong>Â çš„æœ€ä½³å®è·µã€‚</p>
<h2 data-id="heading-5"><strong>ğŸ“¦ å¦‚ä½•å®‰è£…</strong></h2>
<p>æ’ä»¶ä¸Šæ¶ JetBrains Marketplaceï¼Œ ç¼–è¾‘å™¨ JetBrains Marketplace ä¸­æœç´¢å®‰è£…ã€‚</p>
<p>æ‰‹åŠ¨å®‰è£…</p>
<ol>
<li>Clone æœ¬é¡¹ç›®æºç ã€‚</li>
<li>è¿è¡ŒÂ <code>./gradlew buildPlugin</code>ã€‚</li>
<li>åœ¨ IDEA ä¸­é€‰æ‹© "Install Plugin from Disk"ï¼Œé€‰ä¸­Â <code>build/distributions/</code>Â ä¸‹ç”Ÿæˆçš„ Zip åŒ…å³å¯ã€‚</li>
</ol>
<h2 data-id="heading-6"><strong>ğŸ”— å¼€æºåœ°å€</strong></h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FPPPHUANG%2Fidea-antigravity-plugin" target="_blank" title="https://github.com/PPPHUANG/idea-antigravity-plugin" ref="nofollow noopener noreferrer">github.com/PPPHUANG/idâ€¦</a></p>
<hr/>
<p><em>Happy Coding with IDEA &amp; Antigravity!</em></p>
<p>å…¬ä¼—å·ï¼š<strong>DailyHappy</strong>Â ä¸€ä½åç«¯å†™ç å¸ˆï¼Œä¸€ä½é»‘æš—æ–™ç†åˆ¶é€ è€…ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäº Angular UI çš„ C# æ¡Œé¢åº”ç”¨]]></title>    <link>https://juejin.cn/post/7592960378690945059</link>    <guid>https://juejin.cn/post/7592960378690945059</guid>    <pubDate>2026-01-09T09:15:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592960378690945059" data-draft-id="7593158683411103744" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäº Angular UI çš„ C# æ¡Œé¢åº”ç”¨"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,Angular.js"/> <meta itemprop="datePublished" content="2026-01-09T09:15:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="TeamDev"/> <meta itemprop="url" content="https://juejin.cn/user/4158825167847872"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäº Angular UI çš„ C# æ¡Œé¢åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4158825167847872/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    TeamDev
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:15:58.000Z" title="Fri Jan 09 2026 09:15:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/195aa778358b47d78318720fb2753233~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGVhbURldg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554959&amp;x-signature=FjadOfvXrMRCMXS%2BjhA6wYG%2BPLM%3D" alt="" loading="lazy"/></p>
<p>ç°ä»£ç”¨æˆ·ä½“éªŒå·²æˆä¸ºæ¡Œé¢åº”ç”¨çš„åŸºç¡€è¦æ±‚ï¼Œé‡‡ç”¨ Web æŠ€æœ¯èƒ½å¸®åŠ©å›¢é˜Ÿæ›´å¿«äº¤ä»˜è½¯ä»¶ã€‚</p>
<p>æœ¬æ–‡å°†å±•ç¤ºåŸºäº C# çš„æ¡Œé¢åº”ç”¨æ¶æ„ï¼Œå…¶ç”¨æˆ·ç•Œé¢é‡‡ç”¨ Angular å®ç°ã€‚è¯¥åº”ç”¨æ”¯æŒç¦»çº¿è¿è¡Œä¸”æ— éœ€æœ¬åœ°æœåŠ¡å™¨ã€‚</p>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆåœ¨æ¡Œé¢åº”ç”¨ä¸­ä½¿ç”¨ Web UIï¼Ÿ</h2>
<p>Web UI æŠ€æœ¯æ ˆæ‹¥æœ‰åºå¤§ä¸”ç»è¿‡å……åˆ†éªŒè¯çš„ç»„ä»¶ç”Ÿæ€ç³»ç»Ÿã€‚é‡‡ç”¨ Angular æ„å»ºæ¡Œé¢UIï¼Œå¯å€ŸåŠ©ç†Ÿæ‚‰çš„å·¥å…·å¤„ç†å¸ƒå±€ã€ä¸»é¢˜å’Œäº¤äº’é€»è¾‘ï¼Œé¿å…åœ¨åŸç”Ÿ UI æ¡†æ¶ä¸­é‡å¤å®ç°ç›¸åŒæ§ä»¶ã€‚</p>
<p>è¿™ç§æ–¹å¼åŒæ—¶ç®€åŒ–äº†ä»£ç å¤ç”¨æµç¨‹ã€‚åŒä¸€ä¸ª Angular åº”ç”¨æ—¢èƒ½åœ¨æµè§ˆå™¨ä¸­è¿è¡Œï¼Œä¹Ÿèƒ½åµŒå…¥æ¡Œé¢åº”ç”¨å®¿ä¸»ç¨‹åºï¼Œå¤§å¹…å‡å°‘ä»£ç å†—ä½™ï¼Œå®ç° UI å˜æ›´çš„é›†ä¸­ç®¡ç†ã€‚åŸç”Ÿçª—å£ä¸ç³»ç»Ÿé›†æˆçš„å·¥ä½œç”±ç‹¬ç«‹æ¨¡å—è´Ÿè´£ï¼ŒWeb å±‚ä¿æŒå¯ç§»æ¤æ€§ï¼Œæ¡Œé¢åº”ç”¨åˆ™èƒ½ä¸å„ä¸ªæ“ä½œç³»ç»Ÿå®ç°æ— ç¼é›†æˆã€‚</p>
<h2 data-id="heading-1">C# æ¡Œé¢åº”ç”¨ä¸­çš„ Web UI</h2>
<p>æœ¬æ–‡å°†æ„å»ºä¸€ä¸ª è·¨å¹³å°çš„ Avalonia æ¡Œé¢åº”ç”¨ï¼Œå…¶ UI æ˜¯ä¸€ä¸ªåŸºäº Angular çš„ç®€å•åå¥½è®¾ç½®ç•Œé¢ã€‚Angular Web åº”ç”¨è¢«æ‰“åŒ…è¿›æ¡Œé¢ç¨‹åºä¸­ï¼Œè€Œ .NET ç«¯è´Ÿè´£å°†è®¾ç½®ä¿å­˜åˆ°æŒä¹…åŒ–å­˜å‚¨ä¸­ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/83d0dc08f9a5488c9c1461569da6ce99~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGVhbURldg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554959&amp;x-signature=QX6ZBmPIWne9kcNjTAx5FMzwZvU%3D" alt="è¿è¡Œåœ¨ Avalonia çª—å£ä¸­çš„ Angular UIã€‚" loading="lazy"/></p>
<p align="center"><span>è¿è¡Œåœ¨ Avalonia çª—å£ä¸­çš„ Angular UI</span></p>
<p>UI ä½¿ç”¨äº† PrimeNG ä½œä¸ºç°æˆçš„ Angular ç»„ä»¶åº“ï¼Œä½†åœ¨è¯¥æ¶æ„ä¸‹ï¼Œä»»ä½•ç±»ä¼¼çš„ç»„ä»¶åº“éƒ½å¯ä»¥ä½¿ç”¨ã€‚</p>
<p>å°†ç½‘é¡µç•Œé¢åµŒå…¥æ¡Œé¢å£³å±‚æ—¶,éœ€å…‹æœä»¥ä¸‹éšœç¢ï¼š</p>
<ol>
<li>éœ€é‡‡ç”¨ç¬¦åˆç°ä»£ç½‘é¡µæ ‡å‡†çš„å¯é ç½‘é¡µè§†å›¾ç»„ä»¶ã€‚</li>
<li>éœ€å®ç°æ— æœåŠ¡å™¨ç¯å¢ƒä¸‹çš„ç½‘é¡µå†…å®¹åŠ è½½ï¼Œç¡®ä¿åº”ç”¨è‡ªåŒ…å«æ€§ã€‚</li>
<li>éœ€å»ºç«‹ JavaScript ä¸ .NET ä¹‹é—´çš„åŒå‘é€šä¿¡æœºåˆ¶ã€‚</li>
</ol>
<p>åç»­ç« èŠ‚å°†ä¾æ¬¡è¯´æ˜ï¼šçª—å£ä¸ç½‘é¡µè§†å›¾çš„é…ç½®æ–¹æ¡ˆã€æ— æœåŠ¡å™¨åŠ è½½ Angular UI çš„å®ç°æ–¹æ³•ï¼Œä»¥åŠé€šè¿‡ OpenAPI è§„èŒƒå®šä¹‰çš„æ¥å£è¿æ¥ JavaScript ä¸ .NET çš„å…·ä½“æ–¹æ¡ˆã€‚</p>
<h2 data-id="heading-2">åº”ç”¨çª—å£ä¸ç½‘é¡µè§†å›¾</h2>
<p>å¯¹äºæ¡Œé¢å£³å±‚ï¼Œæˆ‘ä»¬ä½¿ç”¨ Avalonia åˆ›å»ºåŸç”Ÿçª—å£å’Œå¸ƒå±€ï¼Œå¹¶é€šè¿‡ DotNetBrowserï¼ˆåŸºäº Chromium çš„è·¨å¹³å°ç½‘é¡µè§†å›¾ç»„ä»¶ï¼‰å°†å…¶åµŒå…¥å…¶ä¸­ï¼š</p>
<p><strong>MainWindow.axaml</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Window</span> <span class="hljs-attr">Width</span>=<span class="hljs-string">"1200"</span> <span class="hljs-attr">Height</span>=<span class="hljs-string">"800"</span> <span class="hljs-attr">Title</span>=<span class="hljs-string">"Angular Demo"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Grid</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">app:BrowserView</span> <span class="hljs-attr">x:Name</span>=<span class="hljs-string">"BrowserView"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Grid</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Window</span>&gt;</span>
</code></pre>
<p>åœ¨åç«¯ä»£ç ä¸­ï¼Œçª—å£ä¼šç›‘å¬ç”Ÿå‘½å‘¨æœŸäº‹ä»¶ï¼Œå¹¶åœ¨æ‰“å¼€æ—¶åˆå§‹åŒ–æµè§ˆå™¨ç»„ä»¶ï¼š</p>
<p><strong>MainWindow.axaml.cs</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">partial</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MainWindow</span> : <span class="hljs-title">Window</span>
{
<span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span> Url = ResourceRequestHandler.Domain;

    <span class="hljs-keyword">public</span> IBrowser? Browser { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> IServiceProvider? ServiceProvider { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MainWindow</span>()</span>
    {
        InitializeComponent();
        Opened += OnOpened;
        Closed += OnClosed;
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnOpened</span>(<span class="hljs-params"><span class="hljs-built_in">object</span>? sender, EventArgs e</span>)</span>
    {
        Browser = ServiceProvider
            .GetRequiredService&lt;IEngineService&gt;()
            .CreateBrowser();
        BrowserView.InitializeFrom(Browser);

        <span class="hljs-keyword">await</span> Browser.Navigation.LoadUrl(Url);
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnClosed</span>(<span class="hljs-params"><span class="hljs-built_in">object</span>? sender, EventArgs e</span>)</span>
    {
        Browser?.Dispose();
    }
}
</code></pre>
<p>Engine æœ¬èº«ç”± <code>IEngineService</code> ç®¡ç†ï¼Œå› æ­¤çª—å£åªéœ€åœ¨æ‰“å¼€æ—¶è¯·æ±‚æ–°çš„æµè§ˆå™¨å®ä¾‹ï¼Œå¹¶åœ¨å…³é—­æ—¶é‡Šæ”¾å®ƒã€‚è¿™æ ·å¯ä»¥å°† Engine çš„ç”Ÿå‘½å‘¨æœŸå’Œé…ç½®é›†ä¸­ç®¡ç†ã€‚</p>
<h2 data-id="heading-3">åœ¨æ¡Œé¢åº”ç”¨ä¸­åŠ è½½ Web UI</h2>
<p>å°† Angular åº”ç”¨ç§»å…¥åµŒå…¥å¼æµè§ˆå™¨ä¼šæ”¹å˜å…¶åŠ è½½æ–¹å¼ã€‚
åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œç¼–è¯‘åçš„å‹ç¼©æ–‡ä»¶ä¼šè¢«æ‰“åŒ…åˆ°æ¡Œé¢åº”ç”¨ä¸­ï¼Œè€Œéé€šè¿‡å¸¸è§„æµè§ˆå™¨æ ‡ç­¾é¡µçš„ <code>http://localhost</code> åœ°å€æä¾›æœåŠ¡ã€‚</p>
<p>ä¸è¿‡ï¼Œåœ¨åœ¨å¼€å‘é˜¶æ®µï¼Œæ‚¨ä»å¸Œæœ›è·å¾—å¼€å‘æœåŠ¡å™¨çš„å¿«é€Ÿåé¦ˆå’Œçƒ­é‡è½½åŠŸèƒ½ã€‚</p>
<p>åœ¨å¼€å‘æ¨¡å¼ä¸‹ï¼Œå¯ä¿æŒå¸¸è§„ Angular å·¥ä½œæµï¼šå¯åŠ¨ <code>ng serve</code> å¹¶åŠ è½½å¼€å‘ URLï¼Œè¿™æ ·çƒ­é‡è½½åŠŸæ‰èƒ½å¾—ä»¥ä¿ç•™ã€‚</p>
<h3 data-id="heading-4">ç”Ÿäº§ç¯å¢ƒä¸­çš„ Web UI åŠ è½½</h3>
<p>åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›ä¾èµ–å¼€å‘æœåŠ¡å™¨ï¼Œç”šè‡³ä¸å¸Œæœ›ä½¿ç”¨ä»»ä½• HTTP æœåŠ¡å™¨ã€‚ç›¸åï¼ŒåµŒå…¥å¼æµè§ˆå™¨ä¼šåŠ è½½ç±»ä¼¼ <code>dnb://internal.host/</code> è¿™æ ·çš„è‡ªå®šä¹‰åè®® URLã€‚</p>
<p>DotNetBrowser å¯æ‹¦æˆªè¯¥åè®®è¯·æ±‚ï¼Œå¹¶é€šè¿‡åµŒå…¥èµ„æºå“åº”æ•°æ®è€Œéç½‘ç»œè¯·æ±‚ã€‚é…ç½®æ­¤åè®®å¤„ç†å™¨åï¼ŒAngular åº”ç”¨å®Œå…¨ç”±åŒ…å†…éƒ¨æä¾›ï¼š</p>
<p><strong>EngineService.cs</strong></p>
<pre><code class="hljs language-ini" lang="ini">var <span class="hljs-attr">builder</span> = new EngineOptions.Builder
{
    <span class="hljs-attr">RenderingMode</span> = RenderingMode.HardwareAccelerated
}<span class="hljs-comment">;</span>
builder.Schemes.Add(Scheme.Create("dnb"), handler)<span class="hljs-comment">;</span>
</code></pre>
<p><strong>ResourceRequestHandler.cs</strong></p>
<pre><code class="hljs language-lua" lang="lua">private <span class="hljs-built_in">string</span> ConvertToResourcePath(<span class="hljs-built_in">string</span> url)
{
    <span class="hljs-built_in">string</span> <span class="hljs-built_in">path</span> = url.Replace(Domain, <span class="hljs-built_in">string</span>.Empty, StringComparison.Ordinal);
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">string</span>.IsNullOrWhiteSpace(<span class="hljs-built_in">path</span>) || <span class="hljs-built_in">path</span> == <span class="hljs-string">"/"</span>)
    {
        <span class="hljs-built_in">path</span> = <span class="hljs-string">"browser/index.html"</span>;
    }
    <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">path</span>.StartsWith(<span class="hljs-string">"browser/"</span>, StringComparison.OrdinalIgnoreCase))
    {
        <span class="hljs-built_in">path</span> = $<span class="hljs-string">"browser/{path}"</span>;
    }
    <span class="hljs-keyword">return</span> prefix + <span class="hljs-built_in">path</span>.TrimStart(<span class="hljs-string">'/'</span>).Replace(<span class="hljs-string">"/"</span>, <span class="hljs-string">"."</span>);
}
</code></pre>
<p>å®Œæˆèµ„æºåŠ è½½é…ç½®åï¼Œå‰©ä¸‹çš„å…³é”®æ­¥éª¤æ˜¯è®© Angular ä¸ .NET ä¹‹é—´è¿›è¡Œä¿¡æ¯äº¤æ¢ã€‚</p>
<h2 data-id="heading-5">Web åº”ç”¨ä¸ .NET ä¹‹é—´çš„é€šä¿¡</h2>
<p>ä¸ä»»ä½• Web UI ä¸€æ ·ï¼ŒAngular åº”ç”¨ä¹Ÿéœ€è¦ä¸åç«¯è¿›è¡Œé€šä¿¡ã€‚è¿™ä¾¿æ˜¯åº”ç”¨ç¨‹åºçš„ .NET éƒ¨åˆ†ï¼Œè´Ÿè´£å¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œè€Œ Web UI åˆ™è´Ÿè´£ç”¨æˆ·äº¤äº’ã€‚å…³é”®é—®é¢˜åœ¨äºå¦‚ä½•å°†è¿™ä¸¤éƒ¨åˆ†è¿æ¥èµ·æ¥ï¼ŒåŒæ—¶ç¡®ä¿åœ¨åº”ç”¨ç¨‹åºæ¼”è¿›è¿‡ç¨‹ä¸­ä¿æŒå¯ç»´æŠ¤æ€§ã€‚</p>
<h3 data-id="heading-6">JavaScript ä¸ .NET çš„ç›´æ¥æ¡¥æ¥</h3>
<p>æœ€ç›´æ¥çš„æ–¹å¼æ˜¯å°† .NET æ–¹æ³•ç›´æ¥æš´éœ²ç»™ JavaScriptã€‚DotNetBrowser æ”¯æŒè¿™ç§æ–¹å¼ã€‚é¦–å…ˆï¼Œå®šä¹‰ä¸€ä¸ª C# ç±»ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">PrefsService</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> PreferencesStore store;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">PrefsService</span>(<span class="hljs-params">PreferencesStore store</span>)</span>
    {
        <span class="hljs-keyword">this</span>.store = store;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SetAccountEmail</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> email</span>)</span>
    {
        <span class="hljs-keyword">var</span> account = store.GetAccount();
        account.Email = email;
        store.SetAccount(account);
    }
}
</code></pre>
<p>å…¶æ¬¡ï¼Œåœ¨ TypeScript ä¸­æ˜ å°„å…¶ç»“æ„ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">declare</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PrefsService</span> {
  <span class="hljs-title function_">setAccountEmail</span>(<span class="hljs-attr">email</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">void</span>;
}

<span class="hljs-keyword">declare</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">prefsService</span>: <span class="hljs-title class_">PrefsService</span>;
<span class="hljs-comment">// ...</span>
prefsService.<span class="hljs-title function_">setAccountEmail</span>(<span class="hljs-string">'john.doe@example.com'</span>);
</code></pre>
<p>æœ€åï¼Œå°† C# å¯¹è±¡æ³¨å…¥ JavaScript ç¯å¢ƒï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">browser.InjectJsHandler = <span class="hljs-keyword">new</span> Handler&lt;InjectJsParameters&gt;(p =&gt;
{
    <span class="hljs-built_in">dynamic</span> window = p.Frame.ExecuteJavaScript(<span class="hljs-string">"window"</span>).Result;
    <span class="hljs-keyword">if</span> (window != <span class="hljs-literal">null</span>)
    {
        window.prefsService = <span class="hljs-keyword">new</span> PrefsService(store);
    }
});
</code></pre>
<p>å¯¹äºå°å‹é¡¹ç›®æ¥è¯´ï¼Œè¿™ç§æ–¹å¼ç®€å•ç›´è§‚ï¼Œä¹Ÿå®¹æ˜“ç†è§£ã€‚ä½†å½“ API å¢é•¿åˆ°ä¸æ­¢å‡ ä¸ªæ–¹æ³•æ—¶ï¼Œå°±ä¼šåœ¨ C# å’Œ TypeScript ä¸­é‡å¤å®šä¹‰åŒæ ·çš„å¥‘çº¦ï¼Œå¹¶ä¾èµ–äººå·¥ä¿æŒåŒæ­¥ã€‚</p>
<p>ä¸ºé¿å…è¿™ç§é—®é¢˜ï¼Œè¯¥åº”ç”¨å°†æ¡¥æ¥å±‚è§†ä¸ºä¸€ä¸ª å°å‹ HTTP APIï¼Œå¹¶ä½¿ç”¨å·¥å…·è‡ªåŠ¨ç”Ÿæˆå®¢æˆ·ç«¯ï¼Œå…·ä½“åšæ³•å°†åœ¨ OpenAPI ç« èŠ‚ä¸­ä»‹ç»ã€‚</p>
<h3 data-id="heading-7">OpenAPI</h3>
<p>åœ¨è¿™ç§æ¶æ„ä¸­ï¼ŒWeb ä¸ .NET ä¹‹é—´çš„å¥‘çº¦é€šè¿‡ OpenAPI è¿›è¡Œä¸€æ¬¡æ€§æè¿°ã€‚åŸºäºåŒä¸€ä»½è§„èŒƒï¼Œå¯ä»¥ç”Ÿæˆ å¼ºç±»å‹çš„ C# å’Œ TypeScript æ¨¡å‹ä¸å®¢æˆ·ç«¯ï¼Œä»è€Œç¡®ä¿ä¸¤ç«¯åœ¨ API æ¼”è¿›è¿‡ç¨‹ä¸­å§‹ç»ˆä¿æŒåŒæ­¥ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79f0a8f4a4904b82942f54a94d7f44fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGVhbURldg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554959&amp;x-signature=YQsKuZsOD6wWbSArMAhe%2B2QuUtU%3D" alt="Angular UI ä¸ .NET å¤„ç†ç¨‹åºçš„é€šä¿¡" loading="lazy"/></p>
<p align="center"><span>Angular UI ä¸ .NET å¤„ç†ç¨‹åºçš„é€šä¿¡</span></p>
<p>å¤„ç† API è¯·æ±‚æ—¶ï¼Œæˆ‘ä»¬é‡‡ç”¨ä¸åŠ è½½ç½‘é¡µç›¸åŒçš„ <code>dnb:/</code> æ–¹æ¡ˆæ‹¦æˆªå™¨ã€‚æ­¤è®¾è®¡ä½¿åº”ç”¨ä¿æŒè‡ªåŒ…å«ç‰¹æ€§ï¼Œé¿å…æš´éœ²ç”¨æˆ·å¯åœ¨æ™®é€šæµè§ˆå™¨ä¸­è®¿é—®çš„ <code>localhost</code> ç«¯å£æˆ–è¿œç¨‹ç«¯ç‚¹ã€‚</p>
<p>å®¢æˆ·ç«¯æ–¹é¢ï¼Œç”Ÿæˆçš„ TypeScript æœåŠ¡é€šè¿‡å¸¸è§„ <code>fetch()</code> API è¿›è¡Œé€šä¿¡ã€‚è¿™ç¡®ä¿ TypeScript ä»£ç å…·å¤‡å¯ç§»æ¤æ€§ï¼Œå¹¶ä¸å¸¸è§„æµè§ˆå™¨ç¯å¢ƒå…¼å®¹ã€‚</p>
<h4 data-id="heading-8">OpenAPI å¥‘çº¦æ¦‚è§ˆ</h4>
<p>ä»¥ä¸‹æ˜¯æˆ‘ä»¬ç”¨äºæ¼”ç¤ºé¡¹ç›®çš„ OpenAPI å®šä¹‰ç²¾ç®€ç‰ˆï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">paths:</span>
  <span class="hljs-string">/account:</span>
    <span class="hljs-attr">get:</span>
      <span class="hljs-attr">responses:</span>
        <span class="hljs-attr">'200':</span>
          <span class="hljs-attr">content:</span>
            <span class="hljs-attr">application/json:</span>
              <span class="hljs-attr">schema:</span>
                <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Account'</span>
    <span class="hljs-attr">put:</span>
      <span class="hljs-attr">requestBody:</span>
        <span class="hljs-attr">required:</span> <span class="hljs-literal">true</span>
        <span class="hljs-attr">content:</span>
          <span class="hljs-attr">application/json:</span>
            <span class="hljs-attr">schema:</span>
              <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Account'</span>
<span class="hljs-attr">components:</span>
  <span class="hljs-attr">schemas:</span>
    <span class="hljs-attr">Account:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
      <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">email:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
        <span class="hljs-attr">fullName:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
        <span class="hljs-attr">twoFactorAuthentication:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
        <span class="hljs-attr">biometricAuthentication:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">boolean</span>
</code></pre>
<p>ä»¥ä¸‹æ˜¯ TypeScript ä»£ç å¦‚ä½•ä½¿ç”¨è‡ªåŠ¨ç”Ÿæˆçš„ API å®¢æˆ·ç«¯ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> account = <span class="hljs-keyword">await</span> <span class="hljs-title class_">DefaultService</span>.<span class="hljs-title function_">getAccount</span>();

<span class="hljs-keyword">const</span> <span class="hljs-attr">next</span>: <span class="hljs-title class_">Account</span> = {
  ...account,
  <span class="hljs-attr">email</span>: <span class="hljs-string">'john.doe@example.com'</span>,
};

<span class="hljs-keyword">await</span> <span class="hljs-title class_">DefaultService</span>.<span class="hljs-title function_">putAccount</span>(next);
</code></pre>
<p>åœ¨æœåŠ¡å™¨ç«¯ï¼Œç›¸åŒçš„ OpenAPI å®šä¹‰æ”¯æŒæ‹¦æˆªå™¨å¤„ç† <code>dnb://internal.host/api/*</code> è¯·æ±‚ï¼Œå¹¶å°†å®ƒä»¬è·¯ç”±åˆ°ä¸šåŠ¡é€»è¾‘ç±»ï¼š</p>
<p><strong>ResourceRequestHandler.cs</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">private</span> <span class="hljs-title class_">InterceptRequestResponse</span> <span class="hljs-title class_">HandleApiRequest</span>(
    <span class="hljs-title class_">InterceptRequestParameters</span> parameters,
    <span class="hljs-built_in">string</span> path)
{
    <span class="hljs-keyword">return</span> (method, trimmedPath) <span class="hljs-keyword">switch</span>
    {
        <span class="hljs-function">(<span class="hljs-params"><span class="hljs-string">"GET"</span>, <span class="hljs-string">"account"</span></span>) =&gt;</span> <span class="hljs-title class_">JsonResponse</span>(parameters, store.<span class="hljs-title class_">GetAccount</span>()),
        <span class="hljs-function">(<span class="hljs-params"><span class="hljs-string">"PUT"</span>, <span class="hljs-string">"account"</span></span>) =&gt;</span>
            <span class="hljs-title class_">HandlePut</span>&lt;<span class="hljs-title class_">Account</span>&gt;(parameters, <span class="hljs-function"><span class="hljs-params">a</span> =&gt;</span> store.<span class="hljs-title class_">SetAccount</span>(a)),
        <span class="hljs-function">(<span class="hljs-params"><span class="hljs-string">"GET"</span>, <span class="hljs-string">"profile-picture"</span></span>) =&gt;</span>
            <span class="hljs-title class_">JsonResponse</span>(parameters, store.<span class="hljs-title class_">GetProfilePicture</span>()),
        <span class="hljs-function">(<span class="hljs-params"><span class="hljs-string">"PUT"</span>, <span class="hljs-string">"profile-picture"</span></span>) =&gt;</span>
            <span class="hljs-title class_">HandlePut</span>&lt;<span class="hljs-title class_">ProfilePicture</span>&gt;(
                parameters,
                <span class="hljs-function"><span class="hljs-params">pic</span> =&gt;</span> store.<span class="hljs-title class_">SetProfilePicture</span>(pic)),
        <span class="hljs-function"><span class="hljs-params">_</span> =&gt;</span> <span class="hljs-title class_">CreateResponse</span>(parameters, <span class="hljs-title class_">HttpStatusCode</span>.<span class="hljs-property">NotFound</span>)
    };
}
</code></pre>
<p>è¯¥æ¶æ„ç¡®ä¿åè®®ç±»å‹å®‰å…¨ã€æ”¯æŒç¦»çº¿æ“ä½œï¼Œå¹¶ä¿æŒä¸å¸¸è§„æµè§ˆå™¨ç¯å¢ƒçš„å…¼å®¹æ€§ï¼Œå› ä¸ºå®ƒä¾èµ–æ ‡å‡† HTTP è¯­ä¹‰ã€‚</p>
<h2 data-id="heading-9">æ€»ç»“</h2>
<p>DotNetBrowser ä¸ Avalonia æä¾›äº†åŸç”Ÿã€è·¨å¹³å°çš„æ¡Œé¢å¤–å£³ï¼Œè€Œ Angular ä¸ PrimeNG åˆ™å¸¦æ¥äº†ç°ä»£åŒ–çš„ Web UIã€‚é€šè¿‡è‡ªå®šä¹‰åè®®åŠ è½½ UIï¼Œå¯ä»¥ä¿æŒåº”ç”¨å®Œå…¨è‡ªåŒ…å«ï¼›è€ŒåŸºäº OpenAPI çš„å¥‘çº¦ï¼Œåˆ™å…è®¸ JavaScript é€šè¿‡ fetch è°ƒç”¨ .NETï¼Œè€Œæ— éœ€é¢å¤–å¯åŠ¨æœåŠ¡å™¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[PostgreSQL æ˜¾å¼é”å®šï¼šä»åŸç†åˆ°å®è·µï¼ˆè¶£å‘³ç‰ˆï¼‰]]></title>    <link>https://juejin.cn/post/7593158683411431424</link>    <guid>https://juejin.cn/post/7593158683411431424</guid>    <pubDate>2026-01-09T10:11:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593158683411431424" data-draft-id="7593193235250724916" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="PostgreSQL æ˜¾å¼é”å®šï¼šä»åŸç†åˆ°å®è·µï¼ˆè¶£å‘³ç‰ˆï¼‰"/> <meta itemprop="keywords" content="PostgreSQL"/> <meta itemprop="datePublished" content="2026-01-09T10:11:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å…‰è›‹"/> <meta itemprop="url" content="https://juejin.cn/user/3537560778573467"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            PostgreSQL æ˜¾å¼é”å®šï¼šä»åŸç†åˆ°å®è·µï¼ˆè¶£å‘³ç‰ˆï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3537560778573467/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å…‰è›‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T10:11:14.000Z" title="Fri Jan 09 2026 10:11:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€ï¼šæ•°æ®åº“é‡Œçš„â€œæŠ¢æ¿å‡³â€æ¸¸æˆ</h2>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ å’Œæœ‹å‹å›´ç€ä¸€å¼ æ‘†æ»¡é›¶é£Ÿçš„æ¡Œå­æŠ¢åƒçš„ï¼šæœ‰äººåªæƒ³çœ‹ä¸€çœ¼é›¶é£Ÿï¼ˆè¯»æ•°æ®ï¼‰ï¼Œæœ‰äººæƒ³ç›´æ¥æ‹¿èµ°ï¼ˆæ”¹æ•°æ®ï¼‰ï¼Œæœ‰äººæƒ³æŠŠæ•´å¼ æ¡Œå­æ¬èµ°ï¼ˆåˆ è¡¨ï¼‰ã€‚å¦‚æœæ²¡äººç®¡ï¼Œæ¡Œå­è‚¯å®šä¼šè¢«æ€ç¿»â€”â€”PostgreSQLçš„æ˜¾å¼é”ï¼Œå°±æ˜¯è¿™åœºâ€œæŠ¢é›¶é£Ÿæ¸¸æˆâ€çš„è§„åˆ™å’Œè£åˆ¤ï¼Œç¡®ä¿æ¯ä¸ªäººéƒ½èƒ½æŒ‰è§„çŸ©æ¥ï¼Œä¸æ‰“æ¶ã€ä¸æŠ¢ä¹±ã€‚</p>
<p>PostgreSQLçš„é”ä½“ç³»å°±åƒä¸€å¥—ç²¾å¯†çš„â€œäº¤é€šè§„åˆ™â€ï¼Œè¦†ç›–äº†è¡¨ã€è¡Œã€é¡µä¸‰ä¸ªç»´åº¦ï¼Œè¿˜æœ‰ä¸“é—¨è§£å†³â€œäº’ä¸ç›¸è®©â€çš„æ­»é”æœºåˆ¶ï¼Œä»¥åŠçµæ´»çš„â€œè‡ªå®šä¹‰è§„åˆ™â€ï¼ˆå’¨è¯¢é”ï¼‰ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç”¨æ•…äº‹+ç¤ºä¾‹çš„æ–¹å¼ï¼ŒæŠŠè¿™äº›æ¯ç‡¥çš„é”æ¦‚å¿µè®²æ˜ç™½ã€‚</p>
<h2 data-id="heading-1">1 è¡¨çº§é”ï¼šç»™æ•´å¼ é›¶é£Ÿæ¡Œå®šè§„çŸ©</h2>
<p>è¡¨çº§é”æ˜¯ç»™æ•´å¼ è¡¨ä¸Šçš„â€œå¤§é”â€ï¼Œå°±åƒç»™é›¶é£Ÿæ¡Œè´´æ ‡ç­¾ï¼šâ€œåªè®¸çœ‹â€ï¼Œâ€œå¯æ‹¿é›¶é£Ÿä½†ä¸èƒ½æ¬æ¡Œå­â€ï¼Œâ€œè°éƒ½ä¸è®¸ç¢°â€â€¦â€¦PostgreSQLå®šä¹‰äº†8ç§è¡¨çº§é”æ¨¡å¼ï¼Œæ ¸å¿ƒæ˜¯â€œè°å’Œè°ä¸èƒ½åŒæ—¶æ¥â€ã€‚</p>
<h3 data-id="heading-2">è¶£å‘³åœºæ™¯ï¼šé›¶é£Ÿåº—çš„è¥ä¸šè§„åˆ™</h3>
<p>å‡è®¾ä½ å¼€äº†ä¸€å®¶é›¶é£Ÿåº—ï¼ˆæ•°æ®åº“ï¼‰ï¼Œè´§æ¶ï¼ˆè¡¨ï¼‰ä¸Šæ‘†ç€å„ç§é›¶é£Ÿï¼ˆæ•°æ®ï¼‰ï¼Œä¸åŒé¡¾å®¢ï¼ˆäº‹åŠ¡ï¼‰æœ‰ä¸åŒéœ€æ±‚ï¼Œä½ éœ€è¦ç”¨è¡¨çº§é”æ¥ç®¡ç†ï¼š</p>
<ul>
<li><strong>ACCESS SHAREï¼ˆåªè®¸çœ‹ï¼‰</strong> ï¼šé¡¾å®¢åªæƒ³çœ‹è´§æ¶ä¸Šæœ‰ä»€ä¹ˆé›¶é£Ÿï¼ˆSELECTï¼‰ï¼Œä¸æ‹¿ä¹Ÿä¸ç¢°ã€‚åªè¦æ²¡äººæŠŠè´§æ¶æ¬èµ°ï¼ˆACCESS EXCLUSIVEï¼‰ï¼Œå¤šå°‘äººçœ‹éƒ½å¯ä»¥ã€‚</li>
<li><strong>ROW EXCLUSIVEï¼ˆå¯æ‹¿é›¶é£Ÿï¼‰</strong> ï¼šé¡¾å®¢è¦æ‹¿èµ°ä¸€åŒ…è–¯ç‰‡ï¼ˆUPDATE/INSERT/DELETEï¼‰ï¼Œæ­¤æ—¶ä¸èƒ½æœ‰äººæŠŠè´§æ¶é”èµ·æ¥ç›˜ç‚¹ï¼ˆSHAREï¼‰ï¼Œä½†å…¶ä»–äººè¿˜èƒ½çœ‹ã€è¿˜èƒ½æ‹¿å…¶ä»–é›¶é£Ÿã€‚</li>
<li><strong>ACCESS EXCLUSIVEï¼ˆè°éƒ½ä¸è®¸ç¢°ï¼‰</strong> ï¼šä½ è¦æŠŠæ•´ä¸ªè´§æ¶æ¬èµ°é‡è£…ï¼ˆALTER TABLE/TRUNCATEï¼‰ï¼Œæ­¤æ—¶ä»»ä½•äººéƒ½ä¸èƒ½çœ‹ã€ä¸èƒ½æ‹¿ï¼Œå¿…é¡»ç­‰ä½ æ¬å®Œã€‚</li>
</ul>
<h3 data-id="heading-3">å®æ“ç¤ºä¾‹ï¼šæ‰‹åŠ¨åŠ è¡¨çº§é”</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ä¼šè¯1ï¼šç»™productsè¡¨åŠ â€œåªè®¸è¯»â€çš„é”ï¼ˆACCESS SHAREï¼‰</span>
<span class="hljs-keyword">BEGIN</span>;
LOCK <span class="hljs-keyword">TABLE</span> products <span class="hljs-keyword">IN</span> ACCESS SHARE MODE;
<span class="hljs-comment">-- æ­¤æ—¶å¯ä»¥æ­£å¸¸SELECTï¼Œä½†æ— æ³•æ‰§è¡ŒALTER TABLE/TRUNCATE</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> products <span class="hljs-keyword">WHERE</span> category <span class="hljs-operator">=</span> <span class="hljs-string">'é›¶é£Ÿ'</span>;
<span class="hljs-keyword">COMMIT</span>;

<span class="hljs-comment">-- ä¼šè¯2ï¼šå°è¯•ç»™productsè¡¨åŠ â€œç‹¬å é”â€ï¼ˆACCESS EXCLUSIVEï¼‰ï¼Œä¼šè¢«é˜»å¡</span>
<span class="hljs-keyword">BEGIN</span>;
LOCK <span class="hljs-keyword">TABLE</span> products <span class="hljs-keyword">IN</span> ACCESS EXCLUSIVE MODE; <span class="hljs-comment">-- ç­‰å¾…ä¼šè¯1æäº¤åæ‰ä¼šæ‰§è¡Œ</span>
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> products <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">COLUMN</span> stock <span class="hljs-type">int</span>;
<span class="hljs-keyword">COMMIT</span>;

<span class="hljs-comment">-- å†²çªç¤ºä¾‹ï¼šACCESS SHAREå’ŒACCESS EXCLUSIVEäº’æ–¥</span>
<span class="hljs-comment">-- ä¼šè¯1å…ˆæŒæœ‰ACCESS SHAREï¼Œä¼šè¯2çš„ACCESS EXCLUSIVEä¼šç­‰å¾…ï¼›åä¹‹äº¦ç„¶</span>
</code></pre>
<h3 data-id="heading-4">æ ¸å¿ƒå†²çªè§„åˆ™ï¼ˆç®€åŒ–ç‰ˆï¼‰</h3>

























<table><thead><tr><th>é”æ¨¡å¼</th><th>èƒ½å’Œè°å…±å­˜ï¼Ÿ</th><th>ä¸èƒ½å’Œè°å…±å­˜ï¼Ÿ</th></tr></thead><tbody><tr><td>ACCESS SHAREï¼ˆåªè¯»ï¼‰</td><td>å‡ ä¹æ‰€æœ‰é”</td><td>åªæœ‰ACCESS EXCLUSIVE</td></tr><tr><td>ROW EXCLUSIVEï¼ˆæ”¹æ•°æ®ï¼‰</td><td>è¯»é”ã€è¡Œå…±äº«é”</td><td>å…±äº«é”ã€ç‹¬å é”ã€ACCESS EXCLUSIVE</td></tr><tr><td>ACCESS EXCLUSIVEï¼ˆç‹¬å ï¼‰</td><td>æ— </td><td>æ‰€æœ‰é”</td></tr></tbody></table>
<h3 data-id="heading-5">å®é™…ä½¿ç”¨æ¡ˆä¾‹ï¼šç”µå•†å•†å“è¡¨çš„è¡¨çº§é”æ§åˆ¶</h3>
<p>ã€åœºæ™¯ã€‘ç”µå•†å¹³å°çš„å•†å“è¡¨ï¼ˆproductsï¼‰æ—¥å¸¸æœ‰å¤§é‡ç”¨æˆ·æŸ¥è¯¢å•†å“ä¿¡æ¯ï¼ˆSELECTï¼‰ï¼Œè¿è¥äººå‘˜éœ€å®šæœŸæ›´æ–°å•†å“åˆ†ç±»ï¼ˆALTER TABLEï¼‰ï¼Œæ•°æ®åˆ†æå¸ˆéœ€å¤œé—´ç”Ÿæˆé”€å”®ç»Ÿè®¡æŠ¥è¡¨ï¼ˆCREATE INDEX CONCURRENTLYï¼‰ã€‚</p>
<p>ã€é”ç­–ç•¥è®¾è®¡ã€‘ï¼š</p>
<ul>
<li>ç”¨æˆ·æŸ¥è¯¢å•†å“æ—¶ï¼ŒPostgreSQLè‡ªåŠ¨åŠ ACCESS SHAREé”ï¼Œä¸å½±å“å…¶ä»–æŸ¥è¯¢ï¼Œä»…é˜»å¡ALTER TABLEç­‰åŠ ACCESS EXCLUSIVEé”çš„æ“ä½œï¼›</li>
<li>è¿è¥æ›´æ–°å•†å“åˆ†ç±»å­—æ®µï¼ˆALTER TABLE products ADD COLUMN category_level intï¼‰æ—¶ï¼Œéœ€åŠ ACCESS EXCLUSIVEé”ï¼Œéœ€é¿å¼€æŸ¥è¯¢é«˜å³°ï¼ˆå¦‚å‡Œæ™¨æ‰§è¡Œï¼‰ï¼Œé¿å…é˜»å¡å¤§é‡ç”¨æˆ·æŸ¥è¯¢ï¼›</li>
<li>æ•°æ®åˆ†æå¸ˆåˆ›å»ºç»Ÿè®¡ç´¢å¼•ï¼ˆCREATE INDEX CONCURRENTLY idx_products_sales ON products(sales_num)ï¼‰æ—¶ï¼ŒåŠ SHARE UPDATE EXCLUSIVEé”ï¼Œä¸ä¼šé˜»å¡ç”¨æˆ·æŸ¥è¯¢ï¼Œä½†ä¼šé˜»å¡è¿è¥çš„ALTER TABLEæ“ä½œï¼Œéœ€ä¸è¿è¥æ“ä½œé”™å³°ã€‚</li>
</ul>
<p>ã€å®æ“éªŒè¯ã€‘ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- é«˜å³°æ—¶æ®µç”¨æˆ·æŸ¥è¯¢ï¼ˆè‡ªåŠ¨åŠ ACCESS SHAREé”ï¼‰</span>
<span class="hljs-keyword">SELECT</span> name, price, stock <span class="hljs-keyword">FROM</span> products <span class="hljs-keyword">WHERE</span> category <span class="hljs-operator">=</span> <span class="hljs-string">'electronics'</span>;

<span class="hljs-comment">-- å¤œé—´è¿è¥æ›´æ–°å­—æ®µï¼ˆåŠ ACCESS EXCLUSIVEé”ï¼‰</span>
<span class="hljs-keyword">BEGIN</span>;
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> products <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">COLUMN</span> category_level <span class="hljs-type">int</span>;
<span class="hljs-keyword">UPDATE</span> products <span class="hljs-keyword">SET</span> category_level <span class="hljs-operator">=</span> <span class="hljs-number">1</span> <span class="hljs-keyword">WHERE</span> category <span class="hljs-operator">=</span> <span class="hljs-string">'electronics'</span>;
<span class="hljs-keyword">COMMIT</span>;

<span class="hljs-comment">-- å‡Œæ™¨åˆ†æå¸ˆåˆ›å»ºå¹¶å‘ç´¢å¼•ï¼ˆåŠ SHARE UPDATE EXCLUSIVEé”ï¼‰</span>
<span class="hljs-keyword">CREATE</span> INDEX CONCURRENTLY idx_products_sales <span class="hljs-keyword">ON</span> products(sales_num);
</code></pre>
<h2 data-id="heading-6">2 è¡Œçº§é”ï¼šåªé”ä½ æƒ³è¦çš„é‚£åŒ…é›¶é£Ÿ</h2>
<p>å¦‚æœè¯´è¡¨çº§é”æ˜¯â€œé”æ•´å¼ æ¡Œå­â€ï¼Œè¡Œçº§é”å°±æ˜¯â€œåªé”ä½ æ‰‹é‡Œçš„é‚£åŒ…è–¯ç‰‡â€â€”â€”ä¸å½±å“åˆ«äººæ‹¿å…¶ä»–é›¶é£Ÿï¼Œç²¾å‡†åˆé«˜æ•ˆã€‚PostgreSQLçš„è¡Œçº§é”åªé˜»å¡â€œæ”¹è¿™è¡Œæ•°æ®çš„äººâ€ï¼Œä¸å½±å“â€œçœ‹è¿™è¡Œæ•°æ®çš„äººâ€ã€‚</p>
<h3 data-id="heading-7">è¶£å‘³åœºæ™¯ï¼šæŠ¢æœ€åä¸€åŒ…é™é‡è–¯ç‰‡</h3>
<p>é›¶é£Ÿåº—åªå‰©1åŒ…é™é‡è–¯ç‰‡ï¼ˆè¡Œæ•°æ®ï¼‰ï¼Œä¸¤ä¸ªé¡¾å®¢åŒæ—¶æƒ³ä¹°ï¼š</p>
<ul>
<li>é¡¾å®¢Aå…ˆä¼¸æ‰‹æ‹¿ï¼ˆSELECT ... FOR UPDATEï¼‰ï¼Œç»™è¿™åŒ…è–¯ç‰‡è´´äº†â€œæˆ‘è¦äº†â€çš„æ ‡ç­¾ï¼ˆè¡Œçº§æ’ä»–é”ï¼‰ï¼›</li>
<li>é¡¾å®¢Bå†ä¼¸æ‰‹ï¼Œå‘ç°æ ‡ç­¾ååªèƒ½ç­‰é¡¾å®¢Aæ¾æ‰‹ï¼ˆäº‹åŠ¡ç»“æŸï¼‰ï¼Œè¦ä¹ˆä¹°åˆ°ï¼Œè¦ä¹ˆå‘ç°è–¯ç‰‡å·²ç»è¢«ä¹°èµ°ï¼ˆè¡Œè¢«åˆ é™¤ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-8">å®æ“ç¤ºä¾‹ï¼šè¡Œçº§é”çš„4ç§æ¨¡å¼</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ä¼šè¯1ï¼šé”å®šid=100çš„è–¯ç‰‡è¡Œï¼ˆFOR UPDATEï¼Œæ’ä»–é”ï¼‰</span>
<span class="hljs-keyword">BEGIN</span>;
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> products <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">100</span> <span class="hljs-keyword">FOR</span> <span class="hljs-keyword">UPDATE</span>;
<span class="hljs-comment">-- æ­¤æ—¶è¿™è¡Œè¢«é”å®šï¼Œå…¶ä»–ä¼šè¯æ”¹è¿™è¡Œéƒ½ä¼šç­‰</span>
<span class="hljs-keyword">UPDATE</span> products <span class="hljs-keyword">SET</span> stock <span class="hljs-operator">=</span> stock <span class="hljs-operator">-</span> <span class="hljs-number">1</span> <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">100</span>;
<span class="hljs-comment">-- æš‚ä¸æäº¤ï¼Œä¿æŒé”</span>

<span class="hljs-comment">-- ä¼šè¯2ï¼šå°è¯•æ”¹åŒä¸€è¡Œï¼Œä¼šè¢«é˜»å¡</span>
<span class="hljs-keyword">BEGIN</span>;
<span class="hljs-keyword">UPDATE</span> products <span class="hljs-keyword">SET</span> price <span class="hljs-operator">=</span> <span class="hljs-number">9.9</span> <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">100</span>; <span class="hljs-comment">-- ç­‰å¾…ä¼šè¯1æäº¤/å›æ»š</span>
<span class="hljs-keyword">COMMIT</span>;

<span class="hljs-comment">-- æ›´æ¸©å’Œçš„é”ï¼šFOR NO KEY UPDATEï¼ˆä¸é˜»å¡FOR KEY SHAREï¼‰</span>
<span class="hljs-keyword">BEGIN</span>;
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> products <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">100</span> <span class="hljs-keyword">FOR</span> <span class="hljs-keyword">NO</span> KEY <span class="hljs-keyword">UPDATE</span>;
<span class="hljs-comment">-- åªé”â€œéä¸»é”®/å¤–é”®åˆ—â€ï¼Œé€‚åˆæ™®é€šæ›´æ–°</span>
<span class="hljs-keyword">COMMIT</span>;

<span class="hljs-comment">-- å…±äº«é”ï¼šFOR SHAREï¼ˆå¤šäººå¯çœ‹ï¼Œéƒ½ä¸èƒ½æ”¹ï¼‰</span>
<span class="hljs-keyword">BEGIN</span>;
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> products <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">100</span> <span class="hljs-keyword">FOR</span> SHARE;
<span class="hljs-comment">-- å…¶ä»–ä¼šè¯å¯ä»¥åŠ FOR SHAREï¼Œä½†ä¸èƒ½åŠ FOR UPDATE</span>
<span class="hljs-keyword">COMMIT</span>;
</code></pre>
<h3 data-id="heading-9">è¡Œçº§é”å†²çªè§„åˆ™</h3>
<h3 data-id="heading-10">å®é™…ä½¿ç”¨æ¡ˆä¾‹ï¼šç§’æ€æ´»åŠ¨ä¸­çš„è¡Œçº§é”é˜²è¶…å–</h3>
<p>ã€åœºæ™¯ã€‘ç”µå•†ç§’æ€æ´»åŠ¨ï¼ŒæŸæ¬¾é™é‡100ä»¶çš„å•†å“ï¼Œå¤§é‡ç”¨æˆ·åŒæ—¶æŠ¢è´­ï¼Œéœ€é˜²æ­¢è¶…å–ï¼ˆå³æœ€ç»ˆä¸‹å•æ•°è¶…è¿‡åº“å­˜æ•°ï¼‰ã€‚</p>
<p>ã€é—®é¢˜åˆ†æã€‘ï¼šè‹¥ä¸ä½¿ç”¨è¡Œçº§é”ï¼Œå¤šä¸ªäº‹åŠ¡åŒæ—¶è¯»å–åº“å­˜ï¼ˆå¦‚stock=1ï¼‰ï¼Œéƒ½åˆ¤æ–­æœ‰åº“å­˜å¹¶æ‰§è¡Œæ‰£å‡ï¼Œä¼šå¯¼è‡´æœ€ç»ˆstockå˜ä¸º-1ï¼ˆè¶…å–ï¼‰ã€‚</p>
<p>ã€è§£å†³æ–¹æ¡ˆã€‘ï¼šä½¿ç”¨SELECT ... FOR UPDATEè¡Œçº§é”ï¼Œç¡®ä¿åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªäº‹åŠ¡èƒ½ä¿®æ”¹è¯¥å•†å“çš„åº“å­˜è®°å½•ã€‚</p>
<p>ã€å®æ“ä»£ç ã€‘ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ç§’æ€ä¸‹å•æ ¸å¿ƒé€»è¾‘ï¼ˆéœ€åœ¨äº‹åŠ¡ä¸­æ‰§è¡Œï¼‰</span>
<span class="hljs-keyword">BEGIN</span>;
<span class="hljs-comment">-- é”å®šç›®æ ‡å•†å“è¡Œï¼Œé˜²æ­¢å…¶ä»–äº‹åŠ¡åŒæ—¶ä¿®æ”¹</span>
<span class="hljs-keyword">SELECT</span> stock <span class="hljs-keyword">FROM</span> products <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">1001</span> <span class="hljs-keyword">FOR</span> <span class="hljs-keyword">UPDATE</span>;
<span class="hljs-comment">-- æ£€æŸ¥åº“å­˜æ˜¯å¦å……è¶³</span>
IF (<span class="hljs-keyword">SELECT</span> stock <span class="hljs-keyword">FROM</span> products <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">1001</span>) <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span> <span class="hljs-keyword">THEN</span>
  <span class="hljs-comment">-- æ‰£å‡åº“å­˜</span>
  <span class="hljs-keyword">UPDATE</span> products <span class="hljs-keyword">SET</span> stock <span class="hljs-operator">=</span> stock <span class="hljs-operator">-</span> <span class="hljs-number">1</span> <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">1001</span>;
  <span class="hljs-comment">-- åˆ›å»ºè®¢å•è®°å½•</span>
  <span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> orders (product_id, user_id, create_time) 
  <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1001</span>, #{userId}, NOW());
  <span class="hljs-keyword">COMMIT</span>;
  <span class="hljs-keyword">RETURN</span> <span class="hljs-string">'ä¸‹å•æˆåŠŸ'</span>;
<span class="hljs-keyword">ELSE</span>
  <span class="hljs-keyword">ROLLBACK</span>;
  <span class="hljs-keyword">RETURN</span> <span class="hljs-string">'åº“å­˜ä¸è¶³'</span>;
<span class="hljs-keyword">END</span> IF;
</code></pre>
<p>ã€è¯´æ˜ã€‘ï¼šé€šè¿‡FOR UPDATEé”å®šå•†å“è¡Œåï¼Œå…¶ä»–æŠ¢è´­è¯¥å•†å“çš„äº‹åŠ¡ä¼šé˜»å¡åœ¨SELECT ... FOR UPDATEæ­¥éª¤ï¼Œç­‰å¾…å½“å‰äº‹åŠ¡æäº¤æˆ–å›æ»šåå†æ‰§è¡Œï¼Œä»è€Œé¿å…è¶…å–ã€‚</p>








































<table><thead><tr><th>è¯·æ±‚çš„é”</th><th>FOR KEY SHARE</th><th>FOR SHARE</th><th>FOR NO KEY UPDATE</th><th>FOR UPDATE</th></tr></thead><tbody><tr><td>FOR KEY SHARE</td><td>âœ…</td><td>âœ…</td><td>âœ…</td><td>âŒ</td></tr><tr><td>FOR SHARE</td><td>âœ…</td><td>âœ…</td><td>âŒ</td><td>âŒ</td></tr><tr><td>FOR NO KEY UPDATE</td><td>âŒ</td><td>âŒ</td><td>âŒ</td><td>âŒ</td></tr><tr><td>FOR UPDATE</td><td>âŒ</td><td>âŒ</td><td>âŒ</td><td>âŒ</td></tr></tbody></table>
<h2 data-id="heading-11">3 é¡µçº§é”ï¼šé›¶é£Ÿç›’çš„â€œä¸´æ—¶é”â€</h2>
<p>é¡µçº§é”æ˜¯PostgreSQLå†…éƒ¨ç”¨çš„â€œå°é”â€â€”â€”æŠŠè¡¨æ‹†æˆä¸€ä¸ªä¸ªâ€œé›¶é£Ÿç›’â€ï¼ˆæ•°æ®é¡µï¼‰ï¼Œæ“ä½œç›’é‡Œçš„é›¶é£Ÿæ—¶ï¼Œå…ˆé”ç›’å­ï¼Œç”¨å®Œé©¬ä¸Šæ”¾ã€‚å¯¹åº”ç”¨å¼€å‘è€…æ¥è¯´ï¼Œ<strong>å®Œå…¨ä¸ç”¨å…³å¿ƒ</strong>ï¼ŒPostgreSQLä¼šè‡ªåŠ¨å¤„ç†ï¼Œè¿™é‡Œåªåšç§‘æ™®ï¼š</p>
<ul>
<li>ä½œç”¨ï¼šæ§åˆ¶å¯¹å†…å­˜ä¸­æ•°æ®é¡µçš„è¯»å†™ï¼›</li>
<li>ç‰¹ç‚¹ï¼šç”¨å®Œå°±æ”¾ï¼Œä¸æŒä¹…ï¼Œå¼€å‘è€…æ— éœ€æ‰‹åŠ¨æ“ä½œã€‚</li>
</ul>
<h2 data-id="heading-12">4 æ­»é”ï¼šè°éƒ½ä¸è®©è°çš„â€œåƒµå±€â€</h2>
<p>æ­»é”å°±åƒä¸¤ä¸ªé¡¾å®¢åµæ¶ï¼š</p>
<p>é¡¾å®¢Aï¼šä½ å…ˆæŠŠæˆ‘çš„è–¯ç‰‡è¿˜ç»™æˆ‘ï¼Œæˆ‘å†ç»™ä½ å¯ä¹ï¼</p>
<p>é¡¾å®¢Bï¼šä½ å…ˆæŠŠæˆ‘çš„å¯ä¹è¿˜ç»™æˆ‘ï¼Œæˆ‘å†ç»™ä½ è–¯ç‰‡ï¼</p>
<p>è°éƒ½ä¸è®©æ­¥ï¼Œæœ€ååªèƒ½åº—é•¿ï¼ˆPostgreSQLï¼‰å‡ºé¢ï¼ŒæŠŠå…¶ä¸­ä¸€ä¸ªäººåŠèµ°ï¼ˆä¸­æ–­äº‹åŠ¡ï¼‰ï¼Œæ‰“ç ´åƒµå±€ã€‚</p>
<h3 data-id="heading-13">è¶£å‘³åœºæ™¯ï¼šè½¬è´¦å¼•å‘çš„æ­»é”</h3>
<p>å°æ˜è¦ç»™å°çº¢è½¬100å…ƒï¼Œå°çº¢è¦ç»™å°æ˜è½¬50å…ƒï¼Œä¸¤äººåŒæ—¶æ“ä½œï¼š</p>
<ol>
<li>å°æ˜çš„äº‹åŠ¡ï¼šå…ˆé”è‡ªå·±çš„è´¦æˆ·ï¼ˆæ›´æ–°ä½™é¢-100ï¼‰ï¼Œå†æƒ³é”å°çº¢çš„è´¦æˆ·ï¼ˆ+100ï¼‰ï¼›</li>
<li>å°çº¢çš„äº‹åŠ¡ï¼šå…ˆé”è‡ªå·±çš„è´¦æˆ·ï¼ˆæ›´æ–°ä½™é¢-50ï¼‰ï¼Œå†æƒ³é”å°æ˜çš„è´¦æˆ·ï¼ˆ+50ï¼‰ï¼›</li>
<li>ç»“æœï¼šå°æ˜ç­‰å°çº¢æ¾æ‰‹ï¼Œå°çº¢ç­‰å°æ˜æ¾æ‰‹ï¼Œæ­»é”ï¼</li>
</ol>
<h3 data-id="heading-14">å®æ“ç¤ºä¾‹ï¼šå¤ç°å¹¶è§£å†³æ­»é”</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- å…ˆå»ºè¡¨ï¼šè´¦æˆ·è¡¨</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> accounts (
  acctnum <span class="hljs-type">int</span> <span class="hljs-keyword">PRIMARY</span> KEY,
  balance <span class="hljs-type">numeric</span>(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>)
);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> accounts <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">11111</span>, <span class="hljs-number">1000</span>), (<span class="hljs-number">22222</span>, <span class="hljs-number">1000</span>);

<span class="hljs-comment">-- ä¼šè¯1ï¼ˆå°æ˜ï¼‰ï¼šå…ˆæ›´è‡ªå·±ï¼Œå†æ›´å°çº¢</span>
<span class="hljs-keyword">BEGIN</span>;
<span class="hljs-keyword">UPDATE</span> accounts <span class="hljs-keyword">SET</span> balance <span class="hljs-operator">=</span> balance <span class="hljs-operator">-</span> <span class="hljs-number">100</span> <span class="hljs-keyword">WHERE</span> acctnum <span class="hljs-operator">=</span> <span class="hljs-number">11111</span>;
<span class="hljs-comment">-- æš‚ä¸æäº¤ï¼Œä¿æŒé”</span>

<span class="hljs-comment">-- ä¼šè¯2ï¼ˆå°çº¢ï¼‰ï¼šå…ˆæ›´è‡ªå·±ï¼Œå†æ›´å°æ˜</span>
<span class="hljs-keyword">BEGIN</span>;
<span class="hljs-keyword">UPDATE</span> accounts <span class="hljs-keyword">SET</span> balance <span class="hljs-operator">=</span> balance <span class="hljs-operator">-</span> <span class="hljs-number">50</span> <span class="hljs-keyword">WHERE</span> acctnum <span class="hljs-operator">=</span> <span class="hljs-number">22222</span>;
<span class="hljs-keyword">UPDATE</span> accounts <span class="hljs-keyword">SET</span> balance <span class="hljs-operator">=</span> balance <span class="hljs-operator">+</span> <span class="hljs-number">50</span> <span class="hljs-keyword">WHERE</span> acctnum <span class="hljs-operator">=</span> <span class="hljs-number">11111</span>; <span class="hljs-comment">-- ç­‰å¾…ä¼šè¯1</span>

<span class="hljs-comment">-- å›åˆ°ä¼šè¯1ï¼šå°è¯•æ›´å°çº¢ï¼Œè§¦å‘æ­»é”</span>
<span class="hljs-keyword">UPDATE</span> accounts <span class="hljs-keyword">SET</span> balance <span class="hljs-operator">=</span> balance <span class="hljs-operator">+</span> <span class="hljs-number">100</span> <span class="hljs-keyword">WHERE</span> acctnum <span class="hljs-operator">=</span> <span class="hljs-number">22222</span>;
<span class="hljs-comment">-- PostgreSQLä¼šæç¤ºï¼šERROR:  deadlock detected</span>
<span class="hljs-comment">-- å¹¶ä¸­æ–­å…¶ä¸­ä¸€ä¸ªäº‹åŠ¡ï¼Œå¦ä¸€ä¸ªç»§ç»­æ‰§è¡Œ</span>
</code></pre>
<h3 data-id="heading-15">æ­»é”é¢„é˜²æŠ€å·§</h3>
<h3 data-id="heading-16">å®é™…ä½¿ç”¨æ¡ˆä¾‹ï¼šå¤šè´¦æˆ·è½¬è´¦çš„æ­»é”é¿å…</h3>
<p>ã€åœºæ™¯ã€‘é“¶è¡Œè½¬è´¦ç³»ç»Ÿï¼Œæ”¯æŒç”¨æˆ·ä¹‹é—´äº’è½¬ï¼Œå¦‚ç”¨æˆ·Aè½¬ç”¨æˆ·Bã€ç”¨æˆ·Bè½¬ç”¨æˆ·Aï¼Œè‹¥ä¸æ§åˆ¶é”é¡ºåºï¼Œæ˜“å¼•å‘æ­»é”ã€‚</p>
<p>ã€æ­»é”å¤ç°ã€‘ï¼šå¦‚å‰æ–‡â€œè½¬è´¦å¼•å‘çš„æ­»é”â€ç¤ºä¾‹ï¼Œå› ä¸¤ä¸ªäº‹åŠ¡é”è´¦æˆ·çš„é¡ºåºç›¸åï¼ˆAå…ˆé”Aå†é”Bï¼ŒBå…ˆé”Bå†é”Aï¼‰ï¼Œå¯¼è‡´æ­»é”ã€‚</p>
<p>ã€è§£å†³æ–¹æ¡ˆã€‘ï¼šç»Ÿä¸€é”é¡ºåºï¼Œå³æ‰€æœ‰è½¬è´¦äº‹åŠ¡éƒ½æŒ‰â€œè´¦æˆ·å·ä»å°åˆ°å¤§â€çš„é¡ºåºé”å®šè´¦æˆ·ã€‚</p>
<p>ã€ä¼˜åŒ–åå®æ“ä»£ç ã€‘ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- é€šç”¨è½¬è´¦å‡½æ•°ï¼ˆç»Ÿä¸€æŒ‰è´¦æˆ·å·å‡åºé”ï¼‰</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">OR</span> REPLACE <span class="hljs-keyword">FUNCTION</span> transfer(from_acct <span class="hljs-type">int</span>, to_acct <span class="hljs-type">int</span>, amount <span class="hljs-type">numeric</span>)
<span class="hljs-keyword">RETURNS</span> <span class="hljs-type">VARCHAR</span> <span class="hljs-keyword">AS</span> $$
<span class="hljs-keyword">DECLARE</span>
  min_acct <span class="hljs-type">int</span>;
  max_acct <span class="hljs-type">int</span>;
<span class="hljs-keyword">BEGIN</span>
  <span class="hljs-comment">-- ç¡®å®šè´¦æˆ·å·å¤§å°ï¼Œç»Ÿä¸€å…ˆé”å°å·è´¦æˆ·</span>
  IF from_acct <span class="hljs-operator">&lt;</span> to_acct <span class="hljs-keyword">THEN</span>
    min_acct :<span class="hljs-operator">=</span> from_acct;
    max_acct :<span class="hljs-operator">=</span> to_acct;
  <span class="hljs-keyword">ELSE</span>
    min_acct :<span class="hljs-operator">=</span> to_acct;
    max_acct :<span class="hljs-operator">=</span> from_acct;
  <span class="hljs-keyword">END</span> IF;
  
  <span class="hljs-keyword">BEGIN</span>;
  <span class="hljs-comment">-- æŒ‰ç»Ÿä¸€é¡ºåºé”å®šè´¦æˆ·</span>
  <span class="hljs-keyword">SELECT</span> balance <span class="hljs-keyword">FROM</span> accounts <span class="hljs-keyword">WHERE</span> acctnum <span class="hljs-operator">=</span> min_acct <span class="hljs-keyword">FOR</span> <span class="hljs-keyword">UPDATE</span>;
  <span class="hljs-keyword">SELECT</span> balance <span class="hljs-keyword">FROM</span> accounts <span class="hljs-keyword">WHERE</span> acctnum <span class="hljs-operator">=</span> max_acct <span class="hljs-keyword">FOR</span> <span class="hljs-keyword">UPDATE</span>;
  
  <span class="hljs-comment">-- æ£€æŸ¥è½¬å‡ºè´¦æˆ·ä½™é¢</span>
  IF (<span class="hljs-keyword">SELECT</span> balance <span class="hljs-keyword">FROM</span> accounts <span class="hljs-keyword">WHERE</span> acctnum <span class="hljs-operator">=</span> from_acct) <span class="hljs-operator">&lt;</span> amount <span class="hljs-keyword">THEN</span>
    <span class="hljs-keyword">ROLLBACK</span>;
    <span class="hljs-keyword">RETURN</span> <span class="hljs-string">'ä½™é¢ä¸è¶³'</span>;
  <span class="hljs-keyword">END</span> IF;
  
  <span class="hljs-comment">-- æ‰§è¡Œè½¬è´¦</span>
  <span class="hljs-keyword">UPDATE</span> accounts <span class="hljs-keyword">SET</span> balance <span class="hljs-operator">=</span> balance <span class="hljs-operator">-</span> amount <span class="hljs-keyword">WHERE</span> acctnum <span class="hljs-operator">=</span> from_acct;
  <span class="hljs-keyword">UPDATE</span> accounts <span class="hljs-keyword">SET</span> balance <span class="hljs-operator">=</span> balance <span class="hljs-operator">+</span> amount <span class="hljs-keyword">WHERE</span> acctnum <span class="hljs-operator">=</span> to_acct;
  
  <span class="hljs-keyword">COMMIT</span>;
  <span class="hljs-keyword">RETURN</span> <span class="hljs-string">'è½¬è´¦æˆåŠŸ'</span>;
<span class="hljs-keyword">END</span>;
$$ <span class="hljs-keyword">LANGUAGE</span> plpgsql;

<span class="hljs-comment">-- è°ƒç”¨ç¤ºä¾‹ï¼ˆæ— è®ºè°è½¬è°ï¼Œéƒ½æŒ‰è´¦æˆ·å·å‡åºé”ï¼‰</span>
<span class="hljs-keyword">SELECT</span> transfer(<span class="hljs-number">11111</span>, <span class="hljs-number">22222</span>, <span class="hljs-number">100</span>); <span class="hljs-comment">-- å…ˆé”11111ï¼Œå†é”22222</span>
<span class="hljs-keyword">SELECT</span> transfer(<span class="hljs-number">22222</span>, <span class="hljs-number">11111</span>, <span class="hljs-number">50</span>);  <span class="hljs-comment">-- åŒæ ·å…ˆé”11111ï¼Œå†é”22222</span>
</code></pre>
<p>ã€è¯´æ˜ã€‘ï¼šé€šè¿‡ç»Ÿä¸€é”é¡ºåºï¼Œç¡®ä¿æ‰€æœ‰äº‹åŠ¡å¯¹å¤šä¸ªè´¦æˆ·çš„é”å®šé¡ºåºä¸€è‡´ï¼Œä»æ ¹æœ¬ä¸Šé¿å…äº†æ­»é”çš„å‘ç”Ÿã€‚</p>
<ol>
<li><strong>ç»Ÿä¸€é”é¡ºåº</strong>ï¼šæ‰€æœ‰äº‹åŠ¡éƒ½æŒ‰â€œè´¦æˆ·å·ä»å°åˆ°å¤§â€æ›´æ–°ï¼Œæ¯”å¦‚å…ˆæ›´11111ï¼Œå†æ›´22222ï¼›</li>
<li><strong>ç¼©çŸ­é”æŒæœ‰æ—¶é—´</strong>ï¼šäº‹åŠ¡å°½é‡å¿«ï¼Œåˆ«æ‹¿ç€é”ç­‰ç”¨æˆ·è¾“å…¥ï¼›</li>
<li><strong>é‡è¯•æœºåˆ¶</strong>ï¼šæ•è·æ­»é”é”™è¯¯åï¼Œè‡ªåŠ¨é‡è¯•äº‹åŠ¡ã€‚</li>
</ol>
<h2 data-id="heading-17">5 å’¨è¯¢é”ï¼šè‡ªå®šä¹‰çš„â€œé›¶é£Ÿåº—è§„çŸ©â€</h2>
<p>å’¨è¯¢é”æ˜¯PostgreSQLç»™å¼€å‘è€…çš„â€œè‡ªå®šä¹‰é”â€â€”â€”ç³»ç»Ÿä¸ç®¡ä½ æ€ä¹ˆç”¨ï¼Œå…¨é ä½ è‡ªå·±å®ˆè§„çŸ©ã€‚å°±åƒé›¶é£Ÿåº—è€æ¿å’Œç†Ÿå®¢çº¦å®šï¼šâ€œçœ‹åˆ°æ¡Œä¸Šæ‘†ç€çº¢è‰²æ¯å­ï¼Œå°±è¯´æ˜æˆ‘åœ¨ç›˜ç‚¹ï¼Œåˆ«è¿›æ¥â€ï¼Œæ¯å­ï¼ˆå’¨è¯¢é”ï¼‰çš„å«ä¹‰ç”±ä½ ä»¬è‡ªå·±å®šã€‚</p>
<h3 data-id="heading-18">è¶£å‘³åœºæ™¯ï¼šé˜²æ­¢å¤šäººåŒæ—¶ç›˜ç‚¹åº“å­˜</h3>
<p>é›¶é£Ÿåº—æ¯å¤©é—­åº—è¦ç›˜ç‚¹ï¼Œä½ æ€•å¤šä¸ªå‘˜å·¥åŒæ—¶ç›˜ç‚¹å‡ºé”™ï¼Œå°±ç”¨å’¨è¯¢é”ï¼š</p>
<ul>
<li>å‘˜å·¥Aç›˜ç‚¹å‰ï¼Œå…ˆâ€œå å‘â€ï¼šæ‹¿ä¸€ä¸ªç¼–å·ä¸º100çš„å’¨è¯¢é”ï¼›</li>
<li>å‘˜å·¥Bå†æƒ³ç›˜ç‚¹ï¼Œå‘ç°100å·é”è¢«å ï¼Œå°±ç­‰å‘˜å·¥Aç›˜å®Œå†å¼€å§‹ï¼›</li>
<li>ç›˜ç‚¹ç»“æŸï¼Œå‘˜å·¥Aé‡Šæ”¾é”ã€‚</li>
</ul>
<h3 data-id="heading-19">å®æ“ç¤ºä¾‹ï¼šä¼šè¯çº§vsäº‹åŠ¡çº§å’¨è¯¢é”</h3>
<h3 data-id="heading-20">å®é™…ä½¿ç”¨æ¡ˆä¾‹ï¼šåˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦çš„å’¨è¯¢é”æ§åˆ¶</h3>
<p>ã€åœºæ™¯ã€‘åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œå¤šä¸ªæœåŠ¡èŠ‚ç‚¹éœ€å…±åŒæ‰§è¡Œä¸€æ‰¹å®šæ—¶ä»»åŠ¡ï¼ˆå¦‚è®¢å•è¶…æ—¶å…³é—­ï¼‰ï¼Œéœ€ç¡®ä¿åŒä¸€ä¸ªä»»åŠ¡åŒä¸€æ—¶åˆ»åªè¢«ä¸€ä¸ªèŠ‚ç‚¹æ‰§è¡Œï¼Œé¿å…é‡å¤å¤„ç†ã€‚</p>
<p>ã€è§£å†³æ–¹æ¡ˆã€‘ï¼šä½¿ç”¨äº‹åŠ¡çº§å’¨è¯¢é”ï¼Œæ¯ä¸ªä»»åŠ¡å¯¹åº”ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ï¼ˆå¦‚ä»»åŠ¡IDï¼‰ï¼ŒæœåŠ¡èŠ‚ç‚¹æ‰§è¡Œä»»åŠ¡å‰å…ˆè·å–è¯¥æ ‡è¯†çš„å’¨è¯¢é”ï¼Œè·å–æˆåŠŸåˆ™æ‰§è¡Œä»»åŠ¡ï¼Œå¤±è´¥åˆ™è·³è¿‡ï¼ˆç­‰å¾…ä¸‹ä¸€è½®ï¼‰ã€‚</p>
<p>ã€å®æ“ä»£ç ã€‘ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- å®šæ—¶ä»»åŠ¡æ‰§è¡Œé€»è¾‘ï¼ˆæ¯ä¸ªèŠ‚ç‚¹å®šæ—¶è°ƒç”¨ï¼‰</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">OR</span> REPLACE <span class="hljs-keyword">FUNCTION</span> execute_timeout_task()
<span class="hljs-keyword">RETURNS</span> VOID <span class="hljs-keyword">AS</span> $$
<span class="hljs-keyword">DECLARE</span>
  task RECORD;
  lock_acquired <span class="hljs-type">BOOLEAN</span>;
<span class="hljs-keyword">BEGIN</span>
  <span class="hljs-comment">-- éå†æœªæ‰§è¡Œçš„è¶…æ—¶è®¢å•ä»»åŠ¡</span>
  <span class="hljs-keyword">FOR</span> task <span class="hljs-keyword">IN</span> <span class="hljs-keyword">SELECT</span> id <span class="hljs-keyword">FROM</span> order_timeout_tasks <span class="hljs-keyword">WHERE</span> status <span class="hljs-operator">=</span> <span class="hljs-string">'pending'</span> LOOP
    <span class="hljs-comment">-- å°è¯•è·å–äº‹åŠ¡çº§å’¨è¯¢é”ï¼ˆä»»åŠ¡IDä½œä¸ºé”æ ‡è¯†ï¼‰</span>
    <span class="hljs-keyword">SELECT</span> pg_try_advisory_xact_lock(task.id) <span class="hljs-keyword">INTO</span> lock_acquired;
    
    IF lock_acquired <span class="hljs-keyword">THEN</span>
      <span class="hljs-comment">-- è·å–é”æˆåŠŸï¼Œæ‰§è¡Œä»»åŠ¡ï¼ˆå…³é—­è¶…æ—¶è®¢å•ï¼‰</span>
      <span class="hljs-keyword">UPDATE</span> orders <span class="hljs-keyword">SET</span> status <span class="hljs-operator">=</span> <span class="hljs-string">'closed'</span> <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> task.order_id;
      <span class="hljs-comment">-- æ›´æ–°ä»»åŠ¡çŠ¶æ€ä¸ºå·²å®Œæˆ</span>
      <span class="hljs-keyword">UPDATE</span> order_timeout_tasks <span class="hljs-keyword">SET</span> status <span class="hljs-operator">=</span> <span class="hljs-string">'completed'</span> <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> task.id;
      RAISE NOTICE <span class="hljs-string">'ä»»åŠ¡ % æ‰§è¡ŒæˆåŠŸ'</span>, task.id;
    <span class="hljs-keyword">ELSE</span>
      <span class="hljs-comment">-- æœªè·å–åˆ°é”ï¼Œè¯´æ˜å…¶ä»–èŠ‚ç‚¹æ­£åœ¨æ‰§è¡Œ</span>
      RAISE NOTICE <span class="hljs-string">'ä»»åŠ¡ % å·²è¢«å…¶ä»–èŠ‚ç‚¹æ‰§è¡Œï¼Œè·³è¿‡'</span>, task.id;
    <span class="hljs-keyword">END</span> IF;
  <span class="hljs-keyword">END</span> LOOP;
<span class="hljs-keyword">END</span>;
$$ <span class="hljs-keyword">LANGUAGE</span> plpgsql;

<span class="hljs-comment">-- æœåŠ¡èŠ‚ç‚¹å®šæ—¶è°ƒç”¨ï¼ˆå¦‚æ¯åˆ†é’Ÿä¸€æ¬¡ï¼‰</span>
<span class="hljs-keyword">SELECT</span> execute_timeout_task();
</code></pre>
<p>ã€è¯´æ˜ã€‘ï¼šä½¿ç”¨pg_try_advisory_xact_lockï¼ˆéé˜»å¡è·å–äº‹åŠ¡çº§å’¨è¯¢é”ï¼‰ï¼Œé¿å…èŠ‚ç‚¹é—´ç›¸äº’ç­‰å¾…ã€‚äº‹åŠ¡ç»“æŸåé”è‡ªåŠ¨é‡Šæ”¾ï¼Œæ— éœ€æ‰‹åŠ¨è§£é”ï¼Œç¡®ä¿ä»»åŠ¡æ‰§è¡Œçš„åŸå­æ€§å’Œå”¯ä¸€æ€§ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- 1. ä¼šè¯çº§å’¨è¯¢é”ï¼ˆä¼šè¯ç»“æŸæ‰é‡Šæ”¾ï¼Œæ— è§†äº‹åŠ¡å›æ»šï¼‰</span>
<span class="hljs-keyword">SELECT</span> pg_advisory_lock(<span class="hljs-number">100</span>); <span class="hljs-comment">-- å 100å·é”</span>
<span class="hljs-comment">-- æ­¤æ—¶å…¶ä»–ä¼šè¯è°ƒç”¨pg_advisory_lock(100)ä¼šé˜»å¡</span>
<span class="hljs-keyword">SELECT</span> pg_advisory_unlock(<span class="hljs-number">100</span>); <span class="hljs-comment">-- é‡Šæ”¾é”</span>

<span class="hljs-comment">-- 2. äº‹åŠ¡çº§å’¨è¯¢é”ï¼ˆäº‹åŠ¡ç»“æŸè‡ªåŠ¨é‡Šæ”¾ï¼‰</span>
<span class="hljs-keyword">BEGIN</span>;
<span class="hljs-keyword">SELECT</span> pg_advisory_xact_lock(<span class="hljs-number">100</span>); <span class="hljs-comment">-- äº‹åŠ¡çº§é”</span>
<span class="hljs-comment">-- ç›˜ç‚¹æ“ä½œï¼šSELECT SUM(stock) FROM products;</span>
<span class="hljs-keyword">COMMIT</span>; <span class="hljs-comment">-- æäº¤åè‡ªåŠ¨é‡Šæ”¾é”</span>

<span class="hljs-comment">-- é¿å‘ï¼šLIMITå’Œå’¨è¯¢é”ä¸€èµ·ç”¨è¦å°å¿ƒ</span>
<span class="hljs-comment">-- é”™è¯¯å†™æ³•ï¼šå¯èƒ½é”åˆ°éé¢„æœŸçš„è¡Œ</span>
<span class="hljs-keyword">SELECT</span> pg_advisory_lock(id) <span class="hljs-keyword">FROM</span> products <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">&gt;</span> <span class="hljs-number">10</span> LIMIT <span class="hljs-number">10</span>;

<span class="hljs-comment">-- æ­£ç¡®å†™æ³•ï¼šå…ˆç­›é€‰è¡Œï¼Œå†é”</span>
<span class="hljs-keyword">SELECT</span> pg_advisory_lock(q.id) <span class="hljs-keyword">FROM</span> (
  <span class="hljs-keyword">SELECT</span> id <span class="hljs-keyword">FROM</span> products <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">&gt;</span> <span class="hljs-number">10</span> LIMIT <span class="hljs-number">10</span>
) q;
</code></pre>
<h2 data-id="heading-21">6 æ€»ç»“</h2>
<ol>
<li><strong>è¡¨çº§é”</strong>ï¼šæŒ‰â€œä¸¥æ ¼ç¨‹åº¦â€åˆ†8ç§ï¼Œæ ¸å¿ƒæ˜¯ACCESS SHAREï¼ˆåªè¯»ï¼‰å’ŒACCESS EXCLUSIVEï¼ˆç‹¬å ï¼‰äº’æ–¥ï¼Œé€‚åˆæ§åˆ¶æ•´å¼ è¡¨çš„è®¿é—®ï¼›</li>
<li><strong>è¡Œçº§é”</strong>ï¼šç²¾å‡†é”å®šå•è¡Œï¼Œåªé˜»å¡ä¿®æ”¹ï¼Œä¸é˜»å¡è¯»å–ï¼Œå¸¸ç”¨FOR UPDATEå®ç°â€œæ‚²è§‚é”â€ï¼›</li>
<li><strong>æ­»é”</strong>ï¼šå¤šäº‹åŠ¡äº’ç­‰é”å¯¼è‡´ï¼Œé¢„é˜²å…³é”®æ˜¯â€œç»Ÿä¸€é”é¡ºåº+ç¼©çŸ­é”æŒæœ‰æ—¶é—´â€ï¼›</li>
<li><strong>å’¨è¯¢é”</strong>ï¼šè‡ªå®šä¹‰é”ï¼Œåˆ†ä¼šè¯çº§ï¼ˆæ‰‹åŠ¨é‡Šæ”¾ï¼‰å’Œäº‹åŠ¡çº§ï¼ˆè‡ªåŠ¨é‡Šæ”¾ï¼‰ï¼Œé€‚åˆMVCCä¸é€‚ç”¨çš„åœºæ™¯ã€‚</li>
</ol>
<p>â€œè¯»å°½é‡ä¸å µè¯»ï¼Œæ”¹å°½é‡å°‘å µè¯»ï¼Œç‹¬å é”å µä¸€åˆ‡ï¼Œæ­»é”é é¡ºåºé˜²ï¼Œå’¨è¯¢é”è‡ªå·±å®šâ€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Ajax æ•°æ®è¯·æ±‚ï¼šä»é›¶å¼€å§‹æŒæ¡å¼‚æ­¥é€šä¿¡]]></title>    <link>https://juejin.cn/post/7571695634942165019</link>    <guid>https://juejin.cn/post/7571695634942165019</guid>    <pubDate>2025-11-12T14:19:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571695634942165019" data-draft-id="7571704212850851891" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Ajax æ•°æ®è¯·æ±‚ï¼šä»é›¶å¼€å§‹æŒæ¡å¼‚æ­¥é€šä¿¡"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-11-12T14:19:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¥ç§˜çš„çŒªå¤´"/> <meta itemprop="url" content="https://juejin.cn/user/793223472877051"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Ajax æ•°æ®è¯·æ±‚ï¼šä»é›¶å¼€å§‹æŒæ¡å¼‚æ­¥é€šä¿¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/793223472877051/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¥ç§˜çš„çŒªå¤´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-12T14:19:18.000Z" title="Wed Nov 12 2025 14:19:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç°ä»£ Web å¼€å‘ä¸­ï¼Œ<strong>Ajaxï¼ˆAsynchronous JavaScript and XMLï¼‰</strong> æ˜¯å®ç°é¡µé¢å±€éƒ¨åˆ·æ–°ã€æå‡ç”¨æˆ·ä½“éªŒçš„æ ¸å¿ƒæŠ€æœ¯ä¹‹ä¸€ã€‚è™½ç„¶åå­—é‡ŒåŒ…å« â€œXMLâ€ï¼Œä½†å¦‚ä»Šæˆ‘ä»¬æ›´å¤šä½¿ç”¨çš„æ˜¯ <strong>JSON æ ¼å¼</strong>çš„æ•°æ®ã€‚æœ¬æ–‡å°†ç»“åˆåŸç†è®²è§£ä¸ç¤ºä¾‹ä»£ç ï¼Œå¸¦ä½ æ·±å…¥ç†è§£å¹¶åŠ¨æ‰‹å®è·µåŸç”Ÿ Ajax è¯·æ±‚ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ä»€ä¹ˆæ˜¯ Ajaxï¼Ÿ</h2>
<p>Ajax å…¨ç§°æ˜¯ <strong>Asynchronous JavaScript and XML</strong>ï¼Œå³â€œå¼‚æ­¥çš„ JavaScript å’Œ XMLâ€ã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š</p>
<blockquote>
<p><strong>åœ¨ä¸é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡ JavaScript å‘æœåŠ¡å™¨å‘é€è¯·æ±‚å¹¶å¤„ç†å“åº”ï¼Œä»è€ŒåŠ¨æ€æ›´æ–°ç½‘é¡µå†…å®¹ã€‚</strong></p>
</blockquote>
<p>è¿™ç§æœºåˆ¶è®© Web åº”ç”¨æ›´åƒæ¡Œé¢åº”ç”¨â€”â€”æµç•…ã€å¿«é€Ÿã€æ— åˆ·æ–°ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€Ajax çš„åŸºæœ¬å·¥ä½œæµç¨‹</h2>
<p>ä½¿ç”¨åŸç”Ÿ JavaScript å‘èµ· Ajax è¯·æ±‚ï¼Œé€šå¸¸éµå¾ªä»¥ä¸‹äº”ä¸ªæ­¥éª¤ï¼š</p>
<ol>
<li><strong>åˆ›å»º XMLHttpRequest å¯¹è±¡</strong></li>
<li><strong>è°ƒç”¨ <code>open()</code> æ–¹æ³•é…ç½®è¯·æ±‚</strong></li>
<li><strong>è®¾ç½®å›è°ƒå‡½æ•°ç›‘å¬çŠ¶æ€å˜åŒ–ï¼ˆ<code>onreadystatechange</code>ï¼‰</strong></li>
<li><strong>è°ƒç”¨ <code>send()</code> å‘é€è¯·æ±‚</strong></li>
<li><strong>åœ¨å›è°ƒä¸­å¤„ç†å“åº”æ•°æ®</strong></li>
</ol>
<h3 data-id="heading-2">å…³é”®æ¦‚å¿µè§£æ</h3>
<h4 data-id="heading-3">1. <code>XMLHttpRequest</code> å¯¹è±¡</h4>
<p>è¿™æ˜¯æµè§ˆå™¨å†…ç½®çš„å¯¹è±¡ï¼Œç”¨äºå‘èµ· HTTP è¯·æ±‚ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">xhr</span> = new XMLHttpRequest()<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-4">2. <code>open(method, url, async)</code></h4>
<ul>
<li><code>method</code>ï¼šHTTP æ–¹æ³•ï¼Œå¦‚ <code>'GET'</code>ã€<code>'POST'</code></li>
<li><code>url</code>ï¼šè¯·æ±‚çš„ç›®æ ‡åœ°å€ï¼ˆAPI æ¥å£ï¼‰</li>
<li><code>async</code>ï¼šæ˜¯å¦å¼‚æ­¥ï¼ˆ<strong>å¼ºçƒˆå»ºè®®è®¾ä¸º <code>true</code></strong>ï¼‰</li>
</ul>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼šç¤ºä¾‹ä¸­ä½¿ç”¨äº† <code>false</code>ï¼ˆåŒæ­¥ï¼‰ï¼Œè¿™ä¼šé˜»å¡æµè§ˆå™¨ï¼Œ<strong>å®é™…å¼€å‘ä¸­åº”é¿å…</strong>ï¼</p>
</blockquote>
<h4 data-id="heading-5">3. <code>send()</code></h4>
<p>çœŸæ­£å‘å‡ºè¯·æ±‚ã€‚å¯¹äº GET è¯·æ±‚ï¼Œé€šå¸¸ä¼ å…¥ <code>null</code> æˆ–ç©ºå€¼ã€‚</p>
<h4 data-id="heading-6">4. <code>onreadystatechange</code> äº‹ä»¶</h4>
<p>æ¯å½“è¯·æ±‚çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶è§¦å‘ã€‚æˆ‘ä»¬éœ€è¦åœ¨è¿™ä¸ªå›è°ƒä¸­åˆ¤æ–­è¯·æ±‚æ˜¯å¦æˆåŠŸå®Œæˆã€‚</p>
<h4 data-id="heading-7">5. çŠ¶æ€ç ä¸å°±ç»ªçŠ¶æ€</h4>

















<table><thead><tr><th>å±æ€§</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>xhr.status</code></td><td>HTTP çŠ¶æ€ç ï¼Œå¦‚ <code>200</code> è¡¨ç¤ºæˆåŠŸ</td></tr><tr><td><code>xhr.readyState</code></td><td>è¯·æ±‚çš„å½“å‰é˜¶æ®µï¼ˆ0~4ï¼‰</td></tr></tbody></table>
<h5 data-id="heading-8"><code>readyState</code> çš„äº”ä¸ªé˜¶æ®µï¼š</h5>



































<table><thead><tr><th>å€¼</th><th>çŠ¶æ€</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>0</td><td>UNSENT</td><td>å·²åˆ›å»ºï¼Œæœªè°ƒç”¨ <code>open()</code></td></tr><tr><td>1</td><td>OPENED</td><td>å·²è°ƒç”¨ <code>open()</code></td></tr><tr><td>2</td><td>HEADERS_RECEIVED</td><td>å·²è°ƒç”¨ <code>send()</code>ï¼Œæ”¶åˆ°å“åº”å¤´</td></tr><tr><td>3</td><td>LOADING</td><td>æ­£åœ¨æ¥æ”¶å“åº”ä½“</td></tr><tr><td>4</td><td>DONE</td><td>è¯·æ±‚å®Œæˆï¼Œå“åº”æ•°æ®å…¨éƒ¨æ¥æ”¶</td></tr></tbody></table>
<p>âœ… <strong>åªæœ‰å½“ <code>readyState === 4</code> ä¸” <code>status === 200</code> æ—¶ï¼Œæ‰è¡¨ç¤ºè¯·æ±‚æˆåŠŸï¼</strong></p>
<hr/>
<h2 data-id="heading-9">ä¸‰ã€å®æˆ˜ç¤ºä¾‹ï¼šè·å– GitHub ç»„ç»‡æˆå‘˜åˆ—è¡¨</h2>
<p>æˆ‘ä»¬å°†é€šè¿‡ä¸€ä¸ªçœŸå® APIï¼ˆGitHub çš„å…¬å¼€æ¥å£ï¼‰æ¥æ¼”ç¤ºå¦‚ä½•ç”¨ Ajax è·å–æ•°æ®å¹¶æ¸²æŸ“åˆ°é¡µé¢ã€‚</p>
<h3 data-id="heading-10">âœ… æ”¹è¿›åçš„æ¨èå†™æ³•ï¼ˆ<strong>å¼‚æ­¥æ¨¡å¼</strong>ï¼‰</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Ajax æ•°æ®è¯·æ±‚ - å¼‚æ­¥ç‰ˆ<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Lemoncode ç»„ç»‡æˆå‘˜<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"members"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
        <span class="hljs-keyword">const</span> xhr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">XMLHttpRequest</span>();

        <span class="hljs-comment">// é…ç½®è¯·æ±‚ï¼šå¼‚æ­¥ GET</span>
        xhr.<span class="hljs-title function_">open</span>(<span class="hljs-string">'GET'</span>, <span class="hljs-string">'https://api.github.com/orgs/lemoncode/members'</span>, <span class="hljs-literal">true</span>);

        <span class="hljs-comment">// ç›‘å¬çŠ¶æ€å˜åŒ–</span>
        xhr.<span class="hljs-property">onreadystatechange</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
            <span class="hljs-comment">// åªæœ‰ readyState ä¸º 4 ä¸”çŠ¶æ€ç ä¸º 200 æ‰å¤„ç†</span>
            <span class="hljs-keyword">if</span> (xhr.<span class="hljs-property">readyState</span> === <span class="hljs-number">4</span>) {
                <span class="hljs-keyword">if</span> (xhr.<span class="hljs-property">status</span> === <span class="hljs-number">200</span>) {
                    <span class="hljs-comment">// æˆåŠŸï¼šè§£æ JSON å¹¶æ¸²æŸ“</span>
                    <span class="hljs-keyword">const</span> members = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(xhr.<span class="hljs-property">responseText</span>);
                    <span class="hljs-keyword">const</span> listItems = members.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> <span class="hljs-string">`&lt;li&gt;<span class="hljs-subst">${user.login}</span>&lt;/li&gt;`</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">''</span>);
                    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'members'</span>).<span class="hljs-property">innerHTML</span> = listItems;
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-comment">// å¤±è´¥ï¼šæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯</span>
                    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'members'</span>).<span class="hljs-property">innerHTML</span> = <span class="hljs-string">'&lt;li&gt;åŠ è½½å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•ã€‚&lt;/li&gt;'</span>;
                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'è¯·æ±‚å¤±è´¥:'</span>, xhr.<span class="hljs-property">status</span>);
                }
            }
        };

        <span class="hljs-comment">// å‘é€è¯·æ±‚</span>
        xhr.<span class="hljs-title function_">send</span>();
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h3 data-id="heading-11">ğŸŒŸ å…³é”®æ”¹è¿›ç‚¹ï¼š</h3>
<ol>
<li><strong>ä½¿ç”¨ <code>async: true</code></strong> â€”â€” ä¸é˜»å¡ä¸»çº¿ç¨‹ï¼Œç”¨æˆ·ä½“éªŒæ›´å¥½ã€‚</li>
<li><strong>é”™è¯¯å¤„ç†</strong> â€”â€” æ£€æŸ¥é 200 çŠ¶æ€ç ï¼Œé¿å…ç¨‹åºå´©æºƒã€‚</li>
<li><strong>ç»“æ„æ¸…æ™°</strong> â€”â€” å…ˆç›‘å¬ï¼Œå†å‘é€ï¼Œé€»è¾‘æ›´å®‰å…¨ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-12">å››ã€ä¸ºä»€ä¹ˆä¸è¦ç”¨åŒæ­¥è¯·æ±‚ï¼ˆ<code>async: false</code>ï¼‰ï¼Ÿ</h2>
<p>åœ¨ä½ æä¾›çš„åŸå§‹ä»£ç ä¸­ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">xhr.<span class="hljs-keyword">open</span>(<span class="hljs-string">'GET'</span>, <span class="hljs-string">'...'</span>, <span class="hljs-literal">false</span>); <span class="hljs-comment">// åŒæ­¥ï¼</span>
</code></pre>
<p>è¿™ä¼šå¯¼è‡´ï¼š</p>
<ul>
<li>æµè§ˆå™¨ç•Œé¢<strong>å®Œå…¨å†»ç»“</strong>ï¼Œç›´åˆ°è¯·æ±‚å®Œæˆï¼›</li>
<li>ç”¨æˆ·æ— æ³•æ»šåŠ¨ã€ç‚¹å‡»æˆ–äº¤äº’ï¼›</li>
<li>ç°ä»£æµè§ˆå™¨å·²<strong>ä¸æ¨èç”šè‡³è­¦å‘Š</strong>ä½¿ç”¨åŒæ­¥ XHRã€‚</li>
</ul>
<p>âœ… <strong>æ°¸è¿œä½¿ç”¨å¼‚æ­¥è¯·æ±‚ï¼</strong></p>
<hr/>
<h2 data-id="heading-13">äº”ã€ç°ä»£æ›¿ä»£æ–¹æ¡ˆï¼š<code>fetch</code> API</h2>
<p>è™½ç„¶åŸç”Ÿ Ajax æ˜¯åŸºç¡€ï¼Œä½†ç°ä»£å¼€å‘æ›´å¸¸ç”¨ <code>fetch</code>ï¼Œå®ƒåŸºäº Promiseï¼Œè¯­æ³•æ›´ç®€æ´ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">fetch('https://api.github.com/orgs/lemoncode/members')
  .then(<span class="hljs-attr">response</span> =&gt; response.json())
  .then(<span class="hljs-attr">members</span> =&gt; {
    document.getElementById('members').<span class="hljs-attr">innerHTML</span> = 
      members.map(<span class="hljs-attr">user</span> =&gt; `&lt;li&gt;<span class="hljs-variable">${user.login}</span>&lt;/li&gt;`).join(<span class="hljs-string">''</span>)<span class="hljs-comment">;</span>
  })
  .catch(<span class="hljs-attr">error</span> =&gt; {
    console.error('è¯·æ±‚å‡ºé”™:', error)<span class="hljs-comment">;</span>
  })<span class="hljs-comment">;</span>
</code></pre>
<p>ä¸è¿‡ï¼Œç†è§£ <code>XMLHttpRequest</code> ä»æ˜¯æŒæ¡ç½‘ç»œè¯·æ±‚æœ¬è´¨çš„å…³é”®ï¼</p>
<hr/>
<h2 data-id="heading-14">å…­ã€æ€»ç»“</h2>

































<table><thead><tr><th>è¦ç‚¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>âœ… æ ¸å¿ƒå¯¹è±¡</td><td><code>XMLHttpRequest</code></td></tr><tr><td>âœ… å¿…é¡»ç›‘å¬</td><td><code>onreadystatechange</code></td></tr><tr><td>âœ… åˆ¤æ–­æ¡ä»¶</td><td><code>readyState === 4 &amp;&amp; status === 200</code></td></tr><tr><td>âœ… æ•°æ®æ ¼å¼</td><td>é€šå¸¸ä¸º JSONï¼Œéœ€ <code>JSON.parse()</code></td></tr><tr><td>âŒ é¿å…ä½¿ç”¨</td><td>åŒæ­¥è¯·æ±‚ï¼ˆ<code>async: false</code>ï¼‰</td></tr><tr><td>ğŸ”® è¿›é˜¶æ–¹å‘</td><td>å­¦ä¹  <code>fetch</code>ã€<code>axios</code> ç­‰ç°ä»£å·¥å…·</td></tr></tbody></table>
<hr/>
<p>é€šè¿‡æœ¬æ–‡çš„å­¦ä¹ ï¼Œä½ åº”è¯¥å·²ç»æŒæ¡äº† Ajax çš„åŸºæœ¬åŸç†å’Œå®ç°æ–¹å¼ã€‚ä¸‹ä¸€æ­¥å¯ä»¥å°è¯•ï¼š</p>
<ul>
<li>å‘é€ POST è¯·æ±‚æäº¤è¡¨å•ï¼›</li>
<li>æ·»åŠ åŠ è½½åŠ¨ç”»ï¼ˆ<code>readyState === 3</code> æ—¶æ˜¾ç¤ºâ€œåŠ è½½ä¸­â€ï¼‰ï¼›</li>
<li>å°è£…ä¸€ä¸ªé€šç”¨çš„ Ajax å‡½æ•°ã€‚</li>
</ul>
<p>è®°ä½ï¼š<strong>å¼‚æ­¥æ˜¯ Web çš„çµé­‚ï¼Œè€Œ Ajax æ˜¯é€šå¾€åŠ¨æ€äº¤äº’çš„ç¬¬ä¸€æ­¥ï¼</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åä¸º DevKit 25.2.rc1 æºç è¿ç§»åˆ†æä½¿ç”¨æ•™ç¨‹ï¼ˆopenEuler + ARM64ï¼‰]]></title>    <link>https://juejin.cn/post/7593098101431910454</link>    <guid>https://juejin.cn/post/7593098101431910454</guid>    <pubDate>2026-01-09T09:11:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593098101431910454" data-draft-id="7592990758476152851" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åä¸º DevKit 25.2.rc1 æºç è¿ç§»åˆ†æä½¿ç”¨æ•™ç¨‹ï¼ˆopenEuler + ARM64ï¼‰"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-09T09:11:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç§‹è¯´"/> <meta itemprop="url" content="https://juejin.cn/user/442448008454568"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åä¸º DevKit 25.2.rc1 æºç è¿ç§»åˆ†æä½¿ç”¨æ•™ç¨‹ï¼ˆopenEuler + ARM64ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/442448008454568/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç§‹è¯´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:11:52.000Z" title="Fri Jan 09 2026 09:11:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å‰è¨€</h2>
<p>åä¸º DevKit æ˜¯ä¸€æ¬¾ç”¨äº x86 â†’ é²²é¹ï¼ˆARM64ï¼‰å¹³å°ä»£ç è¿ç§»åˆ†æ  çš„å·¥å…·ã€‚ä» v25.0 èµ·ï¼ŒDevKit é‡‡ç”¨   æ¨¡å—åŒ– RPM åŒ…è®¾è®¡ ï¼Œéœ€å®‰è£…å¤šä¸ªç»„ä»¶æ‰èƒ½ä½¿ç”¨æºç è¿ç§»åŠŸèƒ½ã€‚æœ¬æ¬¡å®éªŒæˆ‘å¸¦å¤§å®¶å®æ“ä¸€ä¸‹ç è¿ç§»åˆ†æä½¿ç”¨ï¼Œå®éªŒæœ‰ä»¥ä¸‹å‡ ç‚¹éœ€è¦æ³¨æ„ã€‚</p>
<p>âš ï¸   æ³¨æ„ ï¼š</p>
<ul>
<li>25.2.rc1 ä¸º Release Candidate ç‰ˆæœ¬ ï¼Œå­˜åœ¨æƒé™å’Œå‚æ•°æ¥å£å˜æ›´é—®é¢˜ã€‚</li>
<li>æ­£å¼ç‰ˆï¼ˆå¦‚ 25.1.0ï¼‰ä½“éªŒæ›´ä½³ï¼Œå»ºè®®å®éªŒå®Œæˆåå‡çº§ã€‚</li>
<li>æœ¬æ¬¡å®éªŒæ˜¯åœ¨åä¸ºäº‘å¼€å‘è€…ç©ºé—´ä¸Šè¿›è¡Œçš„ï¼Œç‚¹å‡»è¿›å…¥<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huaweicloud.com%2Fspace%2Fdevportal%2Fplatform%2FdevEnvironment%3Ftab%3Dcloud_desktop%26ticket%3DST-8160487-KjIyCRlHrKoolUkIbqrfPb59-sso%26locale%3Dzh-cn" target="_blank" title="https://developer.huaweicloud.com/space/devportal/platform/devEnvironment?tab=cloud_desktop&amp;ticket=ST-8160487-KjIyCRlHrKoolUkIbqrfPb59-sso&amp;locale=zh-cn" ref="nofollow noopener noreferrer">developer.huaweicloud.com/space/devpoâ€¦</a></li>
</ul>
<hr/>
<h2 data-id="heading-1">äºŒã€å‡†å¤‡å·¥ä½œ</h2>
<h3 data-id="heading-2">1. ä¸‹è½½æ‰€éœ€ RPM åŒ…</h3>
<p>ç¡®ä¿å·²ä¸‹è½½ä»¥ä¸‹ä¸‰ä¸ªåŒ…ï¼ˆæ¶æ„ï¼š<code>aarch64</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">devkit-25.2.rcll-1.aarch64.rpm
devkit-porting-25.2.rc1-1.aarch64.rpm     <span class="hljs-comment"># å¿…é¡»ï¼æä¾›è¿ç§»åˆ†æèƒ½åŠ›</span>
devkit-sys-mig-25.2.rc1-1.aarch64.rpm     <span class="hljs-comment"># å¯é€‰ï¼ˆæœ¬æ¬¡å®éªŒä¸éœ€è¦ï¼‰</span>
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e54f10977114e1fa1ffff23f4c8309c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56eL6K-0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554712&amp;x-signature=muxyIhN5zvFzfiloi%2B%2FBRHqnajc%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>ğŸ’¡ è‹¥æœªä¸‹è½½ï¼Œè¯·ä» <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.hikunpeng.com%2Fzh%2Fdeveloper%2Fdevkit%2Fdownload%3Ftab%3DcommandLine" target="_blank" title="https://www.hikunpeng.com/zh/developer/devkit/download?tab=commandLine" ref="nofollow noopener noreferrer">åä¸ºé²²é¹ç¤¾åŒº</a> è·å–ã€‚</p>
</blockquote>
<h3 data-id="heading-3">2. å‡†å¤‡å¾…åˆ†æé¡¹ç›®</h3>
<p>ä»¥å¼€æºé¡¹ç›® <code>simdjson</code> ä¸ºä¾‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> ~
git <span class="hljs-built_in">clone</span> https://github.com/simdjson/simdjson.git
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/029dba0f48de4266a0c1719706557931~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56eL6K-0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554712&amp;x-signature=F8tmF4b5lT068WFkZXnn6JSYH2c%3D" alt="image.png" loading="lazy"/></p>
<p>é¡¹ç›®è·¯å¾„ï¼š<code>/home/developer/simdjson</code></p>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€å®‰è£… DevKit</h2>
<h3 data-id="heading-5">1. å¸è½½æ—§ç‰ˆæœ¬ï¼ˆå¦‚æœ‰ï¼‰</h3>
<pre><code class="hljs language-javascript" lang="javascript">sudo rpm -e devkit devkit-porting devkit-sys-mig <span class="hljs-number">2</span>&gt;<span class="hljs-regexp">/dev/</span><span class="hljs-literal">null</span> || <span class="hljs-literal">true</span>
</code></pre>
<h3 data-id="heading-6">2. æŒ‰ä¾èµ–é¡ºåºå®‰è£… RPM åŒ…</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿›å…¥ RPM æ‰€åœ¨ç›®å½•ï¼ˆå‡è®¾åœ¨ ~/Downloadsï¼‰</span>
<span class="hljs-built_in">cd</span> ~/Downloads

<span class="hljs-comment"># å®‰è£…ä¸»æ¡†æ¶</span>
sudo rpm -ivh devkit-25.2.rc1-1.aarch64.rpm

<span class="hljs-comment"># å®‰è£…æºç è¿ç§»æ¨¡å—ï¼ˆå…³é”®ï¼ï¼‰</span>
sudo rpm -ivh devkit-porting-25.2.rc1-1.aarch64.rpm

<span class="hljs-comment"># ï¼ˆå¯é€‰ï¼‰å®‰è£…ç³»ç»Ÿè¿ç§»æ¨¡å—</span>
<span class="hljs-comment"># sudo rpm -ivh devkit-sys-mig-25.2.rc1-1.aarch64.rpm</span>
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/676c849d890e49ebb7a4177c1f450755~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56eL6K-0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554712&amp;x-signature=Yeym1n6fi7Xoq6A4FSfBwjBfzVE%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>âœ… éªŒè¯å®‰è£…ï¼š
<code>/usr/local/devkit/devkit --version</code></p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d961c76991b64b51978231ed9b79365d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56eL6K-0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554712&amp;x-signature=q4Seuw2A79Rsg6HYnyVUsjf%2Fk84%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-7">å››ã€è¿è¡Œæºç è¿ç§»åˆ†æ</h2>
<h3 data-id="heading-8">1. åˆ›å»ºè¾“å‡ºç›®å½•</h3>
<pre><code class="hljs language-arduino" lang="arduino">mkdir -p /home/developer/migration_report
</code></pre>
<h3 data-id="heading-9">2. æ‰§è¡Œåˆ†æå‘½ä»¤ï¼ˆå…³é”®ï¼šä½¿ç”¨æ–°å‚æ•°æ ¼å¼ï¼‰</h3>
<blockquote>
<p>âš ï¸   DevKit 25.2.rc1 å‚æ•°å˜æ›´ ï¼š
<code>--project-path</code> â†’ <code>--input</code> æˆ– <code>-i</code>
<code>--output-path</code> â†’ <code>--output</code> æˆ– <code>-o</code>
<code>--language</code> â†’ <code>--source-type</code></p>
</blockquote>
<pre><code class="hljs language-css" lang="css">sudo devkit porting <span class="hljs-attribute">src</span>-mig \
  <span class="hljs-attr">--input</span> /home/developer/simdjson \
  <span class="hljs-attr">--output</span> /home/developer/migration_report \
  <span class="hljs-attr">--source-type</span> c,c++
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1a1e7208d3b94f96a60bba6cac095ca8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56eL6K-0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554712&amp;x-signature=I52Pm%2BXjZqYTGC%2BdUMYMuoBY97Y%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>ğŸ”   ä¸ºä»€ä¹ˆç”¨  <code> sudo</code>  ï¼Ÿ
RC ç‰ˆæœ¬ç¡¬ç¼–ç æ—¥å¿—è·¯å¾„ä¸º <code>/usr/local/devkit/...</code>ï¼Œæ™®é€šç”¨æˆ·æ— å†™æƒé™ã€‚
æ­£å¼ç‰ˆé»˜è®¤ä½¿ç”¨ <code>$HOME/.kunpeng-devkit</code>ï¼Œæ— éœ€ <code>sudo</code>ã€‚</p>
</blockquote>
<h3 data-id="heading-10">3. ç­‰å¾…åˆ†æå®Œæˆ</h3>
<p>å…¸å‹è¾“å‡ºï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">Using the local system as target os:</span> <span class="hljs-string">openeuler22.03</span>
<span class="hljs-attr">Current progress:</span> [<span class="hljs-number">100</span><span class="hljs-string">%</span>] [<span class="hljs-string">Phase</span> <span class="hljs-number">3</span><span class="hljs-string">/3</span>] <span class="hljs-string">Scan</span> <span class="hljs-string">completed.</span> <span class="hljs-string">Generating</span> <span class="hljs-string">reports.</span>
<span class="hljs-string">...</span>
<span class="hljs-attr">Files to be modified:</span> <span class="hljs-number">30</span>
<span class="hljs-attr">Lines to be modified:</span> <span class="hljs-number">204</span>
<span class="hljs-attr">Estimated transplant workload:</span> <span class="hljs-number">0.5</span> <span class="hljs-string">person/months.</span>
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/17f1344bb887493299a552cbd177619a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56eL6K-0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554712&amp;x-signature=%2FCC%2FfAVmJQ8BMQ5UwZoYWO9ZR7I%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-11">äº”ã€æŸ¥çœ‹åˆ†ææŠ¥å‘Š</h2>
<h3 data-id="heading-12">1. æŠ¥å‘Šæ–‡ä»¶åˆ—è¡¨</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">ls</span> ~/migration_report/
</code></pre>
<p>ç”Ÿæˆä¸‰ä¸ªæ–‡ä»¶ï¼š</p>
<ul>
<li><code>Code_Porting_ .html</code> â†   ä¸»æŠ¥å‘Šï¼ˆæ¨èï¼‰</li>
<li><code>Code_Porting_ .csv</code>  â† è¡¨æ ¼æ•°æ®</li>
<li><code>Code_Porting_ .json</code> â† åŸå§‹æ•°æ®</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/028d22157ab84539a0d5778240ed8ea5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56eL6K-0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554712&amp;x-signature=WyiXT7cfcgz0x1yKzD9pl9qeAkQ%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-13">3. æŠ¥å‘Šå†…å®¹è§£è¯»</h3>

























<table><thead><tr><th>ç±»åˆ«</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>æ¶æ„ç›¸å…³æŒ‡ä»¤</td><td>x86 æ±‡ç¼–ï¼ˆå¦‚ <code>_mm_load_si128</code>ï¼‰ã€SSE/AVX å†…å»ºå‡½æ•°</td></tr><tr><td>ç¼–è¯‘å™¨å·®å¼‚</td><td>GCC/Clang ç‰¹æœ‰æ‰©å±•åœ¨ ARM64 ä¸Šçš„å…¼å®¹æ€§</td></tr><tr><td>å­—èŠ‚åºä¸å¯¹é½</td><td>å¤§ç«¯/å°ç«¯ã€å†…å­˜å¯¹é½é—®é¢˜</td></tr><tr><td>ä¾èµ–åº“å…¼å®¹æ€§</td><td>ç¬¬ä¸‰æ–¹åº“æ˜¯å¦æ”¯æŒ ARM64</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-14">å…­ã€å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>



































<table><thead><tr><th>é—®é¢˜</th><th>åŸå› </th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td><code>error: init execute pwd failed</code></td><td>æœªå®‰è£… <code>devkit-porting</code></td><td>å®‰è£… <code>devkit-porting- .rpm</code></td></tr><tr><td><code>Permission denied: common.log.lock</code></td><td>RC ç‰ˆç¡¬ç¼–ç ç³»ç»Ÿè·¯å¾„</td><td>ä½¿ç”¨  <code> sudo</code>   è¿è¡Œ</td></tr><tr><td><code>The task name is incorrect</code></td><td>æœªæŒ‡å®šå­ä»»åŠ¡</td><td>ä½¿ç”¨ <code>devkit porting src-mig ...</code></td></tr><tr><td><code>required: -i/--input</code></td><td>å‚æ•°æ ¼å¼å˜æ›´</td><td>å°† <code>--project-path</code> æ”¹ä¸º <code>--input</code></td></tr><tr><td>SELinux é˜»æ­¢å†™å…¥</td><td>å®‰å…¨ç­–ç•¥é™åˆ¶</td><td>ä¸´æ—¶æ‰§è¡Œ <code>sudo setenforce 0</code></td></tr></tbody></table>
<hr/>
<h2 data-id="heading-15">ä¸ƒã€åç»­å»ºè®®</h2>
<h3 data-id="heading-16">1. å‡çº§åˆ°æ­£å¼ç‰ˆ</h3>
<p>å¸è½½ RC ç‰ˆï¼š</p>
<pre><code class="hljs">sudo rpm -e devkit devkit-porting devkit-sys-mig
</code></pre>
<p>ä¸‹è½½å¹¶å®‰è£…   DevKit 25.1.0 æ­£å¼ç‰ˆ ï¼Œäº«å—ï¼š</p>
<ul>
<li>æ— éœ€ <code>sudo</code></li>
<li>è‡ªåŠ¨ä½¿ç”¨ <code>$HOME/.kunpeng-devkit</code></li>
<li>æ›´ç¨³å®šçš„ CLI æ¥å£</li>
</ul>
<h3 data-id="heading-17">2. ä¿®æ”¹ä»£ç å¹¶éªŒè¯</h3>
<p>æ ¹æ®æŠ¥å‘Šæç¤ºï¼š</p>
<ul>
<li>æ›¿æ¢ x86 å†…å»ºå‡½æ•°ä¸º ARM NEON ç­‰ä»·å®ç°</li>
<li>æ·»åŠ è·¨å¹³å°å®ï¼ˆå¦‚ <code>#ifdef __aarch64__</code>ï¼‰</li>
<li>åœ¨é²²é¹æœåŠ¡å™¨ä¸Šç¼–è¯‘æµ‹è¯•</li>
</ul>
<hr/>
<h2 data-id="heading-18">å…«ã€é™„å½•ï¼šå®Œæ•´å‘½ä»¤é€ŸæŸ¥</h2>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£…</span>
sudo rpm -ivh devkit- .rpm devkit-porting- .rpm

<span class="hljs-comment"># åˆ†æï¼ˆRC ç‰ˆå¿…é¡»ç”¨ sudo + æ–°å‚æ•°ï¼‰</span>
sudo devkit porting src-mig \
  --input /path/to/source \
  --output /path/to/report \
  --source-type c,c++

<span class="hljs-comment"># å½’è¿˜æƒé™</span>
sudo <span class="hljs-built_in">chown</span> -R <span class="hljs-variable">$USER</span>:<span class="hljs-variable">$USER</span> /path/to/report

<span class="hljs-comment"># æŸ¥çœ‹å¸®åŠ©</span>
devkit porting src-mig --<span class="hljs-built_in">help</span>
</code></pre>
<hr/>
<h2 data-id="heading-19">æ€»ç»“</h2>
<p>ä½œä¸ºä¸€ä¸ªå¼€å‘è€…ï¼Œåœ¨ openEuler ARM64 ç¯å¢ƒä¸‹ä½¿ç”¨ DevKit 25.2.rc1 è¿›è¡Œæºç è¿ç§»åˆ†ææ—¶ï¼Œéœ€ç‰¹åˆ«æ³¨æ„å…¶ RC ç‰ˆæœ¬çš„é™åˆ¶ï¼šå¿…é¡»å®‰è£… <code>devkit-porting</code> æ¨¡å—ï¼Œä¸”å› æ—¥å¿—è·¯å¾„ç¡¬ç¼–ç äºç³»ç»Ÿç›®å½•ï¼Œæ™®é€šç”¨æˆ·æ— å†™æƒé™ï¼Œ  éœ€ç”¨  <code> sudo</code>   æ‰§è¡Œ ã€‚åŒæ—¶ï¼ŒCLI å‚æ•°å·²å˜æ›´â€”â€”<code>--project-path</code> æ”¹ä¸º <code>--input</code>ï¼Œ<code>--language</code> æ”¹ä¸º <code>--source-type</code>ã€‚è™½ç„¶æµç¨‹ç•¥æ˜¾ç¹çï¼Œä½†å·¥å…·èƒ½ç²¾å‡†è¯†åˆ« x86 ä¸“å±æŒ‡ä»¤ï¼ˆå¦‚ SSE/AVXï¼‰ã€å†…å­˜å¯¹é½ç­‰é—®é¢˜ï¼Œå¹¶ç”Ÿæˆ HTML æŠ¥å‘Šï¼Œæå¤§æå‡ ARM64 ç§»æ¤æ•ˆç‡ã€‚å»ºè®®å®éªŒåå‡çº§è‡³æ­£å¼ç‰ˆä»¥è·å¾—æ›´å‹å¥½çš„å¼€å‘ä½“éªŒã€‚</p>
<p>é²²é¹ç¤¾åŒºç›´è¾¾<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.hikunpeng.com%2Fdeveloper%3Futm_campaign%3Dcom%26utm_source%3Dcsdnkol" target="_blank" title="https://www.hikunpeng.com/developer?utm_campaign=com&amp;utm_source=csdnkol" ref="nofollow noopener noreferrer">www.hikunpeng.com/developer?uâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C# æˆä¸º 2025 å¹´çš„ç¼–ç¨‹è¯­è¨€ï¼Œ7ä¸ªC#æŠ€å·§åŠ©åŠ›å¼€å‘æ•ˆç‡]]></title>    <link>https://juejin.cn/post/7593165280488030249</link>    <guid>https://juejin.cn/post/7593165280488030249</guid>    <pubDate>2026-01-09T09:02:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593165280488030249" data-draft-id="7592990758476120083" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C# æˆä¸º 2025 å¹´çš„ç¼–ç¨‹è¯­è¨€ï¼Œ7ä¸ªC#æŠ€å·§åŠ©åŠ›å¼€å‘æ•ˆç‡"/> <meta itemprop="keywords" content="åç«¯,.NET,C#"/> <meta itemprop="datePublished" content="2026-01-09T09:02:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ServBay"/> <meta itemprop="url" content="https://juejin.cn/user/3828929445244761"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C# æˆä¸º 2025 å¹´çš„ç¼–ç¨‹è¯­è¨€ï¼Œ7ä¸ªC#æŠ€å·§åŠ©åŠ›å¼€å‘æ•ˆç‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3828929445244761/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ServBay
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:02:45.000Z" title="Fri Jan 09 2026 09:02:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>TIOBE å…¬å¸ƒçš„æ•°æ®æ˜¾ç¤ºï¼ŒC# ä»¥ 2.94% çš„å¹´åº¦æœ€å¤§æ¶¨å¹…å†åº¦è·è¯„2025 å¹´åº¦ç¼–ç¨‹è¯­è¨€ï¼Œè¿™æ˜¯ C# åœ¨ä¸‰å¹´å†…ç¬¬äºŒæ¬¡è·æ­¤æ®Šè£ï¼Œå‡­å€Ÿçš„æ˜¯å…¶åœ¨æ¦œå•ä¸Šæœ€å¤§çš„å¹´åº¦å¢é•¿å¹…åº¦ã€‚</p>
<p>å…¶å®ï¼ŒC# æ—©å°±ä¸æ˜¯å½“å¹´é‚£ä¸ªè´´ç€â€œWindows ç‹¬å â€å’Œâ€œé—­æºâ€æ ‡ç­¾çš„è¯­è¨€äº†ã€‚ä»æ—©æœŸçš„æ¨¡ä»¿è€…åˆ°å¦‚ä»Šç°ä»£è¯­è¨€ç‰¹æ€§çš„å¼•é¢†è€…ï¼ŒC# æˆåŠŸå®Œæˆäº†å‘è·¨å¹³å°å’Œå¼€æºçš„å·¨å¤§è½¬å‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9ef1361c669747aeb3a12d40b53095bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VydkJheQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554966&amp;x-signature=NirDk39sroy1mRZ%2BV7aU6xqCYCE%3D" alt="" loading="lazy"/></p>
<p>åœ¨ä¼ä¸šçº§å¼€å‘é¢†åŸŸï¼ŒC# ä¸ Java çš„ç«äº‰æŒç»­äº†äºŒåå¤šå¹´ã€‚ç›¸æ¯”äº Java ç•¥æ˜¾å†—é•¿å’Œæ ·æ¿åŒ–çš„ä»£ç é£æ ¼ï¼ŒC# åœ¨è¯­æ³•è®¾è®¡çš„çµæ´»æ€§å’Œæ¼”è¿›é€Ÿåº¦ä¸Šä¸€ç›´ä¿æŒç€æ•é”çš„å—…è§‰ã€‚å¯¹äºå¼€å‘è€…è€Œè¨€ï¼ŒC# ç‰ˆæœ¬çš„å¿«é€Ÿè¿­ä»£æ„å‘³ç€æ‰‹é‡Œæœ‰äº†æ›´å¤šé«˜æ•ˆçš„å·¥å…·ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5bc78edb15a1407392fe3093eeeda6f0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VydkJheQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554966&amp;x-signature=O7rh2mx5NGeg1dPGitT67tnGdPc%3D" alt="" loading="lazy"/></p>
<p>ä»¥ä¸‹ç›˜ç‚¹7ä¸ªåœ¨å®é™…å¼€å‘ä¸­éå¸¸å®ç”¨çš„C#ä»£ç æŠ€å·§ï¼Œæ¶µç›–å¹¶å‘å¤„ç†ã€å†…å­˜ä¼˜åŒ–åŠæ–°è¯­æ³•ç‰¹æ€§ã€‚</p>
<h3 data-id="heading-0">å¤šçº¿ç¨‹åœºæ™¯ä¸‹çš„å­—å…¸å®‰å…¨ç­–ç•¥</h3>
<p>åœ¨å¤šçº¿ç¨‹ç¯å¢ƒæ“ä½œå­—å…¸æ—¶ï¼Œæ‰‹åŠ¨åŠ é”ï¼ˆlockï¼‰å¾€å¾€å®¹æ˜“å‡ºé”™ä¸”æ•ˆç‡ä¸é«˜ã€‚ä¸è¦é‡å¤é€ è½®å­ï¼Œ<code>ConcurrentDictionary&lt;TKey, TValue&gt;</code> æ˜¯ä¸“ä¸ºå¹¶å‘è¯»å†™è®¾è®¡çš„ç»“æ„ï¼Œå†…éƒ¨å®ç°äº†ç»†ç²’åº¦çš„é”æœºåˆ¶å’ŒåŸå­æ“ä½œã€‚</p>
<p><strong>ä½æ•ˆï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-keyword">var</span> cache = <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">int</span>&gt;();
<span class="hljs-comment">// å¤šçº¿ç¨‹å¹¶å‘å†™å…¥æ—¶ï¼Œæ™®é€šå­—å…¸éçº¿ç¨‹å®‰å…¨ï¼Œå¯èƒ½å¯¼è‡´å¼‚å¸¸æˆ–æ•°æ®è¦†ç›–</span>
<span class="hljs-keyword">await</span> Task.WhenAll(dataItems.Select(<span class="hljs-keyword">async</span> item =&gt;
{
    <span class="hljs-comment">// å³ä½¿åŠ é”ï¼Œæ€§èƒ½ä¹Ÿä¼šå—å½±å“</span>
    cache[item.Key] = <span class="hljs-keyword">await</span> ProcessItemAsync(item);
}));
</code></pre>
<p><strong>æ¨èï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-keyword">var</span> cache = <span class="hljs-keyword">new</span> ConcurrentDictionary&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">int</span>&gt;();
<span class="hljs-comment">// å†…éƒ¨å·²å¤„ç†å¹¶å‘æ§åˆ¶ï¼Œè¯»å†™æ›´é«˜æ•ˆ</span>
<span class="hljs-keyword">await</span> Task.WhenAll(dataItems.Select(<span class="hljs-keyword">async</span> item =&gt;
{
    cache[item.Key] = <span class="hljs-keyword">await</span> ProcessItemAsync(item);
}));
</code></pre>
<h3 data-id="heading-1">é¿å…é¢‘ç¹åˆ†é…ç©ºé›†åˆ</h3>
<p>åœ¨è¿”å›ç©ºæ•°ç»„æˆ–åˆ—è¡¨æ—¶ï¼Œä¹ æƒ¯æ€§åœ° <code>new</code> ä¸€ä¸ªå¯¹è±¡ä¼šé€ æˆä¸å¿…è¦çš„å†…å­˜åˆ†é…ã€‚ç‰¹åˆ«æ˜¯åœ¨é«˜é¢‘è°ƒç”¨çš„å¾ªç¯æˆ– LINQ æŸ¥è¯¢ä¸­ï¼Œè¿™ä¼šæ˜¾è‘—å¢åŠ åƒåœ¾å›æ”¶ï¼ˆGCï¼‰çš„å‹åŠ›ã€‚<code>.NET</code> ä¸ºæ­¤æä¾›äº†ç¼“å­˜çš„å•ä¾‹ç©ºå¯¹è±¡ã€‚</p>
<p><strong>ä½æ•ˆï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">string</span>[<span class="hljs-number">0</span>]; <span class="hljs-comment">// æ¯æ¬¡éƒ½åœ¨å †ä¸Šåˆ†é…æ–°å¯¹è±¡</span>
</code></pre>
<p><strong>æ¨èï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-keyword">return</span> Array.Empty&lt;<span class="hljs-built_in">string</span>&gt;(); <span class="hljs-comment">// ä½¿ç”¨å…¨å±€ç¼“å­˜çš„ç©ºå®ä¾‹</span>
</code></pre>
<p>åŒç†ï¼Œåœ¨ LINQ åœºæ™¯ä¸‹åº”ä½¿ç”¨ <code>Enumerable.Empty&lt;T&gt;()</code>ã€‚</p>
<h3 data-id="heading-2">å–„ç”¨ç©ºåˆå¹¶èµ‹å€¼è¿ç®—ç¬¦ (??=)</h3>
<p><code>??=</code> è¿ç®—ç¬¦èƒ½è®©ç©ºæ£€æŸ¥å’Œåˆå§‹åŒ–é€»è¾‘å˜å¾—æå…¶ç®€æ´ã€‚å®ƒä¸ä»…å‡å°‘äº†æ ·æ¿ä»£ç ï¼Œè¿˜æ¶ˆé™¤äº†ä¸å¿…è¦çš„åµŒå¥—ï¼Œéå¸¸é€‚åˆç”¨äºå±æ€§çš„å»¶è¿ŸåŠ è½½ï¼ˆLazy Initializationï¼‰ã€‚</p>
<p><strong>ä½æ•ˆï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-keyword">if</span> (userSettings == <span class="hljs-literal">null</span>)
{
    userSettings = <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt;();
}
</code></pre>
<p><strong>æ¨èï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-comment">// ä»…å½“ userSettings ä¸º null æ—¶æ‰è¿›è¡Œèµ‹å€¼</span>
userSettings ??= <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt;();
</code></pre>
<h3 data-id="heading-3">ä¼˜åŒ–æ—¥å¿—è®°å½•ä¸­çš„å­—ç¬¦ä¸²å¼€é”€</h3>
<p>C# 10 å¼•å…¥äº†é’ˆå¯¹æ’å€¼å­—ç¬¦ä¸²çš„åº•å±‚ä¼˜åŒ–ã€‚åœ¨è®°å½•æ—¥å¿—æ—¶ï¼Œå¦‚æœç›´æ¥ä½¿ç”¨ <code>$</code> è¿›è¡Œæ‹¼æ¥ï¼Œå³ä¾¿æ—¥å¿—çº§åˆ«æœªå¼€å¯ï¼Œå­—ç¬¦ä¸²æ‹¼æ¥çš„å¼€é”€ä¾ç„¶å­˜åœ¨ã€‚ä½¿ç”¨ç»“æ„åŒ–æ—¥å¿—å‚æ•°å†™æ³•ï¼Œå¯ä»¥åœ¨æ—¥å¿—çº§åˆ«å…³é—­æ—¶å®Œå…¨è·³è¿‡æ’å€¼è®¡ç®—ã€‚</p>
<p><strong>æœ‰éšå½¢å¼€é”€ï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-comment">// å³ä½¿ LogLevel å…³é—­ï¼Œå­—ç¬¦ä¸²æ’å€¼ä¾ç„¶ä¼šæ‰§è¡Œï¼Œæ¶ˆè€— CPU</span>
_logger.LogInformation(<span class="hljs-string">$"Order <span class="hljs-subst">{orderId}</span> processed at <span class="hljs-subst">{DateTime.Now}</span>"</span>);
</code></pre>
<p><strong>æ¨èï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-comment">// æ¨¡æ¿åŒ–å‚æ•°ï¼Œåªæœ‰æ—¥å¿—ç¡®å®éœ€è¦è®°å½•æ—¶ï¼Œæ‰ä¼šå¤„ç†å‚æ•°</span>
_logger.LogInformation(<span class="hljs-string">"Order {OrderId} processed at {ProcessTime}"</span>, orderId, DateTime.Now);
</code></pre>
<h3 data-id="heading-4">å¹¶è¡Œä»»åŠ¡ä¼˜å…ˆä½¿ç”¨ Task.WhenAll</h3>
<p>åœ¨å¼‚æ­¥æ–¹æ³•ä¸­ï¼Œå¦‚æœå¤šä¸ªä»»åŠ¡ä¹‹é—´æ²¡æœ‰ä¾èµ–å…³ç³»ï¼Œé¡ºæ¬¡ <code>await</code> ä¼šå¯¼è‡´å®ƒä»¬ä¸²è¡Œæ‰§è¡Œï¼Œæµªè´¹äº†å¹¶å‘ä¼˜åŠ¿ã€‚åº”å½“åŒæ—¶å¯åŠ¨æ‰€æœ‰ä»»åŠ¡ï¼Œå¹¶ç­‰å¾…å®ƒä»¬å…¨éƒ¨å®Œæˆã€‚</p>
<p><strong>ä½æ•ˆï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-keyword">await</span> UploadLogsAsync();
<span class="hljs-keyword">await</span> UpdateDatabaseAsync();
<span class="hljs-keyword">await</span> NotifyUserAsync();
</code></pre>
<p><strong>é«˜æ•ˆï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-keyword">await</span> Task.WhenAll(
    UploadLogsAsync(),
    UpdateDatabaseAsync(),
    NotifyUserAsync()
);
</code></pre>
<p><em>æ³¨ï¼šä½¿ç”¨</em> <em><code>Task.WhenAll</code></em> æ—¶ï¼Œè‹¥å‘ç”Ÿå¼‚å¸¸ï¼ŒæŠ›å‡ºçš„æ˜¯ <code>AggregateException</code> <em>ï¼Œéœ€æ³¨æ„æ•è·å¤„ç†ã€‚</em></p>
<h3 data-id="heading-5">é¢„è®¾å­—å…¸å®¹é‡ä»¥é¿å…é‡å“ˆå¸Œ</h3>
<p><code>Dictionary</code> åœ¨å…ƒç´ æ•°é‡è¶…å‡ºå½“å‰å®¹é‡æ—¶ï¼Œä¼šè§¦å‘æ‰©å®¹ï¼ˆResizeï¼‰å’Œé‡å“ˆå¸Œï¼ˆRehashï¼‰ï¼Œè¿™æ˜¯éå¸¸æ˜‚è´µçš„æ“ä½œã€‚å¦‚æœèƒ½é¢„ä¼°æ•°æ®é‡çº§ï¼Œåœ¨æ„é€ æ—¶æŒ‡å®šå®¹é‡å¯ä»¥å¤§å¹…å‡å°‘å†…å­˜åˆ†é…å¼€é”€ã€‚</p>
<p><strong>ä½æ•ˆï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-keyword">var</span> map = <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-built_in">int</span>, <span class="hljs-built_in">string</span>&gt;(); <span class="hljs-comment">// é»˜è®¤å®¹é‡å°ï¼Œæ•°æ®å¤šæ—¶ä¼šå¤šæ¬¡æ‰©å®¹</span>
</code></pre>
<p><strong>é«˜æ•ˆï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-keyword">var</span> map = <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-built_in">int</span>, <span class="hljs-built_in">string</span>&gt;(expectedCount); <span class="hljs-comment">// ä¸€æ¬¡åˆ†é…åˆ°ä½</span>
</code></pre>
<h3 data-id="heading-6">åŸå§‹å­—ç¬¦ä¸²å­—é¢é‡ä¸æ’å€¼</h3>
<p>C# 11 å¼•å…¥äº†ä¸‰é‡å¼•å· <code>"""</code>ï¼Œå®Œç¾è§£å†³äº† JSONã€SQL æˆ– HTML å­—ç¬¦ä¸²ä¸­å¼•å·è½¬ä¹‰çš„ç—›ç‚¹ã€‚ç»“åˆ <code>$$</code> è¯­æ³•ï¼Œè¿˜å¯ä»¥è‡ªå®šä¹‰æ’å€¼ç¬¦å·ï¼Œé¿å…ä¸å†…å®¹ä¸­çš„ <code>{}</code> å†²çªã€‚</p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-keyword">var</span> userName = <span class="hljs-string">"Alice"</span>;
<span class="hljs-keyword">var</span> userAge = <span class="hljs-number">28</span>;

<span class="hljs-comment">// ä½¿ç”¨ $$ å‰ç¼€ï¼Œè¡¨ç¤º {{}} æ‰æ˜¯æ’å€¼ï¼Œå•ä¸ª {} è¢«è§†ä¸ºæ™®é€šå­—ç¬¦</span>
<span class="hljs-keyword">var</span> jsonContent = $<span class="hljs-string">$""</span><span class="hljs-string">"
{
    "</span>user<span class="hljs-string">": "</span>{{userName}}<span class="hljs-string">",
    "</span>age<span class="hljs-string">": {{userAge}},
    "</span>role<span class="hljs-string">": "</span>admin<span class="hljs-string">"
}
"</span><span class="hljs-string">""</span>;
</code></pre>
<p>è¿™ç§å†™æ³•è®©ä»£ç æ¸…æ™°åº¦å¤§å¹…æå‡ï¼Œå†ä¹Ÿä¸ç”¨æ•°åæ–œæ äº†ã€‚</p>
<h3 data-id="heading-7">å¿«é€Ÿæå®š.NETç¯å¢ƒ</h3>
<p>ä¸Šè¿°æŠ€å·§è·¨è¶Šäº†å¤šä¸ª C# ç‰ˆæœ¬ï¼Œä»åŸºç¡€çš„ .NET Framework åˆ°æœ€æ–°çš„ .NET Core åŠ .NET 5+ã€‚åœ¨å®é™…å·¥ä½œä¸­ï¼Œç»´æŠ¤æ—§é¡¹ç›®ï¼ˆå¦‚ .NET 2.0ï¼‰å’Œæ¢ç´¢æ–°ç‰¹æ€§ï¼ˆå¦‚ .NET 10.0ï¼‰å¾€å¾€éœ€è¦åŒæ—¶è¿›è¡Œã€‚</p>
<p>åœ¨æœ¬åœ°é…ç½®.NETç¯å¢ƒæ—¶ï¼Œå¤šä¸ªè¿è¡Œç‰ˆæœ¬è¿˜æ˜¯æŒºéº»çƒ¦çš„ï¼Œæ¶‰åŠå¤§é‡çš„ç¯å¢ƒå˜é‡åˆ‡æ¢ã€‚ä½¿ç”¨ ServBay å°±èƒ½<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.servbay.com%2Ffeatures%2Fnet" target="_blank" title="https://www.servbay.com/features/net" ref="nofollow noopener noreferrer">ä¸€é”®å®‰è£… .NET ç¯å¢ƒ</a>ï¼Œæ”¯æŒèŒƒå›´æå¹¿ï¼Œä» .NET 2.0 ä¸€ç›´åˆ° .NET 10.0ï¼Œç”šè‡³åŒ…å«äº† Mono 6ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/54cb1c5922604fe18b4202bf6f7182c9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VydkJheQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554966&amp;x-signature=fXQIzGvaxdC6l39Q%2BuzjuIAmMHY%3D" alt="" loading="lazy"/></p>
<p>ServBay æ”¯æŒå¤šä¸ª.NETç‰ˆæœ¬åŒæ—¶å¹¶å­˜ï¼Œå®Œå…¨ä¸éœ€è¦å¼€å‘è€…æ‰‹åŠ¨å¤„ç†ç¯å¢ƒå˜é‡å†²çªã€‚æ— è®ºä½ æ˜¯éœ€è¦ç»´æŠ¤åå¹´å‰çš„è€ç³»ç»Ÿï¼Œè¿˜æ˜¯æµ‹è¯•æœ€æ–°çš„ C# è¯­æ³•ç‰¹æ€§ï¼Œéƒ½èƒ½åœ¨åŒä¸€å°æœºå™¨ä¸Šæ— ç¼åˆ‡æ¢ï¼Œå°†ç²¾åŠ›çœŸæ­£é›†ä¸­åœ¨ä»£ç ç¼–å†™ä¸Šã€‚</p>
<h3 data-id="heading-8">ç»“è¯­</h3>
<p>ä»£ç çš„æ•´æ´ä¸é«˜æ•ˆå¾€å¾€ä½“ç°åœ¨ç»†èŠ‚ä¹‹ä¸­ã€‚æŒæ¡è¿™äº› C# æŠ€å·§ï¼Œä¸ä»…èƒ½å‡å°‘è¿è¡Œæ—¶çš„èµ„æºæ¶ˆè€—ï¼Œæ›´èƒ½è®©ä»£ç é€»è¾‘æ¸…æ™°æ˜“è¯»ã€‚éšç€ .NET ç”Ÿæ€çš„ä¸æ–­å‘å±•ï¼Œä¿æŒå¯¹æ–°ç‰¹æ€§çš„å…³æ³¨ï¼Œå¹¶ç»“åˆå¾—åŠ›çš„å·¥å…·æ¥ç®¡ç†å¼€å‘ç¯å¢ƒï¼Œæ˜¯æ¯ä¸€ä½å¼€å‘è€…æŒç»­è¿›é˜¶çš„å…³é”®ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ABP9.3.0+React 19.2.0åŸºç¡€åˆ›å»º]]></title>    <link>https://juejin.cn/post/7593158683411152896</link>    <guid>https://juejin.cn/post/7593158683411152896</guid>    <pubDate>2026-01-09T09:15:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593158683411152896" data-draft-id="7592960378690879523" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ABP9.3.0+React 19.2.0åŸºç¡€åˆ›å»º"/> <meta itemprop="keywords" content="React.js"/> <meta itemprop="datePublished" content="2026-01-09T09:15:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸ƒå…«æ˜Ÿå¤©"/> <meta itemprop="url" content="https://juejin.cn/user/3848733848768205"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ABP9.3.0+React 19.2.0åŸºç¡€åˆ›å»º
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3848733848768205/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸ƒå…«æ˜Ÿå¤©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:15:03.000Z" title="Fri Jan 09 2026 09:15:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰/åç«¯æŠ€æœ¯æ ˆ</h2>
<p>æœåŠ¡ç«¯:</p>
<pre><code class="hljs language-makefile" lang="makefile">ABP Framework v9.3.0
	
<span class="hljs-section">ORM:</span>
	EFCore   v9.3.0
        -SqlServer V2022
      

<span class="hljs-section">ç¯å¢ƒ:</span>
	.NET SDK 9.0
	
<span class="hljs-section">å·¥å…·:</span>
	.ABP CLI 9.3.0
</code></pre>
<p>å®¢æˆ·ç«¯:</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">Web:</span>
	React + Vite + TypeScript
	-UI:
		Antd
	

<span class="hljs-section">ç¯å¢ƒ:</span>
	Node v20.19.6
	pnpm v10.23.0
	Android SDK
        Vite å’Œ React å¯¹ç¯å¢ƒè¦æ±‚è¾ƒå®½æ¾ï¼šæ”¯æŒ Node.js è¾ƒæ–°ç‰ˆæœ¬ï¼ˆ&gt;=14/16/18ï¼‰ï¼Œé€šå¸¸æ— éœ€ä¸¥æ ¼å›ºå®šç‰ˆæœ¬å³å¯è¿è¡Œã€‚
<span class="hljs-section">å·¥å…·:	</span>
	vite 	v7.2.4
	nvm 	v1.2.2
	vite-cli:é€šè¿‡npmå‘½ä»¤,ä¸éœ€è¦å…¨å±€å®‰è£…
</code></pre>
<h2 data-id="heading-1">1.åˆ›å»º</h2>
<p>åˆ›å»ºç›¸åº”çš„æ¡†æ¶é¡¹ç›®æ–‡ä»¶</p>
<h3 data-id="heading-2">åç«¯ABP</h3>
<pre><code class="hljs language-ruby" lang="ruby">/<span class="hljs-regexp">/ABPå®˜ç½‘
https:/</span><span class="hljs-regexp">/abp.io/docs</span><span class="hljs-regexp">/latest/get</span>-started/layered-web-application  
</code></pre>
<h4 data-id="heading-3">ğŸŒˆä½¿ç”¨ABP_CLIåˆ›å»º</h4>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-comment">//æ‰‹è„šæ¶è¯´æ˜</span>
https:<span class="hljs-comment">//abp.io/docs/latest/cli </span>
<span class="hljs-comment">//æ‰‹è„šæ¶å¿«é€Ÿå‘½ä»¤æ„å»ºé¡µé¢</span>
https:<span class="hljs-comment">//abp.io/get-started</span>
ç¡®è®¤å½“å‰ CLI å®‰è£…çš„ç‰ˆæœ¬:abp --version

<span class="hljs-comment">//æ¨¡æ¿é€‰æ‹©æŒ‡å—</span>
https:<span class="hljs-comment">//abp.io/docs/9.3/solution-templates/guide</span>


<span class="hljs-comment">//æŒ‡å®šæ–‡ä»¶å¤¹ï¼ŒCMD</span>
è¾“å…¥å‘½ä»¤ï¼š   
abp <span class="hljs-keyword">new</span> AppCoreServer -t app  -u none -d ef -v <span class="hljs-number">9.3</span><span class="hljs-number">.0</span>
<span class="hljs-comment">//ç”Ÿæˆå®Œåå³å¯çœ‹åˆ°/AppCoreServer/aspnet-coreæ–‡ä»¶å¤¹</span>
</code></pre>
<h4 data-id="heading-4">é¡¹ç›®ç»“æ„</h4>
<pre><code class="hljs language-bash" lang="bash">aspnet-core/                	 		<span class="hljs-comment"># è§£å†³æ–¹æ¡ˆã€‚</span>
   â”œâ”€â”€ src/                   		 	<span class="hljs-comment"># åç«¯ä¸»æœåŠ¡ä»£ç ç›®å½•ã€‚</span>
   â”‚   â”œâ”€â”€ Application/        		 	<span class="hljs-comment"># åº”ç”¨æœåŠ¡å±‚ï¼Œå¤„ç†ä¸šåŠ¡é€»è¾‘ã€‚</span>
   â”‚   â”œâ”€â”€ Application.Contracts/       <span class="hljs-comment"># åº”ç”¨æœåŠ¡å±‚æ¥å£å®šä¹‰å±‚ã€‚</span>
   â”‚   â”œâ”€â”€ DbMigrator/             		<span class="hljs-comment"># è¿ç§»å±‚ï¼Œç”¨äºé…ç½®ï¼Œå®šä¹‰è¿ç§»æ•°æ®åº“ã€‚</span>
   â”‚   â”œâ”€â”€ Domain/             			<span class="hljs-comment"># é¢†åŸŸå±‚ï¼ŒåŒ…å«é¢†åŸŸæ¨¡å‹å’Œä¸šåŠ¡è§„åˆ™ã€‚</span>
   â”‚   â”œâ”€â”€ Domain.Shared/             	<span class="hljs-comment"># å­˜æ”¾é€šç”¨ç±»å’Œå®šä¹‰ã€‚</span>
   â”‚   â”œâ”€â”€ EntityFrameworkCore/ 		<span class="hljs-comment"># æ•°æ®è®¿é—®å±‚ï¼Œä½¿ç”¨ EF Core å®ç°æ•°æ®åº“æ“ä½œã€‚</span>
   â”‚   â”œâ”€â”€ HttpApi/            			<span class="hljs-comment"># HTTP API å±‚ï¼Œå®šä¹‰ API æ¥å£,æš´éœ² REST APIã€‚</span>
   â”‚   â”œâ”€â”€ HttpApi.Client/     			<span class="hljs-comment"># ç”Ÿæˆ C# SDKï¼Œç”¨äºå…¶å®ƒç¨‹åºç›´æ¥æ¶ˆè´¹API-(å¯ä»¥è®©å¦ä¸€ä¸ªc#é¡¹ç›®å¼•ç”¨è¯¥å±‚</span>
   â”‚   â”‚									,ç„¶åè°ƒç”¨Applicationä¸€æ ·è°ƒç”¨,è€Œä¸æ˜¯å†™httlclientè°ƒç”¨,é€‚ç”¨äºå¾®æœåŠ¡,åˆ†å¸ƒå¼)
   â”‚   â””â”€â”€ HttpApi.Host/       			<span class="hljs-comment"># é¡¹ç›®æ ¹æ¨¡å—ï¼Œé…ç½®å’Œè¿è¡Œåç«¯æœåŠ¡,Programå°±åœ¨è¿™é‡Œã€‚</span>
   â”‚
   â””â”€â”€ <span class="hljs-built_in">test</span>/                   			<span class="hljs-comment"># æµ‹è¯•å•å…ƒã€‚</span>
   â”‚   â”œâ”€â”€ Application.Tests/  			<span class="hljs-comment"># åº”ç”¨æœåŠ¡å±‚çš„æµ‹è¯•ã€‚</span>
   â”‚   â”œâ”€â”€ Domain.Tests/       			<span class="hljs-comment"># é¢†åŸŸå±‚çš„æµ‹è¯•ã€‚</span>
   â”‚   â””â”€â”€ IntegrationTests/   			<span class="hljs-comment"># é›†æˆæµ‹è¯•ã€‚</span>
   â”‚
   â””â”€â”€AppCoreServer.sln					<span class="hljs-comment">#è§£å†³æ–¹æ¡ˆæ–‡ä»¶,åŒ…å«é¡¹ç›®è·¯å¾„ã€ä¾èµ–é¡ºåº,.net10å¼€å§‹å˜æˆslnx</span>
   |
   â””â”€â”€.gitignore						<span class="hljs-comment">#å®šä¹‰ Git ä¸éœ€è¦è¿½è¸ªçš„æ–‡ä»¶å’Œç›®å½•ã€‚</span>
</code></pre>
<h4 data-id="heading-5">é™„å½•</h4>
<h5 data-id="heading-6">ğŸ§± ABP é¡¹ç›®ç±»å‹æ€»è§ˆå¯¹æ¯”è¡¨</h5>























































<table><thead><tr><th>ç±»å‹</th><th>åç§°</th><th>ç‰¹ç‚¹</th><th>é€‚ç”¨åœºæ™¯</th><th>æ˜¯å¦åˆ†å±‚</th><th>æ˜¯å¦å‰åç«¯åˆ†ç¦»</th><th>æ˜¯å¦æ”¯æŒæ¨¡å—åŒ–</th><th>æ˜¯å¦ä¸ºå¾®æœåŠ¡</th></tr></thead><tbody><tr><td>1ï¸âƒ£</td><td><strong>å•å±‚ Web åº”ç”¨</strong> (Single Layer Web App)</td><td>æ‰€æœ‰ä»£ç åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­</td><td>å¿«é€Ÿå¼€å‘ã€å°é¡¹ç›®ã€åŸå‹</td><td>âŒ</td><td>âŒï¼ˆé»˜è®¤é›†æˆ UIï¼‰</td><td>âŒ</td><td>âŒ</td></tr><tr><td>2ï¸âƒ£</td><td><strong>åˆ†å±‚ Web åº”ç”¨</strong> (Layered Web App)</td><td>é¢†åŸŸã€åº”ç”¨ã€æ¥å£ã€EFCore å±‚åˆ†ç¦»</td><td>ä¸­å¤§å‹é¡¹ç›®ï¼Œæ¸…æ™°æ¶æ„</td><td>âœ…</td><td>âŒï¼ˆé»˜è®¤é›†æˆ UIï¼‰</td><td>âœ…</td><td>âŒ</td></tr><tr><td>3ï¸âƒ£</td><td><strong>æ¨¡å—é¡¹ç›®</strong> (Module Project)</td><td>å¯å¤ç”¨ã€å¯ç§»æ¤ã€å¯å‘å¸ƒä¸º NuGet æ¨¡å—</td><td>å…¬å…±æœåŠ¡æ¨¡å—ã€ç»„ä»¶åº“</td><td>âœ…</td><td>âŒ</td><td>âœ…ï¼ˆä¸“ä¸ºæ¨¡å—å¼€å‘ï¼‰</td><td>âŒ</td></tr><tr><td>4ï¸âƒ£</td><td><strong>å¾®æœåŠ¡è§£å†³æ–¹æ¡ˆ</strong> (Microservice Solution)</td><td>å¤šæœåŠ¡ã€å¤šæ•°æ®åº“ã€å‰åç«¯åˆ†ç¦»</td><td>å¤§å‹ç³»ç»Ÿã€åˆ†å¸ƒå¼éƒ¨ç½²</td><td>âœ…</td><td>âœ…ï¼ˆUI ç‹¬ç«‹ï¼‰</td><td>âœ…</td><td>âœ…</td></tr></tbody></table>
<h3 data-id="heading-7">å‰ç«¯React</h3>
<pre><code class="hljs language-ruby" lang="ruby">å‰ç«¯<span class="hljs-title class_">React</span>+<span class="hljs-title class_">Vite</span>æ‰‹è„šæ¶

/<span class="hljs-regexp">/Reactå®˜ç½‘
https:/</span><span class="hljs-regexp">/zh-hans.react.dev/learn</span><span class="hljs-regexp">/creating-a-react-app

/</span><span class="hljs-regexp">/Viteå®˜ç½‘
https:/</span><span class="hljs-regexp">/vitejs.cn/vite</span>5-cn/
</code></pre>
<h4 data-id="heading-8">ğŸŒˆä½¿ç”¨Viteåˆ›å»º</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">//ä½¿ç”¨Viteæ‰‹è„šæ¶åˆ›å»ºReact+TypeScripté¡¹ç›®</span>


<span class="hljs-attr">cmd</span>:

<span class="hljs-attr">D</span>:\<span class="hljs-title class_">AppWmcsServer</span>&gt;npm create vite@latest
&gt; npx
&gt; create-vite

|
o  <span class="hljs-title class_">Project</span> <span class="hljs-attr">name</span>:						<span class="hljs-comment">//é¡¹ç›®å</span>
|  react-web
|
o  <span class="hljs-title class_">Select</span> a <span class="hljs-attr">framework</span>:   				<span class="hljs-comment">//æ¡†æ¶</span>
|  <span class="hljs-title class_">React</span>
|
o  <span class="hljs-title class_">Select</span> a <span class="hljs-attr">variant</span>:   					<span class="hljs-comment">//é€‰æ‹©ä¸€ç§ç‰ˆæœ¬</span>
|  <span class="hljs-title class_">TypeScript</span> + <span class="hljs-variable constant_">SWC</span>
|
o  <span class="hljs-title class_">Use</span> rolldown-vite (<span class="hljs-title class_">Experimental</span>)?:  	<span class="hljs-comment">//æ˜¯å¦ä½¿ç”¨å®éªŒæ€§åŠŸèƒ½,å¦</span>
|  <span class="hljs-title class_">No</span>
|
o  <span class="hljs-title class_">Install</span> <span class="hljs-keyword">with</span> npm and start now?   	<span class="hljs-comment">//æ˜¯å¦å®‰è£…ä¾èµ–,å¦</span>
|  <span class="hljs-title class_">No</span>
|
o  <span class="hljs-title class_">Scaffolding</span> project <span class="hljs-keyword">in</span> <span class="hljs-attr">D</span>:\<span class="hljs-title class_">AppWmcsServer</span>\react-web...
|
â€”  <span class="hljs-title class_">Done</span>. <span class="hljs-title class_">Now</span> <span class="hljs-attr">run</span>:

  cd react-web
  npm install
  npm run dev
<span class="hljs-attr">D</span>:\0App\<span class="hljs-title class_">ResourceCenter</span>\2App\<span class="hljs-title class_">AppWmcsServer</span>&gt;


<span class="hljs-comment">//TypeScript + SWC:</span>
<span class="hljs-comment">//ä½¿ç”¨ TypeScript è¯­è¨€ç¼–å†™é¡¹ç›®ä»£ç </span>
<span class="hljs-comment">//ä½¿ç”¨ SWC ä½œä¸ºæ„å»ºæ—¶çš„ç¼–è¯‘å™¨ï¼ˆæ›¿ä»£ Babel æˆ– TSCï¼‰å°†.tsã€.tsx æ–‡ä»¶ä¼šè¢« SWC ç¼–è¯‘ä¸º JavaScriptï¼Œé€Ÿåº¦æ¯”ç”¨ Babel å¿«å¾ˆå¤š</span>
</code></pre>
<h4 data-id="heading-9">é¡¹ç›®ç»“æ„</h4>
<pre><code class="hljs language-csharp" lang="csharp">react-web/
â”œâ”€â”€ node_modules/       <span class="hljs-meta"># å­˜æ”¾é¡¹ç›®çš„ä¾èµ–åŒ…ï¼Œç”± npm æˆ– yarn è‡ªåŠ¨ç”Ÿæˆï¼Œä¸éœ€è¦æ‰‹åŠ¨ä¿®æ”¹ã€‚</span>
â”œâ”€â”€ <span class="hljs-keyword">public</span>/             <span class="hljs-meta"># å­˜æ”¾å…¬å…±èµ„æºæ–‡ä»¶ï¼Œç›´æ¥å¤åˆ¶åˆ°æœ€ç»ˆæ„å»ºçš„è¾“å‡ºä¸­ã€‚</span>
â”‚   â””â”€â”€ favicon.ico     <span class="hljs-meta"># é¡¹ç›®çš„å›¾æ ‡æ–‡ä»¶ï¼Œé€šå¸¸æ˜¾ç¤ºåœ¨æµè§ˆå™¨æ ‡ç­¾é¡µä¸­ã€‚</span>
â”œâ”€â”€ index.html      	<span class="hljs-meta"># é¡¹ç›®çš„å…¥å£ HTML æ–‡ä»¶ã€‚Vite ä»¥æ­¤æ–‡ä»¶ä¸ºåŸºç¡€ç”Ÿæˆæœ€ç»ˆçš„é¡µé¢ã€‚</span>
â”œâ”€â”€ src/                <span class="hljs-meta"># æºä»£ç ç›®å½•ï¼Œå­˜æ”¾ä¸»è¦çš„å¼€å‘æ–‡ä»¶ã€‚</span>
â”‚   â”œâ”€â”€ assets/         <span class="hljs-meta"># å­˜æ”¾é™æ€èµ„æºæ–‡ä»¶ï¼Œå¦‚å›¾ç‰‡ã€å­—ä½“ç­‰ã€‚</span>
â”‚   â”œâ”€â”€ components/     <span class="hljs-meta"># å­˜æ”¾å¯å¤ç”¨çš„ React ç»„ä»¶ï¼Œæ¯ä¸ªç»„ä»¶å¯ä»¥ç‹¬ç«‹å¼€å‘å’Œæµ‹è¯•ã€‚</span>
â”‚   â”œâ”€â”€ pages/          <span class="hljs-meta"># å­˜æ”¾é¡µé¢çº§ç»„ä»¶ï¼Œæ¯ä¸ªé¡µé¢ä»£è¡¨ä¸€ä¸ªè·¯ç”±æˆ–å®Œæ•´åŠŸèƒ½æ¨¡å—ã€‚</span>
â”‚   â”œâ”€â”€ App.tsx         <span class="hljs-meta"># ä¸»åº”ç”¨ç»„ä»¶ï¼Œé€šå¸¸åŒ…å«è·¯ç”±å’Œå…¨å±€çŠ¶æ€ç®¡ç†çš„å†…å®¹ã€‚</span>
â”‚   â”œâ”€â”€ main.tsx        <span class="hljs-meta"># é¡¹ç›®çš„å…¥å£æ–‡ä»¶ï¼Œç”¨äºæ¸²æŸ“æ ¹ç»„ä»¶å¹¶æŒ‚è½½åˆ° DOM ä¸Šã€‚</span>
â”‚   â””â”€â”€ vite-env.d.ts   <span class="hljs-meta"># ä¸º Vite ç‰¹å®šçš„ TypeScript ç±»å‹å£°æ˜æ–‡ä»¶ï¼Œæ–¹ä¾¿å¼€å‘æ—¶çš„ç±»å‹æ£€æŸ¥ã€‚</span>
â”œâ”€â”€ tsconfig.json       <span class="hljs-meta"># è¿™æ˜¯ TypeScript é¡¹ç›®çš„æ ¹é…ç½®æ–‡ä»¶ï¼Œå®šä¹‰äº†å…¨å±€çš„ TypeScript ç¼–è¯‘é€‰é¡¹</span>
â”œâ”€â”€ tsconfig.app.json   <span class="hljs-meta">#è¿™ä¸ªæ–‡ä»¶æ˜¯ç‰¹å®šäºåº”ç”¨çš„ TypeScript é…ç½®æ–‡ä»¶    </span>
â”œâ”€â”€ tsconfig.node.json  <span class="hljs-meta">#è¿™ä¸ªæ–‡ä»¶ä¸“é—¨ä¸º Node.js ç¯å¢ƒé…ç½® TypeScriptã€‚     </span>
â”œâ”€â”€ vite.config.ts      <span class="hljs-meta"># Vite çš„é…ç½®æ–‡ä»¶ï¼Œç”¨äºè‡ªå®šä¹‰å¼€å‘æœåŠ¡å™¨ã€æ’ä»¶å’Œæ„å»ºæµç¨‹ã€‚</span>
â”œâ”€â”€ package.json        <span class="hljs-meta"># é¡¹ç›®çš„å…ƒæ•°æ®æ–‡ä»¶ï¼ŒåŒ…å«é¡¹ç›®ä¾èµ–ã€è„šæœ¬å’ŒåŸºæœ¬ä¿¡æ¯ã€‚</span>
â”œâ”€â”€ .eslintrc.cjs       <span class="hljs-meta"># ESLint çš„é…ç½®æ–‡ä»¶ï¼Œç”¨äºè§„èŒƒä»£ç é£æ ¼å’ŒæŸ¥æ‰¾æ½œåœ¨é—®é¢˜ã€‚</span>
â”œâ”€â”€ .gitignore          <span class="hljs-meta"># å®šä¹‰ Git ä¸éœ€è¦è¿½è¸ªçš„æ–‡ä»¶å’Œç›®å½•ã€‚</span>
â””â”€â”€ README.md           <span class="hljs-meta"># è‡ªè¿°æ–‡ä»¶é¡¹ç›®çš„è¯´æ˜æ–‡æ¡£ï¼ŒåŒ…å«é¡¹ç›®ç®€ä»‹ã€ä½¿ç”¨è¯´æ˜å’Œè´¡çŒ®æŒ‡å—ã€‚</span>
</code></pre>
<h2 data-id="heading-10">2.é¡¹ç›®åˆå§‹åŒ–</h2>
<pre><code class="hljs">å°†é¡¹ç›®æ¨¡æ¿ç»“æ„ä¸éœ€è¦çš„æ–‡ä»¶ä¿®æ”¹åˆ é™¤è°ƒæ•´
</code></pre>
<h3 data-id="heading-11">2.1 ABP</h3>
<h4 data-id="heading-12">åˆå§‹åŒ–Serilogæ—¥å¿—</h4>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">async</span> Task&lt;<span class="hljs-built_in">int</span>&gt; <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span>
    {
        Log.Logger = <span class="hljs-keyword">new</span> LoggerConfiguration()
<span class="hljs-meta">#<span class="hljs-keyword">if</span> DEBUG</span>
            .MinimumLevel.Debug()
<span class="hljs-meta">#<span class="hljs-keyword">else</span></span>
            .MinimumLevel.Information()
<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
            .MinimumLevel.Override(<span class="hljs-string">"Microsoft"</span>, LogEventLevel.Information)
            .MinimumLevel.Override(<span class="hljs-string">"Microsoft.EntityFrameworkCore"</span>, LogEventLevel.Warning)
            .Enrich.FromLogContext()
            .WriteTo.Async(c =&gt; c.File(
                <span class="hljs-string">"Logs/log-.log"</span>,
                rollingInterval: RollingInterval.Day,
                rollOnFileSizeLimit: <span class="hljs-literal">true</span>,
                fileSizeLimitBytes: <span class="hljs-number">1L</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span> / <span class="hljs-number">2</span>, <span class="hljs-comment">// 500MB</span>
                retainedFileCountLimit: <span class="hljs-number">10</span>,
                shared: <span class="hljs-literal">true</span>
            ))
<span class="hljs-meta">#<span class="hljs-keyword">if</span> DEBUG  //debugæ—¶æ—¥å¿—è¾“å‡ºåˆ°æ§åˆ¶å°</span>
            .WriteTo.Async(c =&gt; c.Console())
<span class="hljs-meta">#<span class="hljs-keyword">endif</span>    //æ—¥å¿—è¾“å‡ºæ–‡ä»¶ä¸­</span>
            .CreateLogger();       

        <span class="hljs-keyword">try</span>
        {
           <span class="hljs-comment">//#çœç•¥...</span>
        }
    }
</code></pre>
<blockquote>
<p><strong>è§£æ</strong></p>
</blockquote>
<pre><code class="hljs language-vbnet" lang="vbnet">Serilog æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½ã€ç®€å•çš„æ—¥å¿—åº“ï¼Œç”¨äºè®°å½•åº”ç”¨ç¨‹åºçš„æ—¥å¿—ã€‚å®ƒæ”¯æŒä¸°å¯Œçš„è¾“å‡ºæ–¹å¼ï¼ˆæ§åˆ¶å°ã€æ–‡ä»¶ã€æ•°æ®åº“ç­‰ï¼‰ï¼Œå¹¶ä¸”å…è®¸åŠ¨æ€é…ç½®æ—¥å¿—çº§åˆ«ã€‚

.MinimumLevel.Debug() å’Œ .MinimumLevel.Information()ï¼šè¿™ä¸¤è¡Œä»£ç è®¾ç½®æ—¥å¿—çš„æœ€å°çº§åˆ«ã€‚åœ¨ Debug æ¨¡å¼ä¸‹ï¼Œæ—¥å¿—çº§åˆ«è®¾ç½®ä¸º Debugï¼Œè¿™æ„å‘³ç€æ‰€æœ‰çº§åˆ«çš„æ—¥å¿—éƒ½ä¼šè¢«è®°å½•ï¼ˆåŒ…æ‹¬ Debugã€Informationã€Warning ç­‰ï¼‰ã€‚åœ¨ Release æ¨¡å¼ä¸‹ï¼Œæ—¥å¿—çº§åˆ«è®¾ç½®ä¸º Informationï¼Œè¡¨ç¤ºåªè®°å½• Information çº§åˆ«åŠæ›´é«˜ä¸¥é‡çº§åˆ«çš„æ—¥å¿—ã€‚

.MinimumLevel.Override(<span class="hljs-string">"Microsoft"</span>, LogEventLevel.Information)ï¼šè¿™è¡Œä»£ç è¦†ç›–äº† Microsoft å‘½åç©ºé—´çš„æ—¥å¿—çº§åˆ«ï¼Œè®¾ç½®ä¸º Informationã€‚è¿™æ ·å°±ä¸ä¼šè®°å½• Microsoft ç›¸å…³çš„è°ƒè¯•ä¿¡æ¯ï¼Œå‡å°‘æ—¥å¿—å†—ä½™ã€‚

.WriteTo.<span class="hljs-keyword">Async</span>(...)ï¼šè¿™é‡Œçš„ WriteTo é…ç½®å®šä¹‰äº†æ—¥å¿—çš„è¾“å‡ºæ–¹å¼ã€‚<span class="hljs-keyword">Async</span> æ˜¯æŒ‡æ—¥å¿—ä¼šå¼‚æ­¥å†™å…¥ï¼Œé¿å…å½±å“ä¸»çº¿ç¨‹çš„æ€§èƒ½ã€‚å®ƒé…ç½®äº†ï¼š

Fileï¼šæ—¥å¿—ä¼šå†™å…¥æ–‡ä»¶ã€‚æ—¥å¿—æ–‡ä»¶ä¼šä»¥ Logs/log-.log å‘½åï¼Œå¹¶ä¸”æ—¥å¿—ä¼šæŒ‰å¤©åˆ†å‰²ã€‚

<span class="hljs-symbol">rollingInterval:</span> RollingInterval.Dayï¼šæ¯ä¸€å¤©éƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„æ—¥å¿—æ–‡ä»¶ã€‚

<span class="hljs-symbol">rollOnFileSizeLimit:</span> <span class="hljs-literal">true</span>ï¼šå½“æ–‡ä»¶å¤§å°è¶…è¿‡é™åˆ¶æ—¶ï¼Œæ—¥å¿—ä¼šè‡ªåŠ¨æ»šåŠ¨ï¼ˆå³ç”Ÿæˆæ–°çš„æ–‡ä»¶ï¼‰ã€‚

<span class="hljs-symbol">fileSizeLimitBytes:</span> <span class="hljs-number">1L</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span> / <span class="hljs-number">2</span>ï¼šæ—¥å¿—æ–‡ä»¶çš„æœ€å¤§å¤§å°ä¸º <span class="hljs-number">500</span>MBã€‚

<span class="hljs-symbol">retainedFileCountLimit:</span> <span class="hljs-number">10</span>ï¼šä¿ç•™æœ€è¿‘çš„ <span class="hljs-number">10</span> ä¸ªæ—¥å¿—æ–‡ä»¶ï¼Œåˆ é™¤æ›´æ—©çš„æ–‡ä»¶ã€‚

<span class="hljs-symbol">shared:</span> <span class="hljs-literal">true</span>ï¼šæ–‡ä»¶å¯è¢«å¤šä¸ªè¿›ç¨‹å…±äº«ã€‚

Console è¾“å‡ºï¼ˆä»…åœ¨ Debug æ¨¡å¼ä¸‹ï¼‰ï¼šå¦‚æœæ˜¯ Debug æ¨¡å¼ï¼Œè¿˜ä¼šè¾“å‡ºæ—¥å¿—åˆ°æ§åˆ¶å°ã€‚è¿™æ ·åœ¨è°ƒè¯•æ—¶å¯ä»¥å¿«é€Ÿçœ‹åˆ°æ—¥å¿—ã€‚
</code></pre>
<h4 data-id="heading-13">åˆå§‹åŒ–é…ç½®æ–‡ä»¶</h4>
<blockquote>
<p>src/AppCoreServer.HttpApi.Host/appsettings.json é¡¹ç›®æ ¹é…ç½®æ–‡ä»¶</p>
</blockquote>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"App"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
       <span class="hljs-comment">//å½“å‰æœåŠ¡è‡ªèº«çš„æ ¹ URLï¼Œå¸¸ç”¨äºæœåŠ¡æ³¨å†Œæˆ–è·³è½¬ï¼ˆOpenIddictã€èº«ä»½è®¤è¯ç­‰åœºæ™¯ï¼‰</span>
    <span class="hljs-attr">"SelfUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://localhost:44239"</span><span class="hljs-punctuation">,</span>
      
       <span class="hljs-comment">//å…è®¸å“ªäº›å‰ç«¯åŸŸåè¿›è¡Œè·¨åŸŸè®¿é—®ï¼ˆç”¨é€—å·æˆ–åˆ†å·åˆ†éš”ï¼‰æ”¯æŒé€šé…ç¬¦å¦‚ https://*.xxx.com</span>
    <span class="hljs-attr">"CorsOrigins"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://*.AppCoreServer.com"</span><span class="hljs-punctuation">,</span>
      
      <span class="hljs-comment">//ã€Openiddictæä¾›,æˆæƒç æ¨¡å¼å¤‡æ¡ˆåå•ã€‘ç™»å½•å®Œæˆåå…è®¸è·³è½¬çš„ URL ç™½åå•ï¼ˆé˜²æ­¢é‡å®šå‘æ”»å‡»ï¼‰å¯è®¾ç½®ä¸º https://yourfrontend.com</span>
    <span class="hljs-attr">"RedirectAllowedUrls"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    
    <span class="hljs-comment">//åˆå§‹é…ç½®é“¾æ¥å­—ç¬¦ä¸²,EFcoreé»˜è®¤ä½¿ç”¨Defaultå­—ç¬¦ä¸²</span>
  <span class="hljs-attr">"ConnectionStrings"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"Default"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Server=.;Database=AppCoreServer;uid=sa;pwd=sa;TrustServerCertificate=True"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-comment">//è®¤è¯é…ç½®ï¼Œè§ä¸‹æ–‡OpenIdDictè®¤è¯æˆæƒ</span>
  <span class="hljs-attr">"AuthServer"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"Authority"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://localhost:44239"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"RequireHttpsMetadata"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"SwaggerClientId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AppCoreServer_Swagger"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    
  <span class="hljs-attr">"StringEncryption"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"DefaultPassPhrase"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"WVtuUXdarYDdaFZp"</span><span class="hljs-comment">//ç¼–ç å¯†é’¥ï¼Œç”¨äºä¸€äº›ç¼–ç æœåŠ¡</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<blockquote>
<p>src/AppCoreServer.DbMigrator/appsettings.json é¡¹ç›®è¿ç§»é…ç½®</p>
</blockquote>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-comment">//è¿ç§»åœ°å€</span>
  <span class="hljs-attr">"ConnectionStrings"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
     <span class="hljs-attr">"Default"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Server=.;Database=AppCoreServer;uid=sa;pwd=sa;TrustServerCertificate=True"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    
  <span class="hljs-attr">"Redis"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"Configuration"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"127.0.0.1"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-comment">//OpenIddictè®¤è¯æ¨¡å¼é…ç½®</span>
  <span class="hljs-attr">"OpenIddict"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"Applications"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"AppCoreServer_Web"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"ClientId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AppCoreServer_Web"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"ClientSecret"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1q2w3e*"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"RootUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://localhost:44320"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"AppCoreServer_App"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"ClientId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AppCoreServer_App"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"RootUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"http://localhost:4200"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"AppCoreServer_BlazorServerTiered"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"ClientId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AppCoreServer_BlazorServerTiered"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"ClientSecret"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1q2w3e*"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"RootUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://localhost:44345"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"AppCoreServer_BlazorWebAppTiered"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"ClientId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AppCoreServer_BlazorWebAppTiered"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"ClientSecret"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1q2w3e*"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"RootUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://localhost:44345"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"AppCoreServer_Swagger"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"ClientId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AppCoreServer_Swagger"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"RootUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://localhost:44355"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<blockquote>
<p>launchSettings.json</p>
</blockquote>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">//aspnet-core\src\AppCoreServer.HttpApi.Host\Properties\launchSettings.json</span>
è¿è¡Œé…ç½®æ–‡ä»¶<span class="hljs-punctuation">,</span>ç”¨äºå¼€å‘æ—¶çš„ç«¯å£ç›‘å¬é…ç½®<span class="hljs-punctuation">,</span>å¸¸ç”¨äºç¼–è¾‘å™¨é…ç½®å¯åŠ¨ç¼–è¯‘<span class="hljs-punctuation">,</span>éƒ¨ç½²æ—¶å¿½ç•¥.

 <span class="hljs-attr">"applicationUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://localhost:44239"</span><span class="hljs-comment">//åœ°å€è·ŸApp:SelfUrlä¿æŒä¸€è‡´</span>
</code></pre>























<table><thead><tr><th>å¯åŠ¨æ–¹å¼</th><th>ä½¿ç”¨é…ç½®</th><th>åº•å±‚å®¿ä¸»</th><th>å¯åŠ¨è¡Œä¸º</th></tr></thead><tbody><tr><td><code>IIS Express</code></td><td><code>iisExpress.applicationUrl</code></td><td><strong>IIS Express è¿›ç¨‹ (<code>iisexpress.exe</code>)</strong></td><td>é€šè¿‡ VS æˆ–å‘½ä»¤è°ƒç”¨ <code>iisexpress.exe</code> å¯åŠ¨é¡¹ç›®ï¼Œä¸æ˜¯ç”¨ <code>dotnet run</code></td></tr><tr><td><code>Kestrel</code>ï¼ˆdotnet runï¼‰</td><td><code>applicationUrl</code></td><td><strong>Kestrel æœåŠ¡å™¨ (<code>dotnet</code>)</strong></td><td>ä½¿ç”¨ <code>dotnet run</code> å¯åŠ¨ç¨‹åºï¼Œå³è°ƒç”¨ <code>.dll</code> æ–‡ä»¶è¿è¡Œ</td></tr></tbody></table>
<h3 data-id="heading-14">2.2 React</h3>
<h4 data-id="heading-15">ğŸŒˆè°ƒæ•´ï¼š</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">//æ–°å»ºsrc/view/Appç›®å½•</span>
	
view/App
â”œâ”€â”€App.tsx
â””â”€â”€App.css



<span class="hljs-comment">//ä¿®æ”¹App.tsx:</span>
const App<span class="hljs-punctuation">:</span> React.FC = () =&gt; <span class="hljs-punctuation">{</span>
    return(
        &lt;StrictMode&gt;
      
        &lt;/StrictMode&gt;
    )
<span class="hljs-punctuation">}</span>


<span class="hljs-comment">//ä¿®æ”¹main.tsx:</span>
createRoot(document.getElementById('root')!).render(
    &lt;App/&gt;
)


<span class="hljs-comment">//å¦‚ä¸Šï¼Œmain.tsxä½œä¸ºæ ¹ç›®å½•å…¥å£æ–‡ä»¶ï¼ŒApp.tsxä½œä¸ºå…¨å±€é…ç½®æ¥æ•´ç†é¡¹ç›®</span>
</code></pre>
<blockquote>
<p>StrictMode:</p>
</blockquote>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-operator">&lt;</span><span class="hljs-type">StrictMode</span><span class="hljs-operator">&gt;</span> æ˜¯ <span class="hljs-type">React</span> æä¾›çš„ä¸€ç§å·¥å…·ï¼Œç”¨æ¥æ£€æµ‹åº”ç”¨ä¸­çš„æ½œåœ¨é—®é¢˜<span class="hljs-operator">ã€‚</span>å®ƒä¸ä¼šæ¸²æŸ“ä»»ä½•å¯è§çš„ <span class="hljs-type">UIï¼Œåªæ˜¯å¯¹å…¶å­ç»„ä»¶æ‰§è¡Œé¢å¤–çš„æ£€æŸ¥å’Œè­¦å‘Šï¼Œå¸®åŠ©å¼€å‘è€…ç¼–å†™æ›´å¥å£®çš„ä»£ç </span><span class="hljs-operator">ã€‚</span>

ä¸»è¦åŠŸèƒ½
æ£€æµ‹åºŸå¼ƒçš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼šä¾‹å¦‚ componentWillMount<span class="hljs-operator">ã€</span>componentWillReceiveProps<span class="hljs-operator">ã€‚</span>
è¯†åˆ«ä¸å®‰å…¨çš„æ“ä½œï¼šæ¯”å¦‚ findDOMNode çš„ä½¿ç”¨<span class="hljs-operator">ã€‚</span>
æ£€æŸ¥æ„å¤–çš„å‰¯ä½œç”¨ï¼š<span class="hljs-type">React</span> ä¼šåœ¨å¼€å‘ç¯å¢ƒä¸‹å¯¹ç»„ä»¶çš„ render å’Œ useEffect ç­‰è¿›è¡Œä¸¤æ¬¡è°ƒç”¨ï¼Œä»¥å¸®åŠ©è¯†åˆ«æ½œåœ¨çš„å‰¯ä½œç”¨<span class="hljs-operator">ã€‚</span>
å¼ºåˆ¶æ›´ä¸¥æ ¼çš„æ¨¡å¼ï¼šæé†’å¼€å‘è€…é‡‡ç”¨ <span class="hljs-type">React</span> æ¨èçš„æœ€ä½³å®è·µ<span class="hljs-operator">ã€‚</span>
</code></pre>
<h2 data-id="heading-16">3.åŸºç¡€æ„å»º</h2>
<h3 data-id="heading-17">3.1 åç«¯è·¨åŸŸ</h3>
<h4 data-id="heading-18">ğŸŒˆæ“ä½œ</h4>
<pre><code class="hljs language-c#" lang="c#">   <span class="hljs-string">"App"</span>: {
    <span class="hljs-string">"SelfUrl"</span>: <span class="hljs-string">"https://localhost:55555"</span>,
    <span class="hljs-string">"CorsOrigins"</span>: <span class="hljs-string">"https://*.ServerApp.com"</span>
        
 	<span class="hljs-comment">//æ·»åŠ äº†å…è®¸å…¨éƒ¨</span>
	<span class="hljs-string">"AllowAnyOrigin"</span>: <span class="hljs-string">"true"</span>
  },
 
 context.Services.AddCors(options =&gt;
        {
            options.AddDefaultPolicy(builder =&gt;
            {
                builder
                    .WithAbpExposedHeaders()
                    .SetIsOriginAllowedToAllowWildcardSubdomains()
                    .AllowAnyHeader()
                    .AllowAnyMethod().AllowCredentials().WithExposedHeaders(<span class="hljs-string">"x-elsa-workflow-instance-id"</span>);

                <span class="hljs-keyword">if</span> (<span class="hljs-built_in">bool</span>.Parse(configuration[<span class="hljs-string">"App:AllowAnyOrigin"</span>] ?? <span class="hljs-string">"false"</span>))
                {
                    <span class="hljs-comment">//å…è®¸å…¨éƒ¨</span>
                    builder.SetIsOriginAllowed(_ =&gt; <span class="hljs-literal">true</span>);
                }
                <span class="hljs-keyword">else</span>
                {
                    <span class="hljs-comment">//å¦åˆ™æŒ‰ç…§CorsOriginså…è®¸çš„æ¥</span>
                    builder
                        .WithOrigins(
                            (configuration[<span class="hljs-string">"App:CorsOrigins"</span>] ?? <span class="hljs-string">""</span>)
                            .Split(<span class="hljs-string">","</span>, StringSplitOptions.RemoveEmptyEntries)
                            .Select(o =&gt; o.RemovePostFix(<span class="hljs-string">"/"</span>))
                            .ToArray()
                        );
                }
            });
        });
</code></pre>
<h3 data-id="heading-19">3.2 OpenIddictæˆæƒè®¤è¯</h3>
<h4 data-id="heading-20">é…ç½®å®¢æˆ·ç«¯</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">//aspnet-core\src\AppCoreServer.DbMigrator\appsettings.json è¿ç§»æ–‡ä»¶é…ç½®</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"ConnectionStrings"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"Default"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Server=.;Database=AppCoreServer;uid=sa;pwd=sa;TrustServerCertificate=True"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"OpenIddict"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"Applications"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"AppCoreServer_Swagger"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"ClientId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AppCoreServer_Swagger"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"RootUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://localhost:55319"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-comment">//æ–°å¢APPå†…éƒ¨å®¢æˆ·ç«¯,ä½¿ç”¨å¯†ç æ¨¡å¼</span>
        <span class="hljs-attr">"AppCoreServer_App"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"ClientId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AppCoreServer_App"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"ClientSecret"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1q2w3E*"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-comment">//æ–°å¢ç¬¬ä¸‰æ–¹è®¿é—®å®¢æˆ·ç«¯,ä½¿ç”¨æˆæƒç æ¨¡å¼</span>
      <span class="hljs-attr">"AppCoreServer_ExternalSystems"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"ClientId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AppCoreServer_ExternalSystems"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"ClientSecret"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ExternalSystems_API"</span>
      <span class="hljs-punctuation">}</span>
      
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-21">åˆ›å»ºå®¢æˆ·ç«¯</h4>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-keyword">namespace</span> <span class="hljs-title">AppCoreServer.OpenIddict</span>;

<span class="hljs-comment">/* Creates initial data that is needed to property run the application
 * and make client-to-server communication possible.
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">OpenIddictDataSeedContributor</span> : <span class="hljs-title">IDataSeedContributor</span>, <span class="hljs-title">ITransientDependency</span>
{
   <span class="hljs-comment">//...çœç•¥</span>

    [<span class="hljs-meta">UnitOfWork</span>]
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">SeedAsync</span>(<span class="hljs-params">DataSeedContext context</span>)</span>
    {
        <span class="hljs-keyword">await</span> CreateScopesAsync();
        <span class="hljs-keyword">await</span> CreateApplicationsAsync();
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">CreateScopesAsync</span>()</span>
    {
        <span class="hljs-comment">//æ¡†æ¶é»˜è®¤åˆ›å»º</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">await</span> _openIddictScopeRepository.FindByNameAsync(<span class="hljs-string">"AppCoreServer"</span>) == <span class="hljs-literal">null</span>)
        {
            <span class="hljs-keyword">await</span> _scopeManager.CreateAsync(<span class="hljs-keyword">new</span> OpenIddictScopeDescriptor {
                Name = <span class="hljs-string">"AppCoreServer"</span>, DisplayName = <span class="hljs-string">"AppCoreServer API"</span>, Resources = { <span class="hljs-string">"AppCoreServer"</span> }
            });
        }
        
        <span class="hljs-comment">//åˆ›å»ºç¬¬ä¸‰æ–¹è®¿é—®å®¢æˆ·ç«¯</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">await</span> _openIddictScopeRepository.FindByNameAsync(<span class="hljs-string">"ExternalSystems"</span>) == <span class="hljs-literal">null</span>)
        {
            <span class="hljs-keyword">await</span> _scopeManager.CreateAsync(<span class="hljs-keyword">new</span> OpenIddictScopeDescriptor {
                Name = <span class="hljs-string">"ExternalSystems"</span>, DisplayName = <span class="hljs-string">"ExternalSystems API"</span>, Resources = { <span class="hljs-string">"ExternalSystems"</span> }
            });
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">CreateApplicationsAsync</span>()</span>
    {
        
     <span class="hljs-comment">// âœ… é€šç”¨ Scopeï¼ˆæ‰€æœ‰å®¢æˆ·ç«¯éƒ½èƒ½ç”¨çš„ï¼‰</span>
    <span class="hljs-keyword">var</span> commonScopes = <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt;
    {
        OpenIddictConstants.Permissions.Scopes.Address,
        OpenIddictConstants.Permissions. Scopes.Email,
        OpenIddictConstants.Permissions. Scopes.Phone,
        OpenIddictConstants.Permissions.Scopes.Profile,
        OpenIddictConstants. Permissions.Scopes.Roles,
        <span class="hljs-string">"AppCoreServer"</span>,  <span class="hljs-comment">// ä¸» API çš„ Scope</span>
        <span class="hljs-string">"ExternalSystems"</span>
    };

    <span class="hljs-keyword">var</span> configurationSection = _configuration.GetSection(<span class="hljs-string">"OpenIddict:Applications"</span>);

    <span class="hljs-comment">// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</span>
    <span class="hljs-comment">// 1ï¸âƒ£ Swagger å®¢æˆ·ç«¯ï¼ˆå…¬å…±å®¢æˆ·ç«¯ + æˆæƒç æ¨¡å¼ï¼‰</span>
    <span class="hljs-comment">// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</span>
    <span class="hljs-keyword">var</span> swaggerClientId = configurationSection[<span class="hljs-string">"AppCoreServer_Swagger: ClientId"</span>];
    <span class="hljs-keyword">if</span> (!swaggerClientId.IsNullOrWhiteSpace())
    {
        <span class="hljs-keyword">var</span> swaggerRootUrl = configurationSection[<span class="hljs-string">"AppCoreServer_Swagger:RootUrl"</span>]?.TrimEnd(<span class="hljs-string">'/'</span>);

        <span class="hljs-keyword">await</span> CreateApplicationAsync(
            name: swaggerClientId!,
            type: OpenIddictConstants.ClientTypes.Public,  <span class="hljs-comment">// âœ… å…¬å…±å®¢æˆ·ç«¯</span>
            consentType: OpenIddictConstants.ConsentTypes.Implicit,  <span class="hljs-comment">// âœ… è‡ªåŠ¨åŒæ„</span>
            displayName: <span class="hljs-string">"Swagger Application"</span>,
            secret: <span class="hljs-literal">null</span>,  <span class="hljs-comment">// âœ… å…¬å…±å®¢æˆ·ç«¯ä¸éœ€è¦ Secret</span>
            grantTypes: <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt;
            {
                OpenIddictConstants.GrantTypes.AuthorizationCode  <span class="hljs-comment">// âœ… æˆæƒç æ¨¡å¼</span>
            },
            scopes: commonScopes,
            redirectUri: <span class="hljs-string">$"<span class="hljs-subst">{swaggerRootUrl}</span>/swagger/oauth2-redirect.html"</span>,
            clientUri: swaggerRootUrl
        );
    }

    <span class="hljs-comment">// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</span>
    <span class="hljs-comment">// 2ï¸âƒ£ App å®¢æˆ·ç«¯ï¼ˆå†…éƒ¨ç½‘é¡µ/ç§»åŠ¨ç«¯ + å¯†ç æ¨¡å¼ï¼‰</span>
    <span class="hljs-comment">// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</span>
    <span class="hljs-keyword">var</span> appClientId = configurationSection[<span class="hljs-string">"AppCoreServer_App:ClientId"</span>];
    <span class="hljs-keyword">if</span> (!appClientId. IsNullOrWhiteSpace())
    {
        <span class="hljs-keyword">var</span> appClientSecret = configurationSection[<span class="hljs-string">"AppCoreServer_App:ClientSecret"</span>];  <span class="hljs-comment">// âœ… ä»é…ç½®è¯»å– Secret</span>

        <span class="hljs-keyword">await</span> CreateApplicationAsync(
            name: appClientId!,
            type: OpenIddictConstants.ClientTypes. Public,
            consentType:  OpenIddictConstants.ConsentTypes.Implicit,  <span class="hljs-comment">// âœ… è‡ªåŠ¨åŒæ„ï¼ˆå†…éƒ¨ç³»ç»Ÿï¼‰</span>
            displayName: <span class="hljs-string">"App Application"</span>,
            secret: <span class="hljs-literal">null</span>,
            grantTypes: <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt;
            {
                OpenIddictConstants.GrantTypes.Password,  <span class="hljs-comment">// âœ… å¯†ç æ¨¡å¼</span>
                OpenIddictConstants.GrantTypes.RefreshToken  <span class="hljs-comment">// âœ… æ”¯æŒåˆ·æ–°ä»¤ç‰Œ</span>
            },
            scopes: commonScopes,
            redirectUri: <span class="hljs-literal">null</span>, 
            clientUri: <span class="hljs-literal">null</span>
        );
    }

    <span class="hljs-comment">// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</span>
    <span class="hljs-comment">// 3ï¸âƒ£ ç¬¬ä¸‰æ–¹ç³»ç»Ÿå®¢æˆ·ç«¯ï¼ˆæœºå¯†å®¢æˆ·ç«¯ + å®¢æˆ·ç«¯å‡­è¯æ¨¡å¼ï¼‰</span>
    <span class="hljs-comment">// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</span>
    <span class="hljs-keyword">var</span> externalSystemsClientId = configurationSection[<span class="hljs-string">"AppCoreServer_ExternalSystems:ClientId"</span>];
    <span class="hljs-keyword">if</span> (!externalSystemsClientId.IsNullOrWhiteSpace())
    {
        <span class="hljs-keyword">var</span> externalSystemsSecret = configurationSection[<span class="hljs-string">"AppCoreServer_ExternalSystems:ClientSecret"</span>];  <span class="hljs-comment">// âœ… è¯»å– Secret</span>

        <span class="hljs-comment">// âœ… ç¬¬ä¸‰æ–¹ç³»ç»Ÿä¸“ç”¨ Scope</span>
        <span class="hljs-keyword">var</span> externalScopes = <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt;
        {
            <span class="hljs-string">"ExternalSystems"</span>  <span class="hljs-comment">// âœ… åªèƒ½è®¿é—®å¤–éƒ¨ç³»ç»Ÿ API</span>
        };
        <span class="hljs-keyword">await</span> CreateApplicationAsync(
            name: externalSystemsClientId!,
            type: OpenIddictConstants.ClientTypes.Confidential,  <span class="hljs-comment">// âœ… æœºå¯†å®¢æˆ·ç«¯</span>
            consentType: OpenIddictConstants. ConsentTypes.Implicit,  <span class="hljs-comment">// âœ… ä¸éœ€è¦ç”¨æˆ·ç¡®è®¤</span>
            displayName: <span class="hljs-string">"External Systems Application"</span>, 
            secret:  externalSystemsSecret,  <span class="hljs-comment">// âœ… å¿…é¡»é…ç½® Secret</span>
            grantTypes: <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt;
            {
                OpenIddictConstants.GrantTypes.ClientCredentials  <span class="hljs-comment">// âœ… å®¢æˆ·ç«¯å‡­è¯æ¨¡å¼ï¼ˆæ¨èï¼‰</span>
            },
            scopes: externalScopes, 
            redirectUri: <span class="hljs-literal">null</span>, 
            clientUri: <span class="hljs-literal">null</span>
        );
    }
        
    }
}

</code></pre>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">SeedAsync</span>(<span class="hljs-params">DataSeedContext context</span>)</span>
{
    <span class="hljs-keyword">await</span> CreateScopesAsync();
    <span class="hljs-keyword">await</span> CreateApplicationsAsync();

    <span class="hljs-comment">//ä¸»åŠ¨ç»™adminè§’è‰²æ·»åŠ å…¨éƒ¨æƒé™</span>
    <span class="hljs-keyword">var</span> allPermissions =(<span class="hljs-keyword">await</span> _permissionDefinitionManager.GetPermissionsAsync()).Select(p =&gt; p.Name);
    <span class="hljs-keyword">await</span> _permissionDataSeeder.SeedAsync(<span class="hljs-string">"R"</span>,<span class="hljs-string">"admin"</span>,allPermissions);
}
</code></pre>
<h4 data-id="heading-22">æ‰§è¡Œè¿ç§»</h4>
<p>OpenIddict ä½¿ç”¨ 4 å¼ æ ¸å¿ƒè¡¨ï¼š</p>






























<table><thead><tr><th>è¡¨å</th><th>ä½œç”¨</th><th>ä¸»è¦å­—æ®µ</th></tr></thead><tbody><tr><td><strong>OpenIddictApplications</strong></td><td>å­˜å‚¨å®¢æˆ·ç«¯åº”ç”¨é…ç½®</td><td>ClientId, ClientSecret, Type, Permissions</td></tr><tr><td><strong>OpenIddictScopes</strong></td><td>å®šä¹‰æƒé™èŒƒå›´</td><td>Name, DisplayName, Resources</td></tr><tr><td><strong>OpenIddictAuthorizations</strong></td><td>è®°å½•ç”¨æˆ·æˆæƒ</td><td>Subjectï¼ˆç”¨æˆ·IDï¼‰, ApplicationId, Scopes</td></tr><tr><td><strong>OpenIddictTokens</strong></td><td>å­˜å‚¨ Token</td><td>Type, Payload, ExpirationDate</td></tr></tbody></table>
<p><strong>è¡¨å…³ç³»</strong>ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">OpenIddictApplicationsï¼ˆå®¢æˆ·ç«¯ï¼‰
<span class="hljs-code">    â†“ 1: N
OpenIddictAuthorizationsï¼ˆæˆæƒè®°å½•ï¼‰
    â†“ 1:N
OpenIddictTokensï¼ˆTokenï¼‰
</span>
OpenIddictScopesï¼ˆç‹¬ç«‹ï¼Œå®šä¹‰å¯ç”¨çš„ Scopeï¼‰
</code></pre>
<h4 data-id="heading-23">ä¿®æ”¹Tokenç”Ÿæ•ˆæ—¶é—´</h4>
<pre><code class="hljs language-c#" lang="c#">  <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ConfigureAuthentication</span>(<span class="hljs-params">ServiceConfigurationContext context</span>)</span>
    {
        context.Services.ForwardIdentityAuthenticationForBearer(OpenIddictValidationAspNetCoreDefaults.AuthenticationScheme);
        context.Services.Configure&lt;AbpClaimsPrincipalFactoryOptions&gt;(options =&gt;
        {
            options.IsDynamicClaimsEnabled = <span class="hljs-literal">true</span>;
        });

      	<span class="hljs-comment">//AddOpenIddictçš„é…ç½®</span>
        context.Services.AddOpenIddict().AddServer(options =&gt;
        {
            <span class="hljs-comment">// â±ï¸ Token ç”Ÿå‘½å‘¨æœŸé…ç½®,12ä¸ªå°æ—¶</span>
            options.SetAccessTokenLifetime(TimeSpan.FromHours(<span class="hljs-number">12</span>));
        });
    }
</code></pre>
<h4 data-id="heading-24">åˆ›å»ºæƒé™</h4>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-comment">//aspnet-core\src\AppCoreServer.Application.Contracts\Permissions</span>
<span class="hljs-comment">// æƒé™å®šä¹‰æä¾›è€…ï¼Œç”¨äºå®šä¹‰æ¨¡å—çš„æƒé™ç»“æ„</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">AppCoreServerPermissionDefinitionProvider</span> : <span class="hljs-title">PermissionDefinitionProvider</span>
{
    <span class="hljs-comment">// é‡å†™ Define æ–¹æ³•ï¼Œåœ¨å…¶ä¸­å®šä¹‰ä½ çš„æƒé™ç»“æ„</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Define</span>(<span class="hljs-params">IPermissionDefinitionContext context</span>)</span>
    {
        <span class="hljs-comment">// æ·»åŠ æƒé™ç»„ï¼ˆç”¨äºå½’ç±»æƒé™ï¼‰ï¼Œç»„åä¸º "frame"</span>
        <span class="hljs-keyword">var</span> myGroup = context.AddGroup(AppCoreServerPermissions.GroupName);

        <span class="hljs-comment">// åœ¨æƒé™ç»„ä¸­æ·»åŠ ä¸€ä¸ªæƒé™ï¼Œæƒé™åä¸º "AppCoreServer.MyPermission1"ï¼Œæ˜¾ç¤ºåç§°ä¸ºâ€œæµ‹è¯•æƒé™â€</span>
        myGroup.AddPermission(AppCoreServerPermissions.MyPermission1, L(<span class="hljs-string">"æµ‹è¯•æƒé™"</span>));
    }

    <span class="hljs-comment">// æœ¬åœ°åŒ–æ–¹æ³•ï¼Œå°†å­—ç¬¦ä¸²åŒ…è£…æˆ LocalizableStringï¼Œç”¨äºå¤šè¯­è¨€æ”¯æŒ</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> LocalizableString <span class="hljs-title">L</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> name</span>)</span>
    {
        <span class="hljs-keyword">return</span> LocalizableString.Create&lt;frameResource&gt;(name);
        <span class="hljs-comment">// frameResource æ˜¯ä½ æ¨¡å—çš„èµ„æºç±»ï¼Œç”¨äºå¤šè¯­è¨€æœ¬åœ°åŒ–</span>
    }
}
</code></pre>
<h4 data-id="heading-25">æ·»åŠ æƒé™</h4>
<pre><code class="hljs language-c#" lang="c#">[<span class="hljs-meta">Authorize(framePermissions.MyPermission1)</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">GetInventory</span>()</span>
{
    <span class="hljs-keyword">await</span> _InventoryRepository.getby();
}


æ­¤æ—¶å¯ä»¥æµ‹è¯•ä¸€ä¸‹swagger Uiï¼Œè¿è¡ŒåæŠ¥é”™<span class="hljs-number">401</span>ï¼Œæ²¡æœ‰ç™»å½•ï¼Œç„¶åæ­¤æ—¶å¯ä»¥åœ¨å³ä¸Šè§’Authorizæ˜¯è§£é”çŠ¶æ€ï¼Œä»¥frame_Swaggerå®¢æˆ·ç«¯ç™»å½•ï¼Œ
client_secret:ä¸ç”¨è¾“å…¥ï¼Œå¦‚æœè¾“å…¥åŒ¹é…ä¸äº†ï¼Œå³ä½¿è¾“å…¥äº†ç™»å½•è´¦æˆ·adminå¯†ç <span class="hljs-number">1</span>q2w3E*ä¹Ÿæ˜¯é”™è¯¯ã€‚ç™»å½•æˆåŠŸå,Authorizæ˜¯é”çŠ¶æ€,å³å¯è®¿é—®æƒé™æ¥å£ã€‚
</code></pre>
<h4 data-id="heading-26">ç”¨æˆ·å¯†ç ç™»å½•</h4>
<p>postmanä¸­å‚æ•°è¦ä½¿ç”¨x-www-form-urlencodedå¡«å†™</p>
<pre><code class="hljs language-shell" lang="shell">curl --location --request POST 'https://localhost:55319/connect/token' \
--header 'User-Agent: Apifox/1.0.0 (https://apifox.com)' \
--header 'Content-Type: application/x-www-form-urlencoded' \
--header 'Accept: */*' \
--header 'Host: localhost:55319' \
--header 'Connection: keep-alive' \
--data-urlencode 'grant_type=password' \
--data-urlencode 'client_id=AppCoreServer_App' \
--data-urlencode 'scope=AppCoreServer' \
--data-urlencode 'username=admin' \
--data-urlencode 'password=1q2w3E*'
</code></pre>
<p>å“åº”</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"access_token"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"eyJhbGciOiJSUzI1N...."</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"token_type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Bearer"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"expires_in"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">43199</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-27">æœåŠ¡ç«¯å‡­è¯ç™»å½•</h4>
<pre><code class="hljs language-ini" lang="ini">POST /connect/token
Content-Type:  application/x-www-form-urlencoded

<span class="hljs-attr">grant_type</span>=client_credentials
&amp;<span class="hljs-attr">client_id</span>=AppCoreServer_ExternalSystems
&amp;<span class="hljs-attr">client_secret</span>=ExternalSystems_API
&amp;<span class="hljs-attr">scope</span>=ExternalSystems
</code></pre>
<h4 data-id="heading-28">é˜²ä¼ªä»¤ç‰Œ</h4>
<pre><code class="hljs language-css" lang="css">é—®é¢˜ <span class="hljs-number">1</span>ï¼šABP <span class="hljs-number">9.0</span> å¼€å§‹å¼ºéªŒè¯äº†å—ï¼Ÿ
ç­”ï¼šæ˜¯çš„ï¼ ABP <span class="hljs-number">9.0</span> é»˜è®¤å¼ºåˆ¶éªŒè¯é˜²ä¼ªä»¤ç‰Œï¼Œè¿™æ˜¯å®‰å…¨æ€§å¢å¼ºçš„é‡å¤§å˜æ›´ã€‚

é—®é¢˜ <span class="hljs-number">2</span>ï¼šæ˜¯å¦åªæ¥å— RequestVerificationToken å­—æ®µï¼Ÿ
ç­”ï¼šæ˜¯çš„ï¼ ABP é»˜è®¤åªæ¥å— RequestVerificationToken ä½œä¸º <span class="hljs-selector-tag">Header</span> åç§°ï¼Œx-xsrf-token æ˜¯ä¸è¢«è¯†åˆ«çš„ã€‚

è§£å†³æ–¹æ¡ˆ
æŠŠå‰ç«¯çš„ x-xsrf-token æ”¹æˆ RequestVerificationToken å³å¯ï¼
</code></pre>
<p>åç«¯ç¦ç”¨é˜²ä¼ªä»¤ç‰ŒéªŒè¯</p>
<pre><code class="hljs language-c#" lang="c#">æ³¨å†Œåˆ°æœåŠ¡è¿è¡Œæ—¶ä¸­
<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ConfigureAntiForgery</span>(<span class="hljs-params">ServiceConfigurationContext context</span>)</span>
{
    context.Services.Configure&lt;AbpAntiForgeryOptions&gt;(options =&gt; { options.AutoValidate = <span class="hljs-literal">false</span>; });
}
</code></pre>
<h3 data-id="heading-29">3.3 å‰ç«¯Viteä»£ç†+Axioså°è£…</h3>
<h4 data-id="heading-30">ğŸŒˆé…ç½®Vite</h4>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [<span class="hljs-title function_">react</span>()],
  <span class="hljs-attr">server</span>: {
  	<span class="hljs-attr">port</span>: <span class="hljs-number">5173</span>, <span class="hljs-comment">// è®¾ç½®å¼€å‘æœåŠ¡å™¨çš„ç«¯å£ä¸º 5173</span>
    <span class="hljs-attr">cors</span>:<span class="hljs-literal">true</span>,
    <span class="hljs-attr">proxy</span>: {
      <span class="hljs-comment">//urlå…³é”®å­—</span>
      <span class="hljs-string">'/api'</span>: {
  		<span class="hljs-attr">target</span>: <span class="hljs-string">"https://localhost:55555/"</span>,  
        <span class="hljs-comment">//æ˜¯å¦è·¨åŸŸ</span>
        <span class="hljs-attr">changeOrigin</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-comment">//ã€æ³¨æ„ï¼šå½“æŒ‡å®šçš„ç›®æ ‡åœ°å€æ˜¯httpsçš„æ—¶å€™ä¸€å®šè¦æ·»åŠ ä¸Šè¯¥é…ç½®ï¼Œå¦‚æœæ˜¯httpåˆ™ä¸éœ€è¦ï¼Œ</span>
        <span class="hljs-comment">//ä¸ç„¶è¯·æ±‚ä¼šä¸€ç›´æŠ¥é”™500ä¸”è°ƒè¯•å‰ç«¯ä¼šæç¤º http proxy error: Error: self signed certificate in certificate chain vite ä»£ç†æŠ¥é”™ã€‘</span>
        <span class="hljs-attr">secure</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// å¦‚æœæ˜¯httpsæ¥å£ï¼Œéœ€è¦é…ç½®è¿™ä¸ªå‚æ•°,ç¦ç”¨ SSL æ ¡éªŒï¼Œé€‚ç”¨äº HTTPS çš„æœ¬åœ°å¼€å‘ç¯å¢ƒ</span>
        <span class="hljs-attr">ws</span>: <span class="hljs-literal">true</span>,  <span class="hljs-comment">// å…è®¸websocketä»£ç†</span>
        <span class="hljs-comment">// é‡å†™é…ç½®ï¼šå¯ä»¥å°†è¯·æ±‚urlé‡å†™  ï¼Œä»¥ä¸‹æ„æ€æ˜¯å°†'/api/app/station'è¿›è¡Œé‡å†™ï¼Œç•™ç€apiåŠ ä¸Šç½‘å€=ã€‹</span>
        <span class="hljs-attr">rewrite</span>: <span class="hljs-function">(<span class="hljs-params">path</span>) =&gt;</span> path.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/^\/api/</span>, <span class="hljs-string">'/api'</span>),
      }
    },
  },
})


<span class="hljs-attr">target</span>: <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_BASE_URL</span> 
è¿™æ ·çš„å†™æ³•ç›®å‰åœ¨configä¸­è¯»å–ç¯å¢ƒå˜é‡æ˜¯å¤±è´¥çš„
è¯¦æƒ…å¯è§<span class="hljs-attr">https</span>:<span class="hljs-comment">//cn.vite.dev</span>
</code></pre>
<h4 data-id="heading-31">ğŸŒˆAxioså°è£…</h4>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> axios, {<span class="hljs-title class_">AxiosRequestConfig</span>, <span class="hljs-title class_">AxiosResponse</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"axios"</span>;
<span class="hljs-keyword">import</span> {stringify} <span class="hljs-keyword">from</span> <span class="hljs-string">"qs"</span>;  
<span class="hljs-comment">//npm install qs</span>
<span class="hljs-comment">//npm install --save-dev @types/qs</span>

<span class="hljs-comment">// å®šä¹‰ API å“åº”æ•°æ®ç»“æ„çš„æ¥å£</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">ResponseData</span> {
    errorMessage?: <span class="hljs-built_in">string</span>;
    [<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">unknown</span>;  <span class="hljs-comment">// å¯ä»¥æ ¹æ®å®é™…éœ€è¦è¿›è¡Œæ‰©å±•</span>
}

<span class="hljs-comment">// å®šä¹‰è¯·æ±‚é…ç½®æ¥å£</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">RequestConfig</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AxiosRequestConfig</span> {
    requestType?: <span class="hljs-string">"form"</span> | <span class="hljs-string">"json"</span>;  <span class="hljs-comment">// å®šä¹‰è¯·æ±‚ç±»å‹</span>
}

<span class="hljs-keyword">const</span> instance = axios.<span class="hljs-title function_">create</span>({
    <span class="hljs-attr">baseURL</span>: <span class="hljs-title function_">getBaseURL</span>(),
    <span class="hljs-comment">// timeout: 3000,</span>
    <span class="hljs-attr">headers</span>: {
        <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/json"</span>
    }
});


<span class="hljs-comment">// è¯·æ±‚æ‹¦æˆª</span>
instance.<span class="hljs-property">interceptors</span>.<span class="hljs-property">request</span>.<span class="hljs-title function_">use</span>(
    <span class="hljs-function">(<span class="hljs-params">config</span>) =&gt;</span> {
        <span class="hljs-comment">// æ ¹æ® requestType è®¾ç½®è¯·æ±‚å¤´æˆ–å¯¹æ•°æ®è¿›è¡Œè½¬æ¢</span>
        <span class="hljs-keyword">if</span> ((config <span class="hljs-keyword">as</span> <span class="hljs-title class_">RequestConfig</span>).<span class="hljs-property">requestType</span> === <span class="hljs-string">"form"</span>) {
            config.<span class="hljs-property">headers</span>[<span class="hljs-string">"Content-Type"</span>] = <span class="hljs-string">"application/x-www-form-urlencoded;charset=UTF-8"</span>;
            config.<span class="hljs-property">data</span> = <span class="hljs-title function_">stringify</span>(config.<span class="hljs-property">data</span>); <span class="hljs-comment">// åºåˆ—åŒ–ä¸ºè¡¨å•æ•°æ®</span>
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((config <span class="hljs-keyword">as</span> <span class="hljs-title class_">RequestConfig</span>).<span class="hljs-property">requestType</span> === <span class="hljs-string">"json"</span>) {
            config.<span class="hljs-property">headers</span>[<span class="hljs-string">"Content-Type"</span>] = <span class="hljs-string">"application/json"</span>;
        }
        <span class="hljs-keyword">return</span> config;
    },
    <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
        <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">alert</span>(err.<span class="hljs-property">message</span> || <span class="hljs-string">"è¯·æ±‚é”™è¯¯"</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(err);
    }
);

<span class="hljs-comment">// å“åº”æ‹¦æˆª</span>
instance.<span class="hljs-property">interceptors</span>.<span class="hljs-property">response</span>.<span class="hljs-title function_">use</span>(
    <span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> response,
    <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> errorMessage = <span class="hljs-title function_">getErrorMessage</span>(err.<span class="hljs-property">response</span>);
        <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">alert</span>(errorMessage || err.<span class="hljs-property">message</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(err); <span class="hljs-comment">// ä¿è¯é”™è¯¯è¢«ä¸šåŠ¡æ•è·</span>
    }
);



<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> request&lt;T = <span class="hljs-title class_">ResponseData</span>&gt;(
    <span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>,
    <span class="hljs-attr">param</span>: <span class="hljs-title class_">RequestConfig</span> = {}
): <span class="hljs-title class_">Promise</span>&lt;T&gt; {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> instance&lt;T&gt;(url, {...param});
    <span class="hljs-keyword">return</span> response.<span class="hljs-property">data</span>;
}



<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">getErrorMessage</span> = (<span class="hljs-params">response: AxiosResponse | <span class="hljs-literal">undefined</span></span>) =&gt; {
    <span class="hljs-comment">//æ³¨æ„,å½“ä½¿ç”¨Viteä»£ç†æ—¶,responseä¸æ˜¯null,å› ä¸ºviteä»£ç†ä¼šæŠ›é”™500å‡ºæ¥</span>
    <span class="hljs-comment">//ä»£ç†æœºåˆ¶ï¼šVite ä½¿ç”¨ Node.js çš„ http-proxy æˆ–ç±»ä¼¼åº“è½¬å‘è¯·æ±‚ã€‚å¦‚æœç›®æ ‡æœåŠ¡å™¨ï¼ˆhttps://localhost:55319/ï¼‰ä¸å¯è¾¾ï¼Œä»£ç†ä¼šæ•è·é”™è¯¯å¹¶è¿”å› HTTP å“åº”ï¼ˆe.g., 500ï¼‰ï¼Œè€Œä¸æ˜¯æŠ›å‡ºåŸå§‹çš„ ECONNREFUSED æˆ–è¶…æ—¶é”™è¯¯ã€‚</span>
    <span class="hljs-keyword">if</span> (!response) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"æœåŠ¡å™¨æœªå“åº”,è¯·æ£€æŸ¥ç½‘ç»œ"</span>;
    }
    <span class="hljs-keyword">const</span> data = response.<span class="hljs-property">data</span>;
    <span class="hljs-keyword">if</span> (!data) {
        <span class="hljs-keyword">switch</span> (response.<span class="hljs-property">status</span>) {
            <span class="hljs-keyword">case</span> <span class="hljs-number">401</span>:
                <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">alert</span>(<span class="hljs-string">"ç™»å½•å·²è¿‡æœŸï¼Œè¯·é‡æ–°ç™»å½•"</span>);
                <span class="hljs-keyword">return</span> <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-title function_">reload</span>();
            <span class="hljs-keyword">case</span> <span class="hljs-number">403</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-string">"æ— æ­¤æ“ä½œæƒé™"</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">404</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-string">"æœåŠ¡ç«¯æ— æ­¤èµ„æº"</span>;
            <span class="hljs-attr">default</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-string">"æœªçŸ¥å¼‚å¸¸,è¯·è”ç³»å¼€å‘äººå‘˜"</span>;
        }
    }
    <span class="hljs-comment">// å¦‚æœåç«¯è¿”å›äº†è¯¦ç»†é”™è¯¯ä¿¡æ¯ï¼Œå¯åœ¨è¿™é‡Œä¼˜å…ˆè¿”å›</span>
    <span class="hljs-keyword">if</span> (data.<span class="hljs-property">error</span>.<span class="hljs-property">message</span>) {
        <span class="hljs-keyword">return</span> data.<span class="hljs-property">error</span>.<span class="hljs-property">message</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-string">"æœªçŸ¥é”™è¯¯"</span>;
};

<span class="hljs-comment">// âœ… æ ¸å¿ƒä¿®æ”¹ï¼šå¼€å‘ç¯å¢ƒè¿”å›ç©ºå­—ç¬¦ä¸²ï¼Œè®©è¯·æ±‚èµ°ç›¸å¯¹è·¯å¾„</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getBaseURL</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> env = <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>;
    
    <span class="hljs-comment">// å¼€å‘ç¯å¢ƒï¼šè¿”å›ç©ºå­—ç¬¦ä¸²ï¼Œèµ° Vite proxy</span>
    <span class="hljs-keyword">if</span> (env.<span class="hljs-property">DEV</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;  <span class="hljs-comment">// âœ… å…³é”®æ”¹åŠ¨</span>
    }
    

    <span class="hljs-keyword">if</span> (env.<span class="hljs-property">PROD</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${env.VITE_API_BASE_URL}</span>:<span class="hljs-subst">${env.VITE_API_PORT}</span>`</span>;
    }
    
    <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
}

</code></pre>
<h4 data-id="heading-32">Vite.env ç¯å¢ƒå˜é‡é…ç½®</h4>
<p>æ“ä½œ</p>
<pre><code class="hljs language-ini" lang="ini">æ‰‹åŠ¨åˆ›å»ºä»¥ä¸‹æ–‡ä»¶
.env   		å¼€å‘ç¯å¢ƒ
.env.production   ç”Ÿäº§ç¯å¢ƒ

æ–‡ä»¶æ‰‹åŠ¨æ–°å¢å˜é‡
{
    <span class="hljs-attr">VITE_API_BASE_URL</span>=https://localhost
    <span class="hljs-attr">VITE_API_PORT</span> =<span class="hljs-number">44319</span>
}
</code></pre>
<p>è§£é‡Š</p>
<pre><code class="hljs language-typescript" lang="typescript">ç¯å¢ƒåŠ è½½ä¼˜å…ˆçº§
ä¸€ä»½ç”¨äºæŒ‡å®šæ¨¡å¼çš„æ–‡ä»¶ï¼ˆä¾‹å¦‚ .<span class="hljs-property">env</span>.<span class="hljs-property">production</span>ï¼‰ä¼šæ¯”é€šç”¨å½¢å¼çš„ä¼˜å…ˆçº§æ›´é«˜ï¼ˆä¾‹å¦‚ .<span class="hljs-property">env</span>ï¼‰ã€‚
ä¸ºäº†é˜²æ­¢æ„å¤–åœ°å°†ä¸€äº›ç¯å¢ƒå˜é‡æ³„æ¼åˆ°å®¢æˆ·ç«¯ï¼Œåªæœ‰ä»¥ <span class="hljs-variable constant_">VITE_</span> ä¸ºå‰ç¼€çš„å˜é‡æ‰ä¼šæš´éœ²ç»™ç»è¿‡ vite å¤„ç†çš„ä»£ç 



<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>) <span class="hljs-comment">//æ­¤æ—¶æ ¹æ®ä¸åŒçš„ç¯å¢ƒï¼Œä½¿ç”¨ä¸åŒçš„ç¯å¢ƒå˜é‡</span>
==ã€‹{
    <span class="hljs-string">"BASE_URL"</span>: <span class="hljs-string">"/"</span>,
    <span class="hljs-string">"DEV"</span>: <span class="hljs-literal">true</span>,  <span class="hljs-comment">//å¼€å‘ç¯å¢ƒ</span>
    <span class="hljs-string">"MODE"</span>: <span class="hljs-string">"development"</span>,
    <span class="hljs-string">"PROD"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-string">"SSR"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-string">"VITE_API_BASE_URL"</span>: <span class="hljs-string">"https://localhost"</span>,
    <span class="hljs-string">"VITE_API_PORT"</span>: <span class="hljs-string">"44319"</span>,
}

<span class="hljs-title class_">Vite</span> åœ¨ä¸€ä¸ªç‰¹æ®Šçš„ <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span> å¯¹è±¡ä¸Šæš´éœ²ç¯å¢ƒå˜é‡ï¼Œè¿™äº›å˜é‡åœ¨æ„å»ºæ—¶ä¼šè¢«é™æ€åœ°æ›¿æ¢æ‰ã€‚è¿™é‡Œæœ‰ä¸€äº›åœ¨æ‰€æœ‰æƒ…å†µä¸‹éƒ½å¯ä»¥ä½¿ç”¨çš„å†…å»ºå˜é‡ï¼š
<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">MODE</span>: {<span class="hljs-built_in">string</span>} åº”ç”¨è¿è¡Œçš„æ¨¡å¼ã€‚

<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">BASE_URL</span>: {<span class="hljs-built_in">string</span>} éƒ¨ç½²åº”ç”¨æ—¶çš„åŸºæœ¬ <span class="hljs-variable constant_">URL</span>ã€‚ä»–ç”±base é…ç½®é¡¹å†³å®šã€‚

<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">PROD</span>: {<span class="hljs-built_in">boolean</span>} åº”ç”¨æ˜¯å¦è¿è¡Œåœ¨ç”Ÿäº§ç¯å¢ƒï¼ˆä½¿ç”¨ <span class="hljs-variable constant_">NODE_ENV</span>=<span class="hljs-string">'production'</span> è¿è¡Œå¼€å‘æœåŠ¡å™¨æˆ–æ„å»ºåº”ç”¨æ—¶ä½¿ç”¨ <span class="hljs-variable constant_">NODE_ENV</span>=<span class="hljs-string">'production'</span> ï¼‰ã€‚

<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">DEV</span>: {<span class="hljs-built_in">boolean</span>} åº”ç”¨æ˜¯å¦è¿è¡Œåœ¨å¼€å‘ç¯å¢ƒ (æ°¸è¿œä¸ <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">PROD</span>ç›¸å)ã€‚

<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">SSR</span>: {<span class="hljs-built_in">boolean</span>} åº”ç”¨æ˜¯å¦è¿è¡Œåœ¨ server ä¸Šã€‚
</code></pre>
<h3 data-id="heading-33">3.4 Openapiä¸Swagger</h3>
<h4 data-id="heading-34">é…ç½®Swagger/json</h4>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ConfigureSwaggerServices</span>(<span class="hljs-params">ServiceConfigurationContext context, IConfiguration configuration</span>)</span>
    {
        context.Services.AddAbpSwaggerGenWithOAuth(
            configuration[<span class="hljs-string">"AuthServer:Authority"</span>]!,
            <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt;
            {
                    {<span class="hljs-string">"AppCoreServer"</span>, <span class="hljs-string">"AppCoreServer API"</span>}
            },
            options =&gt;
            {
                options.SwaggerDoc(<span class="hljs-string">"v1"</span>, <span class="hljs-keyword">new</span> OpenApiInfo { Title = <span class="hljs-string">"AppCoreServer API"</span>, Version = <span class="hljs-string">"v1"</span> });
                options.DocInclusionPredicate((docName, description) =&gt; <span class="hljs-literal">true</span>);
                options.CustomSchemaIds(type =&gt; type.FullName);
                
                <span class="hljs-comment">//ç»™Swaggerçš„jsonä¸­æ·»åŠ   operationIdå­—æ®µ</span>
                <span class="hljs-comment">//å¯è§Swashbuckle  Abp.Swashbuckle.Extensions</span>
                options.CustomOperationIds(apiDesc =&gt;
                    apiDesc.TryGetMethodInfo(<span class="hljs-keyword">out</span> <span class="hljs-keyword">var</span> methodInfo) ? methodInfo.Name : <span class="hljs-literal">null</span>);
            });
    }


<span class="hljs-comment">//å¾—åˆ°çš„API_json==&gt;</span>

<span class="hljs-string">"/api/abp/application-configuration"</span>: {
      <span class="hljs-string">"get"</span>: {
        <span class="hljs-string">"tags"</span>: [
          <span class="hljs-string">"AbpApplicationConfiguration"</span>
        ],
        <span class="hljs-string">"operationId"</span>: <span class="hljs-string">"GetAsync"</span>, <span class="hljs-comment">//æ–¹ä¾¿å‰ç«¯ç”Ÿæˆæ–¹æ³•åç§°</span>
        <span class="hljs-string">"parameters"</span>: [
          {
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"IncludeLocalizationResources"</span>,
            <span class="hljs-string">"in"</span>: <span class="hljs-string">"query"</span>,
            <span class="hljs-string">"schema"</span>: {
              <span class="hljs-string">"type"</span>: <span class="hljs-string">"boolean"</span>
            }
          }
        ]
</code></pre>
<h4 data-id="heading-35">é…ç½®Umijs/Openapi</h4>
<blockquote>
<p>1.14.1ç‰ˆ</p>
</blockquote>
<p>åˆ›å»º\reactWeb\openapi2ts.config.tsæ–‡ä»¶</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { generateService } <span class="hljs-keyword">from</span> <span class="hljs-string">'@umijs/openapi'</span>;
<span class="hljs-title function_">generateService</span>({
    <span class="hljs-comment">/**
     * æŒ‡å®šè¯·æ±‚åº“å¯¼å…¥è¯­å¥ï¼Œç”Ÿæˆçš„æ¥å£æ–‡ä»¶ä¼šç”¨åˆ°è¿™ä¸ªå¯¼å…¥ã€‚
     * ä¾‹å¦‚ä½ é¡¹ç›®ä¸­å°è£…äº†è¯·æ±‚å‡½æ•° requestï¼Œå¯ä»¥å†™æˆï¼š
     * "import { request } from '@/utils/request'"
     */</span>
    <span class="hljs-attr">requestLibPath</span>: <span class="hljs-string">"../../utils/request"</span>,

    <span class="hljs-comment">/**
     * OpenAPI / Swagger çš„æ¥å£æ–‡æ¡£åœ°å€æˆ–æœ¬åœ°æ–‡ä»¶è·¯å¾„ã€‚
     * è¿™é‡Œæ˜¯æœ¬åœ°æ¥å£æ–‡æ¡£çš„ HTTP åœ°å€ï¼Œç”Ÿæˆä»£ç ä¼šåŸºäºè¿™ä¸ªå®šä¹‰ã€‚
     */</span>
    <span class="hljs-attr">schemaPath</span>: <span class="hljs-string">'https://localhost:2001/swagger/v1/swagger.json'</span>,

    <span class="hljs-comment">/**
     * é¡¹ç›®åç§°ï¼Œç”Ÿæˆçš„æ–‡ä»¶å¤¹åæˆ–å‘½åç©ºé—´å‚è€ƒåï¼Œ
     * ä¸»è¦ç”¨äºåŒºåˆ†ä¸åŒé¡¹ç›®çš„ç”Ÿæˆä»£ç ã€‚
     */</span>
    <span class="hljs-attr">serversPath</span>: <span class="hljs-string">"./src/services"</span>,
    <span class="hljs-attr">projectName</span>: <span class="hljs-string">'api'</span>,

    <span class="hljs-comment">/**
     * TypeScript ä»£ç ä¸­ä½¿ç”¨çš„å‘½åç©ºé—´åç§°ï¼Œ
     * ç”Ÿæˆçš„ç±»å‹ã€æ¥å£ç­‰éƒ½ä¼šæ”¾åœ¨è¿™ä¸ªå‘½åç©ºé—´ä¸‹ã€‚
     */</span>
    <span class="hljs-attr">namespace</span>: <span class="hljs-string">'API'</span>,

    <span class="hljs-comment">/**
     * è‡ªå®šä¹‰æ¨¡æ¿æ–‡ä»¶å¤¹è·¯å¾„ï¼ŒæŒ‡å‘ä½ çš„ Nunjucks æ¨¡æ¿ç›®å½•ã€‚
     * ç”Ÿæˆå™¨ä¼šä½¿ç”¨æ­¤ç›®å½•ä¸‹çš„æ¨¡æ¿æ–‡ä»¶ç”Ÿæˆä»£ç ï¼Œ
     * æ–¹ä¾¿ä½ è‡ªå®šä¹‰ç”Ÿæˆæ ¼å¼ã€‚
     */</span>  
	<span class="hljs-attr">templatesFolder</span>: <span class="hljs-string">'./openapi-template'</span>, 

    <span class="hljs-comment">/**
     * æ˜¯å¦ä½¿ç”¨é©¼å³°å‘½åæ³•ç”Ÿæˆæ¥å£æ–¹æ³•åç§°ï¼Œé»˜è®¤ trueã€‚
     * è®¾ä¸º falseï¼Œæ¥å£æ–¹æ³•åä¿æŒ PascalCaseï¼Œ
     * æ¯”å¦‚ GetAsync è€Œä¸æ˜¯ getAsyncã€‚
     */</span>
    <span class="hljs-attr">isCamelCase</span>: <span class="hljs-literal">false</span>,

    <span class="hljs-comment">/**
     * é’©å­å‡½æ•°é›†ï¼Œå¯ä»¥è‡ªå®šä¹‰ç”Ÿæˆè¿‡ç¨‹çš„å„ç§é€»è¾‘ï¼Œ
     * è¿™é‡Œè‡ªå®šä¹‰äº†æ¥å£å‡½æ•°åç§°ç”Ÿæˆé€»è¾‘ï¼Œ
     * ä½¿ç”¨ OpenAPI ä¸­å®šä¹‰çš„ operationId ä½œä¸ºå‡½æ•°åï¼Œ
     * å¦‚æœæ²¡æœ‰åˆ™é»˜è®¤ 'AutoGenerated'ã€‚
     */</span>
    <span class="hljs-attr">hook</span>: {
        <span class="hljs-title function_">customFunctionName</span>(<span class="hljs-params">api</span>) {
            <span class="hljs-keyword">return</span> api.<span class="hljs-property">operationId</span> || <span class="hljs-string">'AutoGenerated'</span>;
        },
    },
});

</code></pre>
<p>templatesFolder: './openapi-template',</p>
<pre><code class="hljs">éœ€è¦ä½¿ç”¨è‡ªå®šä¹‰æ¨¡æ¿,è§£å†³é»˜è®¤æ¨¡æ¿ç”Ÿæˆçš„å…¥å‚å‚æ•°ç±»å‹é›†åˆ,é‡å¤ä¸å…¼å®¹çš„é—®é¢˜
</code></pre>
<p>é…ç½®è¿è¡Œå‘½ä»¤</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"dev"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vite"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"build"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tsc -b &amp;&amp; vite build"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"lint"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"eslint ."</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"preview"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vite preview"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"openapi2ts"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tsx openapi2ts.config.ts"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>

<span class="hljs-comment">//æœ‰éœ€è¦å®‰è£…ä»¥ä¸‹ä¸¤ä¸ªä¾èµ–åŒ…</span>
<span class="hljs-comment">//pnpm i tsx@3.14.0</span>
<span class="hljs-comment">//pnpm add tslib</span>
</code></pre>
<p>æ‰§è¡Œ</p>
<pre><code class="hljs language-json" lang="json">æ­¤æ—¶å¯ä»¥çœ‹åˆ° serversPath<span class="hljs-punctuation">:</span> <span class="hljs-string">"./src/services"</span>
ç”Ÿæˆäº†åç«¯å¯¹åº”çš„è¯·æ±‚æ–‡ä»¶<span class="hljs-punctuation">,</span>APIçš„æ ¼å¼æ˜¯æŒ‰ç…§requestLibPath<span class="hljs-punctuation">:</span> <span class="hljs-string">"../../utils/request"</span>è®¾è®¡
    
 <span class="hljs-comment">/** æ­¤å¤„åç«¯æ²¡æœ‰æä¾›æ³¨é‡Š GET /api/abp/application-configuration */</span>
export async function GetAsync(
  <span class="hljs-comment">// å åŠ ç”Ÿæˆçš„Paramç±»å‹ (ébodyå‚æ•°swaggeré»˜è®¤æ²¡æœ‰ç”Ÿæˆå¯¹è±¡)</span>
  params<span class="hljs-punctuation">:</span> API.GetAsyncParams<span class="hljs-punctuation">,</span>
  options?<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-punctuation">[</span>key<span class="hljs-punctuation">:</span> string<span class="hljs-punctuation">]</span><span class="hljs-punctuation">:</span> any <span class="hljs-punctuation">}</span>
) <span class="hljs-punctuation">{</span>
  return request&lt;API.ApplicationConfigurationDto&gt;(
    <span class="hljs-string">"/api/abp/application-configuration"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      method<span class="hljs-punctuation">:</span> <span class="hljs-string">"GET"</span><span class="hljs-punctuation">,</span>
      params<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        ...params<span class="hljs-punctuation">,</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      ...(options || <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span>)<span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">}</span>
  );
<span class="hljs-punctuation">}</span>   
</code></pre>
<h3 data-id="heading-36">3.5å…¨å±€é…ç½®ä¸è·¯ç”±ä¸å¸ƒå±€</h3>
<h4 data-id="heading-37">ä¿®æ”¹htmlä¸»ç»“æ„</h4>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-title class_">AppServer</span>\react-web\index.<span class="hljs-property">html</span>

ä¿®æ”¹é¡¹ç›®ä¸»å…¥å£htmlï¼Œæ ‡é¢˜ç­‰ä¸ºè‡ªå·±é¡¹ç›®logç­‰

<span class="hljs-attr">svg</span>:<span class="hljs-attr">https</span>:<span class="hljs-comment">//www.iconfont.cn/</span>
</code></pre>
<h4 data-id="heading-38">UIåº“</h4>
<pre><code class="hljs language-bash" lang="bash">ä»¥ä¸‹ä½¿ç”¨äº†
<span class="hljs-string">"antd
"</span>antd-style<span class="hljs-string">"
"</span>@ant-design/icons<span class="hljs-string">"
"</span>@ant-design/pro-components<span class="hljs-string">"
</span></code></pre>
<h4 data-id="heading-39">æ„å»ºè·¯ç”±</h4>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Freactrouter.remix.org.cn%2Fhome" target="_blank" title="https://reactrouter.remix.org.cn/home" ref="nofollow noopener noreferrer">React Router ä¸»é¡µ | React Router - React Router è·¯ç”±åº“</a></p>
<pre><code class="hljs language-css" lang="css">npm <span class="hljs-selector-tag">i</span> react-router-dom   ^<span class="hljs-number">7.11</span>.<span class="hljs-number">0</span>
ä½¿ç”¨æ•°æ®æ¨¡å¼
</code></pre>

































<table><thead><tr><th>åŒ…å</th><th>é€‚ç”¨åœºæ™¯</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th><th>æ¨èåº¦ï¼ˆVite é¡¹ç›®ï¼‰</th></tr></thead><tbody><tr><td><code>react-router</code></td><td>åº•å±‚é€»è¾‘ï¼Œé Web é¡¹ç›®</td><td>çµæ´»ã€å¯æ‰©å±•</td><td>ç¼ºå°‘ DOM åŠŸèƒ½</td><td>ä½ï¼ˆé€šå¸¸ä¸å•ç‹¬ç”¨ï¼‰</td></tr><tr><td><code>react-router-dom</code></td><td>æ ‡å‡† Web SPA è·¯ç”±</td><td>ç®€å•ã€ç¨³å®šã€åŠŸèƒ½é½å…¨</td><td>ç¼ºå°‘ SSR/SSG ç­‰é«˜çº§åŠŸèƒ½</td><td>é«˜ï¼ˆåŸºç¡€æ­å»ºï¼‰</td></tr><tr><td><code>@react-router/dev</code></td><td>ç°ä»£æ¡†æ¶æ¨¡å¼ï¼ˆv7ï¼‰</td><td>SSRã€SSGã€æ•°æ®åŠ è½½ã€Vite é›†æˆ</td><td>é…ç½®å¤æ‚ï¼Œç”Ÿæ€è¾ƒæ–°</td><td>ä¸­é«˜ï¼ˆéœ€è¦é«˜çº§åŠŸèƒ½ï¼‰</td></tr></tbody></table>
<h5 data-id="heading-40">æ„å»ºä¸»è·¯ç”±é“¾</h5>
<p>åˆ›å»ºreact-web\src\router</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">//react-web\src\router\index.ts</span>

<span class="hljs-keyword">const</span> <span class="hljs-attr">index</span>:<span class="hljs-title class_">ReturnType</span>&lt;<span class="hljs-keyword">typeof</span> createBrowserRouter&gt; = <span class="hljs-title function_">createBrowserRouter</span>([
    {
        <span class="hljs-attr">path</span>: <span class="hljs-string">"/"</span>,
        <span class="hljs-attr">element</span>: <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"../view/ServerApp/Dashboard"</span>))),
    },
]);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> index;
                                  
                                                                    
<span class="hljs-keyword">const</span> <span class="hljs-title class_">Dashboard</span>:<span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span>= <span class="hljs-function">()=&gt;</span>{
    <span class="hljs-keyword">return</span>(
        <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æˆ‘æ˜¯ä»ªè¡¨ç›˜<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;/&gt;</span></span>
    )
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Dashboard</span>;
</code></pre>
<h5 data-id="heading-41">æ³¨å†Œè·¯ç”±</h5>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">const</span> <span class="hljs-title class_">App</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span> = <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span>(
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">StrictMode</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">RouterProvider</span> <span class="hljs-attr">router</span>=<span class="hljs-string">{router}/</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">StrictMode</span>&gt;</span></span>
    )
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>


<span class="hljs-comment">//æ­¤æ—¶æŒ‰ç…§ä¸Šè¿°è·¯ç”±é“¾ï¼Œåˆ™ä¼˜å…ˆå±•ç¤ºä»ªè¡¨ç›˜é¡µé¢</span>
</code></pre>
<h5 data-id="heading-42">è·¯ç”±åŠ è½½é¡µé¢</h5>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">const</span> <span class="hljs-title class_">App</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span> = <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">StrictMode</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">PageLoading</span>/&gt;</span>}&gt;
                <span class="hljs-tag">&lt;<span class="hljs-name">RouterProvider</span> <span class="hljs-attr">router</span>=<span class="hljs-string">{MainRouter}/</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">StrictMode</span>&gt;</span></span>
    )
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>
</code></pre>
<h5 data-id="heading-43">åŸºç¡€é¡µé¢</h5>
<h6 data-id="heading-44">åˆ›å»º404é¡µé¢</h6>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">//npm antd-style  åˆ›å»ºæ ·å¼</span>

<span class="hljs-comment">//react-web\src\view\System\NotFound\index.tsx</span>
<span class="hljs-keyword">import</span> {useNavigate} <span class="hljs-keyword">from</span> <span class="hljs-string">"react-router-dom"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">Button</span>, <span class="hljs-title class_">Result</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"antd"</span>;
<span class="hljs-keyword">import</span> useStyles <span class="hljs-keyword">from</span> <span class="hljs-string">"./style.ts"</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title class_">NotFound</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span> = <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> {styles} = <span class="hljs-title function_">useStyles</span>();
    <span class="hljs-keyword">const</span>  navigate=<span class="hljs-title function_">useNavigate</span>();
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Result</span>
            <span class="hljs-attr">className</span>=<span class="hljs-string">{styles.result}</span>
            <span class="hljs-attr">icon</span>=<span class="hljs-string">{null}</span>
            <span class="hljs-attr">title</span>=<span class="hljs-string">"å½“å‰é¡µé¢ä¸å­˜åœ¨..."</span>
            <span class="hljs-attr">subTitle</span>=<span class="hljs-string">"è¯·æ£€æŸ¥æ‚¨è¾“å…¥çš„ç½‘å€æ˜¯å¦æ­£ç¡®ï¼Œæˆ–ç‚¹å‡»ä¸‹é¢çš„æŒ‰é’®è¿”å›ä¸Šä¸€çº§"</span>
            <span class="hljs-attr">extra</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span>=&gt;</span>navigate(-1)}&gt;è¿”å›ä¸Šä¸€çº§<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>}
        /&gt;</span>

    );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">NotFound</span>;
</code></pre>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">//react-web\src\view\System\NotFound\style.ts</span>

<span class="hljs-keyword">import</span> {createStyles} <span class="hljs-keyword">from</span> <span class="hljs-string">"antd-style"</span>;
<span class="hljs-keyword">import</span> notFoundImg <span class="hljs-keyword">from</span> <span class="hljs-string">"../../../assets/404.png"</span>

<span class="hljs-keyword">const</span> useStyles = <span class="hljs-title function_">createStyles</span>({
    <span class="hljs-attr">result</span>:{
        <span class="hljs-attr">position</span>: <span class="hljs-string">'relative'</span>,
        <span class="hljs-attr">backgroundImage</span>: <span class="hljs-string">`url(<span class="hljs-subst">${notFoundImg}</span>)`</span>,  <span class="hljs-comment">// åŠ¨æ€å¼•å…¥å›¾ç‰‡è·¯å¾„</span>
        <span class="hljs-attr">backgroundSize</span>: <span class="hljs-string">'cover'</span>,         <span class="hljs-comment">// ç¡®ä¿å›¾ç‰‡è¦†ç›–æ•´ä¸ªåŒºåŸŸ</span>
        <span class="hljs-attr">backgroundPosition</span>: <span class="hljs-string">'center'</span>,    <span class="hljs-comment">// å±…ä¸­æ˜¾ç¤ºèƒŒæ™¯å›¾ç‰‡</span>
        <span class="hljs-attr">backgroundRepeat</span>: <span class="hljs-string">'no-repeat'</span>,   <span class="hljs-comment">// é˜²æ­¢å›¾ç‰‡é‡å¤</span>
        <span class="hljs-attr">textAlign</span>: <span class="hljs-string">"center"</span>,             <span class="hljs-comment">// æ–‡æœ¬å±…ä¸­</span>
        <span class="hljs-attr">display</span>: <span class="hljs-string">'flex'</span>,
        <span class="hljs-attr">flexDirection</span>: <span class="hljs-string">'column'</span>,
        <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">'center'</span>,        <span class="hljs-comment">// å‚ç›´å±…ä¸­</span>
        <span class="hljs-attr">alignItems</span>: <span class="hljs-string">'center'</span>,            <span class="hljs-comment">// æ°´å¹³å±…ä¸­</span>
        <span class="hljs-attr">height</span>: <span class="hljs-string">'100vh'</span>,
    },
})
<span class="hljs-keyword">export</span>  <span class="hljs-keyword">default</span>  useStyles;
</code></pre>
<h6 data-id="heading-45">åŠ è½½é¡µé¢</h6>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">Spin</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"antd"</span>;
<span class="hljs-keyword">const</span> <span class="hljs-title class_">PageLoading</span>:<span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span>=<span class="hljs-function">()=&gt;</span>{
    <span class="hljs-keyword">const</span> <span class="hljs-attr">contentStyle</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">CSSProperties</span> = {
        <span class="hljs-attr">padding</span>: <span class="hljs-number">50</span>,
        <span class="hljs-attr">background</span>: <span class="hljs-string">'rgba(0, 0, 0, 0.05)'</span>,
        <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">4</span>,
    };

    <span class="hljs-keyword">return</span> (

        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>
            <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
                <span class="hljs-attr">height:</span> "<span class="hljs-attr">100vh</span>", // <span class="hljs-attr">å æ»¡è§†å£é«˜åº¦</span>
                <span class="hljs-attr">display:</span> "<span class="hljs-attr">flex</span>", // <span class="hljs-attr">å¯ç”¨</span> <span class="hljs-attr">flex</span> <span class="hljs-attr">å¸ƒå±€</span>
                <span class="hljs-attr">justifyContent:</span> "<span class="hljs-attr">center</span>", // <span class="hljs-attr">æ°´å¹³å±…ä¸­</span>
                <span class="hljs-attr">alignItems:</span> "<span class="hljs-attr">center</span>", // <span class="hljs-attr">å‚ç›´å±…ä¸­</span>
                <span class="hljs-attr">flexDirection:</span> "<span class="hljs-attr">column</span>", // <span class="hljs-attr">å­å…ƒç´ çºµå‘æ’åˆ—</span>
                <span class="hljs-attr">backgroundColor:</span> "#<span class="hljs-attr">f0f2f5</span>", // <span class="hljs-attr">è®¾ç½®èƒŒæ™¯è‰²</span>ï¼Œ<span class="hljs-attr">ä¸</span> <span class="hljs-attr">antd</span> <span class="hljs-attr">é»˜è®¤ä¸€è‡´</span>ï¼ˆ<span class="hljs-attr">å¯é€‰</span>ï¼‰
            }}
        &gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Spin</span> <span class="hljs-attr">tip</span>=<span class="hljs-string">"Loading"</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{contentStyle}/</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">Spin</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">PageLoading</span>;
</code></pre>
<h4 data-id="heading-46">å…¨å±€æ ·å¼</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">//åˆ é™¤index.css,App.cssæ–‡ä»¶</span>
<span class="hljs-comment">//AppServer\react-web\src\styles</span>
<span class="hljs-comment">//AppServer\react-web\src\styles\GlobalStyle.ts</span>


<span class="hljs-keyword">import</span> { createGlobalStyle } <span class="hljs-keyword">from</span> <span class="hljs-string">"antd-style"</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title class_">GlobalStyle</span> = <span class="hljs-title function_">createGlobalStyle</span>(
    <span class="hljs-function">(<span class="hljs-params">{ theme }</span>) =&gt;</span> <span class="hljs-string">`
html,body{
    height:100%;
    width:100%;
    background-color:<span class="hljs-subst">${theme.colorBgLayout}</span>;
}
body{
margin:0;
}
`</span>,
);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">GlobalStyle</span>;
</code></pre>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">const</span> <span class="hljs-title class_">App</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span> = <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">StrictMode</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">PageLoading</span>/&gt;</span>}&gt;
                <span class="hljs-tag">&lt;<span class="hljs-name">RouterProvider</span> <span class="hljs-attr">router</span>=<span class="hljs-string">{MainRouter}/</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">GlobalStyle</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">StrictMode</span>&gt;</span></span>
    )
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>
</code></pre>
<h4 data-id="heading-47">é¡µé¢å¸ƒå±€</h4>
<h5 data-id="heading-48">æ·»åŠ ä¸šåŠ¡è·¯ç”±</h5>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, {lazy} <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">WindowsFilled</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"@ant-design/icons"</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">MenuDataItem</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"@ant-design/pro-components"</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">Navigate</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"react-router-dom"</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title class_">ServiceRouters</span>: <span class="hljs-title class_">MenuDataItem</span>[] = [
    {
        <span class="hljs-attr">path</span>: <span class="hljs-string">"dashboard"</span>,
        <span class="hljs-attr">name</span>: <span class="hljs-string">"ä¸»é¡µ"</span>,
        <span class="hljs-attr">element</span>: <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"../view/ServerAppPages/Dashboard"</span>))),
    },
    {
        <span class="hljs-attr">path</span>: <span class="hljs-string">"systemManager"</span>,
        <span class="hljs-attr">name</span>: <span class="hljs-string">"ç³»ç»Ÿç®¡ç†"</span>,
        <span class="hljs-attr">icon</span>: <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-title class_">WindowsFilled</span>),
        <span class="hljs-attr">children</span>: [
            {
                <span class="hljs-attr">path</span>: <span class="hljs-string">"ChangeLogs"</span>,
                <span class="hljs-attr">name</span>: <span class="hljs-string">"æ›´æ–°æ—¥å¿—"</span>,
                <span class="hljs-attr">element</span>: (
                    <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"../view/ServerAppPages/ChangeLogs"</span>)))
                ),
            }
        ]
    },
    { <span class="hljs-comment">//é¡µé¢é‡å®šå‘</span>
        <span class="hljs-attr">index</span>:<span class="hljs-literal">true</span>,
        <span class="hljs-title class_">Component</span>: <span class="hljs-function">() =&gt;</span>
            <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-title class_">Navigate</span>, {
                <span class="hljs-attr">to</span>: <span class="hljs-string">"/dashboard"</span>,
            }),
    },
];

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">ServiceRouters</span>;

</code></pre>
<h5 data-id="heading-49">ProLayout</h5>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">//https://procomponents.ant.design/components/layout</span>

<span class="hljs-keyword">import</span> {
    <span class="hljs-title class_">LogoutOutlined</span>
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@ant-design/icons'</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">PageContainer</span>, <span class="hljs-title class_">ProSettings</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@ant-design/pro-components'</span>;
<span class="hljs-keyword">import</span> {
    <span class="hljs-title class_">ProLayout</span>,
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@ant-design/pro-components'</span>;
<span class="hljs-keyword">import</span> {
    <span class="hljs-title class_">Button</span>,
    <span class="hljs-title class_">Dropdown</span>,
} <span class="hljs-keyword">from</span> <span class="hljs-string">'antd'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">HeartSvg</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"../../../../public/log.svg"</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">Link</span>, <span class="hljs-title class_">Outlet</span>, useLocation, useNavigate} <span class="hljs-keyword">from</span> <span class="hljs-string">"react-router-dom"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, {<span class="hljs-title class_">Suspense</span>, useState} <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">PageLoading</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"../../System/PageLoading"</span>;
<span class="hljs-keyword">import</span> serviceRouters <span class="hljs-keyword">from</span> <span class="hljs-string">"@/router/ServiceRouters.ts"</span>;


<span class="hljs-keyword">const</span> <span class="hljs-title class_">Layout</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span> = <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> [settings] = useState&lt;<span class="hljs-title class_">Partial</span>&lt;<span class="hljs-title class_">ProSettings</span>&gt;&gt;({
        <span class="hljs-attr">fixSiderbar</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">layout</span>: <span class="hljs-string">"mix"</span>,
        <span class="hljs-attr">splitMenus</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">navTheme</span>: <span class="hljs-string">"light"</span>,
        <span class="hljs-attr">contentWidth</span>: <span class="hljs-string">"Fluid"</span>,
        <span class="hljs-attr">colorPrimary</span>: <span class="hljs-string">"#FAAD14"</span>,
        <span class="hljs-attr">siderMenuType</span>: <span class="hljs-string">"sub"</span>,
        <span class="hljs-attr">fixedHeader</span>: <span class="hljs-literal">true</span>,
    });
    <span class="hljs-keyword">const</span> username =<span class="hljs-string">"admin"</span>;
    <span class="hljs-keyword">const</span> navigate = <span class="hljs-title function_">useNavigate</span>();
    <span class="hljs-keyword">const</span> location = <span class="hljs-title function_">useLocation</span>();
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ProLayout</span>
            {<span class="hljs-attr">...settings</span>} //<span class="hljs-attr">è®¾ç½®å±æ€§æ ·å¼é…ç½®</span>
            <span class="hljs-attr">logo</span>=<span class="hljs-string">{</span>
                &lt;<span class="hljs-attr">img</span>
                    <span class="hljs-attr">src</span>=<span class="hljs-string">{HeartSvg}</span>
                    <span class="hljs-attr">alt</span>=<span class="hljs-string">"logo"</span>
                    <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
                        <span class="hljs-attr">height:</span> <span class="hljs-attr">24</span>,
                        <span class="hljs-attr">width:</span> "<span class="hljs-attr">auto</span>",
                        <span class="hljs-attr">objectFit:</span> "<span class="hljs-attr">contain</span>",
                        <span class="hljs-attr">verticalAlign:</span> "<span class="hljs-attr">middle</span>",
                    }}
                /&gt;</span>
            }
            title={"åšå®¢"}
            menuDataRender={() =&gt; serviceRouters} //ä¼ å…¥è·¯ç”±ç”Ÿæˆä¾§è¾¹èœå•æ 
            //å¤´éƒ¨æ ‡é¢˜ï¼Œé»˜è®¤antdå›¾æ ‡
            //é¢åŒ…å±‘ï¼Œæ ¹æ®ä¼ é€’çš„è·¯ç”±å
            breadcrumbRender={(routes = []) =&gt; {
                return routes.map((route) =&gt; {
                    return {
                        path: route.path,
                        breadcrumbName: route.breadcrumbName,
                    };
                });
            }}
            //å·¦ä¾§è¾¹æ æ ·å¼è®¾ç½®
            siderMenuType={"sub"}
            //å·¦ä¾§è¾¹æ åº•éƒ¨æ ·å¼
            menuFooterRender={(props) =&gt; {
                if (props?.collapsed) return undefined;
                return (
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">textAlign:</span> '<span class="hljs-attr">center</span>', <span class="hljs-attr">paddingBlockStart:</span> <span class="hljs-attr">12</span> }}&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Â© é©°åå•†æ ‡<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                );
            }}
            //ç›®å‰ä¸æ˜ç¡®
            location={location}
            //è·¯ç”±ç‚¹å‡»äº‹ä»¶
            menuItemRender={(item, dom) =&gt; {
                if (item.path) {
                    return <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">{</span>`${<span class="hljs-attr">item.path</span>}`}&gt;</span>{dom}<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>;
                }
                return dom;
            }}
        &gt;
            {/* æ¸²æŸ“é€‰ä¸­çš„é¡µé¢å†…å®¹ */}
            <span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">PageLoading</span> /&gt;</span>}&gt;
                <span class="hljs-tag">&lt;<span class="hljs-name">PageContainer</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">Outlet</span> /&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">PageContainer</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">ProLayout</span>&gt;</span></span>
    );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Layout</span>;
</code></pre>
<h5 data-id="heading-50">é…ç½®ä¸»è·¯ç”±</h5>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> <span class="hljs-title class_">MainRouter</span>: <span class="hljs-title class_">ReturnType</span>&lt;<span class="hljs-keyword">typeof</span> createBrowserRouter&gt; = <span class="hljs-title function_">createBrowserRouter</span>([
    {
        <span class="hljs-attr">path</span>:<span class="hljs-string">"/"</span>,
        <span class="hljs-attr">element</span>: <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"../view/System/Layout"</span>))),
        <span class="hljs-attr">children</span>: serviceRouters
    },
    {
        <span class="hljs-attr">path</span>: <span class="hljs-string">"*"</span>,    <span class="hljs-comment">// ä½¿ç”¨path: "*",åŒ¹é…é…ç½®å…¨å±€404</span>
        <span class="hljs-attr">element</span>: (
            <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"../view/System/NotFound"</span>)))
        ),
    }

]);
                             
                            
</code></pre>
<h5 data-id="heading-51">ç†è§£</h5>
<pre><code class="hljs language-tex" lang="tex">åº”ç”¨å¯åŠ¨æ—¶ï¼Œé€šè¿‡è·¯ç”±é…ç½®ä»¥ `path: "/"` ä¼˜å…ˆåŠ è½½ `Layout` ç»„ä»¶ï¼Œä½œä¸ºæ•´ä½“æ¡†æ¶çš„å®¹å™¨ã€‚

`Layout` ç»„ä»¶å†…éƒ¨é¢„å…ˆé…ç½®äº†ä¸šåŠ¡è·¯ç”±ï¼ˆ`serviceRouters`ï¼‰ï¼Œå°†å…¶è½¬æ¢ä¸ºä¾§è¾¹æ èœå•ï¼Œä¾§è¾¹æ ä¸­çš„é“¾æ¥å¦‚ `&lt;a href="/dashboard"&gt;ä¸»é¡µ&lt;/a&gt;` ã€‚

ç”¨æˆ·é¦–æ¬¡è®¿é—® `/` æ—¶ï¼Œé€šè¿‡è·¯ç”±é‡å®šå‘è·³è½¬åˆ° `/dashboard`ï¼Œç¡®ä¿è¿›å…¥ç³»ç»Ÿåé»˜è®¤æ˜¾ç¤ºä¸»é¡µå†…å®¹ã€‚

æ•´ä½“æµç¨‹æ˜¯ï¼š`Layout` è´Ÿè´£æ¡†æ¶ç»“æ„ï¼ˆä¾§è¾¹æ ã€å¤´éƒ¨ã€é¡µè„šï¼‰ï¼Œä¸šåŠ¡è·¯ç”±è´Ÿè´£å…·ä½“é¡µé¢å†…å®¹æ¸²æŸ“ï¼Œå®ç°äº†æ¡†æ¶ä¸ä¸šåŠ¡çš„åˆ†ç¦»ä¸è§£è€¦ã€‚

åº”ç”¨æŒ‚è½½ç‚¹åªæŒ‚è½½å…¨å±€è·¯ç”±é…ç½®ï¼Œç»´æŠ¤ç®€æ´ï¼Œæ˜“äºæ‰©å±•å’Œç»´æŠ¤ï¼Œä»¥æ­¤åˆ†å¼€ä¸»è·¯ç”±å’Œä¸šåŠ¡è·¯ç”±
</code></pre>
<h4 data-id="heading-52">æ‹“å±•</h4>
<h5 data-id="heading-53">è·¯å¾„ä¼˜åŒ–</h5>
<blockquote>
<p><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fvite-tsconfig-paths" target="_blank" title="https://www.npmjs.com/package/vite-tsconfig-paths" ref="nofollow noopener noreferrer"><code>vite-tsconfig-paths</code></a></strong></p>
</blockquote>
<p>å®ƒçš„ä½œç”¨å°±æ˜¯ï¼š
<strong>è‡ªåŠ¨è¯»å–ä½ çš„ <code>tsconfig.json</code> æˆ– <code>jsconfig.json</code> é‡Œçš„è·¯å¾„åˆ«åé…ç½®</strong>ï¼Œå¹¶åœ¨ Vite ä¸­ç”Ÿæ•ˆï¼Œæ— éœ€æ‰‹åŠ¨åœ¨ <code>vite.config.ts</code> ä¸­å†™ <code>alias</code>ï¼</p>
<pre><code class="hljs language-javascript" lang="javascript">æ•ˆæœï¼š
<span class="hljs-keyword">import</span> <span class="hljs-title class_">MainRouter</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"../../router/MainRouter.ts"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">MainRouter</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"@/router/MainRouter.ts"</span>;
</code></pre>
<ol>
<li>å®‰è£…ä¾èµ–</li>
</ol>
<pre><code class="hljs language-css" lang="css">npm install vite-tsconfig-paths <span class="hljs-attr">--save-dev</span>
</code></pre>
<ol start="2">
<li>é…ç½® vite.config.ts</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// vite.config.ts</span>
<span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>;
<span class="hljs-keyword">import</span> react <span class="hljs-keyword">from</span> <span class="hljs-string">'@vitejs/plugin-react'</span>;
<span class="hljs-keyword">import</span> tsconfigPaths <span class="hljs-keyword">from</span> <span class="hljs-string">'vite-tsconfig-paths'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-title function_">react</span>(),
    <span class="hljs-title function_">tsconfigPaths</span>(), <span class="hljs-comment">// ğŸ‘ˆ è‡ªåŠ¨è¯»å– tsconfig.json ä¸­çš„ paths</span>
  ],
});
</code></pre>
<ol start="3">
<li>è®¾ç½® tsconfig.json ä¸­çš„è·¯å¾„åˆ«å</li>
</ol>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// tsconfig.app.json</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"compilerOptions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
   
    <span class="hljs-comment">//å¼•ç”¨è·¯å¾„æ›¿ä»£</span>
    <span class="hljs-attr">"baseUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"."</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// è®¾ç½®åŸºå‡†è·¯å¾„ä¸ºé¡¹ç›®æ ¹ç›®å½•</span>
    <span class="hljs-attr">"paths"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"@/*"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"src/*"</span><span class="hljs-punctuation">]</span>  <span class="hljs-comment">// ç°åœ¨å¯ä»¥å·¥ä½œ</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ä¼˜ç‚¹</p>
<ul>
<li>ä¸éœ€è¦æ‰‹åŠ¨å†™ <code>resolve.alias</code>ã€‚</li>
<li>æ”¯æŒå¤šä¸ªåˆ«åï¼Œå¦‚ <code>"@components/*": ["src/components/*"]</code>ã€‚</li>
<li>å’Œ <code>tsc</code> / IDE / ESLint / Jest ä¿æŒä¸€è‡´æ€§ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[GitHub Fork åä½œå®Œæ•´æµç¨‹]]></title>    <link>https://juejin.cn/post/7592887786967466020</link>    <guid>https://juejin.cn/post/7592887786967466020</guid>    <pubDate>2026-01-09T08:17:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592887786967466020" data-draft-id="7592887786967416868" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="GitHub Fork åä½œå®Œæ•´æµç¨‹"/> <meta itemprop="keywords" content="å‰ç«¯,Git,å‰ç«¯å·¥ç¨‹åŒ–"/> <meta itemprop="datePublished" content="2026-01-09T08:17:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çœ¯çœ¼å› ä¸ºå¾ˆå›°å•¦"/> <meta itemprop="url" content="https://juejin.cn/user/2718423318278718"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            GitHub Fork åä½œå®Œæ•´æµç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2718423318278718/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çœ¯çœ¼å› ä¸ºå¾ˆå›°å•¦
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:17:17.000Z" title="Fri Jan 09 2026 08:17:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">GitHub Fork åä½œå®Œæ•´æµç¨‹</h2>
<blockquote>
<p>é€‚ç”¨äºï¼šå¼€æºé¡¹ç›®äºŒæ¬¡å¼€å‘ã€æ’ä»¶æ‰©å±•ã€ç»™ä¸Šæ¸¸é¡¹ç›®æäº¤ PRï¼ˆPull Requestï¼‰</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">ä¸€ã€Fork æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>Fork æ˜¯æŠŠåˆ«äººçš„ GitHub ä»“åº“å¤åˆ¶ä¸€ä»½åˆ°ä½ è‡ªå·±çš„è´¦å·ä¸‹ï¼š</p>
<pre><code class="hljs">åŸä»“åº“ï¼ˆupstreamï¼‰ â†’ ä½ çš„ä»“åº“ï¼ˆoriginï¼‰
</code></pre>
<p>ä½ åœ¨è‡ªå·±çš„ä»“åº“é‡Œå¯ä»¥éšæ„ä¿®æ”¹ä»£ç ï¼Œè€Œä¸ä¼šå½±å“åŸé¡¹ç›®ã€‚</p>
<hr/>
<h3 data-id="heading-2">äºŒã€æ•´ä½“åä½œæµç¨‹</h3>
<pre><code class="hljs language-css" lang="css">flowchart <span class="hljs-selector-tag">TD</span>
    <span class="hljs-selector-tag">A</span><span class="hljs-selector-attr">[åŸé¡¹ç›® GitHub ä»“åº“]</span> --&gt;|Fork| <span class="hljs-selector-tag">B</span><span class="hljs-selector-attr">[ä½ è‡ªå·±çš„ GitHub ä»“åº“]</span>
    <span class="hljs-selector-tag">B</span> --&gt;|git clone| C<span class="hljs-selector-attr">[ä½ çš„æœ¬åœ°ä»“åº“]</span>
    <span class="hljs-selector-tag">A</span> --&gt;|git fetch upstream| C
    C --&gt;|git merge upstream/<span class="hljs-selector-tag">main</span>| C
    C --&gt;|git push origin| <span class="hljs-selector-tag">B</span>
    <span class="hljs-selector-tag">B</span> --&gt;|Pull Request| <span class="hljs-selector-tag">A</span>
</code></pre>
<hr/>
<h3 data-id="heading-3">ä¸‰ã€Fork é¡¹ç›®ï¼ˆç½‘é¡µæ“ä½œï¼‰</h3>
<ol>
<li>
<p>æ‰“å¼€ä½ è¦ Fork çš„ä»“åº“ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-symbol">https:</span>//github.com/vercel/<span class="hljs-keyword">next</span>.js
</code></pre>
</li>
<li>
<p>ç‚¹å‡»å³ä¸Šè§’ <strong>Fork</strong></p>
</li>
<li>
<p>é€‰æ‹©ä½ çš„ GitHub è´¦å·</p>
</li>
<li>
<p>å¾—åˆ°ä½ çš„ä»“åº“ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">https://github.com/ä½ çš„ç”¨æˆ·å/next.js
</code></pre>
</li>
</ol>
<hr/>
<h3 data-id="heading-4">å››ã€Clone åˆ°æœ¬åœ°</h3>
<pre><code class="hljs language-bash" lang="bash">git <span class="hljs-built_in">clone</span> https://github.com/ä½ çš„ç”¨æˆ·å/next.js.git
<span class="hljs-built_in">cd</span> next.js
</code></pre>
<hr/>
<h3 data-id="heading-5">äº”ã€é…ç½® upstreamï¼ˆéå¸¸é‡è¦ï¼‰</h3>
<p>æŸ¥çœ‹å½“å‰è¿œç¨‹ä»“åº“ï¼š</p>
<pre><code class="hljs">git remote -v
</code></pre>
<p>ä½ ä¼šçœ‹åˆ°ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">origin https://github.com/ä½ çš„ç”¨æˆ·å/next.js.git
</code></pre>
<p>æ·»åŠ åŸä»“åº“ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">git remote <span class="hljs-keyword">add</span> upstream https:<span class="hljs-comment">//github.com/vercel/next.js.git</span>
</code></pre>
<p>å†ç¡®è®¤ï¼š</p>
<pre><code class="hljs">git remote -v
</code></pre>
<p>åº”è¯¥æ˜¯ï¼š</p>
<pre><code class="hljs">origin   ä½ è‡ªå·±çš„ä»“åº“
upstream åŸé¡¹ç›®ä»“åº“
</code></pre>
<hr/>
<h3 data-id="heading-6">å…­ã€åŒæ­¥åŸé¡¹ç›®æœ€æ–°ä»£ç ï¼ˆæ ‡å‡†æµç¨‹ï¼‰</h3>
<pre><code class="hljs language-css" lang="css">git checkout <span class="hljs-selector-tag">main</span>
git fetch upstream
git merge upstream/<span class="hljs-selector-tag">main</span>
git push origin <span class="hljs-selector-tag">main</span>
</code></pre>
<p>å«ä¹‰ï¼š</p>
<blockquote>
<p>ç”¨åŸä½œè€…çš„ main æ›´æ–°ä½ çš„ mainï¼Œå¹¶æ¨é€åˆ°ä½ è‡ªå·±çš„ GitHub</p>
</blockquote>
<hr/>
<h3 data-id="heading-7">ä¸ƒã€å¼€å‘ä½ çš„åŠŸèƒ½</h3>
<pre><code class="hljs language-perl" lang="perl">git checkout -b <span class="hljs-keyword">my</span>-feature
<span class="hljs-comment"># ä¿®æ”¹ä»£ç </span>
git add .
git commit -m <span class="hljs-string">"Add my feature"</span>
git <span class="hljs-keyword">push</span> origin <span class="hljs-keyword">my</span>-feature
</code></pre>
<hr/>
<h3 data-id="heading-8">å…«ã€æäº¤ Pull Request</h3>
<ol>
<li>
<p>æ‰“å¼€ä½ çš„ GitHub ä»“åº“</p>
</li>
<li>
<p>GitHub ä¼šæç¤ºï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">Compare</span> &amp; Pull Request
</code></pre>
</li>
<li>
<p>ç‚¹å‡»å¹¶å¡«å†™è¯´æ˜</p>
</li>
<li>
<p>æäº¤ â†’ åŸé¡¹ç›®ç»´æŠ¤è€…å®¡æ ¸</p>
</li>
</ol>
<hr/>
<h3 data-id="heading-9">ä¹ã€ä¸ºä»€ä¹ˆå¿…é¡»ä½¿ç”¨ upstreamï¼Ÿ</h3>

















<table><thead><tr><th>è¿œç¨‹å</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>origin</td><td>ä½ è‡ªå·±çš„ GitHub ä»“åº“</td></tr><tr><td>upstream</td><td>åŸä½œè€…çš„ GitHub ä»“åº“</td></tr></tbody></table>
<p>ä½ åªå‘ origin pushï¼Œä½†è¦ä» upstream è·å–æœ€æ–°ç‰ˆæœ¬ã€‚</p>
<hr/>
<h3 data-id="heading-10">åã€fetch vs merge çš„æ­£ç¡®ç”¨æ³•</h3>
<pre><code class="hljs language-rust" lang="rust">sequenceDiagram
    participant U <span class="hljs-keyword">as</span> GitHub upstream
    participant L <span class="hljs-keyword">as</span> Local Repo
    participant O <span class="hljs-keyword">as</span> GitHub origin

    U<span class="hljs-punctuation">-&gt;</span>&gt;L: git fetch upstream
    L<span class="hljs-punctuation">-&gt;</span>&gt;L: upstream/main æ›´æ–°
    L<span class="hljs-punctuation">-&gt;</span>&gt;L: git merge upstream/main
    L<span class="hljs-punctuation">-&gt;</span>&gt;O: git push origin main
</code></pre>
<ul>
<li><code>fetch</code> = ä¸‹è½½çœŸå®ä¸–ç•Œ</li>
<li><code>merge</code> = ä½¿ç”¨çœŸå®ä¸–ç•Œ</li>
</ul>
<p>æ°¸è¿œä¸è¦è·³è¿‡ fetchã€‚</p>
<hr/>
<h3 data-id="heading-11">åä¸€ã€é”™è¯¯ç¤ºä¾‹ï¼ˆä¸è¦è¿™æ ·ï¼‰</h3>
<pre><code class="hljs language-bash" lang="bash">git merge upstream/main   <span class="hljs-comment"># âŒ å¦‚æœä½ æ²¡å…ˆ fetch</span>
</code></pre>
<p>ä½ åˆå¹¶çš„å¯èƒ½æ˜¯ <strong>å‡ ä¸ªæœˆå‰ç¼“å­˜çš„ upstream</strong>ï¼Œéå¸¸å±é™©ã€‚</p>
<hr/>
<h3 data-id="heading-12">åäºŒã€æœ€ä½³å®è·µæ€»ç»“</h3>
<blockquote>
<p>Fork é¡¹ç›®çš„ç”Ÿå­˜æ³•åˆ™</p>
</blockquote>
<pre><code class="hljs language-sql" lang="sql">åªå‘ origin å†™ä»£ç   
åªä» upstream è¯»æ›´æ–°  
<span class="hljs-keyword">fetch</span> åœ¨å‰ï¼Œ<span class="hljs-keyword">merge</span> åœ¨å
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸš€ React Router 7 + Vercel éƒ¨ç½²å…¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7593077945015779355</link>    <guid>https://juejin.cn/post/7593077945015779355</guid>    <pubDate>2026-01-09T08:20:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593077945015779355" data-draft-id="7592992745574465574" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸš€ React Router 7 + Vercel éƒ¨ç½²å…¨æŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-09T08:20:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="whisper"/> <meta itemprop="url" content="https://juejin.cn/user/2814366169706040"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸš€ React Router 7 + Vercel éƒ¨ç½²å…¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2814366169706040/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    whisper
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:20:16.000Z" title="Fri Jan 09 2026 08:20:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä¸€ã€ å¼€å‘ç¯å¢ƒå‡†å¤‡ (æœ¬åœ°)</h3>
<ol>
<li><strong>æ¨èåŒ…ç®¡ç†å™¨</strong>ï¼šä½¿ç”¨ <code>pnpm</code> æ›¿ä»£ <code>npm</code> ä»¥è·å¾—æ›´å¿«çš„æ„å»ºé€Ÿåº¦å’Œæ›´æ¸…æ™°çš„ä¾èµ–ç®¡ç†ã€‚</li>
</ol>
<p>å¦‚æœå·²ç»ä½¿ç”¨npmæ„å»ºï¼Œé‚£ä¹ˆå…ˆåˆ æ‰node_modulesæ–‡ä»¶å¤¹ï¼Œå®‰è£…pnpm</p>
<pre><code class="hljs">pnpm install
</code></pre>
<ol start="2">
<li><strong>Node.js ç‰ˆæœ¬é™åˆ¶</strong>ï¼š</li>
</ol>
<p>åœ¨ <code>package.json</code> ä¸­æ˜¾å¼æŒ‡å®šï¼š</p>
<ul>
<li>
<ul>
<li>JSON</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"engines"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"node"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"20.x"</span> <span class="hljs-punctuation">}</span>
</code></pre>
<ol start="3">
<li><strong>é™æ€æ¨¡å¼é…ç½® (SPA)</strong> ï¼š</li>
</ol>
<p>è‹¥ä¸éœ€è¦ SSRï¼ˆæœåŠ¡ç«¯æ¸²æŸ“ï¼‰ï¼Œåœ¨ <code>react-router.config.ts</code> ä¸­è®¾ç½®ï¼š</p>
<ul>
<li>
<ul>
<li>TypeScript</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> { ssr: <span class="hljs-literal">false</span> } satisfies Config;
</code></pre>
<ol start="4">
<li><strong>å…³è”githubåŠvercel</strong></li>
</ol>
<p>æœ¬åœ°ä»£ç æäº¤åˆ°githubï¼ŒåŒæ—¶ç™»å½•vercelå¹³å°ï¼Œå°†vercelä¸githubå…³è”ä¸Šï¼Œåç»­ä½ åœ¨æœ¬åœ°æ”¹åŠ¨äº†ä»£ç å¹¶æäº¤åˆ°githubåï¼Œè®¿é—®vercelå¹³å°çš„é¡¹ç›®åŸŸåå°±èƒ½çœ‹åˆ°æ”¹åŠ¨çš„å†…å®¹äº†</p>
<hr/>
<h3 data-id="heading-1">äºŒã€ é™æ€èµ„æºä¸å›¾æ ‡ (Icon)</h3>
<ol>
<li><strong>æ–‡ä»¶å­˜æ”¾</strong>ï¼šæ‰€æœ‰çš„å›¾ç‰‡ã€SVG å›¾æ ‡å¿…é¡»æ”¾åœ¨æ ¹ç›®å½•çš„ <code>public/</code> æ–‡ä»¶å¤¹ä¸‹ã€‚</li>
<li><strong>é¡µé¢å¼•å…¥</strong>ï¼š</li>
</ol>
<p>åœ¨ <code>app/root.tsx</code> çš„ <code>links</code> å‡½æ•°ä¸­é…ç½®ï¼š</p>
<ul>
<li>
<ul>
<li>TypeScript</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-ini" lang="ini">export const links: <span class="hljs-attr">LinksFunction</span> = () =&gt; [
  { rel: <span class="hljs-string">"icon"</span>, type: <span class="hljs-string">"image/svg+xml"</span>, href: <span class="hljs-string">"/logo.svg"</span> },
]<span class="hljs-comment">;</span>
</code></pre>
<hr/>
<h3 data-id="heading-2">ä¸‰ã€ Vercel éƒ¨ç½²å…³é”®ç‚¹ (æœ€é‡è¦)</h3>
<p>å¦‚æœä½ é‡åˆ° <code>now-php</code> æˆ– <code>Function Runtimes</code> æŠ¥é”™ï¼Œè¯·æ£€æŸ¥ä»¥ä¸‹é…ç½®ï¼š</p>
<p><code>vercel.json</code> <strong>é…ç½®</strong>ï¼ˆå¼ºåˆ¶é™æ€é‡å†™ï¼Œé˜²æ­¢ 404ï¼‰ï¼š</p>
<ol>
<li>JSON</li>
</ol>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"framework"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vite"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"rewrites"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span> <span class="hljs-attr">"source"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/(.*)"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"destination"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/"</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ol start="2">
<li><strong>Vercel åå°è®¾ç½®</strong>ï¼š</li>
</ol>
<ul>
<li>
<ul>
<li><strong>Framework Preset</strong>: ä¼˜å…ˆé€‰æ‹© <code>Vite</code>ï¼›å¦‚æœè¢«é”å®šä¸º <code>React Router</code>ï¼Œè¯·ç¡®ä¿æ‰‹åŠ¨å¼€å¯ <strong>Build and Output Settings</strong>ã€‚</li>
<li><strong>Build Command</strong>: <code>pnpm build</code></li>
<li><strong>Output Directory</strong>: <code>dist</code>ï¼ˆå¦‚æœåœ¨è„šæœ¬ä¸­æ‰‹åŠ¨ç§»åŠ¨äº†äº§ç‰©ï¼‰æˆ– <code>build/client</code>ã€‚</li>
<li><strong>Install Command</strong>: <code>pnpm install</code></li>
</ul>
</li>
</ul>
<hr/>
<h3 data-id="heading-3">å››ã€ è‡ªå®šä¹‰åŸŸå</h3>
<ol>
<li><strong>ä¿®æ”¹ Vercel é»˜è®¤åŸŸå</strong>ï¼š</li>
</ol>
<ul>
<li>
<ul>
<li><code>Settings</code> -&gt; <code>Domains</code> -&gt; <code>Edit</code>ï¼Œå¯ä»¥ç›´æ¥ä¿®æ”¹ <code>xxx.vercel.app</code> çš„å‰ç¼€ã€‚</li>
</ul>
</li>
</ul>
<ol start="2">
<li><strong>ç»‘å®šç‹¬ç«‹åŸŸå</strong>ï¼š</li>
</ol>
<ul>
<li>
<ul>
<li>åœ¨ <code>Domains</code> é¡µé¢è¾“å…¥ä½ è´­ä¹°çš„åŸŸåã€‚</li>
<li><strong>DNS é…ç½®</strong>ï¼š</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>
<ul>
<li><strong>A è®°å½•</strong>ï¼šæŒ‡å‘ <code>76.76.21.21</code>ã€‚</li>
<li><strong>CNAME è®°å½•</strong>ï¼šæŒ‡å‘ <code>cname.vercel-dns.com</code>ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr/>
<h3 data-id="heading-4">ğŸ’¡ æ ¸å¿ƒé¿å‘å¿ƒå¾—</h3>
<ul>
<li><strong>æ¸…ç†ç¼“å­˜</strong>ï¼šéƒ¨ç½²æŠ¥é”™æ—¶ï¼Œå°è¯•åˆ é™¤ Vercel é¡¹ç›®é‡æ–°å¯¼å…¥ï¼Œå¹¶ç¡®ä¿ <code>pnpm-lock.yaml</code> æ˜¯æœ€æ–°çš„ã€‚</li>
<li><strong>è·¯å¾„å¤§å°å†™</strong>ï¼šVercel çš„ Linux ç¯å¢ƒå¯¹æ–‡ä»¶åå¤§å°å†™æ•æ„Ÿï¼Œç¡®ä¿ <code>import</code> è·¯å¾„ä¸æ–‡ä»¶åå®Œå…¨ä¸€è‡´ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»vue3 watchå¼€å§‹ç†è§£Vueçš„å“åº”å¼åŸç†]]></title>    <link>https://juejin.cn/post/7592922036093222927</link>    <guid>https://juejin.cn/post/7592922036093222927</guid>    <pubDate>2026-01-09T08:23:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592922036093222927" data-draft-id="7592939457043529780" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»vue3 watchå¼€å§‹ç†è§£Vueçš„å“åº”å¼åŸç†"/> <meta itemprop="keywords" content="Vue.js,å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-09T08:23:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¾å¾å­"/> <meta itemprop="url" content="https://juejin.cn/user/1724455245584872"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»vue3 watchå¼€å§‹ç†è§£Vueçš„å“åº”å¼åŸç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1724455245584872/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¾å¾å­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:23:32.000Z" title="Fri Jan 09 2026 08:23:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»vue3 watchå¼€å§‹ç†è§£Vueçš„å“åº”å¼åŸç†</h2>
<h3 data-id="heading-1">å‰è¨€</h3>
<p>vueæºä»£ç çš„å†…å®¹éå¸¸ä¹‹å¤šï¼ŒåŒ…æ‹¬æ¨¡æ¿è§£æï¼ˆæŠŠvueæ–‡ä»¶çš„å†™æ³•è§£ææˆä¸€ä¸ªå‡½æ•°ç”¨æ¥æ’å…¥domæˆ–è€…è°ƒæ•´domï¼‰ï¼Œä¾èµ–æ”¶é›†ï¼Œå“åº”å¼ï¼Œäº‹ä»¶å¤„ç†ï¼Œæ’æ§½ï¼Œç»„ä»¶ï¼ŒæŒ‡ä»¤ï¼Œç­‰ç­‰ç­‰ã€‚åˆšå¼€å§‹çœ‹æ—¶ä¸çŸ¥é“ä»ä½•çœ‹èµ·ï¼Œè¿™é‡Œåˆ†äº«ä¸€ä¸ªä¸ªäººçš„å­¦ä¹ æ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥ä»ä¸€äº›å…³é”®çš„apiå¼€å§‹é€æ­¥å­¦ä¹ ï¼Œè¿™é‡Œæ¨è reactiveï¼Œwatchã€‚æ˜ç™½äº†è¿™ä¸¤ä¸ªapiæ—¶å¦‚ä½•å·¥ä½œçš„ï¼Œé‚£vueçš„å“åº”å¼ç³»ç»Ÿå°±åŸºæœ¬ç†è§£äº†ã€‚</p>
<h3 data-id="heading-2">let`s start</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// demo.js</span>
<span class="hljs-keyword">import</span> { reactive, watch } <span class="hljs-keyword">from</span> <span class="hljs-string">'./vue-core.js'</span>
<span class="hljs-keyword">const</span> user = <span class="hljs-title function_">reactive</span>({
  <span class="hljs-attr">name</span>: <span class="hljs-string">'Alice'</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">25</span>
})
<span class="hljs-title function_">watch</span>(user, <span class="hljs-function">(<span class="hljs-params">newValue, oldValue</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(
    <span class="hljs-string">`User changed from <span class="hljs-subst">${oldValue.name}</span>,<span class="hljs-subst">${oldValue.age}</span> to <span class="hljs-subst">${newValue.name}</span>,<span class="hljs-subst">${newValue.age}</span>`</span>
  )
})
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
  user.<span class="hljs-property">name</span> = <span class="hljs-string">'Bob'</span>
  user.<span class="hljs-property">age</span> = <span class="hljs-number">30</span>
}, <span class="hljs-number">1000</span>)

</code></pre>
<p>æœ´ç´ çš„ç¤ºä¾‹ï¼Œå¦‚æœuserå‘ç”Ÿäº†å˜åŒ–ã€‚é‚£ä¹ˆå°±ä¼šè§¦å‘watchçš„å›è°ƒã€‚è„±ç¦»vueæ¡†æ¶ï¼Œæˆ‘ä»¬éœ€è¦å¦‚ä½•è®¾è®¡å‘¢ï¼Œé¦–å…ˆæƒ³åˆ°çš„ç®€å•é€»è¾‘å°±æ˜¯æ‹¦æˆªuserçš„setå’Œgetã€‚æ— è®ºæ˜¯é€šè¿‡Proxyè¿˜æ˜¯Objectçš„setï¼ŒåŸç†æ˜¯ä¸€æ ·çš„ã€‚</p>
<pre><code class="hljs language-vue-core.js" lang="vue-core.js">let activeSub = null // å½“å‰æ´»è·ƒçš„è®¢é˜…è€…
const targetMap = new WeakMap()

export function reactive(obj) {
  return new Proxy(obj, {
    get(target, key, receiver) {
      track(target, key)
      return Reflect.get(target, key, receiver)
    },
    set(target, key, value, receiver) {
      const res = Reflect.set(target, key, value, receiver)
      trigger(target, key)
      return res
    }
  })
}
// ç®€åŒ–ç‰ˆwatchå®ç°,åªè€ƒè™‘ç›‘å¬ä¸€ä¸ªreactiveå¯¹è±¡ï¼ˆç±»ä¼¼ä¸Šé¢çš„userä¾‹å­ï¼‰çš„å˜åŒ–
export function watch(source, cb) {
  const getter = () =&gt; {
    for (const key in source) {
      source[key]
    }
    return source
  }
  let oldValue
  const effect = new ReactiveEffect(getter)
  const job = () =&gt; {
    const newValue = effect.run()
    //todo å¯¹æ¯”newValueå’ŒoldValueæ˜¯å¦æœ‰å˜åŒ–
    cb(newValue, oldValue)
    oldValue = newValue
  }
  effect.schedule = job
  oldValue = effect.run()
  console.log('old', oldValue)
}

// ç¤ºä¾‹è§£é‡Šï¼šæœé›†userä¸­æ¯ä¸ªkeyçš„ä¸‹æ¸¸ä¾èµ–ï¼Œå½“userçš„nameæˆ–ageå˜åŒ–æ—¶ï¼Œè§¦å‘å¯¹åº”çš„ä¾èµ–æ›´æ–°ï¼Œä»è€Œè°ƒç”¨watchçš„å›è°ƒå‡½æ•°ã€‚
function track(target, key) {
  let depsMap = targetMap.get(target)
  if (!depsMap) {
    targetMap.set(target, (depsMap = new Map()))
  }
  let dep = depsMap.get(key)
  if (!dep) {
    depsMap.set(key, (dep = new Dep()))
  }
  dep.track()
}
function trigger(target, key) {
  const depsMap = targetMap.get(target)
  if (!depsMap) return
  const dep = depsMap.get(key)
  if (dep) {
    dep.trigger()
  }
}

function Dep() {
  this.subs = new Set()
  this.track = () =&gt; {
    // å€ŸåŠ©å…¨å±€å˜é‡activeSubè®°å½•å½“å‰æ´»è·ƒçš„è®¢é˜…è€…
    if (activeSub) {
      this.subs.add(activeSub)
    }
  }
  this.trigger = () =&gt; {
    this.subs.forEach((sub) =&gt; {
      sub.notify()
    })
  }
}

function ReactiveEffect(fn) {
  this.fn = fn
  this.notify = null // å›è°ƒå‡½æ•°, å¯ç±»æ¯”äºwatchçš„cbç”¨æ¥è¾…åŠ©ç†è§£
  this.schedule = null
  this.run = () =&gt; {
    // æ ‡è®°å½“å‰æ´»è·ƒçš„è®¢é˜…è€…ä¸ºthis é€šè¿‡fnè§¦å‘æ¯ä¸ªrefæˆ–è€…reactiveå¯¹è±¡çš„getter
    // ä»è€Œè§¦å‘trackå‡½æ•°ï¼Œå°†å½“å‰æ´»è·ƒçš„è®¢é˜…è€…thisæ·»åŠ åˆ°depçš„subsä¸­
    const preActiveSub = activeSub
    activeSub = this
    const value = this.fn()
    activeSub = preActiveSub
    return value
  }
  // ä¸Šæ¸¸çš„refæˆ–è€…reactiveå¯¹è±¡è§¦å‘setteræ—¶ï¼Œä¼šé€šè¿‡æ”¶é›†è€…è°ƒç”¨triggerå‡½æ•°ï¼Œä»è€Œè§¦å‘scheduleå‡½æ•°ï¼Œåœ¨watchä¸­å°±æ˜¯cbå‡½æ•°
  this.trigger = () =&gt; {
    this.schedule?.()
  }
  this.notify = () =&gt; {
    this.trigger()
  }
}


</code></pre>
<p>ä»ä¸Šé¢çš„demoä¸­æˆ‘ä»¬åˆæ­¥å®ç°äº†userå˜åŠ¨æ—¶è°ƒç”¨ä¸€ä¸ªå›è°ƒï¼Œdepsè¡¨ç¤ºâ€œä¾èµ–â€ï¼Œé€šä¿—çš„ç†è§£å°±æ˜¯æœ‰å¤šå°‘ä¸ªä¸‹æ¸¸æ­£åœ¨ä¾èµ–userï¼Œä¾‹å¦‚computedï¼Œwatchï¼Œrenderå‡½æ•°ç­‰ç­‰è¿™äº›çš„æœ€ç»ˆç»“æœéƒ½æ˜¯æ ¹æ®ä¸Šæ¸¸æ¥å˜åŠ¨çš„ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7ea5b4ca808c4f92ad4f667b53d72641~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5b6Q5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768551812&amp;x-signature=zZe3IG9xoTjpn77lYac00AbsKMQ%3D" alt="3a7131ea44dd9bfb4726e7f3af8f988ce8045f8de77b904d636c9d9b0ff74207.png" loading="lazy"/></p>
<p>è¿™é‡Œé¢å…¶å®å°±ä¸¤ä¸ªæ¦‚å¿µéœ€è¦ç†è§£ï¼Œä¸€ä¸ªæ˜¯ä¾èµ–æ”¶é›†è€… Depï¼Œä¸€ä¸ªæ˜¯å“åº”å‰¯ä½œç”¨ç®¡ç†å™¨ ReactiveEffectã€‚å€ŸåŠ©ä¾‹å­ï¼ŒDep ç†è§£ä¸ºç”¨æ¥ç®¡ç†userä¸­æ¯ä¸ªkeyéƒ½æœ‰å“ªäº›watchæ­£åœ¨ç›‘å¬ã€‚è€Œ ReactiveEffect ç†è§£ä¸ºå½“userçš„æŸä¸ªkeyå‘ç”Ÿå˜åŒ–æ—¶ï¼Œéœ€è¦è°ƒç”¨å“ªäº›watchçš„å›è°ƒå‡½æ•°ã€‚</p>
<p>è°ƒç”¨watchçš„è¿‡ç¨‹å…¶å®å…³æ³¨çš„å°±æ˜¯  oldValue = effect.run() è¿™ä¸€æ®µä»£ç ã€‚åœ¨åˆ›å»ºwatchæ—¶ï¼Œä¼šç«‹å³è°ƒç”¨effect.run()ï¼Œä»è€Œè§¦å‘userçš„getterï¼Œä»è€Œè§¦å‘trackå‡½æ•°ï¼Œå°†å½“å‰æ´»è·ƒçš„è®¢é˜…è€…effectæ·»åŠ åˆ°user.nameå’Œuser.ageçš„depä¸­ã€‚è¿™æ ·ï¼Œå½“user.nameæˆ–user.ageå‘ç”Ÿå˜åŒ–æ—¶ï¼Œå°±ä¼šè§¦å‘triggerå‡½æ•°ï¼Œä»è€Œè°ƒç”¨effectçš„notifyå‡½æ•°ï¼Œä»è€Œè°ƒç”¨watchçš„å›è°ƒå‡½æ•°ã€‚</p>
<p>ç»„ä»¶æ¸²æŸ“å…¶å®å°±æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„watchï¼Œwatchçš„å›è°ƒå‡½æ•°å°±æ˜¯æ¸²æŸ“å‡½æ•°ã€‚å½“userçš„nameæˆ–ageå‘ç”Ÿå˜åŒ–æ—¶ï¼Œå°±ä¼šè§¦å‘æ¸²æŸ“å‡½æ•°ï¼Œä»è€Œæ›´æ–°domã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨ Electron å†™äº†ä¸€ä¸ª macOS ç‰ˆæœ¬çš„ wallpaperï¼ˆé™„æºç ã€ä¸‹è½½åœ°å€ï¼‰]]></title>    <link>https://juejin.cn/post/7592939457043726388</link>    <guid>https://juejin.cn/post/7592939457043726388</guid>    <pubDate>2026-01-09T08:46:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592939457043726388" data-draft-id="7592939457043349556" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨ Electron å†™äº†ä¸€ä¸ª macOS ç‰ˆæœ¬çš„ wallpaperï¼ˆé™„æºç ã€ä¸‹è½½åœ°å€ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,Electron,Vue.js"/> <meta itemprop="datePublished" content="2026-01-09T08:46:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="musashi"/> <meta itemprop="url" content="https://juejin.cn/user/4072246799240072"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨ Electron å†™äº†ä¸€ä¸ª macOS ç‰ˆæœ¬çš„ wallpaperï¼ˆé™„æºç ã€ä¸‹è½½åœ°å€ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4072246799240072/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    musashi
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:46:46.000Z" title="Fri Jan 09 2026 08:46:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Mac ä¸Šä¸€ç›´æœªèƒ½æ‰¾åˆ°å…è´¹ä¸”å¥½ç”¨çš„ç±»ä¼¼ Wallpaper Engine çš„åŠ¨æ€å£çº¸è½¯ä»¶ã€‚æ‰€ä»¥ç›´æ¥æƒ³ç€è‡ªå·±æä¸€ä¸ªã€‚</p>
<p>æœ¬æ–‡ä¸»è¦è®°å½•æ ¸å¿ƒæŠ€æœ¯ç‚¹çš„å®ç°ï¼ŒåŒ…æ‹¬â€œå°†çª—å£ç½®äºæ¡Œé¢å›¾æ ‡ä¸‹å±‚â€ã€â€œå¤šæ˜¾ç¤ºå™¨æ”¯æŒâ€ã€â€œç³»ç»Ÿæ‰˜ç›˜å¸¸é©»â€ã€‚</p>
<p>æ•ˆæœå±•ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/287c98bf651a4a06934c604bc032785b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbXVzYXNoaQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768553772&amp;x-signature=MvFAzM5UTh1rTEbjQIDdOnbjp84%3D" alt="output.gif" loading="lazy"/></p>
<h2 data-id="heading-0">åŠŸèƒ½æ”¯æŒ</h2>
<ul>
<li><strong>æ§åˆ¶ä¸­å¿ƒ (Dashboard)</strong>ï¼šæä¾›ç‹¬ç«‹çš„æ§åˆ¶é¢æ¿ï¼Œå¯ä¸ºæ¯ä¸ªæ˜¾ç¤ºå™¨å•ç‹¬ç®¡ç†å£çº¸ã€‚</li>
<li><strong>ä¸°å¯Œçš„åª’ä½“æ”¯æŒ</strong>ï¼š
<ul>
<li><strong>å›¾ç‰‡</strong>ï¼šæ”¯æŒ JPG, PNG, GIF, WebP ç­‰å¸¸è§æ ¼å¼ã€‚</li>
<li><strong>è§†é¢‘</strong>ï¼šæ”¯æŒ MP4, WebM, MKV, MOV (è‡ªåŠ¨é™éŸ³å¾ªç¯æ’­æ”¾)ã€‚</li>
<li><strong>HTML</strong>ï¼šæ”¯æŒå°†ä»»æ„æœ¬åœ° HTML æ–‡ä»¶è®¾ç½®ä¸ºäº¤äº’å¼å£çº¸ã€‚</li>
</ul>
</li>
<li><strong>è‡ªåŠ¨ä¿å­˜çŠ¶æ€</strong>ï¼šåº”ç”¨é‡å¯åï¼Œè‡ªåŠ¨æ¢å¤ä¸Šæ¬¡è®¾ç½®çš„å£çº¸é…ç½®ã€‚</li>
<li><strong>å†å²è®°å½•</strong>ï¼šè‡ªåŠ¨è®°å½•æœ€è¿‘ä½¿ç”¨çš„å£çº¸ï¼Œæ–¹ä¾¿å¿«é€Ÿåˆ‡æ¢å›ä¹‹å‰çš„å–œçˆ±å†…å®¹ã€‚</li>
<li><strong>å¤šæ˜¾ç¤ºå™¨æ”¯æŒ</strong>ï¼šè‡ªåŠ¨æ£€æµ‹æ¥å…¥çš„æ˜¾ç¤ºå™¨ï¼Œå¹¶æ”¯æŒå¤šå±ç‹¬ç«‹è®¾ç½®ã€‚</li>
<li><strong>åœ¨çº¿ç”»å»Š</strong>ï¼šå†…ç½®åœ¨çº¿èµ„æºåº“ï¼Œå¯ä¸€é”®ä¸‹è½½åŒ…æ‹¬ã€Šç»åŒºé›¶ã€‹ã€ã€ŠåŸç¥ã€‹ã€ã€Šé¸£æ½®ã€‹ç­‰çƒ­é—¨æ¸¸æˆçš„é«˜æ¸…é™æ€ä¸åŠ¨æ€å£çº¸ã€‚</li>
</ul>
<h2 data-id="heading-1">æ ¸å¿ƒæŠ€æœ¯å®ç°</h2>
<h3 data-id="heading-2">1. å°†çª—å£ç½®äºæ¡Œé¢å›¾æ ‡ä¸‹å±‚</h3>
<p>è¿™æ˜¯æœ€æ ¸å¿ƒçš„åŠŸèƒ½ã€‚Electron çš„ <code>BrowserWindow</code> æä¾›äº†ä¸€ä¸ª <code>type: 'desktop'</code> å±æ€§ï¼Œåœ¨ macOS ä¸Šä¼šå°†çª—å£ç½®äºæœ€åº•å±‚ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> win = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BrowserWindow</span>({
  <span class="hljs-attr">type</span>: <span class="hljs-string">'desktop'</span>, <span class="hljs-comment">// å…³é”®é…ç½®ï¼šè®¾ç½®ä¸ºæ¡Œé¢ç±»å‹</span>
  <span class="hljs-attr">enableLargerThanScreen</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">frame</span>: <span class="hljs-literal">false</span>,    <span class="hljs-comment">// æ— è¾¹æ¡†</span>
  <span class="hljs-attr">show</span>: <span class="hljs-literal">false</span>,     <span class="hljs-comment">// å…ˆéšè—ï¼ŒåŠ è½½å®Œå†æ˜¾ç¤º</span>
  <span class="hljs-attr">webPreferences</span>: {
    <span class="hljs-attr">nodeIntegration</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">contextIsolation</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">webSecurity</span>: <span class="hljs-literal">false</span> <span class="hljs-comment">// å…è®¸åŠ è½½æœ¬åœ°èµ„æº</span>
  }
});
</code></pre>
<p>ä»…ä»…è¿™æ ·è¿˜ä¸å¤Ÿï¼Œä¸ºäº†ä¿è¯äº¤äº’ä½“éªŒï¼Œæˆ‘ä»¬éœ€è¦è®©è¿™ä¸ªçª—å£æ— æ³•è¢«èšç„¦å’Œç§»åŠ¨ï¼ŒåƒçœŸæ­£çš„å£çº¸ä¸€æ ·ã€‚</p>
<h3 data-id="heading-3">2. å¤šæ˜¾ç¤ºå™¨æ”¯æŒ</h3>
<p>ç°åœ¨çš„å¼€å‘ç¯å¢ƒé€šå¸¸éƒ½æœ‰å¤šä¸ªå±å¹•ã€‚é€šè¿‡ Electron çš„ <code>screen</code> æ¨¡å—è·å–æ‰€æœ‰æ˜¾ç¤ºå™¨ï¼Œå¹¶ä¸ºæ¯ä¸ªæ˜¾ç¤ºå™¨åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„ BrowserWindow å®ä¾‹ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> { screen } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'electron'</span>);

<span class="hljs-keyword">const</span> displays = screen.<span class="hljs-title function_">getAllDisplays</span>();

displays.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">display</span>) =&gt;</span> {
  <span class="hljs-title function_">createWallpaperWindow</span>(display);
});

<span class="hljs-keyword">function</span> <span class="hljs-title function_">createWallpaperWindow</span>(<span class="hljs-params">display</span>) {
  <span class="hljs-keyword">const</span> { x, y, width, height } = display.<span class="hljs-property">bounds</span>;
  <span class="hljs-keyword">const</span> win = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BrowserWindow</span>({
    x, y, width, height, <span class="hljs-comment">// å¡«æ»¡å½“å‰å±å¹•</span>
    <span class="hljs-comment">// ... å…¶ä»–é…ç½®</span>
  });
  
  <span class="hljs-comment">// åŠ è½½èµ„æº</span>
  win.<span class="hljs-title function_">loadFile</span>(<span class="hljs-string">'path/to/wallpaper.html'</span>);
}
</code></pre>
<h3 data-id="heading-4">3. èµ„æºè·å– (çˆ¬è™«)</h3>
<p>ä¸ºäº†è§£å†³å£çº¸æ¥æºé—®é¢˜ï¼Œå†…ç½®äº†ä¸€ä¸ªç®€å•çš„çˆ¬è™«ï¼ˆåŸºäº Node.js <code>fetch</code>ï¼‰ï¼ŒæŠ“å–ç±³æ¸¸ç¤¾ç­‰å¹³å°çš„åŒäººå›¾å’Œå®˜æ–¹å£çº¸ã€‚</p>
<p>ä¸»è¦éš¾ç‚¹åœ¨äºå¤„ç†æ¥å£çš„ Referer æ ¡éªŒå’Œæ•°æ®åˆ†é¡µã€‚</p>
<h3 data-id="heading-5">4. ç”šè‡³æ”¯æŒå…³é—­ä¸»çª—å£åå¸¸é©»åå°</h3>
<p>ä¸ºäº†ä¸è®©åº”ç”¨åœ¨å…³é—­è®¾ç½®é¢æ¿ï¼ˆä¸»çª—å£ï¼‰æ—¶ç›´æ¥é€€å‡ºï¼Œéœ€è¦åˆ©ç”¨ <code>Tray</code> æ¨¡å—å’Œæ‹¦æˆª <code>window-all-closed</code> äº‹ä»¶ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ‹¦æˆªä¸»çª—å£å…³é—­äº‹ä»¶ï¼Œæ”¹ä¸ºéšè—</span>
mainWindow.<span class="hljs-title function_">on</span>(<span class="hljs-string">'close'</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (!app.<span class="hljs-property">isQuitting</span>) {
    event.<span class="hljs-title function_">preventDefault</span>();
    mainWindow.<span class="hljs-title function_">hide</span>();
  }
});

<span class="hljs-comment">// å®ç°æ‰˜ç›˜èœå•</span>
<span class="hljs-keyword">const</span> tray = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Tray</span>(iconPath);
<span class="hljs-keyword">const</span> contextMenu = <span class="hljs-title class_">Menu</span>.<span class="hljs-title function_">buildFromTemplate</span>([
  { <span class="hljs-attr">label</span>: <span class="hljs-string">'æ‰“å¼€é¢æ¿'</span>, <span class="hljs-attr">click</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">showMainWindow</span>() },
  { <span class="hljs-attr">label</span>: <span class="hljs-string">'é€€å‡º'</span>, <span class="hljs-attr">click</span>: <span class="hljs-function">() =&gt;</span> {
      app.<span class="hljs-property">isQuitting</span> = <span class="hljs-literal">true</span>;
      app.<span class="hljs-title function_">quit</span>();
    } 
  }
]);
tray.<span class="hljs-title function_">setContextMenu</span>(contextMenu);
</code></pre>
<h2 data-id="heading-6">æ„å»ºä¸åˆ†å‘</h2>
<h3 data-id="heading-7">1. åŒæ¶æ„æ‰“åŒ…</h3>
<p>ä¸ºäº†åŒæ—¶æ”¯æŒ M1/M2/M3 (Apple Silicon) å’Œæ—§æ¬¾ Intel Macï¼Œé…ç½®äº† <code>electron-builder</code> çš„ universal æ„å»ºæˆ–åˆ†åˆ«æ„å»ºã€‚</p>
<p><code>package.json</code> é…ç½®ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"mac"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"target"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"target"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"default"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"arch"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"x64"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"arm64"</span><span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-8">2. "åº”ç”¨å·²æŸåï¼Œæ— æ³•æ‰“å¼€" çš„è§£å†³</h3>
<p>å› ä¸ºæ²¡æœ‰è´­ä¹° Apple æ˜‚è´µçš„å¼€å‘è€…è¯ä¹¦è¿›è¡Œç­¾åï¼Œç¼–è¯‘å‡ºçš„ <code>.app</code> åœ¨åˆ«äººçš„ç”µè„‘ä¸Šè¿è¡Œæ—¶ä¼šè¢« macOS Gatekeeper æ‹¦æˆªï¼Œæç¤ºâ€œåº”ç”¨å·²æŸåâ€ã€‚</p>
<p>è¿™æ˜¯ä¸€ä¸ªå¸¸è§é—®é¢˜ï¼Œè§£å†³æ–¹æ³•æ˜¯ç§»é™¤è‹¹æœçš„éš”ç¦»å±æ€§ã€‚ç”¨æˆ·éœ€è¦æ‰§è¡Œä¸€æ¬¡ç»ˆç«¯å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">sudo xattr -rd com.apple.quarantine /Applications/Wallpaper-Mac.app
</code></pre>
<h2 data-id="heading-9">æºç ä¸ä¸‹è½½</h2>
<p>é¡¹ç›®å·²å¼€æºï¼Œè™½ç„¶åŠŸèƒ½ç®€å•ï¼Œä½†è¶³ä»¥æ»¡è¶³æ—¥å¸¸åŠ¨æ€å£çº¸éœ€æ±‚ï¼ˆæ”¯æŒè§†é¢‘ã€å›¾ç‰‡ï¼‰ã€‚</p>
<ul>
<li><strong>GitHub åœ°å€</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fzhulinghao%2Fwallpaper-mac" target="_blank" title="https://github.com/zhulinghao/wallpaper-mac" ref="nofollow noopener noreferrer">github.com/zhulinghao/â€¦</a></li>
<li><strong>Release ä¸‹è½½</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fzhulinghao%2Fwallpaper-mac%2Freleases%2Ftag%2Fv1.0.0" target="_blank" title="https://github.com/zhulinghao/wallpaper-mac/releases/tag/v1.0.0" ref="nofollow noopener noreferrer">github.com/zhulinghao/â€¦</a></li>
</ul>
<p>æ¬¢è¿ Star å’Œ PRã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Web ä»”ç”¨ Node åƒ Java ä¸€æ ·å†™åç«¯æœåŠ¡]]></title>    <link>https://juejin.cn/post/7593173569871183924</link>    <guid>https://juejin.cn/post/7593173569871183924</guid>    <pubDate>2026-01-09T09:10:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593173569871183924" data-draft-id="7592960378690682915" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Web ä»”ç”¨ Node åƒ Java ä¸€æ ·å†™åç«¯æœåŠ¡"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-09T09:10:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="JFChen"/> <meta itemprop="url" content="https://juejin.cn/user/4336129593055966"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Web ä»”ç”¨ Node åƒ Java ä¸€æ ·å†™åç«¯æœåŠ¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4336129593055966/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    JFChen
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:10:27.000Z" title="Fri Jan 09 2026 09:10:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å½“Node.jsé‡ä¸ŠJavaçš„ä¼˜é›…æ¶æ„ï¼Œä¼šç¢°æ’å‡ºæ€æ ·çš„ç«èŠ±ï¼Ÿ</p>
</blockquote>
<p>ä½œä¸ºä¸€åå‰ç«¯å¼€å‘è€…ï¼Œæˆ‘ä»¬å¸¸å¸¸è¢«Javaå¼€å‘è€…"é„™è§†"ï¼š"Node.jså°±æ˜¯ä¸ªç©å…·ï¼Œå†™å†™å‰ç«¯è¿˜è¡Œï¼Œåšåç«¯ï¼Ÿç®—äº†å§ï¼" ä½†äº‹å®çœŸçš„å¦‚æ­¤å—ï¼Ÿé€šè¿‡ä¸€ä¸ªå®Œæ•´çš„manage-system-serveré¡¹ç›®å®è·µï¼Œæˆ‘å°†å‘å¤§å®¶å±•ç¤ºå¦‚ä½•ç”¨Node.jsæ„å»ºå‡ºåª²ç¾Java Springçš„ä¼ä¸šçº§åç«¯æœåŠ¡ï¼ŒNode.jsä¹Ÿå¯ä»¥å†™å¾—è¿™ä¹ˆ"JavaèŒƒå„¿"ï¼ä»Šå¤©å°±æ¥è·Ÿå¤§å®¶åˆ†äº«è¿™ä¸ªåŸºäº <strong>Koa + TypeScript + TypeORM</strong> çš„ç°ä»£åŒ–åç«¯æ¶æ„ã€‚</p>
<h2 data-id="heading-0">ğŸ—ï¸ æ¶æ„è®¾è®¡ï¼šSpring Bootçš„Node.jsç‰ˆ</h2>
<p>è¿™ä¸ªé¡¹ç›®é‡‡ç”¨äº†å…¸å‹çš„åˆ†å±‚æ¶æ„ï¼Œè®©æˆ‘æƒ³èµ·äº†Java Spring Bootçš„ä¼˜é›…è®¾è®¡ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby">src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ controllers/    <span class="hljs-comment"># æ§åˆ¶å™¨å±‚ - ç±»ä¼¼Springçš„<span class="hljs-doctag">@Controller</span></span>
â”‚   â”œâ”€â”€ entity/         <span class="hljs-comment"># æ•°æ®å®ä½“ - ç±»ä¼¼JPA Entity</span>
â”‚   â”œâ”€â”€ service/        <span class="hljs-comment"># ä¸šåŠ¡æœåŠ¡å±‚ - ç±»ä¼¼<span class="hljs-doctag">@Service</span></span>
â”‚   â””â”€â”€ req-validate/   <span class="hljs-comment"># è¯·æ±‚éªŒè¯ - ç±»ä¼¼DTOéªŒè¯</span>
â”œâ”€â”€ config/             <span class="hljs-comment"># é…ç½®ç®¡ç†</span>
â”œâ”€â”€ decorator/          <span class="hljs-comment"># è£…é¥°å™¨ - ç±»ä¼¼Springæ³¨è§£</span>
â”œâ”€â”€ middles/            <span class="hljs-comment"># ä¸­é—´ä»¶ - ç±»ä¼¼Springæ‹¦æˆªå™¨</span>
â””â”€â”€ tools/              <span class="hljs-comment"># å·¥å…·ç±»</span>
</code></pre>
<h2 data-id="heading-1">ğŸ¯ æ ¸å¿ƒç‰¹æ€§ï¼šJavaèŒƒå„¿çš„Node.jså®ç°</h2>
<h3 data-id="heading-2">1. ä¾èµ–æ³¨å…¥ï¼šå‘Šåˆ«requireçš„æ··ä¹±</h3>
<p>é¡¹ç›®ä½¿ç”¨ <code>typedi</code> å®ç°ä¾èµ–æ³¨å…¥ï¼Œè®©ä»£ç ç»„ç»‡æ›´åŠ æ¸…æ™°ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Service</span>()
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> roleService: RoleService</span>) {}
  
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">userList</span>(<span class="hljs-params">req: IListReq</span>) {
    <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘</span>
  }
}
</code></pre>
<h3 data-id="heading-3">2. å£°æ˜å¼æ§åˆ¶å™¨ï¼šæ³¨è§£é©±åŠ¨çš„APIè®¾è®¡</h3>
<p>åŸºäº <code>routing-controllers</code> çš„æ§åˆ¶å™¨è®¾è®¡ï¼Œè®©APIå®šä¹‰å˜å¾—ä¼˜é›…ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@JsonController</span>()
<span class="hljs-meta">@Service</span>()
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> userService: UserService</span>) {}

  <span class="hljs-meta">@Post</span>(<span class="hljs-title class_">Api</span>.<span class="hljs-property">USER_LIST</span>)
  <span class="hljs-meta">@ApiAuth</span>(<span class="hljs-title class_">ModuleEnum</span>.<span class="hljs-property">USER</span>, <span class="hljs-title class_">OperationEnum</span>.<span class="hljs-property">QUERY</span>)
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">userList</span>(<span class="hljs-params"><span class="hljs-meta">@Body</span>({ validate: <span class="hljs-literal">true</span> }) body: IListReq</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">userService</span>.<span class="hljs-title function_">userList</span>(body);
  }
}
</code></pre>
<h3 data-id="heading-4">3. æ•°æ®å®ä½“ï¼šTypeORMçš„ORMé­”æ³•</h3>
<p>å®ä½“ç±»è®¾è®¡å€Ÿé‰´äº†JPAçš„æ€æƒ³ï¼Œæ”¯æŒæ•°æ®åº“å­—æ®µæ˜ å°„å’Œç”Ÿå‘½å‘¨æœŸé’©å­ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Entity</span>(<span class="hljs-string">'user'</span>)
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserEntity</span> {
  <span class="hljs-meta">@PrimaryGeneratedColumn</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'id'</span> })
  id?: <span class="hljs-built_in">number</span>;

  <span class="hljs-meta">@Column</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'login_name'</span> })
  <span class="hljs-attr">loginName</span>: <span class="hljs-built_in">string</span>;

  <span class="hljs-meta">@Column</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'password'</span>, <span class="hljs-attr">select</span>: <span class="hljs-literal">false</span> })
  password?: <span class="hljs-built_in">string</span>;

  <span class="hljs-meta">@BeforeInsert</span>()
  <span class="hljs-meta">@BeforeUpdate</span>()
  <span class="hljs-keyword">private</span> <span class="hljs-title function_">encryptFields</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// æ’å…¥/æ›´æ–°å‰è‡ªåŠ¨åŠ å¯†å¯†ç </span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">password</span> = <span class="hljs-title class_">AesTools</span>.<span class="hljs-title function_">encryptData</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">password</span>);
  }
}
</code></pre>
<h3 data-id="heading-5">4. æ•°æ®éªŒè¯ï¼šç±»çº§åˆ«çš„å‚æ•°æ ¡éªŒ</h3>
<p>ä½¿ç”¨ <code>class-validator</code> å®ç°è¯·æ±‚å‚æ•°éªŒè¯ï¼Œç±»ä¼¼Springçš„@Validï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">IUserAddReq</span> {
  <span class="hljs-meta">@IsString</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'loginNameæ¥æ”¶ç±»å‹ä¸ºstring'</span> })
  <span class="hljs-meta">@IsNotEmpty</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'loginNameä¸èƒ½ä¸ºç©º'</span> })
  <span class="hljs-attr">loginName</span>: <span class="hljs-built_in">string</span>;

  <span class="hljs-meta">@IsString</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'passwordæ¥æ”¶ç±»å‹ä¸ºstring'</span> })
  <span class="hljs-meta">@IsNotEmpty</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'passwordä¸èƒ½ä¸ºç©º'</span> })
  <span class="hljs-meta">@IsDecryptPwd</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'passwordå¯†ç é”™è¯¯ï¼Œè¯·ç¡®è®¤åŠ å¯†æ–¹å¼'</span> })
  <span class="hljs-attr">password</span>: <span class="hljs-built_in">string</span>;
}
</code></pre>
<h3 data-id="heading-6">5. æƒé™æ§åˆ¶ï¼šåŸºäºè£…é¥°å™¨çš„ç»†ç²’åº¦æƒé™</h3>
<p>è‡ªå®šä¹‰æƒé™è£…é¥°å™¨å®ç°æ–¹æ³•çº§åˆ«çš„æƒé™æ§åˆ¶ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">ApiAuth</span>(<span class="hljs-params"><span class="hljs-variable language_">module</span>: ModuleEnum, operation: OperationEnum</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">target: <span class="hljs-built_in">any</span>, propertyKey: <span class="hljs-built_in">string</span>, descriptor: PropertyDescriptor</span>) {
    <span class="hljs-title class_">Authorized</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">module</span>}</span>_<span class="hljs-subst">${operation}</span>`</span>)(target, propertyKey, descriptor);
  };
}
</code></pre>
<h2 data-id="heading-7">ğŸ”§ æŠ€æœ¯æ ˆæ·±åº¦è§£æ</h2>
<h3 data-id="heading-8">æ ¸å¿ƒä¾èµ–åˆ†æ</h3>
<p>ä» <code>package.json</code> å¯ä»¥çœ‹å‡ºé¡¹ç›®çš„æŠ€æœ¯é€‰å‹æ€è·¯ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"dependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"koa"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^2.15.0"</span><span class="hljs-punctuation">,</span>           <span class="hljs-comment">// è½»é‡çº§Webæ¡†æ¶</span>
    <span class="hljs-attr">"typeorm"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"0.3.20"</span><span class="hljs-punctuation">,</span>         <span class="hljs-comment">// å¼ºå¤§ORMæ¡†æ¶</span>
    <span class="hljs-attr">"routing-controllers"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^0.10.4"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// æ³¨è§£å¼è·¯ç”±</span>
    <span class="hljs-attr">"class-validator"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^0.14.1"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// æ•°æ®éªŒè¯</span>
    <span class="hljs-attr">"typedi"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^0.10.0"</span><span class="hljs-punctuation">,</span>         <span class="hljs-comment">// ä¾èµ–æ³¨å…¥å®¹å™¨</span>
    <span class="hljs-attr">"reflect-metadata"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^0.1.13"</span> <span class="hljs-comment">// åå°„å…ƒæ•°æ®æ”¯æŒ</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-9">å¼€å‘å·¥å…·é“¾</h3>
<p>é¡¹ç›®é…å¤‡äº†å®Œæ•´çš„å¼€å‘å·¥å…·é“¾ï¼š</p>
<ul>
<li><strong>TypeScript 5.7.2</strong>: ç±»å‹å®‰å…¨çš„JavaScriptè¶…é›†</li>
<li><strong>ESLint + Prettier</strong>: ä»£ç è§„èŒƒå’Œæ ¼å¼åŒ–</li>
<li><strong>TypeORMè¿ç§»</strong>: æ•°æ®åº“ç‰ˆæœ¬ç®¡ç†</li>
<li><strong>çƒ­é‡è½½å¼€å‘</strong>: nodemonå®æ—¶ç›‘æ§æ–‡ä»¶å˜åŒ–</li>
</ul>
<h2 data-id="heading-10">ğŸš€ å®é™…åº”ç”¨ç¤ºä¾‹</h2>
<h3 data-id="heading-11">å®Œæ•´çš„ç”¨æˆ·ç®¡ç†æµç¨‹</h3>
<p>è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªå®Œæ•´çš„ç”¨æˆ·æ·»åŠ æµç¨‹ï¼š</p>
<p><strong>1. æ§åˆ¶å™¨å±‚æ¥æ”¶è¯·æ±‚</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Post</span>(<span class="hljs-title class_">Api</span>.<span class="hljs-property">USER_ADD</span>)
<span class="hljs-meta">@ApiAuth</span>(<span class="hljs-title class_">ModuleEnum</span>.<span class="hljs-property">USER</span>, <span class="hljs-title class_">OperationEnum</span>.<span class="hljs-property">ADD</span>)
<span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">userAdd</span>(<span class="hljs-params">
  <span class="hljs-meta">@CurrentLoginName</span>() loginName: <span class="hljs-built_in">string</span>,
  <span class="hljs-meta">@Body</span>({ validate: <span class="hljs-literal">true</span> }) body: IUserAddReq,
</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">userService</span>.<span class="hljs-title function_">addUser</span>(loginName, body);
}
</code></pre>
<p><strong>2. æœåŠ¡å±‚ä¸šåŠ¡é€»è¾‘</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">addUser</span>(<span class="hljs-params">creatorName: <span class="hljs-built_in">string</span>, userInfo: IUserAddReq</span>) {
  <span class="hljs-comment">// å¯†ç è§£å¯†</span>
  <span class="hljs-keyword">const</span> decryptPwd = <span class="hljs-title class_">AesTools</span>.<span class="hljs-title function_">decryptData</span>(userInfo.<span class="hljs-property">password</span>);
  
  <span class="hljs-comment">// æ£€æŸ¥ç™»å½•åé‡å¤</span>
  <span class="hljs-keyword">const</span> hasUser = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">checkDuplicateLoginName</span>(userInfo.<span class="hljs-property">loginName</span>);
  <span class="hljs-keyword">if</span> (hasUser) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">CommonTools</span>.<span class="hljs-title function_">returnError</span>(<span class="hljs-title class_">CodeEnum</span>.<span class="hljs-property">USER_LOGIN_NAME_SAME</span>);
  }
  
  <span class="hljs-comment">// åˆ›å»ºç”¨æˆ·å®ä½“</span>
  <span class="hljs-keyword">const</span> insertUser = <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserEntity</span>({
    <span class="hljs-attr">password</span>: decryptPwd,
    <span class="hljs-attr">username</span>: userInfo.<span class="hljs-property">username</span>,
    <span class="hljs-attr">loginName</span>: userInfo.<span class="hljs-property">loginName</span>,
    <span class="hljs-attr">creator</span>: creatorName,
  });
  
  <span class="hljs-comment">// ä¿å­˜åˆ°æ•°æ®åº“</span>
  <span class="hljs-keyword">const</span> resp = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getRepository</span>(<span class="hljs-title class_">UserEntity</span>).<span class="hljs-title function_">insert</span>(insertUser);
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">CommonTools</span>.<span class="hljs-title function_">returnData</span>({ <span class="hljs-attr">id</span>: resp.<span class="hljs-property">generatedMaps</span>[<span class="hljs-number">0</span>].<span class="hljs-property">id</span> });
}
</code></pre>
<p><strong>3. ç»Ÿä¸€çš„é”™è¯¯å¤„ç†</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ErrorMiddleware</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">KoaMiddlewareInterface</span> {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">use</span>(<span class="hljs-attr">ctx</span>: <span class="hljs-title class_">ICtxRouterContent</span>, <span class="hljs-attr">next</span>: <span class="hljs-title class_">Next</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">next</span>();
    } <span class="hljs-keyword">finally</span> {
      <span class="hljs-comment">// ç»Ÿä¸€å¤„ç†å„ç§é”™è¯¯ç±»å‹</span>
      <span class="hljs-keyword">if</span> (ctx.<span class="hljs-property">status</span> === <span class="hljs-title class_">HttpCode</span>.<span class="hljs-property">BAD_REQUEST</span>) {
        <span class="hljs-comment">// å‚æ•°æ ¡éªŒé”™è¯¯å¤„ç†</span>
        ctx.<span class="hljs-property">body</span> = <span class="hljs-title class_">CommonTools</span>.<span class="hljs-title function_">returnData</span>(errors, <span class="hljs-title class_">CodeEnum</span>.<span class="hljs-property">COMMON_PARAMS_ERROR</span>);
      }
    }
  }
}
</code></pre>
<h2 data-id="heading-12">ğŸ’¡ æ¶æ„ä¼˜åŠ¿æ€»ç»“</h2>
<h3 data-id="heading-13">1. ä»£ç å¯ç»´æŠ¤æ€§</h3>
<ul>
<li><strong>åˆ†å±‚æ¸…æ™°</strong>: Controller-Service-Entityæ˜ç¡®åˆ†å·¥</li>
<li><strong>ç±»å‹å®‰å…¨</strong>: TypeScriptå…¨ç¨‹ä¿é©¾æŠ¤èˆª</li>
<li><strong>ä¾èµ–æ³¨å…¥</strong>: æ¾è€¦åˆçš„ç»„ä»¶å…³ç³»</li>
<li><strong>å…±äº«ç±»å‹å®šä¹‰</strong>ï¼šå‰åç«¯å…±äº«DTOå’Œæ¥å£å®šä¹‰</li>
</ul>
<h3 data-id="heading-14">2. å¼€å‘æ•ˆç‡</h3>
<ul>
<li><strong>æ³¨è§£é©±åŠ¨</strong>: å‡å°‘æ ·æ¿ä»£ç </li>
<li><strong>çƒ­é‡è½½</strong>: å¿«é€Ÿå¼€å‘è°ƒè¯•</li>
<li><strong>è¿ç§»å·¥å…·</strong>: æ•°æ®åº“ç‰ˆæœ¬åŒ–ç®¡ç†</li>
<li><strong>ç»Ÿä¸€æŠ€æœ¯æ ˆ</strong>ï¼šå‰åç«¯éƒ½ä½¿ç”¨TypeScriptï¼Œå‡å°‘å­¦ä¹ æˆæœ¬</li>
<li><strong>å¿«é€Ÿè¿­ä»£</strong>ï¼šå‰ç«¯å¼€å‘è€…å¯ä»¥ç›´æ¥å‚ä¸åç«¯å¼€å‘</li>
<li><strong>é—®é¢˜å®šä½</strong>ï¼šå‰åç«¯é—®é¢˜å®šä½æ›´åŠ é«˜æ•ˆ</li>
</ul>
<h3 data-id="heading-15">3. ä¼ä¸šçº§ç‰¹æ€§</h3>
<ul>
<li><strong>æƒé™æ§åˆ¶</strong>: ç»†ç²’åº¦çš„APIæƒé™ç®¡ç†</li>
<li><strong>æ•°æ®åŠ å¯†</strong>: è‡ªåŠ¨çš„æ•æ„Ÿæ•°æ®åŠ å¯†</li>
<li><strong>é”™è¯¯å¤„ç†</strong>: ç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†æœºåˆ¶</li>
</ul>
<h3 data-id="heading-16">4. æ‰©å±•æ€§</h3>
<ul>
<li><strong>å¾®æœåŠ¡å°±ç»ª</strong>: æ¨¡å—åŒ–æ¶æ„æ”¯æŒå¾®æœåŠ¡æ‹†åˆ†</li>
<li><strong>å¤šç§Ÿæˆ·æ”¯æŒ</strong>: å†…ç½®æ•°æ®éš”ç¦»æœºåˆ¶</li>
<li><strong>ç¼“å­˜é›†æˆ</strong>: Redisç¼“å­˜æå‡æ€§èƒ½</li>
</ul>
<h2 data-id="heading-17">ğŸ‰ ç»“è¯­</h2>
<p>å†™å®Œè¿™ä¸ªé¡¹ç›®åè®©æˆ‘æ·±åˆ»ä½“ä¼šåˆ°ï¼ŒNode.jsç”Ÿæ€å·²ç»è¶³å¤Ÿæˆç†Ÿï¼Œå®Œå…¨å¯ä»¥èƒœä»»å¤æ‚çš„ä¼ä¸šçº§åº”ç”¨å¼€å‘ã€‚é€šè¿‡å€Ÿé‰´Javaç”Ÿæ€çš„ä¼˜ç§€è®¾è®¡æ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¿æŒJavaScriptçµæ´»æ€§çš„åŒæ—¶ï¼Œè·å¾—Javaçº§åˆ«çš„å·¥ç¨‹åŒ–èƒ½åŠ›ã€‚</p>
<p>ä½œä¸º"Webä»”"ï¼Œæˆ‘ä»¬ä¸å†éœ€è¦ç¾¡æ…•Javaç¨‹åºå‘˜çš„é‚£å¥—"é‡å‹è£…å¤‡"ã€‚åœ¨Node.jsçš„ä¸–ç•Œé‡Œï¼Œæˆ‘ä»¬åŒæ ·å¯ä»¥å†™å‡ºä¼˜é›…ã€å¥å£®ã€å¯ç»´æŠ¤çš„åç«¯ä»£ç ï¼</p>
<p><strong>æŠ€æœ¯ä¸åˆ†è´µè´±ï¼Œä¼˜é›…çš„ä»£ç æ‰æ˜¯ç‹é“ï¼</strong></p>
<hr/>
<p><em>é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fchencjfeng%2Fmanage-system-server" target="_blank" title="https://github.com/chencjfeng/manage-system-server" ref="nofollow noopener noreferrer">github.com/chencjfeng/â€¦</a></em><br/>
<em>ä½œè€…ï¼šChenJF</em><br/>
<em>é‚®ç®±ï¼š<a href="https://link.juejin.cn?target=mailto%3Achencjfeng%40163.com" target="_blank" title="mailto:chencjfeng@163.com" ref="nofollow noopener noreferrer">chencjfeng@163.com</a></em></p>
<blockquote>
<p>æœ¬æ–‡åŸºäºå®é™…é¡¹ç›®ä»£ç åˆ†æï¼Œæ‰€æœ‰ç¤ºä¾‹ä»£ç å‡å¯è¿è¡Œã€‚æ¬¢è¿Starå’Œè´¡çŒ®ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Typescriptä¹‹ç±»å‹æ€»ç»“å¤§å…¨]]></title>    <link>https://juejin.cn/post/7593169840199630874</link>    <guid>https://juejin.cn/post/7593169840199630874</guid>    <pubDate>2026-01-09T09:25:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593169840199630874" data-draft-id="7593164154631405577" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Typescriptä¹‹ç±»å‹æ€»ç»“å¤§å…¨"/> <meta itemprop="keywords" content="å‰ç«¯,TypeScript"/> <meta itemprop="datePublished" content="2026-01-09T09:25:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ»¡å¤©æ˜Ÿè¾°"/> <meta itemprop="url" content="https://juejin.cn/user/2771198801097485"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Typescriptä¹‹ç±»å‹æ€»ç»“å¤§å…¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2771198801097485/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ»¡å¤©æ˜Ÿè¾°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:25:20.000Z" title="Fri Jan 09 2026 09:25:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">TypeScript ä¸­çš„åŸºæœ¬ç±»å‹</h2>
<p>TypeScript çš„åŸºæœ¬ç±»å‹æ¶µç›–äº† JavaScript çš„åŸå§‹ç±»å‹ï¼Œå¹¶æ·»åŠ äº†ä¸€äº› TypeScript ç‰¹æœ‰çš„ç±»å‹ã€‚</p>
<hr/>
<h3 data-id="heading-1">1.Â <strong>JavaScript åŸå§‹ç±»å‹ï¼ˆPrimitive Typesï¼‰</strong></h3>
<p>è¿™äº›æ˜¯ JavaScript åŸæœ‰çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼ŒTypeScript ä¸ºå®ƒä»¬æä¾›äº†ç±»å‹æ³¨è§£ã€‚</p>
<h4 data-id="heading-2"><strong><code>boolean</code>Â - å¸ƒå°”å€¼</strong></h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">isDone</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;
<span class="hljs-keyword">let</span> <span class="hljs-attr">isLoading</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;
</code></pre>
<h4 data-id="heading-3"><strong><code>number</code>Â - æ•°å­—</strong></h4>
<p>TypeScript ä¸­çš„æ‰€æœ‰æ•°å­—éƒ½æ˜¯æµ®ç‚¹æ•°ï¼Œæ”¯æŒåè¿›åˆ¶ã€åå…­è¿›åˆ¶ã€äºŒè¿›åˆ¶å’Œå…«è¿›åˆ¶ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">decimal</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">6</span>;
<span class="hljs-keyword">let</span> <span class="hljs-attr">hex</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0xf00d</span>;      <span class="hljs-comment">// åå…­è¿›åˆ¶</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">binary</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0b1010</span>;   <span class="hljs-comment">// äºŒè¿›åˆ¶</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">octal</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0o744</span>;     <span class="hljs-comment">// å…«è¿›åˆ¶</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">float</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">3.14</span>;
<span class="hljs-keyword">let</span> <span class="hljs-attr">infinity</span>: <span class="hljs-built_in">number</span> = <span class="hljs-title class_">Infinity</span>;
<span class="hljs-keyword">let</span> <span class="hljs-attr">notANumber</span>: <span class="hljs-built_in">number</span> = <span class="hljs-title class_">NaN</span>;
</code></pre>
<h4 data-id="heading-4"><strong><code>string</code>Â - å­—ç¬¦ä¸²</strong></h4>
<pre><code class="hljs language-typescri" lang="typescri">let name: string = "å¼ ä¸‰";
let sentence: string = `ä½ å¥½ï¼Œ${name}ï¼`;  // æ¨¡æ¿å­—ç¬¦ä¸²
</code></pre>
<h4 data-id="heading-5"><strong><code>bigint</code>Â - å¤§æ•´æ•°</strong>ï¼ˆES2020+ï¼‰</h4>
<p>è¡¨ç¤ºå¤§äº 2^53 - 1 çš„æ•´æ•°ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">big</span>: <span class="hljs-built_in">bigint</span> = <span class="hljs-number">9007199254740991n</span>;
<span class="hljs-keyword">let</span> <span class="hljs-attr">big2</span>: <span class="hljs-built_in">bigint</span> = <span class="hljs-title class_">BigInt</span>(<span class="hljs-number">9007199254740991</span>);
</code></pre>
<h4 data-id="heading-6"><strong><code>symbol</code>Â - ç¬¦å·</strong>ï¼ˆES2015+ï¼‰</h4>
<p>åˆ›å»ºå”¯ä¸€çš„æ ‡è¯†ç¬¦ã€‚</p>
<p>typescript</p>
<pre><code class="hljs language-ini" lang="ini">let sym1: <span class="hljs-attr">symbol</span> = Symbol()<span class="hljs-comment">;</span>
let sym2: <span class="hljs-attr">symbol</span> = Symbol(<span class="hljs-string">"description"</span>)<span class="hljs-comment">;</span>
</code></pre>
<hr/>
<h3 data-id="heading-7">2.Â <strong>ç‰¹æ®ŠåŸå§‹ç±»å‹</strong></h3>
<h4 data-id="heading-8"><strong><code>null</code>Â - ç©ºå€¼</strong></h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">n</span>: <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;
</code></pre>
<h4 data-id="heading-9"><strong><code>undefined</code>Â - æœªå®šä¹‰</strong></h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">u</span>: <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;
</code></pre>
<p><strong>æ³¨æ„</strong>ï¼šåœ¨Â <code>strictNullChecks</code>Â æ¨¡å¼ä¸‹ï¼Œ<code>null</code>Â å’ŒÂ <code>undefined</code>Â åªèƒ½èµ‹å€¼ç»™å®ƒä»¬è‡ªå·±æˆ–Â <code>any</code>Â ç±»å‹ã€‚</p>
<hr/>
<h3 data-id="heading-10">3.Â <strong>TypeScript ç‰¹æœ‰ç±»å‹</strong></h3>
<h4 data-id="heading-11"><strong><code>any</code>Â - ä»»æ„ç±»å‹</strong></h4>
<p>å…³é—­ç±»å‹æ£€æŸ¥ï¼Œå…¼å®¹æ‰€æœ‰ç±»å‹ã€‚</p>
<pre><code class="hljs language-typescri" lang="typescri">let notSure: any = 4;
notSure = "å¯èƒ½æ˜¯å­—ç¬¦ä¸²";
notSure = false;  // æ²¡é—®é¢˜
</code></pre>
<h4 data-id="heading-12"><strong><code>unknown</code>Â - æœªçŸ¥ç±»å‹</strong></h4>
<p>æ¯”Â <code>any</code>Â æ›´å®‰å…¨çš„ç±»å‹ï¼Œä½¿ç”¨æ—¶éœ€è¦ç±»å‹æ£€æŸ¥æˆ–æ–­è¨€ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">value</span>: <span class="hljs-built_in">unknown</span>;

<span class="hljs-comment">// éœ€è¦ç±»å‹æ£€æŸ¥åæ‰èƒ½ä½¿ç”¨</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> value === <span class="hljs-string">"string"</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value.<span class="hljs-property">length</span>);
}

<span class="hljs-comment">// æˆ–ä½¿ç”¨ç±»å‹æ–­è¨€</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">str</span>: <span class="hljs-built_in">string</span> = (value <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>);
</code></pre>
<h4 data-id="heading-13"><strong><code>void</code>Â - ç©ºç±»å‹</strong></h4>
<p>è¡¨ç¤ºå‡½æ•°æ²¡æœ‰è¿”å›å€¼ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">warnUser</span>(<span class="hljs-params"/>): <span class="hljs-built_in">void</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"è­¦å‘Šä¿¡æ¯"</span>);
    <span class="hljs-comment">// æ²¡æœ‰ return è¯­å¥</span>
}
</code></pre>
<h4 data-id="heading-14"><strong><code>never</code>Â - æ°¸ä¸å­˜åœ¨çš„å€¼</strong></h4>
<p>è¡¨ç¤ºæ°¸è¿œä¸ä¼šå‘ç”Ÿçš„ç±»å‹ï¼Œç”¨äºæ€»æ˜¯æŠ›å‡ºå¼‚å¸¸æˆ–æ— é™å¾ªç¯çš„å‡½æ•°ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æŠ›å‡ºé”™è¯¯</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">error</span>(<span class="hljs-params">message: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">never</span> {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(message);
}

<span class="hljs-comment">// æ— é™å¾ªç¯</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">infiniteLoop</span>(<span class="hljs-params"/>): <span class="hljs-built_in">never</span> {
    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {}
}
</code></pre>
<h4 data-id="heading-15"><strong><code>object</code>Â - éåŸå§‹ç±»å‹</strong></h4>
<p>è¡¨ç¤ºéåŸå§‹ç±»å‹çš„å€¼ï¼ˆä¸æ˜¯ number, string, boolean, symbol, null, undefinedï¼‰ã€‚</p>
<pre><code class="hljs language-typescri" lang="typescri">let obj: object = {};
let arr: object = [];
let func: object = function() {};
</code></pre>
<hr/>
<h3 data-id="heading-16">4.Â <strong>æ•°ç»„ç±»å‹</strong></h3>
<p>æœ‰ä¸¤ç§è¡¨ç¤ºæ–¹å¼ï¼š</p>
<h4 data-id="heading-17"><strong>ç±»å‹ + æ–¹æ‹¬å·</strong></h4>
<pre><code class="hljs language-typescr" lang="typescr">let list: number[] = [1, 2, 3];
let strings: string[] = ["a", "b", "c"];
</code></pre>
<h4 data-id="heading-18"><strong>æ³›å‹ Array&lt;ç±»å‹&gt;</strong></h4>
<pre><code class="hljs language-typescri" lang="typescri">let list: Array&lt;number&gt; = [1, 2, 3];
let strings: Array&lt;string&gt; = ["a", "b", "c"];
</code></pre>
<h4 data-id="heading-19"><strong>åªè¯»æ•°ç»„</strong></h4>
<pre><code class="hljs language-typescri" lang="typescri">let readonlyArr: ReadonlyArray&lt;number&gt; = [1, 2, 3];
// readonlyArr.push(4);  // âŒ é”™è¯¯ï¼šåªè¯»æ•°ç»„ä¸èƒ½ä¿®æ”¹
</code></pre>
<hr/>
<h3 data-id="heading-20">5.Â <strong>å…ƒç»„ï¼ˆTupleï¼‰</strong></h3>
<p>è¡¨ç¤ºå·²çŸ¥å…ƒç´ æ•°é‡å’Œç±»å‹çš„æ•°ç»„ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å®šä¹‰å…ƒç»„ç±»å‹</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">tuple</span>: [<span class="hljs-built_in">string</span>, <span class="hljs-built_in">number</span>];
tuple = [<span class="hljs-string">"hello"</span>, <span class="hljs-number">10</span>];  <span class="hljs-comment">// âœ… æ­£ç¡®</span>
<span class="hljs-comment">// tuple = [10, "hello"];  // âŒ é”™è¯¯ï¼šç±»å‹ä¸åŒ¹é…</span>

<span class="hljs-comment">// è®¿é—®å…ƒç»„å…ƒç´ </span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(tuple[<span class="hljs-number">0</span>].<span class="hljs-title function_">substring</span>(<span class="hljs-number">1</span>));  <span class="hljs-comment">// "ello"</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(tuple[<span class="hljs-number">1</span>].<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>));    <span class="hljs-comment">// "10.00"</span>

<span class="hljs-comment">// å¯é€‰å…ƒç´ ï¼ˆ3.0+ï¼‰</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">optionalTuple</span>: [<span class="hljs-built_in">string</span>, <span class="hljs-built_in">number</span>?];
optionalTuple = [<span class="hljs-string">"hello"</span>];           <span class="hljs-comment">// âœ… æ­£ç¡®</span>
optionalTuple = [<span class="hljs-string">"hello"</span>, <span class="hljs-number">42</span>];       <span class="hljs-comment">// âœ… æ­£ç¡®</span>

<span class="hljs-comment">// å‰©ä½™å…ƒç´ </span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">restTuple</span>: [<span class="hljs-built_in">string</span>, ...<span class="hljs-built_in">number</span>[]];
restTuple = [<span class="hljs-string">"hello"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];      <span class="hljs-comment">// âœ… æ­£ç¡®</span>
</code></pre>
<hr/>
<h3 data-id="heading-21">6.Â <strong>æšä¸¾ï¼ˆEnumï¼‰</strong></h3>
<h4 data-id="heading-22"><strong>æ•°å­—æšä¸¾</strong></h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Direction</span> {
    <span class="hljs-title class_">Up</span> = <span class="hljs-number">1</span>,      <span class="hljs-comment">// ä» 1 å¼€å§‹</span>
    <span class="hljs-title class_">Down</span>,        <span class="hljs-comment">// è‡ªåŠ¨é€’å¢ä¸º 2</span>
    <span class="hljs-title class_">Left</span>,        <span class="hljs-comment">// 3</span>
    <span class="hljs-title class_">Right</span>        <span class="hljs-comment">// 4</span>
}

<span class="hljs-keyword">let</span> <span class="hljs-attr">dir</span>: <span class="hljs-title class_">Direction</span> = <span class="hljs-title class_">Direction</span>.<span class="hljs-property">Up</span>;
</code></pre>
<h4 data-id="heading-23"><strong>å­—ç¬¦ä¸²æšä¸¾</strong></h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Direction</span> {
    <span class="hljs-title class_">Up</span> = <span class="hljs-string">"UP"</span>,
    <span class="hljs-title class_">Down</span> = <span class="hljs-string">"DOWN"</span>,
    <span class="hljs-title class_">Left</span> = <span class="hljs-string">"LEFT"</span>,
    <span class="hljs-title class_">Right</span> = <span class="hljs-string">"RIGHT"</span>
}
</code></pre>
<h4 data-id="heading-24"><strong>å¸¸é‡æšä¸¾</strong>ï¼ˆç¼–è¯‘æ—¶å®Œå…¨åˆ é™¤ï¼‰</h4>
<pre><code class="hljs language-typescri" lang="typescri">const enum Colors {
    Red,
    Green,
    Blue
}

let color = Colors.Red;  // ç¼–è¯‘åï¼šlet color = 0;
</code></pre>
<hr/>
<h3 data-id="heading-25">7.Â <strong>å­—é¢é‡ç±»å‹</strong></h3>
<h4 data-id="heading-26"><strong>å­—ç¬¦ä¸²å­—é¢é‡</strong></h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">EventType</span> = <span class="hljs-string">"click"</span> | <span class="hljs-string">"scroll"</span> | <span class="hljs-string">"mousemove"</span>;
<span class="hljs-keyword">let</span> <span class="hljs-attr">event</span>: <span class="hljs-title class_">EventType</span> = <span class="hljs-string">"click"</span>;  <span class="hljs-comment">// âœ…</span>
<span class="hljs-comment">// event = "hover";  // âŒ é”™è¯¯</span>
</code></pre>
<h4 data-id="heading-27"><strong>æ•°å­—å­—é¢é‡</strong></h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">DiceRoll</span> = <span class="hljs-number">1</span> | <span class="hljs-number">2</span> | <span class="hljs-number">3</span> | <span class="hljs-number">4</span> | <span class="hljs-number">5</span> | <span class="hljs-number">6</span>;
<span class="hljs-keyword">let</span> <span class="hljs-attr">roll</span>: <span class="hljs-title class_">DiceRoll</span> = <span class="hljs-number">3</span>;  <span class="hljs-comment">// âœ…</span>
<span class="hljs-comment">// roll = 7;  // âŒ é”™è¯¯</span>
</code></pre>
<h4 data-id="heading-28"><strong>å¸ƒå°”å­—é¢é‡</strong></h4>
<pre><code class="hljs language-typescr" lang="typescr">type Truthy = true;
let isTrue: Truthy = true;
// isTrue = false;  // âŒ é”™è¯¯
</code></pre>
<hr/>
<h3 data-id="heading-29">8.Â <strong>ç±»å‹æ¨æ–­ä¸è”åˆç±»å‹</strong></h3>
<h4 data-id="heading-30"><strong>ç±»å‹æ¨æ–­</strong></h4>
<pre><code class="hljs language-typescri" lang="typescri">let x = 3;            // x è¢«æ¨æ–­ä¸º number
let y = "hello";      // y è¢«æ¨æ–­ä¸º string
</code></pre>
<h4 data-id="heading-31"><strong>è”åˆç±»å‹</strong></h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>;
id = <span class="hljs-string">"abc123"</span>;  <span class="hljs-comment">// âœ…</span>
id = <span class="hljs-number">123</span>;       <span class="hljs-comment">// âœ…</span>
<span class="hljs-comment">// id = true;   // âŒ é”™è¯¯</span>

<span class="hljs-comment">// ç±»å‹å®ˆå«</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> id === <span class="hljs-string">"string"</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(id.<span class="hljs-title function_">toUpperCase</span>());
} <span class="hljs-keyword">else</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(id.<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>));
}
</code></pre>
<hr/>
<h3 data-id="heading-32">9.Â <strong>ç±»å‹åˆ«å</strong></h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åŸºæœ¬ç±»å‹åˆ«å</span>
<span class="hljs-keyword">type</span> <span class="hljs-variable constant_">ID</span> = <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>;
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Point</span> = {
    <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>;
    <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span>;
};

<span class="hljs-keyword">let</span> <span class="hljs-attr">userId</span>: <span class="hljs-variable constant_">ID</span> = <span class="hljs-string">"user-123"</span>;
<span class="hljs-keyword">let</span> <span class="hljs-attr">position</span>: <span class="hljs-title class_">Point</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">20</span> };
</code></pre>
<hr/>
<h3 data-id="heading-33">ç±»å‹æ€»ç»“è¡¨</h3>





















































































<table><thead><tr><th>ç±»å‹</th><th>ç¤ºä¾‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>boolean</code></td><td><code>let isDone: boolean = true;</code></td><td>å¸ƒå°”å€¼</td></tr><tr><td><code>number</code></td><td><code>let count: number = 10;</code></td><td>æ‰€æœ‰æ•°å­—ç±»å‹</td></tr><tr><td><code>string</code></td><td><code>let name: string = "John";</code></td><td>å­—ç¬¦ä¸²</td></tr><tr><td><code>bigint</code></td><td><code>let big: bigint = 100n;</code></td><td>å¤§æ•´æ•°</td></tr><tr><td><code>symbol</code></td><td><code>let sym: symbol = Symbol();</code></td><td>å”¯ä¸€æ ‡è¯†ç¬¦</td></tr><tr><td><code>null</code></td><td><code>let n: null = null;</code></td><td>ç©ºå€¼</td></tr><tr><td><code>undefined</code></td><td><code>let u: undefined = undefined;</code></td><td>æœªå®šä¹‰</td></tr><tr><td><code>any</code></td><td><code>let anything: any = 4;</code></td><td>ä»»æ„ç±»å‹</td></tr><tr><td><code>unknown</code></td><td><code>let unsure: unknown = 30;</code></td><td>æœªçŸ¥ç±»å‹</td></tr><tr><td><code>void</code></td><td><code>function(): void {}</code></td><td>æ— è¿”å›å€¼</td></tr><tr><td><code>never</code></td><td><code>function error(): never {}</code></td><td>æ°¸ä¸å­˜åœ¨çš„å€¼</td></tr><tr><td><code>object</code></td><td><code>let obj: object = {};</code></td><td>éåŸå§‹ç±»å‹</td></tr><tr><td><code>Array&lt;T&gt;</code></td><td><code>let list: number[] = [1, 2, 3];</code></td><td>æ•°ç»„</td></tr><tr><td><code>[T1, T2]</code></td><td><code>let tuple: [string, number];</code></td><td>å…ƒç»„</td></tr><tr><td><code>enum</code></td><td><code>enum Color { Red, Green }</code></td><td>æšä¸¾</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-34">å®ç”¨ç¤ºä¾‹</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å®Œæ•´ç¤ºä¾‹</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">processInput</span>(<span class="hljs-params">input: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span> | <span class="hljs-built_in">boolean</span></span>): <span class="hljs-built_in">string</span> {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> input === <span class="hljs-string">"string"</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">`å­—ç¬¦ä¸²: <span class="hljs-subst">${input.toUpperCase()}</span>`</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> input === <span class="hljs-string">"number"</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">`æ•°å­—: <span class="hljs-subst">${input.toFixed(<span class="hljs-number">2</span>)}</span>`</span>;
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">`å¸ƒå°”å€¼: <span class="hljs-subst">${input}</span>`</span>;
    }
}

<span class="hljs-comment">// ä¸¥æ ¼ç©ºå€¼æ£€æŸ¥</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">greet</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span> | <span class="hljs-literal">null</span></span>): <span class="hljs-built_in">string</span> {
    <span class="hljs-keyword">if</span> (name === <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"ä½ å¥½ï¼Œè®¿å®¢ï¼"</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-string">`ä½ å¥½ï¼Œ<span class="hljs-subst">${name}</span>ï¼`</span>;
}

<span class="hljs-comment">// ä½¿ç”¨ never è¿›è¡Œç©·å°½æ£€æŸ¥</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Shape</span> = <span class="hljs-string">"circle"</span> | <span class="hljs-string">"square"</span> | <span class="hljs-string">"triangle"</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">getArea</span>(<span class="hljs-params">shape: Shape</span>): <span class="hljs-built_in">number</span> {
    <span class="hljs-keyword">switch</span> (shape) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">"circle"</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">"square"</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">"triangle"</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-number">0.5</span>;
        <span class="hljs-attr">default</span>:
            <span class="hljs-comment">// ç¡®ä¿å¤„ç†äº†æ‰€æœ‰æƒ…å†µ</span>
            <span class="hljs-keyword">const</span> <span class="hljs-attr">_exhaustiveCheck</span>: <span class="hljs-built_in">never</span> = shape;
            <span class="hljs-keyword">return</span> _exhaustiveCheck;
    }
}
</code></pre>
<p>TypeScript çš„åŸºæœ¬ç±»å‹ç³»ç»Ÿæä¾›äº†å¼ºå¤§çš„ç±»å‹å®‰å…¨ä¿è¯ï¼Œå¸®åŠ©å¼€å‘è€…åœ¨ç¼–è¯‘æ—¶æ•è·é”™è¯¯ï¼Œæé«˜ä»£ç è´¨é‡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React useState åŸç†å’Œå¼‚æ­¥æ›´æ–°]]></title>    <link>https://juejin.cn/post/7593139476840120326</link>    <guid>https://juejin.cn/post/7593139476840120326</guid>    <pubDate>2026-01-09T08:52:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593139476840120326" data-draft-id="7592921639465435178" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React useState åŸç†å’Œå¼‚æ­¥æ›´æ–°"/> <meta itemprop="keywords" content="å‰ç«¯,React.js"/> <meta itemprop="datePublished" content="2026-01-09T08:52:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¾æ½˜"/> <meta itemprop="url" content="https://juejin.cn/user/893218038484600"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React useState åŸç†å’Œå¼‚æ­¥æ›´æ–°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/893218038484600/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¾æ½˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:52:27.000Z" title="Fri Jan 09 2026 08:52:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">useState çš„åŸºæœ¬åŸç†</h2>
<p>useState æ˜¯ React çš„ä¸€ä¸ª Hookï¼Œå®ƒçš„æ ¸å¿ƒåŸç†åŸºäºä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<h3 data-id="heading-1">1. é—­åŒ…å’Œé“¾è¡¨ç»“æ„</h3>
<p>React å†…éƒ¨ä½¿ç”¨é“¾è¡¨æ¥å­˜å‚¨ç»„ä»¶çš„æ‰€æœ‰ Hook çŠ¶æ€ã€‚æ¯æ¬¡ç»„ä»¶æ¸²æŸ“æ—¶ï¼ŒReact ä¼šæŒ‰ç…§ Hook è°ƒç”¨çš„é¡ºåºéå†è¿™ä¸ªé“¾è¡¨ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// ç®€åŒ–çš„å†…éƒ¨å®ç°æ¦‚å¿µ
let <span class="hljs-attr">hooks</span> = []<span class="hljs-comment">;</span>
let <span class="hljs-attr">currentHook</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>

function useState(initialValue) {
  const <span class="hljs-attr">hookIndex</span> = currentHook<span class="hljs-comment">;</span>
  
  // åˆå§‹åŒ–æˆ–è·å–å·²æœ‰çŠ¶æ€
  if (hooks<span class="hljs-section">[hookIndex]</span> === undefined) {
    hooks<span class="hljs-section">[hookIndex]</span> = initialValue<span class="hljs-comment">;</span>
  }
  
  const <span class="hljs-attr">setState</span> = (newValue) =&gt; {
    hooks<span class="hljs-section">[hookIndex]</span> = newValue<span class="hljs-comment">;</span>
    render()<span class="hljs-comment">; // è§¦å‘é‡æ–°æ¸²æŸ“</span>
  }<span class="hljs-comment">;</span>
  
  currentHook++<span class="hljs-comment">;</span>
  return <span class="hljs-section">[hooks[hookIndex]</span>, setState]<span class="hljs-comment">;</span>
}
</code></pre>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ Hook å¿…é¡»åœ¨ç»„ä»¶é¡¶å±‚è°ƒç”¨ï¼Œä¸èƒ½åœ¨æ¡ä»¶è¯­å¥æˆ–å¾ªç¯ä¸­ä½¿ç”¨ - å› ä¸º React ä¾èµ–è°ƒç”¨é¡ºåºæ¥åŒ¹é…çŠ¶æ€ã€‚</p>
<h2 data-id="heading-2">å¼‚æ­¥æ›´æ–°æœºåˆ¶</h2>
<h3 data-id="heading-3">2. æ‰¹é‡æ›´æ–°ï¼ˆBatchingï¼‰</h3>
<p>React ä¸ä¼šç«‹å³æ›´æ–°çŠ¶æ€ï¼Œè€Œæ˜¯å°†å¤šä¸ª setState è°ƒç”¨åˆå¹¶æˆä¸€æ¬¡æ›´æ–°ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">function <span class="hljs-built_in">Counter</span>() {
  const <span class="hljs-selector-attr">[count, setCount]</span> = <span class="hljs-built_in">useState</span>(<span class="hljs-number">0</span>);
  
  const handleClick = () =&gt; {
    <span class="hljs-built_in">setCount</span>(count + <span class="hljs-number">1</span>); <span class="hljs-comment">// count = 0 + 1</span>
    <span class="hljs-built_in">setCount</span>(count + <span class="hljs-number">1</span>); <span class="hljs-comment">// count = 0 + 1 (è¿˜æ˜¯è¯»å–çš„æ—§å€¼)</span>
    <span class="hljs-built_in">setCount</span>(count + <span class="hljs-number">1</span>); <span class="hljs-comment">// count = 0 + 1</span>
    <span class="hljs-comment">// æœ€ç»ˆ count = 1ï¼Œè€Œä¸æ˜¯ 3</span>
  };
  
  return &lt;<span class="hljs-selector-tag">button</span> onClick={handleClick}&gt;{count}&lt;/<span class="hljs-selector-tag">button</span>&gt;;
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿ</strong></p>
<ul>
<li>æ€§èƒ½ä¼˜åŒ–ï¼šé¿å…ä¸å¿…è¦çš„é‡å¤æ¸²æŸ“</li>
<li>ä¿æŒä¸€è‡´æ€§ï¼šç¡®ä¿åœ¨ä¸€æ¬¡äº‹ä»¶å¤„ç†ä¸­çœ‹åˆ°çš„çŠ¶æ€æ˜¯ä¸€è‡´çš„</li>
</ul>
<h3 data-id="heading-4">3. å‡½æ•°å¼æ›´æ–°</h3>
<p>å¦‚æœéœ€è¦åŸºäºå‰ä¸€ä¸ªçŠ¶æ€æ›´æ–°ï¼Œä½¿ç”¨å‡½æ•°å½¢å¼ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">handleClick</span> = () =&gt; {
  setCount(<span class="hljs-attr">prev</span> =&gt; prev + <span class="hljs-number">1</span>)<span class="hljs-comment">; // 1</span>
  setCount(<span class="hljs-attr">prev</span> =&gt; prev + <span class="hljs-number">1</span>)<span class="hljs-comment">; // 2</span>
  setCount(<span class="hljs-attr">prev</span> =&gt; prev + <span class="hljs-number">1</span>)<span class="hljs-comment">; // 3</span>
  // æœ€ç»ˆ <span class="hljs-attr">count</span> = <span class="hljs-number">3</span>
}<span class="hljs-comment">;</span>
</code></pre>
<h3 data-id="heading-5">4. React 18 çš„è‡ªåŠ¨æ‰¹å¤„ç†</h3>
<p>åœ¨ React 18 ä¹‹å‰ï¼Œåªæœ‰åœ¨äº‹ä»¶å¤„ç†å™¨ä¸­æ‰ä¼šæ‰¹å¤„ç†ã€‚React 18 æ‰©å±•åˆ°äº†æ‰€æœ‰åœºæ™¯ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// React 18 ä¸­ï¼Œè¿™äº›ä¹Ÿä¼šè¢«æ‰¹å¤„ç†</span>
<span class="hljs-built_in">setTimeout</span>(() =&gt; {
  <span class="hljs-built_in">setCount</span>(c =&gt; c + <span class="hljs-number">1</span>);
  <span class="hljs-built_in">setFlag</span>(f =&gt; !f);
  <span class="hljs-comment">// åªè§¦å‘ä¸€æ¬¡é‡æ–°æ¸²æŸ“</span>
}, <span class="hljs-number">1000</span>);

<span class="hljs-built_in">fetch</span>('/api')<span class="hljs-selector-class">.then</span>(() =&gt; {
  <span class="hljs-built_in">setData</span>(newData);
  <span class="hljs-built_in">setLoading</span>(false);
  <span class="hljs-comment">// åªè§¦å‘ä¸€æ¬¡é‡æ–°æ¸²æŸ“</span>
});
</code></pre>
<h2 data-id="heading-6">å®é™…åº”ç”¨åœºæ™¯</h2>
<h3 data-id="heading-7">åœºæ™¯ 1: éœ€è¦ç«‹å³è¯»å–æ›´æ–°åçš„å€¼</h3>
<pre><code class="hljs language-scss" lang="scss">const <span class="hljs-selector-attr">[count, setCount]</span> = <span class="hljs-built_in">useState</span>(<span class="hljs-number">0</span>);

const handleClick = () =&gt; {
  <span class="hljs-built_in">setCount</span>(count + <span class="hljs-number">1</span>);
  console<span class="hljs-selector-class">.log</span>(count); <span class="hljs-comment">// è¿˜æ˜¯æ—§å€¼ 0</span>
  
  <span class="hljs-comment">// è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ useEffect</span>
  <span class="hljs-built_in">useEffect</span>(() =&gt; {
    console<span class="hljs-selector-class">.log</span>(count); <span class="hljs-comment">// æ–°å€¼ 1</span>
  }, <span class="hljs-selector-attr">[count]</span>);
};
</code></pre>
<h3 data-id="heading-8">åœºæ™¯ 2: ä¾èµ–å¤šä¸ªçŠ¶æ€æ›´æ–°</h3>
<pre><code class="hljs language-scss" lang="scss">const <span class="hljs-selector-attr">[user, setUser]</span> = <span class="hljs-built_in">useState</span>(null);
const <span class="hljs-selector-attr">[loading, setLoading]</span> = <span class="hljs-built_in">useState</span>(false);

const fetchUser = async () =&gt; {
  <span class="hljs-built_in">setLoading</span>(true);
  const data = await api<span class="hljs-selector-class">.getUser</span>();
  <span class="hljs-built_in">setUser</span>(data);
  <span class="hljs-built_in">setLoading</span>(false);
  <span class="hljs-comment">// React ä¼šæ‰¹é‡å¤„ç†è¿™äº›æ›´æ–°ï¼Œåªæ¸²æŸ“ä¸€æ¬¡</span>
};
</code></pre>
<h3 data-id="heading-9">åœºæ™¯ 3: å¤æ‚çŠ¶æ€ç®¡ç†</h3>
<p>å¯¹äºå¤æ‚çš„çŠ¶æ€é€»è¾‘ï¼Œè€ƒè™‘ä½¿ç”¨ useReducerï¼š</p>
<pre><code class="hljs language-scss" lang="scss">const <span class="hljs-selector-attr">[state, dispatch]</span> = <span class="hljs-built_in">useReducer</span>(reducer, initialState);

<span class="hljs-comment">// ä¸€æ¬¡ dispatch å¯ä»¥æ›´æ–°å¤šä¸ªç›¸å…³çŠ¶æ€</span>
<span class="hljs-built_in">dispatch</span>({ type: 'FETCH_SUCCESS', payload: data });
</code></pre>
<h2 data-id="heading-10">å…³é”®è¦ç‚¹</h2>
<ol>
<li><strong>çŠ¶æ€æ›´æ–°æ˜¯å¼‚æ­¥çš„</strong> - ä¸è¦æœŸæœ› setState åç«‹å³è¯»å–æ–°å€¼</li>
<li><strong>ä½¿ç”¨å‡½æ•°å¼æ›´æ–°</strong> - å½“æ–°çŠ¶æ€ä¾èµ–æ—§çŠ¶æ€æ—¶</li>
<li><strong>æ‰¹é‡æ›´æ–°æå‡æ€§èƒ½</strong> - React ä¼šè‡ªåŠ¨ä¼˜åŒ–å¤šæ¬¡ setState</li>
<li><strong>ä¿æŒ Hook è°ƒç”¨é¡ºåº</strong> - ä¸è¦åœ¨æ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨ Hook</li>
<li><strong>çŠ¶æ€æ˜¯ä¸å¯å˜çš„</strong> - æ›´æ–°å¯¹è±¡æˆ–æ•°ç»„æ—¶è¦åˆ›å»ºæ–°çš„å¼•ç”¨</li>
</ol>
<p>è¿™äº›æœºåˆ¶è®© React èƒ½å¤Ÿé«˜æ•ˆåœ°ç®¡ç†ç»„ä»¶çŠ¶æ€ï¼ŒåŒæ—¶ä¿æŒ UI çš„ä¸€è‡´æ€§å’Œå¯é¢„æµ‹æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[PowerShell å¯åŠ¨å¡é¡¿ï¼Ÿå†…å­˜é£™å‡ï¼ŸåŸæ¥æ˜¯ 800MB çš„å†å²è®°å½•åœ¨ä½œç¥Ÿï¼]]></title>    <link>https://juejin.cn/post/7593164154631454729</link>    <guid>https://juejin.cn/post/7593164154631454729</guid>    <pubDate>2026-01-09T09:30:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593164154631454729" data-draft-id="7593077945016107035" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="PowerShell å¯åŠ¨å¡é¡¿ï¼Ÿå†…å­˜é£™å‡ï¼ŸåŸæ¥æ˜¯ 800MB çš„å†å²è®°å½•åœ¨ä½œç¥Ÿï¼"/> <meta itemprop="keywords" content="Windows"/> <meta itemprop="datePublished" content="2026-01-09T09:30:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ—ç…ç…"/> <meta itemprop="url" content="https://juejin.cn/user/588993964277933"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            PowerShell å¯åŠ¨å¡é¡¿ï¼Ÿå†…å­˜é£™å‡ï¼ŸåŸæ¥æ˜¯ 800MB çš„å†å²è®°å½•åœ¨ä½œç¥Ÿï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/588993964277933/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ—ç…ç…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:30:27.000Z" title="Fri Jan 09 2026 09:30:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">PowerShell å¯åŠ¨å¡é¡¿ï¼Ÿå†…å­˜é£™å‡ï¼ŸåŸæ¥æ˜¯ 800MB çš„å†å²è®°å½•åœ¨ä½œç¥Ÿï¼</h2>
<p>æœ€è¿‘åœ¨å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°ä¸€ä¸ªéå¸¸è¯¡å¼‚çš„é—®é¢˜ï¼š<strong>PowerShell ä¸€å¯åŠ¨ï¼Œç”µè„‘å°±åƒè¢«æ–½äº†å®šèº«æ³•ä¸€æ ·å¡é¡¿ã€‚</strong> æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ä¸€çœ‹ï¼Œå¥½å®¶ä¼™ï¼ŒPowerShell è¿›ç¨‹çš„å†…å­˜å ç”¨åƒåç«ç®­ä¸€æ ·è¹­è¹­å¾€ä¸Šæ¶¨ï¼Œç”šè‡³åœ¨æ²¡æœ‰ä»»ä½•æ‰‹åŠ¨æ“ä½œçš„æƒ…å†µä¸‹ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p>
<p>ç»è¿‡ä¸€ç•ªä¾¦æ¢å¼çš„æ’æŸ¥ï¼Œç»ˆäºæªå‡ºäº†å¹•åçœŸå‡¶ã€‚ä»Šå¤©å°±æŠŠè¿™ä¸ªæ’æŸ¥è¿‡ç¨‹å’Œè§£å†³æ–¹æ¡ˆåˆ†äº«ç»™å¤§å®¶ï¼Œå¦‚æœä½ çš„ç»ˆç«¯ä¹Ÿç»å¸¸å¡é¡¿ï¼Œä¸å¦¨æ£€æŸ¥ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ã€‚</p>
<h3 data-id="heading-1">ğŸ§ é—®é¢˜ç°åœº</h3>
<p>ç°è±¡éå¸¸ç®€å•ç²—æš´ï¼š</p>
<ul>
<li>åŒå‡»å¯åŠ¨ PowerShellï¼ˆæˆ–è€…åœ¨ VS Code ä¸­æ‰“å¼€ç»ˆç«¯ï¼‰ã€‚</li>
<li>ç³»ç»Ÿæ˜æ˜¾å¡é¡¿ï¼Œé¼ æ ‡ç§»åŠ¨éƒ½å˜å¾—è¿Ÿç¼“ã€‚</li>
<li>æŸ¥çœ‹ä»»åŠ¡ç®¡ç†å™¨ï¼ŒPowerShell è¿›ç¨‹å ç”¨å†…å­˜æé«˜ï¼ˆç”šè‡³è¾¾åˆ° GB çº§åˆ«ï¼‰ã€‚</li>
<li>ç­‰å¾…è®¸ä¹…åï¼Œç»ˆç«¯æ‰å‹‰å¼ºå¯ä»¥è¾“å…¥å‘½ä»¤ã€‚</li>
</ul>
<h3 data-id="heading-2">ğŸ•µï¸â€â™‚ï¸ æŠ½ä¸å‰¥èŒ§ï¼šæ’æŸ¥è¿‡ç¨‹</h3>
<p>ä¸ºäº†æ‰¾åˆ°åŸå› ï¼Œæˆ‘å¹¶æ²¡æœ‰æ€¥ç€é‡è£…ç³»ç»Ÿï¼ˆè™½ç„¶è¿™æ˜¯ä¸‡èƒ½å¤§æ³•ï¼‰ï¼Œè€Œæ˜¯å†³å®šæ·±å…¥ç³»ç»Ÿå†…éƒ¨çœ‹ä¸€çœ‹ã€‚</p>
<h4 data-id="heading-3">1. è¿›ç¨‹åˆ†æ</h4>
<p>é¦–å…ˆï¼Œæˆ‘ä½¿ç”¨ <code>Get-Process</code> å‘½ä»¤æŸ¥çœ‹äº† PowerShell è¿›ç¨‹çš„çŠ¶æ€ã€‚æœä¸å…¶ç„¶ï¼Œ<code>WorkingSet</code>ï¼ˆå·¥ä½œé›†å†…å­˜ï¼‰æ•°å€¼å¼‚å¸¸çš„é«˜ã€‚</p>
<h4 data-id="heading-4">2. ç¯å¢ƒæ£€æŸ¥</h4>
<p>æˆ‘æ€€ç–‘æ˜¯ä¸æ˜¯æŸä¸ª Profile é…ç½®æ–‡ä»¶æˆ–è€…åŠ è½½çš„æ¨¡å—æœ‰é—®é¢˜ã€‚æ£€æŸ¥äº† <code>$PROFILE</code>ï¼Œå‘ç°å¹¶æ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šçš„å¯åŠ¨è„šæœ¬ã€‚æ¥ç€æ£€æŸ¥å·²åŠ è½½çš„æ¨¡å—ï¼Œä¸€åˆ‡ä¼¼ä¹éƒ½å¾ˆæ­£å¸¸ã€‚</p>
<h4 data-id="heading-5">3. å…³é”®å‘ç°</h4>
<p>åœ¨æ’æŸ¥ PowerShell çš„å¸¸ç”¨æ¨¡å— <strong>PSReadLine</strong> æ—¶ï¼Œæˆ‘æ³¨æ„åˆ°äº†ä¸€ä¸ªç»†èŠ‚ã€‚è¿™ä¸ªæ¨¡å—è´Ÿè´£ç®¡ç†æˆ‘ä»¬çš„å‘½ä»¤è¡Œå†å²è®°å½•ã€è¯­æ³•é«˜äº®ç­‰åŠŸèƒ½ã€‚å®ƒä¼šæŠŠæˆ‘ä»¬æ•²è¿‡çš„æ‰€æœ‰å‘½ä»¤éƒ½ä¿å­˜åœ¨ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶é‡Œã€‚</p>
<p>æˆ‘é¡ºè—¤æ‘¸ç“œæ‰¾åˆ°äº†è¿™ä¸ªæ–‡ä»¶ï¼Œç»“æœè®©æˆ‘å¤§åƒä¸€æƒŠï¼š</p>
<blockquote>
<p><strong>æ–‡ä»¶è·¯å¾„ï¼š</strong> <code>%APPDATA%\Microsoft\Windows\PowerShell\PSReadLine\ConsoleHost_history.txt</code>
<strong>æ–‡ä»¶å¤§å°ï¼š</strong> <strong>832 MB</strong></p>
</blockquote>
<p>æ²¡é”™ï¼Œä½ æ²¡çœ‹é”™ï¼Œä¸€ä¸ªçº¯æ–‡æœ¬çš„å†å²è®°å½•æ–‡ä»¶ï¼Œç«Ÿç„¶æœ‰ <strong>800å¤šå…†</strong>ï¼è¿™æ„å‘³ç€é‡Œé¢å¯èƒ½ä¿å­˜äº†æ•°ç™¾ä¸‡è¡Œçš„å‘½ä»¤å†å²ã€‚</p>
<p><strong>çœŸç›¸å¤§ç™½ï¼š</strong> PowerShell åœ¨å¯åŠ¨æ—¶ï¼ŒPSReadLine æ¨¡å—ä¼šå°è¯•åŠ è½½è¿™ä¸ªå·¨å¤§çš„å†å²è®°å½•æ–‡ä»¶ï¼Œä»¥ä¾¿æä¾›â€œå‘ä¸Šç®­å¤´â€æŸ¥æ‰¾å†å²å‘½ä»¤çš„åŠŸèƒ½ã€‚è¿™å°±å¥½æ¯”è®©ä½ ä¸€å£æ°”èƒŒè¯µä¸€æœ¬å­—å…¸ï¼Œä¸å¡æ‰æ€ªï¼</p>
<h3 data-id="heading-6">ğŸ› ï¸ ä¸€é”®è§£å†³</h3>
<p>æ—¢ç„¶æ‰¾åˆ°äº†ç—…ç¶ï¼Œæ²»ç–—æ–¹æ¡ˆå°±éå¸¸ç®€å•äº†ï¼š<strong>è®© PowerShell æ”¾å¼ƒåŠ è½½è¿™ä¸ªæ–‡ä»¶ã€‚</strong></p>
<p>ä¸ºäº†ä¿é™©èµ·è§ï¼ˆä¸‡ä¸€é‡Œé¢æœ‰é‡è¦çš„å†å²å‘½ä»¤å‘¢ï¼‰ï¼Œæˆ‘æ²¡æœ‰ç›´æ¥åˆ é™¤å®ƒï¼Œè€Œæ˜¯é€‰æ‹©äº†é‡å‘½åã€‚</p>
<h4 data-id="heading-7">æ“ä½œæ­¥éª¤ï¼š</h4>
<p>æ‰“å¼€ä½ çš„æ–‡ä»¶èµ„æºç®¡ç†å™¨ï¼Œæˆ–è€…ç›´æ¥åœ¨å‘½ä»¤è¡Œæ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p>
<pre><code class="hljs language-powershell" lang="powershell"># è¿›å…¥ PSReadLine ç›®å½•
cd "$env:APPDATA\Microsoft\Windows\PowerShell\PSReadLine"

# å°†å·¨å¤§çš„å†å²æ–‡ä»¶é‡å‘½åå¤‡ä»½
Rename-Item .\ConsoleHost_history.txt -NewName ConsoleHost_history.txt.bak
</code></pre>
<p><strong>æ•ˆæœç«‹ç«¿è§å½±ï¼š</strong>
å†æ¬¡å¯åŠ¨ PowerShellï¼Œç§’å¼€ï¼å†…å­˜å ç”¨æ¢å¤åˆ°äº†å‡ å MB çš„æ­£å¸¸æ°´å¹³ã€‚ç³»ç»Ÿç¬é—´æ¢å¤äº†ä¸èˆ¬é¡ºæ»‘ã€‚</p>
<h3 data-id="heading-8">ğŸ’¡ é¿å‘æŒ‡å—</h3>
<p>é—®é¢˜è§£å†³äº†ï¼Œä½†ä¸ºä»€ä¹ˆä¼šæœ‰è¿™ä¹ˆå¤§çš„å†å²æ–‡ä»¶å‘¢ï¼Ÿé€šå¸¸æœ‰ä»¥ä¸‹å‡ ä¸ªåŸå› ï¼š</p>
<ol>
<li><strong>æ—¥ç§¯æœˆç´¯ï¼š</strong> ä»æ¥æ²¡æœ‰æ¸…ç†è¿‡ï¼Œæ•°å¹´çš„æ“ä½œè®°å½•éƒ½åœ¨é‡Œé¢ã€‚</li>
<li><strong>è‡ªåŠ¨åŒ–è„šæœ¬ï¼š</strong> æŸäº›è‡ªåŠ¨åŒ–è„šæœ¬å¦‚æœåœ¨ PowerShell ç¯å¢ƒä¸‹ç–¯ç‹‚å¾ªç¯æ‰§è¡Œå‘½ä»¤ï¼Œè¿™äº›å‘½ä»¤ä¹Ÿä¼šè¢«è®°å½•ä¸‹æ¥ã€‚</li>
</ol>
<h4 data-id="heading-9">å»ºè®®ï¼š</h4>
<ul>
<li>å®šæœŸæ£€æŸ¥ä¸€ä¸‹ <code>%APPDATA%\Microsoft\Windows\PowerShell\PSReadLine\</code> ç›®å½•ä¸‹çš„æ–‡ä»¶å¤§å°ã€‚</li>
<li>å¦‚æœä½ å‘ç°è‡ªå·±ä¸éœ€è¦ä¿ç•™é‚£ä¹ˆä¹…è¿œçš„å†å²è®°å½•ï¼Œå¯ä»¥è€ƒè™‘å®šæœŸæ¸…ç†ã€‚</li>
<li>å¦‚æœé‚£ä¸ª 800MB çš„å¤‡ä»½æ–‡ä»¶é‡Œæ²¡æœ‰ä½ éœ€è¦çš„â€œä¼ å®¶å®â€ä»£ç ï¼Œæœæ–­åˆ æ‰å®ƒé‡Šæ”¾ç©ºé—´å§ï¼</li>
</ul>
<hr/>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åˆ°é‡åˆ°åŒæ ·é—®é¢˜çš„ä½ ã€‚Happy Coding! ğŸš€</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android äº‹ä»¶åˆ†å‘æœºåˆ¶ - äº‹ä»¶æµå‘è¯¦è§£]]></title>    <link>https://juejin.cn/post/7593139476840169478</link>    <guid>https://juejin.cn/post/7593139476840169478</guid>    <pubDate>2026-01-09T09:07:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593139476840169478" data-draft-id="7592921639465304106" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android äº‹ä»¶åˆ†å‘æœºåˆ¶ - äº‹ä»¶æµå‘è¯¦è§£"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•,Android"/> <meta itemprop="datePublished" content="2026-01-09T09:07:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é’è²843"/> <meta itemprop="url" content="https://juejin.cn/user/541408646929991"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android äº‹ä»¶åˆ†å‘æœºåˆ¶ - äº‹ä»¶æµå‘è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/541408646929991/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é’è²843
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:07:28.000Z" title="Fri Jan 09 2026 09:07:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»23åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Android äº‹ä»¶åˆ†å‘æœºåˆ¶ - äº‹ä»¶æµå‘è¯¦è§£</h2>
<h3 data-id="heading-1">äº‹ä»¶æ¥æº</h3>
<h4 data-id="heading-2">äº‹ä»¶äº§ç”Ÿæµç¨‹</h4>
<pre><code class="hljs language-markdown" lang="markdown">ç”¨æˆ·è§¦æ‘¸å±å¹•
<span class="hljs-code">    â†“
InputManagerï¼ˆç³»ç»ŸæœåŠ¡ï¼‰
    â†“
é€šè¿‡Binderä¼ é€’åˆ°åº”ç”¨è¿›ç¨‹
    â†“
ä¸»çº¿ç¨‹çš„MessageQueue
    â†“
Looperå–å‡ºäº‹ä»¶
    â†“
Activity.dispatchTouchEvent()
    â†“
å¼€å§‹äº‹ä»¶åˆ†å‘
</span></code></pre>
<hr/>
<h3 data-id="heading-3">ViewGroupäº‹ä»¶æµå‘è¯¦è§£</h3>
<h4 data-id="heading-4">ViewGroupçš„ä¸‰ä¸ªæ–¹æ³•</h4>

























<table><thead><tr><th>æ–¹æ³•</th><th>ä½œç”¨</th><th>è¿”å›å€¼</th></tr></thead><tbody><tr><td><code>dispatchTouchEvent()</code></td><td>åˆ†å‘äº‹ä»¶</td><td>boolean</td></tr><tr><td><code>onInterceptTouchEvent()</code></td><td>æ‹¦æˆªäº‹ä»¶</td><td>boolean</td></tr><tr><td><code>onTouchEvent()</code></td><td>å¤„ç†äº‹ä»¶</td><td>boolean</td></tr></tbody></table>
<hr/>
<h4 data-id="heading-5">dispatchTouchEvent()è¿”å›å€¼è¯¦è§£</h4>
<h5 data-id="heading-6">è¿”å› true</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">Activity â†’ Window â†’ DecorView â†’ ViewGroup <span class="hljs-selector-tag">A</span>
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()è¢«è°ƒç”¨
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()è¿”å›true âœ…
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›trueè¡¨ç¤ºäº‹ä»¶è¢«æ¶ˆè´¹ï¼Œæ–¹æ³•ç«‹å³è¿”å›
    â†“
ä¸ä¼šè°ƒç”¨<span class="hljs-built_in">onInterceptTouchEvent</span>()ï¼ˆåç»­é€»è¾‘ä¸æ‰§è¡Œï¼‰
    â†“
ä¸ä¼šéå†å­Viewï¼ˆä¸ä¼šè¿›å…¥å­Viewéå†é€»è¾‘ï¼‰
    â†“
ä¸ä¼šè°ƒç”¨<span class="hljs-built_in">onTouchEvent</span>()ï¼ˆä¸ä¼šè°ƒç”¨<span class="hljs-built_in">onTouchEvent</span>()ï¼‰
    â†“
äº‹ä»¶åˆ†å‘ç»“æŸï¼ŒViewGroup <span class="hljs-selector-tag">A</span>æˆä¸ºç›®æ ‡View
    â†“
åç»­ACTION_MOVEã€ACTION_UPä¼šç»§ç»­ä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">A</span>
    ã€åŸå› ã€‘ç³»ç»Ÿè®°å½•ViewGroup <span class="hljs-selector-tag">A</span>ä¸ºç›®æ ‡Viewï¼ˆmFirstTouchTargetï¼‰
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> âœ… <strong>äº‹ä»¶è¢«ViewGroup Aæ¶ˆè´¹ï¼Œä¸å†ä¼ é€’</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸ºä»€ä¹ˆä¸ä¼šè°ƒç”¨onInterceptTouchEvent()ï¼Ÿ</strong></p>
<ul>
<li>dispatchTouchEvent()è¿”å›trueåï¼Œæ–¹æ³•ç«‹å³è¿”å›</li>
<li>ä¸ä¼šæ‰§è¡Œåç»­çš„æ‹¦æˆªåˆ¤æ–­é€»è¾‘</li>
<li>è¿™æ˜¯æ€§èƒ½ä¼˜åŒ–ï¼Œé¿å…ä¸å¿…è¦çš„åˆ¤æ–­</li>
</ul>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆä¸ä¼šä¼ é€’ç»™å­Viewï¼Ÿ</strong></p>
<ul>
<li>dispatchTouchEvent()è¿”å›trueè¡¨ç¤ºäº‹ä»¶è¢«æ¶ˆè´¹</li>
<li>ç³»ç»Ÿè®¤ä¸ºäº‹ä»¶å·²ç»å¤„ç†å®Œæˆï¼Œä¸éœ€è¦ç»§ç»­ä¼ é€’</li>
<li>è¿™æ˜¯äº‹ä»¶åˆ†å‘çš„æ ¸å¿ƒæœºåˆ¶ï¼šä¸€æ—¦æ¶ˆè´¹ï¼Œåœæ­¢ä¼ é€’</li>
</ul>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆåç»­äº‹ä»¶ä¼šç»§ç»­ä¼ é€’ï¼Ÿ</strong></p>
<ul>
<li>ç³»ç»Ÿä¼šè®°å½•å¤„ç†ACTION_DOWNçš„Viewï¼ˆmFirstTouchTargetï¼‰</li>
<li>åç»­çš„MOVEã€UPä¼šç›´æ¥ä¼ é€’ç»™è¿™ä¸ªView</li>
<li>è¿™æ˜¯ä¸ºäº†ä¿æŒäº‹ä»¶åºåˆ—çš„ä¸€è‡´æ€§</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomViewGroup</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ViewGroup</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">dispatchTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// å®Œå…¨æ§åˆ¶äº‹ä»¶å¤„ç†</span>
        <span class="hljs-keyword">switch</span> (event.getAction()) {
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_DOWN:
                <span class="hljs-comment">// å¤„ç†æŒ‰ä¸‹äº‹ä»¶</span>
                handleDown(event);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… è¿”å›trueï¼Œäº‹ä»¶åœ¨æ­¤åœæ­¢</span>
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_MOVE:
                <span class="hljs-comment">// å¤„ç†ç§»åŠ¨äº‹ä»¶</span>
                handleMove(event);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_UP:
                <span class="hljs-comment">// å¤„ç†æŠ¬èµ·äº‹ä»¶</span>
                handleUp(event);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// æ‰€æœ‰äº‹ä»¶éƒ½æ¶ˆè´¹</span>
    }
    
    <span class="hljs-comment">// æ³¨æ„ï¼šonInterceptTouchEvent()å’ŒonTouchEvent()ä¸ä¼šè¢«è°ƒç”¨</span>
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>è‡ªå®šä¹‰ViewGroupéœ€è¦å®Œå…¨æ§åˆ¶æ‰€æœ‰è§¦æ‘¸äº‹ä»¶</li>
<li>éœ€è¦é˜»æ­¢äº‹ä»¶ä¼ é€’ç»™å­View</li>
<li>å®ç°ç‰¹æ®Šçš„è§¦æ‘¸äº¤äº’é€»è¾‘</li>
</ul>
<hr/>
<h5 data-id="heading-7">è¿”å› false</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">Activity â†’ Window â†’ DecorView â†’ ViewGroup <span class="hljs-selector-tag">A</span>
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()è¢«è°ƒç”¨
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()è¿”å›false âŒ
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›falseè¡¨ç¤ºä¸å¤„ç†äº‹ä»¶ï¼Œæ–¹æ³•ç«‹å³è¿”å›
    â†“
ä¸ä¼šè°ƒç”¨<span class="hljs-built_in">onInterceptTouchEvent</span>()ï¼ˆåç»­é€»è¾‘ä¸æ‰§è¡Œï¼‰
    â†“
ä¸ä¼šéå†å­Viewï¼ˆä¸ä¼šè¿›å…¥å­Viewéå†é€»è¾‘ï¼‰
    â†“
ä¸ä¼šè°ƒç”¨<span class="hljs-built_in">onTouchEvent</span>()ï¼ˆä¸ä¼šè°ƒç”¨<span class="hljs-built_in">onTouchEvent</span>()ï¼‰
    â†“
äº‹ä»¶è¿”å›åˆ°çˆ¶ViewGroupï¼ˆDecorViewï¼‰
    â†“
DecorViewä¼šå°è¯•å…¶ä»–å­Viewï¼Œæˆ–è°ƒç”¨è‡ªå·±çš„<span class="hljs-built_in">onTouchEvent</span>()
    â†“
å¦‚æœéƒ½ä¸å¤„ç†ï¼Œæœ€ç»ˆè°ƒç”¨Activity<span class="hljs-selector-class">.onTouchEvent</span>()
    â†“
åç»­ACTION_MOVEã€ACTION_UPä¸ä¼šä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">A</span>
    ã€åŸå› ã€‘ç³»ç»Ÿä¸ä¼šè®°å½•ViewGroup <span class="hljs-selector-tag">A</span>ä¸ºç›®æ ‡View
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> â¬†ï¸ <strong>äº‹ä»¶å‘ä¸Šä¼ é€’ç»™çˆ¶ViewGroup/Activity</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸ºä»€ä¹ˆä¸ä¼šè°ƒç”¨onInterceptTouchEvent()ï¼Ÿ</strong></p>
<ul>
<li>dispatchTouchEvent()è¿”å›falseåï¼Œæ–¹æ³•ç«‹å³è¿”å›</li>
<li>ä¸ä¼šæ‰§è¡Œåç»­çš„æ‹¦æˆªåˆ¤æ–­é€»è¾‘</li>
<li>è¡¨ç¤ºViewGroupå®Œå…¨ä¸å‚ä¸äº‹ä»¶å¤„ç†</li>
</ul>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆä¸ä¼šä¼ é€’ç»™å­Viewï¼Ÿ</strong></p>
<ul>
<li>dispatchTouchEvent()è¿”å›falseè¡¨ç¤ºä¸å¤„ç†äº‹ä»¶</li>
<li>ç³»ç»Ÿè®¤ä¸ºè¿™ä¸ªViewGroupä¸å‚ä¸äº‹ä»¶åˆ†å‘</li>
<li>ä¸ä¼šè¿›å…¥å­Viewéå†é€»è¾‘</li>
</ul>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆåç»­äº‹ä»¶ä¸ä¼šä¼ é€’ï¼Ÿ</strong></p>
<ul>
<li>ç³»ç»Ÿåªè®°å½•å¤„ç†ACTION_DOWNçš„View</li>
<li>å¦‚æœACTION_DOWNä¸è¢«å¤„ç†ï¼Œä¸ä¼šè®°å½•ç›®æ ‡View</li>
<li>åç»­MOVEã€UPä¸ä¼šä¼ é€’ç»™è¯¥ViewGroup</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DisabledViewGroup</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ViewGroup</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">mEnabled</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">dispatchTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-keyword">if</span> (!mEnabled) {
            <span class="hljs-comment">// ViewGroupè¢«ç¦ç”¨ï¼Œä¸å¤„ç†äº‹ä»¶</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// âŒ è¿”å›falseï¼Œäº‹ä»¶å‘ä¸Šä¼ é€’</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.dispatchTouchEvent(event);
    }
    
    <span class="hljs-comment">// æ³¨æ„ï¼šonInterceptTouchEvent()å’ŒonTouchEvent()ä¸ä¼šè¢«è°ƒç”¨</span>
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>ViewGroupè¢«ç¦ç”¨æ—¶</li>
<li>ViewGroupä¸å¯è§æ—¶ï¼ˆGONEï¼‰</li>
<li>ViewGroupéœ€è¦å°†äº‹ä»¶å®Œå…¨äº¤ç»™çˆ¶Viewå¤„ç†æ—¶</li>
</ul>
<hr/>
<h5 data-id="heading-8">è¿”å› super</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">Activity â†’ Window â†’ DecorView â†’ ViewGroup <span class="hljs-selector-tag">A</span>
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()è¢«è°ƒç”¨
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()è¿”å›super
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›superè¡¨ç¤ºä½¿ç”¨ç³»ç»Ÿé»˜è®¤å¤„ç†é€»è¾‘
    â†“
è¿›å…¥ViewGroup<span class="hljs-selector-class">.dispatchTouchEvent</span>()çš„é»˜è®¤å®ç°
    â†“
é¦–å…ˆè°ƒç”¨<span class="hljs-built_in">onInterceptTouchEvent</span>()åˆ¤æ–­æ˜¯å¦æ‹¦æˆª
    â†“
æ ¹æ®<span class="hljs-built_in">onInterceptTouchEvent</span>()çš„è¿”å›å€¼å†³å®šï¼š
    â”œâ”€ å¦‚æœè¿”å›true â†’ æ‹¦æˆªï¼Œä¸ä¼ é€’ç»™å­View
    â”‚   â””â”€ è°ƒç”¨ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onTouchEvent</span>()
    â”‚       â”œâ”€ è¿”å›true â†’ ViewGroup <span class="hljs-selector-tag">A</span>æ¶ˆè´¹ âœ…
    â”‚       â””â”€ è¿”å›false â†’ å‘ä¸Šä¼ é€’ â¬†ï¸
    â””â”€ å¦‚æœè¿”å›false â†’ ä¸æ‹¦æˆªï¼Œä¼ é€’ç»™å­View
        â””â”€ éå†å­Viewï¼Œè°ƒç”¨å­View<span class="hljs-selector-class">.dispatchTouchEvent</span>()
            â”œâ”€ å­Viewå¤„ç† â†’ å­Viewæ¶ˆè´¹ âœ…
            â””â”€ å­Viewä¸å¤„ç† â†’ è°ƒç”¨ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onTouchEvent</span>()
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> ğŸ”„ <strong>æ ¹æ®onInterceptTouchEvent()å’ŒonTouchEvent()çš„è¿”å›å€¼å†³å®š</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦è°ƒç”¨onInterceptTouchEvent()ï¼Ÿ</strong></p>
<ul>
<li>ViewGroupéœ€è¦åˆ¤æ–­æ˜¯å¦æ‹¦æˆªäº‹ä»¶</li>
<li>è¿™æ˜¯ViewGroupçš„æ ¸å¿ƒåŠŸèƒ½ï¼šæ§åˆ¶å­Viewçš„äº‹ä»¶</li>
<li>åªæœ‰ViewGroupæœ‰è¿™ä¸ªæ–¹æ³•</li>
</ul>
</li>
<li>
<p><strong>æ‹¦æˆªå’Œä¸æ‹¦æˆªçš„åŒºåˆ«ï¼š</strong></p>
<ul>
<li><strong>æ‹¦æˆªï¼ˆtrueï¼‰</strong>ï¼šäº‹ä»¶ä¸ä¼ é€’ç»™å­Viewï¼Œç”±ViewGroupè‡ªå·±å¤„ç†</li>
<li><strong>ä¸æ‹¦æˆªï¼ˆfalseï¼‰</strong>ï¼šäº‹ä»¶ä¼ é€’ç»™å­Viewï¼Œè®©å­Viewå¤„ç†</li>
</ul>
</li>
<li>
<p><strong>å­Viewå¤„ç†å’Œä¸å¤„ç†çš„åŒºåˆ«ï¼š</strong></p>
<ul>
<li><strong>å­Viewå¤„ç†</strong>ï¼šäº‹ä»¶è¢«å­Viewæ¶ˆè´¹ï¼ŒViewGroupçš„onTouchEvent()ä¸ä¼šè¢«è°ƒç”¨</li>
<li><strong>å­Viewä¸å¤„ç†</strong>ï¼šäº‹ä»¶è¿”å›ViewGroupï¼Œè°ƒç”¨ViewGroupçš„onTouchEvent()</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomViewGroup</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ViewGroup</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">dispatchTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// ä½¿ç”¨ç³»ç»Ÿé»˜è®¤å¤„ç†é€»è¾‘</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.dispatchTouchEvent(event);
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onInterceptTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// ç³»ç»Ÿä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•åˆ¤æ–­æ˜¯å¦æ‹¦æˆª</span>
        <span class="hljs-comment">// è¿”å›trueæ‹¦æˆªï¼Œè¿”å›falseä¸æ‹¦æˆª</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.onInterceptTouchEvent(event);
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// å¦‚æœæ‹¦æˆªæˆ–å­Viewä¸å¤„ç†ï¼Œä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.onTouchEvent(event);
    }
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨</li>
<li>éœ€è¦ç³»ç»Ÿé»˜è®¤çš„äº‹ä»¶åˆ†å‘é€»è¾‘</li>
<li>ä¸éœ€è¦å®Œå…¨è‡ªå®šä¹‰äº‹ä»¶å¤„ç†</li>
</ul>
<hr/>
<h4 data-id="heading-9">onInterceptTouchEvent()è¿”å›å€¼è¯¦è§£</h4>
<blockquote>
<p>âš ï¸ <strong>æ³¨æ„</strong>ï¼šåªæœ‰ViewGroupæœ‰ï¼ŒViewæ²¡æœ‰æ­¤æ–¹æ³•</p>
</blockquote>
<h5 data-id="heading-10">è¿”å› true</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
è°ƒç”¨ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>()
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>()è¿”å›true âœ…
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›trueè¡¨ç¤ºæ‹¦æˆªäº‹ä»¶ï¼Œä¸ä¼ é€’ç»™å­View
    â†“
ä¸ä¼šéå†å­Viewï¼ˆæ‹¦æˆªäº†ï¼Œä¸éœ€è¦ä¼ é€’ï¼‰
    â†“
ä¸ä¼šè°ƒç”¨å­Viewçš„<span class="hljs-built_in">dispatchTouchEvent</span>()ï¼ˆå­Viewä¸ä¼šæ”¶åˆ°äº‹ä»¶ï¼‰
    â†“
å¦‚æœå­Viewä¹‹å‰æ”¶åˆ°äº†ACTION_DOWNï¼Œä¼šæ”¶åˆ°ACTION_CANCEL
    ã€è¯´æ˜ã€‘DOWNæ—¶ä¸æ‹¦æˆªï¼ŒMOVEæ—¶æ‹¦æˆªçš„æƒ…å†µ
    â†“
è°ƒç”¨ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onTouchEvent</span>()ï¼ˆæ‹¦æˆªåï¼Œç”±ViewGroupè‡ªå·±å¤„ç†ï¼‰
    â†“
æ ¹æ®<span class="hljs-built_in">onTouchEvent</span>()çš„è¿”å›å€¼å†³å®šï¼š
    â”œâ”€ è¿”å›true â†’ ViewGroup <span class="hljs-selector-tag">A</span>æ¶ˆè´¹äº‹ä»¶ âœ…
    â””â”€ è¿”å›false â†’ äº‹ä»¶å‘ä¸Šä¼ é€’ç»™çˆ¶ViewGroup â¬†ï¸
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> ğŸ›‘ <strong>æ‹¦æˆªï¼Œä¸ä¼ é€’ç»™å­Viewï¼Œè°ƒç”¨è‡ªå·±çš„onTouchEvent()</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸ºä»€ä¹ˆä¸ä¼šä¼ é€’ç»™å­Viewï¼Ÿ</strong></p>
<ul>
<li>onInterceptTouchEvent()è¿”å›trueè¡¨ç¤ºæ‹¦æˆª</li>
<li>æ‹¦æˆªæ„å‘³ç€ViewGroupè¦è‡ªå·±å¤„ç†äº‹ä»¶</li>
<li>ç³»ç»Ÿä¸ä¼šå°†äº‹ä»¶ä¼ é€’ç»™å­View</li>
</ul>
</li>
<li>
<p><strong>ACTION_CANCELä»€ä¹ˆæ—¶å€™å‘é€ï¼Ÿ</strong></p>
<ul>
<li>å½“ViewGroupåœ¨MOVEæ—¶æ‹¦æˆªï¼Œè€Œå­Viewä¹‹å‰æ”¶åˆ°äº†DOWN</li>
<li>ç³»ç»Ÿä¼šå‘é€ACTION_CANCELç»™å­View</li>
<li>å­Viewåº”è¯¥æ¸…ç†çŠ¶æ€ï¼Œæ¢å¤åˆ°åˆå§‹çŠ¶æ€</li>
</ul>
</li>
<li>
<p><strong>æ‹¦æˆªçš„æ—¶æœºï¼š</strong></p>
<ul>
<li>å¯ä»¥åœ¨DOWNæ—¶æ‹¦æˆª</li>
<li>å¯ä»¥åœ¨MOVEæ—¶æ‹¦æˆªï¼ˆæ›´å¸¸è§ï¼‰</li>
<li>å¯ä»¥åœ¨UPæ—¶æ‹¦æˆªï¼ˆå°‘è§ï¼‰</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomScrollView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ScrollView</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">float</span> mLastX, mLastY;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onInterceptTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-type">float</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> event.getX();
        <span class="hljs-type">float</span> <span class="hljs-variable">y</span> <span class="hljs-operator">=</span> event.getY();
        
        <span class="hljs-keyword">switch</span> (event.getAction()) {
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_DOWN:
                mLastX = x;
                mLastY = y;
                <span class="hljs-comment">// DOWNæ—¶ä¸æ‹¦æˆªï¼Œè®©å­Viewå¯ä»¥ç‚¹å‡»</span>
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// âŒ ä¸æ‹¦æˆª</span>
                
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_MOVE:
                <span class="hljs-type">float</span> <span class="hljs-variable">deltaX</span> <span class="hljs-operator">=</span> Math.abs(x - mLastX);
                <span class="hljs-type">float</span> <span class="hljs-variable">deltaY</span> <span class="hljs-operator">=</span> Math.abs(y - mLastY);
                <span class="hljs-comment">// å¦‚æœæ˜¯å‚ç›´æ»‘åŠ¨ï¼Œæ‹¦æˆªäº‹ä»¶</span>
                <span class="hljs-keyword">if</span> (deltaY &gt; deltaX &amp;&amp; deltaY &gt; <span class="hljs-number">10</span>) {
                    <span class="hljs-comment">// æ­¤æ—¶å­Viewä¼šæ”¶åˆ°ACTION_CANCEL</span>
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… æ‹¦æˆª</span>
                }
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// âŒ ä¸æ‹¦æˆª</span>
                
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_UP:
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// âŒ ä¸æ‹¦æˆª</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// æ‹¦æˆªåï¼Œè‡ªå·±å¤„ç†æ»‘åŠ¨</span>
        handleScroll(event);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… æ¶ˆè´¹äº‹ä»¶</span>
    }
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>ScrollViewéœ€è¦æ‹¦æˆªå­Viewçš„æ»‘åŠ¨äº‹ä»¶</li>
<li>ViewPageréœ€è¦æ‹¦æˆªå­Viewçš„å·¦å³æ»‘åŠ¨</li>
<li>è‡ªå®šä¹‰ViewGroupéœ€è¦æ§åˆ¶å­Viewçš„äº‹ä»¶</li>
</ul>
<hr/>
<h5 data-id="heading-11">è¿”å› false</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql">ViewGroup A.dispatchTouchEvent() â†’ super
    â†“
è°ƒç”¨ViewGroup A.onInterceptTouchEvent()
    â†“
ViewGroup A.onInterceptTouchEvent()è¿”å›<span class="hljs-literal">false</span> âŒ
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›<span class="hljs-literal">false</span>è¡¨ç¤ºä¸æ‹¦æˆªï¼Œäº‹ä»¶ç»§ç»­ä¼ é€’ç»™å­<span class="hljs-keyword">View</span>
    â†“
å¼€å§‹éå†å­<span class="hljs-keyword">View</span>ï¼ˆä»åå¾€å‰ï¼Œä¸Šå±‚<span class="hljs-keyword">View</span>ä¼˜å…ˆï¼‰
    â†“
æ£€æŸ¥å­<span class="hljs-keyword">View</span>æ˜¯å¦å¯æ¥æ”¶äº‹ä»¶ï¼ˆå¯è§ã€åæ ‡èŒƒå›´å†…ã€å¯ç”¨ï¼‰
    â†“
å¯¹äºç¬¦åˆæ¡ä»¶çš„å­<span class="hljs-keyword">View</span>ï¼Œè°ƒç”¨å­View.dispatchTouchEvent()
    â†“
æ ¹æ®å­<span class="hljs-keyword">View</span>çš„è¿”å›å€¼å†³å®šï¼š
    â”œâ”€ å­<span class="hljs-keyword">View</span>è¿”å›<span class="hljs-literal">true</span> â†’ å­<span class="hljs-keyword">View</span>æ¶ˆè´¹äº‹ä»¶ âœ…
    â”‚   â””â”€ è®°å½•ç›®æ ‡<span class="hljs-keyword">View</span>ï¼ˆmFirstTouchTarget <span class="hljs-operator">=</span> å­<span class="hljs-keyword">View</span>ï¼‰
    â”‚   â””â”€ ViewGroup Açš„onTouchEvent()ä¸ä¼šè¢«è°ƒç”¨
    â”‚   â””â”€ åç»­MOVEã€UPä¼šç›´æ¥ä¼ é€’ç»™è¯¥å­<span class="hljs-keyword">View</span>
    â””â”€ å­<span class="hljs-keyword">View</span>è¿”å›<span class="hljs-literal">false</span> â†’ ç»§ç»­éå†ä¸‹ä¸€ä¸ªå­<span class="hljs-keyword">View</span>
        â””â”€ å¦‚æœæ‰€æœ‰å­<span class="hljs-keyword">View</span>éƒ½ä¸å¤„ç†
            â””â”€ è°ƒç”¨ViewGroup A.onTouchEvent()
                â”œâ”€ è¿”å›<span class="hljs-literal">true</span> â†’ ViewGroup Aæ¶ˆè´¹ âœ…
                â””â”€ è¿”å›<span class="hljs-literal">false</span> â†’ å‘ä¸Šä¼ é€’ â¬†ï¸
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> â¬‡ï¸ <strong>ä¸æ‹¦æˆªï¼Œä¼ é€’ç»™å­View</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸ºä»€ä¹ˆä»åå¾€å‰éå†ï¼Ÿ</strong></p>
<ul>
<li>åæ·»åŠ çš„Viewåœ¨Zè½´ä¸Šå±‚</li>
<li>ä¸Šå±‚Viewåº”è¯¥ä¼˜å…ˆå“åº”è§¦æ‘¸äº‹ä»¶</li>
<li>ç¬¦åˆç”¨æˆ·çš„è§†è§‰é¢„æœŸ</li>
</ul>
</li>
<li>
<p><strong>å­Viewçš„æ£€æŸ¥æ¡ä»¶ï¼š</strong></p>
<ul>
<li><strong>å¯è§æ€§</strong>ï¼šå¿…é¡»æ˜¯VISIBLEï¼ˆGONEå’ŒINVISIBLEä¸æ¥æ”¶äº‹ä»¶ï¼‰</li>
<li><strong>åæ ‡</strong>ï¼šè§¦æ‘¸ç‚¹å¿…é¡»åœ¨å­Viewçš„åŒºåŸŸå†…</li>
<li><strong>å¯ç”¨æ€§</strong>ï¼šå­Viewå¿…é¡»æ˜¯enabledçŠ¶æ€</li>
</ul>
</li>
<li>
<p><strong>mFirstTouchTargetçš„ä½œç”¨ï¼š</strong></p>
<ul>
<li>è®°å½•å¤„ç†ACTION_DOWNçš„å­View</li>
<li>åç»­MOVEã€UPä¼šç›´æ¥ä¼ é€’ç»™è¿™ä¸ªView</li>
<li>é¿å…é‡å¤éå†ï¼Œæé«˜æ€§èƒ½</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomViewGroup</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ViewGroup</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onInterceptTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// ä¸æ‹¦æˆªï¼Œè®©å­Viewæ­£å¸¸å¤„ç†äº‹ä»¶</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// âŒ ä¸æ‹¦æˆª</span>
    }
    
    <span class="hljs-comment">// ç³»ç»Ÿä¼šè‡ªåŠ¨éå†å­Viewï¼Œè°ƒç”¨å­View.dispatchTouchEvent()</span>
    <span class="hljs-comment">// å¦‚æœå­Viewå¤„ç†ï¼Œäº‹ä»¶è¢«å­Viewæ¶ˆè´¹</span>
    <span class="hljs-comment">// å¦‚æœå­Viewä¸å¤„ç†ï¼Œä¼šè°ƒç”¨onTouchEvent()</span>
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨</li>
<li>éœ€è¦å­Viewæ­£å¸¸å¤„ç†äº‹ä»¶</li>
<li>ä¸éœ€è¦æ‹¦æˆªå­Viewçš„äº‹ä»¶</li>
<li>æ™®é€šçš„å¸ƒå±€å®¹å™¨ï¼ˆLinearLayoutã€RelativeLayoutç­‰ï¼‰</li>
</ul>
<hr/>
<h5 data-id="heading-12">è¿”å› super</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
è°ƒç”¨ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>()
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>()è¿”å›super
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›superè¡¨ç¤ºä½¿ç”¨ç³»ç»Ÿé»˜è®¤å®ç°
    â†“
ç³»ç»Ÿé»˜è®¤å®ç°è¿”å›falseï¼ˆViewGroupé»˜è®¤ä¸æ‹¦æˆªï¼‰
    â†“
ç­‰åŒäºè¿”å›falseï¼Œäº‹ä»¶ç»§ç»­ä¼ é€’ç»™å­View
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> â¬‡ï¸ <strong>ç­‰åŒäºè¿”å›falseï¼Œä¼ é€’ç»™å­View</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸ºä»€ä¹ˆé»˜è®¤è¿”å›falseï¼Ÿ</strong></p>
<ul>
<li>ViewGroupçš„è®¾è®¡ç†å¿µæ˜¯ï¼šé»˜è®¤ä¸æ‹¦æˆªï¼Œè®©å­Viewå¤„ç†</li>
<li>åªæœ‰åœ¨éœ€è¦æ—¶æ‰æ‹¦æˆªï¼ˆå¦‚ScrollViewéœ€è¦æ»‘åŠ¨ï¼‰</li>
<li>è¿™æ ·å¯ä»¥ä¿è¯å­Viewçš„æ­£å¸¸äº¤äº’</li>
</ul>
</li>
<li>
<p><strong>superå’Œfalseçš„åŒºåˆ«ï¼š</strong></p>
<ul>
<li><strong>åŠŸèƒ½ä¸Š</strong>ï¼šå®Œå…¨ç›¸åŒï¼Œéƒ½è¡¨ç¤ºä¸æ‹¦æˆª</li>
<li><strong>è¯­ä¹‰ä¸Š</strong>ï¼šsuperè¡¨ç¤ºä½¿ç”¨ç³»ç»Ÿé»˜è®¤ï¼Œfalseè¡¨ç¤ºæ˜ç¡®ä¸æ‹¦æˆª</li>
<li><strong>æ¨è</strong>ï¼šå¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨superï¼Œæ›´ç¬¦åˆé¢å‘å¯¹è±¡è®¾è®¡</li>
</ul>
</li>
<li>
<p><strong>ä»€ä¹ˆæ—¶å€™éœ€è¦è¿”å›falseï¼Ÿ</strong></p>
<ul>
<li>å½“éœ€è¦æ˜ç¡®è¡¨ç¤ºä¸æ‹¦æˆªæ—¶</li>
<li>å½“éœ€è¦è¦†ç›–çˆ¶ç±»çš„æ‹¦æˆªé€»è¾‘æ—¶</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomViewGroup</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ViewGroup</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onInterceptTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// ä½¿ç”¨ç³»ç»Ÿé»˜è®¤å®ç°ï¼ˆè¿”å›falseï¼‰</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.onInterceptTouchEvent(event);
    }
    
    <span class="hljs-comment">// ç­‰åŒäºï¼š</span>
    <span class="hljs-comment">// @Override</span>
    <span class="hljs-comment">// public boolean onInterceptTouchEvent(MotionEvent event) {</span>
    <span class="hljs-comment">//     return false;</span>
    <span class="hljs-comment">// }</span>
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨</li>
<li>ä¸éœ€è¦è‡ªå®šä¹‰æ‹¦æˆªé€»è¾‘</li>
<li>æ™®é€šçš„å¸ƒå±€å®¹å™¨</li>
</ul>
<hr/>
<h4 data-id="heading-13">onTouchEvent()è¿”å›å€¼è¯¦è§£</h4>
<h5 data-id="heading-14">è¿”å› true</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onTouchEvent</span>()è¢«è°ƒç”¨
    ã€è°ƒç”¨æ—¶æœºã€‘æ‹¦æˆªäº†äº‹ä»¶ æˆ– å­Viewä¸å¤„ç†äº‹ä»¶
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onTouchEvent</span>()è¿”å›true âœ…
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›trueè¡¨ç¤ºæ¶ˆè´¹äº‹ä»¶ï¼Œä¸å†å‘ä¸Šä¼ é€’
    â†“
äº‹ä»¶åˆ†å‘ç»“æŸï¼Œç³»ç»Ÿè®°å½•ViewGroup <span class="hljs-selector-tag">A</span>ä¸ºç›®æ ‡Viewï¼ˆmFirstTouchTargetï¼‰
    â†“
çˆ¶ViewGroup/Activity<span class="hljs-selector-class">.onTouchEvent</span>()ä¸ä¼šè¢«è°ƒç”¨
    â†“
åç»­ACTION_MOVEã€ACTION_UPä¼šç»§ç»­ä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">A</span>
    ã€è¯´æ˜ã€‘åç»­äº‹ä»¶ä¼šç›´æ¥è°ƒç”¨ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> âœ… <strong>äº‹ä»¶è¢«ViewGroup Aæ¶ˆè´¹ï¼Œä¸å†å‘ä¸Šä¼ é€’</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä»€ä¹ˆæ—¶å€™ä¼šè°ƒç”¨onTouchEvent()ï¼Ÿ</strong></p>
<ul>
<li><strong>æƒ…å†µ1</strong>ï¼šViewGroupæ‹¦æˆªäº†äº‹ä»¶ï¼ˆonInterceptTouchEventè¿”å›trueï¼‰</li>
<li><strong>æƒ…å†µ2</strong>ï¼šå­Viewä¸å¤„ç†äº‹ä»¶ï¼ˆå­Viewçš„onTouchEventè¿”å›falseï¼‰</li>
<li><strong>æƒ…å†µ3</strong>ï¼šæ²¡æœ‰å­Viewæˆ–å­Viewä¸å¯è§</li>
</ul>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆåç»­äº‹ä»¶ä¼šç»§ç»­ä¼ é€’ï¼Ÿ</strong></p>
<ul>
<li>ç³»ç»Ÿä¼šè®°å½•å¤„ç†ACTION_DOWNçš„View</li>
<li>åç»­MOVEã€UPä¼šç›´æ¥ä¼ é€’ç»™è¿™ä¸ªView</li>
<li>è¿™æ˜¯ä¸ºäº†ä¿æŒäº‹ä»¶åºåˆ—çš„ä¸€è‡´æ€§</li>
</ul>
</li>
<li>
<p><strong>åç»­äº‹ä»¶çš„æ‹¦æˆªåˆ¤æ–­ï¼š</strong></p>
<ul>
<li>åç»­MOVEã€UPä»ç„¶ä¼šè°ƒç”¨onInterceptTouchEvent()</li>
<li>å¦‚æœæ‹¦æˆªï¼Œå­Viewä¼šæ”¶åˆ°ACTION_CANCEL</li>
<li>è¿™æ˜¯åŠ¨æ€æ‹¦æˆªæœºåˆ¶</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomViewGroup</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ViewGroup</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onInterceptTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// æ‹¦æˆªäº‹ä»¶</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… æ‹¦æˆª</span>
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-keyword">switch</span> (event.getAction()) {
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_DOWN:
                <span class="hljs-comment">// å¤„ç†æŒ‰ä¸‹</span>
                handleDown(event);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… æ¶ˆè´¹äº‹ä»¶</span>
                
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_MOVE:
                <span class="hljs-comment">// å¤„ç†ç§»åŠ¨</span>
                handleMove(event);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… æ¶ˆè´¹äº‹ä»¶</span>
                
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_UP:
                <span class="hljs-comment">// å¤„ç†æŠ¬èµ·</span>
                handleUp(event);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… æ¶ˆè´¹äº‹ä»¶</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>ScrollViewå¤„ç†æ»‘åŠ¨äº‹ä»¶</li>
<li>ViewPagerå¤„ç†å·¦å³æ»‘åŠ¨</li>
<li>è‡ªå®šä¹‰ViewGroupéœ€è¦å¤„ç†è§¦æ‘¸äº‹ä»¶</li>
<li>ç‚¹å‡»ç©ºç™½åŒºåŸŸæ—¶å¤„ç†äº‹ä»¶</li>
</ul>
<hr/>
<h5 data-id="heading-15">è¿”å› false</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onTouchEvent</span>()è¢«è°ƒç”¨
    ã€è°ƒç”¨æ—¶æœºã€‘æ‹¦æˆªäº†äº‹ä»¶ æˆ– å­Viewä¸å¤„ç†äº‹ä»¶
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onTouchEvent</span>()è¿”å›false âŒ
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›falseè¡¨ç¤ºä¸æ¶ˆè´¹äº‹ä»¶ï¼Œå‘ä¸Šä¼ é€’
    â†“
äº‹ä»¶è¿”å›åˆ°çˆ¶ViewGroupï¼ˆDecorViewï¼‰
    â†“
DecorViewä¼šå°è¯•å…¶ä»–å­Viewï¼Œæˆ–è°ƒç”¨è‡ªå·±çš„<span class="hljs-built_in">onTouchEvent</span>()
    â†“
å¦‚æœéƒ½ä¸å¤„ç†ï¼Œæœ€ç»ˆè°ƒç”¨Activity<span class="hljs-selector-class">.onTouchEvent</span>()
    â†“
ç³»ç»Ÿä¸ä¼šè®°å½•ViewGroup <span class="hljs-selector-tag">A</span>ä¸ºç›®æ ‡View
    â†“
åç»­ACTION_MOVEã€ACTION_UPä¸ä¼šä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">A</span>
    ã€è¯´æ˜ã€‘åç»­äº‹ä»¶ä¼šé‡æ–°ç»è¿‡å®Œæ•´çš„åˆ†å‘æµç¨‹
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> â¬†ï¸ <strong>äº‹ä»¶å‘ä¸Šä¼ é€’ç»™çˆ¶ViewGroup/Activity</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸ºä»€ä¹ˆåç»­äº‹ä»¶ä¸ä¼šä¼ é€’ï¼Ÿ</strong></p>
<ul>
<li>ç³»ç»Ÿåªè®°å½•å¤„ç†ACTION_DOWNçš„View</li>
<li>å¦‚æœACTION_DOWNä¸è¢«å¤„ç†ï¼Œä¸ä¼šè®°å½•ç›®æ ‡View</li>
<li>åç»­MOVEã€UPä¸ä¼šä¼ é€’ç»™è¯¥ViewGroup</li>
</ul>
</li>
<li>
<p><strong>å‘ä¸Šä¼ é€’çš„è·¯å¾„ï¼š</strong></p>
<ul>
<li>ViewGroup A â†’ çˆ¶ViewGroupï¼ˆDecorViewï¼‰â†’ Activity</li>
<li>æ¯ä¸€å±‚éƒ½ä¼šå°è¯•å¤„ç†äº‹ä»¶</li>
<li>å¦‚æœéƒ½ä¸å¤„ç†ï¼Œäº‹ä»¶ä¼šè¢«ä¸¢å¼ƒ</li>
</ul>
</li>
<li>
<p><strong>ä»€ä¹ˆæ—¶å€™è¿”å›falseï¼Ÿ</strong></p>
<ul>
<li>ViewGroupä¸éœ€è¦å¤„ç†äº‹ä»¶æ—¶</li>
<li>éœ€è¦å°†äº‹ä»¶äº¤ç»™çˆ¶Viewå¤„ç†æ—¶</li>
<li>ViewGroupè¢«ç¦ç”¨æ—¶</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomViewGroup</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ViewGroup</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">mEnabled</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onInterceptTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// æ‹¦æˆª</span>
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-keyword">if</span> (!mEnabled) {
            <span class="hljs-comment">// ViewGroupè¢«ç¦ç”¨ï¼Œä¸å¤„ç†äº‹ä»¶</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// âŒ ä¸æ¶ˆè´¹ï¼Œå‘ä¸Šä¼ é€’</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.onTouchEvent(event);
    }
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>ViewGroupè¢«ç¦ç”¨æ—¶</li>
<li>ViewGroupä¸éœ€è¦å¤„ç†äº‹ä»¶æ—¶</li>
<li>éœ€è¦å°†äº‹ä»¶äº¤ç»™çˆ¶Viewå¤„ç†æ—¶</li>
</ul>
<hr/>
<h5 data-id="heading-16">è¿”å› super</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">ViewGroup A.onTouchEvent()è¢«è°ƒç”¨
    â†“
ViewGroup A.onTouchEvent()è¿”å›super
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›superè¡¨ç¤ºä½¿ç”¨ç³»ç»Ÿé»˜è®¤å®ç°
    â†“
ç³»ç»Ÿæ£€æŸ¥ViewGroupçš„clickableå±æ€§ï¼ˆViewGroupé»˜è®¤<span class="hljs-attr">clickable</span>=<span class="hljs-literal">false</span>ï¼‰
    â†“
æ ¹æ®clickableå±æ€§å†³å®šè¿”å›å€¼ï¼š
    â”œâ”€ <span class="hljs-attr">clickable</span>=<span class="hljs-literal">true</span> â†’ è¿”å›<span class="hljs-literal">true</span>ï¼ˆæ¶ˆè´¹äº‹ä»¶ï¼‰âœ…
    â”‚   â””â”€ äº‹ä»¶è¢«ViewGroup Aæ¶ˆè´¹ï¼Œåç»­MOVEã€UPä¼šç»§ç»­ä¼ é€’
    â”‚   â””â”€ å¯ä»¥è§¦å‘ç‚¹å‡»äº‹ä»¶ï¼ˆå¦‚æœè®¾ç½®äº†OnClickListenerï¼‰
    â””â”€ <span class="hljs-attr">clickable</span>=<span class="hljs-literal">false</span> â†’ è¿”å›<span class="hljs-literal">false</span>ï¼ˆä¸æ¶ˆè´¹äº‹ä»¶ï¼‰âŒ
        â””â”€ äº‹ä»¶å‘ä¸Šä¼ é€’ï¼Œåç»­MOVEã€UPä¸ä¼šä¼ é€’
        â””â”€ ä¸ä¼šè§¦å‘ç‚¹å‡»äº‹ä»¶
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> ğŸ”„ <strong>æ ¹æ®clickableå±æ€§å†³å®šï¼ˆViewGroupé»˜è®¤è¿”å›falseï¼‰</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ViewGroupçš„clickableé»˜è®¤å€¼ï¼š</strong></p>
<ul>
<li>ViewGroupé»˜è®¤clickable=false</li>
<li>æ‰€ä»¥super.onTouchEvent()é€šå¸¸è¿”å›false</li>
<li>è¿™ä¸Viewä¸åŒï¼ˆViewçš„Buttonç­‰é»˜è®¤clickable=trueï¼‰</li>
</ul>
</li>
<li>
<p><strong>å¦‚ä½•è®©ViewGroupå¯ç‚¹å‡»ï¼Ÿ</strong></p>
<pre><code class="hljs language-java" lang="java">viewGroup.setClickable(<span class="hljs-literal">true</span>);
<span class="hljs-comment">// æˆ–è€…</span>
viewGroup.setOnClickListener(listener);  <span class="hljs-comment">// ä¼šè‡ªåŠ¨è®¾ç½®clickable=true</span>
</code></pre>
</li>
<li>
<p><strong>clickable=trueæ—¶çš„è¡Œä¸ºï¼š</strong></p>
<ul>
<li>onTouchEvent()è¿”å›true</li>
<li>äº‹ä»¶è¢«æ¶ˆè´¹</li>
<li>å¯ä»¥è§¦å‘ç‚¹å‡»äº‹ä»¶</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomViewGroup</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ViewGroup</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">CustomViewGroup</span><span class="hljs-params">(Context context)</span> {
        <span class="hljs-built_in">super</span>(context);
        <span class="hljs-comment">// é»˜è®¤clickable=false</span>
        <span class="hljs-comment">// super.onTouchEvent()ä¼šè¿”å›false</span>
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// ä½¿ç”¨ç³»ç»Ÿé»˜è®¤å®ç°</span>
        <span class="hljs-comment">// ViewGroupé»˜è®¤è¿”å›false</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.onTouchEvent(event);
    }
    
    <span class="hljs-comment">// å¦‚æœéœ€è¦å¤„ç†ç‚¹å‡»ï¼Œå¯ä»¥ï¼š</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">enableClick</span><span class="hljs-params">()</span> {
        setClickable(<span class="hljs-literal">true</span>);  <span class="hljs-comment">// è®¾ç½®ä¸ºå¯ç‚¹å‡»</span>
        setOnClickListener(v -&gt; {
            <span class="hljs-comment">// å¤„ç†ç‚¹å‡»</span>
        });
    }
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨</li>
<li>ä¸éœ€è¦è‡ªå®šä¹‰è§¦æ‘¸å¤„ç†</li>
<li>æ™®é€šçš„å¸ƒå±€å®¹å™¨</li>
</ul>
<hr/>
<h3 data-id="heading-17">Viewäº‹ä»¶æµå‘è¯¦è§£</h3>
<h4 data-id="heading-18">Viewçš„ä¸¤ä¸ªæ–¹æ³•</h4>




















<table><thead><tr><th>æ–¹æ³•</th><th>ä½œç”¨</th><th>è¿”å›å€¼</th></tr></thead><tbody><tr><td><code>dispatchTouchEvent()</code></td><td>åˆ†å‘äº‹ä»¶</td><td>boolean</td></tr><tr><td><code>onTouchEvent()</code></td><td>å¤„ç†äº‹ä»¶</td><td>boolean</td></tr></tbody></table>
<blockquote>
<p>âš ï¸ <strong>æ³¨æ„</strong>ï¼šViewæ²¡æœ‰onInterceptTouchEvent()æ–¹æ³•</p>
</blockquote>
<hr/>
<h4 data-id="heading-19">dispatchTouchEvent()è¿”å›å€¼è¯¦è§£</h4>
<h5 data-id="heading-20">è¿”å› true</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">Activity â†’ Window â†’ DecorView â†’ ViewGroup <span class="hljs-selector-tag">A</span>
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>() â†’ falseï¼ˆä¸æ‹¦æˆªï¼‰
    â†“
ViewGroup <span class="hljs-selector-tag">A</span>éå†å­Viewï¼Œæ‰¾åˆ°View <span class="hljs-selector-tag">B</span>
    â†“
è°ƒç”¨View <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()
    â†“
View <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()è¿”å›true âœ…
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›trueè¡¨ç¤ºäº‹ä»¶è¢«æ¶ˆè´¹ï¼Œæ–¹æ³•ç«‹å³è¿”å›
    â†“
ä¸ä¼šè°ƒç”¨onTouchEvent()ï¼ˆåç»­é€»è¾‘ä¸æ‰§è¡Œï¼‰
    â†“
ViewGroup <span class="hljs-selector-tag">A</span>è®°å½•View <span class="hljs-selector-tag">B</span>ä¸ºç›®æ ‡Viewï¼ˆmFirstTouchTarget = View <span class="hljs-selector-tag">B</span>ï¼‰
    â†“
åç»­ACTION_MOVEã€ACTION_UPä¼šç»§ç»­ä¼ é€’ç»™View <span class="hljs-selector-tag">B</span>
    ã€è¯´æ˜ã€‘åç»­äº‹ä»¶ä¼šç›´æ¥è°ƒç”¨View <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> âœ… <strong>äº‹ä»¶è¢«View Bæ¶ˆè´¹ï¼Œä¸å†ä¼ é€’</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸ºä»€ä¹ˆä¸ä¼šè°ƒç”¨onTouchEvent()ï¼Ÿ</strong></p>
<ul>
<li>dispatchTouchEvent()è¿”å›trueåï¼Œæ–¹æ³•ç«‹å³è¿”å›</li>
<li>ä¸ä¼šæ‰§è¡Œåç»­çš„onTouchEvent()è°ƒç”¨</li>
<li>è¿™æ˜¯æ€§èƒ½ä¼˜åŒ–ï¼Œé¿å…ä¸å¿…è¦çš„æ–¹æ³•è°ƒç”¨</li>
</ul>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆåç»­äº‹ä»¶ä¼šç»§ç»­ä¼ é€’ï¼Ÿ</strong></p>
<ul>
<li>ç³»ç»Ÿä¼šè®°å½•å¤„ç†ACTION_DOWNçš„View</li>
<li>åç»­MOVEã€UPä¼šç›´æ¥ä¼ é€’ç»™è¿™ä¸ªView</li>
<li>ä¸ä¼šå†æ¬¡ç»è¿‡å®Œæ•´çš„åˆ†å‘æµç¨‹</li>
</ul>
</li>
<li>
<p><strong>ViewGroupçš„æ‹¦æˆªå¯¹åç»­äº‹ä»¶çš„å½±å“ï¼š</strong></p>
<ul>
<li>å¦‚æœDOWNæ—¶æ²¡æ‹¦æˆªï¼Œåç»­MOVEã€UPä¹Ÿä¸ä¼šæ‹¦æˆªï¼ˆé™¤éåŠ¨æ€æ‹¦æˆªï¼‰</li>
<li>å¦‚æœDOWNæ—¶æ‹¦æˆªäº†ï¼Œåç»­MOVEã€UPä¼šç»§ç»­æ‹¦æˆª</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">View</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">dispatchTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// å®Œå…¨æ§åˆ¶äº‹ä»¶å¤„ç†</span>
        <span class="hljs-keyword">switch</span> (event.getAction()) {
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_DOWN:
                handleDown(event);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… è¿”å›trueï¼Œäº‹ä»¶åœ¨æ­¤åœæ­¢</span>
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_MOVE:
                handleMove(event);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_UP:
                handleUp(event);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// æ‰€æœ‰äº‹ä»¶éƒ½æ¶ˆè´¹</span>
    }
    
    <span class="hljs-comment">// æ³¨æ„ï¼šonTouchEvent()ä¸ä¼šè¢«è°ƒç”¨</span>
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>è‡ªå®šä¹‰Viewéœ€è¦å®Œå…¨æ§åˆ¶æ‰€æœ‰è§¦æ‘¸äº‹ä»¶</li>
<li>éœ€è¦å®ç°ç‰¹æ®Šçš„è§¦æ‘¸äº¤äº’é€»è¾‘</li>
<li>éœ€è¦é˜»æ­¢ç³»ç»Ÿé»˜è®¤çš„ç‚¹å‡»å¤„ç†</li>
</ul>
<hr/>
<h5 data-id="heading-21">è¿”å› false</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">Activity â†’ Window â†’ DecorView â†’ ViewGroup <span class="hljs-selector-tag">A</span>
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>() â†’ falseï¼ˆä¸æ‹¦æˆªï¼‰
    â†“
ViewGroup <span class="hljs-selector-tag">A</span>éå†å­Viewï¼Œæ‰¾åˆ°View <span class="hljs-selector-tag">B</span>
    â†“
è°ƒç”¨View <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()
    â†“
View <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()è¿”å›false âŒ
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›falseè¡¨ç¤ºä¸å¤„ç†äº‹ä»¶ï¼Œæ–¹æ³•ç«‹å³è¿”å›
    â†“
ä¸ä¼šè°ƒç”¨onTouchEvent()ï¼ˆåç»­é€»è¾‘ä¸æ‰§è¡Œï¼‰
    â†“
äº‹ä»¶è¿”å›åˆ°ViewGroup <span class="hljs-selector-tag">A</span>
    â†“
ViewGroup <span class="hljs-selector-tag">A</span>ç»§ç»­éå†å…¶ä»–å­Viewï¼Œæˆ–è°ƒç”¨è‡ªå·±çš„onTouchEvent()
    â†“
ç³»ç»Ÿä¸ä¼šè®°å½•View <span class="hljs-selector-tag">B</span>ä¸ºç›®æ ‡View
    â†“
åç»­ACTION_MOVEã€ACTION_UPä¸ä¼šä¼ é€’ç»™View <span class="hljs-selector-tag">B</span>
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> â¬†ï¸ <strong>äº‹ä»¶å‘ä¸Šä¼ é€’ç»™çˆ¶ViewGroup</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸ºä»€ä¹ˆä¸ä¼šè°ƒç”¨onTouchEvent()ï¼Ÿ</strong></p>
<ul>
<li>dispatchTouchEvent()è¿”å›falseåï¼Œæ–¹æ³•ç«‹å³è¿”å›</li>
<li>ä¸ä¼šæ‰§è¡Œåç»­çš„onTouchEvent()è°ƒç”¨</li>
<li>è¡¨ç¤ºViewå®Œå…¨ä¸å‚ä¸äº‹ä»¶å¤„ç†</li>
</ul>
</li>
<li>
<p><strong>ViewGroupä¼šå¦‚ä½•å¤„ç†ï¼Ÿ</strong></p>
<ul>
<li>ViewGroupä¼šç»§ç»­éå†å…¶ä»–å­View</li>
<li>å¦‚æœæ‰€æœ‰å­Viewéƒ½ä¸å¤„ç†ï¼Œè°ƒç”¨ViewGroupè‡ªå·±çš„onTouchEvent()</li>
<li>è¿™æ˜¯ViewGroupçš„é»˜è®¤è¡Œä¸º</li>
</ul>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆåç»­äº‹ä»¶ä¸ä¼šä¼ é€’ï¼Ÿ</strong></p>
<ul>
<li>ç³»ç»Ÿåªè®°å½•å¤„ç†ACTION_DOWNçš„View</li>
<li>å¦‚æœACTION_DOWNä¸è¢«å¤„ç†ï¼Œä¸ä¼šè®°å½•ç›®æ ‡View</li>
<li>åç»­MOVEã€UPä¸ä¼šä¼ é€’ç»™è¯¥View</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DisabledView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">View</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">mEnabled</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">dispatchTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-keyword">if</span> (!mEnabled) {
            <span class="hljs-comment">// Viewè¢«ç¦ç”¨ï¼Œä¸å¤„ç†äº‹ä»¶</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// âŒ è¿”å›falseï¼Œäº‹ä»¶å‘ä¸Šä¼ é€’</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.dispatchTouchEvent(event);
    }
    
    <span class="hljs-comment">// æ³¨æ„ï¼šonTouchEvent()ä¸ä¼šè¢«è°ƒç”¨</span>
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>Viewè¢«ç¦ç”¨æ—¶ï¼ˆenabled=falseï¼‰</li>
<li>Viewä¸å¯è§æ—¶ï¼ˆvisibility=GONEï¼‰</li>
<li>Viewéœ€è¦å°†äº‹ä»¶å®Œå…¨äº¤ç»™çˆ¶Viewå¤„ç†æ—¶</li>
</ul>
<hr/>
<h5 data-id="heading-22">è¿”å› super</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">Activity â†’ Window â†’ DecorView â†’ ViewGroup <span class="hljs-selector-tag">A</span>
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>() â†’ falseï¼ˆä¸æ‹¦æˆªï¼‰
    â†“
ViewGroup <span class="hljs-selector-tag">A</span>éå†å­Viewï¼Œæ‰¾åˆ°View <span class="hljs-selector-tag">B</span>
    â†“
è°ƒç”¨View <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()
    â†“
View <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()è¿”å›super
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›superè¡¨ç¤ºä½¿ç”¨ç³»ç»Ÿé»˜è®¤å¤„ç†é€»è¾‘
    â†“
è¿›å…¥View<span class="hljs-selector-class">.dispatchTouchEvent</span>()çš„é»˜è®¤å®ç°
    â†“
æ£€æŸ¥å®‰å…¨æ€§å’ŒViewæ˜¯å¦å¯ç”¨
    â†“
å¦‚æœæœ‰OnTouchListenerï¼Œå…ˆè°ƒç”¨OnTouchListener
    ã€è¯´æ˜ã€‘OnTouchListenerçš„ä¼˜å…ˆçº§é«˜äº<span class="hljs-built_in">onTouchEvent</span>()
    â†“
æ ¹æ®OnTouchListenerçš„è¿”å›å€¼å†³å®šï¼š
    â”œâ”€ è¿”å›true â†’ ä¸è°ƒç”¨<span class="hljs-built_in">onTouchEvent</span>()ï¼Œäº‹ä»¶è¢«OnTouchListeneræ¶ˆè´¹ âœ…
    â””â”€ è¿”å›falseæˆ–null â†’ è°ƒç”¨<span class="hljs-built_in">onTouchEvent</span>()
        â””â”€ æ ¹æ®<span class="hljs-built_in">onTouchEvent</span>()çš„è¿”å›å€¼å†³å®šï¼š
            â”œâ”€ è¿”å›true â†’ Viewæ¶ˆè´¹ âœ…
            â””â”€ è¿”å›false â†’ å‘ä¸Šä¼ é€’ â¬†ï¸
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> ğŸ”„ <strong>æ ¹æ®OnTouchListenerå’ŒonTouchEvent()çš„è¿”å›å€¼å†³å®š</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>OnTouchListenerçš„ä¼˜å…ˆçº§ï¼š</strong></p>
<ul>
<li>OnTouchListeneråœ¨onTouchEvent()ä¹‹å‰è°ƒç”¨</li>
<li>å¦‚æœOnTouchListenerè¿”å›trueï¼ŒonTouchEvent()ä¸ä¼šè¢«è°ƒç”¨</li>
<li>è¿™æ˜¯ä¸ºäº†ç»™å¤–éƒ¨ç›‘å¬å™¨æ›´é«˜çš„ä¼˜å…ˆçº§</li>
</ul>
</li>
<li>
<p><strong>å®‰å…¨æ£€æŸ¥ï¼š</strong></p>
<ul>
<li>onFilterTouchEventForSecurity()ï¼šæ£€æŸ¥äº‹ä»¶æ˜¯å¦å®‰å…¨</li>
<li>é˜²æ­¢æŸäº›å®‰å…¨æ¼æ´</li>
</ul>
</li>
<li>
<p><strong>Viewçš„å¯ç”¨æ€§æ£€æŸ¥ï¼š</strong></p>
<ul>
<li>å¦‚æœViewä¸å¯ç”¨ï¼ˆenabled=falseï¼‰ï¼ŒæŸäº›é€»è¾‘ä¸ä¼šæ‰§è¡Œ</li>
<li>ä½†äº‹ä»¶ä»ç„¶ä¼šä¼ é€’</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">View</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">dispatchTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// ä½¿ç”¨ç³»ç»Ÿé»˜è®¤å¤„ç†é€»è¾‘</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.dispatchTouchEvent(event);
    }
    
    <span class="hljs-comment">// ç³»ç»Ÿä¼šï¼š</span>
    <span class="hljs-comment">// 1. æ£€æŸ¥å®‰å…¨æ€§</span>
    <span class="hljs-comment">// 2. è°ƒç”¨OnTouchListenerï¼ˆå¦‚æœæœ‰ï¼‰</span>
    <span class="hljs-comment">// 3. è°ƒç”¨onTouchEvent()ï¼ˆå¦‚æœOnTouchListenerä¸å¤„ç†ï¼‰</span>
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨</li>
<li>éœ€è¦ç³»ç»Ÿé»˜è®¤çš„äº‹ä»¶å¤„ç†é€»è¾‘</li>
<li>ä¸éœ€è¦å®Œå…¨è‡ªå®šä¹‰äº‹ä»¶å¤„ç†</li>
</ul>
<hr/>
<h4 data-id="heading-23">onTouchEvent()è¿”å›å€¼è¯¦è§£</h4>
<h5 data-id="heading-24">è¿”å› true</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">View <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.onTouchEvent</span>()è¢«è°ƒç”¨
    ã€è°ƒç”¨æ—¶æœºã€‘<span class="hljs-built_in">dispatchTouchEvent</span>()è¿”å›super ä¸” OnTouchListenerä¸å¤„ç†
    â†“
View <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.onTouchEvent</span>()è¿”å›true âœ…
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›trueè¡¨ç¤ºæ¶ˆè´¹äº‹ä»¶ï¼Œä¸å†å‘ä¸Šä¼ é€’
    â†“
äº‹ä»¶åˆ†å‘ç»“æŸï¼Œç³»ç»Ÿè®°å½•View <span class="hljs-selector-tag">B</span>ä¸ºç›®æ ‡Viewï¼ˆmFirstTouchTarget = View <span class="hljs-selector-tag">B</span>ï¼‰
    â†“
çˆ¶ViewGroup<span class="hljs-selector-class">.onTouchEvent</span>()ä¸ä¼šè¢«è°ƒç”¨
    â†“
åç»­ACTION_MOVEã€ACTION_UPä¼šç»§ç»­ä¼ é€’ç»™View <span class="hljs-selector-tag">B</span>
    â†“
å¦‚æœè®¾ç½®äº†OnClickListenerï¼Œåœ¨ACTION_UPæ—¶ä¼šè§¦å‘ç‚¹å‡»äº‹ä»¶ï¼ˆ<span class="hljs-built_in">performClick</span>()ï¼‰
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> âœ… <strong>äº‹ä»¶è¢«View Bæ¶ˆè´¹ï¼Œä¸å†å‘ä¸Šä¼ é€’</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä»€ä¹ˆæ—¶å€™ä¼šè°ƒç”¨onTouchEvent()ï¼Ÿ</strong></p>
<ul>
<li>dispatchTouchEvent()è¿”å›super</li>
<li>OnTouchListenerè¿”å›falseæˆ–null</li>
<li>æˆ–è€…OnTouchListenerä¸å­˜åœ¨</li>
</ul>
</li>
<li>
<p><strong>ç‚¹å‡»äº‹ä»¶çš„è§¦å‘ï¼š</strong></p>
<ul>
<li>åœ¨ACTION_UPæ—¶ï¼Œå¦‚æœViewå¯ç‚¹å‡»ï¼ˆclickable=trueï¼‰</li>
<li>ç³»ç»Ÿä¼šè°ƒç”¨performClick()</li>
<li>performClick()ä¼šè§¦å‘OnClickListener</li>
</ul>
</li>
<li>
<p><strong>åç»­äº‹ä»¶çš„ä¼ é€’ï¼š</strong></p>
<ul>
<li>åç»­MOVEã€UPä¼šç›´æ¥ä¼ é€’ç»™View B</li>
<li>ä¸ä¼šå†æ¬¡ç»è¿‡å®Œæ•´çš„åˆ†å‘æµç¨‹</li>
<li>ä½†ä»ç„¶ä¼šè°ƒç”¨dispatchTouchEvent()å’ŒonTouchEvent()</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomButton</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">View</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">CustomButton</span><span class="hljs-params">(Context context)</span> {
        <span class="hljs-built_in">super</span>(context);
        setClickable(<span class="hljs-literal">true</span>);  <span class="hljs-comment">// è®¾ç½®ä¸ºå¯ç‚¹å‡»</span>
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-keyword">switch</span> (event.getAction()) {
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_DOWN:
                <span class="hljs-comment">// æŒ‰ä¸‹åé¦ˆ</span>
                setBackgroundColor(Color.RED);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… æ¶ˆè´¹äº‹ä»¶</span>
                
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_MOVE:
                <span class="hljs-comment">// ç§»åŠ¨å¤„ç†</span>
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… æ¶ˆè´¹äº‹ä»¶</span>
                
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_UP:
                <span class="hljs-comment">// æŠ¬èµ·åé¦ˆ</span>
                setBackgroundColor(Color.BLUE);
                <span class="hljs-comment">// è§¦å‘ç‚¹å‡»äº‹ä»¶ï¼ˆå¦‚æœè®¾ç½®äº†OnClickListenerï¼‰</span>
                performClick();
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… æ¶ˆè´¹äº‹ä»¶</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>è‡ªå®šä¹‰Viewéœ€è¦å¤„ç†è§¦æ‘¸äº‹ä»¶</li>
<li>éœ€è¦å®ç°è‡ªå®šä¹‰çš„è§¦æ‘¸åé¦ˆ</li>
<li>éœ€è¦è§¦å‘ç‚¹å‡»äº‹ä»¶</li>
<li>Buttonã€ImageViewç­‰å¯ç‚¹å‡»çš„View</li>
</ul>
<hr/>
<h5 data-id="heading-25">è¿”å› false</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">View <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.onTouchEvent</span>()è¢«è°ƒç”¨
    ã€è°ƒç”¨æ—¶æœºã€‘<span class="hljs-built_in">dispatchTouchEvent</span>()è¿”å›super ä¸” OnTouchListenerä¸å¤„ç†
    â†“
View <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.onTouchEvent</span>()è¿”å›false âŒ
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›falseè¡¨ç¤ºä¸æ¶ˆè´¹äº‹ä»¶ï¼Œå‘ä¸Šä¼ é€’
    â†“
äº‹ä»¶è¿”å›åˆ°ViewGroup <span class="hljs-selector-tag">A</span>
    â†“
ViewGroup <span class="hljs-selector-tag">A</span>ä¼šå°è¯•å…¶ä»–å­Viewï¼Œæˆ–è°ƒç”¨è‡ªå·±çš„<span class="hljs-built_in">onTouchEvent</span>()
    â†“
ç³»ç»Ÿä¸ä¼šè®°å½•View <span class="hljs-selector-tag">B</span>ä¸ºç›®æ ‡View
    â†“
åç»­ACTION_MOVEã€ACTION_UPä¸ä¼šä¼ é€’ç»™View <span class="hljs-selector-tag">B</span>
    â†“
ä¸ä¼šè§¦å‘ç‚¹å‡»äº‹ä»¶ï¼ˆä¸ä¼šè°ƒç”¨<span class="hljs-built_in">performClick</span>()ï¼‰
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> â¬†ï¸ <strong>äº‹ä»¶å‘ä¸Šä¼ é€’ç»™çˆ¶ViewGroup</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸ºä»€ä¹ˆä¸ä¼šè§¦å‘ç‚¹å‡»äº‹ä»¶ï¼Ÿ</strong></p>
<ul>
<li>performClick()æ˜¯åœ¨onTouchEvent()ä¸­è°ƒç”¨çš„</li>
<li>å¦‚æœonTouchEvent()è¿”å›falseï¼Œè¡¨ç¤ºä¸å¤„ç†äº‹ä»¶</li>
<li>ä¸å¤„ç†äº‹ä»¶å°±ä¸ä¼šè§¦å‘ç‚¹å‡»</li>
</ul>
</li>
<li>
<p><strong>ViewGroupä¼šå¦‚ä½•å¤„ç†ï¼Ÿ</strong></p>
<ul>
<li>ViewGroupä¼šç»§ç»­å°è¯•å…¶ä»–å­View</li>
<li>å¦‚æœæ‰€æœ‰å­Viewéƒ½ä¸å¤„ç†ï¼Œè°ƒç”¨ViewGroupè‡ªå·±çš„onTouchEvent()</li>
<li>è¿™æ˜¯ViewGroupçš„é»˜è®¤è¡Œä¸º</li>
</ul>
</li>
<li>
<p><strong>ä»€ä¹ˆæ—¶å€™è¿”å›falseï¼Ÿ</strong></p>
<ul>
<li>Viewä¸éœ€è¦å¤„ç†äº‹ä»¶æ—¶</li>
<li>Viewè¢«ç¦ç”¨æ—¶</li>
<li>Viewéœ€è¦å°†äº‹ä»¶äº¤ç»™çˆ¶Viewå¤„ç†æ—¶</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DisabledView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">View</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">mEnabled</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-keyword">if</span> (!mEnabled) {
            <span class="hljs-comment">// Viewè¢«ç¦ç”¨ï¼Œä¸å¤„ç†äº‹ä»¶</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// âŒ ä¸æ¶ˆè´¹ï¼Œå‘ä¸Šä¼ é€’</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.onTouchEvent(event);
    }
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>Viewè¢«ç¦ç”¨æ—¶ï¼ˆenabled=falseï¼‰</li>
<li>Viewä¸éœ€è¦å¤„ç†äº‹ä»¶æ—¶</li>
<li>Viewéœ€è¦å°†äº‹ä»¶äº¤ç»™çˆ¶Viewå¤„ç†æ—¶</li>
</ul>
<hr/>
<h5 data-id="heading-26">è¿”å› super</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">View</span> B.onTouchEvent()è¢«è°ƒç”¨
    â†“
<span class="hljs-keyword">View</span> B.onTouchEvent()è¿”å›super
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›superè¡¨ç¤ºä½¿ç”¨ç³»ç»Ÿé»˜è®¤å®ç°
    â†“
ç³»ç»Ÿæ£€æŸ¥<span class="hljs-keyword">View</span>çš„clickableå±æ€§ï¼ˆä¸åŒ<span class="hljs-keyword">View</span>çš„é»˜è®¤å€¼ä¸åŒï¼‰
    â†“
æ ¹æ®clickableå±æ€§å†³å®šè¿”å›å€¼ï¼š
    â”œâ”€ clickable<span class="hljs-operator">=</span><span class="hljs-literal">true</span> â†’ è¿”å›<span class="hljs-literal">true</span>ï¼ˆæ¶ˆè´¹äº‹ä»¶ï¼‰âœ…
    â”‚   â””â”€ äº‹ä»¶è¢«<span class="hljs-keyword">View</span> Bæ¶ˆè´¹ï¼Œåç»­MOVEã€UPä¼šç»§ç»­ä¼ é€’
    â”‚   â””â”€ åœ¨ACTION_UPæ—¶è°ƒç”¨performClick()ï¼Œè§¦å‘OnClickListener
    â””â”€ clickable<span class="hljs-operator">=</span><span class="hljs-literal">false</span> â†’ è¿”å›<span class="hljs-literal">false</span>ï¼ˆä¸æ¶ˆè´¹äº‹ä»¶ï¼‰âŒ
        â””â”€ äº‹ä»¶å‘ä¸Šä¼ é€’ï¼Œåç»­MOVEã€UPä¸ä¼šä¼ é€’
        â””â”€ ä¸ä¼šè§¦å‘ç‚¹å‡»äº‹ä»¶
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> ğŸ”„ <strong>æ ¹æ®clickableå±æ€§å†³å®š</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸åŒViewçš„clickableé»˜è®¤å€¼ï¼š</strong></p>
<ul>
<li><strong>Button</strong>ï¼šclickable=trueï¼ˆé»˜è®¤å¯ç‚¹å‡»ï¼‰</li>
<li><strong>TextView</strong>ï¼šclickable=falseï¼ˆé»˜è®¤ä¸å¯ç‚¹å‡»ï¼‰</li>
<li><strong>ImageView</strong>ï¼šclickable=falseï¼ˆé»˜è®¤ä¸å¯ç‚¹å‡»ï¼‰</li>
<li><strong>è‡ªå®šä¹‰View</strong>ï¼šclickable=falseï¼ˆé»˜è®¤ä¸å¯ç‚¹å‡»ï¼‰</li>
</ul>
</li>
<li>
<p><strong>å¦‚ä½•è®©Viewå¯ç‚¹å‡»ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ–¹æ³•1ï¼šç›´æ¥è®¾ç½®</span>
view.setClickable(<span class="hljs-literal">true</span>);

<span class="hljs-comment">// æ–¹æ³•2ï¼šè®¾ç½®ç›‘å¬å™¨ï¼ˆä¼šè‡ªåŠ¨è®¾ç½®clickable=trueï¼‰</span>
view.setOnClickListener(listener);
</code></pre>
</li>
<li>
<p><strong>clickable=trueæ—¶çš„å®Œæ•´æµç¨‹ï¼š</strong></p>
<ul>
<li>ACTION_DOWNï¼šè¿”å›trueï¼Œæ¶ˆè´¹äº‹ä»¶</li>
<li>ACTION_MOVEï¼šè¿”å›trueï¼Œæ¶ˆè´¹äº‹ä»¶</li>
<li>ACTION_UPï¼šè¿”å›trueï¼Œæ¶ˆè´¹äº‹ä»¶ï¼Œè°ƒç”¨performClick()</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Buttonï¼ˆé»˜è®¤clickable=trueï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Button</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">TextView</span> {
    <span class="hljs-comment">// Buttonçš„é»˜è®¤å®ç°</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// ç³»ç»Ÿé»˜è®¤å®ç°</span>
        <span class="hljs-comment">// clickable=trueï¼Œæ‰€ä»¥è¿”å›true</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.onTouchEvent(event);
    }
}

<span class="hljs-comment">// TextViewï¼ˆé»˜è®¤clickable=falseï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TextView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">View</span> {
    <span class="hljs-comment">// TextViewçš„é»˜è®¤å®ç°</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// ç³»ç»Ÿé»˜è®¤å®ç°</span>
        <span class="hljs-comment">// clickable=falseï¼Œæ‰€ä»¥è¿”å›false</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.onTouchEvent(event);
    }
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨</li>
<li>éœ€è¦ç³»ç»Ÿé»˜è®¤çš„ç‚¹å‡»å¤„ç†</li>
<li>Buttonã€ImageViewç­‰ç³»ç»Ÿæ§ä»¶</li>
</ul>
<hr/>
<h3 data-id="heading-27">å®Œæ•´åœºæ™¯ç¤ºä¾‹</h3>
<h4 data-id="heading-28">åœºæ™¯ï¼šActivity â†’ ViewGroup A â†’ ViewGroup B â†’ View C</h4>
<p><strong>è§†å›¾å±‚æ¬¡ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">Activity
  â””â”€ ViewGroup <span class="hljs-selector-tag">A</span> (LinearLayout)
      â””â”€ ViewGroup <span class="hljs-selector-tag">B</span> (RelativeLayout)
          â””â”€ View C (<span class="hljs-selector-tag">Button</span>)
</code></pre>
<hr/>
<h4 data-id="heading-29">åœºæ™¯1ï¼šViewGroup A.dispatchTouchEvent() = true</h4>
<p><strong>è¿”å›å€¼è®¾ç½®ï¼š</strong></p>
<ul>
<li>ViewGroup A.dispatchTouchEvent() = <strong>true</strong> âœ…</li>
</ul>
<p><strong>äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·è§¦æ‘¸
    â†“
Activity<span class="hljs-selector-class">.dispatchTouchEvent</span>()
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ true âœ…
    â†“
ã€äº‹ä»¶åœ¨ViewGroup <span class="hljs-selector-tag">A</span>åœæ­¢ã€‘
    â†“
ä¸ä¼šè°ƒç”¨<span class="hljs-built_in">onInterceptTouchEvent</span>()
    â†“
ä¸ä¼šä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">B</span>
    â†“
ä¸ä¼šè°ƒç”¨<span class="hljs-built_in">onTouchEvent</span>()
    â†“
åç»­MOVEã€UPç»§ç»­ä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">A</span>
</code></pre>
<p><strong>äº‹ä»¶æœ€ç»ˆåˆ°å“ªé‡Œï¼š</strong> âœ… <strong>ViewGroup Aæ¶ˆè´¹ï¼ŒViewGroup Bå’ŒView Cä¸ä¼šæ”¶åˆ°äº‹ä»¶</strong></p>
<hr/>
<h4 data-id="heading-30">åœºæ™¯2ï¼šViewGroup A.dispatchTouchEvent() = false</h4>
<p><strong>è¿”å›å€¼è®¾ç½®ï¼š</strong></p>
<ul>
<li>ViewGroup A.dispatchTouchEvent() = <strong>false</strong> âŒ</li>
</ul>
<p><strong>äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·è§¦æ‘¸
    â†“
Activity<span class="hljs-selector-class">.dispatchTouchEvent</span>()
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ false âŒ
    â†“
ã€äº‹ä»¶å‘ä¸Šä¼ é€’ç»™Activityã€‘
    â†“
ä¸ä¼šè°ƒç”¨<span class="hljs-built_in">onInterceptTouchEvent</span>()
    â†“
ä¸ä¼šä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">B</span>
    â†“
ä¸ä¼šè°ƒç”¨<span class="hljs-built_in">onTouchEvent</span>()
    â†“
åç»­MOVEã€UPä¸ä¼šä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">A</span>
    â†“
Activity<span class="hljs-selector-class">.onTouchEvent</span>()ä¼šè¢«è°ƒç”¨
</code></pre>
<p><strong>äº‹ä»¶æœ€ç»ˆåˆ°å“ªé‡Œï¼š</strong> â¬†ï¸ <strong>Activityå¤„ç†ï¼ŒViewGroup Aã€Bã€Céƒ½ä¸ä¼šæ”¶åˆ°äº‹ä»¶</strong></p>
<hr/>
<h4 data-id="heading-31">åœºæ™¯3ï¼šViewGroup Aæ‹¦æˆªå¹¶å¤„ç†</h4>
<p><strong>è¿”å›å€¼è®¾ç½®ï¼š</strong></p>
<ul>
<li>ViewGroup A.dispatchTouchEvent() = <strong>super</strong></li>
<li>ViewGroup A.onInterceptTouchEvent() = <strong>true</strong> âœ…</li>
<li>ViewGroup A.onTouchEvent() = <strong>true</strong> âœ…</li>
</ul>
<p><strong>äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">ç”¨æˆ·è§¦æ‘¸
    â†“
Activity<span class="hljs-selector-class">.dispatchTouchEvent</span>()
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>() â†’ true âœ… ã€æ‹¦æˆªã€‘
    â†“
ã€äº‹ä»¶è¢«æ‹¦æˆªï¼Œä¸ä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">B</span>ã€‘
    â†“
ViewGroup <span class="hljs-selector-tag">B</span>ä¸ä¼šæ”¶åˆ°ä»»ä½•äº‹ä»¶
    â†“
View Cä¸ä¼šæ”¶åˆ°ä»»ä½•äº‹ä»¶
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onTouchEvent</span>() â†’ true âœ… ã€å¤„ç†ã€‘
    â†“
ã€äº‹ä»¶è¢«ViewGroup <span class="hljs-selector-tag">A</span>æ¶ˆè´¹ã€‘
    â†“
åç»­MOVEã€UPç»§ç»­ä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">A</span>
</code></pre>
<p><strong>äº‹ä»¶æœ€ç»ˆåˆ°å“ªé‡Œï¼š</strong> âœ… <strong>ViewGroup Aæ¶ˆè´¹ï¼ŒViewGroup Bå’ŒView Cä¸ä¼šæ”¶åˆ°äº‹ä»¶</strong></p>
<hr/>
<h4 data-id="heading-32">åœºæ™¯4ï¼šViewGroup Aæ‹¦æˆªä½†ä¸å¤„ç†</h4>
<p><strong>è¿”å›å€¼è®¾ç½®ï¼š</strong></p>
<ul>
<li>ViewGroup A.dispatchTouchEvent() = <strong>super</strong></li>
<li>ViewGroup A.onInterceptTouchEvent() = <strong>true</strong> âœ…</li>
<li>ViewGroup A.onTouchEvent() = <strong>false</strong> âŒ</li>
</ul>
<p><strong>äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·è§¦æ‘¸
    â†“
Activity<span class="hljs-selector-class">.dispatchTouchEvent</span>()
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>() â†’ true âœ… ã€æ‹¦æˆªã€‘
    â†“
ã€äº‹ä»¶è¢«æ‹¦æˆªï¼Œä¸ä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">B</span>ã€‘
    â†“
ViewGroup <span class="hljs-selector-tag">B</span>ä¸ä¼šæ”¶åˆ°ä»»ä½•äº‹ä»¶
    â†“
View Cä¸ä¼šæ”¶åˆ°ä»»ä½•äº‹ä»¶
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onTouchEvent</span>() â†’ false âŒ ã€ä¸å¤„ç†ã€‘
    â†“
ã€äº‹ä»¶å‘ä¸Šä¼ é€’ç»™Activityã€‘
    â†“
åç»­MOVEã€UPä¸ä¼šä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">A</span>
    â†“
Activity<span class="hljs-selector-class">.onTouchEvent</span>()ä¼šè¢«è°ƒç”¨
</code></pre>
<p><strong>äº‹ä»¶æœ€ç»ˆåˆ°å“ªé‡Œï¼š</strong> â¬†ï¸ <strong>Activityå¤„ç†ï¼ŒViewGroup Aã€Bã€Céƒ½ä¸ä¼šæ”¶åˆ°åç»­äº‹ä»¶</strong></p>
<hr/>
<h4 data-id="heading-33">åœºæ™¯5ï¼šViewGroup Aä¸æ‹¦æˆªï¼ŒViewGroup Bä¸æ‹¦æˆªï¼ŒView Cå¤„ç†</h4>
<p><strong>è¿”å›å€¼è®¾ç½®ï¼š</strong></p>
<ul>
<li>ViewGroup A.dispatchTouchEvent() = <strong>super</strong></li>
<li>ViewGroup A.onInterceptTouchEvent() = <strong>false</strong> âŒ</li>
<li>ViewGroup B.dispatchTouchEvent() = <strong>super</strong></li>
<li>ViewGroup B.onInterceptTouchEvent() = <strong>false</strong> âŒ</li>
<li>View C.dispatchTouchEvent() = <strong>super</strong></li>
<li>View C.onTouchEvent() = <strong>true</strong> âœ…</li>
</ul>
<p><strong>äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·è§¦æ‘¸
    â†“
Activity<span class="hljs-selector-class">.dispatchTouchEvent</span>()
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>() â†’ false âŒ ã€ä¸æ‹¦æˆªã€‘
    â†“
ã€äº‹ä»¶ä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">B</span>ã€‘
    â†“
ViewGroup <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
ViewGroup <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>() â†’ false âŒ ã€ä¸æ‹¦æˆªã€‘
    â†“
ã€äº‹ä»¶ä¼ é€’ç»™View Cã€‘
    â†“
View C<span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
View C<span class="hljs-selector-class">.onTouchEvent</span>() â†’ true âœ… ã€å¤„ç†ã€‘
    â†“
ã€äº‹ä»¶è¢«View Cæ¶ˆè´¹ã€‘
    â†“
åç»­MOVEã€UPç»§ç»­ä¼ é€’ç»™View C
</code></pre>
<p><strong>äº‹ä»¶æœ€ç»ˆåˆ°å“ªé‡Œï¼š</strong> âœ… <strong>View Cæ¶ˆè´¹ï¼ŒViewGroup Aå’ŒBä¸ä¼šè°ƒç”¨onTouchEvent()</strong></p>
<hr/>
<h4 data-id="heading-34">åœºæ™¯6ï¼šViewGroup Aä¸æ‹¦æˆªï¼ŒViewGroup Bä¸æ‹¦æˆªï¼ŒView Cä¸å¤„ç†ï¼ŒViewGroup Bå¤„ç†</h4>
<p><strong>è¿”å›å€¼è®¾ç½®ï¼š</strong></p>
<ul>
<li>ViewGroup A.dispatchTouchEvent() = <strong>super</strong></li>
<li>ViewGroup A.onInterceptTouchEvent() = <strong>false</strong> âŒ</li>
<li>ViewGroup B.dispatchTouchEvent() = <strong>super</strong></li>
<li>ViewGroup B.onInterceptTouchEvent() = <strong>false</strong> âŒ</li>
<li>View C.dispatchTouchEvent() = <strong>super</strong></li>
<li>View C.onTouchEvent() = <strong>false</strong> âŒ</li>
<li>ViewGroup B.onTouchEvent() = <strong>true</strong> âœ…</li>
</ul>
<p><strong>äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·è§¦æ‘¸
    â†“
Activity<span class="hljs-selector-class">.dispatchTouchEvent</span>()
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>() â†’ false âŒ ã€ä¸æ‹¦æˆªã€‘
    â†“
ã€äº‹ä»¶ä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">B</span>ã€‘
    â†“
ViewGroup <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
ViewGroup <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>() â†’ false âŒ ã€ä¸æ‹¦æˆªã€‘
    â†“
ã€äº‹ä»¶ä¼ é€’ç»™View Cã€‘
    â†“
View C<span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
View C<span class="hljs-selector-class">.onTouchEvent</span>() â†’ false âŒ ã€ä¸å¤„ç†ã€‘
    â†“
ã€äº‹ä»¶è¿”å›ViewGroup <span class="hljs-selector-tag">B</span>ã€‘
    â†“
ViewGroup <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.onTouchEvent</span>() â†’ true âœ… ã€å¤„ç†ã€‘
    â†“
ã€äº‹ä»¶è¢«ViewGroup <span class="hljs-selector-tag">B</span>æ¶ˆè´¹ã€‘
    â†“
åç»­MOVEã€UPç»§ç»­ä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">B</span>
</code></pre>
<p><strong>äº‹ä»¶æœ€ç»ˆåˆ°å“ªé‡Œï¼š</strong> âœ… <strong>ViewGroup Bæ¶ˆè´¹ï¼ŒView Cä¸å¤„ç†ï¼ŒViewGroup Aä¸ä¼šè°ƒç”¨onTouchEvent()</strong></p>
<hr/>
<h4 data-id="heading-35">åœºæ™¯7ï¼šViewGroup Aä¸æ‹¦æˆªï¼ŒViewGroup Bä¸æ‹¦æˆªï¼Œéƒ½ä¸å¤„ç†</h4>
<p><strong>è¿”å›å€¼è®¾ç½®ï¼š</strong></p>
<ul>
<li>ViewGroup A.dispatchTouchEvent() = <strong>super</strong></li>
<li>ViewGroup A.onInterceptTouchEvent() = <strong>false</strong> âŒ</li>
<li>ViewGroup B.dispatchTouchEvent() = <strong>super</strong></li>
<li>ViewGroup B.onInterceptTouchEvent() = <strong>false</strong> âŒ</li>
<li>View C.dispatchTouchEvent() = <strong>super</strong></li>
<li>View C.onTouchEvent() = <strong>false</strong> âŒ</li>
<li>ViewGroup B.onTouchEvent() = <strong>false</strong> âŒ</li>
<li>ViewGroup A.onTouchEvent() = <strong>false</strong> âŒ</li>
</ul>
<p><strong>äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·è§¦æ‘¸
    â†“
Activity<span class="hljs-selector-class">.dispatchTouchEvent</span>()
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>() â†’ false âŒ ã€ä¸æ‹¦æˆªã€‘
    â†“
ã€äº‹ä»¶ä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">B</span>ã€‘
    â†“
ViewGroup <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
ViewGroup <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>() â†’ false âŒ ã€ä¸æ‹¦æˆªã€‘
    â†“
ã€äº‹ä»¶ä¼ é€’ç»™View Cã€‘
    â†“
View C<span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
View C<span class="hljs-selector-class">.onTouchEvent</span>() â†’ false âŒ ã€ä¸å¤„ç†ã€‘
    â†“
ã€äº‹ä»¶è¿”å›ViewGroup <span class="hljs-selector-tag">B</span>ã€‘
    â†“
ViewGroup <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.onTouchEvent</span>() â†’ false âŒ ã€ä¸å¤„ç†ã€‘
    â†“
ã€äº‹ä»¶è¿”å›ViewGroup <span class="hljs-selector-tag">A</span>ã€‘
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onTouchEvent</span>() â†’ false âŒ ã€ä¸å¤„ç†ã€‘
    â†“
ã€äº‹ä»¶å‘ä¸Šä¼ é€’ç»™Activityã€‘
    â†“
åç»­MOVEã€UPä¸ä¼šä¼ é€’ç»™ä»»ä½•View
    â†“
Activity<span class="hljs-selector-class">.onTouchEvent</span>()ä¼šè¢«è°ƒç”¨
</code></pre>
<p><strong>äº‹ä»¶æœ€ç»ˆåˆ°å“ªé‡Œï¼š</strong> â¬†ï¸ <strong>Activityå¤„ç†ï¼Œæ‰€æœ‰Viewéƒ½ä¸å¤„ç†</strong></p>
<hr/>
<h3 data-id="heading-36">å¿«é€ŸæŸ¥è¯¢è¡¨</h3>
<h4 data-id="heading-37">ViewGroupäº‹ä»¶æµå‘å¿«é€ŸæŸ¥è¯¢</h4>





























































<table><thead><tr><th>dispatchTouchEvent</th><th>onInterceptTouchEvent</th><th>onTouchEvent</th><th>äº‹ä»¶æœ€ç»ˆåˆ°å“ªé‡Œ</th><th>åç»­äº‹ä»¶</th></tr></thead><tbody><tr><td><strong>true</strong></td><td>-</td><td>-</td><td>âœ… <strong>ViewGroupåœæ­¢</strong></td><td>ç»§ç»­ä¼ é€’ç»™ViewGroup</td></tr><tr><td><strong>false</strong></td><td>-</td><td>-</td><td>â¬†ï¸ <strong>å‘ä¸Šä¼ é€’ç»™çˆ¶View/Activity</strong></td><td>ä¸ä¼ é€’ç»™ViewGroup</td></tr><tr><td><strong>super</strong></td><td><strong>true</strong></td><td><strong>true</strong></td><td>âœ… <strong>ViewGroupæ¶ˆè´¹</strong></td><td>ç»§ç»­ä¼ é€’ç»™ViewGroup</td></tr><tr><td><strong>super</strong></td><td><strong>true</strong></td><td><strong>false</strong></td><td>â¬†ï¸ <strong>å‘ä¸Šä¼ é€’ç»™çˆ¶View/Activity</strong></td><td>ä¸ä¼ é€’ç»™ViewGroup</td></tr><tr><td><strong>super</strong></td><td><strong>false</strong></td><td>-</td><td>â¬‡ï¸ <strong>ä¼ é€’ç»™å­View</strong></td><td>ç”±å­Viewå†³å®š</td></tr><tr><td><strong>super</strong></td><td><strong>false</strong></td><td><strong>true</strong></td><td>âœ… <strong>ViewGroupæ¶ˆè´¹</strong>ï¼ˆå­Viewä¸å¤„ç†æ—¶ï¼‰</td><td>ç»§ç»­ä¼ é€’ç»™ViewGroup</td></tr><tr><td><strong>super</strong></td><td><strong>false</strong></td><td><strong>false</strong></td><td>â¬†ï¸ <strong>å‘ä¸Šä¼ é€’</strong>ï¼ˆéƒ½ä¸å¤„ç†ï¼‰</td><td>ä¸ä¼ é€’ç»™ViewGroup</td></tr></tbody></table>
<h4 data-id="heading-38">Viewäº‹ä»¶æµå‘å¿«é€ŸæŸ¥è¯¢</h4>



































<table><thead><tr><th>dispatchTouchEvent</th><th>onTouchEvent</th><th>äº‹ä»¶æœ€ç»ˆåˆ°å“ªé‡Œ</th><th>åç»­äº‹ä»¶</th></tr></thead><tbody><tr><td><strong>true</strong></td><td>-</td><td>âœ… <strong>Viewåœæ­¢</strong></td><td>ç»§ç»­ä¼ é€’ç»™View</td></tr><tr><td><strong>false</strong></td><td>-</td><td>â¬†ï¸ <strong>å‘ä¸Šä¼ é€’ç»™çˆ¶ViewGroup</strong></td><td>ä¸ä¼ é€’ç»™View</td></tr><tr><td><strong>super</strong></td><td><strong>true</strong></td><td>âœ… <strong>Viewæ¶ˆè´¹</strong></td><td>ç»§ç»­ä¼ é€’ç»™View</td></tr><tr><td><strong>super</strong></td><td><strong>false</strong></td><td>â¬†ï¸ <strong>å‘ä¸Šä¼ é€’ç»™çˆ¶ViewGroup</strong></td><td>ä¸ä¼ é€’ç»™View</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-39">äº‹ä»¶æµå‘ç¬¦å·è¯´æ˜</h3>
<ul>
<li>âœ… <strong>æ¶ˆè´¹/åœæ­¢</strong>ï¼šäº‹ä»¶è¢«æ¶ˆè´¹ï¼Œä¸å†ä¼ é€’</li>
<li>â¬†ï¸ <strong>å‘ä¸Šä¼ é€’</strong>ï¼šäº‹ä»¶å‘ä¸Šä¼ é€’ç»™çˆ¶View/Activity</li>
<li>â¬‡ï¸ <strong>å‘ä¸‹ä¼ é€’</strong>ï¼šäº‹ä»¶å‘ä¸‹ä¼ é€’ç»™å­View</li>
<li>ğŸ›‘ <strong>æ‹¦æˆª</strong>ï¼šæ‹¦æˆªäº‹ä»¶ï¼Œä¸ä¼ é€’ç»™å­View</li>
<li>ğŸ”„ <strong>é»˜è®¤å¤„ç†</strong>ï¼šæŒ‰ç…§ç³»ç»Ÿé»˜è®¤é€»è¾‘å¤„ç†</li>
</ul>
<hr/>
<h3 data-id="heading-40">æ ¸å¿ƒè®°å¿†è¦ç‚¹</h3>
<h4 data-id="heading-41">1. dispatchTouchEvent()è¿”å›å€¼</h4>
<ul>
<li><strong>true</strong> â†’ âœ… äº‹ä»¶åœ¨æ­¤åœæ­¢ï¼Œä¸å†ä¼ é€’</li>
<li><strong>false</strong> â†’ â¬†ï¸ äº‹ä»¶å‘ä¸Šä¼ é€’ï¼Œä¸å¤„ç†</li>
<li><strong>super</strong> â†’ ğŸ”„ è¿›å…¥é»˜è®¤å¤„ç†æµç¨‹</li>
</ul>
<h4 data-id="heading-42">2. onInterceptTouchEvent()è¿”å›å€¼ï¼ˆåªæœ‰ViewGroupæœ‰ï¼‰</h4>
<ul>
<li><strong>true</strong> â†’ ğŸ›‘ æ‹¦æˆªï¼Œä¸ä¼ é€’ç»™å­View</li>
<li><strong>false</strong> â†’ â¬‡ï¸ ä¸æ‹¦æˆªï¼Œä¼ é€’ç»™å­View</li>
<li><strong>super</strong> â†’ â¬‡ï¸ ç­‰åŒäºfalseï¼Œä¼ é€’ç»™å­View</li>
</ul>
<h4 data-id="heading-43">3. onTouchEvent()è¿”å›å€¼</h4>
<ul>
<li><strong>true</strong> â†’ âœ… æ¶ˆè´¹äº‹ä»¶ï¼Œä¸å†å‘ä¸Šä¼ é€’</li>
<li><strong>false</strong> â†’ â¬†ï¸ ä¸æ¶ˆè´¹ï¼Œå‘ä¸Šä¼ é€’</li>
<li><strong>super</strong> â†’ ğŸ”„ æ ¹æ®clickableå±æ€§å†³å®š</li>
</ul>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€å¥—åº•åº§æ”¯æ’‘å¤šåœºæ™¯ï¼šé«˜å¾·åœ°å›¾åŸºäºÂ PaimonÂ +Â StarRocksÂ è½¨è¿¹æœåŠ¡å®è·µ]]></title>    <link>https://juejin.cn/post/7593187953271209984</link>    <guid>https://juejin.cn/post/7593187953271209984</guid>    <pubDate>2026-01-09T09:31:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593187953271209984" data-draft-id="7593173569870872628" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€å¥—åº•åº§æ”¯æ’‘å¤šåœºæ™¯ï¼šé«˜å¾·åœ°å›¾åŸºäºÂ PaimonÂ +Â StarRocksÂ è½¨è¿¹æœåŠ¡å®è·µ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-09T09:31:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/2414974667341287"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€å¥—åº•åº§æ”¯æ’‘å¤šåœºæ™¯ï¼šé«˜å¾·åœ°å›¾åŸºäºÂ PaimonÂ +Â StarRocksÂ è½¨è¿¹æœåŠ¡å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2414974667341287/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:31:25.000Z" title="Fri Jan 09 2026 09:31:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»20åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šèµµå®‡(å¸å¿±)/æ•°æ®å¼€å‘å·¥ç¨‹å¸ˆ</p>
<blockquote>
<p>å¯¼è¯»ï¼š</p>
<p>æœ¬æ–‡æ•´ç†è‡ªé«˜å¾·æ•°æ®å¼€å‘å·¥ç¨‹å¸ˆã€èµµå®‡åœ¨Â StreamingÂ LakehouseÂ Meetupä¸Šçš„åˆ†äº«ã€‚èšç„¦é«˜å¾·åœ°å›¾è½¨è¿¹æœåŠ¡åœ¨å®æ—¶æ¹–ä»“æ–¹å‘çš„è½åœ°å®è·µã€‚</p>
<p>é¢å¯¹è½¨è¿¹æ•°æ®â€œé«˜å®æ—¶ã€é«˜å¹¶å‘ã€é•¿å‘¨æœŸå­˜å‚¨â€çš„å…¸å‹ç‰¹å¾ï¼Œé«˜å¾·å›¢é˜Ÿä»¥è®¿é—®è·¨åº¦ä¸ºä¾æ®å®Œæˆçƒ­/æ¸©/å†·åˆ†å±‚ï¼Œå¹¶ä»¥Â ApacheÂ PaimonÂ +Â StarRocksÂ æ„å»ºç»Ÿä¸€çš„æ•°æ®åº•åº§ï¼Œæ”¯æ’‘è½¨è¿¹æ•°æ®çš„è¿‘å®æ—¶å†™å…¥ä¸é«˜æ€§èƒ½æŸ¥è¯¢ã€‚</p>
<p>è¯¥æ–¹æ¡ˆé€šè¿‡æ€§èƒ½éªŒè¯è¦†ç›–<strong>åƒäº¿çº§è½¨è¿¹æ•°æ®æŸ¥è¯¢</strong>ç­‰å…³é”®åœºæ™¯ï¼Œåœ¨æ»¡è¶³å®æ—¶ä¸æŸ¥è¯¢æ€§èƒ½çš„å‰æä¸‹ï¼Œå®ç°äº†åˆ†å±‚å­˜å‚¨ä¸‹çš„â€œæ€§èƒ½â€”æˆæœ¬â€æœ€ä¼˜å¹³è¡¡ï¼Œå¹¶ä¸ºåç»­å°†æµæ‰¹ä¸€ä½“èƒ½åŠ›æ‰©å±•åˆ°æ›´å¤šä¸šåŠ¡åŸŸã€æ‰“é€šÂ BIÂ ä¸ç®—æ³•é“¾è·¯æä¾›äº†å¯å¤åˆ¶çš„è·¯å¾„ã€‚</p>
</blockquote>
<h2 data-id="heading-0">é«˜å¾·åœ°å›¾è½¨è¿¹ç›¸å…³çš„èƒŒæ™¯åŠé¢ä¸´çš„æŒ‘æˆ˜</h2>
<p>åœ¨è¿›å…¥èƒŒæ™¯ä»‹ç»ä¹‹å‰ï¼Œå…ˆå¯¹è½¨è¿¹é¡¹ç›®åœ¨ç«¯ä¾§çš„ä¸€äº›å…¸å‹åº”ç”¨åšä¸€ä¸ªç®€è¦è¯´æ˜ã€‚</p>
<p>ä»¥â€œè¶³è¿¹åœ°å›¾â€åŠŸèƒ½ä¸ºä¾‹ï¼šç”¨æˆ·å®Œæˆæˆæƒåï¼Œæ¯ä¸€æ¬¡å¯¼èˆªç»“æŸï¼Œå…¶è¡Œç¨‹è½¨è¿¹ä¼šè¢«è®°å½•å¹¶å±•ç¤ºåœ¨è½¨è¿¹åˆ—è¡¨ä¸­ã€‚ç”¨æˆ·æ‰“å¼€æŸä¸€æ®µè½¨è¿¹åï¼Œé¡µé¢ä¼šå±•ç¤ºè¯¥æ¬¡è¡Œç¨‹çš„åŸºç¡€ä¿¡æ¯ï¼Œä¾‹å¦‚é©¾é©¶æ—¶é•¿ã€é©¾é©¶é‡Œç¨‹ã€å¹³å‡é€Ÿåº¦ç­‰ï¼›åŒæ—¶è¿˜ä¼šåœ¨ç«¯ä¸Šæ¸²æŸ“å‡ºè½¨è¿¹å½¢çŠ¶åŠå…³é”®ç‚¹ç‰¹å¾ä¿¡æ¯ï¼Œä¾‹å¦‚ä¼šè½¦ä½ç½®ã€æœ€å¤§é€Ÿåº¦ç‚¹ç­‰ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d7879af18394b109be6646823506f2d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=fJoUt8QXxC8zKF5Xv0gtwgBc4i0%3D" alt="image (17).png" loading="lazy"/></p>
<p>åŒæ—¶ï¼Œé«˜å¾·åœ°å›¾ä¼šå°†ç”¨æˆ·çš„è½¨è¿¹ç‚¹ä¸é“è·¯è¿›è¡Œå®æ—¶è½¨è¿¹åŒ¹é…ï¼Œä»è€Œæ¸²æŸ“å‡ºâ€œè¶³è¿¹åœ°å›¾â€çš„èƒŒæ™¯å›¾ã€‚ä»¥ä¸‹å›¾ä¸ºä¾‹ï¼Œè¯¥å›¾å±•ç¤ºäº†ä¸€ä½ç”¨æˆ·åœ¨åŒ—äº¬èŒƒå›´å†…è¡Œèµ°è¿‡é“è·¯çš„æ¸²æŸ“æ•ˆæœã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a3a028708d2645faba75a28c60db7210~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=p2rPnO%2FhYM3LsGy8PXwolqpyqYQ%3D" alt="image (18).png" loading="lazy"/></p>
<p>ä¸‹å›¾å±•ç¤ºçš„æ˜¯ç«¯ä¾§â€œå·¥ä½œåœ°å›¾â€çš„ä¸€ä¸ªåº”ç”¨åœºæ™¯ã€‚é€šè¿‡è¯¥åŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥æŸ¥çœ‹ä¸€æ®µè½¨è¿¹åœ¨<strong>ä½•æ—¶ã€ä½•åœ°å¼€å§‹</strong>ï¼Œåœ¨<strong>å“ªäº›åœ°ç‚¹åœç•™ä»¥åŠåœç•™æ—¶é•¿</strong>ï¼Œå¹¶åœ¨ç»“æŸåè®°å½•å…¶<strong>æœ€ç»ˆç»“æŸä½ç½®</strong>ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dc6c5d0e62af498dbf56bbc941d9a9d7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=pLolAYh6N74noUE%2F7gltXpiHZKk%3D" alt="image (19).png" loading="lazy"/></p>
<p>å¦ä¸€ä¸ªéœ€è¦è¡¥å……çš„åº”ç”¨åœºæ™¯æ˜¯æ­¤å‰è¾ƒä¸ºçƒ­é—¨çš„â€œçŒ«é¼ æ¸¸æˆâ€ã€‚åœ¨è¯¥ç©æ³•ä¸­ï¼ŒåŒä¸€ç¾¤ç»„å†…çš„ç”¨æˆ·å¯ä»¥å…±äº«å„è‡ªçš„å®æ—¶ä½ç½®ï¼›åœ¨ä¸€å±€æ¸¸æˆç»“æŸåï¼Œç³»ç»Ÿä¹Ÿä¼šç”Ÿæˆå¹¶å±•ç¤ºç”¨æˆ·åœ¨è¯¥å±€ä¸­çš„<strong>è¡Œç¨‹è½¨è¿¹</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/615aa7fbede848c39d520e599b115a98~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=T6mfyTXPz%2BiTCyde9ZzsvJE0YNY%3D" alt="image (20).png" loading="lazy"/></p>
<h3 data-id="heading-1">é¢ä¸´çš„æ ¸å¿ƒæŒ‘æˆ˜</h3>
<p>ç”±äºé«˜å¾·åœ°å›¾è½¨è¿¹æ•°æ®å…·æœ‰è¾ƒå¼ºçš„ä¸šåŠ¡ç‰¹æ®Šæ€§ä¸å®æ—¶æ€§è¦æ±‚ï¼Œå› æ­¤æ— è®ºåœ¨è½¨è¿¹çš„<strong>é‡‡é›†ã€å¤„ç†</strong>ï¼Œè¿˜æ˜¯åœ¨<strong>å­˜å‚¨ä¸æŸ¥è¯¢</strong>ç¯èŠ‚ï¼Œéƒ½é¢ä¸´ä¸€ç³»åˆ—æŒ‘æˆ˜ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a4c3fa114224888badd0047f6ff65e2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=B%2BUP0bg239eG%2BtzvPCn9AdJ2xuo%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602afc228fb22ff2c4af60a88a48637e1a71be1f310448109ab40fd3fd7eff04315bae6224a2307c97f612302aab73979c04.png" loading="lazy"/></p>
<p><strong>ç¬¬ä¸€ï¼Œå®æ—¶å¯è§æ€§è¦æ±‚é«˜ã€‚</strong></p>
<p>è½¨è¿¹æ•°æ®æ˜¯åˆ¤æ–­ç”¨æˆ·è¡Œä¸ºçš„é‡è¦ä¾æ®ï¼Œæ•°æ®é²œåº¦è‡³å…³é‡è¦ã€‚å› æ­¤ï¼Œç«¯ä¾§ä¸šåŠ¡å¯¹è½¨è¿¹æ•°æ®çš„å®æ—¶å¯è§æ€§æå‡ºäº†è¾ƒé«˜è¦æ±‚ã€‚å¹¶ä¸”æ—¥å¸¸çš„è½¨è¿¹æ•°æ®çš„å†™å…¥æµé‡è¾¾åˆ°äº†<strong>æ¯ç§’ç™¾ä¸‡çº§</strong>ï¼Œåœ¨èŠ‚å‡æ—¥ç­‰é«˜å³°æ—¶æ®µè¿˜ä¼šå‡ºç°ç¿»å€å¢é•¿ã€‚å¯¹æ•°æ®é“¾è·¯è€Œè¨€ï¼Œæ— è®ºæ˜¯å®æ—¶è®¡ç®—èƒ½åŠ›è¿˜æ˜¯æ•´ä½“ç¨³å®šæ€§ï¼Œéƒ½é¢ä¸´è¾ƒå¤§å‹åŠ›ä¸æŒ‘æˆ˜ã€‚</p>
<p><strong>ç¬¬äºŒï¼Œå¤šåœºæ™¯æŸ¥è¯¢éœ€æ±‚å¤æ‚ï¼Œå¯¹æ€§èƒ½è¦æ±‚é«˜ã€‚</strong></p>
<p>è½¨è¿¹æ•°æ®ä¸ä»…æœåŠ¡äºç¦»çº¿æŒ–æ˜ä»¥åŠé—®é¢˜æ’æŸ¥ï¼ŒåŒæ ·éœ€è¦æœåŠ¡å„ç§çº¿ä¸Šåœºæ™¯ï¼Œå¯¹æŸ¥è¯¢æ€§èƒ½è¦æ±‚ä¹Ÿéå¸¸é«˜ã€‚</p>
<p><strong>ç¬¬ä¸‰ï¼Œå†å²æ•°æ®è§„æ¨¡å¤§ï¼Œå­˜å‚¨æˆæœ¬é«˜ã€‚</strong></p>
<p>é«˜å¾·åœ°å›¾å­˜å‚¨äº†å…¨é‡å†å²è½¨è¿¹æ•°æ®ã€‚åœ¨ç¼ºä¹æœ‰æ•ˆåˆ†å±‚ã€å‹ç¼©ä¸æ²»ç†ç­–ç•¥çš„æƒ…å†µä¸‹ï¼Œæ•°æ®è§„æ¨¡æŒç»­å¢é•¿å°†å¸¦æ¥æ˜¾è‘—çš„å­˜å‚¨æˆæœ¬å‹åŠ›ã€‚</p>
<p><strong>ç¬¬å››ï¼Œå†å²æ¼”è¿›å½¢æˆæ•°æ®çƒŸå›±ï¼Œä¸šåŠ¡ä¾èµ–å¤æ‚ã€‚</strong></p>
<p>å—å¤šå¹´å†å²æ¼”è¿›å½±å“ï¼Œè½¨è¿¹ç›¸å…³é“¾è·¯å½¢æˆäº†ä¸€å®šç¨‹åº¦çš„æ•°æ®çƒŸå›±ï¼›åŒæ—¶ï¼Œå­˜åœ¨Â <strong>20+</strong>Â ä¸šåŠ¡ä¾èµ–ï¼Œé“¾è·¯ä¸æ¥å£å…³ç³»è¾ƒä¸ºå¤æ‚ï¼Œè¿›ä¸€æ­¥æå‡äº†åœ¨æ¶æ„è®¾è®¡ä¸å­˜å‚¨æ•´åˆä¸Šçš„æŠ€æœ¯éš¾åº¦ã€‚</p>
<h3 data-id="heading-2">ç»Ÿä¸€é“¾è·¯ä¼˜åŒ–æ–¹æ¡ˆ</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/29ad34fdf7144e01a0ea6ee831b3a0c7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=2JBYp3R1qH31KzqIcEykCRjl3rM%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602a0d50ecb3f30f832efdb830d1e46df9a0b5ec8b267349bece55a4f6e5feb334fe4d7c21895cde9a85654e83d76c474bef.png" loading="lazy"/></p>
<p>åŸºäºä¸Šè¿°æŒ‘æˆ˜ï¼Œæˆ‘ä»¬è®¡åˆ’å¯¹ä¸åŒä¸šåŠ¡çš„è®¡ç®—åœºæ™¯ä¸å­˜å‚¨ä½“ç³»è¿›è¡Œæ•´åˆï¼Œæ ¸å¿ƒæ–¹å‘åŒ…æ‹¬ï¼š</p>
<ol>
<li>
<p><strong>ç»Ÿä¸€æ•°æ®å¤„ç†ã€‚</strong> æ•´åˆå¤šä¸šåŠ¡åœºæ™¯ä¸‹åˆ†æ•£çš„è®¡ç®—é“¾è·¯ï¼Œå»ºç«‹æ ‡å‡†åŒ–çš„æ•°æ®å¤„ç†æµç¨‹ä¸è§„èŒƒã€‚</p>
</li>
<li>
<p><strong>å»ºè®¾é€šç”¨å­˜å‚¨ä¸æŸ¥è¯¢æœåŠ¡ã€‚</strong>Â æä¾›æ ‡å‡†åŒ–çš„è½¨è¿¹å­˜å‚¨èƒ½åŠ›ä¸ç»Ÿä¸€æŸ¥è¯¢æ¥å£ï¼Œå‡å°‘é‡å¤å»ºè®¾ã€‚</p>
</li>
<li>
<p><strong>é™ä½æ•´ä½“æˆæœ¬ã€‚</strong>Â åœ¨æ§åˆ¶èµ„æºæˆæœ¬çš„åŒæ—¶ï¼Œé™ä½åç»­äººå·¥è¿ç»´æˆæœ¬ä¸ç³»ç»Ÿå¤æ‚åº¦ã€‚</p>
</li>
<li>
<p><strong>ä¿éšœæ€§èƒ½ä¸å¦¥åã€‚</strong> åœ¨ç»Ÿä¸€æ¶æ„ä¸‹ä¿éšœå®æ—¶æ€§ä¸æŸ¥è¯¢æ€§èƒ½ã€‚</p>
</li>
</ol>
<h2 data-id="heading-3">è½¨è¿¹çš„èƒ½åŠ›å»ºè®¾ä¸æ–¹æ¡ˆè°ƒç ”</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d692f774468a4bcfb82ceb08706c5c18~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=VqafAzm2cqoABqytSp1mtUfFBEY%3D" alt="image (21).png" loading="lazy"/></p>
<p>é¦–å…ˆä»‹ç»è½¨è¿¹åœ¨å…¨åœºæ™¯ä¸‹çš„æœåŠ¡èƒ½åŠ›ä½“ç³»ã€‚</p>
<p>ä½œä¸ºæ•°æ®ä¸­å°ï¼Œæˆ‘ä»¬æ‰¿æ‹…ç¦»çº¿ä¸å®æ—¶æµé‡çš„ç»Ÿä¸€å…¥å£è§’è‰²ã€‚ä»¥è½¨è¿¹ä¸šåŠ¡ä¸ºä¾‹ï¼Œæ•´ä½“å¯æŒ‰è‡ªä¸‹è€Œä¸Šçš„é“¾è·¯ç†è§£ï¼š</p>
<p>ä»æœ€åº•å±‚çš„è½¨è¿¹åŸå§‹ç‚¹æ•°æ®å‡ºå‘ï¼Œç»ç”±Â ETLÂ åŠ å·¥ä¸æ¸…æ´—ï¼Œæ²‰æ·€å½¢æˆè½¨è¿¹é¢†åŸŸçš„åŸºç¡€æ•°æ®èµ„äº§ï¼ŒåŒ…æ‹¬è½¨è¿¹ç‚¹ã€è½¨è¿¹æ®µã€è½¨è¿¹åŒ¹é…ç»“æœï¼Œä»¥åŠç¦»çº¿æ•°æ®ç­‰ã€‚</p>
<p>ä¾æ‰˜æ•°æ®ä¸­å°ä¸äº¤é€šä¸šåŠ¡åœ¨è½¨è¿¹é¢†åŸŸçš„é•¿æœŸå»ºè®¾ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥æ•´åˆå¹¶æ²‰æ·€å‡ºä¸€ç»„æ ¸å¿ƒèƒ½åŠ›ï¼šä¾‹å¦‚å…¬å…±å±‚çš„è½¨è¿¹å®æ—¶æµä»»åŠ¡ã€é€šç”¨çš„è½¨è¿¹æŸ¥è¯¢èƒ½åŠ›ï¼Œä»¥åŠç‰¹å¾å¹³å°ç­‰åŸºç¡€èƒ½åŠ›æœåŠ¡å¹³å°ã€‚</p>
<p>åœ¨æ ¸å¿ƒèƒ½åŠ›ä¹‹ä¸Šï¼Œå¹³å°å¯¹å…¨é“¾è·¯èƒ½åŠ›è¿›è¡Œæ¨¡å—åŒ–å°è£…ï¼Œä¸»è¦åŒ…æ‹¬ä¸¤ç±»æœåŠ¡ï¼š</p>
<ul>
<li>
<p><strong>æŸ¥è¯¢æœåŠ¡æ¨¡å—</strong>ï¼›</p>
</li>
<li>
<p><strong>æ¨é€è®¢é˜…æ¨¡å—</strong>ã€‚</p>
</li>
</ul>
<p>åŸºäºä¸Šè¿°ä¸¤ç±»æ¨¡å—ï¼Œè½¨è¿¹æœåŠ¡èƒ½å¤Ÿæ”¯æ’‘å¤šç±»ä¸šåŠ¡åœºæ™¯çš„æ¥å…¥ä¸è°ƒç”¨ï¼ŒåŒ…æ‹¬å†…éƒ¨è°ƒæŸ¥å¹³å°ï¼Œä»¥åŠé¢å‘Â CÂ ç«¯çš„ç›¸å…³åŠŸèƒ½ä¸åº”ç”¨ã€‚</p>
<h3 data-id="heading-4">ä¸šåŠ¡è®¿é—®è·¨åº¦è°ƒç ”</h3>
<p>æ˜ç¡®è¦å°†è½¨è¿¹èƒ½åŠ›å»ºè®¾ä¸ºä¸Šè¿°ç»Ÿä¸€ä½“ç³»åï¼Œä¸‹ä¸€æ­¥éœ€è¦å›ç­”â€œå¦‚ä½•è½åœ°â€çš„é—®é¢˜ã€‚å› æ­¤ï¼Œæˆ‘ä»¬é¦–å…ˆå¼€å±•äº†å¯¹ä¸šåŠ¡è®¿é—®è·¨åº¦çš„è°ƒç ”ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5566339b0ad6477eba32133c071a3fa5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=kSLyJJMj%2BG8bwektUiHuXogpLoM%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602afc228fb22ff2c4af77546376af21a1ff1fb1e70af6b3f61f9dd8d866ed8c82419f1980b601d6c8e4b5e689a894c34d25.png" loading="lazy"/></p>
<p>è®¿é—®è·¨åº¦ç”¨äºè¡¡é‡â€œç”¨æˆ·è®¿é—®çš„è½¨è¿¹æ•°æ®è·ç¦»å½“å‰æ—¶é—´æœ‰å¤šè¿œâ€ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·æŸ¥çœ‹Â <strong>nÂ å¤©å‰</strong>çš„è½¨è¿¹æ•°æ®ï¼Œåˆ™è¯¥æ¬¡è®¿é—®çš„è·¨åº¦å®šä¹‰ä¸ºÂ <strong>n</strong>ã€‚</p>
<p>åŸºäºè¿™ä¸€å£å¾„ï¼Œæˆ‘ä»¬å¯¹<strong>æ—¥å‡è®¿é—®è·¨åº¦</strong>è¿›è¡Œäº†ç»Ÿè®¡ï¼ˆè§å·¦ä¾§å›¾ï¼‰ã€‚ç»“æœæ˜¾ç¤ºï¼š</p>
<ul>
<li>
<p><strong>0â€“1Â å¤©ï¼ˆå½“å¤©ä¸æ˜¨å¤©ï¼‰çš„è®¿é—®å æ¯”çº¦ä¸ºÂ 67%ã€‚è¿™éƒ¨åˆ†æ•°æ®è®¿é—®æœ€ä¸ºé›†ä¸­ï¼Œå¯å®šä¹‰ä¸ºçƒ­æ•°æ®ã€‚</strong></p>
</li>
<li>
<p><strong>1â€“3Â å¤©ç›´è‡³Â 30â€“60Â å¤©</strong>åŒºé—´å†…çš„è®¿é—®å æ¯”æ•´ä½“è¾ƒä¸ºå‡åŒ€ï¼Œå¯å®šä¹‰ä¸º<strong>æ¸©æ•°æ®</strong>ã€‚</p>
</li>
<li>
<p><strong>60Â å¤©ä»¥ä¸Š</strong>è¦†ç›–æ›´é•¿å‘¨æœŸçš„å†å²æ•°æ®ï¼Œæ•´ä½“è®¿é—®å æ¯”çº¦ä¸ºÂ <strong>16%</strong>ã€‚å°½ç®¡è®¿é—®é¢‘æ¬¡ç›¸å¯¹è¾ƒä½ï¼Œä½†ç”±äºå…¶ä»£è¡¨å…¨é‡å†å²æ²‰æ·€ï¼Œä½“é‡éå¸¸å¤§ï¼Œå¯å®šä¹‰ä¸º<strong>å†·æ•°æ®</strong>ã€‚</p>
</li>
</ul>
<p>åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥è°ƒç ”äº†â€œè®¿é—®è·¨åº¦åœ¨Â 60Â å¤©ä»¥ä¸Šçš„ç”¨æˆ·â€åœ¨æŸ¥çœ‹å†å²è½¨è¿¹æ—¶çš„è¡Œä¸ºç‰¹å¾ï¼šå³è¿™äº›ç”¨æˆ·æ‰€è®¿é—®çš„å†å²è½¨è¿¹ï¼Œåœ¨å…¶ä¸ªäººå…¨éƒ¨è½¨è¿¹ä¸­çš„ä½ç½®åˆ†å¸ƒï¼ˆå¯ç†è§£ä¸ºæ˜¯å¦ä»ä¼šæŸ¥çœ‹æ›´ä¹…è¿œçš„è®°å½•ï¼‰ã€‚è°ƒç ”ç»“æœè¡¨æ˜ï¼Œä»æœ‰ç›¸å½“æ¯”ä¾‹çš„ç”¨æˆ·ä¼šå›çœ‹è¾ƒæ—©æœŸçš„å†å²è½¨è¿¹ã€‚</p>
<p>ç»¼åˆæ¥çœ‹ï¼Œä¸€æ–¹é¢ï¼Œè¿‘æœŸæ•°æ®è®¿é—®é¢‘ç¹ï¼Œå¯¹æŸ¥è¯¢æ€§èƒ½ä¸å®æ—¶å“åº”æå‡ºæ›´é«˜è¦æ±‚ï¼›å¦ä¸€æ–¹é¢ï¼Œ60Â å¤©ä»¥ä¸Šå†å²æ•°æ®è™½ç„¶è®¿é—®ç›¸å¯¹è¾ƒå°‘ï¼Œä½†ä»å­˜åœ¨æ˜ç¡®çš„ç”¨æˆ·éœ€æ±‚ï¼ˆä¾‹å¦‚å…·å¤‡çºªå¿µæ„ä¹‰çš„è¡Œç¨‹å›çœ‹ç­‰ï¼‰ï¼Œä¸”è¯¥éƒ¨åˆ†æ•°æ®ä½“é‡æ›´å¤§ï¼Œå¯¹å­˜å‚¨æˆæœ¬é«˜åº¦æ•æ„Ÿã€‚</p>
<p>å› æ­¤ï¼Œæ•´ä½“ä¸Šéœ€è¦ä¸€å¥—èƒ½å¤Ÿæ”¯æŒåˆ†å±‚å­˜å‚¨å¹¶åŒæ—¶æ»¡è¶³é«˜æ•ˆæŸ¥è¯¢çš„æ•°æ®æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-5">æ€§èƒ½+å­˜å‚¨éœ€æ±‚è°ƒç ”</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/56e5f61dd93e444e8daab6d0a2a4a500~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=OFuWcYAQxQyImFUUAUb7DSHX43Q%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602a0d50ecb3f30f832ef9034c23b6a83e34a2cead40dabf924c6473c031bc9917c4297144b9350559ec9c718bfc0275b3f8.png" loading="lazy"/></p>
<p>åœ¨æ¨è¿›è¯¥æ–¹æ¡ˆçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå…³æ³¨å¹¶è°ƒç ”äº†é˜¿é‡Œå·´å·´é›†å›¢çš„æ•°æ®æ¹–é¡¹ç›®ï¼Œè¿™ä¸ºåç»­çš„æ¹–ä»“ä¸€ä½“åŒ–æä¾›äº†å¯è¡Œè·¯å¾„ã€‚</p>
<p>ä»èƒ½åŠ›æ„æˆæ¥çœ‹ï¼Œé›†å›¢æ•°æ®æ¹–é¡¹ç›®çš„æ ¸å¿ƒä¼˜åŠ¿ä¸»è¦ä½“ç°åœ¨ä¸‰ç‚¹ï¼š</p>
<ol>
<li>
<p>åŸºäºÂ ApacheÂ FlinkÂ +Â ApacheÂ Paimonï¼Œèƒ½å¤Ÿæä¾›é«˜æ€§èƒ½çš„è¿‘å®æ—¶æ•°æ®å†™å…¥èƒ½åŠ›ï¼Œæ»¡è¶³å¤„ç†è½¨è¿¹æ•°æ®å¯¹æ—¶æ•ˆæ€§çš„è¦æ±‚ã€‚</p>
</li>
<li>
<p>æ•°æ®å†™å…¥Â PaimonÂ åï¼Œå¯é€šè¿‡Â StarRocksÂ å¤–éƒ¨è¡¨æ–¹å¼è¿›è¡ŒæŒ‚è½½ï¼Œä»è€Œå¯¹Â PaimonÂ è¡¨ä¸Šçš„æ•°æ®æä¾›é«˜æ€§èƒ½æŸ¥è¯¢èƒ½åŠ›ã€‚</p>
</li>
<li>
<p>é‡‡ç”¨Â PaimonÂ +Â ç›˜å¤çš„å­˜å‚¨ç»„åˆï¼Œç›¸æ¯”å…¶ä»–å­˜å‚¨ä»‹è´¨å…·å¤‡æ˜¾è‘—çš„æˆæœ¬ä¼˜åŠ¿ã€‚</p>
</li>
</ol>
<p>åŸºäºä¸Šè¿°ä¼˜åŠ¿ï¼Œå…¶æ•´ä½“æ•°æ®é“¾è·¯å¦‚å·¦å›¾æ‰€ç¤ºï¼šé¦–å…ˆé€šè¿‡Â FlinkÂ JobÂ æ¶ˆè´¹æ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„æºç«¯è½¨è¿¹æ¶ˆæ¯ï¼Œå®ŒæˆÂ ETLÂ å¤„ç†åŠå¿…è¦çš„èšåˆè®¡ç®—ï¼›éšåå°†ç»“æœå†™å…¥æ•°æ®å­˜å‚¨å±‚ï¼Œé‡‡ç”¨Â PaimonÂ +Â ç›˜å¤è¿›è¡ŒæŒä¹…åŒ–å­˜å‚¨ï¼›æœ€åé€šè¿‡Â StarRocksÂ æŒ‚è½½å¤–éƒ¨è¡¨çš„æ–¹å¼å¯¹æ¹–è¡¨æ•°æ®æä¾›ç»Ÿä¸€ã€ä½å»¶è¿Ÿçš„æŸ¥è¯¢æœåŠ¡ã€‚</p>
<p>åœ¨éªŒè¯Â StarRocksÂ +Â PaimonÂ æ˜¯å¦èƒ½å¤Ÿè¦†ç›–è½¨è¿¹é¡¹ç›®çš„æ€§èƒ½è¯‰æ±‚ä¸å…³é”®æŒ‘æˆ˜æ—¶ï¼Œæˆ‘ä»¬å¼€å±•äº†ä¸€ç³»åˆ—æ€§èƒ½è¯„ä¼°ä¸å‚æ•°è°ƒä¼˜å·¥ä½œã€‚</p>
<ul>
<li>
<p>åŸºäºÂ FlinkÂ +Â PaimonÂ å¯¹å†™å…¥ååè¿›è¡Œäº†æµ‹è¯•ï¼Œç»“æœè¡¨æ˜è¯¥é“¾è·¯èƒ½å¤Ÿæ»¡è¶³è½¨è¿¹æ•°æ®è¿‘å®æ—¶å¤„ç†çš„éœ€æ±‚ã€‚</p>
</li>
<li>
<p>åœ¨åƒäº¿é‡çº§ä¸‹è½¨è¿¹çš„ç‚¹æŸ¥åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨Â StarRocksÂ è¿›è¡Œäº†æŸ¥è¯¢æ€§èƒ½æµ‹è¯•ï¼Œç»“æœè¾¾åˆ°æ—¢å®šçš„æ€§èƒ½æŒ‡æ ‡è¦æ±‚ã€‚</p>
</li>
</ul>
<p>åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å¯¹Â PaimonÂ çš„ç›¸å…³å‚æ•°è¿›è¡Œäº†è°ƒæ•´ï¼Œä»¥åœ¨å†™å…¥æ•ˆç‡ä¸æŸ¥è¯¢æ€§èƒ½ä¹‹é—´å®ç°æ›´å¥½çš„å¹³è¡¡ã€‚ç»¼åˆæµ‹è¯•ç»“æœæ˜¾ç¤ºï¼Œæ•´ä½“é“¾è·¯éªŒè¯é€šè¿‡ï¼šå¯ä»¥é‡‡ç”¨Â StarRocksÂ ä½œä¸ºÂ OLAPÂ å¼•æ“ç›´è¿æ•°æ®æ¹–å­˜å‚¨ï¼Œå®ç°è½¨è¿¹æ•°æ®çš„åŠæ—¶æŸ¥è¯¢ä¸åˆ†æã€‚</p>
<p>åœ¨å­˜å‚¨ä¾§ï¼Œå€ŸåŠ©Â PaimonÂ +Â ç›˜å¤çš„ç»„åˆæ–¹æ¡ˆï¼Œè½¨è¿¹å­˜å‚¨æˆæœ¬å®ç°äº†æ˜¾è‘—ä¼˜åŒ–ï¼Œå¹´åº¦èŠ‚çœè¾¾åˆ°ç™¾ä¸‡çº§è§„æ¨¡ã€‚</p>
<p><strong>æ€»ä½“è€Œè¨€ï¼ŒStarRocksÂ +Â PaimonÂ æ–¹æ¡ˆåœ¨æ»¡è¶³æ€§èƒ½æŒ‡æ ‡çš„å‰æä¸‹ï¼Œå®ç°äº†æ˜ç¡®çš„æˆæœ¬ä¼˜åŒ–æ•ˆæœã€‚</strong></p>
<h2 data-id="heading-6">PaimonÂ +Â StarRocksåœ¨è½¨è¿¹åº”ç”¨ä¸­çš„è½åœ°åŠæ¢ç´¢</h2>
<h3 data-id="heading-7">æ•°æ®åˆ†å±‚æ¶æ„è®¾è®¡ï¼ˆçƒ­æ•°æ®ï¼‰</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f90c8863366547788ac9ec807fa78dc6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=HxePZs%2BBaTp%2BH1D971nY5B6lgfk%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602afa4cc552274ccc031ff4b1cdeac34f7a4439c41d43c13797ad73afe89fed7a493e2545657bb74f57ec25ae8d09d7f073.png" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥æˆ‘å°†è¿›ä¸€æ­¥è¯´æ˜Â PaimonÂ +Â StarRocksÂ åœ¨è½¨è¿¹åº”ç”¨ä¸­çš„è½åœ°æ–¹å¼ä¸å®è·µæ¢ç´¢ã€‚</p>
<p>å‰æ–‡æåˆ°ï¼Œæˆ‘ä»¬åŸºäºâ€œè®¿é—®è·¨åº¦â€å°†è½¨è¿¹æ•°æ®åˆ’åˆ†ä¸ºä¸‰å±‚ï¼šçƒ­æ•°æ®ã€æ¸©æ•°æ®ã€å†·æ•°æ®ã€‚åœ¨å…·ä½“å®ç°ä¸Šï¼Œçƒ­æ•°æ®åˆè¿›ä¸€æ­¥ç»†åˆ†ä¸ºÂ A/BÂ ä¸¤å±‚ã€‚</p>
<p><strong>çƒ­æ•°æ®Â AÂ å±‚ï¼š</strong> é¢å‘å¯¹æ€§èƒ½è¦æ±‚æé«˜ã€å¯¹å“åº”æ—¶å»¶ï¼ˆRTï¼‰æä¸ºæ•æ„Ÿçš„ä¸šåŠ¡åœºæ™¯ã€‚è¯¥å±‚é‡‡ç”¨Â RedisÂ å­˜å‚¨ï¼Œä¿ç•™è¿‘Â 1Â å¤©çš„æ•°æ®ã€‚</p>
<ul>
<li>
<p>æ•°æ®ç»„ç»‡æ–¹å¼ï¼šä»¥ç”¨æˆ·ä¿¡æ¯Â +Â è½¨è¿¹ç‚¹ä¿¡æ¯ä¸ºä¸»ã€‚</p>
</li>
<li>
<p>å…¸å‹åœºæ™¯ï¼šå®æ—¶ä½ç½®ç±»æŸ¥è¯¢ä¸é«˜é¢‘äº’åŠ¨åœºæ™¯ï¼Œä¾‹å¦‚â€œçŒ«é¼ æ¸¸æˆâ€ã€å®¶äººåœ°å›¾ã€æœ€æ–°ä½ç½®æŸ¥è¯¢ï¼Œä»¥åŠÂ WIAï¼ˆå·¥ä½œåœ°å›¾ï¼‰ç­‰ã€‚</p>
</li>
</ul>
<p><strong>çƒ­æ•°æ®Â BÂ å±‚ï¼š</strong> ä¸»è¦æ‰¿è½½è¿‘å‡ å¤©å†…çš„è½¨è¿¹æŸ¥è¯¢éœ€æ±‚ã€‚è¯¥å±‚é‡‡ç”¨Â LindormÂ å­˜å‚¨ï¼Œä¿ç•™è¿‘Â 3Â å¤©çš„æ•°æ®ã€‚</p>
<ul>
<li>
<p>æ•°æ®ç»„ç»‡æ–¹å¼ï¼šä»¥â€œç”¨æˆ·Â +Â æ—¶é—´ç‰‡Â +Â è½¨è¿¹æ®µâ€Â çš„ç»“æ„åŒ–è®¾è®¡ï¼Œä»¥æ»¡è¶³å¤šç§ä¸šåŠ¡ä¸åŒçš„æŸ¥è¯¢æ–¹å¼ã€‚</p>
</li>
<li>
<p>å…¸å‹åœºæ™¯ï¼šè¶³è¿¹/è¿åŠ¨ç­‰è¿‘ä¸‰å¤©è½¨è¿¹æŸ¥è¯¢ï¼›åŒæ—¶ä¹Ÿæ”¯æ’‘éƒ¨åˆ†å†…éƒ¨è°ƒæŸ¥å¹³å°ä½¿ç”¨ï¼Œä»¥åŠå®æ—¶è½¨è¿¹åŒ¹é…ç­‰èƒ½åŠ›çš„åœ¨çº¿è°ƒç”¨ã€‚</p>
</li>
</ul>
<h3 data-id="heading-8">æ•°æ®åˆ†å±‚æ¶æ„è®¾è®¡ï¼ˆæ¸©ã€å†·æ•°æ®ï¼‰</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6425a1cd384e43aab127d47a0485e00b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=nVu5WZ2NMgfDtgxY%2FwtP6dbPcoY%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602afa4cc552274ccc03598cddcd0a50830508ff061a335c5dd57ccf6c61713dfbf287c85a61e2648109c44b7ab0651907ea.png" loading="lazy"/></p>
<p>æ¸©æ•°æ®ä¸å†·æ•°æ®éƒ¨åˆ†é‡‡ç”¨å‰æ–‡æåˆ°çš„Â <strong>ApacheÂ PaimonÂ +Â StarRocks</strong>Â æ–¹æ¡ˆã€‚æˆ‘ä»¬å°†ä¸‰å¤©ä»¥å¤–çš„å†å²è½¨è¿¹æ•°æ®ç»Ÿä¸€å†™å…¥Â Paimonï¼Œåœ¨æ˜¾è‘—é™ä½æ¹–å­˜å‚¨æˆæœ¬çš„åŒæ—¶ï¼Œæ„å»ºèµ·æµæ‰¹ä¸€ä½“çš„ç»Ÿä¸€æ•°æ®æ¶æ„ã€‚</p>
<p><strong>æ¸©æ•°æ®å±‚ï¼ˆ3Â å¤©â€“60Â å¤©ï¼‰</strong></p>
<p>æ¸©æ•°æ®å±‚ä½¿ç”¨Â PaimonÂ +Â StarRocksÂ å­˜å‚¨å¹¶æŸ¥è¯¢Â 3Â å¤©è‡³Â 60Â å¤©èŒƒå›´å†…çš„è½¨è¿¹æ•°æ®ï¼Œæ•´ä½“å¯å®ç°<strong>ç™¾æ¯«ç§’çº§</strong>å“åº”ã€‚</p>
<ul>
<li>
<p>æ•°æ®ç»„ç»‡æ–¹å¼ï¼šä»¥â€œç”¨æˆ·Â +Â æ—¶é—´ç‰‡Â +Â è½¨è¿¹æ®µâ€Â çš„ç»“æ„åŒ–è®¾è®¡ï¼Œä»¥è¦†ç›–å¤šç§æŸ¥è¯¢å½¢æ€ã€‚</p>
</li>
<li>
<p>æ•°æ®ç‰¹å¾ï¼šæ•´ä½“Â QPSÂ è¾ƒä½ã€è®¿é—®é¢‘ç‡ç›¸å¯¹æœ‰é™ï¼Œå¯¹Â RTÂ çš„å®¹å¿åº¦ç›¸å¯¹æ›´é«˜ã€‚</p>
</li>
</ul>
<p><strong>å†·æ•°æ®å±‚ï¼ˆ60Â å¤©ä»¥ä¸Šå…¨é‡å†å²ï¼‰</strong></p>
<p>å†·æ•°æ®å±‚åŒæ ·é‡‡ç”¨Â PaimonÂ +Â StarRocksï¼Œæ‰¿è½½Â 60Â å¤©ä»¥ä¸Šçš„å…¨é‡å†å²è½¨è¿¹æ•°æ®ã€‚ç›¸è¾ƒæ¸©æ•°æ®å±‚ï¼Œè¯¥å±‚åœ¨å­˜å‚¨ç»“æ„ä¸Šåšäº†è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œå°†å¤šæ®µè½¨è¿¹æŒ‰ç…§è½¨è¿¹çš„å”¯ä¸€Â IDÂ èšåˆä¸ºä¸€æ¡å®Œæ•´è½¨è¿¹ï¼Œå¹¶ä¸”å¼•å…¥å‹ç¼©ç­–ç•¥ä»¥æ˜¾è‘—é™ä½å†å²æ•°æ®çš„å­˜å‚¨å¼€é”€ã€‚</p>
<p>æ¸©/å†·æ•°æ®å±‚ä¸»è¦æ”¯æ’‘è¶³è¿¹åœ°å›¾ç­‰äº§å“èƒ½åŠ›å¯¹å†å²è½¨è¿¹çš„æŸ¥è¯¢ä¸å±•ç¤ºã€‚åŒæ—¶ï¼Œåœ¨ç¦»çº¿åˆ†æåœºæ™¯ä¸­ï¼ˆå¦‚Â AIÂ è®­ç»ƒã€è§„å¾‹æŒ–æ˜ç­‰ï¼‰ä»¥åŠå†…éƒ¨è°ƒæŸ¥å¹³å°ç­‰å·¥å…·å‹åœºæ™¯ï¼Œä¹Ÿä¼šä½¿ç”¨è¯¥éƒ¨åˆ†æ•°æ®èµ„äº§ã€‚</p>
<h3 data-id="heading-9">æ•´ä½“é“¾è·¯æ¶æ„å›¾</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9a7c3f20bc1841d8959c3cf11e20c5a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=up7SfoNuYsVLGWnfB%2Bo5kSGdtsk%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602a0524375348f90ffd024b62de75a06ba27915c57f0c427fd6c327b4ea19d5151fa61ba2f300c01db66d107157f8bbaaaa.png" loading="lazy"/></p>
<p>æ•´ä½“é“¾è·¯çš„æ¶æ„ç¤ºæ„å›¾å¯æŒ‰ä¸‰å±‚ç†è§£ï¼š<strong>æ•°æ®å¤„ç†å±‚ã€å­˜å‚¨å±‚ä¸æ¥å£å±‚</strong>ã€‚</p>
<p>ä»è½¨è¿¹æµå¤„ç†é“¾è·¯æ¥çœ‹ï¼Œ<strong>Flink</strong>Â æ¶ˆè´¹åŸå§‹è½¨è¿¹æ•°æ®åï¼Œä¼šæ ¹æ®è®¿é—®è·¨åº¦ä¸æ•°æ®åˆ†å±‚ç­–ç•¥ï¼Œå°†æ•°æ®åˆ†åˆ«å†™å…¥<strong>çƒ­/æ¸©/å†·</strong>ä¸‰ç±»å­˜å‚¨ä»‹è´¨ã€‚ä¸æ­¤åŒæ—¶ï¼Œåœ¨è½¨è¿¹æµåŠ å·¥è¿‡ç¨‹ä¸­ï¼Œé“¾è·¯è¿˜ä¼šå¼•å…¥è§„åˆ’æ•°æ®åŠè¡Œåï¼ˆè§„åˆ’å¯¼èˆªï¼‰ç›¸å…³æ•°æ®ï¼Œå¹¶å€ŸåŠ©Â <strong>PaimonÂ çš„</strong>PartialÂ Updateå¼•æ“å®Œæˆå®½è¡¨åŒ–å…³è”ï¼Œä»è€Œç”Ÿæˆå®Œæ•´çš„è¡Œç¨‹ä¿¡æ¯å¹¶è¿›è¡ŒæŒä¹…åŒ–å­˜å‚¨ã€‚</p>
<p>åœ¨è¡Œç¨‹ä¿¡æ¯æ²‰æ·€åï¼Œå¹³å°è¿›ä¸€æ­¥åŸºäºè¡Œç¨‹ä¿¡æ¯ä¸è¡Œç¨‹ç‰¹å¾ï¼Œå¹¶ç»“åˆä¸‰æ€¥ä¸€è¶…æ•°æ®ã€å¤©æ°”æ•°æ®ç­‰å¤–éƒ¨ç»´åº¦ï¼Œæ„å»ºé‡Œç¨‹ç¢‘ã€è·¨åŸè¯†åˆ«ã€Linké€šè¡Œé‡ç­‰å®æ—¶ç‰¹å¾èƒ½åŠ›ã€‚</p>
<p>åœ¨æ¥å£å±‚ï¼Œå¹³å°å¯¹å¤–ç»Ÿä¸€æä¾›æŸ¥è¯¢æœåŠ¡èƒ½åŠ›ã€‚ç»¼åˆæ¥çœ‹ï¼ŒåŸºäºÂ <strong>FlinkÂ +Â PaimonÂ +Â StarRocks</strong>Â çš„æ•°æ®æ¹–æ–¹æ¡ˆï¼Œå¹¶ä»¥Â Lindormã€RedisÂ ç­‰å­˜å‚¨ä»‹è´¨ä½œä¸ºè¡¥å……ï¼Œè½¨è¿¹é“¾è·¯è¢«æ•´åˆä¸ºä¸€å¥—é€šç”¨çš„è½¨è¿¹åŸºç¡€èƒ½åŠ›ï¼Œå¹¶åœ¨å»ºè®¾ç›®æ ‡ä¸Šä½“ç°ä¸ºâ€œä¸‰ä¸ªä¸€â€ï¼š</p>
<ul>
<li>
<p><strong>ä¸€å¥—å­˜å‚¨æ¶æ„ï¼š</strong> å°†é«˜å¾·è½¨è¿¹æ•°æ®ä¸è¡Œç¨‹ä¿¡æ¯åœ¨åŒä¸€æ¶æ„ä¸‹è¿›è¡Œç»Ÿä¸€å­˜å‚¨ä¸è®¡ç®—æ•´åˆï¼ŒåŒæ—¶å¯¹è½¨è¿¹æŸ¥è¯¢æœåŠ¡è¿›è¡Œç»Ÿä¸€åŒ–æ²»ç†ã€‚</p>
</li>
<li>
<p><strong>ä¸€å¥—ç‰¹å¾ä½“ç³»ã€‚</strong> åœ¨æ¨è¿›è¯¥ä½“ç³»å»ºè®¾è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯¹æ—¢æœ‰ç‰¹å¾è¿›è¡Œäº†æ¢³ç†ä¸æ”¶æ•›ï¼Œå»é™¤å†å²æ²‰æ·€ä¸‹çš„å†—ä½™ç‰¹å¾ï¼Œç»Ÿä¸€ç»´æŠ¤ä¸€å¥—Â LinkÂ çº§å®æ—¶ç‰¹å¾ã€‚åœ¨å…³é”®ä¸šåŠ¡å‘¨æœŸå†…ï¼Œè¯¥ç‰¹å¾ä½“ç³»ä¹Ÿæ”¯æ’‘å¹¶ä¿éšœäº†é«˜å¾·â€œåä¸€å‡ºè¡ŒèŠ‚â€ç­‰é«˜å³°åœºæ™¯ä¸‹çš„ç¨³å®šæ€§ã€‚</p>
</li>
<li>
<p><strong>ä¸€å¥—æ•°æ®æ¹–æ¶æ„ã€‚</strong> åŸºäºæ•°æ®æ¹–èƒ½åŠ›ï¼Œå¹³å°å½¢æˆäº†ä¸€å¥—ç»Ÿä¸€çš„æ•°æ®å¼€å‘ä¸æ•°æ®æœåŠ¡æ¶æ„ï¼Œå¹¶å°†å…¶ä½œä¸ºæ•°æ®å¼€å‘å±‚çš„ä¸»è¦æŠ€æœ¯è·¯å¾„ã€‚ä¸€æ–¹é¢æå‡äº†ç ”å‘äº¤ä»˜æ•ˆç‡ï¼Œå¦ä¸€æ–¹é¢ä¹Ÿé™ä½äº†åç»­äººå·¥è¿ç»´æˆæœ¬ã€‚</p>
</li>
</ul>
<h3 data-id="heading-10">æ•°æ®åˆ†å±‚æ¶æ„è®¾è®¡æ€»ç»“</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fbe5c3250e624efc8299bad53ef9b168~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=D0GDEjpozISGaOjl1UIUc7gkXAg%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602aaac77b6f1abe50df13f0408df7726cc68bfa44526e493719f2098432e8d1f7f705d44c8d5e36c9f6d14d7240e718d0e1.png" loading="lazy"/></p>
<p>å…³äºæ•°æ®åˆ†å±‚æ¶æ„è®¾è®¡ï¼Œæ•´ä½“å¯ä»¥ä»ä¸¤ä¸ªæ–¹é¢è¿›è¡Œæ€»ç»“ï¼š</p>
<p><strong>ç¬¬ä¸€ï¼šè®¿é—®é¢‘æ¬¡åˆ†å±‚</strong> æˆ‘ä»¬ä»¥è®¿é—®è·¨åº¦ä¸ºæ ¸å¿ƒæŒ‡æ ‡å®Œæˆæ•°æ®çƒ­åº¦åˆ†æï¼Œå¹¶åŸºäºâ€œæ—¶é—´è¡°å‡â€çš„ç­–ç•¥ï¼Œå°†æ•°æ®éšç”Ÿå‘½å‘¨æœŸåœ¨ä¸åŒå­˜å‚¨ä»‹è´¨ä¹‹é—´åŠ¨æ€è¿ç§»ã€‚</p>
<p><strong>ç¬¬äºŒï¼šæ™ºèƒ½æ•°æ®è¿ç§»</strong></p>
<p>åœ¨æ•°æ®è®¿é—®è¿‡ç¨‹ä¸­ï¼Œç³»ç»Ÿå¯æ ¹æ®è®¿é—®æ¨¡å¼åœ¨ä¸åŒå±‚çº§é—´è‡ªåŠ¨è·¯ç”±æŸ¥è¯¢ï¼Œç¡®ä¿æ•°æ®çš„å°±è¿‘è®¿é—®ã€‚è¯¥æœºåˆ¶å¸¦æ¥é˜¶æ¢¯å¼çš„å­˜å‚¨æˆæœ¬æ”¶ç›Šã€‚</p>
<p>åŸºäºä¸Šè¿°è®¾è®¡ï¼Œåˆ†å±‚æ¶æ„ä¸»è¦ä½“ç°ä¸¤é¡¹æ ¸å¿ƒä»·å€¼ï¼š</p>
<ol>
<li>
<p>èƒ½å¤ŸåŒæ—¶è¦†ç›–ä»<strong>å®æ—¶å†³ç­–</strong>åˆ°<strong>å†å²åˆ†æ</strong>çš„å¤šæ ·åŒ–ä¸šåŠ¡éœ€æ±‚ï¼›</p>
</li>
<li>
<p>é€šè¿‡åˆ†å±‚å­˜å‚¨å®ç°<strong>æ€§èƒ½ä¸æˆæœ¬</strong>ä¹‹é—´çš„æœ€ä½³å¹³è¡¡ã€‚</p>
</li>
</ol>
<h3 data-id="heading-11">æŸ¥è¯¢åœºæ™¯ä¸‹çš„ä¸€äº›ä¼˜åŒ–å®è·µ</h3>
<p><strong>1ã€å­˜å‚¨ä¼˜åŒ–ï¼šè½¨è¿¹å‹ç¼©-é™ä½å­˜å‚¨æˆæœ¬</strong>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b6828edafe6547e3891fd4e458b8fefd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=nZejgMABU%2FhnGWtEoFOZDKa1K1Y%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602afc228fb22ff2c4af6510f6bc16b48b6e0d902b92423a719bf8e9d473deed2c513f3fc6470c97e850047d960e9a4570b2.png" loading="lazy"/></p>
<p>å‰æ–‡æåˆ°ï¼Œæˆ‘ä»¬å¯¹è½¨è¿¹æ•°æ®è¿›è¡Œäº†å‹ç¼©ï¼Œä»¥æ˜¾è‘—é™ä½å†å²å­˜å‚¨æˆæœ¬ã€‚å…·ä½“å®ç°ä¸Šé‡‡ç”¨äº†Â GoogleÂ çš„Â <strong>PolylineÂ ç¼–ç </strong>ã€‚å…¶åŸºæœ¬æ€è·¯æ˜¯ï¼šå°†ç»çº¬åº¦æµ®ç‚¹æ•°æŒ‰å›ºå®šå€ç‡è¿›è¡Œé‡åŒ–ï¼ˆç¼©æ”¾ï¼‰åè½¬æ¢ä¸ºæ•´æ•°ï¼Œå†å¯¹ç›¸é‚»ç‚¹çš„åæ ‡å¢é‡è¿›è¡Œå·®åˆ†ç¼–ç ï¼Œå¹¶é€šè¿‡å¯å˜é•¿åº¦ç¼–ç å°†ç»“æœæ˜ å°„ä¸ºÂ ASCIIÂ å­—ç¬¦ä¸²ï¼Œä»è€Œå®ç°å¯¹ç»çº¬åº¦åºåˆ—çš„é«˜æ•ˆå‹ç¼©ã€‚æœ¬è´¨ä¸Šï¼Œè¯¥ç®—æ³•æ˜¯å¯¹ç»çº¬åº¦æ•´æ•°åºåˆ—ï¼ˆåŠå…¶å·®åˆ†ç»“æœï¼‰è¿›è¡Œç´§å‡‘ç¼–ç ã€‚</p>
<p>æˆ‘ä»¬åœ¨ä¸Šè¿°ç®—æ³•æ€è·¯çš„åŸºç¡€ä¸Šï¼Œç»“åˆé«˜å¾·å¸¸è§çš„é€šç”¨è½¨è¿¹æ ¼å¼è¿›è¡Œäº†é€‚é…ä¸æ”¹é€ ï¼Œä»è€Œå®ç°å¯¹è½¨è¿¹æ•°æ®çš„ç»Ÿä¸€å‹ç¼©ã€‚ä»¥å‹ç¼©å‰çš„æ•°æ®æ ·ä¾‹ä¸ºä¾‹ï¼Œä¸€æ®µè½¨è¿¹ç”±å¤šä¸ªç‚¹æ„æˆï¼›æ¯ä¸ªç‚¹é€šå¸¸åŒ…å«Â <strong>æ—¶é—´ã€ç»åº¦ã€çº¬åº¦ã€é€Ÿåº¦ã€æ–¹å‘ã€é«˜ç¨‹</strong>ç­‰å­—æ®µä¿¡æ¯ã€‚</p>
<p>ç»è¿‡å‹ç¼©åï¼Œè½¨è¿¹æ•°æ®ä¼šè¢«ç¼–ç ä¸ºä¸€æ®µç´§å‡‘çš„å­—ç¬¦ä¸²ï¼ˆå½¢æ€ä¸Šç±»ä¼¼â€œä¹±ç â€ï¼‰ã€‚ä»æ•ˆæœæ¥çœ‹ï¼Œå•æ¡è½¨è¿¹çš„å‹ç¼©ç‡å¯è¾¾åˆ°Â <strong>43%â€“50%</strong>ï¼›è½¨è¿¹è¶Šé•¿ï¼Œå‹ç¼©æ•ˆæœè¶Šæ˜æ˜¾ã€‚æ•´ä½“è€Œè¨€ï¼Œé«˜å¾·è½¨è¿¹æ•°æ®å…¨é¢åº”ç”¨è¯¥å‹ç¼©æ–¹æ¡ˆåï¼Œç»¼åˆæ”¶ç›Šçº¦ä¸ºÂ <strong>47%</strong>ã€‚åœ¨æ€§èƒ½æ–¹é¢ï¼Œè¯¥å‹ç¼©ç®—æ³•å…·å¤‡è¾ƒå¥½çš„èµ„æºæ•ˆç‡ï¼šå³ä¾¿åœ¨<strong>äº¿çº§è½¨è¿¹</strong>çš„å‹ç¼©è§„æ¨¡ä¸‹ï¼ŒCPUÂ èµ„æºæ¶ˆè€—ä»ä¿æŒåœ¨è¾ƒä½æ°´å¹³ã€‚</p>
<p><strong>2ã€å­˜å‚¨ä¼˜åŒ–ï¼šé›†å›¢Â AlakeÂ é—¨æˆ·çš„å­˜å‚¨ä¼˜åŒ–åŠŸèƒ½</strong>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/133f95d16356476b81e630813c09d982~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=Om6kaeAyQUA4fcewBpd4YB5nHs0%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602a15464a86392b1bf594ec014988a9b25e4e48f330f0aa8836c3fa939067edf91ef5b6949115c8defe9f893503a351ce55 (1).png" loading="lazy"/></p>
<p>ç”±äºæœ¬é¡¹ç›®ä½¿ç”¨é›†å›¢æ•°æ®æ¹–èƒ½åŠ›ï¼Œé›†å›¢é—¨æˆ·æä¾›äº†å­˜å‚¨æ²»ç†ç›¸å…³çš„ä¼˜åŒ–åŠŸèƒ½ã€‚åœ¨Â FlinkÂ å†™å…¥Â PaimonÂ çš„è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šå› æ£€æŸ¥ç‚¹ï¼ˆCheckpointï¼‰æäº¤å¤±è´¥ç­‰åŸå› äº§ç”Ÿå°æ–‡ä»¶ï¼Œå¹¶åœ¨å¼‚å¸¸åœºæ™¯ä¸‹å½¢æˆå­¤å„¿æ–‡ä»¶ã€‚</p>
<p>ä¸ºæ­¤ï¼Œé›†å›¢æ•°æ®æ¹–é—¨æˆ·æ”¯æŒæŒ‰â€œé¡¹ç›®ç©ºé—´Â +Â è¡¨â€ç²’åº¦è¿›è¡Œé…ç½®ã€‚æˆ‘ä»¬å°†ç›®æ ‡è¡¨çº³å…¥æ²»ç†èŒƒå›´åï¼Œå¯é€šè¿‡å®šæœŸæ‰§è¡Œæˆ–æ‰‹åŠ¨è§¦å‘çš„æ–¹å¼å¼€å±•ï¼š</p>
<ul>
<li>
<p>å°æ–‡ä»¶åˆå¹¶/æ•´ç†ï¼ˆæ–‡ä»¶å‹å®ã€åˆå¹¶å°æ–‡ä»¶ï¼‰ï¼›</p>
</li>
<li>
<p>å­¤å„¿æ–‡ä»¶æ¸…ç†ã€‚</p>
</li>
</ul>
<p>ä¸Šè¿°æ²»ç†åŠ¨ä½œèƒ½å¤Ÿè¿›ä¸€æ­¥é‡Šæ”¾å­˜å‚¨ç©ºé—´ï¼ŒåŒæ—¶é€šè¿‡å‘¨æœŸæ€§åˆå¹¶/æ•´ç†ä½œä¸šå‡å°‘Â PaimonÂ è¡¨ä¸­çš„å°æ–‡ä»¶æ•°é‡ï¼Œä»è€Œä¿éšœæ¹–è¡¨çš„é«˜æ•ˆæŸ¥è¯¢èƒ½åŠ›ã€‚</p>
<p><strong>3ã€æŸ¥è¯¢ä¼˜åŒ–ï¼šæ•°æ®åˆ†åŒºå­˜å‚¨ï¼Œåˆ†åŒºè£å‰ª</strong>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/42a42155cdcb4df983a8c5750f3e8717~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=QRwJkzUtvlSk23zzyltdQCBz7KY%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602a8169d9d9ddf3b83f16aa4c685ccfbc71df04090c53a45f623be580359e3c0d25d70d64a9ebd6175696b3029a3d8d1d95.png" loading="lazy"/></p>
<p>åœ¨è¯»å–æ€§èƒ½æ–¹é¢ï¼Œæˆ‘ä»¬ä»ä¸šåŠ¡è®¿é—®ç‰¹å¾å‡ºå‘å¯¹æ•°æ®è¿›è¡Œäº†åˆ†åŒºå­˜å‚¨ã€‚ä»¥åƒäº¿çº§è½¨è¿¹ç‚¹æŸ¥è¯¢åœºæ™¯ä¸ºä¾‹ï¼Œè‹¥ç¼ºå°‘åˆç†åˆ†åŒºï¼Œä»æµ·é‡å†å²æ•°æ®ä¸­å®šä½ä¸€æ¡è½¨è¿¹å¯èƒ½éœ€è¦è§¦å‘å…¨è¡¨æ‰«æï¼Œå¯¼è‡´Â I/OÂ ä¸Â CPUÂ å¼€é”€æ˜¾è‘—ä¸Šå‡ã€‚</p>
<p>åœ¨è½¨è¿¹ä¸šåŠ¡ä¸­ï¼Œåˆ†åŒºè®¾è®¡ä¼šå¤©ç„¶é‡åˆ°â€œè·¨å¤©â€é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·åœ¨å½“æ—¥Â 22:00Â å¼€å§‹å¯¼èˆªã€æ¬¡æ—¥Â 01:00Â ç»“æŸè¡Œç¨‹ï¼Œåˆ™è¯¥è¡Œç¨‹å¯¹åº”çš„è½¨è¿¹ç‚¹/è½¨è¿¹æ®µä¼šè·¨è¶Šå¤šä¸ªæ—¥æœŸåˆ†åŒºã€‚è‹¥ä»æŒ‰è‡ªç„¶æ—¥æœŸåˆ†åŒºå­˜å‚¨ä¸å†™å…¥ï¼Œå®Œæ•´è½¨è¿¹çš„æŸ¥è¯¢ä¸å†™å…¥éƒ½ä¼šæ¶‰åŠå¤šä¸ªåˆ†åŒºã€‚</p>
<p>ä¸ºè§£å†³è¿™ä¸€é—®é¢˜ï¼Œæˆ‘ä»¬åœ¨å†å²æ•°æ®å±‚åšäº†ä¸€ä¸ªå…³é”®è®¾è®¡ï¼šè½¨è¿¹ç‚¹èšåˆã€‚å…·ä½“è€Œè¨€ï¼Œé€šè¿‡è½¨è¿¹çš„å”¯ä¸€Â IDï¼Œå°†åŒä¸€æ¡è½¨è¿¹çš„å¤šä¸ªç‚¹èšåˆä¸ºä¸€æ¡å®Œæ•´è½¨è¿¹ï¼Œå¹¶é…åˆå‰æ–‡ä»‹ç»çš„å‹ç¼©ç®—æ³•ï¼Œè¿›ä¸€æ­¥é™ä½å­˜å‚¨æˆæœ¬ã€‚åœ¨åˆ†åŒºç­–ç•¥ä¸Šï¼Œæˆ‘ä»¬ä»¥è½¨è¿¹å¼€å§‹æ—¥æœŸä½œä¸ºåˆ†åŒºé”®ï¼Œä»è€Œä¿è¯å•æ¡è½¨è¿¹åªè½å…¥ä¸€ä¸ªåˆ†åŒºï¼ŒåŒæ—¶è§„é¿è·¨å¤©å†™å…¥ä¸è·¨åˆ†åŒºæŸ¥è¯¢çš„é—®é¢˜ã€‚</p>
<p>åœ¨è¡¨æ¨¡å‹è®¾è®¡ä¸Šï¼ŒPaimonÂ è¡¨ä»¥è½¨è¿¹Â IDä½œä¸ºä¸»é”®ã€‚ç”±äºÂ PaimonÂ ä¸»é”®è¡¨æ”¯æŒÂ Upsertï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å…¶ä¸»é”®åˆå¹¶èƒ½åŠ›æ”¯æŒè½¨è¿¹è¡¥å…¨ä¸æ•°æ®ä¿®å¤ç­‰åœºæ™¯ï¼›åŒæ—¶ï¼Œä¸»é”®è¿‡æ»¤æ¡ä»¶ä¹Ÿèƒ½å¤Ÿæ˜¾è‘—åŠ é€ŸæŸ¥è¯¢ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5515151d5ecd493491384995199d41fb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=D07Bb6HbR9iUtNEV3%2BqfZfYmwLQ%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602a822951806323f8962d2cb5184a5287b612fc2d3a187a7e82ec946d2ed9b63d0762f4e7a3a510fce277db19ed0ef6801a.png" loading="lazy"/></p>
<p>æ­¤å¤–ï¼Œè¯¥è¡¨å¼€å¯äº†Â DVï¼ˆDeletionÂ Vectorï¼‰ç›¸å…³èƒ½åŠ›ï¼šå½“Â ReaderÂ è¯»å–å¼€å¯Â DVÂ çš„è¡¨æ—¶ï¼Œå¯è‡ªåŠ¨è·³è¿‡å·²æ ‡è®°åˆ é™¤çš„è¡Œï¼Œä»…è¿”å›æœ€æ–°æœ‰æ•ˆæ•°æ®ï¼›åŒæ—¶ï¼ŒManifestÂ çš„æ›´æ–°é¢‘æ¬¡ä¹Ÿä¼šé™ä½ï¼Œç»¼åˆå¸¦æ¥Â I/OÂ çš„è¿›ä¸€æ­¥å‡å°‘ã€‚é…åˆÂ StarRocksÂ çš„Â DVÂ NativeÂ å®ç°ï¼ˆC++ï¼‰ï¼Œæ•´ä½“æ‰§è¡Œæ•ˆç‡ç›¸è¾ƒÂ JNIÂ è·¯å¾„å¯è·å¾—æ˜¾è‘—æå‡ï¼ˆå¯è¾¾åˆ°Â 5Â å€ä»¥ä¸Šï¼‰ã€‚</p>
<p><strong>4ã€æ€§èƒ½ä¼˜åŒ–ï¼šè°ƒæ•´å‚æ•°</strong>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e2e0d8e663d4f38bfe4fab66fc960a6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=OgNHnzN6Rz0KAT3Ul2oMj0a9B2w%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602a822951806323f896630a2d0c157f619aa6f1656cf8818d35aefc7676df1aca65924952ca63fb3b67ddfef48dcb089ed0.png" loading="lazy"/></p>
<p>æˆ‘ä»¬ä¹Ÿé’ˆå¯¹Â PaimonÂ è¡¨åšè¿‡ä¸€ç³»åˆ—å‚æ•°è°ƒä¼˜ï¼Œä»¥è¿›ä¸€æ­¥ä¼˜åŒ–ç‚¹æŸ¥åœºæ™¯ä¸‹çš„è¯»å–æ•ˆç‡ä¸ç¨³å®šæ€§ã€‚</p>
<p>ä¾‹å¦‚ï¼šå°†Â file-block-sizeÂ ä»é»˜è®¤çš„Â <strong>128MB</strong>Â ä¸‹è°ƒè‡³Â <strong>32MB</strong>ã€‚åœ¨è½¨è¿¹å†å²æ•°æ®ä½“é‡å¤§ã€ä»¥ç‚¹æŸ¥ä¸ºä¸»çš„åœºæ™¯ä¸‹ï¼Œæ›´å°çš„Â block/rowÂ groupÂ ç²’åº¦æœ‰åˆ©äºæ›´ç²¾ç»†çš„æ•°æ®è£å‰ªä¸ä¸‹æ¨ï¼š</p>
<ul>
<li>
<p>ç²’åº¦æ›´å°æ„å‘³ç€å¯ä»¥æ›´å‡†ç¡®åœ°å®šä½å‘½ä¸­èŒƒå›´ï¼Œä»è€Œåœ¨è¯»å–æ—¶è·³è¿‡æ›´å¤šä¸ç›¸å…³çš„Â rowÂ groupï¼›</p>
</li>
<li>
<p>æœ‰åŠ©äºé™ä½Â I/OÂ æ”¾å¤§ï¼ˆåªè¯»å–å‘½ä¸­çš„Â groupï¼Œè€Œéæ‰©å¤§åˆ°æ•´æ–‡ä»¶çº§åˆ«ï¼‰ï¼›</p>
</li>
<li>
<p>æ›´å°çš„Â groupÂ ä¹Ÿæ›´åˆ©äºå¤šçº¿ç¨‹/å¤šä»»åŠ¡å¹¶è¡Œè¯»å–ã€‚</p>
</li>
</ul>
<p>æˆ‘ä»¬ä¹Ÿå°è¯•è¿‡å¼€å¯â€œä½¿ç”¨çº¿ç¨‹æ± å¤„ç†åºåˆ—åŒ–â€çš„ç›¸å…³å‚æ•°ã€‚ä½†ç”±äºè¯¥çº¿ç¨‹æ± é»˜è®¤å¤§å°é€šå¸¸ä¸ºÂ CPUÂ æ ¸å¿ƒæ•°çš„Â 2Â å€ï¼Œåœ¨é«˜Â QPSÂ åœºæ™¯ä¸‹åè€Œå®¹æ˜“å½¢æˆæ’é˜Ÿä¸ç“¶é¢ˆã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†è¯¥å‚æ•°è®¾ç½®ä¸ºÂ <strong>false</strong>ï¼Œä½¿åºåˆ—åŒ–ç”±æ¯æ¡Â SQLÂ åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­è‡ªè¡Œå®Œæˆã€‚ æ­¤å¤–ï¼Œæˆ‘ä»¬å°†Â manifestÂ ç¼“å­˜å¤§å°ä»é»˜è®¤çš„Â <strong>1GB</strong>Â è°ƒæ•´è‡³Â <strong>4GB</strong>ï¼Œç”¨äºæå‡Â manifestÂ å‘½ä¸­ç‡ã€‚é«˜å¾·è½¨è¿¹æŸ¥è¯¢å­˜åœ¨ä¸€å®šæ¯”ä¾‹çš„â€œè®¿é—®æ›´æ—©å†å²æ•°æ®â€çš„ç‰¹å¾ï¼Œè‹¥Â manifestÂ é¢‘ç¹è¿‡æœŸå¹¶è¢«æ·˜æ±°ã€‚æ‰©å¤§ç¼“å­˜åï¼Œå¯è¦†ç›–æ›´é•¿æ—¶é—´èŒƒå›´çš„Â manifestÂ å…ƒæ•°æ®ã€‚</p>
<p><strong>5ã€ç¨³å®šæ€§è°ƒä¼˜ï¼šå¤šå®ä¾‹éš”ç¦»</strong>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1cfa7e46edad42d6899e958a03fe6624~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=fkGvSo%2B3ggKiaafuxwECRsLAtqU%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602a7a5c135778ee098c08ae8fbc26d88bc1199f49c74c0281f255a02aca63162d1e589b12df32ca37985a20d1c4d7c1fd9a.png" loading="lazy"/></p>
<p>æœ€åä¸€ç±»éœ€è¦é‡ç‚¹è§£å†³çš„æ˜¯ç¨³å®šæ€§ä¸èµ„æºéš”ç¦»é—®é¢˜ã€‚å‰æ–‡æåˆ°ï¼Œè½¨è¿¹æ•°æ®æ—¢æœåŠ¡äºÂ CÂ ç«¯åœ¨çº¿ä¸šåŠ¡ï¼Œä¹Ÿæ”¯æ’‘å†…éƒ¨è°ƒæŸ¥å¹³å°ç­‰å†…éƒ¨å·¥å…·ï¼Œä¸¤ç±»ä¸šåŠ¡åœ¨Â SLAÂ ä¸æŸ¥è¯¢ç‰¹å¾ä¸Šå­˜åœ¨æ˜æ˜¾å·®å¼‚ï¼Œè‹¥ç¼ºä¹éš”ç¦»æœºåˆ¶ï¼Œå®¹æ˜“äº§ç”Ÿèµ„æºå¹²æ‰°ã€‚</p>
<p>ä»¥Â CÂ ç«¯è¶³è¿¹ç±»æŸ¥è¯¢ä¸ºä¾‹ï¼Œå…¶å…¸å‹ç‰¹å¾æ˜¯ç‚¹æŸ¥æˆ–å°èŒƒå›´æ‰«æï¼Œå¯¹å“åº”æ—¶å»¶ï¼ˆRTï¼‰é«˜åº¦æ•æ„Ÿï¼›ä¸€æ—¦å‡ºç°è¶…æ—¶æˆ–æ˜æ˜¾æŠ–åŠ¨ï¼Œç”¨æˆ·ä½“éªŒä¼šç›´æ¥å—å½±å“ã€‚</p>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œå†…éƒ¨è°ƒæŸ¥å¹³å°çš„æŸ¥è¯¢æ›´å¤šç”±å†…éƒ¨åŒå­¦æŒ‰éœ€è§¦å‘ï¼Œå¸¸è§å½¢æ€åŒ…æ‹¬å¤æ‚Â Joinã€æ›´å¤§èŒƒå›´æ‰«æç”šè‡³å…¨è¡¨æ‰«æï¼Œå•æ¬¡æŸ¥è¯¢å¯èƒ½å¸¦æ¥Â GBÂ çº§Â I/OÂ å¼€é”€ã€‚ç”±äºå…¶ä¸»è¦ç”¨äºåˆ†æä¸æ’æŸ¥ï¼Œè¯¥ç±»åœºæ™¯å¯¹å»¶è¿Ÿå…·å¤‡æ›´é«˜å®¹å¿åº¦ã€‚</p>
<p>ä¸ºè§£å†³ä¸åŒä¸šåŠ¡Â SLAÂ å¸¦æ¥çš„ç¨³å®šæ€§é—®é¢˜ï¼Œæˆ‘ä»¬å°†SRé›†ç¾¤é‡‡ç”¨ç‰©ç†éš”ç¦»çš„æ–¹å¼è¿›è¡Œèµ„æºæ²»ç†ï¼šå°†Â CÂ ç«¯ä¸šåŠ¡æ‹†åˆ†ä¸ºä¸¤ä¸ªé›†ç¾¤ï¼ŒåŒæ—¶å°†å†…éƒ¨è°ƒæŸ¥å¹³å°ç‹¬ç«‹éƒ¨ç½²åœ¨ä¸€ä¸ªè§„æ¨¡ç›¸å¯¹è¾ƒå°çš„é›†ç¾¤ä¸­ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œä¸åŒåœºæ™¯ä¹‹é—´åœ¨æŸ¥è¯¢æ—¶å€™çš„èµ„æºç«äº‰å¾—åˆ°æœ‰æ•ˆç¼“è§£ï¼Œæ—¢é¿å…äº†ç›¸äº’å¹²æ‰°ï¼Œä¹Ÿæ›´å¥½åœ°ä¿éšœäº†Â CÂ ç«¯ä¸šåŠ¡çš„Â SLAã€‚</p>
<h2 data-id="heading-12">é«˜å¾·åœ°å›¾å®æ—¶æ¹–ä»“æœªæ¥è§„åˆ’</h2>
<p>å‰æ–‡æåˆ°ï¼Œæˆ‘ä»¬æ‰€åœ¨éƒ¨é—¨æ˜¯æ•°æ®ä¸­å°ï¼Œæ‰¿æ‹…é«˜å¾·å®æ—¶ä¸ç¦»çº¿æµé‡çš„ç»Ÿä¸€å…¥å£èŒè´£ã€‚é™¤è½¨è¿¹æ•°æ®å¤–ï¼Œå¹³å°è¿˜è¦†ç›–å¤šç§ç±»å‹çš„ä¸šåŠ¡æ•°æ®ã€‚</p>
<p>æœ¬æ¬¡åœ¨è½¨è¿¹åœºæ™¯ä¸­å®ç°äº†æµæ‰¹ä¸€ä½“çš„è½åœ°éªŒè¯ï¼Œåç»­å°†è¿›ä¸€æ­¥æ‰©å¤§ä¸šåŠ¡èŒƒå›´ï¼š</p>
<ul>
<li>
<p>é€æ­¥å°†æµæ‰¹ä¸€ä½“èƒ½åŠ›æ‰©å±•åˆ°é«˜å¾·å…¶ä»–åŸºç¡€æœåŠ¡çš„æ—¥å¿—ç±»æ•°æ®ã€‚</p>
</li>
<li>
<p>ä¸ä¸‹æ¸¸Â BIÂ å›¢é˜ŸåŠç®—æ³•å›¢é˜Ÿæ‰“é€šä»æ•°æ®ç”Ÿäº§ã€æ²»ç†åˆ°æ¶ˆè´¹çš„å…¨é“¾è·¯åä½œã€‚</p>
</li>
</ul>
<p>åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬ä¹Ÿè®¡åˆ’å›´ç»•ä¸Šè¿°å¤šæºä¸šåŠ¡æ•°æ®ï¼Œå¯¹ç”¨æˆ·è¡Œä¸ºä¸åå¥½è¿›è¡Œç‰¹å¾æŒ–æ˜ï¼Œå¹¶å°†ç›¸å…³èƒ½åŠ›è¿›ä¸€æ­¥ä¸Â AIÂ AgentÂ ç»“åˆï¼Œå½¢æˆé¢å‘ä¸šåŠ¡çš„æ™ºèƒ½åŒ–èµ‹èƒ½è·¯å¾„ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>