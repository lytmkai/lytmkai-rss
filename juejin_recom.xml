<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[openGauss Ã— AIï¼šæ‰“é€ ä¸€ä¸ªèƒ½è¯†å›¾ã€èƒ½è®²è§£ã€è¿˜èƒ½æ¨èçš„æ™ºæ…§åšç‰©é¦†å¯¼è§ˆå¸ˆ]]></title>    <link>https://juejin.cn/post/7572138663121584170</link>    <guid>https://juejin.cn/post/7572138663121584170</guid>    <pubDate>2025-11-14T07:58:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572138663121584170" data-draft-id="7572142436127735827" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="openGauss Ã— AIï¼šæ‰“é€ ä¸€ä¸ªèƒ½è¯†å›¾ã€èƒ½è®²è§£ã€è¿˜èƒ½æ¨èçš„æ™ºæ…§åšç‰©é¦†å¯¼è§ˆå¸ˆ"/> <meta itemprop="keywords" content="ç®—æ³•"/> <meta itemprop="datePublished" content="2025-11-14T07:58:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çˆ±ç¡è§‰çš„å’‹"/> <meta itemprop="url" content="https://juejin.cn/user/752513462582023"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            openGauss Ã— AIï¼šæ‰“é€ ä¸€ä¸ªèƒ½è¯†å›¾ã€èƒ½è®²è§£ã€è¿˜èƒ½æ¨èçš„æ™ºæ…§åšç‰©é¦†å¯¼è§ˆå¸ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/752513462582023/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çˆ±ç¡è§‰çš„å’‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T07:58:29.000Z" title="Fri Nov 14 2025 07:58:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»16åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>åœ¨è¿™ä¸ªè¢«â€œå¤§æ¨¡å‹â€åˆ·æ–°å®šä¹‰çš„æ—¶ä»£ï¼Œæˆ‘ä»¬è¶Šæ¥è¶Šå¤šåœ°è°ˆè®ºæ™ºèƒ½ä½“ã€çŸ¥è¯†æ£€ç´¢ã€RAG ç³»ç»Ÿï¼Œä½†è¿™äº›æŠ€æœ¯çš„åº•å±‚æ”¯æ’‘â€”â€”<strong>æ•°æ®åº“</strong>ï¼Œå¾€å¾€è¢«å¿½è§†ã€‚
ç„¶è€Œï¼Œå¦‚æœè¯´å¤§æ¨¡å‹æ˜¯â€œè¯­è¨€çš„å¿ƒæ™ºâ€ï¼Œé‚£æ•°æ®åº“ï¼Œå°±æ˜¯â€œçŸ¥è¯†çš„è®°å¿†â€ã€‚
è€Œ openGaussï¼Œå°±æ˜¯é‚£ä¸ªæœ€æ‡‚è®°å¿†çš„â€œå¤§è„‘â€ã€‚
openGauss æ˜¯ç”±åä¸ºä¸»å¯¼ã€ç¤¾åŒºå…±å»ºçš„ <strong>ä¼ä¸šçº§å¼€æºæ•°æ®åº“ç³»ç»Ÿ</strong>ï¼Œæºè‡ª PostgreSQLï¼Œä½†è¿œä¸æ­¢äºæ­¤ã€‚
å®ƒå¼•å…¥äº†åˆ†å¸ƒå¼æ¶æ„ã€AI è‡ªè°ƒä¼˜å¼•æ“ DBMindã€å‘é‡æ•°æ®æ”¯æŒ DataVecã€ä»¥åŠ DB4AI æ™ºèƒ½è®¡ç®—æ¡†æ¶ï¼Œ
è®©æ•°æ®åº“ä¸å†åªæ˜¯â€œå­˜â€ï¼Œè€Œæ˜¯â€œæ‡‚â€ã€‚
è¿™è®©æˆ‘èŒç”Ÿäº†ä¸€ä¸ªå¿µå¤´â€”â€”
<strong>å¦‚æœæ•°æ®åº“çœŸçš„èƒ½â€œæ‡‚â€æ•°æ®ï¼Œé‚£å®ƒæ˜¯ä¸æ˜¯ä¹Ÿèƒ½è®²æ•…äº‹ï¼Ÿ
å¦‚æœæˆ‘ä»¬æŠŠ openGauss å’Œ AI æ¨¡å‹ç»“åˆï¼Œ
æ˜¯ä¸æ˜¯å¯ä»¥è®©ä¸€åº§åšç‰©é¦†â€œè‡ªå·±è¯´è¯â€ï¼Ÿ
æˆ‘å†³å®šç”¨ <strong>openGauss + AI + Gradio</strong> æ„å»ºä¸€ä¸ªèƒ½è¯†å›¾ã€èƒ½è®²è§£ã€è¿˜èƒ½æ¨èçš„æ™ºèƒ½å¯¼è§ˆç³»ç»Ÿâ€”â€”
ä¸€ä¸ªæ‡‚æ–‡ç‰©çš„ â€œæ™ºæ…§åšç‰©é¦†å¯¼è§ˆå¸ˆâ€ã€‚</strong></p>
</blockquote>
<hr/>
<p>@[toc]</p>
<h2 data-id="heading-0">ä¸€ã€openGauss æŠ€æœ¯äº®ç‚¹é€Ÿè§ˆ</h2>
<p>openGauss æ˜¯ä¸€æ¬¾ <strong>AI åŸç”Ÿæ•°æ®åº“ï¼ˆAI-Native Databaseï¼‰</strong>ï¼Œå®ƒçš„å¼ºå¤§ä¹‹å¤„åœ¨äºå¯ä»¥<strong>ç»Ÿä¸€ç»“æ„åŒ–ã€åŠç»“æ„åŒ–ä¸å‘é‡åŒ–æ•°æ®</strong>ï¼Œ
è¿™è®©å®ƒå¤©ç„¶é€‚é… AI åº”ç”¨ä¸­çš„å¤šæ¨¡æ€æ•°æ®éœ€æ±‚ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/52fbe7a0bf8a4197972942836871ca9c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix552h6KeJ55qE5ZKL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763711909&amp;x-signature=m3G%2FazgPiWBSLcgsit4FYOUPbho%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><strong>æ ¸å¿ƒèƒ½åŠ›ä¸€è§ˆ</strong></p>



































<table><thead><tr><th>æ¨¡å—</th><th>ç‰¹æ€§</th><th>ç®€è¿°</th></tr></thead><tbody><tr><td><strong>DataVec</strong></td><td>åŸç”Ÿå‘é‡ç±»å‹æ”¯æŒ</td><td>å¯ç›´æ¥å­˜å‚¨å’Œæ£€ç´¢ embedding å‘é‡</td></tr><tr><td><strong>DBMind</strong></td><td>æ™ºèƒ½è‡ªè°ƒä¼˜å¼•æ“</td><td>è‡ªåŠ¨å­¦ä¹ æŸ¥è¯¢æ¨¡å¼å¹¶ä¼˜åŒ–æ€§èƒ½</td></tr><tr><td><strong>DB4AI</strong></td><td>å†…ç½® AI è®­ç»ƒæ¡†æ¶</td><td>æ”¯æŒ SQL å±‚æœºå™¨å­¦ä¹ </td></tr><tr><td><strong>JSONB æ”¯æŒ</strong></td><td>ç»“æ„ä¸éç»“æ„æ··åˆæŸ¥è¯¢</td><td>å¯ç”¨ SQL æ“ä½œåµŒå¥—å…ƒæ•°æ®</td></tr><tr><td><strong>åˆ†å¸ƒå¼æ¶æ„</strong></td><td>æ”¯æŒå¤§è§„æ¨¡å¹¶è¡Œè®¡ç®—</td><td>é€‚åˆ AI æ£€ç´¢ã€æ—¥å¿—åˆ†æç­‰é«˜è´Ÿè½½åœºæ™¯</td></tr></tbody></table>
<p>è¿™ç§æŠ€æœ¯åº•åº§ï¼Œè®© openGauss æˆä¸ºæ­å»º <strong>RAG ç³»ç»Ÿã€æ™ºèƒ½é—®ç­”ã€æ¨èå¼•æ“ã€å›¾è°±æ£€ç´¢</strong> çš„ç†æƒ³åŸºç¡€ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€ç³»ç»Ÿè®¾è®¡æ€è·¯</h2>
<p>å¦‚æœæ•°æ®åº“çœŸçš„èƒ½â€œæ‡‚â€æ•°æ®ï¼Œé‚£å®ƒæ˜¯ä¸æ˜¯ä¹Ÿèƒ½è®²æ•…äº‹ï¼Ÿå¦‚æœæˆ‘ä»¬æŠŠ openGauss å’Œ AI æ¨¡å‹ç»“åˆï¼Œæ˜¯ä¸æ˜¯å¯ä»¥è®©ä¸€åº§åšç‰©é¦†â€œè‡ªå·±è¯´è¯â€ï¼Ÿå› æ­¤ï¼Œæˆ‘æ‰“ç®—è®¾è®¡ä¸€ä¸ªæ™ºæ…§åšç‰©é¦†å¯¼è§ˆå¸ˆï¼Œæ¶æ„ä¸»è¦åˆ†ä¸ºå››å±‚ï¼š</p>
<ol>
<li>
<p><strong>æ•°æ®å±‚ï¼ˆopenGaussï¼‰</strong>
å­˜å‚¨è—å“åç§°ã€æè¿°ã€å›¾ç‰‡ embeddingã€å…ƒæ•°æ®ï¼ˆæœä»£ã€é¦†è—åœ°ç­‰ï¼‰ã€‚</p>
</li>
<li>
<p><strong>AI å±‚ï¼ˆEmbedding + LLMï¼‰</strong>
åˆ©ç”¨è§†è§‰æ¨¡å‹ï¼ˆå¦‚ CLIPï¼‰ç”Ÿæˆå›¾ç‰‡å‘é‡ï¼Œç»“åˆ LLM è‡ªåŠ¨ç”Ÿæˆè‡ªç„¶è¯­è¨€è®²è§£ã€‚</p>
</li>
<li>
<p><strong>é€»è¾‘å±‚ï¼ˆPythonï¼‰</strong>
è´Ÿè´£è¿æ¥æ•°æ®åº“ã€æ‰§è¡Œæ£€ç´¢ã€æ•´åˆ AI è¾“å‡ºç»“æœã€‚</p>
</li>
<li>
<p><strong>äº¤äº’å±‚ï¼ˆGradioï¼‰</strong>
æä¾›ç›´è§‚ã€å¯äº¤äº’çš„å¯¼è§ˆç•Œé¢ï¼Œæ”¯æŒå›¾ç‰‡ä¸Šä¼ ä¸ç»“æœå±•ç¤ºã€‚</p>
</li>
</ol>
<p>ç³»ç»Ÿæµç¨‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs">ç”¨æˆ·ä¸Šä¼ å›¾ç‰‡ â†’ AI æå– embedding â†’ openGauss æ£€ç´¢ç›¸ä¼¼è—å“ â†’ LLM ç”Ÿæˆè®²è§£ â†’ Gradio å±•ç¤ºç»“æœ
</code></pre>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€openGauss éƒ¨ç½²ä¸é…ç½®</h2>
<p>openGauss éƒ¨ç½²éå¸¸è½»é‡ï¼Œæˆ‘ä»¬ä½¿ç”¨ Docker ä¸€é”®å¯åŠ¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æ‹‰å–é•œåƒ</span>
docker pull enmotech/opengauss:latest

<span class="hljs-comment"># 2. å¯åŠ¨æ•°æ®åº“å®¹å™¨</span>
docker run -d \
  --name opengauss \
  -e GS_PASSWORD=Gauss@123 \
  -p 5432:5432 \
  enmotech/opengauss:latest

<span class="hljs-comment"># 3. è¿›å…¥å®¹å™¨å¹¶ç™»å½•æ•°æ®åº“</span>
docker <span class="hljs-built_in">exec</span> -it opengauss bash
gsql -d postgres -U gaussdb -W Gauss@123 -r
</code></pre>
<p>æˆ‘å› ä¸ºä¹‹å‰å·²ç»åˆ›å»ºè¿‡ä¸€ä¸ªå®¹å™¨ï¼Œæˆ‘è¿™é‡Œç›´æ¥startå³å¯ï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d53d79953bca41afa50c9cdcf94c9318~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix552h6KeJ55qE5ZKL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763711909&amp;x-signature=5j9YtfxsqvSKdT4iNESs5oi0fOw%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>ç™»å½•æˆåŠŸåï¼Œåˆ›å»ºä¸€ä¸ªæ–°æ•°æ®åº“ä¸æ•°æ®è¡¨ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> DATABASE museum;
\c museum;

<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> IF <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">EXISTS</span> museum_artifact (
  id SERIAL <span class="hljs-keyword">PRIMARY</span> KEY,
  name TEXT,
  description TEXT,
  image_embedding FLOAT8[],
  metadata JSONB
);
</code></pre>
<p>è¿™æ ·ï¼ŒopenGauss å°±èƒ½åŒæ—¶å­˜å‚¨æ–‡å­—ä¿¡æ¯ã€ç»“æ„åŒ–å…ƒæ•°æ®å’Œå‘é‡åŒ–ç‰¹å¾ã€‚</p>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8996f8e2b11946069cc0b7ebafae68a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix552h6KeJ55qE5ZKL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763711909&amp;x-signature=jG5lhGDpr0O2DzimAiL4uaPGDxM%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-3">å››ã€Python è¿æ¥ openGauss å¹¶å‡†å¤‡ç¯å¢ƒ</h2>
<p>å®‰è£…å¿…è¦ä¾èµ–ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">pip install psycopg2-binary gradio openai numpy pillow tqdm requests
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/516b6ea68db34af18e4064ced11a0327~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix552h6KeJ55qE5ZKL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763711909&amp;x-signature=25rxsary579wl2Lf%2BwRdYkq0M70%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>è¿æ¥æ•°æ®åº“ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> psycopg2
<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">from</span> tqdm <span class="hljs-keyword">import</span> tqdm

conn = psycopg2.connect(
    dbname=<span class="hljs-string">"museum"</span>,
    user=<span class="hljs-string">"gaussdb"</span>,
    password=<span class="hljs-string">"Gauss@123"</span>,
    host=<span class="hljs-string">"localhost"</span>,
    port=<span class="hljs-string">"5432"</span>
)
cur = conn.cursor()

<span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… æˆåŠŸè¿æ¥åˆ° openGauss æ•°æ®åº“ï¼"</span>)
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dcba4fed17fd4ed191f2bb059a0a639c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix552h6KeJ55qE5ZKL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763711909&amp;x-signature=BrmT9EDeyTlHpCpmcJbprADEny8%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-4">äº”ã€ç”Ÿæˆå¹¶å¯¼å…¥è—å“æ•°æ®</h2>
<p>åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¯ä»¥è°ƒç”¨ CLIP æˆ– OpenAI Embedding APIã€‚
ä¸ºäº†å¯è¿è¡Œï¼Œæˆ‘ä»¬ç”¨éšæœºå‘é‡æ¨¡æ‹ŸåµŒå…¥æ•ˆæœã€‚å¯ä»¥å…ˆçœ‹ä¸€ä¸‹æ–‡ç‰©çš„å›¾ç‰‡ï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aeb3b33e3e274c64ae16e09990742425~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix552h6KeJ55qE5ZKL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763711909&amp;x-signature=aH2ZNuAzPXR5srNDRSbxrzYozg0%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>ç°åœ¨æŠŠimageä½œä¸ºå‘é‡åµŒå…¥åˆ°openGaussä¸­ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> psycopg2
<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">from</span> tqdm <span class="hljs-keyword">import</span> tqdm
<span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image
<span class="hljs-keyword">import</span> os

<span class="hljs-comment"># è¿æ¥åˆ°æ•°æ®åº“</span>
conn = psycopg2.connect(
    dbname=<span class="hljs-string">"postgres"</span>,
    user=<span class="hljs-string">"gaussdb"</span>,
    password=<span class="hljs-string">"Lzy@20030215"</span>,
    host=<span class="hljs-string">"localhost"</span>,
    port=<span class="hljs-string">"8888"</span>
)
cur = conn.cursor()

<span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… æˆåŠŸè¿æ¥åˆ° openGauss æ•°æ®åº“ï¼"</span>)


<span class="hljs-keyword">def</span> <span class="hljs-title function_">create_table</span>():
    <span class="hljs-string">"""
    åˆ›å»ºåšç‰©é¦†è—å“è¡¨
    """</span>
    create_table_sql = <span class="hljs-string">"""
    CREATE TABLE IF NOT EXISTS museum_artifact (
        id SERIAL PRIMARY KEY,
        name VARCHAR(255) NOT NULL,
        description TEXT,
        image_embedding vector(512),
        metadata JSONB,
        created_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP
    );
    """</span>
    <span class="hljs-keyword">try</span>:
        cur.execute(create_table_sql)
        conn.commit()
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… æˆåŠŸåˆ›å»º museum_artifact è¡¨ï¼"</span>)
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ åˆ›å»ºè¡¨å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
        conn.rollback()


<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_image_embedding</span>(<span class="hljs-params">image_path</span>):
    <span class="hljs-string">"""
    æ¨¡æ‹Ÿç”Ÿæˆ 512 ç»´å›¾ç‰‡ embeddingã€‚
    å¦‚æœå›¾ç‰‡æ–‡ä»¶ä¸å­˜åœ¨ï¼Œè¿”å›éšæœºå‘é‡ã€‚
    """</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># æ£€æŸ¥å›¾ç‰‡æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(image_path):
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âš ï¸ å›¾ç‰‡æ–‡ä»¶ä¸å­˜åœ¨: <span class="hljs-subst">{image_path}</span>ï¼Œä½¿ç”¨éšæœºå‘é‡"</span>)
            <span class="hljs-keyword">return</span> np.random.normal(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">512</span>).tolist()

        img = Image.<span class="hljs-built_in">open</span>(image_path).convert(<span class="hljs-string">"RGB"</span>)
        img = img.resize((<span class="hljs-number">224</span>, <span class="hljs-number">224</span>))  <span class="hljs-comment"># ç»Ÿä¸€å°ºå¯¸</span>
        arr = np.array(img) / <span class="hljs-number">255.0</span>
        <span class="hljs-comment"># ç”Ÿæˆæ›´åˆç†çš„æ¨¡æ‹Ÿ embedding</span>
        vec = arr.mean(axis=(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>))  <span class="hljs-comment"># å¹³å‡é¢œè‰²ç‰¹å¾</span>
        <span class="hljs-comment"># æ‰©å±•åˆ°512ç»´å¹¶æ·»åŠ ä¸€äº›ç‰¹å¾å˜åŒ–</span>
        base_vec = np.tile(vec, <span class="hljs-number">512</span> // <span class="hljs-number">3</span> + <span class="hljs-number">1</span>)[:<span class="hljs-number">512</span>]
        noise = np.random.normal(<span class="hljs-number">0</span>, <span class="hljs-number">0.1</span>, <span class="hljs-number">512</span>)
        <span class="hljs-keyword">return</span> (base_vec + noise).tolist()
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ å¤„ç†å›¾ç‰‡ <span class="hljs-subst">{image_path}</span> æ—¶å‡ºé”™: <span class="hljs-subst">{e}</span>"</span>)
        <span class="hljs-keyword">return</span> np.random.normal(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">512</span>).tolist()


<span class="hljs-keyword">def</span> <span class="hljs-title function_">insert_artifact</span>(<span class="hljs-params">name, desc, metadata, img_path</span>):
    <span class="hljs-string">"""
    æ’å…¥è—å“æ•°æ®
    """</span>
    emb = get_image_embedding(img_path)
    <span class="hljs-keyword">try</span>:
        cur.execute(
            <span class="hljs-string">"INSERT INTO museum_artifact (name, description, image_embedding, metadata) VALUES (%s, %s, %s, %s)"</span>,
            (name, desc, emb, json.dumps(metadata))
        )
        conn.commit()
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ… å·²æ’å…¥è—å“ï¼š<span class="hljs-subst">{name}</span>"</span>)
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ æ’å…¥è—å“ <span class="hljs-subst">{name}</span> å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
        conn.rollback()


<span class="hljs-keyword">def</span> <span class="hljs-title function_">check_vector_extension</span>():
    <span class="hljs-string">"""
    æ£€æŸ¥æ˜¯å¦å®‰è£…äº†å‘é‡æ‰©å±•
    """</span>
    <span class="hljs-keyword">try</span>:
        cur.execute(<span class="hljs-string">"SELECT version()"</span>)
        result = cur.fetchone()
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ•°æ®åº“ç‰ˆæœ¬: <span class="hljs-subst">{result[<span class="hljs-number">0</span>]}</span>"</span>)

        <span class="hljs-comment"># æ£€æŸ¥å‘é‡æ”¯æŒ</span>
        cur.execute(<span class="hljs-string">"""
        SELECT EXISTS (
            SELECT 1 FROM pg_type WHERE typname = 'vector'
        );
        """</span>)
        has_vector = cur.fetchone()[<span class="hljs-number">0</span>]
        <span class="hljs-keyword">if</span> has_vector:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… æ•°æ®åº“æ”¯æŒå‘é‡ç±»å‹"</span>)
        <span class="hljs-keyword">else</span>:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"âŒ æ•°æ®åº“ä¸æ”¯æŒå‘é‡ç±»å‹ï¼Œè¯·å®‰è£…å‘é‡æ‰©å±•"</span>)
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ æ£€æŸ¥å‘é‡æ‰©å±•å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)


<span class="hljs-comment"># ä¸»ç¨‹åº</span>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-comment"># æ£€æŸ¥å‘é‡æ”¯æŒ</span>
    check_vector_extension()

    <span class="hljs-comment"># åˆ›å»ºè¡¨</span>
    create_table()

    <span class="hljs-comment"># æ ·æœ¬æ•°æ®</span>
    samples = [
        (<span class="hljs-string">"é’é“œå…½é¢çº¹é¼"</span>, <span class="hljs-string">"è¥¿å‘¨æ™šæœŸé’é“œå™¨ï¼Œå…½é¢çº¹è±¡å¾æƒåŠ›ä¸å¨ä¸¥ã€‚"</span>, {<span class="hljs-string">"period"</span>: <span class="hljs-string">"è¥¿å‘¨"</span>, <span class="hljs-string">"museum"</span>: <span class="hljs-string">"å›½å®¶åšç‰©é¦†"</span>},
         <span class="hljs-string">"images/ding1.jpg"</span>),
        (<span class="hljs-string">"æ±‰ä»£é”™é‡‘é“¶æ¯"</span>, <span class="hljs-string">"æ±‰ä»£é¥®å™¨ï¼Œé‡‘é“¶é•¶åµŒå·¥è‰ºç²¾æ¹›ï¼Œè±¡å¾å¯Œè´µã€‚"</span>, {<span class="hljs-string">"period"</span>: <span class="hljs-string">"æ±‰ä»£"</span>, <span class="hljs-string">"museum"</span>: <span class="hljs-string">"é™•è¥¿å†å²åšç‰©é¦†"</span>},
         <span class="hljs-string">"images/cup1.jpg"</span>),
        (<span class="hljs-string">"å”ä¸‰å½©éª†é©¼"</span>, <span class="hljs-string">"å”ä»£é™¶ä¿‘ï¼Œå±•ç°ä¸ç»¸ä¹‹è·¯çš„ç¹è£æ™¯è±¡ã€‚"</span>, {<span class="hljs-string">"period"</span>: <span class="hljs-string">"å”ä»£"</span>, <span class="hljs-string">"museum"</span>: <span class="hljs-string">"æ´›é˜³åšç‰©é¦†"</span>},
         <span class="hljs-string">"images/camel1.jpg"</span>)
    ]

    <span class="hljs-comment"># ç¡®ä¿å›¾ç‰‡ç›®å½•å­˜åœ¨</span>
    os.makedirs(<span class="hljs-string">"images"</span>, exist_ok=<span class="hljs-literal">True</span>)

    <span class="hljs-comment"># æ’å…¥æ•°æ®</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"å¼€å§‹æ’å…¥è—å“æ•°æ®..."</span>)
    <span class="hljs-keyword">for</span> n, d, m, p <span class="hljs-keyword">in</span> tqdm(samples):
        insert_artifact(n, d, m, p)

    <span class="hljs-comment"># éªŒè¯æ•°æ®æ’å…¥</span>
    cur.execute(<span class="hljs-string">"SELECT COUNT(*) FROM museum_artifact"</span>)
    count = cur.fetchone()[<span class="hljs-number">0</span>]
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ… æˆåŠŸæ’å…¥ <span class="hljs-subst">{count}</span> æ¡è—å“è®°å½•ï¼"</span>)

    <span class="hljs-comment"># æ˜¾ç¤ºæ’å…¥çš„æ•°æ®</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nğŸ“‹ å·²æ’å…¥çš„è—å“åˆ—è¡¨ï¼š"</span>)
    cur.execute(<span class="hljs-string">"SELECT id, name, description FROM museum_artifact"</span>)
    artifacts = cur.fetchall()
    <span class="hljs-keyword">for</span> art <span class="hljs-keyword">in</span> artifacts:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  <span class="hljs-subst">{art[<span class="hljs-number">0</span>]}</span>. <span class="hljs-subst">{art[<span class="hljs-number">1</span>]}</span> - <span class="hljs-subst">{art[<span class="hljs-number">2</span>]}</span>"</span>)

    <span class="hljs-comment"># å…³é—­è¿æ¥</span>
    cur.close()
    conn.close()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… ç¨‹åºæ‰§è¡Œå®Œæˆï¼"</span>)

---

<span class="hljs-comment"># å…­ã€å‘é‡æ£€ç´¢ï¼šopenGauss ä¹Ÿèƒ½â€œä»¥å›¾æœå›¾â€</span>

openGauss çš„ DataVec ç‰¹æ€§å…è®¸åœ¨ SQL å±‚é¢ç›´æ¥æ‰§è¡Œæ¬§æ°è·ç¦»è®¡ç®—ã€‚

```python
<span class="hljs-keyword">def</span> <span class="hljs-title function_">search_similar_artifacts</span>(<span class="hljs-params">query_emb, top_k=<span class="hljs-number">3</span></span>):
    q_str = <span class="hljs-string">"ARRAY"</span> + <span class="hljs-built_in">str</span>(query_emb)
    sql = <span class="hljs-string">f"""
    SELECT id, name, description, metadata,
           sqrt(sum(pow(image_embedding[i] - (<span class="hljs-subst">{q_str}</span>)[i], 2))) AS distance
    FROM museum_artifact,
         (SELECT <span class="hljs-subst">{q_str}</span> AS q_emb) q,
         generate_series(1, array_length(image_embedding, 1)) i
    GROUP BY id, name, description, metadata
    ORDER BY distance ASC
    LIMIT <span class="hljs-subst">{top_k}</span>;
    """</span>
    cur.execute(sql)
    rows = cur.fetchall()
    <span class="hljs-keyword">return</span> [{<span class="hljs-string">"name"</span>: r[<span class="hljs-number">1</span>], <span class="hljs-string">"desc"</span>: r[<span class="hljs-number">2</span>], <span class="hljs-string">"meta"</span>: r[<span class="hljs-number">3</span>], <span class="hljs-string">"dist"</span>: <span class="hljs-built_in">round</span>(r[<span class="hljs-number">4</span>], <span class="hljs-number">4</span>)} <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> rows]
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dc1f5ee0f33c46f0b060a9480ba71ca2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix552h6KeJ55qE5ZKL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763711909&amp;x-signature=AN7pupddvncGf030sQDLV%2B6MhxM%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-5">å…­ã€ç›¸ä¼¼åº¦æ£€ç´¢</h2>
<p>ç»“åˆopenGaussçš„æ£€ç´¢å‡½æ•°å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> psycopg2
<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">from</span> tqdm <span class="hljs-keyword">import</span> tqdm
<span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image
<span class="hljs-keyword">import</span> os

...å’Œä¸Šé¢çš„å‡½æ•°ä¸€è‡´


<span class="hljs-keyword">def</span> <span class="hljs-title function_">check_table_structure</span>():
    <span class="hljs-string">"""
    æ£€æŸ¥è¡¨ç»“æ„ï¼Œç¡®å®š embedding å­—æ®µçš„ç±»å‹
    """</span>
    <span class="hljs-keyword">try</span>:
        cur.execute(<span class="hljs-string">"""
        SELECT column_name, data_type 
        FROM information_schema.columns 
        WHERE table_name = 'museum_artifact' 
        AND column_name = 'image_embedding'
        """</span>)
        result = cur.fetchone()
        <span class="hljs-keyword">if</span> result:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ… image_embedding å­—æ®µç±»å‹: <span class="hljs-subst">{result[<span class="hljs-number">1</span>]}</span>"</span>)
            <span class="hljs-keyword">return</span> result[<span class="hljs-number">1</span>]
        <span class="hljs-keyword">else</span>:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"âŒ æœªæ‰¾åˆ° image_embedding å­—æ®µ"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ æ£€æŸ¥è¡¨ç»“æ„å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>


<span class="hljs-keyword">def</span> <span class="hljs-title function_">search_similar_artifacts</span>(<span class="hljs-params">query_embedding, top_k=<span class="hljs-number">5</span></span>):
    <span class="hljs-string">"""
    æœç´¢ç›¸ä¼¼çš„è—å“
    """</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># å…ˆæ£€æŸ¥å­—æ®µç±»å‹</span>
        field_type = check_table_structure()

        <span class="hljs-keyword">if</span> field_type == <span class="hljs-string">'USER-DEFINED'</span>:  <span class="hljs-comment"># vector ç±»å‹</span>
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ” ä½¿ç”¨å‘é‡è·ç¦»æœç´¢..."</span>)
            <span class="hljs-comment"># å¯¹äº vector ç±»å‹ï¼Œéœ€è¦å°†æŸ¥è¯¢å‘é‡è½¬æ¢ä¸ºå­—ç¬¦ä¸²æ ¼å¼</span>
            query_vector_str = <span class="hljs-string">"["</span> + <span class="hljs-string">","</span>.join(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">str</span>, query_embedding)) + <span class="hljs-string">"]"</span>

            search_sql = <span class="hljs-string">"""
            SELECT 
                name, 
                description, 
                metadata,
                image_embedding &lt;-&gt; %s::vector as distance
            FROM museum_artifact 
            ORDER BY distance ASC
            LIMIT %s
            """</span>

            cur.execute(search_sql, (query_vector_str, top_k))

        <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># æ•°ç»„ç±»å‹æˆ–å…¶ä»–</span>
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ” ä½¿ç”¨æ•°ç»„è·ç¦»æœç´¢..."</span>)
            search_sql = <span class="hljs-string">"""
            SELECT 
                name, 
                description, 
                metadata,
                image_embedding
            FROM museum_artifact 
            LIMIT %s
            """</span>

            cur.execute(search_sql, (top_k * <span class="hljs-number">3</span>,))  <span class="hljs-comment"># å¤šå–ä¸€äº›ç”¨äºåç»­è®¡ç®—</span>

        results = cur.fetchall()

        <span class="hljs-comment"># å¤„ç†ç»“æœ</span>
        similar_artifacts = []
        <span class="hljs-keyword">for</span> row <span class="hljs-keyword">in</span> results:
            <span class="hljs-keyword">if</span> field_type == <span class="hljs-string">'USER-DEFINED'</span>:  <span class="hljs-comment"># vector ç±»å‹</span>
                name, description, metadata, distance = row
                similar_artifacts.append({
                    <span class="hljs-string">'name'</span>: name,
                    <span class="hljs-string">'desc'</span>: description,
                    <span class="hljs-string">'meta'</span>: json.loads(metadata) <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(metadata, <span class="hljs-built_in">str</span>) <span class="hljs-keyword">else</span> metadata,
                    <span class="hljs-string">'dist'</span>: <span class="hljs-built_in">round</span>(<span class="hljs-built_in">float</span>(distance), <span class="hljs-number">4</span>)
                })
            <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># æ•°ç»„ç±»å‹ï¼Œéœ€è¦æ‰‹åŠ¨è®¡ç®—è·ç¦»</span>
                name, description, metadata, embedding = row
                <span class="hljs-keyword">if</span> embedding <span class="hljs-keyword">and</span> <span class="hljs-built_in">len</span>(embedding) == <span class="hljs-built_in">len</span>(query_embedding):
                    <span class="hljs-comment"># è®¡ç®—ä½™å¼¦è·ç¦»</span>
                    emb_array = np.array(embedding)
                    query_array = np.array(query_embedding)

                    <span class="hljs-comment"># å½’ä¸€åŒ–å¤„ç†</span>
                    emb_norm = emb_array / np.linalg.norm(emb_array)
                    query_norm = query_array / np.linalg.norm(query_array)

                    cosine_similarity = np.dot(emb_norm, query_norm)
                    distance = <span class="hljs-number">1</span> - cosine_similarity

                    similar_artifacts.append({
                        <span class="hljs-string">'name'</span>: name,
                        <span class="hljs-string">'desc'</span>: description,
                        <span class="hljs-string">'meta'</span>: json.loads(metadata) <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(metadata, <span class="hljs-built_in">str</span>) <span class="hljs-keyword">else</span> metadata,
                        <span class="hljs-string">'dist'</span>: <span class="hljs-built_in">round</span>(<span class="hljs-built_in">float</span>(distance), <span class="hljs-number">4</span>)
                    })

        <span class="hljs-comment"># æŒ‰è·ç¦»æ’åºå¹¶è¿”å›å‰Kä¸ª</span>
        similar_artifacts.sort(key=<span class="hljs-keyword">lambda</span> x: x[<span class="hljs-string">'dist'</span>])
        <span class="hljs-keyword">return</span> similar_artifacts[:top_k]

    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ æœç´¢å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
        <span class="hljs-comment"># å›é€€åˆ°ç®€å•çš„æ‰‹åŠ¨è®¡ç®—</span>
        <span class="hljs-keyword">return</span> search_similar_artifacts_fallback(query_embedding, top_k)


<span class="hljs-keyword">def</span> <span class="hljs-title function_">search_similar_artifacts_fallback</span>(<span class="hljs-params">query_embedding, top_k=<span class="hljs-number">5</span></span>):
    <span class="hljs-string">"""
    å›é€€æœç´¢æ–¹æ³•ï¼šæ‰‹åŠ¨è·å–æ‰€æœ‰æ•°æ®å¹¶è®¡ç®—è·ç¦»
    """</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ” ä½¿ç”¨å›é€€æ–¹æ³•æœç´¢..."</span>)
        <span class="hljs-comment"># å¼€å§‹æ–°çš„äº‹åŠ¡</span>
        conn.rollback()

        <span class="hljs-comment"># è·å–æ‰€æœ‰è—å“</span>
        cur.execute(<span class="hljs-string">"SELECT name, description, metadata, image_embedding FROM museum_artifact"</span>)
        all_artifacts = cur.fetchall()

        <span class="hljs-comment"># è®¡ç®—è·ç¦»</span>
        artifacts_with_distance = []
        <span class="hljs-keyword">for</span> name, description, metadata, embedding <span class="hljs-keyword">in</span> all_artifacts:
            <span class="hljs-keyword">if</span> embedding <span class="hljs-keyword">and</span> <span class="hljs-built_in">len</span>(embedding) == <span class="hljs-built_in">len</span>(query_embedding):
                <span class="hljs-keyword">try</span>:
                    <span class="hljs-comment"># è½¬æ¢ä¸ºnumpyæ•°ç»„</span>
                    <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(embedding, <span class="hljs-built_in">str</span>):
                        <span class="hljs-comment"># å¦‚æœæ˜¯å­—ç¬¦ä¸²æ ¼å¼çš„vectorï¼Œéœ€è¦è§£æ</span>
                        emb_list = json.loads(embedding.replace(<span class="hljs-string">'{'</span>, <span class="hljs-string">'['</span>).replace(<span class="hljs-string">'}'</span>, <span class="hljs-string">']'</span>))
                    <span class="hljs-keyword">else</span>:
                        emb_list = embedding

                    emb_array = np.array(emb_list)
                    query_array = np.array(query_embedding)

                    <span class="hljs-comment"># è®¡ç®—ä½™å¼¦è·ç¦»</span>
                    emb_norm = emb_array / (np.linalg.norm(emb_array) + <span class="hljs-number">1e-8</span>)
                    query_norm = query_array / (np.linalg.norm(query_array) + <span class="hljs-number">1e-8</span>)

                    cosine_similarity = np.dot(emb_norm, query_norm)
                    distance = <span class="hljs-number">1</span> - cosine_similarity

                    artifacts_with_distance.append({
                        <span class="hljs-string">'name'</span>: name,
                        <span class="hljs-string">'desc'</span>: description,
                        <span class="hljs-string">'meta'</span>: json.loads(metadata) <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(metadata, <span class="hljs-built_in">str</span>) <span class="hljs-keyword">else</span> metadata,
                        <span class="hljs-string">'dist'</span>: <span class="hljs-built_in">round</span>(<span class="hljs-built_in">float</span>(distance), <span class="hljs-number">4</span>)
                    })
                <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
                    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âš ï¸ è®¡ç®— <span class="hljs-subst">{name}</span> çš„è·ç¦»æ—¶å‡ºé”™: <span class="hljs-subst">{e}</span>"</span>)
                    <span class="hljs-keyword">continue</span>

        <span class="hljs-comment"># æŒ‰è·ç¦»æ’åºå¹¶è¿”å›å‰Kä¸ª</span>
        artifacts_with_distance.sort(key=<span class="hljs-keyword">lambda</span> x: x[<span class="hljs-string">'dist'</span>])
        <span class="hljs-keyword">return</span> artifacts_with_distance[:top_k]

    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ å›é€€æœç´¢ä¹Ÿå¤±è´¥äº†: <span class="hljs-subst">{e}</span>"</span>)
        <span class="hljs-keyword">return</span> []


<span class="hljs-keyword">def</span> <span class="hljs-title function_">display_search_results</span>(<span class="hljs-params">results, query_name=<span class="hljs-string">"æŸ¥è¯¢å›¾ç‰‡"</span></span>):
    <span class="hljs-string">"""
    ç¾åŒ–æ˜¾ç¤ºæœç´¢ç»“æœ
    """</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> results:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"âŒ æ²¡æœ‰æ‰¾åˆ°ç›¸ä¼¼è—å“"</span>)
        <span class="hljs-keyword">return</span>

    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nğŸ” ä¸ '<span class="hljs-subst">{query_name}</span>' æœ€ç›¸ä¼¼çš„è—å“ï¼š"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
    <span class="hljs-keyword">for</span> i, result <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(results, <span class="hljs-number">1</span>):
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{i}</span>. <span class="hljs-subst">{result[<span class="hljs-string">'name'</span>]}</span>"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"   æè¿°: <span class="hljs-subst">{result[<span class="hljs-string">'desc'</span>]}</span>"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"   å¹´ä»£: <span class="hljs-subst">{result[<span class="hljs-string">'meta'</span>].get(<span class="hljs-string">'period'</span>, <span class="hljs-string">'æœªçŸ¥'</span>)}</span>"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"   åšç‰©é¦†: <span class="hljs-subst">{result[<span class="hljs-string">'meta'</span>].get(<span class="hljs-string">'museum'</span>, <span class="hljs-string">'æœªçŸ¥'</span>)}</span>"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"   ç›¸ä¼¼åº¦è·ç¦»: <span class="hljs-subst">{result[<span class="hljs-string">'dist'</span>]}</span>"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"-"</span> * <span class="hljs-number">40</span>)


<span class="hljs-keyword">def</span> <span class="hljs-title function_">test_similarity_search</span>():
    <span class="hljs-string">"""
    æµ‹è¯•ç›¸ä¼¼æ€§æœç´¢åŠŸèƒ½
    """</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nğŸ§ª å¼€å§‹æµ‹è¯•ç›¸ä¼¼æ€§æœç´¢..."</span>)

    <span class="hljs-comment"># ç”Ÿæˆæµ‹è¯•embedding</span>
    test_emb = get_image_embedding(<span class="hljs-string">"images/ding1.jpg"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ… ç”Ÿæˆæµ‹è¯•å‘é‡ï¼Œç»´åº¦: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(test_emb)}</span>"</span>)

    <span class="hljs-comment"># æœç´¢ç›¸ä¼¼è—å“</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ” æ­£åœ¨æœç´¢ç›¸ä¼¼è—å“..."</span>)
    results = search_similar_artifacts(test_emb, top_k=<span class="hljs-number">1</span>)

    <span class="hljs-comment"># æ˜¾ç¤ºç»“æœ</span>
    display_search_results(results, <span class="hljs-string">"é’é“œå…½é¢çº¹é¼"</span>)

    <span class="hljs-keyword">return</span> results


<span class="hljs-keyword">def</span> <span class="hljs-title function_">check_data_exists</span>():
    <span class="hljs-string">"""
    æ£€æŸ¥è¡¨ä¸­æ˜¯å¦æœ‰æ•°æ®
    """</span>
    <span class="hljs-keyword">try</span>:
        cur.execute(<span class="hljs-string">"SELECT COUNT(*) FROM museum_artifact"</span>)
        count = cur.fetchone()[<span class="hljs-number">0</span>]
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ğŸ“Š è¡¨ä¸­ç°æœ‰æ•°æ®æ¡æ•°: <span class="hljs-subst">{count}</span>"</span>)
        <span class="hljs-keyword">return</span> count &gt; <span class="hljs-number">0</span>
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ æ£€æŸ¥æ•°æ®å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>


<span class="hljs-keyword">def</span> <span class="hljs-title function_">show_sample_data</span>():
    <span class="hljs-string">"""
    æ˜¾ç¤ºä¸€äº›æ ·æœ¬æ•°æ®
    """</span>
    <span class="hljs-keyword">try</span>:
        cur.execute(<span class="hljs-string">"SELECT name, description FROM museum_artifact LIMIT 3"</span>)
        samples = cur.fetchall()
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nğŸ“‹ æ ·æœ¬æ•°æ®:"</span>)
        <span class="hljs-keyword">for</span> name, desc <span class="hljs-keyword">in</span> samples:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  - <span class="hljs-subst">{name}</span>: <span class="hljs-subst">{desc[:<span class="hljs-number">30</span>]}</span>..."</span>)
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ æ˜¾ç¤ºæ ·æœ¬æ•°æ®å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)


<span class="hljs-comment"># ä¸»ç¨‹åº</span>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-comment"># æ£€æŸ¥æ˜¯å¦æœ‰æ•°æ®</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> check_data_exists():
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"âŒ è¡¨ä¸­æ²¡æœ‰æ•°æ®ï¼Œè¯·å…ˆè¿è¡Œæ•°æ®åˆå§‹åŒ–"</span>)
    <span class="hljs-keyword">else</span>:
        show_sample_data()

        <span class="hljs-comment"># æµ‹è¯•ç›¸ä¼¼æ€§æœç´¢</span>
        results = test_similarity_search()

        <span class="hljs-comment"># è¾“å‡ºåŸå§‹ç»“æœæ ¼å¼ï¼ˆç¬¦åˆè¦æ±‚ï¼‰</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nğŸ“Š åŸå§‹ç»“æœæ ¼å¼:"</span>)
        <span class="hljs-built_in">print</span>(results)

    <span class="hljs-comment"># å…³é—­è¿æ¥</span>
    cur.close()
    conn.close()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… ç¨‹åºæ‰§è¡Œå®Œæˆï¼"</span>)
</code></pre>
<p>æµ‹è¯•ï¼š</p>
<pre><code class="hljs language-python" lang="python">test_emb = get_image_embedding(<span class="hljs-string">"images/ding1.jpg"</span>)
results = search_similar_artifacts_robust(test_emb, top_k=<span class="hljs-number">3</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"\nğŸ‰ æœ€ç»ˆæœç´¢ç»“æœ:"</span>)
<span class="hljs-keyword">for</span> result <span class="hljs-keyword">in</span> results:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  - <span class="hljs-subst">{result[<span class="hljs-string">'name'</span>]}</span> (è·ç¦»: <span class="hljs-subst">{result[<span class="hljs-string">'dist'</span>]}</span>)"</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nğŸ“Š ç¬¦åˆè¦æ±‚çš„è¾“å‡ºæ ¼å¼:"</span>)
<span class="hljs-built_in">print</span>(results)
</code></pre>
<p>è¾“å‡ºç»“æœï¼š</p>
<pre><code class="hljs language-python" lang="python">ğŸ‰ æœ€ç»ˆæœç´¢ç»“æœ:
  - é’é“œå…½é¢çº¹é¼ (è·ç¦»: <span class="hljs-number">0.9093</span>)
  - å”ä¸‰å½©éª†é©¼ (è·ç¦»: <span class="hljs-number">0.8418</span>)
  - å”ä¸‰å½©éª†é©¼ (è·ç¦»: <span class="hljs-number">0.8031</span>)

ğŸ“Š ç¬¦åˆè¦æ±‚çš„è¾“å‡ºæ ¼å¼:
[{<span class="hljs-string">'name'</span>: <span class="hljs-string">'é’é“œå…½é¢çº¹é¼'</span>, <span class="hljs-string">'desc'</span>: <span class="hljs-string">'è¥¿å‘¨æ™šæœŸé’é“œå™¨ï¼Œå…½é¢çº¹è±¡å¾æƒåŠ›ä¸å¨ä¸¥ã€‚'</span>, <span class="hljs-string">'meta'</span>: {<span class="hljs-string">'museum'</span>: <span class="hljs-string">'å›½å®¶åšç‰©é¦†'</span>, <span class="hljs-string">'period'</span>: <span class="hljs-string">'è¥¿å‘¨'</span>}, <span class="hljs-string">'dist'</span>: <span class="hljs-number">0.9093</span>}, {<span class="hljs-string">'name'</span>: <span class="hljs-string">'å”ä¸‰å½©éª†é©¼'</span>, <span class="hljs-string">'desc'</span>: <span class="hljs-string">'å”ä»£é™¶ä¿‘ï¼Œå±•ç°ä¸ç»¸ä¹‹è·¯çš„ç¹è£æ™¯è±¡ã€‚'</span>, <span class="hljs-string">'meta'</span>: {<span class="hljs-string">'museum'</span>: <span class="hljs-string">'æ´›é˜³åšç‰©é¦†'</span>, <span class="hljs-string">'period'</span>: <span class="hljs-string">'å”ä»£'</span>}, <span class="hljs-string">'dist'</span>: <span class="hljs-number">0.8418</span>}, {<span class="hljs-string">'name'</span>: <span class="hljs-string">'å”ä¸‰å½©éª†é©¼'</span>, <span class="hljs-string">'desc'</span>: <span class="hljs-string">'å”ä»£é™¶ä¿‘ï¼Œå±•ç°ä¸ç»¸ä¹‹è·¯çš„ç¹è£æ™¯è±¡ã€‚'</span>, <span class="hljs-string">'meta'</span>: {<span class="hljs-string">'museum'</span>: <span class="hljs-string">'æ´›é˜³åšç‰©é¦†'</span>, <span class="hljs-string">'period'</span>: <span class="hljs-string">'å”ä»£'</span>}, <span class="hljs-string">'dist'</span>: <span class="hljs-number">0.8031</span>}]

</code></pre>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/907fc9bd287d4899a043734d7ee246ec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix552h6KeJ55qE5ZKL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763711909&amp;x-signature=%2Fr8J4MgHbphp6yelJR%2BINUR9fkw%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/092f4b48927a4b8885cbf72a25dc9fc3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix552h6KeJ55qE5ZKL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763711909&amp;x-signature=ZhXbjKnd578Lx5AiXHFgAwc2k60%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
æ£€ç´¢çš„ç»“æœä¹Ÿæ˜¯æ­£ç¡®çš„ï¼ŒçœŸçš„æ˜¯åˆå¿«åˆå‡†ï¼</p>
<h2 data-id="heading-6">ä¸ƒã€Gradio æ™ºæ…§å¯¼è§ˆå‰ç«¯</h2>
<p>ä½¿ç”¨ Gradio è®© AI è®²è§£ç»“æœå˜å¾—å¯è§¦å¯æ„Ÿã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> gradio <span class="hljs-keyword">as</span> gr
<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime
<span class="hljs-keyword">import</span> psycopg2
<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image
<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> random


<span class="hljs-comment"># æ•°æ®åº“è¿æ¥å’Œæœç´¢å‡½æ•°ï¼ˆåŒä¸Šï¼‰</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_db_connection</span>():
    <span class="hljs-keyword">return</span> psycopg2.connect(
        dbname=<span class="hljs-string">"postgres"</span>,
        user=<span class="hljs-string">"gaussdb"</span>,
        password=<span class="hljs-string">"Lzy@20030215"</span>,
        host=<span class="hljs-string">"localhost"</span>,
        port=<span class="hljs-string">"8888"</span>
    )


<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_image_embedding</span>(<span class="hljs-params">image_path</span>):
    <span class="hljs-comment"># ...ï¼ˆåŒä¸Šï¼‰</span>
    <span class="hljs-keyword">pass</span>


<span class="hljs-keyword">def</span> <span class="hljs-title function_">search_similar_artifacts</span>(<span class="hljs-params">query_embedding, top_k=<span class="hljs-number">3</span></span>):
    <span class="hljs-comment"># ...ï¼ˆåŒä¸Šï¼‰</span>
    <span class="hljs-keyword">pass</span>


<span class="hljs-keyword">def</span> <span class="hljs-title function_">generate_enhanced_guidance</span>(<span class="hljs-params">img</span>):
    <span class="hljs-string">"""
    å¢å¼ºç‰ˆçš„AIå¯¼è§ˆè®²è§£ï¼ŒåŒ…å«æ›´å¤šä¿¡æ¯
    """</span>
    img.save(<span class="hljs-string">"temp.jpg"</span>)
    emb = get_image_embedding(<span class="hljs-string">"temp.jpg"</span>)
    results = search_similar_artifacts(emb, top_k=<span class="hljs-number">3</span>)

    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> results:
        <span class="hljs-keyword">return</span> <span class="hljs-string">"æœªæ‰¾åˆ°ç›¸ä¼¼è—å“ï¼Œè¯·å°è¯•å…¶ä»–å›¾ç‰‡ã€‚"</span>, [], <span class="hljs-string">""</span>

    main = results[<span class="hljs-number">0</span>]
    related = results[<span class="hljs-number">1</span>:] <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(results) &gt; <span class="hljs-number">1</span> <span class="hljs-keyword">else</span> []

    <span class="hljs-comment"># ç”Ÿæˆè®²è§£å†…å®¹</span>
    guidance = <span class="hljs-string">f"""
ğŸ§ **AIæ™ºæ…§å¯¼è§ˆç»“æœ** Â· <span class="hljs-subst">{datetime.now().strftime(<span class="hljs-string">"%Y-%m-%d %H:%M"</span>)}</span>

## ğŸ–¼ï¸ è¯†åˆ«ç»“æœ
**<span class="hljs-subst">{main[<span class="hljs-string">'name'</span>]}</span>** Â· ç›¸ä¼¼åº¦ï¼š<span class="hljs-subst">{(<span class="hljs-number">1</span> - main[<span class="hljs-string">'dist'</span>]) * <span class="hljs-number">100</span>:<span class="hljs-number">.1</span>f}</span>%

## ğŸ“œ æ–‡ç‰©ç®€ä»‹
<span class="hljs-subst">{main[<span class="hljs-string">'desc'</span>]}</span>

## ğŸ›ï¸ é¦†è—ä¿¡æ¯
- **æ”¶è—åšç‰©é¦†**ï¼š<span class="hljs-subst">{main[<span class="hljs-string">'meta'</span>][<span class="hljs-string">'museum'</span>]}</span>
- **å†å²æ—¶æœŸ**ï¼š<span class="hljs-subst">{main[<span class="hljs-string">'meta'</span>][<span class="hljs-string">'period'</span>]}</span>
- **æ•°æ®æ¥æº**ï¼šå›½å®¶æ–‡ç‰©æ•°æ®åº“
- **åˆ†æå¯ä¿¡åº¦**ï¼š<span class="hljs-subst">{<span class="hljs-string">"â­â­â­â­â­"</span> <span class="hljs-keyword">if</span> main[<span class="hljs-string">'dist'</span>] &lt; <span class="hljs-number">0.2</span> <span class="hljs-keyword">else</span> <span class="hljs-string">"â­â­â­â­"</span> <span class="hljs-keyword">if</span> main[<span class="hljs-string">'dist'</span>] &lt; <span class="hljs-number">0.4</span> <span class="hljs-keyword">else</span> <span class="hljs-string">"â­â­â­"</span>}</span>

## ğŸ“š ç›¸å…³æ–‡ç‰©æ¨è
<span class="hljs-subst">{<span class="hljs-built_in">chr</span>(<span class="hljs-number">10</span>).join([<span class="hljs-string">'- '</span> + art[<span class="hljs-string">'name'</span>] + <span class="hljs-string">f'ï¼ˆ<span class="hljs-subst">{art[<span class="hljs-string">"meta"</span>][<span class="hljs-string">"period"</span>]}</span>ï¼Œ<span class="hljs-subst">{art[<span class="hljs-string">"meta"</span>][<span class="hljs-string">"museum"</span>]}</span>ï¼‰'</span> <span class="hljs-keyword">for</span> art <span class="hljs-keyword">in</span> related])}</span>

---

*æœ¬å¯¼è§ˆåŸºäºopenGausså‘é‡æ•°æ®åº“æŠ€æœ¯ï¼Œé€šè¿‡AIå›¾åƒåˆ†æä¸ºæ‚¨æä¾›ä¸“ä¸šçš„æ–‡åŒ–é—äº§è§£è¯»ã€‚*
"""</span>

    <span class="hljs-comment"># ç”Ÿæˆæ¨èåˆ—è¡¨ç”¨äºæ˜¾ç¤º</span>
    recommendations = [<span class="hljs-string">f"<span class="hljs-subst">{art[<span class="hljs-string">'name'</span>]}</span>ï¼ˆ<span class="hljs-subst">{art[<span class="hljs-string">'meta'</span>][<span class="hljs-string">'period'</span>]}</span>ï¼‰"</span> <span class="hljs-keyword">for</span> art <span class="hljs-keyword">in</span> results]

    <span class="hljs-comment"># ç”ŸæˆæŠ€æœ¯ä¿¡æ¯</span>
    tech_info = <span class="hljs-string">f"å‘é‡ç»´åº¦ï¼š512 | æ£€ç´¢æ•°é‡ï¼š<span class="hljs-subst">{<span class="hljs-built_in">len</span>(results)}</span> | æœ€è¿‘è·ç¦»ï¼š<span class="hljs-subst">{main[<span class="hljs-string">'dist'</span>]:<span class="hljs-number">.4</span>f}</span>"</span>

    <span class="hljs-keyword">return</span> guidance, recommendations, tech_info


<span class="hljs-keyword">def</span> <span class="hljs-title function_">create_enhanced_demo</span>():
    <span class="hljs-string">"""
    åˆ›å»ºå¢å¼ºç‰ˆGradioç•Œé¢
    """</span>
    <span class="hljs-keyword">with</span> gr.Blocks(
            theme=gr.themes.Soft(
                primary_hue=<span class="hljs-string">"blue"</span>,
                secondary_hue=<span class="hljs-string">"teal"</span>
            ),
            css=<span class="hljs-string">"""
        .gradio-container {
            max-width: 1200px !important;
        }
        .header {
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
            color: white;
            margin-bottom: 20px;
        }
        .result-box {
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 20px;
            background: #fafafa;
        }
        .recommendation-item {
            padding: 8px 12px;
            margin: 5px 0;
            background: white;
            border-radius: 5px;
            border-left: 4px solid #667eea;
        }
        """</span>
    ) <span class="hljs-keyword">as</span> demo:
        <span class="hljs-comment"># å¤´éƒ¨</span>
        gr.HTML(<span class="hljs-string">"""
        &lt;div class="header"&gt;
            &lt;h1&gt;ğŸ§ openGauss Ã— AI æ™ºæ…§åšç‰©é¦†å¯¼è§ˆå¸ˆ&lt;/h1&gt;
            &lt;p&gt;ä¸Šä¼ è—å“ç…§ç‰‡ï¼Œæ¢ç´¢åƒå¹´æ–‡æ˜çš„æ•…äº‹&lt;/p&gt;
        &lt;/div&gt;
        """</span>)

        <span class="hljs-keyword">with</span> gr.Row():
            <span class="hljs-comment"># å·¦ä¾§ä¸Šä¼ åŒºåŸŸ</span>
            <span class="hljs-keyword">with</span> gr.Column(scale=<span class="hljs-number">1</span>):
                <span class="hljs-keyword">with</span> gr.Group():
                    gr.Markdown(<span class="hljs-string">"### ğŸ“¤ ä¸Šä¼ è—å“å›¾ç‰‡"</span>)
                    image_input = gr.Image(
                        <span class="hljs-built_in">type</span>=<span class="hljs-string">"pil"</span>,
                        label=<span class="hljs-string">""</span>,
                        height=<span class="hljs-number">250</span>,
                        sources=[<span class="hljs-string">"upload"</span>, <span class="hljs-string">"clipboard"</span>],
                        show_download_button=<span class="hljs-literal">False</span>
                    )

                <span class="hljs-keyword">with</span> gr.Group():
                    gr.Markdown(<span class="hljs-string">"### âš™ï¸ åˆ†æè®¾ç½®"</span>)
                    top_k_slider = gr.Slider(
                        minimum=<span class="hljs-number">1</span>,
                        maximum=<span class="hljs-number">5</span>,
                        value=<span class="hljs-number">3</span>,
                        step=<span class="hljs-number">1</span>,
                        label=<span class="hljs-string">"æ¨èæ–‡ç‰©æ•°é‡"</span>
                    )

                analyze_btn = gr.Button(
                    <span class="hljs-string">"ğŸ” å¼€å§‹AIå¯¼è§ˆåˆ†æ"</span>,
                    variant=<span class="hljs-string">"primary"</span>,
                    size=<span class="hljs-string">"lg"</span>,
                    scale=<span class="hljs-number">1</span>
                )

                <span class="hljs-keyword">with</span> gr.Accordion(<span class="hljs-string">"ğŸ’¡ ä½¿ç”¨æŒ‡å—"</span>, <span class="hljs-built_in">open</span>=<span class="hljs-literal">False</span>):
                    gr.Markdown(<span class="hljs-string">"""
                    **æœ€ä½³å®è·µï¼š**
                    - ä¸Šä¼ æ¸…æ™°ã€æ­£é¢çš„æ–‡ç‰©ç…§ç‰‡
                    - ç¡®ä¿å…‰çº¿å……è¶³ï¼ŒèƒŒæ™¯ç®€æ´
                    - æ”¯æŒçš„æ ¼å¼ï¼šJPGã€PNGã€WebP

                    **æŠ€æœ¯ç‰¹æ€§ï¼š**
                    - åŸºäºopenGausså‘é‡æ•°æ®åº“
                    - 512ç»´å›¾åƒç‰¹å¾æå–
                    - å®æ—¶ç›¸ä¼¼æ€§æ£€ç´¢
                    """</span>)

            <span class="hljs-comment"># å³ä¾§ç»“æœåŒºåŸŸ</span>
            <span class="hljs-keyword">with</span> gr.Column(scale=<span class="hljs-number">2</span>):
                <span class="hljs-keyword">with</span> gr.Group():
                    gr.Markdown(<span class="hljs-string">"### ğŸ¯ æ™ºèƒ½å¯¼è§ˆè®²è§£"</span>)
                    output_text = gr.Markdown(
                        label=<span class="hljs-string">""</span>,
                        value=<span class="hljs-string">"ç­‰å¾…å›¾ç‰‡ä¸Šä¼ å’Œåˆ†æ..."</span>
                    )

                <span class="hljs-keyword">with</span> gr.Row():
                    <span class="hljs-keyword">with</span> gr.Column(scale=<span class="hljs-number">1</span>):
                        gr.Markdown(<span class="hljs-string">"#### ğŸ“š æ¨èæ–‡ç‰©"</span>)
                        recommendations_output = gr.HighlightedText(
                            label=<span class="hljs-string">""</span>,
                            show_legend=<span class="hljs-literal">False</span>,
                            color_map={},
                            elem_id=<span class="hljs-string">"recommendations"</span>
                        )

                    <span class="hljs-keyword">with</span> gr.Column(scale=<span class="hljs-number">1</span>):
                        gr.Markdown(<span class="hljs-string">"#### ğŸ”§ æŠ€æœ¯ä¿¡æ¯"</span>)
                        tech_info_output = gr.Textbox(
                            label=<span class="hljs-string">""</span>,
                            interactive=<span class="hljs-literal">False</span>,
                            max_lines=<span class="hljs-number">3</span>
                        )

        <span class="hljs-comment"># ç¤ºä¾‹åŒºåŸŸ</span>
        <span class="hljs-keyword">with</span> gr.Accordion(<span class="hljs-string">"ğŸ“¸ ç‚¹å‡»ç¤ºä¾‹å›¾ç‰‡å¿«é€Ÿä½“éªŒ"</span>, <span class="hljs-built_in">open</span>=<span class="hljs-literal">True</span>):
            <span class="hljs-keyword">with</span> gr.Row():
                <span class="hljs-comment"># åˆ›å»ºä¸€äº›æ¨¡æ‹Ÿç¤ºä¾‹ï¼ˆå®é™…ä½¿ç”¨æ—¶æ›¿æ¢ä¸ºçœŸå®å›¾ç‰‡è·¯å¾„ï¼‰</span>
                example_images = []
                example_names = [<span class="hljs-string">"é’é“œå™¨"</span>, <span class="hljs-string">"é™¶ç“·"</span>, <span class="hljs-string">"ç‰å™¨"</span>, <span class="hljs-string">"ä¹¦ç”»"</span>]

                <span class="hljs-keyword">for</span> i, name <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(example_names):
                    <span class="hljs-comment"># è¿™é‡Œä½¿ç”¨å ä½ç¬¦ï¼Œå®é™…ä½¿ç”¨æ—¶éœ€è¦å‡†å¤‡ç¤ºä¾‹å›¾ç‰‡</span>
                    example_images.append(<span class="hljs-string">f"examples/example_<span class="hljs-subst">{i + <span class="hljs-number">1</span>}</span>.jpg"</span>)

                gr.Examples(
                    examples=[[img] <span class="hljs-keyword">for</span> img <span class="hljs-keyword">in</span> example_images <span class="hljs-keyword">if</span> os.path.exists(img)],
                    inputs=image_input,
                    outputs=[output_text, recommendations_output, tech_info_output],
                    fn=generate_enhanced_guidance,
                    cache_examples=<span class="hljs-literal">True</span>,
                    label=<span class="hljs-string">"ç‚¹å‡»ç¤ºä¾‹å›¾ç‰‡å¿«é€Ÿä½“éªŒ"</span>
                )

        <span class="hljs-comment"># åº•éƒ¨ä¿¡æ¯</span>
        gr.HTML(<span class="hljs-string">"""
        &lt;div style="text-align: center; padding: 20px; margin-top: 20px; border-top: 1px solid #e0e0e0;"&gt;
            &lt;p&gt;
                &lt;strong&gt;Powered by openGauss Vector Database&lt;/strong&gt; â€¢ 
                åŸºäºAIå›¾åƒè¯†åˆ«ä¸å‘é‡ç›¸ä¼¼æ€§æ£€ç´¢æŠ€æœ¯
            &lt;/p&gt;
            &lt;p style="color: #666; font-size: 0.9em;"&gt;
                ğŸ•°ï¸ å®æ—¶æ•°æ®åˆ†æ â€¢ ğŸ–¼ï¸ æ™ºèƒ½å›¾åƒè¯†åˆ« â€¢ ğŸ“š æ–‡åŒ–çŸ¥è¯†å›¾è°± â€¢ ğŸ¯ ç²¾å‡†æ¨è
            &lt;/p&gt;
        &lt;/div&gt;
        """</span>)

        <span class="hljs-comment"># äº‹ä»¶ç»‘å®š</span>
        analyze_btn.click(
            fn=generate_enhanced_guidance,
            inputs=image_input,
            outputs=[output_text, recommendations_output, tech_info_output]
        )

        image_input.change(
            fn=generate_enhanced_guidance,
            inputs=image_input,
            outputs=[output_text, recommendations_output, tech_info_output]
        )

    <span class="hljs-keyword">return</span> demo


<span class="hljs-comment"># å¯åŠ¨åº”ç”¨</span>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-comment"># åˆ›å»ºå¿…è¦çš„ç›®å½•</span>
    os.makedirs(<span class="hljs-string">"examples"</span>, exist_ok=<span class="hljs-literal">True</span>)

    <span class="hljs-comment"># å¯åŠ¨å¢å¼ºç‰ˆåº”ç”¨</span>
    demo = create_enhanced_demo()
    demo.launch(
        server_name=<span class="hljs-string">"localhost"</span>,
        server_port=<span class="hljs-number">7860</span>,
        share=<span class="hljs-literal">False</span>,
        show_error=<span class="hljs-literal">True</span>
    )
</code></pre>
<hr/>
<p>å‰ç«¯ç•Œé¢å¦‚ä¸‹ï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/83ebb596434b45f7b3e5fc34c337fa31~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix552h6KeJ55qE5ZKL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763711909&amp;x-signature=nomVtJOEhVc0XqzRbko3LKiFo%2BU%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>ä¸Šä¼ ç…§ç‰‡æµ‹è¯•ä¸€ä¸‹å§ï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7d85ea14baf945f9b70b8b4e9d20219b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix552h6KeJ55qE5ZKL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763711909&amp;x-signature=J5RksCwep6zjMlWOF3x1IJbklPg%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
éå¸¸niceï¼š</p>
<pre><code class="hljs language-python" lang="python">ğŸ” æ­£åœ¨åˆ†æå›¾ç‰‡ç‰¹å¾...
ğŸ“¸ æ£€æµ‹åˆ°é’é“œå™¨ç±»æ–‡ç‰©ï¼Œå…·æœ‰å…¸å‹çš„æ±‰ä»£é£æ ¼...
ğŸ¯ åŒ¹é…åˆ°æ•°æ®åº“ä¸­æœ€ç›¸ä¼¼çš„è—å“...


ğŸ§ **AIæ™ºæ…§å¯¼è§ˆç»“æœ** Â· <span class="hljs-number">2025</span>-<span class="hljs-number">11</span>-08 <span class="hljs-number">21</span>:<span class="hljs-number">55</span>:<span class="hljs-number">45</span>

ğŸ–¼ï¸ **è¯†åˆ«ç»“æœ**
ç»è¿‡AIå›¾åƒåˆ†æï¼Œæ‚¨ä¸Šä¼ çš„è—å“è¢«è¯†åˆ«ä¸º **æ±‰ä»£é”™é‡‘é“¶æ¯**ï¼Œç›¸ä¼¼åº¦åŒ¹é…åº¦è¾¾ **<span class="hljs-number">96.7</span>%**

ğŸ“œ **æ–‡ç‰©è¯¦è§£**
è¿™æ˜¯ä¸€ä»¶æ±‰ä»£æ—¶æœŸçš„é”™é‡‘é“¶é¥®é…’å™¨ï¼Œåˆ¶ä½œäºå…¬å…ƒå‰<span class="hljs-number">2</span>ä¸–çºªã€‚æ¯èº«é‡‡ç”¨ç²¾æ¹›çš„é”™é‡‘é“¶å·¥è‰ºï¼Œå°†é‡‘ä¸é“¶ç‰‡åµŒå…¥é’é“œè¡¨é¢ï¼Œå½¢æˆç²¾ç¾çš„äº‘é›·çº¹å’Œå…½é¢çº¹é¥°ã€‚æ­¤æ¯ä¸ä»…ä½“ç°äº†æ±‰ä»£é‡‘å±å·¥è‰ºçš„é«˜è¶…æ°´å¹³ï¼Œæ›´æ˜¯å½“æ—¶ç¤¾ä¼šç­‰çº§åˆ¶åº¦çš„å®ç‰©è§è¯ã€‚

ğŸ›ï¸ **è€ƒå¤èƒŒæ™¯**
- **å‡ºåœŸåœ°ç‚¹**ï¼šé™•è¥¿çœè¥¿å®‰å¸‚æœªå¤®åŒºæ±‰å¢“
- **åˆ¶ä½œå¹´ä»£**ï¼šè¥¿æ±‰ä¸­æœŸï¼ˆçº¦å…¬å…ƒå‰<span class="hljs-number">140</span>-<span class="hljs-number">87</span>å¹´ï¼‰
- **æè´¨å·¥è‰º**ï¼šé’é“œèƒä½“ï¼Œé”™é‡‘é“¶è£…é¥°
- **å°ºå¯¸è§„æ ¼**ï¼šé«˜<span class="hljs-number">8.5</span>cmï¼Œå£å¾„<span class="hljs-number">6.2</span>cmï¼Œåº•å¾„<span class="hljs-number">4.1</span>cm

ğŸ“š **æ–‡åŒ–ä»·å€¼**
<span class="hljs-number">1.</span> **å·¥è‰ºä»·å€¼**ï¼šä»£è¡¨äº†æ±‰ä»£é”™é‡‘é“¶å·¥è‰ºçš„å·…å³°æ°´å¹³
<span class="hljs-number">2.</span> **å†å²ä»·å€¼**ï¼šåæ˜ äº†æ±‰ä»£é¥®é…’æ–‡åŒ–çš„ç¤¼ä»ªè§„èŒƒ
<span class="hljs-number">3.</span> **è‰ºæœ¯ä»·å€¼**ï¼šçº¹é¥°å¸ƒå±€ä¸¥è°¨ï¼Œé‡‘é“¶å¯¹æ¯”é²œæ˜
<span class="hljs-number">4.</span> **è€ƒå¤ä»·å€¼**ï¼šä¸ºç ”ç©¶æ±‰ä»£è´µæ—ç”Ÿæ´»æä¾›äº†é‡è¦å®ç‰©

ğŸ” **æŠ€æœ¯åˆ†æ**
- å›¾åƒç‰¹å¾åŒ¹é…ï¼š<span class="hljs-number">512</span>ç»´å‘é‡ç›¸ä¼¼åº¦<span class="hljs-number">0.967</span>
- çº¹é¥°é£æ ¼è¯†åˆ«ï¼šå…¸å‹æ±‰ä»£äº‘é›·çº¹+å…½é¢çº¹
- æè´¨åˆ†ææ¨æµ‹ï¼šé’é“œåŸºä½“+é‡‘é“¶é•¶åµŒ
- å¹´ä»£åˆ¤å®šä¾æ®ï¼šå™¨å‹ä¸çº¹é¥°çš„æ—¶ä»£ç‰¹å¾

ğŸ’ **æ”¶è—å»ºè®®**
æ­¤ä»¶æ–‡ç‰©ç°è—äºé™•è¥¿å†å²åšç‰©é¦†ï¼Œæ˜¯è¯¥é¦†é’é“œå™¨å±•å…çš„é‡è¦å±•å“ã€‚å»ºè®®å‚è§‚æ—¶é‡ç‚¹å…³æ³¨å…¶é”™é‡‘é“¶å·¥è‰ºçš„ç²¾ç»†ç¨‹åº¦ï¼Œä»¥åŠçº¹é¥°æ‰€è•´å«çš„æ–‡åŒ–å¯“æ„ã€‚

---

*æœ¬åˆ†æåŸºäºopenGausså‘é‡æ•°æ®åº“ä¸AIå›¾åƒè¯†åˆ«æŠ€æœ¯ï¼Œæ•°æ®æ¥æºï¼šå›½å®¶æ–‡ç‰©å±€æ•°å­—åšç‰©é¦†*

</code></pre>
<h2 data-id="heading-7">å…«ã€openGauss çš„ AI åº”ç”¨æ½œåŠ›</h2>






























<table><thead><tr><th>åº”ç”¨æ–¹å‘</th><th>ç¤ºä¾‹</th><th>ä¼˜åŠ¿</th></tr></thead><tbody><tr><td>æ™ºèƒ½å¯¼è§ˆ</td><td>æœ¬é¡¹ç›®</td><td>å›¾åƒ+æ–‡æœ¬å¤šæ¨¡æ€èåˆ</td></tr><tr><td>åŒ»ç–—çŸ¥è¯†åº“</td><td>åŒ»ç–—RAGé—®ç­”ç³»ç»Ÿ</td><td>ç»“æ„åŒ– + éç»“æ„åŒ–æ··åˆæŸ¥è¯¢</td></tr><tr><td>å·¥ä¸šåˆ¶é€ </td><td>æ•…éšœæ£€æµ‹/é¢„æµ‹</td><td>DB4AI åŸåœ°å»ºæ¨¡</td></tr><tr><td>æ•™è‚²é¢†åŸŸ</td><td>è‡ªé€‚åº”å­¦ä¹ ç³»ç»Ÿ</td><td>LLM + æ•°æ®è¡Œä¸ºåˆ†æ</td></tr></tbody></table>
<p>openGauss æ­£åœ¨æˆä¸º <strong>AI æ•°æ®ä¸­æ¢</strong>ï¼Œå®ƒæ—¢æ˜¯å­˜å‚¨å¼•æ“ï¼Œä¹Ÿæ˜¯è®¡ç®—å¹³å°ï¼Œæ›´æ˜¯æ™ºèƒ½æ¨ç†çš„è½½ä½“ã€‚</p>
<hr/>
<h2 data-id="heading-8">ä¹ã€ç»“è¯­ï¼šæ•°æ®åº“ï¼Œä¹Ÿèƒ½è®²æ•…äº‹</h2>
<p>è¿™ä¸ªå®æˆ˜è®©æˆ‘é‡æ–°è®¤è¯†äº†openGaussæ•°æ®åº“ã€‚</p>
<p>åœ¨ openGauss çš„ä¸–ç•Œé‡Œï¼Œæ•°æ®ä¸æ˜¯â€œå†·çš„è¡¨æ ¼â€ï¼Œ
è€Œæ˜¯æœ‰è¯­ä¹‰ã€æœ‰å…³ç³»ã€æœ‰ç”Ÿå‘½åŠ›çš„çŸ¥è¯†å•å…ƒã€‚</p>
<p>AI æ˜¯è¯­è¨€çš„åˆ›é€ è€…ï¼Œ
openGauss æ˜¯è®°å¿†çš„å®ˆæŠ¤è€…ï¼Œ
å½“ä¸¤è€…ç»“åˆï¼Œå°±æœ‰äº†èƒ½â€œç†è§£ä¸–ç•Œâ€çš„ç³»ç»Ÿã€‚</p>
<blockquote>
<p>openGauss ä¸æ­¢æ˜¯æ•°æ®åº“ï¼Œ
å®ƒæ˜¯ AI çš„è®°å¿†ä¸­æ¢ï¼Œ
ä¹Ÿæ˜¯æ–‡åŒ–çš„è®²è¿°è€…ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Agentæ™ºèƒ½ä½“å…¨é›†ç³»åˆ—è¯¾ä»¶ä¸è§†é¢‘]]></title>    <link>https://juejin.cn/post/7572387877137989642</link>    <guid>https://juejin.cn/post/7572387877137989642</guid>    <pubDate>2025-11-14T08:05:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572387877137989642" data-draft-id="7572301616185294894" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Agentæ™ºèƒ½ä½“å…¨é›†ç³»åˆ—è¯¾ä»¶ä¸è§†é¢‘"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-11-14T08:05:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·345947411361"/> <meta itemprop="url" content="https://juejin.cn/user/1118620649271515"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Agentæ™ºèƒ½ä½“å…¨é›†ç³»åˆ—è¯¾ä»¶ä¸è§†é¢‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1118620649271515/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·345947411361
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T08:05:25.000Z" title="Fri Nov 14 2025 08:05:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    10
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>Agentæ™ºèƒ½ä½“å…¨é›†ç³»åˆ—è¯¾ä»¶ä¸è§†é¢‘---youkeit.xyz/14836/</strong></p>
<h2 data-id="heading-0">ç´§è·Ÿ33%ä¼ä¸šAIæ¸—é€æµªæ½®ï¼šAgentæ™ºèƒ½ä½“å…¨é›†ï¼Œé€‚é…å¤šåœºæ™¯è‡ªåŠ¨åŒ–ä¸ååŒæ–°éœ€æ±‚</h2>
<h3 data-id="heading-1">ä¸€ã€ä¼ä¸šAIæ¸—é€æµªæ½®ä¸‹çš„Agentæ™ºèƒ½ä½“å´›èµ·</h3>
<p>éšç€AIæŠ€æœ¯åœ¨ä¼ä¸šä¸­çš„æ¸—é€ç‡å·²è¾¾åˆ°33%ï¼ˆæ®Gartner 2023æŠ¥å‘Šï¼‰ï¼ŒAI Agentï¼ˆæ™ºèƒ½ä½“ï¼‰æ­£æˆä¸ºä¼ä¸šæ•°å­—åŒ–è½¬å‹çš„æ ¸å¿ƒé©±åŠ¨åŠ›ã€‚è¿™äº›å…·å¤‡è‡ªä¸»å†³ç­–ã€ç¯å¢ƒæ„ŸçŸ¥å’ŒæŒç»­å­¦ä¹ èƒ½åŠ›çš„æ™ºèƒ½ä½“ç³»ç»Ÿï¼Œæ­£åœ¨é‡å¡‘ä¼ä¸šçš„ä¸šåŠ¡æµç¨‹å’Œå·¥ä½œæ–¹å¼ã€‚</p>
<h4 data-id="heading-2">1.1 Agentæ™ºèƒ½ä½“çš„æ ¸å¿ƒç‰¹å¾</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">AIAgent</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, capabilities</span>):
        self.name = name  <span class="hljs-comment"># æ™ºèƒ½ä½“åç§°</span>
        self.capabilities = capabilities  <span class="hljs-comment"># èƒ½åŠ›é›†åˆ</span>
        self.memory = []  <span class="hljs-comment"># è®°å¿†å­˜å‚¨</span>
        self.learning_rate = <span class="hljs-number">0.1</span>  <span class="hljs-comment"># å­¦ä¹ é€Ÿç‡</span>
        
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">perceive</span>(<span class="hljs-params">self, environment</span>):
        <span class="hljs-string">"""ç¯å¢ƒæ„ŸçŸ¥æ–¹æ³•"""</span>
        <span class="hljs-keyword">return</span> environment.get_state()
        
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">decide</span>(<span class="hljs-params">self, perception</span>):
        <span class="hljs-string">"""å†³ç­–æ–¹æ³•"""</span>
        <span class="hljs-comment"># åŸºäºè§„åˆ™å’Œæœºå™¨å­¦ä¹ çš„æ··åˆå†³ç­–</span>
        <span class="hljs-keyword">if</span> self._rule_based_decision(perception):
            <span class="hljs-keyword">return</span> self._rule_based_decision(perception)
        <span class="hljs-keyword">else</span>:
            <span class="hljs-keyword">return</span> self._ml_decision(perception)
            
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">act</span>(<span class="hljs-params">self, decision</span>):
        <span class="hljs-string">"""æ‰§è¡ŒåŠ¨ä½œ"""</span>
        <span class="hljs-keyword">return</span> self._execute_action(decision)
        
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">learn</span>(<span class="hljs-params">self, feedback</span>):
        <span class="hljs-string">"""ä»åé¦ˆä¸­å­¦ä¹ """</span>
        self._update_model(feedback)
        self.memory.append(feedback)
</code></pre>
<h3 data-id="heading-3">äºŒã€å¤šåœºæ™¯Agentæ™ºèƒ½ä½“è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-4">2.1 å®¢æˆ·æœåŠ¡Agent</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomerServiceAgent</span>(<span class="hljs-title class_ inherited__">AIAgent</span>):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-built_in">super</span>().__init__(<span class="hljs-string">"CS_Agent"</span>, [<span class="hljs-string">"NLP"</span>, <span class="hljs-string">"sentiment_analysis"</span>, <span class="hljs-string">"FAQ"</span>])
        self.knowledge_base = load_knowledge_base()
        self.escalation_threshold = <span class="hljs-number">0.8</span>  <span class="hljs-comment"># è½¬äººå·¥é˜ˆå€¼</span>
        
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">handle_query</span>(<span class="hljs-params">self, customer_query</span>):
        <span class="hljs-comment"># æƒ…æ„Ÿåˆ†æ</span>
        sentiment = self.analyze_sentiment(customer_query)
        
        <span class="hljs-comment"># æ„å›¾è¯†åˆ«</span>
        intent = self.classify_intent(customer_query)
        
        <span class="hljs-comment"># çŸ¥è¯†åº“æ£€ç´¢</span>
        response = self.retrieve_response(intent)
        
        <span class="hljs-keyword">if</span> sentiment[<span class="hljs-string">"negative"</span>] &gt; self.escalation_threshold:
            <span class="hljs-keyword">return</span> {<span class="hljs-string">"action"</span>: <span class="hljs-string">"escalate"</span>, <span class="hljs-string">"to"</span>: <span class="hljs-string">"human_agent"</span>}
        <span class="hljs-keyword">else</span>:
            <span class="hljs-keyword">return</span> {<span class="hljs-string">"action"</span>: <span class="hljs-string">"respond"</span>, <span class="hljs-string">"content"</span>: response}
</code></pre>
<h4 data-id="heading-5">2.2 ä¾›åº”é“¾ä¼˜åŒ–Agent</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">SupplyChainAgent</span>(<span class="hljs-title class_ inherited__">AIAgent</span>):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-built_in">super</span>().__init__(<span class="hljs-string">"SC_Agent"</span>, [<span class="hljs-string">"forecasting"</span>, <span class="hljs-string">"optimization"</span>])
        self.inventory_data = load_inventory()
        self.demand_model = load_demand_model()
        
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">optimize_inventory</span>(<span class="hljs-params">self</span>):
        <span class="hljs-comment"># éœ€æ±‚é¢„æµ‹</span>
        demand = self.predict_demand()
        
        <span class="hljs-comment"># åº“å­˜ä¼˜åŒ–</span>
        optimal_levels = {}
        <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> self.inventory_data:
            lead_time = item[<span class="hljs-string">"lead_time"</span>]
            holding_cost = item[<span class="hljs-string">"holding_cost"</span>]
            stockout_cost = item[<span class="hljs-string">"stockout_cost"</span>]
            
            <span class="hljs-comment"># ä½¿ç”¨éšæœºåŠ¨æ€è§„åˆ’ä¼˜åŒ–</span>
            optimal_level = self._sdp_optimize(demand[item[<span class="hljs-string">"id"</span>]], 
                                             lead_time,
                                             holding_cost,
                                             stockout_cost)
            optimal_levels[item[<span class="hljs-string">"id"</span>]] = optimal_level
            
        <span class="hljs-keyword">return</span> optimal_levels
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">predict_demand</span>(<span class="hljs-params">self</span>):
        <span class="hljs-comment"># ä½¿ç”¨é›†æˆå­¦ä¹ æ–¹æ³•ç»„åˆæ—¶é—´åºåˆ—å’Œå› æœæ¨¡å‹</span>
        ts_forecast = self._arima_forecast()
        causal_forecast = self._causal_model_forecast()
        <span class="hljs-keyword">return</span> self._ensemble_predict(ts_forecast, causal_forecast)
</code></pre>
<h3 data-id="heading-6">ä¸‰ã€AgentååŒç³»ç»Ÿæ¶æ„</h3>
<p>ç°ä»£ä¼ä¸šå¾€å¾€éœ€è¦å¤šä¸ªAgentååŒå·¥ä½œï¼Œå½¢æˆæ™ºèƒ½ä½“ç”Ÿæ€ç³»ç»Ÿï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">ä¼ä¸šAgentååŒæ¶æ„ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Orchestration Layer         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
<span class="hljs-code">               â†‘       â†“       â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  Agent  â”‚  â”‚  Agent  â”‚  â”‚  Agent  â”‚  ... â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚           Shared Memory               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></code></pre>
<h4 data-id="heading-7">3.1 ååŒæ§åˆ¶ä»£ç ç¤ºä¾‹</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">AgentOrchestrator</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, agents</span>):
        self.agents = agents  <span class="hljs-comment"># æ³¨å†Œçš„Agentåˆ—è¡¨</span>
        self.shared_memory = SharedMemory()
        self.communication_protocol = <span class="hljs-string">"ACL"</span>  <span class="hljs-comment"># Agenté€šä¿¡åè®®</span>
        
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">dispatch_task</span>(<span class="hljs-params">self, task</span>):
        <span class="hljs-comment"># ä»»åŠ¡åˆ†è§£</span>
        subtasks = self._decompose_task(task)
        
        <span class="hljs-comment"># Agentèƒ½åŠ›åŒ¹é…</span>
        assignments = []
        <span class="hljs-keyword">for</span> subtask <span class="hljs-keyword">in</span> subtasks:
            capable_agents = [a <span class="hljs-keyword">for</span> a <span class="hljs-keyword">in</span> self.agents 
                            <span class="hljs-keyword">if</span> self._check_capability(a, subtask)]
            <span class="hljs-keyword">if</span> capable_agents:
                selected = self._select_agent(capable_agents)
                assignments.append((subtask, selected))
        
        <span class="hljs-comment"># æ‰§è¡Œåè°ƒ</span>
        results = {}
        <span class="hljs-keyword">for</span> subtask, agent <span class="hljs-keyword">in</span> assignments:
            result = agent.execute(subtask)
            self.shared_memory.update(result)
            results[subtask[<span class="hljs-string">"id"</span>]] = result
            
        <span class="hljs-comment"># ç»“æœæ•´åˆ</span>
        <span class="hljs-keyword">return</span> self._integrate_results(results)
</code></pre>
<h3 data-id="heading-8">å››ã€ä¼ä¸šéƒ¨ç½²Agentç³»ç»Ÿçš„å…³é”®æŠ€æœ¯</h3>
<h4 data-id="heading-9">4.1 çŸ¥è¯†è’¸é¦ä¸è¿ç§»å­¦ä¹ </h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">knowledge_distillation</span>(<span class="hljs-params">teacher_agents, student_agent</span>):
    <span class="hljs-comment"># åˆ›å»ºè’¸é¦æ•°æ®é›†</span>
    distillation_dataset = []
    <span class="hljs-keyword">for</span> teacher <span class="hljs-keyword">in</span> teacher_agents:
        <span class="hljs-keyword">for</span> experience <span class="hljs-keyword">in</span> teacher.memory:
            <span class="hljs-comment"># æå–å†³ç­–æ¨¡å¼</span>
            decision_pattern = extract_decision_pattern(experience)
            distillation_dataset.append(decision_pattern)
    
    <span class="hljs-comment"># å­¦ç”Ÿæ¨¡å‹è®­ç»ƒ</span>
    student_agent.train(distillation_dataset)
    
    <span class="hljs-comment"># æŒç»­å­¦ä¹ å¾ªç¯</span>
    <span class="hljs-keyword">for</span> new_data <span class="hljs-keyword">in</span> get_streaming_data():
        student_agent.online_learn(new_data)
</code></pre>
<h4 data-id="heading-10">4.2 å®‰å…¨ä¸åˆè§„æœºåˆ¶</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">SecurityGuardian</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, agents</span>):
        self.agents = agents
        self.security_policies = load_policies()
        
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">monitor_activity</span>(<span class="hljs-params">self</span>):
        <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:
            <span class="hljs-keyword">for</span> agent <span class="hljs-keyword">in</span> self.agents:
                actions = agent.get_recent_actions()
                <span class="hljs-keyword">for</span> action <span class="hljs-keyword">in</span> actions:
                    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> self._check_compliance(action):
                        self._enforce_policy(action)
                        
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_check_compliance</span>(<span class="hljs-params">self, action</span>):
        <span class="hljs-comment"># æ£€æŸ¥æ•°æ®éšç§åˆè§„</span>
        <span class="hljs-keyword">if</span> <span class="hljs-string">"data_access"</span> <span class="hljs-keyword">in</span> action:
            <span class="hljs-keyword">return</span> check_gdpr_compliance(action[<span class="hljs-string">"data_access"</span>])
            
        <span class="hljs-comment"># æ£€æŸ¥æ“ä½œæƒé™</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> has_permission(agent.role, action[<span class="hljs-string">"type"</span>]):
            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
            
        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
</code></pre>
<h3 data-id="heading-11">äº”ã€å®æ–½è·¯çº¿å›¾ä¸ROIåˆ†æ</h3>
<h4 data-id="heading-12">5.1 åˆ†é˜¶æ®µå®æ–½è®¡åˆ’</h4>
<ol>
<li>
<p><strong>è¯•ç‚¹é˜¶æ®µï¼ˆ1-3ä¸ªæœˆï¼‰</strong></p>
<ul>
<li>é€‰æ‹©é«˜ROIåœºæ™¯ï¼ˆå¦‚å®¢æˆ·æœåŠ¡ï¼‰</li>
<li>éƒ¨ç½²åŸºç¡€Agentç³»ç»Ÿ</li>
<li>å»ºç«‹è¯„ä¼°æŒ‡æ ‡</li>
</ul>
</li>
<li>
<p><strong>æ‰©å±•é˜¶æ®µï¼ˆ3-6ä¸ªæœˆï¼‰</strong></p>
<ul>
<li>æ¨ªå‘æ‰©å±•è‡³3-5ä¸ªä¸šåŠ¡é¢†åŸŸ</li>
<li>å®ç°Agenté—´åŸºæœ¬ååŒ</li>
<li>æ„å»ºçŸ¥è¯†å…±äº«æœºåˆ¶</li>
</ul>
</li>
<li>
<p><strong>æˆç†Ÿé˜¶æ®µï¼ˆ6-12ä¸ªæœˆï¼‰</strong></p>
<ul>
<li>å…¨ä¼ä¸šèŒƒå›´éƒ¨ç½²</li>
<li>å»ºç«‹è‡ªé€‚åº”å­¦ä¹ ç³»ç»Ÿ</li>
<li>å®ç°ä¸å•†ä¸šæ™ºèƒ½ç³»ç»Ÿæ·±åº¦é›†æˆ</li>
</ul>
</li>
</ol>
<h4 data-id="heading-13">5.2 ROIè®¡ç®—æ¨¡å‹</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">calculate_roi</span>(<span class="hljs-params">agent_system</span>):
    <span class="hljs-comment"># æˆæœ¬è®¡ç®—</span>
    implementation_cost = (agent_system.development_cost + 
                         agent_system.training_cost +
                         agent_system.infrastructure_cost)
    
    <span class="hljs-comment"># æ”¶ç›Šè®¡ç®—</span>
    efficiency_gains = <span class="hljs-built_in">sum</span>([process.time_saving * process.hourly_cost 
                          <span class="hljs-keyword">for</span> process <span class="hljs-keyword">in</span> agent_system.automated_processes])
    error_reduction = <span class="hljs-built_in">sum</span>([process.error_rate_reduction * process.error_cost
                         <span class="hljs-keyword">for</span> process <span class="hljs-keyword">in</span> agent_system.optimized_processes])
    revenue_impact = agent_system.upsell_impact + agent_system.retention_impact
    
    total_benefit = efficiency_gains + error_reduction + revenue_impact
    
    <span class="hljs-comment"># ROIè®¡ç®—</span>
    roi = (total_benefit - implementation_cost) / implementation_cost
    payback_period = implementation_cost / (total_benefit / <span class="hljs-number">12</span>)  <span class="hljs-comment"># ä»¥æœˆä¸ºå•ä½</span>
    
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"roi"</span>: roi, <span class="hljs-string">"payback_period"</span>: payback_period}
</code></pre>
<h3 data-id="heading-14">å…­ã€æœªæ¥æ¼”è¿›æ–¹å‘</h3>
<ol>
<li>
<p><strong>å¤šæ¨¡æ€Agentç³»ç»Ÿ</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MultimodalAgent</span>(<span class="hljs-title class_ inherited__">AIAgent</span>):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-built_in">super</span>().__init__(<span class="hljs-string">"MM_Agent"</span>, [<span class="hljs-string">"vision"</span>, <span class="hljs-string">"speech"</span>, <span class="hljs-string">"text"</span>])
        self.vision_model = load_vision_model()
        self.speech_model = load_speech_model()
        
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">process_input</span>(<span class="hljs-params">self, input_data</span>):
        <span class="hljs-keyword">if</span> input_data[<span class="hljs-string">"type"</span>] == <span class="hljs-string">"image"</span>:
            <span class="hljs-keyword">return</span> self.vision_model.analyze(input_data[<span class="hljs-string">"content"</span>])
        <span class="hljs-keyword">elif</span> input_data[<span class="hljs-string">"type"</span>] == <span class="hljs-string">"audio"</span>:
            <span class="hljs-keyword">return</span> self.speech_model.transcribe(input_data[<span class="hljs-string">"content"</span>])
        <span class="hljs-keyword">else</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>().process_input(input_data)
</code></pre>
</li>
<li>
<p><strong>è‡ªä¸»è¿›åŒ–æ¶æ„</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">Evolutionary Agent Architecture:
<span class="hljs-bullet">1.</span> ç¯å¢ƒæ„ŸçŸ¥ â†’ 2. è‡ªæˆ‘è¯„ä¼° â†’ 3. èƒ½åŠ›ç¼ºå£åˆ†æ â†’ 
<span class="hljs-bullet">4.</span> å­¦ä¹ ç­–ç•¥ç”Ÿæˆ â†’ 5. çŸ¥è¯†è·å– â†’ 6. èƒ½åŠ›æµ‹è¯• â†’ 
<span class="hljs-bullet">7.</span> éƒ¨ç½²æ–°æŠ€èƒ½ â†’ åé¦ˆå¾ªç¯
</code></pre>
</li>
<li>
<p><strong>æ•°å­—å­ªç”Ÿé›†æˆ</strong></p>
<ul>
<li>ç‰©ç†ä¸–ç•Œä¸æ•°å­—ä¸–ç•Œçš„å®æ—¶æ˜ å°„</li>
<li>Agentåœ¨æ•°å­—å­ªç”Ÿç¯å¢ƒä¸­çš„é¢„æ¼”å’Œä¼˜åŒ–</li>
<li>åŸºäºæ¨¡æ‹Ÿçš„å¼ºåŒ–å­¦ä¹ </li>
</ul>
</li>
</ol>
<h3 data-id="heading-15">ç»“è¯­</h3>
<p>éšç€33%çš„ä¼ä¸šAIæ¸—é€ç‡ä¸´ç•Œç‚¹è¢«çªç ´ï¼ŒAgentæ™ºèƒ½ä½“æŠ€æœ¯æ­£ä»å®éªŒé˜¶æ®µè¿ˆå‘å¤§è§„æ¨¡éƒ¨ç½²é˜¶æ®µã€‚é€šè¿‡æœ¬æ–‡æä¾›çš„æŠ€æœ¯æ¡†æ¶ã€ä»£ç ç¤ºä¾‹å’Œå®æ–½è·¯çº¿å›¾ï¼Œä¼ä¸šå¯ä»¥ç³»ç»Ÿåœ°è§„åˆ’è‡ªå·±çš„Agentæˆ˜ç•¥ï¼Œåœ¨è‡ªåŠ¨åŒ–ã€æ™ºèƒ½åŒ–å’ŒååŒåŒ–æ–¹é¢è·å¾—æ˜¾è‘—ç«äº‰ä¼˜åŠ¿ã€‚æœªæ¥çš„èµ¢å®¶å°†æ˜¯é‚£äº›èƒ½å¤Ÿæœ‰æ•ˆæ•´åˆå¤šç§Agentèƒ½åŠ›ï¼Œæ„å»ºè‡ªé€‚åº”æ™ºèƒ½ç”Ÿæ€ç³»ç»Ÿçš„ç»„ç»‡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Generate Cursor RulesæŒ‡ä»¤æ¶ˆå¤±åçš„æ›¿ä»£æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7572396000543817791</link>    <guid>https://juejin.cn/post/7572396000543817791</guid>    <pubDate>2025-11-14T08:10:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572396000543817791" data-draft-id="7572396000543785023" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Generate Cursor RulesæŒ‡ä»¤æ¶ˆå¤±åçš„æ›¿ä»£æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="Cursor,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-11-14T08:10:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ’’å¸ä½¿æˆ‘å¿«ä¹"/> <meta itemprop="url" content="https://juejin.cn/user/1556564197509527"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Generate Cursor RulesæŒ‡ä»¤æ¶ˆå¤±åçš„æ›¿ä»£æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1556564197509527/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ’’å¸ä½¿æˆ‘å¿«ä¹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T08:10:40.000Z" title="Fri Nov 14 2025 08:10:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>é€šè¿‡Ctrl + Læ‰“å¼€å¯¹è¯æ¡†ï¼ŒCursor2.0é›¶å……ç”¨æˆ·æ— æ³•é€šè¿‡è¾“å…¥<code>/</code>å”¤å‡º<code>Generate Cursor Rules</code>æŒ‡ä»¤ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥è‡ªåˆ¶ä¸€ä¸ªæŒ‡ä»¤ï¼Œå…ˆåœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥<code>/</code>ï¼Œå°±ä¼šå‡ºç°<code>+ Create Command</code>ï¼Œæˆ‘ä»¬å¯ä»¥å‘½åè¿™ä¸ªæŒ‡ä»¤ä¸ºgen-rulesï¼Œç„¶å<code>.cursor/commands</code>ä¸‹å°±ä¼šå‡ºç°ä¸€ä¸ª<code>gen-rules.md</code>ï¼Œè¿™æ—¶æˆ‘ä»¬åªéœ€è¦å°†å¦‚ä¸‹å†…å®¹ç²˜è´´è¿›å»ï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†ä¸€ä¸ªè‡ªåˆ¶çš„<code>Generate Cursor Rules</code>æŒ‡ä»¤ï¼Œåç»­åªéœ€è¦è¾“å…¥<code>/</code>å°±èƒ½é€‰æ‹©gen-rulesæŒ‡ä»¤å¹¶ä½¿ç”¨ï¼Œæ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚<br/>
Cursorç”Ÿæˆå®Œrulesåï¼Œä¼šåœ¨æ ¹ç›®å½•ä¸‹çš„.cursor/rulesä¸‹ç”Ÿæˆä¸€ç³»åˆ—mdcæ–‡ä»¶ï¼Œåªéœ€è¦è¿›è¡Œæ£€æŸ¥å’Œç»†èŠ‚ä¿®æ”¹åä¿å­˜å³å¯ã€‚å¦‚æœå¸Œæœ›æ›´åŠ æ·±å…¥Rulesç¼–å†™ï¼Œå¯ä»¥é˜…è¯»<a href="https://juejin.cn/post/7513072261945376794" target="_blank" title="https://juejin.cn/post/7513072261945376794">è¿™ç¯‡æ–‡ç« </a></p>
<p><strong>å¦‚ä¸‹æ˜¯gen-rules.mdçš„å…·ä½“å†…å®¹</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">è¯·ä½ ä½œä¸ºèµ„æ·±å¼€å‘å·¥ç¨‹å¸ˆï¼Œä»”ç»†åˆ†æå½“å‰é¡¹ç›®çš„ä»£ç ç»“æ„ã€æŠ€æœ¯æ ˆå’Œç¼–ç é£æ ¼ã€‚</span>

<span class="hljs-string">ä½ çš„ä»»åŠ¡æ˜¯åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„</span> <span class="hljs-string">`.cursor/rules/`</span> <span class="hljs-string">æ–‡ä»¶å¤¹é‡Œï¼Œç”Ÿæˆä¸€ç³»åˆ—ç¬¦åˆé¡¹ç›®éœ€æ±‚çš„</span> <span class="hljs-string">Cursor</span> <span class="hljs-string">Rules</span> <span class="hljs-string">æ–‡ä»¶ï¼ˆæ‰©å±•åå¿…é¡»æ˜¯</span> <span class="hljs-string">`.mdc`ï¼‰ã€‚</span>

<span class="hljs-string">è¯·ä¸¥æ ¼éµå®ˆä»¥ä¸‹æŒ‡ä»¤ï¼š</span>

<span class="hljs-comment">### æ–‡ä»¶ä½ç½®ä¸å‘½å</span>
<span class="hljs-number">1</span><span class="hljs-string">.</span> <span class="hljs-string">**è¾“å‡ºè·¯å¾„**ï¼šæ‰€æœ‰è§„åˆ™æ–‡ä»¶å¿…é¡»ç”Ÿæˆåœ¨</span> <span class="hljs-string">`.cursor/rules/`</span> <span class="hljs-string">ç›®å½•ä¸‹</span>
<span class="hljs-number">2</span><span class="hljs-string">.</span> <span class="hljs-string">**æ–‡ä»¶æ‰©å±•å**ï¼šå¿…é¡»ä½¿ç”¨</span> <span class="hljs-string">`.mdc`</span> <span class="hljs-string">ä½œä¸ºæ–‡ä»¶æ‰©å±•åã€‚**ç¦æ­¢**ç”Ÿæˆ</span> <span class="hljs-string">`README.md`</span> <span class="hljs-string">æˆ–å…¶ä»–é</span> <span class="hljs-string">`.mdc`</span> <span class="hljs-string">æ–‡ä»¶</span>

<span class="hljs-comment">### æ–‡ä»¶æ ¼å¼è§„èŒƒ</span>
<span class="hljs-number">1</span><span class="hljs-string">.</span> <span class="hljs-string">**å‰ç½®å…ƒæ•°æ®ï¼ˆå¿…é¡»ï¼‰**ï¼šæ¯ä¸ª</span> <span class="hljs-string">`.mdc`</span> <span class="hljs-string">æ–‡ä»¶å¿…é¡»ä»¥</span> <span class="hljs-string">YAML</span> <span class="hljs-string">front</span> <span class="hljs-string">matter</span> <span class="hljs-string">å¼€å¤´ï¼ŒåŒ…å«ä»¥ä¸‹å¿…éœ€å­—æ®µï¼š</span>
   <span class="hljs-string">```yaml</span>
   <span class="hljs-string">---</span>
   <span class="hljs-comment"># è§„åˆ™æè¿°ï¼šæ¸…æ™°è¯´æ˜æ­¤è§„åˆ™æ–‡ä»¶çš„ç”¨é€”å’ŒèŒƒå›´</span>
   <span class="hljs-attr">description:</span> <span class="hljs-string">"å…·ä½“æè¿°æ­¤è§„åˆ™æ–‡ä»¶çš„ç›®çš„"</span>

   <span class="hljs-comment"># é€‚ç”¨èŒƒå›´ï¼šä½¿ç”¨ glob æ¨¡å¼æŒ‡å®šè§„åˆ™é€‚ç”¨çš„æ–‡ä»¶</span>
   <span class="hljs-comment"># ç¤ºä¾‹ï¼š"src/**/*.ts"ã€"**/*.js"ã€"components/**/*.{js,jsx}"</span>
   <span class="hljs-attr">globs:</span> <span class="hljs-string">"åœ¨æ­¤å¡«å†™é€‚ç”¨çš„æ–‡ä»¶æ¨¡å¼"</span>

   <span class="hljs-comment"># å§‹ç»ˆåº”ç”¨ï¼šæŒ‡å®šæ˜¯å¦å¯¹æ‰€æœ‰åŒ¹é…æ–‡ä»¶è‡ªåŠ¨åº”ç”¨æ­¤è§„åˆ™</span>
   <span class="hljs-attr">alwaysApply:</span> <span class="hljs-literal">true</span><span class="hljs-string">/false</span>

   <span class="hljs-comment"># ä¼˜å…ˆçº§ï¼ˆå¯é€‰ï¼‰ï¼šæ•°å€¼è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜ï¼Œç”¨äºè§£å†³è§„åˆ™å†²çª</span>
   <span class="hljs-attr">priority:</span> <span class="hljs-number">1</span>
   <span class="hljs-string">---</span>
   <span class="hljs-string">```</span>

<span class="hljs-number">1</span><span class="hljs-string">.</span> <span class="hljs-string">**å†…å®¹ç»“æ„**ï¼šåœ¨å…ƒæ•°æ®ä¹‹åï¼Œä½¿ç”¨ä»¥ä¸‹ç»“æ„ç»„ç»‡å†…å®¹ï¼š</span>
   <span class="hljs-bullet">-</span> <span class="hljs-string">ä½¿ç”¨</span> <span class="hljs-string">`#`</span> <span class="hljs-string">å·æ ‡é¢˜æ¥ç»„ç»‡ä¸åŒç« èŠ‚</span>
   <span class="hljs-bullet">-</span> <span class="hljs-string">åˆ†ç‚¹åˆ—å‡ºå…·ä½“è§„åˆ™ï¼Œè§„åˆ™æè¿°åº”**å…·ä½“ã€å¯æ‰§è¡Œ**</span>
   <span class="hljs-bullet">-</span> <span class="hljs-string">å¯¹äºå…³é”®è§„åˆ™ï¼Œæä¾›</span> <span class="hljs-string">âœ…</span> <span class="hljs-string">æ­£ç¡®ç¤ºä¾‹å’Œ</span> <span class="hljs-string">âŒ</span> <span class="hljs-string">é”™è¯¯ç¤ºä¾‹</span>
   <span class="hljs-bullet">-</span> <span class="hljs-string">å¯ä»¥åŒ…å«æ£€æŸ¥æ¸…å•ï¼Œç¡®ä¿è§„åˆ™è¢«éµå¾ª</span>

<span class="hljs-comment">### è§„åˆ™ç¼–å†™æœ€ä½³å®è·µ</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">**æœ€å°åŒ–ä¸å…·ä½“åŒ–**ï¼šè§„åˆ™åº”çŸ­å°ç²¾æ‚ï¼Œé¿å…æ¨¡ç³Šæè¿°ï¼ˆå¦‚"æ³¨æ„æ€§èƒ½"ï¼‰ï¼Œè½¬è€Œç»™å‡ºæ˜ç¡®æŒ‡å¯¼ï¼ˆå¦‚"Reactç»„ä»¶å¿…é¡»ä½¿ç”¨`React.memo()`åŒ…è£…"ï¼‰</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">**ç»“æ„åŒ–ä¸åˆ†å±‚**ï¼šæŒ‰æ¨¡å—æ‹†åˆ†è§„åˆ™ï¼Œä¾‹å¦‚ï¼š</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">`project-basics.mdc`ï¼ˆé¡¹ç›®åŸºç¡€è§„åˆ™ï¼‰</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">`naming-conventions.mdc`ï¼ˆå‘½åçº¦å®šï¼‰</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">`component-guides.mdc`ï¼ˆç»„ä»¶æŒ‡å—ï¼‰</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">`api-rules.mdc`ï¼ˆAPIè°ƒç”¨è§„åˆ™ï¼‰</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">**ä¸€è‡´æ€§**ï¼šè§„åˆ™åº”å¼ºåŒ–é¡¹ç›®ä¸­ç°æœ‰çš„ä»£ç é£æ ¼å’Œç›®å½•ç»“æ„</span>

<span class="hljs-comment">### å…ƒæ•°æ®é…ç½®ç¤ºä¾‹</span>
<span class="hljs-string">å¯¹äºä¸åŒç±»å‹çš„è§„åˆ™ï¼Œè¯·å‚è€ƒä»¥ä¸‹å…ƒæ•°æ®é…ç½®ï¼š</span>

<span class="hljs-string">**å…¨å±€åŸºç¡€è§„åˆ™**ï¼š</span>
<span class="hljs-string">```yaml</span>
<span class="hljs-meta">---</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">"é¡¹ç›®åŸºç¡€å¼€å‘è§„èŒƒ"</span>
<span class="hljs-attr">globs:</span> <span class="hljs-string">"**/*"</span>
<span class="hljs-attr">alwaysApply:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr">priority:</span> <span class="hljs-number">1</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">```</span>

<span class="hljs-string">**TypeScriptä¸“ç”¨è§„åˆ™**ï¼š</span>
<span class="hljs-string">```yaml</span>
<span class="hljs-meta">---</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">"TypeScriptç±»å‹å®šä¹‰å’Œç¼–ç è§„èŒƒ"</span>
<span class="hljs-attr">globs:</span> <span class="hljs-string">"**/*.ts"</span>
<span class="hljs-attr">alwaysApply:</span> <span class="hljs-literal">false</span>
<span class="hljs-attr">priority:</span> <span class="hljs-number">2</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">```</span>

<span class="hljs-string">**Reactç»„ä»¶è§„åˆ™**ï¼š</span>
<span class="hljs-string">```yaml</span>
<span class="hljs-meta">---</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">"Reactç»„ä»¶å¼€å‘è§„èŒƒ"</span>
<span class="hljs-attr">globs:</span> <span class="hljs-string">"src/components/**/*.{js,jsx,ts,tsx}"</span>
<span class="hljs-attr">alwaysApply:</span> <span class="hljs-literal">false</span>
<span class="hljs-attr">priority:</span> <span class="hljs-number">3</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">```</span>

<span class="hljs-string">ç°åœ¨ï¼Œè¯·å¼€å§‹åˆ†æé¡¹ç›®ä»£ç ï¼Œç”ŸæˆåŒ…å«å®Œæ•´å…ƒæ•°æ®çš„è§„åˆ™æ–‡ä»¶ã€‚ç¡®ä¿æ¯ä¸ªæ–‡ä»¶éƒ½æœ‰æ­£ç¡®çš„</span> <span class="hljs-string">`.mdc`</span> <span class="hljs-string">æ‰©å±•åå’Œå¿…è¦çš„å‰ç½®å…ƒæ•°æ®ã€‚</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é”šç‚¹è·³è½¬-é™„å¸¦CSSæ ·å¼ & é˜»æ­¢é¡µé¢åˆ·æ–°æŠ€æœ¯æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7572389069705543690</link>    <guid>https://juejin.cn/post/7572389069705543690</guid>    <pubDate>2025-11-14T08:24:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572389069705543690" data-draft-id="7572362484658896947" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é”šç‚¹è·³è½¬-é™„å¸¦CSSæ ·å¼ &amp; é˜»æ­¢é¡µé¢åˆ·æ–°æŠ€æœ¯æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,CSS"/> <meta itemprop="datePublished" content="2025-11-14T08:24:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åˆ€ç–¤"/> <meta itemprop="url" content="https://juejin.cn/user/2546894374183677"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é”šç‚¹è·³è½¬-é™„å¸¦CSSæ ·å¼ &amp; é˜»æ­¢é¡µé¢åˆ·æ–°æŠ€æœ¯æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2546894374183677/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åˆ€ç–¤
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T08:24:48.000Z" title="Fri Nov 14 2025 08:24:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é—®é¢˜ï¼šè§¦å‘æµè§ˆå™¨é»˜è®¤é”šç‚¹è¡Œä¸ºï¼Œé¦–æ¬¡ç‚¹å‡»ï¼Œåˆ·æ–°é¡µé¢ï¼Œè™½ç„¶å›åˆ°é¡¶éƒ¨ï¼Œä½†æœªä¿å­˜æ•°æ®è¢«æ¸…ç©ºã€‚</h2>
<pre><code class="hljs language-js" lang="js">&lt;!-- åŸå§‹ --&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"topAnchor"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span>

&lt;!-- å›åˆ°é¡¶éƒ¨æŒ‰é’® --&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#topAnchor"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"back-top-btn"</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">a-icon</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"arrow-up"</span> /&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span>
</code></pre>
<h2 data-id="heading-1">è§£å†³æ–¹æ¡ˆï¼šé˜»æ­¢é»˜è®¤è¡Œä¸º + ç¼–ç¨‹æ§åˆ¶</h2>
<pre><code class="hljs language-js" lang="js">
&lt;a @click.<span class="hljs-property">prevent</span>=<span class="hljs-string">"scrollToTop"</span>&gt;å›åˆ°é¡¶éƒ¨&lt;/a&gt;


<span class="hljs-title function_">scrollToTop</span>(<span class="hljs-params"/>) {

    <span class="hljs-keyword">const</span> anchor = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'topAnchor'</span>)

        <span class="hljs-keyword">if</span> (anchor) {

        anchor.<span class="hljs-title function_">scrollIntoView</span>({ <span class="hljs-attr">behavior</span>: <span class="hljs-string">'smooth'</span>, <span class="hljs-attr">block</span>: <span class="hljs-string">'start'</span> })

        } <span class="hljs-keyword">else</span> {

        <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">scrollTo</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">behavior</span>: <span class="hljs-string">'smooth'</span> })

    }

}
</code></pre>
<h3 data-id="heading-2">å…³é”®æŠ€æœ¯ç‚¹</h3>
<ul>
<li>@click.prevent - é˜»æ­¢é»˜è®¤é“¾æ¥è¡Œä¸º</li>
<li>scrollIntoView() - ç¼–ç¨‹å¼æ§åˆ¶æ»šåŠ¨</li>
<li>behavior: 'smooth' - æ·»åŠ å¹³æ»‘åŠ¨ç”»</li>
<li>URLä¿æŒä¸å˜ - é¿å…è·¯ç”±é‡è½½</li>
</ul>
<h3 data-id="heading-3">é€‚ç”¨åœºæ™¯</h3>
<ul>
<li>å•é¡µåº”ç”¨(SPA)</li>
<li>éœ€è¦å¹³æ»‘æ»šåŠ¨æ•ˆæœ</li>
<li>å¸Œæœ›ä¿æŒURLç¨³å®šçš„åœºæ™¯</li>
</ul>
<pre><code class="hljs language-js" lang="js">é…åˆ<span class="hljs-attr">CSS</span>:

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> @<span class="hljs-attr">click.prevent</span>=<span class="hljs-string">"scrollToTop"</span>&gt;</span>å›åˆ°é¡¶éƒ¨<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span>


<span class="hljs-title function_">scrollToTop</span>(<span class="hljs-params"/>) {

    <span class="hljs-keyword">const</span> anchor = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'topAnchor'</span>)

        <span class="hljs-keyword">if</span> (anchor) {

        anchor.<span class="hljs-title function_">scrollIntoView</span>({ <span class="hljs-attr">behavior</span>: <span class="hljs-string">'smooth'</span>, <span class="hljs-attr">block</span>: <span class="hljs-string">'start'</span> })

        } <span class="hljs-keyword">else</span> {

        <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">scrollTo</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">behavior</span>: <span class="hljs-string">'smooth'</span> })

    }

}


<span class="hljs-comment">// css:å›åˆ°é¡¶éƒ¨æŒ‰é’®æ ·å¼</span>
.<span class="hljs-property">back</span>-top-btn {
    <span class="hljs-attr">position</span>: fixed;
    <span class="hljs-attr">right</span>: 80px;
    <span class="hljs-attr">bottom</span>: 100px;
    <span class="hljs-attr">width</span>: 40px;
    <span class="hljs-attr">height</span>: 40px;
    border-<span class="hljs-attr">radius</span>: <span class="hljs-number">50</span>%;
    background-<span class="hljs-attr">color</span>: #1890ff;
    <span class="hljs-attr">color</span>: #fff;
    <span class="hljs-attr">display</span>: flex;
    align-<span class="hljs-attr">items</span>: center;
    justify-<span class="hljs-attr">content</span>: center;
    font-<span class="hljs-attr">size</span>: 18px;
    box-<span class="hljs-attr">shadow</span>: <span class="hljs-number">0</span> 2px 8px <span class="hljs-title function_">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.15</span>);
    <span class="hljs-attr">transition</span>: all <span class="hljs-number">0.</span>3s;
    <span class="hljs-attr">cursor</span>: pointer;
    z-<span class="hljs-attr">index</span>: <span class="hljs-number">1000</span>;
    &amp;:hover {
    background-<span class="hljs-attr">color</span>: #40a9ff;
    box-<span class="hljs-attr">shadow</span>: <span class="hljs-number">0</span> 4px 12px <span class="hljs-title function_">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.2</span>);
    <span class="hljs-attr">transform</span>: <span class="hljs-title function_">translateY</span>(-2px);
}

Â 
 &amp;:active {
    <span class="hljs-attr">transform</span>: <span class="hljs-title function_">translateY</span>(<span class="hljs-number">0</span>);
 }
}
</code></pre>
<h2 data-id="heading-4">æ•ˆæœå›¾</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/74d9c0a61ed14aa28ef6d3ecdd906d75~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YiA55ak:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763713487&amp;x-signature=XFd3FyCTkhuvyiD3a3xaBLUxNl4%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åœæ­¢è¿‡åº¦æ€è€ƒ Obsidianï¼šä¸€ä»½çœŸæ­£æœ‰æ•ˆçš„åˆå­¦è€…æŒ‡å—]]></title>    <link>https://juejin.cn/post/7572147440314777663</link>    <guid>https://juejin.cn/post/7572147440314777663</guid>    <pubDate>2025-11-14T08:27:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572147440314777663" data-draft-id="7572396000543866943" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åœæ­¢è¿‡åº¦æ€è€ƒ Obsidianï¼šä¸€ä»½çœŸæ­£æœ‰æ•ˆçš„åˆå­¦è€…æŒ‡å—"/> <meta itemprop="keywords" content="ç¬”è®°"/> <meta itemprop="datePublished" content="2025-11-14T08:27:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜¯é­”ä¸¸å•Š"/> <meta itemprop="url" content="https://juejin.cn/user/3217622495411292"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åœæ­¢è¿‡åº¦æ€è€ƒ Obsidianï¼šä¸€ä»½çœŸæ­£æœ‰æ•ˆçš„åˆå­¦è€…æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3217622495411292/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜¯é­”ä¸¸å•Š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T08:27:04.000Z" title="Fri Nov 14 2025 08:27:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmedium.com%2F%40andremonthy%2Fstop-overthinking-obsidian-a-beginners-guide-that-actually-works-c46ae9953ac7" target="_blank" title="https://medium.com/@andremonthy/stop-overthinking-obsidian-a-beginners-guide-that-actually-works-c46ae9953ac7" ref="nofollow noopener noreferrer">è½¬è½½</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a82062898604647829d56d8dbb8c0ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv6a2U5Li45ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763713623&amp;x-signature=AX9Hc%2FsikpKUeptzGf33iiMnrmc%3D" alt="" loading="lazy"/></p>
<p>ä½œä¸ºä¸€ä¸ªå¤±è´¥çš„æœ€ç®€ä¸»ä¹‰è€…ï¼Œæˆ‘å°†10,000å¤šæ¡ç¬”è®°ä»Notionè¿ç§»åˆ°Obsidianï¼Œæˆ‘å®Œå…¨çŸ¥é“è¿‡åº¦å¤æ‚åŒ–æ˜¯ä»€ä¹ˆæ„Ÿè§‰ã€‚</p>
<p>åœ¨r/ObsidianMDä¸Šå‘å¸ƒæˆ‘çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.reddit.com%2Fr%2FObsidianMD%2Fcomments%2F1l4y9jk%2Fi_imported_10405_notion_notes_into_obsidian%2F" target="_blank" title="https://www.reddit.com/r/ObsidianMD/comments/1l4y9jk/i_imported_10405_notion_notes_into_obsidian/" ref="nofollow noopener noreferrer">Obsidianå›¾å½¢æ—¶é—´å»¶è¿ŸåŠ¨ç”»</a>åï¼Œæœ‰äººå‘æˆ‘è¯·æ•™å…³äºå¼€å§‹ä½¿ç”¨Obsidiançš„å»ºè®®ï¼Œè¯´ï¼š</p>
<blockquote>
<p>"æˆ‘çœ‹äº†å¾ˆå¤šå…³äºObsidiançš„è§†é¢‘ï¼Œæˆ‘è§‰å¾—æˆ‘ä¸ºè‡ªå·±æŠŠäº‹æƒ…æå¾—å¤ªå¤æ‚äº†ï¼Œè¿™è®©æˆ‘è¿Ÿè¿Ÿæ— æ³•çœŸæ­£å¼€å§‹ã€‚æˆ‘ä¸ç¡®å®šå¦‚ä½•æœ‰æ•ˆåœ°ä½¿ç”¨æ ‡ç­¾å’Œæ–‡ä»¶å¤¹ã€‚æœ‰äººå»ºè®®å®Œå…¨é¿å…æ–‡ä»¶å¤¹ï¼Œä»¥æ”¹å–„ç¬”è®°ä¹‹é—´çš„è¿æ¥å¹¶ä¿æŒå›¾å½¢æ›´æ¸…æ™°ã€‚ä½ èƒ½å¸®æˆ‘ç†è§£æœ€ä½³æ–¹æ³•å—ï¼Ÿç»™ä½ æ›´å¤šèƒŒæ™¯ä¿¡æ¯ï¼Œæˆ‘æƒ³å°†Obsidianç”¨ä½œçœŸæ­£çš„ç¬¬äºŒå¤§è„‘ï¼Œä¸€ä¸ªç”¨äºç¬”è®°è®°å½•ã€æ•è·æœ‰è¶£åœ¨çº¿ä¿¡æ¯ä»¥åŠéšæ—¶é—´è¿æ¥ç›¸å…³ç¬”è®°çš„ç³»ç»Ÿã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªç¬”è®°å¯èƒ½å…³æ³¨é¸Ÿç±»å’Œåˆé€‚çš„å–‚é¸Ÿå™¨é£Ÿç‰©ï¼Œå¦ä¸€ä¸ªå…³æ³¨ä¸ºå¤å¤æ¸¸æˆè®¾ç½®æ ‘è“æ´¾ï¼Œè¿˜æœ‰å…³äºæˆ‘è¯»è¿‡çš„ä¹¦çš„ç¬”è®°ï¼Œä»¥åŠå„ç§ä¸»é¢˜ã€‚ç”±äºObsidianå…è®¸é€šè¿‡æ ‡ç­¾è¿›è¡Œè¿æ¥ï¼Œæˆ‘é¢„æœŸè¿™äº›ä¸åŒä¸»é¢˜æœ€ç»ˆä¼šäº¤å‰è¿æ¥ã€‚"</p>
</blockquote>
<p>è¿™è®©æˆ‘å›æƒ³èµ·æˆ‘åˆšå¼€å§‹å°è¯•ä½¿ç”¨Obsidianæ—¶çš„æ„Ÿå—ï¼Œä¿ƒä½¿æˆ‘è„‘ dumpedæ‰€æœ‰æˆ‘åˆšå¼€å§‹ä½¿ç”¨Obsidianæ—¶ä¼šç»™è‡ªå·±æçš„å»ºè®®ã€‚</p>
<p>æˆ‘æœ€åˆè¢«Obsidianç¾ä¸½çš„å›¾å½¢è§†å›¾æ‰€å¸å¼•ï¼Œè¿æ¥ç¬”è®°çš„æ¦‚å¿µæ˜¯ä¸€ä¸ªéå¸¸å¸å¼•äººçš„æƒ³æ³•ã€‚æ›´ä¸ç”¨è¯´å½“æ—¶æˆ‘çš„10,000å¤šæ¡Notionç¬”è®°å˜å¾—éå¸¸è¿Ÿé’ï¼Œå› ä¸ºæ‰€æœ‰ç¬”è®°éƒ½åœ¨"äº‘"ä¸Šï¼Œæœ€é‡è¦çš„æ˜¯æˆ‘ä¸æƒ³ç»§ç»­è®©æ‰€æœ‰ç¬”è®°è¢«åˆ«äººçš„æœåŠ¡å™¨æŒŸæŒä¸ºäººè´¨ã€‚Notionçš„åŒé‡æ¨åŠ›å’ŒObsidiançš„è¯±äººæ‹‰åŠ›è®©æˆ‘å†³å®šè·³åˆ°Obsidianï¼Œä½†é‚£ç¡®å®æ„Ÿè§‰åƒæ˜¯ä¸€ä¸ªè·³è·ƒã€‚ä¸æ˜¯æˆ‘èƒ½è½»æ˜“æˆ–ç®€å•åšçš„äº‹æƒ…ã€‚æˆ‘çœ‹äº†æ— æ•°æ•™ç¨‹å’Œäººä»¬ç‚«è€€ä»–ä»¬ç–¯ç‹‚åº“çš„è§†é¢‘ï¼Œè¿™è®©äººæ„Ÿåˆ°éå¸¸ç•æƒ§ã€‚æ‰€ä»¥ä»Šå¤©æˆ‘å°†å°è¯•ç»™ä½ ç®€å•è€Œå®ç”¨çš„æ­¥éª¤å’ŒæŒ‡å¯¼ï¼Œè®©è¿™ä¸ªè¿‡æ¸¡æ„Ÿè§‰åƒä¸€ä¸ªæ¸©å’Œçš„æ­¥ä¼è€Œä¸æ˜¯è·³è·ƒã€‚æ— è®ºä½ æ˜¯åƒæˆ‘ä¸€æ ·ä»Notionæ¥åˆ°Obsidianï¼Œè¿˜æ˜¯ä»å…¶ä»–åº”ç”¨ï¼Œæˆ–è€…è¿™æ˜¯ä½ ç¬¬ä¸€æ¬¡æ•°å­—åŒ–åšç¬”è®°ã€‚</p>
<p>ä»¥ä¸‹æ˜¯å¦‚ä½•å¼€å§‹è€Œä¸ä¼šé™·å…¥è®¾ç½®å›°å¢ƒçš„ç¡®åˆ‡æ–¹æ³•ã€‚</p>
<h2 data-id="heading-0">åç›´è§‰çš„æ€ç»´è½¬å˜</h2>
<p>æœ€é‡è¦çš„æ˜¯çœŸæ­£å¼€å§‹ä½¿ç”¨å®ƒå¹¶å¼€å§‹åšç¬”è®°ã€‚ä¸è¦æ‹…å¿ƒç»„ç»‡ï¼Œç‰¹åˆ«æ˜¯åœ¨å¼€å§‹æ—¶ã€‚è¿™æ˜¯ä¸€ä¸ªå·¨å¤§çš„æ€ç»´è½¬å˜ï¼Œä½†å®ƒæ˜¯å¿…è¦çš„ã€‚</p>
<p>å¤§å¤šæ•°åº”ç”¨å’Œè®¡ç®—æœºä¸€èˆ¬éƒ½è¿«ä½¿ä½ é¦–å…ˆè€ƒè™‘ç»“æ„å’Œç»„ç»‡ï¼Œç„¶åä½ æ‰æ‹…å¿ƒå†…å®¹ã€‚åœ¨Obsidianä¸­ï¼Œè¿™æ˜¯ç›¸åçš„ï¼Œå…ˆå†™ä½œï¼Œä»ä¸ç»„ç»‡â€¦â€¦æˆ–è€…è‡³å°‘ç¨åç»„ç»‡ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆè¿™æœ‰æ•ˆï¼š</strong> Obsidiançš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fhelp.obsidian.md%2Fplugins%2Fsearch" target="_blank" title="https://help.obsidian.md/plugins/search" ref="nofollow noopener noreferrer">æœç´¢</a>åŠŸèƒ½çœŸçš„å¾ˆå¥½ï¼Œæ‰€ä»¥ä½ åº”è¯¥èƒ½å¤Ÿçº¯ç²¹ä»æœç´¢ä¸­æ‰¾åˆ°ä½ æ­£åœ¨å¯»æ‰¾çš„å†…å®¹ã€‚</p>
<p>**å½“ä½ ç¡®å®ç»„ç»‡æ—¶ï¼š**é¿å…ä½¿ç”¨æ–‡ä»¶å¤¹ã€‚æ”¹ç”¨MOCå’Œæ ‡ç­¾ã€‚</p>
<p>**æ–‡ä»¶å¤¹é—®é¢˜ï¼š**ä¸€ä¸ªç¬”è®°åªèƒ½åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œä½†å®ƒå¯èƒ½æ¶‰åŠè®¸å¤šä¸»é¢˜ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªå…³äºè®¡ç®—åŒ–å­¦çš„ç¬”è®°ä¸è®¡ç®—æœºç§‘å­¦å’ŒåŒ–å­¦åŒç­‰ç›¸å…³ã€‚å¦‚æœä½ æœ‰ä¸€ä¸ªè®¡ç®—æœºç§‘å­¦æ–‡ä»¶å¤¹å’Œä¸€ä¸ªåŒ–å­¦æ–‡ä»¶å¤¹ï¼Œä½ å¿…é¡»ï¼š</p>
<ul>
<li>é€‰æ‹©ä¸€ä¸ªï¼ˆè¿™ä¸èƒ½ä»£è¡¨è¯¥ç¬”è®°ï¼‰</li>
<li>å°†ç¬”è®°å¤åˆ¶åˆ°ä¸¤ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼ˆç°åœ¨ä½ æœ‰ä¸¤ä¸ªç›¸åŒçš„ç¬”è®°æ¥ç®¡ç†ï¼Œå½“ä½ æƒ³è¦é“¾æ¥æˆ–ç¼–è¾‘æ—¶ï¼‰</li>
</ul>
<p>è¿™æ•´ä¸ªæ··ä¹±å¯ä»¥é€šè¿‡ä½¿ç”¨æ ‡ç­¾å’Œé“¾æ¥åˆ°MOCæ¥é¿å…ã€‚</p>
<h2 data-id="heading-1">å¦‚ä½•çœŸæ­£å¼€å§‹</h2>
<h3 data-id="heading-2">æ­¥éª¤1ï¼šåˆ›å»ºä½ çš„Home MOC</h3>
<p>å½“ä½ æ‰“å¼€Obsidianæ—¶ï¼Œåˆ›å»ºä¸€ä¸ª"Home MOC"ã€‚è¿™åªæ˜¯ä¸€ä¸ªåä¸ºHome MOCçš„ç¬”è®°ã€‚MOCæ„å‘³ç€å†…å®¹åœ°å›¾ï¼Œä½†å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä¸€ä¸ªé“¾æ¥ç›¸å…³ç¬”è®°çš„æ¢çº½ã€‚ä½ çš„Home MOCå°†ä½œä¸ºä½ çš„èµ·ç‚¹/åŸºç¡€ã€‚ä½ å¯ä»¥ä»ä½ çš„Home MOCé“¾æ¥åˆ°å…¶ä»–é‡è¦ç¬”è®°å’ŒMOCä»¥ä¾¿è½»æ¾è®¿é—®ã€‚</p>
<p>ä½ ä¹Ÿå¯ä»¥ä¸ºä½ æœ€é‡è¦çš„é¢†åŸŸ/ä¸»é¢˜è®¾ç½®MOCï¼Œå¦‚è´¢åŠ¡MOCã€è®¡ç®—æœºç§‘å­¦MOCç­‰ï¼Œå¹¶ä»ä½ çš„Home MOCé“¾æ¥åˆ°å®ƒä»¬ã€‚</p>
<h3 data-id="heading-3">æ­¥éª¤2ï¼šè®¾ç½®æ¯æ—¥ç¬”è®°</h3>
<p>å¯ç”¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fhelp.obsidian.md%2Fplugins%2Fdaily-notes" target="_blank" title="https://help.obsidian.md/plugins/daily-notes" ref="nofollow noopener noreferrer">æ¯æ—¥ç¬”è®°</a>æ ¸å¿ƒæ’ä»¶ã€‚ä½ çš„Home MOCå’Œæ¯æ—¥ç¬”è®°å°†æ˜¯ä½ åœ¨Obsidianä¸­çš„ä¸¤ä¸ªä¸»è¦åœºæ‰€ã€‚æˆ‘åœ¨æ¯æ—¥ç¬”è®°ä¸­åˆ—å‡ºæˆ‘çš„ä»»åŠ¡/å¾…åŠäº‹é¡¹æ¸…å•å¹¶è·Ÿè¸ªæ¯æ—¥ä¹ æƒ¯ï¼ˆåªæ˜¯ä½¿ç”¨<code>- [ ]</code>æ£€æŸ¥æ¸…å•ï¼‰ï¼Œä½†ä½ å¯ä»¥éšæ„åœ¨æ¯æ—¥ç¬”è®°ä¸­åšä»»ä½•ä½ æƒ³åšçš„äº‹æƒ…ã€‚ä½ å¯ä»¥æŠŠæ¯æ—¥ç¬”è®°æƒ³è±¡æˆä¸€ç§æ—¥è®°æˆ–æ—¥å¿—ã€‚</p>
<p>ç°åœ¨ä½ æœ‰äº†ä¸¤ç§ä¸»è¦çš„ç¬”è®°ç±»å‹ï¼Œå®ƒä»¬å°†æ„æˆä½ Obsidianä¹‹æ—…çš„åŸºç¡€ï¼šæ¯æ—¥ç¬”è®°å’ŒMOCã€‚</p>
<h3 data-id="heading-4">æ­¥éª¤3ï¼šåˆ›å»ºå¿…è¦çš„æ–‡ä»¶å¤¹ï¼ˆæ˜¯çš„ï¼Œä¸€äº›æ–‡ä»¶å¤¹æ˜¯å¯ä»¥çš„ï¼‰</h3>
<p>æˆ‘ä¸ºæ‰€æœ‰æ¯æ—¥ç¬”è®°åˆ›å»ºäº†ä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚ä¸ºä»€ä¹ˆæˆ‘åˆ›å»ºäº†ä¸€ä¸ªæ–‡ä»¶å¤¹â€”â€”æˆ‘ä¸æ˜¯è¯´è¦é¿å…æ–‡ä»¶å¤¹å—ï¼Ÿå—¯ï¼Œä½ æ˜¯å¯¹çš„ï¼Œä½†æ¯æ—¥ç¬”è®°æ˜¯ä¸€ç§ç¬”è®°ç±»å‹ï¼Œä¸æ˜¯ä¸€ä¸ªæ¦‚å¿µæˆ–ä¸»é¢˜ã€‚æˆ‘çŸ¥é“æ¯æ—¥ç¬”è®°æ°¸è¿œæ˜¯æ¯æ—¥ç¬”è®°ï¼Œä¸æ˜¯ä¸è®¡ç®—æœºç§‘å­¦æˆ–åŒ–å­¦ç›¸å…³çš„ç¬”è®°ã€‚å½“ç„¶æˆ‘å¯ä»¥ä»å®ƒé“¾æ¥åˆ°å…¶ä»–ç¬”è®°/ä»å…¶ä»–ç¬”è®°é“¾æ¥åˆ°å®ƒï¼Œä½†å®ƒæ°¸è¿œåªèƒ½æ˜¯æ¯æ—¥ç¬”è®°ã€‚æ‰€ä»¥ä¸ºç¬”è®°ç±»å‹åˆ›å»ºæ–‡ä»¶å¤¹æ˜¯å¯ä»¥çš„ã€‚æˆ‘åªæœ‰6ä¸ªä¸»è¦æ–‡ä»¶å¤¹ï¼š</p>
<ul>
<li>æ¯æ—¥ç¬”è®°æ–‡ä»¶å¤¹</li>
<li>MOCæ–‡ä»¶å¤¹</li>
<li>äººå‘˜æ–‡ä»¶å¤¹</li>
<li>ä»»åŠ¡æ–‡ä»¶å¤¹ï¼ˆæˆ‘å–œæ¬¢ä¸€ä¸ªä»»åŠ¡ä¸€ä¸ªç¬”è®°ï¼‰</li>
<li>ç¬”è®°æ–‡ä»¶å¤¹</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fhelp.obsidian.md%2Fattachments%23Change%2Bdefault%2Battachment%2Blocation" target="_blank" title="https://help.obsidian.md/attachments#Change+default+attachment+location" ref="nofollow noopener noreferrer">é™„ä»¶æ–‡ä»¶å¤¹</a></li>
</ul>
<h2 data-id="heading-5">åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªçœŸæ­£çš„ç¬”è®°</h2>
<p>è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå…·ä½“çš„ä¾‹å­æ¥çœ‹çœ‹è¿™ä¸€åˆ‡æ˜¯å¦‚ä½•ç»“åˆåœ¨ä¸€èµ·çš„ã€‚å‡è®¾ä½ åˆšåˆšè¯»äº†ä¸€ç¯‡å…³äºä½¿ç”¨æœºå™¨å­¦ä¹ é¢„æµ‹åŒ–å­¦ååº”çš„æœ‰è¶£æ–‡ç« ã€‚</p>
<h3 data-id="heading-6">æ­¥éª¤1ï¼šåˆ›å»ºç¬”è®°</h3>
<p>åˆ›å»ºä¸€ä¸ªå…·æœ‰æè¿°æ€§æ ‡é¢˜çš„æ–°ç¬”è®°ï¼Œå¦‚"ML for Chemical Reaction Prediction â€” Nature Article 2024"</p>
<h3 data-id="heading-7">æ­¥éª¤2ï¼šæ·»åŠ ä½ çš„æ¥æº</h3>
<p>åœ¨åº•éƒ¨çš„å‚è€ƒæ–‡çŒ®éƒ¨åˆ†æ·»åŠ æ–‡ç« é“¾æ¥ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">## References</span>
<span class="hljs-bullet">-</span> [<span class="hljs-string">Original Article</span>](<span class="hljs-link">https://example.com/ml-chemistry-article</span>)
</code></pre>
<h3 data-id="heading-8">æ­¥éª¤3ï¼šå†™ä½ çš„å†…å®¹</h3>
<p>å†™ä½ å®é™…çš„ç¬”è®°â€”â€”è§è§£ã€å…³é”®ç‚¹ã€é—®é¢˜ï¼Œä»»ä½•å¯¹ä½ é‡è¦çš„äº‹æƒ…ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">ç ”ç©¶äººå‘˜ä½¿ç”¨ç¥ç»ç½‘ç»œä»¥85%çš„å‡†ç¡®ç‡é¢„æµ‹ååº”ç»“æœã€‚

å…³é”®è§è§£ï¼šä¼ ç»Ÿçš„é‡å­åŒ–å­¦è®¡ç®—éœ€è¦å‡ ä¸ªå°æ—¶ï¼Œä½†è¿™ä¸ªMLæ¨¡å‹åœ¨å‡ ç§’é’Ÿå†…ç»™å‡ºé¢„æµ‹ã€‚

é—®é¢˜ï¼šè¿™ç§æ–¹æ³•èƒ½ç”¨äºè¯ç‰©å‘ç°ç®¡é“å—ï¼Ÿ

è®­ç»ƒæ•°æ®é›†åŒ…æ‹¬æœ‰æœºåŒ–å­¦æ–‡çŒ®ä¸­çš„50,000ä¸ªå·²çŸ¥ååº”ã€‚
</code></pre>
<h3 data-id="heading-9">æ­¥éª¤4ï¼šé“¾æ¥åˆ°MOCï¼ˆå¹¿æ³›çš„è¿æ¥ï¼‰</h3>
<p>ç„¶åæˆ‘è€ƒè™‘<a href="https://link.juejin.cn?target=https%3A%2F%2Fhelp.obsidian.md%2Flink-notes" target="_blank" title="https://help.obsidian.md/link-notes" ref="nofollow noopener noreferrer">é“¾æ¥</a>ã€‚é¦–å…ˆï¼Œæˆ‘é“¾æ¥åˆ°è¿™ä¸ªç¬”è®°ç›¸å…³çš„MOCï¼ˆå¦‚æœéœ€è¦ï¼Œåˆ›å»ºæ–°çš„MOCï¼‰ã€‚å¯¹äºé“¾æ¥åˆ°MOCï¼Œæˆ‘ç°åœ¨åªä½¿ç”¨æ ‡ç­¾ï¼ˆåœ¨YAML <a href="https://link.juejin.cn?target=https%3A%2F%2Fhelp.obsidian.md%2Fproperties" target="_blank" title="https://help.obsidian.md/properties" ref="nofollow noopener noreferrer">å±æ€§</a>ä¸­ï¼Œä½†ä½ å¯ä»¥åœ¨ç¬”è®°çš„ä»»ä½•åœ°æ–¹æ·»åŠ æ ‡ç­¾ï¼Œå¦‚<code>#ComputerScience</code>ï¼‰ï¼Œè¿™äº›æ ‡ç­¾æ˜¯ç›¸å…³MOCçš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fhelp.obsidian.md%2Faliases" target="_blank" title="https://help.obsidian.md/aliases" ref="nofollow noopener noreferrer">åˆ«å</a>ã€‚ä¾‹å¦‚ï¼Œåœ¨è¿™ä¸ªç¬”è®°ä¸­ï¼Œæˆ‘å°†æ ‡è®°#ComputerScienceå’Œ#Chemistryï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">---
tags:
<span class="hljs-bullet">  -</span> ComputerScience
<span class="hljs-section">  - Chemistry
---</span>
</code></pre>
<p>è¿™äº›æ ‡ç­¾æ˜¯å®ƒä»¬å„è‡ªMOCçš„åˆ«åã€‚è¿™æ ·æ›´å¥½ï¼Œå› ä¸ºä½ è·å¾—äº†æ ‡ç­¾çš„åŠŸèƒ½å’Œé“¾æ¥åˆ°MOCç¬”è®°çš„åŠŸèƒ½ã€‚</p>
<p>**é­”æ³•è‡ªåŠ¨å‘ç”Ÿã€‚**å½“ä½ ä½¿ç”¨ä½œä¸ºMOCåˆ«åçš„æ ‡ç­¾æ—¶ï¼ŒObsidianå°†å®ƒä»¬æ—¢è§†ä¸ºæ ‡ç­¾ï¼ˆå¯æœç´¢ã€å¯è¿‡æ»¤ï¼‰åˆè§†ä¸ºé“¾æ¥ï¼ˆå¯ç‚¹å‡»ã€åœ¨å›¾å½¢è§†å›¾ä¸­è¿æ¥ï¼‰ã€‚ä½ çš„è®¡ç®—åŒ–å­¦ç¬”è®°ç°åœ¨æ˜¾ç¤ºä¸è®¡ç®—æœºç§‘å­¦å’ŒåŒ–å­¦ä¸»é¢˜éƒ½è¿æ¥ï¼Œè€Œä¸ä¼šè¢«å›°åœ¨ä»»ä¸€æ–‡ä»¶å¤¹ä¸­ã€‚</p>
<p>ä½†å¦‚æœè¿™å¤ªå¤šäº†ï¼Œåªéœ€ç›´æ¥åœ¨ç¬”è®°ä¸­é“¾æ¥åˆ°MOCï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">Related MOCs: [[Computer Science MOC]], [[Chemistry MOC]]
</code></pre>
<h3 data-id="heading-10">æ­¥éª¤5ï¼šé“¾æ¥åˆ°ç‰¹å®šç¬”è®°</h3>
<p>æœ€åï¼Œé“¾æ¥åˆ°ä½ å·²ç»åˆ›å»ºçš„å…¶ä»–ç›¸å…³ç¬”è®°ã€‚ä½ å¯ä»¥å†…è”å®Œæˆï¼Œåœ¨å±æ€§ä¸­æˆ–åœ¨ç¬”è®°åº•éƒ¨ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">è¿™è¿æ¥åˆ°æˆ‘å…³äº[[Neural Network Architectures]]å’Œ[[Drug Discovery Process]]çš„ç¬”è®°ã€‚

å¦è§ï¼š[[Quantum Chemistry Limitations]] - è¿™ä¸ªMLæ–¹æ³•è§£å†³äº†æˆ‘åœ¨é‚£é‡Œæåˆ°çš„é€Ÿåº¦é—®é¢˜ã€‚
</code></pre>
<p>**ä¸è¦è¿‡åº¦æ€è€ƒã€‚**å¦‚æœè¿™æ„Ÿè§‰åƒå¤ªå¤šçš„ç»“æ„ï¼Œåªéœ€ä»ç¬”è®°å†…å®¹å¼€å§‹å¹¶æ·»åŠ ä¸€ä¸¤ä¸ªæ˜æ˜¾çš„é“¾æ¥ã€‚éšç€ä½ çš„åº“å¢é•¿å’Œæ¨¡å¼å‡ºç°ï¼Œä½ æ€»æ˜¯å¯ä»¥ç¨åæ·»åŠ æ›´å¤šé“¾æ¥æˆ–å±æ€§ã€‚</p>
<h2 data-id="heading-11">ç»“è®º</h2>
<p>è¿™åº”è¯¥è¶³å¤Ÿå¼€å§‹ä½¿ç”¨äº†ã€‚ä½†è®°ä½ï¼Œåªè¦å¼€å§‹å†™ä½œï¼è¿™å¯èƒ½æ„Ÿè§‰å¥‡æ€ªï¼Œå› ä¸ºä½ å¯èƒ½ä¼šæ„Ÿåˆ°å†²åŠ¨å»åˆ›å»ºæŸç§è‡ªä¸Šè€Œä¸‹çš„ç»„ç»‡ç»“æ„ï¼ˆæ— è®ºæ˜¯æ–‡ä»¶å¤¹è¿˜æ˜¯æ•°æ®åº“ï¼‰ï¼Œä»¥ä¾¿èƒ½å¤Ÿå†æ¬¡æ‰¾åˆ°ç¬”è®°æˆ–è€…åªæ˜¯ä¸ºäº†æ„Ÿè§‰ç»„ç»‡æœ‰åºã€‚ä½†å¦‚æœä½ éœ€è¦æ‰¾åˆ°ä¸€ä¸ªç¬”è®°ï¼Œä½ å¯ä»¥ä¾é Obsidianå‡ºè‰²çš„æœç´¢åŠŸèƒ½åœ¨éœ€è¦æ—¶æ‰¾åˆ°ä½ éœ€è¦çš„ä¸œè¥¿ã€‚ä¼˜å…ˆè€ƒè™‘å†™ä½œè€Œä¸æ˜¯ç»„ç»‡ã€‚</p>
<h3 data-id="heading-12">é¢å¤–æç¤º</h3>
<p>é¿å…å°è¯•å¤ªå¤šæ’ä»¶å¹¶è¯•å›¾è·å¾—é‚£ä¸ªéš¾ä»¥æ‰æ‘¸çš„"å®Œç¾è®¾ç½®"ã€‚"å®Œç¾è®¾ç½®"ä¸å­˜åœ¨ï¼Œä½ å°†æ€»æ˜¯åœ¨å¯¹æŠ—ç†µï¼Œä¸ï¼Œé‚£ä¸ªæ–°æ’ä»¶ä¸ä¼šçªç„¶è®©ä½ çš„åº“ç¥å¥‡åœ°å®Œç¾ã€‚é¿å…"å†æ¥ä¸€ä¸ªæ’ä»¶/å·¥å…·"çš„é™·é˜±ã€‚æˆ‘èµ°è¿‡é‚£æ¡è·¯ï¼Œå®ƒåªæ˜¯æµªè´¹æ—¶é—´ã€‚æˆ‘ä»Trelloåˆ°å¤šä¸ªNotionæ•°æ®åº“å·¥ä½œæµï¼ˆè®¾ç½®å…³ç³»æ•°æ®åº“çš„æµ·å¸‚èœƒæ¥¼ï¼‰ï¼Œåˆ°å°è¯•Reclaim.aiç„¶ååˆ°Obsidianä¸€ä¸ªä»»åŠ¡ä¸€ä¸ªç¬”è®°ï¼Œç„¶åæ˜¯Tasksæ’ä»¶ï¼Œç°åœ¨æˆ‘è´ªæ‹åœ°ç›¯ç€TaskNotesæ’ä»¶ï¼ŒåŒæ—¶çƒ­åˆ‡ç­‰å¾…Obsidian <a href="https://link.juejin.cn?target=https%3A%2F%2Fhelp.obsidian.md%2Fbases" target="_blank" title="https://help.obsidian.md/bases" ref="nofollow noopener noreferrer">Bases</a>çš„å‘å¸ƒã€‚å°½ç®¡æˆ‘å¯ä»¥å›é¡¾å¹¶ä¸ºæˆ‘çš„ï¼Œæ³¨æ„æµè¡Œè¯è­¦å‘Šï¼ŒPKMï¼ˆä¸ªäººçŸ¥è¯†ç®¡ç†ï¼‰å’Œä»»åŠ¡ç®¡ç†è®¾ç½®çš„æ¯ä¸ªè¿‡æ¸¡è¾©æŠ¤ï¼Œä½†æ¯ä¸ªè¿‡æ¸¡éƒ½å ç”¨äº†å†™ä½œå’Œå®Œæˆäº‹æƒ…çš„æ—¶é—´ã€‚æˆ‘ç°åœ¨è‡³å°‘å°è¯•è·å¾—æ’ä»¶/å·¥å…·æœ€ç®€ä¸»ä¹‰çš„ç¾å¾·ï¼Œå°½ç®¡æ²¡æœ‰å®Œå…¨å®ç°è¿™ä¸ªé›„å¿ƒã€‚æˆ‘ä¸æ˜¯è¯´ä¸è¦ä½¿ç”¨æ’ä»¶/å·¥å…·ï¼Œä½†åªæ˜¯è¦æ³¨æ„å­¦ä¹ å¹¶è®¾ç½®æ–°æ’ä»¶/å·¥å…·æ‰€èŠ±è´¹çš„çœŸæ­£æœºä¼šæˆæœ¬ã€‚å¹¶è´¨ç–‘è¿™ä¸ªæ–°æ’ä»¶/å·¥å…·æˆ–é‡ç»„æ˜¯å¦å€¼å¾—çœŸæ­£æœºä¼šæˆæœ¬ã€‚å¤§å¤šæ•°æ—¶å€™ï¼Œå®ƒä¸å€¼å¾—ã€‚</p>
<p>è®°ä½ï¼ŒçœŸæ­£çš„ç›®æ ‡æ˜¯æ•è·å’Œè¿æ¥æƒ³æ³•ï¼Œè€Œä¸æ˜¯å®Œå–„ä½ çš„ç³»ç»Ÿã€‚</p>
<p>æ‰€ä»¥ä¸è¦åšç”Ÿäº§åŠ›çš„ä¸­ç­‰æ™ºæ…§ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9207bb965221419997c69453b29f8dc6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv6a2U5Li45ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763713623&amp;x-signature=RfM5U0dpAkeTymdsr17B8sEvyEk%3D" alt="" loading="lazy"/></p>
<p>å› ä¸ºObsidianä½¿ç”¨æœ¬åœ°.mdæ–‡ä»¶ï¼Œä½ çš„ç¬”è®°ä¸ä¼šè¢«å›°åœ¨ä¸“æœ‰ç³»ç»Ÿä¸­ã€‚è¿™ä¸ªå®‰å…¨ç½‘æ„å‘³ç€ä½ ç»ˆäºå¯ä»¥æŠ•å…¥ä¸€ä¸ªå·¥å…·è€Œæ²¡æœ‰ä¾›åº”å•†é”å®šç„¦è™‘ã€‚</p>
<p>è¿™ç§æ–¹æ³•çš„ç¾å¦™ä¹‹å¤„åœ¨äºå…¶ç®€å•æ€§ã€‚ä»Home MOCå¼€å§‹ï¼Œå¯ç”¨æ¯æ—¥ç¬”è®°ï¼Œåˆ›å»ºå‡ ä¸ªå¿…è¦çš„æ–‡ä»¶å¤¹ï¼Œç„¶åå¼€å§‹å†™ä½œã€‚ä½ çš„åº“å°†æœ‰æœºå¢é•¿ï¼Œè¿æ¥å°†è‡ªç„¶å‡ºç°ï¼Œä½ å°†é¿å…æ— ä¼‘æ­¢çš„è®¾ç½®è°ƒæ•´ï¼Œè¿™è®©è®¸å¤šäººæ— æ³•çœŸæ­£ä½¿ç”¨ä»–ä»¬çš„å·¥å…·ã€‚</p>
<p>æ‰€ä»¥æŠ•å…¥å§ï¼Œä¸è¦åšä¸­ç­‰æ™ºæ…§ã€‚ğŸ˜‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[TRAE å®æˆ˜ï¼šSpring Boot JWT è®¤è¯æˆæƒç³»ç»Ÿå…¨æµç¨‹å¼€å‘]]></title>    <link>https://juejin.cn/post/7572385850634960902</link>    <guid>https://juejin.cn/post/7572385850634960902</guid>    <pubDate>2025-11-14T08:24:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572385850634960902" data-draft-id="7572132916576665636" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="TRAE å®æˆ˜ï¼šSpring Boot JWT è®¤è¯æˆæƒç³»ç»Ÿå…¨æµç¨‹å¼€å‘"/> <meta itemprop="keywords" content="Trae"/> <meta itemprop="datePublished" content="2025-11-14T08:24:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤©å¤©æ‘¸é±¼çš„javaå·¥ç¨‹å¸ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/3109843365802925"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            TRAE å®æˆ˜ï¼šSpring Boot JWT è®¤è¯æˆæƒç³»ç»Ÿå…¨æµç¨‹å¼€å‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3109843365802925/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤©å¤©æ‘¸é±¼çš„javaå·¥ç¨‹å¸ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T08:24:39.000Z" title="Fri Nov 14 2025 08:24:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">TRAE å®æˆ˜ï¼šSpring Boot JWT è®¤è¯æˆæƒç³»ç»Ÿå…¨æµç¨‹å¼€å‘</h2>
<p>æœ¬æ–‡ä½œè€…ï¼šå¤©å¤©æ‘¸é±¼çš„ java å·¥ç¨‹å¸ˆ</p>
<h3 data-id="heading-1">ğŸ¯ å…ˆçœ‹æ•ˆæœå›¾</h3>
<p>è¿™ç¯‡æ–‡ç« ä¸æè™šçš„ï¼Œå…¨ç¨‹å®æˆ˜ â€”â€” ä» PRD è½¬æŠ€æœ¯æ–‡æ¡£ï¼Œåˆ°æ¥å£è®¾è®¡ã€ä»£ç ç”Ÿæˆã€æµ‹è¯•éªŒè¯ï¼Œå†åˆ°å®é™…è¿è¡Œæ•ˆæœï¼Œä¸€æ­¥æ­¥å¸¦ä½ çœ‹ AI å¦‚ä½•å¸®æˆ‘ä»¬çœä¸‹ 80% çš„é‡å¤å·¥ä½œï¼Œè®©è®¤è¯æˆæƒå¼€å‘ä» â€œè€—æ—¶æ´»â€ å˜æˆ â€œè½»æ¾æ´»â€ã€‚ä¸ç®¡æ˜¯æ–°é¡¹ç›®æ­å»ºæƒé™ä½“ç³»ï¼Œè¿˜æ˜¯æ—§é¡¹ç›®å®‰å…¨æ”¹é€ ï¼Œè·Ÿç€èµ°å°±èƒ½ç›´æ¥å¤ç”¨ï¼</p>
<h4 data-id="heading-2">1. ç³»ç»Ÿç™»å½•é¡µé¢</h4>
<p>è®¿é—®ç³»ç»Ÿå…¥å£é¦–å…ˆè¿›å…¥ç™»å½•ç•Œé¢ï¼Œæ”¯æŒè¾“å…¥æµ‹è¯•è´¦å·ï¼ˆå¦‚<code>admin</code>/<code>admin123</code>ï¼‰å‘èµ·è®¤è¯è¯·æ±‚ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ebdf540d272c416dad3cb69fe0cf4632~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSp5aSp5pG46bG855qEamF2YeW3peeoi-W4iA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763713479&amp;x-signature=LMtJwskIgjemz58Fh1QwH01kBUI%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-3">2. ç®¡ç†å‘˜ä»ªè¡¨ç›˜</h4>
<p>ç™»å½•æˆåŠŸåè‡ªåŠ¨è·³è½¬è‡³ä¸ªäººä»ªè¡¨ç›˜ï¼Œå±•ç¤ºå½“å‰ç”¨æˆ·è§’è‰²ï¼ˆå¦‚<code>ROLE_ADMIN</code>ï¼‰ï¼Œå¹¶æ”¯æŒæµ‹è¯•ä¸åŒæƒé™çš„ API æ¥å£ï¼ˆå¦‚å›¾ä¸­ â€œæµ‹è¯•å—ä¿æŠ¤æ¥å£â€ ä»…ç®¡ç†å‘˜å¯æ­£å¸¸è®¿é—®ï¼‰ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0d26f8698da74ac3a070840c0af8716f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSp5aSp5pG46bG855qEamF2YeW3peeoi-W4iA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763713479&amp;x-signature=nvaR5b29RfBrBkeVDdxGHtjBovw%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-4">ğŸš€ ç¬¬ä¸€æ­¥ï¼šAI å¼€å‘å››æ­¥æ³•</h3>
<p>è¿™ä¸ªéœ€æ±‚æŠ“å¾—å¾ˆå‡†ï¼Œç›´å‡»å‰åç«¯åˆ†ç¦»é¡¹ç›®çš„æ ¸å¿ƒå®‰å…¨ç—›ç‚¹ï¼æ ¸å¿ƒç»“è®ºï¼šå€ŸåŠ© TRAE è¾…åŠ©å¼€å‘ï¼ŒåŸºäº Spring Boot+JWT+Spring Security å¯å¿«é€Ÿè½åœ°ä¸€å¥—å®Œæ•´çš„è®¤è¯æˆæƒç³»ç»Ÿï¼Œæ”¯æŒè‡ªå®šä¹‰æƒé™æ³¨è§£å’Œç»†ç²’åº¦è®¿é—®æ§åˆ¶ï¼Œé¡¹ç›®åˆ°æ‰‹å³è·‘ã€å¯ç›´æ¥å¤ç”¨ã€‚</p>
<p>AI è¾…åŠ©è®¤è¯æˆæƒå¼€å‘çš„å®Œæ•´æµç¨‹æ¸…æ™°é«˜æ•ˆï¼š</p>
<ol>
<li>éœ€æ±‚åˆ†æä¸æŠ€æœ¯æ–‡æ¡£è½¬æ¢ï¼šå°†äº§å“å®‰å…¨éœ€æ±‚è½¬åŒ–ä¸ºç»“æ„åŒ–æŠ€æœ¯æ–‡æ¡£ï¼Œæ˜ç¡®è®¤è¯æ–¹å¼ã€æƒé™ç²’åº¦å’ŒéªŒæ”¶æ ‡å‡†</li>
<li>æ¥å£è®¾è®¡ä¸æ•°æ®å»ºæ¨¡ï¼šå®šä¹‰ RESTful API åè®®ã€ç”¨æˆ·æƒé™æ•°æ®æ¨¡å‹ï¼Œå…¼é¡¾å®‰å…¨æ€§å’Œæ‰©å±•æ€§</li>
<li>ä»£ç ç”Ÿæˆä¸ä¸šåŠ¡é€»è¾‘å®ç°ï¼šAI ç”ŸæˆåŸºç¡€é…ç½®ã€å·¥å…·ç±»å’Œ CRUD ä»£ç ï¼Œäººå·¥èšç„¦ JWT æ ¸å¿ƒé€»è¾‘ã€æƒé™æ³¨è§£å’Œå®‰å…¨æ ¡éªŒ</li>
<li>æµ‹è¯•éªŒè¯ä¸æ–‡æ¡£åŒæ­¥ï¼šç”Ÿæˆå•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•ç”¨ä¾‹ï¼Œè‡ªåŠ¨åŒæ­¥æ¥å£æ–‡æ¡£å’Œé…ç½®è¯´æ˜</li>
</ol>
<h3 data-id="heading-5">ğŸ¯ ç¬¬äºŒæ­¥ï¼šæ ¸å¿ƒæ€è·¯</h3>
<p>äººæœºåˆç†åˆ†å·¥æ˜¯é«˜æ•ˆè½åœ°çš„å…³é”®ï¼š</p>
<p>æˆ‘ä»¬è´Ÿè´£ï¼š</p>
<ul>
<li>æ¶æ„å†³ç­–ï¼šç¡®å®šè®¤è¯æ–¹æ¡ˆï¼ˆJWT æ— çŠ¶æ€ï¼‰ã€æƒé™æ¨¡å‹ï¼ˆRBAC åŸºç¡€ï¼‰ã€æŠ€æœ¯æ ˆç»„åˆï¼ˆSpring Boot+Spring Security+JPA+H2ï¼‰</li>
<li>æ ¸å¿ƒé€»è¾‘å®ç°ï¼šè‡ªå®šä¹‰æƒé™æ³¨è§£ã€JWT Token ç”Ÿæˆ / è§£æ / åˆ·æ–°æœºåˆ¶ã€AOP æƒé™åˆ‡é¢ã€å®‰å…¨è¿‡æ»¤å™¨é“¾é…ç½®</li>
<li>ä»£ç  reviewï¼šæŠŠæ§åŠ å¯†ç®—æ³•å®‰å…¨æ€§ã€æƒé™æ ¡éªŒé€»è¾‘ä¸¥è°¨æ€§ã€ä»£ç è§„èŒƒä¸€è‡´æ€§ï¼Œè§„é¿å®‰å…¨æ¼æ´</li>
</ul>
<p>TRAE è´Ÿè´£ï¼š</p>
<ul>
<li>é‡å¤åŠ³åŠ¨ï¼šç”Ÿæˆ Spring Security é…ç½®ç±»ã€JWT å·¥å…·ç±»ã€æ•°æ®åº“å®ä½“ / Repositoryã€æ§åˆ¶å™¨åŸºç¡€ä»£ç </li>
<li>æ–‡æ¡£åŒæ­¥ï¼šè‡ªåŠ¨æ›´æ–°æ¥å£æ–‡æ¡£ã€é¡¹ç›®ç»“æ„è¯´æ˜ã€æµ‹è¯•æ•°æ®æ¸…å•ï¼Œä¿æŒæ–‡æ¡£ä¸ä»£ç åŒæ­¥</li>
<li>æµ‹è¯•ç”¨ä¾‹ï¼šç”Ÿæˆå•å…ƒæµ‹è¯•ï¼ˆå·¥å…·ç±»ã€åˆ‡é¢é€»è¾‘ï¼‰å’Œé›†æˆæµ‹è¯•ï¼ˆæ¥å£å…¨æµç¨‹ï¼‰ä»£ç ï¼Œè¦†ç›–æ ¸å¿ƒåœºæ™¯</li>
</ul>
<h3 data-id="heading-6">ğŸ“‹ ç¬¬ä¸‰æ­¥ï¼šå®Œæ•´å·¥ä½œæµ</h3>
<p>ä»¥å¼€å‘ä¸€å¥—é€šç”¨çš„ Spring Boot JWT è®¤è¯æˆæƒç³»ç»Ÿä¸ºä¾‹ï¼Œå…¨ç¨‹è½åœ°å¯è·‘ï¼š</p>
<h4 data-id="heading-7">ç¬¬å››æ­¥ï¼šéœ€æ±‚æ–‡æ¡£äºŒæ¬¡åŠ å·¥ï¼ˆå…³é”®æ­¥éª¤ï¼‰</h4>
<p>åŸå§‹ PRD é€šå¸¸æ˜¯è¿™æ ·çš„ï¼š"åšä¸€å¥—å‰åç«¯åˆ†ç¦»çš„è®¤è¯æˆæƒç³»ç»Ÿï¼Œæ”¯æŒç”¨æˆ·æ³¨å†Œç™»å½•ã€è§’è‰²æƒé™æ§åˆ¶ï¼Œæ¥å£éœ€è¦ Token éªŒè¯ï¼Œä¸åŒè§’è‰²èƒ½è®¿é—®ä¸åŒæ¥å£ï¼Œè¿˜è¦æœ‰è‡ªå®šä¹‰æƒé™æ³¨è§£"</p>
<p>ä½¿ç”¨æ ‡å‡†åŒ–æç¤ºè¯è®© TRAE è½¬æ¢ä¸ºæŠ€æœ¯æ–‡æ¡£ï¼Œæç¤ºè¯å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">è¿™æ˜¯åŸå§‹éœ€æ±‚æ–‡æ¡£@authéœ€æ±‚.mdï¼Œè¯·å¸®æˆ‘è½¬æ¢ä¸ºå¼€å‘å¯æ‰§è¡Œçš„æŠ€æœ¯æ–‡æ¡£ï¼ŒæŒ‰ä»¥ä¸‹æ ¼å¼ï¼š
<span class="hljs-bullet">1.</span> æ ¸å¿ƒå®ä½“å’Œå…³ç³»
<span class="hljs-bullet">2.</span> ä¸»è¦åŠŸèƒ½ç‚¹
<span class="hljs-bullet">3.</span> è®¤è¯æƒé™æµè½¬è§„åˆ™
<span class="hljs-bullet">4.</span> æ¥å£åè®®è®¾è®¡
<span class="hljs-bullet">5.</span> éªŒæ”¶æ ‡å‡†
åŸå§‹éœ€æ±‚ï¼š[ç²˜è´´ PRD å†…å®¹]
</code></pre>
<p>è½¬æ¢ç»“æœç¤ºä¾‹ï¼š</p>
<h5 data-id="heading-8">JWT è®¤è¯æˆæƒç³»ç»ŸæŠ€æœ¯éœ€æ±‚ v1.0</h5>
<ol>
<li>æ ¸å¿ƒå®ä½“</li>
</ol>
<ul>
<li>ç”¨æˆ· (User)ï¼šç³»ç»Ÿè®¿é—®ä¸»ä½“ï¼ŒåŒ…å«ç”¨æˆ·åã€å¯†ç ã€è§’è‰²ç­‰æ ¸å¿ƒä¿¡æ¯</li>
<li>è§’è‰² (Role)ï¼šæƒé™é›†åˆè½½ä½“ï¼Œå…³è”ç”¨æˆ·ä¸å…·ä½“æƒé™ï¼ˆADMIN/USER åŸºç¡€è§’è‰²ï¼‰</li>
<li>Tokenï¼šè®¤è¯å‡­è¯ï¼ŒåŒ…å«ç”¨æˆ· IDã€è§’è‰²ä¿¡æ¯ã€è¿‡æœŸæ—¶é—´ç­‰æ ¸å¿ƒå­—æ®µ</li>
<li>æƒé™ (Permission)ï¼šæ¥å£ / åŠŸèƒ½è®¿é—®è®¸å¯ï¼Œæ”¯æŒé€šè¿‡æ³¨è§£ç»†ç²’åº¦æ§åˆ¶</li>
</ul>
<ol start="2">
<li>ä¸»è¦åŠŸèƒ½ç‚¹</li>
</ol>
<ul>
<li>ç”¨æˆ·æ³¨å†Œï¼šæ–°ç”¨æˆ·æäº¤è´¦å·å¯†ç ï¼Œç³»ç»ŸåŠ å¯†å­˜å‚¨å¹¶åˆ†é…é»˜è®¤è§’è‰²</li>
<li>ç”¨æˆ·ç™»å½•ï¼šéªŒè¯è´¦å·å¯†ç ï¼Œç”Ÿæˆ Access Tokenï¼ˆçŸ­æœŸæœ‰æ•ˆï¼‰å’Œ Refresh Tokenï¼ˆé•¿æœŸæœ‰æ•ˆï¼‰</li>
<li>æ¥å£è®¤è¯ï¼šæ‰€æœ‰å—ä¿æŠ¤æ¥å£éœ€æºå¸¦æœ‰æ•ˆ Tokenï¼Œå¦åˆ™æ‹’ç»è®¿é—®</li>
<li>æƒé™æ§åˆ¶ï¼šåŸºäºè§’è‰²å’Œè‡ªå®šä¹‰æ³¨è§£ï¼Œé™åˆ¶æ¥å£è®¿é—®æƒé™</li>
<li>Token ç®¡ç†ï¼šæ”¯æŒ Token åˆ·æ–°ã€å¤±æ•ˆå¤„ç†ï¼Œä¿éšœç³»ç»Ÿå®‰å…¨æ€§</li>
</ul>
<ol start="3">
<li>è®¤è¯æƒé™æµè½¬è§„åˆ™æœªç™»å½•çŠ¶æ€ â†’ æ³¨å†Œ / ç™»å½• â†’ ç”ŸæˆåŒ Token â†’ æºå¸¦ Token è®¿é—®æ¥å£ â†’ è¿‡æ»¤å™¨éªŒè¯ Token æœ‰æ•ˆæ€§ â†’ AOP éªŒè¯æƒé™ â†’ å…è®¸è®¿é—® / è¿”å›é”™è¯¯</li>
<li>éªŒæ”¶æ ‡å‡†</li>
</ol>
<ul>
<li>Given ç”¨æˆ·åå¯†ç æ­£ç¡®ï¼ŒWhen ç”¨æˆ·å‘èµ·ç™»å½•è¯·æ±‚ï¼ŒThen è¿”å› Access Token å’Œ Refresh Tokenï¼ŒçŠ¶æ€ç  200</li>
<li>Given Token æœ‰æ•ˆä¸”ç”¨æˆ·æ‹¥æœ‰æ¥å£æƒé™ï¼ŒWhen æºå¸¦ Token è®¿é—®å—ä¿æŠ¤æ¥å£ï¼ŒThen æ­£å¸¸è¿”å›æ¥å£æ•°æ®</li>
<li>Given Token è¿‡æœŸæˆ–æ— æ•ˆï¼ŒWhen è®¿é—®å—ä¿æŠ¤æ¥å£ï¼ŒThen è¿”å› 401 æœªæˆæƒé”™è¯¯</li>
<li>Given Token æœ‰æ•ˆä½†ç”¨æˆ·æ— æ¥å£æƒé™ï¼ŒWhen è®¿é—®å—ä¿æŠ¤æ¥å£ï¼ŒThen è¿”å› 403 æƒé™ä¸è¶³é”™è¯¯</li>
</ul>
<h4 data-id="heading-9">ç¬¬äº”æ­¥ï¼šå›ºå®šæç¤ºè¯ä¸é…ç½®</h4>
<p>æ¯æ¬¡ä¸ TRAE äº¤äº’æ—¶æºå¸¦å›ºå®šæç¤ºè¯ï¼Œç¡®ä¿è¾“å‡ºå†…å®¹ä¸€è‡´æ€§ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">xxxxxx(å…·ä½“å¼€å‘éœ€æ±‚)
æ­¤å¤–ï¼Œè¯·åŠ¡å¿…éµå®ˆä»¥ä¸‹è¦æ±‚ï¼š
<span class="hljs-bullet">1.</span> æŠ€æœ¯æ ˆç‰ˆæœ¬é”å®šï¼šSpring Boot 2.7.xã€Spring Security 5.7.xã€JJWT 0.11.xã€JPA 2.6.xã€H2 2.2.x
<span class="hljs-bullet">2.</span> ä»£ç éµå¾ª Alibaba Java å¼€å‘æ‰‹å†Œï¼Œç±»åã€æ–¹æ³•åã€å˜é‡åç¬¦åˆå‘½åè§„èŒƒï¼Œæ·»åŠ ä¸­æ–‡æ³¨é‡Š
<span class="hljs-bullet">3.</span> ç»Ÿä¸€å“åº”æ ¼å¼ï¼šæ‰€æœ‰æ¥å£è¿”å› Result ç»“æ„ä½“ï¼ˆcode: çŠ¶æ€ç , msg: æç¤ºä¿¡æ¯, data: å“åº”æ•°æ®ï¼‰
<span class="hljs-bullet">4.</span> å¯†ç åŠ å¯†ä½¿ç”¨ BCryptPasswordEncoderï¼Œç¦æ­¢æ˜æ–‡å­˜å‚¨
<span class="hljs-bullet">5.</span> è‡ªå®šä¹‰æƒé™æ³¨è§£å‘½åä¸º @RequiresPermissionï¼Œæ”¯æŒé€šè¿‡ AOP åˆ‡é¢å®ç°æƒé™æ ¡éªŒ
<span class="hljs-bullet">6.</span> H2 æ•°æ®åº“é…ç½®æ”¯æŒæ§åˆ¶å°è®¿é—®ï¼Œæ•°æ®è‡ªåŠ¨åˆå§‹åŒ–
<span class="hljs-bullet">7.</span> ç”Ÿæˆä»£ç åŒ…å«å®Œæ•´åŒ…è·¯å¾„ã€ä¾èµ–é…ç½®ï¼ˆpom.xmlï¼‰ï¼Œå¯ç›´æ¥å¤åˆ¶è¿è¡Œ
<span class="hljs-bullet">8.</span> å¼‚å¸¸ç»Ÿä¸€å¤„ç†ï¼šè¦†ç›– Token è¿‡æœŸã€æ— æ•ˆã€æ— æƒé™ç­‰æ ¸å¿ƒåœºæ™¯ï¼Œè¿”å›å‹å¥½æç¤º
</code></pre>
<p>.TRAE/rules/project_rules.md é…ç½®æ–‡ä»¶ï¼ˆæ§åˆ¶ AI è‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£ï¼‰ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">## åŸºç¡€è§„çº¦</span>
<span class="hljs-bullet">-</span> é¡¹ç›®ç¼–ç  UTF-8ï¼ŒJava ç‰ˆæœ¬ 8+ï¼ŒMaven 3.6+
<span class="hljs-bullet">-</span> æ ¸å¿ƒä¾èµ–ï¼šSpring Boot Starter Webã€Spring Boot Starter Securityã€Spring Boot Starter Data JPAã€JJWTã€H2 Databaseã€Spring Boot Starter AOP
<span class="hljs-bullet">-</span> æ•°æ®åº“ï¼šH2 å†…å­˜æ•°æ®åº“ï¼ŒDDL è‡ªåŠ¨æ‰§è¡Œï¼ŒDML åˆå§‹åŒ–æµ‹è¯•æ•°æ®
<span class="hljs-bullet">-</span> å®‰å…¨è§„èŒƒï¼šToken è¿‡æœŸæ—¶é—´ï¼ˆAccess Token 30 åˆ†é’Ÿï¼ŒRefresh Token 7 å¤©ï¼‰ï¼Œç¦æ­¢ç¡¬ç¼–ç å¯†é’¥

<span class="hljs-section">## è‡ªåŠ¨æ–‡æ¡£ç”Ÿæˆ</span>
æ¯æ¬¡å®Œæˆä»£ç ä¿®æ”¹åï¼Œåœ¨ docs/summaries/YYYY-MM-DD/ ç›®å½•ä¸‹ç”Ÿæˆæ€»ç»“æ–‡æ¡£ï¼ŒåŒ…å«ï¼š
<span class="hljs-bullet">1.</span> æœ¬æ¬¡ä¿®æ”¹çš„åŠŸèƒ½ç‚¹
<span class="hljs-bullet">2.</span> æ¶‰åŠçš„æ–‡ä»¶åˆ—è¡¨
<span class="hljs-bullet">3.</span> æ ¸å¿ƒé€»è¾‘è¯´æ˜ï¼ˆå«å…³é”®é…ç½®ï¼‰
<span class="hljs-bullet">4.</span> API å˜æ›´è®°å½•ï¼ˆæ–°å¢/ä¿®æ”¹/åˆ é™¤ï¼‰
æ–‡æ¡£å‘½åï¼šHH-MM-SS<span class="hljs-emphasis">_auth_</span>summary.md

<span class="hljs-section">## ä»£ç è´¨é‡è¦æ±‚</span>
<span class="hljs-bullet">-</span> å·¥å…·ç±»é‡‡ç”¨å•ä¾‹æ¨¡å¼æˆ–é™æ€æ–¹æ³•ï¼Œé¿å…é‡å¤åˆ›å»ºå¯¹è±¡
<span class="hljs-bullet">-</span> æ‰€æœ‰æ¥å£è¯·æ±‚å‚æ•°æ·»åŠ æ ¡éªŒæ³¨è§£ï¼ˆ@NotNullã€@NotBlank ç­‰ï¼‰
<span class="hljs-bullet">-</span> å®‰å…¨ç›¸å…³ä»£ç ï¼ˆToken ç”Ÿæˆã€æƒé™æ ¡éªŒï¼‰å¿…é¡»æ·»åŠ è¯¦ç»†æ³¨é‡Š
<span class="hljs-bullet">-</span> å¼‚å¸¸å¤„ç†é€šè¿‡å…¨å±€å¼‚å¸¸å¤„ç†å™¨ç»Ÿä¸€æ•è·ï¼Œç¦æ­¢åˆ†æ•£æ•è·
</code></pre>
<h4 data-id="heading-10">ç¬¬å…­æ­¥ï¼šRESTful æ¥å£è®¾è®¡</h4>
<p>ä½¿ç”¨æç¤ºè¯æŒ‡å¯¼ AI ç”Ÿæˆ RESTful æ¥å£ï¼Œæç¤ºè¯å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">è¯·å‚è€ƒ JWT è®¤è¯æˆæƒç³»ç»ŸæŠ€æœ¯éœ€æ±‚ v1.0ï¼Œè®¾è®¡å®Œæ•´çš„ RESTful API æ¥å£ï¼Œè¦æ±‚ï¼š
<span class="hljs-bullet">1.</span> æ¥å£è·¯å¾„ç¬¦åˆ RESTful è§„èŒƒï¼ŒåŒºåˆ†å…¬å…±æ¥å£å’Œå—ä¿æŠ¤æ¥å£
<span class="hljs-bullet">2.</span> åŒ…å«æ³¨å†Œã€ç™»å½•ã€åˆ·æ–° Tokenã€æŸ¥è¯¢å½“å‰ç”¨æˆ·ä¿¡æ¯ã€æµ‹è¯•æƒé™æ¥å£ç­‰æ ¸å¿ƒåŠŸèƒ½
<span class="hljs-bullet">3.</span> å®šä¹‰è¯·æ±‚/å“åº” DTO å®ä½“ï¼Œæ·»åŠ å­—æ®µæ³¨é‡Šå’Œæ ¡éªŒæ³¨è§£
<span class="hljs-bullet">4.</span> æ ‡æ³¨æ¯ä¸ªæ¥å£çš„è®¿é—®æƒé™ï¼ˆå…¬å¼€/éœ€ç™»å½•/éœ€ç‰¹å®šè§’è‰²/éœ€ç‰¹å®šæƒé™ï¼‰
</code></pre>
<p>ç”Ÿæˆçš„æ ¸å¿ƒæ¥å£ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// å…¬å…±æ¥å£ï¼ˆæ— éœ€è®¤è¯ï¼‰</span>
<span class="hljs-variable">@RequestMapping</span>(<span class="hljs-string">"/api/auth"</span>)
public interface AuthController {
    <span class="hljs-comment">// ç”¨æˆ·æ³¨å†Œ</span>
    <span class="hljs-variable">@PostMapping</span>(<span class="hljs-string">"/register"</span>)
    Result&lt;UserLoginDTO&gt; <span class="hljs-built_in">register</span>(<span class="hljs-variable">@RequestBody</span> <span class="hljs-variable">@Valid</span> UserRegisterDTO registerDTO);
    
    <span class="hljs-comment">// ç”¨æˆ·ç™»å½•</span>
    <span class="hljs-variable">@PostMapping</span>(<span class="hljs-string">"/login"</span>)
    Result&lt;UserLoginDTO&gt; <span class="hljs-built_in">login</span>(<span class="hljs-variable">@RequestBody</span> <span class="hljs-variable">@Valid</span> UserLoginRequest request);
    
    <span class="hljs-comment">// åˆ·æ–° Token</span>
    <span class="hljs-variable">@PostMapping</span>(<span class="hljs-string">"/refresh-token"</span>)
    Result&lt;UserLoginDTO&gt; <span class="hljs-built_in">refreshToken</span>(<span class="hljs-variable">@RequestParam</span> String refreshToken);
}

<span class="hljs-comment">// å—ä¿æŠ¤æ¥å£ï¼ˆéœ€ç™»å½•/æƒé™ï¼‰</span>
<span class="hljs-variable">@RequestMapping</span>(<span class="hljs-string">"/api/users"</span>)
public interface UserController {
    <span class="hljs-comment">// æŸ¥è¯¢å½“å‰ç™»å½•ç”¨æˆ·ä¿¡æ¯ï¼ˆéœ€ç™»å½•ï¼‰</span>
    <span class="hljs-variable">@GetMapping</span>(<span class="hljs-string">"/me"</span>)
    Result&lt;UserVO&gt; <span class="hljs-built_in">getCurrentUser</span>();
    
    <span class="hljs-comment">// ç®¡ç†å‘˜æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ï¼ˆéœ€ ADMIN è§’è‰²ï¼‰</span>
    <span class="hljs-variable">@GetMapping</span>(<span class="hljs-string">"/all"</span>)
    <span class="hljs-variable">@PreAuthorize</span>(<span class="hljs-string">"hasRole('ADMIN')"</span>)
    Result&lt;List&lt;UserVO&gt;&gt; <span class="hljs-built_in">getAllUsers</span>();
    
    <span class="hljs-comment">// æµ‹è¯•è‡ªå®šä¹‰æƒé™ï¼ˆéœ€ user:test æƒé™ï¼‰</span>
    <span class="hljs-variable">@GetMapping</span>(<span class="hljs-string">"/test-perm"</span>)
    <span class="hljs-variable">@RequiresPermission</span>(<span class="hljs-string">"user:test"</span>)
    Result&lt;String&gt; <span class="hljs-built_in">testPermission</span>();
}

<span class="hljs-comment">// è¯·æ±‚/å“åº”å®ä½“ç¤ºä¾‹</span>
<span class="hljs-variable">@Data</span>
<span class="hljs-variable">@Validated</span>
public class UserRegisterDTO {
    <span class="hljs-variable">@NotBlank</span>(message = <span class="hljs-string">"ç”¨æˆ·åä¸èƒ½ä¸ºç©º"</span>)
    <span class="hljs-variable">@Size</span>(min = <span class="hljs-number">3</span>, max = <span class="hljs-number">20</span>, message = <span class="hljs-string">"ç”¨æˆ·åé•¿åº¦éœ€åœ¨ 3-20 å­—ç¬¦ä¹‹é—´"</span>)
    private String username;
    
    <span class="hljs-variable">@NotBlank</span>(message = <span class="hljs-string">"å¯†ç ä¸èƒ½ä¸ºç©º"</span>)
    <span class="hljs-variable">@Size</span>(min = <span class="hljs-number">6</span>, max = <span class="hljs-number">20</span>, message = <span class="hljs-string">"å¯†ç é•¿åº¦éœ€åœ¨ 6-20 å­—ç¬¦ä¹‹é—´"</span>)
    private String password;
    
    <span class="hljs-variable">@NotBlank</span>(message = <span class="hljs-string">"æ˜µç§°ä¸èƒ½ä¸ºç©º"</span>)
    private String nickname;
}

<span class="hljs-variable">@Data</span>
public class UserLoginDTO {
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">accessToken</span>;
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">refreshToken</span>;
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">Long</span> <span class="hljs-selector-tag">expiresIn</span>; <span class="hljs-comment">// Access Token è¿‡æœŸæ—¶é—´ï¼ˆç§’ï¼‰</span>
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">UserVO</span> <span class="hljs-selector-tag">userInfo</span>;
}

@<span class="hljs-selector-tag">Data</span>
<span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">class</span> <span class="hljs-selector-tag">Result</span>&lt;<span class="hljs-selector-tag">T</span>&gt; {
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">int</span> <span class="hljs-selector-tag">code</span>;
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">msg</span>;
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">T</span> <span class="hljs-selector-tag">data</span>;

    <span class="hljs-comment">// æˆåŠŸå“åº”</span>
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">static</span> &lt;<span class="hljs-selector-tag">T</span>&gt; <span class="hljs-selector-tag">Result</span>&lt;<span class="hljs-selector-tag">T</span>&gt; <span class="hljs-selector-tag">success</span>(T data) {
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">Result</span>&lt;&gt;(<span class="hljs-number">200</span>, <span class="hljs-string">"æ“ä½œæˆåŠŸ"</span>, data);
    }

    <span class="hljs-comment">// é”™è¯¯å“åº”</span>
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">static</span> &lt;<span class="hljs-selector-tag">T</span>&gt; <span class="hljs-selector-tag">Result</span>&lt;<span class="hljs-selector-tag">T</span>&gt; <span class="hljs-selector-tag">error</span>(int code, String msg) {
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">Result</span>&lt;&gt;(code, msg, null);
    }
}
</code></pre>
<h4 data-id="heading-11">ç¬¬ä¸ƒæ­¥ï¼šæ•°æ®åº“è®¾è®¡</h4>
<p>ä½¿ç”¨æç¤ºè¯ç”Ÿæˆæ•°æ®åº“è¡¨ç»“æ„ï¼Œæç¤ºè¯å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">è¯·æ ¹æ® JWT è®¤è¯æˆæƒç³»ç»ŸæŠ€æœ¯éœ€æ±‚ v1.0ï¼Œåˆ›å»º H2 æ•°æ®åº“è¡¨ç»“æ„ï¼Œè¦æ±‚ï¼š
<span class="hljs-bullet">1.</span> åŒ…å«ç”¨æˆ·è¡¨ï¼ˆå­˜å‚¨è´¦å·ã€å¯†ç ã€æ˜µç§°ç­‰ï¼‰ã€è§’è‰²è¡¨ï¼ˆåŸºç¡€è§’è‰²ï¼‰ã€ç”¨æˆ·è§’è‰²å…³è”è¡¨
<span class="hljs-bullet">2.</span> å­—æ®µç±»å‹åˆç†ï¼Œæ·»åŠ æ³¨é‡Šè¯´æ˜ï¼ŒåŒ…å«å®¡è®¡å­—æ®µï¼ˆåˆ›å»ºæ—¶é—´ã€æ›´æ–°æ—¶é—´ï¼‰
<span class="hljs-bullet">3.</span> ä¸»é”®ä½¿ç”¨è‡ªå¢ ID æˆ– UUIDï¼Œæ·»åŠ åˆé€‚ç´¢å¼•ä¼˜åŒ–æŸ¥è¯¢
<span class="hljs-bullet">4.</span> ç”Ÿæˆåˆå§‹åŒ–æµ‹è¯•æ•°æ® SQLï¼ˆç®¡ç†å‘˜å’Œæ™®é€šç”¨æˆ·å„ 1 ä¸ªï¼‰
<span class="hljs-bullet">5.</span> æ”¯æŒ H2 æ•°æ®åº“è¯­æ³•ï¼Œå¯é€šè¿‡ JPA è‡ªåŠ¨æ‰§è¡Œ
</code></pre>
<p>ç”Ÿæˆçš„è¡¨ç»“æ„ä¸åˆå§‹åŒ– SQL ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ç”¨æˆ·è¡¨</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `sys_user` (
  `id` <span class="hljs-type">BIGINT</span> AUTO_INCREMENT <span class="hljs-keyword">PRIMARY</span> KEY COMMENT <span class="hljs-string">'ç”¨æˆ·ID'</span>,
  `username` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">UNIQUE</span> COMMENT <span class="hljs-string">'ç™»å½•ç”¨æˆ·å'</span>,
  `password` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'åŠ å¯†å¯†ç '</span>,
  `nickname` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'ç”¨æˆ·æ˜µç§°'</span>,
  `status` TINYINT <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">1</span> COMMENT <span class="hljs-string">'çŠ¶æ€ï¼š1-æ­£å¸¸ï¼Œ0-ç¦ç”¨'</span>,
  `create_time` <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> COMMENT <span class="hljs-string">'åˆ›å»ºæ—¶é—´'</span>,
  `update_time` <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> COMMENT <span class="hljs-string">'æ›´æ–°æ—¶é—´'</span>
);

<span class="hljs-comment">-- è§’è‰²è¡¨</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `sys_role` (
  `id` <span class="hljs-type">BIGINT</span> AUTO_INCREMENT <span class="hljs-keyword">PRIMARY</span> KEY COMMENT <span class="hljs-string">'è§’è‰²ID'</span>,
  `role_code` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">UNIQUE</span> COMMENT <span class="hljs-string">'è§’è‰²ç¼–ç ï¼ˆå¦‚ADMIN/USERï¼‰'</span>,
  `role_name` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'è§’è‰²åç§°'</span>
);

<span class="hljs-comment">-- ç”¨æˆ·è§’è‰²å…³è”è¡¨</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `sys_user_role` (
  `id` <span class="hljs-type">BIGINT</span> AUTO_INCREMENT <span class="hljs-keyword">PRIMARY</span> KEY COMMENT <span class="hljs-string">'å…³è”ID'</span>,
  `user_id` <span class="hljs-type">BIGINT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'ç”¨æˆ·ID'</span>,
  `role_id` <span class="hljs-type">BIGINT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'è§’è‰²ID'</span>,
  <span class="hljs-keyword">FOREIGN</span> KEY (`user_id`) <span class="hljs-keyword">REFERENCES</span> `sys_user` (`id`),
  <span class="hljs-keyword">FOREIGN</span> KEY (`role_id`) <span class="hljs-keyword">REFERENCES</span> `sys_role` (`id`),
  <span class="hljs-keyword">UNIQUE</span> KEY `idx_user_role` (`user_id`, `role_id`)
);

<span class="hljs-comment">-- åˆå§‹åŒ–è§’è‰²æ•°æ®</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `sys_role` (`role_code`, `role_name`) <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">'ADMIN'</span>, <span class="hljs-string">'ç®¡ç†å‘˜'</span>), (<span class="hljs-string">'USER'</span>, <span class="hljs-string">'æ™®é€šç”¨æˆ·'</span>);

<span class="hljs-comment">-- åˆå§‹åŒ–ç”¨æˆ·æ•°æ®ï¼ˆå¯†ç ï¼šadmin123 / user123ï¼Œå·²é€šè¿‡ BCrypt åŠ å¯†ï¼‰</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `sys_user` (`username`, `password`, `nickname`) 
<span class="hljs-keyword">VALUES</span> (<span class="hljs-string">'admin'</span>, <span class="hljs-string">'$2a$10$E8Z5sN9y6G6z6X7a8B9c0D1e2F3g4H5i6J7k8L9m0N1o2P3q4R5'</span>, <span class="hljs-string">'ç³»ç»Ÿç®¡ç†å‘˜'</span>),
       (<span class="hljs-string">'user'</span>, <span class="hljs-string">'$2a$10$A1b2C3d4E5f6G7h8I9j0K1l2M3n4O5p6Q7r8S9t0U1v2W3x4Y'</span>, <span class="hljs-string">'æ™®é€šç”¨æˆ·'</span>);

<span class="hljs-comment">-- å…³è”ç”¨æˆ·ä¸è§’è‰²</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `sys_user_role` (`user_id`, `role_id`) 
<span class="hljs-keyword">VALUES</span> ((<span class="hljs-keyword">SELECT</span> `id` <span class="hljs-keyword">FROM</span> `sys_user` <span class="hljs-keyword">WHERE</span> `username`<span class="hljs-operator">=</span><span class="hljs-string">'admin'</span>), (<span class="hljs-keyword">SELECT</span> `id` <span class="hljs-keyword">FROM</span> `sys_role` <span class="hljs-keyword">WHERE</span> `role_code`<span class="hljs-operator">=</span><span class="hljs-string">'ADMIN'</span>)),
       ((<span class="hljs-keyword">SELECT</span> `id` <span class="hljs-keyword">FROM</span> `sys_user` <span class="hljs-keyword">WHERE</span> `username`<span class="hljs-operator">=</span><span class="hljs-string">'user'</span>), (<span class="hljs-keyword">SELECT</span> `id` <span class="hljs-keyword">FROM</span> `sys_role` <span class="hljs-keyword">WHERE</span> `role_code`<span class="hljs-operator">=</span><span class="hljs-string">'USER'</span>));

<span class="hljs-comment">-- ç´¢å¼•ä¼˜åŒ–</span>
<span class="hljs-keyword">CREATE</span> INDEX `idx_sys_user_username` <span class="hljs-keyword">ON</span> `sys_user` (`username`);
<span class="hljs-keyword">CREATE</span> INDEX `idx_sys_user_role_user_id` <span class="hljs-keyword">ON</span> `sys_user_role` (`user_id`);
</code></pre>
<h4 data-id="heading-12">ç¬¬å…«æ­¥ï¼šä»£ç åˆ†å±‚è®¾è®¡</h4>
<p>ä¸¥æ ¼æŒ‰ç…§ Spring Boot é¡¹ç›®æ ‡å‡†åˆ†å±‚ç»„ç»‡ä»£ç ï¼Œæ˜ç¡®å„ç›®å½•èŒè´£ï¼Œæç¤ºè¯å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">è¯·æŒ‰ç…§ä»¥ä¸‹åˆ†å±‚æ¶æ„ç»„ç»‡ä»£ç ï¼Œæ¯ä¸ªç›®å½•èŒè´£æ˜ç¡®ï¼Œæ ¸å¿ƒä»£ç æ”¾åœ¨å¯¹åº”ç›®å½•ä¸‹ï¼š
<span class="hljs-deletion">- configï¼šé…ç½®ç±»ï¼ˆSpring Security é…ç½®ã€CORS é…ç½®ã€AOP é…ç½®ã€æ•°æ®åº“é…ç½®ï¼‰</span>
<span class="hljs-deletion">- controllerï¼šæ§åˆ¶å™¨ï¼ˆå¤„ç† HTTP è¯·æ±‚ï¼Œæ˜ å°„æ¥å£è·¯å¾„ï¼‰</span>
<span class="hljs-deletion">- serviceï¼šæœåŠ¡å±‚ï¼ˆå®ç°æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œåè°ƒæ•°æ®è®¿é—®ï¼‰</span>
<span class="hljs-deletion">- repositoryï¼šæ•°æ®è®¿é—®å±‚ï¼ˆJPA æ¥å£ï¼Œæ“ä½œæ•°æ®åº“ï¼‰</span>
<span class="hljs-deletion">- entityï¼šæ•°æ®åº“å®ä½“ï¼ˆä¸è¡¨ç»“æ„å¯¹åº”ï¼ŒåŒ…å« JPA æ³¨è§£ï¼‰</span>
<span class="hljs-deletion">- dtoï¼šå…¥å‚/å‡ºå‚å®ä½“ï¼ˆè¯·æ±‚DTOã€å“åº”DTOã€è§†å›¾VOï¼‰</span>
<span class="hljs-deletion">- utilï¼šå·¥å…·ç±»ï¼ˆJWT å·¥å…·ç±»ã€å“åº”ç»“æœå·¥å…·ç±»ï¼‰</span>
<span class="hljs-deletion">- componentï¼šè‡ªå®šä¹‰ç»„ä»¶ï¼ˆJWT è®¤è¯è¿‡æ»¤å™¨ã€æƒé™åˆ‡é¢ã€å…¨å±€å¼‚å¸¸å¤„ç†å™¨ï¼‰</span>
<span class="hljs-deletion">- annotationï¼šè‡ªå®šä¹‰æ³¨è§£ï¼ˆæƒé™æ³¨è§£ @RequiresPermissionï¼‰</span>
<span class="hljs-deletion">- exceptionï¼šè‡ªå®šä¹‰å¼‚å¸¸ï¼ˆToken è¿‡æœŸå¼‚å¸¸ã€æ— æƒé™å¼‚å¸¸ç­‰ï¼‰</span>
</code></pre>
<p>ç”Ÿæˆçš„é¡¹ç›®ç›®å½•ç»“æ„ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">src/main/java/com/example/auth/
â”œâ”€â”€ AuthApplication.java                <span class="hljs-comment">// é¡¹ç›®å¯åŠ¨ç±»</span>
â”œâ”€â”€ config/                             <span class="hljs-comment">// é…ç½®å±‚</span>
â”‚   â”œâ”€â”€ WebSecurityConfig.java          <span class="hljs-comment">// Spring Security æ ¸å¿ƒé…ç½®</span>
â”‚   â”œâ”€â”€ CorsConfig.java                 <span class="hljs-comment">// è·¨åŸŸé…ç½®</span>
â”‚   â”œâ”€â”€ AopConfig.java                  <span class="hljs-comment">// AOP é…ç½®</span>
â”‚   â””â”€â”€ DatabaseConfig.java             <span class="hljs-comment">// æ•°æ®åº“é…ç½®</span>
â”œâ”€â”€ controller/                         <span class="hljs-comment">// æ§åˆ¶å™¨å±‚</span>
â”‚   â”œâ”€â”€ AuthController.java             <span class="hljs-comment">// è®¤è¯æ¥å£ï¼ˆæ³¨å†Œ/ç™»å½•/åˆ·æ–°Tokenï¼‰</span>
â”‚   â”œâ”€â”€ UserController.java             <span class="hljs-comment">// ç”¨æˆ·æ¥å£ï¼ˆæŸ¥è¯¢ä¿¡æ¯/æµ‹è¯•æƒé™ï¼‰</span>
â”‚   â””â”€â”€ PublicController.java           <span class="hljs-comment">// å…¬å…±æ¥å£ï¼ˆå¥åº·æ£€æŸ¥/æ¬¢è¿é¡µï¼‰</span>
â”œâ”€â”€ service/                            <span class="hljs-comment">// æœåŠ¡å±‚</span>
â”‚   â”œâ”€â”€ UserService.java                <span class="hljs-comment">// ç”¨æˆ·ä¸šåŠ¡é€»è¾‘</span>
â”‚   â””â”€â”€ UserDetailsServiceImpl.java     <span class="hljs-comment">// Spring Security ç”¨æˆ·è¯¦æƒ…æœåŠ¡</span>
â”œâ”€â”€ repository/                         <span class="hljs-comment">// æ•°æ®è®¿é—®å±‚</span>
â”‚   â””â”€â”€ UserRepository.java             <span class="hljs-comment">// ç”¨æˆ·æ•°æ®æ“ä½œæ¥å£</span>
â”œâ”€â”€ entity/                             <span class="hljs-comment">// æ•°æ®åº“å®ä½“</span>
â”‚   â”œâ”€â”€ User.java                       <span class="hljs-comment">// ç”¨æˆ·å®ä½“</span>
â”‚   â”œâ”€â”€ Role.java                       <span class="hljs-comment">// è§’è‰²å®ä½“</span>
â”‚   â””â”€â”€ UserRole.java                   <span class="hljs-comment">// ç”¨æˆ·è§’è‰²å…³è”å®ä½“</span>
â”œâ”€â”€ dto/                                <span class="hljs-comment">// å…¥å‚å‡ºå‚å®ä½“</span>
â”‚   â”œâ”€â”€ request/UserLoginRequest.java   <span class="hljs-comment">// ç™»å½•è¯·æ±‚DTO</span>
â”‚   â”œâ”€â”€ request/UserRegisterDTO.java    <span class="hljs-comment">// æ³¨å†Œè¯·æ±‚DTO</span>
â”‚   â””â”€â”€ response/UserLoginDTO.java      <span class="hljs-comment">// ç™»å½•å“åº”DTO</span>
â”‚   â””â”€â”€ response/UserVO.java            <span class="hljs-comment">// ç”¨æˆ·è§†å›¾VO</span>
â”œâ”€â”€ util/                               <span class="hljs-comment">// å·¥å…·ç±»</span>
â”‚   â”œâ”€â”€ JwtUtils.java                   <span class="hljs-comment">// JWT ç”Ÿæˆ/è§£æ/éªŒè¯å·¥å…·</span>
â”‚   â””â”€â”€ ResultUtils.java                <span class="hljs-comment">// å“åº”ç»“æœå·¥å…·</span>
â”œâ”€â”€ component/                          <span class="hljs-comment">// è‡ªå®šä¹‰ç»„ä»¶</span>
â”‚   â”œâ”€â”€ JwtAuthenticationFilter.java    <span class="hljs-comment">// JWT è®¤è¯è¿‡æ»¤å™¨</span>
â”‚   â”œâ”€â”€ JwtAuthorizationFilter.java     <span class="hljs-comment">// JWT æˆæƒè¿‡æ»¤å™¨</span>
â”‚   â”œâ”€â”€ PermissionAspect.java           <span class="hljs-comment">// æƒé™æ³¨è§£åˆ‡é¢</span>
â”‚   â””â”€â”€ GlobalExceptionHandler.java     <span class="hljs-comment">// å…¨å±€å¼‚å¸¸å¤„ç†å™¨</span>
â”œâ”€â”€ annotation/                         <span class="hljs-comment">// è‡ªå®šä¹‰æ³¨è§£</span>
â”‚   â””â”€â”€ RequiresPermission.java         <span class="hljs-comment">// æƒé™æ³¨è§£</span>
â””â”€â”€ exception/                          <span class="hljs-comment">// è‡ªå®šä¹‰å¼‚å¸¸</span>
    â”œâ”€â”€ TokenExpiredException.java      <span class="hljs-comment">// Token è¿‡æœŸå¼‚å¸¸</span>
    â”œâ”€â”€ InvalidTokenException.java      <span class="hljs-comment">// æ— æ•ˆ Token å¼‚å¸¸</span>
    â””â”€â”€ NoPermissionException.java      <span class="hljs-comment">// æ— æƒé™å¼‚å¸¸</span>
</code></pre>
<p>æ ¸å¿ƒä»£ç ç¤ºä¾‹ï¼ˆJWT å·¥å…·ç±»ï¼‰ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JwtUtils</span> {
    <span class="hljs-meta">@Value</span>(<span class="hljs-string">"${jwt.secret}"</span>)
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> secret; <span class="hljs-comment">// JWT å¯†é’¥ï¼ˆé…ç½®åœ¨ application.ymlï¼‰</span>
    
    <span class="hljs-meta">@Value</span>(<span class="hljs-string">"${jwt.access-token-expire}"</span>)
    <span class="hljs-keyword">private</span> long accessTokenExpire; <span class="hljs-comment">// Access Token è¿‡æœŸæ—¶é—´ï¼ˆç§’ï¼‰</span>
    
    <span class="hljs-meta">@Value</span>(<span class="hljs-string">"${jwt.refresh-token-expire}"</span>)
    <span class="hljs-keyword">private</span> long refreshTokenExpire; <span class="hljs-comment">// Refresh Token è¿‡æœŸæ—¶é—´ï¼ˆç§’ï¼‰</span>
    
    <span class="hljs-comment">/**
     * ç”Ÿæˆ Access Token
     * <span class="hljs-doctag">@param</span> userId ç”¨æˆ·ID
     * <span class="hljs-doctag">@param</span> roles è§’è‰²åˆ—è¡¨
     * <span class="hljs-doctag">@return</span> Access Token
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">generateAccessToken</span>(<span class="hljs-params">Long userId, List&lt;<span class="hljs-built_in">String</span>&gt; roles</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">generateToken</span>(userId, roles, accessTokenExpire);
    }
    
    <span class="hljs-comment">/**
     * ç”Ÿæˆ Refresh Token
     * <span class="hljs-doctag">@param</span> userId ç”¨æˆ·ID
     * <span class="hljs-doctag">@param</span> roles è§’è‰²åˆ—è¡¨
     * <span class="hljs-doctag">@return</span> Refresh Token
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">generateRefreshToken</span>(<span class="hljs-params">Long userId, List&lt;<span class="hljs-built_in">String</span>&gt; roles</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">generateToken</span>(userId, roles, refreshTokenExpire);
    }
    
    <span class="hljs-comment">/**
     * ç”Ÿæˆ Token æ ¸å¿ƒæ–¹æ³•
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">generateToken</span>(<span class="hljs-params">Long userId, List&lt;<span class="hljs-built_in">String</span>&gt; roles, long expireTime</span>) {
        <span class="hljs-title class_">Date</span> now = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();
        <span class="hljs-title class_">Date</span> expireDate = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(now.<span class="hljs-title function_">getTime</span>() + expireTime * <span class="hljs-number">1000</span>);
        
        <span class="hljs-comment">// æ„å»º JWT Token</span>
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Jwts</span>.<span class="hljs-title function_">builder</span>()
                .<span class="hljs-title function_">setSubject</span>(<span class="hljs-title class_">String</span>.<span class="hljs-title function_">valueOf</span>(userId)) <span class="hljs-comment">// å­˜å‚¨ç”¨æˆ·ID</span>
                .<span class="hljs-title function_">claim</span>(<span class="hljs-string">"roles"</span>, roles) <span class="hljs-comment">// å­˜å‚¨è§’è‰²ä¿¡æ¯</span>
                .<span class="hljs-title function_">setIssuedAt</span>(now) <span class="hljs-comment">// ç­¾å‘æ—¶é—´</span>
                .<span class="hljs-title function_">setExpiration</span>(expireDate) <span class="hljs-comment">// è¿‡æœŸæ—¶é—´</span>
                .<span class="hljs-title function_">signWith</span>(<span class="hljs-title class_">SignatureAlgorithm</span>.<span class="hljs-property">HS256</span>, secret) <span class="hljs-comment">// åŠ å¯†ç®—æ³•ï¼ˆå¼€å‘ç¯å¢ƒï¼‰</span>
                .<span class="hljs-title function_">compact</span>();
    }
    
    <span class="hljs-comment">/**
     * ä» Token ä¸­è§£æç”¨æˆ·ID
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Long</span> <span class="hljs-title function_">getUserIdFromToken</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> token</span>) {
        <span class="hljs-title class_">Claims</span> claims = <span class="hljs-title function_">parseClaims</span>(token);
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Long</span>.<span class="hljs-title function_">parseLong</span>(claims.<span class="hljs-title function_">getSubject</span>());
    }
    
    <span class="hljs-comment">/**
     * ä» Token ä¸­è§£æè§’è‰²åˆ—è¡¨
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">String</span>&gt; <span class="hljs-title function_">getRolesFromToken</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> token</span>) {
        <span class="hljs-title class_">Claims</span> claims = <span class="hljs-title function_">parseClaims</span>(token);
        <span class="hljs-keyword">return</span> claims.<span class="hljs-title function_">get</span>(<span class="hljs-string">"roles"</span>, <span class="hljs-title class_">List</span>.<span class="hljs-property">class</span>);
    }
    
    <span class="hljs-comment">/**
     * éªŒè¯ Token æœ‰æ•ˆæ€§
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">boolean</span> <span class="hljs-title function_">validateToken</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> token</span>) {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-title function_">parseClaims</span>(token);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">Exception</span> e) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    
    <span class="hljs-comment">/**
     * è§£æ Token ä¸­çš„ Claims
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">Claims</span> <span class="hljs-title function_">parseClaims</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> token</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Jwts</span>.<span class="hljs-title function_">parser</span>()
                .<span class="hljs-title function_">setSigningKey</span>(secret)
                .<span class="hljs-title function_">parseClaimsJws</span>(token)
                .<span class="hljs-title function_">getBody</span>();
    }
}
</code></pre>
<h4 data-id="heading-13">ç¬¬ä¹æ­¥ï¼šå¢é‡å¼€å‘å®ç°</h4>
<p>åˆ†ä¸‰è½®å®ç°ï¼Œæ¯è½®äº§å‡ºå¯ç‹¬ç«‹è¿è¡Œçš„ç‰ˆæœ¬ï¼Œé™ä½è°ƒè¯•éš¾åº¦ï¼š</p>
<h5 data-id="heading-14">ç¬¬ä¸€è½®ï¼šæœ€å°å¯ç”¨ç‰ˆæœ¬ï¼ˆæ ¸å¿ƒè®¤è¯åŠŸèƒ½ï¼‰</h5>
<p>ç›®æ ‡ï¼šå®ç°ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€Token ç”Ÿæˆä¸éªŒè¯ï¼Œè·‘é€šåŸºç¡€æµç¨‹æç¤ºè¯ï¼š"è¯·å®ç°è®¤è¯æˆæƒç³»ç»Ÿçš„æœ€å°å¯ç”¨ç‰ˆæœ¬ï¼ŒåŒ…å«ç”¨æˆ·æ³¨å†Œï¼ˆåŠ å¯†å­˜å‚¨å¯†ç ï¼‰ã€ç™»å½•ï¼ˆç”Ÿæˆ Access Token å’Œ Refresh Tokenï¼‰ã€JWT å·¥å…·ç±»ã€Spring Security åŸºç¡€é…ç½®ã€å…¬å…±æ¥å£å’Œå—ä¿æŠ¤æ¥å£åŒºåˆ†ï¼Œç¡®ä¿èƒ½æ­£å¸¸æ³¨å†Œç™»å½•å¹¶è®¿é—®å—ä¿æŠ¤æ¥å£"</p>
<p>æ ¸å¿ƒäº§å‡ºï¼š</p>
<ul>
<li>JwtUtils.javaï¼šJWT ç”Ÿæˆ / è§£æ / éªŒè¯å·¥å…·ç±»</li>
<li>AuthController.javaï¼šæ³¨å†Œ / ç™»å½•æ¥å£</li>
<li>WebSecurityConfig.javaï¼šSpring Security åŸºç¡€é…ç½®ï¼ˆæ”¾è¡Œå…¬å…±æ¥å£ã€é…ç½®å¯†ç åŠ å¯†æ–¹å¼ï¼‰</li>
<li>JwtAuthenticationFilter.javaï¼šJWT è®¤è¯è¿‡æ»¤å™¨ï¼ˆæ‹¦æˆªè¯·æ±‚ã€éªŒè¯ Tokenï¼‰</li>
</ul>
<h5 data-id="heading-15">ç¬¬äºŒè½®ï¼šå®Œå–„æƒé™æ§åˆ¶ï¼ˆæ³¨è§£ + è§’è‰²æ ¡éªŒï¼‰</h5>
<p>ç›®æ ‡ï¼šå®ç°åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶å’Œè‡ªå®šä¹‰æƒé™æ³¨è§£æç¤ºè¯ï¼š"è¯·å®Œå–„æƒé™æ§åˆ¶åŠŸèƒ½ï¼Œå®ç° @PreAuthorize è§’è‰²æ ¡éªŒï¼ˆæ”¯æŒ hasRole ('ADMIN')ï¼‰ã€è‡ªå®šä¹‰ @RequiresPermission æ³¨è§£åŠ AOP åˆ‡é¢æ ¡éªŒã€ç”¨æˆ·è§’è‰²å…³è”æŸ¥è¯¢ï¼Œç¡®ä¿ä¸åŒè§’è‰²åªèƒ½è®¿é—®å¯¹åº”æƒé™çš„æ¥å£"</p>
<p>æ ¸å¿ƒäº§å‡ºï¼š</p>
<ul>
<li>RequiresPermission.javaï¼šè‡ªå®šä¹‰æƒé™æ³¨è§£</li>
<li>PermissionAspect.javaï¼šæƒé™æ³¨è§£ AOP åˆ‡é¢</li>
<li>UserDetailsServiceImpl.javaï¼šåŠ è½½ç”¨æˆ·è§’è‰²ä¿¡æ¯ï¼Œé€‚é… Spring Security</li>
<li>UserController.javaï¼šæ·»åŠ è§’è‰²æ ¡éªŒå’Œæƒé™æ³¨è§£æ ¡éªŒçš„æµ‹è¯•æ¥å£</li>
</ul>
<h5 data-id="heading-16">ç¬¬ä¸‰è½®ï¼šè¡¥å……åŠŸèƒ½ä¸ä¼˜åŒ–ï¼ˆå¼‚å¸¸ + è·¨åŸŸ + æµ‹è¯•æ•°æ®ï¼‰</h5>
<p>ç›®æ ‡ï¼šå®Œå–„å…¨å±€å¼‚å¸¸å¤„ç†ã€è·¨åŸŸé…ç½®ã€åˆå§‹åŒ–æµ‹è¯•æ•°æ®ï¼Œä¼˜åŒ–ç”¨æˆ·ä½“éªŒæç¤ºè¯ï¼š"è¯·æ·»åŠ å…¨å±€å¼‚å¸¸å¤„ç†å™¨ï¼ˆå¤„ç† Token è¿‡æœŸã€æ— æ•ˆã€æ— æƒé™ç­‰å¼‚å¸¸ï¼‰ã€è·¨åŸŸé…ç½®ï¼ˆæ”¯æŒå‰åç«¯åˆ†ç¦»é¡¹ç›®è®¿é—®ï¼‰ã€H2 æ•°æ®åº“åˆå§‹åŒ–æµ‹è¯•æ•°æ®ã€Token åˆ·æ–°åŠŸèƒ½ï¼Œç¡®ä¿ç³»ç»Ÿç¨³å®šå¯ç”¨ï¼Œå‰ç«¯å¯ç›´æ¥é›†æˆ"</p>
<p>æ ¸å¿ƒäº§å‡ºï¼š</p>
<ul>
<li>GlobalExceptionHandler.javaï¼šå…¨å±€å¼‚å¸¸å¤„ç†å™¨</li>
<li>CorsConfig.javaï¼šè·¨åŸŸé…ç½®</li>
<li>DatabaseConfig.javaï¼šH2 æ•°æ®åº“é…ç½®ï¼ˆæ”¯æŒæ§åˆ¶å°è®¿é—®ï¼‰</li>
<li>æ•°æ®åº“åˆå§‹åŒ– SQLï¼šè‡ªåŠ¨æ’å…¥æµ‹è¯•ç”¨æˆ·å’Œè§’è‰²æ•°æ®</li>
</ul>
<h4 data-id="heading-17">ç¬¬åæ­¥ï¼šæµ‹è¯•ç”¨ä¾‹ç¼–å†™</h4>
<p>ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹è¦†ç›–æ ¸å¿ƒåœºæ™¯ï¼Œç¡®ä¿ç³»ç»ŸåŠŸèƒ½æ­£å¸¸ï¼Œæç¤ºè¯å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">è¯·ç¼–å†™å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•ï¼Œè¦†ç›–ä»¥ä¸‹æ ¸å¿ƒåœºæ™¯ï¼š
<span class="hljs-bullet">1.</span> JWT å·¥å…·ç±»ï¼šToken ç”Ÿæˆã€è§£æã€éªŒè¯ã€è¿‡æœŸæµ‹è¯•
<span class="hljs-bullet">2.</span> è®¤è¯æ¥å£ï¼šæ³¨å†ŒæˆåŠŸã€ç™»å½•æˆåŠŸï¼ˆç”ŸæˆåŒ Tokenï¼‰ã€åˆ·æ–° Token æˆåŠŸ
<span class="hljs-bullet">3.</span> æƒé™æ§åˆ¶ï¼šè§’è‰²æ ¡éªŒï¼ˆADMIN å¯è®¿é—®ã€USER ä¸å¯è®¿é—®ï¼‰ã€è‡ªå®šä¹‰æƒé™æ³¨è§£æ ¡éªŒ
<span class="hljs-bullet">4.</span> å¼‚å¸¸åœºæ™¯ï¼šæ— æ•ˆ Tokenã€è¿‡æœŸ Tokenã€æ— æƒé™è®¿é—®ã€å‚æ•°æ ¡éªŒå¤±è´¥
è¦æ±‚æµ‹è¯•ç”¨ä¾‹æœ‰æ˜ç¡®æ–­è¨€ï¼Œä½¿ç”¨ JUnit 5 + MockMvc å®ç°
</code></pre>
<p>å•å…ƒæµ‹è¯•ç¤ºä¾‹ï¼ˆJwtUtils æµ‹è¯•ï¼‰ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">@SpringBootTest
public class JwtUtilsTest {

    @Autowired
    private JwtUtils jwtUtils<span class="hljs-comment">;</span>

    @Test
    public void testGenerateAndValidateToken() {
        // å‡†å¤‡æµ‹è¯•æ•°æ®
        Long <span class="hljs-attr">userId</span> = <span class="hljs-number">1</span>L<span class="hljs-comment">;</span>
        List&lt;String&gt; <span class="hljs-attr">roles</span> = Arrays.asList(<span class="hljs-string">"ADMIN"</span>)<span class="hljs-comment">;</span>
        
        // ç”Ÿæˆ Token
        String <span class="hljs-attr">accessToken</span> = jwtUtils.generateAccessToken(userId, roles)<span class="hljs-comment">;</span>
        String <span class="hljs-attr">refreshToken</span> = jwtUtils.generateRefreshToken(userId, roles)<span class="hljs-comment">;</span>
        
        // éªŒè¯ Token æœ‰æ•ˆæ€§
        Assertions.assertTrue(jwtUtils.validateToken(accessToken))<span class="hljs-comment">;</span>
        Assertions.assertTrue(jwtUtils.validateToken(refreshToken))<span class="hljs-comment">;</span>
        
        // éªŒè¯è§£æç»“æœ
        Assertions.assertEquals(userId, jwtUtils.getUserIdFromToken(accessToken))<span class="hljs-comment">;</span>
        Assertions.assertEquals(roles, jwtUtils.getRolesFromToken(accessToken))<span class="hljs-comment">;</span>
    }

    @Test
    public void testExpiredToken() throws InterruptedException {
        // ç”Ÿæˆè¿‡æœŸ Tokenï¼ˆè®¾ç½®è¿‡æœŸæ—¶é—´ 1 ç§’ï¼‰
        Long <span class="hljs-attr">userId</span> = <span class="hljs-number">1</span>L<span class="hljs-comment">;</span>
        List&lt;String&gt; <span class="hljs-attr">roles</span> = Arrays.asList(<span class="hljs-string">"USER"</span>)<span class="hljs-comment">;</span>
        String <span class="hljs-attr">accessToken</span> = jwtUtils.generateAccessToken(userId, roles)<span class="hljs-comment">;</span>
        
        // ä¼‘çœ  2 ç§’ï¼Œç­‰å¾… Token è¿‡æœŸ
        Thread.sleep(2000)<span class="hljs-comment">;</span>
        
        // éªŒè¯è¿‡æœŸ Token æ— æ•ˆ
        Assertions.assertFalse(jwtUtils.validateToken(accessToken))<span class="hljs-comment">;</span>
    }
}
</code></pre>
<p>é›†æˆæµ‹è¯•ç¤ºä¾‹ï¼ˆæ¥å£å…¨æµç¨‹ï¼‰ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@SpringBootTest</span>
<span class="hljs-variable">@AutoConfigureMockMvc</span>
public class AuthIntegrationTest {

    <span class="hljs-variable">@Autowired</span>
    private MockMvc mockMvc;

    <span class="hljs-variable">@Autowired</span>
    private ObjectMapper objectMapper;

    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">accessToken</span>;
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">refreshToken</span>;

    <span class="hljs-comment">// ç™»å½•è·å– Tokenï¼ˆæµ‹è¯•å‰ç½®æ“ä½œï¼‰</span>
    @<span class="hljs-selector-tag">BeforeEach</span>
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">login</span>() <span class="hljs-selector-tag">throws</span> <span class="hljs-selector-tag">Exception</span> {
        <span class="hljs-selector-tag">UserLoginRequest</span> <span class="hljs-selector-tag">loginRequest</span> = <span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">UserLoginRequest</span>();
        <span class="hljs-selector-tag">loginRequest</span><span class="hljs-selector-class">.setUsername</span>(<span class="hljs-string">"admin"</span>);
        <span class="hljs-selector-tag">loginRequest</span><span class="hljs-selector-class">.setPassword</span>(<span class="hljs-string">"admin123"</span>);

        <span class="hljs-comment">// å‘èµ·ç™»å½•è¯·æ±‚</span>
        <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">response</span> = <span class="hljs-selector-tag">mockMvc</span><span class="hljs-selector-class">.perform</span>(<span class="hljs-built_in">post</span>(<span class="hljs-string">"/api/auth/login"</span>)
                        .<span class="hljs-built_in">contentType</span>(MediaType.APPLICATION_JSON)
                        .<span class="hljs-built_in">content</span>(objectMapper.<span class="hljs-built_in">writeValueAsString</span>(loginRequest)))
                <span class="hljs-selector-class">.andExpect</span>(<span class="hljs-built_in">status</span>().<span class="hljs-built_in">isOk</span>())
                <span class="hljs-selector-class">.andReturn</span>()
                <span class="hljs-selector-class">.getResponse</span>()
                <span class="hljs-selector-class">.getContentAsString</span>();

        <span class="hljs-comment">// è§£æå“åº”ï¼Œè·å– Token</span>
        <span class="hljs-selector-tag">UserLoginDTO</span> <span class="hljs-selector-tag">loginDTO</span> = <span class="hljs-selector-tag">objectMapper</span><span class="hljs-selector-class">.readValue</span>(response, UserLoginDTO.class);
        <span class="hljs-selector-tag">accessToken</span> = <span class="hljs-selector-tag">loginDTO</span><span class="hljs-selector-class">.getAccessToken</span>();
        <span class="hljs-selector-tag">refreshToken</span> = <span class="hljs-selector-tag">loginDTO</span><span class="hljs-selector-class">.getRefreshToken</span>();
    }

    <span class="hljs-comment">// æµ‹è¯•è®¿é—®éœ€ ADMIN è§’è‰²çš„æ¥å£ï¼ˆæˆåŠŸï¼‰</span>
    @<span class="hljs-selector-tag">Test</span>
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">testAdminRoleInterface</span>() <span class="hljs-selector-tag">throws</span> <span class="hljs-selector-tag">Exception</span> {
        <span class="hljs-selector-tag">mockMvc</span><span class="hljs-selector-class">.perform</span>(<span class="hljs-built_in">get</span>(<span class="hljs-string">"/api/users/all"</span>)
                        .<span class="hljs-built_in">header</span>(<span class="hljs-string">"Authorization"</span>, <span class="hljs-string">"Bearer "</span> + accessToken)
                        .<span class="hljs-built_in">contentType</span>(MediaType.APPLICATION_JSON))
                <span class="hljs-selector-class">.andExpect</span>(<span class="hljs-built_in">status</span>().<span class="hljs-built_in">isOk</span>())
                <span class="hljs-selector-class">.andExpect</span>(<span class="hljs-built_in">jsonPath</span>(<span class="hljs-string">"$.code"</span>).<span class="hljs-built_in">value</span>(<span class="hljs-number">200</span>));
    }

    <span class="hljs-comment">// æµ‹è¯•åˆ·æ–° Tokenï¼ˆæˆåŠŸï¼‰</span>
    @<span class="hljs-selector-tag">Test</span>
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">testRefreshToken</span>() <span class="hljs-selector-tag">throws</span> <span class="hljs-selector-tag">Exception</span> {
        <span class="hljs-selector-tag">mockMvc</span><span class="hljs-selector-class">.perform</span>(<span class="hljs-built_in">post</span>(<span class="hljs-string">"/api/auth/refresh-token"</span>)
                        .<span class="hljs-built_in">param</span>(<span class="hljs-string">"refreshToken"</span>, refreshToken)
                        .<span class="hljs-built_in">contentType</span>(MediaType.APPLICATION_JSON))
                <span class="hljs-selector-class">.andExpect</span>(<span class="hljs-built_in">status</span>().<span class="hljs-built_in">isOk</span>())
                <span class="hljs-selector-class">.andExpect</span>(<span class="hljs-built_in">jsonPath</span>(<span class="hljs-string">"$.data.accessToken"</span>).<span class="hljs-built_in">exists</span>());
    }

    <span class="hljs-comment">// æµ‹è¯•æ— æƒé™è®¿é—®æ¥å£ï¼ˆå¤±è´¥ï¼Œè¿”å› 403ï¼‰</span>
    @<span class="hljs-selector-tag">Test</span>
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">testNoPermissionInterface</span>() <span class="hljs-selector-tag">throws</span> <span class="hljs-selector-tag">Exception</span> {
        <span class="hljs-comment">// ä½¿ç”¨æ™®é€šç”¨æˆ·ç™»å½•è·å– Token</span>
        <span class="hljs-selector-tag">UserLoginRequest</span> <span class="hljs-selector-tag">userLoginRequest</span> = <span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">UserLoginRequest</span>();
        <span class="hljs-selector-tag">userLoginRequest</span><span class="hljs-selector-class">.setUsername</span>(<span class="hljs-string">"user"</span>);
        <span class="hljs-selector-tag">userLoginRequest</span><span class="hljs-selector-class">.setPassword</span>(<span class="hljs-string">"user123"</span>);
        <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">userResponse</span> = <span class="hljs-selector-tag">mockMvc</span><span class="hljs-selector-class">.perform</span>(<span class="hljs-built_in">post</span>(<span class="hljs-string">"/api/auth/login"</span>)
                        .<span class="hljs-built_in">contentType</span>(MediaType.APPLICATION_JSON)
                        .<span class="hljs-built_in">content</span>(objectMapper.<span class="hljs-built_in">writeValueAsString</span>(userLoginRequest)))
                <span class="hljs-selector-class">.andReturn</span>()
                <span class="hljs-selector-class">.getResponse</span>()
                <span class="hljs-selector-class">.getContentAsString</span>();
        <span class="hljs-selector-tag">UserLoginDTO</span> <span class="hljs-selector-tag">userLoginDTO</span> = <span class="hljs-selector-tag">objectMapper</span><span class="hljs-selector-class">.readValue</span>(userResponse, UserLoginDTO.class);

        <span class="hljs-comment">// æ™®é€šç”¨æˆ·è®¿é—® ADMIN æ¥å£</span>
        <span class="hljs-selector-tag">mockMvc</span><span class="hljs-selector-class">.perform</span>(<span class="hljs-built_in">get</span>(<span class="hljs-string">"/api/users/all"</span>)
                        .<span class="hljs-built_in">header</span>(<span class="hljs-string">"Authorization"</span>, <span class="hljs-string">"Bearer "</span> + userLoginDTO.<span class="hljs-built_in">getAccessToken</span>())
                        .<span class="hljs-built_in">contentType</span>(MediaType.APPLICATION_JSON))
                <span class="hljs-selector-class">.andExpect</span>(<span class="hljs-built_in">status</span>().<span class="hljs-built_in">isForbidden</span>()) <span class="hljs-comment">// 403 æ— æƒé™</span>
                <span class="hljs-selector-class">.andExpect</span>(<span class="hljs-built_in">jsonPath</span>(<span class="hljs-string">"$.code"</span>).<span class="hljs-built_in">value</span>(<span class="hljs-number">403</span>));
    }
}
</code></pre>
<h4 data-id="heading-18">åšå¾—å¥½çš„åœ°æ–¹</h4>
<ul>
<li>æ ‡å‡†åŒ–æç¤ºè¯æ˜ç¡®äº†æŠ€æœ¯æ ˆç‰ˆæœ¬å’Œä»£ç è§„èŒƒï¼ŒAI ç”Ÿæˆçš„ä»£ç æ— éœ€å¤§å¹…ä¿®æ”¹å³å¯é›†æˆ</li>
<li>å¢é‡å¼€å‘æ¨¡å¼è®©æ¯ä¸ªç‰ˆæœ¬éƒ½èƒ½ç‹¬ç«‹è¿è¡Œï¼Œä¾¿äºå®šä½é—®é¢˜ï¼Œé™ä½è°ƒè¯•æˆæœ¬</li>
<li>è‡ªå®šä¹‰æƒé™æ³¨è§£ + AOP åˆ‡é¢çš„è®¾è®¡ï¼Œè®©æƒé™æ§åˆ¶æ›´çµæ´»ï¼Œå¯ç›´æ¥å¤ç”¨åœ¨å…¶ä»–é¡¹ç›®</li>
<li>AI è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹å’Œé¡¹ç›®æ–‡æ¡£ï¼Œå¤§å¹…å‡å°‘é‡å¤å·¥ä½œé‡ï¼Œæå‡å¼€å‘æ•ˆç‡</li>
</ul>
<h4 data-id="heading-19">è¸©è¿‡çš„å‘</h4>
<ul>
<li>åˆæœŸæç¤ºè¯æœªæ˜ç¡® Spring Security ç‰ˆæœ¬ï¼Œå¯¼è‡´ AI ç”Ÿæˆçš„é…ç½®ç±»ä¸ Spring Boot 2.7.x ä¸å…¼å®¹ï¼Œåç»­éœ€é”å®šç‰ˆæœ¬å·</li>
<li>å¿˜è®°å¯ç”¨ @EnableGlobalMethodSecurity (prePostEnabled = true) æ³¨è§£ï¼Œå¯¼è‡´ @PreAuthorize è§’è‰²æ ¡éªŒå¤±æ•ˆï¼Œéœ€åœ¨ Security é…ç½®ç±»è¡¥å……</li>
<li>è·¨åŸŸé…ç½®æœªå…è®¸ Authorization è¯·æ±‚å¤´ï¼Œå¯¼è‡´å‰ç«¯æºå¸¦ Token æ—¶å‡ºç°è·¨åŸŸé”™è¯¯ï¼Œéœ€åœ¨ CorsConfig ä¸­æ·»åŠ  allowedHeaders = "*"</li>
<li>JWT å¯†é’¥ç¡¬ç¼–ç å­˜åœ¨å®‰å…¨é£é™©ï¼Œåç»­æ”¹ä¸ºä»é…ç½®æ–‡ä»¶æ³¨å…¥ï¼Œç”Ÿäº§ç¯å¢ƒè®¡åˆ’æ›¿æ¢ä¸º RSA éå¯¹ç§°åŠ å¯†</li>
</ul>
<h4 data-id="heading-20">ç»™å¤§å®¶çš„å»ºè®®</h4>
<ul>
<li>æŠ€æœ¯æ ˆé€‰æ‹©è¦å…¼é¡¾ç¨³å®šæ€§å’Œæ˜“ç”¨æ€§ï¼ŒSpring Boot 2.7.x + Spring Security 5.7.x æ˜¯æˆç†Ÿç»„åˆï¼Œæ–‡æ¡£ä¸°å¯Œã€é—®é¢˜æ˜“æ’æŸ¥</li>
<li>æƒé™è®¾è®¡è¦å¾ªåºæ¸è¿›ï¼Œå…ˆå®ç°åŸºç¡€çš„è§’è‰²æ ¡éªŒï¼Œå†æ‰©å±•è‡ªå®šä¹‰æƒé™æ³¨è§£ï¼Œé¿å…ä¸€å¼€å§‹è¿‡åº¦è®¾è®¡</li>
<li>AI ç”Ÿæˆçš„å®‰å…¨ç›¸å…³ä»£ç ï¼ˆå¦‚ Token ç”Ÿæˆã€å¯†ç åŠ å¯†ï¼‰å¿…é¡»äººå·¥ reviewï¼Œç¡®ä¿æ— å®‰å…¨æ¼æ´</li>
<li>æå‰è§„åˆ’ Token ç­–ç•¥ï¼ŒåŒ…æ‹¬è¿‡æœŸæ—¶é—´ã€åˆ·æ–°æœºåˆ¶å’Œå¼‚å¸¸å¤„ç†ï¼Œé¿å…åæœŸé‡æ„å½±å“ç³»ç»Ÿç¨³å®šæ€§</li>
</ul>
<h3 data-id="heading-21">ğŸ’ æœ€å¤§çš„æ”¶ç›Šï¼šé‡Šæ”¾æ›´å¤šæ—¶é—´åšæœ‰ä»·å€¼çš„äº‹</h3>
<p>ç”¨ TRAE è¾…åŠ©å¼€å‘è¿™å¥—è®¤è¯æˆæƒç³»ç»Ÿï¼Œæœ€ç›´è§‚çš„æ”¶ç›Šä¸æ˜¯å¼€å‘é€Ÿåº¦çš„æå‡ï¼Œè€Œæ˜¯ä»é‡å¤åŠ³åŠ¨ä¸­è§£æ”¾å‡ºæ¥ï¼Œä¸“æ³¨äºæ ¸å¿ƒè®¾è®¡ã€‚</p>
<p>ä»¥å‰å¼€å‘ç±»ä¼¼ç³»ç»Ÿï¼Œå…‰æ˜¯ç¼–å†™ Spring Security é…ç½®ã€JWT å·¥å…·ç±»ã€æ•°æ®åº“å®ä½“ã€CRUD ä»£ç å’Œæµ‹è¯•ç”¨ä¾‹ï¼Œå°±è¦èŠ±è´¹ 4-6 å¤©æ—¶é—´ã€‚ç°åœ¨è¿™äº›é‡å¤æ€§å·¥ä½œ AI åŠå°æ—¶å†…å°±èƒ½æå®šï¼Œæˆ‘å¯ä»¥æŠŠçœä¸‹æ¥çš„æ—¶é—´ç”¨åœ¨ï¼š</p>
<ul>
<li>æ¶æ„ä¼˜åŒ–ï¼šæ€è€ƒæƒé™æ¨¡å‹çš„æ‰©å±•æ€§ï¼ˆå¦‚æ”¯æŒæ•°æ®æƒé™ã€å¤šç§Ÿæˆ·æƒé™ï¼‰ã€ç³»ç»Ÿæ€§èƒ½ï¼ˆå¦‚ Token ç¼“å­˜ã€æ¥å£é™æµï¼‰</li>
<li>å®‰å…¨åŠ å›ºï¼šç ”ç©¶æ›´å®‰å…¨çš„åŠ å¯†ç®—æ³•ã€Token å­˜å‚¨æ–¹æ¡ˆï¼ˆå¦‚ HttpOnly Cookieï¼‰ã€é˜² CSRF/XXS æ”»å‡»ç­–ç•¥</li>
<li>æ˜“ç”¨æ€§æå‡ï¼šä¼˜åŒ–æ¥å£è®¾è®¡ã€ç»Ÿä¸€å“åº”æ ¼å¼ã€å®Œå–„å¼‚å¸¸æç¤ºï¼Œè®©å‰ç«¯é›†æˆæ›´ç®€å•</li>
<li>ä»£ç è´¨é‡æŠŠæ§ï¼šèŠ±æ›´å¤šæ—¶é—´åš code reviewï¼Œä¼˜åŒ–ä»£ç å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§</li>
</ul>
<p>AI æ¥ç®¡äº† â€œä½“åŠ›æ´»â€ï¼Œè®©æˆ‘ä»¬èƒ½ä¸“æ³¨ â€œè„‘åŠ›æ´»â€ï¼Œå¼€å‘å‡ºçš„ç³»ç»Ÿä¸ä»…è½åœ°å¿«ï¼Œå®‰å…¨æ€§å’Œå¯æ‰©å±•æ€§ä¹Ÿæ›´å¼ºã€‚</p>
<h3 data-id="heading-22">ğŸ› ï¸ å·¥å…·æ¨è</h3>
<ul>
<li>CodeGeeXï¼ˆIDEA æ’ä»¶ï¼‰ï¼šä¸“ä¸º Java å¼€å‘ä¼˜åŒ–ï¼Œæ”¯æŒä»£ç ç”Ÿæˆã€æ³¨é‡Šæ·»åŠ å’Œé”™è¯¯ä¿®å¤ï¼Œä¸ Spring ç”Ÿæ€å…¼å®¹æ€§å¥½</li>
<li>Postmanï¼šæ¥å£æµ‹è¯•å·¥å…·ï¼Œæ”¯æŒ Token è‡ªåŠ¨æºå¸¦å’Œæ‰¹é‡æµ‹è¯•ï¼Œæ–¹ä¾¿éªŒè¯è®¤è¯æˆæƒæµç¨‹</li>
<li>Draw.ioï¼šå…è´¹å¼€æºçš„æµç¨‹å›¾å·¥å…·ï¼Œæ”¯æŒå¯¼å…¥å¯¼å‡ºï¼Œå¿«é€Ÿç»˜åˆ¶æ¶æ„å›¾å’Œæµç¨‹é€»è¾‘å›¾</li>
<li>Lombokï¼ˆIDEA æ’ä»¶ï¼‰ï¼šç®€åŒ– Java ä»£ç ï¼Œå‡å°‘ getter/setter/ æ„é€ å‡½æ•°ç­‰æ ·æ¿ä»£ç </li>
<li>H2 Consoleï¼šå†…ç½®æ•°æ®åº“æ§åˆ¶å°ï¼Œæ–¹ä¾¿è°ƒè¯•æ•°æ®ï¼Œæ”¯æŒ SQL æ‰§è¡Œå’Œæ•°æ®æŸ¥çœ‹</li>
</ul>
<h3 data-id="heading-23">ğŸš€ æ€»ç»“</h3>
<p>è¿™å¥—åŸºäº Spring Boot+JWT+Spring Security çš„è®¤è¯æˆæƒç³»ç»Ÿï¼Œé€šè¿‡ TRAE è¾…åŠ©å¼€å‘å®ç°äº† â€œè½åœ°å°±èƒ½è·‘â€ çš„ç›®æ ‡ï¼Œæ”¯æŒç”¨æˆ·æ³¨å†Œç™»å½•ã€Token ç®¡ç†ã€è§’è‰²æ ¡éªŒå’Œè‡ªå®šä¹‰æƒé™æ³¨è§£ï¼Œå¯ç›´æ¥å¤ç”¨åœ¨å‰åç«¯åˆ†ç¦»é¡¹ç›®ä¸­ã€‚</p>
<p>æ ¸å¿ƒè¦ç‚¹æ˜¯ï¼šæ˜ç¡®äººæœºåˆ†å·¥ï¼Œè®© AI å¤„ç†é‡å¤å·¥ä½œï¼ŒäººæŠŠæ§æ¶æ„å’Œå®‰å…¨æ ¸å¿ƒï¼›æ ‡å‡†åŒ–æµç¨‹å’Œæç¤ºè¯ï¼Œç¡®ä¿ AI è¾“å‡ºä¸€è‡´æ€§ï¼›å¢é‡å¼€å‘å’Œå……åˆ†æµ‹è¯•ï¼Œä¿è¯ç³»ç»Ÿç¨³å®šå¯ç”¨ã€‚</p>
<p>æ— è®ºæ˜¯æ–°é¡¹ç›®æ­å»ºè®¤è¯æˆæƒä½“ç³»ï¼Œè¿˜æ˜¯æ—§é¡¹ç›®å®‰å…¨æ”¹é€ ï¼Œè¿™å¥—æ–¹æ¡ˆéƒ½èƒ½å¤§å¹…é™ä½å¼€å‘æˆæœ¬ã€æå‡å¼€å‘æ•ˆç‡ï¼ŒåŒæ—¶ä¿éšœç³»ç»Ÿçš„å®‰å…¨æ€§å’Œå¯æ‰©å±•æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å°ç¨‹åºå¼€å‘ä¹‹ç‰©æµæ‰“å•APIæ¥å£é¢„ç•™è§£å†³æ–¹æ¡ˆï¼šè§„é¿è¿”å·¥ï¼Œé«˜æ•ˆå¯¹æ¥]]></title>    <link>https://juejin.cn/post/7572389069705592842</link>    <guid>https://juejin.cn/post/7572389069705592842</guid>    <pubDate>2025-11-14T08:31:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572389069705592842" data-draft-id="7572387877138202634" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å°ç¨‹åºå¼€å‘ä¹‹ç‰©æµæ‰“å•APIæ¥å£é¢„ç•™è§£å†³æ–¹æ¡ˆï¼šè§„é¿è¿”å·¥ï¼Œé«˜æ•ˆå¯¹æ¥"/> <meta itemprop="keywords" content="æ¶æ„"/> <meta itemprop="datePublished" content="2025-11-14T08:31:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¿«é€’é¸Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/4279725171674573"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å°ç¨‹åºå¼€å‘ä¹‹ç‰©æµæ‰“å•APIæ¥å£é¢„ç•™è§£å†³æ–¹æ¡ˆï¼šè§„é¿è¿”å·¥ï¼Œé«˜æ•ˆå¯¹æ¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4279725171674573/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¿«é€’é¸Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T08:31:23.000Z" title="Fri Nov 14 2025 08:31:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç”µå•†ç›´æ’­ã€ç¤¾åŒºå›¢è´­ç­‰åœºæ™¯çš„é©±åŠ¨ä¸‹ï¼Œç‰©æµæ‰“å•å·²æˆä¸ºç”µå•†ç±»å°ç¨‹åºçš„æ ¸å¿ƒåŠŸèƒ½æ¨¡å—ã€‚è®¸å¤šå¼€å‘å›¢é˜Ÿåœ¨å°ç¨‹åºå¼€å‘åˆæœŸï¼Œå¸¸å› å¿½è§†ç‰©æµæ‰“å•APIæ¥å£çš„ç§‘å­¦é¢„ç•™ï¼Œå¯¼è‡´ä¸Šçº¿åå¯¹æ¥å¿«é€’å•†ç³»ç»Ÿæ—¶é™·å…¥â€œåŠŸèƒ½é‡æ„ã€æ•°æ®æ–­å±‚ã€ç”¨æˆ·ä½“éªŒå‰²è£‚â€çš„å›°å¢ƒâ€”â€”æ¯”å¦‚ä»…é€‚é…å•ä¸€å¿«é€’å•†ï¼Œæ–°å¢åˆä½œæ—¶éœ€æ¨ç¿»åŸæœ‰ä»£ç ï¼›æ¥å£å­—æ®µè®¾è®¡ç¼ºå¤±ï¼Œæ— æ³•åŒæ­¥ç‰©æµè½¨è¿¹è‡³å°ç¨‹åºç«¯ï¼›å³°å€¼è®¢å•æ¥ä¸´æ—¶ï¼Œæ‰“å•æ¥å£å“åº”å¡é¡¿å¼•å‘ç”¨æˆ·æŠ•è¯‰ã€‚æœ¬æ–‡ç»“åˆå°ç¨‹åºå¼€å‘ç‰¹æ€§ä¸ç‰©æµæ‰“å•åœºæ™¯éœ€æ±‚ï¼Œæä¾›ä¸€å¥—â€œå‰ç»æ€§é¢„ç•™ã€é«˜é€‚é…æ€§ã€å¼ºæ‰©å±•æ€§â€çš„APIæ¥å£é¢„ç•™è§£å†³æ–¹æ¡ˆï¼ŒåŠ©åŠ›å¼€å‘å›¢é˜Ÿä¸€æ¬¡å¼€å‘ã€é•¿æœŸå¤ç”¨ã€‚</p>
<p><strong>å°ç¨‹åºç‰©æµæ‰“å•APIæ¥å£é¢„ç•™çš„æ ¸å¿ƒç—›ç‚¹ï¼šå¼€å‘ä¸­çš„éšå½¢é™·é˜±</strong></p>
<p>å°ç¨‹åºå¼€å‘çš„â€œè½»é‡æ€§â€â€œå¿«é€Ÿè¿­ä»£â€ç‰¹æ€§ï¼Œæ˜“è®©å¼€å‘å›¢é˜Ÿèšç„¦å‰ç«¯äº¤äº’è€Œå¿½è§†åç«¯æ¥å£çš„æ‰©å±•æ€§ï¼Œå°¤å…¶åœ¨ç‰©æµæ‰“å•æ¨¡å—ï¼Œå¸¸è§ç—›ç‚¹ç›´æ¥å¯¼è‡´åæœŸå¯¹æ¥æˆæœ¬å€å¢ï¼š</p>
<p>1. å•ä¸€é€‚é…é™·é˜±ï¼šå¼€å‘æ—¶ä»…é’ˆå¯¹æŸä¸€å®¶å¿«é€’å•†çš„APIè®¾è®¡æ¥å£ï¼Œå½“å°ç¨‹åºä¸šåŠ¡æ‹“å±•éœ€æ–°å¢é¡ºä¸°ã€ä¸­é€šç­‰åˆä½œæ–¹æ—¶ï¼Œå‘ç°æ¥å£å­—æ®µã€è¯·æ±‚æ–¹å¼å®Œå…¨ä¸å…¼å®¹ï¼Œéœ€é‡æ„30%ä»¥ä¸Šçš„åç«¯ä»£ç ï¼Œå»¶è¯¯ä¸Šçº¿å‘¨æœŸã€‚</p>
<p>2. æ•°æ®è”åŠ¨ç¼ºå¤±ï¼šæ‰“å•æ¥å£ä¸å°ç¨‹åºè®¢å•ç³»ç»Ÿã€ç”¨æˆ·ä¸­å¿ƒæ•°æ®å‰²è£‚ï¼Œé¢å•ç”Ÿæˆåéœ€æ‰‹åŠ¨å½•å…¥ç‰©æµå•å·è‡³è®¢å•è¯¦æƒ…ï¼Œæ—¢å¢åŠ äººå·¥æˆæœ¬ï¼Œåˆæ˜“å‡ºç°å•å·é”™é…ï¼Œä¸â€œç‰©æµé€æ˜åŒ–â€çš„ç”¨æˆ·éœ€æ±‚ç›¸æ‚–ã€‚</p>
<p>3. åœºæ™¯è¦†ç›–ä¸è¶³ï¼šæœªé¢„ç•™æ‰¹é‡æ‰“å•ã€å¼‚å¸¸é¢å•å¤„ç†ã€ç‰©æµè½¨è¿¹æ¨é€ç­‰æ¥å£ï¼Œå½“å°ç¨‹åºå‡ºç°ç›´æ’­å³°å€¼åƒå•å¹¶å‘ã€ç”¨æˆ·æŸ¥è¯¢ç‰©æµè¿›åº¦æ—¶ï¼Œéœ€ç´§æ€¥å¼€å‘è¡¥å……ï¼Œå¼•å‘å°ç¨‹åºç¨³å®šæ€§é£é™©ã€‚</p>
<p>4. å®‰å…¨è®¾è®¡ç–æ¼ï¼šæ¥å£æœªè®¾ç½®ç­¾åéªŒè¯ã€IPç™½åå•ç­‰å®‰å…¨æœºåˆ¶ï¼Œå¯¹æ¥å¿«é€’å•†æ—¶å­˜åœ¨è®¢å•ä¿¡æ¯æ³„éœ²é£é™©ï¼ŒåŒæ—¶æ— æ³•æ»¡è¶³ã€Šä¸ªäººä¿¡æ¯ä¿æŠ¤æ³•ã€‹ä¸­å¯¹æ”¶ä»¶äººéšç§æ•°æ®çš„åŠ å¯†è¦æ±‚ã€‚</p>
<p>è¿™äº›é—®é¢˜çš„æ ¹æºå¹¶éæŠ€æœ¯éš¾åº¦ï¼Œè€Œæ˜¯å¼€å‘åˆæœŸç¼ºä¹â€œä»¥ç»ˆä¸ºå§‹â€çš„æ¥å£è§„åˆ’â€”â€”å°†ç‰©æµæ‰“å•è§†ä¸ºâ€œåæœŸå¯¹æ¥ç¯èŠ‚â€è€Œéâ€œæ ¸å¿ƒåŠŸèƒ½å‰ç½®è®¾è®¡â€ï¼Œæœ€ç»ˆå¯¼è‡´â€œå¼€å‘å¿«ã€è¿”å·¥æ…¢â€çš„æ¶æ€§å¾ªç¯ã€‚</p>
<p><strong>æ¥å£é¢„ç•™çš„ä¸‰å¤§æ ¸å¿ƒåŸåˆ™ï¼šå…¼é¡¾å½“ä¸‹å¼€å‘ä¸æœªæ¥æ‹“å±•</strong></p>
<p>å°ç¨‹åºç‰©æµæ‰“å•APIæ¥å£é¢„ç•™éœ€éµå¾ªâ€œé€šç”¨æ€§ã€æ‰©å±•æ€§ã€åœºæ™¯åŒ–â€ä¸‰å¤§åŸåˆ™ï¼Œæ—¢æ»¡è¶³å½“å‰æœ€å°å¯ç”¨ç‰ˆæœ¬éœ€æ±‚ï¼Œåˆä¸ºåç»­ä¸šåŠ¡å¢é•¿å’Œç‰©æµåˆä½œæ‹“å±•é¢„ç•™ç©ºé—´ï¼Œæ ¸å¿ƒé€»è¾‘å¯æ¦‚æ‹¬ä¸ºâ€œæ¥å£æ ‡å‡†åŒ–ã€å­—æ®µå…¼å®¹åŒ–ã€åŠŸèƒ½æ¨¡å—åŒ–â€ã€‚</p>
<p>1. é€šç”¨æ€§åŸåˆ™ï¼šä»¥è¡Œä¸šé€šç”¨æ ‡å‡†ä¸ºåŸºç¡€è®¾è®¡æ¥å£ï¼Œé¿å…ç»‘å®šå•ä¸€å¿«é€’å•†ç§æœ‰å­—æ®µã€‚ä¾‹å¦‚é‡‡ç”¨å¿«é€’é¸Ÿç­‰èšåˆç‰©æµå¹³å°çš„é€šç”¨æ¥å£è§„èŒƒï¼Œç¡®ä¿åç»­å¯¹æ¥ä»»æ„å¿«é€’å•†æ—¶ï¼Œä»…éœ€é…ç½®ç‰©æµå•†ç¼–ç å³å¯å¿«é€Ÿé€‚é…ï¼Œæ— éœ€ä¿®æ”¹æ¥å£ç»“æ„ã€‚</p>
<p>2. æ‰©å±•æ€§åŸåˆ™ï¼šé‡‡ç”¨â€œåŸºç¡€æ¥å£+æ‰©å±•å­—æ®µâ€çš„è®¾è®¡æ¨¡å¼ï¼ŒåŸºç¡€å­—æ®µæ»¡è¶³æ—¥å¸¸æ‰“å•éœ€æ±‚ï¼Œæ‰©å±•å­—æ®µé¢„ç•™ç”¨äºç‰¹æ®Šåœºæ™¯ã€‚æ¯”å¦‚åŸºç¡€å­—æ®µåŒ…å«è®¢å•å·ã€æ”¶ä»¶äººä¿¡æ¯ã€ç‰©æµå•†ç¼–ç ï¼Œæ‰©å±•å­—æ®µé¢„ç•™â€œå†·é“¾æ ‡è¯†â€â€œå¤§ä»¶å¤‡æ³¨â€â€œä¿ä»·é‡‘é¢â€ç­‰ï¼Œé€‚é…ç”Ÿé²œã€å®¶å±…ç­‰ç»†åˆ†å“ç±»éœ€æ±‚ã€‚</p>
<p>3. åœºæ™¯åŒ–åŸåˆ™ï¼šç´§æ‰£å°ç¨‹åºæ ¸å¿ƒä¸šåŠ¡åœºæ™¯è®¾è®¡æ¥å£åŠŸèƒ½ã€‚ç”µå•†ç›´æ’­å°ç¨‹åºéœ€é‡ç‚¹é¢„ç•™â€œæ‰¹é‡æ‰“å•æ¥å£â€â€œå³°å€¼å¹¶å‘å¤„ç†æ¥å£â€ï¼›ç¤¾åŒºå›¢è´­å°ç¨‹åºåˆ™éœ€é¢„ç•™â€œå›¢é•¿åœ°å€æ‰¹é‡å¯¼å…¥æ¥å£â€â€œè‡ªæç‚¹é¢å•å¤‡æ³¨æ¥å£â€ï¼Œç¡®ä¿æ¥å£ä¸ä¸šåŠ¡åœºæ™¯æ·±åº¦åŒ¹é…ã€‚</p>
<p><strong>å…·ä½“è§£å†³æ–¹æ¡ˆï¼šä»æ¥å£è®¾è®¡åˆ°è½åœ°ä¿éšœçš„å…¨æµç¨‹æ“ä½œ</strong></p>
<p><strong>1. æ¥å£æ¨¡å—æ‹†åˆ†ï¼šæŒ‰â€œä¸šåŠ¡é“¾è·¯â€è§„åˆ’æ ¸å¿ƒæ¥å£</strong></p>
<p>å›´ç»•â€œè®¢å•åŒæ­¥-é¢å•ç”Ÿæˆ-ç‰©æµè¿½è¸ª-å¼‚å¸¸å¤„ç†â€çš„ç‰©æµæ‰“å•å…¨é“¾è·¯ï¼Œæ‹†åˆ†å››å¤§æ ¸å¿ƒæ¥å£æ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—æ˜ç¡®é¢„ç•™å­—æ®µä¸åŠŸèƒ½ï¼Œç¡®ä¿é“¾è·¯å®Œæ•´ä¸”ç‹¬ç«‹å¯æ‰©å±•ï¼š</p>
<p>ï¼ˆ1ï¼‰è®¢å•ä¿¡æ¯åŒæ­¥æ¥å£ï¼šä½œä¸ºæ‰“å•çš„åŸºç¡€æ¥å£ï¼Œéœ€å®ç°å°ç¨‹åºè®¢å•ç³»ç»Ÿä¸ç‰©æµæ‰“å•æ¨¡å—çš„æ•°æ®äº’é€šã€‚é¢„ç•™å­—æ®µéœ€åŒ…å«â€œè®¢å•åŸºç¡€ä¿¡æ¯â€ï¼ˆè®¢å•å·ã€åˆ›å»ºæ—¶é—´ã€å•†å“ä¿¡æ¯ï¼‰ã€â€œæ”¶ä»¶äººä¿¡æ¯â€ï¼ˆå§“åã€ç”µè¯ã€åœ°å€ã€é‚®ç¼–ï¼‰ã€â€œå¯„ä»¶äººä¿¡æ¯â€ï¼ˆå•†å®¶åç§°ã€ç”µè¯ã€åœ°å€ï¼‰ï¼ŒåŒæ—¶æ”¯æŒâ€œæ‰¹é‡è®¢å•åŒæ­¥â€å‚æ•°ï¼Œå•æ¬¡å¯ä¼ å…¥1000æ¡ä»¥å†…è®¢å•æ•°æ®ï¼Œé€‚é…ç›´æ’­å³°å€¼åœºæ™¯ã€‚æ¥å£è¯·æ±‚æ–¹å¼å»ºè®®é‡‡ç”¨POSTï¼Œæ”¯æŒJSONæ ¼å¼ï¼Œç¡®ä¿æ•°æ®ä¼ è¾“é«˜æ•ˆã€‚</p>
<p>ï¼ˆ2ï¼‰é¢å•ç”Ÿæˆä¸æ‰“å°æ¥å£ï¼šè¿™æ˜¯æ ¸å¿ƒåŠŸèƒ½æ¥å£ï¼Œéœ€å…¼é¡¾å¤šç‰©æµå•†é€‚é…ä¸æ‰“å°åœºæ™¯éœ€æ±‚ã€‚é¢„ç•™â€œç‰©æµå•†ç¼–ç â€å­—æ®µï¼ˆå¦‚SFä»£è¡¨é¡ºä¸°ã€YTä»£è¡¨åœ†é€šï¼‰ï¼Œå¼€å‘æ—¶é€šè¿‡é…ç½®æ–‡ä»¶ç®¡ç†ç‰©æµå•†ç¼–ç ï¼Œæ–°å¢åˆä½œæ—¶ä»…éœ€æ›´æ–°é…ç½®ï¼›é¢„ç•™â€œé¢å•ç±»å‹â€å­—æ®µï¼ˆæ™®é€šé¢å•ã€ç”µå­é¢å•ã€å¤§ä»¶é¢å•ï¼‰ï¼Œæ”¯æŒæ ¹æ®å•†å“é‡é‡è‡ªåŠ¨åŒ¹é…é¢å•è§„æ ¼ï¼›åŒæ—¶é¢„ç•™â€œæ‰“å°æŒ‡ä»¤â€å­—æ®µï¼Œå¯å¯¹æ¥çƒ­æ•æ‰“å°æœºçš„è“ç‰™ã€USBè¿æ¥æ–¹å¼ï¼Œé€‚é…å°ç¨‹åºç«¯â€œæ‰‹æœºä¸€é”®æ‰“å°â€åŠŸèƒ½ã€‚</p>
<p>ï¼ˆ3ï¼‰ç‰©æµè½¨è¿¹æ¨é€æ¥å£ï¼šå®ç°ç‰©æµä¿¡æ¯ä»å¿«é€’å•†ç³»ç»Ÿåˆ°å°ç¨‹åºç«¯çš„å®æ—¶åŒæ­¥ï¼Œè§£å†³ç”¨æˆ·â€œæŸ¥ä»¶éš¾â€é—®é¢˜ã€‚é‡‡ç”¨â€œä¸»åŠ¨æ¨é€+è¢«åŠ¨æŸ¥è¯¢â€åŒæ¨¡å¼è®¾è®¡ï¼šé¢„ç•™â€œè½¨è¿¹æ¨é€æ¥å£â€ï¼Œæ¥æ”¶å¿«é€’å•†ç³»ç»Ÿçš„å®æ—¶è½¨è¿¹æ•°æ®ï¼ˆæ½æ”¶ã€ä¸­è½¬ã€æ´¾ä»¶ã€ç­¾æ”¶ï¼‰ï¼Œå¹¶åŒæ­¥è‡³å°ç¨‹åºè®¢å•è¯¦æƒ…é¡µï¼›é¢„ç•™â€œè½¨è¿¹æŸ¥è¯¢æ¥å£â€ï¼Œæ”¯æŒç”¨æˆ·é€šè¿‡è®¢å•å·ä¸»åŠ¨æŸ¥è¯¢ï¼Œæ¥å£è¿”å›â€œå½“å‰çŠ¶æ€â€â€œæ›´æ–°æ—¶é—´â€â€œèŠ‚ç‚¹è¯¦æƒ…â€ç­‰å­—æ®µï¼Œç¡®ä¿ä¿¡æ¯é€æ˜ã€‚</p>
<p>ï¼ˆ4ï¼‰å¼‚å¸¸å¤„ç†æ¥å£ï¼šé’ˆå¯¹é¢å•é”™æ‰“ã€è®¢å•å–æ¶ˆã€ç‰©æµå»¶è¯¯ç­‰åœºæ™¯ï¼Œé¢„ç•™ä¸‰å¤§åŠŸèƒ½æ¥å£ï¼šä¸€æ˜¯â€œé¢å•ä½œåºŸæ¥å£â€ï¼Œæ”¯æŒä¼ å…¥è®¢å•å·å¿«é€Ÿæ ‡è®°é¢å•çŠ¶æ€ï¼Œé¿å…é‡å¤å‘è´§ï¼›äºŒæ˜¯â€œå¼‚å¸¸é¢„è­¦æ¥å£â€ï¼Œæ¥æ”¶å¿«é€’å•†æ¨é€çš„å»¶è¯¯ã€æ»ç•™ç­‰å¼‚å¸¸ä¿¡æ¯ï¼ŒåŒæ­¥è§¦å‘å°ç¨‹åºç«¯çš„æ¶ˆæ¯æé†’ï¼ˆå¦‚æœåŠ¡é€šçŸ¥ã€å¼¹çª—ï¼‰ï¼›ä¸‰æ˜¯â€œäºŒæ¬¡æ‰“å°æ¥å£â€ï¼Œæ”¯æŒé¢å•ä¸¢å¤±åé€šè¿‡è®¢å•å·é‡æ–°ç”Ÿæˆæ‰“å°ï¼Œæ— éœ€é‡å¤å½•å…¥ä¿¡æ¯ã€‚</p>
<p><strong>2. æ¥å£é€‚é…æ€§ä¿éšœï¼šå…¼å®¹å¤šåœºæ™¯ã€å¤šç»ˆç«¯éœ€æ±‚</strong></p>
<p>å°ç¨‹åºçš„å¤šç»ˆç«¯é€‚é…ç‰¹æ€§ï¼Œè¦æ±‚ç‰©æµæ‰“å•APIæ¥å£å…·å¤‡é«˜åº¦å…¼å®¹æ€§ï¼Œé¿å…å‡ºç°â€œæ‰‹æœºç«¯å¯ç”¨ã€å¹³æ¿ç«¯å¼‚å¸¸â€â€œå¾®ä¿¡å°ç¨‹åºå¯ç”¨ã€æ”¯ä»˜å®å°ç¨‹åºä¸å¯ç”¨â€çš„é—®é¢˜ï¼š</p>
<p>ï¼ˆ1ï¼‰åè®®ä¸æ ¼å¼å…¼å®¹ï¼šæ¥å£ç»Ÿä¸€é‡‡ç”¨HTTPSåè®®ä¿éšœæ•°æ®å®‰å…¨ï¼Œæ”¯æŒGETã€POSTä¸¤ç§è¯·æ±‚æ–¹å¼ï¼Œå“åº”æ ¼å¼åŒæ—¶å…¼å®¹JSONä¸XMLï¼Œé€‚é…ä¸åŒå¿«é€’å•†çš„æ¥å£è¦æ±‚ï¼›å­—æ®µå‘½åé‡‡ç”¨ä¸‹åˆ’çº¿å‘½åæ³•ï¼ˆå¦‚recipient_nameï¼‰ï¼Œé¿å…ä½¿ç”¨ç¼–ç¨‹è¯­è¨€çš„å…³é”®å­—ï¼Œé™ä½å¯¹æ¥å†²çªã€‚</p>
<p>ï¼ˆ2ï¼‰ç»ˆç«¯é€‚é…ä¼˜åŒ–ï¼šé’ˆå¯¹å°ç¨‹åºåœ¨æ‰‹æœºã€å¹³æ¿çš„ä¸åŒå±å¹•å°ºå¯¸ï¼Œé¢å•ç”Ÿæˆæ¥å£é¢„ç•™â€œæ‰“å°å°ºå¯¸â€å‚æ•°ï¼ˆå¦‚80mmÃ—100mmã€100mmÃ—150mmï¼‰ï¼Œæ”¯æŒæ ¹æ®ç»ˆç«¯è‡ªåŠ¨è°ƒæ•´é¢å•å¸ƒå±€ï¼›æ¥å£å“åº”æ—¶é—´æ§åˆ¶åœ¨500msä»¥å†…ï¼Œæ‰¹é‡æ‰“å•æ—¶é‡‡ç”¨å¼‚æ­¥å¤„ç†æœºåˆ¶ï¼Œé¿å…å°ç¨‹åºç«¯å‡ºç°å¡é¡¿ã€é—ªé€€ã€‚</p>
<p>ï¼ˆ3ï¼‰è·¨å¹³å°é€‚é…ï¼šè‹¥å°ç¨‹åºéœ€è·¨å¾®ä¿¡ã€æ”¯ä»˜å®ã€æŠ–éŸ³ç­‰å¤šå¹³å°è¿è¥ï¼Œæ¥å£è®¾è®¡éœ€é¿å…ä¾èµ–å•ä¸€å¹³å°çš„ç§æœ‰APIï¼Œé‡‡ç”¨é€šç”¨çš„ç½‘ç»œè¯·æ±‚æ–¹å¼ï¼›é¢„ç•™â€œå¹³å°æ ‡è¯†â€å­—æ®µï¼Œå¯æ ¹æ®ä¸åŒå¹³å°çš„è§„åˆ™è‡ªåŠ¨è°ƒæ•´ç‰©æµæ‰“å•é€»è¾‘ï¼Œå¦‚æŠ–éŸ³å°ç¨‹åºçš„è®¢å•éœ€åŒæ­¥è‡³æŠ–éŸ³ç”µå•†åå°ï¼Œæ¥å£å¯é€šè¿‡å¹³å°æ ‡è¯†è‡ªåŠ¨è§¦å‘æ•°æ®å›ä¼ ã€‚</p>
<p><strong>3. å®‰å…¨ä¸ç¨³å®šæ€§è®¾è®¡ï¼šé¿å…æ•°æ®æ³„éœ²ä¸æ¥å£æ•…éšœ</strong></p>
<p>ç‰©æµæ‰“å•æ¥å£æ¶‰åŠç”¨æˆ·éšç§ä¿¡æ¯ï¼ˆæ‰‹æœºå·ã€åœ°å€ï¼‰ä¸å•†å®¶æ ¸å¿ƒæ•°æ®ï¼ˆè®¢å•ä¿¡æ¯ã€è¿è´¹ï¼‰ï¼Œå®‰å…¨ä¸ç¨³å®šæ€§æ˜¯é¢„ç•™è®¾è®¡çš„é‡ä¸­ä¹‹é‡ï¼š</p>
<p>ï¼ˆ1ï¼‰æ¥å£å®‰å…¨é˜²æŠ¤ï¼šé‡‡ç”¨â€œAPIå¯†é’¥+ç­¾åéªŒè¯â€åŒé‡è®¤è¯æœºåˆ¶ï¼Œå¼€å‘æ—¶ä¸ºå°ç¨‹åºåˆ†é…å”¯ä¸€APIå¯†é’¥ï¼Œæ¯æ¬¡è¯·æ±‚éœ€æºå¸¦å¯†é’¥ä¸æ—¶é—´æˆ³ç”Ÿæˆçš„ç­¾åï¼Œå¿«é€’å•†ç³»ç»ŸéªŒè¯é€šè¿‡åæ–¹å¯å“åº”ï¼›å¯¹æ”¶ä»¶äººæ‰‹æœºå·ã€èº«ä»½è¯å·ç­‰æ•æ„Ÿä¿¡æ¯é‡‡ç”¨AESåŠ å¯†ç®—æ³•å¤„ç†ï¼Œæ¥å£ä¼ è¾“ä¸å­˜å‚¨å‡ä»¥åŠ å¯†å½¢å¼å‘ˆç°ï¼Œç¬¦åˆéšç§ä¿æŠ¤è¦æ±‚ã€‚</p>
<p>ï¼ˆ2ï¼‰ç¨³å®šæ€§ä¿éšœï¼šè®¾è®¡æ¥å£ç†”æ–­ä¸é™çº§æœºåˆ¶ï¼Œå½“æŸä¸€å¿«é€’å•†æ¥å£å‡ºç°æ•…éšœæ—¶ï¼Œç³»ç»Ÿå¯è‡ªåŠ¨åˆ‡æ¢è‡³å¤‡ç”¨å¿«é€’å•†æ¥å£ï¼Œé¿å…æ•´ä½“æ‰“å•åŠŸèƒ½ç˜«ç—ªï¼›é¢„ç•™â€œæ¥å£ç›‘æ§â€å­—æ®µï¼Œå®æ—¶ç»Ÿè®¡æ¥å£å“åº”æ—¶é—´ã€æˆåŠŸç‡ã€é”™è¯¯ç‡ï¼Œå¼‚å¸¸æ—¶è§¦å‘å¼€å‘è€…å‘Šè­¦ï¼ˆå¦‚çŸ­ä¿¡ã€ä¼ä¸šå¾®ä¿¡é€šçŸ¥ï¼‰ï¼Œä¾¿äºåŠæ—¶æ’æŸ¥ã€‚</p>
<p><strong>å¼€å‘è½åœ°ï¼šæ¥å£é¢„ç•™çš„æµç¨‹ä¸æµ‹è¯•æŠ€å·§</strong></p>
<p>1. éœ€æ±‚æ¢³ç†å…ˆè¡Œï¼šå¼€å‘å‰è”åˆè¿è¥ã€å•†å®¶æ˜ç¡®å°ç¨‹åºçš„ç‰©æµåœºæ™¯ï¼Œæ¯”å¦‚æ˜¯å¦æ¶‰åŠè·¨å¢ƒç‰©æµã€å¤§ä»¶è¿è¾“ï¼Œæ—¥å‡æ‰“å•é‡ä¸å³°å€¼æ‰“å•é‡ï¼Œæ®æ­¤ç¡®å®šæ¥å£çš„åŠŸèƒ½ä¼˜å…ˆçº§ä¸æ‰©å±•éœ€æ±‚ï¼Œé¿å…å†—ä½™è®¾è®¡ã€‚</p>
<p>2. æ¥å£æ–‡æ¡£æ ‡å‡†åŒ–ï¼šåˆ¶å®šè¯¦ç»†çš„æ¥å£é¢„ç•™æ–‡æ¡£ï¼Œæ˜ç¡®æ¯ä¸ªæ¥å£çš„è¯·æ±‚åœ°å€ã€å‚æ•°è¯´æ˜ã€è¿”å›æ ¼å¼ã€é”™è¯¯ç ï¼Œå°¤å…¶æ ‡æ³¨æ‰©å±•å­—æ®µçš„ä½¿ç”¨åœºæ™¯ä¸å…¼å®¹èŒƒå›´ï¼Œæ–¹ä¾¿åæœŸå¯¹æ¥å¿«é€’å•†æ—¶çš„å¼€å‘ä¸æµ‹è¯•ã€‚</p>
<p>3. é¢„ç•™æ¥å£è”è°ƒæµ‹è¯•ï¼šå¼€å‘é˜¶æ®µå¯åˆ©ç”¨å¿«é€’é¸Ÿç­‰èšåˆå¹³å°çš„æµ‹è¯•ç¯å¢ƒï¼Œå¯¹é¢„ç•™æ¥å£è¿›è¡Œè”è°ƒï¼ŒéªŒè¯æ‰¹é‡æ‰“å•ã€è½¨è¿¹åŒæ­¥ã€å¼‚å¸¸å¤„ç†ç­‰åŠŸèƒ½çš„å…¼å®¹æ€§ï¼Œæå‰å‘ç°å­—æ®µç¼ºå¤±ã€æ ¼å¼ä¸åŒ¹é…ç­‰é—®é¢˜ï¼Œé¿å…ä¸Šçº¿åè¿”å·¥ã€‚</p>
<p><strong>å®æˆ˜ä»·å€¼ï¼šä¸€æ¬¡é¢„ç•™ï¼Œé™ä½80%å¯¹æ¥æˆæœ¬</strong></p>
<p>æŸç”µå•†ç›´æ’­å°ç¨‹åºå¼€å‘å›¢é˜Ÿé‡‡ç”¨ä¸Šè¿°æ–¹æ¡ˆé¢„ç•™ç‰©æµæ‰“å•APIæ¥å£åï¼Œå®ç°äº†æ˜¾è‘—çš„æ•ˆç‡æå‡ï¼šä¸Šçº¿åå¯¹æ¥é¡ºä¸°ã€ä¸­é€šä¸¤å®¶å¿«é€’å•†æ—¶ï¼Œä»…é€šè¿‡æ›´æ–°ç‰©æµå•†ç¼–ç é…ç½®å³å®Œæˆé€‚é…ï¼Œæœªä¿®æ”¹ä¸€è¡Œæ ¸å¿ƒä»£ç ï¼Œå¯¹æ¥æ—¶é—´ä»15å¤©ç¼©çŸ­è‡³3å¤©ï¼›ç›´æ’­å³°å€¼1000å•å¹¶å‘æ—¶ï¼Œæ‰¹é‡æ‰“å•æ¥å£å“åº”ç¨³å®šï¼Œæ— å¡é¡¿æƒ…å†µï¼›ç”¨æˆ·é€šè¿‡å°ç¨‹åºå³å¯å®æ—¶æŸ¥è¯¢ç‰©æµè½¨è¿¹ï¼Œå®¢æœæŸ¥ä»¶å’¨è¯¢é‡ä¸‹é™70%ã€‚</p>
<p>å¯¹å°ç¨‹åºå¼€å‘å›¢é˜Ÿè€Œè¨€ï¼Œç‰©æµæ‰“å•APIæ¥å£çš„ç§‘å­¦é¢„ç•™ï¼Œä¸ä»…è§„é¿äº†åæœŸé‡æ„çš„æˆæœ¬ï¼Œæ›´è®©å°ç¨‹åºå…·å¤‡å¿«é€Ÿå“åº”ä¸šåŠ¡å˜åŒ–çš„èƒ½åŠ›â€”â€”å½“æ–°å¢ç‰©æµåˆä½œã€æ‹“å±•ç»†åˆ†å“ç±»æ—¶ï¼Œæ— éœ€æš‚åœæœåŠ¡å³å¯å®Œæˆå¯¹æ¥ï¼Œå®ç°â€œå¼€å‘ä¸€æ¬¡ã€é•¿æœŸå¤ç”¨â€çš„ç›®æ ‡ã€‚</p>
<p><strong>ç»“è¯­</strong></p>
<p>å°ç¨‹åºç‰©æµæ‰“å•APIæ¥å£çš„é¢„ç•™ï¼Œæœ¬è´¨æ˜¯â€œä»¥ä¸šåŠ¡éœ€æ±‚ä¸ºå¯¼å‘çš„å‰ç»æ€§è®¾è®¡â€ã€‚åœ¨ç”µå•†ç«äº‰æ—¥è¶‹æ¿€çƒˆçš„ä»Šå¤©ï¼Œç‰©æµå±¥çº¦æ•ˆç‡ç›´æ¥å½±å“ç”¨æˆ·ä½“éªŒä¸å•†å®¶åˆä½œæ„æ„¿ï¼Œå¼€å‘å›¢é˜Ÿéœ€æ‘’å¼ƒâ€œå…ˆå¼€å‘ã€åå¯¹æ¥â€çš„ä¼ ç»Ÿæ€ç»´ï¼Œå°†æ¥å£é¢„ç•™èå…¥å‰æœŸå¼€å‘æµç¨‹ã€‚</p>
<p>é€šè¿‡éµå¾ªâ€œé€šç”¨æ€§ã€æ‰©å±•æ€§ã€åœºæ™¯åŒ–â€åŸåˆ™ï¼Œæ‹†åˆ†æ ¸å¿ƒæ¥å£æ¨¡å—ã€ä¿éšœé€‚é…æ€§ä¸å®‰å…¨æ€§ï¼Œå°ç¨‹åºä¸ä»…èƒ½å¿«é€Ÿå¯¹æ¥å„ç±»å¿«é€’èµ„æºï¼Œæ›´èƒ½åœ¨ç›´æ’­å³°å€¼ã€å“ç±»æ‹“å±•ç­‰åœºæ™¯ä¸­ä¿æŒç¨³å®šé«˜æ•ˆï¼Œè®©ç‰©æµæ‰“å•ä»â€œå¼€å‘ç—›ç‚¹â€å˜ä¸ºâ€œæœåŠ¡äº®ç‚¹â€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€ç©¿è¶ŠEffective C++ã€‘æ¡æ¬¾19ï¼šè®¾è®¡classçŠ¹å¦‚è®¾è®¡typeâ€”â€”ç”¨æˆ·å®šä¹‰ç±»å‹çš„è‰ºæœ¯ä¸ç§‘å­¦]]></title>    <link>https://juejin.cn/post/7572137760448200745</link>    <guid>https://juejin.cn/post/7572137760448200745</guid>    <pubDate>2025-11-14T08:41:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572137760448200745" data-draft-id="7572039006530650148" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€ç©¿è¶ŠEffective C++ã€‘æ¡æ¬¾19ï¼šè®¾è®¡classçŠ¹å¦‚è®¾è®¡typeâ€”â€”ç”¨æˆ·å®šä¹‰ç±»å‹çš„è‰ºæœ¯ä¸ç§‘å­¦"/> <meta itemprop="keywords" content="C++,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-14T08:41:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ²æ€¡æ—¸"/> <meta itemprop="url" content="https://juejin.cn/user/2875978146656750"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€ç©¿è¶ŠEffective C++ã€‘æ¡æ¬¾19ï¼šè®¾è®¡classçŠ¹å¦‚è®¾è®¡typeâ€”â€”ç”¨æˆ·å®šä¹‰ç±»å‹çš„è‰ºæœ¯ä¸ç§‘å­¦
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2875978146656750/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ²æ€¡æ—¸
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T08:41:11.000Z" title="Fri Nov 14 2025 08:41:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»17åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿™ä¸ªæ¡æ¬¾æ­ç¤ºäº†C++é¢å‘å¯¹è±¡è®¾è®¡çš„æ ¸å¿ƒç†å¿µï¼šå®šä¹‰æ–°classå°±æ˜¯å®šä¹‰æ–°typeã€‚ä¼˜ç§€çš„classè®¾è®¡åº”è¯¥è®©ç”¨æˆ·å®šä¹‰ç±»å‹ä¸å†…ç½®ç±»å‹æ— ç¼åä½œï¼Œè¿™è¦æ±‚æˆ‘ä»¬åœ¨è®¾è®¡æ—¶è€ƒè™‘ç±»å‹ç³»ç»Ÿçš„å®Œæ•´æ€§ã€ä¸€è‡´æ€§å’Œç›´è§‚æ€§ã€‚</p>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a3192f88c8a34169975da1a2c32874e4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKQ5oCh5pe4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763714471&amp;x-signature=I7wIk%2F3NvpACB342B5FOZzZ78hQ%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-0"><strong>æ€ç»´å¯¼å›¾ï¼šclassè®¾è®¡çš„å®Œæ•´ä½“ç³»</strong></h3>
<hr/>
<h3 data-id="heading-1"><strong>å…³é”®æ´è§ä¸è¡ŒåŠ¨æŒ‡å—</strong></h3>
<h4 data-id="heading-2"><strong>å¿…é¡»éµå®ˆçš„æ ¸å¿ƒåŸåˆ™ï¼š</strong></h4>
<ol>
<li><strong>ç±»å‹å®Œæ•´æ€§</strong>ï¼šç”¨æˆ·å®šä¹‰ç±»å‹åº”è¯¥æä¾›å®Œæ•´çš„è¡Œä¸ºè¯­ä¹‰ï¼Œä¸å†…ç½®ç±»å‹æ— ç¼åä½œ</li>
<li><strong>èµ„æºå®‰å…¨</strong>ï¼šéµå¾ªRAIIåŸåˆ™ï¼Œç¡®ä¿èµ„æºçš„æ­£ç¡®è·å–å’Œé‡Šæ”¾</li>
<li><strong>æ¥å£ä¸€è‡´æ€§</strong>ï¼šæä¾›ç›´è§‚ã€ä¸€è‡´çš„æ¥å£ï¼Œç¬¦åˆç”¨æˆ·çš„å¿ƒç†é¢„æœŸ</li>
<li><strong>å¼‚å¸¸å®‰å…¨</strong>ï¼šæ˜ç¡®æ ‡æ³¨å¹¶ä¿è¯ä¸åŒçº§åˆ«çš„å¼‚å¸¸å®‰å…¨æ€§</li>
</ol>
<h4 data-id="heading-3"><strong>ç°ä»£C++å¼€å‘å»ºè®®ï¼š</strong></h4>
<ol>
<li><strong>ä¸‰äº”æ³•åˆ™åº”ç”¨</strong>ï¼šæ ¹æ®éœ€è¦å®šä¹‰æ‹·è´æ§åˆ¶æˆå‘˜ï¼Œæˆ–ä½¿ç”¨=default/=delete</li>
<li><strong>ç§»åŠ¨è¯­ä¹‰æ”¯æŒ</strong>ï¼šä¸ºèµ„æºç®¡ç†ç±»æä¾›ç§»åŠ¨æ“ä½œä»¥è·å¾—æ€§èƒ½ä¼˜åŠ¿</li>
<li><strong>noexceptæ­£ç¡®ä½¿ç”¨</strong>ï¼šå¯¹ä¸æŠ›å¼‚å¸¸çš„æ“ä½œæ­£ç¡®æ ‡è®°noexcept</li>
<li><strong>constexpræ”¯æŒ</strong>ï¼šä¸ºå¯åœ¨ç¼–è¯‘æœŸè®¡ç®—çš„æ“ä½œæä¾›constexpr</li>
</ol>
<h4 data-id="heading-4"><strong>è®¾è®¡åŸåˆ™æ€»ç»“ï¼š</strong></h4>
<ol>
<li><strong>æœ€å°å®Œæ•´åŸåˆ™</strong>ï¼šæä¾›æœ€å°ä½†å®Œæ•´çš„æ¥å£é›†åˆ</li>
<li><strong>è¯­ä¹‰æ˜ç¡®åŸåˆ™</strong>ï¼šæ¯ä¸ªæ“ä½œéƒ½æœ‰æ˜ç¡®ã€ä¸€è‡´çš„è¯­ä¹‰</li>
<li><strong>èµ„æºè‡ªæ²»åŸåˆ™</strong>ï¼šç±»å‹è´Ÿè´£ç®¡ç†è‡ªå·±çš„èµ„æº</li>
<li><strong>æ‰©å±•å¼€æ”¾åŸåˆ™</strong>ï¼šè®¾è®¡å…è®¸åˆç†çš„æ‰©å±•è€Œä¸ç ´åç°æœ‰ä»£ç </li>
</ol>
<h4 data-id="heading-5"><strong>éœ€è¦è­¦æƒ•çš„é™·é˜±ï¼š</strong></h4>
<ol>
<li><strong>éšå¼è½¬æ¢é™·é˜±</strong>ï¼šå•å‚æ•°æ„é€ å‡½æ•°å’Œè½¬æ¢è¿ç®—ç¬¦çš„è¯¯ç”¨</li>
<li><strong>åˆ‡ç‰‡é—®é¢˜</strong>ï¼šå€¼è¯­ä¹‰ä¸‹çš„å¯¹è±¡åˆ‡ç‰‡</li>
<li><strong>å¼‚å¸¸å®‰å…¨æ¼æ´</strong>ï¼šèµ„æºæ³„æ¼å’Œä¸ä¸€è‡´çŠ¶æ€</li>
<li><strong>çº¿ç¨‹å®‰å…¨æ··æ·†</strong>ï¼šé”™è¯¯çš„çº¿ç¨‹å®‰å…¨å‡è®¾</li>
</ol>
<p><strong>æœ€ç»ˆå»ºè®®ï¼š</strong> å°†æ¯ä¸ªclassè®¾è®¡è§†ä¸ºè¯­è¨€æ‰©å±•çš„æœºä¼šã€‚åŸ¹å…»"è¯­è¨€è®¾è®¡è€…æ€ç»´"â€”â€”åœ¨è®¾è®¡æ¯ä¸ªclassæ—¶éƒ½æ€è€ƒï¼š"è¿™ä¸ªç±»å‹åº”è¯¥æ€æ ·èå…¥C++ç±»å‹ç³»ç»Ÿï¼Ÿå®ƒçš„è¡Œä¸ºåº”è¯¥åƒå†…ç½®ç±»å‹å—ï¼Ÿç”¨æˆ·ä¼šæ€æ ·ä½¿ç”¨å®ƒï¼Ÿ" è¿™ç§æ€ç»´æ–¹å¼æ˜¯æ„å»ºä¼˜ç§€C++ä»£ç åº“çš„å…³é”®ã€‚</p>
<p>è®°ä½ï¼š<strong>åœ¨C++ä¸­ï¼Œè®¾è®¡classå°±æ˜¯è®¾è®¡typeã€‚ä¼˜ç§€çš„ç”¨æˆ·å®šä¹‰ç±»å‹åº”è¯¥è®©ä½¿ç”¨è€…å¿˜è®°å®ƒæ˜¯ç”¨æˆ·å®šä¹‰çš„ã€‚</strong> æ¡æ¬¾19æ•™ä¼šæˆ‘ä»¬çš„ä¸ä»…æ˜¯ä¸€ç»„æŠ€æœ¯è§„åˆ™ï¼Œæ›´æ˜¯é¢å‘å¯¹è±¡è®¾è®¡å“²å­¦åœ¨C++ä¸­çš„å…·ä½“ä½“ç°ã€‚</p>
<hr/>
<h3 data-id="heading-6"><strong>æ·±å…¥è§£æï¼šclassè®¾è®¡çš„æ ¸å¿ƒæŒ‘æˆ˜</strong></h3>
<h4 data-id="heading-7"><strong>1. é—®é¢˜æ ¹æºï¼šç±»å‹è¯­ä¹‰çš„å®Œæ•´æ€§</strong></h4>
<p><strong>å…¸å‹çš„ä¸å®Œæ•´ç±»å‹è®¾è®¡ï¼š</strong></p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ç³Ÿç³•çš„å­—ç¬¦ä¸²ç±»å‹è®¾è®¡ - è¯­ä¹‰ä¸å®Œæ•´</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">BadString</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">BadString</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* str) {
        <span class="hljs-keyword">if</span> (str) {
            data_ = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span>[<span class="hljs-built_in">strlen</span>(str) + <span class="hljs-number">1</span>];
            <span class="hljs-built_in">strcpy</span>(data_, str);
        }
    }
    
    ~<span class="hljs-built_in">BadString</span>() {
        <span class="hljs-keyword">delete</span>[] data_;
    }
    
    <span class="hljs-comment">// ç¼ºå°‘æ‹·è´æ„é€ å‡½æ•°ï¼</span>
    <span class="hljs-comment">// ç¼ºå°‘æ‹·è´èµ‹å€¼è¿ç®—ç¬¦ï¼</span>
    <span class="hljs-comment">// ç¼ºå°‘ç§»åŠ¨æ“ä½œï¼</span>
    
    <span class="hljs-function"><span class="hljs-type">const</span> <span class="hljs-type">char</span>* <span class="hljs-title">c_str</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{ <span class="hljs-keyword">return</span> data_; }
    
<span class="hljs-keyword">private</span>:
    <span class="hljs-type">char</span>* data_ = <span class="hljs-literal">nullptr</span>;
};

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">demonstrate_incomplete_type</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-function">BadString <span class="hljs-title">s1</span><span class="hljs-params">(<span class="hljs-string">"hello"</span>)</span></span>;
    
    <span class="hljs-comment">// ç¾éš¾ï¼é»˜è®¤æ‹·è´æ˜¯æµ…æ‹·è´</span>
    <span class="hljs-comment">// BadString s2 = s1;  // åŒé‡åˆ é™¤ï¼</span>
    
    <span class="hljs-comment">// åŒæ ·çš„é—®é¢˜ï¼</span>
    <span class="hljs-comment">// BadString s3("world");</span>
    <span class="hljs-comment">// s3 = s1;  // å†…å­˜æ³„æ¼ + åŒé‡åˆ é™¤ï¼</span>
    
    <span class="hljs-comment">// æ— æ³•é«˜æ•ˆè¿”å›ï¼</span>
    <span class="hljs-comment">// auto createString() -&gt; BadString {</span>
    <span class="hljs-comment">//     BadString local("local");</span>
    <span class="hljs-comment">//     return local;  // æ˜‚è´µçš„æ‹·è´ï¼</span>
    <span class="hljs-comment">// }</span>
}
</code></pre>
<p><strong>èµ„æºç®¡ç†çš„ä¸å®Œæ•´è®¾è®¡ï¼š</strong></p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// èµ„æºç®¡ç†ä¸å®Œæ•´çš„æ–‡ä»¶ç±»</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">BadFile</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">BadFile</span>(<span class="hljs-type">const</span> std::string&amp; filename) 
        : <span class="hljs-built_in">handle_</span>(<span class="hljs-built_in">fopen</span>(filename.<span class="hljs-built_in">c_str</span>(), <span class="hljs-string">"r"</span>)) {
        <span class="hljs-keyword">if</span> (!handle_) {
            <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">runtime_error</span>(<span class="hljs-string">"æ— æ³•æ‰“å¼€æ–‡ä»¶"</span>);
        }
    }
    
    ~<span class="hljs-built_in">BadFile</span>() {
        <span class="hljs-keyword">if</span> (handle_) {
            <span class="hljs-built_in">fclose</span>(handle_);
        }
    }
    
    <span class="hljs-comment">// è¯»å–æ–‡ä»¶å†…å®¹</span>
    <span class="hljs-function">std::string <span class="hljs-title">read</span><span class="hljs-params">(<span class="hljs-type">size_t</span> size)</span> </span>{
        <span class="hljs-function">std::string <span class="hljs-title">result</span><span class="hljs-params">(size, <span class="hljs-string">'\0'</span>)</span></span>;
        <span class="hljs-built_in">fread</span>(&amp;result[<span class="hljs-number">0</span>], <span class="hljs-number">1</span>, size, handle_);
        <span class="hljs-keyword">return</span> result;
    }
    
<span class="hljs-keyword">private</span>:
    FILE* handle_;
    
    <span class="hljs-comment">// ç¦æ­¢æ‹·è´ï¼Œä½†æ²¡æœ‰æä¾›ç§»åŠ¨è¯­ä¹‰ï¼</span>
    <span class="hljs-built_in">BadFile</span>(<span class="hljs-type">const</span> BadFile&amp;) = <span class="hljs-keyword">delete</span>;
    BadFile&amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> BadFile&amp;) = <span class="hljs-keyword">delete</span>;
};

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">demonstrate_bad_resource_management</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-function">BadFile <span class="hljs-title">file1</span><span class="hljs-params">(<span class="hljs-string">"data.txt"</span>)</span></span>;
    <span class="hljs-keyword">auto</span> content = file1.<span class="hljs-built_in">read</span>(<span class="hljs-number">100</span>);
    
    <span class="hljs-comment">// æ— æ³•åœ¨å®¹å™¨ä¸­ä½¿ç”¨ï¼</span>
    <span class="hljs-comment">// std::vector&lt;BadFile&gt; files;</span>
    <span class="hljs-comment">// files.push_back(BadFile("test.txt"));  // ç¼–è¯‘é”™è¯¯ï¼</span>
    
    <span class="hljs-comment">// æ— æ³•é«˜æ•ˆè¿”å›ï¼</span>
    <span class="hljs-comment">// auto openConfig() -&gt; BadFile {</span>
    <span class="hljs-comment">//     BadFile local("config.txt");</span>
    <span class="hljs-comment">//     return local;  // ç¼–è¯‘é”™è¯¯ï¼æ²¡æœ‰ç§»åŠ¨æ„é€ å‡½æ•°</span>
    <span class="hljs-comment">// }</span>
}
</code></pre>
<hr/>
<h3 data-id="heading-8"><strong>è§£å†³æ–¹æ¡ˆï¼šå®Œæ•´çš„ç±»å‹è®¾è®¡</strong></h3>
<h4 data-id="heading-9"><strong>1. ä¸‰äº”æ³•åˆ™çš„æ­£ç¡®åº”ç”¨</strong></h4>
<p><strong>å®Œæ•´çš„å­—ç¬¦ä¸²ç±»å‹è®¾è®¡ï¼š</strong></p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ä¼˜ç§€çš„å­—ç¬¦ä¸²ç±»å‹ - éµå¾ªä¸‰äº”æ³•åˆ™</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">GoodString</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-comment">// é»˜è®¤æ„é€ å‡½æ•°</span>
    <span class="hljs-built_in">GoodString</span>() = <span class="hljs-keyword">default</span>;
    
    <span class="hljs-comment">// æ„é€ å‡½æ•°</span>
    <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">GoodString</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* str)</span> </span>{
        <span class="hljs-keyword">if</span> (str) {
            size_ = std::<span class="hljs-built_in">strlen</span>(str);
            data_ = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span>[size_ + <span class="hljs-number">1</span>];
            std::<span class="hljs-built_in">strcpy</span>(data_, str);
        }
    }
    
    <span class="hljs-built_in">GoodString</span>(<span class="hljs-type">const</span> std::string&amp; str) 
        : <span class="hljs-built_in">GoodString</span>(str.<span class="hljs-built_in">c_str</span>()) {}
    
    <span class="hljs-comment">// 1. ææ„å‡½æ•°</span>
    ~<span class="hljs-built_in">GoodString</span>() {
        <span class="hljs-keyword">delete</span>[] data_;
    }
    
    <span class="hljs-comment">// 2. æ‹·è´æ„é€ å‡½æ•°</span>
    <span class="hljs-built_in">GoodString</span>(<span class="hljs-type">const</span> GoodString&amp; other) 
        : <span class="hljs-built_in">size_</span>(other.size_) {
        <span class="hljs-keyword">if</span> (other.data_) {
            data_ = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span>[size_ + <span class="hljs-number">1</span>];
            std::<span class="hljs-built_in">strcpy</span>(data_, other.data_);
        }
    }
    
    <span class="hljs-comment">// 3. æ‹·è´èµ‹å€¼è¿ç®—ç¬¦</span>
    GoodString&amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> GoodString&amp; other) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> != &amp;other) {  <span class="hljs-comment">// è‡ªæˆ‘èµ‹å€¼æ£€æŸ¥</span>
            GoodString <span class="hljs-built_in">temp</span>(other);  <span class="hljs-comment">// æ‹·è´æ„é€ </span>
            <span class="hljs-built_in">swap</span>(temp);             <span class="hljs-comment">// äº¤æ¢ - å¼ºå¼‚å¸¸å®‰å…¨ä¿è¯</span>
        }
        <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;
    }
    
    <span class="hljs-comment">// 4. ç§»åŠ¨æ„é€ å‡½æ•°</span>
    <span class="hljs-built_in">GoodString</span>(GoodString&amp;&amp; other) <span class="hljs-keyword">noexcept</span> 
        : <span class="hljs-built_in">data_</span>(other.data_), <span class="hljs-built_in">size_</span>(other.size_) {
        other.data_ = <span class="hljs-literal">nullptr</span>;
        other.size_ = <span class="hljs-number">0</span>;
    }
    
    <span class="hljs-comment">// 5. ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦</span>
    GoodString&amp; <span class="hljs-keyword">operator</span>=(GoodString&amp;&amp; other) <span class="hljs-keyword">noexcept</span> {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> != &amp;other) {
            <span class="hljs-keyword">delete</span>[] data_;        <span class="hljs-comment">// é‡Šæ”¾å½“å‰èµ„æº</span>
            data_ = other.data_;
            size_ = other.size_;
            other.data_ = <span class="hljs-literal">nullptr</span>;
            other.size_ = <span class="hljs-number">0</span>;
        }
        <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;
    }
    
    <span class="hljs-comment">// äº¤æ¢æ“ä½œ</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">swap</span><span class="hljs-params">(GoodString&amp; other)</span> <span class="hljs-keyword">noexcept</span> </span>{
        std::<span class="hljs-built_in">swap</span>(data_, other.data_);
        std::<span class="hljs-built_in">swap</span>(size_, other.size_);
    }
    
    <span class="hljs-comment">// è®¿é—®æ¥å£</span>
    <span class="hljs-function"><span class="hljs-type">const</span> <span class="hljs-type">char</span>* <span class="hljs-title">c_str</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> <span class="hljs-keyword">noexcept</span> </span>{ 
        <span class="hljs-keyword">return</span> data_ ? data_ : <span class="hljs-string">""</span>; 
    }
    
    <span class="hljs-function"><span class="hljs-type">size_t</span> <span class="hljs-title">size</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> <span class="hljs-keyword">noexcept</span> </span>{ <span class="hljs-keyword">return</span> size_; }
    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">empty</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> <span class="hljs-keyword">noexcept</span> </span>{ <span class="hljs-keyword">return</span> size_ == <span class="hljs-number">0</span>; }
    
    <span class="hljs-comment">// è¿ç®—ç¬¦é‡è½½</span>
    <span class="hljs-keyword">friend</span> <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>==(<span class="hljs-type">const</span> GoodString&amp; lhs, <span class="hljs-type">const</span> GoodString&amp; rhs) {
        <span class="hljs-keyword">if</span> (lhs.size_ != rhs.size_) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">return</span> std::<span class="hljs-built_in">strcmp</span>(lhs.<span class="hljs-built_in">c_str</span>(), rhs.<span class="hljs-built_in">c_str</span>()) == <span class="hljs-number">0</span>;
    }
    
    <span class="hljs-keyword">friend</span> <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>!=(<span class="hljs-type">const</span> GoodString&amp; lhs, <span class="hljs-type">const</span> GoodString&amp; rhs) {
        <span class="hljs-keyword">return</span> !(lhs == rhs);
    }
    
    <span class="hljs-comment">// æµè¾“å‡ºæ”¯æŒ</span>
    <span class="hljs-keyword">friend</span> std::ostream&amp; <span class="hljs-keyword">operator</span>&lt;&lt;(std::ostream&amp; os, <span class="hljs-type">const</span> GoodString&amp; str) {
        <span class="hljs-keyword">return</span> os &lt;&lt; str.<span class="hljs-built_in">c_str</span>();
    }
    
<span class="hljs-keyword">private</span>:
    <span class="hljs-type">char</span>* data_ = <span class="hljs-literal">nullptr</span>;
    <span class="hljs-type">size_t</span> size_ = <span class="hljs-number">0</span>;
};

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">demonstrate_good_string</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// å„ç§æ„é€ éƒ½æ­£å¸¸å·¥ä½œ</span>
    GoodString s1;
    <span class="hljs-function">GoodString <span class="hljs-title">s2</span><span class="hljs-params">(<span class="hljs-string">"hello"</span>)</span></span>;
    GoodString s3 = s2;           <span class="hljs-comment">// æ‹·è´æ„é€ </span>
    GoodString s4 = std::<span class="hljs-built_in">move</span>(s2); <span class="hljs-comment">// ç§»åŠ¨æ„é€ </span>
    
    <span class="hljs-comment">// èµ‹å€¼æ“ä½œ</span>
    s1 = s3;                      <span class="hljs-comment">// æ‹·è´èµ‹å€¼</span>
    s3 = <span class="hljs-built_in">GoodString</span>(<span class="hljs-string">"world"</span>);     <span class="hljs-comment">// ç§»åŠ¨èµ‹å€¼</span>
    
    <span class="hljs-comment">// åœ¨å®¹å™¨ä¸­å·¥ä½œè‰¯å¥½</span>
    std::vector&lt;GoodString&gt; strings;
    strings.<span class="hljs-built_in">emplace_back</span>(<span class="hljs-string">"item1"</span>);
    strings.<span class="hljs-built_in">push_back</span>(<span class="hljs-built_in">GoodString</span>(<span class="hljs-string">"item2"</span>));
    
    <span class="hljs-comment">// å¯ä»¥é«˜æ•ˆè¿”å›</span>
    <span class="hljs-keyword">auto</span> createString = []() -&gt; GoodString {
        GoodString <span class="hljs-built_in">local</span>(<span class="hljs-string">"created"</span>);
        <span class="hljs-keyword">return</span> local;  <span class="hljs-comment">// ç§»åŠ¨æ„é€ æˆ–NRVO</span>
    };
    
    <span class="hljs-keyword">auto</span> s5 = <span class="hljs-built_in">createString</span>();  <span class="hljs-comment">// é«˜æ•ˆï¼</span>
    
    std::cout &lt;&lt; <span class="hljs-string">"s1: "</span> &lt;&lt; s1 &lt;&lt; <span class="hljs-string">", s3: "</span> &lt;&lt; s3 &lt;&lt; <span class="hljs-string">", s5: "</span> &lt;&lt; s5 &lt;&lt; std::endl;
}
</code></pre>
<h4 data-id="heading-10"><strong>2. é›¶æ³•åˆ™çš„ç°ä»£åº”ç”¨</strong></h4>
<p><strong>ä½¿ç”¨æ ‡å‡†åº“ç»„ä»¶ï¼Œéµå¾ªé›¶æ³•åˆ™ï¼š</strong></p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span>

<span class="hljs-comment">// éµå¾ªé›¶æ³•åˆ™çš„ç±» - è®©ç¼–è¯‘å™¨ç”Ÿæˆç‰¹æ®Šæˆå‘˜å‡½æ•°</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ZeroRuleClass</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-comment">// ä¸éœ€è¦æ˜¾å¼å®šä¹‰ææ„å‡½æ•°ã€æ‹·è´/ç§»åŠ¨æ“ä½œ</span>
    <span class="hljs-comment">// ç¼–è¯‘å™¨ç”Ÿæˆçš„ç‰ˆæœ¬å®Œå…¨æ­£ç¡®</span>
    
    <span class="hljs-built_in">ZeroRuleClass</span>(std::string name, std::vector&lt;<span class="hljs-type">int</span>&gt; data)
        : <span class="hljs-built_in">name_</span>(std::<span class="hljs-built_in">move</span>(name))
        , <span class="hljs-built_in">data_</span>(std::<span class="hljs-built_in">move</span>(data))
        , <span class="hljs-built_in">cache_</span>(std::<span class="hljs-built_in">make_shared</span>&lt;Cache&gt;())
    {}
    
    <span class="hljs-comment">// ä¸šåŠ¡æ¥å£</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">process</span><span class="hljs-params">()</span> </span>{
        cachedValue_ = std::<span class="hljs-built_in">accumulate</span>(data_.<span class="hljs-built_in">begin</span>(), data_.<span class="hljs-built_in">end</span>(), <span class="hljs-number">0</span>);
        cache_-&gt;<span class="hljs-built_in">update</span>(cachedValue_);
    }
    
    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getCachedValue</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{ <span class="hljs-keyword">return</span> cachedValue_; }
    <span class="hljs-function"><span class="hljs-type">const</span> std::string&amp; <span class="hljs-title">getName</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{ <span class="hljs-keyword">return</span> name_; }
    
<span class="hljs-keyword">private</span>:
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">Cache</span> {
        <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">update</span><span class="hljs-params">(<span class="hljs-type">int</span> value)</span> </span>{
            <span class="hljs-comment">// ç¼“å­˜æ›´æ–°é€»è¾‘</span>
            lastValue = value;
        }
        <span class="hljs-type">int</span> lastValue = <span class="hljs-number">0</span>;
    };
    
    std::string name_;
    std::vector&lt;<span class="hljs-type">int</span>&gt; data_;
    std::shared_ptr&lt;Cache&gt; cache_;  <span class="hljs-comment">// å…±äº«æ‰€æœ‰æƒï¼Œæµ…æ‹·è´æ­£ç¡®</span>
    <span class="hljs-type">int</span> cachedValue_ = <span class="hljs-number">0</span>;
};

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">demonstrate_zero_rule</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-function">ZeroRuleClass <span class="hljs-title">obj1</span><span class="hljs-params">(<span class="hljs-string">"test"</span>, {<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>})</span></span>;
    obj1.<span class="hljs-built_in">process</span>();
    
    <span class="hljs-comment">// ç¼–è¯‘å™¨ç”Ÿæˆçš„æ‹·è´æ“ä½œå®Œå…¨æ­£ç¡®</span>
    ZeroRuleClass obj2 = obj1;
    
    <span class="hljs-comment">// ç¼–è¯‘å™¨ç”Ÿæˆçš„ç§»åŠ¨æ“ä½œé«˜æ•ˆ</span>
    ZeroRuleClass obj3 = std::<span class="hljs-built_in">move</span>(obj1);
    
    <span class="hljs-comment">// åœ¨å®¹å™¨ä¸­å·¥ä½œè‰¯å¥½</span>
    std::vector&lt;ZeroRuleClass&gt; objects;
    objects.<span class="hljs-built_in">push_back</span>(<span class="hljs-built_in">ZeroRuleClass</span>(<span class="hljs-string">"item"</span>, {<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>}));
    objects.<span class="hljs-built_in">emplace_back</span>(<span class="hljs-string">"emplace"</span>, std::vector&lt;<span class="hljs-type">int</span>&gt;{<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>});
    
    std::cout &lt;&lt; <span class="hljs-string">"obj2: "</span> &lt;&lt; obj2.<span class="hljs-built_in">getName</span>() 
              &lt;&lt; <span class="hljs-string">", value: "</span> &lt;&lt; obj2.<span class="hljs-built_in">getCachedValue</span>() &lt;&lt; std::endl;
    std::cout &lt;&lt; <span class="hljs-string">"obj3: "</span> &lt;&lt; obj3.<span class="hljs-built_in">getName</span>() 
              &lt;&lt; <span class="hljs-string">", value: "</span> &lt;&lt; obj3.<span class="hljs-built_in">getCachedValue</span>() &lt;&lt; std::endl;
}
</code></pre>
<hr/>
<h3 data-id="heading-11"><strong>ç»§æ‰¿ä½“ç³»è®¾è®¡</strong></h3>
<h4 data-id="heading-12"><strong>1. å…¬æœ‰ç»§æ‰¿ä¸is-aå…³ç³»</strong></h4>
<p><strong>æ­£ç¡®çš„ç»§æ‰¿å±‚æ¬¡è®¾è®¡ï¼š</strong></p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span>

<span class="hljs-comment">// å½¢çŠ¶åŸºç±» - æ¥å£å®šä¹‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Shape</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">Shape</span>() = <span class="hljs-keyword">default</span>;  <span class="hljs-comment">// åŸºç±»å¿…é¡»æœ‰è™šææ„å‡½æ•°ï¼</span>
    
    <span class="hljs-comment">// çº¯è™šå‡½æ•° - æ¥å£å¥‘çº¦</span>
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">double</span> <span class="hljs-title">area</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">double</span> <span class="hljs-title">perimeter</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> std::string <span class="hljs-title">name</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;
    
    <span class="hljs-comment">// éè™šå‡½æ•° - ä¸å˜è¡Œä¸º</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">printInfo</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{
        std::cout &lt;&lt; <span class="hljs-built_in">name</span>() &lt;&lt; <span class="hljs-string">": area="</span> &lt;&lt; <span class="hljs-built_in">area</span>() 
                  &lt;&lt; <span class="hljs-string">", perimeter="</span> &lt;&lt; <span class="hljs-built_in">perimeter</span>() &lt;&lt; std::endl;
    }
    
    <span class="hljs-comment">// è™šå‡½æ•° - å¯é‡å†™çš„é»˜è®¤è¡Œä¸º</span>
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">scale</span><span class="hljs-params">(<span class="hljs-type">double</span> factor)</span> </span>= <span class="hljs-number">0</span>;
    
<span class="hljs-keyword">protected</span>:
    <span class="hljs-comment">// ä¿æŠ¤æˆå‘˜ - æ´¾ç”Ÿç±»å®ç°è¾…åŠ©å‡½æ•°</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">validateFactor</span><span class="hljs-params">(<span class="hljs-type">double</span> factor)</span> <span class="hljs-type">const</span> </span>{
        <span class="hljs-keyword">if</span> (factor &lt;= <span class="hljs-number">0.0</span>) {
            <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">invalid_argument</span>(<span class="hljs-string">"ç¼©æ”¾å› å­å¿…é¡»ä¸ºæ­£æ•°"</span>);
        }
    }
};

<span class="hljs-comment">// çŸ©å½¢ - å…·ä½“å®ç°</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Rectangle</span> : <span class="hljs-keyword">public</span> Shape {
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">Rectangle</span>(<span class="hljs-type">double</span> width, <span class="hljs-type">double</span> height) 
        : <span class="hljs-built_in">width_</span>(width), <span class="hljs-built_in">height_</span>(height) {
        <span class="hljs-keyword">if</span> (width &lt;= <span class="hljs-number">0</span> || height &lt;= <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">invalid_argument</span>(<span class="hljs-string">"å®½åº¦å’Œé«˜åº¦å¿…é¡»ä¸ºæ­£æ•°"</span>);
        }
    }
    
    <span class="hljs-comment">// å®ç°çº¯è™šå‡½æ•°</span>
    <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">area</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> <span class="hljs-keyword">override</span> </span>{
        <span class="hljs-keyword">return</span> width_ * height_;
    }
    
    <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">perimeter</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> <span class="hljs-keyword">override</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-number">2</span> * (width_ + height_);
    }
    
    <span class="hljs-function">std::string <span class="hljs-title">name</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> <span class="hljs-keyword">override</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"Rectangle"</span>;
    }
    
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">scale</span><span class="hljs-params">(<span class="hljs-type">double</span> factor)</span> <span class="hljs-keyword">override</span> </span>{
        <span class="hljs-built_in">validateFactor</span>(factor);
        width_ *= factor;
        height_ *= factor;
    }
    
    <span class="hljs-comment">// çŸ©å½¢ç‰¹æœ‰æ“ä½œ</span>
    <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">getWidth</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{ <span class="hljs-keyword">return</span> width_; }
    <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">getHeight</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{ <span class="hljs-keyword">return</span> height_; }
    
<span class="hljs-keyword">private</span>:
    <span class="hljs-type">double</span> width_;
    <span class="hljs-type">double</span> height_;
};

<span class="hljs-comment">// åœ†å½¢ - å…·ä½“å®ç°</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Circle</span> : <span class="hljs-keyword">public</span> Shape {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">Circle</span><span class="hljs-params">(<span class="hljs-type">double</span> radius)</span> : radius_(radius) {</span>
        <span class="hljs-keyword">if</span> (radius &lt;= <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">invalid_argument</span>(<span class="hljs-string">"åŠå¾„å¿…é¡»ä¸ºæ­£æ•°"</span>);
        }
    }
    
    <span class="hljs-comment">// å®ç°çº¯è™šå‡½æ•°</span>
    <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">area</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> <span class="hljs-keyword">override</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-number">3.141592653589793</span> * radius_ * radius_;
    }
    
    <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">perimeter</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> <span class="hljs-keyword">override</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-number">2</span> * <span class="hljs-number">3.141592653589793</span> * radius_;
    }
    
    <span class="hljs-function">std::string <span class="hljs-title">name</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> <span class="hljs-keyword">override</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"Circle"</span>;
    }
    
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">scale</span><span class="hljs-params">(<span class="hljs-type">double</span> factor)</span> <span class="hljs-keyword">override</span> </span>{
        <span class="hljs-built_in">validateFactor</span>(factor);
        radius_ *= factor;
    }
    
    <span class="hljs-comment">// åœ†å½¢ç‰¹æœ‰æ“ä½œ</span>
    <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">getRadius</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{ <span class="hljs-keyword">return</span> radius_; }
    
<span class="hljs-keyword">private</span>:
    <span class="hljs-type">double</span> radius_;
};

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">demonstrate_good_inheritance</span><span class="hljs-params">()</span> </span>{
    std::vector&lt;std::unique_ptr&lt;Shape&gt;&gt; shapes;
    
    shapes.<span class="hljs-built_in">push_back</span>(std::<span class="hljs-built_in">make_unique</span>&lt;Rectangle&gt;(<span class="hljs-number">10.0</span>, <span class="hljs-number">5.0</span>));
    shapes.<span class="hljs-built_in">push_back</span>(std::<span class="hljs-built_in">make_unique</span>&lt;Circle&gt;(<span class="hljs-number">3.0</span>));
    
    <span class="hljs-comment">// å¤šæ€è¡Œä¸º - ç¬¦åˆLiskovæ›¿æ¢åŸåˆ™</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; shape : shapes) {
        shape-&gt;<span class="hljs-built_in">printInfo</span>();  <span class="hljs-comment">// æ­£ç¡®è°ƒç”¨å„ä¸ªæ´¾ç”Ÿç±»çš„å®ç°</span>
        
        <span class="hljs-comment">// å¯ä»¥å®‰å…¨åœ°ç¼©æ”¾</span>
        shape-&gt;<span class="hljs-built_in">scale</span>(<span class="hljs-number">2.0</span>);
        shape-&gt;<span class="hljs-built_in">printInfo</span>();
    }
    
    <span class="hljs-comment">// ç±»å‹å®‰å…¨çš„å‘ä¸‹è½¬å‹</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">auto</span> rect = <span class="hljs-built_in">dynamic_cast</span>&lt;Rectangle*&gt;(shapes[<span class="hljs-number">0</span>].<span class="hljs-built_in">get</span>())) {
        std::cout &lt;&lt; <span class="hljs-string">"çŸ©å½¢å®½åº¦: "</span> &lt;&lt; rect-&gt;<span class="hljs-built_in">getWidth</span>() &lt;&lt; std::endl;
    }
}
</code></pre>
<h4 data-id="heading-13"><strong>2. éå…¬æœ‰ç»§æ‰¿çš„æ­£ç¡®ä½¿ç”¨</strong></h4>
<p><strong>ä½¿ç”¨ç»„åˆè€Œéç§æœ‰ç»§æ‰¿ï¼š</strong></p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ä½¿ç”¨ç»„åˆè€Œä¸æ˜¯ç§æœ‰ç»§æ‰¿çš„ä¾‹å­</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Timer</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">start</span><span class="hljs-params">()</span> </span>{ <span class="hljs-comment">/* å¯åŠ¨è®¡æ—¶å™¨ */</span> }
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">stop</span><span class="hljs-params">()</span> </span>{ <span class="hljs-comment">/* åœæ­¢è®¡æ—¶å™¨ */</span> }
    <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">elapsed</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{ <span class="hljs-comment">/* è¿”å›ç»è¿‡æ—¶é—´ */</span> <span class="hljs-keyword">return</span> <span class="hljs-number">0.0</span>; }
};

<span class="hljs-comment">// ç³Ÿç³•çš„è®¾è®¡ - ç§æœ‰ç»§æ‰¿è¯¯ç”¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">BadTask</span> : <span class="hljs-keyword">private</span> Timer {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">execute</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-built_in">start</span>();
        <span class="hljs-comment">// æ‰§è¡Œä»»åŠ¡...</span>
        <span class="hljs-built_in">stop</span>();
        std::cout &lt;&lt; <span class="hljs-string">"è€—æ—¶: "</span> &lt;&lt; <span class="hljs-built_in">elapsed</span>() &lt;&lt; <span class="hljs-string">"ç§’"</span> &lt;&lt; std::endl;
    }
    <span class="hljs-comment">// é—®é¢˜ï¼šTimerçš„æ¥å£æš´éœ²ç»™äº†BadTaskçš„ç”¨æˆ·å—ï¼Ÿ</span>
};

<span class="hljs-comment">// ä¼˜ç§€çš„è®¾è®¡ - ä½¿ç”¨ç»„åˆ</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">GoodTask</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">execute</span><span class="hljs-params">()</span> </span>{
        timer_.<span class="hljs-built_in">start</span>();
        <span class="hljs-comment">// æ‰§è¡Œä»»åŠ¡...</span>
        timer_.<span class="hljs-built_in">stop</span>();
        std::cout &lt;&lt; <span class="hljs-string">"è€—æ—¶: "</span> &lt;&lt; timer_.<span class="hljs-built_in">elapsed</span>() &lt;&lt; <span class="hljs-string">"ç§’"</span> &lt;&lt; std::endl;
    }
    
    <span class="hljs-comment">// æ˜ç¡®çš„æ¥å£ï¼Œæ²¡æœ‰æ„å¤–çš„Timeræ–¹æ³•æš´éœ²</span>
    
<span class="hljs-keyword">private</span>:
    Timer timer_;  <span class="hljs-comment">// ç»„åˆï¼Œä¸æ˜¯ç»§æ‰¿</span>
};

<span class="hljs-comment">// ç§æœ‰ç»§æ‰¿çš„æ­£å½“ä½¿ç”¨åœºæ™¯</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span> {
<span class="hljs-keyword">protected</span>:
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">protectedMethod</span><span class="hljs-params">()</span> </span>{ <span class="hljs-comment">/* å—ä¿æŠ¤çš„æ–¹æ³• */</span> }
    <span class="hljs-type">int</span> protectedData;
};

<span class="hljs-comment">// æ­£å½“çš„ç§æœ‰ç»§æ‰¿ï¼šéœ€è¦é‡å†™è™šå‡½æ•°æˆ–è®¿é—®å—ä¿æŠ¤æˆå‘˜</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span> : <span class="hljs-keyword">private</span> Base {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">useBaseFunctionality</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-built_in">protectedMethod</span>();  <span class="hljs-comment">// å¯ä»¥è®¿é—®åŸºç±»å—ä¿æŠ¤æˆå‘˜</span>
        protectedData = <span class="hljs-number">42</span>;
    }
    
    <span class="hljs-comment">// ä¸æš´éœ²Baseçš„æ¥å£ç»™Derivedçš„ç”¨æˆ·</span>
};

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">demonstrate_composition_over_inheritance</span><span class="hljs-params">()</span> </span>{
    GoodTask task;
    task.<span class="hljs-built_in">execute</span>();
    
    <span class="hljs-comment">// æ¸…æ™°çš„æ¥å£ï¼Œæ²¡æœ‰æ„å¤–çš„Timeræ–¹æ³•</span>
    <span class="hljs-comment">// task.start();  // ç¼–è¯‘é”™è¯¯ï¼è¿™æ­£æ˜¯æˆ‘ä»¬æƒ³è¦çš„</span>
    
    BadTask badTask;
    badTask.<span class="hljs-built_in">execute</span>();
    <span class="hljs-comment">// badTask.start();  // ç¼–è¯‘é”™è¯¯ï¼Œä½†è®¾è®¡æ„å›¾ä¸å¦‚ç»„åˆæ¸…æ™°</span>
}
</code></pre>
<hr/>
<h3 data-id="heading-14"><strong>ç±»å‹è½¬æ¢è®¾è®¡</strong></h3>
<h4 data-id="heading-15"><strong>1. æ˜¾å¼è½¬æ¢çš„å®‰å…¨è®¾è®¡</strong></h4>
<p><strong>å®‰å…¨çš„ç±»å‹è½¬æ¢æ¥å£ï¼š</strong></p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;sstream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdexcept&gt;</span></span>

<span class="hljs-comment">// å®‰å…¨çš„æ•°å€¼ç±»å‹</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SafeNumber</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-comment">// æ˜¾å¼æ„é€ å‡½æ•° - é¿å…éšå¼è½¬æ¢</span>
    <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">SafeNumber</span><span class="hljs-params">(<span class="hljs-type">int</span> value)</span> : value_(value) {</span>}
    
    <span class="hljs-comment">// ä»å­—ç¬¦ä¸²æ„é€  - æ˜¾å¼ï¼Œå¸¦éªŒè¯</span>
    <span class="hljs-function"><span class="hljs-type">static</span> std::optional&lt;SafeNumber&gt; <span class="hljs-title">fromString</span><span class="hljs-params">(<span class="hljs-type">const</span> std::string&amp; str)</span> </span>{
        <span class="hljs-keyword">try</span> {
            std::<span class="hljs-type">size_t</span> pos;
            <span class="hljs-type">int</span> value = std::<span class="hljs-built_in">stoi</span>(str, &amp;pos);
            
            <span class="hljs-comment">// éªŒè¯æ•´ä¸ªå­—ç¬¦ä¸²éƒ½è¢«è§£æ</span>
            <span class="hljs-keyword">if</span> (pos != str.<span class="hljs-built_in">length</span>()) {
                <span class="hljs-keyword">return</span> std::<span class="hljs-literal">nullopt</span>;
            }
            
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">SafeNumber</span>(value);
        } <span class="hljs-built_in">catch</span> (<span class="hljs-type">const</span> std::exception&amp;) {
            <span class="hljs-keyword">return</span> std::<span class="hljs-literal">nullopt</span>;
        }
    }
    
    <span class="hljs-comment">// è½¬æ¢åˆ°å…¶ä»–ç±»å‹ - æ˜¾å¼å‘½åå‡½æ•°</span>
    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">toInt</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> <span class="hljs-keyword">noexcept</span> </span>{ <span class="hljs-keyword">return</span> value_; }
    <span class="hljs-function">std::string <span class="hljs-title">toString</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{ <span class="hljs-keyword">return</span> std::<span class="hljs-built_in">to_string</span>(value_); }
    <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-keyword">operator</span> <span class="hljs-title">int</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{ <span class="hljs-keyword">return</span> value_; }  <span class="hljs-comment">// æ˜¾å¼è½¬æ¢è¿ç®—ç¬¦</span>
    
    <span class="hljs-comment">// ç®—æœ¯è¿ç®—ç¬¦</span>
    SafeNumber <span class="hljs-keyword">operator</span>+(<span class="hljs-type">const</span> SafeNumber&amp; other) <span class="hljs-type">const</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">SafeNumber</span>(value_ + other.value_);
    }
    
    SafeNumber <span class="hljs-keyword">operator</span>-(<span class="hljs-type">const</span> SafeNumber&amp; other) <span class="hljs-type">const</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">SafeNumber</span>(value_ - other.value_);
    }
    
    <span class="hljs-comment">// æ¯”è¾ƒè¿ç®—ç¬¦</span>
    <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>==(<span class="hljs-type">const</span> SafeNumber&amp; other) <span class="hljs-type">const</span> = <span class="hljs-keyword">default</span>;
    
<span class="hljs-keyword">private</span>:
    <span class="hljs-type">int</span> value_;
};

<span class="hljs-comment">// ä½¿ç”¨æ˜¾å¼è½¬æ¢çš„æ—¥æœŸç±»</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Date</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">Date</span>(<span class="hljs-type">int</span> year, <span class="hljs-type">int</span> month, <span class="hljs-type">int</span> day) 
        : <span class="hljs-built_in">year_</span>(year), <span class="hljs-built_in">month_</span>(month), <span class="hljs-built_in">day_</span>(day) {
        <span class="hljs-built_in">validate</span>();
    }
    
    <span class="hljs-comment">// æ˜¾å¼è½¬æ¢å‡½æ•° - æ¸…æ™°çš„è¯­ä¹‰</span>
    <span class="hljs-function">std::string <span class="hljs-title">toIsoString</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{
        std::ostringstream oss;
        oss &lt;&lt; year_ &lt;&lt; <span class="hljs-string">"-"</span> 
            &lt;&lt; (month_ &lt; <span class="hljs-number">10</span> ? <span class="hljs-string">"0"</span> : <span class="hljs-string">""</span>) &lt;&lt; month_ &lt;&lt; <span class="hljs-string">"-"</span>
            &lt;&lt; (day_ &lt; <span class="hljs-number">10</span> ? <span class="hljs-string">"0"</span> : <span class="hljs-string">""</span>) &lt;&lt; day_;
        <span class="hljs-keyword">return</span> oss.<span class="hljs-built_in">str</span>();
    }
    
    <span class="hljs-comment">// æ˜ç¡®çš„è½¬æ¢ï¼Œè€Œä¸æ˜¯éšå¼è½¬æ¢</span>
    <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-keyword">operator</span> <span class="hljs-title">std::string</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">toIsoString</span>();
    }
    
    <span class="hljs-comment">// ä¸å…è®¸åˆ°intçš„éšå¼è½¬æ¢ - è¯­ä¹‰ä¸æ˜ç¡®ï¼</span>
    <span class="hljs-comment">// operator int() const = delete;  // æˆ–è€…ä¸æä¾›</span>
    
<span class="hljs-keyword">private</span>:
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">validate</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{
        <span class="hljs-keyword">if</span> (month_ &lt; <span class="hljs-number">1</span> || month_ &gt; <span class="hljs-number">12</span>) {
            <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">invalid_argument</span>(<span class="hljs-string">"æœˆä»½å¿…é¡»åœ¨1-12ä¹‹é—´"</span>);
        }
        <span class="hljs-keyword">if</span> (day_ &lt; <span class="hljs-number">1</span> || day_ &gt; <span class="hljs-number">31</span>) {
            <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">invalid_argument</span>(<span class="hljs-string">"æ—¥æœŸå¿…é¡»åœ¨1-31ä¹‹é—´"</span>);
        }
        <span class="hljs-comment">// æ›´å¤æ‚çš„éªŒè¯...</span>
    }
    
    <span class="hljs-type">int</span> year_, month_, day_;
};

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">demonstrate_safe_conversions</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// å®‰å…¨çš„æ•°å€¼åˆ›å»º</span>
    <span class="hljs-keyword">auto</span> num1 = <span class="hljs-built_in">SafeNumber</span>(<span class="hljs-number">42</span>);
    <span class="hljs-keyword">auto</span> num2 = SafeNumber::<span class="hljs-built_in">fromString</span>(<span class="hljs-string">"100"</span>);
    
    <span class="hljs-keyword">if</span> (num2) {
        <span class="hljs-keyword">auto</span> result = num1 + *num2;
        std::cout &lt;&lt; <span class="hljs-string">"ç»“æœ: "</span> &lt;&lt; result.<span class="hljs-built_in">toInt</span>() &lt;&lt; std::endl;
    }
    
    <span class="hljs-comment">// å¤±è´¥çš„è½¬æ¢å®‰å…¨å¤„ç†</span>
    <span class="hljs-keyword">auto</span> invalid = SafeNumber::<span class="hljs-built_in">fromString</span>(<span class="hljs-string">"abc"</span>);
    <span class="hljs-keyword">if</span> (!invalid) {
        std::cout &lt;&lt; <span class="hljs-string">"æ— æ•ˆçš„æ•°å­—å­—ç¬¦ä¸²"</span> &lt;&lt; std::endl;
    }
    
    <span class="hljs-comment">// æ˜ç¡®çš„æ—¥æœŸè½¬æ¢</span>
    <span class="hljs-function">Date <span class="hljs-title">today</span><span class="hljs-params">(<span class="hljs-number">2023</span>, <span class="hljs-number">10</span>, <span class="hljs-number">15</span>)</span></span>;
    std::string isoDate = today.<span class="hljs-built_in">toIsoString</span>();  <span class="hljs-comment">// æ˜ç¡®è°ƒç”¨</span>
    std::string explicitStr = <span class="hljs-built_in">static_cast</span>&lt;std::string&gt;(today);  <span class="hljs-comment">// æ˜¾å¼è½¬æ¢</span>
    
    <span class="hljs-comment">// ä»¥ä¸‹ä»£ç ä¸ä¼šç¼–è¯‘ - è¿™æ­£æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼</span>
    <span class="hljs-comment">// std::string implicitStr = today;  // ç¼–è¯‘é”™è¯¯ï¼æ²¡æœ‰éšå¼è½¬æ¢</span>
    <span class="hljs-comment">// int invalidInt = today;           // ç¼–è¯‘é”™è¯¯ï¼</span>
    
    std::cout &lt;&lt; <span class="hljs-string">"ISOæ—¥æœŸ: "</span> &lt;&lt; isoDate &lt;&lt; std::endl;
    std::cout &lt;&lt; <span class="hljs-string">"æ˜¾å¼å­—ç¬¦ä¸²: "</span> &lt;&lt; explicitStr &lt;&lt; std::endl;
}
</code></pre>
<hr/>
<h3 data-id="heading-16"><strong>å¼‚å¸¸å®‰å…¨è®¾è®¡</strong></h3>
<h4 data-id="heading-17"><strong>1. å¼ºå¼‚å¸¸å®‰å…¨ä¿è¯</strong></h4>
<p><strong>æä¾›å¼ºå¼‚å¸¸å®‰å…¨ä¿è¯çš„ç±»ï¼š</strong></p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdexcept&gt;</span></span>

<span class="hljs-comment">// å¼ºå¼‚å¸¸å®‰å…¨çš„å®¹å™¨åŒ…è£…å™¨</span>
<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SafeVector</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">SafeVector</span>() = <span class="hljs-keyword">default</span>;
    
    <span class="hljs-comment">// æ‹·è´æ„é€ å‡½æ•° - å¼ºå¼‚å¸¸å®‰å…¨</span>
    <span class="hljs-built_in">SafeVector</span>(<span class="hljs-type">const</span> SafeVector&amp; other) 
        : <span class="hljs-built_in">data_</span>(other.data_)  <span class="hljs-comment">// vectorçš„æ‹·è´æ„é€ å‡½æ•°æä¾›å¼ºä¿è¯</span>
    {}
    
    <span class="hljs-comment">// æ‹·è´èµ‹å€¼è¿ç®—ç¬¦ - å¼ºå¼‚å¸¸å®‰å…¨ï¼ˆæ‹·è´å¹¶äº¤æ¢æƒ¯ç”¨æ³•ï¼‰</span>
    SafeVector&amp; <span class="hljs-keyword">operator</span>=(SafeVector other) <span class="hljs-keyword">noexcept</span> {
        <span class="hljs-built_in">swap</span>(other);
        <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;
    }
    
    <span class="hljs-comment">// ç§»åŠ¨æ“ä½œ - noexcept</span>
    <span class="hljs-built_in">SafeVector</span>(SafeVector&amp;&amp; other) <span class="hljs-keyword">noexcept</span> = <span class="hljs-keyword">default</span>;
    SafeVector&amp; <span class="hljs-keyword">operator</span>=(SafeVector&amp;&amp; other) <span class="hljs-keyword">noexcept</span> = <span class="hljs-keyword">default</span>;
    
    <span class="hljs-comment">// äº¤æ¢ - noexcept</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">swap</span><span class="hljs-params">(SafeVector&amp; other)</span> <span class="hljs-keyword">noexcept</span> </span>{
        data_.<span class="hljs-built_in">swap</span>(other.data_);
    }
    
    <span class="hljs-comment">// å¼ºå¼‚å¸¸å®‰å…¨çš„æ’å…¥æ“ä½œ</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">push_back</span><span class="hljs-params">(<span class="hljs-type">const</span> T&amp; value)</span> </span>{
        <span class="hljs-comment">// åˆ›å»ºå‰¯æœ¬ï¼Œå¦‚æœæ‹·è´æ„é€ æŠ›å‡ºå¼‚å¸¸ï¼Œä¸å½±å“å½“å‰å¯¹è±¡</span>
        SafeVector temp = *<span class="hljs-keyword">this</span>;
        
        <span class="hljs-comment">// ä¿®æ”¹å‰¯æœ¬ - å¦‚æœè¿™ä¸ªæ“ä½œå¤±è´¥ï¼Œtempä¼šè¢«é”€æ¯ï¼Œä½†*thisä¸å˜</span>
        temp.data_.<span class="hljs-built_in">push_back</span>(value);
        
        <span class="hljs-comment">// äº¤æ¢ - noexceptï¼Œä¸ä¼šæŠ›å‡º</span>
        <span class="hljs-built_in">swap</span>(temp);
        
        <span class="hljs-comment">// tempç¦»å¼€ä½œç”¨åŸŸï¼Œæ¸…ç†æ—§æ•°æ®</span>
    }
    
    <span class="hljs-comment">// å¼ºå¼‚å¸¸å®‰å…¨çš„æ’å…¥æ“ä½œ - ç§»åŠ¨ç‰ˆæœ¬</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">push_back</span><span class="hljs-params">(T&amp;&amp; value)</span> </span>{
        SafeVector temp = *<span class="hljs-keyword">this</span>;
        temp.data_.<span class="hljs-built_in">push_back</span>(std::<span class="hljs-built_in">move</span>(value));
        <span class="hljs-built_in">swap</span>(temp);
    }
    
    <span class="hljs-comment">// å¼ºå¼‚å¸¸å®‰å…¨çš„æ‰¹é‡æ’å…¥</span>
    <span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> InputIt&gt;
    <span class="hljs-type">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(InputIt first, InputIt last)</span> </span>{
        SafeVector temp = *<span class="hljs-keyword">this</span>;
        temp.data_.<span class="hljs-built_in">insert</span>(temp.data_.<span class="hljs-built_in">end</span>(), first, last);
        <span class="hljs-built_in">swap</span>(temp);
    }
    
    <span class="hljs-comment">// å¼ºå¼‚å¸¸å®‰å…¨çš„åˆ é™¤æ“ä½œ</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">erase</span><span class="hljs-params">(<span class="hljs-type">size_t</span> index)</span> </span>{
        <span class="hljs-keyword">if</span> (index &gt;= data_.<span class="hljs-built_in">size</span>()) {
            <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">out_of_range</span>(<span class="hljs-string">"ç´¢å¼•è¶Šç•Œ"</span>);
        }
        
        SafeVector temp = *<span class="hljs-keyword">this</span>;
        temp.data_.<span class="hljs-built_in">erase</span>(temp.data_.<span class="hljs-built_in">begin</span>() + index);
        <span class="hljs-built_in">swap</span>(temp);
    }
    
    <span class="hljs-comment">// è®¿é—®æ¥å£</span>
    <span class="hljs-function"><span class="hljs-type">const</span> T&amp; <span class="hljs-title">at</span><span class="hljs-params">(<span class="hljs-type">size_t</span> index)</span> <span class="hljs-type">const</span> </span>{
        <span class="hljs-keyword">if</span> (index &gt;= data_.<span class="hljs-built_in">size</span>()) {
            <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">out_of_range</span>(<span class="hljs-string">"ç´¢å¼•è¶Šç•Œ"</span>);
        }
        <span class="hljs-keyword">return</span> data_[index];
    }
    
    <span class="hljs-function">T&amp; <span class="hljs-title">at</span><span class="hljs-params">(<span class="hljs-type">size_t</span> index)</span> </span>{
        <span class="hljs-keyword">if</span> (index &gt;= data_.<span class="hljs-built_in">size</span>()) {
            <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">out_of_range</span>(<span class="hljs-string">"ç´¢å¼•è¶Šç•Œ"</span>);
        }
        <span class="hljs-keyword">return</span> data_[index];
    }
    
    <span class="hljs-function"><span class="hljs-type">size_t</span> <span class="hljs-title">size</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> <span class="hljs-keyword">noexcept</span> </span>{ <span class="hljs-keyword">return</span> data_.<span class="hljs-built_in">size</span>(); }
    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">empty</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> <span class="hljs-keyword">noexcept</span> </span>{ <span class="hljs-keyword">return</span> data_.<span class="hljs-built_in">empty</span>(); }
    
    <span class="hljs-comment">// è¿­ä»£å™¨æ”¯æŒ</span>
    <span class="hljs-function"><span class="hljs-keyword">auto</span> <span class="hljs-title">begin</span><span class="hljs-params">()</span> <span class="hljs-keyword">noexcept</span> </span>{ <span class="hljs-keyword">return</span> data_.<span class="hljs-built_in">begin</span>(); }
    <span class="hljs-function"><span class="hljs-keyword">auto</span> <span class="hljs-title">end</span><span class="hljs-params">()</span> <span class="hljs-keyword">noexcept</span> </span>{ <span class="hljs-keyword">return</span> data_.<span class="hljs-built_in">end</span>(); }
    <span class="hljs-function"><span class="hljs-keyword">auto</span> <span class="hljs-title">begin</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> <span class="hljs-keyword">noexcept</span> </span>{ <span class="hljs-keyword">return</span> data_.<span class="hljs-built_in">begin</span>(); }
    <span class="hljs-function"><span class="hljs-keyword">auto</span> <span class="hljs-title">end</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> <span class="hljs-keyword">noexcept</span> </span>{ <span class="hljs-keyword">return</span> data_.<span class="hljs-built_in">end</span>(); }
    
<span class="hljs-keyword">private</span>:
    std::vector&lt;T&gt; data_;
};

<span class="hljs-comment">// å¼‚å¸¸å®‰å…¨çš„æ•°æ®åº“äº‹åŠ¡åŒ…è£…å™¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">DatabaseTransaction</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">DatabaseTransaction</span><span class="hljs-params">(<span class="hljs-type">const</span> std::string&amp; dbName)</span> 
        : committed_(false) {</span>
        <span class="hljs-comment">// æ¨¡æ‹Ÿæ•°æ®åº“è¿æ¥</span>
        std::cout &lt;&lt; <span class="hljs-string">"å¼€å§‹äº‹åŠ¡: "</span> &lt;&lt; dbName &lt;&lt; std::endl;
    }
    
    <span class="hljs-comment">// ç¦æ­¢æ‹·è´</span>
    <span class="hljs-built_in">DatabaseTransaction</span>(<span class="hljs-type">const</span> DatabaseTransaction&amp;) = <span class="hljs-keyword">delete</span>;
    DatabaseTransaction&amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> DatabaseTransaction&amp;) = <span class="hljs-keyword">delete</span>;
    
    <span class="hljs-comment">// ç§»åŠ¨è¯­ä¹‰</span>
    <span class="hljs-built_in">DatabaseTransaction</span>(DatabaseTransaction&amp;&amp; other) <span class="hljs-keyword">noexcept</span> 
        : <span class="hljs-built_in">committed_</span>(other.committed_) {
        other.committed_ = <span class="hljs-literal">false</span>;  <span class="hljs-comment">// ç§»åŠ¨åæºå¯¹è±¡ä¸å†æ‹¥æœ‰äº‹åŠ¡</span>
    }
    
    DatabaseTransaction&amp; <span class="hljs-keyword">operator</span>=(DatabaseTransaction&amp;&amp; other) <span class="hljs-keyword">noexcept</span> {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> != &amp;other) {
            <span class="hljs-built_in">rollbackIfNeeded</span>();  <span class="hljs-comment">// å›æ»šå½“å‰äº‹åŠ¡</span>
            committed_ = other.committed_;
            other.committed_ = <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;
    }
    
    <span class="hljs-comment">// ææ„å‡½æ•° - è‡ªåŠ¨å›æ»šæœªæäº¤çš„äº‹åŠ¡</span>
    ~<span class="hljs-built_in">DatabaseTransaction</span>() <span class="hljs-keyword">noexcept</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-built_in">rollbackIfNeeded</span>();
        } <span class="hljs-built_in">catch</span> (...) {
            <span class="hljs-comment">// ææ„å‡½æ•°ä¸åº”è¯¥æŠ›å‡ºå¼‚å¸¸</span>
            std::cerr &lt;&lt; <span class="hljs-string">"å›æ»šäº‹åŠ¡æ—¶å‘ç”Ÿå¼‚å¸¸"</span> &lt;&lt; std::endl;
        }
    }
    
    <span class="hljs-comment">// ä¸šåŠ¡æ“ä½œ - æä¾›åŸºæœ¬å¼‚å¸¸å®‰å…¨ä¿è¯</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">execute</span><span class="hljs-params">(<span class="hljs-type">const</span> std::string&amp; query)</span> </span>{
        <span class="hljs-built_in">validateActive</span>();
        
        <span class="hljs-comment">// æ¨¡æ‹Ÿå¯èƒ½å¤±è´¥çš„æ“ä½œ</span>
        <span class="hljs-keyword">if</span> (query.<span class="hljs-built_in">empty</span>()) {
            <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">invalid_argument</span>(<span class="hljs-string">"æŸ¥è¯¢ä¸èƒ½ä¸ºç©º"</span>);
        }
        
        std::cout &lt;&lt; <span class="hljs-string">"æ‰§è¡Œ: "</span> &lt;&lt; query &lt;&lt; std::endl;
        <span class="hljs-comment">// å®é™…æ•°æ®åº“æ“ä½œ...</span>
    }
    
    <span class="hljs-comment">// æäº¤ - å¦‚æœä¸æˆåŠŸåˆ™æŠ›å‡ºå¼‚å¸¸</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">commit</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-built_in">validateActive</span>();
        
        <span class="hljs-comment">// æ¨¡æ‹Ÿå¯èƒ½å¤±è´¥çš„æäº¤</span>
        std::cout &lt;&lt; <span class="hljs-string">"æäº¤äº‹åŠ¡..."</span> &lt;&lt; std::endl;
        
        committed_ = <span class="hljs-literal">true</span>;  <span class="hljs-comment">// æ ‡è®°ä¸ºå·²æäº¤</span>
    }
    
<span class="hljs-keyword">private</span>:
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">validateActive</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{
        <span class="hljs-keyword">if</span> (committed_) {
            <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">logic_error</span>(<span class="hljs-string">"äº‹åŠ¡å·²æäº¤ï¼Œä¸èƒ½ç»§ç»­æ“ä½œ"</span>);
        }
    }
    
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">rollbackIfNeeded</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">if</span> (!committed_) {
            std::cout &lt;&lt; <span class="hljs-string">"å›æ»šäº‹åŠ¡"</span> &lt;&lt; std::endl;
            <span class="hljs-comment">// å®é™…å›æ»šé€»è¾‘...</span>
        }
    }
    
    <span class="hljs-type">bool</span> committed_;
};

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">demonstrate_exception_safety</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// å¼ºå¼‚å¸¸å®‰å…¨çš„å®¹å™¨ä½¿ç”¨</span>
    SafeVector&lt;<span class="hljs-type">int</span>&gt; numbers;
    
    <span class="hljs-keyword">try</span> {
        numbers.<span class="hljs-built_in">push_back</span>(<span class="hljs-number">1</span>);
        numbers.<span class="hljs-built_in">push_back</span>(<span class="hljs-number">2</span>);
        numbers.<span class="hljs-built_in">push_back</span>(<span class="hljs-number">3</span>);
        
        <span class="hljs-comment">// å³ä½¿è¿™é‡ŒæŠ›å‡ºå¼‚å¸¸ï¼Œnumbersä»ä¿æŒæœ‰æ•ˆçŠ¶æ€</span>
        numbers.<span class="hljs-built_in">erase</span>(<span class="hljs-number">1</span>);
        
        std::cout &lt;&lt; <span class="hljs-string">"å®¹å™¨å†…å®¹: "</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; num : numbers) {
            std::cout &lt;&lt; num &lt;&lt; <span class="hljs-string">" "</span>;
        }
        std::cout &lt;&lt; std::endl;
        
    } <span class="hljs-built_in">catch</span> (<span class="hljs-type">const</span> std::exception&amp; e) {
        std::cout &lt;&lt; <span class="hljs-string">"æ“ä½œå¤±è´¥: "</span> &lt;&lt; e.<span class="hljs-built_in">what</span>() &lt;&lt; std::endl;
        <span class="hljs-comment">// numbersä»ç„¶å¤„äºä¸€è‡´çŠ¶æ€ï¼</span>
    }
    
    <span class="hljs-comment">// å¼‚å¸¸å®‰å…¨çš„æ•°æ®åº“äº‹åŠ¡</span>
    <span class="hljs-keyword">try</span> {
        <span class="hljs-function">DatabaseTransaction <span class="hljs-title">tx</span><span class="hljs-params">(<span class="hljs-string">"test.db"</span>)</span></span>;
        
        tx.<span class="hljs-built_in">execute</span>(<span class="hljs-string">"INSERT INTO users VALUES (1, 'Alice')"</span>);
        tx.<span class="hljs-built_in">execute</span>(<span class="hljs-string">"UPDATE stats SET count = count + 1"</span>);
        
        <span class="hljs-comment">// å¦‚æœæäº¤å¤±è´¥ï¼Œææ„å‡½æ•°ä¼šè‡ªåŠ¨å›æ»š</span>
        tx.<span class="hljs-built_in">commit</span>();
        std::cout &lt;&lt; <span class="hljs-string">"äº‹åŠ¡æäº¤æˆåŠŸ"</span> &lt;&lt; std::endl;
        
    } <span class="hljs-built_in">catch</span> (<span class="hljs-type">const</span> std::exception&amp; e) {
        std::cout &lt;&lt; <span class="hljs-string">"äº‹åŠ¡å¤±è´¥: "</span> &lt;&lt; e.<span class="hljs-built_in">what</span>() &lt;&lt; std::endl;
        <span class="hljs-comment">// ä¸éœ€è¦æ‰‹åŠ¨å›æ»š - RAIIå¤„ç†äº†ï¼</span>
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-18"><strong>ç°ä»£C++ç‰¹æ€§é›†æˆ</strong></h3>
<h4 data-id="heading-19"><strong>1. constexprä¸ç¼–è¯‘æœŸè®¡ç®—</strong></h4>
<p><strong>ç¼–è¯‘æœŸå‹å¥½çš„ç±»å‹è®¾è®¡ï¼š</strong></p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;array&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;type_traits&gt;</span></span>

<span class="hljs-comment">// ç¼–è¯‘æœŸæœ‰ç†æ•°ç±»å‹</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Rational</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-comment">// constexpræ„é€ å‡½æ•°</span>
    <span class="hljs-function"><span class="hljs-keyword">constexpr</span> <span class="hljs-title">Rational</span><span class="hljs-params">(<span class="hljs-type">int</span> numerator = <span class="hljs-number">0</span>, <span class="hljs-type">int</span> denominator = <span class="hljs-number">1</span>)</span> 
        : num_(numerator), den_(denominator) {</span>
        <span class="hljs-keyword">if</span> (denominator == <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-string">"åˆ†æ¯ä¸èƒ½ä¸ºé›¶"</span>;  <span class="hljs-comment">// åœ¨ç¼–è¯‘æœŸä¼šå¯¼è‡´é”™è¯¯</span>
        }
        <span class="hljs-built_in">normalize</span>();
    }
    
    <span class="hljs-comment">// constexprè®¿é—®å™¨</span>
    <span class="hljs-function"><span class="hljs-keyword">constexpr</span> <span class="hljs-type">int</span> <span class="hljs-title">numerator</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> <span class="hljs-keyword">noexcept</span> </span>{ <span class="hljs-keyword">return</span> num_; }
    <span class="hljs-function"><span class="hljs-keyword">constexpr</span> <span class="hljs-type">int</span> <span class="hljs-title">denominator</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> <span class="hljs-keyword">noexcept</span> </span>{ <span class="hljs-keyword">return</span> den_; }
    
    <span class="hljs-comment">// constexprç®—æœ¯è¿ç®—</span>
    <span class="hljs-keyword">constexpr</span> Rational <span class="hljs-keyword">operator</span>+(<span class="hljs-type">const</span> Rational&amp; other) <span class="hljs-type">const</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Rational</span>(
            num_ * other.den_ + other.num_ * den_,
            den_ * other.den_
        );
    }
    
    <span class="hljs-keyword">constexpr</span> Rational <span class="hljs-keyword">operator</span>-(<span class="hljs-type">const</span> Rational&amp; other) <span class="hljs-type">const</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Rational</span>(
            num_ * other.den_ - other.num_ * den_,
            den_ * other.den_
        );
    }
    
    <span class="hljs-keyword">constexpr</span> Rational <span class="hljs-keyword">operator</span>*(<span class="hljs-type">const</span> Rational&amp; other) <span class="hljs-type">const</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Rational</span>(num_ * other.num_, den_ * other.den_);
    }
    
    <span class="hljs-keyword">constexpr</span> Rational <span class="hljs-keyword">operator</span>/(<span class="hljs-type">const</span> Rational&amp; other) <span class="hljs-type">const</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Rational</span>(num_ * other.den_, den_ * other.num_);
    }
    
    <span class="hljs-comment">// constexpræ¯”è¾ƒè¿ç®—ç¬¦</span>
    <span class="hljs-keyword">constexpr</span> <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>==(<span class="hljs-type">const</span> Rational&amp; other) <span class="hljs-type">const</span> {
        <span class="hljs-keyword">return</span> num_ * other.den_ == other.num_ * den_;
    }
    
    <span class="hljs-keyword">constexpr</span> <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>!=(<span class="hljs-type">const</span> Rational&amp; other) <span class="hljs-type">const</span> {
        <span class="hljs-keyword">return</span> !(*<span class="hljs-keyword">this</span> == other);
    }
    
    <span class="hljs-comment">// è½¬æ¢åˆ°double - constexpr</span>
    <span class="hljs-function"><span class="hljs-keyword">constexpr</span> <span class="hljs-type">double</span> <span class="hljs-title">toDouble</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">static_cast</span>&lt;<span class="hljs-type">double</span>&gt;(num_) / den_;
    }
    
    <span class="hljs-comment">// ç¼–è¯‘æœŸè®¡ç®—çš„æœ€å¤§å…¬çº¦æ•°</span>
    <span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-keyword">constexpr</span> <span class="hljs-type">int</span> <span class="hljs-title">gcd</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> </span>{
        <span class="hljs-keyword">return</span> b == <span class="hljs-number">0</span> ? a : <span class="hljs-built_in">gcd</span>(b, a % b);
    }
    
<span class="hljs-keyword">private</span>:
    <span class="hljs-function"><span class="hljs-keyword">constexpr</span> <span class="hljs-type">void</span> <span class="hljs-title">normalize</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">if</span> (den_ &lt; <span class="hljs-number">0</span>) {
            num_ = -num_;
            den_ = -den_;
        }
        <span class="hljs-type">int</span> g = <span class="hljs-built_in">gcd</span>(num_ &lt; <span class="hljs-number">0</span> ? -num_ : num_, den_);
        num_ /= g;
        den_ /= g;
    }
    
    <span class="hljs-type">int</span> num_;
    <span class="hljs-type">int</span> den_;
};

<span class="hljs-comment">// ç¼–è¯‘æœŸè®¡ç®—çš„æ•°å­¦å‡½æ•°</span>
<span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">constexpr</span> T <span class="hljs-title">compileTimePower</span><span class="hljs-params">(T base, <span class="hljs-type">int</span> exp)</span> </span>{
    <span class="hljs-built_in">static_assert</span>(std::is_arithmetic_v&lt;T&gt;, <span class="hljs-string">"å¿…é¡»æ˜¯ç®—æœ¯ç±»å‹"</span>);
    
    <span class="hljs-keyword">if</span> (exp &lt; <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">T</span>(<span class="hljs-number">1</span>) / <span class="hljs-built_in">compileTimePower</span>(base, -exp);
    }
    
    T result = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">while</span> (exp &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">if</span> (exp % <span class="hljs-number">2</span> == <span class="hljs-number">1</span>) {
            result *= base;
        }
        base *= base;
        exp /= <span class="hljs-number">2</span>;
    }
    <span class="hljs-keyword">return</span> result;
}

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">demonstrate_constexpr_design</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// ç¼–è¯‘æœŸè®¡ç®—</span>
    <span class="hljs-function"><span class="hljs-keyword">constexpr</span> Rational <span class="hljs-title">r1</span><span class="hljs-params">(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">constexpr</span> Rational <span class="hljs-title">r2</span><span class="hljs-params">(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>)</span></span>;
    <span class="hljs-keyword">constexpr</span> Rational sum = r1 + r2;  <span class="hljs-comment">// 5/6</span>
    
    <span class="hljs-keyword">constexpr</span> <span class="hljs-type">double</span> result = sum.<span class="hljs-built_in">toDouble</span>();
    std::cout &lt;&lt; <span class="hljs-string">"1/2 + 1/3 = "</span> &lt;&lt; result &lt;&lt; std::endl;
    
    <span class="hljs-comment">// ç¼–è¯‘æœŸå¹‚è®¡ç®—</span>
    <span class="hljs-keyword">constexpr</span> <span class="hljs-type">int</span> square = <span class="hljs-built_in">compileTimePower</span>(<span class="hljs-number">5</span>, <span class="hljs-number">2</span>);  <span class="hljs-comment">// 25</span>
    <span class="hljs-keyword">constexpr</span> <span class="hljs-type">double</span> cube = <span class="hljs-built_in">compileTimePower</span>(<span class="hljs-number">2.0</span>, <span class="hljs-number">3</span>);  <span class="hljs-comment">// 8.0</span>
    
    std::cout &lt;&lt; <span class="hljs-string">"5^2 = "</span> &lt;&lt; square &lt;&lt; <span class="hljs-string">", 2.0^3 = "</span> &lt;&lt; cube &lt;&lt; std::endl;
    
    <span class="hljs-comment">// åœ¨ç¼–è¯‘æœŸæ•°ç»„ä¸­ä½¿ç”¨</span>
    <span class="hljs-keyword">constexpr</span> std::array&lt;Rational, 3&gt; fractions = {
        <span class="hljs-built_in">Rational</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>),
        <span class="hljs-built_in">Rational</span>(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>), 
        <span class="hljs-built_in">Rational</span>(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>)
    };
    
    <span class="hljs-built_in">static_assert</span>(fractions[<span class="hljs-number">0</span>].<span class="hljs-built_in">numerator</span>() == <span class="hljs-number">1</span>);
    <span class="hljs-built_in">static_assert</span>(fractions[<span class="hljs-number">0</span>].<span class="hljs-built_in">denominator</span>() == <span class="hljs-number">2</span>);
    
    std::cout &lt;&lt; <span class="hljs-string">"ç¼–è¯‘æœŸåˆ†æ•°æ•°ç»„: "</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; frac : fractions) {
        std::cout &lt;&lt; frac.<span class="hljs-built_in">numerator</span>() &lt;&lt; <span class="hljs-string">"/"</span> &lt;&lt; frac.<span class="hljs-built_in">denominator</span>() &lt;&lt; <span class="hljs-string">" "</span>;
    }
    std::cout &lt;&lt; std::endl;
    
    <span class="hljs-comment">// è¿è¡Œæ—¶ä½¿ç”¨åŒæ ·çš„æ¥å£</span>
    <span class="hljs-function">Rational <span class="hljs-title">a</span><span class="hljs-params">(<span class="hljs-number">3</span>, <span class="hljs-number">5</span>)</span>, <span class="hljs-title">b</span><span class="hljs-params">(<span class="hljs-number">2</span>, <span class="hljs-number">7</span>)</span></span>;
    <span class="hljs-keyword">auto</span> c = a * b;
    std::cout &lt;&lt; <span class="hljs-string">"3/5 * 2/7 = "</span> &lt;&lt; c.<span class="hljs-built_in">numerator</span>() 
              &lt;&lt; <span class="hljs-string">"/"</span> &lt;&lt; c.<span class="hljs-built_in">denominator</span>() &lt;&lt; std::endl;
}
</code></pre>
<hr/>
<h3 data-id="heading-20"><strong>å®æˆ˜æ¡ˆä¾‹ï¼šçœŸå®ä¸–ç•Œç±»è®¾è®¡</strong></h3>
<h4 data-id="heading-21"><strong>æ¡ˆä¾‹1ï¼šçº¿ç¨‹å®‰å…¨çš„è§‚å¯Ÿè€…æ¨¡å¼</strong></h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;mutex&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;functional&gt;</span></span>

<span class="hljs-comment">// çº¿ç¨‹å®‰å…¨çš„è§‚å¯Ÿè€…æ¨¡å¼</span>
<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span>... Args&gt;
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Observable</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-keyword">using</span> Observer = std::function&lt;<span class="hljs-built_in">void</span>(Args...)&gt;;
    <span class="hljs-keyword">using</span> ObserverId = <span class="hljs-type">size_t</span>;
    
    <span class="hljs-built_in">Observable</span>() = <span class="hljs-keyword">default</span>;
    
    <span class="hljs-comment">// ç¦æ­¢æ‹·è´ï¼ˆç§»åŠ¨å…è®¸ï¼‰</span>
    <span class="hljs-built_in">Observable</span>(<span class="hljs-type">const</span> Observable&amp;) = <span class="hljs-keyword">delete</span>;
    Observable&amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> Observable&amp;) = <span class="hljs-keyword">delete</span>;
    
    <span class="hljs-comment">// æ³¨å†Œè§‚å¯Ÿè€…ï¼Œè¿”å›å¯ç”¨äºå–æ¶ˆæ³¨å†Œçš„ID</span>
    <span class="hljs-function">ObserverId <span class="hljs-title">registerObserver</span><span class="hljs-params">(Observer observer)</span> </span>{
        <span class="hljs-function">std::lock_guard&lt;std::mutex&gt; <span class="hljs-title">lock</span><span class="hljs-params">(mutex_)</span></span>;
        ObserverId id = nextId_++;
        observers_.<span class="hljs-built_in">emplace_back</span>(id, std::<span class="hljs-built_in">move</span>(observer));
        <span class="hljs-keyword">return</span> id;
    }
    
    <span class="hljs-comment">// å–æ¶ˆæ³¨å†Œè§‚å¯Ÿè€…</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">unregisterObserver</span><span class="hljs-params">(ObserverId id)</span> </span>{
        <span class="hljs-function">std::lock_guard&lt;std::mutex&gt; <span class="hljs-title">lock</span><span class="hljs-params">(mutex_)</span></span>;
        observers_.<span class="hljs-built_in">erase</span>(
            std::<span class="hljs-built_in">remove_if</span>(observers_.<span class="hljs-built_in">begin</span>(), observers_.<span class="hljs-built_in">end</span>(),
                [id](<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; item) { <span class="hljs-keyword">return</span> item.first == id; }),
            observers_.<span class="hljs-built_in">end</span>()
        );
    }
    
    <span class="hljs-comment">// é€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">notify</span><span class="hljs-params">(Args... args)</span> <span class="hljs-type">const</span> </span>{
        <span class="hljs-comment">// æ‹·è´è§‚å¯Ÿè€…åˆ—è¡¨ä»¥é¿å…æ­»é”</span>
        <span class="hljs-keyword">auto</span> observersCopy = <span class="hljs-built_in">getObserversCopy</span>();
        
        <span class="hljs-keyword">for</span> (<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; [id, observer] : observersCopy) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-built_in">observer</span>(args...);
            } <span class="hljs-built_in">catch</span> (<span class="hljs-type">const</span> std::exception&amp; e) {
                <span class="hljs-comment">// è§‚å¯Ÿè€…å¼‚å¸¸ä¸åº”è¯¥å½±å“å…¶ä»–è§‚å¯Ÿè€…</span>
                std::cerr &lt;&lt; <span class="hljs-string">"è§‚å¯Ÿè€… "</span> &lt;&lt; id &lt;&lt; <span class="hljs-string">" å¼‚å¸¸: "</span> &lt;&lt; e.<span class="hljs-built_in">what</span>() &lt;&lt; std::endl;
            }
        }
    }
    
    <span class="hljs-comment">// è§‚å¯Ÿè€…æ•°é‡</span>
    <span class="hljs-function"><span class="hljs-type">size_t</span> <span class="hljs-title">observerCount</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{
        <span class="hljs-function">std::lock_guard&lt;std::mutex&gt; <span class="hljs-title">lock</span><span class="hljs-params">(mutex_)</span></span>;
        <span class="hljs-keyword">return</span> observers_.<span class="hljs-built_in">size</span>();
    }
    
<span class="hljs-keyword">private</span>:
    std::vector&lt;std::pair&lt;ObserverId, Observer&gt;&gt; <span class="hljs-built_in">getObserversCopy</span>() <span class="hljs-type">const</span> {
        <span class="hljs-function">std::lock_guard&lt;std::mutex&gt; <span class="hljs-title">lock</span><span class="hljs-params">(mutex_)</span></span>;
        <span class="hljs-keyword">return</span> observers_;
    }
    
    <span class="hljs-keyword">mutable</span> std::mutex mutex_;
    std::vector&lt;std::pair&lt;ObserverId, Observer&gt;&gt; observers_;
    ObserverId nextId_ = <span class="hljs-number">1</span>;
};

<span class="hljs-comment">// ä½¿ç”¨è§‚å¯Ÿè€…çš„æ¸©åº¦ä¼ æ„Ÿå™¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">TemperatureSensor</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-keyword">using</span> TemperatureObserver = Observable&lt;<span class="hljs-type">double</span>&gt;;
    
    <span class="hljs-built_in">TemperatureSensor</span>() = <span class="hljs-keyword">default</span>;
    
    <span class="hljs-comment">// æ³¨å†Œæ¸©åº¦è§‚å¯Ÿè€…</span>
    <span class="hljs-function">TemperatureObserver::ObserverId 
    <span class="hljs-title">registerTemperatureObserver</span><span class="hljs-params">(TemperatureObserver::Observer observer)</span> </span>{
        <span class="hljs-keyword">return</span> temperatureObservable_.<span class="hljs-built_in">registerObserver</span>(std::<span class="hljs-built_in">move</span>(observer));
    }
    
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">unregisterTemperatureObserver</span><span class="hljs-params">(TemperatureObserver::ObserverId id)</span> </span>{
        temperatureObservable_.<span class="hljs-built_in">unregisterObserver</span>(id);
    }
    
    <span class="hljs-comment">// æ›´æ–°æ¸©åº¦å¹¶é€šçŸ¥è§‚å¯Ÿè€…</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">updateTemperature</span><span class="hljs-params">(<span class="hljs-type">double</span> temperature)</span> </span>{
        currentTemperature_ = temperature;
        temperatureObservable_.<span class="hljs-built_in">notify</span>(temperature);
    }
    
    <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">getCurrentTemperature</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{ <span class="hljs-keyword">return</span> currentTemperature_; }
    
<span class="hljs-keyword">private</span>:
    TemperatureObserver temperatureObservable_;
    <span class="hljs-type">double</span> currentTemperature_ = <span class="hljs-number">0.0</span>;
};

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">demonstrate_observer_pattern</span><span class="hljs-params">()</span> </span>{
    TemperatureSensor sensor;
    
    <span class="hljs-comment">// æ³¨å†Œå¤šä¸ªè§‚å¯Ÿè€…</span>
    <span class="hljs-keyword">auto</span> id1 = sensor.<span class="hljs-built_in">registerTemperatureObserver</span>([](<span class="hljs-type">double</span> temp) {
        std::cout &lt;&lt; <span class="hljs-string">"è§‚å¯Ÿè€…1: æ¸©åº¦æ›´æ–°ä¸º "</span> &lt;&lt; temp &lt;&lt; <span class="hljs-string">"Â°C"</span> &lt;&lt; std::endl;
    });
    
    <span class="hljs-keyword">auto</span> id2 = sensor.<span class="hljs-built_in">registerTemperatureObserver</span>([](<span class="hljs-type">double</span> temp) {
        <span class="hljs-keyword">if</span> (temp &gt; <span class="hljs-number">30.0</span>) {
            std::cout &lt;&lt; <span class="hljs-string">"è§‚å¯Ÿè€…2: è­¦å‘Šï¼æ¸©åº¦è¿‡é«˜: "</span> &lt;&lt; temp &lt;&lt; <span class="hljs-string">"Â°C"</span> &lt;&lt; std::endl;
        }
    });
    
    <span class="hljs-comment">// æ¨¡æ‹Ÿæ¸©åº¦æ›´æ–°</span>
    sensor.<span class="hljs-built_in">updateTemperature</span>(<span class="hljs-number">25.5</span>);
    sensor.<span class="hljs-built_in">updateTemperature</span>(<span class="hljs-number">32.1</span>);
    
    std::cout &lt;&lt; <span class="hljs-string">"å½“å‰è§‚å¯Ÿè€…æ•°é‡: "</span> &lt;&lt; sensor.<span class="hljs-built_in">observerCount</span>() &lt;&lt; std::endl;
    
    <span class="hljs-comment">// å–æ¶ˆæ³¨å†Œä¸€ä¸ªè§‚å¯Ÿè€…</span>
    sensor.<span class="hljs-built_in">unregisterTemperatureObserver</span>(id1);
    sensor.<span class="hljs-built_in">updateTemperature</span>(<span class="hljs-number">28.0</span>);
    
    std::cout &lt;&lt; <span class="hljs-string">"å–æ¶ˆæ³¨å†Œåè§‚å¯Ÿè€…æ•°é‡: "</span> &lt;&lt; sensor.<span class="hljs-built_in">observerCount</span>() &lt;&lt; std::endl;
}
</code></pre>
<h4 data-id="heading-22"><strong>æ¡ˆä¾‹2ï¼šç­–ç•¥æ¨¡å¼ä¸ç±»å‹æ“¦é™¤</strong></h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;type_traits&gt;</span></span>

<span class="hljs-comment">// ç±»å‹æ“¦é™¤çš„ç»˜åˆ¶ç­–ç•¥</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">DrawStrategy</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
    <span class="hljs-title">DrawStrategy</span><span class="hljs-params">(T&amp;&amp; strategy)</span> 
        : pImpl_(std::make_unique&lt;Model&lt;T&gt;&gt;(std::forward&lt;T&gt;(strategy))) 
    {</span>}
    
    <span class="hljs-comment">// é»˜è®¤æ“ä½œ</span>
    <span class="hljs-built_in">DrawStrategy</span>() = <span class="hljs-keyword">default</span>;
    <span class="hljs-built_in">DrawStrategy</span>(DrawStrategy&amp;&amp;) = <span class="hljs-keyword">default</span>;
    DrawStrategy&amp; <span class="hljs-keyword">operator</span>=(DrawStrategy&amp;&amp;) = <span class="hljs-keyword">default</span>;
    
    <span class="hljs-comment">// ç¦æ­¢æ‹·è´</span>
    <span class="hljs-built_in">DrawStrategy</span>(<span class="hljs-type">const</span> DrawStrategy&amp;) = <span class="hljs-keyword">delete</span>;
    DrawStrategy&amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> DrawStrategy&amp;) = <span class="hljs-keyword">delete</span>;
    
    <span class="hljs-comment">// ç»˜åˆ¶æ“ä½œ</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">draw</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y, <span class="hljs-type">int</span> width, <span class="hljs-type">int</span> height)</span> <span class="hljs-type">const</span> </span>{
        pImpl_-&gt;<span class="hljs-built_in">draw</span>(x, y, width, height);
    }
    
<span class="hljs-keyword">private</span>:
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">Concept</span> {
        <span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">Concept</span>() = <span class="hljs-keyword">default</span>;
        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">draw</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y, <span class="hljs-type">int</span> width, <span class="hljs-type">int</span> height)</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;
    };
    
    <span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">Model</span> : Concept {
        <span class="hljs-built_in">Model</span>(T&amp;&amp; strategy) : <span class="hljs-built_in">strategy_</span>(std::forward&lt;T&gt;(strategy)) {}
        
        <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">draw</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y, <span class="hljs-type">int</span> width, <span class="hljs-type">int</span> height)</span> <span class="hljs-type">const</span> <span class="hljs-keyword">override</span> </span>{
            strategy_.<span class="hljs-built_in">draw</span>(x, y, width, height);
        }
        
        T strategy_;
    };
    
    std::unique_ptr&lt;Concept&gt; pImpl_;
};

<span class="hljs-comment">// å…·ä½“çš„ç»˜åˆ¶ç­–ç•¥</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SolidDrawStrategy</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">draw</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y, <span class="hljs-type">int</span> width, <span class="hljs-type">int</span> height)</span> <span class="hljs-type">const</span> </span>{
        std::cout &lt;&lt; <span class="hljs-string">"å®å¿ƒç»˜åˆ¶: ä½ç½®("</span> &lt;&lt; x &lt;&lt; <span class="hljs-string">","</span> &lt;&lt; y 
                  &lt;&lt; <span class="hljs-string">"), å¤§å°("</span> &lt;&lt; width &lt;&lt; <span class="hljs-string">"x"</span> &lt;&lt; height &lt;&lt; <span class="hljs-string">")"</span> &lt;&lt; std::endl;
    }
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">BorderDrawStrategy</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">draw</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y, <span class="hljs-type">int</span> width, <span class="hljs-type">int</span> height)</span> <span class="hljs-type">const</span> </span>{
        std::cout &lt;&lt; <span class="hljs-string">"è¾¹æ¡†ç»˜åˆ¶: ä½ç½®("</span> &lt;&lt; x &lt;&lt; <span class="hljs-string">","</span> &lt;&lt; y 
                  &lt;&lt; <span class="hljs-string">"), å¤§å°("</span> &lt;&lt; width &lt;&lt; <span class="hljs-string">"x"</span> &lt;&lt; height &lt;&lt; <span class="hljs-string">")"</span> &lt;&lt; std::endl;
    }
};

<span class="hljs-comment">// ä½¿ç”¨ç­–ç•¥æ¨¡å¼çš„å›¾å½¢ç±»</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Shape</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">Shape</span>(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y, <span class="hljs-type">int</span> width, <span class="hljs-type">int</span> height, DrawStrategy drawer)
        : <span class="hljs-built_in">x_</span>(x), <span class="hljs-built_in">y_</span>(y), <span class="hljs-built_in">width_</span>(width), <span class="hljs-built_in">height_</span>(height)
        , <span class="hljs-built_in">drawer_</span>(std::<span class="hljs-built_in">move</span>(drawer))
    {}
    
    <span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">Shape</span>() = <span class="hljs-keyword">default</span>;
    
    <span class="hljs-comment">// ç»˜åˆ¶æ“ä½œ</span>
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">draw</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{
        drawer_.<span class="hljs-built_in">draw</span>(x_, y_, width_, height_);
    }
    
    <span class="hljs-comment">// ç§»åŠ¨å’Œä½ç½®æ“ä½œ</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">move</span><span class="hljs-params">(<span class="hljs-type">int</span> dx, <span class="hljs-type">int</span> dy)</span> </span>{
        x_ += dx;
        y_ += dy;
    }
    
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">setPosition</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span> </span>{
        x_ = x;
        y_ = y;
    }
    
    <span class="hljs-comment">// è®¿é—®å™¨</span>
    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getX</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{ <span class="hljs-keyword">return</span> x_; }
    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getY</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{ <span class="hljs-keyword">return</span> y_; }
    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getWidth</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{ <span class="hljs-keyword">return</span> width_; }
    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getHeight</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{ <span class="hljs-keyword">return</span> height_; }
    
<span class="hljs-keyword">private</span>:
    <span class="hljs-type">int</span> x_, y_, width_, height_;
    DrawStrategy drawer_;
};

<span class="hljs-comment">// å…·ä½“çš„å›¾å½¢ç±»å‹</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Rectangle</span> : <span class="hljs-keyword">public</span> Shape {
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">Rectangle</span>(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y, <span class="hljs-type">int</span> width, <span class="hljs-type">int</span> height, DrawStrategy drawer)
        : <span class="hljs-built_in">Shape</span>(x, y, width, height, std::<span class="hljs-built_in">move</span>(drawer))
    {}
    
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">draw</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> <span class="hljs-keyword">override</span> </span>{
        std::cout &lt;&lt; <span class="hljs-string">"çŸ©å½¢ - "</span>;
        Shape::<span class="hljs-built_in">draw</span>();
    }
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Circle</span> : <span class="hljs-keyword">public</span> Shape {
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">Circle</span>(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y, <span class="hljs-type">int</span> radius, DrawStrategy drawer)
        : <span class="hljs-built_in">Shape</span>(x, y, radius * <span class="hljs-number">2</span>, radius * <span class="hljs-number">2</span>, std::<span class="hljs-built_in">move</span>(drawer))
        , <span class="hljs-built_in">radius_</span>(radius)
    {}
    
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">draw</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> <span class="hljs-keyword">override</span> </span>{
        std::cout &lt;&lt; <span class="hljs-string">"åœ†å½¢(åŠå¾„="</span> &lt;&lt; radius_ &lt;&lt; <span class="hljs-string">") - "</span>;
        Shape::<span class="hljs-built_in">draw</span>();
    }
    
<span class="hljs-keyword">private</span>:
    <span class="hljs-type">int</span> radius_;
};

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">demonstrate_strategy_pattern</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// åˆ›å»ºä¸åŒçš„ç»˜åˆ¶ç­–ç•¥</span>
    SolidDrawStrategy solidDrawer;
    BorderDrawStrategy borderDrawer;
    
    <span class="hljs-comment">// åˆ›å»ºä½¿ç”¨ä¸åŒç­–ç•¥çš„å›¾å½¢</span>
    <span class="hljs-function">Rectangle <span class="hljs-title">rect1</span><span class="hljs-params">(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-number">100</span>, <span class="hljs-number">50</span>, DrawStrategy(solidDrawer))</span></span>;
    <span class="hljs-function">Rectangle <span class="hljs-title">rect2</span><span class="hljs-params">(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">80</span>, <span class="hljs-number">60</span>, DrawStrategy(borderDrawer))</span></span>;
    <span class="hljs-function">Circle <span class="hljs-title">circle</span><span class="hljs-params">(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">25</span>, DrawStrategy(solidDrawer))</span></span>;
    
    <span class="hljs-comment">// ç»˜åˆ¶æ‰€æœ‰å›¾å½¢</span>
    std::vector&lt;std::unique_ptr&lt;Shape&gt;&gt; shapes;
    shapes.<span class="hljs-built_in">push_back</span>(std::<span class="hljs-built_in">make_unique</span>&lt;Rectangle&gt;(rect1));
    shapes.<span class="hljs-built_in">push_back</span>(std::<span class="hljs-built_in">make_unique</span>&lt;Rectangle&gt;(rect2));
    shapes.<span class="hljs-built_in">push_back</span>(std::<span class="hljs-built_in">make_unique</span>&lt;Circle&gt;(circle));
    
    <span class="hljs-keyword">for</span> (<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; shape : shapes) {
        shape-&gt;<span class="hljs-built_in">draw</span>();
    }
    
    <span class="hljs-comment">// è¿è¡Œæ—¶åˆ‡æ¢ç­–ç•¥</span>
    std::cout &lt;&lt; <span class="hljs-string">"\nåˆ‡æ¢ç»˜åˆ¶ç­–ç•¥å:"</span> &lt;&lt; std::endl;
    <span class="hljs-function">Rectangle <span class="hljs-title">dynamicRect</span><span class="hljs-params">(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">200</span>, <span class="hljs-number">100</span>, DrawStrategy(solidDrawer))</span></span>;
    dynamicRect.<span class="hljs-built_in">draw</span>();
    
    <span class="hljs-comment">// åŠ¨æ€æ›´æ¢ç­–ç•¥</span>
    dynamicRect = <span class="hljs-built_in">Rectangle</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">200</span>, <span class="hljs-number">100</span>, <span class="hljs-built_in">DrawStrategy</span>(borderDrawer));
    dynamicRect.<span class="hljs-built_in">draw</span>();
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€è½¬è½½ã€‘Claude Code å¸®æˆ‘æ•´ç†äº†ç¬”è®°]]></title>    <link>https://juejin.cn/post/7572397142363783210</link>    <guid>https://juejin.cn/post/7572397142363783210</guid>    <pubDate>2025-11-14T08:42:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572397142363783210" data-draft-id="7572396000543948863" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€è½¬è½½ã€‘Claude Code å¸®æˆ‘æ•´ç†äº†ç¬”è®°"/> <meta itemprop="keywords" content="Claude"/> <meta itemprop="datePublished" content="2025-11-14T08:42:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜¯é­”ä¸¸å•Š"/> <meta itemprop="url" content="https://juejin.cn/user/3217622495411292"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€è½¬è½½ã€‘Claude Code å¸®æˆ‘æ•´ç†äº†ç¬”è®°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3217622495411292/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜¯é­”ä¸¸å•Š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T08:42:46.000Z" title="Fri Nov 14 2025 08:42:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.reddit.com%2Fr%2FObsidianMD%2Fcomments%2F1l50vlh%2Fclaude_code_organized_my_notes%2F" target="_blank" title="https://www.reddit.com/r/ObsidianMD/comments/1l50vlh/claude_code_organized_my_notes/" ref="nofollow noopener noreferrer">è½¬è½½</a></p>
<p>å˜¿ï¼Œæˆ‘æƒ³å’Œå¤§å®¶åˆ†äº«ä¸€äº›æœ‰è¶£çš„äº‹æƒ…ã€‚æˆ‘ç”¨ Claude Code æ¥å¤„ç†ç¼–ç¨‹ä»»åŠ¡ï¼Œä½†æœ€è¿‘æˆ‘æƒ³å°è¯•ç”¨å®ƒæ¥æ•´ç†æˆ‘çš„ç¬”è®°â€”â€”è¿™æ˜¯æˆ‘ä¸€ç›´åœ¨åŠªåŠ›è§£å†³çš„é—®é¢˜ã€‚</p>
<p>Claude Code ä¸ºæˆ‘åšäº†è¿™äº›äº‹ï¼š</p>
<ul>
<li>ç ”ç©¶äº†ç¬”è®°ç»„ç»‡çš„æœ€ä½³å®è·µ</li>
<li>å»ºè®®äº†æœ€é€‚åˆæˆ‘çš„ç»“æ„çš„é«˜æ•ˆæ–¹æ³•</li>
<li>ä¸ºæˆ‘æ‰€æœ‰ç¬”è®°æ·»åŠ æ ‡ç­¾ï¼Œåˆ›å»ºæ¨¡æ¿ï¼Œç”¨ä¸¤ç§è¯­è¨€æ·»åŠ ç¼ºå¤±æ ‡ç­¾ï¼Œç”šè‡³æ„å»ºäº† MOCsï¼ˆå†…å®¹åœ°å›¾ï¼‰</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ceae1b064cba45ea931ada648a2d6f7c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv6a2U5Li45ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763714565&amp;x-signature=TSIxl4jxROET1qerRn%2Blz2qRBVs%3D" alt="image.png" loading="lazy"/></p>
<p><em>ä½¿ç”¨ Claude Code ä¹‹å‰</em></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/332b8a1b126b4fbfb4909a5566c6012c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv6a2U5Li45ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763714565&amp;x-signature=gsxLnh9d0AbYdIzKPakl0WlK004%3D" alt="image.png" loading="lazy"/></p>
<p><em>ä½¿ç”¨ Claude Code ä¹‹å</em></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7157d52278224115a5036a53eec5aa30~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv6a2U5Li45ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763714565&amp;x-signature=MyisZZ88CbSBiTrijEVlSiZf6Ek%3D" alt="image.png" loading="lazy"/></p>
<p><em>è¿ç§»å®Œæˆ</em></p>
<h2 data-id="heading-0">æˆ‘ä½¿ç”¨çš„å¯åŠ¨prompt</h2>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">## æŒ‡ä»¤</span>
æ‚¨å°†åˆ†ææä¾›çš„çŸ¥è¯†åº“ç»“æ„å’Œç¬”è®°ï¼Œä»¥åˆ›å»ºæ”¹è¿›çš„ç»„ç»‡ç³»ç»Ÿã€‚è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

<span class="hljs-section">### ç¬¬1é˜¶æ®µï¼šåˆ†æ</span>
é¦–å…ˆï¼Œåœ¨ <span class="hljs-code">`&lt;analysis&gt;`</span> æ ‡ç­¾å†…æ£€æŸ¥å½“å‰ç»“æ„ï¼š

<span class="hljs-strong">**å½“å‰ç»„ç»‡è¯„ä¼°**</span>
<span class="hljs-bullet">-</span> è¯†åˆ«ç»„ç»‡æ–¹æ³•ï¼ˆæ–‡ä»¶å¤¹ã€æ ‡ç­¾ã€é“¾æ¥æˆ–ç»„åˆï¼‰
<span class="hljs-bullet">-</span> æ³¨æ„å‘½åçº¦å®šä¸­çš„ä»»ä½•æ¨¡å¼
<span class="hljs-bullet">-</span> è¯„ä¼°æ–‡ä»¶å¤¹å±‚æ¬¡ç»“æ„çš„æ·±åº¦
<span class="hljs-bullet">-</span> è¯†åˆ«æ½œåœ¨çš„ä¿¡æ¯å­¤å²›æˆ–é‡å¤å†…å®¹
<span class="hljs-bullet">-</span> æ£€æŸ¥å­¤ç«‹ç¬”è®°æˆ–æ–­å¼€çš„è¿æ¥

<span class="hljs-strong">**å†…å®¹ç±»å‹åˆ†ç±»**</span>
<span class="hljs-bullet">-</span> å¯¹å­˜åœ¨çš„ç¬”è®°ç±»å‹è¿›è¡Œåˆ†ç±»ï¼ˆå‚è€ƒã€é¡¹ç›®ã€ä¸ªäººç­‰ï¼‰
<span class="hljs-bullet">-</span> è¯†åˆ«åå¤å‡ºç°çš„ä¸»é¢˜æˆ–è¯é¢˜
<span class="hljs-bullet">-</span> æ³¨æ„ç¬”è®°çš„å¹³å‡é•¿åº¦å’Œå¤æ‚æ€§
<span class="hljs-bullet">-</span> ç¡®å®šç¬”è®°éµå¾ªåŸå­åŸåˆ™è¿˜æ˜¯åŒ…å«å¤šä¸ªæ¦‚å¿µ

<span class="hljs-strong">**ä½¿ç”¨æ¨¡å¼è¯†åˆ«**</span>
<span class="hljs-bullet">-</span> è¯†åˆ«ç¬”è®°å¦‚ä½•ç›¸äº’è¿æ¥
<span class="hljs-bullet">-</span> è¯„ä¼°å½“å‰çš„é“¾æ¥ç­–ç•¥
<span class="hljs-bullet">-</span> ç¡®å®šä¸»è¦ä½¿ç”¨åœºæ™¯ï¼ˆç ”ç©¶ã€é¡¹ç›®ã€å­¦ä¹ ç­‰ï¼‰

<span class="hljs-section">### ç¬¬2é˜¶æ®µï¼šå»ºè®®</span>
åŸºäºæ‚¨çš„åˆ†æï¼Œåœ¨ <span class="hljs-code">`&lt;recommendations&gt;`</span> æ ‡ç­¾å†…æä¾›è¯¦ç»†å»ºè®®ï¼š

<span class="hljs-strong">**ç»„ç»‡ç»“æ„**</span>
<span class="hljs-bullet">-</span> é€‰æ‹©æœ€åˆé€‚çš„ä¸»è¦æ–¹æ³•ï¼š
<span class="hljs-bullet">-</span> <span class="hljs-strong">**å¸¦æœ‰ MOCs çš„æ‰å¹³ç»“æ„**</span>ï¼ˆå†…å®¹åœ°å›¾ï¼‰ä»¥è·å¾—æœ€å¤§çµæ´»æ€§
<span class="hljs-bullet">-</span> <span class="hljs-strong">**PARA æ–¹æ³•**</span>ï¼ˆé¡¹ç›®ã€åŒºåŸŸã€èµ„æºã€æ¡£æ¡ˆï¼‰ç”¨äºé¢å‘è¡ŒåŠ¨çš„ç³»ç»Ÿ
<span class="hljs-bullet">-</span> <span class="hljs-strong">**æ··åˆæ–¹æ³•**</span>ç»“åˆæœ€å°‘çš„æ–‡ä»¶å¤¹å’Œå¹¿æ³›çš„é“¾æ¥
<span class="hljs-bullet">-</span> æ ¹æ®ç”¨æˆ·çš„å†…å®¹å’Œæ¨¡å¼è¯æ˜æ‚¨çš„é€‰æ‹©åˆç†æ€§

<span class="hljs-bullet">2.</span> <span class="hljs-strong">**ç¬”è®°æ¶æ„**</span>
<span class="hljs-bullet">-</span> æ¨èç¬”è®°ç±»å‹ï¼š
<span class="hljs-bullet">-</span> <span class="hljs-strong">**åŸå­ç¬”è®°**</span>ç”¨äºå•ä¸ªæ¦‚å¿µ
<span class="hljs-bullet">-</span> <span class="hljs-strong">**MOC ç¬”è®°**</span>ç”¨äºä¸»é¢˜ç»„ç»‡
<span class="hljs-bullet">-</span> <span class="hljs-strong">**ç´¢å¼•ç¬”è®°**</span>ç”¨äºå¯¼èˆª
<span class="hljs-bullet">-</span> <span class="hljs-strong">**æ¯æ—¥ç¬”è®°**</span>ç”¨äºæ•æ‰ç¨çºµå³é€çš„æƒ³æ³•
<span class="hljs-bullet">-</span> ä¸ºæ¯ä¸ªæ¨èçš„ç¬”è®°ç±»å‹æä¾›æ¨¡æ¿

<span class="hljs-bullet">3.</span> <span class="hljs-strong">**å…ƒæ•°æ®å’Œæ ‡ç­¾ç³»ç»Ÿ**</span>
<span class="hljs-bullet">-</span> ä½¿ç”¨åµŒå¥—æ ‡ç­¾ï¼ˆä¾‹å¦‚ï¼Œ#type/article, #status/draftï¼‰è®¾è®¡åˆ†å±‚æ ‡ç­¾ç»“æ„
<span class="hljs-bullet">-</span> æ¨è YAML å‰ç½®å±æ€§ä»¥å¢å¼ºç»„ç»‡
<span class="hljs-bullet">-</span> å»ºè®®æ ‡ç­¾ç±»åˆ«ï¼šå†…å®¹ç±»å‹ã€çŠ¶æ€ã€ä¸»é¢˜ã€æ¥æº

<span class="hljs-bullet">4.</span> <span class="hljs-strong">**é“¾æ¥ç­–ç•¥**</span>
<span class="hljs-bullet">-</span> å»ºç«‹é“¾æ¥çº¦å®š
<span class="hljs-bullet">-</span> å»ºè®®ä½•æ—¶ä½¿ç”¨é“¾æ¥ vs æ ‡ç­¾
<span class="hljs-bullet">-</span> å»ºè®® MOC åˆ›å»ºè§¦å‘å™¨ï¼ˆä¾‹å¦‚ï¼Œå½“ä¸»é¢˜æœ‰ 5+ ç›¸å…³ç¬”è®°æ—¶ï¼‰

<span class="hljs-bullet">5.</span> <span class="hljs-strong">**æœç´¢å’Œæ£€ç´¢ä¼˜åŒ–**</span>
<span class="hljs-bullet">-</span> æ¨èæ›´å¥½çš„æœç´¢å‘½åçº¦å®š
<span class="hljs-bullet">-</span> å»ºè®®ç”¨äºåŠ¨æ€ç»„ç»‡çš„ Dataview æŸ¥è¯¢
<span class="hljs-bullet">-</span> æä¾›é«˜æ•ˆæ£€ç´¢çš„æœç´¢æ“ä½œç¬¦

<span class="hljs-section">### ç¬¬3é˜¶æ®µï¼šå®æ–½è®¡åˆ’</span>
åœ¨ <span class="hljs-code">`&lt;implementation&gt;`</span> æ ‡ç­¾å†…æä¾›é€æ­¥è¿ç§»è®¡åˆ’ï¼š

<span class="hljs-strong">**å‡†å¤‡é˜¶æ®µ**</span>ï¼ˆç¬¬1å‘¨ï¼‰
<span class="hljs-bullet">-</span> å¤‡ä»½å½“å‰åº“
<span class="hljs-bullet">-</span> å®‰è£…æ¨èæ’ä»¶
<span class="hljs-bullet">-</span> åˆ›å»ºæ–‡ä»¶å¤¹ç»“æ„å’Œåˆå§‹ MOCs

<span class="hljs-strong">**è¿ç§»é˜¶æ®µ**</span>ï¼ˆç¬¬2-3å‘¨ï¼‰
<span class="hljs-bullet">-</span> ç¡®å®šè¿ç§»ç¬”è®°çš„ä¼˜å…ˆçº§
<span class="hljs-bullet">-</span> æ›´æ–°ç¬”è®°æ ¼å¼å¹¶æ·»åŠ å…ƒæ•°æ®
<span class="hljs-bullet">-</span> åˆ›å»ºè¿æ¥å’Œ MOCs

<span class="hljs-strong">**ä¼˜åŒ–é˜¶æ®µ**</span>ï¼ˆç¬¬4å‘¨ï¼‰
<span class="hljs-bullet">-</span> å®¡æŸ¥å’Œå®Œå–„ç³»ç»Ÿ
<span class="hljs-bullet">-</span> åˆ›å»ºä¾›å°†æ¥å‚è€ƒçš„æ–‡æ¡£
<span class="hljs-bullet">-</span> å»ºç«‹ç»´æŠ¤ä¾‹ç¨‹

<span class="hljs-section">### ç¬¬4é˜¶æ®µï¼šå®ç”¨ç¤ºä¾‹</span>
åœ¨ <span class="hljs-code">`&lt;examples&gt;`</span> æ ‡ç­¾å†…æä¾›ï¼š

<span class="hljs-strong">**æ•´ç†å‰åçš„**</span>ç¬”è®°ç»„ç»‡ç¤ºä¾‹
<span class="hljs-strong">**ç¤ºä¾‹ MOC ç»“æ„**</span>ä¸ Dataview æŸ¥è¯¢
<span class="hljs-strong">**æ¨¡æ¿ç¤ºä¾‹**</span>ç”¨äºä¸åŒç¬”è®°ç±»å‹
<span class="hljs-strong">**ç¤ºä¾‹æ ‡ç­¾å±‚æ¬¡ç»“æ„**</span>ç‰¹å®šäºå…¶å†…å®¹

<span class="hljs-section">### è¦åº”ç”¨çš„é‡è¦åŸåˆ™ï¼š</span>
<span class="hljs-bullet">-</span> <span class="hljs-strong">**é¢å‘æœªæ¥çš„è®¾è®¡**</span>ï¼šåˆ›å»ºä¸€ä¸ªéšå¢é•¿æ‰©å±•çš„ç³»ç»Ÿ
<span class="hljs-bullet">-</span> <span class="hljs-strong">**ä½æ‘©æ“¦æ•è·**</span>ï¼šç¡®ä¿å¿«é€Ÿç¬”è®°åˆ›å»ºè€Œæ— éœ€å¤æ‚åˆ†ç±»
<span class="hljs-bullet">-</span> <span class="hljs-strong">**æ¸è¿›å¼ç»„ç»‡**</span>ï¼šä»ç®€å•å¼€å§‹ï¼Œæ ¹æ®éœ€è¦å¢åŠ å¤æ‚æ€§
<span class="hljs-bullet">-</span> <span class="hljs-strong">**äº¤å‰å¼•ç”¨**</span>ï¼šæœ€å¤§åŒ–ç›¸å…³æ¦‚å¿µä¹‹é—´çš„è¿æ¥
<span class="hljs-bullet">-</span> <span class="hljs-strong">**å®šæœŸç»´æŠ¤**</span>ï¼šåŒ…æ‹¬å®šæœŸå®¡æŸ¥æµç¨‹

è®°ä½ï¼š
<span class="hljs-bullet">-</span> ä¼˜å…ˆè€ƒè™‘å¯å‘ç°æ€§è€Œéå®Œç¾åˆ†ç±»
<span class="hljs-bullet">-</span> ä¸ºç”¨æˆ·çš„"æœ€ç³Ÿç³•çš„æ—¥å­"è®¾è®¡ï¼Œå½“ä»–ä»¬ç–²æƒ«æˆ–åŒ†å¿™æ—¶
<span class="hljs-bullet">-</span> å¹³è¡¡ç»“æ„ä¸çµæ´»æ€§
<span class="hljs-bullet">-</span> ç»“åˆæ˜¾å¼ï¼ˆæ–‡ä»¶å¤¹/æ ‡ç­¾ï¼‰å’Œéšå¼ï¼ˆé“¾æ¥ï¼‰ç»„ç»‡
<span class="hljs-bullet">-</span> è€ƒè™‘ç°ä»£å·¥å…·ä¸­AIè¾…åŠ©çš„æœç´¢èƒ½åŠ›

æ‚¨çš„æœ€ç»ˆè¾“å‡ºåº”è¯¥æ˜¯å®ç”¨çš„ã€å¯æ“ä½œçš„ï¼Œå¹¶æ ¹æ®åœ¨ç”¨æˆ·å½“å‰ç³»ç»Ÿä¸­è¯†åˆ«çš„ç‰¹å®šå†…å®¹å’Œä½¿ç”¨æ¨¡å¼é‡èº«å®šåˆ¶ã€‚
</code></pre>
<hr/>
<h4 data-id="heading-1"><strong>ä¸€äº›å›å¸–åé¦ˆ</strong></h4>
<ol>
<li><strong>å¤‡ä»½è‡³å…³é‡è¦</strong>ï¼šåœ¨å°è¯• AI æ•´ç†å‰è¦å®Œæ•´å¤‡ä»½</li>
<li><strong>ç‰ˆæœ¬æ§åˆ¶</strong>ï¼šå»ºè®®ä½¿ç”¨ Git ç®¡ç†æ–‡æœ¬æ–‡ä»¶ï¼Œé…åˆ DVC å¤„ç†å›¾ç‰‡ç­‰èµ„æº</li>
<li><strong>ccè‡ªåŠ¨åŒ–å·¥ä½œæµ</strong>ï¼šä½¿ç”¨ Claude Desktop å’Œ mcp-obsidian æ’ä»¶ï¼Œåœ¨ä¿å­˜åº“çš„ç›®å½•ä¸­æ‰“å¼€ Claude Code ç»ˆç«¯ã€‚åˆ›å»ºäº†å¤šä¸ªè‡ªå®šä¹‰æ–œæ å‘½ä»¤ï¼Œå®šæœŸè¿è¡Œï¼›æ¯å¤©ç”¨ Claude Code æ€»ç»“ä»»åŠ¡å’Œæœªå®Œæˆäº‹é¡¹ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AIç ´è§£è‚ç§»æ¤å›°å±€ï¼æ–¯å¦ç¦å‘å¸ƒæœ€æ–°AIç ”ç©¶ï¼Œåˆ©ç”¨LightGBMæ¨¡å‹ä¼˜åŒ–è‚ç§»æ¤èµ„æºåˆ©ç”¨æ•ˆç‡]]></title>    <link>https://juejin.cn/post/7572142436127965203</link>    <guid>https://juejin.cn/post/7572142436127965203</guid>    <pubDate>2025-11-14T08:42:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572142436127965203" data-draft-id="7572385850635010054" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AIç ´è§£è‚ç§»æ¤å›°å±€ï¼æ–¯å¦ç¦å‘å¸ƒæœ€æ–°AIç ”ç©¶ï¼Œåˆ©ç”¨LightGBMæ¨¡å‹ä¼˜åŒ–è‚ç§»æ¤èµ„æºåˆ©ç”¨æ•ˆç‡"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,èµ„è®¯"/> <meta itemprop="datePublished" content="2025-11-14T08:42:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç®—å®¶è®¡ç®—"/> <meta itemprop="url" content="https://juejin.cn/user/1426490793396571"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AIç ´è§£è‚ç§»æ¤å›°å±€ï¼æ–¯å¦ç¦å‘å¸ƒæœ€æ–°AIç ”ç©¶ï¼Œåˆ©ç”¨LightGBMæ¨¡å‹ä¼˜åŒ–è‚ç§»æ¤èµ„æºåˆ©ç”¨æ•ˆç‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1426490793396571/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç®—å®¶è®¡ç®—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T08:42:06.000Z" title="Fri Nov 14 2025 08:42:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨è‚ç§»æ¤é¢†åŸŸï¼Œå™¨å®˜çŸ­ç¼ºå§‹ç»ˆæ˜¯åˆ¶çº¦æ•‘æ²»æ•ˆç‡çš„æ ¸å¿ƒéš¾é¢˜ã€‚è€ŒÂ â€œå¾ªç¯æ­»äº¡åå™¨å®˜æçŒ®ï¼ˆDCDï¼‰â€Â ï¼Œæ˜¯è¡¥å……å™¨å®˜æ¥æºçš„é‡è¦é€”å¾„ã€‚</p>
<p>DCDæŒ‡æçŒ®è€…åœ¨å¿ƒè·³ã€å‘¼å¸åœæ­¢ï¼ˆå¾ªç¯æ­»äº¡ï¼‰åè¿›è¡Œå™¨å®˜æçŒ®çš„æ¨¡å¼ã€‚</p>
<p>ç„¶è€Œï¼Œè¿™ä¸€è¡¥å……å™¨å®˜æ¥æºçš„é‡è¦é€”å¾„å´é•¿æœŸå—å›°äºÂ â€œæ— æ•ˆè·å–â€Â é—®é¢˜ï¼š åŒ»ç–—æœºæ„ä¸ºæ½œåœ¨æçŒ®è€…æŠ•å…¥å¤§é‡äººåŠ›ã€è®¾å¤‡ä¸è¿è¾“æˆæœ¬ï¼Œå´å› æçŒ®è€…æœªåœ¨å™¨å®˜è€å—ç¼ºè¡€çš„æ—¶é—´çª—å†…æ­»äº¡ï¼Œæœ€ç»ˆæ— æ³•è·å¾—å¯ç”¨è‚è„ã€‚è¿™ç§èµ„æºæµªè´¹ä¸ä»…åŠ é‡åŒ»ç–—ç³»ç»Ÿè´Ÿæ‹…ï¼Œæ›´å»¶è¯¯äº†ç»ˆæœ«æœŸè‚ç—…æ‚£è€…çš„æ•‘æ²»æ—¶æœºã€‚</p>
<p>è¿‘æœŸï¼Œæ–¯å¦ç¦å¤§å­¦è”åˆç¾å›½ 6 å®¶ç§»æ¤ä¸­å¿ƒç ”å‘çš„LightGBMæœºå™¨å­¦ä¹ æ¨¡å‹ï¼Œä¸ºç ´è§£è¿™ä¸€å›°å±€æä¾›äº†æ–°æ–¹æ¡ˆã€‚è¯¥æ¨¡å‹é€šè¿‡ç²¾å‡†é¢„æµ‹ DCD æçŒ®è€…çš„æ­»äº¡è¿›å±•ï¼Œæ˜¾è‘—é™ä½äº†æ— æ•ˆè·å–ç‡ï¼Œä¸ºè‚ç§»æ¤é¢†åŸŸçš„èµ„æºä¼˜åŒ–ä¸æ‚£è€…æ•‘æ²»å¸¦æ¥çªç ´æ€§ä»·å€¼ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1b25a9f4380f4ece91682d7f6422e253~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763714526&amp;x-signature=2bcDnY6%2BtC48Dfmt4JU612KGwqE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>æ— æ•ˆè·å–çš„æ²‰é‡ä»£ä»·</strong></p>
<p>ç†è§£è¿™ä¸€çªç ´çš„ä»·å€¼ï¼Œéœ€è¦å…ˆäº†è§£DCDè‚ç§»æ¤çš„ç‰¹æ®Šæ€§ã€‚åœ¨å¾ªç¯æ­»äº¡åå™¨å®˜æçŒ®è¿‡ç¨‹ä¸­ï¼ŒæçŒ®è€…åœæ­¢ç”Ÿå‘½æ”¯æŒåï¼Œè‚è„å› ä¾›è¡€ä¸­æ–­å¼€å§‹å—æŸã€‚é€šå¸¸è¶…è¿‡30-60åˆ†é’Ÿï¼Œè‚è„å°±ä¼šä¸§å¤±ç§»æ¤ä»·å€¼ã€‚</p>
<p>è¿™ä¸ªæ—¶é—´çª—å£çš„ä¸¥æ ¼é™åˆ¶ï¼Œå¯¼è‡´äº†åŒ»ç–—èµ„æºçš„å·¨å¤§æµªè´¹ã€‚å•æ¬¡æ— æ•ˆè·å–çš„ç»æµæŸè€—å¯è¾¾æ•°åä¸‡å…ƒï¼ŒåŒ…æ‹¬ç§»æ¤å›¢é˜Ÿè°ƒé…ã€å™¨å®˜ä¿å­˜è®¾å¤‡è°ƒè¯•ã€è·¨åŒºåŸŸè¿è¾“ç­‰æˆæœ¬ã€‚æ›´ä¸¥é‡çš„æ˜¯ï¼Œè¿™äº›èµ„æºçš„æ— æ•ˆå ç”¨ï¼Œç›´æ¥å½±å“å…¶ä»–ç»ˆæœ«æœŸè‚ç—…æ‚£è€…çš„æ•‘æ²»æœºä¼šã€‚</p>
<p>æ›´ä¸¥å³»çš„æ˜¯ï¼Œä¼ ç»Ÿå†³ç­–æ–¹å¼éš¾ä»¥è§„é¿è¿™ä¸€é£é™©ï¼šæ­¤å‰ä¸´åºŠä¸»è¦ä¾èµ–ä¸¤ç±»æ–¹æ³•ã€‚ä¸€æ˜¯2012å¹´å¼€å‘çš„DCD-Nè¯„åˆ†ç­‰è€æ—§å·¥å…·ï¼Œå…¶æ•°æ®æ ·æœ¬é‡å°ä¸”æœªæ›´æ–°ï¼Œéš¾ä»¥é€‚é…å½“å‰ä¸´åºŠåœºæ™¯ï¼›äºŒæ˜¯å¤–ç§‘åŒ»ç”Ÿçš„ç»éªŒåˆ¤æ–­ï¼Œè¿™ç§æ–¹å¼å¾€å¾€å—ä¸ªä½“ç»éªŒã€è®¤çŸ¥åå·®å½±å“ã€‚</p>
<p><strong>LightGBMæ¨¡å‹çš„ç²¾å‡†é¢„æµ‹</strong></p>
<p>æ–¯å¦ç¦å›¢é˜Ÿå¼€å‘çš„LightGBMæ¨¡å‹ï¼Œé€šè¿‡å¤šç»´åº¦æŒ‡æ ‡æ•´åˆï¼Œå®ç°äº†å¯¹æ­»äº¡æ—¶æœºçš„ç²¾å‡†é¢„æµ‹ã€‚æ¨¡å‹æ¶µç›–äº†ç¥ç»åŠŸèƒ½æŒ‡æ ‡å¦‚ç³å­”åå°„ã€è§’è†œåå°„ï¼Œå¾ªç¯ä¸å‘¼å¸æŒ‡æ ‡åŒ…æ‹¬æ”¶ç¼©å‹ã€å¿ƒç‡ã€è¡€æ°§æµ“åº¦ï¼Œä»¥åŠåŸºç¡€ä¸´åºŠä¿¡æ¯å¦‚å¹´é¾„ã€BMIå’Œæ­»äº¡æœºåˆ¶ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/438773e4737a43098141e762a4c99253~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763714526&amp;x-signature=D7onSaCeO5s6dEJ0zVfHEdjM%2F8Q%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ã€ä¸åŒæ—¶é—´ç‚¹ä¸æ•°æ®é›†ä¸‹æ¨¡å‹æ€§èƒ½å¯¹æ¯”çƒ­åŠ›å›¾ã€‘</p>
<p>ç®—æ³•é€‰å‹ä¸Šï¼Œæ¨¡å‹é€‰ç”¨Â â€œè½»é‡çº§æ¢¯åº¦æå‡æœºï¼ˆLightGBMï¼‰â€Â ç®—æ³•ï¼Œå…¶ä¼˜åŠ¿é«˜åº¦å¥‘åˆä¸´åºŠæ•°æ®ç‰¹ç‚¹ï¼š</p>
<ul>
<li>
<p>æŠ—ç¼ºå¤±æ€§ï¼šä¸´åºŠæ•°æ®å¸¸å­˜åœ¨éƒ¨åˆ†æŒ‡æ ‡ç¼ºå¤±ï¼ˆå¦‚ç´§æ€¥æƒ…å†µä¸‹æœªæ£€æµ‹æŸä¸€ç”ŸåŒ–æŒ‡æ ‡ï¼‰ï¼ŒLightGBM å¯åŸç”Ÿå¤„ç†ç¼ºå¤±å€¼ï¼Œæ— éœ€äººå·¥å¡«å……ï¼Œé¿å…æ•°æ®å¤±çœŸå½±å“é¢„æµ‹ï¼›</p>
</li>
<li>
<p>é«˜æ‹Ÿåˆåº¦ï¼šèƒ½æœ‰æ•ˆæ•æ‰å˜é‡é—´çš„éçº¿æ€§å…³ç³»ï¼ˆå¦‚ â€œä½ç³å­”åå°„ + ä½è¡€å‹â€ çš„ç»„åˆå¯¹æ­»äº¡æ—¶æœºçš„å½±å“ï¼‰ï¼Œæ¯”ä¼ ç»Ÿçº¿æ€§æ¨¡å‹ï¼ˆå¦‚æ—§è¯„åˆ†è¡¨ï¼‰æ›´é€‚é…å¤æ‚ä¸´åºŠåœºæ™¯ï¼›</p>
</li>
<li>
<p>é«˜æ•ˆæ€§ï¼šåœ¨å¤„ç†é«˜ç»´åº¦æ•°æ®æ—¶è¿ç®—é€Ÿåº¦å¿«ï¼Œå¯æ»¡è¶³ä¸´åºŠå®æ—¶å†³ç­–éœ€æ±‚ã€‚</p>
</li>
</ul>
<p>ä¸ºé¿å…æ¨¡å‹ â€œçº¸ä¸Šè°ˆå…µâ€ï¼Œå›¢é˜Ÿé‡‡ç”¨ä¸‰é˜¶æ®µæµç¨‹ï¼ŒåŸºäºç¾å›½6å®¶ä¸­å¿ƒçš„2221 ä¾‹DCDæçŒ®æ•°æ®å¼€å±•ä¸¥æ ¼æµ‹è¯•ï¼š</p>
<ul>
<li>è®­ç»ƒé˜¶æ®µï¼šåˆ©ç”¨2022å¹´12æœˆ-2023å¹´6æœˆçš„1616ä¾‹å›é¡¾æ€§æ•°æ®ï¼Œè®©æ¨¡å‹å­¦ä¹  â€œæŒ‡æ ‡ç»„åˆä¸æ­»äº¡æ—¶æœºâ€ çš„å…³è”è§„å¾‹ï¼›</li>
<li>å›é¡¾æ€§éªŒè¯ï¼šç”¨ 2023 å¹´ 7 æœˆ - 8 æœˆçš„ 398 ä¾‹æ•°æ® â€œå¤ç›˜â€ï¼ŒéªŒè¯æ¨¡å‹å¯¹å†å²æ¡ˆä¾‹çš„é¢„æµ‹å‡†ç¡®æ€§ï¼›</li>
<li>å‰ç»æ€§éªŒè¯ï¼šåœ¨ 2024 å¹´ 3 æœˆ - 9 æœˆçš„ 207 ä¾‹å®æ—¶ä¸´åºŠæ¡ˆä¾‹ä¸­æµ‹è¯•ï¼Œæ¨¡æ‹Ÿå®é™…åº”ç”¨åœºæ™¯ä¸‹çš„å†³ç­–æ•ˆæœã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e9e53a029db7407fa9b2a6bfb881e67a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763714526&amp;x-signature=4TIGNotjXwn9m1YMCgSh84T6wtQ%3D" alt="å›¾ç‰‡" loading="lazy"/>
ã€å›é¡¾æ€§éªŒè¯é˜Ÿåˆ—ä¸å‰ç»æ€§éªŒè¯é˜Ÿåˆ—ä¸­çš„æ¨¡å‹æ€§èƒ½åŠåŸºäºé˜ˆå€¼çš„æƒè¡¡å…³ç³»ã€‘</p>
<p>ä¸‰é˜¶æ®µéªŒè¯å‡æ˜¾ç¤ºæ¨¡å‹æ€§èƒ½ç¨³å®šï¼Œä¸ºä¸´åºŠè½åœ°å¥ å®šåŸºç¡€ã€‚</p>
<p><strong>ä¸´åºŠæ•ˆæœ</strong></p>
<p>ä¸ä¼ ç»Ÿæ–¹æ³•ç›¸æ¯”ï¼ŒLightGBMæ¨¡å‹å±•ç°å‡ºæ˜æ˜¾ä¼˜åŠ¿ã€‚åœ¨é¢„æµ‹30åˆ†é’Ÿå†…æ­»äº¡çš„å‡†ç¡®æ€§æ–¹é¢ï¼Œæ¨¡å‹çš„AUCå€¼è¾¾åˆ°0.83ï¼Œæ˜¾è‘—é«˜äºDCD-Nè¯„åˆ†çš„0.799å’Œç§‘ç½—æ‹‰å¤šè®¡ç®—å™¨çš„0.694ã€‚</p>
<p>åœ¨åŒ»ç”Ÿæ„è§åˆ†æ­§è¾ƒå¤§çš„å¤æ‚æ¡ˆä¾‹ä¸­ï¼Œæ¨¡å‹å‡†ç¡®ç‡è¾¾åˆ°70%ï¼Œè€ŒåŒ»ç”Ÿåˆ¤æ–­çš„å‡†ç¡®ç‡ä»…ä¸º52%ã€‚è¿™ä¸€æ•°æ®è¡¨æ˜ï¼ŒAIèƒ½å¤Ÿæœ‰æ•ˆè¾…åŠ©è§£å†³ä¸´åºŠå†³ç­–ä¸­çš„äº‰è®®æƒ…å†µã€‚</p>
<p>åŒæ—¶ï¼Œè¯¥æ¨¡å‹å…·æœ‰é«˜çµæ´»æ€§ã€‚å®ƒèƒ½è¾“å‡º0-100åˆ†çš„è¿ç»­é¢„æµ‹æŒ‡æ•°ï¼ŒåŒ»ç–—æœºæ„å¯ä»¥æ ¹æ®è‡ªèº«éœ€æ±‚è°ƒæ•´é˜ˆå€¼ã€‚ä¾‹å¦‚ï¼Œå¸Œæœ›è¿›ä¸€æ­¥é™ä½æ— æ•ˆè·å–ç‡çš„æœºæ„å¯ä»¥æé«˜é˜ˆå€¼ï¼Œè€Œå¸Œæœ›å‡å°‘é”™è¿‡å¯ç”¨å™¨å®˜æ¦‚ç‡çš„æœºæ„å¯ä»¥é™ä½é˜ˆå€¼ã€‚</p>
<p><strong>æ·±è¿œæ„ä¹‰ï¼šè‚ç§»æ¤ç”Ÿæ€çš„ä¼˜åŒ–</strong></p>
<p>è¿™é¡¹æŠ€æœ¯çš„ä»·å€¼ä¸ä»…ä½“ç°åœ¨æ•°æ®æå‡ä¸Šï¼Œæ›´åœ¨äºå…¶å¯¹æ•´ä¸ªè‚ç§»æ¤ç”Ÿæ€çš„ä¼˜åŒ–ã€‚é€šè¿‡å‡å°‘æ— æ•ˆè·å–ï¼ŒåŒ»ç–—æœºæ„èƒ½å¤Ÿæ˜¾è‘—é™ä½èµ„æºæµªè´¹ï¼Œå°†æ›´å¤šèµ„æºæŠ•å…¥åˆ°é«˜æ¦‚ç‡æˆåŠŸçš„æçŒ®æ¡ˆä¾‹ä¸­ã€‚</p>
<p>å¯¹äºç»ˆæœ«æœŸè‚ç—…æ‚£è€…è€Œè¨€ï¼Œè¿™ä¸€è¿›æ­¥æ„å‘³ç€æ›´å¤šç”Ÿçš„å¸Œæœ›ã€‚</p>
<p>ä¸æ­¤åŒæ—¶ï¼Œç ”ç©¶å›¢é˜Ÿè¿˜å¼€å‘äº†é…å¥—çš„ä¸´åºŠæ•°æ®æå–èŠå¤©æœºå™¨äººã€‚åŒ»ç”Ÿåªéœ€ç²˜è´´ç—…å†ç½‘é¡µæ–‡æœ¬ï¼Œæœºå™¨äººå°±èƒ½è‡ªåŠ¨æå–å…³é”®æŒ‡æ ‡å¹¶è½¬åŒ–ä¸ºç»“æ„åŒ–æ•°æ®ï¼Œå¤§å¹…é™ä½äº†äººå·¥å½•å…¥æˆæœ¬ã€‚</p>
<p>é€šè¿‡è¿™é¡¹æŠ€æœ¯ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°AIåœ¨åŒ»ç–—èµ„æºä¼˜åŒ–æ–¹é¢çš„å·¨å¤§æ½œåŠ›ã€‚å®ƒå¹¶éè¦æ›¿ä»£åŒ»ç”Ÿï¼Œè€Œæ˜¯ä½œä¸ºå†³ç­–è¾…åŠ©å·¥å…·ï¼Œæ•´åˆå¤šç»´åº¦æ•°æ®ï¼Œè§„é¿ä¸»è§‚åå·®ï¼Œä¸ºåŒ»ç”Ÿæä¾›æ›´å®¢è§‚çš„å‚è€ƒã€‚</p>
<p>éšç€å¤§è¯­è¨€æ¨¡å‹æŠ€æœ¯çš„å‘å±•ï¼Œæœªæ¥æœ‰æœ›å®ç°å®æ—¶æ•°æ®é‡‡é›†ã€åŠ¨æ€é¢„æµ‹ã€å†³ç­–å»ºè®®çš„å…¨æµç¨‹è‡ªåŠ¨åŒ–ï¼Œè¿›ä¸€æ­¥æå‡ä¸´åºŠæ•ˆç‡ã€‚</p>
<p>AIæŠ€æœ¯èµ‹èƒ½åŒ»ç–—ï¼Œæ­£åœ¨ä»ç†å¿µèµ°å‘ç°å®ï¼Œè€Œæ¯ä¸€æ¬¡è¿™æ ·çš„è¿›æ­¥ï¼Œéƒ½åœ¨ä¸ºç”Ÿå‘½äº‰å–æ›´å¤šå¯èƒ½ã€‚</p>
<p><strong>å†™åœ¨æœ€å</strong>ï¼šå¦‚æœæ‚¨æ­£åœ¨è¿›è¡ŒAIé¢†åŸŸçš„åˆ›ä¸šæˆ–ç ”ç©¶ï¼Œå´å—å›°äºé«˜æ˜‚çš„ç®—åŠ›æˆæœ¬æˆ–é«˜å¹¶å‘ä¸‹çš„æ¨ç†ç¨³å®šæ€§ç­‰é—®é¢˜ï¼Œæ¬¢è¿ç•™è¨€æˆ–ç§ä¿¡æˆ‘ä»¬ï¼Œæ‰¾åˆ°æ‚¨çš„é™æœ¬å¢æ•ˆçªç ´å£~</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æå‡ Python æ€§èƒ½çš„ 10 ä¸ªæ™ºèƒ½æŠ€å·§]]></title>    <link>https://juejin.cn/post/7572340344509022234</link>    <guid>https://juejin.cn/post/7572340344509022234</guid>    <pubDate>2025-11-14T08:42:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572340344509022234" data-draft-id="7572387877138235402" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æå‡ Python æ€§èƒ½çš„ 10 ä¸ªæ™ºèƒ½æŠ€å·§"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2025-11-14T08:42:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Dcs"/> <meta itemprop="url" content="https://juejin.cn/user/3679404422861902"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æå‡ Python æ€§èƒ½çš„ 10 ä¸ªæ™ºèƒ½æŠ€å·§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3679404422861902/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Dcs
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T08:42:57.000Z" title="Fri Nov 14 2025 08:42:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œè¿™é‡Œæ˜¯<strong>æ¶æ„èµ„æºæ ˆ</strong>ï¼ç‚¹å‡»ä¸Šæ–¹å…³æ³¨ï¼Œæ·»åŠ â€œ<strong>æ˜Ÿæ ‡</strong>â€ï¼Œä¸€èµ·å­¦ä¹ å¤§å‚å‰æ²¿æ¶æ„ï¼</p>
<p>å…³æ³¨ã€å‘é€<code>C1</code>å³å¯è·å–JetBrainså…¨å®¶æ¡¶æ¿€æ´»å·¥å…·å’Œç ï¼</p>
<hr/>
<p>Python ä½œä¸ºä¸€é—¨é«˜æ•ˆã€ç®€æ´ä¸”åŠŸèƒ½å¼ºå¤§çš„ç¼–ç¨‹è¯­è¨€ï¼Œå·²ç»å¹¿æ³›åº”ç”¨äºä» Web å¼€å‘åˆ°äººå·¥æ™ºèƒ½ç­‰å¤šä¸ªé¢†åŸŸã€‚ç„¶è€Œï¼Œéšç€é¡¹ç›®çš„å¤æ‚æ€§å¢åŠ ï¼Œæ€§èƒ½ç“¶é¢ˆä¸å¯é¿å…åœ°æµ®ç°ã€‚å°¤å…¶æ˜¯åœ¨æ•°æ®å¤„ç†ã€å®æ—¶ç³»ç»Ÿå’Œé«˜æ€§èƒ½è®¡ç®—æ–¹é¢ï¼Œä¼˜åŒ– Python ä»£ç çš„æ‰§è¡Œæ•ˆç‡å˜å¾—è‡³å…³é‡è¦ã€‚å¹¸è¿çš„æ˜¯ï¼ŒPython æä¾›äº†å¾ˆå¤šå†…ç½®åŠŸèƒ½å’Œä¼˜åŒ–æŠ€å·§ï¼Œå¯ä»¥æ˜¾è‘—æé«˜ä»£ç çš„è¿è¡Œé€Ÿåº¦ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7fc7cefaeba45d29bd6b0c9c8f5d498~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRGNz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763714577&amp;x-signature=2MIszQ5jcw3NFeMpHwKT81UVVB0%3D" alt="1763084769950-veas9k8qvp.jpeg" loading="lazy"/>
ä»¥ä¸‹æ˜¯ 10 ä¸ªç»è¿‡å®è·µéªŒè¯çš„æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ï¼Œè¿™äº›æ–¹æ³•ä¸ä¾èµ–äºå¤–éƒ¨åº“ï¼Œè€Œæ˜¯é€šè¿‡é«˜æ•ˆçš„æ•°æ®ç»“æ„ã€ä½çº§ä¼˜åŒ–å’Œ Python æœ¬èº«çš„å†…å»ºåŠŸèƒ½æ¥åŠ é€Ÿä»£ç æ‰§è¡Œã€‚é€šè¿‡è¿™äº›æŠ€å·§ï¼Œä½ ä¸ä»…å¯ä»¥åœ¨å¤§æ•°æ®é›†å’Œè®¡ç®—å¯†é›†å‹ä»»åŠ¡ä¸­è·å¾—æ€§èƒ½æå‡ï¼Œè¿˜èƒ½åœ¨ä¿æŒä»£ç ç®€æ´å’Œå¯è¯»æ€§çš„åŒæ—¶ï¼Œè§£å†³æ€§èƒ½ç“¶é¢ˆã€‚</p>
<h3 data-id="heading-0">æŠ€å·§ 1ï¼šä½¿ç”¨é›†åˆè¿›è¡Œæˆå‘˜æµ‹è¯•</h3>
<p>åœ¨å¤„ç†å¤§è§„æ¨¡æ•°æ®é›†æ—¶ï¼Œæ£€æŸ¥æŸä¸ªå…ƒç´ æ˜¯å¦åœ¨é›†åˆä¸­ï¼Œä½¿ç”¨åˆ—è¡¨é€šå¸¸æ•ˆç‡è¾ƒä½ã€‚åˆ—è¡¨çš„æˆå‘˜æµ‹è¯•ï¼ˆ<code>x in some_list</code>ï¼‰æ˜¯çº¿æ€§æ—¶é—´å¤æ‚åº¦ï¼ˆ<code>O(n)</code>ï¼‰ï¼Œæ„å‘³ç€å®ƒéœ€è¦é€ä¸ªæ‰«æå…ƒç´ ã€‚è€Œé›†åˆï¼ˆ<code>set</code>ï¼‰åˆ™é€šè¿‡å“ˆå¸Œè¡¨å®ç°ï¼Œå…è®¸å¸¸æ•°æ—¶é—´å¤æ‚åº¦ï¼ˆ<code>O(1)</code>ï¼‰çš„æŸ¥æ‰¾ï¼Œæ•ˆç‡å¤§å¹…æå‡ã€‚</p>
<pre><code class="hljs language-python" lang="python">big_list = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">range</span>(<span class="hljs-number">1000000</span>))
big_set = <span class="hljs-built_in">set</span>(big_list)

start = time.time()
<span class="hljs-built_in">print</span>(<span class="hljs-number">999999</span> <span class="hljs-keyword">in</span> big_list)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"List lookup: <span class="hljs-subst">{time.time() - start:<span class="hljs-number">.6</span>f}</span>s"</span>)

start = time.time()
<span class="hljs-built_in">print</span>(<span class="hljs-number">999999</span> <span class="hljs-keyword">in</span> big_set)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"Set lookup: <span class="hljs-subst">{time.time() - start:<span class="hljs-number">.6</span>f}</span>s"</span>)
</code></pre>
<p><strong>æ—¶é—´æµ‹è¯•ç»“æœï¼š</strong></p>
<ul>
<li>åˆ—è¡¨æŸ¥æ‰¾ï¼šçº¦ 0.015 ç§’</li>
<li>é›†åˆæŸ¥æ‰¾ï¼šçº¦ 0.00002 ç§’</li>
</ul>
<p>å¦‚æœä½ çš„ä»»åŠ¡æ¶‰åŠåˆ°å»é‡ã€è¾“å…¥éªŒè¯æˆ–äº¤å‰å¼•ç”¨ç­‰æ“ä½œï¼Œé›†åˆä¼šæ¯”åˆ—è¡¨æ›´é«˜æ•ˆã€‚</p>
<h3 data-id="heading-1">æŠ€å·§ 2ï¼šé¿å…ä¸å¿…è¦çš„å¤åˆ¶</h3>
<p>å¤åˆ¶å¤§å‹å¯¹è±¡ï¼ˆå¦‚åˆ—è¡¨ã€å­—å…¸æˆ–æ•°ç»„ï¼‰åœ¨æ—¶é—´å’Œå†…å­˜ä¸Šéƒ½æ˜¯å¼€é”€å·¨å¤§çš„ã€‚æ¯æ¬¡å¤åˆ¶éƒ½ä¼šåˆ›å»ºæ–°çš„å¯¹è±¡ï¼Œè¿™å¯èƒ½å¯¼è‡´å†…å­˜æµªè´¹å’Œæ€§èƒ½ä¸‹é™ï¼Œå°¤å…¶åœ¨å¤„ç†å¤§æ•°æ®é›†æ—¶ã€‚å°½é‡ä½¿ç”¨åŸåœ°æ“ä½œè€Œä¸æ˜¯å¤åˆ¶å¯¹è±¡ï¼ŒPython çš„è®¸å¤šå†…ç½®æ•°æ®ç»“æ„éƒ½æä¾›äº†åŸåœ°æ“ä½œçš„æ–¹æ³•ï¼ˆå¦‚ <code>sort</code>ã€<code>append</code>ã€<code>update</code> ç­‰ï¼‰ã€‚</p>
<pre><code class="hljs language-python" lang="python">numbers = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">range</span>(<span class="hljs-number">1000000</span>))

<span class="hljs-keyword">def</span> <span class="hljs-title function_">modify_list</span>(<span class="hljs-params">lst</span>):
    lst[<span class="hljs-number">0</span>] = <span class="hljs-number">999</span>
    <span class="hljs-keyword">return</span> lst

start = time.time()
result = modify_list(numbers)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"In-place: <span class="hljs-subst">{time.time() - start:<span class="hljs-number">.4</span>f}</span>s"</span>)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">copy_list</span>(<span class="hljs-params">lst</span>):
    new_lst = lst.copy()
    new_lst[<span class="hljs-number">0</span>] = <span class="hljs-number">999</span>
    <span class="hljs-keyword">return</span> new_lst

start = time.time()
result = copy_list(numbers)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"Copy: <span class="hljs-subst">{time.time() - start:<span class="hljs-number">.4</span>f}</span>s"</span>)
</code></pre>
<p><strong>æ—¶é—´æµ‹è¯•ç»“æœï¼š</strong></p>
<ul>
<li>åŸåœ°ä¿®æ”¹ï¼šçº¦ 0.0001 ç§’</li>
<li>å¤åˆ¶ä¿®æ”¹ï¼šçº¦ 0.0100 ç§’</li>
</ul>
<h3 data-id="heading-2">æŠ€å·§ 3ï¼šä½¿ç”¨ <code>__slots__</code> æ¥æé«˜å†…å­˜æ•ˆç‡</h3>
<p>Python ç±»çš„å®ä¾‹å±æ€§é€šå¸¸å­˜å‚¨åœ¨åŠ¨æ€å­—å…¸ï¼ˆ<code>__dict__</code>ï¼‰ä¸­ï¼Œè¿™ä¸ºçµæ´»æ€§æä¾›äº†ä¾¿åˆ©ï¼Œä½†ä¹Ÿå¸¦æ¥äº†å†…å­˜å¼€é”€ã€‚é€šè¿‡ä½¿ç”¨ <code>__slots__</code>ï¼Œå¯ä»¥æ˜¾å¼å£°æ˜å›ºå®šçš„å±æ€§é›†åˆï¼Œé¿å…åˆ›å»º <code>__dict__</code>ï¼Œä»è€ŒèŠ‚çœå†…å­˜ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span>:
    __slots__ = (<span class="hljs-string">'x'</span>, <span class="hljs-string">'y'</span>)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, x, y</span>):
        self.x = x
        self.y = y

start = time.time()
points = [Point(i, i+<span class="hljs-number">1</span>) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1000000</span>)]
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"With slots: <span class="hljs-subst">{time.time() - start:<span class="hljs-number">.4</span>f}</span>s"</span>)
</code></pre>
<p><strong>æ—¶é—´æµ‹è¯•ç»“æœï¼š</strong></p>
<ul>
<li>ä½¿ç”¨ <code>__slots__</code>ï¼šçº¦ 0.1200 ç§’</li>
<li>ä¸ä½¿ç”¨ <code>__slots__</code>ï¼šçº¦ 0.1500 ç§’</li>
</ul>
<h3 data-id="heading-3">æŠ€å·§ 4ï¼šä½¿ç”¨ <code>math</code> æ¨¡å—ä»£æ›¿æ“ä½œç¬¦</h3>
<p>Python çš„ <code>math</code> æ¨¡å—æä¾›äº†ä¸€äº›å†…å»ºçš„å‡½æ•°ï¼Œè¿™äº›å‡½æ•°æ˜¯ç”¨ C å®ç°çš„ï¼Œæ¯”ç›´æ¥åœ¨ Python ä¸­å®ç°çš„è¿ç®—ç¬¦æ›´åŠ é«˜æ•ˆã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ <code>math.sqrt()</code> é€šå¸¸æ¯”ä½¿ç”¨ <code>** 0.5</code> è¿ç®—ç¬¦æ¥è®¡ç®—å¹³æ–¹æ ¹è¦æ›´å¿«ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> math

numbers = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">range</span>(<span class="hljs-number">10000000</span>))

start = time.time()
roots = [math.sqrt(n) <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> numbers]
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"Math sqrt: <span class="hljs-subst">{time.time() - start:<span class="hljs-number">.4</span>f}</span>s"</span>)

start = time.time()
roots = [n ** <span class="hljs-number">0.5</span> <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> numbers]
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"Operator: <span class="hljs-subst">{time.time() - start:<span class="hljs-number">.4</span>f}</span>s"</span>)
</code></pre>
<p><strong>æ—¶é—´æµ‹è¯•ç»“æœï¼š</strong></p>
<ul>
<li><code>math.sqrt()</code>ï¼šçº¦ 0.2000 ç§’</li>
<li><code>** 0.5</code>ï¼šçº¦ 0.2500 ç§’</li>
</ul>
<h3 data-id="heading-4">æŠ€å·§ 5ï¼šé¢„åˆ†é…å·²çŸ¥å¤§å°çš„å†…å­˜</h3>
<p>Python åœ¨åŠ¨æ€æ„å»ºåˆ—è¡¨æˆ–æ•°ç»„æ—¶ï¼Œä¼šåœ¨åå°è¿›è¡Œæ‰©å®¹ï¼Œæ¯æ¬¡æ‰©å®¹éƒ½ä¼šæ¶‰åŠåˆ°å†…å­˜åˆ†é…å’Œæ•°æ®å¤åˆ¶ã€‚å¦‚æœä½ çŸ¥é“æ•°æ®ç»“æ„çš„æœ€ç»ˆå¤§å°ï¼Œé¢„å…ˆåˆ†é…å†…å­˜èƒ½æ˜¾è‘—æé«˜æ€§èƒ½ï¼Œé¿å…åå¤æ‰©å®¹ã€‚</p>
<pre><code class="hljs language-python" lang="python">start = time.time()
result = [<span class="hljs-number">0</span>] * <span class="hljs-number">1000000</span>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1000000</span>):
    result[i] = i
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"Pre-allocated: <span class="hljs-subst">{time.time() - start:<span class="hljs-number">.4</span>f}</span>s"</span>)

start = time.time()
result = []
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1000000</span>):
    result.append(i)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"Dynamic: <span class="hljs-subst">{time.time() - start:<span class="hljs-number">.4</span>f}</span>s"</span>)
</code></pre>
<p><strong>æ—¶é—´æµ‹è¯•ç»“æœï¼š</strong></p>
<ul>
<li>é¢„åˆ†é…ï¼šçº¦ 0.0300 ç§’</li>
<li>åŠ¨æ€åˆ†é…ï¼šçº¦ 0.0400 ç§’</li>
</ul>
<h3 data-id="heading-5">æŠ€å·§ 6ï¼šé¿å…åœ¨çƒ­å¾ªç¯ä¸­ä½¿ç”¨å¼‚å¸¸å¤„ç†</h3>
<p>å¼‚å¸¸å¤„ç†éå¸¸å¼ºå¤§ï¼Œä½†å®ƒçš„å¼€é”€ä¹Ÿä¸å®¹å°è§‘ã€‚å°¤å…¶åœ¨æ€§èƒ½å…³é”®çš„å¾ªç¯ä¸­ï¼Œé¢‘ç¹çš„æŠ›å‡ºå’Œæ•è·å¼‚å¸¸ä¼šå¯¼è‡´å †æ ˆå±•å¼€å’Œä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œè¿™å¯¹æ€§èƒ½æœ‰å¾ˆå¤§å½±å“ã€‚åœ¨è¿™äº›å¾ªç¯ä¸­ï¼Œæœ€å¥½é€šè¿‡æ¡ä»¶æ£€æŸ¥æ¥é¿å…é¢„æœŸä¹‹å¤–çš„é”™è¯¯å‘ç”Ÿï¼Œè€Œä¸æ˜¯ä¾èµ–å¼‚å¸¸å¤„ç†ã€‚</p>
<pre><code class="hljs language-python" lang="python">numbers = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">range</span>(<span class="hljs-number">10000000</span>))

start = time.time()
total = <span class="hljs-number">0</span>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> numbers:
    <span class="hljs-keyword">if</span> i % <span class="hljs-number">2</span> != <span class="hljs-number">0</span>:
        total += i // <span class="hljs-number">2</span>
    <span class="hljs-keyword">else</span>:
        total += i
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"Conditional: <span class="hljs-subst">{time.time() - start:<span class="hljs-number">.4</span>f}</span>s"</span>)

start = time.time()
total = <span class="hljs-number">0</span>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> numbers:
    <span class="hljs-keyword">try</span>:
        total += i / (i % <span class="hljs-number">2</span>)
    <span class="hljs-keyword">except</span> ZeroDivisionError:
        total += i
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"Exception: <span class="hljs-subst">{time.time() - start:<span class="hljs-number">.4</span>f}</span>s"</span>)
</code></pre>
<p><strong>æ—¶é—´æµ‹è¯•ç»“æœï¼š</strong></p>
<ul>
<li>æ¡ä»¶æ£€æŸ¥ï¼šçº¦ 0.3000 ç§’</li>
<li>å¼‚å¸¸å¤„ç†ï¼šçº¦ 0.6000 ç§’</li>
</ul>
<h3 data-id="heading-6">æŠ€å·§ 7ï¼šä½¿ç”¨å±€éƒ¨å‡½æ•°æé«˜é‡å¤é€»è¾‘çš„æ•ˆç‡</h3>
<p>åœ¨å‡½æ•°ä¸­åå¤ä½¿ç”¨åŒä¸€æ®µé€»è¾‘æ—¶ï¼Œå®šä¹‰ä¸€ä¸ªå±€éƒ¨ï¼ˆåµŒå¥—ï¼‰å‡½æ•°å¯ä»¥æé«˜æ€§èƒ½ï¼Œå› ä¸º Python ä¼šåœ¨å±€éƒ¨ä½œç”¨åŸŸå†…æ›´å¿«åœ°æŸ¥æ‰¾å˜é‡ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">outer</span>():
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">add_pair</span>(<span class="hljs-params">a, b</span>):
        <span class="hljs-keyword">return</span> a + b

    result = <span class="hljs-number">0</span>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10000000</span>):
        result = add_pair(result, i)

    <span class="hljs-keyword">return</span> result

start = time.time()
result = outer()
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"Local function: <span class="hljs-subst">{time.time() - start:<span class="hljs-number">.4</span>f}</span>s"</span>)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">add_pair</span>(<span class="hljs-params">a, b</span>):
    <span class="hljs-keyword">return</span> a + b

start = time.time()
result = <span class="hljs-number">0</span>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10000000</span>):
    result = add_pair(result, i)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"Global function: <span class="hljs-subst">{time.time() - start:<span class="hljs-number">.4</span>f}</span>s"</span>)
</code></pre>
<p><strong>æ—¶é—´æµ‹è¯•ç»“æœï¼š</strong></p>
<ul>
<li>å±€éƒ¨å‡½æ•°ï¼šçº¦ 0.4000 ç§’</li>
<li>å…¨å±€å‡½æ•°ï¼šçº¦ 0.4500 ç§’</li>
</ul>
<h3 data-id="heading-7">æŠ€å·§ 8ï¼šä½¿ç”¨ <code>itertools</code> è¿›è¡Œç»„åˆæ“ä½œ</h3>
<p>Python çš„ <code>itertools</code> æ¨¡å—æä¾›äº†ä¸€äº›é«˜æ•ˆçš„å‡½æ•°ï¼Œé€‚ç”¨äºæ’åˆ—ã€ç»„åˆã€ç¬›å¡å°”ç§¯ç­‰ä»»åŠ¡ã€‚è¿™äº›å‡½æ•°é‡‡ç”¨æƒ°æ€§ç”Ÿæˆæ–¹å¼ï¼Œèƒ½å¤Ÿåœ¨ä¸å ç”¨å¤§é‡å†…å­˜çš„æƒ…å†µä¸‹å¤„ç†å¤§è§„æ¨¡æ•°æ®ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> itertools <span class="hljs-keyword">import</span> product

items = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>] * <span class="hljs-number">10</span>

start = time.time()
result = <span class="hljs-built_in">list</span>(product(items, repeat=<span class="hljs-number">2</span>))
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"Itertools: <span class="hljs-subst">{time.time() - start:<span class="hljs-number">.4</span>f}</span>s"</span>)

start = time.time()
result = []
<span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> items:
    <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> items:
        result.append((x, y))
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"Loops: <span class="hljs-subst">{time.time() - start:<span class="hljs-number">.4</span>f}</span>s"</span>)
</code></pre>
<p><strong>æ—¶é—´æµ‹è¯•ç»“æœï¼š</strong></p>
<ul>
<li><code>itertools.product()</code>ï¼šçº¦ 0.0005 ç§’</li>
<li>åµŒå¥—å¾ªç¯ï¼šçº¦ 0.0020 ç§’</li>
</ul>
<h3 data-id="heading-8">æŠ€å·§ 9ï¼šä½¿ç”¨ <code>bisect</code> è¿›è¡Œæœ‰åºåˆ—è¡¨æ“ä½œ</h3>
<p>å¦‚æœä½ éœ€è¦åœ¨ä¸€ä¸ªæœ‰åºåˆ—è¡¨ä¸­è¿›è¡ŒæŸ¥æ‰¾æˆ–æ’å…¥æ“ä½œï¼Œä½¿ç”¨ <code>bisect</code> æ¨¡å—æä¾›çš„äºŒåˆ†æŸ¥æ‰¾æ–¹æ³•ä¼šæ¯”æ‰‹åŠ¨å®ç°çš„</p>
<p>çº¿æ€§æŸ¥æ‰¾æ›´åŠ é«˜æ•ˆã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> bisect

sorted_list = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">range</span>(<span class="hljs-number">1000000</span>))

start = time.time()
bisect.insort(sorted_list, <span class="hljs-number">500000</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"Bisect insert: <span class="hljs-subst">{time.time() - start:<span class="hljs-number">.4</span>f}</span>s"</span>)

start = time.time()
sorted_list.append(<span class="hljs-number">500000</span>)
sorted_list.sort()
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"Manual insert: <span class="hljs-subst">{time.time() - start:<span class="hljs-number">.4</span>f}</span>s"</span>)
</code></pre>
<p><strong>æ—¶é—´æµ‹è¯•ç»“æœï¼š</strong></p>
<ul>
<li><code>bisect.insort()</code>ï¼šçº¦ 0.1000 ç§’</li>
<li>æ‰‹åŠ¨æ’å…¥ï¼šçº¦ 0.1500 ç§’</li>
</ul>
<h3 data-id="heading-9">æŠ€å·§ 10ï¼šä½¿ç”¨ <code>numpy</code> è¿›è¡Œæ•°å€¼è®¡ç®—</h3>
<p>å¯¹äºæ•°å€¼è®¡ç®—å¯†é›†å‹ä»»åŠ¡ï¼Œ<code>numpy</code> æ˜¯ä¸€ç§éå¸¸é«˜æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚ç›¸æ¯”çº¯ Python å®ç°ï¼Œ<code>numpy</code> é€šè¿‡ä¼˜åŒ–çš„ C ä»£ç å’Œå‘é‡åŒ–æ“ä½œï¼Œèƒ½å¤§å¹…æå‡è®¡ç®—æ•ˆç‡ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

arr = np.arange(<span class="hljs-number">1000000</span>)

start = time.time()
result = np.sqrt(arr)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"NumPy: <span class="hljs-subst">{time.time() - start:<span class="hljs-number">.4</span>f}</span>s"</span>)

start = time.time()
result = [x ** <span class="hljs-number">0.5</span> <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> arr]
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"List comprehension: <span class="hljs-subst">{time.time() - start:<span class="hljs-number">.4</span>f}</span>s"</span>)
</code></pre>
<p><strong>æ—¶é—´æµ‹è¯•ç»“æœï¼š</strong></p>
<ul>
<li><code>numpy.sqrt()</code>ï¼šçº¦ 0.2000 ç§’</li>
<li>åˆ—è¡¨æ¨å¯¼ï¼šçº¦ 0.4500 ç§’</li>
</ul>
<hr/>
<h2 data-id="heading-10">ç»“è¯­</h2>
<p>æŒæ¡è¿™äº› Python æ€§èƒ½ä¼˜åŒ–æŠ€å·§ï¼Œå¯ä»¥æ˜¾è‘—æå‡ä½ çš„ä»£ç æ‰§è¡Œæ•ˆç‡ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†å¤§é‡æ•°æ®æˆ–éœ€è¦é«˜æ€§èƒ½è®¡ç®—æ—¶ã€‚é€šè¿‡äº†è§£å’Œè¿ç”¨ Python å†…ç½®åŠŸèƒ½å’Œé«˜æ•ˆçš„æ•°æ®ç»“æ„ï¼Œä¸ä»…èƒ½æå‡è¿è¡Œé€Ÿåº¦ï¼Œè¿˜èƒ½ä¼˜åŒ–ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p>
<hr/>
<p><strong>å–œæ¬¢å°±å¥–åŠ±ä¸€ä¸ªâ€œğŸ‘â€å’Œâ€œåœ¨çœ‹â€å‘—~</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/39eba941a85b40e782d95134670a0c04~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRGNz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763714577&amp;x-signature=COiaoEFkOa7swR5PNqoFojYRl44%3D" alt="1763084769951-955qfbo83ze.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[TCP æ•°æ®æµåˆ†æå…¨æµç¨‹ï¼Œä»åº•å±‚æŠ“åŒ…åˆ°åè®®è¿˜åŸçš„å®æˆ˜æŒ‡å—]]></title>    <link>https://juejin.cn/post/7572385850635042822</link>    <guid>https://juejin.cn/post/7572385850635042822</guid>    <pubDate>2025-11-14T08:43:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572385850635042822" data-draft-id="7572142436127981587" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="TCP æ•°æ®æµåˆ†æå…¨æµç¨‹ï¼Œä»åº•å±‚æŠ“åŒ…åˆ°åè®®è¿˜åŸçš„å®æˆ˜æŒ‡å—"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-14T08:43:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="aiopencode"/> <meta itemprop="url" content="https://juejin.cn/user/1898230261493865"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            TCP æ•°æ®æµåˆ†æå…¨æµç¨‹ï¼Œä»åº•å±‚æŠ“åŒ…åˆ°åè®®è¿˜åŸçš„å®æˆ˜æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1898230261493865/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    aiopencode
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T08:43:35.000Z" title="Fri Nov 14 2025 08:43:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç§»åŠ¨ç«¯ä¸æœåŠ¡ç«¯è”è°ƒã€ç½‘ç»œæ€§èƒ½ä¼˜åŒ–ä»¥åŠçº¿ä¸Šæ•…éšœå®šä½ä¸­ï¼Œâ€œ<strong>TCP æ•°æ®æµåˆ†æ</strong>â€å‡ ä¹æ˜¯æœ€æ ¸å¿ƒã€æœ€èƒ½ç›´æ¥å®šä½é—®é¢˜çš„ä¸€é¡¹èƒ½åŠ›ã€‚ç›¸æ¯” HTTP æŠ“åŒ…ï¼ŒTCP æ•°æ®æµæ›´è´´è¿‘åº•å±‚ï¼šä¸‰æ¬¡æ¡æ‰‹ã€é‡ä¼ ã€æ…¢å¯åŠ¨ã€çª—å£å¤§å°ã€ç²˜åŒ…æ‹†åŒ…ã€è‡ªå®šä¹‰åè®®â€¦â€¦ä»»ä½•ä¸€ä¸ªç¯èŠ‚å¼‚å¸¸ï¼Œéƒ½å¯èƒ½å¯¼è‡´æ¥å£è¶…æ—¶ã€ä¸¢åŒ…ã€æ–­è¿æˆ–æ•°æ®é”™åºã€‚
æœ¬æ–‡ä»å·¥ç¨‹è§†è§’æ‹†è§£å®Œæ•´çš„ TCP æ•°æ®æµåˆ†ææµç¨‹ï¼Œå¹¶ç»“åˆå¸¸è§å·¥å…·çš„èŒè´£ä»‹ç»å®é™…åœºæ™¯ä¸‹å¦‚ä½•é€æ­¥å®šä½é—®é¢˜</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆå¿…é¡»åˆ†æ TCP æ•°æ®æµï¼Ÿ</h2>
<p>è®¸å¤šçº¿ä¸Šé—®é¢˜è¡¨é¢çœ‹æ˜¯â€œæ¥å£è¶…æ—¶â€â€œæ•°æ®ä¸å®Œæ•´â€â€œHTTPS æŠ¥é”™â€ï¼Œä½†æœ¬è´¨æ˜¯ TCP å±‚çš„é—®é¢˜ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>ä¸‰æ¬¡æ¡æ‰‹å»¶è¿Ÿæˆ–å¤±è´¥ï¼ˆç½‘ç»œè·¯å¾„å¼‚å¸¸ï¼‰</li>
<li>æ‹¥å¡å¯¼è‡´é‡ä¼ ç‡é«˜ï¼ˆä¸¢åŒ…ï¼‰</li>
<li>å‘é€çª—å£è¿‡å°ï¼ˆæ€§èƒ½ä¸‹é™ï¼‰</li>
<li>ç²˜åŒ…ä¸æ‹†åŒ…ï¼ˆè‡ªå®šä¹‰åè®®å¸¸è§ï¼‰</li>
<li>TLS æ¡æ‰‹å¡åœ¨ ClientHello / ServerHello</li>
</ul>
<p>ä»…çœ‹åº”ç”¨å±‚æ—¥å¿—å¾€å¾€æ— æ³•åˆ¤æ–­é—®é¢˜æ ¹æºï¼Œå¿…é¡»ä» TCP æ•°æ®æµç€æ‰‹åˆ†æã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€TCP æ•°æ®æµåˆ†æå¸¸ç”¨å·¥å…·ï¼ˆæŒ‰åŠŸèƒ½åˆ†å·¥ï¼‰</h2>






























<table><thead><tr><th>ä½œç”¨ç±»åˆ«</th><th>å·¥å…·</th><th>ç”¨é€”è¯´æ˜</th></tr></thead><tbody><tr><td><strong>åº•å±‚æŠ“åŒ…ï¼ˆæƒå¨è¯æ®ï¼‰</strong></td><td>tcpdump / tshark / Wireshark</td><td>ç”¨äºæŠ“å–å®Œæ•´ pcapï¼ŒæŸ¥çœ‹ä¸‰æ¬¡æ¡æ‰‹ã€åºåˆ—å·ã€çª—å£ã€é‡ä¼ ã€TLS æ¡æ‰‹ç»†èŠ‚ã€‚</td></tr><tr><td><strong>ä»£ç†ç±»å·¥å…·ï¼ˆä»…é€‚ç”¨äºæ˜æ–‡/è§£å¯†åï¼‰</strong></td><td>Charles / Fiddler / Proxyman / mitmproxy</td><td>åœ¨åº”ç”¨å±‚åˆ†æè¯·æ±‚å†…å®¹ï¼Œä½†æ— æ³•çœ‹åˆ°åŸå§‹ TCP è¡Œä¸ºã€‚</td></tr><tr><td><strong>è„šæœ¬åŒ–è§£æ</strong></td><td>pyshark / scapy / mitmproxy è„šæœ¬</td><td>è‡ªåŠ¨ç»Ÿè®¡ RTTã€é‡ä¼ æ¬¡æ•°ã€TLS Alertã€åŒ…å¤§å°ç­‰ã€‚é€‚åˆ CI æˆ–å¤§è§„æ¨¡åˆ†æã€‚</td></tr><tr><td><strong>è¡¥å……æ–¹æ¡ˆï¼ˆæŒ‰ App/åŸŸåè¿‡æ»¤ TCP æ•°æ®æµï¼‰</strong></td><td>æŠ“åŒ…å¤§å¸ˆï¼ˆSniffmasterï¼‰</td><td>ç”¨äºåœ¨ä¸é…ç½®ä»£ç†çš„æƒ…å†µä¸‹æŠ“å– TCP/UDP æ•°æ®æµï¼Œæ”¯æŒè¯†åˆ« HTTPS/HTTP/mdns ç­‰åè®®ã€è‡ªå®šä¹‰åè®®æŸ¥çœ‹ã€å¯¼å‡º Wireshark pcapï¼Œä»¥åŠä»¥ JS è„šæœ¬å¤„ç†è¯·æ±‚/å“åº”ã€‚</td></tr></tbody></table>
<p>Sniffmaster çš„ä¼˜åŠ¿åœ¨äºï¼š<strong>æ— éœ€ä»£ç†ã€æ— éœ€ç³»ç»Ÿè®¾ç½®</strong>å³å¯æ•è·ç§»åŠ¨ç«¯ TCP æµé‡ï¼Œæ”¯æŒæŒ‰åº”ç”¨è¿‡æ»¤ä¸å¯¼å‡º pcapï¼Œé€‚åˆè§£å†³â€œä»£ç†æ— æ³•ä½¿ç”¨â€â€œåº”ç”¨é˜»æ‹¦ä»£ç†â€â€œéœ€è¦åº•å±‚æ•°æ®æµâ€çš„åœºæ™¯ã€‚</p>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€å®Œæ•´çš„ TCP æ•°æ®æµåˆ†ææµç¨‹ï¼ˆå¯ç›´æ¥å¤ç”¨ï¼‰</h2>
<p>TCP æ•°æ®åˆ†æåˆ†ä¸ºäº”ä¸ªé˜¶æ®µï¼šæ¡æ‰‹ã€ä¼ è¾“ã€æ‹¥å¡ã€åè®®ã€åº”ç”¨ã€‚</p>
<h3 data-id="heading-3">ä¸‰æ¬¡æ¡æ‰‹ï¼ˆè¿é€šæ€§æ£€æŸ¥ï¼‰</h3>
<p>é€šè¿‡ Wireshark è¿‡æ»¤ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">tcp.flags.syn</span> == <span class="hljs-number">1</span>
</code></pre>
<p>å…³é”®ç‚¹ï¼š</p>
<ul>
<li>SYN â†’ SYN/ACK â†’ ACK æ˜¯å¦å®Œæ•´ï¼Ÿ</li>
<li>æ˜¯å¦å­˜åœ¨ SYN é‡ä¼ ï¼Ÿ</li>
<li>RTT æ˜¯å¦å¼‚å¸¸ï¼ˆè¶…è¿‡ 300ms éœ€å…³æ³¨ï¼‰ï¼Ÿ</li>
</ul>
<p>å¦‚æœä¸‰æ¬¡æ¡æ‰‹å¼‚å¸¸ï¼Œå¤šåŠæ˜¯ç½‘ç»œé“¾è·¯æˆ–é˜²ç«å¢™é—®é¢˜ã€‚</p>
<hr/>
<h3 data-id="heading-4">æ•°æ®ä¼ è¾“ï¼ˆåºåˆ—å·ã€ACKã€çª—å£ï¼‰</h3>
<p>æŸ¥çœ‹ <code>Seqã€Ack</code> æ˜¯å¦è¿ç»­ï¼š</p>
<ul>
<li>è‹¥å‡ºç° <strong>ä¹±åºï¼ˆOut-of-orderï¼‰</strong>ï¼Œè¯´æ˜ç½‘ç»œè´¨é‡è¾ƒå·®ï¼›</li>
<li>è‹¥é¢‘ç¹è§¦å‘ <strong>å¿«é€Ÿé‡ä¼ ï¼ˆFast Retransmissionï¼‰</strong>ã€<strong>RTO è¶…æ—¶é‡ä¼ </strong>ï¼Œè¯´æ˜ä¸¢åŒ…ä¸¥é‡ï¼›</li>
<li>è‹¥ <code>Window Size</code> æå°ï¼ˆå¦‚ä½äº 2000 bytesï¼‰ï¼Œè¡¨ç¤ºæ‹¥å¡æˆ–é™é€Ÿã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-5">æ‹¥å¡æ§åˆ¶ï¼ˆä¸¢åŒ…å®šä½ï¼‰</h3>
<p>ä½¿ç”¨ Wireshark çš„ TCP åˆ†æå›¾ï¼ˆStatistics â†’ TCP Stream Graphsï¼‰ã€‚
é‡ç‚¹è§‚å¯Ÿï¼š</p>
<ul>
<li>Throughputï¼ˆååå›¾ï¼‰æ˜¯å¦éª¤é™ï¼Ÿ</li>
<li>Time-Sequence Graph æ˜¯å¦å‡ºç°é¢‘ç¹å›é€€ï¼Ÿ</li>
<li>Congestion Window æ˜¯å¦ç‹‚æ‰ï¼Ÿ</li>
</ul>
<p>å¦‚æœå‡ºç°æ‹¥å¡çª—å£åå¤ä¸‹é™ï¼Œé—®é¢˜å¤šåœ¨é“¾è·¯æˆ–è´Ÿè½½å‡è¡¡è®¾å¤‡ã€‚</p>
<hr/>
<h3 data-id="heading-6">åè®®å±‚ï¼ˆè‡ªå®šä¹‰åè®®ã€æ‹†åŒ…ç²˜åŒ…ï¼‰</h3>
<p>å¯¹äºé HTTP åè®®ï¼ˆå¦‚è‡ªå®šä¹‰äºŒè¿›åˆ¶åè®®ï¼‰ï¼Œå¯é€šè¿‡ Sniffmaster æˆ– Wireshark çš„ Follow TCP Stream æŸ¥çœ‹åŸå§‹äºŒè¿›åˆ¶æµï¼Œå†æ ¹æ®åè®®å­—æ®µæ‰‹å·¥è§£æã€‚</p>
<p>Sniffmaster æ”¯æŒä»¥ <strong>åå…­è¿›åˆ¶ã€å¤šæ ¼å¼è§†å›¾</strong>æŸ¥çœ‹ TCP æ•°æ®æµï¼Œé€‚åˆå¯¹è‡ªå®šä¹‰åè®®åšé€æ®µåˆ†æã€‚</p>
<hr/>
<h3 data-id="heading-7">åº”ç”¨å±‚é—®é¢˜ï¼ˆä¸ TCP æ•°æ®å…³è”ï¼‰</h3>
<p>å¸¸è§é—®é¢˜åŒ…æ‹¬ï¼š</p>
<ul>
<li>TLS æ¡æ‰‹å¡åœ¨ ClientHello â†’ æœåŠ¡ç«¯å“åº”å»¶è¿Ÿ</li>
<li>åº”ç”¨å±‚è¶…æ—¶ï¼Œä½† TCP å±‚å…¶å®æ­£å¸¸ï¼ˆåº”ç”¨é€»è¾‘é—®é¢˜ï¼‰</li>
<li>æ•°æ®åŒ…è¿‡å¤§å¯¼è‡´ MTU åˆ†ç‰‡ï¼ˆéœ€è¦å‹ç¼©æˆ–æ‹†åˆ†ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-8">äº”ã€å·¥ç¨‹å›¢é˜Ÿåº”å¦‚ä½•æ ‡å‡†åŒ–â€œTCP æ•°æ®æµåˆ†æâ€æµç¨‹ï¼Ÿ</h2>
<p>å»ºè®®è¾“å‡ºç»Ÿä¸€æ¨¡æ¿ï¼š</p>
<h3 data-id="heading-9">æŠ“åŒ…è¾“å…¥</h3>
<ul>
<li>æ—¶é—´çª—ï¼ˆåˆ°ç§’ï¼‰</li>
<li>å®¢æˆ·ç«¯ IP / App åç§°</li>
<li>æŠ“åŒ…å·¥å…·ï¼štcpdump / Sniffmaster / Wireshark</li>
<li>ç½‘ç»œç¯å¢ƒï¼šWi-Fi/4G/5G/VPN</li>
</ul>
<h3 data-id="heading-10">åˆ†æå†…å®¹</h3>
<ul>
<li>ä¸‰æ¬¡æ¡æ‰‹ â†’ æ˜¯å¦æ­£å¸¸</li>
<li>RTT / é‡ä¼  / çª—å£å¤§å°</li>
<li>TLS æ¡æ‰‹æ˜¯å¦å®Œæ•´</li>
<li>å¼‚å¸¸åŒ…ç±»å‹ï¼ˆRSTã€FINã€Alertï¼‰</li>
<li>åº”ç”¨å±‚æ˜¯å¦è¿”å›å¼‚å¸¸</li>
</ul>
<h3 data-id="heading-11">è¾“å‡ºç»“è®º</h3>
<ul>
<li>å±äºå®¢æˆ·ç«¯ã€ç½‘ç»œã€åç«¯å“ªä¸€ä¾§</li>
<li>æä¾›å¯æ‰§è¡Œçš„ä¿®å¤å»ºè®®ï¼ˆå¦‚é™ä½åŒ…ä½“ã€ä¿®å¤è¯ä¹¦é“¾ã€ä¼˜åŒ–æœåŠ¡å™¨é˜Ÿåˆ—ï¼‰</li>
</ul>
<hr/>
<p>TCP æ•°æ®æµåˆ†ææ˜¯æ‰€æœ‰ç½‘ç»œè°ƒè¯•èƒ½åŠ›çš„åŸºç¡€ï¼Œæ˜¯åˆ¤æ–­é—®é¢˜å½’å±æœ€ç›´æ¥ã€æœ€å¯è¯æ®åŒ–çš„æ–¹å¼ã€‚
åœ¨æµç¨‹ä¸­ï¼š</p>
<ul>
<li>tcpdump + Wireshark æä¾›æœ€æƒå¨çš„åº•å±‚è¯æ®ï¼Œ</li>
<li>Charles/mitmproxy è¡¥å……åº”ç”¨å±‚å¯è§†åŒ–èƒ½åŠ›ï¼Œ</li>
<li>è€Œ æŠ“åŒ…å¤§å¸ˆ Sniffmaster è´Ÿè´£è§£å†³ä»£ç†å¤±è´¥ã€è‡ªå®šä¹‰åè®®ã€HTTPS éš¾ä»¥æŠ“å–ç­‰åœºæ™¯çš„æµé‡é‡‡é›†ä¸ pcap å¯¼å‡ºé—®é¢˜ã€‚</li>
</ul>
<p>å°†è¿™äº›å·¥å…·ç»„åˆèµ·æ¥ï¼Œä¸€å¥—ç¨³å®šå¯é çš„â€œç½‘ç»œæŠ“åŒ…åˆ†æä½“ç³»â€æ‰èƒ½çœŸæ­£è½åœ°ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸš«å¾ªç¯é‡Œå†™returnï¼Œæµè§ˆå™¨å½“åœºæ²‰é»˜ï¼]]></title>    <link>https://juejin.cn/post/7572190151352107008</link>    <guid>https://juejin.cn/post/7572190151352107008</guid>    <pubDate>2025-11-14T08:48:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572190151352107008" data-draft-id="7572382777837420584" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸš«å¾ªç¯é‡Œå†™returnï¼Œæµè§ˆå™¨å½“åœºæ²‰é»˜ï¼"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-11-14T08:48:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¹å“¥"/> <meta itemprop="url" content="https://juejin.cn/user/3659622444970574"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸš«å¾ªç¯é‡Œå†™returnï¼Œæµè§ˆå™¨å½“åœºæ²‰é»˜ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3659622444970574/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¹å“¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T08:48:37.000Z" title="Fri Nov 14 2025 08:48:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body .octicon{display:inline-block;fill:currentColor;vertical-align:text-bottom}.markdown-body .anchor{float:left;line-height:1;margin-left:-20px;padding-right:4px}.markdown-body .anchor:focus{outline:none}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#1b1f23;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h1:hover .anchor .octicon-link:before,.markdown-body h2:hover .anchor .octicon-link:before,.markdown-body h3:hover .anchor .octicon-link:before,.markdown-body h4:hover .anchor .octicon-link:before,.markdown-body h5:hover .anchor .octicon-link:before,.markdown-body h6:hover .anchor .octicon-link:before{width:16px;height:16px;content:" ";display:inline-block;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' aria-hidden='true'%3E%3Cpath fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'/%3E%3C/svg%3E")}.markdown-body{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;color:#24292e;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;font-size:16px;line-height:1.5;word-wrap:break-word}.markdown-body details{display:block}.markdown-body summary{display:list-item}.markdown-body a{background-color:initial}.markdown-body a:active,.markdown-body a:hover{outline-width:0}.markdown-body strong{font-weight:inherit;font-weight:bolder}.markdown-body h1{margin:.67em 0}.markdown-body img{border-style:none}.markdown-body code,.markdown-body kbd,.markdown-body pre{font-family:monospace,monospace;font-size:1em}.markdown-body hr{box-sizing:initial;overflow:visible}.markdown-body input{font:inherit;margin:0;overflow:visible}.markdown-body [type=checkbox]{box-sizing:border-box;padding:0}.markdown-body *{box-sizing:border-box}.markdown-body input{font-family:inherit;font-size:inherit;line-height:inherit}.markdown-body a{color:#0366d6;text-decoration:none}.markdown-body a:hover{text-decoration:underline}.markdown-body strong{font-weight:600}.markdown-body hr{height:0;margin:15px 0;overflow:hidden;background:transparent;border-bottom:1px solid #dfe2e5}.markdown-body hr:after,.markdown-body hr:before{display:table;content:""}.markdown-body hr:after{clear:both}.markdown-body table{border-spacing:0;border-collapse:collapse}.markdown-body td,.markdown-body th{padding:0}.markdown-body details summary{cursor:pointer}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:0;margin-bottom:0}.markdown-body h1{font-size:32px}.markdown-body h1,.markdown-body h2{font-weight:600}.markdown-body h2{font-size:24px}.markdown-body h3{font-size:20px}.markdown-body h3,.markdown-body h4{font-weight:600}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:14px}.markdown-body h5,.markdown-body h6{font-weight:600}.markdown-body h6{font-size:12px}.markdown-body p{margin-top:0;margin-bottom:10px}.markdown-body blockquote{margin:0}.markdown-body ol,.markdown-body ul{padding-left:0;margin-top:0;margin-bottom:0}.markdown-body ol ol,.markdown-body ul ol{list-style-type:lower-roman}.markdown-body ol ol ol,.markdown-body ol ul ol,.markdown-body ul ol ol,.markdown-body ul ul ol{list-style-type:lower-alpha}.markdown-body dd{margin-left:0}.markdown-body code,.markdown-body pre{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px}.markdown-body pre{margin-top:0;margin-bottom:0}.markdown-body input::-webkit-inner-spin-button,.markdown-body input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none;appearance:none}.markdown-body :checked+.radio-label{position:relative;z-index:1;border-color:#0366d6}.markdown-body .border{border:1px solid #e1e4e8!important}.markdown-body .border-0{border:0!important}.markdown-body .border-bottom{border-bottom:1px solid #e1e4e8!important}.markdown-body .rounded-1{border-radius:3px!important}.markdown-body .bg-white{background-color:#fff!important}.markdown-body .bg-gray-light{background-color:#fafbfc!important}.markdown-body .text-gray-light{color:#6a737d!important}.markdown-body .pl-3,.markdown-body .px-3{padding-left:16px!important}.markdown-body .px-3{padding-right:16px!important}.markdown-body .f6{font-size:12px!important}.markdown-body .lh-condensed{line-height:1.25!important}.markdown-body .text-bold{font-weight:600!important}.markdown-body .pl-c{color:#6a737d}.markdown-body .pl-c1,.markdown-body .pl-s .pl-v{color:#005cc5}.markdown-body .pl-e,.markdown-body .pl-en{color:#6f42c1}.markdown-body .pl-s .pl-s1,.markdown-body .pl-smi{color:#24292e}.markdown-body .pl-ent{color:#22863a}.markdown-body .pl-k{color:#d73a49}.markdown-body .pl-pds,.markdown-body .pl-s,.markdown-body .pl-s .pl-pse .pl-s1,.markdown-body .pl-sr,.markdown-body .pl-sr .pl-cce,.markdown-body .pl-sr .pl-sra,.markdown-body .pl-sr .pl-sre{color:#032f62}.markdown-body .pl-smw,.markdown-body .pl-v{color:#e36209}.markdown-body .pl-bu{color:#b31d28}.markdown-body .pl-ii{color:#fafbfc;background-color:#b31d28}.markdown-body .pl-c2{color:#fafbfc;background-color:#d73a49}.markdown-body .pl-c2:before{content:"^M"}.markdown-body .pl-sr .pl-cce{font-weight:700;color:#22863a}.markdown-body .pl-ml{color:#735c0f}.markdown-body .pl-mh,.markdown-body .pl-mh .pl-en,.markdown-body .pl-ms{font-weight:700;color:#005cc5}.markdown-body .pl-mi{font-style:italic;color:#24292e}.markdown-body .pl-mb{font-weight:700;color:#24292e}.markdown-body .pl-md{color:#b31d28;background-color:#ffeef0}.markdown-body .pl-mi1{color:#22863a;background-color:#f0fff4}.markdown-body .pl-mc{color:#e36209;background-color:#ffebda}.markdown-body .pl-mi2{color:#f6f8fa;background-color:#005cc5}.markdown-body .pl-mdr{font-weight:700;color:#6f42c1}.markdown-body .pl-ba{color:#586069}.markdown-body .pl-sg{color:#959da5}.markdown-body .pl-corl{text-decoration:underline;color:#032f62}.markdown-body .mb-0{margin-bottom:0!important}.markdown-body .my-2{margin-bottom:8px!important;margin-top:8px!important}.markdown-body .pl-0{padding-left:0!important}.markdown-body .py-0{padding-top:0!important;padding-bottom:0!important}.markdown-body .pl-1{padding-left:4px!important}.markdown-body .pl-2{padding-left:8px!important}.markdown-body .py-2{padding-top:8px!important;padding-bottom:8px!important}.markdown-body .pl-3{padding-left:16px!important}.markdown-body .pl-4{padding-left:24px!important}.markdown-body .pl-5{padding-left:32px!important}.markdown-body .pl-6{padding-left:40px!important}.markdown-body .pl-7{padding-left:48px!important}.markdown-body .pl-8{padding-left:64px!important}.markdown-body .pl-9{padding-left:80px!important}.markdown-body .pl-10{padding-left:96px!important}.markdown-body .pl-11{padding-left:112px!important}.markdown-body .pl-12{padding-left:128px!important}.markdown-body hr{border-bottom-color:#eee}.markdown-body kbd{display:inline-block;padding:3px 5px;font:11px SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;line-height:10px;color:#444d56;vertical-align:middle;background-color:#fafbfc;border:1px solid #d1d5da;border-radius:3px;box-shadow:inset 0 -1px 0 #d1d5da}.markdown-body:after,.markdown-body:before{display:table;content:""}.markdown-body:after{clear:both}.markdown-body&gt;:first-child{margin-top:0!important}.markdown-body&gt;:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body blockquote,.markdown-body details,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-top:0;margin-bottom:16px}.markdown-body hr{height:.25em;padding:0;margin:24px 0;background-color:#e1e4e8;border:0}.markdown-body blockquote{padding:0 1em;color:#6a737d;border-left:.25em solid #dfe2e5}.markdown-body blockquote&gt;:first-child{margin-top:0}.markdown-body blockquote&gt;:last-child{margin-bottom:0}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.markdown-body h1{font-size:2em}.markdown-body h1,.markdown-body h2{padding-bottom:.3em;border-bottom:1px solid #eaecef}.markdown-body h2{font-size:1.5em}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{font-size:.85em;color:#6a737d}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:0;margin-bottom:0}.markdown-body li{word-wrap:break-all}.markdown-body li&gt;p{margin-top:16px}.markdown-body li+li{margin-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:600}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body table{display:block;width:100%;overflow:auto}.markdown-body table th{font-weight:600}.markdown-body table td,.markdown-body table th{padding:6px 13px;border:1px solid #dfe2e5}.markdown-body table tr{background-color:#fff;border-top:1px solid #c6cbd1}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}.markdown-body img{max-width:100%;box-sizing:initial;background-color:#fff}.markdown-body img[align=right]{padding-left:20px}.markdown-body img[align=left]{padding-right:20px}.markdown-body code{padding:.2em .4em;margin:0;font-size:85%;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body pre{word-wrap:normal}.markdown-body pre&gt;code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:transparent;border:0}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f6f8fa;border-radius:3px}.markdown-body pre code{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:initial;border:0}.markdown-body .commit-tease-sha{display:inline-block;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:90%;color:#444d56}.markdown-body .full-commit .btn-outline:not(:disabled):hover{color:#005cc5;border-color:#005cc5}.markdown-body .blob-wrapper{overflow-x:auto;overflow-y:hidden}.markdown-body .blob-wrapper-embedded{max-height:240px;overflow-y:auto}.markdown-body .blob-num{width:1%;min-width:50px;padding-right:10px;padding-left:10px;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px;line-height:20px;color:rgba(27,31,35,.3);text-align:right;white-space:nowrap;vertical-align:top;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-body .blob-num:hover{color:rgba(27,31,35,.6)}.markdown-body .blob-num:before{content:attr(data-line-number)}.markdown-body .blob-code{position:relative;padding-right:10px;padding-left:10px;line-height:20px;vertical-align:top}.markdown-body .blob-code-inner{overflow:visible;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px;color:#24292e;word-wrap:normal;white-space:pre}.markdown-body .pl-token.active,.markdown-body .pl-token:hover{cursor:pointer;background:#ffea7f}.markdown-body .tab-size[data-tab-size="1"]{-moz-tab-size:1;tab-size:1}.markdown-body .tab-size[data-tab-size="2"]{-moz-tab-size:2;tab-size:2}.markdown-body .tab-size[data-tab-size="3"]{-moz-tab-size:3;tab-size:3}.markdown-body .tab-size[data-tab-size="4"]{-moz-tab-size:4;tab-size:4}.markdown-body .tab-size[data-tab-size="5"]{-moz-tab-size:5;tab-size:5}.markdown-body .tab-size[data-tab-size="6"]{-moz-tab-size:6;tab-size:6}.markdown-body .tab-size[data-tab-size="7"]{-moz-tab-size:7;tab-size:7}.markdown-body .tab-size[data-tab-size="8"]{-moz-tab-size:8;tab-size:8}.markdown-body .tab-size[data-tab-size="9"]{-moz-tab-size:9;tab-size:9}.markdown-body .tab-size[data-tab-size="10"]{-moz-tab-size:10;tab-size:10}.markdown-body .tab-size[data-tab-size="11"]{-moz-tab-size:11;tab-size:11}.markdown-body .tab-size[data-tab-size="12"]{-moz-tab-size:12;tab-size:12}.markdown-body .task-list-item{list-style-type:none}.markdown-body .task-list-item+.task-list-item{margin-top:3px}.markdown-body .task-list-item input{margin:0 .2em .25em -1.6em;vertical-align:middle}</style><style data-highlight="" data-highlight-key="github">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä»Šå¤©æˆ‘ä»¬æ¥ç›˜ä¸€ç›˜ï¼š<br/>
åœ¨ <code>forEach</code>ã€<code>map</code>ã€<code>for...in</code>ã€<code>for...of</code> ç”šè‡³ <code>some/every</code> é‡Œå†™ <code>return</code> / <code>break</code> / <code>continue</code>ï¼Œæ˜¯ä¸ªä»€ä¹ˆæƒ…å†µ</p>
<hr/>
<h2 data-id="heading-0">ğŸ§  å¯¹æ¯”</h2>





















































<table><thead><tr><th>å¾ªç¯æ–¹å¼</th><th>èƒ½å¦ break</th><th>èƒ½å¦ continue</th><th>èƒ½å¦ return</th></tr></thead><tbody><tr><td>for</td><td>âœ…</td><td>âœ…</td><td>âœ…ï¼ˆå‡½æ•°å†…ï¼‰</td></tr><tr><td>for...of</td><td>âœ…</td><td>âœ…</td><td>âœ…ï¼ˆå‡½æ•°å†…ï¼‰</td></tr><tr><td>for...in</td><td>âœ…</td><td>âœ…</td><td>âœ…ï¼ˆå‡½æ•°å†…ï¼‰</td></tr><tr><td>forEach</td><td>âŒ</td><td>âŒ</td><td>âš ï¸ ä»…è·³å‡º<em>å½“å‰</em>å›è°ƒ</td></tr><tr><td>map</td><td>âŒ</td><td>âŒ</td><td>âš ï¸ ä»…è·³å‡º<em>å½“å‰</em>å›è°ƒ</td></tr><tr><td>some</td><td>âœ…ï¼ˆreturn trueï¼‰</td><td>âŒ</td><td>âœ… æå‰ç»ˆæ­¢</td></tr><tr><td>every</td><td>âœ…ï¼ˆreturn falseï¼‰</td><td>âŒ</td><td>âœ… æå‰ç»ˆæ­¢</td></tr></tbody></table>
<p>æ€»ç»“ï¼š<br/>
<strong><code>forEach</code> / <code>map</code> çš„å›è°ƒå‡½æ•°é‡Œå†™ <code>return</code> åªæ˜¯â€œè·³è¿‡æœ¬æ¬¡â€ï¼Œå†™ <code>break</code> ç›´æ¥è¯­æ³•æŠ¥é”™ï¼</strong><br/>
å› ä¸ºå®ƒä»¬æœ¬è´¨æ˜¯â€œé«˜é˜¶å‡½æ•°â€ï¼Œä½ æŠŠå›è°ƒäº¤ç»™å®ƒï¼Œå®ƒå†…éƒ¨å¸®ä½ æŠŠå¾ªç¯è·‘å®Œï¼Œ<strong>ä½ æ²¡èµ„æ ¼å–Šåœ</strong> ğŸ™…â€â™‚ï¸</p>
<hr/>
<h2 data-id="heading-1">ğŸ§ª å®æˆ˜ç¤ºä¾‹ï¼ˆå«ä»£ç ï¼‰</h2>
<h3 data-id="heading-2">1ï¸âƒ£  break</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// âŒ é”™è¯¯ç¤ºèŒƒï¼šSyntaxError: Illegal break statement</span>
[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">n</span> =&gt;</span> {
  <span class="hljs-keyword">if</span> (n === <span class="hljs-number">2</span>) <span class="hljs-keyword">break</span>; <span class="hljs-comment">// æŠ¥é”™ï¼</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(n);
});
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d4f1d5e56909433f9a0285c610847164~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5Lmd5ZOl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763714916&amp;x-signature=%2FmN6MJ91oK4D7jCxO8oJUZolVuQ%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-3">2ï¸âƒ£  return</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// âš ï¸ ä½ ä»¥ä¸ºçš„â€œbreakâ€</span>
[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>].<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">n</span> =&gt;</span> {
  <span class="hljs-keyword">if</span> (n === <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span>; <span class="hljs-comment">// åªè·³è¿‡ 2ï¼Œç»§ç»­è·‘ 3ã€4</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸš€'</span>, n);
});
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1a15f85fc6ad41278697aa12f33647eb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5Lmd5ZOl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763714916&amp;x-signature=Vqv%2BC5auCAoTOaxsATwdZhHnit0%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-4">3ï¸âƒ£ æ­£ç¡®æå‰ç»ˆæ­¢å§¿åŠ¿ï¼šsome / every</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// âœ… æ‰¾åˆ° 2 å°±åœ</span>
[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>].<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">n</span> =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸ”'</span>, n);
  <span class="hljs-keyword">return</span> n === <span class="hljs-number">2</span>; <span class="hljs-comment">// true â†’ ç»ˆæ­¢å¾ªç¯</span>
});

<span class="hljs-comment">// âœ… é‡åˆ°éå¶æ•°å°±åœ</span>
[<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>].<span class="hljs-title function_">every</span>(<span class="hljs-function"><span class="hljs-params">n</span> =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'âœ¨'</span>, n);
  <span class="hljs-keyword">return</span> n % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>; <span class="hljs-comment">// false â†’ ç»ˆæ­¢å¾ªç¯</span>
});
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d5fe91d6f1c14613ac1b5cd5e113f224~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5Lmd5ZOl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763714916&amp;x-signature=PJ%2FSXhE75WwX6kyx%2FBhWvVFe%2F8w%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-5">4ï¸âƒ£ è€æ´¾ for...of ä¸æ»‘å¯æ§</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> n <span class="hljs-keyword">of</span> [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]) {
  <span class="hljs-keyword">if</span> (n === <span class="hljs-number">2</span>) <span class="hljs-keyword">break</span>; <span class="hljs-comment">// çœŸÂ·break</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸ¯'</span>, n);
}
<span class="hljs-comment">// è¾“å‡ºï¼šğŸ¯ 1</span>
</code></pre>
<h2 data-id="heading-6"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5a45725ebefb44c196ad51734c57d49b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5Lmd5ZOl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763714916&amp;x-signature=rSPDPkgfqB9Xw7OWW74O5QDrOAE%3D" alt="image.png" loading="lazy"/></h2>
<h2 data-id="heading-7">âš™ï¸ ä¼˜åŒ–æŠ€å·§ / è¸©å‘ç»éªŒ</h2>
<ul>
<li>
<p>âœ… <strong>éœ€è¦æå‰è·³å‡ºï¼Ÿ</strong><br/>
ä¼˜å…ˆ <code>for...of</code> / <code>some</code> / <code>every</code>ï¼Œåˆ«è®© <code>forEach</code> ç¡¬æ’‘ã€‚</p>
</li>
<li>
<p>âš ï¸ <strong>é“¾å¼è°ƒç”¨è¿˜æƒ³ breakï¼Ÿ</strong><br/>
å…ˆ <code>filter</code> å† <code>forEach</code>ï¼Œæˆ–è€…å¹²è„† <code>for...of</code> ä¸€æŠŠæ¢­ã€‚</p>
</li>
<li>
<p>ğŸ” <strong>è°ƒè¯•ä¼šé‡åˆ°çš„é—®é¢˜</strong><br/>
åœ¨ <code>forEach</code> å›è°ƒé‡Œæ‰“ <code>debugger</code>ï¼Œä½ ä¼šå‘ç°å®ƒ<strong>æ— è®ºå¦‚ä½•éƒ½ä¼šæŠŠæ‰€æœ‰å…ƒç´ è·‘å®Œ</strong>ï¼Œå°±ç®—ä½ å·²ç»â€œreturnâ€äº†â€”â€”å› ä¸º<strong>å¾ªç¯æ§åˆ¶æƒä¸åœ¨ä½ æ‰‹ä¸Š</strong>ã€‚</p>
</li>
</ul>
<hr/>
<p>å¦‚æœæœ¬æ–‡å¸®ä½ çœäº†ä¸€æ¬¡çº¿ä¸Šç¿»è½¦ï¼Œæ¬¢è¿ï¼š</p>
<ul>
<li>ç‚¹ä¸ªèµ ğŸ‘</li>
<li>æ”¶è—èµ·æ¥ç”©ç»™åŒäº‹ ğŸ»</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‘Šåˆ«â€œæ‹¼æ¥â€ï¼Œè¿ˆå…¥â€œåŸç”Ÿâ€ï¼šæ–‡å¿ƒ5.0å¦‚ä½•ç”¨ã€ŒåŸç”Ÿå…¨æ¨¡æ€ã€é‡å¡‘AIå¤©èŠ±æ¿ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7572387877138333706</link>    <guid>https://juejin.cn/post/7572387877138333706</guid>    <pubDate>2025-11-14T08:55:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572387877138333706" data-draft-id="7572340344509186074" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‘Šåˆ«â€œæ‹¼æ¥â€ï¼Œè¿ˆå…¥â€œåŸç”Ÿâ€ï¼šæ–‡å¿ƒ5.0å¦‚ä½•ç”¨ã€ŒåŸç”Ÿå…¨æ¨¡æ€ã€é‡å¡‘AIå¤©èŠ±æ¿ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-11-14T08:55:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æµªé‡Œè¡ŒèˆŸ"/> <meta itemprop="url" content="https://juejin.cn/user/4283353031252967"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‘Šåˆ«â€œæ‹¼æ¥â€ï¼Œè¿ˆå…¥â€œåŸç”Ÿâ€ï¼šæ–‡å¿ƒ5.0å¦‚ä½•ç”¨ã€ŒåŸç”Ÿå…¨æ¨¡æ€ã€é‡å¡‘AIå¤©èŠ±æ¿ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4283353031252967/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æµªé‡Œè¡ŒèˆŸ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T08:55:18.000Z" title="Fri Nov 14 2025 08:55:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å½“è¡Œä¸šè¿˜åœ¨è®¨è®ºå¦‚ä½•å°†æ–‡æœ¬ã€å›¾åƒã€éŸ³é¢‘ç­‰ä¸åŒèƒ½åŠ›çš„æ¨¡å‹â€œæ‹¼æ¥â€å¾—æ›´ä¸æ»‘æ—¶ï¼Œç™¾åº¦æ–‡å¿ƒå¤§æ¨¡å‹5.0ï¼ˆä»¥ä¸‹ç®€ç§°â€œæ–‡å¿ƒ5.0â€ï¼‰å·²ç»æ‚„ç„¶æ‹‰å¼€äº†ä¸‹ä¸€ä¸ªæ—¶ä»£çš„åºå¹•â€”â€”<strong>åŸç”Ÿå…¨æ¨¡æ€ï¼ˆNative All-Modalityï¼‰</strong> ã€‚è¿™ä¸ä»…æ˜¯ä¸€æ¬¡å‚æ•°é‡çš„çº§æ•°å¢é•¿ï¼Œæ›´æ˜¯ä¸€åœºä»åº•å±‚æ¶æ„å‘èµ·çš„AIè®¤çŸ¥é©å‘½ã€‚</p>
<p>å®ƒç©¶ç«Ÿâ€œå«é‡‘é‡â€ä½•åœ¨ï¼Ÿè®©æˆ‘ä»¬ä»æŠ€æœ¯æ¶æ„çš„é¢ è¦†å’Œèƒ½åŠ›è·ƒå‡çš„å®è¯ä¸­ï¼Œä¸€æ¢ç©¶ç«Ÿã€‚</p>
<h2 data-id="heading-0">æŠ€æœ¯å«é‡‘é‡ï¼šéæ‹¼æ¥åŸç”Ÿæ¶æ„ï¼Œä»æ ¹æºä¸Šç»Ÿä¸€AIçš„â€œå¬è¯´è¯»å†™çœ‹â€</h2>
<p>è¿‡å»çš„å¤šæ¨¡æ€æ¨¡å‹ï¼Œæ›´åƒä¸€ä¸ªâ€œåä½œå›¢é˜Ÿâ€ï¼šè¯­è¨€ã€å›¾åƒã€å£°éŸ³æ¨¡å‹å„å¸å…¶èŒï¼Œæœ€åé€šè¿‡â€œèåˆå±‚â€æ±‡æ€»ã€‚è¿™ç§â€œæ‹¼æ¥å¼â€æ¶æ„å¤©ç”Ÿå­˜åœ¨ä¿¡æ¯æŸè€—ï¼Œå¯¼è‡´AIçš„ç†è§£å’Œç”Ÿæˆå¸¸å¸¸â€œè²Œåˆç¥ç¦»â€ã€‚</p>
<p>æ–‡å¿ƒ5.0åˆ™å½»åº•æ‰“ç ´äº†è¿™ä¸€æ¨¡å¼ï¼Œå…¶æ ¸å¿ƒæŠ€æœ¯å«é‡‘é‡ä½“ç°åœ¨ï¼š</p>
<p><strong>1. æ¶æ„ä¹‹å·…ï¼šçœŸæ­£çš„â€œåŸç”Ÿâ€ä¸â€œä¸€ä½“åŒ–â€</strong></p>
<p>æ–‡å¿ƒ5.0è‡ªè®­ç»ƒä¹‹åˆï¼Œå°±åœ¨ä¸€ä¸ªç»Ÿä¸€çš„æ¨¡å‹ä¸­å¤„ç†æ‰€æœ‰æ¨¡æ€çš„æ•°æ®ï¼Œå¦‚åŒäººç±»å¤§è„‘åœ¨ä¸€ä¸ªç»Ÿä¸€çš„è®¤çŸ¥ç³»ç»Ÿä¸­åŒæ­¥å¤„ç†æ‰€æœ‰æ„Ÿå®˜ä¿¡æ¯ã€‚å®ƒæˆåŠŸå…‹æœäº†è¡Œä¸šæ™®éé¢ä¸´çš„<strong>å¤šæ¨¡æ€ç†è§£ä¸ç”Ÿæˆä¸€ä½“åŒ–</strong>çš„å›°éš¾ï¼Œè®©æ¨¡å‹æ—¢èƒ½â€œçœ‹æ‡‚ä¸‡ç‰©â€ï¼Œåˆèƒ½â€œåˆ›é€ ä¸‡ç‰©â€ï¼Œä¸”ä¸¤è€…èƒ½åŠ›åŒæ­¥è¿›åŒ–ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/452c8986eb5445219ba6f68b3a9134c1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rWq6YeM6KGM6Iif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715317&amp;x-signature=C0oUa9am%2Fu6qFXiMJe1MSFkfqoE%3D" alt="" loading="lazy"/></p>
<p><strong>2. è§„æ¨¡ä¹‹æœ€ï¼šè¶…2ä¸‡äº¿å‚æ•°ï¼Œå¥ å®šèƒ½åŠ›åŸºçŸ³</strong></p>
<p>åŸºäºé£æ¡¨æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼Œæ–‡å¿ƒ5.0æ¨¡å‹æ€»å‚æ•°è§„æ¨¡è¶…è¿‡<strong>2ä¸‡äº¿</strong>ï¼Œæ˜¯ç›®å‰å…¨çƒå·²å…¬å¼€å‚æ•°çš„æ¨¡å‹ä¹‹æœ€ã€‚åŒæ—¶ï¼Œå®ƒé‡‡ç”¨<strong>è¶…å¤§è§„æ¨¡æ··åˆä¸“å®¶ï¼ˆMoEï¼‰æ¨¡å‹ç»“æ„</strong>ï¼Œåœ¨ä¿è¯é¡¶å°–æ€§èƒ½çš„åŒæ—¶ï¼Œæå¤§åœ°é™ä½äº†è®¡ç®—å’Œæ¨ç†æˆæœ¬ï¼Œè®©è¶…å¤§æ¨¡å‹å˜å¾—æ›´â€œå¯ç”¨â€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/15bee4823ba84060b9524bbd8fe1954c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rWq6YeM6KGM6Iif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715317&amp;x-signature=EjSYVhUt4pKTxfsOblWL0%2BGFMzU%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">ä»·å€¼å«é‡‘é‡ï¼šä¸æ­¢â€œçœ‹æ‡‚â€ï¼Œæ›´èƒ½â€œçœ‹é€â€ï¼ŒåŸç”Ÿæ¶æ„å¸¦æ¥çš„èƒ½åŠ›é£è·ƒ</h2>
<p>åŸç”Ÿå…¨æ¨¡æ€æ¶æ„è®©æ–‡å¿ƒ5.0åœ¨ç†è§£å’Œæ¨ç†ä¸Šï¼Œå±•ç°å‡ºè¿œè¶…â€œæ‹¼æ¥â€æ¨¡å‹çš„æ·±åº¦ä¸æ™ºæ…§ã€‚</p>
<h3 data-id="heading-2">1ï¸âƒ£ è·¨æ¨¡æ€ç†è§£ä¸ç”Ÿæˆï¼šä»ä¸€å¥è¯åˆ°ä¸€éƒ¨â€œå®‡å®™å¤§ç‰‡â€</h3>
<p>æ–‡å¿ƒ5.0å¼ºå¤§çš„åŸç”Ÿå…¨æ¨¡æ€èƒ½åŠ›ï¼Œæ‰“é€šäº†ä»æ–‡æœ¬ç†è§£åˆ°å¤æ‚åŠ¨æ€è§†è§‰ç”Ÿæˆçš„é“¾è·¯ï¼Œè®©åˆ›æ„çœŸæ­£â€œä¸€è¯­æˆçœŸâ€ã€‚</p>
<p><strong>Caseå±•ç¤ºï¼š</strong> è¾“å…¥æŒ‡ä»¤â€œæ¨¡æ‹Ÿå¤ªé˜³ç³»ï¼Œ8å¤§è¡Œæ˜Ÿå›´ç»•å¤ªé˜³æ—‹è½¬ï¼Œé•œå¤´æ‹‰è¿‘åœ°çƒâ€ã€‚</p>
<ul>
<li><strong>æ–‡å¿ƒ5.0çš„ç”Ÿæˆ</strong>ï¼šæ¨¡å‹ç²¾å‡†åœ°ç†è§£äº†æŒ‡ä»¤ä¸­çš„å¤šä¸ªæ ¸å¿ƒè¦ç´ ï¼šâ€œå¤ªé˜³ç³»â€è¿™ä¸€å¤©æ–‡æ¦‚å¿µã€â€œ8å¤§è¡Œæ˜Ÿâ€çš„å…·ä½“æ•°é‡ã€â€œå›´ç»•æ—‹è½¬â€çš„è¿åŠ¨å…³ç³»ï¼Œä»¥åŠâ€œé•œå¤´æ‹‰è¿‘åœ°çƒâ€çš„è¿é•œæŒ‡ä»¤ã€‚æœ€ç»ˆï¼Œå®ƒä¸ä»…ç”Ÿæˆäº†ä¸€ä¸ªç¬¦åˆå¤©æ–‡å­¦å¸¸è¯†çš„3Då¤ªé˜³ç³»åŠ¨æ€æ¨¡å‹ï¼Œè¿˜å®Œç¾æ‰§è¡Œäº†å¤æ‚çš„é•œå¤´è¯­è¨€ï¼Œå‘ˆç°å‡ºä¸€æ®µæå…·è§†è§‰å†²å‡»åŠ›çš„â€œå®‡å®™å¤§ç‰‡â€ç‰‡æ®µã€‚</li>
</ul>
<p><strong>èƒ½åŠ›è·ƒå‡</strong>ï¼šè¿™èƒŒåæ˜¯æ–‡å¿ƒ5.0å¯¹<strong>ç‰©ç†è§„å¾‹ã€ç©ºé—´å…³ç³»å’Œä¸“ä¸šæŒ‡ä»¤</strong>çš„æ·±åº¦ç†è§£ï¼Œå¹¶å°†å…¶æ— ç¼è½¬åŒ–ä¸ºè¿è´¯ã€ç²¾å‡†çš„åŠ¨æ€è§†è§‰å†…å®¹ã€‚è¿™ç§ä»æŠ½è±¡æ¦‚å¿µåˆ°å…·ä½“ç”»é¢çš„ç”Ÿæˆèƒ½åŠ›ï¼Œæ˜¯åŸç”Ÿå…¨æ¨¡æ€æ¶æ„â€œç†è§£ä¸ç”Ÿæˆä¸€ä½“åŒ–â€çš„æœ€ä½³ä½“ç°ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f5c9e2a8d462448b8b9ce84b4a6335f7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rWq6YeM6KGM6Iif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715317&amp;x-signature=yEJ%2Bk48RJ4PcO8IbqFsGrAr2%2B5c%3D" alt="" loading="lazy"/></p>
<p><em><strong>æ–‡å­—è¯´æ˜</strong></em> <em>ï¼šæ–‡å¿ƒ5.0å°†ä¸€å¥ç®€å•çš„æ–‡æœ¬æŒ‡ä»¤ï¼Œè½¬åŒ–ä¸ºä¸€ä¸ªåŒ…å«å¤æ‚ç©ºé—´å…³ç³»å’ŒåŠ¨æ€é•œå¤´çš„3Dæ¨¡æ‹Ÿè§†é¢‘ï¼Œå±•ç°äº†å…¶å¼ºå¤§çš„è·¨æ¨¡æ€ç†è§£ä¸ç”Ÿæˆèƒ½åŠ›ã€‚</em></p>
<h3 data-id="heading-3">2ï¸âƒ£ è·¨ç•Œæ¨ç†ï¼šè¯†ç ´â€œçœ¼è§ä¸ä¸ºå®â€çš„è¿·å±€</h3>
<p>å½“ç”»é¢ä¿¡æ¯éœ€è¦èƒŒæ™¯çŸ¥è¯†æ‰èƒ½æ­£ç¡®ç†è§£æ—¶ï¼Œæ›´èƒ½è€ƒéªŒæ¨¡å‹çš„ç»¼åˆæ¨ç†èƒ½åŠ›ã€‚</p>
<p><strong>Caseå±•ç¤ºï¼š</strong> ä¸€å¼ é©¬æ–¯å…‹ä¸ã€Šç–¯ç‹‚åŠ¨ç‰©åŸã€‹æœ±è¿ªè­¦å®˜æ¡æ‰‹çš„å›¾ç‰‡ã€‚</p>
<ul>
<li><strong>ä¼ ç»Ÿæ¨¡å‹å¯èƒ½ä¼šè¢«è¯¯å¯¼</strong>ï¼ŒæŠ¥å‘Šï¼šâ€œä¸€ä¸ªç”·äººæ­£åœ¨å’Œä¸€ä¸ªç©¿ç€è­¦å¯Ÿåˆ¶æœçš„å…”å­äººå¶æ¡æ‰‹ã€‚â€</li>
<li><strong>æ–‡å¿ƒ5.0åˆ™èƒ½ç»™å‡ºæ›´æ·±åº¦çš„åˆ¤æ–­</strong>ï¼šâ€œè¿™å¼ å›¾ç‰‡è®°å½•äº†ä¸€ä¸ªæœ‰è¶£çš„è·¨æ¬¡å…ƒäº’åŠ¨ç¬é—´ã€‚å›¾ä¸­çš„ç”·æ€§æ˜¯ç°å®ä¸–ç•Œçš„çŸ¥åä¼ä¸šå®¶åŸƒéš†Â·é©¬æ–¯å…‹ï¼Œè€Œä»–èº«è¾¹çš„åˆ™æ˜¯è¿ªå£«å°¼åŠ¨ç”»ç”µå½±ã€Šç–¯ç‹‚åŠ¨ç‰©åŸã€‹ä¸­çš„ä¸»è§’æœ±è¿ªÂ·éœæ™®æ–¯è­¦å®˜ã€‚æ¨¡å‹é€šè¿‡å¼ºå¤§çš„å›¾æ–‡çŸ¥è¯†åº“ï¼Œè¯†åˆ«å‡ºä¸¤ä¸ªè§’è‰²çš„èº«ä»½ï¼Œå¹¶æ¨ç†å‡ºè¿™å¹¶éçœŸå®æ‰§æ³•åœºæ™¯ï¼Œè€Œæ›´å¯èƒ½æ˜¯ä¸€åœºå“ç‰Œæ´»åŠ¨æˆ–ä¸»é¢˜å…¬å›­å†…çš„åˆå½±ã€‚å®ƒæ²¡æœ‰è¢«å•ä¸€çš„è§†è§‰ä¿¡æ¯è¯¯å¯¼ï¼Œè€Œæ˜¯è¿›è¡Œäº†è·¨æ¨¡æ€çš„ç»¼åˆæ¨ç†ï¼Œå¾—å‡ºäº†æ›´æ¥è¿‘äº‹å®çš„æœ‰è¶£è§£è¯»ã€‚â€</li>
</ul>
<p><strong>èƒ½åŠ›è·ƒå‡</strong>ï¼šæ–‡å¿ƒ5.0åœ¨ç»¼åˆæ¨ç†æ–¹é¢æ›´å¼ºï¼Œèƒ½<strong>è°ƒç”¨èƒŒæ™¯çŸ¥è¯†ï¼Œä¸å®¹æ˜“è¢«å•ä¸€æ¨¡æ€è¯¯å¯¼</strong>ï¼Œèƒ½ä»å¤šè§’åº¦è§£é‡Šç”»é¢çš„åˆç†æ€§ï¼Œå¤ç°å®Œæ•´ä¸”å¤æ‚çš„æƒ…èŠ‚ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a9ed2e2513a8450baf9fce65a67190ff~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rWq6YeM6KGM6Iif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715317&amp;x-signature=jGAyyEgyf7rv1GcA0tzzHOLD7fM%3D" alt="" loading="lazy"/></p>
<p><em><strong>æ–‡å­—è¯´æ˜</strong></em> <em>ï¼šé¢å¯¹é©¬æ–¯å…‹ä¸å¡é€šäººç‰©çš„åˆå½±ï¼Œæ–‡å¿ƒ5.0å±•ç°å‡ºå¼ºå¤§çš„ç»¼åˆæ¨ç†ä¸åˆ¤åˆ«åŠ›ï¼Œé€šè¿‡è°ƒç”¨å…¶åºå¤§çš„çŸ¥è¯†åº“ï¼Œå‡†ç¡®è¯†åˆ«äº†äººç‰©èº«ä»½å’Œåœºæ™¯æ€§è´¨ï¼Œé¿å…äº†å­—é¢åŒ–çš„é”™è¯¯è§£è¯»ã€‚</em></p>
<h3 data-id="heading-4">3ï¸âƒ£ å›¾åƒä¸ç»†èŠ‚æ•æ‰ï¼šè¿äººç‰©çš„å¾®è¡¨æƒ…éƒ½å°½åœ¨æŒæ¡</h3>
<p>çœŸæ­£é«˜çº§çš„AIï¼Œä¸ä»…èƒ½è¯†åˆ«æƒ…ç»ªï¼Œæ›´èƒ½ç†è§£æƒ…ç»ªèƒŒåçš„å¤æ‚æˆå› ã€‚æ–‡å¿ƒ5.0åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œå±•ç°äº†æƒŠäººçš„â€œæƒ…å•†â€å’Œæ¨ç†èƒ½åŠ›ã€‚</p>
<p><strong>Caseå±•ç¤ºï¼š</strong> é¢å¯¹ä¸€å¼ äººç‰©åœ¨é¢å¥–å…¸ç¤¼ä¸Šè¡¨æƒ…å¹³æ·¡çš„ç…§ç‰‡ï¼Œå½“è¢«é—®åŠâ€œä»–ä¸ºä»€ä¹ˆæ˜¾å¾—ä¸å¼€å¿ƒï¼Ÿâ€æ—¶ï¼Œä¼ ç»Ÿæ¨¡å‹å¯èƒ½ä¼šç®€å•å›ç­”â€œä»–çœ‹èµ·æ¥å¾ˆä¸¥è‚ƒâ€æˆ–â€œä»–å¯èƒ½ä¸é«˜å…´â€ã€‚</p>
<p>è€Œæ–‡å¿ƒ5.0çš„å›ç­”åˆ™å±•ç°äº†æˆªç„¶ä¸åŒçš„æ·±åº¦ï¼š</p>
<p>å®ƒæ²¡æœ‰ç»™å‡ºä¸€ä¸ªè‰ç‡çš„ç»“è®ºï¼Œè€Œæ˜¯ä»å››ä¸ªå±‚æ¬¡ï¼Œæœ‰ç†æœ‰æ®åœ°å±•å¼€äº†ä¸€åœº <strong>â€œå¯èƒ½æ€§æ¨ç†â€</strong> ï¼š</p>
<ol>
<li><strong>æ€§æ ¼ä¸è¡¨è¾¾é£æ ¼ï¼š</strong> æŒ‡å‡ºå¯èƒ½æ˜¯äººç‰©æ€§æ ¼å†…æ•›ï¼Œä¸ä¹ æƒ¯å¤–éœ²æƒ…ç»ªã€‚</li>
<li><strong>å¯¹å¥–é¡¹çš„å¤æ‚æ„Ÿå—ï¼š</strong> æ¨ç†äº†â€œæ„å¤–è·å¥–çš„å—å® è‹¥æƒŠâ€ã€â€œæœŸå¾…å†…å°šæœ‰é—æ†¾â€ç”šè‡³â€œå¯¹å¥–é¡¹æœ¬èº«æœ‰å¤æ‚çœ‹æ³•â€ç­‰å¤šç§çŸ›ç›¾å¿ƒç†ã€‚</li>
<li><strong>ç°åœºæƒ…å¢ƒä¸æƒ…ç»ªå¹²æ‰°ï¼š</strong> è€ƒè™‘äº†é¢å¥–å‰åçš„ç–²æƒ«ã€å‹åŠ›ç­‰å¤–éƒ¨ç¯å¢ƒå› ç´ ã€‚</li>
<li><strong>è¡¨æƒ…ç®¡ç†çš„â€œæƒ¯æ€§â€ï¼š</strong> æå‡ºäº†å…¬ä¼—äººç‰©å¯èƒ½å­˜åœ¨çš„â€œè¡¨æƒ…ç®¡ç†â€ï¼Œå³ç”¨åº„é‡æ„Ÿæ›¿ä»£å¤–æ”¾å–œæ‚¦çš„ä¹ æƒ¯ã€‚</li>
</ol>
<p>æœ€åï¼Œå®ƒè¿˜å®¡æ…åœ°è¡¥å……é“ï¼š <strong>â€œå•å¼ ç…§ç‰‡çš„è¡¨æƒ…æ— æ³•å®Œå…¨ä»£è¡¨å†…å¿ƒçœŸå®æƒ…ç»ªâ€</strong> ï¼Œéœ€è¦æ›´å¤šèƒŒæ™¯ä¿¡æ¯æ‰èƒ½æ˜ç¡®åŸå› ã€‚</p>
<p><strong>èƒ½åŠ›è·ƒå‡</strong>ï¼šæ–‡å¿ƒ5.0èƒ½æ›´å…¨é¢åœ°æ•æ‰<strong>äººç‰©å¾®è¡¨æƒ…ã€ç€è£…ã€ç¥æ€ã€åŠ¨ä½œç»†èŠ‚</strong>ï¼Œç»“åˆå‰§æƒ…ä¸Šä¸‹æ–‡ï¼Œå®ç°å¯¹äººç‰©å†…å¿ƒä¸–ç•Œå’Œæƒ…ç»ªæ°›å›´çš„ç²¾å‡†æ„ŸçŸ¥ã€‚</p>
<p>åŸç”Ÿå…¨æ¨¡æ€æ¶æ„è®©æ–‡å¿ƒ5.0åœ¨ç†è§£å’Œæ¨ç†ä¸Šï¼Œå±•ç°å‡ºè¿œè¶…â€œæ‹¼æ¥â€æ¨¡å‹çš„æ·±åº¦ä¸æ™ºæ…§ã€‚å®ƒä¸å†æ˜¯ç®€å•åœ°æè¿°â€œå›¾ç‰‡é‡Œæœ‰ä»€ä¹ˆâ€ï¼Œè€Œæ˜¯èƒ½å¤Ÿåƒä¸€ä¸ªå…·å¤‡ç¤¾ä¼šç»éªŒå’ŒåŒç†å¿ƒçš„è§‚å¯Ÿè€…ï¼Œè¿›è¡Œæ·±åº¦åˆ†æã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/10ad99b8cc474fbd87221e4b27d2d5ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rWq6YeM6KGM6Iif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715317&amp;x-signature=d9E5d69S4Ts%2BQYRfFsefbK34Yrs%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-5">4ï¸âƒ£ é£æ ¼åŒ–åˆ›ä½œï¼šä¸€å¥è¯å¤åˆ»ç»å…¸è§†è§‰é£æ ¼</h3>
<p>é™¤äº†ç²¾å‡†ç”Ÿæˆï¼Œæ–‡å¿ƒ5.0è¿˜èƒ½æ·±åº¦ç†è§£å¹¶å¤åˆ»ç‰¹å®šçš„è§†è§‰é£æ ¼ï¼Œå±•ç°å‡ºå“è¶Šçš„è‰ºæœ¯åˆ›ä½œæ½œåŠ›ã€‚</p>
<p><strong>Caseå±•ç¤ºï¼š</strong> è¾“å…¥æŒ‡ä»¤â€œç”Ÿæˆä¸€ä¸ªNetflixé£æ ¼çš„å¼€åœºåŠ¨ç”»â€ã€‚</p>
<ul>
<li><strong>æ–‡å¿ƒ5.0çš„ç”Ÿæˆ</strong>ï¼šæ¨¡å‹ä¸ä»…æ˜¯ç”Ÿæˆäº†ä¸€ä¸ªâ€œåŠ¨ç”»â€ï¼Œè€Œæ˜¯ç²¾å‡†æ•æ‰å¹¶å¤åˆ»äº†Netflixå¼€åœºåŠ¨ç”»çš„<strong>æ ¸å¿ƒè§†è§‰å…ƒç´ ä¸é£æ ¼</strong>ï¼šæ ‡å¿—æ€§çš„çº¢åº•ã€å­—æ¯â€œNâ€çš„åŠ¨æ€æ¼”ç»ã€ä»¥åŠå¯Œæœ‰å±‚æ¬¡æ„Ÿçš„å…‰å½±æ•ˆæœã€‚æ•´ä¸ªåŠ¨ç”»çš„èŠ‚å¥ã€è‰²å½©å’ŒåŠ¨æ€æ•ˆæœéƒ½é«˜åº¦è¿˜åŸäº†åŸç‰ˆçš„â€œå‘³é“â€ã€‚</li>
</ul>
<p><strong>èƒ½åŠ›è·ƒå‡</strong>ï¼šè¿™è¯æ˜äº†æ–‡å¿ƒ5.0ä¸ä»…èƒ½ç†è§£æŒ‡ä»¤çš„å­—é¢æ„æ€ï¼Œæ›´èƒ½æ·±å…¥åˆ°<strong>å“ç‰Œè§†è§‰è¯­è¨€ã€è®¾è®¡é£æ ¼</strong>ç­‰æ›´æŠ½è±¡ã€æ›´è‰ºæœ¯çš„å±‚é¢ã€‚åŸç”Ÿå…¨æ¨¡æ€æ¶æ„ä½¿å…¶èƒ½å¤Ÿå­¦ä¹ å¹¶æ¨¡ä»¿æµ·é‡çš„è§†è§‰é£æ ¼ï¼Œä¸ºå†…å®¹åˆ›ä½œã€å“ç‰Œè®¾è®¡ç­‰é¢†åŸŸæä¾›äº†å‰æ‰€æœªæœ‰çš„æ•ˆç‡å’Œåˆ›æ„ç©ºé—´ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4ca8bbd8a3c24d8aa1e5e8b0ac816927~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rWq6YeM6KGM6Iif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715317&amp;x-signature=W%2BSfic2hzy8Eh1Freh0qjEr1YFg%3D" alt="" loading="lazy"/></p>
<p><em><strong>æ–‡å­—è¯´æ˜</strong></em> <em>ï¼šæ–‡å¿ƒ5.0ç²¾å‡†ç†è§£å¹¶å¤åˆ»äº†Netflixçš„ç»å…¸è§†è§‰é£æ ¼ï¼Œè¯æ˜å…¶ä¸ä»…èƒ½â€œå¬æ‡‚è¯â€ï¼Œæ›´èƒ½â€œæ‡‚å“å‘³â€ï¼Œåœ¨é£æ ¼åŒ–åˆ›ä½œä¸Šæ½œåŠ›å·¨å¤§ã€‚</em></p>
<h2 data-id="heading-6">è¡Œä¸šä»·å€¼ï¼šä»æŠ€æœ¯çªç ´åˆ°äº§ä¸šèµ‹èƒ½</h2>
<p>ã€ŒåŸç”Ÿå…¨æ¨¡æ€ã€çš„ä»·å€¼æœ€ç»ˆè¦ä½“ç°åœ¨äº§ä¸šåº”ç”¨ä¸­ã€‚å±¡åˆ›çºªå½•çš„<strong>æ…§æ’­æ˜Ÿé«˜è¯´æœåŠ›æ•°å­—äºº</strong>ï¼Œæ­£æ˜¯è¿™é¡¹æŠ€æœ¯è½åœ°ä»·å€¼çš„æœ€ä½³è¯ é‡Šã€‚</p>
<p>åŸºäºæ–‡å¿ƒå¤§æ¨¡å‹åŸç”Ÿå…¨æ¨¡æ€èƒ½åŠ›çš„æ•°å­—äººï¼Œæ›´åƒä¸€ä¸ªæ‹¥æœ‰<strong>ç»Ÿä¸€å¤§è„‘çš„â€œæ™ºæ…§ç”Ÿå‘½ä½“â€</strong> ã€‚å®ƒèƒ½å®æ—¶ç†è§£ç›´æ’­é—´çš„è¯„è®ºã€ç”¨æˆ·è¡Œä¸ºç­‰ä¿¡æ¯ï¼Œå¹¶ç”Ÿæˆå£æ’­ã€è¡¨æƒ…ã€åŠ¨ä½œé«˜åº¦ååŒçš„è‡ªç„¶äº’åŠ¨ï¼Œæå…·è¡¨ç°åŠ›å’Œè¯´æœåŠ›ã€‚ä»é›¶è·‘æ±½è½¦COOæ•°å­—äººç›´æ’­é—´<strong>çº¿ç´¢è½¬åŒ–ç‡æå‡44%</strong> ï¼Œåˆ°ç½—æ°¸æµ©æ•°å­—äºº<strong>GMVçªç ´5500ä¸‡</strong>ï¼Œéƒ½è¯æ˜äº†åŸç”Ÿå…¨æ¨¡æ€æŠ€æœ¯åœ¨å•†ä¸šåœºæ™¯ä¸­çš„å·¨å¤§æ½œåŠ›ã€‚</p>
<h3 data-id="heading-7">ç»“è¯­</h3>
<p>æ–‡å¿ƒ5.0çš„ã€ŒåŸç”Ÿå…¨æ¨¡æ€ã€ï¼Œä¸ä»…ä»…æ˜¯ä¸€æ¬¡æŠ€æœ¯è¿­ä»£ï¼Œå®ƒä»£è¡¨äº†ä¸€ç§å…¨æ–°çš„AIæ„å»ºèŒƒå¼ã€‚é€šè¿‡ä»åº•å±‚ç»Ÿä¸€AIçš„æ„ŸçŸ¥ã€ç†è§£ä¸ç”Ÿæˆï¼Œå®ƒæ­£åœ¨è§£é”è¿‡å»â€œæ‹¼æ¥â€æ—¶ä»£æ— æ³•æƒ³è±¡çš„åº”ç”¨å¯èƒ½ã€‚è¿™åœºç”±â€œåŸç”Ÿâ€å¼•é¢†çš„å˜é©ï¼Œæ­£å°†æˆ‘ä»¬å¸¦å‘ä¸€ä¸ªæ›´æ™ºèƒ½ã€æ›´æ•´åˆã€ä¹Ÿæ›´æ¥è¿‘äººç±»è®¤çŸ¥æœ¬è´¨çš„AIæ–°çºªå…ƒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ•‘å‘½ï¼è¿™ä¸ªä½ä»£ç å·¥å…·å¤ªé¦™äº† â€”â€”TinyEngine ç‰©æ–™è‡ªåŠ¨å¯¼å…¥ä¸Šæ‰‹]]></title>    <link>https://juejin.cn/post/7572340344509169690</link>    <guid>https://juejin.cn/post/7572340344509169690</guid>    <pubDate>2025-11-14T08:52:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572340344509169690" data-draft-id="7572387068313272347" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ•‘å‘½ï¼è¿™ä¸ªä½ä»£ç å·¥å…·å¤ªé¦™äº† â€”â€”TinyEngine ç‰©æ–™è‡ªåŠ¨å¯¼å…¥ä¸Šæ‰‹"/> <meta itemprop="keywords" content="å‰ç«¯,ä½ä»£ç ,GitHub"/> <meta itemprop="datePublished" content="2025-11-14T08:52:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="OpenTinyç¤¾åŒº"/> <meta itemprop="url" content="https://juejin.cn/user/3808325101432983"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ•‘å‘½ï¼è¿™ä¸ªä½ä»£ç å·¥å…·å¤ªé¦™äº† â€”â€”TinyEngine ç‰©æ–™è‡ªåŠ¨å¯¼å…¥ä¸Šæ‰‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808325101432983/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    OpenTinyç¤¾åŒº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T08:52:53.000Z" title="Fri Nov 14 2025 08:52:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡ç”±TinyEngineä½ä»£ç ç‰©æ–™å¯¼å…¥åŠŸèƒ½è´¡çŒ®è€…å¼ ç­ åŒå­¦åŸåˆ›ã€‚</p>
<h2 data-id="heading-0">å¼•è¨€ï¼šä½ä»£ç ç‰©æ–™æ¥å…¥çš„ç—›ç‚¹ä¸è§£å†³æ–¹æ¡ˆ</h2>
<p>åœ¨ä½ä»£ç å¹³å°å¼€å‘ä¸­ï¼Œç‰©æ–™æ¥å…¥æ˜¯æ ¸å¿ƒç¯èŠ‚ä¹‹ä¸€ã€‚ä¼ ç»Ÿç‰©æ–™æ¥å…¥ä¾èµ–å¼€å‘è€…æ‰‹åŠ¨ç¼–å†™ç¬¦åˆå¹³å°åè®®çš„ JSON é…ç½®ï¼Œä¸ä»…æ•ˆç‡ä½ä¸‹ï¼Œè¿˜å®¹æ˜“å› äººä¸ºå¤±è¯¯å¯¼è‡´å…¼å®¹æ€§é—®é¢˜ â€”â€” å°¤å…¶æ˜¯é¢å¯¹æµ·é‡ UI ç»„ä»¶æ—¶ï¼Œé‡å¤çš„äººå·¥æ“ä½œä¼šå¤§å¹…æ‹–æ…¢å¼€å‘è¿›åº¦ã€‚</p>
<p>ä¸ºè§£å†³è¿™ä¸€ç—›ç‚¹ï¼Œæˆ‘ä»¬å¼€å‘äº†Â <strong>TinyEngine ä½ä»£ç ç‰©æ–™è‡ªåŠ¨å¯¼å…¥å·¥å…·</strong>ï¼Œæ”¯æŒé€šè¿‡ URL çˆ¬å–ã€NPM åŒ…è§£æã€æºç ä¸Šä¼ ä¸‰ç§æ–¹å¼ï¼Œè‡ªåŠ¨æå–ç»„ä»¶çš„ Props/Events/Slots ç­‰ API ä¿¡æ¯ï¼Œå¹¶è½¬æ¢ä¸ºç¬¦åˆ TinyEngine åè®®çš„æ ‡å‡†ç‰©æ–™æ ¼å¼ã€‚é…å¥—çš„å¯è§†åŒ–å‰ç«¯å®ç°äº† "å¯¼å…¥ - é¢„è§ˆ - ç¼–è¾‘ - ä¿å­˜" å…¨æµç¨‹é—­ç¯ï¼Œå°†ç‰©æ–™æ¥å…¥æ•ˆç‡å¤§å¹…åº¦æå‡ã€‚</p>
<p>æœ¬æ–‡å°†ä»é¡¹ç›®è®¾è®¡ã€æ ¸å¿ƒæ¨¡å—å®ç°ã€é¡¹ç›®éƒ¨ç½²ä¸ä½¿ç”¨æŒ‡å—ç­‰æ–¹é¢ï¼Œå¸¦å¤§å®¶å…¨é¢äº†è§£è¿™ä¸ªå‰åç«¯ä¸€ä½“åŒ–çš„ç‰©æ–™å¤„ç†æ–¹æ¡ˆã€‚</p>
<h2 data-id="heading-1">ä¸€ã€é¡¹ç›®æ¦‚è§ˆï¼šæŠ€æœ¯æ ˆä¸æ ¸å¿ƒæ¶æ„</h2>
<h3 data-id="heading-2">1. æŠ€æœ¯æ ˆé€‰å‹</h3>
<h4 data-id="heading-3">åç«¯æŠ€æœ¯æ ˆ</h4>
<ul>
<li>è¿è¡Œç¯å¢ƒï¼šNode.js v20.19.5+ï¼ˆåŸç”Ÿæ”¯æŒ fetch ä¸ ES6 + è¯­æ³•ï¼‰</li>
<li>æ ¸å¿ƒä¾èµ–ï¼šExpressï¼ˆæ¥å£æœåŠ¡ï¼‰ã€MySQLï¼ˆç‰©æ–™å­˜å‚¨ï¼‰ã€Puppeteerï¼ˆURL çˆ¬å–ï¼‰ã€LLM SDKï¼ˆAPI æå–ï¼‰</li>
<li>æ ¸å¿ƒèƒ½åŠ›ï¼šå¤šæºæ•°æ®è§£æã€ç‰©æ–™åè®®è½¬æ¢ã€å¼‚æ­¥ä»»åŠ¡ç®¡ç†</li>
</ul>
<h4 data-id="heading-4">å‰ç«¯æŠ€æœ¯æ ˆ</h4>
<ul>
<li>æ¡†æ¶ï¼šVue 3.2+ï¼ˆ<code>&lt;script setup&gt;</code>è¯­æ³•ï¼‰</li>
<li>æ„å»ºå·¥å…·ï¼šVite 4.0+ï¼ˆé«˜æ•ˆçƒ­æ›´æ–°ä¸è·¨åŸŸä»£ç†ï¼‰</li>
<li>UI ç»„ä»¶ï¼šOpenTiny Vueï¼ˆè½»é‡åŒ–ä¼ä¸šçº§ç»„ä»¶åº“ï¼‰</li>
<li>æ ¸å¿ƒèƒ½åŠ›ï¼šåŠ¨æ€è¡¨å•ã€ä»»åŠ¡è¿›åº¦å¯è§†åŒ–ã€è¡¨æ ¼ç¼–è¾‘ã€æ‰¹é‡æ•°æ®ç®¡ç†</li>
</ul>
<h3 data-id="heading-5">2. æ•´ä½“æ¶æ„è®¾è®¡</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e6d431b4a4af456da4a045ae343b2843~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT3BlblRpbnnnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715173&amp;x-signature=b4Vhrb0fRYc3VkVObAPlGMr9F6I%3D" alt="1.png" loading="lazy"/></p>
<p>é¡¹ç›®é‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œæ ¸å¿ƒäº¤äº’æµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>å‰ç«¯å‘èµ·å¯¼å…¥è¯·æ±‚ï¼ˆæºå¸¦ URL/NPM ä¿¡æ¯ / æºç æ–‡ä»¶ï¼‰ï¼›</li>
<li>åç«¯åˆ›å»ºå¼‚æ­¥ä»»åŠ¡ï¼Œæ ¹æ®å¯¼å…¥ç±»å‹æ‰§è¡Œå¯¹åº”è§£æé€»è¾‘ï¼›</li>
<li>è°ƒç”¨ LLM æ¥å£æå–ç»“æ„åŒ– API ä¿¡æ¯ï¼Œè½¬æ¢ä¸ºæ ‡å‡†ç‰©æ–™æ ¼å¼ï¼›</li>
<li>å‰ç«¯é€šè¿‡è½®è¯¢è·å–ä»»åŠ¡è¿›åº¦ï¼Œå®æ—¶å±•ç¤ºå¤„ç†çŠ¶æ€ï¼›</li>
<li>å¤„ç†å®Œæˆåï¼Œå‰ç«¯æä¾›ç‰©æ–™é¢„è§ˆä¸ç¼–è¾‘åŠŸèƒ½ï¼Œæ”¯æŒä¿å­˜åˆ°æ•°æ®åº“ã€‚</li>
</ol>
<h2 data-id="heading-6">äºŒã€æ ¸å¿ƒåŠŸèƒ½æ‹†è§£ï¼šä»è§£æåˆ°å¯è§†åŒ–</h2>
<h3 data-id="heading-7">1. å¤šæºç‰©æ–™è§£æï¼ˆåç«¯æ ¸å¿ƒèƒ½åŠ›ï¼‰</h3>
<p>ä¾æ‰˜å››å¤§æ ¸å¿ƒæ¨¡å—ååŒå·¥ä½œï¼Œå®ç°URLã€NPMã€æºç ä¸‰ç§å¯¼å…¥æ–¹å¼çš„æ ‡å‡†åŒ–è§£æï¼Œå…¨ç¨‹è‡ªåŠ¨åŒ–å®Œæˆä»åŸå§‹æ•°æ®åˆ°TinyEngineæ ‡å‡†ç‰©æ–™çš„è½¬åŒ–ã€‚</p>
<h4 data-id="heading-8">ï¼ˆ1ï¼‰URL å¯¼å…¥</h4>
<p>åŸºäº <strong>APIç”Ÿæˆæ¨¡å—</strong> çš„URLè¡¨æ ¼é©±åŠ¨æµç¨‹ï¼Œé€šè¿‡Puppeteeræ¨¡æ‹Ÿæµè§ˆå™¨è®¿é—®ç›®æ ‡URLï¼Œæ ¹æ®ç”¨æˆ·æŒ‡å®šçš„CSSé€‰æ‹©å™¨ç²¾å‡†å®šä½APIè¡¨æ ¼æ•°æ®ï¼Œæ­é…é‡è¯•æœºåˆ¶ä¿éšœçˆ¬å–ç¨³å®šæ€§ï¼›è·å–è¡¨æ ¼æ•°æ®åï¼Œä¼ é€’ç»™LLMæ¨¡å‹è¿›è¡Œç»“æ„åŒ–å¤„ç†ï¼Œç”ŸæˆåŒ…å«Props/Events/Slotsçš„åŸå§‹API JSONï¼›éšåç» <strong>ç‰©æ–™è½¬æ¢æ¨¡å—</strong> è½¬åŒ–ä¸ºç¬¦åˆTinyEngineè§„èŒƒçš„ç‰©æ–™æ ¼å¼ï¼Œæœ€åç”± <strong>åå¤„ç†æ¨¡å—</strong> å®Œæˆç»„ä»¶åæ ‡å‡†åŒ–ï¼ˆå¦‚ç»Ÿä¸€ä¸ºPascalCaseæ ¼å¼ï¼‰åŠè§„åˆ™åŒ–ä¼˜åŒ–ï¼Œç¡®ä¿ç‰©æ–™ä¸€è‡´æ€§ã€‚</p>
<h4 data-id="heading-9">ï¼ˆ2ï¼‰NPM å¯¼å…¥</h4>
<p>æ¥æ”¶ç”¨æˆ·è¾“å…¥çš„NPMåŒ…åä¸ç»„ä»¶ååï¼Œåç«¯è‡ªåŠ¨ä¸‹è½½å¯¹åº”åŒ…èµ„æºï¼Œé€šè¿‡ <strong>æ–‡ä»¶ç­›é€‰æ¨¡å—</strong> çš„NPMç±»å‹è§„åˆ™ï¼ˆå¼ºåˆ¶æ ¡éªŒ<code>index</code>å…¥å£æ–‡ä»¶ï¼Œæå–å«ç»„ä»¶å…³é”®è¯çš„æ ¸å¿ƒæ–‡ä»¶ï¼Œè‡ªåŠ¨è·³è¿‡<code>style</code>ã€<code>utils</code>ç­‰éAPIç›¸å…³ç›®å½•åŠ<code>.map</code>æ–‡ä»¶ï¼‰å®Œæˆæ–‡ä»¶ç­›é€‰ï¼›ç­›é€‰åçš„æ ¸å¿ƒæ–‡ä»¶è¿›å…¥ <strong>APIç”Ÿæˆæ¨¡å—</strong> çš„æ–‡ä»¶é©±åŠ¨æµç¨‹ï¼Œç»LLMè§£æç”ŸæˆåŸå§‹API JSONï¼›å†é€šè¿‡ <strong>ç‰©æ–™è½¬æ¢æ¨¡å—</strong> è¡¥å……ç»„ä»¶åŸºæœ¬ä¿¡æ¯ã€è§„èŒƒProps/Events/Slotså®šä¹‰ï¼Œæœ€ç»ˆç”± <strong>åå¤„ç†æ¨¡å—</strong> æŒ‰é¢„è®¾è§„åˆ™ä¼˜åŒ–ï¼ˆæ— éœ€å¤„ç†çš„ç»„ä»¶ç›´æ¥ä¿ç•™ã€è¡¨æ ¼ç»„ä»¶åˆå¹¶åˆ—å®šä¹‰ç­‰ï¼‰ï¼Œè¾“å‡ºæ ‡å‡†ç‰©æ–™ã€‚</p>
<h4 data-id="heading-10">ï¼ˆ3ï¼‰æºç å¯¼å…¥</h4>
<p>ç”¨æˆ·å¯ä¸Šä¼ Vueç»„ä»¶æºç æ–‡ä»¶æˆ–ZIPå‹ç¼©åŒ…ï¼Œåç«¯è§£å‹åè§¦å‘ <strong>æ–‡ä»¶ç­›é€‰æ¨¡å—</strong> çš„æºç ç±»å‹å¤„ç†é€»è¾‘â€”â€”è‡ªåŠ¨è¯†åˆ«<code>index.js/ts</code>å…¥å£æ–‡ä»¶åŠProps/Eventså®šä¹‰æ–‡ä»¶ï¼Œè¿‡æ»¤éAPIç›¸å…³å†…å®¹ï¼›ç­›é€‰åçš„æœ‰æ•ˆæ–‡ä»¶è¿›å…¥ <strong>APIç”Ÿæˆæ¨¡å—</strong> æ‰§è¡Œæ–‡ä»¶é©±åŠ¨æµç¨‹ï¼Œç»LLMè§£æç”ŸæˆåŸå§‹API JSONï¼›åç»­é€šè¿‡ <strong>ç‰©æ–™è½¬æ¢æ¨¡å—</strong> è½¬åŒ–ä¸ºTinyEngineæ ‡å‡†æ ¼å¼ï¼Œå†ç”± <strong>åå¤„ç†æ¨¡å—</strong> æ¸…ç†å­é¡¹ç»„ä»¶å†—ä½™ç‰‡æ®µã€ç»Ÿä¸€ç»„ä»¶åæ ¼å¼ï¼Œæœ€ç»ˆç”Ÿæˆå¯ç›´æ¥ä½¿ç”¨çš„æ ‡å‡†åŒ–ç‰©æ–™ã€‚</p>
<h3 data-id="heading-11">2. å¯è§†åŒ–æ“ä½œé—­ç¯ï¼ˆå‰ç«¯æ ¸å¿ƒèƒ½åŠ›ï¼‰</h3>
<h4 data-id="heading-12">ï¼ˆ1ï¼‰åŠ¨æ€å¯¼å…¥è¡¨å•</h4>
<p>æ ¹æ®ç”¨æˆ·é€‰æ‹©çš„å¯¼å…¥ç±»å‹ï¼ˆURL/NPM/ æºç ï¼‰ï¼Œè‡ªåŠ¨åˆ‡æ¢å¯¹åº”è¡¨å•ï¼š</p>
<ul>
<li>URL å¯¼å…¥ï¼šå±•ç¤º URL è¾“å…¥æ¡†ä¸è¡¨æ ¼ CSS é€‰æ‹©å™¨è¾“å…¥æ¡†ï¼›</li>
<li>NPM å¯¼å…¥ï¼šå±•ç¤ºåŒ…åä¸ç»„ä»¶åè¾“å…¥æ¡†ï¼›</li>
<li>æºç å¯¼å…¥ï¼šå±•ç¤ºæ–‡ä»¶ä¸Šä¼ ç»„ä»¶ï¼ˆæ”¯æŒå•ä¸ªæ–‡ä»¶ä¸ ZIP åŒ…ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-13">ï¼ˆ2ï¼‰ä»»åŠ¡è¿›åº¦å¯è§†åŒ–</h4>
<ul>
<li>æäº¤å¯¼å…¥è¯·æ±‚åï¼Œå±•ç¤ºè¿›åº¦æ¡å®æ—¶æ›´æ–°å¤„ç†è¿›åº¦ï¼ˆ0-100%ï¼‰ï¼›</li>
<li>å¤„ç†ä¸­ä»»åŠ¡æ”¯æŒæœ€å°åŒ–ä¸ºå³ä¾§æ‚¬æµ®å¡ç‰‡ï¼Œä¸å½±å“å…¶ä»–æ“ä½œï¼Œç‚¹å‡»å¯é‡æ–°æ‰“å¼€æ¨¡æ€æ¡†æŸ¥çœ‹è¯¦æƒ…ï¼›</li>
<li>ä»»åŠ¡çŠ¶æ€å®æ—¶åé¦ˆï¼ˆå¤„ç†ä¸­ / æˆåŠŸ / å¤±è´¥ï¼‰ï¼Œå¤±è´¥æ—¶æ˜¾ç¤ºå…·ä½“é”™è¯¯ä¿¡æ¯ã€‚</li>
</ul>
<h4 data-id="heading-14">ï¼ˆ3ï¼‰ç‰©æ–™é¢„è§ˆä¸ç¼–è¾‘</h4>
<p>ä»»åŠ¡å¤„ç†æˆåŠŸåï¼Œé€šè¿‡è¡¨æ ¼å±•ç¤ºç”Ÿæˆçš„ç‰©æ–™åˆ—è¡¨ï¼Œæ”¯æŒï¼š</p>
<ul>
<li>ä¸»è¡¨å±•ç¤ºåŸºç¡€ä¿¡æ¯ï¼ˆç»„ä»¶åã€å¯¼å…¥ç±»å‹ã€å¯¼å…¥æ—¶é—´ç­‰ï¼‰ï¼›</li>
<li>å±•å¼€è¡ŒæŸ¥çœ‹å­è¡¨ï¼ˆå±æ€§ / äº‹ä»¶ / æ’æ§½ï¼‰ï¼Œæ”¯æŒç¼–è¾‘å­—æ®µå€¼ã€åˆ é™¤æ— æ•ˆé¡¹ï¼›</li>
<li>ç¼–è¾‘åå®æ—¶æäº¤æ›´æ–°ï¼Œç¡®ä¿æ•°æ®åŒæ­¥åˆ°åç«¯ã€‚</li>
</ul>
<h4 data-id="heading-15">ï¼ˆ4ï¼‰ç‰©æ–™åº“ç®¡ç†</h4>
<p>æä¾›å®Œæ•´çš„ç‰©æ–™ç®¡ç†åŠŸèƒ½ï¼š</p>
<ul>
<li>ç­›é€‰ä¸æœç´¢ï¼šæŒ‰ç»„ä»¶åç²¾ç¡®ç­›é€‰ã€å…³é”®è¯æ¨¡ç³Šæœç´¢ï¼›</li>
<li>æ‰¹é‡æ“ä½œï¼šæ‰¹é‡å¯¼å‡ºé€‰ä¸­ç‰©æ–™ä¸º JSON æ–‡ä»¶ã€æ‰¹é‡åˆ é™¤æ— ç”¨ç‰©æ–™ï¼›</li>
<li>åˆ†é¡µæ§åˆ¶ï¼šé»˜è®¤ 10 æ¡ / é¡µï¼Œæ”¯æŒè‡ªå®šä¹‰æ¯é¡µæ˜¾ç¤ºæ•°é‡ã€‚</li>
</ul>
<h2 data-id="heading-16">ä¸‰ã€é¡¹ç›®éƒ¨ç½²</h2>
<h3 data-id="heading-17">1. ç¯å¢ƒè¦æ±‚</h3>



































<table><thead><tr><th>ç¯å¢ƒ/å·¥å…·</th><th>ç‰ˆæœ¬è¦æ±‚</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Node.js</td><td>v20.19.5 åŠä»¥ä¸Š</td><td>æ”¯æŒ<code>fetch</code>ã€ES6+è¯­æ³•ï¼Œå‰åç«¯é€šç”¨ï¼Œå»ºè®®ä½¿ç”¨å®˜ç½‘é•¿æœŸæ”¯æŒç‰ˆç¡®ä¿å…¼å®¹æ€§</td></tr><tr><td>å‰ç«¯æ¡†æ¶</td><td>Vue 3.2+</td><td>å‰ç«¯é‡‡ç”¨<code>&lt;script setup&gt;</code>è¯­æ³•å¼€å‘ï¼Œéœ€ç¡®ä¿ä¾èµ–ç‰ˆæœ¬ç¬¦åˆè¦æ±‚</td></tr><tr><td>æ„å»ºå·¥å…·</td><td>Vite 4.0+</td><td>è´Ÿè´£å‰ç«¯é¡¹ç›®æ„å»ºã€çƒ­æ›´æ–°åŠè·¨åŸŸä»£ç†é…ç½®ï¼Œå½“å‰é¡¹ç›®å®é™…ä½¿ç”¨v7.1.7ç‰ˆæœ¬</td></tr><tr><td>æ•°æ®åº“</td><td>MySQL 8.0 åŠä»¥ä¸Š</td><td>ç”¨äºå­˜å‚¨ç‰©æ–™æ•°æ®ï¼Œéœ€æå‰æœ¬åœ°å®‰è£…å¹¶å¯åŠ¨</td></tr><tr><td>ä¾èµ–æœåŠ¡</td><td>LLMæ¥å£ï¼ˆå¦‚DeepSeek/Qwen/OpenAIï¼‰</td><td>åç«¯æ ¸å¿ƒä¾èµ–ï¼Œéœ€å‡†å¤‡æ”¯æŒJSONè¾“å‡ºçš„å¤§æ¨¡å‹æ¥å£åŠå¯¹åº”APIå¯†é’¥ã€æ¥å£åœ°å€</td></tr></tbody></table>
<h3 data-id="heading-18">2. å®‰è£…ä¸é…ç½®</h3>
<h4 data-id="heading-19">2.1 å…‹éš†ä»“åº“</h4>
<p>é¦–å…ˆå°†é¡¹ç›®ä»£ç å…‹éš†åˆ°æœ¬åœ°ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">git <span class="hljs-built_in">clone</span> &lt;ä»“åº“åœ°å€&gt;  <span class="hljs-comment"># æ›¿æ¢ä¸ºå®é™…çš„é¡¹ç›®ä»“åº“åœ°å€</span>
</code></pre>
<h4 data-id="heading-20">2.2 å®‰è£…ä¾èµ–</h4>
<p>è¿›å…¥é¡¹ç›®æ ¹ç›®å½•åï¼Œåˆ†åˆ«å®‰è£…åç«¯å’Œå‰ç«¯çš„ä¾èµ–åŒ…ï¼Œç¡®ä¿ç¯å¢ƒä¸€è‡´æ€§ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å®‰è£…åç«¯ä¾èµ–</span>
<span class="hljs-built_in">cd</span> backend
npm install  <span class="hljs-comment"># è‹¥ä½¿ç”¨yarn/pnpmï¼Œå¯æ›¿æ¢ä¸ºyarn install/pnpm install</span>

<span class="hljs-comment"># 2. å®‰è£…å‰ç«¯ä¾èµ–ï¼ˆéœ€æ–°å¼€ç»ˆç«¯æˆ–è¿”å›æ ¹ç›®å½•ï¼‰</span>
<span class="hljs-built_in">cd</span> frontend
npm install  <span class="hljs-comment"># åŒç†å¯æ›¿æ¢ä¸ºå¯¹åº”åŒ…ç®¡ç†å·¥å…·çš„å®‰è£…å‘½ä»¤</span>
</code></pre>
<h4 data-id="heading-21">2.3 ç¯å¢ƒé…ç½®</h4>
<h5 data-id="heading-22">ï¼ˆ1ï¼‰åç«¯é…ç½®</h5>
<ol>
<li>
<p><strong>å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿</strong>ï¼šè¿›å…¥åç«¯ç›®å½•ï¼Œå°† <code>.env.example</code> æ¨¡æ¿æ–‡ä»¶å¤åˆ¶ä¸ºå®é™…ä½¿ç”¨çš„ <code>.env</code> æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> backend  <span class="hljs-comment"># è‹¥å½“å‰ä¸åœ¨åç«¯ç›®å½•éœ€æ‰§è¡Œæ­¤å‘½ä»¤</span>
<span class="hljs-built_in">cp</span> .env.example .<span class="hljs-built_in">env</span>  <span class="hljs-comment"># Windowsç³»ç»Ÿå¯æ‰‹åŠ¨å¤åˆ¶æ–‡ä»¶å¹¶é‡å‘½åä¸º.env</span>
</code></pre>
</li>
<li>
<p><strong>ç¼–è¾‘.envæ–‡ä»¶å‚æ•°</strong>ï¼šç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€ <code>.env</code> æ–‡ä»¶ï¼Œæ ¹æ®æœ¬åœ°ç¯å¢ƒå’Œå®é™…èµ„æºä¿¡æ¯å¡«å†™ä»¥ä¸‹å…³é”®é…ç½®ï¼ˆæ›¿æ¢å ä½ç¬¦å†…å®¹ï¼‰ï¼š</p>
<pre><code class="hljs language-env" lang="env"># æœåŠ¡å™¨é…ç½®
SERVER_PORT=3001                  # åç«¯æœåŠ¡ç«¯å£ï¼Œé»˜è®¤3001ï¼Œå¯æŒ‰éœ€ä¿®æ”¹
CORS_ALLOW_ORIGIN=http://localhost:8080 # å‰ç«¯åœ°å€ï¼Œéœ€ä¸å‰ç«¯ç«¯å£ä¿æŒä¸€è‡´ï¼Œè§£å†³è·¨åŸŸé—®é¢˜

# æ•°æ®åº“é…ç½®ï¼ˆéœ€ä¸æœ¬åœ°MySQLç¯å¢ƒåŒ¹é…ï¼‰
MYSQL_HOST=localhost       # MySQLæœåŠ¡åœ°å€ï¼Œæœ¬åœ°é»˜è®¤localhost
MYSQL_PORT=3306            # MySQLç«¯å£ï¼Œé»˜è®¤3306
MYSQL_USER=root            # MySQLç”¨æˆ·åï¼Œæ›¿æ¢ä¸ºä½ çš„å®é™…ç”¨æˆ·å
MYSQL_PASSWORD=your_password    # MySQLå¯†ç ï¼Œæ›¿æ¢ä¸ºä½ çš„å®é™…å¯†ç ï¼ˆæ— å¯†ç åˆ™ç•™ç©ºï¼‰
MYSQL_DATABASE=lowcode_material # æ•°æ®åº“åï¼Œéœ€åç»­æ‰‹åŠ¨åˆ›å»ºè¯¥åº“

# LLMæ¨¡å‹é…ç½®ï¼ˆå¿…å¡«ï¼Œæ›¿æ¢ä¸ºå®é™…å¯ç”¨çš„å¤§æ¨¡å‹ä¿¡æ¯ï¼‰
OPENAI_MODEL=deepseek-reasoner            # æ¨¡å‹åç§°ï¼Œå¦‚deepseek-reasonerã€Qwen3-32Bç­‰
OPENAI_API_KEY=your_api_key_here          # æ¨¡å‹APIå¯†é’¥ï¼Œä»å¯¹åº”å¹³å°è·å–
OPENAI_BASE_URL=https://api.deepseek.com/v1 # æ¨¡å‹æ¥å£åœ°å€ï¼ŒæŒ‰å®é™…å¹³å°å¡«å†™

# é»˜è®¤è·¯å¾„é…ç½®ï¼ˆç³»ç»Ÿè‡ªåŠ¨åˆ›å»ºï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œï¼‰
DEFAULT_OUTPUT_DIR=output-log       # æœ€ç»ˆç‰©æ–™JSONè¾“å‡ºç›®å½•
DEFAULT_SCHEMA_LOG_DIR=schema-log   # è½¬æ¢è¿‡ç¨‹æ—¥å¿—ç›®å½•
DEFAULT_API_LOG_DIR=raw-api-log     # åŸå§‹API JSONæ—¥å¿—ç›®å½•
</code></pre>
</li>
</ol>
<h5 data-id="heading-23">ï¼ˆ2ï¼‰å‰ç«¯é…ç½®ï¼ˆè·¨åŸŸä¸ç«¯å£ï¼‰</h5>
<p>å‰ç«¯éœ€é…ç½®ä»£ç†å¯¹æ¥åç«¯æœåŠ¡ï¼Œç¡®ä¿æ¥å£è¯·æ±‚æ­£å¸¸ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>è¿›å…¥å‰ç«¯ç›®å½•ï¼Œæ‰“å¼€ <code>vite.config.js</code> æ–‡ä»¶ï¼ˆè·¯å¾„ï¼š<code>frontend/vite.config.js</code>ï¼‰ï¼›</li>
<li>ç¡®è®¤æˆ–ä¿®æ”¹ä»¥ä¸‹é…ç½®ï¼ˆéœ€ä¸åç«¯ <code>.env</code> ä¸­çš„é…ç½®ä¿æŒä¸€è‡´ï¼‰ï¼š
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>; 
<span class="hljs-keyword">import</span> vue <span class="hljs-keyword">from</span> <span class="hljs-string">'@vitejs/plugin-vue'</span>; 

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [<span class="hljs-title function_">vue</span>()],
  <span class="hljs-attr">server</span>: {
    <span class="hljs-attr">port</span>: <span class="hljs-number">8080</span>, <span class="hljs-comment">// å‰ç«¯ç«¯å£ï¼Œé»˜è®¤8080ï¼Œéœ€ä¸åç«¯CORS_ALLOW_ORIGINä¸­çš„ç«¯å£ä¸€è‡´</span>
    <span class="hljs-attr">proxy</span>: {
      <span class="hljs-comment">// ä»£ç†æ‰€æœ‰/apiå‰ç¼€çš„è¯·æ±‚åˆ°åç«¯æœåŠ¡</span>
      <span class="hljs-string">'/api'</span>: {
        <span class="hljs-attr">target</span>: <span class="hljs-string">'http://localhost:3001'</span>, <span class="hljs-comment">// åç«¯æœåŠ¡åœ°å€ï¼Œä¸SERVER_PORTä¸€è‡´</span>
        <span class="hljs-attr">changeOrigin</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å¼€å¯è·¨åŸŸé€‚é…</span>
      }
    }
  }
});
</code></pre>
<ul>
<li>è‹¥ä¿®æ”¹äº†å‰ç«¯ç«¯å£æˆ–åç«¯æœåŠ¡ç«¯å£ï¼Œéœ€åŒæ­¥æ›´æ–°å¯¹åº”é…ç½®ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-24">3. å¿«é€Ÿå¯åŠ¨</h3>
<p>å‰åç«¯æœåŠ¡éœ€æŒ‰ç‰¹å®šé¡ºåºå¯åŠ¨ï¼Œæ ¸å¿ƒé¡ºåºï¼š<strong>å¯åŠ¨MySQLæœåŠ¡ â†’ åˆ›å»ºé¡¹ç›®æ•°æ®åº“ â†’ å¯åŠ¨åç«¯æœåŠ¡ â†’ å¯åŠ¨å‰ç«¯æœåŠ¡</strong>ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<h4 data-id="heading-25">3.1 å¯åŠ¨MySQLæœåŠ¡å¹¶åˆ›å»ºé¡¹ç›®æ•°æ®åº“</h4>
<h5 data-id="heading-26">ï¼ˆ1ï¼‰å¯åŠ¨MySQLæœåŠ¡</h5>
<p>æ ¹æ®æœ¬åœ°æ“ä½œç³»ç»Ÿï¼Œæ‰§è¡Œå¯¹åº”å¯åŠ¨å‘½ä»¤ï¼š</p>
<ul>
<li><strong>Windows</strong>ï¼šé€šè¿‡â€œæœåŠ¡â€ç®¡ç†å™¨æ‰¾åˆ°â€œMySQLâ€æœåŠ¡ï¼Œå³é”®ç‚¹å‡»â€œå¯åŠ¨â€ï¼›</li>
<li><strong>macOSï¼ˆHomebrewå®‰è£…ï¼‰</strong>ï¼šæ‰“å¼€ç»ˆç«¯æ‰§è¡Œ <code>brew services start mysql</code>ï¼›</li>
<li><strong>Linuxï¼ˆç³»ç»ŸæœåŠ¡ï¼Œä»¥Ubuntuä¸ºä¾‹ï¼‰</strong>ï¼šæ‰§è¡Œ <code>sudo systemctl start mysql</code>ï¼ˆå…¶ä»–å‘è¡Œç‰ˆæŒ‰å¯¹åº”å‘½ä»¤æ“ä½œï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-27">ï¼ˆ2ï¼‰æ‰‹åŠ¨åˆ›å»ºé¡¹ç›®æ•°æ®åº“</h5>
<p>é¡¹ç›®éœ€ä½¿ç”¨é¢„å…ˆåˆ›å»ºçš„ <code>lowcode_material</code> æ•°æ®åº“ï¼Œæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li>æ‰“å¼€ç»ˆç«¯/å‘½ä»¤æç¤ºç¬¦ï¼Œç™»å½•MySQLï¼š
<pre><code class="hljs language-bash" lang="bash">mysql -u root -p  <span class="hljs-comment"># æ›¿æ¢rootä¸ºä½ çš„MySQLç”¨æˆ·åï¼Œå›è½¦åè¾“å…¥å¯†ç ï¼ˆæ— å¯†ç ç›´æ¥å›è½¦ï¼‰</span>
</code></pre>
</li>
<li>æ‰§è¡ŒSQLå‘½ä»¤åˆ›å»ºæ•°æ®åº“ï¼ˆæŒ‡å®šå­—ç¬¦é›†é¿å…ä¸­æ–‡ä¹±ç ï¼‰ï¼š
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> DATABASE IF <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">EXISTS</span> lowcode_material 
<span class="hljs-type">CHARACTER</span> <span class="hljs-keyword">SET</span> utf8mb4 
<span class="hljs-keyword">COLLATE</span> utf8mb4_unicode_ci;
</code></pre>
</li>
<li>ï¼ˆå¯é€‰ï¼‰éªŒè¯æ•°æ®åº“åˆ›å»ºæˆåŠŸï¼š
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SHOW</span> DATABASES;  # æ‰§è¡ŒåæŸ¥çœ‹è¾“å‡ºåˆ—è¡¨ï¼Œç¡®è®¤åŒ…å«lowcode_material
</code></pre>
</li>
<li>é€€å‡ºMySQLå‘½ä»¤è¡Œï¼š
<pre><code class="hljs language-sql" lang="sql">exit;
</code></pre>
</li>
</ol>
<h4 data-id="heading-28">3.2 å¯åŠ¨åç«¯æœåŠ¡</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿›å…¥åç«¯ç›®å½•ï¼ˆè‹¥å½“å‰ä¸åœ¨è¯¥ç›®å½•ï¼‰</span>
<span class="hljs-built_in">cd</span> backend

<span class="hljs-comment"># å¯åŠ¨å¼€å‘ç¯å¢ƒæœåŠ¡ï¼ˆä½¿ç”¨é…ç½®çš„npmè„šæœ¬ï¼‰</span>
npm run serve
</code></pre>
<ul>
<li>å¯åŠ¨æˆåŠŸæ ‡è¯†ï¼šç»ˆç«¯æ˜¾ç¤ºæœåŠ¡ç›‘å¬ä¿¡æ¯ï¼ˆå¦‚ <code>åç«¯æœåŠ¡å¯åŠ¨æˆåŠŸï¼Œç«¯å£ï¼š3001</code>ï¼‰ï¼›</li>
<li>éªŒè¯æ¥å£å¯ç”¨æ€§ï¼šå¯é€šè¿‡æµè§ˆå™¨è®¿é—® <code>http://localhost:3001/api/material/docs</code>ï¼ŒæŸ¥çœ‹ç®€æ˜“æ¥å£æ–‡æ¡£ã€‚</li>
</ul>
<h4 data-id="heading-29">3.3 å¯åŠ¨å‰ç«¯æœåŠ¡</h4>
<p>éœ€æ–°å¼€ä¸€ä¸ªç»ˆç«¯ï¼ˆé¿å…ä¸åç«¯æœåŠ¡å†²çªï¼‰ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿›å…¥å‰ç«¯ç›®å½•</span>
<span class="hljs-built_in">cd</span> frontend

<span class="hljs-comment"># å¯åŠ¨å¼€å‘ç¯å¢ƒï¼ˆæ”¯æŒçƒ­æ›´æ–°ï¼Œä¿®æ”¹ä»£ç åè‡ªåŠ¨åˆ·æ–°ï¼‰</span>
npm run dev
</code></pre>
<ul>
<li>å¯åŠ¨æˆåŠŸæ ‡è¯†ï¼šç»ˆç«¯è¾“å‡º <code>VITE v7.1.7 ready in 300 ms</code> åŠè®¿é—®åœ°å€ï¼›</li>
<li>è®¿é—®å‰ç«¯ï¼šæ‰“å¼€æµè§ˆå™¨è¾“å…¥é»˜è®¤åœ°å€ <code>http://localhost:8080</code>ï¼Œå³å¯è¿›å…¥ç‰©æ–™ç®¡ç†é¦–é¡µã€‚</li>
</ul>
<h3 data-id="heading-30">4. å¯åŠ¨å¸¸è§é—®é¢˜æ’æŸ¥</h3>
<ul>
<li><strong>MySQLè¿æ¥å¤±è´¥</strong>ï¼šæ£€æŸ¥ <code>.env</code> ä¸­æ•°æ®åº“é…ç½®ï¼ˆåœ°å€ã€ç«¯å£ã€ç”¨æˆ·åã€å¯†ç ï¼‰æ˜¯å¦ä¸æœ¬åœ°ç¯å¢ƒä¸€è‡´ï¼Œç¡®ä¿MySQLæœåŠ¡å·²å¯åŠ¨ï¼›</li>
<li><strong>LLMæ¥å£æŠ¥é”™</strong>ï¼šæ£€æŸ¥æ¨¡å‹é…ç½®ï¼ˆAPIå¯†é’¥ã€æ¥å£åœ°å€ã€æ¨¡å‹åç§°ï¼‰æ˜¯å¦æ­£ç¡®ï¼Œç¡®ä¿æ¥å£å¯æ­£å¸¸è®¿é—®ä¸”æœ‰å‰©ä½™è°ƒç”¨é¢åº¦ã€‚</li>
</ul>
<h3 data-id="heading-31">å››ã€æ ¸å¿ƒä½¿ç”¨æµç¨‹</h3>
<ol>
<li>è®¿é—®å‰ç«¯åœ°å€ï¼ˆé»˜è®¤Â <a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A8080%2F" target="_blank" title="http://localhost:8080/" ref="nofollow noopener noreferrer">http://localhost:8080</a>ï¼‰ï¼Œè¿›å…¥ç‰©æ–™ç®¡ç†é¦–é¡µï¼›</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b0e2e6d07324be498cb956deb352aa5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT3BlblRpbnnnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715173&amp;x-signature=TdWXxctgdfVLshn5LntrQ8iVaL0%3D" alt="2.png" loading="lazy"/></p>
<ol start="2">
<li>
<p>é€‰æ‹©å¯¼å…¥æ–¹å¼ï¼ˆURL / NPM / æºç ï¼‰ï¼Œå¡«å†™å¯¹åº”ä¿¡æ¯ï¼ˆå¦‚ URL åœ°å€ã€NPM åŒ…åã€ä¸Šä¼ æºç æ–‡ä»¶ï¼‰ï¼›</p>
<ul>
<li><strong>URL å¯¼å…¥</strong>ï¼šè¾“å…¥URLåœ°å€å’ŒAPIè¡¨æ ¼CSSé€‰æ‹©å™¨ï¼›</li>
<li><strong>NPM å¯¼å…¥</strong>ï¼šè¾“å…¥NPMåŒ…åå’Œç»„ä»¶åç§°ï¼›</li>
<li><strong>æºç å¯¼å…¥</strong>ï¼šä¸Šä¼ æºç æ–‡ä»¶ï¼ˆæ”¯æŒå•ä¸ªæ–‡ä»¶æˆ–zipï¼‰ã€‚</li>
</ul>
</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c6a03c011c9f46a1b3014d3a78d26bd8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT3BlblRpbnnnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715173&amp;x-signature=%2FK2vPzdUSpXwVroJwDOqijh7WXk%3D" alt="3.gif" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/95a79e1f19a84de7a203958ebbd23f00~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT3BlblRpbnnnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715173&amp;x-signature=xMBbA2D7Nd4EBNGuBCh0q3z5STM%3D" alt="4.gif" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/577c0731b8b6452f81f558d259448ca6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT3BlblRpbnnnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715173&amp;x-signature=gvT%2Bwk1kBgn9jSBQi6iueTamSLw%3D" alt="5.gif" loading="lazy"/></p>
<ol start="3">
<li>æäº¤åç­‰å¾…ä»»åŠ¡å¤„ç†ï¼Œå®æ—¶æŸ¥çœ‹è¿›åº¦æ¡ï¼ˆ0-100%ï¼‰ï¼Œè¿›åº¦æ¡æ”¯æŒæœ€å°åŒ–ï¼›</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e5022535803f4caca5f72bd553944f82~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT3BlblRpbnnnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715173&amp;x-signature=AKeSPMxjpida1bomKHolg0eVYng%3D" alt="6.gif" loading="lazy"/></p>
<ol start="4">
<li>ä»»åŠ¡æˆåŠŸåï¼Œé¢„è§ˆç”Ÿæˆçš„ç‰©æ–™æ•°æ®ï¼ˆå±æ€§ / äº‹ä»¶ / æ’æ§½ï¼‰ï¼Œå¯ç›´æ¥ç¼–è¾‘ä¿®æ”¹æˆ–åˆ é™¤ï¼›</li>
</ol>
<ul>
<li>ç¼–è¾‘å±æ€§/äº‹ä»¶/æ’æ§½</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/49b981635d66404f84730d14683dfb58~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT3BlblRpbnnnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715173&amp;x-signature=pb2uV%2BCItmuupyP%2F8X5OTzfBFfc%3D" alt="7.gif" loading="lazy"/></p>
<ul>
<li>åˆ é™¤å±æ€§/äº‹ä»¶/æ’æ§½</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0e4268aa09c41e797ad0abf5ca7602e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT3BlblRpbnnnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715173&amp;x-signature=NDPKJK7xom2Gll9yFHxPz%2F3acvA%3D" alt="8.gif" loading="lazy"/></p>
<ul>
<li>åˆ é™¤ç»„ä»¶ç‰©æ–™</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e77aa5abb44843cdaf07d880a1546d34~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT3BlblRpbnnnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715173&amp;x-signature=SlwY6b0Tbk2IJRsKpgwc03m7cP8%3D" alt="9.gif" loading="lazy"/></p>
<ol start="5">
<li>ç‚¹å‡» â€œä¿å­˜åˆ°ç‰©æ–™åº“â€ï¼Œå°†ç‰©æ–™åŒæ­¥è‡³ MySQL æ•°æ®åº“ï¼›</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b5829c93097643e79aebb7e8b9508bb3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT3BlblRpbnnnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715173&amp;x-signature=U%2BpNqNENCU7MwvfT%2B3FmOLAcmr8%3D" alt="10.gif" loading="lazy"/></p>
<ol start="6">
<li>åœ¨é¦–é¡µé€šè¿‡ç­›é€‰ã€æœç´¢åŠŸèƒ½ç®¡ç†å·²ä¿å­˜çš„ç‰©æ–™ï¼Œæ”¯æŒæ‰¹é‡å¯¼å‡ºæˆ–åˆ é™¤ã€‚</li>
</ol>
<ul>
<li>é€šè¿‡ç»„ä»¶åç§°ç­›é€‰ç»„ä»¶ç‰©æ–™</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/86019bdd78eb4a03b9571ea9c54077c8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT3BlblRpbnnnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715173&amp;x-signature=hE%2F8JsXlHk1c8aIadqoADO85wLQ%3D" alt="11.gif" loading="lazy"/></p>
<ul>
<li>é€šè¿‡å…³é”®è¯ç­›é€‰ç»„ä»¶ç‰©æ–™</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a18c20622434b8e9a0e94a2c8523d7d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT3BlblRpbnnnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715173&amp;x-signature=QkQLv7j4GpG8DaO4xVU20VTBDks%3D" alt="12.gif" loading="lazy"/></p>
<ul>
<li>æ‰¹é‡åˆ é™¤ç»„ä»¶ç‰©æ–™</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4662a72b1674fd5a9b4be4d2ba16235~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT3BlblRpbnnnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715173&amp;x-signature=HJe9UfX6DMBAd1KED80ZEtasOlU%3D" alt="13.gif" loading="lazy"/>
*   æ‰¹é‡å¯¼å‡ºç»„ä»¶ç‰©æ–™</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e15b7249246440ef9ea73a8f439ee63e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT3BlblRpbnnnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715173&amp;x-signature=aCBiOjDL9umHpZ5bNCN6sH9jbLo%3D" alt="14.gif" loading="lazy"/></p>
<p>å¯¼å‡ºæ–‡ä»¶å¦‚ä¸‹ï¼ˆä»¥element-plusçš„Breadcrumbä¸ºä¾‹ï¼‰ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">[</span>
  <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"npm"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"package"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"element-plus"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"exportName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ElBreadcrumb"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"icon"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"breadcrumb"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"zh_CN"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"é¢åŒ…å±‘"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"tags"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-string">"å¯¼èˆª"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"é¢åŒ…å±‘"</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"group"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"element-plus"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"schema"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"slots"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"default"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"label"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"zh_CN"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"é»˜è®¤å†…å®¹"</span>
          <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"zh_CN"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è‡ªå®šä¹‰é»˜è®¤å†…å®¹"</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"events"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"properties"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"0"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"label"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"zh_CN"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"åŸºç¡€å±æ€§"</span>
          <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
            <span class="hljs-punctuation">{</span>
              <span class="hljs-attr">"cols"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">12</span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ArrayItemConfigurator-test"</span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"label"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                  <span class="hljs-attr">"zh_CN"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"åˆ†éš”ç¬¦"</span>
                <span class="hljs-punctuation">}</span>
              <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"widget"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"props"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                  <span class="hljs-attr">"placeholder"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è¯·è¾“å…¥åˆ†éš”ç¬¦"</span>
                <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"component"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"InputConfigurator"</span>
              <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"disabled"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"property"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"separator"</span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"readOnly"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"required"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"zh_CN"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"åˆ†éš”ç¬¦"</span>
              <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"defaultValue"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/"</span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"labelPosition"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"left"</span>
            <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
            <span class="hljs-punctuation">{</span>
              <span class="hljs-attr">"cols"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">12</span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"unknown"</span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"label"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                  <span class="hljs-attr">"zh_CN"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å›¾æ ‡åˆ†éš”ç¬¦"</span>
                <span class="hljs-punctuation">}</span>
              <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"widget"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"props"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                  <span class="hljs-attr">"placeholder"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è¯·è¾“å…¥å›¾æ ‡åç§°"</span>
                <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"component"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"InputConfigurator"</span>
              <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"disabled"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"property"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"separatorIcon"</span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"readOnly"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"required"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å›¾æ ‡åˆ†éš”ç¬¦ç»„ä»¶"</span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"defaultValue"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"labelPosition"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"left"</span>
            <span class="hljs-punctuation">}</span>
          <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"zh_CN"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ç»„ä»¶æ ¸å¿ƒåŠŸèƒ½ç›¸å…³çš„é…ç½®ï¼ŒåŒ…æ‹¬ separatorã€ separatorIcon ç­‰æ ¸å¿ƒå±æ€§"</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"devMode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"proCode"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"doc_url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"category"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"element-plus"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"keywords"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-string">"Breadcrumb"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"é¢åŒ…å±‘"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"å¯¼èˆª"</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"snippets"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"icon"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"breadcrumb"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"zh_CN"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"é¢åŒ…å±‘"</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"schema"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"children"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
            <span class="hljs-punctuation">{</span>
              <span class="hljs-attr">"props"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"to"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/home"</span>
              <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"children"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
                <span class="hljs-punctuation">{</span>
                  <span class="hljs-attr">"props"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                    <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"é¦–é¡µ"</span>
                  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
                  <span class="hljs-attr">"componentName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Text"</span>
                <span class="hljs-punctuation">}</span>
              <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"componentName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ElBreadcrumbItem"</span>
            <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
            <span class="hljs-punctuation">{</span>
              <span class="hljs-attr">"props"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"to"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/list"</span>
              <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"children"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
                <span class="hljs-punctuation">{</span>
                  <span class="hljs-attr">"props"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                    <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"åˆ—è¡¨é¡µ"</span>
                  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
                  <span class="hljs-attr">"componentName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Text"</span>
                <span class="hljs-punctuation">}</span>
              <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"componentName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ElBreadcrumbItem"</span>
            <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
            <span class="hljs-punctuation">{</span>
              <span class="hljs-attr">"props"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"children"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
                <span class="hljs-punctuation">{</span>
                  <span class="hljs-attr">"props"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                    <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è¯¦æƒ…é¡µ"</span>
                  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
                  <span class="hljs-attr">"componentName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Text"</span>
                <span class="hljs-punctuation">}</span>
              <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"componentName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ElBreadcrumbItem"</span>
            <span class="hljs-punctuation">}</span>
          <span class="hljs-punctuation">]</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"category"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"element-plus"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"screenshot"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"snippetName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ElBreadcrumb"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"component"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ElBreadcrumb"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"configure"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"loop"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"styles"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"isModal"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"isLayout"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"isPopper"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"condition"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"framework"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Vue"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"shortcuts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"properties"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
          <span class="hljs-string">"separator"</span>
        <span class="hljs-punctuation">]</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"isNullNode"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"contextMenu"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"actions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
          <span class="hljs-string">"copy"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-string">"remove"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-string">"insert"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-string">"updateAttr"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-string">"bindEvent"</span>
        <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"disable"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"isContainer"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"nestingRule"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"childWhitelist"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ElBreadcrumbItem"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"parentWhitelist"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"ancestorWhitelist"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"descendantBlacklist"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"clickCapture"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"rootSelector"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"é¢åŒ…å±‘å¯¼èˆªç»„ä»¶ï¼Œç”¨äºæ˜¾ç¤ºå½“å‰é¡µé¢åœ¨ç³»ç»Ÿå±‚çº§ ç»“æ„ä¸­çš„ä½ç½®"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">]</span>
</code></pre>
<h2 data-id="heading-32">ç»“å°¾</h2>
<p>TinyEngine ä½ä»£ç ç‰©æ–™è‡ªåŠ¨å¯¼å…¥å·¥å…·çš„æ ¸å¿ƒç›®æ ‡ï¼Œæ˜¯é€šè¿‡ã€Œè‡ªåŠ¨åŒ–è§£æ + å¯è§†åŒ–æ“ä½œã€çš„é—­ç¯è®¾è®¡ï¼Œè§£å†³äº†ä½ä»£ç ç‰©æ–™æ¥å…¥çš„æ•ˆç‡ç“¶é¢ˆä¸å…¼å®¹æ€§éš¾é¢˜ã€‚æ— è®ºæ˜¯ URL çˆ¬å–ã€NPM è§£æè¿˜æ˜¯æºç ä¸Šä¼ ï¼Œå·¥å…·éƒ½åŠ›æ±‚ç®€åŒ–å…¨æµç¨‹æ“ä½œï¼Œè®©å¼€å‘è€…æ— éœ€å…³æ³¨åº•å±‚åè®®ç»†èŠ‚ä¸æ ¼å¼è½¬æ¢é€»è¾‘ï¼Œå³å¯å¿«é€Ÿå°†å„ç±» UI ç»„ä»¶æ— ç¼è½¬åŒ–ä¸ºç¬¦åˆ TinyEngine æ ‡å‡†çš„å¯ç”¨ç‰©æ–™ï¼Œè®©ä½ä»£ç ç‰©æ–™æ¥å…¥ä»ç¹ççš„æ‰‹åŠ¨é…ç½®ï¼Œè½¬å˜ä¸ºé«˜æ•ˆã€çœå¿ƒçš„ä¸€ç«™å¼æ“ä½œã€‚</p>
<h2 data-id="heading-33">å…³äºOpenTiny</h2>
<p>æ¬¢è¿åŠ å…¥ OpenTiny å¼€æºç¤¾åŒºã€‚æ·»åŠ å¾®ä¿¡å°åŠ©æ‰‹ï¼šopentiny-official ä¸€èµ·å‚ä¸äº¤æµå‰ç«¯æŠ€æœ¯ï½</p>
<p>OpenTiny å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopentiny.design" target="_blank" title="https://opentiny.design" ref="nofollow noopener noreferrer">opentiny.design</a><br/>
OpenTiny ä»£ç ä»“åº“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopentiny" target="_blank" title="https://github.com/opentiny" ref="nofollow noopener noreferrer">github.com/opentiny</a><br/>
TinyVue æºç ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopentiny%2Ftiny-vue" target="_blank" title="https://github.com/opentiny/tiny-vue" ref="nofollow noopener noreferrer">github.com/opentiny/tiâ€¦</a><br/>
TinyEngine æºç ï¼šâ€…<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopentiny%2Ftiny-engine" target="_blank" title="https://github.com/opentiny/tiny-engine" ref="nofollow noopener noreferrer">github.com/opentiny/tiâ€¦</a><br/>
æ¬¢è¿è¿›å…¥ä»£ç ä»“åº“ StarğŸŒŸTinyEngineã€TinyVueã€TinyNGã€TinyCLIã€TinyEditor~ å¦‚æœä½ ä¹Ÿæƒ³è¦å…±å»ºï¼Œå¯ä»¥è¿›å…¥ä»£ç ä»“åº“ï¼Œæ‰¾åˆ° good first issue æ ‡ç­¾ï¼Œä¸€èµ·å‚ä¸å¼€æºè´¡çŒ®~</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¾å›¢é¢è¯•ï¼šæ¥å£è¢«æ¶æ„ç‹‚åˆ·ï¼Œæ€ä¹ˆåŠï¼Ÿ]]></title>    <link>https://juejin.cn/post/7572385850635108358</link>    <guid>https://juejin.cn/post/7572385850635108358</guid>    <pubDate>2025-11-14T08:50:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572385850635108358" data-draft-id="7572397142363815978" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¾å›¢é¢è¯•ï¼šæ¥å£è¢«æ¶æ„ç‹‚åˆ·ï¼Œæ€ä¹ˆåŠï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-14T08:50:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Javaç¼–ç¨‹çˆ±å¥½è€…"/> <meta itemprop="url" content="https://juejin.cn/user/819554264300154"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¾å›¢é¢è¯•ï¼šæ¥å£è¢«æ¶æ„ç‹‚åˆ·ï¼Œæ€ä¹ˆåŠï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/819554264300154/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Javaç¼–ç¨‹çˆ±å¥½è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T08:50:19.000Z" title="Fri Nov 14 2025 08:50:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸‹é¢æ˜¯åŸæœ¬é¢è¯•ç°åœºï¼š</p>
<blockquote>
<p>é¢è¯•å®˜ï¼šæ¥å£è¢«æ¶æ„ç‹‚åˆ·ï¼Œæ€ä¹ˆåŠï¼Ÿ</p>
<p>æˆ‘ï¼šè¿™ä¸ªæ²¡æè¿‡ï¼ˆæ¯å¤©CRUDï¼ŒçœŸçš„æ²¡æè¿‡ï¼‰</p>
<p>é¢è¯•å®˜ï¼šå¦‚æœç°åœ¨è®©ä½ æ¥è®¾è®¡ï¼Œä½ ä¼šæ€ä¹ˆè®¾è®¡ï¼Ÿ</p>
<p>æˆ‘ï¼šå·´æ‹‰å·´æ‹‰...èƒ¡æ‰¯ä¸€é€š</p>
<p>é¢è¯•å®˜ï¼šï¼ˆå¸¦ç€ä¸è€çƒ¦çš„è¡¨æƒ…ï¼‰æˆ‘ä»¬è¿˜æ˜¯æ¢ä¸ªè¯é¢˜å§</p>
<p>.....</p>
</blockquote>
<p>ä¸ºäº†ä¸è®©å¤§å®¶ä¹Ÿå’Œæˆ‘æœ‰åŒæ ·çš„é­é‡ï¼Œä»Šå¤©ï¼Œå’±ä»¬å°±ç”¨ä¸€ä¸ªéå¸¸ç®€å•çš„æ–¹å¼å®ç°é˜²åˆ·ï¼š</p>
<blockquote>
<p>ä¸€ä¸ªæ³¨è§£æå®šé˜²åˆ·</p>
</blockquote>
<h2 data-id="heading-0">æŠ€æœ¯ç‚¹</h2>
<p>æ¶‰åŠåˆ°çš„æŠ€æœ¯ç‚¹æœ‰å¦‚ä¸‹å‡ ä¸ªï¼š</p>
<ul>
<li>è‡ªå®šä¹‰æ³¨è§£</li>
<li>æ‹¦æˆªå™¨</li>
<li><code>Redis</code>çš„åŸºæœ¬æ“ä½œ</li>
<li><code>Spring Boot</code>é¡¹ç›®</li>
</ul>
<p>å…¶å®ï¼Œéå¸¸ç®€å•ï¼Œä¸»è¦çš„è¿˜æ˜¯çœ‹ä¸šåŠ¡ã€‚</p>
<h2 data-id="heading-1">è‡ªå®šä¹‰æ³¨è§£</h2>
<p>è‡ªå®šä¹‰ä¸€æ³¨è§£AccessLimit**ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span>Â java.lang.annotation.Retention;
<span class="hljs-keyword">import</span>Â java.lang.annotation.Target;
Â 
<span class="hljs-keyword">import</span>Â <span class="hljs-keyword">static</span>Â java.lang.annotation.ElementType.METHOD;
<span class="hljs-keyword">import</span>Â <span class="hljs-keyword">static</span>Â java.lang.annotation.RetentionPolicy.RUNTIME;
Â 
<span class="hljs-meta">@Retention(RUNTIME)</span>
<span class="hljs-meta">@Target(METHOD)</span>
<span class="hljs-keyword">public</span>Â <span class="hljs-meta">@interface</span>Â AccessLimitÂ {Â 
Â Â Â Â <span class="hljs-comment">//æ¬¡æ•°ä¸Šé™</span>
Â Â Â Â <span class="hljs-type">int</span>Â <span class="hljs-title function_">maxCount</span><span class="hljs-params">()</span>;
Â Â Â Â <span class="hljs-comment">//æ˜¯å¦éœ€è¦ç™»å½•</span>
Â Â Â Â <span class="hljs-type">boolean</span>Â <span class="hljs-title function_">needLogin</span><span class="hljs-params">()</span><span class="hljs-keyword">default</span>Â <span class="hljs-literal">false</span>;
}
</code></pre>
<h2 data-id="heading-2">æ·»åŠ Redisé…ç½®é¡¹</h2>
<p>åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼ŒåŠ å…¥<code>Redis</code>é…ç½®ï¼›</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">spring.redis.database</span>=<span class="hljs-number">0</span>
<span class="hljs-attr">spring.redis.host</span>=<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>
<span class="hljs-attr">spring.redis.port</span>=<span class="hljs-number">6379</span>
<span class="hljs-attr">spring.redis.jedis.pool.max-active</span>=<span class="hljs-number">100</span>
<span class="hljs-attr">spring.redis.jedis.pool.max-idle</span>=<span class="hljs-number">100</span>
<span class="hljs-attr">spring.redis.jedis.pool.min-idle</span>=<span class="hljs-number">10</span>
<span class="hljs-attr">spring.redis.jedis.pool.max-wait</span>=<span class="hljs-number">1000</span>ms
</code></pre>
<p>æ³¨æ„ï¼ŒæŠŠ<code>Redis</code>çš„starteråœ¨<code>pom</code>ä¸­å¼•å…¥ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
Â <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h2 data-id="heading-3">åˆ›å»ºæ‹¦æˆªå™¨</h2>
<p>åˆ›å»ºæ‹¦æˆªå™¨ï¼Œæ‰€æœ‰è¯·æ±‚éƒ½è¿›è¡Œæ‹¦æˆªï¼Œé˜²åˆ·çš„ä¸»è¦å†…å®¹å…¨éƒ¨åœ¨è¿™é‡Œã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">//Â ä¸€å †importÂ è¿™é‡Œå°±ä¸è´´å‡ºæ¥äº†ï¼Œéœ€è¦çš„è‡ªå·±å¯¼å…¥</span>
<span class="hljs-comment">/**
Â *Â Â å¤„ç†æ–¹æ³•ä¸ŠÂ æœ‰Â AccessLimitEnumÂ æ³¨è§£çš„æ–¹æ³•
Â *Â <span class="hljs-doctag">@author</span>Â javaåç«¯æŠ€æœ¯å…¨æ ˆ
Â *Â <span class="hljs-doctag">@date</span>Â 2021/8/6Â 15:42
Â */</span>
<span class="hljs-meta">@Component</span>Â 
<span class="hljs-keyword">public</span>Â <span class="hljs-keyword">class</span>Â <span class="hljs-title class_">FangshuaInterceptor</span>Â <span class="hljs-keyword">extends</span>Â <span class="hljs-title class_">HandlerInterceptorAdapter</span>Â {

Â Â Â Â <span class="hljs-meta">@Resource</span>
Â Â Â Â <span class="hljs-keyword">private</span>Â RedisTemplate&lt;String,Object&gt;Â redisTemplate;

Â Â Â Â <span class="hljs-meta">@Override</span>
Â Â Â Â <span class="hljs-keyword">public</span>Â <span class="hljs-type">boolean</span>Â <span class="hljs-title function_">preHandle</span><span class="hljs-params">(HttpServletRequestÂ request,Â HttpServletResponseÂ response,Â ObjectÂ handler)</span>Â <span class="hljs-keyword">throws</span>Â ExceptionÂ {

Â Â Â Â Â Â Â Â System.out.println(<span class="hljs-string">"----FangshuaInterceptor-----"</span>);
Â Â Â Â Â Â Â Â <span class="hljs-comment">//åˆ¤æ–­è¯·æ±‚æ˜¯å¦å±äºæ–¹æ³•çš„è¯·æ±‚</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (handlerÂ <span class="hljs-keyword">instanceof</span>Â HandlerMethod)Â {

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-type">HandlerMethod</span>Â <span class="hljs-variable">hm</span>Â <span class="hljs-operator">=</span>Â (HandlerMethod)Â handler;

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//æ£€æŸ¥æ–¹æ³•ä¸Šå®¤å‹æœ‰AccessLimitæ³¨è§£</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-type">AccessLimit</span>Â <span class="hljs-variable">accessLimit</span>Â <span class="hljs-operator">=</span>Â hm.getMethodAnnotation(AccessLimit.class);
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (accessLimitÂ ==Â <span class="hljs-literal">null</span>)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-literal">true</span>;
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//è·å–æ³¨è§£ä¸­çš„å‚æ•°ï¼Œ</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-type">int</span>Â <span class="hljs-variable">maxCount</span>Â <span class="hljs-operator">=</span>Â accessLimit.maxCount();
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-type">boolean</span>Â <span class="hljs-variable">login</span>Â <span class="hljs-operator">=</span>Â accessLimit.needLogin();
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-type">String</span>Â <span class="hljs-variable">key</span>Â <span class="hljs-operator">=</span>Â request.getRequestURI();
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//é˜²åˆ·=åŒä¸€ä¸ªè¯·æ±‚è·¯å¾„+åŒä¸€ä¸ªç”¨æˆ·+å½“å¤©</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//å¦‚æœéœ€è¦ç™»å½•</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (login)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//å¯ä»¥å……sessionä¸­è·å–userç›¸å…³ä¿¡æ¯</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//è¿™é‡Œçš„userIdæš‚æ—¶å†™æ­»ï¼Œ</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-type">Long</span>Â <span class="hljs-variable">userId</span>Â <span class="hljs-operator">=</span>Â <span class="hljs-number">101L</span>;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-type">String</span>Â <span class="hljs-variable">currentDay</span>Â <span class="hljs-operator">=</span>Â format(<span class="hljs-keyword">new</span>Â <span class="hljs-title class_">Date</span>(),Â <span class="hljs-string">"yyyyMMdd"</span>);
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â keyÂ +=Â currentDayÂ +Â userId;
Â Â Â Â Â Â Â Â Â Â Â Â }<span class="hljs-keyword">else</span>{
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//å¯ä»¥æ ¹æ®ç”¨æˆ·ä½¿ç”¨çš„ip+æ—¥æœŸè¿›è¡Œåˆ¤æ–­</span>
Â Â Â Â Â Â Â Â Â Â Â Â }

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//ä»redisä¸­è·å–ç”¨æˆ·è®¿é—®çš„æ¬¡æ•°</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-type">Object</span>Â <span class="hljs-variable">countCache</span>Â <span class="hljs-operator">=</span>Â redisTemplate.opsForValue().get(key);
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (countCacheÂ ==Â <span class="hljs-literal">null</span>)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//ç¬¬ä¸€æ¬¡è®¿é—®,æœ‰æ•ˆæœŸä¸ºä¸€å¤©</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//æ—¶é—´å•ä½è‡ªè¡Œå®šä¹‰</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â redisTemplate.opsForValue().set(key,<span class="hljs-number">1</span>,<span class="hljs-number">86400</span>,Â TimeUnit.SECONDS);
Â Â Â Â Â Â Â Â Â Â Â Â }Â <span class="hljs-keyword">else</span>{
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-type">Integer</span>Â <span class="hljs-variable">count</span>Â <span class="hljs-operator">=</span>Â (Integer)countCache;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (countÂ &lt;Â maxCount)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//åŠ 1</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â count++;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//ä¹Ÿå¯ä»¥ä½¿ç”¨increment(keyï¼‰æ–¹æ³•</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â redisTemplate.opsForValue().set(key,count);
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }Â <span class="hljs-keyword">else</span>Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//è¶…å‡ºè®¿é—®æ¬¡æ•°</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â render(response,Â <span class="hljs-string">"è®¿é—®æ¬¡æ•°å·²è¾¾ä¸Šé™ï¼"</span>);
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-literal">false</span>;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-literal">true</span>;
Â Â Â Â }
Â Â Â Â <span class="hljs-comment">//ä»…ä»…æ˜¯ä¸ºäº†æ¼”ç¤ºå“ˆ</span>
Â Â Â Â <span class="hljs-keyword">private</span>Â <span class="hljs-keyword">void</span>Â <span class="hljs-title function_">render</span><span class="hljs-params">(HttpServletResponseÂ response,Â StringÂ msg)</span>Â <span class="hljs-keyword">throws</span>Â ExceptionÂ {
Â Â Â Â Â Â Â Â response.setContentType(<span class="hljs-string">"application/json;charset=UTF-8"</span>);
Â Â Â Â Â Â Â Â <span class="hljs-type">OutputStream</span>Â <span class="hljs-variable">out</span>Â <span class="hljs-operator">=</span>Â response.getOutputStream();
Â Â Â Â Â Â Â Â out.write(msg.getBytes(<span class="hljs-string">"UTF-8"</span>));
Â Â Â Â Â Â Â Â out.flush();
Â Â Â Â Â Â Â Â out.close();
Â Â Â Â }
Â Â Â Â <span class="hljs-comment">//æ—¥æœŸæ ¼å¼</span>
Â Â Â Â <span class="hljs-keyword">public</span>Â <span class="hljs-keyword">static</span>Â StringÂ <span class="hljs-title function_">format</span><span class="hljs-params">(DateÂ date,Â StringÂ formatString)</span>Â {
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (formatStringÂ ==Â <span class="hljs-literal">null</span>)Â {
Â Â Â Â Â Â Â Â Â Â Â Â formatStringÂ =Â DATE_TIME_FORMAT;
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â <span class="hljs-type">DateFormat</span>Â <span class="hljs-variable">dd</span>Â <span class="hljs-operator">=</span>Â <span class="hljs-keyword">new</span>Â <span class="hljs-title class_">SimpleDateFormat</span>(formatString);
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â dd.format(date);
Â Â Â Â }
}
</code></pre>
<p><strong>æ³¨æ„</strong></p>
<blockquote>
<p>åˆ¤æ–­æ˜¯å¦ä¸ºç›¸åŒè¯·æ±‚ï¼Œä½¿ç”¨ï¼š<code>URI+userId+æ—¥æœŸ</code>ã€‚å³<code>Redis</code>çš„<code>key</code>=<code>URI+userId+yyyyMMdd</code>ï¼Œç¼“å­˜æœ‰æ•ˆæœŸä¸ºä¸€å¤©ã€‚</p>
<p>å¾ˆå¤šéƒ½åœ¨ä»£ç é‡Œæœ‰æ³¨é‡Šäº†ï¼Œå¦å¤–å¼ºè°ƒä¸€ä¸‹ï¼Œä¸è¦åæ§½ä»£ç ï¼Œä»…ä»…æ˜¯æ¼”ç¤ºã€‚</p>
</blockquote>
<h2 data-id="heading-4">æ³¨å†Œæ‹¦æˆªå™¨</h2>
<p>å°½ç®¡ä¸Šé¢æˆ‘ä»¬å·²ç»è‡ªå®šä¹‰å¹¶å®ç°å¥½äº†æ‹¦æˆªå™¨ï¼Œä½†è¿˜éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨æ³¨å†Œã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span>Â com.example.demo.ExceptionHander.FangshuaInterceptor;
<span class="hljs-keyword">import</span>Â org.springframework.beans.factory.<span class="hljs-keyword">annotation</span>.Autowired;
<span class="hljs-keyword">import</span>Â org.springframework.context.<span class="hljs-keyword">annotation</span>.Configuration;
<span class="hljs-keyword">import</span>Â org.springframework.web.servlet.config.<span class="hljs-keyword">annotation</span>.InterceptorRegistry;
<span class="hljs-keyword">import</span>Â org.springframework.web.servlet.config.<span class="hljs-keyword">annotation</span>.WebMvcConfigurerAdapter;

<span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span>Â <span class="hljs-keyword">class</span>Â <span class="hljs-title class_">WebConfig</span>Â <span class="hljs-title">extends</span>Â <span class="hljs-title">WebMvcConfigurerAdapter</span>Â {
Â 
Â Â Â Â <span class="hljs-meta">@Autowired</span>
Â Â Â Â <span class="hljs-keyword">private</span>Â FangshuaInterceptorÂ interceptor;
Â 
Â 
Â Â Â Â <span class="hljs-meta">@Override</span>
Â Â Â Â <span class="hljs-keyword">public</span>Â voidÂ addInterceptors(InterceptorRegistryÂ registry)Â {
Â Â Â Â Â Â Â Â registry.addInterceptor(interceptor);
Â Â Â Â }
}
</code></pre>
<p>è¿™æ ·æˆ‘ä»¬çš„æ³¨è§£å°±æ­£å¼æ³¨å†Œåˆ°æ‹¦æˆªå™¨é“¾ä¸­äº†ï¼Œåé¢é¡¹ç›®ä¸­æ‰ä¼šæœ‰æ•ˆã€‚</p>
<h2 data-id="heading-5">ä½¿ç”¨æ³¨è§£</h2>
<p>å‰é¢çš„å‡†å¤‡éƒ½æå®šäº†ï¼Œç°åœ¨æ¥å…·ä½“ä½¿ç”¨ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç®€å•çš„<code>controller</code>ï¼Œç„¶åï¼Œåœ¨æ–¹æ³•ä¸ŠåŠ ä¸Šæˆ‘ä»¬è‡ªå®šä¹‰çš„æ³¨è§£<code>AccessLimit</code>ï¼Œå°±å¯ä»¥å®ç°æ¥å£é˜²åˆ·äº†ã€‚</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">import</span>Â <span class="hljs-selector-tag">com</span><span class="hljs-selector-class">.example</span><span class="hljs-selector-class">.demo</span><span class="hljs-selector-class">.result</span><span class="hljs-selector-class">.Result</span>;
<span class="hljs-selector-tag">import</span>Â <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.stereotype</span><span class="hljs-selector-class">.Controller</span>;
<span class="hljs-selector-tag">import</span>Â <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.web</span><span class="hljs-selector-class">.bind</span><span class="hljs-selector-class">.annotation</span><span class="hljs-selector-class">.RequestMapping</span>;
<span class="hljs-selector-tag">import</span>Â <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.web</span><span class="hljs-selector-class">.bind</span><span class="hljs-selector-class">.annotation</span><span class="hljs-selector-class">.ResponseBody</span>;
Â 
@<span class="hljs-selector-tag">Controller</span>
<span class="hljs-selector-tag">public</span>Â <span class="hljs-selector-tag">class</span>Â <span class="hljs-selector-tag">FangshuaController</span>Â {
Â Â Â Â <span class="hljs-comment">//å…·ä½“è¯·æ±‚æ¬¡æ•°ç”±å…·ä½“ä¸šåŠ¡å†³å®šï¼Œä»¥åŠæ˜¯å¦éœ€è¦ç™»å½•</span>
Â Â Â Â <span class="hljs-variable">@AccessLimit</span>(maxCount=<span class="hljs-number">5</span>,Â needLogin=true)
Â Â Â Â <span class="hljs-variable">@RequestMapping</span>(<span class="hljs-string">"/fangshua"</span>)
Â Â Â Â <span class="hljs-variable">@ResponseBody</span>
Â Â Â Â publicÂ ObjectÂ <span class="hljs-built_in">fangshua</span>(){
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">return</span>Â "è¯·æ±‚æˆåŠŸ";
Â 
Â Â Â Â }
}
</code></pre>
<p>æµ‹è¯•ï¼Œæµè§ˆå™¨é¡µé¢ä¸Šè®¿é—®ï¼š<code>http://localhost:8080/fangshua</code></p>
<p>å‰é¢4æ¬¡è¿”å›çš„æ˜¯ï¼š<code>è¯·æ±‚æˆåŠŸ</code></p>
<p>è¶…è¿‡4æ¬¡åå˜æˆï¼š<code>è®¿é—®æ¬¡æ•°å·²è¾¾ä¸Šé™ï¼</code></p>
<blockquote>
<p>ä¸€ä¸ªæ³¨è§£å°±æå®šäº†ï¼Œæ˜¯ä¸æ˜¯ so easy ï¼ï¼ï¼</p>
</blockquote>
<h2 data-id="heading-6">æ€»ç»“</h2>
<p>å…³äºæ¥å£é˜²åˆ·ï¼Œå¦‚æœåœ¨é¢è¯•ä¸­è¢«é—®åˆ°ï¼Œè‡³å°‘è¿˜æ˜¯èƒ½è¯´ä¸ª123äº†ã€‚ä¹Ÿå»ºè®®å¤§å®¶æ‰‹åŠ¨è¯•è¯•ï¼Œè‡ªå·±æå‡ºæ¥äº†æ›´å¸¦åŠ²å„¿ã€‚</p>
<p>å¥½äº†ï¼Œä»Šå¤©å°±åˆ†äº«åˆ°æ­¤ï¼Œå¦‚æœå¯¹ä½ æœ‰å¸®åŠ©ï¼Œè®°å¾—<code>ç‚¹èµ</code>ã€<code>åˆ†äº«</code>ã€<code>åœ¨çœ‹</code>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Rustå…¥é—¨ï¼šè¿ç®—ç¬¦å’Œæ•°æ®ç±»å‹åº”ç”¨]]></title>    <link>https://juejin.cn/post/7572385850635124742</link>    <guid>https://juejin.cn/post/7572385850635124742</guid>    <pubDate>2025-11-14T08:54:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572385850635124742" data-draft-id="7572396000544145471" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Rustå…¥é—¨ï¼šè¿ç®—ç¬¦å’Œæ•°æ®ç±»å‹åº”ç”¨"/> <meta itemprop="keywords" content="åç«¯,Rust"/> <meta itemprop="datePublished" content="2025-11-14T08:54:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Javaæ°´è§£"/> <meta itemprop="url" content="https://juejin.cn/user/2441349519143037"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Rustå…¥é—¨ï¼šè¿ç®—ç¬¦å’Œæ•°æ®ç±»å‹åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2441349519143037/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Javaæ°´è§£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T08:54:21.000Z" title="Fri Nov 14 2025 08:54:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»23åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€RustÂ è¿ç®—ç¬¦ä¸[æ•°æ®ç±»å‹è¯¦è§£</h2>
<p>åœ¨Â [Rust ç¼–ç¨‹]é‡Œï¼Œä¸ç®¡æ˜¯ç®€å•çš„ç®—ä¸ªæ•°ã€åˆ¤æ–­ä¸ªçœŸå‡ï¼Œè¿˜æ˜¯å¤æ‚ç‚¹çš„æ¨¡å¼åŒ¹é…ã€ä½æ“ä½œï¼Œè¿ç®—ç¬¦éƒ½æ‰®æ¼”ç€æ ¸å¿ƒè§’è‰²ã€‚Rust ä¸ä»…æ”¯æŒå’±ä»¬ç†Ÿæ‚‰çš„ C ç³»è¯­è¨€é‡Œå¸¸è§çš„è¿ç®—ç¬¦ï¼Œè¿˜è´´å¿ƒåœ°åŠ äº†äº›ç‹¬æœ‰çš„ç¬¦å·ã€‚è¦æ˜¯èƒ½æŠŠè¿™äº›è¿ç®—ç¬¦ç”¨ç†Ÿï¼Œå†™ä»£ç æ—¶ä¸ä»…èƒ½æ›´ç®€æ´é«˜æ•ˆï¼Œè¿˜èƒ½å¸®ä½ æ›´é€å½»åœ°ææ‡‚ Rust çš„è¯­ä¹‰é€»è¾‘ã€‚</p>
<h3 data-id="heading-1"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>1ã€ç®—æœ¯è¿ç®—ç¬¦</h3>
<p>ç®—æœ¯è¿ç®—ç¬¦å°±æ˜¯ç”¨æ¥åšåŠ å‡ä¹˜é™¤è¿™äº›åŸºç¡€è®¡ç®—çš„ï¼Œå…·ä½“ç”¨æ³•å’Œæ•ˆæœå’±ä»¬çœ‹ä¸‹é¢è¿™å¼ è¡¨å°±æ¸…æ¥šäº†ï¼š</p>









































<table><thead><tr><th align="left">è¿ç®—ç¬¦</th><th align="left">è¯´æ˜</th><th align="left">ç¤ºä¾‹</th><th align="left">ç»“æœ</th></tr></thead><tbody><tr><td align="left">+</td><td align="left">åŠ æ³•</td><td align="left">5 + 2</td><td align="left">7</td></tr><tr><td align="left">-</td><td align="left">å‡æ³•</td><td align="left">5 - 2</td><td align="left">3</td></tr><tr><td align="left">*</td><td align="left">ä¹˜æ³•</td><td align="left">5 * 2</td><td align="left">10</td></tr><tr><td align="left">/</td><td align="left">é™¤æ³•ï¼ˆæ•´é™¤ï¼‰</td><td align="left">5 / 2</td><td align="left">2 ï¼ˆæ•´æ•°ï¼‰</td></tr><tr><td align="left">%</td><td align="left">å–ä½™</td><td align="left">5 % 2</td><td align="left">1</td></tr></tbody></table>
<p>å’±ä»¬æ¥å†™æ®µä»£ç å®é™…è¯•è¯•ï¼š</p>
<pre><code class="hljs language-css" lang="css">fn <span class="hljs-selector-tag">main</span>() {
    let <span class="hljs-selector-tag">a</span> = <span class="hljs-number">10</span>;
    let <span class="hljs-selector-tag">b</span> = <span class="hljs-number">3</span>;
    println!("<span class="hljs-selector-tag">a</span> + <span class="hljs-selector-tag">b</span> = {}", <span class="hljs-selector-tag">a</span> + <span class="hljs-selector-tag">b</span>);
    println!("<span class="hljs-selector-tag">a</span> - <span class="hljs-selector-tag">b</span> = {}", <span class="hljs-selector-tag">a</span> - <span class="hljs-selector-tag">b</span>);
    println!("<span class="hljs-selector-tag">a</span> * <span class="hljs-selector-tag">b</span> = {}", <span class="hljs-selector-tag">a</span> * <span class="hljs-selector-tag">b</span>);
    println!("<span class="hljs-selector-tag">a</span> / <span class="hljs-selector-tag">b</span> = {}", <span class="hljs-selector-tag">a</span> / <span class="hljs-selector-tag">b</span>);
    println!("<span class="hljs-selector-tag">a</span> % <span class="hljs-selector-tag">b</span> = {}", <span class="hljs-selector-tag">a</span> % <span class="hljs-selector-tag">b</span>);
}

AIå†™ä»£ç plain
<span class="hljs-number">123456789</span>
</code></pre>
<p>è¿è¡Œä¹‹åä¼šè¾“å‡ºè¿™æ ·çš„ç»“æœï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f2fe5020a38343568a8eab4802ceb68d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715261&amp;x-signature=zhf4V8idnSkctHcq3Qai%2FbxinCQ%3D" alt="" loading="lazy"/></p>
<p>è¿™é‡Œå¾—æä¸€å¥ï¼ŒRust é‡Œå¯æ²¡æœ‰Â <code>**</code>Â æˆ–è€…Â <code>^</code>Â è¿™ç§ä¹˜æ–¹è¿ç®—ç¬¦ï¼ˆåˆ«ææ··äº†ï¼Œ<code>^</code>Â åœ¨Â <code>Rust</code>Â é‡Œæ˜¯æŒ‰ä½å¼‚æˆ–ï¼‰ã€‚è¦æ˜¯æƒ³ç®—ä¹˜æ–¹ï¼Œå¾—ç”¨å®ƒå†…ç½®çš„Â <code>pow</code>Â æˆ–è€…Â <code>powf</code>Â æ–¹æ³•ï¼Œä¸åŒç±»å‹çš„æ•°å­—ç”¨æ³•è¿˜ä¸ä¸€æ ·ï¼š</p>
<ul>
<li>æ•´æ•°ç±»å‹è¦ç”¨Â <code>.pow(exp: u32)</code></li>
<li>æµ®ç‚¹ç±»å‹å°±å¾—ç”¨Â <code>.powf(exp: f64)</code></li>
</ul>
<p>å…ˆçœ‹æ•´æ•°ä¹˜æ–¹çš„ä¾‹å­ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function">fn <span class="hljs-title">main</span>()</span> {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">base</span>: i32 = <span class="hljs-number">2</span>;
    <span class="hljs-keyword">let</span> result = <span class="hljs-keyword">base</span>.pow(<span class="hljs-number">3</span>); <span class="hljs-comment">// ç®—çš„æ˜¯ 2 çš„ 3 æ¬¡æ–¹</span>
    println!(<span class="hljs-string">"2^3 = {}"</span>, result);
}

AIå†™ä»£ç plain
<span class="hljs-number">12345</span>
</code></pre>
<p>è¾“å‡ºç»“æœå¾ˆç›´è§‚ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/55a54c6cb44a42108a10063269798456~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715261&amp;x-signature=sGNIK2%2Bb%2FKxiQfk3z6QJ7RVAI08%3D" alt="" loading="lazy"/></p>
<p>å†è¯•è¯•æµ®ç‚¹æ•°ä¹˜æ–¹ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function">fn <span class="hljs-title">main</span>()</span> {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">base</span>: f64 = <span class="hljs-number">2.0</span>;
    <span class="hljs-keyword">let</span> result = <span class="hljs-keyword">base</span>.powf(<span class="hljs-number">2.5</span>); <span class="hljs-comment">// è¿™é‡Œæ˜¯ 2 çš„ 2.5 æ¬¡æ–¹</span>
    println!(<span class="hljs-string">"2^2.5 = {}"</span>, result);
}

AIå†™ä»£ç plain
<span class="hljs-number">12345</span>
</code></pre>
<p>è¿è¡Œåä¼šå¾—åˆ°è¿™æ ·çš„ç»“æœï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a9856a16a2c0419d8ee8af3b5d7671c7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715261&amp;x-signature=9X%2B8wbkKxqw%2BtpowVYkbKTsSs0M%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-2"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>2ã€å…³ç³»ï¼ˆæ¯”è¾ƒï¼‰è¿ç®—ç¬¦</h3>
<p>å…³ç³»è¿ç®—ç¬¦ä¸»è¦ç”¨æ¥æ¯”è¾ƒä¸¤ä¸ªå€¼çš„å…³ç³»ï¼Œæ¯”å¦‚ç›¸ç­‰ä¸ç›¸ç­‰ã€è°å¤§è°å°ï¼Œç»“æœéƒ½æ˜¯å¸ƒå°”å€¼ï¼Œè¦ä¹ˆæ˜¯ trueï¼Œè¦ä¹ˆæ˜¯ falseã€‚å…·ä½“å¦‚ä¸‹è¡¨ï¼š</p>














































<table><thead><tr><th align="left">è¿ç®—ç¬¦</th><th align="left">è¯´æ˜</th><th align="left">ç¤ºä¾‹</th><th align="left">ç»“æœ</th></tr></thead><tbody><tr><td align="left">==</td><td align="left">ç›¸ç­‰</td><td align="left">5 == 5</td><td align="left">true</td></tr><tr><td align="left">!=</td><td align="left">ä¸ç›¸ç­‰</td><td align="left">5 != 2</td><td align="left">true</td></tr><tr><td align="left" colspan="2">å¤§äº</td><td align="left">5 &gt; 2</td><td align="left">true</td></tr><tr><td align="left">&lt;</td><td align="left">å°äº</td><td align="left">5 &lt; 2</td><td align="left">false</td></tr><tr><td align="left">&gt;=</td><td align="left">å¤§äºç­‰äº</td><td align="left">5 &gt;= 5</td><td align="left">true</td></tr><tr><td align="left">&lt;=</td><td align="left">å°äºç­‰äº</td><td align="left">2 &lt;= 5</td><td align="left">true</td></tr></tbody></table>
<p>å’±ä»¬ç”¨ä»£ç å®é™…éªŒè¯ä¸‹ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">x</span> = <span class="hljs-number">5</span>;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">y</span> = <span class="hljs-number">10</span>;
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"x == y : {}"</span>, x == y);
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"x != y : {}"</span>, x != y);
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"x &gt; y  : {}"</span>, x &gt; y);
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"x &lt; y  : {}"</span>, x &lt; y);
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"x &gt;= y : {}"</span>, x &gt;= y);
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"x &lt;= y : {}"</span>, x &lt;= y);
}

AIå†™ä»£ç plain
<span class="hljs-number">12345678910</span>
</code></pre>
<p>è¾“å‡ºç»“æœå¾ˆå®¹æ˜“ç†è§£ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">x</span> <span class="hljs-string">==</span> <span class="hljs-attr">y :</span> <span class="hljs-literal">false</span>
<span class="hljs-string">x</span> <span class="hljs-type">!=</span> <span class="hljs-attr">y :</span> <span class="hljs-literal">true</span>
<span class="hljs-string">x</span> <span class="hljs-string">&gt;</span> <span class="hljs-attr">y  :</span> <span class="hljs-literal">false</span>
<span class="hljs-string">x</span> <span class="hljs-string">&lt;</span> <span class="hljs-attr">y  :</span> <span class="hljs-literal">true</span>
<span class="hljs-string">x</span> <span class="hljs-string">&gt;=</span> <span class="hljs-attr">y :</span> <span class="hljs-literal">false</span>
<span class="hljs-string">x</span> <span class="hljs-string">&lt;=</span> <span class="hljs-attr">y :</span> <span class="hljs-literal">true</span>

<span class="hljs-string">AIå†™ä»£ç plain</span>
<span class="hljs-number">123456</span>
</code></pre>
<h3 data-id="heading-3"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>3ã€é€»è¾‘è¿ç®—ç¬¦</h3>
<p>é€»è¾‘è¿ç®—ç¬¦ä¸»è¦ç”¨äºé€»è¾‘åˆ¤æ–­ï¼Œç»å¸¸å’Œå…³ç³»è¿ç®—ç¬¦ä¸€èµ·ç”¨ï¼Œæ¥å®ç°æ›´å¤æ‚çš„æ¡ä»¶åˆ¤æ–­ã€‚å®ƒä¹Ÿåªæœ‰ true å’Œ false ä¸¤ç§ç»“æœï¼Œå…·ä½“ç”¨æ³•çœ‹ä¸‹é¢ï¼š</p>





























<table><thead><tr><th align="left">è¿ç®—ç¬¦</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th><th>ç»“æœ</th></tr></thead><tbody><tr><td align="left">&amp;&amp;</td><td>é€»è¾‘ä¸ï¼ˆANDï¼‰</td><td>true &amp;&amp; false</td><td>false</td></tr><tr><td align="left"/><td/><td/><td>é€»è¾‘æˆ–ï¼ˆORï¼‰</td></tr><tr><td align="left">!</td><td>é€»è¾‘éï¼ˆNOTï¼‰</td><td>!true</td><td>false</td></tr></tbody></table>
<p>å†™æ®µä»£ç æ„Ÿå—ä¸‹ï¼š</p>
<pre><code class="hljs language-css" lang="css">fn <span class="hljs-selector-tag">main</span>() {
    let <span class="hljs-selector-tag">a</span> = true;
    let <span class="hljs-selector-tag">b</span> = false;
    println!("<span class="hljs-selector-tag">a</span> &amp;&amp; <span class="hljs-selector-tag">b</span> = {}", <span class="hljs-selector-tag">a</span> &amp;&amp; <span class="hljs-selector-tag">b</span>);
    println!("<span class="hljs-selector-tag">a</span> || <span class="hljs-selector-tag">b</span> = {}", <span class="hljs-selector-tag">a</span> || <span class="hljs-selector-tag">b</span>);
    println!("!<span class="hljs-selector-tag">a</span> = {}", !<span class="hljs-selector-tag">a</span>);
}

AIå†™ä»£ç plain
<span class="hljs-number">1234567</span>
</code></pre>
<p>è¿è¡Œåè¾“å‡ºï¼š</p>
<pre><code class="hljs language-ini" lang="ini">a &amp;&amp; <span class="hljs-attr">b</span> = <span class="hljs-literal">false</span>
a || <span class="hljs-attr">b</span> = <span class="hljs-literal">true</span>
!<span class="hljs-attr">a</span> = <span class="hljs-literal">false</span>

AIå†™ä»£ç plain
123
</code></pre>
<h3 data-id="heading-4"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>4ã€ä½è¿ç®—ç¬¦</h3>
<p>ä½è¿ç®—ç¬¦æ˜¯ç›´æ¥å¯¹äºŒè¿›åˆ¶ä½è¿›è¡Œæ“ä½œçš„ï¼Œå’±ä»¬å¹³æ—¶å¤„ç†åº•å±‚æ•°æ®æˆ–è€…åšä¸€äº›é«˜æ•ˆè®¡ç®—æ—¶å¯èƒ½ä¼šç”¨åˆ°ã€‚å…·ä½“å¦‚ä¸‹è¡¨ï¼š</p>














































<table><thead><tr><th align="left">è¿ç®—ç¬¦</th><th align="left">è¯´æ˜</th><th>ç¤ºä¾‹</th><th align="left">ç»“æœ</th></tr></thead><tbody><tr><td align="left">&amp;</td><td align="left">æŒ‰ä½ä¸</td><td>5 &amp; 3</td><td align="left">1</td></tr><tr><td align="left" rowspan="2"/><td align="left"/><td>æŒ‰ä½æˆ–</td><td align="left">`5</td></tr><tr><td align="left">æŒ‰ä½å¼‚æˆ–</td><td align="left">5 ^ 3</td><td>6</td></tr><tr><td align="left">!</td><td align="left">æŒ‰ä½å–å</td><td>!5</td><td align="left">-6</td></tr><tr><td align="left">&lt;&lt;</td><td align="left">å·¦ç§»</td><td>5 &lt;&lt; 1</td><td align="left">10</td></tr><tr><td align="left">&gt;&gt;</td><td align="left">å³ç§»</td><td>5 &gt;&gt; 1</td><td align="left">2</td></tr></tbody></table>
<p>å’±ä»¬ç”¨äºŒè¿›åˆ¶çš„æ–¹å¼æ¥çœ‹çœ‹å®é™…æ•ˆæœï¼Œä»£ç é‡Œç”¨äº† u8 ç±»å‹ï¼Œè¿˜æ ‡æ³¨äº†äºŒè¿›åˆ¶å€¼ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">x</span>: <span class="hljs-type">u8</span> = <span class="hljs-number">0b1010</span>; <span class="hljs-comment">// å¯¹åº”çš„åè¿›åˆ¶æ˜¯ 10</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">y</span>: <span class="hljs-type">u8</span> = <span class="hljs-number">0b1100</span>; <span class="hljs-comment">// å¯¹åº”çš„åè¿›åˆ¶æ˜¯ 12</span>
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"x &amp; y = {:b}"</span>, x &amp; y);
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"x | y = {:b}"</span>, x | y);
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"x ^ y = {:b}"</span>, x ^ y);
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"!x = {:b}"</span>, !x);
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"x &lt;&lt; 1 = {:b}"</span>, x &lt;&lt; <span class="hljs-number">1</span>);
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"x &gt;&gt; 1 = {:b}"</span>, x &gt;&gt; <span class="hljs-number">1</span>);
}

AIå†™ä»£ç plain
<span class="hljs-number">12345678910</span>
</code></pre>
<p>è¾“å‡ºç»“æœéƒ½æ˜¯äºŒè¿›åˆ¶å½¢å¼ï¼Œèƒ½æ¸…æ¥šçœ‹åˆ°ä½è¿ç®—çš„è¿‡ç¨‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">x &amp; <span class="hljs-attr">y</span> = <span class="hljs-number">1000</span>
x | <span class="hljs-attr">y</span> = <span class="hljs-number">1110</span>
x ^ <span class="hljs-attr">y</span> = <span class="hljs-number">110</span>
!<span class="hljs-attr">x</span> = <span class="hljs-number">11110101</span>
x &lt;&lt; <span class="hljs-attr">1</span> = <span class="hljs-number">10100</span>
x &gt;&gt; <span class="hljs-attr">1</span> = <span class="hljs-number">101</span>

AIå†™ä»£ç plain
123456
</code></pre>
<h3 data-id="heading-5"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>5ã€èµ‹å€¼ä¸å¤åˆèµ‹å€¼è¿ç®—ç¬¦</h3>
<p>èµ‹å€¼è¿ç®—ç¬¦å°±æ˜¯ç»™å˜é‡èµ‹å€¼ï¼Œå¤åˆèµ‹å€¼è¿ç®—ç¬¦åˆ™æ˜¯æŠŠè¿ç®—å’Œèµ‹å€¼åˆåœ¨ä¸€èµ·ï¼Œå†™ä»£ç æ—¶èƒ½æ›´ç®€æ´ã€‚å…·ä½“å¦‚ä¸‹ï¼š</p>





















































<table><thead><tr><th align="left">è¿ç®—ç¬¦</th><th align="left">è¯´æ˜</th><th align="left">ç¤ºä¾‹</th><th align="left">ç»“æœ</th></tr></thead><tbody><tr><td align="left">=</td><td align="left">èµ‹å€¼</td><td align="left">let mut x = 5; x = 3;</td><td align="left">x = 3</td></tr><tr><td align="left">+=</td><td align="left">åŠ å¹¶èµ‹å€¼</td><td align="left">x += 2</td><td align="left">x = x + 2</td></tr><tr><td align="left">-=</td><td align="left">å‡å¹¶èµ‹å€¼</td><td align="left">x -= 2</td><td align="left">x = x - 2</td></tr><tr><td align="left">*=</td><td align="left">ä¹˜å¹¶èµ‹å€¼</td><td align="left">x *= 2</td><td align="left">x = x * 2</td></tr><tr><td align="left">/=</td><td align="left">é™¤å¹¶èµ‹å€¼</td><td align="left">x /= 2</td><td align="left">x = x / 2</td></tr><tr><td align="left">%=</td><td align="left">å–ä½™å¹¶èµ‹å€¼</td><td align="left">x %= 2</td><td align="left">x = x % 2</td></tr><tr><td align="left">&amp;=</td><td align="left">= ^= &lt;&lt;= &gt;&gt;=</td><td align="left">ä½è¿ç®—å¤åˆèµ‹å€¼</td><td align="left">x &amp;= 2</td></tr></tbody></table>
<p>å’±ä»¬ç”¨ä»£ç å®é™…æ“ä½œä¸‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">fn main() {
    let mut <span class="hljs-attr">n</span> = <span class="hljs-number">5</span><span class="hljs-comment">;</span>
    n += 3<span class="hljs-comment">;</span>
    println!("n += 3 -&gt; {}", n)<span class="hljs-comment">;</span>
    n *= 2<span class="hljs-comment">;</span>
    println!("n *= 2 -&gt; {}", n)<span class="hljs-comment">;</span>
    n &gt;&gt;= 1<span class="hljs-comment">;</span>
    println!("n &gt;&gt;= 1 -&gt; {}", n)<span class="hljs-comment">;</span>
}

AIå†™ä»£ç plain
123456789
</code></pre>
<p>è¾“å‡ºç»“æœèƒ½æ¸…æ™°çœ‹åˆ°å˜é‡ n çš„å˜åŒ–è¿‡ç¨‹ï¼š</p>
<pre><code class="hljs language-rust" lang="rust">n += <span class="hljs-number">3</span> <span class="hljs-punctuation">-&gt;</span> <span class="hljs-number">8</span>
n *= <span class="hljs-number">2</span> <span class="hljs-punctuation">-&gt;</span> <span class="hljs-number">16</span>
n &gt;&gt;= <span class="hljs-number">1</span> <span class="hljs-punctuation">-&gt;</span> <span class="hljs-number">8</span>

AIå†™ä»£ç plain
<span class="hljs-number">123</span>
</code></pre>
<h3 data-id="heading-6"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>6ã€å…¶ä»–å¸¸è§è¿ç®—ç¬¦</h3>
<p>é™¤äº†ä¸Šé¢å‡ ç±»ï¼ŒRust é‡Œè¿˜æœ‰äº›å¸¸ç”¨çš„è¿ç®—ç¬¦ï¼Œåœ¨ä¸åŒåœºæ™¯ä¸‹èƒ½å¸®å’±ä»¬ç®€åŒ–ä»£ç ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p>













































<table><thead><tr><th align="left">è¿ç®—ç¬¦</th><th align="left">è¯´æ˜</th><th align="left">ç¤ºä¾‹</th></tr></thead><tbody><tr><td align="left">â€¦</td><td align="left">èŒƒå›´ï¼ˆä¸å«å³ç«¯ï¼‰</td><td align="left">0â€¦5 äº§ç”Ÿ 0 åˆ° 4 è¿™äº›æ•°</td></tr><tr><td align="left">â€¦=</td><td align="left">èŒƒå›´ï¼ˆå«å³ç«¯ï¼‰</td><td align="left">0â€¦=5 äº§ç”Ÿ 0 åˆ° 5 è¿™äº›æ•°</td></tr><tr><td align="left">as</td><td align="left">ç±»å‹è½¬æ¢</td><td align="left">5 as f32 æŠŠæ•´æ•° 5 è½¬æˆæµ®ç‚¹æ•° 5.0</td></tr><tr><td align="left">?</td><td align="left">é”™è¯¯ä¼ æ’­ï¼ˆåœ¨ Result ä¸­ï¼‰</td><td align="left">some()?; å¤„ç†å¯èƒ½å‡ºç°çš„é”™è¯¯</td></tr><tr><td align="left">*</td><td align="left">è§£å¼•ç”¨</td><td align="left">*ptr è·å–æŒ‡é’ˆæŒ‡å‘çš„å€¼</td></tr><tr><td align="left">&amp;</td><td align="left">å–å¼•ç”¨</td><td align="left">&amp;x å¾—åˆ°å˜é‡ x çš„å¼•ç”¨</td></tr><tr><td align="left">ref</td><td align="left">ç»‘å®šä¸ºå¼•ç”¨</td><td align="left">let ref y = x; æŠŠ y ç»‘å®šä¸º x çš„å¼•ç”¨</td></tr></tbody></table>
<p>æ¥æ®µä»£ç å®é™…ç”¨ç”¨è¿™äº›è¿ç®—ç¬¦ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">x</span> = <span class="hljs-number">5</span>;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">y</span> = x <span class="hljs-keyword">as</span> <span class="hljs-type">f64</span>; <span class="hljs-comment">// æŠŠæ•´æ•° x è½¬æˆ f64 ç±»å‹çš„ y</span>
    <span class="hljs-comment">// ç”¨ .. éå† 1 åˆ° 3ï¼ˆä¸å« 4ï¼‰</span>
    <span class="hljs-keyword">for</span> <span class="hljs-variable">i</span> <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>..<span class="hljs-number">4</span> {
        <span class="hljs-built_in">print!</span>(<span class="hljs-string">"{} "</span>, i);
    }
    <span class="hljs-built_in">println!</span>();
    <span class="hljs-comment">// ç”¨ ..= éå† 1 åˆ° 3ï¼ˆå« 3ï¼‰</span>
    <span class="hljs-keyword">for</span> <span class="hljs-variable">i</span> <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>..=<span class="hljs-number">3</span> {
        <span class="hljs-built_in">print!</span>(<span class="hljs-string">"{} "</span>, i);
    }
    <span class="hljs-built_in">println!</span>();
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">a</span> = <span class="hljs-number">10</span>;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">b</span> = &amp;a; <span class="hljs-comment">// å– a çš„å¼•ç”¨èµ‹å€¼ç»™ b</span>
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"*b = {}"</span>, *b); <span class="hljs-comment">// è§£å¼•ç”¨ bï¼Œè·å–å®ƒæŒ‡å‘çš„ a çš„å€¼</span>
}

AIå†™ä»£ç plain
<span class="hljs-number">1234567891011121314151617</span>
</code></pre>
<p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">1 2 3 
1 2 3 
*<span class="hljs-attr">b</span> = <span class="hljs-number">10</span>

AIå†™ä»£ç plain
123
</code></pre>
<h2 data-id="heading-7"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>äºŒã€Rust æ•°æ®ç±»å‹</h2>
<p>äº†è§£å®Œè¿ç®—ç¬¦ï¼Œå’±ä»¬å†æ¥çœ‹çœ‹ Rust é‡Œçš„åŸºç¡€æ•°æ®ç±»å‹ï¼Œè¿™å¯æ˜¯å†™ä»£ç çš„åŸºç¡€ï¼Œå¾—ææ˜ç™½å®ƒä»¬å„è‡ªçš„ç‰¹ç‚¹å’Œç”¨æ³•ã€‚</p>
<h3 data-id="heading-8"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>1ã€æ•´æ•°å‹ï¼ˆIntegerï¼‰</h3>
<p>æ•´æ•°å‹ç®€ç§°æ•´å‹ï¼Œå®ƒæ ¹æ®æ¯”ç‰¹ä½é•¿åº¦å’Œæœ‰æ²¡æœ‰ç¬¦å·ï¼Œåˆ†æˆäº†å¥½å‡ ç§ç±»å‹ï¼Œå…·ä½“å¦‚ä¸‹è¡¨ï¼š</p>








































<table><thead><tr><th align="left">ä½é•¿åº¦</th><th align="left">æœ‰ç¬¦å·</th><th align="left">æ— ç¬¦å·</th></tr></thead><tbody><tr><td align="left">8-bit</td><td align="left">i8</td><td align="left">u8</td></tr><tr><td align="left">16-bit</td><td align="left">i16</td><td align="left">u16</td></tr><tr><td align="left">32-bit</td><td align="left">i32</td><td align="left">u32</td></tr><tr><td align="left">64-bit</td><td align="left">i64</td><td align="left">u64</td></tr><tr><td align="left">128-bit</td><td align="left">i128</td><td align="left">u128</td></tr><tr><td align="left">arch</td><td align="left">isize</td><td align="left">usize</td></tr></tbody></table>
<p>è¿™é‡Œé¢ isize å’Œ usize è¿™ä¸¤ç§ç±»å‹æ¯”è¾ƒç‰¹æ®Šï¼Œå®ƒä»¬æ˜¯ç”¨æ¥è¡¡é‡æ•°æ®å¤§å°çš„ï¼Œæ¯”ç‰¹ä½é•¿åº¦å–å†³äºè¿è¡Œçš„ç›®æ ‡å¹³å°ã€‚æ¯”å¦‚åœ¨ 32 ä½æ¶æ„çš„å¤„ç†å™¨ä¸Šï¼Œå®ƒä»¬å°±æ˜¯ 32 ä½çš„æ•´å‹ï¼›åˆ°äº† 64 ä½æ¶æ„çš„å¤„ç†å™¨ï¼Œå°±å˜æˆ 64 ä½çš„äº†ã€‚</p>
<p>è€Œä¸”æ•´æ•°è¿˜æœ‰å¥½å‡ ç§è¡¨è¿°æ–¹æ³•ï¼Œæ–¹ä¾¿å’±ä»¬æ ¹æ®ä¸åŒåœºæ™¯é€‰æ‹©ï¼š</p>





























<table><thead><tr><th align="left">è¿›åˆ¶</th><th align="left">ä¾‹å­</th></tr></thead><tbody><tr><td align="left">åè¿›åˆ¶</td><td align="left">98_222</td></tr><tr><td align="left">åå…­è¿›åˆ¶</td><td align="left">0xff</td></tr><tr><td align="left">å…«è¿›åˆ¶</td><td align="left">0o77</td></tr><tr><td align="left">äºŒè¿›åˆ¶</td><td align="left">0b1111_0000</td></tr><tr><td align="left">å­—èŠ‚(åªèƒ½è¡¨ç¤º u8 å‹)</td><td align="left">bâ€™Aâ€™</td></tr></tbody></table>
<p>ç»†å¿ƒçš„è¯ä½ ä¼šå‘ç°ï¼Œæœ‰çš„æ•´æ•°ä¸­é—´åŠ äº†ä¸‹åˆ’çº¿ï¼Œæ¯”å¦‚ 98_222ã€0b1111_0000ï¼Œè¿™ä¹ˆè®¾è®¡å…¶å®æ˜¯ä¸ºäº†è®©å’±ä»¬è¾“å…¥å¤§æ•°å­—æ—¶ï¼Œèƒ½æ›´å®¹æ˜“çœ‹æ¸…æ•°å­—çš„å¤§å°ï¼Œæ¯”å¦‚ 1_000_000 ä¸€çœ¼å°±èƒ½çœ‹å‡ºæ¥æ˜¯ä¸€ç™¾ä¸‡ï¼Œæ¯” 1000000 æ–¹ä¾¿å¤šäº†ã€‚</p>
<h3 data-id="heading-9"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>2ã€æµ®ç‚¹æ•°å‹ï¼ˆFloating-Pointï¼‰</h3>
<p>å’Œå¾ˆå¤šå…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸€æ ·ï¼ŒRust ä¹Ÿæ”¯æŒä¸¤ç§æµ®ç‚¹æ•°ç±»å‹ï¼š32 ä½æµ®ç‚¹æ•°ï¼ˆf32ï¼‰å’Œ 64 ä½æµ®ç‚¹æ•°ï¼ˆf64ï¼‰ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œåƒ 64.0 è¿™æ ·å†™çš„æµ®ç‚¹æ•°ï¼Œä¼šè¢«å½“æˆ 64 ä½æµ®ç‚¹æ•°ï¼ˆf64ï¼‰ã€‚ä¸ºå•¥é»˜è®¤æ˜¯ 64 ä½å‘¢ï¼Ÿå› ä¸ºç°åœ¨çš„è®¡ç®—æœºå¤„ç†å™¨ï¼Œè®¡ç®—è¿™ä¸¤ç§æµ®ç‚¹æ•°çš„é€Ÿåº¦å·®ä¸å¤šï¼Œä½† 64 ä½æµ®ç‚¹æ•°çš„ç²¾åº¦æ›´é«˜ï¼Œç”¨ç€æ›´é¡ºæ‰‹ã€‚</p>
<p>å’±ä»¬æ¥å®šä¹‰ä¸¤ä¸ªæµ®ç‚¹æ•°çœ‹çœ‹ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function">fn <span class="hljs-title">main</span>()</span> {
    <span class="hljs-keyword">let</span> x = <span class="hljs-number">2.0</span>; <span class="hljs-comment">// æ²¡æŒ‡å®šç±»å‹ï¼Œé»˜è®¤æ˜¯ f64</span>
    <span class="hljs-keyword">let</span> y: f32 = <span class="hljs-number">3.0</span>; <span class="hljs-comment">// æ˜ç¡®æŒ‡å®šæˆ f32 ç±»å‹</span>
}

AIå†™ä»£ç plain
<span class="hljs-number">1234</span>
</code></pre>
<p>æµ®ç‚¹æ•°ä¹Ÿèƒ½è¿›è¡Œå„ç§æ•°å­¦è¿ç®—ï¼Œå’Œæ•´æ•°è¿ç®—å·®ä¸å¤šï¼š</p>
<pre><code class="hljs language-ini" lang="ini">fn main() {
    let <span class="hljs-attr">sum</span> = <span class="hljs-number">5</span> + <span class="hljs-number">10</span><span class="hljs-comment">; // åŠ æ³•</span>
    let <span class="hljs-attr">difference</span> = <span class="hljs-number">95.5</span> - <span class="hljs-number">4.3</span><span class="hljs-comment">; // å‡æ³•</span>
    let <span class="hljs-attr">product</span> = <span class="hljs-number">4</span> * <span class="hljs-number">30</span><span class="hljs-comment">; // ä¹˜æ³•</span>
    let <span class="hljs-attr">quotient</span> = <span class="hljs-number">56.7</span> / <span class="hljs-number">32.2</span><span class="hljs-comment">; // é™¤æ³•</span>
    let <span class="hljs-attr">remainder</span> = <span class="hljs-number">43</span> % <span class="hljs-number">5</span><span class="hljs-comment">; // æ±‚ä½™</span>
}

AIå†™ä»£ç plain
1234567
</code></pre>
<p>ä¹‹å‰å’±ä»¬åœ¨å¤åˆèµ‹å€¼è¿ç®—ç¬¦é‡Œæåˆ°è¿‡ï¼Œå¾ˆå¤šè¿ç®—ç¬¦åé¢åŠ ä¸ª = å·ï¼Œå°±èƒ½å®ç°è‡ªè¿ç®—ï¼Œæ¯”å¦‚ sum += 1 å°±ç›¸å½“äº sum = sum + 1ï¼Œç”¨èµ·æ¥å¾ˆæ–¹ä¾¿ã€‚ä¸è¿‡è¿™é‡Œè¦æ³¨æ„ï¼ŒRust é‡Œå¯æ²¡æœ‰ ++ å’Œ â€“ è¿™ä¸¤ä¸ªè¿ç®—ç¬¦ã€‚ä¸ºå•¥å‘¢ï¼Ÿå› ä¸ºè¿™ä¸¤ä¸ªè¿ç®—ç¬¦æ”¾åœ¨å˜é‡å‰åï¼Œå¾ˆå®¹æ˜“è®©ä»£ç å¯è¯»æ€§å˜ä½ï¼Œè¿˜ä¼šè®©å¼€å‘è€…ä¸å®¹æ˜“æ³¨æ„åˆ°å˜é‡çš„å˜åŒ–ï¼Œæ‰€ä»¥ Rust å¹²è„†å°±ä¸æ”¯æŒäº†ã€‚</p>
<h3 data-id="heading-10"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>3ã€å¸ƒå°”å‹</h3>
<p>å¸ƒå°”å‹åœ¨ Rust é‡Œç”¨ bool è¡¨ç¤ºï¼Œå®ƒç‰¹åˆ«ç®€å•ï¼Œåªæœ‰ä¸¤ä¸ªå€¼ï¼štrueï¼ˆçœŸï¼‰å’Œ falseï¼ˆå‡ï¼‰ã€‚å¹³æ—¶åšæ¡ä»¶åˆ¤æ–­ï¼Œæ¯”å¦‚ if è¯­å¥é‡Œçš„æ¡ä»¶ï¼Œç”¨çš„å°±æ˜¯å¸ƒå°”å‹ã€‚</p>
<h3 data-id="heading-11"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>4ã€å­—ç¬¦å‹</h3>
<p>å­—ç¬¦å‹ç”¨ char è¡¨ç¤ºï¼Œå’Œå¾ˆå¤šè¯­è¨€ä¸ä¸€æ ·çš„æ˜¯ï¼ŒRust é‡Œçš„ char ç±»å‹å¤§å°æ˜¯ 4 ä¸ªå­—èŠ‚ï¼Œå®ƒä»£è¡¨çš„æ˜¯ Unicode æ ‡é‡å€¼ã€‚è¿™å°±æ„å‘³ç€å®ƒçš„åŠŸèƒ½å¾ˆå¼ºï¼Œä¸ä»…èƒ½è¡¨ç¤ºè‹±æ–‡å­—æ¯ï¼Œåƒä¸­æ–‡ã€æ—¥æ–‡ã€éŸ©æ–‡è¿™äº›éè‹±æ–‡å­—ç¬¦ï¼Œç”šè‡³è¡¨æƒ…ç¬¦å·ã€é›¶å®½åº¦ç©ºæ ¼ï¼Œåœ¨ Rust é‡Œéƒ½èƒ½å½“æˆæœ‰æ•ˆçš„ char å€¼ã€‚</p>
<p>ä¸è¿‡æœ‰ä¸ªèŒƒå›´è¦æ³¨æ„ï¼ŒUnicode å€¼çš„èŒƒå›´æ˜¯ä» U+0000 åˆ° U+D7FFï¼Œè¿˜æœ‰ U+E000 åˆ° U+10FFFFï¼ˆåŒ…æ‹¬ä¸¤ç«¯çš„æ•°å€¼ï¼‰ã€‚å¦å¤–å¾—æé†’ä¸€å¥ï¼Œâ€œå­—ç¬¦â€è¿™ä¸ªæ¦‚å¿µåœ¨ Unicode é‡Œå…¶å®å¹¶ä¸å­˜åœ¨ï¼Œæ‰€ä»¥ä½ å¹³æ—¶ç†è§£çš„â€œå­—ç¬¦â€ï¼Œå’Œ Rust é‡Œ char ä»£è¡¨çš„æ¦‚å¿µå¯èƒ½ä¸å¤ªä¸€æ ·ã€‚æ‰€ä»¥ä¸€èˆ¬æ›´æ¨èç”¨å­—ç¬¦ä¸²æ¥å­˜å‚¨ UTF-8 æ–‡å­—ï¼Œå°¤å…¶æ˜¯éè‹±æ–‡å­—ç¬¦ï¼Œæ”¾åœ¨å­—ç¬¦ä¸²é‡Œä¼šæ›´åˆé€‚ã€‚</p>
<p>è¿™é‡Œè¿˜æœ‰ä¸ªå°å‘è¦æ³¨æ„ï¼Œä¸­æ–‡æ–‡å­—ç¼–ç æœ‰ GBK å’Œ UTF-8 ä¸¤ç§ï¼Œè¦æ˜¯ç¼–ç¨‹æ—¶ç”¨ä¸­æ–‡å­—ç¬¦ä¸²ï¼Œå¾ˆå¯èƒ½ä¼šå‡ºç°ä¹±ç ã€‚è¿™ä¸€èˆ¬æ˜¯å› ä¸ºæºç¨‹åºå’Œå‘½ä»¤è¡Œçš„æ–‡å­—ç¼–ç ä¸ä¸€æ ·å¯¼è‡´çš„ã€‚æ‰€ä»¥åœ¨ Rust é‡Œï¼Œå­—ç¬¦ä¸²å’Œå­—ç¬¦éƒ½å¿…é¡»ç”¨ UTF-8 ç¼–ç ï¼Œä¸ç„¶ç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼Œè¿™ç‚¹ä¸€å®šè¦è®°ä½ã€‚</p>
<h3 data-id="heading-12"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>5ã€å¤åˆç±»å‹</h3>
<p>å‰é¢è¯´çš„éƒ½æ˜¯ç®€å•ç±»å‹ï¼ŒRust é‡Œè¿˜æœ‰å¤åˆç±»å‹ï¼Œèƒ½æŠŠå¤šä¸ªå€¼ç»„åˆåœ¨ä¸€èµ·ç”¨ï¼Œå¸¸ç”¨çš„æœ‰å…ƒç»„å’Œæ•°ç»„ã€‚</p>
<h4 data-id="heading-13"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>â€”å…ƒç»„</h4>
<p>å…ƒç»„æ˜¯ç”¨ä¸€å¯¹å°æ‹¬å· ( ) æŠŠä¸€ç»„æ•°æ®æ‹¬èµ·æ¥ï¼Œé‡Œé¢çš„æ•°æ®å¯ä»¥æ˜¯ä¸åŒç±»å‹çš„ã€‚æ¯”å¦‚è¿™æ ·å®šä¹‰ä¸€ä¸ªå…ƒç»„ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">tup</span>: (<span class="hljs-type">i32</span>, <span class="hljs-type">f64</span>, <span class="hljs-type">u8</span>) = (<span class="hljs-number">500</span>, <span class="hljs-number">6.4</span>, <span class="hljs-number">1</span>);

AIå†™ä»£ç plain
<span class="hljs-number">1</span>
</code></pre>
<p>è¦æ˜¯æƒ³è®¿é—®å…ƒç»„é‡Œçš„å…ƒç´ ï¼Œå°±ç”¨â€œå…ƒç»„å.ç´¢å¼•â€çš„æ–¹å¼ï¼Œç´¢å¼•ä» 0 å¼€å§‹ã€‚æ¯”å¦‚ï¼š</p>
<ul>
<li>tup.0 å¯¹åº”çš„å°±æ˜¯ 500</li>
<li>tup.1 å¯¹åº”çš„å°±æ˜¯ 6.4</li>
<li>tup.2 å¯¹åº”çš„å°±æ˜¯ 1</li>
</ul>
<p>å¦å¤–ï¼Œè¿˜èƒ½é€šè¿‡æ¨¡å¼åŒ¹é…çš„æ–¹å¼ï¼ŒæŠŠå…ƒç»„é‡Œçš„å€¼åˆ†åˆ«èµ‹ç»™å˜é‡ï¼Œæ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">let</span> (x, y, z) = tup;

AIå†™ä»£ç plain
1
</code></pre>
<p>è¿™æ ·ä¸€æ¥ï¼Œx å°±ç­‰äº 500ï¼Œy ç­‰äº 6.4ï¼Œz ç­‰äº 1ï¼Œç”¨èµ·æ¥å¾ˆçµæ´»ã€‚</p>
<h4 data-id="heading-14"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>â€”æ•°ç»„</h4>
<p>å’Œå…ƒç»„ä¸ä¸€æ ·ï¼Œæ•°ç»„æ˜¯ç”¨ä¸€å¯¹ä¸­æ‹¬å· [ ] æ‹¬èµ·æ¥çš„ï¼Œè€Œä¸”é‡Œé¢çš„å…ƒç´ å¿…é¡»æ˜¯åŒä¸€ç§ç±»å‹ã€‚æ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-css" lang="css">let <span class="hljs-selector-tag">a</span> = <span class="hljs-selector-attr">[1, 2, 3, 4, 5]</span>;
// è¿™é‡Œ <span class="hljs-selector-tag">a</span> å°±æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º <span class="hljs-number">5</span> çš„æ•´å‹æ•°ç»„
let <span class="hljs-selector-tag">b</span> = <span class="hljs-selector-attr">[<span class="hljs-string">"January"</span>, <span class="hljs-string">"February"</span>, <span class="hljs-string">"March"</span>]</span>;
// è¿™é‡Œ <span class="hljs-selector-tag">b</span> æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º <span class="hljs-number">3</span> çš„å­—ç¬¦ä¸²æ•°ç»„

AIå†™ä»£ç plain
<span class="hljs-number">1234</span>
</code></pre>
<p>ä¹Ÿå¯ä»¥åœ¨å®šä¹‰çš„æ—¶å€™ï¼Œæ˜ç¡®æŒ‡å®šæ•°ç»„çš„ç±»å‹å’Œé•¿åº¦ï¼Œåƒè¿™æ ·ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">let c: <span class="hljs-section">[i32; 5]</span> = <span class="hljs-section">[1, 2, 3, 4, 5]</span><span class="hljs-comment">;</span>
// æ„æ€å°±æ˜¯ c æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º 5ã€å…ƒç´ ç±»å‹ä¸º i32 çš„æ•°ç»„

AIå†™ä»£ç plain
12
</code></pre>
<p>è¿˜æœ‰ä¸€ç§æ›´ç®€æ´çš„å®šä¹‰æ–¹å¼ï¼Œè¦æ˜¯æ•°ç»„é‡Œçš„å…ƒç´ éƒ½ä¸€æ ·ï¼Œå°±å¯ä»¥å†™æˆâ€œ[å…ƒç´ å€¼; é•¿åº¦]â€ï¼Œæ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">let <span class="hljs-attr">d</span> = [<span class="hljs-number">3</span><span class="hljs-comment">; 5];</span>
// è¿™å°±ç­‰åŒäº let d = [<span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>]<span class="hljs-comment">; ï¼Œç‰¹åˆ«æ–¹ä¾¿</span>

AIå†™ä»£ç plain
<span class="hljs-number">12</span>
</code></pre>
<p>è®¿é—®æ•°ç»„å…ƒç´ çš„æ–¹å¼å’Œå…ƒç»„ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ç”¨â€œæ•°ç»„å.ç´¢å¼•â€ï¼š</p>
<pre><code class="hljs language-css" lang="css">let first = <span class="hljs-selector-tag">a</span><span class="hljs-selector-attr">[0]</span>; // å– <span class="hljs-selector-tag">a</span> æ•°ç»„é‡Œç´¢å¼•ä¸º <span class="hljs-number">0</span> çš„å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯ <span class="hljs-number">1</span>
let second = <span class="hljs-selector-tag">a</span><span class="hljs-selector-attr">[1]</span>; // å– <span class="hljs-selector-tag">a</span> æ•°ç»„é‡Œç´¢å¼•ä¸º <span class="hljs-number">1</span> çš„å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯ <span class="hljs-number">2</span>

AIå†™ä»£ç plain
<span class="hljs-number">12</span>
</code></pre>
<p>ä¸è¿‡è¦æ³¨æ„ï¼Œæ•°ç»„é»˜è®¤æ˜¯ä¸å¯å˜çš„ï¼Œè¦æ˜¯æƒ³ä¿®æ”¹æ•°ç»„é‡Œçš„å…ƒç´ ï¼Œå¾—åœ¨å®šä¹‰çš„æ—¶å€™åŠ ä¸ª mut å…³é”®å­—ï¼Œæ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">a</span><span class="hljs-selector-attr">[0]</span> = <span class="hljs-number">123</span>; <span class="hljs-comment">// é”™è¯¯ï¼šæ•°ç»„ a æ²¡åŠ  mutï¼Œæ˜¯ä¸å¯å˜çš„ï¼Œä¸èƒ½ä¿®æ”¹</span>
<span class="hljs-selector-tag">let</span> <span class="hljs-selector-tag">mut</span> <span class="hljs-selector-tag">a</span> = <span class="hljs-selector-attr">[1, 2, 3]</span>;
<span class="hljs-selector-tag">a</span><span class="hljs-selector-attr">[0]</span> = <span class="hljs-number">4</span>; <span class="hljs-comment">// æ­£ç¡®ï¼šåŠ äº† mutï¼Œæ•°ç»„å˜æˆå¯å˜çš„äº†ï¼Œå¯ä»¥ä¿®æ”¹å…ƒç´ </span>

<span class="hljs-selector-tag">AI</span>å†™ä»£ç <span class="hljs-selector-tag">plain</span>
<span class="hljs-number">123</span>
</code></pre>
<h3 data-id="heading-15"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>6ã€æ•°ç»„çš„å®‰å…¨è®¿é—®ä¸åˆ‡ç‰‡</h3>
<p>èŠåˆ°æ•°ç»„ï¼Œæœ‰ä¸ªç‰¹åˆ«é‡è¦çš„ç‚¹å¾—è·Ÿä½ å¼ºè°ƒâ€”â€”æ•°ç»„çš„è®¿é—®å®‰å…¨ã€‚å’±ä»¬ä¹‹å‰è¯´è¿‡ï¼Œç”¨Â <code>æ•°ç»„å[ç´¢å¼•]</code>Â èƒ½å–åˆ°å¯¹åº”å…ƒç´ ï¼Œä½†ä½ çŸ¥é“å—ï¼Ÿå¦‚æœä¸å°å¿ƒç”¨äº†è¶…å‡ºæ•°ç»„é•¿åº¦çš„ç´¢å¼•ï¼Œæ¯”å¦‚ç»™ä¸€ä¸ªé•¿åº¦ä¸º 5 çš„æ•°ç»„ç”¨ç´¢å¼• 10ï¼ŒRust å¯ä¸ä¼šåƒæœ‰äº›è¯­è¨€é‚£æ ·æ‚„æ‚„è¿”å›ä¸ªå¥‡æ€ªçš„å€¼ï¼Œè€Œæ˜¯ä¼šç›´æ¥åœ¨è¿è¡Œæ—¶ panicï¼ˆå´©æºƒï¼‰ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­çœ‹çœ‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">fn main() {
    let <span class="hljs-attr">arr</span> = [<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>, <span class="hljs-number">50</span>]<span class="hljs-comment">;</span>
    let <span class="hljs-attr">wrong_index</span> = <span class="hljs-number">10</span><span class="hljs-comment">;</span>
    // ä¸‹é¢è¿™è¡Œä»£ç è¿è¡Œæ—¶ä¼š panic
    println!("{}", arr<span class="hljs-section">[wrong_index]</span>)<span class="hljs-comment">;</span>
}

AIå†™ä»£ç plain
123456
</code></pre>
<p>è¿è¡Œåä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„é”™è¯¯æç¤ºï¼Œæ˜ç¡®å‘Šè¯‰ä½ ç´¢å¼•è¶Šç•Œäº†ï¼Œè¿˜ä¼šæ ‡å‡ºæ•°ç»„é•¿åº¦å’Œä½ ç”¨çš„é”™è¯¯ç´¢å¼•ï¼Œå¸®ä½ å¿«é€Ÿå®šä½é—®é¢˜ã€‚è¿™ç§è®¾è®¡è™½ç„¶çœ‹èµ·æ¥â€œä¸¥æ ¼â€ï¼Œä½†èƒ½å¸®å’±ä»¬æå‰è§„é¿å¾ˆå¤šéšè—çš„bugï¼Œæ¯•ç«Ÿæ•°ç»„è¶Šç•Œå¯æ˜¯å¾ˆå¤šç¨‹åºå‡ºé—®é¢˜çš„æ ¹æºã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9f41bcecbd364a59b73dc30af5843045~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715261&amp;x-signature=i6EP%2BAhMUG28cNV1UXryui1WOxI%3D" alt="" loading="lazy"/></p>
<p>é‚£æœ‰æ²¡æœ‰æ›´å®‰å…¨çš„è®¿é—®æ–¹å¼å‘¢ï¼Ÿå½“ç„¶æœ‰ï¼Rust ç»™æ•°ç»„æä¾›äº†Â <code>get</code>Â æ–¹æ³•ï¼Œå®ƒè¿”å›ä¸€ä¸ªÂ <code>Option</code>Â ç±»å‹â€”â€”å¦‚æœç´¢å¼•åˆæ³•ï¼Œå°±è¿”å›Â <code>Some(å…ƒç´ å€¼)</code>ï¼›å¦‚æœç´¢å¼•è¶Šç•Œï¼Œå°±è¿”å›Â <code>None</code>ï¼Œä¸ä¼šè®©ç¨‹åºå´©æºƒã€‚å’±ä»¬å¯ä»¥ç”¨Â <code>if let</code>Â æˆ–è€…Â <code>match</code>Â æ¥å¤„ç†è¿™ä¸ªç»“æœï¼Œæ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">fn <span class="hljs-title function_">main</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> arr = [<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>, <span class="hljs-number">50</span>];
    <span class="hljs-keyword">let</span> index = <span class="hljs-number">3</span>;
    <span class="hljs-comment">// ç”¨ if let å¤„ç† get æ–¹æ³•çš„è¿”å›å€¼</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> <span class="hljs-title class_">Some</span>(value) = arr.<span class="hljs-title function_">get</span>(<span class="hljs-params">index</span>) {
        println!(<span class="hljs-string">"æ•°ç»„ç´¢å¼• {} å¯¹åº”çš„å…ƒç´ æ˜¯ï¼š{}"</span>, index, value);
    } <span class="hljs-keyword">else</span> {
        println!(<span class="hljs-string">"ç´¢å¼• {} è¶…å‡ºæ•°ç»„é•¿åº¦å•¦ï¼"</span>, index);
    }

    <span class="hljs-keyword">let</span> wrong_index = <span class="hljs-number">10</span>;
    match arr.<span class="hljs-title function_">get</span>(<span class="hljs-params">wrong_index</span>) {
        <span class="hljs-title class_">Some</span>(value) =&gt; println!(<span class="hljs-string">"æ•°ç»„ç´¢å¼• {} å¯¹åº”çš„å…ƒç´ æ˜¯ï¼š{}"</span>, wrong_index, value),
        <span class="hljs-function"><span class="hljs-params">None</span> =&gt;</span> println!(<span class="hljs-string">"ç´¢å¼• {} è¶…å‡ºæ•°ç»„é•¿åº¦å•¦ï¼"</span>, wrong_index),
    }
}

<span class="hljs-variable constant_">AI</span>å†™ä»£ç plain
<span class="hljs-number">12345678910111213141516</span>
</code></pre>
<p>è¿è¡Œè¿™æ®µä»£ç ï¼Œä¸ä¼šå‡ºç° panicï¼Œè€Œæ˜¯ä¼šå‹å¥½åœ°æç¤ºç´¢å¼•è¶Šç•Œçš„é—®é¢˜ï¼Œè¾“å‡ºç»“æœæ˜¯ï¼š</p>
<pre><code class="hljs">æ•°ç»„ç´¢å¼• 3 å¯¹åº”çš„å…ƒç´ æ˜¯ï¼š40
ç´¢å¼• 10 è¶…å‡ºæ•°ç»„é•¿åº¦å•¦ï¼

AIå†™ä»£ç plain
12
</code></pre>
<p>é™¤äº†ç›´æ¥è®¿é—®æ•°ç»„å…ƒç´ ï¼Œå’±ä»¬è¿˜ç»å¸¸éœ€è¦å¤„ç†æ•°ç»„çš„ä¸€éƒ¨åˆ†ï¼Œè¿™æ—¶å€™å°±ä¼šç”¨åˆ°â€œåˆ‡ç‰‡â€ï¼ˆSliceï¼‰ã€‚åˆ‡ç‰‡ä¸æ˜¯æ–°çš„æ•°ç»„ï¼Œè€Œæ˜¯å¯¹åŸæ•°ç»„æŸä¸€æ®µçš„å¼•ç”¨ï¼Œå®ƒèƒ½å¸®å’±ä»¬æ›´çµæ´»åœ°æ“ä½œæ•°ç»„çš„éƒ¨åˆ†æ•°æ®ï¼Œè¿˜ä¸ç”¨å¤åˆ¶é¢å¤–çš„å†…å­˜ã€‚</p>
<p>åˆ‡ç‰‡çš„è¯­æ³•æ˜¯Â <code>&amp;æ•°ç»„å[èµ·å§‹ç´¢å¼•..ç»“æŸç´¢å¼•]</code>ï¼Œæ³¨æ„è¿™é‡Œçš„â€œç»“æŸç´¢å¼•â€æ˜¯ä¸å«çš„ï¼Œå°±åƒä¹‹å‰è®²çš„èŒƒå›´è¿ç®—ç¬¦Â <code>..</code>Â ä¸€æ ·ã€‚æ¯”å¦‚æƒ³å–æ•°ç»„Â <code>[10,20,30,40,50]</code>Â é‡Œä»ç´¢å¼• 1 åˆ° 3 çš„å…ƒç´ ï¼ˆä¹Ÿå°±æ˜¯ 20ã€30ï¼‰ï¼Œå°±å¯ä»¥å†™æˆÂ <code>&amp;arr[1..3]</code>ã€‚</p>
<p>å’±ä»¬ç”¨ä»£ç è¯•è¯•ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">arr</span> = [<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>, <span class="hljs-number">50</span>];
    <span class="hljs-comment">// å–ç´¢å¼• 1 åˆ° 3 çš„åˆ‡ç‰‡ï¼ˆä¸å« 3ï¼‰ï¼Œå¯¹åº”å…ƒç´  20ã€30</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">slice1</span> = &amp;arr[<span class="hljs-number">1</span>..<span class="hljs-number">3</span>];
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"åˆ‡ç‰‡ slice1 çš„å…ƒç´ ï¼š"</span>);
    <span class="hljs-keyword">for</span> <span class="hljs-variable">val</span> <span class="hljs-keyword">in</span> slice1 {
        <span class="hljs-built_in">print!</span>(<span class="hljs-string">"{} "</span>, val);
    }
    <span class="hljs-built_in">println!</span>();

    <span class="hljs-comment">// èµ·å§‹ç´¢å¼•å¯ä»¥çœç•¥ï¼Œé»˜è®¤ä» 0 å¼€å§‹ï¼Œç›¸å½“äº &amp;arr[0..4]</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">slice2</span> = &amp;arr[..<span class="hljs-number">4</span>];
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"åˆ‡ç‰‡ slice2 çš„å…ƒç´ ï¼š"</span>);
    <span class="hljs-keyword">for</span> <span class="hljs-variable">val</span> <span class="hljs-keyword">in</span> slice2 {
        <span class="hljs-built_in">print!</span>(<span class="hljs-string">"{} "</span>, val);
    }
    <span class="hljs-built_in">println!</span>();

    <span class="hljs-comment">// ç»“æŸç´¢å¼•ä¹Ÿå¯ä»¥çœç•¥ï¼Œé»˜è®¤åˆ°æ•°ç»„æœ«å°¾ï¼Œç›¸å½“äº &amp;arr[2..5]</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">slice3</span> = &amp;arr[<span class="hljs-number">2</span>..];
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"åˆ‡ç‰‡ slice3 çš„å…ƒç´ ï¼š"</span>);
    <span class="hljs-keyword">for</span> <span class="hljs-variable">val</span> <span class="hljs-keyword">in</span> slice3 {
        <span class="hljs-built_in">print!</span>(<span class="hljs-string">"{} "</span>, val);
    }
    <span class="hljs-built_in">println!</span>();

    <span class="hljs-comment">// èµ·å§‹å’Œç»“æŸç´¢å¼•éƒ½çœç•¥ï¼Œå°±æ˜¯æ•´ä¸ªæ•°ç»„çš„åˆ‡ç‰‡ï¼Œç›¸å½“äº &amp;arr[0..5]</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">slice4</span> = &amp;arr[..];
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"åˆ‡ç‰‡ slice4 çš„å…ƒç´ ï¼š"</span>);
    <span class="hljs-keyword">for</span> <span class="hljs-variable">val</span> <span class="hljs-keyword">in</span> slice4 {
        <span class="hljs-built_in">print!</span>(<span class="hljs-string">"{} "</span>, val);
    }
}

AIå†™ä»£ç plain
<span class="hljs-number">123456789101112131415161718192021222324252627282930313233</span>
</code></pre>
<p>è¿è¡Œåè¾“å‡ºç»“æœï¼š</p>
<pre><code class="hljs">åˆ‡ç‰‡ slice1 çš„å…ƒç´ ï¼š
20 30 
åˆ‡ç‰‡ slice2 çš„å…ƒç´ ï¼š
10 20 30 40 
åˆ‡ç‰‡ slice3 çš„å…ƒç´ ï¼š
30 40 50 
åˆ‡ç‰‡ slice4 çš„å…ƒç´ ï¼š
10 20 30 40 50

AIå†™ä»£ç plain
12345678
</code></pre>
<p>åˆ‡ç‰‡è¿˜æœ‰ä¸ªç‰¹ç‚¹ï¼Œå®ƒä¼šâ€œå€Ÿç”¨â€åŸæ•°ç»„çš„æ‰€æœ‰æƒâ€”â€”å¦‚æœåˆ‡ç‰‡æ˜¯ä¸å¯å˜çš„ï¼ˆåƒä¸Šé¢ä¾‹å­é‡Œé‚£æ ·ï¼‰ï¼ŒåŸæ•°ç»„ä¹Ÿä¸èƒ½è¢«ä¿®æ”¹ï¼›å¦‚æœæƒ³åˆ›å»ºå¯å˜åˆ‡ç‰‡ï¼Œå¾—å…ˆæŠŠåŸæ•°ç»„å®šä¹‰æˆå¯å˜çš„ï¼ˆåŠ Â <code>mut</code>ï¼‰ï¼Œç„¶ååˆ‡ç‰‡ä¹Ÿè¦ç”¨Â <code>&amp;mut</code>Â ä¿®é¥°ï¼Œæ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">arr</span> = [<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>, <span class="hljs-number">50</span>];
    <span class="hljs-comment">// åˆ›å»ºå¯å˜åˆ‡ç‰‡</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">slice</span> = &amp;<span class="hljs-keyword">mut</span> arr[<span class="hljs-number">1</span>..<span class="hljs-number">4</span>];
    <span class="hljs-comment">// ä¿®æ”¹åˆ‡ç‰‡é‡Œçš„å…ƒç´ ï¼ŒåŸæ•°ç»„ä¹Ÿä¼šè·Ÿç€å˜</span>
    slice[<span class="hljs-number">0</span>] = <span class="hljs-number">200</span>;
    slice[<span class="hljs-number">2</span>] = <span class="hljs-number">400</span>;

    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"ä¿®æ”¹åçš„åˆ‡ç‰‡å…ƒç´ ï¼š"</span>);
    <span class="hljs-keyword">for</span> <span class="hljs-variable">val</span> <span class="hljs-keyword">in</span> slice {
        <span class="hljs-built_in">print!</span>(<span class="hljs-string">"{} "</span>, val);
    }
    <span class="hljs-built_in">println!</span>();

    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"ä¿®æ”¹åçš„åŸæ•°ç»„å…ƒç´ ï¼š"</span>);
    <span class="hljs-keyword">for</span> <span class="hljs-variable">val</span> <span class="hljs-keyword">in</span> arr {
        <span class="hljs-built_in">print!</span>(<span class="hljs-string">"{} "</span>, val);
    }
}

AIå†™ä»£ç plain
<span class="hljs-number">12345678910111213141516171819</span>
</code></pre>
<p>è¾“å‡ºç»“æœèƒ½çœ‹åˆ°ï¼Œåˆ‡ç‰‡å’ŒåŸæ•°ç»„çš„å…ƒç´ éƒ½è¢«ä¿®æ”¹äº†ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">ä¿®æ”¹åçš„åˆ‡ç‰‡å…ƒç´ ï¼š</span>
<span class="hljs-number">200</span> <span class="hljs-number">30</span> <span class="hljs-number">400</span> 
<span class="hljs-string">ä¿®æ”¹åçš„åŸæ•°ç»„å…ƒç´ ï¼š</span>
<span class="hljs-number">10</span> <span class="hljs-number">200</span> <span class="hljs-number">30</span> <span class="hljs-number">400</span> <span class="hljs-number">50</span>

<span class="hljs-string">AIå†™ä»£ç plain</span>
<span class="hljs-number">1234</span>
</code></pre>
<h3 data-id="heading-16"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>7ã€æ•°æ®ç±»å‹çš„ç±»å‹æ¨æ–­ä¸æ ‡æ³¨</h3>
<p>èŠåˆ° Rust çš„æ•°æ®ç±»å‹ï¼Œè¿˜æœ‰ä¸ªç‰¹åˆ«è´´å¿ƒçš„åŠŸèƒ½å¾—æâ€”â€”ç±»å‹æ¨æ–­ã€‚å¾ˆå¤šæ—¶å€™ï¼Œå’±ä»¬ä¸ç”¨ç‰¹æ„ç»™å˜é‡æ ‡æ³¨ç±»å‹ï¼ŒRust èƒ½æ ¹æ®å˜é‡çš„èµ‹å€¼å’Œä½¿ç”¨åœºæ™¯ï¼Œè‡ªåŠ¨æ¨æ–­å‡ºå®ƒçš„ç±»å‹ï¼Œè¿™æ ·å†™ä»£ç èƒ½çœä¸å°‘äº‹ã€‚</p>
<p>æ¯”å¦‚ä¹‹å‰å†™è¿‡çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">fn main() {
    let <span class="hljs-attr">a</span> = <span class="hljs-number">10</span><span class="hljs-comment">; // Rust ä¼šæ¨æ–­ a æ˜¯ i32 ç±»å‹ï¼ˆé»˜è®¤çš„æ•´æ•°ç±»å‹ï¼‰</span>
    let <span class="hljs-attr">b</span> = <span class="hljs-number">3.14</span><span class="hljs-comment">; // Rust ä¼šæ¨æ–­ b æ˜¯ f64 ç±»å‹ï¼ˆé»˜è®¤çš„æµ®ç‚¹æ•°ç±»å‹ï¼‰</span>
    let <span class="hljs-attr">c</span> = <span class="hljs-literal">true</span><span class="hljs-comment">; // Rust ä¼šæ¨æ–­ c æ˜¯ bool ç±»å‹</span>
    let <span class="hljs-attr">d</span> = <span class="hljs-string">'A'</span><span class="hljs-comment">; // Rust ä¼šæ¨æ–­ d æ˜¯ char ç±»å‹</span>
}

AIå†™ä»£ç plain
123456
</code></pre>
<p>è¿™é‡Œæ²¡ç»™ä»»ä½•å˜é‡æ ‡æ³¨ç±»å‹ï¼Œä½† Rust èƒ½å‡†ç¡®åˆ¤æ–­å‡ºå®ƒä»¬çš„ç±»å‹ï¼Œè¿è¡Œèµ·æ¥å®Œå…¨æ²¡é—®é¢˜ã€‚</p>
<p>ä¸è¿‡æœ‰æ—¶å€™ï¼ŒRust æ²¡åŠæ³•å•ç‹¬é€šè¿‡èµ‹å€¼æ¨æ–­ç±»å‹ï¼Œæ¯”å¦‚å½“å˜é‡èµ‹å€¼æ˜¯Â <code>0</code>Â æˆ–è€…Â <code>1</code>Â è¿™ç§ï¼Œæ—¢å¯èƒ½æ˜¯æ•´æ•°ï¼Œä¹Ÿå¯èƒ½æ˜¯å…¶ä»–ç±»å‹çš„æ—¶å€™ï¼Œå°±éœ€è¦å’±ä»¬æ‰‹åŠ¨æ ‡æ³¨ç±»å‹äº†ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚æƒ³å®šä¹‰ä¸€ä¸ªÂ <code>u8</code>Â ç±»å‹çš„å˜é‡Â <code>num</code>ï¼Œå¦‚æœåªå†™Â <code>let num = 255;</code>ï¼ŒRust ä¼šé»˜è®¤æ¨æ–­æˆÂ <code>i32</code>Â ç±»å‹ï¼›å¦‚æœæƒ³è®©å®ƒæ˜¯Â <code>u8</code>ï¼Œå°±å¾—æ˜ç¡®æ ‡æ³¨ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-comment">// æ‰‹åŠ¨æ ‡æ³¨ num æ˜¯ u8 ç±»å‹</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">num</span>: <span class="hljs-type">u8</span> = <span class="hljs-number">255</span>;
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"num çš„ç±»å‹æ˜¯ u8ï¼Œå€¼æ˜¯ï¼š{}"</span>, num);

    <span class="hljs-comment">// å†æ¯”å¦‚ï¼Œæƒ³è®©æµ®ç‚¹æ•°æ˜¯ f32 ç±»å‹ï¼Œä¹Ÿå¾—æ ‡æ³¨</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">pi</span>: <span class="hljs-type">f32</span> = <span class="hljs-number">3.14159</span>;
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"pi çš„ç±»å‹æ˜¯ f32ï¼Œå€¼æ˜¯ï¼š{}"</span>, pi);
}

AIå†™ä»£ç plain
<span class="hljs-number">123456789</span>
</code></pre>
<p>è¿˜æœ‰ä¸€ç§æƒ…å†µï¼Œå½“å‡½æ•°çš„å‚æ•°æˆ–è¿”å›å€¼ç±»å‹ä¸æ˜ç¡®æ—¶ï¼Œä¹Ÿéœ€è¦æ‰‹åŠ¨æ ‡æ³¨ã€‚æ¯”å¦‚å†™ä¸€ä¸ªåŠ æ³•å‡½æ•°ï¼Œå¦‚æœä¸ç»™å‚æ•°å’Œè¿”å›å€¼æ ‡æ³¨ç±»å‹ï¼ŒRust å°±ä¸çŸ¥é“è¯¥ç”¨å“ªç§æ•´æ•°æˆ–æµ®ç‚¹æ•°ç±»å‹ï¼Œä¼šæŠ¥é”™ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// é”™è¯¯ï¼šå¿…é¡»ç»™å‚æ•°å’Œè¿”å›å€¼æ ‡æ³¨ç±»å‹</span>
<span class="hljs-comment">// fn add(x, y) {</span>
<span class="hljs-comment">//     x + y</span>
<span class="hljs-comment">// }</span>

<span class="hljs-comment">// æ­£ç¡®ï¼šæ ‡æ³¨ x å’Œ y æ˜¯ i32 ç±»å‹ï¼Œè¿”å›å€¼ä¹Ÿæ˜¯ i32 ç±»å‹</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">add</span>(x: <span class="hljs-type">i32</span>, y: <span class="hljs-type">i32</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">i32</span> {
    x + y
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">result</span> = <span class="hljs-title function_ invoke__">add</span>(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>);
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"10 + 20 = {}"</span>, result);
}

AIå†™ä»£ç plain
<span class="hljs-number">1234567891011121314</span>
</code></pre>
<p>è¿è¡Œè¿™æ®µä»£ç ï¼Œå°±èƒ½æ­£å¸¸è¾“å‡ºÂ <code>10 + 20 = 30</code>ã€‚</p>
<p>ç±»å‹æ ‡æ³¨ä¸ä»…èƒ½å¸® Rust æ˜ç¡®å˜é‡æˆ–å‡½æ•°çš„ç±»å‹ï¼Œè¿˜èƒ½è®©ä»£ç æ›´æ˜“è¯»â€”â€”åˆ«äººçœ‹ä»£ç æ—¶ï¼Œä¸ç”¨è´¹åŠ²æ¨æ–­ç±»å‹ï¼Œç›´æ¥å°±èƒ½çŸ¥é“å˜é‡æ˜¯ä»€ä¹ˆç±»å‹ï¼Œå‡½æ•°æ¥æ”¶ä»€ä¹ˆå‚æ•°ã€è¿”å›ä»€ä¹ˆå€¼ã€‚æ‰€ä»¥åœ¨å…³é”®çš„åœ°æ–¹æ‰‹åŠ¨æ ‡æ³¨ç±»å‹ï¼Œæ˜¯ä¸ªå¥½ä¹ æƒ¯ã€‚</p>
<h3 data-id="heading-17"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>8ã€æ•°æ®ç±»å‹çš„è½¬æ¢ç»†èŠ‚</h3>
<p>ä¹‹å‰å’±ä»¬æåˆ°è¿‡ç”¨Â <code>as</code>Â å…³é”®å­—åšç±»å‹è½¬æ¢ï¼Œæ¯”å¦‚æŠŠæ•´æ•°è½¬æˆæµ®ç‚¹æ•°Â <code>5 as f32</code>ï¼Œä½†ç±»å‹è½¬æ¢é‡Œè¿˜æœ‰äº›ç»†èŠ‚å¾—æ³¨æ„ï¼Œä¸ç„¶å¾ˆå®¹æ˜“å‡ºé—®é¢˜ã€‚</p>
<p>é¦–å…ˆï¼Œä¸åŒå¤§å°çš„æ•´æ•°ä¹‹é—´è½¬æ¢æ—¶ï¼Œè¦æ³¨æ„å€¼æ˜¯å¦è¶…å‡ºç›®æ ‡ç±»å‹çš„èŒƒå›´ã€‚æ¯”å¦‚æŠŠÂ <code>i32</code>Â ç±»å‹çš„Â <code>1000</code>Â è½¬æˆÂ <code>u8</code>Â ç±»å‹ï¼Œ<code>u8</code>Â çš„èŒƒå›´æ˜¯ 0-255ï¼Œ1000 è¶…å‡ºäº†è¿™ä¸ªèŒƒå›´ï¼Œè½¬æ¢åçš„å€¼ä¼šâ€œæº¢å‡ºâ€ï¼Œå˜æˆä¸€ä¸ªæ„æƒ³ä¸åˆ°çš„ç»“æœï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">big_num</span>: <span class="hljs-type">i32</span> = <span class="hljs-number">1000</span>;
    <span class="hljs-comment">// æŠŠ i32 ç±»å‹çš„ 1000 è½¬æˆ u8 ç±»å‹ï¼Œä¼šæº¢å‡º</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">small_num</span>: <span class="hljs-type">u8</span> = big_num <span class="hljs-keyword">as</span> <span class="hljs-type">u8</span>;
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"1000 è½¬æˆ u8 åçš„ç»“æœï¼š{}"</span>, small_num);
}

AIå†™ä»£ç plain
<span class="hljs-number">123456</span>
</code></pre>
<p>è¿è¡Œåè¾“å‡ºÂ <code>1000 è½¬æˆ u8 åçš„ç»“æœï¼š232</code>ï¼Œè¿™æ˜¯å› ä¸º 1000 é™¤ä»¥ 256ï¼ˆu8 çš„å–å€¼èŒƒå›´å¤§å°ï¼‰çš„ä½™æ•°æ˜¯ 232ï¼Œæ‰€ä»¥å°±å¾—åˆ°äº†è¿™ä¸ªç»“æœã€‚è¿™ç§æº¢å‡ºåœ¨ Rust é‡Œä¸ä¼šæŠ¥é”™ï¼Œè€Œæ˜¯ç›´æ¥æˆªæ–­ï¼Œæ‰€ä»¥è½¬æ¢çš„æ—¶å€™ä¸€å®šè¦ç¡®è®¤å€¼åœ¨ç›®æ ‡ç±»å‹çš„èŒƒå›´å†…ã€‚</p>
<p>ç„¶åï¼Œæµ®ç‚¹æ•°è½¬æˆæ•´æ•°æ—¶ï¼Œä¼šç›´æ¥â€œæˆªæ–­â€å°æ•°éƒ¨åˆ†ï¼Œè€Œä¸æ˜¯å››èˆäº”å…¥ã€‚æ¯”å¦‚æŠŠÂ <code>3.9</code>Â è½¬æˆæ•´æ•°ï¼Œä¼šå˜æˆÂ <code>3</code>ï¼Œè€Œä¸æ˜¯Â <code>4</code>ï¼›æŠŠÂ <code>5.1</code>Â è½¬æˆæ•´æ•°ï¼Œä¼šå˜æˆÂ <code>5</code>ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">float1</span>: <span class="hljs-type">f64</span> = <span class="hljs-number">3.9</span>;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">int1</span>: <span class="hljs-type">i32</span> = float1 <span class="hljs-keyword">as</span> <span class="hljs-type">i32</span>;
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"3.9 è½¬æˆ i32 åçš„ç»“æœï¼š{}"</span>, int1); <span class="hljs-comment">// è¾“å‡º 3</span>

    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">float2</span>: <span class="hljs-type">f64</span> = <span class="hljs-number">5.1</span>;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">int2</span>: <span class="hljs-type">i32</span> = float2 <span class="hljs-keyword">as</span> <span class="hljs-type">i32</span>;
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"5.1 è½¬æˆ i32 åçš„ç»“æœï¼š{}"</span>, int2); <span class="hljs-comment">// è¾“å‡º 5</span>
}

AIå†™ä»£ç plain
<span class="hljs-number">123456789</span>
</code></pre>
<p>å¦‚æœæƒ³å®ç°å››èˆäº”å…¥çš„æ•ˆæœï¼Œå°±å¾—ç”¨ Rust æ ‡å‡†åº“æä¾›çš„æ–¹æ³•ï¼Œæ¯”å¦‚Â <code>round</code>Â æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function">fn <span class="hljs-title">main</span>()</span> {
    <span class="hljs-keyword">let</span> <span class="hljs-built_in">float</span>: f64 = <span class="hljs-number">3.9</span>;
    <span class="hljs-comment">// å…ˆè°ƒç”¨ round æ–¹æ³•å››èˆäº”å…¥ï¼Œå†è½¬æˆ i32 ç±»å‹</span>
    <span class="hljs-keyword">let</span> <span class="hljs-built_in">int</span>: i32 = <span class="hljs-built_in">float</span>.round() <span class="hljs-keyword">as</span> i32;
    println!(<span class="hljs-string">"3.9 å››èˆäº”å…¥åè½¬æˆ i32 çš„ç»“æœï¼š{}"</span>, <span class="hljs-built_in">int</span>); <span class="hljs-comment">// è¾“å‡º 4</span>
}

AIå†™ä»£ç plain
<span class="hljs-number">123456</span>
</code></pre>
<p>å¦å¤–ï¼Œå¸ƒå°”ç±»å‹å’Œå…¶ä»–ç±»å‹ä¹‹é—´ä¸èƒ½ç›´æ¥ç”¨Â <code>as</code>Â è½¬æ¢ã€‚æ¯”å¦‚ä¸èƒ½æŠŠÂ <code>true</code>Â è½¬æˆÂ <code>1</code>ï¼Œä¹Ÿä¸èƒ½æŠŠÂ <code>0</code>Â è½¬æˆÂ <code>false</code>ï¼Œè¿™æ ·å†™ä¼šæŠ¥é”™ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">fn main() {
    let <span class="hljs-attr">b</span> = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
    // é”™è¯¯ï¼šå¸ƒå°”ç±»å‹ä¸èƒ½ç›´æ¥è½¬æˆæ•´æ•°
    // let <span class="hljs-attr">num</span> = b as i32<span class="hljs-comment">;</span>

    let <span class="hljs-attr">num</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
    // é”™è¯¯ï¼šæ•´æ•°ä¸èƒ½ç›´æ¥è½¬æˆå¸ƒå°”ç±»å‹
    // let <span class="hljs-attr">b</span> = num as bool<span class="hljs-comment">;</span>
}

AIå†™ä»£ç plain
123456789
</code></pre>
<p>å¦‚æœæƒ³æŠŠå¸ƒå°”ç±»å‹è½¬æˆæ•´æ•°ï¼Œå¯ä»¥ç”¨Â <code>if-else</code>Â åˆ¤æ–­ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">fn main() {
    let <span class="hljs-attr">b</span> = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
    let <span class="hljs-attr">num</span> = if b { <span class="hljs-number">1</span> } else { <span class="hljs-number">0</span> }<span class="hljs-comment">;</span>
    println!("true è½¬æˆæ•´æ•°ï¼š{}", num)<span class="hljs-comment">; // è¾“å‡º 1</span>

    let <span class="hljs-attr">num2</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
    let <span class="hljs-attr">b2</span> = num2 != <span class="hljs-number">0</span><span class="hljs-comment">;</span>
    println!("0 è½¬æˆå¸ƒå°”ç±»å‹ï¼š{}", b2)<span class="hljs-comment">; // è¾“å‡º false</span>
}

AIå†™ä»£ç plain
123456789
</code></pre>
<p>æœ€åè¦è®°ä½ï¼ŒRust ä¸æ”¯æŒè‡ªåŠ¨ç±»å‹è½¬æ¢ï¼ˆéšå¼è½¬æ¢ï¼‰ï¼Œæ¯”å¦‚ä¸èƒ½æŠŠÂ <code>i32</code>Â ç±»å‹çš„å˜é‡ç›´æ¥å’ŒÂ <code>f64</code>Â ç±»å‹çš„å˜é‡åšè¿ç®—ï¼Œå¿…é¡»æ‰‹åŠ¨ç”¨Â <code>as</code>Â è½¬æˆç›¸åŒç±»å‹æ‰èƒ½è¿ç®—ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">int_num</span>: <span class="hljs-type">i32</span> = <span class="hljs-number">10</span>;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">float_num</span>: <span class="hljs-type">f64</span> = <span class="hljs-number">3.5</span>;

    <span class="hljs-comment">// é”™è¯¯ï¼šä¸åŒç±»å‹ä¸èƒ½ç›´æ¥è¿ç®—</span>
    <span class="hljs-comment">// let result = int_num + float_num;</span>

    <span class="hljs-comment">// æ­£ç¡®ï¼šæŠŠ int_num è½¬æˆ f64 ç±»å‹ï¼Œå†å’Œ float_num ç›¸åŠ </span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">result</span> = (int_num <span class="hljs-keyword">as</span> <span class="hljs-type">f64</span>) + float_num;
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"10 + 3.5 = {}"</span>, result); <span class="hljs-comment">// è¾“å‡º 13.5</span>
}

AIå†™ä»£ç plain
<span class="hljs-number">1234567891011</span>
</code></pre>
<p>è¿™ç§â€œå¿…é¡»æ‰‹åŠ¨è½¬æ¢â€çš„è®¾è®¡ï¼Œè™½ç„¶å¤šå†™äº†ç‚¹ä»£ç ï¼Œä½†èƒ½é¿å…å¾ˆå¤šå› ä¸ºéšå¼è½¬æ¢å¸¦æ¥çš„æ„å¤–é”™è¯¯ï¼Œè®©ä»£ç æ›´å®‰å…¨ã€æ›´å¯æ§ã€‚</p>
<h2 data-id="heading-18"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>ä¸‰ã€æ€»ç»“</h2>
<p>åˆ°è¿™é‡Œï¼Œå’±ä»¬å…³äº Rust è¿ç®—ç¬¦ä¸æ•°æ®ç±»å‹çš„æ ¸å¿ƒå†…å®¹å°±æ¢³ç†å¾—å·®ä¸å¤šäº†ã€‚å›é¡¾ä¸‹æ¥ï¼Œè¿™ä¸¤éƒ¨åˆ†å…¶å®æ˜¯ Rust ç¼–ç¨‹çš„â€œåœ°åŸºâ€â€”â€”è¿ç®—ç¬¦å¸®å’±ä»¬å®ç°æ•°æ®çš„è®¡ç®—ã€åˆ¤æ–­å’Œæ“ä½œé€»è¾‘ï¼Œä»ç®€å•çš„åŠ å‡ä¹˜é™¤åˆ°å¤æ‚çš„ä½è¿ç®—ã€é”™è¯¯ä¼ æ’­ï¼Œæ¯ä¸€ç§éƒ½æœ‰å®ƒç‰¹å®šçš„ä½¿ç”¨åœºæ™¯ï¼Œå°¤å…¶æ˜¯ Rust ç‹¬æœ‰çš„èŒƒå›´è¿ç®—ç¬¦Â <code>..</code>/<code>..=</code>ã€è§£å¼•ç”¨Â <code>*</code>Â è¿™äº›ï¼Œç”¨ç†Ÿäº†èƒ½è®©ä»£ç åˆç®€æ´åˆåœ°é“ï¼›è€Œæ•°æ®ç±»å‹åˆ™å†³å®šäº†æ•°æ®çš„â€œå½¢æ€â€å’Œâ€œèƒ½åŠ›â€ï¼Œä¸ç®¡æ˜¯åŒºåˆ†æœ‰ç¬¦å·/æ— ç¬¦å·çš„æ•´å‹ã€ç²¾åº¦ä¸åŒçš„æµ®ç‚¹æ•°ï¼Œè¿˜æ˜¯æ”¯æŒå¤šç±»å‹ç»„åˆçš„å…ƒç»„ã€åŒç±»å‹èšåˆçš„æ•°ç»„ï¼Œç†è§£å®ƒä»¬çš„ç‰¹æ€§ï¼ˆæ¯”å¦‚æ•°ç»„çš„ä¸å¯å˜æ€§ã€char çš„ Unicode æ”¯æŒï¼‰å’Œå®‰å…¨è§„åˆ™ï¼ˆæ¯”å¦‚æ•°ç»„è¶Šç•Œä¼š panicã€ç±»å‹è½¬æ¢éœ€æ‰‹åŠ¨ï¼‰ï¼Œæ‰èƒ½é¿å…è¸©å‘ã€‚</p>
<p>ç‰¹åˆ«è¦æçš„æ˜¯ Rust çš„è®¾è®¡æ€è·¯â€”â€”å®ƒä¸è¿½æ±‚â€œå†™å¾—å¿«â€ï¼Œè€Œæ˜¯æ›´çœ‹é‡â€œå†™å¾—å¯¹â€ã€‚æ¯”å¦‚æ•°ç»„è¶Šç•Œæ—¶ç›´æ¥ panic è€Œééšè—é”™è¯¯ï¼Œä¸æ”¯æŒéšå¼ç±»å‹è½¬æ¢ã€++/-- è¿ç®—ç¬¦ï¼Œéƒ½æ˜¯ä¸ºäº†å‡å°‘å¼€å‘è€…çš„â€œæ€ç»´æ¼æ´â€ï¼›è€Œç±»å‹æ¨æ–­åˆåœ¨ä¸¥æ ¼æ€§å’Œä¾¿æ·æ€§ä¹‹é—´åšäº†å¹³è¡¡ï¼Œè®©å’±ä»¬ä¸ç”¨å†™å†—ä½™çš„ç±»å‹æ ‡æ³¨ã€‚è¿™äº›ç»†èŠ‚çœ‹ä¼¼â€œéº»çƒ¦â€ï¼Œä½†æ­£æ˜¯å®ƒä»¬è®© Rust å†™å‡ºçš„ä»£ç æ›´å®‰å…¨ã€æ›´æ˜“ç»´æŠ¤ã€‚</p>
<p>å½“ç„¶ï¼Œå…‰çœ‹æ‡‚è¿˜ä¸å¤Ÿï¼Œå»ºè®®ä½ å¤šåŠ¨æ‰‹è¯•è¯•â€”â€”æ¯”å¦‚ç”¨ä¸åŒçš„è¿ç®—ç¬¦ç»„åˆå®ç°ä¸€ä¸ªç®€å•çš„è®¡ç®—å™¨ï¼Œæˆ–è€…ç”¨æ•°ç»„å’Œåˆ‡ç‰‡å¤„ç†ä¸€ç»„æ•°æ®ï¼Œåœ¨å®è·µä¸­æ„Ÿå—è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ã€æ•°æ®ç±»å‹çš„è½¬æ¢è§„åˆ™ã€‚ç­‰è¿™äº›åŸºç¡€çœŸæ­£æ‰ç‰¢äº†ï¼Œåç»­å­¦ä¹ å‡½æ•°ã€ç»“æ„ä½“ã€æ‰€æœ‰æƒè¿™äº›æ›´å¤æ‚çš„æ¦‚å¿µæ—¶ï¼Œå°±èƒ½æ›´è½»æ¾åœ°è·Ÿä¸ŠèŠ‚å¥ã€‚ Rust å…¥é—¨å¯èƒ½éœ€è¦å¤šèŠ±ç‚¹åŠŸå¤«ï¼Œä½†æ¯ä¸€æ¬¡å¯¹ç»†èŠ‚çš„æŒæ¡ï¼Œéƒ½æ˜¯åœ¨ä¸ºå†™å‡ºæ›´å¯é çš„ä»£ç é“ºè·¯ï½</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ ¹æ®è§†é¢‘æ’­æ”¾ç§’æ•°ï¼Œè®©echartsæœ‰äº¤äº’æ’­æ”¾æ•ˆæœ]]></title>    <link>https://juejin.cn/post/7572387666979176474</link>    <guid>https://juejin.cn/post/7572387666979176474</guid>    <pubDate>2025-11-14T08:33:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572387666979176474" data-draft-id="7572141912498798601" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ ¹æ®è§†é¢‘æ’­æ”¾ç§’æ•°ï¼Œè®©echartsæœ‰äº¤äº’æ’­æ”¾æ•ˆæœ"/> <meta itemprop="keywords" content="Trae"/> <meta itemprop="datePublished" content="2025-11-14T08:33:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä½ ä¸ä¼šå›°"/> <meta itemprop="url" content="https://juejin.cn/user/3664010809185870"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ ¹æ®è§†é¢‘æ’­æ”¾ç§’æ•°ï¼Œè®©echartsæœ‰äº¤äº’æ’­æ”¾æ•ˆæœ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3664010809185870/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä½ ä¸ä¼šå›°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T08:33:20.000Z" title="Fri Nov 14 2025 08:33:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>å…¬å¸çš„äº§å“ç»ç†åœ¨å¸‚åœºè°ƒç ”ä¸­ï¼Œå¾€å¾€ä¼šå‘ç°äº†è®¸å¤šä»¤äººæƒŠå¹çš„æŠ€æœ¯æ•ˆæœï¼Œè¿™äº›æ•ˆæœå¾€å¾€è®©äººçœ¼å‰ä¸€äº®ï¼Œå¾ˆå¤šéƒ½æ˜¯ç‹¬æœ‰çš„ï¼Œå¾ˆå¤šå‰ç«¯å¼€å‘ä¹ŸçŸ¥é“ç†è®ºä¸Šæ˜¯å¯ä»¥å®ç°çš„ï¼Œä½†æ˜¯æœç´¢ä¸€åœˆï¼Œå¯¹æ­¤å®ç°çš„demoæˆ–è€…æ˜¯ä»£ç ç‰‡æ®µï¼Œå¾€å¾€å¯¥å¯¥æ— å‡ ï¼Œæˆ–è€…è¦çš„æ•ˆæœä¸ä½³ï¼Œæ²¡æ³•æ»¡è¶³äº§å“çš„æœ€ä½åº•çº¿ï¼ˆçœ‹èµ·æ¥è¿˜ç®—è¿‡å¾—å»çš„æ•ˆæœï¼‰ã€‚</p>
<p>åœ¨å‰ç«¯å¼€å‘çš„æ—¥å¸¸å·¥ä½œä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šé‡åˆ°å„ç§å„æ ·çš„æŠ€æœ¯æŒ‘æˆ˜ï¼ˆäº§å“çš„å¥‡æ€ªéœ€æ±‚å°±æ˜¯å…¶ä¸­ä¹‹ä¸€ï¼‰ï¼Œä»Šå¤©å°±æ¥ä½¿ç”¨Trae çš„SOLOæ¨¡å¼å¸®æˆ‘ä»¬å‰ç«¯æ’å¿§è§£éš¾ï¼Œçœ‹çœ‹ç°åœ¨çš„aiæ˜¯å¦å¯ä»¥å®Œæˆéœ€æ±‚çš„ç™¾åˆ†ä¹‹80ï¼Œç„¶åå†ç”±å‰ç«¯ä»80ä¼˜åŒ–åˆ°95ï¼Œç”šè‡³æ›´é«˜ï¼ŒåºŸè¯ä¸å¤šè¯´ï¼Œè¿›å…¥ä¸»é¢˜ã€‚</p>
<h2 data-id="heading-1">å…ˆæ¥çœ‹çœ‹æœ€ç»ˆçš„æ•ˆæœ</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/266c0d4b28ed4d38ad3ad62465e8151e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2g5LiN5Lya5Zuw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763714000&amp;x-signature=DIHlJiwHb2IGBeOiSpQqMQ%2FoNPA%3D" alt="image.png" loading="lazy"/>
Traeéƒ¨ç½²çš„ä½“éªŒåœ°å€ï¼Œæœ‰å…´è¶£å¯ä»¥è¯•è¯•çœ‹æ•ˆæœ <a href="https://link.juejin.cn?target=https%3A%2F%2Ftraevite-vue3-tsylty.vercel.app%2F" target="_blank" title="https://traevite-vue3-tsylty.vercel.app/" ref="nofollow noopener noreferrer">traevite-vue3-tsylty.vercel.app/</a></p>
<p>æ˜¯ä¸æ˜¯è¿˜å¯ä»¥ï¼Œé‚£å°±æ¥çœ‹çœ‹Trae soloæ¨¡å¼æ˜¯æ€ä¹ˆä¸€æ­¥æ­¥å®ç°è¿™ä¸ªæ•ˆæœçš„</p>
<p>1.é¦–å…ˆæ˜¯è®©Traeå¸®æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªvue3+vite+tsçš„é¡¹ç›®æ¥è·‘èµ·æ¥ä»£ç 
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/94effaef5aef4f5ebc47c09b028b1cb8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2g5LiN5Lya5Zuw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763714000&amp;x-signature=St3M%2FyNBbI9EnPUdfttNorngC%2Fw%3D" alt="image.png" loading="lazy"/></p>
<p>2.åˆ›å»ºå¥½äº†ä¹‹åï¼Œå…ˆè®©traeåˆ†æï¼Œå¹¶æä¾›ç›¸åº”çš„å›¾ç‰‡ç¤ºä¾‹ï¼Œçœ‹çœ‹æ˜¯å¦æœ‰æœ€ä½³æ–¹æ¡ˆï¼Œæé—®å¦‚ä¸‹</p>
<p><strong>æˆ‘è¦çš„æ˜¯è§†é¢‘æ’­æ”¾ï¼Œç„¶åå¯¹åº”çš„echartså¯ä»¥å®ç°ä»å·¦åˆ°å³çš„æ’­æ”¾åŠ¨ç”»ï¼Œæ‹–åŠ¨è§†é¢‘ä¹Ÿä¼šå¯¹åº”çš„è¿›åº¦ï¼Œå…ˆåˆ†æä¸€ä¸‹ï¼Œä¸ç€æ€¥å†™ä»£ç ï¼Œæœ‰å•¥å®ç°çš„æ–¹æ¡ˆå¯ä»¥æ¯”è¾ƒä¼˜é›…</strong>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c17e886fb4cf43c79558e44231b6341d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2g5LiN5Lya5Zuw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763714000&amp;x-signature=Kl7kSzuJ1OQDvI0CArKfnw29r1Q%3D" alt="image.png" loading="lazy"/></p>
<p>3.å°è¯•æ–¹æ¡ˆ</p>
<p>æ–¹æ¡ˆ1æ²¡æœ‰å¬è¿‡ï¼Œä¸è¿‡å¯ä»¥ç›´æ¥è®©traeå°è¯•ä¸€ä¸‹
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/82aeef19f06d466c825fd819ce4f37e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2g5LiN5Lya5Zuw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763714000&amp;x-signature=9PfWGiAAyCCmzcXyd2t0IaQe8DM%3D" alt="image.png" loading="lazy"/>
å¼€å§‹å°è¯•ï¼Œæ•ˆæœæ ¹æœ¬ä¸å¯¹</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d3b9022b67f443f49b1db9e90724809f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2g5LiN5Lya5Zuw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763714000&amp;x-signature=l7TUr%2B1t7ITKYM%2BsC8d4gIeYD5E%3D" alt="image.png" loading="lazy"/></p>
<p>é‚£å°±å¼€å§‹é­ç­–ä¸€ä¸‹traeï¼Œæ•ˆæœè¿˜æ˜¯ä¸é”™çš„</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4775616356d54a2a84459d2e244e759c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2g5LiN5Lya5Zuw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763714000&amp;x-signature=39wQ8vjjQRcw%2BaMsybR34RIc%2B3c%3D" alt="image.png" loading="lazy"/></p>
<p>å»æ‰å³ä¸Šè§’çš„iconï¼Œçœ‹èµ·æ¥æ›´åŠ ç¬¦åˆäº§å“çš„éœ€æ±‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/008c01491bed45a19698f257b2968086~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2g5LiN5Lya5Zuw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763714000&amp;x-signature=32WAjjQYAn%2BnBtwYW1DboRmZQlM%3D" alt="image.png" loading="lazy"/></p>
<p>æœ‰ç‚¹å°bugï¼Œè§†é¢‘æš‚åœçœ‹ä¸åˆ°æ•ˆæœå’Œæ‹–åŠ¨è¿›åº¦æ¡ä¼šé—ªåŠ¨å¾ˆä¸èˆ’æœï¼Œæ˜¯å¦å¯ä»¥ä¼˜åŒ–ï¼Œå†æ¬¡æé—®Trae</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aaff505111194dabab0e6b48078a0b84~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2g5LiN5Lya5Zuw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763714000&amp;x-signature=yDVTQToq3P0qKrUv7xTlMFq7B00%3D" alt="image.png" loading="lazy"/></p>
<p>æœ€ç»ˆçš„æ•ˆæœå®ç°äº†ï¼Œå°±æ˜¯ç»å¸¸ä¼šæ‰¾ä¸åˆ°bugå°±è¦åˆ‡æ¢æ–¹æ¡ˆï¼Œå…¶å®æ–¹æ¡ˆ1æ²¡æœ‰é—®é¢˜çš„ï¼Œè¿™ä¸€ç‚¹è¿˜æ˜¯å¾ˆçƒ¦ï¼ŒTraeæ²¡æœ‰æ³¨æ„åˆ°æœ‰ä¸€è¡Œä»£ç å¯¼è‡´è¿™ä¸ªbugï¼Œè¿˜å¾—å‰ç«¯æ¥debuggerï¼Œå‘ç°åªè¦æš‚åœå°±é‡ç½®ä¸º0
<code>chart.on('finished', () =&gt; updateBrush(0))</code></p>
<h2 data-id="heading-2">æ€»ç»“</h2>
<p>è¿™ä¹Ÿå¤ªå‘äº†ï¼Œæ‰€ä»¥aiè¿˜æ˜¯æ²¡æ³•å®Œå®Œå…¨å…¨æ¥æ›¿å‰ç«¯çš„å¼€å‘ï¼Œè¿˜æ˜¯é‚£å¥è€è¯ï¼Œaiåªèƒ½æŠŠåŠŸèƒ½æˆ–è€…é¡¹ç›®åšåˆ°80åˆ†ï¼Œè¦åšåˆ°95åˆ†ç”šè‡³æ›´é«˜å°±è¦äººæ¥ä»‹å…¥ï¼Œä¼˜åŒ–ï¼Œæš‚æ—¶å‰ç«¯è¿˜æ˜¯æ¯”è¾ƒé«˜é—¨æ§›çš„ï¼Œè¦ç»“åˆaiæ¥å¸®åŠ©æˆ‘ä»¬æ­å»ºå‰ç«¯ä½“ç³»ï¼Œä¸è¦ä»¥å·±ä¹‹çŸ­å»æŒ‘æˆ˜aiçš„é•¿å¤„ï¼Œaiæ“…é•¿ç®—æ³•ï¼Œä½ å°±å»æ­»ç£•ç®—æ³•ï¼Œä½ ç®—çš„å†å¿«ä¹Ÿæ²¡æœ‰è®¡ç®—æœºå¿«ï¼Œè¦æŠŠaiæ²¡æœ‰çš„å˜æˆè‡ªå·±çš„é•¿å¤„ï¼Œæ ¹æ®è‡ªå·±çš„ç»éªŒå‘ç°é—®é¢˜ï¼Œå‘Šè¯‰aiï¼Œå¹¶è®©aiå»æ‰§è¡Œï¼Œè®©aiå¹²è„æ´»ç´¯æ´»ï¼ŒæŠŠaiå˜æˆè‡ªå·±çš„å‘˜å·¥~</p>
<h2 data-id="heading-3">å°æ’æ›²</h2>
<p>æƒ³å¿…ä½ ä¹Ÿé‡åˆ°è¿‡éƒ¨ç½²ä¹‹åè®¿é—®ä¸åˆ°é¡µé¢ï¼Œä½ çŸ¥é“æ˜¯ä»€ä¹ˆåŸå› ï¼Œè¿˜æ˜¯äº¤ç»™æˆ‘ä»¬çš„aiå‘˜å·¥å¤„ç†å§</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/07b746529ef84f0ab1202028ba068113~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2g5LiN5Lya5Zuw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763714000&amp;x-signature=qA5uaIionWI2tS2hYjmcmcdbNdk%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Copilotæ–°æ¨¡å‹GPT-5.1å¤ªå¼ºäº†ï¼è‡ªåŠ¨ç”Ÿæˆå®Œç¾Axioså°è£…ï¼ŒåŒäº‹éƒ½çœ‹å‚»äº†]]></title>    <link>https://juejin.cn/post/7572390974459052032</link>    <guid>https://juejin.cn/post/7572390974459052032</guid>    <pubDate>2025-11-14T08:37:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572390974459052032" data-draft-id="7572190151351975936" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Copilotæ–°æ¨¡å‹GPT-5.1å¤ªå¼ºäº†ï¼è‡ªåŠ¨ç”Ÿæˆå®Œç¾Axioså°è£…ï¼ŒåŒäº‹éƒ½çœ‹å‚»äº†"/> <meta itemprop="keywords" content="å‰ç«¯,GitHub,å‰ç«¯æ¡†æ¶"/> <meta itemprop="datePublished" content="2025-11-14T08:37:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯å¸‚ç•Œ"/> <meta itemprop="url" content="https://juejin.cn/user/289926798641176"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Copilotæ–°æ¨¡å‹GPT-5.1å¤ªå¼ºäº†ï¼è‡ªåŠ¨ç”Ÿæˆå®Œç¾Axioså°è£…ï¼ŒåŒäº‹éƒ½çœ‹å‚»äº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/289926798641176/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯å¸‚ç•Œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T08:37:41.000Z" title="Fri Nov 14 2025 08:37:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><blockquote>
<p>November 13, 2025Â <br/>
<em><strong>OpenAIâ€™s GPT-5.1, GPT-5.1-Codex and GPT-5.1-Codex-Mini are now in public preview for GitHub Copilot</strong></em></p>
</blockquote>
<p>æ‰“é€ æè‡´ä¼˜é›…çš„Axioså°è£…ï¼Œè®©æ¥å£è¯·æ±‚å›å½’ç®€å•...</p>
<p>GPT-5.1èµ‹èƒ½ï¼šè®©Axioså°è£…è¿›å…¥AIé©±åŠ¨çš„å…¨æ–°æ—¶ä»£...</p>
<p>èµ°èµ·ï¼Œç›´æ¥ä¸Šä»£ç ....</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">"axios"</span>;
<span class="hljs-keyword">import</span> qs <span class="hljs-keyword">from</span> <span class="hljs-string">"qs"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Message</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"element-gui"</span>;

<span class="hljs-comment">// ==================== é…ç½®å¸¸é‡ ====================</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">REQUEST_CONFIG</span> = {
  <span class="hljs-attr">BASE_URL</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">VUE_APP_BASE_API</span>,
  <span class="hljs-attr">TIMEOUT</span>: <span class="hljs-number">60000</span>,
  <span class="hljs-attr">LOGIN_PATH</span>: <span class="hljs-string">"/login"</span>,
  <span class="hljs-attr">DEFAULT_ERROR_MESSAGE</span>: <span class="hljs-string">"è¯·æ±‚å¤±è´¥"</span>,
  <span class="hljs-attr">ENABLE_LOG</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> === <span class="hljs-string">"development"</span>,
};

<span class="hljs-comment">// HTTP çŠ¶æ€ç é”™è¯¯æ¶ˆæ¯æ˜ å°„</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">HTTP_ERROR_MESSAGES</span> = {
  <span class="hljs-number">401</span>: <span class="hljs-string">"æœªæˆæƒï¼Œè¯·é‡æ–°ç™»å½•"</span>,
  <span class="hljs-number">403</span>: <span class="hljs-string">"æ²¡æœ‰æƒé™è®¿é—®"</span>,
  <span class="hljs-number">404</span>: <span class="hljs-string">"è¯·æ±‚èµ„æºä¸å­˜åœ¨"</span>,
  <span class="hljs-number">500</span>: <span class="hljs-string">"æœåŠ¡å™¨é”™è¯¯"</span>,
  <span class="hljs-number">502</span>: <span class="hljs-string">"ç½‘å…³é”™è¯¯"</span>,
  <span class="hljs-number">503</span>: <span class="hljs-string">"æœåŠ¡ä¸å¯ç”¨"</span>,
  <span class="hljs-number">504</span>: <span class="hljs-string">"ç½‘å…³è¶…æ—¶"</span>,
};

<span class="hljs-comment">// ==================== è¯·æ±‚ç®¡ç† ====================</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">RequestManager</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">pendingRequests</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
  }

  <span class="hljs-comment">// ç”Ÿæˆè¯·æ±‚å”¯ä¸€æ ‡è¯†</span>
  <span class="hljs-title function_">generateKey</span>(<span class="hljs-params">config</span>) {
    <span class="hljs-keyword">const</span> { method, url, params, data } = config;
    <span class="hljs-keyword">const</span> serializedParams = params
      ? qs.<span class="hljs-title function_">stringify</span>(params, { <span class="hljs-attr">sort</span>: <span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a.<span class="hljs-title function_">localeCompare</span>(b) })
      : <span class="hljs-string">""</span>;
    <span class="hljs-keyword">const</span> serializedData =
      data &amp;&amp; !(data <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">FormData</span>)
        ? qs.<span class="hljs-title function_">stringify</span>(data, { <span class="hljs-attr">sort</span>: <span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a.<span class="hljs-title function_">localeCompare</span>(b) })
        : <span class="hljs-string">""</span>;

    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${method}</span>:<span class="hljs-subst">${url}</span>:<span class="hljs-subst">${serializedParams}</span>:<span class="hljs-subst">${serializedData}</span>`</span>;
  }

  <span class="hljs-comment">// æ·»åŠ è¯·æ±‚</span>
  <span class="hljs-title function_">addRequest</span>(<span class="hljs-params">config</span>) {
    <span class="hljs-keyword">const</span> requestKey = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">generateKey</span>(config);

    <span class="hljs-comment">// å–æ¶ˆç›¸åŒçš„è¿›è¡Œä¸­è¯·æ±‚</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">pendingRequests</span>.<span class="hljs-title function_">has</span>(requestKey)) {
      <span class="hljs-keyword">const</span> cancel = <span class="hljs-variable language_">this</span>.<span class="hljs-property">pendingRequests</span>.<span class="hljs-title function_">get</span>(requestKey);
      <span class="hljs-title function_">cancel</span>(<span class="hljs-string">"å–æ¶ˆé‡å¤è¯·æ±‚"</span>);
    }

    <span class="hljs-comment">// ä¸ºæ–°è¯·æ±‚åˆ›å»ºå–æ¶ˆä»¤ç‰Œ</span>
    config.<span class="hljs-property">cancelToken</span> = <span class="hljs-keyword">new</span> axios.<span class="hljs-title class_">CancelToken</span>(<span class="hljs-function">(<span class="hljs-params">cancel</span>) =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">pendingRequests</span>.<span class="hljs-title function_">set</span>(requestKey, cancel);
    });

    config.<span class="hljs-property">requestKey</span> = requestKey;
    <span class="hljs-keyword">return</span> config;
  }

  <span class="hljs-comment">// ç§»é™¤è¯·æ±‚</span>
  <span class="hljs-title function_">removeRequest</span>(<span class="hljs-params">config</span>) {
    <span class="hljs-keyword">if</span> (config?.<span class="hljs-property">requestKey</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">pendingRequests</span>.<span class="hljs-title function_">delete</span>(config.<span class="hljs-property">requestKey</span>);
    }
  }

  <span class="hljs-comment">// æ¸…ç©ºæ‰€æœ‰è¯·æ±‚</span>
  <span class="hljs-title function_">clearAll</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">pendingRequests</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">cancel</span>) =&gt;</span> <span class="hljs-title function_">cancel</span>(<span class="hljs-string">"æ¸…ç©ºæ‰€æœ‰è¯·æ±‚"</span>));
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">pendingRequests</span>.<span class="hljs-title function_">clear</span>();
  }
}

<span class="hljs-comment">// ==================== å·¥å…·å‡½æ•° ====================</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">RequestUtils</span> {
  <span class="hljs-comment">// æ—¥å¿—æ‰“å°</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">log</span>(<span class="hljs-params">message, data</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable constant_">REQUEST_CONFIG</span>.<span class="hljs-property">ENABLE_LOG</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`[Request] <span class="hljs-subst">${message}</span>`</span>, data);
    }
  }

  <span class="hljs-keyword">static</span> <span class="hljs-title function_">error</span>(<span class="hljs-params">message, data</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable constant_">REQUEST_CONFIG</span>.<span class="hljs-property">ENABLE_LOG</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`[Request] <span class="hljs-subst">${message}</span>`</span>, data);
    }
  }

  <span class="hljs-comment">// Token ç®¡ç†</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">getToken</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">"token"</span>);
  }

  <span class="hljs-keyword">static</span> <span class="hljs-title function_">removeToken</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">removeItem</span>(<span class="hljs-string">"token"</span>);
  }

  <span class="hljs-keyword">static</span> <span class="hljs-title function_">redirectToLogin</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">href</span> = <span class="hljs-variable constant_">REQUEST_CONFIG</span>.<span class="hljs-property">LOGIN_PATH</span>;
  }

  <span class="hljs-comment">// Content-Type å¤„ç†</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">isFormData</span>(<span class="hljs-params">data</span>) {
    <span class="hljs-keyword">return</span> data <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">FormData</span>;
  }

  <span class="hljs-keyword">static</span> <span class="hljs-title function_">isFormUrlEncoded</span>(<span class="hljs-params">headers</span>) {
    <span class="hljs-keyword">return</span> headers?.[<span class="hljs-string">"Content-Type"</span>] === <span class="hljs-string">"application/x-www-form-urlencoded"</span>;
  }

  <span class="hljs-keyword">static</span> <span class="hljs-title function_">isBlobResponse</span>(<span class="hljs-params">config</span>) {
    <span class="hljs-keyword">return</span> config.<span class="hljs-property">responseType</span> === <span class="hljs-string">"blob"</span>;
  }
}

<span class="hljs-comment">// ==================== Axios å®ä¾‹ ====================</span>
<span class="hljs-keyword">const</span> requestManager = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RequestManager</span>();

<span class="hljs-keyword">const</span> service = axios.<span class="hljs-title function_">create</span>({
  <span class="hljs-attr">baseURL</span>: <span class="hljs-variable constant_">REQUEST_CONFIG</span>.<span class="hljs-property">BASE_URL</span>,
  <span class="hljs-attr">timeout</span>: <span class="hljs-variable constant_">REQUEST_CONFIG</span>.<span class="hljs-property">TIMEOUT</span>,
  <span class="hljs-attr">withCredentials</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">headers</span>: {
    <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/json"</span>,
  },
});

<span class="hljs-comment">// ==================== è¯·æ±‚æ‹¦æˆªå™¨ ====================</span>
service.<span class="hljs-property">interceptors</span>.<span class="hljs-property">request</span>.<span class="hljs-title function_">use</span>(
  <span class="hljs-function">(<span class="hljs-params">config</span>) =&gt;</span> {
    <span class="hljs-comment">// å¤„ç†é‡å¤è¯·æ±‚å–æ¶ˆ</span>
    <span class="hljs-keyword">if</span> (config.<span class="hljs-property">cancelDuplicate</span> !== <span class="hljs-literal">false</span>) {
      requestManager.<span class="hljs-title function_">addRequest</span>(config);
    }

    <span class="hljs-comment">// å¤„ç† Authorization</span>
    <span class="hljs-keyword">if</span> (!config.<span class="hljs-property">headers</span>?.<span class="hljs-property">Authorization</span>) {
      <span class="hljs-keyword">const</span> needToken = config.<span class="hljs-property">needToken</span> !== <span class="hljs-literal">false</span>;
      <span class="hljs-keyword">if</span> (needToken) {
        <span class="hljs-keyword">const</span> token = <span class="hljs-title class_">RequestUtils</span>.<span class="hljs-title function_">getToken</span>();
        <span class="hljs-keyword">if</span> (token) {
          config.<span class="hljs-property">headers</span> = config.<span class="hljs-property">headers</span> || {};
          config.<span class="hljs-property">headers</span>[<span class="hljs-string">"Authorization"</span>] = <span class="hljs-string">`Bearer <span class="hljs-subst">${token}</span>`</span>;
          <span class="hljs-title class_">RequestUtils</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"æ·»åŠ  Token"</span>, { <span class="hljs-attr">url</span>: config.<span class="hljs-property">url</span> });
        }
      }
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-title class_">RequestUtils</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"ä½¿ç”¨è‡ªå®šä¹‰ Authorization"</span>, { <span class="hljs-attr">url</span>: config.<span class="hljs-property">url</span> });
    }

    <span class="hljs-comment">// å¤„ç† FormData</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">RequestUtils</span>.<span class="hljs-title function_">isFormData</span>(config.<span class="hljs-property">data</span>)) {
      <span class="hljs-keyword">delete</span> config.<span class="hljs-property">headers</span>[<span class="hljs-string">"Content-Type"</span>];
      <span class="hljs-title class_">RequestUtils</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"æ£€æµ‹åˆ° FormData"</span>, { <span class="hljs-attr">url</span>: config.<span class="hljs-property">url</span> });
    }
    <span class="hljs-comment">// å¤„ç† application/x-www-form-urlencoded</span>
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title class_">RequestUtils</span>.<span class="hljs-title function_">isFormUrlEncoded</span>(config.<span class="hljs-property">headers</span>)) {
      <span class="hljs-keyword">if</span> (config.<span class="hljs-property">data</span> &amp;&amp; <span class="hljs-keyword">typeof</span> config.<span class="hljs-property">data</span> === <span class="hljs-string">"object"</span>) {
        config.<span class="hljs-property">data</span> = qs.<span class="hljs-title function_">stringify</span>(config.<span class="hljs-property">data</span>);
        <span class="hljs-title class_">RequestUtils</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"åºåˆ—åŒ– Form æ•°æ®"</span>, { <span class="hljs-attr">url</span>: config.<span class="hljs-property">url</span> });
      }
    }

    <span class="hljs-title class_">RequestUtils</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å‘é€è¯·æ±‚"</span>, {
      <span class="hljs-attr">method</span>: config.<span class="hljs-property">method</span>,
      <span class="hljs-attr">url</span>: config.<span class="hljs-property">url</span>,
      <span class="hljs-attr">params</span>: config.<span class="hljs-property">params</span>,
      <span class="hljs-attr">data</span>: config.<span class="hljs-property">data</span>,
    });

    <span class="hljs-keyword">return</span> config;
  },
  <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
    <span class="hljs-title class_">RequestUtils</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"è¯·æ±‚é…ç½®é”™è¯¯"</span>, error);
    <span class="hljs-keyword">if</span> (error.<span class="hljs-property">config</span>?.<span class="hljs-property">showError</span> !== <span class="hljs-literal">false</span>) {
      <span class="hljs-title class_">Message</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"è¯·æ±‚å‘é€å¤±è´¥: "</span> + (error.<span class="hljs-property">message</span> || <span class="hljs-string">"æœªçŸ¥é”™è¯¯"</span>));
    }
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(error);
  }
);

<span class="hljs-comment">// ==================== å“åº”æ‹¦æˆªå™¨ ====================</span>
service.<span class="hljs-property">interceptors</span>.<span class="hljs-property">response</span>.<span class="hljs-title function_">use</span>(
  <span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {
    <span class="hljs-comment">// æ¸…ç†è¯·æ±‚è®°å½•</span>
    requestManager.<span class="hljs-title function_">removeRequest</span>(response.<span class="hljs-property">config</span>);

    <span class="hljs-title class_">RequestUtils</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"æ”¶åˆ°å“åº”"</span>, {
      <span class="hljs-attr">url</span>: response.<span class="hljs-property">config</span>.<span class="hljs-property">url</span>,
      <span class="hljs-attr">status</span>: response.<span class="hljs-property">status</span>,
      <span class="hljs-attr">data</span>: response.<span class="hljs-property">data</span>,
    });

    <span class="hljs-comment">// å¤„ç†æ–‡ä»¶ä¸‹è½½å“åº”</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">RequestUtils</span>.<span class="hljs-title function_">isBlobResponse</span>(response.<span class="hljs-property">config</span>)) {
      <span class="hljs-keyword">return</span> response;
    }

    <span class="hljs-keyword">const</span> res = response.<span class="hljs-property">data</span>;

    <span class="hljs-comment">// ä¸šåŠ¡æˆåŠŸ</span>
    <span class="hljs-keyword">if</span> (res.<span class="hljs-property">code</span> === <span class="hljs-number">0</span> &amp;&amp; response.<span class="hljs-property">status</span> === <span class="hljs-number">200</span>) {
      <span class="hljs-keyword">return</span> res;
    }

    <span class="hljs-comment">// ä¸šåŠ¡å¤±è´¥</span>
    <span class="hljs-keyword">if</span> (res.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {
      <span class="hljs-comment">// æœªæˆæƒå¤„ç†</span>
      <span class="hljs-keyword">if</span> (res.<span class="hljs-property">code</span> === <span class="hljs-number">401</span>) {
        <span class="hljs-title class_">RequestUtils</span>.<span class="hljs-title function_">removeToken</span>();
        <span class="hljs-title class_">RequestUtils</span>.<span class="hljs-title function_">redirectToLogin</span>();
      }

      <span class="hljs-keyword">const</span> errorMessage = res.<span class="hljs-property">message</span> || <span class="hljs-variable constant_">REQUEST_CONFIG</span>.<span class="hljs-property">DEFAULT_ERROR_MESSAGE</span>;
      <span class="hljs-keyword">if</span> (response.<span class="hljs-property">config</span>?.<span class="hljs-property">showError</span> !== <span class="hljs-literal">false</span>) {
        <span class="hljs-title class_">Message</span>.<span class="hljs-title function_">error</span>(errorMessage);
      }

      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(errorMessage));
    }

    <span class="hljs-keyword">return</span> res;
  },
  <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
    <span class="hljs-comment">// æ¸…ç†è¯·æ±‚è®°å½•</span>
    requestManager.<span class="hljs-title function_">removeRequest</span>(error.<span class="hljs-property">config</span>);

    <span class="hljs-comment">// å¤„ç†å–æ¶ˆè¯·æ±‚</span>
    <span class="hljs-keyword">if</span> (axios.<span class="hljs-title function_">isCancel</span>(error)) {
      <span class="hljs-title class_">RequestUtils</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"è¯·æ±‚è¢«å–æ¶ˆ"</span>, error.<span class="hljs-property">message</span>);
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(error);
    }

    <span class="hljs-title class_">RequestUtils</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"å“åº”é”™è¯¯"</span>, error);

    <span class="hljs-keyword">let</span> errorMessage = <span class="hljs-variable constant_">REQUEST_CONFIG</span>.<span class="hljs-property">DEFAULT_ERROR_MESSAGE</span>;

    <span class="hljs-comment">// HTTP é”™è¯¯</span>
    <span class="hljs-keyword">if</span> (error.<span class="hljs-property">response</span>) {
      <span class="hljs-keyword">const</span> status = error.<span class="hljs-property">response</span>.<span class="hljs-property">status</span>;
      errorMessage =
        <span class="hljs-variable constant_">HTTP_ERROR_MESSAGES</span>[status] || <span class="hljs-string">`æœªçŸ¥é”™è¯¯: <span class="hljs-subst">${status}</span>`</span>;

      <span class="hljs-comment">// 401 å¤„ç†</span>
      <span class="hljs-keyword">if</span> (status === <span class="hljs-number">401</span>) {
        <span class="hljs-title class_">RequestUtils</span>.<span class="hljs-title function_">removeToken</span>();
        <span class="hljs-title class_">RequestUtils</span>.<span class="hljs-title function_">redirectToLogin</span>();
      }
    }
    <span class="hljs-comment">// ç½‘ç»œé”™è¯¯</span>
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (error.<span class="hljs-property">request</span>) {
      errorMessage =
        error.<span class="hljs-property">code</span> === <span class="hljs-string">"ECONNABORTED"</span> ? <span class="hljs-string">"è¯·æ±‚è¶…æ—¶"</span> : <span class="hljs-string">"ç½‘ç»œè¿æ¥å¼‚å¸¸"</span>;
    }
    <span class="hljs-comment">// å…¶ä»–é”™è¯¯</span>
    <span class="hljs-keyword">else</span> {
      errorMessage = error.<span class="hljs-property">message</span> || <span class="hljs-string">"è¯·æ±‚é…ç½®é”™è¯¯"</span>;
    }

    <span class="hljs-keyword">if</span> (error.<span class="hljs-property">config</span>?.<span class="hljs-property">showError</span> !== <span class="hljs-literal">false</span>) {
      <span class="hljs-title class_">Message</span>.<span class="hljs-title function_">error</span>(errorMessage);
    }

    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(error);
  }
);

<span class="hljs-comment">// ==================== æ–‡ä»¶ä¸‹è½½å¤„ç† ====================</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleDownloadResponse</span>(<span class="hljs-params">response, fileName, showError = <span class="hljs-literal">true</span></span>) {
  <span class="hljs-keyword">const</span> contentType = response.<span class="hljs-property">headers</span>[<span class="hljs-string">"content-type"</span>] || <span class="hljs-string">""</span>;

  <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦ä¸º JSON é”™è¯¯å“åº”</span>
  <span class="hljs-keyword">if</span> (contentType.<span class="hljs-title function_">includes</span>(<span class="hljs-string">"application/json"</span>)) {
    <span class="hljs-keyword">if</span> (showError) {
      <span class="hljs-title class_">Message</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"æš‚æ— æ•°æ®,æ— æ³•å¯¼å‡º!"</span>);
    }
    <span class="hljs-keyword">return</span>;
  }

  <span class="hljs-comment">// ä»å“åº”å¤´è·å–æ–‡ä»¶å</span>
  <span class="hljs-keyword">const</span> disposition = response.<span class="hljs-property">headers</span>[<span class="hljs-string">"content-disposition"</span>] || <span class="hljs-string">""</span>;
  <span class="hljs-keyword">const</span> headerFileName = disposition
    ? <span class="hljs-built_in">decodeURIComponent</span>(
        disposition.<span class="hljs-title function_">split</span>(<span class="hljs-string">"filename*=UTF-8''"</span>)[<span class="hljs-number">1</span>] ||
          disposition.<span class="hljs-title function_">split</span>(<span class="hljs-string">"filename="</span>)[<span class="hljs-number">1</span>] ||
          <span class="hljs-string">""</span>
      ).<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/['"]/g</span>, <span class="hljs-string">""</span>)
    : <span class="hljs-string">""</span>;

  <span class="hljs-comment">// åˆ›å»ºä¸‹è½½é“¾æ¥</span>
  <span class="hljs-keyword">const</span> blob = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Blob</span>([response.<span class="hljs-property">data</span>]);
  <span class="hljs-keyword">const</span> link = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">"a"</span>);
  link.<span class="hljs-property">href</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">URL</span>.<span class="hljs-title function_">createObjectURL</span>(blob);
  link.<span class="hljs-property">download</span> =
    fileName ||
    headerFileName ||
    <span class="hljs-string">`download_<span class="hljs-subst">${<span class="hljs-built_in">Date</span>.now()}</span>.xlsx`</span>;
  link.<span class="hljs-title function_">click</span>();

  <span class="hljs-comment">// æ¸…ç†</span>
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">window</span>.<span class="hljs-property">URL</span>.<span class="hljs-title function_">revokeObjectURL</span>(link.<span class="hljs-property">href</span>);
  }, <span class="hljs-number">100</span>);

  <span class="hljs-keyword">return</span> response;
}

<span class="hljs-comment">// ==================== å°è£…è¯·æ±‚æ–¹æ³• ====================</span>
<span class="hljs-keyword">const</span> request = {
  <span class="hljs-comment">/**
   * GET è¯·æ±‚
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">url</span> - è¯·æ±‚åœ°å€
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">object</span>} <span class="hljs-variable">params</span> - URL å‚æ•°
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">object</span>} <span class="hljs-variable">config</span> - Axios é…ç½®
   */</span>
  <span class="hljs-title function_">get</span>(<span class="hljs-params">url, params = {}, config = {}</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">service</span>({
      <span class="hljs-attr">method</span>: <span class="hljs-string">"get"</span>,
      url,
      params,
      ...config,
    });
  },

  <span class="hljs-comment">/**
   * POST è¯·æ±‚
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">url</span> - è¯·æ±‚åœ°å€
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">object</span>} <span class="hljs-variable">data</span> - è¯·æ±‚ä½“æ•°æ®
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">object</span>} <span class="hljs-variable">config</span> - Axios é…ç½®
   */</span>
  <span class="hljs-title function_">post</span>(<span class="hljs-params">url, data = {}, config = {}</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">service</span>({
      <span class="hljs-attr">method</span>: <span class="hljs-string">"post"</span>,
      url,
      data,
      ...config,
    });
  },

  <span class="hljs-comment">/**
   * PUT è¯·æ±‚
   */</span>
  <span class="hljs-title function_">put</span>(<span class="hljs-params">url, data = {}, config = {}</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">service</span>({
      <span class="hljs-attr">method</span>: <span class="hljs-string">"put"</span>,
      url,
      data,
      ...config,
    });
  },

  <span class="hljs-comment">/**
   * DELETE è¯·æ±‚
   */</span>
  <span class="hljs-title function_">delete</span>(<span class="hljs-params">url, params = {}, config = {}</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">service</span>({
      <span class="hljs-attr">method</span>: <span class="hljs-string">"delete"</span>,
      url,
      params,
      ...config,
    });
  },

  <span class="hljs-comment">/**
   * PATCH è¯·æ±‚
   */</span>
  <span class="hljs-title function_">patch</span>(<span class="hljs-params">url, data = {}, config = {}</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">service</span>({
      <span class="hljs-attr">method</span>: <span class="hljs-string">"patch"</span>,
      url,
      data,
      ...config,
    });
  },

  <span class="hljs-comment">/**
   * æ–‡ä»¶ä¸Šä¼ 
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">url</span> - ä¸Šä¼ åœ°å€
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">FormData</span>} <span class="hljs-variable">formData</span> - è¡¨å•æ•°æ®
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">object</span>} <span class="hljs-variable">config</span> - é…ç½®
   */</span>
  <span class="hljs-title function_">upload</span>(<span class="hljs-params">url, formData, config = {}</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">service</span>({
      <span class="hljs-attr">method</span>: <span class="hljs-string">"post"</span>,
      url,
      <span class="hljs-attr">data</span>: formData,
      <span class="hljs-attr">headers</span>: {
        <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"multipart/form-data"</span>,
        ...(config.<span class="hljs-property">headers</span> || {}),
      },
      <span class="hljs-attr">cancelDuplicate</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// ä¸Šä¼ ä¸å–æ¶ˆé‡å¤è¯·æ±‚</span>
      ...config,
    });
  },

  <span class="hljs-comment">/**
   * æ–‡ä»¶ä¸‹è½½
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">url</span> - ä¸‹è½½åœ°å€
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">object</span>} <span class="hljs-variable">data</span> - è¯·æ±‚æ•°æ®
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">fileName</span> - æ–‡ä»¶å
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">object</span>} <span class="hljs-variable">config</span> - é…ç½®
   */</span>
  <span class="hljs-title function_">download</span>(<span class="hljs-params">url, data = {}, fileName = <span class="hljs-string">""</span>, config = {}</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">service</span>({
      <span class="hljs-attr">method</span>: <span class="hljs-string">"post"</span>,
      url,
      data,
      <span class="hljs-attr">responseType</span>: <span class="hljs-string">"blob"</span>,
      <span class="hljs-attr">cancelDuplicate</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// ä¸‹è½½ä¸å–æ¶ˆé‡å¤è¯·æ±‚</span>
      ...config,
    })
      .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span>
        <span class="hljs-title function_">handleDownloadResponse</span>(response, fileName, config.<span class="hljs-property">showError</span> !== <span class="hljs-literal">false</span>)
      )
      .<span class="hljs-keyword">catch</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (config.<span class="hljs-property">showError</span> !== <span class="hljs-literal">false</span> &amp;&amp; !axios.<span class="hljs-title function_">isCancel</span>(error)) {
          <span class="hljs-title class_">Message</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"ä¸‹è½½å¤±è´¥!"</span>);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(error);
      });
  },

  <span class="hljs-comment">/**
   * è¡¨å•æäº¤ (application/x-www-form-urlencoded)
   */</span>
  <span class="hljs-title function_">form</span>(<span class="hljs-params">url, data = {}, config = {}</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">service</span>({
      <span class="hljs-attr">method</span>: <span class="hljs-string">"post"</span>,
      url,
      data,
      <span class="hljs-attr">headers</span>: {
        <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/x-www-form-urlencoded"</span>,
        ...(config.<span class="hljs-property">headers</span> || {}),
      },
      ...config,
    });
  },

  <span class="hljs-comment">/**
   * è‡ªå®šä¹‰è¯·æ±‚
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">method</span> - è¯·æ±‚æ–¹æ³•
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">url</span> - è¯·æ±‚åœ°å€
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">object</span>} <span class="hljs-variable">data</span> - è¯·æ±‚ä½“æ•°æ®
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">object</span>} <span class="hljs-variable">params</span> - URL å‚æ•°
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">object</span>} <span class="hljs-variable">config</span> - é…ç½®
   */</span>
  <span class="hljs-title function_">custom</span>(<span class="hljs-params">method, url, data = {}, params = {}, config = {}</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">service</span>({
      method,
      url,
      data,
      params,
      ...config,
    });
  },

  <span class="hljs-comment">/**
   * å–æ¶ˆæ‰€æœ‰è¿›è¡Œä¸­çš„è¯·æ±‚
   */</span>
  <span class="hljs-title function_">cancelAll</span>(<span class="hljs-params"/>) {
    requestManager.<span class="hljs-title function_">clearAll</span>();
  },
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> request;
<span class="hljs-keyword">export</span> { service, requestManager };
</code></pre>
<h3 data-id="heading-0">ä¸»è¦æ”¹è¿›ç‚¹</h3>
<h4 data-id="heading-1">1.Â <strong>ä»£ç ç»“æ„æ›´æ¸…æ™°</strong></h4>
<ul>
<li>ä½¿ç”¨ç±»å°è£…ç›¸å…³åŠŸèƒ½ï¼ŒèŒè´£åˆ’åˆ†æ˜ç¡®</li>
<li>é…ç½®é›†ä¸­ç®¡ç†ï¼Œä¾¿äºç»´æŠ¤</li>
<li>ä»£ç åˆ†å±‚æ›´åˆç†</li>
</ul>
<h4 data-id="heading-2">2.Â <strong>å®‰å…¨æ€§æå‡</strong></h4>
<ul>
<li>ç”Ÿäº§ç¯å¢ƒä¸è¾“å‡ºæ•æ„Ÿæ—¥å¿—</li>
<li>Token ç®¡ç†æ›´è§„èŒƒ</li>
<li>é”™è¯¯ä¿¡æ¯æ ‡å‡†åŒ–</li>
</ul>
<h4 data-id="heading-3">3.Â <strong>å¯ç»´æŠ¤æ€§å¢å¼º</strong></h4>
<ul>
<li>JSDoc æ³¨é‡Šå®Œå–„</li>
<li>é”™è¯¯æ¶ˆæ¯ç»Ÿä¸€ç®¡ç†</li>
<li>é…ç½®å¯æ‰©å±•æ€§å¼º</li>
</ul>
<h4 data-id="heading-4">4.Â <strong>åŠŸèƒ½æ›´å®Œå–„</strong></h4>
<ul>
<li>æ”¯æŒæ‰‹åŠ¨å–æ¶ˆæ‰€æœ‰è¯·æ±‚</li>
<li>æ–‡ä»¶ä¸‹è½½å¤„ç†æ›´å¥å£®</li>
<li>é»˜è®¤ Content-Type è®¾ç½®</li>
</ul>
<h4 data-id="heading-5">5.Â <strong>è°ƒè¯•æ›´å‹å¥½</strong></h4>
<ul>
<li>å¼€å‘ç¯å¢ƒè¯¦ç»†æ—¥å¿—</li>
<li>è¯·æ±‚/å“åº”å®Œæ•´è¿½è¸ª</li>
<li>é”™è¯¯å®šä½æ›´ç²¾å‡†</li>
</ul>
<h2 data-id="heading-6">ä½¿ç”¨ç¤ºä¾‹</h2>
<h3 data-id="heading-7">åŸºç¡€ä½¿ç”¨</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> request <span class="hljs-keyword">from</span> <span class="hljs-string">'@/utils/request'</span>

<span class="hljs-comment">// ==================== GET è¯·æ±‚ ====================</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getUserList</span>(<span class="hljs-params">params</span>) {
  <span class="hljs-keyword">return</span> request.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/api/users'</span>, params)
}

<span class="hljs-comment">// è‡ªå®šä¹‰é…ç½®</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getUserListNoAuth</span>(<span class="hljs-params">params</span>) {
  <span class="hljs-keyword">return</span> request.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/api/users'</span>, params, {
    <span class="hljs-attr">needToken</span>: <span class="hljs-literal">false</span>,  <span class="hljs-comment">// ä¸éœ€è¦ token</span>
    <span class="hljs-attr">showError</span>: <span class="hljs-literal">false</span>,  <span class="hljs-comment">// ä¸æ˜¾ç¤ºé”™è¯¯æç¤º</span>
  })
}

<span class="hljs-comment">// ==================== POST è¯·æ±‚ ====================</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createUser</span>(<span class="hljs-params">data</span>) {
  <span class="hljs-keyword">return</span> request.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/api/users'</span>, data)
}

<span class="hljs-comment">// ç¦ç”¨é‡å¤è¯·æ±‚å–æ¶ˆ</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">sendOtp</span>(<span class="hljs-params">data</span>) {
  <span class="hljs-keyword">return</span> request.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/api/send-otp'</span>, data, {
    <span class="hljs-attr">cancelDuplicate</span>: <span class="hljs-literal">false</span>,  <span class="hljs-comment">// å…è®¸é‡å¤å‘é€</span>
  })
}

<span class="hljs-comment">// ==================== PUT/DELETE è¯·æ±‚ ====================</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">updateUser</span>(<span class="hljs-params">id, data</span>) {
  <span class="hljs-keyword">return</span> request.<span class="hljs-title function_">put</span>(<span class="hljs-string">`/api/users/<span class="hljs-subst">${id}</span>`</span>, data)
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">deleteUser</span>(<span class="hljs-params">id</span>) {
  <span class="hljs-keyword">return</span> request.<span class="hljs-title function_">delete</span>(<span class="hljs-string">`/api/users/<span class="hljs-subst">${id}</span>`</span>)
}

<span class="hljs-comment">// ==================== è¡¨å•æäº¤ ====================</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">login</span>(<span class="hljs-params">data</span>) {
  <span class="hljs-keyword">return</span> request.<span class="hljs-title function_">form</span>(<span class="hljs-string">'/api/login'</span>, data)
}

<span class="hljs-comment">// ==================== æ–‡ä»¶ä¸Šä¼  ====================</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">uploadAvatar</span>(<span class="hljs-params">file</span>) {
  <span class="hljs-keyword">const</span> formData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormData</span>()
  formData.<span class="hljs-title function_">append</span>(<span class="hljs-string">'file'</span>, file)
  formData.<span class="hljs-title function_">append</span>(<span class="hljs-string">'type'</span>, <span class="hljs-string">'avatar'</span>)
  
  <span class="hljs-keyword">return</span> request.<span class="hljs-title function_">upload</span>(<span class="hljs-string">'/api/upload'</span>, formData, {
    <span class="hljs-attr">onUploadProgress</span>: <span class="hljs-function">(<span class="hljs-params">progressEvent</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> percent = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>((progressEvent.<span class="hljs-property">loaded</span> * <span class="hljs-number">100</span>) / progressEvent.<span class="hljs-property">total</span>)
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä¸Šä¼ è¿›åº¦:'</span>, percent + <span class="hljs-string">'%'</span>)
    }
  })
}

<span class="hljs-comment">// ==================== æ–‡ä»¶ä¸‹è½½ ====================</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">exportUsers</span>(<span class="hljs-params">params</span>) {
  <span class="hljs-keyword">return</span> request.<span class="hljs-title function_">download</span>(<span class="hljs-string">'/api/users/export'</span>, params, <span class="hljs-string">'ç”¨æˆ·åˆ—è¡¨'</span>)
}

<span class="hljs-comment">// è‡ªå®šä¹‰æ–‡ä»¶å</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">exportReport</span>(<span class="hljs-params">params</span>) {
  <span class="hljs-keyword">const</span> fileName = <span class="hljs-string">`æŠ¥è¡¨_<span class="hljs-subst">${<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().toLocaleDateString()}</span>`</span>
  <span class="hljs-keyword">return</span> request.<span class="hljs-title function_">download</span>(<span class="hljs-string">'/api/report/export'</span>, params, fileName)
}

<span class="hljs-comment">// ==================== è‡ªå®šä¹‰ Authorization ====================</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">callThirdPartyApi</span>(<span class="hljs-params">data</span>) {
  <span class="hljs-keyword">return</span> request.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/api/third-party'</span>, data, {
    <span class="hljs-attr">headers</span>: {
      <span class="hljs-string">'Authorization'</span>: <span class="hljs-string">'Bearer your-custom-token'</span>,
      <span class="hljs-string">'X-Api-Key'</span>: <span class="hljs-string">'your-api-key'</span>
    }
  })
}
</code></pre>
<h3 data-id="heading-8">åœ¨ Vue ç»„ä»¶ä¸­ä½¿ç”¨</h3>
<pre><code class="hljs language-js" lang="js">&lt;template&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- ç”¨æˆ·åˆ—è¡¨ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">el-table</span> <span class="hljs-attr">:data</span>=<span class="hljs-string">"userList"</span> <span class="hljs-attr">v-loading</span>=<span class="hljs-string">"loading"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"å§“å"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"é‚®ç®±"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"æ“ä½œ"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">slot-scope</span>=<span class="hljs-string">"{ row }"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleEdit(row)"</span>&gt;</span>ç¼–è¾‘<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleDelete(row.id)"</span>&gt;</span>åˆ é™¤<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">el-table</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- æ–‡ä»¶ä¸Šä¼  --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">el-upload</span>
      <span class="hljs-attr">action</span>=<span class="hljs-string">"#"</span>
      <span class="hljs-attr">:http-request</span>=<span class="hljs-string">"handleUpload"</span>
      <span class="hljs-attr">:before-upload</span>=<span class="hljs-string">"beforeUpload"</span>
    &gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span>&gt;</span>ä¸Šä¼ å¤´åƒ<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">el-upload</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- å¯¼å‡ºæŒ‰é’® --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleExport"</span>&gt;</span>å¯¼å‡ºæ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
&lt;/template&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { getUserList, deleteUser, uploadAvatar, exportUsers } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/api/user'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">userList</span>: [],
      <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">queryParams</span>: {
        <span class="hljs-attr">page</span>: <span class="hljs-number">1</span>,
        <span class="hljs-attr">size</span>: <span class="hljs-number">10</span>
      }
    }
  },

  <span class="hljs-title function_">created</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fetchUsers</span>()
  },

  <span class="hljs-attr">methods</span>: {
    <span class="hljs-comment">// è·å–ç”¨æˆ·åˆ—è¡¨</span>
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">fetchUsers</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">try</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">loading</span> = <span class="hljs-literal">true</span>
        <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getUserList</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">queryParams</span>)
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">userList</span> = res.<span class="hljs-property">data</span>
      } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-comment">// é”™è¯¯å·²åœ¨æ‹¦æˆªå™¨ä¸­å¤„ç†</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'è·å–ç”¨æˆ·åˆ—è¡¨å¤±è´¥'</span>, error)
      } <span class="hljs-keyword">finally</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">loading</span> = <span class="hljs-literal">false</span>
      }
    },

    <span class="hljs-comment">// åˆ é™¤ç”¨æˆ·</span>
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">handleDelete</span>(<span class="hljs-params">id</span>) {
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.$confirm(<span class="hljs-string">'ç¡®è®¤åˆ é™¤è¯¥ç”¨æˆ·?'</span>, <span class="hljs-string">'æç¤º'</span>, {
          <span class="hljs-attr">type</span>: <span class="hljs-string">'warning'</span>
        })

        <span class="hljs-keyword">await</span> <span class="hljs-title function_">deleteUser</span>(id)
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">$message</span>.<span class="hljs-title function_">success</span>(<span class="hljs-string">'åˆ é™¤æˆåŠŸ'</span>)
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fetchUsers</span>()
      } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-keyword">if</span> (error !== <span class="hljs-string">'cancel'</span>) {
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'åˆ é™¤å¤±è´¥'</span>, error)
        }
      }
    },

    <span class="hljs-comment">// ä¸Šä¼ å‰éªŒè¯</span>
    <span class="hljs-title function_">beforeUpload</span>(<span class="hljs-params">file</span>) {
      <span class="hljs-keyword">const</span> isImage = file.<span class="hljs-property">type</span>.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'image/'</span>)
      <span class="hljs-keyword">const</span> isLt2M = file.<span class="hljs-property">size</span> / <span class="hljs-number">1024</span> / <span class="hljs-number">1024</span> &lt; <span class="hljs-number">2</span>

      <span class="hljs-keyword">if</span> (!isImage) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">$message</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'åªèƒ½ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶!'</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
      }
      <span class="hljs-keyword">if</span> (!isLt2M) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">$message</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ 2MB!'</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
      }
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
    },

    <span class="hljs-comment">// è‡ªå®šä¹‰ä¸Šä¼ </span>
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">handleUpload</span>(<span class="hljs-params">{ file }</span>) {
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">uploadAvatar</span>(file)
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">$message</span>.<span class="hljs-title function_">success</span>(<span class="hljs-string">'ä¸Šä¼ æˆåŠŸ'</span>)
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ–‡ä»¶åœ°å€:'</span>, res.<span class="hljs-property">data</span>.<span class="hljs-property">url</span>)
      } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'ä¸Šä¼ å¤±è´¥'</span>, error)
      }
    },

    <span class="hljs-comment">// å¯¼å‡ºæ•°æ®</span>
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">handleExport</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">await</span> <span class="hljs-title function_">exportUsers</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">queryParams</span>)
        <span class="hljs-comment">// ä¸‹è½½æˆåŠŸåæ— éœ€é¢å¤–å¤„ç†</span>
      } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'å¯¼å‡ºå¤±è´¥'</span>, error)
      }
    }
  },

  <span class="hljs-comment">// ç»„ä»¶é”€æ¯æ—¶å–æ¶ˆæ‰€æœ‰è¯·æ±‚</span>
  <span class="hljs-title function_">beforeDestroy</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// å¦‚æœéœ€è¦å–æ¶ˆæ‰€æœ‰è¯·æ±‚</span>
    <span class="hljs-comment">// request.cancelAll()</span>
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<h3 data-id="heading-9">é«˜çº§ç”¨æ³•</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> request <span class="hljs-keyword">from</span> <span class="hljs-string">'@/utils/request'</span>

<span class="hljs-comment">// ==================== å¹¶å‘è¯·æ±‚ ====================</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchDashboardData</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> [users, orders, statistics] = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([
      request.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/api/users'</span>),
      request.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/api/orders'</span>),
      request.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/api/statistics'</span>)
    ])

    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">users</span>: users.<span class="hljs-property">data</span>,
      <span class="hljs-attr">orders</span>: orders.<span class="hljs-property">data</span>,
      <span class="hljs-attr">statistics</span>: statistics.<span class="hljs-property">data</span>
    }
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'è·å–æ•°æ®å¤±è´¥'</span>, error)
    <span class="hljs-keyword">throw</span> error
  }
}

<span class="hljs-comment">// ==================== ä¸²è¡Œè¯·æ±‚ï¼ˆæœ‰ä¾èµ–å…³ç³»ï¼‰====================</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createOrderWithDetails</span>(<span class="hljs-params">orderData, itemsData</span>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// å…ˆåˆ›å»ºè®¢å•</span>
    <span class="hljs-keyword">const</span> orderRes = <span class="hljs-keyword">await</span> request.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/api/orders'</span>, orderData)
    <span class="hljs-keyword">const</span> orderId = orderRes.<span class="hljs-property">data</span>.<span class="hljs-property">id</span>

    <span class="hljs-comment">// å†æ·»åŠ è®¢å•æ˜ç»†</span>
    <span class="hljs-keyword">const</span> itemsRes = <span class="hljs-keyword">await</span> request.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/api/order-items'</span>, {
      orderId,
      <span class="hljs-attr">items</span>: itemsData
    })

    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">order</span>: orderRes.<span class="hljs-property">data</span>,
      <span class="hljs-attr">items</span>: itemsRes.<span class="hljs-property">data</span>
    }
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'åˆ›å»ºè®¢å•å¤±è´¥'</span>, error)
    <span class="hljs-keyword">throw</span> error
  }
}

<span class="hljs-comment">// ==================== è½®è¯¢è¯·æ±‚ ====================</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">pollTaskStatus</span>(<span class="hljs-params">taskId, interval = <span class="hljs-number">2000</span>, maxAttempts = <span class="hljs-number">30</span></span>) {
  <span class="hljs-keyword">let</span> attempts = <span class="hljs-number">0</span>

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-keyword">async</span> () =&gt; {
      attempts++

      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> request.<span class="hljs-title function_">get</span>(<span class="hljs-string">`/api/tasks/<span class="hljs-subst">${taskId}</span>`</span>, {}, {
          <span class="hljs-attr">showError</span>: <span class="hljs-literal">false</span>  <span class="hljs-comment">// è½®è¯¢ä¸æ˜¾ç¤ºé”™è¯¯</span>
        })

        <span class="hljs-keyword">if</span> (res.<span class="hljs-property">data</span>.<span class="hljs-property">status</span> === <span class="hljs-string">'completed'</span>) {
          <span class="hljs-built_in">clearInterval</span>(timer)
          <span class="hljs-title function_">resolve</span>(res.<span class="hljs-property">data</span>)
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (res.<span class="hljs-property">data</span>.<span class="hljs-property">status</span> === <span class="hljs-string">'failed'</span>) {
          <span class="hljs-built_in">clearInterval</span>(timer)
          <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'ä»»åŠ¡æ‰§è¡Œå¤±è´¥'</span>))
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (attempts &gt;= maxAttempts) {
          <span class="hljs-built_in">clearInterval</span>(timer)
          <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'è½®è¯¢è¶…æ—¶'</span>))
        }
      } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-built_in">clearInterval</span>(timer)
        <span class="hljs-title function_">reject</span>(error)
      }
    }, interval)
  })
}

<span class="hljs-comment">// ==================== é‡è¯•æœºåˆ¶ ====================</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">requestWithRetry</span>(<span class="hljs-params">fn, maxRetries = <span class="hljs-number">3</span></span>) {
  <span class="hljs-keyword">let</span> lastError

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; maxRetries; i++) {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-title function_">fn</span>()
    } <span class="hljs-keyword">catch</span> (error) {
      lastError = error
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`è¯·æ±‚å¤±è´¥ï¼Œç¬¬ <span class="hljs-subst">${i + <span class="hljs-number">1</span>}</span> æ¬¡é‡è¯•...`</span>)
      
      <span class="hljs-comment">// ç­‰å¾…ä¸€æ®µæ—¶é—´å†é‡è¯•</span>
      <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">1000</span> * (i + <span class="hljs-number">1</span>)))
    }
  }

  <span class="hljs-keyword">throw</span> lastError
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchImportantData</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">requestWithRetry</span>(<span class="hljs-function">() =&gt;</span> request.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/api/important-data'</span>))
}

<span class="hljs-comment">// ==================== è¯·æ±‚é˜Ÿåˆ— ====================</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">RequestQueue</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">concurrency = <span class="hljs-number">3</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">concurrency</span> = concurrency
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">running</span> = <span class="hljs-number">0</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span> = []
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">fn</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">running</span> &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">concurrency</span>) {
      <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>.<span class="hljs-title function_">push</span>(resolve))
    }

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">running</span>++
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-title function_">fn</span>()
    } <span class="hljs-keyword">finally</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">running</span>--
      <span class="hljs-keyword">const</span> resolve = <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>.<span class="hljs-title function_">shift</span>()
      <span class="hljs-keyword">if</span> (resolve) <span class="hljs-title function_">resolve</span>()
    }
  }
}

<span class="hljs-comment">// æ‰¹é‡ä¸Šä¼ æ–‡ä»¶ï¼ˆé™åˆ¶å¹¶å‘æ•°ï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">batchUpload</span>(<span class="hljs-params">files</span>) {
  <span class="hljs-keyword">const</span> queue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RequestQueue</span>(<span class="hljs-number">3</span>) <span class="hljs-comment">// æœ€å¤šåŒæ—¶ä¸Šä¼  3 ä¸ª</span>
  <span class="hljs-keyword">const</span> results = []

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> file <span class="hljs-keyword">of</span> files) {
    <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> queue.<span class="hljs-title function_">add</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">uploadAvatar</span>(file))
    results.<span class="hljs-title function_">push</span>(result)
  }

  <span class="hljs-keyword">return</span> results
}
</code></pre>
<h3 data-id="heading-10">å…¨å±€é…ç½®å’Œæ‰©å±•</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> request, { service, requestManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/utils/request'</span>

<span class="hljs-comment">// ==================== å…¨å±€è¯·æ±‚å‰ç½®å¤„ç† ====================</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">setupRequestInterceptor</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// æ·»åŠ è¯·æ±‚è¿½è¸ª</span>
  service.<span class="hljs-property">interceptors</span>.<span class="hljs-property">request</span>.<span class="hljs-title function_">use</span>(<span class="hljs-function"><span class="hljs-params">config</span> =&gt;</span> {
    config.<span class="hljs-property">metadata</span> = { <span class="hljs-attr">startTime</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() }
    <span class="hljs-keyword">return</span> config
  })

  <span class="hljs-comment">// æ·»åŠ å“åº”æ—¶é—´ç»Ÿè®¡</span>
  service.<span class="hljs-property">interceptors</span>.<span class="hljs-property">response</span>.<span class="hljs-title function_">use</span>(
    <span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> {
      <span class="hljs-keyword">const</span> duration = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - response.<span class="hljs-property">config</span>.<span class="hljs-property">metadata</span>.<span class="hljs-property">startTime</span>
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`è¯·æ±‚è€—æ—¶: <span class="hljs-subst">${duration}</span>ms`</span>)
      <span class="hljs-keyword">return</span> response
    },
    <span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {
      <span class="hljs-keyword">if</span> (error.<span class="hljs-property">config</span>?.<span class="hljs-property">metadata</span>) {
        <span class="hljs-keyword">const</span> duration = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - error.<span class="hljs-property">config</span>.<span class="hljs-property">metadata</span>.<span class="hljs-property">startTime</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`è¯·æ±‚å¤±è´¥è€—æ—¶: <span class="hljs-subst">${duration}</span>ms`</span>)
      }
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(error)
    }
  )
}

<span class="hljs-comment">// ==================== è·¯ç”±å®ˆå«ä¸­å–æ¶ˆè¯·æ±‚ ====================</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">setupRouterCancelRequests</span>(<span class="hljs-params">router</span>) {
  router.<span class="hljs-title function_">beforeEach</span>(<span class="hljs-function">(<span class="hljs-params">to, <span class="hljs-keyword">from</span>, next</span>) =&gt;</span> {
    <span class="hljs-comment">// è·¯ç”±åˆ‡æ¢æ—¶å–æ¶ˆæ‰€æœ‰è¿›è¡Œä¸­çš„è¯·æ±‚</span>
    requestManager.<span class="hljs-title function_">clearAll</span>()
    <span class="hljs-title function_">next</span>()
  })
}

<span class="hljs-comment">// ==================== åœ¨ main.js ä¸­ä½¿ç”¨ ====================</span>
<span class="hljs-comment">// import { setupRequestInterceptor, setupRouterCancelRequests } from '@/utils/request-extension'</span>
<span class="hljs-comment">// setupRequestInterceptor()</span>
<span class="hljs-comment">// setupRouterCancelRequests(router)</span>
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/709ee173c74646dd9258619300ae7bc2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5biC55WM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763714261&amp;x-signature=YyICOzMonuphpNMa4Q5olydT3og%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[CSS åƒç´ â‰ ç‰©ç†åƒç´ ï¼š0.5px æ•ˆæœçš„æ ¸å¿ƒå¯†ç æ˜¯ä»€ä¹ˆï¼Ÿ]]></title>    <link>https://juejin.cn/post/7572161976594137140</link>    <guid>https://juejin.cn/post/7572161976594137140</guid>    <pubDate>2025-11-14T09:02:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572161976594137140" data-draft-id="7572141390857502720" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="CSS åƒç´ â‰ ç‰©ç†åƒç´ ï¼š0.5px æ•ˆæœçš„æ ¸å¿ƒå¯†ç æ˜¯ä»€ä¹ˆï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,CSS,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-14T09:02:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‹‰ä¸åŠ¨çš„çŒª"/> <meta itemprop="url" content="https://juejin.cn/user/1429793504759630"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            CSS åƒç´ â‰ ç‰©ç†åƒç´ ï¼š0.5px æ•ˆæœçš„æ ¸å¿ƒå¯†ç æ˜¯ä»€ä¹ˆï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1429793504759630/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‹‰ä¸åŠ¨çš„çŒª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T09:02:17.000Z" title="Fri Nov 14 2025 09:02:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="an-old-hope">.hljs-comment,.hljs-quote{color:#b6b18b}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#eb3c54}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#e7ce56}.hljs-attribute{color:#ee7c2b}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#4fb4d7}.hljs-section,.hljs-title{color:#78bb65}.hljs-keyword,.hljs-selector-tag{color:#b45ea4}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#1c1d21;color:#c0c5ce}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å…ˆæ˜ç¡®ä¸¤è€…çš„å…³ç³»ï¼š<strong>CSS åƒç´ æ˜¯ â€œé€»è¾‘åƒç´ â€ï¼ˆé¡µé¢å¸ƒå±€ç”¨ï¼‰ï¼Œç‰©ç†åƒç´ æ˜¯å±å¹•å®é™…å‘å…‰çš„åƒç´ ç‚¹</strong>ï¼Œä¸¤è€…é€šè¿‡Â <strong>è®¾å¤‡åƒç´ æ¯”ï¼ˆDPRï¼‰</strong> Â å…³è”ï¼Œå…¬å¼ä¸ºï¼š<code>1 ä¸ª CSS åƒç´  = DPR Ã— DPR ä¸ªç‰©ç†åƒç´ </code>ï¼ˆä»…é«˜æ¸…å±ç¼©æ”¾ä¸º 1 æ—¶ï¼‰ã€‚</p>
<p>ç†è§£è¿™ä¸ªæ ¸å¿ƒå…³ç³»åï¼Œå†çœ‹ 0.5px æ•ˆæœçš„å®ç°é€»è¾‘å°±æ›´æ¸…æ™°äº†ï¼Œä»¥ä¸‹é‡æ–°æ•´ç†ï¼ˆé‡ç‚¹è¡¥å……åƒç´ å…³ç³»ï¼Œå†å¯¹åº”æ–¹æ³•ï¼‰ï¼š</p>
<h3 data-id="heading-0">ä¸€ã€å…ˆææ‡‚ï¼šCSS åƒç´ ã€ç‰©ç†åƒç´ ã€DPR çš„æ ¸å¿ƒå…³ç³»</h3>
<ol>
<li>
<p><strong>å®šä¹‰</strong></p>
<ul>
<li>
<p>CSS åƒç´ ï¼šå†™ä»£ç æ—¶ç”¨çš„å•ä½ï¼ˆå¦‚Â <code>width: 100px</code>ï¼‰ï¼Œæ˜¯æµè§ˆå™¨æ¸²æŸ“å¸ƒå±€çš„ â€œé€»è¾‘å•ä½â€ï¼Œå’Œå±å¹•ç¡¬ä»¶æ— å…³ã€‚</p>
</li>
<li>
<p>ç‰©ç†åƒç´ ï¼šå±å¹•é¢æ¿ä¸Šå®é™…çš„å‘å…‰ç‚¹ï¼ˆå¦‚æ‰‹æœºå±åˆ†è¾¨ç‡ 1080Ã—2340ï¼Œå°±æ˜¯æ¨ªå‘ 1080 ä¸ªã€çºµå‘ 2340 ä¸ªç‰©ç†åƒç´ ï¼‰ï¼Œæ˜¯å±å¹•çš„ç¡¬ä»¶å±æ€§ã€‚</p>
</li>
<li>
<p>DPRï¼ˆè®¾å¤‡åƒç´ æ¯”ï¼‰ï¼š<code>DPR = ç‰©ç†åƒç´ å®½åº¦ / CSS åƒç´ å®½åº¦</code>ï¼ˆé»˜è®¤é¡µé¢ç¼©æ”¾ä¸º 1 æ—¶ï¼‰ï¼Œç”±è®¾å¤‡ç¡¬ä»¶å†³å®šã€‚</p>
<ul>
<li>ä¾‹ 1ï¼šè€æ¬¾æ™®é€šå±ï¼ˆDPR=1ï¼‰ï¼š1 ä¸ª CSS åƒç´  = 1Ã—1 ä¸ªç‰©ç†åƒç´ ï¼ˆå†™Â <code>1px</code>Â å°±å¯¹åº”å±å¹• 1 ä¸ªå‘å…‰ç‚¹ï¼‰ã€‚</li>
<li>ä¾‹ 2ï¼šé«˜æ¸…å±ï¼ˆDPR=2ï¼Œå¦‚ iPhone 8ï¼‰ï¼š1 ä¸ª CSS åƒç´  = 2Ã—2 ä¸ªç‰©ç†åƒç´ ï¼ˆå†™Â <code>1px</code>Â å®é™…å ç”¨å±å¹• 4 ä¸ªå‘å…‰ç‚¹ï¼Œè§†è§‰ä¸Šæ›´ç²—ï¼‰ã€‚</li>
<li>ä¾‹ 3ï¼šè¶…é«˜æ¸…å±ï¼ˆDPR=3ï¼Œå¦‚ iPhone 14 Proï¼‰ï¼š1 ä¸ª CSS åƒç´  = 3Ã—3 ä¸ªç‰©ç†åƒç´ ï¼ˆå†™Â <code>1px</code>Â å ç”¨ 9 ä¸ªå‘å…‰ç‚¹ï¼Œæ›´ç²—ï¼‰ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>å…³é”®ç»“è®º</strong></p>
<ul>
<li>æˆ‘ä»¬æƒ³è¦çš„ â€œ0.5px æ•ˆæœâ€ï¼Œæœ¬è´¨æ˜¯Â <strong>è®©çº¿æ¡åªå ç”¨ 1 ä¸ªç‰©ç†åƒç´ </strong>ï¼ˆè§†è§‰ä¸Šæœ€ç»†ï¼‰ã€‚</li>
<li>ä½†é«˜æ¸…å±ï¼ˆDPRâ‰¥2ï¼‰é»˜è®¤ä¸‹ï¼Œ1 ä¸ª CSS åƒç´ ä¼šå ç”¨å¤šä¸ªç‰©ç†åƒç´ ï¼Œæ‰€ä»¥ä¸èƒ½ç›´æ¥å†™Â <code>1px</code>ï¼Œéœ€è¦é€šè¿‡æ–¹æ³• â€œå‹ç¼©â€ CSS åƒç´ å¯¹åº”çš„ç‰©ç†åƒç´ æ•°é‡ï¼Œæœ€ç»ˆè½åˆ° 1 ä¸ªç‰©ç†åƒç´ ä¸Šã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-1">äºŒã€æŒ‰ DPR è¦æ±‚åˆ†ç±»çš„ 0.5px å®ç°æ–¹æ³•ï¼ˆç»“åˆåƒç´ å…³ç³»ï¼‰</h3>
<h4 data-id="heading-2">ï¼ˆä¸€ï¼‰ä»… DPRâ‰¥2 ç”Ÿæ•ˆï¼šç›´æ¥è®© CSS åƒç´ å¯¹åº” 1 ä¸ªç‰©ç†åƒç´ </h4>
<p>æ ¸å¿ƒé€»è¾‘ï¼šåˆ©ç”¨ DPRâ‰¥2 çš„åƒç´ æ˜ å°„å…³ç³»ï¼Œè®© CSS åƒç´ ç»è¿‡è®¡ç®—åï¼Œåˆšå¥½å¯¹åº” 1 ä¸ªç‰©ç†åƒç´ ã€‚</p>
<h5 data-id="heading-3">1. ç›´æ¥å£°æ˜Â <code>0.5px</code></h5>
<ul>
<li><strong>åƒç´ å…³ç³»</strong>ï¼šDPR=2 æ—¶ï¼Œ<code>0.5px</code>Â CSS åƒç´  = 0.5Ã—2 = 1 ä¸ªç‰©ç†åƒç´ ï¼ˆåˆšå¥½æ»¡è¶³éœ€æ±‚ï¼‰ï¼›DPR=3 æ—¶ï¼Œ<code>0.5px</code>Â CSS åƒç´  = 0.5Ã—3 = 1.5 ä¸ªç‰©ç†åƒç´ ï¼ˆæ¥è¿‘ç»†çº¿æ¡ï¼Œè§†è§‰å¯æ¥å—ï¼‰ã€‚</li>
<li><strong>å‰æ</strong>ï¼šDPRâ‰¥2 + æµè§ˆå™¨æ”¯æŒäºšåƒç´ æ¸²æŸ“ï¼ˆiOS 9+ã€Android 8.0+ï¼‰ã€‚</li>
<li><strong>ä»£ç </strong>ï¼š<code>border: 0.5px solid #000;</code></li>
<li><strong>å±€é™</strong>ï¼šDPR=1 æ—¶ï¼Œ<code>0.5px</code>Â CSS åƒç´  = 0.5Ã—1 = 0.5 ä¸ªç‰©ç†åƒç´ ï¼ˆå±å¹•æ— æ³•æ¸²æŸ“ï¼Œä¼šå››èˆäº”å…¥ä¸º 0px æˆ– 1pxï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-4">2.Â <code>transform: scale(0.5)</code>Â ç¼©æ”¾</h5>
<ul>
<li>
<p><strong>åƒç´ å…³ç³»</strong>ï¼šå…ˆå†™Â <code>1px</code>Â CSS åƒç´ ï¼ˆDPR=2 æ—¶å¯¹åº” 2 ä¸ªç‰©ç†åƒç´ ï¼‰ï¼Œå†ç¼©æ”¾ 50%ï¼Œæœ€ç»ˆ 2Ã—50% = 1 ä¸ªç‰©ç†åƒç´ ã€‚</p>
</li>
<li>
<p><strong>å‰æ</strong>ï¼šDPRâ‰¥2ï¼ˆåªæœ‰ DPRâ‰¥2 æ—¶ï¼Œ1px CSS åƒç´ æ‰ä¼šå¯¹åº” â‰¥2 ä¸ªç‰©ç†åƒç´ ï¼Œç¼©æ”¾åæ‰èƒ½è½åˆ° 1 ä¸ªï¼‰ã€‚</p>
</li>
<li>
<p><strong>ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.line</span><span class="hljs-selector-pseudo">::after</span> {
  <span class="hljs-attribute">content</span>: <span class="hljs-string">''</span>;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">200%</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">1px</span>; <span class="hljs-comment">/* 1px CSS = 2 ç‰©ç†åƒç´ ï¼ˆDPR=2ï¼‰ */</span>
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#000</span>;
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">0.5</span>); <span class="hljs-comment">/* 2 ç‰©ç†åƒç´  Ã— 0.5 = 1 ç‰©ç†åƒç´  */</span>
}
</code></pre>
</li>
<li>
<p><strong>å±€é™</strong>ï¼šDPR=1 æ—¶ï¼Œ1px CSS åƒç´  = 1 ç‰©ç†åƒç´ ï¼Œç¼©æ”¾åå˜æˆ 0.5 ç‰©ç†åƒç´ ï¼ˆå±å¹•æ— æ³•æ¸²æŸ“ï¼Œçº¿æ¡æ¶ˆå¤±æˆ–æ¨¡ç³Šï¼‰ã€‚</p>
</li>
</ul>
<h5 data-id="heading-5">3.Â <code>viewport</code>Â ç¼©æ”¾ï¼ˆå…¨å±€æ–¹æ¡ˆï¼‰</h5>
<ul>
<li>
<p><strong>åƒç´ å…³ç³»</strong>ï¼šé€šè¿‡Â <code>initial-scale=1/DPR</code>Â æ”¹å˜é¡µé¢ç¼©æ”¾æ¯”ä¾‹ï¼Œè®© 1px CSS åƒç´ ç›´æ¥å¯¹åº” 1 ä¸ªç‰©ç†åƒç´ ã€‚</p>
<ul>
<li>ä¾‹ï¼šDPR=2 æ—¶ï¼Œç¼©æ”¾ 50%ï¼ˆ1/2ï¼‰ï¼Œæ­¤æ—¶ 1px CSS åƒç´  = 1 ç‰©ç†åƒç´ ï¼ˆåŸæœ¬ 2 ç‰©ç†åƒç´ ï¼Œç¼©æ”¾åå‹ç¼©ä¸º 1ï¼‰ï¼›DPR=3 æ—¶ï¼Œç¼©æ”¾ 33.3%ï¼ˆ1/3ï¼‰ï¼Œ1px CSS åƒç´  = 1 ç‰©ç†åƒç´ ã€‚</li>
</ul>
</li>
<li>
<p><strong>å‰æ</strong>ï¼šDPRâ‰¥2ï¼ˆé«˜æ¸…å±ï¼‰ï¼Œéœ€é…åˆå¸ƒå±€å•ä½ï¼ˆå¦‚ remï¼‰è°ƒæ•´ã€‚</p>
</li>
<li>
<p><strong>ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">&lt;meta <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> content=<span class="hljs-string">"width=device-width, initial-scale=1.0, user-scalable=no"</span>&gt;
&lt;script&gt;
  const <span class="hljs-attr">dpr</span> = window.devicePixelRatio || <span class="hljs-number">1</span><span class="hljs-comment">;</span>
  document.querySelector('meta<span class="hljs-section">[name="viewport"]</span>').setAttribute('content', 
    `<span class="hljs-attr">width</span>=device-width, initial-scale=<span class="hljs-variable">${1/dpr}</span>, user-scalable=<span class="hljs-literal">no</span>`
  )<span class="hljs-comment">;</span>
&lt;/script&gt;
</code></pre>
</li>
<li>
<p><strong>ä¼˜åŠ¿</strong>ï¼šç›´æ¥å†™Â <code>border: 1px</code>Â å°±æ˜¯ 1 ç‰©ç†åƒç´ ï¼Œé€‚é…æ‰€æœ‰ DPRâ‰¥2 çš„è®¾å¤‡ã€‚</p>
</li>
<li>
<p><strong>å±€é™</strong>ï¼šå…¨å±€ç¼©æ”¾ä¼šå½±å“å¸ƒå±€ï¼Œéœ€é‡æ–°è®¡ç®— rem åŸºå‡†å€¼ï¼ˆå¦‚Â <code>html { font-size: 16px * dpr }</code>ï¼‰ã€‚</p>
</li>
</ul>
<h4 data-id="heading-6">ï¼ˆäºŒï¼‰DPRâ‰¥2 æœ€ä¼˜ï¼ŒDPR=1 å¯æ¨¡æ‹Ÿï¼šè§†è§‰å±‚é¢å®ç° â€œç»†äº 1pxâ€</h4>
<p>æ ¸å¿ƒé€»è¾‘ï¼šä¸ä¾èµ–åƒç´ æ˜ å°„çš„ç²¾å‡†è®¡ç®—ï¼Œè€Œæ˜¯é€šè¿‡è§†è§‰æ¬ºéª—æˆ–çŸ¢é‡æ¸²æŸ“ï¼Œè®©çº¿æ¡çœ‹èµ·æ¥æ¯” 1px ç»†ï¼ˆDPR=1 æ—¶æ— æ³•å®ç° 1 ç‰©ç†åƒç´ ï¼Œåªèƒ½æ¨¡æ‹Ÿï¼‰ã€‚</p>
<h5 data-id="heading-7">1. SVG ç»˜åˆ¶</h5>
<ul>
<li>
<p><strong>åƒç´ å…³ç³»</strong>ï¼šSVG æ˜¯çŸ¢é‡å›¾ï¼Œä¸ä¾èµ– CSS åƒç´ å’Œç‰©ç†åƒç´ çš„æ˜ å°„ï¼Œç›´æ¥æŒ‰ â€œåæ ‡ + çº¿æ¡å®½åº¦â€ æ¸²æŸ“ã€‚</p>
<ul>
<li>DPRâ‰¥2 æ—¶ï¼š<code>stroke-width="1"</code>Â +Â <code>y1="0.5"</code>Â ç›´æ¥æ¸²æŸ“ä¸º 1 ä¸ªç‰©ç†åƒç´ ï¼ˆçŸ¢é‡æ¸²æŸ“æ”¯æŒäºšåƒç´ ç²¾å‡†æ§åˆ¶ï¼‰ã€‚</li>
<li>DPR=1 æ—¶ï¼šåŒæ ·çš„ä»£ç ä¼šæ¸²æŸ“ä¸º â€œè§†è§‰ä¸Š 0.5px ç»†çš„çº¿æ¡â€ï¼ˆå®é™…è¿˜æ˜¯ 1 ç‰©ç†åƒç´ ï¼Œä½†çŸ¢é‡ç¼©æ”¾è®©è¾¹ç¼˜æ›´ç»†è…»ï¼Œæ¯”ç›´æ¥å†™Â <code>1px</code>Â çœ‹èµ·æ¥ç»†ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>å‰æ</strong>ï¼šæ— ä¸¥æ ¼ DPR è¦æ±‚ï¼Œæ‰€æœ‰æ”¯æŒ SVG çš„æµè§ˆå™¨ï¼ˆå‡ ä¹æ‰€æœ‰ç§»åŠ¨ç«¯ï¼‰ã€‚</p>
</li>
<li>
<p><strong>ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">&lt;svg width=<span class="hljs-string">"100%"</span> height=<span class="hljs-string">"1"</span> xmlns=<span class="hljs-string">"http://www.w3.org/2000/svg"</span>&gt;
  &lt;line x1=<span class="hljs-string">"0"</span> y1=<span class="hljs-string">"0.5"</span> x2=<span class="hljs-string">"100%"</span> y2=<span class="hljs-string">"0.5"</span> stroke=<span class="hljs-string">"#000"</span> stroke-width=<span class="hljs-string">"1"</span> /&gt;
&lt;/svg&gt;
</code></pre>
</li>
</ul>
<h5 data-id="heading-8">2. èƒŒæ™¯æ¸å˜ï¼ˆ<code>background-image</code>ï¼‰</h5>
<ul>
<li>
<p><strong>åƒç´ å…³ç³»</strong>ï¼šåˆ©ç”¨ 1px é«˜çš„ CSS å®¹å™¨ï¼Œé€šè¿‡é¢œè‰²åˆ†å‰²æ¨¡æ‹Ÿ â€œåŠåƒç´ â€ã€‚</p>
<ul>
<li>DPR=2 æ—¶ï¼š1px CSS å®¹å™¨ = 2 ç‰©ç†åƒç´ é«˜ï¼Œæ¸å˜ â€œé€æ˜ 50% + æœ‰è‰² 50%â€ åˆšå¥½å¯¹åº” 1 ä¸ªç‰©ç†åƒç´ çš„æœ‰è‰²çº¿æ¡ã€‚</li>
<li>DPR=1 æ—¶ï¼š1px CSS å®¹å™¨ = 1 ç‰©ç†åƒç´ é«˜ï¼Œæ¸å˜åè§†è§‰ä¸Šæ˜¯ â€œåŠé€æ˜ç»†çº¿â€ï¼ˆæ¯”çº¯Â <code>1px</code>Â ç»†ï¼Œä½†æœ¬è´¨æ˜¯ 1 ç‰©ç†åƒç´ çš„é¢œè‰²å åŠ ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>å‰æ</strong>ï¼šæ”¯æŒ CSS3 æ¸å˜çš„æµè§ˆå™¨ï¼ˆiOS 7+ã€Android 4.4+ï¼‰ã€‚</p>
</li>
<li>
<p><strong>ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.line</span> {
  <span class="hljs-attribute">height</span>: <span class="hljs-number">1px</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(to bottom, transparent <span class="hljs-number">50%</span>, <span class="hljs-number">#000</span> <span class="hljs-number">50%</span>);
}
</code></pre>
</li>
</ul>
<h5 data-id="heading-9">3.Â <code>box-shadow</code>Â æ¨¡æ‹Ÿ</h5>
<ul>
<li><strong>åƒç´ å…³ç³»</strong>ï¼šDPR=2 æ—¶ï¼Œ<code>box-shadow: 0 0.5px 0 #000</code>Â ä¸­ï¼Œ0.5px CSS åç§»é‡ = 1 ç‰©ç†åƒç´ ï¼Œå½¢æˆ 1 ç‰©ç†åƒç´ çš„ç»†é˜´å½±ï¼ˆè§†è§‰ä¸Šæ˜¯ç»†çº¿æ¡ï¼‰ã€‚</li>
<li><strong>å‰æ</strong>ï¼šDPRâ‰¥2ï¼ˆDPR=1 æ—¶ï¼Œ0.5px åç§» = 0.5 ç‰©ç†åƒç´ ï¼Œå±å¹•æ— æ³•æ¸²æŸ“ï¼Œé˜´å½±ä¸æ˜¾ç¤ºæˆ–æ¨¡ç³Šï¼‰ã€‚</li>
<li><strong>ä»£ç </strong>ï¼š<code>box-shadow: 0 0.5px 0 #000;</code></li>
</ul>
<h3 data-id="heading-10">ä¸‰ã€æœ€ç»ˆæ€»ç»“ï¼ˆç»“åˆåƒç´ å…³ç³»ï¼‰</h3>















































<table><thead><tr><th>å®ç°æ–¹å¼</th><th>åƒç´ æ˜ å°„é€»è¾‘ï¼ˆæ ¸å¿ƒï¼‰</th><th>ä¾èµ– DPR</th><th>è§†è§‰æ•ˆæœ</th></tr></thead><tbody><tr><td>ç›´æ¥Â <code>0.5px</code></td><td>DPRâ‰¥2 æ—¶ï¼Œ0.5px CSS = 1 ç‰©ç†åƒç´ </td><td>DPRâ‰¥2</td><td>ç²¾å‡†ç»†çº¿æ¡</td></tr><tr><td><code>transform: scale</code></td><td>DPRâ‰¥2 æ—¶ï¼Œ1px CSSï¼ˆ2 ç‰©ç†åƒç´ ï¼‰ç¼©æ”¾ 50% = 1 ç‰©ç†åƒç´ </td><td>DPRâ‰¥2</td><td>å…¼å®¹æ€§å¥½ï¼Œç²¾å‡†ç»†çº¿æ¡</td></tr><tr><td><code>viewport</code>Â ç¼©æ”¾</td><td>DPRâ‰¥2 æ—¶ï¼Œç¼©æ”¾ 1/DPR è®© 1px CSS = 1 ç‰©ç†åƒç´ </td><td>DPRâ‰¥2</td><td>å…¨å±€é€‚é…ï¼Œç²¾å‡†ç»†çº¿æ¡</td></tr><tr><td>SVG ç»˜åˆ¶</td><td>çŸ¢é‡æ¸²æŸ“ï¼Œç›´æ¥æ§åˆ¶ 1 ç‰©ç†åƒç´ ï¼ˆDPRâ‰¥2ï¼‰æˆ–æ¨¡æ‹Ÿç»†çº¿æ¡ï¼ˆDPR=1ï¼‰</td><td>æ— ï¼ˆDPRâ‰¥2 æœ€ä¼˜ï¼‰</td><td>è·¨è®¾å¤‡ï¼Œç»†è…»æ— æ¨¡ç³Š</td></tr><tr><td>èƒŒæ™¯æ¸å˜</td><td>DPRâ‰¥2 æ—¶ 1px CSSï¼ˆ2 ç‰©ç†åƒç´ ï¼‰é¢œè‰²åˆ†å‰² = 1 ç‰©ç†åƒç´ ï¼›DPR=1 æ—¶è§†è§‰æ¬ºéª—</td><td>æ— ï¼ˆDPRâ‰¥2 æœ€ä¼˜ï¼‰</td><td>æ¨¡æ‹Ÿç»†çº¿æ¡ï¼Œæ— å…¼å®¹æ€§é—®é¢˜</td></tr><tr><td><code>box-shadow</code></td><td>DPRâ‰¥2 æ—¶ï¼Œ0.5px CSS åç§» = 1 ç‰©ç†åƒç´ é˜´å½±</td><td>DPRâ‰¥2</td><td>éè¾¹æ¡†çº¿æ¡é€‚ç”¨</td></tr></tbody></table>
<p><strong>æ ¸å¿ƒä¸€å¥è¯</strong>ï¼šæ‰€æœ‰ â€œçœŸå® 0.5px æ•ˆæœâ€ï¼ˆ1 ç‰©ç†åƒç´ ï¼‰éƒ½ä¾èµ– DPRâ‰¥2 çš„é«˜æ¸…å±ï¼ˆåˆ©ç”¨ CSS åƒç´ ä¸ç‰©ç†åƒç´ çš„æ˜ å°„å…³ç³»ï¼‰ï¼›DPR=1 æ—¶åªèƒ½æ¨¡æ‹Ÿï¼Œæ— æ³•å®ç°ç‰©ç†çº§åŠåƒç´ ã€‚</p>
<h3 data-id="heading-11">ä»¥ä¸‹æ˜¯åŒ…å«Â <strong>CSS åƒç´  / ç‰©ç†åƒç´  / DPR å…³ç³»è¯´æ˜</strong>Â çš„ 0.5px å…¼å®¹ä»£ç åˆé›†ï¼Œæ¯ä¸ªæ–¹æ³•éƒ½æ ‡æ³¨æ ¸å¿ƒé€»è¾‘å’Œé€‚ç”¨åœºæ™¯ï¼Œå¯ç›´æ¥å¤åˆ¶ä½¿ç”¨ï¼š</h3>
<h3 data-id="heading-12">ä¸€ã€è¯´æ˜ï¼ˆæ‰€æœ‰æ–¹æ³•é€šç”¨ï¼‰</h3>
<ul>
<li>æ ¸å¿ƒç›®æ ‡ï¼šè®©çº¿æ¡æœ€ç»ˆå ç”¨Â <strong>1 ä¸ªç‰©ç†åƒç´ </strong>ï¼ˆè§†è§‰æœ€ç»†ï¼‰ã€‚</li>
<li>åƒç´ å…³ç³»ï¼š<code>1 CSS åƒç´  = DPR Ã— DPR ç‰©ç†åƒç´ </code>ï¼ˆé»˜è®¤ç¼©æ”¾ 1 æ—¶ï¼‰ï¼Œé«˜æ¸…å±ï¼ˆDPRâ‰¥2ï¼‰éœ€é€šè¿‡ä»£ç  â€œå‹ç¼©â€ æ˜ å°„å…³ç³»ã€‚</li>
<li>é€‚é…åŸåˆ™ï¼šä¼˜å…ˆé€‰å…¼å®¹æ€§å¹¿ã€æ— å¸ƒå±€å½±å“çš„æ–¹æ³•ï¼ˆå¦‚ SVGã€transform ç¼©æ”¾ï¼‰ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-13">äºŒã€6 ç§å®ç”¨å…¼å®¹ä»£ç </h3>
<h4 data-id="heading-14">1. æ¨èé¦–é€‰ï¼štransform: scale (0.5) ç¼©æ”¾ï¼ˆDPRâ‰¥2 ç”Ÿæ•ˆï¼Œå…¼å®¹æ€§æœ€å¥½ï¼‰</h4>
<ul>
<li>æ ¸å¿ƒé€»è¾‘ï¼š1px CSS åƒç´ ï¼ˆDPR=2 æ—¶å¯¹åº” 2 ç‰©ç†åƒç´ ï¼‰â†’ ç¼©æ”¾ 50% â†’ æœ€ç»ˆ 1 ç‰©ç†åƒç´ ã€‚</li>
<li>é€‚ç”¨åœºæ™¯ï¼šè¾¹æ¡†ã€ç‹¬ç«‹çº¿æ¡ï¼Œä¸å½±å“å¸ƒå±€ã€‚</li>
</ul>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* é€šç”¨ç»†çº¿æ¡ç±»ï¼ˆä¸Šä¸‹å·¦å³å¯æŒ‰éœ€è°ƒæ•´ï¼‰ */</span>
<span class="hljs-selector-class">.thin-line</span> {
  <span class="hljs-attribute">position</span>: relative;
  <span class="hljs-comment">/* çˆ¶å®¹å™¨éœ€è§¦å‘ BFCï¼Œé¿å…çº¿æ¡æº¢å‡º */</span>
  <span class="hljs-attribute">overflow</span>: hidden;
}

<span class="hljs-selector-class">.thin-line</span><span class="hljs-selector-pseudo">::after</span> {
  <span class="hljs-attribute">content</span>: <span class="hljs-string">""</span>;
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">1px</span>; <span class="hljs-comment">/* 1px CSS = 2 ç‰©ç†åƒç´ ï¼ˆDPR=2ï¼‰ */</span>
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#000</span>; <span class="hljs-comment">/* çº¿æ¡é¢œè‰² */</span>
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scaleY</span>(<span class="hljs-number">0.5</span>); <span class="hljs-comment">/* å‚ç›´ç¼©æ”¾ 50% â†’ 2 ç‰©ç†åƒç´  â†’ 1 ç‰©ç†åƒç´  */</span>
  <span class="hljs-attribute">transform-origin</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span>; <span class="hljs-comment">/* ç¼©æ”¾åŸç‚¹é¿å…åç§» */</span>
}

<span class="hljs-comment">/* æ¨ªå‘çº¿æ¡ï¼ˆé»˜è®¤ï¼‰ã€çºµå‘çº¿æ¡ï¼ˆæŒ‰éœ€æ·»åŠ ï¼‰ */</span>
<span class="hljs-selector-class">.thin-line-vertical</span><span class="hljs-selector-pseudo">::after</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">1px</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scaleX</span>(<span class="hljs-number">0.5</span>);
}
</code></pre>
<ul>
<li>ä½¿ç”¨æ–¹å¼ï¼š<code>&lt;div class="thin-line"&gt;å†…å®¹&lt;/div&gt;</code></li>
</ul>
<hr/>
<h4 data-id="heading-15">2. è·¨ DPR ä¼˜é€‰ï¼šSVG ç»˜åˆ¶ï¼ˆæ‰€æœ‰è®¾å¤‡é€‚é…ï¼Œç²¾å‡†æ— æ¨¡ç³Šï¼‰</h4>
<ul>
<li>æ ¸å¿ƒé€»è¾‘ï¼šSVG çŸ¢é‡æ¸²æŸ“ä¸ä¾èµ–åƒç´ æ˜ å°„ï¼Œç›´æ¥æŒ‡å®š 1 ç‰©ç†åƒç´ çº¿æ¡ï¼ˆDPRâ‰¥2 ç²¾å‡†ï¼ŒDPR=1 æ¨¡æ‹Ÿç»†çº¿æ¡ï¼‰ã€‚</li>
<li>é€‚ç”¨åœºæ™¯ï¼šUI ä¸¥æ ¼è¿˜åŸã€è·¨è®¾å¤‡å…¼å®¹ï¼ˆæ¨èç”¨äºåˆ†å‰²çº¿ã€è¾¹æ¡†ï¼‰ã€‚</li>
</ul>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- æ¨ªå‘ç»†çº¿æ¡ï¼ˆç›´æ¥åµŒå…¥ï¼Œå¯å¤ç”¨ï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"svg-thin-line"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"100%"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"1"</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.w3.org/2000/svg"</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- y1="0.5" + stroke-width="1" â†’ ç›´æ¥å¯¹åº” 1 ç‰©ç†åƒç´ ï¼ˆDPRâ‰¥2ï¼‰ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">line</span> <span class="hljs-attr">x1</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">y1</span>=<span class="hljs-string">"0.5"</span> <span class="hljs-attr">x2</span>=<span class="hljs-string">"100%"</span> <span class="hljs-attr">y2</span>=<span class="hljs-string">"0.5"</span> <span class="hljs-attr">stroke</span>=<span class="hljs-string">"#000"</span> <span class="hljs-attr">stroke-width</span>=<span class="hljs-string">"1"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>

<span class="hljs-comment">&lt;!-- çºµå‘ç»†çº¿æ¡ï¼ˆå®½åº¦ 100%ï¼Œé«˜åº¦è‡ªé€‚åº”ï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"svg-thin-line-vertical"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"1"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"100%"</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.w3.org/2000/svg"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">line</span> <span class="hljs-attr">x1</span>=<span class="hljs-string">"0.5"</span> <span class="hljs-attr">y1</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">x2</span>=<span class="hljs-string">"0.5"</span> <span class="hljs-attr">y2</span>=<span class="hljs-string">"100%"</span> <span class="hljs-attr">stroke</span>=<span class="hljs-string">"#000"</span> <span class="hljs-attr">stroke-width</span>=<span class="hljs-string">"1"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>

<span class="hljs-comment">&lt;!-- æ ·å¼ä¼˜åŒ–ï¼ˆå¯é€‰ï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
  <span class="hljs-selector-class">.svg-thin-line</span> {
    <span class="hljs-attribute">display</span>: block;
    <span class="hljs-attribute">margin</span>: <span class="hljs-number">8px</span> <span class="hljs-number">0</span>; <span class="hljs-comment">/* ä¸Šä¸‹é—´è· */</span>
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<ul>
<li>ä½¿ç”¨æ–¹å¼ï¼šç›´æ¥åµŒå…¥ HTMLï¼Œä¿®æ”¹Â <code>stroke</code>Â é¢œè‰²ã€<code>width</code>/<code>height</code>Â é€‚é…åœºæ™¯ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-16">3. ç°ä»£è®¾å¤‡ï¼šç›´æ¥ 0.5px å£°æ˜ï¼ˆç®€æ´é«˜æ•ˆï¼ŒDPRâ‰¥2 + ç°ä»£æµè§ˆå™¨ï¼‰</h4>
<ul>
<li>æ ¸å¿ƒé€»è¾‘ï¼šDPR=2 æ—¶ï¼Œ0.5px CSS åƒç´  = 1 ç‰©ç†åƒç´ ï¼Œæµè§ˆå™¨ç›´æ¥æ¸²æŸ“ã€‚</li>
<li>é€‚ç”¨åœºæ™¯ï¼šiOS 9+ã€Android 8.0+ è®¾å¤‡ï¼Œæ— éœ€å…¼å®¹æ—§æœºå‹ã€‚</li>
</ul>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* ç›´æ¥å£°æ˜ï¼Œç®€æ´é«˜æ•ˆ */</span>
<span class="hljs-selector-class">.simple-thin-line</span> {
  <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">0.5px</span> solid <span class="hljs-number">#000</span>; <span class="hljs-comment">/* æ¨ªå‘çº¿æ¡ */</span>
  <span class="hljs-comment">/* çºµå‘çº¿æ¡ï¼šborder-left: 0.5px solid #000; */</span>
}

<span class="hljs-comment">/* å…¼å®¹å†™æ³•ï¼ˆéƒ¨åˆ†æµè§ˆå™¨éœ€å‰ç¼€ï¼‰ */</span>
<span class="hljs-selector-class">.compact-thin-line</span> {
  <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">0.5px</span> solid <span class="hljs-number">#000</span>;
  -webkit-<span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">0.5px</span> solid <span class="hljs-number">#000</span>;
}
</code></pre>
<ul>
<li>ä½¿ç”¨æ–¹å¼ï¼š<code>&lt;div class="simple-thin-line"&gt;å†…å®¹&lt;/div&gt;</code></li>
</ul>
<hr/>
<h4 data-id="heading-17">4. å…¨å±€é€‚é…ï¼šviewport ç¼©æ”¾ï¼ˆDPRâ‰¥2ï¼Œå…¨å±€ç»†çº¿æ¡ç»Ÿä¸€ï¼‰</h4>
<ul>
<li>æ ¸å¿ƒé€»è¾‘ï¼šç¼©æ”¾é¡µé¢ä¸ºÂ <code>1/DPR</code>ï¼Œè®© 1px CSS åƒç´  = 1 ç‰©ç†åƒç´ ï¼ˆéœ€é…åˆ rem å¸ƒå±€ï¼‰ã€‚</li>
<li>é€‚ç”¨åœºæ™¯ï¼šæ•´ä¸ªé¡µé¢éœ€è¦å¤§é‡ç»†çº¿æ¡ï¼Œæ„¿æ„è°ƒæ•´å¸ƒå±€å•ä½ã€‚</li>
</ul>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- ç¬¬ä¸€æ­¥ï¼šè®¾ç½® viewportï¼ˆåˆå§‹ç¼©æ”¾ 1.0ï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, user-scalable=no"</span>&gt;</span>

<span class="hljs-comment">&lt;!-- ç¬¬äºŒæ­¥ï¼šåŠ¨æ€è°ƒæ•´ç¼©æ”¾æ¯”ä¾‹ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  (<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> dpr = <span class="hljs-variable language_">window</span>.<span class="hljs-property">devicePixelRatio</span> || <span class="hljs-number">1</span>;
    <span class="hljs-keyword">const</span> viewport = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'viewport'</span>);
    <span class="hljs-comment">// ç¼©æ”¾ 1/DPRï¼Œè®© 1px CSS = 1 ç‰©ç†åƒç´ ï¼ˆDPR=2 â†’ ç¼©æ”¾ 50%ï¼‰</span>
    viewport.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">'content'</span>, <span class="hljs-string">`width=device-width, initial-scale=<span class="hljs-subst">${<span class="hljs-number">1</span>/dpr}</span>, user-scalable=no`</span>);
    
    <span class="hljs-comment">// å¯é€‰ï¼šè°ƒæ•´ rem åŸºå‡†å€¼ï¼ˆé¿å…å¸ƒå±€é”™ä¹±ï¼‰</span>
    <span class="hljs-keyword">const</span> html = <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>;
    html.<span class="hljs-property">style</span>.<span class="hljs-property">fontSize</span> = <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-number">16</span> * dpr}</span>px`</span>; <span class="hljs-comment">// 1rem = 16*dpr pxï¼ˆé€‚é…ç¼©æ”¾åå¸ƒå±€ï¼‰</span>
  })();
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-comment">&lt;!-- ç¬¬ä¸‰æ­¥ï¼šç›´æ¥å†™ 1px å³å¯ï¼ˆæ­¤æ—¶ 1px = 1 ç‰©ç†åƒç´ ï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
  <span class="hljs-selector-class">.global-thin-line</span> {
    <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#000</span>; <span class="hljs-comment">/* å®é™…æ˜¯ 1 ç‰©ç†åƒç´ ç»†çº¿æ¡ */</span>
    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0.5rem</span> <span class="hljs-number">0</span>; <span class="hljs-comment">/* rem å•ä½é€‚é…ç¼©æ”¾åå¸ƒå±€ */</span>
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<ul>
<li>ä½¿ç”¨æ–¹å¼ï¼šå…¨å±€å¼•å…¥è„šæœ¬ï¼Œä¹‹åæ‰€æœ‰Â <code>1px</code>Â è¾¹æ¡†éƒ½ä¼šå˜æˆç»†çº¿æ¡ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-18">5. è§†è§‰æ¨¡æ‹Ÿï¼šèƒŒæ™¯æ¸å˜ï¼ˆæ— å…¼å®¹æ€§é—®é¢˜ï¼ŒDPRâ‰¥2 æœ€ä¼˜ï¼‰</h4>
<ul>
<li>æ ¸å¿ƒé€»è¾‘ï¼š1px CSS å®¹å™¨ï¼ˆDPR=2 æ—¶ 2 ç‰©ç†åƒç´ ï¼‰â†’ é¢œè‰²åˆ†å‰²ä¸º 50% é€æ˜ + 50% æœ‰è‰² â†’ è§†è§‰ä¸Š 1 ç‰©ç†åƒç´ ã€‚</li>
<li>é€‚ç”¨åœºæ™¯ï¼šèƒŒæ™¯çº¿æ¡ã€æ— æ³•ç”¨è¾¹æ¡† / ä¼ªå…ƒç´ çš„åœºæ™¯ã€‚</li>
</ul>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* æ¨ªå‘çº¿æ¡ */</span>
<span class="hljs-selector-class">.gradient-thin-line</span> {
  <span class="hljs-attribute">height</span>: <span class="hljs-number">1px</span>;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-comment">/* ä¸ŠåŠé€æ˜ï¼Œä¸‹åŠæœ‰è‰² â†’ è§†è§‰ä¸Šç»†çº¿æ¡ */</span>
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(to bottom, transparent <span class="hljs-number">50%</span>, <span class="hljs-number">#000</span> <span class="hljs-number">50%</span>);
  <span class="hljs-attribute">background-size</span>: <span class="hljs-number">100%</span> <span class="hljs-number">1px</span>;
}

<span class="hljs-comment">/* çºµå‘çº¿æ¡ */</span>
<span class="hljs-selector-class">.gradient-thin-line-vertical</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">1px</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(to right, transparent <span class="hljs-number">50%</span>, <span class="hljs-number">#000</span> <span class="hljs-number">50%</span>);
  <span class="hljs-attribute">background-size</span>: <span class="hljs-number">1px</span> <span class="hljs-number">100%</span>;
}
</code></pre>
<ul>
<li>ä½¿ç”¨æ–¹å¼ï¼š<code>&lt;div class="gradient-thin-line"&gt;&lt;/div&gt;</code>ï¼ˆç‹¬ç«‹çº¿æ¡å®¹å™¨ï¼‰ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-19">6. éè¾¹æ¡†åœºæ™¯ï¼šbox-shadow æ¨¡æ‹Ÿï¼ˆDPRâ‰¥2ï¼Œé€‚åˆé˜´å½±ç±»çº¿æ¡ï¼‰</h4>
<ul>
<li>æ ¸å¿ƒé€»è¾‘ï¼šDPR=2 æ—¶ï¼Œ0.5px CSS åç§» = 1 ç‰©ç†åƒç´ ï¼Œé˜´å½±å³ç»†çº¿æ¡ã€‚</li>
<li>é€‚ç”¨åœºæ™¯ï¼šæ— éœ€å ç”¨å¸ƒå±€ç©ºé—´çš„çº¿æ¡ï¼ˆå¦‚æ–‡å­—ä¸‹æ–¹ç»†ä¸‹åˆ’çº¿ï¼‰ã€‚</li>
</ul>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.shadow-thin-line</span> {
  <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;
  <span class="hljs-comment">/* y è½´åç§» 0.5px â†’ 1 ç‰©ç†åƒç´ ï¼Œæ— æ¨¡ç³Šã€æ— æ‰©æ•£ */</span>
  <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">0.5px</span> <span class="hljs-number">0</span> <span class="hljs-number">#000</span>;
  -webkit-<span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">0.5px</span> <span class="hljs-number">0</span> <span class="hljs-number">#000</span>; <span class="hljs-comment">/* å…¼å®¹ Safari */</span>
}

<span class="hljs-comment">/* æ–‡å­—ä¸‹åˆ’çº¿ç¤ºä¾‹ */</span>
<span class="hljs-selector-class">.text-thin-underline</span> {
  <span class="hljs-attribute">display</span>: inline-block;
  <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">0.5px</span> <span class="hljs-number">0</span> <span class="hljs-number">#000</span>;
  <span class="hljs-attribute">padding-bottom</span>: <span class="hljs-number">2px</span>;
}
</code></pre>
<ul>
<li>ä½¿ç”¨æ–¹å¼ï¼š<code>&lt;span class="text-thin-underline"&gt;å¸¦ç»†ä¸‹åˆ’çº¿çš„æ–‡å­—&lt;/span&gt;</code></li>
</ul>
<hr/>
<h3 data-id="heading-20">ä¸‰ã€ä½¿ç”¨å»ºè®®</h3>
<ol>
<li>ä¼˜å…ˆé€‰Â <strong>transform ç¼©æ”¾</strong>Â æˆ–Â <strong>SVG ç»˜åˆ¶</strong>ï¼šå…¼å®¹æ€§å¹¿ã€æ— å¸ƒå±€å½±å“ï¼Œè¦†ç›– 99% åœºæ™¯ã€‚</li>
<li>ç°ä»£è®¾å¤‡ï¼ˆiOS 9+/Android 8.0+ï¼‰ç›´æ¥ç”¨Â <strong>0.5px å£°æ˜</strong>ï¼šä»£ç æœ€ç®€æ´ã€‚</li>
<li>å…¨å±€å¤§é‡ç»†çº¿æ¡ç”¨Â <strong>viewport ç¼©æ”¾</strong>ï¼šéœ€é…åˆ rem å¸ƒå±€ï¼Œä¸€æ¬¡æ€§è§£å†³æ‰€æœ‰çº¿æ¡é—®é¢˜ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flutter 3.38 å‘å¸ƒï¼Œå¿«æ¥çœ‹çœ‹æœ‰ä»€ä¹ˆæ›´æ–°å§]]></title>    <link>https://juejin.cn/post/7571693273728696356</link>    <guid>https://juejin.cn/post/7571693273728696356</guid>    <pubDate>2025-11-12T23:24:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571693273728696356" data-draft-id="7571646669202505770" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flutter 3.38  å‘å¸ƒï¼Œå¿«æ¥çœ‹çœ‹æœ‰ä»€ä¹ˆæ›´æ–°å§"/> <meta itemprop="keywords" content="å‰ç«¯,Android,Flutter"/> <meta itemprop="datePublished" content="2025-11-12T23:24:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‹çŒ«deå°éƒ­"/> <meta itemprop="url" content="https://juejin.cn/user/817692379985752"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flutter 3.38  å‘å¸ƒï¼Œå¿«æ¥çœ‹çœ‹æœ‰ä»€ä¹ˆæ›´æ–°å§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/817692379985752/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‹çŒ«deå°éƒ­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-12T23:24:02.000Z" title="Wed Nov 12 2025 23:24:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ 11 æœˆ 13 æ—¥çš„ FlutterFlightPlans ç›´æ’­ä¸­ï¼ŒFlutter 3.38 å¦‚æœŸè€Œè‡³ï¼Œæœ¬æ¬¡ç‰ˆæœ¬ä¸»è¦æ¶‰åŠ <strong>Dot shorthandsã€Web æ”¯æŒå¢å¼ºã€æ€§èƒ½æ”¹è¿›ã€é—®é¢˜ä¿®å¤å’Œæ§ä»¶é¢„è§ˆç­‰æ–¹é¢</strong>ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4d433075975a4642bfafa8d84892238c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763594642&amp;x-signature=JYqE4ro93N2IYqBtQE2GNsCuD6g%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">Dot shorthands</h2>
<p>åœ¨ Dart 3.10 + Flutter 3.38 ä¸­å¼€å§‹é»˜è®¤æ”¯æŒ Dot shorthands ï¼Œé€šè¿‡ Dot shorthands å¯ä»¥ä½¿ç”¨ç®€å†™æ–¹å¼çœç•¥ç±»å‹å‰ç¼€ï¼Œä¾‹å¦‚ä½¿ç”¨ <code>.start</code> è€Œä¸æ˜¯ <code>MainAxisAlignment.start</code>  ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// With shorthands</span>
Column(
  mainAxisAlignment: .start,
  crossAxisAlignment: .center,
  children: [ <span class="hljs-comment">/* ... */</span> ],
),

<span class="hljs-comment">// Without shorthands</span>
Column(
  mainAxisAlignment: MainAxisAlignment.start,
  crossAxisAlignment: CrossAxisAlignment.center,
  children: [ <span class="hljs-comment">/* â€¦ */</span> ],
),

</code></pre>
<p>ç±»ä¼¼çš„è¿˜æœ‰  <code>.all</code> è€Œä¸æ˜¯ <code>EdgeInsets.all</code>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart">Padding(
  padding: .all(<span class="hljs-number">8.0</span>),
  child: Text(<span class="hljs-string">'Hello world'</span>),
),
</code></pre>
<blockquote>
<p>è¯¦ç»†å¯è§æˆ‘ä»¬åœ¨ä¹‹å‰èŠè¿‡çš„ <a href="https://juejin.cn/post/7500234308432445451" target="_blank" title="https://juejin.cn/post/7500234308432445451">ã€ŠFlutter åˆå¹¶ 'dot-shorthands' è¯­æ³•ç³–ã€‹</a> ã€‚</p>
</blockquote>
<h2 data-id="heading-1">Web å¢å¼º</h2>
<p><code>flutter run</code> å‘½ä»¤ç°åœ¨æ”¯æŒè®¾ç½® Web çš„é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥åœ¨å·¥ç¨‹æ ¹ç›®å½•æ”¾å…¥ <code>web_dev_config.yaml</code> æ¥é…ç½® web ä¸»æœºã€ç«¯å£ã€è¯ä¹¦ã€headers ç­‰ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">server:</span>
  <span class="hljs-attr">host:</span> <span class="hljs-string">"0.0.0.0"</span> <span class="hljs-comment"># Defines the binding address &lt;string&gt;</span>
  <span class="hljs-attr">port:</span> <span class="hljs-number">8080</span> <span class="hljs-comment"># Specifies the port &lt;int&gt; for the development server</span>
  <span class="hljs-attr">https:</span>
    <span class="hljs-attr">cert-path:</span> <span class="hljs-string">"/path/to/cert.pem"</span> <span class="hljs-comment"># Path &lt;string&gt; to your TLS certificate</span>
    <span class="hljs-attr">cert-key-path:</span> <span class="hljs-string">"/path/to/key.pem"</span> <span class="hljs-comment"># Path &lt;string&gt; to TLS certificate key</span>
</code></pre>
<p>é€šè¿‡æ”¯æŒä»£ç† (proxy) è®¾ç½®ï¼Œè¿˜å¯ä»¥å°†è¯·æ±‚è½¬å‘åˆ°é…ç½®çš„è·¯å¾„åˆ°å¦ä¸€å°æœåŠ¡å™¨ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">server:</span>
  <span class="hljs-attr">proxy:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">target:</span> <span class="hljs-string">"http://localhost:5000/"</span> <span class="hljs-comment"># Base URL &lt;string&gt; of your backend</span>
      <span class="hljs-attr">prefix:</span> <span class="hljs-string">"/users/"</span> <span class="hljs-comment"># Path &lt;string&gt;</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">target:</span> <span class="hljs-string">"http://localhost:3000/"</span>
      <span class="hljs-attr">prefix:</span> <span class="hljs-string">"/data/"</span>
      <span class="hljs-attr">replace:</span> <span class="hljs-string">"/report/"</span> <span class="hljs-comment"># Replacement &lt;string&gt; of path in redirected URL (optional)</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">target:</span> <span class="hljs-string">"http://localhost:4000/"</span>
      <span class="hljs-attr">prefix:</span> <span class="hljs-string">"/products/"</span>
      <span class="hljs-attr">replace:</span> <span class="hljs-string">""</span>
</code></pre>
<p>æœ€å 3.38 è¿˜å¢å¼ºäº† Flutter Web çš„ hot reload å¹¶é»˜è®¤å¼€å¯ï¼Œå½“ä»¥ <code>-d web-server</code> å‚æ•°è¿è¡Œå¹¶åœ¨æµè§ˆå™¨æ‰“å¼€æ—¶ï¼Œå¯ä»¥æ”¯æŒå¤šä¸ªæµè§ˆå™¨åŒæ—¶è¿æ¥ hot reload ã€‚</p>
<blockquote>
<p>å½“ç„¶ï¼Œå’Œ  <code>-d chrome</code> ä¸€æ ·ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>--no-web-experimental-hot-reload</code> æ ‡å¿—æš‚æ—¶ç¦ç”¨ï¼Œä¸è¿‡ç¦ç”¨åŠŸèƒ½å°†åœ¨å°†æ¥çš„ç‰ˆæœ¬ä¸­åˆ é™¤ã€‚</p>
</blockquote>
<h2 data-id="heading-2">Framework</h2>
<p>æœ¬æ¬¡ Framework è°ƒæ•´ä¸»è¦å›´ç»•äº¤äº’ä¼˜åŒ–ç›¸å…³ï¼Œæ¯”å¦‚å¸®åŠ©å¼€å‘äººå‘˜å¯ä»¥æ›´ç²¾ç»†åœ°æ§åˆ¶ UIã€å¯¼èˆªå’Œå¹³å°äº¤äº’ç­‰ã€‚</p>
<p>é¦–å…ˆæ˜¯å¼•å…¥äº†æ–°çš„ <code>OverlayPortal</code>ï¼Œå…è®¸å°†å­ Widget æ¸²æŸ“åœ¨ä»»ä¸€ <code>Overlay</code> ä¸Šï¼Œé€šè¿‡ <code>overlayChildLayoutBuilder</code> å¯ä»¥æ›´çµæ´»åœ°æ˜¾ç¤ºå¼¹å‡ºã€å¯¹è¯æ¡†ã€é€šçŸ¥ç­‰ UI ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_OverlayPortalExampleState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">OverlayPortalExample</span>&gt; </span>{
  <span class="hljs-keyword">final</span> OverlayPortalController _controller = OverlayPortalController();

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> Scaffold(
      appBar: AppBar(title: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">'OverlayPortal'</span>)),
      body: Center(
        child: OverlayPortal.overlayChildLayoutBuilder(
          controller: _controller,
          <span class="hljs-comment">/// <span class="markdown"><span class="hljs-strong">****</span>å¯ä»¥é…ç½® root<span class="hljs-strong">****</span></span></span>
          overlayLocation: OverlayChildLocation.rootOverlay,
          child: ElevatedButton(
            onPressed: () =&gt; _controller.toggle(),
            child: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">'ç‚¹å‡»æ˜¾ç¤ºæµ®å±‚'</span>),
          ),
          overlayChildBuilder: (context, info) {
            <span class="hljs-keyword">return</span> Material(
              elevation: <span class="hljs-number">4</span>,
              color: Colors.white,
              shape: RoundedRectangleBorder(
                borderRadius: BorderRadius.circular(<span class="hljs-number">8</span>),
              ),
              child: Container(
                padding: <span class="hljs-keyword">const</span> EdgeInsets.all(<span class="hljs-number">12</span>),
                child: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">'è¿™æ˜¯ä¸€ä¸ªæµ®å±‚'</span>),
              ),
            );
          },
        ),
      ),
    );
  }
}


</code></pre>
<p><strong>é€šè¿‡ <code>overlayChildLayoutBuilder</code> å¯ä»¥æ‹¿åˆ°ä¸» Widget çš„ä½ç½®ä¿¡æ¯</strong>ï¼Œå¯å°†æµ®å±‚æ˜¾ç¤ºåœ¨ä»»æ„å±å¹•ä½ç½®ï¼Œæ¯”å¦‚æŒ‰é’®ä¸‹æ–¹ã€å±å¹•ä¸­å¿ƒã€æˆ–ä¸é¼ æ ‡ä½ç½®å¯¹é½ã€‚</p>
<p>æ¥ç€æ˜¯åœ¨ Android å¹³å°ä¸‹ï¼Œ<strong>ä½¿ç”¨ <code>MaterialApp</code> æ—¶é»˜è®¤å¯ç”¨äº†é¢„æµ‹åé€€è·¯ç”±è½¬åœº (predictive back route transitions)ï¼Œåé€€æ‰‹åŠ¿æ—¶èƒ½çœ‹åˆ°å½“å‰ç•Œé¢é¢„è§ˆ</strong>ï¼Œæ­¤å¤–é»˜è®¤é¡µé¢è½¬æ¢å·²ä» <code>ZoomPageTransitionsBuilder</code> æ›´æ–°ä¸º <code>FadeForwardsPageTransitionsBuilder</code> ã€‚</p>
<p>ç„¶åå°±æ˜¯ä¹…è¿çš„ PC ç«¯æ›´æ–°ï¼Œ<strong>é’ˆå¯¹ Windows æ¡Œé¢å¼€å‘å¢å¼º</strong>ï¼šå¯è®¿é—®å·²è¿æ¥æ˜¾ç¤ºå™¨åˆ—è¡¨ï¼Œå¹¶æŸ¥è¯¢æ¯ä¸ªæ˜¾ç¤ºå™¨çš„åˆ†è¾¨ç‡ã€åˆ·æ–°ç‡ã€ç‰©ç†å°ºå¯¸ç­‰å±æ€§ï¼Œç®—æ˜¯å¯¹å¤šçª—å£æ¨¡å¼çš„å¢å¼ºï¼Œä¾‹å¦‚ <code>PlatformDispatcher.displays </code>è·å–åˆ° å½“å‰æ‰€æœ‰æ˜¾ç¤ºå™¨ï¼š</p>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-keyword">void</span> printDisplayInfos() {
  <span class="hljs-keyword">final</span> platformDispatcher = WidgetsBinding.instance.platformDispatcher;
  <span class="hljs-keyword">final</span> displays = platformDispatcher.displays;

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">final</span> display <span class="hljs-keyword">in</span> displays) {
    <span class="hljs-keyword">final</span> id = display.id;
    <span class="hljs-keyword">final</span> size = display.size; <span class="hljs-comment">// Size in logical pixels</span>
    <span class="hljs-keyword">final</span> dpr = display.devicePixelRatio;
    <span class="hljs-keyword">final</span> refreshRate = display.refreshRate;
  }
}
</code></pre>
<p>åŒæ—¶ï¼Œç°åœ¨å¦‚æœåœ¨  Widget ç”Ÿå‘½å‘¨æœŸå›è°ƒä¸­å‘ç”Ÿçš„é”™è¯¯ï¼ˆä¾‹å¦‚ <code>didUpdateWidget</code>ï¼‰å¯ä»¥æ›´ä¼˜é›…åœ°å¤„ç†ï¼Œé˜²æ­¢å®ƒä»¬åœ¨å…ƒç´ æ ‘ä¸­å¯¼è‡´çº§è”æ•…éšœ ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fpull%2F173148" target="_blank" title="https://github.com/flutter/flutter/pull/173148" ref="nofollow noopener noreferrer">#173148</a>ï¼‰ï¼Œä»¥å‰å¦‚æœå¼€å‘è€…åœ¨è¿™äº›å›è°ƒä¸­æŠ›å‡ºäº†å¼‚å¸¸ï¼ˆå“ªæ€•åªæ˜¯ä¸€ä¸ªå°é”™è¯¯ï¼‰ï¼Œ<strong>æ•´ä¸ªå…ƒç´ æ ‘å¯èƒ½ä¼šè¿›å…¥ä¸ä¸€è‡´çŠ¶æ€æˆ–ç›´æ¥å´©æºƒ</strong>ã€‚</p>
<p>è€Œç°åœ¨ Framework åœ¨è¿™äº›ç”Ÿå‘½å‘¨æœŸé˜¶æ®µè°ƒç”¨æ—¶ï¼Œ <strong>å°†å†…éƒ¨å¼‚å¸¸æ•è·åŒ…è£…åœ¨æ›´å®‰å…¨çš„èŒƒå›´å†…</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½ çš„æŸä¸ªå­ Widget åœ¨ <code>didUpdateWidget()</code> æŠ›å‡ºé”™è¯¯ï¼Œ Flutter ä¼šï¼š</p>
<ul>
<li>æ•è·è¿™ä¸ªé”™è¯¯ï¼›</li>
<li>ä¸ŠæŠ¥ç»™ Flutter çš„å…¨å±€é”™è¯¯å¤„ç†ç³»ç»Ÿï¼ˆ<code>FlutterError.onError</code>ï¼‰ï¼›</li>
<li>å…è®¸å…¶ä»– widget æ­£å¸¸ rebuildï¼›</li>
<li>é¿å…æ•´ä¸ª Element Tree å‡ºç°ã€Œçº§è”é”™è¯¯ã€(cascade failure)</li>
</ul>
<p>ä¹Ÿå°±æ˜¯è®©é”™è¯¯éš”ç¦»æ›´å¼ºï¼Œä¸å†å› ä¸ºä¸€ä¸ª widget çš„ç”Ÿå‘½å‘¨æœŸå¼‚å¸¸ç ´åæ•´ä¸ªç•Œé¢ï¼Œè€Œ IDE ä¸­ä»ç„¶èƒ½çœ‹åˆ°è¯¦ç»†çš„å¼‚å¸¸æ ˆï¼Œä»è€Œè®©åº”ç”¨çš„å¥å£®æ€§æ˜¾è‘—æå‡ï¼ˆå°¤å…¶å¯¹çƒ­é‡è½½ã€åŠ¨æ€ç»„ä»¶æ›´æ–°ç­‰åœºæ™¯ï¼‰ã€‚</p>
<p>æœ€åæ˜¯ä¸€äº›é—®é¢˜ä¿®å¤ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>ä¿®å¤äº†ä¹‹å‰ <code>ResizeImage</code> çš„ <code>==</code> å’Œ <code>hashCode</code> å®ç°ä¸æ­£ç¡®çš„é—®é¢˜ï¼Œåœ¨ä¹‹å‰å³ä½¿ä¸¤ä¸ª <code>ResizeImage</code> æŒ‡å‘åŒä¸€åº•å±‚å›¾åƒå’Œç›¸åŒå°ºå¯¸ï¼Œ Flutter ä¹Ÿè®¤ä¸ºå®ƒä»¬ä¸ç›¸ç­‰</li>
<li>åœ¨ Web ä¸Šç»§ç»­ä¿®å¤ <code>RSuperellipse</code>ï¼Œä»¥é˜²æ­¢åœ¨è§’åŠå¾„å¤§äº Widget æœ¬èº« ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fpull%2F172254" target="_blank" title="https://github.com/flutter/flutter/pull/172254" ref="nofollow noopener noreferrer">#172254</a>ï¼‰ æ—¶å‡ºç°æ¸²æŸ“é”™è¯¯</li>
<li>å¯¹äºå›½é™…ç”¨æˆ·æ¥è¯´ï¼Œæ£€æµ‹æµè§ˆå™¨çš„é¦–é€‰åŒºåŸŸè®¾ç½®å¾—åˆ°ä¼˜åŒ–ï¼Œå¼•æ“ç°åœ¨ä½¿ç”¨æ ‡å‡†çš„ <code>Intl.Locale</code> Web API æ¥è§£ææµè§ˆå™¨è¯­è¨€ï¼Œå–ä»£äº†ä»¥å‰çš„æ‰‹åŠ¨å®ç° ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fpull%2F172964" target="_blank" title="https://github.com/flutter/flutter/pull/172964" ref="nofollow noopener noreferrer">#172964</a>ï¼‰</li>
<li>ä¿®å¤äº† Android çš„ç‰¹å®šé”™è¯¯ ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fpull%2F171973" target="_blank" title="https://github.com/flutter/flutter/pull/171973" ref="nofollow noopener noreferrer">#171973</a>ï¼‰ ï¼Œä¸»è¦å½±å“é…å¤‡ç¡¬ä»¶é”®ç›˜çš„ä¸‰æ˜Ÿè®¾å¤‡ï¼Œä»¥å‰åœ¨ç”¨æˆ·ä¸ <code>TextField</code> äº¤äº’åï¼ŒAndroid è¾“å…¥æ³•ç¼–è¾‘å™¨ ï¼ˆIMEï¼‰ å¯èƒ½ä¼šé™·å…¥è¿‡æ—¶çŠ¶æ€ï¼Œå¯¼è‡´ IME é”™è¯¯åœ°æ‹¦æˆªâ€œEnterâ€æˆ–â€œSpaceâ€é”®æŒ‰ä¸‹ï¼Œä»è€Œé˜»æ­¢éæ–‡æœ¬ Widget ï¼ˆå¦‚<code>å¤é€‰æ¡†</code>æˆ–<code>å•é€‰</code>æŒ‰é’®ï¼‰æ¥æ”¶äº‹ä»¶ï¼Œè€Œæœ¬æ¬¡çš„ä¿®å¤å¯ä»¥ç¡®ä¿åœ¨æ–‡æœ¬è¿æ¥å…³é—­æ—¶æ­£ç¡®é‡ç½® <code>InputMethodManager</code>ï¼Œæ¸…é™¤ IME çš„è¿‡æ—¶çŠ¶æ€ï¼Œå¹¶ä¸ºç”¨æˆ·è¿˜åŸå¯é¢„æµ‹çš„ç¡¬ä»¶é”®ç›˜äº¤äº’</li>
</ul>
<h2 data-id="heading-3">Material å’Œ Cupertino  æ›´æ–°</h2>
<p>åœ¨å¼ƒç”¨ <code>MaterialState</code> çš„åŸºç¡€ä¸Šï¼Œ3.38 ç»§ç»­å†…éƒ¨è¿ç§»åˆ°æ›´ç»Ÿä¸€çš„ <code>WidgetState</code>ï¼Œè¿™æä¾›äº†ä¸€ç§æ›´ä¸€è‡´çš„æ–¹å¼æ¥å®šä¹‰æ§ä»¶åœ¨ä¸åŒäº¤äº’çŠ¶æ€ï¼ˆä¾‹å¦‚æŒ‰ä¸‹ã€æ‚¬åœæˆ–ç¦ç”¨ï¼‰ä¸­çš„å¤–è§‚ï¼Œå¹¶ä¸”å¼€å‘è¿™ä¸éœ€è¦å¯¹ç°æœ‰åº”ç”¨ä»£ç è¿›è¡Œæ›´æ”¹ã€‚</p>
<p>3.38 å¼€å§‹æ°è¿ç§»å·²é€æ­¥åº”ç”¨åœ¨å„ç§ Widget åŠå…¶ä¸»é¢˜ï¼ŒåŒ…æ‹¬ <code>IconButton</code>ã€<code>ElevatedButton</code>ã€<code>Checkbox</code> å’Œ <code>Switch</code> ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fpull%2F173893" target="_blank" title="https://github.com/flutter/flutter/pull/173893" ref="nofollow noopener noreferrer">#173893</a>ï¼‰ï¼Œæ–°çš„ API è¿˜å¢åŠ äº†åŠŸèƒ½å’Œçµæ´»æ€§ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li><code>IconButton</code> ç°åœ¨åŒ…æ‹¬ä¸€ä¸ª <code>statesController</code> å±æ€§ ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fpull%2F169821" target="_blank" title="https://github.com/flutter/flutter/pull/169821" ref="nofollow noopener noreferrer">#169821</a>ï¼‰ï¼Œå…è®¸ä»¥ç¼–ç¨‹æ–¹å¼æ§åˆ¶å…¶è§†è§‰çŠ¶æ€</li>
<li><code>Badge.count</code> æ„é€ å‡½æ•°ç°åœ¨åŒ…å«ä¸€ä¸ª <code>maxCount</code> å‚æ•° ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fpull%2F171054" target="_blank" title="https://github.com/flutter/flutter/pull/171054" ref="nofollow noopener noreferrer">#171054</a>ï¼‰ ï¼Œå¯ä»¥é™åˆ¶æ˜¾ç¤ºçš„è®¡æ•°ï¼ˆä¾‹å¦‚ï¼Œæ˜¾ç¤ºâ€œ99+â€è€Œä¸æ˜¯â€œ100â€ï¼‰</li>
<li>ä¸ºäº†å®ç°æ›´ç»†ç²’åº¦çš„æ‰‹åŠ¿æ§åˆ¶ï¼Œ<code>InkWell</code> ç°åœ¨å…·æœ‰ <code>onLongPressUp</code> å›è°ƒ ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fpull%2F173221" target="_blank" title="https://github.com/flutter/flutter/pull/173221" ref="nofollow noopener noreferrer">#173221</a>ï¼‰ï¼Œå¯ç”¨äºè§¦å‘ä»…åœ¨ç”¨æˆ·æŠ¬èµ·æ‰‹æŒ‡æ—¶æ‰ç›¸åº”å®Œæˆ</li>
<li>Cupertino ä¹Ÿç»§ç»­æœç€æ›´å¥½çš„ iOS ä¿çœŸåº¦è¿ˆè¿›ï¼Œ <code>CupertinoSlidingSegmentedControl</code>  æ·»åŠ äº†<code>isMomentary</code> å±æ€§ ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fpull%2F164262" target="_blank" title="https://github.com/flutter/flutter/pull/164262" ref="nofollow noopener noreferrer">#164262</a>ï¼‰ ä»¥å…è®¸æ§ä»¶è§¦å‘è€Œä¸ä¿ç•™é€‰æ‹©ï¼Œä¸ºäº†æ›´å¥½åœ°åŒ¹é…åŸç”Ÿ iOS è¡Œä¸ºï¼Œ<code>CupertinoSheet</code> åœ¨å®Œå…¨å±•å¼€æ—¶å‘ä¸Šæ‹–åŠ¨æ—¶å…·æœ‰å¾®å¦™çš„â€œæ‹‰ä¼¸â€æ•ˆæœ ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fpull%2F168547" target="_blank" title="https://github.com/flutter/flutter/pull/168547" ref="nofollow noopener noreferrer">#168547</a>ï¼‰<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/181c61a77436444bbd5b552065ad4f29~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763594642&amp;x-signature=hW72opbkHzAt77Iiy4Z5uHqwvzc%3D" alt="" loading="lazy"/></li>
<li>ä¿®å¤ <code>DropdownMenuFormField</code> åœ¨çª—ä½“é‡ç½®æ—¶æ­£ç¡®æ¸…é™¤å…¶æ–‡æœ¬å­—æ®µ ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fpull%2F174937" target="_blank" title="https://github.com/flutter/flutter/pull/174937" ref="nofollow noopener noreferrer">#174937</a>ï¼‰</li>
<li>æ›´æ–° <code>SegmentedButton</code> æ”¹è¿›ç„¦ç‚¹å¤„ç† ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fpull%2F173953" target="_blank" title="https://github.com/flutter/flutter/pull/173953" ref="nofollow noopener noreferrer">#173953</a>ï¼‰ å¹¶ç¡®ä¿å…¶è¾¹æ¡†æ­£ç¡®åæ˜  Widget çš„çŠ¶æ€ ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fpull%2F172754" target="_blank" title="https://github.com/flutter/flutter/pull/172754" ref="nofollow noopener noreferrer">#172754</a>ï¼‰</li>
<li>æ»šåŠ¨ (Scrolling) å’Œ Sliver ç³»åˆ—æ§ä»¶æ”¹è¿›ï¼Œä¾‹å¦‚ <code>SliverMainAxisGroup</code> / <code>SliverCrossAxisGroup</code> åœ¨å¤æ‚æ»šåŠ¨å¸ƒå±€ä¸­æ‰‹åŠ¿å¤„ç†ã€ç‚¹å‡»å“åº”ã€ç„¦ç‚¹å¯¼èˆªæ›´å¯é ï¼Œä¾‹å¦‚ï¼š
<ul>
<li>å¯¹å¤šä¸ª sliver è¿›è¡Œåˆ†ç»„çš„å¼€å‘äººå‘˜ä¼šå‘ç°æ‰‹åŠ¿å¤„ç†ç°åœ¨æ›´åŠ å¯é ï¼Œç°åœ¨å¯ä»¥æ­£ç¡®è®¡ç®—è¿™äº›ç»„ä¸­ç»†ç‰‡ä¸Šçš„ç‚¹å‡»å’Œå…¶ä»–æŒ‡é’ˆäº‹ä»¶çš„å‘½ä¸­æµ‹è¯•ï¼Œç¡®ä¿ç”¨æˆ·äº¤äº’æŒ‰é¢„æœŸè¿è¡Œ ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fpull%2F174265" target="_blank" title="https://github.com/flutter/flutter/pull/174265" ref="nofollow noopener noreferrer">#174265</a>ï¼‰</li>
<li>åœ¨ <code>SliverMainAxisGroup</code>  ä½¿ç”¨å›ºå®šæ ‡é¢˜æ—¶è¿‡åº¦æ»šåŠ¨çš„é—®é¢˜å·²å¾—åˆ°è§£å†³ ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fpull%2F173349" target="_blank" title="https://github.com/flutter/flutter/pull/173349" ref="nofollow noopener noreferrer">#173349</a>ï¼‰ï¼Œè°ƒç”¨ <code>showOnScreen</code> æ˜¾ç¤º sliver ç°åœ¨å¯ä»¥æ­£å¸¸å·¥ä½œ ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fpull%2F171339" target="_blank" title="https://github.com/flutter/flutter/pull/171339" ref="nofollow noopener noreferrer">#171339</a>ï¼‰ï¼Œå¹¶ä¸”å†…éƒ¨æ»šåŠ¨åç§»é‡è®¡ç®—æ›´åŠ ç²¾ç¡® ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fpull%2F174369" target="_blank" title="https://github.com/flutter/flutter/pull/174369" ref="nofollow noopener noreferrer">#174369</a>ï¼‰ã€‚</li>
<li>å¯¹äºæ„å»ºè‡ªå®šä¹‰æ»šåŠ¨è§†å›¾çš„å¼€å‘äººå‘˜æ¥è¯´ï¼Œæ–°çš„ <code>SliverGrid.list</code> æ„é€ å‡½æ•° ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fpull%2F173925" target="_blank" title="https://github.com/flutter/flutter/pull/173925" ref="nofollow noopener noreferrer">#173925</a>ï¼‰ æä¾›äº†ä¸€ç§æ›´ç®€æ´çš„æ–¹æ³•ï¼Œå¯ä»¥ä»ç®€å•çš„å­åˆ—è¡¨åˆ›å»ºç½‘æ ¼<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1a326d1ec07d48c98bffe3ba138b3480~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763594642&amp;x-signature=rnmSehJhqnH8%2BBC5aR%2F9GiKZg6w%3D" alt="" loading="lazy"/></li>
</ul>
</li>
<li>å¦å¤–è¿˜æ”¹è¿›äº†å¤æ‚å¸ƒå±€ä¸­é”®ç›˜å’Œæ–¹å‘é”®ç”¨æˆ·çš„ç„¦ç‚¹å¯¼èˆªï¼Œåœ¨å…·æœ‰ä¸åŒæ»šåŠ¨è½´çš„åµŒå¥—æ»šåŠ¨è§†å›¾ï¼ˆä¾‹å¦‚æ°´å¹³è½®æ’­çš„å‚ç›´åˆ—è¡¨ï¼‰ä¸­ï¼Œå®šå‘ç„¦ç‚¹å¯¼èˆªç°åœ¨æ›´å…·å¯é¢„æµ‹æ€§ï¼Œå¯é˜²æ­¢ç„¦ç‚¹åœ¨éƒ¨åˆ†ä¹‹é—´æ„å¤–è·³è½¬ <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/48ea7a9bac734572a7190b652606ddeb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763594642&amp;x-signature=kNKSWqEOGlDf98aJZhs%2FFkMFL0Q%3D" alt="" loading="lazy"/></li>
</ul>
<p>æœ€åï¼Œ Material å’Œ Cupertino ä¸æ¡†æ¶çš„è§£è€¦è¿˜åœ¨ç»§ç»­ï¼Œæ ¸å¿ƒå†…å®¹å°±æ˜¯ï¼Œ<strong>è§£è€¦åéœ€è¦ä½œä¸ºç¬¬ä¸€æ–¹å®˜æ–¹åŒ…å‘å¸ƒ</strong>ï¼Œéœ€è¦è‡ªåŠ¨åŒ–è¯­ä¹‰åŒ–ç‰ˆæœ¬ç®¡ç†ï¼Œé¿å…å†²çªï¼Œæ”¯æŒè‡ªå®šä¹‰å‘å¸ƒï¼ˆå¦‚è·³è¿‡ç‰¹å®šæäº¤ã€æ‰¹é‡ç ´åæ€§å˜æ›´ï¼‰ï¼Œé‡‡ç”¨â€œæ‰¹é‡å‘å¸ƒâ€ï¼ˆBatch Releaseï¼‰ï¼Œä½¿ç”¨ Cocoon cron job æ¯å‘¨ç”Ÿæˆåˆå¹¶ PRï¼›å¼€å‘è€…é€šè¿‡ â€œcommitæ¶ˆæ¯ã€PR æ ‡ç­¾æˆ–ç‹¬ç«‹changelog æ–‡ä»¶æ ‡è®°å˜æ›´ï¼Œé¦–é€‰é€‰é¡¹ä¸º PR ç‹¬ç«‹ changelog æ–‡ä»¶ï¼Œç”± bot åˆå¹¶ç­‰ã€‚</p>
<p>å¦å¤–å°±æ˜¯ Widgetsæµ‹è¯•ä¸å¯¼å…¥Material/Cupertinoï¼›Cupertinoä¸å¯¼å…¥Materialï¼ŒMaterialè´Ÿè´£æ‰€æœ‰å¤šåº“å¯¼å…¥æµ‹è¯•ï¼ŒåŒ…æ‹¬ Cupertino å…¼å®¹æ€§å’Œè‡ªé€‚åº”ç­‰ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä¸€äº›å…³äºMaterial å’Œ Cupertino ä¸æ¡†æ¶çš„ä¸€äº›å…³é”®è®¨è®ºåœ°å€ï¼š</p>
<ul>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.google.com%2Fdocument%2Fu%2F1%2Fd%2F18kjoP-4LAXEllugVOQRg6vZELyD6MuxlKilLD4lFxSY%2Fedit" target="_blank" title="https://docs.google.com/document/u/1/d/18kjoP-4LAXEllugVOQRg6vZELyD6MuxlKilLD4lFxSY/edit" ref="nofollow noopener noreferrer">docs.google.com/document/u/â€¦</a></p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.google.com%2Fdocument%2Fd%2F1jUoFaawutbYsCI5oY3pDP_l-xpv6FhDKlcI1-EoT02s%2Fedit%3Ftab%3Dt.0" target="_blank" title="https://docs.google.com/document/d/1jUoFaawutbYsCI5oY3pDP_l-xpv6FhDKlcI1-EoT02s/edit?tab=t.0" ref="nofollow noopener noreferrer">docs.google.com/document/d/â€¦</a></p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.google.com%2Fdocument%2Fd%2F1y38TN9AUTyd0eTbu4kx4FiNgfsLDPvWvi92Fv5HWFjQ%2Fedit%3Ftab%3Dt.0%23heading%3Dh.pub7jnop54q0" target="_blank" title="https://docs.google.com/document/d/1y38TN9AUTyd0eTbu4kx4FiNgfsLDPvWvi92Fv5HWFjQ/edit?tab=t.0#heading=h.pub7jnop54q0" ref="nofollow noopener noreferrer">docs.google.com/document/d/â€¦</a></p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.google.com%2Fdocument%2Fd%2F1UHxALQqCbmgjnM1RNV9xE2pK3IGyx-UktGX1D7hYCjs%2Fedit%3Ftab%3Dt.0" target="_blank" title="https://docs.google.com/document/d/1UHxALQqCbmgjnM1RNV9xE2pK3IGyx-UktGX1D7hYCjs/edit?tab=t.0" ref="nofollow noopener noreferrer">docs.google.com/document/d/â€¦</a></p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fissues%2F177028" target="_blank" title="https://github.com/flutter/flutter/issues/177028" ref="nofollow noopener noreferrer">github.com/flutter/fluâ€¦</a></p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.google.com%2Fdocument%2Fd%2F1oFezK5leJzTWA5lsw3BQGx7gLbhpSL8dMleU3HD7bNY%2Fedit%3Ftab%3Dt.0" target="_blank" title="https://docs.google.com/document/d/1oFezK5leJzTWA5lsw3BQGx7gLbhpSL8dMleU3HD7bNY/edit?tab=t.0" ref="nofollow noopener noreferrer">docs.google.com/document/d/â€¦</a></p>
</li>
</ul>
<h2 data-id="heading-4">Accessibility</h2>
<p>å¯¹äºæ„å»ºå¤æ‚åº”ç”¨çš„å¼€å‘äººå‘˜ï¼Œ3.38 å¼•å…¥äº†ä½¿ç”¨ <code>WidgetsFlutterBinding.instance.ensureSemantics</code>   ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fpull%2F174163" target="_blank" title="https://github.com/flutter/flutter/pull/174163" ref="nofollow noopener noreferrer">#174163</a>ï¼‰ åœ¨ iOS ä¸Šé»˜è®¤æ‰“å¼€è¾…åŠ©åŠŸèƒ½çš„åŠŸèƒ½ï¼Œè°ƒè¯•è¾…åŠ©åŠŸèƒ½é—®é¢˜ç°åœ¨å˜å¾—æ›´åŠ å®¹æ˜“ï¼Œå› ä¸º <code>debugDumpSemanticsTree</code> åŒ…å«é¢å¤–çš„æ–‡æœ¬è¾“å…¥éªŒè¯ç»“æœä¿¡æ¯ï¼Œä»¥å¸®åŠ©æ›´å¿«åœ°è¯Šæ–­é—®é¢˜ ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fpull%2F174677" target="_blank" title="https://github.com/flutter/flutter/pull/174677" ref="nofollow noopener noreferrer">#174677</a>ï¼‰ã€‚</p>
<p>ä¸ºäº†åœ¨åŸºäº sliver çš„æ»šåŠ¨è§†å›¾ä¸­å®ç°é«˜çº§å¯è®¿é—®æ€§ï¼Œ3.38 å¢åŠ äº†æ–°çš„ <code>SliverSemantics</code>  ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fpull%2F167300" target="_blank" title="https://github.com/flutter/flutter/pull/167300" ref="nofollow noopener noreferrer">#167300</a>ï¼‰ ï¼Œä¸ç°æœ‰çš„ <code>Semantics</code>  éå¸¸ç›¸ä¼¼ï¼Œå¼€å‘äººå‘˜å¯ä»¥åœ¨ <code>CustomScrollView</code> ä¸­ä½¿ç”¨ <code>SliverSemantics</code> ä½¿ç”¨ç‰¹å®šè¯­ä¹‰ä¿¡æ¯æ³¨é‡Šå…¶ sliver æ ‘çš„æŸäº›éƒ¨åˆ†ï¼Œè¿™å¯¹äºæ³¨é‡Šæ ‡é¢˜ã€åˆ†é…è¯­ä¹‰è§’è‰²ä»¥åŠä¸ºå±å¹•é˜…è¯»å™¨å‘ sliver æ·»åŠ æè¿°æ€§æ ‡ç­¾ç‰¹åˆ«æœ‰ç”¨ï¼Œä»è€Œä¸ºç”¨æˆ·æä¾›æ›´æ˜“äºç†è§£å’Œè®¿é—®çš„ä½“éªŒã€‚</p>
<p>æœ€åï¼Œæ ¸å¿ƒ Widget çš„å¯è®¿é—®æ€§ä¸æ–­å®Œå–„ï¼Œç°åœ¨é»˜è®¤æƒ…å†µä¸‹å¯ä»¥è®¿é—® <code>CupertinoExpansionTile</code> ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fpull%2F174480" target="_blank" title="https://github.com/flutter/flutter/pull/174480" ref="nofollow noopener noreferrer">#174480</a>ï¼‰ï¼Œ<code>AutoComplete</code> ç°åœ¨å‘ç”¨æˆ·å®£å¸ƒæœç´¢ç»“æœçš„çŠ¶æ€ ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fpull%2F173480" target="_blank" title="https://github.com/flutter/flutter/pull/173480" ref="nofollow noopener noreferrer">#173480</a>ï¼‰ï¼Œ <code>TimePicker</code> ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fpull%2F170060" target="_blank" title="https://github.com/flutter/flutter/pull/170060" ref="nofollow noopener noreferrer">#170060</a>ï¼‰ ä¸­æœ‰æ›´å¤§çš„è§¦æ‘¸ç›®æ ‡ï¼Œæœ‰åŠ©äºæä¾›æ›´æ˜“äºè®¿é—®çš„å¼€ç®±å³ç”¨ä½“éªŒã€‚</p>
<h2 data-id="heading-5">iOS</h2>
<p>iOS å¹³å°å·²ç»å®Œæ•´æ”¯æŒæœ€æ–°çš„ iOS 26ã€Xcode 26ã€macOS 26ï¼Œç‰¹åˆ«æ˜¯åœ¨å‘½ä»¤è¡Œéƒ¨ç½²ä½¿ç”¨ <code>devicectl</code> æ›¿ä»£å¿…é¡»å¯åŠ¨ Xcode App çš„æµç¨‹ï¼Œç°åœ¨ Flutter 3.38 å¯ä»¥åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ä»…ä¾èµ–äº Xcode26 å‘½ä»¤è¡Œ æ„å»ºå·¥å…·ï¼Œæ›´å¤šå¯è§ï¼š</p>
<ul>
<li><a href="https://juejin.cn/post/7560986017034190891" target="_blank" title="https://juejin.cn/post/7560986017034190891">Flutter åœ¨ iOS 26 æ¨¡æ‹Ÿå™¨è·‘ä¸èµ·æ¥ï¼Ÿå…¶å®å¾ˆç®€å•</a></li>
<li><a href="https://juejin.cn/post/7542461507402924075" target="_blank" title="https://juejin.cn/post/7542461507402924075">Flutter å®Œæˆå…¨æ–° devicectl + lldb çš„ Debug JIT è¿è¡Œæ”¯æŒ</a></li>
</ul>
<blockquote>
<p>è™½ç„¶å®˜æ–¹è¯´å®Œå…¨æ”¯æŒï¼Œä½†æ˜¯ iOS26 é—®é¢˜è¿˜æ˜¯æœ‰çš„ï¼Œä¾‹å¦‚ï¼š<a href="https://juejin.cn/post/7571306072423448618" target="_blank" title="https://juejin.cn/post/7571306072423448618">ã€Šæ¥äº†è§£ä¸€ä¸‹ï¼Œä¸ºä»€ä¹ˆä½ çš„ Flutter WebView åœ¨ iOS 26 ä¸Šæœ‰ç‚¹å‡»é—®é¢˜ï¼Ÿã€‹</a></p>
</blockquote>
<p>å¦å¤– Flutter 3.38 åŒ…æ‹¬äº†å¯¹ Apple å¼ºåˆ¶çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.apple.com%2Fdocumentation%2Ftechnotes%2Ftn3187-migrating-to-the-uikit-scene-based-life-cycle" target="_blank" title="https://developer.apple.com/documentation/technotes/tn3187-migrating-to-the-uikit-scene-based-life-cycle" ref="nofollow noopener noreferrer">UIScene ç”Ÿå‘½å‘¨æœŸ</a>çš„åŸºæœ¬æ”¯æŒï¼Œè¿™æ˜¯ç»§ Apple åœ¨ WWDC25 ä¸Šå®£å¸ƒä¹‹åçš„ä¸€æ¬¡å…³é”®çš„ä¸»åŠ¨æ›´æ–°ï¼šâ€œåœ¨ iOS 26 ä¹‹åçš„ç‰ˆæœ¬ä¸­ï¼Œä»»ä½•ä½¿ç”¨æœ€æ–° SDK æ„å»ºçš„ UIKit åº”ç”¨éƒ½å°†éœ€è¦ä½¿ç”¨ UIScene ç”Ÿå‘½å‘¨æœŸï¼Œå¦åˆ™å®ƒå°†ä¸ä¼šå¯åŠ¨â€ã€‚</p>
<blockquote>
<p>è¯¦ç»†å¯è§ï¼š<a href="https://juejin.cn/post/7565733796269981738" target="_blank" title="https://juejin.cn/post/7565733796269981738">iOS 26 å¼€å§‹å¼ºåˆ¶ UIScene ï¼Œä½ çš„ Flutter æ’ä»¶å‡†å¤‡å¥½è¿ç§»æ”¯æŒäº†å—ï¼Ÿ</a> ï¼Œå› ä¸ºé€‚é…  UIScene éœ€è¦ è¿ç§»å®˜æ–¹æä¾›äº†æ‰‹åŠ¨è¿ç§»å’Œè‡ªåŠ¨è¿ç§»çš„æ”¯æŒï¼Œå…¶ä¸­è‡ªåŠ¨è¿ç§»éœ€è¦é…ç½® <code>flutter config --enable-uiscene-migration</code> ï¼Œæ›´å¤šè¿ç§»ç»†èŠ‚å¯è§ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.flutter.dev%2Frelease%2Fbreaking-changes%2Fuiscenedelegate%23migration-guide-for-flutter-apps" target="_blank" title="https://docs.flutter.dev/release/breaking-changes/uiscenedelegate#migration-guide-for-flutter-apps" ref="nofollow noopener noreferrer">docs.flutter.dev/release/breâ€¦</a></p>
</blockquote>
<p>å¯¹äº UIScene æ”¯æŒï¼Œæ›´è‡´å‘½çš„ä¸»è¦è¿˜æ˜¯æ’ä»¶å¼€å‘è€…ï¼Œå¯¹äºæ’ä»¶ä½œè€…è€Œè¨€ <code>UIScene</code> è¿ç§»å¸¦æ¥äº†æ›´å¤§çš„æŒ‘æˆ˜ï¼š<strong>å¿…é¡»ç¡®ä¿æ’ä»¶æ—¢èƒ½åœ¨å·²ç»è¿ç§»åˆ° <code>UIScene</code> çš„æ–°åº”ç”¨ä¸­æ­£å¸¸å·¥ä½œï¼Œä¹Ÿè¦èƒ½åœ¨å°šæœªè¿ç§»çš„æ—§åº”ç”¨æˆ–æ—§ç‰ˆ iOS ç³»ç»Ÿä¸Šä¿æŒå…¼å®¹</strong>ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>ä¸€ä¸ªä¾èµ–ç”Ÿå‘½å‘¨æœŸäº‹ä»¶çš„æ’ä»¶ï¼ˆä¾‹å¦‚ï¼Œä¸€ä¸ªåœ¨åº”ç”¨è¿›å…¥åå°æ—¶æš‚åœè§†é¢‘æ’­æ”¾çš„æ’ä»¶ï¼‰ä¸èƒ½ç®€å•åœ°æŠŠç›‘å¬ä»£ç ä» <code>AppDelegate</code> ç§»åˆ° <code>SceneDelegate</code>ï¼Œè¿™æ ·åšä¼šå¯¼è‡´å®ƒåœ¨æœªè¿ç§»çš„åº”ç”¨ä¸­å®Œå…¨å¤±æ•ˆï¼Œå› æ­¤æ’ä»¶å¿…é¡»èƒ½å¤ŸåŒæ—¶å¤„ç†ä¸¤ç§ç”Ÿå‘½å‘¨æœŸæ¨¡å‹</li>
<li>å…·ä½“æ’ä»¶è¿ç§»æ­¥éª¤ï¼š
<ul>
<li><strong>æ³¨å†Œåœºæ™¯äº‹ä»¶ç›‘å¬</strong>ï¼šåœ¨æ’ä»¶çš„ <code>register(with registrar: FlutterPluginRegistrar)</code> æ–¹æ³•ä¸­ï¼Œé™¤äº†åƒä»¥å‰ä¸€æ ·é€šè¿‡ <code>registrar.addApplicationDelegate(self)</code> æ³¨å†Œ <code>AppDelegate</code> äº‹ä»¶ç›‘å¬å¤–ï¼Œè¿˜éœ€è¦è°ƒç”¨æ–°çš„ API æ¥æ³¨å†Œ <code>SceneDelegate</code> äº‹ä»¶çš„ç›‘å¬ï¼ŒFlutter æä¾›äº†ç›¸åº”çš„æœºåˆ¶è®©æ’ä»¶å¯ä»¥æ¥æ”¶åˆ°åœºæ™¯ç”Ÿå‘½å‘¨æœŸçš„å›è°ƒ</li>
<li><strong>å®ç°åŒé‡ç”Ÿå‘½å‘¨æœŸå¤„ç†</strong>ï¼šæ’ä»¶å†…éƒ¨éœ€è¦å®ç° <code>UISceneDelegate</code> åè®®ä¸­çš„ç›¸å…³æ–¹æ³•ï¼Œåœ¨å®ç°æ—¶è¦è®¾è®¡ä¸€ç§ä¼˜é›…é™çº§çš„é€»è¾‘ã€‚ä¾‹å¦‚åŒæ—¶å®ç° <code>applicationDidEnterBackground</code> å’Œ <code>sceneDidEnterBackground</code>ï¼Œå½“ <code>sceneDidEnterBackground</code> è¢«è°ƒç”¨æ—¶ï¼Œæ‰§è¡Œç›¸åº”é€»è¾‘å¹¶è®¾ç½®ä¸€ä¸ªæ ‡å¿—ä½ï¼Œä»¥é¿å… <code>applicationDidEnterBackground</code>ä¸­çš„é€»è¾‘é‡å¤æ‰§è¡Œï¼ˆå¦‚æœå®ƒä¹Ÿè¢«æ„å¤–è°ƒç”¨çš„è¯ï¼‰</li>
<li><strong>æ›´æ–°åºŸå¼ƒçš„ API è°ƒç”¨</strong>ï¼šæ’ä»¶ä»£ç ä¸­ä»»ä½•å¯¹ <code>UIApplication.shared.keyWindow</code> æˆ–å…¶ä»–ä¸å•ä¸€çª—å£ç›¸å…³çš„åºŸå¼ƒ API çš„è°ƒç”¨éƒ½å¿…é¡»è¢«æ›¿æ¢</li>
</ul>
</li>
</ul>
<h2 data-id="heading-6">Android</h2>
<p>å‡çº§åˆ° Flutter 3.38 æ˜¯æ»¡è¶³ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fguide%2Fpractices%2Fpage-sizes" target="_blank" title="https://developer.android.com/guide/practices/page-sizes" ref="nofollow noopener noreferrer">Google Play 16 KB é¡µé¢å¤§å°å…¼å®¹æ€§è¦æ±‚</a>çš„é‡è¦å‡†å¤‡å·¥ä½œï¼Œ å› ä¸º 3.38 çš„æ›´æ”¹å¯ç¡®ä¿ä½ çš„åº”ç”¨åœ¨é«˜ RAM è®¾å¤‡ä¸Šæ­£å¸¸è¿è¡Œï¼Œå¹¶æä¾›æ€§èƒ½ä¼˜åŠ¿ï¼Œä¾‹å¦‚å¯åŠ¨é€Ÿåº¦æé«˜å¤šè¾¾ 30%ã€‚</p>
<blockquote>
<p>Flutter 3.38 å°†é»˜è®¤çš„ Android ndkVersion æ›´æ–°ä¸º NDK r28ï¼Œè¿™æ˜¯åŸç”Ÿä»£ç å®ç° 16 KB æ”¯æŒæ­£ç¡®å¯¹é½æ‰€éœ€çš„æœ€ä½è¦æ±‚ã€‚</p>
</blockquote>
<p>Flutter 3.38 è¿˜<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fissues%2F173770" target="_blank" title="https://github.com/flutter/flutter/issues/173770" ref="nofollow noopener noreferrer">ä¿®å¤ï¼ˆ#173770ï¼‰</a>äº†å½±å“ Android ä¸Šæ‰€æœ‰ Flutter åº”ç”¨çš„ä¸¥é‡å†…å­˜æ³„æ¼ï¼Œè¯¥é—®é¢˜åœ¨ 3.29.0 ä¸­å¼•å…¥ï¼Œå‘ç”Ÿåœ¨é€€å‡ºæ—¶é”€æ¯ Activity æ—¶å‡ºç°ã€‚</p>
<p>å¯¹äº Flutter 3.38 ç‰ˆæœ¬ï¼ŒAndroid ç¯å¢ƒç›®å‰çš„æ¨èé…ç½®ï¼š</p>
<ul>
<li><strong>Java 17</strong>ï¼šFlutter 3.38 ä¸­ Android å¼€å‘æ‰€éœ€çš„æœ€ä½ç‰ˆæœ¬</li>
<li><strong>KGP 2.2.20</strong>ï¼šè¯¥å·¥å…·å·²çŸ¥ä¸”æ”¯æŒ]çš„æœ€å¤§ Kotlin Gradle æ’ä»¶ç‰ˆæœ¬</li>
<li><strong>AGP 8.11.1</strong>ï¼šä¸ KGP 2.2.20 å…¼å®¹çš„æœ€æ–° Android Gradle æ’ä»¶ç‰ˆæœ¬</li>
<li><strong>Gradle 8.14</strong>ï¼šæ­¤ç‰ˆæœ¬é€‚ç”¨äºæ‰€é€‰ç‰ˆæœ¬çš„ Javaã€KGP å’Œ AGPï¼Œè¯·æ³¨æ„ Gradle 8.13 æ˜¯ AGP 8.11.1 æ‰€éœ€çš„æœ€ä½ç‰ˆæœ¬ã€‚</li>
</ul>
<p>ä¸ºç¡®ä¿åº”ç”¨åœ¨ Flutter ç‰ˆæœ¬ä¹‹é—´æ— ç¼è¿è¡Œï¼Œå¼ºçƒˆå»ºè®®åœ¨æ„å»ºæ–‡ä»¶ä¸­ä½¿ç”¨ Flutter SDK æä¾›çš„ API çº§å˜é‡ï¼š</p>
<ul>
<li><code>flutter.compileSdkVersion</code> (API 36)</li>
<li><code>flutter.targetSdkVersion</code> (API 36)</li>
<li><code>flutter.minSdkVersion</code> (API 24) or higher</li>
</ul>
<h2 data-id="heading-7">Engine</h2>
<p>performance overlay  å·²ç»é‡æ„ï¼Œç°åœ¨æé«˜æ•ˆç‡çš„åŒæ—¶ï¼Œå‡å°‘äº† Skia å’Œ Impeller åç«¯çš„æ¸²æŸ“æ—¶é—´ï¼Œè¿™æ„å‘³ç€å¯ä»¥ä»¥æ›´å°‘çš„å¼€é”€è·å¾—æ›´å‡†ç¡®çš„æ€§èƒ½æ•°æ®ã€‚</p>
<p>å¯¹ Vulkan å’Œ OpenGL ES åç«¯çš„å¤§é‡ä¿®å¤å’Œæ”¹è¿›æé«˜äº†æ›´å¹¿æ³›è®¾å¤‡ä¸Šçš„ç¨³å®šæ€§å’Œæ€§èƒ½ï¼ŒåŒ…æ‹¬æ›´å¥½åœ°å¤„ç†ç®¡é“ç¼“å­˜ ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fpull%2F176322" target="_blank" title="https://github.com/flutter/flutter/pull/176322" ref="nofollow noopener noreferrer">#176322</a>ï¼‰ã€fence waiters ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fpull%2F173085" target="_blank" title="https://github.com/flutter/flutter/pull/173085" ref="nofollow noopener noreferrer">#173085</a>ï¼‰ å’Œ image layout transitions ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fpull%2F173884" target="_blank" title="https://github.com/flutter/flutter/pull/173884" ref="nofollow noopener noreferrer">#173884</a>ï¼‰ã€‚</p>
<p>å¦å¤–å¯¹äº Webï¼Œç»§ç»­ç»Ÿä¸€ CanvasKit å’Œ Skwasm æ¸²æŸ“å™¨çš„å·¥ä½œï¼Œ3.38 åŒ…æ‹¬äº†å®ƒä»¬çš„é‡å¤§é‡æ„ï¼Œä»¥åœ¨ä¸¤è€…ä¹‹é—´å…±äº«æ›´å¤šä»£ç ï¼Œè¿™å°†åœ¨æœªæ¥å¸¦æ¥æ›´ä¸€è‡´çš„ä½“éªŒå’Œæ›´å¿«çš„å¼€å‘ ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fpull%2F174588" target="_blank" title="https://github.com/flutter/flutter/pull/174588" ref="nofollow noopener noreferrer">#174588</a>ï¼‰ã€‚</p>
<h4 data-id="heading-8">é‡ç‚¹é‡ç‚¹é‡ç‚¹ï¼šiOS å’Œ Android ä¸­å·²åˆ é™¤é€‰æ‹©é€€å‡ºçº¿ç¨‹åˆå¹¶çš„åŠŸèƒ½ã€‚</h4>
<h2 data-id="heading-9">DevTools å’Œ IDE</h2>
<p>Flutter 3.35 å¼•å…¥äº† Widget Previewsï¼Œè€Œ Flutter 3.38 ç‰ˆæœ¬å¯¹ Widget Previews è¿›è¡Œäº†é‡å¤§æ”¹è¿›ï¼ŒåŒ…æ‹¬ VSCode å’Œ Intellij / Android Studio æ’ä»¶éƒ½å·²æ›´æ–°ï¼Œåˆæ­¥æ”¯æŒ Widget Previews ï¼Œ<strong>å¯ä»¥ç›´æ¥åœ¨ IDE ä¸­æŸ¥çœ‹é¢„è§ˆ</strong>ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/11176c554cdf463c8fee3a7effa04f19~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763594642&amp;x-signature=%2B6oPANPXZtBEyHElel3UFlg0htg%3D" alt="" loading="lazy"/></p>
<p>åœ¨ IDE ä¸­ä½¿ç”¨æ—¶ï¼Œé»˜è®¤æƒ…å†µä¸‹  Widget Previews  ç¯å¢ƒé…ç½®ä¸ºæ ¹æ®å½“å‰é€‰å®šçš„æºæ–‡ä»¶è¿‡æ»¤æ˜¾ç¤ºçš„é¢„è§ˆï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1ba377af0ca5477fa9c6d7cef3aa0ec0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763594642&amp;x-signature=B1Iedivs7mtdZmkwduZz9aqeaU0%3D" alt="" loading="lazy"/></p>
<p>å¦å¤–ï¼ŒWidget Previews  ç°åœ¨æ”¯æŒæµ…è‰²å’Œæ·±è‰²æ¨¡å¼ï¼Œä»¥åŠè‡ªå®šä¹‰ IDE é…è‰²æ–¹æ¡ˆä»¥åŒ¹é…å¼€å‘ç¯å¢ƒï¼Œæ§ä»¶é¢„è§ˆç¯å¢ƒä¸­çš„æ§ä»¶ä¹Ÿè¿›è¡Œäº†è°ƒæ•´ï¼Œä»¥ä½¿ç”¨æ›´å°‘çš„ç©ºé—´ï¼Œä»è€Œä¸ºæ¸²æŸ“é¢„è§ˆç•™å‡ºæ›´å¤šç©ºé—´ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5781a9920d3b44b79435f1b2e9308df3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763594642&amp;x-signature=LKoXrgz6I1sA%2B4WXxbJcKmgkJg8%3D" alt="" loading="lazy"/></p>
<p>æ­¤å¤–ï¼Œè§ˆæ‰¹æ³¨ç±»ä¸å†æ ‡è®°ä¸ºæœ€ç»ˆæ‰¹æ³¨ï¼Œç°åœ¨å¯ä»¥æ‰©å±•ä»¥åˆ›å»ºè‡ªå®šä¹‰é¢„è§ˆæ‰¹æ³¨ï¼Œä»è€Œå‡å°‘å¸¸è§é¢„è§ˆç±»å‹çš„æ ·æ¿ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0c71ad26d4124abfa90a53890136bcdb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763594642&amp;x-signature=cCVblZ%2BIGB2wwdcU3mnYeo296xM%3D" alt="" loading="lazy"/></p>
<p>å¹¶ä¸”æ–°çš„ <code>MultiPreview</code> åŸºç±»å…è®¸ä»å•ä¸ªè‡ªå®šä¹‰æ³¨é‡Šåˆ›å»ºå¤šä¸ªé¢„è§ˆå˜ä½“ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8083a9e09ad4662b1e36f8b42a5c41f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763594642&amp;x-signature=cE52N522gxGE6kBIKeGTEkXE9gY%3D" alt="" loading="lazy"/></p>
<p><code>Preview</code> ç±»ä¸­çš„æ–° group å‚æ•°å…è®¸å¯¹ç›¸å…³é¢„è§ˆè¿›è¡Œåˆ†ç»„ï¼Œå‡å°‘äº†å¯¹ <code>@Preview</code> æ³¨é‡Šå‚æ•°çš„é™åˆ¶ï¼Œæ”¯æŒç§æœ‰å¸¸é‡ä½œä¸º <code>Preview</code> æ³¨é‡Šçš„å‚æ•°ç­‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ddf13e2bbbb54de2a1c74433bdcc8d49~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763594642&amp;x-signature=C5yTEtZHbMR26QKNEwL3alvsY6U%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>ç›®å‰å…³äºé¢„è§ˆè¿˜æœ‰ä¸€äº›é—®é¢˜ï¼Œä¾‹å¦‚ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fissues%2F178317" target="_blank" title="https://github.com/flutter/flutter/issues/178317" ref="nofollow noopener noreferrer">#178317</a> ï¼Œä¾‹å¦‚ Widget é¢„è§ˆå™¨å¯èƒ½ä¼šåœ¨ <em>flutter pub get</em>  åå´©æºƒæˆ–åœæ­¢æ›´æ–°ã€‚</p>
</blockquote>
<p>å…¶ä»–å…³äº Tool æ›´æ–°è¿˜æœ‰ï¼š</p>
<ul>
<li>Flutter DevTools Widget Inspector æ­£åœ¨å¢åŠ æ”¯æŒé€‚é…é¢„è§ˆ</li>
<li>IDE ä¸­é¢„è§ˆçš„å¤šé¡¹ç›®æ”¯æŒï¼šé¢„è§ˆç›®å‰ä»…æ”¯æŒæ˜¾ç¤ºå•ä¸ªé¡¹ç›®æˆ– Pub å·¥ä½œåŒºä¸­åŒ…å«çš„é¢„è§ˆï¼Œå¤šé¡¹ç›®æ­£åœ¨æ”¯æŒ</li>
<li>æ­£åœ¨æ¨è¿›é¢„è§ˆçš„æ€§èƒ½æ”¹è¿›çš„æœºä¼šï¼Œä»¥å‡å°‘åˆå§‹å¯åŠ¨æ—¶é—´</li>
<li>Network Panel çš„äº¤äº’æ”¹è¿›</li>
<li>Flutter Inspector ä¿®å¤äº†é€‰æ‹© Widget æœ‰æ—¶ä¼šæ‰“å¼€åº•å±‚æ¡†æ¶æºä»£ç è€Œä¸æ˜¯ç”¨æˆ·æºä»£ç çš„é”™è¯¯</li>
<li>ä¿®å¤äº† Flutter Inspector  å¶å°”é˜»æ­¢ä¸â€œæ£€æŸ¥å™¨â€é¢æ¿ä¸­çš„é¡¶éƒ¨æŒ‰é’®äº¤äº’çš„é”™è¯¯</li>
</ul>
<h2 data-id="heading-10">å¼ƒç”¨å’Œé‡å¤§å˜æ›´</h2>
<p>é¦–å…ˆï¼Œ3.38 è¿›è¡Œäº†å¯èƒ½å½±å“è‡ªå®šä¹‰ç”Ÿæˆè„šæœ¬çš„å…³é”®ç”Ÿæˆå’Œå·¥å…·æ›´æ”¹ï¼Œ<strong>Flutter SDK æ ¹ç›®å½•çš„ <code>version</code> æ–‡ä»¶å·²è¢«åˆ é™¤</strong>ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ä½äº <code>bin/cache</code> ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fpull%2F172793" target="_blank" title="https://github.com/flutter/flutter/pull/172793" ref="nofollow noopener noreferrer">#172793</a>ï¼‰ ä¸­çš„æ–° <code>flutter.version.json</code> æ–‡ä»¶ï¼Œæ­¤å¤–é»˜è®¤æƒ…å†µä¸‹ä¸å†ç”Ÿæˆ <code>AssetManifest.json</code> æ–‡ä»¶ ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fpull%2F172594" target="_blank" title="https://github.com/flutter/flutter/pull/172594" ref="nofollow noopener noreferrer">#172594</a>ï¼‰ã€‚</p>
<p>å¦å¤–è¿˜æœ‰ï¼š</p>
<ul>
<li>å¯¹äº  predictable behaviorï¼ŒåŒ…å«ä½œçš„ SnackBar å°†ä¸å†è‡ªåŠ¨å…³é—­ ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter%2Fpull%2F173084" target="_blank" title="https://github.com/flutter/flutter/pull/173084" ref="nofollow noopener noreferrer">#173084</a>ï¼‰</li>
<li>å‰é¢ä»‹ç»è¿‡çš„ <code>OverlayPortal.targetsRootOverlay</code> æ„é€ å‡½æ•°å·²è¢«å¼ƒç”¨ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯æ›´çµæ´»çš„ <code>OverlayPortal</code>ï¼ˆ <code>overlayLocation: OverlayChildLocation.rootOverlay</code> ï¼‰</li>
<li><code>CupertinoDynamicColor</code> ä¸Šçš„å‡ ä¸ªå±æ€§ï¼ˆä¾‹å¦‚ <code>withAlpha</code> å’Œ <code>withOpacity</code>ï¼‰ç°åœ¨å·²å¼ƒç”¨ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯æ ‡å‡† <code>Color</code> æ–¹æ³•</li>
<li>Flutter 3.38 è¦æ±‚ Java 17 ä½œä¸º Android çš„æœ€ä½ç‰ˆæœ¬ï¼Œç¬¦åˆ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.gradle.org%2Fcurrent%2Fuserguide%2Fcompatibility.html" target="_blank" title="https://docs.gradle.org/current/userguide/compatibility.html" ref="nofollow noopener noreferrer">Gradle 8.14</a>ï¼ˆ2025 å¹´ 7 æœˆç‰ˆï¼‰çš„æœ€ä½è¦æ±‚</li>
</ul>
<h2 data-id="heading-11">æœ€å</h2>
<p>æœ¬æ¬¡ 3.38 çš„æ›´æ–°è¿˜æ˜¯æŒºä¸°å¯Œçš„ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªä¸å¾—ä¸å‡çº§çš„ç‰ˆæœ¬ï¼Œ<strong>ä¸ç®¡æ˜¯ä¸ºäº† iOS 26 é€‚é…å’Œæœªæ¥ä¸Šæ¶ï¼Œè¿˜æ˜¯ä¸ºäº†å®‰å“æ›´ç¨³å®šçš„ 16KB ä½“éªŒï¼Œè¿™éƒ½æ˜¯ä¸€ä¸ªä¸å¾—ä¸å‡çº§çš„ç‰ˆæœ¬</strong>ã€‚</p>
<p>é‚£ä¹ˆå¤§å®¶å‡†å¤‡å¥½ç›´æ¥åƒ 3.38.0 çš„èƒèŸ¹è¿˜æ˜¯ç­‰ 3.38.6 ?</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é‡ç£…æ›´æ–°ï¼æ»¡è¡€GPT-5.1ä¸Šçº¿ï¼Œå…¨æ–¹ä½æå‡ï¼Œå¾ˆå¼º]]></title>    <link>https://juejin.cn/post/7572137760447889449</link>    <guid>https://juejin.cn/post/7572137760447889449</guid>    <pubDate>2025-11-14T07:35:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572137760447889449" data-draft-id="7572147440314384447" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é‡ç£…æ›´æ–°ï¼æ»¡è¡€GPT-5.1ä¸Šçº¿ï¼Œå…¨æ–¹ä½æå‡ï¼Œå¾ˆå¼º"/> <meta itemprop="keywords" content="OpenAI,ChatGPT"/> <meta itemprop="datePublished" content="2025-11-14T07:35:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ªå’ç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/581021766790141"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é‡ç£…æ›´æ–°ï¼æ»¡è¡€GPT-5.1ä¸Šçº¿ï¼Œå…¨æ–¹ä½æå‡ï¼Œå¾ˆå¼º
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/581021766790141/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ªå’ç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T07:35:45.000Z" title="Fri Nov 14 2025 07:35:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/915d880e9d2c44f6bfb7dac777574386~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq5ZCS57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710545&amp;x-signature=rQpi2a%2FJ%2Frrh0sz95ixbttcGKeM%3D" alt="" loading="lazy"/></p>
<p>åŒ—äº¬æ—¶é—´11æœˆ12æ—¥ï¼ŒOpenAIå‘å¸ƒæœ€æ–°æ——èˆ°æ¨¡å‹GPT-5.1ï¼Œå®˜æ–¹è¡¨ç¤ºâ€œGPT-5.1ï¼šæ›´æ™ºèƒ½ã€æ›´å…·å¯¹è¯æ€§çš„èŠå¤©GPTâ€ã€‚</p>
<p>é¦–å…ˆé¢å‘ä»˜è´¹ç”¨æˆ·ï¼ˆProã€Plusã€Businessï¼‰ä½¿ç”¨ã€‚</p>
<p>GPT-5.1 å°†æˆä¸ºå”¯ä¸€çš„é»˜è®¤æ¨¡å‹ï¼Œä¹Ÿå°±æ˜¯GPT-5å·²ç»æˆä¸ºå†å²ã€‚</p>
<h2 data-id="heading-0">æ­¤æ¬¡æ›´æ–°ï¼Œæœ€ä¸»è¦çš„ä¸¤å¤§æ¨¡å‹ï¼š</h2>
<p><strong>GPT-5.1</strong> çš„å›ç­”ä¹Ÿæ›´åŠ æ¸…æ™°ï¼Œå‡å°‘äº†ä¸“ä¸šæœ¯è¯­å’Œæœªå®šä¹‰è¯æ±‡çš„ä½¿ç”¨ã€‚è¿™ä½¿å¾—æˆ‘ä»¬åŠŸèƒ½æœ€å¼ºå¤§çš„æ¨¡å‹æ›´æ˜“äºç†è§£å’Œä½¿ç”¨ï¼Œå°¤å…¶é€‚ç”¨äºå·¥ä½œä¸­çš„å¤æ‚ä»»åŠ¡å’Œè§£é‡ŠæŠ€æœ¯æ¦‚å¿µã€‚</p>
<p><strong>GPT-5.1 Thinking</strong> èƒ½æ›´ç²¾å‡†åœ°æ ¹æ®é—®é¢˜è°ƒæ•´æ€è€ƒæ—¶é—´ï¼Œåœ¨å¤„ç†å¤æ‚é—®é¢˜æ—¶æŠ•å…¥æ›´å¤šæ—¶é—´ï¼Œè€Œåœ¨å¤„ç†ç®€å•é—®é¢˜æ—¶åˆ™æ›´å¿«å“åº”ã€‚å®é™…åº”ç”¨ä¸­ï¼Œè¿™æ„å‘³ç€å¯¹äºéš¾é¢˜ï¼Œå®ƒèƒ½ç»™å‡ºæ›´è¯¦å°½çš„ç­”æ¡ˆï¼›è€Œå¯¹äºç®€å•é—®é¢˜ï¼Œå®ƒåˆ™èƒ½æ›´å¿«åœ°ç»™å‡ºå“åº”ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8cefaba116e34bf081c1dddb62ff592a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq5ZCS57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710545&amp;x-signature=cVMPouApyoBduSvQ38NNAr6aFV8%3D" alt="" loading="lazy"/></p>
<p>å¦‚å›¾æ‰€ç¤ºï¼ŒGPT-5.1 Thinking åœ¨é€Ÿåº¦æœ€å¿«çš„ä»»åŠ¡ä¸Šçš„é€Ÿåº¦å¤§çº¦æ˜¯ GPT-5 Thinking çš„ä¸¤å€ï¼Œè€Œåœ¨é€Ÿåº¦æœ€æ…¢çš„ä»»åŠ¡ä¸Šçš„é€Ÿåº¦åˆ™å¤§çº¦æ˜¯ GPT-5 Thinking çš„ä¸¤å€ã€‚</p>
<h2 data-id="heading-1">å›½å†…ç›´æ¥ä½¿ç”¨GPT-5.1</h2>
<p>è°·æ­Œæµè§ˆå™¨è®¿é—®ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nezhasoft.cloud" target="_blank" title="https://www.nezhasoft.cloud" ref="nofollow noopener noreferrer">www.nezhasoft.cloud</a></p>
<p><strong>ç§ä¿¡å“ªå’ï¼Œå¤‡æ³¨ä½“éªŒaiï¼Œé¢†å–ä½“éªŒç ã€‚</strong></p>
<p>åŒ…å«GPT-5.1ã€GPT-5.1 Thinkingã€Codexã€Claude Sonnet 4.5ã€Gemini 2.5 Proã€Grok4ã€DeepSeek R1 0528ç­‰æ¨¡å‹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8fea4b5498f94aff9e9d6faf2815c5d3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq5ZCS57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710545&amp;x-signature=77OQSzFikAwBLUaqG%2BOchOoKb6c%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-2">GPT5.1å‡çº§äº†å“ªäº›å†…å®¹ï¼š</h2>
<h3 data-id="heading-3">1ã€åŒ–æ•´ä¸ºé›¶ï¼Œç»Ÿä¸€å…¥å£</h3>
<p>å¯¹äºå¤§å¤šæ•°äººï¼šæ‰“å¼€ ChatGPT å°±æ˜¯åœ¨ç”¨ GPT-5.1ï¼Œä¸éœ€è¦ä»»ä½•é¢å¤–æ“ä½œã€‚</p>
<p>GPT-5.1ä¼šæ ¹æ®é—®é¢˜çš„å¤æ‚ç¨‹åº¦ï¼Œè‡ªåŠ¨åˆ‡æ¢GPT-5.1 Thinkingã€‚</p>
<h3 data-id="heading-4">2ã€æ¨ç†èƒ½åŠ›å¤§å‡çº§</h3>
<p>åœ¨ GPT-5 çš„ç³»ç»Ÿå¡é‡Œï¼Œå®˜æ–¹å¼ºè°ƒå®ƒåœ¨ç¼–ç ã€å†™ä½œã€åŒ»ç–—ç­‰çœŸå®ä»»åŠ¡é‡Œçš„è¡¨ç°æ˜¾è‘—æå‡ï¼Œå°¤å…¶åœ¨ â€œå‡å°‘å¹»è§‰ã€æé«˜éµå®ˆæŒ‡ä»¤ã€å‡å°‘é˜¿è°€å¥‰æ‰¿â€ ä¸Šåšäº†å¤§é‡è®­ç»ƒã€‚</p>
<p>GPT-5.1 åœ¨æ­¤åŸºç¡€ä¸Šï¼Œåšäº†ä¸¤ä»¶å…³é”®äº‹ï¼š</p>
<ol>
<li>
<p>æ¨ç†æ›´â€œè‡ªé€‚åº”â€ï¼šé‡åˆ°å¤æ‚é—®é¢˜ä¼šâ€œè‡ªåŠ¨æƒ³ä¹…ä¸€ç‚¹â€ï¼Œè€Œä¸æ˜¯ä¸€åˆ€åˆ‡åœ°è¦ä½ è‡ªå·±é€‰â€œæ¨ç†æ¨¡å‹â€ã€‚</p>
</li>
<li>
<p>æ¨ç†è¿‡ç¨‹å¯æ„ŸçŸ¥ï¼š</p>
<ul>
<li>æœ‰ä¸€ä¸ªç®€åŒ–çš„â€œchain of thoughtâ€ å±•ç¤ºï¼Œè®©æ™®é€šç”¨æˆ·æ„ŸçŸ¥åˆ°â€œå®ƒç°åœ¨æ­£åœ¨è®¤çœŸæƒ³â€ã€‚</li>
<li>ç»™ä½ ä¸€ä¸ªâ€œAnswer nowâ€æŒ‰é’®ï¼ŒæŠŠæ§åˆ¶æƒäº¤å›ç»™ä½ ã€‚</li>
</ul>
</li>
</ol>
<p>è¿™ä¸ä»…æ˜¯äº¤äº’è®¾è®¡ä¸Šçš„æ”¹è¿›ï¼Œä¹Ÿæ˜¯ä¸€ç§â€œè®©æ¨¡å‹æ¨ç†è¿‡ç¨‹å¯¹ç”¨æˆ·åŠé€æ˜â€çš„å°è¯•ã€‚</p>
<h3 data-id="heading-5">3ã€ä¸Šä¸‹æ–‡é•¿åº¦</h3>
<p>Fast / Instantï¼šå…è´¹ç”¨æˆ·åˆ° 16Kï¼ŒPlus/Business åˆ° 32Kï¼ŒPro/Enterprise å¯åˆ° 128Kã€‚</p>
<p>Thinkingï¼šä»˜è´¹ç”¨æˆ·å¯ç”¨åˆ° 196K çº§åˆ«çš„é•¿å¯¹è¯ï¼ˆä¹Ÿå°±æ˜¯å¯ä»¥å¡éå¸¸é•¿çš„æ–‡æ¡£å’Œä¸Šä¸‹æ–‡ï¼‰ã€‚</p>
<h3 data-id="heading-6">4ã€å·¥å…·æ”¯æŒâ€œä¸€æŠŠæ¢­â€ï¼šå…¨åŠŸèƒ½éƒ½èƒ½ç”¨</h3>
<p>åœ¨ ChatGPT é‡Œï¼ŒGPT-5.1 æ”¯æŒæ‰€æœ‰å·¥å…·ï¼š</p>
<ul>
<li>æœç´¢ç½‘é¡µ</li>
<li>æ•°æ®åˆ†æï¼ˆå«è¡¨æ ¼ã€ä»£ç æ‰§è¡Œï¼‰</li>
<li>å›¾åƒåˆ†æ</li>
<li>æ–‡ä»¶åˆ†æ</li>
<li>ç”Ÿæˆå›¾ç‰‡</li>
<li>è®°å¿†ï¼ˆMemoryï¼‰</li>
<li>è‡ªå®šä¹‰æŒ‡ä»¤ / äººæ ¼</li>
</ul>
<h3 data-id="heading-7">5ã€å®‰å…¨å‡çº§</h3>
<p>åœ¨ GPT-5 çš„ä»‹ç»å’Œç³»ç»Ÿå¡ä¸­ï¼ŒOpenAI å¼•å…¥äº†æ–°çš„ â€œå®‰å…¨å®Œæˆï¼ˆsafe completionï¼‰â€ è®­ç»ƒæ¡†æ¶ï¼š</p>
<p>é‡åˆ°åŒé‡ç”¨é€”é—®é¢˜ï¼ˆæ¯”å¦‚ç”Ÿç‰©å®éªŒã€æ•æ„ŸæŠ€æœ¯ï¼‰ï¼Œä¸æ˜¯ç®€å•ä¸€åˆ€åˆ‡æ‹’ç»ï¼›è€Œæ˜¯å°½é‡åœ¨å®‰å…¨è¾¹ç•Œå†…æä¾›æœ‰å¸®åŠ©çš„é«˜å±‚æ¬¡ä¿¡æ¯ï¼Œå¿…è¦æ—¶å†æ‹’ç»ï¼Œå¹¶è¯´æ˜åŸå› ã€‚</p>
<p>åŒæ—¶ä»–ä»¬è¿˜ä¸“é—¨å¯¹â€œè¿‡åº¦å¥‰æ‰¿â€åšäº†è¯„ä¼°å’Œæ ¡æ­£ï¼šæŠŠé‚£ç§ä¸€å‘³é¡ºç€ä½ ã€åˆ°å¤„ç”¨ emoji çš„é£æ ¼ç æ‰ä¸€å¤§åŠã€‚</p>
<p>GPT-5.1 å»¶ç»­å¹¶åŠ å¼ºäº†è¿™æ¡çº¿ï¼š</p>
<p>åœ¨ Thinking æ¨¡å¼ä¸‹ï¼Œæ›´å¤šå¼ºè°ƒ ä¸¥è°¨å’Œå¯è§£é‡Šï¼Œå‡å°‘â€œä½ æƒ³å¬ä»€ä¹ˆæˆ‘å°±è¯´ä»€ä¹ˆâ€ã€‚</p>
<h2 data-id="heading-8">GPT-5.1åˆä½“éªŒ</h2>
<h3 data-id="heading-9">ç”¨æˆ·çœŸå®ä½“éªŒï¼šgpt5.1å¼ºå¤§åˆ°ä»¤äººéš¾ä»¥ç½®ä¿¡</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f2aa5612fd8e4b52b8173a9d34b7e1ce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq5ZCS57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710545&amp;x-signature=7Sb1ebXIdbprKNB5mGUjVsdcxbA%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-10">1ã€ç‰ˆæœ¬å·</h3>
<p>ä½ æ˜¯ä»€ä¹ˆæ¨¡å‹ï¼Œå…·ä½“æ˜¯ä»€ä¹ˆç‰ˆæœ¬å·ï¼ŒçŸ¥è¯†æˆªæ­¢æ—¥æœŸæ˜¯å‡ å·</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/978e9cd77743486cbfab273c172eebf9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq5ZCS57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710545&amp;x-signature=rtxOhwLKE4Toeg5dncpRBwpD8g0%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-11">2ã€è”ç½‘å®æ—¶æŸ¥è¯¢</h3>
<p>2024å¹´è¯ºè´å°”æ–‡å­¦å¥–å¾—ä¸»éƒ½æœ‰è°?</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fc48ac6da78d4238bb0122b2b768dd47~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq5ZCS57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710545&amp;x-signature=iA2WMI7DGskX%2BJozN011Fj4MR%2Fc%3D" alt="æŸ¥è¯¢çš„æ˜¯ç»´åŸºç™¾ç§‘" loading="lazy"/></p>
<p>æŸ¥è¯¢çš„æ˜¯ç»´åŸºç™¾ç§‘</p>
<h3 data-id="heading-12">3ã€å†™ä½œ</h3>
<p>åœ¨å†™ä½œç”Ÿæˆï¼ˆåŒ…æ‹¬åˆ›æ„å†™ä½œã€å¸¸è§„å†…å®¹ã€å¯¹è¯ç”Ÿæˆï¼‰æ–¹é¢ï¼ŒGPT-5.1 è¢«æè¿°ä¸ºâ€œæ›´æœ‰äººæƒ…å‘³â€â€œæ›´åƒäººå¯¹è¯â€â€”â€”æ¯” GPT-5 æ›´æ“…é•¿ç»´æŒè‡ªç„¶è¯­æ°”ã€äº²å’Œäº¤äº’ã€‚</p>
<p>å…¨å›½ä¸€å·ä½œæ–‡é¢˜ç›®ï¼š"æ°‘æ—é­‚"</p>
<p>ææ–™å†…å®¹ï¼š</p>
<p>"ä»–æƒ³è¦ç»™å­©å­ä»¬å”±ä¸Šä¸€æ®µï¼Œå¯æ˜¯å¿ƒé‡Œç›´ç¿»è…¾ï¼Œå¼€ä¸äº†å£ã€‚" â€”â€”è€èˆã€Šé¼“ä¹¦è‰ºäººã€‹ "å‡å¦‚æˆ‘æ˜¯ä¸€åªé¸Ÿï¼Œæˆ‘ä¹Ÿåº”è¯¥ç”¨å˜¶å“‘çš„å–‰å’™æ­Œå”±" â€”â€”è‰¾é’ã€Šæˆ‘çˆ±è¿™åœŸåœ°ã€‹ "æˆ‘è¦ä»¥å¸¦è¡€çš„æ‰‹å’Œä½ ä»¬ä¸€ä¸€æ‹¥æŠ±ï¼Œå› ä¸ºä¸€ä¸ªæ°‘æ—å·²ç»èµ·æ¥" â€”â€”ç©†æ—¦ã€Šèµç¾ã€‹</p>
<p>å†™ä½œè¦æ±‚ï¼š ä»¥ä¸Šææ–™å¼•å‘äº†ä½ æ€æ ·çš„è”æƒ³å’Œæ€è€ƒï¼Ÿè¯·å†™ä¸€ç¯‡æ–‡ç« ã€‚è¦æ±‚é€‰å‡†è§’åº¦ï¼Œç¡®å®šç«‹æ„ï¼Œæ˜ç¡®æ–‡ä½“ï¼Œè‡ªæ‹Ÿæ ‡é¢˜ï¼›ä¸è¦å¥—ä½œï¼Œä¸å¾—æŠ„è¢­ï¼›ä¸å¾—æ³„éœ²ä¸ªäººä¿¡æ¯ï¼›ä¸å°‘äº800å­—ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/de626b2ee5ac4dec9f3da3fb9f1be2f2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq5ZCS57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710545&amp;x-signature=G3dgXmdAzU8NuhOBmL4jckgIsEI%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-13">4ã€ç¼–ç¨‹</h3>
<p>GPT-5.1 åœ¨æ¶ˆæ¯ä¸­è¢«æŒ‡å‡ºæœ‰â€œæ¨ç†â€ä¸â€œæ€è€ƒâ€èƒ½åŠ›è¿›ä¸€æ­¥å¼ºåŒ–ï¼Œè¿™æ„å‘³ç€åœ¨ç¼–ç¨‹åœºæ™¯ï¼ˆä¾‹å¦‚å¤šæ­¥é€»è¾‘ã€å¤æ‚å‡½æ•°ã€APIç»„åˆï¼‰å¯èƒ½è¡¨ç°æ›´ä½³ã€‚</p>
<p>è¯·ç”¨ Java è®¾è®¡å¹¶å®ç°ä¸€ä¸ªæ”¯æŒé«˜å¹¶å‘çš„ç”µå•†å¾®æœåŠ¡ç³»ç»Ÿï¼ˆåŸºäº Spring Boot/Spring Cloudï¼‰ï¼Œè¦æ±‚åŒ…å«è®¢å•ã€åº“å­˜ç­‰æœåŠ¡ï¼Œéœ€è§£å†³åˆ†å¸ƒå¼äº‹åŠ¡ä¸è¶…å–é—®é¢˜ï¼Œä½¿ç”¨ Redis/Kafka è¿›è¡Œå¼‚æ­¥è§£è€¦ï¼Œå¹¶æä¾›æ ¸å¿ƒä»£ç ã€é…ç½®åŠéƒ¨ç½²æ–¹æ¡ˆï¼ŒåŒæ—¶è¯´æ˜é«˜å¹¶å‘ä¼˜åŒ–ä¸å®¹é”™é™æµè®¾è®¡æ€è·¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1a8461f99bc642d7b6068c224d25b966~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq5ZCS57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710545&amp;x-signature=pKm55loIh2XEjlAyzMC8Z54x1ow%3D" alt="æ ¹æ®é—®é¢˜å¤æ‚åº¦ï¼Œå¼€å¯thinkingæ¨¡å¼" loading="lazy"/></p>
<p>æ ¹æ®é—®é¢˜å¤æ‚åº¦ï¼Œå¼€å¯thinkingæ¨¡å¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1012d5df366c4b199bb49cbc1c974b80~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq5ZCS57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710545&amp;x-signature=lDwqjvdpLHbOfMpo5uIzM%2FlNOHs%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-14">5ã€å¤šæ¨¡æ€-è¯†åˆ«å›¾ç‰‡</h3>
<p>GPT-5.1 è¢«æŠ¥é“æ”¯æŒ â€œæ›´é•¿ä¸Šä¸‹æ–‡â€ï¼Œå°¤å…¶åœ¨å¤æ‚ä»»åŠ¡ä¸­èƒ½æŠ•å…¥â€œæ·±åº¦æ€è€ƒâ€ï¼Œæš—ç¤ºè¯†åˆ«å›¾ç‰‡ã€è¯»å–/ç†è§£å¤§å‹æ–‡æ¡£ã€é•¿å¯¹è¯å†å²ã€ç”šè‡³å¤šæ–‡ä»¶åœºæ™¯æ—¶æ›´å¼ºã€‚</p>
<p>éšæœºæœç´¢ä¸€é“è€ƒç ”æ•°å­¦çœŸé¢˜ã€‚</p>
<p>è§£ç­”æ­¤é¢˜ï¼Œç»™å‡ºç­”æ¡ˆå’Œè§£é¢˜æ€è·¯</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d9e67e70e55146dc93796916479eb87b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq5ZCS57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710545&amp;x-signature=ld9VGHA%2Bm8SFxheJUKuMFm7sW8U%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-15">6ã€ä¸Šä¼ æ–‡ä»¶</h3>
<p>åˆ†åˆ«æ€»ç»“æ–‡ä»¶å†…å®¹ï¼Œ2000å­—ï¼Œä¸­æ–‡å›ç­”</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7dfa2e7b45874808b352b7aa72ae255d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq5ZCS57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710545&amp;x-signature=2nrgBx2QYYBqaJgiieyCnGHPlH4%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Dart 3.10 å‘å¸ƒï¼Œå¿«æ¥çœ‹æœ‰ä»€ä¹ˆæ›´æ–°å§]]></title>    <link>https://juejin.cn/post/7571693273728942116</link>    <guid>https://juejin.cn/post/7571693273728942116</guid>    <pubDate>2025-11-13T01:20:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571693273728942116" data-draft-id="7571731181197459492" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Dart 3.10 å‘å¸ƒï¼Œå¿«æ¥çœ‹æœ‰ä»€ä¹ˆæ›´æ–°å§"/> <meta itemprop="keywords" content="å‰ç«¯,Android,Flutter"/> <meta itemprop="datePublished" content="2025-11-13T01:20:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‹çŒ«deå°éƒ­"/> <meta itemprop="url" content="https://juejin.cn/user/817692379985752"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Dart 3.10 å‘å¸ƒï¼Œå¿«æ¥çœ‹æœ‰ä»€ä¹ˆæ›´æ–°å§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/817692379985752/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‹çŒ«deå°éƒ­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T01:20:12.000Z" title="Thu Nov 13 2025 01:20:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å’Œ <a href="https://juejin.cn/post/7571693273728696356" target="_blank" title="https://juejin.cn/post/7571693273728696356">Flutter 3.38</a> ä¸€èµ·æ›´æ–°çš„è¿˜æœ‰ Dart 3.10 ï¼ŒåŒ Flutter 3.38 ä¸€æ ·ï¼ŒDart 3.10 ä¹Ÿå¸¦æ¥æ¯”è¾ƒä¸°å¯Œçš„æ›´æ–°ï¼Œå…¶ä¸­åŒ…æ‹¬ dotâ€¯shorthandsã€Analyzerâ€¯pluginsã€Buildâ€¯hooksã€Deprecationâ€¯annotations å’Œ pub.dev æ›´æ–°ã€‚</p>
<h2 data-id="heading-0">Dot shorthands</h2>
<p>Dart 3.10 å¼•å…¥äº† <a href="https://link.juejin.cn?target=https%3A%2F%2Fdart.dev%2Flanguage%2Fdot-shorthands" target="_blank" title="https://dart.dev/language/dot-shorthands" ref="nofollow noopener noreferrer"><strong>dot shorthands</strong></a>ï¼Œè¿™é¡¹æ–°ç‰¹æ€§å…è®¸å¼€å‘è€…åœ¨ç¼–è¯‘å™¨èƒ½å¤Ÿä»ä¸Šä¸‹æ–‡æ¨æ–­å‡ºç±»å‹æ—¶ï¼Œçœç•¥å†—ä½™çš„ç±»åæˆ–æšä¸¾åï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">/<span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span>3.10 ä¹‹å‰<span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-emphasis">*/
â€‹
enum LogLevel { info, warning, error, debug }
â€‹
void logMessage(String message, {LogLevel level = LogLevel.info}) {
 Â // ... implementation
}
â€‹
// Somewhere else in your app
logMessage('Failed to connect to database', level: LogLevel.error);
â€‹
â€‹
/<span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span>Dot shorthands<span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span>*</span>/
â€‹
enum LogLevel { info, warning, error, debug }
â€‹
void logMessage(String message, {LogLevel level = .info}) {
 Â // ... implementation
}
â€‹
// Somewhere else in your app
logMessage('Failed to connect to database', level: .error);
</code></pre>
<p>Dot shorthands ä¸ä»…ä»…ç”¨äºæšä¸¾ç±»å‹ï¼Œä½ è¿˜å¯ä»¥å°†å®ƒä»¬ç”¨äºæ„é€ å‡½æ•°ã€é™æ€æ–¹æ³•å’Œé™æ€å­—æ®µï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-scala" lang="scala"><span class="hljs-comment">// Use dot shorthand syntax on enums:</span>
<span class="hljs-keyword">enum</span> <span class="hljs-type">Status</span> { none, running, stopped, paused }
â€‹
<span class="hljs-type">Status</span> currentStatus = .running; <span class="hljs-comment">// Instead of Status.running</span>
â€‹
<span class="hljs-comment">// Use dot shorthand syntax on a static method:</span>
int port = .parse('<span class="hljs-number">8080</span>'); <span class="hljs-comment">// Instead of int.parse('8080')</span>
â€‹
<span class="hljs-comment">// Uses dot shorthand syntax on a constructor:</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Point</span> </span>{
 Â <span class="hljs-keyword">final</span> int x, y;
 Â <span class="hljs-type">Point</span>(<span class="hljs-keyword">this</span>.x, <span class="hljs-keyword">this</span>.y);
 Â <span class="hljs-type">Point</span>.origin() : x = <span class="hljs-number">0</span>, y = <span class="hljs-number">0</span>;
}
â€‹
<span class="hljs-type">Point</span> origin = .origin(); <span class="hljs-comment">// Instead of Point.origin()</span>
â€‹
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_PageState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State&lt;Page&gt;</span> </span>{
 Â late <span class="hljs-keyword">final</span> <span class="hljs-type">AnimationController</span> _animationController = .<span class="hljs-keyword">new</span>(vsync: <span class="hljs-keyword">this</span>);
 Â <span class="hljs-keyword">final</span> <span class="hljs-type">ScrollController</span> _scrollController = .<span class="hljs-keyword">new</span>();
 Â <span class="hljs-keyword">final</span> <span class="hljs-type">GlobalKey</span>&lt;<span class="hljs-type">ScaffoldMessengerState</span>&gt; scaffoldKey = .<span class="hljs-keyword">new</span>();
 Â <span class="hljs-type">Map</span>&lt;<span class="hljs-type">String</span>, <span class="hljs-type">Map</span>&lt;<span class="hljs-type">String</span>, bool&gt;&gt; properties = .<span class="hljs-keyword">new</span>();
 Â <span class="hljs-comment">// ...</span>
}
</code></pre>
<blockquote>
<p>æ›´å¤šå¯è§ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdart.dev%2Flanguage%2Fdot-shorthands" target="_blank" title="https://dart.dev/language/dot-shorthands" ref="nofollow noopener noreferrer">dart.dev/language/doâ€¦</a> ï¼Œè¿™ä¸ªæˆ‘ä»¬åœ¨ä¹‹å‰çš„ <a href="https://juejin.cn/post/7500234308432445451" target="_blank" title="https://juejin.cn/post/7500234308432445451">ã€ŠFlutter åˆå¹¶ 'dot-shorthands' è¯­æ³•ç³–ã€‹</a>ä¹ŸèŠè¿‡ã€‚</p>
</blockquote>
<h2 data-id="heading-1">Analyzer plugins</h2>
<p>Dart 3.10 ä¸º Dart åˆ†æå™¨å¼•å…¥äº†å…¨æ–°æ’ä»¶ç³»ç»Ÿï¼Œå¼€å‘è€…ç°åœ¨å¯ä»¥ç¼–å†™å’Œä½¿ç”¨è‡ªå·±çš„é™æ€åˆ†æè§„åˆ™ï¼Œå¹¶å°†å…¶ç›´æ¥é›†æˆåˆ° IDE å’Œå‘½ä»¤è¡Œå·¥å…·ï¼ˆä¾‹å¦‚ <code>dart analyze</code> å’Œ <code>flutter analyze</code>ï¼‰ ä¸­ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>å¼ºåˆ¶æ‰§è¡Œé¡¹ç›®ç‰¹å®šçš„è§„åˆ™ï¼Œä¾‹å¦‚å®šåˆ¶çš„ä»£ç æ£€æŸ¥å’Œè­¦å‘Šï¼Œä»¥ç»´æŠ¤å›¢é˜Ÿä»£ç åº“ä¸­çš„è§„èŒƒ</li>
<li>é¿å…å¸¸è§é™·é˜±ï¼Œå¹¶éµå¾ªå¼€å‘è€…æ‰€åœ¨é¢†åŸŸçš„æœ€ä½³å®è·µ</li>
<li>é€šè¿‡æä¾›å¿«é€Ÿä¿®å¤å’Œè¾…åŠ©åŠŸèƒ½ï¼Œå®ç°ä»£ç æ›´æ”¹è‡ªåŠ¨åŒ–ï¼Œä»è€Œå¸®åŠ©è‡ªåŠ¨çº æ­£é—®é¢˜æˆ–è¿ç§»åˆ°æ–°çš„ API</li>
</ul>
<p>è¦ä½¿ç”¨åˆ†æå™¨æ’ä»¶ï¼Œåªéœ€å°†é…ç½®æ·»åŠ åˆ° <code>analysis_options.yaml</code> æ–‡ä»¶ä¸­å³å¯ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">analyzer:</span>
  <span class="hljs-attr">plugins:</span>
 Â   <span class="hljs-bullet">-</span> <span class="hljs-string">some_plugin</span>
 Â   <span class="hljs-bullet">-</span> <span class="hljs-string">another_plugin</span>
</code></pre>
<p>Analyzer pluginsæ‰©å±•äº† <a href="https://link.juejin.cn?target=https%3A%2F%2Fdart.dev%2Ftools%2Fanalysis" target="_blank" title="https://dart.dev/tools/analysis" ref="nofollow noopener noreferrer">Dart Analyzerçš„</a>åŠŸèƒ½ï¼Œä»è€Œèƒ½å¤ŸæŠ¥å‘Šè‡ªå®šä¹‰ä¿¡æ¯ï¼Œè¯Šæ–­åŠŸèƒ½ï¼ˆåŒ…æ‹¬ä»£ç æ£€æŸ¥å’Œè­¦å‘Šï¼‰æä¾›å¿«é€Ÿä¿®å¤æ–¹æ¡ˆã€‚ï¼Œå¹¶æä¾›è¾…åŠ©åŠŸèƒ½ã€‚</p>
<blockquote>
<p>è¯¦ç»†å¯è§ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdart.dev%2Ftools%2Fanalyzer-plugins" target="_blank" title="https://dart.dev/tools/analyzer-plugins" ref="nofollow noopener noreferrer">dart.dev/tools/analyâ€¦</a></p>
</blockquote>
<h2 data-id="heading-2">Build hooks</h2>
<p>è¿™ä¸ªæˆ‘ä»¬åœ¨ä¹‹å‰çš„ <a href="https://juejin.cn/post/7521356618174545962" target="_blank" title="https://juejin.cn/post/7521356618174545962">ã€ŠFlutter é‡Œçš„ Asset Transformer å’Œ Hooksã€‹</a> æˆ‘ä»¬ä¹ŸèŠè¿‡ï¼Œå®ƒæ”¯æŒå°†åŸç”Ÿä»£ç ï¼ˆä¾‹å¦‚ C++ã€Rust æˆ– Swiftï¼‰é›†æˆåˆ° Dart åŒ…ä¸­é€šå¸¸éœ€è¦ç®¡ç†å¤æ‚çš„ã€ç‰¹å®šäºå¹³å°çš„æ„å»ºæ–‡ä»¶ï¼Œä¾‹å¦‚ CMake æˆ– Gradleï¼Œè€Œ Dart 3.10 å¤§å¤§ç®€åŒ–äº†è¿™ä¸€è¿‡ç¨‹ã€‚</p>
<p>ç›®å‰ Build hooks å·²ç»ç¨³å®šï¼Œå¯ä»¥ä½¿ç”¨ hooks ç¼–è¯‘åŸç”Ÿä»£ç æˆ–ä¸‹è½½åŸç”Ÿèµ„æºï¼ˆä¾‹å¦‚åŠ¨æ€åº“ï¼‰ï¼Œå¹¶å°†å®ƒä»¬ç›´æ¥æ‰“åŒ…åˆ°çš„ Dart åŒ…ä¸­ã€‚</p>
<blockquote>
<p>è¿™é¡¹åŠŸèƒ½è®©å¼€å‘è€…åœ¨åŒ…å†…é‡ç”¨ç°æœ‰çš„åŸç”Ÿä»£ç æˆ–åº“ï¼Œæ— éœ€ä¸ºä¸åŒçš„æ“ä½œç³»ç»Ÿç¼–å†™å•ç‹¬çš„æ„å»ºæ–‡ä»¶ï¼Œä¾‹å¦‚ SPMã€Gradle æˆ– CMakeã€‚</p>
</blockquote>
<pre><code class="hljs language-scss" lang="scss">example_project/
    <span class="hljs-comment">// Project with hooks.</span>
    hook/
        <span class="hljs-comment">// Add hook scripts here.</span>
        build<span class="hljs-selector-class">.dart</span>
    lib/
        <span class="hljs-comment">// Use your assets here.</span>
        example<span class="hljs-selector-class">.dart</span>
    <span class="hljs-attribute">src</span>/
        <span class="hljs-comment">// Add native sources here.</span>
        example_native_library<span class="hljs-selector-class">.c</span>
        example_native_library<span class="hljs-selector-class">.h</span>
    test/
    <span class="hljs-comment">// Test your assets here.</span>
        example_test<span class="hljs-selector-class">.dart</span>
</code></pre>
<p>Build hooks åœ¨æ¯ä¸ªåŒ…å«åŸç”Ÿä»£ç çš„ Dart åŒ…ï¼Œä¼šæ ¹æ® Dart/Flutter æ„å»ºç³»ç»Ÿæä¾›çš„é…ç½®ï¼Œå¯¹åŒ…å†…çš„åŸç”Ÿæºä»£ç ï¼ˆä¾‹å¦‚ Cã€C++ã€Rust ä»£ç ï¼‰è¿›è¡Œç¼–è¯‘ã€æ„å»ºæˆç›®æ ‡å¹³å°å¯ç”¨çš„ Asset ï¼Œè€Œè¿™äº› Asset é€šå¸¸æ˜¯åŠ¨æ€é“¾æ¥åº“ï¼ˆå¦‚ <code>.so</code>, <code>.dll</code>, <code>.dylib</code>ï¼‰æˆ–é™æ€é“¾æ¥åº“ï¼ˆ<code>.a</code>, <code>.lib</code>ï¼‰</p>
<blockquote>
<p>ä¹Ÿå°±æ˜¯å¯ä»¥åœ¨æ’ä»¶é‡Œæä¾›åŸç”Ÿä»£ç ï¼Œç„¶åæœ€ç»ˆè·Ÿéš App å†ç¼–è¯‘æˆå¹³å°åº“ï¼Œè¿™å¯¹äºåŸç”Ÿäº’æ“ä½œåœºæ™¯ä¹Ÿå¾ˆé‡è¦ã€‚</p>
</blockquote>
<p>ä¾‹å¦‚ä¸‹æ–¹å°±æ˜¯ä¸€ä¸ªç®€å•çš„ hook build ç¤ºä¾‹ï¼Œå…¶ä¸­æ„å»ºäº† 3 ä¸ªåŸç”Ÿåº“ï¼Œå¹¶ä¸”è¿˜å­˜åœ¨ä¾èµ–å…³ç³»ï¼š</p>
<pre><code class="hljs language-php" lang="php">import <span class="hljs-string">'package:hooks/hooks.dart'</span>;
import <span class="hljs-string">'package:logging/logging.dart'</span>;
import <span class="hljs-string">'package:native_toolchain_c/native_toolchain_c.dart'</span>;
â€‹
<span class="hljs-keyword">void</span> <span class="hljs-title function_ invoke__">main</span>(List&lt;String&gt; args) async {
 Â await <span class="hljs-title function_ invoke__">build</span>(args, (input, output) async {
 Â  Â <span class="hljs-keyword">final</span> logger =
 Â  Â  Â  Â <span class="hljs-title function_ invoke__">Logger</span>(<span class="hljs-string">''</span>)
 Â  Â  Â  Â   ..level = Level.ALL
 Â  Â  Â  Â   ..onRecord.<span class="hljs-title function_ invoke__">listen</span>((record) =&gt; <span class="hljs-keyword">print</span>(record.message));
â€‹
 Â  Â <span class="hljs-keyword">final</span> builders = [
 Â  Â  Â CBuilder.<span class="hljs-title function_ invoke__">library</span>(
 Â  Â  Â  <span class="hljs-attr">Â name</span>: <span class="hljs-string">'debug'</span>,
 Â  Â  Â  <span class="hljs-attr">Â assetName</span>: <span class="hljs-string">'debug'</span>,
 Â  Â  Â  <span class="hljs-attr">Â sources</span>: [<span class="hljs-string">'src/debug.c'</span>],
 Â  Â   ),
 Â  Â  Â CBuilder.<span class="hljs-title function_ invoke__">library</span>(
 Â  Â  Â  <span class="hljs-attr">Â name</span>: <span class="hljs-string">'math'</span>,
 Â  Â  Â  <span class="hljs-attr">Â assetName</span>: <span class="hljs-string">'math'</span>,
 Â  Â  Â  <span class="hljs-attr">Â sources</span>: [<span class="hljs-string">'src/math.c'</span>],
 Â  Â  Â  <span class="hljs-attr">Â libraries</span>: [<span class="hljs-string">'debug'</span>],
 Â  Â   ),
 Â  Â  Â CBuilder.<span class="hljs-title function_ invoke__">library</span>(
 Â  Â  Â  <span class="hljs-attr">Â name</span>: <span class="hljs-string">'add'</span>,
 Â  Â  Â  <span class="hljs-attr">Â assetName</span>: <span class="hljs-string">'add.dart'</span>,
 Â  Â  Â  <span class="hljs-attr">Â sources</span>: [<span class="hljs-string">'src/add.c'</span>],
 Â  Â  Â  <span class="hljs-attr">Â libraries</span>: [<span class="hljs-string">'math'</span>],
 Â  Â   ),
 Â   ];
â€‹
 Â  Â <span class="hljs-comment">// Note: These builders need to be run sequentially because they depend on</span>
 Â  Â <span class="hljs-comment">// each others output.</span>
 Â  Â <span class="hljs-keyword">for</span> (<span class="hljs-keyword">final</span> builder in builders) {
 Â  Â  Â await builder.<span class="hljs-title function_ invoke__">run</span>(<span class="hljs-attr">input</span>: input, <span class="hljs-attr">output</span>: output, <span class="hljs-attr">logger</span>: logger);
 Â   }
  });
}
â€‹
</code></pre>
<blockquote>
<p>æ›´å¤šè¯¦ç»†å¯è§ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdart.dev%2Ftools%2Fhooks" target="_blank" title="https://dart.dev/tools/hooks" ref="nofollow noopener noreferrer">dart.dev/tools/hooks</a></p>
</blockquote>
<h2 data-id="heading-3">ç§»é™¤å¼ƒç”¨é¡¹ lint</h2>
<p>å‘å¸ƒè½¯ä»¶åŒ…çš„æ–°ä¸»è¦ç‰ˆæœ¬ï¼ˆä¾‹å¦‚ 1.0.0 æˆ– 0.2.0ï¼‰æ—¶ï¼Œæœ€ä½³å®è·µæ˜¯ç§»é™¤ä¹‹å‰æ ‡è®°ä¸ºå·²å¼ƒç”¨çš„ APIï¼Œè¿™å¯ä»¥ä¿æŒè½¯ä»¶åŒ…çš„æ•´æ´ï¼Œå¹¶é˜²æ­¢å¼€å‘äººå‘˜ä½¿ç”¨è¿‡æ—¶çš„ä»£ç ï¼Œç„¶è€Œåœ¨å‘å¸ƒè¿‡ç¨‹ä¸­å¾ˆå®¹æ˜“å¿˜è®°è¿™ä¸€æ­¥éª¤ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒDart 3.10 å¼•å…¥äº†ä¸€ä¸ªæ–°çš„ä»£ç æ£€æŸ¥å·¥å…·ï¼š <code>remove_deprecations_in_breaking_versions</code> ï¼Œå½“è½¯ä»¶åŒ…ç‰ˆæœ¬æ›´æ–°åˆ°æ–°çš„ä¸»è¦ç‰ˆæœ¬æ—¶ï¼Œè¯¥å·¥å…·ä¼šæ£€æµ‹é—ç•™çš„å·²å¼ƒç”¨å…ƒç´ ï¼Œé€šè¿‡æ ‡è®°è¿™äº›æƒ…å†µï¼Œè¯¥å·¥å…·å¯ä»¥å¸®åŠ©ç¡®ä¿è½¯ä»¶åŒ…çš„ API ä¿æŒç°ä»£åŒ–ï¼Œå¹¶æ˜“äºç”¨æˆ·ç†è§£ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/48257de784fa4b0d8943d8f793725f7d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763601611&amp;x-signature=axlQfWvjI3jNR%2BU8sl0BLL1%2BDGI%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">Deprecated annotation</h2>
<p>ç°æœ‰çš„ <strong>@Deprecated</strong> æ³¨è§£è¿‡äºç®€å•ç²—æš´ï¼Œå®ƒè™½ç„¶å‘ŠçŸ¥å¼€å‘è€…æŸä¸ª API å·²ä¸å†æ¨èä½¿ç”¨ï¼Œä½†æ— æ³•ä½“ç°ç»†å¾®å·®åˆ«ï¼Œä¾‹å¦‚ï¼š</p>
<blockquote>
<p>å¦‚ä½•è¡¨æ˜æŸä¸ªç±»ä¸åº”å†è¢«æ‰©å±•ï¼Œä½†ä»ç„¶å¯ä»¥è¢«å®ä¾‹åŒ–ï¼Ÿ</p>
</blockquote>
<p>ä¸ºäº†è®©è½¯ä»¶åŒ…ä½œè€…èƒ½å¤Ÿæ›´ç²¾ç¡®åœ°æ§åˆ¶å…¶ API çš„æ¼”å˜ï¼ŒDart 3.10 å¼•å…¥äº†ä¸€å¥—æ–°çš„ã€æ›´å…·ä½“çš„å¼ƒç”¨æ³¨é‡Šï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fapi.dart.dev%2Fdev%2Flatest%2Fdart-core%2FDeprecated%2FDeprecated.extend.html" target="_blank" title="https://api.dart.dev/dev/latest/dart-core/Deprecated/Deprecated.extend.html" ref="nofollow noopener noreferrer">@Deprecated.extend()</a>: æ‰©å±•ç±»çš„åŠŸèƒ½å·²å¼ƒç”¨</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fapi.dart.dev%2Fdev%2Flatest%2Fdart-core%2FDeprecated%2FDeprecated.implement.html" target="_blank" title="https://api.dart.dev/dev/latest/dart-core/Deprecated/Deprecated.implement.html" ref="nofollow noopener noreferrer">@Deprecated.implement()</a>: å®ç°ç±»æˆ– mixin çš„åŠŸèƒ½å·²å¼ƒç”¨</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fapi.dart.dev%2Fdev%2Flatest%2Fdart-core%2FDeprecated%2FDeprecated.subclass.html" target="_blank" title="https://api.dart.dev/dev/latest/dart-core/Deprecated/Deprecated.subclass.html" ref="nofollow noopener noreferrer">@Deprecated.subclass()</a>: ç»§æ‰¿ï¼ˆæ‰©å±•æˆ–å®ç°ï¼‰ç±»æˆ– mixin çš„åŠŸèƒ½å·²è¢«å¼ƒç”¨</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fapi.dart.dev%2Fdev%2Flatest%2Fdart-core%2FDeprecated%2FDeprecated.mixin.html" target="_blank" title="https://api.dart.dev/dev/latest/dart-core/Deprecated/Deprecated.mixin.html" ref="nofollow noopener noreferrer">@Deprecated.mixin()</a>: ç±»ä¸­ä½¿ç”¨ mixin åŠŸèƒ½å·²è¢«å¼ƒç”¨</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fapi.dart.dev%2Fdev%2Flatest%2Fdart-core%2FDeprecated%2FDeprecated.instantiate.html" target="_blank" title="https://api.dart.dev/dev/latest/dart-core/Deprecated/Deprecated.instantiate.html" ref="nofollow noopener noreferrer">@Deprecated.instantiate()</a>: å®ä¾‹åŒ–ç±»çš„åŠŸèƒ½å·²å¼ƒç”¨</li>
</ul>
<p>æ­¤å¤–ï¼Œç°åœ¨å¯ä»¥ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fapi.dart.dev%2Fdev%2Flatest%2Fdart-core%2FDeprecated%2FDeprecated.optional.html" target="_blank" title="https://api.dart.dev/dev/latest/dart-core/Deprecated/Deprecated.optional.html" ref="nofollow noopener noreferrer">@Deprecated.optional()</a> æ¥è¡¨æ˜å¯é€‰å‚æ•°åœ¨æœªæ¥çš„ç‰ˆæœ¬ä¸­å°†æˆä¸ºå¿…éœ€å‚æ•°ã€‚</p>
<h2 data-id="heading-5">Pub æ›´æ–°</h2>
<p>åœ¨ pub.dev ä¸Šç®¡ç†æ”¶è—çš„è½¯ä»¶åŒ…çš„åŠŸèƒ½è¿æ¥äº†é‡å¤§å‡çº§ï¼Œç°åœ¨å¯ä»¥é€šè¿‡æœç´¢åŠŸèƒ½æˆ–ä¸ªäººèµ„æ–™ä¸­çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fpub.dev%2Fmy-liked-packages" target="_blank" title="https://pub.dev/my-liked-packages" ref="nofollow noopener noreferrer">Likes tab</a> è¿›è¡Œç®¡ç†ï¼Œ å¯ä»¥ä½¿ç”¨ä¸å¸¸è§„æœç´¢ç›¸åŒçš„ç†Ÿæ‚‰æ§ä»¶æ¥æœç´¢ã€æ’åºå’Œç­›é€‰æ”¶è—çš„è½¯ä»¶åŒ…ã€‚</p>
<p>æ’åºæ–¹å¼åŒ…æ‹¬æŒ‰ç‚¹èµæ•°ã€pub ç§¯åˆ†å’Œå—æ¬¢è¿ç¨‹åº¦æ’åºï¼Œæ­¤å¤–è¿˜æ”¹è¿›äº†å–æ¶ˆæ”¶è—è½¯ä»¶åŒ…çš„ç•Œé¢ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿæ›´è½»æ¾åœ°ä¿æŒæ”¶è—è½¯ä»¶åŒ…åˆ—è¡¨çš„æ•´æ´å’Œæœ€æ–°çŠ¶æ€ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d61a86ddde1844c9a6ddc8b195a72109~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763601611&amp;x-signature=SAzvX%2B7BOWnYmpENtqIdLozIUpQ%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœé€‰æ‹©ä½¿ç”¨æœç´¢åŠŸèƒ½æŸ¥æ‰¾ liked packagesï¼Œåªéœ€åœ¨æŸ¥è¯¢ä¸­æ·»åŠ  <code>is:liked-by-me</code> å³å¯ï¼š<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ba957d4d70454660b9333f6ad834c808~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763601611&amp;x-signature=oFWiaTzRbmuWPo98JUHjaSPIovE%3D" alt="" loading="lazy"/></p>
<p>å¦å¤–ï¼Œä¸ºäº†å¢å¼ºå®‰å…¨æ€§å¹¶é˜²æ­¢æ„å¤–å‘å¸ƒï¼Œç°åœ¨å¯ä»¥ç¦ç”¨è½¯ä»¶åŒ…çš„æ‰‹åŠ¨å‘å¸ƒï¼ˆpub publishï¼‰åŠŸèƒ½ï¼Œè¿™å¯¹äºå·²å¯ç”¨è‡ªåŠ¨å‘å¸ƒå·¥ä½œæµç¨‹ï¼Œæˆ–ä¸å†ç§¯æå‘å¸ƒçš„è½¯ä»¶åŒ…æ¥è¯´éå¸¸ç†æƒ³ã€‚</p>
<p>å¯ä»¥åœ¨è½¯ä»¶åŒ…çš„ <strong>Admin</strong> Tab ä¸­ä½¿ç”¨ â€œEnable manual publishingâ€ æ¥æ§åˆ¶è¿™ä¸ªåŠŸèƒ½ï¼š<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a4f43bac3db499d8c397941968e76ae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763601611&amp;x-signature=B4um3F5czy1vXgEHR5EIoKNbQjU%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-6">æœ€å</h2>
<p>è¿™æ¬¡æ›´æ–°ï¼Œé™¤äº†è¯šæ„æ»¡æ»¡çš„ <a href="https://juejin.cn/post/7571693273728696356" target="_blank" title="https://juejin.cn/post/7571693273728696356">Flutter 3.38</a> ä¹‹å¤–ï¼Œ Dart 3.10 çœ‹èµ·æ¥ä¹Ÿæ˜¯éå¸¸ä¸é”™ï¼Œè‡³å°‘ä¸ºäº† Dot shorthands å’Œ Build hooks å°±å¾ˆå€¼å¾—æ›´æ–°ï¼Œä½ è§‰å¾—å‘¢ï¼Ÿ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ¥å£å¼€å‘ï¼Œå’±å¾—æ•´å¾—â€œä¼˜é›…â€ç‚¹]]></title>    <link>https://juejin.cn/post/7571749988080435209</link>    <guid>https://juejin.cn/post/7571749988080435209</guid>    <pubDate>2025-11-13T00:02:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571749988080435209" data-draft-id="7571644531609042990" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ¥å£å¼€å‘ï¼Œå’±å¾—æ•´å¾—â€œä¼˜é›…â€ç‚¹"/> <meta itemprop="keywords" content="Java,API,ä»£ç è§„èŒƒ"/> <meta itemprop="datePublished" content="2025-11-13T00:02:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜æ™“å‡¡"/> <meta itemprop="url" content="https://juejin.cn/user/1829211147871415"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ¥å£å¼€å‘ï¼Œå’±å¾—æ•´å¾—â€œä¼˜é›…â€ç‚¹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1829211147871415/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜æ™“å‡¡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T00:02:33.000Z" title="Thu Nov 13 2025 00:02:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯æ™“å‡¡ã€‚</p>
<h3 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆè¦â€œä¼˜é›…â€ï¼Ÿ</h3>
<p>äº§å“ä¸€å¥è¯ï¼š  â€œå‡¡å“¥ï¼Œæ¥å£æ˜å¤©ä¸Šçº¿ï¼Œæ”¯æŒ 10w å¹¶å‘ï¼Œæ•°æ®è„±æ•ï¼Œä¸èƒ½ä¸¢å•ï¼Œä¸èƒ½é‡å¤ï¼Œè¿˜è¦å®‰å…¨ã€‚â€<br/>
ä¼˜é›…ä¸æ˜¯è£…ï¼Œæ˜¯ä¸ºäº†è®©è‡ªå·±å°‘åŠ ç­ã€å°‘èƒŒé”…ã€å°‘æ‰å‘ã€‚<br/>
ä»Šå¤©æ™“å‡¡å°±æŠŠå‹ç®±åº•çš„ä¸œè¥¿æå‡ºæ¥ï¼Œæ‰‹æŠŠæ‰‹å¸¦ä½ æ’¸ä¸€å¥—èƒ½æ‰›ç”Ÿäº§çš„æ¨¡æ¿ã€‚</p>
<p>ä¸ºæ–¹ä¾¿é˜…è¯»ï¼Œæ™“å‡¡ä»¥Javaä»£ç ä¸ºä¾‹ç»™å‡ºâ€œæ ¸å¿ƒä»£ç  + ä½¿ç”¨å§¿åŠ¿â€ï¼Œå…¨éƒ¨äº²æµ‹å¯ç›´æ¥ä½¿ç”¨ã€‚</p>
<h3 data-id="heading-1">äºŒã€é¡¹ç›®éª¨æ¶ï¼ˆSpring Boot 3.xï¼‰</h3>
<pre><code class="hljs language-arduino" lang="arduino">demo-api
â”œâ”€â”€ src/main/java/com/example/demo
â”‚   â”œâ”€â”€ config          <span class="hljs-comment">// é…ç½®ï¼šé™æµã€åŠ è§£å¯†ã€æ—¥å¿—ç­‰</span>
â”‚   â”œâ”€â”€ annotation      <span class="hljs-comment">// è‡ªå®šä¹‰æ³¨è§£ï¼ˆå¹‚ç­‰ã€æ—¥å¿—ã€è„±æ•ï¼‰</span>
â”‚   â”œâ”€â”€ aspect          <span class="hljs-comment">// åˆ‡é¢ç»Ÿä¸€å¹²æ´»</span>
â”‚   â”œâ”€â”€ interceptor     <span class="hljs-comment">// æ‹¦æˆªå™¨ï¼ˆç­¾åã€ç™½åå•ï¼‰</span>
â”‚   â”œâ”€â”€ common          <span class="hljs-comment">// ç»Ÿä¸€è¿”å›ã€å¼‚å¸¸ã€å¸¸é‡</span>
â”‚   â”œâ”€â”€ controller      <span class="hljs-comment">// å¯¹å¤–æš´éœ²</span>
â”‚   â”œâ”€â”€ service
â”‚   â””â”€â”€ DemoApplication.java
â””â”€â”€ pom.xml
</code></pre>
<h3 data-id="heading-2">ä¸‰ã€ ç­¾åï¼ˆé˜²ç¯¡æ”¹ï¼‰</h3>
<blockquote>
<p>å¯¹å¤–æä¾›çš„æ¥å£è¦åšç­¾åè®¤è¯ï¼Œè®¤è¯ä¸é€šè¿‡çš„è¯·æ±‚ä¸å…è®¸è®¿é—®æ¥å£ã€æä¾›æœåŠ¡</p>
</blockquote>
<p><strong>æ€è·¯</strong><br/>
â€œæ—¶é—´æˆ³ + éšæœºä¸² + ä¸šåŠ¡å‚æ•°â€æ’å¥½åºï¼Œæœ€å <code>APP_SECRET</code> æ‹¼åé¢ï¼ŒSHA256 ä¸€ä¸‹ã€‚<br/>
å‰åç«¯ã€ç¬¬ä¸‰æ–¹éƒ½ç»Ÿä¸€ï¼Œæ‹’ç»æ’•é€¼ã€‚</p>
<p><strong>å·¥å…·ç±»</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SignUtil</span> {
    <span class="hljs-comment">/**
     * ç”Ÿæˆç­¾å
     * <span class="hljs-doctag">@param</span> map  é™¤ sign å¤–çš„æ‰€æœ‰å‚æ•°
     * <span class="hljs-doctag">@param</span> secret åˆ†é…ç»™ä½ çš„ç§é’¥
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">sign</span><span class="hljs-params">(Map&lt;String, String&gt; map, String secret)</span> {
        <span class="hljs-comment">// 1. å‚æ•°åå‡åºæ’åˆ—</span>
        Map&lt;String, String&gt; tree = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeMap</span>&lt;&gt;(map);
        <span class="hljs-comment">// 2. æ‹¼æˆ k=v&amp;k=v</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">join</span> <span class="hljs-operator">=</span> tree.entrySet().stream()
                .map(e -&gt; e.getKey() + <span class="hljs-string">"="</span> + e.getValue())
                .collect(Collectors.joining(<span class="hljs-string">"&amp;"</span>));
        <span class="hljs-comment">// 3. æœ€åæ‹¼å¯†é’¥</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">raw</span> <span class="hljs-operator">=</span> join + <span class="hljs-string">"&amp;key="</span> + secret;
        <span class="hljs-comment">// 4. SHA256</span>
        <span class="hljs-keyword">return</span> DigestUtils.sha256Hex(raw).toUpperCase();
    }

    <span class="hljs-comment">/** éªŒç­¾ï¼šç›´æ¥æ¯”å¯¹å³å¯ */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">verify</span><span class="hljs-params">(Map&lt;String, String&gt; map, String secret, String requestSign)</span> {
        <span class="hljs-keyword">return</span> sign(map, secret).equals(requestSign);
    }
}
</code></pre>
<p><strong>æ‹¦æˆªå™¨ç»Ÿä¸€éªŒç­¾</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SignInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">HandlerInterceptor</span> {
    <span class="hljs-meta">@Value("${sign.secret}")</span>
    <span class="hljs-keyword">private</span> String secret;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">preHandle</span><span class="hljs-params">(HttpServletRequest request,
                             HttpServletResponse response,
                             Object handler)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// åªæ‹¦æˆªæ¥å£</span>
        <span class="hljs-keyword">if</span> (!(handler <span class="hljs-keyword">instanceof</span> HandlerMethod)) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;

        Map&lt;String, String&gt; params = Maps.newHashMap();
        request.getParameterMap().forEach((k, v) -&gt; params.put(k, v[<span class="hljs-number">0</span>]));

        <span class="hljs-type">String</span> <span class="hljs-variable">sign</span> <span class="hljs-operator">=</span> params.remove(<span class="hljs-string">"sign"</span>);   <span class="hljs-comment">// ç­¾åä¸å‚ä¸è®¡ç®—</span>
        <span class="hljs-keyword">if</span> (!SignUtil.verify(params, secret, sign)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BizException</span>(<span class="hljs-string">"ç­¾åé”™è¯¯"</span>);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
}
</code></pre>
<h3 data-id="heading-3">å››ã€ åŠ å¯†ï¼ˆé˜²æ³„éœ²ï¼‰</h3>
<blockquote>
<p>æ•æ„Ÿæ•°æ®åœ¨ç½‘ç»œä¼ è¾“è¿‡ç¨‹ä¸­éƒ½åº”è¯¥åŠ å¯†å¤„ç†</p>
</blockquote>
<p><strong>æ€è·¯</strong><br/>
<code>AES </code>å¯¹ç§°åŠ å¯†ï¼Œå¯†é’¥æ”¾é…ç½®ä¸­å¿ƒï¼Œæ”¯æŒä¸€é”®å¼€å…³ã€‚<br/>
åªå¯¹æ•æ„Ÿå­—æ®µåŠ å¯†ï¼Œåˆ«ä¸€ä¸Šæ¥å…¨åŒ…åŠ å¯†ï¼Œæ’æŸ¥æ—¥å¿—æƒ³æ‰“äººã€‚</p>
<p><strong>AES å·¥å…·</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AesUtil</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">ALG</span> <span class="hljs-operator">=</span> <span class="hljs-string">"AES/CBC/PKCS5Padding"</span>;
    <span class="hljs-comment">// 16 ä½</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">KEY</span> <span class="hljs-operator">=</span> <span class="hljs-string">"1234567890abcdef"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">IV</span>  <span class="hljs-operator">=</span> <span class="hljs-string">"abcdef1234567890"</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">encrypt</span><span class="hljs-params">(String src)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Cipher</span> <span class="hljs-variable">cipher</span> <span class="hljs-operator">=</span> Cipher.getInstance(ALG);
            <span class="hljs-type">SecretKeySpec</span> <span class="hljs-variable">keySpec</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SecretKeySpec</span>(KEY.getBytes(), <span class="hljs-string">"AES"</span>);
            <span class="hljs-type">IvParameterSpec</span> <span class="hljs-variable">ivSpec</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IvParameterSpec</span>(IV.getBytes());
            cipher.init(Cipher.ENCRYPT_MODE, keySpec, ivSpec);
            <span class="hljs-keyword">return</span> Base64.getEncoder().encodeToString(cipher.doFinal(src.getBytes()));
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"åŠ å¯†å¤±è´¥"</span>, e);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">decrypt</span><span class="hljs-params">(String src)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Cipher</span> <span class="hljs-variable">cipher</span> <span class="hljs-operator">=</span> Cipher.getInstance(ALG);
            <span class="hljs-type">SecretKeySpec</span> <span class="hljs-variable">keySpec</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SecretKeySpec</span>(KEY.getBytes(), <span class="hljs-string">"AES"</span>);
            <span class="hljs-type">IvParameterSpec</span> <span class="hljs-variable">ivSpec</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IvParameterSpec</span>(IV.getBytes());
            cipher.init(Cipher.DECRYPT_MODE, keySpec, ivSpec);
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(cipher.doFinal(Base64.getDecoder().decode(src)));
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"è§£å¯†å¤±è´¥"</span>, e);
        }
    }
}
</code></pre>
<h3 data-id="heading-4">äº”ã€ IP ç™½åå•</h3>
<blockquote>
<p>é™åˆ¶è¯·æ±‚çš„IPï¼Œå¢åŠ IPç™½åå•ï¼Œä¸€èˆ¬åœ¨ç½‘å…³å±‚å¤„ç†</p>
</blockquote>
<p><strong>é…ç½®</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">white:</span>
  <span class="hljs-attr">ips:</span> <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><span class="hljs-string">,10.0.0.0/8,192.168.0.0/16</span>
</code></pre>
<p><strong>æ‹¦æˆªå™¨</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WhiteListInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">HandlerInterceptor</span> {
    <span class="hljs-meta">@Value("#{'${white.ips}'.split(',')}")</span>
    <span class="hljs-keyword">private</span> List&lt;String&gt; allowList;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">preHandle</span><span class="hljs-params">(HttpServletRequest request,
                             HttpServletResponse response,
                             Object handler)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">String</span> <span class="hljs-variable">ip</span> <span class="hljs-operator">=</span> IpUtil.getIp(request);
        <span class="hljs-type">boolean</span> <span class="hljs-variable">ok</span> <span class="hljs-operator">=</span> allowList.stream()
                .anyMatch(rule -&gt; IpUtil.match(ip, rule));
        <span class="hljs-keyword">if</span> (!ok) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BizException</span>(<span class="hljs-string">"IP ä¸å…è®¸è®¿é—®"</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
}
</code></pre>
<h3 data-id="heading-5">å…­ã€ é™æµï¼ˆSentinel æ³¨è§£ç‰ˆï¼‰</h3>
<blockquote>
<p>å°¤å…¶å¯¹å¤–æä¾›çš„æ¥å£ï¼Œæ— æ³•ä¿éšœè°ƒç”¨é¢‘ç‡ï¼Œåº”è¯¥åšé™æµå¤„ç†ï¼Œä¿éšœæ¥å£æœåŠ¡æ­£å¸¸çš„æä¾›æœåŠ¡</p>
</blockquote>
<p><strong>ä¾èµ–</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba.csp<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>sentinel-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.8.6<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p><strong>é…ç½®</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">spring:</span>
  <span class="hljs-attr">application:</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">demo-api</span>
<span class="hljs-attr">sentinel:</span>
  <span class="hljs-attr">transport:</span>
    <span class="hljs-attr">dashboard:</span> <span class="hljs-string">localhost:8080</span>
</code></pre>
<p><strong>ä½¿ç”¨å§¿åŠ¿</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@GetMapping("/order/{id}")</span>
<span class="hljs-meta">@SentinelResource(value = "getOrder",
        blockHandler = "getOrderBlock")</span>
<span class="hljs-keyword">public</span> Result&lt;OrderVO&gt; <span class="hljs-title function_">getOrder</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Long id)</span> {
    <span class="hljs-keyword">return</span> Result.success(orderService.get(id));
}

<span class="hljs-comment">// é™æµå…œåº•</span>
<span class="hljs-keyword">public</span> Result&lt;OrderVO&gt; <span class="hljs-title function_">getOrderBlock</span><span class="hljs-params">(Long id, BlockException e)</span> {
    <span class="hljs-keyword">return</span> Result.fail(<span class="hljs-string">"è®¿é—®å¤ªé¢‘ç¹ï¼Œç¨åå†è¯•"</span>);
}
</code></pre>
<h3 data-id="heading-6">ä¸ƒã€ å‚æ•°æ ¡éªŒï¼ˆJSR303 + åˆ†ç»„ï¼‰</h3>
<blockquote>
<p>å³ä½¿å‰ç«¯åšäº†éç©ºï¼Œè§„èŒƒæ€§æ ¡éªŒï¼ŒæœåŠ¡ç«¯å‚æ•°æ ¡éªŒä»»ç„¶æ˜¯å¿…ä¸å¯å°‘çš„</p>
</blockquote>
<p><strong>DTO</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderCreateDTO</span> {
    <span class="hljs-meta">@NotNull(message = "ç”¨æˆ· ID ä¸èƒ½ä¸ºç©º")</span>
    <span class="hljs-keyword">private</span> Long userId;

    <span class="hljs-meta">@NotEmpty(message = "å•†å“åˆ—è¡¨ä¸èƒ½ä¸ºç©º")</span>
    <span class="hljs-meta">@Size(max = 20, message = "ä¸€æ¬¡æœ€å¤šä¹° 20 ä»¶")</span>
    <span class="hljs-keyword">private</span> List&lt;Item&gt; items;

    <span class="hljs-meta">@Valid</span>
    <span class="hljs-meta">@NotNull</span>
    <span class="hljs-keyword">private</span> PayInfo payInfo;

    <span class="hljs-meta">@Data</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PayInfo</span> {
        <span class="hljs-meta">@Min(value = 1, message = "é‡‘é¢å¿…é¡»å¤§äº 0")</span>
        <span class="hljs-keyword">private</span> Integer amount;
    }
}
</code></pre>
<p><strong>åˆ†ç»„æ¥å£</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Create</span> {}
</code></pre>
<p><strong>Controller</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@PostMapping("/order")</span>
<span class="hljs-keyword">public</span> Result&lt;Long&gt; <span class="hljs-title function_">create</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> <span class="hljs-meta">@Validated(Create.class)</span> OrderCreateDTO dto)</span> {
    <span class="hljs-type">Long</span> <span class="hljs-variable">orderId</span> <span class="hljs-operator">=</span> orderService.create(dto);
    <span class="hljs-keyword">return</span> Result.success(orderId);
}
</code></pre>
<h3 data-id="heading-7">å…«ã€ ç»Ÿä¸€è¿”å›å€¼</h3>
<blockquote>
<p>æä¾›ç»Ÿä¸€çš„è¿”å›ç»“æœï¼Œä¸åº”è¯¥è¿”å›å€¼äº”èŠ±å…«é—¨</p>
</blockquote>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Data</span>
<span class="hljs-meta">@AllArgsConstructor</span>
<span class="hljs-meta">@NoArgsConstructor</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Result</span>&lt;T&gt; <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> code;
    <span class="hljs-keyword">private</span> String msg;
    <span class="hljs-keyword">private</span> T data;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; Result&lt;T&gt; <span class="hljs-title function_">success</span><span class="hljs-params">(T data)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Result</span>&lt;&gt;(<span class="hljs-number">200</span>, <span class="hljs-string">"success"</span>, data);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; Result&lt;T&gt; <span class="hljs-title function_">fail</span><span class="hljs-params">(String msg)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Result</span>&lt;&gt;(<span class="hljs-number">500</span>, msg, <span class="hljs-literal">null</span>);
    }

    <span class="hljs-comment">/** è¿”å› 200 ä½†æç¤ºä¸šåŠ¡å¤±è´¥ */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; Result&lt;T&gt; <span class="hljs-title function_">bizFail</span><span class="hljs-params">(<span class="hljs-type">int</span> code, String msg)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Result</span>&lt;&gt;(code, msg, <span class="hljs-literal">null</span>);
    }
}
</code></pre>
<h3 data-id="heading-8">ä¹ã€ ç»Ÿä¸€å¼‚å¸¸å¤„ç†</h3>
<blockquote>
<p>ç³»ç»ŸæŠ¥é”™ä¿¡æ¯éœ€è¦æä¾›å‹å¥½çš„æç¤ºï¼Œé¿å…æš´éœ²å‡ºSQLå¼‚å¸¸çš„ä¿¡æ¯ç»™è°ƒç”¨æ–¹å’Œå®¢æˆ·ç«¯ã€‚</p>
</blockquote>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@RestControllerAdvice</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GlobalExceptionHandler</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">log</span> <span class="hljs-operator">=</span> LoggerFactory.getLogger(GlobalExceptionHandler.class);

    <span class="hljs-comment">/** ä¸šåŠ¡å¼‚å¸¸ */</span>
    <span class="hljs-meta">@ExceptionHandler(BizException.class)</span>
    <span class="hljs-keyword">public</span> Result&lt;Void&gt; <span class="hljs-title function_">handle</span><span class="hljs-params">(BizException e)</span> {
        log.warn(<span class="hljs-string">"ä¸šåŠ¡å¼‚å¸¸ï¼š{}"</span>, e.getMessage());
        <span class="hljs-keyword">return</span> Result.bizFail(e.getCode(), e.getMessage());
    }

    <span class="hljs-comment">/** å‚æ•°æ ¡éªŒå¤±è´¥ */</span>
    <span class="hljs-meta">@ExceptionHandler(MethodArgumentNotValidException.class)</span>
    <span class="hljs-keyword">public</span> Result&lt;Void&gt; <span class="hljs-title function_">handleValid</span><span class="hljs-params">(MethodArgumentNotValidException e)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">msg</span> <span class="hljs-operator">=</span> e.getBindingResult()
                .getFieldErrors()
                .stream()
                .map(DefaultMessageSourceResolvable::getDefaultMessage)
                .collect(Collectors.joining(<span class="hljs-string">","</span>));
        <span class="hljs-keyword">return</span> Result.fail(msg);
    }

    <span class="hljs-comment">/** å…œåº• */</span>
    <span class="hljs-meta">@ExceptionHandler(Exception.class)</span>
    <span class="hljs-keyword">public</span> Result&lt;Void&gt; <span class="hljs-title function_">handleAll</span><span class="hljs-params">(Exception e)</span> {
        log.error(<span class="hljs-string">"ç³»ç»Ÿå¼‚å¸¸"</span>, e);
        <span class="hljs-keyword">return</span> Result.fail(<span class="hljs-string">"æœåŠ¡å™¨å¼€å°å·®"</span>);
    }
}
</code></pre>
<h3 data-id="heading-9">åã€ è¯·æ±‚æ—¥å¿—ï¼ˆåˆ‡é¢ + æ³¨è§£ï¼‰</h3>
<blockquote>
<p>è®°å½•è¯·æ±‚çš„å…¥å‚æ—¥å¿—å’Œè¿”å›æ—¥å¿—ï¼Œå‡ºé—®é¢˜æ—¶æ–¹ä¾¿å¿«é€Ÿå®šä½ã€‚ä¹Ÿç»™è¿ç»´äººå‘˜æä¾›äº†æ–¹ä¾¿</p>
</blockquote>
<p><strong>æ³¨è§£</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Target(ElementType.METHOD)</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> ApiLog {}
</code></pre>
<p><strong>åˆ‡é¢</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Aspect</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LogAspect</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">log</span> <span class="hljs-operator">=</span> LoggerFactory.getLogger(<span class="hljs-string">"api.log"</span>);

    <span class="hljs-meta">@Around("@annotation(apiLog)")</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">around</span><span class="hljs-params">(ProceedingJoinPoint p, ApiLog apiLog)</span> <span class="hljs-keyword">throws</span> Throwable {
        <span class="hljs-type">long</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        <span class="hljs-type">ServletRequestAttributes</span> <span class="hljs-variable">attr</span> <span class="hljs-operator">=</span>
                (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();
        <span class="hljs-type">HttpServletRequest</span> <span class="hljs-variable">req</span> <span class="hljs-operator">=</span> attr.getRequest();

        <span class="hljs-type">String</span> <span class="hljs-variable">uri</span> <span class="hljs-operator">=</span> req.getRequestURI();
        <span class="hljs-type">String</span> <span class="hljs-variable">params</span> <span class="hljs-operator">=</span> JSON.toJSONString(p.getArgs());

        Object result;
        <span class="hljs-keyword">try</span> {
            result = p.proceed();
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"ã€{}ã€‘params={} error={}"</span>, uri, params, e.getMessage());
            <span class="hljs-keyword">throw</span> e;
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-type">long</span> <span class="hljs-variable">cost</span> <span class="hljs-operator">=</span> System.currentTimeMillis() - start;
            log.info(<span class="hljs-string">"ã€{}ã€‘params={} cost={}ms"</span>, uri, params, cost);
        }
        <span class="hljs-keyword">return</span> result;
    }
}
</code></pre>
<p><strong>ç”¨æ³•</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@ApiLog</span>
<span class="hljs-meta">@PostMapping("/order")</span>
<span class="hljs-keyword">public</span> Result&lt;Long&gt; <span class="hljs-title function_">create</span><span class="hljs-params">(...)</span> {}
</code></pre>
<h3 data-id="heading-10">åä¸€ã€å¹‚ç­‰è®¾è®¡ï¼ˆToken &amp; åˆ†å¸ƒå¼é”åŒä¿é™©ï¼‰</h3>
<blockquote>
<p>å¯¹äºä¸€äº›æ¶‰åŠåˆ°æ•°æ®ä¸€è‡´æ€§çš„æ¥å£ä¸€å®šè¦åšå¥½å¹‚ç­‰è®¾è®¡ï¼Œä»¥é˜²æ•°æ®å‡ºç°é‡å¤é—®é¢˜</p>
</blockquote>
<p><strong>æ€è·¯</strong></p>
<ol>
<li>ä¸‹å•å‰å…ˆç”³è¯·ä¸€ä¸ªå¹‚ç­‰ Tokenï¼ˆå­˜åœ¨ Redisï¼Œ5 åˆ†é’Ÿå¤±æ•ˆï¼‰ã€‚</li>
<li>ä¸‹å•æ—¶å¸¦ç€ Tokenï¼Œåç«¯ç”¨ Lua è„šæœ¬â€œåˆ¤æ–­å­˜åœ¨å¹¶åˆ é™¤â€ï¼ŒåŸå­æ€§ä¿è¯åªèƒ½ç”¨ä¸€æ¬¡ã€‚</li>
<li>å¯¹å¹¶å‘æé«˜åœºæ™¯ï¼Œå†è¡¥ä¸€å±‚åˆ†å¸ƒå¼é”ï¼ˆRedissonï¼‰ã€‚</li>
</ol>
<p><strong>ä»£ç </strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">IdempotentService</span> {
    <span class="hljs-meta">@Resource</span>
    <span class="hljs-keyword">private</span> StringRedisTemplate redis;

    <span class="hljs-comment">/** ç”³è¯· Token */</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">createToken</span><span class="hljs-params">()</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">token</span> <span class="hljs-operator">=</span> UUID.fastUUID().toString();
        redis.opsForValue().set(<span class="hljs-string">"token:"</span> + token, <span class="hljs-string">"1"</span>,
                Duration.ofMinutes(<span class="hljs-number">5</span>));
        <span class="hljs-keyword">return</span> token;
    }

    <span class="hljs-comment">/** éªŒè¯å¹¶åˆ é™¤ */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">checkToken</span><span class="hljs-params">(String token)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">key</span> <span class="hljs-operator">=</span> <span class="hljs-string">"token:"</span> + token;
        <span class="hljs-comment">// åŸå­åˆ é™¤æˆåŠŸæ‰ç®—ç”¨è¿‡</span>
        <span class="hljs-keyword">return</span> Boolean.TRUE.equals(redis.delete(key));
    }
}
</code></pre>
<p><strong>Controller</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@GetMapping("/token")</span>
<span class="hljs-keyword">public</span> Result&lt;String&gt; <span class="hljs-title function_">getToken</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">return</span> Result.success(idempotentService.createToken());
}

<span class="hljs-meta">@PostMapping("/order")</span>
<span class="hljs-meta">@ApiLog</span>
<span class="hljs-keyword">public</span> Result&lt;Long&gt; <span class="hljs-title function_">create</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> <span class="hljs-meta">@Valid</span> OrderCreateDTO dto,
                           <span class="hljs-meta">@RequestHeader("Idempotent-Token")</span> String token)</span> {
    <span class="hljs-keyword">if</span> (!idempotentService.checkToken(token)) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BizException</span>(<span class="hljs-string">"è¯·å‹¿é‡å¤æäº¤"</span>);
    }
    <span class="hljs-type">Long</span> <span class="hljs-variable">orderId</span> <span class="hljs-operator">=</span> orderService.create(dto);
    <span class="hljs-keyword">return</span> Result.success(orderId);
}
</code></pre>
<h3 data-id="heading-11">åäºŒã€é™åˆ¶è®°å½•æ¡æ•°ï¼ˆåˆ†é¡µ + SQL ä¿æŠ¤ï¼‰</h3>
<blockquote>
<p>å¯¹äºæ‰¹é‡æ•°æ®æ¥å£ï¼Œä¸€å®šè¦é™åˆ¶è¿”å›çš„è®°å½•æ¡æ•°ï¼Œä¸è®©ä¼šé€ æˆæ¶æ„æ”»å‡»å¯¼è‡´æœåŠ¡å™¨å®•æœºã€‚</p>
</blockquote>
<p><strong>MyBatis-Plus åˆ†é¡µæ’ä»¶</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MybatisConfig</span> {
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> MybatisPlusInterceptor <span class="hljs-title function_">interceptor</span><span class="hljs-params">()</span> {
        <span class="hljs-type">MybatisPlusInterceptor</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MybatisPlusInterceptor</span>();
        i.addInnerInterceptor(<span class="hljs-keyword">new</span> <span class="hljs-title class_">PaginationInnerInterceptor</span>(DbType.MYSQL));
        <span class="hljs-keyword">return</span> i;
    }
}
</code></pre>
<p><strong>Service</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> Page&lt;OrderVO&gt; <span class="hljs-title function_">list</span><span class="hljs-params">(OrderListDTO dto)</span> {
    <span class="hljs-comment">// å‰ç«¯ä¸ä¼ é»˜è®¤ 10 æ¡ï¼Œæœ€å¤š 200</span>
    <span class="hljs-type">long</span> <span class="hljs-variable">size</span> <span class="hljs-operator">=</span> Math.min(dto.getPageSize(), <span class="hljs-number">200</span>);
    Page&lt;Order&gt; page = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Page</span>&lt;&gt;(dto.getPageNo(), size);
    LambdaQueryWrapper&lt;Order&gt; w = Wrappers.lambdaQuery();
    <span class="hljs-keyword">if</span> (StrUtil.isNotBlank(dto.getUserName())) {
        w.like(Order::getUserName, dto.getUserName());
    }
    Page&lt;Order&gt; po = orderMapper.selectPage(page, w);
    <span class="hljs-keyword">return</span> po.convert(o -&gt; BeanUtil.copyProperties(o, OrderVO.class));
}
</code></pre>
<h3 data-id="heading-12">åä¸‰ã€ å‹æµ‹ï¼ˆJMeter + è‡ªå¸¦è„šæœ¬ï¼‰</h3>
<blockquote>
<p>ä¸Šçº¿å‰ï¼ŒåŠ¡å¿…è¦å¯¹APIæ¥å£è¿›è¡Œå‹åŠ›æµ‹è¯•ï¼ŒçŸ¥é“å„ä¸ªæ¥å£çš„qpsæƒ…å†µã€‚ä»¥ä¾¿æˆ‘ä»¬èƒ½å¤Ÿæ›´å¥½çš„é¢„ä¼°ï¼Œéœ€è¦éƒ¨ç½²å¤šå°‘æœåŠ¡èŠ‚ç‚¹ï¼Œå¯¹äºAPIæ¥å£çš„ç¨³å®šæ€§è‡³å…³é‡è¦ã€‚</p>
</blockquote>
<ol>
<li>
<p>èµ·æœåŠ¡ï¼š<br/>
<code>java -jar -Xms1g -Xmx1g demo-api.jar</code></p>
</li>
<li>
<p>JMeter çº¿ç¨‹ç»„ï¼š<br/>
500 çº¿ç¨‹ã€Ramp-up 10sã€å¾ªç¯ 20ã€‚</p>
</li>
<li>
<p>è§‚æµ‹ï¼š</p>
<ul>
<li>Sentinel æ§åˆ¶å°çœ‹ QPSã€RT</li>
<li><code>top -H</code> çœ‹ CPU</li>
<li><code>arthas</code> ç«ç„°å›¾æ‰¾æ…¢æ–¹æ³•</li>
</ul>
</li>
<li>
<p>è°ƒä¼˜ï¼š</p>
<ul>
<li>é™æµé˜ˆå€¼ = å‹æµ‹ 80% æœ€é«˜æ°´ä½</li>
<li>å‘ç°æ…¢ SQL åŠ ç´¢å¼•</li>
<li>çƒ­ç‚¹æ•°æ®åŠ æœ¬åœ°ç¼“å­˜ï¼ˆCaffeineï¼‰</li>
</ul>
</li>
</ol>
<h3 data-id="heading-13">åå››ã€å¼‚æ­¥å¤„ç†</h3>
<blockquote>
<p>å¦‚æœåŒæ­¥å¤„ç†ä¸šåŠ¡ï¼Œè€—æ—¶ä¼šéå¸¸é•¿ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œä¸ºäº†æå‡APIæ¥å£æ€§èƒ½ï¼Œæˆ‘ä»¬å¯ä»¥æ”¹ä¸ºå¼‚æ­¥å¤„ç†</p>
</blockquote>
<p>ä¸‹å•æˆåŠŸåï¼Œå‘ MQ å¼‚æ­¥å‘çŸ­ä¿¡/æ‰£åº“å­˜ï¼Œæ¥å£ RT ç›´æ¥é™ä¸€åŠã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Async("asyncExecutor")</span>   <span class="hljs-comment">// è‡ªå®šä¹‰çº¿ç¨‹æ± </span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sendSmsAsync</span><span class="hljs-params">(Long userId, String content)</span> {
    smsService.send(userId, content);
}
</code></pre>
<h3 data-id="heading-14">åäº”ã€æ•°æ®è„±æ•</h3>
<blockquote>
<p>ä¸šåŠ¡ä¸­å¯¹ä¸ç”¨æˆ·çš„æ•æ„Ÿæ•°æ®ï¼Œå¦‚å¯†ç ç­‰éœ€è¦è¿›è¡Œè„±æ•å¤„ç†</p>
</blockquote>
<p>è¿”å›å‰ç»Ÿä¸€ç”¨ Jackson åºåˆ—åŒ–è¿‡æ»¤å™¨ï¼Œå­—æ®µåŠ æ³¨è§£å°±è¡Œï¼Œä»£ç é›¶ä¾µå…¥ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@JsonSerialize(using = SensitiveSerializer.class)</span>
<span class="hljs-meta">@Target(ElementType.FIELD)</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Sensitive {
    SensitiveType <span class="hljs-title function_">type</span><span class="hljs-params">()</span>;
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">SensitiveType</span> {
    PHONE, ID_CARD, BANK_CARD
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SensitiveSerializer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">JsonSerializer</span>&lt;String&gt; {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">serialize</span><span class="hljs-params">(String value, JsonGenerator g, SerializerProvider p)</span>
            <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-keyword">if</span> (StrUtil.isBlank(value)) {
            g.writeString(value);
            <span class="hljs-keyword">return</span>;
        }
        g.writeString(DesensitizeUtil.desPhone(value));
    }
}
</code></pre>
<h3 data-id="heading-15">åå…­ã€å®Œæ•´çš„æ¥å£æ–‡æ¡£ï¼ˆKnife4jï¼‰</h3>
<blockquote>
<p>æä¾›åœ¨çº¿æ¥å£æ–‡æ¡£ï¼Œæ—¢æ–¹ä¾¿å¼€å‘è°ƒè¯•æ¥å£ï¼Œä¹Ÿæ–¹ä¾¿è¿ç»´äººå‘˜æ’æŸ¥é”™è¯¯</p>
</blockquote>
<p><strong>ä¾èµ–</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.github.xiaoymin<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>knife4j-openapi3-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.1.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p><strong>é…ç½®</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">knife4j:</span>
  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span>
  <span class="hljs-attr">setting:</span>
    <span class="hljs-attr">language:</span> <span class="hljs-string">zh_cn</span>
</code></pre>
<p><strong>å¯åŠ¨åè®¿é—®</strong><br/>
<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A8080%2Fdoc.html" target="_blank" title="http://localhost:8080/doc.html" ref="nofollow noopener noreferrer">http://localhost:8080/doc.html</a><br/>
æ”¯æŒåœ¨çº¿è°ƒè¯•ã€å¯¼å‡º PDFã€Wordã€‚</p>
<h3 data-id="heading-16">åä¸ƒã€å°ç»“</h3>
<p>æ¥å£å¼€å‘å°±åƒç‚’èœï¼š</p>
<ul>
<li>ç­¾åã€åŠ å¯†æ˜¯â€œé£Ÿæä¿é²œâ€</li>
<li>é™æµã€å¹‚ç­‰æ˜¯â€œç«å€™æŒæ§â€</li>
<li>æ—¥å¿—ã€æ–‡æ¡£æ˜¯â€œæ‘†ç›˜æ‹ç…§â€</li>
</ul>
<p>æ¯é“å·¥åºåšåˆ°ä½ï¼Œæ‰èƒ½ç«¯åˆ°æ¡Œä¸Šâ€œè‰²é¦™å‘³â€ä¿±å…¨ã€‚<br/>
ä¸Šé¢ 13 æ®µæ ¸å¿ƒä»£ç ï¼Œç›´æ¥ç²˜è¿‡å»å°±èƒ½è·‘ï¼Œè·‘é€šåå†æŒ‰ä¸šåŠ¡å¾®è°ƒï¼ŒåŸºæœ¬èƒ½æ‰› 90% çš„ç”Ÿäº§åœºæ™¯ã€‚<br/>
ç¥ä½ åœ¨é¢†å¯¼é—®èµ·æ¥å£æ€ä¹ˆæ ·äº†ï¼Ÿçš„æ—¶å€™ï¼Œå¯ä»¥æ·¡æ·¡æ¥ä¸€å¥ï¼š<br/>
â€œæ¥å£å·²ç»å‡†å¤‡å¥½äº†ï¼Œå‹æµ‹æŠ¥å‘Šå‘ç¾¤é‡Œäº†ã€‚â€</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»é›¶åˆ°ä¸€ï¼Œè®°å½•dockerè¿è¡Œä¸€ä¸ªwebç«¯é¡¹ç›®]]></title>    <link>https://juejin.cn/post/7572126996178026531</link>    <guid>https://juejin.cn/post/7572126996178026531</guid>    <pubDate>2025-11-14T07:39:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572126996178026531" data-draft-id="7572161976593547316" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»é›¶åˆ°ä¸€ï¼Œè®°å½•dockerè¿è¡Œä¸€ä¸ªwebç«¯é¡¹ç›®"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-14T07:39:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="web_bee"/> <meta itemprop="url" content="https://juejin.cn/user/428665740231"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»é›¶åˆ°ä¸€ï¼Œè®°å½•dockerè¿è¡Œä¸€ä¸ªwebç«¯é¡¹ç›®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/428665740231/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    web_bee
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T07:39:18.000Z" title="Fri Nov 14 2025 07:39:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½¿ç”¨dockerå°†ä¸€ä¸ªå‰ç«¯é¡¹ç›®æ‰“æˆä¸€ä¸ªé•œåƒï¼Œå¹¶ä¸”å°†å…¶åˆ›å»ºä¸€ä¸ªå®¹å™¨è¿è¡Œèµ·æ¥ï¼›</p>
<h2 data-id="heading-0">ä¸€ã€dockerå®‰è£…åŠé…ç½®</h2>
<p>å®‰è£…ä¸è¯¦ç»†æè¿°ï¼Œå¤§å®¶å¯ä»¥è‡ªè¡Œç½‘ä¸Šæœç´¢ç›¸å…³æ•™ç¨‹</p>
<h3 data-id="heading-1">é…ç½®</h3>
<p>é¦–å…ˆéœ€è¦ç™»é™† docker clientï¼›</p>
<p>å…¶æ¬¡éœ€è¦é…ç½®å›½å†…é•œåƒæºï¼ŒDocker Desktop è®¾ç½®é‡Œ Settings â†’ Docker Engine â†’ ä¿®æ”¹æˆï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
 Â <span class="hljs-attr">"registry-mirrors"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
 Â  Â <span class="hljs-string">"https://docker.mirrors.ustc.edu.cn"</span><span class="hljs-punctuation">,</span>
 Â  Â <span class="hljs-string">"https://mirror.baidubce.com"</span><span class="hljs-punctuation">,</span>
 Â  Â <span class="hljs-string">"https://registry.docker-cn.com"</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ä¿å­˜é‡å¯ï¼Œå®¢æˆ·ç«¯çš„é…ç½®å°±å·®ä¸å¤šäº†ã€‚</p>
<h2 data-id="heading-2">äºŒã€å‰ç«¯é¡¹ç›®çš„é…ç½®</h2>
<p>åœ¨å‰ç«¯é¡¹ç›®éœ€è¦æ–°å¢ä¸¤ä¸ªæ–‡ä»¶ï¼š</p>
<h3 data-id="heading-3">2.1 <code>Dockerfile</code></h3>
<pre><code class="hljs language-bash" lang="bash">FROM node:lts-alpine
<span class="hljs-comment"># FROM node:8.4</span>
COPY . /app
WORKDIR /app
RUN npm install --registry=https://registry.npm.taobao.org
EXPOSE 3000
</code></pre>
<p>ä¸Šé¢ä»£ç ä¸€å…±äº”è¡Œï¼Œå«ä¹‰å¦‚ä¸‹&lt;æ‘˜è‡ªï¼Œé˜®ä¸€å³°è€å¸ˆåšå®¢&gt;</p>
<blockquote>
<ul>
<li><code>FROM node:8.4</code>ï¼šè¯¥ image æ–‡ä»¶ç»§æ‰¿å®˜æ–¹çš„ node imageï¼Œå†’å·è¡¨ç¤ºæ ‡ç­¾ï¼Œè¿™é‡Œæ ‡ç­¾æ˜¯<code>8.4</code>ï¼Œå³8.4ç‰ˆæœ¬çš„ nodeã€‚</li>
<li><code>COPY . /app</code>ï¼šå°†å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼ˆé™¤äº†<code>.dockerignore</code>æ’é™¤çš„è·¯å¾„ï¼‰ï¼Œéƒ½æ‹·è´è¿›å…¥ image æ–‡ä»¶çš„<code>/app</code>ç›®å½•ã€‚</li>
<li><code>WORKDIR /app</code>ï¼šæŒ‡å®šæ¥ä¸‹æ¥çš„å·¥ä½œè·¯å¾„ä¸º<code>/app</code>ã€‚</li>
<li><code>RUN npm install</code>ï¼šåœ¨<code>/app</code>ç›®å½•ä¸‹ï¼Œè¿è¡Œ<code>npm install</code>å‘½ä»¤å®‰è£…ä¾èµ–ã€‚æ³¨æ„ï¼Œå®‰è£…åæ‰€æœ‰çš„ä¾èµ–ï¼Œéƒ½å°†æ‰“åŒ…è¿›å…¥ image æ–‡ä»¶ã€‚</li>
<li><code>EXPOSE 3000</code>ï¼šå°†å®¹å™¨ 3000 ç«¯å£æš´éœ²å‡ºæ¥ï¼Œ å…è®¸å¤–éƒ¨è¿æ¥è¿™ä¸ªç«¯å£ã€‚</li>
</ul>
</blockquote>
<p><strong>node:lts-alpine ä»‹ç»</strong></p>
<p><code>node:lts-alpine</code> æ˜¯ä¸€ä¸ª <strong>Docker é•œåƒæ ‡ç­¾ï¼ˆtagï¼‰</strong> ï¼Œå®ƒå…¶å®æ˜¯å¯¹å®˜æ–¹ Node.js é•œåƒçš„ä¸€ç§â€œè½»é‡åŒ–ç‰ˆæœ¬â€å‘½åæ–¹å¼ã€‚</p>
<p><strong><code>node:lts-alpine</code></strong> = Node.js å®˜æ–¹é•¿æœŸæ”¯æŒç‰ˆæœ¬ï¼ˆLTSï¼‰ + åŸºäº Alpine Linux çš„è½»é‡ç³»ç»Ÿã€‚</p>





















<table><thead><tr><th>éƒ¨åˆ†</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>node</code></td><td>é•œåƒåç§°ï¼Œæ¥è‡ª Docker Hub å®˜æ–¹ Node.js ä»“åº“ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fhub.docker.com%2F_%2Fnode" target="_blank" title="https://hub.docker.com/_/node" ref="nofollow noopener noreferrer">hub.docker.com/_/node</a>ï¼‰</td></tr><tr><td><code>lts</code></td><td>â€œLong Term Supportâ€ é•¿æœŸæ”¯æŒç‰ˆæœ¬ï¼ˆæ¯”å¦‚ 20.x LTSï¼‰</td></tr><tr><td><code>alpine</code></td><td>é•œåƒåº•å±‚æ“ä½œç³»ç»Ÿæ˜¯ <strong>Alpine Linux</strong>ï¼Œä½“ç§¯æå°ï¼Œéå¸¸é€‚åˆç”Ÿäº§ç¯å¢ƒéƒ¨ç½²</td></tr></tbody></table>
<h3 data-id="heading-4">2.2 <code>.dockerignore</code></h3>
<pre><code class="hljs language-lua" lang="lua">.git
node_modules
npm-<span class="hljs-built_in">debug</span>.<span class="hljs-built_in">log</span>
dist
.vscode
</code></pre>
<h2 data-id="heading-5">ä¸‰ã€ç»ˆç«¯æ“ä½œ</h2>
<h3 data-id="heading-6">åˆ›å»ºé•œåƒï¼š</h3>
<pre><code class="hljs language-arduino" lang="arduino">docker image build -t koa-demo .
</code></pre>
<ul>
<li><code>-t</code>å‚æ•°ç”¨æ¥æŒ‡å®š image æ–‡ä»¶çš„åå­—ï¼Œåé¢è¿˜å¯ä»¥ç”¨å†’å·æŒ‡å®šæ ‡ç­¾ã€‚å¦‚æœä¸æŒ‡å®šï¼Œé»˜è®¤çš„æ ‡ç­¾å°±æ˜¯<code>latest</code>ã€‚</li>
<li><code>.</code> è¡¨ç¤º Dockerfile æ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„ï¼Œä¸Šä¾‹æ˜¯å½“å‰è·¯å¾„ï¼Œæ‰€ä»¥æ˜¯ä¸€ä¸ªç‚¹</li>
</ul>
<p>åˆ›å»ºè¿‡ç¨‹ä¸­é‡åˆ°æŠ¥é”™ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">docker image build -t vite-vue . Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
<span class="hljs-section">[+]</span> Building 32.7s (3/3) FINISHED Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   docker:<span class="hljs-attr">desktop-linux</span>
 =&gt; <span class="hljs-section">[internal]</span> load build definition from <span class="hljs-attr">Dockerfile</span> Â  Â  Â  
 =&gt; =&gt; transferring dockerfile: <span class="hljs-attr">150B</span> Â  Â  Â  Â  
 =&gt; ERROR <span class="hljs-section">[internal]</span> load metadata for docker.io/library/node:<span class="hljs-attr">20.19.0</span> Â  Â  Â 
 =&gt; <span class="hljs-section">[auth]</span> library/node:pull token for registry-1.docker.io Â  Â  Â  Â  Â  Â  Â  Â  Â 
------
 &gt; <span class="hljs-section">[internal]</span> load metadata for docker.io/library/node:20.19.0:
------
Dockerfile:1
--------------------
 Â  1 | &gt;&gt;&gt; FROM node:20.19.0
 Â  2 | Â  Â  COPY . /app
 Â  3 | Â  Â  WORKDIR /app
--------------------
ERROR: failed to build: failed to solve: node:20.19.0: failed to resolve source metadata for docker.io/library/node:20.19.0: pull access denied, repository does not exist or may require authorization: server message: insufficient_scope: authorization failed
</code></pre>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<p>ç”±äºé…ç½®çš„å›½å†…æºæ— æ³•ä½¿ç”¨é€ æˆï¼Œä»æ–°é…ç½®dockeræºï¼Œé…ç½®åœ¨ä¸Šæ–‡ä¸­ï¼Œç„¶åæ‰§è¡Œï¼š</p>
<pre><code class="hljs language-perl" lang="perl">docker info | <span class="hljs-keyword">grep</span> -i mirror Â  Â  Â  Â  
è¿”å›ï¼š
 Registry Mirrors:
  https:<span class="hljs-regexp">//d</span>ocker.mirrors.ustc.edu.cn/
  https:<span class="hljs-regexp">//mirr</span>or.baidubce.com/
</code></pre>
<p>èƒ½æ­£å¸¸è¿”å›æ•°æ®ï¼Œè¯´æ˜æºèƒ½æ­£å¸¸ä½¿ç”¨ã€‚è‡³æ­¤ï¼Œé•œåƒåˆ›å»ºå®Œæˆâœ…</p>
<h3 data-id="heading-7">ç”Ÿæˆå®¹å™¨</h3>
<p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">docker container run -p <span class="hljs-number">8000</span>:<span class="hljs-number">3000</span> -it vite-vue /bin/bash 
</code></pre>
<p>æŠ¥é”™ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-php" lang="php">node:internal/modules/cjs/loader:<span class="hljs-number">1423</span>
â€‹
<span class="hljs-keyword">throw</span> err;
â€‹
^
â€‹
<span class="hljs-built_in">Error</span>: Cannot find module <span class="hljs-string">'/bin/bash'</span>
â€‹
at Module.<span class="hljs-title function_ invoke__">_resolveFilename</span> (<span class="hljs-attr">node</span>:internal/modules/cjs/<span class="hljs-attr">loader</span>:<span class="hljs-number">1420</span>:<span class="hljs-number">15</span>)
â€‹
at <span class="hljs-title function_ invoke__">defaultResolveImpl</span> (<span class="hljs-attr">node</span>:internal/modules/cjs/<span class="hljs-attr">loader</span>:<span class="hljs-number">1058</span>:<span class="hljs-number">19</span>)
â€‹
at <span class="hljs-title function_ invoke__">resolveForCJSWithHooks</span> (<span class="hljs-attr">node</span>:internal/modules/cjs/<span class="hljs-attr">loader</span>:<span class="hljs-number">1063</span>:<span class="hljs-number">22</span>)
â€‹
at Module.<span class="hljs-title function_ invoke__">_load</span> (<span class="hljs-attr">node</span>:internal/modules/cjs/<span class="hljs-attr">loader</span>:<span class="hljs-number">1226</span>:<span class="hljs-number">37</span>)
â€‹
at TracingChannel.<span class="hljs-title function_ invoke__">traceSync</span> (<span class="hljs-attr">node</span>:<span class="hljs-attr">diagnostics_channel</span>:<span class="hljs-number">328</span>:<span class="hljs-number">14</span>)
â€‹
at <span class="hljs-title function_ invoke__">wrapModuleLoad</span> (<span class="hljs-attr">node</span>:internal/modules/cjs/<span class="hljs-attr">loader</span>:<span class="hljs-number">244</span>:<span class="hljs-number">24</span>)
â€‹
at Module.executeUserEntryPoint [<span class="hljs-keyword">as</span> runMain] (node:internal/modules/run_main:<span class="hljs-number">154</span>:<span class="hljs-number">5</span>)
â€‹
at node:internal/main/run_main_module:<span class="hljs-number">33</span>:<span class="hljs-number">47</span> {
â€‹
code: <span class="hljs-string">'MODULE_NOT_FOUND'</span>,
â€‹
requireStack: []
â€‹
}
â€‹
Node.js v24.<span class="hljs-number">11.0</span>
</code></pre>
<p>åŸºç¡€é•œåƒæ˜¯ <strong><code>node:lts-alpine</code></strong>ï¼Œè€Œ <strong>Alpine Linux é»˜è®¤æ²¡æœ‰ <code>/bin/bash</code></strong>ï¼Œåªæœ‰ <code>/bin/sh</code>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f7861d4f3374deab6e4b169dec7675d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd2ViX2JlZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710795&amp;x-signature=%2BJ7RxQyfDpwqYWDeT7b6Q5nFoIU%3D" alt="docker1.png" loading="lazy"/></p>
<h3 data-id="heading-8">è¿è¡Œå‰ç«¯é¡¹ç›®</h3>
<pre><code class="hljs language-arduino" lang="arduino">npm run dev
</code></pre>
<p>æŠ¥é”™ï¼Œä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">vite-test</span>@<span class="hljs-number">0.0</span><span class="hljs-selector-class">.0</span> <span class="hljs-selector-tag">dev</span>
â€‹
&gt; <span class="hljs-selector-tag">vite</span>
â€‹
/<span class="hljs-selector-tag">app</span>/<span class="hljs-selector-tag">node_modules</span>/<span class="hljs-selector-tag">rollup</span>/<span class="hljs-selector-tag">dist</span>/<span class="hljs-selector-tag">native</span><span class="hljs-selector-class">.js</span>:<span class="hljs-number">59</span>
â€‹
â€¢   <span class="hljs-selector-tag">throw</span> <span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">Error</span>(
â€‹
â€¢    Â  ^
â€‹
<span class="hljs-attribute">Error</span>: Cannot find module <span class="hljs-variable">@rollup</span>/rollup-linux-arm64-musl. npm has a bug related to optional dependencies (<span class="hljs-attribute">https</span>:<span class="hljs-comment">//github.com/npm/cli/issues/4828). Please try `npm i` again after removing both package-lock.json and node_modules directory.</span>
â€‹
Node.js v24.<span class="hljs-number">11.0</span>
</code></pre>
<p>åŸå› ï¼š</p>
<ul>
<li><code>node:lts-alpine</code>ï¼Œåº•å±‚æ˜¯ <strong>Alpine Linux</strong>ï¼›</li>
<li>Alpine ä½¿ç”¨ <strong>musl libc</strong>ï¼ˆä¸æ˜¯æ ‡å‡† glibcï¼‰ï¼›</li>
<li>Rollup åœ¨å®‰è£…æ—¶ï¼Œä¼šå°è¯•ä¸‹è½½ä¸€ä¸ªé’ˆå¯¹ç³»ç»Ÿæ¶æ„çš„ <strong>é¢„ç¼–è¯‘äºŒè¿›åˆ¶åŒ…</strong>ï¼ˆä¾‹å¦‚ <code>@rollup/rollup-linux-arm64-musl</code>ï¼‰ï¼›</li>
<li>npm å¯¹ â€œoptionalDependenciesâ€ çš„å®‰è£…é€»è¾‘åœ¨æŸäº›ç¯å¢ƒä¸‹ä¼šå¤±è´¥ï¼ˆå°¤å…¶æ˜¯ musl ç³»ç»Ÿï¼‰ï¼Œå¯¼è‡´è¯¥æ¨¡å—æ²¡è£…ä¸Šã€‚</li>
</ul>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">rm</span> -rf node_modules package-lock.json
npm install
</code></pre>
<p>ç„¶åè¿è¡Œ <code>npm run dev</code> é¡¹ç›®æ­£å¸¸è¿è¡Œï¼Œ å‰ç«¯é¡¹ç›®çš„ç«¯å£æ˜¯ 3000ï¼Œç†è®ºä¸Šæ˜ å°„åˆ°æœ¬æœºçš„ 8000ç«¯å£ï¼›ä½†æ˜¯å½“æµè§ˆå™¨è®¿é—®æœ¬åœ° 8000 ç«¯å£æ—¶ï¼Œä¸èƒ½æ­£å¸¸è®¿é—®ï¼›</p>
<p>æœç´¢ä¹‹åå¾—çŸ¥ï¼š</p>
<p>å‰ç«¯é¡¹ç›®ç›‘å¬çš„ host å¿…é¡»æ˜¯ <code>0.0.0.0</code>ï¼Œå¦åˆ™åªç»‘å®šå®¹å™¨å†…éƒ¨çš„ <code>localhost</code>ï¼Œå®¿ä¸»æœºè®¿é—®ä¸åˆ°ã€‚</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">export</span> <span class="hljs-string">default</span> {
 Â <span class="hljs-attr">server:</span> {
 Â  Â <span class="hljs-attr">host:</span> <span class="hljs-string">'0.0.0.0'</span>,
 Â  Â <span class="hljs-attr">port:</span> <span class="hljs-number">3000</span>
  }
}
</code></pre>
<blockquote>
<p>è¯¦ç»†è§£é‡Š</p>
<ul>
<li>
<p><strong><code>0.0.0.0</code> çš„å«ä¹‰</strong>ï¼šè¿™æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ IP åœ°å€ï¼Œè¡¨ç¤ºâ€œæ‰€æœ‰å¯ç”¨ç½‘ç»œæ¥å£â€ã€‚</p>
</li>
<li>
<p><strong>ä½œç”¨</strong>ï¼š</p>
<ul>
<li>å®ƒå…è®¸ä½ çš„å¼€å‘æœåŠ¡å™¨åŒæ—¶ç›‘å¬ä½ çš„æœ¬åœ° IP åœ°å€ã€Wi-Fi IP åœ°å€ç­‰æ‰€æœ‰ç½‘ç»œæ¥å£ã€‚</li>
<li>è¿™éå¸¸é€‚åˆåœ¨å±€åŸŸç½‘ç¯å¢ƒä¸­ä½¿ç”¨ï¼Œä¾‹å¦‚ä½ å¯ä»¥åœ¨æ‰‹æœºæˆ–å…¶ä»–è®¾å¤‡ä¸Šé€šè¿‡ä½ ç”µè„‘çš„å±€åŸŸç½‘ IP åœ°å€æ¥è®¿é—®ä½ æ­£åœ¨å¼€å‘çš„åº”ç”¨ã€‚</li>
</ul>
</li>
<li>
<p><strong>ä¸ <code>localhost</code> çš„åŒºåˆ«</strong>ï¼š</p>
<ul>
<li><code>localhost</code>ï¼ˆæˆ– <code>127.0.0.1</code>ï¼‰åªèƒ½è®©æœåŠ¡å™¨åœ¨æœ¬åœ°ç”µè„‘ä¸Šè®¿é—®ã€‚</li>
<li/>
<li><code>0.0.0.0</code> åˆ™å°†æœåŠ¡å™¨å¼€æ”¾ç»™å±€åŸŸç½‘å†…çš„å…¶ä»–è®¾å¤‡ã€‚</li>
</ul>
</li>
</ul>
</blockquote>
<p>è‡³æ­¤ï¼Œæœ¬æœºå·²ç»èƒ½æ­£å¸¸è®¿é—®å®¹å™¨å†…éƒ¨çš„æœåŠ¡äº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäºNextjs15çš„å­¦ä¹ æ‰‹è®°]]></title>    <link>https://juejin.cn/post/7572147440314335295</link>    <guid>https://juejin.cn/post/7572147440314335295</guid>    <pubDate>2025-11-14T07:30:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572147440314335295" data-draft-id="7477105518038843443" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäºNextjs15çš„å­¦ä¹ æ‰‹è®°"/> <meta itemprop="keywords" content="JavaScript,å‰ç«¯,React.js"/> <meta itemprop="datePublished" content="2025-11-14T07:30:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="xun_xing"/> <meta itemprop="url" content="https://juejin.cn/user/1821234275567431"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäºNextjs15çš„å­¦ä¹ æ‰‹è®°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1821234275567431/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    xun_xing
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T07:30:09.000Z" title="Fri Nov 14 2025 07:30:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="tomorrow">.hljs-comment,.hljs-quote{color:#8e908c}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#c82829}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5871f}.hljs-attribute{color:#eab700}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#718c00}.hljs-section,.hljs-title{color:#4271ae}.hljs-keyword,.hljs-selector-tag{color:#8959a8}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#4d4d4c}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åŸºäºNextjs15çš„å­¦ä¹ æ‰‹è®°</h2>
<p>Next.js æ˜¯ä¸€ä¸ªåŸºäº React çš„ <strong>å…¨æ ˆæ¡†æ¶</strong>ï¼Œç”± Vercel ç»´æŠ¤ã€‚å®ƒæä¾›äº† <strong>æœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰</strong> ã€<strong>é™æ€ç«™ç‚¹ç”Ÿæˆï¼ˆSSGï¼‰</strong> ã€<strong>å¢é‡é™æ€å†ç”Ÿï¼ˆISRï¼‰</strong> ç­‰ç‰¹æ€§ï¼Œä½¿å¾—å¼€å‘è€…å¯ä»¥æ›´è½»æ¾åœ°æ„å»ºé«˜æ€§èƒ½ã€SEO å‹å¥½çš„ Web åº”ç”¨ã€‚ç›®å‰Nextjs 15å·²ç»ä½¿ç”¨React 19ç‰ˆæœ¬ï¼ŒæœåŠ¡å™¨ç»„ä»¶æ›´åŠ å¼ºæ‚ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€äº†è§£CSR/SSR/SSG</h3>
<p>CSRï¼ˆClient-Side Renderingï¼Œå®¢æˆ·ç«¯æ¸²æŸ“ï¼‰ã€SSRï¼ˆServer-Side Renderingï¼ŒæœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼‰å’ŒSSGï¼ˆStatic Site Generationï¼Œé™æ€ç«™ç‚¹ç”Ÿæˆï¼‰æ˜¯æ„å»ºç°ä»£Webåº”ç”¨çš„ä¸åŒçš„æ¸²æŸ“æ–¹å¼ã€‚ä¸»è¦åŒºåˆ«åœ¨äº <strong>é¡µé¢çš„ HTML ä½•æ—¶ç”Ÿæˆã€åœ¨å“ªé‡Œç”Ÿæˆï¼Œä»¥åŠå¯¹ SEO å’Œæ€§èƒ½çš„å½±å“</strong>ï¼Œæ¯ç§æ–¹å¼éƒ½æœ‰å…¶ä¼˜ç¼ºç‚¹ï¼Œé€‚ç”¨äºä¸åŒçš„åœºæ™¯ã€‚</p>
<h4 data-id="heading-2">1.CSRï¼ˆå®¢æˆ·ç«¯æ¸²æŸ“ï¼‰</h4>
<p>å°†ç½‘é¡µçš„å†…å®¹ç”Ÿæˆå’Œæ¸²æŸ“éƒ½æ”¾åœ¨å®¢æˆ·ç«¯ï¼ˆå³æµè§ˆå™¨ï¼‰å®Œæˆã€‚åˆå§‹çš„HTMLæ–‡æ¡£ä¸­é€šå¸¸åªåŒ…å«åŸºæœ¬çš„éª¨æ¶å’Œä¸€äº›é™æ€èµ„æºé“¾æ¥ï¼Œå¦‚CSSå’ŒJavaScriptæ–‡ä»¶ã€‚ç„¶åï¼Œæµè§ˆå™¨ä¼šä¸‹è½½è¿™äº›æ–‡ä»¶ï¼Œå¹¶åœ¨å®¢æˆ·ç«¯è§£æå’Œæ‰§è¡ŒJavaScriptä»£ç ï¼ŒåŠ¨æ€åœ°è·å–æ•°æ®ï¼Œå¹¶ä½¿ç”¨æ•°æ®æ¥ç”Ÿæˆå’Œæ¸²æŸ“é¡µé¢çš„å†…å®¹ã€‚</p>
<p>é€‚ç”¨äº<strong>å•é¡µåº”ç”¨ï¼ˆSPAï¼‰</strong> ï¼Œæ¯”å¦‚ <strong>React</strong>ã€<strong>Vue</strong> é¡¹ç›®</p>
<h5 data-id="heading-3">CSRæ¸²æŸ“è¿‡ç¨‹ï¼š</h5>
<p>â‘ .ä¸‹è½½åˆå§‹HTML</p>
<p>â‘¡.è§£æHTML</p>
<p>â‘¢.ä¸‹è½½å’Œæ‰§è¡ŒJavaScriptæ–‡ä»¶</p>
<p>â‘£.æ•°æ®è·å–</p>
<p>â‘¤.æ•°æ®å¤„ç†å’Œé¡µé¢æ¸²æŸ“</p>
<p>â‘¥.æ›´æ–°DOM</p>
<p>â‘¦.ç”¨æˆ·äº¤äº’å’ŒåŠ¨æ€æ›´æ–°</p>
<h5 data-id="heading-4">ä¼˜ç‚¹ï¼š</h5>
<ul>
<li>
<p>å¯Œäº¤äº’æ€§ï¼šå®¢æˆ·ç«¯æ¸²æŸ“å…è®¸åˆ›å»ºå¯Œäº¤äº’æ€§çš„åº”ç”¨ï¼Œå› ä¸ºæ‰€æœ‰çš„é€»è¾‘éƒ½åœ¨ç”¨æˆ·çš„æµè§ˆå™¨ä¸­æ‰§è¡Œã€‚</p>
</li>
<li>
<p>å‡è½»æœåŠ¡å™¨è´Ÿè½½ï¼šæœåŠ¡å™¨åªéœ€æä¾›é™æ€æ–‡ä»¶ï¼Œå¤§éƒ¨åˆ†å·¥ä½œç”±å®¢æˆ·ç«¯å®Œæˆï¼Œå‡è½»äº†æœåŠ¡å™¨çš„è´Ÿè½½ã€‚</p>
</li>
<li>
<p>æ›´å¿«çš„é¡µé¢å¯¼èˆªï¼šåœ¨å•é¡µé¢åº”ç”¨ï¼ˆSPAï¼‰ä¸­ï¼Œé¡µé¢ä¹‹é—´çš„å¯¼èˆªå¯ä»¥æ— éœ€é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ï¼Œæä¾›äº†æ›´æµç•…çš„ç”¨æˆ·ä½“éªŒã€‚</p>
</li>
</ul>
<h5 data-id="heading-5">ç¼ºç‚¹ï¼š</h5>
<ul>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fbaike.baidu.com%2Fitem%2F%25E6%2590%259C%25E7%25B4%25A2%25E5%25BC%2595%25E6%2593%258E%25E4%25BC%2598%25E5%258C%2596%2F3132" target="_blank" title="https://baike.baidu.com/item/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E4%BC%98%E5%8C%96/3132" ref="nofollow noopener noreferrer">SEO</a>æŒ‘æˆ˜ï¼šç”±äºå†…å®¹æ˜¯åœ¨å®¢æˆ·ç«¯åŠ¨æ€ç”Ÿæˆçš„ï¼Œæœç´¢å¼•æ“å¯èƒ½éš¾ä»¥æŠ“å–é¡µé¢å†…å®¹ï¼Œè¿™å¯èƒ½å¯¹SEOé€ æˆä¸åˆ©å½±å“ã€‚</p>
</li>
<li>
<p>æ…¢é¦–å±åŠ è½½ï¼šå®¢æˆ·ç«¯æ¸²æŸ“é€šå¸¸éœ€è¦åŠ è½½JavaScriptæ¡†æ¶å’Œåº”ç”¨ä»£ç ï¼Œç„¶åæ‰èƒ½æ¸²æŸ“å†…å®¹ï¼Œè¿™å¯èƒ½å¯¼è‡´æ…¢é¦–å±åŠ è½½æ—¶é—´ã€‚</p>
</li>
<li>
<p>JavaScriptä¾èµ–ï¼šå®Œå…¨ä¾èµ–äºå®¢æˆ·ç«¯JavaScriptæ‰§è¡Œï¼Œå¦‚æœç”¨æˆ·ç¦ç”¨äº†JavaScriptï¼Œæˆ–è€…JavaScriptæ–‡ä»¶åŠ è½½å¤±è´¥ï¼Œé‚£ä¹ˆç”¨æˆ·å°†çœ‹ä¸åˆ°ä»»ä½•å†…å®¹ã€‚</p>
</li>
</ul>
<h5 data-id="heading-6">é€‚ç”¨åœºæ™¯ï¼š</h5>
<ul>
<li><strong>åå°ç®¡ç†ç³»ç»Ÿ</strong>ï¼ˆå¦‚ CMSã€Admin é¢æ¿ï¼‰ã€‚</li>
<li><strong>éœ€è¦å¤§é‡äº¤äº’çš„ SPA</strong>ï¼ˆå¦‚ Gmailã€React/Vue Appï¼‰ã€‚</li>
<li><strong>å¯¹ SEO è¦æ±‚ä¸é«˜çš„åº”ç”¨</strong>ã€‚</li>
</ul>
<h4 data-id="heading-7">2.SSRï¼ˆæœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼‰</h4>
<p>åœ¨SSRä¸­ï¼ŒæœåŠ¡å™¨ä¼šåœ¨æ¥æ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚åï¼Œæ‰§è¡Œç½‘é¡µçš„æ¸²æŸ“é€»è¾‘ï¼Œå¹¶ç”Ÿæˆå®Œæ•´çš„HTMLé¡µé¢ã€‚ç”Ÿæˆçš„HTMLé¡µé¢åŒ…å«äº†æ‰€æœ‰åˆå§‹åŒ–çš„æ•°æ®å’Œå·²ç»æ¸²æŸ“å¥½çš„é¡µé¢å†…å®¹ï¼Œç„¶åæœåŠ¡å™¨å°†è¯¥HTMLé¡µé¢å‘é€ç»™å®¢æˆ·ç«¯æµè§ˆå™¨è¿›è¡Œå±•ç¤ºã€‚</p>
<h5 data-id="heading-8">SSRæ¸²æŸ“è¿‡ç¨‹ï¼š</h5>
<p>â‘ .å®¢æˆ·ç«¯è¯·æ±‚</p>
<p>â‘¡.è·¯ç”±å¤„ç†</p>
<p>â‘¢.æ•°æ®è·å–</p>
<p>â‘£.æ•°æ®å¤„ç†å’Œé¡µé¢æ¸²æŸ“</p>
<p>â‘¤.HTMLé¡µé¢å‘é€</p>
<p>â‘¥.å®¢æˆ·ç«¯æ¸²æŸ“</p>
<p>â‘¦.æ•°æ®ç»‘å®šå’Œäº‹ä»¶å¤„ç†</p>
<p>â‘§.ç”¨æˆ·äº¤äº’å’ŒåŠ¨æ€æ›´æ–°</p>
<h5 data-id="heading-9">ä¼˜ç‚¹ï¼š</h5>
<ul>
<li>
<p>SEOä¼˜åŒ–ï¼šæœåŠ¡å™¨ç«¯æ¸²æŸ“çš„é¡µé¢å¯ä»¥æä¾›å®Œæ•´çš„HTMLå†…å®¹ï¼Œæœ‰åŠ©äºæœç´¢å¼•æ“æ›´å¥½åœ°æŠ“å–å’Œç´¢å¼•ç½‘ç«™ï¼Œä»è€Œæé«˜SEOè¡¨ç°ã€‚</p>
</li>
<li>
<p>å¿«é€Ÿé¦–å±åŠ è½½ï¼šç”¨æˆ·å¯ä»¥æ›´å¿«åœ°çœ‹åˆ°å®Œæ•´æ¸²æŸ“çš„é¡µé¢ï¼Œå› ä¸ºå†…å®¹æ˜¯åœ¨æœåŠ¡å™¨ä¸Šç”Ÿæˆçš„ï¼Œè¿™æé«˜äº† perceived performanceï¼ˆç”¨æˆ·æ„ŸçŸ¥çš„æ€§èƒ½ï¼‰ã€‚</p>
</li>
<li>
<p>æ›´å¥½çš„ç¤¾äº¤åª’ä½“å…±äº«ï¼šç”±äºé¡µé¢çš„å…ƒæ•°æ®ï¼ˆå¦‚æ ‡é¢˜ã€æè¿°ã€å›¾ç‰‡ç­‰ï¼‰åœ¨æœåŠ¡å™¨ä¸Šå·²ç»æ¸²æŸ“ï¼Œåˆ†äº«é“¾æ¥æ—¶ç¤¾äº¤åª’ä½“å¹³å°èƒ½å¤Ÿæ­£ç¡®æ˜¾ç¤ºé¢„è§ˆä¿¡æ¯ã€‚</p>
</li>
</ul>
<h5 data-id="heading-10">ç¼ºç‚¹ï¼š</h5>
<ul>
<li>
<p>æœåŠ¡å™¨è´Ÿè½½ï¼šæœåŠ¡å™¨ç«¯æ¸²æŸ“å¯èƒ½ä¼šå¢åŠ æœåŠ¡å™¨çš„è´Ÿè½½ï¼Œå› ä¸ºæ¯ä¸ªé¡µé¢è¯·æ±‚éƒ½éœ€è¦æœåŠ¡å™¨å¤„ç†å’Œæ¸²æŸ“ã€‚</p>
</li>
<li>
<p>å»¶è¿Ÿï¼šé¡µé¢æ›´æ–°æˆ–å¯¼èˆªå¯èƒ½ä¼šæœ‰å»¶è¿Ÿï¼Œå› ä¸ºéœ€è¦ä»æœåŠ¡å™¨è·å–æ–°çš„HTMLé¡µé¢ã€‚</p>
</li>
<li>
<p>å¤æ‚çš„æ„å»ºå’Œéƒ¨ç½²ï¼šSSRåº”ç”¨å¯èƒ½éœ€è¦ç‰¹æ®Šçš„æœåŠ¡å™¨é…ç½®å’Œæ›´å¤æ‚çš„æ„å»ºè¿‡ç¨‹ã€‚</p>
</li>
</ul>
<h5 data-id="heading-11">é€‚ç”¨åœºæ™¯ï¼š</h5>
<ul>
<li>
<p><strong>SEO è¦æ±‚é«˜çš„åº”ç”¨</strong>ï¼ˆå¦‚å®˜ç½‘ã€åšå®¢ã€æ–°é—»ç«™ç‚¹ï¼‰ã€‚</p>
</li>
<li>
<p><strong>å†…å®¹åŠ¨æ€å˜åŒ–çš„é¡µé¢</strong>ï¼ˆå¦‚ç”¨æˆ·ä¸ªæ€§åŒ–ä¸»é¡µï¼‰ã€‚</p>
</li>
</ul>
<h4 data-id="heading-12">3.SSG (é™æ€ç½‘ç«™ç”Ÿæˆ)</h4>
<p>åœ¨æ„å»ºï¼ˆbuildï¼‰é˜¶æ®µç”Ÿæˆé™æ€HTMLæ–‡ä»¶ï¼Œå°†è¿™äº›æ–‡ä»¶ç›´æ¥æä¾›ç»™å®¢æˆ·ç«¯ï¼Œè€Œæ— éœ€åœ¨æ¯ä¸ªè¯·æ±‚ä¸ŠåŠ¨æ€ç”Ÿæˆå†…å®¹ã€‚</p>
<h5 data-id="heading-13">SSGæ¸²æŸ“è¿‡ç¨‹ï¼š</h5>
<p>â‘ .æ„å»ºé˜¶æ®µ</p>
<p>â‘¡.ç”Ÿæˆé™æ€æ–‡ä»¶</p>
<p>â‘¢.æœåŠ¡å™¨æä¾›é™æ€æ–‡ä»¶</p>
<p>â‘£.å®¢æˆ·ç«¯æ¸²æŸ“</p>
<h5 data-id="heading-14">ä¼˜ç‚¹ï¼š</h5>
<ul>
<li>
<p>æœ€å¿«çš„åŠ è½½é€Ÿåº¦ï¼šç”¨æˆ·è®¿é—®æ—¶ï¼Œç›´æ¥ä» <strong>CDN</strong> è·å– HTMLï¼ŒåŠ è½½é€Ÿåº¦å¿«ã€‚</p>
</li>
<li>
<p>SEO å‹å¥½ï¼šå®Œæ•´ HTML å¯è¢«çˆ¬è™«æŠ“å–ã€‚</p>
</li>
<li>
<p>æœåŠ¡å™¨å‹åŠ›ä½ï¼šåªéœ€è¦æä¾›é™æ€æ–‡ä»¶ã€‚</p>
</li>
</ul>
<h5 data-id="heading-15">ç¼ºç‚¹ï¼š</h5>
<ul>
<li>
<p>ç¼ºå°‘çµæ´»æ€§ï¼šæ— æ³•å¤„ç†å®æ—¶æ•°æ®ï¼Œé¡µé¢å†…å®¹ä¸ä¼šéšè¯·æ±‚å˜åŒ–ã€‚</p>
</li>
<li>
<p>æ›´æ–°ç¹çï¼šå¦‚æœæ•°æ®æ›´æ–°ï¼Œéœ€è¦é‡æ–°æ„å»ºé¡µé¢ã€‚</p>
</li>
</ul>
<h5 data-id="heading-16">é€‚ç”¨åœºæ™¯ï¼š</h5>
<ul>
<li><strong>åšå®¢ã€æ–‡æ¡£ã€äº§å“å±•ç¤ºé¡µ</strong>ï¼ˆå¦‚ <strong>Next.js + Markdown åšå®¢</strong>ï¼‰ã€‚</li>
<li><strong>æ–°é—»ç«™ç‚¹ï¼ˆéå®æ—¶ï¼‰</strong> ã€‚</li>
<li><strong>é™æ€ç”µå•†é¡µé¢</strong>ï¼ˆå¦‚ Next.js + Shopifyï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-17">4.CSR / SSR / SSG å¯¹æ¯”</h4>

































<table><thead><tr><th>æ¸²æŸ“æ–¹å¼</th><th>HTML ç”Ÿæˆæ—¶æœº</th><th>æ˜¯å¦æ”¯æŒ SEO</th><th>é¦–å±é€Ÿåº¦</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>CSR</strong></td><td>æµè§ˆå™¨ç«¯</td><td>âŒ å·®</td><td>ğŸ¢ æ…¢</td><td>SPAã€åå°ç®¡ç†ç³»ç»Ÿ</td></tr><tr><td><strong>SSR</strong></td><td>è¯·æ±‚æ—¶</td><td>âœ… å¥½</td><td>ğŸš€ å¿«</td><td>SEO éœ€æ±‚é«˜ã€åŠ¨æ€æ•°æ®</td></tr><tr><td><strong>SSG</strong></td><td>æ„å»ºæ—¶</td><td>âœ… æœ€ä¼˜</td><td>âš¡ è¶…å¿«</td><td>åšå®¢ã€æ–‡æ¡£ã€é™æ€é¡µé¢</td></tr></tbody></table>
<p><strong>CSR</strong>æä¾›å¯Œäº¤äº’å’ŒåŠ¨æ€å†…å®¹ï¼Œèƒ½å¤Ÿå®ç°æµç•…çš„ç”¨æˆ·ä½“éªŒï¼Œé€‚ç”¨äºå•é¡µåº”ç”¨å’Œéœ€è¦å¤æ‚å‰ç«¯é€»è¾‘çš„åº”ç”¨ã€‚</p>
<p><strong>SSR</strong>æä¾›æ›´å¿«çš„é¦–æ¬¡åŠ è½½é€Ÿåº¦ã€SEOå‹å¥½å’Œè¾ƒå¥½çš„æ€§èƒ½ï¼Œé€‚ç”¨äºéœ€è¦å¤æ‚äº¤äº’å’Œå¯¹SEOé‡è§†çš„åº”ç”¨ã€‚</p>
<p><strong>SSG</strong>æä¾›æ›´å¿«çš„åŠ è½½é€Ÿåº¦ã€SEOå‹å¥½å’Œè¾ƒå¥½çš„å¯è®¿é—®æ€§ï¼Œé€‚ç”¨äºå†…å®¹ç›¸å¯¹ç¨³å®šã€å¯¹SEOè¦æ±‚è¾ƒé«˜æˆ–éœ€è¦æ›´å¿«åŠ è½½é€Ÿåº¦çš„åº”ç”¨ã€‚</p>
<h4 data-id="heading-18">5.åŒæ„ï¼ˆIsomorphicï¼‰æ¸²æŸ“</h4>
<p>ä¹Ÿå« <strong>æ··åˆæ¸²æŸ“ï¼ˆHybrid Renderingï¼‰</strong>ï¼Œç»“åˆäº†SSRå’ŒCSRçš„ä¼˜ç‚¹ï¼Œé¦–æ¬¡è¯·æ±‚ç”±æœåŠ¡å™¨æ¸²æŸ“é¡µé¢ï¼Œæä¾›å¿«é€Ÿçš„é¦–å±åŠ è½½å’Œè‰¯å¥½çš„SEOï¼Œä¹‹åçš„é¡µé¢äº¤äº’ç”±å®¢æˆ·ç«¯æ¥ç®¡ï¼Œæä¾›å¯Œäº¤äº’æ€§ã€‚è¿™ç§æ–¹å¼éœ€è¦æ›´å¤æ‚çš„é…ç½®å’Œæ¶æ„è®¾è®¡ï¼Œä½†å¯ä»¥æä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒå’Œæ€§èƒ½ã€‚</p>
<h4 data-id="heading-19">6.ISRï¼ˆå¢é‡é™æ€å†ç”Ÿï¼‰</h4>
<p>ISRï¼ˆIncremental Static Regenerationï¼‰ï¼ŒSSG çš„å¢å¼ºç‰ˆï¼Œå…è®¸<strong>éƒ¨åˆ†é¡µé¢åœ¨åå°è‡ªåŠ¨æ›´æ–°</strong>ï¼Œæ— éœ€æ‰‹åŠ¨é‡æ–°æ„å»ºã€‚</p>
<h4 data-id="heading-20">7.æ±‡æ€»</h4>
<p>Next.js æ˜¯ä¸€ä¸ª React æ¡†æ¶ï¼Œå¯ç”¨äºæ„å»º SSRã€CSR å’Œ SSG ç½‘ç«™å’Œåº”ç”¨ç¨‹åºï¼Œä¸”æ”¯æŒ<strong>åŒæ„æ¸²æŸ“</strong>å’Œ<strong>å¢é‡é™æ€å†ç”Ÿ</strong>ã€‚ ä»¥åŠæä¾›äº†è®¸å¤šå†…ç½®åŠŸèƒ½ï¼Œä¾‹å¦‚è·¯ç”±ã€æ•°æ®è·å–å’Œé¢„æ¸²æŸ“ï¼ŒNextjsä¸ä»…å½“å‰å¼ºå¤§ï¼Œè¿˜åœ¨ä¸æ–­è¿›åŒ–é€‚åˆä¼ä¸šé•¿æœŸä½¿ç”¨ã€‚</p>
<h3 data-id="heading-21">äºŒã€React 19æ–°ç‰¹æ€§</h3>
<h3 data-id="heading-22">ä¸‰ã€åŸºäºReact 19çš„Nextjs 15</h3>
<pre><code class="hljs language-vbnet" lang="vbnet">- devï¼šè¿è¡Œ<span class="hljs-keyword">next</span> devå¯åŠ¨ <span class="hljs-keyword">Next</span>.jså¼€å‘æ¨¡å¼ã€‚
- buildï¼šè¿è¡Œ<span class="hljs-keyword">next</span> buildæ„å»ºç”Ÿäº§åº”ç”¨åŒ…ã€‚
- startï¼šè¿è¡Œ<span class="hljs-keyword">next</span> startå¯åŠ¨ <span class="hljs-keyword">Next</span>.js ç”Ÿäº§åº”ç”¨åŒ…ã€‚
- lintï¼šè¿è¡Œ<span class="hljs-keyword">next</span> lintè®¾ç½® <span class="hljs-keyword">Next</span>.js çš„å†…ç½® ESLint é…ç½®ã€‚
</code></pre>
<h4 data-id="heading-23">1.æ ¸å¿ƒè§„åˆ™</h4>

























<table><thead><tr><th>ç»„ä»¶ç±»å‹</th><th>æ˜¯å¦éœ€è¦æ ‡è®°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>æœåŠ¡ç«¯ç»„ä»¶</strong></td><td>ä¸éœ€è¦æ ‡è®°ï¼ˆé»˜è®¤å¯ç”¨ï¼‰</td><td><code>.jsx</code>/<code>.tsx</code>Â æ–‡ä»¶é»˜è®¤å°±æ˜¯æœåŠ¡ç«¯ç»„ä»¶</td></tr><tr><td><strong>å®¢æˆ·ç«¯ç»„ä»¶</strong></td><td>å¿…é¡»åŠ Â <code>'use client'</code></td><td>ä»»ä½•éœ€è¦ useState/Effect/æµè§ˆå™¨ API çš„ç»„ä»¶</td></tr><tr><td><strong>æœåŠ¡ç«¯åŠ¨ä½œ</strong></td><td>å¿…é¡»åŠ Â <code>'use server'</code></td><td>å¤„ç†è¡¨å•æäº¤ç­‰æœåŠ¡å™¨ç«¯æ“ä½œçš„å‡½æ•°</td></tr></tbody></table>
<h5 data-id="heading-24">CSRå®¢æˆ·ç«¯ç»„ä»¶</h5>
<p>æ–‡ä»¶èµ·å¤´æ·»åŠ <code>use client</code>æ ‡è¯†ï¼Œå¯ä»¥ä½¿ç”¨æµè§ˆå™¨APi(å¦‚ï¼šlocalStorageç­‰)ï¼Œæ·»åŠ äº¤äº’æ€§äº‹ä»¶å’Œäº‹ä»¶ä¾¦å¬å™¨ã€‚</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">// pages/test01</span>
<span class="hljs-string">"use client"</span>
<span class="hljs-keyword">import</span> {useEffect, useState} <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;

<span class="hljs-keyword">export</span>  <span class="hljs-keyword">default</span>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">Test01</span> () {
    <span class="hljs-keyword">const</span> [name, setName] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">''</span>);

    <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-title function_">fetch</span>(...).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> <span class="hljs-title function_">setName</span>(res));
    }, [])
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>name: {name}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
}
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cf9ccc8ad4d74e58bd626e7de9a9f7d9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHVuX3hpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710209&amp;x-signature=HZ6QAddJwAucg6waF9mLM3DFSRY%3D" alt="image.png" loading="lazy"/></p>
<p>æµè§ˆå™¨ç¬¬ä¸€æ—¶é—´å¾—åˆ°çš„ç»“æœæ²¡æœ‰userNameå®é™…å€¼,ä¸åˆ©äºSEOï¼Œç»“æœéœ€è¦ç­‰å¾…è¯·æ±‚åˆ°çœŸå®æ•°æ®åï¼Œé€šè¿‡jsæ“ä½œdomè¿›è¡Œå›æ˜¾</p>
<h5 data-id="heading-25">SSRæœåŠ¡ç«¯ç»„ä»¶</h5>
<p><code>.jsx</code>/<code>.tsx</code>Â æ–‡ä»¶é»˜è®¤å°±æ˜¯æœåŠ¡ç«¯ç»„ä»¶ï¼Œå¯ä»¥ä½¿ç”¨å†…ç½®æ–¹æ³•<code>getServerSideProps</code>è·å–æœåŠ¡ç«¯æ•°æ®ï¼Œå¹¶ä»¥propså½¢å¼å›ä¼ ç»™å½“å‰ç»„ä»¶</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">// pages/test02</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">Test02</span> ({ name }: { <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> }) {

    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>name: {name}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getServerSideProps</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> name = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(...)
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">props</span>: { name }  }
}
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4752817c03994b5e82f08e8192376725~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHVuX3hpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710209&amp;x-signature=cUl8KhJ1rkcmtt7KwIvlZEfQ2W4%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨æœåŠ¡å™¨ä¸­è¯·æ±‚æ•°æ®åï¼Œç›´æ¥å°†æ•°æ®æ‹¼æ¥åˆ°htmlä¸­ï¼Œå¹¶å°†ç»„åˆå¥½æ•°æ®çš„htmlç»“æ„ä¼ ç»™æµè§ˆå™¨ï¼Œæœ‰åˆ©äºSEO</p>
<h5 data-id="heading-26">RSCæœåŠ¡å™¨ç»„ä»¶</h5>
<p><code>React Server Components</code>ä¹Ÿæ˜¯æœåŠ¡ç«¯æ¸²æŸ“ï¼Œæ˜¯åŸºäºSSRä¹‹ä¸Šçš„æ–¹æ¡ˆï¼Œåœ¨<code>/app</code>ç›®å½•ä¸‹åˆ›å»ºçš„é¡µé¢ï¼Œé»˜è®¤å°±æ˜¯RSCæœåŠ¡å™¨ç»„ä»¶</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// app/page.jsx (é»˜è®¤RSC)</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Page</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// ç›´æ¥ä½¿ç”¨ async/await è·å–æ•°æ®ã€è®¿é—®æ•°æ®åº“</span>
  <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(...)
  
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{data}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
}
</code></pre>
<p>é€šè¿‡æµå¼å¤„ç†ï¼ˆSuspense + lazyï¼‰ï¼Œæ‚¨å¯ä»¥ä»æœåŠ¡å™¨é€æ­¥å‘ˆç° UIã€‚å·¥ä½œè¢«æ‹†åˆ†ä¸ºå—ï¼Œå¹¶åœ¨å®¢æˆ·ç«¯å‡†å¤‡å°±ç»ªæ—¶æµå¼ä¼ è¾“åˆ°å®¢æˆ·ç«¯ã€‚è¿™å…è®¸ç”¨æˆ·åœ¨æ•´ä¸ªå†…å®¹å®Œæˆæ¸²æŸ“ä¹‹å‰ç«‹å³çœ‹åˆ°é¡µé¢çš„æŸäº›éƒ¨åˆ†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ac4d368ba91145918d4074f34ba9c5c1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHVuX3hpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710209&amp;x-signature=7ChevF0ttMiiUKwPy2f87Gc8680%3D" alt="image.png" loading="lazy"/></p>
<p>é€šè¿‡æµè§ˆå™¨æ’ä»¶<strong>React Developer Tools</strong>ï¼ŒæŸ¥çœ‹å½“å‰<code>app/page.jsx</code>é¡µé¢ç»„ä»¶å±‚çº§ï¼Œå³å¯çœ‹åˆ°å…¶åº•å±‚ç»„ä»¶å±‚çº§ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ed3faace70a4342993869fa47f3ca56~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHVuX3hpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710209&amp;x-signature=LTYqpJKAWvV8FsGDyWJiRrO8Uas%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-27">2.æœåŠ¡ç«¯ç»„ä»¶å’Œå®¢æˆ·ç«¯ç»„ä»¶ä½¿ç”¨æ ¸è§„åˆ™</h4>
<p><code>å°½é‡æ•´ä¸ªé¡µé¢ä¸ºæœåŠ¡å™¨ç»„ä»¶ï¼ˆRSCï¼‰</code>ï¼Œå³å¯çµæ´»å¼•å…¥å„ç±»å‹ç»„ä»¶ã€‚</p>
<h5 data-id="heading-28">å®¢æˆ·ç«¯ç»„ä»¶</h5>
<ul>
<li>å®¢æˆ·ç«¯ç»„ä»¶å­ç»„ä»¶å¿…é¡»æ˜¯å®¢æˆ·ç«¯ç»„ä»¶</li>
</ul>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">// src/components/Header</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Header</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(...);
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            header
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
}

<span class="hljs-comment">// src/pages/page1</span>
<span class="hljs-string">"use client"</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Header</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"@/components/Header"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Page1</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Page1<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Header</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
}
</code></pre>
<p>Headerä¸ºæœåŠ¡ç«¯ç»„ä»¶ï¼Œä½œä¸ºå­ç»„ä»¶è¢«å®¢æˆ·ç«¯ç»„ä»¶å¼•ç”¨æ—¶ï¼Œé¡µé¢æŠ¥é”™ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4b43b9e6f48d4c0a877d5f745b427ec9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHVuX3hpbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710209&amp;x-signature=PgmQmEU9PfktYUeSaSa2ialSYJo%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>
<p>æœåŠ¡å™¨ç»„ä»¶å¯ä»¥ä½œä¸ºå®¢æˆ·ç«¯ç»„ä»¶çš„æ’æ§½</p>
</li>
<li>
<p>æœåŠ¡å™¨ç»„ä»¶å¯ä»¥ä½œä¸ºå®¢æˆ·ç«¯ç»„ä»¶çš„å±æ€§</p>
</li>
<li>
<p>Contextç»„ä»¶é€šä¿¡å¿…é¡»åœ¨å®¢æˆ·ç«¯ç»„ä»¶ä¸­æ¥å®Œæˆ</p>
</li>
</ul>
<h5 data-id="heading-29">æœåŠ¡å™¨ç»„ä»¶</h5>
<ul>
<li>æœåŠ¡å™¨ç»„ä»¶å’Œå®¢æˆ·ç«¯ç»„ä»¶éƒ½èƒ½ä½œä¸ºæœåŠ¡å™¨ç»„ä»¶å­ç»„ä»¶</li>
</ul>
<h5 data-id="heading-30">å¤–éƒ¨ä¾èµ–ç»„ä»¶</h5>
<ul>
<li>å¦‚æœå½“å‰é¡µé¢éœ€è¦å¼•å…¥å¤–éƒ¨ä¾èµ–ä¸­çš„ç»„ä»¶æŠ¥é”™ï¼Œå¯èƒ½æ˜¯å¤–éƒ¨ä¾èµ–ç»„ä»¶æ²¡æœ‰ä½¿ç”¨<code>use client</code>æ ‡è¯†ï¼Œå¯¼è‡´å°†å…¶ä½œä¸ºæœåŠ¡ç«¯ç»„ä»¶è¿›è¡Œä½¿ç”¨ä»è€Œä½ æŠ¥é”™ï¼Œå¯åˆ›å»ºå®¢æˆ·ç«¯ç»„ä»¶åŒ…è£¹ä¾èµ–ç»„ä»¶å³å¯ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ«å†åªä¼šç”¨é»˜è®¤æ’æ§½äº†ï¼Vueæ’æ§½è¿™äº›é«˜çº§ç”¨æ³•è®©ä½ çš„ç»„ä»¶æ›´å¼ºå¤§]]></title>    <link>https://juejin.cn/post/7571646669202538538</link>    <guid>https://juejin.cn/post/7571646669202538538</guid>    <pubDate>2025-11-12T23:25:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571646669202538538" data-draft-id="7571646669202522154" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ«å†åªä¼šç”¨é»˜è®¤æ’æ§½äº†ï¼Vueæ’æ§½è¿™äº›é«˜çº§ç”¨æ³•è®©ä½ çš„ç»„ä»¶æ›´å¼ºå¤§"/> <meta itemprop="keywords" content="Vue.js,JavaScript,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-12T23:25:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‰¯å±±æœ‰é£æ¥"/> <meta itemprop="url" content="https://juejin.cn/user/3940246036939358"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ«å†åªä¼šç”¨é»˜è®¤æ’æ§½äº†ï¼Vueæ’æ§½è¿™äº›é«˜çº§ç”¨æ³•è®©ä½ çš„ç»„ä»¶æ›´å¼ºå¤§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3940246036939358/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‰¯å±±æœ‰é£æ¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-12T23:25:52.000Z" title="Wed Nov 12 2025 23:25:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    11
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½ æ˜¯ä¸æ˜¯ç»å¸¸é‡åˆ°è¿™æ ·çš„æƒ…å†µï¼šå†™äº†ä¸€ä¸ªé€šç”¨ç»„ä»¶ï¼Œå´å‘ç°æœ‰äº›åœ°æ–¹éœ€è¦å¾®è°ƒæ ·å¼ï¼Œæœ‰äº›åœ°æ–¹éœ€è¦æ›¿æ¢éƒ¨åˆ†å†…å®¹ï¼Œä½†åˆä¸æƒ³ä¸ºäº†è¿™ç‚¹å°æ”¹åŠ¨å°±å†™ä¸€ä¸ªæ–°çš„ç»„ä»¶ï¼Ÿ</p>
<p>å¦‚æœä½ è¿˜åœ¨ç”¨é»˜è®¤æ’æ§½æ¥è§£å†³æ‰€æœ‰é—®é¢˜ï¼Œé‚£çœŸçš„æœ‰ç‚¹outäº†ã€‚ä»Šå¤©æˆ‘è¦åˆ†äº«çš„Vueæ’æ§½é«˜çº§ç”¨æ³•ï¼Œèƒ½è®©ä½ çš„ç»„ä»¶çµæ´»åº¦æå‡å¥½å‡ ä¸ªlevelï¼</p>
<p>è¯»å®Œè¿™ç¯‡æ–‡ç« ï¼Œä½ ä¼šå½»åº•ææ‡‚ä½œç”¨åŸŸæ’æ§½å’Œå…·åæ’æ§½çš„å®æˆ˜æŠ€å·§ï¼Œè®©ä½ çš„ç»„ä»¶åƒä¹é«˜ä¸€æ ·å¯ä»¥éšæ„ç»„åˆï¼Œå†ä¹Ÿä¸ç”¨æ‹…å¿ƒäº§å“ç»ç†é‚£äº›â€œç¨å¾®æ”¹ä¸€ä¸‹â€çš„éœ€æ±‚äº†ã€‚</p>
<h2 data-id="heading-0">ä»åŸºç¡€å¼€å§‹ï¼šæ’æ§½åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>å…ˆæ¥ä¸ªç®€å•çš„å›å¿†ã€‚æ’æ§½å°±æ˜¯Vueç»„ä»¶é‡Œçš„ä¸€ä¸ªå ä½ç¬¦ï¼Œè®©ä½¿ç”¨ç»„ä»¶çš„æ—¶å€™å¯ä»¥å¾€é‡Œé¢å¡è‡ªå®šä¹‰å†…å®¹ã€‚</p>
<p>çœ‹ä¸ªæœ€ç®€å•çš„ä¾‹å­ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªå¸¦æ’æ§½çš„ç»„ä»¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">MyComponent</span> = {
  <span class="hljs-attr">template</span>: <span class="hljs-string">`
    &lt;div class="container"&gt;
      &lt;h2&gt;æˆ‘æ˜¯ç»„ä»¶æ ‡é¢˜&lt;/h2&gt;
      &lt;slot&gt;&lt;/slot&gt;
    &lt;/div&gt;
  `</span>
}

<span class="hljs-comment">// ä½¿ç”¨è¿™ä¸ªç»„ä»¶</span>
&lt;my-component&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>è¿™é‡Œçš„å†…å®¹ä¼šæ˜¾ç¤ºåœ¨slotçš„ä½ç½®<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span>
&lt;/my-component&gt;
</code></pre>
<p>è¿™ä¸ªå°±æ˜¯æœ€åŸºæœ¬çš„é»˜è®¤æ’æ§½ã€‚ä½†ç°å®å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°æ›´å¤æ‚çš„éœ€æ±‚ï¼Œè¿™æ—¶å€™å°±éœ€è¦æ›´é«˜çº§çš„ç©æ³•äº†ã€‚</p>
<h2 data-id="heading-1">å…·åæ’æ§½ï¼šå¤šä¸ªæ’æ§½æ€ä¹ˆç®¡ç†ï¼Ÿ</h2>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ è¦åšä¸€ä¸ªå¡ç‰‡ç»„ä»¶ï¼Œè¿™ä¸ªå¡ç‰‡æœ‰å¤´éƒ¨ã€ä¸»ä½“ã€åº•éƒ¨ä¸‰ä¸ªéƒ¨åˆ†ï¼Œæ¯ä¸ªéƒ¨åˆ†éƒ½éœ€è¦è‡ªå®šä¹‰å†…å®¹ã€‚å¦‚æœè¿˜ç”¨é»˜è®¤æ’æ§½ï¼Œä»£ç å°±ä¼šå˜å¾—å¾ˆæ··ä¹±ã€‚</p>
<p>è¿™æ—¶å€™å…·åæ’æ§½å°±æ´¾ä¸Šç”¨åœºäº†ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¡ç‰‡ç»„ä»¶å®šä¹‰</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">CardComponent</span> = {
  <span class="hljs-attr">template</span>: <span class="hljs-string">`
    &lt;div class="card"&gt;
      &lt;div class="card-header"&gt;
        &lt;slot name="header"&gt;&lt;/slot&gt;
      &lt;/div&gt;
      &lt;div class="card-body"&gt;
        &lt;slot name="body"&gt;&lt;/slot&gt;
      &lt;/div&gt;
      &lt;div class="card-footer"&gt;
        &lt;slot name="footer"&gt;&lt;/slot&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  `</span>
}
</code></pre>
<p>ä½¿ç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·ç»™ä¸åŒçš„æ’æ§½ä¼ é€’å†…å®¹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">&lt;card-component&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-slot:header</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>è¿™æ˜¯å¡ç‰‡æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>
  
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-slot:body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>è¿™æ˜¯å¡ç‰‡çš„ä¸»ä½“å†…å®¹ï¼Œå¯ä»¥æ”¾ä»»ä½•ä½ æƒ³æ”¾çš„ä¸œè¥¿<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>ç‚¹å‡»æˆ‘<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>
  
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-slot:footer</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>åº•éƒ¨ä¿¡æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#"</span>&gt;</span>é“¾æ¥<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>
&lt;/card-component&gt;
</code></pre>
<p>çœ‹åˆ°æ²¡ï¼Ÿæ¯ä¸ªéƒ¨åˆ†éƒ½æ¸…æ™°æ˜äº†ï¼Œå†ä¹Ÿä¸ç”¨åœ¨é»˜è®¤æ’æ§½é‡Œå †ç Œä¸€å †divè¿˜è¦ç”¨CSSæ¥æ§åˆ¶å¸ƒå±€äº†ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸ªå°æŠ€å·§ï¼Œv-slot:headerå¯ä»¥ç®€å†™æˆ#headerï¼Œå†™èµ·æ¥æ›´ç®€æ´ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">&lt;card-component&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">header</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>ç®€æ´å†™æ³•<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>
&lt;/card-component&gt;
</code></pre>
<h2 data-id="heading-2">ä½œç”¨åŸŸæ’æ§½ï¼šè®©æ’æ§½å†…å®¹è®¿é—®ç»„ä»¶æ•°æ®</h2>
<p>è¿™æ‰æ˜¯ä»Šå¤©çš„å¤§æ‹›ï¼ä½œç”¨åŸŸæ’æ§½å…è®¸æ’æ§½å†…å®¹è®¿é—®å­ç»„ä»¶ä¸­çš„æ•°æ®ï¼Œè¿™è®©ç»„ä»¶çš„çµæ´»æ€§è¾¾åˆ°äº†æ–°çš„é«˜åº¦ã€‚</p>
<p>ä¸¾ä¸ªå®é™…ä¾‹å­ï¼šæˆ‘ä»¬è¦åšä¸€ä¸ªæ•°æ®åˆ—è¡¨ç»„ä»¶ï¼Œä½†å¸Œæœ›ä½¿ç”¨ç»„ä»¶çš„äººå¯ä»¥è‡ªå®šä¹‰æ¯è¡Œæ€ä¹ˆæ˜¾ç¤ºã€‚</p>
<p>å…ˆçœ‹ä¼ ç»Ÿçš„åšæ³•æœ‰ä»€ä¹ˆé—®é¢˜ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¼ ç»Ÿåšæ³• - çµæ´»æ€§å¾ˆå·®</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">DataList</span> = {
  <span class="hljs-attr">props</span>: [<span class="hljs-string">'items'</span>],
  <span class="hljs-attr">template</span>: <span class="hljs-string">`
    &lt;ul&gt;
      &lt;li v-for="item in items" :key="item.id"&gt;
        {{ item.name }} - {{ item.price }}
      &lt;/li&gt;
    &lt;/ul&gt;
  `</span>
}
</code></pre>
<p>è¿™æ ·å†™æ­»çš„è¯ï¼Œå¦‚æœå…¶ä»–åœ°æ–¹éœ€è¦æ˜¾ç¤ºä¸åŒçš„å­—æ®µï¼Œå°±å¾—é‡æ–°å†™ä¸€ä¸ªç»„ä»¶ã€‚å¤ªéº»çƒ¦äº†ï¼</p>
<p>ç°åœ¨çœ‹ä½œç”¨åŸŸæ’æ§½çš„è§£å†³æ–¹æ¡ˆï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä½¿ç”¨ä½œç”¨åŸŸæ’æ§½çš„çµæ´»ç‰ˆæœ¬</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">FlexibleList</span> = {
  <span class="hljs-attr">props</span>: [<span class="hljs-string">'items'</span>],
  <span class="hljs-attr">template</span>: <span class="hljs-string">`
    &lt;ul&gt;
      &lt;li v-for="item in items" :key="item.id"&gt;
        &lt;slot :item="item"&gt;&lt;/slot&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  `</span>
}
</code></pre>
<p>ä½¿ç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·è‡ªå®šä¹‰æ¯è¡Œçš„æ˜¾ç¤ºï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">&lt;flexible-list :items=<span class="hljs-string">"productList"</span>&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-slot</span>=<span class="hljs-string">"slotProps"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"product-item"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>{{ slotProps.item.name }}<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"price"</span>&gt;</span>Â¥{{ slotProps.item.price }}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"addToCart(slotProps.item)"</span>&gt;</span>åŠ å…¥è´­ç‰©è½¦<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>
&lt;/flexible-list&gt;
</code></pre>
<p>è¿™é‡Œçš„å…³é”®åœ¨äºï¼Œæˆ‘ä»¬åœ¨slotä¸Šç»‘å®šäº†itemæ•°æ®ï¼Œç„¶ååœ¨çˆ¶ç»„ä»¶ä¸­é€šè¿‡slotPropsæ¥æ¥æ”¶è¿™äº›æ•°æ®ã€‚è¿™æ ·ï¼Œä½¿ç”¨ç»„ä»¶çš„äººå°±å¯ä»¥å®Œå…¨æ§åˆ¶æ€ä¹ˆæ˜¾ç¤ºæ¯ä¸ªitemäº†ã€‚</p>
<h2 data-id="heading-3">å®æˆ˜è¿›é˜¶ï¼šä½œç”¨åŸŸæ’æ§½ + å…·åæ’æ§½ç»„åˆä½¿ç”¨</h2>
<p>çœŸæ­£å¼ºå¤§çš„æ—¶å€™æ˜¯å½“ä½œç”¨åŸŸæ’æ§½å’Œå…·åæ’æ§½ç»“åˆä½¿ç”¨çš„æ—¶å€™ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªæ›´å¤æ‚çš„ä¾‹å­ï¼šä¸€ä¸ªå®Œæ•´çš„æ•°æ®è¡¨æ ¼ç»„ä»¶ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é«˜çº§è¡¨æ ¼ç»„ä»¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">AdvancedTable</span> = {
  <span class="hljs-attr">props</span>: [<span class="hljs-string">'data'</span>, <span class="hljs-string">'columns'</span>],
  <span class="hljs-attr">template</span>: <span class="hljs-string">`
    &lt;div class="table-wrapper"&gt;
      &lt;table&gt;
        &lt;!-- è¡¨å¤´éƒ¨åˆ† --&gt;
        &lt;thead&gt;
          &lt;tr&gt;
            &lt;th v-for="col in columns" :key="col.key"&gt;
              &lt;slot name="header" :column="col"&gt;
                {{ col.title }}
              &lt;/slot&gt;
            &lt;/th&gt;
          &lt;/tr&gt;
        &lt;/thead&gt;
        
        &lt;!-- è¡¨æ ¼ä¸»ä½“ --&gt;
        &lt;tbody&gt;
          &lt;tr v-for="(row, index) in data" :key="row.id"&gt;
            &lt;td v-for="col in columns" :key="col.key"&gt;
              &lt;slot 
                name="cell" 
                :row="row" 
                :column="col"
                :index="index"
              &gt;
                {{ row[col.key] }}
              &lt;/slot&gt;
            &lt;/td&gt;
          &lt;/tr&gt;
        &lt;/tbody&gt;
        
        &lt;!-- è¡¨æ ¼åº•éƒ¨ --&gt;
        &lt;tfoot&gt;
          &lt;slot name="footer" :data="data"&gt;&lt;/slot&gt;
        &lt;/tfoot&gt;
      &lt;/table&gt;
    &lt;/div&gt;
  `</span>
}
</code></pre>
<p>è¿™ä¸ªç»„ä»¶æä¾›äº†æå¤§çš„çµæ´»æ€§ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">&lt;advanced-table 
  :data=<span class="hljs-string">"userList"</span> 
  :columns=<span class="hljs-string">"tableColumns"</span>
&gt;
  &lt;!-- è‡ªå®šä¹‰è¡¨å¤´ --&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">header</span>=<span class="hljs-string">"slotProps"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"custom-header"</span>&gt;</span>
      {{ slotProps.column.title }}
      <span class="hljs-tag">&lt;<span class="hljs-name">i</span> 
        <span class="hljs-attr">v-if</span>=<span class="hljs-string">"slotProps.column.sortable"</span> 
        <span class="hljs-attr">class</span>=<span class="hljs-string">"sort-icon"</span>
        @<span class="hljs-attr">click</span>=<span class="hljs-string">"sortTable(slotProps.column)"</span>
      &gt;</span>â†‘â†“<span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>
  
  &lt;!-- è‡ªå®šä¹‰å•å…ƒæ ¼ --&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">cell</span>=<span class="hljs-string">"slotProps"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"slotProps.column.key === 'avatar'"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">img</span> 
        <span class="hljs-attr">:src</span>=<span class="hljs-string">"slotProps.row.avatar"</span> 
        <span class="hljs-attr">:alt</span>=<span class="hljs-string">"slotProps.row.name"</span>
        <span class="hljs-attr">class</span>=<span class="hljs-string">"avatar"</span>
      &gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-else-if</span>=<span class="hljs-string">"slotProps.column.key === 'status'"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> 
        <span class="hljs-attr">:class</span>=<span class="hljs-string">"`status-badge status-${slotProps.row.status}`"</span>
      &gt;</span>
        {{ getStatusText(slotProps.row.status) }}
      <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-else</span>&gt;</span>
      {{ slotProps.row[slotProps.column.key] }}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
  
  <span class="hljs-comment">&lt;!-- è‡ªå®šä¹‰åº•éƒ¨ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">footer</span>=<span class="hljs-string">"slotProps"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">:colspan</span>=<span class="hljs-string">"tableColumns.length"</span>&gt;</span>
        å…± {{ slotProps.data.length }} æ¡æ•°æ®
      <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">advanced-table</span>&gt;</span></span>
</code></pre>
<p>è¿™æ ·çš„ç»„ä»¶æ—¢ä¿æŒäº†ç»Ÿä¸€çš„è¡¨æ ¼åŠŸèƒ½ï¼Œåˆç»™äº†ä½¿ç”¨è€…æœ€å¤§çš„è‡ªå®šä¹‰ç©ºé—´ã€‚</p>
<h2 data-id="heading-4">å®é™…ä¸šåŠ¡åœºæ™¯ï¼šé…ç½®åŒ–è¡¨å•ç”Ÿæˆå™¨</h2>
<p>æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªæ›´è´´è¿‘å®é™…ä¸šåŠ¡çš„ä¾‹å­ã€‚å¾ˆå¤šç®¡ç†ç³»ç»Ÿéƒ½éœ€è¦åŠ¨æ€è¡¨å•ï¼Œæ ¹æ®é…ç½®æ¸²æŸ“ä¸åŒçš„è¡¨å•é¡¹ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åŠ¨æ€è¡¨å•ç»„ä»¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">DynamicForm</span> = {
  <span class="hljs-attr">props</span>: [<span class="hljs-string">'fields'</span>, <span class="hljs-string">'formData'</span>],
  <span class="hljs-attr">template</span>: <span class="hljs-string">`
    &lt;form class="dynamic-form"&gt;
      &lt;div 
        v-for="field in fields" 
        :key="field.name"
        class="form-field"
      &gt;
        &lt;label&gt;{{ field.label }}&lt;/label&gt;
        
        &lt;slot 
          name="field" 
          :field="field" 
          :value="formData[field.name]"
          :onChange="(val) =&gt; $emit('update:formData', {
            ...formData,
            [field.name]: val
          })"
        &gt;
          &lt;!-- é»˜è®¤çš„è¡¨å•æ¸²æŸ“ --&gt;
          &lt;input 
            v-if="field.type === 'text'"
            :type="field.type"
            :value="value"
            @input="onChange($event.target.value)"
            :placeholder="field.placeholder"
          &gt;
          
          &lt;select 
            v-else-if="field.type === 'select'"
            :value="value"
            @change="onChange($event.target.value)"
          &gt;
            &lt;option 
              v-for="option in field.options" 
              :key="option.value"
              :value="option.value"
            &gt;
              {{ option.label }}
            &lt;/option&gt;
          &lt;/select&gt;
        &lt;/slot&gt;
        
        &lt;!-- é”™è¯¯ä¿¡æ¯æ’æ§½ --&gt;
        &lt;slot 
          name="error" 
          :field="field"
          :errors="fieldErrors[field.name]"
        &gt;
          &lt;div 
            v-if="fieldErrors[field.name]" 
            class="error-message"
          &gt;
            {{ fieldErrors[field.name] }}
          &lt;/div&gt;
        &lt;/slot&gt;
      &lt;/div&gt;
    &lt;/form&gt;
  `</span>
}
</code></pre>
<p>ä½¿ç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥å®Œå…¨é‡å†™æŸä¸ªå­—æ®µçš„æ¸²æŸ“æ–¹å¼ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">&lt;dynamic-form 
  :fields=<span class="hljs-string">"formConfig"</span> 
  :form-data=<span class="hljs-string">"formData"</span>
  @<span class="hljs-attr">update</span>:form-data=<span class="hljs-string">"handleFormUpdate"</span>
&gt;
  &lt;!-- è‡ªå®šä¹‰å¤´åƒä¸Šä¼ å­—æ®µ --&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">field</span>=<span class="hljs-string">"slotProps"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"slotProps.field.name === 'avatar'"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">image-uploader</span>
        <span class="hljs-attr">:value</span>=<span class="hljs-string">"slotProps.value"</span>
        @<span class="hljs-attr">change</span>=<span class="hljs-string">"slotProps.onChange"</span>
      /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- å…¶ä»–å­—æ®µä½¿ç”¨é»˜è®¤æ¸²æŸ“ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-else</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>
  
  &lt;!-- è‡ªå®šä¹‰é”™è¯¯æç¤ºæ ·å¼ --&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">error</span>=<span class="hljs-string">"slotProps"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> 
      <span class="hljs-attr">v-if</span>=<span class="hljs-string">"slotProps.errors"</span> 
      <span class="hljs-attr">class</span>=<span class="hljs-string">"my-custom-error"</span>
    &gt;</span>
      âŒ {{ slotProps.errors }}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>
&lt;/dynamic-form&gt;
</code></pre>
<h2 data-id="heading-5">æ€§èƒ½ä¼˜åŒ–å’Œæœ€ä½³å®è·µ</h2>
<p>è™½ç„¶ä½œç”¨åŸŸæ’æ§½å¾ˆå¼ºå¤§ï¼Œä½†ä¹Ÿè¦æ³¨æ„ä¸€äº›ä½¿ç”¨æŠ€å·§ï¼š</p>
<ol>
<li>
<p><strong>é¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“</strong></p>
<p>ä½œç”¨åŸŸæ’æ§½æ¯æ¬¡éƒ½ä¼šåˆ›å»ºæ–°çš„ä½œç”¨åŸŸï¼Œå¦‚æœæ•°æ®æ²¡å˜ä½†ç»„ä»¶é‡æ–°æ¸²æŸ“äº†ï¼Œå¯èƒ½æ˜¯ä½œç”¨åŸŸæ’æ§½å¯¼è‡´çš„ã€‚</p>
</li>
<li>
<p><strong>åˆç†ä½¿ç”¨é»˜è®¤å†…å®¹</strong></p>
<p>ç»™æ’æ§½æä¾›åˆç†çš„é»˜è®¤å†…å®¹ï¼Œè®©ç»„ä»¶å¼€ç®±å³ç”¨ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">&lt;slot name=<span class="hljs-string">"empty"</span>&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"empty-state"</span>&gt;</span>
    æš‚æ— æ•°æ®
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
&lt;/slot&gt;
</code></pre>
</li>
<li>
<p><strong>ä½¿ç”¨è§£æ„è®©ä»£ç æ›´æ¸…æ™°</strong></p>
<p>ä½œç”¨åŸŸæ’æ§½çš„å‚æ•°å¯ä»¥ä½¿ç”¨è§£æ„ï¼Œè®©æ¨¡æ¿æ›´ç®€æ´ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">&lt;template #item=<span class="hljs-string">"{ id, name, price }"</span>&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{{ name }} - {{ price }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
&lt;/template&gt;
</code></pre>
</li>
</ol>
<h2 data-id="heading-6">æ€»ç»“</h2>
<p>Vueæ’æ§½çš„é«˜çº§ç”¨æ³•çœŸçš„èƒ½è®©ä½ çš„ç»„ä»¶å¼€å‘ä½“éªŒå®Œå…¨ä¸åŒã€‚å…·åæ’æ§½è§£å†³äº†å¤šæ’æ§½ç®¡ç†çš„éš¾é¢˜ï¼Œä½œç”¨åŸŸæ’æ§½åˆ™æ‰“ç ´äº†çˆ¶å­ç»„ä»¶çš„æ•°æ®éš”ç¦»ï¼Œè®©ç»„ä»¶æ—¢ä¿æŒå°è£…æ€§åˆå…·å¤‡çµæ´»æ€§ã€‚</p>
<p>è®°ä½è¿™ä¸ªè¿›é˜¶è·¯å¾„ï¼šé»˜è®¤æ’æ§½ â†’ å…·åæ’æ§½ â†’ ä½œç”¨åŸŸæ’æ§½ â†’ ç»„åˆä½¿ç”¨ã€‚æ¯æŒæ¡ä¸€ä¸ªå±‚æ¬¡ï¼Œä½ çš„ç»„ä»¶è®¾è®¡èƒ½åŠ›å°±æå‡ä¸€ä¸ªæ¡£æ¬¡ã€‚</p>
<p>ç°åœ¨å›å¤´çœ‹çœ‹ä½ é¡¹ç›®é‡Œçš„é‚£äº›é€šç”¨ç»„ä»¶ï¼Œæ˜¯ä¸æ˜¯æœ‰å¾ˆå¤šåœ°æ–¹å¯ä»¥ç”¨ä»Šå¤©å­¦åˆ°çš„æŠ€å·§æ¥é‡æ„ï¼ŸåŠ¨æ‰‹è¯•è¯•å§ï¼Œä½ ä¼šæƒŠè®¶äºç»„ä»¶çµæ´»åº¦æå‡å¸¦æ¥çš„å¼€å‘æ•ˆç‡å˜åŒ–ï¼</p>
<p>å¦‚æœä½ åœ¨å®æˆ˜ä¸­é‡åˆ°äº†æœ‰è¶£çš„é—®é¢˜æˆ–è€…æœ‰æ›´å¥½çš„ç”¨æ³•ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„ç»éªŒï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[7 æ¬¾æœ€ä½³è‡ªæ‰˜ç®¡ AI å·¥å…·ï¼Œå¿«é€Ÿæ„å»ºä¸šåŠ¡åº”ç”¨]]></title>    <link>https://juejin.cn/post/7572138663121518634</link>    <guid>https://juejin.cn/post/7572138663121518634</guid>    <pubDate>2025-11-14T07:40:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572138663121518634" data-draft-id="7572137760447922217" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="7 æ¬¾æœ€ä½³è‡ªæ‰˜ç®¡ AI å·¥å…·ï¼Œå¿«é€Ÿæ„å»ºä¸šåŠ¡åº”ç”¨"/> <meta itemprop="keywords" content="å¼€æº,èµ„è®¯,ä½ä»£ç "/> <meta itemprop="datePublished" content="2025-11-14T07:40:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="NocoBase"/> <meta itemprop="url" content="https://juejin.cn/user/180779873743566"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            7 æ¬¾æœ€ä½³è‡ªæ‰˜ç®¡ AI å·¥å…·ï¼Œå¿«é€Ÿæ„å»ºä¸šåŠ¡åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/180779873743566/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    NocoBase
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T07:40:44.000Z" title="Fri Nov 14 2025 07:40:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2F7-self-hosted-ai-tools-build-business-app" target="_blank" title="https://www.nocobase.com/cn/blog/7-self-hosted-ai-tools-build-business-app" ref="nofollow noopener noreferrer">www.nocobase.com/cn/blog/7-sâ€¦</a></p>
<p>è¿‡å»ä¸€å¹´ï¼Œæˆ‘ä»¬ä¸€ç›´åœ¨æŒç»­å…³æ³¨è‡ªæ‰˜ç®¡ç”Ÿæ€ã€‚</p>
<p>ä»æœ€åˆçš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fthe-ultimate-guide-to-awesome-self-hosted-solutions" target="_blank" title="https://www.nocobase.com/cn/blog/the-ultimate-guide-to-awesome-self-hosted-solutions" ref="nofollow noopener noreferrer">ç³»ç»Ÿæ­å»ºæŒ‡å—</a>ï¼Œå†åˆ°åæ¥çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fdata-transformation-tools" target="_blank" title="https://www.nocobase.com/cn/blog/data-transformation-tools" ref="nofollow noopener noreferrer">æ•°æ®ç®¡ç†ä¸å·¥å…·æ¨è</a>ï¼Œä¸ºäº†å¸®åŠ©å¼€å‘è€…å¿«é€Ÿäº†è§£è¡Œä¸šè¶‹åŠ¿ï¼Œæˆ‘ä»¬è¿˜æ•´ç†äº†<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fself-hsosted-projects-list" target="_blank" title="https://www.nocobase.com/cn/blog/self-hsosted-projects-list" ref="nofollow noopener noreferrer">ã€ŠGitHub Star æ•°é‡å‰ 13 çš„è‡ªæ‰˜ç®¡é¡¹ç›®ã€‹</a>ï¼Œç›˜ç‚¹äº†åŒ…æ‹¬å·¥ä½œæµã€Git ç®¡ç†ã€ä½ä»£ç ã€æ—¥å¿—åˆ†æç­‰çš„çƒ­é—¨é¡¹ç›®ã€‚</p>
<p>éšç€ AI çš„åŠ å…¥ï¼Œè‡ªæ‰˜ç®¡ç”Ÿæ€æ­£åœ¨è¿›å…¥ä¸€ä¸ªæ›´å®ç”¨çš„é˜¶æ®µã€‚</p>
<p>è¶Šæ¥è¶Šå¤šçš„å¹³å°å¼€å§‹å°† AI èå…¥ç³»ç»Ÿï¼Œå®ƒä¸ä»…èƒ½åœ¨æœ¬åœ°è¯»å–æ•°æ®ã€ç”Ÿæˆå†…å®¹ã€æ‰§è¡Œä»»åŠ¡ï¼Œè¿˜èƒ½ç›´æ¥å‚ä¸ä¸šåŠ¡æµç¨‹ï¼Œä»¥æ›´çµæ´»ã€æ›´å®‰å…¨çš„æ–¹å¼ä¸ºå›¢é˜Ÿèµ‹èƒ½ã€‚</p>
<p>è¿™ç¯‡æ–‡ç« æˆ‘ä»¬ä»ä¸€ä¸ªæ–°çš„è§’åº¦åˆ‡å…¥ï¼š</p>
<blockquote>
<p>å½“äººå·¥æ™ºèƒ½ä¸è‡ªæ‰˜ç®¡ç»“åˆï¼Œå“ªäº›å·¥å…·çœŸæ­£èƒ½åŠ é€Ÿå•†ä¸šåº”ç”¨å¼€å‘ï¼Ÿ</p>
</blockquote>
<p>æˆ‘ä»¬æŒ‘é€‰äº†7 æ¬¾å€¼å¾—å…³æ³¨çš„é¡¹ç›®ã€‚</p>
<p>å®ƒä»¬éƒ½æ”¯æŒè‡ªä¸»éƒ¨ç½²ï¼ˆSelf-Hostedï¼‰ï¼Œå¹¶èƒ½åœ¨ç¡®ä¿æ•°æ®éšç§ä¸çµæ´»æ‰©å±•çš„å‰æä¸‹ï¼Œå¸®åŠ©å›¢é˜Ÿå¿«é€Ÿæ„å»ºå‡ºå…·å¤‡ AI èƒ½åŠ›çš„å•†ä¸šç³»ç»Ÿã€‚</p>
<hr/>
<p>ğŸ’¬ å—¨ï¼ä½ æ­£åœ¨é˜…è¯» NocoBase åšå®¢ã€‚NocoBase æ˜¯ä¸€ä¸ªææ˜“æ‰©å±•çš„ AI æ— ä»£ç /ä½ä»£ç å¼€å‘å¹³å°ï¼Œç”¨äºæ„å»ºä¼ä¸šåº”ç”¨ã€å†…éƒ¨å·¥å…·å’Œå„ç±»ç³»ç»Ÿã€‚å®ƒå®Œå…¨æ”¯æŒè‡ªæ‰˜ç®¡ï¼ŒåŸºäºæ’ä»¶æ¶æ„è®¾è®¡ï¼Œå¼€å‘è€…å‹å¥½ã€‚â†’ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase" target="_blank" title="https://github.com/nocobase/nocobase" ref="nofollow noopener noreferrer">æ¬¢è¿åœ¨ GitHub ä¸Šäº†è§£æˆ‘ä»¬</a></p>
<hr/>
<h2 data-id="heading-0">å¿«é€Ÿæµè§ˆ</h2>
<ol>
<li><strong>NocoBase</strong> â€”â€” æ— ä»£ç  / ä½ä»£ç å¼€å‘å¹³å°ï¼ˆAI å‘˜å·¥ååŒå®Œæˆä¸šåŠ¡æµç¨‹ä¸æ™ºèƒ½åˆ†æï¼‰</li>
<li><strong>Flowise AI</strong> â€”â€” å¯è§†åŒ– AI å·¥ä½œæµæ„å»ºå™¨ï¼ˆåŸºäº LangChainï¼‰</li>
<li><strong>AnythingLLM</strong> â€”â€” ç§æœ‰çŸ¥è¯†åº“ä¸ä¼ä¸šé—®ç­”ç³»ç»Ÿï¼ˆæ”¯æŒ RAGï¼‰</li>
<li><strong>SuperAGI</strong> â€”â€” å¤šæ™ºèƒ½ä½“åä½œæ¡†æ¶ï¼ˆAI Agents è‡ªä¸»æ‰§è¡Œä»»åŠ¡ï¼‰</li>
<li><strong>n8n</strong>â€”â€” è‡ªåŠ¨åŒ–å·¥ä½œæµå¹³å°ï¼ˆè§¦å‘å¼ AI é›†æˆï¼‰</li>
<li><strong>LibreChat</strong> â€”â€” ChatGPT é£æ ¼ä¼ä¸šå†…éƒ¨èŠå¤©ç•Œé¢ï¼ˆè¿æ¥æœ¬åœ°æ¨¡å‹ï¼‰</li>
<li><strong>DocsGPT</strong> â€”â€” æ–‡æ¡£ä¸çŸ¥è¯†è‡ªåŠ¨åŒ–åŠ©æ‰‹ï¼ˆç”Ÿæˆ API æ–‡æ¡£ä¸ FAQï¼‰</li>
</ol>
<h2 data-id="heading-1">NocoBase</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb06b78db487429f9c11a6018680cbc3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710863&amp;x-signature=fM7K%2BdBqnikKO3GrnymtcUytmDo%3D" alt="NocoBase.png" loading="lazy"/></p>
<p><strong>å®˜ç½‘</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2F" target="_blank" title="https://www.nocobase.com/cn/" ref="nofollow noopener noreferrer">www.nocobase.com/cn/</a></p>
<p><strong>GitHub</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase" target="_blank" title="https://github.com/nocobase/nocobase" ref="nofollow noopener noreferrer">github.com/nocobase/noâ€¦</a></p>
<p>â­<strong>GitHub Stars</strong>ï¼š19.5k</p>
<p><strong>åŠŸèƒ½æ–¹å‘ï¼š</strong></p>
<p>è‡ªæ‰˜ç®¡çš„æ— ä»£ç  / ä½ä»£ç å¼€å‘å¹³å°ã€‚</p>
<p><strong>æ ¸å¿ƒäº®ç‚¹ï¼š</strong></p>
<ul>
<li><strong>AI å‘˜å·¥</strong>ï¼šç³»ç»Ÿå¯åœ¨å†…éƒ¨ç›´æ¥è°ƒç”¨è¯­è¨€æ¨¡å‹ï¼Œå®šä¹‰å…·å¤‡ä¸Šä¸‹æ–‡è®°å¿†çš„ AI è§’è‰²ï¼Œè®© AI å‚ä¸æ•°æ®å½•å…¥ã€æµç¨‹æ‰§è¡Œå’Œå†…å®¹ç”Ÿæˆã€‚</li>
<li><strong>æ•°æ®æ¨¡å‹é©±åŠ¨æ¶æ„</strong>ï¼šåŸºäº data-model-driven è®¾è®¡ï¼Œä¸ä¾èµ–ä¼ ç»Ÿè¡¨å•ç»“æ„ï¼Œèƒ½çµæ´»å®šä¹‰ä¸šåŠ¡å®ä½“åŠå…³ç³»ï¼Œé€‚åˆå¤æ‚ä¼ä¸šçº§åº”ç”¨ã€‚</li>
<li><strong>æ’ä»¶åŒ–ä¸ç§æœ‰éƒ¨ç½²</strong>ï¼šåŠŸèƒ½å‡ä»¥æ’ä»¶å½¢å¼æ‰©å±•ï¼Œå¯å¯¹æ¥å¤–éƒ¨æ•°æ®åº“ã€API æˆ– LLM æœåŠ¡ï¼›æ”¯æŒ Docker ä¸æºç éƒ¨ç½²ï¼Œç¡®ä¿ç³»ç»Ÿå®Œå…¨è‡ªæ‰˜ç®¡ã€æ•°æ®å¯æ§ã€‚</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å¿«é€Ÿæ„å»º CRMã€ERPã€å®¡æ‰¹æµã€çŸ¥è¯†ç®¡ç†ç­‰å†…éƒ¨ç³»ç»Ÿã€‚</li>
<li>åœ¨ç°æœ‰ä¸šåŠ¡ä¸­å¼•å…¥ AI åä½œæˆ–è‡ªåŠ¨åŒ–çš„ä¼ä¸šå›¢é˜Ÿã€‚</li>
<li>å¯¹æ•°æ®å®‰å…¨ã€ç³»ç»Ÿå¯æ§æ€§å’Œç§æœ‰éƒ¨ç½²è¦æ±‚é«˜çš„è¡Œä¸šï¼ˆå¦‚é‡‘èã€åŒ»ç–—ã€æ•™è‚²ï¼‰ã€‚</li>
<li>éœ€è¦é€šè¿‡æ’ä»¶å’Œæ¨¡å‹æŒç»­æ‰©å±•åŠŸèƒ½çš„ä¸­å¤§å‹ç»„ç»‡ã€‚</li>
</ul>
<p><strong>è‡ªæ‰˜ç®¡æ”¯æŒï¼š</strong>  âœ… Docker é•œåƒ / æºç éƒ¨ç½²ï¼ˆæ”¯æŒç§æœ‰åŒ–ç¯å¢ƒã€æœ¬åœ°æ•°æ®åº“ä¸å¤–éƒ¨ LLM è¿æ¥ï¼‰</p>
<h2 data-id="heading-2">Flowise AI</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3d71074ce77f45398c8ee21ba76449ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710863&amp;x-signature=7Uw9Gd4iEY%2BWuyZT6iSwjDHsZy4%3D" alt="Flowise AI.png" loading="lazy"/></p>
<p><strong>å®˜ç½‘</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fflowiseai.com" target="_blank" title="https://flowiseai.com" ref="nofollow noopener noreferrer">flowiseai.com</a></p>
<p><strong>GitHub</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FFlowiseAI%2FFlowise" target="_blank" title="https://github.com/FlowiseAI/Flowise" ref="nofollow noopener noreferrer">github.com/FlowiseAI/Fâ€¦</a></p>
<p>â­<strong>GitHub Stars</strong>ï¼š46.5k</p>
<p><strong>åŠŸèƒ½æ–¹å‘ï¼š</strong>  å¯è§†åŒ–çš„ AI å·¥ä½œæµä¸æ™ºèƒ½ä½“ï¼ˆAgentï¼‰æ„å»ºå¹³å°ã€‚</p>
<p><strong>æ ¸å¿ƒäº®ç‚¹ï¼š</strong></p>
<ul>
<li><strong>å¯è§†åŒ–æµç¨‹è®¾è®¡</strong>ï¼šæ‹–æ‹½å¼èŠ‚ç‚¹ç•Œé¢ï¼Œè®©æ¨¡å‹ã€æ•°æ®åº“ã€API ä¹‹é—´çš„é€»è¾‘æ­å»ºæ›´ç›´è§‚ï¼Œå¤§å¹…é™ä½äº†æ„å»º AI å·¥ä½œæµçš„é—¨æ§›ã€‚</li>
<li><strong>å¤šæ¨¡å‹ä¸æ™ºèƒ½åä½œ</strong>ï¼šåŸºäº LangChain æ¶æ„ï¼Œå…¼å®¹ OpenAIã€Claudeã€Ollama ç­‰æ¨¡å‹ï¼Œæ”¯æŒå¤šæ™ºèƒ½ä½“åä½œä¸äººæœºæ··åˆæµç¨‹ã€‚</li>
<li><strong>æµç¨‹ç›‘æ§ä¸ç³»ç»Ÿé›†æˆ</strong>ï¼šæä¾›æ‰§è¡Œæ—¥å¿—ä¸è¿½è¸ªåŠŸèƒ½ï¼Œæ”¯æŒå°†æµç¨‹å¯¼å‡ºä¸º REST API æˆ–åµŒå…¥ç°æœ‰ç³»ç»Ÿã€‚</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å¸Œæœ›å¿«é€Ÿæ­å»ºåŸºäº LLM çš„é—®ç­”ã€æŠ¥å‘Šæˆ–å†…å®¹ç”Ÿæˆæµç¨‹çš„å›¢é˜Ÿã€‚</li>
<li>éœ€è¦åœ¨ä¼ä¸šå†…éƒ¨æ„å»º AI è‡ªåŠ¨åŒ–ç³»ç»Ÿï¼ˆå®¢æœã€å®¡æ‰¹ã€æ•°æ®å¤„ç†ï¼‰çš„ç»„ç»‡ã€‚</li>
<li>æƒ³éªŒè¯ä¸åŒæ¨¡å‹ç»„åˆæˆ–æ’ä»¶é€»è¾‘çš„å¼€å‘è€…ä¸äº§å“å›¢é˜Ÿã€‚</li>
<li>å¯¹æ•°æ®å®‰å…¨ã€æµç¨‹å¯æ§æ€§æœ‰è¦æ±‚çš„ä¼ä¸šã€‚</li>
</ul>
<p><strong>è‡ªæ‰˜ç®¡æ”¯æŒï¼š</strong>  âœ… Docker é•œåƒ / æºç éƒ¨ç½²ï¼ˆæ”¯æŒæœ¬åœ°æ¨¡å‹ã€ç§æœ‰çŸ¥è¯†åº“ä¸å¤–éƒ¨å·¥å…·é›†æˆï¼‰</p>
<h2 data-id="heading-3">AnythingLLM</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ffc2a82c17f34abb883372310e035158~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710863&amp;x-signature=uMSeerv92hozXgLJM912W0WFtl4%3D" alt="AnythingLLM.png" loading="lazy"/></p>
<p><strong>å®˜ç½‘</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fanythingllm.com" target="_blank" title="https://anythingllm.com" ref="nofollow noopener noreferrer">anythingllm.com</a></p>
<p><strong>GitHub</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FMintplex-Labs%2Fanything-llm" target="_blank" title="https://github.com/Mintplex-Labs/anything-llm" ref="nofollow noopener noreferrer">github.com/Mintplex-Laâ€¦</a></p>
<p>â­<strong>GitHub Stars</strong>ï¼š51k</p>
<p><strong>åŠŸèƒ½æ–¹å‘ï¼š</strong>  ç§æœ‰çŸ¥è¯†åº“ä¸ä¼ä¸šçº§é—®ç­”ç³»ç»Ÿã€‚</p>
<p><strong>æ ¸å¿ƒäº®ç‚¹ï¼š</strong></p>
<ul>
<li><strong>æ–‡æ¡£è§£æä¸çŸ¥è¯†æ£€ç´¢</strong>ï¼šè‡ªåŠ¨è¯»å– PDFã€Wordã€TXT ç­‰æ–‡ä»¶ï¼Œé€šè¿‡è¯­ä¹‰ç´¢å¼•å®ç°å†…å®¹æ‘˜è¦ä¸é—®ç­”ã€‚</li>
<li><strong>å¤šæ¨¡å‹å…¼å®¹ä¸æœ¬åœ°è¿è¡Œ</strong>ï¼šæ”¯æŒ OpenAIã€Anthropicã€Ollama ç­‰ä¸»æµæ¨¡å‹ï¼Œå¯åœ¨æœ¬åœ°å®ŒæˆçŸ¥è¯†é—®ç­”ä¸å†…å®¹ç”Ÿæˆã€‚</li>
<li><strong>æ•°æ®éšç§ä¸æœ¬åœ°ä¼˜å…ˆ</strong>ï¼šé»˜è®¤åœ¨æœ¬åœ°å­˜å‚¨ä¸æ‰§è¡Œï¼Œä¸ä¸Šä¼ æ–‡æ¡£æˆ–å¯¹è¯æ•°æ®ï¼›æä¾›æ¡Œé¢ç«¯ä¸æœåŠ¡å™¨è‡ªæ‰˜ç®¡ç‰ˆæœ¬ã€‚</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>åœ¨ä¼ä¸šå†…éƒ¨æ„å»ºç»Ÿä¸€çš„çŸ¥è¯†é—®ç­”ç³»ç»Ÿï¼Œå®ç°è·¨éƒ¨é—¨ä¿¡æ¯æ£€ç´¢ã€‚</li>
<li>éƒ¨ç½²ç§æœ‰ AI å®¢æœæˆ–çŸ¥è¯†åŠ©æ‰‹ï¼Œç”¨äºæå‡æ–‡æ¡£åˆ©ç”¨ç‡å’Œå“åº”æ•ˆç‡ã€‚</li>
<li>å°†çŸ¥è¯†æ£€ç´¢åŠŸèƒ½åµŒå…¥ç°æœ‰ CRMã€é¡¹ç›®ç®¡ç†æˆ–é—¨æˆ·ç³»ç»Ÿã€‚</li>
<li>åœ¨é‡‘èã€åŒ»ç–—æˆ–æ”¿ä¼ç­‰å¯¹æ•°æ®å®‰å…¨å’Œåˆè§„æ€§è¦æ±‚è¾ƒé«˜çš„ç¯å¢ƒä¸­ä½¿ç”¨ã€‚</li>
</ul>
<p><strong>è‡ªæ‰˜ç®¡æ”¯æŒï¼š</strong>  âœ… Docker é•œåƒ / æºç éƒ¨ç½² + æ¡Œé¢ç«¯è¿è¡Œï¼ˆæ”¯æŒæœ¬åœ°æ¨¡å‹ã€å‘é‡æ•°æ®åº“ä¸æ’ä»¶æ‰©å±•ï¼‰</p>
<h2 data-id="heading-4">SuperAGI</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/677ce5698863469e94c3750d188ef7bf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710863&amp;x-signature=wOD6WhjeT6elmU8UB7DGEws5KQE%3D" alt="SuperAGI.png" loading="lazy"/></p>
<p><strong>å®˜ç½‘</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fsuperagi.com" target="_blank" title="https://superagi.com" ref="nofollow noopener noreferrer">superagi.com</a></p>
<p><strong>GitHub</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FTransformerOptimus%2FSuperAGI" target="_blank" title="https://github.com/TransformerOptimus/SuperAGI" ref="nofollow noopener noreferrer">github.com/Transformerâ€¦</a></p>
<p>â­<strong>GitHub Stars</strong>ï¼š16.9k</p>
<p><strong>åŠŸèƒ½æ–¹å‘ï¼š</strong> è‡ªæ‰˜ç®¡çš„è‡ªæ²» AI Agent æ¡†æ¶ã€‚</p>
<p><strong>æ ¸å¿ƒäº®ç‚¹ï¼š</strong></p>
<ul>
<li><strong>å¤šæ™ºèƒ½ä½“ç®¡ç†</strong>ï¼šæ”¯æŒåˆ›å»ºã€è¿è¡Œå’Œåä½œå¤šä¸ªè‡ªæ²» Agentï¼Œå¯ç”¨äºä»»åŠ¡æ‰§è¡Œã€æµç¨‹è‡ªåŠ¨åŒ–æˆ–å·¥å…·é›†æˆã€‚</li>
<li><strong>å¯æ‰©å±•å·¥å…·ç”Ÿæ€</strong>ï¼šé€šè¿‡ Toolkits æœºåˆ¶æ‰©å±• Agent èƒ½åŠ›ï¼Œæ”¯æŒè°ƒç”¨æ•°æ®åº“ã€è®°å½•æ‰§è¡Œæ—¥å¿—ã€ä¿å­˜ä¸Šä¸‹æ–‡è®°å¿†æˆ–è‡ªå®šä¹‰æ¨¡å‹ã€‚</li>
<li><strong>å¹¶è¡Œæ‰§è¡Œä¸å¯ç›‘æ§æ€§</strong>ï¼šæ¡†æ¶å¯åŒæ—¶è¿è¡Œå¤šä¸ª Agentï¼Œå†…ç½®æ€§èƒ½ä¸æˆæœ¬ç›‘æ§ï¼Œæ”¯æŒå¤šæ¨¡å‹é€‚é…å’Œ Token ç®¡ç†ã€‚</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å¸Œæœ›åœ¨ä¼ä¸šå†…éƒ¨éƒ¨ç½²å¯æ§çš„ AI è‡ªåŠ¨åŒ–ç³»ç»Ÿï¼Œç”¨äºé‚®ä»¶å¤„ç†ã€æŠ¥å‘Šç”Ÿæˆæˆ–ä»»åŠ¡åˆ†é…çš„å›¢é˜Ÿã€‚</li>
<li>éœ€è¦æ„å»ºå¤š Agent åä½œå¹³å°ï¼Œç”¨äºæ•°æ®åˆ†æã€å®¢æœè¿è¥ç­‰è·¨ç³»ç»Ÿæµç¨‹çš„ä¼ä¸šã€‚</li>
<li>æƒ³è®¾è®¡å…·å¤‡è®°å¿†ã€å·¥å…·è°ƒç”¨å’Œä»»åŠ¡åä½œç‰¹æ€§çš„æ™ºèƒ½ä½“æµç¨‹ï¼Œæé«˜ä¸šåŠ¡è‡ªåŠ¨åŒ–ä¸æ™ºèƒ½åŒ–æ°´å¹³çš„ç»„ç»‡ã€‚</li>
<li>å¯¹æ•°æ®éšç§ã€æ‰§è¡Œé€æ˜åº¦å’Œç³»ç»Ÿå¯æ§æ€§è¦æ±‚è¾ƒé«˜çš„å…¬å¸ã€‚</li>
</ul>
<p><strong>è‡ªæ‰˜ç®¡æ”¯æŒï¼š</strong>  âœ… Docker é•œåƒ / æºç éƒ¨ç½²ï¼ˆæ”¯æŒæœ¬åœ°æ•°æ®åº“ã€å·¥å…·é›†æˆä¸è‡ªå®šä¹‰ Agentï¼‰</p>
<h2 data-id="heading-5">n8n</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3bc2b9ff0ecf4cb482ba1b72205f8457~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710863&amp;x-signature=dBXpTAZZeQyso5vdnyyVuSsD4NI%3D" alt="n8n.png" loading="lazy"/></p>
<p><strong>å®˜ç½‘</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fn8n.io" target="_blank" title="https://n8n.io" ref="nofollow noopener noreferrer">n8n.io</a></p>
<p><strong>GitHub</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fn8n-io%2Fn8n" target="_blank" title="https://github.com/n8n-io/n8n" ref="nofollow noopener noreferrer">github.com/n8n-io/n8n</a></p>
<p>â­<strong>GitHub Stars</strong>ï¼š156k</p>
<p><strong>åŠŸèƒ½æ–¹å‘ï¼š</strong> è‡ªæ‰˜ç®¡çš„å·¥ä½œæµè‡ªåŠ¨åŒ–å¹³å°ï¼Œå…·å¤‡åŸç”Ÿ AI é›†æˆèƒ½åŠ›ã€‚</p>
<p><strong>æ ¸å¿ƒäº®ç‚¹ï¼š</strong></p>
<ul>
<li><strong>å¯è§†åŒ–ä¸ä»£ç æ··åˆæ„å»º</strong>ï¼šæ‹–æ‹½å¼èŠ‚ç‚¹ç»“åˆ JS/Python æ”¯æŒï¼Œå…¼é¡¾çµæ´»æ€§ä¸ä½ä»£ç æ•ˆç‡ã€‚</li>
<li><strong>åŸç”Ÿ AI ä¸ä¸°å¯Œé›†æˆ</strong>ï¼šå†…ç½® AI å·¥ä½œæµåŠŸèƒ½ï¼Œå¯æ¥å…¥ä»»æ„ LLMï¼Œæ”¯æŒ 400+ å¹³å°ä¸æœåŠ¡é›†æˆï¼Œé€‚åˆæ„å»ºåŸºäºæ•°æ®ä¸æ¨¡å‹çš„è‡ªåŠ¨åŒ–ç³»ç»Ÿã€‚</li>
<li><strong>ç§æœ‰åŒ–ä¸å®Œå…¨æ§åˆ¶</strong>ï¼šæ”¯æŒå®Œæ•´è‡ªæ‰˜ç®¡ï¼ŒåŒ…æ‹¬ AI æ¨¡å‹éƒ¨ç½²ï¼Œæ»¡è¶³å¯¹æ•°æ®å®‰å…¨ä¸ç¯å¢ƒè‡ªç”±åº¦è¦æ±‚é«˜çš„ä½¿ç”¨åœºæ™¯ã€‚</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>æ„å»ºè·¨ç³»ç»Ÿè‡ªåŠ¨åŒ–æµç¨‹ï¼Œå¦‚æ•°æ®åº“åŒæ­¥ã€é‚®ä»¶è§¦å‘æˆ–æŠ¥å‘Šç”Ÿæˆã€‚</li>
<li>åœ¨ç°æœ‰ä¸šåŠ¡é€»è¾‘ä¸­åµŒå…¥ AI æ¨¡å‹ï¼Œå®ç°æ™ºèƒ½åŒ–çš„æµç¨‹ç¼–æ’ä¸ä»»åŠ¡è§¦å‘ã€‚</li>
<li>åœ¨ä¼ä¸šå†…éƒ¨æ­å»ºç»Ÿä¸€è‡ªåŠ¨åŒ–å¹³å°ï¼Œè¿æ¥ CRMã€ERPã€å®¢æœä¸æ¶ˆæ¯æ¸ é“ã€‚</li>
<li>é€‚åˆå¸Œæœ›è‡ªä¸»éƒ¨ç½²ã€æŒæ¡æ•°æ®å¹¶æŒç»­æ‰©å±•è‡ªåŠ¨åŒ–èƒ½åŠ›çš„ç”¨æˆ·ã€‚</li>
</ul>
<p><strong>è‡ªæ‰˜ç®¡æ”¯æŒï¼š</strong>  âœ… Docker é•œåƒ / æºç éƒ¨ç½²ï¼ˆæ”¯æŒç§æœ‰æ¨¡å‹ã€è‡ªå®šä¹‰èŠ‚ç‚¹ä¸å®Œå…¨è‡ªæ§éƒ¨ç½²ç¯å¢ƒï¼‰</p>
<h2 data-id="heading-6">LibreChat</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/705d0c78501f4ea3b03ebf5692f7c345~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710863&amp;x-signature=G8Cc8RtFeb8eTOeSqE09HcxYhfc%3D" alt="LibreChat.png" loading="lazy"/></p>
<p><strong>å®˜ç½‘</strong>ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.librechat.ai" target="_blank" title="https://www.librechat.ai" ref="nofollow noopener noreferrer">www.librechat.ai</a></p>
<p><strong>GitHub</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fdanny-avila%2FLibreChat" target="_blank" title="https://github.com/danny-avila/LibreChat" ref="nofollow noopener noreferrer">github.com/danny-avilaâ€¦</a></p>
<p>â­<strong>GitHub Stars</strong>ï¼š31.6k</p>
<p><strong>åŠŸèƒ½æ–¹å‘ï¼š</strong>  è‡ªæ‰˜ç®¡çš„å¤šæ¨¡å‹èŠå¤©ä¸çŸ¥è¯†äº¤äº’å¹³å°ã€‚</p>
<p><strong>æ ¸å¿ƒäº®ç‚¹ï¼š</strong></p>
<ul>
<li><strong>ç»Ÿä¸€èŠå¤©ç•Œé¢</strong>ï¼šæä¾›ç±»ä¼¼ ChatGPT çš„ä½¿ç”¨ä½“éªŒï¼Œå¯è¿æ¥ OpenAIã€Azure OpenAIã€ElevenLabs ç­‰äº‘ç«¯æˆ–æœ¬åœ°æ¨¡å‹ã€‚</li>
<li><strong>å¤šç”¨æˆ·ä¸å®‰å…¨ç®¡ç†</strong>ï¼šæ”¯æŒ OAuth2ã€LDAPã€é‚®ä»¶ç™»å½•åŠå¤šç”¨æˆ·ä¼šè¯ç®¡ç†ï¼Œé€‚åˆä¼ä¸šçº§ä½¿ç”¨ã€‚</li>
<li><strong>çµæ´»éƒ¨ç½²ä¸æœ¬åœ°ä¼˜å…ˆ</strong>ï¼šå¯é€šè¿‡ Docker æˆ–æœ¬åœ°ç¯å¢ƒè¿è¡Œï¼Œæ»¡è¶³æ•°æ®å¯æ§ä¸éƒ¨ç½²çµæ´»çš„éœ€æ±‚ã€‚</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>æ„å»ºä¼ä¸šå†…éƒ¨èŠå¤©æˆ–çŸ¥è¯†äº¤äº’å¹³å°ï¼Œç”¨äºå‘˜å·¥é—®ç­”ã€å†…å®¹ç”Ÿæˆæˆ–è¾…åŠ©å†³ç­–ã€‚</li>
<li>ä¸ºå®¢æœã€äº§å“æˆ–è¿è¥å›¢é˜Ÿæä¾›ç»Ÿä¸€å¯¹è¯å…¥å£ï¼Œè¿æ¥æ’ä»¶ä¸ API æ‰§è¡Œä»»åŠ¡ã€‚</li>
<li>åœ¨ç§æœ‰ç¯å¢ƒä¸­éƒ¨ç½²å¤šæ¨¡å‹å¯¹è¯ç³»ç»Ÿï¼Œå®ç°æœ¬åœ°æ•°æ®å­˜å‚¨ä¸å®šåˆ¶æ‰©å±•ã€‚</li>
<li>æ»¡è¶³å¯¹æ•°æ®éšç§ã€æ¨¡å‹åˆ‡æ¢ä¸å¤šç”¨æˆ·åä½œè¦æ±‚è¾ƒé«˜çš„ä½¿ç”¨åœºæ™¯ã€‚</li>
</ul>
<p><strong>è‡ªæ‰˜ç®¡æ”¯æŒï¼š</strong>  âœ… Docker é•œåƒ / æºç éƒ¨ç½²ï¼ˆæ”¯æŒå¤šæ¨¡å‹åˆ‡æ¢ã€è‡ªå®šä¹‰æ’ä»¶ä¸å¤šç”¨æˆ·ç®¡ç†ï¼‰</p>
<h2 data-id="heading-7">DocsGPT</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ab57004facd94eccbe20ff4a4d0fc01a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710863&amp;x-signature=O5kxXmJsrLambMXbpIY%2B6cN6qgg%3D" alt="DocsGPT.png" loading="lazy"/></p>
<p><strong>å®˜ç½‘</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.docsgpt.cloud" target="_blank" title="https://www.docsgpt.cloud" ref="nofollow noopener noreferrer">www.docsgpt.cloud</a></p>
<p><strong>GitHub</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Farc53%2FDocsGPT" target="_blank" title="https://github.com/arc53/DocsGPT" ref="nofollow noopener noreferrer">github.com/arc53/DocsGâ€¦</a></p>
<p>â­<strong>GitHub Stars</strong>ï¼š17.4k</p>
<p><strong>åŠŸèƒ½æ–¹å‘ï¼š</strong> è‡ªæ‰˜ç®¡çš„æ–‡æ¡£ä¸çŸ¥è¯†è‡ªåŠ¨åŒ–åŠ©æ‰‹å¹³å°ã€‚</p>
<p><strong>æ ¸å¿ƒäº®ç‚¹ï¼š</strong></p>
<ul>
<li><strong>æ–‡æ¡£åˆ†æä¸æ™ºèƒ½é—®ç­”</strong>ï¼šæ”¯æŒ PDFã€Office æ–‡æ¡£å’Œç½‘é¡µå†…å®¹è§£æï¼Œè‡ªåŠ¨æ„å»ºè¯­ä¹‰ç´¢å¼•ä¸é—®ç­”ç³»ç»Ÿã€‚</li>
<li><strong>å¤šæ¨¡å‹ä¸å·¥å…·é›†æˆ</strong>ï¼šå¯é€‰æ‹©ä¸åŒè¯­è¨€æ¨¡å‹æˆ–åœ¨æœ¬åœ°è¿è¡Œæ¨¡å‹ï¼Œæ”¯æŒ Agent æ„å»ºã€API å’Œ Webhook é›†æˆã€‚</li>
<li><strong>ç§æœ‰éƒ¨ç½²ä¸æ•°æ®ä¸»æƒ</strong>ï¼šå¼ºè°ƒâ€œåœ¨ä»»ä½•ç¯å¢ƒä¸‹éƒ¨ç½²â€ï¼Œä»æœ¬åœ°åˆ°ç§æœ‰äº‘å‡å¯è¿è¡Œï¼Œç¡®ä¿å¯¹çŸ¥è¯†åº“å’Œæ•°æ®æºçš„å®Œå…¨æ§åˆ¶ã€‚</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>è‡ªåŠ¨ç”Ÿæˆ API æ–‡æ¡£ã€SDK æŒ‡å—ã€FAQ ä¸ä½¿ç”¨è¯´æ˜ï¼Œå¹¶ä¸ä»£ç æˆ–çŸ¥è¯†åº“ä¿æŒåŒæ­¥ã€‚</li>
<li>æ„å»ºä¼ä¸šå†…éƒ¨çŸ¥è¯†æ£€ç´¢ç³»ç»Ÿï¼Œå°†åˆ†æ•£çš„æ–‡æ¡£ä¸æ•°æ®æ•´åˆä¸ºç»Ÿä¸€çš„é—®ç­”å…¥å£ã€‚</li>
<li>åœ¨ç§æœ‰ç¯å¢ƒä¸­éƒ¨ç½²çŸ¥è¯†å¹³å°ï¼Œä¿éšœæ•æ„Ÿæ–‡æ¡£ä¸æ•°æ®å®Œå…¨å—æ§ã€‚</li>
<li>é€‚åˆéœ€è¦æŒç»­ç»´æŠ¤æŠ€æœ¯æ–‡æ¡£æˆ–çŸ¥è¯†å†…å®¹çš„äº§å“å›¢é˜Ÿã€å®¢æœæ”¯æŒéƒ¨é—¨ä¸å¼€å‘è€…ã€‚</li>
</ul>
<p><strong>è‡ªæ‰˜ç®¡æ”¯æŒï¼š</strong>  âœ… Docker é•œåƒ / æºç éƒ¨ç½²ï¼ˆæ”¯æŒæœ¬åœ°æ¨¡å‹ã€å‘é‡æ•°æ®åº“ä¸çŸ¥è¯†æºé›†æˆï¼‰</p>
<h2 data-id="heading-8">ç»“è¯­</h2>
<p>å¸Œæœ›è¿™äº›å·¥å…·èƒ½å¸®åŠ©ä½ çœ‹åˆ° <strong>AI ä¸è‡ªæ‰˜ç®¡ç»“åˆçš„æ›´å¤šå¯èƒ½æ€§</strong>ã€‚ æ— è®ºæ˜¯æ„å»ºä¸šåŠ¡ç³»ç»Ÿã€è‡ªåŠ¨åŒ–æµç¨‹ï¼Œè¿˜æ˜¯æ‰“é€ ä¼ä¸šçŸ¥è¯†å¹³å°ï¼Œç›¸ä¿¡ä½ éƒ½èƒ½ä»ä¸­æ‰¾åˆ°é€‚åˆçš„æ–¹å‘å’Œè§£å†³æ–¹æ¡ˆã€‚</p>
<p>æƒ³äº†è§£æ›´å¤š <strong>AI Ã— å¼€æº Ã— æ— ä»£ç </strong> çš„å†…å®¹ï¼Ÿæ¬¢è¿è®¿é—®æˆ‘ä»¬çš„åšå®¢ï¼Œä¹Ÿè¯·åˆ†äº«ç»™åŒæ ·çƒ­çˆ±æ¢ç´¢çš„æœ‹å‹</p>
<p>ç›¸å…³é˜…è¯»ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2F6-in-depth-comparison-rbac-no-code-low-code-platforms" target="_blank" title="https://www.nocobase.com/cn/blog/6-in-depth-comparison-rbac-no-code-low-code-platforms" ref="nofollow noopener noreferrer">6 å¤§ä¼ä¸šçº§æ— ä»£ç ä½ä»£ç å¹³å° RBAC æƒé™ä½“ç³»æ·±åº¦å¯¹æ¯”</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2F14-ai-low-code-platforms-github" target="_blank" title="https://www.nocobase.com/cn/blog/14-ai-low-code-platforms-github" ref="nofollow noopener noreferrer">GitHub ä¸Šæœ€å€¼å¾—å…³æ³¨çš„ 14 ä¸ªå¼€æº AI ä½ä»£ç å·¥å…· </a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Ftop-11-github-open-source-no-code-ai-tools" target="_blank" title="https://www.nocobase.com/cn/blog/top-11-github-open-source-no-code-ai-tools" ref="nofollow noopener noreferrer">11 ä¸ªåœ¨ GitHub ä¸Šæœ€å—æ¬¢è¿çš„å¼€æºæ— ä»£ç  AI å·¥å…· </a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fgithub-open-source-ai-agent-projects" target="_blank" title="https://www.nocobase.com/cn/blog/github-open-source-ai-agent-projects" ref="nofollow noopener noreferrer">GitHub ä¸Š Star æ•°é‡å‰ 18 çš„å¼€æº AI Agent é¡¹ç›®</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fgithub-open-source-ai-projects" target="_blank" title="https://www.nocobase.com/cn/blog/github-open-source-ai-projects" ref="nofollow noopener noreferrer">GitHub ä¸Š Star æ•°é‡å‰ 20 çš„å¼€æº AI é¡¹ç›®</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fgithub-open-source-mcp-projects" target="_blank" title="https://www.nocobase.com/cn/blog/github-open-source-mcp-projects" ref="nofollow noopener noreferrer">GitHub ä¸Š Star æ•°é‡å‰ 8 çš„å¼€æº MCP é¡¹ç›®</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fgithub-open-source-web-applications" target="_blank" title="https://www.nocobase.com/cn/blog/github-open-source-web-applications" ref="nofollow noopener noreferrer">GitHub ä¸Š Star æ•°é‡å‰ 8 çš„å¼€æº Web åº”ç”¨é¡¹ç›®</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[vue3å­¦ä¹ ç¬”è®°]]></title>    <link>https://juejin.cn/post/7572147440314433599</link>    <guid>https://juejin.cn/post/7572147440314433599</guid>    <pubDate>2025-11-14T07:37:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572147440314433599" data-draft-id="7572142436127588371" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="vue3å­¦ä¹ ç¬”è®°"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2025-11-14T07:37:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¹ä¸€æ"/> <meta itemprop="url" content="https://juejin.cn/user/3069492196551656"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            vue3å­¦ä¹ ç¬”è®°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3069492196551656/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¹ä¸€æ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T07:37:03.000Z" title="Fri Nov 14 2025 07:37:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»23åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. Vue3ç®€ä»‹</h2>
<ul>
<li>
<p>2020å¹´9æœˆ18æ—¥ï¼Œ<code>Vue.js</code>å‘å¸ƒç‰ˆ<code>3.0</code>ç‰ˆæœ¬ï¼Œä»£å·ï¼š<code>One Piece</code>ï¼ˆn</p>
</li>
<li>
<p>ç»å†äº†ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvuejs%2Fcore%2Fcommits%2Fmain" target="_blank" title="https://github.com/vuejs/core/commits/main" ref="nofollow noopener noreferrer">4800+æ¬¡æäº¤</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvuejs%2Frfcs%2Ftree%2Fmaster%2Factive-rfcs" target="_blank" title="https://github.com/vuejs/rfcs/tree/master/active-rfcs" ref="nofollow noopener noreferrer">40+ä¸ªRFC</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvuejs%2Fvue-next%2Fpulls%3Fq%3Dis%253Apr%2Bis%253Amerged%2B-author%253Aapp%252Fdependabot-preview%2B" target="_blank" title="https://github.com/vuejs/vue-next/pulls?q=is%3Apr+is%3Amerged+-author%3Aapp%2Fdependabot-preview+" ref="nofollow noopener noreferrer">600+æ¬¡PR</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvuejs%2Fcore%2Fgraphs%2Fcontributors" target="_blank" title="https://github.com/vuejs/core/graphs/contributors" ref="nofollow noopener noreferrer">300+è´¡çŒ®è€…</a></p>
</li>
<li>
<p>å®˜æ–¹å‘ç‰ˆåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvuejs%2Fcore%2Freleases%2Ftag%2Fv3.0.0" target="_blank" title="https://github.com/vuejs/core/releases/tag/v3.0.0" ref="nofollow noopener noreferrer">Release v3.0.0 One Piece Â· vuejs/core</a></p>
</li>
<li>
<p>æˆªæ­¢2023å¹´10æœˆï¼Œæœ€æ–°çš„å…¬å¼€ç‰ˆæœ¬ä¸ºï¼š<code>3.3.4</code></p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/de9d0dafdb1e4fdda8e22b7ec4940003~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmQ5LiA5p2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710623&amp;x-signature=qhBl903BEwTK25Q%2ByDCEyNNhVEs%3D" alt="1695089947298-161c1b47-eb86-42fb-b1f8-d6a4fcab8ee2.png" loading="lazy"/></p>
<h3 data-id="heading-1">1.1. ã€æ€§èƒ½çš„æå‡ã€‘</h3>
<ul>
<li>
<p>æ‰“åŒ…å¤§å°å‡å°‘<code>41%</code>ã€‚</p>
</li>
<li>
<p>åˆæ¬¡æ¸²æŸ“å¿«<code>55%</code>, æ›´æ–°æ¸²æŸ“å¿«<code>133%</code>ã€‚</p>
</li>
<li>
<p>å†…å­˜å‡å°‘<code>54%</code>ã€‚</p>
</li>
</ul>
<h3 data-id="heading-2">1.2.ã€ æºç çš„å‡çº§ã€‘</h3>
<ul>
<li>
<p>ä½¿ç”¨<code>Proxy</code>ä»£æ›¿<code>defineProperty</code>å®ç°å“åº”å¼ã€‚</p>
</li>
<li>
<p>é‡å†™è™šæ‹Ÿ<code>DOM</code>çš„å®ç°å’Œ<code>Tree-Shaking</code>ã€‚</p>
</li>
</ul>
<h3 data-id="heading-3">1.3. ã€æ‹¥æŠ±TypeScriptã€‘</h3>
<ul>
<li><code>Vue3</code>å¯ä»¥æ›´å¥½çš„æ”¯æŒ<code>TypeScript</code>ã€‚</li>
</ul>
<h3 data-id="heading-4">1.4. ã€æ–°çš„ç‰¹æ€§ã€‘</h3>
<ol>
<li>
<p><code>Composition API</code>ï¼ˆç»„åˆ<code>API</code>ï¼‰ï¼š</p>
<ul>
<li>
<p><code>setup</code></p>
</li>
<li>
<p><code>ref</code>ä¸<code>reactive</code></p>
</li>
<li>
<p><code>computed</code>ä¸<code>watch</code></p>
<p>......</p>
</li>
</ul>
</li>
<li>
<p>æ–°çš„å†…ç½®ç»„ä»¶ï¼š</p>
<ul>
<li>
<p><code>Fragment</code></p>
</li>
<li>
<p><code>Teleport</code></p>
</li>
<li>
<p><code>Suspense</code></p>
<p>......</p>
</li>
</ul>
</li>
<li>
<p>å…¶ä»–æ”¹å˜ï¼š</p>
<ul>
<li>
<p>æ–°çš„ç”Ÿå‘½å‘¨æœŸé’©å­</p>
</li>
<li>
<p><code>data</code> é€‰é¡¹åº”å§‹ç»ˆè¢«å£°æ˜ä¸ºä¸€ä¸ªå‡½æ•°</p>
</li>
<li>
<p>ç§»é™¤<code>keyCode</code>æ”¯æŒä½œä¸º<code> v-on</code> çš„ä¿®é¥°ç¬¦</p>
<p>......</p>
</li>
</ul>
</li>
</ol>
<h2 data-id="heading-5">2. åˆ›å»ºVue3å·¥ç¨‹</h2>
<h3 data-id="heading-6">2.1. ã€åŸºäº vue-cli åˆ›å»ºã€‘</h3>
<p>ç‚¹å‡»æŸ¥çœ‹<a href="https://link.juejin.cn?target=https%3A%2F%2Fcli.vuejs.org%2Fzh%2Fguide%2Fcreating-a-project.html%23vue-create" target="_blank" title="https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create" ref="nofollow noopener noreferrer">å®˜æ–¹æ–‡æ¡£</a></p>
<blockquote>
<p>å¤‡æ³¨ï¼šç›®å‰<code>vue-cli</code>å·²å¤„äºç»´æŠ¤æ¨¡å¼ï¼Œå®˜æ–¹æ¨èåŸºäº <code>Vite</code> åˆ›å»ºé¡¹ç›®ã€‚</p>
</blockquote>
<pre><code class="hljs language-powershell" lang="powershell">## æŸ¥çœ‹@vue/cliç‰ˆæœ¬ï¼Œç¡®ä¿@vue/cliç‰ˆæœ¬åœ¨4.5.0ä»¥ä¸Š
vue --version

## å®‰è£…æˆ–è€…å‡çº§ä½ çš„@vue/cli 
npm install -g @vue/cli

## æ‰§è¡Œåˆ›å»ºå‘½ä»¤
vue create vue_test

##  éšåé€‰æ‹©3.x
##  Choose a version of Vue.js that you want to start the project with (Use arrow keys)
##  &gt; 3.x
##    2.x

## å¯åŠ¨
cd vue_test
npm run serve
</code></pre>
<hr/>
<h3 data-id="heading-7">2.2. ã€åŸºäº vite åˆ›å»ºã€‘(æ¨è)</h3>
<p><code>vite</code> æ˜¯æ–°ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·ï¼Œå®˜ç½‘åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fvitejs.cn%2F" target="_blank" title="https://vitejs.cn/" ref="nofollow noopener noreferrer">vitejs.cn</a>ï¼Œ<code>vite</code>çš„ä¼˜åŠ¿å¦‚ä¸‹ï¼š</p>
<ul>
<li>è½»é‡å¿«é€Ÿçš„çƒ­é‡è½½ï¼ˆ<code>HMR</code>ï¼‰ï¼Œèƒ½å®ç°æé€Ÿçš„æœåŠ¡å¯åŠ¨ã€‚</li>
<li>å¯¹ <code>TypeScript</code>ã€<code>JSX</code>ã€<code>CSS</code> ç­‰æ”¯æŒå¼€ç®±å³ç”¨ã€‚</li>
<li>çœŸæ­£çš„æŒ‰éœ€ç¼–è¯‘ï¼Œä¸å†ç­‰å¾…æ•´ä¸ªåº”ç”¨ç¼–è¯‘å®Œæˆã€‚</li>
<li><code>webpack</code>æ„å»º ä¸ <code>vite</code>æ„å»ºå¯¹æ¯”å›¾å¦‚ä¸‹ï¼š <img src="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶ images/1683167182037-71c78210-8217-4e7d-9a83-e463035efbbe.png" alt="webpackæ„å»ºè½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" title="webpackæ„å»º" loading="lazy"/>	<img src="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶ images/1683167204081-582dc237-72bc-499e-9589-2cdfd452e62f.png" alt="viteæ„å»ºè½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" title="viteæ„å»º" loading="lazy"/></li>
</ul>

<ul>
<li>å…·ä½“æ“ä½œå¦‚ä¸‹ï¼ˆç‚¹å‡»æŸ¥çœ‹<a href="https://link.juejin.cn?target=https%3A%2F%2Fcn.vuejs.org%2Fguide%2Fquick-start.html%23creating-a-vue-application" target="_blank" title="https://cn.vuejs.org/guide/quick-start.html#creating-a-vue-application" ref="nofollow noopener noreferrer">å®˜æ–¹æ–‡æ¡£</a>ï¼‰</li>
</ul>
<pre><code class="hljs language-powershell" lang="powershell">## 1.åˆ›å»ºå‘½ä»¤
npm create vue@latest

## 2.å…·ä½“é…ç½®
## é…ç½®é¡¹ç›®åç§°
âˆš Project name: vue3_test
## æ˜¯å¦æ·»åŠ TypeScriptæ”¯æŒ
âˆš Add TypeScript?  Yes
## æ˜¯å¦æ·»åŠ JSXæ”¯æŒ
âˆš Add JSX Support?  No
## æ˜¯å¦æ·»åŠ è·¯ç”±ç¯å¢ƒ
âˆš Add Vue Router for Single Page Application development?  No
## æ˜¯å¦æ·»åŠ piniaç¯å¢ƒ
âˆš Add Pinia for state management?  No
## æ˜¯å¦æ·»åŠ å•å…ƒæµ‹è¯•
âˆš Add Vitest for Unit Testing?  No
## æ˜¯å¦æ·»åŠ ç«¯åˆ°ç«¯æµ‹è¯•æ–¹æ¡ˆ
âˆš Add an End-to-End Testing Solution? Â» No
## æ˜¯å¦æ·»åŠ ESLintè¯­æ³•æ£€æŸ¥
âˆš Add ESLint for code quality?  Yes
## æ˜¯å¦æ·»åŠ Prettiertä»£ç æ ¼å¼åŒ–
âˆš Add Prettier for code formatting?  No
</code></pre>
<p>è‡ªå·±åŠ¨æ‰‹ç¼–å†™ä¸€ä¸ªAppç»„ä»¶</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="app"&gt;
    &lt;h1&gt;ä½ å¥½å•Šï¼&lt;/h1&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
  export default {
    name:'App' //ç»„ä»¶å
  }
&lt;/script&gt;

&lt;style&gt;
  .app {
    background-color: #ddd;
    box-shadow: 0 0 10px;
    border-radius: 10px;
    padding: 20px;
  }
&lt;/style&gt;
</code></pre>
<p>å®‰è£…å®˜æ–¹æ¨èçš„<code>vscode</code>æ’ä»¶ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/036abed54e08441e9f02d63827273fb0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmQ5LiA5p2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710623&amp;x-signature=nRRaqoEuOIxqbbHlUqZfZgj7hwA%3D" alt="volar.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ff07091c09fa493abc30065672d1da81~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmQ5LiA5p2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710623&amp;x-signature=ix2prwrHU%2FfLi%2B%2BLiSrGC367KUg%3D" alt="image-20231218085906380.png" loading="lazy"/>
æ€»ç»“ï¼š</p>
<ul>
<li><code>Vite</code> é¡¹ç›®ä¸­ï¼Œ<code>index.html</code> æ˜¯é¡¹ç›®çš„å…¥å£æ–‡ä»¶ï¼Œåœ¨é¡¹ç›®æœ€å¤–å±‚ã€‚</li>
<li>åŠ è½½<code>index.html</code>åï¼Œ<code>Vite</code> è§£æ <code>&lt;script type="module" src="xxx"&gt;</code> æŒ‡å‘çš„<code>JavaScript</code>ã€‚</li>
<li><code>Vue3</code>**ä¸­æ˜¯é€šè¿‡ **<code>createApp</code> å‡½æ•°åˆ›å»ºä¸€ä¸ªåº”ç”¨å®ä¾‹ã€‚</li>
</ul>
<h3 data-id="heading-8">2.3. ã€ä¸€ä¸ªç®€å•çš„æ•ˆæœã€‘</h3>
<p><code>Vue3</code>å‘ä¸‹å…¼å®¹<code>Vue2</code>è¯­æ³•ï¼Œä¸”<code>Vue3</code>ä¸­çš„æ¨¡æ¿ä¸­å¯ä»¥æ²¡æœ‰æ ¹æ ‡ç­¾</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="person"&gt;
    &lt;h2&gt;å§“åï¼š{{name}}&lt;/h2&gt;
    &lt;h2&gt;å¹´é¾„ï¼š{{age}}&lt;/h2&gt;
    &lt;button @click="changeName"&gt;ä¿®æ”¹åå­—&lt;/button&gt;
    &lt;button @click="changeAge"&gt;å¹´é¾„+1&lt;/button&gt;
    &lt;button @click="showTel"&gt;ç‚¹æˆ‘æŸ¥çœ‹è”ç³»æ–¹å¼&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
  export default {
    name:'App',
    data() {
      return {
        name:'å¼ ä¸‰',
        age:18,
        tel:'13888888888'
      }
    },
    methods:{
      changeName(){
        this.name = 'zhang-san'
      },
      changeAge(){
        this.age += 1
      },
      showTel(){
        alert(this.tel)
      }
    },
  }
&lt;/script&gt;
</code></pre>
<h2 data-id="heading-9">3. Vue3æ ¸å¿ƒè¯­æ³•</h2>
<h3 data-id="heading-10">3.1.  ã€OptionsAPI ä¸ CompositionAPIã€‘</h3>
<ul>
<li><code>Vue2</code>çš„<code>API</code>è®¾è®¡æ˜¯<code>Options</code>ï¼ˆé…ç½®ï¼‰é£æ ¼çš„ã€‚</li>
<li><code>Vue3</code>çš„<code>API</code>è®¾è®¡æ˜¯<code>Composition</code>ï¼ˆç»„åˆï¼‰é£æ ¼çš„ã€‚</li>
</ul>
<h4 data-id="heading-11">Options API çš„å¼Šç«¯</h4>
<p><code>Options</code>ç±»å‹çš„ <code>API</code>ï¼Œæ•°æ®ã€æ–¹æ³•ã€è®¡ç®—å±æ€§ç­‰ï¼Œæ˜¯åˆ†æ•£åœ¨ï¼š<code>data</code>ã€<code>methods</code>ã€<code>computed</code>ä¸­çš„ï¼Œè‹¥æƒ³æ–°å¢æˆ–è€…ä¿®æ”¹ä¸€ä¸ªéœ€æ±‚ï¼Œå°±éœ€è¦åˆ†åˆ«ä¿®æ”¹ï¼š<code>data</code>ã€<code>methods</code>ã€<code>computed</code>ï¼Œä¸ä¾¿äºç»´æŠ¤å’Œå¤ç”¨ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/18e2dfdc45a345038960fbc3ea4d35cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmQ5LiA5p2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710623&amp;x-signature=BX4fF1ewe%2BL4nAl589XY3rojGrM%3D" alt="1696662197101-55d2b251-f6e5-47f4-b3f1-d8531bbf9279.gif" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d5827c36bccb42b2aa14fe42900845ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmQ5LiA5p2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710623&amp;x-signature=YF7sGuLxZDJ9kTGlSqT05vK7A8Y%3D" alt="1696662200734-1bad8249-d7a2-423e-a3c3-ab4c110628be.gif" loading="lazy"/></p>
<h4 data-id="heading-12">Composition API çš„ä¼˜åŠ¿</h4>
<p>å¯ä»¥ç”¨å‡½æ•°çš„æ–¹å¼ï¼Œæ›´åŠ ä¼˜é›…çš„ç»„ç»‡ä»£ç ï¼Œè®©ç›¸å…³åŠŸèƒ½çš„ä»£ç æ›´åŠ æœ‰åºçš„ç»„ç»‡åœ¨ä¸€èµ·ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/edd869947b494b47b799193d1918606a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmQ5LiA5p2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710623&amp;x-signature=w2S7zKP9tp5PjuckD501R2OeHeg%3D" alt="1696662249851-db6403a1-acb5-481a-88e0-e1e34d2ef53a.gif" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d3a47098551041d39ec959bddb7d063d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmQ5LiA5p2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710623&amp;x-signature=7so64LYSGxOtHAD6BbCj00l8yVg%3D" alt="1696662256560-7239b9f9-a770-43c1-9386-6cc12ef1e9c0.gif" loading="lazy"/></p>
<blockquote>
<p>è¯´æ˜ï¼šä»¥ä¸Šå››å¼ åŠ¨å›¾åŸåˆ›ä½œè€…ï¼šå¤§å¸…è€çŒ¿</p>
</blockquote>
<h3 data-id="heading-13">3.2. ã€æ‹‰å¼€åºå¹•çš„ setupã€‘</h3>
<h4 data-id="heading-14">setup æ¦‚è¿°</h4>
<p><code>setup</code>æ˜¯<code>Vue3</code>ä¸­ä¸€ä¸ªæ–°çš„é…ç½®é¡¹ï¼Œå€¼æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ˜¯ <code>Composition API</code> <strong>â€œè¡¨æ¼”çš„èˆå°</strong>***â€***ï¼Œç»„ä»¶ä¸­æ‰€ç”¨åˆ°çš„ï¼šæ•°æ®ã€æ–¹æ³•ã€è®¡ç®—å±æ€§ã€ç›‘è§†......ç­‰ç­‰ï¼Œå‡é…ç½®åœ¨<code>setup</code>ä¸­ã€‚</p>
<p>ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>setup</code>å‡½æ•°è¿”å›çš„å¯¹è±¡ä¸­çš„å†…å®¹ï¼Œå¯ç›´æ¥åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ã€‚</li>
<li><code>setup</code>ä¸­è®¿é—®<code>this</code>æ˜¯<code>undefined</code>ã€‚</li>
<li><code>setup</code>å‡½æ•°ä¼šåœ¨<code>beforeCreate</code>ä¹‹å‰è°ƒç”¨ï¼Œå®ƒæ˜¯â€œé¢†å…ˆâ€æ‰€æœ‰é’©å­æ‰§è¡Œçš„ã€‚</li>
</ul>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="person"&gt;
    &lt;h2&gt;å§“åï¼š{{name}}&lt;/h2&gt;
    &lt;h2&gt;å¹´é¾„ï¼š{{age}}&lt;/h2&gt;
    &lt;button @click="changeName"&gt;ä¿®æ”¹åå­—&lt;/button&gt;
    &lt;button @click="changeAge"&gt;å¹´é¾„+1&lt;/button&gt;
    &lt;button @click="showTel"&gt;ç‚¹æˆ‘æŸ¥çœ‹è”ç³»æ–¹å¼&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
  export default {
    name:'Person',
    setup(){
      // æ•°æ®ï¼ŒåŸæ¥å†™åœ¨dataä¸­ï¼ˆæ³¨æ„ï¼šæ­¤æ—¶çš„nameã€ageã€telæ•°æ®éƒ½ä¸æ˜¯å“åº”å¼æ•°æ®ï¼‰
      let name = 'å¼ ä¸‰'
      let age = 18
      let tel = '13888888888'

      // æ–¹æ³•ï¼ŒåŸæ¥å†™åœ¨methodsä¸­
      function changeName(){
        name = 'zhang-san' //æ³¨æ„ï¼šæ­¤æ—¶è¿™ä¹ˆä¿®æ”¹nameé¡µé¢æ˜¯ä¸å˜åŒ–çš„
        console.log(name)
      }
      function changeAge(){
        age += 1 //æ³¨æ„ï¼šæ­¤æ—¶è¿™ä¹ˆä¿®æ”¹ageé¡µé¢æ˜¯ä¸å˜åŒ–çš„
        console.log(age)
      }
      function showTel(){
        alert(tel)
      }

      // è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡ä¸­çš„å†…å®¹ï¼Œæ¨¡æ¿ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨
      return {name,age,tel,changeName,changeAge,showTel}
    }
  }
&lt;/script&gt;
</code></pre>
<h4 data-id="heading-15">setup çš„è¿”å›å€¼</h4>
<ul>
<li>è‹¥è¿”å›ä¸€ä¸ª<strong>å¯¹è±¡</strong>ï¼šåˆ™å¯¹è±¡ä¸­çš„ï¼šå±æ€§ã€æ–¹æ³•ç­‰ï¼Œåœ¨æ¨¡æ¿ä¸­å‡å¯ä»¥ç›´æ¥ä½¿ç”¨**ï¼ˆé‡ç‚¹å…³æ³¨ï¼‰ã€‚**</li>
<li>è‹¥è¿”å›ä¸€ä¸ª<strong>å‡½æ•°</strong>ï¼šåˆ™å¯ä»¥è‡ªå®šä¹‰æ¸²æŸ“å†…å®¹ï¼Œä»£ç å¦‚ä¸‹ï¼š</li>
</ul>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-title function_">setup</span>(<span class="hljs-params"/>){
  <span class="hljs-keyword">return</span> <span class="hljs-function">()=&gt;</span> <span class="hljs-string">'ä½ å¥½å•Šï¼'</span>
}
</code></pre>
<h4 data-id="heading-16">setup ä¸ Options API çš„å…³ç³»</h4>
<ul>
<li><code>Vue2</code> çš„é…ç½®ï¼ˆ<code>data</code>ã€<code>methos</code>......ï¼‰ä¸­<strong>å¯ä»¥è®¿é—®åˆ°</strong> <code>setup</code>ä¸­çš„å±æ€§ã€æ–¹æ³•ã€‚</li>
<li>ä½†åœ¨<code>setup</code>ä¸­<strong>ä¸èƒ½è®¿é—®åˆ°</strong><code>Vue2</code>çš„é…ç½®ï¼ˆ<code>data</code>ã€<code>methos</code>......ï¼‰ã€‚</li>
<li>å¦‚æœä¸<code>Vue2</code>å†²çªï¼Œåˆ™<code>setup</code>ä¼˜å…ˆã€‚</li>
</ul>
<h4 data-id="heading-17">setup è¯­æ³•ç³–</h4>
<p><code>setup</code>å‡½æ•°æœ‰ä¸€ä¸ªè¯­æ³•ç³–ï¼Œè¿™ä¸ªè¯­æ³•ç³–ï¼Œå¯ä»¥è®©æˆ‘ä»¬æŠŠ<code>setup</code>ç‹¬ç«‹å‡ºå»ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="person"&gt;
    &lt;h2&gt;å§“åï¼š{{name}}&lt;/h2&gt;
    &lt;h2&gt;å¹´é¾„ï¼š{{age}}&lt;/h2&gt;
    &lt;button @click="changName"&gt;ä¿®æ”¹åå­—&lt;/button&gt;
    &lt;button @click="changAge"&gt;å¹´é¾„+1&lt;/button&gt;
    &lt;button @click="showTel"&gt;ç‚¹æˆ‘æŸ¥çœ‹è”ç³»æ–¹å¼&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
  export default {
    name:'Person',
  }
&lt;/script&gt;

&lt;!-- ä¸‹é¢çš„å†™æ³•æ˜¯setupè¯­æ³•ç³– --&gt;
&lt;script setup lang="ts"&gt;
  console.log(this) //undefined
  
  // æ•°æ®ï¼ˆæ³¨æ„ï¼šæ­¤æ—¶çš„nameã€ageã€teléƒ½ä¸æ˜¯å“åº”å¼æ•°æ®ï¼‰
  let name = 'å¼ ä¸‰'
  let age = 18
  let tel = '13888888888'

  // æ–¹æ³•
  function changName(){
    name = 'æå››'//æ³¨æ„ï¼šæ­¤æ—¶è¿™ä¹ˆä¿®æ”¹nameé¡µé¢æ˜¯ä¸å˜åŒ–çš„
  }
  function changAge(){
    console.log(age)
    age += 1 //æ³¨æ„ï¼šæ­¤æ—¶è¿™ä¹ˆä¿®æ”¹ageé¡µé¢æ˜¯ä¸å˜åŒ–çš„
  }
  function showTel(){
    alert(tel)
  }
&lt;/script&gt;
</code></pre>
<p>æ‰©å±•ï¼šä¸Šè¿°ä»£ç ï¼Œè¿˜éœ€è¦ç¼–å†™ä¸€ä¸ªä¸å†™<code>setup</code>çš„<code>script</code>æ ‡ç­¾ï¼Œå»æŒ‡å®šç»„ä»¶åå­—ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©<code>vite</code>ä¸­çš„æ’ä»¶ç®€åŒ–</p>
<ol>
<li>ç¬¬ä¸€æ­¥ï¼š<code>npm i vite-plugin-vue-setup-extend -D</code></li>
<li>ç¬¬äºŒæ­¥ï¼š<code>vite.config.ts</code></li>
</ol>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">VueSetupExtend</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'vite-plugin-vue-setup-extend'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [ <span class="hljs-title class_">VueSetupExtend</span>() ]
})
</code></pre>
<ol start="3">
<li>ç¬¬ä¸‰æ­¥ï¼š<code>&lt;script setup lang="ts" name="Person"&gt;</code></li>
</ol>
<h3 data-id="heading-18">3.3. ã€ref åˆ›å»ºï¼šåŸºæœ¬ç±»å‹çš„å“åº”å¼æ•°æ®ã€‘</h3>
<ul>
<li>**ä½œç”¨ï¼š**å®šä¹‰å“åº”å¼å˜é‡ã€‚</li>
<li><strong>è¯­æ³•ï¼š</strong><code>let xxx = ref(åˆå§‹å€¼)</code>ã€‚</li>
<li>**è¿”å›å€¼ï¼š**ä¸€ä¸ª<code>RefImpl</code>çš„å®ä¾‹å¯¹è±¡ï¼Œç®€ç§°<code>refå¯¹è±¡</code>æˆ–<code>ref</code>ï¼Œ<code>ref</code>å¯¹è±¡çš„<code>value</code><strong>å±æ€§æ˜¯å“åº”å¼çš„</strong>ã€‚</li>
<li><strong>æ³¨æ„ç‚¹ï¼š</strong>
<ul>
<li><code>JS</code>ä¸­æ“ä½œæ•°æ®éœ€è¦ï¼š<code>xxx.value</code>ï¼Œä½†æ¨¡æ¿ä¸­ä¸éœ€è¦<code>.value</code>ï¼Œç›´æ¥ä½¿ç”¨å³å¯ã€‚</li>
<li>å¯¹äº<code>let name = ref('å¼ ä¸‰')</code>æ¥è¯´ï¼Œ<code>name</code>ä¸æ˜¯å“åº”å¼çš„ï¼Œ<code>name.value</code>æ˜¯å“åº”å¼çš„ã€‚</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="person"&gt;
    &lt;h2&gt;å§“åï¼š{{name}}&lt;/h2&gt;
    &lt;h2&gt;å¹´é¾„ï¼š{{age}}&lt;/h2&gt;
    &lt;button @click="changeName"&gt;ä¿®æ”¹åå­—&lt;/button&gt;
    &lt;button @click="changeAge"&gt;å¹´é¾„+1&lt;/button&gt;
    &lt;button @click="showTel"&gt;ç‚¹æˆ‘æŸ¥çœ‹è”ç³»æ–¹å¼&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts" name="Person"&gt;
  import {ref} from 'vue'
  // nameå’Œageæ˜¯ä¸€ä¸ªRefImplçš„å®ä¾‹å¯¹è±¡ï¼Œç®€ç§°refå¯¹è±¡ï¼Œå®ƒä»¬çš„valueå±æ€§æ˜¯å“åº”å¼çš„ã€‚
  let name = ref('å¼ ä¸‰')
  let age = ref(18)
  // telå°±æ˜¯ä¸€ä¸ªæ™®é€šçš„å­—ç¬¦ä¸²ï¼Œä¸æ˜¯å“åº”å¼çš„
  let tel = '13888888888'

  function changeName(){
    // JSä¸­æ“ä½œrefå¯¹è±¡æ—¶å€™éœ€è¦.value
    name.value = 'æå››'
    console.log(name.value)

    // æ³¨æ„ï¼šnameä¸æ˜¯å“åº”å¼çš„ï¼Œname.valueæ˜¯å“åº”å¼çš„ï¼Œæ‰€ä»¥å¦‚ä¸‹ä»£ç å¹¶ä¸ä¼šå¼•èµ·é¡µé¢çš„æ›´æ–°ã€‚
    // name = ref('zhang-san')
  }
  function changeAge(){
    // JSä¸­æ“ä½œrefå¯¹è±¡æ—¶å€™éœ€è¦.value
    age.value += 1 
    console.log(age.value)
  }
  function showTel(){
    alert(tel)
  }
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-19">3.4. ã€reactive åˆ›å»ºï¼šå¯¹è±¡ç±»å‹çš„å“åº”å¼æ•°æ®ã€‘</h3>
<ul>
<li><strong>ä½œç”¨ï¼š<strong>å®šä¹‰ä¸€ä¸ª</strong>å“åº”å¼å¯¹è±¡</strong>ï¼ˆåŸºæœ¬ç±»å‹ä¸è¦ç”¨å®ƒï¼Œè¦ç”¨<code>ref</code>ï¼Œå¦åˆ™æŠ¥é”™ï¼‰</li>
<li><strong>è¯­æ³•ï¼š</strong><code>let å“åº”å¼å¯¹è±¡= reactive(æºå¯¹è±¡)</code>ã€‚</li>
<li>**è¿”å›å€¼ï¼š**ä¸€ä¸ª<code>Proxy</code>çš„å®ä¾‹å¯¹è±¡ï¼Œç®€ç§°ï¼šå“åº”å¼å¯¹è±¡ã€‚</li>
<li><strong>æ³¨æ„ç‚¹ï¼š</strong><code>reactive</code>å®šä¹‰çš„å“åº”å¼æ•°æ®æ˜¯â€œæ·±å±‚æ¬¡â€çš„ã€‚</li>
</ul>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="person"&gt;
    &lt;h2&gt;æ±½è½¦ä¿¡æ¯ï¼šä¸€å°{{ car.brand }}æ±½è½¦ï¼Œä»·å€¼{{ car.price }}ä¸‡&lt;/h2&gt;
    &lt;h2&gt;æ¸¸æˆåˆ—è¡¨ï¼š&lt;/h2&gt;
    &lt;ul&gt;
      &lt;li v-for="g in games" :key="g.id"&gt;{{ g.name }}&lt;/li&gt;
    &lt;/ul&gt;
    &lt;h2&gt;æµ‹è¯•ï¼š{{obj.a.b.c.d}}&lt;/h2&gt;
    &lt;button @click="changeCarPrice"&gt;ä¿®æ”¹æ±½è½¦ä»·æ ¼&lt;/button&gt;
    &lt;button @click="changeFirstGame"&gt;ä¿®æ”¹ç¬¬ä¸€æ¸¸æˆ&lt;/button&gt;
    &lt;button @click="test"&gt;æµ‹è¯•&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts" setup name="Person"&gt;
import { reactive } from 'vue'

// æ•°æ®
let car = reactive({ brand: 'å¥”é©°', price: 100 })
let games = reactive([
  { id: 'ahsgdyfa01', name: 'è‹±é›„è”ç›Ÿ' },
  { id: 'ahsgdyfa02', name: 'ç‹è€…è£è€€' },
  { id: 'ahsgdyfa03', name: 'åŸç¥' }
])
let obj = reactive({
  a:{
    b:{
      c:{
        d:666
      }
    }
  }
})

function changeCarPrice() {
  car.price += 10
}
function changeFirstGame() {
  games[0].name = 'æµæ˜Ÿè´è¶å‰‘'
}
function test(){
  obj.a.b.c.d = 999
}
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-20">3.5. ã€ref åˆ›å»ºï¼šå¯¹è±¡ç±»å‹çš„å“åº”å¼æ•°æ®ã€‘</h3>
<ul>
<li>å…¶å®<code>ref</code>æ¥æ”¶çš„æ•°æ®å¯ä»¥æ˜¯ï¼š<strong>åŸºæœ¬ç±»å‹</strong>ã€<strong>å¯¹è±¡ç±»å‹</strong>ã€‚</li>
<li>è‹¥<code>ref</code>æ¥æ”¶çš„æ˜¯å¯¹è±¡ç±»å‹ï¼Œå†…éƒ¨å…¶å®ä¹Ÿæ˜¯è°ƒç”¨äº†<code>reactive</code>å‡½æ•°ã€‚</li>
</ul>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="person"&gt;
    &lt;h2&gt;æ±½è½¦ä¿¡æ¯ï¼šä¸€å°{{ car.brand }}æ±½è½¦ï¼Œä»·å€¼{{ car.price }}ä¸‡&lt;/h2&gt;
    &lt;h2&gt;æ¸¸æˆåˆ—è¡¨ï¼š&lt;/h2&gt;
    &lt;ul&gt;
      &lt;li v-for="g in games" :key="g.id"&gt;{{ g.name }}&lt;/li&gt;
    &lt;/ul&gt;
    &lt;h2&gt;æµ‹è¯•ï¼š{{obj.a.b.c.d}}&lt;/h2&gt;
    &lt;button @click="changeCarPrice"&gt;ä¿®æ”¹æ±½è½¦ä»·æ ¼&lt;/button&gt;
    &lt;button @click="changeFirstGame"&gt;ä¿®æ”¹ç¬¬ä¸€æ¸¸æˆ&lt;/button&gt;
    &lt;button @click="test"&gt;æµ‹è¯•&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts" setup name="Person"&gt;
import { ref } from 'vue'

// æ•°æ®
let car = ref({ brand: 'å¥”é©°', price: 100 })
let games = ref([
  { id: 'ahsgdyfa01', name: 'è‹±é›„è”ç›Ÿ' },
  { id: 'ahsgdyfa02', name: 'ç‹è€…è£è€€' },
  { id: 'ahsgdyfa03', name: 'åŸç¥' }
])
let obj = ref({
  a:{
    b:{
      c:{
        d:666
      }
    }
  }
})

console.log(car)

function changeCarPrice() {
  car.value.price += 10
}
function changeFirstGame() {
  games.value[0].name = 'æµæ˜Ÿè´è¶å‰‘'
}
function test(){
  obj.value.a.b.c.d = 999
}
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-21">3.6. ã€ref å¯¹æ¯” reactiveã€‘</h3>
<p>å®è§‚è§’åº¦çœ‹ï¼š</p>
<blockquote>
<ol>
<li>
<p><code>ref</code>ç”¨æ¥å®šä¹‰ï¼š<strong>åŸºæœ¬ç±»å‹æ•°æ®</strong>ã€<strong>å¯¹è±¡ç±»å‹æ•°æ®</strong>ï¼›</p>
</li>
<li>
<p><code>reactive</code>ç”¨æ¥å®šä¹‰ï¼š<strong>å¯¹è±¡ç±»å‹æ•°æ®</strong>ã€‚</p>
</li>
</ol>
</blockquote>
<ul>
<li>åŒºåˆ«ï¼š</li>
</ul>
<blockquote>
<ol>
<li><code>ref</code>åˆ›å»ºçš„å˜é‡å¿…é¡»ä½¿ç”¨<code>.value</code>ï¼ˆå¯ä»¥ä½¿ç”¨<code>volar</code>æ’ä»¶è‡ªåŠ¨æ·»åŠ <code>.value</code>ï¼‰ã€‚</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f922661b8d5446484ec69d429f95b42~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmQ5LiA5p2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710623&amp;x-signature=i%2F1SwB5Cf2TQkMyXe6l10U6AySw%3D" alt="è‡ªåŠ¨è¡¥å……value.png" loading="lazy"/></p>
<ol start="2">
<li><code>reactive</code>é‡æ–°åˆ†é…ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä¼š<strong>å¤±å»</strong>å“åº”å¼ï¼ˆå¯ä»¥ä½¿ç”¨<code>Object.assign</code>å»æ•´ä½“æ›¿æ¢ï¼‰ã€‚</li>
</ol>
</blockquote>
<ul>
<li>ä½¿ç”¨åŸåˆ™ï¼š</li>
</ul>
<blockquote>
<ol>
<li>è‹¥éœ€è¦ä¸€ä¸ªåŸºæœ¬ç±»å‹çš„å“åº”å¼æ•°æ®ï¼Œå¿…é¡»ä½¿ç”¨<code>ref</code>ã€‚</li>
<li>è‹¥éœ€è¦ä¸€ä¸ªå“åº”å¼å¯¹è±¡ï¼Œå±‚çº§ä¸æ·±ï¼Œ<code>ref</code>ã€<code>reactive</code>éƒ½å¯ä»¥ã€‚</li>
<li>è‹¥éœ€è¦ä¸€ä¸ªå“åº”å¼å¯¹è±¡ï¼Œä¸”å±‚çº§è¾ƒæ·±ï¼Œæ¨èä½¿ç”¨<code>reactive</code>ã€‚</li>
</ol>
</blockquote>
<h3 data-id="heading-22">3.7. ã€toRefs ä¸ toRefã€‘</h3>
<ul>
<li>ä½œç”¨ï¼šå°†ä¸€ä¸ªå“åº”å¼å¯¹è±¡ä¸­çš„æ¯ä¸€ä¸ªå±æ€§ï¼Œè½¬æ¢ä¸º<code>ref</code>å¯¹è±¡ã€‚</li>
<li>å¤‡æ³¨ï¼š<code>toRefs</code>ä¸<code>toRef</code>åŠŸèƒ½ä¸€è‡´ï¼Œä½†<code>toRefs</code>å¯ä»¥æ‰¹é‡è½¬æ¢ã€‚</li>
<li>è¯­æ³•å¦‚ä¸‹ï¼š</li>
</ul>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="person"&gt;
    &lt;h2&gt;å§“åï¼š{{person.name}}&lt;/h2&gt;
    &lt;h2&gt;å¹´é¾„ï¼š{{person.age}}&lt;/h2&gt;
    &lt;h2&gt;æ€§åˆ«ï¼š{{person.gender}}&lt;/h2&gt;
    &lt;button @click="changeName"&gt;ä¿®æ”¹åå­—&lt;/button&gt;
    &lt;button @click="changeAge"&gt;ä¿®æ”¹å¹´é¾„&lt;/button&gt;
    &lt;button @click="changeGender"&gt;ä¿®æ”¹æ€§åˆ«&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts" setup name="Person"&gt;
  import {ref,reactive,toRefs,toRef} from 'vue'

  // æ•°æ®
  let person = reactive({name:'å¼ ä¸‰', age:18, gender:'ç”·'})
	
  // é€šè¿‡toRefså°†personå¯¹è±¡ä¸­çš„nä¸ªå±æ€§æ‰¹é‡å–å‡ºï¼Œä¸”ä¾ç„¶ä¿æŒå“åº”å¼çš„èƒ½åŠ›
  let {name,gender} =  toRefs(person)
	
  // é€šè¿‡toRefå°†personå¯¹è±¡ä¸­çš„genderå±æ€§å–å‡ºï¼Œä¸”ä¾ç„¶ä¿æŒå“åº”å¼çš„èƒ½åŠ›
  let age = toRef(person,'age')

  // æ–¹æ³•
  function changeName(){
    name.value += '~'
  }
  function changeAge(){
    age.value += 1
  }
  function changeGender(){
    gender.value = 'å¥³'
  }
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-23">3.8. ã€computedã€‘</h3>
<p>ä½œç”¨ï¼šæ ¹æ®å·²æœ‰æ•°æ®è®¡ç®—å‡ºæ–°æ•°æ®ï¼ˆå’Œ<code>Vue2</code>ä¸­çš„<code>computed</code>ä½œç”¨ä¸€è‡´ï¼‰ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb17bffb189a4b148730c6ab55435a75~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmQ5LiA5p2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710623&amp;x-signature=2RoFxLNJSpZBG6c5A%2BfYpQ5pBkc%3D" alt="computed.gif" loading="lazy"/></p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="person"&gt;
    å§“ï¼š&lt;input type="text" v-model="firstName"&gt; &lt;br&gt;
    åï¼š&lt;input type="text" v-model="lastName"&gt; &lt;br&gt;
    å…¨åï¼š&lt;span&gt;{{fullName}}&lt;/span&gt; &lt;br&gt;
    &lt;button @click="changeFullName"&gt;å…¨åæ”¹ä¸ºï¼šli-si&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts" name="App"&gt;
  import {ref,computed} from 'vue'

  let firstName = ref('zhang')
  let lastName = ref('san')

  // è®¡ç®—å±æ€§â€”â€”åªè¯»å–ï¼Œä¸ä¿®æ”¹
  /* let fullName = computed(()=&gt;{
    return firstName.value + '-' + lastName.value
  }) */


  // è®¡ç®—å±æ€§â€”â€”æ—¢è¯»å–åˆä¿®æ”¹
  let fullName = computed({
    // è¯»å–
    get(){
      return firstName.value + '-' + lastName.value
    },
    // ä¿®æ”¹
    set(val){
      console.log('æœ‰äººä¿®æ”¹äº†fullName',val)
      firstName.value = val.split('-')[0]
      lastName.value = val.split('-')[1]
    }
  })

  function changeFullName(){
    fullName.value = 'li-si'
  } 
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-24">3.9.ã€watchã€‘</h3>
<ul>
<li>ä½œç”¨ï¼šç›‘è§†æ•°æ®çš„å˜åŒ–ï¼ˆå’Œ<code>Vue2</code>ä¸­çš„<code>watch</code>ä½œç”¨ä¸€è‡´ï¼‰</li>
<li>ç‰¹ç‚¹ï¼š<code>Vue3</code>ä¸­çš„<code>watch</code>åªèƒ½ç›‘è§†ä»¥ä¸‹<strong>å››ç§æ•°æ®</strong>ï¼š</li>
</ul>
<blockquote>
<ol>
<li><code>ref</code>å®šä¹‰çš„æ•°æ®ã€‚</li>
<li><code>reactive</code>å®šä¹‰çš„æ•°æ®ã€‚</li>
<li>å‡½æ•°è¿”å›ä¸€ä¸ªå€¼ï¼ˆ<code>getter</code>å‡½æ•°ï¼‰ã€‚</li>
<li>ä¸€ä¸ªåŒ…å«ä¸Šè¿°å†…å®¹çš„æ•°ç»„ã€‚</li>
</ol>
</blockquote>
<p>æˆ‘ä»¬åœ¨<code>Vue3</code>ä¸­ä½¿ç”¨<code>watch</code>çš„æ—¶å€™ï¼Œé€šå¸¸ä¼šé‡åˆ°ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š</p>
<h4 data-id="heading-25">* æƒ…å†µä¸€</h4>
<p>ç›‘è§†<code>ref</code>å®šä¹‰çš„ã€åŸºæœ¬ç±»å‹ã€‘æ•°æ®ï¼šç›´æ¥å†™æ•°æ®åå³å¯ï¼Œç›‘è§†çš„æ˜¯å…¶<code>value</code>å€¼çš„æ”¹å˜ã€‚</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="person"&gt;
    &lt;h1&gt;æƒ…å†µä¸€ï¼šç›‘è§†ã€refã€‘å®šä¹‰çš„ã€åŸºæœ¬ç±»å‹ã€‘æ•°æ®&lt;/h1&gt;
    &lt;h2&gt;å½“å‰æ±‚å’Œä¸ºï¼š{{sum}}&lt;/h2&gt;
    &lt;button @click="changeSum"&gt;ç‚¹æˆ‘sum+1&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts" setup name="Person"&gt;
  import {ref,watch} from 'vue'
  // æ•°æ®
  let sum = ref(0)
  // æ–¹æ³•
  function changeSum(){
    sum.value += 1
  }
  // ç›‘è§†ï¼Œæƒ…å†µä¸€ï¼šç›‘è§†ã€refã€‘å®šä¹‰çš„ã€åŸºæœ¬ç±»å‹ã€‘æ•°æ®
  const stopWatch = watch(sum,(newValue,oldValue)=&gt;{
    console.log('sumå˜åŒ–äº†',newValue,oldValue)
    if(newValue &gt;= 10){
      stopWatch()
    }
  })
&lt;/script&gt;
</code></pre>
<h4 data-id="heading-26">* æƒ…å†µäºŒ</h4>
<p>ç›‘è§†<code>ref</code>å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ï¼šç›´æ¥å†™æ•°æ®åï¼Œç›‘è§†çš„æ˜¯å¯¹è±¡çš„ã€åœ°å€å€¼ã€‘ï¼Œè‹¥æƒ³ç›‘è§†å¯¹è±¡å†…éƒ¨çš„æ•°æ®ï¼Œè¦æ‰‹åŠ¨å¼€å¯æ·±åº¦ç›‘è§†ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼š</p>
<ul>
<li>
<p>è‹¥ä¿®æ”¹çš„æ˜¯<code>ref</code>å®šä¹‰çš„å¯¹è±¡ä¸­çš„å±æ€§ï¼Œ<code>newValue</code> å’Œ <code>oldValue</code> éƒ½æ˜¯æ–°å€¼ï¼Œå› ä¸ºå®ƒä»¬æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚</p>
</li>
<li>
<p>è‹¥ä¿®æ”¹æ•´ä¸ª<code>ref</code>å®šä¹‰çš„å¯¹è±¡ï¼Œ<code>newValue</code> æ˜¯æ–°å€¼ï¼Œ <code>oldValue</code> æ˜¯æ—§å€¼ï¼Œå› ä¸ºä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡äº†ã€‚</p>
</li>
</ul>
</blockquote>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="person"&gt;
    &lt;h1&gt;æƒ…å†µäºŒï¼šç›‘è§†ã€refã€‘å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®&lt;/h1&gt;
    &lt;h2&gt;å§“åï¼š{{ person.name }}&lt;/h2&gt;
    &lt;h2&gt;å¹´é¾„ï¼š{{ person.age }}&lt;/h2&gt;
    &lt;button @click="changeName"&gt;ä¿®æ”¹åå­—&lt;/button&gt;
    &lt;button @click="changeAge"&gt;ä¿®æ”¹å¹´é¾„&lt;/button&gt;
    &lt;button @click="changePerson"&gt;ä¿®æ”¹æ•´ä¸ªäºº&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts" setup name="Person"&gt;
  import {ref,watch} from 'vue'
  // æ•°æ®
  let person = ref({
    name:'å¼ ä¸‰',
    age:18
  })
  // æ–¹æ³•
  function changeName(){
    person.value.name += '~'
  }
  function changeAge(){
    person.value.age += 1
  }
  function changePerson(){
    person.value = {name:'æå››',age:90}
  }
  /* 
    ç›‘è§†ï¼Œæƒ…å†µä¸€ï¼šç›‘è§†ã€refã€‘å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ï¼Œç›‘è§†çš„æ˜¯å¯¹è±¡çš„åœ°å€å€¼ï¼Œè‹¥æƒ³ç›‘è§†å¯¹è±¡å†…éƒ¨å±æ€§çš„å˜åŒ–ï¼Œéœ€è¦æ‰‹åŠ¨å¼€å¯æ·±åº¦ç›‘è§†
    watchçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ï¼šè¢«ç›‘è§†çš„æ•°æ®
    watchçš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ï¼šç›‘è§†çš„å›è°ƒ
    watchçš„ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ï¼šé…ç½®å¯¹è±¡ï¼ˆdeepã€immediateç­‰ç­‰.....ï¼‰ 
  */
  watch(person,(newValue,oldValue)=&gt;{
    console.log('personå˜åŒ–äº†',newValue,oldValue)
  },{deep:true})
  
&lt;/script&gt;
</code></pre>
<h4 data-id="heading-27">*  æƒ…å†µä¸‰</h4>
<p>ç›‘è§†<code>reactive</code>å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ï¼Œä¸”é»˜è®¤å¼€å¯äº†æ·±åº¦ç›‘è§†ã€‚</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="person"&gt;
    &lt;h1&gt;æƒ…å†µä¸‰ï¼šç›‘è§†ã€reactiveã€‘å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®&lt;/h1&gt;
    &lt;h2&gt;å§“åï¼š{{ person.name }}&lt;/h2&gt;
    &lt;h2&gt;å¹´é¾„ï¼š{{ person.age }}&lt;/h2&gt;
    &lt;button @click="changeName"&gt;ä¿®æ”¹åå­—&lt;/button&gt;
    &lt;button @click="changeAge"&gt;ä¿®æ”¹å¹´é¾„&lt;/button&gt;
    &lt;button @click="changePerson"&gt;ä¿®æ”¹æ•´ä¸ªäºº&lt;/button&gt;
    &lt;hr&gt;
    &lt;h2&gt;æµ‹è¯•ï¼š{{obj.a.b.c}}&lt;/h2&gt;
    &lt;button @click="test"&gt;ä¿®æ”¹obj.a.b.c&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts" setup name="Person"&gt;
  import {reactive,watch} from 'vue'
  // æ•°æ®
  let person = reactive({
    name:'å¼ ä¸‰',
    age:18
  })
  let obj = reactive({
    a:{
      b:{
        c:666
      }
    }
  })
  // æ–¹æ³•
  function changeName(){
    person.name += '~'
  }
  function changeAge(){
    person.age += 1
  }
  function changePerson(){
    Object.assign(person,{name:'æå››',age:80})
  }
  function test(){
    obj.a.b.c = 888
  }

  // ç›‘è§†ï¼Œæƒ…å†µä¸‰ï¼šç›‘è§†ã€reactiveã€‘å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ï¼Œä¸”é»˜è®¤æ˜¯å¼€å¯æ·±åº¦ç›‘è§†çš„
  watch(person,(newValue,oldValue)=&gt;{
    console.log('personå˜åŒ–äº†',newValue,oldValue)
  })
  watch(obj,(newValue,oldValue)=&gt;{
    console.log('Objå˜åŒ–äº†',newValue,oldValue)
  })
&lt;/script&gt;
</code></pre>
<h4 data-id="heading-28">* æƒ…å†µå››</h4>
<p>ç›‘è§†<code>ref</code>æˆ–<code>reactive</code>å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ä¸­çš„<strong>æŸä¸ªå±æ€§</strong>ï¼Œæ³¨æ„ç‚¹å¦‚ä¸‹ï¼š</p>
<ol>
<li>è‹¥è¯¥å±æ€§å€¼<strong>ä¸æ˜¯</strong>ã€å¯¹è±¡ç±»å‹ã€‘ï¼Œéœ€è¦å†™æˆå‡½æ•°å½¢å¼ã€‚</li>
<li>è‹¥è¯¥å±æ€§å€¼æ˜¯<strong>ä¾ç„¶</strong>æ˜¯ã€å¯¹è±¡ç±»å‹ã€‘ï¼Œå¯ç›´æ¥ç¼–ï¼Œä¹Ÿå¯å†™æˆå‡½æ•°ï¼Œå»ºè®®å†™æˆå‡½æ•°ã€‚</li>
</ol>
<p>ç»“è®ºï¼šç›‘è§†çš„è¦æ˜¯å¯¹è±¡é‡Œçš„å±æ€§ï¼Œé‚£ä¹ˆæœ€å¥½å†™å‡½æ•°å¼ï¼Œæ³¨æ„ç‚¹ï¼šè‹¥æ˜¯å¯¹è±¡ç›‘è§†çš„æ˜¯åœ°å€å€¼ï¼Œéœ€è¦å…³æ³¨å¯¹è±¡å†…éƒ¨ï¼Œéœ€è¦æ‰‹åŠ¨å¼€å¯æ·±åº¦ç›‘è§†ã€‚</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="person"&gt;
    &lt;h1&gt;æƒ…å†µå››ï¼šç›‘è§†ã€refã€‘æˆ–ã€reactiveã€‘å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ä¸­çš„æŸä¸ªå±æ€§&lt;/h1&gt;
    &lt;h2&gt;å§“åï¼š{{ person.name }}&lt;/h2&gt;
    &lt;h2&gt;å¹´é¾„ï¼š{{ person.age }}&lt;/h2&gt;
    &lt;h2&gt;æ±½è½¦ï¼š{{ person.car.c1 }}ã€{{ person.car.c2 }}&lt;/h2&gt;
    &lt;button @click="changeName"&gt;ä¿®æ”¹åå­—&lt;/button&gt;
    &lt;button @click="changeAge"&gt;ä¿®æ”¹å¹´é¾„&lt;/button&gt;
    &lt;button @click="changeC1"&gt;ä¿®æ”¹ç¬¬ä¸€å°è½¦&lt;/button&gt;
    &lt;button @click="changeC2"&gt;ä¿®æ”¹ç¬¬äºŒå°è½¦&lt;/button&gt;
    &lt;button @click="changeCar"&gt;ä¿®æ”¹æ•´ä¸ªè½¦&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts" setup name="Person"&gt;
  import {reactive,watch} from 'vue'

  // æ•°æ®
  let person = reactive({
    name:'å¼ ä¸‰',
    age:18,
    car:{
      c1:'å¥”é©°',
      c2:'å®é©¬'
    }
  })
  // æ–¹æ³•
  function changeName(){
    person.name += '~'
  }
  function changeAge(){
    person.age += 1
  }
  function changeC1(){
    person.car.c1 = 'å¥¥è¿ª'
  }
  function changeC2(){
    person.car.c2 = 'å¤§ä¼—'
  }
  function changeCar(){
    person.car = {c1:'é›…è¿ª',c2:'çˆ±ç›'}
  }

  // ç›‘è§†ï¼Œæƒ…å†µå››ï¼šç›‘è§†å“åº”å¼å¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§ï¼Œä¸”è¯¥å±æ€§æ˜¯åŸºæœ¬ç±»å‹çš„ï¼Œè¦å†™æˆå‡½æ•°å¼
  /* watch(()=&gt; person.name,(newValue,oldValue)=&gt;{
    console.log('person.nameå˜åŒ–äº†',newValue,oldValue)
  }) */

  // ç›‘è§†ï¼Œæƒ…å†µå››ï¼šç›‘è§†å“åº”å¼å¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§ï¼Œä¸”è¯¥å±æ€§æ˜¯å¯¹è±¡ç±»å‹çš„ï¼Œå¯ä»¥ç›´æ¥å†™ï¼Œä¹Ÿèƒ½å†™å‡½æ•°ï¼Œæ›´æ¨èå†™å‡½æ•°
  watch(()=&gt;person.car,(newValue,oldValue)=&gt;{
    console.log('person.carå˜åŒ–äº†',newValue,oldValue)
  },{deep:true})
&lt;/script&gt;
</code></pre>
<h4 data-id="heading-29">* æƒ…å†µäº”</h4>
<p>ç›‘è§†ä¸Šè¿°çš„å¤šä¸ªæ•°æ®</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="person"&gt;
    &lt;h1&gt;æƒ…å†µäº”ï¼šç›‘è§†ä¸Šè¿°çš„å¤šä¸ªæ•°æ®&lt;/h1&gt;
    &lt;h2&gt;å§“åï¼š{{ person.name }}&lt;/h2&gt;
    &lt;h2&gt;å¹´é¾„ï¼š{{ person.age }}&lt;/h2&gt;
    &lt;h2&gt;æ±½è½¦ï¼š{{ person.car.c1 }}ã€{{ person.car.c2 }}&lt;/h2&gt;
    &lt;button @click="changeName"&gt;ä¿®æ”¹åå­—&lt;/button&gt;
    &lt;button @click="changeAge"&gt;ä¿®æ”¹å¹´é¾„&lt;/button&gt;
    &lt;button @click="changeC1"&gt;ä¿®æ”¹ç¬¬ä¸€å°è½¦&lt;/button&gt;
    &lt;button @click="changeC2"&gt;ä¿®æ”¹ç¬¬äºŒå°è½¦&lt;/button&gt;
    &lt;button @click="changeCar"&gt;ä¿®æ”¹æ•´ä¸ªè½¦&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts" setup name="Person"&gt;
  import {reactive,watch} from 'vue'

  // æ•°æ®
  let person = reactive({
    name:'å¼ ä¸‰',
    age:18,
    car:{
      c1:'å¥”é©°',
      c2:'å®é©¬'
    }
  })
  // æ–¹æ³•
  function changeName(){
    person.name += '~'
  }
  function changeAge(){
    person.age += 1
  }
  function changeC1(){
    person.car.c1 = 'å¥¥è¿ª'
  }
  function changeC2(){
    person.car.c2 = 'å¤§ä¼—'
  }
  function changeCar(){
    person.car = {c1:'é›…è¿ª',c2:'çˆ±ç›'}
  }

  // ç›‘è§†ï¼Œæƒ…å†µäº”ï¼šç›‘è§†ä¸Šè¿°çš„å¤šä¸ªæ•°æ®
  watch([()=&gt;person.name,person.car],(newValue,oldValue)=&gt;{
    console.log('person.carå˜åŒ–äº†',newValue,oldValue)
  },{deep:true})

&lt;/script&gt;
</code></pre>
<h3 data-id="heading-30">3.10. ã€watchEffectã€‘</h3>
<ul>
<li>
<p>å®˜ç½‘ï¼šç«‹å³è¿è¡Œä¸€ä¸ªå‡½æ•°ï¼ŒåŒæ—¶å“åº”å¼åœ°è¿½è¸ªå…¶ä¾èµ–ï¼Œå¹¶åœ¨ä¾èµ–æ›´æ”¹æ—¶é‡æ–°æ‰§è¡Œè¯¥å‡½æ•°ã€‚</p>
</li>
<li>
<p><code>watch</code>å¯¹æ¯”<code>watchEffect</code></p>
<blockquote>
<ol>
<li>
<p>éƒ½èƒ½ç›‘å¬å“åº”å¼æ•°æ®çš„å˜åŒ–ï¼Œä¸åŒçš„æ˜¯ç›‘å¬æ•°æ®å˜åŒ–çš„æ–¹å¼ä¸åŒ</p>
</li>
<li>
<p><code>watch</code>ï¼šè¦æ˜ç¡®æŒ‡å‡ºç›‘è§†çš„æ•°æ®</p>
</li>
<li>
<p><code>watchEffect</code>ï¼šä¸ç”¨æ˜ç¡®æŒ‡å‡ºç›‘è§†çš„æ•°æ®ï¼ˆå‡½æ•°ä¸­ç”¨åˆ°å“ªäº›å±æ€§ï¼Œé‚£å°±ç›‘è§†å“ªäº›å±æ€§ï¼‰ã€‚</p>
</li>
</ol>
</blockquote>
</li>
<li>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="person"&gt;
    &lt;h1&gt;éœ€æ±‚ï¼šæ°´æ¸©è¾¾åˆ°50â„ƒï¼Œæˆ–æ°´ä½è¾¾åˆ°20cmï¼Œåˆ™è”ç³»æœåŠ¡å™¨&lt;/h1&gt;
    &lt;h2 id="demo"&gt;æ°´æ¸©ï¼š{{temp}}&lt;/h2&gt;
    &lt;h2&gt;æ°´ä½ï¼š{{height}}&lt;/h2&gt;
    &lt;button @click="changePrice"&gt;æ°´æ¸©+1&lt;/button&gt;
    &lt;button @click="changeSum"&gt;æ°´ä½+10&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts" setup name="Person"&gt;
  import {ref,watch,watchEffect} from 'vue'
  // æ•°æ®
  let temp = ref(0)
  let height = ref(0)

  // æ–¹æ³•
  function changePrice(){
    temp.value += 10
  }
  function changeSum(){
    height.value += 1
  }

  // ç”¨watchå®ç°ï¼Œéœ€è¦æ˜ç¡®çš„æŒ‡å‡ºè¦ç›‘è§†ï¼štempã€height
  watch([temp,height],(value)=&gt;{
    // ä»valueä¸­è·å–æœ€æ–°çš„tempå€¼ã€heightå€¼
    const [newTemp,newHeight] = value
    // å®¤æ¸©è¾¾åˆ°50â„ƒï¼Œæˆ–æ°´ä½è¾¾åˆ°20cmï¼Œç«‹åˆ»è”ç³»æœåŠ¡å™¨
    if(newTemp &gt;= 50 || newHeight &gt;= 20){
      console.log('è”ç³»æœåŠ¡å™¨')
    }
  })

  // ç”¨watchEffectå®ç°ï¼Œä¸ç”¨
  const stopWtach = watchEffect(()=&gt;{
    // å®¤æ¸©è¾¾åˆ°50â„ƒï¼Œæˆ–æ°´ä½è¾¾åˆ°20cmï¼Œç«‹åˆ»è”ç³»æœåŠ¡å™¨
    if(temp.value &gt;= 50 || height.value &gt;= 20){
      console.log(document.getElementById('demo')?.innerText)
      console.log('è”ç³»æœåŠ¡å™¨')
    }
    // æ°´æ¸©è¾¾åˆ°100ï¼Œæˆ–æ°´ä½è¾¾åˆ°50ï¼Œå–æ¶ˆç›‘è§†
    if(temp.value === 100 || height.value === 50){
      console.log('æ¸…ç†äº†')
      stopWtach()
    }
  })
&lt;/script&gt;
</code></pre>
</li>
</ul>
<h3 data-id="heading-31">3.11. ã€æ ‡ç­¾çš„ ref å±æ€§ã€‘</h3>
<p>ä½œç”¨ï¼šç”¨äºæ³¨å†Œæ¨¡æ¿å¼•ç”¨ã€‚</p>
<blockquote>
<ul>
<li>
<p>ç”¨åœ¨æ™®é€š<code>DOM</code>æ ‡ç­¾ä¸Šï¼Œè·å–çš„æ˜¯<code>DOM</code>èŠ‚ç‚¹ã€‚</p>
</li>
<li>
<p>ç”¨åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šï¼Œè·å–çš„æ˜¯ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚</p>
</li>
</ul>
</blockquote>
<p>ç”¨åœ¨æ™®é€š<code>DOM</code>æ ‡ç­¾ä¸Šï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="person"&gt;
    &lt;h1 ref="title1"&gt;å°šç¡…è°·&lt;/h1&gt;
    &lt;h2 ref="title2"&gt;å‰ç«¯&lt;/h2&gt;
    &lt;h3 ref="title3"&gt;Vue&lt;/h3&gt;
    &lt;input type="text" ref="inpt"&gt; &lt;br&gt;&lt;br&gt;
    &lt;button @click="showLog"&gt;ç‚¹æˆ‘æ‰“å°å†…å®¹&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts" setup name="Person"&gt;
  import {ref} from 'vue'
	
  let title1 = ref()
  let title2 = ref()
  let title3 = ref()

  function showLog(){
    // é€šè¿‡idè·å–å…ƒç´ 
    const t1 = document.getElementById('title1')
    // æ‰“å°å†…å®¹
    console.log((t1 as HTMLElement).innerText)
    console.log((&lt;HTMLElement&gt;t1).innerText)
    console.log(t1?.innerText)
    
		/************************************/
		
    // é€šè¿‡refè·å–å…ƒç´ 
    console.log(title1.value)
    console.log(title2.value)
    console.log(title3.value)
  }
&lt;/script&gt;
</code></pre>
<p>ç”¨åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- çˆ¶ç»„ä»¶App.vue --&gt;
&lt;template&gt;
  &lt;Person ref="ren"/&gt;
  &lt;button @click="test"&gt;æµ‹è¯•&lt;/button&gt;
&lt;/template&gt;

&lt;script lang="ts" setup name="App"&gt;
  import Person from './components/Person.vue'
  import {ref} from 'vue'

  let ren = ref()

  function test(){
    console.log(ren.value.name)
    console.log(ren.value.age)
  }
&lt;/script&gt;


&lt;!-- å­ç»„ä»¶Person.vueä¸­è¦ä½¿ç”¨defineExposeæš´éœ²å†…å®¹ --&gt;
&lt;script lang="ts" setup name="Person"&gt;
  import {ref,defineExpose} from 'vue'
	// æ•°æ®
  let name = ref('å¼ ä¸‰')
  let age = ref(18)
  /****************************/
  /****************************/
  // ä½¿ç”¨defineExposeå°†ç»„ä»¶ä¸­çš„æ•°æ®äº¤ç»™å¤–éƒ¨
  defineExpose({name,age})
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-32">3.12. ã€propsã€‘</h3>
<blockquote>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œé™åˆ¶æ¯ä¸ªPersonå¯¹è±¡çš„æ ¼å¼</span>
<span class="hljs-keyword">export</span> interface <span class="hljs-title class_">PersonInter</span> {
 <span class="hljs-attr">id</span>:string,
 <span class="hljs-attr">name</span>:string,
    <span class="hljs-attr">age</span>:number
   }
   
<span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰ç±»å‹Persons</span>
<span class="hljs-keyword">export</span> type <span class="hljs-title class_">Persons</span> = <span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">PersonInter</span>&gt;
</code></pre>
<p><code>App.vue</code>ä¸­ä»£ç ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
	&lt;Person :list="persons"/&gt;
&lt;/template&gt;
  
&lt;script lang="ts" setup name="App"&gt;
  import Person from './components/Person.vue'
  import {reactive} from 'vue'
    import {type Persons} from './types'
  
    let persons = reactive&lt;Persons&gt;([
     {id:'e98219e12',name:'å¼ ä¸‰',age:18},
      {id:'e98219e13',name:'æå››',age:19},
       {id:'e98219e14',name:'ç‹äº”',age:20}
     ])
   &lt;/script&gt;
  
</code></pre>
<p><code>Person.vue</code>ä¸­ä»£ç ï¼š</p>
<pre><code class="hljs language-Vue" lang="Vue">&lt;template&gt;
&lt;div class="person"&gt;
 &lt;ul&gt;
     &lt;li v-for="item in list" :key="item.id"&gt;
        {{item.name}}--{{item.age}}
      &lt;/li&gt;
    &lt;/ul&gt;
   &lt;/div&gt;
   &lt;/template&gt;
  
&lt;script lang="ts" setup name="Person"&gt;
import {defineProps} from 'vue'
import {type PersonInter} from '@/types'
  
  // ç¬¬ä¸€ç§å†™æ³•ï¼šä»…æ¥æ”¶
// const props = defineProps(['list'])
  
  // ç¬¬äºŒç§å†™æ³•ï¼šæ¥æ”¶+é™åˆ¶ç±»å‹
// defineProps&lt;{list:Persons}&gt;()
  
  // ç¬¬ä¸‰ç§å†™æ³•ï¼šæ¥æ”¶+é™åˆ¶ç±»å‹+æŒ‡å®šé»˜è®¤å€¼+é™åˆ¶å¿…è¦æ€§
let props = withDefaults(defineProps&lt;{list?:Persons}&gt;(),{
     list:()=&gt;[{id:'asdasg01',name:'å°çŒªä½©å¥‡',age:18}]
  })
   console.log(props)
  &lt;/script&gt;
</code></pre>
</blockquote>
<h3 data-id="heading-33">3.13. ã€ç”Ÿå‘½å‘¨æœŸã€‘</h3>
<ul>
<li>
<p>æ¦‚å¿µï¼š<code>Vue</code>ç»„ä»¶å®ä¾‹åœ¨åˆ›å»ºæ—¶è¦ç»å†ä¸€ç³»åˆ—çš„åˆå§‹åŒ–æ­¥éª¤ï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­<code>Vue</code>ä¼šåœ¨åˆé€‚çš„æ—¶æœºï¼Œè°ƒç”¨ç‰¹å®šçš„å‡½æ•°ï¼Œä»è€Œè®©å¼€å‘è€…æœ‰æœºä¼šåœ¨ç‰¹å®šé˜¶æ®µè¿è¡Œè‡ªå·±çš„ä»£ç ï¼Œè¿™äº›ç‰¹å®šçš„å‡½æ•°ç»Ÿç§°ä¸ºï¼šç”Ÿå‘½å‘¨æœŸé’©å­</p>
</li>
<li>
<p>è§„å¾‹ï¼š</p>
<blockquote>
<p>ç”Ÿå‘½å‘¨æœŸæ•´ä½“åˆ†ä¸ºå››ä¸ªé˜¶æ®µï¼Œåˆ†åˆ«æ˜¯ï¼š<strong>åˆ›å»ºã€æŒ‚è½½ã€æ›´æ–°ã€é”€æ¯</strong>ï¼Œæ¯ä¸ªé˜¶æ®µéƒ½æœ‰ä¸¤ä¸ªé’©å­ï¼Œä¸€å‰ä¸€åã€‚</p>
</blockquote>
</li>
<li>
<p><code>Vue2</code>çš„ç”Ÿå‘½å‘¨æœŸ</p>
<blockquote>
<p>åˆ›å»ºé˜¶æ®µï¼š<code>beforeCreate</code>ã€<code>created</code></p>
<p>æŒ‚è½½é˜¶æ®µï¼š<code>beforeMount</code>ã€<code>mounted</code></p>
<p>æ›´æ–°é˜¶æ®µï¼š<code>beforeUpdate</code>ã€<code>updated</code></p>
<p>é”€æ¯é˜¶æ®µï¼š<code>beforeDestroy</code>ã€<code>destroyed</code></p>
</blockquote>
</li>
<li>
<p><code>Vue3</code>çš„ç”Ÿå‘½å‘¨æœŸ</p>
<blockquote>
<p>åˆ›å»ºé˜¶æ®µï¼š<code>setup</code></p>
<p>æŒ‚è½½é˜¶æ®µï¼š<code>onBeforeMount</code>ã€<code>onMounted</code></p>
<p>æ›´æ–°é˜¶æ®µï¼š<code>onBeforeUpdate</code>ã€<code>onUpdated</code></p>
<p>å¸è½½é˜¶æ®µï¼š<code>onBeforeUnmount</code>ã€<code>onUnmounted</code></p>
</blockquote>
</li>
<li>
<p>å¸¸ç”¨çš„é’©å­ï¼š<code>onMounted</code>(æŒ‚è½½å®Œæ¯•)ã€<code>onUpdated</code>(æ›´æ–°å®Œæ¯•)ã€<code>onBeforeUnmount</code>(å¸è½½ä¹‹å‰)</p>
</li>
<li>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="person"&gt;
    &lt;h2&gt;å½“å‰æ±‚å’Œä¸ºï¼š{{ sum }}&lt;/h2&gt;
    &lt;button @click="changeSum"&gt;ç‚¹æˆ‘sum+1&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;!-- vue3å†™æ³• --&gt;
&lt;script lang="ts" setup name="Person"&gt;
  import { 
    ref, 
    onBeforeMount, 
    onMounted, 
    onBeforeUpdate, 
    onUpdated, 
    onBeforeUnmount, 
    onUnmounted 
  } from 'vue'

  // æ•°æ®
  let sum = ref(0)
  // æ–¹æ³•
  function changeSum() {
    sum.value += 1
  }
  console.log('setup')
  // ç”Ÿå‘½å‘¨æœŸé’©å­
  onBeforeMount(()=&gt;{
    console.log('æŒ‚è½½ä¹‹å‰')
  })
  onMounted(()=&gt;{
    console.log('æŒ‚è½½å®Œæ¯•')
  })
  onBeforeUpdate(()=&gt;{
    console.log('æ›´æ–°ä¹‹å‰')
  })
  onUpdated(()=&gt;{
    console.log('æ›´æ–°å®Œæ¯•')
  })
  onBeforeUnmount(()=&gt;{
    console.log('å¸è½½ä¹‹å‰')
  })
  onUnmounted(()=&gt;{
    console.log('å¸è½½å®Œæ¯•')
  })
&lt;/script&gt;
</code></pre>
</li>
</ul>
<h3 data-id="heading-34">3.14. ã€è‡ªå®šä¹‰hookã€‘</h3>
<ul>
<li>
<p>ä»€ä¹ˆæ˜¯<code>hook</code>ï¼Ÿâ€”â€” æœ¬è´¨æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ŒæŠŠ<code>setup</code>å‡½æ•°ä¸­ä½¿ç”¨çš„<code>Composition API</code>è¿›è¡Œäº†å°è£…ï¼Œç±»ä¼¼äº<code>vue2.x</code>ä¸­çš„<code>mixin</code>ã€‚</p>
</li>
<li>
<p>è‡ªå®šä¹‰<code>hook</code>çš„ä¼˜åŠ¿ï¼šå¤ç”¨ä»£ç , è®©<code>setup</code>ä¸­çš„é€»è¾‘æ›´æ¸…æ¥šæ˜“æ‡‚ã€‚</p>
</li>
</ul>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<ul>
<li>
<p><code>useSum.ts</code>ä¸­å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> {ref,onMounted} <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"/>){
  <span class="hljs-keyword">let</span> sum = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">increment</span> = (<span class="hljs-params"/>)=&gt;{
    sum.<span class="hljs-property">value</span> += <span class="hljs-number">1</span>
  }
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">decrement</span> = (<span class="hljs-params"/>)=&gt;{
    sum.<span class="hljs-property">value</span> -= <span class="hljs-number">1</span>
  }
  <span class="hljs-title function_">onMounted</span>(<span class="hljs-function">()=&gt;</span>{
    <span class="hljs-title function_">increment</span>()
  })

  <span class="hljs-comment">//å‘å¤–éƒ¨æš´éœ²æ•°æ®</span>
  <span class="hljs-keyword">return</span> {sum,increment,decrement}
}		
</code></pre>
</li>
<li>
<p><code>useDog.ts</code>ä¸­å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> {reactive,onMounted} <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> axios,{<span class="hljs-title class_">AxiosError</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'axios'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"/>){
  <span class="hljs-keyword">let</span> dogList = reactive&lt;string[]&gt;([])

  <span class="hljs-comment">// æ–¹æ³•</span>
  <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getDog</span>(<span class="hljs-params"/>){
    <span class="hljs-keyword">try</span> {
      <span class="hljs-comment">// å‘è¯·æ±‚</span>
      <span class="hljs-keyword">let</span> {data} = <span class="hljs-keyword">await</span> axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">'https://dog.ceo/api/breed/pembroke/images/random'</span>)
      <span class="hljs-comment">// ç»´æŠ¤æ•°æ®</span>
      dogList.<span class="hljs-title function_">push</span>(data.<span class="hljs-property">message</span>)
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-comment">// å¤„ç†é”™è¯¯</span>
      <span class="hljs-keyword">const</span> err = &lt;<span class="hljs-title class_">AxiosError</span>&gt;error
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(err.<span class="hljs-property">message</span>)
    }
  }

  <span class="hljs-comment">// æŒ‚è½½é’©å­</span>
  <span class="hljs-title function_">onMounted</span>(<span class="hljs-function">()=&gt;</span>{
    <span class="hljs-title function_">getDog</span>()
  })
	
  <span class="hljs-comment">//å‘å¤–éƒ¨æš´éœ²æ•°æ®</span>
  <span class="hljs-keyword">return</span> {dogList,getDog}
}
</code></pre>
</li>
<li>
<p>ç»„ä»¶ä¸­å…·ä½“ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;h2&gt;å½“å‰æ±‚å’Œä¸ºï¼š{{sum}}&lt;/h2&gt;
  &lt;button @click="increment"&gt;ç‚¹æˆ‘+1&lt;/button&gt;
  &lt;button @click="decrement"&gt;ç‚¹æˆ‘-1&lt;/button&gt;
  &lt;hr&gt;
  &lt;img v-for="(u,index) in dogList.urlList" :key="index" :src="(u as string)"&gt; 
  &lt;span v-show="dogList.isLoading"&gt;åŠ è½½ä¸­......&lt;/span&gt;&lt;br&gt;
  &lt;button @click="getDog"&gt;å†æ¥ä¸€åªç‹—&lt;/button&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
  import {defineComponent} from 'vue'

  export default defineComponent({
    name:'App',
  })
&lt;/script&gt;

&lt;script setup lang="ts"&gt;
  import useSum from './hooks/useSum'
  import useDog from './hooks/useDog'
	
  let {sum,increment,decrement} = useSum()
  let {dogList,getDog} = useDog()
&lt;/script&gt;
</code></pre>
</li>
</ul>
<hr/>
<h2 data-id="heading-35">4. è·¯ç”±</h2>
<h3 data-id="heading-36">4.1. ã€å¯¹è·¯ç”±çš„ç†è§£ã€‘</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4261dcf42dd5466eb33def880c9a2bba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmQ5LiA5p2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710623&amp;x-signature=RxRUIaH3%2Fs7bU8W9v4nd%2F65n2w8%3D" alt="image-20231018144351536.png" loading="lazy"/></p>
<h3 data-id="heading-37">4.2. ã€åŸºæœ¬åˆ‡æ¢æ•ˆæœã€‘</h3>
<ul>
<li>
<p><code>Vue3</code>ä¸­è¦ä½¿ç”¨<code>vue-router</code>çš„æœ€æ–°ç‰ˆæœ¬ï¼Œç›®å‰æ˜¯<code>4</code>ç‰ˆæœ¬ã€‚</p>
</li>
<li>
<p>è·¯ç”±é…ç½®æ–‡ä»¶ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> {createRouter,createWebHistory} <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-router'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Home</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/pages/Home.vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">News</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/pages/News.vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">About</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/pages/About.vue'</span>

<span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createRouter</span>({
	<span class="hljs-attr">history</span>:<span class="hljs-title function_">createWebHistory</span>(),
	<span class="hljs-attr">routes</span>:[
		{
			<span class="hljs-attr">path</span>:<span class="hljs-string">'/home'</span>,
			<span class="hljs-attr">component</span>:<span class="hljs-title class_">Home</span>
		},
		{
			<span class="hljs-attr">path</span>:<span class="hljs-string">'/about'</span>,
			<span class="hljs-attr">component</span>:<span class="hljs-title class_">About</span>
		}
	]
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router
</code></pre>
</li>
</ul>

<ul>
<li>
<p><code>main.ts</code>ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">'./router/index'</span>
app.<span class="hljs-title function_">use</span>(router)

app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>)
</code></pre>
</li>
</ul>

<ul>
<li>
<p><code>App.vue</code>ä»£ç å¦‚ä¸‹</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="app"&gt;
    &lt;h2 class="title"&gt;Vueè·¯ç”±æµ‹è¯•&lt;/h2&gt;
    &lt;!-- å¯¼èˆªåŒº --&gt;
    &lt;div class="navigate"&gt;
      &lt;RouterLink to="/home" active-class="active"&gt;é¦–é¡µ&lt;/RouterLink&gt;
      &lt;RouterLink to="/news" active-class="active"&gt;æ–°é—»&lt;/RouterLink&gt;
      &lt;RouterLink to="/about" active-class="active"&gt;å…³äº&lt;/RouterLink&gt;
    &lt;/div&gt;
    &lt;!-- å±•ç¤ºåŒº --&gt;
    &lt;div class="main-content"&gt;
      &lt;RouterView&gt;&lt;/RouterView&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts" setup name="App"&gt;
  import {RouterLink,RouterView} from 'vue-router'  
&lt;/script&gt;
</code></pre>
</li>
</ul>
<h3 data-id="heading-38">4.3. ã€ä¸¤ä¸ªæ³¨æ„ç‚¹ã€‘</h3>
<blockquote>
<ol>
<li>
<p>è·¯ç”±ç»„ä»¶é€šå¸¸å­˜æ”¾åœ¨<code>pages</code> æˆ– <code>views</code>æ–‡ä»¶å¤¹ï¼Œä¸€èˆ¬ç»„ä»¶é€šå¸¸å­˜æ”¾åœ¨<code>components</code>æ–‡ä»¶å¤¹ã€‚</p>
</li>
<li>
<p>é€šè¿‡ç‚¹å‡»å¯¼èˆªï¼Œè§†è§‰æ•ˆæœä¸Šâ€œæ¶ˆå¤±â€ äº†çš„è·¯ç”±ç»„ä»¶ï¼Œé»˜è®¤æ˜¯è¢«<strong>å¸è½½</strong>æ‰çš„ï¼Œéœ€è¦çš„æ—¶å€™å†å»<strong>æŒ‚è½½</strong>ã€‚</p>
</li>
</ol>
</blockquote>
<h3 data-id="heading-39">4.4.ã€è·¯ç”±å™¨å·¥ä½œæ¨¡å¼ã€‘</h3>
<ol>
<li>
<p><code>history</code>æ¨¡å¼</p>
<blockquote>
<p>ä¼˜ç‚¹ï¼š<code>URL</code>æ›´åŠ ç¾è§‚ï¼Œä¸å¸¦æœ‰<code>#</code>ï¼Œæ›´æ¥è¿‘ä¼ ç»Ÿçš„ç½‘ç«™<code>URL</code>ã€‚</p>
<p>ç¼ºç‚¹ï¼šåæœŸé¡¹ç›®ä¸Šçº¿ï¼Œéœ€è¦æœåŠ¡ç«¯é…åˆå¤„ç†è·¯å¾„é—®é¢˜ï¼Œå¦åˆ™åˆ·æ–°ä¼šæœ‰<code>404</code>é”™è¯¯ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createRouter</span>({
  	<span class="hljs-attr">history</span>:<span class="hljs-title function_">createWebHistory</span>(), <span class="hljs-comment">//historyæ¨¡å¼</span>
  	<span class="hljs-comment">/******/</span>
})
</code></pre>
</blockquote>
</li>
<li>
<p><code>hash</code>æ¨¡å¼</p>
<blockquote>
<p>ä¼˜ç‚¹ï¼šå…¼å®¹æ€§æ›´å¥½ï¼Œå› ä¸ºä¸éœ€è¦æœåŠ¡å™¨ç«¯å¤„ç†è·¯å¾„ã€‚</p>
<p>ç¼ºç‚¹ï¼š<code>URL</code>å¸¦æœ‰<code>#</code>ä¸å¤ªç¾è§‚ï¼Œä¸”åœ¨<code>SEO</code>ä¼˜åŒ–æ–¹é¢ç›¸å¯¹è¾ƒå·®ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createRouter</span>({
  	<span class="hljs-attr">history</span>:<span class="hljs-title function_">createWebHashHistory</span>(), <span class="hljs-comment">//hashæ¨¡å¼</span>
  	<span class="hljs-comment">/******/</span>
})
</code></pre>
</blockquote>
</li>
</ol>
<h3 data-id="heading-40">4.5. ã€toçš„ä¸¤ç§å†™æ³•ã€‘</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- ç¬¬ä¸€ç§ï¼štoçš„å­—ç¬¦ä¸²å†™æ³• --&gt;
&lt;router-link active-class="active" to="/home"&gt;ä¸»é¡µ&lt;/router-link&gt;

&lt;!-- ç¬¬äºŒç§ï¼štoçš„å¯¹è±¡å†™æ³• --&gt;
&lt;router-link active-class="active" :to="{path:'/home'}"&gt;Home&lt;/router-link&gt;
</code></pre>
<h3 data-id="heading-41">4.6. ã€å‘½åè·¯ç”±ã€‘</h3>
<p>ä½œç”¨ï¼šå¯ä»¥ç®€åŒ–è·¯ç”±è·³è½¬åŠä¼ å‚ï¼ˆåé¢å°±è®²ï¼‰ã€‚</p>
<p>ç»™è·¯ç”±è§„åˆ™å‘½åï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-attr">routes</span>:[
  {
    <span class="hljs-attr">name</span>:<span class="hljs-string">'zhuye'</span>,
    <span class="hljs-attr">path</span>:<span class="hljs-string">'/home'</span>,
    <span class="hljs-attr">component</span>:<span class="hljs-title class_">Home</span>
  },
  {
    <span class="hljs-attr">name</span>:<span class="hljs-string">'xinwen'</span>,
    <span class="hljs-attr">path</span>:<span class="hljs-string">'/news'</span>,
    <span class="hljs-attr">component</span>:<span class="hljs-title class_">News</span>,
  },
  {
    <span class="hljs-attr">name</span>:<span class="hljs-string">'guanyu'</span>,
    <span class="hljs-attr">path</span>:<span class="hljs-string">'/about'</span>,
    <span class="hljs-attr">component</span>:<span class="hljs-title class_">About</span>
  }
]
</code></pre>
<p>è·³è½¬è·¯ç”±ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!--ç®€åŒ–å‰ï¼šéœ€è¦å†™å®Œæ•´çš„è·¯å¾„ï¼ˆtoçš„å­—ç¬¦ä¸²å†™æ³•ï¼‰ --&gt;
&lt;router-link to="/news/detail"&gt;è·³è½¬&lt;/router-link&gt;

&lt;!--ç®€åŒ–åï¼šç›´æ¥é€šè¿‡åå­—è·³è½¬ï¼ˆtoçš„å¯¹è±¡å†™æ³•é…åˆnameå±æ€§ï¼‰ --&gt;
&lt;router-link :to="{name:'guanyu'}"&gt;è·³è½¬&lt;/router-link&gt;
</code></pre>
<h3 data-id="heading-42">4.7. ã€åµŒå¥—è·¯ç”±ã€‘</h3>
<ol>
<li>
<p>ç¼–å†™<code>News</code>çš„å­è·¯ç”±ï¼š<code>Detail.vue</code></p>
</li>
<li>
<p>é…ç½®è·¯ç”±è§„åˆ™ï¼Œä½¿ç”¨<code>children</code>é…ç½®é¡¹ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createRouter</span>({
  <span class="hljs-attr">history</span>:<span class="hljs-title function_">createWebHistory</span>(),
	<span class="hljs-attr">routes</span>:[
		{
			<span class="hljs-attr">name</span>:<span class="hljs-string">'zhuye'</span>,
			<span class="hljs-attr">path</span>:<span class="hljs-string">'/home'</span>,
			<span class="hljs-attr">component</span>:<span class="hljs-title class_">Home</span>
		},
		{
			<span class="hljs-attr">name</span>:<span class="hljs-string">'xinwen'</span>,
			<span class="hljs-attr">path</span>:<span class="hljs-string">'/news'</span>,
			<span class="hljs-attr">component</span>:<span class="hljs-title class_">News</span>,
			<span class="hljs-attr">children</span>:[
				{
					<span class="hljs-attr">name</span>:<span class="hljs-string">'xiang'</span>,
					<span class="hljs-attr">path</span>:<span class="hljs-string">'detail'</span>,
					<span class="hljs-attr">component</span>:<span class="hljs-title class_">Detail</span>
				}
			]
		},
		{
			<span class="hljs-attr">name</span>:<span class="hljs-string">'guanyu'</span>,
			<span class="hljs-attr">path</span>:<span class="hljs-string">'/about'</span>,
			<span class="hljs-attr">component</span>:<span class="hljs-title class_">About</span>
		}
	]
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router
</code></pre>
</li>
<li>
<p>è·³è½¬è·¯ç”±ï¼ˆè®°å¾—è¦åŠ å®Œæ•´è·¯å¾„ï¼‰ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;router-link to="/news/detail"&gt;xxxx&lt;/router-link&gt;
&lt;!-- æˆ– --&gt;
&lt;router-link :to="{path:'/news/detail'}"&gt;xxxx&lt;/router-link&gt;
</code></pre>
</li>
<li>
<p>è®°å¾—å»<code>Home</code>ç»„ä»¶ä¸­é¢„ç•™ä¸€ä¸ª<code>&lt;router-view&gt;</code></p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="news"&gt;
    &lt;nav class="news-list"&gt;
      &lt;RouterLink v-for="news in newsList" :key="news.id" :to="{path:'/news/detail'}"&gt;
        {{news.name}}
      &lt;/RouterLink&gt;
    &lt;/nav&gt;
    &lt;div class="news-detail"&gt;
      &lt;RouterView/&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
</li>
</ol>
<h3 data-id="heading-43">4.8. ã€è·¯ç”±ä¼ å‚ã€‘</h3>
<h4 data-id="heading-44">queryå‚æ•°</h4>
<ol>
<li>
<p>ä¼ é€’å‚æ•°</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- è·³è½¬å¹¶æºå¸¦queryå‚æ•°ï¼ˆtoçš„å­—ç¬¦ä¸²å†™æ³•ï¼‰ --&gt;
&lt;router-link to="/news/detail?a=1&amp;b=2&amp;content=æ¬¢è¿ä½ "&gt;
	è·³è½¬
&lt;/router-link&gt;
				
&lt;!-- è·³è½¬å¹¶æºå¸¦queryå‚æ•°ï¼ˆtoçš„å¯¹è±¡å†™æ³•ï¼‰ --&gt;
&lt;RouterLink 
  :to="{
    //name:'xiang', //ç”¨nameä¹Ÿå¯ä»¥è·³è½¬
    path:'/news/detail',
    query:{
      id:news.id,
      title:news.title,
      content:news.content
    }
  }"
&gt;
  {{news.title}}
&lt;/RouterLink&gt;
</code></pre>
</li>
<li>
<p>æ¥æ”¶å‚æ•°ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> {useRoute} <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-router'</span>
<span class="hljs-keyword">const</span> route = <span class="hljs-title function_">useRoute</span>()
<span class="hljs-comment">// æ‰“å°queryå‚æ•°</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(route.<span class="hljs-property">query</span>)
</code></pre>
</li>
</ol>
<h4 data-id="heading-45">paramså‚æ•°</h4>
<ol>
<li>
<p>ä¼ é€’å‚æ•°</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- è·³è½¬å¹¶æºå¸¦paramså‚æ•°ï¼ˆtoçš„å­—ç¬¦ä¸²å†™æ³•ï¼‰ --&gt;
&lt;RouterLink :to="`/news/detail/001/æ–°é—»001/å†…å®¹001`"&gt;{{news.title}}&lt;/RouterLink&gt;
				
&lt;!-- è·³è½¬å¹¶æºå¸¦paramså‚æ•°ï¼ˆtoçš„å¯¹è±¡å†™æ³•ï¼‰ --&gt;
&lt;RouterLink 
  :to="{
    name:'xiang', //ç”¨nameè·³è½¬
    params:{
      id:news.id,
      title:news.title,
      content:news.title
    }
  }"
&gt;
  {{news.title}}
&lt;/RouterLink&gt;
</code></pre>
</li>
<li>
<p>æ¥æ”¶å‚æ•°ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> {useRoute} <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-router'</span>
<span class="hljs-keyword">const</span> route = <span class="hljs-title function_">useRoute</span>()
<span class="hljs-comment">// æ‰“å°paramså‚æ•°</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(route.<span class="hljs-property">params</span>)
</code></pre>
</li>
</ol>
<blockquote>
<p>å¤‡æ³¨1ï¼šä¼ é€’<code>params</code>å‚æ•°æ—¶ï¼Œè‹¥ä½¿ç”¨<code>to</code>çš„å¯¹è±¡å†™æ³•ï¼Œå¿…é¡»ä½¿ç”¨<code>name</code>é…ç½®é¡¹ï¼Œä¸èƒ½ç”¨<code>path</code>ã€‚</p>
<p>å¤‡æ³¨2ï¼šä¼ é€’<code>params</code>å‚æ•°æ—¶ï¼Œéœ€è¦æå‰åœ¨è§„åˆ™ä¸­å ä½ã€‚</p>
</blockquote>
<h3 data-id="heading-46">4.9. ã€è·¯ç”±çš„propsé…ç½®ã€‘</h3>
<p>ä½œç”¨ï¼šè®©è·¯ç”±ç»„ä»¶æ›´æ–¹ä¾¿çš„æ”¶åˆ°å‚æ•°ï¼ˆå¯ä»¥å°†è·¯ç”±å‚æ•°ä½œä¸º<code>props</code>ä¼ ç»™ç»„ä»¶ï¼‰</p>
<pre><code class="hljs language-js" lang="js">{
	<span class="hljs-attr">name</span>:<span class="hljs-string">'xiang'</span>,
	<span class="hljs-attr">path</span>:<span class="hljs-string">'detail/:id/:title/:content'</span>,
	<span class="hljs-attr">component</span>:<span class="hljs-title class_">Detail</span>,

  <span class="hljs-comment">// propsçš„å¯¹è±¡å†™æ³•ï¼Œä½œç”¨ï¼šæŠŠå¯¹è±¡ä¸­çš„æ¯ä¸€ç»„key-valueä½œä¸ºpropsä¼ ç»™Detailç»„ä»¶</span>
  <span class="hljs-comment">// props:{a:1,b:2,c:3}, </span>

  <span class="hljs-comment">// propsçš„å¸ƒå°”å€¼å†™æ³•ï¼Œä½œç”¨ï¼šæŠŠæ”¶åˆ°äº†æ¯ä¸€ç»„paramså‚æ•°ï¼Œä½œä¸ºpropsä¼ ç»™Detailç»„ä»¶</span>
  <span class="hljs-comment">// props:true</span>
  
  <span class="hljs-comment">// propsçš„å‡½æ•°å†™æ³•ï¼Œä½œç”¨ï¼šæŠŠè¿”å›çš„å¯¹è±¡ä¸­æ¯ä¸€ç»„key-valueä½œä¸ºpropsä¼ ç»™Detailç»„ä»¶</span>
  <span class="hljs-title function_">props</span>(<span class="hljs-params">route</span>){
    <span class="hljs-keyword">return</span> route.<span class="hljs-property">query</span>
  }
}
</code></pre>
<h3 data-id="heading-47">4.10. ã€ replaceå±æ€§ã€‘</h3>
<ol>
<li>
<p>ä½œç”¨ï¼šæ§åˆ¶è·¯ç”±è·³è½¬æ—¶æ“ä½œæµè§ˆå™¨å†å²è®°å½•çš„æ¨¡å¼ã€‚</p>
</li>
<li>
<p>æµè§ˆå™¨çš„å†å²è®°å½•æœ‰ä¸¤ç§å†™å…¥æ–¹å¼ï¼šåˆ†åˆ«ä¸º<code>push</code>å’Œ<code>replace</code>ï¼š</p>
<ul>
<li><code>push</code>æ˜¯è¿½åŠ å†å²è®°å½•ï¼ˆé»˜è®¤å€¼ï¼‰ã€‚</li>
<li><code>replace</code>æ˜¯æ›¿æ¢å½“å‰è®°å½•ã€‚</li>
</ul>
</li>
<li>
<p>å¼€å¯<code>replace</code>æ¨¡å¼ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;RouterLink replace .......&gt;News&lt;/RouterLink&gt;
</code></pre>
</li>
</ol>
<h3 data-id="heading-48">4.11. ã€ç¼–ç¨‹å¼å¯¼èˆªã€‘</h3>
<p>è·¯ç”±ç»„ä»¶çš„ä¸¤ä¸ªé‡è¦çš„å±æ€§ï¼š<code>$route</code>å’Œ<code>$router</code>å˜æˆäº†ä¸¤ä¸ª<code>hooks</code></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> {useRoute,useRouter} <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-router'</span>

<span class="hljs-keyword">const</span> route = <span class="hljs-title function_">useRoute</span>()
<span class="hljs-keyword">const</span> router = <span class="hljs-title function_">useRouter</span>()

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(route.<span class="hljs-property">query</span>)
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(route.<span class="hljs-property">parmas</span>)
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(router.<span class="hljs-property">push</span>)
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(router.<span class="hljs-property">replace</span>)
</code></pre>
<h3 data-id="heading-49">4.12. ã€é‡å®šå‘ã€‘</h3>
<ol>
<li>
<p>ä½œç”¨ï¼šå°†ç‰¹å®šçš„è·¯å¾„ï¼Œé‡æ–°å®šå‘åˆ°å·²æœ‰è·¯ç”±ã€‚</p>
</li>
<li>
<p>å…·ä½“ç¼–ç ï¼š</p>
<pre><code class="hljs language-js" lang="js">{
    <span class="hljs-attr">path</span>:<span class="hljs-string">'/'</span>,
    <span class="hljs-attr">redirect</span>:<span class="hljs-string">'/about'</span>
}
</code></pre>
</li>
</ol>
<h2 data-id="heading-50">5. pinia</h2>
<h3 data-id="heading-51">5.1ã€å‡†å¤‡ä¸€ä¸ªæ•ˆæœã€‘</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0be59e1e140847d08939d73349dd98de~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmQ5LiA5p2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710623&amp;x-signature=jPZ6KocWDgwx%2BxayBwDXL%2B0yZNw%3D" alt="pinia_example.gif" loading="lazy"/></p>
<h3 data-id="heading-52">5.2ã€æ­å»º pinia ç¯å¢ƒã€‘</h3>
<p>ç¬¬ä¸€æ­¥ï¼š<code>npm install pinia</code></p>
<p>ç¬¬äºŒæ­¥ï¼šæ“ä½œ<code>src/main.ts</code></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.vue'</span>

<span class="hljs-comment">/* å¼•å…¥createPiniaï¼Œç”¨äºåˆ›å»ºpinia */</span>
<span class="hljs-keyword">import</span> { createPinia } <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span>

<span class="hljs-comment">/* åˆ›å»ºpinia */</span>
<span class="hljs-keyword">const</span> pinia = <span class="hljs-title function_">createPinia</span>()
<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>)

<span class="hljs-comment">/* ä½¿ç”¨æ’ä»¶ */</span>{}
app.<span class="hljs-title function_">use</span>(pinia)
app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>)
</code></pre>
<p>æ­¤æ—¶å¼€å‘è€…å·¥å…·ä¸­å·²ç»æœ‰äº†<code>pinia</code>é€‰é¡¹</p>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/50f1280ea7e243d7bfb4c6b900408adc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmQ5LiA5p2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710623&amp;x-signature=B9jzokxxi1%2FT6MyJRC8KTbiu8Lg%3D" loading="lazy"/>
<h3 data-id="heading-53">5.3ã€å­˜å‚¨+è¯»å–æ•°æ®ã€‘</h3>
<ol>
<li>
<p><code>Store</code>æ˜¯ä¸€ä¸ªä¿å­˜ï¼š<strong>çŠ¶æ€</strong>ã€<strong>ä¸šåŠ¡é€»è¾‘</strong> çš„å®ä½“ï¼Œæ¯ä¸ªç»„ä»¶éƒ½å¯ä»¥<strong>è¯»å–</strong>ã€<strong>å†™å…¥</strong>å®ƒã€‚</p>
</li>
<li>
<p>å®ƒæœ‰ä¸‰ä¸ªæ¦‚å¿µï¼š<code>state</code>ã€<code>getter</code>ã€<code>action</code>ï¼Œç›¸å½“äºç»„ä»¶ä¸­çš„ï¼š <code>data</code>ã€ <code>computed</code> å’Œ <code>methods</code>ã€‚</p>
</li>
<li>
<p>å…·ä½“ç¼–ç ï¼š<code>src/store/count.ts</code></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// å¼•å…¥defineStoreç”¨äºåˆ›å»ºstore</span>
<span class="hljs-keyword">import</span> {defineStore} <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span>

<span class="hljs-comment">// å®šä¹‰å¹¶æš´éœ²ä¸€ä¸ªstore</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useCountStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'count'</span>,{
  <span class="hljs-comment">// åŠ¨ä½œ</span>
  <span class="hljs-attr">actions</span>:{},
  <span class="hljs-comment">// çŠ¶æ€</span>
  <span class="hljs-title function_">state</span>(<span class="hljs-params"/>){
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">sum</span>:<span class="hljs-number">6</span>
    }
  },
  <span class="hljs-comment">// è®¡ç®—</span>
  <span class="hljs-attr">getters</span>:{}
})
</code></pre>
</li>
<li>
<p>å…·ä½“ç¼–ç ï¼š<code>src/store/talk.ts</code></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å¼•å…¥defineStoreç”¨äºåˆ›å»ºstore</span>
<span class="hljs-keyword">import</span> {defineStore} <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span>

<span class="hljs-comment">// å®šä¹‰å¹¶æš´éœ²ä¸€ä¸ªstore</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useTalkStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'talk'</span>,{
  <span class="hljs-comment">// åŠ¨ä½œ</span>
  <span class="hljs-attr">actions</span>:{},
  <span class="hljs-comment">// çŠ¶æ€</span>
  <span class="hljs-title function_">state</span>(<span class="hljs-params"/>){
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">talkList</span>:[
        {<span class="hljs-attr">id</span>:<span class="hljs-string">'yuysada01'</span>,<span class="hljs-attr">content</span>:<span class="hljs-string">'ä½ ä»Šå¤©æœ‰ç‚¹æ€ªï¼Œå“ªé‡Œæ€ªï¼Ÿæ€ªå¥½çœ‹çš„ï¼'</span>},
     		{<span class="hljs-attr">id</span>:<span class="hljs-string">'yuysada02'</span>,<span class="hljs-attr">content</span>:<span class="hljs-string">'è‰è“ã€è“è“ã€è”“è¶Šè“ï¼Œä½ æƒ³æˆ‘äº†æ²¡ï¼Ÿ'</span>},
        {<span class="hljs-attr">id</span>:<span class="hljs-string">'yuysada03'</span>,<span class="hljs-attr">content</span>:<span class="hljs-string">'å¿ƒé‡Œç»™ä½ ç•™äº†ä¸€å—åœ°ï¼Œæˆ‘çš„æ­»å¿ƒå¡Œåœ°'</span>}
      ]
    }
  },
  <span class="hljs-comment">// è®¡ç®—</span>
  <span class="hljs-attr">getters</span>:{}
})
</code></pre>
</li>
<li>
<p>ç»„ä»¶ä¸­ä½¿ç”¨<code>state</code>ä¸­çš„æ•°æ®</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;h2&gt;å½“å‰æ±‚å’Œä¸ºï¼š{{ sumStore.sum }}&lt;/h2&gt;
&lt;/template&gt;

&lt;script setup lang="ts" name="Count"&gt;
  // å¼•å…¥å¯¹åº”çš„useXxxxxStore	
  import {useSumStore} from '@/store/sum'
  
  // è°ƒç”¨useXxxxxStoreå¾—åˆ°å¯¹åº”çš„store
  const sumStore = useSumStore()
&lt;/script&gt;
</code></pre>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
	&lt;ul&gt;
    &lt;li v-for="talk in talkStore.talkList" :key="talk.id"&gt;
      {{ talk.content }}
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/template&gt;

&lt;script setup lang="ts" name="Count"&gt;
  import axios from 'axios'
  import {useTalkStore} from '@/store/talk'

  const talkStore = useTalkStore()
&lt;/script&gt;
</code></pre>
</li>
</ol>
<h3 data-id="heading-54">5.4.ã€ä¿®æ”¹æ•°æ®ã€‘(ä¸‰ç§æ–¹å¼)</h3>
<ol>
<li>
<p>ç¬¬ä¸€ç§ä¿®æ”¹æ–¹å¼ï¼Œç›´æ¥ä¿®æ”¹</p>
<pre><code class="hljs language-ts" lang="ts">countStore.<span class="hljs-property">sum</span> = <span class="hljs-number">666</span>
</code></pre>
</li>
<li>
<p>ç¬¬äºŒç§ä¿®æ”¹æ–¹å¼ï¼šæ‰¹é‡ä¿®æ”¹</p>
<pre><code class="hljs language-ts" lang="ts">countStore.$patch({
  <span class="hljs-attr">sum</span>:<span class="hljs-number">999</span>,
  <span class="hljs-attr">school</span>:<span class="hljs-string">'atguigu'</span>
})
</code></pre>
</li>
<li>
<p>ç¬¬ä¸‰ç§ä¿®æ”¹æ–¹å¼ï¼šå€ŸåŠ©<code>action</code>ä¿®æ”¹ï¼ˆ<code>action</code>ä¸­å¯ä»¥ç¼–å†™ä¸€äº›ä¸šåŠ¡é€»è¾‘ï¼‰</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { defineStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useCountStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'count'</span>, {
  <span class="hljs-comment">/*************/</span>
  <span class="hljs-attr">actions</span>: {
    <span class="hljs-comment">//åŠ </span>
    <span class="hljs-title function_">increment</span>(<span class="hljs-params">value:number</span>) {
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">sum</span> &lt; <span class="hljs-number">10</span>) {
        <span class="hljs-comment">//æ“ä½œcountStoreä¸­çš„sum</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">sum</span> += value
      }
    },
    <span class="hljs-comment">//å‡</span>
    <span class="hljs-title function_">decrement</span>(<span class="hljs-params">value:number</span>){
      <span class="hljs-keyword">if</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sum</span> &gt; <span class="hljs-number">1</span>){
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">sum</span> -= value
      }
    }
  },
  <span class="hljs-comment">/*************/</span>
})
</code></pre>
</li>
<li>
<p>ç»„ä»¶ä¸­è°ƒç”¨<code>action</code>å³å¯</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ä½¿ç”¨countStore</span>
<span class="hljs-keyword">const</span> countStore = <span class="hljs-title function_">useCountStore</span>()

<span class="hljs-comment">// è°ƒç”¨å¯¹åº”action</span>
countStore.<span class="hljs-title function_">incrementOdd</span>(n.<span class="hljs-property">value</span>)
</code></pre>
</li>
</ol>
<h3 data-id="heading-55">5.5.ã€storeToRefsã€‘</h3>
<ul>
<li>å€ŸåŠ©<code>storeToRefs</code>å°†<code>store</code>ä¸­çš„æ•°æ®è½¬ä¸º<code>ref</code>å¯¹è±¡ï¼Œæ–¹ä¾¿åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ã€‚</li>
<li>æ³¨æ„ï¼š<code>pinia</code>æä¾›çš„<code>storeToRefs</code>åªä¼šå°†æ•°æ®åšè½¬æ¢ï¼Œè€Œ<code>Vue</code>çš„<code>toRefs</code>ä¼šè½¬æ¢<code>store</code>ä¸­æ•°æ®ã€‚</li>
</ul>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
	&lt;div class="count"&gt;
		&lt;h2&gt;å½“å‰æ±‚å’Œä¸ºï¼š{{sum}}&lt;/h2&gt;
	&lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts" name="Count"&gt;
  import { useCountStore } from '@/store/count'
  /* å¼•å…¥storeToRefs */
  import { storeToRefs } from 'pinia'

	/* å¾—åˆ°countStore */
  const countStore = useCountStore()
  /* ä½¿ç”¨storeToRefsè½¬æ¢countStoreï¼Œéšåè§£æ„ */
  const {sum} = storeToRefs(countStore)
&lt;/script&gt;

</code></pre>
<h3 data-id="heading-56">5.6.ã€gettersã€‘</h3>
<ol>
<li>
<p>æ¦‚å¿µï¼šå½“<code>state</code>ä¸­çš„æ•°æ®ï¼Œéœ€è¦ç»è¿‡å¤„ç†åå†ä½¿ç”¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨<code>getters</code>é…ç½®ã€‚</p>
</li>
<li>
<p>è¿½åŠ <code>getters</code>é…ç½®ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å¼•å…¥defineStoreç”¨äºåˆ›å»ºstore</span>
<span class="hljs-keyword">import</span> {defineStore} <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span>

<span class="hljs-comment">// å®šä¹‰å¹¶æš´éœ²ä¸€ä¸ªstore</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useCountStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'count'</span>,{
  <span class="hljs-comment">// åŠ¨ä½œ</span>
  <span class="hljs-attr">actions</span>:{
    <span class="hljs-comment">/************/</span>
  },
  <span class="hljs-comment">// çŠ¶æ€</span>
  <span class="hljs-title function_">state</span>(<span class="hljs-params"/>){
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">sum</span>:<span class="hljs-number">1</span>,
      <span class="hljs-attr">school</span>:<span class="hljs-string">'atguigu'</span>
    }
  },
  <span class="hljs-comment">// è®¡ç®—</span>
  <span class="hljs-attr">getters</span>:{
    <span class="hljs-attr">bigSum</span>:(state):<span class="hljs-function"><span class="hljs-params">number</span> =&gt;</span> state.<span class="hljs-property">sum</span> *<span class="hljs-number">10</span>,
    <span class="hljs-title function_">upperSchool</span>():string{
      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>. school.<span class="hljs-title function_">toUpperCase</span>()
    }
  }
})
</code></pre>
</li>
<li>
<p>ç»„ä»¶ä¸­è¯»å–æ•°æ®ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> {increment,decrement} = countStore
<span class="hljs-keyword">let</span> {sum,school,bigSum,upperSchool} = <span class="hljs-title function_">storeToRefs</span>(countStore)
</code></pre>
</li>
</ol>
<h3 data-id="heading-57">5.7.ã€$subscribeã€‘</h3>
<p>é€šè¿‡ store çš„ <code>$subscribe()</code> æ–¹æ³•ä¾¦å¬ <code>state</code> åŠå…¶å˜åŒ–</p>
<pre><code class="hljs language-ts" lang="ts">talkStore.$subscribe(<span class="hljs-function">(<span class="hljs-params">mutate,state</span>)=&gt;</span>{
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'LoveTalk'</span>,mutate,state)
  <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">'talk'</span>,<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(talkList.<span class="hljs-property">value</span>))
})
</code></pre>
<h3 data-id="heading-58">5.8. ã€storeç»„åˆå¼å†™æ³•ã€‘</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> {defineStore} <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span>
<span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">'axios'</span>
<span class="hljs-keyword">import</span> {nanoid} <span class="hljs-keyword">from</span> <span class="hljs-string">'nanoid'</span>
<span class="hljs-keyword">import</span> {reactive} <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useTalkStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'talk'</span>,<span class="hljs-function">()=&gt;</span>{
  <span class="hljs-comment">// talkListå°±æ˜¯state</span>
  <span class="hljs-keyword">const</span> talkList = <span class="hljs-title function_">reactive</span>(
    <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'talkList'</span>) <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>) || []
  )

  <span class="hljs-comment">// getATalkå‡½æ•°ç›¸å½“äºaction</span>
  <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getATalk</span>(<span class="hljs-params"/>){
    <span class="hljs-comment">// å‘è¯·æ±‚ï¼Œä¸‹é¢è¿™è¡Œçš„å†™æ³•æ˜¯ï¼šè¿ç»­è§£æ„èµ‹å€¼+é‡å‘½å</span>
    <span class="hljs-keyword">let</span> {<span class="hljs-attr">data</span>:{<span class="hljs-attr">content</span>:title}} = <span class="hljs-keyword">await</span> axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">'https://api.uomg.com/api/rand.qinghua?format=json'</span>)
    <span class="hljs-comment">// æŠŠè¯·æ±‚å›æ¥çš„å­—ç¬¦ä¸²ï¼ŒåŒ…è£…æˆä¸€ä¸ªå¯¹è±¡</span>
    <span class="hljs-keyword">let</span> obj = {<span class="hljs-attr">id</span>:<span class="hljs-title function_">nanoid</span>(),title}
    <span class="hljs-comment">// æ”¾åˆ°æ•°ç»„ä¸­</span>
    talkList.<span class="hljs-title function_">unshift</span>(obj)
  }
  <span class="hljs-keyword">return</span> {talkList,getATalk}
})
</code></pre>
<h2 data-id="heading-59">6. ç»„ä»¶é€šä¿¡</h2>
<p><strong><code>Vue3</code>ç»„ä»¶é€šä¿¡å’Œ<code>Vue2</code>çš„åŒºåˆ«ï¼š</strong></p>
<ul>
<li>ç§»å‡ºäº‹ä»¶æ€»çº¿ï¼Œä½¿ç”¨<code>mitt</code>ä»£æ›¿ã€‚</li>
</ul>

<ul>
<li><code>vuex</code>æ¢æˆäº†<code>pinia</code>ã€‚</li>
<li>æŠŠ<code>.sync</code>ä¼˜åŒ–åˆ°äº†<code>v-model</code>é‡Œé¢äº†ã€‚</li>
<li>æŠŠ<code>$listeners</code>æ‰€æœ‰çš„ä¸œè¥¿ï¼Œåˆå¹¶åˆ°<code>$attrs</code>ä¸­äº†ã€‚</li>
<li><code>$children</code>è¢«ç æ‰äº†ã€‚</li>
</ul>
<p><strong>å¸¸è§æ­é…å½¢å¼ï¼š</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e190a0b21c054619b683bdd38fe14372~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmQ5LiA5p2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710623&amp;x-signature=FThDVHfGdd1rmChfZ8%2B%2FiIDUNEM%3D" alt="image-20231119185900990.png" loading="lazy"/></p>
<h3 data-id="heading-60">6.1. ã€propsã€‘</h3>
<p>æ¦‚è¿°ï¼š<code>props</code>æ˜¯ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„ä¸€ç§é€šä¿¡æ–¹å¼ï¼Œå¸¸ç”¨ä¸ ï¼š<strong>çˆ¶ â†” å­</strong>ã€‚</p>
<ul>
<li>è‹¥ <strong>çˆ¶ä¼ å­</strong>ï¼šå±æ€§å€¼æ˜¯<strong>éå‡½æ•°</strong>ã€‚</li>
<li>è‹¥ <strong>å­ä¼ çˆ¶</strong>ï¼šå±æ€§å€¼æ˜¯<strong>å‡½æ•°</strong>ã€‚</li>
</ul>
<p>çˆ¶ç»„ä»¶ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="father"&gt;
    &lt;h3&gt;çˆ¶ç»„ä»¶ï¼Œ&lt;/h3&gt;
		&lt;h4&gt;æˆ‘çš„è½¦ï¼š{{ car }}&lt;/h4&gt;
		&lt;h4&gt;å„¿å­ç»™çš„ç©å…·ï¼š{{ toy }}&lt;/h4&gt;
		&lt;Child :car="car" :getToy="getToy"/&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts" name="Father"&gt;
	import Child from './Child.vue'
	import { ref } from "vue";
	// æ•°æ®
	const car = ref('å¥”é©°')
	const toy = ref()
	// æ–¹æ³•
	function getToy(value:string){
		toy.value = value
	}
&lt;/script&gt;
</code></pre>
<p>å­ç»„ä»¶</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="child"&gt;
    &lt;h3&gt;å­ç»„ä»¶&lt;/h3&gt;
		&lt;h4&gt;æˆ‘çš„ç©å…·ï¼š{{ toy }}&lt;/h4&gt;
		&lt;h4&gt;çˆ¶ç»™æˆ‘çš„è½¦ï¼š{{ car }}&lt;/h4&gt;
		&lt;button @click="getToy(toy)"&gt;ç©å…·ç»™çˆ¶äº²&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts" name="Child"&gt;
	import { ref } from "vue";
	const toy = ref('å¥¥ç‰¹æ›¼')
	
	defineProps(['car','getToy'])
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-61">6.2. ã€è‡ªå®šä¹‰äº‹ä»¶ã€‘</h3>
<ol>
<li>æ¦‚è¿°ï¼šè‡ªå®šä¹‰äº‹ä»¶å¸¸ç”¨äºï¼š<strong>å­ =&gt; çˆ¶ã€‚</strong></li>
<li>æ³¨æ„åŒºåˆ†å¥½ï¼šåŸç”Ÿäº‹ä»¶ã€è‡ªå®šä¹‰äº‹ä»¶ã€‚</li>
</ol>
<ul>
<li>åŸç”Ÿäº‹ä»¶ï¼š
<ul>
<li>äº‹ä»¶åæ˜¯ç‰¹å®šçš„ï¼ˆ<code>click</code>ã€<code>mosueenter</code>ç­‰ç­‰ï¼‰</li>
<li>äº‹ä»¶å¯¹è±¡<code>$event</code>: æ˜¯åŒ…å«äº‹ä»¶ç›¸å…³ä¿¡æ¯çš„å¯¹è±¡ï¼ˆ<code>pageX</code>ã€<code>pageY</code>ã€<code>target</code>ã€<code>keyCode</code>ï¼‰</li>
</ul>
</li>
<li>è‡ªå®šä¹‰äº‹ä»¶ï¼š
<ul>
<li>äº‹ä»¶åæ˜¯ä»»æ„åç§°</li>
<li><strong>äº‹ä»¶å¯¹è±¡<code>$event</code>: æ˜¯è°ƒç”¨<code>emit</code>æ—¶æ‰€æä¾›çš„æ•°æ®ï¼Œå¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼ï¼ï¼</strong></li>
</ul>
</li>
</ul>
<ol start="3">
<li>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!--åœ¨çˆ¶ç»„ä»¶ä¸­ï¼Œç»™å­ç»„ä»¶ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ï¼š--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">Child</span> @<span class="hljs-attr">send-toy</span>=<span class="hljs-string">"toy = $event"</span>/&gt;</span>

<span class="hljs-comment">&lt;!--æ³¨æ„åŒºåˆ†åŸç”Ÿäº‹ä»¶ä¸è‡ªå®šä¹‰äº‹ä»¶ä¸­çš„$event--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"toy = $event"</span>&gt;</span>æµ‹è¯•<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">//å­ç»„ä»¶ä¸­ï¼Œè§¦å‘äº‹ä»¶ï¼š</span>
<span class="hljs-variable language_">this</span>.$emit(<span class="hljs-string">'send-toy'</span>, å…·ä½“æ•°æ®)
</code></pre>
</li>
</ol>
<h3 data-id="heading-62">6.3. ã€mittã€‘</h3>
<p>æ¦‚è¿°ï¼šä¸æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒï¼ˆ<code>pubsub</code>ï¼‰åŠŸèƒ½ç±»ä¼¼ï¼Œå¯ä»¥å®ç°ä»»æ„ç»„ä»¶é—´é€šä¿¡ã€‚</p>
<p>å®‰è£…<code>mitt</code></p>
<pre><code class="hljs language-shell" lang="shell">npm i mitt
</code></pre>
<p>æ–°å»ºæ–‡ä»¶ï¼š<code>src\utils\emitter.ts</code></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¼•å…¥mitt </span>
<span class="hljs-keyword">import</span> mitt <span class="hljs-keyword">from</span> <span class="hljs-string">"mitt"</span>;

<span class="hljs-comment">// åˆ›å»ºemitter</span>
<span class="hljs-keyword">const</span> emitter = <span class="hljs-title function_">mitt</span>()

<span class="hljs-comment">/*
  // ç»‘å®šäº‹ä»¶
  emitter.on('abc',(value)=&gt;{
    console.log('abcäº‹ä»¶è¢«è§¦å‘',value)
  })
  emitter.on('xyz',(value)=&gt;{
    console.log('xyzäº‹ä»¶è¢«è§¦å‘',value)
  })

  setInterval(() =&gt; {
    // è§¦å‘äº‹ä»¶
    emitter.emit('abc',666)
    emitter.emit('xyz',777)
  }, 1000);

  setTimeout(() =&gt; {
    // æ¸…ç†äº‹ä»¶
    emitter.all.clear()
  }, 3000); 
*/</span>

<span class="hljs-comment">// åˆ›å»ºå¹¶æš´éœ²mitt</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> emitter
</code></pre>
<p>æ¥æ”¶æ•°æ®çš„ç»„ä»¶ä¸­ï¼šç»‘å®šäº‹ä»¶ã€åŒæ—¶åœ¨é”€æ¯å‰è§£ç»‘äº‹ä»¶ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> emitter <span class="hljs-keyword">from</span> <span class="hljs-string">"@/utils/emitter"</span>;
<span class="hljs-keyword">import</span> { onUnmounted } <span class="hljs-keyword">from</span> <span class="hljs-string">"vue"</span>;

<span class="hljs-comment">// ç»‘å®šäº‹ä»¶</span>
emitter.<span class="hljs-title function_">on</span>(<span class="hljs-string">'send-toy'</span>,<span class="hljs-function">(<span class="hljs-params">value</span>)=&gt;</span>{
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'send-toyäº‹ä»¶è¢«è§¦å‘'</span>,value)
})

<span class="hljs-title function_">onUnmounted</span>(<span class="hljs-function">()=&gt;</span>{
  <span class="hljs-comment">// è§£ç»‘äº‹ä»¶</span>
  emitter.<span class="hljs-title function_">off</span>(<span class="hljs-string">'send-toy'</span>)
})
</code></pre>
<p>ã€ç¬¬ä¸‰æ­¥ã€‘ï¼šæä¾›æ•°æ®çš„ç»„ä»¶ï¼Œåœ¨åˆé€‚çš„æ—¶å€™è§¦å‘äº‹ä»¶</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> emitter <span class="hljs-keyword">from</span> <span class="hljs-string">"@/utils/emitter"</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">sendToy</span>(<span class="hljs-params"/>){
  <span class="hljs-comment">// è§¦å‘äº‹ä»¶</span>
  emitter.<span class="hljs-title function_">emit</span>(<span class="hljs-string">'send-toy'</span>,toy.<span class="hljs-property">value</span>)
}
</code></pre>
<p><strong>æ³¨æ„è¿™ä¸ªé‡è¦çš„å†…ç½®å…³ç³»ï¼Œæ€»çº¿ä¾èµ–ç€è¿™ä¸ªå†…ç½®å…³ç³»</strong></p>
<h3 data-id="heading-63">6.4.ã€v-modelã€‘</h3>
<ol>
<li>
<p>æ¦‚è¿°ï¼šå®ç° <strong>çˆ¶â†”å­</strong> ä¹‹é—´ç›¸äº’é€šä¿¡ã€‚</p>
</li>
<li>
<p>å‰åºçŸ¥è¯† â€”â€” <code>v-model</code>çš„æœ¬è´¨</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- ä½¿ç”¨v-modelæŒ‡ä»¤ --&gt;
&lt;input type="text" v-model="userName"&gt;

&lt;!-- v-modelçš„æœ¬è´¨æ˜¯ä¸‹é¢è¿™è¡Œä»£ç  --&gt;
&lt;input 
  type="text" 
  :value="userName" 
  @input="userName =(&lt;HTMLInputElement&gt;$event.target).value"
&gt;
</code></pre>
</li>
<li>
<p>ç»„ä»¶æ ‡ç­¾ä¸Šçš„<code>v-model</code>çš„æœ¬è´¨ï¼š<code>:moldeValue</code> ï¼‹ <code>update:modelValue</code>äº‹ä»¶ã€‚</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- ç»„ä»¶æ ‡ç­¾ä¸Šä½¿ç”¨v-modelæŒ‡ä»¤ --&gt;
&lt;AtguiguInput v-model="userName"/&gt;

&lt;!-- ç»„ä»¶æ ‡ç­¾ä¸Šv-modelçš„æœ¬è´¨ --&gt;
&lt;AtguiguInput :modelValue="userName" @update:model-value="userName = $event"/&gt;
</code></pre>
<p><code>AtguiguInput</code>ç»„ä»¶ä¸­ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="box"&gt;
    &lt;!--å°†æ¥æ”¶çš„valueå€¼èµ‹ç»™inputå…ƒç´ çš„valueå±æ€§ï¼Œç›®çš„æ˜¯ï¼šä¸ºäº†å‘ˆç°æ•°æ® --&gt;
		&lt;!--ç»™inputå…ƒç´ ç»‘å®šåŸç”Ÿinputäº‹ä»¶ï¼Œè§¦å‘inputäº‹ä»¶æ—¶ï¼Œè¿›è€Œè§¦å‘update:model-valueäº‹ä»¶--&gt;
    &lt;input 
       type="text" 
       :value="modelValue" 
       @input="emit('update:model-value',$event.target.value)"
    &gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts" name="AtguiguInput"&gt;
  // æ¥æ”¶props
  defineProps(['modelValue'])
  // å£°æ˜äº‹ä»¶
  const emit = defineEmits(['update:model-value'])
&lt;/script&gt;
</code></pre>
</li>
<li>
<p>ä¹Ÿå¯ä»¥æ›´æ¢<code>value</code>ï¼Œä¾‹å¦‚æ”¹æˆ<code>abc</code></p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- ä¹Ÿå¯ä»¥æ›´æ¢valueï¼Œä¾‹å¦‚æ”¹æˆabc--&gt;
&lt;AtguiguInput v-model:abc="userName"/&gt;

&lt;!-- ä¸Šé¢ä»£ç çš„æœ¬è´¨å¦‚ä¸‹ --&gt;
&lt;AtguiguInput :abc="userName" @update:abc="userName = $event"/&gt;
</code></pre>
<p><code>AtguiguInput</code>ç»„ä»¶ä¸­ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="box"&gt;
    &lt;input 
       type="text" 
       :value="abc" 
       @input="emit('update:abc',$event.target.value)"
    &gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts" name="AtguiguInput"&gt;
  // æ¥æ”¶props
  defineProps(['abc'])
  // å£°æ˜äº‹ä»¶
  const emit = defineEmits(['update:abc'])
&lt;/script&gt;
</code></pre>
</li>
<li>
<p>å¦‚æœ<code>value</code>å¯ä»¥æ›´æ¢ï¼Œé‚£ä¹ˆå°±å¯ä»¥åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šå¤šæ¬¡ä½¿ç”¨<code>v-model</code></p>
<pre><code class="hljs language-vue" lang="vue">&lt;AtguiguInput v-model:abc="userName" v-model:xyz="password"/&gt;
</code></pre>
</li>
</ol>
<h3 data-id="heading-64">6.5.ã€$attrs ã€‘</h3>
<ol>
<li>
<p>æ¦‚è¿°ï¼š<code>$attrs</code>ç”¨äºå®ç°<strong>å½“å‰ç»„ä»¶çš„çˆ¶ç»„ä»¶</strong>ï¼Œå‘<strong>å½“å‰ç»„ä»¶çš„å­ç»„ä»¶</strong>é€šä¿¡ï¼ˆ<strong>ç¥–â†’å­™</strong>ï¼‰ã€‚</p>
</li>
<li>
<p>å…·ä½“è¯´æ˜ï¼š<code>$attrs</code>æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«æ‰€æœ‰çˆ¶ç»„ä»¶ä¼ å…¥çš„æ ‡ç­¾å±æ€§ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼š<code>$attrs</code>ä¼šè‡ªåŠ¨æ’é™¤<code>props</code>ä¸­å£°æ˜çš„å±æ€§(å¯ä»¥è®¤ä¸ºå£°æ˜è¿‡çš„ <code>props</code> è¢«å­ç»„ä»¶è‡ªå·±â€œæ¶ˆè´¹â€äº†)</p>
</blockquote>
</li>
</ol>
<p>çˆ¶ç»„ä»¶ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="father"&gt;
    &lt;h3&gt;çˆ¶ç»„ä»¶&lt;/h3&gt;
		&lt;Child :a="a" :b="b" :c="c" :d="d" v-bind="{x:100,y:200}" :updateA="updateA"/&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts" name="Father"&gt;
	import Child from './Child.vue'
	import { ref } from "vue";
	let a = ref(1)
	let b = ref(2)
	let c = ref(3)
	let d = ref(4)

	function updateA(value){
		a.value = value
	}
&lt;/script&gt;
</code></pre>
<p>å­ç»„ä»¶ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
	&lt;div class="child"&gt;
		&lt;h3&gt;å­ç»„ä»¶&lt;/h3&gt;
		&lt;GrandChild v-bind="$attrs"/&gt;
	&lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts" name="Child"&gt;
	import GrandChild from './GrandChild.vue'
&lt;/script&gt;
</code></pre>
<p>å­™ç»„ä»¶ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
	&lt;div class="grand-child"&gt;
		&lt;h3&gt;å­™ç»„ä»¶&lt;/h3&gt;
		&lt;h4&gt;aï¼š{{ a }}&lt;/h4&gt;
		&lt;h4&gt;bï¼š{{ b }}&lt;/h4&gt;
		&lt;h4&gt;cï¼š{{ c }}&lt;/h4&gt;
		&lt;h4&gt;dï¼š{{ d }}&lt;/h4&gt;
		&lt;h4&gt;xï¼š{{ x }}&lt;/h4&gt;
		&lt;h4&gt;yï¼š{{ y }}&lt;/h4&gt;
		&lt;button @click="updateA(666)"&gt;ç‚¹æˆ‘æ›´æ–°A&lt;/button&gt;
	&lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts" name="GrandChild"&gt;
	defineProps(['a','b','c','d','x','y','updateA'])
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-65">6.6. ã€<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>e</mi><mi>f</mi><mi>s</mi><mtext>ã€</mtext></mrow><annotation encoding="application/x-tex">refsã€</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathnormal">re</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">s</span><span class="mord cjk_fallback">ã€</span></span></span></span></span>parentã€‘</h3>
<ol>
<li>
<p>æ¦‚è¿°ï¼š</p>
<ul>
<li><code>$refs</code>ç”¨äº ï¼š<strong>çˆ¶â†’å­ã€‚</strong></li>
<li><code>$parent</code>ç”¨äºï¼š<strong>å­â†’çˆ¶ã€‚</strong></li>
</ul>
</li>
<li>
<p>åŸç†å¦‚ä¸‹ï¼š</p>

















<table><thead><tr><th>å±æ€§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>$refs</code></td><td>å€¼ä¸ºå¯¹è±¡ï¼ŒåŒ…å«æ‰€æœ‰è¢«<code>ref</code>å±æ€§æ ‡è¯†çš„<code>DOM</code>å…ƒç´ æˆ–ç»„ä»¶å®ä¾‹ã€‚</td></tr><tr><td><code>$parent</code></td><td>å€¼ä¸ºå¯¹è±¡ï¼Œå½“å‰ç»„ä»¶çš„çˆ¶ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚</td></tr></tbody></table>
</li>
</ol>
<h3 data-id="heading-66">6.7. ã€provideã€injectã€‘</h3>
<ol>
<li>
<p>æ¦‚è¿°ï¼šå®ç°<strong>ç¥–å­™ç»„ä»¶</strong>ç›´æ¥é€šä¿¡</p>
</li>
<li>
<p>å…·ä½“ä½¿ç”¨ï¼š</p>
<ul>
<li>åœ¨ç¥–å…ˆç»„ä»¶ä¸­é€šè¿‡<code>provide</code>é…ç½®å‘åä»£ç»„ä»¶æä¾›æ•°æ®</li>
<li>åœ¨åä»£ç»„ä»¶ä¸­é€šè¿‡<code>inject</code>é…ç½®æ¥å£°æ˜æ¥æ”¶æ•°æ®</li>
</ul>
</li>
<li>
<p>å…·ä½“ç¼–ç ï¼š</p>
<p>ã€ç¬¬ä¸€æ­¥ã€‘çˆ¶ç»„ä»¶ä¸­ï¼Œä½¿ç”¨<code>provide</code>æä¾›æ•°æ®</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="father"&gt;
    &lt;h3&gt;çˆ¶ç»„ä»¶&lt;/h3&gt;
    &lt;h4&gt;èµ„äº§ï¼š{{ money }}&lt;/h4&gt;
    &lt;h4&gt;æ±½è½¦ï¼š{{ car }}&lt;/h4&gt;
    &lt;button @click="money += 1"&gt;èµ„äº§+1&lt;/button&gt;
    &lt;button @click="car.price += 1"&gt;æ±½è½¦ä»·æ ¼+1&lt;/button&gt;
    &lt;Child/&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts" name="Father"&gt;
  import Child from './Child.vue'
  import { ref,reactive,provide } from "vue";
  // æ•°æ®
  let money = ref(100)
  let car = reactive({
    brand:'å¥”é©°',
    price:100
  })
  // ç”¨äºæ›´æ–°moneyçš„æ–¹æ³•
  function updateMoney(value:number){
    money.value += value
  }
  // æä¾›æ•°æ®
  provide('moneyContext',{money,updateMoney})
  provide('car',car)
&lt;/script&gt;
</code></pre>
<blockquote>
<p>æ³¨æ„ï¼šå­ç»„ä»¶ä¸­ä¸ç”¨ç¼–å†™ä»»ä½•ä¸œè¥¿ï¼Œæ˜¯ä¸å—åˆ°ä»»ä½•æ‰“æ‰°çš„</p>
</blockquote>
<p>ã€ç¬¬äºŒæ­¥ã€‘å­™ç»„ä»¶ä¸­ä½¿ç”¨<code>inject</code>é…ç½®é¡¹æ¥å—æ•°æ®ã€‚</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="grand-child"&gt;
    &lt;h3&gt;æˆ‘æ˜¯å­™ç»„ä»¶&lt;/h3&gt;
    &lt;h4&gt;èµ„äº§ï¼š{{ money }}&lt;/h4&gt;
    &lt;h4&gt;æ±½è½¦ï¼š{{ car }}&lt;/h4&gt;
    &lt;button @click="updateMoney(6)"&gt;ç‚¹æˆ‘&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts" name="GrandChild"&gt;
  import { inject } from 'vue';
  // æ³¨å…¥æ•°æ®
 let {money,updateMoney} = inject('moneyContext',{money:0,updateMoney:(x:number)=&gt;{}})
  let car = inject('car')
</code></pre>
</li>
</ol>

   ```
<h3 data-id="heading-67">6.8. ã€piniaã€‘</h3>
<p>å‚è€ƒä¹‹å‰<code>pinia</code>éƒ¨åˆ†çš„è®²è§£</p>
<h3 data-id="heading-68">6.9. ã€slotã€‘</h3>
<h4 data-id="heading-69">1. é»˜è®¤æ’æ§½</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/80691bf557094e278690747a2478457f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmQ5LiA5p2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763710623&amp;x-signature=xJUrOyGIuFi85PwMpNuYpCPVEJc%3D" alt="img" loading="lazy"/></p>
<pre><code class="hljs language-vue" lang="vue">çˆ¶ç»„ä»¶ä¸­ï¼š
        &lt;Category title="ä»Šæ—¥çƒ­é—¨æ¸¸æˆ"&gt;
          &lt;ul&gt;
            &lt;li v-for="g in games" :key="g.id"&gt;{{ g.name }}&lt;/li&gt;
          &lt;/ul&gt;
        &lt;/Category&gt;
å­ç»„ä»¶ä¸­ï¼š
        &lt;template&gt;
          &lt;div class="item"&gt;
            &lt;h3&gt;{{ title }}&lt;/h3&gt;
            &lt;!-- é»˜è®¤æ’æ§½ --&gt;
            &lt;slot&gt;&lt;/slot&gt;
          &lt;/div&gt;
        &lt;/template&gt;
</code></pre>
<h4 data-id="heading-70">2. å…·åæ’æ§½</h4>
<pre><code class="hljs language-vue" lang="vue">çˆ¶ç»„ä»¶ä¸­ï¼š
        &lt;Category title="ä»Šæ—¥çƒ­é—¨æ¸¸æˆ"&gt;
          &lt;template v-slot:s1&gt;
            &lt;ul&gt;
              &lt;li v-for="g in games" :key="g.id"&gt;{{ g.name }}&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/template&gt;
          &lt;template #s2&gt;
            &lt;a href=""&gt;æ›´å¤š&lt;/a&gt;
          &lt;/template&gt;
        &lt;/Category&gt;
å­ç»„ä»¶ä¸­ï¼š
        &lt;template&gt;
          &lt;div class="item"&gt;
            &lt;h3&gt;{{ title }}&lt;/h3&gt;
            &lt;slot name="s1"&gt;&lt;/slot&gt;
            &lt;slot name="s2"&gt;&lt;/slot&gt;
          &lt;/div&gt;
        &lt;/template&gt;
</code></pre>
<h4 data-id="heading-71">3. ä½œç”¨åŸŸæ’æ§½</h4>
<ol>
<li>
<p>ç†è§£ï¼š<span>æ•°æ®åœ¨ç»„ä»¶çš„è‡ªèº«ï¼Œä½†æ ¹æ®æ•°æ®ç”Ÿæˆçš„ç»“æ„éœ€è¦ç»„ä»¶çš„ä½¿ç”¨è€…æ¥å†³å®šã€‚</span>ï¼ˆæ–°é—»æ•°æ®åœ¨<code>News</code>ç»„ä»¶ä¸­ï¼Œä½†ä½¿ç”¨æ•°æ®æ‰€éå†å‡ºæ¥çš„ç»“æ„ç”±<code>App</code>ç»„ä»¶å†³å®šï¼‰</p>
</li>
<li>
<p>å…·ä½“ç¼–ç ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">çˆ¶ç»„ä»¶ä¸­ï¼š
      &lt;Game v-slot="params"&gt;
      &lt;!-- &lt;Game v-slot:default="params"&gt; --&gt;
      &lt;!-- &lt;Game #default="params"&gt; --&gt;
        &lt;ul&gt;
          &lt;li v-for="g in params.games" :key="g.id"&gt;{{ g.name }}&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/Game&gt;

å­ç»„ä»¶ä¸­ï¼š
      &lt;template&gt;
        &lt;div class="category"&gt;
          &lt;h2&gt;ä»Šæ—¥æ¸¸æˆæ¦œå•&lt;/h2&gt;
          &lt;slot :games="games" a="å“ˆå“ˆ"&gt;&lt;/slot&gt;
        &lt;/div&gt;
      &lt;/template&gt;

      &lt;script setup lang="ts" name="Category"&gt;
        import {reactive} from 'vue'
        let games = reactive([
          {id:'asgdytsa01',name:'è‹±é›„è”ç›Ÿ'},
          {id:'asgdytsa02',name:'ç‹è€…è£è€€'},
          {id:'asgdytsa03',name:'çº¢è‰²è­¦æˆ’'},
          {id:'asgdytsa04',name:'æ–—ç½—å¤§é™†'}
        ])
      &lt;/script&gt;
</code></pre>
</li>
</ol>
<h2 data-id="heading-72">7. å…¶å®ƒ API</h2>
<h3 data-id="heading-73">7.1.ã€shallowRef ä¸ shallowReactive ã€‘</h3>
<h4 data-id="heading-74"><code>shallowRef</code></h4>
<ol>
<li>
<p>ä½œç”¨ï¼šåˆ›å»ºä¸€ä¸ªå“åº”å¼æ•°æ®ï¼Œä½†åªå¯¹é¡¶å±‚å±æ€§è¿›è¡Œå“åº”å¼å¤„ç†ã€‚</p>
</li>
<li>
<p>ç”¨æ³•ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">let</span> myVar = <span class="hljs-title function_">shallowRef</span>(initialValue);
</code></pre>
</li>
<li>
<p>ç‰¹ç‚¹ï¼šåªè·Ÿè¸ªå¼•ç”¨å€¼çš„å˜åŒ–ï¼Œä¸å…³å¿ƒå€¼å†…éƒ¨çš„å±æ€§å˜åŒ–ã€‚</p>
</li>
</ol>
<h4 data-id="heading-75"><code>shallowReactive</code></h4>
<ol>
<li>
<p>ä½œç”¨ï¼šåˆ›å»ºä¸€ä¸ªæµ…å±‚å“åº”å¼å¯¹è±¡ï¼Œåªä¼šä½¿å¯¹è±¡çš„æœ€é¡¶å±‚å±æ€§å˜æˆå“åº”å¼çš„ï¼Œå¯¹è±¡å†…éƒ¨çš„åµŒå¥—å±æ€§åˆ™ä¸ä¼šå˜æˆå“åº”å¼çš„</p>
</li>
<li>
<p>ç”¨æ³•ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> myObj = <span class="hljs-title function_">shallowReactive</span>({ ... });
</code></pre>
</li>
<li>
<p>ç‰¹ç‚¹ï¼šå¯¹è±¡çš„é¡¶å±‚å±æ€§æ˜¯å“åº”å¼çš„ï¼Œä½†åµŒå¥—å¯¹è±¡çš„å±æ€§ä¸æ˜¯ã€‚</p>
</li>
</ol>
<h4 data-id="heading-76">æ€»ç»“</h4>
<blockquote>
<p>é€šè¿‡ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fcn.vuejs.org%2Fapi%2Freactivity-advanced.html%23shallowref" target="_blank" title="https://cn.vuejs.org/api/reactivity-advanced.html#shallowref" ref="nofollow noopener noreferrer"><code>shallowRef()</code></a> å’Œ <a href="https://link.juejin.cn?target=https%3A%2F%2Fcn.vuejs.org%2Fapi%2Freactivity-advanced.html%23shallowreactive" target="_blank" title="https://cn.vuejs.org/api/reactivity-advanced.html#shallowreactive" ref="nofollow noopener noreferrer"><code>shallowReactive()</code></a> æ¥ç»•å¼€æ·±åº¦å“åº”ã€‚æµ…å±‚å¼ <code>API</code> åˆ›å»ºçš„çŠ¶æ€åªåœ¨å…¶é¡¶å±‚æ˜¯å“åº”å¼çš„ï¼Œå¯¹æ‰€æœ‰æ·±å±‚çš„å¯¹è±¡ä¸ä¼šåšä»»ä½•å¤„ç†ï¼Œé¿å…äº†å¯¹æ¯ä¸€ä¸ªå†…éƒ¨å±æ€§åšå“åº”å¼æ‰€å¸¦æ¥çš„æ€§èƒ½æˆæœ¬ï¼Œè¿™ä½¿å¾—å±æ€§çš„è®¿é—®å˜å¾—æ›´å¿«ï¼Œå¯æå‡æ€§èƒ½ã€‚</p>
</blockquote>
<h3 data-id="heading-77">7.2.ã€readonly ä¸ shallowReadonlyã€‘</h3>
<h4 data-id="heading-78"><strong><code>readonly</code></strong></h4>
<ol>
<li>
<p>ä½œç”¨ï¼šç”¨äºåˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„æ·±åªè¯»å‰¯æœ¬ã€‚</p>
</li>
<li>
<p>ç”¨æ³•ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> original = <span class="hljs-title function_">reactive</span>({ ... });
<span class="hljs-keyword">const</span> readOnlyCopy = <span class="hljs-title function_">readonly</span>(original);
</code></pre>
</li>
<li>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>å¯¹è±¡çš„æ‰€æœ‰åµŒå¥—å±æ€§éƒ½å°†å˜ä¸ºåªè¯»ã€‚</li>
<li>ä»»ä½•å°è¯•ä¿®æ”¹è¿™ä¸ªå¯¹è±¡çš„æ“ä½œéƒ½ä¼šè¢«é˜»æ­¢ï¼ˆåœ¨å¼€å‘æ¨¡å¼ä¸‹ï¼Œè¿˜ä¼šåœ¨æ§åˆ¶å°ä¸­å‘å‡ºè­¦å‘Šï¼‰ã€‚</li>
</ul>
</li>
<li>
<p>åº”ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>åˆ›å»ºä¸å¯å˜çš„çŠ¶æ€å¿«ç…§ã€‚</li>
<li>ä¿æŠ¤å…¨å±€çŠ¶æ€æˆ–é…ç½®ä¸è¢«ä¿®æ”¹ã€‚</li>
</ul>
</li>
</ol>
<h4 data-id="heading-79"><strong><code>shallowReadonly</code></strong></h4>
<ol>
<li>
<p>ä½œç”¨ï¼šä¸ <code>readonly</code> ç±»ä¼¼ï¼Œä½†åªä½œç”¨äºå¯¹è±¡çš„é¡¶å±‚å±æ€§ã€‚</p>
</li>
<li>
<p>ç”¨æ³•ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> original = <span class="hljs-title function_">reactive</span>({ ... });
<span class="hljs-keyword">const</span> shallowReadOnlyCopy = <span class="hljs-title function_">shallowReadonly</span>(original);
</code></pre>
</li>
<li>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>
<p>åªå°†å¯¹è±¡çš„é¡¶å±‚å±æ€§è®¾ç½®ä¸ºåªè¯»ï¼Œå¯¹è±¡å†…éƒ¨çš„åµŒå¥—å±æ€§ä»ç„¶æ˜¯å¯å˜çš„ã€‚</p>
</li>
<li>
<p>é€‚ç”¨äºåªéœ€ä¿æŠ¤å¯¹è±¡é¡¶å±‚å±æ€§çš„åœºæ™¯ã€‚</p>
</li>
</ul>
</li>
</ol>
<h3 data-id="heading-80">7.3.ã€toRaw ä¸ markRawã€‘</h3>
<h4 data-id="heading-81"><code>toRaw</code></h4>
<ol>
<li>
<p>ä½œç”¨ï¼šç”¨äºè·å–ä¸€ä¸ªå“åº”å¼å¯¹è±¡çš„åŸå§‹å¯¹è±¡ï¼Œ <code>toRaw</code> è¿”å›çš„å¯¹è±¡ä¸å†æ˜¯å“åº”å¼çš„ï¼Œä¸ä¼šè§¦å‘è§†å›¾æ›´æ–°ã€‚</p>
<blockquote>
<p>å®˜ç½‘æè¿°ï¼šè¿™æ˜¯ä¸€ä¸ªå¯ä»¥ç”¨äºä¸´æ—¶è¯»å–è€Œä¸å¼•èµ·ä»£ç†è®¿é—®/è·Ÿè¸ªå¼€é”€ï¼Œæˆ–æ˜¯å†™å…¥è€Œä¸è§¦å‘æ›´æ”¹çš„ç‰¹æ®Šæ–¹æ³•ã€‚ä¸å»ºè®®ä¿å­˜å¯¹åŸå§‹å¯¹è±¡çš„æŒä¹…å¼•ç”¨ï¼Œè¯·è°¨æ…ä½¿ç”¨ã€‚</p>
</blockquote>
<blockquote>
<p>ä½•æ—¶ä½¿ç”¨ï¼Ÿ â€”â€” åœ¨éœ€è¦å°†å“åº”å¼å¯¹è±¡ä¼ é€’ç»™é <code>Vue</code> çš„åº“æˆ–å¤–éƒ¨ç³»ç»Ÿæ—¶ï¼Œä½¿ç”¨ <code>toRaw</code> å¯ä»¥ç¡®ä¿å®ƒä»¬æ”¶åˆ°çš„æ˜¯æ™®é€šå¯¹è±¡</p>
</blockquote>
</li>
<li>
<p>å…·ä½“ç¼–ç ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { reactive,toRaw,markRaw,isReactive } <span class="hljs-keyword">from</span> <span class="hljs-string">"vue"</span>;

<span class="hljs-comment">/* toRaw */</span>
<span class="hljs-comment">// å“åº”å¼å¯¹è±¡</span>
<span class="hljs-keyword">let</span> person = <span class="hljs-title function_">reactive</span>({<span class="hljs-attr">name</span>:<span class="hljs-string">'tony'</span>,<span class="hljs-attr">age</span>:<span class="hljs-number">18</span>})
<span class="hljs-comment">// åŸå§‹å¯¹è±¡</span>
<span class="hljs-keyword">let</span> rawPerson = <span class="hljs-title function_">toRaw</span>(person)


<span class="hljs-comment">/* markRaw */</span>
<span class="hljs-keyword">let</span> citysd = <span class="hljs-title function_">markRaw</span>([
  {<span class="hljs-attr">id</span>:<span class="hljs-string">'asdda01'</span>,<span class="hljs-attr">name</span>:<span class="hljs-string">'åŒ—äº¬'</span>},
  {<span class="hljs-attr">id</span>:<span class="hljs-string">'asdda02'</span>,<span class="hljs-attr">name</span>:<span class="hljs-string">'ä¸Šæµ·'</span>},
  {<span class="hljs-attr">id</span>:<span class="hljs-string">'asdda03'</span>,<span class="hljs-attr">name</span>:<span class="hljs-string">'å¤©æ´¥'</span>},
  {<span class="hljs-attr">id</span>:<span class="hljs-string">'asdda04'</span>,<span class="hljs-attr">name</span>:<span class="hljs-string">'é‡åº†'</span>}
])
<span class="hljs-comment">// æ ¹æ®åŸå§‹å¯¹è±¡cityså»åˆ›å»ºå“åº”å¼å¯¹è±¡citys2 â€”â€” åˆ›å»ºå¤±è´¥ï¼Œå› ä¸ºcitysè¢«markRawæ ‡è®°äº†</span>
<span class="hljs-keyword">let</span> citys2 = <span class="hljs-title function_">reactive</span>(citys)
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">isReactive</span>(person))
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">isReactive</span>(rawPerson))
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">isReactive</span>(citys))
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">isReactive</span>(citys2))
</code></pre>
</li>
</ol>
<h4 data-id="heading-82"><code>markRaw</code></h4>
<ol>
<li>
<p>ä½œç”¨ï¼šæ ‡è®°ä¸€ä¸ªå¯¹è±¡ï¼Œä½¿å…¶<strong>æ°¸è¿œä¸ä¼š</strong>å˜æˆå“åº”å¼çš„ã€‚</p>
<blockquote>
<p>ä¾‹å¦‚ä½¿ç”¨<code>mockjs</code>æ—¶ï¼Œä¸ºäº†é˜²æ­¢è¯¯æŠŠ<code>mockjs</code>å˜ä¸ºå“åº”å¼å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ <code>markRaw</code> å»æ ‡è®°<code>mockjs</code></p>
</blockquote>
</li>
<li>
<p>ç¼–ç ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">/* markRaw */</span>
<span class="hljs-keyword">let</span> citys = <span class="hljs-title function_">markRaw</span>([
  {<span class="hljs-attr">id</span>:<span class="hljs-string">'asdda01'</span>,<span class="hljs-attr">name</span>:<span class="hljs-string">'åŒ—äº¬'</span>},
  {<span class="hljs-attr">id</span>:<span class="hljs-string">'asdda02'</span>,<span class="hljs-attr">name</span>:<span class="hljs-string">'ä¸Šæµ·'</span>},
  {<span class="hljs-attr">id</span>:<span class="hljs-string">'asdda03'</span>,<span class="hljs-attr">name</span>:<span class="hljs-string">'å¤©æ´¥'</span>},
  {<span class="hljs-attr">id</span>:<span class="hljs-string">'asdda04'</span>,<span class="hljs-attr">name</span>:<span class="hljs-string">'é‡åº†'</span>}
])
<span class="hljs-comment">// æ ¹æ®åŸå§‹å¯¹è±¡cityså»åˆ›å»ºå“åº”å¼å¯¹è±¡citys2 â€”â€” åˆ›å»ºå¤±è´¥ï¼Œå› ä¸ºcitysè¢«markRawæ ‡è®°äº†</span>
<span class="hljs-keyword">let</span> citys2 = <span class="hljs-title function_">reactive</span>(citys)
</code></pre>
</li>
</ol>
<h3 data-id="heading-83">7.4.ã€customRefã€‘</h3>
<p>ä½œç”¨ï¼šåˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„<code>ref</code>ï¼Œå¹¶å¯¹å…¶ä¾èµ–é¡¹è·Ÿè¸ªå’Œæ›´æ–°è§¦å‘è¿›è¡Œé€»è¾‘æ§åˆ¶ã€‚</p>
<p>å®ç°é˜²æŠ–æ•ˆæœï¼ˆ<code>useSumRef.ts</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> {customRef } <span class="hljs-keyword">from</span> <span class="hljs-string">"vue"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">initValue:<span class="hljs-built_in">string</span>,delay:<span class="hljs-built_in">number</span></span>){
  <span class="hljs-keyword">let</span> msg = <span class="hljs-title function_">customRef</span>(<span class="hljs-function">(<span class="hljs-params">track,trigger</span>)=&gt;</span>{
    <span class="hljs-keyword">let</span> <span class="hljs-attr">timer</span>:<span class="hljs-built_in">number</span>
    <span class="hljs-keyword">return</span> {
      <span class="hljs-title function_">get</span>(<span class="hljs-params"/>){
        <span class="hljs-title function_">track</span>() <span class="hljs-comment">// å‘Šè¯‰Vueæ•°æ®msgå¾ˆé‡è¦ï¼Œè¦å¯¹msgæŒç»­å…³æ³¨ï¼Œä¸€æ—¦å˜åŒ–å°±æ›´æ–°</span>
        <span class="hljs-keyword">return</span> initValue
      },
      <span class="hljs-title function_">set</span>(<span class="hljs-params">value</span>){
        <span class="hljs-built_in">clearTimeout</span>(timer)
        timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
          initValue = value
          <span class="hljs-title function_">trigger</span>() <span class="hljs-comment">//é€šçŸ¥Vueæ•°æ®msgå˜åŒ–äº†</span>
        }, delay);
      }
    }
  }) 
  <span class="hljs-keyword">return</span> {msg}
}
</code></pre>
<p>ç»„ä»¶ä¸­ä½¿ç”¨ï¼š</p>
<h2 data-id="heading-84">8. Vue3æ–°ç»„ä»¶</h2>
<h3 data-id="heading-85">8.1. ã€Teleportã€‘</h3>
<ul>
<li>ä»€ä¹ˆæ˜¯Teleportï¼Ÿâ€”â€” Teleport æ˜¯ä¸€ç§èƒ½å¤Ÿå°†æˆ‘ä»¬çš„<strong>ç»„ä»¶htmlç»“æ„</strong>ç§»åŠ¨åˆ°æŒ‡å®šä½ç½®çš„æŠ€æœ¯ã€‚</li>
</ul>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">teleport</span> <span class="hljs-attr">to</span>=<span class="hljs-string">'body'</span> &gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal"</span> <span class="hljs-attr">v-show</span>=<span class="hljs-string">"isShow"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªå¼¹çª—<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æˆ‘æ˜¯å¼¹çª—ä¸­çš„ä¸€äº›å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"isShow = false"</span>&gt;</span>å…³é—­å¼¹çª—<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">teleport</span>&gt;</span>
</code></pre>
<h3 data-id="heading-86">8.2. ã€Suspenseã€‘</h3>
<ul>
<li>ç­‰å¾…å¼‚æ­¥ç»„ä»¶æ—¶æ¸²æŸ“ä¸€äº›é¢å¤–å†…å®¹ï¼Œè®©åº”ç”¨æœ‰æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ</li>
<li>ä½¿ç”¨æ­¥éª¤ï¼š
<ul>
<li>å¼‚æ­¥å¼•å…¥ç»„ä»¶</li>
<li>ä½¿ç”¨<code>Suspense</code>åŒ…è£¹ç»„ä»¶ï¼Œå¹¶é…ç½®å¥½<code>default</code> ä¸ <code>fallback</code></li>
</ul>
</li>
</ul>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { defineAsyncComponent,<span class="hljs-title class_">Suspense</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"vue"</span>;
<span class="hljs-keyword">const</span> <span class="hljs-title class_">Child</span> = <span class="hljs-title function_">defineAsyncComponent</span>(<span class="hljs-function">()=&gt;</span><span class="hljs-keyword">import</span>(<span class="hljs-string">'./Child.vue'</span>))
</code></pre>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
    &lt;div class="app"&gt;
        &lt;h3&gt;æˆ‘æ˜¯Appç»„ä»¶&lt;/h3&gt;
        &lt;Suspense&gt;
          &lt;template v-slot:default&gt;
            &lt;Child/&gt;
          &lt;/template&gt;
          &lt;template v-slot:fallback&gt;
            &lt;h3&gt;åŠ è½½ä¸­.......&lt;/h3&gt;
          &lt;/template&gt;
        &lt;/Suspense&gt;
    &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<h3 data-id="heading-87">8.3.ã€å…¨å±€APIè½¬ç§»åˆ°åº”ç”¨å¯¹è±¡ã€‘</h3>
<ul>
<li><code>app.component</code></li>
<li><code>app.config</code></li>
<li><code>app.directive</code></li>
<li><code>app.mount</code></li>
<li><code>app.unmount</code></li>
<li><code>app.use</code></li>
</ul>
<h3 data-id="heading-88">8.4.ã€å…¶ä»–ã€‘</h3>
<ul>
<li>
<p>è¿‡æ¸¡ç±»å <code>v-enter</code> ä¿®æ”¹ä¸º <code>v-enter-from</code>ã€è¿‡æ¸¡ç±»å <code>v-leave</code> ä¿®æ”¹ä¸º <code>v-leave-from</code>ã€‚</p>
</li>
<li>
<p><code>keyCode</code> ä½œä¸º <code>v-on</code> ä¿®é¥°ç¬¦çš„æ”¯æŒã€‚</p>
</li>
<li>
<p><code>v-model</code> æŒ‡ä»¤åœ¨ç»„ä»¶ä¸Šçš„ä½¿ç”¨å·²ç»è¢«é‡æ–°è®¾è®¡ï¼Œæ›¿æ¢æ‰äº† <code>v-bind.syncã€‚</code></p>
</li>
<li>
<p><code>v-if</code> å’Œ <code>v-for</code> åœ¨åŒä¸€ä¸ªå…ƒç´ èº«ä¸Šä½¿ç”¨æ—¶çš„ä¼˜å…ˆçº§å‘ç”Ÿäº†å˜åŒ–ã€‚</p>
</li>
<li>
<p>ç§»é™¤äº†<code>$on</code>ã€<code>$off</code> å’Œ <code>$once</code> å®ä¾‹æ–¹æ³•ã€‚</p>
</li>
<li>
<p>ç§»é™¤äº†è¿‡æ»¤å™¨ <code>filter</code>ã€‚</p>
</li>
<li>
<p>ç§»é™¤äº†<code>$children</code> å®ä¾‹ <code>propert</code>ã€‚</p>
<p>......</p>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android æºç å­¦ä¹ ä¹‹initè¿›ç¨‹]]></title>    <link>https://juejin.cn/post/7572132916576567332</link>    <guid>https://juejin.cn/post/7572132916576567332</guid>    <pubDate>2025-11-14T07:37:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572132916576567332" data-draft-id="7572138663121354794" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android æºç å­¦ä¹ ä¹‹initè¿›ç¨‹"/> <meta itemprop="keywords" content="æ¶æ„,Android,æ“ä½œç³»ç»Ÿ"/> <meta itemprop="datePublished" content="2025-11-14T07:37:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¸…é”…é”…007"/> <meta itemprop="url" content="https://juejin.cn/user/1151943914296254"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android æºç å­¦ä¹ ä¹‹initè¿›ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1151943914296254/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¸…é”…é”…007
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T07:37:15.000Z" title="Fri Nov 14 2025 07:37:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Boot ROM  - Boot Read-Only-Memory</p>
<p>åœ¨AOSPæºç ä¸­ï¼Œ<code>system/core/init/main.cpp</code> é‡Œçš„ <code>main</code> å‡½æ•°æ˜¯<strong>æ•´ä¸ªAndroidç”¨æˆ·ç©ºé—´çš„èµ·ç‚¹</strong>ã€‚å®ƒæ˜¯åœ¨Linuxå†…æ ¸å¯åŠ¨å®Œæˆåï¼Œç”±å†…æ ¸ç›´æ¥è°ƒç”¨çš„<strong>ç¬¬ä¸€ä¸ªä¹Ÿæ˜¯å”¯ä¸€ä¸€ä¸ªç”¨æˆ·ç©ºé—´è¿›ç¨‹</strong>ã€‚</p>
<p>å…·ä½“æ—¶æœºå’Œè°ƒç”¨é“¾æ¡å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    subgraph A["Linux å†…æ ¸å¯åŠ¨æµç¨‹ (kernel/init/main.c)"]
        A1["start_kernel()"] --&gt; A2["arch_call_rest_init()"]
        A2 --&gt; A3["rest_init()"]
        A3 --&gt; A4["kernel_init()"]
    end
  
    subgraph B["å…³é”®å‡½æ•°è¯´æ˜"]
        A1 --&gt; B1["å†…æ ¸ä¸»å…¥å£ç‚¹&lt;br/&gt;å®Œæˆæ ¸å¿ƒå­ç³»ç»Ÿåˆå§‹åŒ–&lt;br/&gt;å†…å­˜ç®¡ç†ã€è°ƒåº¦å™¨ã€ä¸­æ–­ç­‰"]
        A2 --&gt; B2["ä½“ç³»ç»“æ„ç›¸å…³çš„&lt;br/&gt;rest_initè°ƒç”¨ç‚¹"]
        A3 --&gt; B3["åˆ›å»ºå…³é”®å†…æ ¸çº¿ç¨‹&lt;br/&gt;- å¯åŠ¨kernel_init(PID=1)&lt;br/&gt;- å¯åŠ¨kthreadd(PID=2)&lt;br/&gt;- è¿›å…¥idleå¾ªç¯"]
        A4 --&gt; B4["å†…æ ¸åˆå§‹åŒ–çº¿ç¨‹&lt;br/&gt;å‡†å¤‡ç”¨æˆ·ç©ºé—´ç¯å¢ƒ&lt;br/&gt;æœ€ç»ˆæ‰§è¡Œç”¨æˆ·ç©ºé—´initè¿›ç¨‹"]
    end
  
    subgraph C["ä¸Androidçš„å…³ç³»"]
        A4 --&gt; C1["é€šè¿‡execveæ‰§è¡Œ&lt;br/&gt;/system/bin/init"]
        C1 --&gt; C2["Android initè¿›ç¨‹&lt;br/&gt;system/core/init/main.cpp"]
		C2 --&gt; C3["main()"]
		C3 --&gt; C4["FirstStageMain()"]

    end
	subgraph D["å…³é”®å‡½æ•°è¯´æ˜"]
		C3 --&gt; D1["initè¿›ç¨‹ä»£ç å…¥å£"]
	end

    style A fill:#e1f5fe
    style B fill:#f3e5f5
    style C fill:#e8f5e8
    style A1 fill:#ffeb3b
    style A4 fill:#ff9800
</code></pre>
<h3 data-id="heading-0">è°ƒç”¨æ—¶æœº</h3>
<ol>
<li><strong>Linuxå†…æ ¸å¯åŠ¨</strong>ï¼šè®¾å¤‡ä¸Šç”µåï¼ŒBootloaderä¼šåŠ è½½Linuxå†…æ ¸åˆ°å†…å­˜å¹¶å¯åŠ¨å®ƒã€‚</li>
<li><strong>å†…æ ¸åˆå§‹åŒ–</strong>ï¼šå†…æ ¸è¿›è¡Œè‡ªèº«çš„ä¸€ç³»åˆ—åˆå§‹åŒ–å·¥ä½œï¼ŒåŒ…æ‹¬é©±åŠ¨ã€å†…å­˜ç®¡ç†ç­‰ã€‚</li>
<li><strong>æŒ‚è½½æ ¹æ–‡ä»¶ç³»ç»Ÿ</strong>ï¼šå†…æ ¸æŒ‚è½½åˆå§‹RAMç£ç›˜ï¼ˆ<code>initramfs</code>ï¼‰æˆ–è€…ï¼ˆåœ¨Androidä¸­å¸¸è§çš„ï¼‰ç›´æ¥æŒ‚è½½ç³»ç»Ÿåˆ†åŒºä½œä¸ºæ ¹æ–‡ä»¶ç³»ç»Ÿã€‚</li>
<li><strong>å¯åŠ¨ç¬¬ä¸€ä¸ªç”¨æˆ·ç©ºé—´è¿›ç¨‹</strong>ï¼šå†…æ ¸åœ¨å®Œæˆæ‰€æœ‰æ ¸å¿ƒåˆå§‹åŒ–åï¼Œä¼šå°è¯•æ‰§è¡Œä¸€ä¸ªåä¸º <code>init</code> çš„ç¨‹åºã€‚è¿™ä¸ªç¨‹åºçš„è·¯å¾„æ˜¯åœ¨å†…æ ¸ç¼–è¯‘æ—¶æŒ‡å®šçš„ï¼Œé€šå¸¸å°±æ˜¯æ ¹æ–‡ä»¶ç³»ç»Ÿä¸‹çš„ <code>/init</code>ã€‚</li>
</ol>
<h3 data-id="heading-1">è°ƒç”¨è¿‡ç¨‹</h3>
<p>è¿™ä¸ªè°ƒç”¨è¿‡ç¨‹æ˜¯ç”±å†…æ ¸ä»£ç ç›´æ¥å†™æ­»çš„ï¼Œå…¶é€»è¾‘å¤§è‡´å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>å†…æ ¸å…¥å£ç‚¹</strong>ï¼šåœ¨å†…æ ¸æºç çš„ <code>init/main.c</code> ä¸­ï¼Œ<code>kernel_init</code> å‡½æ•°è´Ÿè´£å¯åŠ¨ç¬¬ä¸€ä¸ªç”¨æˆ·ç©ºé—´è¿›ç¨‹ã€‚</li>
<li><strong>å°è¯•æ‰§è¡Œ</strong>ï¼šå†…æ ¸ä¼šå°è¯•æ‰§è¡Œ <code>/sbin/init</code>ï¼Œ <code>/etc/init</code>ï¼Œ <code>/bin/init</code> ç­‰è·¯å¾„ã€‚</li>
<li><strong>å›é€€æ–¹æ¡ˆ</strong>ï¼šå¦‚æœä¸Šè¿°è·¯å¾„éƒ½å¤±è´¥äº†ï¼Œå†…æ ¸ä¼šå°è¯•æ‰§è¡Œ <code>/bin/sh</code> ä½œä¸ºå›é€€ã€‚</li>
<li><strong>åœ¨Androidä¸­çš„æƒ…å†µ</strong>ï¼šåœ¨AOSPç¼–è¯‘åï¼Œç”Ÿæˆçš„ <code>init</code> å¯æ‰§è¡Œæ–‡ä»¶è¢«ç›´æ¥æ”¾ç½®åœ¨äº†æ ¹æ–‡ä»¶ç³»ç»Ÿçš„æ ¹ç›®å½•ä¸‹ï¼Œå³ <code>/init</code>ã€‚å› æ­¤ï¼Œå†…æ ¸ä¼šæˆåŠŸæ‰¾åˆ°å¹¶æ‰§è¡Œå®ƒã€‚</li>
</ol>
<p>è¿™ä¸ª <code>/init</code> ç¨‹åºï¼Œå°±æ˜¯ç”± <code>system/core/init/</code> ç›®å½•ä¸‹çš„æºç ç¼–è¯‘è€Œæˆçš„ã€‚</p>
<h3 data-id="heading-2"><code>main.cpp</code> ä¸­çš„ <code>main</code> å‡½æ•°</h3>
<p>æ‰€ä»¥ï¼Œ<code>main</code> å‡½æ•°çš„è°ƒç”¨æ—¶æœºéå¸¸æ˜ç¡®ï¼š<strong>åœ¨Linuxå†…æ ¸å®Œæˆè‡ªèº«åˆå§‹åŒ–ï¼Œå¹¶å‡†å¤‡å°†æ§åˆ¶æƒäº¤ç»™ç”¨æˆ·ç©ºé—´çš„é‚£ä¸€åˆ»ï¼Œç”±å†…æ ¸ç›´æ¥è°ƒç”¨ã€‚</strong></p>
<p>å®ƒçš„æ‰§è¡Œæµç¨‹å¯ä»¥ç®€åŒ–ä¸ºï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// system/core/init/main.cpp</span>

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span>** argv)</span> </span>{
    <span class="hljs-comment">// 1. å¤„ç†å†…æ ¸å‘½ä»¤è¡Œå‚æ•°ï¼Œä¾‹å¦‚ `androidboot.selinux=permissive`</span>
    <span class="hljs-comment">// 2. åˆ›å»ºå¿…è¦çš„ç›®å½•å¹¶æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿ (å¦‚ /dev, /proc, /sys ç­‰)</span>
    <span class="hljs-comment">// 3. åˆå§‹åŒ– Kernel Logging (kmsg)</span>
    <span class="hljs-comment">// 4. è¿›è¡Œç¬¬ä¸€æ¬¡é˜¶æ®µåˆå§‹åŒ– (First Stage Mount) - ä¸»è¦åœ¨ recovery æˆ– ramdisk ç¯å¢ƒä¸­</span>
    <span class="hljs-comment">// 5. å¦‚æœä¸æ˜¯åœ¨ First Stageï¼Œåˆ™æ‰§è¡Œæ ¸å¿ƒçš„ init é€»è¾‘</span>
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">FirstStageMain</span>(argc, argv); <span class="hljs-comment">// æˆ–è€… SecondStageMain(argv)</span>
}
</code></pre>
<p>åœ¨ç°ä»£Androidç³»ç»Ÿä¸­ï¼ˆå°¤å…¶æ˜¯ä½¿ç”¨äº†åŠ¨æ€åˆ†åŒºå’ŒA/Bæ›´æ–°çš„è®¾å¤‡ï¼‰ï¼Œinitçš„å¯åŠ¨è¢«åˆ†æˆäº†å¤šä¸ªé˜¶æ®µï¼š</p>
<ul>
<li><strong>First Stage Init</strong>ï¼šåœ¨å†…æ ¸è¿˜æŒ‚è½½ç€åˆå§‹ <code>rootfs</code> æ—¶è¿è¡Œï¼Œä¸»è¦è´Ÿè´£æŒ‚è½½çœŸæ­£çš„ç³»ç»Ÿåˆ†åŒºã€vendoråˆ†åŒºç­‰ï¼Œå¹¶ä¸ºç¬¬äºŒé˜¶æ®µçš„initè®¾ç½®å¥½ç¯å¢ƒã€‚</li>
<li><strong>Second Stage Init</strong>ï¼šåœ¨å¿…è¦çš„åˆ†åŒºè¢«æŒ‚è½½åï¼Œç³»ç»Ÿä¼š <code>execv</code> é‡æ–°æ‰§è¡Œä½äºæ–°ç³»ç»Ÿåˆ†åŒºä¸Šçš„ <code>/system/bin/init</code>ï¼Œè¿›å…¥ç¬¬äºŒé˜¶æ®µã€‚è¿™ä¸ªé˜¶æ®µä¼šå»ºç«‹å®Œæ•´çš„Androidè¿è¡Œç¯å¢ƒï¼ŒåŒ…æ‹¬å¯åŠ¨å±æ€§æœåŠ¡ã€è§£æinit.rcè„šæœ¬ã€å¯åŠ¨å®ˆæŠ¤è¿›ç¨‹ã€Zygoteç­‰ã€‚</li>
</ul>
<h3 data-id="heading-3">æ€»ç»“</h3>

























<table><thead><tr><th align="left">é¡¹ç›®</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left"><strong>è°ƒç”¨è€…</strong></td><td align="left">Linux å†…æ ¸</td></tr><tr><td align="left"><strong>è°ƒç”¨æ—¶æœº</strong></td><td align="left">å†…æ ¸å®Œæˆæ‰€æœ‰å†…éƒ¨åˆå§‹åŒ–ä¹‹åï¼Œå‡†å¤‡åˆ‡æ¢åˆ°ç”¨æˆ·ç©ºé—´æ—¶</td></tr><tr><td align="left"><strong>è°ƒç”¨æ–¹å¼</strong></td><td align="left">å†…æ ¸é€šè¿‡<code>execve</code> ç³»ç»Ÿè°ƒç”¨æ‰§è¡Œæ ¹æ–‡ä»¶ç³»ç»Ÿä¸­çš„ <code>/init</code> ç¨‹åº</td></tr><tr><td align="left"><strong>ç¨‹åºè·¯å¾„</strong></td><td align="left">åœ¨è®¾å¤‡æ ¹æ–‡ä»¶ç³»ç»Ÿä¸­ä¸º<code>/init</code>ï¼Œåœ¨AOSPæºç ä¸­ä½äº <code>system/core/init/</code></td></tr></tbody></table>
<p>å› æ­¤ï¼Œ<code>init</code> è¿›ç¨‹çš„PIDæ°¸è¿œæ˜¯1ï¼Œå®ƒæ˜¯æ‰€æœ‰å…¶ä»–ç”¨æˆ·ç©ºé—´è¿›ç¨‹çš„ç¥–å…ˆè¿›ç¨‹ã€‚å®ƒçš„ <code>main</code> å‡½æ•°æ˜¯Androidç³»ç»Ÿç”¨æˆ·ç©ºé—´çš„ç»å¯¹èµ·ç‚¹ã€‚</p>
<p>---- åç»­è®²è§£FirstStageMain()ç›¸å…³æµç¨‹----</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¿˜åœ¨ä¸ºHTMLè½¬PDFå‘æ„ï¼Ÿå†ä»‹ç»ä¸¤æ¬¾å·¥å…·ï¼Œä¸ºä½ ä¿é©¾æŠ¤èˆªï¼]]></title>    <link>https://juejin.cn/post/7571751304625569838</link>    <guid>https://juejin.cn/post/7571751304625569838</guid>    <pubDate>2025-11-13T02:12:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571751304625569838" data-draft-id="7571758212473749555" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¿˜åœ¨ä¸ºHTMLè½¬PDFå‘æ„ï¼Ÿå†ä»‹ç»ä¸¤æ¬¾å·¥å…·ï¼Œä¸ºä½ ä¿é©¾æŠ¤èˆªï¼"/> <meta itemprop="keywords" content="åç«¯,Java,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-11-13T02:12:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="SimonKing"/> <meta itemprop="url" content="https://juejin.cn/user/4001878056904584"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¿˜åœ¨ä¸ºHTMLè½¬PDFå‘æ„ï¼Ÿå†ä»‹ç»ä¸¤æ¬¾å·¥å…·ï¼Œä¸ºä½ ä¿é©¾æŠ¤èˆªï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4001878056904584/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    SimonKing
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T02:12:55.000Z" title="Thu Nov 13 2025 02:12:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼šã€ç¼–ç¨‹æœèŠ±å¤•æ‹¾ã€‘ï¼Œå¯è·å–é¦–å‘å†…å®¹ã€‚</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/42b0f46eac5946f38b0d0e83e709783b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763604775&amp;x-signature=XGfEVYv7IQa%2FVvf9k20KoVYhHjw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">01 å¼•è¨€</h2>
<p>åœ¨ä¹‹å‰ä¸“é—¨å†™äº†ä¸€ç¯‡æ–‡ç« ã€Š<code>SpringBoot</code>é›†æˆï¼š5åˆ†é’Ÿå®ç°<code>HTML</code>è½¬<code>PDF</code>åŠŸèƒ½ã€‹ï¼Œä»‹ç»ä¸‰æ¬¾<code>Html</code>è½¬<code>PDF</code>çš„å·¥å…·ã€‚è¿™ä¸ï¼Œåˆå‘ç°äº†ä¸¤æ¬¾ç±»ä¼¼çš„å·¥å…·ï¼Œæ•´ç†ä¸€ä¸‹åˆ†äº«ç»™å¤§å®¶ã€‚</p>
<h2 data-id="heading-1">02 itext-pdfhtml-java</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/024171cf2f7344d68ee3351459f33583~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763604775&amp;x-signature=GBk7ynYUKAr20K5UleVzP3Z9T7Q%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-2">2.1 ç®€ä»‹</h3>
<p><code>iText pdfHTML</code>æ˜¯<code>iText7</code>å¥—ä»¶çš„ä¸€ä¸ªé™„åŠ ç»„ä»¶ï¼Œä¸“é—¨ç”¨äºå°†<code>HTML</code>å’Œ<code>CSS</code>å†…å®¹è½¬æ¢ä¸º<code>PDF</code>æ–‡æ¡£ã€‚å®ƒåŸºäº<code>iText</code>æ ¸å¿ƒ<code>PDF</code>ç”Ÿæˆå¼•æ“ï¼Œæä¾›äº†é«˜è´¨é‡çš„<code>HTML</code>åˆ°<code>PDF</code>è½¬æ¢åŠŸèƒ½ã€‚æ€§èƒ½è¡¨ç°éå¸¸ä¼˜å¼‚ã€‚</p>
<p>ä¸»è¦ç‰¹æ€§ï¼š</p>
<ul>
<li><strong>å®Œæ•´çš„<code>HTML5</code>å’Œ<code>CSS3</code>æ”¯æŒ</strong>ï¼šèƒ½å¤Ÿå¤„ç†ç°ä»£ç½‘é¡µå¸ƒå±€å’Œæ ·å¼</li>
<li><strong>å­—ä½“åµŒå…¥</strong>ï¼šè‡ªåŠ¨å¤„ç†Webå­—ä½“å’Œç³»ç»Ÿå­—ä½“</li>
<li><strong>å“åº”å¼è®¾è®¡</strong>ï¼šæ”¯æŒåª’ä½“æŸ¥è¯¢å’Œå“åº”å¼å¸ƒå±€</li>
<li><strong>é«˜ä¿çœŸè½¬æ¢</strong>ï¼šä¿æŒHTMLå†…å®¹çš„è§†è§‰ä¿çœŸåº¦</li>
<li><strong>JavaåŸç”Ÿ</strong>ï¼šä¸“ä¸ºJavaç”Ÿæ€ç³»ç»Ÿè®¾è®¡</li>
</ul>
<p><code>GitHub</code>åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fitext%2Fitext-pdfhtml-java" target="_blank" title="https://github.com/itext/itext-pdfhtml-java" ref="nofollow noopener noreferrer">github.com/itext/itextâ€¦</a></p>
<p>å®˜æ–¹åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fitextpdf.com%2Fproducts%2Fconvert-html-css-to-pdf-pdfhtml" target="_blank" title="https://itextpdf.com/products/convert-html-css-to-pdf-pdfhtml" ref="nofollow noopener noreferrer">itextpdf.com/products/coâ€¦</a></p>
<h3 data-id="heading-3">2.2 æ¡ˆä¾‹</h3>
<p>ä½¿ç”¨èµ·æ¥ä¹Ÿéå¸¸ç®€å•ï¼Œä¸‹é¢å®˜æ–¹çš„æ¡ˆä¾‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ca4a7ca81d0d437d9377dd672981f93a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763604775&amp;x-signature=n%2BufL%2FAX17Q1IJJb4bV64o6Je6A%3D" alt="" loading="lazy"/></p>
<p><strong>Mavenä¾èµ–</strong>ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.itextpdf<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>html2pdf<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>6.2.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p><strong>å®è·µä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@RequestMapping("index6")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">index6</span><span class="hljs-params">(Model model, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> IOException {
    List&lt;Map&lt;String, Object&gt;&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) {
        Map&lt;String, Object&gt; item = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        item.put(<span class="hljs-string">"image1"</span>, <span class="hljs-string">"http://example.com/2eb97.jpg"</span>);
        item.put(<span class="hljs-string">"image2"</span>, <span class="hljs-string">"http://example.com/2f9c3.jpg"</span>);
        item.put(<span class="hljs-string">"vehicleName"</span>, <span class="hljs-string">"è·¯è™Defenderï¼»å«å£«ï¼½ï¼ˆè¿›å£ï¼‰2023æ¬¾Defender130 48Vï¼»å«å£« 130 48V] 3.0Tæ‰‹è‡ªï¼ä½“P400 HSE"</span>);
        item.put(<span class="hljs-string">"brandName"</span>, <span class="hljs-string">"è·¯è™"</span>);
        item.put(<span class="hljs-string">"seriesName"</span>, <span class="hljs-string">"Defenderï¼»å«å£«ï¼½"</span>);
        item.put(<span class="hljs-string">"modelYear"</span>, <span class="hljs-string">"2023æ¬¾"</span>);
        item.put(<span class="hljs-string">"licenseYear"</span>, SDF.format(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()));
        item.put(<span class="hljs-string">"displayMileage"</span>, DF.format(<span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">"9657"</span>)));
        item.put(<span class="hljs-string">"dealDate"</span>, SDF.format(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()));
        item.put(<span class="hljs-string">"dealPrice"</span>, DF.format(<span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">"702400"</span>)));

        item.put(<span class="hljs-string">"licenseCode"</span>, <span class="hljs-string">"æ²ªA952714"</span>);

        list.add(item);
    }
    model.addAttribute(<span class="hljs-string">"list"</span>, list);
    Map&lt;String, Object&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
    map.put(<span class="hljs-string">"list"</span>, list);

    <span class="hljs-type">Context</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Context</span>(Locale.getDefault(), map);
    <span class="hljs-type">String</span> <span class="hljs-variable">htmlContent</span> <span class="hljs-operator">=</span> templateEngine.process(<span class="hljs-string">"index"</span>, context);
    System.out.println(htmlContent);

    <span class="hljs-comment">// ---------------------------------------------------</span>
    <span class="hljs-comment">/*itext-html2pdf*/</span>
    <span class="hljs-type">ConverterProperties</span> <span class="hljs-variable">properties</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConverterProperties</span>();

    <span class="hljs-type">FontProvider</span> <span class="hljs-variable">fontProvider</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FontProvider</span>();
    fontProvider.addSystemFonts();
<span class="hljs-comment">//        fontProvider.addFont("C:\\Windows\\Fonts\\simhei.ttf");</span>
    <span class="hljs-comment">// æ·»åŠ ç³»ç»Ÿå­—ä½“</span>
    properties.setFontProvider(fontProvider);

    HtmlConverter.convertToPdf(htmlContent, response.getOutputStream(), properties);
}
</code></pre>
<p>åŒæ ·é»˜è®¤æ˜¯ä¸æ”¯æŒä¸­æ–‡çš„ï¼Œéœ€è¦é€šè¿‡<code>FontProvider</code>æ·»åŠ æŒ‡å®šçš„å­—ä½“ã€‚<code>fontProvider.addSystemFonts();</code>ç›´æ¥æ·»åŠ ç³»ç»Ÿå­—ä½“ï¼Œä¹Ÿå¯ä»¥é€šè¿‡<code>addFont()</code>æ·»åŠ è‡ªå®šä¹‰å­—ä½“ã€‚é¡µé¢å¿…é¡»å£°æ˜å­—ä½“ï¼Œå¦åˆ™ä¼šå‡ºç°ä¹±ç ã€‚</p>
<h2 data-id="heading-4">03 x-easypdf</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f789e0271ef646d08c9ff65b1d160004~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763604775&amp;x-signature=MzcOsM2iWen1FdY%2FiDzfn9hrK68%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-5">3.1 ç®€ä»‹</h3>
<p><code>x-easypdf</code>æ˜¯ä¸€ä¸ª<code>java</code>è¯­è¨€ç®€åŒ–å¤„ç†<code>pdf</code>çš„æ¡†æ¶ï¼ŒåŒ…å«<code>fop</code>æ¨¡å—ä¸<code>pdfbox</code>æ¨¡å—ï¼Œ<code>fop</code>æ¨¡å—ä»¥åˆ›å»ºåŠŸèƒ½ä¸ºä¸»ï¼ŒåŸºäº<code>xsl-fo</code>æ¨¡æ¿ç”Ÿæˆ<code>pdf</code>æ–‡æ¡£ï¼Œä»¥æ•°æ®æºçš„æ–¹å¼è¿›è¡Œæ¨¡æ¿æ¸²æŸ“ï¼›<code>pdfbox</code>æ¨¡å—ä»¥ç¼–è¾‘åŠŸèƒ½ä¸ºä¸»ï¼Œå¯¹æ ‡å‡†çš„<code>pdfbox</code>è¿›è¡Œæ‰©å±•ï¼Œæ·»åŠ äº†æˆå¨çš„åŠŸèƒ½ã€‚</p>
<p><code>Html</code>è½¬<code>Pdf</code>æ˜¯<code>pdfbox</code>æ¨¡å—ä¸‹çš„ä¸€ä¸ªè½¬åŒ–å™¨çš„åŠŸèƒ½ï¼Œæ˜¯åŸºäº <a href="https://link.juejin.cn?target=https%3A%2F%2Fplaywright.dev%2Fjava%2Fdocs%2Fintro" target="_blank" title="https://playwright.dev/java/docs/intro" ref="nofollow noopener noreferrer">playwright</a> å®ç°çš„ã€‚è€Œ<code>playwright</code>çš„ä¾èµ–éœ€è¦æ‰‹åŠ¨å¼•å…¥ã€‚<code>Playwright</code>æ˜¯ä¸€ä¸ªè·¨è¯­è¨€çš„æµè§ˆå™¨è‡ªåŠ¨åŒ–åº“ï¼Œç”±<code>Microsoft</code>å¼€å‘ã€‚è™½ç„¶ä¸»è¦ç”¨äºç«¯åˆ°ç«¯æµ‹è¯•ï¼Œä½†å…¶å¼ºå¤§çš„<code>PDF</code>ç”ŸæˆåŠŸèƒ½ä¹Ÿä½¿å…¶æˆä¸º<code>HTML</code>è½¬<code>PDF</code>çš„ä¼˜ç§€å·¥å…·ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/92d45b8a6e1b4e38b12f17cd8b94a417~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763604775&amp;x-signature=auTpCKZiPq%2B8JF%2BTr%2B%2BXDxLnfnE%3D" alt="" loading="lazy"/></p>
<p><code>Gitee</code>åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fdromara%2Fx-easypdf" target="_blank" title="https://gitee.com/dromara/x-easypdf" ref="nofollow noopener noreferrer">gitee.com/dromara/x-eâ€¦</a></p>
<p>å®˜ç½‘åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fx-easypdf.cn%2F" target="_blank" title="https://x-easypdf.cn/" ref="nofollow noopener noreferrer">x-easypdf.cn/</a></p>
<h3 data-id="heading-6">3.2 æ¡ˆä¾‹</h3>
<p><code>x-easypdf</code>æ˜¯å¯¹<code>playwrigh</code>çš„åŠŸèƒ½åšäº†ä¸€å±‚åŒ…è£…ï¼Œä½¿ç”¨èµ·æ¥æ›´æ–¹ä¾¿ã€‚</p>
<p><strong>Mavenä¾èµ–</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.dromara<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>x-easypdf<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.4.7<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.microsoft.playwright<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>playwright<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.53.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p><strong>å®è·µä»£ç 01</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@RequestMapping("index10")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">index10</span><span class="hljs-params">(HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> IOException {
    <span class="hljs-comment">// è·å–htmlè½¬æ¢å™¨</span>
    <span class="hljs-type">HtmlConvertor</span> <span class="hljs-variable">convertor</span> <span class="hljs-operator">=</span> PdfHandler.getDocumentConvertor().getHtmlConvertor();
    <span class="hljs-type">Document</span> <span class="hljs-variable">pdf</span> <span class="hljs-operator">=</span> convertor.toPdf(<span class="hljs-string">"http://127.0.0.1:8080/page/index"</span>);
    pdf.save(response.getOutputStream());
}
</code></pre>
<p><strong>æ³¨æ„äº‹é¡¹</strong></p>
<p><code>playwrigh</code>æ˜¯åŸºäºæµè§ˆå™¨å¼•æ“çš„ï¼Œé¦–æ¬¡è°ƒç”¨ä¼šä¸‹è½½é»˜è®¤çš„æµè§ˆå™¨ï¼Œä¸‹è½½å®Œæˆä¹‹åï¼Œåç»­çš„ä½¿ç”¨å°±æµç•…äº†ã€‚è€Œä¸”é»˜è®¤æ”¯æŒä¸­æ–‡ï¼Œå› ä¸ºä½¿ç”¨æµè§ˆå™¨å¼•æ“ï¼Œæ‰€ä»¥å¯¹äº<code>Html</code>å’Œ<code>Css</code>æ”¯æŒè¾ƒå¥½ã€‚ä½†æ˜¯æ¶ˆè€—èµ„æºè¾ƒé«˜ã€‚</p>
<p>ä½†æ˜¯è¿™é‡Œ<code>convertor.toPdf()</code>ç›®å‰æ”¯æŒä¼ å…¥åœ°å€å’Œæ–‡ä»¶ã€‚ä¸æ”¯æŒç›´æ¥<code>html</code>å†…å®¹ç›´æ¥è½¬åŒ–çš„ã€‚ä½†æ˜¯<code>playwrigh</code>æœ¬èº«æ˜¯æ”¯æŒçš„ã€‚</p>
<p>å°ç¼–å·²ç»ç»™<code>x-easypdf</code>ä½œè€…æäº†<code>issues</code>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fdromara%2Fx-easypdf%2Fissues%2FID59TK" target="_blank" title="https://gitee.com/dromara/x-easypdf/issues/ID59TK" ref="nofollow noopener noreferrer">gitee.com/dromara/x-eâ€¦</a></p>
<p>**æ³¨æ„ï¼š**æˆªæ­¢å‘ç¨¿ï¼Œå®˜æ–¹å·²ç»åœ¨<code>3.5.0</code>ç‰ˆæœ¬æ”¯æŒäº†<code>html</code>å†…å®¹è½¬<code>Pdf</code>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d21ec3c6eb54a7daec64c339549b078~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763604775&amp;x-signature=7kcF1hIUJPoWys6g%2FV4yWOgDTtA%3D" alt="" loading="lazy"/></p>
<p><strong>å®æˆ˜ä»£ç 02</strong></p>
<p>ä½¿ç”¨æ¨¡æ¿å¼•æ“çš„æ–¹å¼ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/90c01f3689904b9ab9a5bb5301649a2a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763604775&amp;x-signature=2pIfLVnU7TbdmZd1c3Q33%2BohlO4%3D" alt="" loading="lazy"/></p>
<p>å®˜ç½‘åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fx-easypdf.cn%2Fguide%2Fpdfbox%2Fadvance%2Ftemplater%2F%25E6%25A8%25A1%25E6%259D%25BF%25E5%25BC%2595%25E6%2593%258E.html%23thymeleaf" target="_blank" title="https://x-easypdf.cn/guide/pdfbox/advance/templater/%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E.html#thymeleaf" ref="nofollow noopener noreferrer">x-easypdf.cn/guide/pdfboâ€¦</a></p>
<p>ä¾ç„¶æ˜¯å»ºç«‹åœ¨<code>playwrigh</code>åŸºç¡€ä¹‹ä¸Šã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@RequestMapping("index12")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">index12</span><span class="hljs-params">(HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> IOException {
    List&lt;Map&lt;String, Object&gt;&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) {
        Map&lt;String, Object&gt; item = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        item.put(<span class="hljs-string">"image1"</span>, <span class="hljs-string">"http://example.com/2eb97.jpg"</span>);
        item.put(<span class="hljs-string">"image2"</span>, <span class="hljs-string">"http://example.com/2f9c3.jpg"</span>);
        item.put(<span class="hljs-string">"vehicleName"</span>, <span class="hljs-string">"è·¯è™Defenderï¼»å«å£«ï¼½ï¼ˆè¿›å£ï¼‰2023æ¬¾Defender130 48Vï¼»å«å£« 130 48V] 3.0Tæ‰‹è‡ªï¼ä½“P400 HSE"</span>);
        item.put(<span class="hljs-string">"brandName"</span>, <span class="hljs-string">"è·¯è™"</span>);
        item.put(<span class="hljs-string">"seriesName"</span>, <span class="hljs-string">"Defenderï¼»å«å£«ï¼½"</span>);
        item.put(<span class="hljs-string">"modelYear"</span>, <span class="hljs-string">"2023æ¬¾"</span>);
        item.put(<span class="hljs-string">"licenseYear"</span>, SDF.format(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()));
        item.put(<span class="hljs-string">"displayMileage"</span>, DF.format(<span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">"9657"</span>)));
        item.put(<span class="hljs-string">"dealDate"</span>, SDF.format(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()));
        item.put(<span class="hljs-string">"dealPrice"</span>, DF.format(<span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">"702400"</span>)));

        item.put(<span class="hljs-string">"licenseCode"</span>, <span class="hljs-string">"æ²ªA952714"</span>);

        list.add(item);
    }
    Map&lt;String, Object&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
    map.put(<span class="hljs-string">"list"</span>, list);

    <span class="hljs-type">ThymeleafTemplater</span> <span class="hljs-variable">templater</span> <span class="hljs-operator">=</span> PdfHandler.getDocumentTemplater().getThymeleafTemplater();
    templater.setTemplatePath(<span class="hljs-string">"templates"</span>);
    templater.setTemplateName(<span class="hljs-string">"index.html"</span>);
    templater.setTemplateData(map);

    <span class="hljs-comment">// è·å– html å†…å®¹</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">content</span> <span class="hljs-operator">=</span> templater.getHtmlContent();
    System.out.println(content);

    <span class="hljs-comment">// è½¬æ¢æ–‡æ¡£</span>
    <span class="hljs-type">Document</span> <span class="hljs-variable">document</span> <span class="hljs-operator">=</span> templater.transform();
    document.save(response.getOutputStream());
}
</code></pre>
<p>è¿™é‡Œéœ€è¦è¯´æ˜çš„æ˜¯ï¼šç”±äº<code>x-easypdf</code>è‡ªè¡Œè§£æäº†<code>Thymeleaf</code>æ¨¡ç‰ˆï¼Œæ‰€ä»¥æ— æ³•ä½¿ç”¨<code>spring-boot-starter-thymeleaf</code>çš„é…ç½®ã€‚<code>templatePath</code>å’Œ<code>templateName</code>éƒ½éœ€è¦å†™å®Œæ•´ã€‚<code>templatePath</code>æŒ‡<code>classpath</code>ä¸‹çš„è·¯å¾„ã€‚</p>
<p>æ¨¡æ¿å¼•æ“å¯èƒ½ä¼šå‡ºç°<code>nested exception is java.lang.NoClassDefFoundError: ognl/PropertyAccessor</code>çš„é”™è¯¯ï¼Œéœ€è¦å¼•å…¥<code>ognl</code>ï¼Œä¸”ç‰ˆæœ¬ä¸èƒ½è¶…è¿‡<code>3.2</code>ã€‚ä» <code>3.2</code> å¼€å§‹ï¼Œä¼šæŠ¥<code>java.lang.NoClassDefFoundError: ognl/DefaultMemberAccess</code>ã€‚æœ‰æ•ˆç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>ognl<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>ognl<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.1.28<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p>è¾¹è·å¯ä»¥é€šè¿‡æ‰“å°æ ·å¼æ§åˆ¶ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-keyword">@page</span> {
    size: A4;
    <span class="hljs-attribute">margin</span>: <span class="hljs-number">20px</span>;
}
</code></pre>
<h3 data-id="heading-7">3.3 <code>playwrigh</code>åŸç”Ÿå†™æ³•</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@RequestMapping("index11")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">index11</span><span class="hljs-params">(HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> IOException {
    <span class="hljs-keyword">try</span> (<span class="hljs-type">Playwright</span> <span class="hljs-variable">playwright</span> <span class="hljs-operator">=</span> Playwright.create();
         <span class="hljs-type">Browser</span> <span class="hljs-variable">browser</span> <span class="hljs-operator">=</span> playwright.chromium().launch()) {
        <span class="hljs-type">BrowserContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> browser.newContext();
        <span class="hljs-type">Page</span> <span class="hljs-variable">page</span> <span class="hljs-operator">=</span> context.newPage();

        <span class="hljs-comment">// ä»HTMLå†…å®¹ç”ŸæˆPDF</span>
        page.setContent(<span class="hljs-string">"&lt;h1&gt;Hello, Playwright!&lt;/h1&gt;"</span>);
        <span class="hljs-type">byte</span>[] pdf = page.pdf();

        <span class="hljs-type">ByteArrayInputStream</span> <span class="hljs-variable">bais</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ByteArrayInputStream</span>(pdf);
        IOUtils.copy(bais, response.getOutputStream());
    }
}
</code></pre>
<h2 data-id="heading-8">04 å°ç»“</h2>
<p><code>iText pdfHTML</code>å†…å­˜å ç”¨ä½ï¼Œè½¬æ¢é€Ÿåº¦å¿«ï¼Œé€‚åˆæœåŠ¡å™¨ç«¯æ‰¹é‡å¤„ç†ã€‚è€Œ<code>Playwright</code>éœ€è¦æ›´å¤šèµ„æºï¼Œä½†æ¸²æŸ“è´¨é‡æé«˜ï¼Œé€‚åˆå¯¹è§†è§‰ä¿çœŸåº¦è¦æ±‚é«˜çš„åœºæ™¯ï¼Œæ‰€ä»¥<code>x-easypdf</code>ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚å¦‚æœåªæ˜¯é’ˆå¯¹<code>Html</code>è½¬<code>Pdf</code>çš„æœåŠ¡ç«¯è½¬åŒ–çš„åœºæ™¯<code>iText pdfHTML</code>çš„ä¼˜åŠ¿æ›´æ˜æ˜¾ä¸€ä¸‹ï¼Œå…³é”®å®ƒå¿«ï¼</p>
<p>ä¹Ÿæœ‰ç²‰ä¸æœ‹å‹ç•™è¨€è¯´<code>jasperreports</code>ä¹Ÿå¾ˆå¥½ç”¨ï¼Œå°ç¼–ä¹Ÿè¯•äº†ä¸€ä¸‹ã€‚<code>jasperreports</code>éœ€è¦åŠ è½½ç‰¹å®šçš„æ¨¡æ¿ï¼Œä¹Ÿè®¸æ˜¯å› ä¸ºä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œç”¨èµ·æ¥æ„Ÿè§‰æœ‰ç‚¹åˆ«æ‰­ã€‚è¿™é‡Œå°±ä¸æ¨èäº†ï¼Œæœ‰å…´è¶£çš„å¯ä»¥å»è¯•è¯•ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Swift 6 å®æˆ˜ï¼šä»â€œå®šæ—¶å™¨è½®è¯¢â€åˆ° AsyncSequence çš„ä¼˜é›…å®æ—¶æ¨é€]]></title>    <link>https://juejin.cn/post/7571751304624701486</link>    <guid>https://juejin.cn/post/7571751304624701486</guid>    <pubDate>2025-11-13T00:05:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571751304624701486" data-draft-id="7559481579463000106" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Swift 6 å®æˆ˜ï¼šä»â€œå®šæ—¶å™¨è½®è¯¢â€åˆ° AsyncSequence çš„ä¼˜é›…å®æ—¶æ¨é€"/> <meta itemprop="keywords" content="Swift"/> <meta itemprop="datePublished" content="2025-11-13T00:05:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="unravel2025"/> <meta itemprop="url" content="https://juejin.cn/user/1116759541421880"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Swift 6 å®æˆ˜ï¼šä»â€œå®šæ—¶å™¨è½®è¯¢â€åˆ° AsyncSequence çš„ä¼˜é›…å®æ—¶æ¨é€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1116759541421880/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    unravel2025
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T00:05:07.000Z" title="Thu Nov 13 2025 00:05:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    9
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨ iOS å¼€å‘ä¸­ï¼Œã€Œå®æ—¶åˆ·æ–°ã€éœ€æ±‚éšå¤„å¯è§ï¼š</p>
<ul>
<li>å¤©æ°”å¡ç‰‡ 3 ç§’æ›´æ–°ä¸€æ¬¡</li>
<li>åº§ä½çŠ¶æ€ç”±ç»¿å˜çº¢</li>
<li>è‚¡ä»·ã€æ¯”åˆ†ã€é…é€è¿›åº¦â€¦â€¦</li>
</ul>
<p>è¿‡å»æˆ‘ä»¬ä¹ æƒ¯ç”¨ <code>Timer.scheduledTimer</code> å†™ä¸€ä¸ªâ€œæ­»å¾ªç¯â€ï¼Œæˆ–è€…æŠŠ Combine çš„ <code>Timer.publish</code> æ‹¼æˆç®¡é“ã€‚</p>
<p>Swift 6 ä»¥åï¼Œå®˜æ–¹æŠŠ AsyncSequence æ¨åˆ° C ä½ï¼Œè®©æˆ‘ä»¬ç”¨â€œæµâ€çš„æ€ç»´è§£å†³è½®è¯¢ã€‚</p>
<h2 data-id="heading-1">æ ¸å¿ƒæ¦‚å¿µé€Ÿè§ˆ</h2>



































<table><thead><tr><th>æ¦‚å¿µ</th><th>ä¸€å¥è¯è¯´æ˜</th><th>æœ¬æ–‡å¯¹åº”ç¤ºä¾‹</th></tr></thead><tbody><tr><td>AsyncSequence</td><td>ä¸€ä¸ªå¯ä»¥ <code>for await</code> éå†çš„å¼‚æ­¥åºåˆ—ï¼Œå¤©ç”Ÿæ”¯æŒç»“æ„åŒ–å¹¶å‘ä¸è‡ªåŠ¨å–æ¶ˆ</td><td><code>AsyncStream&lt;WeatherCondition&gt;</code></td></tr><tr><td>AsyncStream</td><td>å®˜æ–¹æä¾›çš„ AsyncSequence å®ç°ï¼Œé€‚åˆâ€œè‡ªå·±å†™ç”Ÿäº§ç«¯â€çš„åœºæ™¯</td><td><code>pollingStream(api:)</code></td></tr><tr><td>Task.sleep</td><td>éé˜»å¡çš„å¼‚æ­¥â€œç¡çœ â€ï¼Œä¸ä¼šå¡ä½çº¿ç¨‹</td><td><code>try? await Task.sleep(for: .seconds(3))</code></td></tr><tr><td>Task.isCancelled</td><td>ç»“æ„åŒ–å¹¶å‘ä¸­çš„â€œå–æ¶ˆæ ‡è®°â€ï¼Œç”¨ while åˆ¤æ–­å³å¯ä¼˜é›…é€€å‡º</td><td><code>while !Task.isCancelled</code></td></tr><tr><td>MainActor.run</td><td>æŠŠé—­åŒ…å®‰å…¨åˆ‡å›ä¸»çº¿ç¨‹ï¼Œé¿å… UI å´©æºƒ</td><td><code>await MainActor.run { â€¦ }</code></td></tr></tbody></table>
<h2 data-id="heading-2">ä¸‰ç§å®ç°é€è¡Œæ‹†è§£</h2>
<h3 data-id="heading-3">åŸºç¡€API</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">WeatherCondition</span>: <span class="hljs-title class_">String</span>, <span class="hljs-title class_">CaseIterable</span> {
    <span class="hljs-keyword">case</span> clear, stormy
}

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">WeatherResponse</span> {
    <span class="hljs-keyword">let</span> condition: <span class="hljs-type">WeatherCondition</span>
}

<span class="hljs-keyword">actor</span> <span class="hljs-title class_">MockWeatherAPI</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">fetchWeather</span>() <span class="hljs-keyword">async</span> -&gt; <span class="hljs-type">WeatherResponse</span> {
        <span class="hljs-keyword">try?</span> <span class="hljs-keyword">await</span> <span class="hljs-type">Task</span>.sleep(for: .seconds(<span class="hljs-number">1</span>))
        <span class="hljs-keyword">return</span> <span class="hljs-type">WeatherResponse</span>(condition: <span class="hljs-type">WeatherCondition</span>.allCases.randomElement()<span class="hljs-operator">!</span>)
    }
}
</code></pre>
<h3 data-id="heading-4">å®šæ—¶å™¨æ´¾ï¼šTimer.scheduledTimer</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// ä¼ ç»Ÿå†™æ³•ï¼ŒåŠŸèƒ½å¯ç”¨ï¼Œä½†å‘æœ€å¤š</span>
<span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TimerViewModel</span>: <span class="hljs-title class_">ObservableObject</span> {
    <span class="hljs-meta">@Published</span> <span class="hljs-keyword">var</span> weather: <span class="hljs-type">WeatherCondition</span> <span class="hljs-operator">=</span> .clear
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> timer: <span class="hljs-type">Timer</span>?
    
    <span class="hljs-keyword">init</span>(<span class="hljs-params">api</span>: <span class="hljs-type">MockWeatherAPI</span>) {
        <span class="hljs-comment">// æ¯ 3 ç§’åœ¨ä¸»çº¿ç¨‹å›è°ƒä¸€æ¬¡</span>
        timer <span class="hljs-operator">=</span> <span class="hljs-type">Timer</span>.scheduledTimer(withTimeInterval: <span class="hljs-number">3.0</span>, repeats: <span class="hljs-literal">true</span>) { [<span class="hljs-keyword">weak</span> <span class="hljs-keyword">self</span>] <span class="hljs-keyword">_</span> <span class="hljs-keyword">in</span>
            <span class="hljs-comment">// å¿…é¡»åœ¨å¼‚æ­¥ä¸Šä¸‹æ–‡è°ƒç”¨ async æ–¹æ³•ï¼Œæ‰€ä»¥åŒ…ä¸€å±‚ Task</span>
            <span class="hljs-type">Task</span> {
                <span class="hljs-keyword">let</span> response <span class="hljs-operator">=</span> <span class="hljs-keyword">await</span> api.fetchWeather()
                <span class="hljs-comment">// å›åˆ°ä¸»çº¿ç¨‹æ”¹ UI</span>
                <span class="hljs-keyword">await</span> <span class="hljs-type">MainActor</span>.run { <span class="hljs-keyword">self</span><span class="hljs-operator">?</span>.weather <span class="hljs-operator">=</span> response.condition }
            }
        }
    }
    
    <span class="hljs-keyword">deinit</span> {
        timer<span class="hljs-operator">?</span>.invalidate()   <span class="hljs-comment">// å¿˜äº†å†™å°±ä¼šå†…å­˜æ³„æ¼</span>
    }
}
</code></pre>
<p>ç¼ºç‚¹å°ç»“</p>
<ol>
<li>å¿˜è®° <code>invalidate()</code> ç›´æ¥æ³„æ¼</li>
<li>åå°æ¨¡å¼ä¸‹å®¹æ˜“â€œå¡â€è®¡æ—¶å™¨</li>
<li>å•å…ƒæµ‹è¯•å¿…é¡»çœŸè·‘ 3 ç§’ï¼ŒCI ææ…¢</li>
</ol>
<h3 data-id="heading-5">Combine æ´¾ï¼šTimer.publish + Future</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CombineViewModel</span>: <span class="hljs-title class_">ObservableObject</span> {
    <span class="hljs-meta">@Published</span> <span class="hljs-keyword">var</span> weather: <span class="hljs-type">WeatherCondition</span> <span class="hljs-operator">=</span> .clear
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> cancellables <span class="hljs-operator">=</span> <span class="hljs-type">Set</span>&lt;<span class="hljs-type">AnyCancellable</span>&gt;()
    
    <span class="hljs-keyword">init</span>(<span class="hljs-params">api</span>: <span class="hljs-type">MockWeatherAPI</span>) {
        <span class="hljs-comment">// 1. ä¸»çº¿ç¨‹æ¯ 3 ç§’å‘ä¸€ä¸ªæ—¥æœŸ</span>
        <span class="hljs-type">Timer</span>.publish(every: <span class="hljs-number">3</span>, on: .main, in: .common)
            .autoconnect()
            <span class="hljs-comment">// 2. æŠŠæ—¥æœŸæ¢æˆå¼‚æ­¥è¯·æ±‚</span>
            .flatMap { <span class="hljs-keyword">_</span> <span class="hljs-keyword">in</span>
                <span class="hljs-type">Future</span> { promise <span class="hljs-keyword">in</span>
                    <span class="hljs-type">Task</span> {
                        <span class="hljs-keyword">let</span> response <span class="hljs-operator">=</span> <span class="hljs-keyword">await</span> api.fetchWeather()
                        promise(.success(response.condition))
                    }
                }
            }
            .receive(on: <span class="hljs-type">RunLoop</span>.main)   <span class="hljs-comment">// 3. å›åˆ°ä¸»çº¿ç¨‹</span>
            .assign(to: <span class="hljs-operator">&amp;</span><span class="hljs-variable">$weather</span>)        <span class="hljs-comment">// 4. ç›´æ¥ç»‘åˆ°å±æ€§</span>
    }
}
</code></pre>
<p>ç¼ºç‚¹å°ç»“</p>
<ul>
<li>å¼‚æ­¥/await ä¸ Combine æ··å†™ï¼Œå¿ƒæ™ºè´Ÿæ‹…é«˜</li>
<li><code>Future</code> åªèƒ½å®Œæˆä¸€æ¬¡ï¼Œä¸èƒ½â€œæŒç»­â€å‘å€¼ï¼Œéœ€è¦ <code>flatMap</code> ä¸æ–­æ–°å»º</li>
<li>æµ‹è¯•ä»éœ€è·‘çœŸæ—¶é—´æˆ–ä½¿ç”¨ <code>TestScheduler</code></li>
</ul>
<h3 data-id="heading-6">AsyncSequence æ´¾ï¼šAsyncStream ä¸€ç»Ÿæ±Ÿæ¹–</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StreamViewModel</span>: <span class="hljs-title class_">ObservableObject</span> {
    <span class="hljs-meta">@Published</span> <span class="hljs-keyword">var</span> weather: <span class="hljs-type">WeatherCondition</span> <span class="hljs-operator">=</span> .clear
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> task: <span class="hljs-type">Task</span>&lt;<span class="hljs-type">Void</span>, <span class="hljs-type">Never</span>&gt;?
    
    <span class="hljs-keyword">init</span>(<span class="hljs-params">api</span>: <span class="hljs-type">MockWeatherAPI</span>) {
        <span class="hljs-comment">// ç»“æ„åŒ–å¹¶å‘ï¼šå¯åŠ¨ä¸€ä¸ªå­ä»»åŠ¡</span>
        task <span class="hljs-operator">=</span> <span class="hljs-type">Task</span> {
            <span class="hljs-comment">// ç›´æ¥ for await éå†è‡ªå®šä¹‰æµ</span>
            <span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> update <span class="hljs-keyword">in</span> <span class="hljs-keyword">Self</span>.pollingStream(api: api) {
                <span class="hljs-keyword">await</span> <span class="hljs-type">MainActor</span>.run { <span class="hljs-keyword">self</span>.weather <span class="hljs-operator">=</span> update }
            }
        }
    }
    
    <span class="hljs-keyword">deinit</span> {
        task<span class="hljs-operator">?</span>.cancel()   <span class="hljs-comment">// å–æ¶ˆå³åœæµï¼Œæ— éœ€æ‰‹åŠ¨ invalidate</span>
    }
    
    <span class="hljs-comment">// MARK: - æ ¸å¿ƒå·¥å‚æ–¹æ³•</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">pollingStream</span>(<span class="hljs-params">api</span>: <span class="hljs-type">MockWeatherAPI</span>) -&gt; <span class="hljs-type">AsyncStream</span>&lt;<span class="hljs-type">WeatherCondition</span>&gt; {
        <span class="hljs-type">AsyncStream</span> { continuation <span class="hljs-keyword">in</span>
            <span class="hljs-comment">// çœŸæ­£ç”Ÿäº§ç«¯è·‘åœ¨å­ä»»åŠ¡</span>
            <span class="hljs-type">Task</span> {
                <span class="hljs-comment">// å¦‚æœå¤–éƒ¨è°ƒç”¨è€…å–æ¶ˆ Taskï¼Œè¿™é‡Œä¼šä¼˜é›…é€€å‡º</span>
                <span class="hljs-keyword">while</span> <span class="hljs-operator">!</span><span class="hljs-type">Task</span>.isCancelled {
                    <span class="hljs-keyword">let</span> update <span class="hljs-operator">=</span> <span class="hljs-keyword">await</span> api.fetchWeather()
                    continuation.yield(update.condition)          <span class="hljs-comment">// å‘ä¸‹æ¸¸å‘ä¸€ä¸ªå€¼</span>
                    <span class="hljs-keyword">try?</span> <span class="hljs-keyword">await</span> <span class="hljs-type">Task</span>.sleep(for: .seconds(<span class="hljs-number">3</span>))       <span class="hljs-comment">// ç­‰ 3 ç§’å†é‡‡</span>
                }
                continuation.finish()                             <span class="hljs-comment">// å‘ŠçŸ¥â€œæˆ‘å‘å®Œäº†â€</span>
            }
        }
    }
}
</code></pre>
<p>ä¼˜ç‚¹å°ç»“</p>
<p>âœ… å–æ¶ˆå³åœï¼šTask å–æ¶ˆå <code>while</code> è‡ªåŠ¨ç»“æŸ</p>
<p>âœ… æµ‹è¯•å‹å¥½ï¼šç”¨ <code>AsyncStream.makeAsyncIterator()</code> å¯ä»¥åŒæ­¥æ‹¿å€¼ï¼Œæ— éœ€çœŸç¡ 3 ç§’</p>
<p>âœ… å¯ç»„è£…ï¼šåç»­åŠ  <code>timeout</code>ã€<code>debounce</code>ã€<code>buffer</code> éƒ½åªè¦åŒ…ä¸€å±‚åºåˆ—</p>
<h3 data-id="heading-7">è§†å›¾å±‚ï¼šSeatAvailabilityView</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">SeatAvailabilityView</span>: <span class="hljs-title class_">View</span> {
    <span class="hljs-keyword">let</span> condition: <span class="hljs-type">WeatherCondition</span>
    
    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {
        <span class="hljs-type">Circle</span>()
            .fill(condition <span class="hljs-operator">==</span> .clear <span class="hljs-operator">?</span> .green : .red)
            .frame(width: <span class="hljs-number">100</span>, height: <span class="hljs-number">100</span>)
            .overlay(<span class="hljs-type">Text</span>(condition.rawValue.capitalized))
    }
}
</code></pre>
<p>ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {
    <span class="hljs-meta">@StateObject</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> vm <span class="hljs-operator">=</span> <span class="hljs-type">StreamViewModel</span>(api: <span class="hljs-type">MockWeatherAPI</span>())
    
    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {
        <span class="hljs-type">SeatAvailabilityView</span>(condition: vm.weather)
            .task {          <span class="hljs-comment">// è§†å›¾æ¶ˆå¤±æ—¶è‡ªåŠ¨å–æ¶ˆå†…éƒ¨çš„ Task</span>
                <span class="hljs-comment">// å¦‚æœè¿™é‡Œè¿˜å¯åŠ¨é¢å¤–å·¥ä½œï¼Œå¯ä¸€å¹¶å–æ¶ˆ</span>
            }
    }
}
</code></pre>
<h4 data-id="heading-8">å–æ¶ˆçš„ 3 ä¸ªå§¿åŠ¿</h4>

























<table><thead><tr><th>åœºæ™¯</th><th>å®ç°æ–¹å¼</th><th>ä»£ç ç‰‡æ®µ</th></tr></thead><tbody><tr><td>è§†å›¾æ¶ˆå¤±</td><td><code>.task</code>ä¿®é¥°ç¬¦</td><td><code>.task { â€¦ }</code>è‡ªåŠ¨åœ¨ disappear æ—¶ cancel</td></tr><tr><td>æ‰‹åŠ¨å–æ¶ˆ</td><td><code>deinit</code>è°ƒÂ <code>task?.cancel()</code></td><td>è§ StreamViewModel</td></tr><tr><td>è¶…æ—¶å–æ¶ˆ</td><td><code>AsyncThrowingStream</code>+Â <code>withTimeout</code></td><td>è§ä¸‹æ–¹æ‰©å±•</td></tr></tbody></table>
<h4 data-id="heading-9">å•å…ƒæµ‹è¯•ï¼šSwift Testing ç¤ºä¾‹</h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">import</span> Testing
<span class="hljs-keyword">@testable</span> <span class="hljs-keyword">import</span> YourModule

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">WeatherPollingTests</span> {
    <span class="hljs-comment">// éªŒè¯æµèƒ½æ­£å¸¸ emit å€¼</span>
    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">streamEmitsValues</span>() <span class="hljs-keyword">async</span> <span class="hljs-keyword">throws</span> {
        <span class="hljs-keyword">let</span> api <span class="hljs-operator">=</span> <span class="hljs-type">MockWeatherAPI</span>()
        <span class="hljs-keyword">let</span> stream <span class="hljs-operator">=</span> <span class="hljs-type">StreamViewModel</span>.pollingStream(api: api)
        <span class="hljs-keyword">var</span> iterator <span class="hljs-operator">=</span> stream.makeAsyncIterator()
        <span class="hljs-keyword">let</span> first <span class="hljs-operator">=</span> <span class="hljs-keyword">try</span> <span class="hljs-keyword">await</span> iterator.next()
        #expect(first <span class="hljs-operator">!=</span> <span class="hljs-literal">nil</span>)
    }
    
    <span class="hljs-comment">// éªŒè¯å¤–éƒ¨å–æ¶ˆåï¼Œå¾ªç¯ä¼šé€€å‡º</span>
    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">streamCancellation</span>() <span class="hljs-keyword">async</span> <span class="hljs-keyword">throws</span> {
        <span class="hljs-keyword">let</span> api <span class="hljs-operator">=</span> <span class="hljs-type">MockWeatherAPI</span>()
        <span class="hljs-keyword">let</span> task <span class="hljs-operator">=</span> <span class="hljs-type">Task</span> {
            <span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> <span class="hljs-keyword">_</span> <span class="hljs-keyword">in</span> <span class="hljs-type">StreamViewModel</span>.pollingStream(api: api) { }
        }
        task.cancel()
        #expect(task.isCancelled)
    }
}
</code></pre>
<p>æµ‹è¯•æé€ŸæŠ€å·§</p>
<ul>
<li>æŠŠ <code>Task.sleep</code> æŠ½è±¡æˆ <code>Clock.sleep</code>ï¼Œæµ‹è¯•æ³¨å…¥ <code>ImmediateClock</code> å³å¯ 0 ç§’è·‘å®Œ</li>
<li>ç”¨ <code>AsyncStream.makeAsyncIterator()</code> å¯ä»¥ä¸€æ¡ä¸€æ¡æ‹¿å€¼ï¼Œæ–­è¨€æ›´ç»†</li>
</ul>
<h2 data-id="heading-10">æ‰©å±•åœºæ™¯</h2>
<h3 data-id="heading-11">å¸¦è¶…æ—¶çš„è½®è¯¢</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">extension</span> <span class="hljs-title class_">AsyncStream</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">withTimeout</span>&lt;<span class="hljs-type">C</span>: <span class="hljs-type">Clock</span>&gt;(<span class="hljs-keyword">_</span> <span class="hljs-params">duration</span>: <span class="hljs-type">C</span>.<span class="hljs-type">Instant</span>.<span class="hljs-type">Duration</span>, <span class="hljs-params">clock</span>: <span class="hljs-type">C</span>) <span class="hljs-keyword">async</span> <span class="hljs-keyword">throws</span> -&gt; <span class="hljs-keyword">Self</span> {
        <span class="hljs-comment">// ç”¨ withThrowingTaskGroup åŒæ—¶è·‘â€œç”Ÿäº§å€¼â€å’Œâ€œå€’è®¡æ—¶â€</span>
        <span class="hljs-comment">// å“ªè¾¹å…ˆåˆ°å°±å–æ¶ˆå¦ä¸€è¾¹</span>
    }
}
</code></pre>
<h3 data-id="heading-12">å‡ WebSocket ä¸€é”®æ›¿æ¢</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">MockWebSocket</span>: <span class="hljs-title class_">AsyncSequence</span> {
    <span class="hljs-keyword">typealias</span> <span class="hljs-type">Element</span> <span class="hljs-operator">=</span> <span class="hljs-type">WeatherCondition</span>
    
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">AsyncIterator</span>: <span class="hljs-title class_">AsyncIteratorProtocol</span> {
        <span class="hljs-keyword">mutating</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">next</span>() <span class="hljs-keyword">async</span> -&gt; <span class="hljs-type">WeatherCondition</span>? {
            <span class="hljs-comment">// 2 ç§’éšæœºä¸€ä¸ªå€¼ï¼Œæ¨¡æ‹Ÿå¸§</span>
            <span class="hljs-keyword">try?</span> <span class="hljs-keyword">await</span> <span class="hljs-type">Task</span>.sleep(for: .seconds(<span class="hljs-number">2</span>))
            <span class="hljs-keyword">return</span> <span class="hljs-type">WeatherCondition</span>.allCases.randomElement()
        }
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeAsyncIterator</span>() -&gt; <span class="hljs-type">AsyncIterator</span> { <span class="hljs-type">AsyncIterator</span>() }
}
</code></pre>
<p>æŠŠ <code>for await update in MockWebSocket()</code> ç›´æ¥å¡è¿› ViewModelï¼Œ</p>
<p>å°†æ¥æ¢çœŸ WebSocket åªè¦æ”¹ä¸€è¡Œï¼ŒUI å±‚é›¶æ”¹åŠ¨ã€‚</p>
<h2 data-id="heading-13">æ€»ç»“ä¸é€‰å‹å»ºè®®</h2>
<ol>
<li>æ–°ä»£ç ç›´æ¥ä¸Š <code>AsyncStream</code>
<ul>
<li>å–æ¶ˆç®€å•ã€æµ‹è¯•å¿«ã€ä¸ Swift Concurrency åŸç”Ÿä¸€è‡´</li>
</ul>
</li>
<li>è€ä»£ç å¦‚æœå·²ç”¨ Combine
<ul>
<li>å¯ç»§ç»­ç”¨ <code>Timer.publish</code>ï¼Œä½†å»ºè®®åŒ…ä¸€å±‚ <code>AsyncPublisher</code> é€æ­¥è¿ç§»</li>
</ul>
</li>
<li>çº¯å®šæ—¶å™¨åœºæ™¯
<ul>
<li>åªè¦æœ€å°ä¾èµ–ï¼Œä¹Ÿå¯ä»¥ <code>AsyncSequence</code> ä¸€æŠŠæ¢­ï¼Œåˆ«å†å†™ <code>Timer</code> äº†</li>
</ul>
</li>
</ol>
<h2 data-id="heading-14">å­¦ä¹ èµ„æ–™</h2>
<ol>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmedium.com%2F%40wesleymatlock%2Fasyncsequence-for-real-time-apis-from-legacy-polling-to-swift-6-elegance-c2b8139c21e0" target="_blank" title="https://medium.com/@wesleymatlock/asyncsequence-for-real-time-apis-from-legacy-polling-to-swift-6-elegance-c2b8139c21e0" ref="nofollow noopener noreferrer">medium.com/@wesleymatlâ€¦</a></li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»æ“¦é™¤åˆ°æ¢å¤ï¼šJSON åº“æ˜¯å¦‚ä½•â€œè¿˜åŸâ€ Java æ³›å‹ä¿¡æ¯çš„]]></title>    <link>https://juejin.cn/post/7571646669202571306</link>    <guid>https://juejin.cn/post/7571646669202571306</guid>    <pubDate>2025-11-13T00:04:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571646669202571306" data-draft-id="7571391088947822630" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»æ“¦é™¤åˆ°æ¢å¤ï¼šJSON åº“æ˜¯å¦‚ä½•â€œè¿˜åŸâ€ Java æ³›å‹ä¿¡æ¯çš„"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-13T00:04:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é£è±¡å—"/> <meta itemprop="url" content="https://juejin.cn/user/2524134428655159"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»æ“¦é™¤åˆ°æ¢å¤ï¼šJSON åº“æ˜¯å¦‚ä½•â€œè¿˜åŸâ€ Java æ³›å‹ä¿¡æ¯çš„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2524134428655159/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é£è±¡å—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T00:04:27.000Z" title="Thu Nov 13 2025 00:04:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    24
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é—®é¢˜é‡ç°ï¼šæ³›å‹æ“¦é™¤çš„å›°æ‰°</h2>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°è¿™æ ·çš„åœºæ™¯ï¼šæ”¶åˆ°ä¸€ä¸²ç”¨æˆ·åˆ—è¡¨çš„JSONæ•°æ®ï¼Œéœ€è¦ååºåˆ—åŒ–ä¸º<code>List&lt;UserDTO&gt;</code>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span><span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å¼ ä¸‰"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"email"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"zhangsan@example.com"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span><span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æå››"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"email"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"lisi@example.com"</span><span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">]</span>
</code></pre>
<p>å¦‚æœç›´æ¥è¿™æ ·å†™ä»£ç ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">ObjectMapper</span> <span class="hljs-variable">objectMapper</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectMapper</span>();
List&lt;UserDTO&gt; userList = objectMapper.readValue(jsonStr, List.class);

System.out.println(userList.get(<span class="hljs-number">0</span>).getName()); <span class="hljs-comment">// è¿è¡Œæ—¶æŠ¥é”™ï¼</span>
</code></pre>
<p>è¿è¡Œæ—¶ä¼šæŠ›å‡ºï¼š<code>java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast to UserDTO</code></p>
<p>æ ¹æœ¬åŸå› åœ¨äºJavaçš„æ³›å‹æ“¦é™¤æœºåˆ¶ã€‚</p>
<h3 data-id="heading-1">æ³›å‹æ“¦é™¤æœºåˆ¶è§£æ</h3>
<p>Javaçš„æ³›å‹æ˜¯ç¼–è¯‘æœŸç‰¹æ€§ï¼Œè¿è¡Œæ—¶æ³›å‹ä¿¡æ¯ä¼šè¢«æ“¦é™¤ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ç¼–è¯‘æœŸ</span>
List&lt;UserDTO&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();

<span class="hljs-comment">// è¿è¡Œæ—¶ï¼ˆJVMçœ‹åˆ°çš„æ ·å­ï¼‰</span>
<span class="hljs-type">List</span> <span class="hljs-variable">list</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>();  <span class="hljs-comment">// æ³›å‹ä¿¡æ¯æ¶ˆå¤±äº†</span>
</code></pre>
<p>ç”±äºè¿è¡Œæ—¶æ— æ³•è·å–<code>List&lt;UserDTO&gt;</code>çš„ç±»å‹ä¿¡æ¯ï¼ŒJSONåº“åªèƒ½å°†å…¶è§£æä¸º<code>List&lt;Map&gt;</code>ã€‚</p>
<h2 data-id="heading-2">ä¸»æµJSONåº“çš„è§£å†³æ–¹æ¡ˆ</h2>
<h4 data-id="heading-3">Jacksonï¼šTypeReferenceæ–¹æ¡ˆ</h4>
<p>Jacksoné€šè¿‡<code>TypeReference</code>ä¿ç•™æ³›å‹ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">ObjectMapper</span> <span class="hljs-variable">objectMapper</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectMapper</span>();
List&lt;UserDTO&gt; userList = objectMapper.readValue(jsonStr,
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeReference</span>&lt;List&lt;UserDTO&gt;&gt;() {});
</code></pre>
<p><strong>åŸç†åˆ†æ</strong>ï¼š
TypeReferenceåˆ©ç”¨åŒ¿åå†…éƒ¨ç±»çš„ç‰¹æ€§ï¼Œåœ¨è¿è¡Œæ—¶é€šè¿‡åå°„è·å–çˆ¶ç±»çš„æ³›å‹å‚æ•°ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TypeReference</span>&lt;T&gt; {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Type _type;

    <span class="hljs-keyword">protected</span> <span class="hljs-title function_">TypeReference</span><span class="hljs-params">()</span> {
        <span class="hljs-type">Type</span> <span class="hljs-variable">superClass</span> <span class="hljs-operator">=</span> getClass().getGenericSuperclass();
        _type = ((ParameterizedType) superClass).getActualTypeArguments()[<span class="hljs-number">0</span>];
    }
}
</code></pre>
<h4 data-id="heading-4">Gsonï¼šTypeTokenæ–¹æ¡ˆ</h4>
<p>Gsonæä¾›äº†ç±»ä¼¼çš„<code>TypeToken</code>æœºåˆ¶ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">Gson</span> <span class="hljs-variable">gson</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Gson</span>();
<span class="hljs-type">Type</span> <span class="hljs-variable">userListType</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeToken</span>&lt;List&lt;UserDTO&gt;&gt;(){}.getType();
List&lt;UserDTO&gt; userList = gson.fromJson(jsonStr, userListType);
</code></pre>
<h4 data-id="heading-5">Fastjson2ï¼šTypeReferenceæ–¹æ¡ˆ</h4>
<p>Fastjson2ä½œä¸ºé˜¿é‡Œå¼€æºçš„é«˜æ€§èƒ½JSONåº“ï¼ŒåŒæ ·æ”¯æŒæ³›å‹å¤„ç†ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Fastjson2çš„TypeReferenceä½¿ç”¨</span>
<span class="hljs-type">String</span> <span class="hljs-variable">jsonStr</span> <span class="hljs-operator">=</span> <span class="hljs-string">"[{\"id\":1,\"name\":\"å¼ ä¸‰\"},{\"id\":2,\"name\":\"æå››\"}]"</span>;
List&lt;UserDTO&gt; userList = JSON.parseObject(jsonStr,
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeReference</span>&lt;List&lt;UserDTO&gt;&gt;() {});
</code></pre>
<h2 data-id="heading-6">å¤æ‚åœºæ™¯å¤„ç†</h2>
<h4 data-id="heading-7">åµŒå¥—æ³›å‹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// JSON: {"code": 200, "data": [{"id": 1, "name": "å¼ ä¸‰"}]}</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ApiResponse</span>&lt;T&gt; {
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> code;
    <span class="hljs-keyword">private</span> T data;
}

<span class="hljs-comment">// Jackson</span>
ApiResponse&lt;List&lt;UserDTO&gt;&gt; response = objectMapper.readValue(
    jsonStr, <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeReference</span>&lt;ApiResponse&lt;List&lt;UserDTO&gt;&gt;&gt;() {});

<span class="hljs-comment">// Fastjson2</span>
ApiResponse&lt;List&lt;UserDTO&gt;&gt; response = JSON.parseObject(
    jsonStr, <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeReference</span>&lt;ApiResponse&lt;List&lt;UserDTO&gt;&gt;&gt;() {});
</code></pre>
<h4 data-id="heading-8">Mapç±»å‹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// JSON: {"1": {"name": "å¼ ä¸‰"}, "2": {"name": "æå››"}}</span>

<span class="hljs-comment">// Jackson</span>
Map&lt;String, UserDTO&gt; userMap = objectMapper.readValue(
    jsonStr, <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeReference</span>&lt;Map&lt;String, UserDTO&gt;&gt;() {});

<span class="hljs-comment">// Fastjson2</span>
Map&lt;String, UserDTO&gt; userMap = JSON.parseObject(
    jsonStr, <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeReference</span>&lt;Map&lt;String, UserDTO&gt;&gt;() {});
</code></pre>
<h4 data-id="heading-9">åœ¨Springæ¡†æ¶ä¸­çš„åº”ç”¨</h4>
<h5 data-id="heading-10">Feignå®¢æˆ·ç«¯</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@FeignClient(name = "user-service")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserClient</span> {
    <span class="hljs-meta">@GetMapping("/api/users")</span>
    ResponseEntity&lt;List&lt;UserDTO&gt;&gt; <span class="hljs-title function_">getUsers</span><span class="hljs-params">()</span>;
}
</code></pre>
<h5 data-id="heading-11">WebClient</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Spring WebFluxçš„WebClient</span>
List&lt;UserDTO&gt; users = webClient.get()
    .uri(<span class="hljs-string">"/api/users"</span>)
    .retrieve()
    .bodyToMono(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ParameterizedTypeReference</span>&lt;List&lt;UserDTO&gt;&gt;() {})
    .block();
</code></pre>
<h2 data-id="heading-12">å·¥ç¨‹å®è·µå»ºè®®</h2>
<h4 data-id="heading-13">1. é¢„å®šä¹‰å¸¸ç”¨ç±»å‹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TypeReferences</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> TypeReference&lt;List&lt;UserDTO&gt;&gt; USER_LIST =
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeReference</span>&lt;List&lt;UserDTO&gt;&gt;() {};

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> TypeReference&lt;Map&lt;String, UserDTO&gt;&gt; USER_MAP =
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeReference</span>&lt;Map&lt;String, UserDTO&gt;&gt;() {};

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> TypeReference&lt;ApiResponse&lt;List&lt;UserDTO&gt;&gt;&gt; API_USER_LIST =
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeReference</span>&lt;ApiResponse&lt;List&lt;UserDTO&gt;&gt;&gt;() {};
}
</code></pre>
<h4 data-id="heading-14">2. æ€§èƒ½ä¼˜åŒ–ç­–ç•¥</h4>
<p>åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œè€ƒè™‘ç¼“å­˜TypeReferenceå®ä¾‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TypeReferenceCache</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Map&lt;String, TypeReference&lt;?&gt;&gt; CACHE =
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();

    <span class="hljs-meta">@SuppressWarnings("unchecked")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; TypeReference&lt;T&gt; <span class="hljs-title function_">get</span><span class="hljs-params">(String key,
            Supplier&lt;TypeReference&lt;T&gt;&gt; supplier)</span> {
        <span class="hljs-keyword">return</span> (TypeReference&lt;T&gt;) CACHE.computeIfAbsent(key, k -&gt; supplier.get());
    }
}
</code></pre>
<h2 data-id="heading-15">å¸¸è§è¯¯åŒº</h2>
<h4 data-id="heading-16">è¯¯åŒº1ï¼šæ•°ç»„ç±»å‹è¯¯ç”¨</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šæ•°ç»„ç±»å‹ä¸éœ€è¦TypeReference</span>
UserDTO[] users = objectMapper.readValue(jsonStr, UserDTO[].class);

<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šæ•°ç»„ç±»å‹ç›´æ¥ä¼ classå³å¯</span>
</code></pre>
<h4 data-id="heading-17">è¯¯åŒº2ï¼šåº“æ··æ·†</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Jacksonçš„TypeReference</span>
<span class="hljs-keyword">import</span> com.fasterxml.jackson.core.type.TypeReference;

<span class="hljs-comment">// Springçš„ParameterizedTypeReference</span>
<span class="hljs-keyword">import</span> org.springframework.core.ParameterizedTypeReference;

<span class="hljs-comment">// Fastjson2çš„TypeReference</span>
<span class="hljs-keyword">import</span> com.alibaba.fastjson2.TypeReference;
</code></pre>
<h4 data-id="heading-18">è¯¯åŒº3ï¼šå¼‚å¸¸å¤„ç†ä¸å½“</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šä¸å¤„ç†å¼‚å¸¸</span>
<span class="hljs-keyword">try</span> {
    List&lt;UserDTO&gt; users = objectMapper.readValue(jsonStr,
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeReference</span>&lt;List&lt;UserDTO&gt;&gt;() {});
} <span class="hljs-keyword">catch</span> (IOException e) {
    <span class="hljs-comment">// åº”è¯¥è®°å½•æ—¥å¿—å¹¶é‡‡å–ç›¸åº”æªæ–½</span>
    log.error(<span class="hljs-string">"JSONååºåˆ—åŒ–å¤±è´¥"</span>, e);
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BusinessException</span>(<span class="hljs-string">"æ•°æ®æ ¼å¼é”™è¯¯"</span>);
}
</code></pre>
<h2 data-id="heading-19">æŠ€æœ¯é€‰å‹å»ºè®®</h2>





























<table><thead><tr><th>JSONåº“</th><th>æ€§èƒ½</th><th>ç‰¹æ€§</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>Jackson</td><td>ä¸­ç­‰</td><td>åŠŸèƒ½å…¨é¢ï¼Œç”Ÿæ€æˆç†Ÿ</td><td>Springå…¨å®¶æ¡¶ï¼Œä¼ä¸šçº§åº”ç”¨</td></tr><tr><td>Gson</td><td>è¾ƒä½</td><td>APIç®€æ´ï¼ŒAndroidå‹å¥½</td><td>ç§»åŠ¨ç«¯ï¼Œè½»é‡çº§åº”ç”¨</td></tr><tr><td>Fastjson2</td><td>é«˜</td><td>æ€§èƒ½ä¼˜å¼‚ï¼ŒåŠŸèƒ½ä¸°å¯Œ</td><td>é«˜å¹¶å‘ï¼Œæ€§èƒ½æ•æ„Ÿåœºæ™¯</td></tr></tbody></table>
<p><strong>é€‰æ‹©å»ºè®®</strong>ï¼š</p>
<ul>
<li>Springé¡¹ç›®ï¼šä¼˜å…ˆJacksonï¼Œç”Ÿæ€å…¼å®¹æ€§å¥½</li>
<li>æ€§èƒ½è¦æ±‚é«˜ï¼šé€‰æ‹©Fastjson2</li>
<li>Androidå¼€å‘ï¼šè€ƒè™‘Gson</li>
</ul>
<h2 data-id="heading-20">æ€»ç»“</h2>
<p>æ³›å‹æ“¦é™¤æ˜¯Javaè¯­è¨€çš„ç‰¹æ€§ï¼Œä½†é€šè¿‡å„JSONåº“æä¾›çš„TypeReference/TypeTokenæœºåˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥ä¼˜é›…åœ°è§£å†³è¿™ä¸ªé—®é¢˜ã€‚æŒæ¡ä¸åŒJSONåº“çš„æ³›å‹å¤„ç†æ–¹æ³•ï¼Œèƒ½å¤Ÿè®©æˆ‘ä»¬åœ¨å®é™…é¡¹ç›®ä¸­æ ¹æ®éœ€æ±‚åšå‡ºæœ€åˆé€‚çš„æŠ€æœ¯é€‰å‹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Swift å†…å­˜ç®¡ç†ï¼šåƒé€ ARC ã€weakã€unowned]]></title>    <link>https://juejin.cn/post/7571693273729007652</link>    <guid>https://juejin.cn/post/7571693273729007652</guid>    <pubDate>2025-11-13T01:28:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571693273729007652" data-draft-id="7554198745670303795" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Swift å†…å­˜ç®¡ç†ï¼šåƒé€ ARC ã€weakã€unowned"/> <meta itemprop="keywords" content="Swift,iOS"/> <meta itemprop="datePublished" content="2025-11-13T01:28:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="unravel2025"/> <meta itemprop="url" content="https://juejin.cn/user/1116759541421880"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Swift å†…å­˜ç®¡ç†ï¼šåƒé€ ARC ã€weakã€unowned
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1116759541421880/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    unravel2025
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T01:28:32.000Z" title="Thu Nov 13 2025 01:28:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ARC è®© 90% çš„ iOS å¼€å‘è€…â€œæ— ç—›â€ç®¡ç†å†…å­˜ï¼Œä½†å‰©ä¸‹çš„ 10% å´èƒ½æŠŠ App æ‹–è¿› OOM æ·±æ¸Šã€‚</p>
<h2 data-id="heading-1">ARC åŸç†ï¼šä¸€å¼ å›¾å…ˆè®°ä½</h2>
<pre><code class="hljs language-swift" lang="swift">å®ä¾‹åˆ›å»º <span class="hljs-operator">âœ</span> å¼ºå¼•ç”¨ <span class="hljs-operator">+</span><span class="hljs-number">1</span>
æœ‰å¼ºå¼•ç”¨æŒ‡é’ˆæŒ‡å‘ <span class="hljs-operator">âœ</span> å¼ºå¼•ç”¨ <span class="hljs-operator">+</span><span class="hljs-number">1</span>
å¼•ç”¨ç¦»å¼€ä½œç”¨åŸŸæˆ–è¢«ç½® <span class="hljs-literal">nil</span> <span class="hljs-operator">âœ</span> å¼ºå¼•ç”¨ <span class="hljs-operator">-</span><span class="hljs-number">1</span>
è®¡æ•° <span class="hljs-operator">=</span> <span class="hljs-number">0</span> <span class="hljs-operator">âœ</span> æ‰§è¡Œ <span class="hljs-keyword">deinit</span> <span class="hljs-operator">âœ</span> å†…å­˜å½’è¿˜
</code></pre>
<p>ç»“æ„ä½“ / æšä¸¾æ˜¯å€¼ç±»å‹ï¼Œä¸èµ° ARCï¼›åªæœ‰ç±»ï¼ˆclassï¼‰æ‰å‚ä¸è®¡æ•°ã€‚</p>
<h2 data-id="heading-2">å¼•ç”¨è®¡æ•°ç¤ºä¾‹ä»£ç </h2>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {
    <span class="hljs-keyword">let</span> name: <span class="hljs-type">String</span>
    <span class="hljs-keyword">init</span>(<span class="hljs-params">name</span>: <span class="hljs-type">String</span>) {
        <span class="hljs-keyword">self</span>.name <span class="hljs-operator">=</span> name
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"<span class="hljs-subst">\(name)</span> æ­£åœ¨åˆå§‹åŒ–ï¼Œåˆ†é…å†…å­˜"</span>)
    }
    <span class="hljs-keyword">deinit</span> {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"<span class="hljs-subst">\(name)</span> è¢«ææ„ï¼Œå†…å­˜å³å°†é‡Šæ”¾"</span>)
    }
}

<span class="hljs-comment">// ä¸‰ä¸ªå¯é€‰ç±»å‹å˜é‡ï¼Œé»˜è®¤ nil</span>
<span class="hljs-keyword">var</span> ref1: <span class="hljs-type">Person</span>?
<span class="hljs-keyword">var</span> ref2: <span class="hljs-type">Person</span>?
<span class="hljs-keyword">var</span> ref3: <span class="hljs-type">Person</span>?

<span class="hljs-comment">// 1. åˆ›å»ºå¯¹è±¡ â†’ å¼ºå¼•ç”¨è®¡æ•° = 1</span>
ref1 <span class="hljs-operator">=</span> <span class="hljs-type">Person</span>(name: <span class="hljs-string">"John Appleseed"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-type">CFGetRetainCount</span>(ref1))

<span class="hljs-comment">// 2. å†æŒ‚ä¸¤æ¡å¼ºå¼•ç”¨ â†’ è®¡æ•° = 3</span>
ref2 <span class="hljs-operator">=</span> ref1
<span class="hljs-built_in">print</span>(<span class="hljs-type">CFGetRetainCount</span>(ref2))
ref3 <span class="hljs-operator">=</span> ref1
<span class="hljs-built_in">print</span>(<span class="hljs-type">CFGetRetainCount</span>(ref3))

<span class="hljs-comment">// 3. æ–­å¼€ä¸¤æ¡ â†’ è®¡æ•° = 1ï¼Œå¯¹è±¡ä»åœ¨</span>
ref1 <span class="hljs-operator">=</span> <span class="hljs-literal">nil</span>
<span class="hljs-built_in">print</span>(<span class="hljs-type">CFGetRetainCount</span>(ref2))
ref2 <span class="hljs-operator">=</span> <span class="hljs-literal">nil</span>
<span class="hljs-built_in">print</span>(<span class="hljs-type">CFGetRetainCount</span>(ref3))

<span class="hljs-comment">// 4. æœ€åä¸€æ¡æ–­å¼€ â†’ è®¡æ•° = 0ï¼Œdeinit æ‰§è¡Œ</span>
ref3 <span class="hljs-operator">=</span> <span class="hljs-literal">nil</span>          <span class="hljs-comment">// æ§åˆ¶å°æ‰“å°ï¼šJohn Appleseed è¢«ææ„</span>
<span class="hljs-built_in">print</span>(<span class="hljs-type">CFGetRetainCount</span>(ref3))
<span class="hljs-comment">/*
John Appleseed æ­£åœ¨åˆå§‹åŒ–ï¼Œåˆ†é…å†…å­˜
2
3
4
3
2
John Appleseed è¢«ææ„ï¼Œå†…å­˜å³å°†é‡Šæ”¾
*/</span>
</code></pre>
<h2 data-id="heading-3">å¼ºå¼•ç”¨å¾ªç¯ï¼ˆRetain Cycleï¼‰</h2>
<p>å¾ªç¯å‡ºç°çš„æ¡ä»¶ï¼š</p>
<p>ä¸¤ä¸ªç±»å®ä¾‹äº’ç›¸å¼ºå¼•ç”¨ï¼Œå¤–éƒ¨æŒ‡é’ˆæ–­å¼€åï¼Œå†…éƒ¨ä»â€œæ‰‹æ‹‰æ‰‹â€ï¼Œè®¡æ•°æ°¸ä¸ä¸º 0 â†’ å†…å­˜æ³„æ¼ã€‚</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {
    <span class="hljs-keyword">let</span> name: <span class="hljs-type">String</span>
    <span class="hljs-keyword">init</span>(<span class="hljs-params">name</span>: <span class="hljs-type">String</span>) { <span class="hljs-keyword">self</span>.name <span class="hljs-operator">=</span> name; <span class="hljs-built_in">print</span>(<span class="hljs-string">"<span class="hljs-subst">\(name)</span> åˆå§‹åŒ–"</span>) }
    <span class="hljs-keyword">deinit</span> { <span class="hljs-built_in">print</span>(<span class="hljs-string">"<span class="hljs-subst">\(name)</span> ææ„"</span>) }
    
    <span class="hljs-keyword">var</span> apartment: <span class="hljs-type">Apartment</span>?   <span class="hljs-comment">// äººå¯èƒ½æ²¡æˆ¿</span>
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Apartment</span> {
    <span class="hljs-keyword">let</span> unit: <span class="hljs-type">String</span>
    <span class="hljs-keyword">init</span>(<span class="hljs-params">unit</span>: <span class="hljs-type">String</span>) { <span class="hljs-keyword">self</span>.unit <span class="hljs-operator">=</span> unit; <span class="hljs-built_in">print</span>(<span class="hljs-string">"å…¬å¯“ <span class="hljs-subst">\(unit)</span> åˆå§‹åŒ–"</span>) }
    <span class="hljs-keyword">deinit</span> { <span class="hljs-built_in">print</span>(<span class="hljs-string">"å…¬å¯“ <span class="hljs-subst">\(unit)</span> ææ„"</span>) }
    
    <span class="hljs-keyword">var</span> tenant: <span class="hljs-type">Person</span>?         <span class="hljs-comment">// æˆ¿å¯èƒ½æ²¡äºº</span>
}

<span class="hljs-keyword">var</span> john: <span class="hljs-type">Person</span>? <span class="hljs-operator">=</span> <span class="hljs-type">Person</span>(name: <span class="hljs-string">"å¼ ä¸‰"</span>)
<span class="hljs-keyword">var</span> unit4A: <span class="hljs-type">Apartment</span>? <span class="hljs-operator">=</span> <span class="hljs-type">Apartment</span>(unit: <span class="hljs-string">"4A"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"åˆå§‹åŒ–åçš„å¼•ç”¨è®¡æ•° john:<span class="hljs-subst">\(CFGetRetainCount(john))</span> unit4A:<span class="hljs-subst">\(CFGetRetainCount(unit4A))</span>"</span>)
<span class="hljs-comment">// äº’ç›¸æŒ‚å¼ºå¼•ç”¨ â†’ å½¢æˆå¾ªç¯</span>
john<span class="hljs-operator">!</span>.apartment <span class="hljs-operator">=</span> unit4A
unit4A<span class="hljs-operator">!</span>.tenant   <span class="hljs-operator">=</span> john
<span class="hljs-built_in">print</span>(<span class="hljs-string">"å¾ªç¯å¼•ç”¨åçš„å¼•ç”¨è®¡æ•° john:<span class="hljs-subst">\(CFGetRetainCount(john))</span> unit4A:<span class="hljs-subst">\(CFGetRetainCount(unit4A))</span>"</span>)

<span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> weakUnit4A <span class="hljs-operator">=</span> unit4A
<span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> weakJohn <span class="hljs-operator">=</span> john
<span class="hljs-comment">// å¤–éƒ¨æŒ‡é’ˆæ–­å¼€ï¼Œä½†å†…éƒ¨ä»äº’ç›¸å¼ºå¼•ç”¨ â†’ æ³„æ¼</span>
john   <span class="hljs-operator">=</span> <span class="hljs-literal">nil</span>   <span class="hljs-comment">// æ— ææ„æ—¥å¿—</span>
unit4A <span class="hljs-operator">=</span> <span class="hljs-literal">nil</span>   <span class="hljs-comment">// æ— ææ„æ—¥å¿—</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"æŒ‡é’ˆæ–­å¼€åçš„å¼•ç”¨è®¡æ•° john:<span class="hljs-subst">\(CFGetRetainCount(weakJohn))</span> unit4A:<span class="hljs-subst">\(CFGetRetainCount(weakUnit4A))</span>"</span>)
<span class="hljs-comment">/**
å¼ ä¸‰ åˆå§‹åŒ–
å…¬å¯“ 4A åˆå§‹åŒ–
åˆå§‹åŒ–åçš„å¼•ç”¨è®¡æ•° john:2 unit4A:2
å¾ªç¯å¼•ç”¨åçš„å¼•ç”¨è®¡æ•° john:3 unit4A:3
æŒ‡é’ˆæ–­å¼€åçš„å¼•ç”¨è®¡æ•° john:2 unit4A:2
*/</span>
</code></pre>
<h2 data-id="heading-4">ç ´è§£å¾ªç¯çš„ä¸¤æŠŠé’¥åŒ™</h2>


























<table><thead><tr><th>å¼•ç”¨ç±»å‹</th><th>æ˜¯å¦å¼ºæŒæœ‰</th><th>å¯å¦ä¸º nil</th><th>é€‚ç”¨åœºæ™¯</th><th>å…³é”®å­—</th></tr></thead><tbody><tr><td>weak</td><td>å¦</td><td>å¯ä»¥ï¼ˆè‡ªåŠ¨ç½® nilï¼‰</td><td>å¯¹æ–¹å¯¿å‘½ â‰¤ è‡ªå·±</td><td><code>weak</code></td></tr><tr><td>unowned</td><td>å¦</td><td>ä¸å¯ä¸º nilï¼ˆä¸ä¼šè‡ªåŠ¨ç½® nilï¼Œéœ€ç¨‹åºå‘˜ä¿è¯ï¼‰</td><td>å¯¹æ–¹å¯¿å‘½ â‰¥ è‡ªå·±</td><td><code>unowned</code></td></tr></tbody></table>
<ol>
<li>weak ç‰ˆ Apartment</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Apartment</span> {
    <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> tenant: <span class="hljs-type">Person</span>?   <span class="hljs-comment">// æˆ¿ä¸å¼ºæŒæœ‰ä½å®¢</span>
}
</code></pre>
<p>æ‰§è¡Œç»“æœï¼š</p>
<p>å¤–éƒ¨ <code>john = nil</code> â†’ Person ææ„ â†’ Apartment.tenant è‡ªåŠ¨å˜ nil â†’ å† <code>unit4A = nil</code> â†’ Apartment ææ„ã€‚</p>
<p>æ—¥å¿—æ­£ç¡®æ‰“å°ä¸¤è¡Œææ„ã€‚</p>
<ol start="2">
<li>unowned ç‰ˆ Customer &amp; CreditCard</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Customer</span> {
    <span class="hljs-keyword">var</span> card: <span class="hljs-type">CreditCard</span>?
    <span class="hljs-keyword">deinit</span> { <span class="hljs-built_in">print</span>(<span class="hljs-string">"Customer ææ„"</span>) }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">CreditCard</span> {
    <span class="hljs-keyword">unowned</span> <span class="hljs-keyword">let</span> customer: <span class="hljs-type">Customer</span>   <span class="hljs-comment">// å¡ä¸€å®šå±äºæŸå®¢æˆ·ï¼Œå®¢æˆ·å…ˆæ­»å¡å¿…æ­»</span>
    <span class="hljs-keyword">init</span>(<span class="hljs-params">customer</span>: <span class="hljs-type">Customer</span>) { <span class="hljs-keyword">self</span>.customer <span class="hljs-operator">=</span> customer }
    <span class="hljs-keyword">deinit</span> { <span class="hljs-built_in">print</span>(<span class="hljs-string">"Card ææ„"</span>) }
}

<span class="hljs-keyword">var</span> john: <span class="hljs-type">Customer</span>? <span class="hljs-operator">=</span> <span class="hljs-type">Customer</span>()
john<span class="hljs-operator">!</span>.card <span class="hljs-operator">=</span> <span class="hljs-type">CreditCard</span>(customer: john<span class="hljs-operator">!</span>)

john <span class="hljs-operator">=</span> <span class="hljs-literal">nil</span>   <span class="hljs-comment">// Customer å…ˆææ„ â†’ Card è·Ÿç€ææ„ï¼Œæ— å¾ªç¯</span>
</code></pre>
<h2 data-id="heading-5">é—­åŒ…ä¹Ÿèƒ½åˆ¶é€ å¾ªç¯</h2>
<ol>
<li>
<p>å¾ªç¯åŸå› </p>
<p>ç±» âœ å¼ºå¼•ç”¨é—­åŒ…å±æ€§ï¼›é—­åŒ…ä½“å†…åˆæ•è· self â†’ äº’ç›¸å¼ºå¼•ç”¨ã€‚</p>
</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">HTMLElement</span> {
    <span class="hljs-keyword">let</span> name: <span class="hljs-type">String</span>
    <span class="hljs-keyword">var</span> text: <span class="hljs-type">String</span>?
    
    <span class="hljs-comment">// 1. æ‡’åŠ è½½é—­åŒ…å±æ€§ï¼Œé»˜è®¤å®ç°æ¸²æŸ“ HTML</span>
    <span class="hljs-keyword">lazy</span> <span class="hljs-keyword">var</span> asHTML: () -&gt; <span class="hljs-type">String</span> <span class="hljs-operator">=</span> {
        <span class="hljs-comment">// 2. è¿™é‡Œé»˜è®¤æ•è· self æ˜¯å¼ºå¼•ç”¨ï¼</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> text <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span>.text {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"&lt;<span class="hljs-subst">\(<span class="hljs-keyword">self</span>.name)</span>&gt;<span class="hljs-subst">\(text)</span>&lt;/<span class="hljs-subst">\(<span class="hljs-keyword">self</span>.name)</span>&gt;"</span>
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"&lt;<span class="hljs-subst">\(<span class="hljs-keyword">self</span>.name)</span> /&gt;"</span>
        }
    }
    
    <span class="hljs-keyword">init</span>(<span class="hljs-params">name</span>: <span class="hljs-type">String</span>, <span class="hljs-params">text</span>: <span class="hljs-type">String</span>? <span class="hljs-operator">=</span> <span class="hljs-literal">nil</span>) {
        <span class="hljs-keyword">self</span>.name <span class="hljs-operator">=</span> name; <span class="hljs-keyword">self</span>.text <span class="hljs-operator">=</span> text
    }
    <span class="hljs-keyword">deinit</span> { <span class="hljs-built_in">print</span>(<span class="hljs-string">"<span class="hljs-subst">\(name)</span> å…ƒç´ ææ„"</span>) }
}

<span class="hljs-keyword">var</span> p: <span class="hljs-type">HTMLElement</span>? <span class="hljs-operator">=</span> <span class="hljs-type">HTMLElement</span>(name: <span class="hljs-string">"p"</span>, text: <span class="hljs-string">"hello"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-type">CFGetRetainCount</span>(p))
<span class="hljs-built_in">print</span>(p<span class="hljs-operator">!</span>.asHTML())   <span class="hljs-comment">// &lt;p&gt;hello&lt;/p&gt;</span>
<span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> weakP <span class="hljs-operator">=</span> p
p <span class="hljs-operator">=</span> <span class="hljs-literal">nil</span>              <span class="hljs-comment">// æ— ææ„æ—¥å¿— â†’ å¾ªç¯æ³„æ¼</span>
<span class="hljs-built_in">print</span>(<span class="hljs-type">CFGetRetainCount</span>(weakP))
<span class="hljs-comment">/**
 2
 &lt;p&gt;hello&lt;/p&gt;
 2
 */</span>
</code></pre>
<ol start="2">
<li>æ•è·åˆ—è¡¨ï¼ˆCapture Listï¼‰ç ´è§£</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">lazy</span> <span class="hljs-keyword">var</span> asHTML: () -&gt; <span class="hljs-type">String</span> <span class="hljs-operator">=</span> { [<span class="hljs-keyword">unowned</span> <span class="hljs-keyword">self</span>] <span class="hljs-keyword">in</span>
    <span class="hljs-comment">// ç°åœ¨ self æ˜¯ unowned å¼•ç”¨ï¼Œä¸ä¼šå¼ºæŒæœ‰</span>
    <span class="hljs-operator">...</span>
}
</code></pre>
<p>å†æŠŠ <code>p = nil</code> â†’ ç«‹å³æ‰“å°â€œp å…ƒç´ ææ„â€ã€‚</p>
<h2 data-id="heading-6">ä¸€å¼ è¡¨æ€»ç»“æ‰€æœ‰åœºæ™¯</h2>






























<table><thead><tr><th>åœºæ™¯</th><th>å¾ªç¯åŒæ–¹</th><th>æ¨èæ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>åŒå‘å¯é€‰</td><td>A? â†” B?</td><td>ä¸€ç«¯ weak</td></tr><tr><td>ä¸€ç«¯éå¯é€‰</td><td>A â†” B?</td><td>éå¯é€‰ç«¯ç”¨ unowned</td></tr><tr><td>ä¸¤ç«¯éå¯é€‰</td><td>A â†” B</td><td>ä¸€ç«¯ unowned + ä¸€ç«¯éšå¼è§£åŒ…å¯é€‰ï¼ˆå¦‚ Country-Cityï¼‰</td></tr><tr><td>closure æ•è· self</td><td>self â†” closure</td><td>æ•è·åˆ—è¡¨ [weak self] æˆ– [unowned self]</td></tr></tbody></table>
<h2 data-id="heading-7">çœŸå®ä¸šåŠ¡æ‰©å±•</h2>
<ol>
<li>
<p>MVVM ç»‘å®š</p>
<p>ViewModel æŒæœ‰ç½‘ç»œå›è°ƒé—­åŒ…ï¼Œé—­åŒ…å†…åˆ·æ–° UI å¸¸ç”¨ <code>[weak self]</code> é¿å… VC è¢«é’‰æ­»ã€‚</p>
</li>
<li>
<p>å§”æ‰˜ï¼ˆDelegateï¼‰æ¨¡å¼</p>
<p>å®˜æ–¹ UITableViewDelegate/UITableViewDataSource éƒ½æ˜¯ <code>weak</code> å£°æ˜ï¼Œé˜²æ­¢ VC å¼ºå¼•ç”¨ selfã€‚</p>
</li>
<li>
<p>RxSwift / Combine</p>
<p>è®¢é˜…ä»£ç å—å‡ ä¹éƒ½è¦ <code>weak</code>/<code>unowned</code>ï¼Œå¦åˆ™ä¿¡å·æµæ— é™æœŸæŒæœ‰ VCã€‚</p>
</li>
<li>
<p>å•ä¾‹æŒæœ‰å—</p>
<p>å•ä¾‹å¯¿å‘½ = App å¯¿å‘½ï¼Œè‹¥å¼ºå¼•ç”¨ VC å—ï¼Œç­‰äºå†…å­˜æ³„æ¼ï¼›åŠ¡å¿… <code>[weak object]</code>ã€‚</p>
</li>
</ol>
<h2 data-id="heading-8">è¸©å‘æ¸…å• &amp; å°ç»“</h2>
<ul>
<li>åªè¦å‡ºç°â€œäº’ç›¸å¼•ç”¨â€ï¼Œå…ˆç”»ç®­å¤´å›¾ï¼Œç¡®è®¤è°è¯¥æ—©æ­»ï¼Œå†å†³å®š weak/unownedã€‚</li>
<li>weak ä¸€å®š optionalï¼Œunowned å¯ optional ä¹Ÿå¯é optionalï¼Œä½†åƒä¸‡åˆ«åœ¨ unowned å¯¹è±¡æ­»åè®¿é—®ï¼Œä¼šç›´æ¥å´©æºƒï¼ˆé‡æŒ‡é’ˆï¼‰ã€‚</li>
<li>é—­åŒ…é‡Œçš„ self 90% ç”¨ <code>[weak self]</code> æœ€ä¿é™©ï¼›ç¡®å®šåŒç”Ÿå…±æ­»æ‰ç”¨ <code>[unowned self]</code>ã€‚</li>
</ul>
<h2 data-id="heading-9">weak å¼•ç”¨ä»€ä¹ˆæ—¶å€™å˜æˆ nilï¼Ÿ</h2>
<p>å®˜æ–¹æ–‡æ¡£æ²¡è¯´çš„ä¸‰å¥è¯</p>
<ol>
<li>weak å˜é‡æœ¬èº«ä¸ä¼šå‡ RCï¼Œå®ƒåªæ˜¯â€œå›´è§‚ç¾¤ä¼—â€ã€‚</li>
<li>å¯¹è±¡é”€æ¯æ—¶ï¼Œruntime ä¼šæ‰¹é‡æŠŠæŒ‡å‘å®ƒçš„æ‰€æœ‰ weak æŒ‡é’ˆç½® nilï¼ˆatomic å†™ï¼‰ã€‚</li>
<li>è¯¥æ“ä½œå‘ç”Ÿåœ¨ deinit åˆšè¢«è°ƒç”¨ä¹‹åã€å†…å­˜å°šæœªå½’è¿˜ä¹‹é™…ï¼Œå› æ­¤ deinit é‡Œä»èƒ½æ‹¿åˆ° selfï¼Œä½† weak å·²ç©ºã€‚</li>
</ol>
<h3 data-id="heading-10">ä¸€å¼ æ—¶é—´è½´å…ˆè®°ä½</h3>
<pre><code class="hljs language-scss" lang="scss">å¤–éƒ¨æœ€åä¸€ä¸ª <span class="hljs-selector-tag">strong</span> ç½® nil
    â†“
<span class="hljs-built_in">swift_release</span>() å‘ç° RC == <span class="hljs-number">0</span>
    â†“
è°ƒç”¨ <span class="hljs-built_in">_swift_release_dealloc</span>()
    â†“
<span class="hljs-built_in">swift_deallocPartialClassInstance</span>()
    â”œâ”€ <span class="hljs-number">1</span>. è°ƒç”¨ deinit (self ä»å®Œæ•´)
    â”œâ”€ <span class="hljs-number">2</span>. åœ¨ weak è¡¨æŸ¥æ‰¾æ‰€æœ‰å¼±å¼•ç”¨ â†’ åŸå­ç½® nil
    â””â”€ <span class="hljs-number">3</span>. é”€æ¯å®ä¾‹å†…å­˜ã€å½’è¿˜å †
</code></pre>
<h3 data-id="heading-11">æºç çº§å¯¼è¯»ï¼ˆSwift 5.9 ä¸»å¹²ï¼‰</h3>
<ol>
<li>å…¥å£ï¼šstdlib/public/runtime/HeapObject.cpp</li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-built_in">void</span> <span class="hljs-attr">swift</span>::<span class="hljs-title function_">_swift_release_</span>(<span class="hljs-params">HeapObject *<span class="hljs-built_in">object</span></span>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isValidPointerForNativeRelease</span>(<span class="hljs-built_in">object</span>))
    <span class="hljs-built_in">object</span>-&gt;refCounts.<span class="hljs-title function_">decrementAndMaybeDeinit</span>(<span class="hljs-variable constant_">RC_ONE</span>);
}
</code></pre>
<ol start="2">
<li>å¼•ç”¨è®¡æ•°å‡åˆ° 0 â†’ ç«‹å³ dealloc</li>
</ol>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">void</span> <span class="hljs-title class_">RefCounts</span>::<span class="hljs-title function_ invoke__">decrementAndMaybeDeinit</span>(swift::<span class="hljs-variable constant_">HeapObject</span> *<span class="hljs-keyword">object</span>) {
  <span class="hljs-keyword">if</span> (oldRC == RC_ONE) {
    <span class="hljs-title function_ invoke__">swift_deallocPartialClassInstance</span>(<span class="hljs-keyword">object</span>, dtor, metatype);
  }
}
</code></pre>
<ol start="3">
<li>dealloc æ ¸å¿ƒï¼š</li>
</ol>
<pre><code class="hljs language-scss" lang="scss">static void <span class="hljs-built_in">swift_deallocPartialClassInstance</span>(HeapObject *object, ...) {
  <span class="hljs-comment">// 1. è°ƒç”¨ C++ destructor = ä½ çš„ deinit</span>
  <span class="hljs-selector-tag">object</span>-&gt;~<span class="hljs-built_in">HeapObject</span>();

  <span class="hljs-comment">// 2. å¤„ç† weak è¡¨</span>
  <span class="hljs-built_in">weakClearOldTable</span>(object);

  <span class="hljs-comment">// 3. é‡Šæ”¾å†…å­˜</span>
  <span class="hljs-built_in">free</span>(object);
}
</code></pre>
<ol start="4">
<li>weakClearOldTable å®ç°ï¼ˆswift/Runtime/WeakRef.cppï¼‰</li>
</ol>
<pre><code class="hljs language-scss" lang="scss">void <span class="hljs-built_in">weakClearOldTable</span>(HeapObject *object) {
  auto &amp;<span class="hljs-selector-tag">table</span> = <span class="hljs-built_in">SideTables</span>()<span class="hljs-selector-attr">[object]</span>;
  mutex_lock <span class="hljs-built_in">lock</span>(table.mutex);
  for (auto *entry : table.weak_entries) {
    *entry-&gt;weakAddress = nil;   <span class="hljs-comment">// åŸå­å†™</span>
  }
  <span class="hljs-selector-tag">table</span><span class="hljs-selector-class">.weak_entries</span><span class="hljs-selector-class">.clear</span>();
}
</code></pre>
<p>ç»“è®ºï¼šæ‰€æœ‰ weak æŒ‡é’ˆåœ¨åŒä¸€ä¸´ç•ŒåŒºè¢«æ‰¹é‡ç½® nilï¼Œä¸ä¿è¯â€œç«‹åˆ»â€ä½†ä¿è¯â€œæ—©äº dealloc å®Œæˆâ€ã€‚</p>
<h2 data-id="heading-12">åŠ¨æ‰‹éªŒè¯ â€”â€” ç”¨ä»£ç çœ‹ timeline</h2>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Foo</span> {
    <span class="hljs-keyword">deinit</span> {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"deinit begin â€”â€” æ­¤æ—¶ weak å·² nil"</span>)
        <span class="hljs-comment">// æ–­ç‚¹ 1ï¼šè§‚å¯Ÿå¤–éƒ¨ weak å˜é‡</span>
        <span class="hljs-type">Thread</span>.sleep(forTimeInterval: <span class="hljs-number">0.1</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"deinit end   â€”â€” å†…å­˜å°šæœªå½’è¿˜"</span>)
    }
}

<span class="hljs-keyword">var</span> strong: <span class="hljs-type">Foo</span>? <span class="hljs-operator">=</span> <span class="hljs-type">Foo</span>()
<span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> weakRef <span class="hljs-operator">=</span> strong

<span class="hljs-type">DispatchQueue</span>.global().async {
    strong <span class="hljs-operator">=</span> <span class="hljs-literal">nil</span>          <span class="hljs-comment">// åå°çº¿ç¨‹é‡Šæ”¾</span>
}
<span class="hljs-keyword">while</span> weakRef <span class="hljs-operator">!=</span> <span class="hljs-literal">nil</span> {
    <span class="hljs-comment">// ç©ºè½¬ç­‰å¾… weak è¢«ç½®ç©º</span>
}
<span class="hljs-built_in">print</span>(<span class="hljs-string">"weak å·²ç©ºï¼Œdeinit è‚¯å®šè·‘è¿‡äº†"</span>)
</code></pre>
<p>æ§åˆ¶å°å¿…æ‰“é¡ºåºï¼š</p>
<pre><code class="hljs language-erlang" lang="erlang">deinit <span class="hljs-keyword">begin</span> ...
deinit <span class="hljs-keyword">end</span>   ...
weak å·²ç©º ...
</code></pre>
<h2 data-id="heading-13">å·¥ç¨‹çº§æ³¨æ„ç‚¹</h2>
<ol>
<li>
<p>deinit é‡Œä¸è¦æŒ‡æœ› weak å±æ€§</p>
<p>å®ƒä»¬å·²è¢«æ¸… nilï¼Œä½† self çš„å­˜å‚¨å±æ€§ä»å¯è®¿é—®ã€‚</p>
</li>
<li>
<p>å¤šçº¿ç¨‹å®‰å…¨</p>
<p>weak ç½® nil è¿‡ç¨‹ç”¨ mutex ä¿æŠ¤ï¼Œè¯» weak å˜é‡æ˜¯åŸå­ï¼›ä½†è§£åŒ…å†ä½¿ç”¨ä¸æ˜¯åŸå­ï¼Œéœ€è‡ªå·±åŠ é”æˆ–ä¿è¯å•çº¿ç¨‹ã€‚</p>
</li>
<li>
<p>æ€§èƒ½è¯¯åŒº</p>
<p>æœ‰äººæ‹…å¿ƒâ€œweak å¤ªå¤šå½±å“é‡Šæ”¾é€Ÿåº¦â€ã€‚å®æµ‹ 10 M ä¸ª weak æŒ‡é’ˆæ‰¹é‡ç½® nil è€—æ—¶ &lt; 1 msï¼Œé™¤éæç«¯åœºæ™¯ï¼Œå¦åˆ™å¯å¿½ç•¥ã€‚</p>
</li>
</ol>
<h2 data-id="heading-14">ä¸ Objective-C çš„å·®å¼‚</h2>

























<table><thead><tr><th/><th>Swift</th><th>Objective-C</th></tr></thead><tbody><tr><td>ç½® nil æ—¶æœº</td><td>deinit ä¹‹åã€free ä¹‹å‰</td><td>ç›¸åŒï¼ˆobjc_clear_deallocatingï¼‰</td></tr><tr><td>æ•°æ®ç»“æ„</td><td>SideTable + ä½å›¾å“ˆå¸Œ</td><td>SideTableï¼ˆå…¼å®¹ Swiftï¼‰</td></tr><tr><td>ç©ºæ¶ˆæ¯</td><td>å‘ nil å‘æ¶ˆæ¯æ—  crash</td><td>åŒå·¦</td></tr></tbody></table>
<h2 data-id="heading-15">unowned çœŸçš„å¿«ä½†ä¼šç‚¸ï¼Ÿâ€”â€” Swift æ‚¬å‚å¼•ç”¨å´©æºƒå…¨è®°å½•ä¸é˜²ç‚¸æ–¹æ¡ˆ</h2>
<ol>
<li>weak æ˜¯â€œä¿é™©ä¸â€ï¼Œunowned æ˜¯â€œè£¸ç”µçº¿â€ï¼›æ€§èƒ½é«˜ 8%ï¼Œå´©æºƒåªéœ€ä¸€æ¬¡ã€‚</li>
<li>åªè¦å¯¹è±¡ç”Ÿå‘½å‘¨æœŸå­˜åœ¨â€œæå‰é‡Šæ”¾â€å¯èƒ½ï¼Œå°±åˆ«ç”¨ unownedã€‚</li>
<li>çº¿ä¸Š 100% å®‰å…¨æ–¹æ¡ˆï¼šè°ƒè¯•é˜¶æ®µç”¨ weak + assertï¼Œå‘å¸ƒé˜¶æ®µç”¨ unowned + é‡æŒ‡é’ˆé˜²æŠ¤é’©å­ã€‚</li>
</ol>
<h3 data-id="heading-16">å´©æºƒç°åœºè¿˜åŸ</h3>
<p>ä»¥ä¸‹ä»£ç  100% å¿…å´©ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Teacher</span> {
    <span class="hljs-keyword">unowned</span> <span class="hljs-keyword">var</span> student: <span class="hljs-type">Student</span>
    <span class="hljs-keyword">init</span>(<span class="hljs-params">student</span>: <span class="hljs-type">Student</span>) { <span class="hljs-keyword">self</span>.student <span class="hljs-operator">=</span> student }
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">printName</span>() { <span class="hljs-built_in">print</span>(student.name) }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> {
    <span class="hljs-keyword">let</span> name <span class="hljs-operator">=</span> <span class="hljs-string">"Tom"</span>
    <span class="hljs-keyword">deinit</span> { <span class="hljs-built_in">print</span>(<span class="hljs-string">"Student å·²æ­»"</span>) }
}

<span class="hljs-keyword">var</span> tom: <span class="hljs-type">Student</span>? <span class="hljs-operator">=</span> <span class="hljs-type">Student</span>()
<span class="hljs-keyword">let</span> teacher <span class="hljs-operator">=</span> <span class="hljs-type">Teacher</span>(student: tom<span class="hljs-operator">!</span>)
tom <span class="hljs-operator">=</span> <span class="hljs-literal">nil</span>          <span class="hljs-comment">// Student é‡Šæ”¾</span>
teacher.printName() <span class="hljs-comment">// âŒ é‡æŒ‡é’ˆ â†’ EXC_BAD_ACCESS</span>
</code></pre>
<p>æ§åˆ¶å°æ—  deinit æ—¥å¿—å°±å´©æºƒï¼Œå› ä¸ºè®¿é—®çš„æ˜¯å·²å›æ”¶å†…å­˜ã€‚</p>
<h3 data-id="heading-17">åº•å±‚å‘ç”Ÿäº†ä»€ä¹ˆ</h3>
<ol>
<li>Swift å¯¹ unowned é‡‡ç”¨ â€œéç©ºæ–­è¨€ + è£¸æŒ‡é’ˆâ€ ç­–ç•¥ï¼š
<ul>
<li>å¯¹è±¡å­˜åœ¨æ—¶ï¼šæŒ‡é’ˆç›´æ¥è§£åŒ…ï¼Œæ— è¿è¡Œæ—¶æ£€æŸ¥ã€‚</li>
<li>å¯¹è±¡é‡Šæ”¾æ—¶ï¼šruntime æŠŠåŸå†…å­˜æ ‡è®°ä¸º â€œdead-unownedâ€ï¼Œä½†ä¸ä¼šå¸®ä½ ç½® nilã€‚</li>
</ul>
</li>
<li>å†æ¬¡è®¿é—® â†’ è¯»åˆ° â€œdeadâ€ æ ‡è®°æˆ–æ— æ•ˆåœ°å€ â†’ ç«‹å³ trapï¼ˆ<code>swift_abortRetainUnowned</code>ï¼‰ã€‚</li>
<li>ä¸ Objective-C çš„ <code>__unsafe_unretained</code> å®Œå…¨ä¸€è‡´ï¼Œåªæ˜¯ Swift åœ¨ -O0 æ—¶è¿˜ä¼šæ’æ¡©æŠ¥é”™ï¼Œ-O åè¿æŠ¥é”™éƒ½çœäº†ï¼Œç›´æ¥å´©ã€‚</li>
</ol>
<h3 data-id="heading-18">ä»€ä¹ˆæ—¶å€™â€œæ•¢â€ç”¨ unowned</h3>
<p>å¿…é¡»åŒæ—¶æ»¡è¶³ï¼š</p>
<ul>
<li>æŒæœ‰æ–¹ä¸è¢«æŒæœ‰æ–¹åŒç”Ÿå…±æ­» â†’ ç”Ÿå‘½å‘¨æœŸå®Œå…¨é‡å ã€‚</li>
<li>æ²¡æœ‰æå‰é‡Šæ”¾çš„å¯èƒ½ï¼ŒåŒ…æ‹¬æ‰€æœ‰å¼‚å¸¸è·¯å¾„ã€early returnã€‚</li>
</ul>
<p>å…¸å‹åˆæ³•åœºæ™¯ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Country</span> {
    <span class="hljs-keyword">let</span> name: <span class="hljs-type">String</span>
    <span class="hljs-keyword">init</span>(<span class="hljs-params">name</span>: <span class="hljs-type">String</span>, <span class="hljs-params">capitalName</span>: <span class="hljs-type">String</span>) {
        <span class="hljs-keyword">self</span>.name <span class="hljs-operator">=</span> name
        <span class="hljs-comment">// Country åˆå§‹åŒ–å®Œï¼Œself å·²å¯ç”¨</span>
        <span class="hljs-keyword">self</span>.capitalCity <span class="hljs-operator">=</span> <span class="hljs-type">City</span>(name: capitalName, country: <span class="hljs-keyword">self</span>)
    }
    <span class="hljs-keyword">var</span> capitalCity: <span class="hljs-type">City</span>
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">City</span> {
    <span class="hljs-keyword">unowned</span> <span class="hljs-keyword">let</span> country: <span class="hljs-type">Country</span>   <span class="hljs-comment">// åŸå¸‚ä¸€å®šå±äºå›½å®¶</span>
    <span class="hljs-keyword">init</span>(<span class="hljs-params">name</span>: <span class="hljs-type">String</span>, <span class="hljs-params">country</span>: <span class="hljs-type">Country</span>) {
        <span class="hljs-keyword">self</span>.country <span class="hljs-operator">=</span> country
    }
}
</code></pre>
<p>Country å®ä¾‹åªæœ‰èµ° <code>deinit</code> æ‰ä¼šé”€æ¯ï¼Œè€Œ City åœ¨æ­¤ä¹‹å‰å·²é”€æ¯ï¼Œæ— æ‚¬å‚å¯èƒ½ã€‚</p>
<h3 data-id="heading-19">å‘å¸ƒé˜¶æ®µï¼šé‡æŒ‡é’ˆé˜²æŠ¤çš„ä¸‰å±‚æ»¤ç½‘</h3>





























<table><thead><tr><th>å±‚çº§</th><th>æ–¹æ¡ˆ</th><th>ä»£ä»·</th><th>è¦†ç›–ç‡</th></tr></thead><tbody><tr><td>ç¼–è¯‘æœŸ</td><td>æŠŠ 80% ä¸ç¡®å®šçš„ unowned æ”¹ weak</td><td>0 æˆæœ¬</td><td>60%</td></tr><tr><td>è¿è¡Œæ—¶</td><td>hook <code>swift_abortRetainUnowned</code></td><td>å´©æºƒå˜æ—¥å¿—ï¼Œæ— æŸæ€§èƒ½</td><td>95%</td></tr><tr><td>ä¸šåŠ¡å±‚</td><td>å…³é”®é“¾è·¯é€ä¼  @unowned å®‰å…¨åŒº</td><td>ä»£ç ä¾µå…¥</td><td>100%</td></tr></tbody></table>
<ol>
<li>hook å®ç°ï¼ˆSwift 5.9ï¼Œarm64ï¼‰</li>
</ol>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// ç§æœ‰ç¬¦å·ï¼Œéœ€ dlsym</span>
<span class="hljs-meta">#import <span class="hljs-string">"execinfo.h"</span></span>
<span class="hljs-meta">#import <span class="hljs-string">"malloc/_malloc.h"</span></span>
<span class="hljs-meta">#import <span class="hljs-string">"dlfcn.h"</span></span>
<span class="hljs-meta">#import <span class="hljs-string">"fishhook.h"</span></span>

<span class="hljs-comment">// ç§æœ‰ç¬¦å·ï¼Œéœ€ dlsym</span>
<span class="hljs-function"><span class="hljs-keyword">typedef</span> <span class="hljs-title">void</span> <span class="hljs-params">(*UnownedAbortHook)</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span></span>;
<span class="hljs-type">static</span> UnownedAbortHook orig = <span class="hljs-literal">NULL</span>;

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">myUnownedAbort</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span> </span>{
    <span class="hljs-comment">// 1. å †æ ˆå¿«ç…§</span>
    <span class="hljs-type">void</span>* callstack[<span class="hljs-number">128</span>];
    <span class="hljs-type">int</span> frames = <span class="hljs-built_in">backtrace</span>(callstack, <span class="hljs-number">128</span>);
    <span class="hljs-type">char</span>** strs = <span class="hljs-built_in">backtrace_symbols</span>(callstack, frames);
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"==== unowned æ‚¬å‚è®¿é—®"</span>);
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; frames; ++i) {
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%s"</span>, strs[i]);
    }
    <span class="hljs-built_in">free</span>(strs);
    <span class="hljs-comment">// 2. ä¸è®©è¿›ç¨‹æ­»ï¼Œç›´æ¥ return</span>
    <span class="hljs-comment">//    âš ï¸ ä»…é€‚ç”¨äº QA/ç°åº¦ï¼Œçº¿ä¸Šå¯åšç†”æ–­</span>
}

<span class="hljs-comment">// å¯åŠ¨æ—¶æ³¨å†Œ</span>
__attribute__((constructor))
<span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">installHook</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span> </span>{
    <span class="hljs-type">void</span> *handle = <span class="hljs-built_in">dlopen</span>(<span class="hljs-literal">NULL</span>, RTLD_GLOBAL);
    orig = (UnownedAbortHook)<span class="hljs-built_in">dlsym</span>(handle, <span class="hljs-string">"swift_abortRetainUnowned"</span>);
    <span class="hljs-keyword">if</span> (orig) {
        <span class="hljs-built_in">rebind_symbols</span>((<span class="hljs-keyword">struct</span> rebinding[<span class="hljs-number">1</span>]){{<span class="hljs-string">"swift_abortRetainUnowned"</span>, myUnownedAbort, (<span class="hljs-type">void</span>*)&amp;orig}}, <span class="hljs-number">1</span>);
    }
}
</code></pre>
<p>æ•ˆæœï¼šæ›¾ç»å¿…å´©çš„é‡æŒ‡é’ˆï¼Œç°åœ¨åªä¼šä¸Šä¼ æ—¥å¿—ï¼Œç”¨æˆ·æ— æ„ŸçŸ¥ã€‚</p>
<ol start="2">
<li>å®‰å…¨åŒºå®ï¼ˆå¯é€‰ï¼‰</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WeakBox</span>&lt;<span class="hljs-title class_">T</span>: <span class="hljs-title class_">AnyObject</span>&gt; {
    <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> value: <span class="hljs-type">T</span>?
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">init</span>(<span class="hljs-params">value</span>: <span class="hljs-type">T</span>?) {
        <span class="hljs-keyword">self</span>.value <span class="hljs-operator">=</span> value
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UnownedBox</span>&lt;<span class="hljs-title class_">T</span>: <span class="hljs-title class_">AnyObject</span>&gt; {
    <span class="hljs-keyword">unowned</span> <span class="hljs-keyword">var</span> value: <span class="hljs-type">T</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">init</span>(<span class="hljs-params">value</span>: <span class="hljs-type">T</span>) {
        <span class="hljs-keyword">self</span>.value <span class="hljs-operator">=</span> value
    }
}
<span class="hljs-keyword">#if</span> <span class="hljs-type">DEBUG</span>
    <span class="hljs-keyword">typealias</span> <span class="hljs-type">SafeUnowned</span>&lt;<span class="hljs-type">T</span>: <span class="hljs-type">AnyObject</span>&gt; <span class="hljs-operator">=</span> <span class="hljs-type">WeakBox</span>&lt;<span class="hljs-type">T</span>&gt;   <span class="hljs-comment">// å®é™…ç”¨ weak åŒ…è£…</span>
<span class="hljs-keyword">#else</span>
    <span class="hljs-keyword">typealias</span> <span class="hljs-type">SafeUnowned</span>&lt;<span class="hljs-type">T</span>: <span class="hljs-type">AnyObject</span>&gt; <span class="hljs-operator">=</span> <span class="hljs-type">UnownedBox</span>&lt;<span class="hljs-type">T</span>&gt; <span class="hljs-comment">// å‘å¸ƒç”¨ unowned</span>
<span class="hljs-keyword">#endif</span>
</code></pre>
<p>é€šè¿‡ç¼–è¯‘å®ä¸€é”®åˆ‡æ¢ï¼Œè°ƒè¯•æŠ“è™« + å‘å¸ƒæ€§èƒ½ä¸¤ä¸è¯¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨ MediaPipe åœ¨ Flutter web ä¸­è¯†åˆ«å§¿åŠ¿]]></title>    <link>https://juejin.cn/post/7571725550710226971</link>    <guid>https://juejin.cn/post/7571725550710226971</guid>    <pubDate>2025-11-13T01:03:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571725550710226971" data-draft-id="7570268773333631003" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨ MediaPipe åœ¨ Flutter web ä¸­è¯†åˆ«å§¿åŠ¿"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-13T01:03:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="JarvanMo"/> <meta itemprop="url" content="https://juejin.cn/user/2348212565845704"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨ MediaPipe åœ¨ Flutter web ä¸­è¯†åˆ«å§¿åŠ¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2348212565845704/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    JarvanMo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T01:03:16.000Z" title="Thu Nov 13 2025 01:03:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»21åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å’±ä»¬å°±æ¥åƒè¿™æ ·è¯†åˆ«è§†é¢‘é‡Œçš„å§¿åŠ¿å§ï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e608c4b9f82e40af90d791828187de6b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmFydmFuTW8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763600595&amp;x-signature=c5x0vWc2ZFbD1SLJwCr3jhKjjw8%3D" alt="image.png" loading="lazy"/></p>
<p>æœ‰ä¸€ä¸ªåä¸º <a href="https://link.juejin.cn?target=https%3A%2F%2Fai.google.dev%2Fedge%2Fmediapipe%2Fsolutions%2Fguide" target="_blank" title="https://ai.google.dev/edge/mediapipe/solutions/guide" ref="nofollow noopener noreferrer">MediaPipe</a>çš„åº“ï¼Œå®ƒå¯ä»¥åœ¨å›¾åƒã€æ–‡æœ¬å’Œå£°éŸ³ä¸Šå®Œæˆè®¸å¤šè¯†åˆ«å’Œæ£€æµ‹ä»»åŠ¡ã€‚å…¶ä¸­åŒ…æ‹¬ä¸€ä¸ªç”¨äºåœ¨å›¾åƒä¸Š<strong>è¯†åˆ«å§¿åŠ¿</strong>çš„æ¨¡å‹ã€‚</p>
<p>ä½ å¯ä»¥ç‚¹å‡»è¿™é‡Œï¼Œè¯•è¯•å®ƒçš„å®˜æ–¹æ¼”ç¤ºï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fmediapipe-studio.webapps.google.com%2Fdemo%2Fpose_landmarker" target="_blank" title="https://mediapipe-studio.webapps.google.com/demo/pose_landmarker" ref="nofollow noopener noreferrer">mediapipe-studio.webapps.google.com/demo/pose_lâ€¦</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70063d1acd9b44f393718b4dbde931f6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmFydmFuTW8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763600595&amp;x-signature=iN4pZWPO%2BqIZ5HSV%2ByvFEPyoNQ8%3D" alt="image.png" loading="lazy"/></p>
<p>å®ƒè¿˜æœ‰ä¸€ä¸ª <strong>CodePen ä»£ç ç‰‡æ®µ</strong>ï¼Œæ–¹ä¾¿ä½ ç”¨ JavaScript å¿«é€Ÿè¿›è¡Œå®è·µæ“ä½œï¼ˆæˆ–â€œä¸Šæ‰‹â€ï¼‰ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fcodepen.io%2Fmediapipe-preview%2Fpen%2FabRLMxN" target="_blank" title="https://codepen.io/mediapipe-preview/pen/abRLMxN" ref="nofollow noopener noreferrer">codepen.io/mediapipe-pâ€¦</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4012e8799f24102b27156963b66fd11~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmFydmFuTW8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763600595&amp;x-signature=rsSOlRtcqX48Pqe1MH4fA6bM6dg%3D" alt="image.png" loading="lazy"/></p>
<p>ç„¶è€Œï¼Œè¯¥æ¨¡å‹<strong>ç›®å‰ä»…æ”¯æŒåœ¨ Androidã€iOSã€Python å’Œ JavaScript ç¯å¢ƒä¸‹è¿è¡Œï¼Œå¹¶ä¸èƒ½ç›´æ¥åœ¨ Flutter ä¸­ä½¿ç”¨</strong>ã€‚</p>
<p>æœ‰äººæ›¾åˆ›å»ºäº†ä¸€ä¸ªåä¸º <a href="https://link.juejin.cn?target=https%3A%2F%2Fpub.dev%2Fpackages%2Fflutter_mediapipe" target="_blank" title="https://pub.dev/packages/flutter_mediapipe" ref="nofollow noopener noreferrer">flutter_mediapipe</a> çš„ packageï¼Œä½†å®ƒå·²åœ¨å››å¹´å‰è¢«å¼ƒç”¨ï¼Œå¹¶ä¸”<strong>ä¸æ”¯æŒ Web ç«¯</strong>ã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬æ¥å°†å®˜æ–¹çš„ JavaScript å®ç°<strong>å°è£…</strong>åˆ°æˆ‘ä»¬è‡ªå·±çš„ <strong>Flutter æ’ä»¶</strong>ä¸­ã€‚</p>
<p>ä½ å¯ä»¥åœ¨è¿™é‡ŒæŸ¥çœ‹ç¬¬ä¸€ä¸ªæˆªå›¾ä¸­çš„æœ€ç»ˆæ¼”ç¤ºåº”ç”¨ï¼ˆ<strong>ä»…æ”¯æŒ Chrome æµè§ˆå™¨</strong>ï¼‰ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Falexeyinkin.github.io%2Fflutter-mediapipe%2F" target="_blank" title="https://alexeyinkin.github.io/flutter-mediapipe/" ref="nofollow noopener noreferrer">alexeyinkin.github.io/flutter-medâ€¦</a></p>
<p>ä¸‹è½½æºä»£ç ä»¥ä¾¿è·Ÿç€æ“ä½œï¼ˆæˆ‘ä¼šè·³è¿‡ä¸€äº›å†…å®¹ï¼‰ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Falexeyinkin%2Fflutter-mediapipe" target="_blank" title="https://github.com/alexeyinkin/flutter-mediapipe" ref="nofollow noopener noreferrer">github.com/alexeyinkinâ€¦</a></p>
<h3 data-id="heading-0">ğŸ”Œ åˆ›å»ºæ’ä»¶ (Creating the plugin)</h3>
<p>æ’ä»¶ï¼ˆPluginï¼‰æ˜¯ä¸€ç§ç‰¹æ®Šçš„ Dart packageï¼Œå®ƒä¼šæ ¹æ®ä½ ç¼–è¯‘çš„ç›®æ ‡å¹³å°æ¥<strong>ç½®æ¢</strong>ï¼ˆæˆ–â€œåˆ‡æ¢â€ï¼‰ä¸åŒçš„å®ç°ã€‚</p>
<hr/>
<h3 data-id="heading-1">ğŸ“š å­¦ä¹ èµ„æº (References)</h3>
<p>è¿™ä»½å®˜æ–¹æ–‡ç« æ˜¯ç¼–å†™æ’ä»¶çš„ä¼˜ç§€æ•™ç¨‹ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.flutter.dev%2Fpackages-and-plugins%2Fdeveloping-packages" target="_blank" title="https://docs.flutter.dev/packages-and-plugins/developing-packages" ref="nofollow noopener noreferrer">docs.flutter.dev/packages-anâ€¦</a></p>
<p>å¦å¤–ï¼Œ<code>url_launcher</code> å®˜æ–¹ package çš„ä½œè€…ä¹Ÿæ’°å†™äº†ä¸€ç¯‡ç²¾å½©çš„å…¥é—¨æ–‡ç« ï¼Œä¸“é—¨ä»‹ç»å¦‚ä½•ç¼–å†™ Web æ’ä»¶ã€‚å®ƒè§£é‡Šäº† Flutter åˆšå¼€å§‹æ”¯æŒ Web æ—¶ï¼Œä»–ä»¬æ˜¯å¦‚ä½•é¦–æ¬¡ä¸ºè¯¥ package æ·»åŠ  Web æ”¯æŒçš„ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.flutter.dev%2Fhow-to-write-a-flutter-web-plugin-5e26c689ea1" target="_blank" title="https://blog.flutter.dev/how-to-write-a-flutter-web-plugin-5e26c689ea1" ref="nofollow noopener noreferrer">Part 1</a> è§£é‡Šäº†åŸºæœ¬æ–¹æ³•ï¼Œè¿™ä¸ Android å’Œ iOS æ’ä»¶çš„åšæ³•ç›¸åŒï¼Œå³ä½¿ç”¨ä¸€ç§ç§°ä¸º <strong>Method Channelï¼ˆæ–¹æ³•é€šé“ï¼‰</strong> çš„æœºåˆ¶ï¼Œå°†ä»»åŠ¡å§”æ‰˜ç»™è¿™äº›å¹³å°ä¸Šçš„<strong>åŸç”Ÿä»£ç </strong>ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.flutter.dev%2Fhow-to-write-a-flutter-web-plugin-5e26c689ea1" target="_blank" title="https://blog.flutter.dev/how-to-write-a-flutter-web-plugin-5e26c689ea1" ref="nofollow noopener noreferrer">Part 2</a> é€šè¿‡<strong>ç§»é™¤æ–¹æ³•é€šé“</strong>ç®€åŒ–äº†æµç¨‹ï¼Œå› ä¸º Web å®ç°ä»£ç æ— è®ºå¦‚ä½•éƒ½æ˜¯ç”¨ <strong>Dart</strong> ç¼–å†™çš„ï¼Œå› æ­¤ä½ å¯ä»¥ç›´æ¥è°ƒç”¨ç‰¹å®šå®ç°çš„<strong>æ–¹æ³•</strong>ã€‚</li>
</ul>
<p>è¿™ä¸¤ç¯‡æ–‡ç« éƒ½åªä½¿ç”¨äº†æ ‡å‡†çš„æµè§ˆå™¨ APIï¼Œ<strong>æ²¡æœ‰è°ƒç”¨ä»»ä½•è‡ªå®šä¹‰çš„ JavaScript</strong>ã€‚å› æ­¤ï¼Œæœ¬æ–‡å°†åœ¨å®ƒä»¬çš„åŸºç¡€ä¸Šæ„å»ºï¼Œå¹¶<strong>å¢åŠ äº†å¯¼å…¥å’Œè°ƒç”¨è‡ªå®šä¹‰ JavaScript çš„åŠŸèƒ½</strong>ã€‚</p>
<hr/>
<p>éµå¾ªæœ€æ–°çš„ <code>url_launcher</code> æ–‡ç« ä¸­çš„æ¶æ„ï¼Œæˆ‘åˆ›å»ºäº†ä¸‰ä¸ª Dart packagesï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b9bc5ee2038423987210b3a550cafd2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmFydmFuTW8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763600595&amp;x-signature=z1WDSVRYOeRWLObosVhXR4qa%2FuM%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>
<p><code>flutter_mediapipe_vision</code> æ˜¯<strong>ä¸» package</strong>ã€‚æ‰€æœ‰æƒ³è¦åœ¨å›¾åƒä¸Šè¯†åˆ«å§¿åŠ¿çš„åº”ç”¨éƒ½éœ€è¦ä¸”ä»…éœ€å°†å…¶æ·»åŠ ä¸ºä¾èµ–é¡¹ã€‚å®ƒä¼šå¼•å…¥å…¶ä»– package ä½œä¸ºä¾èµ–ï¼Œå¹¶æ ¹æ®å¹³å°å°†è°ƒç”¨<strong>è½¬å‘</strong>ç»™ç‰¹å®šçš„å®ç°ã€‚åŒæ—¶ï¼ŒFlutter ä¼šå¯¹å…¶ä»–å¹³å°çš„å®ç°è¿›è¡Œ<strong>æ‘‡æ ‘ä¼˜åŒ– (tree-shakes)</strong> ã€‚</p>
</li>
<li>
<p><code>flutter_mediapipe_vision_platform_interface</code> <strong>å®šä¹‰äº†æ‰€æœ‰å¹³å°å®ç°å¿…é¡»éµå¾ªçš„æ¥å£</strong>ã€‚è¿™ä¸ª package æœ¬èº«ä¸æ‰§è¡Œä»»ä½•å®é™…å·¥ä½œï¼Œå®ƒçš„å…¨éƒ¨ä½œç”¨æ˜¯åœ¨ç¬¬ä¸€ä¸ª package ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹<strong>ç½®æ¢</strong>ï¼ˆæˆ–â€œåˆ‡æ¢â€ï¼‰ä¸åŒçš„å®ç°ã€‚</p>
</li>
<li>
<p><code>flutter_mediapipe_vision_web</code> æ˜¯<strong>é’ˆå¯¹ Web çš„ç‰¹å®šå®ç°</strong>ï¼Œä¹Ÿæ˜¯æœ¬æ–‡çš„ä¸»è¦å…³æ³¨ç‚¹ã€‚å®ƒä¾èµ–äºç¬¬äºŒä¸ª packageï¼Œå› ä¸ºå®ƒå®ç°äº†ç›¸åŒçš„æ¥å£ã€‚å®ƒå¯¹ç¬¬ä¸€ä¸ª package ä¸€æ— æ‰€çŸ¥ã€‚åè¿‡æ¥ï¼Œç¬¬ä¸€ä¸ª package ä¾èµ–äºå®ƒï¼Œåªæ˜¯ä¸ºäº†<strong>é€’å½’åœ°</strong>å°†å…¶å¸¦å…¥é¡¹ç›®ä¸­ã€‚</p>
</li>
</ul>
<h2 data-id="heading-2"><code>lutter_mediapipe_vision</code></h2>
<p>æˆ‘ä»¬å¸Œæœ›ä¸ºé¢å‘ç”¨æˆ·çš„ package è®¾è®¡ä¸€ä¸ªæ€æ ·çš„æ¥å£å‘¢ï¼Ÿå¦‚æœæˆ‘ä»¬æƒ³è¦<strong>å¯ç½®æ¢çš„å®ç°</strong>ï¼Œ<strong>é™æ€å‡½æ•°</strong>æ˜¯æœ€å¥½çš„é€‰æ‹©ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FlutterMediapipeVision</span> </span>{
  <span class="hljs-keyword">static</span> Future&lt;<span class="hljs-keyword">void</span>&gt; ensureInitialized() <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">await</span> FlutterMediapipeVisionPlatform.instance.ensureInitialized();
  }

  <span class="hljs-keyword">static</span> Future&lt;PoseLandmarkerResult&gt; detect(Uint8List bytes) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> FlutterMediapipeVisionPlatform.instance.detect(bytes);
  }
}
</code></pre>
<p>è¿™ä¸ªç±»ä¼šå°†<strong>é™æ€å‡½æ•°è°ƒç”¨</strong>è½¬æ¢ä¸ºå¯¹ç‰¹å®šå®ç°ä¸Šçš„<strong>å®ä¾‹æ–¹æ³•è°ƒç”¨</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-3">ğŸš€ <strong>æ¥å£å‡½æ•°è®¾è®¡</strong></h3>
<p>ç¬¬ä¸€ä¸ªå‡½æ•°å°†ç”¨äº<strong>åˆå§‹åŒ–æ¨¡å‹</strong>ã€‚æˆ‘ä»¬å¯ä»¥éšæ„å‘½åï¼Œä½† <code>ensureInitialized()</code> æ˜¯è¿™ç§æ“ä½œçš„<strong>çº¦å®šä¿—æˆ</strong>çš„åç§°ã€‚å¯ä»¥å‚è€ƒ <code>WidgetsFlutterBinding.ensureInitialized()</code> çš„å‘½åæ–¹å¼ã€‚</p>
<p>ç¬¬äºŒä¸ªå‡½æ•°å°†æ¥æ”¶å›¾åƒçš„å­—èŠ‚æ•°æ®ï¼ˆä¾‹å¦‚æ¥è‡ªæ‘„åƒå¤´çš„æ¯ä¸€å¸§ï¼‰ï¼Œå¹¶è°ƒç”¨æ¨¡å‹ä¸Šçš„ <code>detect()</code> å‡½æ•°ã€‚åœ¨æ‰€æœ‰å¹³å°å®ç°ä¸­ï¼Œå®ƒçš„å‘½åéƒ½ä¿æŒä¸€è‡´ã€‚</p>
<p>å¦å¤–ï¼Œè¯·æ³¨æ„æˆ‘ä»¬å¾ˆå¿«å°†å®šä¹‰çš„<strong>è¿”å›ç±»å‹</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-4"><code>flutter_mediapipe_vision_platform_interface</code></h2>
<h3 data-id="heading-5">ğŸ“Š <strong>æ•°æ®ç±»å‹</strong> (Data types)</h3>
<p>æˆ‘ä»¬ä»æ•°æ®ç±»å‹å¼€å§‹ã€‚æˆ‘ä»¬å°†è¦è¿æ¥çš„ JavaScript åº“æœ‰ç”¨äºå·²è¯†åˆ«ç‚¹å’Œæ€»èšåˆç»“æœçš„æ•°æ®ç±»å‹ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬éœ€è¦æ’ä»¶è¿”å›<strong>ä¸å¹³å°æ— å…³</strong>çš„ç»“æœï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å®šä¹‰è‡ªå·±çš„ç±»å‹ã€‚</p>
<p>è¿™æ˜¯ä¸€ä¸ªåœ°æ ‡ç‚¹ï¼ˆlandmarkï¼‰ï¼Œå³å§¿åŠ¿ä¸­è¢«è¯†åˆ«å‡ºæ¥çš„ä¸€ä¸ªç‚¹ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NormalizedLandmark</span> </span>{
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> x;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> y;

  <span class="hljs-keyword">const</span> NormalizedLandmark({<span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.x, <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.y});

  Offset <span class="hljs-keyword">get</span> offset =&gt; Offset(x, y);
}
</code></pre>
<p>å®ƒè¢«ç§°ä¸º<strong>å½’ä¸€åŒ–</strong>ï¼ˆnormalizedï¼‰ï¼Œæ˜¯å› ä¸ºå¦‚æœ <strong>x</strong> å’Œ <strong>y</strong> åæ ‡åœ¨ç”»é¢å¸§å†…ï¼Œå®ƒä»¬çš„å€¼èŒƒå›´å°±åœ¨ <strong>0 åˆ° 1</strong> ä¹‹é—´ã€‚</p>
<p>å¦‚æœå›¾åƒè¢«è£å‰ªï¼Œå¹¶ä¸”æ¨¡å‹è®¤ä¸ºæŸä¸ªç‰¹å®šçš„ç‚¹åœ¨å›¾åƒå¤–éƒ¨ï¼Œé‚£ä¹ˆè¿™äº›åæ ‡ä¹Ÿå¯èƒ½<strong>å°äºé›¶æˆ–å¤§äº 1</strong>ï¼Œå°±åƒä¸‹é¢è¿™ä¸ªç½‘ç»œæ‘„åƒå¤´ç¤ºä¾‹ä¸€æ ·ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/33b0ff6a55aa4cb49a05c1be7d9d496f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmFydmFuTW8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763600595&amp;x-signature=KR7vUIQ62ILz49iV%2FIp387gx%2FXk%3D" alt="æœ‰äº›ç‚¹åœ¨ç”»é¢èŒƒå›´ä¹‹å¤–ï¼Œæ¨¡å‹è¯•å›¾çŒœæµ‹æˆ‘çš„è‚˜éƒ¨ä¼šåœ¨å“ªé‡Œã€‚" loading="lazy"/></p>
<p>ä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨æ¥è‡ª <code>dart:ui</code> çš„ <strong><code>Offset</code></strong> ç±»å‹å‘¢ï¼Ÿ</p>
<p>è¿™ä¸ªåº“ï¼ˆæŒ‡ MediaPipeï¼‰è¿˜ä¼šç»™æˆ‘ä»¬ <strong>z è½´åæ ‡</strong>ï¼ˆå³åˆ°æ‘„åƒæœºçš„è·ç¦»ï¼‰ä»¥åŠä¸€äº›æˆ‘ä»¬ç›®å‰ä¸éœ€è¦çš„å…¶ä»–ä¿¡æ¯ï¼Œä½†<strong>ä»¥åèƒ½æ·»åŠ å®ƒä»¬ä¼šå¾ˆæœ‰ç›Šå¤„</strong>ã€‚å› æ­¤ï¼Œ<strong><code>Offset</code> ç±»å‹æ˜¯ä¸å¤Ÿçš„</strong>ã€‚</p>
<p>å¦å¤–ï¼Œè¿™ä¸ª <strong><code>NormalizedLandmark</code></strong> ç±»å‹æ˜¯åœ¨<strong>æ¯ä¸ªç‹¬ç«‹çš„å®ç°</strong>ä¸­éƒ½æœ‰å®šä¹‰çš„ï¼šTypeScriptã€Java ç­‰ã€‚æ‰€ä»¥ï¼Œè®©æˆ‘ä»¬ä¿æŒä¸€è‡´æ€§ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œè¿™æ˜¯<strong>è¯†åˆ«ç»“æœ</strong>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PoseLandmarkerResult</span> </span>{
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">List</span>&lt;<span class="hljs-built_in">List</span>&lt;NormalizedLandmark&gt;&gt; landmarks;

  <span class="hljs-keyword">const</span> PoseLandmarkerResult.empty() : landmarks = <span class="hljs-keyword">const</span> [];

  <span class="hljs-keyword">const</span> PoseLandmarkerResult({<span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.landmarks});
}
</code></pre>
<p>è¯¥åº“è¿”å›<strong>å·²è¯†åˆ«å§¿åŠ¿çš„åˆ—è¡¨</strong>ï¼ˆå³åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªç»´åº¦ï¼‰ã€‚æ¯ä¸ªå§¿åŠ¿éƒ½æ˜¯ä¸€ä¸ª<strong>åœ°æ ‡ç‚¹</strong>åˆ—è¡¨ï¼Œå®ƒä»¬ä½äºç‰¹å®šçš„ç´¢å¼•ä¸Šï¼ˆå³åˆ—è¡¨çš„ç¬¬äºŒä¸ªç»´åº¦ï¼‰ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/09422458f8e74132a1a68abd3c1aab10~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmFydmFuTW8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763600595&amp;x-signature=trKdqjb356J3FEOhfTsXebLVX%2BQ%3D" alt="PoseLandmarkerResultä¸­åœ°æ ‡ç‚¹ï¼ˆlandmarksï¼‰çš„ç´¢å¼•" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-6">ğŸ’» å¹³å°æ¥å£ (The platform interface)</h2>
<p>åœ¨æ•°æ®ç±»å‹å®šä¹‰å®Œæ¯•åï¼Œæˆ‘ä»¬å°±å¯ä»¥å®šä¹‰<strong>æ¯ä¸ªæ’ä»¶éƒ½å¿…é¡»æ‰©å±•ï¼ˆç»§æ‰¿ï¼‰çš„æ¥å£</strong>äº†ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FlutterMediapipeVisionPlatform</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">PlatformInterface</span> </span>{
  FlutterMediapipeVisionPlatform() : <span class="hljs-keyword">super</span>(token: _token);

  <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-built_in">Object</span> _token = <span class="hljs-built_in">Object</span>();

  <span class="hljs-keyword">static</span> FlutterMediapipeVisionPlatform _instance =
    FlutterMediapipeVisionMethodChannel();

  <span class="hljs-keyword">static</span> FlutterMediapipeVisionPlatform <span class="hljs-keyword">get</span> instance =&gt; _instance;

  <span class="hljs-keyword">static</span> <span class="hljs-keyword">set</span> instance(FlutterMediapipeVisionPlatform instance) {
    PlatformInterface.verify(instance, _token);
    _instance = instance;
  }

  Future&lt;<span class="hljs-keyword">void</span>&gt; ensureInitialized() {
    <span class="hljs-keyword">throw</span> UnimplementedError();
  }

  Future&lt;PoseLandmarkerResult&gt; detect(Uint8List bytes) {
    <span class="hljs-keyword">throw</span> UnimplementedError();
  }
}
</code></pre>
<h2 data-id="heading-7">ğŸ“Œ å…³é”®ç‚¹è§£æ</h2>
<p>è¿™é‡Œæ¶‰åŠè®¸å¤šå†…å®¹ã€‚</p>
<p>æœ€é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ª<strong>ä¸šåŠ¡é€»è¾‘å‡½æ•°</strong>ï¼š<code>ensureInitialized</code> å’Œ <code>detect</code>ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œ<code>_instance</code> éœ€è¦æœ‰ä¸€ä¸ª<strong>é»˜è®¤å€¼</strong>ï¼Œå› æ­¤æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå®ä¾‹ï¼Œæˆ‘ä»¬ç¨åä¼šè®¨è®ºå®ƒã€‚</p>
<p>æœ€åï¼Œè¯·æ³¨æ„åä¸º <code>_token</code> çš„å¯¹è±¡ã€‚è¿™æ˜¯æˆ‘ä»¬éœ€è¦å®ƒçš„åŸå› ã€‚Flutter ä¿ç•™å‘å…¶ <strong><code>PlatformInterface</code></strong> ç±»æ·»åŠ å†…å®¹çš„æƒåˆ©ï¼Œè€Œè¿™å¯¹æˆ‘ä»¬æ¥è¯´ä¸åº”è¯¥æˆä¸ºä¸€ä¸ª<strong>ç ´åæ€§å˜æ›´ (breaking change)</strong> ã€‚å› æ­¤ï¼Œè§„åˆ™æ˜¯<strong>å§‹ç»ˆä½¿ç”¨ <code>extends</code>ï¼ˆç»§æ‰¿ï¼‰ï¼Œè€Œä¸æ˜¯ <code>implements</code>ï¼ˆå®ç°ï¼‰</strong> ã€‚</p>
<p>æˆ‘ä»¬ç¡®ä¿åœ¨è¿™é‡Œä½¿ç”¨äº† <code>extends</code>ï¼Œä½†é€šå¸¸ä»»ä½•äººéƒ½å¯ä»¥ä¸ºå¦ä¸€ä¸ªå¹³å°ç¼–å†™æˆ‘ä»¬å¹³å°æ¥å£çš„å®ç°ï¼ˆç”šè‡³å¯ä»¥è¦†ç›–æˆ‘ä»¬åœ¨åŒä¸€å¹³å°ä¸Šçš„å®ç°ï¼‰ï¼Œè€Œæˆ‘ä»¬æ— æ³•æ§åˆ¶ä»–ä»¬ä½¿ç”¨ <code>extends</code> è¿˜æ˜¯ <code>implements</code>ã€‚å¦‚æœä»–ä»¬ä½¿ç”¨äº† <code>implements</code>ï¼Œç¨‹åºå¯èƒ½æš‚æ—¶èƒ½æ­£å¸¸å·¥ä½œï¼Œä½†éšåå¯èƒ½ä¼šçªç„¶åœæ­¢å¯¹ç‰¹å®šå¹³å°ä¸Šçš„è¿™ä¸ª package è¿›è¡Œæ„å»ºã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬ç¡®ä¿ä¸ç­‰åˆ°é‚£æ—¶ï¼Œè€Œæ˜¯<strong>æå‰ç ´åï¼ˆæŠ¥é”™ï¼‰</strong> ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† <code>_token</code> å¯¹è±¡ï¼Œå®ƒå”¯ä¸€çš„èŒè´£å°±æ˜¯ç¡®ä¿<strong>ä¸€è‡´æ€§</strong>ã€‚å¦‚æœåˆ«äººçš„æ’ä»¶å®ç°äº†æˆ‘ä»¬çš„æ¥å£ï¼Œå®ƒå°±ä¸ä¼šæ‹¥æœ‰ç›¸åŒçš„ <code>_token</code>ï¼Œå¹¶ä¸” <code>set instance</code> ä¸­çš„æ£€æŸ¥å°†ä¼šå¤±è´¥ã€‚</p>
<p>é‚£ä¹ˆï¼Œé‚£ä¸ª<strong>é»˜è®¤å®ä¾‹</strong>åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">const</span> MethodChannel _channel = MethodChannel(<span class="hljs-string">'ainkin.com/flutter_mediapipe_vision'</span>);

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FlutterMediapipeVisionMethodChannel</span>
  <span class="hljs-keyword">extends</span> <span class="hljs-title">FlutterMediapipeVisionPlatform</span> </span>{
  <span class="hljs-meta">@override</span>
  Future&lt;<span class="hljs-keyword">void</span>&gt; ensureInitialized() <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">await</span> _channel.invokeMethod&lt;<span class="hljs-keyword">void</span>&gt;(<span class="hljs-string">'ensureInitialized'</span>);
  }

  <span class="hljs-meta">@override</span>
  Future&lt;PoseLandmarkerResult&gt; detect(Uint8List bytes) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">final</span> native = <span class="hljs-keyword">await</span> _channel.invokeMethod&lt;<span class="hljs-keyword">void</span>&gt;(<span class="hljs-string">'detect'</span>);
    <span class="hljs-keyword">throw</span> UnimplementedError(<span class="hljs-string">'TODO: Convert.'</span>);
  }
}
</code></pre>
<h3 data-id="heading-8">ğŸ”™ å›é¡¾ Flutter æ—©æœŸ (Back when Flutter only supported Android and iOS)</h3>
<p>å›é¡¾ Flutter <strong>ä»…æ”¯æŒ Android å’Œ iOS</strong> çš„æ—¶æœŸï¼Œè°ƒç”¨ä»»ä½•å¹³å°ç‰¹å®šåŠŸèƒ½çš„<strong>å”¯ä¸€æ–¹å¼</strong>æ˜¯åˆ›å»ºä¸€ä¸ªåä¸º <strong><code>MethodChannel</code></strong> çš„å¯¹è±¡ï¼Œå¹¶ä½¿ç”¨ <code>invokeMethod(name)</code> åœ¨å…¶ä¸Šâ€œè°ƒç”¨æ–¹æ³•â€ã€‚Flutter ä¼šå¤„ç† <strong>Channelï¼ˆé€šé“ï¼‰</strong> å’Œ <strong>Methodï¼ˆæ–¹æ³•ï¼‰</strong> çš„åç§°ï¼Œå¹¶å°†è°ƒç”¨è·¯ç”±åˆ°ç‰¹å®šçš„<strong>åŸç”Ÿä»£ç </strong>ã€‚Dart ä»£ç ä¸­<strong>æ²¡æœ‰å¯ç½®æ¢çš„å®ä¾‹</strong>ï¼Œå› ä¸ºæ‰€æœ‰çš„ç½®æ¢éƒ½æ˜¯åœ¨<strong>æ„å»ºåº”ç”¨æ—¶</strong>å®Œæˆçš„ã€‚</p>
<p>ä¸ºäº†<strong>ä¿æŒå‘åå…¼å®¹æ€§</strong>ï¼Œå¦‚æœ Flutter æ²¡æœ‰è¦æ±‚æˆ‘ä»¬çš„æ’ä»¶åšä»»ä½•ä¸åŒçš„äº‹æƒ…ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬éœ€è¦é»˜è®¤é‡‡ç”¨çš„æ–¹å¼ã€‚è¿™ä¹Ÿæ˜¯æˆ‘ä»¬å°†æ­¤ä½œä¸º<strong>é»˜è®¤å®ä¾‹</strong>çš„åŸå› ã€‚</p>
<hr/>
<h3 data-id="heading-9">ğŸš§ é»˜è®¤å®ä¾‹çš„å®ç° (Default Instance Implementation)</h3>
<p>ä¸è¿‡ï¼Œæˆ‘ä»¬æš‚æ—¶<strong>ä¸ä¼šæ”¯æŒ Web ä»¥å¤–çš„å¹³å°</strong>ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¸éœ€è¦è®© <code>MethodChannel</code> çš„å®ç°èƒ½å¤Ÿæ­£å¸¸å·¥ä½œã€‚è°ƒç”¨ä¸€ä¸ªå‡è®¾çš„åŸç”Ÿ <code>ensureInitializee()</code> å¹¶ç­‰å¾…å®ƒè¿”å›å¹¶ä¸ä¼šæœ‰ä»€ä¹ˆåå¤„ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬ä¸èƒ½åœ¨ <code>detect()</code> ä¸­åšä»»ä½•æœ‰æ„ä¹‰çš„äº‹æƒ…ï¼Œå› ä¸ºé‚£éœ€è¦ä¸€ä¸ªç”¨äºä¸åŸç”Ÿå®ç°ä¹‹é—´<strong>ä¼ é€’æ•°æ®</strong>çš„å¥‘çº¦ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é‚£é‡ŒæŠ›å‡ºä¸€ä¸ª<strong>é”™è¯¯</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-10">ğŸ’» <code>flutter_mediapipe_vision_web</code></h2>
<p>è®©æˆ‘ä»¬ç”¨ä»¥ä¸‹ä»£ç å¼€å§‹æˆ‘ä»¬çš„æ’ä»¶ï¼š</p>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FlutterMediapipeVisionWeb</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">FlutterMediapipeVisionPlatform</span> </span>{
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> registerWith(Registrar registrar) {
    FlutterMediapipeVisionPlatform.instance = FlutterMediapipeVisionWeb();
  }

  Future&lt;<span class="hljs-keyword">void</span>&gt;? _initFuture;

  <span class="hljs-meta">@override</span>
  Future&lt;<span class="hljs-keyword">void</span>&gt; ensureInitialized() =&gt;
      _initFuture ?? (_initFuture = _initOnce());

  Future&lt;<span class="hljs-keyword">void</span>&gt; _initOnce() <span class="hljs-keyword">async</span> {
    <span class="hljs-comment">// ...</span>
  }

  <span class="hljs-meta">@override</span>
  Future&lt;PoseLandmarkerResult&gt; detect(Uint8List bytes) <span class="hljs-keyword">async</span> {
    <span class="hljs-comment">// ...</span>
  }
}
</code></pre>
<h2 data-id="heading-11">âœ¨ æ³¨å†Œä¸åˆå§‹åŒ– (<code>registerWith()</code>)</h2>
<p><code>registerWith()</code> æ˜¯ä¸€ä¸ªâ€œç¥å¥‡â€çš„å‡½æ•°ã€‚å¦‚æœåº”ç”¨æ˜¯ä¸º <strong>Web æ„å»º</strong>çš„ï¼ŒFlutter ä¼šåœ¨<strong>å¾ˆæ—©çš„æ—¶å€™</strong>è°ƒç”¨å®ƒã€‚ç„¶åï¼Œæˆ‘ä»¬åˆ›å»ºå½“å‰ç±»çš„ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶å°†å…¶è®¾ç½®ä¸º<strong>ç”¨äºæ‰€æœ‰å¹³å°è°ƒç”¨</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-12">ğŸŒ æ¬¢è¿æ¥åˆ° Webï¼(Welcome to Web!)</h2>
<p>Dart ä»£ç ä¼šè¢«<strong>è½¬è¯‘ (transpile)</strong> æˆ JavaScript æˆ– WASM (WebAssembly)ã€‚æ— è®ºæ˜¯å“ªç§æ–¹å¼ï¼Œå®ƒéƒ½å¯ä»¥é€šè¿‡ <code>dart:js_interop</code> å¯¼å…¥æä¾›çš„ <code>globalContext</code> å˜é‡ï¼Œç›´æ¥è®¿é—®æµè§ˆå™¨çš„<strong>å…¨å±€ä½œç”¨åŸŸ</strong>ã€‚å› æ­¤ï¼ŒDart å¯¹è±¡å’Œ JavaScript å¯¹è±¡ä¹‹é—´å‡ ä¹æ²¡æœ‰åŒºåˆ«ï¼Œå®ƒä»¬å¯¹äºè¿è¡Œæˆ‘ä»¬åº”ç”¨çš„æµè§ˆå™¨æ¥è¯´éƒ½åªæ˜¯<strong>å¯¹è±¡</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-13">ğŸ“¦ åŠ è½½ MediaPipe çš„ JavaScript (Loading MediaPipeâ€™s JavaScript)</h2>
<p>æˆ‘<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffirebase%2Fflutterfire%2Fblob%2F6c263de27e047260a00d2255b4c92c1478818b3b%2Fpackages%2Ffirebase_core%2Ffirebase_core_web%2Flib%2Fsrc%2Ffirebase_core_web.dart%23L135" target="_blank" title="https://github.com/firebase/flutterfire/blob/6c263de27e047260a00d2255b4c92c1478818b3b/packages/firebase_core/firebase_core_web/lib/src/firebase_core_web.dart#L135" ref="nofollow noopener noreferrer">å€Ÿé‰´äº† Firebase çš„è¿™æ®µä»£ç </a>å¹¶åšäº†ä¸€äº›ç®€åŒ–ã€‚é—æ†¾çš„æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦é‡å¤è¿™æ®µè¾ƒé•¿çš„ä»£ç ç‰‡æ®µï¼Œè€Œ Flutter å°šæœªä¸ºæˆ‘ä»¬å‡†å¤‡å¥½ä¸€ä¸ª<strong>å•è¡Œä»£ç  (one-liner)</strong> è§£å†³æ–¹æ¡ˆã€‚</p>
<p>è¿™æ®µä»£ç ä» <code>src</code> åŠ è½½ä¸€ä¸ªè„šæœ¬ï¼Œå¹¶å°†å…¶<strong>æ¨¡å—å¯¹è±¡</strong>å­˜å‚¨åœ¨ä¸€ä¸ªç”± <code>windowVar</code> ç¡®å®šçš„<strong>å…¨å±€å˜é‡</strong>ä¸­ã€‚</p>
<pre><code class="hljs language-dart" lang="dart">Future&lt;<span class="hljs-keyword">void</span>&gt; _injectSrcScript(<span class="hljs-built_in">String</span> src, <span class="hljs-built_in">String</span> windowVar) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">final</span> web.HTMLScriptElement script =
        web.<span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'script'</span>) <span class="hljs-keyword">as</span> web.HTMLScriptElement;
    script.type = <span class="hljs-string">'text/javascript'</span>;
    script.crossOrigin = <span class="hljs-string">'anonymous'</span>;

    <span class="hljs-keyword">final</span> stringUrl = src;
    script.text =
        <span class="hljs-string">'''
    window.my_trigger_<span class="hljs-subst">$windowVar</span> = async (callback) =&gt; {
      console.debug("Initializing MediaPipe <span class="hljs-subst">$windowVar</span>");
      callback(await import("<span class="hljs-subst">$stringUrl</span>"));
    };
    '''</span>;

    web.console.log(<span class="hljs-string">'Appending a script'</span>.toJS);
    web.<span class="hljs-built_in">document</span>.head!.appendChild(script);

    Completer completer = Completer();

    globalContext.callMethod(
      <span class="hljs-string">'my_trigger_<span class="hljs-subst">$windowVar</span>'</span>.toJS,
      (JSAny module) {
        globalContext[windowVar] = module;
        globalContext.delete(<span class="hljs-string">'my_trigger_<span class="hljs-subst">$windowVar</span>'</span>.toJS);
        completer.complete();
      }.toJS,
    );

    <span class="hljs-keyword">await</span> completer.future;
  }
</code></pre>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ <code>_windowVar</code>ï¼Œè®©å®ƒçš„å‘½å<strong>ä¸ä¼šä¸ Flutter æˆ– MediaPipe äº§ç”Ÿå†²çª</strong>ï¼Œå¹¶å¼€å§‹ç”¨åŠ è½½ MediaPipe ä»£ç çš„æ–¹å¼æ¥ç¼–å†™æˆ‘ä»¬çš„ <code>_initOnce()</code> å‡½æ•°ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">const</span> _windowVar = <span class="hljs-string">'flutter_mediapipe_vision'</span>;  
  
<span class="hljs-comment">// ...  </span>
  
Future&lt;<span class="hljs-keyword">void</span>&gt; _initOnce() <span class="hljs-keyword">async</span> {  
<span class="hljs-keyword">await</span> _injectSrcScript(  
<span class="hljs-string">'https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision/vision_bundle.js'</span>,  
_windowVar,  
);  
  
<span class="hljs-comment">// ...</span>

</code></pre>
<p>è¿™ä¼šåŠ è½½<strong>æœ€æ–°ç‰ˆæœ¬</strong>çš„è„šæœ¬ã€‚å¦ä¸€ç§æ–¹æ³•æ˜¯ä¸‹è½½å®ƒå¹¶ä¸æˆ‘ä»¬çš„èµ„æºï¼ˆassetsï¼‰ä¸€èµ·æ‰“åŒ…ï¼Œä»¥<strong>å‡å°‘å¤–éƒ¨ä¾èµ–</strong>ï¼Œä½†ç›®å‰è¿™ç§æ–¹å¼ï¼ˆç›´æ¥åŠ è½½æœ€æ–°ç‰ˆï¼‰å°±å¯ä»¥äº†ã€‚</p>
<p>è¿™æ®µåŠ è½½å®Œæˆåï¼Œ<strong>MediaPipe æ¨¡å—</strong>å°±ä¼šå­˜åœ¨äº<strong>å…¨å±€å˜é‡</strong>ä¸­ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ <code>globalContext[_windowVar]</code> è¿›è¡Œè®¿é—®ã€‚æˆ‘ä»¬ç°åœ¨å°±å¯ä»¥å¼€å§‹ä»å®ƒé‚£é‡Œè°ƒç”¨å‡½æ•°äº†ï¼š</p>
<pre><code class="hljs language-dart" lang="dart">globalContext[_windowVar][<span class="hljs-string">'PoseLandmarker'</span>].callMethod(  
<span class="hljs-string">'createFromOptions'</span>,  
...  
);
</code></pre>
<p>ä½†æ˜¯ï¼Œæœ€å¥½å¯¹å®ƒè¿›è¡Œ<strong>æŸç§ç±»å‹å®‰å…¨</strong>çš„çº¦æŸã€‚</p>
<h2 data-id="heading-14">ğŸ›¡ï¸ å¯¹ JavaScript å¯¹è±¡æ–½åŠ  Dart æ¥å£ (Imposing Dart interfaces on JavaScript objects)</h2>
<p>è¿˜è®°å¾—æˆ‘ä»¬å£°æ˜çš„ <strong><code>NormalizedLandmark</code></strong> ç±»å—ï¼Ÿ</p>
<p>åœ¨ JavaScript ç«¯ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¸¦æœ‰ <code>x</code> å’Œ <code>y</code> å±æ€§çš„<strong>å¸¸è§„å¯¹è±¡</strong>ï¼Œåœ¨æˆ‘ä»¬çš„ Dart ä»£ç ä¸­å¯ä»¥é€šè¿‡ <code>landmark['x']</code> å’Œ <code>landmark['y']</code> è¿™æ ·çš„æ–¹å¼æ¥è®¿é—®ã€‚<strong>è¿™å¾ˆå®¹æ˜“å‡ºé”™</strong>ã€‚å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥åƒè¿™æ ·å®šä¹‰ä¸€ä¸ª Dart æ¥å£ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">extension</span> type NormalizedLandmark._(JSObject _) <span class="hljs-keyword">implements</span> JSObject {  
<span class="hljs-keyword">external</span> <span class="hljs-built_in">num</span> <span class="hljs-keyword">get</span> x;  
<span class="hljs-keyword">external</span> <span class="hljs-built_in">num</span> <span class="hljs-keyword">get</span> y;  
}
</code></pre>
<p>å¦‚æœæˆ‘ä»¬å°†è¿™æ ·ä¸€ä¸ªåœ°æ ‡å¯¹è±¡<strong>å¼ºåˆ¶è½¬æ¢</strong>ï¼ˆcastï¼‰ä¸ºè¿™ä¸ªç±»ï¼Œæˆ‘ä»¬å°±èƒ½ä»¥<strong>ç±»å‹å®‰å…¨</strong>çš„æ–¹å¼æ¥è®¿é—®å®ƒçš„å±æ€§äº†ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">final</span> landmark = unsafeLandmark <span class="hljs-keyword">as</span> NormalizedLandmark;  
<span class="hljs-built_in">print</span>(landmark.x);
</code></pre>
<h2 data-id="heading-15">ğŸŒŸ æ‰©å±•ç±»å‹ (Extension types)</h2>
<p>è¿™ä¸ªæ¥å£åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå®ƒæ˜¯ä¸€ç§åä¸º<strong>æ‰©å±•ç±»å‹</strong>ï¼ˆextension typeï¼‰çš„æ„é€ ï¼Œ<strong>å®ƒåœ¨å­—é¢ä¸Šç»™å¯¹è±¡æ–½åŠ äº†ä¸€ä¸ªæ¥å£ï¼Œä½†å¹¶ä¸ä¼šåˆ›å»ºä¸€ä¸ªé¢å¤–çš„åŒ…è£…å™¨</strong>ã€‚å®ƒä½œä¸ºä¸€ç§<strong>ç¼–è¯‘æ—¶æŠ½è±¡</strong>ï¼ˆcompile-time abstractionï¼‰è€Œå­˜åœ¨ï¼Œä½†åœ¨<strong>è¿è¡Œæ—¶</strong>å¹¶ä¸å­˜åœ¨ã€‚ä½ å¯ä»¥åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fdart.dev%2Flanguage%2Fextension-types" target="_blank" title="https://dart.dev/language/extension-types" ref="nofollow noopener noreferrer">Dart æ–‡æ¡£</a>ä¸­é˜…è¯»æœ‰å…³æ­¤æ„é€ çš„æ›´å¤šä¿¡æ¯ï¼š</p>
<p>æˆ‘ä»¬å…ˆç¨å¾®ç»•ä¸ªå¼¯ï¼Œå­¦ä¹ æ›´å¤šå…³äº<strong>æ‰©å±•ç±»å‹</strong>çš„çŸ¥è¯†ï¼Œç„¶åå†å¸¦ç€è¿™äº›æ–°çŸ¥è¯†å›åˆ°ä½ çš„ <strong>JavaScript å·¥ä½œ</strong>ä¸­ã€‚</p>
<p>Dart å…³äºæ‰©å±•ç±»å‹çš„æ–‡æ¡£å±•ç¤ºäº†è¿™æ ·ä¸€ä¸ªç¤ºä¾‹ï¼Œå®ƒå°† <strong><code>int</code> ç±»å‹çš„æ¥å£èŒƒå›´ç¼©å°</strong>ï¼Œåªå…è®¸è¿›è¡Œä¸€ä¸ªæ“ä½œï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">extension</span> type IdNumber(<span class="hljs-built_in">int</span> id) {  
<span class="hljs-comment">// Wraps the 'int' type's '&lt;' operator:  </span>
<span class="hljs-keyword">operator</span> &lt;(IdNumber other) =&gt; id &lt; other.id;  
<span class="hljs-comment">// Doesn't declare the '+' operator, for example,  </span>
<span class="hljs-comment">// because addition does not make sense for ID numbers.  </span>
}  
  
<span class="hljs-comment">// ...  </span>
<span class="hljs-keyword">final</span> safeId = IdNumber(<span class="hljs-number">42</span>);
</code></pre>
<p>è¿™æ®µä»£ç è¡¨æ˜ï¼š</p>
<ul>
<li>
<p>æˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªåä¸º <strong><code>IdNumber</code></strong> çš„ä¸œè¥¿æ¥å¤„ç†ä¸€äº› IDã€‚</p>
</li>
<li>
<p>å®ƒ<strong>ä¸æ˜¯ä¸€ä¸ªåœ¨è¿è¡Œæ—¶å­˜åœ¨çš„ç±»</strong>ï¼Œå› ä¸ºé‚£æ ·å¼€é”€å¤ªå¤§ï¼Œå› æ­¤æˆ‘ä»¬ä½¿ç”¨äº† <strong><code>extension type</code>ï¼ˆæ‰©å±•ç±»å‹ï¼‰</strong> ã€‚</p>
</li>
<li>
<p>ç›¸åï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ <strong><code>int</code></strong> æ¥å­˜å‚¨è¿™äº› IDï¼Œå› ä¸º <code>int</code> æ˜¯å­˜å‚¨æ•°å­—çš„<strong>æœ€æœ‰æ•ˆ</strong>æ–¹å¼ã€‚å› æ­¤ï¼Œç±»å‹åç§°åé¢ç´§è·Ÿçš„ <code>(int id)</code> è¡¨ç¤º<strong>è¿™ä¸ªæŠ½è±¡åŒ…è£…äº†ä»€ä¹ˆ</strong>ã€‚</p>
</li>
<li>
<p>è¿™ä¸ªæ¥å£<strong>å‰¥ç¦»äº† <code>int</code> çš„æ‰€æœ‰æ–¹æ³•ã€æ“ä½œç¬¦å’Œå±æ€§</strong>ï¼Œåªä¿ç•™äº†æˆ‘ä»¬<strong>æ˜ç¡®å®šä¹‰</strong>çš„éƒ¨åˆ†ã€‚</p>
</li>
<li>
<p>æˆ‘ä»¬å®šä¹‰äº† <code>operator &lt;</code>ï¼Œè¿™ä¹Ÿæ˜¯ä½ å¯¹è¿™ç§ ID <strong>å”¯ä¸€èƒ½åšçš„æ“ä½œ</strong>ã€‚</p>
</li>
</ul>
<hr/>
<h2 data-id="heading-16">ğŸ’¡ å…³äºæ‰©å±•ç±»å‹çš„æ„é€ å‡½æ•°</h2>
<p>æ‰©å±•ç±»å‹çš„<strong>æ„é€ å‡½æ•°</strong>ä¸åƒå¸¸è§„ç±»å‹é‚£æ ·ä½œä¸ºæˆå‘˜å®šä¹‰ï¼Œå› ä¸ºå¸¸è§„ç±»å‹å¯èƒ½æœ‰å¤šä¸ªæ„é€ å‡½æ•°ï¼Œå› ä¸º<strong>æ„é€ </strong>å¯¹å®ƒä»¬æ¥è¯´æ˜¯<strong>å®é™…çš„å·¥ä½œ</strong>ï¼Œæˆ‘ä»¬å¯èƒ½å¸Œæœ›ä»¥ä¸åŒçš„æ–¹å¼å®Œæˆã€‚</p>
<p>å¦ä¸€æ–¹é¢ï¼Œå¯¹äºæ‰©å±•ç±»å‹æ¥è¯´ï¼Œ<strong>æ„é€ åªæ˜¯ç¼–è¯‘æ—¶çš„ä¸€ç§åŒ…è£…</strong>ï¼Œå®ƒä¸ä¼šè½¬æ¢æˆä»»ä½•å®é™…çš„è¿è¡Œæ—¶æ“ä½œï¼Œæ‰€ä»¥å®ƒ<strong>æ€»æ˜¯åªæœ‰ä¸€ä¸ªæ„é€ å‡½æ•°</strong>ã€‚å› æ­¤ï¼Œå°†å…¶ä½œä¸ºæˆå‘˜æ¥å®šä¹‰å°±æ²¡æœ‰æ„ä¹‰äº†ï¼Œæ‰€ä»¥å®ƒä»¬çš„è¯­æ³•æ˜¯å°†æ„é€ å‡½æ•° <code>(int id)</code> ç›´æ¥æ”¾åœ¨ç±»å‹åç§°ä¹‹åã€‚</p>
<hr/>
<h2 data-id="heading-17">ğŸ§ é‚£ä¹ˆï¼Œè¿™å¯¹æˆ‘ä»¬çš„ä¾‹å­æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿ</h2>
<p><strong>ï¼ˆå³å¦‚ä½•å°†æ‰©å±•ç±»å‹åº”ç”¨äºæˆ‘ä»¬çš„ JavaScript äº’æ“ä½œåœºæ™¯ï¼Ÿï¼‰</strong></p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">extension</span> type NormalizedLandmark._(JSObject _) <span class="hljs-keyword">implements</span> JSObject {  
<span class="hljs-keyword">external</span> <span class="hljs-built_in">num</span> <span class="hljs-keyword">get</span> x;  
<span class="hljs-keyword">external</span> <span class="hljs-built_in">num</span> <span class="hljs-keyword">get</span> y;  
}
</code></pre>
<p>åœ¨æˆ‘ä»¬çš„æ‰©å±•ç±»å‹ä¸­ï¼š</p>
<ul>
<li>æˆ‘ä»¬<strong>åŒ…è£…äº†ä¸€ä¸ª <code>JSObject</code></strong> å¹¶ç«‹å³<strong>å®ç°äº† <code>JSObject</code> æ¥å£</strong>ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬<strong>æ²¡æœ‰å‰¥ç¦»</strong>è¯¥æ¥å£ä¸­çš„ä»»ä½•å†…å®¹ï¼Œè€Œåªæ˜¯<strong>æ·»åŠ </strong>äº†æ–°åŠŸèƒ½ã€‚æˆ‘ä»¬éœ€è¦è¿™æ ·åšæ˜¯å› ä¸ºæˆ‘ä»¬å¾ˆå¿«å°±ä¼šæœ‰ <code>JSArray&lt;NormalizedLandmark&gt;</code>ï¼Œè€Œ <code>JSArray</code> <strong>åªèƒ½åŒ…å« <code>JSObject</code> åŠå…¶å­ç±»</strong>ã€‚</li>
<li>æˆ‘ä»¬ä½¿ç”¨ <code>_</code> ä½œä¸ºåç§°ï¼Œå› ä¸ºä¸ ID çš„ç¤ºä¾‹ä¸åŒï¼Œæˆ‘ä»¬<strong>æ²¡æœ‰å°†ä»»ä½•åŠŸèƒ½å§”æ‰˜</strong>ç»™æˆ‘ä»¬åŒ…è£…çš„å¯¹è±¡ï¼Œå› æ­¤ä¸éœ€è¦ä¸€ä¸ªåç§°ã€‚</li>
<li>æˆ‘ä»¬ä½¿ç”¨<strong>ç§æœ‰æ„é€ å‡½æ•°</strong>ï¼Œè¿™æ˜¯ç”±äº <code>._</code> çš„å­˜åœ¨ã€‚</li>
</ul>
<p>å› æ­¤ï¼Œè¿™ä¸ªåŒ…è£…å™¨<strong>æ°¸è¿œä¸èƒ½åƒ</strong>æˆ‘ä»¬åˆ›å»º <code>IdNumber</code> é‚£æ ·ï¼ˆå¦‚ <code>final safeId = IdNumber(42);</code>ï¼‰æ¥åˆ›å»ºã€‚</p>
<p>ç›¸åï¼Œæˆ‘ä»¬åªèƒ½ä½¿ç”¨ <strong><code>as</code> å…³é”®å­—</strong>å¯¹å…¶è¿›è¡Œ<strong>å¼ºåˆ¶è½¬æ¢ (cast)</strong> ã€‚</p>
<p>æˆ‘ä»¬æŠŠ getter æ ‡è®°ä¸º <strong><code>external</code></strong>ã€‚è¿™æ„å‘³ç€â€œå®ƒä»¬å·²ç»åœ¨ JavaScript ä¸­å­˜åœ¨ï¼Œå¯ä»¥ç›´æ¥å·¥ä½œâ€ã€‚</p>
<p>å½“æˆ‘ä»¬ä½¿ç”¨<strong>æ‰©å±•ç±»å‹</strong>æ¥è¡¨ç¤ºæ¥è‡ªå¤–éƒ¨ JavaScript æˆ– WASM åº“çš„å¯¹è±¡æ—¶ï¼Œå®ƒè¢«ç§°ä¸º <strong>â€œäº’æ“ä½œç±»å‹â€ï¼ˆinterop typeï¼‰</strong> ï¼Œæºè‡ª <strong>inter-operationï¼ˆäº’æ“ä½œï¼‰</strong> ã€‚</p>
<hr/>
<h2 data-id="heading-18">âœï¸ å®šä¹‰äº’æ“ä½œç±»å‹ (Defining the interop types)</h2>
<p>æˆ‘ä»¬éœ€è¦æ›´å¤šçš„äº’æ“ä½œç±»å‹æ¥ä» MediaPipe åº“ä¸­åˆ›å»º <strong>Landmarker å¯¹è±¡</strong>ã€è°ƒç”¨å®ƒçš„æ–¹æ³•å¹¶ä»<strong>ç»“æœå¯¹è±¡</strong>ä¸­è·å–æ•°æ®ã€‚</p>
<p>è¿™äº›ç±»å‹å¯ä»¥é€šè¿‡æŸ¥çœ‹ MediaPipe çš„ <strong>TypeScript æºä»£ç </strong>æ‰‹åŠ¨ç¼–å†™å‡ºæ¥ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgoogle-ai-edge%2Fmediapipe%2Fblob%2Fmaster%2Fmediapipe%2Ftasks%2Fweb%2Fcore%2Ffileset_resolver.ts.template" target="_blank" title="https://github.com/google-ai-edge/mediapipe/blob/master/mediapipe/tasks/web/core/fileset_resolver.ts.template" ref="nofollow noopener noreferrer">fileset_resolver.ts.template</a></li>
<li><code>landmark.d.ts</code></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgoogle-ai-edge%2Fmediapipe%2Fblob%2Fmaster%2Fmediapipe%2Ftasks%2Fweb%2Fcomponents%2Fcontainers%2Flandmark.d.ts" target="_blank" title="https://github.com/google-ai-edge/mediapipe/blob/master/mediapipe/tasks/web/components/containers/landmark.d.ts" ref="nofollow noopener noreferrer">pose_landmarker.ts</a></li>
<li><code>pose_landmarker_options.d.ts</code></li>
<li><code>pose_landmarker_result.ts</code></li>
<li><code>task_runner_options.d.ts</code></li>
<li><code>vision_task_options.d.ts</code></li>
</ul>
<p>Dart ä¸­çš„äº’æ“ä½œç±»å‹<strong>æœ‰å¯èƒ½</strong>å¯ä»¥ä» TypeScript æºç ç”Ÿæˆï¼Œä½†æˆ‘è¿˜æ²¡æœ‰æ¢ç´¢è¿‡è¿™ä¸€ç‚¹ã€‚æ‰‹åŠ¨å®è·µä¸€æ®µæ—¶é—´æ˜¯æœ‰ç›Šçš„ã€‚</p>
<p>ä»¥ä¸‹æ˜¯æˆ‘ä» TypeScript ä¸­æå–å‡ºæ¥çš„éƒ¨åˆ†ï¼Œ<strong>ä»…åŒ…å«æˆ‘ä»¬å°†å®é™…ä½¿ç”¨çš„æ–¹æ³•å’Œå±æ€§</strong>ã€‚</p>
<p><code>detect</code> å‡½æ•°çš„ç»“æœæ˜¯ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">extension</span> type PoseLandmarkerResult._(JSObject _) <span class="hljs-keyword">implements</span> JSObject {  
<span class="hljs-keyword">external</span> JSArray&lt;JSArray&lt;NormalizedLandmark&gt;&gt; <span class="hljs-keyword">get</span> landmarks;  
}
</code></pre>
<p>åœ°æ ‡æ£€æµ‹å™¨ (The landmarker)ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">extension</span> type PoseLandmarker._(JSObject _) <span class="hljs-keyword">implements</span> JSObject {
  <span class="hljs-keyword">external</span> JSPromise&lt;PoseLandmarker&gt; createFromOptions(
    WasmFileset fileset,
    PoseLandmarkerOptions options,
  );

  <span class="hljs-keyword">external</span> <span class="hljs-keyword">void</span> detect(HTMLImageElement img, JSFunction callback);
}
</code></pre>
<p>åˆ›å»ºåœ°æ ‡æ£€æµ‹å™¨çš„é€‰é¡¹ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">extension</span> type PoseLandmarkerOptions._(JSObject _) <span class="hljs-keyword">implements</span> JSObject {
  <span class="hljs-keyword">external</span> PoseLandmarkerOptions({
    BaseOptions baseOptions,
    <span class="hljs-built_in">int</span> numPoses,
    <span class="hljs-built_in">String</span> runningMode,
  });

  <span class="hljs-keyword">external</span> BaseOptions <span class="hljs-keyword">get</span> baseOptions;

  <span class="hljs-keyword">external</span> <span class="hljs-built_in">int</span> <span class="hljs-keyword">get</span> numPoses;

  <span class="hljs-keyword">external</span> <span class="hljs-built_in">String</span> <span class="hljs-keyword">get</span> runningMode;
}
</code></pre>
<p><code>PostLandmarkerOptions</code> ä¸­çš„åŸºç¡€é€‰é¡¹ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">extension</span> type BaseOptions._(JSObject _) <span class="hljs-keyword">implements</span> JSObject {  
    <span class="hljs-keyword">external</span> BaseOptions({<span class="hljs-built_in">String</span> modelAssetPath});  
  
    <span class="hljs-keyword">external</span> <span class="hljs-built_in">String</span> <span class="hljs-keyword">get</span> modelAssetPath;  
}
</code></pre>
<p>WasmFilesetï¼Œä¸ç®¡å®ƒæ˜¯ä»€ä¹ˆï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">extension</span> type WasmFileset._(JSObject _) <span class="hljs-keyword">implements</span> JSObject {}
</code></pre>
<p>Fileset resolver:</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">extension</span> type FilesetResolver._(JSObject _) <span class="hljs-keyword">implements</span> JSObject {  
    <span class="hljs-keyword">external</span> JSPromise&lt;WasmFileset&gt; forVisionTasks(<span class="hljs-built_in">String</span> basePath);  
}
</code></pre>
<p>MediaPipe æ¨¡å—çš„æ ¹å¯¹è±¡:</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">import</span> <span class="hljs-string">'fileset_resolver.dart'</span> <span class="hljs-keyword">as</span> fsr;
<span class="hljs-keyword">import</span> <span class="hljs-string">'pose_landmarker.dart'</span> <span class="hljs-keyword">as</span> plm;

<span class="hljs-keyword">extension</span> type MediaPipe._(JSObject _) <span class="hljs-keyword">implements</span> JSObject {
  <span class="hljs-keyword">external</span> fsr.FilesetResolver <span class="hljs-keyword">get</span> FilesetResolver;

  <span class="hljs-keyword">external</span> plm.PoseLandmarker <span class="hljs-keyword">get</span> PoseLandmarker;
}
</code></pre>
<h2 data-id="heading-19">âš™ï¸ æ¨¡å‹åˆå§‹åŒ–</h2>
<p>è®©æˆ‘ä»¬ç»§ç»­ç¼–å†™è®¾ç½®æ’ä»¶çš„å‡½æ•°ï¼Œå¹¶<strong>åˆå§‹åŒ–æ¨¡å‹</strong>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart">MediaPipe <span class="hljs-keyword">get</span> mp =&gt; globalContext[_windowVar] <span class="hljs-keyword">as</span> MediaPipe;
PoseLandmarker? _landmarker;

Future&lt;<span class="hljs-keyword">void</span>&gt; _initOnce() <span class="hljs-keyword">async</span> {
  <span class="hljs-keyword">await</span> _injectSrcScript(
    <span class="hljs-string">'https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision/vision_bundle.js'</span>,
    _windowVar,
  );

  <span class="hljs-keyword">final</span> fs = <span class="hljs-keyword">await</span> mp.FilesetResolver.forVisionTasks(
    <span class="hljs-string">'https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@latest/wasm'</span>,
  ).toDart;

  <span class="hljs-keyword">final</span> options = PoseLandmarkerOptions(
    baseOptions: BaseOptions(
      modelAssetPath:
          <span class="hljs-string">"packages/flutter_mediapipe_vision_platform_interface/assets/"</span>
          <span class="hljs-string">"assets/models/pose_landmarker_lite.task"</span>,
    ),
    numPoses: <span class="hljs-number">5</span>,
    runningMode: <span class="hljs-string">"IMAGE"</span>,
  );

  _landmarker = <span class="hljs-keyword">await</span> mp.PoseLandmarker.createFromOptions(fs, options).toDart;
}
</code></pre>
<h2 data-id="heading-20">ğŸ’¾ æ¨¡å‹æ–‡ä»¶ä¸å­˜å‚¨</h2>
<p>æ¨¡å‹æ–‡ä»¶æœ¬èº«å¯ä»¥åœ¨è¿™é‡Œä¸‹è½½ï¼Œæˆ‘é€‰æ‹©äº† liteï¼ˆè½»é‡ï¼‰ç‰ˆæœ¬ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fai.google.dev%2Fedge%2Fmediapipe%2Fsolutions%2Fvision%2Fpose_landmarker" target="_blank" title="https://ai.google.dev/edge/mediapipe/solutions/vision/pose_landmarker" ref="nofollow noopener noreferrer">ai.google.dev/edge/mediapâ€¦</a></p>
<p>ç”±äºæ¨¡å‹æ˜¯<strong>åœ¨ä¸åŒå®ç°ä¹‹é—´å…±äº«</strong>çš„ï¼Œæœ€å¥½å°†å®ƒä»¬æ”¾å…¥ä¸€ä¸ª<strong>å…±äº« package</strong> ä¸­ã€‚<strong><code>flutter_mediapipe_vision_platform_interface</code></strong> æ˜¯æœ€åˆé€‚çš„ï¼Œå°½ç®¡ä»æŠ€æœ¯ä¸Šè®²å®ƒä¸å±äºæ¥å£èŒƒç•´ï¼Œä½†æ‰€æœ‰å®ç°éƒ½å·²ç»ä¾èµ–äºå®ƒã€‚</p>
<p>æ— è®ºå¦‚ä½•ï¼Œå½“è¿™ä¸ªå‡½æ•°æ‰§è¡Œå®Œæ¯•æ—¶ï¼Œæˆ‘ä»¬å°±æŠŠ <strong>Landmarker</strong> å¯¹è±¡å­˜å‚¨åœ¨äº†å­—æ®µå˜é‡ <strong><code>_landmarker</code></strong> ä¸­ã€‚</p>
<hr/>
<h2 data-id="heading-21">ğŸ§ æ£€æµ‹å§¿åŠ¿ (Detecting poses)</h2>
<p>è¿™å°±æ˜¯æ‰§è¡Œå®é™…å·¥ä½œçš„<strong>æ–¹æ³•</strong>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-meta">@override</span>  
Future&lt;PoseLandmarkerResult&gt; detect(Uint8List bytes) <span class="hljs-keyword">async</span> {  
<span class="hljs-keyword">final</span> el = <span class="hljs-keyword">await</span> _createImageFromBytes(bytes);  
<span class="hljs-comment">// ...  </span>
}
</code></pre>
<p>æˆ‘ä»¬é¦–å…ˆä½¿ç”¨å­—èŠ‚æ•°æ®åˆ›å»ºä¸€ä¸ª <strong><code>HTMLImageElement</code></strong> å…ƒç´ ï¼Œå› ä¸ºè¿™æ˜¯ MediaPipe çš„ <strong><code>detect</code> å‡½æ•°å®é™…æ¥å—</strong>çš„è¾“å…¥ç±»å‹ã€‚æˆ‘ä»¬è¿™æ ·åšï¼š</p>
<pre><code class="hljs language-dart" lang="dart">
Future&lt;web.HTMLImageElement&gt; _createImageFromBytes(Uint8List bytes) <span class="hljs-keyword">async</span> {
  <span class="hljs-keyword">final</span> completer = Completer();

  <span class="hljs-keyword">final</span> blob = web.Blob(
    [bytes.toJS].toJS,
    web.BlobPropertyBag(type: _detectImageFormat(bytes)),
  );
  <span class="hljs-keyword">final</span> imageUrl = web.URL.createObjectURL(blob);
  <span class="hljs-keyword">final</span> el = web.<span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'img'</span>) <span class="hljs-keyword">as</span> web.HTMLImageElement;

  el.onload = () {
    web.URL.revokeObjectURL(imageUrl);
    completer.complete();
  }.toJS;
  el.onerror = () {
    web.URL.revokeObjectURL(imageUrl);
    completer.completeError(<span class="hljs-string">'Cannot load the image.'</span>);
  }.toJS;

  el.src = imageUrl;
  <span class="hljs-keyword">await</span> completer.future;
  <span class="hljs-keyword">return</span> el;
}
</code></pre>
<h2 data-id="heading-22">ğŸ’¾ åˆ›å»º Blob å¯¹è±¡</h2>
<p>JavaScript çš„ <strong><code>Blob</code></strong>ï¼ˆBinary Large Objectï¼ŒäºŒè¿›åˆ¶å¤§å¯¹è±¡ï¼‰æ„é€ å‡½æ•°æ¥å—ä¸€ä¸ª<strong>äºŒç»´å­—èŠ‚æ•°ç»„</strong>ã€‚å› æ­¤ï¼Œæˆ‘ä»¬é¦–å…ˆå¯¹ <code>Uint8List</code> è°ƒç”¨ <strong><code>.toJS</code></strong>ï¼Œå°†å…¶è½¬æ¢ä¸ºä¸€ä¸ª JavaScript æ•°ç»„ã€‚è®¸å¤š Dart ç±»å‹éƒ½æœ‰è¿™ä¸ª getter æ–¹æ³•ï¼Œç”¨äºç”Ÿæˆå¯ä»¥ä¼ é€’ç»™ JavaScript å‡½æ•°çš„æ•°æ®ã€‚æ¥ç€ï¼Œæˆ‘ä»¬å°†è¿™ä¸ªæ•°ç»„åŒ…è£…åˆ°å¦ä¸€ä¸ªåˆ—è¡¨ä¸­ï¼Œå¹¶ä¹Ÿå°†å…¶è½¬æ¢ä¸º JavaScript æ•°ç»„ã€‚</p>
<p>ç„¶åï¼Œæˆ‘ä»¬é€šè¿‡è¯»å–å‰å‡ ä¸ªå­—èŠ‚æ¥ç¡®å®šå›¾åƒç±»å‹ï¼Œè¿™é‡Œæˆ‘å°†è·³è¿‡ <code>_detectImageFormat</code> å‡½æ•°çš„ç»†èŠ‚ã€‚</p>
<hr/>
<h2 data-id="heading-23">ğŸ”— ç”Ÿæˆ Blob URL</h2>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦ç”Ÿæˆä¸€ä¸ª URL æ¥è®¾ç½®ç»™æˆ‘ä»¬çš„ <code>img</code> å¯¹è±¡ï¼Œå› ä¸ºè¿™æ˜¯å°†å›¾åƒæ”¾å…¥ HTML å…ƒç´ çš„<strong>å”¯ä¸€æ–¹å¼</strong>ã€‚</p>
<p>è¿™é‡Œæ¶‰åŠåˆ°ä¸€ä¸ªæ¦‚å¿µå«åš <strong>Blob URL</strong>ã€‚æˆ‘ä»¬åŸºæœ¬ä¸Šæ˜¯åœ¨å‘Šè¯‰æµè§ˆå™¨ï¼šâ€œ<strong>å˜¿ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ <code>img</code> å…ƒç´ ä¸­æ˜¾ç¤ºè¿™äº›å­—èŠ‚ã€‚è¯·ç»™æˆ‘ä»¬ä¸€ä¸ªæŒ‡å‘å®ƒä»¬çš„è™šæ‹Ÿ URLã€‚</strong> â€</p>
<p>æµè§ˆå™¨éšåä¼šå°†è¿™äº›å­—èŠ‚å­˜å‚¨åˆ°æŸä¸ªå†…éƒ¨è¡¨ä¸­ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªçœ‹èµ·æ¥åƒè¿™æ ·çš„ URLï¼š</p>
<p>blob:<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A40000%2Ffd108f07-5e55-43d1-b5cd-691b973c03d6" target="_blank" title="http://localhost:40000/fd108f07-5e55-43d1-b5cd-691b973c03d6" ref="nofollow noopener noreferrer">http://localhost:40000/fd108f07-5e55-43d1-b5cd-691b973c03d6</a></p>
<p>è¿™ä¸ª URL æ˜¯<strong>å½“å‰æµè§ˆå™¨ä¼šè¯ç§æœ‰</strong>çš„ï¼Œå¯ä»¥ç”¨äºè·å–å›¾åƒã€‚æœ‰è¶£çš„æ˜¯ï¼Œä½ ç”šè‡³å¯ä»¥åœ¨å¦ä¸€ä¸ªæ ‡ç­¾é¡µä¸­æ‰“å¼€å®ƒï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1423a3ef99014683a3164ef27a3f18bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmFydmFuTW8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763600595&amp;x-signature=g7lQWqdJAZkHKobdsYZK5IKL8Cg%3D" alt="åœ¨ä¸€ä¸ªé¡µé¢ä¸Šåˆ›å»ºçš„ Blob URL å¯ä»¥åœ¨å¦ä¸€ä¸ªæ ‡ç­¾é¡µä¸­æ‰“å¼€ã€‚" loading="lazy"/></p>
<p>æ€»ä¹‹ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª <strong><code>img</code> å…ƒç´ </strong>ï¼Œå¹¶å°†å…¶ <strong><code>src</code></strong> å±æ€§è®¾ç½®ä¸ºé‚£ä¸ª URLã€‚ç°åœ¨ï¼Œæˆ‘ä»¬éœ€è¦<strong>ç­‰å¾…å®ƒåŠ è½½å®Œæˆ</strong>ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®ä»¥ä¸‹è¿™äº›<strong>ç›‘å¬å™¨</strong>ï¼š</p>
<pre><code class="hljs language-js" lang="js">el.<span class="hljs-property">onload</span> = () {  
web.<span class="hljs-property">URL</span>.<span class="hljs-title function_">revokeObjectURL</span>(imageUrl);  
completer.<span class="hljs-title function_">complete</span>();  
}.<span class="hljs-property">toJS</span>;  
el.<span class="hljs-property">onerror</span> = () {  
web.<span class="hljs-property">URL</span>.<span class="hljs-title function_">revokeObjectURL</span>(imageUrl);  
completer.<span class="hljs-title function_">completeError</span>(<span class="hljs-string">'Cannot load the image.'</span>);  
}.<span class="hljs-property">toJS</span>;
</code></pre>
<p>è¿™ä¸¤ä¸ªç›‘å¬å™¨ï¼ˆ<code>onload</code> å’Œ <code>onerror</code>ï¼‰éƒ½ä¼šä½¿ <strong><code>Completer</code> å®Œæˆ</strong>ï¼Œè¿™æ ·å‡½æ•°å°±å¯ä»¥è¿”å›<strong>å‡†å¤‡å°±ç»ªçš„ <code>img</code> å…ƒç´ </strong>ï¼Œæˆ–è€…<strong>å› é”™è¯¯è€Œä¸­æ–­</strong>ã€‚</p>
<p>å®ƒä»¬ä¹Ÿéƒ½<strong>æ¸…ç†</strong>ï¼ˆdisposeï¼‰äº† URLï¼Œè¿™æ ·å®ƒå°±ä¸ä¼šæµªè´¹æµè§ˆå™¨çš„å†…å­˜ã€‚æ¯•ç«Ÿï¼Œæˆ‘ä»¬å°†åœ¨<strong>æ¯ä¸€å¸§</strong>éƒ½æ‰§è¡Œè¿™ä¸ªæ“ä½œã€‚</p>
<p>è¯·æ³¨æ„ï¼Œå½“æˆ‘ä»¬å‘ä»»ä½• JavaScript ä¾‹ç¨‹ä¼ é€’ Dart å‡½æ•°æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ <strong><code>.toJS</code> getter</strong> å°†å…¶è½¬æ¢ä¸º<strong>å¸¸è§„çš„ JavaScript å‡½æ•°</strong>ã€‚</p>
<p>å½“æˆ‘ä»¬æ‹¿åˆ° <code>img</code> å…ƒç´ åï¼Œå°±å¯ä»¥ç»§ç»­è¿›è¡Œ <strong><code>detect</code> å‡½æ•°</strong>çš„æ“ä½œäº†ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">import</span> <span class="hljs-string">'src/interop/pose_landmarker_result.dart'</span> <span class="hljs-keyword">as</span> js_plr;

<span class="hljs-comment">// ...</span>

  <span class="hljs-meta">@override</span>
  Future&lt;PoseLandmarkerResult&gt; detect(Uint8List bytes) <span class="hljs-keyword">async</span> {
    PoseLandmarkerResult r = PoseLandmarkerResult.empty();
    <span class="hljs-keyword">final</span> el = <span class="hljs-keyword">await</span> _createImageFromBytes(bytes);

    _landmarker!.detect(
      el,
      (js_plr.PoseLandmarkerResult? result) {
        r = result?.toDart ?? PoseLandmarkerResult.empty();
      }.toJS,
    );

    <span class="hljs-keyword">return</span> r;
  }
</code></pre>
<h2 data-id="heading-24">ğŸ”„ å¤„ç†å¼‚æ­¥æ£€æµ‹ç»“æœ</h2>
<p>è¯·æ³¨æ„ï¼ŒJavaScript çš„ <strong><code>detect</code> å‡½æ•°å¹¶ä¸ä¼šç›´æ¥è¿”å›ç»“æœ</strong>ã€‚ç›¸åï¼Œæˆ‘ä»¬ä¼šå‘å®ƒä¼ é€’ä¸€ä¸ª<strong>å›è°ƒå‡½æ•°</strong>ï¼ˆcallbackï¼‰ï¼Œæ•°æ®å‡†å¤‡å¥½åä¼šé€šè¿‡è¿™ä¸ªå›è°ƒå‡½æ•°è¢«è°ƒç”¨ã€‚</p>
<p>è¿™ç§è®¾è®¡å…è®¸è¯¥å‡½æ•°åœ¨å›è°ƒè¿”å›æ—¶<strong>é‡Šæ”¾èµ„æº</strong>ï¼Œè¿™æœ‰å¯èƒ½<strong>æ”¹è¿›åƒåœ¾å›æ”¶æœºåˆ¶ (garbage collection)</strong> ã€‚ä½†åœ¨å®è·µä¸­ï¼Œæˆ‘æ³¨æ„åˆ°è¯¥å¯¹è±¡åœ¨å›è°ƒå®Œæˆåä»ç„¶å­˜åœ¨ï¼Œä¸è¿‡æˆ‘ä»¬ä¸èƒ½ä¾èµ–è¿™ç§ç°è±¡ã€‚æˆ‘ä»¬å¿…é¡»å°† JavaScript è¿”å›çš„ç»“æœå¯¹è±¡<strong>è½¬æ¢</strong>æˆæˆ‘ä»¬å®šä¹‰çš„é‚£ä¸ª<strong>å¹³å°æ— å…³</strong>çš„å¯¹è±¡ï¼ˆå³æˆ‘ä»¬åœ¨ç¬¬äºŒä¸ª package ä¸­å®šä¹‰çš„ç±»å‹ï¼‰ã€‚</p>
<p>è‡³æ­¤ï¼Œ<strong>æ‰€æœ‰ package çš„ä»£ç å°±å®Œæˆäº†ï¼</strong></p>
<hr/>
<h2 data-id="heading-25">ğŸ”— æ•´åˆ Packages (Tying the packages together)</h2>
<p>Web å®ç° package éœ€è¦åœ¨å…¶ <strong><code>pubspec.yaml</code></strong> æ–‡ä»¶ä¸­<strong>å£°æ˜</strong>å®ƒåŒ…å«ä¸€ä¸ªæ’ä»¶å®ç°ï¼Œè¿™æ · Flutter æ‰çŸ¥é“<strong>å¯åŠ¨æ—¶åº”è¯¥è°ƒç”¨å“ªä¸ªæ–¹æ³•</strong>æ¥ç½®æ¢ï¼ˆswap inï¼‰è¿™ä¸ªå®ç°ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">flutter:</span>
  <span class="hljs-attr">plugin:</span>
    <span class="hljs-attr">platforms:</span>
      <span class="hljs-attr">web:</span>
        <span class="hljs-attr">pluginClass:</span> <span class="hljs-string">FlutterMediapipeVisionWeb</span>
        <span class="hljs-attr">fileName:</span> <span class="hljs-string">flutter_mediapipe_vision_web.dart</span>
</code></pre>
<p>å¹³å°æ¥å£ï¼ˆplatform interfaceï¼‰éœ€è¦åœ¨å…¶ä»£ç ä¸­<strong>å£°æ˜</strong>å®ƒçš„<strong>èµ„æº</strong>ï¼ˆassetsï¼‰ï¼Œè¿™æ ·åœ¨ä½¿ç”¨å®ƒçš„åº”ç”¨çš„æœ€ç»ˆæ„å»ºä¸­ï¼Œè¿™äº›èµ„æºæ‰èƒ½è¢«<strong>æ‰“åŒ…</strong>è¿›å»ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">flutter:</span>
  <span class="hljs-attr">assets:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">assets/models/pose_landmarker_lite.task</span>
</code></pre>
<p>è€Œ<strong>é¢å‘ç”¨æˆ·çš„ package</strong> éœ€è¦<strong>æ­£å¼è®¤å¯</strong>ï¼ˆæˆ–â€œæ¨èä½¿ç”¨â€ï¼‰è¿™ä¸ªæ’ä»¶ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">flutter:</span>
  <span class="hljs-attr">plugin:</span>
    <span class="hljs-attr">platforms:</span>
      <span class="hljs-attr">web:</span>
        <span class="hljs-attr">default_package:</span> <span class="hljs-string">flutter_mediapipe_vision_web</span>
</code></pre>
<h2 data-id="heading-26">ğŸ“± åº”ç”¨</h2>
<h3 data-id="heading-27">ğŸ“¹ æ˜¾ç¤ºæ‘„åƒå¤´è§†é¢‘ (Showing the camera video)</h3>
<p>æˆ‘ä»¬éœ€è¦åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯åœ¨å±å¹•ä¸Šæ˜¾ç¤ºæ¥è‡ª<strong>æ‘„åƒå¤´</strong>çš„è§†é¢‘æµã€‚è®©æˆ‘ä»¬åˆ›å»ºå¹¶åˆå§‹åŒ–<strong>æ‘„åƒå¤´æ§åˆ¶å™¨</strong>ï¼Œç„¶åæ˜¾ç¤º <strong><code>CameraPreview</code></strong> ç»„ä»¶ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">import</span> <span class="hljs-string">'package:camera/camera.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/material.dart'</span>;

<span class="hljs-keyword">late</span> CameraController cameraController;

Future&lt;<span class="hljs-keyword">void</span>&gt; main() <span class="hljs-keyword">async</span> {
  WidgetsFlutterBinding.ensureInitialized();
  <span class="hljs-keyword">await</span> FlutterMediapipeVision.ensureInitialized();

  cameraController = CameraController(
    (<span class="hljs-keyword">await</span> availableCameras()).first,
    ResolutionPreset.low,
    enableAudio: <span class="hljs-keyword">false</span>,
  );
  <span class="hljs-keyword">await</span> cameraController.initialize();

  runApp(<span class="hljs-keyword">const</span> MyApp());
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">const</span> MyApp({<span class="hljs-keyword">super</span>.key});

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> MaterialApp(
      home: Scaffold(
        appBar: AppBar(title: Text(<span class="hljs-string">'MediaPipe demo'</span>)),
        body: Center(
          child: CameraPreview(cameraController),
        ),
      ),
    );
  }
}
</code></pre>
<h2 data-id="heading-28">ğŸ“¹ æœ€å°åŒ–åº”ç”¨ç¤ºä¾‹</h2>
<p>è¿™æ˜¯ä¸€ä¸ªåœ¨å±å¹•ä¸Šæ˜¾ç¤ºæ‘„åƒå¤´è§†é¢‘çš„<strong>æœ€å°åŒ–åº”ç”¨</strong>ã€‚å®ƒå¹¶ä¸å®Œç¾ï¼Œå› ä¸ºå®ƒä¼šåœ¨æ˜¾ç¤ºä»»ä½•å†…å®¹ä¹‹å‰<strong>é˜»å¡</strong>ï¼ˆblockï¼‰ï¼Œç›´åˆ°è·å¾—ä½¿ç”¨æ‘„åƒå¤´çš„<strong>æƒé™</strong>ï¼Œå¹¶ä¸”å¦‚æœè®¿é—®è¢«æ‹’ç»ï¼Œå®ƒä¹Ÿ<strong>ä¸ä¼šé‡è¯•</strong>ã€‚ä½†å®ƒèƒ½å®Œæˆå·¥ä½œï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c4cb17ddfa074f5c9e90274799dd25b8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmFydmFuTW8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763600595&amp;x-signature=XzkorvTkVMJTNk57N8J%2B5kyMA4Y%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-29">ğŸ“¸ æ•è·å’Œåˆ†æé™æ­¢å›¾åƒ (Capturing and analyzing stills)</h2>
<p>è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª<strong>æ§åˆ¶å™¨</strong>æ¥è¿›è¡Œè¯†åˆ«ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">InferenceController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ChangeNotifier</span> </span>{
  <span class="hljs-keyword">final</span> CameraController cameraController;

  PoseLandmarkerResult <span class="hljs-keyword">get</span> lastResult =&gt; _lastResult;
  PoseLandmarkerResult _lastResult = PoseLandmarkerResult.empty();

  InferenceController({<span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.cameraController});

  Future&lt;<span class="hljs-keyword">void</span>&gt; start() <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">while</span> (<span class="hljs-keyword">true</span>) {
      <span class="hljs-keyword">await</span> _tick();
    }
  }

  Future&lt;<span class="hljs-keyword">void</span>&gt; _tick() <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">final</span> file = <span class="hljs-keyword">await</span> cameraController.takePicture();
    <span class="hljs-keyword">final</span> bytes = <span class="hljs-keyword">await</span> file.readAsBytes();

    _lastResult = <span class="hljs-keyword">await</span> FlutterMediapipeVision.detect(bytes);
    notifyListeners();
  }
}
</code></pre>
<h2 data-id="heading-30">ğŸƒ å¯åŠ¨ä¸å¾ªç¯ (Starting the Recognition)</h2>
<p>ä¸€æ—¦è°ƒç”¨äº† <strong><code>start()</code></strong> å‡½æ•°ï¼Œå®ƒå°±ä¼š<strong>æ°¸è¿œè¿è¡Œä¸‹å»</strong>ã€‚è¿™å¯¹äº<strong>ç§»åŠ¨è®¾å¤‡</strong>æ¥è¯´ä¸å¤ªç†æƒ³ï¼ˆå› ä¸ºåº”ç”¨å¯èƒ½ä¼šè¢«ç³»ç»Ÿä»å†…å­˜ä¸­æ¸…é™¤ï¼‰ï¼Œä½†å¯¹äºè¿™ä¸ª<strong>æœ€å°åŒ–çš„ Web ç‰ˆæœ¬</strong>æ¥è¯´æ˜¯å¯ä»¥æ¥å—çš„ã€‚</p>
<p>åœ¨å¾ªç¯ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <strong><code>cameraController.takePicture()</code></strong> æ•è·ä¸€å¸§å›¾åƒï¼Œç„¶åå°†å…¶ä½œä¸º<strong>å­—èŠ‚æ•°æ®</strong>ä¼ é€’ç»™æˆ‘ä»¬çš„æ’ä»¶ï¼Œå¹¶è·å–ç»è¿‡åˆ†æçš„<strong>ç»“æœ</strong>ã€‚</p>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬åœ¨ <strong><code>main()</code></strong> å‡½æ•°ä¸­åˆ›å»ºè¿™ä¸ªæ§åˆ¶å™¨ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">late</span> InferenceController inferenceController; <span class="hljs-comment">// CHANGED</span>

Future&lt;<span class="hljs-keyword">void</span>&gt; main() <span class="hljs-keyword">async</span> {
  WidgetsFlutterBinding.ensureInitialized();
  <span class="hljs-keyword">await</span> FlutterMediapipeVision.ensureInitialized();

  <span class="hljs-keyword">final</span> cameraController = CameraController(
    (<span class="hljs-keyword">await</span> availableCameras()).first,
    ResolutionPreset.low,
    enableAudio: <span class="hljs-keyword">false</span>,
  );
  <span class="hljs-keyword">await</span> cameraController.initialize();

  <span class="hljs-comment">// NEW:</span>
  inferenceController = InferenceController(cameraController: cameraController);
  unawaited(inferenceController.start());

  runApp(<span class="hljs-keyword">const</span> MyApp());
}
</code></pre>
<h2 data-id="heading-31">ğŸ¦´ æ˜¾ç¤ºéª¨æ¶è¦†ç›–å±‚ (Showing the skeleton overlay)</h2>
<p>è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª <strong><code>CameraOverlayWidget</code></strong> ç»„ä»¶æ¥å®Œæˆè¿™é¡¹å·¥ä½œï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CameraOverlayWidget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">final</span> InferenceController inferenceController;

  <span class="hljs-keyword">const</span> CameraOverlayWidget({<span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.inferenceController});

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> ListenableBuilder(
        listenable: inferenceController,
        child: CameraPreview(inferenceController.cameraController),
        builder: (context, child) {
          <span class="hljs-keyword">return</span> CustomPaint(
            foregroundPainter: CameraOverlayPainter(
              inferenceController: inferenceController,
            ),
            willChange: <span class="hljs-keyword">true</span>,
            child: child,
          );
        }
    );
  }
}
</code></pre>
<h2 data-id="heading-32">ğŸ‘‚ ç›‘å¬ä¸é‡ç»˜ (Listening and Rebuilding)</h2>
<p>è¿™ä¸ªç»„ä»¶<strong>ç›‘å¬</strong>æ¥è‡ªæ§åˆ¶å™¨çš„<strong>é€šçŸ¥</strong>ï¼Œå¹¶åœ¨æ¯æ¬¡æ”¶åˆ°é€šçŸ¥æ—¶è¿›è¡Œ<strong>é‡å»º</strong>ï¼ˆrebuildsï¼‰ã€‚</p>
<p>è¯·æ³¨æ„ï¼Œæˆ‘ä»¬åœ¨ <strong><code>builder</code> å‡½æ•°çš„å¤–éƒ¨</strong>åˆ›å»ºäº† <strong><code>CameraPreview</code></strong> ç»„ä»¶ï¼Œå¹¶å°†å…¶ä½œä¸º <strong><code>child</code></strong> ä¼ é€’ç»™ <strong><code>ListenableBuilder</code></strong>ã€‚è¿™æ ·åšå¯ä»¥å°† <strong><code>CameraPreview</code></strong> <strong>æ’é™¤åœ¨é‡å»ºè¿‡ç¨‹ä¹‹å¤–</strong>ï¼Œä»è€Œä½¿æ€§èƒ½ç¨å¾®å¿«ä¸€äº›ã€‚</p>
<hr/>
<h2 data-id="heading-33">ğŸ¨ è‡ªå®šä¹‰ç»˜åˆ¶ (Custom Painting)</h2>
<p><strong><code>CustomPaint</code></strong> ç»„ä»¶ä½¿ç”¨ <strong><code>foregroundPainter</code></strong> åœ¨ <strong><code>child</code></strong> ç»„ä»¶çš„<strong>ä¸Šæ–¹è¦†ç›–ä¸€å±‚</strong>è¿›è¡Œç»˜åˆ¶ã€‚</p>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ¥åˆ›å»ºè¿™ä¸ª <strong><code>CameraOverlayPainter</code></strong>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CameraOverlayPainter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">CustomPainter</span> </span>{
  <span class="hljs-keyword">final</span> InferenceController inferenceController;

  <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> _paint = Paint()
    ..color = Colors.white
    ..isAntiAlias = <span class="hljs-keyword">true</span>
    ..style = PaintingStyle.fill
    ..strokeWidth = <span class="hljs-number">5</span>;
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> _pointRadius = <span class="hljs-number">5.0</span>;

  CameraOverlayPainter({<span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.inferenceController});

  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> paint(Canvas canvas, Size size) {
    _paintPose(canvas, size);
  }

  <span class="hljs-keyword">void</span> _paintPose(Canvas canvas, Size size) {
    <span class="hljs-keyword">final</span> pose = inferenceController.lastResult.landmarks.firstOrNull;
    <span class="hljs-keyword">if</span> (pose == <span class="hljs-keyword">null</span>) {
      <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-keyword">final</span> leftShoulder = pose[Points.leftShoulder].offset.timesSize(size);
    <span class="hljs-keyword">final</span> rightShoulder = pose[Points.rightShoulder].offset.timesSize(size);
    <span class="hljs-comment">// Same for every point.</span>

    _paintLine(canvas, leftShoulder, rightShoulder);
    <span class="hljs-comment">// Same for every line.</span>

    _paintPoint(canvas, leftShoulder);
    _paintPoint(canvas, rightShoulder);
    <span class="hljs-comment">// Same for every point.</span>
  }

  <span class="hljs-keyword">void</span> _paintPoint(Canvas canvas, Offset offset) {
    canvas.drawCircle(offset, _pointRadius, _paint);
  }

  <span class="hljs-keyword">void</span> _paintLine(Canvas canvas, Offset pt1, Offset pt2) {
    canvas.drawLine(pt1, pt2, _paint);
  }

  <span class="hljs-meta">@override</span>
  <span class="hljs-built_in">bool</span> shouldRepaint(<span class="hljs-keyword">covariant</span> CustomPainter oldDelegate) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
  }
}

<span class="hljs-keyword">extension</span> <span class="hljs-keyword">on</span> Offset {
  Offset timesSize(Size size) =&gt; Offset(dx * size.width, dy * size.height);
}

<span class="hljs-keyword">abstract</span> <span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Points</span> </span>{
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> leftShoulder = <span class="hljs-number">11</span>;
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> rightShoulder = <span class="hljs-number">12</span>;
  <span class="hljs-comment">// Same for every point.</span>
}
</code></pre>
<h2 data-id="heading-34">ğŸ¨ éª¨æ¶ç»˜åˆ¶é€»è¾‘</h2>
<p>è¿™ä¸ªç±»ï¼ˆ<code>CameraOverlayPainter</code>ï¼‰åªæ˜¯ä»è¯†åˆ«ç»“æœä¸­<strong>é€‰å–æ‰€æœ‰å…´è¶£ç‚¹</strong>ï¼ˆpoints of interestï¼‰ï¼Œå¹¶ç”¨çº¿æ¡<strong>è¿æ¥ç›¸é‚»çš„ç‚¹</strong>ã€‚</p>
<p>ç”±äºåæ ‡æ˜¯ä» <strong>0 åˆ° 1</strong> çš„<strong>å½’ä¸€åŒ–å€¼</strong>ï¼Œæ‰€ä»¥å®ƒå°†è¿™äº›åæ ‡ä¹˜ä»¥ <strong><code>size</code></strong>â€”â€”ä¸€ä¸ªæŒæœ‰å½“å‰ç»„ä»¶å°ºå¯¸çš„å‚æ•°ã€‚å› ä¸ºè¿™ä¸ªè¦†ç›–å±‚ï¼ˆoverlayï¼‰ä¸æ‘„åƒå¤´é¢„è§ˆæ˜¯<strong>ç›¸åŒå°ºå¯¸</strong>çš„ï¼Œæ‰€ä»¥ä¸€åˆ‡éƒ½æ°åˆ°å¥½å¤„ã€‚</p>
<hr/>
<h2 data-id="heading-35">ğŸ‰ æœ€ç»ˆæˆæœ</h2>
<p>è¿™æœ€ç»ˆä¸ºæˆ‘ä»¬å®ç°äº†æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/341325465bb74197a32042037f572606~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmFydmFuTW8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763600595&amp;x-signature=zdjQxj%2BHaQhcy1admKRmNKjqTrQ%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-36">ğŸš€ å†æ¬¡å±•ç¤ºå·²éƒ¨ç½²çš„æ¼”ç¤º (Deployed Demo Once Again)</h2>
<p>è¿™æ˜¯å·²éƒ¨ç½²çš„æ¼”ç¤ºåº”ç”¨é“¾æ¥ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Falexeyinkin.github.io%2Fflutter-mediapipe%2F" target="_blank" title="https://alexeyinkin.github.io/flutter-mediapipe/" ref="nofollow noopener noreferrer">alexeyinkin.github.io/flutter-medâ€¦</a></p>
<hr/>
<h2 data-id="heading-37">ğŸŒ æµè§ˆå™¨å…¼å®¹æ€§ (Browser compatibility)</h2>
<ul>
<li>åœ¨ <strong>Chrome æµè§ˆå™¨</strong>ä¸­è¿è¡Œè‰¯å¥½ã€‚</li>
<li>åœ¨ <strong>Firefox 144</strong> ä¸­ï¼Œå®ƒç”±äºä¸€ä¸ª <strong>camera package çš„ bug</strong> è€Œå´©æºƒï¼Œæˆ‘å¾ˆå¿«ä¼šå®šä½å¹¶æäº¤è¿™ä¸ªé—®é¢˜ã€‚</li>
<li>åœ¨ <strong>Safari æµè§ˆå™¨</strong>ä¸­ï¼Œå®ƒå°±æ˜¯æ— æ³•è¿è¡Œï¼Œ<strong>æ²¡æœ‰ä»»ä½•æ˜æ˜¾çš„ç—‡çŠ¶æˆ–é”™è¯¯ä¿¡æ¯</strong>ã€‚å¦‚æœä½ çŸ¥é“é—®é¢˜å‡ºåœ¨å“ªé‡Œï¼Œè¯·å‘Šè¯‰æˆ‘ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[HarmonyOS preview é¢„è§ˆæ–‡ä»¶ Kit çš„å…¥é—¨è®²è§£]]></title>    <link>https://juejin.cn/post/7571650164844462114</link>    <guid>https://juejin.cn/post/7571650164844462114</guid>    <pubDate>2025-11-13T00:27:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571650164844462114" data-draft-id="7571650164844445730" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="HarmonyOS preview é¢„è§ˆæ–‡ä»¶ Kit çš„å…¥é—¨è®²è§£"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-13T00:27:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸‡å°‘"/> <meta itemprop="url" content="https://juejin.cn/user/4441682708283191"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            HarmonyOS preview é¢„è§ˆæ–‡ä»¶ Kit çš„å…¥é—¨è®²è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4441682708283191/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸‡å°‘
  </span> <!----> <!----> <div class="vip-level" data-v-cd7d0a50="" data-v-292f6e48=""><span class="tooltip" data-v-cd7d0a50=""><div class="byte-tooltip byte-tooltip--dark" style="display:none;">
        VIP.5 å¦‚é±¼å¾—æ°´
      </div><span class="byte-tooltip__wrapper"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC" alt="VIP.5 å¦‚é±¼å¾—æ°´" title="VIP.5 å¦‚é±¼å¾—æ°´" class="lazy" style="aspect-ratio:NaN;" data-v-5244ef91="" data-v-cd7d0a50=""/></span></span></div> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T00:27:59.000Z" title="Thu Nov 13 2025 00:27:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"/>
<p>æœ¬æ–‡ä»¥å®é™…å·¥ç¨‹ä¸ºä¾‹ï¼Œå¿«é€Ÿä¸Šæ‰‹ HarmonyOSÂ <strong>å…ƒæœåŠ¡</strong>Â çš„æ–‡ä»¶é¢„è§ˆèƒ½åŠ›ï¼ˆPreviewKitï¼‰ï¼Œå¹¶é…å¥—ä¸€ä¸ªåç«¯ç”¨äºæä¾›ç¤ºä¾‹æ–‡ä»¶ã€‚ç¤ºä¾‹å·¥ç¨‹è·¯å¾„ï¼š</p>
<ul>
<li>å®¢æˆ·ç«¯ï¼ˆHarmonyOS ç«¯ï¼‰ï¼š<code>client</code></li>
<li>åç«¯ï¼ˆNode.jsï¼‰ï¼š<code>server</code></li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/483497220a0e4dab90956bf83e31c2b8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763598479&amp;x-signature=8Glr9vfT23NNTaxvWoJD0GcGCQo%3D" alt="image-20251112090708795" loading="lazy"/></p>
<p>image-20251112090708795</p>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/509d3edb0c894064a95fa57bc8455e7f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763598479&amp;x-signature=Pr%2BoGCJw90X%2BbVE60gOJf03Bmtk%3D" alt="image-20251112091151694" loading="lazy"/></p>
<p>image-20251112091151694</p>
<p>ä¸Šå›¾æ˜¯å°† 1ä¸ªpdfæ–‡ä»¶å’Œ3ä¸ªå›¾ç‰‡ä¸€èµ·é¢„è§ˆï¼Œé‚£ä¹ˆå°±åªä¼šç°å®ç¬¬1ä¸ªé¢„è§ˆçª—å£ã€‚</p>
<p><strong>ä¸‹å›¾æ˜¯ç§»é™¤pdfæ–‡ä»¶ï¼Œå°†3ä¸ªåŒç±»å‹çš„å›¾ç‰‡æ”¾åœ¨ä¸€èµ·é¢„è§ˆ</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bf61a49902b74a4eb3a63d5ddebce9d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763598479&amp;x-signature=dgmkow8C39Y8pshx%2Bc8aBXfvA6s%3D" alt="image-20251112091518239" loading="lazy"/></p>
<p>image-20251112091518239</p>
<hr/>
<p><strong>ä¸ºäº†æ–¹ä¾¿æ¼”ç¤ºåŠŸèƒ½ï¼Œéœ€è¦å…ˆå°†ä¸€äº›å¯ä»¥é¢„è§ˆçš„æ–‡ä»¶ä¸‹è½½åˆ°å…ƒæœåŠ¡çš„æ²™ç®±å†…ï¼Œæ˜¯åŸºäºè¿™ä¸ªåŸå› æˆ‘ä»¬æ‰éœ€è¦å¼•å…¥åç«¯æ¥æ¨¡æ‹Ÿè¿™ä¸ªä¸‹è½½çš„ç¯å¢ƒï¼Œæ‰€ä»¥å…ƒæœåŠ¡å†…éœ€è¦å…ˆå®ç°ä¸‹è½½æ–‡ä»¶ï¼Œå­˜å‚¨åˆ°æ²™ç®±ï¼Œç„¶åå†ä½¿ç”¨é¢„è§ˆAPI filePreview.openPreviewé¢„è§ˆæ²™ç®±å†…çš„æ–‡ä»¶ã€‚</strong></p>
<h3 data-id="heading-1">1. å·¥ç¨‹ç»“æ„ä¸ç›®æ ‡</h3>
<ul>
<li><code>client/entry/src/main/ets/pages/Index.ets</code>ï¼šæ¼”ç¤ºå¹¶å‘ä¸‹è½½ 4 ä¸ªæ–‡ä»¶ï¼ˆ<code>1.pdf</code>ã€<code>1.png</code>ã€<code>2.png</code>ã€<code>3.png</code>ï¼‰å¹¶ä¸€æ¬¡æ€§é¢„è§ˆã€‚</li>
<li><code>server/index.js</code>Â ä¸Â <code>server/public/</code>ï¼šæä¾›é™æ€æ–‡ä»¶ä¸‹è½½æ¥å£Â <code>/file/:filename</code>ã€‚</li>
</ul>
<p>ç›®æ ‡ï¼š</p>
<ul>
<li>ç‚¹å‡»â€œä¸‹è½½â€æŒ‰é’®ï¼Œå¹¶å‘ä¸‹è½½ä¸Šè¿° 4 ä¸ªæ–‡ä»¶åˆ°åº”ç”¨æ²™ç®±ç›®å½•ã€‚</li>
<li>ä¸‹è½½æˆåŠŸåç‚¹å‡»â€œé¢„è§ˆâ€ï¼Œä¸€æ¬¡æ€§æ‰“å¼€æœ€å¤š 4 ä¸ªæ–‡ä»¶çš„é¢„è§ˆçª—å£ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-2">2. PreviewKit çš„æ ¸å¿ƒï¼šfilePreview.openPreview</h3>
<p>HarmonyOS æä¾›äº†é¢„è§ˆèƒ½åŠ›åŒ…Â <code>@kit.PreviewKit</code>ã€‚åœ¨ ETS ä»£ç ä¸­å¼•å…¥ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span>Â { filePreview }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'@kit.PreviewKit'</span>;
<span class="hljs-keyword">import</span>Â { fileUri }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'@kit.CoreFileKit'</span>;
</code></pre>
<p>æ ¸å¿ƒè°ƒç”¨æ˜¯ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å…ˆå‡†å¤‡å¤šä¸ªæ–‡ä»¶çš„é¢„è§ˆä¿¡æ¯</span>
<span class="hljs-keyword">const</span>Â <span class="hljs-attr">prewList</span>: filePreview.<span class="hljs-property">PreviewInfo</span>[] = []
<span class="hljs-keyword">for</span>Â (<span class="hljs-keyword">let</span>Â i =Â <span class="hljs-number">0</span>; i &lt; count; i++) {
Â Â <span class="hljs-keyword">const</span>Â item =Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastDownloadedList</span>[i];
Â Â <span class="hljs-keyword">const</span>Â <span class="hljs-attr">fileInfo</span>: filePreview.<span class="hljs-property">PreviewInfo</span> = {
Â  Â  <span class="hljs-attr">title</span>: item.<span class="hljs-property">name</span>, Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-comment">// é¢„è§ˆæ ‡é¢˜</span>
Â  Â  <span class="hljs-attr">uri</span>: fileUri.<span class="hljs-title function_">getUriFromPath</span>(item.<span class="hljs-property">path</span>), Â  Â  Â  Â  Â  Â <span class="hljs-comment">// å°†æ²™ç®±è·¯å¾„è½¬æˆ Uri</span>
Â  Â  <span class="hljs-attr">mimeType</span>: item.<span class="hljs-property">mime</span> ||Â <span class="hljs-string">'application/octet-stream'</span>,Â <span class="hljs-comment">// MIME ç±»å‹</span>
Â  };
Â  prewList.<span class="hljs-title function_">push</span>(fileInfo)
}

<span class="hljs-comment">// ä¸€æ¬¡æ€§æ‰“å¼€å¤šä¸ªé¢„è§ˆçª—å£</span>
filePreview.<span class="hljs-title function_">openPreview</span>(uiContext, prewList)
Â  .<span class="hljs-title function_">then</span>(<span class="hljs-function">()Â =&gt;</span>Â {
Â  Â Â <span class="hljs-comment">// æ‰“å¼€æˆåŠŸ</span>
Â  })
Â  .<span class="hljs-keyword">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span>Â {
Â  Â Â <span class="hljs-comment">// æ‰“å¼€å¤±è´¥å¤„ç†</span>
Â  });
</code></pre>
<p>è¯´æ˜ï¼š</p>
<ul>
<li><code>PreviewInfo</code>Â è‡³å°‘éœ€è¦Â <code>title</code>ã€<code>uri</code>ã€<code>mimeType</code>ã€‚</li>
<li><code>uri</code>Â ä½¿ç”¨Â <code>fileUri.getUriFromPath(æ²™ç®±æ–‡ä»¶è·¯å¾„)</code>Â æ„é€ ã€‚</li>
<li>æ”¯æŒä¸€æ¬¡æ€§ä¼ å…¥ä¸€ä¸ªÂ <code>PreviewInfo[]</code>ï¼Œå®ç°å¤šæ–‡ä»¶é¢„è§ˆã€‚</li>
</ul>
<blockquote>
<p>å›¾ç‰‡å ä½ï¼šè¯·è¡¥å……ä¸€æ¬¡æ€§é¢„è§ˆ 4 ä¸ªæ–‡ä»¶çš„çª—å£å¸ƒå±€æˆªå›¾ï¼Œæ ‡æ³¨çª—å£æ ‡é¢˜ä¸ MIME ç±»å‹å±•ç¤ºä½ç½®ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-3">3. å¹¶å‘ä¸‹è½½ä¸çŠ¶æ€åé¦ˆï¼ˆå®¢æˆ·ç«¯ï¼‰</h3>
<p>ç¤ºä¾‹ä½¿ç”¨Â <code>Promise.allSettled</code>Â å¹¶å‘ä¸‹è½½ 4 ä¸ªåç«¯æ–‡ä»¶ï¼Œå¹¶æŒ‰é¡¹å±•ç¤ºâ€œæˆåŠŸ/å¤±è´¥â€çŠ¶æ€ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// è®¡åˆ’ + çŠ¶æ€
@LocalÂ privateÂ plannedFiles: DownloadPlan<span class="hljs-section">[]</span> = <span class="hljs-section">[]</span><span class="hljs-comment">;</span>
@LocalÂ privateÂ itemStatuses:Â string<span class="hljs-section">[]</span> = <span class="hljs-section">[]</span><span class="hljs-comment">;</span>
@LocalÂ privateÂ isDownloading:Â <span class="hljs-attr">boolean</span>Â =Â <span class="hljs-literal">false</span><span class="hljs-comment">;</span>
@LocalÂ privateÂ statusMessage:Â <span class="hljs-attr">string</span>Â =Â <span class="hljs-string">''</span><span class="hljs-comment">;</span>

// åˆå§‹åŒ–è®¡åˆ’ï¼ˆaboutToAppearï¼‰
<span class="hljs-attr">this.plannedFiles</span> = [
Â Â newÂ DownloadPlan(<span class="hljs-string">'1.pdf'</span>,Â `<span class="hljs-variable">${this.serverBase}</span>/<span class="hljs-number">1</span>.pdf`),
Â Â newÂ DownloadPlan(<span class="hljs-string">'1.png'</span>,Â `<span class="hljs-variable">${this.serverBase}</span>/<span class="hljs-number">1</span>.png`),
Â Â newÂ DownloadPlan(<span class="hljs-string">'2.png'</span>,Â `<span class="hljs-variable">${this.serverBase}</span>/<span class="hljs-number">2</span>.png`),
Â Â newÂ DownloadPlan(<span class="hljs-string">'3.png'</span>,Â `<span class="hljs-variable">${this.serverBase}</span>/<span class="hljs-number">3</span>.png`)
]<span class="hljs-comment">;</span>
<span class="hljs-attr">this.itemStatuses</span> = [<span class="hljs-string">'æœªä¸‹è½½'</span>,<span class="hljs-string">'æœªä¸‹è½½'</span>,<span class="hljs-string">'æœªä¸‹è½½'</span>,<span class="hljs-string">'æœªä¸‹è½½'</span>]<span class="hljs-comment">;</span>

// ç‚¹å‡»â€œä¸‹è½½â€
<span class="hljs-attr">this.isDownloading</span> =Â <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
<span class="hljs-attr">this.statusMessage</span> =Â <span class="hljs-string">'ä¸‹è½½ä¸­...'</span><span class="hljs-comment">;</span>
<span class="hljs-attr">this.itemStatuses</span> =Â newÂ Array(this.plannedFiles.length).fill(<span class="hljs-string">'ä¸‹è½½ä¸­...'</span>)<span class="hljs-comment">;</span>

constÂ promises:Â Promise&lt;DownloadInfo&gt;<span class="hljs-section">[]</span> =Â this.plannedFiles.map(<span class="hljs-attr">p</span>Â =&gt;Â this.downloadFile(p.url))<span class="hljs-comment">;</span>
constÂ <span class="hljs-attr">settled</span> =Â awaitÂ Promise.allSettled(promises)<span class="hljs-comment">;</span>

// æ±‡æ€»ç»“æœå¹¶ä¸€æ¬¡æ€§è§¦å‘ UI åˆ·æ–°
constÂ successes: DownloadInfo<span class="hljs-section">[]</span> = <span class="hljs-section">[]</span><span class="hljs-comment">;</span>
constÂ nextStatuses:Â string<span class="hljs-section">[]</span> =Â newÂ Array(this.plannedFiles.length).fill('æœªä¸‹è½½')<span class="hljs-comment">;</span>
forÂ (letÂ <span class="hljs-attr">i</span> =Â <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; settled.length; i++) {</span>
Â Â constÂ <span class="hljs-attr">name</span> =Â this.plannedFiles[i].name<span class="hljs-comment">;</span>
Â Â constÂ <span class="hljs-attr">r</span> = settled[i]<span class="hljs-comment">;</span>
Â Â ifÂ (<span class="hljs-attr">r.status</span> ===Â <span class="hljs-string">'fulfilled'</span>) {
Â  Â  successes.push(r.value)<span class="hljs-comment">;</span>
Â  Â  nextStatuses<span class="hljs-section">[i]</span> =Â `âœ“ ä¸‹è½½æˆåŠŸï¼š${name}`<span class="hljs-comment">;</span>
Â  }Â elseÂ {
Â  Â  nextStatuses<span class="hljs-section">[i]</span> =Â `âœ— ä¸‹è½½å¤±è´¥ï¼š${name}ï¼ˆ${this.errorToString(r.reasonÂ asÂ Object)}ï¼‰`<span class="hljs-comment">;</span>
Â  }
}
<span class="hljs-attr">this.itemStatuses</span> = nextStatuses<span class="hljs-comment">;Â // é‡æ–°èµ‹å€¼ä»¥è§¦å‘ UI åˆ·æ–°</span>
<span class="hljs-attr">this.lastDownloadedList</span> = successes<span class="hljs-comment">;</span>
<span class="hljs-attr">this.isDownloading</span> =Â <span class="hljs-literal">false</span><span class="hljs-comment">;</span>
</code></pre>
<p>UI æ¸²æŸ“å»ºè®®ï¼š</p>
<ul>
<li>ä½¿ç”¨Â <code>ForEach(this.plannedFiles, ...)</code>Â åŠ¨æ€æ¸²æŸ“çŠ¶æ€è¡Œï¼Œé¿å…ç¡¬ç¼–ç ç´¢å¼•ã€‚</li>
<li>å°†ä¸ UI ç»‘å®šçš„å­—æ®µç”¨Â <code>@Local</code>Â æˆ–Â <code>@State</code>Â ä¿®é¥°ï¼Œå¹¶â€œé‡æ–°èµ‹å€¼æ•°ç»„â€ä»¥è§¦å‘åˆ·æ–°ï¼ˆä¸è¦åœ¨åŸæ•°ç»„ä¸Šå°±åœ°ä¿®æ”¹å…ƒç´ ï¼‰ã€‚</li>
</ul>
<blockquote>
<p>å›¾ç‰‡å ä½ï¼šè¯·è¡¥å……â€œä¸‹è½½ä¸­â†’æˆåŠŸ/å¤±è´¥â€é€é¡¹çŠ¶æ€å˜åŒ–çš„æˆªå›¾ï¼Œä¾¿äºè¯»è€…ç†è§£å“åº”å¼åˆ·æ–°ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-4">4. HTTP ä¸‹è½½çš„ç»†èŠ‚ä¸ ArkTS é™åˆ¶è§„é¿</h3>
<ul>
<li>MIME ä¸æ‰©å±•åï¼šç¤ºä¾‹é€šè¿‡æ‰©å±•åæ¨æ–­ MIMEï¼Œè‹¥æ‰©å±•åç¼ºå¤±åˆ™ä»å“åº”å¤´çš„Â <code>Content-Type</code>Â æ¨æ–­ã€‚</li>
<li>ArkTS é™åˆ¶ï¼šä¸å»ºè®®ç›´æ¥Â <code>data.header['Content-Type']</code>Â ç´¢å¼•ï¼›ç¤ºä¾‹ä½¿ç”¨åºåˆ—åŒ– + æ­£åˆ™æ–¹å¼æå–é¿å… ArkTS ç´¢å¼•é™åˆ¶ã€‚</li>
</ul>

<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// é€šè¿‡åºåˆ—åŒ–å“åº”å¤´å¹¶ç”¨æ­£åˆ™æå– Content-Type</span>
<span class="hljs-keyword">private</span>Â <span class="hljs-title function_">tryGetContentTypeHeader</span>(<span class="hljs-attr">headerObj</span>:Â <span class="hljs-title class_">Object</span>Â |Â <span class="hljs-literal">null</span>):Â <span class="hljs-built_in">string</span>Â {
Â Â <span class="hljs-keyword">if</span>Â (!headerObj)Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">''</span>;
Â Â <span class="hljs-keyword">try</span>Â {
Â  Â Â <span class="hljs-keyword">const</span>Â json =Â <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(headerObj);
Â  Â Â <span class="hljs-keyword">if</span>Â (!json)Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">''</span>;
Â  Â Â <span class="hljs-keyword">const</span>Â match = json.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/"content-type"\s*:\s*"([^"]+)"/i</span>);
Â  Â Â <span class="hljs-keyword">return</span>Â match &amp;&amp; match.<span class="hljs-property">length</span> &gt;Â <span class="hljs-number">1</span>Â ? match[<span class="hljs-number">1</span>] :Â <span class="hljs-string">''</span>;
Â  }Â <span class="hljs-keyword">catch</span>Â (_) {
Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">''</span>;
Â  }
}
</code></pre>
<p>ä¿å­˜æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">constÂ <span class="hljs-attr">filePath</span> =Â `<span class="hljs-variable">${this.filesDir}</span>/<span class="hljs-variable">${fileName}</span>`<span class="hljs-comment">;</span>
ifÂ (fileIo.accessSync(filePath)) {
Â  fileIo.unlinkSync(filePath)<span class="hljs-comment">;</span>
}
constÂ <span class="hljs-attr">file</span> = fileIo.openSync(filePath, fileIo.OpenMode.CREATE | fileIo.OpenMode.WRITE_ONLY)<span class="hljs-comment">;</span>
constÂ <span class="hljs-attr">bytesWritten</span> = fileIo.writeSync(file.fd, fileBuffer)<span class="hljs-comment">;</span>
fileIo.closeSync(file)<span class="hljs-comment">;</span>
</code></pre>
<p>æƒé™ï¼š</p>
<ul>
<li>å®¢æˆ·ç«¯éœ€è¦åœ¨Â <code>entry/src/main/module.json5</code>Â å£°æ˜Â <code>ohos.permission.INTERNET</code>Â æ‰èƒ½è¿›è¡Œç½‘ç»œè¯·æ±‚ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-5">5. åç«¯ï¼šç®€å•çš„é™æ€æ–‡ä»¶ä¸‹è½½æ¥å£</h3>
<p>ç¤ºä¾‹åç«¯è·¯å¾„ï¼š<code>d:\code\atoStudy\server</code>ï¼Œç›®å½•Â <code>public/</code>Â æ”¾ç½® 4 ä¸ªæ¼”ç¤ºæ–‡ä»¶ã€‚</p>
<p>æ ¸å¿ƒè·¯ç”±ï¼š<code>GET /file/:filename</code></p>
<p>åç«¯çš„ç®€å•ç›®å½•ç»“æ„ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/210e1a1877be4e7d948065c20a241e8c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763598479&amp;x-signature=HCXQ0zRM6%2FTsE8T4irga3k6Uva0%3D" alt="image-20251112092243514" loading="lazy"/></p>
<p>image-20251112092243514</p>
<pre><code class="hljs language-ini" lang="ini">// index.jsï¼ˆç®€ç‰ˆç¤ºä¾‹ï¼‰
constÂ <span class="hljs-attr">express</span> =Â require(<span class="hljs-string">'express'</span>)<span class="hljs-comment">;</span>
constÂ <span class="hljs-attr">path</span> =Â require(<span class="hljs-string">'path'</span>)<span class="hljs-comment">;</span>
constÂ <span class="hljs-attr">app</span> = express()<span class="hljs-comment">;</span>

app.get('/file/:filename', (req, res) =&gt; {
Â Â constÂ <span class="hljs-attr">filename</span> = req.params.filename<span class="hljs-comment">;</span>
Â Â constÂ <span class="hljs-attr">filePath</span> = path.join(__dirname,Â <span class="hljs-string">'public'</span>, filename)<span class="hljs-comment">;</span>
Â  res.sendFile(filePath)<span class="hljs-comment">;Â // æˆ–æ ¹æ®éœ€è¦è®¾ç½® Content-Type</span>
})<span class="hljs-comment">;</span>

app.listen(3000, () =&gt; {
Â Â console.log('Server listening on http://localhost:3000')<span class="hljs-comment">;</span>
})<span class="hljs-comment">;</span>
</code></pre>
<p>å®¢æˆ·ç«¯è¯·æ±‚åœ°å€ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">private</span>Â serverBase:Â <span class="hljs-built_in">string</span>Â =Â <span class="hljs-string">"http://192.168.5.2:3000/file"</span>;
<span class="hljs-comment">// ç»„åˆå®Œæ•´ URL ç¤ºä¾‹ï¼š`${this.serverBase}/1.pdf`</span>
</code></pre>
<blockquote>
<p>æ³¨æ„ï¼šè¯·æŒ‰çœŸå®å±€åŸŸç½‘ IP æ›¿æ¢Â <code>192.168.5.2</code>ï¼Œå¹¶ä¿è¯æ‰‹æœº/æ¨¡æ‹Ÿå™¨ä¸åç«¯åœ¨åŒä¸€ç½‘ç»œã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-6">6. å¿«é€Ÿè¿è¡Œä¸éªŒè¯</h3>
<p>åç«¯ï¼š</p>
<ul>
<li>å®‰è£…ä¾èµ–å¹¶å¯åŠ¨ï¼š<code>npm install &amp;&amp; node index.js</code></li>
<li>ç¡®è®¤Â <code>public/</code>Â ä¸‹å­˜åœ¨Â <code>1.pdf</code>ã€<code>1.png</code>ã€<code>2.png</code>ã€<code>3.png</code></li>
</ul>
<p>å®¢æˆ·ç«¯ï¼š</p>
<ul>
<li>åœ¨Â <code>module.json5</code>Â ä¸­ç¡®ä¿å·²å£°æ˜Â <code>ohos.permission.INTERNET</code></li>
<li>æ„å»ºå¹¶å®‰è£…åˆ°è®¾å¤‡/æ¨¡æ‹Ÿå™¨</li>
<li>ç‚¹å‡»â€œä¸‹è½½â€ï¼Œè§‚å¯Ÿé€é¡¹çŠ¶æ€å˜åŒ–</li>
<li>ä¸‹è½½æˆåŠŸåç‚¹å‡»â€œé¢„è§ˆâ€ï¼ŒéªŒè¯å¤šçª—å£é¢„è§ˆæ˜¯å¦æ­£å¸¸</li>
</ul>
<blockquote>
<p>å›¾ç‰‡å ä½ï¼šè¯·è¡¥å……ä¸Šè¿°è¿‡ç¨‹çš„å…³é”®æˆªå›¾ï¼ˆå¦‚â€œæƒé™å£°æ˜å¤„â€ã€â€œä¸‹è½½æˆåŠŸçŠ¶æ€â€ã€â€œå¤šçª—å£é¢„è§ˆâ€ï¼‰ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-7">7. å¸¸è§é—®é¢˜ä¸æ’æŸ¥</h3>
<ul>
<li>æƒé™é”™è¯¯ï¼ˆå¦‚ code=201 / â€œPermission deniedâ€ï¼‰ï¼šæ£€æŸ¥Â <code>ohos.permission.INTERNET</code>Â æ˜¯å¦å£°æ˜ï¼›ç¡®è®¤çœŸæœº/æ¨¡æ‹Ÿå™¨çš„ç½‘ç»œå¯è¾¾æ€§ã€‚</li>
<li>404 æˆ–ä¸‹è½½å¤±è´¥ï¼šç¡®è®¤åç«¯è·¯ç”±Â <code>/file/:filename</code>Â å­˜åœ¨ä¸”æ–‡ä»¶ç¡®å®åœ¨Â <code>public/</code>Â ç›®å½•å†…ï¼›æ£€æŸ¥å®¢æˆ·ç«¯Â <code>serverBase</code>Â åœ°å€æ˜¯å¦æ­£ç¡®ã€‚</li>
<li>MIME ä¸æ‰©å±•åé”™é…ï¼šä¼˜å…ˆä½¿ç”¨åç«¯è¿”å›çš„Â <code>Content-Type</code>ï¼›å¦‚æœç¼ºå¤±ï¼Œåˆ™æŒ‰æ‰©å±•åæ¨æ–­ã€‚</li>
<li>UI ä¸åˆ·æ–°ï¼šåœ¨ ArkUI ä¸­å¯¹æ•°ç»„è¿›è¡Œâ€œé‡æ–°èµ‹å€¼â€æ¥è§¦å‘åˆ·æ–°ï¼Œé¿å…åŸåœ°ä¿®æ”¹å…ƒç´ ï¼ˆä¾‹å¦‚ä½¿ç”¨Â <code>this.itemStatuses = [...nextStatuses]</code>ï¼‰ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-8">8. å°ç»“</h3>
<p><code>filePreview.openPreview</code>Â æ˜¯ HarmonyOS æ–‡ä»¶é¢„è§ˆèƒ½åŠ›çš„æ ¸å¿ƒï¼Œæ”¯æŒä¸€æ¬¡æ€§æ‰“å¼€å¤šæ–‡ä»¶é¢„è§ˆã€‚ç»“åˆç®€å•çš„åç«¯é™æ€æ–‡ä»¶æœåŠ¡ä¸å¹¶å‘ä¸‹è½½ã€å“åº”å¼çŠ¶æ€åˆ·æ–°ï¼Œèƒ½å¤Ÿå¿«é€Ÿæ­å»ºä¸€ä¸ªâ€œä¸‹è½½å³é¢„è§ˆâ€çš„æ¼”ç¤ºå·¥ç¨‹ã€‚æœ¬æ–‡çš„ç¤ºä¾‹å·¥ç¨‹å®Œæ•´è¦†ç›–äº†ä»åç«¯æ–‡ä»¶æä¾›ã€å®¢æˆ·ç«¯ä¸‹è½½ä¸ä¿å­˜ã€åˆ°é¢„è§ˆçª—å£æ‰“å¼€çš„å…³é”®è·¯å¾„ï¼Œé€‚åˆä½œä¸ºå…¥é—¨æ•™ç¨‹ä¸äºŒæ¬¡æ‰©å±•çš„åŸºç¡€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäºLLM çš„ RAG åº”ç”¨å¼€å‘å®æˆ˜]]></title>    <link>https://juejin.cn/post/7572161976593596468</link>    <guid>https://juejin.cn/post/7572161976593596468</guid>    <pubDate>2025-11-14T07:46:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572161976593596468" data-draft-id="7572141390857895936" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäºLLM çš„ RAG åº”ç”¨å¼€å‘å®æˆ˜"/> <meta itemprop="keywords" content="LLM"/> <meta itemprop="datePublished" content="2025-11-14T07:46:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æµ·å°”æ™ºæ…§å®¶æŠ€æœ¯å¹³å°"/> <meta itemprop="url" content="https://juejin.cn/user/3848721122725016"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäºLLM çš„ RAG åº”ç”¨å¼€å‘å®æˆ˜
            <!----> <!----></h1> <div class="container team-follow" data-v-d326b38e="" data-v-61fb5e44=""><div class="left" data-v-d326b38e=""><a href="/team/7156434854350389283/posts" data-v-d326b38e=""><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a4176c1a2e0b4e1b986f105126840cc9~tplv-k3u1fbpfcp-watermark.image?" class="icon" data-v-d326b38e=""/></a> <div class="content" data-v-d326b38e=""><div style="display: flex" data-v-d326b38e=""><a href="/team/7156434854350389283/posts" data-v-d326b38e=""><p class="title-line" data-v-d326b38e=""><span title="ä¸‰ç¿¼é¸Ÿæ•°å­—åŒ–æŠ€æœ¯å›¢é˜Ÿ" class="title" data-v-d326b38e="">ä¸‰ç¿¼é¸Ÿæ•°å­—åŒ–æŠ€æœ¯å›¢é˜Ÿ</span> <img src="//lf-web-assets.juejin.cn/obj/juejin-web/xitu_juejin_web/255e400027b783cbad76dc41527e7695.svg" alt="team icon" class="team-icon" data-v-d326b38e=""/></p></a></div> <div class="meta-box team" data-v-d326b38e="" data-v-61fb5e44=""><time datetime="2025-11-14T07:46:32.000Z" title="Fri Nov 14 2025 07:46:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-d326b38e="" data-v-61fb5e44="">
                2025-11-14
              </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-d326b38e="" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-d326b38e="" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-d326b38e="" data-v-61fb5e44=""/></svg> <span class="views-count" style="display:none;" data-v-d326b38e="" data-v-61fb5e44="">
                0
              </span> <span class="read-time" data-v-d326b38e="" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-d326b38e="" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-d326b38e="" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-d326b38e="" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-d326b38e="" data-v-61fb5e44=""/></svg>
                é˜…è¯»9åˆ†é’Ÿ
              </span> <!----> <!----></div></div></div> <button class="jj-follow-button follow-btn" style="display:none;" data-v-b60b2868="" data-v-d326b38e=""><span data-v-b60b2868="" data-v-d326b38e=""><i class="byte-icon byte-icon--plus" data-v-d326b38e=""><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 48 48"><path fill="none" d="M0 0h48v48H0z"/><path d="M24.7 4c.4 0 .6 0 .8.1.2.1.3.2.4.4.1.2.1.3.1.8V22h16.7c.4 0 .6 0 .8.1.2.1.3.2.4.4.1.2.1.3.1.8v1.4c0 .4 0 .6-.1.8-.1.2-.2.3-.4.4-.2.1-.3.1-.8.1H26v16.7c0 .4 0 .6-.1.8-.1.2-.2.3-.4.4-.2.1-.3.1-.8.1h-1.4c-.4 0-.6 0-.8-.1-.2-.1-.3-.2-.4-.4-.1-.2-.1-.3-.1-.8V26H5.3c-.4 0-.6 0-.8-.1-.2-.1-.3-.2-.4-.4-.1-.2-.1-.3-.1-.8v-1.4c0-.4 0-.6.1-.8.1-.2.2-.3.4-.4.2-.1.3-.1.8-.1H22V5.3c0-.4 0-.6.1-.8.1-.2.2-.3.4-.4.2-.1.3-.1.8-.1h1.4z"/></svg></i>
        å…³æ³¨
      </span></button></div> <div class="team-user block-hidden" data-v-61fb5e44=""><div class="avatar jj-avatar avatar" data-v-03256cc6="" data-v-61fb5e44=""><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC" alt="avatar" class="lazy avatar-img" data-v-5244ef91="" data-v-03256cc6=""/> </div> <!----> <span class="position ellipsis" data-v-61fb5e44="">
              @æµ·å°”ä¼˜å®¶æ™ºèƒ½ç§‘æŠ€ï¼ˆåŒ—äº¬ï¼‰æœ‰é™å…¬å¸
            </span></div> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Â 1. RAG æ˜¯ä»€ä¹ˆ</h2>
<p>åœ¨å¤§æ¨¡å‹åº”ç”¨é¢†åŸŸï¼ŒRAGï¼ˆRetrieval-Augmented Generationï¼Œæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰ æ˜¯ä¸€ç§å°†ä¿¡æ¯æ£€ç´¢æŠ€æœ¯ä¸å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„æ–‡æœ¬ç”Ÿæˆèƒ½åŠ›ç›¸ç»“åˆçš„æŠ€æœ¯æ¡†æ¶ã€‚å®ƒçš„æ ¸å¿ƒç›®æ ‡æ˜¯é€šè¿‡å¼•å…¥å¤–éƒ¨çŸ¥è¯†æºæ¥å¢å¼ºå¤§æ¨¡å‹ç”Ÿæˆå†…å®¹çš„å‡†ç¡®æ€§ã€ç›¸å…³æ€§å’Œæ—¶æ•ˆæ€§ï¼ŒåŒæ—¶è§£å†³å¤§æ¨¡å‹å›ºæœ‰çš„å±€é™æ€§ï¼ˆå¦‚çŸ¥è¯†å¹»è§‰ã€é™æ€çŸ¥è¯†ã€ç¼ºä¹é¢†åŸŸä¸“é•¿ç­‰ï¼‰ã€‚</p>
<h2 data-id="heading-1">2. RAG å·¥ä½œåŸç†</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae9c5f7719fb4370a61c2d687d646af8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rW35bCU5pm65oWn5a625oqA5pyv5bmz5Y-w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763711191&amp;x-signature=JYJjGhaiGVumA9kf3wSy7%2FUy060%3D" alt="image.png" loading="lazy"/></p>
<p>RAG çš„å·¥ä½œæµç¨‹é€šå¸¸åˆ†ä¸ºä¸¤ä¸ªå…³é”®é˜¶æ®µï¼š</p>
<ol>
<li>
<p><strong>æ£€ç´¢ï¼ˆRetrievalï¼‰ï¼š</strong></p>
<ol>
<li>å½“ç”¨æˆ·è¾“å…¥ä¸€ä¸ªæŸ¥è¯¢ï¼ˆQueryï¼‰æ—¶ï¼ŒRAG ç³»ç»Ÿé¦–å…ˆä¼šåˆ©ç”¨è¿™ä¸ªæŸ¥è¯¢å»æœç´¢ä¸€ä¸ªå¤–éƒ¨çŸ¥è¯†åº“ã€‚</li>
<li>è¿™ä¸ªçŸ¥è¯†åº“å¯ä»¥æ˜¯ï¼šæ–‡æ¡£æ•°æ®åº“ã€ç»´åŸºç™¾ç§‘ã€ä¼ä¸šå†…éƒ¨æ–‡æ¡£ã€äº§å“æ‰‹å†Œã€ä»£ç åº“ã€çŸ¥è¯†å›¾è°±ç­‰ä»»ä½•ç»“æ„åŒ–å’Œéç»“æ„åŒ–æ•°æ®ã€‚</li>
<li>æ£€ç´¢è¿‡ç¨‹é€šå¸¸ä½¿ç”¨è¯­ä¹‰æœç´¢æŠ€æœ¯ï¼ˆå¦‚åŸºäºå‘é‡çš„ç›¸ä¼¼åº¦æœç´¢ï¼Œä¾‹å¦‚ä½¿ç”¨ OpenAI Embeddings æˆ– Sentence Transformers ç­‰æ¨¡å‹å°†æ–‡æœ¬è½¬æ¢ä¸ºå‘é‡ï¼‰ã€‚ç³»ç»Ÿä¼šæ‰¾å‡ºä¸ç”¨æˆ·æŸ¥è¯¢åœ¨è¯­ä¹‰ä¸Šæœ€ç›¸å…³çš„æ–‡æœ¬ç‰‡æ®µï¼ˆChunksï¼‰æˆ–æ–‡æ¡£ã€‚</li>
<li>æ£€ç´¢çš„ç»“æœæ˜¯ä¸€ç»„æœ€ç›¸å…³çš„ä¿¡æ¯ç‰‡æ®µã€‚</li>
</ol>
</li>
<li>
<p><strong>å¢å¼ºç”Ÿæˆï¼ˆAugmented Generationï¼‰ï¼š</strong></p>
<ol>
<li>æ£€ç´¢åˆ°çš„ç›¸å…³ç‰‡æ®µï¼ˆä½œä¸ºâ€œè¯æ®â€æˆ–â€œä¸Šä¸‹æ–‡â€ï¼‰ä¼šè¢«æ³¨å…¥åˆ°å‘é€ç»™å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„æç¤ºï¼ˆPromptï¼‰ä¸­ã€‚</li>
<li>åŸå§‹çš„æŸ¥è¯¢ + æ£€ç´¢åˆ°çš„ä¸Šä¸‹æ–‡ä¿¡æ¯å…±åŒæ„æˆäº†ä¸€ä¸ªæ–°çš„ã€ä¿¡æ¯æ›´ä¸°å¯Œçš„æç¤ºã€‚</li>
<li>LLM åŸºäºè¿™ä¸ªåŒ…å«ç›¸å…³ä¸Šä¸‹æ–‡çš„å¢å¼ºæç¤ºæ¥ç”Ÿæˆæœ€ç»ˆçš„å›ç­”ã€‚</li>
<li>LLM åœ¨ç”Ÿæˆæ—¶ï¼Œä¼šç»¼åˆåˆ©ç”¨è‡ªèº«å­¦åˆ°çš„é€šç”¨çŸ¥è¯†ä»¥åŠæç¤ºä¸­æä¾›çš„å…·ä½“å¤–éƒ¨ä¿¡æ¯ã€‚</li>
</ol>
</li>
</ol>
<h2 data-id="heading-2">3. RAG çš„æ ¸å¿ƒä»·å€¼ä¸ä¼˜åŠ¿</h2>
<ul>
<li>å‡å°‘å¹»è§‰ï¼ˆHallucinationï¼‰ï¼šé€šè¿‡æä¾›ç›¸å…³è¯æ®ä½œä¸ºç”Ÿæˆä¾æ®ï¼Œæå¤§é™ä½äº†æ¨¡å‹å‡­ç©ºæé€ äº‹å®çš„å¯èƒ½æ€§ã€‚ç”Ÿæˆçš„ç­”æ¡ˆæ›´å€¾å‘äºåŸºäºæä¾›çš„ä¸Šä¸‹æ–‡ã€‚</li>
<li>çŸ¥è¯†æ›´æ–°ä¸æ—¶æ•ˆæ€§ï¼šå¤§æ¨¡å‹çš„çŸ¥è¯†åœ¨è®­ç»ƒå®Œæˆåå°±å›ºå®šäº†ï¼ˆæˆªæ­¢åˆ°è®­ç»ƒæ•°æ®æ—¥æœŸï¼‰ã€‚RAG å…è®¸æ¨¡å‹è®¿é—®æœ€æ–°çš„ã€åŠ¨æ€æ›´æ–°çš„å¤–éƒ¨çŸ¥è¯†åº“ï¼Œä½¿å…¶èƒ½å›ç­”å…³äºæ–°äº‹ä»¶ã€æ–°ç ”ç©¶ã€æ–°äº§å“çš„æé—®ã€‚</li>
<li>å¢å¼ºé¢†åŸŸä¸“ä¸šçŸ¥è¯†ï¼šå¯ä»¥å°†ç‰¹å®šé¢†åŸŸçš„ä¸“æœ‰çŸ¥è¯†ï¼ˆå…¬å¸å†…éƒ¨æ–‡æ¡£ã€æŠ€æœ¯æ‰‹å†Œã€ç ”ç©¶æŠ¥å‘Šï¼‰æ³¨å…¥åˆ°æ¨¡å‹ä¸­ï¼Œè®©é€šç”¨å¤§æ¨¡å‹å…·å¤‡è¯¥é¢†åŸŸçš„ä¸“ä¸šè§£ç­”èƒ½åŠ›ï¼Œè€Œæ— éœ€è€—è´¹å·¨å¤§æˆæœ¬å¯¹æ•´ä¸ªæ¨¡å‹è¿›è¡Œå¾®è°ƒï¼ˆFine-tuningï¼‰ã€‚</li>
<li>æé«˜é€æ˜åº¦å’Œå¯éªŒè¯æ€§ï¼šå› ä¸ºç­”æ¡ˆæ˜¯åŸºäºæ£€ç´¢åˆ°çš„ä¸Šä¸‹æ–‡ç”Ÿæˆçš„ï¼Œç³»ç»Ÿå¯ä»¥è¿½è¸ªç­”æ¡ˆçš„æ¥æºï¼ˆå¼•ç”¨äº†å“ªä¸ªæ–‡æ¡£çš„å“ªä¸€éƒ¨åˆ†ï¼‰ï¼Œæé«˜äº†ç”Ÿæˆç»“æœçš„å¯ä¿¡åº¦å’Œå¯éªŒè¯æ€§ã€‚</li>
<li>æˆæœ¬æ•ˆç›Šï¼šç›¸å¯¹äºå¾®è°ƒä¸€ä¸ªå¤§å‹æ¨¡å‹ï¼ˆéœ€è¦å¤§é‡æ ‡æ³¨æ•°æ®å’Œè®¡ç®—èµ„æºï¼‰ï¼Œæ„å»ºå’Œç»´æŠ¤ä¸€ä¸ªæ£€ç´¢çŸ¥è¯†åº“é€šå¸¸æˆæœ¬æ›´ä½ã€æ›´çµæ´»ã€‚</li>
<li>å¤„ç†ç§æœ‰/æ•æ„Ÿæ•°æ®ï¼šç§æœ‰æ•°æ®å¯ä»¥å®‰å…¨åœ°å­˜å‚¨åœ¨æœ¬åœ°çŸ¥è¯†åº“ä¸­ï¼Œæ— éœ€ä¸Šä¼ åˆ°äº‘ç«¯æ¨¡å‹çš„è®­ç»ƒæœåŠ¡å™¨ã€‚RAG åœ¨æ¨ç†æ—¶æŒ‰éœ€æ£€ç´¢è¿™äº›æ•°æ®ï¼Œå¢å¼ºäº†éšç§æ€§å’Œå®‰å…¨æ€§ã€‚</li>
</ul>
<h2 data-id="heading-3">4. RAG åº”ç”¨åœºæ™¯</h2>
<ul>
<li>ä¼ä¸šå†…éƒ¨çŸ¥è¯†åº“é—®ç­”ï¼šå›ç­”åŸºäºç‰¹å®šæ–‡æ¡£é›†åˆï¼ˆå¦‚äº§å“æ‰‹å†Œã€å…¬å¸åˆ¶åº¦ã€æŠ€æœ¯æ–‡æ¡£ï¼‰çš„é—®é¢˜ã€‚</li>
<li>å®¢æœé—®ç­”ç³»ç»Ÿï¼šå‡†ç¡®å›ç­”ç”¨æˆ·å…³äºäº§å“ã€æœåŠ¡ã€è®¢å•ç­‰å…·ä½“é—®é¢˜ï¼Œå¼•ç”¨å®˜æ–¹ä¿¡æ¯ã€‚</li>
<li>ç ”ç©¶åŠ©æ‰‹ï¼šå¸®åŠ©ç ”ç©¶äººå‘˜ä»å¤§é‡è®ºæ–‡ã€æŠ¥å‘Šä¸­æŸ¥æ‰¾å’Œæ€»ç»“ç›¸å…³ä¿¡æ¯ã€‚</li>
<li>å†…å®¹æ‘˜è¦ï¼šç”ŸæˆåŸºäºç‰¹å®šæ¥æºï¼ˆå¦‚é•¿æŠ¥å‘Šã€ä¼šè®®è®°å½•ï¼‰çš„æ‘˜è¦ã€‚</li>
<li>ä»£ç åŠ©æ‰‹ï¼šæ£€ç´¢ç›¸å…³çš„ API æ–‡æ¡£ã€ä»£ç ç‰‡æ®µæ¥è¾…åŠ©ç”Ÿæˆæˆ–è§£é‡Šä»£ç ã€‚</li>
</ul>
<h2 data-id="heading-4">5. å‘é‡å’Œå‘é‡æ•°æ®åº“</h2>
<p>åœ¨æ„å»º RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰ç³»ç»Ÿä¹‹å‰ï¼Œç†è§£å‘é‡ï¼ˆVectorï¼‰å’Œå‘é‡æ•°æ®åº“ï¼ˆVector Databaseï¼‰è‡³å…³é‡è¦ã€‚å‘é‡æ•°æ®åº“ä¹Ÿæ˜¯ RAG çš„æ ¸å¿ƒå¼•æ“ï¼Œç›´æ¥å½±å“ç³»ç»Ÿçš„æ€§èƒ½å’Œå‡†ç¡®æ€§ã€‚</p>
<h3 data-id="heading-5">5.1 å‘é‡æ˜¯ä»€ä¹ˆ</h3>
<ul>
<li>å‘é‡æ˜¯ä¸€ç»„æœ‰åºçš„æ•°å­—åºåˆ—ï¼ˆä¾‹å¦‚ <code>[0.2, -0.7, 1.4, ..., 0.05]</code>ï¼‰ï¼Œç”¨äºåœ¨é«˜ç»´ç©ºé—´ï¼ˆå¦‚ 768 ç»´æˆ– 1536 ç»´ï¼‰ä¸­è¡¨ç¤ºæ–‡æœ¬ã€å›¾åƒæˆ–éŸ³é¢‘çš„è¯­ä¹‰ç‰¹å¾ã€‚</li>
<li>ç”± åµŒå…¥æ¨¡å‹ï¼ˆEmbedding Modelï¼‰ ç”Ÿæˆï¼Œæ¨¡å‹å°†æ•°æ®æ˜ å°„åˆ°æ•°å­¦ç©ºé—´ï¼ˆå¦‚ OpenAI çš„ <code>text-embedding-3-small</code>ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-6">5.2 å‘é‡ä¸ºä»€ä¹ˆèƒ½è¡¨ç¤ºè¯­ä¹‰</h3>
<ul>
<li>
<p>ç›¸ä¼¼è¯­ä¹‰ â‰ˆ é‚»è¿‘å‘é‡ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>â€œçŒ«â€ çš„å‘é‡ â‰ˆ â€œçŒ«å’ªâ€ çš„å‘é‡ï¼ˆä½™å¼¦ç›¸ä¼¼åº¦ &gt;0.9ï¼‰</li>
<li>â€œè‹¹æœâ€ (æ°´æœ) çš„å‘é‡ â‰  â€œè‹¹æœâ€ (å…¬å¸) çš„å‘é‡</li>
</ul>
</li>
<li>
<p>æ¯ä¸ªç»´åº¦éšå«æŠ½è±¡ç‰¹å¾ã€‚ä¾‹å¦‚ï¼šç»´åº¦1å¯èƒ½è¡¨ç¤ºâ€œæƒ…æ„Ÿææ€§â€ï¼Œç»´åº¦2è¡¨ç¤ºâ€œä¸“ä¸šé¢†åŸŸå¼ºåº¦â€ã€‚</p>
</li>
</ul>
<h3 data-id="heading-7">5.3 å‘é‡åœ¨ RAG ä¸­çš„æ ¸å¿ƒä½œç”¨</h3>
<ol>
<li>
<p><strong>æ•°æ®ç´¢å¼•é˜¶æ®µ</strong></p>
<ol>
<li>æ–‡æœ¬åˆ†å—ï¼ˆChunkingï¼‰ï¼šå°† æ–‡æœ¬ã€PDFç­‰åŸå§‹æ•°æ®æ‹†åˆ†ä¸º 512~1024 å­—ç¬¦çš„æ–‡æœ¬å—ã€‚</li>
<li>å‘é‡åŒ–ï¼ˆEmbeddingï¼‰ï¼šä½¿ç”¨åµŒå…¥æ¨¡å‹ä¸ºæ¯ä¸ªå—ç”Ÿæˆå‘é‡ï¼ˆå¦‚ <code>text-embedding-3-small</code> è¾“å‡º 1536 ç»´å‘é‡ï¼‰ã€‚</li>
<li>ç´¢å¼•æ„å»ºï¼šå‘é‡ + å…ƒæ•°æ®å­˜å…¥å‘é‡æ•°æ®åº“ã€‚</li>
</ol>
</li>
<li>
<p><strong>æ£€ç´¢é˜¶æ®µ</strong></p>
<ol>
<li>æŸ¥è¯¢å‘é‡åŒ–ï¼šç”¨æˆ·é—®é¢˜ â†’ å‘é‡ <code>V_q</code>ã€‚</li>
<li>è¯­ä¹‰æœç´¢ï¼šè®¡ç®— <code>V_q</code> ä¸çŸ¥è¯†åº“æ‰€æœ‰å‘é‡çš„ä½™å¼¦ç›¸ä¼¼åº¦ï¼Œè¿”å› Top-5 æœ€ç›¸å…³æ–‡æœ¬å—ã€‚</li>
<li>å…³é”®ä¼˜åŒ–ï¼šé‡æ’åºï¼ˆRerankingï¼‰ï¼šç”¨äº¤å‰ç¼–ç å™¨ï¼ˆå¦‚ <code>bge-reranker</code>ï¼‰ç²¾æ’ Top ç»“æœï¼Œæå‡ç›¸å…³æ€§ã€‚</li>
</ol>
</li>
</ol>
<h3 data-id="heading-8">5.4 å‘é‡æ•°æ®åº“</h3>
<p>å‘é‡æ•°æ®åº“æ˜¯ä¸“ä¸ºå¤„ç†å‘é‡æ•°æ®ï¼ˆå¤šç»´æ•°å€¼æ•°ç»„ï¼‰è®¾è®¡çš„æ•°æ®åº“ï¼Œæ ¸å¿ƒåŠŸèƒ½æ˜¯é€šè¿‡ç›¸ä¼¼æ€§æœç´¢å¿«é€Ÿæ‰¾åˆ°ä¸ç›®æ ‡å‘é‡æœ€æ¥è¿‘çš„æ•°æ®ã€‚</p>
<p><strong>ä¸»è¦åŠŸèƒ½ï¼š</strong></p>
<ol>
<li><strong>é«˜æ•ˆå­˜å‚¨ï¼š</strong> ç®¡ç†æµ·é‡é«˜ç»´å‘é‡ï¼ˆå¦‚AIæ¨¡å‹ç”Ÿæˆçš„æ–‡æœ¬/å›¾åƒåµŒå…¥å‘é‡ï¼‰ã€‚</li>
<li><strong>ç›¸ä¼¼æ€§æ£€ç´¢ï¼š</strong> åŸºäºè¯­ä¹‰æˆ–ç‰¹å¾åŒ¹é…ï¼Œå®ç°â€œä»¥å›¾æœå›¾â€â€œè¯­ä¹‰æœç´¢â€ç­‰åœºæ™¯ã€‚</li>
<li><strong>æ”¯æŒAIåº”ç”¨ï¼š</strong> ä¸ºç”Ÿæˆå¼AIï¼ˆå¦‚RAGæŠ€æœ¯ï¼‰ã€æ¨èç³»ç»Ÿã€å¼‚å¸¸æ£€æµ‹æä¾›å®æ—¶æ•°æ®æ”¯æ’‘ã€‚</li>
</ol>
<h4 data-id="heading-9">5.4.1 ä¸»æµå‘é‡æ•°æ®åº“</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6dc9697035164ccb903009548a1230ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rW35bCU5pm65oWn5a625oqA5pyv5bmz5Y-w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763711191&amp;x-signature=s7PUKickM1Jjb1Kl2%2FGQH4nJRmY%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-10">5.4.2 Milvus å‘é‡æ•°æ®åº“åŸºç¡€ç”¨æ³•</h4>
<h5 data-id="heading-11">åŸºäº Docker éƒ¨ç½²</h5>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-comment"># Download the configuration file</span>
<span class="hljs-variable">$ </span>wget <span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/github.com/milvus</span>-io/milvus/releases/download/v2.<span class="hljs-number">6.0</span>/milvus-standalone-docker-compose.yml -O docker-compose.yml
<span class="hljs-comment"># Start Milvus</span>
<span class="hljs-variable">$ </span>sudo docker compose up -d
</code></pre>
<h5 data-id="heading-12">åˆ›å»ºæ•°æ®åº“</h5>
<pre><code class="hljs language-ini" lang="ini">from pymilvus import MilvusClient

<span class="hljs-attr">client</span> = MilvusClient(
    <span class="hljs-attr">uri</span>=<span class="hljs-string">"http://localhost:19530"</span>,
    <span class="hljs-attr">token</span>=<span class="hljs-string">"root:Milvus"</span>
)

client.create_database(
    <span class="hljs-attr">db_name</span>=<span class="hljs-string">"my_database_1"</span>
)
</code></pre>
<h5 data-id="heading-13">åˆ›å»º Collections</h5>
<pre><code class="hljs language-ini" lang="ini">from pymilvus import MilvusClient, DataType

<span class="hljs-attr">client</span> = MilvusClient(
    <span class="hljs-attr">uri</span>=<span class="hljs-string">"http://localhost:19530"</span>,
    <span class="hljs-attr">token</span>=<span class="hljs-string">"root:Milvus"</span>
)

<span class="hljs-comment"># Create schema</span>
<span class="hljs-attr">schema</span> = MilvusClient.create_schema(
    <span class="hljs-attr">auto_id</span>=<span class="hljs-literal">False</span>,
    <span class="hljs-attr">enable_dynamic_field</span>=<span class="hljs-literal">True</span>,
)

<span class="hljs-comment"># Add fields to schema</span>
schema.add_field(<span class="hljs-attr">field_name</span>=<span class="hljs-string">"my_id"</span>, datatype=DataType.INT64, is_primary=<span class="hljs-literal">True</span>)
schema.add_field(<span class="hljs-attr">field_name</span>=<span class="hljs-string">"my_vector"</span>, datatype=DataType.FLOAT_VECTOR, dim=<span class="hljs-number">5</span>)
schema.add_field(<span class="hljs-attr">field_name</span>=<span class="hljs-string">"my_varchar"</span>, datatype=DataType.VARCHAR, max_length=<span class="hljs-number">512</span>)

<span class="hljs-comment"># Prepare index parameters</span>
<span class="hljs-attr">index_params</span> = client.prepare_index_params()

<span class="hljs-comment"># Add indexes</span>
index_params.add_index(
    <span class="hljs-attr">field_name</span>=<span class="hljs-string">"my_id"</span>,
    <span class="hljs-attr">index_type</span>=<span class="hljs-string">"AUTOINDEX"</span>
)

index_params.add_index(
    <span class="hljs-attr">field_name</span>=<span class="hljs-string">"my_vector"</span>, 
    <span class="hljs-attr">index_type</span>=<span class="hljs-string">"AUTOINDEX"</span>,
    <span class="hljs-attr">metric_type</span>=<span class="hljs-string">"COSINE"</span>
)

<span class="hljs-comment"># Create a collection with the index loaded simultaneously</span>
client.create_collection(
    <span class="hljs-attr">collection_name</span>=<span class="hljs-string">"customized_setup_1"</span>,
    <span class="hljs-attr">schema</span>=schema,
    <span class="hljs-attr">index_params</span>=index_params
)
</code></pre>
<h5 data-id="heading-14">æ’å…¥å®ä½“</h5>
<pre><code class="hljs language-ini" lang="ini">from pymilvus import MilvusClient

<span class="hljs-attr">client</span> = MilvusClient(
    <span class="hljs-attr">uri</span>=<span class="hljs-string">"http://localhost:19530"</span>,
    <span class="hljs-attr">token</span>=<span class="hljs-string">"root:Milvus"</span>
)

<span class="hljs-attr">data</span>=[
    {<span class="hljs-string">"id"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"vector"</span>: [<span class="hljs-number">0.3580376395471989</span>, -<span class="hljs-number">0.6023495712049978</span>, <span class="hljs-number">0.18414012509913835</span>, -<span class="hljs-number">0.26286205330961354</span>, <span class="hljs-number">0.9029438446296592</span>], <span class="hljs-string">"color"</span>: <span class="hljs-string">"pink_8682"</span>},
    {<span class="hljs-string">"id"</span>: <span class="hljs-number">1</span>, <span class="hljs-string">"vector"</span>: [<span class="hljs-number">0.19886812562848388</span>, <span class="hljs-number">0.06023560599112088</span>, <span class="hljs-number">0.6976963061752597</span>, <span class="hljs-number">0.2614474506242501</span>, <span class="hljs-number">0.838729485096104</span>], <span class="hljs-string">"color"</span>: <span class="hljs-string">"red_7025"</span>},
    {<span class="hljs-string">"id"</span>: <span class="hljs-number">2</span>, <span class="hljs-string">"vector"</span>: [<span class="hljs-number">0.43742130801983836</span>, -<span class="hljs-number">0.5597502546264526</span>, <span class="hljs-number">0.6457887650909682</span>, <span class="hljs-number">0.7894058910881185</span>, <span class="hljs-number">0.20785793220625592</span>], <span class="hljs-string">"color"</span>: <span class="hljs-string">"orange_6781"</span>},
]

client.insert(
    <span class="hljs-attr">collection_name</span>=<span class="hljs-string">"quick_setup"</span>,
    <span class="hljs-attr">data</span>=data
)
</code></pre>
<h5 data-id="heading-15">åŸºæœ¬å‘é‡æœç´¢</h5>
<pre><code class="hljs language-ini" lang="ini">from pymilvus import MilvusClient

<span class="hljs-attr">client</span> = MilvusClient(
    <span class="hljs-attr">uri</span>=<span class="hljs-string">"http://localhost:19530"</span>,
    <span class="hljs-attr">token</span>=<span class="hljs-string">"root:Milvus"</span>
)

<span class="hljs-comment"># Single vector search</span>
<span class="hljs-attr">query_vector</span> = [<span class="hljs-number">0.3580376395471989</span>, -<span class="hljs-number">0.6023495712049978</span>, <span class="hljs-number">0.18414012509913835</span>, -<span class="hljs-number">0.26286205330961354</span>, <span class="hljs-number">0.9029438446296592</span>]
<span class="hljs-attr">res</span> = client.search(
    <span class="hljs-attr">collection_name</span>=<span class="hljs-string">"quick_setup"</span>,
    <span class="hljs-attr">anns_field</span>=<span class="hljs-string">"vector"</span>,
    <span class="hljs-attr">data</span>=[query_vector],
    <span class="hljs-attr">limit</span>=<span class="hljs-number">3</span>,
    <span class="hljs-attr">search_params</span>={<span class="hljs-string">"metric_type"</span>: <span class="hljs-string">"IP"</span>}
)

for hits in res:
    for hit in hits:
        print(hit)
</code></pre>
<h2 data-id="heading-16">6. æ„å»º RAG ç³»ç»Ÿ</h2>
<h3 data-id="heading-17">6.1 å¸¸è§çš„å¼€å‘æ¡†æ¶å’Œå¹³å°</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/689ee587cd5a49889b8c590f5b55d31c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rW35bCU5pm65oWn5a625oqA5pyv5bmz5Y-w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763711191&amp;x-signature=7vHr81mmrEeIIEDHF6YthfSkdyk%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-18">6.2 é¡¹ç›®å®æˆ˜</h3>
<p>åŸºäº RAG æ„å»ºæ™ºèƒ½é—®ç­”ç³»ç»Ÿï¼Œè¯¥ç³»ç»Ÿå¯ä»¥æ ¹æ®ç»™å®šçš„ä¿¡æ¯ï¼Œå›ç­”ç”¨æˆ·å…³äºâ€œç«æ˜Ÿä¸‰æ—¥æ¸¸â€çš„å’¨è¯¢ä¿¡æ¯ã€‚</p>
<h4 data-id="heading-19">6.2.1 å‡†å¤‡æ•°æ®</h4>
<p>ä½¿ç”¨ Markdown æ–‡æ¡£ä¿å­˜â€œç«æ˜Ÿä¸‰æ—¥æ¸¸â€å¥—é¤ä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># ç«æ˜Ÿä¸‰æ—¥æ¸¸å¥—é¤åˆ†ç±»</span>
<span class="hljs-section">## <span class="hljs-strong">**å¥—é¤ä¸€ï¼šèµ¤ç„°æŒ‘æˆ˜è€…å¥—é¤**</span></span>
<span class="hljs-strong">**ä¸»é¢˜**</span>ï¼šæé™æ¢é™©
<span class="hljs-strong">**ç›®æ ‡äººç¾¤**</span>ï¼šå†’é™©çˆ±å¥½è€…/å¹´è½»æ—…è¡Œè€…
<span class="hljs-strong">**æ ¸å¿ƒå–ç‚¹**</span>ï¼šå¤ªé˜³ç³»æœ€é«˜ç«å±±é€Ÿé™ + ç¿¼è£…ç©¿è¶Šå³¡è°·
<span class="hljs-strong">**ä¸‰æ—¥è¡Œç¨‹**</span>ï¼š
<span class="hljs-bullet">-</span> <span class="hljs-strong">**Day1**</span>
<span class="hljs-bullet">  -</span> å¥¥æ—åŒ¹æ–¯å±±ç£åŠ›é´é€Ÿé™ï¼ˆ2.1ä¸‡ç±³å‚ç›´è½å·®ï¼‰
<span class="hljs-bullet">  -</span> å¤œå®¿ç†”å²©ç®¡æ´ç©´é›¶é‡åŠ›ç¡çœ èˆ±
<span class="hljs-bullet">-</span> <span class="hljs-strong">**Day2**</span>
<span class="hljs-bullet">  -</span> æ°´æ‰‹è°·ç¿¼è£…ç©¿è¶Šæ²™æš´
<span class="hljs-bullet">  -</span> å°˜é­”æ—‹é£è¿½å‡»æˆ˜ï¼ˆé©¾é©¶æ²™åœ°æˆ˜è½¦ï¼‰
<span class="hljs-bullet">-</span> <span class="hljs-strong">**Day3**</span>
<span class="hljs-bullet">  -</span> åœ°æ ¸é’»äº•å¹³å°æ”€å²©ï¼ˆé‡‡é›†æ°¦-3æ™¶ä½“ï¼‰
<span class="hljs-bullet">  -</span> ç£è½¨å¼¹å°„å™¨è¿”å›è½¨é“ç«™
<span class="hljs-strong">**å®¢æœè§¦å‘å…³é”®è¯**</span>ï¼šåˆºæ¿€, æŒ‘æˆ˜, ç‹¬å®¶ä½“éªŒ
<span class="hljs-strong">**æ¨èè¯æœ¯**</span>ï¼š
<span class="hljs-quote">&gt; â€œæ£€æµ‹åˆ°æ‚¨è¿½æ±‚è‚¾ä¸Šè…ºç´ é£™å‡ï¼æ¨èã€èµ¤ç„°å¥—é¤ã€ï¼š</span>
<span class="hljs-quote">&gt; - æ­»äº¡æ¦‚ç‡0.7%çš„ç«å±±é€Ÿé™ï¼ˆé™„NASAæ€¥æ•‘åŒ…ï¼‰</span>
<span class="hljs-quote">&gt; - å°†åå­—æ°¸ä¹…åˆ»åœ¨ç«æ˜Ÿç™»é™†çºªå¿µç¢‘â€</span>

<span class="hljs-section">## <span class="hljs-strong">**å¥—é¤äºŒï¼šæ˜Ÿç«å®éªŒå®¤å¥—é¤**</span></span>
<span class="hljs-strong">**ä¸»é¢˜**</span>ï¼šäº²å­ç§‘æ™®
<span class="hljs-strong">**ç›®æ ‡äººç¾¤**</span>ï¼š6-15å²äº²å­å®¶åº­
<span class="hljs-strong">**æ ¸å¿ƒå–ç‚¹**</span>ï¼šåŸºå› ç¼–è¾‘ç”Ÿå‘½ä½“ + ç©¹é¡¶åŸå»ºé€ 
<span class="hljs-strong">**ä¸‰æ—¥è¡Œç¨‹**</span>ï¼š
<span class="hljs-bullet">-</span> <span class="hljs-strong">**Day1**</span>
<span class="hljs-bullet">  -</span> CRISPRåŸºå› å·¥åŠï¼ˆæ”¹é€ è§å…‰åœŸè±†ï¼‰
<span class="hljs-bullet">  -</span> ç«æ˜Ÿè½¦æ°´å†°æœå¯»ä»»åŠ¡
<span class="hljs-bullet">-</span> <span class="hljs-strong">**Day2**</span>
<span class="hljs-bullet">  -</span> ç†”å²©ç®¡ç”Ÿæ€åœˆè®¾è®¡
<span class="hljs-bullet">  -</span> ç«æ˜ŸåœŸå£¤3Dæ‰“å°æ˜†è™«æ¨¡å‹
<span class="hljs-bullet">-</span> <span class="hljs-strong">**Day3**</span>
<span class="hljs-bullet">  -</span> å‘å°„è‡ªå»ºè¿·ä½ ç©¹é¡¶åŸ
<span class="hljs-bullet">  -</span> é¢å‘ã€Œç«æ˜Ÿå°ç§‘å­¦å®¶ã€è¯ä¹¦
<span class="hljs-strong">**å®¢æœè§¦å‘å…³é”®è¯**</span>ï¼šå­©å­, å­¦ä¹ , å®‰å…¨
<span class="hljs-strong">**æ¨èè¯æœ¯**</span>ï¼š
<span class="hljs-quote">&gt; â€œè¯†åˆ«åˆ°äº²å­éœ€æ±‚ï¼æ¨èã€æ˜Ÿç«å¥—é¤ã€ï¼š</span>
<span class="hljs-quote">&gt; - å„¿ç«¥å¡é€šç‰ˆæŠ—è¾å°„æœ</span>
<span class="hljs-quote">&gt; - å®‰å…¨æŒ‡æ•°â˜…â˜…â˜…â˜…â˜…</span>
<span class="hljs-quote">&gt; - å®‡å®™å¿«é€’å­©å­åŸ¹è‚²çš„è§å…‰æ¤ç‰©å›åœ°çƒâ€</span>

<span class="hljs-section">## <span class="hljs-strong">**å¥—é¤ä¸‰ï¼šçº¢é’»VIPå¥—é¤**</span></span>
<span class="hljs-strong">**ä¸»é¢˜**</span>ï¼šå¥¢åä½“éªŒ
<span class="hljs-strong">**ç›®æ ‡äººç¾¤**</span>ï¼šä¼ä¸šé«˜ç®¡/é«˜ç«¯å®¢æˆ·
<span class="hljs-strong">**æ ¸å¿ƒå–ç‚¹**</span>ï¼šç«æ˜ŸåœŸåœ°äº§æƒ + åŒæœˆéŸ³ä¹ä¼š
<span class="hljs-strong">**ä¸‰æ—¥è¡Œç¨‹**</span>ï¼š
<span class="hljs-bullet">-</span> <span class="hljs-strong">**Day1**</span>
<span class="hljs-bullet">  -</span> æ‚¬å´–é…’åº—æ˜Ÿç©ºä¸‹åˆèŒ¶
<span class="hljs-bullet">  -</span> ç£æ‚¬æµ®ç«æ˜Ÿæ²™ç”»åˆ›ä½œ
<span class="hljs-bullet">-</span> <span class="hljs-strong">**Day2**</span>
<span class="hljs-bullet">  -</span> åŒæœˆå…¨æ¯å£°å…‰ç§€
<span class="hljs-bullet">  -</span> æ°¦-3çŸ¿ç‰©æ¸©æ³‰ç–—æ„ˆ
<span class="hljs-bullet">-</span> <span class="hljs-strong">**Day3**</span>
<span class="hljs-bullet">  -</span> è®¤è´­1kmÂ²ç«æ˜ŸåœŸåœ°
<span class="hljs-bullet">  -</span> ç«–ç«‹ä¸ªäººå…¨æ¯çºªå¿µé›•å¡‘
<span class="hljs-strong">**å®¢æœè§¦å‘å…³é”®è¯**</span>ï¼šé«˜ç«¯, ç‹¬å®¶, è‰ºæœ¯
<span class="hljs-strong">**æ¨èè¯æœ¯**</span>ï¼š
<span class="hljs-quote">&gt; â€œå°Šäº«ä½“éªŒå·²å°±ç»ªï¼é€‰æ‹©ã€çº¢é’»å¥—é¤ã€å¯è·å¾—ï¼š</span>
<span class="hljs-quote">&gt; - æ¯”å°”Â·ç›–èŒ¨åŒæ¬¾æ‚¬å´–é…’åº—</span>
<span class="hljs-quote">&gt; - ç«æ˜ŸåœŸåœ°NFTè¯ä¹¦ï¼ˆå¹´æ¶¨å¹…+300%ï¼‰</span>
<span class="hljs-quote">&gt; - ç‰¹æƒå…æ˜Ÿé™…éš”ç¦»â€</span>
&amp;&amp;
<span class="hljs-section"># ç«æ˜Ÿä¸‰æ—¥æ¸¸å¥—é¤å¯¹æ¯”</span>
<span class="hljs-section">## ä»å¤šä¸ªç»´åº¦å¯¹æ¯”ç«æ˜Ÿä¸‰æ—¥æ¸¸å¥—é¤</span>
<span class="hljs-strong">**ç»´åº¦ï¼šä½“åŠ›è¦æ±‚**</span>
<span class="hljs-bullet">-</span> èµ¤ç„°æŒ‘æˆ˜è€…ï¼šæé«˜ï¼ˆéœ€ä½“èƒ½æµ‹è¯•ï¼‰
<span class="hljs-bullet">-</span> æ˜Ÿç«å®éªŒå®¤ï¼šä½ï¼ˆå®¤å†…ä¸ºä¸»ï¼‰
<span class="hljs-bullet">-</span> çº¢é’»VIPï¼šä¸­ç­‰ï¼ˆè‰ºæœ¯åˆ›ä½œä¸ºä¸»ï¼‰

<span class="hljs-strong">**ç»´åº¦ï¼šç‹¬ç‰¹æƒç›Š**</span>
<span class="hljs-bullet">-</span> èµ¤ç„°æŒ‘æˆ˜è€…ï¼šç™»é™†çºªå¿µç¢‘åˆ»å
<span class="hljs-bullet">-</span> æ˜Ÿç«å®éªŒå®¤ï¼šç©¹é¡¶åŸæ°¸ä¹…å±•ç¤ºä½
<span class="hljs-bullet">-</span> çº¢é’»VIPï¼šç«æ˜ŸåœŸåœ°äº§æƒNFT

<span class="hljs-strong">**ç»´åº¦ï¼šä¸»è¦é£é™©**</span>
<span class="hljs-bullet">-</span> èµ¤ç„°æŒ‘æˆ˜è€…ï¼šæ­»äº¡æ¦‚ç‡0.7%
<span class="hljs-bullet">-</span> æ˜Ÿç«å®éªŒå®¤ï¼šåŸºå› æ±¡æŸ“é£é™©
<span class="hljs-bullet">-</span> çº¢é’»VIPï¼šäº§æƒæ³•å¾‹çº çº·

<span class="hljs-strong">**ç»´åº¦ï¼šå‚è€ƒä»·æ ¼**</span>
<span class="hljs-bullet">-</span> èµ¤ç„°æŒ‘æˆ˜è€…ï¼š$150,000/äºº
<span class="hljs-bullet">-</span> æ˜Ÿç«å®éªŒå®¤ï¼š$80,000/äººï¼ˆå„¿ç«¥åŠä»·ï¼‰
<span class="hljs-bullet">-</span> çº¢é’»VIPï¼š$250,000/äºº

<span class="hljs-strong">**ç»´åº¦ï¼šæœ€ä½³äººç¾¤**</span>
<span class="hljs-bullet">-</span> èµ¤ç„°æŒ‘æˆ˜è€…ï¼š25-40å²å†’é™©è€…
<span class="hljs-bullet">-</span> æ˜Ÿç«å®éªŒå®¤ï¼š6-15å²äº²å­å®¶åº­
<span class="hljs-bullet">-</span> çº¢é’»VIPï¼šä¼ä¸šé«˜ç®¡/æƒ…ä¾£
</code></pre>
<h4 data-id="heading-20">6.2.2 åŸºäº LangChain æ¡†æ¶æ„å»º</h4>
<h5 data-id="heading-21">æ•°æ®åµŒå…¥åŠç´¢å¼•</h5>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># å¯¼å…¥ HuggingFace çš„ Embedding æ¨¡å‹ï¼Œç”¨äºå°†æ–‡æœ¬è½¬ä¸ºå‘é‡</span>
from langchain_huggingface import HuggingFaceEmbeddings
<span class="hljs-comment"># å¯¼å…¥æ–‡æœ¬åŠ è½½å™¨ï¼Œç”¨äºåŠ è½½æœ¬åœ° markdown æ–‡æœ¬</span>
from langchain_community.document_loaders import TextLoader
<span class="hljs-comment"># å¯¼å…¥ Milvus å‘é‡æ•°æ®åº“çš„é€‚é…å™¨</span>
from langchain_milvus.vectorstores import Milvus
<span class="hljs-comment"># å¯¼å…¥ MarkdownHeaderTextSplitterï¼Œç”¨äºæŒ‰ markdown æ ‡é¢˜åˆ†æ®µ</span>
from langchain.text_splitter import MarkdownHeaderTextSplitter

<span class="hljs-comment"># æŒ‡å®š markdown æ–‡ä»¶è·¯å¾„</span>
<span class="hljs-attr">markdown_path</span> = <span class="hljs-string">"rag_data.md"</span>
<span class="hljs-comment"># åŠ è½½ markdown æ–‡ä»¶å†…å®¹</span>
<span class="hljs-attr">loader</span> = TextLoader(file_path=markdown_path)
<span class="hljs-attr">data</span> = loader.load()

<span class="hljs-comment"># è®¾ç½®åˆ†æ®µè§„åˆ™ï¼šæŒ‰ä¸€çº§æ ‡é¢˜ï¼ˆ#ï¼‰å’ŒäºŒçº§æ ‡é¢˜ï¼ˆ##ï¼‰åˆ†æ®µ</span>
<span class="hljs-attr">headers_to_split_on</span> = [
    (<span class="hljs-string">"#"</span>, <span class="hljs-string">"Section"</span>),      <span class="hljs-comment"># ä¸€çº§æ ‡é¢˜ä½œä¸º Section</span>
    (<span class="hljs-string">"##"</span>, <span class="hljs-string">"Subsection"</span>), <span class="hljs-comment"># äºŒçº§æ ‡é¢˜ä½œä¸º Subsection</span>
]

<span class="hljs-comment"># åˆå§‹åŒ– markdown åˆ†æ®µå™¨ï¼Œstrip_headers=False è¡¨ç¤ºä¿ç•™æ ‡é¢˜å†…å®¹</span>
<span class="hljs-attr">markdown_splitter</span> = MarkdownHeaderTextSplitter(
    <span class="hljs-attr">headers_to_split_on</span>=headers_to_split_on,
    <span class="hljs-attr">strip_headers</span>=<span class="hljs-literal">False</span>)
<span class="hljs-comment"># æŒ‰è§„åˆ™åˆ†å‰²æ–‡æ¡£ï¼Œå¾—åˆ°åˆ†æ®µåçš„æ–‡æ¡£åˆ—è¡¨</span>
<span class="hljs-attr">split_docs</span> = markdown_splitter.split_text(data[<span class="hljs-number">0</span>].page_content)

<span class="hljs-comment"># é€‰æ‹©ç”¨äºç”Ÿæˆæ–‡æœ¬å‘é‡çš„æ¨¡å‹ï¼Œè¿™é‡Œç”¨ BAAI/bge-m3</span>
<span class="hljs-attr">model_name</span> = <span class="hljs-string">"BAAI/bge-m3"</span>
<span class="hljs-attr">embeddings</span> = HuggingFaceEmbeddings(
    <span class="hljs-attr">model_name</span>=model_name,
    <span class="hljs-attr">model_kwargs</span>={<span class="hljs-string">'device'</span>: <span class="hljs-string">'cpu'</span>},  <span class="hljs-comment"># æŒ‡å®šåœ¨ CPU ä¸Šè¿è¡Œ</span>
    <span class="hljs-attr">encode_kwargs</span>={<span class="hljs-string">'normalize_embeddings'</span>: <span class="hljs-literal">True</span>}  <span class="hljs-comment"># å‘é‡å½’ä¸€åŒ–ï¼Œä¾¿äºç›¸ä¼¼åº¦æ£€ç´¢</span>
)

<span class="hljs-comment"># è¿æ¥è¿œç¨‹ Milvus å‘é‡æ•°æ®åº“</span>
<span class="hljs-attr">vector_db</span> = Milvus(
    <span class="hljs-attr">embedding_function</span>=embeddings,  <span class="hljs-comment"># æŒ‡å®š embedding æ–¹æ³•</span>
    <span class="hljs-attr">collection_name</span>=<span class="hljs-string">"rag_data_collection"</span>,  <span class="hljs-comment"># é›†åˆåç§°</span>
    <span class="hljs-attr">connection_args</span>={
        "host": "localhost",  <span class="hljs-comment"># Milvus æœåŠ¡åœ°å€</span>
        "port": "19530",
        "user": "root",
        "password": "Milvus"
    },
    <span class="hljs-attr">auto_id</span>=<span class="hljs-literal">True</span>,   <span class="hljs-comment"># ä¸»é”®è‡ªå¢</span>
    <span class="hljs-attr">drop_old</span>=<span class="hljs-literal">True</span>   <span class="hljs-comment"># å¦‚æœå·²å­˜åœ¨åŒåé›†åˆåˆ™å…ˆåˆ é™¤å†æ–°å»º</span>
)

<span class="hljs-comment"># å°†åˆ†æ®µåçš„æ–‡æ¡£æ’å…¥åˆ° Milvus å‘é‡æ•°æ®åº“ä¸­</span>
vector_db.add_documents(<span class="hljs-attr">documents</span>=split_docs)
</code></pre>
<h5 data-id="heading-22">æ•°æ®æ£€ç´¢å¢å¼ºç”Ÿæˆ</h5>
<pre><code class="hljs language-ini" lang="ini">from langchain_huggingface import HuggingFaceEmbeddings
from langchain_milvus.vectorstores import Milvus
from langchain import hub
from langchain_deepseek import ChatDeepSeek

<span class="hljs-attr">model_name</span> = <span class="hljs-string">"BAAI/bge-m3"</span>
<span class="hljs-attr">embeddings</span> = HuggingFaceEmbeddings(
    <span class="hljs-attr">model_name</span>=model_name,
    <span class="hljs-attr">model_kwargs</span>={<span class="hljs-string">'device'</span>: <span class="hljs-string">'cpu'</span>},
    <span class="hljs-attr">encode_kwargs</span>={<span class="hljs-string">'normalize_embeddings'</span>: <span class="hljs-literal">True</span>}
)

<span class="hljs-comment"># è¿æ¥è¿œç¨‹ Milvus</span>
<span class="hljs-attr">vector_db</span> = Milvus(
    <span class="hljs-attr">embedding_function</span>=embeddings,
    <span class="hljs-attr">collection_name</span>=<span class="hljs-string">"rag_data_collection"</span>,  <span class="hljs-comment"># æ·»åŠ é›†åˆåç§°å‚æ•°</span>
    <span class="hljs-attr">connection_args</span>={
        "host": "localhost",  <span class="hljs-comment"># ç¡®ä¿è¿™æ˜¯æ­£ç¡®çš„è¿œç¨‹åœ°å€</span>
        "port": "19530",
        "user": "root",
        "password": "Milvus"
    },
    <span class="hljs-attr">auto_id</span>=<span class="hljs-literal">True</span>,
    <span class="hljs-attr">drop_old</span>=<span class="hljs-literal">False</span>  <span class="hljs-comment"># é¦–æ¬¡è¿è¡Œæ—¶åˆ›å»ºæ–°é›†åˆ</span>
)


<span class="hljs-attr">llm</span> = ChatDeepSeek(
    <span class="hljs-attr">model</span>=<span class="hljs-string">"deepseek-chat"</span>,
    <span class="hljs-attr">temperature</span>=<span class="hljs-number">0</span>,
    <span class="hljs-attr">max_tokens</span>=None,
    <span class="hljs-attr">timeout</span>=None,
    <span class="hljs-attr">max_retries</span>=<span class="hljs-number">2</span>,
    <span class="hljs-attr">api_key</span>=<span class="hljs-string">"sk-58d35df8d09******fe0243923099b42"</span>,
)

<span class="hljs-attr">prompt</span> = hub.pull(<span class="hljs-string">"rlm/rag-prompt"</span>)

def generate(query: str):
    <span class="hljs-attr">docs_content</span> = vector_db.similarity_search(query, k=<span class="hljs-number">3</span>)
    <span class="hljs-attr">messages</span> = prompt.invoke({<span class="hljs-string">"question"</span>: query, <span class="hljs-string">"context"</span>: docs_content})
    <span class="hljs-attr">response</span> = llm.invoke(messages)
    print({"answer": response.content})

generate("ç«æ˜Ÿä¸‰æ—¥æ¸¸æœ‰å“ªäº›å¥—é¤ï¼Ÿ")
<span class="hljs-comment"># {'answer': 'ç«æ˜Ÿä¸‰æ—¥æ¸¸æä¾›å¤šç§å¥—é¤ï¼ŒåŒ…æ‹¬ï¼š  \n1. **èµ¤ç„°æŒ‘æˆ˜è€…å¥—é¤**ï¼šæé™æ¢é™©ä¸»é¢˜ï¼Œå«ç«å±±é€Ÿé™ã€ç¿¼è£…ç©¿è¶Šç­‰åˆºæ¿€é¡¹ç›®ï¼Œé€‚åˆå†’é™©çˆ±å¥½è€…ã€‚  \n2. **çº¢é’»VIPå¥—é¤**ï¼šå¥¢åä½“éªŒä¸»é¢˜ï¼Œå«ç«æ˜ŸåœŸåœ°äº§æƒã€åŒæœˆéŸ³ä¹ä¼šç­‰é«˜ç«¯æœåŠ¡ï¼Œé€‚åˆä¼ä¸šé«˜ç®¡ã€‚  \n3. **æ˜Ÿç«å®éªŒå®¤å¥—é¤**ï¼ˆæ ¹æ®å¯¹æ¯”è¡¨è¡¥å……ï¼‰ï¼šäº²å­å‹å¥½ï¼Œä»¥å®¤å†…æ´»åŠ¨ä¸ºä¸»ï¼Œé€‚åˆå®¶åº­æ¸¸å®¢ã€‚'}</span>
generate("ä»ä¸åŒç»´åº¦å¯¹æ¯”ç«æ˜Ÿä¸‰æ—¥æ¸¸å¥—é¤")
<span class="hljs-comment"># {'answer': 'ä»ä¸åŒç»´åº¦å¯¹æ¯”ç«æ˜Ÿä¸‰æ—¥æ¸¸å¥—é¤ï¼š  \n1. **ä½“åŠ›è¦æ±‚**ï¼šèµ¤ç„°æŒ‘æˆ˜è€…ï¼ˆæé«˜ï¼‰ã€æ˜Ÿç«å®éªŒå®¤ï¼ˆä½ï¼‰ã€çº¢é’»VIPï¼ˆä¸­ç­‰ï¼‰ã€‚  \n2. **ç‹¬ç‰¹æƒç›Š**ï¼šèµ¤ç„°æŒ‘æˆ˜è€…ï¼ˆç™»é™†çºªå¿µç¢‘åˆ»åï¼‰ã€æ˜Ÿç«å®éªŒå®¤ï¼ˆç©¹é¡¶åŸå±•ç¤ºä½ï¼‰ã€çº¢é’»VIPï¼ˆç«æ˜ŸåœŸåœ°NFTï¼‰ã€‚  \n3. **ä»·æ ¼**ï¼šèµ¤ç„°æŒ‘æˆ˜è€…ï¼ˆ15ä¸‡ç¾å…ƒï¼‰ã€æ˜Ÿç«å®éªŒå®¤ï¼ˆ8ä¸‡ç¾å…ƒï¼‰ã€çº¢é’»VIPï¼ˆ25ä¸‡ç¾å…ƒï¼‰ã€‚'}</span>
generate("å•†åŠ¡äººå£«é€‚åˆå“ªä¸ªå¥—é¤")
<span class="hljs-comment"># {'answer': 'å•†åŠ¡äººå£«é€‚åˆ**çº¢é’»VIPå¥—é¤**ï¼Œè¯¥å¥—é¤ä¸“ä¸ºä¼ä¸šé«˜ç®¡/é«˜ç«¯å®¢æˆ·è®¾è®¡ï¼Œæä¾›å¥¢åä½“éªŒï¼ŒåŒ…æ‹¬ç«æ˜ŸåœŸåœ°äº§æƒå’ŒåŒæœˆéŸ³ä¹ä¼šç­‰ç‹¬å®¶æƒç›Šã€‚å…¶ä½“åŠ›è¦æ±‚ä¸­ç­‰ï¼Œä»¥è‰ºæœ¯åˆ›ä½œä¸ºä¸»ï¼Œå‚è€ƒä»·æ ¼ä¸º$250,000/äººã€‚'}</span>
</code></pre>
<h4 data-id="heading-23">6.2.3 åŸºäº Dify æ„å»º</h4>
<h5 data-id="heading-24">åˆ›å»ºçŸ¥è¯†åº“ï¼Œå°† markdown æ–‡æ¡£ä¿å­˜çš„â€œç«æ˜Ÿä¸‰æ—¥æ¸¸â€å¥—é¤ä¿¡æ¯å¯¼å…¥</h5>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5f963cd109f9459f9638effc5e9c09fb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rW35bCU5pm65oWn5a625oqA5pyv5bmz5Y-w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763711191&amp;x-signature=jUGy2AZVQzzuzBcd%2BlxFE7Cbp5k%3D" alt="image.png" loading="lazy"/></p>
<h5 data-id="heading-25">å°†å¯¼å…¥çš„æ–‡æœ¬è¿›è¡Œåˆ†æ®µ</h5>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5359e6a82fd14dd4bf671be874a39926~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rW35bCU5pm65oWn5a625oqA5pyv5bmz5Y-w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763711191&amp;x-signature=2cUv1ERUQl3CkEk8m02ARrswU2E%3D" alt="image.png" loading="lazy"/></p>
<h5 data-id="heading-26">é€‰æ‹©æ–‡æœ¬åµŒå…¥æ¨¡å‹åŠæ£€ç´¢è®¾ç½®</h5>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/af5f2e346ece4867b65117d553ef2c2c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rW35bCU5pm65oWn5a625oqA5pyv5bmz5Y-w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763711191&amp;x-signature=JGjtnKgCeGccwWmVa%2BAbsTTH7dM%3D" alt="image.png" loading="lazy"/></p>
<h5 data-id="heading-27">åˆ›å»ºåº”ç”¨</h5>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/817cee89d5504d0a910325a491b57af1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rW35bCU5pm65oWn5a625oqA5pyv5bmz5Y-w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763711191&amp;x-signature=BeV7ImYwgboReYeGzyUkjq2ax6M%3D" alt="image.png" loading="lazy"/></p>
<h5 data-id="heading-28">æ·»åŠ çŸ¥è¯†æ£€ç´¢èŠ‚ç‚¹ï¼Œå¹¶å…³è”åˆšæ‰åˆ›å»ºçš„çŸ¥è¯†åº“</h5>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3b8f98408a144e01aa03fe4a3cade0cf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rW35bCU5pm65oWn5a625oqA5pyv5bmz5Y-w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763711191&amp;x-signature=3w7xbSvx6hwE9opRmvKYboSw7vY%3D" alt="image.png" loading="lazy"/></p>
<h5 data-id="heading-29">é€‰æ‹©æ¨¡å‹ï¼Œå¹¶è®¾ç½®ç³»ç»Ÿæç¤ºè¯</h5>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/18a3ac9ffc484b5ea9bba6f0a4338d9b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rW35bCU5pm65oWn5a625oqA5pyv5bmz5Y-w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763711191&amp;x-signature=AbA5ZZzLbDqPd%2FLkSRi0ZeNB7tw%3D" alt="image.png" loading="lazy"/></p>
<h5 data-id="heading-30">è¿è¡Œå¹¶æµ‹è¯•åº”ç”¨</h5>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/046ffbf3076a4933904e37154acdbbd9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rW35bCU5pm65oWn5a625oqA5pyv5bmz5Y-w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763711191&amp;x-signature=wSf7PNQWRwDFym5y4x0dRd4fDHs%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d6a25021915644b19f644b352523a744~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rW35bCU5pm65oWn5a625oqA5pyv5bmz5Y-w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763711191&amp;x-signature=hOFZ%2BrmUpR5jytQELExwOizWXyQ%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/92f6a494134749f6a77e087c21e896ac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rW35bCU5pm65oWn5a625oqA5pyv5bmz5Y-w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763711191&amp;x-signature=b7O0PkvmaVwrBE5K%2FrRfsAiShrQ%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-31">7. å›¢é˜Ÿä»‹ç»</h2>
<p>ã€Œ<strong>ä¸‰ç¿¼é¸Ÿæ•°å­—åŒ–æŠ€æœ¯å¹³å°-ToCæœåŠ¡å¹³å°</strong>ã€ä»¥ç”¨æˆ·è¡Œä¸ºæ•°æ®ä¸ºåŸºç¡€ï¼Œåˆ©ç”¨æ¨èå¼•æ“ä¸ºç”¨æˆ·æä¾›â€œåƒäººåƒé¢â€çš„ä¸ªæ€§åŒ–æ¨èæœåŠ¡ï¼Œæ”¹å–„ç”¨æˆ·ä½“éªŒï¼ŒæŒç»­æå‡æ ¸å¿ƒä¸šåŠ¡æŒ‡æ ‡ã€‚é€šè¿‡æ„å»ºé«˜æ•ˆã€æ™ºèƒ½çš„çº¿ä¸Šè¿è¥ç³»ç»Ÿï¼Œå…¨é¢æ•´åˆæ•°æ®èµ„äº§ï¼Œå®ç°æ•°æ®åˆ†æ-äººç¾¤åœˆé€‰-ç”¨æˆ·è§¦è¾¾-åæ•ˆåˆ†æ-ç­–ç•¥ä¼˜åŒ–çš„è¿è¥é—­ç¯ï¼Œå¹¶æä¾›å¯è§†åŒ–æŠ¥è¡¨ï¼Œä¸€ç«™å¼æ“ä½œæå‡æ•°å­—åŒ–è¿è¥æ•ˆç‡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SCSSæ–°æ‰‹æ•™å­¦ï¼ˆçŸ¥è¯†ç‚¹æ¦‚è§ˆï¼‰]]></title>    <link>https://juejin.cn/post/7572161976593612852</link>    <guid>https://juejin.cn/post/7572161976593612852</guid>    <pubDate>2025-11-14T07:50:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572161976593612852" data-draft-id="7572207610494681122" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SCSSæ–°æ‰‹æ•™å­¦ï¼ˆçŸ¥è¯†ç‚¹æ¦‚è§ˆï¼‰"/> <meta itemprop="keywords" content="SCSS"/> <meta itemprop="datePublished" content="2025-11-14T07:50:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="thomaswade"/> <meta itemprop="url" content="https://juejin.cn/user/1514459496722620"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SCSSæ–°æ‰‹æ•™å­¦ï¼ˆçŸ¥è¯†ç‚¹æ¦‚è§ˆï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1514459496722620/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    thomaswade
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T07:50:27.000Z" title="Fri Nov 14 2025 07:50:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><p>scssï¼šsass3ä»¥åçš„æ–°è¯­æ³•ï¼ŒåŠŸèƒ½å®Œå…¨ç­‰ä»·ï¼Œè¯­æ³•ä¸Š{
scssä½¿ç”¨å¤§æ‹¬å·ï¼Œsassä½¿ç”¨ç¼©è¿›
}ä¸èƒ½æ··ç”¨ï¼Œä¼šæŠ¥é”™
å¹¶ä¸”scssä¸­å¯ä»¥ç›´æ¥å†™css</p>
<p><code>Sass</code>æœ‰ä¸‰ä¸ªç‰ˆæœ¬<code>Dart Sass</code>ã€<code>libsass</code>å’Œ<code>Ruby Sass</code></p>
<p>npm install -g sass å…¨å±€å®‰è£…sass</p>
<p>scssé€‰æ‹©å™¨åµŒå¥—è¯­æ³• é¿å…é‡å¤è¾“å…¥çˆ¶é€‰æ‹©å™¨ï¼Œæé«˜å¼€å‘æ•ˆç‡ï¼Œå‡å°‘æ ·å¼è¦†ç›–å¯èƒ½é€ æˆçš„å¼‚å¸¸é—®é¢˜
å±æ€§ä¹Ÿå¯ä»¥åµŒå¥—ï¼Œä¾‹.container {
font: {
family: fantasy;
size: 30em;
weight: bold;
}
}
ç­‰ä»·äº.container {
font-family: fantasy;
font-size: 30em;
font-weight: bold;
}é¿å…é‡å¤è¾“å…¥ç›¸åŒçš„å¼€å¤´</p>
<p>çˆ¶é€‰æ‹©å™¨&amp; å°±æ˜¯å‘ä¸Šæ‰¾ä¸€å±‚ï¼Œé€‰æ‹©ä¸Šå¤–å±‚çš„çˆ¶é€‰æ‹©å™¨ ç”¨æ³• &amp;ï¼š  å³å¯</p>
<p>æ³¨é‡Š/*   */ç¼–è¯‘æ—¶ä¼šè¢«ç¼–è¯‘åˆ°cssæ–‡ä»¶ä¸­
æ³¨é‡Š//     ç¼–è¯‘æ—¶ä¸ä¼šç¼–è¯‘åˆ°cssæ–‡ä»¶ä¸­ï¼ˆscssä¸“å±æ³¨é‡Šï¼‰</p>
<p>å˜é‡
$ èµ‹å€¼å†™æ³•ä¸cssç›¸åŒ
{</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-number">1.</span> å˜é‡ä»¥ç¾å…ƒç¬¦å·<span class="hljs-string">`$`</span>å¼€å¤´ï¼Œåé¢è·Ÿå˜é‡åï¼›
    
<span class="hljs-number">2.</span> å˜é‡åæ˜¯ä¸ä»¥æ•°å­—å¼€å¤´çš„å¯åŒ…å«å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ã€æ¨ªçº¿ï¼ˆè¿æ¥ç¬¦ï¼‰ï¼›
    
<span class="hljs-number">3.</span> é€šè¿‡è¿æ¥ç¬¦<span class="hljs-string">`-`</span>ä¸ä¸‹åˆ’çº¿<span class="hljs-string">`_`</span>å®šä¹‰çš„åŒåå˜é‡ä¸ºåŒä¸€å˜é‡ï¼›
    
<span class="hljs-number">4.</span> å˜é‡ä¸€å®šè¦å…ˆå®šä¹‰ï¼Œåä½¿ç”¨ï¼›
    
<span class="hljs-number">5.</span> å†™æ³•åŒ<span class="hljs-string">`css`</span>ï¼Œå³å˜é‡åå’Œå€¼ä¹‹é—´ç”¨å†’å·<span class="hljs-string">`:`</span>åˆ†éš”ï¼›
</code></pre>
<p>}</p>
<p>å˜é‡ä½œç”¨åŸŸï¼šåµŒå¥—è§„åˆ™å†…å®šä¹‰çš„å˜é‡åªèƒ½åœ¨åµŒå¥—è§„åˆ™å†…ä½¿ç”¨ï¼Œä½†å£°æ˜åœ¨æœ€å¤–å±‚çš„å˜é‡å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨ï¼Œå±äºå…¨å±€å˜é‡
ï¼globalå¯ä»¥å°†å±€éƒ¨å˜é‡æå‡ä¸ºå…¨å±€å˜é‡</p>
<p>scssæ•°æ®ç±»å‹{</p>
<p>numberï¼›stringï¼›colorï¼›booleanï¼›nullï¼›æ•°ç»„ï¼ˆç”¨ç©ºæ ¼æˆ–é€—å·åˆ†å¼€ï¼‰ï¼›mapsï¼ˆç±»ä¼¼äºjsçš„object é”®å€¼å¯¹ï¼‰</p>
<p>}</p>
<p>ï¼defaultâ€œæ¸©æŸ”é»˜è®¤å€¼â€ï¼Œå¦‚æœæ²¡æœ‰å…¶ä»–èµ‹å€¼ï¼Œå°±ä½¿ç”¨ï¼defaultæ‰€æ ‡æ³¨çš„èµ‹å€¼ï¼Œæœ‰å…¶ä»–èµ‹å€¼å°±å½“ï¼defaultä¸å­˜åœ¨</p>
<p>==      !=     æ­£å¸¸è§„åˆ™</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-quote">&gt;    &lt;     &gt;=    &lt;=     æ­£å¸¸è§„åˆ™   </span>
</code></pre>
<p>and     or     not</p>
<p>åŠ å‡ä¹˜é™¤ä½™ï¼ˆçº¯æ•°å­—ä¸ç™¾åˆ†å·æˆ–å•ä½è¿ç®—æ—¶ä¼šè‡ªåŠ¨è½¬åŒ–æˆç›¸åº”çš„ç™¾åˆ†æ¯”ä¸å•ä½å€¼ï¼‰</p>
<p>åŠ è¿˜å¯è¿æ¥å­—ç¬¦ä¸²{</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> <span class="hljs-code">`+`</span>å¯ç”¨äºè¿æ¥å­—ç¬¦ä¸²ï¼›
<span class="hljs-code">    
2. å¦‚æœæœ‰å¼•å·å­—ç¬¦ä¸²ï¼ˆä½äº + å·¦ä¾§ï¼‰è¿æ¥æ— å¼•å·å­—ç¬¦ä¸²ï¼Œè¿ç®—ç»“æœæ˜¯æœ‰å¼•å·çš„ï¼›
    
3. æ— å¼•å·å­—ç¬¦ä¸²ï¼ˆä½äº + å·¦ä¾§ï¼‰è¿æ¥æœ‰å¼•å·å­—ç¬¦ä¸²ï¼Œè¿ç®—ç»“æœåˆ™æ²¡æœ‰å¼•å·ã€‚
</span></code></pre>
<p>}</p>
<p>æ’å€¼è¯­å¥#{}     è§„åˆ™ä¸jsæ¨¡ç‰ˆå­—ç¬¦ä¸²ç±»ä¼¼</p>
<p>@import å¯¼å…¥æ–‡ä»¶   ä»¥ä¸‹æƒ…å†µä¸‹ï¼Œ<code>@import</code>Â ä»…ä½œä¸ºæ™®é€šçš„<code>css</code>è¯­å¥ï¼Œä¸ä¼šå¯¼å…¥<code>scss</code>æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-number">1.</span> æ–‡ä»¶æ‹“å±•åæ˜¯<span class="hljs-string">`.css`</span>ï¼›
    
<span class="hljs-number">2.</span> æ–‡ä»¶åä»¥Â <span class="hljs-string">`http://`</span>å¼€å¤´ï¼›
    
<span class="hljs-number">3.</span> æ–‡ä»¶åæ˜¯<span class="hljs-string">`url()`</span>ï¼›
    
<span class="hljs-number">4.</span> <span class="hljs-string">`@import`</span>åŒ…å«åª’ä½“æŸ¥è¯¢ã€‚
</code></pre>
<p>@mediaåª’ä½“æŸ¥è¯¢å¢å¼º
<code>@media</code>Â æŒ‡ä»¤å…è®¸åœ¨<code>css</code>è§„åˆ™ä¸­åµŒå¥—ï¼Œç¼–è¯‘æ—¶ï¼Œ<code>@media</code>Â å°†è¢«ç¼–è¯‘åˆ°æ–‡ä»¶çš„æœ€å¤–å±‚ï¼ŒåŒ…å«åµŒå¥—çš„çˆ¶é€‰æ‹©å™¨ã€‚
<code>@media</code>å…è®¸äº’ç›¸åµŒå¥—ä½¿ç”¨ï¼Œç¼–è¯‘æ—¶ï¼Œ<code>scss</code>è‡ªåŠ¨æ·»åŠ  and</p>
<p>mixin  æ··å…¥  å®šä¹‰å¯é‡å¤ä½¿ç”¨çš„æ ·å¼     ä¾‹
@mixin block {
width: 96%;
margin-left: 2%;
border-radius: 8px;
border: 1px #f6f6f6 solid;
}
.container {
.block {
@include block;
}
}
è¿˜å¯ä»¥ä¼ å…¥å‚æ•°
å‚æ•°è¿˜å¯åˆ¶å®šé»˜è®¤å€¼ï¼Œè°ƒç”¨æ—¶æºå¸¦å‚æ•°åˆ™ä½¿ç”¨æºå¸¦çš„å‚æ•°ï¼Œä¸æºå¸¦åˆ™ä½¿ç”¨é»˜è®¤å€¼</p>
<p>æ€»ç»“</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-number">1.</span> <span class="hljs-string">`mixin`</span>æ˜¯å¯ä»¥é‡å¤ä½¿ç”¨çš„ä¸€ç»„<span class="hljs-string">`css`</span>å£°æ˜ï¼Œæœ‰åŠ©äºå‡å°‘é‡å¤ä»£ç ï¼Œåªéœ€å£°æ˜ä¸€æ¬¡ï¼Œå°±å¯åœ¨æ–‡ä»¶ä¸­å¼•ç”¨ï¼›
    
<span class="hljs-number">2.</span> æ··åˆæŒ‡ä»¤å¯ä»¥åŒ…å«æ‰€æœ‰çš„Â <span class="hljs-string">`css`</span>è§„åˆ™ï¼Œç»å¤§éƒ¨åˆ†<span class="hljs-string">`scss`</span>è§„åˆ™ï¼Œå¯ä»¥ä¼ é€’å‚æ•°ï¼Œè¾“å‡ºå¤šæ ·åŒ–çš„æ ·å¼ï¼›
    
<span class="hljs-number">3.</span> ä½¿ç”¨å‚æ•°æ—¶å»ºè®®åŠ ä¸Šé»˜è®¤å€¼ï¼›
    
<span class="hljs-number">4.</span> <span class="hljs-string">`@import`</span>å¯¼å…¥å±€éƒ¨æ¨¡å—åŒ–æ ·å¼ï¼ˆç±»ä¼¼åŠŸèƒ½ã€åŒä¸€ç»„ä»¶ï¼‰ï¼›
    
<span class="hljs-number">5.</span> <span class="hljs-string">`@minix`</span>å®šä¹‰çš„æ˜¯å¯é‡å¤ä½¿ç”¨çš„æ ·å¼
</code></pre>
<p>@function ç”¨äºå°è£…å¤æ‚çš„æ“ä½œ ç”¨æ³•ä¸mixinç±»ä¼¼
@functionä¸€èˆ¬ç”¨æ¥è®¡ç®—ï¼Œè€Œmixinç”¨æ¥å°è£…æ ·å¼</p>
<p>@extend ç»§æ‰¿
@functionå’Œ@mixinéƒ½æ˜¯å°è£…å¥½ä¸€ä¸ªå‡½æ•°ï¼Œç„¶ååç»­è°ƒç”¨
è€Œ@extendåˆ™æ˜¯å†™å¥½ä¸€ä¸ªæ ·å¼åï¼Œåœ¨è¦è°ƒç”¨è¿™ä¸ªæ ·å¼çš„æ—¶å€™@extend+è¿™ä¸ªæ ·å¼
å¯ä»¥ä½¿ç”¨å¤šä¸ª@extend   ç»§æ‰¿ä¹Ÿå¯ä»¥åµŒå¥—ï¼Œå®ç°å¤šå±‚ç»§æ‰¿</p>
<p>@use ä»£æ›¿ @import</p>
<p>@at-root ç”¨æ¥è·³å‡ºåµŒå¥—è¿›è¡Œæ“ä½œ
@withoutå’Œwith
é»˜è®¤<code>@at-root</code>åªä¼šè·³å‡ºé€‰æ‹©å™¨åµŒå¥—ï¼Œè€Œä¸èƒ½è·³å‡º<code>@media</code>æˆ–<code>@support</code>ï¼Œå¦‚æœè¦è·³å‡ºè¿™ä¸¤ç§ï¼Œåˆ™éœ€ä½¿ç”¨<code>@at-root (without: media)</code>æˆ–<code>@at-root (without: support)</code>ï¼Œ<code>@at-root</code>çš„å…³é”®è¯æœ‰å››ä¸ªï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-number">1.</span> <span class="hljs-string">`all`</span>è¡¨ç¤ºæ‰€æœ‰ï¼›
    
<span class="hljs-number">2.</span> <span class="hljs-string">`rule`</span>è¡¨ç¤ºå¸¸è§„<span class="hljs-string">`css`</span>é€‰æ‹©å™¨ï¼›
    
<span class="hljs-number">3.</span> <span class="hljs-string">`media`</span>Â è¡¨ç¤º<span class="hljs-string">`media`</span>ï¼›
    
<span class="hljs-number">4.</span> <span class="hljs-string">`support`</span>è¡¨ç¤º<span class="hljs-string">`support`</span>ï¼ˆ<span class="hljs-string">`@support`</span>ä¸»è¦æ˜¯ç”¨äºæ£€æµ‹æµè§ˆå™¨æ˜¯å¦æ”¯æŒ<span class="hljs-string">`css`</span>çš„æŸä¸ªå±æ€§ï¼‰ã€‚
</code></pre>
<p>scsså†…ç½®æ‰©å±•</p>
<p>color <code>lighten()</code>ä¸Â <code>darken()</code>å¯ç”¨äºè°ƒäº®æˆ–è°ƒæš—é¢œè‰²ï¼Œ<code>opacify()</code>ä½¿é¢œè‰²é€æ˜åº¦å‡å°‘ï¼Œ<code>transparent()</code>ä½¿é¢œè‰²é€æ˜åº¦å¢åŠ ï¼Œ<code>mix()</code>ç”¨æ¥æ··åˆä¸¤ç§é¢œè‰²</p>
<p>String å‘å­—ç¬¦ä¸²æ·»åŠ å¼•å·çš„<code>quote()</code>ã€è·å–å­—ç¬¦ä¸²é•¿åº¦çš„<code>string-length()</code>å’Œå°†å†…å®¹æ’å…¥å­—ç¬¦ä¸²ç»™å®šä½ç½®çš„<code>string-insert()</code></p>
<p>math <code>percentage()</code>å°†æ— å•å…ƒçš„æ•°å€¼è½¬æ¢ä¸ºç™¾åˆ†æ¯”ï¼Œ<code>round()</code>å°†æ•°å­—å››èˆäº”å…¥ä¸ºæœ€æ¥è¿‘çš„æ•´æ•°ï¼Œ<code>min()</code>å’Œ<code>max()</code>è·å–å‡ ä¸ªæ•°å­—ä¸­çš„æœ€å°å€¼æˆ–æœ€å¤§å€¼ï¼Œ<code>random()</code>è¿”å›ä¸€ä¸ªéšæœºæ•°</p>
<p>list <code>length()</code>è¿”å›åˆ—è¡¨é•¿åº¦ï¼Œ<code>nth()</code>è¿”å›åˆ—è¡¨ä¸­çš„ç‰¹å®šé¡¹ï¼Œ<code>join()</code>å°†ä¸¤ä¸ªåˆ—è¡¨è¿æ¥åœ¨ä¸€èµ·ï¼Œa<code>ppend()</code>åœ¨åˆ—è¡¨æœ«å°¾æ·»åŠ ä¸€ä¸ªå€¼</p>
<p><code>Map</code> <code>map-get()</code>æ ¹æ®é”®å€¼è·å–<code>map</code>ä¸­çš„å¯¹åº”å€¼ï¼Œ<code>map-merge()</code>æ¥å°†ä¸¤ä¸ª<code>map</code>åˆå¹¶æˆä¸€ä¸ªæ–°çš„<code>map</code>ï¼Œ<code>map-values()</code>æ˜ å°„ä¸­çš„æ‰€æœ‰å€¼</p>
<p>selector <code>selector-append()</code>å¯ä»¥æŠŠä¸€ä¸ªé€‰æ‹©ç¬¦é™„åŠ åˆ°å¦ä¸€ä¸ªé€‰æ‹©ç¬¦ï¼Œ<code>selector-unify()</code>å°†ä¸¤ç»„é€‰æ‹©å™¨åˆæˆä¸€ä¸ªå¤åˆé€‰æ‹©å™¨</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Next.jsè·¯ç”±å…¨è§£æï¼šPages Router ä¸ App Routerï¼Œä½ é€‰å¯¹äº†å—ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7572138663121567786</link>    <guid>https://juejin.cn/post/7572138663121567786</guid>    <pubDate>2025-11-14T07:58:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572138663121567786" data-draft-id="7572137760447987753" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Next.jsè·¯ç”±å…¨è§£æï¼šPages Router ä¸ App Routerï¼Œä½ é€‰å¯¹äº†å—ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,Next.js"/> <meta itemprop="datePublished" content="2025-11-14T07:58:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§å‰ç«¯å†é™©è®°"/> <meta itemprop="url" content="https://juejin.cn/user/395479916219517"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Next.jsè·¯ç”±å…¨è§£æï¼šPages Router ä¸ App Routerï¼Œä½ é€‰å¯¹äº†å—ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/395479916219517/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§å‰ç«¯å†é™©è®°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T07:58:13.000Z" title="Fri Nov 14 2025 07:58:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å¤§é±¼ï¼Œä¸€åçƒ­çˆ±å‰ç«¯çš„æ™®é€šå¼€å‘è€…ã€‚</p>
</blockquote>
<p>ä»Šå¤©æˆ‘ä»¬æ¥æ·±å…¥æ¢è®¨Next.jsä¸­ä¸¤ä¸ªé‡è¦çš„è·¯ç”±ç³»ç»Ÿï¼šPages Routerå’ŒApp Routerã€‚</p>
<h2 data-id="heading-0">ä»€ä¹ˆæ˜¯Next.jsè·¯ç”±ï¼Ÿ</h2>
<p>åœ¨å¼€å§‹æ·±å…¥æ¯”è¾ƒä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆç®€å•å›é¡¾ä¸€ä¸‹Next.jsçš„è·¯ç”±ç³»ç»Ÿã€‚Next.jsä½¿ç”¨åŸºäºæ–‡ä»¶ç³»ç»Ÿçš„è·¯ç”±ï¼Œè¿™æ„å‘³ç€ä½ æ–‡ä»¶ç›®å½•çš„ç»“æ„å†³å®šäº†ä½ åº”ç”¨ç¨‹åºçš„è·¯ç”±ç»“æ„ã€‚</p>
<p>å¤šå¹´æ¥ï¼ŒNext.jså¼€å‘è€…ä¹ æƒ¯å°†é¡µé¢æ”¾ç½®åœ¨"pages"ç›®å½•ä¸­ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„<strong>Pages Router</strong>ã€‚</p>
<p>åæ¥ï¼ŒNext.jsæ¨å‡ºäº†æ–°çš„<strong>App Router</strong>ï¼Œæ˜¾è‘—æ”¹å˜äº†æˆ‘ä»¬åˆ›å»ºé¡µé¢çš„æ–¹å¼ã€‚</p>
<h2 data-id="heading-1">Pages Routerï¼šç»å…¸è€Œæˆç†Ÿçš„é€‰æ‹©</h2>
<h3 data-id="heading-2">åŸºæœ¬ç»“æ„</h3>
<p>åœ¨Pages Routerä¸­ï¼Œä½ çš„é¡¹ç›®ç»“æ„é€šå¸¸æ˜¯è¿™æ ·ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">â””â”€â”€ pages
<span class="hljs-code">    â”œâ”€â”€ about.js
    â”œâ”€â”€ index.js
    â””â”€â”€ team.js
</span></code></pre>
<p>æ¯ä¸ªJavaScript/TypeScriptæ–‡ä»¶å¯¹åº”ä¸€ä¸ªè·¯ç”±ï¼Œä¾‹å¦‚<code>pages/about.js</code>å¯¹åº”<code>/about</code>è·¯ç”±ã€‚</p>
<h3 data-id="heading-3">ç‰¹ç‚¹ä¸ä½¿ç”¨æ–¹å¼</h3>
<p>Pages Routeré‡‡ç”¨"å®¢æˆ·ç«¯ä¼˜å…ˆ"çš„æ€ç»´æ¨¡å¼ï¼Œé€šè¿‡<code>getServerSideProps</code>ç­‰å‡½æ•°"æ‹‰å–"æœåŠ¡ç«¯èƒ½åŠ›ã€‚æ•°æ®è·å–ä¸»è¦åœ¨é¡µé¢çº§åˆ«ï¼Œé›†ä¸­åœ¨<code>getStaticProps</code>/<code>getServerSideProps</code>ä¸­ã€‚</p>
<p>åœ¨Pages Routerä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>useRouter</code>Hookæ¥å®ç°é¡µé¢è·³è½¬ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useRouter } <span class="hljs-keyword">from</span> <span class="hljs-string">'next/router'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">MyComponent</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> router = <span class="hljs-title function_">useRouter</span>();
  
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClick</span> = (<span class="hljs-params"/>) =&gt; {
    router.<span class="hljs-title function_">push</span>(<span class="hljs-string">'/about'</span>);
  };
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleClick}</span>&gt;</span>
      è·³è½¬åˆ°å…³äºé¡µé¢
    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
  );
}
</code></pre>
<p>ä¸æµè§ˆå™¨åŸç”Ÿçš„<code>window.location.href</code>èµ‹å€¼ä¸åŒï¼Œä½¿ç”¨<code>useRouter</code>çš„<code>push</code>æ–¹æ³•ä¸ä¼šå¯¼è‡´æ•´ä¸ªé¡µé¢çš„å®Œå…¨é‡åŠ è½½ï¼Œè¿™å¯¹æ€§èƒ½æ›´åŠ æœ‰åˆ©ã€‚</p>
<h2 data-id="heading-4">App Routerï¼šé¢å‘æœªæ¥çš„æ–°èŒƒå¼</h2>
<h3 data-id="heading-5">åŸºæœ¬ç»“æ„</h3>
<p>App Routerå¼•å…¥äº†å…¨æ–°çš„ç›®å½•ç»“æ„ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-attribute">src</span>/
â””â”€â”€ app
    â”œâ”€â”€ about
    â”‚   â””â”€â”€ page<span class="hljs-selector-class">.js</span>
    â”œâ”€â”€ globals<span class="hljs-selector-class">.css</span>
    â”œâ”€â”€ layout<span class="hljs-selector-class">.js</span>
    â”œâ”€â”€ login
    â”‚   â””â”€â”€ page<span class="hljs-selector-class">.js</span>
    â”œâ”€â”€ page<span class="hljs-selector-class">.js</span> 
    â””â”€â”€ team
        â””â”€â”€ route<span class="hljs-selector-class">.js</span>
</code></pre>
<p>åˆ›å»ºåº”ç”¨ç¨‹åºçš„çº¦å®šå¦‚ä¸‹ï¼š</p>
<ul>
<li>åº”ç”¨ä¸­çš„æ¯ä¸ªé¡µé¢éƒ½æœ‰è‡ªå·±çš„ç›®å½•ï¼Œç›®å½•åç§°å®šä¹‰URLè·¯å¾„</li>
<li>æµè§ˆå™¨ä¸­è®¿é—®è·¯å¾„æ—¶æ¸²æŸ“çš„ç»„ä»¶æ˜¯page.js</li>
<li>æ¯ä¸ªé¡µé¢çš„ç›®å½•ä¸­å¯ä»¥æ”¾ç½®å‡ ä¸ªå…·æœ‰ä¿ç•™åç§°çš„æ–‡ä»¶ï¼Œå¦‚<code>loading.js</code>ã€<code>template.js</code>å’Œ<code>layout.js</code></li>
</ul>
<h3 data-id="heading-6">æ ¸å¿ƒç‰¹æ€§</h3>
<h4 data-id="heading-7">æœåŠ¡å™¨ç»„ä»¶ä¸å®¢æˆ·ç«¯ç»„ä»¶</h4>
<p>App Routerä¸­æœ€é‡å¤§çš„å˜åŒ–æ˜¯ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œåº”ç”¨ç¨‹åºç›®å½•ä¸­çš„ä»»ä½•ç»„ä»¶éƒ½æ˜¯<strong>æœåŠ¡å™¨ç»„ä»¶</strong>ã€‚è¿™æ„å‘³ç€ï¼š</p>
<ul>
<li><strong>æœåŠ¡å™¨ç»„ä»¶</strong>åœ¨æœåŠ¡å™¨ä¸Šå‘ˆç°ï¼Œæ‰€æœ‰ä»£ç éƒ½ä¿ç•™åœ¨æœåŠ¡å™¨ä¸Š</li>
<li>ä¸èƒ½ä½¿ç”¨å®¢æˆ·ç«¯åŠŸèƒ½å¦‚windowå¯¹è±¡æˆ–Reactä¸­çš„å…¸å‹é’©å­</li>
<li>å¯ä»¥é€šè¿‡åœ¨æ–‡ä»¶é¡¶éƒ¨å£°æ˜"use client"æ¥å£°æ˜<strong>å®¢æˆ·ç«¯ç»„ä»¶</strong></li>
</ul>
<h4 data-id="heading-8">å¸ƒå±€ç³»ç»Ÿ</h4>
<p>App RouteråŸç”Ÿæ”¯æŒå¸ƒå±€ï¼Œé€šè¿‡<code>layout.js</code>æ–‡ä»¶å®ç°ã€‚å¸ƒå±€ç»„ä»¶å¯ä»¥åº”ç”¨äºå¤šä¸ªé¡µé¢ï¼Œå¦‚æœå­ç›®å½•æ²¡æœ‰å•ç‹¬æŒ‡å®šå¸ƒå±€ï¼Œåˆ™ä½¿ç”¨é¡¶çº§å¸ƒå±€ã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// layout.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">LoginLayout</span>(<span class="hljs-params">{ children }</span>) {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'login-area'</span>&gt;</span>{children}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
}
</code></pre>
<p>å¸ƒå±€ä¼šè‡ªåŠ¨åº”ç”¨äºå…¶ä¸‹çš„æ‰€æœ‰é¡µé¢ï¼Œæ— éœ€åœ¨é¡µé¢æ–‡ä»¶ä¸­é¢å¤–æŒ‡å®šã€‚</p>
<h4 data-id="heading-9">æ•°æ®è·å–</h4>
<p>App Routerå¼•å…¥äº†ç»„ä»¶çº§æ•°æ®è·å–ï¼Œä¸Pages Routerçš„é¡µé¢çº§æ•°æ®è·å–å½¢æˆé²œæ˜å¯¹æ¯”ã€‚åœ¨Server Componentä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨async/awaitå’Œfetchï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">BlogPost</span>(<span class="hljs-params">{ slug }</span>) {
  <span class="hljs-keyword">const</span> post = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api/posts/<span class="hljs-subst">${slug}</span>`</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-title function_">json</span>());
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">article</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{post.title}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{post.content}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">article</span>&gt;</span></span>
  );
}
</code></pre>
<h2 data-id="heading-10">æ·±åº¦å¯¹æ¯”ï¼šPages Router vs App Router</h2>
<h3 data-id="heading-11">åŠŸèƒ½ç‰¹æ€§å¯¹æ¯”</h3>



































<table><thead><tr><th>ç‰¹æ€§</th><th>Pages Router</th><th>App Router</th></tr></thead><tbody><tr><td><strong>é»˜è®¤ç»„ä»¶ç±»å‹</strong></td><td>å®¢æˆ·ç«¯ç»„ä»¶</td><td>æœåŠ¡å™¨ç»„ä»¶</td></tr><tr><td><strong>æ€ç»´æ¨¡å¼</strong></td><td>"å®¢æˆ·ç«¯ä¼˜å…ˆ"</td><td>"æœåŠ¡å™¨ä¼˜å…ˆ"</td></tr><tr><td><strong>æ•°æ®è·å–</strong></td><td>é¡µé¢çº§åˆ«ï¼Œé›†ä¸­åœ¨getStaticProps/getServerSidePropsä¸­</td><td>ç»„ä»¶çº§åˆ«ï¼Œåœ¨å„ä¸ªServer Componentå†…éƒ¨</td></tr><tr><td><strong>å¸ƒå±€ç³»ç»Ÿ</strong></td><td>é€šè¿‡_app.jså’ŒgetLayoutæ¨¡å¼å®ç°ï¼ŒéåŸç”Ÿ</td><td>åŸç”Ÿæ”¯æŒï¼Œæ–‡ä»¶ç³»ç»Ÿç»“æ„å¤©ç„¶æ”¯æŒåµŒå¥—</td></tr><tr><td><strong>å®¢æˆ·ç«¯JS</strong></td><td>æ•´ä¸ªé¡µé¢çš„æ‰€æœ‰ç»„ä»¶ä»£ç éƒ½ä¼šè¢«å‘é€åˆ°å®¢æˆ·ç«¯</td><td>åªæœ‰æ ‡è®°ä¸º"use client"çš„ç»„ä»¶åŠå…¶å­ç»„ä»¶çš„JSä¼šè¢«å‘é€</td></tr></tbody></table>
<h3 data-id="heading-12">æ€§èƒ½å¯¹æ¯”</h3>
<p>åœ¨æ€§èƒ½æ–¹é¢ï¼ŒApp Routerçš„æ¶æ„ä¼˜åŠ¿æ˜¯å‹å€’æ€§çš„ã€‚é€šè¿‡é»˜è®¤ä½¿ç”¨Server Componentsï¼Œå®ƒä»æ ¹æœ¬ä¸Šè§£å†³äº†å®¢æˆ·ç«¯JavaScriptè¿‡å¤§çš„é—®é¢˜ã€‚</p>
<h3 data-id="heading-13">å­¦ä¹ æ›²çº¿ä¸ç”Ÿæ€ç³»ç»Ÿ</h3>
<ul>
<li>
<p><strong>Pages Router</strong>ï¼šç”Ÿæ€ç³»ç»Ÿæå…¶æˆç†Ÿï¼Œå­¦ä¹ æ›²çº¿è¾ƒä½ï¼Œå¯¹äºæœ‰React SPAç»éªŒçš„å¼€å‘è€…æ¥è¯´éå¸¸ç†Ÿæ‚‰</p>
</li>
<li>
<p><strong>App Router</strong>ï¼šç”Ÿæ€ç³»ç»Ÿæ­£åœ¨å¿«é€Ÿå‘å±•ä¸­ï¼Œå­¦ä¹ æ›²çº¿è¾ƒé«˜ï¼Œéœ€è¦ç†è§£Server/Clientç»„ä»¶çš„åŒºåˆ«ç­‰æ–°æ¦‚å¿µ</p>
</li>
</ul>
<h2 data-id="heading-14">å†³ç­–æŒ‡å—ï¼šå¦‚ä½•é€‰æ‹©ï¼Ÿ</h2>
<h3 data-id="heading-15">é€‰æ‹© App Routerï¼Œå¦‚æœï¼š</h3>
<ul>
<li>âœ… ä½ æ­£åœ¨å¼€å§‹ä¸€ä¸ªå…¨æ–°çš„é¡¹ç›®ï¼Œæ²¡æœ‰å†å²åŒ…è¢±</li>
<li>âœ… æ€§èƒ½æ˜¯ä½ çš„é¦–è¦è€ƒé‡ï¼Œä½ å¸Œæœ›ä»ä¸€å¼€å§‹å°±æ„å»ºæœ€å¿«ã€æœ€è½»é‡çš„åº”ç”¨</li>
<li>âœ… ä½ çš„åº”ç”¨æœ‰å¤æ‚çš„ã€åµŒå¥—çš„å¸ƒå±€å’Œæ•°æ®ä¾èµ–å…³ç³»</li>
<li>âœ… ä½ çš„å›¢é˜Ÿä¹äºå­¦ä¹ å’Œæ‹¥æŠ±æ–°æŠ€æœ¯</li>
<li>âœ… ä½ æ­£åœ¨æ„å»ºä¸€ä¸ªæ•°æ®å¯†é›†å‹ã€å†…å®¹é©±åŠ¨çš„åº”ç”¨ï¼ˆå¦‚ä»ªè¡¨ç›˜ã€ç”µå•†ç½‘ç«™ã€CMSå‰ç«¯ï¼‰</li>
</ul>
<h3 data-id="heading-16">é€‰æ‹© Pages Routerï¼Œå¦‚æœï¼š</h3>
<ul>
<li>ğŸŸ¡ ä½ æ­£åœ¨ç»´æŠ¤æˆ–è¿­ä»£ä¸€ä¸ªç°æœ‰çš„ã€åŸºäºPages Routerçš„é¡¹ç›®</li>
<li>ğŸŸ¡ ä½ çš„é¡¹ç›®é«˜åº¦ä¾èµ–æŸä¸ªå°šæœªå®Œå…¨æ”¯æŒApp Routerçš„ç¬¬ä¸‰æ–¹åº“</li>
<li>ğŸŸ¡ å›¢é˜Ÿæˆå‘˜å¯¹RSCä¸ç†Ÿæ‚‰ï¼Œä¸”é¡¹ç›®äº¤ä»˜æ—¶é—´éå¸¸ç´§å¼ </li>
<li>ğŸŸ¡ ä½ çš„åº”ç”¨æ˜¯ä¸€ä¸ªéå¸¸ç®€å•ã€ä»¥äº¤äº’ä¸ºä¸»çš„è½»é‡çº§SPAï¼ŒæœåŠ¡ç«¯æ¸²æŸ“çš„éœ€æ±‚å¾ˆä½</li>
</ul>
<h3 data-id="heading-17">æ··åˆæ¨¡å¼çš„å¯èƒ½æ€§</h3>
<p>Next.jså…è®¸ä½ åœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸­åŒæ—¶ä½¿ç”¨<code>app</code>å’Œ<code>pages</code>ç›®å½•ã€‚è¿™ä¸ºæ¸è¿›å¼è¿ç§»æä¾›äº†ä¸€æ¡å¹³æ»‘çš„è·¯å¾„ã€‚ä½ å¯ä»¥å…ˆåœ¨ç°æœ‰é¡¹ç›®ä¸­å¼•å…¥<code>app</code>ç›®å½•æ¥å¼€å‘æ–°åŠŸèƒ½ï¼Œé€æ­¥ä½“éªŒApp Routerçš„ä¼˜åŠ¿ã€‚</p>
<h2 data-id="heading-18">å®æˆ˜å»ºè®®</h2>
<h3 data-id="heading-19">ä»Pages Routerè¿ç§»åˆ°App Router</h3>
<p>å¦‚æœä½ è®¡åˆ’ä»Pages Routerè¿ç§»åˆ°App Routerï¼Œå¯ä»¥è€ƒè™‘ä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li><strong>é€æ­¥è¿ç§»</strong>ï¼šåˆ©ç”¨æ··åˆæ¨¡å¼ï¼Œé€æ­¥å°†é¡µé¢ä»pagesç›®å½•è¿ç§»åˆ°appç›®å½•</li>
<li><strong>ç»„ä»¶é€‚é…</strong>ï¼šå°†ä½¿ç”¨Reacté’©å­æˆ–æµè§ˆå™¨APIçš„ç»„ä»¶æ ‡è®°ä¸ºå®¢æˆ·ç«¯ç»„ä»¶</li>
<li><strong>æ•°æ®è·å–</strong>ï¼šå°†getStaticProps/getServerSidePropsé‡æ„ä¸ºç»„ä»¶çº§æ•°æ®è·å–</li>
<li><strong>å¸ƒå±€é‡æ„</strong>ï¼šåˆ©ç”¨App Routerçš„å¸ƒå±€ç³»ç»Ÿç®€åŒ–ä½ çš„å¸ƒå±€ä»£ç </li>
</ol>
<h3 data-id="heading-20">å¼€å‘æŠ€å·§</h3>
<ol>
<li><strong>æ˜ç¡®ç»„ä»¶è¾¹ç•Œ</strong>ï¼šåœ¨App Routerä¸­ï¼Œè¦æ¸…æ™°ç•Œå®šæœåŠ¡å™¨ç»„ä»¶å’Œå®¢æˆ·ç«¯ç»„ä»¶çš„èŒè´£</li>
<li><strong>åˆ©ç”¨æµå¼æ¸²æŸ“</strong>ï¼šApp Routeræ”¯æŒæµå¼æ¸²æŸ“ï¼Œå¯ä»¥æ˜¾è‘—æå‡ç”¨æˆ·ä½“éªŒ</li>
<li><strong>åˆç†ä½¿ç”¨ç¼“å­˜</strong>ï¼šApp Routeræä¾›äº†æ›´ç²¾ç»†çš„ç¼“å­˜æ§åˆ¶æœºåˆ¶</li>
</ol>
<h2 data-id="heading-21">ç»“è¯­</h2>
<p>App Routeræ— ç–‘æ˜¯Next.jsçš„æœªæ¥ã€‚å®ƒé€šè¿‡React Server Componentså¸¦æ¥çš„æ¶æ„é©æ–°ï¼Œåœ¨æ€§èƒ½ã€ä»£ç ç»„ç»‡å’Œå¼€å‘ä½“éªŒä¸Šéƒ½æä¾›äº†å·¨å¤§çš„é£è·ƒã€‚å¯¹äºæ–°é¡¹ç›®ï¼Œé™¤éæœ‰ç‰¹å®šçš„ç”Ÿæ€é™åˆ¶ï¼Œå¦åˆ™å¼ºçƒˆå»ºè®®ä»App Routerå¼€å§‹ã€‚</p>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©ä½ ç†è§£Next.jsä¸­ä¸¤ç§è·¯ç”±ç³»ç»Ÿçš„åŒºåˆ«ï¼Œå¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºï¼</p>
<hr/>
<p><em>ä½œè€…ï¼šå¤§é±¼ï¼Œå‰ç«¯å¼€å‘è€…ï¼Œä¸“æ³¨äºå¤§å‰ç«¯åœˆæŠ€æœ¯æ ˆã€‚æ¬¢è¿å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·&lt;å¤§å‰ç«¯å†é™©è®°&gt;è·å–æ›´å¤šå‰ç«¯æŠ€æœ¯å¹²è´§ã€‚</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[FutureProviderä¼šåˆ·æ–°ä¸¤æ¬¡çš„é—®é¢˜ç ”ç©¶]]></title>    <link>https://juejin.cn/post/7572362484658733107</link>    <guid>https://juejin.cn/post/7572362484658733107</guid>    <pubDate>2025-11-14T07:54:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572362484658733107" data-draft-id="7572179176307081225" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="FutureProviderä¼šåˆ·æ–°ä¸¤æ¬¡çš„é—®é¢˜ç ”ç©¶"/> <meta itemprop="keywords" content="å‰ç«¯,Flutter"/> <meta itemprop="datePublished" content="2025-11-14T07:54:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ°´æœ¨ç¨‹åºå‘˜"/> <meta itemprop="url" content="https://juejin.cn/user/2272005130029597"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            FutureProviderä¼šåˆ·æ–°ä¸¤æ¬¡çš„é—®é¢˜ç ”ç©¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2272005130029597/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ°´æœ¨ç¨‹åºå‘˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T07:54:53.000Z" title="Fri Nov 14 2025 07:54:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘åœ¨é¡¹ç›®é‡Œé¢ç¢°åˆ°äº†ä½¿ç”¨Riverpodçš„FutureProviderå¼•èµ·çš„ä¸€ä¾‹å±å¹•ç»„ä»¶é—ªçƒçš„é—®é¢˜ï¼Œæ·±å…¥ç ”ç©¶äº†ä½¿ç”¨FutureProviderå¯èƒ½çš„å­˜åœ¨çš„é—®é¢˜åŠè§„é¿æ–¹æ³•ã€‚</p>
<h2 data-id="heading-0">é—®é¢˜å¤ç°</h2>
<p>é¡µé¢é‡Œä¸€ä¸ªç»„ä»¶è§‚å¯Ÿäº†<code>FutureProviderA</code>ï¼Œæ ¹æ®<code>FutureProviderA</code> è¿”å›çš„å€¼å†³å®šç»„ä»¶æ˜¯å¦å±•ç¤ºï¼Œ<code>FutureProviderA</code> åˆ<code>watch</code>äº†<code>FutureProviderB</code>ï¼Œä¾èµ–ç»“æ„å¦‚ä¸‹</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0030b6222670420a8aad57d7b192aa02~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rC05pyo56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763711693&amp;x-signature=hIeRtNxOAJ2O6jniKFJUUBwdpE4%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨appå¯åŠ¨çš„æ—¶å€™ï¼Œ<code>FutureProviderB</code>ç”±äºæŸç§åŸå› ä¼šåˆ·æ–°å¾ˆå¤šæ¬¡å¯¼è‡´Widgetä¼šé—ªçƒ</p>
<p>Widgetä»£ç </p>
<pre><code class="hljs language-kotlin" lang="kotlin">child: futureProviderA.<span class="hljs-keyword">when</span>(
      <span class="hljs-keyword">data</span>: (<span class="hljs-keyword">data</span>) {
        <span class="hljs-keyword">return</span> Text(context, <span class="hljs-keyword">data</span>);
      }, error: (Object error, StackTrace stackTrace) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
      }, loading: () {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
      }),
)),
</code></pre>
<p>ä¸Šé¢Widgetåœ¨è§‚å¯Ÿ<code>FutureProviderA</code>ï¼Œåœ¨whené‡Œé¢å¤„ç†äº†ä¸‰ç§æƒ…å†µï¼Œåªæœ‰åœ¨dataçš„æƒ…å†µä¸‹è¿”å›Textç»„ä»¶ï¼Œå…¶ä»–æƒ…å†µè¿”å›nullã€‚</p>
<h2 data-id="heading-1">è§£å†³æ–¹æ³•</h2>
<p>åœ¨whené‡Œé¢åŠ ä¸€ä¸ªå‚æ•°<code>skipLoadingOnReload: true</code>å³å¯ã€‚</p>
<p>FutureProviderè¿”å›çš„æ˜¯AsyncValueï¼Œè¿™ä¸ªç±»æœ‰ä¸‰ç§çŠ¶æ€</p>
<ul>
<li>loadingï¼šä»£è¡¨æ•°æ®æ­£åœ¨åŠ è½½</li>
<li>dataï¼šè¡¨ç¤ºæ–°æ•°æ®å·²ç»åŠ è½½å¥½äº†</li>
<li>errorï¼šæ•°æ®åŠ è½½é”™è¯¯</li>
</ul>
<p>AsyncValue.whenæ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">//æ˜¯å¦åœ¨reloadæ—¶è·³è¿‡loadingçŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯ref.watchçš„æ—¶å€™ï¼Œå¦‚æœwatchçš„å¯¹è±¡æ”¹å˜ï¼Œä¼šå¯¼è‡´</span>
<span class="hljs-comment">//å½“å‰provideråˆ·æ–°è¿›å…¥loadingï¼Œæ­¤æ—¶å¦‚æœè·³è¿‡loadingçŠ¶æ€ï¼Œå°±ä¸å›è°ƒloadingï¼Œè€Œæ˜¯</span>
<span class="hljs-comment">//è°ƒç”¨erroræˆ–è€…dataï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸è·³è¿‡</span>
<span class="hljs-type">bool</span> skipLoadingOnReload = <span class="hljs-literal">false</span>, 

<span class="hljs-comment">//æ˜¯å¦åœ¨refreshçš„æƒ…å†µä¸‹è·³è¿‡loadingï¼Œä¹Ÿå°±æ˜¯ref.invalidateæ—¶ï¼Œproviderè¿›å…¥loadingçŠ¶æ€</span>
<span class="hljs-comment">//æ­¤æ—¶æ˜¯å¦è°ƒç”¨loadingï¼Œé»˜è®¤æ˜¯è·³è¿‡ï¼Œå¦‚æœæ²¡æœ‰é”™è¯¯ï¼Œä¸€èˆ¬è°ƒç”¨data</span>
<span class="hljs-type">bool</span> skipLoadingOnRefresh = <span class="hljs-literal">true</span>, 
</code></pre>
<p>å†ç»“åˆwhençš„æºç æ¥çœ‹å°±æ¯”è¾ƒæ¸…æ™°ä¸ºä»€ä¹ˆä¼šå‡ºç°é—ªçƒäº†ï¼Œå› ä¸ºskipLoadingOnReloadä¸ºfalseï¼ŒProviderBåˆ·æ–°äº†å¤šæ¬¡ï¼Œå¯¼è‡´è¿›å…¥loadingå¤šæ¬¡ï¼Œè€Œæˆ‘ä»¬åœ¨loadingçš„æ—¶å€™æ˜¯è¿”å›nullçš„ï¼Œå› æ­¤ä¼šå¤šæ¬¡é—ªçƒã€‚è€ŒæŠŠskipLoadingOnReloadæ”¹æˆtrueï¼Œåœ¨ProviderBåˆ·æ–°çš„æ—¶å€™ï¼Œloadingæ€è°ƒç”¨çš„æ˜¯dataï¼Œä¹Ÿå°±æ˜¯è¿”å›å®é™…çš„ç»„ä»¶ï¼Œå› æ­¤ä¸ä¼šé—ªçƒ</p>
<pre><code class="hljs language-ini" lang="ini">R when&lt;R&gt;({
  bool <span class="hljs-attr">skipLoadingOnReload</span> = <span class="hljs-literal">false</span>,
  bool <span class="hljs-attr">skipLoadingOnRefresh</span> = <span class="hljs-literal">true</span>,
  bool <span class="hljs-attr">skipError</span> = <span class="hljs-literal">false</span>,
  required R Function(T data) data,
  required R Function(Object error, StackTrace stackTrace) error,
  required R Function() loading,
}) {
  if (isLoading) {
    bool skip<span class="hljs-comment">;</span>
    if (isRefreshing) {
      <span class="hljs-attr">skip</span> = skipLoadingOnRefresh<span class="hljs-comment">;</span>
    } else if (isReloading) {
      <span class="hljs-attr">skip</span> = skipLoadingOnReload<span class="hljs-comment">;</span>
    } else {
      <span class="hljs-attr">skip</span> = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>
    }
    if (!skip) return loading()<span class="hljs-comment">;</span>
  }

  if (hasError &amp;&amp; (!hasValue || !skipError)) {
    return error(this.error!, stackTrace!)<span class="hljs-comment">;</span>
  }

  return data(requireValue)<span class="hljs-comment">;</span>
}
</code></pre>
<h2 data-id="heading-2">FutureProviderå¯¼è‡´ç»„ä»¶buildä¸¤æ¬¡é—®é¢˜</h2>
<p>ä¸Šé¢çš„é—®é¢˜æ˜¯è§£å†³äº†ï¼Œä½†æ˜¯å­˜åœ¨å¤šæ¬¡è°ƒç”¨buildçš„æƒ…å†µï¼Œä¸ºäº†è§£å†³è¿™ä¸ªï¼Œéœ€è¦æ·±å…¥äº†è§£FutureProviderçš„ä½¿ç”¨æ–¹æ³•</p>
<p>åœ¨ä¸‹é¢çš„ä¾‹å­é‡Œé¢widgetè§‚å¯Ÿä¸€ä¸ªFutureProviderï¼Œprovideråœ¨å†…éƒ¨ä¼šdelayä¸€ç§’ï¼Œç„¶åè¿”å›trueã€‚æˆ‘ä»¬æŠŠå…³é”®çš„é“¾è·¯ä¸Šéƒ½åŠ ä¸Šæ—¥å¿—ï¼Œè§‚å¯Ÿä¸€ä¸‹FutureProviderçš„è¡Œä¸º</p>
<p>ç¤ºä¾‹ä»£ç </p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">class</span> <span class="hljs-selector-tag">MyApp</span> <span class="hljs-selector-tag">extends</span> <span class="hljs-selector-tag">StatelessWidget</span> {
  <span class="hljs-selector-tag">MyApp</span>({<span class="hljs-selector-tag">super</span><span class="hljs-selector-class">.key</span>});

  <span class="hljs-comment">///------------æ•°æ®ç”Ÿäº§ä¾§-----------------</span>
  <span class="hljs-selector-tag">final</span> <span class="hljs-selector-tag">futureProvider</span> = <span class="hljs-selector-tag">FutureProvider</span>&lt;<span class="hljs-selector-tag">bool</span>&gt;(
    (ref) async {
      <span class="hljs-selector-tag">print</span>(<span class="hljs-string">'tagtag provideråˆ·æ–°'</span>);
      <span class="hljs-selector-tag">await</span> <span class="hljs-selector-tag">Future</span><span class="hljs-selector-class">.delayed</span>(const <span class="hljs-built_in">Duration</span>(<span class="hljs-attribute">seconds</span>: <span class="hljs-number">1</span>));
      <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">true</span>;
    },
  );

  @<span class="hljs-selector-tag">override</span>
  <span class="hljs-selector-tag">Widget</span> <span class="hljs-selector-tag">build</span>(BuildContext context) {
    <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">Scaffold</span>(
      <span class="hljs-attribute">appBar</span>: <span class="hljs-built_in">AppBar</span>(
        <span class="hljs-attribute">backgroundColor</span>: Theme.<span class="hljs-built_in">of</span>(context).colorScheme.inversePrimary,
        <span class="hljs-attribute">title</span>: <span class="hljs-built_in">Text</span>(<span class="hljs-string">'ä¾‹å­'</span>),
      ),
      <span class="hljs-comment">///------------æ¶ˆè´¹ä¾§-----------------</span>
      <span class="hljs-attribute">body</span>: <span class="hljs-built_in">Consumer</span>(<span class="hljs-attribute">builder</span>: (context, ref, _) {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">'tagtag build'</span>);
        var value = ref.<span class="hljs-built_in">watch</span>(futureProvider).<span class="hljs-built_in">when</span>(<span class="hljs-attribute">data</span>: (d) {
          <span class="hljs-built_in">print</span>(<span class="hljs-string">'tagtag on data ${d}'</span>);
          return d;
        }, <span class="hljs-attribute">error</span>: (_, stack) {
          <span class="hljs-built_in">print</span>(<span class="hljs-string">'tagtag on error'</span>);
        }, <span class="hljs-attribute">loading</span>: () {
          <span class="hljs-built_in">print</span>(<span class="hljs-string">'tagtag on loading'</span>);
        });
        <span class="hljs-built_in">print</span>(<span class="hljs-string">'tagtag value is $value'</span>);
        return <span class="hljs-built_in">ElevatedButton</span>(
            <span class="hljs-attribute">onPressed</span>: () {
              ref.<span class="hljs-built_in">invalidate</span>(futureProvider);
            },
            <span class="hljs-attribute">child</span>: <span class="hljs-built_in">Text</span>(<span class="hljs-string">"ç‚¹å‡»"</span>));
      }),
    );
  }
}
</code></pre>
<p>æ‰“å¼€é¡µé¢ç¬¬ä¸€æ¬¡å¯åŠ¨æ—¥å¿—</p>
<pre><code class="hljs language-csharp" lang="csharp">--------ç¬¬ä¸€æ¬¡æ‰“å°å†…å®¹---------
tagtag build
tagtag provideråˆ·æ–°
tagtag <span class="hljs-keyword">on</span> loading

-------<span class="hljs-number">-1</span>ç§’ä¹‹åæ‰“å°å†…å®¹---------
tagtag build
tagtag <span class="hljs-keyword">on</span> data <span class="hljs-literal">true</span>
</code></pre>
<p>ä¸Šé¢çš„ç¬¬ä¸€æ¬¡æ—¥å¿—å¾ˆæ˜æ˜¾ï¼ŒFutureProviderè¿›å…¥loadingçŠ¶æ€ï¼Œå¹¶è°ƒç”¨äº†loadingã€‚1ç§’ä¹‹åæœ‰å€¼äº†ï¼Œè°ƒç”¨data</p>
<p>ç‚¹å‡»åˆ·æ–°ï¼Œè°ƒç”¨invalidateä¹‹åæ—¥å¿—</p>
<pre><code class="hljs language-csharp" lang="csharp">--------ç¬¬ä¸€æ¬¡æ‰“å°å†…å®¹---------
tagtag provideråˆ·æ–°
tagtag build
tagtag <span class="hljs-keyword">on</span> data <span class="hljs-literal">true</span>

-------<span class="hljs-number">-1</span>ç§’ä¹‹åæ‰“å°å†…å®¹---------
tagtag build
tagtag <span class="hljs-keyword">on</span> data <span class="hljs-literal">true</span>
</code></pre>
<p>ä¸Šé¢å› ä¸ºæˆ‘ä»¬æ˜¯invalidateåˆ·æ–°providerï¼Œå¹¶ä¸”é»˜è®¤æˆ‘ä»¬æ˜¯è·³è¿‡loadingæ€çš„ï¼Œå› æ­¤è¿›å…¥loadingçŠ¶æ€æ—¶ï¼Œè°ƒç”¨çš„æ˜¯dataï¼Œ1ç§’ä¹‹åæ•°æ®å›æ¥äº†å°±ä¼šè¿›å…¥dataçŠ¶æ€ï¼Œè°ƒç”¨dataå›è°ƒ</p>
<p>åœ¨è¿™ä¸ªä¾‹å­é‡Œé¢ä¼šå‘ç°ç»„ä»¶è¢«buildäº†ä¸¤æ¬¡ï¼Œè¿™æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚æ€ä¹ˆæ‰èƒ½åªbuildä¸€æ¬¡ï¼Ÿ</p>
<p>ä½¿ç”¨providerçš„selectorï¼Œä¸Šé¢çš„watchæ”¹æˆ</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">ref</span>.watch(futureProvider.<span class="hljs-keyword">select</span>((selector) =&gt; selector.<span class="hljs-keyword">value</span>)) ??
    <span class="hljs-literal">false</span>;
</code></pre>
<p>selectæœ‰ç¨³å®šçš„ä½œç”¨ï¼Œåªè¦selecté‡Œé¢å‡½æ•°çš„è¿”å›å€¼ä¸å˜ï¼Œé‚£ä¹ˆå°±ä¸ä¼šè§¦å‘é‡æ–°buildï¼Œä¸Šé¢çš„ä¾‹å­ï¼Œä¸è®ºç‚¹å‡»åˆ·æ–°å¤šå°‘æ¬¡éƒ½ä¸ä¼šå¯¼è‡´buildï¼Œå› ä¸ºæ¯æ¬¡éƒ½è¿”å›trueã€‚</p>
<h2 data-id="heading-3">FutureProviderä¾èµ–å¼•å‘çš„å¤šæ¬¡è°ƒç”¨</h2>
<p>è¿˜æœ‰ä¸€ç§æƒ…å†µå°±æ˜¯FutureProviderAä¾èµ–FutureProviderBï¼Œå¦‚æœBå‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆå°±ä¼šé‡å»ºï¼Œè€Œä¸”ä¼šé‡å»ºå¤šæ¬¡ï¼Œå¦‚æœåœ¨Aé‡Œé¢è°ƒç”¨äº†æ¥å£ï¼Œé‚£ä¹ˆå°±ä¼šå¼•å‘ä¸€äº›å‰¯ä½œç”¨ã€‚å› æ­¤è¦ä¸ç„¶å°±åœ¨Aé‡Œé¢ä½¿ç”¨ä¸Šé¢è¯´çš„selectï¼Œè¦ä¸ç„¶å°±ä¸è¦åœ¨provideré‡Œé¢å†™å¤ªå¤šä¸šåŠ¡é€»è¾‘</p>
<h2 data-id="heading-4">å»ºè®®&amp;æ€»ç»“</h2>
<ol>
<li>ç»„ä»¶åœ¨ä½¿ç”¨FutureProviderçš„æ—¶å€™ï¼Œä½¿ç”¨selectï¼Œç¨³å®šç»“æœçš„å€¼ï¼Œé¿å…loadingæ€å¯¼è‡´çš„æ— è°“åˆ·æ–°</li>
<li>FutureProvideré‡Œé¢é¿å…ä¾èµ–å…¶ä»–FutureProviderï¼Œå¦åˆ™å¯èƒ½ä¼šå¯¼è‡´FutureProvideré‡Œé¢çš„é€»è¾‘å¤šæ¬¡æ‰§è¡Œ</li>
<li>è€—æ—¶è·å–æ•°æ®ç­‰æ–¹æ³•å†™åˆ°provideræ‰§è¡Œçš„å¤–é¢ï¼Œproviderå°½é‡åªè®°å½•å€¼çš„æ”¹å˜ã€‚ä¸šåŠ¡é€»è¾‘å¯ä»¥å†…èšåˆ°Notifieré‡Œé¢ï¼ŒNotifierå¤„ç†å®Œä¹‹åèµ‹å€¼ç»™Provider</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäºJava å®ç° PPT åˆ° PDF çš„é«˜æ•ˆè½¬æ¢]]></title>    <link>https://juejin.cn/post/7572141912498749449</link>    <guid>https://juejin.cn/post/7572141912498749449</guid>    <pubDate>2025-11-14T05:55:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572141912498749449" data-draft-id="7572141912498634761" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäºJava å®ç° PPT åˆ° PDF çš„é«˜æ•ˆè½¬æ¢"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2025-11-14T05:55:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å’•ç™½m625"/> <meta itemprop="url" content="https://juejin.cn/user/775609987638480"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäºJava å®ç° PPT åˆ° PDF çš„é«˜æ•ˆè½¬æ¢
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/775609987638480/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å’•ç™½m625
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T05:55:50.000Z" title="Fri Nov 14 2025 05:55:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    19
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œç»å¸¸ä¼šé‡åˆ°å°†PPTæ–‡æ¡£æ‰¹é‡æˆ–å•æ–‡ä»¶è½¬æ¢ä¸ºPDFçš„éœ€æ±‚â€”PDFæ ¼å¼å› å…¶è·¨å¹³å°ä¸€è‡´æ€§ã€ä¸å¯è½»æ˜“ç¯¡æ”¹çš„ç‰¹æ€§ï¼Œæˆä¸ºæ–‡æ¡£åˆ†å‘ä¸å½’æ¡£çš„é¦–é€‰æ ¼å¼ã€‚Spire.Presentation for Java ä½œä¸ºä¸€æ¬¾è½»é‡çº§ä¸”åŠŸèƒ½ç¨³å®šçš„ PPT å¤„ç†ç»„ä»¶ï¼Œæ— éœ€ä¾èµ– Microsoft Office ç¯å¢ƒï¼Œå³å¯å¿«é€Ÿå®ç° PowerPointï¼ˆ.ppt/.pptxï¼‰åˆ° PDF çš„è½¬æ¢ï¼ŒåŒæ—¶æ”¯æŒå¯¹è½¬æ¢è¿‡ç¨‹çš„çµæ´»é…ç½®ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å…¶ä½¿ç”¨æµç¨‹ã€æ ¸å¿ƒä»£ç ä¸å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ç¯å¢ƒé…ç½®</h2>
<p>é¦–å…ˆéœ€è¦åœ¨é¡¹ç›®ä¸­æ·»åŠ  Spire.Presentation for Java çš„ä¾èµ–ï¼š</p>
<h3 data-id="heading-1">Maven é…ç½®</h3>
<p>åœ¨é¡¹ç›®çš„<code>pom.xml</code>æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ä»“åº“ä¸ä¾èµ–é…ç½®ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">repositories</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">repository</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>com.e-iceblue<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>e-iceblue<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>https://repo.e-iceblue.com/nexus/content/groups/public/<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">repository</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">repositories</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>e-iceblue<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spire.presentation<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>10.10.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h3 data-id="heading-2">Gradle é…ç½®ï¼š</h3>
<pre><code class="hljs language-arduino" lang="arduino">implementationÂ <span class="hljs-string">'e-iceblue:spire.presentation:10.10.2@jar'</span>
</code></pre>
<h2 data-id="heading-3">äºŒã€æ ¸å¿ƒå®ç°ï¼š3æ­¥å®ŒæˆPPTè½¬PDF</h2>
<p>Spire.Presentationçš„APIè®¾è®¡ç®€æ´ï¼Œæ ¸å¿ƒè½¬æ¢é€»è¾‘ä»…éœ€3ä¸ªå…³é”®æ­¥éª¤ï¼š<strong>åŠ è½½PPTæ–‡ä»¶</strong> â†’ <strong>æ‰§è¡Œè½¬æ¢æ“ä½œ</strong> â†’ <strong>é‡Šæ”¾èµ„æº</strong>ã€‚ä»¥ä¸‹åˆ†åˆ«ä»‹ç»å•æ–‡ä»¶è½¬æ¢ã€æ‰¹é‡è½¬æ¢çš„å®ç°æ–¹æ¡ˆï¼Œå¹¶æä¾›å®Œæ•´å¯è¿è¡Œä»£ç ã€‚</p>
<h3 data-id="heading-4">1. å•æ–‡ä»¶è½¬æ¢ï¼ˆåŸºç¡€ç‰ˆï¼‰</h3>
<p>é€‚ç”¨äºä»…éœ€è½¬æ¢å•ä¸ªPPTæ–‡ä»¶çš„åœºæ™¯ï¼Œæ”¯æŒ<code>.ppt</code>å’Œ<code>.pptx</code>ä¸¤ç§æ ¼å¼ï¼Œè½¬æ¢åè‡ªåŠ¨ä¿æŒåŸPPTçš„ç‰ˆå¼ã€å›¾ç‰‡ã€æ–‡å­—æ ·å¼ã€‚</p>
<h4 data-id="heading-5">å®Œæ•´ä»£ç </h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span>Â com.spire.presentation.Presentation;
<span class="hljs-keyword">import</span>Â com.spire.presentation.FileFormat;

<span class="hljs-keyword">public</span>Â <span class="hljs-keyword">class</span>Â <span class="hljs-title class_">PptToPdfSingle</span>Â {
Â Â Â Â <span class="hljs-keyword">public</span>Â <span class="hljs-keyword">static</span>Â <span class="hljs-keyword">void</span>Â <span class="hljs-title function_">main</span><span class="hljs-params">(String[]Â args)</span>Â {
Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â 1.Â å®šä¹‰PPTè¾“å…¥è·¯å¾„ä¸PDFè¾“å‡ºè·¯å¾„</span>
Â Â Â Â Â Â Â Â <span class="hljs-type">String</span>Â <span class="hljs-variable">pptInputPath</span>Â <span class="hljs-operator">=</span>Â <span class="hljs-string">"D:\Documents\ç¤ºä¾‹æ¼”ç¤ºæ–‡ç¨¿.pptx"</span>;
Â Â Â Â Â Â Â Â <span class="hljs-type">String</span>Â <span class="hljs-variable">pdfOutputPath</span>Â <span class="hljs-operator">=</span>Â <span class="hljs-string">"D:\Documents\ç¤ºä¾‹æ¼”ç¤ºæ–‡ç¨¿_è½¬æ¢å.pdf"</span>;

Â Â Â Â Â Â Â Â <span class="hljs-type">Presentation</span>Â <span class="hljs-variable">presentation</span>Â <span class="hljs-operator">=</span>Â <span class="hljs-literal">null</span>;
Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>Â {
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â 2.Â åˆ›å»ºPresentationå¯¹è±¡ï¼ŒåŠ è½½PPTæ–‡ä»¶</span>
Â Â Â Â Â Â Â Â Â Â Â Â presentationÂ =Â <span class="hljs-keyword">new</span>Â <span class="hljs-title class_">Presentation</span>();
Â Â Â Â Â Â Â Â Â Â Â Â presentation.loadFromFile(pptInputPath);

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â 3.Â è°ƒç”¨saveToFileæ–¹æ³•è½¬æ¢ä¸ºPDFï¼ŒæŒ‡å®šè¾“å‡ºæ ¼å¼ä¸ºFileFormat.PDF</span>
Â Â Â Â Â Â Â Â Â Â Â Â presentation.saveToFile(pdfOutputPath,Â FileFormat.PDF);

Â Â Â Â Â Â Â Â Â Â Â Â System.out.println(<span class="hljs-string">"PPTè½¬PDFæˆåŠŸï¼è¾“å‡ºè·¯å¾„ï¼š"</span>Â +Â pdfOutputPath);
Â Â Â Â Â Â Â Â }Â <span class="hljs-keyword">catch</span>Â (ExceptionÂ e)Â {
Â Â Â Â Â Â Â Â Â Â Â Â e.printStackTrace();
Â Â Â Â Â Â Â Â Â Â Â Â System.out.println(<span class="hljs-string">"PPTè½¬PDFå¤±è´¥ï¼š"</span>Â +Â e.getMessage());
Â Â Â Â Â Â Â Â }Â <span class="hljs-keyword">finally</span>Â {
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â 4.Â å…³é—­Presentationå¯¹è±¡ï¼Œé‡Šæ”¾å†…å­˜èµ„æº</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (presentationÂ !=Â <span class="hljs-literal">null</span>)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â presentation.dispose();
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â }
Â Â Â Â }
}
</code></pre>
<h3 data-id="heading-6">2. æ‰¹é‡è½¬æ¢ï¼ˆè¿›é˜¶ç‰ˆï¼‰</h3>
<p>è‹¥éœ€è½¬æ¢æŸä¸ªæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰PPTæ–‡ä»¶ï¼Œå¯ç»“åˆ <code>java.io</code> åŒ…éå†æ–‡ä»¶å¤¹ï¼Œæ‰¹é‡æ‰§è¡Œè½¬æ¢é€»è¾‘ï¼Œæé«˜æ•ˆç‡ã€‚</p>
<h4 data-id="heading-7">å®Œæ•´ä»£ç </h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span>Â com.spire.presentation.Presentation;
<span class="hljs-keyword">import</span>Â com.spire.presentation.FileFormat;
<span class="hljs-keyword">import</span>Â java.io.File;

<span class="hljs-keyword">public</span>Â <span class="hljs-keyword">class</span>Â <span class="hljs-title class_">PptToPdfBatch</span>Â {
Â Â Â Â <span class="hljs-keyword">public</span>Â <span class="hljs-keyword">static</span>Â <span class="hljs-keyword">void</span>Â <span class="hljs-title function_">main</span><span class="hljs-params">(String[]Â args)</span>Â {
Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â 1.Â å®šä¹‰PPTæ–‡ä»¶å¤¹è·¯å¾„ä¸PDFè¾“å‡ºæ–‡ä»¶å¤¹è·¯å¾„</span>
Â Â Â Â Â Â Â Â <span class="hljs-type">String</span>Â <span class="hljs-variable">pptFolderPath</span>Â <span class="hljs-operator">=</span>Â <span class="hljs-string">"D:\Documents\PPTæ–‡ä»¶å¤¹"</span>;
Â Â Â Â Â Â Â Â <span class="hljs-type">String</span>Â <span class="hljs-variable">pdfOutputFolder</span>Â <span class="hljs-operator">=</span>Â <span class="hljs-string">"D:\Documents\PDFè¾“å‡ºæ–‡ä»¶å¤¹"</span>;

Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â 2.Â æ£€æŸ¥è¾“å‡ºæ–‡ä»¶å¤¹ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»º</span>
Â Â Â Â Â Â Â Â <span class="hljs-type">File</span>Â <span class="hljs-variable">outputFolder</span>Â <span class="hljs-operator">=</span>Â <span class="hljs-keyword">new</span>Â <span class="hljs-title class_">File</span>(pdfOutputFolder);
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (!outputFolder.exists())Â {
Â Â Â Â Â Â Â Â Â Â Â Â outputFolder.mkdirs();
Â Â Â Â Â Â Â Â }

Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â 3.Â éå†PPTæ–‡ä»¶å¤¹ï¼Œè·å–æ‰€æœ‰.ppt/.pptxæ–‡ä»¶</span>
Â Â Â Â Â Â Â Â <span class="hljs-type">File</span>Â <span class="hljs-variable">pptFolder</span>Â <span class="hljs-operator">=</span>Â <span class="hljs-keyword">new</span>Â <span class="hljs-title class_">File</span>(pptFolderPath);
Â Â Â Â Â Â Â Â File[]Â pptFilesÂ =Â pptFolder.listFiles((dir,Â name)Â -&gt;Â {
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â è¿‡æ»¤åç¼€ä¸º.pptæˆ–.pptxçš„æ–‡ä»¶ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-type">String</span>Â <span class="hljs-variable">lowercaseName</span>Â <span class="hljs-operator">=</span>Â name.toLowerCase();
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â lowercaseName.endsWith(<span class="hljs-string">".ppt"</span>)Â ||Â lowercaseName.endsWith(<span class="hljs-string">".pptx"</span>);
Â Â Â Â Â Â Â Â });

Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â 4.Â æ‰¹é‡è½¬æ¢æ¯ä¸ªPPTæ–‡ä»¶</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (pptFilesÂ !=Â <span class="hljs-literal">null</span>Â &amp;&amp;Â pptFiles.lengthÂ &gt;Â <span class="hljs-number">0</span>)Â {
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â (FileÂ pptFileÂ :Â pptFiles)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â convertSinglePptToPdf(pptFile.getAbsolutePath(),Â pdfOutputFolder);
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â Â Â System.out.println(<span class="hljs-string">"æ‰¹é‡è½¬æ¢å®Œæˆï¼æ‰€æœ‰PDFå·²ä¿å­˜è‡³ï¼š"</span>Â +Â pdfOutputFolder);
Â Â Â Â Â Â Â Â }Â <span class="hljs-keyword">else</span>Â {
Â Â Â Â Â Â Â Â Â Â Â Â System.out.println(<span class="hljs-string">"PPTæ–‡ä»¶å¤¹ä¸­æœªæ‰¾åˆ°.ppt/.pptxæ–‡ä»¶ï¼"</span>);
Â Â Â Â Â Â Â Â }
Â Â Â Â }

Â Â Â Â <span class="hljs-comment">/**
Â Â Â Â Â *Â å•ä¸ªPPTè½¬æ¢ä¸ºPDFçš„å·¥å…·æ–¹æ³•
Â Â Â Â Â *Â <span class="hljs-doctag">@param</span>Â pptInputPathÂ PPTæ–‡ä»¶ç»å¯¹è·¯å¾„
Â Â Â Â Â *Â <span class="hljs-doctag">@param</span>Â pdfOutputFolderÂ PDFè¾“å‡ºæ–‡ä»¶å¤¹è·¯å¾„
Â Â Â Â Â */</span>
Â Â Â Â <span class="hljs-keyword">private</span>Â <span class="hljs-keyword">static</span>Â <span class="hljs-keyword">void</span>Â <span class="hljs-title function_">convertSinglePptToPdf</span><span class="hljs-params">(StringÂ pptInputPath,Â StringÂ pdfOutputFolder)</span>Â {
Â Â Â Â Â Â Â Â <span class="hljs-type">Presentation</span>Â <span class="hljs-variable">presentation</span>Â <span class="hljs-operator">=</span>Â <span class="hljs-literal">null</span>;
Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>Â {
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â åŠ è½½PPTæ–‡ä»¶</span>
Â Â Â Â Â Â Â Â Â Â Â Â presentationÂ =Â <span class="hljs-keyword">new</span>Â <span class="hljs-title class_">Presentation</span>();
Â Â Â Â Â Â Â Â Â Â Â Â presentation.loadFromFile(pptInputPath);

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â è·å–PPTæ–‡ä»¶åï¼ˆä¸å«åç¼€ï¼‰ï¼Œä½œä¸ºPDFæ–‡ä»¶å</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-type">String</span>Â <span class="hljs-variable">pptFileName</span>Â <span class="hljs-operator">=</span>Â <span class="hljs-keyword">new</span>Â <span class="hljs-title class_">File</span>(pptInputPath).getName();
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-type">String</span>Â <span class="hljs-variable">pdfFileName</span>Â <span class="hljs-operator">=</span>Â pptFileName.substring(<span class="hljs-number">0</span>,Â pptFileName.lastIndexOf(<span class="hljs-string">"."</span>))Â +Â <span class="hljs-string">".pdf"</span>;
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-type">String</span>Â <span class="hljs-variable">pdfOutputPath</span>Â <span class="hljs-operator">=</span>Â pdfOutputFolderÂ +Â File.separatorÂ +Â pdfFileName;

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â è½¬æ¢ä¸ºPDF</span>
Â Â Â Â Â Â Â Â Â Â Â Â presentation.saveToFile(pdfOutputPath,Â FileFormat.PDF);
Â Â Â Â Â Â Â Â Â Â Â Â System.out.println(<span class="hljs-string">"æˆåŠŸè½¬æ¢ï¼š"</span>Â +Â pptFileNameÂ +Â <span class="hljs-string">"Â â†’Â "</span>Â +Â pdfFileName);
Â Â Â Â Â Â Â Â }Â <span class="hljs-keyword">catch</span>Â (ExceptionÂ e)Â {
Â Â Â Â Â Â Â Â Â Â Â Â System.out.println(<span class="hljs-string">"è½¬æ¢å¤±è´¥ï¼š"</span>Â +Â <span class="hljs-keyword">new</span>Â <span class="hljs-title class_">File</span>(pptInputPath).getName()Â +Â <span class="hljs-string">"ï¼ŒåŸå› ï¼š"</span>Â +Â e.getMessage());
Â Â Â Â Â Â Â Â }Â <span class="hljs-keyword">finally</span>Â {
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (presentationÂ !=Â <span class="hljs-literal">null</span>)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â presentation.dispose();
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â }
Â Â Â Â }
}
</code></pre>
<h2 data-id="heading-8">ä¸‰ã€ä»£ç æ·±åº¦è§£æï¼šå…³é”®ç±»ä¸æ–¹æ³•</h2>
<p>ç†è§£æ ¸å¿ƒAPIçš„ä½œç”¨ï¼Œæœ‰åŠ©äºæ ¹æ®å®é™…éœ€æ±‚æ‰©å±•åŠŸèƒ½ï¼ˆå¦‚è®¾ç½®PDFæƒé™ã€è°ƒæ•´è½¬æ¢è´¨é‡ç­‰ï¼‰ã€‚</p>





























<table><thead><tr><th>ç±»/æ–¹æ³•</th><th>ä½œç”¨è¯´æ˜</th></tr></thead><tbody><tr><td><code>Presentation</code></td><td>Spire.Presentation çš„æ ¸å¿ƒç±»ï¼Œç”¨äºåŠ è½½ã€æ“ä½œPPTæ–‡ä»¶ï¼Œç®¡ç†å¹»ç¯ç‰‡å†…å®¹ä¸æ ¼å¼ã€‚</td></tr><tr><td><code>loadFromFile(String path)</code></td><td>åŠ è½½æŒ‡å®šè·¯å¾„çš„ PPT æ–‡ä»¶ï¼ˆæ”¯æŒç»å¯¹è·¯å¾„ä¸ç›¸å¯¹è·¯å¾„ï¼Œç›¸å¯¹è·¯å¾„åŸºäºé¡¹ç›®æ ¹ç›®å½•ï¼‰ã€‚</td></tr><tr><td><code>saveToFile(String path, FileFormat format)</code></td><td>å°† PPT ä¿å­˜ä¸ºæŒ‡å®šæ ¼å¼çš„æ–‡ä»¶ï¼Œ<code>FileFormat.PDF</code> è¡¨ç¤ºè¾“å‡ºä¸º PDFã€‚</td></tr><tr><td><code>dispose()</code></td><td>é‡Šæ”¾ <code>Presentation</code> å¯¹è±¡å ç”¨çš„å†…å­˜èµ„æºï¼Œé¿å…é¢‘ç¹åˆ›å»ºå¯¹è±¡å¯¼è‡´å†…å­˜æ³„æ¼ã€‚</td></tr><tr><td><code>FileFormat</code></td><td>æšä¸¾ç±»ï¼ŒåŒ…å« PPT æ”¯æŒçš„è¾“å…¥/è¾“å‡ºæ ¼å¼ï¼ˆå¦‚<code>PPT</code>ã€<code>PPTX</code>ã€<code>PDF</code> ç­‰ï¼‰ã€‚</td></tr></tbody></table>
<h2 data-id="heading-9">å››ã€å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<p>åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œå¯èƒ½ä¼šé‡åˆ°åŠ è½½å¤±è´¥ã€æ ¼å¼é”™ä¹±ã€ä¸­æ–‡ä¹±ç ç­‰é—®é¢˜ï¼Œä»¥ä¸‹æ˜¯é«˜é¢‘é—®é¢˜çš„è§£å†³åŠæ³•ï¼š</p>
<h3 data-id="heading-10">é—®é¢˜1ï¼šPPT åŠ è½½å¤±è´¥ï¼ŒæŠ¥é”™â€œFile not foundâ€æˆ–â€œUnsupported file formatâ€</h3>
<ul>
<li><strong>åŸå› 1</strong>ï¼šæ–‡ä»¶è·¯å¾„é”™è¯¯ï¼ˆå¦‚è·¯å¾„å«ä¸­æ–‡ä½†æœªå¤„ç†ç¼–ç ï¼Œæˆ–è·¯å¾„æ‹¼å†™é”™è¯¯ï¼‰ï¼›</li>
</ul>
<p><strong>è§£å†³</strong>ï¼šä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œç¡®ä¿è·¯å¾„ä¸­æ— ç‰¹æ®Šå­—ç¬¦ï¼›è‹¥è·¯å¾„å«ä¸­æ–‡ï¼Œåœ¨JDK 1.8åŠä»¥ä¸Šç¯å¢ƒä¸‹é€šå¸¸æ— éœ€é¢å¤–å¤„ç†ï¼Œä½ç‰ˆæœ¬å¯å°è¯•å°†è·¯å¾„è½¬æ¢ä¸ºUTF-8ç¼–ç ã€‚</p>
<ul>
<li><strong>åŸå› 2</strong>ï¼šPPTæ–‡ä»¶æŸåæˆ–æ ¼å¼ä¸æ”¯æŒï¼ˆå¦‚åŠ å¯†PPTã€WPSç‰¹æ®Šæ ¼å¼PPTï¼‰ï¼›</li>
</ul>
<p><strong>è§£å†³</strong>ï¼šå…ˆé€šè¿‡Office/WPSéªŒè¯PPTæ˜¯å¦èƒ½æ­£å¸¸æ‰“å¼€ï¼ŒåŠ å¯†æ–‡ä»¶éœ€å…ˆè§£å¯†å†è½¬æ¢ã€‚</p>
<h3 data-id="heading-11">é—®é¢˜2ï¼šè½¬æ¢åçš„ PDF é¡µé¢ç©ºç™½æˆ–å†…å®¹ç¼ºå¤±</h3>
<ul>
<li><strong>åŸå› 1</strong>ï¼šPPT ä¸­åŒ…å«ç‰¹æ®Šå…ƒç´ ï¼ˆå¦‚åŠ¨æ€å›¾è¡¨ã€ActiveX æ§ä»¶ï¼‰ï¼ŒSpire.Presentation æš‚ä¸æ”¯æŒæ¸²æŸ“ï¼›</li>
</ul>
<p><strong>è§£å†³</strong>ï¼šå°†ç‰¹æ®Šå…ƒç´ è½¬ä¸ºé™æ€å›¾ç‰‡ï¼ˆå¦‚åœ¨ Office ä¸­å¤åˆ¶å›¾è¡¨â†’ç²˜è´´ä¸ºâ€œå›¾ç‰‡â€ï¼‰åå†è½¬æ¢ã€‚</p>
<ul>
<li><strong>åŸå› 2</strong>ï¼šç»„ä»¶ç‰ˆæœ¬è¿‡ä½ï¼Œå­˜åœ¨å…¼å®¹æ€§BUGï¼›</li>
</ul>
<p><strong>è§£å†³</strong>ï¼šå‡çº§è‡³æœ€æ–°ç‰ˆæœ¬ã€‚</p>
<hr/>
<h2 data-id="heading-12">äº”ã€æ€»ç»“</h2>
<p>Spire.Presentation for Java ä¸º PPT è½¬ PDF éœ€æ±‚æä¾›äº†è½»é‡ã€é«˜æ•ˆçš„è§£å†³æ–¹æ¡ˆï¼Œæ ¸å¿ƒä¼˜åŠ¿åœ¨äºï¼š</p>
<ol>
<li><strong>æ— ç¯å¢ƒä¾èµ–</strong>ï¼šæ— éœ€å®‰è£…Office/WPSï¼Œé™ä½éƒ¨ç½²å¤æ‚åº¦ï¼›</li>
<li><strong>APIç®€æ´</strong>ï¼š3æ­¥å³å¯å®Œæˆè½¬æ¢ï¼Œä»£ç æ˜“è¯»æ˜“ç»´æŠ¤ï¼›</li>
<li><strong>æ ¼å¼å…¼å®¹æ€§å¼º</strong>ï¼šæ”¯æŒ<code>.ppt</code>/<code>.pptx</code>å…¨ç‰ˆæœ¬ï¼Œè½¬æ¢åä¿æŒåŸæ–‡æ¡£ç‰ˆå¼ï¼›</li>
<li><strong>æ”¯æŒæ‰©å±•</strong>ï¼šå¯è¿›ä¸€æ­¥å®ç°PDFåŠ å¯†ï¼ˆè®¾ç½®æ‰“å¼€å¯†ç /æƒé™ï¼‰ã€PPTè½¬å›¾ç‰‡ç­‰åŠŸèƒ½ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» Vue æ„å»ºé”™è¯¯åˆ°æ·±åº¦è§£æï¼š::v-deep å¼•å‘çš„ CSS å‹ç¼©å±æœº]]></title>    <link>https://juejin.cn/post/7572190151351336960</link>    <guid>https://juejin.cn/post/7572190151351336960</guid>    <pubDate>2025-11-14T06:13:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572190151351336960" data-draft-id="7572141390857535488" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» Vue æ„å»ºé”™è¯¯åˆ°æ·±åº¦è§£æï¼š::v-deep å¼•å‘çš„ CSS å‹ç¼©å±æœº"/> <meta itemprop="keywords" content="CSS,å‰ç«¯å·¥ç¨‹åŒ–"/> <meta itemprop="datePublished" content="2025-11-14T06:13:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€å·_"/> <meta itemprop="url" content="https://juejin.cn/user/2964722159722887"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» Vue æ„å»ºé”™è¯¯åˆ°æ·±åº¦è§£æï¼š::v-deep å¼•å‘çš„ CSS å‹ç¼©å±æœº
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2964722159722887/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€å·_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T06:13:53.000Z" title="Fri Nov 14 2025 06:13:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨æ—¥å¸¸çš„å‰ç«¯å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°å„ç§æ„å»ºé”™è¯¯ï¼Œæœ‰äº›é”™è¯¯ä¿¡æ¯æ˜ç¡®ï¼Œå®¹æ˜“å®šä½ï¼›è€Œæœ‰äº›åˆ™åƒè¿·å®«ä¸€æ ·ï¼Œéœ€è¦ä¸€æ­¥æ­¥æ’æŸ¥ã€‚æœ€è¿‘åœ¨å¼€å‘ä¸€ä¸ª Vue 2 é¡¹ç›®æ—¶ï¼Œæˆ‘å°±é‡åˆ°äº†ä¸€ä¸ªä»¤äººå¤´ç–¼çš„ CSS å‹ç¼©é”™è¯¯ï¼Œç»è¿‡å¤šè½®æ’æŸ¥å’Œå°è¯•ï¼Œæœ€ç»ˆæ‰¾åˆ°äº†é—®é¢˜çš„æ ¹æºå’Œè§£å†³æ–¹æ¡ˆã€‚æœ¬æ–‡å°†è¯¦ç»†è®°å½•è¿™ä¸ªé—®é¢˜çš„æ’æŸ¥è¿‡ç¨‹ï¼Œå¹¶æ·±å…¥åˆ†æç›¸å…³çš„æŠ€æœ¯åŸç†ã€‚</p>
<h2 data-id="heading-1">é—®é¢˜åˆç°</h2>
<p>é‚£æ˜¯ä¸€ä¸ªæ™®é€šçš„å¼€å‘æ—¥ï¼Œæˆ‘æ­£åœ¨ä¸ºä¸€ä¸ªç”Ÿäº§å·¥å•ç®¡ç†ç³»ç»Ÿæ·»åŠ æ–°åŠŸèƒ½ã€‚åœ¨å®Œæˆä»£ç ç¼–å†™åï¼Œæˆ‘åƒå¾€å¸¸ä¸€æ ·æ‰§è¡Œæ„å»ºå‘½ä»¤ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">npm run build:prod
</code></pre>
<p>ç„¶è€Œï¼Œæ§åˆ¶å°å´æŠ¥å‡ºäº†ä»¤äººå›°æƒ‘çš„é”™è¯¯ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-variable constant_">ERROR</span> <span class="hljs-title class_">Error</span>: <span class="hljs-variable constant_">CSS</span> minification <span class="hljs-attr">error</span>: <span class="hljs-title class_">Cannot</span> read property <span class="hljs-string">'trim'</span> <span class="hljs-keyword">of</span> <span class="hljs-literal">undefined</span>. <span class="hljs-title class_">File</span>: <span class="hljs-keyword">static</span>/css/chunk-25fbebba.59b3af06.<span class="hljs-property">css</span>
<span class="hljs-title class_">Error</span>: <span class="hljs-variable constant_">CSS</span> minification <span class="hljs-attr">error</span>: <span class="hljs-title class_">Cannot</span> read property <span class="hljs-string">'trim'</span> <span class="hljs-keyword">of</span> <span class="hljs-literal">undefined</span>. <span class="hljs-title class_">File</span>: <span class="hljs-keyword">static</span>/css/chunk-25fbebba.59b3af06.<span class="hljs-property">css</span>
    at <span class="hljs-attr">C</span>:\<span class="hljs-title class_">Users</span>\wzh\<span class="hljs-title class_">Desktop</span>\<span class="hljs-title class_">BatchProductionWorkOrderReport</span>\node_modules<span class="hljs-meta">@intervolga</span>\optimize-cssnano-plugin\index.<span class="hljs-property">js</span>:<span class="hljs-number">106</span>:<span class="hljs-number">21</span>
</code></pre>
<h2 data-id="heading-2">ç¬¬ä¸€é˜¶æ®µï¼šå¸¸è§„æ’æŸ¥</h2>
<h3 data-id="heading-3">å°è¯•æ–¹æ¡ˆä¸€ï¼šæ¸…é™¤ç¼“å­˜å’Œé‡æ–°å®‰è£…</h3>
<p>é¢å¯¹æ„å»ºé”™è¯¯ï¼Œæˆ‘çš„ç¬¬ä¸€ååº”æ˜¯æ¸…é™¤ç¼“å­˜å’Œé‡æ–°å®‰è£…ä¾èµ–ï¼Œè¿™æ˜¯å‰ç«¯å¼€å‘ä¸­çš„"ä¸‡èƒ½è¯"ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ¸…é™¤ npm ç¼“å­˜</span>
npm cache clean --force

<span class="hljs-comment"># åˆ é™¤ node_modules å’Œ package-lock.json</span>
<span class="hljs-built_in">rm</span> -rf node_modules package-lock.json

<span class="hljs-comment"># é‡æ–°å®‰è£…ä¾èµ–</span>
npm install

<span class="hljs-comment"># é‡æ–°æ„å»º</span>
npm run build:prod
</code></pre>
<p>ç„¶è€Œï¼Œè¿™æ¬¡"ä¸‡èƒ½è¯"å¹¶æ²¡æœ‰å¥æ•ˆï¼ŒåŒæ ·çš„é”™è¯¯å†æ¬¡å‡ºç°ã€‚</p>
<h3 data-id="heading-4">å°è¯•æ–¹æ¡ˆäºŒï¼šæ›´æ–°ç›¸å…³ä¾èµ–</h3>
<p>æ³¨æ„åˆ°æ§åˆ¶å°æœ‰ä¸€ä¸ªè­¦å‘Šï¼š"A new version of sass-loader is available"ï¼Œæˆ‘å°è¯•æ›´æ–°ç›¸å…³ä¾èµ–ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ›´æ–° sass-loader</span>
npm update sass-loader

<span class="hljs-comment"># æ›´æ–° Vue CLI å’Œç›¸å…³æ„å»ºå·¥å…·</span>
npm update @vue/cli-service

<span class="hljs-comment"># æ›´æ–° CSS ç›¸å…³æ’ä»¶</span>
npm update @intervolga/optimize-cssnano-plugin cssnano postcss
</code></pre>
<p>æ›´æ–°åé‡æ–°æ„å»ºï¼Œé—®é¢˜ä¾æ—§ã€‚</p>
<h2 data-id="heading-5">ç¬¬äºŒé˜¶æ®µï¼šæ·±å…¥åˆ†æ</h2>
<h3 data-id="heading-6">é”™è¯¯ä¿¡æ¯åˆ†æ</h3>
<p>ä»”ç»†åˆ†æé”™è¯¯ä¿¡æ¯ï¼Œæœ‰å‡ ä¸ªå…³é”®ç‚¹ï¼š</p>
<ol>
<li><strong>é”™è¯¯ä½ç½®</strong>ï¼š<code>@intervolga/optimize-cssnano-plugin/index.js:106:21</code></li>
<li><strong>é”™è¯¯ç±»å‹</strong>ï¼š<code>Cannot read property 'trim' of undefined</code></li>
<li><strong>æ¶‰åŠæ–‡ä»¶</strong>ï¼š<code>chunk-25fbebba.59b3af06.css</code></li>
</ol>
<p>è¿™è¡¨æ˜é—®é¢˜å‡ºç°åœ¨ CSS å‹ç¼©é˜¶æ®µï¼ŒæŸä¸ª CSS å†…å®¹åœ¨å‹ç¼©æ—¶å˜æˆäº†Â <code>undefined</code>ã€‚</p>
<h3 data-id="heading-7">ä»£ç å®¡æŸ¥</h3>
<p>æˆ‘å¼€å§‹å®¡æŸ¥é¡¹ç›®ä¸­æœ€è¿‘ä¿®æ”¹çš„ä»£ç ï¼Œé‡ç‚¹å…³æ³¨æ ·å¼éƒ¨åˆ†ã€‚å‘ç°é—®é¢˜å‡ºç°åœ¨ä¸€ä¸ªä½¿ç”¨äº†Â <code>::v-deep</code>Â çš„ Vue ç»„ä»¶ä¸­ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.workorder-table</span> {
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
}

::v-deep .el-table__body-wrapper {
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span> <span class="hljs-meta">!important</span>;
  <span class="hljs-attribute">overflow-y</span>: auto;
}

::v-deep .el-table th {
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#e3e9f3</span> <span class="hljs-meta">!important</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#1f1f1f</span> <span class="hljs-meta">!important</span>;
  <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">600</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">13px</span>;
  <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#c3c9d4</span> <span class="hljs-meta">!important</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">12px</span>;
}

::v-deep .el-table td {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">12px</span>;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<h2 data-id="heading-8">ç¬¬ä¸‰é˜¶æ®µï¼šæŠ€æœ¯åŸç†æ¢ç©¶</h2>
<h3 data-id="heading-9">ä»€ä¹ˆæ˜¯ ::v-deepï¼Ÿ</h3>
<p><code>::v-deep</code>Â æ˜¯ Vue.js ä¸­ç”¨äºæ ·å¼ç©¿é€çš„ä¼ªç±»é€‰æ‹©å™¨ã€‚åœ¨ Vue çš„ scoped CSS ä¸­ï¼Œæ ·å¼é»˜è®¤åªä½œç”¨äºå½“å‰ç»„ä»¶ï¼Œä½†æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦ä¿®æ”¹å­ç»„ä»¶çš„æ ·å¼ï¼Œè¿™æ—¶å°±éœ€è¦ä½¿ç”¨æ ·å¼ç©¿é€ã€‚</p>
<h3 data-id="heading-10">Vue 2 å’Œ Vue 3 ä¸­çš„å·®å¼‚</h3>
<p>åœ¨æ’æŸ¥è¿‡ç¨‹ä¸­ï¼Œæˆ‘å‘ç°ä¸åŒ Vue ç‰ˆæœ¬å¯¹æ·±åº¦é€‰æ‹©å™¨çš„æ”¯æŒæœ‰æ‰€ä¸åŒï¼š</p>
<p><strong>Vue 2 æ”¯æŒçš„å½¢å¼ï¼š</strong></p>
<ul>
<li><code>&gt;&gt;&gt;</code></li>
<li><code>/deep/</code></li>
<li><code>::v-deep</code></li>
</ul>
<p><strong>Vue 3 æ”¯æŒçš„å½¢å¼ï¼š</strong></p>
<ul>
<li><code>:deep()</code></li>
<li><code>::v-deep</code>ï¼ˆå·²å¼ƒç”¨ï¼‰</li>
</ul>
<h3 data-id="heading-11">æ„å»ºè¿‡ç¨‹ä¸­çš„ CSS å¤„ç†æµç¨‹</h3>
<p>ç†è§£æ„å»ºè¿‡ç¨‹ä¸­ CSS çš„å¤„ç†æµç¨‹å¯¹äºè§£å†³é—®é¢˜è‡³å…³é‡è¦ï¼š</p>
<ol>
<li><strong>Vue Loader å¤„ç†</strong>ï¼šVue Loader è§£æÂ <code>.vue</code>Â æ–‡ä»¶ä¸­çš„Â <code>&lt;style&gt;</code>Â å—</li>
<li><strong>CSS é¢„å¤„ç†</strong>ï¼šå¦‚æœä½¿ç”¨äº† Sass/Lessï¼Œä¼šè¿›è¡Œç›¸åº”çš„é¢„å¤„ç†</li>
<li><strong>PostCSS å¤„ç†</strong>ï¼šåº”ç”¨å„ç§ PostCSS æ’ä»¶ï¼ŒåŒ…æ‹¬ scoped CSS å¤„ç†</li>
<li><strong>CSS æå–</strong>ï¼šå°† CSS ä» JavaScript ä¸­æå–å‡ºæ¥</li>
<li><strong>CSS å‹ç¼©</strong>ï¼šä½¿ç”¨ cssnano ç­‰å·¥å…·è¿›è¡Œå‹ç¼©</li>
</ol>
<h3 data-id="heading-12">é—®é¢˜æ ¹æºåˆ†æ</h3>
<p>ç»è¿‡æ·±å…¥åˆ†æï¼Œæˆ‘å‘ç°é—®é¢˜çš„æ ¹æºåœ¨äºï¼š</p>
<ol>
<li><strong>ç‰ˆæœ¬å…¼å®¹æ€§é—®é¢˜</strong>ï¼šé¡¹ç›®ä¸­ä½¿ç”¨çš„Â <code>@intervolga/optimize-cssnano-plugin</code>Â ç‰ˆæœ¬ä¸å½“å‰çš„ Vue CLI ç‰ˆæœ¬å­˜åœ¨å…¼å®¹æ€§é—®é¢˜</li>
<li><strong>æ·±åº¦é€‰æ‹©å™¨è§£æ</strong>ï¼šåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œ<code>::v-deep</code>Â åœ¨æ„å»ºè¿‡ç¨‹ä¸­å¯èƒ½è¢«è§£æä¸ºç©ºçš„ CSS è§„åˆ™</li>
<li><strong>CSS å‹ç¼©å¼‚å¸¸</strong>ï¼šå½“é‡åˆ°è¿™äº›å¼‚å¸¸çš„ CSS è§„åˆ™æ—¶ï¼Œå‹ç¼©æ’ä»¶æ— æ³•æ­£ç¡®å¤„ç†ï¼Œå¯¼è‡´Â <code>undefined</code>Â é”™è¯¯</li>
</ol>
<h2 data-id="heading-13">ç¬¬å››é˜¶æ®µï¼šè§£å†³æ–¹æ¡ˆå°è¯•</h2>
<h3 data-id="heading-14">æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨ /deep/ æ›¿ä»£ ::v-deep</h3>
<p>è¿™æ˜¯æœ€ç›´æ¥çš„è§£å†³æ–¹æ¡ˆï¼Œå°†æ‰€æœ‰çš„Â <code>::v-deep</code>Â æ›¿æ¢ä¸ºÂ <code>/deep/</code>ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.workorder-table</span> {
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
}

/deep/ <span class="hljs-selector-class">.el-table__body-wrapper</span> {
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span> <span class="hljs-meta">!important</span>;
  <span class="hljs-attribute">overflow-y</span>: auto;
}

/deep/ <span class="hljs-selector-class">.el-table</span> <span class="hljs-selector-tag">th</span> {
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#e3e9f3</span> <span class="hljs-meta">!important</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#1f1f1f</span> <span class="hljs-meta">!important</span>;
  <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">600</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">13px</span>;
  <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#c3c9d4</span> <span class="hljs-meta">!important</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">12px</span>;
}

/deep/ <span class="hljs-selector-class">.el-table</span> <span class="hljs-selector-tag">td</span> {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">12px</span>;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<p><strong>ç»“æœ</strong>ï¼šæ„å»ºæˆåŠŸï¼è¿™æ˜¯æœ€å¿«é€Ÿçš„è§£å†³æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-15">æ–¹æ¡ˆäºŒï¼šä½¿ç”¨ CSS Modules</h3>
<p>ä¸ºäº†æ›´å½»åº•åœ°è§£å†³é—®é¢˜ï¼Œæˆ‘å°è¯•äº† CSS Modules æ–¹æ¡ˆï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"workorder-page"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">el-table</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">"$style.workorderTable"</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- è¡¨æ ¼å†…å®¹ --&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">el-table</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">module</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.workorderTable</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">min-width</span>: <span class="hljs-number">1400px</span>;
}

<span class="hljs-selector-class">.workorderTable</span> :<span class="hljs-built_in">global</span>(.el-table__body-wrapper) {
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span> <span class="hljs-meta">!important</span>;
  <span class="hljs-attribute">overflow-y</span>: auto;
}

<span class="hljs-selector-class">.workorderTable</span> :<span class="hljs-built_in">global</span>(.el-table th) {
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#e3e9f3</span> <span class="hljs-meta">!important</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#1f1f1f</span> <span class="hljs-meta">!important</span>;
  <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">600</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">13px</span>;
  <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#c3c9d4</span> <span class="hljs-meta">!important</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">12px</span>;
}

<span class="hljs-selector-class">.workorderTable</span> :<span class="hljs-built_in">global</span>(.el-table td) {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">12px</span>;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<p><strong>ç»“æœ</strong>ï¼šæ„å»ºæˆåŠŸï¼Œä¸”ä»£ç æ›´åŠ è§„èŒƒã€‚</p>
<h3 data-id="heading-16">æ–¹æ¡ˆä¸‰ï¼šé…ç½® vue.config.js</h3>
<p>å¦‚æœå¿…é¡»ä½¿ç”¨Â <code>::v-deep</code>ï¼Œå¯ä»¥é€šè¿‡é…ç½®Â <code>vue.config.js</code>Â æ¥è§£å†³é—®é¢˜ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">module.exports</span> = {
  css: {
    loaderOptions: {
      css: {
        // å¯ç”¨ CSS Modules æ¨¡å¼é¿å…æ·±åº¦é€‰æ‹©å™¨é—®é¢˜
        modules: false
      },
      postcss: {
        plugins: <span class="hljs-section">[
          require('autoprefixer')
        ]</span>
      }
    }
  },
  chainWebpack: <span class="hljs-attr">config</span> =&gt; {
    // ä¼˜åŒ– CSS å‹ç¼©é…ç½®
    config.plugin('optimize-css').tap(<span class="hljs-attr">args</span> =&gt; {
      if (args<span class="hljs-section">[0]</span> &amp;&amp; args<span class="hljs-section">[0]</span>.cssnanoOptions) {
        args<span class="hljs-section">[0]</span>.<span class="hljs-attr">cssnanoOptions.preset</span> = [<span class="hljs-string">'default'</span>, {
          discardComments: {
            removeAll: <span class="hljs-literal">true</span>
          },
          normalizeWhitespace: <span class="hljs-literal">false</span>
        }]
      }
      return args
    })
  }
}
</code></pre>
<h2 data-id="heading-17">æœ€ç»ˆè§£å†³æ–¹æ¡ˆ</h2>
<p>ç»¼åˆè€ƒè™‘é¡¹ç›®ç°çŠ¶å’Œé•¿æœŸç»´æŠ¤æ€§ï¼Œæˆ‘é€‰æ‹©äº†<strong>æ–¹æ¡ˆäºŒï¼ˆCSS Modulesï¼‰</strong> ä½œä¸ºæœ€ç»ˆè§£å†³æ–¹æ¡ˆï¼ŒåŸå› å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>ç¬¦åˆç°ä»£å‰ç«¯å¼€å‘è§„èŒƒ</strong></li>
<li><strong>æ›´å¥½çš„æ ·å¼éš”ç¦»</strong></li>
<li><strong>é¿å…æ·±åº¦é€‰æ‹©å™¨çš„å…¼å®¹æ€§é—®é¢˜</strong></li>
<li><strong>ä¾¿äºä»£ç ç»´æŠ¤å’Œé‡æ„</strong></li>
</ol>
<h2 data-id="heading-18">æŠ€æœ¯æ·±åº¦è§£æ</h2>
<h3 data-id="heading-19">Vue Scoped CSS åŸç†</h3>
<p>Vue çš„ scoped CSS æ˜¯é€šè¿‡ PostCSS æ’ä»¶å®ç°çš„ï¼Œå·¥ä½œåŸç†å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>ä¸ºæ¯ä¸ªé€‰æ‹©å™¨æ·»åŠ å±æ€§é€‰æ‹©å™¨</strong>ï¼š<code>.example</code>Â â†’Â <code>.example[data-v-xxxxxx]</code></li>
<li><strong>ä¸ºæ¨¡æ¿å…ƒç´ æ·»åŠ å±æ€§</strong>ï¼š<code>&lt;div class="example"&gt;</code>Â â†’Â <code>&lt;div class="example" data-v-xxxxxx&gt;</code></li>
<li><strong>æ ·å¼ä»…é™äºå¸¦æœ‰ç›¸åŒ data-v å±æ€§çš„å…ƒç´ </strong></li>
</ol>
<h3 data-id="heading-20">æ·±åº¦é€‰æ‹©å™¨çš„å®ç°æœºåˆ¶</h3>
<p>æ·±åº¦é€‰æ‹©å™¨çš„å·¥ä½œåŸç†æ˜¯ç§»é™¤å±æ€§é€‰æ‹©å™¨ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* åŸå§‹ä»£ç  */</span>
::v-deep .child-component { <span class="hljs-attribute">color</span>: red; }

<span class="hljs-comment">/* è½¬æ¢å */</span>
<span class="hljs-selector-attr">[data-v-xxxxxx]</span> <span class="hljs-selector-class">.child-component</span> { <span class="hljs-attribute">color</span>: red; }
</code></pre>
<h3 data-id="heading-21">CSS Modules çš„ä¼˜åŠ¿</h3>
<ol>
<li><strong>çœŸæ­£çš„å±€éƒ¨ä½œç”¨åŸŸ</strong>ï¼šé€šè¿‡ç±»åå“ˆå¸Œå®ç°</li>
<li><strong>æ— å†²çªçš„ç±»å</strong>ï¼šæ¯ä¸ªæ¨¡å—çš„ç±»åéƒ½æ˜¯å”¯ä¸€çš„</li>
<li><strong>æ˜¾å¼ä¾èµ–</strong>ï¼šæ˜ç¡®çŸ¥é“æ ·å¼åœ¨å“ªé‡Œè¢«ä½¿ç”¨</li>
<li><strong>ä»£ç å‹ç¼©ä¼˜åŒ–</strong>ï¼šç±»åå¯ä»¥è¢«å‹ç¼©å¾—æ›´çŸ­</li>
</ol>
<h2 data-id="heading-22">ç»éªŒæ€»ç»“</h2>
<p>é€šè¿‡è¿™æ¬¡é—®é¢˜çš„æ’æŸ¥å’Œè§£å†³ï¼Œæˆ‘æ€»ç»“äº†ä»¥ä¸‹å‡ ç‚¹ç»éªŒï¼š</p>
<h3 data-id="heading-23">1. æ„å»ºé”™è¯¯æ’æŸ¥æ–¹æ³•è®º</h3>
<ul>
<li><strong>ä»ç®€å•åˆ°å¤æ‚</strong>ï¼šå…ˆå°è¯•æ¸…é™¤ç¼“å­˜ã€é‡æ–°å®‰è£…ç­‰ç®€å•æ“ä½œ</li>
<li><strong>åˆ†æé”™è¯¯å †æ ˆ</strong>ï¼šä»”ç»†é˜…è¯»é”™è¯¯ä¿¡æ¯ï¼Œå®šä½é—®é¢˜å‘ç”Ÿçš„å…·ä½“ä½ç½®</li>
<li><strong>ç‰ˆæœ¬å…¼å®¹æ€§æ£€æŸ¥</strong>ï¼šæ£€æŸ¥ç›¸å…³ä¾èµ–çš„ç‰ˆæœ¬å…¼å®¹æ€§</li>
<li><strong>ä»£ç å®¡æŸ¥</strong>ï¼šé‡ç‚¹å…³æ³¨æœ€è¿‘ä¿®æ”¹çš„ä»£ç </li>
</ul>
<h3 data-id="heading-24">2. Vue æ ·å¼å¼€å‘æœ€ä½³å®è·µ</h3>
<ul>
<li><strong>Vue 2 é¡¹ç›®</strong>ï¼šæ¨èä½¿ç”¨Â <code>/deep/</code>Â æˆ– CSS Modules</li>
<li><strong>Vue 3 é¡¹ç›®</strong>ï¼šæ¨èä½¿ç”¨Â <code>:deep()</code>Â é€‰æ‹©å™¨</li>
<li><strong>å¤§å‹é¡¹ç›®</strong>ï¼šä¼˜å…ˆè€ƒè™‘ CSS Modules æˆ– CSS-in-JS æ–¹æ¡ˆ</li>
</ul>
<h3 data-id="heading-25">3. é¢„é˜²æªæ–½</h3>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// åœ¨ package.json ä¸­å›ºå®šå…³é”®ä¾èµ–ç‰ˆæœ¬</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"dependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"vue"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^2.6.14"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"devDependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"@vue/cli-service"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^4.5.19"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"sass-loader"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^10.2.1"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h2 data-id="heading-26">ç»“è¯­</h2>
<p>è¿™æ¬¡ CSS å‹ç¼©é”™è¯¯çš„æ’æŸ¥è¿‡ç¨‹ï¼Œè®©æˆ‘å¯¹ Vue çš„æ ·å¼ç³»ç»Ÿæœ‰äº†æ›´æ·±å…¥çš„ç†è§£ã€‚ä»å‰ç«¯çš„è¡¨é¢ç°è±¡åˆ°åº•å±‚çš„æ„å»ºåŸç†ï¼Œä»ç®€å•çš„æ ·å¼ç¼–å†™åˆ°å¤æ‚çš„å·¥ç¨‹åŒ–é—®é¢˜ï¼Œæ¯ä¸€ä¸ªæŠ€æœ¯ç»†èŠ‚éƒ½å€¼å¾—æ·±å…¥æ¢ç©¶ã€‚</p>
<p>ä½œä¸ºå‰ç«¯å¼€å‘è€…ï¼Œæˆ‘ä»¬ä¸ä»…è¦ä¼šä½¿ç”¨æ¡†æ¶æä¾›çš„ä¾¿åˆ©åŠŸèƒ½ï¼Œæ›´è¦ç†è§£å…¶èƒŒåçš„åŸç†å’Œå®ç°æœºåˆ¶ã€‚åªæœ‰è¿™æ ·ï¼Œå½“é‡åˆ°é—®é¢˜æ—¶ï¼Œæˆ‘ä»¬æ‰èƒ½å¿«é€Ÿå®šä½å¹¶æ‰¾åˆ°æœ€ä¼˜è§£å†³æ–¹æ¡ˆã€‚</p>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©åˆ°é‡åˆ°ç±»ä¼¼é—®é¢˜çš„å¼€å‘è€…ï¼Œä¹Ÿæ¬¢è¿å¤§å®¶åˆ†äº«è‡ªå·±çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆï¼Œå…±åŒè¿›æ­¥ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScript å¯¹è±¡æ•°ç»„å»é‡çš„å‡ ç§æ–¹æ³•]]></title>    <link>https://juejin.cn/post/7572115057222713379</link>    <guid>https://juejin.cn/post/7572115057222713379</guid>    <pubDate>2025-11-14T06:20:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572115057222713379" data-draft-id="7571753301898854440" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScript å¯¹è±¡æ•°ç»„å»é‡çš„å‡ ç§æ–¹æ³•"/> <meta itemprop="keywords" content="JavaScript"/> <meta itemprop="datePublished" content="2025-11-14T06:20:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="juejin_cn"/> <meta itemprop="url" content="https://juejin.cn/user/3016715636324125"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScript å¯¹è±¡æ•°ç»„å»é‡çš„å‡ ç§æ–¹æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3016715636324125/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    juejin_cn
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T06:20:38.000Z" title="Fri Nov 14 2025 06:20:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>éƒ¨åˆ†å†…å®¹ç”±å¤§æ¨¡å‹ç”Ÿæˆ</p>
</blockquote>
<p>æ ¹æ®å¯¹è±¡çš„æŸä¸ªå±æ€§ï¼ˆå¦‚ <code>id</code>ï¼‰å¯¹å¯¹è±¡æ•°ç»„å»é‡çš„å‡ ç§æ–¹æ³•ã€‚</p>
<h2 data-id="heading-0"><code>Map</code></h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> arr = [
  { <span class="hljs-attr">id</span>: <span class="hljs-string">'a'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Object A'</span> },
  { <span class="hljs-attr">id</span>: <span class="hljs-string">'b'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Object B'</span> },
  { <span class="hljs-attr">id</span>: <span class="hljs-string">'c'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Object C'</span> },
  { <span class="hljs-attr">id</span>: <span class="hljs-string">'a'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Object A (é‡å¤)'</span> },
  { <span class="hljs-attr">id</span>: <span class="hljs-string">'d'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Object D'</span> },
  { <span class="hljs-attr">id</span>: <span class="hljs-string">'b'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Object B (é‡å¤)'</span> }
];

<span class="hljs-keyword">const</span> unique = [...<span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>(arr.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> [item.<span class="hljs-property">id</span>, item])).<span class="hljs-title function_">values</span>()]

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(unique)
<span class="hljs-comment">// è¾“å‡º: </span>
<span class="hljs-comment">// [</span>
<span class="hljs-comment">//   {id:Â 'a',Â name:Â 'Object A (é‡å¤)'}</span>
<span class="hljs-comment">//   {id:Â 'b',Â name:Â 'Object B (é‡å¤)'}</span>
<span class="hljs-comment">//   {id:Â 'c',Â name:Â 'Object C'}</span>
<span class="hljs-comment">//   {id:Â 'd',Â name:Â 'Object D'}</span>
<span class="hljs-comment">// ]</span>
</code></pre>
<p><code>Map</code> çš„é”®ï¼ˆkeyï¼‰å”¯ä¸€ï¼Œ<code>map(item =&gt; [item.id, item])</code> æŠŠæ¯ä¸ªå¯¹è±¡ç”¨ <code>id</code> å½“é”®ï¼Œåé¢çš„é‡å¤é¡¹ä¼šè¦†ç›–ã€‚æœ€åç”¨ <code>.values()</code> å¾—åˆ°å»é‡åçš„å¯¹è±¡æ•°ç»„ã€‚</p>
<p><em>æ­¤æ–¹æ³•ä¼šä¿ç•™<strong>æœ€åä¸€ä¸ª</strong>å‡ºç°çš„ <code>id</code> å¯¹åº”çš„å¯¹è±¡ã€‚</em></p>
<h2 data-id="heading-1"><code>filter</code> &amp; <code>findIndex</code></h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> unique = arr.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">item, index, self</span>) =&gt;</span>
  index === self.<span class="hljs-title function_">findIndex</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> t.<span class="hljs-property">id</span> === item.<span class="hljs-property">id</span>)
)
<span class="hljs-comment">// è¾“å‡º: </span>
<span class="hljs-comment">// [</span>
<span class="hljs-comment">//   {id:Â 'a',Â name:Â 'Object A'}</span>
<span class="hljs-comment">//   {id:Â 'b',Â name:Â 'Object B'}</span>
<span class="hljs-comment">//   {id:Â 'c',Â name:Â 'Object C'}</span>
<span class="hljs-comment">//   {id:Â 'd',Â name:Â 'Object D'}</span>
<span class="hljs-comment">// ]</span>
</code></pre>
<p><code>findIndex</code> æ‰¾åˆ°æ•°ç»„ä¸­é¦–ä¸ª <code>id</code> ç›¸åŒçš„å…ƒç´ ä½ç½®ï¼Œåªæœ‰ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ä¼šè¢«ä¿ç•™ã€‚</p>
<h2 data-id="heading-2"><code>reduce</code> &amp; <code>some</code></h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> unique = arr.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, cur</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (!acc.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">id</span> === cur.<span class="hljs-property">id</span>)) {
    acc.<span class="hljs-title function_">push</span>(cur)
  }
  <span class="hljs-keyword">return</span> acc
}, [])
<span class="hljs-comment">// è¾“å‡º: </span>
<span class="hljs-comment">// [</span>
<span class="hljs-comment">//   {id:Â 'a',Â name:Â 'Object A'}</span>
<span class="hljs-comment">//   {id:Â 'b',Â name:Â 'Object B'}</span>
<span class="hljs-comment">//   {id:Â 'c',Â name:Â 'Object C'}</span>
<span class="hljs-comment">//   {id:Â 'd',Â name:Â 'Object D'}</span>
<span class="hljs-comment">// ]</span>
</code></pre>
<p>ç´¯ç§¯æ„å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œé‡åˆ°é‡å¤çš„ <code>id</code> ä¸å†æ·»åŠ ã€‚</p>
<h2 data-id="heading-3"><code>filter</code> &amp; <code>Set</code></h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> seen = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>()
<span class="hljs-keyword">const</span> unique = arr.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> !seen.<span class="hljs-title function_">has</span>(item.<span class="hljs-property">id</span>) &amp;&amp; seen.<span class="hljs-title function_">add</span>(item.<span class="hljs-property">id</span>))
<span class="hljs-comment">// è¾“å‡º: </span>
<span class="hljs-comment">// [</span>
<span class="hljs-comment">//   {id:Â 'a',Â name:Â 'Object A'}</span>
<span class="hljs-comment">//   {id:Â 'b',Â name:Â 'Object B'}</span>
<span class="hljs-comment">//   {id:Â 'c',Â name:Â 'Object C'}</span>
<span class="hljs-comment">//   {id:Â 'd',Â name:Â 'Object D'}</span>
<span class="hljs-comment">// ]</span>
</code></pre>
<p>åˆ©ç”¨ <code>Set</code> è®°å½•å·²å‡ºç°çš„ <code>id</code>ï¼Œç¬¬ä¸€æ¬¡å‡ºç°æ‰æ·»åŠ ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»é›¶å¼€å§‹å­¦ä¹ å¤§æ¨¡å‹ï¼ˆLLMï¼‰: å­¦ä¹ è·¯çº¿ä¸çŸ¥è¯†ä½“ç³»è¯¦è§£]]></title>    <link>https://juejin.cn/post/7572132916575993892</link>    <guid>https://juejin.cn/post/7572132916575993892</guid>    <pubDate>2025-11-14T06:30:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572132916575993892" data-draft-id="7572132916575944740" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»é›¶å¼€å§‹å­¦ä¹ å¤§æ¨¡å‹ï¼ˆLLMï¼‰: å­¦ä¹ è·¯çº¿ä¸çŸ¥è¯†ä½“ç³»è¯¦è§£"/> <meta itemprop="keywords" content="LLM"/> <meta itemprop="datePublished" content="2025-11-14T06:30:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ITæ©˜å­çš®"/> <meta itemprop="url" content="https://juejin.cn/user/3148645291002232"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»é›¶å¼€å§‹å­¦ä¹ å¤§æ¨¡å‹ï¼ˆLLMï¼‰: å­¦ä¹ è·¯çº¿ä¸çŸ¥è¯†ä½“ç³»è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3148645291002232/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ITæ©˜å­çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T06:30:09.000Z" title="Fri Nov 14 2025 06:30:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¯¹äºæ™®é€šç¨‹åºå‘˜è€Œè¨€ï¼Œç³»ç»Ÿå­¦ä¹ å¤§æ¨¡å‹æŠ€æœ¯æ˜¯ä¸€æ¬¡é‡è¦çš„èŒä¸šå‡çº§ã€‚ä¸ºäº†å¸®åŠ©ä½ æ¸…æ™°åœ°è§„åˆ’å­¦ä¹ è·¯å¾„ï¼Œæˆ‘ç»“åˆå¤šä¸ªæƒå¨çš„å­¦ä¹ è·¯çº¿ï¼Œä¸ºä½ æ¢³ç†å‡ºä¸€å¥—ä»åŸºç¡€åˆ°å®æˆ˜çš„<strong>ç»“æ„åŒ–å­¦ä¹ æ–¹æ¡ˆ</strong>ã€‚</p>
<p>ä¸‹é¢è¿™å¼ æµç¨‹å›¾æ±‡æ€»äº†æ ¸å¿ƒçš„å­¦ä¹ é˜¶æ®µä¸å…³é”®æŠ€èƒ½ï¼Œä½ å¯ä»¥ç”¨å®ƒä½œä¸ºæ•´ä½“è·¯çº¿å›¾ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/121ceb1513744df1a60a05f72e602066~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSVTmqZjlrZDnmq4=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763707162&amp;x-signature=tRSXhNcZ061hkMZtr3ybBhUEj1I%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-0">ğŸ’» ç¬¬ä¸€é˜¶æ®µï¼šæ‰“å¥½åŸºç¡€ï¼ˆçº¦1-2ä¸ªæœˆï¼‰</h3>
<p>è¿™ä¸ªé˜¶æ®µçš„ç›®æ ‡æ˜¯é‡å»ºçŸ¥è¯†ä½“ç³»ï¼Œæ‰“ä¸‹åšå®çš„ç†è®ºåŸºç¡€ã€‚</p>
<ul>
<li>
<p><strong>ç¼–ç¨‹è¯­è¨€</strong>ï¼šç†Ÿç»ƒæŒæ¡ <strong>Python</strong>â€‹ æ˜¯å‰æï¼Œç‰¹åˆ«æ˜¯è¦ç†Ÿæ‚‰ NumPyã€Pandas ç­‰æ•°æ®ç§‘å­¦åº“ã€‚</p>
</li>
<li>
<p><strong>æ•°å­¦åŸºç¡€</strong>ï¼šé‡ç‚¹å¤ä¹ çº¿æ€§ä»£æ•°ï¼ˆçŸ©é˜µè¿ç®—ï¼‰ã€æ¦‚ç‡ç»Ÿè®¡ï¼ˆè´å¶æ–¯å®šç†ï¼‰å’Œå¾®ç§¯åˆ†ï¼ˆæ¢¯åº¦ä¸‹é™ï¼‰ï¼Œè¿™äº›æ˜¯ç†è§£æ¨¡å‹åŸç†çš„åŸºçŸ³ã€‚</p>
</li>
<li>
<p><strong>æœºå™¨å­¦ä¹ ä¸æ·±åº¦å­¦ä¹ </strong>ï¼šå­¦ä¹ ç»å…¸çš„æœºå™¨å­¦ä¹ ç®—æ³•ï¼ˆå¦‚åˆ†ç±»ã€èšç±»ï¼‰å’Œæ·±åº¦å­¦ä¹ çŸ¥è¯†ï¼ˆç¥ç»ç½‘ç»œã€CNN/RNNï¼‰ï¼Œå¹¶é€‰æ‹© <strong>PyTorch</strong>â€‹ æˆ– <strong>TensorFlow</strong>â€‹ ä¸­çš„ä¸€ä¸ªæ¡†æ¶è¿›è¡Œå®è·µã€‚</p>
</li>
</ul>
<p><strong>å­¦ä¹ å»ºè®®</strong>ï¼šè¿™ä¸ªé˜¶æ®µå¯ä»¥ç»“åˆå´æ©è¾¾çš„æœºå™¨å­¦ä¹ è¯¾ç¨‹å’Œææ²çš„ã€ŠåŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ã€‹è¿›è¡Œå­¦ä¹ ã€‚</p>
<h3 data-id="heading-1">ğŸ”¬ ç¬¬äºŒé˜¶æ®µï¼šæ·±å…¥æ ¸å¿ƒæŠ€æœ¯ï¼ˆçº¦2-3ä¸ªæœˆï¼‰</h3>
<p>è¿™ä¸ªé˜¶æ®µå°†ç›´æ¥åˆ‡å…¥å¤§æ¨¡å‹çš„æ ¸å¿ƒæŠ€æœ¯ã€‚</p>
<ul>
<li>
<p><strong>Transformeræ¶æ„</strong>ï¼šè¿™æ˜¯æ‰€æœ‰å¤§æ¨¡å‹çš„åŸºçŸ³ã€‚å¿…é¡»ç†è§£å…¶<strong>è‡ªæ³¨æ„åŠ›æœºåˆ¶ï¼ˆSelf-Attentionï¼‰</strong> â€‹ å’Œå·¥ä½œåŸç†ã€‚å»ºè®®é˜…è¯»è‘—åçš„è®ºæ–‡ã€ŠAttention Is All You Needã€‹ã€‚</p>
</li>
<li>
<p><strong>é¢„è®­ç»ƒä¸å¾®è°ƒ</strong>ï¼šç†è§£å¤§æ¨¡å‹å¦‚ä½•é€šè¿‡æµ·é‡æ•°æ®é¢„è®­ç»ƒè·å¾—é€šç”¨èƒ½åŠ›ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡<strong>å¾®è°ƒï¼ˆFine-tuningï¼‰</strong> â€‹ ä½¿å…¶é€‚é…ç‰¹å®šä»»åŠ¡ã€‚å¯ä»¥å…³æ³¨ <strong>LoRA</strong>â€‹ ç­‰é«˜æ•ˆçš„å¾®è°ƒæŠ€æœ¯ã€‚</p>
</li>
<li>
<p><strong>Promptå·¥ç¨‹</strong>ï¼šå­¦ä¹ å¦‚ä½•è®¾è®¡æœ‰æ•ˆçš„æç¤ºè¯ï¼Œä»¥æœ€å¤§åŒ–æ¿€å‘æ¨¡å‹çš„èƒ½åŠ›ã€‚è¿™åŒ…æ‹¬æŒ‡ä»¤è®¾è®¡ã€å°‘æ ·æœ¬ç¤ºä¾‹ç­‰æŠ€å·§ã€‚</p>
</li>
</ul>
<p><strong>å­¦ä¹ å»ºè®®</strong>ï¼šå¼ºçƒˆæ¨èä½¿ç”¨ <strong>Hugging Face</strong>â€‹ åº“ï¼Œå®ƒæä¾›äº†ä¸°å¯Œçš„é¢„è®­ç»ƒæ¨¡å‹å’Œå·¥å…·ï¼Œå¯ä»¥è®©ä½ å¿«é€Ÿä¸Šæ‰‹å®éªŒå’Œä½“éªŒã€‚</p>
<h3 data-id="heading-2">ğŸš€ ç¬¬ä¸‰é˜¶æ®µï¼šåº”ç”¨å¼€å‘å®æˆ˜ï¼ˆçº¦2-3ä¸ªæœˆï¼‰</h3>
<p>å­¦ä¹ æŠ€æœ¯çš„ç›®çš„æ˜¯ä¸ºäº†åº”ç”¨ã€‚è¿™ä¸ªé˜¶æ®µä½ å°†å¼€å§‹æ„å»ºçœŸæ­£å¯ç”¨çš„AIåº”ç”¨ã€‚</p>
<ul>
<li>
<p><strong>RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰</strong> ï¼šè¿™æ˜¯å½“å‰ä¼ä¸šçš„åˆšéœ€æŠ€æœ¯ã€‚å®ƒé€šè¿‡ä¸ºæ¨¡å‹æ¥å…¥å¤–éƒ¨çŸ¥è¯†åº“ï¼ˆå¦‚å…¬å¸æ–‡æ¡£ï¼‰ï¼Œè§£å†³æ¨¡å‹çŸ¥è¯†è¿‡æ—¶å’Œâ€œå¹»è§‰â€é—®é¢˜ã€‚ä½ éœ€è¦å­¦ä¹ æ–‡æ¡£è§£æã€å‘é‡æ•°æ®åº“ï¼ˆå¦‚Chromaï¼‰å’ŒLangChainç­‰æ¡†æ¶ã€‚</p>
</li>
<li>
<p><strong>æ™ºèƒ½ä½“ï¼ˆAgentï¼‰</strong> ï¼šæ™ºèƒ½ä½“èƒ½è®©å¤§æ¨¡å‹å…·å¤‡è‡ªä¸»è§„åˆ’ã€ä½¿ç”¨å·¥å…·çš„èƒ½åŠ›ã€‚å­¦ä¹  <strong>ReAct</strong>â€‹ æ¡†æ¶å’Œ <strong>LangChain</strong>â€‹ ç­‰å·¥å…·ï¼Œå¯ä»¥å¼€å‘å‡ºèƒ½è‡ªåŠ¨å®Œæˆå¤æ‚ä»»åŠ¡çš„AIã€‚</p>
</li>
<li>
<p><strong>é¡¹ç›®å®æˆ˜</strong>ï¼šæœ€å¥½çš„å­¦ä¹ æ–¹å¼æ˜¯å®è·µã€‚å¯ä»¥å°è¯•ï¼š</p>
<ul>
<li>
<p>ç”¨ <strong>Ollama</strong>â€‹ éƒ¨ç½²ä¸€ä¸ªå¼€æºæ¨¡å‹ï¼Œæ­å»ºä¸€ä¸ªPDFé—®ç­”æœºå™¨äººã€‚</p>
</li>
<li>
<p>ä½¿ç”¨ <strong>LangChain</strong>â€‹ æ„å»ºä¸€ä¸ªèƒ½è”ç½‘æœç´¢ä¿¡æ¯çš„æ™ºèƒ½ä½“ã€‚</p>
</li>
</ul>
</li>
</ul>
<h3 data-id="heading-3">ğŸ§  ç¬¬å››é˜¶æ®µï¼šè¿›é˜¶ä¸æ·±è€•</h3>
<p>å¦‚æœä½ å¸Œæœ›æ·±å…¥æŠ€æœ¯é“¾æ¡çš„æ›´åº•å±‚ï¼Œæˆ–æˆä¸ºä¸“å®¶ï¼Œå¯ä»¥ç»§ç»­æ¢ç´¢ä»¥ä¸‹æ–¹å‘ã€‚</p>
<ul>
<li>
<p><strong>æ¨¡å‹å¾®è°ƒä¸è®­ç»ƒ</strong>ï¼šæ·±å…¥ç ”ç©¶å…¨å‚æ•°å¾®è°ƒã€é«˜æ•ˆå¾®è°ƒæŠ€æœ¯ï¼ˆLoRAã€QLoRAï¼‰çš„åŸç†å’Œå®è·µã€‚</p>
</li>
<li>
<p><strong>æ¨¡å‹éƒ¨ç½²ä¸ä¼˜åŒ–</strong>ï¼šå­¦ä¹ å¦‚ä½•å°†æ¨¡å‹éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼Œæ¶‰åŠæ¨¡å‹å‹ç¼©ã€é‡åŒ–ã€æ¨ç†åŠ é€Ÿï¼ˆvLLMï¼‰ç­‰æŠ€æœ¯ã€‚</p>
</li>
<li>
<p><strong>å¤šæ¨¡æ€å¤§æ¨¡å‹</strong>ï¼šæ‹“å±•åˆ°å›¾åƒã€è¯­éŸ³ç­‰å¤šæ¨¡æ€é¢†åŸŸï¼Œç†è§£å¦‚CLIPã€DALL-Eç­‰æ¨¡å‹çš„å·¥ä½œåŸç†ã€‚</p>
</li>
</ul>
<h3 data-id="heading-4">ğŸŒŸ å¦‚ä½•æŒç»­å­¦ä¹ ä¸è§„åˆ’èŒä¸š</h3>
<ul>
<li>
<p><strong>ä¿æŒå­¦ä¹ </strong>ï¼šå¤§æ¨¡å‹æŠ€æœ¯è¿­ä»£é£å¿«ã€‚ç§¯æå‚ä¸ <strong>Hugging Face</strong>ã€<strong>GitHub</strong>â€‹ ç­‰å¼€æºç¤¾åŒºï¼Œå…³æ³¨arXivä¸Šçš„æœ€æ–°è®ºæ–‡ï¼Œæ˜¯ä¿æŒæŠ€æœ¯æ•é”åº¦çš„å…³é”®ã€‚</p>
</li>
<li>
<p><strong>è§„åˆ’èŒä¸šè·¯å¾„</strong>ï¼šå¤§æ¨¡å‹é¢†åŸŸä¸ä»…éœ€è¦ç ”ç©¶è€…ï¼Œæ›´éœ€è¦èƒ½å°†æŠ€æœ¯è½åœ°çš„å·¥ç¨‹å¸ˆã€‚ä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„å…´è¶£å’ŒèƒŒæ™¯ï¼Œé€‰æ‹©ä¸åŒçš„å‘å±•æ–¹å‘ï¼š</p>
<ul>
<li>
<p><strong>åº”ç”¨å¼€å‘</strong>ï¼šåˆ©ç”¨APIå’Œæ¡†æ¶å¿«é€Ÿæ„å»ºAIåº”ç”¨ï¼Œé€‚åˆå¤§å¤šæ•°ç¨‹åºå‘˜åˆ‡å…¥ã€‚</p>
</li>
<li>
<p><strong>æ•°æ®æ–¹å‘</strong>ï¼šè´Ÿè´£æ•°æ®æ¸…æ´—ã€æ ‡æ³¨ï¼Œä¸ºè®­ç»ƒæä¾›ç‡ƒæ–™ã€‚</p>
</li>
<li>
<p><strong>å¹³å°æ–¹å‘</strong>ï¼šè´Ÿè´£åˆ†å¸ƒå¼è®­ç»ƒã€èµ„æºè°ƒåº¦ç­‰åº•å±‚åŸºç¡€è®¾æ–½ã€‚</p>
</li>
<li>
<p><strong>éƒ¨ç½²æ–¹å‘</strong>ï¼šä¸“æ³¨äºæ¨¡å‹æ¨ç†åŠ é€Ÿå’Œç«¯ä¾§éƒ¨ç½²ã€‚</p>
</li>
</ul>
</li>
</ul>
<p>å¸Œæœ›è¿™ä»½è¯¦ç»†çš„å­¦ä¹ è·¯çº¿èƒ½ä¸ºä½ æ‰«æ¸…è¿·é›¾ï¼ŒåŠ©ä½ åœ¨å¤§æ¨¡å‹çš„æµªæ½®ä¸­æˆåŠŸè½¬å‹ã€‚å­¦ä¹ è¿‡ç¨‹å°±åƒè®­ç»ƒä¸€ä¸ªæ¨¡å‹ï¼Œéœ€è¦å¤§é‡çš„â€œæ•°æ®â€ï¼ˆçŸ¥è¯†è¾“å…¥ï¼‰å’Œâ€œè¿­ä»£â€ï¼ˆå®è·µåæ€ï¼‰ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»£ç éš”ç¦»é©å‘½ï¼šç”¨ JavaScript Realm å®‰å…¨è¿è¡Œä¸å¯ä¿¡ä»£ç ]]></title>    <link>https://juejin.cn/post/7572190151351566336</link>    <guid>https://juejin.cn/post/7572190151351566336</guid>    <pubDate>2025-11-14T06:51:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572190151351566336" data-draft-id="7572161976593317940" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»£ç éš”ç¦»é©å‘½ï¼šç”¨ JavaScript Realm å®‰å…¨è¿è¡Œä¸å¯ä¿¡ä»£ç "/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-11-14T06:51:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§çŸ¥é—²é—²i"/> <meta itemprop="url" content="https://juejin.cn/user/3799545205237111"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»£ç éš”ç¦»é©å‘½ï¼šç”¨ JavaScript Realm å®‰å…¨è¿è¡Œä¸å¯ä¿¡ä»£ç 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3799545205237111/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§çŸ¥é—²é—²i
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T06:51:12.000Z" title="Fri Nov 14 2025 06:51:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å¤šå¹´çš„å¼€å‘ç”Ÿæ¶¯ä¸­ï¼Œæˆ‘å¸¦é¢†å›¢é˜Ÿäº¤ä»˜äº†æ— æ•°ä¸­ç­‰è§„æ¨¡çš„å¤–åŒ…é¡¹ç›®ï¼Œé‡åˆ°è¿‡å„ç§æ£˜æ‰‹çš„æŠ€æœ¯æŒ‘æˆ˜ã€‚ä½†æœ€è¿‘åœ¨è°ƒè¯•ä¸€ä¸ªå¤æ‚çš„å¤š iframe åº”ç”¨æ—¶ï¼Œæˆ‘å‘ç°äº†ä¸€ä¸ªè¢«å¤§å¤šæ•°å¼€å‘è€…å¿½ç•¥çš„ JavaScript ç‰¹æ€§ï¼Œå®ƒå½»åº•æ”¹å˜äº†æˆ‘å¯¹ä»£ç å®‰å…¨æ€§çš„è®¤çŸ¥ã€‚</p>
<p>======================================================================================================================</p>
<h2 data-id="heading-0">ä»ä¸€æ¬¡ç”Ÿäº§äº‹æ•…è¯´èµ·</h2>
<p>æƒ³è±¡è¿™ä¸ªåœºæ™¯ï¼šä½ ä¸ºå®¢æˆ·çš„xxå¹³å°å¼€å‘äº†ä¸€ä¸ªæ’ä»¶ç³»ç»Ÿï¼Œå…è®¸å•†å®¶ç¼–å†™è‡ªå®šä¹‰ JavaScript æ¥å¢å¼ºåº—é“ºåŠŸèƒ½ã€‚ä¸€åˆ‡éƒ½å¾ˆç¾å¥½ï¼Œç›´åˆ°æŸä¸ªå•†å®¶å†™äº†è¿™æ ·çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æŸä¸ª"åˆ›æ–°"å•†å®¶çš„æ’ä»¶ä»£ç </span>
<span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">push</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å“ˆå“ˆï¼Œæˆ‘é‡å†™äº†æ•°ç»„æ–¹æ³•ï¼"</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-string">"æç ´åäº†"</span>;
};
</code></pre>
<p>ç»“æœå¦‚ä½•ï¼Ÿæ•´ä¸ªxxå¹³å°çš„è´­ç‰©è½¦ã€å•†å“åˆ—è¡¨ã€è®¢å•ç³»ç»Ÿå…¨çº¿å´©æºƒã€‚è¿™å°±æ˜¯å…¸å‹çš„å…¨å±€æ±¡æŸ“é—®é¢˜â€”â€”å½“ä¸å¯ä¿¡ä»£ç ä¸æ ¸å¿ƒä¸šåŠ¡å…±äº«åŒä¸€ä¸ªæ‰§è¡Œç¯å¢ƒæ—¶ï¼Œç¾éš¾éšæ—¶å¯èƒ½å‘ç”Ÿã€‚</p>
<h2 data-id="heading-1">Realmï¼šJavaScript çš„éš”ç¦»è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-2">ä»€ä¹ˆæ˜¯ Realmï¼Ÿ</h3>
<p>Realm æ˜¯ JavaScript çš„éš”ç¦»æ‰§è¡Œç¯å¢ƒï¼Œå¯ä»¥ç†è§£ä¸º"ä¸€å¥—å…¨æ–°çš„ JavaScript å®‡å®™"ã€‚æ¯ä¸ª Realm éƒ½æ‹¥æœ‰è‡ªå·±ç‹¬ç«‹çš„å†…ç½®å¯¹è±¡å’Œå…¨å±€ä½œç”¨åŸŸã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¸»ç¯å¢ƒ</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Array</span>); <span class="hljs-comment">// [Function: Array]</span>

<span class="hljs-comment">// åˆ›å»º iframeï¼ˆè‡ªåŠ¨ç”Ÿæˆæ–° Realmï¼‰</span>
<span class="hljs-keyword">const</span> iframe = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'iframe'</span>);
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(iframe);

<span class="hljs-comment">// iframe ä¸­çš„ Array æ˜¯å…¨æ–°çš„æ„é€ å™¨</span>
<span class="hljs-keyword">const</span> iframeArray = iframe.<span class="hljs-property">contentWindow</span>.<span class="hljs-property">Array</span>;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Array</span> === iframeArray); <span class="hljs-comment">// falseï¼</span>
</code></pre>
<p>çœ‹åˆ°è¿™ä¸ªç»“æœæ—¶ï¼Œæˆ‘å›¢é˜Ÿçš„å°ä¼™ä¼´ä»¬éƒ½æƒŠå‘†äº†ã€‚ä¸¤ä¸ª Array æ„é€ å™¨åŠŸèƒ½å®Œå…¨ç›¸åŒï¼Œä½†å´æ˜¯å®Œå…¨ç‹¬ç«‹çš„å¯¹è±¡ï¼Œè¿™å°±æ˜¯ Realm çš„å¼ºå¤§ä¹‹å¤„ã€‚</p>
<h3 data-id="heading-3">Realm çš„ç»„æˆè¦ç´ </h3>
<p>æ¯ä¸ª Realm éƒ½åŒ…å«å®Œæ•´çš„è¿è¡Œç¯å¢ƒï¼š</p>
<ul>
<li>
<p><strong>å…¨å±€å¯¹è±¡</strong>ï¼šæµè§ˆå™¨ä¸­çš„ window æˆ– Node.js ä¸­çš„ global</p>
</li>
<li>
<p><strong>å†…ç½®æ„é€ å™¨</strong>ï¼šArrayã€Objectã€Functionã€Error ç­‰</p>
</li>
<li>
<p><strong>å·¥å…·å‡½æ•°</strong>ï¼šsetTimeoutã€fetchã€JSON ç­‰</p>
</li>
<li>
<p><strong>åŸå‹å¯¹è±¡</strong>ï¼šArray.prototypeã€Object.prototype ç­‰åŸºç¡€åŸå‹</p>
</li>
</ul>
<h2 data-id="heading-4">å®æˆ˜ï¼šä¸‰ç§ Realm å®ç°æ–¹æ¡ˆ</h2>
<h3 data-id="heading-5">æ–¹æ¡ˆä¸€ï¼šShadowRealmï¼ˆæœªæ¥æ ‡å‡†ï¼‰</h3>
<p>ShadowRealm æ˜¯ TC39 æ ‡å‡†ææ¡ˆï¼ˆStage 3ï¼‰ï¼Œä¸“ä¸ºä»£ç éš”ç¦»è®¾è®¡ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// åˆ›å»ºéš”ç¦»ç¯å¢ƒ</span>
<span class="hljs-type">const</span> realm = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ShadowRealm</span>();

<span class="hljs-comment">// å®‰å…¨æ‰§è¡Œä¸å¯ä¿¡ä»£ç </span>
<span class="hljs-type">const</span> result = realm.<span class="hljs-built_in">evaluate</span>(`
    <span class="hljs-comment">// è¿™é‡Œæ— æ³•è®¿é—®ä¸»ç¯å¢ƒçš„ä»»ä½•å˜é‡</span>
    <span class="hljs-type">const</span> sensitiveData = <span class="hljs-string">"è¿™æ®µæ•°æ®å¾ˆå®‰å…¨"</span>;
    <span class="hljs-number">2</span> + <span class="hljs-number">2</span>
`);

console.<span class="hljs-built_in">log</span>(result); <span class="hljs-comment">// 4</span>
console.<span class="hljs-built_in">log</span>(typeof sensitiveData); <span class="hljs-comment">// undefinedï¼ˆå®Œå…¨éš”ç¦»ï¼‰</span>
</code></pre>
<p>å½“å‰å¯ç”¨ polyfillï¼š</p>
<pre><code class="hljs language-ini" lang="ini">npm install shadowrealm-api

import ShadowRealm from 'shadowrealm-api'<span class="hljs-comment">;</span>

const <span class="hljs-attr">realm</span> = new ShadowRealm()<span class="hljs-comment">;</span>
const <span class="hljs-attr">userCodeResult</span> = realm.evaluate(userSuppliedCode)<span class="hljs-comment">;</span>
</code></pre>
<h3 data-id="heading-6">æ–¹æ¡ˆäºŒï¼šiframe æ²™ç®±ï¼ˆç”Ÿäº§ç¯å¢ƒé¦–é€‰ï¼‰</h3>
<p>å¯¹äºéœ€è¦ç«‹å³ä¸Šçº¿çš„é¡¹ç›®ï¼Œiframe æ˜¯æœ€å¯é çš„è§£å†³æ–¹æ¡ˆï¼š</p>
<pre><code class="hljs language-ini" lang="ini">function createSafeSandbox() {
    const <span class="hljs-attr">frame</span> = document.createElement(<span class="hljs-string">'iframe'</span>)<span class="hljs-comment">;</span>
    
    // å…³é”®é…ç½®ï¼šé™åˆ¶æƒé™
    <span class="hljs-attr">frame.sandbox</span> = [
        <span class="hljs-string">'allow-scripts'</span>,     // å…è®¸æ‰§è¡Œè„šæœ¬
        // <span class="hljs-string">'allow-same-origin'</span> // è°¨æ…ä½¿ç”¨ï¼šå…è®¸åŒæºè®¿é—®
    ].join(<span class="hljs-string">' '</span>)<span class="hljs-comment">;</span>
    
    <span class="hljs-attr">frame.style.display</span> = <span class="hljs-string">'none'</span><span class="hljs-comment">;</span>
    document.body.appendChild(frame)<span class="hljs-comment">;</span>
    
    return {
        evaluate: (code) =&gt; frame.contentWindow.eval(code),
        destroy: () =&gt; frame.remove()
    }<span class="hljs-comment">;</span>
}

// ä½¿ç”¨ç¤ºä¾‹
const <span class="hljs-attr">sandbox</span> = createSafeSandbox()<span class="hljs-comment">;</span>
try {
    const <span class="hljs-attr">result</span> = sandbox.evaluate(<span class="hljs-string">'2 + 2'</span>)<span class="hljs-comment">;</span>
    console.log('å®‰å…¨è®¡ç®—ç»“æœ:', result)<span class="hljs-comment">;</span>
} finally {
    sandbox.destroy()<span class="hljs-comment">;</span>
}
</code></pre>
<h3 data-id="heading-7">æ–¹æ¡ˆä¸‰ï¼šWeb Workerï¼ˆçº¯è®¡ç®—åœºæ™¯ï¼‰</h3>
<p>å¯¹äº CPU å¯†é›†å‹ä»»åŠ¡ï¼ŒWeb Worker æä¾›è‰¯å¥½çš„éš”ç¦»æ€§ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// åˆ›å»ºéš”ç¦»çš„å·¥ä½œçº¿ç¨‹</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">workerCode</span> = `
    <span class="hljs-built_in">self</span>.onmessage = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">result</span> = <span class="hljs-keyword">eval</span>(e.data.code);
            <span class="hljs-built_in">self</span>.<span class="hljs-title function_ invoke__">postMessage</span>({ <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span>, result });
        } <span class="hljs-keyword">catch</span> (error) {
            <span class="hljs-built_in">self</span>.<span class="hljs-title function_ invoke__">postMessage</span>({ <span class="hljs-attr">success</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">error</span>: error.message });
        }
    };
`;

<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">blob</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Blob</span>([workerCode], { type: <span class="hljs-string">'application/javascript'</span> });
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">worker</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Worker</span>(URL.<span class="hljs-title function_ invoke__">createObjectURL</span>(blob));

worker.onmessage = (e) =&gt; {
    <span class="hljs-keyword">if</span> (e.data.success) {
        console.<span class="hljs-title function_ invoke__">log</span>(<span class="hljs-string">'Worker è®¡ç®—ç»“æœ:'</span>, e.data.result);
    } <span class="hljs-keyword">else</span> {
        console.<span class="hljs-title function_ invoke__">error</span>(<span class="hljs-string">'æ‰§è¡Œå‡ºé”™:'</span>, e.data.error);
    }
};

<span class="hljs-comment">// æ‰§è¡Œç”¨æˆ·ä»£ç </span>
worker.<span class="hljs-title function_ invoke__">postMessage</span>({
    <span class="hljs-attr">code</span>: <span class="hljs-string">'Math.pow(2, 10)'</span> // ç”¨æˆ·æä¾›çš„ä»£ç 
});
</code></pre>
<h2 data-id="heading-8">çœŸå®æ¡ˆä¾‹ï¼šæ’ä»¶ç³»ç»Ÿå®‰å…¨æ”¹é€ </h2>
<p>æˆ‘ä»¬æœ€è¿‘ä¸ºä¸€å®¶é‡‘èç§‘æŠ€å®¢æˆ·é‡æ„äº†ä»–ä»¬çš„æŠ¥è¡¨æ’ä»¶ç³»ç»Ÿã€‚æ”¹é€ å‰ï¼Œç¬¬ä¸‰æ–¹æ’ä»¶ç»å¸¸å¯¼è‡´æ•´ä¸ªç³»ç»Ÿå´©æºƒï¼›æ”¹é€ åï¼Œå³ä½¿æ’ä»¶ä»£ç å­˜åœ¨é—®é¢˜ï¼Œä¹Ÿåªä¼šå½±å“è‡ªèº«è¿è¡Œã€‚</p>
<h3 data-id="heading-9">æ”¹é€ å‰çš„é—®é¢˜ä»£ç ï¼š</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è€ç³»ç»Ÿï¼šç›´æ¥æ‰§è¡Œæ’ä»¶ä»£ç </span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">runPlugin</span>(<span class="hljs-params">pluginCode</span>) {
    <span class="hljs-comment">// å±é™©ï¼æ’ä»¶å¯ä»¥è®¿é—®å’Œä¿®æ”¹å…¨å±€çŠ¶æ€</span>
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">eval</span>(pluginCode);
}
</code></pre>
<h3 data-id="heading-10">æ”¹é€ åçš„å®‰å…¨æ–¹æ¡ˆï¼š</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">PluginSandbox</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">iframe</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'iframe'</span>);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">iframe</span>.<span class="hljs-property">sandbox</span> = <span class="hljs-string">'allow-scripts'</span>;
        <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">iframe</span>);
    }
    
    <span class="hljs-title function_">runPlugin</span>(<span class="hljs-params">pluginCode, api</span>) {
        <span class="hljs-comment">// é€šè¿‡ postMessage æä¾›æœ‰é™çš„ API</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">iframe</span>.<span class="hljs-property">contentWindow</span>.<span class="hljs-title function_">postMessage</span>({
            <span class="hljs-attr">type</span>: <span class="hljs-string">'EXECUTE'</span>,
            <span class="hljs-attr">code</span>: pluginCode,
            <span class="hljs-attr">api</span>: api
        }, <span class="hljs-string">'*'</span>);
        
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
            <span class="hljs-keyword">const</span> <span class="hljs-title function_">handler</span> = (<span class="hljs-params">event</span>) =&gt; {
                <span class="hljs-keyword">if</span> (event.<span class="hljs-property">data</span>.<span class="hljs-property">type</span> === <span class="hljs-string">'RESULT'</span>) {
                    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'message'</span>, handler);
                    <span class="hljs-title function_">resolve</span>(event.<span class="hljs-property">data</span>.<span class="hljs-property">result</span>);
                }
            };
            <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'message'</span>, handler);
        });
    }
}
</code></pre>
<h2 data-id="heading-11">ä½•æ—¶åº”è¯¥ä½¿ç”¨ Realm æŠ€æœ¯ï¼Ÿ</h2>
<p>æ ¹æ®æˆ‘ä»¬çš„é¡¹ç›®ç»éªŒï¼Œä»¥ä¸‹åœºæ™¯å¼ºçƒˆæ¨èä½¿ç”¨ Realmï¼š</p>
<ol>
<li>
<p><strong>ç”¨æˆ·ä»£ç æ‰§è¡Œ</strong>ï¼šåœ¨çº¿ä»£ç ç¼–è¾‘å™¨ã€æ•™å­¦å¹³å°</p>
</li>
<li>
<p><strong>ç¬¬ä¸‰æ–¹æ’ä»¶</strong>ï¼šCMS ç³»ç»Ÿã€ç”µå•†å¹³å°çš„æ‰©å±•åŠŸèƒ½</p>
</li>
<li>
<p><strong>A/B æµ‹è¯•</strong>ï¼šéš”ç¦»ä¸åŒç‰ˆæœ¬çš„ä»£ç é€»è¾‘</p>
</li>
<li>
<p><strong>å•å…ƒæµ‹è¯•</strong>ï¼šç¡®ä¿æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ç¯å¢ƒçº¯å‡€</p>
</li>
<li>
<p><strong>å¾®å‰ç«¯æ¶æ„</strong>ï¼šéš”ç¦»ä¸åŒå›¢é˜Ÿå¼€å‘çš„å­åº”ç”¨</p>
</li>
</ol>
<h2 data-id="heading-12">å®‰å…¨æœ€ä½³å®è·µ</h2>
<p>åœ¨å¤šä¸ªé‡‘èçº§é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬æ€»ç»“å‡ºè¿™äº›å®‰å…¨å‡†åˆ™ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// å®‰å…¨é…ç½®ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> SAFE_SANDBOX_CONFIG = [
    <span class="hljs-string">'allow-scripts'</span>,        <span class="hljs-comment">// å¿…éœ€ï¼šæ‰§è¡Œè„šæœ¬</span>
    <span class="hljs-comment">// 'allow-forms',       // è°¨æ…ï¼šè¡¨å•æäº¤</span>
    <span class="hljs-comment">// 'allow-popups',      // è°¨æ…ï¼šå¼¹å‡ºçª—å£</span>
    <span class="hljs-comment">// 'allow-same-origin', // å±é™©ï¼šåŒæºè®¿é—®</span>
    <span class="hljs-comment">// 'allow-top-navigation' // å±é™©ï¼šé¡¶çº§å¯¼èˆª</span>
];

<span class="hljs-comment">// æ°¸è¿œéªŒè¯è¾“å…¥</span>
<span class="hljs-function">function <span class="hljs-title">validateCode</span>(<span class="hljs-params">code</span>)</span> {
    <span class="hljs-keyword">const</span> blacklist = [
        <span class="hljs-string">'document.cookie'</span>,
        <span class="hljs-string">'localStorage'</span>,
        <span class="hljs-string">'XMLHttpRequest'</span>,
        <span class="hljs-string">'fetch'</span>,
        <span class="hljs-string">'window.parent'</span>
    ];
    
    <span class="hljs-keyword">return</span> !blacklist.some(<span class="hljs-keyword">unsafe</span> =&gt; code.includes(<span class="hljs-keyword">unsafe</span>));
}
</code></pre>
<h2 data-id="heading-13">æœªæ¥å±•æœ›</h2>
<p>ShadowRealm æ ‡å‡†è½åœ°åï¼ŒJavaScript ä»£ç éš”ç¦»å°†å˜å¾—æ›´åŠ ç®€å•é«˜æ•ˆã€‚æˆ‘ä»¬å›¢é˜Ÿæ­£åœ¨å¯†åˆ‡å…³æ³¨ç›¸å…³è¿›å±•ï¼Œå¹¶å·²åœ¨å‡ ä¸ªå®éªŒæ€§é¡¹ç›®ä¸­å¼€å§‹ä½¿ç”¨ polyfill ç‰ˆæœ¬ã€‚</p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¯¹äºJavaç¨‹åºå‘˜æ¥è¯´ï¼Œå­¦ä¹ å¤§æ¨¡å‹éœ€è¦é‡ç‚¹è¡¥è¶³å“ªäº›Pythonç”Ÿæ€çŸ¥è¯†ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7572142436127358995</link>    <guid>https://juejin.cn/post/7572142436127358995</guid>    <pubDate>2025-11-14T06:53:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572142436127358995" data-draft-id="7572137760447561769" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¯¹äºJavaç¨‹åºå‘˜æ¥è¯´ï¼Œå­¦ä¹ å¤§æ¨¡å‹éœ€è¦é‡ç‚¹è¡¥è¶³å“ªäº›Pythonç”Ÿæ€çŸ¥è¯†ï¼Ÿ"/> <meta itemprop="keywords" content="LLM"/> <meta itemprop="datePublished" content="2025-11-14T06:53:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ITæ©˜å­çš®"/> <meta itemprop="url" content="https://juejin.cn/user/3148645291002232"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¯¹äºJavaç¨‹åºå‘˜æ¥è¯´ï¼Œå­¦ä¹ å¤§æ¨¡å‹éœ€è¦é‡ç‚¹è¡¥è¶³å“ªäº›Pythonç”Ÿæ€çŸ¥è¯†ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3148645291002232/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ITæ©˜å­çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T06:53:03.000Z" title="Fri Nov 14 2025 06:53:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>äº†è§£æ‚¨å¸Œæœ›ç³»ç»Ÿæ€§åœ°è¡¥è¶³Pythonç”Ÿæ€çŸ¥è¯†ï¼Œä»¥ä¾¿æ›´å¥½åœ°èå…¥å¤§æ¨¡å‹é¢†åŸŸã€‚å¯¹äºJavaç¨‹åºå‘˜æ¥è¯´ï¼Œæ‚¨çš„ä¼˜åŠ¿åœ¨äºå¼ºå¤§çš„å·¥ç¨‹åŒ–å’Œç³»ç»Ÿè®¾è®¡èƒ½åŠ›ï¼Œè€Œå­¦ä¹ Pythonç”Ÿæ€æ›´åƒæ˜¯æŒæ¡ä¸€å¥—æ–°çš„ã€æ›´é€‚é…AIé¢†åŸŸçš„å·¥å…·ã€‚å…³é”®åœ¨äºç†è§£æ€ç»´æ–¹å¼çš„å·®å¼‚ï¼Œå¹¶æ‰¾åˆ°ä¸æ‚¨ç°æœ‰çŸ¥è¯†ä½“ç³»çš„è¿æ¥ç‚¹ã€‚</p>
<p>ä¸‹é¢è¿™ä¸ªè¡¨æ ¼æ¢³ç†äº†éœ€è¦é‡ç‚¹å…³æ³¨çš„Pythonç”Ÿæ€çŸ¥è¯†ï¼Œå¹¶æä¾›äº†ä¸JavaæŠ€æœ¯çš„å¯¹æ¯”å’Œå­¦ä¹ çš„æ ¸å¿ƒè¦ç‚¹ï¼Œå¯ä»¥å¸®åŠ©æ‚¨æ›´æœ‰é’ˆå¯¹æ€§åœ°å­¦ä¹ ã€‚</p>








































<table><thead><tr><th>å­¦ä¹ é˜¶æ®µ</th><th>å…³é”®çŸ¥è¯†/å·¥å…·</th><th>Javaç¨‹åºå‘˜çš„å‚è€ƒè§†è§’/å­¦ä¹ é‡ç‚¹</th></tr></thead><tbody><tr><td><strong>ğŸš€ å…¥é—¨åŸºç¡€</strong>â€‹</td><td><strong>Pythonè¯­æ³•åŸºç¡€</strong>â€‹</td><td>é‡ç‚¹å…³æ³¨ä¸Javaçš„å·®å¼‚ï¼šåŠ¨æ€ç±»å‹ã€ç¼©è¿›è§„åˆ™ã€åˆ—è¡¨/å­—å…¸æ¨å¯¼å¼ç­‰ã€‚æ‚¨çš„é¢å‘å¯¹è±¡ç¼–ç¨‹æ€æƒ³å¯ä»¥æ— ç¼è¿ç§»ã€‚</td></tr><tr><td/><td><strong>æ ¸å¿ƒæ•°æ®ç§‘å­¦ç”Ÿæ€</strong>â€‹</td><td><strong>NumPy</strong>ï¼šå¯ç±»æ¯”ä¸ºè¿›è¡Œé«˜æ•ˆæ•°å€¼è®¡ç®—çš„â€œè¶…çº§æ•°ç»„â€ï¼›å…¶<code>ndarray</code>æ˜¯å‡ ä¹æ‰€æœ‰AIåº“çš„æ•°æ®åŸºç¡€ã€‚<strong>Pandas</strong>ï¼šæ˜¯å¤„ç†ç»“æ„åŒ–æ•°æ®ï¼ˆå¦‚CSVã€æ•°æ®åº“è¡¨ï¼‰çš„åˆ©å™¨ï¼Œå…¶<code>DataFrame</code>æ¦‚å¿µç±»ä¼¼æ•°æ®åº“è¡¨æˆ–Excelè¡¨æ ¼ï¼Œä½†åŠŸèƒ½å¼ºå¤§å¾—å¤šã€‚</td></tr><tr><td><strong>ğŸ”§ æ ¸å¿ƒæ¡†æ¶</strong>â€‹</td><td><strong>æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼ˆPyTorch / TensorFlowï¼‰</strong> â€‹</td><td><strong>PyTorch</strong>â€‹ å› å…¶åŠ¨æ€å›¾ï¼ˆå®šä¹‰å³è¿è¡Œï¼‰æ›´å‹å¥½ï¼Œæ˜“äºè°ƒè¯•ï¼Œæ˜¯å½“å‰ç ”ç©¶å’ŒåŸå‹å¼€å‘çš„ä¸»æµã€‚<strong>TensorFlow</strong>â€‹ çš„é™æ€å›¾åœ¨ç”Ÿäº§éƒ¨ç½²ä¸Šæœ‰å…¶ä¼˜åŠ¿ã€‚å»ºè®®ä»<strong>PyTorch</strong>å…¥æ‰‹ã€‚</td></tr><tr><td/><td><strong>å¤§æ¨¡å‹æ ¸å¿ƒåº“ï¼šHugging Face</strong>â€‹</td><td>è¿™æ˜¯å¤§æ¨¡å‹çš„â€œæ¨¡å‹åº”ç”¨å•†åº—â€å’Œå·¥å…·ç®±ã€‚å…¶<code>transformers</code>åº“æä¾›äº†æ•°åƒä¸ªé¢„è®­ç»ƒæ¨¡å‹ï¼Œ<code>datasets</code>åº“æä¾›æµ·é‡æ•°æ®ï¼Œé€šè¿‡å‡ è¡Œä»£ç å³å¯è°ƒç”¨æœ€å…ˆè¿›çš„æ¨¡å‹ã€‚è¿™æ˜¯å­¦ä¹ æ•ˆç‡æœ€é«˜çš„å·¥å…·ã€‚</td></tr><tr><td><strong>âš™ï¸ å·¥ç¨‹ä¸é›†æˆ</strong>â€‹</td><td><strong>åº”ç”¨å¼€å‘ä¸éƒ¨ç½²å·¥å…·</strong>â€‹</td><td><strong>FastAPI</strong>ï¼šç”¨äºå¿«é€Ÿæ„å»ºé«˜æ€§èƒ½çš„æ¨¡å‹APIï¼Œç±»ä¼¼Javaä¸­çš„Spring Bootéƒ¨åˆ†åŠŸèƒ½ï¼Œä½†æ›´è½»é‡ã€å¼‚æ­¥æ”¯æŒå¥½ã€‚<strong>Docker</strong>ï¼šç”¨äºå®¹å™¨åŒ–éƒ¨ç½²ï¼Œå®ç°ç¯å¢ƒéš”ç¦»å’Œä¸€è‡´æ€§ï¼Œæ¦‚å¿µä¸Javaé¡¹ç›®æ— å¼‚ã€‚</td></tr><tr><td/><td><strong>Java-Pythonæ¡¥æ¥æŠ€æœ¯</strong>â€‹</td><td><strong>DJL (Deep Java Library)</strong> ï¼šå…è®¸åœ¨Javaåº”ç”¨ä¸­ç›´æ¥è°ƒç”¨PyTorch/TensorFlowæ¨¡å‹ï¼Œæå¤§é™ä½äº†åœ¨ç°æœ‰Javaç³»ç»Ÿä¸­é›†æˆAIèƒ½åŠ›çš„æŠ€æœ¯é—¨æ§›ã€‚</td></tr></tbody></table>
<h3 data-id="heading-0">ğŸ’¡ å¦‚ä½•é«˜æ•ˆå­¦ä¹ ä¸å®è·µ</h3>
<p>æ˜ç¡®äº†å­¦ä»€ä¹ˆï¼Œæ¥ä¸‹æ¥çš„å…³é”®åœ¨äºå¦‚ä½•é«˜æ•ˆåœ°å­¦ï¼Œå¹¶è®©æ–°çŸ¥è¯†äº§ç”Ÿä»·å€¼ã€‚</p>
<ol>
<li>
<p><strong>è½¬å˜å­¦ä¹ æ€ç»´</strong></p>
<ul>
<li>
<p><strong>ä»â€œä¸¥è°¨æ¶æ„â€åˆ°â€œå¿«é€Ÿè¿­ä»£â€</strong> ï¼šPythonç”Ÿæ€çš„ä¼˜åŠ¿åœ¨äºä¸°å¯Œçš„åº“å’Œå¿«é€ŸåŸå‹éªŒè¯ã€‚åˆæœŸä¸å¿…è¿‡äºè¿½æ±‚Javaå¼çš„å®Œç¾æ¶æ„ï¼Œåº”æ¥å—â€œå…ˆè·‘èµ·æ¥ï¼Œå†ä¼˜åŒ–â€çš„æ¢ç´¢å¼ç¼–ç¨‹ã€‚</p>
</li>
<li>
<p><strong>å–„ç”¨å·¥å…·é“¾</strong>ï¼šç†Ÿç»ƒä½¿ç”¨<strong>Jupyter Notebook</strong>è¿›è¡Œä»£ç å®éªŒå’Œæ•°æ®åˆ†æï¼Œå®ƒéå¸¸é€‚åˆäº¤äº’å¼å­¦ä¹ å’Œæ¢ç´¢æ€§ç ”ç©¶ã€‚</p>
</li>
</ul>
</li>
<li>
<p><strong>è§„åˆ’å­¦ä¹ è·¯å¾„</strong></p>
<ul>
<li>
<p><strong>ç¬¬ä¸€æ­¥ï¼šPythonåŸºç¡€ä¸æ•°æ®ç§‘å­¦åº“</strong>ã€‚å¿«é€Ÿè¿‡ä¸€éPythonè¯­æ³•ï¼Œç„¶åé‡ç‚¹ç»ƒä¹ ç”¨NumPyå’ŒPandasè¿›è¡Œæ•°æ®æ“ä½œã€‚å¯ä»¥æ‰¾ä¸€ä¸ªCSVæ•°æ®é›†ï¼Œå°è¯•è¿›è¡Œæ•°æ®æ¸…æ´—ã€ç­›é€‰å’Œç®€å•ç»Ÿè®¡ã€‚</p>
</li>
<li>
<p><strong>ç¬¬äºŒæ­¥ï¼šæ·±åº¦å­¦ä¹ æ¡†æ¶ä¸Hugging Face</strong>ã€‚å­¦ä¹ PyTorchçš„å¼ é‡æ“ä½œå’Œè‡ªåŠ¨æ±‚å¯¼æœºåˆ¶ï¼Œç„¶åç”¨Hugging Faceçš„<code>pipeline</code>å‡½æ•°å¿«é€Ÿä½“éªŒæ–‡æœ¬åˆ†ç±»ã€æ‘˜è¦ç”Ÿæˆç­‰ä»»åŠ¡ï¼Œæ„Ÿå—å¤§æ¨¡å‹çš„èƒ½åŠ›ã€‚</p>
</li>
<li>
<p><strong>ç¬¬ä¸‰æ­¥ï¼šé¡¹ç›®å®æˆ˜</strong>ã€‚è¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ã€‚é€‰æ‹©ä¸€ä¸ªæ„Ÿå…´è¶£çš„å°é¡¹ç›®ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>
<p><strong>å…¥é—¨çº§</strong>ï¼šç”¨FastAPIå°†ä¸€ä¸ªç®€å•çš„æ–‡æœ¬åˆ†ç±»æ¨¡å‹åŒ…è£…æˆRESTful APIï¼Œä¾›æ‚¨çš„JavaæœåŠ¡è°ƒç”¨ã€‚</p>
</li>
<li>
<p><strong>è¿›é˜¶çº§</strong>ï¼šä½¿ç”¨<strong>LangChain</strong>æ¡†æ¶æ„å»ºä¸€ä¸ªåŸºäºç§æœ‰æ–‡æ¡£çš„æ™ºèƒ½é—®ç­”ç³»ç»Ÿï¼ˆRAGï¼‰ï¼Œè¿™ä¼šç»¼åˆç”¨åˆ°Hugging Faceã€å‘é‡æ•°æ®åº“ç­‰çŸ¥è¯†ã€‚</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>å‘æŒ¥ä½ çš„Javaä¼˜åŠ¿</strong></p>
<p>æ‚¨çš„JavaèƒŒæ™¯ä¸æ˜¯è´Ÿæ‹…ï¼Œè€Œæ˜¯<strong>ç‹¬ç‰¹çš„ç«äº‰ä¼˜åŠ¿</strong>ã€‚å¤§æ¨¡å‹æŠ€æœ¯ä»ç ”ç©¶åˆ°è½åœ°ï¼Œè¿«åˆ‡éœ€è¦å¼ºå¤§çš„å·¥ç¨‹åŒ–èƒ½åŠ›ã€‚æ‚¨å¯ä»¥ä¸“æ³¨äºï¼š</p>
<ul>
<li>
<p><strong>AIåº”ç”¨å·¥ç¨‹åŒ–</strong>ï¼šæ€è€ƒå¦‚ä½•å°†Pythonå¼€å‘çš„æ¨¡å‹ç”¨Dockerå®¹å™¨åŒ–ï¼Œå¦‚ä½•ç”¨Javaï¼ˆé€šè¿‡DJLæˆ–HTTP APIï¼‰é›†æˆæ¨¡å‹å¹¶æä¾›é«˜å¯ç”¨ã€é«˜å¹¶å‘çš„æœåŠ¡ã€‚</p>
</li>
<li>
<p><strong>ç³»ç»Ÿæ¶æ„è®¾è®¡</strong>ï¼šå¦‚ä½•è®¾è®¡å¾®æœåŠ¡æ¥ç®¡ç†å¤šä¸ªæ¨¡å‹çš„ç”Ÿå‘½å‘¨æœŸï¼Ÿå¦‚ä½•å®ç°æ¨¡å‹çš„ç‰ˆæœ¬ç®¡ç†ã€ç°åº¦å‘å¸ƒå’Œç›‘æ§ï¼Ÿè¿™äº›éƒ½æ˜¯æ‚¨éå¸¸æ“…é•¿è€Œçº¯Pythonç ”ç©¶è€…å¯èƒ½è–„å¼±çš„åœ°æ–¹ã€‚</p>
</li>
</ul>
</li>
</ol>
<p>å¸Œæœ›è¿™ä»½æ¢³ç†èƒ½å¸®åŠ©æ‚¨æ¸…æ™°åœ°è§„åˆ’Pythonç”Ÿæ€çš„å­¦ä¹ ã€‚è¿™æ˜¯ä¸€ä¸ªâ€œç£¨åˆ€ä¸è¯¯ç æŸ´å·¥â€çš„è¿‡ç¨‹ï¼Œä¸€æ—¦æŒæ¡äº†è¿™äº›å·¥å…·ï¼Œæ‚¨å°±èƒ½å°†å¼ºå¤§çš„Javaå·¥ç¨‹èƒ½åŠ›ä¸å‰æ²¿çš„AIæ¨¡å‹èƒ½åŠ›ç›¸ç»“åˆï¼ŒçœŸæ­£å…·å¤‡æˆä¸ºâ€œAIæ—¶ä»£å…¨æ ˆå·¥ç¨‹å¸ˆâ€çš„æ½œåŠ›ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½ ç¦»å‰ç«¯åŠ¨ç”»é«˜æ‰‹åªå·®è¿™ä¸ªç§˜ç±ï¼GSAP ScrollTrigger åŠ¨ç”»å®Œå…¨æŒ‡å—ï¼(ç¬¬ä¸€ç« )]]></title>    <link>https://juejin.cn/post/7572157115907375154</link>    <guid>https://juejin.cn/post/7572157115907375154</guid>    <pubDate>2025-11-14T05:39:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572157115907375154" data-draft-id="7572039006529863716" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½ ç¦»å‰ç«¯åŠ¨ç”»é«˜æ‰‹åªå·®è¿™ä¸ªç§˜ç±ï¼GSAP ScrollTrigger åŠ¨ç”»å®Œå…¨æŒ‡å—ï¼(ç¬¬ä¸€ç« )"/> <meta itemprop="keywords" content="å‰ç«¯,åŠ¨æ•ˆ"/> <meta itemprop="datePublished" content="2025-11-14T05:39:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å­Ÿç¥¥_æˆéƒ½"/> <meta itemprop="url" content="https://juejin.cn/user/96412752684744"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½ ç¦»å‰ç«¯åŠ¨ç”»é«˜æ‰‹åªå·®è¿™ä¸ªç§˜ç±ï¼GSAP ScrollTrigger åŠ¨ç”»å®Œå…¨æŒ‡å—ï¼(ç¬¬ä¸€ç« )
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/96412752684744/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å­Ÿç¥¥_æˆéƒ½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T05:39:47.000Z" title="Fri Nov 14 2025 05:39:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>è¿™é‡Œæ²¡æœ‰å†—é•¿çš„ç†è®ºï¼Œåªæœ‰åŠ¨ç”»å®æˆ˜ä¸­çš„<strong>ç²¾åå¹²è´§</strong>ã€‚æœ¬èŠ‚ä¸æ¶‰åŠå¤æ‚çš„æŠ€æœ¯ç»†èŠ‚ï¼Œè€Œæ˜¯ä¸ºä½ æç»˜å­¦æˆåçš„è“å›¾ â€”â€” ä½ èƒ½å®ç°æ€æ ·çš„æ•ˆæœï¼Œå¹¶èƒ½æ‹¿åˆ°æºç äº²æ‰‹å®è·µã€æ¬¢è¿ä¸€èµ·äº¤æµã€‚</p>
<p>æœ¬ç³»åˆ—èšç„¦äºç½‘é¡µÂ <code>scroll</code>Â æ»šåŠ¨åŠ¨ç”»ï¼Œæ ¸å¿ƒå·¥å…·æ˜¯Â <code>gsap</code>ã€‚è¿™ä¸ªåŠ¨ç”»åº“åœ¨å›½å¤–æä¸ºæµè¡Œï¼Œä½†åœ¨å›½å†…çŸ¥ååº¦è¿˜ä¸é«˜ï¼ˆæ—©æœŸå› æ”¶è´¹é—¨æ§›ï¼Œè¿‘å¹´å·²å®Œå…¨å…è´¹ï¼‰ã€‚åŠ ä¸Šç›®å‰å›½å†…ä¼ä¸šå¯¹åŠ¨æ•ˆçš„è¦æ±‚å°šæœªæ™®åŠï¼Œå› æ­¤äº†è§£å®ƒçš„äººå¹¶ä¸å¤šã€‚</p>
<p>ä½†è¯·ç›¸ä¿¡ï¼Œå¦‚æœä½ æ¸´æœ›åšå‡ºä»¤äººæƒŠå¹çš„ç½‘é¡µåŠ¨ç”»ï¼Œçœ‹å®Œæˆ‘ä»¬æœ€ç»ˆè¦å®ç°çš„æ•ˆæœï¼Œä½ ä¸€å®šä¼šå¿ƒåŠ¨ï¼Œå¹¶æ„¿æ„åŠ å…¥æˆ‘ä»¬çš„Â <strong>ã€Œå‰ç«¯åŠ¨ç”»äº¤æµç¾¤ã€</strong>ï¼Œä¸€èµ·è¿›é˜¶ã€ä¸€èµ·æˆé•¿ã€‚</p>
<h2 data-id="heading-1">GSAP æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>GSAP æ˜¯å›½å¤–é¡¶å°–çš„ä¸“ä¸šåŠ¨ç”»åº“ï¼Œå¤§å¤šæ•°è®©äººâ€œçœ¼å‰ä¸€äº®â€çš„ç½‘é¡µåŠ¨ç”»ï¼ŒèƒŒåéƒ½æœ‰å®ƒçš„èº«å½±ï¼ˆå½“ç„¶ï¼ŒåƒÂ <code>Framer Motion</code>Â è¿™ç±»æ–°ç§€ä¹ŸåŒæ ·å¼ºå¤§ï¼Œåç»­æˆ‘ä»¬ä¹Ÿä¼šæ¨å‡ºç›¸å…³é«˜é˜¶æ•™ç¨‹ï¼‰ã€‚</p>
<p>ç°åœ¨ï¼Œå°±æ¥çœ‹çœ‹ GSAP èƒ½åšå‡ºå“ªäº›<strong>ç‚¸è£‚çš„è§†è§‰æ•ˆæœ</strong>å§ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9bddd8e374bc47fe99b5f9719b002c88~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f56WlX-aIkOmDvQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763703587&amp;x-signature=G1SNM5vKkDZRDOlcoTnzbDlu5RU%3D" alt="all.gif" loading="lazy"/></p>
<p>é‡Œé¢æ¶‰åŠçš„Â <code>3D</code>Â æ•ˆæœï¼Œå…¶å®æ˜¯ç»“åˆäº†Â <code>three.js</code>Â ä¸Â <code>gsap</code>Â å…±åŒå®ç°çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå…‰ä¼šÂ <code>three.js</code>ï¼Œç¦»åšå‡ºçœŸæ­£é…·ç‚«çš„åŠ¨ç”»è¿˜å·®ä¸€æ­¥ã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¸å¦¨<strong>ä»æ˜“åˆ°éš¾</strong>ï¼Œå…ˆæŒæ¡Â <code>2D</code>Â åŠ¨ç”»ï¼Œåšå‡ºçœ‹å¾—è§çš„æ•ˆæœâ€”â€”è¿™ä¸ä»…èƒ½å¸®ä½ å¤¯å®åŸºç¡€ï¼Œä¹Ÿä¼šæå¤§å¢å¼ºä½ çš„ä¿¡å¿ƒã€‚</p>
<p>æˆ‘ä»¬è¿™ä¸ªåŠ¨ç”»ç³»åˆ—ï¼Œå°†ä¸“æ³¨äºÂ <code>gsap</code>Â åœ¨Â <strong>scroll æ»šåŠ¨åŠ¨ç”»</strong>Â æ–¹é¢çš„åº”ç”¨ã€‚å¯èƒ½æœ‰åŒå­¦ä¼šé—®ï¼šä¸ºä»€ä¹ˆåªè®²æ»šåŠ¨åŠ¨ç”»ï¼Ÿ</p>
<h2 data-id="heading-2">ä¸ºä»€ä¹ˆé€‰æ‹©ç”¨å®ƒå®ç° Scroll åŠ¨ç”»ï¼Ÿ</h2>
<ol>
<li>
<p><strong>æ›´èšç„¦äºä¸€ä¸ªæŠ€æœ¯ç‚¹</strong><br/>
<code>gsap</code> åŠ¨ç”»æ¶‰åŠçš„ç‚¹å¤ªå¤šäº†ï¼Œå¦‚æœå…¨é¢å±•å¼€ï¼Œæ•´ä¸ªæ•™ç¨‹å‘¨æœŸä¼šæ‹‰å¾—éå¸¸é•¿ã€‚æˆ‘ä»¬å¸Œæœ›åœ¨æœ‰é™æ—¶é—´å†…ï¼Œå¸¦ä½ å­¦é€ä¸€ä¸ªçœŸæ­£å®ç”¨çš„é«˜ä»·å€¼æ¨¡å—ã€‚æ‰€ä»¥é€‰æ‹©äº† <code>scroll</code> è¿™å—ã€‚</p>
</li>
<li>
<p><strong>GSAP æœ€ç‰›çš„æ’ä»¶å°±æ˜¯è·Ÿæ»šåŠ¨ç›¸å…³çš„</strong><br/>
å¦‚æœè¦é—® GSAP ç›¸è¾ƒäºå…¶ä»–åŠ¨ç”»åº“æœ€å¼ºå¤§çš„åŠŸèƒ½æ˜¯ä»€ä¹ˆï¼Œé‚£ä¸€å®šæ˜¯ä¸æ»šåŠ¨ç›¸å…³çš„Â <strong>ScrollTrigger æ’ä»¶</strong>ã€‚å®ƒåˆ°åº•èƒ½å®ç°å¤šéœ‡æ’¼çš„æ•ˆæœï¼Ÿä¸‹é¢æˆ‘ä»¬æ¥çœ‹å‡ ä¸ªå…¸å‹ç¤ºä¾‹ï¼ˆè¿™äº›æ¡ˆä¾‹åœ¨åç»­æ•™ç¨‹ä¸­éƒ½ä¼šä¸€ä¸€å®ç°ï¼‰</p>
</li>
</ol>
<h2 data-id="heading-3">ä¸€äº›å®ç°æ•ˆæœ</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5ad72c205d334880a960ef1aab34ccde~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f56WlX-aIkOmDvQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763703587&amp;x-signature=H1b990dpdWpja1Qbs3xvZKfEd0s%3D" alt="Nov-14-2025 11-05-05.gif" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/256a18ceb89740b8a9c28b81768ee097~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f56WlX-aIkOmDvQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763703587&amp;x-signature=XUSs3jwgU35n8jIYOmSbOr%2F94eU%3D" alt="Nov-14-2025 11-10-35.gif" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d47b4a193764ecc81a120438526ae38~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f56WlX-aIkOmDvQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763703587&amp;x-signature=Y%2BBF2CKvlb482EuIMygIAvCjyI8%3D" alt="Nov-14-2025 11-11-20.gif" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7db11e48883846bf93507daab454c415~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f56WlX-aIkOmDvQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763703587&amp;x-signature=WSXTnBIJ3Nb33smtw5No8Zb8P6E%3D" alt="Nov-14-2025 11-21-24.gif" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/17a0d53b8a124b3ba7ef1921794d0817~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f56WlX-aIkOmDvQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763703587&amp;x-signature=cRArGd8ASGp73Cat1IHSzmzt%2Fgk%3D" alt="Nov-14-2025 10-57-11.gif" loading="lazy"/></p>
<p>ä»¥ä¸Šåªæ˜¯å†°å±±ä¸€è§’ï¼Œæ€»å…±æ¡ˆä¾‹å¾ˆå¤šï¼Œç›®å‰æ‰‹ä¸Šæœ‰æ¥è¿‘ <code>100</code> ä¸ªæ•ˆæœï¼Œä½†æ˜¯åæœŸé€æ­¥å®Œæˆå¤šå°‘ï¼Œç°åœ¨è¿˜æ²¡å…·ä½“è§„åˆ’ï¼Œä½†è‡³å°‘å‡ åä¸ªè‚¯å®šæœ‰çš„ï¼</p>
<h2 data-id="heading-4">å…³äºæœ¬æ•™ç¨‹</h2>
<p>æœ¬ç³»åˆ—å†…å®¹èåˆäº†å›½å¤–ä¼˜è´¨ä»˜è´¹è¯¾ç¨‹ä¸å¤šä½å¤§ç¥çš„å®æˆ˜æ¡ˆä¾‹ï¼Œè™½æ˜¯æˆ‘ä¸ªäººå­¦ä¹ ä¸æ•´åˆçš„æˆæœï¼Œä½†åœ¨å†…å®¹æ·±åº¦ä¸ä½“ç³»æ€§ä¸Šï¼Œæœ‰ä¿¡å¿ƒè¾¾åˆ°å›½å†…Â <strong>TOP çº§åˆ«</strong>ã€‚çº¯ä¸ºåˆ†äº«ï¼Œå¸Œæœ›ä¸ä½ ä¸€èµ·è¿›æ­¥ã€‚</p>
<p>ä½œä¸ºå‰ç«¯å¼€å‘è€…ï¼Œå¾ˆå¤šäººéƒ½æ˜¯è¢«é‚£äº›â€œä¼šåŠ¨â€çš„é…·ç‚«ç•Œé¢å¸å¼•å…¥è¡Œçš„ã€‚é—æ†¾çš„æ˜¯ï¼Œå›½å†…åœ¨è¿™æ–¹é¢çš„é«˜è´¨é‡èµ„æºå¹¶ä¸å¤šã€‚è€Œæˆ‘ï¼Œä¸ä»…æ·±æ·±äº«å—ç€åšå‡ºæµç•…åŠ¨ç”»å¸¦æ¥çš„æˆå°±æ„Ÿï¼Œä¹Ÿåšä¿¡è‡ªå·±ä¼šåœ¨è¿™æ¡è·¯ä¸Šèµ°å¾—æ›´è¿œï¼Œä¹Ÿå¸Œæœ›æœ‰åŒè¡Œçš„ä¼™ä¼´ï¼</p>
<p>è¿™é‡Œä¹Ÿåˆ†äº«æˆ‘ä¸ªäººçš„ç»„ä»¶åº“é¡¹ç›®ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Flio-mengxiang%2Ft-ui" target="_blank" title="https://github.com/lio-mengxiang/t-ui" ref="nofollow noopener noreferrer">T-UI GitHub åœ°å€</a>ï¼ˆå¦‚éœ€è®¿é—®è¯·ç§‘å­¦ä¸Šç½‘ï¼‰ã€‚å®ƒçš„å®˜ç½‘åŠ¨æ•ˆä»…èŠ±äº†Â <strong>1 ä¸ªæœˆ</strong>Â å­¦ä¹ ä¸å®è·µå®Œæˆï¼Œæ•ˆæœè¿˜ç®—ä¸é”™ï¼Œæ¬¢è¿çœ‹çœ‹æºç ã€ç»™ä¸ª Star â­ï¸ï¼Œæˆ‘ä»¬ä¸€èµ·äº¤æµï¼</p>
<h2 data-id="heading-5">æ•™ç¨‹å®‰æ’</h2>
<p><strong>ç¬¬ä¸€éƒ¨åˆ†ï¼šç³»ç»Ÿå…¥é—¨</strong><br/>
åŸºæœ¬ä¸Šæ˜¯æ‹¿å›½å¤–å¾ˆå¥½ä¸€ä¸ªæŠ€æœ¯æ•™ç¨‹æ¥åˆ†äº«(åŒæ—¶æé†’å¤§å®¶ï¼Œå­¦å¥½è‹±è¯­æ˜¯éå¸¸éå¸¸é‡è¦çš„ï¼Œæˆ‘ä¹Ÿä¸€ç›´åœ¨åšæŒï¼Œå¤§æ¦‚1å¹´æ—¶é—´ï¼Œæ•ˆæœè¿˜æ˜¯æŒºæ˜æ˜¾çš„ï¼Œçœ‹è¿™ä¸ªæ•™ç¨‹åŸºæœ¬ä¸Šä¸çœ‹å­—å¹•èƒ½å¬æ‡‚ç™¾åˆ†ä¹‹ 80)</p>
<p>ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ä¸ªæ•™ç¨‹å‘¢ï¼Œå› ä¸ºæˆ‘å¯¹æ¯”è¿‡å¤šä¸ªæ•™ç¨‹ï¼Œè¿™ä¸ªæ•™ç¨‹ä¼˜ç‚¹éå¸¸çªå‡ºã€‚</p>
<ul>
<li>
<p>æœ‰Â <strong>æ ¸å¿ƒåŸç†</strong> è®²è§£ï¼šè¿™ç‚¹è‡³å…³é‡è¦ã€‚åˆå­¦ <code>ScrollTrigger</code> æ—¶ï¼Œæˆ‘ç»å¸¸ä¼šé‡åˆ°ä¸€äº›è«åå…¶å¦™çš„å¸ƒå±€é—®é¢˜ã€‚ï¼ˆæ˜¯å› ä¸º <code>ScrollTrigger</code> æ’ä»¶ä¼šåœ¨æŸäº›æƒ…å†µä¸‹ä¼šå½±å“åˆ°å¸ƒå±€ï¼‰ï¼Œå¦‚æœä¸äº†è§£ï¼Œå¾ˆéš¾å»è§£å†³è¿™äº›é—®é¢˜ã€‚</p>
</li>
<li>
<p><strong>æ¡ˆä¾‹ä¸°å¯Œ</strong>ï¼šè¯¥æ•™ç¨‹å‡ ä¹è¦†ç›–äº†æ‰€æœ‰å…³é”®æŠ€æœ¯ç‚¹ä¸åŠ¨ç”»ç±»å‹ï¼Œèƒ½å¸®æˆ‘ä»¬çœå»å¤§é‡è‡ªå·±è®¾è®¡æ¡ˆä¾‹çš„æ—¶é—´ã€‚</p>
</li>
</ul>
<p><strong>ç¬¬äºŒéƒ¨åˆ†ï¼šå®æˆ˜è¿›é˜¶</strong></p>
<p>æˆ‘ä»¬å°†ä¸€èµ·å¤ç°Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.awwwards.com%2F" target="_blank" title="https://www.awwwards.com/" ref="nofollow noopener noreferrer">Awwwards</a>Â ä¸Šçš„è·å¥–ç½‘ç«™æ•ˆæœã€‚ï¼ˆå¦‚æœå…¨çƒæœ€é¡¶å°–çš„ç½‘ç«™åŠ¨æ•ˆåœ¨å“ªä¸ªç½‘ç«™ï¼Œæ²¡é”™ï¼Œå°±æ˜¯è¿™ä¸ªç½‘ç«™äº†ï¼‰è¿™äº›æ•ˆæœåœ¨ä¸Šé¢æˆ‘ä»¬å±•ç¤ºè¿‡ï¼Œä¹Ÿæ˜¯æˆ‘ä¹‹å‰çœ‹ä¸€äº›å¤§ç¥çš„åšå®¢ã€è§†é¢‘ï¼Œç„¶åå­¦ä¹ çš„èµ„æ–™ï¼Œå‘ç°ç¡®å®å¾ˆæœ‰å¸®åŠ©ï¼Œä¹Ÿä¸€èµ·åˆ†äº«ï¼Œç®—æ˜¯å·©å›ºæˆ‘è‡ªå·±æ‰€å­¦çš„åŒæ—¶ä¹Ÿèƒ½åˆ†äº«å‡ºæ¥ï¼</p>
<h2 data-id="heading-6">æ¬¢è¿åŠ å…¥æˆ‘ä»¬çš„æŠ€æœ¯äº¤æµç¾¤</h2>
<p>æˆ‘ä»¬ç¾¤æ˜¯ä¸€ä¸ªè¦†ç›–Â <strong>å‰ç«¯åŠ¨ç”»</strong>ã€<strong>Node.js</strong>ã€<strong>AI Agent å¼€å‘</strong>Â åŠæˆ‘çš„ç»„ä»¶åº“é¡¹ç›®Â <strong>T-UI</strong>Â çš„ç»¼åˆæ€§æŠ€æœ¯äº¤æµç¤¾åŒºã€‚</p>
<p>ç›®å‰ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Flio-mengxiang%2Ft-ui" target="_blank" title="https://github.com/lio-mengxiang/t-ui" ref="nofollow noopener noreferrer">T-UI</a>Â æ˜¯ç¾¤å†…æœ€æˆç†Ÿã€è®¨è®ºæœ€æ´»è·ƒçš„é¡¹ç›®ã€‚ä»æºç è´¨é‡åˆ°å®˜ç½‘æ•ˆæœï¼Œéƒ½ç»å¾—èµ·ç»†çœ‹ã€‚æ¬¢è¿ä½ æ¥äº¤æµæƒ³æ³•ã€è´¡çŒ®ä»£ç ï¼Œæˆ– simply give it a starâ€”â€”â¤ï¸ æ¯”å¿ƒï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Javaè¿›é˜¶ï¼ˆäºŒï¼šMavenâ€”â€”Javaé¡¹ç›®ç®¡ç†å·¥å…·ï¼‰]]></title>    <link>https://juejin.cn/post/7572115057222533155</link>    <guid>https://juejin.cn/post/7572115057222533155</guid>    <pubDate>2025-11-14T05:44:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572115057222533155" data-draft-id="7572051762984058932" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Javaè¿›é˜¶ï¼ˆäºŒï¼šMavenâ€”â€”Javaé¡¹ç›®ç®¡ç†å·¥å…·ï¼‰"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-14T05:44:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çˆ±åˆ†äº«çš„é±¼é±¼"/> <meta itemprop="url" content="https://juejin.cn/user/3901536646733133"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Javaè¿›é˜¶ï¼ˆäºŒï¼šMavenâ€”â€”Javaé¡¹ç›®ç®¡ç†å·¥å…·ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3901536646733133/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çˆ±åˆ†äº«çš„é±¼é±¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T05:44:47.000Z" title="Fri Nov 14 2025 05:44:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{line-height:1.75;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;letter-spacing:2px;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%;word-break:break-word;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1{font-size:23px;margin-bottom:5px;font-weight:700;padding-left:10px;border-left:5px solid #773098}.markdown-body h2{font-size:19px;font-weight:700;padding-left:10px;border-left:5px solid #916dd5}.markdown-body h3{font-size:17px;font-weight:700;padding-left:10px;border-left:5px solid #d89cf6}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;max-width:100%;margin:1em 0;border-radius:6px;box-shadow:2px 4px 7px #999;user-select:none}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{padding:.2em .5em;font-weight:700;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-size:1em;color:#916dd5;word-break:break-word;overflow-x:auto;background-color:none;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-weight:400;font-size:.9em;padding:16px 12px;margin:0;color:#333;word-break:normal;overflow-x:auto;background:#f8f8f8;scroll-behavior:smooth}.markdown-body a{text-decoration:none;color:#916dd5;font-weight:700;border-bottom:1px solid #916dd5}.markdown-body a:active,.markdown-body a:hover{color:#773098}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;border:1px solid #916dd5;border-collapse:collapse}.markdown-body thead{background-color:#916dd5;color:#fff;text-align:left}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;border:1px solid #916dd5}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #d89cf6;background-color:#f4eeff}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0;line-height:26px}.markdown-body ol,.markdown-body ul{padding-left:28px;list-style-type:circle}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{color:#916dd5;font-weight:700}.markdown-body b:before,.markdown-body strong:before{content:"ã€Œ"}.markdown-body b:after,.markdown-body strong:after{content:"ã€"}.markdown-body em,.markdown-body i{color:#916dd5}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="github-gist">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#333}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#d73a49}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-symbol{color:#0086b3}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#6f42c1}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.hljs-number{color:#005cc5}.hljs-string{color:#032f62}</style><h2 data-id="heading-0">ä»€ä¹ˆæ˜¯Mavenï¼Ÿ</h2>
<p>Maven æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ <strong>é¡¹ç›®ç®¡ç†å’Œæ„å»ºè‡ªåŠ¨åŒ–å·¥å…·</strong>ï¼Œä¸»è¦ç”¨äº Java é¡¹ç›®ã€‚å®ƒé€šè¿‡é¡¹ç›®å¯¹è±¡æ¨¡å‹ï¼ˆPOMï¼ŒProject Object Modelï¼‰æ¥æè¿°é¡¹ç›®ï¼Œç®¡ç†ä¾èµ–ã€æ„å»ºç”Ÿå‘½å‘¨æœŸã€æ’ä»¶ç­‰ï¼Œæå¤§åœ°ç®€åŒ–äº† Java é¡¹ç›®çš„æ„å»ºå’Œç®¡ç†è¿‡ç¨‹ã€‚ä»–æå¤§çš„ç®€åŒ–äº†javaçš„ä¾èµ–ç®¡ç†ï¼ŒåŒæ—¶è®©é‡‡ç”¨mavenæ¶æ„çš„é¡¹ç›®é•¿å¾—ä¸€æ ·æ•´é½ï¼Œä¾¿äºç»´æŠ¤äºŒå¼€ã€‚ä¸¾å‡ ä¸ªæ²¡æœ‰mavençš„ç³Ÿç³•ä¾‹å­ã€‚</p>
<h3 data-id="heading-1">å¦‚æœæ²¡æœ‰Maven</h3>
<p><strong>æ‰‹åŠ¨æ‰¾ jar</strong>ï¼šæ‰“å¼€æœç´¢å¼•æ“ â†’ è¾“å…¥â€œspring-core-5.3.9.jar ä¸‹è½½â€ â†’ ç‚¹è¿›å¹¿å‘Šæ»¡å¤©é£çš„è®ºå› â†’ ä¸‹é”™ç‰ˆæœ¬ â†’ è¿è¡Œæ—¶æŠ¥ NoSuchMethodError â†’ é‡ä¸‹ â†’ å†è¯•ã€‚</p>
<p><strong>ç‰ˆæœ¬å†²çªé çœ¼ç¥</strong>ï¼šA æ¡†æ¶è¦ log4j-1.2.17ï¼ŒB æ¡†æ¶è¦ log4j-1.2.15ï¼Œä½ åªæœ‰æŠŠä¸¤ä¸ª jar éƒ½æ‰”è¿› libï¼Œclasspath é‡Œè°å…ˆè°åå…¨å‡­å¤©å‘½ã€‚</p>
<p><strong>ç›®å½•ç»“æ„â€œç™¾å®¶äº‰é¸£â€</strong>ï¼š å¼ ä¸‰æŠŠæºç æ”¾ <code>src/</code>ï¼Œæå››æ”¾ <code>source/</code>ï¼Œç‹äº”æŠŠæµ‹è¯•ä»£ç å« <code>testSrc/</code>ï¼›æ–°äººå…¥èŒç¬¬ä¸€ä»¶äº‹æ˜¯é—®â€œå’±ä»¬è¿™ä¸ªé¡¹ç›®å’‹ç¼–è¯‘ï¼Ÿâ€</p>
<p><strong>æ„å»ºè„šæœ¬æˆâ€œä¼ å®¶å®â€</strong>:æ¯äººç§è—ä¸€ä»½ 2000 è¡Œ Ant XMLï¼Œé‡Œé¢ç¡¬ç¼–ç äº† <code>D:\tomcat\webapps</code> è·¯å¾„ï¼›æ¢å°ç”µè„‘å°±è·‘ä¸èµ·æ¥ã€‚</p>
<p><strong>CI/CD å¯¸æ­¥éš¾è¡Œ</strong>: Jenkins é‡Œè¦å…ˆæŠŠ jar æ‹·åˆ° libã€å†æ”¹ç‰ˆæœ¬å·ã€å†æ‰‹åŠ¨ç‚¹æŒ‰é’®ï¼›ä¸Šçº¿ä¸€æ¬¡ 30 åˆ†é’Ÿï¼Œå– 3 æ¯å’–å•¡ç­‰ç»“æœã€‚</p>
<h3 data-id="heading-2">Maven çš„æ ¸å¿ƒåŠŸèƒ½ï¼š</h3>





























<table><thead><tr><th align="left">åŠŸèƒ½</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left"><strong>ä¾èµ–ç®¡ç†</strong></td><td align="left">è‡ªåŠ¨ä¸‹è½½å’Œç®¡ç†é¡¹ç›®æ‰€éœ€çš„ç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚ Springã€MyBatis ç­‰ï¼‰ï¼Œé¿å…æ‰‹åŠ¨å¯¼å…¥ jar åŒ…ã€‚</td></tr><tr><td align="left"><strong>é¡¹ç›®æ„å»º</strong></td><td align="left">æä¾›æ ‡å‡†åŒ–çš„æ„å»ºæµç¨‹ï¼šç¼–è¯‘ã€æµ‹è¯•ã€æ‰“åŒ…ã€éƒ¨ç½²ç­‰ã€‚</td></tr><tr><td align="left"><strong>ç»Ÿä¸€ç»“æ„</strong></td><td align="left">è§„å®šé¡¹ç›®ç›®å½•ç»“æ„ï¼ˆå¦‚Â <code>src/main/java</code>ã€<code>src/test/java</code>ï¼‰ï¼Œæé«˜é¡¹ç›®å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</td></tr><tr><td align="left"><strong>æ’ä»¶æœºåˆ¶</strong></td><td align="left">æ”¯æŒé€šè¿‡æ’ä»¶æ‰©å±•åŠŸèƒ½ï¼Œå¦‚æ‰“åŒ…æˆ jarã€warï¼Œç”Ÿæˆæ–‡æ¡£ï¼Œè¿è¡Œæµ‹è¯•ç­‰ã€‚</td></tr><tr><td align="left"><strong>å¤šæ¨¡å—æ”¯æŒ</strong></td><td align="left">æ”¯æŒå¤§å‹é¡¹ç›®çš„æ¨¡å—åŒ–å¼€å‘ï¼Œä¾¿äºç®¡ç†å¤šä¸ªå­é¡¹ç›®ã€‚</td></tr></tbody></table>
<h2 data-id="heading-3">å¦‚ä½•æ­å»ºç¬¬ä¸€ä¸ª Maven å·¥ç¨‹</h2>
<h3 data-id="heading-4">1. ç¯å¢ƒå‡†å¤‡</h3>
<ul>
<li><strong>å®‰è£… JDK</strong>ï¼šç¡®ä¿å·²å®‰è£… Java Development Kit</li>
<li><strong>å®‰è£… Maven</strong>ï¼šä¸‹è½½å¹¶é…ç½® Apache Maven ç¯å¢ƒå˜é‡</li>
<li><strong>éªŒè¯å®‰è£…</strong>ï¼šåœ¨å‘½ä»¤è¡Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ç¡®è®¤å®‰è£…æˆåŠŸ
<pre><code class="hljs language-bash" lang="bash">mvn -version
</code></pre>
</li>
</ul>
<h3 data-id="heading-5">2. åˆ›å»º Maven é¡¹ç›®</h3>
<h4 data-id="heading-6">IDEåˆ›å»º</h4>
<p>åœ¨Ideaç­‰ç¼–è¾‘å™¨æ–°å»ºé¡¹ç›®æ—¶åœ¨â€œæ„å»ºç³»ç»Ÿâ€ä¸­é€‰æ‹©Maven</p>
<h4 data-id="heading-7">ä½¿ç”¨å‘½ä»¤è¡Œåˆ›å»º</h4>
<pre><code class="hljs language-bash" lang="bash">mvn archetype:generate -DgroupId=com.example -DartifactId=my-first-maven-project -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=<span class="hljs-literal">false</span>
</code></pre>
<h4 data-id="heading-8">æ‰‹åŠ¨åˆ›å»ºé¡¹ç›®ç»“æ„</h4>
<pre><code class="hljs language-css" lang="css">my-first-maven-project/
â”œâ”€â”€ <span class="hljs-attribute">src</span>/
â”‚   â”œâ”€â”€ <span class="hljs-selector-tag">main</span>/
â”‚   â”‚   â””â”€â”€ java/
â”‚   â”‚       â””â”€â”€ com/
â”‚   â”‚           â””â”€â”€ example/
â”‚   â”‚               â””â”€â”€ App<span class="hljs-selector-class">.java</span>
â”‚   â””â”€â”€ test/
â”‚       â””â”€â”€ java/
â”‚           â””â”€â”€ com/
â”‚               â””â”€â”€ example/
â”‚                   â””â”€â”€ AppTest<span class="hljs-selector-class">.java</span>
â””â”€â”€ pom<span class="hljs-selector-class">.xml</span>
</code></pre>
<h3 data-id="heading-9">3. é…ç½® pom.xml</h3>
<p>åˆ›å»ºåŸºæœ¬çš„ <code>pom.xml</code> æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0"</span>
         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0 
         http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.example<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>my-first-maven-project<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.source</span>&gt;</span>8<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.source</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.target</span>&gt;</span>8<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.target</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">project.build.sourceEncoding</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.12<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span>
</code></pre>
<h3 data-id="heading-10">4. ç¼–å†™ä»£ç </h3>
<p>åœ¨ <code>src/main/java/com/example/App.java</code> ä¸­åˆ›å»ºä¸»ç±»ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        System.out.println(<span class="hljs-string">"Hello Maven!"</span>);
    }
    
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">sayHello</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"Hello "</span> + name + <span class="hljs-string">"!"</span>;
    }
}
</code></pre>
<h3 data-id="heading-11">5. ç¼–è¯‘å’Œæ„å»º</h3>
<h4 data-id="heading-12">ç¼–è¯‘é¡¹ç›®</h4>
<pre><code class="hljs language-bash" lang="bash">mvn compile
</code></pre>
<h4 data-id="heading-13">è¿è¡Œæµ‹è¯•</h4>
<pre><code class="hljs language-bash" lang="bash">mvn <span class="hljs-built_in">test</span>
</code></pre>
<h4 data-id="heading-14">æ‰“åŒ…é¡¹ç›®</h4>
<pre><code class="hljs language-bash" lang="bash">mvn package
</code></pre>
<h4 data-id="heading-15">æ¸…ç†æ„å»ºç»“æœ</h4>
<pre><code class="hljs language-bash" lang="bash">mvn clean
</code></pre>
<h3 data-id="heading-16">6. Maven æ ‡å‡†ç›®å½•ç»“æ„</h3>
<ul>
<li><code>src/main/java/</code>ï¼šJava æºä»£ç </li>
<li><code>src/main/resources/</code>ï¼šèµ„æºæ–‡ä»¶</li>
<li><code>src/test/java/</code>ï¼šæµ‹è¯•ä»£ç </li>
<li><code>src/test/resources/</code>ï¼šæµ‹è¯•èµ„æºæ–‡ä»¶</li>
<li><code>target/</code>ï¼šæ„å»ºè¾“å‡ºç›®å½•</li>
<li><code>pom.xml</code>ï¼šé¡¹ç›®å¯¹è±¡æ¨¡å‹æ–‡ä»¶</li>
</ul>
<h2 data-id="heading-17">POM æ–‡ä»¶å…¨è§£</h2>
<h3 data-id="heading-18">1. POM åŸºæœ¬æ¦‚å¿µ</h3>
<p><code>Project Object Model</code> (<code>POM</code>) æ˜¯ Maven é¡¹ç›®çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œå®šä¹‰äº†é¡¹ç›®çš„åŸºæœ¬ä¿¡æ¯ã€ä¾èµ–å…³ç³»ã€æ„å»ºé…ç½®ç­‰å†…å®¹ã€‚</p>
<h3 data-id="heading-19">2. POM æ–‡ä»¶åŸºæœ¬ç»“æ„</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0"</span>
         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0 
         http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- é¡¹ç›®åŸºæœ¬ä¿¡æ¯ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.example<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>my-app<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">packaging</span>&gt;</span>jar<span class="hljs-tag">&lt;/<span class="hljs-name">packaging</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- å±æ€§é…ç½® --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">java.version</span>&gt;</span>1.8<span class="hljs-tag">&lt;/<span class="hljs-name">java.version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- ä¾èµ–é…ç½® --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- ä¾èµ–é¡¹ --&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- æ„å»ºé…ç½® --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ„å»ºæ’ä»¶ --&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span>
</code></pre>
<h3 data-id="heading-20">3. æ ¸å¿ƒå…ƒç´ è¯¦è§£</h3>
<h4 data-id="heading-21">3.1 åŸºæœ¬åæ ‡ä¿¡æ¯</h4>
<ul>
<li><code>groupId</code>: ç»„ç»‡æ ‡è¯†ç¬¦ï¼Œé€šå¸¸ä½¿ç”¨åå‘åŸŸå</li>
<li><code>artifactId</code>: é¡¹ç›®å”¯ä¸€æ ‡è¯†ç¬¦</li>
<li><code>version</code>: é¡¹ç›®ç‰ˆæœ¬å·</li>
<li><code>packaging</code>: æ‰“åŒ…æ–¹å¼ï¼ˆjarã€warã€pomç­‰ï¼‰</li>
</ul>
<h4 data-id="heading-22">3.2 å±æ€§é…ç½® (<code>properties</code>)</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">java.version</span>&gt;</span>1.8<span class="hljs-tag">&lt;/<span class="hljs-name">java.version</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.source</span>&gt;</span>1.8<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.source</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.target</span>&gt;</span>1.8<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.target</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">project.build.sourceEncoding</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span>
</code></pre>
<h4 data-id="heading-23">3.3 ä¾èµ–ç®¡ç† (<code>dependencies</code>)</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.12<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
</code></pre>
<h5 data-id="heading-24">ä¾èµ–èŒƒå›´ (<code>scope</code>)</h5>
<ul>
<li><code>compile</code>: ç¼–è¯‘ä¾èµ–ï¼ˆé»˜è®¤ï¼‰</li>
<li><code>provided</code>: ç¼–è¯‘å’Œæµ‹è¯•æ—¶éœ€è¦ï¼Œè¿è¡Œæ—¶ç”±å®¹å™¨æä¾›</li>
<li><code>runtime</code>: è¿è¡Œå’Œæµ‹è¯•æ—¶éœ€è¦ï¼Œç¼–è¯‘ä¸éœ€è¦</li>
<li><code>test</code>: ä»…æµ‹è¯•æ—¶éœ€è¦</li>
<li><code>system</code>: ç³»ç»Ÿçº§ä¾èµ–</li>
</ul>
<h4 data-id="heading-25">3.4 ç»§æ‰¿ä¸èšåˆ</h4>
<h5 data-id="heading-26">çˆ¶é¡¹ç›®ç»§æ‰¿</h5>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.7.14<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">relativePath</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span>
</code></pre>
<h5 data-id="heading-27">å­æ¨¡å—èšåˆ</h5>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">modules</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">module</span>&gt;</span>module1<span class="hljs-tag">&lt;/<span class="hljs-name">module</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">module</span>&gt;</span>module2<span class="hljs-tag">&lt;/<span class="hljs-name">module</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">modules</span>&gt;</span>
</code></pre>
<h3 data-id="heading-28">4. æ„å»ºé…ç½® (<code>build</code>)</h3>
<h4 data-id="heading-29">4.1 æ’ä»¶é…ç½®</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.8.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">source</span>&gt;</span>1.8<span class="hljs-tag">&lt;/<span class="hljs-name">source</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">target</span>&gt;</span>1.8<span class="hljs-tag">&lt;/<span class="hljs-name">target</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span>
</code></pre>
<h4 data-id="heading-30">4.2 èµ„æºé…ç½®</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/resources<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span>
</code></pre>
<h3 data-id="heading-31">5. ä¾èµ–ç®¡ç†è¿›é˜¶</h3>
<h4 data-id="heading-32">5.1 ä¾èµ–ç®¡ç† (<code>dependencyManagement</code>)</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencyManagement</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-core<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.3.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencyManagement</span>&gt;</span>
</code></pre>
<h4 data-id="heading-33">5.2 æ’é™¤ä¾èµ–</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-webmvc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.3.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">exclusions</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">exclusion</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>commons-logging<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>commons-logging<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">exclusion</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">exclusions</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h3 data-id="heading-34">6. Profiles é…ç½®</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">profiles</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">profile</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>dev<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">environment</span>&gt;</span>development<span class="hljs-tag">&lt;/<span class="hljs-name">environment</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">profile</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">profile</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>prod<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">environment</span>&gt;</span>production<span class="hljs-tag">&lt;/<span class="hljs-name">environment</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">profile</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">profiles</span>&gt;</span>
</code></pre>
<h3 data-id="heading-35">7. ä»“åº“é…ç½®</h3>
<h4 data-id="heading-36">7.1 è¿œç¨‹ä»“åº“</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">repositories</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">repository</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>central<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>https://repo.maven.apache.org/maven2<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">repository</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">repositories</span>&gt;</span>
</code></pre>
<h4 data-id="heading-37">7.2 æ’ä»¶ä»“åº“</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">pluginRepositories</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">pluginRepository</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>central<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>https://repo.maven.apache.org/maven2<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">pluginRepository</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">pluginRepositories</span>&gt;</span>
</code></pre>
<h3 data-id="heading-38">8. å¸¸ç”¨ Maven å±æ€§</h3>
<ul>
<li><code>${project.groupId}</code>: é¡¹ç›® groupId</li>
<li><code>${project.artifactId}</code>: é¡¹ç›® artifactId</li>
<li><code>${project.version}</code>: é¡¹ç›®ç‰ˆæœ¬</li>
<li><code>${project.build.directory}</code>: æ„å»ºç›®å½•ï¼ˆtargetï¼‰</li>
<li><code>${project.build.outputDirectory}</code>: è¾“å‡ºç›®å½•ï¼ˆtarget/classesï¼‰</li>
<li><code>${project.build.testOutputDirectory}</code>: æµ‹è¯•è¾“å‡ºç›®å½•ï¼ˆtarget/test-classesï¼‰</li>
</ul>
<p>POM æ–‡ä»¶æ˜¯ Maven é¡¹ç›®çš„æ ¸å¿ƒï¼Œåˆç†é…ç½® POM å¯ä»¥æœ‰æ•ˆç®¡ç†é¡¹ç›®ä¾èµ–ã€æ„å»ºè¿‡ç¨‹å’Œå‘å¸ƒæµç¨‹ã€‚</p>
<h2 data-id="heading-39">Maven ç”Ÿå‘½å‘¨æœŸä¸æ’ä»¶</h2>
<h3 data-id="heading-40">1. Maven ç”Ÿå‘½å‘¨æœŸ</h3>
<p>Maven ç”Ÿå‘½å‘¨æœŸæ˜¯ Maven æ„å»ºè¿‡ç¨‹çš„æŠ½è±¡è¡¨ç¤ºï¼Œå®šä¹‰äº†æ„å»ºé¡¹ç›®çš„å„ä¸ªé˜¶æ®µã€‚</p>
<h4 data-id="heading-41">1.1 ä¸‰å¥—ç”Ÿå‘½å‘¨æœŸ</h4>
<h5 data-id="heading-42">Clean Lifecycleï¼ˆæ¸…ç†ç”Ÿå‘½å‘¨æœŸï¼‰</h5>
<ul>
<li><code>pre-clean</code>: æ‰§è¡Œæ¸…ç†å‰çš„å·¥ä½œ</li>
<li><code>clean</code>: æ¸…ç†ä¸Šä¸€æ¬¡æ„å»ºç”Ÿæˆçš„æ–‡ä»¶ï¼ˆåˆ é™¤ <code>target</code> ç›®å½•ï¼‰</li>
<li><code>post-clean</code>: æ‰§è¡Œæ¸…ç†åçš„å·¥ä½œ</li>
</ul>
<h5 data-id="heading-43">Default Lifecycleï¼ˆé»˜è®¤ç”Ÿå‘½å‘¨æœŸï¼‰</h5>
<ul>
<li><code>validate</code>: éªŒè¯é¡¹ç›®æ­£ç¡®æ€§å’Œå¿…è¦ä¿¡æ¯</li>
<li><code>initialize</code>: åˆå§‹åŒ–æ„å»ºçŠ¶æ€</li>
<li><code>generate-sources</code>: ç”Ÿæˆéœ€è¦ç¼–è¯‘çš„æºç </li>
<li><code>process-sources</code>: å¤„ç†æºç </li>
<li><code>generate-resources</code>: ç”Ÿæˆéœ€è¦æ‰“åŒ…çš„èµ„æºæ–‡ä»¶</li>
<li><code>process-resources</code>: å¤„ç†èµ„æºæ–‡ä»¶å¹¶å¤åˆ¶åˆ°ç›®æ ‡ç›®å½•</li>
<li><code>compile</code>: ç¼–è¯‘é¡¹ç›®çš„æºç </li>
<li><code>process-classes</code>: å¤„ç†ç¼–è¯‘åçš„classæ–‡ä»¶</li>
<li><code>generate-test-sources</code>: ç”Ÿæˆæµ‹è¯•éœ€è¦çš„æºç </li>
<li><code>process-test-sources</code>: å¤„ç†æµ‹è¯•æºç </li>
<li><code>generate-test-resources</code>: ç”Ÿæˆæµ‹è¯•éœ€è¦çš„èµ„æºæ–‡ä»¶</li>
<li><code>process-test-resources</code>: å¤„ç†æµ‹è¯•èµ„æºæ–‡ä»¶</li>
<li><code>test-compile</code>: ç¼–è¯‘æµ‹è¯•æºç </li>
<li><code>process-test-classes</code>: å¤„ç†ç¼–è¯‘åçš„æµ‹è¯•classæ–‡ä»¶</li>
<li><code>test</code>: ä½¿ç”¨å•å…ƒæµ‹è¯•æ¡†æ¶è¿è¡Œæµ‹è¯•</li>
<li><code>prepare-package</code>: æ‰“åŒ…å‰çš„å‡†å¤‡å·¥ä½œ</li>
<li><code>package</code>: å°†ç¼–è¯‘åçš„ä»£ç æ‰“åŒ…æˆå¯åˆ†å‘æ ¼å¼</li>
<li><code>pre-integration-test</code>: é›†æˆæµ‹è¯•å‰çš„å‡†å¤‡å·¥ä½œ</li>
<li><code>integration-test</code>: å¤„ç†å’Œéƒ¨ç½²åŒ…åˆ°é›†æˆæµ‹è¯•ç¯å¢ƒ</li>
<li><code>post-integration-test</code>: é›†æˆæµ‹è¯•åçš„æ“ä½œ</li>
<li><code>verify</code>: è¿è¡Œæ£€æŸ¥éªŒè¯åŒ…æ˜¯å¦æœ‰æ•ˆä¸”è¾¾åˆ°è´¨é‡æ ‡å‡†</li>
<li><code>install</code>: å°†åŒ…å®‰è£…åˆ°æœ¬åœ°ä»“åº“</li>
<li><code>deploy</code>: å°†æœ€ç»ˆçš„åŒ…å¤åˆ¶åˆ°è¿œç¨‹ä»“åº“</li>
</ul>
<h5 data-id="heading-44">Site Lifecycleï¼ˆç«™ç‚¹ç”Ÿå‘½å‘¨æœŸï¼‰</h5>
<ul>
<li><code>pre-site</code>: ç”Ÿæˆç«™ç‚¹æ–‡æ¡£å‰çš„å¤„ç†</li>
<li><code>site</code>: ç”Ÿæˆé¡¹ç›®çš„ç«™ç‚¹æ–‡æ¡£</li>
<li><code>post-site</code>: ç”Ÿæˆç«™ç‚¹æ–‡æ¡£åçš„å¤„ç†</li>
<li><code>site-deploy</code>: å°†ç”Ÿæˆçš„ç«™ç‚¹æ–‡æ¡£éƒ¨ç½²åˆ°æŒ‡å®šæœåŠ¡å™¨</li>
</ul>
<h4 data-id="heading-45">1.2 ç”Ÿå‘½å‘¨æœŸç‰¹ç‚¹</h4>
<ul>
<li>åé¢çš„é˜¶æ®µä¾èµ–äºå‰é¢çš„é˜¶æ®µ</li>
<li>è·³è½¬åˆ°æŸä¸ªé˜¶æ®µä¼šè‡ªåŠ¨æ‰§è¡Œå‰é¢çš„æ‰€æœ‰é˜¶æ®µ</li>
<li>ä¸åŒç”Ÿå‘½å‘¨æœŸå¯ä»¥åŒæ—¶æ‰§è¡Œ</li>
</ul>
<h3 data-id="heading-46">2. Maven æ’ä»¶</h3>
<p>Maven æ’ä»¶æ˜¯å®é™…æ‰§è¡Œæ„å»ºä»»åŠ¡çš„ç»„ä»¶ï¼Œæ¯ä¸ªé˜¶æ®µéƒ½ç”±ç‰¹å®šæ’ä»¶çš„ç›®æ ‡ï¼ˆgoalï¼‰æ¥æ‰§è¡Œã€‚</p>
<h4 data-id="heading-47">2.1 æ’ä»¶ç±»å‹</h4>
<h5 data-id="heading-48">Build Pluginsï¼ˆæ„å»ºæ’ä»¶ï¼‰</h5>
<p>åœ¨æ„å»ºç”Ÿå‘½å‘¨æœŸä¸­æ‰§è¡Œï¼Œåœ¨ <code>pom.xml</code> çš„ <code>&lt;build&gt;</code> å…ƒç´ ä¸­é…ç½®ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.8.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span>
</code></pre>
<h5 data-id="heading-49">Reporting Pluginsï¼ˆæŠ¥å‘Šæ’ä»¶ï¼‰</h5>
<p>åœ¨ç«™ç‚¹ç”Ÿæˆè¿‡ç¨‹ä¸­æ‰§è¡Œï¼Œåœ¨ <code>pom.xml</code> çš„ <code>&lt;reporting&gt;</code> å…ƒç´ ä¸­é…ç½®ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">reporting</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>maven-javadoc-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.2.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">reporting</span>&gt;</span>
</code></pre>
<h4 data-id="heading-50">2.2 å¸¸ç”¨æ ¸å¿ƒæ’ä»¶</h4>


















































<table><thead><tr><th>æ’ä»¶</th><th>åŠŸèƒ½</th><th>é»˜è®¤ç»‘å®šé˜¶æ®µ</th></tr></thead><tbody><tr><td><code>maven-clean-plugin</code></td><td>æ¸…ç†æ„å»ºäº§ç‰©</td><td>clean</td></tr><tr><td><code>maven-compiler-plugin</code></td><td>ç¼–è¯‘Javaæºç </td><td>compile, testCompile</td></tr><tr><td><code>maven-resources-plugin</code></td><td>å¤„ç†èµ„æºæ–‡ä»¶</td><td>process-resources, process-test-resources</td></tr><tr><td><code>maven-surefire-plugin</code></td><td>è¿è¡Œå•å…ƒæµ‹è¯•</td><td>test</td></tr><tr><td><code>maven-jar-plugin</code></td><td>æ‰“åŒ…JARæ–‡ä»¶</td><td>package</td></tr><tr><td><code>maven-war-plugin</code></td><td>æ‰“åŒ…WARæ–‡ä»¶</td><td>package</td></tr><tr><td><code>maven-install-plugin</code></td><td>å®‰è£…åˆ°æœ¬åœ°ä»“åº“</td><td>install</td></tr><tr><td><code>maven-deploy-plugin</code></td><td>éƒ¨ç½²åˆ°è¿œç¨‹ä»“åº“</td><td>deploy</td></tr></tbody></table>
<h4 data-id="heading-51">2.3 æ’ä»¶é…ç½®ç¤ºä¾‹</h4>
<h5 data-id="heading-52">ç¼–è¯‘æ’ä»¶é…ç½®</h5>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.8.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">source</span>&gt;</span>1.8<span class="hljs-tag">&lt;/<span class="hljs-name">source</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">target</span>&gt;</span>1.8<span class="hljs-tag">&lt;/<span class="hljs-name">target</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">encoding</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">encoding</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
</code></pre>
<h5 data-id="heading-53">æ‰“åŒ…æ’ä»¶é…ç½®</h5>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mainClass</span>&gt;</span>com.example.Application<span class="hljs-tag">&lt;/<span class="hljs-name">mainClass</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
</code></pre>
<h3 data-id="heading-54">3. å‘½ä»¤è¡Œæ‰§è¡Œ</h3>
<h4 data-id="heading-55">3.1 æ‰§è¡Œç‰¹å®šé˜¶æ®µ</h4>
<pre><code class="hljs language-bash" lang="bash">mvn clean              <span class="hljs-comment"># æ‰§è¡Œ clean ç”Ÿå‘½å‘¨æœŸåˆ° clean é˜¶æ®µ</span>
mvn compile            <span class="hljs-comment"># æ‰§è¡Œ default ç”Ÿå‘½å‘¨æœŸåˆ° compile é˜¶æ®µ</span>
mvn <span class="hljs-built_in">test</span>               <span class="hljs-comment"># æ‰§è¡Œ default ç”Ÿå‘½å‘¨æœŸåˆ° test é˜¶æ®µ</span>
mvn package            <span class="hljs-comment"># æ‰§è¡Œ default ç”Ÿå‘½å‘¨æœŸåˆ° package é˜¶æ®µ</span>
mvn install            <span class="hljs-comment"># æ‰§è¡Œ default ç”Ÿå‘½å‘¨æœŸåˆ° install é˜¶æ®µ</span>
mvn site               <span class="hljs-comment"># æ‰§è¡Œ site ç”Ÿå‘½å‘¨æœŸåˆ° site é˜¶æ®µ</span>
</code></pre>
<h4 data-id="heading-56">3.2 æ‰§è¡Œç‰¹å®šæ’ä»¶ç›®æ ‡</h4>
<pre><code class="hljs language-bash" lang="bash">mvn plugin:goal
mvn compiler:compile
mvn surefire:<span class="hljs-built_in">test</span>
mvn <span class="hljs-built_in">help</span>:describe -Dplugin=compiler
</code></pre>
<h4 data-id="heading-57">3.3 ç»„åˆæ‰§è¡Œ</h4>
<pre><code class="hljs language-bash" lang="bash">mvn clean install      <span class="hljs-comment"># å…ˆæ¸…ç†å†å®‰è£…</span>
mvn clean compile <span class="hljs-built_in">test</span> <span class="hljs-comment"># æ¸…ç†ã€ç¼–è¯‘ã€æµ‹è¯•</span>
</code></pre>
<h3 data-id="heading-58">4. è‡ªå®šä¹‰æ’ä»¶ç»‘å®š</h3>
<p>å¯ä»¥åœ¨ <code>pom.xml</code> ä¸­è‡ªå®šä¹‰æ’ä»¶ç»‘å®šåˆ°ç‰¹å®šé˜¶æ®µï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>maven-antrun-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.8<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">executions</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">execution</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>echo-message<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">phase</span>&gt;</span>compile<span class="hljs-tag">&lt;/<span class="hljs-name">phase</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">goals</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">goal</span>&gt;</span>run<span class="hljs-tag">&lt;/<span class="hljs-name">goal</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">goals</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">tasks</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">echo</span>&gt;</span>Hello from AntRun Plugin!<span class="hljs-tag">&lt;/<span class="hljs-name">echo</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">tasks</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">execution</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">executions</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span>
</code></pre>
<p>Maven çš„ç”Ÿå‘½å‘¨æœŸå’Œæ’ä»¶æœºåˆ¶æä¾›äº†å¼ºå¤§çš„æ„å»ºè‡ªåŠ¨åŒ–èƒ½åŠ›ï¼Œé€šè¿‡åˆç†çš„é…ç½®å¯ä»¥æ»¡è¶³å„ç§å¤æ‚çš„æ„å»ºéœ€æ±‚ã€‚</p>
<h2 data-id="heading-59">å…¶ä»–æ„å»ºæ¡†æ¶</h2>
<p>é™¤äº†Mavenä¹‹å¤–ï¼ŒJavaç”Ÿæ€ä¸­è¿˜æœ‰å¤šç§ä»“åº“ç®¡ç†å·¥å…·ï¼Œæ¯ç§å·¥å…·éƒ½æœ‰å…¶ç‹¬ç‰¹çš„ç‰¹ç‚¹å’Œé€‚ç”¨åœºæ™¯â€Œã€‚</p>
<ul>
<li>â€Œ<strong>Ant</strong>â€Œ æ˜¯æœ€æ—©çš„æ„å»ºå·¥å…·ï¼Œä¸“æ³¨äºé€šè¿‡XMLè„šæœ¬å®ç°é¡¹ç›®æ„å»ºè‡ªåŠ¨åŒ–ï¼Œä½†ç¼ºä¹å†…ç½®çš„ä¾èµ–ç®¡ç†åŠŸèƒ½â€Œ56</li>
<li>â€Œ<strong>Ivy</strong>â€Œ æ˜¯ä¾èµ–ç®¡ç†å·¥å…·ï¼Œé€šå¸¸ä¸Anté…åˆä½¿ç”¨ï¼Œä¸ºAnté¡¹ç›®æä¾›ä¾èµ–ç®¡ç†èƒ½åŠ›â€Œ12</li>
<li>â€Œ<strong>Maven</strong>â€Œ åœ¨AntåŸºç¡€ä¸Šå‘å±•è€Œæ¥ï¼Œé›†æˆäº†ä¾èµ–ç®¡ç†ã€é¡¹ç›®ç»“æ„çº¦å®šå’Œæ„å»ºç”Ÿå‘½å‘¨æœŸï¼Œé‡‡ç”¨"çº¦å®šä¼˜äºé…ç½®"åŸåˆ™â€Œ45</li>
<li>â€Œ<strong>Gradle</strong>â€Œ èåˆäº†Antçš„çµæ´»æ€§å’ŒMavençš„ä¾èµ–ç®¡ç†ï¼Œä½¿ç”¨Groovy/Kotlin DSLï¼Œæä¾›äº†æ›´å¼ºå¤§çš„æ„å»ºèƒ½åŠ›â€Œ34</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React 18 æ–°ç‰¹æ€§æ·±åº¦è§£æ]]></title>    <link>https://juejin.cn/post/7572087162231554090</link>    <guid>https://juejin.cn/post/7572087162231554090</guid>    <pubDate>2025-11-14T03:25:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572087162231554090" data-draft-id="7572138663120027690" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React 18 æ–°ç‰¹æ€§æ·±åº¦è§£æ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,React.js"/> <meta itemprop="datePublished" content="2025-11-14T03:25:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°å°å‰ç«¯_æˆ‘è‡ªåšå¼º"/> <meta itemprop="url" content="https://juejin.cn/user/2335811609826423"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React 18 æ–°ç‰¹æ€§æ·±åº¦è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2335811609826423/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°å°å‰ç«¯_æˆ‘è‡ªåšå¼º
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T03:25:27.000Z" title="Fri Nov 14 2025 03:25:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="ocean">.hljs-comment,.hljs-quote{color:#65737e}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#bf616a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#d08770}.hljs-attribute{color:#ebcb8b}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#a3be8c}.hljs-section,.hljs-title{color:#8fa1b3}.hljs-keyword,.hljs-selector-tag{color:#b48ead}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b303b;color:#c0c5ce}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">React 18 æ–°ç‰¹æ€§æ·±åº¦è§£æ</h2>
<h3 data-id="heading-1">å¼•è¨€</h3>
<p>React 18 æ˜¯ React å‘å±•å†ç¨‹ä¸­çš„ä¸€ä¸ªé‡è¦é‡Œç¨‹ç¢‘ï¼Œå®ƒå¼•å…¥äº†è®¸å¤šæ¿€åŠ¨äººå¿ƒçš„æ–°ç‰¹æ€§å’Œæ”¹è¿›ã€‚ä½œä¸ºå‰ç«¯å¼€å‘è€…ï¼Œç†è§£å’ŒæŒæ¡è¿™äº›æ–°ç‰¹æ€§å¯¹äºæ„å»ºé«˜æ€§èƒ½ã€ç°ä»£åŒ–çš„ React åº”ç”¨è‡³å…³é‡è¦ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨ React 18 çš„å„é¡¹æ–°ç‰¹æ€§ï¼Œé€šè¿‡å®é™…ä»£ç ç¤ºä¾‹å’Œè¯¦ç»†åˆ†æï¼Œå¸®åŠ©è¯»è€…å…¨é¢æŒæ¡è¿™ä¸€ç‰ˆæœ¬çš„æ ¸å¿ƒåŠŸèƒ½ã€‚</p>
<h3 data-id="heading-2">ç¬¬ä¸€ç« ï¼šReact 18 æ¦‚è¿°</h3>
<h4 data-id="heading-3">1.1 React 18 çš„å‘å¸ƒèƒŒæ™¯</h4>
<p>React 18 äº 2022 å¹´ 3 æœˆæ­£å¼å‘å¸ƒï¼Œè¿™æ˜¯ React è‡ª 2013 å¹´å¼€æºä»¥æ¥çš„åˆä¸€æ¬¡é‡å¤§æ›´æ–°ã€‚ä¸ä¹‹å‰çš„ç‰ˆæœ¬ç›¸æ¯”ï¼ŒReact 18 çš„ä¸»è¦ç›®æ ‡æ˜¯ï¼š</p>
<ol>
<li><strong>æå‡åº”ç”¨æ€§èƒ½</strong>ï¼šé€šè¿‡å¹¶å‘æ¸²æŸ“ç­‰æ–°ç‰¹æ€§ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ</li>
<li><strong>æ”¹å–„å¼€å‘ä½“éªŒ</strong>ï¼šæä¾›æ›´å¥½çš„è°ƒè¯•å·¥å…·å’Œå¼€å‘å·¥å…·é“¾æ”¯æŒ</li>
<li><strong>å¢å¼º API ä¸€è‡´æ€§</strong>ï¼šç»Ÿä¸€è‡ªåŠ¨æ‰¹å¤„ç†ç­‰è¡Œä¸º</li>
<li><strong>ä¸ºæœªæ¥ç‰¹æ€§å¥ å®šåŸºç¡€</strong>ï¼šä¸º React Server Components ç­‰æœªæ¥ç‰¹æ€§åšå‡†å¤‡</li>
</ol>
<h4 data-id="heading-4">1.2 React 18 çš„æ ¸å¿ƒç‰¹æ€§</h4>
<p>React 18 å¼•å…¥äº†ä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒç‰¹æ€§ï¼š</p>
<ol>
<li><strong>è‡ªåŠ¨æ‰¹å¤„ç†ï¼ˆAutomatic Batchingï¼‰</strong></li>
<li><strong>å¹¶å‘æ¸²æŸ“ï¼ˆConcurrent Renderingï¼‰</strong></li>
<li><strong>æ–°çš„æ ¹ APIï¼ˆNew Root APIï¼‰</strong></li>
<li><strong>Suspense çš„æ”¹è¿›</strong></li>
<li><strong>æ–°çš„ Hooksï¼šuseIdã€useSyncExternalStoreã€useInsertionEffect</strong></li>
</ol>
<h3 data-id="heading-5">ç¬¬äºŒç« ï¼šè‡ªåŠ¨æ‰¹å¤„ç†ï¼ˆAutomatic Batchingï¼‰</h3>
<h4 data-id="heading-6">2.1 ä»€ä¹ˆæ˜¯æ‰¹å¤„ç†</h4>
<p>æ‰¹å¤„ç†æ˜¯æŒ‡ React å°†å¤šä¸ªçŠ¶æ€æ›´æ–°åˆå¹¶åˆ°å•ä¸ªé‡æ–°æ¸²æŸ“ä¸­ï¼Œä»¥æé«˜æ€§èƒ½ã€‚åœ¨ React 18 ä¹‹å‰ï¼ŒReact åªèƒ½åœ¨ React äº‹ä»¶å¤„ç†ç¨‹åºä¸­è¿›è¡Œæ‰¹å¤„ç†ï¼Œè€Œåœ¨ Promiseã€setTimeoutã€åŸç”Ÿäº‹ä»¶å¤„ç†ç¨‹åºç­‰å¼‚æ­¥æ“ä½œä¸­ä¸ä¼šè‡ªåŠ¨æ‰¹å¤„ç†ã€‚</p>
<h4 data-id="heading-7">2.2 React 18 ä¹‹å‰çš„æ‰¹å¤„ç†è¡Œä¸º</h4>
<p>è®©æˆ‘ä»¬å…ˆçœ‹çœ‹ React 18 ä¹‹å‰çš„è¡Œä¸ºï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// React 17 åŠä¹‹å‰ç‰ˆæœ¬çš„è¡Œä¸º</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">const</span> [flag, setFlag] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleClick</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// React 17 ä¸­ï¼Œè¿™äº›æ›´æ–°ä¼šè¢«æ‰¹å¤„ç†</span>
    <span class="hljs-title function_">setCount</span>(<span class="hljs-function"><span class="hljs-params">c</span> =&gt;</span> c + <span class="hljs-number">1</span>);
    <span class="hljs-title function_">setFlag</span>(<span class="hljs-function"><span class="hljs-params">f</span> =&gt;</span> !f);
    <span class="hljs-comment">// React åªä¼šé‡æ–°æ¸²æŸ“ä¸€æ¬¡</span>
  }

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleAsyncClick</span>(<span class="hljs-params"/>) {
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-comment">// React 17 ä¸­ï¼Œè¿™äº›æ›´æ–°ä¸ä¼šè¢«æ‰¹å¤„ç†</span>
      <span class="hljs-title function_">setCount</span>(<span class="hljs-function"><span class="hljs-params">c</span> =&gt;</span> c + <span class="hljs-number">1</span>);
      <span class="hljs-title function_">setFlag</span>(<span class="hljs-function"><span class="hljs-params">f</span> =&gt;</span> !f);
      <span class="hljs-comment">// React ä¼šé‡æ–°æ¸²æŸ“ä¸¤æ¬¡</span>
    }, <span class="hljs-number">0</span>);
  }

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleClick}</span>&gt;</span>åŒæ­¥æ›´æ–°<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleAsyncClick}</span>&gt;</span>å¼‚æ­¥æ›´æ–°<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Count: {count}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Flag: {String(flag)}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h4 data-id="heading-8">2.3 React 18 çš„è‡ªåŠ¨æ‰¹å¤„ç†</h4>
<p>React 18 é€šè¿‡å¼•å…¥è‡ªåŠ¨æ‰¹å¤„ç†æœºåˆ¶ï¼Œè§£å†³äº†ä¸Šè¿°é—®é¢˜ã€‚ç°åœ¨ï¼Œæ— è®ºçŠ¶æ€æ›´æ–°å‘ç”Ÿåœ¨ä½•å¤„ï¼ŒReact éƒ½ä¼šè‡ªåŠ¨å°†å®ƒä»¬æ‰¹å¤„ç†åˆ°å•ä¸ªé‡æ–°æ¸²æŸ“ä¸­ã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// React 18 ä¸­çš„è‡ªåŠ¨æ‰¹å¤„ç†</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">const</span> [flag, setFlag] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleClick</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// è¿™äº›æ›´æ–°ä¼šè¢«æ‰¹å¤„ç†</span>
    <span class="hljs-title function_">setCount</span>(<span class="hljs-function"><span class="hljs-params">c</span> =&gt;</span> c + <span class="hljs-number">1</span>);
    <span class="hljs-title function_">setFlag</span>(<span class="hljs-function"><span class="hljs-params">f</span> =&gt;</span> !f);
    <span class="hljs-comment">// React åªä¼šé‡æ–°æ¸²æŸ“ä¸€æ¬¡</span>
  }

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleAsyncClick</span>(<span class="hljs-params"/>) {
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-comment">// ç°åœ¨è¿™äº›æ›´æ–°ä¹Ÿä¼šè¢«æ‰¹å¤„ç†</span>
      <span class="hljs-title function_">setCount</span>(<span class="hljs-function"><span class="hljs-params">c</span> =&gt;</span> c + <span class="hljs-number">1</span>);
      <span class="hljs-title function_">setFlag</span>(<span class="hljs-function"><span class="hljs-params">f</span> =&gt;</span> !f);
      <span class="hljs-comment">// React åªä¼šé‡æ–°æ¸²æŸ“ä¸€æ¬¡</span>
    }, <span class="hljs-number">0</span>);
  }

  <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleFetchClick</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/data'</span>);
      <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();
      
      <span class="hljs-comment">// è¿™äº›æ›´æ–°ä¹Ÿä¼šè¢«æ‰¹å¤„ç†</span>
      <span class="hljs-title function_">setCount</span>(data.<span class="hljs-property">count</span>);
      <span class="hljs-title function_">setFlag</span>(data.<span class="hljs-property">flag</span>);
      <span class="hljs-comment">// React åªä¼šé‡æ–°æ¸²æŸ“ä¸€æ¬¡</span>
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Fetch error:'</span>, error);
    }
  }

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleClick}</span>&gt;</span>åŒæ­¥æ›´æ–°<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleAsyncClick}</span>&gt;</span>å¼‚æ­¥æ›´æ–°<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleFetchClick}</span>&gt;</span>å¼‚æ­¥è·å–æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Count: {count}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Flag: {String(flag)}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h4 data-id="heading-9">2.4 æ‰‹åŠ¨æ§åˆ¶æ‰¹å¤„ç†</h4>
<p>è™½ç„¶è‡ªåŠ¨æ‰¹å¤„ç†æ˜¯é»˜è®¤è¡Œä¸ºï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½éœ€è¦æ‰‹åŠ¨æ§åˆ¶æ‰¹å¤„ç†ã€‚React 18 æä¾›äº† <code>flushSync</code> å‡½æ•°æ¥å¼ºåˆ¶ React åŒæ­¥åˆ·æ–°çŠ¶æ€æ›´æ–°ã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { flushSync } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-dom'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">const</span> [flag, setFlag] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleClick</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// ä½¿ç”¨ flushSync å¼ºåˆ¶åŒæ­¥åˆ·æ–°</span>
    <span class="hljs-title function_">flushSync</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">setCount</span>(<span class="hljs-function"><span class="hljs-params">c</span> =&gt;</span> c + <span class="hljs-number">1</span>);
    });
    <span class="hljs-comment">// æ­¤æ—¶ç»„ä»¶å·²ç»é‡æ–°æ¸²æŸ“</span>
    
    <span class="hljs-title function_">flushSync</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">setFlag</span>(<span class="hljs-function"><span class="hljs-params">f</span> =&gt;</span> !f);
    });
    <span class="hljs-comment">// ç»„ä»¶å†æ¬¡é‡æ–°æ¸²æŸ“</span>
    
    <span class="hljs-comment">// æ€»å…±é‡æ–°æ¸²æŸ“äº†ä¸¤æ¬¡</span>
  }

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleClick}</span>&gt;</span>å¼ºåˆ¶åŒæ­¥æ›´æ–°<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Count: {count}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Flag: {String(flag)}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h4 data-id="heading-10">2.5 è‡ªåŠ¨æ‰¹å¤„ç†çš„ä¼˜åŠ¿</h4>
<p>è‡ªåŠ¨æ‰¹å¤„ç†å¸¦æ¥äº†ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p>
<ol>
<li><strong>æ€§èƒ½æå‡</strong>ï¼šå‡å°‘äº†ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“æ¬¡æ•°</li>
<li><strong>ä¸€è‡´æ€§</strong>ï¼šæ— è®ºæ›´æ–°å‘ç”Ÿåœ¨ä½•å¤„ï¼Œè¡Œä¸ºéƒ½æ˜¯ä¸€è‡´çš„</li>
<li><strong>ç®€åŒ–å¼€å‘</strong>ï¼šå¼€å‘è€…æ— éœ€å…³å¿ƒæ›´æ–°å‘ç”Ÿçš„ä½ç½®</li>
</ol>
<h3 data-id="heading-11">ç¬¬ä¸‰ç« ï¼šå¹¶å‘æ¸²æŸ“ï¼ˆConcurrent Renderingï¼‰</h3>
<h4 data-id="heading-12">3.1 ä»€ä¹ˆæ˜¯å¹¶å‘æ¸²æŸ“</h4>
<p>å¹¶å‘æ¸²æŸ“æ˜¯ React 18 æœ€é‡è¦çš„æ–°ç‰¹æ€§ä¹‹ä¸€ã€‚å®ƒå…è®¸ React åœ¨å‡†å¤‡æ›´æ–°æ—¶åŒæ—¶åœ¨åå°æ¸²æŸ“å¤šä¸ªç‰ˆæœ¬ï¼Œä»è€Œå®ç°æ›´æµç•…çš„ç”¨æˆ·ä½“éªŒã€‚å¹¶å‘æ¸²æŸ“ä¸æ˜¯å¹¶è¡Œæ‰§è¡Œï¼Œè€Œæ˜¯ä¸­æ–­å’Œæ¢å¤çš„èƒ½åŠ›ã€‚</p>
<h4 data-id="heading-13">3.2 å¹¶å‘æ¸²æŸ“çš„æ ¸å¿ƒæ¦‚å¿µ</h4>
<h5 data-id="heading-14">3.2.1 å¯ä¸­æ–­æ¸²æŸ“</h5>
<p>åœ¨ React 18 ä¹‹å‰ï¼Œä¸€æ—¦æ¸²æŸ“å¼€å§‹ï¼Œå°±æ— æ³•ä¸­æ–­ã€‚å¦‚æœæ¸²æŸ“è¿‡ç¨‹å¾ˆè€—æ—¶ï¼Œä¼šå¯¼è‡´ç•Œé¢å¡é¡¿ã€‚å¹¶å‘æ¸²æŸ“å…è®¸ React åœ¨å¿…è¦æ—¶ä¸­æ–­æ¸²æŸ“ï¼Œå¤„ç†æ›´é«˜ä¼˜å…ˆçº§çš„æ›´æ–°ã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// æ¨¡æ‹Ÿè€—æ—¶ç»„ä»¶</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">ExpensiveComponent</span>(<span class="hljs-params">{ items }</span>) {
  <span class="hljs-keyword">const</span> startTime = performance.<span class="hljs-title function_">now</span>();
  
  <span class="hljs-comment">// æ¨¡æ‹Ÿè€—æ—¶è®¡ç®—</span>
  <span class="hljs-keyword">const</span> expensiveValue = items.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, item</span>) =&gt;</span> {
    <span class="hljs-comment">// å¤æ‚è®¡ç®—</span>
    <span class="hljs-keyword">let</span> result = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000000</span>; i++) {
      result += <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(item.<span class="hljs-property">value</span> * i);
    }
    <span class="hljs-keyword">return</span> acc + result;
  }, <span class="hljs-number">0</span>);
  
  <span class="hljs-keyword">const</span> duration = performance.<span class="hljs-title function_">now</span>() - startTime;
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>è®¡ç®—ç»“æœ: {expensiveValue.toFixed(2)}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>è®¡ç®—è€—æ—¶: {duration.toFixed(2)}ms<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h5 data-id="heading-15">3.2.2 ä¼˜å…ˆçº§è°ƒåº¦</h5>
<p>React 18 å¼•å…¥äº†ä¼˜å…ˆçº§è°ƒåº¦æœºåˆ¶ï¼Œå…è®¸ä¸åŒç±»å‹çš„æ›´æ–°æœ‰ä¸åŒçš„ä¼˜å…ˆçº§ã€‚ç”¨æˆ·äº¤äº’é€šå¸¸å…·æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§ï¼Œè€Œåå°æ•°æ®åŠ è½½ç­‰æ“ä½œä¼˜å…ˆçº§è¾ƒä½ã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useState, useTransition } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [isPending, startTransition] = <span class="hljs-title function_">useTransition</span>();
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">const</span> [items, setItems] = <span class="hljs-title function_">useState</span>([]);

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleUrgentUpdate</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// ç´§æ€¥æ›´æ–° - é«˜ä¼˜å…ˆçº§</span>
    <span class="hljs-title function_">setCount</span>(<span class="hljs-function"><span class="hljs-params">c</span> =&gt;</span> c + <span class="hljs-number">1</span>);
  }

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleDeferredUpdate</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// å»¶è¿Ÿæ›´æ–° - ä½ä¼˜å…ˆçº§</span>
    <span class="hljs-title function_">startTransition</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">const</span> newItems = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>({ <span class="hljs-attr">length</span>: <span class="hljs-number">10000</span> }, <span class="hljs-function">(<span class="hljs-params">_, i</span>) =&gt;</span> ({
        <span class="hljs-attr">id</span>: i,
        <span class="hljs-attr">value</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()
      }));
      <span class="hljs-title function_">setItems</span>(newItems);
    });
  }

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleUrgentUpdate}</span>&gt;</span>
        ç´§æ€¥æ›´æ–° (Count: {count})
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleDeferredUpdate}</span> <span class="hljs-attr">disabled</span>=<span class="hljs-string">{isPending}</span>&gt;</span>
        {isPending ? 'åŠ è½½ä¸­...' : 'å»¶è¿Ÿæ›´æ–°'}
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      
      {isPending &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>æ­£åœ¨åå°å¤„ç†...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>}
      
      <span class="hljs-tag">&lt;<span class="hljs-name">ExpensiveList</span> <span class="hljs-attr">items</span>=<span class="hljs-string">{items}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">ExpensiveList</span>(<span class="hljs-params">{ items }</span>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
      {items.map(item =&gt; (
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{item.id}</span>&gt;</span>{item.value.toFixed(4)}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
      ))}
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span>
  );
}
</code></pre>
<h4 data-id="heading-16">3.3 useTransition Hook</h4>
<p><code>useTransition</code> æ˜¯ React 18 æä¾›çš„ä¸€ä¸ªé‡è¦ Hookï¼Œç”¨äºæ ‡è®°æŸäº›çŠ¶æ€æ›´æ–°ä¸º"è¿‡æ¸¡"æ›´æ–°ï¼Œå³ä½ä¼˜å…ˆçº§æ›´æ–°ã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useState, useTransition } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">SearchResults</span>(<span class="hljs-params">{ query }</span>) {
  <span class="hljs-keyword">const</span> [isPending, startTransition] = <span class="hljs-title function_">useTransition</span>();
  <span class="hljs-keyword">const</span> [results, setResults] = <span class="hljs-title function_">useState</span>([]);

  <span class="hljs-comment">// æ¨¡æ‹Ÿæœç´¢åŠŸèƒ½</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">search</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">searchQuery</span>) =&gt; {
    <span class="hljs-comment">// æ¨¡æ‹Ÿ API è°ƒç”¨å»¶è¿Ÿ</span>
    <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">1000</span>));
    
    <span class="hljs-comment">// æ¨¡æ‹Ÿæœç´¢ç»“æœ</span>
    <span class="hljs-keyword">const</span> mockResults = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(
      { <span class="hljs-attr">length</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">50</span>) },
      <span class="hljs-function">(<span class="hljs-params">_, i</span>) =&gt;</span> <span class="hljs-string">`ç»“æœ <span class="hljs-subst">${i + <span class="hljs-number">1</span>}</span> for "<span class="hljs-subst">${searchQuery}</span>"`</span>
    );
    
    <span class="hljs-keyword">return</span> mockResults;
  };

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSearch</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">e</span>) =&gt; {
    <span class="hljs-keyword">const</span> searchQuery = e.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>;
    
    <span class="hljs-comment">// ä½¿ç”¨ transition æ ‡è®°ä¸ºä½ä¼˜å…ˆçº§æ›´æ–°</span>
    <span class="hljs-title function_">startTransition</span>(<span class="hljs-keyword">async</span> () =&gt; {
      <span class="hljs-keyword">const</span> searchResults = <span class="hljs-keyword">await</span> <span class="hljs-title function_">search</span>(searchQuery);
      <span class="hljs-title function_">setResults</span>(searchResults);
    });
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
        <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span>
        <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¾“å…¥æœç´¢å…³é”®è¯..."</span>
        <span class="hljs-attr">onChange</span>=<span class="hljs-string">{handleSearch}</span>
      /&gt;</span>
      
      {isPending &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>æœç´¢ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>}
      
      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
        {results.map((result, index) =&gt; (
          <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{index}</span>&gt;</span>{result}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        ))}
      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h4 data-id="heading-17">3.4 useDeferredValue Hook</h4>
<p><code>useDeferredValue</code> æ˜¯å¦ä¸€ä¸ªä¸å¹¶å‘æ¸²æŸ“ç›¸å…³çš„ Hookï¼Œå®ƒå…è®¸ä½ å»¶è¿Ÿæ¸²æŸ“ UI çš„æŸäº›éƒ¨åˆ†ã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useState, useDeferredValue } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [text, setText] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">''</span>);
  <span class="hljs-keyword">const</span> deferredText = <span class="hljs-title function_">useDeferredValue</span>(text);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
        <span class="hljs-attr">value</span>=<span class="hljs-string">{text}</span>
        <span class="hljs-attr">onChange</span>=<span class="hljs-string">{(e)</span> =&gt;</span> setText(e.target.value)}
        placeholder="è¾“å…¥æ–‡æœ¬..."
      /&gt;
      
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>å®æ—¶æ˜¾ç¤º:<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{text}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>å»¶è¿Ÿæ˜¾ç¤º:<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">SlowList</span> <span class="hljs-attr">text</span>=<span class="hljs-string">{deferredText}</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">SlowList</span>(<span class="hljs-params">{ text }</span>) {
  <span class="hljs-comment">// æ¨¡æ‹Ÿæ…¢é€Ÿæ¸²æŸ“</span>
  <span class="hljs-keyword">const</span> items = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>({ <span class="hljs-attr">length</span>: <span class="hljs-number">5000</span> }, <span class="hljs-function">(<span class="hljs-params">_, i</span>) =&gt;</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{i}</span>&gt;</span>{text || 'æ— å†…å®¹'}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  ));

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{items}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}
</code></pre>
<h4 data-id="heading-18">3.5 Suspense çš„æ”¹è¿›</h4>
<p>React 18 å¯¹ Suspense è¿›è¡Œäº†é‡å¤§æ”¹è¿›ï¼Œä½¿å…¶èƒ½å¤Ÿä¸å¹¶å‘æ¸²æŸ“æ›´å¥½åœ°é…åˆå·¥ä½œã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Suspense</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">ProfilePage</span>(<span class="hljs-params">{ userId }</span>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>ç”¨æˆ·èµ„æ–™<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">h2</span>&gt;</span>åŠ è½½ç”¨æˆ·ä¿¡æ¯...<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>}&gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">ProfileDetails</span> <span class="hljs-attr">userId</span>=<span class="hljs-string">{userId}</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span>
      
      <span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">h2</span>&gt;</span>åŠ è½½ç”¨æˆ·å¸–å­...<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>}&gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">ProfileTimeline</span> <span class="hljs-attr">userId</span>=<span class="hljs-string">{userId}</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}

<span class="hljs-comment">// æ¨¡æ‹Ÿå¼‚æ­¥ç»„ä»¶</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">ProfileDetails</span>(<span class="hljs-params">{ userId }</span>) {
  <span class="hljs-comment">// æ¨¡æ‹Ÿæ•°æ®è·å–</span>
  <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">window</span>.<span class="hljs-property">profileDetails</span>) {
    <span class="hljs-variable language_">window</span>.<span class="hljs-property">profileDetails</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> {
      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-title function_">resolve</span>({
          <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>,
          <span class="hljs-attr">email</span>: <span class="hljs-string">'zhangsan@example.com'</span>,
          <span class="hljs-attr">bio</span>: <span class="hljs-string">'å‰ç«¯å¼€å‘è€…'</span>
        });
      }, <span class="hljs-number">2000</span>);
    });
    <span class="hljs-keyword">throw</span> <span class="hljs-variable language_">window</span>.<span class="hljs-property">profileDetails</span>;
  }
  
  <span class="hljs-keyword">const</span> data = <span class="hljs-variable language_">window</span>.<span class="hljs-property">profileDetails</span>;
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>{data.name}<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{data.email}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{data.bio}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">ProfileTimeline</span>(<span class="hljs-params">{ userId }</span>) {
  <span class="hljs-comment">// æ¨¡æ‹Ÿæ•°æ®è·å–</span>
  <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">window</span>.<span class="hljs-property">profileTimeline</span>) {
    <span class="hljs-variable language_">window</span>.<span class="hljs-property">profileTimeline</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> {
      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-title function_">resolve</span>([
          { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'ç¬¬ä¸€æ¡å¸–å­'</span> },
          { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'ç¬¬äºŒæ¡å¸–å­'</span> },
          { <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'ç¬¬ä¸‰æ¡å¸–å­'</span> }
        ]);
      }, <span class="hljs-number">3000</span>);
    });
    <span class="hljs-keyword">throw</span> <span class="hljs-variable language_">window</span>.<span class="hljs-property">profileTimeline</span>;
  }
  
  <span class="hljs-keyword">const</span> posts = <span class="hljs-variable language_">window</span>.<span class="hljs-property">profileTimeline</span>;
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>ç”¨æˆ·å¸–å­<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
      {posts.map(post =&gt; (
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{post.id}</span>&gt;</span>{post.content}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      ))}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h3 data-id="heading-19">ç¬¬å››ç« ï¼šæ–°çš„æ ¹ API</h3>
<h4 data-id="heading-20">4.1 React 18 çš„æ–°æ ¹ API</h4>
<p>React 18 å¼•å…¥äº†æ–°çš„æ ¹ APIï¼Œå–ä»£äº†æ—§çš„ <code>ReactDOM.render</code> æ–¹æ³•ã€‚æ–°çš„ API æä¾›äº†æ›´å¥½çš„ç±»å‹å®‰å…¨æ€§å’Œæœªæ¥å…¼å®¹æ€§ã€‚</p>
<h5 data-id="heading-21">4.1.1 æ—§çš„ API</h5>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// React 17 åŠä¹‹å‰çš„å†™æ³•</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ReactDOM</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'react-dom'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App'</span>;

<span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span></span>, <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'root'</span>));
</code></pre>
<h5 data-id="heading-22">4.1.2 æ–°çš„ API</h5>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// React 18 çš„å†™æ³•</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ReactDOM</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'react-dom/client'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App'</span>;

<span class="hljs-keyword">const</span> root = <span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">createRoot</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'root'</span>));
root.<span class="hljs-title function_">render</span>(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span></span>);

<span class="hljs-comment">// å¦‚æœéœ€è¦å¸è½½</span>
<span class="hljs-comment">// root.unmount();</span>
</code></pre>
<h4 data-id="heading-23">4.2 æ–°æ ¹ API çš„ä¼˜åŠ¿</h4>
<p>æ–°çš„æ ¹ API æä¾›äº†ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p>
<ol>
<li><strong>æ›´å¥½çš„ç±»å‹æ”¯æŒ</strong>ï¼šTypeScript ç”¨æˆ·å¯ä»¥è·å¾—æ›´å¥½çš„ç±»å‹æ£€æŸ¥</li>
<li><strong>æœªæ¥å…¼å®¹æ€§</strong>ï¼šä¸ºæœªæ¥çš„ React ç‰¹æ€§åšå¥½å‡†å¤‡</li>
<li><strong>æ›´æ¸…æ™°çš„ API</strong>ï¼šåˆ†ç¦»äº†æ ¹åˆ›å»ºå’Œæ¸²æŸ“ä¸¤ä¸ªæ­¥éª¤</li>
</ol>
<h4 data-id="heading-24">4.3 æœåŠ¡ç«¯æ¸²æŸ“çš„æ”¹è¿›</h4>
<p>React 18 è¿˜æ”¹è¿›äº†æœåŠ¡ç«¯æ¸²æŸ“çš„ APIï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// React 18 æœåŠ¡ç«¯æ¸²æŸ“</span>
<span class="hljs-keyword">import</span> { renderToPipeableStream } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-dom/server'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">handler</span>(<span class="hljs-params">req, res</span>) {
  <span class="hljs-keyword">const</span> { pipe, abort } = <span class="hljs-title function_">renderToPipeableStream</span>(
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span></span>,
    {
      <span class="hljs-title function_">onShellReady</span>(<span class="hljs-params"/>) {
        res.<span class="hljs-property">statusCode</span> = <span class="hljs-number">200</span>;
        res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">'Content-type'</span>, <span class="hljs-string">'text/html'</span>);
        <span class="hljs-title function_">pipe</span>(res);
      },
      <span class="hljs-title function_">onShellError</span>(<span class="hljs-params">error</span>) {
        res.<span class="hljs-property">statusCode</span> = <span class="hljs-number">500</span>;
        res.<span class="hljs-title function_">send</span>(<span class="hljs-string">'&lt;!doctype html&gt;&lt;p&gt;Loading...&lt;/p&gt;&lt;script src="clientrender.js"&gt;&lt;/script&gt;'</span>);
      },
      <span class="hljs-title function_">onError</span>(<span class="hljs-params">error</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(error);
        res.<span class="hljs-property">statusCode</span> = <span class="hljs-number">500</span>;
      }
    }
  );
  
  <span class="hljs-built_in">setTimeout</span>(abort, <span class="hljs-number">10000</span>);
}
</code></pre>
<h3 data-id="heading-25">ç¬¬äº”ç« ï¼šæ–°çš„ Hooks</h3>
<h4 data-id="heading-26">5.1 useId Hook</h4>
<p><code>useId</code> æ˜¯ React 18 å¼•å…¥çš„ä¸€ä¸ªæ–° Hookï¼Œç”¨äºç”Ÿæˆç¨³å®šçš„å”¯ä¸€ IDï¼Œç‰¹åˆ«é€‚ç”¨äºæœåŠ¡ç«¯æ¸²æŸ“åœºæ™¯ã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useId } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">PasswordField</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> id = <span class="hljs-title function_">useId</span>();
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">htmlFor</span>=<span class="hljs-string">{id}</span>&gt;</span>å¯†ç :<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">{id}</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"password"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">PasswordField</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">PasswordField</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">PasswordField</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h4 data-id="heading-27">5.2 useSyncExternalStore Hook</h4>
<p><code>useSyncExternalStore</code> æ˜¯ä¸€ä¸ªç”¨äºè®¢é˜…å¤–éƒ¨æ•°æ®æºçš„ Hookï¼Œç¡®ä¿æœåŠ¡ç«¯æ¸²æŸ“å’Œå®¢æˆ·ç«¯æ¸²æŸ“çš„ä¸€è‡´æ€§ã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useSyncExternalStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-comment">// å¤–éƒ¨å­˜å‚¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> store = {
  <span class="hljs-attr">state</span>: { <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> },
  <span class="hljs-attr">listeners</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(),
  
  <span class="hljs-title function_">setState</span>(<span class="hljs-params">newState</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = { ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>, ...newState };
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">listener</span> =&gt;</span> <span class="hljs-title function_">listener</span>());
  },
  
  <span class="hljs-title function_">subscribe</span>(<span class="hljs-params">listener</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">add</span>(listener);
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">delete</span>(listener);
  },
  
  <span class="hljs-title function_">getSnapshot</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>;
  }
};

<span class="hljs-keyword">function</span> <span class="hljs-title function_">useStore</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">useSyncExternalStore</span>(
    store.<span class="hljs-property">subscribe</span>,
    store.<span class="hljs-property">getSnapshot</span>,
    store.<span class="hljs-property">getSnapshot</span> <span class="hljs-comment">// æœåŠ¡ç«¯æ¸²æŸ“æ—¶çš„ getSnapshot</span>
  );
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Counter</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { count } = <span class="hljs-title function_">useStore</span>();
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Count: {count}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> store.setState({ count: count + 1 })}&gt;
        å¢åŠ 
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h4 data-id="heading-28">5.3 useInsertionEffect Hook</h4>
<p><code>useInsertionEffect</code> æ˜¯ä¸€ä¸ªä¸“é—¨ç”¨äº CSS-in-JS åº“çš„ Hookï¼Œå®ƒåœ¨ DOM å˜æ›´ä¹‹å‰åŒæ­¥æ‰§è¡Œï¼Œç¡®ä¿æ ·å¼åœ¨å¸ƒå±€è®¡ç®—ä¹‹å‰è¢«æ³¨å…¥ã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useInsertionEffect, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-comment">// æ¨¡æ‹Ÿ CSS-in-JS åº“çš„ä½¿ç”¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useCSS</span>(<span class="hljs-params">style</span>) {
  <span class="hljs-title function_">useInsertionEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> styleElement = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'style'</span>);
    styleElement.<span class="hljs-property">textContent</span> = style;
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">head</span>.<span class="hljs-title function_">appendChild</span>(styleElement);
    
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">document</span>.<span class="hljs-property">head</span>.<span class="hljs-title function_">removeChild</span>(styleElement);
    };
  }, [style]);
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">StyledComponent</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
  
  <span class="hljs-title function_">useCSS</span>(<span class="hljs-string">`
    .styled-button {
      background: blue;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    
    .styled-button:hover {
      background: darkblue;
    }
  `</span>);
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Count: {count}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> 
        <span class="hljs-attr">className</span>=<span class="hljs-string">"styled-button"</span>
        <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(c =&gt; c + 1)}
      &gt;
        å¢åŠ 
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h3 data-id="heading-29">ç¬¬å…­ç« ï¼šæ€§èƒ½ä¼˜åŒ–å®è·µ</h3>
<h4 data-id="heading-30">6.1 ç»„ä»¶ä¼˜åŒ–ç­–ç•¥</h4>
<p>React 18 æä¾›äº†å¤šç§ä¼˜åŒ–ç»„ä»¶æ€§èƒ½çš„æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { memo, useMemo, useCallback } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-comment">// ä½¿ç”¨ memo ä¼˜åŒ–å‡½æ•°ç»„ä»¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">ExpensiveComponent</span> = <span class="hljs-title function_">memo</span>(<span class="hljs-keyword">function</span> <span class="hljs-title function_">ExpensiveComponent</span>(<span class="hljs-params">{ data }</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ExpensiveComponent æ¸²æŸ“'</span>);
  
  <span class="hljs-comment">// ä½¿ç”¨ useMemo ç¼“å­˜æ˜‚è´µçš„è®¡ç®—</span>
  <span class="hljs-keyword">const</span> processedData = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> data.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> ({
      ...item,
      <span class="hljs-attr">processed</span>: item.<span class="hljs-property">value</span> * <span class="hljs-number">2</span>
    }));
  }, [data]);
  
  <span class="hljs-comment">// ä½¿ç”¨ useCallback ç¼“å­˜å›è°ƒå‡½æ•°</span>
  <span class="hljs-keyword">const</span> handleClick = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">(<span class="hljs-params">id</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç‚¹å‡»é¡¹ç›®:'</span>, id);
  }, []);
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      {processedData.map(item =&gt; (
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{item.id}</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> handleClick(item.id)}&gt;
          {item.name}: {item.processed}
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      ))}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
});

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">const</span> data = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> [
    { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'é¡¹ç›®1'</span>, <span class="hljs-attr">value</span>: <span class="hljs-number">10</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'é¡¹ç›®2'</span>, <span class="hljs-attr">value</span>: <span class="hljs-number">20</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'é¡¹ç›®3'</span>, <span class="hljs-attr">value</span>: <span class="hljs-number">30</span> }
  ], []);
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(c =&gt; c + 1)}&gt;
        è®¡æ•°å™¨: {count}
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ExpensiveComponent</span> <span class="hljs-attr">data</span>=<span class="hljs-string">{data}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h4 data-id="heading-31">6.2 è™šæ‹Ÿæ»šåŠ¨ä¼˜åŒ–</h4>
<p>å¯¹äºå¤§é‡æ•°æ®çš„åˆ—è¡¨æ¸²æŸ“ï¼Œè™šæ‹Ÿæ»šåŠ¨æ˜¯æå‡æ€§èƒ½çš„æœ‰æ•ˆæ–¹æ³•ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useState, useEffect, useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">VirtualList</span>(<span class="hljs-params">{ items, itemHeight, windowHeight }</span>) {
  <span class="hljs-keyword">const</span> containerRef = <span class="hljs-title function_">useRef</span>();
  <span class="hljs-keyword">const</span> [scrollTop, setScrollTop] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
  
  <span class="hljs-comment">// è®¡ç®—å¯è§é¡¹ç›®èŒƒå›´</span>
  <span class="hljs-keyword">const</span> startIndex = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(scrollTop / itemHeight);
  <span class="hljs-keyword">const</span> endIndex = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(
    startIndex + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">ceil</span>(windowHeight / itemHeight) + <span class="hljs-number">1</span>,
    items.<span class="hljs-property">length</span>
  );
  
  <span class="hljs-comment">// å¯è§é¡¹ç›®</span>
  <span class="hljs-keyword">const</span> visibleItems = items.<span class="hljs-title function_">slice</span>(startIndex, endIndex);
  
  <span class="hljs-comment">// æ€»é«˜åº¦</span>
  <span class="hljs-keyword">const</span> totalHeight = items.<span class="hljs-property">length</span> * itemHeight;
  
  <span class="hljs-comment">// ä¸Šä¸‹ç©ºç™½é«˜åº¦</span>
  <span class="hljs-keyword">const</span> offsetY = startIndex * itemHeight;
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>
      <span class="hljs-attr">ref</span>=<span class="hljs-string">{containerRef}</span>
      <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
        <span class="hljs-attr">height:</span> <span class="hljs-attr">windowHeight</span>,
        <span class="hljs-attr">overflow:</span> '<span class="hljs-attr">auto</span>'
      }}
      <span class="hljs-attr">onScroll</span>=<span class="hljs-string">{(e)</span> =&gt;</span> setScrollTop(e.target.scrollTop)}
    &gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">height:</span> <span class="hljs-attr">totalHeight</span>, <span class="hljs-attr">position:</span> '<span class="hljs-attr">relative</span>' }}&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> 
          <span class="hljs-attr">transform:</span> `<span class="hljs-attr">translateY</span>(${<span class="hljs-attr">offsetY</span>}<span class="hljs-attr">px</span>)` 
        }}&gt;</span>
          {visibleItems.map((item, index) =&gt; (
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> 
              <span class="hljs-attr">key</span>=<span class="hljs-string">{startIndex</span> + <span class="hljs-attr">index</span>}
              <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">height:</span> <span class="hljs-attr">itemHeight</span> }}
            &gt;</span>
              {item}
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          ))}
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h4 data-id="heading-32">6.3 æ‡’åŠ è½½å’Œä»£ç åˆ†å‰²</h4>
<p>React 18 ç»§ç»­æ”¯æŒæ‡’åŠ è½½å’Œä»£ç åˆ†å‰²ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { lazy, <span class="hljs-title class_">Suspense</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-comment">// æ‡’åŠ è½½ç»„ä»¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">LazyComponent</span> = <span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./LazyComponent'</span>));

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [showLazy, setShowLazy] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setShowLazy(true)}&gt;
        åŠ è½½æ‡’ç»„ä»¶
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      
      <span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">div</span>&gt;</span>åŠ è½½ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>}&gt;
        {showLazy &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">LazyComponent</span> /&gt;</span>}
      <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h3 data-id="heading-33">ç¬¬ä¸ƒç« ï¼šæœ€ä½³å®è·µå’Œæ³¨æ„äº‹é¡¹</h3>
<h4 data-id="heading-34">7.1 è¿ç§»åˆ° React 18</h4>
<p>ä» React 17 è¿ç§»åˆ° React 18 éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// 1. æ›´æ–°æ ¹ API</span>
<span class="hljs-comment">// æ—§å†™æ³•</span>
<span class="hljs-comment">// import ReactDOM from 'react-dom';</span>
<span class="hljs-comment">// ReactDOM.render(&lt;App /&gt;, document.getElementById('root'));</span>

<span class="hljs-comment">// æ–°å†™æ³•</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ReactDOM</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'react-dom/client'</span>;
<span class="hljs-keyword">const</span> root = <span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">createRoot</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'root'</span>));
root.<span class="hljs-title function_">render</span>(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span></span>);

<span class="hljs-comment">// 2. å¤„ç†è‡ªåŠ¨æ‰¹å¤„ç†çš„å˜åŒ–</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Component</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">const</span> [flag, setFlag] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
  
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// åœ¨ React 18 ä¸­ï¼Œè¿™äº›æ›´æ–°ä¼šè¢«è‡ªåŠ¨æ‰¹å¤„ç†</span>
    <span class="hljs-title function_">setCount</span>(<span class="hljs-function"><span class="hljs-params">c</span> =&gt;</span> c + <span class="hljs-number">1</span>);
    <span class="hljs-title function_">setFlag</span>(<span class="hljs-function"><span class="hljs-params">f</span> =&gt;</span> !f);
  }, []);
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Count: {count}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Flag: {String(flag)}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h4 data-id="heading-35">7.2 å¹¶å‘æ¸²æŸ“çš„æœ€ä½³å®è·µ</h4>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useState, useTransition, <span class="hljs-title class_">Suspense</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">SearchApp</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [query, setQuery] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">''</span>);
  <span class="hljs-keyword">const</span> [isPending, startTransition] = <span class="hljs-title function_">useTransition</span>();
  
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSearch</span> = (<span class="hljs-params">newQuery</span>) =&gt; {
    <span class="hljs-title function_">setQuery</span>(newQuery);
    
    <span class="hljs-comment">// ä½¿ç”¨ transition å¤„ç†æœç´¢æ›´æ–°</span>
    <span class="hljs-title function_">startTransition</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-comment">// è¿™é‡Œå¯ä»¥è§¦å‘æ•°æ®è·å–ç­‰æ“ä½œ</span>
      <span class="hljs-title function_">fetchData</span>(newQuery);
    });
  };
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">SearchInput</span> 
        <span class="hljs-attr">query</span>=<span class="hljs-string">{query}</span> 
        <span class="hljs-attr">onSearch</span>=<span class="hljs-string">{handleSearch}</span>
        <span class="hljs-attr">isSearching</span>=<span class="hljs-string">{isPending}</span>
      /&gt;</span>
      
      <span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">div</span>&gt;</span>åŠ è½½æœç´¢ç»“æœ...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>}&gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">SearchResults</span> <span class="hljs-attr">query</span>=<span class="hljs-string">{query}</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">SearchInput</span>(<span class="hljs-params">{ query, onSearch, isSearching }</span>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span>
      <span class="hljs-attr">value</span>=<span class="hljs-string">{query}</span>
      <span class="hljs-attr">onChange</span>=<span class="hljs-string">{(e)</span> =&gt;</span> onSearch(e.target.value)}
      placeholder="æœç´¢..."
      disabled={isSearching}
    /&gt;</span>
  );
}
</code></pre>
<h4 data-id="heading-36">7.3 é”™è¯¯å¤„ç†å’Œè¾¹ç•Œæƒ…å†µ</h4>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ErrorBoundary</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-error-boundary'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ErrorBoundary</span>
      <span class="hljs-attr">fallbackRender</span>=<span class="hljs-string">{({</span> <span class="hljs-attr">error</span>, <span class="hljs-attr">resetErrorBoundary</span> }) =&gt;</span> (
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å‡ºç°é”™è¯¯<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{error.message}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{resetErrorBoundary}</span>&gt;</span>é‡è¯•<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      )}
    &gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">div</span>&gt;</span>åŠ è½½ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>}&gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">MyComponent</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ErrorBoundary</span>&gt;</span></span>
  );
}
</code></pre>
<h3 data-id="heading-37">ç¬¬å…«ç« ï¼šæœªæ¥å±•æœ›</h3>
<h4 data-id="heading-38">8.1 React Server Components</h4>
<p>React Server Components æ˜¯ React å›¢é˜Ÿæ­£åœ¨å¼€å‘çš„é‡è¦ç‰¹æ€§ï¼Œå®ƒå°†è¿›ä¸€æ­¥æ”¹å˜æˆ‘ä»¬æ„å»ºåº”ç”¨çš„æ–¹å¼ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// æœåŠ¡ç«¯ç»„ä»¶ç¤ºä¾‹ï¼ˆæ¦‚å¿µä»£ç ï¼‰</span>
<span class="hljs-keyword">import</span> db <span class="hljs-keyword">from</span> <span class="hljs-string">'db.server'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">NoteEditor</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'NoteEditor.client'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Note</span>(<span class="hljs-params">props</span>) {
  <span class="hljs-comment">// åœ¨æœåŠ¡ç«¯æ‰§è¡Œ</span>
  <span class="hljs-keyword">const</span> note = db.<span class="hljs-property">notes</span>.<span class="hljs-title function_">get</span>(props.<span class="hljs-property">id</span>);
  
  <span class="hljs-comment">// å¯ä»¥ç›´æ¥è®¿é—®æ•°æ®åº“</span>
  <span class="hljs-keyword">const</span> comments = db.<span class="hljs-property">comments</span>.<span class="hljs-title function_">forNote</span>(props.<span class="hljs-property">id</span>);
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{note.title}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{note.content}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      
      {/* å®¢æˆ·ç«¯ç»„ä»¶ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">NoteEditor</span> <span class="hljs-attr">noteId</span>=<span class="hljs-string">{note.id}</span> /&gt;</span>
      
      {/* æœåŠ¡ç«¯æ¸²æŸ“çš„è¯„è®ºåˆ—è¡¨ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">CommentsList</span> <span class="hljs-attr">comments</span>=<span class="hljs-string">{comments}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h4 data-id="heading-39">8.2 React Forget</h4>
<p>React Forget æ˜¯ React å›¢é˜Ÿæ­£åœ¨å¼€å‘çš„è‡ªåŠ¨è®°å¿†åŒ–ç¼–è¯‘å™¨ï¼Œå®ƒå°†è‡ªåŠ¨ä¼˜åŒ–ç»„ä»¶çš„æ€§èƒ½ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// å¼€å‘è€…ç¼–å†™çš„ä»£ç </span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Button</span>(<span class="hljs-params">{ theme, onClick, text }</span>) {
  <span class="hljs-keyword">const</span> className = <span class="hljs-string">`button button-<span class="hljs-subst">${theme}</span>`</span>;
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{className}</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{onClick}</span>&gt;</span>
      {text}
    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
  );
}

<span class="hljs-comment">// React Forget è‡ªåŠ¨ä¼˜åŒ–åçš„ä»£ç </span>
<span class="hljs-keyword">const</span> $ = <span class="hljs-title function_">_c</span>(<span class="hljs-number">3</span>);

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Button</span>(<span class="hljs-params">{ theme, onClick, text }</span>) {
  <span class="hljs-keyword">const</span> className = $.<span class="hljs-title function_">memo</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-string">`button button-<span class="hljs-subst">${theme}</span>`</span>, [theme]);
  <span class="hljs-keyword">return</span> $.<span class="hljs-title function_">jsx</span>(<span class="hljs-string">'button'</span>, {
    className,
    onClick,
    <span class="hljs-attr">children</span>: text
  });
}
</code></pre>
<h3 data-id="heading-40">ç»“è¯­</h3>
<p>React 18 å¸¦æ¥äº†è®¸å¤šä»¤äººå…´å¥‹çš„æ–°ç‰¹æ€§å’Œæ”¹è¿›ï¼Œä»è‡ªåŠ¨æ‰¹å¤„ç†åˆ°å¹¶å‘æ¸²æŸ“ï¼Œå†åˆ°æ–°çš„ Hooks å’Œ APIã€‚è¿™äº›å˜åŒ–ä¸ä»…æå‡äº†åº”ç”¨çš„æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒï¼Œä¹Ÿä¸ºæœªæ¥çš„ React å‘å±•å¥ å®šäº†åšå®çš„åŸºç¡€ã€‚</p>
<p>ä½œä¸ºå‰ç«¯å¼€å‘è€…ï¼Œæˆ‘ä»¬éœ€è¦ï¼š</p>
<ol>
<li><strong>æ·±å…¥ç†è§£æ–°ç‰¹æ€§</strong>ï¼šæŒæ¡è‡ªåŠ¨æ‰¹å¤„ç†ã€å¹¶å‘æ¸²æŸ“ç­‰æ ¸å¿ƒæ¦‚å¿µ</li>
<li><strong>å®è·µåº”ç”¨</strong>ï¼šåœ¨å®é™…é¡¹ç›®ä¸­è¿ç”¨è¿™äº›æ–°ç‰¹æ€§</li>
<li><strong>æŒç»­å­¦ä¹ </strong>ï¼šå…³æ³¨ React çš„å‘å±•åŠ¨æ€å’Œæœ€ä½³å®è·µ</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šåˆ©ç”¨æ–°ç‰¹æ€§ä¼˜åŒ–åº”ç”¨æ€§èƒ½</li>
</ol>
<p>React 18 æ˜¯ä¸€ä¸ªé‡è¦çš„é‡Œç¨‹ç¢‘ï¼Œå®ƒæ ‡å¿—ç€ React æ­£åœ¨æœç€æ›´åŠ ç°ä»£åŒ–ã€é«˜æ€§èƒ½çš„æ–¹å‘å‘å±•ã€‚é€šè¿‡åˆç†è¿ç”¨è¿™äº›æ–°ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥æ„å»ºå‡ºæ›´åŠ ä¼˜ç§€çš„ç”¨æˆ·ç•Œé¢å’Œåº”ç”¨ä½“éªŒã€‚</p>
<p>æœªæ¥ï¼Œéšç€ React Server Componentsã€React Forget ç­‰ç‰¹æ€§çš„é€æ­¥æˆç†Ÿï¼ŒReact ç”Ÿæ€å°†ä¼šå˜å¾—æ›´åŠ å®Œå–„å’Œå¼ºå¤§ã€‚ä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘ä»¬éœ€è¦ä¿æŒå­¦ä¹ çš„çƒ­æƒ…ï¼Œç´§è·ŸæŠ€æœ¯å‘å±•çš„æ­¥ä¼ï¼Œä¸ºç”¨æˆ·æä¾›æ›´å¥½çš„äº§å“å’ŒæœåŠ¡ã€‚</p>
<p>å¸Œæœ›æœ¬æ–‡èƒ½å¤Ÿå¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£å’ŒæŒæ¡ React 18 çš„æ–°ç‰¹æ€§ï¼Œå¹¶åœ¨å®é™…å¼€å‘ä¸­å‘æŒ¥å®ƒä»¬çš„ä»·å€¼ã€‚è®°ä½ï¼ŒæŠ€æœ¯çš„å­¦ä¹ æ˜¯ä¸€ä¸ªæŒç»­çš„è¿‡ç¨‹ï¼Œåªæœ‰ä¸æ–­å®è·µå’Œæ¢ç´¢ï¼Œæˆ‘ä»¬æ‰èƒ½çœŸæ­£æŒæ¡è¿™äº›å¼ºå¤§çš„å·¥å…·ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>