<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[JDK 8åŠä»¥ä¸Šç‰ˆæœ¬ä¸»æµåƒåœ¾å›æ”¶å™¨åŠé¡¹ç›®å®æˆ˜æŒ‡å—]]></title>    <link>https://juejin.cn/post/7600068631359225862</link>    <guid>https://juejin.cn/post/7600068631359225862</guid>    <pubDate>2026-01-28T06:27:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600068631359225862" data-draft-id="7599933828544577599" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JDK 8åŠä»¥ä¸Šç‰ˆæœ¬ä¸»æµåƒåœ¾å›æ”¶å™¨åŠé¡¹ç›®å®æˆ˜æŒ‡å—"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-28T06:27:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ITæ©˜å­çš®"/> <meta itemprop="url" content="https://juejin.cn/user/3148645291002232"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JDK 8åŠä»¥ä¸Šç‰ˆæœ¬ä¸»æµåƒåœ¾å›æ”¶å™¨åŠé¡¹ç›®å®æˆ˜æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3148645291002232/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ITæ©˜å­çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T06:27:36.000Z" title="Wed Jan 28 2026 06:27:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h4 data-id="heading-0"><strong>ä¸€ã€JDKåƒåœ¾å›æ”¶å™¨æ¦‚è¿°</strong>â€‹</h4>
<p>JDKçš„åƒåœ¾å›æ”¶å™¨ï¼ˆGCï¼‰è´Ÿè´£è‡ªåŠ¨å›æ”¶å †å†…å­˜ä¸­ä¸å†ä½¿ç”¨çš„å¯¹è±¡ï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚ä¸åŒGCé€‚ç”¨äºä¸åŒåœºæ™¯ï¼Œæ ¸å¿ƒå·®å¼‚åœ¨äº<strong>ååé‡</strong>ï¼ˆå•ä½æ—¶é—´å¤„ç†è¯·æ±‚æ•°ï¼‰ã€<strong>å»¶è¿Ÿ</strong>ï¼ˆåœé¡¿æ—¶é—´ï¼‰å’Œ<strong>å†…å­˜å ç”¨</strong>ã€‚ä»¥ä¸‹æ˜¯JDK 8åŠä»¥ä¸Šç‰ˆæœ¬çš„ä¸»æµGCï¼š</p>
<h5 data-id="heading-1"><strong>1. ä¸²è¡Œåƒåœ¾å›æ”¶å™¨ï¼ˆSerial GCï¼‰</strong> â€‹</h5>
<ul>
<li><strong>å·¥ä½œåŸç†</strong>ï¼šå•çº¿ç¨‹æ‰§è¡Œåƒåœ¾å›æ”¶ï¼Œå›æ”¶æ—¶æš‚åœæ‰€æœ‰åº”ç”¨çº¿ç¨‹ï¼ˆSTWï¼ŒStop The Worldï¼‰ã€‚</li>
<li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå®¢æˆ·ç«¯åº”ç”¨ï¼ˆå¦‚æ¡Œé¢ç¨‹åºï¼‰ã€å†…å­˜è¾ƒå°ï¼ˆâ‰¤100MBï¼‰çš„åµŒå…¥å¼ç³»ç»Ÿã€‚</li>
<li><strong>å¯ç”¨å‚æ•°</strong>ï¼š<code>-XX:+UseSerialGC</code>ã€‚</li>
</ul>
<h5 data-id="heading-2"><strong>2. å¹¶è¡Œåƒåœ¾å›æ”¶å™¨ï¼ˆParallel GCï¼‰</strong> â€‹</h5>
<ul>
<li>
<p><strong>å·¥ä½œåŸç†</strong>ï¼šå¤šçº¿ç¨‹å¹¶è¡Œå›æ”¶ï¼Œ<strong>å…³æ³¨ååé‡</strong>ï¼ˆCPUç”¨äºç”¨æˆ·ä»£ç çš„æ—¶é—´å æ¯”ï¼‰ã€‚æ–°ç”Ÿä»£ç”¨<strong>å¤åˆ¶ç®—æ³•</strong>ï¼Œè€å¹´ä»£ç”¨<strong>æ ‡è®°-æ•´ç†ç®—æ³•</strong>ã€‚</p>
</li>
<li>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šæœåŠ¡å™¨ç«¯é«˜ååé‡åº”ç”¨ï¼ˆå¦‚æ‰¹é‡æ•°æ®å¤„ç†ã€ç§‘å­¦è®¡ç®—ï¼‰ï¼Œèƒ½æ¥å—ä¸€å®šåœé¡¿æ—¶é—´ã€‚</p>
</li>
<li>
<p><strong>å…³é”®å‚æ•°</strong>ï¼š</p>
<ul>
<li><code>-XX:+UseParallelGC</code>ï¼šå¯ç”¨æ–°ç”Ÿä»£Parallel GCï¼›</li>
<li><code>-XX:+UseParallelOldGC</code>ï¼šå¯ç”¨è€å¹´ä»£Parallel Old GCï¼›</li>
<li><code>-XX:MaxGCPauseMillis</code>ï¼šè®¾ç½®æœ€å¤§åœé¡¿æ—¶é—´ç›®æ ‡ï¼ˆæ¯«ç§’ï¼‰ï¼›</li>
<li><code>-XX:GCTimeRatio</code>ï¼šè®¾ç½®åƒåœ¾å›æ”¶æ—¶é—´å æ¯”ï¼ˆé»˜è®¤99ï¼Œå³â‰¤1%ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h5 data-id="heading-3"><strong>3. å¹¶å‘æ ‡è®°æ¸…é™¤åƒåœ¾å›æ”¶å™¨ï¼ˆCMS GCï¼‰</strong> â€‹</h5>
<ul>
<li>
<p><strong>å·¥ä½œåŸç†</strong>ï¼š<strong>ä»¥æœ€çŸ­åœé¡¿æ—¶é—´ä¸ºç›®æ ‡</strong>ï¼Œåˆ†å››é˜¶æ®µï¼šåˆå§‹æ ‡è®°ï¼ˆSTWï¼‰â†’ å¹¶å‘æ ‡è®°â†’ é‡æ–°æ ‡è®°ï¼ˆSTWï¼‰â†’ å¹¶å‘æ¸…é™¤ã€‚å…è®¸GCçº¿ç¨‹ä¸åº”ç”¨çº¿ç¨‹å¹¶å‘æ‰§è¡Œã€‚</p>
</li>
<li>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå¯¹å“åº”æ—¶é—´æ•æ„Ÿçš„WebæœåŠ¡å™¨ã€äº¤äº’å¼åº”ç”¨ï¼ˆå¦‚ç”µå•†å‰ç«¯ï¼‰ã€‚</p>
</li>
<li>
<p><strong>ç¼ºç‚¹</strong>ï¼šäº§ç”Ÿå†…å­˜ç¢ç‰‡ï¼Œå¯èƒ½å¯¼è‡´é¢‘ç¹Full GCã€‚</p>
</li>
<li>
<p><strong>å…³é”®å‚æ•°</strong>ï¼š</p>
<ul>
<li><code>-XX:+UseConcMarkSweepGC</code>ï¼šå¯ç”¨CMS GCï¼›</li>
<li><code>-XX:CMSInitialOccupancyFraction</code>ï¼šè€å¹´ä»£å ç”¨ç‡è¾¾è¯¥ç™¾åˆ†æ¯”æ—¶è§¦å‘CMSï¼ˆé»˜è®¤68%ï¼‰ï¼›</li>
<li><code>-XX:+UseCMSCompactAtFullCollection</code>ï¼šFull GCåè¿›è¡Œå†…å­˜å‹ç¼©ï¼ˆå‡å°‘ç¢ç‰‡ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h5 data-id="heading-4"><strong>4. G1åƒåœ¾å›æ”¶å™¨ï¼ˆG1 GCï¼‰</strong> â€‹</h5>
<ul>
<li>
<p><strong>å·¥ä½œåŸç†</strong>ï¼šå°†å †åˆ’åˆ†ä¸ºå¤šä¸ª<strong>Region</strong>ï¼ˆå¤§å°1-32MBï¼‰ï¼Œä¼˜å…ˆå›æ”¶â€œåƒåœ¾æœ€å¤šâ€çš„Regionï¼ˆGarbage Firstï¼‰ï¼Œ<strong>å…¼é¡¾ååé‡ä¸å»¶è¿Ÿ</strong>ã€‚æ–°ç”Ÿä»£ç”¨å¤åˆ¶ç®—æ³•ï¼Œè€å¹´ä»£ç”¨æ ‡è®°-æ•´ç†ç®—æ³•ã€‚</p>
</li>
<li>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå¤§å†…å­˜ï¼ˆâ‰¥6GBï¼‰ã€ä½å»¶è¿Ÿåº”ç”¨ï¼ˆå¦‚å¾®æœåŠ¡ã€å¤§å‹ç”µå•†ç³»ç»Ÿï¼‰ï¼Œæ˜¯JDK 9åŠä»¥ä¸Šçš„<strong>é»˜è®¤GC</strong>ã€‚</p>
</li>
<li>
<p><strong>å…³é”®å‚æ•°</strong>ï¼š</p>
<ul>
<li><code>-XX:+UseG1GC</code>ï¼šå¯ç”¨G1 GCï¼›</li>
<li><code>-XX:MaxGCPauseMillis</code>ï¼šè®¾ç½®æœ€å¤§åœé¡¿æ—¶é—´ç›®æ ‡ï¼ˆé»˜è®¤200msï¼‰ï¼›</li>
<li><code>-XX:G1HeapRegionSize</code>ï¼šè®¾ç½®Regionå¤§å°ï¼ˆ2çš„å¹‚æ¬¡æ–¹ï¼Œå¦‚4Mï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h5 data-id="heading-5"><strong>5. ZGCåƒåœ¾å›æ”¶å™¨</strong>â€‹</h5>
<ul>
<li><strong>å·¥ä½œåŸç†</strong>ï¼š<strong>è¶…ä½å»¶è¿Ÿ</strong>ï¼ˆåœé¡¿æ—¶é—´â‰¤10msï¼‰ï¼Œé‡‡ç”¨<strong>ç€è‰²æŒ‡é’ˆ</strong>ï¼ˆColored Pointersï¼‰å’Œ<strong>è¯»å±éšœ</strong>ï¼ˆLoad Barrierï¼‰æŠ€æœ¯ï¼Œå®ç°å‡ ä¹å¹¶å‘çš„åƒåœ¾å›æ”¶ã€‚</li>
<li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå¯¹å»¶è¿Ÿæå…¶æ•æ„Ÿçš„åº”ç”¨ï¼ˆå¦‚é‡‘èäº¤æ˜“ç³»ç»Ÿã€å®æ—¶æ•°æ®åˆ†æï¼‰ï¼Œæ”¯æŒTBçº§å †å†…å­˜ã€‚</li>
<li><strong>å¯ç”¨å‚æ•°</strong>ï¼š<code>-XX:+UseZGC</code>ï¼ˆJDK 11+æ”¯æŒï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-6"><strong>6. Shenandoah GC</strong>â€‹</h5>
<ul>
<li><strong>å·¥ä½œåŸç†</strong>ï¼šä¸ZGCç±»ä¼¼ï¼Œ<strong>åœé¡¿æ—¶é—´ä¸å †å¤§å°æ— å…³</strong>ï¼Œé€šè¿‡å¹¶å‘å¤åˆ¶ç®—æ³•å‡å°‘åœé¡¿ã€‚</li>
<li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šçº¢å¸½ç³»JDKç¯å¢ƒã€è¶…ä½å»¶è¿Ÿéœ€æ±‚ï¼ˆå¦‚å®æ—¶æµå¤„ç†ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-7"><strong>äºŒã€é¡¹ç›®å®æˆ˜ä¸­å¦‚ä½•é€‰æ‹©ä¸é…ç½®GCï¼Ÿ</strong> â€‹</h4>
<p>GCçš„é€‰æ‹©éœ€ç»“åˆ<strong>åº”ç”¨åœºæ™¯</strong>ã€<strong>ç¡¬ä»¶èµ„æº</strong>å’Œ<strong>æ€§èƒ½éœ€æ±‚</strong>ï¼Œä»¥ä¸‹æ˜¯å…·ä½“ç­–ç•¥ï¼š</p>
<h5 data-id="heading-8"><strong>1. æ ¹æ®åº”ç”¨åœºæ™¯é€‰æ‹©</strong>â€‹</h5>
<ul>
<li><strong>å®¢æˆ·ç«¯/åµŒå…¥å¼åº”ç”¨</strong>ï¼šé€‰<strong>Serial GC</strong>ï¼ˆå•çº¿ç¨‹å¼€é”€å°ï¼Œé€‚åˆå°å†…å­˜ï¼‰ã€‚</li>
<li><strong>é«˜ååé‡æœåŠ¡å™¨ç«¯</strong>ï¼šé€‰<strong>Parallel GC</strong>ï¼ˆå¦‚æ‰¹é‡ä»»åŠ¡ã€ç§‘å­¦è®¡ç®—ï¼‰ã€‚</li>
<li><strong>ä½å»¶è¿ŸWebåº”ç”¨</strong>ï¼šé€‰<strong>G1 GC</strong>ï¼ˆé»˜è®¤ï¼Œå…¼é¡¾ååé‡ä¸å»¶è¿Ÿï¼‰æˆ–<strong>CMS GC</strong>ï¼ˆé€‚åˆæ—§ç³»ç»Ÿï¼‰ã€‚</li>
<li><strong>è¶…å¤§å †/å®æ—¶åº”ç”¨</strong>ï¼šé€‰<strong>ZGC</strong>ï¼ˆå¦‚é‡‘èäº¤æ˜“ã€å®æ—¶æ•°æ®åˆ†æï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-9"><strong>2. æ ¹æ®ç¡¬ä»¶èµ„æºé€‰æ‹©</strong>â€‹</h5>
<ul>
<li><strong>å°å†…å­˜ï¼ˆâ‰¤1GBï¼‰</strong> ï¼šé€‰<strong>Serial GC</strong>ï¼ˆå•çº¿ç¨‹æ›´é«˜æ•ˆï¼‰ã€‚</li>
<li><strong>å¤§å†…å­˜ï¼ˆâ‰¥6GBï¼‰</strong> ï¼šé€‰<strong>G1 GC</strong>æˆ–<strong>ZGC</strong>ï¼ˆå¹¶è¡Œ/å¹¶å‘å›æ”¶æ›´èƒ½å‘æŒ¥å¤šæ ¸ä¼˜åŠ¿ï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-10"><strong>3. å…³é”®é…ç½®å‚æ•°</strong>â€‹</h5>
<ul>
<li>
<p><strong>å †å†…å­˜è®¾ç½®</strong>ï¼š</p>
<ul>
<li><code>-Xms</code>ï¼šåˆå§‹å †å¤§å°ï¼ˆå»ºè®®ä¸<code>-Xmx</code>ç›¸åŒï¼Œé¿å…é¢‘ç¹æ‰©å®¹ï¼‰ï¼›</li>
<li><code>-Xmx</code>ï¼šæœ€å¤§å †å¤§å°ï¼ˆæ ¹æ®åº”ç”¨å†…å­˜éœ€æ±‚è®¾ç½®ï¼Œå¦‚<code>-Xmx4g</code>ï¼‰ï¼›</li>
<li><code>-Xmn</code>ï¼šå¹´è½»ä»£å¤§å°ï¼ˆå»ºè®®ä¸ºå †çš„1/3-1/2ï¼Œå¦‚<code>-Xmn2g</code>ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>GCæ—¥å¿—</strong>ï¼šå¯ç”¨GCæ—¥å¿—ç›‘æ§æ€§èƒ½ï¼Œå¦‚<code>-Xlog:gc*</code>ï¼ˆJDK 9+ï¼‰æˆ–<code>-XX:+PrintGCDetails</code>ï¼ˆæ—§ç‰ˆæœ¬ï¼‰ã€‚</p>
</li>
</ul>
<h5 data-id="heading-11"><strong>4. å®æˆ˜æ¡ˆä¾‹</strong>â€‹</h5>
<ul>
<li>
<p><strong>æ¡ˆä¾‹1ï¼šç”µå•†Webåº”ç”¨ï¼ˆå¤§å†…å­˜ã€ä½å»¶è¿Ÿï¼‰</strong> â€‹</p>
<ul>
<li>é…ç½®ï¼š<code>-Xms8g -Xmx8g -XX:+UseG1GC -XX:MaxGCPauseMillis=100 -Xlog:gc*</code></li>
<li>è¯´æ˜ï¼šè®¾ç½®8GBå †å†…å­˜ï¼Œå¯ç”¨G1 GCï¼Œç›®æ ‡åœé¡¿æ—¶é—´100msï¼Œè¾“å‡ºGCæ—¥å¿—ç”¨äºè°ƒä¼˜ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ¡ˆä¾‹2ï¼šé‡‘èäº¤æ˜“ç³»ç»Ÿï¼ˆè¶…ä½å»¶è¿Ÿï¼‰</strong> â€‹</p>
<ul>
<li>é…ç½®ï¼š<code>-Xms16g -Xmx16g -XX:+UseZGC -Xlog:gc*</code></li>
<li>è¯´æ˜ï¼š16GBå †å†…å­˜ï¼Œå¯ç”¨ZGCï¼ˆåœé¡¿â‰¤10msï¼‰ï¼Œé€‚åˆå®æ—¶äº¤æ˜“åœºæ™¯ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ¡ˆä¾‹3ï¼šæ‰¹é‡æ•°æ®å¤„ç†ï¼ˆé«˜ååé‡ï¼‰</strong> â€‹</p>
<ul>
<li>é…ç½®ï¼š<code>-Xms4g -Xmx4g -XX:+UseParallelGC -XX:MaxGCPauseMillis=200 -XX:GCTimeRatio=99</code></li>
<li>è¯´æ˜ï¼š4GBå †å†…å­˜ï¼Œå¯ç”¨Parallel GCï¼Œä¼˜å…ˆä¿è¯ååé‡ï¼ˆåƒåœ¾å›æ”¶æ—¶é—´â‰¤1%ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-12"><strong>ä¸‰ã€GCè°ƒä¼˜æœ€ä½³å®è·µ</strong>â€‹</h4>
<ol>
<li><strong>é¿å…é¢‘ç¹Full GC</strong>ï¼šé€šè¿‡<code>-XX:CMSInitialOccupancyFraction</code>ï¼ˆCMSï¼‰æˆ–<code>-XX:MaxGCPauseMillis</code>ï¼ˆG1ï¼‰è°ƒæ•´è§¦å‘é˜ˆå€¼ï¼Œå‡å°‘Full GCæ¬¡æ•°ã€‚</li>
<li><strong>å‡å°‘å†…å­˜ç¢ç‰‡</strong>ï¼šCMSå¯ç”¨<code>-XX:+UseCMSCompactAtFullCollection</code>ï¼ŒG1é€šè¿‡æ ‡è®°-æ•´ç†ç®—æ³•è‡ªåŠ¨å‡å°‘ç¢ç‰‡ã€‚</li>
<li><strong>ç›‘æ§ä¸è°ƒä¼˜</strong>ï¼šä½¿ç”¨å·¥å…·ï¼ˆå¦‚GCViewerã€GCEasyï¼‰åˆ†æGCæ—¥å¿—ï¼Œé‡ç‚¹å…³æ³¨<strong>åœé¡¿æ—¶é—´</strong>ã€<strong>å›æ”¶é¢‘ç‡</strong>å’Œ<strong>å†…å­˜ä½¿ç”¨ç‡</strong>ï¼Œé€æ­¥è°ƒæ•´å‚æ•°ã€‚</li>
</ol>
<h4 data-id="heading-13"><strong>æ€»ç»“</strong>â€‹</h4>
<p>JDKæä¾›äº†å¤šç§GCï¼Œé€‰æ‹©çš„æ ¸å¿ƒæ˜¯<strong>åŒ¹é…åº”ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>å°å†…å­˜/å®¢æˆ·ç«¯ï¼šSerial GCï¼›</li>
<li>é«˜ååé‡ï¼šParallel GCï¼›</li>
<li>ä½å»¶è¿Ÿï¼šG1 GCï¼ˆé»˜è®¤ï¼‰/CMS GCï¼›</li>
<li>è¶…å¤§å †/å®æ—¶ï¼šZGCã€‚</li>
</ul>
<p>å®æˆ˜ä¸­éœ€ç»“åˆç¡¬ä»¶èµ„æºï¼ˆå†…å­˜ã€CPUï¼‰å’Œæ€§èƒ½éœ€æ±‚ï¼ˆååé‡ã€å»¶è¿Ÿï¼‰ï¼Œé€šè¿‡é…ç½®å‚æ•°ï¼ˆå¦‚<code>-Xmx</code>ã€<code>-XX:+UseG1GC</code>ï¼‰å’Œç›‘æ§ï¼ˆGCæ—¥å¿—ï¼‰ä¼˜åŒ–æ€§èƒ½ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Sentry é”™è¯¯ç›‘æ§ç³»ç»Ÿ]]></title>    <link>https://juejin.cn/post/7599933828544626751</link>    <guid>https://juejin.cn/post/7599933828544626751</guid>    <pubDate>2026-01-28T06:30:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599933828544626751" data-draft-id="7599970244787421247" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Sentry é”™è¯¯ç›‘æ§ç³»ç»Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-28T06:30:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°å°å°å°å®‡"/> <meta itemprop="url" content="https://juejin.cn/user/3386151546662077"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Sentry é”™è¯¯ç›‘æ§ç³»ç»Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3386151546662077/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°å°å°å°å®‡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T06:30:48.000Z" title="Wed Jan 28 2026 06:30:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Vue2 é¡¹ç›®ä»é›¶æ­å»ºå…è´¹ Sentry é”™è¯¯ç›‘æ§ç³»ç»Ÿå®Œæ•´æŒ‡å—</h2>
<p>è€ Vue2 é¡¹ç›®æ­å»ºå…è´¹çš„ Sentry é”™è¯¯ç›‘æ§ç³»ç»Ÿï¼Œä»æ³¨å†Œè´¦å·åˆ°æœ€ç»ˆä½¿ç”¨çš„å…¨éƒ¨æ­¥éª¤ã€‚</p>
<hr/>
<h3 data-id="heading-1">ç¬¬ä¸€éƒ¨åˆ†ï¼šæ³¨å†Œ Sentry è´¦å·</h3>
<h4 data-id="heading-2">1. è®¿é—® Sentry å®˜ç½‘</h4>
<p>æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Fsentry.io%2Fsignup%2F" target="_blank" title="https://sentry.io/signup/" ref="nofollow noopener noreferrer">sentry.io/signup/</a></p>
<h4 data-id="heading-3">2. æ³¨å†Œè´¦å·</h4>
<p>æœ‰ä»¥ä¸‹å‡ ç§æ³¨å†Œæ–¹å¼ï¼š</p>
<ul>
<li><strong>GitHub è´¦å·ç™»å½•</strong>ï¼ˆæ¨èï¼Œæœ€å¿«æ·ï¼‰</li>
<li><strong>Google è´¦å·ç™»å½•</strong></li>
<li><strong>é‚®ç®±æ³¨å†Œ</strong></li>
</ul>
<blockquote>
<p>ğŸ’¡ <strong>å…è´¹å¥—é¤è¯´æ˜</strong>ï¼šSentry å…è´¹ç‰ˆæ¯æœˆæ”¯æŒ <strong>5,000 ä¸ªé”™è¯¯äº‹ä»¶</strong>ï¼Œå¯¹äºä¸ªäººé¡¹ç›®æˆ–å°å‹å›¢é˜Ÿå®Œå…¨å¤Ÿç”¨ã€‚</p>
</blockquote>
<h4 data-id="heading-4">3. å®Œæˆæ³¨å†Œæµç¨‹</h4>
<ol>
<li>é€‰æ‹©ç™»å½•/æ³¨å†Œæ–¹å¼</li>
<li>å¡«å†™ç»„ç»‡åç§°ï¼ˆOrganization Nameï¼‰ï¼Œä¾‹å¦‚ï¼š<code>my-company</code></li>
<li>ç¡®è®¤é‚®ç®±ï¼ˆå¦‚æœæ˜¯é‚®ç®±æ³¨å†Œï¼‰</li>
</ol>
<hr/>
<h3 data-id="heading-5">ç¬¬äºŒéƒ¨åˆ†ï¼šåˆ›å»º Sentry é¡¹ç›®å¹¶è·å– DSN</h3>
<h4 data-id="heading-6">1. åˆ›å»ºæ–°é¡¹ç›®</h4>
<p>ç™»å½•åï¼Œè¿›å…¥ Sentry æ§åˆ¶å°ï¼š</p>
<ol>
<li>ç‚¹å‡»å·¦ä¾§èœå• <strong>"Projects"</strong></li>
<li>ç‚¹å‡»å³ä¸Šè§’ <strong>"Create Project"</strong> æŒ‰é’®</li>
<li>åœ¨å¹³å°åˆ—è¡¨ä¸­é€‰æ‹© <strong>"Vue"</strong></li>
<li>è®¾ç½®å‘Šè­¦è§„åˆ™ï¼ˆAlert Settingsï¼‰ï¼š
<ul>
<li>é€‰æ‹© <strong>"Alert me on every new issue"</strong>ï¼ˆæ¨èæ–°æ‰‹ï¼‰</li>
<li>æˆ–è€…é€‰æ‹©è‡ªå®šä¹‰è§„åˆ™</li>
</ul>
</li>
<li>è¾“å…¥é¡¹ç›®åç§°ï¼Œä¾‹å¦‚ï¼š<code>my-vue2-app</code></li>
<li>é€‰æ‹©å›¢é˜Ÿï¼ˆå¦‚æœæœ‰å¤šä¸ªå›¢é˜Ÿï¼‰</li>
<li>ç‚¹å‡» <strong>"Create Project"</strong></li>
</ol>
<h4 data-id="heading-7">2. è·å– DSNï¼ˆæ•°æ®æºåç§°ï¼‰</h4>
<p>é¡¹ç›®åˆ›å»ºæˆåŠŸåï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è·³è½¬åˆ°é…ç½®é¡µé¢ï¼Œæ˜¾ç¤ºä½ çš„ DSNã€‚</p>
<p><strong>å¦‚æœé”™è¿‡äº†è¿™ä¸ªé¡µé¢ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ‰¾åˆ° DSNï¼š</strong></p>
<ol>
<li>è¿›å…¥é¡¹ç›® â†’ <strong>Settings</strong>ï¼ˆè®¾ç½®ï¼‰</li>
<li>å·¦ä¾§èœå•é€‰æ‹© <strong>Client Keys (DSN)</strong></li>
<li>å¤åˆ¶ DSNï¼Œæ ¼å¼ç±»ä¼¼ï¼š
<pre><code class="hljs language-perl" lang="perl">https:<span class="hljs-regexp">//xxxxxxxxxxxx</span>xxxx@o123456.ingest.sentry.io/<span class="hljs-number">1234567</span>
</code></pre>
</li>
</ol>
<blockquote>
<p>âš ï¸ <strong>é‡è¦</strong>ï¼šDSN æ˜¯ä½ é¡¹ç›®çš„å”¯ä¸€æ ‡è¯†ï¼Œè¯·å¦¥å–„ä¿ç®¡ï¼Œä¸è¦æ³„éœ²åˆ°å…¬å¼€çš„ä»£ç ä»“åº“ä¸­ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-8">ç¬¬ä¸‰éƒ¨åˆ†ï¼šåœ¨ Vue2 é¡¹ç›®ä¸­å®‰è£… Sentry SDK</h3>
<h4 data-id="heading-9">1. å®‰è£…ä¾èµ–åŒ…</h4>
<p>åœ¨ä½ çš„ Vue2 é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨ npm</span>
npm install @sentry/vue@5 @sentry/tracing@5 --save

<span class="hljs-comment"># æˆ–ä½¿ç”¨ yarn</span>
yarn add @sentry/vue@5 @sentry/tracing@5
</code></pre>
<blockquote>
<p>âš ï¸ <strong>Vue2 å¿…é¡»ä½¿ç”¨ @sentry/vue@5 ç‰ˆæœ¬</strong>ï¼Œ@sentry/vue@7+ ç‰ˆæœ¬åªæ”¯æŒ Vue3ã€‚</p>
</blockquote>
<h4 data-id="heading-10">2. ç¡®è®¤å®‰è£…æˆåŠŸ</h4>
<p>æŸ¥çœ‹ <code>package.json</code>ï¼Œç¡®ä¿ä¾èµ–å·²æ·»åŠ ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"dependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"@sentry/vue"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^5.x.x"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"@sentry/tracing"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^5.x.x"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<hr/>
<h3 data-id="heading-11">ç¬¬å››éƒ¨åˆ†ï¼šé…ç½® Sentry åˆå§‹åŒ–ä»£ç </h3>
<h4 data-id="heading-12">1. ä¿®æ”¹å…¥å£æ–‡ä»¶ <code>src/main.js</code></h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.vue'</span>
<span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">'./router'</span> <span class="hljs-comment">// å¦‚æœä½ ä½¿ç”¨äº† vue-router</span>

<span class="hljs-comment">// å¼•å…¥ Sentry</span>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-title class_">Sentry</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@sentry/vue'</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Integrations</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@sentry/tracing'</span>

<span class="hljs-comment">// åˆå§‹åŒ– Sentryï¼ˆå¿…é¡»åœ¨ new Vue() ä¹‹å‰ï¼‰</span>
<span class="hljs-title class_">Sentry</span>.<span class="hljs-title function_">init</span>({
  <span class="hljs-title class_">Vue</span>,
  <span class="hljs-attr">dsn</span>: <span class="hljs-string">'https://ä½ çš„DSN@o123456.ingest.sentry.io/1234567'</span>, <span class="hljs-comment">// æ›¿æ¢ä¸ºä½ çš„ DSN</span>
  <span class="hljs-attr">integrations</span>: [
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Integrations</span>.<span class="hljs-title class_">BrowserTracing</span>({
      <span class="hljs-attr">routingInstrumentation</span>: <span class="hljs-title class_">Sentry</span>.<span class="hljs-title function_">vueRouterInstrumentation</span>(router),
      <span class="hljs-attr">tracingOrigins</span>: [<span class="hljs-string">'localhost'</span>, <span class="hljs-string">'your-domain.com'</span>, <span class="hljs-regexp">/^\//</span>]
    })
  ],
  <span class="hljs-comment">// æ€§èƒ½ç›‘æ§é‡‡æ ·ç‡ï¼ˆ1.0 = 100%ï¼Œç”Ÿäº§ç¯å¢ƒå»ºè®®è®¾ç½® 0.1-0.2ï¼‰</span>
  <span class="hljs-attr">tracesSampleRate</span>: <span class="hljs-number">1.0</span>,
  <span class="hljs-comment">// ç¯å¢ƒæ ‡è¯†</span>
  <span class="hljs-attr">environment</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> || <span class="hljs-string">'development'</span>,
  <span class="hljs-comment">// åœ¨æ§åˆ¶å°ä¹Ÿè¾“å‡ºé”™è¯¯ï¼ˆå¼€å‘æ—¶æœ‰ç”¨ï¼‰</span>
  <span class="hljs-attr">logErrors</span>: <span class="hljs-literal">true</span>
})

<span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>

<span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>({
  router,
  <span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-params">h</span> =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>)
}).$mount(<span class="hljs-string">'#app'</span>)
</code></pre>
<h4 data-id="heading-13">2. å¦‚æœæ²¡æœ‰ä½¿ç”¨ vue-router çš„ç®€åŒ–é…ç½®</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.vue'</span>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-title class_">Sentry</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@sentry/vue'</span>

<span class="hljs-title class_">Sentry</span>.<span class="hljs-title function_">init</span>({
  <span class="hljs-title class_">Vue</span>,
  <span class="hljs-attr">dsn</span>: <span class="hljs-string">'https://ä½ çš„DSN@o123456.ingest.sentry.io/1234567'</span>,
  <span class="hljs-attr">tracesSampleRate</span>: <span class="hljs-number">1.0</span>,
  <span class="hljs-attr">environment</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> || <span class="hljs-string">'development'</span>,
  <span class="hljs-attr">logErrors</span>: <span class="hljs-literal">true</span>
})

<span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>({
  <span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-params">h</span> =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>)
}).$mount(<span class="hljs-string">'#app'</span>)
</code></pre>
<hr/>
<h3 data-id="heading-14">ç¬¬äº”éƒ¨åˆ†ï¼šä½¿ç”¨ç¯å¢ƒå˜é‡ç®¡ç† DSNï¼ˆæ¨èï¼‰</h3>
<p>ä¸ºäº†å®‰å…¨èµ·è§ï¼Œå»ºè®®ä½¿ç”¨ç¯å¢ƒå˜é‡ç®¡ç† DSNã€‚</p>
<h4 data-id="heading-15">1. åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶</h4>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º <code>.env</code> æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># .env.developmentï¼ˆå¼€å‘ç¯å¢ƒï¼‰</span>
VUE_APP_SENTRY_DSN=https://å¼€å‘ç¯å¢ƒçš„DSN

<span class="hljs-comment"># .env.productionï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰</span>
VUE_APP_SENTRY_DSN=https://ç”Ÿäº§ç¯å¢ƒçš„DSN
</code></pre>
<h4 data-id="heading-16">2. ä¿®æ”¹ main.js ä½¿ç”¨ç¯å¢ƒå˜é‡</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Sentry</span>.<span class="hljs-title function_">init</span>({
  <span class="hljs-title class_">Vue</span>,
  <span class="hljs-attr">dsn</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">VUE_APP_SENTRY_DSN</span>,
  <span class="hljs-comment">// ... å…¶ä»–é…ç½®</span>
})
</code></pre>
<h4 data-id="heading-17">3. å°† .env æ–‡ä»¶æ·»åŠ åˆ° .gitignore</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># .gitignore</span>
.<span class="hljs-built_in">env</span>
.env.local
.<span class="hljs-built_in">env</span>.*.<span class="hljs-built_in">local</span>
</code></pre>
<hr/>
<h3 data-id="heading-18">ç¬¬å…­éƒ¨åˆ†ï¼šæµ‹è¯• Sentry æ˜¯å¦æ­£å¸¸å·¥ä½œ</h3>
<h4 data-id="heading-19">1. æ·»åŠ æµ‹è¯•æŒ‰é’®</h4>
<p>åœ¨ä»»æ„ç»„ä»¶ä¸­æ·»åŠ ä¸€ä¸ªæµ‹è¯•æŒ‰é’®ï¼Œä¾‹å¦‚ <code>App.vue</code>ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div id="app"&gt;
    &lt;h1&gt;Sentry æµ‹è¯•&lt;/h1&gt;
    &lt;button @click="throwTestError"&gt;è§¦å‘æµ‹è¯•é”™è¯¯&lt;/button&gt;
    &lt;button @click="throwTypeError"&gt;è§¦å‘ç±»å‹é”™è¯¯&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  name: 'App',
  methods: {
    throwTestError() {
      throw new Error('è¿™æ˜¯ä¸€ä¸ª Sentry æµ‹è¯•é”™è¯¯ï¼')
    },
    throwTypeError() {
      // æ•…æ„è®¿é—®æœªå®šä¹‰å˜é‡çš„å±æ€§
      const obj = undefined
      console.log(obj.property)
    }
  }
}
&lt;/script&gt;
</code></pre>
<h4 data-id="heading-20">2. è¿è¡Œé¡¹ç›®å¹¶æµ‹è¯•</h4>
<pre><code class="hljs language-bash" lang="bash">npm run serve
</code></pre>
<ol>
<li>æ‰“å¼€æµè§ˆå™¨è®¿é—®é¡¹ç›®</li>
<li>ç‚¹å‡»æµ‹è¯•æŒ‰é’®è§¦å‘é”™è¯¯</li>
<li>æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰ï¼ŒæŸ¥çœ‹ Network æ ‡ç­¾</li>
<li>ä½ åº”è¯¥èƒ½çœ‹åˆ°å‘é€åˆ° <code>sentry.io</code> çš„è¯·æ±‚</li>
</ol>
<h4 data-id="heading-21">3. åœ¨ Sentry æ§åˆ¶å°æŸ¥çœ‹é”™è¯¯</h4>
<ol>
<li>ç™»å½• <a href="https://link.juejin.cn?target=https%3A%2F%2Fsentry.io" target="_blank" title="https://sentry.io" ref="nofollow noopener noreferrer">sentry.io</a></li>
<li>è¿›å…¥ä½ çš„é¡¹ç›®</li>
<li>ç‚¹å‡»å·¦ä¾§ <strong>"Issues"</strong> èœå•</li>
<li>ä½ åº”è¯¥èƒ½çœ‹åˆ°åˆšæ‰è§¦å‘çš„æµ‹è¯•é”™è¯¯</li>
</ol>
<blockquote>
<p>ğŸ’¡ é”™è¯¯é€šå¸¸ä¼šåœ¨å‡ ç§’é’Ÿå†…å‡ºç°åœ¨ Sentry æ§åˆ¶å°ä¸­ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-22">ç¬¬ä¸ƒéƒ¨åˆ†ï¼šé«˜çº§é…ç½®ï¼ˆå¯é€‰ä½†æ¨èï¼‰</h3>
<h4 data-id="heading-23">1. æ•è· API è¯·æ±‚é”™è¯¯</h4>
<p>å¦‚æœä½ ä½¿ç”¨ axiosï¼Œå¯ä»¥æ·»åŠ æ‹¦æˆªå™¨ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/utils/request.js</span>
<span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">'axios'</span>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-title class_">Sentry</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@sentry/vue'</span>

<span class="hljs-keyword">const</span> service = axios.<span class="hljs-title function_">create</span>({
  <span class="hljs-attr">baseURL</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">VUE_APP_API_URL</span>,
  <span class="hljs-attr">timeout</span>: <span class="hljs-number">10000</span>
})

<span class="hljs-comment">// å“åº”æ‹¦æˆªå™¨</span>
service.<span class="hljs-property">interceptors</span>.<span class="hljs-property">response</span>.<span class="hljs-title function_">use</span>(
  <span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> response,
  <span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {
    <span class="hljs-comment">// å°† API é”™è¯¯å‘é€åˆ° Sentry</span>
    <span class="hljs-title class_">Sentry</span>.<span class="hljs-title function_">captureException</span>(error)
    
    <span class="hljs-comment">// æ·»åŠ é¢å¤–ä¸Šä¸‹æ–‡ä¿¡æ¯</span>
    <span class="hljs-title class_">Sentry</span>.<span class="hljs-title function_">setContext</span>(<span class="hljs-string">'api_error'</span>, {
      <span class="hljs-attr">url</span>: error.<span class="hljs-property">config</span>?.<span class="hljs-property">url</span>,
      <span class="hljs-attr">method</span>: error.<span class="hljs-property">config</span>?.<span class="hljs-property">method</span>,
      <span class="hljs-attr">status</span>: error.<span class="hljs-property">response</span>?.<span class="hljs-property">status</span>,
      <span class="hljs-attr">data</span>: error.<span class="hljs-property">response</span>?.<span class="hljs-property">data</span>
    })
    
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(error)
  }
)

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> service
</code></pre>
<h4 data-id="heading-24">2. æ·»åŠ ç”¨æˆ·ä¿¡æ¯ï¼ˆç”¨äºè¿½è¸ªç‰¹å®šç”¨æˆ·çš„é—®é¢˜ï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç”¨æˆ·ç™»å½•æˆåŠŸåè°ƒç”¨</span>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-title class_">Sentry</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@sentry/vue'</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">onUserLogin</span>(<span class="hljs-params">user</span>) {
  <span class="hljs-title class_">Sentry</span>.<span class="hljs-title function_">setUser</span>({
    <span class="hljs-attr">id</span>: user.<span class="hljs-property">id</span>,
    <span class="hljs-attr">username</span>: user.<span class="hljs-property">username</span>,
    <span class="hljs-attr">email</span>: user.<span class="hljs-property">email</span> <span class="hljs-comment">// å¯é€‰ï¼Œæ³¨æ„éšç§ä¿æŠ¤</span>
  })
}

<span class="hljs-comment">// ç”¨æˆ·ç™»å‡ºæ—¶æ¸…é™¤</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">onUserLogout</span>(<span class="hljs-params"/>) {
  <span class="hljs-title class_">Sentry</span>.<span class="hljs-title function_">setUser</span>(<span class="hljs-literal">null</span>)
}
</code></pre>
<h4 data-id="heading-25">3. ä½¿ç”¨ Vue é”™è¯¯è¾¹ç•Œæ•è·ç»„ä»¶é”™è¯¯</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åœ¨ main.js ä¸­æ·»åŠ å…¨å±€é”™è¯¯å¤„ç†</span>
<span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">errorHandler</span> = <span class="hljs-function">(<span class="hljs-params">err, vm, info</span>) =&gt;</span> {
  <span class="hljs-title class_">Sentry</span>.<span class="hljs-title function_">captureException</span>(err, {
    <span class="hljs-attr">extra</span>: {
      <span class="hljs-attr">componentName</span>: vm?.<span class="hljs-property">$options</span>?.<span class="hljs-property">name</span>,
      <span class="hljs-attr">propsData</span>: vm?.<span class="hljs-property">$options</span>?.<span class="hljs-property">propsData</span>,
      <span class="hljs-attr">lifecycleHook</span>: info
    }
  })
}
</code></pre>
<h4 data-id="heading-26">4. æ‰‹åŠ¨æ•è·é”™è¯¯å’Œæ¶ˆæ¯</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-title class_">Sentry</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@sentry/vue'</span>

<span class="hljs-comment">// æ•è·å¼‚å¸¸</span>
<span class="hljs-keyword">try</span> {
  <span class="hljs-title function_">riskyOperation</span>()
} <span class="hljs-keyword">catch</span> (error) {
  <span class="hljs-title class_">Sentry</span>.<span class="hljs-title function_">captureException</span>(error)
}

<span class="hljs-comment">// å‘é€è‡ªå®šä¹‰æ¶ˆæ¯</span>
<span class="hljs-title class_">Sentry</span>.<span class="hljs-title function_">captureMessage</span>(<span class="hljs-string">'ç”¨æˆ·å®Œæˆäº†é‡è¦æ“ä½œ'</span>, <span class="hljs-string">'info'</span>)

<span class="hljs-comment">// æ·»åŠ é¢åŒ…å±‘ï¼ˆç”¨äºè¿½è¸ªç”¨æˆ·æ“ä½œè·¯å¾„ï¼‰</span>
<span class="hljs-title class_">Sentry</span>.<span class="hljs-title function_">addBreadcrumb</span>({
  <span class="hljs-attr">category</span>: <span class="hljs-string">'user-action'</span>,
  <span class="hljs-attr">message</span>: <span class="hljs-string">'ç”¨æˆ·ç‚¹å‡»äº†è´­ä¹°æŒ‰é’®'</span>,
  <span class="hljs-attr">level</span>: <span class="hljs-string">'info'</span>
})
</code></pre>
<h4 data-id="heading-27">5. é…ç½®ä¸åŒç¯å¢ƒçš„é‡‡æ ·ç‡</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/config/sentry.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> sentryConfig = {
  <span class="hljs-attr">development</span>: {
    <span class="hljs-attr">tracesSampleRate</span>: <span class="hljs-number">1.0</span>,  <span class="hljs-comment">// å¼€å‘ç¯å¢ƒ 100% é‡‡æ ·</span>
    <span class="hljs-attr">debug</span>: <span class="hljs-literal">true</span>
  },
  <span class="hljs-attr">production</span>: {
    <span class="hljs-attr">tracesSampleRate</span>: <span class="hljs-number">0.2</span>,  <span class="hljs-comment">// ç”Ÿäº§ç¯å¢ƒ 20% é‡‡æ ·ï¼ˆèŠ‚çœé…é¢ï¼‰</span>
    <span class="hljs-attr">debug</span>: <span class="hljs-literal">false</span>
  }
}
</code></pre>
<hr/>
<h3 data-id="heading-28">ç¬¬å…«éƒ¨åˆ†ï¼šSource Maps é…ç½®ï¼ˆç”¨äºå®šä½å‹ç¼©ä»£ç ï¼‰</h3>
<p>ç”Ÿäº§ç¯å¢ƒçš„ä»£ç ç»è¿‡å‹ç¼©åï¼Œé”™è¯¯å †æ ˆå¾ˆéš¾é˜…è¯»ã€‚ä¸Šä¼  Source Maps å¯ä»¥è®© Sentry æ˜¾ç¤ºåŸå§‹ä»£ç ä½ç½®ã€‚</p>
<h4 data-id="heading-29">1. å®‰è£… Sentry CLI</h4>
<pre><code class="hljs language-bash" lang="bash">npm install @sentry/cli --save-dev
</code></pre>
<h4 data-id="heading-30">2. åˆ›å»º .sentryclirc é…ç½®æ–‡ä»¶</h4>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º <code>.sentryclirc</code>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[defaults]</span>
<span class="hljs-attr">url</span> = https://sentry.io
<span class="hljs-attr">org</span> = ä½ çš„ç»„ç»‡å
<span class="hljs-attr">project</span> = ä½ çš„é¡¹ç›®å

<span class="hljs-section">[auth]</span>
<span class="hljs-attr">token</span> = ä½ çš„AuthToken
</code></pre>
<h4 data-id="heading-31">3. è·å– Auth Token</h4>
<ol>
<li>ç™»å½• Sentry</li>
<li>è¿›å…¥ <strong>Settings</strong> â†’ <strong>Account</strong> â†’ <strong>API</strong> â†’ <strong>Auth Tokens</strong></li>
<li>ç‚¹å‡» <strong>Create New Token</strong></li>
<li>å‹¾é€‰ <code>project:releases</code> å’Œ <code>org:read</code> æƒé™</li>
<li>å¤åˆ¶ç”Ÿæˆçš„ Token</li>
</ol>
<h4 data-id="heading-32">4. åœ¨æ„å»ºæ—¶ä¸Šä¼  Source Maps</h4>
<p>ä¿®æ”¹ <code>package.json</code>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"build"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vue-cli-service build"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"postbuild"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"sentry-cli releases files $npm_package_version upload-sourcemaps ./dist/js --url-prefix '~/js'"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<hr/>
<h3 data-id="heading-33">ç¬¬ä¹éƒ¨åˆ†ï¼šSentry æ§åˆ¶å°åŠŸèƒ½ä»‹ç»</h3>
<h4 data-id="heading-34">Issuesï¼ˆé—®é¢˜åˆ—è¡¨ï¼‰</h4>
<ul>
<li>æŸ¥çœ‹æ‰€æœ‰æ•è·çš„é”™è¯¯</li>
<li>æŒ‰é¢‘ç‡ã€å½±å“ç”¨æˆ·æ•°æ’åº</li>
<li>æ ‡è®°é—®é¢˜çŠ¶æ€ï¼ˆå·²è§£å†³/å¿½ç•¥ï¼‰</li>
</ul>
<h4 data-id="heading-35">Performanceï¼ˆæ€§èƒ½ç›‘æ§ï¼‰</h4>
<ul>
<li>é¡µé¢åŠ è½½æ—¶é—´</li>
<li>API è¯·æ±‚è€—æ—¶</li>
<li>æ€§èƒ½ç“¶é¢ˆåˆ†æ</li>
</ul>
<h4 data-id="heading-36">Alertsï¼ˆå‘Šè­¦è®¾ç½®ï¼‰</h4>
<ul>
<li>è®¾ç½®é”™è¯¯é˜ˆå€¼å‘Šè­¦</li>
<li>é…ç½®é‚®ä»¶/Slack/é’‰é’‰é€šçŸ¥</li>
</ul>
<h4 data-id="heading-37">Releasesï¼ˆç‰ˆæœ¬ç®¡ç†ï¼‰</h4>
<ul>
<li>å…³è”ä»£ç ç‰ˆæœ¬</li>
<li>è¿½è¸ªå“ªä¸ªç‰ˆæœ¬å¼•å…¥äº†é—®é¢˜</li>
</ul>
<hr/>
<h3 data-id="heading-38">ç¬¬åéƒ¨åˆ†ï¼šå¸¸è§é—®é¢˜æ’æŸ¥</h3>

























<table><thead><tr><th>é—®é¢˜</th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>æ§åˆ¶å°æ²¡æœ‰æ”¶åˆ°é”™è¯¯</td><td>æ£€æŸ¥ DSN æ˜¯å¦æ­£ç¡®ï¼›ç¡®ä¿ç½‘ç»œèƒ½è®¿é—® sentry.io</td></tr><tr><td>é”™è¯¯ä¿¡æ¯ä¸å®Œæ•´</td><td>ç¡®è®¤ SDK ç‰ˆæœ¬æ­£ç¡®ï¼ˆVue2 ç”¨ v5ï¼‰</td></tr><tr><td>Source Map ä¸ç”Ÿæ•ˆ</td><td>æ£€æŸ¥ release ç‰ˆæœ¬æ˜¯å¦åŒ¹é…ï¼›ç¡®è®¤ä¸Šä¼ æˆåŠŸ</td></tr><tr><td>å…è´¹é¢åº¦ç”¨å®Œ</td><td>é™ä½ <code>tracesSampleRate</code> é‡‡æ ·ç‡ï¼›æˆ–å‡çº§å¥—é¤</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-39">å®Œæ•´é…ç½®ç¤ºä¾‹</h3>
<p>æœ€ç»ˆçš„ <code>src/main.js</code> å®Œæ•´ä»£ç ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.vue'</span>
<span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">'./router'</span>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-title class_">Sentry</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@sentry/vue'</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Integrations</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@sentry/tracing'</span>

<span class="hljs-comment">// ä»…åœ¨æœ‰ DSN æ—¶åˆå§‹åŒ– Sentry</span>
<span class="hljs-keyword">if</span> (process.<span class="hljs-property">env</span>.<span class="hljs-property">VUE_APP_SENTRY_DSN</span>) {
  <span class="hljs-title class_">Sentry</span>.<span class="hljs-title function_">init</span>({
    <span class="hljs-title class_">Vue</span>,
    <span class="hljs-attr">dsn</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">VUE_APP_SENTRY_DSN</span>,
    <span class="hljs-attr">integrations</span>: [
      <span class="hljs-keyword">new</span> <span class="hljs-title class_">Integrations</span>.<span class="hljs-title class_">BrowserTracing</span>({
        <span class="hljs-attr">routingInstrumentation</span>: <span class="hljs-title class_">Sentry</span>.<span class="hljs-title function_">vueRouterInstrumentation</span>(router),
        <span class="hljs-attr">tracingOrigins</span>: [<span class="hljs-string">'localhost'</span>, <span class="hljs-regexp">/^\//</span>]
      })
    ],
    <span class="hljs-attr">tracesSampleRate</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> === <span class="hljs-string">'production'</span> ? <span class="hljs-number">0.2</span> : <span class="hljs-number">1.0</span>,
    <span class="hljs-attr">environment</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span>,
    <span class="hljs-attr">release</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">VUE_APP_VERSION</span> || <span class="hljs-string">'1.0.0'</span>,
    <span class="hljs-attr">logErrors</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> === <span class="hljs-string">'development'</span>
  })
}

<span class="hljs-comment">// å…¨å±€é”™è¯¯å¤„ç†</span>
<span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">errorHandler</span> = <span class="hljs-function">(<span class="hljs-params">err, vm, info</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Vue Error:'</span>, err)
  <span class="hljs-title class_">Sentry</span>.<span class="hljs-title function_">captureException</span>(err, {
    <span class="hljs-attr">extra</span>: { <span class="hljs-attr">componentName</span>: vm?.<span class="hljs-property">$options</span>?.<span class="hljs-property">name</span>, info }
  })
}

<span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>

<span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>({
  router,
  <span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-params">h</span> =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>)
}).$mount(<span class="hljs-string">'#app'</span>)
</code></pre>
<hr/>
<h3 data-id="heading-40">æ€»ç»“</h3>
<p>å®Œæˆä»¥ä¸Šæ­¥éª¤åï¼Œä½ çš„ Vue2 é¡¹ç›®å°±å·²ç»æˆåŠŸæ¥å…¥äº† Sentry é”™è¯¯ç›‘æ§ç³»ç»Ÿã€‚å½“ç”¨æˆ·åœ¨ä½¿ç”¨ä½ çš„åº”ç”¨æ—¶é‡åˆ°é”™è¯¯ï¼Œä½ å¯ä»¥ï¼š</p>
<ol>
<li>âœ… <strong>å®æ—¶æ”¶åˆ°é”™è¯¯é€šçŸ¥</strong></li>
<li>âœ… <strong>æŸ¥çœ‹å®Œæ•´çš„é”™è¯¯å †æ ˆå’Œä¸Šä¸‹æ–‡</strong></li>
<li>âœ… <strong>äº†è§£é”™è¯¯å½±å“çš„ç”¨æˆ·æ•°é‡</strong></li>
<li>âœ… <strong>è¿½è¸ªç”¨æˆ·æ“ä½œè·¯å¾„ï¼ˆé¢åŒ…å±‘ï¼‰</strong></li>
<li>âœ… <strong>å…³è”ä»£ç ç‰ˆæœ¬å®šä½é—®é¢˜</strong></li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Kimi K2.5 å¤š Agent ä¸€é”®åšç«™å®æµ‹ï¼šå›½äº§æœ€å¼ºå¤§æ¨¡å‹èƒ½äº¤ä»˜åˆ°ä»€ä¹ˆç¨‹åº¦ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7599983917664976939</link>    <guid>https://juejin.cn/post/7599983917664976939</guid>    <pubDate>2026-01-28T06:31:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599983917664976939" data-draft-id="7599983917664927787" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Kimi K2.5 å¤š Agent ä¸€é”®åšç«™å®æµ‹ï¼šå›½äº§æœ€å¼ºå¤§æ¨¡å‹èƒ½äº¤ä»˜åˆ°ä»€ä¹ˆç¨‹åº¦ï¼Ÿ"/> <meta itemprop="keywords" content="Agent,AIç¼–ç¨‹,AIGC"/> <meta itemprop="datePublished" content="2026-01-28T06:31:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å­Ÿå¥AIç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/4212984287073895"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Kimi K2.5 å¤š Agent ä¸€é”®åšç«™å®æµ‹ï¼šå›½äº§æœ€å¼ºå¤§æ¨¡å‹èƒ½äº¤ä»˜åˆ°ä»€ä¹ˆç¨‹åº¦ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4212984287073895/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å­Ÿå¥AIç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T06:31:08.000Z" title="Wed Jan 28 2026 06:31:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å­Ÿå¥ã€‚</p>
<p>æ˜¨å¤© Kimi å‘å¸ƒäº† K2.5 æœ€æ–°æ¨¡å‹ï¼Œç›´æ¥åˆ·æ–°äº†æˆ‘å¯¹å›½äº§å¤§æ¨¡å‹çš„è®¤çŸ¥â€”â€”è¿™åº”è¯¥æ˜¯ç›®å‰å›½å†…æœ€å¼ºçš„ SOTA äº†ã€‚</p>
<p>æˆ‘æœ€æ„Ÿå…´è¶£çš„æ˜¯å®ƒçš„ <strong>Agent é›†ç¾¤åŠŸèƒ½</strong>ï¼Œä»Šå¤©è¿«ä¸åŠå¾…åœ°æµ‹è¯•äº†ä¸€ä¸‹ï¼Œåˆ†äº«ç»™å¤§å®¶ã€‚</p>
<p>æˆ‘æƒ³éªŒè¯çš„æ ¸å¿ƒé—®é¢˜æ˜¯ï¼š<strong>å®ƒèƒ½ä¸èƒ½å®ç°ä¸€é”®åšäº§å“ã€åšç½‘ç«™ï¼Ÿ</strong></p>
<h2 data-id="heading-0">01 ä¸€å¥æç¤ºè¯ï¼Œè‡ªåŠ¨æ‹†è§£æˆå¤š Agent åä½œ</h2>
<p>æˆ‘çš„æç¤ºè¯éå¸¸ç®€å•ï¼š</p>
<pre><code class="hljs language-css" lang="css">å¸®æˆ‘åšä¸€ä¸ª PNG <span class="hljs-selector-tag">to</span> SVG çš„ç½‘ç«™ï¼Œå¯ä»¥å…ˆè°ƒç ”ä¸€ä¸‹éœ€æ±‚å’Œç«å“æƒ…å†µï¼Œåšå‡ºå·®å¼‚åŒ–ä¼˜åŠ¿ï¼Œç•Œé¢è®¾è®¡è¦ç¾è§‚ï¼Œç”¨æˆ·ä½“éªŒè‰¯å¥½ã€‚
</code></pre>
<p>ç„¶åï¼ŒKimi è‡ªåŠ¨åˆ›å»ºäº†ä¸‰ä¸ª Agent å¹¶è¡Œå·¥ä½œï¼š</p>
<p><strong>éœ€æ±‚åˆ†æå¸ˆæ—¶æ¯…</strong>â€”â€”å¯¹éœ€æ±‚è¿›è¡Œå…¨é¢è°ƒç ”åˆ†æï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/50df1a1919314f06b34952730c9e0db7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770186668&amp;x-signature=5hQ%2Bvp6xVYPlUDAmAkzPG98qcHc%3D" alt="" loading="lazy"/></p>
<p>æœ€ç»ˆè¾“å‡ºäº†ä¸€ä»½å®Œæ•´çš„ éœ€æ±‚ç ”ç©¶æŠ¥å‘Šï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d04b2c1c418467683e34da7c2b97110~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770186668&amp;x-signature=6iFiEdljFW%2F15mAdOOOFoOj1PxA%3D" alt="" loading="lazy"/></p>
<p><strong>ç«å“åˆ†æå¸ˆé©¬ä¸</strong>â€”â€”åšç«å“åˆ†æè°ƒç ”ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ba81095fcad2444883d4cdf5fc8bceca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770186668&amp;x-signature=JR4lfPRfxYwfOVVszAYD6kVSGa8%3D" alt="" loading="lazy"/></p>
<p>æœ€ç»ˆè¾“å‡ºäº†ä¸€ä»½ ç«å“åˆ†ææŠ¥å‘Šï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/30c1302180954d65a45b7403cf08abd8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770186668&amp;x-signature=jL3e%2Fl%2BM0ZgB5Pn8qchrL8V7rhM%3D" alt="" loading="lazy"/></p>
<p><strong>æŠ€æœ¯ç ”ç©¶å‘˜æ›¼æ˜†</strong>â€”â€”æ€è€ƒæŠ€æœ¯å®ç°æ–¹æ¡ˆï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fcf7dbb1e56b4224a6fc12ae0debd39b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770186668&amp;x-signature=9wBNFgd3wM%2B6M3UoIVHXMKgPyns%3D" alt="" loading="lazy"/></p>
<p>æœ€ç»ˆè¾“å‡ºäº†ä¸€ä»½ æŠ€æœ¯å¯è¡Œæ€§æŠ¥å‘Šï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/def4344f24054c69afb711e7a03b116a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770186668&amp;x-signature=qqU6Ac13MjnKCEv9%2BnuX%2FG%2Bod8U%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">02 è‡ªåŠ¨æ‰©å±• Agentï¼Œå®Œæˆè®¾è®¡å’Œå·®å¼‚åŒ–</h2>
<p>ç´§æ¥ç€ï¼ŒKimi åˆåˆ›å»ºäº†ä¸¤ä¸ªæ–° Agentï¼š</p>
<p><strong>â€¢ å·®å¼‚åŒ–ç­–ç•¥å¸ˆç«ºæ€</strong></p>
<p><strong>â€¢</strong> <strong>UI</strong> <strong>è®¾è®¡å¸ˆçºªåº·</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0cff3aaa62a4de185c8f07c97a48d76~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770186668&amp;x-signature=DcknRJZGsmLJCwgivAStm5l%2BHIE%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2265b643f9324ffabff9671eb7125732~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770186668&amp;x-signature=BIQfDmamwA2Sj6wooWAjie%2Fq2D8%3D" alt="" loading="lazy"/></p>
<p>å·®å¼‚åŒ–ç­–ç•¥å¸ˆè¾“å‡ºäº†ä¸€å¥— <strong>å·®å¼‚åŒ–è®¾è®¡æ–¹æ¡ˆ</strong>ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c4cf150a7764cd49ab3013318f5ef12~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770186668&amp;x-signature=kl5bNthdQGMEh0GcdDl73cvrw64%3D" alt="" loading="lazy"/></p>
<p>UI è®¾è®¡å¸ˆè¾“å‡ºäº† <strong>UI è®¾è®¡æ–¹æ¡ˆï¼š</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/31eeffce249d4d3592298f8b5ddbf564~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770186668&amp;x-signature=pvNVTneGUcbl4F80IJGIjtoS8lw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-2">03 å‰ç«¯å¼€å‘ Agentï¼šèƒ½è·‘ï¼Œä½†ç›²ç›’æ„Ÿè¾ƒå¼º</h2>
<p>æœ€åï¼ŒKimi åˆ›å»ºäº†ä¸€ä¸ªå‰ç«¯å¼€å‘ Agentï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cc4a83b2003f4a04b7acc64a8bda4a64~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770186668&amp;x-signature=WG0Ib%2BkpdvYNCRkfRiOLDtMq6Gg%3D" alt="" loading="lazy"/></p>
<p>ç­‰äº†åŠå°æ—¶ï¼Œç»ˆäºè·‘å®Œäº†ã€‚ä¸è¿‡å¦ç™½è¯´ï¼Œ<strong>è®©å®ƒè‡ªå·±å‘æŒ¥è®¾è®¡ï¼Œæœ‰ç‚¹å¼€ç›²ç›’</strong>ï¼Œç”Ÿæˆçš„é¡µé¢æ•ˆæœæ¯”è¾ƒä¸€èˆ¬ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7bfd52a6b417419c85db4fe2f1307f63~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770186668&amp;x-signature=aHGPBYkqVIuOoCiEwz22XkPRAMo%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-3">04 å…³é”®æŠ€å·§ï¼šç»™ä¸€ä¸ªå‚è€ƒè®¾è®¡ï¼Œæ•ˆæœç›´æ¥èµ·é£</h2>
<p>äºæ˜¯æˆ‘æ¢äº†ä¸ªæ€è·¯â€”â€”æ‰¾äº†ä¸€ä¸ªè®¾è®¡é£æ ¼è®©å®ƒå‚è€ƒï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3fa297a293644bcfa30226688c28249e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770186668&amp;x-signature=Ua17XIufqUq0mwmRMOE3j5nAdNs%3D" alt="" loading="lazy"/></p>
<p>è¿™æ˜¯å®ƒå‚è€ƒåç»™æˆ‘è®¾è®¡çš„æ•ˆæœï¼Œ<strong>éå¸¸æƒŠè‰³ï¼š</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ec91653b7dfe4fa0b90a52caa6a58767~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770186668&amp;x-signature=%2FaCxrH%2FrIhlWHvuYT2aDZi0lnyY%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸ªå­¦ä¹ å‚è€ƒèƒ½åŠ›ï¼Œä¸è¾“ Geminiã€‚<strong>æ‰€ä»¥å…³é”®æŠ€å·§æ˜¯ï¼šåˆ«è®©å®ƒè‡ªå·±å‘æŒ¥ï¼Œç»™å®ƒä¸€ä¸ªä½ æƒ³è¦çš„è®¾è®¡é£æ ¼å‚è€ƒï¼Œæ•ˆæœä¼šå¥½å¾ˆå¤šã€‚</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/db1b50303ae0498ab285b2266627c0cf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770186668&amp;x-signature=%2B7PVKVzEWg1AJ6gyqRCgZCzL23s%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">05 æˆ‘çš„ç›´è§‚æ„Ÿå—</h2>
<p>K2.5 è®©æˆ‘çœ¼å‰ä¸€äº®çš„ç‚¹ï¼š</p>
<p>â€¢ <strong>âœ… å¤š Agent åä½œæ¨¡å¼</strong>ï¼šè‡ªåŠ¨æ‹†è§£ä»»åŠ¡ã€å¹¶è¡Œæ‰§è¡Œã€è§’è‰²åˆ†å·¥æ¸…æ™°</p>
<p>â€¢ <strong>âœ… è§†è§‰ç†è§£èƒ½åŠ›</strong>ï¼šå‚è€ƒå›¾å­¦ä¹ èƒ½åŠ›å¾ˆå¼º</p>
<p>â€¢ <strong>âš ï¸ é€»è¾‘ç¼–ç¨‹èƒ½åŠ›ï¼š</strong> è¿˜æ˜¯æµ·å¤–æ¨¡å‹æ›´ç¨³ä¸€äº›</p>
<h2 data-id="heading-5">å†™åœ¨æœ€å</h2>
<p>å„ä½ï¼Œæœ€è¿‘ AI ç•Œå‘ç”Ÿçš„ä¸€ç³»åˆ—å˜åŒ–ï¼Œ<strong>å¥‡ç‚¹çœŸçš„å·²ç»ä¸´è¿‘äº†ã€‚</strong></p>
<p>åƒåšç«™è¿™ç§äº‹æƒ…ï¼Œç°åœ¨åŸºæœ¬å¯ä»¥ä¸€æ­¥åˆ°ä½ã€‚ä»Šå¹´è¿˜ä¼šå‘å±•æˆä»€ä¹ˆæ ·ï¼ŒçœŸçš„ä¸æ•¢æƒ³è±¡ã€‚</p>
<p><strong>ä¸€å®šè¦è·Ÿä¸Šæ—¶ä»£ï¼Œå­¦ä¹ èµ·æ¥ã€‚</strong></p>
<hr/>
<p>ğŸš€ æƒ³è¦ä¸æ›´å¤šAIçˆ±å¥½è€…äº¤æµï¼Œå…±åŒæˆé•¿å—ï¼Ÿ</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FZ4k_5_waWJbRRo5lZBZmog" target="_blank" title="https://mp.weixin.qq.com/s/Z4k_5_waWJbRRo5lZBZmog" ref="nofollow noopener noreferrer">å’Œä¸€ç¾¤å¿—åŒé“åˆçš„äººï¼ŒæŒç»­ç²¾è¿› AI çš„æ¯ä¸€å¤©</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2-4.ã€Concurrencyã€‘Continuation æ˜¯ä»€ä¹ˆï¼Ÿä¸ async/await æœ‰ä½•å…³ç³»ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7599983917664714795</link>    <guid>https://juejin.cn/post/7599983917664714795</guid>    <pubDate>2026-01-28T06:11:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599983917664714795" data-draft-id="7599933828544315455" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2-4.ã€Concurrencyã€‘Continuation æ˜¯ä»€ä¹ˆï¼Ÿä¸ async/await æœ‰ä½•å…³ç³»ï¼Ÿ"/> <meta itemprop="keywords" content="Swift"/> <meta itemprop="datePublished" content="2026-01-28T06:11:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¡¹é˜¿ä¸‘"/> <meta itemprop="url" content="https://juejin.cn/user/1407852323023447"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2-4.ã€Concurrencyã€‘Continuation æ˜¯ä»€ä¹ˆï¼Ÿä¸ async/await æœ‰ä½•å…³ç³»ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1407852323023447/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¡¹é˜¿ä¸‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T06:11:27.000Z" title="Wed Jan 28 2026 06:11:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ Swiftï¼ˆä¹ƒè‡³æ•´ä¸ªå¹¶å‘ä¸–ç•Œï¼‰é‡Œï¼š</p>
<blockquote>
<p><strong>å¦‚æœä½ çœŸæ­£ç†è§£äº† continuationï¼Œä½ å°±ç†è§£äº† async/await çš„åº•å±‚æœ¬è´¨ã€‚</strong></p>
</blockquote>
<p>æˆ‘ä¼šæŒ‰ <strong>æ¦‚å¿µ â†’ Swift é‡Œçš„å…·ä½“å½¢æ€ â†’ ä¸ async/await çš„å…³ç³» â†’ å¸¸è§è¯¯åŒº</strong> æ¥è®²ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€å¥è¯å®šä¹‰ï¼ˆå…ˆåˆ»åœ¨è„‘å­é‡Œï¼‰</h2>
<blockquote>
<p><strong>Continuation =ã€Œä»å½“å‰ç‚¹å¼€å§‹ï¼Œç¨‹åºæ¥ä¸‹æ¥è¯¥æ€ä¹ˆç»§ç»­æ‰§è¡Œã€çš„ä¸€ä¸ªå¯ä¿å­˜ã€å¯ä¼ é€’ã€å¯ç¨åè°ƒç”¨çš„å¯¹è±¡ã€‚</strong></p>
</blockquote>
<p>æ¢å¥è¯è¯´ï¼š</p>
<blockquote>
<p>continuation å°±æ˜¯ <em>â€œæœªæ¥çš„è‡ªå·±â€</em> ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-1">1ï¸âƒ£ ç›´è§‚ç†è§£ï¼ˆä¸ç”¨æœ¯è¯­ï¼‰</h2>
<p>çœ‹è¿™æ®µä»£ç ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">let x = await <span class="hljs-built_in">foo</span>()
<span class="hljs-built_in">print</span>(x)
</code></pre>
<p>åœ¨ <code>await foo()</code> è¿™ä¸€è¡Œï¼š</p>
<ul>
<li>å½“å‰å‡½æ•°ä¸èƒ½ç»§ç»­å¾€ä¸‹è·‘</li>
<li>ä½†â€œç­‰ foo å®Œæˆä¹‹åè¯¥å¹²ä»€ä¹ˆâ€æ˜¯<strong>å®Œå…¨ç¡®å®šçš„</strong></li>
</ul>
<p>è¿™æ®µâ€œä¹‹åè¯¥å¹²ä»€ä¹ˆâ€çš„é€»è¾‘ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">print</span>(x)
</code></pre>
<p>ğŸ‘‰ <strong>è¿™å°±æ˜¯ä¸€ä¸ª continuation</strong></p>
<hr/>
<h2 data-id="heading-2">2ï¸âƒ£ continuation åœ¨ Swift ä¸­åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>åœ¨ Swift Concurrency é‡Œï¼Œcontinuation ä¸æ˜¯æŠ½è±¡æ¦‚å¿µï¼Œè€Œæ˜¯<strong>çœŸå®å­˜åœ¨çš„ä¸œè¥¿</strong>ï¼š</p>
<h3 data-id="heading-3">åœ¨ç¼–è¯‘å™¨ / runtime å±‚é¢</h3>
<p>continuation ç”±ä»¥ä¸‹å‡ éƒ¨åˆ†ç»„æˆï¼š</p>
<ol>
<li>
<p><strong>resume function</strong></p>
<ul>
<li>ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆ</li>
<li>æŒ‡å‘â€œawait ä¹‹åçš„ä»£ç å—â€</li>
</ul>
</li>
<li>
<p><strong>async context</strong></p>
<ul>
<li>ä¿å­˜å±€éƒ¨å˜é‡ã€çŠ¶æ€æœºçŠ¶æ€</li>
</ul>
</li>
<li>
<p><strong>executor ä¿¡æ¯</strong></p>
<ul>
<li>å†³å®šåœ¨å“ªé‡Œæ¢å¤æ‰§è¡Œ</li>
</ul>
</li>
</ol>
<p>åˆåœ¨ä¸€èµ·ï¼š</p>
<blockquote>
<p>continuation = <code>(async context + resume entry + executor)</code></p>
</blockquote>
<hr/>
<h2 data-id="heading-4">3ï¸âƒ£ async/await å’Œ continuation çš„å…³ç³»ï¼ˆæ ¸å¿ƒï¼‰</h2>
<h3 data-id="heading-5">â“ async/await åšäº†ä»€ä¹ˆï¼Ÿ</h3>
<blockquote>
<p><strong>async/await çš„æœ¬è´¨å°±æ˜¯ï¼š<br/>
æŠŠ continuation è‡ªåŠ¨ã€éšå¼åœ°å¸®ä½ åˆ›å»ºå’Œç®¡ç†äº†ã€‚</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-6">ä¸ç”¨ async/awaitï¼ˆæ‰‹å†™ continuationï¼‰</h3>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">func</span> <span class="hljs-selector-tag">foo</span>(_ <span class="hljs-attribute">cont</span>: <span class="hljs-variable">@escaping</span> (Int) -&gt; Void) {
    <span class="hljs-selector-tag">bar</span> { <span class="hljs-selector-tag">result</span> <span class="hljs-selector-tag">in</span>
        <span class="hljs-selector-tag">cont</span>(result + <span class="hljs-number">1</span>)
    }
}
</code></pre>
<p>ä½ åœ¨<strong>æ‰‹åŠ¨ä¼ é€’ continuation</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-7">ç”¨ async/await</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function">func <span class="hljs-title">foo</span>() <span class="hljs-keyword">async</span> -&gt; Int</span> {
    <span class="hljs-keyword">let</span> x = <span class="hljs-keyword">await</span> bar()
    <span class="hljs-keyword">return</span> x + <span class="hljs-number">1</span>
}
</code></pre>
<p>ç¼–è¯‘å™¨åœ¨èƒŒåè‡ªåŠ¨åšäº†ï¼š</p>
<ul>
<li>åˆ›å»º continuation</li>
<li>ä¿å­˜å½“å‰ä¸Šä¸‹æ–‡</li>
<li>æŠŠ continuation ä¼ ç»™ <code>bar</code></li>
<li>åœ¨åˆé€‚çš„ executor ä¸Š resume</li>
</ul>
<p>ğŸ‘‰ ä½ å†™çš„æ˜¯é¡ºåºä»£ç ï¼Œåº•å±‚ä»ç„¶æ˜¯ continuationã€‚</p>
<hr/>
<h2 data-id="heading-8">4ï¸âƒ£ <code>withUnsafeContinuation</code> æ˜¯ä»€ä¹ˆè§’è‰²ï¼Ÿ</h2>
<p>è¿™æ˜¯ Swift <strong>æš´éœ²ç»™ç”¨æˆ·çš„ continuation API</strong>ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function">func <span class="hljs-title">legacy</span>() <span class="hljs-keyword">async</span> -&gt; Int</span> {
    <span class="hljs-keyword">await</span> withCheckedContinuation { cont <span class="hljs-keyword">in</span>
        legacyAPI { <span class="hljs-keyword">value</span> <span class="hljs-keyword">in</span>
            cont.resume(returning: <span class="hljs-keyword">value</span>)
        }
    }
}
</code></pre>
<p>è¿™é‡Œï¼š</p>
<ul>
<li>
<p><code>cont</code> å°±æ˜¯<strong>å½“å‰ async å‡½æ•°çš„ continuation</strong></p>
</li>
<li>
<p>è°ƒç”¨ <code>resume</code>ï¼š</p>
<ul>
<li>å°±ç­‰äºâ€œè§¦å‘ await åé¢çš„ä»£ç ç»§ç»­æ‰§è¡Œâ€</li>
</ul>
</li>
</ul>
<p>âš ï¸ æ³¨æ„ï¼š</p>
<ul>
<li><code>resume</code> <strong>åªèƒ½è°ƒç”¨ä¸€æ¬¡</strong></li>
<li>å¦åˆ™ continuation ä¼šå´©ï¼ˆchecked ç‰ˆä¼šç›´æ¥ trapï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-9">5ï¸âƒ£ continuation ä¸â€œçŠ¶æ€æœºâ€çš„å…³ç³»</h2>
<blockquote>
<p>continuation â‰  çŠ¶æ€æœº<br/>
continuation = <strong>çŠ¶æ€æœºçš„ä¸€ä¸ªâ€œå…¥å£ç‚¹â€</strong></p>
</blockquote>
<ul>
<li>
<p>çŠ¶æ€æœºï¼š</p>
<ul>
<li>å†³å®šä½ ç°åœ¨åœ¨å“ªä¸ªçŠ¶æ€</li>
</ul>
</li>
<li>
<p>continuationï¼š</p>
<ul>
<li>æ˜¯â€œä»è¿™ä¸ªçŠ¶æ€ç»§ç»­è·‘â€çš„ callable handle</li>
</ul>
</li>
</ul>
<p>ä½ å¯ä»¥æŠŠå®ƒç†è§£ä¸ºï¼š</p>
<pre><code class="hljs language-ini" lang="ini">state machine + <span class="hljs-attr">continuation</span> = coroutine
</code></pre>
<hr/>
<h2 data-id="heading-10">6ï¸âƒ£ continuation ä¸çº¿ç¨‹çš„å…³ç³»ï¼ˆå¸¸è§è¯¯è§£ï¼‰</h2>
<h3 data-id="heading-11">âŒ é”™è¯¯ç†è§£</h3>
<blockquote>
<p>continuation = ä¿å­˜å½“å‰çº¿ç¨‹</p>
</blockquote>
<h3 data-id="heading-12">âœ… æ­£ç¡®ç†è§£</h3>
<blockquote>
<p>continuation <strong>ä¸ä¿å­˜çº¿ç¨‹</strong>ï¼Œåªä¿å­˜â€œé€»è¾‘ä¸Šçš„ä¸‹ä¸€æ­¥â€ã€‚</p>
</blockquote>
<ul>
<li>
<p>æ¢å¤æ—¶ï¼š</p>
<ul>
<li>å¯èƒ½åœ¨åŒä¸€ä¸ªçº¿ç¨‹</li>
<li>ä¹Ÿå¯èƒ½åœ¨å®Œå…¨ä¸åŒçš„çº¿ç¨‹</li>
</ul>
</li>
<li>
<p>çº¿ç¨‹ç”± executor å†³å®š</p>
</li>
</ul>
<hr/>
<h2 data-id="heading-13">7ï¸âƒ£ continuation åœ¨é”™è¯¯ã€å–æ¶ˆä¸­çš„ä½œç”¨</h2>
<h3 data-id="heading-14">é”™è¯¯ä¼ æ’­</h3>
<pre><code class="hljs language-scss" lang="scss">await <span class="hljs-built_in">foo</span>() <span class="hljs-comment">// throws</span>
</code></pre>
<ul>
<li>
<p>continuation åŒ…å«ï¼š</p>
<ul>
<li>normal resume</li>
<li>error resume</li>
</ul>
</li>
</ul>
<hr/>
<h3 data-id="heading-15">cancellation</h3>
<ul>
<li>
<p>task è¢«å–æ¶ˆæ—¶</p>
</li>
<li>
<p>runtime ä¼šï¼š</p>
<ul>
<li>æ‰¾åˆ° continuation</li>
<li>æ¢å¤æ‰§è¡Œ</li>
<li>æŠ›å‡º <code>CancellationError</code></li>
</ul>
</li>
</ul>
<hr/>
<h2 data-id="heading-16">8ï¸âƒ£ å’Œå…¶ä»–è¯­è¨€çš„å¯¹æ¯”ï¼ˆå¸®åŠ©å®šä½ï¼‰</h2>





























<table><thead><tr><th>è¯­è¨€</th><th>continuation è¡¨ç°</th></tr></thead><tbody><tr><td>Swift</td><td>éšå¼ + æ˜¾å¼ï¼ˆwithContinuationï¼‰</td></tr><tr><td>Kotlin</td><td><code>Continuation&lt;T&gt;</code> å‚æ•°</td></tr><tr><td>JS</td><td>Promise.then</td></tr><tr><td>C++20</td><td>coroutine_handle</td></tr><tr><td>Scheme</td><td>call/cc</td></tr></tbody></table>
<p>Swift çš„è®¾è®¡ç›®æ ‡æ˜¯ï¼š</p>
<blockquote>
<p><strong>è®© 99% çš„ continuation æ¶ˆå¤±åœ¨è¯­æ³•ç³–åé¢</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-17">9ï¸âƒ£ ç»ˆæè®°å¿†ç‰ˆæ€»ç»“</h2>
<blockquote>
<p><strong>Continuation æ˜¯â€œawait ä¹‹åè¦åšä»€ä¹ˆâ€çš„å¯æ‰§è¡Œè¡¨ç¤ºã€‚<br/>
async/await çš„å…¨éƒ¨é­”æ³•ï¼Œå°±æ˜¯æŠŠ continuation è‡ªåŠ¨ä¿å­˜ã€ä¼ é€’ã€æ¢å¤ã€‚</strong></p>
</blockquote>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C# æ“ä½œ XML å…¨æŒ‡å—ï¼šä»åŸºç¡€è¯»å†™åˆ°é«˜çº§æŠ€å·§ä¸€ç½‘æ‰“å°½]]></title>    <link>https://juejin.cn/post/7600002531397369865</link>    <guid>https://juejin.cn/post/7600002531397369865</guid>    <pubDate>2026-01-28T06:34:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600002531397369865" data-draft-id="7599951933594927114" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C# æ“ä½œ XML å…¨æŒ‡å—ï¼šä»åŸºç¡€è¯»å†™åˆ°é«˜çº§æŠ€å·§ä¸€ç½‘æ‰“å°½"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-28T06:34:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§é»„è¯„æµ‹"/> <meta itemprop="url" content="https://juejin.cn/user/714024404135696"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C# æ“ä½œ XML å…¨æŒ‡å—ï¼šä»åŸºç¡€è¯»å†™åˆ°é«˜çº§æŠ€å·§ä¸€ç½‘æ‰“å°½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/714024404135696/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§é»„è¯„æµ‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T06:34:54.000Z" title="Wed Jan 28 2026 06:34:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>åœ¨ .NET å¼€å‘ç”Ÿæ€ä¸­ï¼ŒXMLï¼ˆå¯æ‰©å±•æ ‡è®°è¯­è¨€ï¼‰è™½ä¸å¦‚ JSON é‚£èˆ¬â€œæ—¶é«¦â€ï¼Œä½†åœ¨é…ç½®æ–‡ä»¶ï¼ˆå¦‚ <code>app.config</code>ã€<code>.csproj</code>ï¼‰ã€æ•°æ®äº¤æ¢ã€é—ç•™ç³»ç»Ÿé›†æˆç­‰åœºæ™¯ä¸­ä¾ç„¶å¹¿æ³›å­˜åœ¨ã€‚C# æä¾›äº†å¤šç§æ–¹å¼æ“ä½œ XMLï¼Œä»ç®€å•å¿«æ·çš„ <code>XmlDocument</code> åˆ°ç°ä»£é«˜æ•ˆçš„ <code>XDocument</code>ï¼ˆLINQ to XMLï¼‰ï¼Œå†åˆ°åº•å±‚æµå¼å¤„ç†çš„ <code>XmlReader/XmlWriter</code>ã€‚</p>
<p>ç„¶è€Œï¼Œå¾ˆå¤šå¼€å‘è€…é¢å¯¹è¿™äº› API æ—¶å¸¸å¸¸æ„Ÿåˆ°å›°æƒ‘ï¼š</p>
<ul>
<li>è¯¥ç”¨å“ªç§æ–¹å¼ï¼Ÿ</li>
<li>æ€§èƒ½å¦‚ä½•ï¼Ÿ</li>
<li>å¦‚ä½•ä¼˜é›…åœ°å¢åˆ æ”¹æŸ¥ï¼Ÿ</li>
<li>æ€æ ·é¿å…å¸¸è§å‘ç‚¹ï¼Ÿ</li>
</ul>
<p>æœ¬æ–‡å°†å¸¦ä½ ç³»ç»Ÿæ¢³ç† C# æ“ä½œ XML çš„ä¸‰å¤§ä¸»æµæ–¹å¼ï¼Œç»“åˆå®æˆ˜ä»£ç ï¼Œä¸€æ¬¡è®²é€æ ¸å¿ƒç”¨æ³•ä¸æœ€ä½³å®è·µã€‚</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€ä¸‰ç§ä¸»æµ XML æ“ä½œæ–¹å¼æ¦‚è§ˆ</h2>





























<table><thead><tr><th>æ–¹å¼</th><th>ç±»å‹</th><th>ç‰¹ç‚¹</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>XmlDocument</strong></td><td>DOMï¼ˆæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼‰</td><td>è€ç‰Œ APIï¼Œ.NET Framework æ—©æœŸä¸»åŠ›</td><td>å°å‹æ–‡æ¡£ã€éœ€è¦å…¼å®¹æ—§é¡¹ç›®</td></tr><tr><td><strong>XDocument / XElement</strong></td><td>LINQ to XML</td><td>ç°ä»£ã€ç®€æ´ã€æ”¯æŒ LINQ æŸ¥è¯¢</td><td>æ¨èç”¨äºæ–°é¡¹ç›®</td></tr><tr><td><strong>XmlReader / XmlWriter</strong></td><td>æµå¼ï¼ˆSAX é£æ ¼ï¼‰</td><td>å†…å­˜å ç”¨ä½ã€åªè¯»/åªå†™ã€é«˜æ€§èƒ½</td><td>å¤§å‹ XML æ–‡ä»¶å¤„ç†</td></tr></tbody></table>
<blockquote>
<p>âœ… <strong>å»ºè®®</strong>ï¼šæ–°é¡¹ç›®ä¼˜å…ˆä½¿ç”¨ <code>XDocument</code>ï¼›è¶…å¤§æ–‡ä»¶ï¼ˆ&gt;100MBï¼‰è€ƒè™‘ <code>XmlReader</code>ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-2">äºŒã€XDocumentï¼šç°ä»£ C# æ“ä½œ XML çš„é¦–é€‰</h2>
<h3 data-id="heading-3">1. åˆ›å»º XML</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">var</span> doc = <span class="hljs-keyword">new</span> XDocument(
    <span class="hljs-keyword">new</span> XDeclaration(<span class="hljs-string">"1.0"</span>, <span class="hljs-string">"utf-8"</span>, <span class="hljs-string">"yes"</span>),
    <span class="hljs-keyword">new</span> XElement(<span class="hljs-string">"Books"</span>,
        <span class="hljs-keyword">new</span> XElement(<span class="hljs-string">"Book"</span>,
            <span class="hljs-keyword">new</span> XAttribute(<span class="hljs-string">"Id"</span>, <span class="hljs-string">"1"</span>),
            <span class="hljs-keyword">new</span> XElement(<span class="hljs-string">"Title"</span>, <span class="hljs-string">"C# in Depth"</span>),
            <span class="hljs-keyword">new</span> XElement(<span class="hljs-string">"Author"</span>, <span class="hljs-string">"Jon Skeet"</span>)
        )
    )
);

doc.Save(<span class="hljs-string">"books.xml"</span>);
</code></pre>
<h3 data-id="heading-4">2. è¯»å–ä¸æŸ¥è¯¢ï¼ˆLINQ å¼ºå¤§ä¹‹å¤„ï¼‰</h3>
<pre><code class="hljs language-ini" lang="ini">var <span class="hljs-attr">doc</span> = XDocument.Load(<span class="hljs-string">"books.xml"</span>)<span class="hljs-comment">;</span>

// æŸ¥è¯¢æ‰€æœ‰ä¹¦å
var <span class="hljs-attr">titles</span> = doc.Descendants(<span class="hljs-string">"Title"</span>)
                .Select(<span class="hljs-attr">t</span> =&gt; t.Value)
                .ToList()<span class="hljs-comment">;</span>

// æŸ¥è¯¢ <span class="hljs-attr">Id</span>=<span class="hljs-number">1</span> çš„ä¹¦
var <span class="hljs-attr">book</span> = doc.Descendants(<span class="hljs-string">"Book"</span>)
              .FirstOrDefault(<span class="hljs-attr">b</span> =&gt; b.Attribute(<span class="hljs-string">"Id"</span>)?.Value == <span class="hljs-string">"1"</span>)<span class="hljs-comment">;</span>

Console.WriteLine(book?.Element("Title")?.Value)<span class="hljs-comment">;</span>
</code></pre>
<h3 data-id="heading-5">3. ä¿®æ”¹ä¸åˆ é™¤</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ·»åŠ æ–°ä¹¦</span>
doc.<span class="hljs-property">Root</span>?.<span class="hljs-title class_">Add</span>(
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">XElement</span>(<span class="hljs-string">"Book"</span>,
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">XAttribute</span>(<span class="hljs-string">"Id"</span>, <span class="hljs-string">"2"</span>),
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">XElement</span>(<span class="hljs-string">"Title"</span>, <span class="hljs-string">"Effective C#"</span>),
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">XElement</span>(<span class="hljs-string">"Author"</span>, <span class="hljs-string">"Bill Wagner"</span>)
    )
);

<span class="hljs-comment">// åˆ é™¤æŸæœ¬ä¹¦</span>
<span class="hljs-keyword">var</span> bookToDelete = doc.<span class="hljs-title class_">Descendants</span>(<span class="hljs-string">"Book"</span>)
                      .<span class="hljs-title class_">FirstOrDefault</span>(<span class="hljs-function"><span class="hljs-params">b</span> =&gt;</span> b.<span class="hljs-title class_">Attribute</span>(<span class="hljs-string">"Id"</span>)?.<span class="hljs-property">Value</span> == <span class="hljs-string">"1"</span>);
bookToDelete?.<span class="hljs-title class_">Remove</span>();

doc.<span class="hljs-title class_">Save</span>(<span class="hljs-string">"books.xml"</span>);
</code></pre>
<blockquote>
<p>ğŸ’¡ <strong>ä¼˜åŠ¿</strong>ï¼šè¯­æ³•ç®€æ´ã€é“¾å¼è°ƒç”¨ã€å¤©ç„¶æ”¯æŒ LINQï¼Œä»£ç å¯è¯»æ€§æé«˜ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-6">ä¸‰ã€XmlDocumentï¼šç»å…¸ä½†ç•¥æ˜¾ç¬¨é‡</h2>
<p>è™½ç„¶ <code>XmlDocument</code> æ˜¯ .NET 1.0 æ—¶ä»£çš„äº§ç‰©ï¼Œä½†åœ¨ç»´æŠ¤è€ç³»ç»Ÿæ—¶ä»ä¼šé‡åˆ°ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">var <span class="hljs-attr">xmlDoc</span> = new XmlDocument()<span class="hljs-comment">;</span>
xmlDoc.Load("books.xml")<span class="hljs-comment">;</span>

// æŸ¥æ‰¾èŠ‚ç‚¹
XmlNode? <span class="hljs-attr">bookNode</span> = xmlDoc.SelectSingleNode(<span class="hljs-string">"//Book[@Id='1']"</span>)<span class="hljs-comment">;</span>
if (bookNode != null)
{
    var <span class="hljs-attr">title</span> = bookNode[<span class="hljs-string">"Title"</span>]?.InnerText<span class="hljs-comment">;</span>
    Console.WriteLine(title)<span class="hljs-comment">;</span>
}

// æ·»åŠ èŠ‚ç‚¹
XmlElement <span class="hljs-attr">newBook</span> = xmlDoc.CreateElement(<span class="hljs-string">"Book"</span>)<span class="hljs-comment">;</span>
newBook.SetAttribute("Id", "3")<span class="hljs-comment">;</span>
var <span class="hljs-attr">titleElem</span> = xmlDoc.CreateElement(<span class="hljs-string">"Title"</span>)<span class="hljs-comment">;</span>
<span class="hljs-attr">titleElem.InnerText</span> = <span class="hljs-string">"Pro C#"</span><span class="hljs-comment">;</span>
newBook.AppendChild(titleElem)<span class="hljs-comment">;</span>
xmlDoc.DocumentElement?.AppendChild(newBook)<span class="hljs-comment">;</span>

xmlDoc.Save("books.xml")<span class="hljs-comment">;</span>
</code></pre>
<blockquote>
<p>âš ï¸ <strong>ç¼ºç‚¹</strong>ï¼šAPI å†—é•¿ï¼Œéœ€é¢‘ç¹ç±»å‹è½¬æ¢ï¼Œä¸æ”¯æŒ LINQã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-7">å››ã€XmlReader / XmlWriterï¼šå¤„ç†å¤§å‹ XML çš„åˆ©å™¨</h2>
<p>å½“ XML æ–‡ä»¶è¾¾åˆ°æ•°ç™¾ MB ç”šè‡³ GB çº§åˆ«æ—¶ï¼ŒDOM æ–¹å¼ä¼šå› åŠ è½½æ•´ä¸ªæ–‡æ¡£åˆ°å†…å­˜è€Œå´©æºƒã€‚æ­¤æ—¶åº”ä½¿ç”¨æµå¼å¤„ç†ã€‚</p>
<h3 data-id="heading-8">ä½¿ç”¨ XmlReader é€èŠ‚ç‚¹è¯»å–</h3>
<pre><code class="hljs language-ini" lang="ini">using var <span class="hljs-attr">reader</span> = XmlReader.Create(<span class="hljs-string">"huge_file.xml"</span>)<span class="hljs-comment">;</span>
while (reader.Read())
{
    if (<span class="hljs-attr">reader.NodeType</span> == XmlNodeType.Element &amp;&amp; reader.Name == <span class="hljs-string">"Book"</span>)
    {
        // åªå¤„ç† Book èŠ‚ç‚¹ï¼Œä¸åŠ è½½å…¨æ–‡æ¡£
        var <span class="hljs-attr">id</span> = reader.GetAttribute(<span class="hljs-string">"Id"</span>)<span class="hljs-comment">;</span>
        // è¿›ä¸€æ­¥è§£æå­å…ƒç´ ï¼ˆå¯é…åˆ ReadSubtreeï¼‰
    }
}
</code></pre>
<h3 data-id="heading-9">ä½¿ç”¨ XmlWriter é«˜æ•ˆå†™å…¥</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> <span class="hljs-keyword">var</span> writer = XmlWriter.Create(<span class="hljs-string">"output.xml"</span>, <span class="hljs-keyword">new</span> XmlWriterSettings { Indent = <span class="hljs-literal">true</span> });
writer.WriteStartDocument();
writer.WriteStartElement(<span class="hljs-string">"Books"</span>);

writer.WriteStartElement(<span class="hljs-string">"Book"</span>);
writer.WriteAttributeString(<span class="hljs-string">"Id"</span>, <span class="hljs-string">"1"</span>);
writer.WriteElementString(<span class="hljs-string">"Title"</span>, <span class="hljs-string">"Clean Code"</span>);
writer.WriteEndElement(); <span class="hljs-comment">// Book</span>

writer.WriteEndElement(); <span class="hljs-comment">// Books</span>
writer.WriteEndDocument();
</code></pre>
<blockquote>
<p>âœ… <strong>ä¼˜åŠ¿</strong>ï¼šå†…å­˜å ç”¨æ’å®šï¼Œé€‚åˆå¤§æ•°æ®é‡åœºæ™¯ã€‚<br/>
âŒ <strong>ä»£ä»·</strong>ï¼šåªèƒ½é¡ºåºè¯»å†™ï¼Œæ— æ³•éšæœºè®¿é—®æˆ–ä¿®æ”¹å·²æœ‰å†…å®¹ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-10">äº”ã€å¸¸è§é™·é˜±ä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-11">1. å¿˜è®°å¤„ç†å‘½åç©ºé—´ï¼ˆNamespaceï¼‰</h3>
<p>XML å¸¦å‘½åç©ºé—´æ—¶ï¼Œç›´æ¥ç”¨ <code>Descendants("Name")</code> ä¼šæŸ¥ä¸åˆ°ï¼</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">book</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://example.com/books"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>C# Guide<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">book</span>&gt;</span>
</code></pre>
<p><strong>æ­£ç¡®åšæ³•</strong>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">XNamespace <span class="hljs-attr">ns</span> = <span class="hljs-string">"http://example.com/books"</span><span class="hljs-comment">;</span>
var <span class="hljs-attr">title</span> = doc.Descendants(ns + <span class="hljs-string">"title"</span>).First().Value<span class="hljs-comment">;</span>
</code></pre>
<h3 data-id="heading-12">2. å­—ç¬¦ç¼–ç é—®é¢˜</h3>
<p>ä¿å­˜ XML æ—¶æŒ‡å®šç¼–ç ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">doc.<span class="hljs-built_in">Save</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">StreamWriter</span>(<span class="hljs-string">"file.xml"</span>, <span class="hljs-literal">false</span>, Encoding.UTF8));
<span class="hljs-comment">// æˆ–ä½¿ç”¨ XDocument + SaveOptions</span>
</code></pre>
<h3 data-id="heading-13">3. å®‰å…¨æ€§ï¼šè­¦æƒ• XXE æ”»å‡»</h3>
<p>åœ¨è§£æä¸å—ä¿¡ä»»çš„ XML æ—¶ï¼ŒåŠ¡å¿…ç¦ç”¨ DTD å’Œå¤–éƒ¨å®ä½“ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">var <span class="hljs-attr">settings</span> = new XmlReaderSettings
{
    <span class="hljs-attr">DtdProcessing</span> = DtdProcessing.Prohibit,
    <span class="hljs-attr">XmlResolver</span> = null
}<span class="hljs-comment">;</span>
using var <span class="hljs-attr">reader</span> = XmlReader.Create(stream, settings)<span class="hljs-comment">;</span>
</code></pre>
<hr/>
<h2 data-id="heading-14">å…­ã€é€‰å‹å»ºè®®æ€»ç»“</h2>





























<table><thead><tr><th>éœ€æ±‚</th><th>æ¨èæ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>æ–°é¡¹ç›®ã€ä¸­å°å‹ XML</td><td>âœ… <code>XDocument</code>ï¼ˆLINQ to XMLï¼‰</td></tr><tr><td>ç»´æŠ¤è€ç³»ç»Ÿ</td><td>âš ï¸ <code>XmlDocument</code>ï¼ˆå…¼å®¹æ€§ä¼˜å…ˆï¼‰</td></tr><tr><td>è¶…å¤§æ–‡ä»¶ï¼ˆ&gt;100MBï¼‰</td><td>ğŸ”¥ <code>XmlReader</code> / <code>XmlWriter</code></td></tr><tr><td>éœ€è¦é«˜æ€§èƒ½åªè¯»è§£æ</td><td><code>XmlReader</code></td></tr><tr><td>éœ€è¦å¤æ‚æŸ¥è¯¢å’ŒåŠ¨æ€æ„å»º</td><td><code>XDocument</code></td></tr></tbody></table>
<hr/>
<h2 data-id="heading-15">ç»“è¯­</h2>
<p>C# å¯¹ XML çš„æ”¯æŒå†ç»å¤šå¹´æ¼”è¿›ï¼Œå·²å½¢æˆä¸€å¥—å®Œæ•´ã€çµæ´»ä¸”é«˜æ•ˆçš„å·¥å…·é“¾ã€‚æŒæ¡ <code>XDocument</code> çš„ç°ä»£ç”¨æ³•ï¼Œäº†è§£ <code>XmlDocument</code> çš„å†å²èƒŒæ™¯ï¼Œç†Ÿæ‚‰ <code>XmlReader</code> çš„æ€§èƒ½ä¼˜åŠ¿ï¼Œä½ å°±èƒ½åœ¨ä»»ä½• XML åœºæ™¯ä¸‹æ¸¸åˆƒæœ‰ä½™ã€‚</p>
<p>è®°ä½ï¼š<strong>æ²¡æœ‰â€œæœ€å¥½â€çš„ APIï¼Œåªæœ‰â€œæœ€åˆé€‚â€çš„é€‰æ‹©</strong>ã€‚æ ¹æ®ä½ çš„æ•°æ®è§„æ¨¡ã€æ€§èƒ½è¦æ±‚å’Œç»´æŠ¤æˆæœ¬ï¼Œåšå‡ºæ˜æ™ºå†³ç­–ï¼Œæ‰æ˜¯ä¸“ä¸šå¼€å‘è€…çš„æ ‡å¿—ã€‚</p>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« å¸®ä½ å½»åº•ç†æ¸… C# æ“ä½œ XML çš„è„‰ç»œï¼å¦‚éœ€å®Œæ•´ç¤ºä¾‹é¡¹ç›®æˆ–ä¸ JSON è½¬æ¢å¯¹æ¯”ï¼Œæ¬¢è¿ç»§ç»­æé—®ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[FastAPI é«˜å¹¶å‘åˆ©å™¨ï¼šRedis ç¼“å­˜ç­–ç•¥ä¸åˆ†å¸ƒå¼é”å®æˆ˜ç²¾è§£]]></title>    <link>https://juejin.cn/post/7600002531397419017</link>    <guid>https://juejin.cn/post/7600002531397419017</guid>    <pubDate>2026-01-28T06:39:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600002531397419017" data-draft-id="7599975633477550118" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="FastAPI é«˜å¹¶å‘åˆ©å™¨ï¼šRedis ç¼“å­˜ç­–ç•¥ä¸åˆ†å¸ƒå¼é”å®æˆ˜ç²¾è§£"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-28T06:39:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§å°šæ¥ä¹Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/1681597639955488"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            FastAPI é«˜å¹¶å‘åˆ©å™¨ï¼šRedis ç¼“å­˜ç­–ç•¥ä¸åˆ†å¸ƒå¼é”å®æˆ˜ç²¾è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1681597639955488/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§å°šæ¥ä¹Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T06:39:08.000Z" title="Wed Jan 28 2026 06:39:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>FastAPI é«˜å¹¶å‘åˆ©å™¨ï¼šRedis ç¼“å­˜ç­–ç•¥ä¸åˆ†å¸ƒå¼é”å®æˆ˜ç²¾è§£</strong></p>
<h2 data-id="heading-0">å¼•è¨€</h2>
<p>åœ¨é«˜å¹¶å‘ Web åº”ç”¨ä¸­ï¼Œæ•°æ®åº“å¾€å¾€æ˜¯æ€§èƒ½ç“¶é¢ˆã€‚ä¸ºæå‡å“åº”é€Ÿåº¦ã€é™ä½åç«¯è´Ÿè½½ï¼Œç¼“å­˜æˆä¸ºä¸å¯æˆ–ç¼ºçš„ä¸€ç¯ã€‚è€Œå½“å¤šä¸ªæœåŠ¡å®ä¾‹åŒæ—¶è¿è¡Œï¼ˆå¦‚å¾®æœåŠ¡ã€å¤šå‰¯æœ¬éƒ¨ç½²ï¼‰æ—¶ï¼Œåè°ƒèµ„æºè®¿é—®åˆå¼•å‡ºäº†â€œåˆ†å¸ƒå¼é”â€çš„éœ€æ±‚ã€‚</p>
<p>FastAPI ä½œä¸ºç°ä»£é«˜æ€§èƒ½ Python Web æ¡†æ¶ï¼Œå¤©ç„¶é€‚åˆæ„å»ºé«˜åå APIï¼›è€Œ Redis å‡­å€Ÿå…¶å†…å­˜å­˜å‚¨ã€ä¸°å¯Œæ•°æ®ç»“æ„å’ŒåŸå­æ“ä½œï¼Œæˆä¸ºç¼“å­˜ä¸åˆ†å¸ƒå¼åè°ƒçš„é¦–é€‰ä¸­é—´ä»¶ã€‚</p>
<p>æœ¬æ–‡å°†å¸¦ä½ ä»é›¶å¼€å§‹ï¼Œåœ¨ FastAPI é¡¹ç›®ä¸­ï¼š</p>
<ul>
<li>é›†æˆ Redis å®ç°é«˜æ•ˆç¼“å­˜ï¼›</li>
<li>è®¾è®¡åˆç†çš„ç¼“å­˜æ›´æ–°ç­–ç•¥ï¼›</li>
<li>ä½¿ç”¨ Redis å®ç°å¯é çš„åˆ†å¸ƒå¼é”ï¼›</li>
<li>é¿å¼€å¸¸è§é™·é˜±ï¼Œå†™å‡ºç”Ÿäº§çº§ä»£ç ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-1">ä¸€ã€ä¸ºä»€ä¹ˆé€‰æ‹© Redis + FastAPIï¼Ÿ</h2>

















<table><thead><tr><th>æŠ€æœ¯</th><th>ä¼˜åŠ¿</th></tr></thead><tbody><tr><td><strong>FastAPI</strong></td><td>å¼‚æ­¥æ”¯æŒã€è‡ªåŠ¨æ–‡æ¡£ã€ç±»å‹å®‰å…¨ã€é«˜æ€§èƒ½</td></tr><tr><td><strong>Redis</strong></td><td>äºšæ¯«ç§’çº§å“åº”ã€æ”¯æŒ TTLã€åŸå­å‘½ä»¤ã€Lua è„šæœ¬ã€é›†ç¾¤æ‰©å±•</td></tr></tbody></table>
<p>äºŒè€…ç»“åˆï¼Œå¯è½»æ¾åº”å¯¹ï¼š</p>
<ul>
<li>çƒ­ç‚¹æ•°æ®é¢‘ç¹è¯»å–ï¼ˆå¦‚ç”¨æˆ·èµ„æ–™ã€å•†å“ä¿¡æ¯ï¼‰ï¼›</li>
<li>é˜²æ­¢ç¼“å­˜å‡»ç©¿/é›ªå´©ï¼›</li>
<li>åˆ†å¸ƒå¼ç¯å¢ƒä¸‹çš„å¹‚ç­‰æ“ä½œï¼ˆå¦‚è®¢å•åˆ›å»ºã€æ”¯ä»˜å›è°ƒï¼‰ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-2">äºŒã€FastAPI ä¸­é›†æˆ Redis</h2>
<h3 data-id="heading-3">1. å®‰è£…ä¾èµ–</h3>
<pre><code class="hljs language-python" lang="python">pip install fastapi[<span class="hljs-built_in">all</span>] redis <span class="hljs-keyword">async</span>-timeout
</code></pre>
<blockquote>
<p>æ¨èä½¿ç”¨ <code>redis.asyncio</code>ï¼ˆåŸ <code>aioredis</code> å·²åˆå¹¶è¿›å®˜æ–¹åº“ï¼‰ã€‚</p>
</blockquote>
<h3 data-id="heading-4">2. åˆå§‹åŒ– Redis è¿æ¥æ± ï¼ˆæ¨èæ–¹å¼ï¼‰</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># redis_client.py</span>
from redis.asyncio import Redis

<span class="hljs-attr">redis_client</span> = Redis(
    <span class="hljs-attr">host</span>=<span class="hljs-string">"localhost"</span>,
    <span class="hljs-attr">port</span>=<span class="hljs-number">6379</span>,
    <span class="hljs-attr">db</span>=<span class="hljs-number">0</span>,
    <span class="hljs-attr">decode_responses</span>=<span class="hljs-literal">True</span>,  <span class="hljs-comment"># è‡ªåŠ¨è§£ç  bytes ä¸º str</span>
    <span class="hljs-attr">max_connections</span>=<span class="hljs-number">20</span>
)
</code></pre>
<h3 data-id="heading-5">3. åœ¨ FastAPI åº”ç”¨ä¸­ç®¡ç†ç”Ÿå‘½å‘¨æœŸ</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># main.py</span>
<span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> FastAPI
<span class="hljs-keyword">from</span> contextlib <span class="hljs-keyword">import</span> asynccontextmanager
<span class="hljs-keyword">from</span> redis_client <span class="hljs-keyword">import</span> redis_client

<span class="hljs-meta">@asynccontextmanager</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">lifespan</span>(<span class="hljs-params">app: FastAPI</span>):
    <span class="hljs-comment"># å¯åŠ¨æ—¶è¿æ¥ Redis</span>
    <span class="hljs-keyword">await</span> redis_client.ping()
    <span class="hljs-keyword">yield</span>
    <span class="hljs-comment"># å…³é—­è¿æ¥</span>
    <span class="hljs-keyword">await</span> redis_client.close()

app = FastAPI(lifespan=lifespan)
</code></pre>
<hr/>
<h2 data-id="heading-6">ä¸‰ã€å®ç°é€šç”¨ç¼“å­˜è£…é¥°å™¨</h2>
<p>ç›®æ ‡ï¼šå¯¹ä»»æ„å¼‚æ­¥å‡½æ•°ç»“æœè¿›è¡Œç¼“å­˜ï¼Œæ”¯æŒ TTL å’ŒåŠ¨æ€ keyã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> functools
<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Any</span>, <span class="hljs-type">Callable</span>, Awaitable

<span class="hljs-keyword">def</span> <span class="hljs-title function_">cache</span>(<span class="hljs-params">ttl: <span class="hljs-built_in">int</span> = <span class="hljs-number">60</span></span>):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">decorator</span>(<span class="hljs-params">func: <span class="hljs-type">Callable</span>[..., Awaitable[<span class="hljs-type">Any</span>]]</span>):
<span class="hljs-meta">        @functools.wraps(<span class="hljs-params">func</span>)</span>
        <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">wrapper</span>(<span class="hljs-params">*args, **kwargs</span>):
            <span class="hljs-comment"># æ„é€ ç¼“å­˜ keyï¼ˆå¯æ ¹æ®ä¸šåŠ¡è°ƒæ•´ï¼‰</span>
            key_parts = [func.__name__] + <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">str</span>, args)) + [<span class="hljs-string">f"<span class="hljs-subst">{k}</span>=<span class="hljs-subst">{v}</span>"</span> <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> <span class="hljs-built_in">sorted</span>(kwargs.items())]
            cache_key = <span class="hljs-string">":"</span>.join(key_parts)

            <span class="hljs-comment"># å°è¯•è¯»ç¼“å­˜</span>
            cached = <span class="hljs-keyword">await</span> redis_client.get(cache_key)
            <span class="hljs-keyword">if</span> cached <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:
                <span class="hljs-keyword">return</span> json.loads(cached)

            <span class="hljs-comment"># æ‰§è¡ŒåŸå‡½æ•°</span>
            result = <span class="hljs-keyword">await</span> func(*args, **kwargs)

            <span class="hljs-comment"># å†™å…¥ç¼“å­˜</span>
            <span class="hljs-keyword">await</span> redis_client.setex(cache_key, ttl, json.dumps(result, default=<span class="hljs-built_in">str</span>))
            <span class="hljs-keyword">return</span> result
        <span class="hljs-keyword">return</span> wrapper
    <span class="hljs-keyword">return</span> decorator
</code></pre>
<h3 data-id="heading-7">ä½¿ç”¨ç¤ºä¾‹</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/user/{user_id}"</span></span>)</span>
<span class="hljs-meta">@cache(<span class="hljs-params">ttl=<span class="hljs-number">300</span></span>)  </span><span class="hljs-comment"># ç¼“å­˜5åˆ†é’Ÿ</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_user</span>(<span class="hljs-params">user_id: <span class="hljs-built_in">int</span></span>):
    <span class="hljs-comment"># æ¨¡æ‹Ÿæ•°æ®åº“æŸ¥è¯¢</span>
    user = {<span class="hljs-string">"id"</span>: user_id, <span class="hljs-string">"name"</span>: <span class="hljs-string">"Alice"</span>, <span class="hljs-string">"email"</span>: <span class="hljs-string">"alice@example.com"</span>}
    <span class="hljs-keyword">return</span> user
</code></pre>
<blockquote>
<p>âœ… æ”¯æŒä»»æ„å¯ JSON åºåˆ—åŒ–çš„è¿”å›å€¼<br/>
âš ï¸ æ³¨æ„ï¼šé¿å…ç¼“å­˜æ•æ„Ÿæ•°æ®æˆ–é«˜é¢‘å˜åŒ–æ•°æ®</p>
</blockquote>
<hr/>
<h2 data-id="heading-8">å››ã€ç¼“å­˜ç­–ç•¥è¿›é˜¶ï¼šé˜²æ­¢å‡»ç©¿ä¸é›ªå´©</h2>
<h3 data-id="heading-9">1. ç¼“å­˜å‡»ç©¿ï¼ˆå•ä¸ªçƒ­ç‚¹ key å¤±æ•ˆç¬é—´å¤§é‡è¯·æ±‚æ‰“åˆ° DBï¼‰</h3>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šä½¿ç”¨äº’æ–¥é”ï¼ˆmutex lockï¼‰é‡å»ºç¼“å­˜</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_user_safe</span>(<span class="hljs-params">user_id: <span class="hljs-built_in">int</span></span>):
    cache_key = <span class="hljs-string">f"user:<span class="hljs-subst">{user_id}</span>"</span>
    user = <span class="hljs-keyword">await</span> redis_client.get(cache_key)
    <span class="hljs-keyword">if</span> user:
        <span class="hljs-keyword">return</span> json.loads(user)

    <span class="hljs-comment"># å°è¯•è·å–é‡å»ºé”</span>
    lock_key = <span class="hljs-string">f"lock:<span class="hljs-subst">{cache_key}</span>"</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">await</span> redis_client.<span class="hljs-built_in">set</span>(lock_key, <span class="hljs-string">"1"</span>, nx=<span class="hljs-literal">True</span>, ex=<span class="hljs-number">10</span>):  <span class="hljs-comment"># 10ç§’è¿‡æœŸ</span>
        <span class="hljs-keyword">try</span>:
            <span class="hljs-comment"># é‡å»ºç¼“å­˜</span>
            user_data = <span class="hljs-keyword">await</span> fetch_from_db(user_id)  <span class="hljs-comment"># ä½ çš„æ•°æ®åº“é€»è¾‘</span>
            <span class="hljs-keyword">await</span> redis_client.setex(cache_key, <span class="hljs-number">300</span>, json.dumps(user_data))
            <span class="hljs-keyword">return</span> user_data
        <span class="hljs-keyword">finally</span>:
            <span class="hljs-keyword">await</span> redis_client.delete(lock_key)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-comment"># ç­‰å¾…å…¶ä»–çº¿ç¨‹é‡å»ºï¼ŒçŸ­æš‚ç­‰å¾…åé‡è¯•ï¼ˆæˆ–è¿”å›æ—§æ•°æ®/é»˜è®¤å€¼ï¼‰</span>
        <span class="hljs-keyword">await</span> asyncio.sleep(<span class="hljs-number">0.1</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> get_user_safe(user_id)  <span class="hljs-comment"># é€’å½’é‡è¯•ï¼ˆæ³¨æ„æ·±åº¦ï¼‰</span>
</code></pre>
<h3 data-id="heading-10">2. ç¼“å­˜é›ªå´©ï¼ˆå¤§é‡ key åŒæ—¶å¤±æ•ˆï¼‰</h3>
<p><strong>å¯¹ç­–</strong>ï¼š</p>
<ul>
<li>è®¾ç½®éšæœº TTLï¼š<code>ttl = base_ttl + random.randint(0, 60)</code></li>
<li>çƒ­ç‚¹æ•°æ®æ°¸ä¸è¿‡æœŸï¼Œåå°å®šæ—¶åˆ·æ–°</li>
</ul>
<hr/>
<h2 data-id="heading-11">äº”ã€åˆ†å¸ƒå¼é”ï¼šä¿éšœè·¨å®ä¾‹æ“ä½œä¸€è‡´æ€§</h2>
<p>åœºæ™¯ï¼šé˜²æ­¢é‡å¤ä¸‹å•ã€é™åˆ¶å¹¶å‘ä»»åŠ¡ã€å¹‚ç­‰æ¥å£ã€‚</p>
<h3 data-id="heading-12">åŸºäº Redis çš„å¯é åˆ†å¸ƒå¼é”ï¼ˆRedlock ç®€åŒ–ç‰ˆï¼‰</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> time
<span class="hljs-keyword">import</span> uuid

<span class="hljs-keyword">class</span> <span class="hljs-title class_">DistributedLock</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, redis, lock_name: <span class="hljs-built_in">str</span>, timeout: <span class="hljs-built_in">int</span> = <span class="hljs-number">10</span></span>):
        self.redis = redis
        self.lock_name = <span class="hljs-string">f"lock:<span class="hljs-subst">{lock_name}</span>"</span>
        self.timeout = timeout
        self.identifier = <span class="hljs-built_in">str</span>(uuid.uuid4())

    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">acquire</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">bool</span>:
        <span class="hljs-string">"""å°è¯•è·å–é”"""</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> self.redis.<span class="hljs-built_in">set</span>(
            self.lock_name,
            self.identifier,
            nx=<span class="hljs-literal">True</span>,      <span class="hljs-comment"># ä»…å½“ key ä¸å­˜åœ¨æ—¶è®¾ç½®</span>
            ex=self.timeout  <span class="hljs-comment"># è‡ªåŠ¨è¿‡æœŸï¼Œé˜²æ­»é”</span>
        )

    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">release</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">bool</span>:
        <span class="hljs-string">"""å®‰å…¨é‡Šæ”¾é”ï¼ˆéœ€æ ¡éªŒ ownerï¼‰"""</span>
        lua_script = <span class="hljs-string">"""
        if redis.call("get", KEYS[1]) == ARGV[1] then
            return redis.call("del", KEYS[1])
        else
            return 0
        end
        """</span>
        result = <span class="hljs-keyword">await</span> self.redis.<span class="hljs-built_in">eval</span>(lua_script, <span class="hljs-number">1</span>, self.lock_name, self.identifier)
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">bool</span>(result)
</code></pre>
<h3 data-id="heading-13">åœ¨ FastAPI ä¸­ä½¿ç”¨</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">@app.post(<span class="hljs-params"><span class="hljs-string">"/order/create"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">create_order</span>(<span class="hljs-params">user_id: <span class="hljs-built_in">int</span>, item_id: <span class="hljs-built_in">int</span></span>):
    lock = DistributedLock(redis_client, <span class="hljs-string">f"order:<span class="hljs-subst">{user_id}</span>:<span class="hljs-subst">{item_id}</span>"</span>)
    
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">await</span> lock.acquire():
        <span class="hljs-keyword">raise</span> HTTPException(status_code=<span class="hljs-number">429</span>, detail=<span class="hljs-string">"è¯·æ±‚å¤ªé¢‘ç¹ï¼Œè¯·ç¨åå†è¯•"</span>)

    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># æ‰§è¡Œä¸‹å•é€»è¾‘ï¼ˆæŸ¥åº“å­˜ã€æ‰£å‡ã€å†™è®¢å•ï¼‰</span>
        order = <span class="hljs-keyword">await</span> process_order(user_id, item_id)
        <span class="hljs-keyword">return</span> order
    <span class="hljs-keyword">finally</span>:
        <span class="hljs-keyword">await</span> lock.release()  <span class="hljs-comment"># ç¡®ä¿é‡Šæ”¾</span>
</code></pre>
<blockquote>
<p>ğŸ”’ <strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨å”¯ä¸€æ ‡è¯†ç¬¦é˜²æ­¢è¯¯åˆ ä»–äººé”ï¼›</li>
<li>Lua è„šæœ¬ä¿è¯â€œåˆ¤æ–­+åˆ é™¤â€åŸå­æ€§ï¼›</li>
<li>è®¾ç½®åˆç†è¶…æ—¶æ—¶é—´ï¼Œé¿å…æ­»é”ã€‚</li>
</ul>
</blockquote>
<hr/>
<h2 data-id="heading-14">å…­ã€ç”Ÿäº§ç¯å¢ƒæ³¨æ„äº‹é¡¹</h2>
<ol>
<li><strong>è¿æ¥å¤ç”¨</strong>ï¼šå§‹ç»ˆä½¿ç”¨è¿æ¥æ± ï¼Œé¿å…é¢‘ç¹åˆ›å»ºè¿æ¥ã€‚</li>
<li><strong>å¼‚å¸¸å¤„ç†</strong>ï¼šRedis ä¸å¯ç”¨æ—¶åº”é™çº§ï¼ˆå¦‚ç›´è¿ DBï¼‰ï¼Œé¿å…æœåŠ¡å®Œå…¨ä¸å¯ç”¨ã€‚</li>
<li><strong>ç›‘æ§ç¼“å­˜å‘½ä¸­ç‡</strong>ï¼šé€šè¿‡æ—¥å¿—æˆ–æŒ‡æ ‡ï¼ˆå¦‚ Prometheusï¼‰è§‚å¯Ÿ <code>hit/miss</code> æ¯”ä¾‹ã€‚</li>
<li><strong>åºåˆ—åŒ–å®‰å…¨</strong>ï¼šé¿å…ç¼“å­˜ä¸å¯ä¿¡æ•°æ®ï¼Œé˜²æ­¢ååºåˆ—åŒ–æ¼æ´ã€‚</li>
<li><strong>é”ç²’åº¦</strong>ï¼šé”è¶Šç»†ï¼Œå¹¶å‘è¶Šé«˜ï¼Œä½†ç®¡ç†æˆæœ¬ä¸Šå‡â€”â€”æŒ‰ä¸šåŠ¡æƒè¡¡ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-15">ç»“è¯­</h2>
<p>Redis ä¸ FastAPI çš„ç»„åˆï¼Œæ˜¯æ„å»ºé«˜æ€§èƒ½ã€é«˜å¯ç”¨ Web æœåŠ¡çš„é»„é‡‘æ­æ¡£ã€‚é€šè¿‡åˆç†ä½¿ç”¨ç¼“å­˜ï¼Œå¯æ˜¾è‘—æå‡ç³»ç»Ÿååï¼›å€ŸåŠ©åˆ†å¸ƒå¼é”ï¼Œèƒ½åœ¨å¤šå®ä¾‹ç¯å¢ƒä¸‹ä¿éšœæ•°æ®ä¸€è‡´æ€§ã€‚</p>
<p>ä½†æŠ€æœ¯æ²¡æœ‰é“¶å¼¹â€”â€”ç¼“å­˜å¸¦æ¥å¤æ‚æ€§ï¼Œé”å¼•å…¥æ€§èƒ½å¼€é”€ã€‚<strong>çœŸæ­£çš„é«˜æ‰‹ï¼Œä¸æ˜¯ä¼šç”¨å·¥å…·ï¼Œè€Œæ˜¯çŸ¥é“ä½•æ—¶ç”¨ã€æ€ä¹ˆç”¨ã€ä»¥åŠä¸ç”¨</strong>ã€‚</p>
<p>æŒæ¡æœ¬æ–‡æ‰€è®²çš„æ¨¡å¼ä¸åŸåˆ™ï¼Œä½ å·²å…·å¤‡åœ¨çœŸå®é¡¹ç›®ä¸­é©¾é©­ Redis ä¸ FastAPI çš„èƒ½åŠ›ã€‚ä¸‹ä¸€æ­¥ï¼Œä¸å¦¨å°è¯•ç»“åˆ Celery åšå¼‚æ­¥ç¼“å­˜é¢„çƒ­ï¼Œæˆ–ç”¨ Redis Streams å®ç°äº‹ä»¶é©±åŠ¨æ¶æ„ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é…ç½®å¦‚æ­¤ç®€å•ï¼Œæˆ‘çš„github ci cdã€‚]]></title>    <link>https://juejin.cn/post/7599970244787404863</link>    <guid>https://juejin.cn/post/7599970244787404863</guid>    <pubDate>2026-01-28T06:29:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599970244787404863" data-draft-id="7599845683122290728" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é…ç½®å¦‚æ­¤ç®€å•ï¼Œæˆ‘çš„github ci cdã€‚"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-28T06:29:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ±Ÿæ¹–æ–‡äºº"/> <meta itemprop="url" content="https://juejin.cn/user/3044986347066480"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é…ç½®å¦‚æ­¤ç®€å•ï¼Œæˆ‘çš„github ci cdã€‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3044986347066480/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ±Ÿæ¹–æ–‡äºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T06:29:14.000Z" title="Wed Jan 28 2026 06:29:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><pre><code class="hljs language-yml" lang="yml"><span class="hljs-attr">on:</span> <span class="hljs-string">push</span>

<span class="hljs-attr">jobs:</span>
  <span class="hljs-attr">npm-build:</span>
    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span>
    <span class="hljs-attr">steps:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v4</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">run:</span> <span class="hljs-string">npm</span> <span class="hljs-string">install</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">run:</span> <span class="hljs-string">npm</span> <span class="hljs-string">run</span> <span class="hljs-string">build</span>
</code></pre>
<p>å¦‚æœæ€•ä¹±ï¼Œæœ€åè¿˜æ˜¯ä¼šå†™nameä½œä¸ºå¤‡æ³¨ï¼š</p>
<pre><code class="hljs language-yml" lang="yml"><span class="hljs-attr">name:</span> <span class="hljs-string">æ‰“åŒ…Reacté¡¹ç›®</span>

<span class="hljs-attr">on:</span> <span class="hljs-string">push</span>

<span class="hljs-attr">jobs:</span>
  <span class="hljs-attr">npm-build:</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">npm-buildå·¥ä½œ</span>
    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span>
    
    <span class="hljs-attr">steps:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">è¯»å–ä»“åº“å†…å®¹</span>
      <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v4</span>
    
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">å®‰è£…ä¾èµ–</span>
      <span class="hljs-attr">run:</span> <span class="hljs-string">npm</span> <span class="hljs-string">install</span>
    
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">é¡¹ç›®æ‰“åŒ…</span>
      <span class="hljs-attr">run:</span> <span class="hljs-string">npm</span> <span class="hljs-string">run</span> <span class="hljs-string">build</span>
</code></pre>
<p>å°±æ˜¯è¿™æ ·ï¼Œå…ˆå†™nameï¼Œå†æŒ‡å®šå…·ä½“æ­¥éª¤æ‰§è¡Œçš„å†…å®¹ã€‚</p>
<p>å¦‚æœè‡ªåŠ¨åŒ–ç”Ÿæˆdockeré•œåƒï¼Œå¹¶ä¸”æ¨é€åˆ°dockerä»“åº“é‡Œï¼Œè¿™é‡Œåœ¨åˆšæ‰çš„é¡¹ç›®æ–‡ä»¶å¤¹é‡Œé¢åˆ›å»ºäº†ä¸€ä¸ªDockerfileï¼Œå¹¶ä¸”å†™ä¸€äº›åˆ›å»ºé•œåƒçš„åŸºæœ¬æ“ä½œï¼Œæ¥ç€æ¥åˆ°Docker hubæ–°å»ºä¸€ä¸ªä»“åº“ï¼Œæ¯•ç«Ÿç­‰ä¼šè¦å‘Šè¯‰actionsè¦æ¨åˆ°å“ªä¸ªä»“åº“ã€‚</p>
<p>æ¥ç€åˆ°æˆ‘çš„è´¦æˆ·é‡Œé¢ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/14fdbfd9b51f494d9b5ca907f7125919~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rGf5rmW5paH5Lq6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770186554&amp;x-signature=haio9JVn73mi3E%2FgR2GztJkgpBA%3D" alt="image.png" loading="lazy"/></p>
<p>æ‰¾åˆ°å®‰å…¨securityé€‰é¡¹ï¼Œæ–°å»ºä¸€ä¸ªtokenï¼Œ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2317687805f045fb8c103121ca76429d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rGf5rmW5paH5Lq6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770186554&amp;x-signature=TMxaWwsuDBUYD08wTIHcrfInDCQ%3D" alt="image.png" loading="lazy"/></p>
<p>å› ä¸ºæŠŠé•œåƒæ¨é€åˆ°è¿™ä¸ªä»“åº“æ˜¯éœ€è¦æƒé™çš„ï¼Œå›åˆ°yamlæ–‡ä»¶ï¼Œ</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">name:</span> <span class="hljs-string">æ‰“åŒ…Reacté¡¹ç›®</span>
<span class="hljs-attr">on:</span> <span class="hljs-string">push</span>

<span class="hljs-attr">permissions:</span>
  <span class="hljs-attr">contents:</span> <span class="hljs-string">write</span>

<span class="hljs-attr">jobs:</span>
  <span class="hljs-attr">npm-build:</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">npm-buildå·¥ä½œ</span>
    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span>
    
    <span class="hljs-attr">steps:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">è¯»å–ä»“åº“å†…å®¹</span>
      <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v4</span>
      
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">å®‰è£…ä¾èµ–å’Œé¡¹ç›®æ‰“åŒ…</span>
      <span class="hljs-attr">run:</span> <span class="hljs-string">|
        npm install
        npm run build
</span>        
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">éƒ¨ç½²</span>
      <span class="hljs-attr">uses:</span> <span class="hljs-string">JamesIves/github-pages-deploy-action@v4</span>
      <span class="hljs-attr">with:</span>
        <span class="hljs-attr">branch:</span> <span class="hljs-string">gh-pages</span>
        <span class="hljs-attr">folder:</span> <span class="hljs-string">build</span>
</code></pre>
<p>é¦–å…ˆä¿®æ”¹ä¸€ä¸‹nameï¼Œå› ä¸ºå’Œåˆšæ‰çš„å·¥ä½œä¸å¤ªä¸€æ ·ï¼Œ</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">name:</span> <span class="hljs-string">æ„å»ºé•œåƒå¹¶æ¨é€åˆ°Docker</span> <span class="hljs-string">Hub</span>
<span class="hljs-attr">on:</span> <span class="hljs-string">push</span>

<span class="hljs-attr">jobs:</span>
  <span class="hljs-attr">npm-build:</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">npm-buildå·¥ä½œ</span>
    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span>
    
    <span class="hljs-attr">steps:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">è¯»å–ä»“åº“å†…å®¹</span>
      <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v4</span>
    
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">ç™»å½•DockerHub</span>
      <span class="hljs-attr">uses:</span> <span class="hljs-string">docker/lgoin-action@v3</span>
      <span class="hljs-attr">with:</span>
        <span class="hljs-attr">username:</span> <span class="hljs-string">${{</span> <span class="hljs-string">secrets.DOCKER_HUB_USENAME</span> <span class="hljs-string">}}</span>
        <span class="hljs-attr">password:</span> <span class="hljs-string">${{</span> <span class="hljs-string">secrets.DOCKER_HUB_TOKEN</span> <span class="hljs-string">}}</span>
        
   <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">æ„å»ºå¹¶æ¨é€åˆ°Docker</span> <span class="hljs-string">Hub</span>
     <span class="hljs-attr">uses:</span> <span class="hljs-string">docker/build-push-action@v5</span>
     <span class="hljs-attr">with:</span>
       <span class="hljs-attr">push:</span> <span class="hljs-literal">true</span>
       <span class="hljs-attr">tags:</span> <span class="hljs-string">eggoopain/react-app:latest</span>
        
      
</code></pre>
<p>ç™»å½•dockerhubï¼Œåˆ©ç”¨ä¸€ä¸‹ç°æœ‰çš„actionï¼Œç™»å½•ã€‚</p>
<p>æ¥ç€ç”¨å¦ä¸€ä¸ªç°æˆçš„actionï¼Œæ„å»ºå¹¶æ¨é€åˆ°Docker Hubï¼Œæ³¨æ„è¿™é‡Œçš„tagè¦å’Œä»“åº“ç›¸å¯¹åº”ï¼Œç”Ÿä¸‹æ¥çš„å¯†ç å’Œè´¦å·ï¼Œå…ˆå›åˆ°è®¾ç½®é¡µé¢ï¼Œåœ¨secrets and vatirablesä¸‹é¢æœ‰ä¸€ä¸ªactionsï¼Œæœ‰ä¸€ä¸ªactionsï¼Œè¿™é‡Œå°±å¯ä»¥æ–°å¢secretï¼Œnameå°±æ˜¯è‡ªå®šä¹‰åç§°ï¼Œsecretå°±æ˜¯åç§°æ‰€ä¿å­˜çš„ä¸èƒ½å…¬å¼€çš„ç§˜å¯†.</p>
<p>æ¥ä¸‹æ¥å°±æ˜¯</p>
<pre><code class="hljs language-md" lang="md">
git add .

git commit -m "ç”Ÿæˆé•œåƒå¹¶æ¨é€åˆ°Docker Hub"

git push origin main

</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/97f64fb5df9b4653826ed86f035ccf13~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rGf5rmW5paH5Lq6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770186554&amp;x-signature=ajEk%2BTl%2BHm78a1IHoOn8QjpsOUU%3D" alt="image.png" loading="lazy"/></p>
<p>æˆåŠŸäº†ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰æ¨é€åˆ°dockerä¸Šé¢å»ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ebf67756b3eb4d8d92426257e0663723~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rGf5rmW5paH5Lq6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770186554&amp;x-signature=v7eAfA3iUDRRnSTXC6WJa%2BhFKxU%3D" alt="image.png" loading="lazy"/></p>
<p>docker hubé‡Œé¢ä¹Ÿæ˜¾ç¤ºäº†æ–°å¢çš„é•œåƒï¼Œ</p>
<p>ä¸‹é¢è·‘ä¸ªå®¹å™¨çœ‹çœ‹ï¼š</p>
<pre><code class="hljs language-js" lang="js">docker run -d -p <span class="hljs-number">3333</span>:<span class="hljs-number">3000</span> eggtoopain/react-<span class="hljs-attr">app</span>:latest

<span class="hljs-comment">// ç„¶åå»è®¿é—®æµè§ˆå™¨ localhost:3333</span>
</code></pre>
<p>å°±å¯ä»¥çœ‹åˆ°é¡µé¢äº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ¬¡æ€§ç”¨ Shell å‘½ä»¤ç”Ÿæˆå…¨éƒ¨æ–‡ä»¶]]></title>    <link>https://juejin.cn/post/7600031636248215592</link>    <guid>https://juejin.cn/post/7600031636248215592</guid>    <pubDate>2026-01-28T06:42:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600031636248215592" data-draft-id="7600031636248166440" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ¬¡æ€§ç”¨ Shell å‘½ä»¤ç”Ÿæˆå…¨éƒ¨æ–‡ä»¶"/> <meta itemprop="keywords" content="Shell"/> <meta itemprop="datePublished" content="2026-01-28T06:42:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Emmaæ­Œå°ç™½"/> <meta itemprop="url" content="https://juejin.cn/user/668922459726520"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ¬¡æ€§ç”¨ Shell å‘½ä»¤ç”Ÿæˆå…¨éƒ¨æ–‡ä»¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/668922459726520/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Emmaæ­Œå°ç™½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T06:42:08.000Z" title="Wed Jan 28 2026 06:42:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">âœ… æ–¹å¼ä¸€ï¼ˆæœ€æ¨èï¼‰ï¼šä¸€æ¬¡æ€§ç”¨ <strong>Shell å‘½ä»¤ç”Ÿæˆå…¨éƒ¨æ–‡ä»¶</strong></h2>
<p>é€‚åˆï¼š</p>
<ul>
<li>VS Code</li>
<li>Git Bash / WSL / macOS / Linux</li>
<li><strong>æœ€å¿«ã€æœ€ä¸“ä¸š</strong></li>
</ul>
<h4 data-id="heading-1">1ï¸âƒ£ åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰“å¼€ç»ˆç«¯</h4>
<pre><code class="hljs language-arduino" lang="arduino">mkdir sql_prompts
</code></pre>
<h4 data-id="heading-2">2ï¸âƒ£ ä¸€æ¬¡æ€§ç”Ÿæˆæ‰€æœ‰æ–‡ä»¶</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">touch</span> sql_prompts/{00_base_agent.md,01_simple_query.md,02_aggregation.md,03_time_series.md,04_yoy_mom.md,05_topn_rank.md,06_join_multi_table.md,07_data_validation.md,08_performance_opt.md,09_explain_sql.md}
</code></pre>
<h4 data-id="heading-3">3ï¸âƒ£ éªŒè¯</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">ls</span> sql_prompts
</code></pre>
<p>ä½ ä¼šçœ‹åˆ°ï¼š</p>
<pre><code class="hljs">00_base_agent.md
01_simple_query.md
02_aggregation.md
03_time_series.md
04_yoy_mom.md
05_topn_rank.md
06_join_multi_table.md
07_data_validation.md
08_performance_opt.md
09_explain_sql.md
</code></pre>
<p>ğŸ“Œ <strong>è¿™æ˜¯æˆ‘å¼ºçƒˆå»ºè®®ä½ ç”¨çš„æ–¹å¼</strong><br/>
åé¢ä½ åš AI æ•°æ®é¡¹ç›®ï¼Œå‡ ä¹éƒ½ä¼šè¿™ä¹ˆå»ºç»“æ„ã€‚</p>
<hr/>
<h2 data-id="heading-4">âœ… æ–¹å¼äºŒï¼šWindowsï¼ˆä¸è£… WSL / Git Bashï¼‰</h2>
<p>å¦‚æœä½ ç”¨çš„æ˜¯ <strong>Windows åŸç”Ÿ PowerShell</strong>ï¼š</p>
<h4 data-id="heading-5">1ï¸âƒ£ æ‰“å¼€ PowerShellï¼ˆé¡¹ç›®ç›®å½•ï¼‰</h4>
<pre><code class="hljs language-arduino" lang="arduino">mkdir sql_prompts
</code></pre>
<h4 data-id="heading-6">2ï¸âƒ£ åˆ›å»ºæ–‡ä»¶</h4>
<pre><code class="hljs language-perl" lang="perl">$files = @(
<span class="hljs-string">"00_base_agent.md"</span>,
<span class="hljs-string">"01_simple_query.md"</span>,
<span class="hljs-string">"02_aggregation.md"</span>,
<span class="hljs-string">"03_time_series.md"</span>,
<span class="hljs-string">"04_yoy_mom.md"</span>,
<span class="hljs-string">"05_topn_rank.md"</span>,
<span class="hljs-string">"06_join_multi_table.md"</span>,
<span class="hljs-string">"07_data_validation.md"</span>,
<span class="hljs-string">"08_performance_opt.md"</span>,
<span class="hljs-string">"09_explain_sql.md"</span>
)

<span class="hljs-keyword">foreach</span> ($f in $files) {
    New-Item -Path <span class="hljs-string">"sql_prompts$f"</span> -ItemType File
}
</code></pre>
<p>ğŸ“Œ PowerShell ç¨å¾®å•°å—¦ï¼Œä½†<strong>å®Œå…¨å¯ç”¨</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-7">âœ… æ–¹å¼ä¸‰ï¼šVS Codeã€Œæ— å‘½ä»¤è¡Œã€æ–¹æ¡ˆï¼ˆå…œåº•ï¼‰</h2>
<p>é€‚åˆï¼š</p>
<ul>
<li>ä½ æš‚æ—¶ä¸æƒ³ç¢°å‘½ä»¤è¡Œ</li>
</ul>
<h4 data-id="heading-8">æ“ä½œæ­¥éª¤</h4>
<ol>
<li>
<p>VS Code å·¦ä¾§èµ„æºç®¡ç†å™¨</p>
</li>
<li>
<p>å³é”® â†’ æ–°å»ºæ–‡ä»¶å¤¹ â†’ <code>sql_prompts</code></p>
</li>
<li>
<p>åœ¨æ–‡ä»¶å¤¹é‡Œï¼š</p>
<ul>
<li>å³é”® â†’ æ–°å»ºæ–‡ä»¶</li>
<li>æŒ‰é¡ºåºåˆ›å»ºè¿™äº›æ–‡ä»¶å</li>
</ul>
</li>
</ol>
<p>â—ä¸æ¨èé•¿æœŸç”¨ï¼ˆæ…¢ + ä¸ä¸“ä¸šï¼‰</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Skills ç”Ÿæ€ä»‹ç»]]></title>    <link>https://juejin.cn/post/7599966546560303104</link>    <guid>https://juejin.cn/post/7599966546560303104</guid>    <pubDate>2026-01-28T06:39:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599966546560303104" data-draft-id="7599966804414349347" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Skills ç”Ÿæ€ä»‹ç»"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-28T06:39:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="twl"/> <meta itemprop="url" content="https://juejin.cn/user/3016715635534029"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Skills ç”Ÿæ€ä»‹ç»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3016715635534029/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    twl
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T06:39:23.000Z" title="Wed Jan 28 2026 06:39:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡ä»‹ç»äº†Shills å¸‚åœºï¼ŒåŒæ—¶æ·±å…¥åˆ†æ Vercel Labs å¼€æºçš„ Skills CLI å·¥å…·ï¼Œè¿™æ˜¯ä¸€ä¸ªä¸º AI ç¼–ç¨‹åŠ©æ‰‹æ„å»ºçš„å¼€æ”¾å¼æŠ€èƒ½åŒ…ç®¡ç†å™¨ï¼Œæ”¯æŒ 30+ ç§ä¸»æµ AI ç¼–ç¨‹å·¥å…·ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€Skills å¸‚åœº skills.sh ä»‹ç»</h2>
<h3 data-id="heading-1">1.1 ä»€ä¹ˆæ˜¯ Skillsï¼Ÿ</h3>
<p>Skillsï¼ˆæŠ€èƒ½ï¼‰æ˜¯å¯é‡ç”¨çš„æŒ‡ä»¤é›†ï¼Œç”¨äºæ‰©å±• AI ç¼–ç¨‹åŠ©æ‰‹çš„èƒ½åŠ›ã€‚å®ƒä»¬ä»¥ <code>SKILL.md</code> æ–‡ä»¶çš„å½¢å¼å®šä¹‰ï¼ŒåŒ…å« YAML frontmatter å…ƒæ•°æ®å’Œ Markdown æ ¼å¼çš„æŒ‡ä»¤å†…å®¹ã€‚</p>
<p>Skills è®© AI åŠ©æ‰‹èƒ½å¤Ÿæ‰§è¡Œä¸“ä¸šåŒ–ä»»åŠ¡ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>ä» Git å†å²ç”Ÿæˆå‘å¸ƒè¯´æ˜</li>
<li>æŒ‰ç…§å›¢é˜Ÿè§„èŒƒåˆ›å»º PR</li>
<li>ä¸å¤–éƒ¨å·¥å…·é›†æˆï¼ˆLinearã€Notion ç­‰ï¼‰</li>
<li>éµå¾ªç‰¹å®šæ¡†æ¶çš„æœ€ä½³å®è·µ</li>
</ul>
<h3 data-id="heading-2">1.2 Skills.sh å¸‚åœºå¹³å°</h3>
<p><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fskills.sh" target="_blank" title="https://skills.sh" ref="nofollow noopener noreferrer">skills.sh</a></strong> æ˜¯å®˜æ–¹çš„æŠ€èƒ½å‘ç°å¹³å°ï¼Œç”¨æˆ·å¯ä»¥ï¼š</p>
<ul>
<li><strong>æµè§ˆæŠ€èƒ½ç›®å½•</strong>ï¼šæŒ‰ç±»åˆ«ã€çƒ­é—¨ç¨‹åº¦ã€æ¥æºç­›é€‰æŠ€èƒ½</li>
<li><strong>æœç´¢æŠ€èƒ½</strong>ï¼šé€šè¿‡å…³é”®è¯æœç´¢ç‰¹å®šåŠŸèƒ½çš„æŠ€èƒ½</li>
<li><strong>æŸ¥çœ‹å®‰è£…ç»Ÿè®¡</strong>ï¼šäº†è§£æŠ€èƒ½çš„ä½¿ç”¨æƒ…å†µ</li>
<li><strong>è·å–å®‰è£…å‘½ä»¤</strong>ï¼šä¸€é”®å¤åˆ¶å®‰è£…å‘½ä»¤</li>
</ul>
<h3 data-id="heading-3">1.3 æŠ€èƒ½è§„èŒƒæ ‡å‡†</h3>
<p>Skills éµå¾ªå¼€æ”¾çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fagentskills.io" target="_blank" title="https://agentskills.io" ref="nofollow noopener noreferrer">Agent Skills è§„èŒƒ</a>ï¼Œç¡®ä¿è·¨å·¥å…·å…¼å®¹æ€§ã€‚ä¸€ä¸ªæ ‡å‡†çš„ SKILL.md æ–‡ä»¶ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">---
name: my-skill
description: æŠ€èƒ½çš„ç®€çŸ­æè¿°ï¼Œè¯´æ˜ä½•æ—¶ä½¿ç”¨
metadata:
<span class="hljs-section">  internal: false  # å¯é€‰ï¼Œè®¾ä¸º true éšè—æŠ€èƒ½
---</span>

<span class="hljs-section"># My Skill</span>

è¿™é‡Œæ˜¯ AI åŠ©æ‰‹éœ€è¦éµå¾ªçš„è¯¦ç»†æŒ‡ä»¤ã€‚

<span class="hljs-section">## ä½•æ—¶ä½¿ç”¨</span>

æè¿°åº”è¯¥æ¿€æ´»æ­¤æŠ€èƒ½çš„åœºæ™¯ã€‚

<span class="hljs-section">## æ­¥éª¤</span>

<span class="hljs-bullet">1.</span> é¦–å…ˆï¼Œæ‰§è¡Œè¿™ä¸ªæ“ä½œ
<span class="hljs-bullet">2.</span> ç„¶åï¼Œæ‰§è¡Œé‚£ä¸ªæ“ä½œ
</code></pre>
<p>å¿…å¡«å­—æ®µï¼š</p>
<ul>
<li><code>name</code>ï¼šå”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆå°å†™ï¼Œå…è®¸è¿å­—ç¬¦ï¼‰</li>
<li><code>description</code>ï¼šç®€çŸ­è¯´æ˜æŠ€èƒ½çš„åŠŸèƒ½</li>
</ul>
<hr/>
<h2 data-id="heading-4">äºŒã€Skills ç®¡ç†å·¥å…·å®Œæ•´åŠŸèƒ½æŒ‡å—</h2>
<p><code>npx skills</code> æä¾›äº†å®Œæ•´çš„æŠ€èƒ½ç”Ÿå‘½å‘¨æœŸç®¡ç†èƒ½åŠ›ã€‚</p>
<h3 data-id="heading-5">2.1 å®‰è£…æŠ€èƒ½ - <code>skills add</code></h3>
<p>è¿™æ˜¯æœ€æ ¸å¿ƒçš„å‘½ä»¤ï¼Œæ”¯æŒå¤šç§æ¥æºæ ¼å¼ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># GitHub ç®€å†™æ ¼å¼ï¼ˆæ¨èï¼‰</span>
npx skills add vercel-labs/agent-skills

<span class="hljs-comment"># å®Œæ•´ GitHub URL</span>
npx skills add https://github.com/vercel-labs/agent-skills

<span class="hljs-comment"># æŒ‡å®šåˆ†æ”¯å’Œè·¯å¾„</span>
npx skills add https://github.com/vercel-labs/agent-skills/tree/main/skills/frontend-design

<span class="hljs-comment"># GitLab URL</span>
npx skills add https://gitlab.com/org/repo

<span class="hljs-comment"># ä»»æ„ Git URL</span>
npx skills add git@github.com:vercel-labs/agent-skills.git

<span class="hljs-comment"># æœ¬åœ°è·¯å¾„</span>
npx skills add ./my-local-skills

<span class="hljs-comment"># ç›´æ¥ URLï¼ˆå¦‚ Mintlify æ–‡æ¡£ç«™ç‚¹ï¼‰</span>
npx skills add https://docs.example.com/skill.md
</code></pre>
<h4 data-id="heading-6">å‘½ä»¤è¡Œé€‰é¡¹</h4>

































<table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-g, --global</code></td><td>å®‰è£…åˆ°ç”¨æˆ·ç›®å½•è€Œéé¡¹ç›®ç›®å½•</td></tr><tr><td><code>-a, --agent &lt;agents...&gt;</code></td><td>æŒ‡å®šç›®æ ‡ Agentï¼ˆå¦‚ <code>claude-code</code>, <code>cursor</code>ï¼‰</td></tr><tr><td><code>-s, --skill &lt;skills...&gt;</code></td><td>å®‰è£…æŒ‡å®šåç§°çš„æŠ€èƒ½</td></tr><tr><td><code>-l, --list</code></td><td>ä»…åˆ—å‡ºå¯ç”¨æŠ€èƒ½ï¼Œä¸å®‰è£…</td></tr><tr><td><code>-y, --yes</code></td><td>è·³è¿‡æ‰€æœ‰ç¡®è®¤æç¤º</td></tr><tr><td><code>--all</code></td><td>å®‰è£…æ‰€æœ‰æŠ€èƒ½åˆ°æ‰€æœ‰ Agent</td></tr></tbody></table>
<h4 data-id="heading-7">å®‰è£…èŒƒå›´</h4>























<table><thead><tr><th>èŒƒå›´</th><th>æ ‡å¿—</th><th>ä½ç½®</th><th>ç”¨ä¾‹</th></tr></thead><tbody><tr><td><strong>é¡¹ç›®çº§</strong></td><td>(é»˜è®¤)</td><td><code>./&lt;agent&gt;/skills/</code></td><td>ä¸é¡¹ç›®ä¸€èµ·æäº¤ï¼Œå›¢é˜Ÿå…±äº«</td></tr><tr><td><strong>å…¨å±€</strong></td><td><code>-g</code></td><td><code>~/&lt;agent&gt;/skills/</code></td><td>æ‰€æœ‰é¡¹ç›®å¯ç”¨</td></tr></tbody></table>
<h4 data-id="heading-8">å®‰è£…æ¨¡å¼</h4>

















<table><thead><tr><th>æ¨¡å¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>Symlink</strong>ï¼ˆæ¨èï¼‰</td><td>åˆ›å»ºç¬¦å·é“¾æ¥æŒ‡å‘è§„èŒƒå‰¯æœ¬ï¼Œå•ä¸€æ•°æ®æºï¼Œä¾¿äºæ›´æ–°</td></tr><tr><td><strong>Copy</strong></td><td>ä¸ºæ¯ä¸ª Agent åˆ›å»ºç‹¬ç«‹å‰¯æœ¬ï¼Œç”¨äºä¸æ”¯æŒç¬¦å·é“¾æ¥çš„ç¯å¢ƒ</td></tr></tbody></table>
<h4 data-id="heading-9">ä½¿ç”¨ç¤ºä¾‹</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ—å‡ºä»“åº“ä¸­çš„æŠ€èƒ½</span>
npx skills add vercel-labs/agent-skills --list

<span class="hljs-comment"># å®‰è£…ç‰¹å®šæŠ€èƒ½</span>
npx skills add vercel-labs/agent-skills --skill frontend-design --skill skill-creator

<span class="hljs-comment"># å®‰è£…åˆ°ç‰¹å®š Agent</span>
npx skills add vercel-labs/agent-skills -a claude-code -a cursor

<span class="hljs-comment"># éäº¤äº’å¼å®‰è£…ï¼ˆCI/CD å‹å¥½ï¼‰</span>
npx skills add vercel-labs/agent-skills --skill frontend-design -g -a claude-code -y

<span class="hljs-comment"># å®‰è£…ä»“åº“ä¸­æ‰€æœ‰æŠ€èƒ½åˆ°æ‰€æœ‰ Agent</span>
npx skills add vercel-labs/agent-skills --all
</code></pre>
<h3 data-id="heading-10">2.2 æœç´¢æŠ€èƒ½ - <code>skills find</code></h3>
<p>æä¾›äº¤äº’å¼çš„ fzf é£æ ¼æœç´¢ç•Œé¢ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># äº¤äº’å¼æœç´¢</span>
npx skills find

<span class="hljs-comment"># æŒ‰å…³é”®è¯æœç´¢</span>
npx skills find typescript

<span class="hljs-comment"># æŒ‰çŸ­è¯­æœç´¢</span>
npx skills find <span class="hljs-string">"react testing"</span>
</code></pre>
<p>æœç´¢ç»“æœç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">Install <span class="hljs-keyword">with</span> npx skills <span class="hljs-keyword">add</span> <span class="hljs-operator">&lt;</span>owner<span class="hljs-operator">/</span>repo<span class="hljs-variable">@skill</span><span class="hljs-operator">&gt;</span>

vercel<span class="hljs-operator">-</span>labs<span class="hljs-operator">/</span>agent<span class="hljs-operator">-</span>skills<span class="hljs-variable">@vercel</span><span class="hljs-operator">-</span>react<span class="hljs-operator">-</span>best<span class="hljs-operator">-</span>practices
â”” https:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>skills.sh<span class="hljs-operator">/</span>vercel<span class="hljs-operator">-</span>labs<span class="hljs-operator">/</span>agent<span class="hljs-operator">-</span>skills<span class="hljs-operator">/</span>vercel<span class="hljs-operator">-</span>react<span class="hljs-operator">-</span>best<span class="hljs-operator">-</span>practices
</code></pre>
<h3 data-id="heading-11">2.3 æ›´æ–°æ£€æµ‹ - <code>skills check</code></h3>
<p>æ£€æŸ¥å·²å®‰è£…æŠ€èƒ½æ˜¯å¦æœ‰å¯ç”¨æ›´æ–°ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npx skills check
</code></pre>
<p><strong>å·¥ä½œåŸç†</strong>ï¼š</p>
<ol>
<li>è¯»å– <code>~/.agents/.skill-lock.json</code> é”æ–‡ä»¶</li>
<li>å‘ <code>https://add-skill.vercel.sh/check-updates</code> å‘é€ POST è¯·æ±‚</li>
<li>é€šè¿‡æ¯”è¾ƒ <code>skillFolderHash</code>ï¼ˆGitHub æ ‘ SHAï¼‰æ£€æµ‹æ›´æ–°</li>
<li>æ˜¾ç¤ºæœ‰æ›´æ–°çš„æŠ€èƒ½åˆ—è¡¨</li>
</ol>
<h3 data-id="heading-12">2.4 æ›´æ–°æŠ€èƒ½ - <code>skills update</code></h3>
<p>æ›´æ–°æ‰€æœ‰å·²å®‰è£…çš„æŠ€èƒ½åˆ°æœ€æ–°ç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npx skills update
</code></pre>
<p>è¯¥å‘½ä»¤ä¼šè‡ªåŠ¨é‡æ–°å®‰è£…æ‰€æœ‰æ£€æµ‹åˆ°æ›´æ–°çš„æŠ€èƒ½ã€‚</p>
<h3 data-id="heading-13">2.5 åˆå§‹åŒ–æŠ€èƒ½ - <code>skills init</code></h3>
<p>åˆ›å»ºæ–°æŠ€èƒ½çš„æ¨¡æ¿æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨å½“å‰ç›®å½•åˆ›å»º SKILL.md</span>
npx skills init

<span class="hljs-comment"># åœ¨å­ç›®å½•åˆ›å»ºæ–°æŠ€èƒ½</span>
npx skills init my-skill
</code></pre>
<p>ç”Ÿæˆçš„æ¨¡æ¿ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">---
name: my-skill
<span class="hljs-section">description: A brief description
---</span>

<span class="hljs-section"># my-skill</span>

Instructions for the agent to follow when this skill is activated.

<span class="hljs-section">## When to Use</span>

Describe the scenarios where this skill should be used.

<span class="hljs-section">## Steps</span>

<span class="hljs-bullet">1.</span> First, do this
<span class="hljs-bullet">2.</span> Then, do that
</code></pre>
<h3 data-id="heading-14">2.6 ç”Ÿæˆé”æ–‡ä»¶ - <code>skills generate-lock</code></h3>
<p>å°†å·²å®‰è£…çš„æŠ€èƒ½ä¸è¿œç¨‹æºåŒ¹é…ï¼Œç”¨äºæ›´æ–°è·Ÿè¸ªï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç”Ÿæˆé”æ–‡ä»¶</span>
npx skills generate-lock

<span class="hljs-comment"># é¢„è§ˆä½†ä¸å†™å…¥</span>
npx skills generate-lock --dry-run
</code></pre>
<hr/>
<h2 data-id="heading-15">ä¸‰ã€è·¨å·¥å…·å…¼å®¹æ€§è®¾è®¡</h2>
<p>Skills CLI çš„æ ¸å¿ƒè®¾è®¡ç›®æ ‡ä¹‹ä¸€æ˜¯å…¼å®¹å°½å¯èƒ½å¤šçš„ AI ç¼–ç¨‹å·¥å…·ã€‚ç›®å‰æ”¯æŒ <strong>30 ç§</strong> ä¸»æµ Agentã€‚</p>
<h3 data-id="heading-16">3.1 æ”¯æŒçš„ Agent åˆ—è¡¨</h3>













































































<table><thead><tr><th>Agent</th><th>å‘½ä»¤è¡Œæ ‡è¯†</th><th>é¡¹ç›®è·¯å¾„</th><th>å…¨å±€è·¯å¾„</th></tr></thead><tbody><tr><td>Claude Code</td><td><code>claude-code</code></td><td><code>.claude/skills/</code></td><td><code>~/.claude/skills/</code></td></tr><tr><td>Cursor</td><td><code>cursor</code></td><td><code>.cursor/skills/</code></td><td><code>~/.cursor/skills/</code></td></tr><tr><td>GitHub Copilot</td><td><code>github-copilot</code></td><td><code>.github/skills/</code></td><td><code>~/.copilot/skills/</code></td></tr><tr><td>Codex</td><td><code>codex</code></td><td><code>.codex/skills/</code></td><td><code>~/.codex/skills/</code></td></tr><tr><td>OpenCode</td><td><code>opencode</code></td><td><code>.opencode/skills/</code></td><td><code>~/.config/opencode/skills/</code></td></tr><tr><td>Cline</td><td><code>cline</code></td><td><code>.cline/skills/</code></td><td><code>~/.cline/skills/</code></td></tr><tr><td>Windsurf</td><td><code>windsurf</code></td><td><code>.windsurf/skills/</code></td><td><code>~/.codeium/windsurf/skills/</code></td></tr><tr><td>Gemini CLI</td><td><code>gemini-cli</code></td><td><code>.gemini/skills/</code></td><td><code>~/.gemini/skills/</code></td></tr><tr><td>Roo Code</td><td><code>roo</code></td><td><code>.roo/skills/</code></td><td><code>~/.roo/skills/</code></td></tr><tr><td>Continue</td><td><code>continue</code></td><td><code>.continue/skills/</code></td><td><code>~/.continue/skills/</code></td></tr><tr><td>...</td><td>...</td><td>...</td><td>...</td></tr></tbody></table>
<p>å®Œæ•´åˆ—è¡¨åŒ…æ‹¬ï¼šAmp, Antigravity, Clawdbot, CodeBuddy, Command Code, Crush, Droid, Goose, Kilo Code, Kiro CLI, MCPJam, Mux, OpenHands, Pi, Qoder, Qwen Code, Trae, Zencoder, Neovate ç­‰ã€‚</p>
<h3 data-id="heading-17">3.2 Agent è‡ªåŠ¨æ£€æµ‹æœºåˆ¶</h3>
<p>CLI é€šè¿‡æ£€æµ‹ç‰¹å®šç›®å½•æ˜¯å¦å­˜åœ¨æ¥åˆ¤æ–­ç”¨æˆ·å®‰è£…äº†å“ªäº› Agentï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// agents.ts ä¸­çš„æ£€æµ‹é€»è¾‘ç¤ºä¾‹</span>
<span class="hljs-string">'claude-code'</span>: {
  <span class="hljs-attr">detectInstalled</span>: <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">existsSync</span>(claudeHome);  <span class="hljs-comment">// æ£€æŸ¥ ~/.claude æ˜¯å¦å­˜åœ¨</span>
  },
},

<span class="hljs-string">'cursor'</span>: {
  <span class="hljs-attr">detectInstalled</span>: <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">existsSync</span>(<span class="hljs-title function_">join</span>(home, <span class="hljs-string">'.cursor'</span>));
  },
},
</code></pre>
<p>å®‰è£…æ—¶ï¼ŒCLI ä¼šï¼š</p>
<ol>
<li>è‡ªåŠ¨æ£€æµ‹æ‰€æœ‰å·²å®‰è£…çš„ Agent</li>
<li>å¦‚æœæœªæ£€æµ‹åˆ°ä»»ä½• Agentï¼Œæç¤ºç”¨æˆ·æ‰‹åŠ¨é€‰æ‹©</li>
<li>æ”¯æŒåŒæ—¶å®‰è£…åˆ°å¤šä¸ª Agent</li>
</ol>
<h3 data-id="heading-18">3.3 Agent é…ç½®ç»“æ„</h3>
<p>æ¯ä¸ª Agent çš„é…ç½®åŒ…å«ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">AgentConfig</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;           <span class="hljs-comment">// å†…éƒ¨åç§°</span>
  <span class="hljs-attr">displayName</span>: <span class="hljs-built_in">string</span>;    <span class="hljs-comment">// æ˜¾ç¤ºåç§°</span>
  <span class="hljs-attr">skillsDir</span>: <span class="hljs-built_in">string</span>;      <span class="hljs-comment">// é¡¹ç›®çº§æŠ€èƒ½ç›®å½•</span>
  <span class="hljs-attr">globalSkillsDir</span>: <span class="hljs-built_in">string</span>; <span class="hljs-comment">// å…¨å±€æŠ€èƒ½ç›®å½•</span>
  <span class="hljs-attr">detectInstalled</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt;; <span class="hljs-comment">// æ£€æµ‹å‡½æ•°</span>
}
</code></pre>
<h3 data-id="heading-19">3.4 åŠŸèƒ½å…¼å®¹æ€§çŸ©é˜µ</h3>
<p>ç”±äºå„ Agent å®ç°å·®å¼‚ï¼Œéƒ¨åˆ†é«˜çº§åŠŸèƒ½å¹¶éå…¨éƒ¨æ”¯æŒï¼š</p>


















































<table><thead><tr><th>åŠŸèƒ½</th><th>Claude Code</th><th>Cursor</th><th>Copilot</th><th>Cline</th><th>OpenCode</th><th>å…¶ä»–</th></tr></thead><tbody><tr><td>åŸºç¡€æŠ€èƒ½</td><td>âœ…</td><td>âœ…</td><td>âœ…</td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr><tr><td><code>allowed-tools</code></td><td>âœ…</td><td>âœ…</td><td>âœ…</td><td>âœ…</td><td>âœ…</td><td>éƒ¨åˆ†</td></tr><tr><td><code>context: fork</code></td><td>âœ…</td><td>âŒ</td><td>âŒ</td><td>âŒ</td><td>âŒ</td><td>âŒ</td></tr><tr><td>Hooks</td><td>âœ…</td><td>âŒ</td><td>âŒ</td><td>âœ…</td><td>âŒ</td><td>âŒ</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-20">å››ã€æ ¸å¿ƒæ¶æ„è®¾è®¡</h2>
<h3 data-id="heading-21">4.1 ç›®å½•ç»“æ„</h3>
<pre><code class="hljs language-csharp" lang="csharp">src/
â”œâ”€â”€ cli.ts              <span class="hljs-meta"># CLI ä¸»å…¥å£ï¼Œå‘½ä»¤è·¯ç”±</span>
â”œâ”€â”€ <span class="hljs-keyword">add</span>.ts              <span class="hljs-meta"># add å‘½ä»¤çš„æ ¸å¿ƒé€»è¾‘</span>
â”œâ”€â”€ find.ts             <span class="hljs-meta"># find å‘½ä»¤ - äº¤äº’å¼æŠ€èƒ½æœç´¢</span>
â”œâ”€â”€ agents.ts           <span class="hljs-meta"># Agent å®šä¹‰å’Œæ£€æµ‹</span>
â”œâ”€â”€ installer.ts        <span class="hljs-meta"># æŠ€èƒ½å®‰è£…é€»è¾‘ï¼ˆç¬¦å·é“¾æ¥/å¤åˆ¶ï¼‰</span>
â”œâ”€â”€ skills.ts           <span class="hljs-meta"># æŠ€èƒ½å‘ç°å’Œè§£æ</span>
â”œâ”€â”€ skill-<span class="hljs-keyword">lock</span>.ts       <span class="hljs-meta"># é”æ–‡ä»¶ç®¡ç†</span>
â”œâ”€â”€ source-parser.ts    <span class="hljs-meta"># è§£æ git URLã€GitHub ç®€å†™ã€æœ¬åœ°è·¯å¾„</span>
â”œâ”€â”€ git.ts              <span class="hljs-meta"># Git å…‹éš†æ“ä½œ</span>
â”œâ”€â”€ telemetry.ts        <span class="hljs-meta"># åŒ¿åä½¿ç”¨è·Ÿè¸ª</span>
â”œâ”€â”€ types.ts            <span class="hljs-meta"># TypeScript ç±»å‹å®šä¹‰</span>
â”œâ”€â”€ mintlify.ts         <span class="hljs-meta"># Mintlify æŠ€èƒ½è·å–</span>
â””â”€â”€ providers/          <span class="hljs-meta"># è¿œç¨‹æŠ€èƒ½æä¾›è€…</span>
    â”œâ”€â”€ index.ts
    â”œâ”€â”€ registry.ts     <span class="hljs-meta"># æä¾›è€…æ³¨å†Œè¡¨</span>
    â”œâ”€â”€ types.ts
    â”œâ”€â”€ huggingface.ts  <span class="hljs-meta"># HuggingFace æä¾›è€…</span>
    â”œâ”€â”€ mintlify.ts     <span class="hljs-meta"># Mintlify æä¾›è€…</span>
    â””â”€â”€ wellknown.ts    <span class="hljs-meta"># Well-known ç«¯ç‚¹æä¾›è€…</span>
</code></pre>
<h3 data-id="heading-22">4.2 æ¥æºè§£æå™¨è®¾è®¡</h3>
<p><code>source-parser.ts</code> è´Ÿè´£å°†ç”¨æˆ·è¾“å…¥è§£æä¸ºç»“æ„åŒ–æ ¼å¼ï¼Œæ”¯æŒå¤šç§æ¥æºç±»å‹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">parseSource</span>(<span class="hljs-params">input: <span class="hljs-built_in">string</span></span>): <span class="hljs-title class_">ParsedSource</span> {
  <span class="hljs-comment">// 1. æœ¬åœ°è·¯å¾„ (local)</span>
  <span class="hljs-comment">// 2. ç›´æ¥ URL (direct-url)</span>
  <span class="hljs-comment">// 3. GitHub URL (github)</span>
  <span class="hljs-comment">// 4. GitLab URL (gitlab)</span>
  <span class="hljs-comment">// 5. GitHub ç®€å†™ (github)</span>
  <span class="hljs-comment">// 6. Well-known ç«¯ç‚¹ (well-known)</span>
  <span class="hljs-comment">// 7. å›é€€ï¼šç›´æ¥ Git URL (git)</span>
}
</code></pre>
<p>æ”¯æŒçš„æ ¼å¼åŒ…æ‹¬ï¼š</p>





































<table><thead><tr><th>ç±»å‹</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>æœ¬åœ°è·¯å¾„</td><td><code>./my-skills</code>, <code>/absolute/path</code></td></tr><tr><td>GitHub URL</td><td><code>https://github.com/owner/repo</code></td></tr><tr><td>GitHub URL + è·¯å¾„</td><td><code>https://github.com/owner/repo/tree/branch/path</code></td></tr><tr><td>GitLab URL</td><td><code>https://gitlab.com/owner/repo</code></td></tr><tr><td>GitHub ç®€å†™</td><td><code>owner/repo</code>, <code>owner/repo/path/to/skill</code></td></tr><tr><td>ç›´æ¥ URL</td><td><code>https://docs.example.com/skill.md</code></td></tr><tr><td>Well-known</td><td><code>https://example.com</code>ï¼ˆæ£€æŸ¥ <code>/.well-known/skills/index.json</code>ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-23">4.3 å®‰è£…æµç¨‹</h3>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·è¾“å…¥ â†’ <span class="hljs-built_in">parseSource</span>() â†’ åˆ¤æ–­ç±»å‹
                              â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â†“                         â†“                         â†“
  local                    github                  direct-url
    â”‚                         â”‚                         â”‚
    â†“                         â†“                         â†“
éªŒè¯è·¯å¾„å­˜åœ¨              <span class="hljs-built_in">cloneRepo</span>()            <span class="hljs-built_in">findProvider</span>()
    â”‚                         â”‚                         â”‚
    â†“                         â†“                         â†“
<span class="hljs-built_in">discoverSkills</span>()         <span class="hljs-built_in">discoverSkills</span>()         <span class="hljs-built_in">fetchSkill</span>()
    â”‚                         â”‚                         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â†“
                    <span class="hljs-built_in">detectInstalledAgents</span>()
                              â”‚
                              â†“
                    ç”¨æˆ·é€‰æ‹© Agent å’Œé€‰é¡¹
                              â”‚
                              â†“
              <span class="hljs-built_in">installSkillForAgent</span>() / <span class="hljs-built_in">installRemoteSkillForAgent</span>()
                              â”‚
                              â†“
                      <span class="hljs-built_in">addSkillToLock</span>()
                              â”‚
                              â†“
                         æ˜¾ç¤ºç»“æœ
</code></pre>
<h3 data-id="heading-24">4.4 å®‰è£…å™¨è®¾è®¡</h3>
<p><code>installer.ts</code> å®ç°ä¸¤ç§å®‰è£…æ¨¡å¼ï¼š</p>
<p><strong>Symlink æ¨¡å¼ï¼ˆæ¨èï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">.agents/skills/&lt;skill-name&gt;/    <span class="hljs-comment"># è§„èŒƒä½ç½®ï¼ˆå•ä¸€æ•°æ®æºï¼‰</span>
    â””â”€â”€ SKILL.md

.claude/skills/&lt;skill-name&gt; â†’ ../.agents/skills/&lt;skill-name&gt;  <span class="hljs-comment"># ç¬¦å·é“¾æ¥</span>
.cursor/skills/&lt;skill-name&gt; â†’ ../.agents/skills/&lt;skill-name&gt;  <span class="hljs-comment"># ç¬¦å·é“¾æ¥</span>
</code></pre>
<p><strong>Copy æ¨¡å¼</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">.claude/skills/&lt;skill-name&gt;/    <span class="hljs-comment"># ç‹¬ç«‹å‰¯æœ¬</span>
    â””â”€â”€ SKILL.md

.cursor/skills/&lt;skill-name&gt;/    <span class="hljs-comment"># ç‹¬ç«‹å‰¯æœ¬</span>
    â””â”€â”€ SKILL.md
</code></pre>
<p>å…³é”®å®ç°ç»†èŠ‚ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createSymlink</span>(<span class="hljs-params">target: <span class="hljs-built_in">string</span>, linkPath: <span class="hljs-built_in">string</span></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {
  <span class="hljs-comment">// ä½¿ç”¨ç›¸å¯¹è·¯å¾„åˆ›å»ºç¬¦å·é“¾æ¥</span>
  <span class="hljs-keyword">const</span> relativePath = <span class="hljs-title function_">relative</span>(linkDir, target);
  <span class="hljs-comment">// Windows ä½¿ç”¨ junction ç±»å‹</span>
  <span class="hljs-keyword">const</span> symlinkType = <span class="hljs-title function_">platform</span>() === <span class="hljs-string">'win32'</span> ? <span class="hljs-string">'junction'</span> : <span class="hljs-literal">undefined</span>;
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">symlink</span>(relativePath, linkPath, symlinkType);
}
</code></pre>
<h3 data-id="heading-25">4.5 é”æ–‡ä»¶ç®¡ç†</h3>
<p><code>~/.agents/.skill-lock.json</code> è·Ÿè¸ªå·²å®‰è£…æŠ€èƒ½ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">SkillLockFile</span> {
  <span class="hljs-attr">version</span>: <span class="hljs-built_in">number</span>;  <span class="hljs-comment">// å½“å‰ç‰ˆæœ¬ 3</span>
  <span class="hljs-attr">skills</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">SkillLockEntry</span>&gt;;
  dismissed?: <span class="hljs-title class_">DismissedPrompts</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">SkillLockEntry</span> {
  <span class="hljs-attr">source</span>: <span class="hljs-built_in">string</span>;           <span class="hljs-comment">// å¦‚ "vercel-labs/agent-skills"</span>
  <span class="hljs-attr">sourceType</span>: <span class="hljs-built_in">string</span>;       <span class="hljs-comment">// å¦‚ "github", "mintlify"</span>
  <span class="hljs-attr">sourceUrl</span>: <span class="hljs-built_in">string</span>;        <span class="hljs-comment">// åŸå§‹å®‰è£… URL</span>
  skillPath?: <span class="hljs-built_in">string</span>;       <span class="hljs-comment">// ä»“åº“å†…çš„å­è·¯å¾„</span>
  <span class="hljs-attr">skillFolderHash</span>: <span class="hljs-built_in">string</span>;  <span class="hljs-comment">// GitHub æ ‘ SHAï¼ˆç”¨äºæ›´æ–°æ£€æµ‹ï¼‰</span>
  <span class="hljs-attr">installedAt</span>: <span class="hljs-built_in">string</span>;      <span class="hljs-comment">// é¦–æ¬¡å®‰è£…æ—¶é—´</span>
  <span class="hljs-attr">updatedAt</span>: <span class="hljs-built_in">string</span>;        <span class="hljs-comment">// æœ€åæ›´æ–°æ—¶é—´</span>
}
</code></pre>
<h3 data-id="heading-26">4.6 æä¾›è€…æ¨¡å¼</h3>
<p>é‡‡ç”¨ç­–ç•¥æ¨¡å¼æ‰©å±•è¿œç¨‹æŠ€èƒ½æ¥æºï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">HostProvider</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>;                    <span class="hljs-comment">// å”¯ä¸€æ ‡è¯†</span>
  <span class="hljs-attr">displayName</span>: <span class="hljs-built_in">string</span>;           <span class="hljs-comment">// æ˜¾ç¤ºåç§°</span>
  <span class="hljs-title function_">match</span>(<span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">ProviderMatch</span>;        <span class="hljs-comment">// åŒ¹é…æ£€æµ‹</span>
  <span class="hljs-title function_">fetchSkill</span>(<span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">RemoteSkill</span> | <span class="hljs-literal">null</span>&gt;; <span class="hljs-comment">// è·å–æŠ€èƒ½</span>
  <span class="hljs-title function_">toRawUrl</span>(<span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">string</span>;            <span class="hljs-comment">// è½¬æ¢ä¸ºåŸå§‹ URL</span>
  <span class="hljs-title function_">getSourceIdentifier</span>(<span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">string</span>;  <span class="hljs-comment">// è·å–æ¥æºæ ‡è¯†</span>
}
</code></pre>
<p>å†…ç½®æä¾›è€…ï¼š</p>
<ul>
<li><strong>MintlifyProvider</strong> - å¤„ç† Mintlify æ–‡æ¡£ç«™ç‚¹</li>
<li><strong>HuggingFaceProvider</strong> - å¤„ç† HuggingFace Spaces</li>
<li><strong>WellKnownProvider</strong> - å¤„ç† RFC 8615 é£æ ¼çš„ well-known ç«¯ç‚¹</li>
</ul>
<hr/>
<h2 data-id="heading-27">äº”ã€å®‰å…¨è®¾è®¡</h2>
<h3 data-id="heading-28">5.1 è·¯å¾„éå†é˜²æŠ¤</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">sanitizeName</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">string</span> {
  <span class="hljs-keyword">let</span> sanitized = name.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[\/\\:\0]/g</span>, <span class="hljs-string">''</span>);
  sanitized = sanitized.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/^[.\s]+|[.\s]+$/g</span>, <span class="hljs-string">''</span>);
  sanitized = sanitized.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/^\.+/</span>, <span class="hljs-string">''</span>);
  <span class="hljs-comment">// ...</span>
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">isPathSafe</span>(<span class="hljs-params">basePath: <span class="hljs-built_in">string</span>, targetPath: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">boolean</span> {
  <span class="hljs-keyword">const</span> normalizedBase = <span class="hljs-title function_">normalize</span>(<span class="hljs-title function_">resolve</span>(basePath));
  <span class="hljs-keyword">const</span> normalizedTarget = <span class="hljs-title function_">normalize</span>(<span class="hljs-title function_">resolve</span>(targetPath));
  <span class="hljs-keyword">return</span> normalizedTarget.<span class="hljs-title function_">startsWith</span>(normalizedBase + sep);
}
</code></pre>
<h3 data-id="heading-29">5.2 ä¸´æ—¶ç›®å½•æ¸…ç†éªŒè¯</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">cleanupTempDir</span>(<span class="hljs-params">dir: <span class="hljs-built_in">string</span></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
  <span class="hljs-comment">// éªŒè¯ç›®å½•åœ¨ tmpdir å†…ï¼Œé˜²æ­¢è¯¯åˆ </span>
  <span class="hljs-keyword">if</span> (!normalizedDir.<span class="hljs-title function_">startsWith</span>(normalizedTmpDir + sep)) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Attempted to clean up directory outside of temp directory'</span>);
  }
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">rm</span>(dir, { <span class="hljs-attr">recursive</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">force</span>: <span class="hljs-literal">true</span> });
}
</code></pre>
<h3 data-id="heading-30">5.3 éšç§ä¿æŠ¤</h3>
<p>é¥æµ‹æ•°æ®é‡‡é›†å°Šé‡ç”¨æˆ·é€‰æ‹©ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">isEnabled</span>(<span class="hljs-params"/>): <span class="hljs-built_in">boolean</span> {
  <span class="hljs-keyword">return</span> !process.<span class="hljs-property">env</span>.<span class="hljs-property">DISABLE_TELEMETRY</span> &amp;&amp; !process.<span class="hljs-property">env</span>.<span class="hljs-property">DO_NOT_TRACK</span>;
}
</code></pre>
<hr/>
<h2 data-id="heading-31">å…­ã€æŠ€èƒ½å‘ç°æœºåˆ¶</h2>
<h3 data-id="heading-32">6.1 æœç´¢ä¼˜å…ˆçº§</h3>
<p><code>skills.ts</code> åœ¨ä»“åº“ä¸­æŒ‰ä»¥ä¸‹é¡ºåºæœç´¢æŠ€èƒ½ï¼š</p>
<ol>
<li>ç›´æ¥æŒ‡å®šçš„è·¯å¾„</li>
<li>å¸¸è§æŠ€èƒ½ç›®å½•ï¼š
<ul>
<li><code>skills/</code></li>
<li><code>skills/.curated/</code></li>
<li><code>skills/.experimental/</code></li>
<li><code>skills/.system/</code></li>
<li><code>.agents/skills/</code></li>
<li><code>.agent/skills/</code></li>
<li><code>.claude/skills/</code></li>
<li>æ‰€æœ‰ Agent çš„æŠ€èƒ½ç›®å½•</li>
</ul>
</li>
<li>é€’å½’æœç´¢ï¼ˆæœ€å¤§æ·±åº¦ 5 å±‚ï¼Œè·³è¿‡ <code>node_modules</code>ã€<code>.git</code>ã€<code>dist</code> ç­‰ï¼‰</li>
</ol>
<h3 data-id="heading-33">6.2 æŠ€èƒ½è§£æ</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">parseSkillMd</span>(<span class="hljs-params">skillMdPath: <span class="hljs-built_in">string</span></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Skill</span> | <span class="hljs-literal">null</span>&gt; {
  <span class="hljs-keyword">const</span> content = <span class="hljs-keyword">await</span> <span class="hljs-title function_">readFile</span>(skillMdPath, <span class="hljs-string">'utf-8'</span>);
  <span class="hljs-keyword">const</span> { data } = <span class="hljs-title function_">matter</span>(content); <span class="hljs-comment">// ä½¿ç”¨ gray-matter è§£æ frontmatter</span>
  
  <span class="hljs-comment">// å¿…é¡»æœ‰ name å’Œ description</span>
  <span class="hljs-keyword">if</span> (!data.<span class="hljs-property">name</span> || !data.<span class="hljs-property">description</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  
  <span class="hljs-comment">// è·³è¿‡å†…éƒ¨æŠ€èƒ½ï¼ˆé™¤éè®¾ç½®äº†ç¯å¢ƒå˜é‡ï¼‰</span>
  <span class="hljs-keyword">if</span> (data.<span class="hljs-property">metadata</span>?.<span class="hljs-property">internal</span> &amp;&amp; !<span class="hljs-title function_">shouldInstallInternalSkills</span>()) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  
  <span class="hljs-keyword">return</span> { name, description, path, rawContent, metadata };
}
</code></pre>
<hr/>
<h2 data-id="heading-34">ä¸ƒã€API ç«¯ç‚¹</h2>





























<table><thead><tr><th>ç«¯ç‚¹</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><code>https://add-skill.vercel.sh/t</code></td><td>é¥æµ‹è¿½è¸ª</td></tr><tr><td><code>https://add-skill.vercel.sh/check-updates</code></td><td>æ›´æ–°æ£€æµ‹</td></tr><tr><td><code>https://skills.sh/api/skills/search</code></td><td>æŠ€èƒ½åç§°åŒ¹é…</td></tr><tr><td><code>https://skills.sh/api/search</code></td><td>æŠ€èƒ½æœç´¢</td></tr><tr><td><code>https://api.github.com/repos/.../git/trees/...</code></td><td>è·å–æ–‡ä»¶å¤¹å“ˆå¸Œ</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-35">å…«ã€ç¯å¢ƒå˜é‡</h2>





























<table><thead><tr><th>å˜é‡</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>INSTALL_INTERNAL_SKILLS</code></td><td>è®¾ä¸º <code>1</code> æ˜¾ç¤ºå’Œå®‰è£…æ ‡è®°ä¸º <code>internal: true</code> çš„æŠ€èƒ½</td></tr><tr><td><code>DISABLE_TELEMETRY</code></td><td>ç¦ç”¨åŒ¿åä½¿ç”¨é¥æµ‹</td></tr><tr><td><code>DO_NOT_TRACK</code></td><td>ç¦ç”¨é¥æµ‹çš„æ›¿ä»£æ–¹å¼</td></tr><tr><td><code>CODEX_HOME</code></td><td>è‡ªå®šä¹‰ Codex ä¸»ç›®å½•</td></tr><tr><td><code>CLAUDE_CONFIG_DIR</code></td><td>è‡ªå®šä¹‰ Claude é…ç½®ç›®å½•</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-36">ä¹ã€æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-37">9.1 åˆ›å»ºæŠ€èƒ½</h3>
<ol>
<li><strong>ä¿æŒç®€æ´</strong>ï¼šä¸€ä¸ªæŠ€èƒ½ä¸“æ³¨äºä¸€ä¸ªä»»åŠ¡</li>
<li><strong>æ¸…æ™°çš„è§¦å‘æ¡ä»¶</strong>ï¼šåœ¨ description ä¸­æ˜ç¡®è¯´æ˜ä½•æ—¶ä½¿ç”¨</li>
<li><strong>æ­¥éª¤åŒ–æŒ‡ä»¤</strong>ï¼šä½¿ç”¨ç¼–å·åˆ—è¡¨è®© AI æ˜“äºéµå¾ª</li>
<li><strong>åŒ…å«ç¤ºä¾‹</strong>ï¼šå±•ç¤ºé¢„æœŸçš„è¾“å…¥è¾“å‡º</li>
</ol>
<h3 data-id="heading-38">9.2 ç»„ç»‡æŠ€èƒ½</h3>
<pre><code class="hljs language-objectivec" lang="objectivec">my-project/
â”œâ”€â”€ skills/
â”‚   â”œâ”€â”€ code-review/
â”‚   â”‚   â””â”€â”€ <span class="hljs-built_in">SKILL</span>.md
â”‚   â”œâ”€â”€ pr-creation/
â”‚   â”‚   â””â”€â”€ <span class="hljs-built_in">SKILL</span>.md
â”‚   â””â”€â”€ testing/
â”‚       â””â”€â”€ <span class="hljs-built_in">SKILL</span>.md
</code></pre>
<h3 data-id="heading-39">9.3 å›¢é˜Ÿå…±äº«</h3>
<ul>
<li>å°†æŠ€èƒ½æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶</li>
<li>ä½¿ç”¨é¡¹ç›®çº§å®‰è£…ï¼ˆé»˜è®¤ï¼‰</li>
<li>åœ¨ README ä¸­è®°å½•å¯ç”¨æŠ€èƒ½</li>
</ul>
<hr/>
<h2 data-id="heading-40">åã€æ€»ç»“</h2>
<p>Skills CLI é€šè¿‡ä»¥ä¸‹è®¾è®¡å†³ç­–æ„å»ºäº†ä¸€ä¸ªå¼ºå¤§çš„ AI ç¼–ç¨‹åŠ©æ‰‹æŠ€èƒ½ç”Ÿæ€ç³»ç»Ÿï¼š</p>
<ol>
<li><strong>æµ…å…‹éš†</strong>ï¼šä½¿ç”¨ <code>--depth 1</code> åŠ é€Ÿä»“åº“å…‹éš†</li>
<li><strong>ç¬¦å·é“¾æ¥ä¼˜å…ˆ</strong>ï¼šå•ä¸€çœŸç›¸æ¥æºï¼Œä¾¿äºæ›´æ–°</li>
<li><strong>é˜²æŠ–æœç´¢</strong>ï¼šé¿å…é¢‘ç¹ API è°ƒç”¨</li>
<li><strong>é”æ–‡ä»¶ç‰ˆæœ¬æ§åˆ¶</strong>ï¼šæ”¯æŒæœªæ¥æ ¼å¼è¿ç§»</li>
<li><strong>æä¾›è€…æ¨¡å¼</strong>ï¼šæ˜“äºæ‰©å±•æ–°çš„æŠ€èƒ½æ¥æº</li>
<li><strong>è·¯å¾„å®‰å…¨éªŒè¯</strong>ï¼šé˜²æ­¢ç›®å½•éå†æ”»å‡»</li>
<li><strong>ä¼˜é›…é™çº§</strong>ï¼šç¬¦å·é“¾æ¥å¤±è´¥æ—¶è‡ªåŠ¨å›é€€åˆ°å¤åˆ¶</li>
</ol>
<p>é€šè¿‡ <a href="https://link.juejin.cn?target=https%3A%2F%2Fskills.sh" target="_blank" title="https://skills.sh" ref="nofollow noopener noreferrer">skills.sh</a> å¹³å°å’Œ <code>npx skills</code> å‘½ä»¤è¡Œå·¥å…·ï¼Œå¼€å‘è€…å¯ä»¥è½»æ¾å‘ç°ã€å®‰è£…ã€ç®¡ç†å’Œåˆ›å»º AI ç¼–ç¨‹åŠ©æ‰‹æŠ€èƒ½ï¼Œä¸ºä»»ä½•æ”¯æŒçš„ Agent æ‰©å±•ä¸“ä¸šèƒ½åŠ›ã€‚</p>
<hr/>
<h2 data-id="heading-41">å‚è€ƒé“¾æ¥</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvercel-labs%2Fskills" target="_blank" title="https://github.com/vercel-labs/skills" ref="nofollow noopener noreferrer">Skills CLI GitHub ä»“åº“</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fagentskills.io" target="_blank" title="https://agentskills.io" ref="nofollow noopener noreferrer">Agent Skills è§„èŒƒ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fskills.sh" target="_blank" title="https://skills.sh" ref="nofollow noopener noreferrer">Skills å¸‚åœº</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvercel-labs%2Fagent-skills" target="_blank" title="https://github.com/vercel-labs/agent-skills" ref="nofollow noopener noreferrer">Vercel Agent Skills ä»“åº“</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SQL Server è§¦å‘å™¨å®æˆ˜å…¨è§£ï¼šç”¨å¯¹æ˜¯åˆ©å™¨ï¼Œç”¨é”™æ˜¯ç¾éš¾]]></title>    <link>https://juejin.cn/post/7599975633477566502</link>    <guid>https://juejin.cn/post/7599975633477566502</guid>    <pubDate>2026-01-28T06:42:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599975633477566502" data-draft-id="7600034446947647526" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SQL Server è§¦å‘å™¨å®æˆ˜å…¨è§£ï¼šç”¨å¯¹æ˜¯åˆ©å™¨ï¼Œç”¨é”™æ˜¯ç¾éš¾"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-28T06:42:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§é¹1988"/> <meta itemprop="url" content="https://juejin.cn/user/2526022571922992"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SQL Server è§¦å‘å™¨å®æˆ˜å…¨è§£ï¼šç”¨å¯¹æ˜¯åˆ©å™¨ï¼Œç”¨é”™æ˜¯ç¾éš¾
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2526022571922992/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§é¹1988
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T06:42:48.000Z" title="Wed Jan 28 2026 06:42:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>SQL Server è§¦å‘å™¨å®æˆ˜å…¨è§£ï¼šç”¨å¯¹æ˜¯åˆ©å™¨ï¼Œç”¨é”™æ˜¯ç¾éš¾</strong></p>
<h2 data-id="heading-0">å¼•è¨€</h2>
<p>åœ¨ SQL Server çš„å¯ç¼–ç¨‹å¯¹è±¡ä¸­ï¼Œ<strong>è§¦å‘å™¨ï¼ˆTriggerï¼‰</strong> æ˜¯æœ€å…·äº‰è®®ä¹Ÿæœ€å®¹æ˜“è¢«è¯¯ç”¨çš„ä¸€ä¸ªã€‚<br/>
å®ƒèƒ½åœ¨æ•°æ®å‘ç”Ÿ INSERTã€UPDATE æˆ– DELETE æ—¶è‡ªåŠ¨æ‰§è¡Œé€»è¾‘ï¼Œçœ‹ä¼¼â€œç¥å¥‡â€â€”â€”ä½†è‹¥è®¾è®¡ä¸å½“ï¼Œè½»åˆ™æ€§èƒ½éª¤é™ï¼Œé‡åˆ™å¼•å‘æ­»é”ã€æ•°æ®ä¸ä¸€è‡´ç”šè‡³ç³»ç»Ÿé›ªå´©ã€‚</p>
<p>å¾ˆå¤šå¼€å‘è€…è¦ä¹ˆå®Œå…¨å›é¿è§¦å‘å™¨ï¼Œè¦ä¹ˆæ»¥ç”¨å®ƒå¤„ç†å¤æ‚ä¸šåŠ¡ï¼Œç»“æœåŸ‹ä¸‹éšæ‚£ã€‚<br/>
æœ¬æ–‡å°†å¸¦ä½ ï¼š</p>
<ul>
<li>ç†æ¸…è§¦å‘å™¨çš„å·¥ä½œæœºåˆ¶ï¼›</li>
<li>æŒæ¡æ­£ç¡®ä½¿ç”¨åœºæ™¯ï¼›</li>
<li>è¯†åˆ«å¹¶é¿å¼€ 90% çš„å¸¸è§é™·é˜±ï¼›</li>
<li>æä¾›ç”Ÿäº§çº§ç¼–å†™æ¨¡æ¿ä¸æ›¿ä»£æ–¹æ¡ˆå»ºè®®ã€‚</li>
</ul>
<p>ç›®æ ‡ï¼š<strong>è®©ä½ æ•¢ç”¨ã€ä¼šç”¨ã€ç”¨å¥½è§¦å‘å™¨</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€ä»€ä¹ˆæ˜¯è§¦å‘å™¨ï¼Ÿå®ƒå¦‚ä½•å·¥ä½œï¼Ÿ</h2>
<p>è§¦å‘å™¨æ˜¯ä¸€ç§ç‰¹æ®Šçš„å­˜å‚¨è¿‡ç¨‹ï¼Œ<strong>ä¸ç”±ç”¨æˆ·ç›´æ¥è°ƒç”¨ï¼Œè€Œæ˜¯åœ¨ç‰¹å®š DML æ“ä½œï¼ˆINSERT/UPDATE/DELETEï¼‰å‘ç”Ÿæ—¶è‡ªåŠ¨è§¦å‘</strong>ã€‚</p>
<h3 data-id="heading-2">ä¸¤ç§ç±»å‹ï¼š</h3>

















<table><thead><tr><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>AFTER è§¦å‘å™¨</strong>ï¼ˆé»˜è®¤ï¼‰</td><td>åœ¨ DML æ“ä½œæˆåŠŸå®Œæˆåæ‰§è¡Œï¼Œå¯è®¿é—® <code>inserted</code> å’Œ <code>deleted</code> ä¸´æ—¶è¡¨</td></tr><tr><td><strong>INSTEAD OF è§¦å‘å™¨</strong></td><td>æ›¿ä»£åŸæ“ä½œæ‰§è¡Œï¼Œå¸¸ç”¨äºè§†å›¾ä¸Šå®ç°å¯æ›´æ–°é€»è¾‘</td></tr></tbody></table>
<blockquote>
<p>âœ… ç»å¤§å¤šæ•°åœºæ™¯ä½¿ç”¨ <strong>AFTER è§¦å‘å™¨</strong>ã€‚</p>
</blockquote>
<h3 data-id="heading-3">å…³é”®æ¦‚å¿µï¼š<code>inserted</code> ä¸ <code>deleted</code> è¡¨</h3>
<ul>
<li><code>inserted</code>ï¼šåŒ…å«æ–°æ’å…¥æˆ–æ›´æ–°åçš„è¡Œï¼›</li>
<li><code>deleted</code>ï¼šåŒ…å«è¢«åˆ é™¤æˆ–æ›´æ–°å‰çš„è¡Œï¼›</li>
<li>è¿™ä¸¤ä¸ªè¡¨<strong>ä»…åœ¨è§¦å‘å™¨å†…éƒ¨å¯è§</strong>ï¼Œç»“æ„ä¸åŸè¡¨ä¸€è‡´ã€‚</li>
</ul>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ç¤ºä¾‹ï¼šæŸ¥çœ‹æ›´æ–°å‰åå€¼</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TRIGGER</span> trg_Employee_Salary_Audit
<span class="hljs-keyword">ON</span> Employees
AFTER <span class="hljs-keyword">UPDATE</span>
<span class="hljs-keyword">AS</span>
<span class="hljs-keyword">BEGIN</span>
    <span class="hljs-keyword">SELECT</span> 
        d.EmployeeId,
        d.Salary <span class="hljs-keyword">AS</span> OldSalary,
        i.Salary <span class="hljs-keyword">AS</span> NewSalary
    <span class="hljs-keyword">FROM</span> deleted d
    <span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> inserted i <span class="hljs-keyword">ON</span> d.EmployeeId <span class="hljs-operator">=</span> i.EmployeeId;
<span class="hljs-keyword">END</span>
</code></pre>
<hr/>
<h2 data-id="heading-4">äºŒã€è§¦å‘å™¨çš„åˆç†ä½¿ç”¨åœºæ™¯</h2>
<h3 data-id="heading-5">âœ… åœºæ™¯ 1ï¼šå®¡è®¡æ—¥å¿—ï¼ˆAudit Loggingï¼‰</h3>
<p>è‡ªåŠ¨è®°å½•è°ã€ä½•æ—¶ã€ä¿®æ”¹äº†ä»€ä¹ˆã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TRIGGER</span> trg_Product_Update_Log
<span class="hljs-keyword">ON</span> Products
AFTER <span class="hljs-keyword">UPDATE</span>
<span class="hljs-keyword">AS</span>
<span class="hljs-keyword">BEGIN</span>
    <span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> ProductChangeLog (ProductId, OldPrice, NewPrice, ChangedBy, ChangeTime)
    <span class="hljs-keyword">SELECT</span> 
        i.Id,
        d.Price,
        i.Price,
        <span class="hljs-built_in">SYSTEM_USER</span>,
        GETDATE()
    <span class="hljs-keyword">FROM</span> inserted i
    <span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> deleted d <span class="hljs-keyword">ON</span> i.Id <span class="hljs-operator">=</span> d.Id
    <span class="hljs-keyword">WHERE</span> i.Price <span class="hljs-operator">&lt;&gt;</span> d.Price; <span class="hljs-comment">-- ä»…è®°å½•ä»·æ ¼å˜åŠ¨</span>
<span class="hljs-keyword">END</span>
</code></pre>
<h3 data-id="heading-6">âœ… åœºæ™¯ 2ï¼šç»´æŠ¤æ´¾ç”Ÿæ•°æ®ï¼ˆDenormalizationï¼‰</h3>
<p>ä¾‹å¦‚è‡ªåŠ¨æ›´æ–°æ±‡æ€»è¡¨ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- è®¢å•æ˜ç»†å˜æ›´æ—¶ï¼Œè‡ªåŠ¨æ›´æ–°è®¢å•æ€»é‡‘é¢</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TRIGGER</span> trg_OrderItem_Update_Total
<span class="hljs-keyword">ON</span> OrderItems
AFTER <span class="hljs-keyword">INSERT</span>, <span class="hljs-keyword">UPDATE</span>, <span class="hljs-keyword">DELETE</span>
<span class="hljs-keyword">AS</span>
<span class="hljs-keyword">BEGIN</span>
    <span class="hljs-comment">-- åˆå¹¶æ‰€æœ‰å—å½±å“çš„ OrderId</span>
    <span class="hljs-keyword">WITH</span> AffectedOrders <span class="hljs-keyword">AS</span> (
        <span class="hljs-keyword">SELECT</span> OrderId <span class="hljs-keyword">FROM</span> inserted
        <span class="hljs-keyword">UNION</span>
        <span class="hljs-keyword">SELECT</span> OrderId <span class="hljs-keyword">FROM</span> deleted
    )
    <span class="hljs-keyword">UPDATE</span> o
    <span class="hljs-keyword">SET</span> TotalAmount <span class="hljs-operator">=</span> (
        <span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">COALESCE</span>(<span class="hljs-built_in">SUM</span>(Quantity <span class="hljs-operator">*</span> Price), <span class="hljs-number">0</span>)
        <span class="hljs-keyword">FROM</span> OrderItems oi
        <span class="hljs-keyword">WHERE</span> oi.OrderId <span class="hljs-operator">=</span> o.Id
    )
    <span class="hljs-keyword">FROM</span> Orders o
    <span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> AffectedOrders a <span class="hljs-keyword">ON</span> o.Id <span class="hljs-operator">=</span> a.OrderId;
<span class="hljs-keyword">END</span>
</code></pre>
<h3 data-id="heading-7">âœ… åœºæ™¯ 3ï¼šå¤æ‚çº¦æŸï¼ˆæ— æ³•ç”¨ CHECK å®ç°ï¼‰</h3>
<p>ä¾‹å¦‚ï¼šâ€œVIP å®¢æˆ·è®¢å•é‡‘é¢ä¸èƒ½ä½äº 100 å…ƒâ€ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TRIGGER</span> trg_Enforce_VIP_MinOrder
<span class="hljs-keyword">ON</span> Orders
AFTER <span class="hljs-keyword">INSERT</span>, <span class="hljs-keyword">UPDATE</span>
<span class="hljs-keyword">AS</span>
<span class="hljs-keyword">BEGIN</span>
    IF <span class="hljs-keyword">EXISTS</span> (
        <span class="hljs-keyword">SELECT</span> <span class="hljs-number">1</span>
        <span class="hljs-keyword">FROM</span> inserted i
        <span class="hljs-keyword">JOIN</span> Customers c <span class="hljs-keyword">ON</span> i.CustomerId <span class="hljs-operator">=</span> c.Id
        <span class="hljs-keyword">WHERE</span> c.IsVIP <span class="hljs-operator">=</span> <span class="hljs-number">1</span> <span class="hljs-keyword">AND</span> i.TotalAmount <span class="hljs-operator">&lt;</span> <span class="hljs-number">100</span>
    )
    <span class="hljs-keyword">BEGIN</span>
        THROW <span class="hljs-number">50001</span>, <span class="hljs-string">'VIP å®¢æˆ·è®¢å•é‡‘é¢ä¸å¾—ä½äº 100 å…ƒ'</span>, <span class="hljs-number">1</span>;
    <span class="hljs-keyword">END</span>
<span class="hljs-keyword">END</span>
</code></pre>
<hr/>
<h2 data-id="heading-8">ä¸‰ã€é«˜é¢‘â€œè¸©å‘â€æ¸…å• &amp; é¿å‘æŒ‡å—</h2>
<h3 data-id="heading-9">âŒ å‘ 1ï¼šå‡è®¾ä¸€æ¬¡åªå¤„ç†ä¸€è¡Œæ•°æ®</h3>
<p><strong>é”™è¯¯å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">DECLARE</span> <span class="hljs-variable">@Id</span> <span class="hljs-type">INT</span>;
<span class="hljs-keyword">SELECT</span> <span class="hljs-variable">@Id</span> <span class="hljs-operator">=</span> Id <span class="hljs-keyword">FROM</span> inserted; <span class="hljs-comment">-- å¦‚æœå¤šè¡Œï¼Œåªå–æœ€åä¸€è¡Œï¼</span>
</code></pre>
<p>âœ… <strong>æ­£ç¡®åšæ³•</strong>ï¼šå§‹ç»ˆæŒ‰<strong>é›†åˆæ“ä½œ</strong>æ€ç»´ç¼–å†™ï¼Œä½¿ç”¨ JOIN å¤„ç† <code>inserted/deleted</code>ã€‚</p>
<hr/>
<h3 data-id="heading-10">âŒ å‘ 2ï¼šåœ¨è§¦å‘å™¨ä¸­æ‰§è¡Œè€—æ—¶æ“ä½œ</h3>
<p>å¦‚è°ƒç”¨å¤–éƒ¨ APIã€å‘é€é‚®ä»¶ã€å¤æ‚è®¡ç®—ã€‚<br/>
è¿™ä¼š<strong>é˜»å¡ä¸»äº‹åŠ¡</strong>ï¼Œå¯¼è‡´åº”ç”¨å¡é¡¿ç”šè‡³è¶…æ—¶ã€‚</p>
<p>âœ… <strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>å°†ä»»åŠ¡å†™å…¥é˜Ÿåˆ—è¡¨ï¼›</li>
<li>ç”±åå°ä½œä¸šï¼ˆå¦‚ SQL Agent Job æˆ–åº”ç”¨æœåŠ¡ï¼‰å¼‚æ­¥å¤„ç†ã€‚</li>
</ul>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- è§¦å‘å™¨åªå†™æ—¥å¿—</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> NotificationQueue (Type, TargetId, CreatedAt)
<span class="hljs-keyword">SELECT</span> <span class="hljs-string">'PriceChanged'</span>, i.Id, GETDATE()
<span class="hljs-keyword">FROM</span> inserted i
<span class="hljs-keyword">JOIN</span> deleted d <span class="hljs-keyword">ON</span> i.Id <span class="hljs-operator">=</span> d.Id
<span class="hljs-keyword">WHERE</span> i.Price <span class="hljs-operator">&lt;&gt;</span> d.Price;
</code></pre>
<hr/>
<h3 data-id="heading-11">âŒ å‘ 3ï¼šè§¦å‘å™¨åµŒå¥—æˆ–é€’å½’</h3>
<p>A è§¦å‘å™¨ä¿®æ”¹è¡¨ B â†’ è§¦å‘ B çš„è§¦å‘å™¨ â†’ åˆä¿®æ”¹è¡¨ A â†’ æ­»å¾ªç¯ï¼</p>
<p>âœ… <strong>é˜²å¾¡æªæ–½</strong>ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ç¦æ­¢é€’å½’è§¦å‘ï¼ˆæ•°æ®åº“çº§åˆ«ï¼‰</span>
<span class="hljs-keyword">ALTER</span> DATABASE YourDB <span class="hljs-keyword">SET</span> RECURSIVE_TRIGGERS OFF;

<span class="hljs-comment">-- æˆ–åœ¨è§¦å‘å™¨å¼€å¤´æ£€æŸ¥åµŒå¥—å±‚çº§</span>
IF TRIGGER_NESTLEVEL() <span class="hljs-operator">&gt;</span> <span class="hljs-number">1</span> <span class="hljs-keyword">RETURN</span>;
</code></pre>
<hr/>
<h3 data-id="heading-12">âŒ å‘ 4ï¼šå¿½ç•¥é”™è¯¯å¤„ç†</h3>
<p>è§¦å‘å™¨ä¸­æœªæ•è·å¼‚å¸¸ä¼šå¯¼è‡´<strong>æ•´ä¸ª DML è¯­å¥å›æ»š</strong>ï¼Œä½†åº”ç”¨å¯èƒ½ä¸çŸ¥åŸå› ã€‚</p>
<p>âœ… <strong>å»ºè®®</strong>ï¼šè®°å½•é”™è¯¯æ—¥å¿—ï¼ˆå³ä½¿ä¸ä¸­æ–­äº‹åŠ¡ï¼‰ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">BEGIN</span> TRY
    <span class="hljs-comment">-- ä¸šåŠ¡é€»è¾‘</span>
<span class="hljs-keyword">END</span> TRY
<span class="hljs-keyword">BEGIN</span> CATCH
    <span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> TriggerErrorLog (ErrorMessage, ErrorTime)
    <span class="hljs-keyword">VALUES</span> (ERROR_MESSAGE(), GETDATE());
    <span class="hljs-comment">-- æ ¹æ®éœ€æ±‚å†³å®šæ˜¯å¦ THROW</span>
<span class="hljs-keyword">END</span> CATCH
</code></pre>
<hr/>
<h3 data-id="heading-13">âŒ å‘ 5ï¼šå½±å“æ€§èƒ½å´æ— æ„ŸçŸ¥</h3>
<p>è§¦å‘å™¨æ‰§è¡Œè®¡åˆ’ä¸é€æ˜ï¼Œæ…¢æŸ¥è¯¢éš¾ä»¥è¿½è¸ªã€‚</p>
<p>âœ… <strong>ä¼˜åŒ–å»ºè®®</strong>ï¼š</p>
<ul>
<li>ä¸º <code>inserted/deleted</code> JOIN å­—æ®µæ·»åŠ ç´¢å¼•ï¼›</li>
<li>é¿å…åœ¨è§¦å‘å™¨ä¸­ä½¿ç”¨æ¸¸æ ‡æˆ– WHILE å¾ªç¯ï¼›</li>
<li>å®šæœŸç”¨ <code>sys.dm_exec_trigger_stats</code> ç›‘æ§æ‰§è¡Œè€—æ—¶ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-14">å››ã€æ›¿ä»£æ–¹æ¡ˆï¼šä»€ä¹ˆæ—¶å€™ä¸è¯¥ç”¨è§¦å‘å™¨ï¼Ÿ</h2>





























<table><thead><tr><th>éœ€æ±‚</th><th>æ›´ä¼˜æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>ç®€å•æ•°æ®æ ¡éªŒ</td><td>CHECK çº¦æŸã€å¤–é”®</td></tr><tr><td>ä¸šåŠ¡æµç¨‹æ§åˆ¶</td><td>åº”ç”¨å±‚é€»è¾‘ + äº‹åŠ¡</td></tr><tr><td>å¼‚æ­¥é€šçŸ¥</td><td>æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆå¦‚ RabbitMQã€Kafkaï¼‰</td></tr><tr><td>å¤æ‚è®¡ç®—</td><td>åº”ç”¨æœåŠ¡æˆ–å®šæ—¶æ‰¹å¤„ç†</td></tr><tr><td>è·¨åº“åŒæ­¥</td><td>CDCï¼ˆå˜æ›´æ•°æ®æ•è·ï¼‰æˆ– Service Broker</td></tr></tbody></table>
<blockquote>
<p>ğŸ¯ <strong>é»„é‡‘æ³•åˆ™</strong>ï¼š<br/>
<strong>è§¦å‘å™¨åªåšâ€œä¸å½“å‰è¡¨å¼ºç›¸å…³ã€è½»é‡ã€å¿…é¡»åŒæ­¥å®Œæˆâ€çš„äº‹æƒ…</strong>ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-15">äº”ã€ç”Ÿäº§çº§è§¦å‘å™¨æ¨¡æ¿ï¼ˆæ¨èç»“æ„ï¼‰</h2>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TRIGGER</span> [Schema].[trg_TableName_Action]
<span class="hljs-keyword">ON</span> [Schema].[TableName]
AFTER <span class="hljs-keyword">INSERT</span>, <span class="hljs-keyword">UPDATE</span>, <span class="hljs-keyword">DELETE</span>
<span class="hljs-keyword">AS</span>
<span class="hljs-keyword">BEGIN</span>
    <span class="hljs-keyword">SET</span> NOCOUNT <span class="hljs-keyword">ON</span>;               <span class="hljs-comment">-- é¿å…é¢å¤–ç»“æœé›†</span>
    IF TRIGGER_NESTLEVEL() <span class="hljs-operator">&gt;</span> <span class="hljs-number">1</span> <span class="hljs-keyword">RETURN</span>; <span class="hljs-comment">-- é˜²é€’å½’</span>

    <span class="hljs-comment">-- 1. åˆ¤æ–­æ˜¯å¦æœ‰å®é™…å˜æ›´ï¼ˆå¯é€‰ï¼‰</span>
    IF <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">EXISTS</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-number">1</span> <span class="hljs-keyword">FROM</span> inserted) 
       <span class="hljs-keyword">AND</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">EXISTS</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-number">1</span> <span class="hljs-keyword">FROM</span> deleted)
        <span class="hljs-keyword">RETURN</span>;

    <span class="hljs-keyword">BEGIN</span> TRY
        <span class="hljs-comment">-- 2. ä½ çš„æ ¸å¿ƒé€»è¾‘ï¼ˆé›†åˆæ“ä½œï¼ï¼‰</span>
        <span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> AuditLog (...)
        <span class="hljs-keyword">SELECT</span> ... <span class="hljs-keyword">FROM</span> inserted<span class="hljs-operator">/</span>deleted ...

    <span class="hljs-keyword">END</span> TRY
    <span class="hljs-keyword">BEGIN</span> CATCH
        <span class="hljs-comment">-- 3. è®°å½•é”™è¯¯ï¼ˆæ ¹æ®ç­–ç•¥å†³å®šæ˜¯å¦æŠ›å‡ºï¼‰</span>
        <span class="hljs-keyword">EXEC</span> dbo.LogError 
            <span class="hljs-variable">@Proc</span> <span class="hljs-operator">=</span> <span class="hljs-string">'trg_TableName_Action'</span>,
            <span class="hljs-variable">@Message</span> <span class="hljs-operator">=</span> ERROR_MESSAGE();
        
        <span class="hljs-comment">-- THROW; -- è°¨æ…ï¼šä¼šå›æ»šä¸»äº‹åŠ¡</span>
    <span class="hljs-keyword">END</span> CATCH
<span class="hljs-keyword">END</span>
</code></pre>
<hr/>
<h2 data-id="heading-16">ç»“è¯­</h2>
<p>è§¦å‘å™¨ä¸æ˜¯â€œæ´ªæ°´çŒ›å…½â€ï¼Œä¹Ÿä¸æ˜¯â€œä¸‡èƒ½èƒ¶æ°´â€ã€‚<br/>
å®ƒæ˜¯ SQL Server æä¾›çš„ä¸€ç§<strong>å¼ºå¤§çš„æ•°æ®ä¸€è‡´æ€§ä¿éšœå·¥å…·</strong>ï¼Œä½†å‰ææ˜¯ï¼š<strong>ä½ ç†è§£å®ƒçš„è¾¹ç•Œï¼Œå¹¶å°Šé‡äº‹åŠ¡ä¸æ€§èƒ½çš„çº¦æŸ</strong>ã€‚</p>
<p>è®°ä½ä¸‰å¥è¯ï¼š</p>
<ol>
<li><strong>èƒ½ä¸ç”¨ï¼Œå°±ä¸ç”¨</strong>ï¼›</li>
<li><strong>è¦ç”¨ï¼Œå°±ç”¨å¾—ç®€å•ã€å¿«é€Ÿã€å®‰å…¨</strong>ï¼›</li>
<li><strong>æ°¸è¿œå‡è®¾ä¸€æ¬¡æ“ä½œå½±å“å¤šè¡Œæ•°æ®</strong>ã€‚</li>
</ol>
<p>æŒæ¡è¿™äº›åŸåˆ™ï¼Œä½ å°±èƒ½åœ¨éœ€è¦æ—¶æœæ–­å¯ç”¨è§¦å‘å™¨ï¼Œè€Œåœ¨å…¶ä»–æ—¶å€™ä¼˜é›…åœ°é€‰æ‹©æ›´åˆé€‚çš„æ–¹æ¡ˆã€‚è¿™æ‰æ˜¯çœŸæ­£çš„ä¸“ä¸šæ•°æ®åº“å¼€å‘ä¹‹é“ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android-è®°å½•aarä¸jarçš„ç”Ÿæˆä¸ä½¿ç”¨]]></title>    <link>https://juejin.cn/post/7599981538298101810</link>    <guid>https://juejin.cn/post/7599981538298101810</guid>    <pubDate>2026-01-28T06:31:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599981538298101810" data-draft-id="7599981538298069042" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android-è®°å½•aarä¸jarçš„ç”Ÿæˆä¸ä½¿ç”¨"/> <meta itemprop="keywords" content="Android,Kotlin"/> <meta itemprop="datePublished" content="2026-01-28T06:31:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ishibashi"/> <meta itemprop="url" content="https://juejin.cn/user/2019159609710904"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android-è®°å½•aarä¸jarçš„ç”Ÿæˆä¸ä½¿ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2019159609710904/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ishibashi
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T06:31:20.000Z" title="Wed Jan 28 2026 06:31:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">Android-è®°å½•aarä¸jarçš„ç”Ÿæˆä¸ä½¿ç”¨</h3>
<h3 data-id="heading-1">ä¸€ã€ç”Ÿæˆ</h3>
<h5 data-id="heading-2">ç”ŸæˆAARï¼š</h5>
<p>ç‚¹å‡» Android Studio å³ä¾§çš„Gradleé¢æ¿ï¼Œå±•å¼€â€˜ç›®æ ‡åº“â€™æ¨¡å—çš„Tasks &gt; buildã€‚ åŒå‡»assembleä»»åŠ¡ï¼ˆæˆ–åˆ†åˆ«æ‰§è¡ŒassembleDebug/assembleReleaseç”Ÿæˆå¯¹åº”å˜ä½“çš„ AARï¼‰ã€‚ ç”ŸæˆæˆåŠŸåï¼ŒAAR æ–‡ä»¶ä½äºæ¨¡å—çš„build/outputs/aar/ç›®å½•ä¸‹ï¼Œä¾‹å¦‚ï¼š Debug å˜ä½“ï¼šlibrary-module-debug.aarï¼ŒRelease å˜ä½“ï¼šlibrary-module-release.aarã€‚</p>
<h5 data-id="heading-3">ç”ŸæˆJARï¼š</h5>
<p>ç‚¹å‡» Android Studio å³ä¾§çš„Gradleé¢æ¿ï¼Œå±•å¼€â€˜ç›®æ ‡åº“â€™æ¨¡å—çš„Tasks &gt; buildã€‚ åŒå‡»debugSourcesJarä¸releaseSourcesJarä»»åŠ¡ã€‚ ç”ŸæˆæˆåŠŸåï¼ŒJAR æ–‡ä»¶ä½äºæ¨¡å—çš„build/libs/ç›®å½•ä¸‹ï¼Œä¾‹å¦‚ï¼š Debug å˜ä½“ï¼šlib_common-debug-sources.jarï¼ŒRelease å˜ä½“ï¼šlib_common-sources.jarã€‚</p>
<h6 data-id="heading-4">æ¸©é¦¨æç¤º tips:</h6>
<ul>
<li>æ–‡ä»¶ä½ç½®ï¼š AAR æ–‡ä»¶åº”æ”¾åœ¨æ¨¡å—çš„ libs ç›®å½•ï¼ˆå¦‚ app/libs/ï¼‰ï¼Œä¸æ˜¯é¡¹ç›®æ ¹ç›®å½•ã€‚</li>
<li>åŒæ­¥é¡¹ç›®ï¼š ä¿®æ”¹åç‚¹å‡» Android Studio å³ä¸Šè§’çš„ Sync Now åŒæ­¥ Gradleã€‚</li>
<li>ä¾èµ–ä¼ é€’æ€§ï¼ˆ<code>AARã€JAR åªæ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶æ‰“åŒ…æ ¼å¼ï¼Œä¸ä¼šè‡ªåŠ¨ä¼ é€’å®ƒçš„ä¾èµ–</code>ï¼‰ï¼š AAR ä¸ä¼šè‡ªåŠ¨åŒ…å«å…¶ä¾èµ–é¡¹ï¼Œéœ€æ‰‹åŠ¨æ·»åŠ å…¶æ‰€éœ€çš„åº“ï¼ˆæŸ¥çœ‹ AAR æä¾›çš„æ–‡æ¡£ï¼‰ã€‚</li>
<li>ç‰ˆæœ¬å†²çªï¼š å¦‚æœ AAR åŒ…å«çš„åº“ä¸é¡¹ç›®å…¶ä»–ä¾èµ–å†²çªï¼Œå¯ä½¿ç”¨ exclude æˆ–å¼ºåˆ¶ç‰ˆæœ¬ã€‚ä¸¾ä¸ªæ —å­ï¼š</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">implementation</span>(<span class="hljs-params"><span class="hljs-string">"com.example:library:1.0"</span></span>) {
    <span class="hljs-title function_">exclude</span>(group = <span class="hljs-string">"com.conflict"</span>, <span class="hljs-variable language_">module</span> = <span class="hljs-string">"library"</span>)
}
</code></pre>
<ul>
<li>ProGuardè§„åˆ™ï¼š å¦‚æœ AAR éœ€è¦ç‰¹æ®Šæ··æ·†è§„åˆ™ï¼Œå°†å…¶è§„åˆ™æ·»åŠ åˆ° proguard-rules.pro æ–‡ä»¶ä¸­ã€‚</li>
</ul>
<h3 data-id="heading-5">äºŒã€ä½¿ç”¨jarã€aar:</h3>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">repositories</span> {
    <span class="hljs-comment">// æ·»åŠ æœ¬åœ°ä»“åº“è·¯å¾„</span>
    <span class="hljs-selector-tag">flatDir</span> {
        <span class="hljs-selector-tag">dirs</span>(<span class="hljs-string">"app/libs"</span>,....) <span class="hljs-comment">// æŒ‡å®š AAR å­˜æ”¾ç›®å½•</span>
    }
}

<span class="hljs-selector-tag">dependencies</span> {
    <span class="hljs-comment">// æ·»åŠ  libs ç›®å½•ä¸‹æ‰€æœ‰ AAR\JAR æ–‡ä»¶</span>
    <span class="hljs-selector-tag">implementation</span>(<span class="hljs-built_in">fileTree</span>(<span class="hljs-built_in">mapOf</span>(<span class="hljs-string">"dir"</span> to <span class="hljs-string">"libs"</span>, <span class="hljs-string">"include"</span> to <span class="hljs-built_in">listOf</span>(<span class="hljs-string">"*.aar"</span>, <span class="hljs-string">"*.jar"</span>))))
    <span class="hljs-comment">// å¼•å…¥ç‰¹å®š JAR</span>
    <span class="hljs-selector-tag">implementation</span>(<span class="hljs-built_in">files</span>(<span class="hljs-string">"libs/gson-2.8.9.jar"</span>))
     <span class="hljs-comment">// å¼•ç”¨ AAR-ç›´æ¥æ–‡ä»¶å¼•ç”¨</span>
    <span class="hljs-selector-tag">implementation</span>(<span class="hljs-built_in">files</span>(<span class="hljs-string">"libs/mylibrary.aar"</span>))
    <span class="hljs-comment">// å¼•ç”¨ AAR</span>
    <span class="hljs-selector-tag">implementation</span>(name = <span class="hljs-string">"mylibrary"</span>, ext = <span class="hljs-string">"aar"</span>)
    <span class="hljs-comment">// å¼•ç”¨ AAR(kts)</span>
    <span class="hljs-selector-tag">implementation</span>(<span class="hljs-built_in">mapOf</span>(
        <span class="hljs-string">"name"</span> to <span class="hljs-string">"mylibrary"</span>,
        <span class="hljs-string">"ext"</span> to <span class="hljs-string">"aar"</span>
    ))
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ•°æ®-224 ç¦»çº¿æ•°ä»“ æ¶æ„æ€ä¹ˆé€‰å‹ä¸ä¼°ç®—é›†ç¾¤è§„æ¨¡ï¼šApache vs CDH/HDPï¼Œå…¨ç»„ä»¶æ¸…å•+å‘½åè§„èŒƒ]]></title>    <link>https://juejin.cn/post/7599981538298200114</link>    <guid>https://juejin.cn/post/7599981538298200114</guid>    <pubDate>2026-01-28T06:44:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599981538298200114" data-draft-id="7600034446947680294" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ•°æ®-224 ç¦»çº¿æ•°ä»“ æ¶æ„æ€ä¹ˆé€‰å‹ä¸ä¼°ç®—é›†ç¾¤è§„æ¨¡ï¼šApache vs CDH/HDPï¼Œå…¨ç»„ä»¶æ¸…å•+å‘½åè§„èŒƒ"/> <meta itemprop="keywords" content="åç«¯,å¤§æ•°æ®,Hadoop"/> <meta itemprop="datePublished" content="2026-01-28T06:44:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ­¦å­åº·"/> <meta itemprop="url" content="https://juejin.cn/user/149189314230039"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ•°æ®-224 ç¦»çº¿æ•°ä»“ æ¶æ„æ€ä¹ˆé€‰å‹ä¸ä¼°ç®—é›†ç¾¤è§„æ¨¡ï¼šApache vs CDH/HDPï¼Œå…¨ç»„ä»¶æ¸…å•+å‘½åè§„èŒƒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/149189314230039/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ­¦å­åº·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T06:44:03.000Z" title="Wed Jan 28 2026 06:44:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">TL;DR</h2>
<ul>
<li>åœºæ™¯ï¼šä»0æ­ä¸€å¥—ç¦»çº¿æ•°ä»“ï¼Œéœ€è¦æ¡†æ¶/ç»„ä»¶/æœåŠ¡å™¨/è§„æ¨¡ä¼°ç®—ä¸å‘½åè§„èŒƒ</li>
<li>ç»“è®ºï¼šä¼˜å…ˆç¨³å®šç‰ˆæœ¬ç»„åˆï¼›å‘è¡Œç‰ˆæ›´çœè¿ç»´ï¼›å®¹é‡ä¼°ç®—è¦å åŠ å‰¯æœ¬+é¢„ç•™+è†¨èƒ€ç³»æ•°</li>
<li>äº§å‡ºï¼šä¸€å¥—å¯è½åœ°çš„é€‰å‹æ¸…å•ã€å®¹é‡/èŠ‚ç‚¹ä¼°ç®—å…¬å¼ã€ODS/DWD/DWS/ADS/DIMå‘½åæ¨¡æ¿</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d5a3b70634df419999a3210459666b50~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770187447&amp;x-signature=nTOF0RZQoVHylf%2FKCv5cBAR2660%3D" alt="å¤§æ•°æ®-224 ç¦»çº¿æ•°ä»“ æ¶æ„æ€ä¹ˆé€‰å‹ä¸ä¼°ç®—é›†ç¾¤è§„æ¨¡ï¼šApache vs CDH/HDPï¼Œå…¨ç»„ä»¶æ¸…å•+å‘½åè§„èŒƒ" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0d83552f7f849c98535711b3efa4fca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770187447&amp;x-signature=lf%2Fk8NPEWbdj%2FN1aecHAlxtF%2BW0%3D" alt="ç¦»çº¿æ•°ä»“æ¶æ„å›¾" loading="lazy"/></p>
<h2 data-id="heading-1">æ€»ä½“æ¶æ„è®¾è®¡</h2>
<h3 data-id="heading-2">æŠ€æœ¯æ–¹æ¡ˆé€‰å‹</h3>
<ul>
<li>æ¡†æ¶é€‰å‹</li>
<li>è½¯ä»¶é€‰å‹</li>
<li>æœåŠ¡å™¨é€‰å‹</li>
<li>é›†ç¾¤è§„æ¨¡çš„ä¼°ç®—</li>
</ul>
<h3 data-id="heading-3">æ¡†æ¶é€‰å‹</h3>
<p>Apacheæˆ–ç¬¬ä¸‰æ–¹å‘è¡Œç‰ˆï¼ˆCDHã€HDPã€Fusion Insightï¼‰</p>
<h3 data-id="heading-4">Apacheç¤¾åŒºç‰ˆæœ¬</h3>
<p>ä¼˜ç‚¹ï¼š</p>
<ul>
<li>å®Œå…¨å¼€æºå…è´¹</li>
<li>ç¤¾åŒºæ´»è·ƒ</li>
<li>æ–‡æ¡£ã€èµ„æ–™è¯¦å®</li>
</ul>
<p>ç¼ºç‚¹ï¼š</p>
<ul>
<li>å¤æ‚çš„ç‰ˆæœ¬ç®¡ç†</li>
<li>å¤æ‚çš„é›†ç¾¤å®‰è£…</li>
<li>å¤æ‚çš„é›†ç¾¤è¿ç»´</li>
<li>å¤æ‚çš„ç”Ÿæ€ç¯å¢ƒ</li>
</ul>
<h3 data-id="heading-5">ç¬¬ä¸‰æ–¹å‘è¡Œç‰ˆæœ¬</h3>
<p>CDHã€HDPã€Fusion Insight
Hadoopéµä»Apacheå¼€æºåè®®ï¼Œç”¨æˆ·å¯ä»¥å…è´¹çš„ä»»æ„çš„ä¿®æ”¹å¹¶ä½¿ç”¨Hadoopï¼Œæ­£å› å¦‚æ­¤ï¼Œå¸‚é¢ä¸Šæœ‰å¾ˆå¤šå‚å®¶åœ¨ApacheHadoopçš„åŸºç¡€ä¸Šå¼€å‘äº†è‡ªå·±çš„äº§å“ï¼Œå¦‚Clouderaçš„CDHï¼ŒHortonworksçš„HDPï¼Œåä¸ºçš„FusionInsightç­‰ï¼Œè¿™äº›äº§å“çš„ä¼˜ç‚¹æ˜¯ï¼š</p>
<ul>
<li>ä¸»è¦åŠŸèƒ½å’Œç¤¾åŒºç‰ˆæœ¬ä¸€è‡´</li>
<li>ç‰ˆæœ¬ç®¡ç†æ¸…æ™°ï¼Œæ¯”å¦‚ï¼šClouderaã€CDH3ã€CDH4ç­‰ï¼Œåé¢åŠ ä¸Šè¡¥ä¸çš„ç‰ˆæœ¬ï¼šCDH4.1.0 patch</li>
<li>æ¯”ApacheHadoopåœ¨å…¼å®¹æ€§ã€å®‰å…¨æ€§ã€ç¨³å®šæ€§ä¸Šæœ‰å¢å¼ºï¼Œç¬¬ä¸‰æ–¹å‘è¡Œç‰ˆé€šå¸¸éƒ½æ˜¯ç»è¿‡äº†å¤§é‡çš„æµ‹è¯•éªŒè¯ï¼Œæœ‰ä¼—å¤šéƒ¨ç½²å®ä¾‹ï¼Œå¤§é‡çš„è¿ç”¨åˆ°å„ç§ç”Ÿäº§ç¯å¢ƒä¸­</li>
<li>ç‰ˆæœ¬æ›´æ–°å¿«ï¼Œå¦‚CDHæ¯ä¸ªå­£åº¦ä¼šæœ‰ä¸€ä¸ªUpdateï¼Œæ¯ä¸€å¹´éƒ½æœ‰ä¸€ä¸ªRelease</li>
<li>åŸºäºç¨³å®šç‰ˆçš„ApacheHadoopï¼Œå¹¶åº”ç”¨äº†æœ€æ–°Bugä¿®å¤ã€Featureçš„patch</li>
<li>æä¾›äº†éƒ¨ç½²ã€å®‰è£…ã€é…ç½®å·¥å…·ï¼Œå¤§å¤§æé«˜äº†é›†ç¾¤çš„å®‰è£…æ•ˆç‡ï¼Œå¯ä»¥åœ¨å‡ ä¸ªå°æ—¶ä¹‹å†…å®‰è£…å¥½é›†ç¾¤ã€‚</li>
<li>è¿ç»´ç®€å•ï¼Œæä¾›äº†ç®¡ç†ã€ç›‘æ§ã€è¯Šæ–­ã€é…ç½®ä¿®æ”¹çš„å·¥å…·ï¼Œç®¡ç†é…ç½®æ–¹ä¾¿ï¼Œå®šä½é—®é¢˜å¿«é€Ÿï¼Œå‡†ç¡®ï¼Œä½¿è¿ç»´å·¥ä½œç®€å•ï¼Œæœ‰æ•ˆ</li>
</ul>
<h3 data-id="heading-6">ä¸»è¦çš„ç‰ˆæœ¬æœ‰å¦‚ä¸‹çš„è¿™äº›ï¼š</h3>
<ul>
<li>CHDï¼šæœ€æˆå‹çš„å‘è¡Œç‰ˆæœ¬ï¼Œæ‹¥æœ‰æœ€å¤šçš„éƒ¨ç½²æ¡ˆä¾‹ï¼Œæä¾›å¼ºå¤§çš„éƒ¨ç½²ã€ç®¡ç†å’Œç›‘æ§å·¥å…·ï¼Œå›½å†…ä½¿ç”¨æœ€å¤§çš„ç‰ˆæœ¬ï¼Œæ‹¥æœ‰å¼ºå¤§çš„ç¤¾åŒºæ”¯æŒï¼Œå½“é‡åˆ°é—®é¢˜ï¼Œèƒ½å¤Ÿé€šè¿‡ç¤¾åŒºã€è®ºå›ç­‰ç½‘ç»œèµ„æºå¿«é€Ÿè·å–è§£å†³æ–¹æ³•</li>
<li>HDPï¼š100%å¼€æºï¼Œå¯ä»¥è¿›è¡ŒäºŒæ¬¡å¼€å‘ï¼Œä½†æ²¡æœ‰CDHç¨³å®šï¼Œå›½å†…ä½¿ç”¨ç›¸å¯¹è¾ƒå°‘</li>
<li>Fusion Insightï¼šåä¸ºåŸºäºHadoop2.7.2ç‰ˆå¼€å‘çš„ï¼ŒåšæŒåˆ†å±‚ï¼Œè§£è€¦ï¼Œå¼€æ”¾çš„åŸåˆ™ï¼Œå¾—ç›Šäºé«˜å¯é æ€§ï¼Œåœ¨å…¨å›½å„åœ°æ”¿åºœã€è¿è¥å•†ã€é‡‘èç³»ç»Ÿæœ‰è¾ƒå¤šæ¡ˆä¾‹</li>
</ul>
<h3 data-id="heading-7">è½¯ä»¶é€‰å‹</h3>
<ul>
<li>æ•°æ®é‡‡é›†ï¼šDataXã€Flumeã€Sqoopã€Logstashã€Kafka</li>
<li>æ•°æ®å­˜å‚¨ï¼šHDFSã€HBase</li>
<li>æ•°æ®è®¡ç®—ï¼šHiveã€MapReduceã€Tezã€Sparkã€Flink</li>
<li>è°ƒåº¦ç³»ç»Ÿï¼šAirflowã€azkabanã€Oozie</li>
<li>å…ƒæ•°æ®ç®¡ç†ï¼šAtlas</li>
<li>æ•°æ®è´¨é‡ç®¡ç†ï¼šGriffin</li>
<li>å³å¸­æŸ¥è¯¢ï¼šImpalaã€Kylinã€ClickHouseã€Prestoã€Druid</li>
<li>å…¶ä»–ï¼šMySQL</li>
</ul>
<p>æ¡†æ¶ï¼Œè½¯ä»¶å°½é‡ä¸è¦é€‰æ‹©æœ€æ–°çš„ç‰ˆæœ¬ï¼Œé€‰æ‹©åŠå¹´å‰å·¦å³çš„ç¨³å®šç‰ˆæœ¬ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/31dd7243c0044db095705d340df4bec3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770187447&amp;x-signature=6lyvCz0a1%2B9gtwl2bl7hh0XbuoU%3D" alt="ç¦»çº¿æ•°ä»“è½¯ä»¶ç‰ˆæœ¬" loading="lazy"/></p>
<h3 data-id="heading-8">æœåŠ¡å™¨é€‰å‹</h3>
<p>é€‰æ‹©ç‰©ç†æœºè¿˜æ˜¯äº‘ä¸»æœºï¼š</p>
<ul>
<li>æœºå™¨æˆæœ¬è€ƒè™‘ï¼šç‰©ç†æœºçš„ä»·æ ¼ &gt; äº‘ä¸»æœºçš„ä»·æ ¼</li>
<li>è¿ç»´æˆæœ¬è€ƒè™‘ï¼šç‰©ç†æœºéœ€è¦æœ‰ä¸“ä¸šçš„è¿ç»´äººå‘˜ï¼Œäº‘ä¸»æœºçš„è¿ç»´å·¥ä½œç”±ä¾›åº”å•†å®Œæˆï¼Œè¿ç»´ç›¸å¯¹å®¹æ˜“ï¼Œæˆæœ¬ç›¸å¯¹è¾ƒä½</li>
</ul>
<h3 data-id="heading-9">é›†ç¾¤è§„æ¨¡</h3>
<p>å¦‚ä½•ç¡®è®¤é›†ç¾¤è§„æ¨¡ï¼ˆå‡è®¾ï¼šæ¯å°æœåŠ¡å™¨20Tç¡¬ç›˜ï¼Œ128GBå†…å­˜ï¼‰
å¯ä»¥ä»è®¡ç®—èƒ½åŠ›ã€CPUã€å†…å­˜ã€å­˜å‚¨é‡ç­‰æ–¹é¢è€ƒè™‘é›†ç¾¤è§„æ¨¡ã€‚
å‡è®¾ï¼š</p>
<ul>
<li>æ¯å¤©çš„æ—¥æ´»500ä¸‡ï¼Œå¹³å‡æ¯äººæ¯å¤©æœ‰100æ¡æ—¥å¿—ä¿¡æ¯</li>
<li>æ¯æ¡æ—¥å¿—å¤§å°1Kå·¦å³</li>
<li>ä¸è€ƒè™‘å†å²æ•°æ®ï¼ŒåŠå¹´é›†ç¾¤ä¸æ‰©å®¹</li>
<li>æ•°æ®3ä¸ªå‰¯æœ¬</li>
<li>ç¦»çº¿æ•°æ®ä»“åº“åº”ç”¨</li>
</ul>
<p>è¿™ç§æƒ…å†µä¸‹ï¼Œéœ€è¦å¤šå¤§çš„é›†ç¾¤è§„æ¨¡ï¼Ÿ
è¦åˆ†æçš„æ•°æ®æœ‰ä¸¤éƒ¨åˆ†ï¼šæ—¥å¿—æ•°æ®+ä¸šåŠ¡æ•°æ®</p>
<ul>
<li>æ¯å¤©æ—¥å¿—æ•°æ®é‡ï¼š500W<em>100</em>1K / 1024 / 1024 = 500G</li>
<li>åŠå¹´éœ€è¦å­˜å‚¨é‡ï¼š500G * 3 * 180 / 1024 = 260T</li>
<li>é€šå¸¸è¦ç»™ç£ç›˜é¢„ç•™ 20%-30%çš„ç©ºé—´ï¼š 260*1.25 = 325T</li>
<li>æ•°æ®ä»“åº“åº”ç”¨æœ‰1-2å€çš„æ•°æ®è†¨èƒ€325T * 1.5 = 500T</li>
<li>éœ€è¦å¤§çº¦25ä¸ªèŠ‚ç‚¹</li>
</ul>
<p>å…¶ä»–æœªè€ƒè™‘çš„å› ç´ ï¼šæ•°æ®å‹ç¼©ã€ä¸šåŠ¡æ•°æ®
ä»¥ä¸Šä¼°ç®—çš„ç”Ÿäº§ç¯å¢ƒï¼Œå®é™…ä¸Šé™¤äº†ç”Ÿäº§ç¯å¢ƒä»¥å¤–ï¼Œè¿˜éœ€è¦å¼€å‘æµ‹è¯•ç¯å¢ƒï¼Œè¿™ä¹Ÿéœ€è¦ä¸€å®šæ•°é‡çš„æœºå™¨ã€‚</p>
<h3 data-id="heading-10">ç³»ç»Ÿé€»è¾‘æ¶æ„</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f9a48993ee5c47fda176e03ad0c0e506~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770187447&amp;x-signature=8FhWvdMXZpXP1IQHp5v69%2F2XQs8%3D" alt="ç¦»çº¿æ•°ä»“ç³»ç»Ÿé€»è¾‘æ¶æ„" loading="lazy"/>
æœåŠ¡å™¨è½¯ä»¶é…ç½®å¦‚ä¸‹æ‰€ç¤ºï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d3ffa9988b25466394c8027b0336e985~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770187447&amp;x-signature=RtwiFmmvN05aAGMfH%2BQhE8vykPE%3D" alt="ç¦»çº¿æ•°ä»“æœåŠ¡å™¨è½¯ä»¶é…ç½®" loading="lazy"/></p>
<h2 data-id="heading-11">æ•°æ®ä»“åº“å‘½åè§„èŒƒ</h2>
<h3 data-id="heading-12">æ•°æ®åº“å‘½å</h3>
<ul>
<li>å‘½åè§„åˆ™ï¼šæ•°ä»“å¯¹åº”åˆ†å±‚</li>
<li>å‘½åç¤ºä¾‹ï¼šods/dwd/dws/dim/temp/ads</li>
</ul>
<h3 data-id="heading-13">æ•°ä»“å„å±‚å¯¹åº”æ•°æ®åº“</h3>
<ul>
<li>odså±‚ =&gt; ods_{ä¸šåŠ¡çº¿|ä¸šåŠ¡é¡¹ç›®}</li>
<li>dwå±‚ =&gt; dwd_{ä¸šåŠ¡çº¿|ä¸šåŠ¡é¡¹ç›®} + dws_{ä¸šåŠ¡çº¿|ä¸šåŠ¡é¡¹ç›®}</li>
<li>dim =&gt; dim_ç»´è¡¨</li>
<li>ads =&gt; ads_{ä¸šåŠ¡çº¿|ä¸šåŠ¡é¡¹ç›®} (ç»Ÿè®¡æŒ‡æ ‡ç­‰)</li>
<li>ä¸´æ—¶æ•°æ® =&gt; temp_{ä¸šåŠ¡çº¿|ä¸šåŠ¡é¡¹ç›®}</li>
</ul>
<p>ï¼ˆå¤‡æ³¨ï¼šæœ¬é¡¹ç›®æœªä½¿ç”¨ï¼‰</p>
<h3 data-id="heading-14">è¡¨å‘½åï¼ˆæ•°æ®åº“è¡¨å‘½åï¼‰</h3>
<h2 data-id="heading-15">æ•°æ®ä»“åº“åˆ†å±‚å‘½åè§„èŒƒè¯¦è§£</h2>
<h3 data-id="heading-16">ODSå±‚ï¼ˆOperation Data Storeï¼‰</h3>
<ul>
<li>å‘½åæ ¼å¼ï¼š<code>ods_{ä¸šåŠ¡çº¿|ä¸šåŠ¡é¡¹ç›®}_[æ•°æ®æ¥æºç±»å‹]_{ä¸šåŠ¡}</code></li>
<li>è¯¦ç»†è¯´æ˜ï¼š
<ul>
<li>ä¸šåŠ¡çº¿/é¡¹ç›®ï¼šå¦‚<code>finance</code>(é‡‘è)ã€<code>retail</code>(é›¶å”®)ã€<code>logistics</code>(ç‰©æµ)</li>
<li>æ•°æ®æ¥æºç±»å‹(å¯é€‰)ï¼š<code>db</code>(æ•°æ®åº“)ã€<code>log</code>(æ—¥å¿—)ã€<code>api</code>(æ¥å£)ã€<code>file</code>(æ–‡ä»¶)</li>
<li>ä¸šåŠ¡ï¼šå…·ä½“ä¸šåŠ¡åç§°ï¼Œå¦‚<code>user_login</code>(ç”¨æˆ·ç™»å½•)ã€<code>order_payment</code>(è®¢å•æ”¯ä»˜)</li>
<li>ç¤ºä¾‹ï¼š
<ul>
<li><code>ods_finance_db_user_info</code> (é‡‘èä¸šåŠ¡çº¿æ•°æ®åº“ç”¨æˆ·ä¿¡æ¯)</li>
<li><code>ods_retail_log_page_view</code> (é›¶å”®ä¸šåŠ¡çº¿é¡µé¢æµè§ˆæ—¥å¿—)</li>
<li><code>ods_projectX_api_transaction</code> (Xé¡¹ç›®æ¥å£äº¤æ˜“æ•°æ®)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 data-id="heading-17">DWDå±‚ï¼ˆData Warehouse Detailï¼‰</h3>
<ul>
<li>å‘½åæ ¼å¼ï¼š<code>dwd_{ä¸šåŠ¡çº¿|ä¸šåŠ¡é¡¹ç›®}_{ä¸»é¢˜åŸŸ}_{å­ä¸šåŠ¡}</code></li>
<li>è¯¦ç»†è¯´æ˜ï¼š
<ul>
<li>ä¸»é¢˜åŸŸï¼šå¦‚<code>user</code>(ç”¨æˆ·)ã€<code>order</code>(è®¢å•)ã€<code>product</code>(å•†å“)ã€<code>marketing</code>(è¥é”€)</li>
<li>å­ä¸šåŠ¡ï¼šå…·ä½“ä¸šåŠ¡ç»†åˆ†ï¼Œå¦‚<code>register</code>(æ³¨å†Œ)ã€<code>pay</code>(æ”¯ä»˜)ã€<code>refund</code>(é€€æ¬¾)</li>
<li>ç¤ºä¾‹ï¼š
<ul>
<li><code>dwd_finance_user_register</code> (é‡‘èç”¨æˆ·æ³¨å†Œæ˜ç»†)</li>
<li><code>dwd_retail_order_pay</code> (é›¶å”®è®¢å•æ”¯ä»˜æ˜ç»†)</li>
<li><code>dwd_projectX_product_view</code> (Xé¡¹ç›®å•†å“æµè§ˆæ˜ç»†)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 data-id="heading-18">DWSå±‚ï¼ˆData Warehouse Summaryï¼‰</h3>
<ul>
<li>å‘½åæ ¼å¼ï¼š<code>dws_{ä¸šåŠ¡çº¿|ä¸šåŠ¡é¡¹ç›®}_{ä¸»é¢˜åŸŸ}_{æ±‡æ€»ç›¸å…³ç²’åº¦}_{æ±‡æ€»æ—¶é—´å‘¨æœŸ}</code></li>
<li>è¯¦ç»†è¯´æ˜ï¼š
<ul>
<li>æ±‡æ€»ç›¸å…³ç²’åº¦ï¼šå¦‚<code>user</code>(ç”¨æˆ·çº§)ã€<code>shop</code>(åº—é“ºçº§)ã€<code>city</code>(åŸå¸‚çº§)</li>
<li>æ±‡æ€»æ—¶é—´å‘¨æœŸï¼š<code>d</code>(æ—¥)ã€<code>w</code>(å‘¨)ã€<code>m</code>(æœˆ)ã€<code>q</code>(å­£)ã€<code>y</code>(å¹´)</li>
<li>ç¤ºä¾‹ï¼š
<ul>
<li><code>dws_finance_user_balance_d</code> (é‡‘èç”¨æˆ·ä½™é¢æ—¥æ±‡æ€»)</li>
<li><code>dws_retail_shop_sales_m</code> (é›¶å”®åº—é“ºé”€å”®é¢æœˆæ±‡æ€»)</li>
<li><code>dws_projectX_city_traffic_w</code> (Xé¡¹ç›®åŸå¸‚æµé‡å‘¨æ±‡æ€»)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 data-id="heading-19">ADSå±‚ï¼ˆApplication Data Storeï¼‰</h3>
<ul>
<li>å‘½åæ ¼å¼ï¼š<code>ads_{ä¸šåŠ¡çº¿|ä¸šåŠ¡é¡¹ç›®}_{ç»Ÿè®¡ä¸šåŠ¡}_{æŠ¥è¡¨form|çƒ­é—¨æ’åºtopN}</code></li>
<li>è¯¦ç»†è¯´æ˜ï¼š
<ul>
<li>ç»Ÿè®¡ä¸šåŠ¡ï¼šå…·ä½“ç»Ÿè®¡æŒ‡æ ‡ï¼Œå¦‚<code>active_user</code>(æ´»è·ƒç”¨æˆ·)ã€<code>conversion_rate</code>(è½¬åŒ–ç‡)</li>
<li>æŠ¥è¡¨å½¢å¼ï¼š<code>report</code>(æ ‡å‡†æŠ¥è¡¨)ã€<code>dashboard</code>(ä»ªè¡¨ç›˜)ã€<code>top10</code>(TOP10æ’è¡Œ)</li>
<li>ç¤ºä¾‹ï¼š
<ul>
<li><code>ads_finance_active_user_report</code> (é‡‘èæ´»è·ƒç”¨æˆ·æŠ¥è¡¨)</li>
<li><code>ads_retail_conversion_rate_dashboard</code> (é›¶å”®è½¬åŒ–ç‡ä»ªè¡¨ç›˜)</li>
<li><code>ads_projectX_product_sales_top10</code> (Xé¡¹ç›®å•†å“é”€é‡TOP10)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 data-id="heading-20">DIMå±‚ï¼ˆDimensionï¼‰</h3>
<ul>
<li>å‘½åæ ¼å¼ï¼š<code>dim_{ä¸šåŠ¡çº¿|ä¸šåŠ¡é¡¹ç›®|pubå…¬å…±}_{ç»´åº¦}</code></li>
<li>è¯¦ç»†è¯´æ˜ï¼š
<ul>
<li>å…¬å…±ç»´åº¦ä½¿ç”¨<code>pub</code>æ ‡è¯†ï¼Œä¸šåŠ¡ä¸“å±ç»´åº¦ä½¿ç”¨ä¸šåŠ¡çº¿/é¡¹ç›®æ ‡è¯†</li>
<li>ç»´åº¦ï¼šå¦‚<code>date</code>(æ—¥æœŸ)ã€<code>region</code>(åŒºåŸŸ)ã€<code>category</code>(ç±»ç›®)</li>
<li>ç¤ºä¾‹ï¼š
<ul>
<li><code>dim_pub_date</code> (å…¬å…±æ—¥æœŸç»´åº¦è¡¨)</li>
<li><code>dim_finance_region</code> (é‡‘èåŒºåŸŸç»´åº¦è¡¨)</li>
<li><code>dim_projectX_product_category</code> (Xé¡¹ç›®å•†å“ç±»ç›®ç»´åº¦è¡¨)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 data-id="heading-21">åº”ç”¨åœºæ™¯ç¤ºä¾‹</h3>
<ol>
<li>
<p>ç”µå•†ä¸šåŠ¡å®Œæ•´é“¾è·¯ï¼š</p>
<ul>
<li>ODS: <code>ods_retail_db_order_master</code></li>
<li>DWD: <code>dwd_retail_order_payment</code></li>
<li>DWS: <code>dws_retail_shop_sales_d</code></li>
<li>ADS: <code>ads_retail_daily_sales_report</code></li>
<li>DIM: <code>dim_retail_product_category</code></li>
</ul>
</li>
<li>
<p>é‡‘èé£æ§åœºæ™¯ï¼š</p>
<ul>
<li>ODS: <code>ods_finance_log_user_behavior</code></li>
<li>DWD: <code>dwd_finance_risk_transaction</code></li>
<li>DWS: <code>dws_finance_user_risk_score_m</code></li>
<li>ADS: <code>ads_finance_risk_alert_top100</code></li>
<li>DIM: <code>dim_pub_region</code></li>
</ul>
</li>
</ol>
<h3 data-id="heading-22">åˆ›å»ºæ•°æ®åº“</h3>
<p>æˆ‘ä»¬å¯åŠ¨Hiveï¼Œè¿›è¡Œæ“ä½œï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">create</span> database if <span class="hljs-keyword">not</span> <span class="hljs-keyword">exists</span> ods;
<span class="hljs-keyword">create</span> database if <span class="hljs-keyword">not</span> <span class="hljs-keyword">exists</span> dwd;
<span class="hljs-keyword">create</span> database if <span class="hljs-keyword">not</span> <span class="hljs-keyword">exists</span> dws;
<span class="hljs-keyword">create</span> database if <span class="hljs-keyword">not</span> <span class="hljs-keyword">exists</span> ads;
<span class="hljs-keyword">create</span> database if <span class="hljs-keyword">not</span> <span class="hljs-keyword">exists</span> dim;
<span class="hljs-keyword">create</span> database if <span class="hljs-keyword">not</span> <span class="hljs-keyword">exists</span> tmp;
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6fe6ccabfd644b5e992b9b462533eae3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770187447&amp;x-signature=JOpBaKyDFkMTDkWsP16ewEvnIZo%3D" alt="ç¦»çº¿æ•°ä»“åˆ›å»ºæ•°æ®åº“" loading="lazy"/></p>
<h2 data-id="heading-23">é”™è¯¯é€ŸæŸ¥</h2>








































<table><thead><tr><th>ç—‡çŠ¶</th><th>æ ¹å› </th><th>å®šä½ä¿®å¤</th></tr></thead><tbody><tr><td>é›†ç¾¤ä¸Šçº¿åå¾ˆå¿«ç£ç›˜å‘Šæ€¥</td><td>å®¹é‡ä¼°ç®—åªç®—åŸå§‹æ—¥å¿—é‡ï¼Œæ²¡å åŠ å‰¯æœ¬/é¢„ç•™/è†¨èƒ€/å†å²ä¿ç•™</td><td>å¯¹ç…§ä¼°ç®—é“¾è·¯ï¼šåŸå§‹é‡â†’å‰¯æœ¬â†’å‘¨æœŸâ†’é¢„ç•™â†’è†¨èƒ€ï¼›æ ¸å¯¹ HDFS ä½¿ç”¨ç‡ä¸å¢é•¿æ›²çº¿ï¼›æŠŠå‰¯æœ¬æ•°ã€20â€“30%é¢„ç•™ã€1â€“2å€è†¨èƒ€å†™å…¥å®¹é‡æ¨¡å‹ï¼›æŒ‰èŠ‚ç‚¹ç›˜ä½åæ¨èŠ‚ç‚¹æ•°å¹¶é¢„ç•™æ‰©å®¹ç©ºé—´</td></tr><tr><td>ç»„ä»¶èƒ½è£…èµ·æ¥ä½†é¢‘ç¹å…¼å®¹é—®é¢˜</td><td>è¿½æ–°ç‰ˆæœ¬æˆ–æ··è£…ç‰ˆæœ¬ï¼Œç”Ÿæ€å…¼å®¹çŸ©é˜µæ²¡åš</td><td>é€é¡¹æ ¸å¯¹ï¼šHadoop/Hive/Tez/Spark/HBase/Kafka ä¾èµ–ä¸ç¼–è¯‘ç›®æ ‡ï¼›çœ‹å‘è¡Œç‰ˆæ”¯æŒåˆ—è¡¨ï¼›é‡‡ç”¨å‘è¡Œç‰ˆæ¨èç»„åˆæˆ–é”å®šç¤¾åŒºç¨³å®šç»„åˆï¼›é¿å…â€œæœ€æ–°â€å¹¶åšç»„ä»¶ç‰ˆæœ¬ç»Ÿä¸€è§„åˆ’</td></tr><tr><td>å®‰è£…éƒ¨ç½²å‘¨æœŸè¿‡é•¿ã€åå¤è¸©å‘</td><td>çº¯ç¤¾åŒºç‰ˆç¼ºå°‘ä¸€ä½“åŒ–éƒ¨ç½²/è¿ç»´å·¥å…·ï¼Œæµç¨‹å¤æ‚</td><td>ç»Ÿè®¡å®‰è£…è€—æ—¶ä¸äººå·¥æ­¥éª¤ï¼›æ¢³ç†ï¼šå®‰è£…ã€é…ç½®ã€ç›‘æ§ã€è¯Šæ–­çš„ç¼ºå£ï¼›è‹¥èµ„æºå…è®¸é€‰å‘è¡Œç‰ˆï¼›è‹¥ç¤¾åŒºç‰ˆåˆ™æ˜ç¡®è‡ªåŠ¨åŒ–ï¼ˆAnsible/è„šæœ¬ï¼‰ä¸ç›‘æ§å‘Šè­¦ä½“ç³»</td></tr><tr><td>è¿ç»´å®šä½æ…¢ã€æ”¹é…ç½®é£é™©å¤§</td><td>ç¼ºå°‘é›†ä¸­ç®¡ç†ã€ç›‘æ§ã€è¯Šæ–­å·¥å…·ä¸é…ç½®å˜æ›´æµç¨‹</td><td>å¤ç›˜æ•…éšœï¼šç›‘æ§æŒ‡æ ‡ç¼ºå¤±ã€æ—¥å¿—åˆ†æ•£ã€é…ç½®æ— å®¡è®¡ï¼›å¼•å…¥ç»Ÿä¸€ç®¡ç†ä¸ç›‘æ§ï¼›å»ºç«‹é…ç½®å˜æ›´æµç¨‹ä¸å›æ»šæœºåˆ¶ï¼›å…³é”®ç»„ä»¶æ—¥å¿—é›†ä¸­åŒ–</td></tr><tr><td>æ•°ä»“åˆ†å±‚æ··ä¹±ã€è¡¨åä¸å¯è¯»</td><td>æ— ç»Ÿä¸€å‘½åè§„èŒƒæˆ–è§„èŒƒæœªè¦†ç›–æ¥æº/ä¸»é¢˜/ç²’åº¦/å‘¨æœŸ</td><td>æŠ½æ ·æ£€æŸ¥ ODS/DWD/DWS/ADS/DIM æ˜¯å¦èƒ½ä»è¡¨åè¯»å‡ºå«ä¹‰ï¼›æŒ‰ç»™å®šæ¨¡æ¿å›ºåŒ–ï¼šODSå«æ¥æºç±»å‹ï¼›DWDå«ä¸»é¢˜åŸŸä¸å­ä¸šåŠ¡ï¼›DWSå«ç²’åº¦ä¸å‘¨æœŸï¼›ADSå«æŠ¥è¡¨å½¢æ€ï¼›DIMåŒºåˆ†pubä¸ä¸šåŠ¡çº¿</td></tr><tr><td>Hiveå»ºåº“å»ºè¡¨åæƒé™/èµ„æºå†²çª</td><td>ç¯å¢ƒéš”ç¦»ä¸è¶³ï¼Œç”Ÿäº§/æµ‹è¯•/å¼€å‘å…±ç”¨èµ„æºæˆ–ç¼ºå°‘èµ„æºé˜Ÿåˆ—</td><td>æ£€æŸ¥æ˜¯å¦åŒºåˆ†ç¯å¢ƒï¼›çœ‹ Yarn/é˜Ÿåˆ—ã€Hive metastoreã€HDFS ç›®å½•è§„åˆ’ï¼›æ˜ç¡®å¼€å‘/æµ‹è¯•/ç”Ÿäº§ç¯å¢ƒèµ„æºä¸å…ƒæ•°æ®éš”ç¦»ï¼›æŒ‰ç¯å¢ƒåˆ’åˆ†é˜Ÿåˆ—ä¸å­˜å‚¨è·¯å¾„</td></tr></tbody></table>
<h2 data-id="heading-24">å…¶ä»–ç³»åˆ—</h2>
<h3 data-id="heading-25">ğŸš€ AIç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>AIç‚¼ä¸¹æ—¥å¿—-29 - å­—èŠ‚è·³åŠ¨ DeerFlow æ·±åº¦ç ”ç©¶æ¡†<em>æ–œä½“æ ·å¼</em>æ¶ ç§æœ‰éƒ¨ç½² æµ‹è¯•ä¸Šæ‰‹ æ¶æ„ç ”ç©¶</strong>ï¼ŒæŒç»­æ‰“é€ å®ç”¨AIå·¥å…·æŒ‡å—ï¼
<strong>AIç ”ç©¶-132 Java ç”Ÿæ€å‰æ²¿ 2025ï¼šSpringã€Quarkusã€GraalVMã€CRaC ä¸äº‘åŸç”Ÿè½åœ°</strong></p>
<h3 data-id="heading-26">ğŸ’» Javaç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>Java-218 RocketMQ Java API å®æˆ˜ï¼šåŒæ­¥/å¼‚æ­¥ Producer ä¸ Pull/Push Consumer</strong>
MyBatis å·²å®Œç»“ï¼ŒSpring å·²å®Œç»“ï¼ŒNginxå·²å®Œç»“ï¼ŒTomcatå·²å®Œç»“ï¼Œåˆ†å¸ƒå¼æœåŠ¡å·²å®Œç»“ï¼ŒDubboå·²å®Œç»“ï¼ŒMySQLå·²å®Œç»“ï¼ŒMongoDBå·²å®Œç»“ï¼ŒNeo4jå·²å®Œç»“ï¼ŒFastDFS å·²å®Œç»“ï¼ŒOSSå·²å®Œç»“ï¼ŒGuavaCacheå·²å®Œç»“ï¼ŒEVCacheå·²å®Œç»“ï¼ŒRabbitMQå·²å®Œç»“ï¼ŒRocketMQæ­£åœ¨æ›´æ–°... æ·±å…¥æµ…å‡ºåŠ©ä½ æ‰“ç‰¢åŸºç¡€ï¼</p>
<h3 data-id="heading-27">ğŸ“Š å¤§æ•°æ®æ¿å—å·²å®Œæˆå¤šé¡¹å¹²è´§æ›´æ–°ï¼ˆ300ç¯‡ï¼‰ï¼š</h3>
<p>åŒ…æ‹¬ Hadoopã€Hiveã€Kafkaã€Flinkã€ClickHouseã€Elasticsearch ç­‰äºŒåä½™é¡¹æ ¸å¿ƒç»„ä»¶ï¼Œè¦†ç›–ç¦»çº¿+å®æ—¶æ•°ä»“å…¨æ ˆï¼
<strong>å¤§æ•°æ®-278 Spark MLib - åŸºç¡€ä»‹ç» æœºå™¨å­¦ä¹ ç®—æ³• æ¢¯åº¦æå‡æ ‘ GBDTæ¡ˆä¾‹ è¯¦è§£</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»é›¶å¼€å§‹æ„å»º React æ–‡æ¡£ç³»ç»Ÿ - å®Œæ•´å®ç°æŒ‡å—]]></title>    <link>https://juejin.cn/post/7600068631359275014</link>    <guid>https://juejin.cn/post/7600068631359275014</guid>    <pubDate>2026-01-28T06:43:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600068631359275014" data-draft-id="7600068631359258630" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»é›¶å¼€å§‹æ„å»º React æ–‡æ¡£ç³»ç»Ÿ - å®Œæ•´å®ç°æŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-28T06:43:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="lcy453"/> <meta itemprop="url" content="https://juejin.cn/user/2921833644950300"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»é›¶å¼€å§‹æ„å»º React æ–‡æ¡£ç³»ç»Ÿ - å®Œæ•´å®ç°æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2921833644950300/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    lcy453
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T06:43:29.000Z" title="Wed Jan 28 2026 06:43:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡è¯¦ç»†è®²è§£å¦‚ä½•é€šè¿‡ <code>public/mkdir</code> ç›®å½•ä¸‹çš„é™æ€æ–‡ä»¶ï¼Œæ„å»ºä¸€ä¸ªå®Œæ•´çš„åŠ¨æ€æ–‡æ¡£ç³»ç»Ÿï¼Œé‡ç‚¹è®²è§£é€’å½’ç”Ÿæˆèœå•æ ‘çš„æ€ç»´è¿‡ç¨‹ã€‚</p>
</blockquote>
<h2 data-id="heading-0">æ€ç»´å¯¼å›¾</h2>
<pre><code class="hljs language-yaml" lang="yaml">                       <span class="hljs-string">React</span> <span class="hljs-string">æ–‡æ¡£ç³»ç»Ÿ</span>
                            <span class="hljs-string">|
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                |           |           |
</span>            <span class="hljs-string">æ•°æ®å±‚</span>      <span class="hljs-string">ä¸šåŠ¡é€»è¾‘</span>        <span class="hljs-string">å±•ç¤ºå±‚</span>
                <span class="hljs-string">|</span>           <span class="hljs-string">|</span>           <span class="hljs-string">|
        â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”     |      â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
        |             |     |      |         |
</span>    <span class="hljs-string">structure.json</span>  <span class="hljs-string">*.md</span>  <span class="hljs-string">é€’å½’ç”Ÿæˆ</span>  <span class="hljs-string">Layout</span>  <span class="hljs-string">Menu</span>
        <span class="hljs-string">|</span>             <span class="hljs-string">|</span>   <span class="hljs-string">èœå•æ ‘</span>   <span class="hljs-string">Content</span>  <span class="hljs-string">TOC</span>
        <span class="hljs-string">|</span>             <span class="hljs-string">|</span>     <span class="hljs-string">|</span>      <span class="hljs-string">|</span>         <span class="hljs-string">|
        |             |     |      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
        |             |     |           |
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            |
                      Markdown æ¸²æŸ“
                      ä»£ç é«˜äº®
                      ç›®å½•ç”Ÿæˆ
</span></code></pre>
<hr/>
<h2 data-id="heading-1">ç¬¬ä¸€éƒ¨åˆ†ï¼šè®¤è¯†æ•°æ®ç»“æ„</h2>
<h3 data-id="heading-2">1.1 æ–‡ä»¶æ¶æ„</h3>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">public</span>/mkdir/
â”œâ”€â”€ structure.json          â† æ–‡æ¡£ç»“æ„å®šä¹‰ï¼ˆèœå•æ ‘æ•°æ®æºï¼‰
â”œâ”€â”€ zmgvdxzrh30rqxdn.md     â† ç¬¬ä¸€ä¸ªæµ‹è¯•
â”œâ”€â”€ ghlvwkgc4qo75ro4.md     â† ç¬¬ä¸€ä¸ªæµ‹è¯•çš„ç¬¬ä¸€ä¸ªæ–‡ç« 
â”œâ”€â”€ kgsi2wn7keqirg9y.md     â† æ— æ ‡é¢˜æ–‡æ¡£
â”œâ”€â”€ df89wno2haxgnguw.md     â† ç¬¬äºŒä¸ªæµ‹è¯•çš„ç¬¬äºŒä¸ªæ–‡ç« 
â”œâ”€â”€ skftcatshyl0af3e.md     â† äº§å“ä»‹ç»æµ‹è¯•
â””â”€â”€ image/
    â””â”€â”€ image_0.png         â† å›¾ç‰‡èµ„æº
</code></pre>
<h3 data-id="heading-3">1.2 structure.json æ•°æ®æ ¼å¼</h3>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">[</span>
  <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"uuid"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"jor4NpgvK2u2lEL6"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"DOC"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ç¬¬ä¸€ä¸ªæµ‹è¯•"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"slug"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"zmgvdxzrh30rqxdn"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">254847777</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"level"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"depth"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"parent_uuid"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span>              â† æ— çˆ¶çº§ï¼Œè¿™æ˜¯æ ¹èŠ‚ç‚¹
    <span class="hljs-attr">"child_uuid"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"EVr2HXoOG4WxCWxj"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"sibling_uuid"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"qJfYkzVGN--pCT_x"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"uuid"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"EVr2HXoOG4WxCWxj"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"DOC"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ç¬¬ä¸€ä¸ªæµ‹è¯•çš„ç¬¬ä¸€ä¸ªæ–‡ç« "</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"slug"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ghlvwkgc4qo75ro4"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">254847840</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"level"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"depth"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"parent_uuid"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"jor4NpgvK2u2lEL6"</span><span class="hljs-punctuation">,</span>  â† æœ‰çˆ¶çº§ï¼Œè¿™æ˜¯å­èŠ‚ç‚¹
    <span class="hljs-attr">"child_uuid"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"4piXSpBHNIxpzuqu"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"sibling_uuid"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">]</span>
</code></pre>
<h4 data-id="heading-4">å…³é”®å­—æ®µè§£é‡Šï¼š</h4>













































<table><thead><tr><th>å­—æ®µ</th><th>ä½œç”¨</th><th>ä¾‹å­</th></tr></thead><tbody><tr><td><code>uuid</code></td><td>å”¯ä¸€æ ‡è¯†ç¬¦</td><td><code>jor4NpgvK2u2lEL6</code></td></tr><tr><td><code>type</code></td><td>èŠ‚ç‚¹ç±»å‹</td><td><code>DOC</code>ï¼ˆæ–‡æ¡£ï¼‰æˆ– <code>TITLE</code>ï¼ˆæ ‡é¢˜/åˆ†ç»„ï¼‰</td></tr><tr><td><code>title</code></td><td>æ˜¾ç¤ºåç§°</td><td><code>ç¬¬ä¸€ä¸ªæµ‹è¯•</code></td></tr><tr><td><code>slug</code></td><td>å¯¹åº”çš„ markdown æ–‡ä»¶å</td><td><code>zmgvdxzrh30rqxdn</code></td></tr><tr><td><code>parent_uuid</code></td><td>çˆ¶èŠ‚ç‚¹ ID</td><td>ç©ºå­—ç¬¦ä¸²è¡¨ç¤ºæ˜¯æ ¹èŠ‚ç‚¹</td></tr><tr><td><code>child_uuid</code></td><td>ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹ ID</td><td>æœ‰å€¼è¡¨ç¤ºæœ‰å­èŠ‚ç‚¹ï¼Œæ— å€¼è¡¨ç¤ºå¶å­èŠ‚ç‚¹</td></tr><tr><td><code>level</code></td><td>å±‚çº§æ·±åº¦</td><td>0=æ ¹ï¼Œ1=äºŒçº§ï¼Œ2=ä¸‰çº§...</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-5">ç¬¬äºŒéƒ¨åˆ†ï¼šé€’å½’ç”Ÿæˆèœå•æ ‘ - ç¬¨è›‹å¼è®²è§£</h2>
<blockquote>
<p>è¿™æ˜¯æ•´ä¸ªç³»ç»Ÿçš„æ ¸å¿ƒéš¾ç‚¹ï¼Œæˆ‘ä»¬ç”¨æœ€ç›´ç™½çš„æ–¹å¼è®²è§£ã€‚</p>
</blockquote>
<h3 data-id="heading-6">2.1 é—®é¢˜çš„å‡ºç°</h3>
<p>æˆ‘ä»¬é¢ä¸´çš„é—®é¢˜æ˜¯ï¼š<strong>å¦‚ä½•æŠŠä¸€ä¸ªæ‰å¹³çš„æ•°ç»„è½¬æ¢æˆæ ‘å½¢ç»“æ„ï¼Ÿ</strong></p>
<p><strong>è¾“å…¥æ•°æ®</strong>ï¼ˆæ‰å¹³æ•°ç»„ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">[
  { <span class="hljs-attr">uuid</span>: <span class="hljs-string">"A"</span>, <span class="hljs-attr">parent_uuid</span>: <span class="hljs-string">""</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">"æ ¹èŠ‚ç‚¹1"</span> },
  { <span class="hljs-attr">uuid</span>: <span class="hljs-string">"B"</span>, <span class="hljs-attr">parent_uuid</span>: <span class="hljs-string">"A"</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">"æ ¹èŠ‚ç‚¹1çš„å­èŠ‚ç‚¹"</span> },
  { <span class="hljs-attr">uuid</span>: <span class="hljs-string">"C"</span>, <span class="hljs-attr">parent_uuid</span>: <span class="hljs-string">"B"</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">"æ ¹èŠ‚ç‚¹1çš„å­™èŠ‚ç‚¹"</span> },
  { <span class="hljs-attr">uuid</span>: <span class="hljs-string">"D"</span>, <span class="hljs-attr">parent_uuid</span>: <span class="hljs-string">""</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">"æ ¹èŠ‚ç‚¹2"</span> }
]
</code></pre>
<p><strong>æœŸæœ›è¾“å‡º</strong>ï¼ˆæ ‘å½¢ç»“æ„ï¼‰ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">æ ¹èŠ‚ç‚¹1
â””â”€â”€ æ ¹èŠ‚ç‚¹1çš„å­èŠ‚ç‚¹
<span class="hljs-code">    â””â”€â”€ æ ¹èŠ‚ç‚¹1çš„å­™èŠ‚ç‚¹
æ ¹èŠ‚ç‚¹2
</span></code></pre>
<h3 data-id="heading-7">2.2 é€’å½’çš„æ ¸å¿ƒæ€æƒ³</h3>
<p>å¦‚æœä½ ä¹‹å‰æ²¡æ¥è§¦è¿‡é€’å½’ï¼Œè¿™æ ·ç†è§£ï¼š</p>
<blockquote>
<p><strong>é€’å½’ = é‡å¤ä½¿ç”¨åŒä¸€ä¸ªå‡½æ•°å¤„ç†ç›¸ä¼¼çš„é—®é¢˜</strong></p>
</blockquote>
<p>å°±åƒä¸€ä¸ªä¿„ç½—æ–¯å¥—å¨ƒï¼š</p>
<ul>
<li>æ‰“å¼€å¤§å¨ƒå¨ƒ â†’ é‡Œé¢æœ‰ä¸ªä¸­å¨ƒå¨ƒ</li>
<li>æ‰“å¼€ä¸­å¨ƒå¨ƒ â†’ é‡Œé¢æœ‰ä¸ªå°å¨ƒå¨ƒ</li>
<li>æ‰“å¼€å°å¨ƒå¨ƒ â†’ é‡Œé¢æ˜¯ç©ºçš„ï¼ˆåœæ­¢ï¼‰</li>
</ul>
<p>åœ¨æˆ‘ä»¬çš„èœå•æ ‘ä¸­ï¼š</p>
<ul>
<li>å¤„ç†ä¸€ä¸ªèŠ‚ç‚¹ â†’ æ‰¾åˆ°å®ƒçš„æ‰€æœ‰å­èŠ‚ç‚¹</li>
<li>é€’å½’å¤„ç†æ¯ä¸ªå­èŠ‚ç‚¹ â†’ åˆæ‰¾åˆ°å®ƒä»¬çš„å­èŠ‚ç‚¹</li>
<li>å½“ä¸€ä¸ªèŠ‚ç‚¹æ²¡æœ‰å­èŠ‚ç‚¹ â†’ åœæ­¢é€’å½’</li>
</ul>
<h3 data-id="heading-8">2.3 ä¸€æ­¥æ­¥åˆ†æä»£ç </h3>
<h4 data-id="heading-9">ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºä¸€ä¸ª"è½¬æ¢å‡½æ•°"</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">convertToMenuItem</span>(<span class="hljs-params">item: StructureItem</span>): <span class="hljs-title class_">MenuItem</span> {
  <span class="hljs-comment">// ç¬¬1æ­¥ï¼šä¸ºè¿™ä¸ªèŠ‚ç‚¹åˆ›å»ºä¸€ä¸ªç©ºçš„å­èŠ‚ç‚¹åˆ—è¡¨</span>
  <span class="hljs-keyword">const</span> <span class="hljs-attr">children</span>: <span class="hljs-title class_">MenuItem</span>[] = [];

  <span class="hljs-comment">// ç¬¬2æ­¥ï¼šéå†æ‰€æœ‰é¡¹ï¼Œæ‰¾å‡ºè°æ˜¯è¿™ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹</span>
  items.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">childItem</span>) =&gt;</span> {
    <span class="hljs-comment">// å¦‚æœæŸä¸ªé¡¹çš„ parent_uuid ç­‰äºå½“å‰é¡¹çš„ uuidï¼Œé‚£å®ƒå°±æ˜¯æˆ‘çš„å­èŠ‚ç‚¹</span>
    <span class="hljs-keyword">if</span> (childItem.<span class="hljs-property">parent_uuid</span> === item.<span class="hljs-property">uuid</span>) {
      <span class="hljs-comment">// ç¬¬3æ­¥ï¼šé€’å½’è°ƒç”¨ï¼ç”¨åŒæ ·çš„å‡½æ•°å¤„ç†å­èŠ‚ç‚¹</span>
      <span class="hljs-keyword">const</span> childMenuItem = <span class="hljs-title function_">convertToMenuItem</span>(childItem);

      <span class="hljs-comment">// ç¬¬4æ­¥ï¼šæŠŠè½¬æ¢åçš„å­èŠ‚ç‚¹åŠ å…¥åˆ° children æ•°ç»„</span>
      children.<span class="hljs-title function_">push</span>(childMenuItem);
    }
  });

  <span class="hljs-comment">// ç¬¬5æ­¥ï¼šè¿”å›è½¬æ¢åçš„èœå•é¡¹</span>
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">key</span>: item.<span class="hljs-property">uuid</span>,
    <span class="hljs-attr">label</span>: item.<span class="hljs-property">title</span>,
    <span class="hljs-attr">children</span>: children.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> ? children : <span class="hljs-literal">undefined</span>
  };
}
</code></pre>
<h4 data-id="heading-10">ç¬¬äºŒæ­¥ï¼šæ‰¾å‡ºæ‰€æœ‰æ ¹èŠ‚ç‚¹</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">buildMenuTree</span>(<span class="hljs-params">items: StructureItem[]</span>): <span class="hljs-title class_">MenuItem</span>[] {
  <span class="hljs-comment">// ç¬¬1æ­¥ï¼šåˆ›å»ºä¸€ä¸ªç©ºæ•°ç»„å­˜æ”¾æ ¹èŠ‚ç‚¹</span>
  <span class="hljs-keyword">const</span> <span class="hljs-attr">roots</span>: <span class="hljs-title class_">MenuItem</span>[] = [];

  <span class="hljs-comment">// ç¬¬2æ­¥ï¼šéå†æ‰€æœ‰é¡¹</span>
  items.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> {
    <span class="hljs-comment">// ç¬¬3æ­¥ï¼šå¦‚æœæŸä¸ªé¡¹çš„ parent_uuid æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œè¯´æ˜å®ƒå°±æ˜¯æ ¹èŠ‚ç‚¹</span>
    <span class="hljs-keyword">if</span> (item.<span class="hljs-property">parent_uuid</span> === <span class="hljs-string">""</span>) {
      <span class="hljs-comment">// ç¬¬4æ­¥ï¼šç”¨æˆ‘ä»¬çš„"è½¬æ¢å‡½æ•°"å¤„ç†è¿™ä¸ªæ ¹èŠ‚ç‚¹</span>
      <span class="hljs-keyword">const</span> menuItem = <span class="hljs-title function_">convertToMenuItem</span>(item);

      <span class="hljs-comment">// ç¬¬5æ­¥ï¼šåŠ å…¥æ ¹èŠ‚ç‚¹æ•°ç»„</span>
      roots.<span class="hljs-title function_">push</span>(menuItem);
    }
  });

  <span class="hljs-comment">// ç¬¬6æ­¥ï¼šè¿”å›æ‰€æœ‰æ ¹èŠ‚ç‚¹ï¼ˆå®Œæ•´çš„æ ‘å½¢ç»“æ„ï¼‰</span>
  <span class="hljs-keyword">return</span> roots;
}
</code></pre>
<h3 data-id="heading-11">2.4 æ‰§è¡Œè¿‡ç¨‹çš„åŠ¨ç”»æ¼”ç¤º</h3>
<p>è®©æˆ‘ä»¬ç”¨æˆ‘ä»¬çš„çœŸå®æ•°æ®æ¥æ¼”ç¤ºè¿™ä¸ªè¿‡ç¨‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">structure.<span class="hljs-property">json</span> ä¸­çš„æ•°æ®ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <span class="hljs-attr">uuid</span>: <span class="hljs-string">"jor4NpgvK2u2lEL6"</span>                â”‚ â† æ ¹èŠ‚ç‚¹<span class="hljs-number">1</span>
â”‚ <span class="hljs-attr">type</span>: <span class="hljs-string">"DOC"</span>                             â”‚
â”‚ <span class="hljs-attr">title</span>: <span class="hljs-string">"ç¬¬ä¸€ä¸ªæµ‹è¯•"</span>                      â”‚
â”‚ <span class="hljs-attr">parent_uuid</span>: <span class="hljs-string">""</span>  âœ“ è¿™æ˜¯æ ¹èŠ‚ç‚¹ï¼          â”‚
â”‚ <span class="hljs-attr">child_uuid</span>: <span class="hljs-string">"EVr2HXoOG4WxCWxj"</span>          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  |
                  | <span class="hljs-title function_">convertToMenuItem</span>() è¢«è°ƒç”¨
                  â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ ç¬¬<span class="hljs-number">1</span>æ­¥ï¼šåˆ›å»ºç©º children  â”‚
        â”‚ children = []           â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  |
                  â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ ç¬¬<span class="hljs-number">2</span>æ­¥ï¼šéå†æ‰€æœ‰é¡¹æ‰¾å­èŠ‚ç‚¹            â”‚
        â”‚ items.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">childItem</span>) =&gt;</span> {      â”‚
        â”‚   <span class="hljs-keyword">if</span> (childItem.<span class="hljs-property">parent_uuid</span>         â”‚
        â”‚       === <span class="hljs-string">"jor4NpgvK2u2lEL6"</span>) {   â”‚
        â”‚ æ‰¾åˆ°äº†ï¼<span class="hljs-title class_">EVr2HXoOG</span>4WxCWxj æ˜¯å­èŠ‚ç‚¹â”‚
        â”‚   }                                 â”‚
        â”‚ })                                  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  |
                  â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ ç¬¬<span class="hljs-number">3</span>æ­¥ï¼šé€’å½’å¤„ç†è¿™ä¸ªå­èŠ‚ç‚¹         â”‚
        â”‚ <span class="hljs-title function_">convertToMenuItem</span>({               â”‚
        â”‚   <span class="hljs-attr">uuid</span>: <span class="hljs-string">"EVr2HXoOG4WxCWxj"</span>,      â”‚
        â”‚   <span class="hljs-attr">parent_uuid</span>: <span class="hljs-string">"jor4..."</span>         â”‚
        â”‚ })                               â”‚
        â”‚                                  â”‚
        â”‚ åˆä¼šéå†æ‰€æœ‰é¡¹æ‰¾å®ƒçš„å­èŠ‚ç‚¹...    â”‚
        â”‚ æ‰¾åˆ° <span class="hljs-string">"4piXSpBHNIxpzuqu"</span>           â”‚
        â”‚                                  â”‚
        â”‚ å†é€’å½’å¤„ç† <span class="hljs-string">"4piXSpBHNIxpzuqu"</span>    â”‚
        â”‚ è¿™ä¸ªæ²¡æœ‰å­èŠ‚ç‚¹ï¼Œåœæ­¢é€’å½’ âœ“      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  |
                  â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ æœ€ç»ˆå¾—åˆ°æ ‘å½¢ç»“æ„ï¼š                 â”‚
        â”‚                                  â”‚
        â”‚ ç¬¬ä¸€ä¸ªæµ‹è¯•                        â”‚
        â”‚ â””â”€â”€ ç¬¬ä¸€ä¸ªæµ‹è¯•çš„ç¬¬ä¸€ä¸ªæ–‡ç«         â”‚
        â”‚     â””â”€â”€ æ— æ ‡é¢˜æ–‡æ¡£               â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-12">2.5 ä¸ºä»€ä¹ˆè¦é€’å½’ï¼Ÿ</h3>
<p>å¦‚æœä¸ç”¨é€’å½’ï¼Œä½ å¾—è¿™æ ·åšï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ç¬¬1å±‚ï¼šæ‰¾æ‰€æœ‰æ ¹èŠ‚ç‚¹</span>
<span class="hljs-keyword">const</span> level0 = items.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">i</span> =&gt;</span> i.<span class="hljs-property">parent_uuid</span> === <span class="hljs-string">""</span>);

<span class="hljs-comment">// ç¬¬2å±‚ï¼šä¸ºæ¯ä¸ªæ ¹èŠ‚ç‚¹æ‰¾å­èŠ‚ç‚¹</span>
level0.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">root</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> level1Children = items.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">i</span> =&gt;</span> i.<span class="hljs-property">parent_uuid</span> === root.<span class="hljs-property">uuid</span>);

  <span class="hljs-comment">// ç¬¬3å±‚ï¼šä¸ºæ¯ä¸ªå­èŠ‚ç‚¹æ‰¾å­™èŠ‚ç‚¹</span>
  level1Children.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">child</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> level2Children = items.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">i</span> =&gt;</span> i.<span class="hljs-property">parent_uuid</span> === child.<span class="hljs-property">uuid</span>);

    <span class="hljs-comment">// ç¬¬4å±‚ï¼šä¸ºæ¯ä¸ªå­™èŠ‚ç‚¹æ‰¾æ›¾å­™èŠ‚ç‚¹</span>
    level2Children.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">grandchild</span> =&gt;</span> {
      <span class="hljs-keyword">const</span> level3Children = items.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">i</span> =&gt;</span> i.<span class="hljs-property">parent_uuid</span> === grandchild.<span class="hljs-property">uuid</span>);

      <span class="hljs-comment">// ... æ— é™åµŒå¥—ä¸‹å»ï¼</span>
    });
  });
});
</code></pre>
<p>è¿™æ ·ä»£ç ä¼šæ— é™åµŒå¥—ï¼è€Œé€’å½’åªéœ€è¦ä¸€ä¸ªå‡½æ•°é‡å¤è°ƒç”¨è‡ªå·±ã€‚</p>
<hr/>
<h2 data-id="heading-13">ç¬¬ä¸‰éƒ¨åˆ†ï¼šå®Œæ•´ä»£ç å®ç°</h2>
<h3 data-id="heading-14">3.1 ç±»å‹å®šä¹‰</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ç»“æ„æ•°æ®çš„ç±»å‹</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">StructureItem</span> {
  <span class="hljs-attr">uuid</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">type</span>: <span class="hljs-string">"TITLE"</span> | <span class="hljs-string">"DOC"</span>;          <span class="hljs-comment">// æ ‡é¢˜è¿˜æ˜¯æ–‡æ¡£</span>
  <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span>;                   <span class="hljs-comment">// æ˜¾ç¤ºåç§°</span>
  <span class="hljs-attr">slug</span>: <span class="hljs-built_in">string</span>;                    <span class="hljs-comment">// markdown æ–‡ä»¶å</span>
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span> | <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">level</span>: <span class="hljs-built_in">number</span>;                   <span class="hljs-comment">// å±‚çº§</span>
  <span class="hljs-attr">depth</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">parent_uuid</span>: <span class="hljs-built_in">string</span>;             <span class="hljs-comment">// çˆ¶èŠ‚ç‚¹ ID</span>
  <span class="hljs-attr">child_uuid</span>: <span class="hljs-built_in">string</span>;              <span class="hljs-comment">// ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹ ID</span>
  <span class="hljs-attr">sibling_uuid</span>: <span class="hljs-built_in">string</span>;
}

<span class="hljs-comment">// èœå•é¡¹çš„ç±»å‹</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">MenuItem</span> = <span class="hljs-title class_">Required</span>&lt;<span class="hljs-title class_">MenuProps</span>&gt;[<span class="hljs-string">"items"</span>][<span class="hljs-built_in">number</span>];

<span class="hljs-comment">// ç›®å½•é¡¹çš„ç±»å‹</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">TocItem</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">level</span>: <span class="hljs-built_in">number</span>;
}
</code></pre>
<h3 data-id="heading-15">3.2 é€’å½’ç”Ÿæˆèœå•æ ‘</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">buildMenuTree</span>(<span class="hljs-params">items: StructureItem[]</span>): <span class="hljs-title class_">MenuItem</span>[] {
  <span class="hljs-comment">// ==================== æ ¸å¿ƒå‡½æ•°ï¼šè½¬æ¢å•ä¸ªèŠ‚ç‚¹ ====================</span>
  <span class="hljs-keyword">const</span> convertToMenuItem = (<span class="hljs-attr">item</span>: <span class="hljs-title class_">StructureItem</span>): <span class="hljs-function"><span class="hljs-params">MenuItem</span> =&gt;</span> {
    <span class="hljs-comment">// æ­¥éª¤1ï¼šä¸ºè¿™ä¸ªèŠ‚ç‚¹å‡†å¤‡ä¸€ä¸ªå­èŠ‚ç‚¹å®¹å™¨</span>
    <span class="hljs-keyword">const</span> <span class="hljs-attr">children</span>: <span class="hljs-title class_">MenuItem</span>[] = [];

    <span class="hljs-comment">// æ­¥éª¤2ï¼šéå†æ‰€æœ‰é¡¹ï¼Œæ‰¾å‡ºè°æ˜¯è¿™ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹</span>
    items.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">childItem</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (childItem.<span class="hljs-property">parent_uuid</span> === item.<span class="hljs-property">uuid</span>) {
        <span class="hljs-comment">// æ­¥éª¤3ï¼šé€’å½’å¤„ç†å­èŠ‚ç‚¹</span>
        <span class="hljs-keyword">const</span> childMenuItem = <span class="hljs-title function_">convertToMenuItem</span>(childItem);
        <span class="hljs-keyword">if</span> (childMenuItem) {
          children.<span class="hljs-title function_">push</span>(childMenuItem);
        }
      }
    });

    <span class="hljs-comment">// æ­¥éª¤4ï¼šæ„å»ºèœå•é¡¹å¯¹è±¡</span>
    <span class="hljs-keyword">if</span> (item.<span class="hljs-property">type</span> === <span class="hljs-string">"TITLE"</span>) {
      <span class="hljs-comment">// æ ‡é¢˜ç±»å‹ï¼šæ— æ³•ç‚¹å‡»ï¼Œåªæ˜¯åˆ†ç»„</span>
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">key</span>: item.<span class="hljs-property">uuid</span>,
        <span class="hljs-attr">label</span>: item.<span class="hljs-property">title</span>,
        <span class="hljs-attr">children</span>: children.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> ? children : <span class="hljs-literal">undefined</span>,
      };
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// æ–‡æ¡£ç±»å‹ï¼šå¯ä»¥ç‚¹å‡»æ‰“å¼€æ–‡æ¡£</span>
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">key</span>: item.<span class="hljs-property">uuid</span>,
        <span class="hljs-attr">label</span>: item.<span class="hljs-property">title</span>,
        <span class="hljs-attr">children</span>: children.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> ? children : <span class="hljs-literal">undefined</span>,
        <span class="hljs-attr">slug</span>: item.<span class="hljs-property">slug</span>,  <span class="hljs-comment">// ä¿å­˜ slug ä»¥ä¾¿åç»­åŠ è½½æ–‡ä»¶</span>
      } <span class="hljs-keyword">as</span> <span class="hljs-title class_">MenuItem</span> &amp; { <span class="hljs-attr">slug</span>: <span class="hljs-built_in">string</span> };
    }
  };

  <span class="hljs-comment">// ==================== å¯»æ‰¾æ‰€æœ‰æ ¹èŠ‚ç‚¹ ====================</span>
  <span class="hljs-keyword">const</span> <span class="hljs-attr">roots</span>: <span class="hljs-title class_">MenuItem</span>[] = [];
  items.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> {
    <span class="hljs-comment">// æ ¹èŠ‚ç‚¹çš„ç‰¹å¾ï¼šparent_uuid ä¸ºç©º</span>
    <span class="hljs-keyword">if</span> (item.<span class="hljs-property">parent_uuid</span> === <span class="hljs-string">""</span>) {
      <span class="hljs-keyword">const</span> menuItem = <span class="hljs-title function_">convertToMenuItem</span>(item);
      <span class="hljs-keyword">if</span> (menuItem) {
        roots.<span class="hljs-title function_">push</span>(menuItem);
      }
    }
  });

  <span class="hljs-keyword">return</span> roots;
}
</code></pre>
<h3 data-id="heading-16">3.3 å¯¼å…¥å’Œä½¿ç”¨</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Layout</span>, <span class="hljs-title class_">Menu</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"antd"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">MenuProps</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"antd"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">XMarkdown</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"@ant-design/x-markdown"</span>;
<span class="hljs-keyword">import</span> structure <span class="hljs-keyword">from</span> <span class="hljs-string">"../../../public/mkdir/structure.json"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Word</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [selectedKey, setSelectedKey] = useState&lt;<span class="hljs-built_in">string</span>&gt;(<span class="hljs-string">""</span>);
  <span class="hljs-keyword">const</span> [markdownContent, setMarkdownContent] = useState&lt;<span class="hljs-built_in">string</span>&gt;(<span class="hljs-string">""</span>);

  <span class="hljs-comment">// æ‰§è¡Œé€’å½’å‡½æ•°ï¼Œå¾—åˆ°å®Œæ•´çš„èœå•æ ‘</span>
  <span class="hljs-keyword">const</span> menuItems = <span class="hljs-title function_">buildMenuTree</span>(structure <span class="hljs-keyword">as</span> <span class="hljs-title class_">StructureItem</span>[]);

  <span class="hljs-comment">// å½“ç”¨æˆ·ç‚¹å‡»èœå•é¡¹æ—¶</span>
  <span class="hljs-keyword">const</span> <span class="hljs-attr">handleMenuClick</span>: <span class="hljs-title class_">MenuProps</span>[<span class="hljs-string">"onClick"</span>] = <span class="hljs-function">(<span class="hljs-params">info</span>) =&gt;</span> {
    <span class="hljs-comment">// æ ¹æ® key æ‰¾åˆ°å¯¹åº”çš„ slug</span>
    <span class="hljs-keyword">const</span> item = (structure <span class="hljs-keyword">as</span> <span class="hljs-title class_">StructureItem</span>[]).<span class="hljs-title function_">find</span>(
      <span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> item.<span class="hljs-property">uuid</span> === info.<span class="hljs-property">key</span>
    );

    <span class="hljs-keyword">if</span> (item?.<span class="hljs-property">slug</span> &amp;&amp; item.<span class="hljs-property">slug</span> !== <span class="hljs-string">"#"</span>) {
      <span class="hljs-title function_">setSelectedKey</span>(info.<span class="hljs-property">key</span>);
      <span class="hljs-comment">// åŠ è½½å¯¹åº”çš„ markdown æ–‡ä»¶</span>
      <span class="hljs-title function_">loadMarkdown</span>(item.<span class="hljs-property">slug</span>);
    }
  };

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">loadMarkdown</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">slug: <span class="hljs-built_in">string</span></span>) =&gt; {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/mkdir/<span class="hljs-subst">${slug}</span>.md`</span>);
      <span class="hljs-keyword">const</span> text = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">text</span>();
      <span class="hljs-title function_">setMarkdownContent</span>(text);
    } <span class="hljs-keyword">catch</span> (err) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"åŠ è½½å¤±è´¥:"</span>, err);
    }
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Layout</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Menu</span>
        <span class="hljs-attr">items</span>=<span class="hljs-string">{menuItems}</span>
        <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleMenuClick}</span>
        <span class="hljs-attr">selectedKeys</span>=<span class="hljs-string">{[selectedKey]}</span>
      /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">XMarkdown</span>&gt;</span>{markdownContent}<span class="hljs-tag">&lt;/<span class="hljs-name">XMarkdown</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Layout</span>&gt;</span></span>
  );
}
</code></pre>
<hr/>
<h2 data-id="heading-17">ç¬¬å››éƒ¨åˆ†ï¼šå®Œæ•´çš„æ•°æ®æµ</h2>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="hljs-string">â”‚</span>                        <span class="hljs-string">ç”¨æˆ·æ‰“å¼€åº”ç”¨</span>                               <span class="hljs-string">â”‚</span>
<span class="hljs-string">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
                              <span class="hljs-string">|
                              â†“
</span><span class="hljs-string">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="hljs-string">â”‚</span> <span class="hljs-number">1</span><span class="hljs-string">.</span> <span class="hljs-string">å¯¼å…¥</span> <span class="hljs-string">structure.json</span>                                           <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>    <span class="hljs-string">import</span> <span class="hljs-string">structure</span> <span class="hljs-string">from</span> <span class="hljs-string">"../../../public/mkdir/structure.json"</span><span class="hljs-string">;</span> <span class="hljs-string">â”‚</span>
<span class="hljs-string">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
                              <span class="hljs-string">|
                              â†“
</span><span class="hljs-string">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="hljs-string">â”‚</span> <span class="hljs-number">2</span><span class="hljs-string">.</span> <span class="hljs-string">è°ƒç”¨</span> <span class="hljs-string">buildMenuTree(structure)</span>                                 <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>    <span class="hljs-string">â†“</span>                                                             <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>    <span class="hljs-string">æ‰å¹³æ•°ç»„</span> <span class="hljs-string">â†’</span> <span class="hljs-string">æ ‘å½¢èœå•</span>                                            <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>    [                      {                                      <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>      { <span class="hljs-attr">uuid:</span> <span class="hljs-string">"A"</span>, <span class="hljs-string">...</span> },    <span class="hljs-attr">key:</span> <span class="hljs-string">"A"</span>,                           <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>      { <span class="hljs-attr">uuid:</span> <span class="hljs-string">"B"</span>, <span class="hljs-string">...</span> },    <span class="hljs-attr">children:</span> [{                        <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>      { <span class="hljs-attr">uuid:</span> <span class="hljs-string">"C"</span>, <span class="hljs-string">...</span> }       <span class="hljs-attr">key:</span> <span class="hljs-string">"B"</span>,                         <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>    ]                        <span class="hljs-attr">children:</span> [<span class="hljs-string">...</span>]                     <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>                           }]                                    <span class="hljs-string">â”‚</span>
<span class="hljs-string">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
                              <span class="hljs-string">|
                              â†“
</span><span class="hljs-string">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="hljs-string">â”‚</span> <span class="hljs-number">3</span><span class="hljs-string">.</span> <span class="hljs-string">å°†èœå•æ ‘ä¼ ç»™</span> <span class="hljs-string">Ant</span> <span class="hljs-string">Design</span> <span class="hljs-string">Menu</span> <span class="hljs-string">ç»„ä»¶</span>                              <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>    <span class="hljs-string">&lt;Menu</span> <span class="hljs-string">items=</span>{<span class="hljs-string">menuItems</span>} <span class="hljs-string">/&gt;</span>                                    <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>                                                                  <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>    <span class="hljs-string">æµè§ˆå™¨æ˜¾ç¤ºï¼š</span>                                                   <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>    <span class="hljs-string">âœ“</span> <span class="hljs-string">ç¬¬ä¸€ä¸ªæµ‹è¯•</span>                                                   <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>      <span class="hljs-string">âœ“</span> <span class="hljs-string">ç¬¬ä¸€ä¸ªæµ‹è¯•çš„ç¬¬ä¸€ä¸ªæ–‡ç« </span>                                     <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>        <span class="hljs-string">âœ“</span> <span class="hljs-string">æ— æ ‡é¢˜æ–‡æ¡£</span>                                               <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>    <span class="hljs-string">âœ“</span> <span class="hljs-string">ç¬¬äºŒä¸ªæµ‹è¯•</span>                                                   <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>      <span class="hljs-string">âœ“</span> <span class="hljs-string">ç¬¬äºŒä¸ªæµ‹è¯•çš„ç¬¬äºŒä¸ªæ–‡ç« </span>                                     <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>    <span class="hljs-string">âœ“</span> <span class="hljs-string">äº§å“ä»‹ç»æµ‹è¯•</span>                                                 <span class="hljs-string">â”‚</span>
<span class="hljs-string">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
                              <span class="hljs-string">|
                              â†“
</span><span class="hljs-string">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="hljs-string">â”‚</span> <span class="hljs-number">4</span><span class="hljs-string">.</span> <span class="hljs-string">ç”¨æˆ·ç‚¹å‡»èœå•é¡¹ï¼ˆä¾‹å¦‚"ç¬¬ä¸€ä¸ªæµ‹è¯•"ï¼‰</span>                              <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>    <span class="hljs-string">onClick</span> <span class="hljs-string">äº‹ä»¶è§¦å‘</span> <span class="hljs-string">â†’</span> <span class="hljs-string">handleMenuClick()</span>                          <span class="hljs-string">â”‚</span>
<span class="hljs-string">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
                              <span class="hljs-string">|
                              â†“
</span><span class="hljs-string">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="hljs-string">â”‚</span> <span class="hljs-number">5</span><span class="hljs-string">.</span> <span class="hljs-string">æŸ¥æ‰¾å¯¹åº”çš„</span> <span class="hljs-string">slug</span>                                                <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>    { <span class="hljs-attr">uuid:</span> <span class="hljs-string">"jor4NpgvK2u2lEL6"</span>, <span class="hljs-attr">slug:</span> <span class="hljs-string">"zmgvdxzrh30rqxdn"</span>, <span class="hljs-string">...</span> } <span class="hljs-string">â”‚</span>
<span class="hljs-string">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
                              <span class="hljs-string">|
                              â†“
</span><span class="hljs-string">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="hljs-string">â”‚</span> <span class="hljs-number">6</span><span class="hljs-string">.</span> <span class="hljs-string">åŠ è½½</span> <span class="hljs-string">markdown</span> <span class="hljs-string">æ–‡ä»¶</span>                                             <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>    <span class="hljs-string">fetch("/mkdir/zmgvdxzrh30rqxdn.md")</span>                          <span class="hljs-string">â”‚</span>
<span class="hljs-string">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
                              <span class="hljs-string">|
                              â†“
</span><span class="hljs-string">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="hljs-string">â”‚</span> <span class="hljs-number">7</span><span class="hljs-string">.</span> <span class="hljs-string">æå–</span> <span class="hljs-string">markdown</span> <span class="hljs-string">ä¸­çš„æ ‡é¢˜ç”Ÿæˆç›®å½•</span>                                 <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>    <span class="hljs-comment"># ä¸€çº§æ ‡é¢˜  â† æŠ“åˆ°ï¼åŠ å…¥ç›®å½•                                   â”‚</span>
<span class="hljs-string">â”‚</span>    <span class="hljs-comment">## äºŒçº§æ ‡é¢˜ â† æŠ“åˆ°ï¼åŠ å…¥ç›®å½•                                   â”‚</span>
<span class="hljs-string">â”‚</span>    <span class="hljs-comment">### ä¸‰çº§æ ‡é¢˜ â† æŠ“åˆ°ï¼åŠ å…¥ç›®å½•                                  â”‚</span>
<span class="hljs-string">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
                              <span class="hljs-string">|
                              â†“
</span><span class="hljs-string">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="hljs-string">â”‚</span> <span class="hljs-number">8</span><span class="hljs-string">.</span> <span class="hljs-string">ç”¨</span> <span class="hljs-string">XMarkdown</span> <span class="hljs-string">ç»„ä»¶æ¸²æŸ“</span> <span class="hljs-string">markdown</span>                                 <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>    <span class="hljs-string">â†“</span>                                                             <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>    <span class="hljs-string">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>            <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>    <span class="hljs-string">â”‚</span>   <span class="hljs-string">å·¦ä¾§èœå•</span>      <span class="hljs-string">â”‚</span>    <span class="hljs-string">ä¸­é—´å†…å®¹</span>    <span class="hljs-string">â”‚</span>   <span class="hljs-string">å³ä¾§ç›®å½•</span>    <span class="hljs-string">â”‚</span>            <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>    <span class="hljs-string">â”‚</span>                 <span class="hljs-string">â”‚</span>              <span class="hljs-string">â”‚</span>              <span class="hljs-string">â”‚</span>            <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>    <span class="hljs-string">â”‚</span> <span class="hljs-string">âœ“</span> <span class="hljs-string">ç¬¬ä¸€ä¸ªæµ‹è¯•</span>    <span class="hljs-string">â”‚</span> <span class="hljs-comment"># ä¸€çº§æ ‡é¢˜   â”‚ â€¢ ä¸€çº§æ ‡é¢˜    â”‚            â”‚</span>
<span class="hljs-string">â”‚</span>    <span class="hljs-string">â”‚</span>   <span class="hljs-string">âœ“</span> <span class="hljs-string">å­é¡¹1</span>      <span class="hljs-string">â”‚</span>              <span class="hljs-string">â”‚</span> <span class="hljs-string">â€¢</span> <span class="hljs-string">äºŒçº§æ ‡é¢˜</span>    <span class="hljs-string">â”‚</span>            <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>    <span class="hljs-string">â”‚</span>   <span class="hljs-string">âœ“</span> <span class="hljs-string">å­é¡¹2</span>      <span class="hljs-string">â”‚</span> <span class="hljs-string">è¿™æ˜¯æ–‡æ¡£å†…å®¹</span>  <span class="hljs-string">â”‚</span> <span class="hljs-string">â€¢</span> <span class="hljs-string">ä¸‰çº§æ ‡é¢˜</span>    <span class="hljs-string">â”‚</span>            <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>    <span class="hljs-string">â”‚</span>                 <span class="hljs-string">â”‚</span>              <span class="hljs-string">â”‚</span>              <span class="hljs-string">â”‚</span>            <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>    <span class="hljs-string">â”‚</span> <span class="hljs-string">âœ“</span> <span class="hljs-string">ç¬¬äºŒä¸ªæµ‹è¯•</span>    <span class="hljs-string">â”‚</span> <span class="hljs-comment">## äºŒçº§æ ‡é¢˜  â”‚              â”‚            â”‚</span>
<span class="hljs-string">â”‚</span>    <span class="hljs-string">â”‚</span>                 <span class="hljs-string">â”‚</span>              <span class="hljs-string">â”‚</span>              <span class="hljs-string">â”‚</span>            <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>    <span class="hljs-string">â”‚</span> <span class="hljs-string">âœ“</span> <span class="hljs-string">äº§å“ä»‹ç»</span>      <span class="hljs-string">â”‚</span> <span class="hljs-string">æ›´å¤šå†…å®¹...</span>   <span class="hljs-string">â”‚</span>              <span class="hljs-string">â”‚</span>            <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>    <span class="hljs-string">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>            <span class="hljs-string">â”‚</span>
<span class="hljs-string">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre>
<hr/>
<h2 data-id="heading-18">ç¬¬äº”éƒ¨åˆ†ï¼šå…³é”®å®ç°ç»†èŠ‚</h2>
<h3 data-id="heading-19">5.1 ä» markdown æå–ç›®å½•</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> extractTocFromMarkdown = (<span class="hljs-attr">markdown</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">TocItem</span>[] =&gt; {
  <span class="hljs-keyword">const</span> <span class="hljs-attr">tocItems</span>: <span class="hljs-title class_">TocItem</span>[] = [];
  <span class="hljs-keyword">const</span> lines = markdown.<span class="hljs-title function_">split</span>(<span class="hljs-string">"\n"</span>);

  lines.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">line, index</span>) =&gt;</span> {
    <span class="hljs-comment">// åŒ¹é… markdown æ ‡é¢˜ï¼š# åˆ° ######</span>
    <span class="hljs-keyword">const</span> match = line.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/^(#{1,6})\s+(.+)$/</span>);

    <span class="hljs-keyword">if</span> (match) {
      <span class="hljs-comment">// match[1] æ˜¯ # çš„ä¸ªæ•°ï¼ˆ1-6ä¸ªï¼‰ï¼Œå†³å®šæ ‡é¢˜çº§åˆ«</span>
      <span class="hljs-keyword">const</span> level = match[<span class="hljs-number">1</span>].<span class="hljs-property">length</span>;
      <span class="hljs-comment">// match[2] æ˜¯æ ‡é¢˜æ–‡æœ¬</span>
      <span class="hljs-keyword">let</span> title = match[<span class="hljs-number">2</span>];

      <span class="hljs-comment">// æ¸…ç†ç‰¹æ®Šå­—ç¬¦</span>
      title = title
        .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/&lt;[^&gt;]*&gt;/g</span>, <span class="hljs-string">""</span>)      <span class="hljs-comment">// ç§»é™¤ HTML æ ‡ç­¾</span>
        .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[*_`]/g</span>, <span class="hljs-string">""</span>);        <span class="hljs-comment">// ç§»é™¤ markdown æ ¼å¼ç¬¦å·</span>

      <span class="hljs-comment">// ç”Ÿæˆå”¯ä¸€ ID</span>
      <span class="hljs-keyword">const</span> id = <span class="hljs-string">`heading-<span class="hljs-subst">${index}</span>-<span class="hljs-subst">${<span class="hljs-built_in">encodeURIComponent</span>(title)
        .replace(/%/g, <span class="hljs-string">""</span>)
        .substring(<span class="hljs-number">0</span>, <span class="hljs-number">30</span>)}</span>`</span>;

      tocItems.<span class="hljs-title function_">push</span>({ id, title, level });
    }
  });

  <span class="hljs-keyword">return</span> tocItems;
};
</code></pre>
<h4 data-id="heading-20">å·¥ä½œåŸç†ï¼š</h4>
<pre><code class="hljs language-python" lang="python">è¾“å…¥ markdownï¼š
<span class="hljs-comment"># ä¸€çº§æ ‡é¢˜</span>
<span class="hljs-comment">## äºŒçº§æ ‡é¢˜</span>
<span class="hljs-comment">### ä¸‰çº§æ ‡é¢˜</span>

å¤„ç†æµç¨‹ï¼š
è¡Œ<span class="hljs-number">1</span>: <span class="hljs-string">"# ä¸€çº§æ ‡é¢˜"</span>
     â†“
æ­£åˆ™åŒ¹é…: <span class="hljs-keyword">match</span>[<span class="hljs-number">1</span>] = <span class="hljs-string">"#"</span>  (<span class="hljs-number">1</span>ä¸ª)
         <span class="hljs-keyword">match</span>[<span class="hljs-number">2</span>] = <span class="hljs-string">"ä¸€çº§æ ‡é¢˜"</span>
     â†“
level = <span class="hljs-number">1</span>
title = <span class="hljs-string">"ä¸€çº§æ ‡é¢˜"</span>
     â†“
åŠ å…¥ tocItems

è¡Œ<span class="hljs-number">2</span>: <span class="hljs-string">"## äºŒçº§æ ‡é¢˜"</span>
     â†“
æ­£åˆ™åŒ¹é…: <span class="hljs-keyword">match</span>[<span class="hljs-number">1</span>] = <span class="hljs-string">"##"</span> (<span class="hljs-number">2</span>ä¸ª)
         <span class="hljs-keyword">match</span>[<span class="hljs-number">2</span>] = <span class="hljs-string">"äºŒçº§æ ‡é¢˜"</span>
     â†“
level = <span class="hljs-number">2</span>
title = <span class="hljs-string">"äºŒçº§æ ‡é¢˜"</span>
     â†“
åŠ å…¥ tocItems

è¾“å‡ºï¼š
[
  { <span class="hljs-built_in">id</span>: <span class="hljs-string">"heading-0-ä¸€çº§æ ‡é¢˜"</span>, title: <span class="hljs-string">"ä¸€çº§æ ‡é¢˜"</span>, level: <span class="hljs-number">1</span> },
  { <span class="hljs-built_in">id</span>: <span class="hljs-string">"heading-1-äºŒçº§æ ‡é¢˜"</span>, title: <span class="hljs-string">"äºŒçº§æ ‡é¢˜"</span>, level: <span class="hljs-number">2</span> },
  { <span class="hljs-built_in">id</span>: <span class="hljs-string">"heading-2-ä¸‰çº§æ ‡é¢˜"</span>, title: <span class="hljs-string">"ä¸‰çº§æ ‡é¢˜"</span>, level: <span class="hljs-number">3</span> }
]
</code></pre>
<h3 data-id="heading-21">5.2 ç‚¹å‡»ç›®å½•å¿«é€Ÿè·³è½¬</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">handleTocClick</span> = (<span class="hljs-params">tocTitle: <span class="hljs-built_in">string</span></span>) =&gt; {
  <span class="hljs-comment">// ç¬¬1æ­¥ï¼šæ‰¾åˆ°æ‰€æœ‰æ ‡é¢˜å…ƒç´ ï¼ˆh1-h6ï¼‰</span>
  <span class="hljs-keyword">const</span> headings = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(
    <span class="hljs-string">".markdown-content h1, "</span> +
    <span class="hljs-string">".markdown-content h2, "</span> +
    <span class="hljs-string">".markdown-content h3, "</span> +
    <span class="hljs-string">".markdown-content h4, "</span> +
    <span class="hljs-string">".markdown-content h5, "</span> +
    <span class="hljs-string">".markdown-content h6"</span>
  );

  <span class="hljs-comment">// ç¬¬2æ­¥ï¼šéå†æ‰€æœ‰æ ‡é¢˜ï¼Œæ‰¾åˆ°ä¸ç›®å½•é¡¹åŒ¹é…çš„é‚£ä¸ª</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> heading <span class="hljs-keyword">of</span> headings) {
    <span class="hljs-keyword">const</span> headingText = heading.<span class="hljs-property">textContent</span>?.<span class="hljs-title function_">trim</span>() || <span class="hljs-string">""</span>;
    <span class="hljs-keyword">if</span> (headingText === tocTitle) {
      <span class="hljs-comment">// ç¬¬3æ­¥ï¼šå¹³æ»‘æ»šåŠ¨åˆ°è¿™ä¸ªæ ‡é¢˜ä½ç½®</span>
      heading.<span class="hljs-title function_">scrollIntoView</span>({
        <span class="hljs-attr">behavior</span>: <span class="hljs-string">"smooth"</span>,    <span class="hljs-comment">// å¹³æ»‘æ»šåŠ¨</span>
        <span class="hljs-attr">block</span>: <span class="hljs-string">"start"</span>         <span class="hljs-comment">// æ»šåŠ¨åˆ°é¡¶éƒ¨</span>
      });
      <span class="hljs-keyword">break</span>;  <span class="hljs-comment">// æ‰¾åˆ°äº†ï¼Œåœæ­¢å¾ªç¯</span>
    }
  }
};
</code></pre>
<hr/>
<h2 data-id="heading-22">ç¬¬å…­éƒ¨åˆ†ï¼šæ‰©å±•å’Œä¼˜åŒ–</h2>
<h3 data-id="heading-23">6.1 æ€§èƒ½ä¼˜åŒ–</h3>
<p>å½“ä½ æœ‰æˆåƒä¸Šä¸‡çš„æ–‡æ¡£æ—¶ï¼Œå¯ä»¥ä¼˜åŒ–æŸ¥è¯¢æ•ˆç‡ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">buildMenuTree</span>(<span class="hljs-params">items: StructureItem[]</span>): <span class="hljs-title class_">MenuItem</span>[] {
  <span class="hljs-comment">// ä¼˜åŒ–ï¼šä½¿ç”¨ Map ç¼“å­˜ï¼ŒO(1) æŸ¥è¯¢è€Œä¸æ˜¯ O(n)</span>
  <span class="hljs-keyword">const</span> childrenMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">StructureItem</span>[]&gt;();

  items.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (!childrenMap.<span class="hljs-title function_">has</span>(item.<span class="hljs-property">parent_uuid</span>)) {
      childrenMap.<span class="hljs-title function_">set</span>(item.<span class="hljs-property">parent_uuid</span>, []);
    }
    childrenMap.<span class="hljs-title function_">get</span>(item.<span class="hljs-property">parent_uuid</span>)!.<span class="hljs-title function_">push</span>(item);
  });

  <span class="hljs-keyword">const</span> convertToMenuItem = (<span class="hljs-attr">item</span>: <span class="hljs-title class_">StructureItem</span>): <span class="hljs-function"><span class="hljs-params">MenuItem</span> =&gt;</span> {
    <span class="hljs-comment">// ç›´æ¥ä» Map ä¸­æŸ¥è¯¢ï¼Œè€Œä¸æ˜¯éå†æ‰€æœ‰é¡¹</span>
    <span class="hljs-keyword">const</span> children = childrenMap.<span class="hljs-title function_">get</span>(item.<span class="hljs-property">uuid</span>) || [];

    <span class="hljs-keyword">const</span> <span class="hljs-attr">menuChildren</span>: <span class="hljs-title class_">MenuItem</span>[] = children.<span class="hljs-title function_">map</span>(convertToMenuItem);

    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">key</span>: item.<span class="hljs-property">uuid</span>,
      <span class="hljs-attr">label</span>: item.<span class="hljs-property">title</span>,
      <span class="hljs-attr">children</span>: menuChildren.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> ? menuChildren : <span class="hljs-literal">undefined</span>,
    };
  };

  <span class="hljs-comment">// æ‰¾æ‰€æœ‰æ ¹èŠ‚ç‚¹</span>
  <span class="hljs-keyword">const</span> roots = (childrenMap.<span class="hljs-title function_">get</span>(<span class="hljs-string">""</span>) || []).<span class="hljs-title function_">map</span>(convertToMenuItem);
  <span class="hljs-keyword">return</span> roots;
}
</code></pre>
<h3 data-id="heading-24">6.2 é”™è¯¯å¤„ç†</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">loadMarkdown</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">slug: <span class="hljs-built_in">string</span></span>) =&gt; {
  <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">true</span>);
  <span class="hljs-title function_">setError</span>(<span class="hljs-string">""</span>);

  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/mkdir/<span class="hljs-subst">${slug}</span>.md`</span>);

    <span class="hljs-comment">// æ£€æŸ¥ HTTP çŠ¶æ€</span>
    <span class="hljs-keyword">if</span> (!response.<span class="hljs-property">ok</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`HTTP <span class="hljs-subst">${response.status}</span>: <span class="hljs-subst">${response.statusText}</span>`</span>);
    }

    <span class="hljs-keyword">const</span> text = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">text</span>();
    <span class="hljs-title function_">setMarkdownContent</span>(text);

    <span class="hljs-comment">// æå–ç›®å½•</span>
    <span class="hljs-keyword">const</span> tocItems = <span class="hljs-title function_">extractTocFromMarkdown</span>(text);
    <span class="hljs-title function_">setToc</span>(tocItems);

  } <span class="hljs-keyword">catch</span> (<span class="hljs-attr">err</span>: <span class="hljs-built_in">any</span>) {
    <span class="hljs-comment">// ç”¨æˆ·å‹å¥½çš„é”™è¯¯ä¿¡æ¯</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"åŠ è½½ markdown å¤±è´¥:"</span>, err);
    <span class="hljs-title function_">setError</span>(<span class="hljs-string">`åŠ è½½æ–‡æ¡£å†…å®¹å¤±è´¥: <span class="hljs-subst">${err.message}</span>`</span>);
    <span class="hljs-title function_">setMarkdownContent</span>(<span class="hljs-string">""</span>);
    <span class="hljs-title function_">setToc</span>([]);
  } <span class="hljs-keyword">finally</span> {
    <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">false</span>);
  }
};
</code></pre>
<h3 data-id="heading-25">6.3 æ”¯æŒæœç´¢åŠŸèƒ½</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> searchMenuItems = (<span class="hljs-attr">items</span>: <span class="hljs-title class_">MenuItem</span>[], <span class="hljs-attr">keyword</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">MenuItem</span>[] =&gt; {
  <span class="hljs-keyword">return</span> items
    .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> {
      <span class="hljs-comment">// é€’å½’æœç´¢ï¼šå¦‚æœæ ‡é¢˜åŒ…å«å…³é”®è¯ï¼Œæˆ–å­é¡¹ä¸­æœ‰åŒ¹é…</span>
      <span class="hljs-keyword">const</span> titleMatch = item.<span class="hljs-property">label</span>
        ?.<span class="hljs-title function_">toString</span>()
        .<span class="hljs-title function_">toLowerCase</span>()
        .<span class="hljs-title function_">includes</span>(keyword.<span class="hljs-title function_">toLowerCase</span>());

      <span class="hljs-keyword">const</span> childrenMatch =
        item.<span class="hljs-property">children</span> &amp;&amp; <span class="hljs-title function_">searchMenuItems</span>(item.<span class="hljs-property">children</span>, keyword).<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>;

      <span class="hljs-keyword">return</span> titleMatch || childrenMatch;
    })
    .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> ({
      ...item,
      <span class="hljs-attr">children</span>: item.<span class="hljs-property">children</span>
        ? <span class="hljs-title function_">searchMenuItems</span>(item.<span class="hljs-property">children</span>, keyword)
        : <span class="hljs-literal">undefined</span>,
    }));
};

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> filteredItems = <span class="hljs-title function_">searchMenuItems</span>(menuItems, <span class="hljs-string">"æµ‹è¯•"</span>);
</code></pre>
<hr/>
<h2 data-id="heading-26">ç¬¬ä¸ƒéƒ¨åˆ†ï¼šæ€»ç»“</h2>
<h3 data-id="heading-27">æ ¸å¿ƒæ¦‚å¿µå›é¡¾</h3>








































<table><thead><tr><th>æ¦‚å¿µ</th><th>è¯´æ˜</th><th>ä¾‹å­</th></tr></thead><tbody><tr><td>æ‰å¹³æ•°ç»„</td><td>æ²¡æœ‰å±‚çº§å…³ç³»çš„æ•°æ®</td><td>structure.json</td></tr><tr><td>æ ‘å½¢ç»“æ„</td><td>æœ‰çˆ¶å­å…³ç³»çš„æ•°æ®</td><td>Ant Design Menu</td></tr><tr><td>é€’å½’</td><td>å‡½æ•°è°ƒç”¨è‡ªå·±</td><td>convertToMenuItem</td></tr><tr><td>parent_uuid</td><td>çˆ¶èŠ‚ç‚¹æ ‡è¯†</td><td>ç©º = æ ¹èŠ‚ç‚¹</td></tr><tr><td>å¶å­èŠ‚ç‚¹</td><td>æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹</td><td>èƒ½åŠ è½½ md æ–‡ä»¶</td></tr><tr><td>slug</td><td>æ–‡ä»¶å</td><td>zmgvdxzrh30rqxdn</td></tr></tbody></table>
<h3 data-id="heading-28">ä»£ç æ‰§è¡Œé¡ºåº</h3>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> åº”ç”¨å¯åŠ¨
   â†“
<span class="hljs-bullet">2.</span> å¯¼å…¥ structure.json
   â†“
<span class="hljs-bullet">3.</span> è°ƒç”¨ buildMenuTree() é€’å½’è½¬æ¢
   â†“
<span class="hljs-bullet">4.</span> Ant Design Menu æ˜¾ç¤ºèœå•æ ‘
   â†“
<span class="hljs-bullet">5.</span> ç”¨æˆ·ç‚¹å‡»èœå•é¡¹
   â†“
<span class="hljs-bullet">6.</span> è§¦å‘ onClick äº‹ä»¶
   â†“
<span class="hljs-bullet">7.</span> æ ¹æ® slug åŠ è½½ .md æ–‡ä»¶
   â†“
<span class="hljs-bullet">8.</span> æå–ç›®å½•ï¼Œæ˜¾ç¤ºåœ¨å³ä¾§
   â†“
<span class="hljs-bullet">9.</span> ç”¨ XMarkdown æ¸²æŸ“å†…å®¹
   â†“
<span class="hljs-bullet">10.</span> ç”¨æˆ·å¯ä»¥ç‚¹å‡»ç›®å½•å¿«é€Ÿè·³è½¬
</code></pre>
<h3 data-id="heading-29">ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ä¸ªæ¶æ„ï¼Ÿ</h3>
<p>âœ… <strong>çµæ´»æ€§</strong>ï¼šå¯ä»¥æ”¯æŒä»»æ„æ·±åº¦çš„åµŒå¥—
âœ… <strong>å¯ç»´æŠ¤æ€§</strong>ï¼šæ”¹å˜æ•°æ®ç»“æ„ä¸éœ€è¦æ”¹å˜ä»£ç é€»è¾‘
âœ… <strong>æ€§èƒ½</strong>ï¼šå³ä½¿æœ‰å¤§é‡æ–‡æ¡£ä¹Ÿèƒ½å¿«é€ŸåŠ è½½èœå•
âœ… <strong>å¯æ‰©å±•</strong>ï¼šå®¹æ˜“æ·»åŠ æœç´¢ã€è¿‡æ»¤ç­‰åŠŸèƒ½</p>
<hr/>
<h2 data-id="heading-30">æ·±å…¥æ€è€ƒé¢˜</h2>
<ol>
<li>
<p><strong>Q: ä¸ºä»€ä¹ˆ <code>parent_uuid</code> ä¸ºç©ºè¡¨ç¤ºæ ¹èŠ‚ç‚¹ï¼Ÿ</strong>
A: å› ä¸ºæ ¹èŠ‚ç‚¹æ²¡æœ‰çˆ¶èŠ‚ç‚¹ï¼Œæ‰€ä»¥ <code>parent_uuid</code> ç”¨ç©ºå­—ç¬¦ä¸²è¡¨ç¤º"æ²¡æœ‰çˆ¶èŠ‚ç‚¹"çš„çŠ¶æ€ã€‚</p>
</li>
<li>
<p><strong>Q: é€’å½’ä¼šä¸ä¼šå¯¼è‡´æ— é™å¾ªç¯ï¼Ÿ</strong>
A: ä¸ä¼šã€‚å› ä¸ºæ•°æ®ç»“æ„æ˜¯æœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰ï¼Œæœ€ç»ˆä¸€å®šä¼šåˆ°è¾¾å¶å­èŠ‚ç‚¹ã€‚</p>
</li>
<li>
<p><strong>Q: èƒ½ä¸èƒ½ç”¨è¿­ä»£ï¼ˆwhile/forï¼‰ä»£æ›¿é€’å½’ï¼Ÿ</strong>
A: å¯ä»¥ï¼Œä½†ä»£ç ä¼šæ›´å¤æ‚ã€‚é€’å½’æ˜¯å¤„ç†æ ‘å½¢ç»“æ„çš„æœ€è‡ªç„¶çš„æ–¹å¼ã€‚</p>
</li>
<li>
<p><strong>Q: å¦‚æœè¦æ”¯æŒåˆ é™¤ã€æ–°å¢ã€ç¼–è¾‘èŠ‚ç‚¹æ€ä¹ˆåŠï¼Ÿ</strong>
A: éœ€è¦åŒæ—¶æ›´æ–° <code>structure.json</code> å’Œ <code>.md</code> æ–‡ä»¶ï¼Œç„¶ååˆ·æ–°é¡µé¢é‡æ–°åŠ è½½ã€‚</p>
</li>
<li>
<p><strong>Q: å¦‚ä½•å®ç°å¿«é€Ÿæœç´¢ï¼Ÿ</strong>
A: åœ¨å†…å­˜ä¸­å»ºç«‹å…¨æ–‡ç´¢å¼•ï¼Œæˆ–ä½¿ç”¨æœç´¢åº“å¦‚ <code>fuse.js</code>ã€‚</p>
</li>
</ol>
<hr/>
<h2 data-id="heading-31">å®Œæ•´ä»£ç å‚è€ƒ</h2>
<p>å®Œæ•´çš„ <code>/src/pages/word/index.tsx</code>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Layout</span>, <span class="hljs-title class_">Menu</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"antd"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">MenuProps</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"antd"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">XMarkdown</span>, { <span class="hljs-keyword">type</span> <span class="hljs-title class_">ComponentProps</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@ant-design/x-markdown"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">CodeHighlighter</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@ant-design/x"</span>;
<span class="hljs-keyword">import</span> structure <span class="hljs-keyword">from</span> <span class="hljs-string">"../../../public/mkdir/structure.json"</span>;

<span class="hljs-keyword">const</span> { <span class="hljs-title class_">Sider</span>, <span class="hljs-title class_">Content</span> } = <span class="hljs-title class_">Layout</span>;

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">StructureItem</span> {
  <span class="hljs-attr">uuid</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">type</span>: <span class="hljs-string">"TITLE"</span> | <span class="hljs-string">"DOC"</span>;
  <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">slug</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span> | <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">level</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">depth</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">parent_uuid</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">child_uuid</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">sibling_uuid</span>: <span class="hljs-built_in">string</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">TocItem</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">level</span>: <span class="hljs-built_in">number</span>;
}

<span class="hljs-keyword">type</span> <span class="hljs-title class_">MenuItem</span> = <span class="hljs-title class_">Required</span>&lt;<span class="hljs-title class_">MenuProps</span>&gt;[<span class="hljs-string">"items"</span>][<span class="hljs-built_in">number</span>];

<span class="hljs-keyword">const</span> <span class="hljs-title class_">Code</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span>&lt;<span class="hljs-title class_">ComponentProps</span>&gt; = <span class="hljs-function">(<span class="hljs-params">props</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> { className, children } = props;
  <span class="hljs-keyword">const</span> lang = className?.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/language-(\w+)/</span>)?.[<span class="hljs-number">1</span>] || <span class="hljs-string">""</span>;
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> children !== <span class="hljs-string">"string"</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">CodeHighlighter</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">{lang}</span>&gt;</span>{children}<span class="hljs-tag">&lt;/<span class="hljs-name">CodeHighlighter</span>&gt;</span></span>;
};

<span class="hljs-keyword">function</span> <span class="hljs-title function_">buildMenuTree</span>(<span class="hljs-params">items: StructureItem[]</span>): <span class="hljs-title class_">MenuItem</span>[] {
  <span class="hljs-keyword">const</span> convertToMenuItem = (<span class="hljs-attr">item</span>: <span class="hljs-title class_">StructureItem</span>): <span class="hljs-function"><span class="hljs-params">MenuItem</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> <span class="hljs-attr">children</span>: <span class="hljs-title class_">MenuItem</span>[] = [];

    items.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">childItem</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (childItem.<span class="hljs-property">parent_uuid</span> === item.<span class="hljs-property">uuid</span>) {
        <span class="hljs-keyword">const</span> childMenuItem = <span class="hljs-title function_">convertToMenuItem</span>(childItem);
        <span class="hljs-keyword">if</span> (childMenuItem) {
          children.<span class="hljs-title function_">push</span>(childMenuItem);
        }
      }
    });

    <span class="hljs-keyword">if</span> (item.<span class="hljs-property">type</span> === <span class="hljs-string">"TITLE"</span>) {
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">key</span>: item.<span class="hljs-property">uuid</span>,
        <span class="hljs-attr">label</span>: item.<span class="hljs-property">title</span>,
        <span class="hljs-attr">children</span>: children.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> ? children : <span class="hljs-literal">undefined</span>,
      };
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">key</span>: item.<span class="hljs-property">uuid</span>,
        <span class="hljs-attr">label</span>: item.<span class="hljs-property">title</span>,
        <span class="hljs-attr">children</span>: children.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> ? children : <span class="hljs-literal">undefined</span>,
        <span class="hljs-attr">slug</span>: item.<span class="hljs-property">slug</span>,
      } <span class="hljs-keyword">as</span> <span class="hljs-title class_">MenuItem</span> &amp; { <span class="hljs-attr">slug</span>: <span class="hljs-built_in">string</span> };
    }
  };

  <span class="hljs-keyword">const</span> <span class="hljs-attr">roots</span>: <span class="hljs-title class_">MenuItem</span>[] = [];
  items.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (item.<span class="hljs-property">parent_uuid</span> === <span class="hljs-string">""</span>) {
      <span class="hljs-keyword">const</span> menuItem = <span class="hljs-title function_">convertToMenuItem</span>(item);
      <span class="hljs-keyword">if</span> (menuItem) {
        roots.<span class="hljs-title function_">push</span>(menuItem);
      }
    }
  });

  <span class="hljs-keyword">return</span> roots;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Word</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [selectedKey, setSelectedKey] = useState&lt;<span class="hljs-built_in">string</span>&gt;(<span class="hljs-string">""</span>);
  <span class="hljs-keyword">const</span> [markdownContent, setMarkdownContent] = useState&lt;<span class="hljs-built_in">string</span>&gt;(<span class="hljs-string">""</span>);
  <span class="hljs-keyword">const</span> [loading, setLoading] = useState&lt;<span class="hljs-built_in">boolean</span>&gt;(<span class="hljs-literal">false</span>);
  <span class="hljs-keyword">const</span> [error, setError] = useState&lt;<span class="hljs-built_in">string</span>&gt;(<span class="hljs-string">""</span>);
  <span class="hljs-keyword">const</span> [toc, setToc] = useState&lt;<span class="hljs-title class_">TocItem</span>[]&gt;([]);

  <span class="hljs-keyword">const</span> menuItems = <span class="hljs-title function_">buildMenuTree</span>(structure <span class="hljs-keyword">as</span> <span class="hljs-title class_">StructureItem</span>[]);

  <span class="hljs-keyword">const</span> findSlugByKey = (<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">string</span> | <span class="hljs-function"><span class="hljs-params">undefined</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> item = (structure <span class="hljs-keyword">as</span> <span class="hljs-title class_">StructureItem</span>[]).<span class="hljs-title function_">find</span>(
      <span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> item.<span class="hljs-property">uuid</span> === key
    );
    <span class="hljs-keyword">return</span> item?.<span class="hljs-property">slug</span>;
  };

  <span class="hljs-keyword">const</span> <span class="hljs-attr">handleMenuClick</span>: <span class="hljs-title class_">MenuProps</span>[<span class="hljs-string">"onClick"</span>] = <span class="hljs-function">(<span class="hljs-params">info</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> slug = <span class="hljs-title function_">findSlugByKey</span>(info.<span class="hljs-property">key</span>);
    <span class="hljs-keyword">if</span> (slug &amp;&amp; slug !== <span class="hljs-string">"#"</span>) {
      <span class="hljs-title function_">setSelectedKey</span>(info.<span class="hljs-property">key</span>);
      <span class="hljs-title function_">loadMarkdown</span>(slug);
    }
  };

  <span class="hljs-keyword">const</span> <span class="hljs-attr">handleMenuSelect</span>: <span class="hljs-title class_">MenuProps</span>[<span class="hljs-string">"onSelect"</span>] = <span class="hljs-function">(<span class="hljs-params">info</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> slug = <span class="hljs-title function_">findSlugByKey</span>(info.<span class="hljs-property">key</span>);
    <span class="hljs-keyword">if</span> (slug &amp;&amp; slug !== <span class="hljs-string">"#"</span>) {
      <span class="hljs-title function_">setSelectedKey</span>(info.<span class="hljs-property">key</span>);
      <span class="hljs-title function_">loadMarkdown</span>(slug);
    }
  };

  <span class="hljs-keyword">const</span> extractTocFromMarkdown = (<span class="hljs-attr">markdown</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">TocItem</span>[] =&gt; {
    <span class="hljs-keyword">const</span> <span class="hljs-attr">tocItems</span>: <span class="hljs-title class_">TocItem</span>[] = [];
    <span class="hljs-keyword">const</span> lines = markdown.<span class="hljs-title function_">split</span>(<span class="hljs-string">"\n"</span>);

    lines.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">line, index</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> match = line.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/^(#{1,6})\s+(.+)$/</span>);
      <span class="hljs-keyword">if</span> (match) {
        <span class="hljs-keyword">const</span> level = match[<span class="hljs-number">1</span>].<span class="hljs-property">length</span>;
        <span class="hljs-keyword">let</span> title = match[<span class="hljs-number">2</span>];
        title = title.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/&lt;[^&gt;]*&gt;/g</span>, <span class="hljs-string">""</span>).<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[*_`]/g</span>, <span class="hljs-string">""</span>);
        <span class="hljs-keyword">const</span> id = <span class="hljs-string">`heading-<span class="hljs-subst">${index}</span>-<span class="hljs-subst">${<span class="hljs-built_in">encodeURIComponent</span>(title)
          .replace(/%/g, <span class="hljs-string">""</span>)
          .substring(<span class="hljs-number">0</span>, <span class="hljs-number">30</span>)}</span>`</span>;
        tocItems.<span class="hljs-title function_">push</span>({ id, title, level });
      }
    });

    <span class="hljs-keyword">return</span> tocItems;
  };

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleTocClick</span> = (<span class="hljs-params">tocTitle: <span class="hljs-built_in">string</span></span>) =&gt; {
    <span class="hljs-keyword">const</span> headings = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(
      <span class="hljs-string">".markdown-content h1, .markdown-content h2, .markdown-content h3, .markdown-content h4, .markdown-content h5, .markdown-content h6"</span>
    );

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> heading <span class="hljs-keyword">of</span> headings) {
      <span class="hljs-keyword">const</span> headingText = heading.<span class="hljs-property">textContent</span>?.<span class="hljs-title function_">trim</span>() || <span class="hljs-string">""</span>;
      <span class="hljs-keyword">if</span> (headingText === tocTitle) {
        heading.<span class="hljs-title function_">scrollIntoView</span>({ <span class="hljs-attr">behavior</span>: <span class="hljs-string">"smooth"</span>, <span class="hljs-attr">block</span>: <span class="hljs-string">"start"</span> });
        <span class="hljs-keyword">break</span>;
      }
    }
  };

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">loadMarkdown</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">slug: <span class="hljs-built_in">string</span></span>) =&gt; {
    <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">true</span>);
    <span class="hljs-title function_">setError</span>(<span class="hljs-string">""</span>);

    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/mkdir/<span class="hljs-subst">${slug}</span>.md`</span>);
      <span class="hljs-keyword">if</span> (!response.<span class="hljs-property">ok</span>) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`HTTP <span class="hljs-subst">${response.status}</span>: <span class="hljs-subst">${response.statusText}</span>`</span>);
      }
      <span class="hljs-keyword">const</span> text = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">text</span>();
      <span class="hljs-title function_">setMarkdownContent</span>(text);
      <span class="hljs-keyword">const</span> tocItems = <span class="hljs-title function_">extractTocFromMarkdown</span>(text);
      <span class="hljs-title function_">setToc</span>(tocItems);
    } <span class="hljs-keyword">catch</span> (<span class="hljs-attr">err</span>: <span class="hljs-built_in">any</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"åŠ è½½ markdown å¤±è´¥:"</span>, err);
      <span class="hljs-title function_">setError</span>(<span class="hljs-string">`åŠ è½½æ–‡æ¡£å†…å®¹å¤±è´¥: <span class="hljs-subst">${err.message}</span>`</span>);
      <span class="hljs-title function_">setMarkdownContent</span>(<span class="hljs-string">""</span>);
      <span class="hljs-title function_">setToc</span>([]);
    } <span class="hljs-keyword">finally</span> {
      <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">false</span>);
    }
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Layout</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">minHeight:</span> "<span class="hljs-attr">100vh</span>", <span class="hljs-attr">position:</span> "<span class="hljs-attr">relative</span>" }}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Sider</span>
        <span class="hljs-attr">width</span>=<span class="hljs-string">{260}</span>
        <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
          <span class="hljs-attr">background:</span> "#<span class="hljs-attr">fff</span>",
          <span class="hljs-attr">borderRight:</span> "<span class="hljs-attr">1px</span> <span class="hljs-attr">solid</span> #<span class="hljs-attr">f0f0f0</span>",
        }}
      &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Menu</span>
          <span class="hljs-attr">mode</span>=<span class="hljs-string">"inline"</span>
          <span class="hljs-attr">selectedKeys</span>=<span class="hljs-string">{[selectedKey]}</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleMenuClick}</span>
          <span class="hljs-attr">onSelect</span>=<span class="hljs-string">{handleMenuSelect}</span>
          <span class="hljs-attr">items</span>=<span class="hljs-string">{menuItems}</span>
          <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">border:</span> "<span class="hljs-attr">none</span>" }}
        /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Sider</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Layout</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Content</span>
          <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
            <span class="hljs-attr">padding:</span> "<span class="hljs-attr">40px</span> <span class="hljs-attr">60px</span>",
            <span class="hljs-attr">maxWidth:</span> "<span class="hljs-attr">1000px</span>",
            <span class="hljs-attr">width:</span> "<span class="hljs-attr">100</span>%",
            <span class="hljs-attr">marginRight:</span> <span class="hljs-attr">toc.length</span> &gt;</span> 0 ? "240px" : "auto",
          }}
        &gt;
          {loading &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>åŠ è½½ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>}
          {error &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">color:</span> "<span class="hljs-attr">red</span>" }}&gt;</span>{error}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>}
          {!loading &amp;&amp; !error &amp;&amp; markdownContent &amp;&amp; (
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"markdown-content"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">XMarkdown</span> <span class="hljs-attr">components</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">code:</span> <span class="hljs-attr">Code</span> }}&gt;</span>
                {markdownContent}
              <span class="hljs-tag">&lt;/<span class="hljs-name">XMarkdown</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          )}
          {!loading &amp;&amp; !error &amp;&amp; !markdownContent &amp;&amp; (
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">textAlign:</span> "<span class="hljs-attr">center</span>", <span class="hljs-attr">padding:</span> "<span class="hljs-attr">100px</span> <span class="hljs-attr">20px</span>" }}&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ¬¢è¿ä½¿ç”¨æ–‡æ¡£ç³»ç»Ÿ<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">color:</span> "#<span class="hljs-attr">666</span>" }}&gt;</span>è¯·ä»å·¦ä¾§èœå•é€‰æ‹©ä¸€ä¸ªæ–‡æ¡£æŸ¥çœ‹<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          )}
        <span class="hljs-tag">&lt;/<span class="hljs-name">Content</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Layout</span>&gt;</span>

      {toc.length &gt; 0 &amp;&amp; (
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
          <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
            <span class="hljs-attr">position:</span> "<span class="hljs-attr">fixed</span>",
            <span class="hljs-attr">right:</span> <span class="hljs-attr">0</span>,
            <span class="hljs-attr">top:</span> <span class="hljs-attr">0</span>,
            <span class="hljs-attr">width:</span> "<span class="hljs-attr">240px</span>",
            <span class="hljs-attr">height:</span> "<span class="hljs-attr">100vh</span>",
            <span class="hljs-attr">background:</span> "#<span class="hljs-attr">fafafa</span>",
            <span class="hljs-attr">borderLeft:</span> "<span class="hljs-attr">1px</span> <span class="hljs-attr">solid</span> #<span class="hljs-attr">e8e8e8</span>",
            <span class="hljs-attr">overflowY:</span> "<span class="hljs-attr">auto</span>",
            <span class="hljs-attr">padding:</span> "<span class="hljs-attr">20px</span>",
          }}
        &gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">display:</span> "<span class="hljs-attr">flex</span>", <span class="hljs-attr">flexDirection:</span> "<span class="hljs-attr">column</span>", <span class="hljs-attr">gap:</span> "<span class="hljs-attr">8px</span>" }}&gt;</span>
            {toc.map((item) =&gt; (
              <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
                <span class="hljs-attr">key</span>=<span class="hljs-string">{item.id}</span>
                <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
                  <span class="hljs-attr">fontSize:</span> "<span class="hljs-attr">13px</span>",
                  <span class="hljs-attr">color:</span> "#<span class="hljs-attr">666</span>",
                  <span class="hljs-attr">cursor:</span> "<span class="hljs-attr">pointer</span>",
                  <span class="hljs-attr">padding:</span> "<span class="hljs-attr">6px</span> <span class="hljs-attr">8px</span>",
                  <span class="hljs-attr">borderRadius:</span> "<span class="hljs-attr">4px</span>",
                  <span class="hljs-attr">transition:</span> "<span class="hljs-attr">all</span> <span class="hljs-attr">0.2s</span>",
                  <span class="hljs-attr">lineHeight:</span> <span class="hljs-attr">1.4</span>,
                  <span class="hljs-attr">overflow:</span> "<span class="hljs-attr">hidden</span>",
                  <span class="hljs-attr">textOverflow:</span> "<span class="hljs-attr">ellipsis</span>",
                  <span class="hljs-attr">whiteSpace:</span> "<span class="hljs-attr">nowrap</span>",
                  <span class="hljs-attr">paddingLeft:</span> `${(<span class="hljs-attr">item.level</span> <span class="hljs-attr">-</span> <span class="hljs-attr">1</span>) * <span class="hljs-attr">12</span>}<span class="hljs-attr">px</span>`,
                }}
                <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> handleTocClick(item.title)}
                onMouseEnter={(e) =&gt; {
                  e.currentTarget.style.color = "#1890ff";
                  e.currentTarget.style.background = "#e6f7ff";
                }}
                onMouseLeave={(e) =&gt; {
                  e.currentTarget.style.color = "#666";
                  e.currentTarget.style.background = "transparent";
                }}
              &gt;
                {item.title}
              <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            ))}
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      )}
    <span class="hljs-tag">&lt;/<span class="hljs-name">Layout</span>&gt;</span></span>
  );
}
</code></pre>
<hr/>
<h2 data-id="heading-32">åè®°</h2>
<p>è¿™ä¸ªæ–‡æ¡£ç³»ç»Ÿå±•ç¤ºäº†å¦‚ä½•ä¼˜é›…åœ°å¤„ç†æ ‘å½¢æ•°æ®ç»“æ„ã€‚å…³é”®ç‚¹ï¼š</p>
<ul>
<li>ç”¨ <code>parent_uuid</code> å’Œ <code>child_uuid</code> ç»´æŠ¤çˆ¶å­å…³ç³»</li>
<li>ç”¨é€’å½’æŠŠæ‰å¹³æ•°ç»„è½¬ä¸ºæ ‘</li>
<li>ç”¨ <code>slug</code> å…³è”åˆ°å®é™…çš„ markdown æ–‡ä»¶</li>
<li>ç”¨ <code>type</code> åŒºåˆ†å¯äº¤äº’å’Œä¸å¯äº¤äº’çš„èŠ‚ç‚¹</li>
</ul>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©ä½ å½»åº•ç†è§£é€’å½’å’Œæ ‘å½¢ç»“æ„ï¼å¦‚æœ‰é—®é¢˜ï¼Œæ¬¢è¿è®¨è®ºã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2-5.ã€Concurrencyã€‘Task å’Œ DetachedTask æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä½¿ç”¨åœºæ™¯å„æ˜¯ä»€ä¹ˆï¼Ÿ]]></title>    <link>https://juejin.cn/post/7599970244787290175</link>    <guid>https://juejin.cn/post/7599970244787290175</guid>    <pubDate>2026-01-28T06:11:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599970244787290175" data-draft-id="7599970244787191871" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2-5.ã€Concurrencyã€‘Task å’Œ DetachedTask æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä½¿ç”¨åœºæ™¯å„æ˜¯ä»€ä¹ˆï¼Ÿ"/> <meta itemprop="keywords" content="Swift"/> <meta itemprop="datePublished" content="2026-01-28T06:11:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¡¹é˜¿ä¸‘"/> <meta itemprop="url" content="https://juejin.cn/user/1407852323023447"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2-5.ã€Concurrencyã€‘Task å’Œ DetachedTask æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä½¿ç”¨åœºæ™¯å„æ˜¯ä»€ä¹ˆï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1407852323023447/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¡¹é˜¿ä¸‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T06:11:44.000Z" title="Wed Jan 28 2026 06:11:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€å¥è¯æ€»è§ˆ</h2>
<blockquote>
<p><strong><code>Task {}</code> = æœ‰çˆ¶ä»»åŠ¡ã€ä¼šç»§æ‰¿ä¸Šä¸‹æ–‡çš„ç»“æ„åŒ–å¹¶å‘</strong><br/>
<strong><code>Task.detached {}</code> = æ²¡æœ‰çˆ¶ä»»åŠ¡ã€å®Œå…¨ç‹¬ç«‹çš„éç»“æ„åŒ–å¹¶å‘</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-1">1ï¸âƒ£ æœ€é‡è¦çš„åŒºåˆ«ï¼ˆå…ˆçœ‹è¿™ä¸ªï¼‰</h2>













































<table><thead><tr><th>ç»´åº¦</th><th><code>Task {}</code></th><th><code>Task.detached {}</code></th></tr></thead><tbody><tr><td>æ˜¯å¦æœ‰çˆ¶ Task</td><td>âœ… æœ‰</td><td>âŒ æ²¡æœ‰</td></tr><tr><td>ç»§æ‰¿å–æ¶ˆçŠ¶æ€</td><td>âœ…</td><td>âŒ</td></tr><tr><td>ç»§æ‰¿ä¼˜å…ˆçº§</td><td>âœ…</td><td>âŒ</td></tr><tr><td>ç»§æ‰¿ Task-local</td><td>âœ…</td><td>âŒ</td></tr><tr><td>ç»§æ‰¿ actor / executor</td><td>âœ…</td><td>âŒ</td></tr><tr><td>ç»“æ„åŒ–å¹¶å‘</td><td>âœ…</td><td>âŒ</td></tr><tr><td>æ¨èä½¿ç”¨</td><td>â­â­â­â­â­</td><td>â­â­ï¼ˆè°¨æ…ï¼‰</td></tr></tbody></table>
<blockquote>
<p><strong>99% çš„æƒ…å†µä¸‹ï¼Œä½ åº”è¯¥ç”¨ <code>Task {}</code></strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-2">2ï¸âƒ£ <code>Task {}</code> åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<h3 data-id="heading-3">å®šä¹‰</h3>
<pre><code class="hljs language-scss" lang="scss">Task {
    await <span class="hljs-built_in">doSomething</span>()
}
</code></pre>
<p>è¿™æ˜¯ä¸€ä¸ª <strong>child taskï¼ˆå­ä»»åŠ¡ï¼‰</strong> ã€‚</p>
<h3 data-id="heading-4">å®ƒä¼šç»§æ‰¿ä»€ä¹ˆï¼Ÿ</h3>
<p>å‡è®¾ä½ åœ¨è¿™é‡Œï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-keyword">@MainActor</span>
func onTap() {
    Task {
        await <span class="hljs-built_in">loadData</span>()
    }
}
</code></pre>
<p>è¿™ä¸ª <code>Task</code> ä¼šç»§æ‰¿ï¼š</p>
<ul>
<li>å½“å‰ <strong>Task çš„å–æ¶ˆçŠ¶æ€</strong></li>
<li>å½“å‰ <strong>ä¼˜å…ˆçº§</strong></li>
<li>å½“å‰ <strong>Task-local å€¼</strong></li>
<li>å½“å‰ <strong>actorï¼ˆMainActorï¼‰</strong></li>
</ul>
<p>æ‰€ä»¥ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">loadData</span>() <span class="hljs-comment">// é»˜è®¤ä»åœ¨ MainActor</span>
</code></pre>
<p>é™¤éä½  <code>await</code> åˆ°åˆ«çš„ executorã€‚</p>
<hr/>
<h3 data-id="heading-5">ä¸ºä»€ä¹ˆè¿™å¾ˆé‡è¦ï¼Ÿ</h3>
<p>å› ä¸ºå®ƒä¿è¯äº†ï¼š</p>
<ul>
<li>ç”Ÿå‘½å‘¨æœŸæ¸…æ™°</li>
<li>å–æ¶ˆå¯ä»¥å‘ä¸‹ä¼ æ’­</li>
<li>è¡Œä¸ºå¯é¢„æµ‹</li>
</ul>
<p>ğŸ‘‰ <strong>è¿™å°±æ˜¯â€œç»“æ„åŒ–å¹¶å‘â€</strong></p>
<hr/>
<h2 data-id="heading-6">3ï¸âƒ£ <code>Task.detached {}</code> æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<h3 data-id="heading-7">å®šä¹‰</h3>
<pre><code class="hljs language-scss" lang="scss">Task<span class="hljs-selector-class">.detached</span> {
    await <span class="hljs-built_in">doSomething</span>()
}
</code></pre>
<p>è¿™æ˜¯ä¸€ä¸ª <strong>å®Œå…¨ç‹¬ç«‹çš„ä»»åŠ¡</strong>ã€‚</p>
<h3 data-id="heading-8">ç‰¹ç‚¹ï¼ˆéå¸¸å…³é”®ï¼‰ï¼š</h3>
<ul>
<li>âŒ ä¸å±äºå½“å‰ Task</li>
<li>âŒ ä¸ç»§æ‰¿ MainActor</li>
<li>âŒ ä¸ç»§æ‰¿ä¼˜å…ˆçº§</li>
<li>âŒ ä¸ç»§æ‰¿å–æ¶ˆ</li>
<li>âŒ ä¸ç»§æ‰¿ Task-local</li>
</ul>
<p>ç›¸å½“äºï¼š</p>
<blockquote>
<p>â€œåœ¨å¹¶å‘ä¸–ç•Œé‡Œæ–°å¼€äº†ä¸€ä¸ªå­¤å„¿çº¿ç¨‹ï¼ˆé€»è¾‘ä¸Šï¼‰â€</p>
</blockquote>
<hr/>
<h2 data-id="heading-9">4ï¸âƒ£ ä¸€ä¸ªæœ€å®¹æ˜“è¸©å‘çš„ä¾‹å­ âš ï¸</h2>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-keyword">@MainActor</span>
func onTap() {
    Task<span class="hljs-selector-class">.detached</span> {
        <span class="hljs-built_in">updateUI</span>() <span class="hljs-comment">// âŒ è¿è¡ŒæœŸé”™è¯¯</span>
    }
}
</code></pre>
<p>åŸå› ï¼š</p>
<ul>
<li>detached task <strong>ä¸åœ¨ MainActor</strong></li>
<li>å´è®¿é—®äº† MainActor éš”ç¦»çš„çŠ¶æ€</li>
</ul>
<p>å¿…é¡»æ˜¾å¼åˆ‡å›ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-built_in">Task</span>.detached {
    await MainActor.run {
        <span class="hljs-built_in">updateUI</span>()
    }
}
</code></pre>
<hr/>
<h2 data-id="heading-10">5ï¸âƒ£ å–æ¶ˆï¼ˆcancellationï¼‰è¯­ä¹‰å·®å¼‚</h2>
<h3 data-id="heading-11"><code>Task {}</code></h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">let</span> task = Task {
    <span class="hljs-function"><span class="hljs-keyword">try</span> <span class="hljs-keyword">await</span> <span class="hljs-title">longWork</span>()
}

task.<span class="hljs-title">cancel</span>()
</span></code></pre>
<ul>
<li>å­ä»»åŠ¡ä¼šè¢«æ ‡è®°ä¸º cancelled</li>
<li><code>await</code> ç‚¹ä¼šæŠ› <code>CancellationError</code></li>
<li>å’Œçˆ¶ä»»åŠ¡å¼ºå…³è”</li>
</ul>
<hr/>
<h3 data-id="heading-12"><code>Task.detached {}</code></h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">let</span> task = Task.detached {
    <span class="hljs-function"><span class="hljs-keyword">try</span> <span class="hljs-keyword">await</span> <span class="hljs-title">longWork</span>()
}
</span></code></pre>
<ul>
<li>ä¸ä¼šè¢«çˆ¶ä»»åŠ¡å–æ¶ˆ</li>
<li>å¿…é¡»æ‰‹åŠ¨ç®¡ç†ç”Ÿå‘½å‘¨æœŸ</li>
<li>å¾ˆå®¹æ˜“â€œå·å·æ´»å¾ˆä¹…â€</li>
</ul>
<hr/>
<h2 data-id="heading-13">6ï¸âƒ£ ä»€ä¹ˆæ—¶å€™è¯¥ç”¨ <code>Task {}</code>ï¼Ÿï¼ˆå‡ ä¹æ‰€æœ‰æ—¶å€™ï¼‰</h2>
<h3 data-id="heading-14">âœ… UI äº‹ä»¶å“åº”</h3>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-built_in">Button</span>(<span class="hljs-string">"Load"</span>) {
    <span class="hljs-built_in">Task</span> {
        await viewModel.<span class="hljs-built_in">load</span>()
    }
}
</code></pre>
<h3 data-id="heading-15">âœ… actor å†…éƒ¨å¹¶å‘å·¥ä½œ</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">actor</span> <span class="hljs-title class_">Cache</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">refresh</span>() {
        <span class="hljs-type">Task</span> {
            <span class="hljs-keyword">await</span> <span class="hljs-keyword">self</span>.loadFromDisk()
        }
    }
}
</code></pre>
<h3 data-id="heading-16">âœ… éœ€è¦è‡ªåŠ¨å–æ¶ˆã€ä¼˜å…ˆçº§ç»§æ‰¿</h3>
<hr/>
<h2 data-id="heading-17">7ï¸âƒ£ ä»€ä¹ˆæ—¶å€™æ‰è¯¥ç”¨ <code>Task.detached {}</code>ï¼Ÿ</h2>
<h3 data-id="heading-18">âš ï¸ ä½¿ç”¨æ¡ä»¶ï¼ˆç¼ºä¸€ä¸å¯ï¼‰</h3>
<p>ä½ <strong>çœŸçš„</strong>éœ€è¦ï¼š</p>
<ol>
<li>ä¸ç»§æ‰¿ä»»ä½•ä¸Šä¸‹æ–‡</li>
<li>ç”Ÿå‘½å‘¨æœŸç‹¬ç«‹äºè°ƒç”¨è€…</li>
<li>æ‰‹åŠ¨å¤„ç†å–æ¶ˆ / actor hop</li>
</ol>
<hr/>
<h3 data-id="heading-19">åˆç†åœºæ™¯ 1ï¸âƒ£ï¼šå…¨å±€åå°ç»´æŠ¤ä»»åŠ¡</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Task</span>.<span class="hljs-title function_">detached</span>(<span class="hljs-params">priority: .background</span>) {
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">cleanTempFiles</span>()
}
</code></pre>
<ul>
<li>ä¸è¯¥è¢« UI å–æ¶ˆ</li>
<li>æ˜ç¡®æ˜¯ç³»ç»Ÿçº§ä»»åŠ¡</li>
</ul>
<hr/>
<h3 data-id="heading-20">åˆç†åœºæ™¯ 2ï¸âƒ£ï¼šè·¨ actor / è·¨ subsystem çš„æ¡¥æ¥</h3>
<pre><code class="hljs language-csharp" lang="csharp">Task.detached {
    <span class="hljs-keyword">let</span> data = <span class="hljs-keyword">await</span> fetch()
    <span class="hljs-keyword">await</span> logger.log(data)
}
</code></pre>
<hr/>
<h3 data-id="heading-21">åˆç†åœºæ™¯ 3ï¸âƒ£ï¼šåº•å±‚åº“å†…éƒ¨ï¼ˆè€Œä¸æ˜¯ App ä»£ç ï¼‰</h3>
<p>Swift å®˜æ–¹å»ºè®®ï¼š</p>
<blockquote>
<p><code>Task.detached</code> <strong>ä¸»è¦ç”¨äºæ¡†æ¶ / runtime å±‚</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-22">8ï¸âƒ£ å®˜æ–¹æ€åº¦ï¼ˆå¾ˆæ˜ç¡®ï¼‰</h2>
<p>Swift Concurrency çš„è®¾è®¡å“²å­¦æ˜¯ï¼š</p>
<blockquote>
<p><strong>é»˜è®¤ç»“æ„åŒ–å¹¶å‘ï¼Œå°½é‡æ¶ˆç­ detached task</strong></p>
</blockquote>
<p>ä½ å¯ä»¥ç†è§£æˆï¼š</p>
<ul>
<li><code>Task {}</code> = safe default</li>
<li><code>Task.detached {}</code> = unsafe escape hatch</li>
</ul>
<hr/>
<h2 data-id="heading-23">9ï¸âƒ£ å¿«é€Ÿè®°å¿†å£è¯€ ğŸ§ </h2>
<blockquote>
<p><strong>è¦ç»§æ‰¿ä¸Šä¸‹æ–‡ï¼Œç”¨ <code>Task</code><br/>
è¦å½»åº•æ–­äº²ï¼Œç”¨ <code>Task.detached</code><br/>
ä¸ç¡®å®šï¼Ÿåˆ« detached</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-24">10ï¸âƒ£ æœ€åä¸€æ®µæ€»ç»“ï¼ˆé¢è¯•ç‰ˆï¼‰</h2>
<blockquote>
<p><code>Task {}</code> åˆ›å»ºçš„æ˜¯ç»“æ„åŒ–çš„å­ä»»åŠ¡ï¼Œä¼šç»§æ‰¿å½“å‰ä»»åŠ¡çš„å–æ¶ˆã€ä¼˜å…ˆçº§ã€actor å’Œ task-localï¼Œé€‚åˆç»å¤§å¤šæ•°å¹¶å‘åœºæ™¯ï¼›<br/>
<code>Task.detached {}</code> åˆ›å»ºçš„æ˜¯éç»“æ„åŒ–ä»»åŠ¡ï¼Œä¸ç»§æ‰¿ä»»ä½•ä¸Šä¸‹æ–‡ï¼Œç”Ÿå‘½å‘¨æœŸå®Œå…¨ç‹¬ç«‹ï¼Œé€‚åˆæå°‘æ•°ç³»ç»Ÿçº§æˆ–æ¡†æ¶çº§åå°å·¥ä½œï¼Œæ™®é€šä¸šåŠ¡ä»£ç åº”å°½é‡é¿å…ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2-6.ã€Concurrencyã€‘TaskGroup çš„è®¾è®¡ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿå®ƒå¦‚ä½•ä¿è¯å¹¶å‘å®‰å…¨ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7599983917664731179</link>    <guid>https://juejin.cn/post/7599983917664731179</guid>    <pubDate>2026-01-28T06:11:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599983917664731179" data-draft-id="7600068631328538665" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2-6.ã€Concurrencyã€‘TaskGroup çš„è®¾è®¡ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿå®ƒå¦‚ä½•ä¿è¯å¹¶å‘å®‰å…¨ï¼Ÿ"/> <meta itemprop="keywords" content="Swift"/> <meta itemprop="datePublished" content="2026-01-28T06:11:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¡¹é˜¿ä¸‘"/> <meta itemprop="url" content="https://juejin.cn/user/1407852323023447"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2-6.ã€Concurrencyã€‘TaskGroup çš„è®¾è®¡ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿå®ƒå¦‚ä½•ä¿è¯å¹¶å‘å®‰å…¨ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1407852323023447/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¡¹é˜¿ä¸‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T06:11:57.000Z" title="Wed Jan 28 2026 06:11:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€å¥è¯å…ˆç»™ç»“è®º</h2>
<blockquote>
<p><strong><code>TaskGroup</code> çš„è®¾è®¡ç›®çš„ï¼Œæ˜¯åœ¨ä¿æŒç»“æ„åŒ–å¹¶å‘çš„å‰æä¸‹ï¼Œ<br/>
å®‰å…¨åœ°è¡¨è¾¾â€œä¸€ç»„å¹¶å‘æ‰§è¡Œã€ç»Ÿä¸€æ”¶æ•›ç»“æœçš„å­ä»»åŠ¡â€ã€‚</strong></p>
</blockquote>
<p>æˆ–è€…æ›´ç‹ ä¸€ç‚¹çš„è¯´æ³•ï¼š</p>
<blockquote>
<p><strong>TaskGroup = â€œä¸ä¼šå¤±æ§çš„ forkâ€“join å¹¶å‘â€ã€‚</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-1">1ï¸âƒ£ ä¸ºä»€ä¹ˆéœ€è¦ TaskGroupï¼Ÿï¼ˆè®¾è®¡åŠ¨æœºï¼‰</h2>
<p>å…ˆçœ‹ä¸€ä¸ªâ€œå¤©çœŸå®ç°â€çš„é—®é¢˜ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">var</span> <span class="hljs-selector-tag">results</span>: <span class="hljs-selector-attr">[Int]</span> = <span class="hljs-selector-attr">[]</span>

<span class="hljs-selector-tag">Task</span> {
    <span class="hljs-selector-tag">Task</span> { <span class="hljs-selector-tag">results</span><span class="hljs-selector-class">.append</span>(await <span class="hljs-built_in">f1</span>()) }
    <span class="hljs-selector-tag">Task</span> { <span class="hljs-selector-tag">results</span><span class="hljs-selector-class">.append</span>(await <span class="hljs-built_in">f2</span>()) }
    <span class="hljs-selector-tag">Task</span> { <span class="hljs-selector-tag">results</span><span class="hljs-selector-class">.append</span>(await <span class="hljs-built_in">f3</span>()) }
}
</code></pre>
<p>âŒ é—®é¢˜ä¸€å †ï¼š</p>
<ul>
<li><code>results</code> æœ‰æ•°æ®ç«äº‰</li>
<li>å­ä»»åŠ¡ç”Ÿå‘½å‘¨æœŸä¸å—æ§</li>
<li>å–æ¶ˆæ— æ³•ç»Ÿä¸€ä¼ æ’­</li>
<li>æ— æ³•ç¡®å®šä»€ä¹ˆæ—¶å€™å…¨éƒ¨å®Œæˆ</li>
</ul>
<hr/>
<h3 data-id="heading-2">TaskGroup æƒ³è§£å†³çš„æ­£æ˜¯è¿™äº›é—®é¢˜</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">let</span> sum = <span class="hljs-keyword">await</span> withTaskGroup(of: Int.self) { <span class="hljs-keyword">group</span> <span class="hljs-keyword">in</span>
    <span class="hljs-keyword">group</span>.addTask { <span class="hljs-keyword">await</span> f1() }
    <span class="hljs-keyword">group</span>.addTask { <span class="hljs-keyword">await</span> f2() }
    <span class="hljs-keyword">group</span>.addTask { <span class="hljs-keyword">await</span> f3() }

    <span class="hljs-keyword">var</span> total = <span class="hljs-number">0</span>
    <span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> <span class="hljs-keyword">value</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">group</span> {
        total += <span class="hljs-keyword">value</span>
    }
    <span class="hljs-keyword">return</span> total
}
</code></pre>
<hr/>
<h2 data-id="heading-3">2ï¸âƒ£ TaskGroup çš„æ ¸å¿ƒè®¾è®¡ç›®æ ‡</h2>
<h3 data-id="heading-4">ğŸ¯ ç›®æ ‡ 1ï¼šç»“æ„åŒ–å¹¶å‘ï¼ˆStructured Concurrencyï¼‰</h3>
<ul>
<li>
<p>æ‰€æœ‰å­ä»»åŠ¡ï¼š</p>
<ul>
<li><strong>å¿…é¡»åœ¨ group ä½œç”¨åŸŸå†…å®Œæˆ</strong></li>
<li>ä¸èƒ½é€ƒé€¸</li>
</ul>
</li>
<li>
<p>ç¦»å¼€ <code>withTaskGroup</code>ï¼š</p>
<ul>
<li>è¦ä¹ˆæ‰€æœ‰å®Œæˆ</li>
<li>è¦ä¹ˆå…¨éƒ¨å–æ¶ˆ</li>
</ul>
</li>
</ul>
<p>ğŸ‘‰ ä¸ä¼šâ€œå·å·æ´»ç€çš„ä»»åŠ¡â€</p>
<hr/>
<h3 data-id="heading-5">ğŸ¯ ç›®æ ‡ 2ï¼šå®‰å…¨åœ°å…±äº«ç»“æœï¼Œè€Œä¸æ˜¯å…±äº«çŠ¶æ€</h3>
<p>TaskGroup çš„å“²å­¦æ˜¯ï¼š</p>
<blockquote>
<p><strong>å¹¶å‘ä»»åŠ¡ä¹‹é—´ä¸å…±äº«å¯å˜çŠ¶æ€ï¼Œåªé€šè¿‡ç»“æœæ±‡åˆ</strong></p>
</blockquote>
<ul>
<li>
<p>å­ä»»åŠ¡ï¼š</p>
<ul>
<li>ä¸å†™å…±äº«å˜é‡</li>
<li>åª <code>return</code> å€¼</li>
</ul>
</li>
<li>
<p>çˆ¶ä»»åŠ¡ï¼š</p>
<ul>
<li>ä¸²è¡Œåœ°æ¶ˆè´¹ç»“æœ</li>
</ul>
</li>
</ul>
<hr/>
<h3 data-id="heading-6">ğŸ¯ ç›®æ ‡ 3ï¼šæ˜ç¡®çš„å¹¶å‘è¾¹ç•Œ</h3>
<ul>
<li>
<p>å¹¶å‘åªå‘ç”Ÿåœ¨ï¼š</p>
<ul>
<li><code>group.addTask</code></li>
</ul>
</li>
<li>
<p>æ”¶æ•›ç‚¹æ˜¯ï¼š</p>
<ul>
<li><code>for await value in group</code></li>
</ul>
</li>
</ul>
<p>è¿™è®©ä»£ç åœ¨<strong>è¯­ä¹‰ä¸Šå¯æ¨ç†</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-7">3ï¸âƒ£ TaskGroup çš„å·¥ä½œæ¨¡å‹ï¼ˆéå¸¸é‡è¦ï¼‰</h2>
<h3 data-id="heading-8">é€»è¾‘ç»“æ„</h3>
<pre><code class="hljs language-arduino" lang="arduino">Parent <span class="hljs-built_in">Task</span>
 â””â”€ TaskGroup
     â”œâ”€ Child <span class="hljs-built_in">Task</span> <span class="hljs-number">1</span>
     â”œâ”€ Child <span class="hljs-built_in">Task</span> <span class="hljs-number">2</span>
     â””â”€ Child <span class="hljs-built_in">Task</span> <span class="hljs-number">3</span>
</code></pre>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>
<p>å­ä»»åŠ¡éƒ½æ˜¯ï¼š</p>
<ul>
<li>å½“å‰ task çš„å­ task</li>
<li>è‡ªåŠ¨ç»§æ‰¿å–æ¶ˆ / ä¼˜å…ˆçº§ / actor</li>
</ul>
</li>
</ul>
<hr/>
<h3 data-id="heading-9">ç”Ÿå‘½å‘¨æœŸè§„åˆ™ï¼ˆå¼ºçº¦æŸï¼‰</h3>





















<table><thead><tr><th>è¡Œä¸º</th><th>ç»“æœ</th></tr></thead><tbody><tr><td>çˆ¶ task è¢«å–æ¶ˆ</td><td>group ä¸­æ‰€æœ‰å­ä»»åŠ¡è¢«å–æ¶ˆ</td></tr><tr><td>ä»»ä¸€å­ä»»åŠ¡æŠ›é”™ï¼ˆthrowing groupï¼‰</td><td>å…¶ä½™å­ä»»åŠ¡å…¨éƒ¨å–æ¶ˆ</td></tr><tr><td>ç¦»å¼€ä½œç”¨åŸŸ</td><td>ç­‰å¾…æ‰€æœ‰å­ä»»åŠ¡å®Œæˆ</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-10">4ï¸âƒ£ TaskGroup å¦‚ä½•ä¿è¯å¹¶å‘å®‰å…¨ï¼Ÿ</h2>
<p>è¿™æ˜¯ä½ é—®é¢˜çš„æ ¸å¿ƒ ğŸ‘‡</p>
<hr/>
<h3 data-id="heading-11">âœ… 1. <strong>ç±»å‹ç³»ç»Ÿå±‚é¢çš„éš”ç¦»</strong></h3>
<pre><code class="hljs language-csharp" lang="csharp">withTaskGroup(of: Int.self) { <span class="hljs-keyword">group</span> <span class="hljs-keyword">in</span>
    <span class="hljs-keyword">group</span>.addTask {
        <span class="hljs-comment">// åªèƒ½è¿”å› Int</span>
    }
}
</code></pre>
<ul>
<li>å­ä»»åŠ¡æ— æ³•ç›´æ¥è®¿é—® group çš„å†…éƒ¨çŠ¶æ€</li>
<li>åªèƒ½é€šè¿‡ <strong>è¿”å›å€¼é€šä¿¡</strong></li>
</ul>
<hr/>
<h3 data-id="heading-12">âœ… 2. <strong>ä¸²è¡Œæ¶ˆè´¹ç»“æœ</strong></h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> <span class="hljs-keyword">value</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">group</span> {
    <span class="hljs-comment">// è¿™é‡Œæ˜¯é¡ºåºæ‰§è¡Œçš„</span>
}
</code></pre>
<ul>
<li>å³ä½¿å­ä»»åŠ¡å¹¶å‘å®Œæˆ</li>
<li><strong>ç»“æœçš„å¤„ç†æ˜¯å•çº¿ç¨‹ã€é¡ºåºçš„</strong></li>
<li>æ‰€ä»¥ä½ å¯ä»¥å®‰å…¨åœ°ï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">var <span class="hljs-built_in">sum</span> = 0
<span class="hljs-built_in">sum</span> += value
</code></pre>
<hr/>
<h3 data-id="heading-13">âœ… 3. <strong>ä½œç”¨åŸŸé™åˆ¶ï¼ˆæ— æ³•é€ƒé€¸ï¼‰</strong></h3>
<p>ä½ åšä¸åˆ°ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">var</span> g: TaskGroup&lt;Int&gt;?
withTaskGroup(of: Int.self) { <span class="hljs-keyword">group</span> <span class="hljs-keyword">in</span>
    g = <span class="hljs-keyword">group</span> <span class="hljs-comment">// âŒ ä¸å…è®¸</span>
}
</code></pre>
<ul>
<li>group ä¸èƒ½è¢«å­˜å‚¨</li>
<li>ä¸èƒ½è¢«è·¨ä½œç”¨åŸŸä½¿ç”¨</li>
</ul>
<p>ğŸ‘‰ è¿™ä»æ ¹æºä¸Šæ¶ˆç­äº†æ‚¬å‚å¹¶å‘ã€‚</p>
<hr/>
<h3 data-id="heading-14">âœ… 4. <strong>è‡ªåŠ¨å–æ¶ˆä¼ æ’­</strong></h3>
<ul>
<li>çˆ¶å–æ¶ˆ â†’ å­å–æ¶ˆ</li>
<li>é”™è¯¯ â†’ å…¨éƒ¨å–æ¶ˆ</li>
</ul>
<p>è¿™é¿å…äº†ï¼š</p>
<ul>
<li>å­ä»»åŠ¡å†™äº†ä¸€åŠå…±äº«çŠ¶æ€</li>
<li>çˆ¶ä»»åŠ¡å·²ç»ä¸å…³å¿ƒç»“æœ</li>
</ul>
<hr/>
<h3 data-id="heading-15">âœ… 5. <strong>ä¸ actor éš”ç¦»å®Œç¾é…åˆ</strong></h3>
<pre><code class="hljs language-csharp" lang="csharp">actor Store {
    <span class="hljs-function">func <span class="hljs-title">loadAll</span>() <span class="hljs-keyword">async</span></span> {
        <span class="hljs-keyword">await</span> withTaskGroup(of: Item.self) { <span class="hljs-keyword">group</span> <span class="hljs-keyword">in</span>
            <span class="hljs-keyword">for</span> id <span class="hljs-keyword">in</span> ids {
                <span class="hljs-keyword">group</span>.addTask {
                    <span class="hljs-keyword">await</span> fetchItem(id)
                }
            }
            <span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> item <span class="hljs-keyword">in</span> <span class="hljs-keyword">group</span> {
                self.items.append(item) <span class="hljs-comment">// actor å†…ï¼Œå®‰å…¨</span>
            }
        }
    }
}
</code></pre>
<ul>
<li>å­ä»»åŠ¡ä¸ç›´æ¥ä¿®æ”¹ actor çŠ¶æ€</li>
<li>æ‰€æœ‰ mutation éƒ½åœ¨ actor ä¸Šé¡ºåºæ‰§è¡Œ</li>
</ul>
<hr/>
<h2 data-id="heading-16">5ï¸âƒ£ TaskGroup vs async letï¼ˆé¡ºä¾¿å¯¹æ¯”ï¼‰</h2>






























<table><thead><tr><th>ç‰¹æ€§</th><th>TaskGroup</th><th>async let</th></tr></thead><tbody><tr><td>å­ä»»åŠ¡æ•°é‡</td><td>åŠ¨æ€</td><td>é™æ€</td></tr><tr><td>ç»“æœå¤„ç†</td><td>æµå¼</td><td>ä¸€æ¬¡æ€§</td></tr><tr><td>é”™è¯¯å¤„ç†</td><td>å¯é€ä¸ª</td><td>ä¸€èµ·</td></tr><tr><td>é€‚åˆåœºæ™¯</td><td>æ‰¹é‡ / ä¸å®šé‡</td><td>å°‘é‡å›ºå®š</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-17">6ï¸âƒ£ å¸¸è§è¯¯åŒºï¼ˆéå¸¸å¸¸è§ï¼‰</h2>
<h3 data-id="heading-18">âŒ è¯¯åŒº 1ï¼šTaskGroup é‡Œå…±äº«å˜é‡æ˜¯å®‰å…¨çš„</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">var</span> sum = <span class="hljs-number">0</span>
withTaskGroup(of: Int.self) { <span class="hljs-keyword">group</span> <span class="hljs-keyword">in</span>
    <span class="hljs-keyword">group</span>.addTask { sum += <span class="hljs-number">1</span> } <span class="hljs-comment">// âŒ æ•°æ®ç«äº‰</span>
}
</code></pre>
<p>å­ä»»åŠ¡ä»ç„¶æ˜¯å¹¶å‘çš„ã€‚</p>
<hr/>
<h3 data-id="heading-19">âŒ è¯¯åŒº 2ï¼šTaskGroup ä¼šé™åˆ¶å¹¶å‘æ•°é‡</h3>
<p>ä¸ä¼šã€‚<br/>
å¦‚æœä½ è¦é™æµï¼Œéœ€è¦ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">withTaskGroup { <span class="hljs-keyword">group</span> <span class="hljs-keyword">in</span>
    <span class="hljs-comment">// è‡ªå·±æ§åˆ¶ addTask çš„èŠ‚å¥</span>
}
</code></pre>
<p>æˆ–ä½¿ç”¨ semaphore / AsyncSemaphoreã€‚</p>
<hr/>
<h2 data-id="heading-20">7ï¸âƒ£ ç»ˆææ€»ç»“ï¼ˆå¯ä»¥ç›´æ¥èƒŒï¼‰</h2>
<blockquote>
<p>TaskGroup çš„è®¾è®¡ç›®çš„ï¼Œæ˜¯åœ¨ç»“æ„åŒ–å¹¶å‘æ¨¡å‹ä¸‹ï¼Œ<br/>
å®‰å…¨åœ°è¡¨è¾¾â€œå¤šä¸ªå¹¶å‘å­ä»»åŠ¡ + ç»Ÿä¸€æ”¶æ•›â€çš„è®¡ç®—æ¨¡å¼ã€‚<br/>
å®ƒé€šè¿‡ä½œç”¨åŸŸçº¦æŸã€ç»“æœä¼ é€’è€ŒéçŠ¶æ€å…±äº«ã€ä¸²è¡Œæ¶ˆè´¹ã€è‡ªåŠ¨å–æ¶ˆä¼ æ’­ï¼Œ<br/>
ä»è¯­è¨€å’Œç±»å‹ç³»ç»Ÿå±‚é¢é¿å…äº†æ•°æ®ç«äº‰å’Œå¤±æ§å¹¶å‘ã€‚</p>
</blockquote>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Nacosé…ç½®Postgresql]]></title>    <link>https://juejin.cn/post/7599966546560466944</link>    <guid>https://juejin.cn/post/7599966546560466944</guid>    <pubDate>2026-01-28T06:54:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599966546560466944" data-draft-id="7599966546560450560" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Nacosé…ç½®Postgresql"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-28T06:54:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¾œæœˆå"/> <meta itemprop="url" content="https://juejin.cn/user/2872336891512350"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Nacosé…ç½®Postgresql
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2872336891512350/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¾œæœˆå
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T06:54:26.000Z" title="Wed Jan 28 2026 06:54:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Nacso é…ç½® Postgresql</h2>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- åˆ›å»º config_info è¡¨</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> config_info (
    id BIGSERIAL <span class="hljs-keyword">PRIMARY</span> KEY,
    data_id <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    group_id <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">128</span>),
    content TEXT <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    md5 <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">32</span>),
    gmt_create <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
    gmt_modified <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
    src_user TEXT,
    src_ip <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>),
    app_name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">128</span>),
    tenant_id <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">128</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">''</span>,
    c_desc <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">256</span>),
    c_use <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">64</span>),
    effect <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">64</span>),
    type <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">64</span>),
    c_schema TEXT,
    encrypted_data_key <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">1024</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">''</span>
);
 
<span class="hljs-comment">-- æ·»åŠ å”¯ä¸€çº¦æŸ</span>
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> config_info <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">CONSTRAINT</span> uk_configinfo_datagrouptenant 
<span class="hljs-keyword">UNIQUE</span> (data_id, group_id, tenant_id);
 
<span class="hljs-comment">-- æ·»åŠ è¡¨æ³¨é‡Š</span>
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">TABLE</span> config_info <span class="hljs-keyword">IS</span> <span class="hljs-string">'é…ç½®ä¿¡æ¯è¡¨'</span>;
 
<span class="hljs-comment">-- æ·»åŠ åˆ—æ³¨é‡Š</span>
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info.id <span class="hljs-keyword">IS</span> <span class="hljs-string">'id'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info.data_id <span class="hljs-keyword">IS</span> <span class="hljs-string">'data_id'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info.group_id <span class="hljs-keyword">IS</span> <span class="hljs-string">'group_id'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info.content <span class="hljs-keyword">IS</span> <span class="hljs-string">'content'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info.md5 <span class="hljs-keyword">IS</span> <span class="hljs-string">'md5'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info.gmt_create <span class="hljs-keyword">IS</span> <span class="hljs-string">'åˆ›å»ºæ—¶é—´'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info.gmt_modified <span class="hljs-keyword">IS</span> <span class="hljs-string">'ä¿®æ”¹æ—¶é—´'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info.src_user <span class="hljs-keyword">IS</span> <span class="hljs-string">'source user'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info.src_ip <span class="hljs-keyword">IS</span> <span class="hljs-string">'source ip'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info.app_name <span class="hljs-keyword">IS</span> <span class="hljs-string">'app_name'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info.tenant_id <span class="hljs-keyword">IS</span> <span class="hljs-string">'ç§Ÿæˆ·å­—æ®µ'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info.c_desc <span class="hljs-keyword">IS</span> <span class="hljs-string">'configuration description'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info.c_use <span class="hljs-keyword">IS</span> <span class="hljs-string">'configuration usage'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info.effect <span class="hljs-keyword">IS</span> <span class="hljs-string">'é…ç½®ç”Ÿæ•ˆçš„æè¿°'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info.type <span class="hljs-keyword">IS</span> <span class="hljs-string">'é…ç½®çš„ç±»å‹'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info.c_schema <span class="hljs-keyword">IS</span> <span class="hljs-string">'é…ç½®çš„æ¨¡å¼'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info.encrypted_data_key <span class="hljs-keyword">IS</span> <span class="hljs-string">'å¯†é’¥'</span>;
 
<span class="hljs-comment">-- åˆ›å»º config_info_gray è¡¨</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> config_info_gray (
    id BIGSERIAL <span class="hljs-keyword">PRIMARY</span> KEY,
    data_id <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    group_id <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">128</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    content TEXT <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    md5 <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">32</span>),
    src_user TEXT,
    src_ip <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">100</span>),
    gmt_create <span class="hljs-type">TIMESTAMP</span>(<span class="hljs-number">3</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
    gmt_modified <span class="hljs-type">TIMESTAMP</span>(<span class="hljs-number">3</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
    app_name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">128</span>),
    tenant_id <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">128</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">''</span>,
    gray_name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">128</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    gray_rule TEXT <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    encrypted_data_key <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">256</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">''</span>
);
 
<span class="hljs-comment">-- æ·»åŠ å”¯ä¸€çº¦æŸ</span>
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> config_info_gray <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">CONSTRAINT</span> uk_configinfogray_datagrouptenantgray 
<span class="hljs-keyword">UNIQUE</span> (data_id, group_id, tenant_id, gray_name);
 
<span class="hljs-comment">-- æ·»åŠ ç´¢å¼•</span>
<span class="hljs-keyword">CREATE</span> INDEX idx_dataid_gmt_modified <span class="hljs-keyword">ON</span> config_info_gray (data_id, gmt_modified);
<span class="hljs-keyword">CREATE</span> INDEX idx_gmt_modified <span class="hljs-keyword">ON</span> config_info_gray (gmt_modified);
 
<span class="hljs-comment">-- æ·»åŠ è¡¨æ³¨é‡Š</span>
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">TABLE</span> config_info_gray <span class="hljs-keyword">IS</span> <span class="hljs-string">'config_info_gray'</span>;
 
<span class="hljs-comment">-- æ·»åŠ åˆ—æ³¨é‡Š</span>
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_gray.id <span class="hljs-keyword">IS</span> <span class="hljs-string">'id'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_gray.data_id <span class="hljs-keyword">IS</span> <span class="hljs-string">'data_id'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_gray.group_id <span class="hljs-keyword">IS</span> <span class="hljs-string">'group_id'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_gray.content <span class="hljs-keyword">IS</span> <span class="hljs-string">'content'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_gray.md5 <span class="hljs-keyword">IS</span> <span class="hljs-string">'md5'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_gray.src_user <span class="hljs-keyword">IS</span> <span class="hljs-string">'src_user'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_gray.src_ip <span class="hljs-keyword">IS</span> <span class="hljs-string">'src_ip'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_gray.gmt_create <span class="hljs-keyword">IS</span> <span class="hljs-string">'gmt_create'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_gray.gmt_modified <span class="hljs-keyword">IS</span> <span class="hljs-string">'gmt_modified'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_gray.app_name <span class="hljs-keyword">IS</span> <span class="hljs-string">'app_name'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_gray.tenant_id <span class="hljs-keyword">IS</span> <span class="hljs-string">'tenant_id'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_gray.gray_name <span class="hljs-keyword">IS</span> <span class="hljs-string">'gray_name'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_gray.gray_rule <span class="hljs-keyword">IS</span> <span class="hljs-string">'gray_rule'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_gray.encrypted_data_key <span class="hljs-keyword">IS</span> <span class="hljs-string">'encrypted_data_key'</span>;
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> config_info_beta (
    id BIGSERIAL <span class="hljs-keyword">PRIMARY</span> KEY,
    data_id <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    group_id <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">128</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    app_name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">128</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,
    content TEXT <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    beta_ips <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">1024</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,
    md5 <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">32</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,
    gmt_create <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
    gmt_modified <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
    src_user TEXT,
    src_ip <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,
    tenant_id <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">128</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">''</span>,
    encrypted_data_key <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">1024</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">''</span>
);
 
<span class="hljs-comment">-- æ·»åŠ å”¯ä¸€çº¦æŸ</span>
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> config_info_beta <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">CONSTRAINT</span> uk_configinfobeta_datagrouptenant 
<span class="hljs-keyword">UNIQUE</span> (data_id, group_id, tenant_id);
 
<span class="hljs-comment">-- æ·»åŠ è¡¨æ³¨é‡Š</span>
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">TABLE</span> config_info_beta <span class="hljs-keyword">IS</span> <span class="hljs-string">'config_info_beta'</span>;
 
<span class="hljs-comment">-- æ·»åŠ åˆ—æ³¨é‡Š</span>
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_beta.id <span class="hljs-keyword">IS</span> <span class="hljs-string">'id'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_beta.data_id <span class="hljs-keyword">IS</span> <span class="hljs-string">'data_id'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_beta.group_id <span class="hljs-keyword">IS</span> <span class="hljs-string">'group_id'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_beta.app_name <span class="hljs-keyword">IS</span> <span class="hljs-string">'app_name'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_beta.content <span class="hljs-keyword">IS</span> <span class="hljs-string">'content'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_beta.beta_ips <span class="hljs-keyword">IS</span> <span class="hljs-string">'betaIps'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_beta.md5 <span class="hljs-keyword">IS</span> <span class="hljs-string">'md5'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_beta.gmt_create <span class="hljs-keyword">IS</span> <span class="hljs-string">'åˆ›å»ºæ—¶é—´'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_beta.gmt_modified <span class="hljs-keyword">IS</span> <span class="hljs-string">'ä¿®æ”¹æ—¶é—´'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_beta.src_user <span class="hljs-keyword">IS</span> <span class="hljs-string">'source user'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_beta.src_ip <span class="hljs-keyword">IS</span> <span class="hljs-string">'source ip'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_beta.tenant_id <span class="hljs-keyword">IS</span> <span class="hljs-string">'ç§Ÿæˆ·å­—æ®µ'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_beta.encrypted_data_key <span class="hljs-keyword">IS</span> <span class="hljs-string">'å¯†é’¥'</span>;
<span class="hljs-comment">-- åˆ›å»ºè¡¨ç»“æ„</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> config_info_tag (
    id BIGSERIAL <span class="hljs-keyword">PRIMARY</span> KEY,
    data_id <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    group_id <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">128</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    tenant_id <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">128</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">''</span>,
    tag_id <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">128</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    app_name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">128</span>),
    content TEXT <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    md5 <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">32</span>),
    gmt_create <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
    gmt_modified <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
    src_user TEXT,
    src_ip <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>)
);
 
<span class="hljs-comment">-- æ·»åŠ å”¯ä¸€çº¦æŸ</span>
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> config_info_tag <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">CONSTRAINT</span> uk_configinfotag_datagrouptenanttag 
<span class="hljs-keyword">UNIQUE</span> (data_id, group_id, tenant_id, tag_id);
 
<span class="hljs-comment">-- è¡¨æ³¨é‡Š</span>
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">TABLE</span> config_info_tag <span class="hljs-keyword">IS</span> <span class="hljs-string">'config_info_tag'</span>;
 
<span class="hljs-comment">-- åˆ—æ³¨é‡Š</span>
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_tag.id <span class="hljs-keyword">IS</span> <span class="hljs-string">'id'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_tag.data_id <span class="hljs-keyword">IS</span> <span class="hljs-string">'data_id'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_tag.group_id <span class="hljs-keyword">IS</span> <span class="hljs-string">'group_id'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_tag.tenant_id <span class="hljs-keyword">IS</span> <span class="hljs-string">'tenant_id'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_tag.tag_id <span class="hljs-keyword">IS</span> <span class="hljs-string">'tag_id'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_tag.app_name <span class="hljs-keyword">IS</span> <span class="hljs-string">'app_name'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_tag.content <span class="hljs-keyword">IS</span> <span class="hljs-string">'content'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_tag.md5 <span class="hljs-keyword">IS</span> <span class="hljs-string">'md5'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_tag.gmt_create <span class="hljs-keyword">IS</span> <span class="hljs-string">'åˆ›å»ºæ—¶é—´'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_tag.gmt_modified <span class="hljs-keyword">IS</span> <span class="hljs-string">'ä¿®æ”¹æ—¶é—´'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_tag.src_user <span class="hljs-keyword">IS</span> <span class="hljs-string">'source user'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_info_tag.src_ip <span class="hljs-keyword">IS</span> <span class="hljs-string">'source ip'</span>;
<span class="hljs-comment">-- åˆ›å»ºè¡¨ç»“æ„</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> config_tags_relation (
    id <span class="hljs-type">BIGINT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    tag_name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">128</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    tag_type <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">64</span>),
    data_id <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    group_id <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">128</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    tenant_id <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">128</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">''</span>,
    nid BIGSERIAL
);
 
<span class="hljs-comment">-- è®¾ç½®ä¸»é”®</span>
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> config_tags_relation <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">PRIMARY</span> KEY (nid);
 
<span class="hljs-comment">-- æ·»åŠ å”¯ä¸€çº¦æŸ</span>
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> config_tags_relation <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">CONSTRAINT</span> uk_configtagrelation_configidtag 
<span class="hljs-keyword">UNIQUE</span> (id, tag_name, tag_type);
 
<span class="hljs-comment">-- æ·»åŠ ç´¢å¼•</span>
<span class="hljs-keyword">CREATE</span> INDEX idx_tenant_id <span class="hljs-keyword">ON</span> config_tags_relation (tenant_id);
 
<span class="hljs-comment">-- è¡¨æ³¨é‡Š</span>
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">TABLE</span> config_tags_relation <span class="hljs-keyword">IS</span> <span class="hljs-string">'config_tag_relation'</span>;
 
<span class="hljs-comment">-- åˆ—æ³¨é‡Š</span>
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_tags_relation.id <span class="hljs-keyword">IS</span> <span class="hljs-string">'id'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_tags_relation.tag_name <span class="hljs-keyword">IS</span> <span class="hljs-string">'tag_name'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_tags_relation.tag_type <span class="hljs-keyword">IS</span> <span class="hljs-string">'tag_type'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_tags_relation.data_id <span class="hljs-keyword">IS</span> <span class="hljs-string">'data_id'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_tags_relation.group_id <span class="hljs-keyword">IS</span> <span class="hljs-string">'group_id'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_tags_relation.tenant_id <span class="hljs-keyword">IS</span> <span class="hljs-string">'tenant_id'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> config_tags_relation.nid <span class="hljs-keyword">IS</span> <span class="hljs-string">'nid, è‡ªå¢é•¿æ ‡è¯†'</span>;
<span class="hljs-comment">-- åˆ›å»ºè¡¨ç»“æ„</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> group_capacity (
    id BIGSERIAL <span class="hljs-keyword">PRIMARY</span> KEY,
    group_id <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">128</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">''</span>,
    quota <span class="hljs-type">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,
    usage <span class="hljs-type">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,
    max_size <span class="hljs-type">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,
    max_aggr_count <span class="hljs-type">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,
    max_aggr_size <span class="hljs-type">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,
    max_history_count <span class="hljs-type">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,
    gmt_create <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
    gmt_modified <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>
);
 
<span class="hljs-comment">-- æ·»åŠ å”¯ä¸€çº¦æŸ</span>
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> group_capacity <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">CONSTRAINT</span> uk_group_id <span class="hljs-keyword">UNIQUE</span> (group_id);
 
<span class="hljs-comment">-- è¡¨æ³¨é‡Š</span>
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">TABLE</span> group_capacity <span class="hljs-keyword">IS</span> <span class="hljs-string">'é›†ç¾¤ã€å„Groupå®¹é‡ä¿¡æ¯è¡¨'</span>;
 
<span class="hljs-comment">-- åˆ—æ³¨é‡Š</span>
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> group_capacity.id <span class="hljs-keyword">IS</span> <span class="hljs-string">'ä¸»é”®ID'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> group_capacity.group_id <span class="hljs-keyword">IS</span> <span class="hljs-string">'Group IDï¼Œç©ºå­—ç¬¦è¡¨ç¤ºæ•´ä¸ªé›†ç¾¤'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> group_capacity.quota <span class="hljs-keyword">IS</span> <span class="hljs-string">'é…é¢ï¼Œ0è¡¨ç¤ºä½¿ç”¨é»˜è®¤å€¼'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> group_capacity.usage <span class="hljs-keyword">IS</span> <span class="hljs-string">'ä½¿ç”¨é‡'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> group_capacity.max_size <span class="hljs-keyword">IS</span> <span class="hljs-string">'å•ä¸ªé…ç½®å¤§å°ä¸Šé™ï¼Œå•ä½ä¸ºå­—èŠ‚ï¼Œ0è¡¨ç¤ºä½¿ç”¨é»˜è®¤å€¼'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> group_capacity.max_aggr_count <span class="hljs-keyword">IS</span> <span class="hljs-string">'èšåˆå­é…ç½®æœ€å¤§ä¸ªæ•°ï¼Œ0è¡¨ç¤ºä½¿ç”¨é»˜è®¤å€¼'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> group_capacity.max_aggr_size <span class="hljs-keyword">IS</span> <span class="hljs-string">'å•ä¸ªèšåˆæ•°æ®çš„å­é…ç½®å¤§å°ä¸Šé™ï¼Œå•ä½ä¸ºå­—èŠ‚ï¼Œ0è¡¨ç¤ºä½¿ç”¨é»˜è®¤å€¼'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> group_capacity.max_history_count <span class="hljs-keyword">IS</span> <span class="hljs-string">'æœ€å¤§å˜æ›´å†å²æ•°é‡'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> group_capacity.gmt_create <span class="hljs-keyword">IS</span> <span class="hljs-string">'åˆ›å»ºæ—¶é—´'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> group_capacity.gmt_modified <span class="hljs-keyword">IS</span> <span class="hljs-string">'ä¿®æ”¹æ—¶é—´'</span>;
<span class="hljs-comment">-- åˆ›å»ºè¡¨ç»“æ„</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> his_config_info (
    id <span class="hljs-type">BIGINT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    nid BIGSERIAL,
    data_id <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    group_id <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">128</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    app_name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">128</span>),
    content TEXT <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    md5 <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">32</span>),
    gmt_create <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
    gmt_modified <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
    src_user TEXT,
    src_ip <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>),
    op_type <span class="hljs-type">CHAR</span>(<span class="hljs-number">10</span>),
    tenant_id <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">128</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">''</span>,
    encrypted_data_key <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">1024</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">''</span>,
    publish_type <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">'formal'</span>,
    gray_name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>),
    ext_info TEXT
);
 
<span class="hljs-comment">-- è®¾ç½®ä¸»é”®</span>
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> his_config_info <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">PRIMARY</span> KEY (nid);
 
<span class="hljs-comment">-- åˆ›å»ºç´¢å¼•</span>
<span class="hljs-keyword">CREATE</span> INDEX idx_gmt_create <span class="hljs-keyword">ON</span> his_config_info (gmt_create);
<span class="hljs-keyword">CREATE</span> INDEX his_config_info_idx_gmt_modified <span class="hljs-keyword">ON</span> his_config_info (gmt_modified);
<span class="hljs-keyword">CREATE</span> INDEX idx_did <span class="hljs-keyword">ON</span> his_config_info (data_id);
 
<span class="hljs-comment">-- è¡¨æ³¨é‡Š</span>
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">TABLE</span> his_config_info <span class="hljs-keyword">IS</span> <span class="hljs-string">'å¤šç§Ÿæˆ·æ”¹é€ '</span>;
 
<span class="hljs-comment">-- åˆ—æ³¨é‡Š</span>
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> his_config_info.id <span class="hljs-keyword">IS</span> <span class="hljs-string">'id'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> his_config_info.nid <span class="hljs-keyword">IS</span> <span class="hljs-string">'nid, è‡ªå¢æ ‡è¯†'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> his_config_info.data_id <span class="hljs-keyword">IS</span> <span class="hljs-string">'data_id'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> his_config_info.group_id <span class="hljs-keyword">IS</span> <span class="hljs-string">'group_id'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> his_config_info.app_name <span class="hljs-keyword">IS</span> <span class="hljs-string">'app_name'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> his_config_info.content <span class="hljs-keyword">IS</span> <span class="hljs-string">'content'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> his_config_info.md5 <span class="hljs-keyword">IS</span> <span class="hljs-string">'md5'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> his_config_info.gmt_create <span class="hljs-keyword">IS</span> <span class="hljs-string">'åˆ›å»ºæ—¶é—´'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> his_config_info.gmt_modified <span class="hljs-keyword">IS</span> <span class="hljs-string">'ä¿®æ”¹æ—¶é—´'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> his_config_info.src_user <span class="hljs-keyword">IS</span> <span class="hljs-string">'source user'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> his_config_info.src_ip <span class="hljs-keyword">IS</span> <span class="hljs-string">'source ip'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> his_config_info.op_type <span class="hljs-keyword">IS</span> <span class="hljs-string">'operation type'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> his_config_info.tenant_id <span class="hljs-keyword">IS</span> <span class="hljs-string">'ç§Ÿæˆ·å­—æ®µ'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> his_config_info.encrypted_data_key <span class="hljs-keyword">IS</span> <span class="hljs-string">'å¯†é’¥'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> his_config_info.publish_type <span class="hljs-keyword">IS</span> <span class="hljs-string">'publish type gray or formal'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> his_config_info.gray_name <span class="hljs-keyword">IS</span> <span class="hljs-string">'gray name'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> his_config_info.ext_info <span class="hljs-keyword">IS</span> <span class="hljs-string">'ext info'</span>;
<span class="hljs-comment">-- åˆ›å»ºè¡¨ç»“æ„</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> tenant_capacity (
    id BIGSERIAL <span class="hljs-keyword">PRIMARY</span> KEY,
    tenant_id <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">128</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">''</span>,
    quota <span class="hljs-type">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,
    usage <span class="hljs-type">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,
    max_size <span class="hljs-type">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,
    max_aggr_count <span class="hljs-type">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,
    max_aggr_size <span class="hljs-type">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,
    max_history_count <span class="hljs-type">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,
    gmt_create <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
    gmt_modified <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>
);
 
<span class="hljs-comment">-- æ·»åŠ å”¯ä¸€çº¦æŸ</span>
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> tenant_capacity <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">CONSTRAINT</span> uk_tenant_id <span class="hljs-keyword">UNIQUE</span> (tenant_id);
 
<span class="hljs-comment">-- è¡¨æ³¨é‡Š</span>
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">TABLE</span> tenant_capacity <span class="hljs-keyword">IS</span> <span class="hljs-string">'ç§Ÿæˆ·å®¹é‡ä¿¡æ¯è¡¨'</span>;
 
<span class="hljs-comment">-- åˆ—æ³¨é‡Š</span>
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> tenant_capacity.id <span class="hljs-keyword">IS</span> <span class="hljs-string">'ä¸»é”®ID'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> tenant_capacity.tenant_id <span class="hljs-keyword">IS</span> <span class="hljs-string">'Tenant ID'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> tenant_capacity.quota <span class="hljs-keyword">IS</span> <span class="hljs-string">'é…é¢ï¼Œ0è¡¨ç¤ºä½¿ç”¨é»˜è®¤å€¼'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> tenant_capacity.usage <span class="hljs-keyword">IS</span> <span class="hljs-string">'ä½¿ç”¨é‡'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> tenant_capacity.max_size <span class="hljs-keyword">IS</span> <span class="hljs-string">'å•ä¸ªé…ç½®å¤§å°ä¸Šé™ï¼Œå•ä½ä¸ºå­—èŠ‚ï¼Œ0è¡¨ç¤ºä½¿ç”¨é»˜è®¤å€¼'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> tenant_capacity.max_aggr_count <span class="hljs-keyword">IS</span> <span class="hljs-string">'èšåˆå­é…ç½®æœ€å¤§ä¸ªæ•°'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> tenant_capacity.max_aggr_size <span class="hljs-keyword">IS</span> <span class="hljs-string">'å•ä¸ªèšåˆæ•°æ®çš„å­é…ç½®å¤§å°ä¸Šé™ï¼Œå•ä½ä¸ºå­—èŠ‚ï¼Œ0è¡¨ç¤ºä½¿ç”¨é»˜è®¤å€¼'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> tenant_capacity.max_history_count <span class="hljs-keyword">IS</span> <span class="hljs-string">'æœ€å¤§å˜æ›´å†å²æ•°é‡'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> tenant_capacity.gmt_create <span class="hljs-keyword">IS</span> <span class="hljs-string">'åˆ›å»ºæ—¶é—´'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> tenant_capacity.gmt_modified <span class="hljs-keyword">IS</span> <span class="hljs-string">'ä¿®æ”¹æ—¶é—´'</span>;
 
<span class="hljs-comment">-- åˆ›å»ºè¡¨ç»“æ„</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> tenant_info (
    id BIGSERIAL <span class="hljs-keyword">PRIMARY</span> KEY,
    kp <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">128</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    tenant_id <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">128</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">''</span>,
    tenant_name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">128</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">''</span>,
    tenant_desc <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">256</span>),
    create_source <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">32</span>),
    gmt_create <span class="hljs-type">BIGINT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    gmt_modified <span class="hljs-type">BIGINT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>
);
 
<span class="hljs-comment">-- æ·»åŠ å”¯ä¸€çº¦æŸ</span>
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> tenant_info <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">CONSTRAINT</span> uk_tenant_info_kptenantid <span class="hljs-keyword">UNIQUE</span> (kp, tenant_id);
 
<span class="hljs-comment">-- æ·»åŠ ç´¢å¼•</span>
<span class="hljs-keyword">CREATE</span> INDEX tenant_info_idx_tenant_id <span class="hljs-keyword">ON</span> tenant_info (tenant_id);
 
<span class="hljs-comment">-- è¡¨æ³¨é‡Š</span>
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">TABLE</span> tenant_info <span class="hljs-keyword">IS</span> <span class="hljs-string">'tenant_info'</span>;
 
<span class="hljs-comment">-- åˆ—æ³¨é‡Š</span>
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> tenant_info.id <span class="hljs-keyword">IS</span> <span class="hljs-string">'id'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> tenant_info.kp <span class="hljs-keyword">IS</span> <span class="hljs-string">'kp'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> tenant_info.tenant_id <span class="hljs-keyword">IS</span> <span class="hljs-string">'tenant_id'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> tenant_info.tenant_name <span class="hljs-keyword">IS</span> <span class="hljs-string">'tenant_name'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> tenant_info.tenant_desc <span class="hljs-keyword">IS</span> <span class="hljs-string">'tenant_desc'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> tenant_info.create_source <span class="hljs-keyword">IS</span> <span class="hljs-string">'create_source'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> tenant_info.gmt_create <span class="hljs-keyword">IS</span> <span class="hljs-string">'åˆ›å»ºæ—¶é—´'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> tenant_info.gmt_modified <span class="hljs-keyword">IS</span> <span class="hljs-string">'ä¿®æ”¹æ—¶é—´'</span>;
<span class="hljs-comment">-- åˆ›å»ºè¡¨ç»“æ„</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> users (
    username <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    password <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">500</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    enabled <span class="hljs-type">BOOLEAN</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    <span class="hljs-keyword">PRIMARY</span> KEY (username)
);
 
<span class="hljs-comment">-- æ·»åŠ æ³¨é‡Š</span>
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">TABLE</span> users <span class="hljs-keyword">IS</span> <span class="hljs-string">'ç”¨æˆ·è¡¨'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> users.username <span class="hljs-keyword">IS</span> <span class="hljs-string">'username'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> users.password <span class="hljs-keyword">IS</span> <span class="hljs-string">'password'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> users.enabled <span class="hljs-keyword">IS</span> <span class="hljs-string">'enabled'</span>;
<span class="hljs-comment">-- åˆ›å»ºè¡¨ç»“æ„</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> roles (
    username <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    role <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>
);
 
<span class="hljs-comment">-- æ·»åŠ å”¯ä¸€ç´¢å¼•</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">UNIQUE</span> INDEX idx_user_role <span class="hljs-keyword">ON</span> roles (username, role);
 
<span class="hljs-comment">-- æ·»åŠ åˆ—æ³¨é‡Š</span>
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> roles.username <span class="hljs-keyword">IS</span> <span class="hljs-string">'username'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> roles.role <span class="hljs-keyword">IS</span> <span class="hljs-string">'role'</span>;
<span class="hljs-comment">-- åˆ›å»ºè¡¨ç»“æ„</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> permissions (
    role <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    resource <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">128</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    action <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">8</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>
);
 
<span class="hljs-comment">-- æ·»åŠ å”¯ä¸€çº¦æŸ</span>
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> permissions <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">CONSTRAINT</span> uk_role_permission <span class="hljs-keyword">UNIQUE</span> (role, resource, action);
 
<span class="hljs-comment">-- æ·»åŠ åˆ—æ³¨é‡Š</span>
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> permissions.role <span class="hljs-keyword">IS</span> <span class="hljs-string">'role'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> permissions.resource <span class="hljs-keyword">IS</span> <span class="hljs-string">'resource'</span>;
COMMENT <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> permissions.action <span class="hljs-keyword">IS</span> <span class="hljs-string">'action'</span>;
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[IE æµè§ˆå™¨æ£€æµ‹ä¸èµ„æºæ™ºèƒ½åŠ è½½è„šæœ¬]]></title>    <link>https://juejin.cn/post/7600060708932501514</link>    <guid>https://juejin.cn/post/7600060708932501514</guid>    <pubDate>2026-01-28T06:53:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600060708932501514" data-draft-id="7599981538298249266" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="IE æµè§ˆå™¨æ£€æµ‹ä¸èµ„æºæ™ºèƒ½åŠ è½½è„šæœ¬"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-28T06:53:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº‘è‡ªæ— å¿ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/1726704870491139"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            IE æµè§ˆå™¨æ£€æµ‹ä¸èµ„æºæ™ºèƒ½åŠ è½½è„šæœ¬
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1726704870491139/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº‘è‡ªæ— å¿ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T06:53:45.000Z" title="Wed Jan 28 2026 06:53:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€èƒŒæ™¯ä¸ç—›ç‚¹</h2>
<p>åœ¨ Web å¼€å‘ä¸­ï¼ŒIE æµè§ˆå™¨ï¼ˆå°¤å…¶æ˜¯ IE9/10/11ï¼‰çš„å…¼å®¹æ€§é—®é¢˜ä¸€ç›´æ˜¯å‰ç«¯å·¥ç¨‹å¸ˆçš„å™©æ¢¦ã€‚ç°ä»£æµè§ˆå™¨æ”¯æŒçš„æ–°ç‰¹æ€§ï¼ˆå¦‚ CSS3 åŠ¨ç”»ã€ES6+ è¯­æ³•ã€Flexbox/Grid å¸ƒå±€ç­‰ï¼‰åœ¨ IE ä¸­å¾€å¾€æ— æ³•æ­£å¸¸è¿è¡Œï¼Œå¯¼è‡´é¡µé¢é”™ä¹±æˆ–åŠŸèƒ½å¤±æ•ˆã€‚</p>
<p>ä¼ ç»Ÿçš„å…¼å®¹æ–¹æ¡ˆå­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š</p>

























<table><thead><tr><th><strong>æ–¹æ¡ˆ</strong></th><th><strong>é—®é¢˜</strong></th></tr></thead><tbody><tr><td>CSS Hack</td><td>ä»£ç å¯è¯»æ€§å·®ï¼Œç»´æŠ¤å›°éš¾</td></tr><tr><td>ç‰¹æ€§æ£€æµ‹</td><td>æ£€æµ‹ä»£ç ä¸ä¸šåŠ¡ä»£ç è€¦åˆ</td></tr><tr><td>UA å—…æ¢</td><td>é€»è¾‘åˆ†æ•£ï¼Œéš¾ä»¥å¤ç”¨</td></tr><tr><td>æ¡ä»¶æ³¨é‡Š</td><td>ä»… IE10+ æ”¯æŒï¼Œä¸å¤Ÿçµæ´»</td></tr></tbody></table>
<p>æœ¬æ–‡ä»‹ç»ä¸€ç§ æµè§ˆå™¨æ£€æµ‹ä¸èµ„æºæ™ºèƒ½åŠ è½½ çš„è§£å†³æ–¹æ¡ˆï¼Œé€šè¿‡ä¸€ä¸ªç‹¬ç«‹çš„è„šæœ¬ç»Ÿä¸€å¤„ç† IE æµè§ˆå™¨çš„æ£€æµ‹å’Œèµ„æºè¿‡æ»¤ã€‚</p>
<h2 data-id="heading-1">äºŒã€æ ¸å¿ƒåŠŸèƒ½</h2>
<p>è¯¥è„šæœ¬å®ç°ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½ï¼š</p>
<ol>
<li>ç²¾ç¡®æ£€æµ‹ IE ç‰ˆæœ¬ ï¼šè¯†åˆ« IE9/10/11ï¼ŒåŒºåˆ† Edge æµè§ˆå™¨</li>
<li>æ™ºèƒ½è¿‡æ»¤æ ·å¼ ï¼šæ ¹æ®æ ‡è®°è‡ªåŠ¨åŠ è½½/ç§»é™¤ CSS æ–‡ä»¶</li>
<li>æ™ºèƒ½è¿‡æ»¤è„šæœ¬ ï¼šæ ¹æ®æ ‡è®°è‡ªåŠ¨åŠ è½½/ç§»é™¤ JS æ–‡ä»¶</li>
<li>åŠ¨æ€æ ‡ç­¾ç›‘å¬ ï¼šä½¿ç”¨ MutationObserver ç›‘å¬åŠ¨æ€æ·»åŠ çš„èµ„æºæ ‡ç­¾</li>
<li>å…¨å±€å˜é‡æš´éœ² ï¼šå°†æ£€æµ‹ç»“æœæš´éœ²ç»™å…¶ä»–è„šæœ¬ä½¿ç”¨</li>
</ol>
<h2 data-id="heading-2">ä¸‰ã€ä½¿ç”¨æ–¹æ³•</h2>
<h3 data-id="heading-3">3.1 å¼•å…¥è„šæœ¬</h3>
<p>å®šä¹‰è¯¥è„šæœ¬æ–‡ä»¶ä¸ºie.js</p>
<p>åœ¨ HTML çš„  æ ‡ç­¾ä¸­ã€æ ·å¼æ–‡ä»¶<strong>åŠ è½½ä¹‹å‰</strong>å¼•å…¥è„šæœ¬ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>é¡µé¢æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>

  <span class="hljs-comment">&lt;!-- å¿…é¡»æ”¾åœ¨æ ·å¼åŠ è½½ä¹‹å‰ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./js/ie.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

  <span class="hljs-comment">&lt;!-- IE ä¸“ç”¨æ ·å¼ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"./css/style-ie.css"</span> <span class="hljs-attr">data-ie-only</span>=<span class="hljs-string">"true"</span> /&gt;</span>

  <span class="hljs-comment">&lt;!-- é IE ä¸“ç”¨æ ·å¼ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"./css/modern.css"</span> <span class="hljs-attr">data-non-ie-only</span>=<span class="hljs-string">"true"</span> /&gt;</span>

  <span class="hljs-comment">&lt;!-- é€šç”¨æ ·å¼ï¼ˆæ‰€æœ‰æµè§ˆå™¨éƒ½åŠ è½½ï¼‰ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"./css/common.css"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
</code></pre>
<h3 data-id="heading-4">3.2 æ ‡è®°è§„åˆ™</h3>
<p>é€šè¿‡ data-ie-only å’Œ data-non-ie-only å±æ€§æ ‡è®°èµ„æºçš„é€‚ç”¨èŒƒå›´ï¼š</p>





















<table><thead><tr><th><strong>æ ‡è®°</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td>data-ie-only="true"</td><td>ä»… IE æµè§ˆå™¨åŠ è½½</td></tr><tr><td>data-non-ie-only="true"</td><td>ä»…é IE æµè§ˆå™¨åŠ è½½</td></tr><tr><td>æ— æ ‡è®°</td><td>æ‰€æœ‰æµè§ˆå™¨éƒ½åŠ è½½</td></tr></tbody></table>
<p>åŒæ ·é€‚ç”¨äº 
</p><pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- IE ä¸“ç”¨è„šæœ¬ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./js/polyfill-ie.js"</span> <span class="hljs-attr">data-ie-only</span>=<span class="hljs-string">"true"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-comment">&lt;!-- é IE ä¸“ç”¨è„šæœ¬ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./js/modern-js.js"</span> <span class="hljs-attr">data-non-ie-only</span>=<span class="hljs-string">"true"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h3 data-id="heading-5">3.3 è·å–æ£€æµ‹ç»“æœ</h3>
<p>è„šæœ¬å°†æ£€æµ‹ç»“æœæš´éœ²åˆ°å…¨å±€ä½œç”¨åŸŸï¼Œå…¶ä»–è„šæœ¬å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ˜¯å¦ä¸º IE9/10/11</span>
<span class="hljs-keyword">if</span> (<span class="hljs-variable language_">window</span>.<span class="hljs-property">isIE</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å½“å‰æµè§ˆå™¨æ˜¯ IE '</span> + <span class="hljs-variable language_">window</span>.<span class="hljs-property">ieVersion</span>);
  <span class="hljs-comment">// IE å…¼å®¹å¤„ç†é€»è¾‘</span>
} <span class="hljs-keyword">else</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å½“å‰æµè§ˆå™¨ä¸æ˜¯ IE'</span>);
  <span class="hljs-comment">// ç°ä»£æµè§ˆå™¨é€»è¾‘</span>
}
</code></pre>
<h2 data-id="heading-6">å››ã€æ ¸å¿ƒå®ç°è§£æ</h2>
<h3 data-id="heading-7">4.1 IE ç‰ˆæœ¬æ£€æµ‹</h3>
<p>é€šè¿‡è§£æ navigator.userAgent å­—ç¬¦ä¸²åˆ¤æ–­æµè§ˆå™¨ç±»å‹å’Œç‰ˆæœ¬</p>
<pre><code class="hljs language-kotlin" lang="kotlin">function detectIE() {
  <span class="hljs-keyword">var</span> ua = window.navigator.userAgent;

  <span class="hljs-comment">// æ’é™¤ Edge æµè§ˆå™¨ï¼ˆEdge ä¸æ˜¯ IEï¼‰</span>
  <span class="hljs-keyword">if</span> (ua.indexOf(<span class="hljs-string">"Edge/"</span>) &gt; <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }

  <span class="hljs-comment">// IE11 æ£€æµ‹ï¼šTrident/7.0 + rv:11.0</span>
  <span class="hljs-keyword">if</span> (ua.indexOf(<span class="hljs-string">"Trident/"</span>) &gt; <span class="hljs-number">0</span> &amp;&amp; ua.indexOf(<span class="hljs-string">"rv:11"</span>) &gt; <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-number">11</span>;
  }

  <span class="hljs-comment">// IE10 æ£€æµ‹ï¼šMSIE 10.0</span>
  <span class="hljs-keyword">if</span> (ua.indexOf(<span class="hljs-string">"MSIE 10.0"</span>) &gt; <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-number">10</span>;
  }

  <span class="hljs-comment">// IE9 æ£€æµ‹ï¼šMSIE 9.0</span>
  <span class="hljs-keyword">var</span> msie = ua.indexOf(<span class="hljs-string">"MSIE "</span>);
  <span class="hljs-keyword">if</span> (msie &gt; <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">var</span> version = parseInt(ua.substring(msie + <span class="hljs-number">5</span>, ua.indexOf(<span class="hljs-string">"."</span>, msie)), <span class="hljs-number">10</span>);
    <span class="hljs-keyword">if</span> (version === <span class="hljs-number">9</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-number">9</span>;
    }
  }

  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
</code></pre>
<p>æ£€æµ‹é€»è¾‘è¯´æ˜ ï¼š</p>
<ul>
<li>Edge/ ï¼šEdge æµè§ˆå™¨è™½ç„¶åŒ…å« IE å†…æ ¸ï¼Œä½†ä¸æ˜¯ IEï¼Œéœ€è¦æ’é™¤</li>
<li>Trident/7.0 + rv:11.0 ï¼šIE11 çš„ç‰¹å¾æ ‡è¯†</li>
<li>MSIE 10.0 / MSIE 9.0 ï¼šIE10/IE9 çš„ç‰¹å¾æ ‡è¯†</li>
</ul>
<h3 data-id="heading-8">4.2 æ ·å¼è¿‡æ»¤</h3>
<p>éå†æ‰€æœ‰ æ ‡ç­¾ï¼Œæ ¹æ®æ ‡è®°å†³å®šæ˜¯å¦ç§»é™¤ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">function removeUnusedStyles() {
  var <span class="hljs-attr">links</span> = document.getElementsByTagName(<span class="hljs-string">"link"</span>)<span class="hljs-comment">;</span>
  var <span class="hljs-attr">toRemove</span> = []<span class="hljs-comment">;</span>

  for (var <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; links.length; i++) {</span>
    var <span class="hljs-attr">link</span> = links[i]<span class="hljs-comment">;</span>
    var <span class="hljs-attr">shouldRemove</span> = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>

    // æ£€æŸ¥æ˜¯å¦æ ‡è®°ä¸º IE ä¸“ç”¨
    if (hasMark(link, "ie-only")) {
      <span class="hljs-attr">shouldRemove</span> = !isIE<span class="hljs-comment">;  // é IE æ—¶ç§»é™¤</span>
    }
      // æ£€æŸ¥æ˜¯å¦æ ‡è®°ä¸ºé IE ä¸“ç”¨
    else if (hasMark(link, "non-ie-only")) {
      <span class="hljs-attr">shouldRemove</span> = isIE<span class="hljs-comment">;   // IE æ—¶ç§»é™¤</span>
    }

    if (shouldRemove &amp;&amp; link.parentNode) {
      toRemove.push(link)<span class="hljs-comment">;</span>
    }
  }

  // æ‰¹é‡ç§»é™¤
  for (var <span class="hljs-attr">j</span> = <span class="hljs-number">0</span><span class="hljs-comment">; j &lt; toRemove.length; j++) {</span>
    toRemove<span class="hljs-section">[j]</span>.parentNode.removeChild(toRemove<span class="hljs-section">[j]</span>)<span class="hljs-comment">;</span>
  }
}
</code></pre>
<h3 data-id="heading-9">4.3 åŠ¨æ€æ ‡ç­¾ç›‘å¬</h3>
<p>ä½¿ç”¨ MutationObserver ç›‘å¬åŠ¨æ€æ·»åŠ åˆ° DOM ä¸­çš„  å’Œ 
</p><pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">if</span> (<span class="hljs-variable language_">window</span>.<span class="hljs-property">MutationObserver</span>) {
  <span class="hljs-keyword">var</span> observer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MutationObserver</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">mutations</span>) {
    mutations.<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">mutation</span>) {
      mutation.<span class="hljs-property">addedNodes</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">node</span>) {
        <span class="hljs-keyword">if</span> (node.<span class="hljs-property">nodeType</span> === <span class="hljs-number">1</span>) {
          <span class="hljs-keyword">if</span> (node.<span class="hljs-property">tagName</span> === <span class="hljs-string">"LINK"</span>) {
            <span class="hljs-title function_">removeUnusedStyles</span>();
          } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (node.<span class="hljs-property">tagName</span> === <span class="hljs-string">"SCRIPT"</span>) {
            <span class="hljs-title function_">removeUnusedScripts</span>();
          }
        }
      });
    });
  });

  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">document</span>.<span class="hljs-property">head</span>) {
    observer.<span class="hljs-title function_">observe</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-property">head</span>, { <span class="hljs-attr">childList</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">subtree</span>: <span class="hljs-literal">false</span> });
  }
  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>) {
    observer.<span class="hljs-title function_">observe</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>, { <span class="hljs-attr">childList</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">subtree</span>: <span class="hljs-literal">false</span> });
  }
}
</code></pre>
<h3 data-id="heading-10">4.4 æ‰§è¡Œæ—¶æœº</h3>
<p>è„šæœ¬åœ¨å¤šä¸ªæ—¶æœºæ‰§è¡Œï¼Œç¡®ä¿æ•è·æ‰€æœ‰èµ„æºæ ‡ç­¾</p>
<pre><code class="hljs language-ini" lang="ini">// 1. ç«‹å³æ‰§è¡Œï¼Œå°½å¯èƒ½å¿«åœ°ç§»é™¤
removeUnusedStyles()<span class="hljs-comment">;</span>
removeUnusedScripts()<span class="hljs-comment">;</span>

// 2. å¼‚æ­¥æ‰§è¡Œä¸€æ¬¡ï¼Œç¡®ä¿æ•è·åˆ°æ‰€æœ‰å·²è§£æçš„æ ‡ç­¾
setTimeout(function () {
  removeUnusedStyles()<span class="hljs-comment">;</span>
  removeUnusedScripts()<span class="hljs-comment">;</span>
}, 0)<span class="hljs-comment">;</span>

// 3. DOMContentLoaded æ—¶å†æ‰§è¡Œä¸€æ¬¡
if (<span class="hljs-attr">document.readyState</span> === <span class="hljs-string">"loading"</span>) {
  document.addEventListener("DOMContentLoaded", function () {
    removeUnusedStyles()<span class="hljs-comment">;</span>
    removeUnusedScripts()<span class="hljs-comment">;</span>

    // ä¸º HTML æ ‡ç­¾æ·»åŠ  IE ç‰ˆæœ¬æ ‡è¯†ç±»
    if (isIE) {
      var <span class="hljs-attr">html</span> = document.documentElement<span class="hljs-comment">;</span>
      var <span class="hljs-attr">prefix</span> = html.className ? html.className + <span class="hljs-string">" "</span> : <span class="hljs-string">""</span><span class="hljs-comment">;</span>
      <span class="hljs-attr">html.className</span> = prefix + <span class="hljs-string">"ie"</span> + ieVersion<span class="hljs-comment">;</span>
    }
  })<span class="hljs-comment">;</span>
}
</code></pre>
<h2 data-id="heading-11">äº”ã€å®Œæ•´ä»£ç </h2>
<pre><code class="hljs language-ini" lang="ini">/**
 * æµè§ˆå™¨æ£€æµ‹è„šæœ¬
 * åŠŸèƒ½ï¼šæ£€æµ‹ IE9/10/11 æµè§ˆå™¨ï¼Œç§»é™¤ä¸éœ€è¦çš„æ ·å¼å’Œè„šæœ¬
 * æ³¨æ„ï¼šå¿…é¡»åœ¨ HTML head ä¸­ã€æ ·å¼åŠ è½½ä¹‹å‰æ‰§è¡Œ
 */
(function () {
  "use strict"<span class="hljs-comment">;</span>

  // ==================== 1. IE ç‰ˆæœ¬æ£€æµ‹ ====================
  function detectIE() {
    var <span class="hljs-attr">ua</span> = window.navigator.userAgent<span class="hljs-comment">;</span>

    if (ua.indexOf("Edge/") &gt; 0) {
      return false<span class="hljs-comment">;</span>
    }

    if (ua.indexOf("Trident/") &gt; 0 &amp;&amp; ua.indexOf("rv:11") &gt; 0) {
      return 11<span class="hljs-comment">;</span>
    }

    if (ua.indexOf("MSIE 10.0") &gt; 0) {
      return 10<span class="hljs-comment">;</span>
    }

    var <span class="hljs-attr">msie</span> = ua.indexOf(<span class="hljs-string">"MSIE "</span>)<span class="hljs-comment">;</span>
    if (msie &gt; 0) {
      var <span class="hljs-attr">version</span> = parseInt(ua.substring(msie + <span class="hljs-number">5</span>, ua.indexOf(<span class="hljs-string">"."</span>, msie)), <span class="hljs-number">10</span>)<span class="hljs-comment">;</span>
      if (<span class="hljs-attr">version</span> === <span class="hljs-number">9</span>) {
        return 9<span class="hljs-comment">;</span>
      }
    }

    return false<span class="hljs-comment">;</span>
  }

  // ==================== 2. åˆå§‹åŒ–å…¨å±€å˜é‡ ====================
  var <span class="hljs-attr">ieVersion</span> = detectIE()<span class="hljs-comment">;</span>
  var <span class="hljs-attr">isIE</span> = ieVersion === <span class="hljs-number">9</span> || ieVersion === <span class="hljs-number">10</span> || ieVersion === <span class="hljs-number">11</span><span class="hljs-comment">;</span>

  <span class="hljs-attr">window.isIE</span> = isIE<span class="hljs-comment">;</span>
  <span class="hljs-attr">window.ieVersion</span> = ieVersion<span class="hljs-comment">;</span>

  // ==================== 3. æ ·å¼/è„šæœ¬è¿‡æ»¤å‡½æ•° ====================
  function hasMark(element, type) {
    var <span class="hljs-attr">dataAttr</span> = element.getAttribute(<span class="hljs-string">"data-"</span> + type)<span class="hljs-comment">;</span>
    if (dataAttr !== null) {
      return true<span class="hljs-comment">;</span>
    }

    var <span class="hljs-attr">className</span> = (
      element.getAttribute("class") ||
      element.className ||
      ""
    ).toString()<span class="hljs-comment">;</span>
    return className.indexOf(type) &gt; -1<span class="hljs-comment">;</span>
  }

  function removeUnusedStyles() {
    var <span class="hljs-attr">links</span> = document.getElementsByTagName(<span class="hljs-string">"link"</span>)<span class="hljs-comment">;</span>
    var <span class="hljs-attr">toRemove</span> = []<span class="hljs-comment">;</span>

    for (var <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; links.length; i++) {</span>
      var <span class="hljs-attr">link</span> = links[i]<span class="hljs-comment">;</span>
      var <span class="hljs-attr">shouldRemove</span> = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>

      if (hasMark(link, "ie-only")) {
        <span class="hljs-attr">shouldRemove</span> = !isIE<span class="hljs-comment">;</span>
      } else if (hasMark(link, "non-ie-only")) {
        <span class="hljs-attr">shouldRemove</span> = isIE<span class="hljs-comment">;</span>
      }

      if (shouldRemove &amp;&amp; link.parentNode) {
        toRemove.push(link)<span class="hljs-comment">;</span>
      }
    }

    for (var <span class="hljs-attr">j</span> = <span class="hljs-number">0</span><span class="hljs-comment">; j &lt; toRemove.length; j++) {</span>
      toRemove<span class="hljs-section">[j]</span>.parentNode.removeChild(toRemove<span class="hljs-section">[j]</span>)<span class="hljs-comment">;</span>
    }
  }

  function removeUnusedScripts() {
    var <span class="hljs-attr">scripts</span> = document.getElementsByTagName(<span class="hljs-string">"script"</span>)<span class="hljs-comment">;</span>
    var <span class="hljs-attr">toRemove</span> = []<span class="hljs-comment">;</span>

    for (var <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; scripts.length; i++) {</span>
      var <span class="hljs-attr">script</span> = scripts[i]<span class="hljs-comment">;</span>
      if (!script.src) continue<span class="hljs-comment">;</span>

      var <span class="hljs-attr">shouldRemove</span> = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>

      if (hasMark(script, "ie-only")) {
        <span class="hljs-attr">shouldRemove</span> = !isIE<span class="hljs-comment">;</span>
      } else if (hasMark(script, "non-ie-only")) {
        <span class="hljs-attr">shouldRemove</span> = isIE<span class="hljs-comment">;</span>
      }

      if (shouldRemove &amp;&amp; script.parentNode) {
        toRemove.push(script)<span class="hljs-comment">;</span>
      }
    }

    for (var <span class="hljs-attr">j</span> = <span class="hljs-number">0</span><span class="hljs-comment">; j &lt; toRemove.length; j++) {</span>
      toRemove<span class="hljs-section">[j]</span>.parentNode.removeChild(toRemove<span class="hljs-section">[j]</span>)<span class="hljs-comment">;</span>
    }
  }

  // ==================== 4. ç«‹å³æ‰§è¡Œæ¸…ç† ====================
  removeUnusedStyles()<span class="hljs-comment">;</span>
  removeUnusedScripts()<span class="hljs-comment">;</span>

  setTimeout(function () {
    removeUnusedStyles()<span class="hljs-comment">;</span>
    removeUnusedScripts()<span class="hljs-comment">;</span>
  }, 0)<span class="hljs-comment">;</span>

  // ==================== 5. ç›‘å¬åŠ¨æ€æ·»åŠ çš„æ ‡ç­¾ ====================
  if (window.MutationObserver) {
    var <span class="hljs-attr">observer</span> = new MutationObserver(function (mutations) {
      mutations.forEach(function (mutation) {
        mutation.addedNodes.forEach(function (node) {
          if (<span class="hljs-attr">node.nodeType</span> === <span class="hljs-number">1</span>) {
            if (<span class="hljs-attr">node.tagName</span> === <span class="hljs-string">"LINK"</span>) {
              removeUnusedStyles()<span class="hljs-comment">;</span>
            } else if (<span class="hljs-attr">node.tagName</span> === <span class="hljs-string">"SCRIPT"</span>) {
              removeUnusedScripts()<span class="hljs-comment">;</span>
            }
          }
        })<span class="hljs-comment">;</span>
      })<span class="hljs-comment">;</span>
    })<span class="hljs-comment">;</span>

    if (document.head) {
      observer.observe(document.head, { childList: true, subtree: false })<span class="hljs-comment">;</span>
    }
    if (document.body) {
      observer.observe(document.body, { childList: true, subtree: false })<span class="hljs-comment">;</span>
    }
  }

  // ==================== 6. DOM å°±ç»ªåæ‰§è¡Œ ====================
  if (<span class="hljs-attr">document.readyState</span> === <span class="hljs-string">"loading"</span>) {
    document.addEventListener("DOMContentLoaded", function () {
      removeUnusedStyles()<span class="hljs-comment">;</span>
      removeUnusedScripts()<span class="hljs-comment">;</span>

      if (isIE) {
        var <span class="hljs-attr">html</span> = document.documentElement<span class="hljs-comment">;</span>
        var <span class="hljs-attr">prefix</span> = html.className ? html.className + <span class="hljs-string">" "</span> : <span class="hljs-string">""</span><span class="hljs-comment">;</span>
        <span class="hljs-attr">html.className</span> = prefix + <span class="hljs-string">"ie"</span> + ieVersion<span class="hljs-comment">;</span>
      }
    })<span class="hljs-comment">;</span>
  } else {
    removeUnusedStyles()<span class="hljs-comment">;</span>
    removeUnusedScripts()<span class="hljs-comment">;</span>

    if (isIE) {
      var <span class="hljs-attr">html</span> = document.documentElement<span class="hljs-comment">;</span>
      var <span class="hljs-attr">prefix</span> = html.className ? html.className + <span class="hljs-string">" "</span> : <span class="hljs-string">""</span><span class="hljs-comment">;</span>
      <span class="hljs-attr">html.className</span> = prefix + <span class="hljs-string">"ie"</span> + ieVersion<span class="hljs-comment">;</span>
    }
  }
})()<span class="hljs-comment">;</span>
</code></pre>
<h2 data-id="heading-12">å…­ã€æ³¨æ„äº‹é¡¹</h2>
<ol>
<li>æ‰§è¡Œé¡ºåº ï¼šie.js å¿…é¡»åœ¨æ‰€æœ‰æ ·å¼æ–‡ä»¶ä¹‹å‰å¼•å…¥ï¼Œç¡®ä¿åœ¨æ ·å¼åŠ è½½å‰å®Œæˆè¿‡æ»¤</li>
<li>å†…è”è„šæœ¬ ï¼šè„šæœ¬ä¸ä¼šç§»é™¤å†…è”</li>
<li>æ€§èƒ½è€ƒè™‘ ï¼šè„šæœ¬åœ¨é¡µé¢åŠ è½½è¿‡ç¨‹ä¸­å¤šæ¬¡æ‰§è¡Œæ¸…ç†æ“ä½œï¼Œä½†éƒ½æ˜¯ O(n) å¤æ‚åº¦ï¼Œå¯¹æ€§èƒ½å½±å“æå°</li>
<li>Edge å…¼å®¹ ï¼šè„šæœ¬æ­£ç¡®è¯†åˆ« Edge æµè§ˆå™¨å¹¶å°†å…¶è§†ä¸ºé IE</li>
<li>ç±»åæ ‡è¯† ï¼šè„šæœ¬ä¼šåœ¨ æ ‡ç­¾ä¸Šæ·»åŠ  ie9 / ie10 / ie11 ç±»åï¼Œæ–¹ä¾¿ CSS æ§åˆ¶</li>
</ol>
<h2 data-id="heading-13">ä¸ƒã€æ€»ç»“</h2>
<p>æœ¬æ–‡ä»‹ç»çš„ IE æµè§ˆå™¨æ£€æµ‹ä¸èµ„æºæ™ºèƒ½åŠ è½½è„šæœ¬ï¼Œæä¾›äº†ä¸€ç§ä¼˜é›…çš„æµè§ˆå™¨å…¼å®¹æ€§å¤„ç†æ–¹æ¡ˆï¼š</p>
<ul>
<li>ç‹¬ç«‹æ€§å¼º ï¼šä¸ä¸šåŠ¡ä»£ç è§£è€¦ï¼Œå¯å¤ç”¨</li>
<li>æ ‡è®°çµæ´» ï¼šé€šè¿‡ data å±æ€§æ§åˆ¶èµ„æºåŠ è½½</li>
<li>å…¼å®¹æ€§ ï¼šæ”¯æŒ IE9/10/11 åŠç°ä»£æµè§ˆå™¨</li>
<li>æ€§èƒ½ä¼˜ ï¼šæ‰§è¡Œæ¬¡æ•°å°‘ï¼Œä¸å½±å“é¡µé¢åŠ è½½é€Ÿåº¦</li>
</ul>
<p>é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå‰ç«¯å·¥ç¨‹å¸ˆå¯ä»¥æ›´ä¼˜é›…åœ°å¤„ç† IE å…¼å®¹é—®é¢˜ï¼Œå°†ç²¾åŠ›é›†ä¸­åœ¨ä¸šåŠ¡é€»è¾‘çš„å®ç°ä¸Šã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[@types/react å…³äº ComponentProps å·¥å…·ç±»å‹å¦‚ä½•é€‰æ‹©]]></title>    <link>https://juejin.cn/post/7600002531397615625</link>    <guid>https://juejin.cn/post/7600002531397615625</guid>    <pubDate>2026-01-28T06:56:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600002531397615625" data-draft-id="7599981538298150962" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="@types/react å…³äº ComponentProps å·¥å…·ç±»å‹å¦‚ä½•é€‰æ‹©"/> <meta itemprop="keywords" content="React.js"/> <meta itemprop="datePublished" content="2026-01-28T06:56:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="magicdawn_gh"/> <meta itemprop="url" content="https://juejin.cn/user/1433418891002455"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            @types/react å…³äº ComponentProps å·¥å…·ç±»å‹å¦‚ä½•é€‰æ‹©
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1433418891002455/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    magicdawn_gh
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T06:56:59.000Z" title="Wed Jan 28 2026 06:56:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><code>@types/react</code> åŒ…ä¸­è·å– <code>ComponentProps</code> æœ‰å‡ ä¸ªå·¥å…·ç±»å‹(Utility Type) å¯ä»¥ä½¿ç”¨
<code>ComponentProps</code> v.s <code>ComponentPropsWithRef</code> v.s <code>ComponentPropsWithoutRef</code>, æœ¬æ–‡ä»‹ç»äº†è¯¥å¦‚ä½•é€‰æ‹©è¿™ä¸‰ä¸ªå·¥å…·ç±»å‹.</p>
<h2 data-id="heading-0">TLDR | é•¿è¯çŸ­è¯´</h2>
<p>ç°ä»£ React åº”ç”¨, åªä½¿ç”¨ Function Component çš„æƒ…å†µä¸‹: å¯ä»¥å¿˜æ‰ <code>ComponentPropsWithRef</code>, ä¸éœ€è¦ ref æ—¶ä½¿ç”¨ <code>ComponentPropsWithoutRef</code>, å…¶ä»–æƒ…å†µä½¿ç”¨ <code>ComponentProps</code>.</p>
<h2 data-id="heading-1">åŒ…ç‰ˆæœ¬</h2>
<p>æœ¬æ–‡ä»¥ <code>react@19</code> &amp; <code>@types/react@19</code> è¿›è¡Œè¯´æ˜</p>
<h2 data-id="heading-2">å®šä¹‰æ‘˜æŠ„</h2>
<p>node_modules/.pnpm/@types+react@19.2.9/node_modules/@types/react/index.d.ts</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">PropsWithoutRef</span>&lt;<span class="hljs-title class_">Props</span>&gt; =
    <span class="hljs-comment">// Omit would not be sufficient for this. We'd like to avoid unnecessary mapping and need a distributive conditional to support unions.</span>
    <span class="hljs-comment">// see: https://www.typescriptlang.org/docs/handbook/2/conditional-types.html#distributive-conditional-types</span>
    <span class="hljs-comment">// https://github.com/Microsoft/TypeScript/issues/28339</span>
    <span class="hljs-title class_">Props</span> <span class="hljs-keyword">extends</span> <span class="hljs-built_in">any</span> ? (<span class="hljs-string">'ref'</span> <span class="hljs-keyword">extends</span> keyof <span class="hljs-title class_">Props</span> ? <span class="hljs-title class_">Omit</span>&lt;<span class="hljs-title class_">Props</span>, <span class="hljs-string">'ref'</span>&gt; : <span class="hljs-title class_">Props</span>) : <span class="hljs-title class_">Props</span>


<span class="hljs-keyword">type</span> <span class="hljs-title class_">JSXElementConstructor</span>&lt;P&gt; =
  | (<span class="hljs-function">(<span class="hljs-params">props: P</span>) =&gt;</span> <span class="hljs-title class_">ReactNode</span> | <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">ReactNode</span>&gt;)
  <span class="hljs-comment">// constructor signature must match React.Component</span>
  | (<span class="hljs-keyword">new</span> (<span class="hljs-attr">props</span>: P, <span class="hljs-attr">context</span>: <span class="hljs-built_in">any</span>) =&gt; <span class="hljs-title class_">Component</span>&lt;<span class="hljs-built_in">any</span>, <span class="hljs-built_in">any</span>&gt;)
    
<span class="hljs-comment">// --------------------------------</span>

<span class="hljs-keyword">type</span> <span class="hljs-title class_">ComponentProps</span>&lt;T <span class="hljs-keyword">extends</span> keyof <span class="hljs-variable constant_">JSX</span>.<span class="hljs-property">IntrinsicElements</span> | <span class="hljs-title class_">JSXElementConstructor</span>&lt;<span class="hljs-built_in">any</span>&gt;&gt; =
  T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">JSXElementConstructor</span>&lt;infer <span class="hljs-title class_">Props</span>&gt;
    ? <span class="hljs-title class_">Props</span>
    : T <span class="hljs-keyword">extends</span> keyof <span class="hljs-variable constant_">JSX</span>.<span class="hljs-property">IntrinsicElements</span>
      ? <span class="hljs-variable constant_">JSX</span>.<span class="hljs-property">IntrinsicElements</span>[T]
      : {}
      
<span class="hljs-keyword">type</span> <span class="hljs-title class_">ComponentPropsWithRef</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ElementType</span>&gt; =
    T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">JSXElementConstructor</span>&lt;infer <span class="hljs-title class_">Props</span>&gt;
      ? <span class="hljs-comment">// If it's a class i.e. newable we're dealing with a class component</span>
        T <span class="hljs-keyword">extends</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">new</span> (<span class="hljs-attr">args</span>: <span class="hljs-built_in">any</span>) =&gt; <span class="hljs-built_in">any</span>
          ? <span class="hljs-title class_">PropsWithoutRef</span>&lt;<span class="hljs-title class_">Props</span>&gt; &amp; <span class="hljs-title class_">RefAttributes</span>&lt;<span class="hljs-title class_">InstanceType</span>&lt;T&gt;&gt;
          : <span class="hljs-title class_">Props</span>
      : <span class="hljs-title class_">ComponentProps</span>&lt;T&gt;
      
<span class="hljs-keyword">type</span> <span class="hljs-title class_">ComponentPropsWithoutRef</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ElementType</span>&gt; = <span class="hljs-title class_">PropsWithoutRef</span>&lt;<span class="hljs-title class_">ComponentProps</span>&lt;T&gt;&gt;;
</code></pre>
<h3 data-id="heading-3">ä»å®ç°ä¸Šçœ‹</h3>
<ol>
<li><code>ComponentProps</code> æ˜¯ä» <code>JSXElementConstructor</code>ä¸Š infer function-signature or class-signature</li>
<li><code>ComponentPropsWithoutRef</code> æ˜¯ä» <code>ComponentProps</code> + ç±»ä¼¼ omit é€»è¾‘.</li>
<li><code>ComponentPropsWithRef</code> å¯¹ class component æœ‰ç‰¹æ®Šç…§é¡¾.</li>
</ol>
<h2 data-id="heading-4">ä»å®ä¾‹çœ‹</h2>
<h3 data-id="heading-5"><code>IntrinsicElement</code></h3>
<ul>
<li><code>ComponentProps&lt;'div'&gt;</code> =&gt; <code>React.JSX.IntrinsicElements['div']</code></li>
<li><code>ComponentPropsWithRef&lt;'div'&gt;</code> ä¸ <code>ComponentProps&lt;'div'&gt;</code> å®Œå…¨ä¸€è‡´</li>
</ul>
<h3 data-id="heading-6"><code>FunctionComponent</code></h3>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Greeting</span>(<span class="hljs-params">{name}: {name: <span class="hljs-built_in">string</span>}</span>) {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Hello, {name}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
}
</code></pre>
<ul>
<li><code>ComponentProps&lt;Greeting&gt;</code> =&gt; <code>Parameters&lt;typeof Greeting&gt;[0]</code></li>
<li><code>ComponentPropsWithRef&lt;Greeting&gt;</code> ä¸ <code>ComponentProps&lt;Greeting&gt;</code> å®Œå…¨ä¸€è‡´</li>
</ul>
<h3 data-id="heading-7"><code>class component</code></h3>
<ul>
<li><code>ComponentProps&lt;ClassComponent&gt;</code> è·å– Props ç±»å‹</li>
<li><code>ComponentPropsWithRef&lt;ClassComponent&gt;</code> =&gt; <code>PropsWithoutRef&lt;ComponentProps&lt;ClassComponent&gt;&gt; &amp; RefAttributes&lt;InstanceType&lt;T&gt;</code></li>
</ul>
<h2 data-id="heading-8">ç»“è®º</h2>
<p>å¦‚æœåªä½¿ç”¨ function component + intrinsic elements çš„æƒ…å†µä¸‹</p>
<ul>
<li><code>ComponentPropsWithRef</code> ä¸ <code>ComponentProps</code> å®Œå…¨ä¸€è‡´.</li>
<li>å¯ä»¥å¿˜æ‰ <code>ComponentPropsWithRef</code>: ä¸éœ€è¦ ref æ—¶ä½¿ç”¨ <code>ComponentPropsWithoutRef</code>, å…¶ä»–æƒ…å†µä½¿ç”¨ <code>ComponentProps</code></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è®©AIâ€œå¬æ‡‚â€ä¸€å°æ—¶ä¼šè®®å¹¶è‡ªåŠ¨ç”Ÿæˆå¸¦å‘è¨€äººçš„é€å­—ç¨¿ï¼šVibeVoice-ASRé•¿è¯­éŸ³è¯†åˆ«æ¨¡å‹]]></title>    <link>https://juejin.cn/post/7600034446947483686</link>    <guid>https://juejin.cn/post/7600034446947483686</guid>    <pubDate>2026-01-28T06:20:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600034446947483686" data-draft-id="7600034446947467302" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è®©AIâ€œå¬æ‡‚â€ä¸€å°æ—¶ä¼šè®®å¹¶è‡ªåŠ¨ç”Ÿæˆå¸¦å‘è¨€äººçš„é€å­—ç¨¿ï¼šVibeVoice-ASRé•¿è¯­éŸ³è¯†åˆ«æ¨¡å‹"/> <meta itemprop="keywords" content="å¼€æº"/> <meta itemprop="datePublished" content="2026-01-28T06:20:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§å‚æŠ€æœ¯æ€»ç›‘ä¸‹æµ·"/> <meta itemprop="url" content="https://juejin.cn/user/4091714106833577"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è®©AIâ€œå¬æ‡‚â€ä¸€å°æ—¶ä¼šè®®å¹¶è‡ªåŠ¨ç”Ÿæˆå¸¦å‘è¨€äººçš„é€å­—ç¨¿ï¼šVibeVoice-ASRé•¿è¯­éŸ³è¯†åˆ«æ¨¡å‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4091714106833577/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§å‚æŠ€æœ¯æ€»ç›‘ä¸‹æµ·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T06:20:14.000Z" title="Wed Jan 28 2026 06:20:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">VibeVoice æ·±åº¦æŠ€æœ¯è§£è¯»ï¼šè¶…ä½å¸§ç‡è¯­éŸ³å»ºæ¨¡ä¸ç»Ÿä¸€æ¶æ„å®è·µ</h2>
<h3 data-id="heading-1">1. æ•´ä½“ä»‹ç»</h3>
<h4 data-id="heading-2">1.1 é¡¹ç›®æ¦‚è¦</h4>
<p>VibeVoice æ˜¯å¾®è½¯å‘å¸ƒçš„å¼€æºå‰æ²¿è¯­éŸ³ AI æ¨¡å‹å®¶æ—ï¼Œé¡¹ç›®åœ°å€ä¸º <code>microsoft/VibeVoice</code>ã€‚è¯¥é¡¹ç›®é‡‡ç”¨ç ”ç©¶æ¡†æ¶å®šä½ï¼Œæ—¨åœ¨æ¨åŠ¨è¯­éŸ³åˆæˆä¸è¯†åˆ«é¢†åŸŸçš„å¼€æºåä½œã€‚æˆªè‡³åˆ†ææ—¶ï¼Œé¡¹ç›®åœ¨ GitHub ä¸Šè·å¾—äº†çº¦ 1.7k stars å’Œ 140+ forksï¼Œä½“ç°äº†ç¤¾åŒºå¯¹å…¶æŠ€æœ¯æ–¹å‘çš„å…³æ³¨ã€‚</p>
<p>é¡¹ç›®æ ¸å¿ƒåˆ›æ–°åœ¨äºé‡‡ç”¨ <strong>7.5 Hz è¶…ä½å¸§ç‡è¿ç»­è¯­éŸ³åˆ†è¯å™¨</strong>ï¼ˆå£°å­¦ä¸è¯­ä¹‰åˆ†è¯å™¨ï¼‰ï¼Œç»“åˆ <strong>next-token diffusion</strong> æ¡†æ¶ï¼Œå®ç°äº†é•¿åºåˆ—è¯­éŸ³çš„é«˜æ•ˆå»ºæ¨¡ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå‡ºäºè´Ÿè´£ä»»AIçš„è€ƒè™‘ï¼ŒåŸå§‹çš„ <code>VibeVoice-TTS-1.5B</code> ä»£ç å·²äº 2025å¹´9æœˆä»ä»“åº“ç§»é™¤ï¼Œå½“å‰å¼€æ”¾çš„é‡ç‚¹æ˜¯ <code>VibeVoice-ASR-7B</code> å’Œ <code>VibeVoice-Realtime-0.5B</code>ã€‚</p>
<h4 data-id="heading-3">1.2 æ ¸å¿ƒåŠŸèƒ½ä¸é¢ä¸´é—®é¢˜</h4>
<p><strong>ç›®æ ‡åœºæ™¯ä¸äººç¾¤ï¼š</strong></p>
<ul>
<li><strong>é•¿æ ¼å¼å†…å®¹å¤„ç†</strong>ï¼šé’ˆå¯¹æ’­å®¢ã€ä¼šè®®å½•éŸ³ã€æœ‰å£°ä¹¦ã€è®²åº§ç­‰60-90åˆ†é’Ÿé•¿åº¦çš„éŸ³é¢‘åœºæ™¯</li>
<li><strong>å¤šè¯´è¯äººäº¤äº’</strong>ï¼šéœ€è¦åŒºåˆ†è¯´è¯äººå¹¶æ ‡æ³¨æ—¶é—´æˆ³çš„ä¼šè®®è½¬å½•ã€è®¿è°ˆåˆ†æ</li>
<li><strong>å®æ—¶äº¤äº’åº”ç”¨</strong>ï¼šéœ€è¦ä½å»¶è¿Ÿè¯­éŸ³åˆæˆçš„å¯¹è¯ç³»ç»Ÿã€å®æ—¶å­—å¹•ã€è¾…åŠ©å·¥å…·</li>
<li><strong>ç ”ç©¶ç¤¾åŒº</strong>ï¼šéœ€è¦æ¢ç´¢é•¿ä¸Šä¸‹æ–‡è¯­éŸ³å»ºæ¨¡ã€æ‰©æ•£æ¨¡å‹ä¸LLMç»“åˆçš„ç ”ç©¶äººå‘˜</li>
</ul>
<p><strong>ä¼ ç»Ÿæ–¹æ¡ˆç—›ç‚¹ï¼š</strong></p>
<ol>
<li><strong>ä¸Šä¸‹æ–‡ç¢ç‰‡åŒ–</strong>ï¼šä¼ ç»ŸASR/TTSå°†é•¿éŸ³é¢‘åˆ‡å‰²ä¸ºçŸ­ç‰‡æ®µï¼ˆå¦‚10-30ç§’ï¼‰ï¼Œä¸¢å¤±å…¨å±€è¯­ä¹‰è¿è´¯æ€§å’Œè¯´è¯äººä¸€è‡´æ€§</li>
<li><strong>ä»»åŠ¡åˆ†ç¦»</strong>ï¼šASRã€è¯´è¯äººåˆ†ç¦»ã€æ—¶é—´æˆ³æ ‡æ³¨é€šå¸¸ç”±ç‹¬ç«‹æ¨¡å‹æµæ°´çº¿å¤„ç†ï¼Œè¯¯å·®ç´¯ç§¯ä¸”éš¾ä»¥ç»Ÿä¸€ä¼˜åŒ–</li>
<li><strong>è®¡ç®—æ•ˆç‡ä½</strong>ï¼šé«˜é¢‘å£°å­¦ç‰¹å¾ï¼ˆå¦‚50-100 Hzï¼‰å¯¼è‡´åºåˆ—è¿‡é•¿ï¼ŒTransformerå¤æ‚åº¦å‘ˆäºŒæ¬¡æ–¹å¢é•¿</li>
<li><strong>æµå¼æ”¯æŒå¼±</strong>ï¼šå¤šæ•°æ¨¡å‹é’ˆå¯¹å®Œæ•´è¾“å…¥è®¾è®¡ï¼Œéš¾ä»¥æ”¯æŒæ–‡æœ¬/è¯­éŸ³çš„æµå¼ç”Ÿæˆä¸è¯†åˆ«</li>
</ol>
<h4 data-id="heading-4">1.3 VibeVoiceçš„è§£å†³æ–¹æ¡ˆ</h4>
<p><strong>æŠ€æœ¯è·¯å¾„æ¼”è¿›ï¼š</strong></p>
<ul>
<li><strong>ä¼ ç»Ÿæ–¹æ¡ˆ</strong>ï¼šCNN/RNNå¤„ç†å£°å­¦ç‰¹å¾ â†’ ç‹¬ç«‹å£°å­¦/è¯­è¨€æ¨¡å‹ â†’ åå¤„ç†æ‹¼æ¥</li>
<li><strong>ç«¯åˆ°ç«¯æ–¹æ¡ˆ</strong>ï¼ˆå¦‚Whisperï¼‰ï¼šéŸ³é¢‘ç¼–ç å™¨ â†’ Transformerè§£ç å™¨ï¼Œä½†å—é™äºä¸Šä¸‹æ–‡é•¿åº¦ï¼ˆé€šå¸¸&lt;30ç§’ï¼‰</li>
<li><strong>VibeVoiceæ–¹æ¡ˆ</strong>ï¼šè¶…ä½å¸§ç‡tokenizerï¼ˆ7.5 Hzå‹ç¼©3200å€ï¼‰ â†’ ç»Ÿä¸€LLMå¤„ç†å£°å­¦/è¯­ä¹‰/æ–‡æœ¬ â†’ diffusionç”Ÿæˆç»†èŠ‚</li>
</ul>
<p><strong>å…³é”®ä¼˜åŠ¿ï¼š</strong></p>
<ol>
<li><strong>é•¿åº¦çªç ´</strong>ï¼šå•æ¬¡å¤„ç†60åˆ†é’ŸéŸ³é¢‘ï¼ˆASRï¼‰æˆ–ç”Ÿæˆ90åˆ†é’Ÿè¯­éŸ³ï¼ˆTTSï¼‰</li>
<li><strong>ä»»åŠ¡ç»Ÿä¸€</strong>ï¼šè”åˆå»ºæ¨¡ASRã€è¯´è¯äººåˆ†ç¦»ã€æ—¶é—´æˆ³é¢„æµ‹ï¼Œé¿å…æµæ°´çº¿è¯¯å·®</li>
<li><strong>è®¡ç®—é«˜æ•ˆ</strong>ï¼š7.5 Hzå¸§ç‡å°†1å°æ—¶éŸ³é¢‘å‹ç¼©è‡³çº¦27K tokenï¼Œå¯åœ¨æ ‡å‡†GPUä¸Šå¤„ç†</li>
<li><strong>æ¶æ„ç»Ÿä¸€</strong>ï¼šASRä¸TTSå…±äº«ç›¸ä¼¼çš„tokenizerå’ŒLLMéª¨å¹²ï¼Œä¾¿äºå¤šä»»åŠ¡å­¦ä¹ </li>
</ol>
<h4 data-id="heading-5">1.4 å•†ä¸šä»·å€¼ä¼°ç®—æ¡†æ¶</h4>
<p><strong>æˆæœ¬æ•ˆç›Šåˆ†æé€»è¾‘ï¼š</strong></p>
<ul>
<li><strong>å¼€å‘æˆæœ¬æ›¿ä»£</strong>ï¼šä¼ ç»Ÿæ–¹æ¡ˆéœ€è¦ç»„åˆå¤šä¸ªæ¨¡å‹ï¼ˆASR + VAD + è¯´è¯äººåˆ†ç¦» + æ ‡ç‚¹æ¢å¤ï¼‰ï¼Œå¼€å‘å’Œç»´æŠ¤æˆæœ¬é«˜ã€‚VibeVoice-ASRæä¾›ç»Ÿä¸€æ–¹æ¡ˆï¼Œå¯å‡å°‘çº¦60-70%çš„é›†æˆå·¥ä½œé‡</li>
<li><strong>è®¡ç®—æˆæœ¬èŠ‚çº¦</strong>ï¼š7.5 Hzå¸§ç‡ç›¸æ¯”50 Hzæ¢…å°”é¢‘è°±ï¼Œå†…å­˜å ç”¨å‡å°‘85%ï¼Œæ¨ç†é€Ÿåº¦æå‡3-5å€</li>
<li><strong>è¦†ç›–åœºæ™¯æ‰©å±•</strong>ï¼šé•¿æ ¼å¼å¤„ç†èƒ½åŠ›å¯è¦†ç›–ä¼ ç»Ÿæ–¹æ¡ˆéš¾ä»¥å¤„ç†çš„åœºæ™¯ï¼ˆå¦‚å®Œæ•´ä¼šè®®ã€é•¿è®²åº§ï¼‰ï¼Œæ‰©å±•å¸‚åœºè¦†ç›–çº¦30%</li>
<li><strong>å‡†ç¡®ç‡æå‡</strong>ï¼šç»“æ„åŒ–è¾“å‡ºï¼ˆè¯´è¯äºº+æ—¶é—´æˆ³ï¼‰å‡å°‘åå¤„ç†é”™è¯¯ï¼Œåœ¨å¤šäººä¼šè®®åœºæ™¯é¢„è®¡é™ä½15-25%çš„WER</li>
</ul>
<p><strong>ä¼°ç®—åŸºå‡†</strong>ï¼šä»¥å¤„ç†1000å°æ—¶éŸ³é¢‘ä¸ºä¾‹ï¼Œä¼ ç»Ÿæ–¹æ¡ˆçº¦éœ€<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>200</mn><mtext>äº‘æˆæœ¬</mtext><mo>+</mo></mrow><annotation encoding="application/x-tex">200äº‘æˆæœ¬ + </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"/><span class="mord">200</span><span class="mord cjk_fallback">äº‘æˆæœ¬</span><span class="mord">+</span></span></span></span></span>150äººå·¥æ ¡æ­£ï¼ŒVibeVoiceæ–¹æ¡ˆçº¦éœ€<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>80</mn><mtext>äº‘æˆæœ¬</mtext><mo>+</mo></mrow><annotation encoding="application/x-tex">80äº‘æˆæœ¬ + </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"/><span class="mord">80</span><span class="mord cjk_fallback">äº‘æˆæœ¬</span><span class="mord">+</span></span></span></span></span>50äººå·¥æ ¡æ­£ï¼Œç»¼åˆæˆæœ¬é™ä½çº¦55%ã€‚</p>
<h3 data-id="heading-6">2. è¯¦ç»†åŠŸèƒ½æ‹†è§£</h3>
<h4 data-id="heading-7">2.1 äº§å“-æŠ€æœ¯åŒè§†è§’åŠŸèƒ½çŸ©é˜µ</h4>








































<table><thead><tr><th>äº§å“åŠŸèƒ½</th><th>æŠ€æœ¯å®ç°</th><th>æ ¸å¿ƒæŒ‡æ ‡</th></tr></thead><tbody><tr><td><strong>60åˆ†é’Ÿå•æ¬¡ASR</strong></td><td>æµå¼tokenizeråˆ†å—ç¼–ç  + å…¨å±€é‡‡æ ·</td><td>æœ€å¤§æ”¯æŒ64K tokenä¸Šä¸‹æ–‡</td></tr><tr><td><strong>ç»“æ„åŒ–è½¬å½•</strong></td><td>å¤šä»»åŠ¡æç¤ºå­¦ä¹  + ç‰¹æ®Štokené¢„æµ‹</td><td>è¯´è¯äººé”™è¯¯ç‡(DER)&lt;5%ï¼Œå¸¦æ—¶é—´æˆ³WER(tcpWER)ç›¸å¯¹æå‡</td></tr><tr><td><strong>è‡ªå®šä¹‰çƒ­è¯</strong></td><td>è¯æ±‡è¡¨åç½®æ³¨å…¥ + attentionå¼•å¯¼</td><td>çƒ­è¯å¬å›ç‡æå‡15-20%</td></tr><tr><td><strong>å®æ—¶æµå¼TTS</strong></td><td>åˆ†å±‚Transformer + ç¼“å­˜å¤ç”¨</td><td>é¦–æ¬¡å¯å¬å»¶è¿Ÿ~300msï¼ŒRTF&lt;0.1</td></tr><tr><td><strong>å¤šè¯´è¯äººTTS</strong></td><td>è¯´è¯äººåµŒå…¥ + æ³¨æ„åŠ›é—¨æ§</td><td>æ”¯æŒ4ä¸ªç‹¬ç«‹è¯´è¯äººï¼ŒéŸ³è‰²ä¸€è‡´æ€§&gt;0.8</td></tr><tr><td><strong>è·¨è¯­è¨€æ”¯æŒ</strong></td><td>å¤šè¯­è¨€tokenizer + è¯­è¨€IDæ§åˆ¶</td><td>æ”¯æŒ50+è¯­è¨€ï¼Œè·¨è¯­è¨€ç›¸ä¼¼åº¦&gt;0.7</td></tr></tbody></table>
<h4 data-id="heading-8">2.2 æ ¸å¿ƒæŠ€æœ¯åˆ›æ–°ç‚¹</h4>
<p><strong>1. è¿ç»­è¯­éŸ³tokenizerè®¾è®¡ï¼š</strong></p>
<ul>
<li><strong>å£°å­¦tokenizer</strong>ï¼šVAEç»“æ„ï¼Œå°†16kHzéŸ³é¢‘å‹ç¼©è‡³7.5 Hzç¦»æ•£tokenï¼Œç æœ¬å¤§å°8K</li>
<li><strong>è¯­ä¹‰tokenizer</strong>ï¼šç±»ä¼¼WavLMç»“æ„ï¼Œæå–è¯­éŸ³è¯­ä¹‰è¡¨ç¤ºï¼Œä¸å£°å­¦tokenäº’è¡¥</li>
<li><strong>è¶…ä½å¸§ç‡åŸç†</strong>ï¼š<code>å‹ç¼©æ¯” = é‡‡æ ·ç‡ / å¸§ç‡ = 16000 / 7.5 â‰ˆ 2133</code>ï¼Œå®é™…ä»£ç ä¸­ä¸º3200</li>
</ul>
<p><strong>2. Next-token diffusionæ¡†æ¶ï¼š</strong></p>
<pre><code class="hljs">æ–‡æœ¬è¾“å…¥ â†’ LLMç†è§£ â†’ æ‰©æ•£å¤´ â†’ å£°å­¦token â†’ å£°ç å™¨ â†’ æ³¢å½¢
</code></pre>
<ul>
<li><strong>LLMè§’è‰²</strong>ï¼šQwen2.5éª¨å¹²ï¼Œç†è§£æ–‡æœ¬è¯­ä¹‰å’Œå¯¹è¯ç»“æ„</li>
<li><strong>æ‰©æ•£å¤´è§’è‰²</strong>ï¼šé¢„æµ‹å£°å­¦tokençš„åˆ†å¸ƒï¼Œé€šè¿‡å¤šæ­¥å»å™ªç”Ÿæˆç»†èŠ‚</li>
</ul>
<p><strong>3. æµå¼å¤„ç†æ¶æ„ï¼š</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ASRæµå¼å¤„ç†ä¼ªä»£ç </span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">encode_speech_streaming</span>(<span class="hljs-params">audio, segment_duration=<span class="hljs-number">60.0</span></span>):
    total_samples = audio.shape[<span class="hljs-number">1</span>]
    segment_samples = <span class="hljs-built_in">int</span>(segment_duration * <span class="hljs-number">24000</span>)
    
    <span class="hljs-keyword">if</span> total_samples &gt; segment_samples:  <span class="hljs-comment"># é•¿éŸ³é¢‘</span>
        <span class="hljs-comment"># åˆ†å—ç¼–ç ï¼Œç¼“å­˜ä¸­é—´çŠ¶æ€</span>
        <span class="hljs-keyword">for</span> start, end <span class="hljs-keyword">in</span> segment_iter(total_samples, segment_samples):
            chunk = audio[:, start:end]
            encoder_output = tokenizer.encode(chunk, cache=encoder_cache)
            mean_segments.append(encoder_output.mean)
        <span class="hljs-comment"># å…¨å±€é‡‡æ ·ä¿æŒä¸€è‡´æ€§</span>
        full_mean = torch.cat(mean_segments, dim=<span class="hljs-number">1</span>)
        tokens = sample_from_distribution(full_mean)
    <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># çŸ­éŸ³é¢‘ç›´æ¥å¤„ç†</span>
        tokens = tokenizer.encode(audio).sample()
    <span class="hljs-keyword">return</span> tokens
</code></pre>
<h3 data-id="heading-9">3. æŠ€æœ¯éš¾ç‚¹ä¸è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-10">3.1 é•¿ä¸Šä¸‹æ–‡å»ºæ¨¡æŒ‘æˆ˜</h4>
<p><strong>éš¾ç‚¹</strong>ï¼š1å°æ—¶éŸ³é¢‘ â‰ˆ 5.76äº¿ä¸ªé‡‡æ ·ç‚¹ â†’ ä¼ ç»Ÿæ¢…å°”ç‰¹å¾ï¼ˆ50 Hzï¼‰â†’ 180Kå¸§ â†’ Transformerå†…å­˜çˆ†ç‚¸</p>
<p><strong>VibeVoiceæ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li><strong>è¶…å‹ç¼©tokenizer</strong>ï¼š<code>5.76äº¿é‡‡æ ·ç‚¹ â†’ 7.5 Hz tokenizer â†’ 27K token</code></li>
<li><strong>é«˜æ•ˆæ³¨æ„åŠ›</strong>ï¼šé‡‡ç”¨FlashAttention-2ï¼Œå†…å­˜å¤æ‚åº¦ä»O(NÂ²)é™è‡³O(N)</li>
<li><strong>åˆ†å±‚å¤„ç†</strong>ï¼šStreamingæ¨¡å‹ä¸­ï¼Œä¸‹å±‚LMå¤„ç†æ–‡æœ¬ï¼Œä¸Šå±‚TTS-LMå¤„ç†è¯­éŸ³ï¼Œå‡å°‘åŒæ—¶å¤„ç†çš„åºåˆ—é•¿åº¦</li>
</ol>
<h4 data-id="heading-11">3.2 å¤šä»»åŠ¡è”åˆå­¦ä¹ </h4>
<p><strong>éš¾ç‚¹</strong>ï¼šASRã€è¯´è¯äººåˆ†ç¦»ã€æ—¶é—´æˆ³é¢„æµ‹ä»»åŠ¡ç›®æ ‡å†²çªï¼Œè”åˆè®­ç»ƒæ˜“é™·å…¥å±€éƒ¨æœ€ä¼˜</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li><strong>æç¤ºå·¥ç¨‹</strong>ï¼šä½¿ç”¨ç‰¹æ®ŠtokenåŒºåˆ†ä»»åŠ¡ï¼Œå¦‚<code>&lt;|transcribe|&gt;</code>ã€<code>&lt;|diarize|&gt;</code></li>
<li><strong>æŸå¤±åŠ æƒ</strong>ï¼šåŠ¨æ€è°ƒæ•´å„ä»»åŠ¡æŸå¤±æƒé‡ï¼Œå¹³è¡¡æ”¶æ•›é€Ÿåº¦</li>
<li><strong>æ¸è¿›è®­ç»ƒ</strong>ï¼šå…ˆé¢„è®­ç»ƒASRï¼Œå†é€æ­¥åŠ å…¥è¯´è¯äººåˆ†ç¦»å’Œæ—¶é—´æˆ³ä»»åŠ¡</li>
</ol>
<h4 data-id="heading-12">3.3 æµå¼æ¨ç†ä¸€è‡´æ€§</h4>
<p><strong>éš¾ç‚¹</strong>ï¼šåˆ†å—å¤„ç†é•¿éŸ³é¢‘æ—¶ï¼Œå—é—´è¾¹ç•Œå¤„tokenåˆ†å¸ƒä¸ä¸€è‡´ï¼Œå¯¼è‡´è¯†åˆ«ç»“æœè·³å˜</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼ˆè§ASRä»£ç ï¼‰ï¼š</p>
<ol>
<li><strong>ç¼“å­˜æœºåˆ¶</strong>ï¼š<code>VibeVoiceTokenizerStreamingCache</code>ä¿å­˜å·ç§¯çŠ¶æ€</li>
<li><strong>å»¶è¿Ÿå†³ç­–</strong>ï¼šåˆ†å—åªè®¡ç®—ä¸­é—´è¡¨ç¤ºï¼Œæœ€åç»Ÿä¸€é‡‡æ ·</li>
<li><strong>é‡å åˆ†å—</strong>ï¼šç›¸é‚»å—æœ‰é‡å åŒºåŸŸï¼Œå¹³æ»‘è¿‡æ¸¡</li>
</ol>
<h3 data-id="heading-13">4. è¯¦ç»†è®¾è®¡å›¾</h3>
<h4 data-id="heading-14">4.1 æ•´ä½“æ¶æ„å›¾</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    subgraph "è¾“å…¥å±‚"
        A1[éŸ³é¢‘æ³¢å½¢ 16kHz]
        T1[æ–‡æœ¬æç¤º]
        H1[çƒ­è¯åˆ—è¡¨]
    end
    
    subgraph "Tokenizerå±‚ (7.5 Hz)"
        B1[å£°å­¦Tokenizer&lt;br/&gt;VAEç¼–ç å™¨]
        B2[è¯­ä¹‰Tokenizer&lt;br/&gt;HuBERTå¼ç¼–ç å™¨]
        B3[æ–‡æœ¬Tokenizer&lt;br/&gt;Qwen Tokenizer]
    end
    
    subgraph "æ ¸å¿ƒLLMéª¨å¹² (Qwen2.5)"
        C1[ä¸‹å±‚Transformer Layers&lt;br/&gt;æ–‡æœ¬/è¯­ä¹‰ç†è§£]
        C2[ä¸Šå±‚Transformer Layers&lt;br/&gt;è¯­éŸ³tokenç”Ÿæˆ]
        C3[æ³¨æ„åŠ›èåˆ&lt;br/&gt;æ–‡æœ¬+å£°å­¦+è¯­ä¹‰]
    end
    
    subgraph "ä»»åŠ¡å¤´"
        D1[ASRå¤´&lt;br/&gt;LM Head]
        D2[TTSæ‰©æ•£å¤´&lt;br/&gt;Diffusion Head]
        D3[è¯´è¯äººåˆ†ç±»å¤´]
    end
    
    subgraph "è¾“å‡ºå±‚"
        E1[ç»“æ„åŒ–æ–‡æœ¬&lt;br/&gt;è¯´è¯äºº:æ—¶é—´:å†…å®¹]
        E2[å£°å­¦Token]
        E3[æ³¢å½¢å£°ç å™¨]
    end
    
    A1 --&gt; B1
    A1 --&gt; B2
    T1 --&gt; B3
    H1 --&gt; C3
    
    B1 --&gt; C3
    B2 --&gt; C3
    B3 --&gt; C1
    
    C1 --&gt; C2
    C3 --&gt; C2
    
    C2 --&gt; D1
    C2 --&gt; D2
    C2 --&gt; D3
    
    D1 --&gt; E1
    D2 --&gt; E2
    E2 --&gt; E3
</code></pre>
<h4 data-id="heading-15">4.2 ASRæ ¸å¿ƒåºåˆ—å›¾</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant User
    participant Processor
    participant Tokenizer
    participant LLM
    participant Decoder
    
    User-&gt;&gt;Processor: è¾“å…¥60åˆ†é’ŸéŸ³é¢‘ + çƒ­è¯
    Note over Processor: éŸ³é¢‘å½’ä¸€åŒ–&lt;br/&gt;åˆ†å—(å¦‚60ç§’/å—)
    
    loop æ¯ä¸ªéŸ³é¢‘å—
        Processor-&gt;&gt;Tokenizer: ç¼–ç éŸ³é¢‘å—
        Tokenizer--&gt;&gt;Processor: è¿”å›mean/std
        Note over Tokenizer: ä½¿ç”¨StreamingCache&lt;br/&gt;ä¿æŒå—é—´è¿ç»­æ€§
    end
    
    Processor-&gt;&gt;LLM: æ‹¼æ¥æ‰€æœ‰mean + çƒ­è¯embedding
    Note over LLM: å…¨å±€ä¸Šä¸‹æ–‡æ³¨æ„&lt;br/&gt;é¿å…è¾¹ç•Œæ•ˆåº”
    
    LLM-&gt;&gt;Decoder: éšè—çŠ¶æ€åºåˆ—
    Decoder-&gt;&gt;Decoder: è‡ªå›å½’ç”Ÿæˆæ–‡æœ¬token
    Note over Decoder: æ¯æ­¥é¢„æµ‹: [SPK][TIME][TEXT]
    
    Decoder--&gt;&gt;User: ç»“æ„åŒ–è½¬å½•ç»“æœ
</code></pre>
<h4 data-id="heading-16">4.3 æ ¸å¿ƒç±»å›¾</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">classDiagram
    class VibeVoiceASRForConditionalGeneration {
        -model: VibeVoiceASRModel
        -lm_head: nn.Linear
        +encode_speech(speech_tensors)
        +forward() CausalLMOutput
        +prepare_inputs_for_generation()
    }
    
    class VibeVoiceASRModel {
        -language_model: AutoModel
        -acoustic_tokenizer: AutoModel
        -semantic_tokenizer: AutoModel
        -acoustic_connector: SpeechConnector
        -semantic_connector: SpeechConnector
        +set_speech_tokenizers()
        +forward() BaseModelOutputWithPast
    }
    
    class VibeVoiceStreamingModel {
        -language_model: AutoModel
        -tts_language_model: AutoModel
        -acoustic_tokenizer: AutoModel
        -tts_input_types: nn.Embedding
        -prediction_head: AutoModel
        -noise_scheduler: DPMSolverMultistepScheduler
        +forward() Disabled
    }
    
    class SpeechConnector {
        -fc1: nn.Linear
        -norm: LlamaRMSNorm
        -fc2: nn.Linear
        +forward(features)
    }
    
    class VibeVoiceTokenizerStreamingCache {
        -cache_states: Dict
        +update(chunk_output)
        +get_final_output()
    }
    
    VibeVoiceASRForConditionalGeneration *-- VibeVoiceASRModel
    VibeVoiceASRModel *-- SpeechConnector
    VibeVoiceASRModel o-- VibeVoiceTokenizerStreamingCache
    VibeVoiceStreamingModel *-- SpeechConnector
</code></pre>
<h4 data-id="heading-17">4.4 æ ¸å¿ƒå‡½æ•°æ•°æ®æµå›¾</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    subgraph "encode_speechå‡½æ•° (ASR)"
        A[éŸ³é¢‘å¼ é‡] --&gt; B{éŸ³é¢‘é•¿åº¦ &gt; 60ç§’?}
        B --&gt;|æ˜¯| C[æµå¼åˆ†å—ç¼–ç ]
        B --&gt;|å¦| D[ç›´æ¥ç¼–ç ]
        
        C --&gt; E[åˆå§‹åŒ–StreamingCache]
        E --&gt; F[å¾ªç¯å¤„ç†æ¯å—]
        F --&gt; G[tokenizer.encode with cache]
        G --&gt; H[ä¿å­˜meanåˆ°åˆ—è¡¨]
        H --&gt; I{æœ€åä¸€å—?}
        I --&gt;|å¦| F
        I --&gt;|æ˜¯| J[æ‹¼æ¥æ‰€æœ‰mean]
        
        D --&gt; K[tokenizer.encode]
        K --&gt; L[ç›´æ¥é‡‡æ ·token]
        
        J --&gt; M[å…¨å±€é‡‡æ ·token]
        L --&gt; N[acoustic_connector]
        M --&gt; N
        
        N --&gt; O[è¯­ä¹‰ç‰¹å¾è¿æ¥]
        O --&gt; P[è¿”å›èåˆç‰¹å¾]
    end
</code></pre>
<h3 data-id="heading-18">5. æ ¸å¿ƒä»£ç è§£æ</h3>
<h4 data-id="heading-19">5.1 ASRæµå¼ç¼–ç æ ¸å¿ƒå®ç°</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">VibeVoiceASRForConditionalGeneration</span>(VibeVoiceASRPreTrainedModel, GenerationMixin):
    <span class="hljs-string">"""ASRæ¡ä»¶ç”Ÿæˆæ¨¡å‹ï¼Œæ”¯æŒæµå¼é•¿éŸ³é¢‘å¤„ç†"""</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">encode_speech</span>(<span class="hljs-params">self, speech_tensors, streaming_segment_duration=<span class="hljs-number">60.0</span></span>):
        <span class="hljs-string">"""
        ç¼–ç è¯­éŸ³è¾“å…¥çš„æ ¸å¿ƒæ–¹æ³•
        å…³é”®è®¾è®¡ï¼šé•¿éŸ³é¢‘(&gt;60ç§’)ä½¿ç”¨æµå¼å¤„ç†é¿å…å·ç§¯æº¢å‡º(&gt;2^32)
        åˆ†å—ç‹¬ç«‹å¤„ç†ï¼Œæœ€åç»Ÿä¸€é‡‡æ ·ä¿æŒä¸€è‡´æ€§
        """</span>
        batch_size, total_samples = speech_tensors.shape
        sample_rate = <span class="hljs-number">24000</span>  <span class="hljs-comment"># å›ºå®š24kHz</span>
        
        <span class="hljs-comment"># è®¡ç®—åˆ†æ®µæ ·æœ¬æ•°</span>
        segment_samples = <span class="hljs-built_in">int</span>(streaming_segment_duration * sample_rate)
        use_streaming = total_samples &gt; segment_samples  <span class="hljs-comment"># å†³ç­–æ˜¯å¦æµå¼</span>
        
        <span class="hljs-keyword">with</span> torch.no_grad():
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> use_streaming:
                <span class="hljs-comment"># çŸ­éŸ³é¢‘ï¼šç›´æ¥å¤„ç†ï¼ˆåŸå§‹é€»è¾‘ï¼‰</span>
                encoder_output = self.model.acoustic_tokenizer.encode(
                    speech_tensors.unsqueeze(<span class="hljs-number">1</span>)  <span class="hljs-comment"># æ·»åŠ é€šé“ç»´åº¦</span>
                )
                <span class="hljs-comment"># ä»åˆ†å¸ƒä¸­é‡‡æ ·token</span>
                audio_tokens = encoder_output.sample(
                    dist_type=self.model.acoustic_tokenizer.std_dist_type
                )[<span class="hljs-number">0</span>]
                acoustic_features = self.model.acoustic_connector(audio_tokens)
            <span class="hljs-keyword">else</span>:
                <span class="hljs-comment"># é•¿éŸ³é¢‘ï¼šæµå¼å¤„ç†</span>
                acoustic_encoder_cache = VibeVoiceTokenizerStreamingCache()
                acoustic_mean_segments = []
                
                <span class="hljs-comment"># åˆ†å—è¿­ä»£å™¨</span>
                <span class="hljs-keyword">for</span> start, end <span class="hljs-keyword">in</span> self._iter_segments(total_samples, segment_samples):
                    chunk = speech_tensors[:, start:end].contiguous()
                    is_final = (end == total_samples)  <span class="hljs-comment"># æ˜¯å¦ä¸ºæœ€åä¸€å—</span>
                    
                    <span class="hljs-comment"># ä½¿ç”¨ç¼“å­˜çš„ç¼–ç ï¼ˆä¸ç«‹å³é‡‡æ ·ï¼‰</span>
                    acoustic_encoder_output = self.model.acoustic_tokenizer.encode(
                        chunk.unsqueeze(<span class="hljs-number">1</span>),
                        cache=acoustic_encoder_cache,
                        use_cache=<span class="hljs-literal">True</span>,
                        is_final_chunk=is_final,
                    )
                    acoustic_mean_segments.append(acoustic_encoder_output.mean)
                
                <span class="hljs-comment"># å…³é”®æ­¥éª¤ï¼šæ‹¼æ¥æ‰€æœ‰å—çš„meanï¼Œç„¶åç»Ÿä¸€é‡‡æ ·</span>
                acoustic_mean_full = torch.cat(acoustic_mean_segments, dim=<span class="hljs-number">1</span>).contiguous()
                acoustic_encoder_output = VibeVoiceTokenizerEncoderOutput(
                    mean=acoustic_mean_full,
                    std=self.model.acoustic_tokenizer.fix_std
                )
                <span class="hljs-comment"># å…¨å±€é‡‡æ ·ç¡®ä¿å—é—´ä¸€è‡´æ€§</span>
                audio_tokens = acoustic_encoder_output.sample(
                    dist_type=self.model.acoustic_tokenizer.std_dist_type
                )[<span class="hljs-number">0</span>]
                acoustic_features = self.model.acoustic_connector(audio_tokens)
            
            <span class="hljs-comment"># è¯­ä¹‰ç‰¹å¾å¤„ç†ï¼ˆç±»ä¼¼é€»è¾‘ï¼‰</span>
            <span class="hljs-comment"># ... çœç•¥è¯­ä¹‰éƒ¨åˆ†ä»£ç  ...</span>
            
            <span class="hljs-comment"># èåˆå£°å­¦å’Œè¯­ä¹‰ç‰¹å¾</span>
            combined_features = acoustic_features + semantic_features
            <span class="hljs-keyword">return</span> combined_features
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_iter_segments</span>(<span class="hljs-params">self, total_length: <span class="hljs-built_in">int</span>, segment_length: <span class="hljs-built_in">int</span></span>):
        <span class="hljs-string">"""åˆ†å—è¿­ä»£å™¨ï¼Œæ”¯æŒé‡å åˆ†å—ï¼ˆå¦‚æœ‰éœ€è¦ï¼‰"""</span>
        <span class="hljs-keyword">for</span> start <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, total_length, segment_length):
            end = <span class="hljs-built_in">min</span>(start + segment_length, total_length)
            <span class="hljs-keyword">if</span> end &gt; start:
                <span class="hljs-keyword">yield</span> start, end
</code></pre>
<p><strong>ä»£ç å…³é”®ç‚¹è§£æï¼š</strong></p>
<ol>
<li><strong>æµå¼å†³ç­–</strong>ï¼šåŸºäºæ—¶é•¿é˜ˆå€¼è‡ªåŠ¨é€‰æ‹©å¤„ç†æ¨¡å¼ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®</li>
<li><strong>ç¼“å­˜è®¾è®¡</strong>ï¼š<code>VibeVoiceTokenizerStreamingCache</code>ä¿å­˜å·ç§¯ç½‘ç»œçš„çŠ¶æ€ï¼Œé¿å…é‡å¤è®¡ç®—</li>
<li><strong>å»¶è¿Ÿé‡‡æ ·</strong>ï¼šåˆ†å—åªè®¡ç®—å‡å€¼ï¼Œæœ€åç»Ÿä¸€é‡‡æ ·ï¼Œç¡®ä¿å…¨å±€åˆ†å¸ƒä¸€è‡´æ€§</li>
<li><strong>å†…å­˜ä¼˜åŒ–</strong>ï¼šä½¿ç”¨<code>.contiguous()</code>ç¡®ä¿å†…å­˜è¿ç»­ï¼Œæé«˜ç¼“å­˜æ•ˆç‡</li>
</ol>
<h4 data-id="heading-20">5.2 Streaming TTSåˆ†å±‚æ¨¡å‹è®¾è®¡</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">VibeVoiceStreamingModel</span>(<span class="hljs-title class_ inherited__">VibeVoiceStreamingPreTrainedModel</span>):
    <span class="hljs-string">"""å®æ—¶TTSæ¨¡å‹ï¼Œé‡‡ç”¨åˆ†å±‚Transformerè®¾è®¡"""</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, config</span>):
        <span class="hljs-built_in">super</span>().__init__(config)
        
        <span class="hljs-comment"># å…³é”®è®¾è®¡ï¼šä¸¤ä¸ªç‹¬ç«‹çš„è¯­è¨€æ¨¡å‹</span>
        <span class="hljs-comment"># 1. ä¸‹å±‚LMï¼šä»…ç”¨äºæ–‡æœ¬ç¼–ç </span>
        lm_config = copy.deepcopy(config.decoder_config)
        lm_backbone_num_hidden_layers = <span class="hljs-built_in">getattr</span>(lm_config, <span class="hljs-string">'num_hidden_layers'</span>, <span class="hljs-number">24</span>) - config.tts_backbone_num_hidden_layers
        lm_config.num_hidden_layers = lm_backbone_num_hidden_layers
        self.language_model = AutoModel.from_config(lm_config)
        self.language_model.norm = nn.Identity()  <span class="hljs-comment"># æœ€ç»ˆå±‚å½’ä¸€åŒ–è®¾ä¸ºæ’ç­‰</span>
        
        <span class="hljs-comment"># 2. ä¸Šå±‚TTS-LMï¼šå¤„ç†æ–‡æœ¬å’Œç”Ÿæˆè¯­éŸ³</span>
        tts_lm_config = copy.deepcopy(lm_config)
        tts_lm_config.num_hidden_layers = config.tts_backbone_num_hidden_layers
        self.tts_language_model = AutoModel.from_config(tts_lm_config)
        
        <span class="hljs-comment"># TTSè¾“å…¥ç±»å‹æ ‡è®°åµŒå…¥</span>
        self.tts_input_types = nn.Embedding(
            num_embeddings=<span class="hljs-number">2</span>,  <span class="hljs-comment"># 0:æ–‡æœ¬, 1:TTSæ ‡è®°</span>
            embedding_dim=config.decoder_config.hidden_size
        )
        
        <span class="hljs-comment"># æ˜¾å¼ç¦ç”¨ç»Ÿä¸€forwardï¼Œå¼ºåˆ¶ä½¿ç”¨åˆ†å±‚API</span>
        <span class="hljs-keyword">def</span> <span class="hljs-title function_">disabled_forward</span>(<span class="hljs-params">*args, **kwargs</span>):
            <span class="hljs-keyword">raise</span> RuntimeError(
                <span class="hljs-string">"VibeVoiceStreamingModel.forward is intentionally disabled. "</span>
                <span class="hljs-string">"Use `model.language_model(...)` or `model.tts_language_model(...)` instead."</span>
            )
        self.forward = disabled_forward
</code></pre>
<p><strong>æ¶æ„è®¾è®¡ä¼˜åŠ¿ï¼š</strong></p>
<ol>
<li><strong>èŒè´£åˆ†ç¦»</strong>ï¼šä¸‹å±‚LMä¸“æ³¨æ–‡æœ¬ç†è§£ï¼Œä¸Šå±‚TTS-LMä¸“æ³¨è¯­éŸ³ç”Ÿæˆï¼Œé¿å…ä»»åŠ¡å¹²æ‰°</li>
<li><strong>ç¼“å­˜å¤ç”¨</strong>ï¼šæ–‡æœ¬éƒ¨åˆ†å¯é¢„è®¡ç®—å¹¶ç¼“å­˜ï¼Œæµå¼ç”Ÿæˆæ—¶åªéœ€è¿è¡Œä¸Šå±‚TTS-LM</li>
<li><strong>çµæ´»éƒ¨ç½²</strong>ï¼šå¯æ ¹æ®éœ€æ±‚åªéƒ¨ç½²ä¸Šå±‚TTS-LMï¼Œå‡å°‘æ¨ç†å†…å­˜</li>
<li><strong>è®­ç»ƒç¨³å®š</strong>ï¼šåˆ†å±‚è®­ç»ƒç­–ç•¥ï¼Œå…ˆè®­ç»ƒä¸‹å±‚æ–‡æœ¬ç†è§£ï¼Œå†å¾®è°ƒä¸Šå±‚è¯­éŸ³ç”Ÿæˆ</li>
</ol>
<h4 data-id="heading-21">5.3 è¿æ¥å™¨æ¡¥æ¥è®¾è®¡</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">SpeechConnector</span>(nn.Module):
    <span class="hljs-string">"""è¿æ¥è¯­éŸ³tokenizerå’ŒLLMçš„é€‚é…å±‚"""</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, input_dim, output_dim</span>):
        <span class="hljs-built_in">super</span>().__init__()
        <span class="hljs-comment"># ç®€å•ä½†æœ‰æ•ˆçš„è®¾è®¡ï¼šçº¿æ€§å±‚ + å½’ä¸€åŒ– + çº¿æ€§å±‚</span>
        self.fc1 = nn.Linear(input_dim, output_dim)
        self.norm = LlamaRMSNorm(output_dim, eps=<span class="hljs-number">1e-6</span>)  <span class="hljs-comment"># ä½¿ç”¨LLaMAçš„RMSNorm</span>
        self.fc2 = nn.Linear(output_dim, output_dim)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, features, **kwargs</span>):
        <span class="hljs-comment"># å°†å£°å­¦/è¯­ä¹‰ç‰¹å¾æŠ•å½±åˆ°LLMéšè—ç©ºé—´</span>
        x = self.fc1(features)      <span class="hljs-comment"># ç»´åº¦å¯¹é½</span>
        x = self.norm(x)            <span class="hljs-comment"># ç¨³å®šè®­ç»ƒ</span>
        x = self.fc2(x)             <span class="hljs-comment"># å¢å¼ºè¡¨ç¤ºèƒ½åŠ›</span>
        <span class="hljs-keyword">return</span> x
</code></pre>
<p><strong>è®¾è®¡è€ƒé‡ï¼š</strong></p>
<ol>
<li><strong>ç»´åº¦é€‚é…</strong>ï¼šå°†tokenizerè¾“å‡ºç»´åº¦ï¼ˆå¦‚768ï¼‰æ˜ å°„åˆ°LLMéšè—ç»´åº¦ï¼ˆå¦‚2048ï¼‰</li>
<li><strong>å½’ä¸€åŒ–é€‰æ‹©</strong>ï¼šRMSNormæ¯”LayerNormæ›´é«˜æ•ˆï¼Œé€‚åˆå¤§æ¨¡å‹</li>
<li><strong>ç®€å•æœ‰æ•ˆ</strong>ï¼šé¿å…å¤æ‚ç»“æ„ï¼Œå‡å°‘è¿‡æ‹Ÿåˆé£é™©</li>
</ol>
<h3 data-id="heading-22">6. æ€§èƒ½å¯¹æ¯”ä¸è¯„ä¼°</h3>
<h4 data-id="heading-23">6.1 ä¸ä¼ ç»Ÿæ–¹æ¡ˆå¯¹æ¯”</h4>









































<table><thead><tr><th>æŒ‡æ ‡</th><th>ä¼ ç»Ÿæ–¹æ¡ˆ (Whisper+Pyannote)</th><th>VibeVoice-ASR</th><th>æ”¹è¿›å¹…åº¦</th></tr></thead><tbody><tr><td>æœ€å¤§éŸ³é¢‘é•¿åº¦</td><td>30ç§’åˆ†æ®µå¤„ç†</td><td>60åˆ†é’Ÿå•æ¬¡å¤„ç†</td><td>120å€</td></tr><tr><td>å†…å­˜å ç”¨ (1å°æ—¶)</td><td>çº¦16GB (åˆ†å—å³°å€¼)</td><td>çº¦8GB (ç»Ÿä¸€å¤„ç†)</td><td>é™ä½50%</td></tr><tr><td>è¯´è¯äººåˆ†ç¦»DER</td><td>6-8%</td><td>4-5%</td><td>ç›¸å¯¹æå‡25%</td></tr><tr><td>çƒ­è¯æ”¯æŒ</td><td>éœ€è¦å¤–éƒ¨è¯­è¨€æ¨¡å‹</td><td>åŸç”Ÿæ”¯æŒ</td><td>é›†æˆåº¦100%</td></tr><tr><td>å»¶è¿Ÿ (é¦–æ¬¡token)</td><td>500-1000ms</td><td>200-400ms</td><td>é™ä½60%</td></tr></tbody></table>
<h4 data-id="heading-24">6.2 é™åˆ¶ä¸æ”¹è¿›æ–¹å‘</h4>
<p><strong>å½“å‰é™åˆ¶ï¼š</strong></p>
<ol>
<li><strong>æ¨¡å‹å°ºå¯¸</strong>ï¼šASR-7Béœ€è¦çº¦14GB GPUå†…å­˜ï¼Œå®æ—¶TTS-0.5Béœ€è¦çº¦1GB</li>
<li><strong>å¤šè¯­è¨€å¹³è¡¡</strong>ï¼š50+è¯­è¨€æ”¯æŒä½†æ€§èƒ½ä¸å‡è¡¡ï¼Œä½èµ„æºè¯­è¨€å‡†ç¡®ç‡è¾ƒä½</li>
<li><strong>å®æ—¶æ€§</strong>ï¼šæµå¼TTSé¦–æ¬¡å»¶è¿Ÿ300msï¼Œå¯¹è¶…ä½å»¶è¿Ÿåœºæ™¯(å¦‚æ¸¸æˆ)ä»éœ€ä¼˜åŒ–</li>
</ol>
<p><strong>æŠ€æœ¯æ¼”è¿›æ–¹å‘ï¼š</strong></p>
<ol>
<li><strong>æ¨¡å‹è’¸é¦</strong>ï¼šå°†7Bæ¨¡å‹çŸ¥è¯†è’¸é¦åˆ°3Bæˆ–1Bï¼Œä¿æŒæ€§èƒ½åŒæ—¶é™ä½éƒ¨ç½²é—¨æ§›</li>
<li><strong>é‡åŒ–æ”¯æŒ</strong>ï¼šé›†æˆGPTQ/AWQé‡åŒ–ï¼Œå°†æ¨ç†å†…å­˜é™ä½50-70%</li>
<li><strong>è‡ªé€‚åº”åˆ†å—</strong>ï¼šæ ¹æ®å†…å®¹å¤æ‚åº¦åŠ¨æ€è°ƒæ•´åˆ†å—å¤§å°ï¼Œä¼˜åŒ–é•¿å°¾åˆ†å¸ƒ</li>
<li><strong>å¤šæ¨¡æ€æ‰©å±•</strong>ï¼šç»“åˆè§†è§‰ä¿¡æ¯æå‡è¯´è¯äººåˆ†ç¦»å‡†ç¡®æ€§</li>
</ol>
<h3 data-id="heading-25">7. å®è·µå»ºè®®ä¸é…ç½®ç¤ºä¾‹</h3>
<h4 data-id="heading-26">7.1 åŸºç¡€ASRä½¿ç”¨é…ç½®</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ç®€åŒ–çš„ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> AutoModelForCausalLM, AutoProcessor
<span class="hljs-keyword">import</span> torchaudio

<span class="hljs-comment"># åŠ è½½æ¨¡å‹å’Œå¤„ç†å™¨</span>
model = AutoModelForCausalLM.from_pretrained(
    <span class="hljs-string">"microsoft/VibeVoice-ASR"</span>,
    torch_dtype=torch.float16,  <span class="hljs-comment"># åŠç²¾åº¦èŠ‚çœå†…å­˜</span>
    device_map=<span class="hljs-string">"auto"</span>           <span class="hljs-comment"># è‡ªåŠ¨åˆ†é…å¤šGPU</span>
)
processor = VibeVoiceStreamingProcessor.from_pretrained(<span class="hljs-string">"microsoft/VibeVoice-ASR"</span>)

<span class="hljs-comment"># å¤„ç†é•¿éŸ³é¢‘</span>
audio, sr = torchaudio.load(<span class="hljs-string">"60min_meeting.wav"</span>)
audio = audio.mean(dim=<span class="hljs-number">0</span>)  <span class="hljs-comment"># è½¬ä¸ºå•å£°é“</span>
audio = torchaudio.functional.resample(audio, sr, <span class="hljs-number">24000</span>)  <span class="hljs-comment"># é‡é‡‡æ ·åˆ°24kHz</span>

<span class="hljs-comment"># ç¼–ç ï¼ˆè‡ªåŠ¨å¯ç”¨æµå¼å¤„ç†ï¼‰</span>
inputs = processor(
    text=<span class="hljs-string">"&lt;|transcribe|&gt;"</span>,  <span class="hljs-comment"># ä»»åŠ¡æç¤º</span>
    speech=audio,
    hotwords=[<span class="hljs-string">"John Doe"</span>, <span class="hljs-string">"Q4 Revenue"</span>],  <span class="hljs-comment"># è‡ªå®šä¹‰çƒ­è¯</span>
    return_tensors=<span class="hljs-string">"pt"</span>
)

<span class="hljs-comment"># ç”Ÿæˆè½¬å½•</span>
<span class="hljs-keyword">with</span> torch.no_grad():
    outputs = model.generate(
        **inputs,
        max_new_tokens=<span class="hljs-number">5000</span>,
        temperature=<span class="hljs-number">0.2</span>,        <span class="hljs-comment"># ä½æ¸©åº¦æé«˜ç¡®å®šæ€§</span>
        repetition_penalty=<span class="hljs-number">1.1</span>  <span class="hljs-comment"># é¿å…é‡å¤</span>
    )

transcription = processor.decode(outputs[<span class="hljs-number">0</span>])
<span class="hljs-comment"># è¾“å‡ºæ ¼å¼: [SPK:John][00:05:23] Let's discuss the Q4 revenue...</span>
</code></pre>
<h4 data-id="heading-27">7.2 ç”Ÿäº§éƒ¨ç½²ä¼˜åŒ–å»ºè®®</h4>
<ol>
<li><strong>vLLMæ¨ç†åŠ é€Ÿ</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¯åŠ¨vLLMæœåŠ¡</span>
python -m vllm.entrypoints.openai.api_server \
    --model microsoft/VibeVoice-ASR \
    --tensor-parallel-size 2 \
    --gpu-memory-utilization 0.9 \
    --max-model-len 64000  <span class="hljs-comment"># æ”¯æŒé•¿ä¸Šä¸‹æ–‡</span>
</code></pre>
<ol start="2">
<li><strong>Tritonæ¨ç†æœåŠ¡å™¨é…ç½®</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># config.pbtxt å…³é”®é…ç½®</span>
parameters {
  key: <span class="hljs-string">"max_tokens"</span>
  value: { string_value: <span class="hljs-string">"64000"</span> }
}
parameters {
  key: <span class="hljs-string">"streaming_chunk_size"</span> 
  value: { string_value: <span class="hljs-string">"60"</span> }  <span class="hljs-comment"># 60ç§’åˆ†å—</span>
}
</code></pre>
<ol start="3">
<li><strong>ç›‘æ§æŒ‡æ ‡</strong>ï¼š</li>
</ol>
<ul>
<li>å®æ—¶å»¶è¿Ÿï¼šP95 &lt; 500ms</li>
<li>å†…å­˜ä½¿ç”¨ï¼šGPUå†…å­˜ &lt; 80%</li>
<li>å‡†ç¡®ç‡ï¼šæ¯å°æ—¶äººå·¥æŠ½æŸ¥100æ¡ï¼ŒWER &lt; 8%</li>
</ul>
<h3 data-id="heading-28">ç»“è®º</h3>
<p>VibeVoiceä»£è¡¨äº†è¯­éŸ³AIä»åˆ†æ²»æµæ°´çº¿å‘ç»Ÿä¸€ç«¯åˆ°ç«¯æ¶æ„çš„é‡è¦æ¼”è¿›ã€‚å…¶æ ¸å¿ƒæŠ€æœ¯ä»·å€¼ä½“ç°åœ¨ï¼š</p>
<ol>
<li><strong>æ¶æ„ç»Ÿä¸€æ€§</strong>ï¼šASRä¸TTSå…±äº«åº•å±‚è®¾è®¡ï¼Œé™ä½å¤šä»»åŠ¡å­¦ä¹ æˆæœ¬</li>
<li><strong>é•¿åº¦çªç ´</strong>ï¼š7.5 Hzè¶…ä½å¸§ç‡tokenizerå®ç°é‡å˜åˆ°è´¨å˜çš„ä¸Šä¸‹æ–‡æ‰©å±•</li>
<li><strong>å®ç”¨å¯¼å‘</strong>ï¼šæµå¼å¤„ç†ã€çƒ­è¯æ”¯æŒã€ç»“æ„åŒ–è¾“å‡ºç›´å‡»å·¥ä¸šç—›ç‚¹</li>
<li><strong>å¼€æºè´¡çŒ®</strong>ï¼šå®Œæ•´çš„æŠ€æœ¯æŠ¥å‘Šã€è®­ç»ƒä»£ç å’Œé¢„è®­ç»ƒæ¨¡å‹æ¨åŠ¨é¢†åŸŸå‘å±•</li>
</ol>
<p>å°½ç®¡åœ¨å•†ä¸šåº”ç”¨å‰ä»éœ€è¿›ä¸€æ­¥æµ‹è¯•å’Œä¼˜åŒ–ï¼Œä½†VibeVoiceä¸ºé•¿ä¸Šä¸‹æ–‡è¯­éŸ³å¤„ç†æä¾›äº†åˆ‡å®å¯è¡Œçš„æŠ€æœ¯è·¯å¾„ã€‚å…¶æ¨¡å—åŒ–è®¾è®¡ã€æ¸…æ™°çš„æ¥å£å®šä¹‰å’Œè¯¦ç»†æ–‡æ¡£ï¼Œä½¿å…¶æˆä¸ºç ”ç©¶è€…å’Œå¼€å‘è€…æ¢ç´¢è¯­éŸ³AIå‰æ²¿æŠ€æœ¯çš„ä¼˜ç§€èµ·ç‚¹ã€‚</p>
<p>é¡¹ç›®åç»­å‘å±•å€¼å¾—å…³æ³¨çš„æ–¹å‘åŒ…æ‹¬ï¼šæ›´å°å°ºå¯¸çš„è’¸é¦æ¨¡å‹ã€é‡åŒ–éƒ¨ç½²æ–¹æ¡ˆã€ä»¥åŠè·¨æ¨¡æ€æ‰©å±•ã€‚éšç€ç¤¾åŒºè´¡çŒ®çš„ç§¯ç´¯ï¼ŒVibeVoiceæœ‰æœ›åœ¨ä¿æŒç ”ç©¶å…ˆè¿›æ€§çš„åŒæ—¶ï¼Œé€æ­¥æ»¡è¶³æ›´å¤šå®é™…åº”ç”¨åœºæ™¯çš„éœ€æ±‚ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[watchEffectçš„ä¸¤ç§é”™è¯¯ç”¨æ³•]]></title>    <link>https://juejin.cn/post/7599963436614844468</link>    <guid>https://juejin.cn/post/7599963436614844468</guid>    <pubDate>2026-01-28T07:03:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599963436614844468" data-draft-id="7600031636248379432" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="watchEffectçš„ä¸¤ç§é”™è¯¯ç”¨æ³•"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-28T07:03:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æµ·å°”æ™ºæ…§å®¶æŠ€æœ¯å¹³å°"/> <meta itemprop="url" content="https://juejin.cn/user/3848721122725016"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            watchEffectçš„ä¸¤ç§é”™è¯¯ç”¨æ³•
            <!----> <!----></h1> <div class="container team-follow" data-v-d326b38e="" data-v-61fb5e44=""><div class="left" data-v-d326b38e=""><a href="/team/7156434854350389283/posts" data-v-d326b38e=""><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a4176c1a2e0b4e1b986f105126840cc9~tplv-k3u1fbpfcp-watermark.image?" class="icon" data-v-d326b38e=""/></a> <div class="content" data-v-d326b38e=""><div style="display: flex" data-v-d326b38e=""><a href="/team/7156434854350389283/posts" data-v-d326b38e=""><p class="title-line" data-v-d326b38e=""><span title="ä¸‰ç¿¼é¸Ÿæ•°å­—åŒ–æŠ€æœ¯å›¢é˜Ÿ" class="title" data-v-d326b38e="">ä¸‰ç¿¼é¸Ÿæ•°å­—åŒ–æŠ€æœ¯å›¢é˜Ÿ</span> <img src="//lf-web-assets.juejin.cn/obj/juejin-web/xitu_juejin_web/255e400027b783cbad76dc41527e7695.svg" alt="team icon" class="team-icon" data-v-d326b38e=""/></p></a></div> <div class="meta-box team" data-v-d326b38e="" data-v-61fb5e44=""><time datetime="2026-01-28T07:03:39.000Z" title="Wed Jan 28 2026 07:03:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-d326b38e="" data-v-61fb5e44="">
                2026-01-28
              </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-d326b38e="" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-d326b38e="" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-d326b38e="" data-v-61fb5e44=""/></svg> <span class="views-count" style="display:none;" data-v-d326b38e="" data-v-61fb5e44="">
                0
              </span> <span class="read-time" data-v-d326b38e="" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-d326b38e="" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-d326b38e="" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-d326b38e="" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-d326b38e="" data-v-61fb5e44=""/></svg>
                é˜…è¯»3åˆ†é’Ÿ
              </span> <!----> <!----></div></div></div> <button class="jj-follow-button follow-btn" style="display:none;" data-v-b60b2868="" data-v-d326b38e=""><span data-v-b60b2868="" data-v-d326b38e=""><i class="byte-icon byte-icon--plus" data-v-d326b38e=""><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 48 48"><path fill="none" d="M0 0h48v48H0z"/><path d="M24.7 4c.4 0 .6 0 .8.1.2.1.3.2.4.4.1.2.1.3.1.8V22h16.7c.4 0 .6 0 .8.1.2.1.3.2.4.4.1.2.1.3.1.8v1.4c0 .4 0 .6-.1.8-.1.2-.2.3-.4.4-.2.1-.3.1-.8.1H26v16.7c0 .4 0 .6-.1.8-.1.2-.2.3-.4.4-.2.1-.3.1-.8.1h-1.4c-.4 0-.6 0-.8-.1-.2-.1-.3-.2-.4-.4-.1-.2-.1-.3-.1-.8V26H5.3c-.4 0-.6 0-.8-.1-.2-.1-.3-.2-.4-.4-.1-.2-.1-.3-.1-.8v-1.4c0-.4 0-.6.1-.8.1-.2.2-.3.4-.4.2-.1.3-.1.8-.1H22V5.3c0-.4 0-.6.1-.8.1-.2.2-.3.4-.4.2-.1.3-.1.8-.1h1.4z"/></svg></i>
        å…³æ³¨
      </span></button></div> <div class="team-user block-hidden" data-v-61fb5e44=""><div class="avatar jj-avatar avatar" data-v-03256cc6="" data-v-61fb5e44=""><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC" alt="avatar" class="lazy avatar-img" data-v-5244ef91="" data-v-03256cc6=""/> </div> <!----> <span class="position ellipsis" data-v-61fb5e44="">
              @æµ·å°”ä¼˜å®¶æ™ºèƒ½ç§‘æŠ€ï¼ˆåŒ—äº¬ï¼‰æœ‰é™å…¬å¸
            </span></div> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘åœ¨çœ‹vue3å®˜æ–¹æ–‡æ¡£<code>watchEffect</code>éƒ¨åˆ†æ—¶ï¼Œå‘ç°äº†ä¸€ä¸ªtipï¼š<code>watchEffect</code> ä»…ä¼šåœ¨å…¶åŒæ­¥æ‰§è¡ŒæœŸé—´ï¼Œæ‰è¿½è¸ªä¾èµ–ã€‚åœ¨ä½¿ç”¨å¼‚æ­¥å›è°ƒæ—¶ï¼Œåªæœ‰åœ¨ç¬¬ä¸€ä¸ª <code>await</code> æ­£å¸¸å·¥ä½œå‰è®¿é—®åˆ°çš„å±æ€§æ‰ä¼šè¢«è¿½è¸ªã€‚å¯¹äºè¿™å¥è¯ä¸æ˜¯å¾ˆç†è§£ï¼Œè‡ªå·±å…ˆç”¨å†™äº†ä¸ªå°ä¾‹å­è¯•äº†ä¸€ä¸‹ï¼Œå‘ç°æœç„¶å¦‚æ­¤ï¼šä¿®æ”¹countçš„å€¼æ—¶ï¼Œè§¦å‘äº†å‰¯ä½œç”¨ï¼Œä½†æ˜¯ä¿®æ”¹msgæ—¶æ²¡æœ‰è§¦å‘å‰¯ä½œç”¨æ‰§è¡Œã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { ref, watchEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">const</span> count = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)
<span class="hljs-keyword">const</span> msg = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'hello'</span>)
<span class="hljs-title function_">watchEffect</span>(<span class="hljs-keyword">async</span> () =&gt; {
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'count:'</span>, count.<span class="hljs-property">value</span>)
<span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">100</span>))
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'msg:'</span>, msg.<span class="hljs-property">value</span>)})
<span class="hljs-comment">// æµ‹è¯•ï¼šä¿®æ”¹ count ä¼šè§¦å‘å‰¯ä½œç”¨ï¼ˆåŒæ­¥é˜¶æ®µä¾èµ–ï¼‰</span>
count.<span class="hljs-property">value</span> = <span class="hljs-number">1</span> <span class="hljs-comment">// è§¦å‘ watchEffectï¼Œæ‰“å° count:1 å’Œ msg:hello</span>

<span class="hljs-comment">// æµ‹è¯•ï¼šä¿®æ”¹ msg ä¸ä¼šè§¦å‘å‰¯ä½œç”¨ï¼ˆå¼‚æ­¥é˜¶æ®µæœªè¢«è¿½è¸ªï¼‰</span>
msg.<span class="hljs-property">value</span> = <span class="hljs-string">'world'</span> <span class="hljs-comment">// æ— ååº”</span>
</code></pre>
<p>å¸¦ç€ç–‘é—®ï¼Œå¼€å§‹å¯»æ‰¾ç­”æ¡ˆï¼</p>
<p>é¦–å…ˆè¦çŸ¥é“<code>watchEffect</code>æ”¶é›†ä¾èµ–çš„åŸç†ï¼š<code>watchEffect</code>çš„å‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•° fnï¼Œ<code>watchEffect</code>ä¼šæŠŠå‡½æ•°æ‰§è¡Œä¸€æ¬¡ï¼Œå¹¶åˆ›å»ºå“åº”å¼ Effectï¼Œæ”¶é›†ä¾èµ–ã€‚ç®€åŒ–ä¸ºä¸‹é¢çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">let</span> activeEffect = <span class="hljs-function"><span class="hljs-literal">null</span>
function <span class="hljs-title">watchEffect</span>(<span class="hljs-params">fn</span>)</span> {
    activeEffect = <span class="hljs-function">fn
    <span class="hljs-title">fn</span>()
    activeEffect</span> = <span class="hljs-literal">null</span>
}
</code></pre>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨fnæ‰§è¡ŒæœŸé—´ï¼Œ<code>activeEffect</code>çš„å€¼æ˜¯ fnï¼Œfn æ‰§è¡Œå®Œæ¯•åï¼Œ<code>activeEffect</code>çš„å€¼æ˜¯nullã€‚<code>activeEffect</code>æ˜¯ Vue3 å“åº”å¼è®¾è®¡çš„å…³é”®ï¼Œvue3åœ¨å¯¹è±¡ get æ‰§è¡Œæ—¶ï¼Œæ”¶é›†ä¾èµ–ï¼Œåœ¨ set æ‰§è¡Œæ—¶æ‰§è¡Œä¾èµ–ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">const</span> effects = []
<span class="hljs-keyword">const</span> count = {
    _value: <span class="hljs-number">1</span>,
    <span class="hljs-keyword">get</span> value() {
        <span class="hljs-keyword">if</span>(activeEffect) {
          effects.push(activeEffect)
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._value
    }
    <span class="hljs-keyword">set</span> value(<span class="hljs-keyword">val</span>) {
        <span class="hljs-keyword">this</span>._value = <span class="hljs-keyword">val</span>
        effects.map((cb) =&gt; cb())
    }
}
</code></pre>
<ol>
<li>fn å‡½æ•°åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰è®¿é—®çš„å“åº”å¼æ•°æ®ä¼šè§¦å‘ get æ‹¦æˆªå™¨ï¼Œget å‡½æ•°é‡Œä¼šå¯¹<code>activeEffect</code>æ˜¯å¦æœ‰å€¼åšåˆ¤æ–­ï¼Œæ­¤æ—¶ï¼Œ<code>activeEffect</code>çš„å€¼æ­£æ˜¯ fnï¼Œäºæ˜¯å°±æŠŠ fn æ”¾å…¥ä¾èµ–é˜Ÿåˆ—é‡Œï¼Œ<code>watchEffect</code>çš„ä¾èµ–æ”¶é›†å®Œæˆã€‚</li>
<li>ä½†æ˜¯å½“é‡åˆ° <code>await</code> æ—¶ï¼Œå‡½æ•°ä¼š æš‚åœæ‰§è¡Œï¼Œå¹¶å°†åç»­ä»£ç æ”¾å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚æ­¤æ—¶ï¼Œå½“å‰ fn çš„åŒæ­¥æ‰§è¡Œå·²ç»“æŸï¼Œ<code>activeEffect</code> ä¼šè¢«é‡ç½®ã€‚</li>
<li>å½“ <code>await</code> åçš„ä»£ç æ¢å¤æ‰§è¡Œæ—¶ï¼Œ<code>activeEffect</code> å·²ä¸å†æŒ‡å‘å½“å‰ <code>watchEffect</code> çš„ fnäº†ï¼Œè¿™ä¹Ÿå°±è§£é‡Šäº†<code>watchEffect</code> ä»…ä¼šåœ¨å…¶åŒæ­¥æ‰§è¡ŒæœŸé—´ï¼Œæ‰è¿½è¸ªä¾èµ–ã€‚</li>
</ol>
<p>äº†è§£åŸç†ä»¥åï¼Œè¿™æ˜¯ç”± JavaScript å¼‚æ­¥æœºåˆ¶å’Œ Vue3 å“åº”å¼çš„ <code>activeEffect</code> è®¾è®¡å†³å®šçš„ã€‚</p>
<p>ç„¶è€Œè¿˜æœ‰ä¸€ç§æƒ…å†µä¹Ÿä¼šå‡ºç°<code>watchEffect</code>ä¸æ‰§è¡Œå‰¯ä½œç”¨çš„æƒ…å†µï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { ref, watchEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">const</span> count = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)
<span class="hljs-keyword">let</span> flag = <span class="hljs-literal">false</span>
<span class="hljs-title function_">watchEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span>(flag) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'countçš„å€¼æ”¹å˜äº†'</span>ï¼Œ count.<span class="hljs-property">value</span>)
    }
})

<span class="hljs-title function_">setTimeOut</span>(<span class="hljs-function">() =&gt;</span> {
   flag = <span class="hljs-literal">true</span>
}, <span class="hljs-number">1000</span>)


<span class="hljs-title function_">setTimeOut</span>(<span class="hljs-function">() =&gt;</span> {
   count.<span class="hljs-property">vaue</span>++
}, <span class="hljs-number">2000</span>)
</code></pre>
<p>2ç§’åï¼Œæ§åˆ¶å°å¹¶æ²¡æœ‰æ‰“å°ä¿¡æ¯ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p><code>watchEffect</code>åœ¨æ‰§è¡Œæ—¶ï¼Œflag æ˜¯ falseï¼Œå› æ­¤å¹¶æ²¡æœ‰æ‰§è¡Œ console.log('countçš„å€¼æ”¹å˜äº†'ï¼Œ count.value) è¿™å¥ä»£ç ï¼Œæ²¡æœ‰è®¿é—®å“åº”å¼æ•°æ®countï¼Œcountçš„ get æ‹¦æˆªå™¨ä¹Ÿä¸ä¼šè§¦å‘ï¼Œæ‰€ä»¥å¹¶æ²¡æœ‰æ”¶é›†ä¾èµ–ã€‚å³ä½¿åé¢ä¿®æ”¹countçš„å€¼ï¼Œä¹Ÿä¸ä¼šè§¦å‘å‰¯ä½œç”¨å‡½æ•°æ‰§è¡Œã€‚</p>
<p>å¦‚æœåœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå‘ç°<code>watchEffect</code>çš„å‰¯ä½œç”¨å‡½æ•°æ²¡æœ‰æ‰§è¡Œæ—¶ï¼Œå°±è¦æ£€æŸ¥ä¸€ä¸‹æ˜¯ä¸æ˜¯ä¸Šè¿°ä¸¤ç§æƒ…å†µäº†ï¼</p>
<p><strong>å›¢é˜Ÿä»‹ç»</strong></p>
<p>ã€Œ<strong>æ™ºæ…§å®¶æŠ€æœ¯å¹³å°-åº”ç”¨è½¯ä»¶æ¡†æ¶å¼€å‘</strong>ã€ä¸»è¦è´Ÿè´£è®¾è®¡å·¥å…·çš„ç ”å‘ï¼ŒåŒ…æ‹¬è¥é”€è®¾è®¡å·¥å…·ã€å®¶ç”µVRè®¾è®¡å’Œå±•ç¤ºã€æ°´ç”µæš–é€šå‰ç½®è®¾è®¡èƒ½åŠ›ï¼Œç ”å‘å¹¶æ²‰æ·€ç´ æåº“ï¼Œæ„å»ºå®¶å±…å®¶è£…ç´ æåº“ï¼Œé›†æˆæˆ·å‹åº“ã€å…¨å“ç±»äº§å“åº“ã€è®¾è®¡æ–¹æ¡ˆåº“ã€ç”Ÿäº§å·¥è‰ºæ¨¡å‹ï¼Œæ‰“é€ åŸºäºæˆ·å‹å’Œé£æ ¼çš„AIè®¾è®¡èƒ½åŠ›ï¼Œå¿«é€Ÿç”Ÿæˆç®—é‡å’ŒæŠ¥ä»·ï¼›åŒæ—¶ç ”å‘äº†é—¨åº—è®¾è®¡å¸ˆä¸­å¿ƒå’Œé¡¹ç›®ä¸­å¿ƒï¼ŒåŒ…æ‹¬è®¾è®¡å¸ˆç®¡ç†èƒ½åŠ›å’Œé¡¹ç›®ç»ç†ç®¡ç†èƒ½åŠ›ã€‚å®ç°äº†åœºæ™¯å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼ŒåŒæ—¶ä¸ºæ°´ï¼Œç©ºæ°”ï¼Œå¨æˆ¿ç­‰äº§ä¸šæä¾›å•†æœºç®¡ç†å·¥å…·ï¼Œä»è€Œå®ç°äº†ä»¥åœºæ™¯è´¯ç©¿çš„Bç«¯Cç«¯å…¨æµç¨‹ç³»ç»Ÿã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Three.js åæœŸå¤„ç†æ•ˆæœåˆæˆè¯¦è§£]]></title>    <link>https://juejin.cn/post/7599963665040130098</link>    <guid>https://juejin.cn/post/7599963665040130098</guid>    <pubDate>2026-01-28T04:12:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599963665040130098" data-draft-id="7599981538297626674" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Three.js åæœŸå¤„ç†æ•ˆæœåˆæˆè¯¦è§£"/> <meta itemprop="keywords" content="å‰ç«¯,three.js"/> <meta itemprop="datePublished" content="2026-01-28T04:12:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ç‹æ ¡é•¿"/> <meta itemprop="url" content="https://juejin.cn/user/2295436010076631"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Three.js åæœŸå¤„ç†æ•ˆæœåˆæˆè¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2295436010076631/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ç‹æ ¡é•¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T04:12:06.000Z" title="Wed Jan 28 2026 04:12:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ¦‚è¿°</h2>
<p>æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•ä½¿ç”¨ Three.js çš„åæœŸå¤„ç†ç³»ç»Ÿæ¥åˆ›å»ºå„ç§è§†è§‰æ•ˆæœã€‚åæœŸå¤„ç†æ˜¯åœ¨åœºæ™¯æ¸²æŸ“å®Œæˆåï¼Œå¯¹æœ€ç»ˆå›¾åƒè¿›è¡Œé¢å¤–å¤„ç†çš„æŠ€æœ¯ï¼Œå¯ä»¥ç”¨æ¥å®ç°å‘å…‰ã€æ¨¡ç³Šã€æ•…éšœæ•ˆæœç­‰å¤šç§è§†è§‰å¢å¼ºæ•ˆæœã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/079641c4deeb44d598324f4a5c30e6d7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv546L5qCh6ZW_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770178329&amp;x-signature=1CK8m0pHllQ9%2BfVoZ2KZPsTmlPs%3D" alt="screenshot_2026-01-28_12-08-21.gif" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d3dcabc8c40c44549be45039bd281480~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv546L5qCh6ZW_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770178329&amp;x-signature=zZaFqeOa23MCYB1ho0HGjLpimK4%3D" alt="screenshot_2026-01-28_12-09-32.gif" loading="lazy"/></p>
<h2 data-id="heading-1">å‡†å¤‡å·¥ä½œ</h2>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥å¿…è¦çš„ Three.js åº“å’ŒåæœŸå¤„ç†æ¨¡å—ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-variable constant_">THREE</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"three"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">OrbitControls</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"three/examples/jsm/controls/OrbitControls"</span>;
<span class="hljs-keyword">import</span> gsap <span class="hljs-keyword">from</span> <span class="hljs-string">"gsap"</span>;
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> dat <span class="hljs-keyword">from</span> <span class="hljs-string">"dat.gui"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">RGBELoader</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"three/examples/jsm/loaders/RGBELoader.js"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">GLTFLoader</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"three/examples/jsm/loaders/GLTFLoader"</span>;

<span class="hljs-comment">// å¯¼å…¥åæœŸæ•ˆæœåˆæˆå™¨</span>
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">EffectComposer</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'three/examples/jsm/postprocessing/EffectComposer'</span>;

<span class="hljs-comment">// threeæ¡†æ¶æœ¬èº«è‡ªå¸¦æ•ˆæœ</span>
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">RenderPass</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'three/examples/jsm/postprocessing/RenderPass'</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">DotScreenPass</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'three/examples/jsm/postprocessing/DotScreenPass'</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">SMAAPass</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'three/examples/jsm/postprocessing/SMAAPass'</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">SSAARenderPass</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'three/examples/jsm/postprocessing/SSAARenderPass'</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">GlitchPass</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'three/examples/jsm/postprocessing/GlitchPass'</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">UnrealBloomPass</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'three/examples/jsm/postprocessing/UnrealBloomPass'</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">ShaderPass</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'three/examples/jsm/postprocessing/ShaderPass'</span>;
</code></pre>
<h2 data-id="heading-2">åœºæ™¯åˆå§‹åŒ–</h2>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„ Three.js åœºæ™¯ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åˆå§‹åŒ–åœºæ™¯</span>
<span class="hljs-keyword">const</span> scene = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Scene</span>();

<span class="hljs-comment">// åˆ›å»ºé€è§†ç›¸æœº</span>
<span class="hljs-keyword">const</span> camera = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">PerspectiveCamera</span>(
  <span class="hljs-number">75</span>,
  <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span> / <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>,
  <span class="hljs-number">1</span>,
  <span class="hljs-number">50</span>
);

<span class="hljs-comment">// è®¾ç½®ç›¸æœºä½ç½®</span>
camera.<span class="hljs-property">position</span>.<span class="hljs-title function_">set</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>);
camera.<span class="hljs-property">aspect</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span> / <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>;
camera.<span class="hljs-title function_">updateProjectionMatrix</span>();
scene.<span class="hljs-title function_">add</span>(camera);

<span class="hljs-comment">// åŠ å…¥è¾…åŠ©è½´ï¼Œå¸®åŠ©æˆ‘ä»¬æŸ¥çœ‹3ç»´åæ ‡è½´</span>
<span class="hljs-comment">// const axesHelper = new THREE.AxesHelper(5);</span>
<span class="hljs-comment">// scene.add(axesHelper);</span>
</code></pre>
<h2 data-id="heading-3">ç¯å¢ƒè®¾ç½®</h2>
<p>è®¾ç½®ç¯å¢ƒçº¹ç†å’Œå…‰ç…§ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åŠ è½½çº¹ç†</span>
<span class="hljs-keyword">const</span> textureLoader = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">TextureLoader</span>();

<span class="hljs-comment">// æ·»åŠ ç¯å¢ƒçº¹ç†</span>
<span class="hljs-keyword">const</span> cubeTextureLoader = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">CubeTextureLoader</span>();
<span class="hljs-keyword">const</span> envMapTexture = cubeTextureLoader.<span class="hljs-title function_">load</span>([
  <span class="hljs-string">"textures/environmentMaps/0/px.jpg"</span>,
  <span class="hljs-string">"textures/environmentMaps/0/nx.jpg"</span>,
  <span class="hljs-string">"textures/environmentMaps/0/py.jpg"</span>,
  <span class="hljs-string">"textures/environmentMaps/0/ny.jpg"</span>,
  <span class="hljs-string">"textures/environmentMaps/0/pz.jpg"</span>,
  <span class="hljs-string">"textures/environmentMaps/0/nz.jpg"</span>,
]);
scene.<span class="hljs-property">background</span> = envMapTexture;
scene.<span class="hljs-property">environment</span> = envMapTexture;

<span class="hljs-comment">// æ·»åŠ æ–¹å‘å…‰</span>
<span class="hljs-keyword">const</span> directionLight = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">DirectionalLight</span>(<span class="hljs-string">'#ffffff'</span>, <span class="hljs-number">1</span>);
directionLight.<span class="hljs-property">castShadow</span> = <span class="hljs-literal">true</span>;
directionLight.<span class="hljs-property">position</span>.<span class="hljs-title function_">set</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">200</span>);
scene.<span class="hljs-title function_">add</span>(directionLight);
</code></pre>
<h2 data-id="heading-4">æ¨¡å‹åŠ è½½</h2>
<p>åŠ è½½ 3D æ¨¡å‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ¨¡å‹åŠ è½½</span>
<span class="hljs-keyword">const</span> gltfLoader = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GLTFLoader</span>();
gltfLoader.<span class="hljs-title function_">load</span>(<span class="hljs-string">'./models/DamagedHelmet/glTF/DamagedHelmet.gltf'</span>, <span class="hljs-function">(<span class="hljs-params">gltf</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(gltf);
  <span class="hljs-keyword">const</span> mesh = gltf.<span class="hljs-property">scene</span>.<span class="hljs-property">children</span>[<span class="hljs-number">0</span>];
  scene.<span class="hljs-title function_">add</span>(mesh);
});
</code></pre>
<h2 data-id="heading-5">åæœŸå¤„ç†åˆæˆå™¨è®¾ç½®</h2>
<p>è¿™æ˜¯åæœŸå¤„ç†çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œåˆ›å»ºæ•ˆæœåˆæˆå™¨å¹¶æ·»åŠ å„ç§é€šé“ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åˆå§‹åŒ–æ¸²æŸ“å™¨</span>
<span class="hljs-keyword">const</span> renderer = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">WebGLRenderer</span>();
renderer.<span class="hljs-title function_">setSize</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>);
renderer.<span class="hljs-property">shadowMap</span>.<span class="hljs-property">enabled</span> = <span class="hljs-literal">true</span>;

<span class="hljs-comment">// åˆæˆæ•ˆæœ</span>
<span class="hljs-keyword">const</span> effectComposer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">EffectComposer</span>(renderer);
effectComposer.<span class="hljs-title function_">setSize</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>);

<span class="hljs-comment">// æ·»åŠ æ¸²æŸ“é€šé“</span>
<span class="hljs-keyword">const</span> renderPass = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RenderPass</span>(scene, camera);
effectComposer.<span class="hljs-title function_">addPass</span>(renderPass);

<span class="hljs-comment">// ç‚¹æ•ˆæœ</span>
<span class="hljs-keyword">const</span> dotScreenPass = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DotScreenPass</span>();
dotScreenPass.<span class="hljs-property">enabled</span> = <span class="hljs-literal">false</span>;
effectComposer.<span class="hljs-title function_">addPass</span>(dotScreenPass);

<span class="hljs-comment">// æŠ—é”¯é½¿</span>
<span class="hljs-keyword">const</span> smaaPass = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SMAAPass</span>();
effectComposer.<span class="hljs-title function_">addPass</span>(smaaPass);

<span class="hljs-comment">// å‘å…‰æ•ˆæœ</span>
<span class="hljs-keyword">const</span> unrealBloomPass = <span class="hljs-keyword">new</span> <span class="hljs-title class_">UnrealBloomPass</span>();
effectComposer.<span class="hljs-title function_">addPass</span>(unrealBloomPass);

<span class="hljs-comment">// å±å¹•é—ªåŠ¨</span>
<span class="hljs-comment">// const glitchPass = new GlitchPass();</span>
<span class="hljs-comment">// effectComposer.addPass(glitchPass)</span>
</code></pre>
<h2 data-id="heading-6">å‘å…‰æ•ˆæœå‚æ•°è°ƒèŠ‚</h2>
<p>è®¾ç½®å‘å…‰æ•ˆæœçš„å‚æ•°å¹¶æ·»åŠ  GUI æ§åˆ¶ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">renderer.<span class="hljs-property">toneMapping</span> = <span class="hljs-variable constant_">THREE</span>.<span class="hljs-property">ACESFilmicToneMapping</span>;
renderer.<span class="hljs-property">toneMappingExposure</span> = <span class="hljs-number">1</span>;
unrealBloomPass.<span class="hljs-property">strength</span> = <span class="hljs-number">1</span>;
unrealBloomPass.<span class="hljs-property">radius</span> = <span class="hljs-number">0</span>;
unrealBloomPass.<span class="hljs-property">threshold</span> = <span class="hljs-number">1</span>;

<span class="hljs-comment">// æ·»åŠ GUIæ§åˆ¶</span>
gui.<span class="hljs-title function_">add</span>(renderer,<span class="hljs-string">'toneMappingExposure'</span>).<span class="hljs-title function_">min</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">max</span>(<span class="hljs-number">2</span>).<span class="hljs-title function_">step</span>(<span class="hljs-number">0.01</span>);
gui.<span class="hljs-title function_">add</span>(unrealBloomPass,<span class="hljs-string">'strength'</span>).<span class="hljs-title function_">min</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">max</span>(<span class="hljs-number">2</span>).<span class="hljs-title function_">step</span>(<span class="hljs-number">0.01</span>);
gui.<span class="hljs-title function_">add</span>(unrealBloomPass,<span class="hljs-string">'radius'</span>).<span class="hljs-title function_">min</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">max</span>(<span class="hljs-number">2</span>).<span class="hljs-title function_">step</span>(<span class="hljs-number">0.01</span>);
gui.<span class="hljs-title function_">add</span>(unrealBloomPass,<span class="hljs-string">'threshold'</span>).<span class="hljs-title function_">min</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">max</span>(<span class="hljs-number">2</span>).<span class="hljs-title function_">step</span>(<span class="hljs-number">0.01</span>);
</code></pre>
<h2 data-id="heading-7">è‡ªå®šä¹‰ç€è‰²å™¨åæœŸå¤„ç†</h2>
<p>åˆ›å»ºè‡ªå®šä¹‰ç€è‰²å™¨æ•ˆæœï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç€è‰²å™¨å†™æ¸²æŸ“é€šé“</span>
<span class="hljs-keyword">const</span> shaderPass = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ShaderPass</span>(
  {
    <span class="hljs-attr">uniforms</span>:{
      <span class="hljs-attr">tDiffuse</span>:{
        <span class="hljs-attr">value</span>:<span class="hljs-literal">null</span>
      },
      <span class="hljs-attr">uColor</span>:{
        <span class="hljs-attr">value</span>:<span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Color</span>(colorParams.<span class="hljs-property">r</span>,colorParams.<span class="hljs-property">g</span>,colorParams.<span class="hljs-property">b</span>)
      }
    },
    <span class="hljs-attr">vertexShader</span>:<span class="hljs-string">`
      varying vec2 vUv;
      void main(){
        vUv = uv;
        gl_Position = projectionMatrix*modelViewMatrix*vec4(position,1.0);
      }
    `</span>,
    <span class="hljs-attr">fragmentShader</span>:<span class="hljs-string">`
      varying vec2 vUv;
      uniform sampler2D tDiffuse;
      uniform vec3 uColor;
      void main(){
        vec4 color = texture2D(tDiffuse,vUv);
        // gl_FragColor = vec4(vUv,0.0,1.0);
        color.xyz+=uColor;
        gl_FragColor = color;
      }
    `</span>
  }
);

effectComposer.<span class="hljs-title function_">addPass</span>(shaderPass);

<span class="hljs-comment">// é¢œè‰²å‚æ•°æ§åˆ¶</span>
<span class="hljs-keyword">const</span> colorParams = {
  <span class="hljs-attr">r</span>:<span class="hljs-number">0</span>,
  <span class="hljs-attr">g</span>:<span class="hljs-number">0</span>,
  <span class="hljs-attr">b</span>:<span class="hljs-number">0</span>
}

gui.<span class="hljs-title function_">add</span>(colorParams,<span class="hljs-string">'r'</span>).<span class="hljs-title function_">min</span>(-<span class="hljs-number">1</span>).<span class="hljs-title function_">max</span>(<span class="hljs-number">1</span>).<span class="hljs-title function_">step</span>(<span class="hljs-number">0.01</span>).<span class="hljs-title function_">onChange</span>(<span class="hljs-function">(<span class="hljs-params">value</span>)=&gt;</span>{
  shaderPass.<span class="hljs-property">uniforms</span>.<span class="hljs-property">uColor</span>.<span class="hljs-property">value</span>.<span class="hljs-property">r</span> = value;
});
gui.<span class="hljs-title function_">add</span>(colorParams,<span class="hljs-string">'g'</span>).<span class="hljs-title function_">min</span>(-<span class="hljs-number">1</span>).<span class="hljs-title function_">max</span>(<span class="hljs-number">1</span>).<span class="hljs-title function_">step</span>(<span class="hljs-number">0.01</span>).<span class="hljs-title function_">onChange</span>(<span class="hljs-function">(<span class="hljs-params">value</span>)=&gt;</span>{
  shaderPass.<span class="hljs-property">uniforms</span>.<span class="hljs-property">uColor</span>.<span class="hljs-property">value</span>.<span class="hljs-property">g</span> = value;
});
gui.<span class="hljs-title function_">add</span>(colorParams,<span class="hljs-string">'b'</span>).<span class="hljs-title function_">min</span>(-<span class="hljs-number">1</span>).<span class="hljs-title function_">max</span>(<span class="hljs-number">1</span>).<span class="hljs-title function_">step</span>(<span class="hljs-number">0.01</span>).<span class="hljs-title function_">onChange</span>(<span class="hljs-function">(<span class="hljs-params">value</span>)=&gt;</span>{
  shaderPass.<span class="hljs-property">uniforms</span>.<span class="hljs-property">uColor</span>.<span class="hljs-property">value</span>.<span class="hljs-property">b</span> = value;
});
</code></pre>
<h2 data-id="heading-8">æŠ€æœ¯æ•ˆæœç€è‰²å™¨</h2>
<p>æ·»åŠ æŠ€æœ¯æ„Ÿçš„åæœŸå¤„ç†æ•ˆæœï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> normalTexture = textureLoader.<span class="hljs-title function_">load</span>(<span class="hljs-string">'./textures/interfaceNormalMap.png'</span>);

<span class="hljs-keyword">const</span> techPass = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ShaderPass</span>({
  <span class="hljs-attr">uniforms</span>:{
    <span class="hljs-attr">tDiffuse</span>:{
      <span class="hljs-attr">value</span>:<span class="hljs-literal">null</span>
    },
    <span class="hljs-attr">uNormalMap</span>:{
      <span class="hljs-attr">value</span>:<span class="hljs-literal">null</span>
    },
    <span class="hljs-attr">uTime</span>:{
      <span class="hljs-attr">value</span>:<span class="hljs-number">0</span>
    }
  },
  <span class="hljs-attr">vertexShader</span>:<span class="hljs-string">`
    varying vec2 vUv;
    void main(){
      vUv = uv;
      gl_Position = projectionMatrix*modelViewMatrix*vec4(position,1.0);
    }
  `</span>,
  <span class="hljs-attr">fragmentShader</span>:<span class="hljs-string">`
    varying vec2 vUv;
    uniform sampler2D tDiffuse;
    uniform sampler2D uNormalMap;
    uniform float uTime;
    void main(){

      vec2 newUv = vUv;
      newUv += sin(newUv.x*10.0+uTime*0.5)*0.03;

      vec4 color = texture2D(tDiffuse,newUv);
      // gl_FragColor = vec4(vUv,0.0,1.0);
      vec4 normalColor = texture2D(uNormalMap,vUv);
      // è®¾ç½®å…‰çº¿çš„è§’åº¦
      vec3 lightDirection = normalize(vec3(-5,5,2)) ;

      float lightness = clamp(dot(normalColor.xyz,lightDirection),0.0,1.0) ;
      color.xyz+=lightness;
      gl_FragColor = color;
    }
  `</span>
})
techPass.<span class="hljs-property">material</span>.<span class="hljs-property">uniforms</span>.<span class="hljs-property">uNormalMap</span>.<span class="hljs-property">value</span> = normalTexture;
effectComposer.<span class="hljs-title function_">addPass</span>(techPass);
</code></pre>
<h2 data-id="heading-9">æ¸²æŸ“å¾ªç¯</h2>
<p>è®¾ç½®æ¸²æŸ“å¾ªç¯å¹¶åº”ç”¨åæœŸå¤„ç†ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> clock = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Clock</span>();

<span class="hljs-keyword">function</span> <span class="hljs-title function_">animate</span>(<span class="hljs-params">t</span>) {
  controls.<span class="hljs-title function_">update</span>();
  <span class="hljs-keyword">const</span> time = clock.<span class="hljs-title function_">getElapsedTime</span>();
  <span class="hljs-title function_">requestAnimationFrame</span>(animate);
  <span class="hljs-comment">// ä½¿ç”¨æ¸²æŸ“å™¨æ¸²æŸ“ç›¸æœºçœ‹è¿™ä¸ªåœºæ™¯çš„å†…å®¹æ¸²æŸ“å‡ºæ¥</span>
  <span class="hljs-comment">// renderer.render(scene, camera);</span>
  techPass.<span class="hljs-property">material</span>.<span class="hljs-property">uniforms</span>.<span class="hljs-property">uTime</span>.<span class="hljs-property">value</span> = time;
  effectComposer.<span class="hljs-title function_">render</span>();
}

<span class="hljs-title function_">animate</span>();
</code></pre>
<h2 data-id="heading-10">çª—å£å¤§å°è°ƒæ•´</h2>
<p>å¤„ç†çª—å£å¤§å°å˜åŒ–ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç›‘å¬å±å¹•å¤§å°æ”¹å˜çš„å˜åŒ–ï¼Œè®¾ç½®æ¸²æŸ“çš„å°ºå¯¸</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"resize"</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-comment">// æ›´æ–°æ‘„åƒå¤´</span>
  camera.<span class="hljs-property">aspect</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span> / <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>;
  <span class="hljs-comment">// æ›´æ–°æ‘„åƒæœºçš„æŠ•å½±çŸ©é˜µ</span>
  camera.<span class="hljs-title function_">updateProjectionMatrix</span>();

  <span class="hljs-comment">// æ›´æ–°æ¸²æŸ“å™¨</span>
  renderer.<span class="hljs-title function_">setSize</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>);
  <span class="hljs-comment">// è®¾ç½®æ¸²æŸ“å™¨çš„åƒç´ æ¯”ä¾‹</span>
  renderer.<span class="hljs-title function_">setPixelRatio</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">devicePixelRatio</span>);

  effectComposer.<span class="hljs-title function_">setSize</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>);
  effectComposer.<span class="hljs-title function_">setPixelRatio</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">devicePixelRatio</span>);
});
</code></pre>
<h2 data-id="heading-11">å„ç§åæœŸå¤„ç†æ•ˆæœä»‹ç»</h2>
<ol>
<li><strong>RenderPass</strong>: åŸºç¡€æ¸²æŸ“é€šé“ï¼Œè´Ÿè´£æ¸²æŸ“åŸå§‹åœºæ™¯</li>
<li><strong>DotScreenPass</strong>: ç‚¹é˜µå±å¹•æ•ˆæœï¼Œäº§ç”Ÿç±»ä¼¼æ‰«æçº¿çš„è§†è§‰æ•ˆæœ</li>
<li><strong>SMAAPass</strong>: æ™ºèƒ½æŠ—é”¯é½¿å¤„ç†ï¼Œæé«˜ç”»é¢è´¨é‡</li>
<li><strong>UnrealBloomPass</strong>: è™šå¹»å¼•æ“é£æ ¼çš„å‘å…‰æ•ˆæœï¼Œä½¿æ˜äº®åŒºåŸŸäº§ç”Ÿå…‰æ™•</li>
<li><strong>GlitchPass</strong>: æ•…éšœæ•ˆæœï¼Œæ¨¡æ‹Ÿä¿¡å·å¹²æ‰°çš„è§†è§‰æ•ˆæœ</li>
<li><strong>ShaderPass</strong>: è‡ªå®šä¹‰ç€è‰²å™¨æ•ˆæœï¼Œå¯å®ç°ä»»æ„çš„åæœŸå¤„ç†æ•ˆæœ</li>
</ol>
<h2 data-id="heading-12">æ€»ç»“</h2>
<p>é€šè¿‡è¿™ä¸ªé¡¹ç›®ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•ä½¿ç”¨ Three.js çš„åæœŸå¤„ç†ç³»ç»Ÿï¼š</p>
<ol>
<li>åˆ›å»º EffectComposer ä½œä¸ºåæœŸå¤„ç†çš„æ ¸å¿ƒ</li>
<li>æ·»åŠ ä¸åŒç±»å‹çš„ Pass æ¥å®ç°å„ç§æ•ˆæœ</li>
<li>é€šè¿‡å‚æ•°è°ƒèŠ‚æ§åˆ¶æ•ˆæœå¼ºåº¦</li>
<li>å®ç°è‡ªå®šä¹‰ç€è‰²å™¨åæœŸå¤„ç†</li>
<li>åœ¨æ¸²æŸ“å¾ªç¯ä¸­ä½¿ç”¨ composer.render() æ›¿ä»£ä¼ ç»Ÿçš„ renderer.render()</li>
</ol>
<p>åæœŸå¤„ç†æŠ€æœ¯æ˜¯æå‡ä¸‰ç»´åœºæ™¯è§†è§‰æ•ˆæœçš„é‡è¦æ‰‹æ®µï¼Œèƒ½å¤Ÿæ˜¾è‘—å¢å¼ºç”»é¢çš„è¡¨ç°åŠ›å’Œæ²‰æµ¸æ„Ÿã€‚æŒæ¡è¿™äº›æŠ€æœ¯å¯ä»¥è®©ä½ çš„ Three.js åº”ç”¨æ›´å…·è§†è§‰å†²å‡»åŠ›ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Three.js CSS2Dæ¸²æŸ“å™¨å®ç°3Dæ ‡ç­¾æ•ˆæœ]]></title>    <link>https://juejin.cn/post/7599965904617832494</link>    <guid>https://juejin.cn/post/7599965904617832494</guid>    <pubDate>2026-01-28T04:20:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599965904617832494" data-draft-id="7599951933594533898" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Three.js CSS2Dæ¸²æŸ“å™¨å®ç°3Dæ ‡ç­¾æ•ˆæœ"/> <meta itemprop="keywords" content="å‰ç«¯,three.js"/> <meta itemprop="datePublished" content="2026-01-28T04:20:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ç‹æ ¡é•¿"/> <meta itemprop="url" content="https://juejin.cn/user/2295436010076631"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Three.js CSS2Dæ¸²æŸ“å™¨å®ç°3Dæ ‡ç­¾æ•ˆæœ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2295436010076631/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ç‹æ ¡é•¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T04:20:03.000Z" title="Wed Jan 28 2026 04:20:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ¦‚è¿°</h2>
<p>æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•ä½¿ç”¨ Three.js çš„ CSS2DRenderer æ¥åœ¨ 3D åœºæ™¯ä¸­æ·»åŠ  HTML æ ‡ç­¾ã€‚CSS2DRenderer æ˜¯ Three.js æä¾›çš„ä¸€ç§ç‰¹æ®Šçš„æ¸²æŸ“å™¨ï¼Œå®ƒå…è®¸æˆ‘ä»¬åœ¨ 3D å¯¹è±¡ä¸Šå åŠ  HTML å…ƒç´ ï¼Œéå¸¸é€‚åˆåˆ›å»ºæ ‡ç­¾ã€æ ‡æ³¨å’Œä¿¡æ¯å±•ç¤ºç­‰æ•ˆæœã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3380622e406840f0a76ea1ec92bab484~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv546L5qCh6ZW_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770178803&amp;x-signature=IqOFPPre3t1yV8jHYXiekg0Xs8A%3D" alt="screenshot_2026-01-28_12-18-09.gif" loading="lazy"/></p>
<h2 data-id="heading-1">å‡†å¤‡å·¥ä½œ</h2>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥å¿…è¦çš„ Three.js åº“å’Œ CSS2D æ¸²æŸ“å™¨æ¨¡å—ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-variable constant_">THREE</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"three"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">OrbitControls</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"three/examples/jsm/controls/OrbitControls"</span>;
<span class="hljs-keyword">import</span> {
  <span class="hljs-title class_">CSS2DRenderer</span>,
  <span class="hljs-title class_">CSS2DObject</span>,
} <span class="hljs-keyword">from</span> <span class="hljs-string">"three/examples/jsm/renderers/CSS2DRenderer.js"</span>;
</code></pre>
<h2 data-id="heading-2">åœºæ™¯åˆå§‹åŒ–</h2>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„ Three.js åœºæ™¯ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">let</span> camera, scene, renderer, labelRenderer;

<span class="hljs-keyword">const</span> clock = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Clock</span>();
<span class="hljs-keyword">const</span> textureLoader = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">TextureLoader</span>();

<span class="hljs-keyword">let</span> moon;
<span class="hljs-keyword">let</span> chinaLabel;
<span class="hljs-keyword">const</span> raycaster = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Raycaster</span>();

<span class="hljs-keyword">function</span> <span class="hljs-title function_">init</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">EARTH_RADIUS</span> = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">MOON_RADIUS</span> = <span class="hljs-number">0.27</span>;

  camera = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">PerspectiveCamera</span>(
    <span class="hljs-number">45</span>,
    <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span> / <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>,
    <span class="hljs-number">0.1</span>,
    <span class="hljs-number">200</span>
  );
  camera.<span class="hljs-property">position</span>.<span class="hljs-title function_">set</span>(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>, -<span class="hljs-number">10</span>);

  scene = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Scene</span>();
}
</code></pre>
<h2 data-id="heading-3">å…‰ç…§è®¾ç½®</h2>
<p>æ·»åŠ é€‚å½“çš„å…‰ç…§ä½¿åœºæ™¯æ›´çœŸå®ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> dirLight = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">DirectionalLight</span>(<span class="hljs-number">0xffffff</span>);
dirLight.<span class="hljs-property">position</span>.<span class="hljs-title function_">set</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>);
scene.<span class="hljs-title function_">add</span>(dirLight);

<span class="hljs-keyword">const</span> light = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">AmbientLight</span>(<span class="hljs-number">0xffffff</span>, <span class="hljs-number">0.5</span>); <span class="hljs-comment">// soft white light</span>
scene.<span class="hljs-title function_">add</span>(light);
</code></pre>
<h2 data-id="heading-4">åˆ›å»ºåœ°çƒæ¨¡å‹</h2>
<p>ä½¿ç”¨çº¹ç†è´´å›¾åˆ›å»ºåœ°çƒæ¨¡å‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> earthGeometry = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">SphereGeometry</span>(<span class="hljs-variable constant_">EARTH_RADIUS</span>, <span class="hljs-number">16</span>, <span class="hljs-number">16</span>);
<span class="hljs-keyword">const</span> earthMaterial = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">MeshPhongMaterial</span>({
  <span class="hljs-attr">specular</span>: <span class="hljs-number">0x333333</span>,
  <span class="hljs-attr">shininess</span>: <span class="hljs-number">5</span>,
  <span class="hljs-attr">map</span>: textureLoader.<span class="hljs-title function_">load</span>(<span class="hljs-string">"textures/planets/earth_atmos_2048.jpg"</span>),
  <span class="hljs-attr">specularMap</span>: textureLoader.<span class="hljs-title function_">load</span>(<span class="hljs-string">"textures/planets/earth_specular_2048.jpg"</span>),
  <span class="hljs-attr">normalMap</span>: textureLoader.<span class="hljs-title function_">load</span>(<span class="hljs-string">"textures/planets/earth_normal_2048.jpg"</span>),
  <span class="hljs-attr">normalScale</span>: <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector2</span>(<span class="hljs-number">0.85</span>, <span class="hljs-number">0.85</span>),
});

<span class="hljs-keyword">const</span> earth = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Mesh</span>(earthGeometry, earthMaterial);
scene.<span class="hljs-title function_">add</span>(earth);
</code></pre>
<h2 data-id="heading-5">åˆ›å»ºæœˆçƒæ¨¡å‹</h2>
<p>åŒæ ·åœ°ï¼Œåˆ›å»ºæœˆçƒæ¨¡å‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> moonGeometry = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">SphereGeometry</span>(<span class="hljs-variable constant_">MOON_RADIUS</span>, <span class="hljs-number">16</span>, <span class="hljs-number">16</span>);
<span class="hljs-keyword">const</span> moonMaterial = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">MeshPhongMaterial</span>({
  <span class="hljs-attr">shininess</span>: <span class="hljs-number">5</span>,
  <span class="hljs-attr">map</span>: textureLoader.<span class="hljs-title function_">load</span>(<span class="hljs-string">"textures/planets/moon_1024.jpg"</span>),
});
moon = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Mesh</span>(moonGeometry, moonMaterial);
scene.<span class="hljs-title function_">add</span>(moon);
</code></pre>
<h2 data-id="heading-6">åˆ›å»ºCSS2Dæ ‡ç­¾</h2>
<p>è¿™æ˜¯å…³é”®éƒ¨åˆ†ï¼Œæˆ‘ä»¬ä½¿ç”¨ CSS2DObject æ¥åˆ›å»ºå¯ä»¥é™„åŠ åˆ° 3D å¯¹è±¡ä¸Šçš„ HTML æ ‡ç­¾ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åˆ›å»ºåœ°çƒæ ‡ç­¾</span>
<span class="hljs-keyword">const</span> earthDiv = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>);
earthDiv.<span class="hljs-property">className</span> = <span class="hljs-string">"label"</span>;
earthDiv.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">"åœ°çƒ"</span>;
<span class="hljs-keyword">const</span> earthLabel = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CSS2DObject</span>(earthDiv);
earthLabel.<span class="hljs-property">position</span>.<span class="hljs-title function_">set</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);
earth.<span class="hljs-title function_">add</span>(earthLabel);

<span class="hljs-comment">// åˆ›å»ºä¸­å›½æ ‡ç­¾</span>
<span class="hljs-keyword">const</span> chinaDiv = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>);
chinaDiv.<span class="hljs-property">className</span> = <span class="hljs-string">"label1"</span>;
chinaDiv.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">"ä¸­å›½"</span>;
chinaLabel = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CSS2DObject</span>(chinaDiv);
chinaLabel.<span class="hljs-property">position</span>.<span class="hljs-title function_">set</span>(-<span class="hljs-number">0.3</span>, <span class="hljs-number">0.5</span>, -<span class="hljs-number">0.9</span>);
earth.<span class="hljs-title function_">add</span>(chinaLabel);

<span class="hljs-comment">// åˆ›å»ºæœˆçƒæ ‡ç­¾</span>
<span class="hljs-keyword">const</span> moonDiv = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>);
moonDiv.<span class="hljs-property">className</span> = <span class="hljs-string">"label"</span>;
moonDiv.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">"æœˆçƒ"</span>;
<span class="hljs-keyword">const</span> moonLabel = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CSS2DObject</span>(moonDiv);
moonLabel.<span class="hljs-property">position</span>.<span class="hljs-title function_">set</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0.3</span>, <span class="hljs-number">0</span>);
moon.<span class="hljs-title function_">add</span>(moonLabel);
</code></pre>
<h2 data-id="heading-7">CSS2Dæ¸²æŸ“å™¨è®¾ç½®</h2>
<p>å®ä¾‹åŒ–å¹¶é…ç½® CSS2D æ¸²æŸ“å™¨ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å®ä¾‹åŒ–css2dçš„æ¸²æŸ“å™¨</span>
labelRenderer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CSS2DRenderer</span>();
labelRenderer.<span class="hljs-title function_">setSize</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>);
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(labelRenderer.<span class="hljs-property">domElement</span>);
labelRenderer.<span class="hljs-property">domElement</span>.<span class="hljs-property">style</span>.<span class="hljs-property">position</span> = <span class="hljs-string">'fixed'</span>;
labelRenderer.<span class="hljs-property">domElement</span>.<span class="hljs-property">style</span>.<span class="hljs-property">top</span> = <span class="hljs-string">'0px'</span>;
labelRenderer.<span class="hljs-property">domElement</span>.<span class="hljs-property">style</span>.<span class="hljs-property">left</span> = <span class="hljs-string">'0px'</span>;
labelRenderer.<span class="hljs-property">domElement</span>.<span class="hljs-property">style</span>.<span class="hljs-property">zIndex</span> = <span class="hljs-string">'10'</span>;
</code></pre>
<h2 data-id="heading-8">WebGLæ¸²æŸ“å™¨è®¾ç½®</h2>
<p>è®¾ç½®æ ‡å‡†çš„ WebGL æ¸²æŸ“å™¨ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">renderer = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">WebGLRenderer</span>();
renderer.<span class="hljs-title function_">setPixelRatio</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">devicePixelRatio</span>);
renderer.<span class="hljs-title function_">setSize</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>);
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(renderer.<span class="hljs-property">domElement</span>);
</code></pre>
<h2 data-id="heading-9">æ§åˆ¶å™¨è®¾ç½®</h2>
<p>é…ç½®è½¨é“æ§åˆ¶å™¨ä»¥ä¾¿ç”¨æˆ·å¯ä»¥äº¤äº’ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> controls = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrbitControls</span>(camera, labelRenderer.<span class="hljs-property">domElement</span>);
controls.<span class="hljs-property">minDistance</span> = <span class="hljs-number">5</span>;
controls.<span class="hljs-property">maxDistance</span> = <span class="hljs-number">100</span>;
</code></pre>
<h2 data-id="heading-10">çª—å£å¤§å°è°ƒæ•´</h2>
<p>å¤„ç†çª—å£å¤§å°å˜åŒ–ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"resize"</span>, onWindowResize);

<span class="hljs-keyword">function</span> <span class="hljs-title function_">onWindowResize</span>(<span class="hljs-params"/>) {
  camera.<span class="hljs-property">aspect</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span> / <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>;
  camera.<span class="hljs-title function_">updateProjectionMatrix</span>();
  renderer.<span class="hljs-title function_">setSize</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>);
  labelRenderer.<span class="hljs-title function_">setSize</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>);
}
</code></pre>
<h2 data-id="heading-11">åŠ¨ç”»å¾ªç¯ä¸æ ‡ç­¾éšè—æ£€æµ‹</h2>
<p>åœ¨åŠ¨ç”»å¾ªç¯ä¸­ï¼Œæˆ‘ä»¬ä¸ä»…ç§»åŠ¨æœˆçƒï¼Œè¿˜å®ç°äº†æ ‡ç­¾çš„æ™ºèƒ½æ˜¾ç¤º/éšè—é€»è¾‘ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">animate</span>(<span class="hljs-params"/>) {
  <span class="hljs-title function_">requestAnimationFrame</span>(animate);

  <span class="hljs-keyword">const</span> elapsed = clock.<span class="hljs-title function_">getElapsedTime</span>();

  <span class="hljs-comment">// ç§»åŠ¨æœˆçƒ</span>
  moon.<span class="hljs-property">position</span>.<span class="hljs-title function_">set</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(elapsed) * <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">cos</span>(elapsed) * <span class="hljs-number">5</span>);

  <span class="hljs-comment">// æ£€æµ‹ä¸­å›½æ ‡ç­¾æ˜¯å¦è¢«é®æŒ¡</span>
  <span class="hljs-keyword">const</span> chinaPosition = chinaLabel.<span class="hljs-property">position</span>.<span class="hljs-title function_">clone</span>();
  <span class="hljs-comment">// è®¡ç®—å‡ºæ ‡ç­¾è·Ÿæ‘„åƒæœºçš„è·ç¦»</span>
  <span class="hljs-keyword">const</span> labelDistance = chinaPosition.<span class="hljs-title function_">distanceTo</span>(camera.<span class="hljs-property">position</span>);
  <span class="hljs-comment">// æ£€æµ‹å°„çº¿çš„ç¢°æ’</span>
  <span class="hljs-comment">// å‘é‡(åæ ‡)ä»ä¸–ç•Œç©ºé—´æŠ•å½±åˆ°ç›¸æœºçš„æ ‡å‡†åŒ–è®¾å¤‡åæ ‡ (NDC) ç©ºé—´ã€‚</span>
  chinaPosition.<span class="hljs-title function_">project</span>(camera);
  raycaster.<span class="hljs-title function_">setFromCamera</span>(chinaPosition, camera);

  <span class="hljs-keyword">const</span> intersects = raycaster.<span class="hljs-title function_">intersectObjects</span>(scene.<span class="hljs-property">children</span>, <span class="hljs-literal">true</span>);

  <span class="hljs-comment">// å¦‚æœæ²¡æœ‰ç¢°æ’åˆ°ä»»ä½•ç‰©ä½“ï¼Œé‚£ä¹ˆè®©æ ‡ç­¾æ˜¾ç¤º</span>
  <span class="hljs-keyword">if</span>(intersects.<span class="hljs-property">length</span> == <span class="hljs-number">0</span>){
    chinaLabel.<span class="hljs-property">element</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">'visible'</span>);
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">const</span> minDistance = intersects[<span class="hljs-number">0</span>].<span class="hljs-property">distance</span>;
    <span class="hljs-keyword">if</span>(minDistance &lt; labelDistance){
      chinaLabel.<span class="hljs-property">element</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-string">'visible'</span>);
    } <span class="hljs-keyword">else</span> {
      chinaLabel.<span class="hljs-property">element</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">'visible'</span>);
    }
  }

  <span class="hljs-comment">// æ ‡ç­¾æ¸²æŸ“å™¨æ¸²æŸ“</span>
  labelRenderer.<span class="hljs-title function_">render</span>(scene, camera);

  <span class="hljs-comment">// WebGLæ¸²æŸ“å™¨æ¸²æŸ“</span>
  renderer.<span class="hljs-title function_">render</span>(scene, camera);
}
</code></pre>
<h2 data-id="heading-12">CSSæ ·å¼</h2>
<p>ä¸ºäº†è®©æ ‡ç­¾æ­£ç¡®æ˜¾ç¤ºï¼Œæˆ‘ä»¬éœ€è¦é€‚å½“çš„ CSS æ ·å¼ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.label</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1rem</span>;
}

<span class="hljs-selector-class">.label1</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;
  <span class="hljs-attribute">display</span>: none;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1rem</span>;
}

<span class="hljs-selector-class">.label1</span><span class="hljs-selector-class">.visible</span> {
  <span class="hljs-attribute">display</span>: block;
}
</code></pre>
<h2 data-id="heading-13">CSS2DRenderer å·¥ä½œåŸç†</h2>
<p>CSS2DRenderer çš„å·¥ä½œåŸç†æ˜¯ï¼š</p>
<ol>
<li>å®ƒä¸ä¼šæ¸²æŸ“ 3D å‡ ä½•ä½“ï¼Œè€Œæ˜¯å°†é™„åŠ åˆ° 3D å¯¹è±¡ä¸Šçš„ HTML å…ƒç´ å®šä½åˆ°ç›¸åº”çš„ä½ç½®</li>
<li>å®ƒä¼šæ ¹æ®ç›¸æœºè§†è§’è‡ªåŠ¨è°ƒæ•´ HTML å…ƒç´ çš„ä½ç½®å’Œå¤§å°</li>
<li>HTML å…ƒç´ å§‹ç»ˆä¿æŒé¢å‘ç›¸æœºï¼Œæä¾›è‰¯å¥½çš„å¯è¯»æ€§</li>
</ol>
<h2 data-id="heading-14">æ ‡ç­¾é®æŒ¡æ£€æµ‹</h2>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®ç°äº†æ™ºèƒ½çš„æ ‡ç­¾é®æŒ¡æ£€æµ‹ï¼š</p>
<ol>
<li>ä½¿ç”¨ Raycaster è®¡ç®—ä»ç›¸æœºåˆ°æ ‡ç­¾çš„å°„çº¿</li>
<li>æ£€æŸ¥å°„çº¿ä¸Šæ˜¯å¦æœ‰å…¶ä»–ç‰©ä½“ä¼šé®æŒ¡æ ‡ç­¾</li>
<li>å¦‚æœæœ‰é®æŒ¡ï¼Œåˆ™éšè—æ ‡ç­¾ï¼›å¦‚æœæ²¡æœ‰é®æŒ¡ï¼Œåˆ™æ˜¾ç¤ºæ ‡ç­¾</li>
</ol>
<h2 data-id="heading-15">ä¼˜åŠ¿ä¸åº”ç”¨åœºæ™¯</h2>
<p>CSS2DRenderer çš„ä¼˜åŠ¿åŒ…æ‹¬ï¼š</p>
<ol>
<li>å¯ä»¥ä½¿ç”¨å®Œæ•´çš„ HTML å’Œ CSS åŠŸèƒ½</li>
<li>æ”¯æŒå¤æ‚çš„å¸ƒå±€å’Œäº¤äº’</li>
<li>æ–‡å­—æ¸²æŸ“è´¨é‡é«˜</li>
<li>æ˜“äºé›†æˆç°æœ‰çš„ UI ç»„ä»¶</li>
</ol>
<p>å…¸å‹åº”ç”¨åœºæ™¯åŒ…æ‹¬ï¼š</p>
<ul>
<li>3D åœºæ™¯ä¸­çš„æ ‡æ³¨å’Œä¿¡æ¯å±•ç¤º</li>
<li>åœ°å›¾åº”ç”¨ä¸­çš„åœ°ç‚¹æ ‡ç­¾</li>
<li>3D æ¨¡å‹çš„éƒ¨ä»¶è¯´æ˜</li>
<li>æ•°æ®å¯è§†åŒ–ä¸­çš„æ ‡ç­¾æ˜¾ç¤º</li>
</ul>
<h2 data-id="heading-16">æ€»ç»“</h2>
<p>é€šè¿‡è¿™ä¸ªé¡¹ç›®ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•ä½¿ç”¨ Three.js çš„ CSS2DRendererï¼š</p>
<ol>
<li>å¦‚ä½•åˆ›å»ºå’Œé…ç½® CSS2DRenderer</li>
<li>å¦‚ä½•ä½¿ç”¨ CSS2DObject å°† HTML å…ƒç´ é™„åŠ åˆ° 3D å¯¹è±¡</li>
<li>å¦‚ä½•å¤„ç†ä¸¤ä¸ªæ¸²æŸ“å™¨çš„åè°ƒå·¥ä½œ</li>
<li>å¦‚ä½•å®ç°æ™ºèƒ½çš„æ ‡ç­¾é®æŒ¡æ£€æµ‹</li>
</ol>
<p>CSS2DRenderer æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬åœ¨ 3D åœºæ™¯ä¸­è½»æ¾æ·»åŠ å¯Œæ–‡æœ¬æ ‡ç­¾å’Œå…¶ä»– HTML å…ƒç´ ï¼Œæå¤§åœ°å¢å¼ºäº† 3D åº”ç”¨çš„ä¿¡æ¯å±•ç¤ºèƒ½åŠ›ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯å‘æ¶æ„çªå›´ç³»åˆ— - æµè§ˆå™¨ç½‘ç»œ [5 - 5]ï¼šWeb Vitals æ€§èƒ½æŒ‡æ ‡ä½“ç³»ä¸å…¨é“¾è·¯]]></title>    <link>https://juejin.cn/post/7599975633477287974</link>    <guid>https://juejin.cn/post/7599975633477287974</guid>    <pubDate>2026-01-28T05:42:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599975633477287974" data-draft-id="7599981538297741362" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯å‘æ¶æ„çªå›´ç³»åˆ— - æµè§ˆå™¨ç½‘ç»œ [5 - 5]ï¼šWeb Vitals æ€§èƒ½æŒ‡æ ‡ä½“ç³»ä¸å…¨é“¾è·¯"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-28T05:42:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ç‹å£®å£®"/> <meta itemprop="url" content="https://juejin.cn/user/4473272506789485"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯å‘æ¶æ„çªå›´ç³»åˆ— - æµè§ˆå™¨ç½‘ç»œ [5 - 5]ï¼šWeb Vitals æ€§èƒ½æŒ‡æ ‡ä½“ç³»ä¸å…¨é“¾è·¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4473272506789485/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ç‹å£®å£®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T05:42:09.000Z" title="Wed Jan 28 2026 05:42:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><blockquote>
<p><strong>å†™åœ¨å‰é¢</strong></p>
<p>å¾ˆä¹…ä»¥å‰ï¼Œæˆ‘ä»¬ç”¨ <code>window.onload</code> å’Œâ€œç™½å±æ—¶é—´â€æ¥è¡¡é‡æ€§èƒ½ã€‚ä½†åœ¨å•é¡µåº”ç”¨ï¼ˆSPAï¼‰å’Œéª¨æ¶å±ç››è¡Œçš„ä»Šå¤©ï¼Œè¿™äº›è€æŒ‡æ ‡å·²ç»å¤±æ•ˆäº†ã€‚é¡µé¢â€œåŠ è½½å®Œâ€äº†ï¼ˆSpinning loader æ¶ˆå¤±ï¼‰ï¼Œä½†å†…å®¹å¯èƒ½è¿˜æ²¡å‡ºæ¥ï¼›å†…å®¹å‡ºæ¥äº†ï¼Œå¯èƒ½ç‚¹ä¸åŠ¨ï¼›ç‚¹å¾—åŠ¨äº†ï¼Œå¹¿å‘Šçªç„¶å¼¹å‡ºæ¥æŠŠä½ æ­£åœ¨çœ‹çš„æ–‡ç« æŒ¤è·‘äº†ã€‚</p>
<p>2020 å¹´ï¼ŒGoogle æ¨å‡ºäº† <strong>Web Vitals</strong>ï¼Œé‡æ–°å®šä¹‰äº†ç”¨æˆ·ä½“éªŒçš„åº¦é‡è¡¡ã€‚</p>
<p>è¿™ä¸€èŠ‚ï¼Œæˆ‘ä»¬å°†æ‰‹ä¸­çš„â€œç§’è¡¨â€æ¢æˆç²¾å¯†çš„â€œå¿ƒç”µå›¾æœºâ€ï¼Œä¸ä»…è¦è®©é¡µé¢è·‘å¾—å¿«ï¼ˆLCPï¼‰ï¼Œè¿˜è¦è·‘å¾—ç¨³ï¼ˆCLSï¼‰ï¼Œæ›´è¦ååº”çµæ•ï¼ˆINPï¼‰ã€‚</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6a4be4a6f7b8465f9cf72cfbc683e3f9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv546L5aOu5aOu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770183729&amp;x-signature=lUkdDTLI9uBjdWmqNnMSQ%2BlyOJc%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ æ ¸å¿ƒæŒ‡æ ‡ä¸‰å·¨å¤´ï¼šLCPã€INP ä¸ CLS</h2>
<p>Google åœ¨å‡ åä¸ªæ€§èƒ½æŒ‡æ ‡ä¸­ï¼Œé’¦ç‚¹äº†ä¸‰ä¸ªä½œä¸º <strong>Core Web Vitals (CWV)</strong> ã€‚è¿™ä¸ä»…å…³ä¹ç”¨æˆ·ä½“éªŒï¼Œè¿˜ç›´æ¥å½±å“ <strong>SEO æ’å</strong>ã€‚</p>
<h3 data-id="heading-1">1.1 LCP (Largest Contentful Paint) â€”â€” è§†ç½‘è†œçš„æ„‰æ‚¦</h3>
<ul>
<li><strong>å«ä¹‰ï¼š</strong> è§†å£å†…<strong>æœ€å¤§</strong>çš„é‚£å—å†…å®¹ï¼ˆé€šå¸¸æ˜¯å¤§å›¾æˆ– H1 æ ‡é¢˜ï¼‰æ¸²æŸ“å®Œæˆçš„æ—¶é—´ã€‚</li>
<li><strong>ä¸ºä»€ä¹ˆä¸ç”¨ <code>load</code> äº‹ä»¶ï¼Ÿ</strong> å› ä¸º <code>load</code> è§¦å‘æ—¶ï¼Œå±å¹•å¯èƒ½è¿˜æ˜¯ç™½çš„ï¼Œæˆ–è€…åªæœ‰ä¸€ä¸ª Loading åœˆã€‚ç”¨æˆ·ä¸åœ¨ä¹ Loading åœˆï¼Œç”¨æˆ·åœ¨ä¹çš„æ˜¯çœ‹åˆ°æ­£æ–‡ã€‚</li>
<li><strong>åŠæ ¼çº¿ï¼š</strong> <strong>2.5 ç§’</strong>ä»¥å†…ã€‚</li>
</ul>
<h3 data-id="heading-2">1.2 INP (Interaction to Next Paint) â€”â€” æŒ‡å°–çš„å¿«æ„Ÿ</h3>
<ul>
<li><strong>æ³¨æ„ï¼š</strong> ä»¥å‰å« FID (First Input Delay)ï¼Œ<strong>2024 å¹´ 3 æœˆèµ·å·²è¢« INP æ­£å¼å–ä»£</strong>ã€‚æ¶æ„å¸ˆå¿…é¡»æ›´æ–°çŸ¥è¯†åº“ï¼</li>
<li><strong>å«ä¹‰ï¼š</strong> å¹¶ä¸æ˜¯æµ‹ä½ ç¬¬ä¸€æ¬¡ç‚¹å‡»æœ‰å¤šå¿«ï¼Œè€Œæ˜¯æµ‹<strong>å…¨ç”Ÿå‘½å‘¨æœŸå†…</strong>ï¼Œé¡µé¢å¯¹ç”¨æˆ·æ“ä½œï¼ˆç‚¹å‡»ã€æŒ‰é”®ï¼‰çš„<strong>å“åº”å»¶æ—¶</strong>ï¼ˆä»ç‚¹å‡»åˆ°ä¸‹ä¸€å¸§ç»˜åˆ¶çš„æ—¶é—´ï¼‰ã€‚</li>
<li><strong>åŠæ ¼çº¿ï¼š</strong> <strong>200 æ¯«ç§’</strong>ä»¥å†…ã€‚</li>
<li><strong>åº•å±‚é€»è¾‘ï¼š</strong> å¦‚æœ INP é«˜ï¼Œè¯´æ˜ä¸»çº¿ç¨‹è¢«é•¿ä»»åŠ¡ï¼ˆLong Taskï¼‰å µæ­»äº†ï¼ˆå›é¡¾ç¬¬å››ç¯‡ Event Loopï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-3">1.3 CLS (Cumulative Layout Shift) â€”â€” è§†è§‰çš„ç¨³å®š</h3>
<ul>
<li><strong>å«ä¹‰ï¼š</strong> ç´¯ç§¯å¸ƒå±€åç§»ã€‚é€šä¿—è¯´å°±æ˜¯â€œé¡µé¢è·³ä¸è·³â€ã€‚</li>
<li><strong>åœºæ™¯ï¼š</strong> ä½ æ­£è¦ç‚¹â€œå–æ¶ˆâ€ï¼Œçªç„¶é¡¶éƒ¨åŠ è½½å‡ºæ¥ä¸€å¼ å¹¿å‘Šå›¾ï¼ŒæŠŠä½ æŒ¤åˆ°äº†ä¸‹é¢çš„â€œç¡®è®¤â€æŒ‰é’®ä¸Šã€‚è¿™æ˜¯æœ€è®©ç”¨æˆ·æŠ“ç‹‚çš„ä½“éªŒã€‚</li>
<li><strong>åŠæ ¼çº¿ï¼š</strong> <strong>0.1</strong> åˆ†ä»¥ä¸‹ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-4">äºŒã€ å®éªŒå®¤æ•°æ® vs çœŸå®ç”¨æˆ·æ•°æ®ï¼šä½ è¢« Lighthouse éª—äº†å—ï¼Ÿ</h2>
<p>å¾ˆå¤šå¼€å‘è€…åœ¨æœ¬åœ°è·‘ Lighthouse æ‹¿äº† 100 åˆ†ï¼Œä¸Šçº¿åç”¨æˆ·å´éª‚å£°ä¸€ç‰‡ã€‚ä¸ºä»€ä¹ˆï¼Ÿ</p>
<h3 data-id="heading-5">2.1 Lab Data (å®éªŒå®¤æ•°æ® / åˆæˆç›‘æ§)</h3>
<ul>
<li><strong>å·¥å…·ï¼š</strong> Lighthouse, Chrome DevTools Performanceã€‚</li>
<li><strong>ç¯å¢ƒï¼š</strong> ä½ çš„é«˜é… MacBook Pro + å…¬å¸åƒå…†å…‰çº¤ã€‚</li>
<li><strong>ç‰¹ç‚¹ï¼š</strong> ç¯å¢ƒå¯æ§ï¼Œé€‚åˆè°ƒè¯•ï¼Œ<strong>ä½†ä¸ä»£è¡¨çœŸå®ä½“éªŒ</strong>ã€‚</li>
</ul>
<h3 data-id="heading-6">2.2 Field Data (ç°åœºæ•°æ® / çœŸå®ç”¨æˆ·ç›‘æ§ RUM)</h3>
<ul>
<li><strong>å·¥å…·ï¼š</strong> Chrome UX Report (CrUX), åŸ‹ç‚¹ä¸ŠæŠ¥ã€‚</li>
<li><strong>ç¯å¢ƒï¼š</strong> ç”¨æˆ·çš„çº¢ç±³æ‰‹æœº + åœ°é“é‡Œçš„å¼±ç½‘ 4Gã€‚</li>
<li><strong>ç‰¹ç‚¹ï¼š</strong> è¿™æ‰æ˜¯<strong>çœŸç›¸</strong>ã€‚</li>
</ul>
<p><strong>æ¶æ„å¸ˆç­–ç•¥ï¼š</strong> <strong>â€œç”¨ Lab Data æ²»æœªç—…ï¼Œç”¨ Field Data æ²»å·²ç—…ã€‚â€</strong> ä½ éœ€è¦åœ¨ CI/CD æµæ°´çº¿ä¸­è·‘ Lighthouse å®ˆä½åº•çº¿ï¼ŒåŒæ—¶åœ¨ç”Ÿäº§ç¯å¢ƒæ¥å…¥ RUM (Real User Monitoring) æ”¶é›†çœŸå®ç”¨æˆ·çš„ Web Vitalsã€‚</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// ç”Ÿäº§ç¯å¢ƒç›‘æ§å®æˆ˜ï¼šä½¿ç”¨ web-vitals åº“</span>
import { onLCP, onINP, onCLS } from 'web-vitals';

function <span class="hljs-built_in">sendToAnalytics</span>(metric) {
  const <span class="hljs-selector-tag">body</span> = JSON<span class="hljs-selector-class">.stringify</span>(metric);
  <span class="hljs-comment">// ä½¿ç”¨ navigator.sendBeacon ä¿è¯é¡µé¢å…³é—­æ—¶ä¹Ÿèƒ½å‘é€</span>
  navigator<span class="hljs-selector-class">.sendBeacon</span>('/analytics', body);
}

<span class="hljs-built_in">onLCP</span>(sendToAnalytics);
<span class="hljs-built_in">onINP</span>(sendToAnalytics);
<span class="hljs-built_in">onCLS</span>(sendToAnalytics);
</code></pre>
<hr/>
<h2 data-id="heading-7">ä¸‰ã€ å…¨é“¾è·¯ä¼˜åŒ–å®æˆ˜ï¼šä¸²è”å‰å››ç¯‡çš„çŸ¥è¯†</h2>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬æ‹¿ç€è¿™ä¸‰ä¸ªæŒ‡æ ‡ï¼Œå›é¡¾å‰å››èŠ‚çš„å†…å®¹ï¼Œçœ‹çœ‹å¦‚ä½•å¯¹ç—‡ä¸‹è¯ã€‚</p>
<h3 data-id="heading-8">3.1 ä¼˜åŒ– LCP (åŠ è½½é€Ÿåº¦) â€”â€” è€ƒéªŒâ€œç®¡é“â€ä¸â€œå®ˆé—¨â€</h3>
<p>LCP æ…¢ï¼Œé€šå¸¸æ˜¯å› ä¸ºèµ„æºä¸‹ä¸æ¥ï¼Œæˆ–è€…æ¸²æŸ“è¢«é˜»å¡ã€‚</p>
<ul>
<li>
<p><strong>å›é¡¾ç¬¬ä¸€ç¯‡ (ç½‘ç»œ):</strong> å‡çº§ <strong>HTTP/3 (QUIC)</strong> ï¼Œæ¶ˆé™¤é˜Ÿå¤´é˜»å¡ï¼ŒåŠ é€Ÿæ¡æ‰‹ã€‚</p>
</li>
<li>
<p><strong>å›é¡¾ç¬¬äºŒç¯‡ (èµ„æº):</strong></p>
<ul>
<li><strong>CDN é¢„è¿æ¥:</strong> <code>&lt;link rel="preconnect" ...&gt;</code></li>
<li><strong>å…³é”®èµ„æºé¢„åŠ è½½:</strong> å¯¹ LCP å›¾ç‰‡ä½¿ç”¨ <code>&lt;link rel="preload" as="image" ...&gt;</code>ã€‚</li>
<li><strong>Fetch Priority:</strong> <code>&lt;img src="hero.jpg" fetchpriority="high"&gt;</code>ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-9">3.2 ä¼˜åŒ– INP (äº¤äº’å“åº”) â€”â€” è€ƒéªŒâ€œå¿ƒè„â€</h3>
<p>INP å·®ï¼Œè¯´æ˜ä¸»çº¿ç¨‹å¤ªå¿™ï¼ŒEvent Loop è½¬ä¸åŠ¨äº†ã€‚</p>
<ul>
<li>
<p><strong>å›é¡¾ç¬¬å››ç¯‡ (Event Loop):</strong></p>
<ul>
<li><strong>åˆ‡ç‰‡:</strong> åªæœ‰æŠŠé•¿ä»»åŠ¡åˆ‡ç¢ï¼ˆTime Slicingï¼‰ï¼Œä¸»çº¿ç¨‹æ‰æœ‰ç©ºéš™å»å“åº”ç”¨æˆ·çš„ç‚¹å‡»ã€‚</li>
<li><strong>Web Workers:</strong> æŠŠç¹é‡çš„è®¡ç®—ï¼ˆå¦‚åŠ å¯†ã€å¤§æ–‡ä»¶è§£æï¼‰æ‰”å‡ºä¸»çº¿ç¨‹ã€‚</li>
<li><strong>é¿å… Layout Thrashing:</strong> åˆ«åœ¨ç‚¹å‡»äº‹ä»¶é‡Œå¼ºåˆ¶è¯»å– <code>offsetWidth</code> å¯¼è‡´åŒæ­¥é‡æ’ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-10">3.3 ä¼˜åŒ– CLS (è§†è§‰ç¨³å®š) â€”â€” è€ƒéªŒâ€œç”»å¸ˆâ€</h3>
<p>CLS é«˜ï¼Œæ˜¯å› ä¸ºç”»å¸ˆåœ¨ç”»å¸ƒä¸Šåå¤æ¶‚æ”¹ã€‚</p>
<ul>
<li>
<p><strong>å›é¡¾ç¬¬ä¸‰ç¯‡ (æ¸²æŸ“):</strong></p>
<ul>
<li><strong>å®šå°ºå¯¸:</strong> æ‰€æœ‰çš„ <code>&lt;img&gt;</code> å’Œ <code>&lt;video&gt;</code> å¿…é¡»å†™æ­» <code>width</code> å’Œ <code>height</code> å±æ€§ï¼ˆæˆ– CSS aspect-ratioï¼‰ï¼Œå…ˆå ä½ï¼ŒååŠ è½½ã€‚</li>
<li><strong>å­—ä½“æŠ–åŠ¨:</strong> ä½¿ç”¨ <code>font-display: swap</code> æˆ– <code>optional</code>ï¼Œé¿å… FOIT (Flash of Invisible Text)ã€‚</li>
<li><strong>åŠ¨ç”»åˆæˆ:</strong> åšæŒä½¿ç”¨ <code>transform</code> åšåŠ¨ç”»ï¼Œé¿å…è§¦å‘å¸ƒå±€å˜åŒ–ã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h2 data-id="heading-11">å››ã€ æ€§èƒ½æ–‡åŒ–çš„å»ºè®¾ï¼šä»â€œçªå‡»é˜Ÿâ€åˆ°â€œæ­£è§„å†›â€</h2>
<p>ä½œä¸ºæ¶æ„å¸ˆï¼Œæœ€éš¾çš„ä¸æ˜¯è‡ªå·±ä¿® Bugï¼Œè€Œæ˜¯é˜²æ­¢åˆ«äººå†™ Bugã€‚</p>
<h3 data-id="heading-12">4.1 æ€§èƒ½é¢„ç®— (Performance Budget)</h3>
<p>åœ¨ Webpack/Vite é…ç½®ä¸­è®¾ç½®é˜ˆå€¼ï¼š</p>
<ul>
<li>JS Bundle ä½“ç§¯ä¸å¾—è¶…è¿‡ 200KBã€‚</li>
<li>å…³é”® CSS ä¸å¾—è¶…è¿‡ 50KBã€‚ ä¸€æ—¦è¶…æ ‡ï¼Œæ„å»ºç›´æ¥å¤±è´¥ã€‚</li>
</ul>
<h3 data-id="heading-13">4.2 è‡ªåŠ¨åŒ–å®ˆé—¨å‘˜</h3>
<p>åœ¨ GitHub Actions æˆ– Jenkins ä¸­é›†æˆ <strong>Lighthouse CI</strong>ã€‚ å¦‚æœæ˜¯ PR å¯¼è‡´ Performance åˆ†æ•°ä¸‹é™äº† 5 åˆ†ï¼Œç¦æ­¢ Mergeã€‚</p>
<hr/>
<h2 data-id="heading-14">ç»“è¯­ï¼šå¿«ï¼Œæ˜¯åšå‡ºæ¥çš„ï¼Œæ›´æ˜¯å®ˆå‡ºæ¥çš„</h2>
<p>æ€§èƒ½ä¼˜åŒ–ä¸æ˜¯ä¸€ç§â€œé­”æ³•â€ï¼Œè€Œæ˜¯ä¸€é—¨â€œå·¥ç¨‹å­¦â€ã€‚ å®ƒéœ€è¦ä½ ç†è§£ä» TCP åŒ…çš„å‘é€ï¼Œåˆ° CPU çš„è°ƒåº¦ï¼Œå†åˆ°åƒç´ åˆæˆçš„æ¯ä¸€ä¸ªç¯èŠ‚ã€‚Web Vitals å°±æ˜¯è¿™å¥—å¤æ‚ç³»ç»Ÿçš„ä»ªè¡¨ç›˜ã€‚</p>
<p>è‡³æ­¤ï¼Œ<strong>ç¬¬äº”é˜¶æ®µã€Šæµè§ˆå™¨è¿è¡ŒåŸç† + å‰ç«¯ç½‘ç»œåè®®ä¸è¯·æ±‚æ¨¡å‹ã€‹</strong> åœ†æ»¡ç»“æŸã€‚ æˆ‘ä»¬æ·±å…¥äº†ç®¡é“ï¼Œæ‹œè®¿äº†å®ˆé—¨å‘˜ï¼Œè§‚æ‘©äº†ç”»å¸ˆï¼Œè§£å‰–äº†å¿ƒè„ï¼Œæœ€åæ‹¿èµ·äº†åº¦é‡å°ºã€‚</p>
<p>ç°åœ¨ï¼Œä½ çš„å‰ç«¯åº”ç”¨å·²ç»è·‘å¾—é£å¿«äº†ã€‚ä½†æ˜¯ï¼Œä»£ç å†™å¾—å¿«ã€è·‘å¾—å¿«å°±å¤Ÿäº†å—ï¼Ÿå¦‚æœä»£ç ä¹±å¾—åƒä¸€å›¢éº»ï¼Œæˆ–è€…ä¸Šçº¿å°±å´©ï¼Œå†å¿«ä¹Ÿæ˜¯å¾’åŠ³ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[vue3+vite+tsåˆ›å»ºé¡¹ç›®-ä¼ä¸šçº§]]></title>    <link>https://juejin.cn/post/7599927813601935400</link>    <guid>https://juejin.cn/post/7599927813601935400</guid>    <pubDate>2026-01-28T04:23:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599927813601935400" data-draft-id="7599469598882856975" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="vue3+vite+tsåˆ›å»ºé¡¹ç›®-ä¼ä¸šçº§"/> <meta itemprop="keywords" content="Vue.js,Vite"/> <meta itemprop="datePublished" content="2026-01-28T04:23:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¥”è·‘è·¯ä¸Šçš„Me"/> <meta itemprop="url" content="https://juejin.cn/user/1680516363335208"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            vue3+vite+tsåˆ›å»ºé¡¹ç›®-ä¼ä¸šçº§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1680516363335208/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¥”è·‘è·¯ä¸Šçš„Me
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T04:23:21.000Z" title="Wed Jan 28 2026 04:23:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Vue3+Vite+TS ä¼ä¸šçº§é¡¹ç›®æ­å»ºå®Œæ•´æŒ‡å—ï¼ˆå«å¤šç¯å¢ƒé…ç½®ï¼‰</h2>
<p>æœ¬æ–‡åŸºäº Vue3ã€Vite4+ã€TypeScript æ„å»ºä¼ä¸šçº§é¡¹ç›®ï¼Œæ•´åˆå¤šç¯å¢ƒé…ç½®ã€ä»£ç è§„èŒƒã€è‡ªåŠ¨å¯¼å…¥ã€æ ·å¼å¤„ç†ç­‰æ ¸å¿ƒåŠŸèƒ½ï¼Œé…ç½®ç»“æ„æ¸…æ™°å¯æ‰©å±•ï¼Œé€‚é…ç”Ÿäº§ã€å¼€å‘ã€æµ‹è¯•å¤šåœºæ™¯éœ€æ±‚ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€åˆå§‹åŒ– Vue3 é¡¹ç›®</h2>
<p>é‡‡ç”¨ Vite æ„å»ºå·¥å…·ï¼ˆæ¯” Webpack å¯åŠ¨æ›´å¿«ã€çƒ­æ›´æ–°æ›´é«˜æ•ˆï¼Œæ˜¯ Vue3 å®˜æ–¹æ¨èæ–¹æ¡ˆï¼‰ï¼Œå¿«é€Ÿåˆå§‹åŒ–é¡¹ç›®å¹¶é›†æˆ TypeScriptã€‚</p>
<h3 data-id="heading-2">æ­¥éª¤ 1ï¼šæ‰§è¡Œåˆå§‹åŒ–å‘½ä»¤</h3>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># ä½¿ç”¨ npm/cnpm/pnpm å‡å¯ï¼Œè¿™é‡Œä»¥ cnpm ä¸ºä¾‹</span>
cnpm create vite@latest

<span class="hljs-comment"># è‹¥éœ€æŒ‡å®šç‰ˆæœ¬ï¼Œå¯æ‰§è¡Œï¼šcnpm create vite</span>
</code></pre>
<h3 data-id="heading-3">æ­¥éª¤ 2ï¼šäº¤äº’å¼é…ç½®é¡¹ç›®</h3>
<ol>
<li><strong>è¾“å…¥é¡¹ç›®å</strong>ï¼šå¦‚ <code>vite-vue3-ts-enterprise</code>ï¼ˆå»ºè®®è‹±æ–‡ï¼Œé¿å…ç‰¹æ®Šå­—ç¬¦ï¼‰</li>
<li><strong>é€‰æ‹©æ¡†æ¶</strong>ï¼šä¸Šä¸‹é”®åˆ‡æ¢è‡³ <code>Vue</code>ï¼ˆé»˜è®¤é€‚é… Vue3ï¼‰</li>
<li><strong>é€‰æ‹©å˜ä½“</strong>ï¼šåˆ‡æ¢è‡³ <code>TypeScript</code>ï¼ˆé›†æˆ TS ç±»å‹æ ¡éªŒï¼‰</li>
</ol>
<h3 data-id="heading-4">æ­¥éª¤ 3ï¼šå®‰è£…ä¾èµ–å¹¶å¯åŠ¨é¡¹ç›®</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿›å…¥é¡¹ç›®ç›®å½•</span>
<span class="hljs-built_in">cd</span> vite-vue3-ts-enterprise

<span class="hljs-comment"># å®‰è£…ä¾èµ–ï¼ˆä¼˜å…ˆç”¨é¡¹ç›®åŒ…ç®¡ç†å™¨ï¼Œé¿å…ç‰ˆæœ¬å†²çªï¼‰</span>
cnpm install

<span class="hljs-comment"># å¯åŠ¨å¼€å‘ç¯å¢ƒ</span>
cnpm run dev
</code></pre>
<p>å¯åŠ¨æˆåŠŸåï¼Œè®¿é—® <code>http://localhost:5173</code> å³å¯çœ‹åˆ° Vue3 åˆå§‹é¡µé¢ã€‚Vite é»˜è®¤ç«¯å£ä¸º 5173ï¼Œåç»­å¯åœ¨é…ç½®ä¸­ä¿®æ”¹ã€‚</p>
<h2 data-id="heading-5">äºŒã€åŸºç¡€é…ç½®ï¼ˆç¯å¢ƒã€åˆ«åã€ç±»å‹ï¼‰</h2>
<p>å®Œå–„é¡¹ç›®åŸºç¡€é…ç½®ï¼Œè§£å†³è·¯å¾„åˆ«åã€Node ç±»å‹ã€ç¯å¢ƒå˜é‡åŠ è½½ç­‰æ ¸å¿ƒé—®é¢˜ï¼Œé€‚é…ä¼ä¸šçº§å¼€å‘ä¹ æƒ¯ã€‚</p>
<h3 data-id="heading-6">æ­¥éª¤ 1ï¼šå®‰è£… Node ç±»å‹ä¾èµ–</h3>
<p>ä¸º TS æä¾› Node ç¯å¢ƒç±»å‹å®šä¹‰ï¼Œé¿å…è·¯å¾„å¤„ç†ç­‰æ“ä½œæ—¶ TS æŠ¥é”™ã€‚</p>
<pre><code class="hljs language-css" lang="css">cnpm <span class="hljs-selector-tag">i</span> <span class="hljs-keyword">@types</span>/node --save-dev
</code></pre>
<h3 data-id="heading-7">æ­¥éª¤ 2ï¼šé…ç½® tsconfig.json</h3>
<p>ä¼˜åŒ– TS ç¼–è¯‘è§„åˆ™ï¼Œæ·»åŠ è·¯å¾„åˆ«åã€ç±»å‹ç›®å½•ç­‰é…ç½®ï¼Œç¡®ä¿ TS è¯­æ³•å…¼å®¹ Vue3 å•æ–‡ä»¶ç»„ä»¶ï¼ˆSFCï¼‰ã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"compilerOptions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"typeRoots"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-string">"node_modules/@types"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// é»˜è®¤ç±»å‹ç›®å½•</span>
      <span class="hljs-string">"src/types"</span> <span class="hljs-comment">// è‡ªå®šä¹‰ç±»å‹ç›®å½•ï¼ˆåç»­å¯å­˜æ”¾å…¨å±€ç±»å‹ï¼‰</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"target"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ESNext"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ç›®æ ‡ ES ç‰ˆæœ¬</span>
    <span class="hljs-attr">"useDefineForClassFields"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// é€‚é… Vue3 ç±»ç»„ä»¶</span>
    <span class="hljs-attr">"module"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ESNext"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// æ¨¡å—è§„èŒƒ</span>
    <span class="hljs-attr">"moduleResolution"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Node"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// æ¨¡å—è§£ææ–¹å¼</span>
    <span class="hljs-attr">"strict"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// å¼€å¯ä¸¥æ ¼æ¨¡å¼ï¼ˆå¼ºåˆ¶ç±»å‹æ ¡éªŒï¼‰</span>
    <span class="hljs-attr">"jsx"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"preserve"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ä¿ç•™ JSX è¯­æ³•ï¼ˆé€‚é… Vue3 JSX/TSXï¼‰</span>
    <span class="hljs-attr">"resolveJsonModule"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// å…è®¸å¯¼å…¥ JSON æ–‡ä»¶</span>
    <span class="hljs-attr">"isolatedModules"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ç¡®ä¿æ¯ä¸ªæ–‡ä»¶éƒ½æ˜¯ç‹¬ç«‹æ¨¡å—ï¼ˆVite è¦æ±‚ï¼‰</span>
    <span class="hljs-attr">"esModuleInterop"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// å…¼å®¹ CommonJS æ¨¡å—</span>
    <span class="hljs-attr">"lib"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"ESNext"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"DOM"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// å¼•å…¥ ES ç‰¹æ€§å’Œ DOM ç±»å‹</span>
    <span class="hljs-attr">"skipLibCheck"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// è·³è¿‡ç¬¬ä¸‰æ–¹åº“ç±»å‹æ ¡éªŒï¼ˆæå‡ç¼–è¯‘é€Ÿåº¦ï¼‰</span>
    <span class="hljs-attr">"noEmit"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ä¸ç”Ÿæˆç¼–è¯‘äº§ç‰©ï¼ˆVite è´Ÿè´£æ„å»ºï¼‰</span>
    <span class="hljs-attr">"baseUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// åŸºç¡€è·¯å¾„</span>
    <span class="hljs-attr">"paths"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-comment">// è·¯å¾„åˆ«åï¼ˆç®€åŒ–å¯¼å…¥ï¼Œé¿å…ç›¸å¯¹è·¯å¾„åµŒå¥—ï¼‰</span>
      <span class="hljs-attr">"@"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"src"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"@/*"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"src/*"</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"include"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span> <span class="hljs-comment">// éœ€è¦ TS æ ¡éªŒçš„æ–‡ä»¶</span>
    <span class="hljs-string">"src/**/*.ts"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"src/**/*.d.ts"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"src/**/*.tsx"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"src/**/*.vue"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"build/**/*"</span> <span class="hljs-comment">// æ–°å¢ï¼šè®© TS è¯†åˆ« build æ–‡ä»¶å¤¹ä¸‹çš„é…ç½®æ–‡ä»¶</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"references"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span> <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./tsconfig.node.json"</span> <span class="hljs-punctuation">}</span> <span class="hljs-comment">// å…³è” Node ç¯å¢ƒé…ç½®</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-8">æ­¥éª¤ 3ï¼šé…ç½®å¤šç¯å¢ƒå˜é‡ï¼ˆenv æ–‡ä»¶å¤¹ï¼‰</h3>
<p>åˆ›å»ºç‹¬ç«‹ env æ–‡ä»¶å¤¹ç®¡ç†ä¸åŒç¯å¢ƒå˜é‡ï¼Œå®ç°å¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒéš”ç¦»ï¼Œé¿å…ç¡¬ç¼–ç ã€‚</p>
<h4 data-id="heading-9">1. åˆ›å»º env æ–‡ä»¶å¤¹åŠé…ç½®æ–‡ä»¶</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ ¹ç›®å½•åˆ›å»º env æ–‡ä»¶å¤¹</span>
<span class="hljs-built_in">mkdir</span> <span class="hljs-built_in">env</span>

<span class="hljs-comment"># æ–°å»º 3 ä¸ªç¯å¢ƒé…ç½®æ–‡ä»¶ï¼ˆå¯¹åº”å¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ï¼‰</span>
<span class="hljs-built_in">touch</span> <span class="hljs-built_in">env</span>/.env.development
<span class="hljs-built_in">touch</span> <span class="hljs-built_in">env</span>/.env.test
<span class="hljs-built_in">touch</span> <span class="hljs-built_in">env</span>/.env.production
</code></pre>
<h4 data-id="heading-10">2. ç¼–å†™å„ç¯å¢ƒå˜é‡</h4>
<p>Vite ç¯å¢ƒå˜é‡éœ€ä»¥ <code>VITE_</code> ä¸ºå‰ç¼€ï¼Œå¦åˆ™æ— æ³•åœ¨ä¸šåŠ¡ä»£ç ä¸­è®¿é—®ã€‚</p>
<ul>
<li><strong>env/.env.development</strong>ï¼ˆå¼€å‘ç¯å¢ƒï¼‰ <code> # å¼€å‘ç¯å¢ƒ API åŸºç¡€åœ°å€  `` VITE_API_BASE_URL=http://localhost:3000/api  `` # ç¯å¢ƒæ ‡è¯†  `` VITE_ENV=development  `` # è°ƒè¯•æ¨¡å¼ï¼ˆå¼€å‘ç¯å¢ƒå¼€å¯ï¼‰  ``VITE_DEBUG=true</code></li>
<li><strong>env/.env.test</strong>ï¼ˆæµ‹è¯•ç¯å¢ƒï¼‰ <code> VITE_API_BASE_URL=https://test.api.example.com  `` VITE_ENV=test  ``VITE_DEBUG=false</code></li>
<li><strong>env/.env.production</strong>ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰ <code> VITE_API_BASE_URL=https://api.example.com  `` VITE_ENV=production  ``VITE_DEBUG=false</code></li>
</ul>
<h3 data-id="heading-11">æ­¥éª¤ 4ï¼šæ‹†åˆ†å¤šç¯å¢ƒ Vite é…ç½®ï¼ˆbuild æ–‡ä»¶å¤¹ï¼‰</h3>
<p>å°† Vite é…ç½®æ‹†åˆ†ä¸ºã€ŒåŸºç¡€é…ç½®+ç¯å¢ƒä¸“å±é…ç½®ã€ï¼Œç»Ÿä¸€æ”¾å…¥ build æ–‡ä»¶å¤¹ï¼Œæå‡å¯ç»´æŠ¤æ€§ï¼Œåç»­æ–°å¢ç¯å¢ƒå¯å¿«é€Ÿæ‰©å±•ã€‚</p>
<h4 data-id="heading-12">1. åˆ›å»º build æ–‡ä»¶å¤¹åŠé…ç½®æ–‡ä»¶</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ ¹ç›®å½•åˆ›å»º build æ–‡ä»¶å¤¹ï¼ˆé›†ä¸­ç®¡ç†æ‰€æœ‰é…ç½®ï¼‰</span>
<span class="hljs-built_in">mkdir</span> build

<span class="hljs-comment"># æ–°å»º 3 ä¸ªé…ç½®æ–‡ä»¶</span>
<span class="hljs-built_in">touch</span> build/vite.base.ts <span class="hljs-comment"># åŸºç¡€é€šç”¨é…ç½®</span>
<span class="hljs-built_in">touch</span> build/vite.dev.ts  <span class="hljs-comment"># å¼€å‘ç¯å¢ƒé…ç½®</span>
<span class="hljs-built_in">touch</span> build/vite.prod.ts <span class="hljs-comment"># ç”Ÿäº§ç¯å¢ƒé…ç½®</span>
</code></pre>
<p>è°ƒæ•´åæ ¹ç›®å½•æ ¸å¿ƒç»“æ„ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">vite-vue3-ts-enterprise/
â”œâ”€â”€ build/               <span class="hljs-meta"># é…ç½®æ–‡ä»¶ç›®å½•</span>
â”‚   â”œâ”€â”€ vite.<span class="hljs-keyword">base</span>.ts     <span class="hljs-meta"># åŸºç¡€é…ç½®ï¼ˆé€šç”¨é€»è¾‘ï¼‰</span>
â”‚   â”œâ”€â”€ vite.dev.ts      <span class="hljs-meta"># å¼€å‘ç¯å¢ƒä¸“å±é…ç½®</span>
â”‚   â””â”€â”€ vite.prod.ts     <span class="hljs-meta"># ç”Ÿäº§ç¯å¢ƒä¸“å±é…ç½®</span>
â”œâ”€â”€ env/                 <span class="hljs-meta"># ç¯å¢ƒå˜é‡ç›®å½•</span>
â”œâ”€â”€ src/                 <span class="hljs-meta"># ä¸šåŠ¡ä»£ç ç›®å½•</span>
â”œâ”€â”€ <span class="hljs-keyword">public</span>/              <span class="hljs-meta"># é™æ€èµ„æºç›®å½•</span>
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â””â”€â”€ tsconfig.node.json
</code></pre>
<h4 data-id="heading-13">2. ç¼–å†™ build æ–‡ä»¶å¤¹ä¸‹çš„é…ç½®æ–‡ä»¶</h4>
<h5 data-id="heading-14">ï¼ˆ1ï¼‰build/vite.base.tsï¼ˆåŸºç¡€é€šç”¨é…ç½®ï¼‰</h5>
<p>æŠ½å–æ‰€æœ‰ç¯å¢ƒå…±ç”¨é€»è¾‘ï¼Œå¦‚æ’ä»¶ã€åˆ«åã€ç¯å¢ƒå˜é‡ç›®å½•ã€é™æ€èµ„æºå¤„ç†ç­‰ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>;
<span class="hljs-keyword">import</span> vue <span class="hljs-keyword">from</span> <span class="hljs-string">'@vitejs/plugin-vue'</span>; <span class="hljs-comment">// Vue å•æ–‡ä»¶ç»„ä»¶æ’ä»¶</span>
<span class="hljs-keyword">import</span> vueJsx <span class="hljs-keyword">from</span> <span class="hljs-string">'@vitejs/plugin-vue-jsx'</span>; <span class="hljs-comment">// æ”¯æŒ Vue3 JSX/TSX</span>
<span class="hljs-keyword">import</span> path <span class="hljs-keyword">from</span> <span class="hljs-string">'path'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-comment">// ç¯å¢ƒå˜é‡ç›®å½•ï¼ˆæŒ‡å®š env æ–‡ä»¶å¤¹ï¼Œè€Œéé»˜è®¤æ ¹ç›®å½•ï¼‰</span>
  <span class="hljs-attr">envDir</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">'../env'</span>),
  <span class="hljs-comment">// æ’ä»¶é…ç½®ï¼ˆæ‰€æœ‰ç¯å¢ƒå…±ç”¨æ’ä»¶ï¼‰</span>
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-title function_">vue</span>(), <span class="hljs-comment">// è§£æ .vue æ–‡ä»¶</span>
    <span class="hljs-title function_">vueJsx</span>() <span class="hljs-comment">// è§£æ .jsx/.tsx æ–‡ä»¶</span>
  ],
  <span class="hljs-comment">// è·¯å¾„è§£æé…ç½®</span>
  <span class="hljs-attr">resolve</span>: {
    <span class="hljs-attr">alias</span>: {
      <span class="hljs-comment">// åˆ«å @ æŒ‡å‘ src ç›®å½•ï¼ˆä¸ tsconfig.json ä¿æŒä¸€è‡´ï¼‰</span>
      <span class="hljs-string">'@'</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">'../src'</span>)
    }
  },
  <span class="hljs-comment">// åŸºç¡€æ„å»ºé…ç½®</span>
  <span class="hljs-attr">build</span>: {
    <span class="hljs-attr">outDir</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">'../dist'</span>), <span class="hljs-comment">// æ‰“åŒ…è¾“å‡ºç›®å½•</span>
    <span class="hljs-attr">assetsDir</span>: <span class="hljs-string">'assets'</span>, <span class="hljs-comment">// é™æ€èµ„æºå­˜æ”¾ç›®å½•</span>
    <span class="hljs-attr">rollupOptions</span>: {
      <span class="hljs-comment">// é™æ€èµ„æºåˆ†ç±»æ‰“åŒ…ï¼ˆæŒ‰åç¼€ååˆ†ç»„ï¼‰</span>
      <span class="hljs-attr">output</span>: {
        <span class="hljs-attr">assetFileNames</span>: <span class="hljs-function">(<span class="hljs-params">assetInfo</span>) =&gt;</span> {
          <span class="hljs-keyword">if</span> (assetInfo.<span class="hljs-property">name</span>?.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'.css'</span>)) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">'css/[name].[hash:8].[ext]'</span>;
          }
          <span class="hljs-keyword">if</span> (assetInfo.<span class="hljs-property">name</span>?.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/.(png|jpg|jpeg|gif|svg)$/i</span>)) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">'images/[name].[hash:8].[ext]'</span>;
          }
          <span class="hljs-keyword">return</span> <span class="hljs-string">'assets/[name].[hash:8].[ext]'</span>;
        },
        <span class="hljs-comment">// JS æ–‡ä»¶åˆ†ç±»æ‰“åŒ…</span>
        <span class="hljs-attr">chunkFileNames</span>: <span class="hljs-string">'js/chunks/[name].[hash:8].js'</span>,
        <span class="hljs-attr">entryFileNames</span>: <span class="hljs-string">'js/[name].[hash:8].js'</span>
      }
    }
  }
});
</code></pre>
<h5 data-id="heading-15">ï¼ˆ2ï¼‰build/vite.dev.tsï¼ˆå¼€å‘ç¯å¢ƒé…ç½®ï¼‰</h5>
<p>è¡¥å……å¼€å‘ç¯å¢ƒç‹¬æœ‰é€»è¾‘ï¼Œå¦‚çƒ­æ›´æ–°ã€ä»£ç†ã€ç«¯å£é…ç½®ç­‰ï¼Œä¼˜åŒ–å¼€å‘ä½“éªŒã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { defineConfig ï¼ŒmergeConfig} <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>;
<span class="hljs-keyword">import</span> path <span class="hljs-keyword">from</span> <span class="hljs-string">'path'</span>;
<span class="hljs-keyword">import</span> baseConfig <span class="hljs-keyword">from</span> <span class="hljs-string">'./vite.base'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">mergeConfig</span>(
  baseConfig,
  <span class="hljs-title function_">defineConfig</span>({
    <span class="hljs-attr">mode</span>: <span class="hljs-string">'development'</span>, <span class="hljs-comment">// å¼€å‘æ¨¡å¼</span>
    <span class="hljs-attr">server</span>: {
      <span class="hljs-attr">port</span>: <span class="hljs-number">8080</span>, <span class="hljs-comment">// è‡ªå®šä¹‰å¼€å‘ç«¯å£ï¼ˆæ›¿æ¢é»˜è®¤ 5173ï¼‰</span>
      <span class="hljs-attr">open</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å¯åŠ¨åè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span>
      <span class="hljs-attr">hmr</span>: { <span class="hljs-comment">// çƒ­æ¨¡å—æ›¿æ¢ï¼ˆæå‡çƒ­æ›´æ–°é€Ÿåº¦ï¼‰</span>
        <span class="hljs-attr">host</span>: <span class="hljs-string">'localhost'</span>,
        <span class="hljs-attr">port</span>: <span class="hljs-number">8080</span>
      },
      <span class="hljs-attr">proxy</span>: { <span class="hljs-comment">// æ¥å£ä»£ç†ï¼ˆè§£å†³è·¨åŸŸé—®é¢˜ï¼‰</span>
        <span class="hljs-string">'/api'</span>: {
          <span class="hljs-attr">target</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_API_BASE_URL</span>, <span class="hljs-comment">// è¯»å–ç¯å¢ƒå˜é‡ä¸­çš„ API åœ°å€</span>
          <span class="hljs-attr">changeOrigin</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å¼€å¯è·¨åŸŸä»£ç†</span>
          <span class="hljs-attr">rewrite</span>: <span class="hljs-function">(<span class="hljs-params">path</span>) =&gt;</span> path.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/^/</span>api/, <span class="hljs-string">''</span>) <span class="hljs-comment">// é‡å†™è·¯å¾„ï¼ˆç§»é™¤å‰ç¼€ /apiï¼‰</span>
        }
      }
    },
    <span class="hljs-attr">css</span>: {
      <span class="hljs-attr">devSourcemap</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">// å¼€å‘ç¯å¢ƒç”Ÿæˆ CSS SourceMapï¼ˆä¾¿äºè°ƒè¯•æ ·å¼ï¼‰</span>
    }
  })
);
</code></pre>
<h5 data-id="heading-16">ï¼ˆ3ï¼‰build/vite.prod.tsï¼ˆç”Ÿäº§ç¯å¢ƒé…ç½®ï¼‰</h5>
<p>è¡¥å……ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–é€»è¾‘ï¼Œå¦‚å‹ç¼©ã€æ¸…é™¤æ§åˆ¶å°ã€SourceMap æ§åˆ¶ç­‰ï¼Œæå‡æ‰“åŒ…äº§ç‰©æ€§èƒ½ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { defineConfig ï¼ŒmergeConfig} <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>;
<span class="hljs-keyword">import</span> { visualizer } <span class="hljs-keyword">from</span> <span class="hljs-string">'rollup-plugin-visualizer'</span>; <span class="hljs-comment">// æ‰“åŒ…åˆ†ææ’ä»¶</span>
<span class="hljs-keyword">import</span> baseConfig <span class="hljs-keyword">from</span> <span class="hljs-string">'./vite.base'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">mergeConfig</span>(
  baseConfig,
  <span class="hljs-title function_">defineConfig</span>({
    <span class="hljs-attr">mode</span>: <span class="hljs-string">'production'</span>, <span class="hljs-comment">// ç”Ÿäº§æ¨¡å¼</span>
    <span class="hljs-attr">build</span>: {
      <span class="hljs-attr">minify</span>: <span class="hljs-string">'terser'</span>, <span class="hljs-comment">// ä½¿ç”¨ terser å‹ç¼©ä»£ç ï¼ˆæ¯”é»˜è®¤ esbuild å‹ç¼©æ›´å½»åº•ï¼‰</span>
      <span class="hljs-attr">sourcemap</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// ç”Ÿäº§ç¯å¢ƒå…³é—­ SourceMapï¼ˆä¿æŠ¤æºç ï¼Œå‡å°åŒ…ä½“ç§¯ï¼‰</span>
      <span class="hljs-attr">terserOptions</span>: {
        <span class="hljs-attr">compress</span>: {
          <span class="hljs-attr">drop_console</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ¸…é™¤æ§åˆ¶å°æ‰“å°ï¼ˆç”Ÿäº§ç¯å¢ƒå¯é€‰ï¼‰</span>
          <span class="hljs-attr">drop_debugger</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">// æ¸…é™¤ debugger è¯­å¥</span>
        }
      }
    },
    <span class="hljs-attr">plugins</span>: [
      <span class="hljs-comment">// æ‰“åŒ…åˆ†ææ’ä»¶ï¼ˆå¯é€‰ï¼Œç”Ÿæˆå¯è§†åŒ–æŠ¥å‘Šï¼Œä¼˜åŒ–åŒ…ä½“ç§¯ï¼‰</span>
      <span class="hljs-title function_">visualizer</span>({
        <span class="hljs-attr">open</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// ä¸è‡ªåŠ¨æ‰“å¼€æŠ¥å‘Š</span>
        <span class="hljs-attr">filename</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">'../dist/analysis.html'</span>)
      })
    ]
  })
);
</code></pre>
<h4 data-id="heading-17">4. æ›´æ–° package.json è„šæœ¬</h4>
<p>ä¿®æ”¹å¯åŠ¨ã€æ‰“åŒ…è„šæœ¬ï¼ŒæŒ‡å‘ build æ–‡ä»¶å¤¹ä¸‹çš„å¯¹åº”é…ç½®æ–‡ä»¶ï¼Œå®ç°æŒ‰ç¯å¢ƒåŠ è½½é…ç½®ã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"dev"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vite --config build/vite.dev.ts"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// å¯åŠ¨å¼€å‘ç¯å¢ƒ</span>
  <span class="hljs-attr">"build:dev"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vue-tsc -b &amp;&amp; vite build --config build/vite.dev.ts"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// å¼€å‘ç¯å¢ƒæ‰“åŒ…ï¼ˆæµ‹è¯•ç”¨ï¼‰</span>
  <span class="hljs-attr">"build:test"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vue-tsc -b &amp;&amp; vite build --config build/vite.prod.ts --mode test"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// æµ‹è¯•ç¯å¢ƒæ‰“åŒ…</span>
  <span class="hljs-attr">"build:prod"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vue-tsc -b &amp;&amp; vite build --config build/vite.prod.ts"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ç”Ÿäº§ç¯å¢ƒæ‰“åŒ…</span>
  <span class="hljs-attr">"type-check"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vue-tsc --noEmit"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// TS ç±»å‹æ ¡éªŒï¼ˆä¸ç”Ÿæˆäº§ç‰©ï¼‰</span>
  <span class="hljs-attr">"preview"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vite preview"</span> <span class="hljs-comment">// é¢„è§ˆæ‰“åŒ…äº§ç‰©</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><code>vue-tsc -b</code> ç”¨äºåœ¨æ‰“åŒ…å‰æ‰§è¡Œ TS ç±»å‹æ ¡éªŒï¼Œè‹¥å­˜åœ¨ç±»å‹é”™è¯¯åˆ™ç»ˆæ­¢æ‰“åŒ…ï¼Œé¿å…å¸¦é”™ä¸Šçº¿ï¼›<code>--mode</code> å‚æ•°ç”¨äºæŒ‡å®šç¯å¢ƒï¼ŒåŒ¹é… env æ–‡ä»¶å¤¹ä¸‹çš„é…ç½®æ–‡ä»¶ã€‚</p>
<h2 data-id="heading-18">ä¸‰ã€é›†æˆä»£ç è§„èŒƒå·¥å…·ï¼ˆESLint + Prettierï¼‰</h2>
<p>ç»Ÿä¸€ä»£ç é£æ ¼ï¼Œå‡å°‘å›¢é˜Ÿåä½œå†²çªï¼Œè‡ªåŠ¨ä¿®å¤æ ¼å¼é—®é¢˜ï¼Œç¡®ä¿ä»£ç è´¨é‡ã€‚éœ€å…ˆåœ¨ VS Code å®‰è£… <code>ESLint</code>ã€<code>Prettier</code> æ’ä»¶ã€‚</p>
<h3 data-id="heading-19">æ­¥éª¤ 1ï¼šå®‰è£…ä¾èµ–</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ESLint æ ¸å¿ƒåŠ Vue/TS é€‚é…ä¾èµ–</span>
cnpm i eslint @eslint/js typescript-eslint @typescript-eslint/parser @typescript-eslint/plugin eslint-plugin-vue vue-eslint-parser -D

<span class="hljs-comment"># Prettier åŠ ESLint å…¼å®¹ä¾èµ–ï¼ˆè§£å†³ä¸¤è€…è§„åˆ™å†²çªï¼‰</span>
cnpm i prettier eslint-config-prettier eslint-plugin-prettier -D

<span class="hljs-comment"># Vite ESLint æ’ä»¶ï¼ˆå¼€å‘æ—¶å®æ—¶æ ¡éªŒï¼‰</span>
cnpm i vite-plugin-eslint -D
</code></pre>
<h3 data-id="heading-20">æ­¥éª¤ 2ï¼šé…ç½® ESLintï¼ˆeslint.config.jsï¼‰</h3>
<p>ESLint 8.21.0+ æ”¯æŒæ‰å¹³é…ç½®æ–‡ä»¶ï¼Œé€‚é… Vue3+TS è¯­æ³•ï¼Œé›†æˆ Prettier è§„åˆ™ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> globals <span class="hljs-keyword">from</span> <span class="hljs-string">"globals"</span>;
<span class="hljs-keyword">import</span> pluginJs <span class="hljs-keyword">from</span> <span class="hljs-string">"@eslint/js"</span>;
<span class="hljs-keyword">import</span> tseslint <span class="hljs-keyword">from</span> <span class="hljs-string">"typescript-eslint"</span>;
<span class="hljs-keyword">import</span> pluginVue <span class="hljs-keyword">from</span> <span class="hljs-string">"eslint-plugin-vue"</span>;
<span class="hljs-keyword">import</span> prettier <span class="hljs-keyword">from</span> <span class="hljs-string">"eslint-plugin-prettier"</span>;
<span class="hljs-keyword">import</span> prettierConfig <span class="hljs-keyword">from</span> <span class="hljs-string">"eslint-config-prettier"</span>;
<span class="hljs-keyword">import</span> eslintParser <span class="hljs-keyword">from</span> <span class="hljs-string">"vue-eslint-parser"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> [
  <span class="hljs-comment">// é…ç½®å¿½ç•¥æ–‡ä»¶ï¼ˆæ›¿ä»£ä¼ ç»Ÿ .eslintignoreï¼‰</span>
  {
    <span class="hljs-attr">ignores</span>: [
      <span class="hljs-string">"node_modules/**"</span>,
      <span class="hljs-string">"dist/**"</span>,
      <span class="hljs-string">"public/**"</span>,
      <span class="hljs-string">"build/**"</span>,
      <span class="hljs-string">"src/assets/**"</span>,
      <span class="hljs-string">"*.config.js"</span>,
      <span class="hljs-string">"*.config.ts"</span>
    ]
  },
  <span class="hljs-comment">// åŸºç¡€é…ç½®ï¼ˆé€‚é… Vue/TS æ–‡ä»¶ï¼‰</span>
  {
    <span class="hljs-attr">files</span>: [<span class="hljs-string">"**/*.{js,mjs,cjs,vue,ts,tsx}"</span>],
    <span class="hljs-attr">languageOptions</span>: {
      <span class="hljs-attr">parser</span>: eslintParser, <span class="hljs-comment">// è§£æ Vue å•æ–‡ä»¶ç»„ä»¶</span>
      <span class="hljs-attr">parserOptions</span>: {
        <span class="hljs-attr">parser</span>: <span class="hljs-string">"@typescript-eslint/parser"</span>, <span class="hljs-comment">// è§£æ TS è¯­æ³•</span>
        <span class="hljs-attr">ecmaVersion</span>: <span class="hljs-number">2020</span>,
        <span class="hljs-attr">sourceType</span>: <span class="hljs-string">"module"</span>
      },
      <span class="hljs-attr">globals</span>: { ...globals.<span class="hljs-property">browser</span>, ...globals.<span class="hljs-property">node</span> } <span class="hljs-comment">// å…¨å±€å˜é‡</span>
    },
    <span class="hljs-attr">plugins</span>: {
      <span class="hljs-attr">vue</span>: pluginVue,
      <span class="hljs-string">"@typescript-eslint"</span>: tseslint.<span class="hljs-property">plugin</span>,
      <span class="hljs-attr">prettier</span>: prettier <span class="hljs-comment">// é›†æˆ Prettier</span>
    },
    <span class="hljs-attr">rules</span>: {
      <span class="hljs-comment">// åŸºç¡€è§„åˆ™</span>
      <span class="hljs-string">"no-var"</span>: <span class="hljs-string">"error"</span>, <span class="hljs-comment">// ç¦æ­¢ä½¿ç”¨ var</span>
      <span class="hljs-string">"no-console"</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> === <span class="hljs-string">"production"</span> ? <span class="hljs-string">"error"</span> : <span class="hljs-string">"off"</span>, <span class="hljs-comment">// ç”Ÿäº§ç¯å¢ƒç¦æ­¢ console</span>
      <span class="hljs-string">"no-multiple-empty-lines"</span>: [<span class="hljs-string">"warn"</span>, { <span class="hljs-attr">max</span>: <span class="hljs-number">1</span> }], <span class="hljs-comment">// æœ€å¤šå…è®¸ 1 è¡Œç©ºè¡Œ</span>
      
      <span class="hljs-comment">// Vue è§„åˆ™</span>
      <span class="hljs-string">"vue/multi-word-component-names"</span>: <span class="hljs-string">"off"</span>, <span class="hljs-comment">// å…³é—­ç»„ä»¶åå¤šå•è¯æ ¡éªŒï¼ˆçµæ´»å‘½åï¼‰</span>
      <span class="hljs-string">"vue/valid-template-root"</span>: <span class="hljs-string">"off"</span>, <span class="hljs-comment">// å…è®¸æ¨¡æ¿æ ¹èŠ‚ç‚¹å¤šå…ƒç´ </span>
      
      <span class="hljs-comment">// TS è§„åˆ™</span>
      <span class="hljs-string">"@typescript-eslint/no-explicit-any"</span>: <span class="hljs-string">"off"</span>, <span class="hljs-comment">// å…è®¸ä½¿ç”¨ anyï¼ˆå¯é€‰ï¼Œæ ¹æ®å›¢é˜Ÿè§„èŒƒè°ƒæ•´ï¼‰</span>
      <span class="hljs-string">"no-unused-vars"</span>: [<span class="hljs-string">"error"</span>, { <span class="hljs-string">"varsIgnorePattern"</span>: <span class="hljs-string">"Vue"</span> }], <span class="hljs-comment">// å¿½ç•¥ Vue æœªä½¿ç”¨è­¦å‘Š</span>
      
      <span class="hljs-comment">// Prettier è§„åˆ™ï¼ˆå°† Prettier é”™è¯¯ä½œä¸º ESLint é”™è¯¯æç¤ºï¼‰</span>
      <span class="hljs-string">"prettier/prettier"</span>: <span class="hljs-string">"error"</span>
    }
  },
  <span class="hljs-comment">// é›†æˆæ¨èè§„åˆ™</span>
  pluginJs.<span class="hljs-property">configs</span>.<span class="hljs-property">recommended</span>,
  ...tseslint.<span class="hljs-property">configs</span>.<span class="hljs-property">recommended</span>,
  ...pluginVue.<span class="hljs-property">configs</span>[<span class="hljs-string">"flat/essential"</span>],
  ...pluginVue.<span class="hljs-property">configs</span>[<span class="hljs-string">"flat/recommended"</span>],
  prettierConfig <span class="hljs-comment">// è¦†ç›– ESLint ä¸ Prettier å†²çªçš„è§„åˆ™</span>
];
</code></pre>
<h3 data-id="heading-21">æ­¥éª¤ 3ï¼šé…ç½® Prettierï¼ˆ.prettierrc.jsï¼‰</h3>
<p>å®šä¹‰ä»£ç æ ¼å¼åŒ–è§„åˆ™ï¼Œä¸ ESLint è§„åˆ™å…¼å®¹ï¼Œç»Ÿä¸€å›¢é˜Ÿä»£ç é£æ ¼ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">module</span>.<span class="hljs-keyword">exports</span> = {
  printWidth: <span class="hljs-number">80</span>, <span class="hljs-comment">// ä¸€è¡Œæœ€å¤š 80 å­—ç¬¦</span>
  tabWidth: <span class="hljs-number">2</span>, <span class="hljs-comment">// 2 ä¸ªç©ºæ ¼ç¼©è¿›ï¼ˆä¸ Vue å®˜æ–¹ä¸€è‡´ï¼‰</span>
  useTabs: <span class="hljs-literal">false</span>, <span class="hljs-comment">// ä¸ä½¿ç”¨ Tab ç¼©è¿›</span>
  semi: <span class="hljs-literal">true</span>, <span class="hljs-comment">// è¡Œå°¾æ·»åŠ åˆ†å·</span>
  singleQuote: <span class="hljs-literal">true</span>, <span class="hljs-comment">// ä½¿ç”¨å•å¼•å·</span>
  quoteProps: <span class="hljs-string">"as-needed"</span>, <span class="hljs-comment">// å¯¹è±¡ key ä»…å¿…è¦æ—¶åŠ å¼•å·</span>
  jsxSingleQuote: <span class="hljs-literal">false</span>, <span class="hljs-comment">// JSX ä¸­ä½¿ç”¨åŒå¼•å·</span>
  trailingComma: <span class="hljs-string">"all"</span>, <span class="hljs-comment">// å¯¹è±¡/æ•°ç»„æœ«å°¾æ·»åŠ é€—å·ï¼ˆä¾¿äº diffï¼‰</span>
  bracketSpacing: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å¤§æ‹¬å·å†…ä¿ç•™ç©ºæ ¼ { foo: bar }</span>
  jsxBracketSameLine: <span class="hljs-literal">false</span>, <span class="hljs-comment">// JSX é—­åˆæ ‡ç­¾æ¢è¡Œ</span>
  arrowParens: <span class="hljs-string">"always"</span>, <span class="hljs-comment">// ç®­å¤´å‡½æ•°å•å‚æ•°ä¹ŸåŠ æ‹¬å· (x) =&gt; x</span>
  endOfLine: <span class="hljs-string">"auto"</span> <span class="hljs-comment">// è‡ªåŠ¨é€‚é…ç³»ç»Ÿæ¢è¡Œç¬¦</span>
};
</code></pre>
<h3 data-id="heading-22">æ­¥éª¤ 4ï¼šé…ç½® VS Code è‡ªåŠ¨æ ¼å¼åŒ–ï¼ˆ.vscode/settings.jsonï¼‰</h3>
<p>å®ç°ä¿å­˜æ—¶è‡ªåŠ¨ä¿®å¤ ESLint é”™è¯¯å¹¶æ‰§è¡Œ Prettier æ ¼å¼åŒ–ï¼Œæå‡å¼€å‘æ•ˆç‡ã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"eslint.enable"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"eslint.format.enable"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"editor.quickSuggestions"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"eslint.validate"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"javascript"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"javascriptreact"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"vue-html"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"typescript"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"html"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"vue"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"eslint.options"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"extensions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">".js"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">".jsx"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">".ts"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">".tsx"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">".vue"</span><span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"editor.formatOnSave"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ä¿å­˜æ—¶æ ¼å¼åŒ–</span>
  <span class="hljs-attr">"editor.codeActionsOnSave"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"source.fixAll.eslint"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"explicit"</span> <span class="hljs-comment">// ä¿å­˜æ—¶è‡ªåŠ¨ä¿®å¤ ESLint é”™è¯¯</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-comment">// ä¸åŒæ–‡ä»¶æŒ‡å®šé»˜è®¤æ ¼å¼åŒ–å·¥å…·</span>
  <span class="hljs-attr">"editor.defaultFormatter"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"esbenp.prettier-vscode"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"[vue]"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"editor.defaultFormatter"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"esbenp.prettier-vscode"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"[typescript]"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"editor.defaultFormatter"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"esbenp.prettier-vscode"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-23">æ­¥éª¤ 5ï¼šæ·»åŠ è„šæœ¬å‘½ä»¤</h3>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
  <span class="hljs-comment">// æ–°å¢ ESLint/Prettier å‘½ä»¤</span>
  <span class="hljs-attr">"lint"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"eslint "</span>src<span class="hljs-comment">/**/</span>*.<span class="hljs-punctuation">{</span>js<span class="hljs-punctuation">,</span>ts<span class="hljs-punctuation">,</span>vue<span class="hljs-punctuation">,</span>tsx<span class="hljs-punctuation">}</span><span class="hljs-string">" --fix"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// è‡ªåŠ¨ä¿®å¤ ESLint é”™è¯¯</span>
  <span class="hljs-attr">"prettier"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"prettier --write "</span>src<span class="hljs-comment">/**/</span>*.<span class="hljs-punctuation">{</span>js<span class="hljs-punctuation">,</span>ts<span class="hljs-punctuation">,</span>vue<span class="hljs-punctuation">,</span>tsx<span class="hljs-punctuation">,</span>json<span class="hljs-punctuation">,</span>css<span class="hljs-punctuation">}</span><span class="hljs-string">""</span> <span class="hljs-comment">// è‡ªåŠ¨æ ¼å¼åŒ–</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h2 data-id="heading-24">å››ã€é›†æˆ Git æäº¤è§„èŒƒï¼ˆHusky + Lint-Staged + CommitLintï¼‰</h2>
<p>çº¦æŸ Git æäº¤ä¿¡æ¯ï¼Œåœ¨æäº¤å‰æ ¡éªŒä»£ç è§„èŒƒï¼Œé¿å…ä¸åˆæ ¼ä»£ç å…¥åº“ï¼Œä¿éšœä»£ç ä»“åº“æ•´æ´ã€‚</p>
<h3 data-id="heading-25">æ­¥éª¤ 1ï¼šåˆå§‹åŒ– Git ä»“åº“ï¼ˆè‹¥æœªåˆå§‹åŒ–ï¼‰</h3>
<pre><code class="hljs language-csharp" lang="csharp">git <span class="hljs-keyword">init</span>
</code></pre>
<h3 data-id="heading-26">æ­¥éª¤ 2ï¼šå®‰è£…ä¾èµ–</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"># Huskyï¼ˆGit Hook å·¥å…·ï¼‰ã€Lint-Stagedï¼ˆæš‚å­˜åŒºä»£ç æ ¡éªŒï¼‰
cnpm i <span class="hljs-symbol">husky@</span><span class="hljs-number">9.1</span><span class="hljs-number">.2</span> lint-<span class="hljs-symbol">staged@</span>^<span class="hljs-number">15.2</span><span class="hljs-number">.7</span> -D

# CommitLintï¼ˆæäº¤ä¿¡æ¯æ ¡éªŒï¼‰
cnpm i <span class="hljs-meta">@commitlint</span>/<span class="hljs-symbol">cli@</span>^<span class="hljs-number">19.3</span><span class="hljs-number">.0</span> <span class="hljs-meta">@commitlint</span>/config-<span class="hljs-symbol">conventional@</span>^<span class="hljs-number">19.2</span><span class="hljs-number">.2</span> -D
</code></pre>
<h3 data-id="heading-27">æ­¥éª¤ 3ï¼šé…ç½® Husky</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç”Ÿæˆ .husky æ–‡ä»¶å¤¹ï¼ˆå­˜å‚¨ Git Hook è„šæœ¬ï¼‰</span>
npx husky init

<span class="hljs-comment"># æ‰‹åŠ¨åˆ›å»º pre-commitï¼ˆæäº¤å‰æ ¡éªŒï¼‰å’Œ commit-msgï¼ˆæäº¤ä¿¡æ¯æ ¡éªŒï¼‰è„šæœ¬</span>
<span class="hljs-built_in">touch</span> .husky/pre-commit
<span class="hljs-built_in">touch</span> .husky/commit-msg
</code></pre>
<h3 data-id="heading-28">æ­¥éª¤ 4ï¼šç¼–å†™ Hook è„šæœ¬</h3>
<ul>
<li><strong>.husky/pre-commit</strong>ï¼ˆæäº¤å‰æ ¡éªŒæš‚å­˜åŒºä»£ç ï¼‰ <code> #!/bin/sh  `` . "$(dirname -- "$0")/_/husky.sh"  ```` echo -e "\033[33m ------------- æ­£åœ¨æ ¡éªŒæš‚å­˜åŒºä»£ç è§„èŒƒ ---------------- \033[0m"  ``npx --no-install lint-staged</code></li>
<li><strong>.husky/commit-msg</strong>ï¼ˆæ ¡éªŒæäº¤ä¿¡æ¯æ ¼å¼ï¼‰ <code> #!/bin/sh  `` . "$(dirname -- "$0")/_/husky.sh"  ```` echo -e "\033[33m ------------- æ­£åœ¨æ ¡éªŒæäº¤ä¿¡æ¯æ ¼å¼ ---------------- \033[0m"  ``npx --no-install commitlint --edit "$1"</code></li>
</ul>
<h3 data-id="heading-29">æ­¥éª¤ 5ï¼šé…ç½® Lint-Stagedï¼ˆpackage.jsonï¼‰</h3>
<p>ä»…å¯¹æš‚å­˜åŒºä»£ç æ‰§è¡Œæ ¡éªŒå’Œæ ¼å¼åŒ–ï¼Œæå‡æ•ˆç‡ï¼ˆé¿å…å…¨é‡æ ¡éªŒï¼‰ã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"lint-staged"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"src/**/*.{vue,js,jsx,ts,tsx}"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"eslint --fix"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// è‡ªåŠ¨ä¿®å¤ ESLint é”™è¯¯</span>
    <span class="hljs-string">"prettier --write"</span> <span class="hljs-comment">// æ ¼å¼åŒ–ä»£ç </span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"src/**/*.{cjs,json,css}"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"prettier --write"</span> <span class="hljs-comment">// æ ¼å¼åŒ–é…ç½®æ–‡ä»¶å’Œæ ·å¼æ–‡ä»¶</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-30">æ­¥éª¤ 6ï¼šé…ç½® CommitLintï¼ˆcommitlint.config.cjsï¼‰</h3>
<p>ç”±äº package.json é»˜è®¤ä¸º ES æ¨¡å—ï¼Œéœ€ç”¨ <code>.cjs</code> åç¼€å£°æ˜ CommonJS æ ¼å¼ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">module</span>.<span class="hljs-keyword">exports</span> = {
  ignores: [commit =&gt; commit.includes(<span class="hljs-string">'init'</span>)], <span class="hljs-comment">// å¿½ç•¥ init åˆå§‹åŒ–æäº¤</span>
  extends: [<span class="hljs-string">'@commitlint/config-conventional'</span>], <span class="hljs-comment">// åŸºç¡€è§„èŒƒ</span>
  rules: {
    <span class="hljs-string">'body-leading-blank'</span>: [<span class="hljs-number">2</span>, <span class="hljs-string">'always'</span>], <span class="hljs-comment">// æäº¤æè¿°ä¸»ä½“å‰ç©ºè¡Œ</span>
    <span class="hljs-string">'footer-leading-blank'</span>: [<span class="hljs-number">1</span>, <span class="hljs-string">'always'</span>], <span class="hljs-comment">// åº•éƒ¨è¯´æ˜å‰ç©ºè¡Œ</span>
    <span class="hljs-string">'header-max-length'</span>: [<span class="hljs-number">2</span>, <span class="hljs-string">'always'</span>, <span class="hljs-number">108</span>], <span class="hljs-comment">// æ ‡é¢˜æœ€å¤§é•¿åº¦ 108</span>
    <span class="hljs-string">'subject-empty'</span>: [<span class="hljs-number">2</span>, <span class="hljs-string">'never'</span>], <span class="hljs-comment">// æ ‡é¢˜ä¸å¯ä¸ºç©º</span>
    <span class="hljs-string">'type-empty'</span>: [<span class="hljs-number">2</span>, <span class="hljs-string">'never'</span>], <span class="hljs-comment">// ç±»å‹ä¸å¯ä¸ºç©º</span>
    <span class="hljs-string">'type-enum'</span>: [ <span class="hljs-comment">// å…è®¸çš„æäº¤ç±»å‹ï¼ˆè§„èŒƒæäº¤åœºæ™¯ï¼‰</span>
      <span class="hljs-number">2</span>,
      <span class="hljs-string">'always'</span>,
      [
        <span class="hljs-string">'wip'</span>, <span class="hljs-comment">// å¼€å‘ä¸­</span>
        <span class="hljs-string">'feat'</span>, <span class="hljs-comment">// æ–°å¢åŠŸèƒ½</span>
        <span class="hljs-string">'fix'</span>, <span class="hljs-comment">// ä¿®å¤ Bug</span>
        <span class="hljs-string">'test'</span>, <span class="hljs-comment">// æµ‹è¯•ç›¸å…³</span>
        <span class="hljs-string">'refactor'</span>, <span class="hljs-comment">// ä»£ç é‡æ„</span>
        <span class="hljs-string">'build'</span>, <span class="hljs-comment">// æ„å»ºé…ç½®ï¼ˆå¦‚ä¾èµ–ã€æ‰“åŒ…ï¼‰</span>
        <span class="hljs-string">'docs'</span>, <span class="hljs-comment">// æ–‡æ¡£æ›´æ–°</span>
        <span class="hljs-string">'perf'</span>, <span class="hljs-comment">// æ€§èƒ½ä¼˜åŒ–</span>
        <span class="hljs-string">'style'</span>, <span class="hljs-comment">// ä»£ç é£æ ¼ï¼ˆä¸å½±å“é€»è¾‘ï¼‰</span>
        <span class="hljs-string">'ci'</span>, <span class="hljs-comment">// æŒç»­é›†æˆé…ç½®</span>
        <span class="hljs-string">'chore'</span>, <span class="hljs-comment">// çäº‹ï¼ˆå¦‚é…ç½®æ–‡ä»¶ä¿®æ”¹ï¼‰</span>
        <span class="hljs-string">'revert'</span>, <span class="hljs-comment">// å›æ»šä»£ç </span>
        <span class="hljs-string">'types'</span>, <span class="hljs-comment">// ç±»å‹å£°æ˜æ›´æ–°</span>
        <span class="hljs-string">'release'</span> <span class="hljs-comment">// ç‰ˆæœ¬å‘å¸ƒ</span>
      ]
    ]
  }
};
</code></pre>
<h3 data-id="heading-31">æäº¤æ ¼å¼è§„èŒƒ</h3>
<pre><code class="hljs language-sql" lang="sql">git <span class="hljs-keyword">commit</span> <span class="hljs-operator">-</span>m "&lt;type&gt;[optional scope]: &lt;description&gt;"

# ç¤ºä¾‹
git <span class="hljs-keyword">commit</span> <span class="hljs-operator">-</span>m "feat[user]: æ–°å¢ç”¨æˆ·ç™»å½•åŠŸèƒ½"
git <span class="hljs-keyword">commit</span> <span class="hljs-operator">-</span>m "fix[api]: ä¿®å¤ç”¨æˆ·åˆ—è¡¨æ¥å£è·¨åŸŸé—®é¢˜"
</code></pre>
<p>è¯´æ˜ï¼š<code>type</code> ä¸ºæäº¤ç±»å‹ï¼ˆå¿…å¡«ï¼‰ï¼Œ<code>optional scope</code> ä¸ºæ¶‰åŠæ¨¡å—ï¼ˆå¯é€‰ï¼‰ï¼Œ<code>description</code> ä¸ºæäº¤æè¿°ï¼ˆå¿…å¡«ï¼Œç®€æ´æ˜äº†ï¼‰ã€‚</p>
<h2 data-id="heading-32">äº”ã€Vue3 ä¸“å±æ’ä»¶é›†æˆï¼ˆæå‡å¼€å‘æ•ˆç‡ï¼‰</h2>
<h3 data-id="heading-33">æ­¥éª¤ 1ï¼šè‡ªåŠ¨å¯¼å…¥ï¼ˆAPI/ç»„ä»¶ï¼‰</h3>
<p>æ— éœ€æ‰‹åŠ¨å¯¼å…¥ Vue å†…ç½® APIï¼ˆå¦‚ refã€reactiveï¼‰å’Œå…¨å±€ç»„ä»¶ï¼Œå‡å°‘æ¨¡æ¿ä»£ç ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£…è‡ªåŠ¨å¯¼å…¥æ’ä»¶</span>
cnpm i unplugin-auto-import unplugin-vue-components -D

<span class="hljs-comment"># è‹¥ä½¿ç”¨ UI åº“ï¼ˆå¦‚ Ant Design Vueï¼‰ï¼Œéœ€å®‰è£…å¯¹åº”è§£æå™¨</span>
cnpm i unplugin-vue-components/resolvers -D
</code></pre>
<p>æ›´æ–° <code>build/vite.base.ts</code>ï¼Œæ·»åŠ æ’ä»¶é…ç½®ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">AutoImport</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'unplugin-auto-import/vite'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Components</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'unplugin-vue-components/vite'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">AntDesignVueResolver</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'unplugin-vue-components/resolvers'</span>; <span class="hljs-comment">// AntD Vue è§£æå™¨</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-comment">// ... åŸæœ‰æ’ä»¶</span>
    <span class="hljs-comment">// è‡ªåŠ¨å¯¼å…¥ Vue API</span>
    <span class="hljs-title class_">AutoImport</span>({
      <span class="hljs-attr">imports</span>: [<span class="hljs-string">'vue'</span>, <span class="hljs-string">'vue-router'</span>, <span class="hljs-string">'pinia'</span>], <span class="hljs-comment">// è‡ªåŠ¨å¯¼å…¥çš„åº“</span>
      <span class="hljs-attr">dts</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">'../src/auto-imports.d.ts'</span>), <span class="hljs-comment">// ç”Ÿæˆç±»å‹å£°æ˜æ–‡ä»¶</span>
      <span class="hljs-attr">eslintrc</span>: {
        <span class="hljs-attr">enabled</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">// ç”Ÿæˆ ESLint é…ç½®ï¼Œé¿å…æœªå¯¼å…¥è­¦å‘Š</span>
      }
    }),
    <span class="hljs-comment">// è‡ªåŠ¨å¯¼å…¥ç»„ä»¶</span>
    <span class="hljs-title class_">Components</span>({
      <span class="hljs-attr">dirs</span>: [path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">'../src/components'</span>)], <span class="hljs-comment">// è‡ªå®šä¹‰ç»„ä»¶ç›®å½•</span>
      <span class="hljs-attr">extensions</span>: [<span class="hljs-string">'vue'</span>, <span class="hljs-string">'tsx'</span>], <span class="hljs-comment">// ç»„ä»¶åç¼€</span>
      <span class="hljs-attr">dts</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">'../src/components.d.ts'</span>), <span class="hljs-comment">// ç”Ÿæˆç»„ä»¶ç±»å‹å£°æ˜</span>
      <span class="hljs-attr">resolvers</span>: [<span class="hljs-title class_">AntDesignVueResolver</span>({ <span class="hljs-attr">importStyle</span>: <span class="hljs-literal">false</span> })], <span class="hljs-comment">// UI åº“ç»„ä»¶è‡ªåŠ¨å¯¼å…¥</span>
    })
  ]
});
</code></pre>
<h3 data-id="heading-34">æ­¥éª¤ 2ï¼šPX è½¬ REMï¼ˆé€‚é…å¤šç«¯ï¼‰</h3>
<p>å®ç°ç§»åŠ¨ç«¯è‡ªé€‚åº”ï¼Œå°† PX è‡ªåŠ¨è½¬ä¸º REMï¼Œæ›¿ä»£æ‰‹åŠ¨è®¡ç®—ã€‚</p>
<pre><code class="hljs language-css" lang="css">cnpm <span class="hljs-selector-tag">i</span> postcss <span class="hljs-keyword">@minko-fe</span>/postcss-pxtorem autoprefixer -D
</code></pre>
<p>æ ¹ç›®å½•åˆ›å»º <code>postcss.config.js</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> pxtorem <span class="hljs-keyword">from</span> <span class="hljs-string">'@minko-fe/postcss-pxtorem'</span>;
<span class="hljs-keyword">import</span> autoprefixer <span class="hljs-keyword">from</span> <span class="hljs-string">'autoprefixer'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-title function_">pxtorem</span>({
      <span class="hljs-attr">rootValue</span>: <span class="hljs-number">16</span>, <span class="hljs-comment">// åŸºå‡†å€¼ï¼ˆ1rem = 16pxï¼Œå¯æ ¹æ®è®¾è®¡ç¨¿è°ƒæ•´ï¼‰</span>
      <span class="hljs-attr">unitPrecision</span>: <span class="hljs-number">5</span>, <span class="hljs-comment">// è½¬æ¢ç²¾åº¦ï¼ˆä¿ç•™ 5 ä½å°æ•°ï¼‰</span>
      <span class="hljs-attr">propList</span>: [<span class="hljs-string">'*'</span>], <span class="hljs-comment">// æ‰€æœ‰å±æ€§éƒ½è½¬æ¢</span>
      <span class="hljs-attr">selectorBlackList</span>: [<span class="hljs-string">'no-rem'</span>], <span class="hljs-comment">// ç±»åå« no-rem çš„ä¸è½¬æ¢</span>
      <span class="hljs-attr">atRules</span>: [<span class="hljs-string">'media'</span>], <span class="hljs-comment">// åª’ä½“æŸ¥è¯¢ä¸­çš„ PX ä¹Ÿè½¬æ¢</span>
      <span class="hljs-attr">exclude</span>: <span class="hljs-regexp">/node_modules/</span> <span class="hljs-comment">// æ’é™¤ç¬¬ä¸‰æ–¹åº“</span>
    }),
    <span class="hljs-title function_">autoprefixer</span>() <span class="hljs-comment">// è‡ªåŠ¨æ·»åŠ  CSS å‰ç¼€ï¼ˆé€‚é…ä½ç‰ˆæœ¬æµè§ˆå™¨ï¼‰</span>
  ]
};
</code></pre>
<h3 data-id="heading-35">æ­¥éª¤ 3ï¼šSVG ç»„ä»¶åŒ–</h3>
<p>å°† SVG å›¾ç‰‡è½¬ä¸º Vue ç»„ä»¶ï¼Œæ”¯æŒæŒ‰éœ€å¼•å…¥å’Œæ ·å¼ä¿®æ”¹ã€‚</p>
<pre><code class="hljs language-css" lang="css">cnpm <span class="hljs-selector-tag">i</span> vite-svg-loader -D
</code></pre>
<p>æ›´æ–° <code>build/vite.base.ts</code>ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">import</span> svgLoader from <span class="hljs-string">'vite-svg-loader'</span>;

<span class="hljs-function"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title">defineConfig</span><span class="hljs-params">({
  plugins: [
    <span class="hljs-comment">// ... åŸæœ‰æ’ä»¶</span>
    svgLoader() <span class="hljs-comment">// è§£æ SVG ä¸º Vue ç»„ä»¶</span>
  ]
})</span></span>;
</code></pre>
<p>ä½¿ç”¨æ–¹å¼ï¼š<code>import Logo from '@/assets/logo.svg';</code>ï¼Œç›´æ¥ä½œä¸ºç»„ä»¶ä½¿ç”¨ <code>&lt;Logo /&gt;</code>ã€‚</p>
<h2 data-id="heading-36">å…­ã€é¡¹ç›®æµ‹è¯•ä¸éªŒè¯</h2>
<ol>
<li><strong>å¼€å‘ç¯å¢ƒå¯åŠ¨</strong>ï¼š<code>cnpm run dev</code>ï¼ŒéªŒè¯çƒ­æ›´æ–°ã€æ¥å£ä»£ç†ã€è‡ªåŠ¨å¯¼å…¥æ˜¯å¦æ­£å¸¸ã€‚</li>
<li><strong>ç±»å‹æ ¡éªŒ</strong>ï¼š<code>cnpm run type-check</code>ï¼Œç¡®ä¿æ—  TS ç±»å‹é”™è¯¯ã€‚</li>
<li><strong>ä»£ç è§„èŒƒæ ¡éªŒ</strong>ï¼š<code>cnpm run lint</code>ï¼Œè‡ªåŠ¨ä¿®å¤æ ¼å¼é”™è¯¯ã€‚</li>
<li><strong>ç”Ÿäº§ç¯å¢ƒæ‰“åŒ…</strong>ï¼š<code>cnpm run build:prod</code>ï¼ŒéªŒè¯æ‰“åŒ…äº§ç‰©æ˜¯å¦æ­£å¸¸ï¼Œä½“ç§¯æ˜¯å¦åˆç†ã€‚</li>
<li><strong>æäº¤æµ‹è¯•</strong>ï¼šä¿®æ”¹ä»£ç åæ‰§è¡Œ <code>git add .</code>ã€<code>git commit -m "test: æµ‹è¯•æäº¤è§„èŒƒ"</code>ï¼ŒéªŒè¯ Husky æ ¡éªŒæ˜¯å¦ç”Ÿæ•ˆã€‚</li>
</ol>
<h2 data-id="heading-37">ä¸ƒã€æ€»ç»“</h2>
<p>æœ¬æŒ‡å—æ„å»ºäº†ä¸€å¥—ä¼ä¸šçº§ Vue3+Vite+TS é¡¹ç›®æ¶æ„ï¼Œæ ¸å¿ƒäº®ç‚¹ï¼š</p>
<ul>
<li>å¤šç¯å¢ƒé…ç½®æ‹†åˆ†ï¼Œç¯å¢ƒéš”ç¦»æ¸…æ™°ï¼Œå¯å¿«é€Ÿæ‰©å±•æµ‹è¯•ç¯å¢ƒã€‚</li>
<li>å®Œæ•´ä»£ç è§„èŒƒä½“ç³»ï¼Œä»å¼€å‘åˆ°æäº¤å…¨æµç¨‹çº¦æŸï¼Œä¿éšœä»£ç è´¨é‡ã€‚</li>
<li>Vue3 ä¸“å±æ’ä»¶é›†æˆï¼Œè‡ªåŠ¨å¯¼å…¥ã€è‡ªé€‚åº”ç­‰åŠŸèƒ½æå‡å¼€å‘æ•ˆç‡ã€‚</li>
<li>é…ç½®ç»“æ„æ¸…æ™°ï¼Œbuild æ–‡ä»¶å¤¹é›†ä¸­ç®¡ç†é…ç½®ï¼Œä¾¿äºåæœŸç»´æŠ¤ã€‚</li>
</ul>
<p>å¯æ ¹æ®é¡¹ç›®éœ€æ±‚æ‰©å±• Piniaï¼ˆçŠ¶æ€ç®¡ç†ï¼‰ã€Vue Routerï¼ˆè·¯ç”±ï¼‰ã€å•å…ƒæµ‹è¯•ç­‰åŠŸèƒ½ï¼Œé€‚é…æ›´å¤æ‚çš„ä¸šåŠ¡åœºæ™¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[HTTP-æ·±å…¥æµ…å‡º TCP åè®®ï¼šä»æŠ¥æ–‡ç»“æ„åˆ°ä¸‰æ¬¡æ¡æ‰‹ä¸å››æ¬¡æŒ¥æ‰‹]]></title>    <link>https://juejin.cn/post/7600034446946861094</link>    <guid>https://juejin.cn/post/7600034446946861094</guid>    <pubDate>2026-01-28T04:25:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600034446946861094" data-draft-id="7599981538297659442" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="HTTP-æ·±å…¥æµ…å‡º TCP åè®®ï¼šä»æŠ¥æ–‡ç»“æ„åˆ°ä¸‰æ¬¡æ¡æ‰‹ä¸å››æ¬¡æŒ¥æ‰‹"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•,HTTP"/> <meta itemprop="datePublished" content="2026-01-28T04:25:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‘ç°ä¸€åªå¤§å‘†ç“œ"/> <meta itemprop="url" content="https://juejin.cn/user/180747382561607"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            HTTP-æ·±å…¥æµ…å‡º TCP åè®®ï¼šä»æŠ¥æ–‡ç»“æ„åˆ°ä¸‰æ¬¡æ¡æ‰‹ä¸å››æ¬¡æŒ¥æ‰‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/180747382561607/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‘ç°ä¸€åªå¤§å‘†ç“œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T04:25:41.000Z" title="Wed Jan 28 2026 04:25:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>åœ¨è®¡ç®—æœºç½‘ç»œä¸­ï¼Œ<strong>TCP (Transmission Control Protocol)</strong> å°±åƒæ˜¯ä¸€ä½æå…¶è´Ÿè´£çš„â€œå¿«é€’å‘˜â€ã€‚å®ƒä¸è¿½æ±‚æé€Ÿï¼ˆé‚£æ˜¯ UDP çš„äº‹ï¼‰ï¼Œä½†å®ƒä¿è¯æ¯ä¸€ä»½æ•°æ®éƒ½èƒ½<strong>ä¸ä¸¢ã€ä¸é‡ã€æŒ‰åº</strong>åœ°é€è¾¾ç›®çš„åœ°ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€ TCP æ ¸å¿ƒç‰¹æ€§ï¼šä¸ºä»€ä¹ˆå®ƒå¦‚æ­¤å¯é ï¼Ÿ</h2>
<ul>
<li><strong>é¢å‘è¿æ¥</strong>ï¼šé€šä¿¡å‰å¿…é¡»â€œç‚¹å¯¹ç‚¹â€å»ºç«‹è¿æ¥ã€‚</li>
<li><strong>å¯é ä¼ è¾“</strong>ï¼šé€šè¿‡åºåˆ—å·ã€ç¡®è®¤åº”ç­”ã€è¶…æ—¶é‡ä¼ æœºåˆ¶å®ç°æ— å·®é”™ä¼ è¾“ã€‚</li>
<li><strong>å…¨åŒå·¥é€šä¿¡</strong>ï¼šè¿æ¥å»ºç«‹åï¼ŒåŒæ–¹å¯ä»¥åŒæ—¶å‘é€å’Œæ¥æ”¶æ•°æ®ã€‚</li>
<li><strong>é¢å‘å­—èŠ‚æµ</strong>ï¼šæ•°æ®è¢«è§†ä¸ºæ— ç»“æ„çš„å­—èŠ‚æµï¼Œç”± TCP æ ¹æ®çª—å£å¤§å°è¿›è¡Œåˆ†æ®µã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-2">äºŒã€ è¯»æ‡‚ TCP æŠ¥æ–‡ï¼šé‚£äº›å…³é”®çš„â€œä¿¡å·ç¯â€</h2>
<p>åœ¨ç†è§£æ¡æ‰‹ä¹‹å‰ï¼Œå¿…é¡»å…ˆçœ‹æ‡‚æŠ¥æ–‡é¦–éƒ¨ä¸­çš„æ ¸å¿ƒå­—æ®µï¼š</p>
<h3 data-id="heading-3">1. åºåˆ—å·ä¸ç¡®è®¤</h3>
<ul>
<li><strong>Sequence Number (seq)</strong> ï¼šæŠ¥æ–‡æ®µå‘é€çš„ç¬¬ä¸€ä¸ªå­—èŠ‚çš„åºå·ï¼Œä¿è¯äº†æ•°æ®çš„<strong>æœ‰åºæ€§</strong>ã€‚</li>
<li><strong>Acknowledgement Number (ack)</strong> ï¼šæŒ‡æœŸæœ›æ”¶åˆ°å¯¹æ–¹ä¸‹ä¸€ä¸ªæŠ¥æ–‡æ®µçš„ç¬¬ä¸€ä¸ªå­—èŠ‚åºå·ï¼Œä»£è¡¨æ­¤å‰çš„åºå·å·²æˆåŠŸæ¥æ”¶ã€‚</li>
</ul>
<h3 data-id="heading-4">2. æ§åˆ¶ä½ï¼ˆæ ‡å¿—ç¬¦ï¼‰</h3>
<p>è¿™äº› 1 bit çš„æ ‡å¿—ä½å†³å®šäº†æŠ¥æ–‡çš„â€œæ€§æ ¼â€ï¼š</p>
<ul>
<li><strong>SYN=1</strong>ï¼šè¯·æ±‚å»ºç«‹è¿æ¥ã€‚</li>
<li><strong>ACK=1</strong>ï¼šç¡®è®¤å·æœ‰æ•ˆã€‚TCP è§„å®šè¿æ¥å»ºç«‹åæ‰€æœ‰æŠ¥æ–‡ ACK å¿…é¡»ç½® 1ã€‚</li>
<li><strong>FIN=1</strong>ï¼šè¯·æ±‚é‡Šæ”¾è¿æ¥ã€‚</li>
<li><strong>RST=1</strong>ï¼šè¿æ¥å‡ºç°ä¸¥é‡é—®é¢˜ï¼Œå¼ºåˆ¶é‡ç½®ã€‚</li>
<li><strong>PSH=1</strong>ï¼šå°½å¿«äº¤ä»˜åº”ç”¨å±‚ï¼Œä¸è¦ç­‰ç¼“å†²åŒºæ»¡ã€‚</li>
<li><strong>URG=1</strong>ï¼šç´§æ€¥æ•°æ®ä¼˜å…ˆå¤„ç†ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-5">ä¸‰ã€ ä¸‰æ¬¡æ¡æ‰‹ï¼šå¦‚ä½•å®‰å…¨åœ°â€œæ¡ä½â€å¯¹æ–¹ï¼Ÿ</h2>
<p>ä¸‰æ¬¡æ¡æ‰‹çš„æ ¸å¿ƒç›®çš„ï¼š<strong>ç¡®è®¤åŒæ–¹çš„æ”¶å‘èƒ½åŠ›å‡æ­£å¸¸ï¼Œå¹¶åŒæ­¥åˆå§‹åºåˆ—å·ã€‚</strong></p>
<ol>
<li>
<p><strong>ç¬¬ä¸€æ¬¡æ¡æ‰‹</strong>ï¼šå®¢æˆ·ç«¯å‘é€ <code>SYN=1, seq=x</code>ã€‚å®¢æˆ·ç«¯è¿›å…¥ <code>SYN-SENT</code> çŠ¶æ€ã€‚</p>
</li>
<li>
<p><strong>ç¬¬äºŒæ¬¡æ¡æ‰‹</strong>ï¼šæœåŠ¡ç«¯è¿”å› <code>SYN=1, ACK=1, seq=y, ack=x+1</code>ã€‚æœåŠ¡ç«¯è¿›å…¥ <code>SYN-RECEIVED</code> çŠ¶æ€ã€‚</p>
</li>
<li>
<p><strong>ç¬¬ä¸‰æ¬¡æ¡æ‰‹</strong>ï¼šå®¢æˆ·ç«¯è¿”å› <code>ACK=1, seq=x+1, ack=y+1</code>ã€‚</p>
<ul>
<li><strong>å…³é”®ç‚¹</strong>ï¼šåŒæ–¹æ­¤åå‡è¿›å…¥ <code>ESTABLISHED</code>ï¼ˆå·²å»ºç«‹è¿æ¥ï¼‰çŠ¶æ€ã€‚</li>
</ul>
</li>
</ol>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1ee50143e81542e08897226c7dd1c3cb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-R546w5LiA5Y-q5aSn5ZGG55Oc:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770179145&amp;x-signature=GzsF39se64w59qcEhpYurlA04Bg%3D" alt="image.png" width="70%" loading="lazy"/></p>
<h3 data-id="heading-6">ğŸ’¡ æ·±åº¦æ€è€ƒï¼šä¸ºä»€ä¹ˆä¸æ˜¯ä¸¤æ¬¡ï¼Ÿ</h3>
<p><strong>ä¸ºäº†é˜²æ­¢â€œå·²å¤±æ•ˆçš„è¿æ¥è¯·æ±‚â€çªç„¶åˆ°è¾¾æœåŠ¡ç«¯å¯¼è‡´èµ„æºæµªè´¹ã€‚</strong></p>
<blockquote>
<p>æƒ³è±¡ä¸€ä¸‹ï¼šã€‚å®¢æˆ·ç«¯å‘é€äº†â¼€ä¸ªè¿æ¥è¯·æ±‚ Aï¼Œä½†æ˜¯å› ä¸ºâ½¹ç»œåŸå› é€ æˆäº†è¶…æ—¶ï¼Œè¿™æ—¶ TCP ä¼šå¯åŠ¨è¶…æ—¶é‡ä¼ çš„æœºåˆ¶å†æ¬¡å‘é€â¼€ä¸ªè¿æ¥è¯·æ±‚ Bã€‚æ­¤æ—¶è¯·æ±‚é¡ºåˆ©åˆ°è¾¾æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯åº”ç­”å®Œå°±å»ºâ½´äº†è¯·æ±‚ã€‚å¦‚æœè¿æ¥è¯·æ±‚ A åœ¨ä¸¤ç«¯å…³é—­åç»ˆäºæŠµè¾¾äº†æœåŠ¡ç«¯ï¼Œé‚£ä¹ˆè¿™æ—¶æœåŠ¡ç«¯ä¼šè®¤ä¸ºå®¢æˆ·ç«¯â¼œéœ€è¦å»ºâ½´ TCP è¿æ¥ï¼Œä»â½½åº”ç­”äº†è¯¥è¯·æ±‚å¹¶è¿›â¼Š ESTABLISHED çŠ¶æ€ã€‚æ­¤æ—¶å®¢æˆ·ç«¯å…¶å®æ˜¯ CLOSED çŠ¶ æ€ï¼Œé‚£ä¹ˆå°±ä¼šå¯¼è‡´æœåŠ¡ç«¯â¼€ç›´ç­‰å¾…ï¼Œé€ æˆèµ„æºçš„æµªè´¹ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-7">å››ã€ å››æ¬¡æŒ¥æ‰‹ï¼šä½“é¢çš„â€œåˆ†æ‰‹â€æµç¨‹</h2>
<p>TCP è¿æ¥æ˜¯åŒå‘çš„ï¼Œå› æ­¤æ–­å¼€è¿æ¥æ—¶ï¼Œæ¯ä¸€ç«¯éƒ½è¦å•ç‹¬å…³é—­ã€‚</p>
<ol>
<li><strong>ç¬¬ä¸€æ¬¡æŒ¥æ‰‹</strong>ï¼šä¸»åŠ¨æ–¹å‘é€ <code>FIN=1</code>ï¼Œè¡¨ç¤ºâ€œæˆ‘ä¸å†å‘æ•°æ®äº†â€ã€‚</li>
<li><strong>ç¬¬äºŒæ¬¡æŒ¥æ‰‹</strong>ï¼šè¢«åŠ¨æ–¹è¿”å› <code>ACK=1</code>ã€‚æ­¤æ—¶è¿æ¥å¤„äº<strong>åŠå…³é—­çŠ¶æ€</strong>ï¼Œè¢«åŠ¨æ–¹å¯èƒ½è¿˜æœ‰æ²¡å‘å®Œçš„æ•°æ®è¦ç»§ç»­ä¼ ã€‚</li>
<li><strong>ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹</strong>ï¼šè¢«åŠ¨æ–¹å‘é€å®Œæ•°æ®åï¼Œå‘é€ <code>FIN=1</code>ï¼Œè¡¨ç¤ºâ€œæˆ‘ä¹Ÿå¯ä»¥å…³äº†â€ã€‚</li>
<li><strong>ç¬¬å››æ¬¡æŒ¥æ‰‹</strong>ï¼šä¸»åŠ¨æ–¹è¿”å› <code>ACK=1</code>ã€‚ç»è¿‡ <code>2*MSL</code> æ—¶é—´åï¼Œè¿æ¥å½»åº•å…³é—­ã€‚</li>
</ol>
<h3 data-id="heading-8">ğŸ’¡ æ·±åº¦æ€è€ƒï¼šä¸ºä»€ä¹ˆæŒ¥æ‰‹æ¯”æ¡æ‰‹å¤šä¸€æ¬¡ï¼Ÿ</h3>
<ul>
<li><strong>æ¡æ‰‹æ—¶</strong>ï¼šæœåŠ¡ç«¯å¯ä»¥æŠŠ <code>SYN</code>ï¼ˆè¿æ¥è¯·æ±‚ï¼‰å’Œ <code>ACK</code>ï¼ˆç¡®è®¤ï¼‰æ”¾åœ¨ä¸€ä¸ªåŒ…é‡Œå‘å›å»ã€‚</li>
<li><strong>æŒ¥æ‰‹æ—¶</strong>ï¼šå½“æœåŠ¡ç«¯æ”¶åˆ° <code>FIN</code> æ—¶ï¼Œå®ƒå¯èƒ½è¿˜æœ‰æ•°æ®æ²¡å‘å®Œã€‚æ‰€ä»¥å®ƒå…ˆå›ä¸€ä¸ª <code>ACK</code> è¡¨ç¤ºæ”¶åˆ°äº†ï¼Œç­‰æ•°æ®å‘å®Œäº†æ‰å‘è‡ªå·±çš„ <code>FIN</code>ã€‚<strong>è¿™å°±å¯¼è‡´äº† <code>ACK</code> å’Œ <code>FIN</code> åˆ†å¼€å‘é€ã€‚</strong></li>
</ul>
<hr/>
<h2 data-id="heading-9">äº”ã€ æ€»ç»“ï¼šTCP ä¸æµé‡æ§åˆ¶</h2>
<p>é™¤äº†æ¡æ‰‹æŒ¥æ‰‹ï¼ŒTCP è¿˜é€šè¿‡ <strong>Window Sizeï¼ˆçª—å£å¤§å°ï¼‰</strong> å®ç°äº†æµé‡æ§åˆ¶ï¼š</p>
<ul>
<li>æ¥æ”¶ç«¯æ ¹æ®è‡ªå·±çš„å¤„ç†èƒ½åŠ›å‘Šè¯‰å‘é€ç«¯ï¼šâ€œæˆ‘è¿˜èƒ½æ”¶å¤šå°‘â€ã€‚</li>
<li>è¿™æ ·å¯ä»¥é˜²æ­¢å‘é€ç«¯å‘å¾—å¤ªå¿«ï¼Œå¯¼è‡´æ¥æ”¶ç«¯ç¼“å†²åŒºæº¢å‡ºã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[HTTP-æ·±åº¦æ‹†è§£ UDP ä¸ TCP çš„æ ¸å¿ƒå·®å¼‚]]></title>    <link>https://juejin.cn/post/7599912857393545262</link>    <guid>https://juejin.cn/post/7599912857393545262</guid>    <pubDate>2026-01-28T04:45:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599912857393545262" data-draft-id="7599922362999324718" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="HTTP-æ·±åº¦æ‹†è§£ UDP ä¸ TCP çš„æ ¸å¿ƒå·®å¼‚"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•,HTTP"/> <meta itemprop="datePublished" content="2026-01-28T04:45:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‘ç°ä¸€åªå¤§å‘†ç“œ"/> <meta itemprop="url" content="https://juejin.cn/user/180747382561607"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            HTTP-æ·±åº¦æ‹†è§£ UDP ä¸ TCP çš„æ ¸å¿ƒå·®å¼‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/180747382561607/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‘ç°ä¸€åªå¤§å‘†ç“œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T04:45:49.000Z" title="Wed Jan 28 2026 04:45:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>åœ¨ç½‘ç»œä¼ è¾“å±‚ï¼ŒTCP åƒæ˜¯ä¸€ä½ä¸¥è°¨çš„â€œå¿«é€’å‘˜â€ï¼Œç¡®ä¿åŒ…è£¹ä¸‡æ— ä¸€å¤±ï¼›è€Œ UDP æ›´åƒæ˜¯ä¸€ä½â€œæŠ•é€’å‘˜â€ï¼Œåªç®¡å¿«é€ŸæŠŠä¿¡ä»¶æŠ•è¿›é‚®ç­’ã€‚åœ¨ HTTP/3.0ï¼ˆQUICï¼‰å…¨é¢è½¬å‘ UDP çš„ä»Šå¤©ï¼Œé‡æ–°ç†è§£è¿™ä¸¤ä¸ªåè®®çš„åº•å±‚é€»è¾‘æ˜¾å¾—å°¤ä¸ºé‡è¦ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€ UDPï¼šä¸ºäº†é€Ÿåº¦è€Œç”Ÿçš„â€œè½»éª‘å…µâ€</h2>
<h3 data-id="heading-2">1. æ ¸å¿ƒæ¦‚å¿µ</h3>
<p>UDPï¼ˆUser Datagram Protocolï¼‰æä¾›çš„æ˜¯<strong>æ— è¿æ¥ã€ä¸å¯é </strong>çš„ä¼ è¾“æœåŠ¡ã€‚å®ƒä¸å…³å¿ƒå¯¹æ–¹æ˜¯å¦æ”¶åˆ°ï¼Œåªè´Ÿè´£æŠŠæŠ¥æ–‡â€œæ¨â€å‡ºå»ã€‚</p>
<h3 data-id="heading-3">2. UDPä¸ºä»€ä¹ˆè½»é‡çº§ï¼Ÿ</h3>
<p>TCP çš„é¦–éƒ¨è‡³å°‘ 20 å­—èŠ‚ï¼Œè€Œ UDP åªæœ‰å›ºå®šçš„ <strong>8 å­—èŠ‚</strong>ï¼Œå®ƒæ²¡æœ‰å¤æ‚çš„åºåˆ—å·å’Œçª—å£è°ƒèŠ‚ï¼Œè¿™æ„å‘³ç€ CPU å¤„ç† UDP åŒ…çš„é€Ÿåº¦è¿œé«˜äº TCPã€‚è¿™ 8 ä¸ªå­—èŠ‚è¢«å¹³åˆ†ä¸ºå››ä¸ªå­—æ®µï¼Œæ¯ä¸ªå­—æ®µ 2 å­—èŠ‚ï¼š</p>
<ol>
<li><strong>æºç«¯å£å· (Source Port)</strong> ï¼šå‘é€ç«¯çš„ç«¯å£ï¼Œåœ¨ä¸éœ€è¦å¯¹æ–¹å›ä¿¡æ—¶å¯å…¨ä¸º 0ã€‚</li>
<li><strong>ç›®çš„ç«¯å£å· (Destination Port)</strong> ï¼šæ¥æ”¶ç«¯çš„ç«¯å£ï¼Œå¿…é¡»æŒ‡å®šã€‚</li>
<li><strong>é•¿åº¦ (Length)</strong> ï¼šUDP æŠ¥æ–‡æ®µçš„é•¿åº¦ï¼ˆåŒ…å«é¦–éƒ¨å’Œæ•°æ®ï¼‰ï¼Œæœ€å°å€¼ä¸º 8ã€‚</li>
<li><strong>æ ¡éªŒå’Œ (Checksum)</strong> ï¼šæ£€æµ‹ UDP æŠ¥æ–‡åœ¨ä¼ è¾“ä¸­æ˜¯å¦æœ‰é”™ï¼Œæœ‰é”™å°±ä¸¢å¼ƒã€‚</li>
</ol>
<h3 data-id="heading-4">2. æ ¸å¿ƒç‰¹ç‚¹</h3>
<ul>
<li><strong>æ— è¿æ¥æ—¶å»¶</strong>ï¼šå‘é€æ•°æ®å‰ä¸éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œæ‹¿èµ·å°±å‘ï¼Œå“åº”æå¿«ã€‚</li>
<li><strong>æ— æ‹¥å¡æ§åˆ¶</strong>ï¼šå³ä¾¿ç½‘ç»œç¯å¢ƒæ¶åŠ£ï¼ŒUDP ä¹Ÿä¼šä¿æŒæ’å®šçš„å‘é€é€Ÿç‡ï¼ˆæ‰€ä»¥ç›´æ’­æ‰ä¼šæœ‰â€œå¡é¡¿â€è€Œä¸æ˜¯â€œæš‚åœâ€ï¼‰ã€‚</li>
<li><strong>é¢å‘æŠ¥æ–‡</strong>ï¼šåº”ç”¨å±‚ç»™å¤šå°‘ï¼Œå®ƒå°±ä¼ å¤šå°‘ã€‚ä¸åˆå¹¶ã€ä¸æ‹†åˆ†ï¼Œä¿ç•™äº†æŠ¥æ–‡çš„è¾¹ç•Œã€‚</li>
<li><strong>ä½å¼€é”€é¦–éƒ¨</strong>ï¼šé¦–éƒ¨ä»…å  <strong>8 å­—èŠ‚</strong>ï¼Œç›¸æ¯” TCP çš„ 20 å­—èŠ‚èµ·æ­¥ï¼Œä¼ è¾“æ•ˆç‡æé«˜ã€‚</li>
<li><strong>çµæ´»çš„å¤šæ’­æ€§</strong>ï¼šå¤©ç„¶æ”¯æŒä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šã€å¤šå¯¹å¤šçš„äº¤äº’é€šä¿¡ã€‚</li>
</ul>
<h3 data-id="heading-5">3. åº”ç”¨åœºæ™¯</h3>
<ul>
<li><strong>å®æ—¶æ€§è¦æ±‚é«˜</strong>ï¼šè§†é¢‘ä¼šè®®ã€è¯­éŸ³é€šè¯ã€åœ¨çº¿ç›´æ’­ã€‚</li>
<li><strong>æ•°æ®é‡å°ä¸”é¢‘ç¹</strong>ï¼šDNS æŸ¥è¯¢ï¼ˆä¸€æ¬¡å¾€è¿”å³ç»“æŸï¼‰ã€‚</li>
<li><strong>æ–°å…´åè®®åŸºç¡€</strong>ï¼šHTTP/3.0 (QUIC åè®®)ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-6">äºŒã€ TCP ä¸ UDPï¼šå…¨ç»´åº¦å¯¹æ¯”</h2>
<p>ä¸ºäº†æ–¹ä¾¿è®°å¿†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹è¡¨å¿«é€Ÿå¯¹æ¯”ä¸¤è€…çš„å·®å¼‚ï¼š</p>













































<table><thead><tr><th><strong>ç»´åº¦</strong></th><th><strong>TCP (ä¼ è¾“æ§åˆ¶åè®®)</strong></th><th><strong>UDP (ç”¨æˆ·æ•°æ®æŠ¥åè®®)</strong></th></tr></thead><tbody><tr><td><strong>è¿æ¥æ€§</strong></td><td><strong>é¢å‘è¿æ¥</strong>ï¼ˆéœ€ä¸‰æ¬¡æ¡æ‰‹ï¼‰</td><td><strong>æ— è¿æ¥</strong>ï¼ˆå³å‘å³æ”¶ï¼‰</td></tr><tr><td><strong>å¯é æ€§</strong></td><td><strong>å¯é </strong>ï¼ˆä¿è¯ä¸ä¸¢ã€ä¸é‡ã€æœ‰åºï¼‰</td><td><strong>ä¸å¯é </strong>ï¼ˆå°½åŠ›è€Œä¸ºï¼Œä¸ä¿ç»“æœï¼‰</td></tr><tr><td><strong>ä¼ è¾“æ•ˆç‡</strong></td><td>è¾ƒæ…¢ï¼ˆå› å„ç§æ§åˆ¶æœºåˆ¶ï¼‰</td><td><strong>æå¿«</strong>ï¼ˆåè®®ç®€å•ï¼Œå®æ—¶æ€§å¼ºï¼‰</td></tr><tr><td><strong>èµ„æºæ¶ˆè€—</strong></td><td>è¾ƒé«˜</td><td>è¾ƒä½</td></tr><tr><td><strong>é€šä¿¡æ¨¡å¼</strong></td><td>ä»…é™<strong>ç‚¹å¯¹ç‚¹</strong>ï¼ˆ1å¯¹1ï¼‰</td><td>æ”¯æŒå•æ’­ã€å¤šæ’­ã€å¹¿æ’­</td></tr><tr><td><strong>é¦–éƒ¨å¼€é”€</strong></td><td>20 ~ 60 å­—èŠ‚</td><td><strong>å›ºå®š 8 å­—èŠ‚</strong></td></tr><tr><td><strong>æ•°æ®æµæ§åˆ¶</strong></td><td>æµé‡æ§åˆ¶ã€æ‹¥å¡æ§åˆ¶</td><td>æ— </td></tr></tbody></table>
<hr/>
<h2 data-id="heading-7">ä¸‰ã€ å¦‚ä½•é€‰æ‹©ï¼Ÿï¼ˆæ·±åº¦æ€è€ƒï¼‰</h2>
<ul>
<li>
<p><strong>é€‰ TCP çš„ç†ç”±</strong>ï¼š</p>
<p>å½“ä½ éœ€è¦ç¡®ä¿æ•°æ®çš„<strong>å®Œæ•´æ€§</strong>æ—¶ã€‚æ¯”å¦‚ï¼šå‘é€ä¸€å°é‚®ä»¶ã€ä¸‹è½½ä¸€ä¸ªå®‰è£…åŒ…ã€æˆ–è€…æ˜¯æµè§ˆç½‘é¡µã€‚å¦‚æœä¸­é—´ä¸¢äº†ä¸€ä¸ªå­—ç¬¦ï¼Œæ•´ä¸ªæ–‡ä»¶å¯èƒ½å°±å¤±æ•ˆäº†ã€‚</p>
</li>
<li>
<p><strong>é€‰ UDP çš„ç†ç”±</strong>ï¼š</p>
<p>å½“ä½ çš„åº”ç”¨åœºæ™¯å¯¹<strong>å»¶è¿Ÿæ•æ„Ÿ</strong>ï¼Œä¸”èƒ½å®¹å¿å°‘é‡æ•°æ®ä¸¢å¤±æ—¶ã€‚æ¯”å¦‚ï¼šç›´æ’­é‡Œå°‘äº†ä¸€å¸§ç”»é¢ï¼Œäººçœ¼å‡ ä¹å¯Ÿè§‰ä¸åˆ°ï¼Œä½†å¦‚æœä¸ºäº†ç­‰è¿™ä¸€å¸§è€Œå¯¼è‡´è§†é¢‘å¡ä½ 2 ç§’ï¼Œç”¨æˆ·ä½“éªŒä¼šæå·®ã€‚</p>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‰‹æ“ AI Agent ï¼šå¤šAgentåä½œï¼Œä»å•å…µä½œæˆ˜åˆ°å›¢é˜Ÿåä½œçš„è¿›åŒ–ä¹‹è·¯]]></title>    <link>https://juejin.cn/post/7599965904617750574</link>    <guid>https://juejin.cn/post/7599965904617750574</guid>    <pubDate>2026-01-28T04:00:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599965904617750574" data-draft-id="7599538010724925467" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‰‹æ“ AI Agent ï¼šå¤šAgentåä½œï¼Œä»å•å…µä½œæˆ˜åˆ°å›¢é˜Ÿåä½œçš„è¿›åŒ–ä¹‹è·¯"/> <meta itemprop="keywords" content="åç«¯,äººå·¥æ™ºèƒ½,æ¶æ„"/> <meta itemprop="datePublished" content="2026-01-28T04:00:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä»£ç æ‰³æ‰‹"/> <meta itemprop="url" content="https://juejin.cn/user/177501539672379"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‰‹æ“ AI Agent ï¼šå¤šAgentåä½œï¼Œä»å•å…µä½œæˆ˜åˆ°å›¢é˜Ÿåä½œçš„è¿›åŒ–ä¹‹è·¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/177501539672379/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä»£ç æ‰³æ‰‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T04:00:35.000Z" title="Wed Jan 28 2026 04:00:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>"çœŸæ­£çš„æ™ºèƒ½ä¸æ˜¯ä¸ªä½“çš„å¼ºå¤§ï¼Œè€Œæ˜¯åä½œçš„æ™ºæ…§ã€‚"</p>
</blockquote>
<p>ä»Šå¤©ä¹‹å‰<code>easy-agent</code>å¯èƒ½è¿˜åªæ˜¯ä¸€ä¸ªå•ä½“ç©å…·ï¼Œä»Šå¤©æ˜¯å®ƒè¿›é˜¶çš„ç¬¬ä¸€æ­¥ï¼šå®ƒä¼šå¤šç»´åº¦çš„æ€è€ƒé—®é¢˜äº†ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å±•ç¤ºæ•ˆæœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f2f594ad69df4fa4b1a961e809c7fb01~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Luj56CB5omz5omL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770177635&amp;x-signature=Bc0wOUKrJCyn6y9n9s5q1rxiSyo%3D" alt="å¾®ä¿¡å›¾ç‰‡_20260126204734_2606_325.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-0">01 ä»å•Agentåˆ°å¤šAgentï¼šæ¶æ„çš„å¿…ç„¶è¿›åŒ–</h2>
<p>åœ¨æ˜¨å¤©çš„é‡æ„ä¸­ï¼Œæˆ‘ä»¬è®© <code>easy-agent</code> å…·å¤‡äº†<strong>æµå¼äº¤äº’ã€å¯è§‚æµ‹æ€§ã€å¤šæ¨¡æ€</strong>ç­‰ç°ä»£åŒ–èƒ½åŠ›ã€‚ä½†å¾ˆå¿«æˆ‘å‘ç°ä¸€ä¸ªæ–°é—®é¢˜ï¼š</p>
<p><strong>å•Agentå°±åƒä¸€ä¸ªå…¨èƒ½çš„ç‘å£«å†›åˆ€ï¼Œè™½ç„¶ä»€ä¹ˆéƒ½èƒ½åšï¼Œä½†éƒ½ä¸ç²¾é€šã€‚</strong></p>
<p>å½“æˆ‘è®©å®ƒå†™ä¸€ä¸ªçˆ¬è™«æ—¶ï¼Œå®ƒè¦åœ¨"æ€è€ƒè¯¥ç”¨ä»€ä¹ˆå·¥å…·"ã€"æ‰§è¡Œä»£ç "ã€"è°ƒè¯•é”™è¯¯"ä¹‹é—´æ¥å›åˆ‡æ¢ï¼›å½“éœ€è¦æŸ¥èµ„æ–™æ—¶ï¼Œåˆè¦é‡æ–°åŠ è½½ç½‘é¡µæœç´¢çš„é€»è¾‘ã€‚è¿™ç§"ç²¾ç¥åˆ†è£‚"çš„å·¥ä½œæ–¹å¼ï¼Œä¸ä»…æ•ˆç‡ä½ä¸‹ï¼Œè¿˜å®¹æ˜“å‡ºé”™ã€‚</p>
<p><strong>çœŸæ­£çš„è§£å†³æ–¹æ¡ˆï¼šåˆ†å·¥åä½œ</strong></p>
<p>æˆ‘è®¾è®¡äº†ä¸€ä¸ªå¤šAgentåä½œç³»ç»Ÿï¼Œè®©æ¯ä¸ªAgentä¸“ç²¾äºè‡ªå·±çš„é¢†åŸŸï¼š</p>
<ul>
<li><strong>Foremanï¼ˆåŒ…å·¥å¤´ï¼‰</strong>ï¼šä»»åŠ¡åˆ†è§£ä¸è°ƒåº¦</li>
<li><strong>Coderï¼ˆå†™ä»£ç çš„ï¼‰</strong>ï¼šä»£ç ç¼–å†™ã€æ‰§è¡Œã€è°ƒè¯•</li>
<li><strong>Researcherï¼ˆæŸ¥èµ„æ–™çš„ï¼‰</strong>ï¼šä¿¡æ¯æ£€ç´¢ä¸çŸ¥è¯†æ•´ç†</li>
</ul>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// é…ç½®æ–‡ä»¶ä¸­çš„å¤šAgentå®šä¹‰</span>
agents:
  foreman:
    role: <span class="hljs-string">"foreman"</span>
    system_prompt: |
      ä½ æ˜¯ä¸€ä¸ª<span class="hljs-string">"åŒ…å·¥å¤´"</span>Agentï¼Œä½ çš„ä»»åŠ¡æ˜¯æ ¹æ®ç”¨æˆ·çš„éœ€æ±‚ï¼Œ
      å°†ä»»åŠ¡åˆ†è§£ï¼Œå¹¶åˆ†é…ç»™åˆé€‚çš„<span class="hljs-string">"æ‰“å·¥äºº"</span>Agentã€‚
    allowed_tools: [call_coder, call_researcher]
  
  coder:
    role: <span class="hljs-string">"coder"</span> 
    system_prompt: |
      ä½ æ˜¯ä¸€ä¸ª<span class="hljs-string">"å†™ä»£ç çš„"</span>Agentï¼Œè´Ÿè´£ä»£ç ç›¸å…³ä»»åŠ¡ã€‚
    allowed_tools: [run_code, read_file, write_file, git_cmd]
</code></pre>
<hr/>
<h2 data-id="heading-1">02 æ ¸å¿ƒæœºåˆ¶ï¼šAgenté—´çš„é€šä¿¡æ¡¥æ¢</h2>
<p>å¤šAgentåä½œçš„å…³é”®åœ¨äº<strong>ç»Ÿä¸€çš„é€šä¿¡æœºåˆ¶</strong>ã€‚æˆ‘è®¾è®¡äº†ä¸¤ä¸ªæ ¸å¿ƒå·¥å…·æ¥å®ç°è·¨Agentè°ƒç”¨ï¼š</p>
<h3 data-id="heading-2">Agentè°ƒç”¨å·¥å…·</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">type</span> CallCoderTool <span class="hljs-keyword">struct</span>{}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(t *CallCoderTool)</span></span> Run(ctx context.Context, argsJSON <span class="hljs-type">string</span>, a *Agent, events <span class="hljs-keyword">chan</span>&lt;- StreamEvent) (<span class="hljs-type">string</span>, <span class="hljs-type">error</span>) {
    <span class="hljs-comment">// è§£ç ä»»åŠ¡æè¿°</span>
    <span class="hljs-keyword">var</span> args <span class="hljs-keyword">struct</span> {
        Task <span class="hljs-keyword">struct</span> {
            Description <span class="hljs-type">string</span> <span class="hljs-string">`json:"description"`</span>
        } <span class="hljs-string">`json:"task"`</span>
    }
    
    <span class="hljs-comment">// è·å–Coder Agentå®ä¾‹</span>
    coderAgent := a.otherAgents[<span class="hljs-string">"coder"</span>]
    
    <span class="hljs-comment">// å¯åŠ¨å­Agentçš„æµå¼æ‰§è¡Œ</span>
    subAgentEvents := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> StreamEvent)
    <span class="hljs-keyword">go</span> coderAgent.StreamRunWithSessionAndImages(ctx, args.Task.Description, <span class="hljs-string">""</span>, <span class="hljs-literal">nil</span>, <span class="hljs-string">""</span>, subAgentEvents)
    
    <span class="hljs-comment">// å®æ—¶è½¬å‘å­Agentçš„äº‹ä»¶åˆ°ä¸»é€šé“</span>
    <span class="hljs-keyword">for</span> event := <span class="hljs-keyword">range</span> subAgentEvents {
        events &lt;- event <span class="hljs-comment">// è®©ç”¨æˆ·çœ‹åˆ°å­Agentçš„æ€è€ƒè¿‡ç¨‹</span>
    }
}
</code></pre>
<blockquote>
<p><strong>é‡‘å¥ï¼š</strong> "çœŸæ­£çš„åä½œä¸æ˜¯ç®€å•çš„ä»»åŠ¡æ¥åŠ›ï¼Œè€Œæ˜¯é€æ˜çš„æ€è€ƒå…±äº«ã€‚"</p>
</blockquote>
<h3 data-id="heading-3">äº‹ä»¶æµçš„æ— ç¼ä¼ é€’</h3>
<p>è¿™ä¸ªè®¾è®¡çš„ç²¾å¦™ä¹‹å¤„åœ¨äºï¼š<strong>äº‹ä»¶æµçš„æ— ç¼ä¼ é€’</strong>ã€‚å½“Foremanè°ƒç”¨Coderæ—¶ï¼ŒCoderçš„æ¯ä¸€æ¬¡æ€è€ƒã€æ¯ä¸€ä¸ªå·¥å…·è°ƒç”¨ã€æ¯ä¸€è¡Œä»£ç è¾“å‡ºï¼Œéƒ½ä¼šå®æ—¶æ˜¾ç¤ºåœ¨ç”¨æˆ·ç•Œé¢ä¸Šï¼Œå°±å¥½åƒä¸€ä¸ªAgentåœ¨è¿ç»­å·¥ä½œä¸€æ ·ã€‚</p>
<hr/>
<h2 data-id="heading-4">03 è®©åä½œæ›´æ™ºèƒ½ï¼šä»»åŠ¡åˆ†è§£çš„è‰ºæœ¯</h2>
<p>å¤šAgentåä½œæœ€éš¾çš„æŒ‘æˆ˜æ˜¯ï¼š<strong>å¦‚ä½•è®©Foremanå‡†ç¡®ç†è§£ä»»åŠ¡å¹¶åˆç†åˆ†é…ï¼Ÿ</strong></p>
<h3 data-id="heading-5">æ™ºèƒ½ä»»åŠ¡åˆ¤æ–­</h3>
<p>æˆ‘é€šè¿‡ç²¾å¿ƒè®¾è®¡çš„ç³»ç»Ÿæç¤ºè¯ï¼Œè®©Foremanå­¦ä¼šè¯†åˆ«ä»»åŠ¡ç±»å‹ï¼š</p>
<pre><code class="hljs language-go" lang="go">system_prompt: |
  ä½ æ˜¯ä¸€ä¸ª<span class="hljs-string">"åŒ…å·¥å¤´"</span>Agentï¼Œä½ çš„ä»»åŠ¡æ˜¯æ ¹æ®ç”¨æˆ·çš„éœ€æ±‚ï¼Œå°†ä»»åŠ¡åˆ†è§£ï¼Œå¹¶åˆ†é…ç»™åˆé€‚çš„<span class="hljs-string">"æ‰“å·¥äºº"</span>Agentã€‚
  
  ä½ å¯ä»¥ä½¿ç”¨çš„å·¥å…·åŒ…æ‹¬ï¼š
  - call_coder: è°ƒç”¨å†™ä»£ç çš„ Agent æ¥å®Œæˆä»£ç ç¼–å†™ã€ä¿®æ”¹ã€å®¡æŸ¥å’Œæ‰§è¡Œç­‰ä»»åŠ¡ã€‚
  - call_researcher: è°ƒç”¨æŸ¥èµ„æ–™çš„ Agent æ¥å®Œæˆç½‘é¡µæœç´¢å’ŒçŸ¥è¯†åº“æœç´¢ç­‰ä»»åŠ¡ã€‚
  
  è¯·æ ¹æ®ä»»åŠ¡çš„æ€§è´¨ï¼Œåˆç†é€‰æ‹©å¹¶è°ƒç”¨å·¥å…·ã€‚
</code></pre>
<h3 data-id="heading-6">å®é™…åä½œæ¡ˆä¾‹</h3>
<p><strong>ç”¨æˆ·è¯·æ±‚ï¼š</strong> "å¸®æˆ‘å†™ä¸€ä¸ªPythonçˆ¬è™«ï¼Œçˆ¬å–è±†ç“£ç”µå½±Top250çš„æ•°æ®"</p>
<p><strong>Foremançš„æ€è€ƒè¿‡ç¨‹ï¼š</strong></p>
<ol>
<li><strong>è¯†åˆ«ä»»åŠ¡ç±»å‹</strong>ï¼šè¿™æ¶‰åŠä»£ç ç¼–å†™ï¼Œåº”è¯¥è°ƒç”¨Coder</li>
<li><strong>æ„é€ ä»»åŠ¡æè¿°</strong>ï¼šå°†ç”¨æˆ·éœ€æ±‚è½¬æ¢ä¸ºå…·ä½“çš„ç¼–ç¨‹ä»»åŠ¡</li>
<li><strong>è°ƒç”¨Coder Agent</strong>ï¼š<code>call_coder(task="ç¼–å†™Pythonçˆ¬è™«çˆ¬å–è±†ç“£ç”µå½±Top250æ•°æ®")</code></li>
</ol>
<p><strong>Coder Agentçš„æ‰§è¡Œè¿‡ç¨‹ï¼š</strong></p>
<ol>
<li><strong>åˆ†ææŠ€æœ¯æ–¹æ¡ˆ</strong>ï¼šé€‰æ‹©requests + BeautifulSoup</li>
<li><strong>ç¼–å†™ä»£ç </strong>ï¼šå®ç°çˆ¬è™«é€»è¾‘</li>
<li><strong>è°ƒè¯•è¿è¡Œ</strong>ï¼šåœ¨æ²™ç®±ä¸­æµ‹è¯•ä»£ç </li>
<li><strong>è¾“å‡ºç»“æœ</strong>ï¼šè¿”å›å¯ç”¨çš„çˆ¬è™«ä»£ç </li>
</ol>
<p>æ•´ä¸ªè¿‡ç¨‹ç”¨æˆ·çœ‹åˆ°çš„æ˜¯ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">[<span class="hljs-meta">Foreman</span>] æ­£åœ¨æ€è€ƒå¦‚ä½•å“åº”...
[<span class="hljs-meta">Foreman</span>] æ£€æµ‹åˆ°ä»£ç ä»»åŠ¡ï¼Œæ­£åœ¨è°ƒç”¨Coder Agent...
[<span class="hljs-meta">Coder</span>] æ­£åœ¨åˆ†ææŠ€æœ¯æ–¹æ¡ˆ...
[<span class="hljs-meta">Coder</span>] ç¼–å†™çˆ¬è™«ä»£ç ä¸­...
[<span class="hljs-meta">Coder</span>] åœ¨æ²™ç®±ä¸­è¿è¡Œä»£ç ...
[<span class="hljs-meta">Coder</span>] ä»£ç è¿è¡ŒæˆåŠŸï¼è¿”å›ç»“æœ...
</code></pre>
<hr/>
<h2 data-id="heading-7">04 å®¹é”™æœºåˆ¶ï¼šè®©åä½œæ›´å¯é </h2>
<p>å¤šAgentç³»ç»Ÿçš„å¤æ‚æ€§å¸¦æ¥äº†æ–°çš„æŒ‘æˆ˜ï¼š<strong>å¦‚ä½•å¤„ç†å­Agentçš„å¤±è´¥ï¼Ÿ</strong></p>
<h3 data-id="heading-8">ä¼˜é›…é™çº§ç­–ç•¥</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// åœ¨CallCoderToolä¸­çš„å®¹é”™å¤„ç†</span>
<span class="hljs-keyword">for</span> event := <span class="hljs-keyword">range</span> subAgentEvents {
    <span class="hljs-keyword">if</span> event.Type == <span class="hljs-string">"error"</span> {
        Logger.Error().Str(<span class="hljs-string">"coder_error"</span>, p.Message).Msg(<span class="hljs-string">"Coder Agentå¤±è´¥"</span>)
        <span class="hljs-keyword">return</span> fmt.Errorf(<span class="hljs-string">"coder agent error: %s"</span>, p.Message)
    }
}
</code></pre>
<h3 data-id="heading-9">é‡è¯•ä¸å¤‡é€‰æ–¹æ¡ˆ</h3>
<p>å¦‚æœCoder Agentæ‰§è¡Œå¤±è´¥ï¼ŒForemanä¼šï¼š</p>
<ol>
<li><strong>è®°å½•é”™è¯¯ä¿¡æ¯</strong></li>
<li><strong>å°è¯•ä¸åŒçš„å®ç°æ–¹æ¡ˆ</strong></li>
<li><strong>å¿…è¦æ—¶å‘ç”¨æˆ·æŠ¥å‘Šé—®é¢˜å¹¶æä¾›æ›¿ä»£å»ºè®®</strong></li>
</ol>
<hr/>
<h2 data-id="heading-10">05 æ€§èƒ½ä¼˜åŒ–ï¼šå¹¶è¡Œæ‰§è¡Œçš„è‰ºæœ¯</h2>
<p>å¤šAgentåä½œä¸åº”è¯¥ä¸²è¡Œç­‰å¾…ã€‚æˆ‘å®ç°äº†<strong>å¹¶è¡Œä»»åŠ¡æ‰§è¡Œ</strong>æœºåˆ¶ï¼š</p>
<h3 data-id="heading-11">å¹¶å‘å·¥å…·è°ƒç”¨</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// agent_loop.goä¸­çš„å¹¶å‘å¤„ç†</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(a *Agent)</span></span> handleToolCalls(ctx context.Context, toolCalls []ToolCall, sessionID <span class="hljs-type">string</span>, events <span class="hljs-keyword">chan</span>&lt;- StreamEvent) []ChatMessage {
    <span class="hljs-keyword">var</span> wg sync.WaitGroup
    toolResults := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> ChatMessage, <span class="hljs-built_in">len</span>(toolCalls))
    
    <span class="hljs-keyword">for</span> _, toolCall := <span class="hljs-keyword">range</span> toolCalls {
        wg.Add(<span class="hljs-number">1</span>)
        <span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(tc ToolCall)</span></span> {
            <span class="hljs-keyword">defer</span> wg.Done()
            <span class="hljs-comment">// å¹¶å‘æ‰§è¡Œæ¯ä¸ªå·¥å…·</span>
            result := a.execTool(ctx, &amp;fc, sessionID, events)
            toolResults &lt;- result
        }(toolCall)
    }
    
    wg.Wait()
    <span class="hljs-built_in">close</span>(toolResults)
}
</code></pre>
<p>å½“Foremanéœ€è¦åŒæ—¶è°ƒç”¨Coderå’ŒResearcheræ—¶ï¼Œä¸¤ä¸ªAgentå¯ä»¥å¹¶è¡Œå·¥ä½œï¼Œå¤§å¤§æå‡æ•ˆç‡ã€‚</p>
<hr/>
<h2 data-id="heading-12">06 ç”¨æˆ·ä½“éªŒï¼šæ— æ„ŸçŸ¥çš„åä½œä½“éªŒ</h2>
<p>å¯¹ç”¨æˆ·æ¥è¯´ï¼Œå¤šAgentåä½œåº”è¯¥æ˜¯<strong>å®Œå…¨é€æ˜çš„</strong>ã€‚</p>
<h3 data-id="heading-13">ç»Ÿä¸€çš„å¯¹è¯ç•Œé¢</h3>
<p>æ— è®ºåå°æœ‰å‡ ä¸ªAgentåœ¨å·¥ä½œï¼Œç”¨æˆ·çœ‹åˆ°çš„éƒ½æ˜¯ï¼š</p>
<ul>
<li><strong>è¿ç»­çš„æ€è€ƒè¿‡ç¨‹</strong></li>
<li><strong>å®æ—¶çš„æ‰§è¡Œè¾“å‡º</strong></li>
<li><strong>ç»Ÿä¸€çš„æœ€ç»ˆç­”æ¡ˆ</strong></li>
</ul>
<h3 data-id="heading-14">æ™ºèƒ½çš„è§’è‰²æ ‡è¯†</h3>
<p>ä¸ºäº†è®©ç”¨æˆ·äº†è§£å½“å‰æ˜¯å“ªä¸ªAgentåœ¨å·¥ä½œï¼Œæˆ‘åœ¨äº‹ä»¶æµä¸­åŠ å…¥äº†è§’è‰²æ ‡è¯†ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// åœ¨StreamEventä¸­æ·»åŠ Agentè§’è‰²ä¿¡æ¯</span>
events &lt;- StreamEvent{
    Type: <span class="hljs-string">"thinking"</span>,
    Payload: ThinkingEventPayload{
        Text: fmt.Sprintf(<span class="hljs-string">"[%s] %s"</span>, agentRole, thinkingText),
    },
}
</code></pre>
<p>ç”¨æˆ·ç•Œé¢ä¼šæ˜¾ç¤ºï¼š</p>
<ul>
<li><code>[åŒ…å·¥å¤´] æ­£åœ¨åˆ†æä»»åŠ¡...</code></li>
<li><code>[å†™ä»£ç çš„] ç¼–å†™Pythonä»£ç ä¸­...</code></li>
<li><code>[æŸ¥èµ„æ–™çš„] æœç´¢ç›¸å…³ä¿¡æ¯ä¸­...</code></li>
</ul>
<hr/>
<h2 data-id="heading-15">07 ç›‘æ§ä¸è°ƒè¯•ï¼šç»™åä½œè£…ä¸Š"é€è§†çœ¼"</h2>
<p>å¤šAgentç³»ç»Ÿçš„å¤æ‚æ€§éœ€è¦æ›´å¼ºçš„å¯è§‚æµ‹æ€§ã€‚</p>
<h3 data-id="heading-16">åˆ†å¸ƒå¼è¿½è¸ªé›†æˆ</h3>
<p>æˆ‘ä¸ºæ¯ä¸ªAgentçš„è°ƒç”¨éƒ½æ·»åŠ äº†OpenTelemetryè¿½è¸ªï¼š</p>
<pre><code class="hljs language-go" lang="go">ctx, span := tracer.Start(ctx, <span class="hljs-string">"Agent.CallCoder"</span>,
    trace.WithAttributes(
        attribute.String(<span class="hljs-string">"foreman_agent"</span>, a.role),
        attribute.String(<span class="hljs-string">"target_agent"</span>, <span class="hljs-string">"coder"</span>),
        attribute.String(<span class="hljs-string">"task_description"</span>, args.Task.Description),
    ),
)
<span class="hljs-keyword">defer</span> span.End()
</code></pre>
<h3 data-id="heading-17">æ€§èƒ½åˆ†æä»ªè¡¨æ¿</h3>
<p>ç°åœ¨æˆ‘å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°ï¼š</p>
<ul>
<li><strong>æ¯ä¸ªAgentçš„æ‰§è¡Œæ—¶é—´</strong></li>
<li><strong>Agenté—´çš„è°ƒç”¨é“¾è·¯</strong></li>
<li><strong>æ€§èƒ½ç“¶é¢ˆçš„å‡†ç¡®å®šä½</strong></li>
</ul>
<hr/>
<h2 data-id="heading-18">08 å®æˆ˜æ¼”ç¤ºï¼šåä½œçš„å¨åŠ›</h2>
<p>è®©æˆ‘ç”¨ä¸€ä¸ªå®é™…æ¡ˆä¾‹å±•ç¤ºå¤šAgentåä½œçš„å¨åŠ›ï¼š</p>
<p><strong>ç”¨æˆ·è¯·æ±‚ï¼š</strong> "å¸®æˆ‘å†™ä¸€ä¸ªGoè¯­è¨€çš„REST APIï¼ŒæŸ¥è¯¢ä»Šå¤©çš„çƒ­é—¨æ–°é—»ï¼Œå¹¶ç”ŸæˆAPIæ–‡æ¡£"</p>
<p><strong>åä½œæµç¨‹ï¼š</strong></p>
<ol>
<li><strong>Foremanåˆ†æä»»åŠ¡</strong>ï¼šè¿™æ˜¯ä¸€ä¸ªå¤åˆä»»åŠ¡ï¼Œéœ€è¦ç¼–ç¨‹å’Œä¿¡æ¯æ£€ç´¢</li>
<li><strong>è°ƒç”¨Researcher</strong>ï¼š<code>call_researcher("æœç´¢ä»Šå¤©çš„çƒ­é—¨æ–°é—»")</code></li>
<li><strong>Researcheræ‰§è¡Œ</strong>ï¼šä½¿ç”¨web_searchè·å–æ–°é—»æ•°æ®</li>
<li><strong>Foremanç»§ç»­åˆ†æ</strong>ï¼šæœ‰äº†æ–°é—»æ•°æ®ï¼Œç°åœ¨éœ€è¦ç¼–å†™API</li>
<li><strong>è°ƒç”¨Coder</strong>ï¼š<code>call_coder("ç”¨Goè¯­è¨€ç¼–å†™REST APIï¼Œè¿”å›æ–°é—»æ•°æ®ï¼Œå¹¶ç”Ÿæˆæ–‡æ¡£")</code></li>
<li><strong>Coderæ‰§è¡Œ</strong>ï¼šç¼–å†™Goä»£ç ã€æµ‹è¯•è¿è¡Œã€ç”ŸæˆSwaggeræ–‡æ¡£</li>
</ol>
<p>æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œç”¨æˆ·çœ‹åˆ°çš„æ˜¯ä¸€ä¸ª<strong>è¿è´¯çš„å·¥ä½œæµ</strong>ï¼Œè€Œä¸æ˜¯å‰²è£‚çš„ä»»åŠ¡åˆ‡æ¢ã€‚</p>
<hr/>
<h2 data-id="heading-19">09 æ¶æ„æ¼”è¿›ï¼šä»åä½œåˆ°ç”Ÿæ€</h2>
<p>å¤šAgentåä½œä¸æ˜¯ç»ˆç‚¹ï¼Œè€Œæ˜¯èµ·ç‚¹ã€‚</p>
<h3 data-id="heading-20">å¯æ‰©å±•çš„Agentç”Ÿæ€</h3>
<p>ç°åœ¨çš„æ¶æ„æ”¯æŒæ— é™æ‰©å±•ï¼š</p>
<ul>
<li><strong>Tester Agent</strong>ï¼šä¸“é—¨è´Ÿè´£ä»£ç æµ‹è¯•</li>
<li><strong>Deployment Agent</strong>ï¼šä¸“é—¨è´Ÿè´£éƒ¨ç½²</li>
<li><strong>Monitor Agent</strong>ï¼šä¸“é—¨è´Ÿè´£ç›‘æ§</li>
</ul>
<h3 data-id="heading-21">Agentå¸‚åœºæ„æƒ³</h3>
<p>æœªæ¥å¯ä»¥æ„å»ºä¸€ä¸ª<strong>Agentå¸‚åœº</strong>ï¼š</p>
<ul>
<li><strong>æ ‡å‡†åŒ–çš„Agentæ¥å£</strong></li>
<li><strong>Agentçš„ç‰ˆæœ¬ç®¡ç†</strong></li>
<li><strong>Agentçš„èƒ½åŠ›æè¿°</strong></li>
</ul>
<hr/>
<h2 data-id="heading-22">10 æ€»ç»“ï¼šåä½œçš„æ™ºæ…§</h2>
<p>è¿™æ¬¡å¤šAgentåä½œçš„å®ç°ï¼Œè®©æˆ‘æ·±åˆ»ç†è§£äº†ï¼š</p>
<p><strong>çœŸæ­£çš„AIæ™ºèƒ½ä¸æ˜¯ä¸ªä½“çš„å…¨èƒ½ï¼Œè€Œæ˜¯å›¢é˜Ÿçš„ä¸“ä¸šåˆ†å·¥ã€‚</strong></p>
<p>å°±åƒç°å®ä¸–ç•Œä¸€æ ·ï¼š</p>
<ul>
<li><strong>äº§å“ç»ç†</strong>å®šä¹‰éœ€æ±‚</li>
<li><strong>è®¾è®¡å¸ˆ</strong>è®¾è®¡ç•Œé¢</li>
<li><strong>ç¨‹åºå‘˜</strong>ç¼–å†™ä»£ç </li>
<li><strong>æµ‹è¯•å‘˜</strong>ä¿è¯è´¨é‡</li>
</ul>
<p>æ¯ä¸ªäººéƒ½åœ¨è‡ªå·±æ“…é•¿çš„é¢†åŸŸå‘å…‰å‘çƒ­ï¼Œæœ€ç»ˆç»„åˆæˆå¼ºå¤§çš„å›¢é˜Ÿã€‚</p>
<p><code>easy-agent</code>ç°åœ¨å®ç°äº†ï¼š</p>
<ul>
<li>âœ… <strong>æ™ºèƒ½ä»»åŠ¡åˆ†è§£</strong>ï¼šForemanå‡†ç¡®è¯†åˆ«å¹¶åˆ†é…ä»»åŠ¡</li>
<li>âœ… <strong>ä¸“ä¸šAgentåˆ†å·¥</strong>ï¼šæ¯ä¸ªAgentä¸“æ³¨è‡ªå·±çš„é¢†åŸŸ</li>
<li>âœ… <strong>é€æ˜åä½œè¿‡ç¨‹</strong>ï¼šç”¨æˆ·çœ‹åˆ°è¿è´¯çš„å·¥ä½œæµ</li>
<li>âœ… <strong>ä¼˜é›…å®¹é”™æœºåˆ¶</strong>ï¼šå•ç‚¹å¤±è´¥ä¸å½±å“æ•´ä½“</li>
<li>âœ… <strong>å¹¶è¡Œæ‰§è¡Œèƒ½åŠ›</strong>ï¼šæå‡æ•´ä½“æ•ˆç‡</li>
<li>âœ… <strong>å®Œæ•´å¯è§‚æµ‹æ€§</strong>ï¼šæ¯ä¸ªç¯èŠ‚éƒ½æ¸…æ™°å¯è§</li>
</ul>
<hr/>
<p><strong>ä¸‹ä¸€æ­¥è®¡åˆ’ï¼š</strong></p>
<ul>
<li><strong>Agentè®°å¿†å…±äº«</strong>ï¼šè®©åä½œæ›´æ™ºèƒ½</li>
<li><strong>åŠ¨æ€Agentåˆ›å»º</strong>ï¼šæŒ‰éœ€ç”Ÿæˆä¸“ç”¨Agent</li>
<li><strong>Agentæ€§èƒ½è¯„åˆ†</strong>ï¼šæ™ºèƒ½é€‰æ‹©æœ€ä¼˜Agent</li>
</ul>
<p><strong>ğŸ‘‡ æºç è·å–</strong></p>
<p>æœ¬é¡¹ç›®å®Œå…¨å¼€æºï¼ŒåŒ…å«å®Œæ•´çš„å¤šAgentåä½œå®ç°ï¼š</p>
<ul>
<li><strong>GitLab</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Flouis-xie-programmer%2Feasy-agent" target="_blank" title="https://github.com/louis-xie-programmer/easy-agent" ref="nofollow noopener noreferrer">github.com/louis-xie-pâ€¦</a></li>
<li><strong>Gitee (å›½å†…åŠ é€Ÿ)</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Flouis_xie%2Feasy-agent" target="_blank" title="https://gitee.com/louis_xie/easy-agent" ref="nofollow noopener noreferrer">gitee.com/louis_xie/eâ€¦</a></li>
</ul>
<p><strong>å–œæ¬¢è¿™ç¯‡æ–‡ç« å—ï¼Ÿæ¬¢è¿ç‚¹èµã€æ¨èã€è½¬å‘ï¼Œè¿™å¯¹æˆ‘å¾ˆé‡è¦ï¼</strong></p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è®© Mac mini ä¸€å¤œå–æ–­è´§çš„å¼€æºé¡¹ç›®ï¼Œåˆ°åº•æœ‰å¤šé‚ªé—¨ï¼Ÿæ‹†è§£ Clawdbot / Moltbot çš„æŠ€æœ¯æ¶æ„]]></title>    <link>https://juejin.cn/post/7599951933594484746</link>    <guid>https://juejin.cn/post/7599951933594484746</guid>    <pubDate>2026-01-28T04:08:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599951933594484746" data-draft-id="7599965904617766958" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è®© Mac mini ä¸€å¤œå–æ–­è´§çš„å¼€æºé¡¹ç›®ï¼Œåˆ°åº•æœ‰å¤šé‚ªé—¨ï¼Ÿæ‹†è§£ Clawdbot / Moltbot çš„æŠ€æœ¯æ¶æ„"/> <meta itemprop="keywords" content="Agent,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-28T04:08:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="lomocode"/> <meta itemprop="url" content="https://juejin.cn/user/2103792315926697"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è®© Mac mini ä¸€å¤œå–æ–­è´§çš„å¼€æºé¡¹ç›®ï¼Œåˆ°åº•æœ‰å¤šé‚ªé—¨ï¼Ÿæ‹†è§£ Clawdbot / Moltbot çš„æŠ€æœ¯æ¶æ„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2103792315926697/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    lomocode
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T04:08:34.000Z" title="Wed Jan 28 2026 04:08:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae3775c740524b3ab227dac6c8310fb3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbG9tb2NvZGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770178114&amp;x-signature=We5WKmemPp3Trh8mQZkHDYYMaL0%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<blockquote>
<p>ä¸€ä¸ªé€€ä¼‘ç¨‹åºå‘˜ã€ä¸€å° Mac miniã€100% AI ç”Ÿæˆçš„ä»£ç â€”â€”è¿™ä¸ªç»„åˆè®© GitHub æ˜Ÿæ ‡ä¸€å‘¨æš´æ¶¨ 7 ä¸‡ï¼Œè®©è‹¹æœæœ€ä¾¿å®œçš„ç”µè„‘åœ¨ç¡…è°·å–åˆ°æ–­è´§ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ä¸€å° Mac mini å¼•å‘çš„è¿é”ååº”</h2>
<p>ä¸Šå‘¨ï¼Œç¡…è°·çš„ Apple Store å‘ç”Ÿäº†ä¸€ä»¶è¯¡å¼‚çš„äº‹ï¼šMac mini M4 çªç„¶å–æ–­è´§äº†ã€‚</p>
<p>ä¸æ˜¯å› ä¸ºè‹¹æœå‘äº†æ–°å“ï¼Œä¸æ˜¯å› ä¸ºä»€ä¹ˆä¿ƒé”€æ´»åŠ¨ï¼Œè€Œæ˜¯å› ä¸ºä¸€ç¾¤ç¨‹åºå‘˜ç–¯äº†ä¸€æ ·åœ¨æŠ¢è´­â€”â€”æœ‰äººä¸€å£æ°”ä¹°äº† 40 å°ã€‚</p>
<p>åŸå› åªæœ‰ä¸€ä¸ªï¼šä»–ä»¬è¦æ‹¿æ¥è·‘ä¸€ä¸ªå« <strong>Clawdbot</strong> çš„å¼€æºé¡¹ç›®ã€‚</p>
<p>è¿™ä¸ªé¡¹ç›®åœ¨ä¸€å‘¨ä¹‹å†…åšåˆ°äº†ï¼š</p>
<ul>
<li>GitHub æ˜Ÿæ ‡ä» 1 ä¸‡é£™åˆ° <strong>5 ä¸‡+</strong>ï¼Œå¢é€Ÿæ¯” DeepSeek-R1 å‘å¸ƒæ—¶è¿˜çŒ›</li>
<li>åˆ›å§‹äººè¢« Anthropic å‘å¾‹å¸ˆå‡½é€¼ç€æ”¹å</li>
<li>æ”¹åè¿‡ç¨‹ä¸­è¢«åŠ å¯†è´§å¸éª—å­ <strong>10 ç§’æŠ¢æ³¨</strong>è´¦å·</li>
<li>å‡ä»£å¸å¸‚å€¼å†²åˆ° 1600 ä¸‡ç¾å…ƒåæš´è·Œ 90%</li>
</ul>
<p>åˆ°åº•ä»€ä¹ˆé¡¹ç›®ï¼Œèƒ½åŒæ—¶å¼•çˆ†æŠ€æœ¯åœˆã€å®‰å…¨åœˆå’Œå¸åœˆï¼Ÿ</p>
<hr/>
<h2 data-id="heading-1">äºŒã€å…ˆè¯´ä¸€ä»¶é‡è¦çš„äº‹ï¼šClawdbot å·²ç»æ”¹åäº†</h2>
<p>å¦‚æœä½ æ˜¯æœâ€œClawdbotâ€æ‰¾åˆ°è¿™ç¯‡æ–‡ç« çš„ï¼Œè¯·æ³¨æ„â€”â€”<strong>è¿™ä¸ªé¡¹ç›®ç°åœ¨å« Moltbotã€‚</strong></p>
<h3 data-id="heading-2">ä¸ºä»€ä¹ˆæ”¹åï¼Ÿ</h3>
<p>é¡¹ç›®åŸå Clawdbotï¼Œâ€œClawdâ€æ˜¯ Claude çš„å˜ä½“ï¼Œæ®è¯´æ˜¯ AI è‡ªå·±å»ºè®®çš„åå­—ã€‚å¬ç€æŒºå¯çˆ±ï¼Œä½† Anthropicï¼ˆClaude çš„æ¯å…¬å¸ï¼‰ä¸è¿™ä¹ˆæƒ³ã€‚</p>
<p>Anthropic å‘åˆ›å§‹äºº Peter Steinberger å‘äº† C&amp;Dï¼ˆåœæ­¢ä¾µæƒé€šçŸ¥ï¼‰ï¼Œç†ç”±æ˜¯â€œClawdâ€å’Œâ€œClaudeâ€å¤ªåƒï¼Œå¯èƒ½é€ æˆå•†æ ‡æ··æ·†ã€‚Peter åœ¨ X ä¸Šåæ§½ï¼š</p>
<blockquote>
<p>â€œè¢«è¿«æ”¹åï¼Œä¸æ˜¯æˆ‘çš„å†³å®šã€‚â€</p>
</blockquote>
<p>ä»–æƒ³è¿‡å»æ‰ d å« Clawbotï¼ŒAnthropic è¯´â€œä¹Ÿä¸è¡Œâ€ã€‚æœ€ç»ˆæ”¹åä¸º <strong>Moltbot</strong>â€”â€”molt æ˜¯é¾™è™¾èœ•çš®çš„æ„æ€ï¼Œâ€œèœ•çš®æ˜¯é¾™è™¾æˆé•¿çš„æ–¹å¼â€ã€‚</p>
<h3 data-id="heading-3">æ”¹åç¿»è½¦ï¼š10 ç§’é’Ÿçš„æƒ¨æ¡ˆ</h3>
<p>Peter åœ¨æ“ä½œ GitHub ç»„ç»‡åå’Œ X/Twitter è´¦å·é‡å‘½åæ—¶ï¼ŒçŠ¯äº†ä¸€ä¸ªè‡´å‘½é”™è¯¯ï¼š<strong>åŒæ—¶é‡Šæ”¾äº†æ—§åç§°</strong>ã€‚</p>
<p>åœ¨ä»–é‡Šæ”¾ <code>clawdbot</code> å’Œæ³¨å†Œ <code>moltbot</code> çš„é—´éš™â€”â€”å¤§çº¦ <strong>10 ç§’é’Ÿ</strong>â€”â€”åŠ å¯†è´§å¸éª—å­æŠ¢æ³¨äº†è¿™ä¸¤ä¸ªè´¦å·ã€‚</p>
<p>éšåï¼š</p>
<ul>
<li>å‡å†’çš„ $CLAWD ä»£å¸åœ¨ Solana ä¸Šå‡ºç°</li>
<li>å¸‚å€¼ä¸€åº¦å†²åˆ° <strong>1600 ä¸‡ç¾å…ƒ</strong></li>
<li>ç„¶åæš´è·Œ 90%ï¼Œä¸€å †äººäºé’±</li>
</ul>
<p>Peter ä¸å¾—ä¸å…¬å¼€å£°æ˜ï¼šä»–ä»æœªå‘è¡Œè¿‡ä»»ä½•ä»£å¸ï¼Œä¹Ÿæ°¸è¿œä¸ä¼šã€‚</p>
<h3 data-id="heading-4">ç»™å¼€å‘è€…çš„æ•™è®­</h3>
<p>è¿™ä»¶äº‹å¯¹æˆ‘ä»¬æœ‰ä¸€ä¸ªå®é™…æ•™è®­ï¼š<strong>åšè´¦å·è¿ç§»æ—¶ï¼Œæ°¸è¿œä¸è¦åŒæ—¶é‡Šæ”¾æ—§èµ„æºã€‚</strong> æ­£ç¡®çš„åšæ³•æ˜¯ï¼š</p>
<ol>
<li>å…ˆæ³¨å†Œæ–°åç§°</li>
<li>åšå¥½ 301 é‡å®šå‘</li>
<li>è§‚å¯Ÿä¸€æ®µæ—¶é—´</li>
<li>æœ€åæ‰é‡Šæ”¾æ—§åç§°ï¼ˆæˆ–è€…å¹²è„†ä¸é‡Šæ”¾ï¼‰</li>
</ol>
<blockquote>
<p><strong>æœ¬æ–‡åç»­ç»Ÿä¸€ä½¿ç”¨æ–°åç§° Moltbotã€‚</strong> ä½ åœ¨ç½‘ä¸Šçœ‹åˆ°çš„ Clawdbotã€ClawdBotã€Clawdï¼Œè¯´çš„éƒ½æ˜¯åŒä¸€ä¸ªä¸œè¥¿ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-5">ä¸‰ã€Moltbot åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p><strong>ä¸€å¥è¯è¯´æ¸…æ¥šï¼šå®ƒè®© AI ä»â€œåŠ¨å˜´â€å˜æˆäº†â€œåŠ¨æ‰‹â€ã€‚</strong></p>
<p>ä½ ç”¨ ChatGPT / Claude çš„æ—¶å€™ï¼Œå®ƒåªèƒ½å‘Šè¯‰ä½ â€œæ€ä¹ˆåšâ€ã€‚è€Œ Moltbot ç›´æ¥å¸®ä½ åšå®Œâ€”â€”å®ƒèƒ½æ“ä½œä½ çš„ç”µè„‘ã€æ‰§è¡Œç»ˆç«¯å‘½ä»¤ã€è¯»å†™æ–‡ä»¶ã€æ§åˆ¶æµè§ˆå™¨ã€‚</p>
<p>æ›´å…³é”®çš„æ˜¯ï¼Œä½ ä¸éœ€è¦æ‰“å¼€ä»»ä½•ç½‘é¡µæˆ– Appï¼Œ<strong>ç›´æ¥åœ¨ Telegramã€WhatsAppã€Discord ç­‰èŠå¤©è½¯ä»¶é‡Œç»™å®ƒå‘æ¶ˆæ¯å°±è¡Œ</strong>ï¼ˆå›½å†…ç”¨æˆ·æ¨èç”¨ Telegram æˆ– Web UIï¼Œåé¢ä¼šè¯¦ç»†è¯´ï¼‰ã€‚</p>
<p>åˆ›å§‹äºº Peter Steinbergerï¼ˆPSPDFKit åˆ›å§‹äººï¼Œé€€ä¼‘ç å†œï¼‰åœ¨æ¼”ç¤ºä¸­å±•ç¤ºï¼šä»–èººåœ¨åºŠä¸Šï¼Œç»™ Telegram å‘äº†æ¡æ¶ˆæ¯ï¼ŒMoltbot å°±å¸®ä»–è°ƒäº† Eight Sleep åºŠå«æ¸©åº¦ã€å¼€äº†éŸ³ä¹ã€è°ƒäº†ç¯å…‰ã€‚</p>
<p>å¦ä¸€ä¸ªç”¨æˆ·åœ¨æ¨ç‰¹ä¸Šæ”¶è—ä¸€æ¡å†…å®¹ï¼ŒMoltbot è‡ªåŠ¨æŠŠå®ƒç ”ç©¶ä¸€éï¼Œæ•´ç†æˆå¾…åŠäº‹é¡¹å¡è¿›ä»–çš„ to-do listã€‚</p>
<p>è¿˜æœ‰äººè®©å®ƒå½“â€œå¥èº«ç›‘å·¥â€â€”â€”è¿ç»­ 3 å¤©æ²¡è¿åŠ¨ï¼Œå®ƒä¼šä¸»åŠ¨å‘æ¶ˆæ¯æ¥æ€¼ä½ ã€‚</p>
<p><strong>å®ƒä¸æ˜¯èŠå¤©æœºå™¨äººï¼Œæ˜¯â€œæ•°å­—å‘˜å·¥â€ã€‚</strong></p>
<hr/>
<h2 data-id="heading-6">å››ã€æŠ€æœ¯æ¶æ„æ‹†è§£</h2>
<p>æˆ‘ä»¬æ¥æ‰’ä¸€ä¸‹ Moltbot åˆ°åº•æ˜¯æ€ä¹ˆåšåˆ°çš„ã€‚</p>
<h3 data-id="heading-7">4.1 æ•´ä½“æ¶æ„</h3>
<p>æ•´ä¸ªç³»ç»Ÿç”±ä¸‰å±‚ç»„æˆï¼š</p>
<p><strong>Channel å±‚ï¼ˆæ¶ˆæ¯å…¥å£ï¼‰</strong> â†’ <strong>Agent å±‚ï¼ˆå¤§è„‘ï¼‰</strong> â†’ <strong>Tool å±‚ï¼ˆæ‰‹è„šï¼‰</strong></p>
<ul>
<li><strong>Channel å±‚</strong>ï¼šè´Ÿè´£æ¥æ”¶å’Œå‘é€æ¶ˆæ¯ï¼Œå¯¹æ¥ WhatsApp Web åè®®ã€Telegram Bot API ç­‰</li>
<li><strong>Agent å±‚</strong>ï¼šè°ƒç”¨ Claude / GPT / æœ¬åœ°æ¨¡å‹ï¼Œç†è§£æ„å›¾ã€è§„åˆ’æ‰§è¡Œæ­¥éª¤</li>
<li><strong>Tool å±‚</strong>ï¼šæ‰§è¡Œå…·ä½“æ“ä½œâ€”â€”Shell å‘½ä»¤ã€Puppeteer æµè§ˆå™¨æ§åˆ¶ã€æ–‡ä»¶ç³»ç»Ÿè¯»å†™</li>
</ul>
<p>ä½ ä»æ‰‹æœºå‘ä¸€æ¡æ¶ˆæ¯ â†’ Gateway æ”¶åˆ°åäº¤ç»™ Agent åˆ†æ â†’ Agent å†³å®šè°ƒç”¨ä»€ä¹ˆå·¥å…· â†’ Tool åœ¨ä½ çš„ç”µè„‘ä¸Šæ‰§è¡Œ â†’ ç»“æœé€šè¿‡æ¶ˆæ¯è¿”å›ç»™ä½ ã€‚</p>
<h3 data-id="heading-8">4.2 Gatewayï¼šæ•´ä¸ªç³»ç»Ÿçš„å¿ƒè„</h3>
<p>Gateway æ˜¯ Moltbot çš„æ ¸å¿ƒè¿›ç¨‹ï¼Œä»¥å®ˆæŠ¤è¿›ç¨‹ï¼ˆdaemonï¼‰æ–¹å¼è¿è¡Œã€‚ç”¨ <code>launchd</code>ï¼ˆmacOSï¼‰æˆ– <code>systemd</code>ï¼ˆLinuxï¼‰ç®¡ç†ï¼Œå¼€æœºè‡ªå¯ã€å´©æºƒè‡ªåŠ¨é‡å¯ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£…æ—¶è‡ªåŠ¨æ³¨å†Œä¸ºç³»ç»ŸæœåŠ¡</span>
moltbot onboard --install-daemon

<span class="hljs-comment"># æ—¥å¸¸ç®¡ç†</span>
moltbot gateway start | stop | restart | status
</code></pre>
<p>å®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª Node.js æœåŠ¡ï¼ˆè¦æ±‚ Node &gt;= 22ï¼‰ï¼Œç›‘å¬æœ¬åœ°ç«¯å£ <code>18789</code>ï¼ŒåŒæ—¶ç»´æŠ¤ä¸å„èŠå¤©å¹³å°çš„é•¿è¿æ¥ã€‚</p>
<h3 data-id="heading-9">4.3 Channelï¼šæ¶ˆæ¯é€šé“æœºåˆ¶</h3>
<p>Moltbot æ”¯æŒçš„æ¸ é“è¿œä¸æ­¢ Telegramï¼š</p>













































<table><thead><tr><th>æ¸ é“</th><th>æ¥å…¥æ–¹å¼</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td>WhatsApp</td><td>QR æ‰«ç é“¾æ¥è®¾å¤‡</td><td>æœ€æµè¡Œï¼Œä½†æœ‰è¢«å°å·é£é™©</td></tr><tr><td>Telegram</td><td>Bot Token</td><td>æœ€ç¨³å®šï¼Œæ¨èä½¿ç”¨</td></tr><tr><td>Discord</td><td>Bot Token</td><td>é€‚åˆå›¢é˜Ÿä½¿ç”¨</td></tr><tr><td>Slack</td><td>App/Bot Token</td><td>ä¼ä¸šåœºæ™¯</td></tr><tr><td>iMessage</td><td>ä»… macOS åŸç”Ÿ</td><td>è‹¹æœç”Ÿæ€ä¸“å±</td></tr><tr><td>Signal</td><td>æœ¬åœ°ç»‘å®š</td><td>æœ€éšç§</td></tr><tr><td>Web UI</td><td>æœ¬åœ° Dashboard</td><td>å…œåº•æ–¹æ¡ˆï¼Œæ— éœ€é…ç½®</td></tr></tbody></table>
<p>å…¶ä¸­ WhatsApp çš„æ¥å…¥æ–¹å¼æ¯”è¾ƒæœ‰æ„æ€â€”â€”å®ƒå¤ç”¨äº† WhatsApp Web çš„åè®®ï¼Œæ‰«ç åç›¸å½“äºåœ¨ä½ çš„ç”µè„‘ä¸Šç™»å½•äº†ä¸€ä¸ª WhatsApp Web å®¢æˆ·ç«¯ã€‚æ¶ˆæ¯å‘ç»™è‡ªå·±çš„å·ç ï¼ŒGateway æˆªè·åè½¬ç»™ Agent å¤„ç†ã€‚</p>
<blockquote>
<p>è¿™ä¹Ÿå¸¦æ¥ä¸€ä¸ªçœŸå®çš„ Bugï¼šæœ‰ç”¨æˆ·æŠ¥å‘Š Moltbot æ„å¤–ç»™ WhatsApp é€šè®¯å½•é‡Œ 20 ä¸ªè”ç³»äººç¾¤å‘äº†é…ç½®æ¶ˆæ¯ï¼ˆGitHub Issue #834ï¼‰ã€‚æ‰€ä»¥<strong>å¼ºçƒˆå»ºè®®ç”¨ä¸€ä¸ªå•ç‹¬çš„å·ç </strong>ã€‚</p>
</blockquote>
<h4 data-id="heading-10">å›½å†…ç”¨æˆ·æ³¨æ„ï¼šå¾®ä¿¡ã€é£ä¹¦ã€é’‰é’‰æ€ä¹ˆåŠï¼Ÿ</h4>
<p><strong>åæ¶ˆæ¯æ˜¯</strong>ï¼šMoltbot <strong>åŸç”Ÿä¸æ”¯æŒ</strong>å¾®ä¿¡ã€é£ä¹¦ã€é’‰é’‰è¿™äº›å›½å†…ä¸»æµå¹³å°ã€‚</p>






























<table><thead><tr><th>å¹³å°</th><th>æ”¯æŒæƒ…å†µ</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>å¾®ä¿¡</td><td>éœ€æ¡¥æ¥</td><td>ç†è®ºä¸Šå¯é€šè¿‡ Matrix + Wechaty æ¡¥æ¥ï¼Œä½†é…ç½®å¤æ‚ï¼Œä¸”<strong>æœ‰å°å·é£é™©</strong>ï¼ˆå¾®ä¿¡æ˜ç¡®ç¦æ­¢ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯ï¼‰</td></tr><tr><td>ä¼ä¸šå¾®ä¿¡</td><td>éœ€æ¡¥æ¥</td><td>åŒä¸Šï¼Œé€šè¿‡ Wechaty</td></tr><tr><td>é£ä¹¦</td><td>ä¸æ”¯æŒ</td><td>å®˜æ–¹æ— æ”¯æŒï¼Œæš‚æ— ç¤¾åŒºæ‰©å±•</td></tr><tr><td>é’‰é’‰</td><td>ä¸æ”¯æŒ</td><td>åŒä¸Š</td></tr></tbody></table>
<p><strong>å›½å†…ç”¨æˆ·çš„æ¨èæ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li><strong>Telegram</strong>ï¼ˆæ¨èï¼‰ï¼šä½“éªŒæœ€å¥½ï¼Œæ³¨å†Œåªéœ€ä¸€ä¸ªæ‰‹æœºå·ï¼Œå›½å†…å¯ç”¨ï¼ˆéœ€è¦ä¸€ç‚¹ç½‘ç»œæŠ€å·§ï¼‰</li>
<li><strong>Web UI</strong>ï¼šé›¶é…ç½®ï¼Œæ‰“å¼€æµè§ˆå™¨è®¿é—® <code>http://127.0.0.1:18789/</code> ç›´æ¥ç”¨ï¼Œé€‚åˆåœ¨ç”µè„‘å‰çš„åœºæ™¯</li>
<li><strong>Discord</strong>ï¼šå¦‚æœä½ æœ¬æ¥å°±ç”¨ Discordï¼Œå¯ä»¥æ— ç¼æ¥å…¥</li>
</ol>
<p>å¾®ä¿¡æ¡¥æ¥å±äºâ€œé«˜çº§ç©æ³•â€ï¼Œæ¶‰åŠ Matrix æœåŠ¡å™¨æ­å»º + Wechaty Puppet é…ç½®ï¼Œä¸”éšæ—¶å¯èƒ½è¢«å°å·ï¼Œ<strong>ä¸å»ºè®®æ™®é€šç”¨æˆ·å°è¯•</strong>ã€‚</p>
<h3 data-id="heading-11">4.4 Skillsï¼šå¯æ’æ‹”çš„èƒ½åŠ›ç³»ç»Ÿ</h3>
<p>è¿™æ˜¯ Moltbot æœ€æœ‰æƒ³è±¡åŠ›çš„è®¾è®¡ã€‚æ¯ä¸ª Skill å°±æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œé‡Œé¢æ”¾ä¸€ä¸ª <code>SKILL.md</code> æ–‡ä»¶ï¼Œç”¨ YAML frontmatter + Markdown æè¿°è¿™ä¸ªæŠ€èƒ½çš„èƒ½åŠ›å’Œä½¿ç”¨æ–¹å¼ã€‚</p>
<pre><code class="hljs language-markdown" lang="markdown">---
name: weather
description: è·å–å¤©æ°”é¢„æŠ¥
tools: [shell, web]
<span class="hljs-section">triggers: ["å¤©æ°”", "weather", "forecast"]
---</span>

<span class="hljs-section"># Weather Skill</span>

å½“ç”¨æˆ·è¯¢é—®å¤©æ°”æ—¶ï¼Œä½¿ç”¨ wttr.in API è·å–å¤©æ°”ä¿¡æ¯ã€‚

<span class="hljs-section">## ä½¿ç”¨æ–¹æ³•</span>
curl wttr.in/{åŸå¸‚å}?format=3
</code></pre>
<p>å°±è¿™ä¹ˆç®€å•ã€‚Agent åœ¨è¿è¡Œæ—¶åŠ è½½æ‰€æœ‰ Skillsï¼Œé‡åˆ°ç›¸å…³æŒ‡ä»¤æ—¶è‡ªåŠ¨åŒ¹é…è°ƒç”¨ã€‚</p>
<p>Moltbot å†…ç½®äº† <strong>50+ å®˜æ–¹ Skills</strong>ï¼ˆå¤©æ°”ã€GitHubã€Notionã€Slack ç­‰ï¼‰ï¼Œç¤¾åŒºè´¡çŒ®äº† <strong>100+</strong> ä¸ªã€‚è¿˜æœ‰ä¸€ä¸ª Skills å¸‚åœº ClawdHubï¼Œå¯ä»¥ä¸€é”®å®‰è£…ã€‚</p>
<p>æœ€éªšçš„æ˜¯ï¼š<strong>ä½ å¯ä»¥è®© Moltbot è‡ªå·±å†™æ–° Skillã€‚</strong> æ¯”å¦‚ä½ è¯´â€œå¸®æˆ‘å†™ä¸€ä¸ªç›‘æ§ Hacker News å¤´æ¡çš„æŠ€èƒ½â€ï¼Œå®ƒä¼šè‡ªå·±åˆ›å»º Skill æ–‡ä»¶å¤¹ã€å†™å¥½é…ç½®ã€å®‰è£…å¹¶æ¿€æ´»ã€‚</p>
<h3 data-id="heading-12">4.5 æŒä¹…è®°å¿†</h3>
<p>å’Œæ™®é€š AI å¯¹è¯ä¸åŒï¼ŒMoltbot æœ‰<strong>è·¨ä¼šè¯çš„é•¿æœŸè®°å¿†</strong>ã€‚</p>
<p>å®ç°æ–¹å¼å‡ºäººæ„æ–™åœ°æœ´ç´ ï¼šæ‰€æœ‰å¯¹è¯è®°å½•ä»¥ Markdown æ–‡ä»¶å­˜å‚¨åœ¨æœ¬åœ° <code>~/.moltbot/memory/</code> ç›®å½•ä¸‹ã€‚æ¯æ¬¡å¯¹è¯æ—¶ï¼ŒAgent ä¼šæ£€ç´¢ç›¸å…³çš„å†å²ä¸Šä¸‹æ–‡ä¸€èµ·å‘ç»™å¤§æ¨¡å‹ã€‚</p>
<p>è¿™æ„å‘³ç€ï¼š</p>
<ul>
<li>å®ƒè®°å¾—ä½ çš„åå¥½ï¼ˆâ€œä¸Šæ¬¡ä½ è¯´ä½ ä¸åƒè¾£â€ï¼‰</li>
<li>å®ƒè®°å¾—é¡¹ç›®è¿›åº¦ï¼ˆâ€œä½ ä¸Šå‘¨è¯´è¦åœ¨å‘¨äº”å‰å®Œæˆ API æ–‡æ¡£â€ï¼‰</li>
<li>å®ƒè®°å¾—ä½ çš„ä¹ æƒ¯ï¼ˆâ€œä½ é€šå¸¸åœ¨å‘¨ä¸‰ä¸‹åˆå¼€ä¼šâ€ï¼‰</li>
</ul>
<p>æ•°æ®å…¨éƒ¨åœ¨æœ¬åœ°ï¼Œæ²¡æœ‰ä»»ä½•äº‘ç«¯åŒæ­¥ã€‚éšç§æ–¹é¢æ¯”ä»»ä½•äº‘æœåŠ¡éƒ½å¼ºâ€”â€”å½“ç„¶ï¼Œå‰ææ˜¯ä½ çš„ç”µè„‘æœ¬èº«æ˜¯å®‰å…¨çš„ã€‚</p>
<h3 data-id="heading-13">4.6 ä¼šè¯éš”ç¦»ï¼šæ²™ç®±æœºåˆ¶</h3>
<p>Moltbot åŒºåˆ†â€œä¸»ä¼šè¯â€å’Œâ€œéä¸»ä¼šè¯â€ï¼š</p>
<ul>
<li><strong>ä¸»ä¼šè¯</strong>ï¼šå®Œæ•´ç³»ç»Ÿæƒé™ï¼Œå¯ä»¥è¯»å†™æ–‡ä»¶ã€æ‰§è¡Œ bashã€æ§åˆ¶æµè§ˆå™¨</li>
<li><strong>éä¸»ä¼šè¯</strong>ï¼šè‡ªåŠ¨åˆ‡åˆ° Docker æ²™ç®±ä¸­æ‰§è¡Œï¼Œé™åˆ¶äº†ç ´åèŒƒå›´</li>
</ul>
<p>è¿™æ˜¯ä¸€ä¸ªåŠ¡å®çš„å®‰å…¨è®¾è®¡â€”â€”åœ¨ä½ è‡ªå·±çš„è®¾å¤‡ä¸Šæ“ä½œéœ€è¦å®Œæ•´æƒé™ï¼Œä½†å¦‚æœåˆ«äººä¹Ÿèƒ½å‘ä½ çš„ Moltbot å‘æ¶ˆæ¯ï¼Œå°±éœ€è¦éš”ç¦»ä¿æŠ¤ã€‚</p>
<hr/>
<h2 data-id="heading-14">äº”ã€å®‰å…¨ï¼šæˆ¿é—´é‡Œçš„å¤§è±¡</h2>
<p>Moltbot å¾ˆé…·ï¼Œä½†å®‰å…¨é—®é¢˜å·²ç»å¤§åˆ°ä¸èƒ½å¿½è§†ã€‚</p>
<h3 data-id="heading-15">çœŸå®æ”»å‡»æ¡ˆä¾‹</h3>
<p>å®‰å…¨ç ”ç©¶å‘˜ Matvey Kukuy åšäº†ä¸€ä¸ªæ¼”ç¤ºï¼š</p>
<ol>
<li>å‘ä¸€ä¸ªæš´éœ²åœ¨å…¬ç½‘çš„ Moltbot å®ä¾‹å‘é€ä¸€å°é‚®ä»¶</li>
<li>é‚®ä»¶å†…å®¹åŒ…å«<strong>æç¤ºæ³¨å…¥</strong>æŒ‡ä»¤</li>
<li>Moltbot è¯»å–é‚®ä»¶åï¼Œè®¤ä¸ºè¿™æ˜¯åˆæ³•æŒ‡ä»¤</li>
<li><strong>è‡ªåŠ¨æŠŠç”¨æˆ·æœ€è¿‘ 5 å°é‚®ä»¶è½¬å‘ç»™äº†æ”»å‡»è€…</strong></li>
</ol>
<p>æ•´ä¸ªè¿‡ç¨‹åªç”¨äº† 5 åˆ†é’Ÿã€‚</p>
<h3 data-id="heading-16">æ…¢é›¾å®‰å…¨å›¢é˜Ÿè­¦å‘Š</h3>
<p>åŒºå—é“¾å®‰å…¨å…¬å¸æ…¢é›¾ï¼ˆSlowMistï¼‰å‘ç°ï¼Œäº’è”ç½‘ä¸Šæœ‰<strong>å¤§é‡ Moltbot å®ä¾‹æœªé…ç½®è®¤è¯å°±æš´éœ²åœ¨å…¬ç½‘ä¸Š</strong>ã€‚GitHub ä¸Šå·²æœ‰è¶…è¿‡ 500 ä¸ªå®‰å…¨ç›¸å…³çš„ Issueã€‚</p>
<h3 data-id="heading-17">Google å®‰å…¨å‰¯æ€»è£å‘è¯</h3>
<blockquote>
<p>â€œå®ƒéœ€è¦ä¸“ä¸šæŠ€èƒ½æ‰èƒ½å®‰å…¨ä½¿ç”¨ã€‚â€
â€” Heather Adkins, Google Cloud å®‰å…¨å·¥ç¨‹å‰¯æ€»è£</p>
</blockquote>
<h3 data-id="heading-18">ä½ éœ€è¦æ³¨æ„ä»€ä¹ˆï¼Ÿ</h3>
<p>å¦‚æœä½ æ‰“ç®—éƒ¨ç½²ï¼Œè¿™å‡ æ¡æ˜¯åº•çº¿ï¼š</p>





























<table><thead><tr><th>è§„åˆ™</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>ä¸è¦æš´éœ²åˆ°å…¬ç½‘</strong></td><td>åªåœ¨å±€åŸŸç½‘æˆ– VPN ä¸‹ä½¿ç”¨</td></tr><tr><td><strong>ç”¨å•ç‹¬çš„å·ç </strong></td><td>é¿å… WhatsApp ç¾¤å‘äº‹æ•…</td></tr><tr><td><strong>å¼€å¯æ²™ç®±</strong></td><td>éä¸»ä¼šè¯åœ¨ Docker ä¸­è¿è¡Œ</td></tr><tr><td><strong>å®¡è®¡ Skills</strong></td><td>åªå®‰è£…ä½ äº†è§£çš„æŠ€èƒ½ï¼Œç¤¾åŒº Skills è¦çœ‹æºç </td></tr><tr><td><strong>å®šæœŸæŸ¥æ—¥å¿—</strong></td><td><code>moltbot gateway logs</code></td></tr></tbody></table>
<hr/>
<h2 data-id="heading-19">å…­ã€å®ƒåˆ°åº•å€¼ä¸å€¼å¾—ç©ï¼Ÿ</h2>
<p>è¯´å®è¯ï¼ŒMoltbot ç›®å‰è¿˜æ˜¯ä¸€ä¸ª<strong>æå®¢ç©å…·</strong>ï¼Œä¸æ˜¯å¼€ç®±å³ç”¨çš„äº§å“ã€‚</p>
<p><strong>é€‚åˆä½ çš„æƒ…å†µï¼š</strong></p>
<ul>
<li>ä½ æ˜¯å¼€å‘è€…ï¼Œå¯¹ç»ˆç«¯å’Œå‘½ä»¤è¡Œä¸é™Œç”Ÿ</li>
<li>ä½ æ„¿æ„èŠ±æ—¶é—´æŠ˜è…¾é…ç½®</li>
<li>ä½ æƒ³ä½“éªŒâ€œAI Agentâ€åˆ°åº•èƒ½åšåˆ°ä»€ä¹ˆç¨‹åº¦</li>
<li>ä½ å¯¹å®‰å…¨é£é™©æœ‰è®¤çŸ¥å’Œåº”å¯¹èƒ½åŠ›</li>
</ul>
<p><strong>ä¸é€‚åˆä½ çš„æƒ…å†µï¼š</strong></p>
<ul>
<li>ä½ åªæƒ³è¦ä¸€ä¸ªâ€œæ›´å¥½ç”¨çš„ Siriâ€</li>
<li>ä½ å¯¹å‘½ä»¤è¡Œä¸€çªä¸é€š</li>
<li>ä½ æ— æ³•æ¥å—ä»»ä½•å®‰å…¨é£é™©</li>
</ul>
<h3 data-id="heading-20">æˆæœ¬æ¦‚è§ˆ</h3>





















<table><thead><tr><th>é¡¹ç›®</th><th>è´¹ç”¨</th></tr></thead><tbody><tr><td>Moltbot è½¯ä»¶</td><td>å…è´¹å¼€æº</td></tr><tr><td>API è´¹ç”¨ï¼ˆClaudeï¼‰</td><td>è½»åº¦ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>âˆ’</mo><mn>5</mn><mi mathvariant="normal">/</mi><mtext>æœˆï¼Œé‡åº¦</mtext></mrow><annotation encoding="application/x-tex">3-5/æœˆï¼Œé‡åº¦ </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"/><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">5/</span><span class="mord cjk_fallback">æœˆï¼Œé‡åº¦</span></span></span></span></span>10-20/æœˆ</td></tr><tr><td>ç¡¬ä»¶</td><td>ç”¨ç°æœ‰ç”µè„‘å…è´¹ï¼›ä¹° Mac mini çº¦ Â¥4000 ä¸€æ¬¡æ€§</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-21">ä¸ƒã€ç›¸å…³èµ„æº</h2>
<ul>
<li>å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmolt.bot%2F" target="_blank" title="https://molt.bot/" ref="nofollow noopener noreferrer">molt.bot/</a></li>
<li>GitHub ä»“åº“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmoltbot%2Fmoltbot" target="_blank" title="https://github.com/moltbot/moltbot" ref="nofollow noopener noreferrer">github.com/moltbot/molâ€¦</a></li>
<li>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.molt.bot%2Fstart%2Fgetting-started" target="_blank" title="https://docs.molt.bot/start/getting-started" ref="nofollow noopener noreferrer">docs.molt.bot/start/gettiâ€¦</a></li>
<li>Skills å¸‚åœºï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fclawdhub.com%2F" target="_blank" title="https://clawdhub.com/" ref="nofollow noopener noreferrer">clawdhub.com/</a></li>
<li>Anthropic API é…ç½®æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.molt.bot%2Fproviders%2Fanthropic" target="_blank" title="https://docs.molt.bot/providers/anthropic" ref="nofollow noopener noreferrer">docs.molt.bot/providers/aâ€¦</a></li>
</ul>
<hr/>
<h2 data-id="heading-22">ä¸‹ç¯‡é¢„å‘Šï¼ˆå¯èƒ½ï¼‰</h2>
<p>å…‰è¯´ä¸ç»ƒå‡æŠŠå¼ã€‚å¦‚æœä½ å¯¹ Moltbot æ„Ÿå…´è¶£ï¼Œæ¬¢è¿ç•™è¨€ï¼Œæ ¹æ®éœ€è¦ï¼Œå¯èƒ½ä¸‹ä¸€ç¯‡æˆ‘ä¼šåˆ†äº«<strong>å®é™…éƒ¨ç½² Moltbot</strong>ï¼Œå¹¶ä¸”æ¼”ç¤ºå‡ ä¸ªå¯¹å›½å†…ç”¨æˆ·çœŸæ­£æœ‰ç”¨çš„â€œéªšæ“ä½œâ€â€”â€”ä¸æ˜¯é‚£äº›ç¡…è°·å¼çš„èŠ±å“¨ demoï¼Œè€Œæ˜¯ä½ å·¥ä½œä¸­æ¯å¤©éƒ½ä¼šé‡åˆ°çš„ç—›ç‚¹ã€‚</p>
<hr/>
<p>æˆ‘æ˜¯ <strong>ç¨‹åºå‘˜ä¹‰æ‹‰å† </strong>ï¼ŒæŒç»­åˆ†äº« AI åº”ç”¨å’Œå¼€å‘ç»éªŒï¼Œå¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œç»™ç‚¹ä¸ªå°çº¢å¿ƒå§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»é›¶å¼€å§‹æ­å»ºéƒ¨ç½² Moltbot/Clawdbot å®Œæ•´æ”»ç•¥]]></title>    <link>https://juejin.cn/post/7599970244786864191</link>    <guid>https://juejin.cn/post/7599970244786864191</guid>    <pubDate>2026-01-28T04:14:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599970244786864191" data-draft-id="7599983917664321579" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»é›¶å¼€å§‹æ­å»ºéƒ¨ç½² Moltbot/Clawdbot å®Œæ•´æ”»ç•¥"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,æœºå™¨å­¦ä¹ "/> <meta itemprop="datePublished" content="2026-01-28T04:14:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‡ºé—¨ä¸ä¸‹é›¨"/> <meta itemprop="url" content="https://juejin.cn/user/4388906150921614"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»é›¶å¼€å§‹æ­å»ºéƒ¨ç½² Moltbot/Clawdbot å®Œæ•´æ”»ç•¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4388906150921614/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‡ºé—¨ä¸ä¸‹é›¨
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T04:14:21.000Z" title="Wed Jan 28 2026 04:14:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»é›¶å¼€å§‹æ­å»ºéƒ¨ç½² Moltbot/Clawdbot å®Œæ•´æ”»ç•¥</h2>
<p><em>æ–°æ‰‹å…¥é—¨æŒ‡å— - 2026å¹´1æœˆç‰ˆæœ¬</em></p>
<hr/>
<h3 data-id="heading-1">ğŸ“‹ ç›®å½•</h3>
<ol>
<li><a href="#1-%E7%AE%80%E4%BB%8B" title="#1-%E7%AE%80%E4%BB%8B">ç®€ä»‹</a></li>
<li><a href="#2-%E7%B3%BB%E7%BB%9F%E8%A6%81%E6%B1%82" title="#2-%E7%B3%BB%E7%BB%9F%E8%A6%81%E6%B1%82">ç³»ç»Ÿè¦æ±‚</a></li>
<li><a href="#3-windows-%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85" title="#3-windows-%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85">Windows ç³»ç»Ÿå®‰è£…</a></li>
<li><a href="#4-mac-%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85" title="#4-mac-%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85">Mac ç³»ç»Ÿå®‰è£…</a></li>
<li><a href="#5-%E9%A6%96%E6%AC%A1%E9%85%8D%E7%BD%AE%E5%90%91%E5%AF%BC" title="#5-%E9%A6%96%E6%AC%A1%E9%85%8D%E7%BD%AE%E5%90%91%E5%AF%BC">é¦–æ¬¡é…ç½®å‘å¯¼</a></li>
<li><a href="#6-%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4%E5%A4%A7%E5%85%A8" title="#6-%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4%E5%A4%A7%E5%85%A8">å¸¸ç”¨æŒ‡ä»¤å¤§å…¨</a></li>
<li><a href="#7-%E6%97%A5%E5%B8%B8%E7%BB%B4%E6%8A%A4" title="#7-%E6%97%A5%E5%B8%B8%E7%BB%B4%E6%8A%A4">æ—¥å¸¸ç»´æŠ¤</a></li>
<li><a href="#8-%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4" title="#8-%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4">æ•…éšœæ’é™¤</a></li>
<li><a href="#9-%E8%BF%9B%E9%98%B6%E9%85%8D%E7%BD%AE" title="#9-%E8%BF%9B%E9%98%B6%E9%85%8D%E7%BD%AE">è¿›é˜¶é…ç½®</a></li>
<li><a href="#10-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98" title="#10-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98">å¸¸è§é—®é¢˜</a></li>
</ol>
<hr/>
<h3 data-id="heading-2">1. ç®€ä»‹</h3>
<h4 data-id="heading-3">ä»€ä¹ˆæ˜¯ Moltbot/Clawdbotï¼Ÿ</h4>
<p>Moltbot/Clawdbot æ˜¯ä¸€ä¸ª AI åŠ©æ‰‹æ¡†æ¶ï¼Œæ”¯æŒï¼š</p>
<ul>
<li>ğŸ¤– å¤šæ¨¡å‹æ”¯æŒï¼ˆMiniMaxã€Claudeã€GLMã€GPTç­‰ï¼‰</li>
<li>ğŸ’¬ å¤šå¹³å°é›†æˆï¼ˆWhatsAppã€Telegramã€Discordç­‰ï¼‰</li>
<li>ğŸ› ï¸ å¼ºå¤§çš„å·¥å…·ç”Ÿæ€ï¼ˆæµè§ˆå™¨ã€æ–‡ä»¶ç³»ç»Ÿã€ä»£ç ç”Ÿæˆç­‰ï¼‰</li>
<li>ğŸ”§ å¯æ‰©å±•çš„æŠ€èƒ½ç³»ç»Ÿ</li>
</ul>
<h4 data-id="heading-4">ç‰ˆæœ¬è¯´æ˜</h4>
<ul>
<li><strong>Moltbot</strong>: å®˜æ–¹åç§°ï¼Œæœ€æ–°ç‰ˆæœ¬ä½¿ç”¨çš„å‘½ä»¤</li>
<li><strong>Clawdbot</strong>: æ—§ç‰ˆæœ¬å‘½ä»¤ï¼Œéƒ¨åˆ†ç”¨æˆ·å¯èƒ½ä»åœ¨ä½¿ç”¨</li>
<li>æœ¬æ•™ç¨‹ä»¥ <strong>moltbot</strong> ä¸ºå‡†ï¼Œclawdbot ç”¨æˆ·å¯å°†å‘½ä»¤æ›¿æ¢ä½¿ç”¨</li>
</ul>
<hr/>
<h3 data-id="heading-5">2. ç³»ç»Ÿè¦æ±‚</h3>
<h4 data-id="heading-6">åŸºç¡€è¦æ±‚</h4>





























<table><thead><tr><th>é¡¹ç›®</th><th>è¦æ±‚</th></tr></thead><tbody><tr><td><strong>æ“ä½œç³»ç»Ÿ</strong></td><td>macOS 10.15+ / Windows 10+ / Linux (Ubuntu 20.04+)</td></tr><tr><td><strong>Node.js</strong></td><td>&gt;= 22.x (å¿…éœ€)</td></tr><tr><td><strong>å†…å­˜</strong></td><td>æœ€ä½ 2GBï¼Œæ¨è 4GB+</td></tr><tr><td><strong>ç£ç›˜ç©ºé—´</strong></td><td>æœ€ä½ 1GBï¼Œæ¨è 5GB+</td></tr><tr><td><strong>ç½‘ç»œ</strong></td><td>éœ€è¦è®¿é—®äº’è”ç½‘ï¼ˆAPI è°ƒç”¨ï¼‰,å¿…é¡»ä½¿ç”¨ä»£ç†ï¼Œå¦åˆ™æ— æ³•å¯åŠ¨gateway</td></tr></tbody></table>
<h4 data-id="heading-7">Windows é¢å¤–è¦æ±‚</h4>
<ul>
<li><strong>æ¨è</strong>: WSL2 (Windows Subsystem for Linux 2)</li>
<li><strong>åŸå› </strong>: åŸç”Ÿ Windows æ”¯æŒä¸å®Œå–„ï¼Œå·¥å…·å…¼å®¹æ€§è¾ƒå·®</li>
</ul>
<h4 data-id="heading-8">macOS é¢å¤–è¦æ±‚</h4>
<ul>
<li><strong>Xcode Command Line Tools</strong>: å¯é€‰ï¼ˆä»…æ„å»ºåº”ç”¨æ—¶éœ€è¦ï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-9">3. Windows ç³»ç»Ÿå®‰è£…</h3>
<h4 data-id="heading-10">3.1 å®‰è£… WSL2 (æ¨è)</h4>
<h5 data-id="heading-11">æ­¥éª¤ 1ï¼šå¯ç”¨ WSL2 åŠŸèƒ½</h5>
<p><strong>ä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€ PowerShellï¼š</strong></p>
<pre><code class="hljs language-powershell" lang="powershell"># å¯ç”¨ WSL åŠŸèƒ½
dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart

# å¯ç”¨è™šæ‹Ÿæœºå¹³å°
dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart
</code></pre>
<h5 data-id="heading-12">æ­¥éª¤ 2ï¼šé‡å¯ç”µè„‘</h5>
<h5 data-id="heading-13">æ­¥éª¤ 3ï¼šå®‰è£… WSL2 å†…æ ¸æ›´æ–°</h5>
<p>ä¸‹è½½å¹¶å®‰è£…ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fwslstorestorage.blob.core.windows.net%2Fwslblob%2Fwsl_update_x64.msi" target="_blank" title="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi" ref="nofollow noopener noreferrer">wslstorestorage.blob.core.windows.net/wslblob/wslâ€¦</a></p>
<h5 data-id="heading-14">æ­¥éª¤ 4ï¼šè®¾ç½® WSL2 ä¸ºé»˜è®¤</h5>
<pre><code class="hljs language-powershell" lang="powershell">wsl --set-default-version 2
</code></pre>
<h5 data-id="heading-15">æ­¥éª¤ 5ï¼šå®‰è£… Ubuntu</h5>
<ol>
<li>æ‰“å¼€ Microsoft Store</li>
<li>æœç´¢ "Ubuntu 22.04 LTS"</li>
<li>å®‰è£…å¹¶å¯åŠ¨</li>
<li>è®¾ç½®ç”¨æˆ·åå’Œå¯†ç </li>
</ol>
<h4 data-id="heading-16">3.2 åœ¨ WSL2 ä¸­å®‰è£… Node.js</h4>
<p><strong>æ‰“å¼€ WSL2 ç»ˆç«¯ï¼ˆUbuntuï¼‰ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ›´æ–°åŒ…åˆ—è¡¨</span>
sudo apt update &amp;&amp; sudo apt upgrade -y

<span class="hljs-comment"># å®‰è£… curl</span>
sudo apt install -y curl

<span class="hljs-comment"># å®‰è£… Node.js 22.x</span>
curl -fsSL https://deb.nodesource.com/setup_22.x | sudo -E bash -

sudo apt-get install -y nodejs

<span class="hljs-comment"># éªŒè¯å®‰è£…</span>
node --version
npm --version
</code></pre>
<h4 data-id="heading-17">3.3 å®‰è£… Moltbot</h4>
<p><strong>åœ¨ WSL2 ç»ˆç«¯ä¸­ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£… moltbot</span>
curl -fsSL https://molt.bot/install.sh | bash

<span class="hljs-comment"># éªŒè¯å®‰è£…</span>
moltbot --version

<span class="hljs-comment"># å¦‚æœå‘½ä»¤æ‰¾ä¸åˆ°ï¼Œæ·»åŠ åˆ° PATH</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">'export PATH="$PATH:/usr/local/bin"'</span> &gt;&gt; ~/.bashrc
<span class="hljs-built_in">source</span> ~/.bashrc
</code></pre>
<h4 data-id="heading-18">3.4 å®‰è£… Docker (å¯é€‰ï¼Œç”¨äºæ²™ç®±)</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨ WSL2 ä¸­å®‰è£… Docker</span>
curl -fsSL https://get.docker.com -y | sudo sh

<span class="hljs-comment"># æ·»åŠ å½“å‰ç”¨æˆ·åˆ° docker ç»„</span>
sudo usermod -aG docker <span class="hljs-variable">$USER</span>

<span class="hljs-comment"># å¯åŠ¨ Docker æœåŠ¡</span>
sudo service docker start

<span class="hljs-comment"># éªŒè¯</span>
docker --version
</code></pre>
<h4 data-id="heading-19">3.5 é‡åˆ°é—®é¢˜ï¼Ÿ</h4>
<p>å¦‚æœ WSL2 å®‰è£…å›°éš¾ï¼Œå¯ä»¥å°è¯•ï¼š</p>
<p><strong>æ–¹æ¡ˆ Aï¼šä½¿ç”¨ Docker Desktop</strong></p>
<ol>
<li>ä¸‹è½½ Docker Desktop for Windows</li>
<li>å¯ç”¨ WSL2 backend</li>
<li>åœ¨ WSL2 ä¸­ä½¿ç”¨ docker å‘½ä»¤</li>
</ol>
<p><strong>æ–¹æ¡ˆ Bï¼šä½¿ç”¨è™šæ‹Ÿæœº</strong></p>
<ol>
<li>å®‰è£… VirtualBox</li>
<li>å®‰è£… Ubuntu 22.04 è™šæ‹Ÿæœº</li>
<li>åœ¨è™šæ‹Ÿæœºä¸­å®‰è£… Moltbot</li>
</ol>
<hr/>
<h3 data-id="heading-20">4. Mac ç³»ç»Ÿå®‰è£…</h3>
<h4 data-id="heading-21">4.1 å®‰è£… Homebrew (å¦‚æœæœªå®‰è£…)</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£… Homebrew</span>
/bin/bash -c <span class="hljs-string">"<span class="hljs-subst">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)</span>"</span>

<span class="hljs-comment"># éªŒè¯</span>
brew --version
</code></pre>
<h4 data-id="heading-22">4.2 å®‰è£… Node.js 22.x</h4>
<p><strong>æ–¹æ¡ˆ Aï¼šä½¿ç”¨ Homebrew</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£… Node.js 22</span>
brew install node@22

<span class="hljs-comment"># æ·»åŠ åˆ° PATH</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">'export PATH="/usr/local/opt/node@22/bin:$PATH"'</span> &gt;&gt; ~/.zshrc
<span class="hljs-built_in">source</span> ~/.zshrc

<span class="hljs-comment"># éªŒè¯</span>
node --version
</code></pre>
<p><strong>æ–¹æ¡ˆ Bï¼šä½¿ç”¨ nvm (æ¨è)</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£… nvm</span>
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash

<span class="hljs-comment"># åŠ è½½ nvm</span>
<span class="hljs-built_in">source</span> ~/.zshrc

<span class="hljs-comment"># å®‰è£… Node.js 22</span>
nvm install 22
nvm use 22

<span class="hljs-comment"># éªŒè¯</span>
node --version
</code></pre>
<h4 data-id="heading-23">4.3 å®‰è£… Moltbot</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£… moltbot (æ¨èæ–¹å¼)</span>
curl -fsSL https://molt.bot/install.sh | bash

<span class="hljs-comment"># éªŒè¯å®‰è£…</span>
moltbot --version

<span class="hljs-comment"># å¦‚æœå‘½ä»¤æ‰¾ä¸åˆ°ï¼Œæ‰‹åŠ¨æ·»åŠ åˆ° PATH</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">'export PATH="$PATH:/usr/local/bin"'</span> &gt;&gt; ~/.zshrc
<span class="hljs-built_in">source</span> ~/.zshrc
</code></pre>
<p><strong>æˆ–è€…ä½¿ç”¨ npm å®‰è£…ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å…¨å±€å®‰è£…</span>
npm install -g moltbot@latest

<span class="hljs-comment"># éªŒè¯</span>
moltbot --version
</code></pre>
<p><strong>æˆ–è€…ä½¿ç”¨ pnpmï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£… pnpm</span>
npm install -g pnpm

<span class="hljs-comment"># å®‰è£… moltbot</span>
pnpm add -g moltbot@latest

<span class="hljs-comment"># éªŒè¯</span>
moltbot --version
</code></pre>
<h4 data-id="heading-24">4.4 å®‰è£… Docker (å¯é€‰ï¼Œç”¨äºæ²™ç®±)</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£… Docker Desktop for Mac</span>
<span class="hljs-comment"># ä¸‹è½½åœ°å€: https://www.docker.com/products/docker-desktop/</span>

<span class="hljs-comment"># éªŒè¯</span>
docker --version
</code></pre>
<h4 data-id="heading-25">4.5 Xcode Command Line Tools (å¯é€‰)</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£…</span>
xcode-select --install

<span class="hljs-comment"># éªŒè¯</span>
xcode-select -p
</code></pre>
<hr/>
<h3 data-id="heading-26">5. é¦–æ¬¡é…ç½®å‘å¯¼</h3>
<h4 data-id="heading-27">5.1 å¯åŠ¨å‘å¯¼</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¯åŠ¨äº¤äº’å¼é…ç½®å‘å¯¼</span>
moltbot onboard
</code></pre>
<h4 data-id="heading-28">5.2 å‘å¯¼æ­¥éª¤è¯´æ˜</h4>
<h5 data-id="heading-29">æ­¥éª¤ 1ï¼šé€‰æ‹©æ¨¡å¼</h5>
<pre><code class="hljs language-perl" lang="perl">? Gateway mode: (Use arrow <span class="hljs-keyword">keys</span>)
â¯ Local    <span class="hljs-comment"># æœ¬åœ°è¿è¡Œï¼ˆæ¨èï¼‰</span>
  Remote   <span class="hljs-comment"># è¿æ¥åˆ°è¿œç¨‹ Gateway</span>
</code></pre>
<p><strong>å»ºè®®</strong>: é€‰æ‹© Local</p>
<h5 data-id="heading-30">æ­¥éª¤ 2ï¼šæ¨¡å‹/è®¤è¯é…ç½®</h5>
<pre><code class="hljs language-perl" lang="perl">? Auth provider: (Use arrow <span class="hljs-keyword">keys</span>)
  Anthropic (API key)          <span class="hljs-comment"># æ¨è</span>
  Anthropic (OAuth)
  OpenAI
  MiniMax                      <span class="hljs-comment"># å¦‚æœæƒ³ç”¨ MiniMax</span>
  GLM                          <span class="hljs-comment"># å¦‚æœæƒ³ç”¨ GLM</span>
  ...æ›´å¤šé€‰é¡¹
</code></pre>
<p><strong>é€‰æ‹© Anthropic (API key)</strong> å¹¶è¾“å…¥æ‚¨çš„ Anthropic API Key</p>
<h5 data-id="heading-31">æ­¥éª¤ 3ï¼šé€‰æ‹©é»˜è®¤æ¨¡å‹</h5>
<pre><code class="hljs language-perl" lang="perl">? Default model: (Use arrow <span class="hljs-keyword">keys</span>)
â¯ claude-sonnet-<span class="hljs-number">4</span>-<span class="hljs-number">0</span>           <span class="hljs-comment"># æ¨èï¼Œé€Ÿåº¦å’Œæ™ºèƒ½å¹³è¡¡</span>
  claude-opus-<span class="hljs-number">4</span>-<span class="hljs-number">5</span>             <span class="hljs-comment"># æ›´å¼ºæ™ºèƒ½ï¼Œä½†æ›´æ…¢</span>
  claude-haiku-<span class="hljs-number">3</span>-<span class="hljs-number">5</span>            <span class="hljs-comment"># å¿«é€Ÿå“åº”</span>
  ...æ›´å¤šæ¨¡å‹
</code></pre>
<h5 data-id="heading-32">æ­¥éª¤ 4ï¼šWorkspace è®¾ç½®</h5>
<pre><code class="hljs language-bash" lang="bash">? Workspace directory: (Use arrow keys)
â¯ ~/clawd                      <span class="hljs-comment"># é»˜è®¤å·¥ä½œåŒº</span>
  è‡ªå®šä¹‰è·¯å¾„
</code></pre>
<p><strong>å»ºè®®</strong>: ä½¿ç”¨é»˜è®¤ ~/clawd</p>
<h5 data-id="heading-33">æ­¥éª¤ 5ï¼šGateway é…ç½®</h5>
<pre><code class="hljs language-perl" lang="perl">? Gateway port: <span class="hljs-number">18789</span>          <span class="hljs-comment"># é»˜è®¤ç«¯å£</span>
? Gateway <span class="hljs-keyword">bind</span>: (Use arrow <span class="hljs-keyword">keys</span>)
â¯ loopback                     <span class="hljs-comment"># æœ¬åœ°å›ç¯ï¼ˆæ¨èï¼‰</span>
  lan                         <span class="hljs-comment"># å±€åŸŸç½‘</span>
  tailnet                     <span class="hljs-comment"># Tailscale ç½‘ç»œ</span>
</code></pre>
<h5 data-id="heading-34">æ­¥éª¤ 6ï¼šè®¤è¯è®¾ç½®</h5>
<pre><code class="hljs language-perl" lang="perl">? Gateway auth mode: (Use arrow <span class="hljs-keyword">keys</span>)
â¯ Token                       <span class="hljs-comment"># æ¨èï¼Œéœ€è¦ token</span>
  None                        <span class="hljs-comment"># ä¸è®¤è¯ï¼ˆä¸å®‰å…¨ï¼‰</span>
</code></pre>
<h5 data-id="heading-35">æ­¥éª¤ 7ï¼šTailscale (å¯é€‰)</h5>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">?</span> <span class="hljs-attr">Expose via Tailscale:</span> <span class="hljs-string">(Use</span> <span class="hljs-string">arrow</span> <span class="hljs-string">keys)</span>
<span class="hljs-string">â¯</span> <span class="hljs-literal">No</span>                         <span class="hljs-comment"># ä¸æš´éœ²åˆ°å¤–ç½‘</span>
  <span class="hljs-literal">Yes</span>                         <span class="hljs-comment"># éœ€è¦ Tailscale</span>
</code></pre>
<h5 data-id="heading-36">æ­¥éª¤ 8ï¼šé¢‘é“é…ç½®</h5>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">?</span> <span class="hljs-attr">Configure channels:</span> <span class="hljs-string">(y/N)</span>
<span class="hljs-string">y</span>  <span class="hljs-comment"># é…ç½®é¢‘é“</span>
<span class="hljs-string">n</span>  <span class="hljs-comment"># è·³è¿‡ï¼Œç¨åé…ç½®</span>
</code></pre>
<p><strong>å¦‚æœé€‰æ‹© yï¼Œä¼šæç¤ºï¼š</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">?</span> <span class="hljs-attr">Channels:</span> <span class="hljs-string">(Select</span> <span class="hljs-string">channels</span> <span class="hljs-string">to</span> <span class="hljs-string">configure)</span>
<span class="hljs-string">â¯â¬¡</span> <span class="hljs-string">WhatsApp</span>                   <span class="hljs-comment"># éœ€è¦ QR ç™»å½•</span>
  <span class="hljs-string">â—‰</span> <span class="hljs-string">Telegram</span>                  <span class="hljs-comment"># éœ€è¦ bot token</span>
  <span class="hljs-string">â—¯</span> <span class="hljs-string">Discord</span>                   <span class="hljs-comment"># éœ€è¦ bot token</span>
  <span class="hljs-string">â—¯</span> <span class="hljs-string">Google</span> <span class="hljs-string">Chat</span>
  <span class="hljs-string">â—¯</span> <span class="hljs-string">Mattermost</span>
  <span class="hljs-string">â—¯</span> <span class="hljs-string">Signal</span>
  <span class="hljs-string">â—¯</span> <span class="hljs-string">iMessage</span>
</code></pre>
<h5 data-id="heading-37">æ­¥éª¤ 9ï¼šåå°æœåŠ¡å®‰è£…</h5>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">?</span> <span class="hljs-attr">Install daemon:</span> <span class="hljs-string">(y/N)</span>
<span class="hljs-string">y</span>  <span class="hljs-comment"># å®‰è£…åå°æœåŠ¡ï¼ˆæ¨èï¼‰</span>
<span class="hljs-string">n</span>  <span class="hljs-comment"># æ‰‹åŠ¨å¯åŠ¨</span>
</code></pre>
<h5 data-id="heading-38">æ­¥éª¤ 10ï¼šé€‰æ‹©è¿è¡Œæ—¶</h5>
<pre><code class="hljs language-perl" lang="perl">? Runtime: (Use arrow <span class="hljs-keyword">keys</span>)
â¯ Node                        <span class="hljs-comment"># æ¨èï¼ˆå¿…éœ€ for WhatsApp/Telegramï¼‰</span>
  Bun                         <span class="hljs-comment"># ä¸æ¨è</span>
</code></pre>
<h5 data-id="heading-39">æ­¥éª¤ 11ï¼šå¥åº·æ£€æŸ¥</h5>
<p>å‘å¯¼ä¼šè‡ªåŠ¨å¯åŠ¨ Gateway å¹¶æ£€æŸ¥å¥åº·çŠ¶æ€</p>
<h5 data-id="heading-40">æ­¥éª¤ 12ï¼šæŠ€èƒ½é€‰æ‹©</h5>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">?</span> <span class="hljs-attr">Install recommended skills:</span> <span class="hljs-string">(y/N)</span>
<span class="hljs-string">y</span>  <span class="hljs-comment"># å®‰è£…æ¨èæŠ€èƒ½</span>
<span class="hljs-string">n</span>  <span class="hljs-comment"># è·³è¿‡</span>
</code></pre>
<h4 data-id="heading-41">5.3 å®Œæˆé…ç½®</h4>
<p>çœ‹åˆ° "ğŸ‰ Moltbot å·²å‡†å¤‡å°±ç»ªï¼" å³å¯å¼€å§‹ä½¿ç”¨ã€‚</p>
<h4 data-id="heading-42">5.4 å¿«é€Ÿæµ‹è¯•</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹çŠ¶æ€</span>
moltbot status

<span class="hljs-comment"># å‘é€æµ‹è¯•æ¶ˆæ¯</span>
moltbot message send --target +15555550123 --message <span class="hljs-string">"Hello from Moltbot!"</span>

<span class="hljs-comment"># æŸ¥çœ‹æ—¥å¿—</span>
moltbot logs --follow
</code></pre>
<hr/>
<h3 data-id="heading-43">6. å¸¸ç”¨æŒ‡ä»¤å¤§å…¨</h3>
<h4 data-id="heading-44">6.1 åŸºç¡€å‘½ä»¤</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹ç‰ˆæœ¬</span>
moltbot --version

<span class="hljs-comment"># æŸ¥çœ‹å¸®åŠ©</span>
moltbot --<span class="hljs-built_in">help</span>

<span class="hljs-comment"># æŸ¥çœ‹çŠ¶æ€æ¦‚è§ˆ</span>
moltbot status

<span class="hljs-comment"># å®Œæ•´è¯Šæ–­ï¼ˆå¯åˆ†äº«ï¼‰</span>
moltbot status --all

<span class="hljs-comment"># æ·±åº¦å¥åº·æ£€æŸ¥</span>
moltbot status --deep
</code></pre>
<h4 data-id="heading-45">6.2 Gateway ç®¡ç†</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¯åŠ¨ Gateway</span>
moltbot gateway start

<span class="hljs-comment"># åœæ­¢ Gateway</span>
moltbot gateway stop

<span class="hljs-comment"># é‡å¯ Gateway</span>
moltbot gateway restart

<span class="hljs-comment"># æŸ¥çœ‹ Gateway çŠ¶æ€</span>
moltbot gateway status

<span class="hljs-comment"># æŸ¥çœ‹ Gateway é…ç½®</span>
moltbot gateway config

<span class="hljs-comment"># æ‰‹åŠ¨å‰å°è¿è¡Œï¼ˆè°ƒè¯•ï¼‰</span>
moltbot gateway --verbose

<span class="hljs-comment"># æ¢æµ‹ Gateway è¿é€šæ€§</span>
moltbot gateway probe
</code></pre>
<h4 data-id="heading-46">6.3 é…ç½®ç®¡ç†</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ‰“å¼€äº¤äº’å¼é…ç½®</span>
moltbot configure

<span class="hljs-comment"># æŸ¥çœ‹å®Œæ•´é…ç½®</span>
moltbot config get

<span class="hljs-comment"># æŸ¥çœ‹ç‰¹å®šé…ç½®</span>
moltbot config get agents.defaults
moltbot config get models
moltbot config get channels.telegram

<span class="hljs-comment"># è®¾ç½®å•ä¸ªå€¼</span>
moltbot config <span class="hljs-built_in">set</span> gateway.port 18789
moltbot config <span class="hljs-built_in">set</span> agents.defaults.workspace ~/clawd

<span class="hljs-comment"># åˆ é™¤é…ç½®é¡¹</span>
moltbot config <span class="hljs-built_in">unset</span> gateway.port
</code></pre>
<h4 data-id="heading-47">6.4 æ¨¡å‹ç®¡ç†</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹å¯ç”¨æ¨¡å‹</span>
moltbot models list

<span class="hljs-comment"># æŸ¥çœ‹æ¨¡å‹çŠ¶æ€</span>
moltbot models status

<span class="hljs-comment"># æ‰«æå¯ç”¨æ¨¡å‹</span>
moltbot models scan

<span class="hljs-comment"># è®¾ç½®é»˜è®¤æ¨¡å‹</span>
moltbot models <span class="hljs-built_in">set</span> anthropic/claude-sonnet-4-0
moltbot models <span class="hljs-built_in">set</span> minimax/MiniMax-M2.1
moltbot models <span class="hljs-built_in">set</span> glm-4

<span class="hljs-comment"># æµ‹è¯•æ¨¡å‹è¿æ¥</span>
moltbot models probe &lt;model-name&gt;
</code></pre>
<h4 data-id="heading-48">6.5 é¢‘é“ç®¡ç†</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># WhatsApp ç™»å½•ï¼ˆQR æ‰«æï¼‰</span>
moltbot channels login

<span class="hljs-comment"># é€€å‡ºç™»å½•</span>
moltbot channels <span class="hljs-built_in">logout</span>

<span class="hljs-comment"># æŸ¥çœ‹é¢‘é“çŠ¶æ€</span>
moltbot channels status

<span class="hljs-comment"># æ¢æµ‹é¢‘é“</span>
moltbot channels status --probe
</code></pre>
<h4 data-id="heading-49">6.6 é…å¯¹ç®¡ç†</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹å¾…å¤„ç†é…å¯¹</span>
moltbot pairing list whatsapp
moltbot pairing list telegram

<span class="hljs-comment"># æ‰¹å‡†é…å¯¹</span>
moltbot pairing approve whatsapp &lt;code&gt;

<span class="hljs-comment"># æ‹’ç»é…å¯¹</span>
moltbot pairing deny whatsapp &lt;code&gt;
</code></pre>
<h4 data-id="heading-50">6.7 æ¶ˆæ¯å‘é€</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å‘é€æ–‡æœ¬æ¶ˆæ¯</span>
moltbot message send --target +15555550123 --message <span class="hljs-string">"Hello!"</span>

<span class="hljs-comment"># å‘é€æ–‡ä»¶</span>
moltbot message send --target +15555550123 --file /path/to/file.txt
</code></pre>
<h4 data-id="heading-51">6.8 ä»£ç† (Agents)</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹ä»£ç†åˆ—è¡¨</span>
moltbot agents list

<span class="hljs-comment"># æ·»åŠ æ–°ä»£ç†</span>
moltbot agents add work --workspace ~/clawd-work

<span class="hljs-comment"># æŸ¥çœ‹ä»£ç†çŠ¶æ€</span>
moltbot agents status work
</code></pre>
<h4 data-id="heading-52">6.9 ä¼šè¯ç®¡ç†</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹æ´»è·ƒä¼šè¯</span>
moltbot sessions list

<span class="hljs-comment"># æŸ¥çœ‹ä¼šè¯å†å²</span>
moltbot sessions <span class="hljs-built_in">history</span> &lt;session-key&gt;

<span class="hljs-comment"># é‡ç½®ä¼šè¯</span>
moltbot sessions reset &lt;session-key&gt;
</code></pre>
<h4 data-id="heading-53">6.10 æŠ€èƒ½ç®¡ç†</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ—å‡ºå·²å®‰è£…æŠ€èƒ½</span>
moltbot skills list

<span class="hljs-comment"># å®‰è£…æŠ€èƒ½</span>
moltbot skills install skill-name

<span class="hljs-comment"># æŸ¥çœ‹æŠ€èƒ½é…ç½®</span>
moltbot skills config skill-name

<span class="hljs-comment"># æ›´æ–°æŠ€èƒ½</span>
moltbot skills update skill-name
</code></pre>
<h4 data-id="heading-54">6.11 æ—¥å¿—å’Œè¯Šæ–­</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®æ—¶æŸ¥çœ‹æ—¥å¿—</span>
moltbot logs --follow

<span class="hljs-comment"># æŸ¥çœ‹æœ€è¿‘ N è¡Œ</span>
moltbot logs --<span class="hljs-built_in">limit</span> 100

<span class="hljs-comment"># å¥åº·æ£€æŸ¥</span>
moltbot health

<span class="hljs-comment"># è¯Šæ–­å’Œä¿®å¤</span>
moltbot doctor
moltbot doctor --fix  <span class="hljs-comment"># è‡ªåŠ¨ä¿®å¤</span>
</code></pre>
<h4 data-id="heading-55">6.12 ç›®å½•å’Œå·¥ä½œåŒº</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ‰“å¼€æ§åˆ¶é¢æ¿</span>
moltbot dashboard

<span class="hljs-comment"># æ‰“å¼€æ§åˆ¶ UI</span>
moltbot tui

<span class="hljs-comment"># æŸ¥çœ‹å·¥ä½œåŒºç›®å½•</span>
moltbot directory

<span class="hljs-comment"># æŸ¥çœ‹æ–‡ä»¶</span>
<span class="hljs-built_in">ls</span> -la ~/clawd/
</code></pre>
<h4 data-id="heading-56">6.13 æ›´æ–°å’Œå‡çº§</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ£€æŸ¥æ›´æ–°</span>
moltbot --version

<span class="hljs-comment"># æ›´æ–° CLIï¼ˆå®‰è£…è„šæœ¬ï¼‰</span>
curl -fsSL https://molt.bot/install.sh | bash

<span class="hljs-comment"># ä»æºç æ›´æ–°</span>
git pull origin main
pnpm install
pnpm build
moltbot doctor
moltbot gateway restart
</code></pre>
<h4 data-id="heading-57">6.14 å®‰å…¨ç›¸å…³</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰å…¨å®¡è®¡</span>
moltbot security audit

<span class="hljs-comment"># æ·±åº¦å®¡è®¡</span>
moltbot security audit --deep
</code></pre>
<hr/>
<h3 data-id="heading-58">7. æ—¥å¸¸ç»´æŠ¤</h3>
<h4 data-id="heading-59">7.1 å®šæœŸæ£€æŸ¥å‘½ä»¤</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ¯æ—¥æ£€æŸ¥</span>
moltbot status
moltbot health

<span class="hljs-comment"># æ¯å‘¨æ£€æŸ¥</span>
moltbot status --all
moltbot logs --<span class="hljs-built_in">limit</span> 500 | grep -i error
moltbot doctor
</code></pre>
<h4 data-id="heading-60">7.2 æ—¥å¿—ç®¡ç†</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹å®æ—¶æ—¥å¿—</span>
moltbot logs --follow

<span class="hljs-comment"># æŸ¥æ‰¾é”™è¯¯</span>
moltbot logs --<span class="hljs-built_in">limit</span> 1000 | grep -i <span class="hljs-string">"error\|failed"</span>

<span class="hljs-comment"># æŒ‰æ—¥æœŸæŸ¥çœ‹</span>
<span class="hljs-built_in">ls</span> -lt /tmp/moltbot/moltbot-*.<span class="hljs-built_in">log</span> | <span class="hljs-built_in">head</span> -5
<span class="hljs-built_in">tail</span> -f /tmp/moltbot/moltbot-$(<span class="hljs-built_in">date</span> +%Y-%m-%d).<span class="hljs-built_in">log</span>
</code></pre>
<h4 data-id="heading-61">7.3 å¤‡ä»½é…ç½®</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¤‡ä»½é…ç½®æ–‡ä»¶</span>
<span class="hljs-built_in">cp</span> ~/.clawdbot/clawdbot.json ~/.clawdbot/clawdbot.json.backup.$(<span class="hljs-built_in">date</span> +%Y%m%d)

<span class="hljs-comment"># å¤‡ä»½è®¤è¯æ–‡ä»¶</span>
<span class="hljs-built_in">cp</span> ~/.clawdbot/agents/main/agent/auth-profiles.json ~/backups/auth-profiles.json.$(<span class="hljs-built_in">date</span> +%Y%m%d)

<span class="hljs-comment"># å¤‡ä»½å·¥ä½œåŒº</span>
tar -czvf ~/backups/clawd-backup.$(<span class="hljs-built_in">date</span> +%Y%m%d).tar.gz ~/clawd/
</code></pre>
<h4 data-id="heading-62">7.4 æ›´æ–°æµç¨‹</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æ£€æŸ¥å½“å‰ç‰ˆæœ¬</span>
moltbot --version

<span class="hljs-comment"># 2. åœæ­¢ Gateway</span>
moltbot gateway stop

<span class="hljs-comment"># 3. æ›´æ–° CLI</span>
curl -fsSL https://molt.bot/install.sh | bash

<span class="hljs-comment"># 4. è¿è¡Œå¥åº·æ£€æŸ¥</span>
moltbot doctor

<span class="hljs-comment"># 5. é‡æ–°å¯åŠ¨</span>
moltbot gateway start

<span class="hljs-comment"># 6. éªŒè¯çŠ¶æ€</span>
moltbot status
</code></pre>
<h4 data-id="heading-63">7.5 ç›‘æ§å‘Šè­¦ï¼ˆå¯é€‰ï¼‰</h4>
<p>åˆ›å»ºç›‘æ§è„šæœ¬ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cat</span> &gt; ~/clawd/monitor.sh &lt;&lt; <span class="hljs-string">'EOF'</span>
<span class="hljs-comment">#!/bin/bash</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"=== <span class="hljs-subst">$(date)</span> ==="</span>
moltbot status
moltbot health
moltbot logs --<span class="hljs-built_in">limit</span> 100 | grep -i error | <span class="hljs-built_in">tail</span> -5

<span class="hljs-comment"># æ£€æŸ¥ Gateway æ˜¯å¦è¿è¡Œ</span>
<span class="hljs-keyword">if</span> ! moltbot gateway status | grep -q <span class="hljs-string">"running"</span>; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âš ï¸  Gateway æœªè¿è¡Œï¼Œå°è¯•é‡å¯..."</span>
    moltbot gateway restart
<span class="hljs-keyword">fi</span>
EOF

<span class="hljs-built_in">chmod</span> +x ~/clawd/monitor.sh
</code></pre>
<p>æ·»åŠ  cron ä»»åŠ¡ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ¯å°æ—¶è¿è¡Œç›‘æ§</span>
crontab -e

<span class="hljs-comment"># æ·»åŠ ï¼š</span>
0 * * * * ~/clawd/monitor.sh &gt;&gt; ~/clawd/monitor.log 2&gt;&amp;1
</code></pre>
<h4 data-id="heading-64">7.6 æ¸…ç†å’Œç»´æŠ¤</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ¸…ç†æ—§æ—¥å¿—ï¼ˆä¿ç•™æœ€è¿‘7å¤©ï¼‰</span>
find /tmp/moltbot -name <span class="hljs-string">"moltbot-*.log"</span> -mtime +7 -delete

<span class="hljs-comment"># æ¸…ç†ä¸´æ—¶æ–‡ä»¶</span>
<span class="hljs-built_in">rm</span> -rf ~/.clawdbot/tmp/*

<span class="hljs-comment"># æ¸…ç†ä¼šè¯ç¼“å­˜</span>
moltbot sessions list | awk <span class="hljs-string">'{print $1}'</span> | xargs -I {} moltbot sessions reset {}
</code></pre>
<hr/>
<h3 data-id="heading-65">8. æ•…éšœæ’é™¤</h3>
<h4 data-id="heading-66">8.1 å¿«é€Ÿè¯Šæ–­æµç¨‹</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. è¿è¡Œå®Œæ•´è¯Šæ–­</span>
moltbot status --all

<span class="hljs-comment"># 2. æŸ¥çœ‹å®æ—¶æ—¥å¿—</span>
moltbot logs --follow

<span class="hljs-comment"># 3. è¿è¡ŒåŒ»ç”Ÿæ£€æŸ¥</span>
moltbot doctor
moltbot doctor --fix
</code></pre>
<h4 data-id="heading-67">8.2 å¸¸è§é—®é¢˜</h4>
<h5 data-id="heading-68">é—®é¢˜ 1ï¼šå‘½ä»¤æ‰¾ä¸åˆ°</h5>
<p><strong>ç—‡çŠ¶</strong>: <code>zsh: command not found: moltbot</code></p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ£€æŸ¥æ˜¯å¦å®‰è£…</span>
npm list -g --depth=0 | grep moltbot

<span class="hljs-comment"># æŸ¥æ‰¾å®‰è£…ä½ç½®</span>
find /usr -name moltbot -<span class="hljs-built_in">type</span> f 2&gt;/dev/null
find ~/.npm -name moltbot -<span class="hljs-built_in">type</span> f 2&gt;/dev/null

<span class="hljs-comment"># æ‰‹åŠ¨æ·»åŠ  PATH</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">'export PATH="$PATH:/usr/local/bin"'</span> &gt;&gt; ~/.zshrc
<span class="hljs-built_in">source</span> ~/.zshrc
</code></pre>
<h5 data-id="heading-69">é—®é¢˜ 2ï¼šGateway æ— æ³•å¯åŠ¨</h5>
<p><strong>ç—‡çŠ¶</strong>: Gateway å¯åŠ¨å¤±è´¥æˆ–ç«‹å³é€€å‡º</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹è¯¦ç»†é”™è¯¯</span>
moltbot gateway --verbose

<span class="hljs-comment"># æ£€æŸ¥ç«¯å£å ç”¨</span>
lsof -i :18789

<span class="hljs-comment"># æ£€æŸ¥é…ç½®</span>
moltbot doctor

<span class="hljs-comment"># æŸ¥çœ‹æ—¥å¿—</span>
moltbot logs --follow | <span class="hljs-built_in">tail</span> -50
</code></pre>
<h5 data-id="heading-70">é—®é¢˜ 3ï¼šæ—  API Key</h5>
<p><strong>ç—‡çŠ¶</strong>: <code>No API key found for provider 'anthropic'</code></p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é‡æ–°é…ç½®</span>
moltbot configure

<span class="hljs-comment"># æˆ–æ‰‹åŠ¨è®¾ç½®</span>
<span class="hljs-built_in">export</span> ANTHROPIC_API_KEY=<span class="hljs-string">"sk-ant-api03-..."</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">'export ANTHROPIC_API_KEY="sk-ant-api03-..."'</span> &gt;&gt; ~/.clawdbot/.env

<span class="hljs-comment"># éªŒè¯</span>
moltbot models status
</code></pre>
<h5 data-id="heading-71">é—®é¢˜ 4ï¼šé¢‘é“æ— å“åº”</h5>
<p><strong>ç—‡çŠ¶</strong>: å‘é€æ¶ˆæ¯ä½†é¢‘é“æ— ååº”</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æ£€æŸ¥é¢‘é“çŠ¶æ€</span>
moltbot channels status --probe

<span class="hljs-comment"># 2. æ£€æŸ¥é…å¯¹çŠ¶æ€</span>
moltbot pairing list &lt;channel&gt;

<span class="hljs-comment"># 3. æŸ¥çœ‹æ—¥å¿—</span>
moltbot logs --follow | grep -i <span class="hljs-string">"channel\|pairing"</span>

<span class="hljs-comment"># 4. å¦‚æœæ˜¯ WhatsAppï¼Œå°è¯•é‡æ–°ç™»å½•</span>
moltbot channels <span class="hljs-built_in">logout</span>
moltbot channels login
</code></pre>
<h5 data-id="heading-72">é—®é¢˜ 5ï¼šOAuth å¤±è´¥</h5>
<p><strong>ç—‡çŠ¶</strong>: OAuth token åˆ·æ–°å¤±è´¥</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ‡æ¢åˆ° API key</span>
moltbot configure
<span class="hljs-comment"># é€‰æ‹© Anthropic API key</span>

<span class="hljs-comment"># æˆ–ä½¿ç”¨ setup-token</span>
moltbot models auth setup-token --provider anthropic
</code></pre>
<h5 data-id="heading-73">é—®é¢˜ 6ï¼šæ¨¡å‹ä¸å¯ç”¨</h5>
<p><strong>ç—‡çŠ¶</strong>: <code>Unknown model: anthropic/claude-haiku-3-5</code></p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹å¯ç”¨æ¨¡å‹</span>
moltbot models list

<span class="hljs-comment"># è®¾ç½®å·²çŸ¥æ¨¡å‹</span>
moltbot models <span class="hljs-built_in">set</span> anthropic/claude-sonnet-4-0

<span class="hljs-comment"># æ‰«ææ–°æ¨¡å‹</span>
moltbot models scan
</code></pre>
<h5 data-id="heading-74">é—®é¢˜ 7ï¼šå†…å­˜ä¸è¶³</h5>
<p><strong>ç—‡çŠ¶</strong>: Gateway è¿è¡Œç¼“æ…¢æˆ–å´©æºƒ</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ£€æŸ¥å†…å­˜ä½¿ç”¨</span>
top -o memory

<span class="hljs-comment"># é™åˆ¶å†å²è®°å½•</span>
moltbot config <span class="hljs-built_in">set</span> <span class="hljs-string">'session.historyLimit'</span> 50

<span class="hljs-comment"># é‡å¯ Gateway é‡Šæ”¾å†…å­˜</span>
moltbot gateway restart
</code></pre>
<h4 data-id="heading-75">8.3 ç´§æ€¥æ¢å¤</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. åœæ­¢ Gateway</span>
moltbot gateway stop

<span class="hljs-comment"># 2. å¤‡ä»½å½“å‰é…ç½®</span>
<span class="hljs-built_in">cp</span> ~/.clawdbot/clawdbot.json ~/.clawdbot/clawdbot.json.emergency

<span class="hljs-comment"># 3. é‡ç½®é…ç½®ï¼ˆä¿ç•™å·¥ä½œåŒºï¼‰</span>
moltbot setup --reset config

<span class="hljs-comment"># 4. é‡æ–°é…ç½®</span>
moltbot onboard

<span class="hljs-comment"># 5. å¦‚æœä»æœ‰é—®é¢˜ï¼Œæ¢å¤é…ç½®</span>
<span class="hljs-built_in">cp</span> ~/.clawdbot/clawdbot.json.emergency ~/.clawdbot/clawdbot.json
moltbot gateway start
</code></pre>
<hr/>
<h3 data-id="heading-76">9. è¿›é˜¶é…ç½®</h3>
<h4 data-id="heading-77">9.1 å¤šä»£ç†é…ç½®</h4>
<pre><code class="hljs language-json5" lang="json5">{
  "agents": {
    "list": [
      {
        "id": "main",
        "name": "ä¸»åŠ©æ‰‹",
        "workspace": "~/clawd",
        "default": true,
        "model": {
          "primary": "minimax/MiniMax-M2.1",
          "fallbacks": ["glm-4"]
        }
      },
      {
        "id": "work",
        "name": "å·¥ä½œåŠ©æ‰‹",
        "workspace": "~/clawd-work",
        "model": {
          "primary": "anthropic/claude-sonnet-4-0"
        }
      }
    ]
  },
  "bindings": [
    {
      "agentId": "main",
      "match": { "channel": "whatsapp", "accountId": "personal" }
    },
    {
      "agentId": "work",
      "match": { "channel": "whatsapp", "accountId": "biz" }
    }
  ]
}
</code></pre>
<h4 data-id="heading-78">9.2 æ¨¡å‹ä¸»å¤‡é…ç½®</h4>
<pre><code class="hljs language-json5" lang="json5">{
  "agents": {
    "defaults": {
      "model": {
        "primary": "minimax/MiniMax-M2.1",
        "fallbacks": [
          "anthropic/claude-sonnet-4-0",
          "glm-4",
          "openai/gpt-4o"
        ]
      }
    }
  }
}
</code></pre>
<h4 data-id="heading-79">9.3 é¢‘é“é…ç½®ç¤ºä¾‹</h4>
<pre><code class="hljs language-json5" lang="json5">{
  "channels": {
    "whatsapp": {
      "dmPolicy": "pairing",
      "allowFrom": ["+15555550123"],
      "groups": {
        "*": { "requireMention": true }
      }
    },
    "telegram": {
      "botToken": "your-bot-token",
      "dmPolicy": "pairing",
      "groups": {
        "*": { "requireMention": true }
      }
    }
  }
}
</code></pre>
<h4 data-id="heading-80">9.4 æ²™ç®±é…ç½®</h4>
<pre><code class="hljs language-json5" lang="json5">{
  "agents": {
    "defaults": {
      "sandbox": {
        "mode": "all",
        "scope": "agent",
        "workspaceAccess": "rw"
      }
    }
  }
}
</code></pre>
<h4 data-id="heading-81">9.5 æ—¥å¿—é…ç½®</h4>
<pre><code class="hljs language-json5" lang="json5">{
  "logging": {
    "level": "info",
    "file": "/tmp/moltbot/moltbot.log",
    "consoleLevel": "info",
    "consoleStyle": "pretty",
    "redactSensitive": "tools"
  }
}
</code></pre>
<h4 data-id="heading-82">9.6 è‡ªå®šä¹‰å·¥å…·é…ç½®</h4>
<pre><code class="hljs language-json5" lang="json5">{
  "tools": {
    "allow": ["read", "write", "edit", "exec", "browser"],
    "deny": ["process", "gateway"]
  }
}
</code></pre>
<hr/>
<h3 data-id="heading-83">10. å¸¸è§é—®é¢˜</h3>
<h4 data-id="heading-84">Q1: éœ€è¦å¤šå°‘å†…å­˜ï¼Ÿ</h4>
<p><strong>A</strong>: æœ€ä½ 2GBï¼Œæ¨è 4GB+ã€‚å¦‚æœè¿è¡Œå¤šä¸ªä»£ç†æˆ–å¤§é‡å¹¶å‘ï¼Œéœ€è¦æ›´å¤šå†…å­˜ã€‚</p>
<h4 data-id="heading-85">Q2: æ”¯æŒå“ªäº›æ¨¡å‹ï¼Ÿ</h4>
<p><strong>A</strong>: æ”¯æŒ Anthropic (Claude)ã€OpenAI (GPT)ã€MiniMaxã€GLMã€Moonshot ç­‰ã€‚å…·ä½“æ”¯æŒçš„æ¨¡å‹åˆ—è¡¨è¯·æŸ¥çœ‹ <code>moltbot models list</code>ã€‚</p>
<h4 data-id="heading-86">Q3: å¦‚ä½•æ›´æ”¹é»˜è®¤æ¨¡å‹ï¼Ÿ</h4>
<p><strong>A</strong>:</p>
<pre><code class="hljs language-bash" lang="bash">moltbot models <span class="hljs-built_in">set</span> minimax/MiniMax-M2.1
<span class="hljs-comment"># æˆ–</span>
moltbot configure  <span class="hljs-comment"># é‡æ–°è¿è¡Œå‘å¯¼</span>
</code></pre>
<h4 data-id="heading-87">Q4: æ”¯æŒå¤šå¹³å°å—ï¼Ÿ</h4>
<p><strong>A</strong>: æ”¯æŒ WhatsAppã€Telegramã€Discordã€Google Chatã€Mattermostã€Signalã€iMessage ç­‰ã€‚</p>
<h4 data-id="heading-88">Q5: å¦‚ä½•å¤‡ä»½å’Œæ¢å¤ï¼Ÿ</h4>
<p><strong>A</strong>:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¤‡ä»½</span>
<span class="hljs-built_in">cp</span> ~/.clawdbot/clawdbot.json backup/
<span class="hljs-built_in">cp</span> -r ~/clawd backup/

<span class="hljs-comment"># æ¢å¤</span>
<span class="hljs-built_in">cp</span> backup/clawdbot.json ~/.clawdbot/
<span class="hljs-built_in">cp</span> -r backup/clawd ~/
</code></pre>
<h4 data-id="heading-89">Q6: æ›´æ–°åéœ€è¦é‡æ–°é…ç½®å—ï¼Ÿ</h4>
<p><strong>A</strong>: ä¸€èˆ¬ä¸éœ€è¦ï¼Œæ›´æ–°ä¼šä¿ç•™é…ç½®ã€‚ä½†å¦‚æœæ›´æ–°æ¶‰åŠé‡å¤§å˜æ›´ï¼Œå¯èƒ½éœ€è¦è¿è¡Œ <code>moltbot doctor</code> ä¿®å¤ã€‚</p>
<h4 data-id="heading-90">Q7: Gateway ç«¯å£å¯ä»¥æ›´æ”¹å—ï¼Ÿ</h4>
<p><strong>A</strong>: å¯ä»¥ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">moltbot config <span class="hljs-built_in">set</span> gateway.port 18889
moltbot gateway restart
</code></pre>
<h4 data-id="heading-91">Q8: å¦‚ä½•å®ç°è´Ÿè½½å‡è¡¡ï¼Ÿ</h4>
<p><strong>A</strong>: Moltbot æ”¯æŒå¤š Gateway éƒ¨ç½²ï¼Œé€šè¿‡é…ç½® <code>gateway.remote.url</code> å®ç°ã€‚å…·ä½“å‚è€ƒé«˜çº§é…ç½®æ–‡æ¡£ã€‚</p>
<h4 data-id="heading-92">Q9: æ˜¯å¦æ”¯æŒ Docker éƒ¨ç½²ï¼Ÿ</h4>
<p><strong>A</strong>: æ”¯æŒã€‚Gateway å¯ä»¥è¿è¡Œåœ¨ Docker å®¹å™¨ä¸­ã€‚å…·ä½“å‚è€ƒ Docker éƒ¨ç½²æ–‡æ¡£ã€‚</p>
<h4 data-id="heading-93">Q10: å¦‚ä½•è·å–å¸®åŠ©ï¼Ÿ</h4>
<p><strong>A</strong>:</p>
<ul>
<li>æŸ¥çœ‹æ–‡æ¡£: <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.clawd.bot%2F" target="_blank" title="https://docs.clawd.bot/" ref="nofollow noopener noreferrer">docs.clawd.bot/</a></li>
<li>æŸ¥çœ‹å¸®åŠ©: <code>moltbot --help</code></li>
<li>æŸ¥çœ‹ç‰¹å®šå‘½ä»¤å¸®åŠ©: <code>moltbot &lt;command&gt; --help</code></li>
<li>GitHub Issues: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmoltbot%2Fmoltbot%2Fissues" target="_blank" title="https://github.com/moltbot/moltbot/issues" ref="nofollow noopener noreferrer">github.com/moltbot/molâ€¦</a></li>
<li>Discord ç¤¾åŒº: <a href="https://link.juejin.cn?target=https%3A%2F%2Fdiscord.com%2Finvite%2Fmoltbot" target="_blank" title="https://discord.com/invite/moltbot" ref="nofollow noopener noreferrer">discord.com/invite/moltâ€¦</a></li>
</ul>
<hr/>
<h3 data-id="heading-94">ğŸ“š èµ„æºé“¾æ¥</h3>
<ul>
<li><strong>å®˜æ–¹æ–‡æ¡£</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.clawd.bot%2F" target="_blank" title="https://docs.clawd.bot/" ref="nofollow noopener noreferrer">docs.clawd.bot/</a></li>
<li><strong>GitHub</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmoltbot%2Fmoltbot" target="_blank" title="https://github.com/moltbot/moltbot" ref="nofollow noopener noreferrer">github.com/moltbot/molâ€¦</a></li>
<li><strong>Discord ç¤¾åŒº</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fdiscord.com%2Finvite%2Fmoltbot" target="_blank" title="https://discord.com/invite/moltbot" ref="nofollow noopener noreferrer">discord.com/invite/moltâ€¦</a></li>
<li><strong>é—®é¢˜åé¦ˆ</strong>: GitHub Issues</li>
<li><strong>æ›´æ–°æ—¥å¿—</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmoltbot%2Fmoltbot%2Freleases" target="_blank" title="https://github.com/moltbot/moltbot/releases" ref="nofollow noopener noreferrer">github.com/moltbot/molâ€¦</a></li>
</ul>
<hr/>
<h3 data-id="heading-95">âœ… å¿«é€Ÿå‚è€ƒå¡</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ—¥å¸¸ä½¿ç”¨</span>
moltbot status                    <span class="hljs-comment"># æ£€æŸ¥çŠ¶æ€</span>
moltbot health                    <span class="hljs-comment"># å¥åº·æ£€æŸ¥</span>
moltbot logs --follow             <span class="hljs-comment"># æŸ¥çœ‹æ—¥å¿—</span>

<span class="hljs-comment"># é…ç½®</span>
moltbot configure                 <span class="hljs-comment"># äº¤äº’é…ç½®</span>
moltbot config get                <span class="hljs-comment"># æŸ¥çœ‹é…ç½®</span>
moltbot config <span class="hljs-built_in">set</span> &lt;key&gt; &lt;value&gt;  <span class="hljs-comment"># è®¾ç½®é…ç½®</span>

<span class="hljs-comment"># æ¨¡å‹</span>
moltbot models list               <span class="hljs-comment"># åˆ—å‡ºæ¨¡å‹</span>
moltbot models <span class="hljs-built_in">set</span> &lt;model&gt;        <span class="hljs-comment"># åˆ‡æ¢æ¨¡å‹</span>
moltbot models status             <span class="hljs-comment"># æ¨¡å‹çŠ¶æ€</span>

<span class="hljs-comment"># Gateway</span>
moltbot gateway start             <span class="hljs-comment"># å¯åŠ¨</span>
moltbot gateway stop              <span class="hljs-comment"># åœæ­¢</span>
moltbot gateway restart           <span class="hljs-comment"># é‡å¯</span>

<span class="hljs-comment"># æ•…éšœæ’é™¤</span>
moltbot doctor                    <span class="hljs-comment"># è¯Šæ–­</span>
moltbot doctor --fix              <span class="hljs-comment"># è‡ªåŠ¨ä¿®å¤</span>
moltbot status --all              <span class="hljs-comment"># å®Œæ•´è¯Šæ–­</span>
</code></pre>
<hr/>
<p><em>æœ€åæ›´æ–°: 2026å¹´1æœˆ</em></p>
<p><em>ç‰ˆæœ¬: 1.0</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SpringBoot + å¼‚æ­¥äº‹ä»¶æ€»çº¿ï¼šè½»æ¾è§£è€¦æ ¸å¿ƒä¸šåŠ¡ä¸æ—¥å¿—ã€é€šçŸ¥ã€ç»Ÿè®¡]]></title>    <link>https://juejin.cn/post/7599983917664485419</link>    <guid>https://juejin.cn/post/7599983917664485419</guid>    <pubDate>2026-01-28T05:47:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599983917664485419" data-draft-id="7599924721007116351" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SpringBoot + å¼‚æ­¥äº‹ä»¶æ€»çº¿ï¼šè½»æ¾è§£è€¦æ ¸å¿ƒä¸šåŠ¡ä¸æ—¥å¿—ã€é€šçŸ¥ã€ç»Ÿè®¡"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-28T05:47:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æˆ‘çˆ±å¨ƒå“ˆå“ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1398234522335383"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SpringBoot + å¼‚æ­¥äº‹ä»¶æ€»çº¿ï¼šè½»æ¾è§£è€¦æ ¸å¿ƒä¸šåŠ¡ä¸æ—¥å¿—ã€é€šçŸ¥ã€ç»Ÿè®¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1398234522335383/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æˆ‘çˆ±å¨ƒå“ˆå“ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T05:47:05.000Z" title="Wed Jan 28 2026 05:47:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œä»Šå¤©å’±ä»¬èŠèŠä¸€ä¸ªåœ¨å®é™…é¡¹ç›®ä¸­éå¸¸å®ç”¨çš„æŠ€æœ¯â€”â€”SpringBootçš„å¼‚æ­¥äº‹ä»¶æ€»çº¿ã€‚ç›¸ä¿¡å¾ˆå¤šå°ä¼™ä¼´åœ¨å¼€å‘è¿‡ç¨‹ä¸­éƒ½é‡åˆ°è¿‡è¿™æ ·çš„é—®é¢˜ï¼šæ ¸å¿ƒä¸šåŠ¡é€»è¾‘å’Œæ—¥å¿—è®°å½•ã€é€šçŸ¥å‘é€ã€æ•°æ®ç»Ÿè®¡ç­‰éæ ¸å¿ƒåŠŸèƒ½æ··åœ¨ä¸€èµ·ï¼Œå¯¼è‡´ä»£ç è¶Šæ¥è¶Šè‡ƒè‚¿ï¼Œç»´æŠ¤èµ·æ¥ä¹Ÿè¶Šæ¥è¶Šå›°éš¾ã€‚é‚£ä¹ˆï¼Œæœ‰æ²¡æœ‰ä¸€ç§ä¼˜é›…çš„æ–¹å¼æ¥è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿç­”æ¡ˆå°±æ˜¯äº‹ä»¶é©±åŠ¨æ¶æ„ï¼</p>
<h2 data-id="heading-0">ä»€ä¹ˆæ˜¯äº‹ä»¶é©±åŠ¨æ¶æ„ï¼Ÿ</h2>
<p>ç®€å•æ¥è¯´ï¼Œäº‹ä»¶é©±åŠ¨æ¶æ„å°±æ˜¯å½“æŸä¸ªäº‹æƒ…å‘ç”Ÿæ—¶ï¼ˆæ¯”å¦‚ç”¨æˆ·æ³¨å†Œï¼‰ï¼Œæˆ‘ä»¬ä¸ç›´æ¥å»å¤„ç†æ‰€æœ‰ç›¸å…³çš„äº‹æƒ…ï¼ˆæ¯”å¦‚è®°å½•æ—¥å¿—ã€å‘é‚®ä»¶ã€æ›´æ–°ç»Ÿè®¡ï¼‰ï¼Œè€Œæ˜¯å‘å¸ƒä¸€ä¸ª"ç”¨æˆ·æ³¨å†Œ"äº‹ä»¶ï¼Œè®©å…³å¿ƒè¿™ä¸ªäº‹ä»¶çš„ç›‘å¬å™¨å»å¤„ç†å„è‡ªçš„ä»»åŠ¡ã€‚è¿™æ ·ï¼Œæ ¸å¿ƒä¸šåŠ¡é€»è¾‘å°±å˜å¾—éå¸¸æ¸…çˆ½ï¼Œå…¶ä»–åŠŸèƒ½é€šè¿‡äº‹ä»¶ç›‘å¬å™¨æ¥å®Œæˆï¼Œå®ç°äº†å®Œç¾çš„è§£è€¦ã€‚</p>
<h2 data-id="heading-1">ä¸ºä»€ä¹ˆéœ€è¦è§£è€¦ï¼Ÿ</h2>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœæˆ‘ä»¬çš„ç”¨æˆ·æ³¨å†Œæ–¹æ³•é‡Œæ—¢æœ‰æ•°æ®åº“æ“ä½œï¼Œåˆæœ‰æ—¥å¿—è®°å½•ã€é‚®ä»¶å‘é€ã€çŸ­ä¿¡é€šçŸ¥ã€ç§¯åˆ†å¢åŠ ç­‰ä¸€ç³»åˆ—æ“ä½œï¼Œé‚£ä¹ˆè¿™ä¸ªæ–¹æ³•å°±ä¼šå˜å¾—éå¸¸åºå¤§å’Œå¤æ‚ã€‚ä¸€æ—¦å…¶ä¸­ä¸€ä¸ªéæ ¸å¿ƒåŠŸèƒ½å‡ºç°é—®é¢˜ï¼Œæ¯”å¦‚é‚®ä»¶æœåŠ¡æš‚æ—¶ä¸å¯ç”¨ï¼Œå°±å¯èƒ½å¯¼è‡´æ•´ä¸ªç”¨æˆ·æ³¨å†Œæµç¨‹å¤±è´¥ã€‚è¿™æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœã€‚</p>
<p>é€šè¿‡äº‹ä»¶é©±åŠ¨æ¶æ„ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ ¸å¿ƒä¸šåŠ¡å’Œéæ ¸å¿ƒä¸šåŠ¡åˆ†å¼€ï¼Œå³ä½¿éæ ¸å¿ƒä¸šåŠ¡å‡ºç°å¼‚å¸¸ï¼Œä¹Ÿä¸ä¼šå½±å“æ ¸å¿ƒä¸šåŠ¡çš„æ­£å¸¸è¿è¡Œã€‚</p>
<h2 data-id="heading-2">Spring Bootäº‹ä»¶æ€»çº¿ç®€ä»‹</h2>
<p>Spring Bootå†…ç½®äº†äº‹ä»¶æ€»çº¿æœºåˆ¶ï¼ŒåŸºäºè§‚å¯Ÿè€…æ¨¡å¼å®ç°ã€‚ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒç»„ä»¶ï¼š</p>
<ol>
<li><strong>ApplicationEvent</strong>ï¼šäº‹ä»¶åŸºç±»ï¼Œæ‰€æœ‰è‡ªå®šä¹‰äº‹ä»¶éƒ½éœ€è¦ç»§æ‰¿å®ƒ</li>
<li><strong>ApplicationEventPublisher</strong>ï¼šäº‹ä»¶å‘å¸ƒå™¨ï¼Œç”¨äºå‘å¸ƒäº‹ä»¶</li>
<li><strong>@EventListener</strong>ï¼šäº‹ä»¶ç›‘å¬å™¨æ³¨è§£ï¼Œæ ‡è®°å¤„ç†äº‹ä»¶çš„æ–¹æ³•</li>
<li><strong>@Async</strong>ï¼šå¼‚æ­¥å¤„ç†æ³¨è§£ï¼Œè®©äº‹ä»¶å¤„ç†åœ¨å•ç‹¬çš„çº¿ç¨‹ä¸­æ‰§è¡Œ</li>
</ol>
<h2 data-id="heading-3">å®æˆ˜æ¼”ç»ƒï¼šæ„å»ºäº‹ä»¶é©±åŠ¨çš„ç”¨æˆ·æ³¨å†Œç³»ç»Ÿ</h2>
<p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®é™…çš„ä¾‹å­æ¥çœ‹çœ‹å¦‚ä½•ä½¿ç”¨Spring Bootäº‹ä»¶æ€»çº¿æ¥è§£è€¦æ ¸å¿ƒä¸šåŠ¡ä¸æ—¥å¿—ã€é€šçŸ¥ã€ç»Ÿè®¡ç­‰åŠŸèƒ½ã€‚</p>
<h3 data-id="heading-4">1. å®šä¹‰äº‹ä»¶</h3>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªç”¨æˆ·åˆ›å»ºäº‹ä»¶ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Getter</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserCreatedEvent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ApplicationEvent</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> User user;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String operationType;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">UserCreatedEvent</span><span class="hljs-params">(Object source, User user, String operationType)</span> {
        <span class="hljs-built_in">super</span>(source);
        <span class="hljs-built_in">this</span>.user = user;
        <span class="hljs-built_in">this</span>.operationType = operationType;
    }
}
</code></pre>
<h3 data-id="heading-5">2. å‘å¸ƒäº‹ä»¶</h3>
<p>åœ¨ç”¨æˆ·æœåŠ¡çš„æ ¸å¿ƒä¸šåŠ¡æ–¹æ³•ä¸­ï¼Œå½“ç”¨æˆ·åˆ›å»ºæˆåŠŸåï¼Œå‘å¸ƒç”¨æˆ·åˆ›å»ºäº‹ä»¶ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ApplicationEventPublisher eventPublisher;
    
    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">createUser</span><span class="hljs-params">(String username, String email)</span> {
        <span class="hljs-comment">// æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼šåˆ›å»ºç”¨æˆ·</span>
        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>();
        user.setUsername(username);
        user.setEmail(email);
        <span class="hljs-type">User</span> <span class="hljs-variable">savedUser</span> <span class="hljs-operator">=</span> userRepository.save(user);
        
        <span class="hljs-comment">// å‘å¸ƒç”¨æˆ·åˆ›å»ºäº‹ä»¶</span>
        <span class="hljs-type">UserCreatedEvent</span> <span class="hljs-variable">event</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserCreatedEvent</span>(<span class="hljs-built_in">this</span>, savedUser, <span class="hljs-string">"USER_REGISTRATION"</span>);
        eventPublisher.publishEvent(event);
        
        <span class="hljs-keyword">return</span> savedUser;
    }
}
</code></pre>
<h3 data-id="heading-6">3. ç›‘å¬äº‹ä»¶</h3>
<p>åˆ›å»ºäº‹ä»¶ç›‘å¬å™¨æ¥å¤„ç†æ—¥å¿—è®°å½•ã€é€šçŸ¥å‘é€ã€ç»Ÿè®¡æ›´æ–°ç­‰éæ ¸å¿ƒä¸šåŠ¡ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserEventListener</span> {
    
    <span class="hljs-meta">@Async</span>
    <span class="hljs-meta">@TransactionalEventListener</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleUserCreationLog</span><span class="hljs-params">(UserCreatedEvent event)</span> {
        <span class="hljs-comment">// å¼‚æ­¥è®°å½•ç”¨æˆ·åˆ›å»ºæ—¥å¿—</span>
        log.info(<span class="hljs-string">"è®°å½•ç”¨æˆ·åˆ›å»ºæ—¥å¿—: {}"</span>, event.getUser().getUsername());
    }
    
    <span class="hljs-meta">@Async</span>
    <span class="hljs-meta">@TransactionalEventListener</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleUserRegistrationNotification</span><span class="hljs-params">(UserCreatedEvent event)</span> {
        <span class="hljs-comment">// å¼‚æ­¥å‘é€æ³¨å†Œé€šçŸ¥</span>
        sendRegistrationNotification(event.getUser());
    }
    
    <span class="hljs-meta">@Async</span>
    <span class="hljs-meta">@TransactionalEventListener</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleUserStatistics</span><span class="hljs-params">(UserCreatedEvent event)</span> {
        <span class="hljs-comment">// å¼‚æ­¥æ›´æ–°ç”¨æˆ·ç»Ÿè®¡</span>
        updateUserStatistics(event.getUser());
    }
}
</code></pre>
<h2 data-id="heading-7">å¼‚æ­¥å¤„ç†çš„ä¼˜åŠ¿</h2>
<p>é€šè¿‡<code>@Async</code>æ³¨è§£ï¼Œäº‹ä»¶ç›‘å¬å™¨ä¼šåœ¨ç‹¬ç«‹çš„çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œè¿™æ ·å°±ä¸ä¼šé˜»å¡æ ¸å¿ƒä¸šåŠ¡æµç¨‹ã€‚ç”¨æˆ·æ³¨å†Œæ–¹æ³•åªéœ€è¦ä¸“æ³¨äºç”¨æˆ·æ•°æ®çš„æŒä¹…åŒ–ï¼Œå…¶ä»–æ“ä½œéƒ½åœ¨åå°å¼‚æ­¥å®Œæˆã€‚</p>
<h2 data-id="heading-8">äº‹åŠ¡äº‹ä»¶ç›‘å¬å™¨</h2>
<p>ä½¿ç”¨<code>@TransactionalEventListener</code>å¯ä»¥ç¡®ä¿äº‹ä»¶åªåœ¨äº‹åŠ¡æˆåŠŸæäº¤åæ‰è§¦å‘ï¼Œé¿å…äº†å› äº‹åŠ¡å›æ»šè€Œå¯¼è‡´çš„äº‹ä»¶è¯¯è§¦å‘ã€‚</p>
<h2 data-id="heading-9">å®é™…åº”ç”¨åœºæ™¯</h2>
<p>äº‹ä»¶é©±åŠ¨æ¶æ„åœ¨å®é™…é¡¹ç›®ä¸­æœ‰å¹¿æ³›çš„åº”ç”¨ï¼š</p>
<ol>
<li><strong>ç”¨æˆ·æ³¨å†Œ</strong>ï¼šæ³¨å†ŒæˆåŠŸåè®°å½•æ—¥å¿—ã€å‘é€æ¬¢è¿é‚®ä»¶ã€æ›´æ–°ç”¨æˆ·ç»Ÿè®¡</li>
<li><strong>è®¢å•åˆ›å»º</strong>ï¼šè®¢å•ç”Ÿæˆåæ‰£å‡åº“å­˜ã€å‘é€ç¡®è®¤é‚®ä»¶ã€æ›´æ–°é”€å”®ç»Ÿè®¡</li>
<li><strong>æ”¯ä»˜æˆåŠŸ</strong>ï¼šæ”¯ä»˜å®Œæˆåå‘è´§ã€æ›´æ–°ä¼šå‘˜ç­‰çº§ã€å‘é€æ”¯ä»˜å‡­è¯</li>
<li><strong>å†…å®¹å‘å¸ƒ</strong>ï¼šæ–‡ç« å‘å¸ƒåæ›´æ–°æœç´¢ç´¢å¼•ã€æ¨é€æ¶ˆæ¯ã€æ›´æ–°æ¨èç®—æ³•</li>
</ol>
<h2 data-id="heading-10">å®Œæ•´ä»£ç ç¤ºä¾‹</h2>
<p>ä¸ºäº†è®©å¤§å®¶æ›´å¥½åœ°ç†è§£ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªå®Œæ•´çš„ç¤ºä¾‹é¡¹ç›®ã€‚åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å®ç°äº†ç”¨æˆ·æ³¨å†Œå’Œè®¢å•åˆ›å»ºçš„äº‹ä»¶é©±åŠ¨æ¶æ„ï¼š</p>
<ol>
<li><strong>ç”¨æˆ·æ³¨å†Œæµç¨‹</strong>ï¼šåˆ›å»ºç”¨æˆ· -&gt; å‘å¸ƒç”¨æˆ·åˆ›å»ºäº‹ä»¶ -&gt; å¼‚æ­¥å¤„ç†æ—¥å¿—ã€é€šçŸ¥ã€ç»Ÿè®¡</li>
<li><strong>è®¢å•åˆ›å»ºæµç¨‹</strong>ï¼šåˆ›å»ºè®¢å• -&gt; å‘å¸ƒè®¢å•åˆ›å»ºäº‹ä»¶ -&gt; å¼‚æ­¥å¤„ç†æ—¥å¿—ã€é€šçŸ¥ã€åº“å­˜ã€ç»Ÿè®¡</li>
</ol>
<p>é€šè¿‡è¿™ç§æ¶æ„ï¼Œæ ¸å¿ƒä¸šåŠ¡ä»£ç éå¸¸ç®€æ´ï¼Œæ‰€æœ‰éæ ¸å¿ƒåŠŸèƒ½éƒ½é€šè¿‡äº‹ä»¶ç›‘å¬å™¨å¼‚æ­¥å¤„ç†ï¼Œå®ç°äº†å®Œç¾çš„è§£è€¦ã€‚</p>
<h2 data-id="heading-11">æœ€ä½³å®è·µå»ºè®®</h2>
<ol>
<li><strong>åˆç†åˆ’åˆ†äº‹ä»¶è¾¹ç•Œ</strong>ï¼šäº‹ä»¶åº”è¯¥ä»£è¡¨ä¸€ä¸ªä¸šåŠ¡åŠ¨ä½œçš„å®Œæˆ</li>
<li><strong>äº‹ä»¶å‘½åè§„èŒƒ</strong>ï¼šä½¿ç”¨åŠ¨è¯è¿‡å»å¼å‘½åï¼Œå¦‚UserRegisteredEvent</li>
<li><strong>äº‹ä»¶æ•°æ®ç²¾ç®€</strong>ï¼šåªåŒ…å«ç›‘å¬å™¨å¿…éœ€çš„æ•°æ®</li>
<li><strong>å¼‚å¸¸å¤„ç†</strong>ï¼šä¸ºå¼‚æ­¥äº‹ä»¶å¤„ç†æ·»åŠ é€‚å½“çš„å¼‚å¸¸å¤„ç†æœºåˆ¶</li>
<li><strong>ç›‘æ§å’Œè¿½è¸ª</strong>ï¼šå¯¹äº‹ä»¶å¤„ç†æƒ…å†µè¿›è¡Œç›‘æ§ï¼Œä¾¿äºæ’æŸ¥é—®é¢˜</li>
</ol>
<h2 data-id="heading-12">æ€»ç»“</h2>
<p>é€šè¿‡Spring Bootäº‹ä»¶æ€»çº¿ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾å®ç°æ ¸å¿ƒä¸šåŠ¡ä¸éæ ¸å¿ƒåŠŸèƒ½çš„è§£è€¦ï¼Œè®©ä»£ç æ›´åŠ æ¸…æ™°ã€å¯ç»´æŠ¤ã€‚å¼‚æ­¥äº‹ä»¶å¤„ç†ä¸ä»…æå‡äº†ç³»ç»Ÿçš„å“åº”é€Ÿåº¦ï¼Œè¿˜å¢å¼ºäº†ç³»ç»Ÿçš„å¥å£®æ€§ã€‚åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œåˆç†è¿ç”¨äº‹ä»¶é©±åŠ¨æ¶æ„ï¼Œå¯ä»¥è®©æˆ‘ä»¬çš„ç³»ç»Ÿæ›´åŠ ä¼˜é›…å’Œé«˜æ•ˆã€‚</p>
<p>å¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿å…³æ³¨"æœåŠ¡ç«¯æŠ€æœ¯ç²¾é€‰"ï¼Œæˆ‘ä¼šæŒç»­åˆ†äº«æ›´å¤šå®ç”¨çš„æŠ€æœ¯å¹²è´§ã€‚ä¹Ÿæ¬¢è¿è®¿é—®æˆ‘çš„ä¸ªäººæŠ€æœ¯åšå®¢ <a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.jiangyi.space" target="_blank" title="http://www.jiangyi.space" ref="nofollow noopener noreferrer">www.jiangyi.space</a> é‚£é‡Œæœ‰æ›´å¤šæ·±åº¦æŠ€æœ¯æ–‡ç« ç­‰ç€ä½ ã€‚</p>
<p>è®°ä½ï¼Œå¥½çš„æ¶æ„è®¾è®¡èƒ½è®©ä»£ç æ›´ä¼˜é›…ï¼Œä¹Ÿèƒ½è®©å¼€å‘æ›´å¿«ä¹ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Spring AOP è¯¦è§£]]></title>    <link>https://juejin.cn/post/7599963436614352948</link>    <guid>https://juejin.cn/post/7599963436614352948</guid>    <pubDate>2026-01-28T05:47:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599963436614352948" data-draft-id="7599765329409048616" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Spring AOP è¯¦è§£"/> <meta itemprop="keywords" content="Spring"/> <meta itemprop="datePublished" content="2026-01-28T05:47:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·9381691255360"/> <meta itemprop="url" content="https://juejin.cn/user/3485906645565271"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Spring AOP è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3485906645565271/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·9381691255360
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T05:47:02.000Z" title="Wed Jan 28 2026 05:47:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€ä»‹ç»AOP</h2>
<h3 data-id="heading-1">1. AOPçš„å®šä¹‰</h3>
<p>AOPæ˜¯Aspect Oriented Programmingï¼Œæ„ä¸ºé¢å‘åˆ‡é¢ç¼–ç¨‹ã€‚<br/>
<strong>é‚£ä»€ä¹ˆæ˜¯AOPï¼Ÿ</strong><br/>
æˆ‘ä»¬å…ˆå›é¡¾ä¸€ä¸‹OOPï¼šObject Oriented Programmingï¼Œæ„ä¸ºé¢å‘å¯¹è±¡ç¼–ç¨‹ã€‚OOPçš„ä¸»è¦åŠŸèƒ½æ˜¯å°è£…ã€ç»§æ‰¿ã€å¤šæ€ã€‚<br/>
è€ŒAOPæ˜¯ä¸€ç§æ–°çš„ç¼–ç¨‹æ–¹å¼ï¼Œå®ƒå’ŒOOPä¸åŒï¼ŒOOPæŠŠç³»ç»Ÿçœ‹åšå¤šä¸ªå¯¹è±¡çš„äº¤äº’ï¼ŒAOPæŠŠç³»ç»Ÿåˆ†è§£ä¸ºä¸åŒçš„å…³æ³¨ç‚¹ï¼Œæˆ–è€…ç§°ä¹‹ä¸ºåˆ‡é¢ï¼ˆAspectï¼‰ã€‚ç®€å•æ¥è¯´ï¼Œ<strong>AOPæ˜¯ä¸€ç§æ€æƒ³ï¼Œæ˜¯å¯¹æŸä¸€ç±»äº‹æƒ…çš„é›†ä¸­å¤„ç†</strong>ã€‚<br/>
AOPé‡‡å–<strong>æ¨ªå‘æŠ½å–</strong>æœºåˆ¶ï¼Œå–ä»£äº†ä¼ ç»Ÿ<strong>çºµå‘ç»§æ‰¿</strong>ä½“ç³»é‡å¤æ€§ä»£ç ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5c869d036d224a33a14c3c4858f603ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3OTM4MTY5MTI1NTM2MA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770184024&amp;x-signature=HjZcRKq3KqpT5bDCd7yyK15hMDc%3D" alt="aop.png" loading="lazy"/></p>
<p><strong>AOPçš„ä½œç”¨</strong>ï¼šåœ¨ç¨‹åºè¿è¡ŒæœŸé—´ï¼Œåœ¨ä¸ä¿®æ”¹ç¨‹åºæºä»£ç çš„åŸºç¡€ä¸Šï¼Œå¯¹å·²æœ‰çš„æ–¹æ³•è¿›è¡Œå¢å¼ºã€‚ï¼ˆæ— ä¾µå…¥æ€§ï¼Œè§£è€¦ï¼‰ã€‚</p>
<h4 data-id="heading-2">1.1 ä¸¾ä¾‹è¯´æ˜</h4>
<p>è¦ç†è§£AOPçš„æ¦‚å¿µï¼Œæˆ‘ä»¬å…ˆç”¨OOPä¸¾ä¾‹ï¼Œæ¯”å¦‚ä¸€ä¸ªä¸šåŠ¡ç»„ä»¶<code>BookService</code>ï¼Œå®ƒæœ‰å‡ ä¸ªä¸šåŠ¡æ–¹æ³•ï¼š</p>
<ul>
<li>createBook(): æ·»åŠ æ–°çš„Book</li>
<li>updateBook(): ä¿®æ”¹å·²æœ‰çš„Book</li>
<li>deleteBook(): åˆ é™¤Book</li>
</ul>
<p>å¯¹æ¯ä¸ªä¸šåŠ¡æ–¹æ³•ï¼Œé™¤äº†ä¸šåŠ¡é€»è¾‘ï¼Œè¿˜éœ€è¦å®‰å…¨æ£€æŸ¥ã€æ—¥å¿—è®°å½•å’Œäº‹åŠ¡å¤„ç†ã€‚å®ƒçš„ä»£ç åƒè¿™æ ·ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">public class BookService {
    public void <span class="hljs-built_in">createBook</span>(Book book) {
        <span class="hljs-built_in">securityCheck</span>();
        Transaction tx = <span class="hljs-built_in">startTransaction</span>();
        try {
            <span class="hljs-comment">// æ ¸å¿ƒä¸šåŠ¡é€»è¾‘</span>
            tx<span class="hljs-selector-class">.commit</span>();
        } catch (RuntimeException e) {
            tx<span class="hljs-selector-class">.rollback</span>();
            throw e;
        }
        <span class="hljs-built_in">log</span>("created book: " + book);
    }
    
    public void <span class="hljs-built_in">updateBook</span>(Book book) {
        <span class="hljs-built_in">securityCheck</span>();
        Transaction tx = <span class="hljs-built_in">startTransaction</span>();
        try {
            <span class="hljs-comment">// æ ¸å¿ƒä¸šåŠ¡é€»è¾‘</span>
            tx<span class="hljs-selector-class">.commit</span>();
        } catch (RuntimeException e) {
            tx<span class="hljs-selector-class">.rollback</span>();
            throw e;
        }
        <span class="hljs-built_in">log</span>("updated book: " + book);
    }
}

</code></pre>
<p>å¯¹äºå®‰å…¨æ£€æŸ¥ã€æ—¥å¿—ã€äº‹åŠ¡ç­‰ä»£ç ï¼Œå®ƒä»¬ä¼šé‡å¤å‡ºç°åœ¨æ¯ä¸ªä¸šåŠ¡æ–¹æ³•ä¸­ã€‚ä½¿ç”¨OOPï¼Œæˆ‘ä»¬å¾ˆéš¾å°†è¿™äº›å››å¤„åˆ†æ•£çš„ä»£ç æ¨¡å—åŒ–ã€‚<br/>
<code>BookService</code>å…³å¿ƒçš„æ˜¯è‡ªèº«çš„æ ¸å¿ƒé€»è¾‘ï¼Œä½†æ•´ä¸ªç³»ç»Ÿè¿˜è¦æ±‚å…³æ³¨å®‰å…¨æ£€æŸ¥ã€æ—¥å¿—ã€äº‹åŠ¡ç­‰åŠŸèƒ½ï¼Œè¿™äº›åŠŸèƒ½å®é™…ä¸Šâ€œæ¨ªè·¨â€å¤šä¸ªä¸šåŠ¡æ–¹æ³•ï¼Œä¸ºäº†å®ç°è¿™äº›åŠŸèƒ½ï¼Œä¸å¾—ä¸åœ¨æ¯ä¸ªä¸šåŠ¡æ–¹æ³•ä¸Šé‡å¤ç¼–å†™ä»£ç ã€‚</p>
<p>ä¸€ç§å¯è¡Œçš„æ–¹å¼æ˜¯ä½¿ç”¨<strong>Proxyæ¨¡å¼</strong>ï¼šå°†æŸä¸ªåŠŸèƒ½ï¼ˆä¾‹å¦‚ï¼šæƒé™æ£€æŸ¥ï¼‰è§†ä½œä¸€ç§åˆ‡é¢ï¼ˆAspectï¼‰ï¼ŒæŠŠæ—¥å¿—ã€äº‹åŠ¡ä¹Ÿè§†ä¸ºåˆ‡é¢ï¼Œç„¶åï¼Œä»¥æŸç§è‡ªåŠ¨åŒ–çš„æ–¹å¼ï¼ŒæŠŠåˆ‡é¢ç»‡å…¥åˆ°æ ¸å¿ƒé€»è¾‘ä¸­ï¼Œå®ç°Proxyæ¨¡å¼ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬ä»¥AOPçš„è§†è§’æ¥ç¼–å†™ä¸Šè¿°ä¸šåŠ¡ï¼Œå¯ä»¥ä¾æ¬¡å®ç°ï¼š</p>
<ol>
<li>æ ¸å¿ƒé€»è¾‘ï¼Œå³BookServiceï¼›</li>
<li>åˆ‡é¢é€»è¾‘ï¼Œå³ï¼š<br/>
2.1. æƒé™æ£€æŸ¥çš„Aspectï¼›<br/>
2.2. æ—¥å¿—çš„Aspectï¼›<br/>
2.3. äº‹åŠ¡çš„Aspectã€‚</li>
</ol>
<p>ç„¶åï¼Œä»¥æŸç§æ–¹å¼ï¼Œè®©æ¡†æ¶æ¥æŠŠä¸Šè¿°3ä¸ªAspectä»¥Proxyçš„æ–¹å¼â€œç»‡å…¥â€åˆ°<code>BookService</code>ä¸­ï¼Œè¿™æ ·ä¸€æ¥ï¼Œå°±ä¸å¿…ç¼–å†™å¤æ‚è€Œå†—é•¿çš„Proxyæ¨¡å¼ã€‚</p>
<h3 data-id="heading-3">2. AOPåŸç†</h3>
<p>å¦‚ä½•æŠŠåˆ‡é¢ç»‡å…¥åˆ°æ ¸å¿ƒé€»è¾‘ä¸­ï¼Ÿè¿™æ­£æ˜¯AOPéœ€è¦è§£å†³çš„é—®é¢˜ã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æœå®¢æˆ·ç«¯è·å¾—äº†<code>BookService</code>çš„å¼•ç”¨ï¼Œå½“è°ƒç”¨<code>bookService.createBook()</code>æ—¶ï¼Œå¦‚ä½•å¯¹è°ƒç”¨æ–¹æ³•è¿›è¡Œæ‹¦æˆªï¼Œå¹¶åœ¨æ‹¦æˆªå‰åè¿›è¡Œå®‰å…¨æ£€æŸ¥ã€æ—¥å¿—ã€äº‹åŠ¡ç­‰å¤„ç†ï¼Œå°±ç›¸å½“äºå®Œæˆäº†æ‰€æœ‰ä¸šåŠ¡åŠŸèƒ½ã€‚</p>
<p>åœ¨Javaå¹³å°ä¸Šï¼Œå¯¹äºAOPçš„ç»‡å…¥ï¼Œæœ‰3ç§æ–¹å¼ï¼š</p>
<ol>
<li>ç¼–è¯‘æœŸï¼šåœ¨ç¼–è¯‘æ—¶ï¼Œç”±ç¼–è¯‘å™¨æŠŠåˆ‡é¢è°ƒç”¨ç¼–è¯‘è¿›å­—èŠ‚ç ï¼Œè¿™ç§æ–¹å¼éœ€è¦å®šä¹‰æ–°çš„å…³é”®å­—å¹¶æ‰©å±•ç¼–è¯‘å™¨ï¼ŒAspectJæ˜¯ä¸€ç§åŸºäºJavaè¯­è¨€çš„AOPæ¡†æ¶ï¼Œå®ƒæ‰©å±•äº†Javaç¼–è¯‘å™¨ï¼Œä½¿ç”¨å…³é”®å­—aspectåœ¨ç¼–è¯‘æ—¶å®ç°ç»‡å…¥ã€‚</li>
<li>ç±»åŠ è½½å™¨ï¼šåœ¨ç›®æ ‡ç±»è¢«è£…è½½åˆ°JVMæ—¶ï¼Œé€šè¿‡ä¸€ä¸ªç‰¹æ®Šçš„ç±»åŠ è½½å™¨ï¼Œå¯¹ç›®æ ‡ç±»çš„å­—èŠ‚ç é‡æ–°â€œå¢å¼ºâ€ã€‚</li>
<li>è¿è¡ŒæœŸï¼šç›®æ ‡å¯¹è±¡å’Œåˆ‡é¢éƒ½æ˜¯æ™®é€šJavaç±»ï¼Œé€šè¿‡JVMçš„åŠ¨æ€ä»£ç†åŠŸèƒ½æˆ–è€…ç¬¬ä¸‰æ–¹åº“å®ç°è¿è¡ŒæœŸåŠ¨æ€ç»‡å…¥ã€‚Spring AOPå°±æ˜¯åœ¨è¿è¡ŒæœŸé€šè¿‡ä»£ç†æ–¹å¼å‘ç›®æ ‡ç±»ç»‡å…¥å¢å¼ºä»£ç ã€‚</li>
</ol>
<p>æœ€ç®€å•çš„æ–¹å¼å°±æ˜¯ç¬¬ä¸‰ç§ã€‚</p>
<p><strong>ä»€ä¹ˆæ˜¯Spring AOPï¼Ÿ</strong><br/>
Spring AOPæ˜¯AOPçš„ä¸€ç§å®ç°æ–¹å¼ï¼Œå®ƒçš„å®ç°å°±æ˜¯åŸºäºJVMçš„åŠ¨æ€ä»£ç†ã€‚ç”±äºJVMçš„åŠ¨æ€ä»£ç†è¦æ±‚å¿…é¡»å®ç°æ¥å£ï¼Œå¦‚æœä¸€ä¸ªæ™®é€šç±»æ²¡æœ‰ä¸šåŠ¡æ¥å£ï¼Œå°±éœ€è¦é€šè¿‡CGLIBæˆ–è€…javassistè¿™äº›ä¸‰æ–¹åº“å®ç°ã€‚</p>
<h3 data-id="heading-4">3. AOPçš„ç»„æˆ</h3>
<h4 data-id="heading-5">3.1 å‡ ä¸ªæ ¸å¿ƒæ¦‚å¿µ</h4>
<ul>
<li>PointCut: åˆ‡ï¼ˆå…¥ï¼‰ç‚¹ã€‚å®ƒçš„ä½œç”¨æ˜¯æä¾›ä¸€ç»„è§„åˆ™ï¼ˆä½¿ç”¨åˆ‡ç‚¹è¡¨è¾¾å¼ï¼‰å®šä¹‰å¯¹åº”ç”¨ç¨‹åºçš„å“ªäº›æ–¹æ³•è¿›è¡Œå¢å¼ºã€‚</li>
<li>JoinPoint: è¿æ¥ç‚¹ã€‚æ»¡è¶³åˆ‡ç‚¹è§„åˆ™çš„å…·ä½“æ–¹æ³•å°±æ˜¯è¿æ¥ç‚¹ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥æ’å…¥åˆ‡é¢çš„æ–¹æ³•ã€‚<strong>åˆ‡ç‚¹æ˜¯ä¸€ç»„è¿æ¥ç‚¹çš„é›†åˆ</strong>ã€‚</li>
<li>advice: é€šçŸ¥ã€‚ä»£ç å¢å¼ºï¼ŒæŒ‡è¿æ¥ç‚¹ä¸Šæ‰§è¡Œçš„åŠ¨ä½œã€‚</li>
<li>Aspectï¼šåˆ‡é¢ã€‚å³ä¸€ä¸ªæ¨ªè·¨å¤šä¸ªæ ¸å¿ƒé€»è¾‘çš„åŠŸèƒ½ï¼Œæˆ–è€…ç§°ä¹‹ä¸ºç³»ç»Ÿå…³æ³¨ç‚¹ã€‚åˆ‡é¢ = åˆ‡ç‚¹ + é€šçŸ¥ã€‚</li>
<li>Introductionï¼šå¼•ä»‹ã€‚æŒ‡ä¸ºä¸€ä¸ªå·²æœ‰çš„Javaå¯¹è±¡åŠ¨æ€çš„å¢åŠ æ–°çš„æ¥å£ã€‚</li>
<li>Weaving: ç»‡å…¥ï¼ŒæŒ‡å°†åˆ‡é¢æ•´åˆåˆ°åº”ç”¨ç¨‹åºçš„æ‰§è¡Œæµç¨‹ä¸­ã€‚</li>
<li>Interceptor: æ‹¦æˆªå™¨ï¼Œæ˜¯ä¸€ç§å®ç°å¢å¼ºçš„æ–¹å¼ã€‚</li>
<li>Target Objectï¼šç›®æ ‡å¯¹è±¡ï¼Œå³çœŸæ­£æ‰§è¡Œä¸šåŠ¡çš„æ ¸å¿ƒé€»è¾‘å¯¹è±¡ã€‚</li>
<li>AOP Proxy: AOPä»£ç†ï¼Œæ˜¯å®¢æˆ·ç«¯æŒæœ‰çš„å¢å¼ºåçš„å¯¹è±¡å¼•ç”¨ã€‚</li>
</ul>
<h4 data-id="heading-6">3.2 Adviceï¼ˆé€šçŸ¥ï¼‰çš„ç±»å‹</h4>
<p>ä¸Šé¢æˆ‘ä»¬è®²äº†ä»€ä¹ˆæ˜¯é€šçŸ¥ï¼Œæ¥ä¸‹æ¥å­¦ä¹ é€šçŸ¥çš„ç±»å‹ã€‚Spring Aopä¸­é€šçŸ¥ç±»å‹æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>
<ul>
<li>@Aroundï¼šç¯ç»•é€šçŸ¥ã€‚æ­¤æ³¨è§£æ ‡æ³¨çš„é€šçŸ¥æ–¹æ³•åœ¨ç›®æ ‡æ–¹æ³•å‰åéƒ½è¢«æ‰§è¡Œã€‚</li>
<li>@Beforeï¼šå‰ç½®é€šçŸ¥ã€‚æ­¤æ³¨è§£æ ‡æ³¨çš„é€šçŸ¥æ–¹æ³•åœ¨ç›®æ ‡æ–¹æ³•å‰è¢«æ‰§è¡Œã€‚</li>
<li>@AfterReturning: è¿”å›åé€šçŸ¥ã€‚æ­¤æ³¨è§£æ ‡æ³¨çš„é€šçŸ¥æ–¹æ³•åœ¨ç›®æ ‡æ–¹æ³•æ­£å¸¸è¿”å›åè¢«æ‰§è¡Œï¼Œæœ‰å¼‚å¸¸ä¸ä¼šæ‰§è¡Œã€‚</li>
<li>@AfterThrowing: å¼‚å¸¸åé€šçŸ¥ã€‚æ­¤æ³¨è§£æ ‡æ³¨çš„é€šçŸ¥æ–¹æ³•åœ¨ç›®æ ‡æ–¹æ³•å‘ç”Ÿå¼‚å¸¸åè¢«æ‰§è¡Œã€‚</li>
<li>@Afterï¼šåç½®é€šçŸ¥ã€‚æ­¤æ³¨è§£æ ‡æ³¨çš„é€šçŸ¥æ–¹æ³•åœ¨ç›®æ ‡æ–¹æ³•åè¢«æ‰§è¡Œï¼Œæ— è®ºæ˜¯å¦æœ‰å¼‚å¸¸éƒ½ä¼šæ‰§è¡Œã€‚</li>
</ul>
<h5 data-id="heading-7">3.2.1 æ²¡æœ‰å¼‚å¸¸æ—¶ï¼Œé€šçŸ¥çš„è¿è¡Œé¡ºåº</h5>
<p>ç¨‹åºæ­£å¸¸è¿è¡Œçš„æƒ…å†µä¸‹ï¼Œ@AfterThrowingæ ‡è¯†çš„é€šçŸ¥æ–¹æ³•ä¸ä¼šæ‰§è¡Œã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f528546b62904e4da1c334ad4bafdde4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3OTM4MTY5MTI1NTM2MA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770184024&amp;x-signature=WZv9zG1uqxHrJY5J0B87YUKa3iE%3D" alt="image.png" loading="lazy"/></p>
<h5 data-id="heading-8">3.2.2 æœ‰å¼‚å¸¸æ—¶ï¼Œé€šçŸ¥çš„è¿è¡Œé¡ºåº</h5>
<ul>
<li>@AfterReturningæ ‡è¯†çš„é€šçŸ¥æ–¹æ³•ä¸ä¼šæ‰§è¡Œã€‚</li>
<li>@AfterThrowingæ ‡è¯†çš„é€šçŸ¥æ–¹æ³•æ‰§è¡Œäº†ã€‚</li>
<li>@Aroundç¯ç»•é€šçŸ¥ä¸­åŸå§‹æ–¹æ³•è°ƒç”¨æœ‰å¼‚å¸¸ï¼Œé€šçŸ¥ä¸­çš„ç¯ç»•åçš„ä»£ç é€»è¾‘ä¹Ÿä¸ä¼šå†æ‰§è¡Œäº†ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2273ec625fe944ca891757e28068f513~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3OTM4MTY5MTI1NTM2MA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770184024&amp;x-signature=aJqPPy9WBE98APJ3KNM6cc1Oku4%3D" alt="image.png" loading="lazy"/></li>
</ul>
<blockquote>
<p>æ³¨æ„ï¼š</p>
<ul>
<li>@Around ç¯ç»•é€šçŸ¥éœ€è¦è°ƒç”¨ProceedingJoinPoint.proceed() æ¥è®©åŸå§‹æ–¹æ³•æ‰§è¡Œï¼Œå…¶ä»–é€šçŸ¥ä¸éœ€è¦è€ƒè™‘ç›®æ ‡æ–¹æ³•æ‰§è¡Œã€‚</li>
<li>@Around ç¯ç»•é€šçŸ¥æ–¹æ³•çš„è¿”å›å€¼ï¼Œå¿…é¡»æŒ‡å®šä¸º Objectï¼Œæ¥æ¥æ”¶åŸå§‹æ–¹æ³•çš„è¿”å›å€¼ï¼Œå¦åˆ™åŸå§‹æ–¹æ³•æ‰§è¡Œå®Œæ¯•ï¼Œæ˜¯è·å–ä¸åˆ°è¿”å›å€¼çš„ã€‚</li>
<li>ä¸€ä¸ªåˆ‡é¢ç±»å¯ä»¥æœ‰å¤šä¸ªåˆ‡ç‚¹ã€‚</li>
</ul>
</blockquote>
<h2 data-id="heading-9">äºŒã€Spring AOPçš„ä½¿ç”¨ç¤ºä¾‹</h2>
<p>æˆ‘ä»¬ä»¥<code>UserService</code>å’Œ<code>MailService</code>ä¸ºä¾‹ï¼Œè¿™ä¸¤ä¸ªå±äºæ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œç°åœ¨ï¼Œæˆ‘ä»¬å‡†å¤‡ç»™<code>UserService</code>çš„æ¯ä¸ªä¸šåŠ¡æ–¹æ³•æ‰§è¡Œå‰æ·»åŠ æ—¥å¿—ï¼Œç»™<code>MailService</code>çš„æ¯ä¸ªä¸šåŠ¡æ–¹æ³•æ‰§è¡Œå‰åæ·»åŠ æ—¥å¿—ï¼Œåœ¨Springä¸­ï¼Œéœ€è¦ä»¥ä¸‹æ­¥éª¤ï¼š</p>
<h3 data-id="heading-10">1. å¼•å…¥Springå¯¹AOPçš„æ”¯æŒ</h3>
<ol>
<li>å¦‚æœæ˜¯SpringBooté¡¹ç›®ï¼Œå°±å¼•å…¥<code>org.springframework.boot:spring-boot-starter-aop</code>åŒ…ã€‚</li>
<li>å¦‚æœæ˜¯Springé¡¹ç›®ä½†ä¸æ˜¯SpringBootï¼Œå°±å¼•å…¥<code>org.springframework:spring-aspects</code>åŒ…ã€‚</li>
</ol>
<h3 data-id="heading-11">2. ä»£ç å®ç°</h3>
<blockquote>
<p>Spring AOPæœ‰ä¸¤ç§å®ç°æ–¹å¼ï¼šåŸºäº@Aspectã€åŸºäºè‡ªå®šä¹‰æ³¨è§£</p>
</blockquote>
<h4 data-id="heading-12">2.1 åŸºäº@Aspect</h4>
<ol>
<li>æˆ‘ä»¬å®šä¹‰ä¸€ä¸ª<code>LoggingAspect</code>ï¼š</li>
</ol>

<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Aspect</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LoggingAspect</span> {
    <span class="hljs-comment">// åœ¨æ‰§è¡ŒUserServiceçš„æ¯ä¸ªæ–¹æ³•å‰æ‰§è¡Œ:</span>
    <span class="hljs-meta">@Before("execution(public * com.itranswarp.learnjava.service.UserService.*(..))")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doAccessCheck</span><span class="hljs-params">()</span> {
        System.err.println(<span class="hljs-string">"[Before] do access check..."</span>);
    }

    <span class="hljs-comment">// åœ¨æ‰§è¡ŒMailServiceçš„æ¯ä¸ªæ–¹æ³•å‰åæ‰§è¡Œ:</span>
    <span class="hljs-meta">@Around("execution(public * com.itranswarp.learnjava.service.MailService.*(..))")</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">doLogging</span><span class="hljs-params">(ProceedingJoinPoint pjp)</span> <span class="hljs-keyword">throws</span> Throwable {
        System.err.println(<span class="hljs-string">"[Around] start "</span> + pjp.getSignature());
        <span class="hljs-comment">// æ‰§è¡ŒçœŸæ­£çš„ä¸šåŠ¡é€»è¾‘</span>
        <span class="hljs-type">Object</span> <span class="hljs-variable">retVal</span> <span class="hljs-operator">=</span> pjp.proceed();
        System.err.println(<span class="hljs-string">"[Around] done "</span> + pjp.getSignature());
        <span class="hljs-keyword">return</span> retVal;
    }
}
</code></pre>
<p>è§‚å¯Ÿ<code>doAccessCheck()</code>æ–¹æ³•ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª<code>@Before</code>æ³¨è§£ï¼Œé‡Œé¢çš„<code>execution</code>æ˜¯åˆ‡ç‚¹è¡¨è¾¾å¼ï¼Œå‘Šè¯‰AspectJåº”è¯¥åœ¨ä½•å¤„æ‰§è¡Œè¯¥æ–¹æ³•ï¼Œè¿™é‡Œå†™çš„æ„æ€æ˜¯ï¼šæ‰§è¡Œ<code>UserService</code>çš„æ¯ä¸ª<code>public</code>æ–¹æ³•<strong>å‰</strong>æ‰§è¡Œ<code>doAccessCheck()</code>ä»£ç ã€‚</p>
<p>å†è§‚å¯Ÿ<code>doLogging()</code>æ–¹æ³•ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª<code>@Around</code>æ³¨è§£ï¼Œå®ƒå’Œ<code>@Before</code>ä¸åŒï¼Œ<code>@Around</code>å¯ä»¥å†³å®šæ˜¯å¦æ‰§è¡Œç›®æ ‡æ–¹æ³•ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬åœ¨<code>doLogging()</code>å†…éƒ¨å…ˆæ‰“å°æ—¥å¿—ï¼Œå†è°ƒç”¨æ–¹æ³•ï¼Œæœ€åæ‰“å°æ—¥å¿—åè¿”å›ç»“æœã€‚</p>
<p>åœ¨<code>LoggingAspect</code>ç±»çš„å£°æ˜å¤„ï¼Œé™¤äº†ç”¨<code>@Component</code>è¡¨ç¤ºå®ƒæœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªBeanå¤–ï¼Œæˆ‘ä»¬å†åŠ ä¸Š<code>@Aspect</code>æ³¨è§£ï¼Œè¡¨ç¤ºå®ƒçš„<code>@Before</code>æ ‡æ³¨çš„æ–¹æ³•éœ€è¦æ³¨å…¥åˆ°<code>UserService</code>çš„æ¯ä¸ª<code>public</code>æ–¹æ³•æ‰§è¡Œå‰ï¼Œ<code>@Around</code>æ ‡æ³¨çš„æ–¹æ³•éœ€è¦æ³¨å…¥åˆ°<code>MailService</code>çš„æ¯ä¸ª<code>public</code>æ–¹æ³•æ‰§è¡Œå‰åã€‚</p>
<ol start="2">
<li>å¦‚æœä¸æ˜¯SpringBooté¡¹ç›®ï¼Œæˆ‘ä»¬éœ€è¦ç»™<code>@Configuration</code>ç±»åŠ ä¸Šä¸€ä¸ª<code>@EnableAspectJAutoProxy</code>æ³¨è§£ï¼š</li>
</ol>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Configuration</span>
<span class="hljs-variable">@ComponentScan</span>
<span class="hljs-variable">@EnableAspectJAutoProxy</span>
public class AppConfig {
    ...
}

</code></pre>
<p>Springçš„IoCå®¹å™¨çœ‹åˆ°è¿™ä¸ªæ³¨è§£ï¼Œå°±ä¼šè‡ªåŠ¨æŸ¥æ‰¾å¸¦æœ‰@Aspectçš„Beanï¼Œç„¶åæ ¹æ®æ¯ä¸ªæ–¹æ³•çš„@Beforeã€@Aroundç­‰æ³¨è§£æŠŠAOPæ³¨å…¥åˆ°ç‰¹å®šçš„Beanä¸­ã€‚</p>
<blockquote>
<p>åœ¨SpringBooté¡¹ç›®ä¸­ï¼Œä¸éœ€è¦æ˜¾ç¤ºçš„æ·»åŠ <code>@EnableAspectJAutoProxy</code>æ³¨è§£ã€‚åœ¨æˆ‘ä»¬çš„ä¸»ç±»æˆ–é…ç½®ç±»ä¸Šæœ‰<code>@SpringBootApplication</code>æ³¨è§£ï¼ŒSpringBootçš„è‡ªåŠ¨é…ç½®å°±ä¼šç”Ÿæ•ˆï¼ŒåŒ…æ‹¬AOPçš„è‡ªåŠ¨é…ç½®ã€‚è¿™æ ·ï¼Œåˆ‡é¢å°±ä¼šè¢«è‡ªåŠ¨è¯†åˆ«å¹¶åº”ç”¨ã€‚</p>
</blockquote>
<p>æ‰§è¡Œä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä»¥ä¸‹è¾“å‡ºï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">[<span class="hljs-meta">Before</span>] <span class="hljs-keyword">do</span> access check...
[<span class="hljs-meta">Around</span>] start <span class="hljs-keyword">void</span> com.itranswarp.learnjava.service.MailService.sendRegistrationMail(User)
Welcome, test!
[<span class="hljs-meta">Around</span>] done <span class="hljs-keyword">void</span> com.itranswarp.learnjava.service.MailService.sendRegistrationMail(User)
[<span class="hljs-meta">Before</span>] <span class="hljs-keyword">do</span> access check...
[<span class="hljs-meta">Around</span>] start <span class="hljs-keyword">void</span> com.itranswarp.learnjava.service.MailService.sendLoginMail(User)
Hi, Bob! You are logged <span class="hljs-keyword">in</span> at <span class="hljs-number">2020</span><span class="hljs-number">-02</span><span class="hljs-number">-14</span>T23:<span class="hljs-number">13</span>:<span class="hljs-number">52.167996</span>+<span class="hljs-number">08</span>:<span class="hljs-number">00</span>[Asia/Shanghai]
[<span class="hljs-meta">Around</span>] done <span class="hljs-keyword">void</span> com.itranswarp.learnjava.service.MailService.sendLoginMail(User)
</code></pre>
<p>è¿™è¯´æ˜æ‰§è¡Œä¸šåŠ¡é€»è¾‘å‰åï¼Œç¡®å®æ‰§è¡Œäº†æˆ‘ä»¬å®šä¹‰çš„Aspectï¼ˆå³<code>LoggingAspect</code>çš„æ–¹æ³•ï¼‰ã€‚</p>
<p>ä½¿ç”¨åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ï¼ˆ<code>execution(public * com.itranswarp.learnjava.service.UserService.*(..))</code>ï¼‰è¿™ç§æ–¹å¼åŸºæœ¬èƒ½å®ç°æ— å·®åˆ«å…¨è¦†ç›–ï¼Œå³æŸä¸ªåŒ…ä¸‹é¢çš„æ‰€æœ‰Beançš„æ‰€æœ‰æ–¹æ³•éƒ½ä¼šè¢«è¿™ä¸ª<code>doAccessCheck()</code>æ–¹æ³•æ‹¦æˆªï¼Œéç²¾å‡†æ‰“å‡»è¯¯ä¼¤é¢éå¸¸å¤§ã€‚</p>
<p>æˆ‘ä»¬åœ¨ä½¿ç”¨AOPæ—¶ï¼Œè¦æ³¨æ„åˆ°è™½ç„¶Springå®¹å™¨å¯ä»¥æŠŠæŒ‡å®šçš„æ–¹æ³•é€šè¿‡AOPè§„åˆ™è£…é…åˆ°æŒ‡å®šçš„Beançš„æŒ‡å®šæ–¹æ³•å‰åï¼Œä½†æ˜¯ï¼Œå¦‚æœè‡ªåŠ¨è£…é…æ—¶ï¼Œå› ä¸ºä¸æ°å½“çš„èŒƒå›´ï¼Œå®¹æ˜“å¯¼è‡´æ„æƒ³ä¸åˆ°çš„ç»“æœï¼Œå³å¾ˆå¤šä¸éœ€è¦AOPä»£ç†çš„Beanä¹Ÿè¢«è‡ªåŠ¨ä»£ç†äº†ï¼Œå¹¶ä¸”ï¼Œåç»­æ–°å¢çš„Beanï¼Œå¦‚æœä¸æ¸…æ¥šç°æœ‰çš„AOPè£…é…è§„åˆ™ï¼Œå®¹æ˜“è¢«å¼ºè¿«è£…é…ã€‚</p>
<p>ä½¿ç”¨AOPæ—¶ï¼Œè¢«è£…é…çš„Beanæœ€å¥½è‡ªå·±èƒ½æ¸…æ¸…æ¥šæ¥šåœ°çŸ¥é“è‡ªå·±è¢«å®‰æ’äº†ã€‚ä¾‹å¦‚ï¼ŒSpringæä¾›çš„<code>@Transactional</code>å°±æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„ä¾‹å­ã€‚å¦‚æœæˆ‘ä»¬è‡ªå·±å†™çš„Beanå¸Œæœ›åœ¨ä¸€ä¸ªæ•°æ®åº“äº‹åŠ¡ä¸­è¢«è°ƒç”¨ï¼Œå°±æ ‡æ³¨ä¸Š<code>@Transactional</code>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-comment">// æœ‰äº‹åŠ¡:</span>
    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">User</span> <span class="hljs-title function_">createUser</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> name</span>) {
        ...
    }

    <span class="hljs-comment">// æ— äº‹åŠ¡:</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">boolean</span> <span class="hljs-title function_">isValidName</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> name</span>) {
        ...
    }
}

</code></pre>
<p><strong>å› æ­¤ï¼Œè£…é…AOPçš„æ—¶å€™ï¼Œä½¿ç”¨æ³¨è§£æ˜¯æœ€å¥½çš„æ–¹å¼ã€‚</strong></p>
<h4 data-id="heading-13">2.2 åŸºäºè‡ªå®šä¹‰æ³¨è§£</h4>
<p>æˆ‘ä»¬ä»¥ä¸€ä¸ªå®é™…ä¾‹å­æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨æ³¨è§£å®ç°AOPè£…é…ã€‚</p>
<ol>
<li>ä¸ºäº†ç›‘æ§åº”ç”¨ç¨‹åºçš„æ€§èƒ½ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ€§èƒ½ç›‘æ§çš„æ³¨è§£ï¼š</li>
</ol>

<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Target</span>(METHOD)
<span class="hljs-variable">@Retention</span>(RUNTIME)
public <span class="hljs-variable">@interface</span> MetricTime {
    <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">value</span>();
}
</code></pre>
<p>2.  åœ¨éœ€è¦è¢«ç›‘æ§çš„å…³é”®æ–¹æ³•ä¸Šæ ‡æ³¨è¯¥æ³¨è§£ï¼š</p>

<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-comment">// ç›‘æ§register()æ–¹æ³•æ€§èƒ½:</span>
    <span class="hljs-meta">@MetricTime</span>(<span class="hljs-string">"register"</span>)
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">User</span> <span class="hljs-title function_">register</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> email, <span class="hljs-built_in">String</span> password, <span class="hljs-built_in">String</span> name</span>) {
        ...
    }
    ...
}
</code></pre>
<p>3.  ç„¶åï¼Œæˆ‘ä»¬å®šä¹‰åˆ‡é¢<code>MetricAspect</code>ï¼š</p>

<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Aspect</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MetricAspect</span> {
    <span class="hljs-meta">@Around("@annotation(metricTime)")</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">metric</span><span class="hljs-params">(ProceedingJoinPoint joinPoint, MetricTime metricTime)</span> <span class="hljs-keyword">throws</span> Throwable {
        <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> metricTime.value();
        <span class="hljs-type">long</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> joinPoint.proceed();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-type">long</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> System.currentTimeMillis() - start;
            <span class="hljs-comment">// å†™å…¥æ—¥å¿—æˆ–å‘é€è‡³JMX:</span>
            System.err.println(<span class="hljs-string">"[Metrics] "</span> + name + <span class="hljs-string">": "</span> + t + <span class="hljs-string">"ms"</span>);
        }
    }
}
</code></pre>
<p>æ³¨æ„<code>metric()</code>æ–¹æ³•æ ‡æ³¨äº†<code>@Around("@annotation(metricTime)")</code>ï¼Œå®ƒçš„æ„æ€æ˜¯ï¼Œç¬¦åˆæ¡ä»¶çš„ç›®æ ‡æ–¹æ³•æ˜¯å¸¦æœ‰<code>@MetricTime</code>æ³¨è§£çš„æ–¹æ³•ï¼Œå› ä¸º<code>metric()</code>æ–¹æ³•å‚æ•°ç±»å‹æ˜¯<code>MetricTime</code>ï¼ˆæ³¨æ„å‚æ•°åæ˜¯<code>metricTime</code>ä¸æ˜¯<code>MetricTime</code>ï¼‰ï¼Œæˆ‘ä»¬é€šè¿‡å®ƒè·å–æ€§èƒ½ç›‘æ§çš„åç§°ã€‚</p>
<p>æœ‰äº†<code>@MetricTime</code>æ³¨è§£ï¼Œå†é…åˆ<code>MetricAspect</code>ï¼Œä»»ä½•Beanï¼Œåªè¦æ–¹æ³•æ ‡æ³¨äº†<code>@MetricTime</code>æ³¨è§£ï¼Œå°±å¯ä»¥è‡ªåŠ¨å®ç°æ€§èƒ½ç›‘æ§ã€‚<br/>
è¿è¡Œä»£ç ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">Welcome, Bob!
[Metrics] <span class="hljs-keyword">register</span>: <span class="hljs-number">16</span>ms
</code></pre>
<h2 data-id="heading-14">ä¸‰ã€Spring AOPçš„åŸç†</h2>
<p>é‚£ä¹ˆ<code>LoggingAspect</code>å®šä¹‰çš„æ–¹æ³•ï¼Œæ˜¯å¦‚ä½•æ³¨å…¥åˆ°å…¶ä»–Beançš„å‘¢ï¼Ÿ<br/>
æˆ‘ä»¬ä»¥<code>LoggingAspect.doAccessCheck()</code>ä¸ºä¾‹ï¼Œè¦æŠŠå®ƒæ³¨å…¥åˆ°<code>UserService</code>çš„æ¯ä¸ª<code>public</code>æ–¹æ³•ä¸­ï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯ç¼–å†™ä¸€ä¸ªå­ç±»ï¼Œå¹¶æŒæœ‰åŸå§‹å®ä¾‹çš„å¼•ç”¨ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-title class_">UserServiceAopProxy</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">UserService</span> target;
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">LoggingAspect</span> aspect;

    <span class="hljs-keyword">public</span> <span class="hljs-title class_">UserServiceAopProxy</span>(<span class="hljs-title class_">UserService</span> target, <span class="hljs-title class_">LoggingAspect</span> aspect) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">target</span> = target;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">aspect</span> = aspect;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-title class_">User</span> <span class="hljs-title function_">login</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> email, <span class="hljs-built_in">String</span> password</span>) {
        <span class="hljs-comment">// å…ˆæ‰§è¡ŒAspectçš„ä»£ç :</span>
        aspect.<span class="hljs-title function_">doAccessCheck</span>();
        <span class="hljs-comment">// å†æ‰§è¡ŒUserServiceçš„é€»è¾‘:</span>
        <span class="hljs-keyword">return</span> target.<span class="hljs-title function_">login</span>(email, password);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-title class_">User</span> <span class="hljs-title function_">register</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> email, <span class="hljs-built_in">String</span> password, <span class="hljs-built_in">String</span> name</span>) {
        aspect.<span class="hljs-title function_">doAccessCheck</span>();
        <span class="hljs-keyword">return</span> target.<span class="hljs-title function_">register</span>(email, password, name);
    }

    ...
}
</code></pre>
<p>è¿™äº›éƒ½æ˜¯Springå®¹å™¨å¯åŠ¨æ—¶ä¸ºæˆ‘ä»¬è‡ªåŠ¨åˆ›å»ºçš„æ³¨å…¥äº†Aspectçš„å­ç±»ï¼Œå®ƒå–ä»£äº†åŸå§‹çš„<code>UserService</code>ï¼ˆåŸå§‹çš„<code>UserService</code>å®ä¾‹ä½œä¸ºå†…éƒ¨å˜é‡éšè—åœ¨<code>UserServiceAopProxy</code>ä¸­ï¼‰ã€‚å¦‚æœæˆ‘ä»¬æ‰“å°ä»Springå®¹å™¨è·å–çš„<code>UserService</code>å®ä¾‹ç±»å‹ï¼Œå®ƒç±»ä¼¼<code>UserService$$EnhancerBySpringCGLIB$$1f44e01c</code>ï¼Œå®é™…ä¸Šæ˜¯Springä½¿ç”¨CGLIBåŠ¨æ€åˆ›å»ºçš„å­ç±»ï¼Œä½†å¯¹äºè°ƒç”¨æ–¹æ¥è¯´ï¼Œæ„Ÿè§‰ä¸åˆ°ä»»ä½•åŒºåˆ«ã€‚</p>
<p><strong>Spring AOPçš„åŸç†ï¼šSpring AOPå¯¹æ¥å£ç±»å‹ä½¿ç”¨JDKåŠ¨æ€ä»£ç†ï¼Œå¯¹æ™®é€šç±»ä½¿ç”¨CGLIBåˆ›å»ºå­ç±»ã€‚å¦‚æœä¸€ä¸ªBeançš„classæ˜¯finalï¼ŒSpringå°†æ— æ³•ä¸ºå…¶åˆ›å»ºå­ç±»ã€‚</strong></p>
<h2 data-id="heading-15">å››ã€Spring AOPçš„ä½¿ç”¨åœºæ™¯</h2>
<ol>
<li>æ—¥å¿—è®°å½•<br/>
åœ¨æ–¹æ³•æ‰§è¡Œå‰åè‡ªåŠ¨è®°å½•æ—¥å¿—ï¼Œæ— éœ€åœ¨æ¯ä¸ªæ–¹æ³•ä¸­æ‰‹åŠ¨æ·»åŠ æ—¥å¿—ä»£ç ã€‚</li>
<li>äº‹åŠ¡ç®¡ç†<br/>
ç¡®ä¿æ•°æ®æ“ä½œçš„ä¸€è‡´æ€§å’Œå®Œæ•´æ€§ã€‚ä¾‹å¦‚åœ¨æ•°æ®åº“æ“ä½œå‰åè‡ªåŠ¨å¼€å¯å’Œæäº¤äº‹åŠ¡ã€‚</li>
<li>å®‰å…¨æ£€æŸ¥<br/>
åœ¨æ–¹æ³•æ‰§è¡Œå‰è¿›è¡Œæƒé™éªŒè¯ã€‚ä¾‹å¦‚æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æœ‰æƒè®¿é—®æŸä¸ªèµ„æºã€‚</li>
<li>æ€§èƒ½ç›‘æ§<br/>
æµ‹é‡æ–¹æ³•çš„æ‰§è¡Œæ—¶é—´ï¼Œå¸®åŠ©è¯†åˆ«æ€§èƒ½ç“¶é¢ˆã€‚</li>
<li>ç¼“å­˜å¤„ç†<br/>
åœ¨æ–¹æ³•æ‰§è¡Œå‰åè‡ªåŠ¨ç¼“å­˜ç»“æœï¼Œå‡å°‘é‡å¤è®¡ç®—ã€‚</li>
<li>é”™è¯¯å¤„ç†<br/>
æ•è·æ–¹æ³•æ‰§è¡Œä¸­æŠ›å‡ºçš„å¼‚å¸¸ï¼Œå¹¶è¿›è¡Œç»Ÿä¸€å¤„ç†æˆ–è®°å½•ã€‚</li>
<li>æ•°æ®æ ¡éªŒ<br/>
åœ¨è¯·æ±‚æ¥å£æ—¶ï¼Œå…ˆæ ¡éªŒå‚æ•°çš„åˆæ³•æ€§ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ¡Œé¢GUIä¸å¼ºå¤§CLIå¹¶å­˜ï¼šä¸ºä½•è¯´Gooseæ—¢é€‚åˆâ€œæ‹–æ‹‰æ‹½â€ï¼Œåˆé€‚åˆâ€œç¡¬æ ¸â€è‡ªåŠ¨åŒ–è„šæœ¬ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7599965904617914414</link>    <guid>https://juejin.cn/post/7599965904617914414</guid>    <pubDate>2026-01-28T04:46:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599965904617914414" data-draft-id="7599912857393528878" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ¡Œé¢GUIä¸å¼ºå¤§CLIå¹¶å­˜ï¼šä¸ºä½•è¯´Gooseæ—¢é€‚åˆâ€œæ‹–æ‹‰æ‹½â€ï¼Œåˆé€‚åˆâ€œç¡¬æ ¸â€è‡ªåŠ¨åŒ–è„šæœ¬ï¼Ÿ"/> <meta itemprop="keywords" content="è‡ªåŠ¨åŒ–è¿ç»´,å¼€æº"/> <meta itemprop="datePublished" content="2026-01-28T04:46:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§å‚æŠ€æœ¯æ€»ç›‘ä¸‹æµ·"/> <meta itemprop="url" content="https://juejin.cn/user/4091714106833577"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ¡Œé¢GUIä¸å¼ºå¤§CLIå¹¶å­˜ï¼šä¸ºä½•è¯´Gooseæ—¢é€‚åˆâ€œæ‹–æ‹‰æ‹½â€ï¼Œåˆé€‚åˆâ€œç¡¬æ ¸â€è‡ªåŠ¨åŒ–è„šæœ¬ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4091714106833577/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§å‚æŠ€æœ¯æ€»ç›‘ä¸‹æµ·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T04:46:37.000Z" title="Wed Jan 28 2026 04:46:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">gooseï¼šæœ¬åœ°åŒ–ã€å¯æ‰©å±• AI å·¥ç¨‹ä»£ç†çš„æŠ€æœ¯æ·±åº¦è§£æ</h2>
<h3 data-id="heading-1">1. æ•´ä½“ä»‹ç»</h3>
<h4 data-id="heading-2">1.1 é¡¹ç›®æ¦‚å†µ</h4>
<p><strong>é¡¹ç›®åœ°å€</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fblock%2Fgoose" target="_blank" title="https://github.com/block/goose" ref="nofollow noopener noreferrer">github.com/block/goose</a>
<strong>å½“å‰çŠ¶æ€</strong>ï¼ˆæˆªè‡³2024å¹´5æœˆï¼‰: é¡¹ç›®äºè¿‘æœŸå¼€æºï¼Œå·²è·å¾—ç¤¾åŒºå…³æ³¨ï¼Œå…·ä½“Star/Forkæ•°é‡éœ€å®æ—¶æŸ¥è¯¢GitHubé¡µé¢ã€‚
<strong>æŠ€æœ¯æ ˆ</strong>: Rust (åç«¯æ ¸å¿ƒ)ï¼Œ TypeScript/React (æ¡Œé¢UI)ï¼Œ åŸºäºElectronçš„è·¨å¹³å°æ¡Œé¢åº”ç”¨ã€‚</p>
<p>goose æ˜¯ä¸€ä¸ªæ—¨åœ¨<strong>åœ¨å¼€å‘è€…æœ¬åœ°ç¯å¢ƒä¸­è¿è¡Œ</strong>çš„AIä»£ç†æ¡†æ¶ã€‚å…¶æ ¸å¿ƒè®¾è®¡ç†å¿µæ˜¯å……å½“ä¸€ä¸ªå…·å¤‡è‡ªä¸»æ‰§è¡Œèƒ½åŠ›çš„â€œå·¥ç¨‹å¸ˆå‰¯é©¾â€ï¼Œè€Œä¸ä»…ä»…æ˜¯ä»£ç å»ºè®®å·¥å…·ã€‚å®ƒé€šè¿‡<strong>æ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼ˆMCPï¼‰</strong> é›†æˆå„ç±»å¼€å‘å·¥å…·ï¼ˆå¦‚æ–‡ä»¶ç³»ç»Ÿã€æµè§ˆå™¨ã€ç‰ˆæœ¬æ§åˆ¶ç­‰ï¼‰ï¼Œåˆ©ç”¨å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ç†è§£é«˜å±‚æ¬¡ä»»åŠ¡æè¿°ï¼ˆ<code>recipe.yaml</code>ï¼‰ï¼Œå¹¶è‡ªä¸»è§„åˆ’ã€æ‰§è¡Œå­ä»»åŠ¡ï¼ˆ<code>activities</code>ï¼‰ï¼Œæœ€ç»ˆå®Œæˆå¤æ‚çš„å·¥ç¨‹ç›®æ ‡ï¼Œå¦‚ä»é›¶åˆ›å»ºWebåº”ç”¨ã€è°ƒè¯•ä»£ç æˆ–ç¼–æ’å·¥ä½œæµã€‚</p>
<h4 data-id="heading-3">1.2 æ ¸å¿ƒåŠŸèƒ½ä¸ä»·å€¼ä¸»å¼ </h4>
<p>goose çš„æ ¸å¿ƒæ˜¯ <strong>â€œRecipe-Driven Automationâ€</strong>ã€‚ç”¨æˆ·é€šè¿‡ç¼–å†™æˆ–ä½¿ç”¨é¢„å®šä¹‰çš„ <code>recipe.yaml</code> æ–‡ä»¶æ¥æè¿°ä»»åŠ¡ç›®æ ‡ã€æ­¥éª¤å’Œæ‰€éœ€å·¥å…·ã€‚goose çš„ä»£ç†ï¼ˆAgentï¼‰éšåå°†è§£æè¯¥é…æ–¹ï¼Œè°ƒç”¨é›†æˆçš„å·¥å…·ï¼ˆé€šè¿‡MCPï¼‰ï¼Œä¸LLMäº¤äº’ä»¥ç”Ÿæˆä»£ç æˆ–å‘½ä»¤ï¼Œå¹¶æ‰§è¡Œå®ƒä»¬ï¼Œå½¢æˆä¸€ä¸ª<strong>æ„ŸçŸ¥-å†³ç­–-æ‰§è¡Œ</strong>çš„é—­ç¯ã€‚</p>
<p><strong>æ ¸å¿ƒåŠŸèƒ½ç»„ä»¶</strong>:</p>
<ol>
<li><strong>ä»»åŠ¡ç†è§£ä¸è§„åˆ’</strong>: è§£æYAMLæ ¼å¼çš„Recipeï¼Œæ‹†è§£ä¸ºå…·ä½“çš„Activityã€‚</li>
<li><strong>å·¥å…·æ‰§è¡Œä¸é›†æˆ</strong>: é€šè¿‡MCPæ— ç¼è°ƒç”¨æ–‡ä»¶æ“ä½œã€Shellå‘½ä»¤ã€Gitã€HTTPè¯·æ±‚ç­‰å·¥å…·ã€‚</li>
<li><strong>å¤šæ¨¡å‹åä½œ</strong>: å¯é…ç½®å¤šä¸ªLLMï¼ˆå¦‚ OpenAI GPT, Claude, æœ¬åœ°æ¨¡å‹ï¼‰ï¼Œæ ¹æ®ä»»åŠ¡ç±»å‹æˆ–æˆæœ¬è¿›è¡Œè·¯ç”±ã€‚</li>
<li><strong>çŠ¶æ€ç®¡ç†ä¸æ¢å¤</strong>: ç»´æŠ¤ä»»åŠ¡æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œæ”¯æŒä¸­æ–­åæ¢å¤ã€‚</li>
<li><strong>æ··åˆç•Œé¢</strong>: æä¾›CLIï¼ˆé€‚ç”¨äºè„šæœ¬é›†æˆï¼‰å’ŒåŸºäºElectronçš„æ¡Œé¢GUIï¼ˆæä¾›å¯è§†åŒ–äº¤äº’å’ŒçŠ¶æ€ç›‘æ§ï¼‰ã€‚</li>
</ol>
<p><strong>è§£å†³çš„é—®é¢˜ä¸ç›®æ ‡äººç¾¤</strong>:</p>
<ul>
<li><strong>é—®é¢˜</strong>:
<ul>
<li><strong>é‡å¤æ€§å·¥ç¨‹ä»»åŠ¡è€—æ—¶</strong>: é¡¹ç›®åˆå§‹åŒ–ã€æ ·æ¿ä»£ç ç”Ÿæˆã€è·¨å·¥å…·å·¥ä½œæµï¼ˆå¦‚ä»£ç ç”Ÿæˆ-&gt;æ ¼å¼åŒ–-&gt;æµ‹è¯•-&gt;æäº¤ï¼‰éœ€è¦å¤§é‡æ‰‹å·¥æ“ä½œã€‚</li>
<li><strong>å·¥å…·é“¾åˆ‡æ¢æˆæœ¬é«˜</strong>: å¼€å‘è€…éœ€è¦åœ¨IDEã€ç»ˆç«¯ã€æµè§ˆå™¨ã€æ–‡æ¡£é—´é¢‘ç¹åˆ‡æ¢ï¼Œä¸Šä¸‹æ–‡ä¸¢å¤±ã€‚</li>
<li><strong>AIè¾…åŠ©å·¥å…·ç¢ç‰‡åŒ–</strong>: ç°æœ‰AIç¼–ç åŠ©æ‰‹å¤šé™äºå•æ–‡ä»¶è¡¥å…¨ï¼Œç¼ºä¹ç«¯åˆ°ç«¯é¡¹ç›®çº§ç†è§£å’Œæ‰§è¡Œèƒ½åŠ›ã€‚</li>
<li><strong>äº‘AIæœåŠ¡çš„æˆæœ¬ä¸éšç§é¡¾è™‘</strong>: å®Œå…¨ä¾èµ–äº‘ç«¯LLM APIå¯èƒ½å¸¦æ¥æ•°æ®éšç§ã€æˆæœ¬æ¿€å¢å’Œç½‘ç»œå»¶è¿Ÿé—®é¢˜ã€‚</li>
</ul>
</li>
<li><strong>ç›®æ ‡äººç¾¤</strong>: å…¨æ ˆå¼€å‘è€…ã€æŠ€æœ¯è´Ÿè´£äººã€ DevOps å·¥ç¨‹å¸ˆã€ä»¥åŠä»»ä½•å¸Œæœ›é€šè¿‡è‡ªåŠ¨åŒ–æå‡ç ”å‘æ•ˆç‡çš„æŠ€æœ¯å›¢é˜Ÿã€‚</li>
<li><strong>é€‚ç”¨åœºæ™¯</strong>: å¿«é€ŸåŸå‹æ­å»ºã€ä»£ç åº“é‡æ„ä¸è¿ç§»ã€è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬ç”Ÿæˆã€CI/CDç®¡é“è¾…åŠ©é…ç½®ã€ä¸ªäººæŠ€æœ¯åšå®¢/é¡¹ç›®å±•ç¤ºé¡µç”Ÿæˆï¼ˆå¦‚ç¤ºä¾‹ä¸­çš„404Portfolioï¼‰ã€‚</li>
</ul>
<p><strong>è§£å†³æ–¹æ¡ˆå¯¹æ¯”</strong>:</p>
<ul>
<li><strong>ä¼ ç»Ÿæ–¹å¼</strong>: äººå·¥é˜…è¯»æ–‡æ¡£ -&gt; æ‰‹åŠ¨æ‰§è¡Œå‘½ä»¤/ç¼–å†™ä»£ç  -&gt; æµ‹è¯• -&gt; è°ƒè¯•ã€‚çº¿æ€§ã€æ˜“å‡ºé”™ã€ä¸Šä¸‹æ–‡ä¾èµ–å¼ºã€‚</li>
<li><strong>Gooseæ–¹å¼</strong>: å£°æ˜å¼ä»»åŠ¡æè¿°ï¼ˆRecipeï¼‰ -&gt; AIä»£ç†è‡ªä¸»è§„åˆ’åˆ†è§£ -&gt; è°ƒç”¨å·¥å…·æ‰§è¡Œ -&gt; è‡ªåŠ¨åŒ–éªŒè¯ä¸è¿­ä»£ã€‚å½¢æˆé—­ç¯ï¼Œå°†å¼€å‘è€…ä»æ‰§è¡Œç»†èŠ‚ä¸­è§£æ”¾ï¼Œä¸“æ³¨äºç›®æ ‡å®šä¹‰å’Œç»“æœå®¡æŸ¥ã€‚</li>
<li><strong>ä¼˜åŠ¿</strong>:
<ul>
<li><strong>æœ¬åœ°ä¼˜å…ˆ</strong>: æ ¸å¿ƒé€»è¾‘ä¸æ•æ„Ÿæ•°æ®å¯ä¿ç•™åœ¨æœ¬åœ°ï¼Œé€šè¿‡MCPä¸å¤–éƒ¨æœåŠ¡å®‰å…¨äº¤äº’ã€‚</li>
<li><strong>å¯æ‰©å±•æ€§</strong>: MCPæ¶æ„å…è®¸è½»æ¾é›†æˆä»»ä½•ç¬¦åˆåè®®çš„å·¥å…·ï¼ˆServersï¼‰ï¼Œç”Ÿæ€æ½œåŠ›å¤§ã€‚</li>
<li><strong>çµæ´»æ¨¡å‹ç­–ç•¥</strong>: æ”¯æŒç§æœ‰åŒ–éƒ¨ç½²çš„æ¨¡å‹ï¼Œå¹³è¡¡èƒ½åŠ›ã€æˆæœ¬ä¸éšç§ã€‚</li>
</ul>
</li>
</ul>
<p><strong>å•†ä¸šä»·å€¼é¢„ä¼°</strong>:</p>
<ul>
<li><strong>æˆæœ¬èŠ‚çº¦é€»è¾‘</strong>:
<ol>
<li><strong>ä»£ç æˆæœ¬</strong>: ä¼°ç®—å¼€å‘è€…å¹³å‡æ—¶è–ªã€‚å‡è®¾gooseæ¯å¤©ä¸ºä¸€åå¼€å‘è€…è‡ªåŠ¨åŒ–èŠ‚çº¦1å°æ—¶ï¼ˆä¿å®ˆä¼°è®¡ï¼‰ï¼Œåˆ™å¹´åº¦èŠ‚çº¦æˆæœ¬çº¦ä¸º <code>æ—¶è–ª * 1å°æ—¶/å¤© * 220å·¥ä½œæ—¥</code>ã€‚</li>
<li><strong>é—®é¢˜ç©ºé—´æ•ˆç›Š</strong>: è¦†ç›–ä»é¡¹ç›®åˆå§‹åŒ–åˆ°ä»£ç ç»´æŠ¤çš„å¤šç§é«˜é¢‘ã€ä½å·®å¼‚åŒ–ä»»åŠ¡ã€‚å…¶ä»·å€¼å¹¶éæ›¿ä»£å¼€å‘è€…ï¼Œè€Œæ˜¯<strong>æå‡å…¶â€œäº§å‡ºå¯†åº¦â€</strong>ã€‚å¯¹äºå›¢é˜Ÿï¼Œä»·å€¼éšè§„æ¨¡çº¿æ€§å¢é•¿ã€‚</li>
<li><strong>ä¼°ç®—ç¤ºä¾‹</strong>: ä»¥ä¸€ä¸ª10äººæŠ€æœ¯å›¢é˜Ÿè®¡ï¼Œå‡è®¾äººå‡å¹´æˆæœ¬Â¥500,000ï¼Œgooseæå‡5%æ•ˆç‡ï¼ˆä¿å®ˆï¼‰ï¼Œå¹´åŒ–ä»·å€¼çº¦ä¸º <code>10 * 500,000 * 5% = Â¥250,000</code>ã€‚è¿™å°šæœªè®¡ç®—å› æ›´å¿«é€Ÿçš„åŸå‹éªŒè¯ã€æ›´å°‘ä¸Šä¸‹æ–‡åˆ‡æ¢å¸¦æ¥çš„åˆ›æ–°æœºä¼šæˆæœ¬é™ä½ã€‚</li>
</ol>
</li>
<li><strong>ä»·å€¼æ ¸å¿ƒ</strong>: å…¶å•†ä¸šä»·å€¼åœ¨äºå°†å¼€å‘è€…çš„æ—¶é—´ä»<strong>æ“ä½œæ€§åŠ³åŠ¨</strong>é‡æ–°åˆ†é…åˆ°<strong>åˆ›é€ æ€§å†³ç­–</strong>ä¸Šã€‚</li>
</ul>
<h3 data-id="heading-4">2. è¯¦ç»†åŠŸèƒ½æ‹†è§£</h3>
<p>ä»<strong>äº§å“-æŠ€æœ¯</strong>åŒè§†è§’è§£æ„ï¼š</p>








































<table><thead><tr><th align="left">äº§å“åŠŸèƒ½</th><th align="left">æŠ€æœ¯å®ç°ç»„ä»¶</th><th align="left">å…³é”®è®¾è®¡</th></tr></thead><tbody><tr><td align="left"><strong>è‡ªåŠ¨åŒ–ç¼–ç  (å¦‚404Portfolio)</strong></td><td align="left"><strong>æ‰§è¡Œå¼•æ“ (Goose Engine)</strong></td><td align="left">è§£æ<code>recipe.yaml</code>ï¼Œç®¡ç†<code>Activity</code>ç”Ÿå‘½å‘¨æœŸï¼Œåè°ƒ<code>Agent</code>å¾ªç¯ï¼ˆæ€è€ƒ-è¡ŒåŠ¨ï¼‰ã€‚</td></tr><tr><td align="left"><strong>å¤šå·¥å…·è°ƒç”¨ (æ–‡ä»¶ã€Gitã€API)</strong></td><td align="left"><strong>MCP (æ¨¡å‹ä¸Šä¸‹æ–‡åè®®) æ¡¥æ¥å±‚</strong></td><td align="left">å®ç°MCPå®¢æˆ·ç«¯ï¼ŒåŠ¨æ€åŠ è½½å’Œè°ƒç”¨æœ¬åœ°/è¿œç¨‹çš„MCP Serverï¼ˆå¦‚<code>filesystem</code>, <code>curl</code> serverï¼‰ã€‚</td></tr><tr><td align="left"><strong>å¤šLLMæ”¯æŒä¸è·¯ç”±</strong></td><td align="left"><strong>æ¨¡å‹ç®¡ç†å™¨ä¸è·¯ç”±å±‚</strong></td><td align="left">æŠ½è±¡LLMæ¥å£ï¼Œæ”¯æŒOpenAI APIã€Anthropicã€Ollamaç­‰ã€‚å¯é…ç½®è·¯ç”±ç­–ç•¥ï¼ˆå¦‚æŒ‰æˆæœ¬ã€ä»»åŠ¡ç±»å‹ï¼‰ã€‚</td></tr><tr><td align="left"><strong>å¯è§†åŒ–ä»»åŠ¡ç›‘æ§ä¸äº¤äº’</strong></td><td align="left"><strong>Electron æ¡Œé¢åº”ç”¨ (UIå±‚)</strong></td><td align="left">åŸºäºReactçš„çŠ¶æ€ç®¡ç†ï¼Œé€šè¿‡IPCä¸åç«¯Rustå¼•æ“é€šä¿¡ï¼Œå®æ—¶æ¸²æŸ“ä»»åŠ¡æ­¥éª¤ã€æ—¥å¿—å’Œç»“æœã€‚</td></tr><tr><td align="left"><strong>ä»»åŠ¡æŒä¹…åŒ–ä¸æ¢å¤</strong></td><td align="left"><strong>çŠ¶æ€å­˜å‚¨ (State Store)</strong></td><td align="left">åºåˆ—åŒ–ä»»åŠ¡æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆå¦‚æ–‡ä»¶å˜æ›´ã€ç¯å¢ƒå˜é‡ï¼‰è‡³æœ¬åœ°æ•°æ®åº“ï¼ˆå¦‚SQLiteï¼‰ï¼Œæ”¯æŒæ–­ç‚¹ç»­åšã€‚</td></tr><tr><td align="left"><strong>å®‰å…¨æ²™ç®±æ‰§è¡Œ</strong></td><td align="left"><strong>å·¥å…·æ‰§è¡Œéš”ç¦»</strong></td><td align="left">å¯¹Shellå‘½ä»¤ã€æ–‡ä»¶å†™å…¥ç­‰æ½œåœ¨å±é™©æ“ä½œè¿›è¡Œä¸Šä¸‹æ–‡æ£€æŸ¥å’Œç¡®è®¤ï¼ˆç”¨æˆ·æˆæƒæˆ–å®‰å…¨è§„åˆ™ï¼‰ã€‚</td></tr></tbody></table>
<h3 data-id="heading-5">3. æŠ€æœ¯éš¾ç‚¹æŒ–æ˜</h3>
<ol>
<li><strong>å¯é çš„é•¿å‘¨æœŸä»»åŠ¡æ‰§è¡Œ</strong>:
<ul>
<li><strong>éš¾ç‚¹</strong>: AIç”Ÿæˆçš„ä»£ç /å‘½ä»¤å¯èƒ½å¤±è´¥ï¼Œä»£ç†éœ€èƒ½ç†è§£é”™è¯¯ã€è¯Šæ–­åŸå› å¹¶å°è¯•ä¿®å¤ï¼Œå½¢æˆç¨³å¥çš„å¾ªç¯ã€‚</li>
<li><strong>å› å­</strong>: é”™è¯¯åé¦ˆè§£æã€å›æ»šç­–ç•¥ã€é‡è¯•é€»è¾‘ä¸æœ€ç»ˆäººå·¥å¹²é¢„çš„è¾¹ç•Œç•Œå®šã€‚</li>
</ul>
</li>
<li><strong>å·¥å…·é›†æˆçš„å®‰å…¨ä¸å¯æ§æ€§</strong>:
<ul>
<li><strong>éš¾ç‚¹</strong>: æˆäºˆAIä»£ç†æ–‡ä»¶ç³»ç»Ÿã€Shellç­‰é«˜çº§æƒé™å­˜åœ¨é£é™©ã€‚éœ€åœ¨è‡ªåŠ¨åŒ–èƒ½åŠ›å’Œå®‰å…¨æ€§é—´å–å¾—å¹³è¡¡ã€‚</li>
<li><strong>å› å­</strong>: ç»†ç²’åº¦çš„æƒé™æ§åˆ¶ï¼ˆper-recipeï¼‰ã€æ“ä½œå‰ç¡®è®¤ï¼ˆå°¤å…¶åœ¨GUIæ¨¡å¼ä¸‹ï¼‰ã€æ“ä½œæ²™ç®±åŒ–ã€‚</li>
</ul>
</li>
<li><strong>å¤šæ¨¡å‹ååŒçš„ç¨³å®šæ€§</strong>:
<ul>
<li><strong>éš¾ç‚¹</strong>: ä¸åŒLLMåœ¨è¾“å‡ºæ ¼å¼ã€æ¨ç†èƒ½åŠ›ä¸Šå­˜åœ¨å·®å¼‚ï¼Œå¯èƒ½å¯¼è‡´å·¥ä½œæµä¸­æ–­ã€‚</li>
<li><strong>å› å­</strong>: ç»Ÿä¸€çš„è¾“å‡ºè§„èŒƒåŒ–ï¼ˆParserï¼‰ã€æ¨¡å‹èƒ½åŠ›è¯„ä¼°ä¸è‡ªåŠ¨é™çº§ç­–ç•¥ã€‚</li>
</ul>
</li>
<li><strong>å¤æ‚çŠ¶æ€çš„ç»´æŠ¤ä¸æ¢å¤</strong>:
<ul>
<li><strong>éš¾ç‚¹</strong>: ä¸€ä¸ªRecipeçš„æ‰§è¡Œå¯èƒ½æ¶‰åŠå¤šä¸ªæ­¥éª¤å’Œä¸­é—´çŠ¶æ€ï¼Œç³»ç»Ÿå´©æºƒæˆ–ä¸­æ–­åéœ€èƒ½å‡†ç¡®æ¢å¤ã€‚</li>
<li><strong>å› å­</strong>: çŠ¶æ€å¿«ç…§è®¾è®¡ã€å‰¯ä½œç”¨æ“ä½œçš„å¹‚ç­‰æ€§å¤„ç†ã€ä¸Šä¸‹æ–‡åºåˆ—åŒ–ç­–ç•¥ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-6">4. è¯¦ç»†è®¾è®¡å›¾</h3>
<h4 data-id="heading-7">4.1 ç³»ç»Ÿæ¶æ„å›¾</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4dce56a2aba642eab13dd3a80145bcec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5Y6C5oqA5pyv5oC755uR5LiL5rW3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770180397&amp;x-signature=GOSEjv34sKFb42knH5fJiPhbvjM%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-8">4.2 æ ¸å¿ƒé“¾è·¯åºåˆ—å›¾ï¼ˆæ‰§è¡Œä¸€ä¸ªRecipeï¼‰</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant U as ç”¨æˆ·
    participant G as GooseEngine
    participant A as Agent
    participant M as æ¨¡å‹æœåŠ¡
    participant T as MCPå·¥å…·

    U-&gt;&gt;G: åŠ è½½å¹¶è¿è¡Œ recipe.yaml
    G-&gt;&gt;G: è§£æRecipeï¼Œåˆå§‹åŒ–ä¸Šä¸‹æ–‡
    loop For each Activity
        G-&gt;&gt;A: æ‰§è¡ŒActivity(ç›®æ ‡)
        A-&gt;&gt;M: è¯·æ±‚è§„åˆ’ä¸‹ä¸€æ­¥ï¼ˆâ€œæ€è€ƒâ€ï¼‰
        M--&gt;&gt;A: è¿”å›è®¡åˆ’ï¼ˆå¦‚â€œåˆ›å»ºindex.htmlâ€ï¼‰
        A-&gt;&gt;T: è°ƒç”¨å·¥å…·æ‰§è¡Œï¼ˆâ€œè¡ŒåŠ¨â€ï¼‰
        T--&gt;&gt;A: è¿”å›ç»“æœï¼ˆæˆåŠŸ/é”™è¯¯ï¼‰
        alt æ‰§è¡ŒæˆåŠŸ
            A-&gt;&gt;G: æŠ¥å‘Šæ­¥éª¤å®Œæˆ
        else æ‰§è¡Œå¤±è´¥
            A-&gt;&gt;M: è¯·æ±‚è¯Šæ–­ä¸ä¿®å¤å»ºè®®
            M--&gt;&gt;A: è¿”å›ä¿®å¤æ–¹æ¡ˆ
            A-&gt;&gt;T: æ‰§è¡Œä¿®å¤æ“ä½œ
        end
    end
    G-&gt;&gt;U: è¿”å›æœ€ç»ˆç»“æœï¼ˆé¡¹ç›®æ–‡ä»¶å¤¹ï¼‰
</code></pre>
<h4 data-id="heading-9">4.3 æ ¸å¿ƒç±»å›¾ï¼ˆç®€åŒ–ï¼‰</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/edf3fb57fc424326bb9c7ca2e268d366~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5Y6C5oqA5pyv5oC755uR5LiL5rW3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770180397&amp;x-signature=cycUnVueiRnbm1loNtbjmNMA27E%3D" alt="deepseek_mermaid_20260128_7034f7.png" loading="lazy"/></p>
<h3 data-id="heading-10">5. æ ¸å¿ƒå‡½æ•°ä¸ä»£ç è§£æ</h3>
<h4 data-id="heading-11">5.1 æ ¸å¿ƒæ‰§è¡Œå¾ªç¯ï¼ˆä¼ªä»£ç /é€»è¾‘ï¼‰</h4>
<p>ä»¥ä¸‹ä»£ç å±•ç¤ºäº† <code>GooseEngine</code> ä¸­é©±åŠ¨ä»»åŠ¡æ‰§è¡Œçš„æ ¸å¿ƒå¾ªç¯é€»è¾‘ã€‚</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// ä¼ªä»£ç ï¼ŒåŸºäºRusté£æ ¼ï¼Œå±•ç¤ºæ ¸å¿ƒæµç¨‹</span>
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">GooseEngine</span> {
    <span class="hljs-keyword">pub</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">run_recipe</span>(&amp;<span class="hljs-keyword">mut</span> <span class="hljs-keyword">self</span>, recipe_path: PathBuf) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;ExecutionReport&gt; {
        <span class="hljs-comment">// 1. è§£æRecipe</span>
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">recipe</span> = Recipe::<span class="hljs-title function_ invoke__">load_from_file</span>(&amp;recipe_path)?;
        <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">context</span> = ExecutionContext::<span class="hljs-title function_ invoke__">new</span>(recipe);

        <span class="hljs-comment">// 2. åˆå§‹åŒ–å·¥å…·ä¸æ¨¡å‹</span>
        <span class="hljs-keyword">self</span>.mcp_client.<span class="hljs-title function_ invoke__">connect_required_servers</span>(&amp;context).<span class="hljs-keyword">await</span>?;
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">agent</span> = Agent::<span class="hljs-title function_ invoke__">new</span>(context, <span class="hljs-keyword">self</span>.model_router.<span class="hljs-title function_ invoke__">clone</span>());

        <span class="hljs-comment">// 3. æŒ‰é¡ºåºæ‰§è¡ŒActivity</span>
        <span class="hljs-keyword">for</span> <span class="hljs-variable">activity</span> <span class="hljs-keyword">in</span> &amp;agent.context.recipe.activities {
            <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">result</span> = <span class="hljs-keyword">self</span>.<span class="hljs-title function_ invoke__">execute_activity</span>(agent, activity).<span class="hljs-keyword">await</span>;
            <span class="hljs-comment">// çŠ¶æ€æŒä¹…åŒ–ï¼Œæ”¯æŒæ¢å¤</span>
            <span class="hljs-keyword">self</span>.state_store.<span class="hljs-title function_ invoke__">save_checkpoint</span>(&amp;agent.context).<span class="hljs-keyword">await</span>?;
            
            <span class="hljs-keyword">if</span> result.<span class="hljs-title function_ invoke__">is_err</span>() {
                <span class="hljs-comment">// å¯é…ç½®çš„é”™è¯¯å¤„ç†ç­–ç•¥ï¼šä¸­æ­¢ã€é‡è¯•ã€è·³è½¬ç­‰</span>
                <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">Err</span>(anyhow::anyhow!(<span class="hljs-string">"Activity failed: {:?}"</span>, activity));
            }
        }

        <span class="hljs-comment">// 4. ç”ŸæˆæŠ¥å‘Š</span>
        <span class="hljs-title function_ invoke__">Ok</span>(ExecutionReport::<span class="hljs-title function_ invoke__">from_context</span>(agent.context))
    }

    <span class="hljs-keyword">async</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">execute_activity</span>(&amp;<span class="hljs-keyword">self</span>, <span class="hljs-keyword">mut</span> agent: Agent, activity: &amp;Activity) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;()&gt; {
        <span class="hljs-comment">// å®ç°Agentçš„â€œæ€è€ƒ-è¡ŒåŠ¨â€å¾ªç¯</span>
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">max_steps</span> = <span class="hljs-number">100</span>; <span class="hljs-comment">// é˜²æ­¢æ— é™å¾ªç¯</span>
        <span class="hljs-keyword">for</span> <span class="hljs-variable">step</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..max_steps {
            <span class="hljs-comment">// a. è§„åˆ’ï¼šè®©LLMå†³å®šä¸‹ä¸€æ­¥åšä»€ä¹ˆ</span>
            <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">action</span>: Action = agent.<span class="hljs-title function_ invoke__">plan_next_step</span>(activity).<span class="hljs-keyword">await</span>?;
            
            <span class="hljs-keyword">if</span> action.action_type == ActionType::Finish {
                <span class="hljs-keyword">break</span>; <span class="hljs-comment">// Agentè®¤ä¸ºå½“å‰Activityå·²å®Œæˆ</span>
            }

            <span class="hljs-comment">// b. æ‰§è¡Œï¼šè°ƒç”¨MCPå·¥å…·</span>
            <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">tool_result</span> = agent.<span class="hljs-title function_ invoke__">execute_action</span>(action).<span class="hljs-keyword">await</span>;

            <span class="hljs-comment">// c. è§‚å¯Ÿï¼šå°†ç»“æœåé¦ˆç»™Agentï¼Œä½œä¸ºä¸‹ä¸€è½®è§„åˆ’çš„è¾“å…¥</span>
            agent.<span class="hljs-title function_ invoke__">observe_result</span>(tool_result);
            
            <span class="hljs-comment">// å†æ¬¡æŒä¹…åŒ–æ­¥éª¤çº§çŠ¶æ€</span>
            <span class="hljs-keyword">self</span>.state_store.<span class="hljs-title function_ invoke__">save_step</span>(&amp;agent.context, step).<span class="hljs-keyword">await</span>?;
        }
        <span class="hljs-title function_ invoke__">Ok</span>(())
    }
}
</code></pre>
<p><strong>ä»£ç æ³¨é‡Šè¯´æ˜</strong>:</p>
<ul>
<li><strong><code>run_recipe</code></strong>: æ˜¯æ€»å…¥å£ï¼Œç®¡ç†æ•´ä¸ªRecipeçš„ç”Ÿå‘½å‘¨æœŸã€‚å®ƒè´Ÿè´£åˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡ã€è¿æ¥å¿…è¦èµ„æºï¼ˆMCP serversï¼‰ï¼Œå¹¶é¡ºåºé©±åŠ¨æ¯ä¸ª<code>Activity</code>çš„æ‰§è¡Œã€‚</li>
<li><strong><code>execute_activity</code></strong>: å°è£…äº†å•ä¸ª<code>Activity</code>å†…éƒ¨çš„<strong>è‡ªä¸»å¾ªç¯</strong>ã€‚è¿™æ˜¯gooseâ€œæ™ºèƒ½â€çš„æ ¸å¿ƒä½“ç°ã€‚
<ul>
<li><code>agent.plan_next_step()</code>: è¯¥æ–¹æ³•ä¼šæ„å»ºä¸€ä¸ªåŒ…å«å½“å‰ç›®æ ‡ã€å·²æ‰§è¡Œå†å²ã€å¯ç”¨å·¥å…·åˆ—è¡¨çš„æç¤ºè¯ï¼ˆPromptï¼‰ï¼Œå‘é€ç»™LLMï¼Œè¯·æ±‚å…¶è¿”å›ä¸‹ä¸€ä¸ªå…·ä½“çš„<code>Action</code>ï¼ˆå¦‚ <code>{"call_tool": "filesystem", "args": {"write": "path/to/file", "content": "&lt;html&gt;..."}}</code>ï¼‰ã€‚</li>
<li><code>agent.execute_action()</code>: è¯¥æ–¹æ³•è§£æ<code>Action</code>ï¼Œé€šè¿‡<code>McpClient</code>è°ƒç”¨å¯¹åº”çš„å·¥å…·ï¼Œå¹¶ç­‰å¾…ç»“æœã€‚</li>
<li><code>agent.observe_result()</code>: å°†å·¥å…·æ‰§è¡Œçš„ç»“æœï¼ˆæˆåŠŸæˆ–é”™è¯¯ä¿¡æ¯ï¼‰åŠ å…¥åˆ°Agentçš„ä¸Šä¸‹æ–‡ä¸­ï¼Œä»¥ä¾¿åœ¨ä¸‹ä¸€è½®â€œæ€è€ƒâ€æ—¶ï¼ŒLLMèƒ½åŸºäºæœ€æ–°æƒ…å†µåšå‡ºå†³ç­–ã€‚</li>
</ul>
</li>
<li><strong>çŠ¶æ€æŒä¹…åŒ–</strong>: åœ¨Recipeå’Œæ­¥éª¤çº§åˆ«ä¿å­˜çŠ¶æ€ï¼Œæ˜¯å®ç°â€œå¯æ¢å¤æ€§â€çš„å…³é”®ã€‚å³ä½¿GUIå…³é—­ï¼Œé‡æ–°æ‰“å¼€åä¹Ÿèƒ½ä»æœ€è¿‘ checkpoint ç»§ç»­ã€‚</li>
</ul>
<h4 data-id="heading-12">5.2 æ¨¡å‹è·¯ç”±ç­–ç•¥ç¤ºä¾‹ï¼ˆé…ç½®ç¤ºæ„ï¼‰</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># ç”¨æˆ·é…ç½®æ–‡ä»¶ ~/.goose/config.yaml</span>
<span class="hljs-attr">model_providers:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">"claude-3-haiku"</span>
    <span class="hljs-attr">provider:</span> <span class="hljs-string">"anthropic"</span>
    <span class="hljs-attr">model:</span> <span class="hljs-string">"claude-3-haiku-20240307"</span>
    <span class="hljs-attr">api_key_env:</span> <span class="hljs-string">"ANTHROPIC_API_KEY"</span>
    <span class="hljs-attr">cost_per_1k_tokens:</span> <span class="hljs-number">0.00025</span> <span class="hljs-comment"># ç”¨äºè·¯ç”±å†³ç­–</span>
  
  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">"gpt-4o-mini"</span>
    <span class="hljs-attr">provider:</span> <span class="hljs-string">"openai"</span>
    <span class="hljs-attr">model:</span> <span class="hljs-string">"gpt-4o-mini"</span>
    <span class="hljs-attr">api_key_env:</span> <span class="hljs-string">"OPENAI_API_KEY"</span>
    <span class="hljs-attr">cost_per_1k_tokens:</span> <span class="hljs-number">0.00015</span>

  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">"local-llama"</span>
    <span class="hljs-attr">provider:</span> <span class="hljs-string">"ollama"</span>
    <span class="hljs-attr">model:</span> <span class="hljs-string">"llama3.2:latest"</span>
    <span class="hljs-attr">base_url:</span> <span class="hljs-string">"http://localhost:11434"</span>
    <span class="hljs-attr">cost_per_1k_tokens:</span> <span class="hljs-number">0.0</span>

<span class="hljs-comment"># è·¯ç”±ç­–ç•¥</span>
<span class="hljs-attr">routing_strategy:</span> 
  <span class="hljs-attr">default:</span> <span class="hljs-string">"gpt-4o-mini"</span>
  <span class="hljs-attr">high_complexity:</span> <span class="hljs-string">"claude-3-haiku"</span> <span class="hljs-comment"># Recipeå¯æ ‡è®°å¤æ‚åº¦</span>
  <span class="hljs-attr">cost_sensitive:</span> <span class="hljs-string">"local-llama"</span> <span class="hljs-comment"># æˆ–æ ¹æ®ä»»åŠ¡ç±»å‹è‡ªåŠ¨é€‰æ‹©</span>
</code></pre>
<h4 data-id="heading-13">æ€»ç»“</h4>
<p>goose é¡¹ç›®ä»£è¡¨äº†ä¸€ç§<strong>å·¥ç¨‹åŒ–AIä»£ç†</strong>çš„æ–°èŒƒå¼ï¼šå®ƒä¸æ˜¯å°†AIä½œä¸ºä¸€æ¬¡æ€§çš„ä»£ç ç”Ÿæˆå™¨ï¼Œè€Œæ˜¯ä½œä¸ºå¯ä»¥<strong>é•¿æœŸè¿è¡Œã€ä¸ç¯å¢ƒäº¤äº’ã€å¹¶ä»é”™è¯¯ä¸­å­¦ä¹ </strong>çš„è‡ªåŠ¨åŒ–æ‰§è¡Œä½“ã€‚å…¶æŠ€æœ¯æ ¸å¿ƒåœ¨äº<strong>MCPåè®®æä¾›çš„å¯æ‰©å±•å·¥å…·é›†æˆ</strong>ã€<strong>ç¨³å¥çš„AgentçŠ¶æ€å¾ªç¯</strong>ä»¥åŠ<strong>æœ¬åœ°ä¼˜å…ˆçš„æ··åˆæ¶æ„</strong>ã€‚è™½ç„¶å…¶åœ¨å¤æ‚ä»»åŠ¡çš„æˆåŠŸç‡ã€å®‰å…¨æ€§è¾¹ç•Œæ–¹é¢ä»é¢ä¸´æŒ‘æˆ˜ï¼Œä½†å…¶å¼€æºæ¨¡å¼å’Œæ¸…æ™°çš„æ¶æ„ä¸ºè§£å†³è¿™äº›é—®é¢˜æä¾›äº†è‰¯å¥½çš„åŸºç¡€ï¼Œä½¿å…¶æˆä¸ºAIèµ‹èƒ½è½¯ä»¶å¼€å‘æµç¨‹é¢†åŸŸä¸€ä¸ªå€¼å¾—å…³æ³¨çš„æŠ€æœ¯å®è·µã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[OpenCodeä½¿ç”¨æŒ‡å—ï¼šæœ€è¿‘çˆ†ç«çš„å¼€æºAIç¼–ç¨‹å·¥å…·ï¼Œåˆ°åº•å¥½åœ¨å“ªï¼Ÿ]]></title>    <link>https://juejin.cn/post/7599970244786946111</link>    <guid>https://juejin.cn/post/7599970244786946111</guid>    <pubDate>2026-01-28T04:54:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599970244786946111" data-draft-id="7600068631328391209" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="OpenCodeä½¿ç”¨æŒ‡å—ï¼šæœ€è¿‘çˆ†ç«çš„å¼€æºAIç¼–ç¨‹å·¥å…·ï¼Œåˆ°åº•å¥½åœ¨å“ªï¼Ÿ"/> <meta itemprop="keywords" content="AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-28T04:54:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å­æ˜•AIç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/3273679891602858"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            OpenCodeä½¿ç”¨æŒ‡å—ï¼šæœ€è¿‘çˆ†ç«çš„å¼€æºAIç¼–ç¨‹å·¥å…·ï¼Œåˆ°åº•å¥½åœ¨å“ªï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3273679891602858/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å­æ˜•AIç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T04:54:13.000Z" title="Wed Jan 28 2026 04:54:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å­æ˜•ï¼Œä¸€ä¸ªå¹²äº†10å¹´çš„åç«¯å¼€å‘ï¼Œç°åœ¨åœ¨AIç¼–ç¨‹è¿™æ¡è·¯ä¸Šè¾¹å†²è¾¹æ‘¸ç´¢ï¼Œæ¯å¤©éƒ½è¢«æ–°æŠ€æœ¯è¿½ç€è·‘ã€‚</p>
</blockquote>
<p>æœ€è¿‘OpenCodeè¿™ä¸ªå¼€æºAIç¼–ç¨‹å·¥å…·çªç„¶ç«äº†ã€‚GitHubä¸Š70,000+ Starï¼Œæ¯æœˆ65ä¸‡æ´»è·ƒå¼€å‘è€…ï¼Œå¢é•¿é€Ÿåº¦éå¸¸å¿«ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/14066365229644e78911e1b277d3bddd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q5piVQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770180855&amp;x-signature=VZhD2j1lNWmKxcbmD3Us5Cup%2FW4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç›®å‰å¤§å®¶ç”¨å¾—æ¯”è¾ƒå¤šçš„æ˜¯ Claude Code å’Œ Codex CLIã€‚è¿™ä¸¤ä¸ªå·¥å…·æˆ‘éƒ½æ·±åº¦ç”¨è¿‡ä¸€æ®µæ—¶é—´ï¼ŒClaude Codeçš„æ¨¡å‹è´¨é‡æ²¡å¾—è¯´ï¼ŒCodex CLI æ˜¯æˆ‘ç›®å‰çš„ä¸»è¦å·¥å…·ã€‚</p>
<p>ä½†ä¸ºä»€ä¹ˆOpenCodeèƒ½åœ¨è¿™ä¹ˆçŸ­æ—¶é—´å†…å¸å¼•è¿™ä¹ˆå¤šå¼€å‘è€…ï¼Ÿ</p>
<p>æˆ‘èŠ±äº†å‡ å¤©æ—¶é—´æ·±åº¦ä½“éªŒäº†OpenCodeï¼Œä»å®‰è£…é…ç½®åˆ°å®é™…ä½¿ç”¨ï¼Œè¿™ç¯‡æ–‡ç« è·Ÿå¤§å®¶åˆ†äº«ä¸€ä¸‹ä½¿ç”¨æ„Ÿå—ã€‚</p>
<h2 data-id="heading-0">Claude Codeå’ŒCodex CLIç®€å•è¯´ä¸¤å¥</h2>
<p>åœ¨èŠOpenCodeä¹‹å‰ï¼Œå…ˆå¿«é€Ÿè¯´ä¸€ä¸‹å¦å¤–ä¸¤ä¸ªå·¥å…·ã€‚</p>
<p><strong>Claude Code</strong>æ˜¯Anthropicå®˜æ–¹çš„AIç¼–ç¨‹åŠ©æ‰‹ï¼Œé—­æºä¸“æœ‰ï¼Œä¼˜ç‚¹æ˜¯å¼€ç®±å³ç”¨ï¼ŒClaudeæ¨¡å‹è´¨é‡é«˜ï¼Œæ–‡æ¡£å®Œå–„ã€‚ä½†åªé’ˆå¯¹Claudeç³»åˆ—æ¨¡å‹ä¼˜åŒ–ï¼Œè€Œä¸”åªæœ‰ç»ˆç«¯ç•Œé¢ï¼Œå¯¹äºä¹ æƒ¯ç”¨IDEçš„å¼€å‘è€…æ¥è¯´ï¼Œå·¥ä½œæµç¨‹éœ€è¦è°ƒæ•´ã€‚</p>
<p><strong>Codex CLI</strong>æ˜¯OpenAIæ¨å‡ºçš„ç¼–ç¨‹æ™ºèƒ½ä½“ï¼Œä¸»è¦æ­é…GPT-5-codexæ¨¡å‹ã€‚åŠŸèƒ½ä¸°å¯Œï¼Œå¯é…ç½®æ€§å¼ºï¼Œæ”¯æŒç½‘ç»œæœç´¢ã€æ–‡ä»¶å¼•ç”¨ã€å›¾åƒè¾“å…¥ç­‰ã€‚ä¸»è¦ç»‘å®šOpenAIç”Ÿæ€ï¼Œè™½ç„¶å¼€æºï¼Œä½†ç”±å®˜æ–¹ä¸»å¯¼å¼€å‘ã€‚</p>
<p>è¿™ä¸¤ä¸ªå·¥å…·éƒ½å¾ˆä¼˜ç§€ã€‚****</p>
<p>é¡ºä¾¿è¯´ä¸€å¥ï¼Œè¿™ä¸ªæœˆåˆï¼ŒAnthropicçªç„¶é™åˆ¶äº†ç¬¬ä¸‰æ–¹å·¥å…·è°ƒç”¨Claude APIçš„èƒ½åŠ›ï¼Œå¾ˆå¤šä½¿ç”¨OpenCodeå’ŒCursorçš„å¼€å‘è€…çªç„¶å‘ç°æ— æ³•ç»§ç»­ä½¿ç”¨Claudeæ¨¡å‹ï¼Œè€Œä¸”æ²¡æœ‰ä»»ä½•è­¦å‘Šã€‚è¿™ä»¶äº‹åœ¨å¼€å‘è€…ç¤¾åŒºå¼•å‘äº†å¾ˆå¤§äº‰è®®ï¼Œä¹Ÿè®©å¤§å®¶å¼€å§‹é‡æ–°æ€è€ƒå·¥å…·é€‰æ‹©çš„é—®é¢˜ã€‚</p>
<h2 data-id="heading-1">OpenCodeæ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>OpenCodeæ˜¯ä¸€ä¸ª100%å¼€æºçš„AIç¼–ç¨‹ä»£ç†å·¥å…·ï¼Œå¯ä»¥åœ¨ç»ˆç«¯ã€IDEã€ç”šè‡³æ¡Œé¢åº”ç”¨ä¸­ä½¿ç”¨ã€‚</p>
<p>ä»GitHubä»“åº“ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanomalyco%2Fopencode%25EF%25BC%2589%25E7%259A%2584%25E6%2595%25B0%25E6%258D%25AE%25E7%259C%258B%25EF%25BC%259A" target="_blank" title="https://github.com/anomalyco/opencode%EF%BC%89%E7%9A%84%E6%95%B0%E6%8D%AE%E7%9C%8B%EF%BC%9A" ref="nofollow noopener noreferrer">github.com/anomalyco/oâ€¦</a></p>
<ul>
<li>70,000+ GitHub Stars</li>
<li>500+ è´¡çŒ®è€…</li>
<li>7,000+ commits</li>
<li>65ä¸‡æœˆæ´»è·ƒå¼€å‘è€…</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4ff848fec77e4aadae1b259bafc7e137~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q5piVQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770180855&amp;x-signature=%2B521MI7wVBea1iwTjEO22tEs0CQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™äº›æ•°å­—è¯´æ˜OpenCodeä¸æ˜¯ä¸€ä¸ªå°ä¼—é¡¹ç›®ï¼Œè€Œæ˜¯ä¸€ä¸ªæ´»è·ƒçš„ã€æœ‰ç”Ÿå‘½åŠ›çš„å¼€æºç¤¾åŒºã€‚</p>
<p><strong>æ ¸å¿ƒç‰¹æ€§ï¼š</strong></p>
<p><strong>1. å¤šæ¨¡å‹æ”¯æŒ</strong></p>
<p>è¿™æ˜¯OpenCodeæœ€å¤§çš„äº®ç‚¹ã€‚å®ƒæ”¯æŒ<strong>75+ç§LLMæä¾›å•†</strong>ï¼ŒåŒ…æ‹¬Claudeã€GPTã€Geminiï¼Œå›½å†…æ‰€æœ‰å‚å•†ï¼Œç”šè‡³æœ¬åœ°æ¨¡å‹ã€‚ä½ å¯ä»¥æ ¹æ®ä»»åŠ¡ç‰¹ç‚¹ã€æˆæœ¬é¢„ç®—ã€æ¨¡å‹èƒ½åŠ›æ¥è‡ªç”±é€‰æ‹©ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2fa0fede6ae14c8baf12c1d0ff52b6fc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q5piVQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770180855&amp;x-signature=qJHm23m1jY0cgTrUWY97Aaxhovw%3D" alt="å›¾ç‰‡" loading="lazy"/>ï¼ˆæ³¨æ„ï¼Œå›¾ç‰‡ä¸­åªå±•ç¤ºäº†éƒ¨åˆ†ï¼‰</p>
<p>è€Œä¸”OpenCodeè¿˜æä¾›äº†ä¸€äº›å…è´¹æ¨¡å‹ï¼Œæ¯”å¦‚GLM-4.7ã€Grok Code Fast 1ã€MiniMax M2.1ç­‰ã€‚å¦‚æœä½ æœ‰Claude Proæˆ–ChatGPT Plusè®¢é˜…ï¼Œä¹Ÿå¯ä»¥ç›´æ¥å¤ç”¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/339e702aea4f452d8db7662fefa5d704~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q5piVQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770180855&amp;x-signature=TikvDMCuiHMqNg8fGPEoZxyM4Rs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>2. LSPæ”¯æŒ</strong></p>
<p>LSPï¼ˆLanguage Server Protocolï¼‰æ˜¯ç°ä»£IDEçš„æ ¸å¿ƒåŠŸèƒ½ä¹‹ä¸€ï¼Œæä¾›ä»£ç è¡¥å…¨ã€è·³è½¬å®šä¹‰ã€é”™è¯¯æ£€æŸ¥ç­‰èƒ½åŠ›ã€‚OpenCodeå¼€ç®±å³ç”¨å°±é›†æˆäº†LSPæ”¯æŒï¼ŒAIèƒ½å¤Ÿæ›´å‡†ç¡®åœ°ç†è§£ä½ çš„ä»£ç ä¸Šä¸‹æ–‡ã€‚</p>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼ŒClaude Codeå’ŒCodex CLIéœ€è¦é¢å¤–é…ç½®æ‰èƒ½ç”¨ä¸ŠLSPã€‚</p>
<p><strong>3. å¤šå¹³å°æ”¯æŒ</strong></p>
<p>OpenCodeä¸åªæ˜¯ä¸€ä¸ªç»ˆç«¯å·¥å…·ï¼Œå®ƒè¿˜æä¾›ï¼š</p>
<ul>
<li>ç»ˆç«¯CLI</li>
<li>æ¡Œé¢åº”ç”¨ï¼ˆmacOS/Windows/Linuxï¼‰</li>
<li>IDEæ‰©å±•</li>
</ul>
<p>è¿™æ„å‘³ç€ä½ å¯ä»¥åœ¨è‡ªå·±ä¹ æƒ¯çš„å·¥ä½œç¯å¢ƒä¸­ä½¿ç”¨OpenCodeï¼Œä¸éœ€è¦ä¸ºäº†å·¥å…·è€Œæ”¹å˜å·¥ä½œæµç¨‹ã€‚</p>
<p><strong>4. å¤šä¼šè¯å¹¶è¡Œ</strong></p>
<p>è¿™æ˜¯ä¸€ä¸ªå¾ˆå®ç”¨çš„åŠŸèƒ½ã€‚ä½ å¯ä»¥åœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸­å¯åŠ¨å¤šä¸ªOpenCodeä¼šè¯ï¼Œåˆ†åˆ«å¤„ç†ä¸åŒçš„ä»»åŠ¡ã€‚æ¯”å¦‚ä¸€ä¸ªä¼šè¯è´Ÿè´£å¼€å‘æ–°åŠŸèƒ½ï¼Œå¦ä¸€ä¸ªä¼šè¯è´Ÿè´£é‡æ„ä»£ç ï¼Œäº’ä¸å¹²æ‰°ã€‚</p>
<p><strong>5. å†…ç½®ä¸¤ç§Agent</strong></p>
<p>OpenCodeæä¾›äº†ä¸¤ç§å†…ç½®Agentï¼Œå¯ä»¥ç”¨Tabé”®åˆ‡æ¢ï¼š</p>
<ul>
<li><strong>build</strong>ï¼šé»˜è®¤çš„å…¨æƒé™Agentï¼Œé€‚åˆæ—¥å¸¸å¼€å‘å·¥ä½œ</li>
<li><strong>plan</strong>ï¼šåªè¯»Agentï¼Œé»˜è®¤æ‹’ç»æ–‡ä»¶ç¼–è¾‘ï¼Œè¿è¡Œbashå‘½ä»¤å‰ä¼šè¯·æ±‚æƒé™ï¼Œé€‚åˆæ¢ç´¢é™Œç”Ÿä»£ç åº“æˆ–è§„åˆ’å˜æ›´</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c4d9191de8f74a55bab6989a42322a92~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q5piVQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770180855&amp;x-signature=%2FdtVheMlwxePMmL09uIKuQpoDJM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>6. åˆ†äº«é“¾æ¥</strong></p>
<p>ä½ å¯ä»¥åˆ†äº«ä»»ä½•ä¼šè¯çš„é“¾æ¥ç»™åŒäº‹æˆ–æœ‹å‹ï¼Œæ–¹ä¾¿åä½œå’Œé—®é¢˜è°ƒè¯•ã€‚è¿™ä¸ªåŠŸèƒ½åœ¨å›¢é˜Ÿåä½œä¸­å¾ˆæœ‰ç”¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/51a6441188d84492b2323e663b1e353d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q5piVQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770180855&amp;x-signature=1aHHrj34g9hJoDmED3gy3bdoGbg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>7. å®¢æˆ·ç«¯/æœåŠ¡å™¨æ¶æ„</strong></p>
<p>OpenCodeé‡‡ç”¨äº†å®¢æˆ·ç«¯/æœåŠ¡å™¨æ¶æ„ï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥åœ¨æœ¬åœ°ç”µè„‘ä¸Šè¿è¡ŒæœåŠ¡å™¨ï¼Œç„¶åä»å…¶ä»–è®¾å¤‡ï¼ˆæ¯”å¦‚å¹³æ¿ã€æ‰‹æœºï¼‰è¿œç¨‹è®¿é—®ã€‚TUIç»ˆç«¯ç•Œé¢åªæ˜¯ä¸€ç§å®¢æˆ·ç«¯å½¢å¼ï¼Œæœªæ¥è¿˜å¯èƒ½æœ‰æ›´å¤šå®¢æˆ·ç«¯å½¢æ€ã€‚</p>
<h2 data-id="heading-2">ä¸ºä»€ä¹ˆOpenCodeèƒ½ç«èµ·æ¥ï¼Ÿ</h2>
<p>é™¤äº†ä¸Šé¢æåˆ°çš„åŠŸèƒ½ç‰¹æ€§ï¼ŒOpenCodeèƒ½å¤Ÿå¿«é€Ÿè·å¾—å¼€å‘è€…è®¤å¯ï¼Œè¿˜æœ‰å‡ ä¸ªæ·±å±‚åŸå› ã€‚</p>
<p><strong>1. ç¤¾åŒºé©±åŠ¨çš„å¼€æº</strong></p>
<p>100%å¼€æºæ„å‘³ç€ä»£ç å®Œå…¨é€æ˜ï¼Œè™½ç„¶Codexä¹Ÿæ˜¯å¼€æºçš„ï¼Œä½†OpenCodeæ˜¯å®Œå…¨ç”±ç¤¾åŒºé©±åŠ¨ï¼Œå¼€å‘æ–¹å‘ç”±ç¤¾åŒºå†³å®šï¼Œè€Œä¸æ˜¯æŸä¸ªå¤§å…¬å¸çš„æˆ˜ç•¥è€ƒé‡ï¼Œæœ‰æŒç»­çš„ç”Ÿå‘½åŠ›ã€‚</p>
<p><strong>2. ä¸ç»‘å®šå‚å•†</strong></p>
<p>æ”¯æŒ75+ç§æ¨¡å‹æä¾›å•†ï¼Œè¿™æ„å‘³ç€ä½ æ°¸è¿œæœ‰é€‰æ‹©æƒã€‚å¦‚æœæŸä¸ªæ¨¡å‹ä¸å¥½ç”¨äº†ï¼Œæˆ–è€…ä»·æ ¼æ¶¨äº†ï¼Œæˆ–è€…APIè¢«é™åˆ¶äº†ï¼Œä½ å¯ä»¥éšæ—¶åˆ‡æ¢åˆ°å…¶ä»–æ¨¡å‹ï¼Œä¸ä¼šè¢«å•ä¸€å‚å•†ç»‘å®šã€‚</p>
<p>Ruby on Railsçš„åˆ›å§‹äººDHHåœ¨è¯„è®ºAnthropicå°ç¦äº‹ä»¶æ—¶è¯´ï¼šâ€œæ²¡æœ‰å“ªä¸ªå¼€å‘è€…ä¼šæƒ³å®‰è£…äº”ä¸ªä¸åŒçš„CLIã€‚ä»–ä»¬è‚¯å®šå¸Œæœ›å­¦ä¹ å¹¶ä½¿ç”¨ä¸€ä¸ªèƒ½å¤Ÿæ§åˆ¶æ‰€æœ‰æ¨¡å‹çš„å·¥å…·ã€‚å¯¹æˆ‘æ¥è¯´ï¼Œè¿™ä¸ªå·¥å…·å°±æ˜¯OpenCodeã€‚â€</p>
<p><strong>3. å·¥ä½œæµå‹å¥½</strong></p>
<p>ä¸å¼ºåˆ¶ä½¿ç”¨ç»ˆç«¯ï¼Œæ”¯æŒIDEé›†æˆå’Œæ¡Œé¢åº”ç”¨ï¼Œè¿™è®©OpenCodeèƒ½å¤Ÿæ— ç¼èå…¥ç°æœ‰çš„å¼€å‘å·¥ä½œæµç¨‹ã€‚</p>
<p><strong>4. ç¤¾åŒºé©±åŠ¨</strong></p>
<p>ä½œä¸ºå¼€æºé¡¹ç›®ï¼ŒOpenCodeçš„å‘å±•æ–¹å‘ç”±ç¤¾åŒºå†³å®šã€‚å¦‚æœä½ æœ‰å¥½çš„æƒ³æ³•ï¼Œå¯ä»¥æIssueæˆ–è€…ç›´æ¥è´¡çŒ®ä»£ç ã€‚è¿™ç§å‚ä¸æ„Ÿæ˜¯é—­æºå·¥å…·æ— æ³•æä¾›çš„ã€‚</p>
<h2 data-id="heading-3">å®‰è£…å’Œé…ç½®</h2>
<p>OpenCodeçš„å®‰è£…éå¸¸ç®€å•ï¼Œæ”¯æŒå¤šç§æ–¹å¼ã€‚</p>
<p><strong>å¿«é€Ÿå®‰è£…ï¼ˆæ¨èï¼‰ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># macOSå’ŒLinuxï¼ˆæ¨èï¼Œæ€»æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼‰</span>
brew install anomalyco/tap/opencode

<span class="hljs-comment"># æˆ–è€…ä½¿ç”¨å®˜æ–¹brew formulaï¼ˆæ›´æ–°è¾ƒæ…¢ï¼‰</span>
brew install opencode

<span class="hljs-comment"># ä¸€é”®å®‰è£…è„šæœ¬ï¼ˆYOLOï¼‰</span>
curl -fsSL https://opencode.ai/install | bash

<span class="hljs-comment"># npm/pnpm/yarn/bun</span>
npm i -g opencode-ai@latest

<span class="hljs-comment"># Windowsç”¨æˆ·</span>
scoop bucket add extras
scoop install extras/opencode

<span class="hljs-comment"># æˆ–è€…ç”¨Chocolatey</span>
choco install opencode
</code></pre>
<p><strong>æ¡Œé¢åº”ç”¨ï¼š</strong></p>
<p>å¦‚æœä½ æ›´å–œæ¬¢å›¾å½¢ç•Œé¢ï¼ŒOpenCodeä¹Ÿæä¾›äº†æ¡Œé¢åº”ç”¨ã€‚å¯ä»¥ä»GitHubçš„releasesé¡µé¢ä¸‹è½½ï¼Œæˆ–è€…è®¿é—®opencode.ai/downloadã€‚</p>
<p>å¦‚æœä½ ç”¨Homebrewï¼Œä¹Ÿå¯ä»¥ç›´æ¥å®‰è£…ï¼š</p>
<pre><code class="hljs language-css" lang="css">brew install <span class="hljs-attr">--cask</span> opencode-desktop
</code></pre>
<p>OpenCodeçš„æ¡Œé¢ç«¯ç•Œé¢å¦‚ä¸‹ï¼Œéå¸¸ç®€æ´ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/20755e22a97146748e94f9c88dd94a40~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q5piVQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770180855&amp;x-signature=ScL562lHGLYQbmbie6E5%2BYnV5ts%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æˆ‘å»ºè®®ä½ å…ˆå®‰è£…æ¡Œé¢ç«¯ï¼Œå› ä¸ºä½ å¯ä»¥ä»æ¡Œé¢ç«¯ç›´æ¥ä¸€é”®å®‰è£…å‘½ä»¤è¡ŒCLIï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0c5aafa7ae934e868b087268cfae34d5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q5piVQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770180855&amp;x-signature=zMwrHuASs5nxqHqADqRz5cpnBSs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å½“ç„¶ï¼Œå¦‚æœä½ ä¸æƒ³ä½¿ç”¨æ¡Œé¢ç«¯ï¼Œå°±æŒ‰ç…§ä¸Šé¢çš„æ–¹å¼ï¼Œåªå®‰è£…CLIå³å¯ã€‚</p>
<p>å¦‚æœä½ å·²ç»æœ‰Claudeæˆ–ChatGPTçš„ä»˜è´¹è®¢é˜…ï¼Œå¯ä»¥ç›´æ¥å¤ç”¨ï¼Œä¸éœ€è¦é¢å¤–ä»˜è´¹ã€‚</p>
<h2 data-id="heading-4">ä½¿ç”¨æŒ‡å—</h2>
<p><strong>å¯åŠ¨OpenCodeï¼š</strong></p>
<p>åœ¨ç»ˆç«¯è¾“å…¥<code>opencode</code>å³å¯å¯åŠ¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d9d2653df08e4bf8a5751a3f4a6cdd70~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q5piVQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770180855&amp;x-signature=LHYEfDUZoZrfusHVoPgyuNyvHMI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>åŸºæœ¬äº¤äº’ï¼š</strong></p>
<p>OpenCodeçš„äº¤äº’æ–¹å¼å¾ˆç›´è§‚ï¼Œå’ŒClaude Code/Codex CLIç­‰å‘½ä»¤è¡Œæ–¹å¼æ˜¯ä¸€æ ·çš„ï¼Œç›´æ¥ç”¨è‡ªç„¶è¯­è¨€æè¿°éœ€æ±‚ï¼ŒOpenCodeä¼šç†è§£å¹¶æ‰§è¡Œã€‚</p>
<p><strong>æ–œæ å‘½ä»¤ï¼š</strong></p>
<p>OpenCodeæ”¯æŒä¸€äº›å¿«æ·å‘½ä»¤ï¼Œå¯ä»¥æé«˜æ•ˆç‡ã€‚è¾“å…¥<code>/</code>å°±èƒ½çœ‹åˆ°æ‰€æœ‰å¯ç”¨å‘½ä»¤ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cfc6949f5c194fe987144dc3c68f8ceb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q5piVQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770180855&amp;x-signature=1aqGF6yx%2BpgpP4zWHWdK0JS8uaI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¸¸ç”¨å‘½ä»¤ï¼š</p>
<ul>
<li><code>/init</code>ï¼šåˆå§‹åŒ–é¡¹ç›®æŒ‡å¯¼æ–‡ä»¶ï¼ˆAGENTS.mdï¼‰ï¼Œä¸ºAIæä¾›é¡¹ç›®ä¸Šä¸‹æ–‡</li>
<li><code>/review</code>ï¼šä»£ç å®¡æŸ¥</li>
<li><code>/new</code>ï¼šæ–°å»ºä¼šè¯</li>
<li><code>/agents</code>ï¼šåˆ‡æ¢Agentï¼ˆbuildæˆ–planï¼‰</li>
<li><code>/model</code>ï¼šåˆ‡æ¢æ¨¡å‹</li>
</ul>
<p><strong>æ–‡ä»¶å¼•ç”¨ï¼š</strong></p>
<p>ç”¨<code>@</code>ç¬¦å·å¯ä»¥å¿«é€Ÿå¼•ç”¨é¡¹ç›®ä¸­çš„æ–‡ä»¶ï¼Œæ¯”å¦‚<code>@src/utils.js</code>ã€‚è¿™æ ·AIå°±èƒ½å‡†ç¡®ç†è§£ä½ åœ¨è®¨è®ºå“ªä¸ªæ–‡ä»¶ã€‚</p>
<p><strong>åˆ‡æ¢Agentï¼š</strong></p>
<p>æŒ‰ command+. ï¼ˆmacï¼‰é”®å¯ä»¥åœ¨buildå’Œplanä¸¤ä¸ªAgentä¹‹é—´åˆ‡æ¢ã€‚</p>
<ul>
<li><strong>build</strong>ï¼šå®Œå…¨æƒé™ï¼Œé€‚åˆæ—¥å¸¸å¼€å‘</li>
<li><strong>plan</strong>ï¼šåªè¯»æ¨¡å¼ï¼Œé€‚åˆæ¢ç´¢ä»£ç åº“æˆ–è§„åˆ’å˜æ›´</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e51897b6db5943c9b84950ee963f39ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q5piVQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770180855&amp;x-signature=WEmYMTg1wbdBp%2FhJAurHtvRQyGs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>ä¼šè¯ç®¡ç†ï¼š</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6bcb6af8366c4255a4b77ae9ad142255~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q5piVQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770180855&amp;x-signature=Fn11dP9Oatu%2BIK7W4ESN6XzXD34%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>OpenCodeæ”¯æŒå¤šä¼šè¯å¹¶è¡Œï¼Œåœ¨ä¾§è¾¹æ å¯ä»¥çœ‹åˆ°æ‰€æœ‰ä¼šè¯ã€‚ä½ å¯ä»¥ä¸ºæ¯ä¸ªä¼šè¯å‘½åï¼Œæ–¹ä¾¿ç®¡ç†ã€‚</p>
<p>ç”¨èµ·æ¥å’ŒClaude Codeã€Codex CLIç­‰å·¥å…·åŸºæœ¬æ²¡ä»»ä½•åŒºåˆ«ï¼Œæˆ‘è¿™é‡Œå°±ä¸åšæ¡ˆä¾‹æ¼”ç¤ºäº†ï¼Œç®€å•ç»™ä½ ä»¬çœ‹ä¸‹æ¡Œé¢ç«¯ç•Œé¢æ˜¯ä¸ªä»€ä¹ˆæ ·å­ï¼Œæ¯•ç«Ÿä¹Ÿä¸æ˜¯æ¨¡å‹æµ‹è¯„ï¼Œå¤§å®¶è‡ªè¡Œä½“éªŒå³å¯ï¼Œæ²¡æœ‰ä»»ä½•åˆ‡æ¢é—¨æ§›ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/93d7847c0c0d46379d6b5d5436b999d3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q5piVQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770180855&amp;x-signature=pCY%2FckRRtOp9MUo42kFN%2BLXSz1o%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-5">oh-my-opencodeï¼šè®©OpenCodeæ›´å¥½ç”¨</h2>
<p>oh-my-opencodeæ˜¯ä¸€ä¸ªç¤¾åŒºé¡¹ç›®ï¼Œä¸ºOpenCodeæä¾›äº†å¢å¼ºåŠŸèƒ½å’Œé¢„è®¾é…ç½®ï¼Œæœ‰ç‚¹åƒoh-my-zshä¹‹äºzshã€‚</p>
<p>è¿™ä¸æ˜¯ä¸€ä¸ªå¿…é€‰é¡¹ï¼Œè€Œæ˜¯ä¸€ä¸ªå¯é€‰é¡¹ï¼Œä½†æ˜¯å»ºè®®æ­é…oh-my-opencodeä½¿ç”¨ï¼Œä½“éªŒæ›´å¥½ã€</p>
<p><strong>ä¸»è¦åŠŸèƒ½ï¼š</strong></p>
<ol>
<li><strong>é¢„è®¾Promptæ¨¡æ¿</strong>ï¼šé’ˆå¯¹å¸¸è§ä»»åŠ¡ï¼ˆæ¯”å¦‚ä»£ç å®¡æŸ¥ã€æµ‹è¯•ç”Ÿæˆã€æ–‡æ¡£ç¼–å†™ï¼‰æä¾›ä¼˜åŒ–çš„Prompt</li>
<li><strong>å¿«æ·å‘½ä»¤æ‰©å±•</strong>ï¼šæ·»åŠ æ›´å¤šå®ç”¨çš„æ–œæ å‘½ä»¤</li>
<li><strong>ä¸»é¢˜å’Œç•Œé¢å®šåˆ¶</strong>ï¼šç¾åŒ–OpenCodeç•Œé¢</li>
<li><strong>å·¥ä½œæµé›†æˆ</strong>ï¼šä¸Gitã€CI/CDç­‰å·¥å…·æ›´å¥½åœ°é›†æˆ</li>
</ol>
<p><strong>å®‰è£…oh-my-opencodeï¼š</strong></p>
<p>ç›´æ¥è¿è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œäº¤äº’å¼å®‰è£…ï¼š</p>
<pre><code class="hljs language-perl" lang="perl">npx oh-<span class="hljs-keyword">my</span>-opencode install
<span class="hljs-comment"># or with bun</span>
bunx oh-<span class="hljs-keyword">my</span>-opencode install
</code></pre>
<p>ä½†æ˜¯æˆ‘å»ºè®®ç›´æ¥ä½¿ç”¨OpenCodeçš„å…è´¹æ¨¡å‹ï¼Œæ¯”å¦‚GLM-4.7å¸®ä½ å®‰è£…ï¼Œå› ä¸ºç›´æ¥è¿è¡Œå‘½ä»¤å®‰è£…å¯èƒ½ä¼šé‡åˆ°ç¯å¢ƒå’Œç‰ˆæœ¬ç­‰é—®é¢˜ï¼Œè‡ªå·±å¤„ç†æ¯”è¾ƒé—¹å¿ƒã€‚è®©å¤§æ¨¡å‹å¸®ä½ å®‰è£…çš„è¯ï¼Œå®ƒç›´æ¥å¸®ä½ å…¨å¤„ç†å¥½äº†ï¼Œæ¯”è¾ƒçœäº‹ã€‚</p>
<p>åªéœ€è¦è¾“å…¥ä¸‹é¢æè¿°è¯å³å¯ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">Install <span class="hljs-keyword">and</span> configure <span class="hljs-keyword">by</span> following the instructions here https:<span class="hljs-comment">//raw.githubusercontent.com/code-yeongyu/oh-my-opencode/refs/heads/master/README.md</span>
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/47c152474324489cbd3814bd53771e3b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q5piVQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770180855&amp;x-signature=fEiSXNH%2BLAnA1zovJzY3EBSZBCU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5bcedb887e7c4a51b3335080d011e3ec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q5piVQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770180855&amp;x-signature=GREbvEbU%2FFBLxs2cheWC06W7n8k%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å®‰è£…æˆåŠŸåï¼Œä½ é‡æ–°è¿è¡ŒOpenCodeï¼Œåº”è¯¥ä¼šçœ‹åˆ°ä¸‹é¢çš„æç¤ºï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0e96a567e993413ba5168308e16a50a8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q5piVQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770180855&amp;x-signature=Bbee0%2BVx0pSzEZlr826JqlF2mEg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è€Œä¸”ï¼Œå®‰è£…å®Œæˆåï¼Œoh-my-opencodeä¼šè‡ªåŠ¨åŠ è½½é¢„è®¾é…ç½®ã€‚ä½ å¯ä»¥ä½¿ç”¨é»˜è®¤é…ç½®ï¼Œä¹Ÿå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œè¯¦æƒ…è¯·çœ‹å®˜æ–¹ä»‹ç»ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fcode-yeongyu%2Foh-my-opencode%25E3%2580%2582" target="_blank" title="https://github.com/code-yeongyu/oh-my-opencode%E3%80%82" ref="nofollow noopener noreferrer">github.com/code-yeongyâ€¦</a></p>
<p><strong>æ¨èé…ç½®ï¼š</strong></p>
<p>æ¯”å¦‚å¯ä»¥æ·»åŠ ä¸€äº›å¸¸ç”¨çš„Promptæ¨¡æ¿ï¼š</p>
<ul>
<li>ä»£ç å®¡æŸ¥æ¨¡æ¿ï¼šå…³æ³¨æ€§èƒ½ã€å®‰å…¨ã€å¯ç»´æŠ¤æ€§</li>
<li>æµ‹è¯•ç”Ÿæˆæ¨¡æ¿ï¼šè‡ªåŠ¨ç”Ÿæˆå•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•</li>
<li>é‡æ„æ¨¡æ¿ï¼šéµå¾ªSOLIDåŸåˆ™å’Œè®¾è®¡æ¨¡å¼</li>
</ul>
<p>è¿™äº›æ¨¡æ¿å¯ä»¥è®©OpenCodeæ›´åŠ æ™ºèƒ½å’Œé«˜æ•ˆã€‚</p>
<h2 data-id="heading-6">å®¢è§‚è¯´è¯´OpenCodeçš„ä¸è¶³</h2>
<p>ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä¹Ÿå‘ç°äº†ä¸€äº›OpenCodeçš„å±€é™æ€§ï¼Œè¿™é‡Œå®¢è§‚è¯´ä¸€ä¸‹ã€‚</p>
<p><strong>1. æ–‡æ¡£ç›¸å¯¹åˆ†æ•£</strong></p>
<p>è™½ç„¶å®˜æ–¹æ–‡æ¡£åœ¨ä¸æ–­å®Œå–„ï¼Œä½†ç›¸æ¯”Claude Codeå’ŒCodex CLIè¿™ç§å¤§å‚äº§å“ï¼ŒOpenCodeçš„æ–‡æ¡£è¿˜æ˜¯æ˜¾å¾—æœ‰ç‚¹åˆ†æ•£ã€‚æœ‰äº›é«˜çº§åŠŸèƒ½éœ€è¦è‡ªå·±æ‘¸ç´¢æˆ–è€…å»ç¤¾åŒºé—®ã€‚</p>
<p>å¥½åœ¨ç¤¾åŒºå¾ˆæ´»è·ƒï¼ŒDiscordå’ŒGitHub Discussionsä¸Šèƒ½æ‰¾åˆ°å¾ˆå¤šç­”æ¡ˆã€‚</p>
<p><strong>2. ä¼ä¸šæ”¯æŒ</strong></p>
<p>ä½œä¸ºå¼€æºé¡¹ç›®ï¼ŒOpenCodeæ²¡æœ‰å•†ä¸šå…¬å¸æä¾›çš„SLAï¼ˆæœåŠ¡ç­‰çº§åè®®ï¼‰å’Œä¼ä¸šæŠ€æœ¯æ”¯æŒã€‚å¦‚æœä½ çš„å…¬å¸å¯¹è¿™äº›æœ‰ç¡¬æ€§è¦æ±‚ï¼Œå¯èƒ½éœ€è¦è€ƒè™‘å•†ä¸šå·¥å…·ã€‚</p>
<p>ä¸è¿‡OpenCodeå›¢é˜Ÿä¹Ÿåœ¨æ¢ç´¢ä¼ä¸šç‰ˆï¼Œæœªæ¥å¯èƒ½ä¼šæœ‰æ”¹å–„ã€‚</p>
<p><strong>3. å¤šæ¨¡å‹é€‰æ‹©çš„å­¦ä¹ æˆæœ¬</strong></p>
<p>75+ç§æ¨¡å‹å¬èµ·æ¥å¾ˆè‡ªç”±ï¼Œä½†ä¹Ÿæ„å‘³ç€ä½ éœ€è¦äº†è§£ä¸åŒæ¨¡å‹çš„ç‰¹ç‚¹ã€å®šä»·ã€é€‚ç”¨åœºæ™¯ã€‚å¯¹äºæ–°æ‰‹æ¥è¯´ï¼Œå¯èƒ½ä¼šæœ‰é€‰æ‹©å›°éš¾ã€‚</p>
<p>å»ºè®®åˆšå¼€å§‹ä½¿ç”¨æ—¶ï¼Œå…ˆç”¨OpenCode Zenæä¾›çš„ä¼˜åŒ–æ¨¡å‹ï¼Œè¿™äº›æ¨¡å‹ç»è¿‡ä¸“é—¨æµ‹è¯•ï¼Œé€‚åˆç¼–ç¨‹Agentä½¿ç”¨ã€‚ç†Ÿæ‚‰ä¹‹åå†æ ¹æ®éœ€æ±‚åˆ‡æ¢ã€‚</p>
<p><strong>4. æ¡Œé¢åº”ç”¨è¿˜åœ¨Beta</strong></p>
<p>æ¡Œé¢åº”ç”¨ç›®å‰è¿˜æ˜¯Betaç‰ˆæœ¬ï¼Œç¨³å®šæ€§ä¸å¦‚ç»ˆç«¯CLIã€‚å¦‚æœä½ ä¸»è¦ç”¨æ¡Œé¢åº”ç”¨ï¼Œå¯èƒ½ä¼šé‡åˆ°ä¸€äº›å°bugã€‚</p>
<p>ä½†å¥½æ¶ˆæ¯æ˜¯ï¼Œå¼€å‘å›¢é˜Ÿæ›´æ–°å¾ˆå¿«ï¼Œbugä¿®å¤é€Ÿåº¦ä¹Ÿå¿«ã€‚</p>
<h2 data-id="heading-7">æˆ‘çš„ä½¿ç”¨å»ºè®®</h2>
<p>ç”¨äº†å‡ å¤©OpenCodeï¼Œæˆ‘çš„æ„Ÿå—æ˜¯ï¼š<strong>è¿™æ˜¯ä¸€ä¸ªå€¼å¾—å°è¯•çš„å·¥å…·ï¼Œå°¤å…¶æ˜¯å¦‚æœä½ å…³å¿ƒå·¥å…·çš„é•¿æœŸå¯æŒç»­æ€§ã€‚</strong></p>
<p><strong>ä»€ä¹ˆæƒ…å†µé€‚åˆåˆ‡æ¢åˆ°OpenCodeï¼š</strong></p>
<ol>
<li>ä½ æ‹…å¿ƒå‚å•†ç»‘å®šé£é™©ï¼Œå¸Œæœ›æœ‰æ›´å¤šé€‰æ‹©æƒ</li>
<li>ä½ ä½¿ç”¨å¤šç§AIæ¨¡å‹ï¼Œéœ€è¦æ ¹æ®ä»»åŠ¡çµæ´»åˆ‡æ¢</li>
<li>ä½ å–œæ¬¢å¼€æºå·¥å…·ï¼Œæ„¿æ„å‚ä¸ç¤¾åŒºè´¡çŒ®</li>
<li>ä½ çš„å·¥ä½œæµç¨‹ä¾èµ–IDEé›†æˆï¼Œä¸æƒ³è¢«è¿«ä½¿ç”¨ç»ˆç«¯</li>
<li>ä½ éœ€è¦å¤šä¼šè¯å¹¶è¡Œã€åˆ†äº«é“¾æ¥ç­‰é«˜çº§åŠŸèƒ½</li>
</ol>
<p><strong>ä»€ä¹ˆæƒ…å†µå¯ä»¥ç»§ç»­ç”¨Claude Codeæˆ–Codex CLIï¼š</strong></p>
<ol>
<li>ä½ åªç”¨Claudeæˆ–GPTæ¨¡å‹ï¼Œä¸éœ€è¦å¤šæ¨¡å‹åˆ‡æ¢</li>
<li>ä½ çš„å…¬å¸è¦æ±‚ä½¿ç”¨æœ‰SLAä¿éšœçš„å•†ä¸šå·¥å…·</li>
<li>ä½ æ›´çœ‹é‡å¼€ç®±å³ç”¨çš„ä½“éªŒï¼Œä¸æƒ³æŠ˜è…¾é…ç½®</li>
<li>ä½ ä¸ä»‹æ„å‚å•†ç»‘å®šï¼Œä¿¡ä»»Anthropicæˆ–OpenAIçš„é•¿æœŸç­–ç•¥</li>
</ol>
<p><strong>æˆ‘çš„å»ºè®®ï¼š</strong></p>
<p>å¯¹äºå¤§å¤šæ•°å¼€å‘è€…ï¼Œæˆ‘å»ºè®®éƒ½è¯•è¯•OpenCodeã€‚å®‰è£…å¾ˆç®€å•ï¼Œè€Œä¸”æ”¯æŒå…è´¹æ¨¡å‹ï¼Œè¯•é”™æˆæœ¬å¾ˆä½ã€‚</p>
<p>å¦‚æœä½ å·²ç»æœ‰Claudeæˆ–ChatGPTçš„ä»˜è´¹è®¢é˜…ï¼Œå¯ä»¥ç›´æ¥åœ¨OpenCodeé‡Œå¤ç”¨ï¼Œä¸éœ€è¦é¢å¤–èŠ±é’±ã€‚</p>
<p>ä½“éªŒå‡ å¤©åï¼Œä½ ä¼šå¯¹AIç¼–ç¨‹å·¥å…·çš„å¼€æºç”Ÿæ€æœ‰æ›´æ·±çš„ç†è§£ï¼Œä¹Ÿèƒ½æ›´æ˜ç¡®è‡ªå·±çœŸæ­£éœ€è¦ä»€ä¹ˆæ ·çš„å·¥å…·ã€‚</p>
<p>åœ¨AIå·¥å…·è¶Šæ¥è¶Šé‡è¦çš„ä»Šå¤©ï¼Œæ‹¥æœ‰é€‰æ‹©æƒæœ¬èº«å°±æ˜¯ä¸€ç§ä»·å€¼ã€‚OpenCodeç»™äº†æˆ‘ä»¬è¿™ä¸ªé€‰æ‹©æƒã€‚</p>
<p>æ›´å¤šå†…å®¹ï¼Œè¯·å…³æ³¨ã€å­æ˜•AIç¼–ç¨‹ã€‘å¾®ä¿¡å…¬ä¼—å·ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æœåŠ¡CPUçªç„¶é£™åˆ°100%ï¼Œç”¨Arthasä¸‰åˆ†é’Ÿå®šä½åˆ°é—®é¢˜ä»£ç ]]></title>    <link>https://juejin.cn/post/7600034446947270694</link>    <guid>https://juejin.cn/post/7600034446947270694</guid>    <pubDate>2026-01-28T05:53:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600034446947270694" data-draft-id="7600034446947237926" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æœåŠ¡CPUçªç„¶é£™åˆ°100%ï¼Œç”¨Arthasä¸‰åˆ†é’Ÿå®šä½åˆ°é—®é¢˜ä»£ç "/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-28T05:53:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¥å¥‡å°æ±¤åœ†"/> <meta itemprop="url" content="https://juejin.cn/user/1151943919285431"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æœåŠ¡CPUçªç„¶é£™åˆ°100%ï¼Œç”¨Arthasä¸‰åˆ†é’Ÿå®šä½åˆ°é—®é¢˜ä»£ç 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1151943919285431/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¥å¥‡å°æ±¤åœ†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T05:53:54.000Z" title="Wed Jan 28 2026 05:53:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>é‚£å¤©ä¸‹åˆæ­£å‡†å¤‡æ‘¸é±¼ï¼Œçªç„¶æ”¶åˆ°å‘Šè­¦ï¼šç”Ÿäº§ç¯å¢ƒæŸæœåŠ¡CPUä½¿ç”¨ç‡100%ã€‚</p>
<p>æ‰“å¼€ç›‘æ§ä¸€çœ‹ï¼Œå¥½å®¶ä¼™ï¼Œ4æ ¸å…¨éƒ¨æ‰“æ»¡ï¼Œè€Œä¸”å·²ç»æŒç»­äº†å¥½å‡ åˆ†é’Ÿã€‚èµ¶ç´§ä¸ŠæœåŠ¡å™¨æ’æŸ¥ã€‚</p>
<h2 data-id="heading-1">ç¬¬ä¸€æ­¥ï¼šç¡®è®¤æ˜¯å“ªä¸ªè¿›ç¨‹</h2>
<p>å…ˆç”¨<code>top</code>çœ‹ä¸€çœ¼ï¼š</p>
<pre><code class="hljs language-perl" lang="perl">top - <span class="hljs-number">14</span>:<span class="hljs-number">32</span>:<span class="hljs-number">01</span> up <span class="hljs-number">89</span> days,  <span class="hljs-number">3</span>:<span class="hljs-number">21</span>,  <span class="hljs-number">2</span> users,  load average: <span class="hljs-number">4.12</span>, <span class="hljs-number">3.89</span>, <span class="hljs-number">2.15</span>
%Cpu(s): <span class="hljs-number">98.7</span> us,  <span class="hljs-number">1.2</span> sy,  <span class="hljs-number">0</span>.<span class="hljs-number">0</span> ni,  <span class="hljs-number">0</span>.<span class="hljs-number">0</span> id,  <span class="hljs-number">0</span>.<span class="hljs-number">0</span> wa,  <span class="hljs-number">0</span>.<span class="hljs-number">0</span> hi,  <span class="hljs-number">0</span>.<span class="hljs-number">1</span> si
PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND
<span class="hljs-number">12847</span> app       <span class="hljs-number">20</span>   <span class="hljs-number">0</span> <span class="hljs-number">4.2</span>g   <span class="hljs-number">1.8</span>g  <span class="hljs-number">12</span>m S  <span class="hljs-number">398</span>  <span class="hljs-number">23.1</span>   <span class="hljs-number">89</span>:<span class="hljs-number">32.15</span> java
</code></pre>
<p>æœç„¶æ˜¯Javaè¿›ç¨‹ï¼ŒPID 12847ï¼ŒCPUå ç”¨398%ï¼ˆ4æ ¸å·®ä¸å¤šæ‰“æ»¡ï¼‰ã€‚</p>
<h2 data-id="heading-2">ç¬¬äºŒæ­¥ï¼šæ‰¾åˆ°å…·ä½“æ˜¯å“ªä¸ªçº¿ç¨‹</h2>
<p>ç”¨<code>top -Hp 12847</code>çœ‹è¿™ä¸ªè¿›ç¨‹é‡Œçš„çº¿ç¨‹ï¼š</p>
<pre><code class="hljs language-perl" lang="perl">PID USER      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND
<span class="hljs-number">12892</span> app       <span class="hljs-number">20</span>   <span class="hljs-number">0</span> <span class="hljs-number">4.2</span>g   <span class="hljs-number">1.8</span>g  <span class="hljs-number">12</span>m R <span class="hljs-number">99.3</span> <span class="hljs-number">23.1</span>  <span class="hljs-number">22</span>:<span class="hljs-number">15.32</span> java
<span class="hljs-number">12893</span> app       <span class="hljs-number">20</span>   <span class="hljs-number">0</span> <span class="hljs-number">4.2</span>g   <span class="hljs-number">1.8</span>g  <span class="hljs-number">12</span>m R <span class="hljs-number">99.1</span> <span class="hljs-number">23.1</span>  <span class="hljs-number">22</span>:<span class="hljs-number">14.89</span> java
<span class="hljs-number">12894</span> app       <span class="hljs-number">20</span>   <span class="hljs-number">0</span> <span class="hljs-number">4.2</span>g   <span class="hljs-number">1.8</span>g  <span class="hljs-number">12</span>m R <span class="hljs-number">98.7</span> <span class="hljs-number">23.1</span>  <span class="hljs-number">22</span>:<span class="hljs-number">13.45</span> java
<span class="hljs-number">12895</span> app       <span class="hljs-number">20</span>   <span class="hljs-number">0</span> <span class="hljs-number">4.2</span>g   <span class="hljs-number">1.8</span>g  <span class="hljs-number">12</span>m R <span class="hljs-number">98.2</span> <span class="hljs-number">23.1</span>  <span class="hljs-number">22</span>:<span class="hljs-number">12.78</span> java
</code></pre>
<p>4ä¸ªçº¿ç¨‹éƒ½åœ¨ç–¯ç‹‚è·‘ã€‚è®°ä¸‹çº¿ç¨‹IDï¼š12892ã€12893ã€12894ã€12895ã€‚</p>
<p>æŠŠçº¿ç¨‹IDè½¬æˆ16è¿›åˆ¶ï¼ˆjstackç”¨çš„æ˜¯16è¿›åˆ¶ï¼‰ï¼š</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-keyword">printf</span> <span class="hljs-string">"%x\n"</span> <span class="hljs-number">12892</span>

<span class="hljs-comment"># è¾“å‡ºï¼š325c</span>
</code></pre>
<h2 data-id="heading-3">ç¬¬ä¸‰æ­¥ï¼šjstackæŠ“çº¿ç¨‹å †æ ˆ</h2>
<pre><code class="hljs language-perl" lang="perl">jstack <span class="hljs-number">12847</span> | <span class="hljs-keyword">grep</span> -A <span class="hljs-number">30</span> <span class="hljs-string">"325c"</span>
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-string">"pool-3-thread-1"</span> <span class="hljs-comment">#89 prio=5 os_prio=0 tid=0x00007f8a3c012000 nid=0x325c runnable [0x00007f8a2c1fe000]</span>
java.lang.Thread.State: RUNNABLE
at java.util.regex.Pattern<span class="hljs-variable">$GroupHead</span>.<span class="hljs-keyword">match</span>(Pattern.java:<span class="hljs-number">4658</span>)
at java.util.regex.Pattern<span class="hljs-variable">$Loop</span>.<span class="hljs-keyword">match</span>(Pattern.java:<span class="hljs-number">4785</span>)
at java.util.regex.Pattern<span class="hljs-variable">$GroupTail</span>.<span class="hljs-keyword">match</span>(Pattern.java:<span class="hljs-number">4717</span>)
at java.util.regex.Pattern<span class="hljs-variable">$Loop</span>.<span class="hljs-title function_ invoke__">matchInit</span>(Pattern.<span class="hljs-attr">java</span>:<span class="hljs-number">4803</span>)
at java.util.regex.Pattern<span class="hljs-variable">$Loop</span>.<span class="hljs-keyword">match</span>(Pattern.java:<span class="hljs-number">4785</span>)
...ï¼ˆçœç•¥Nè¡Œé‡å¤çš„ï¼‰
at com.xxx.service.ContentService.<span class="hljs-title function_ invoke__">filterContent</span>(ContentService.<span class="hljs-attr">java</span>:<span class="hljs-number">156</span>)
</code></pre>
<p>ç ´æ¡ˆäº†ï¼æ˜¯æ­£åˆ™è¡¨è¾¾å¼åœ¨ç–¯ç‹‚å›æº¯ã€‚</p>
<h2 data-id="heading-4">ç”¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D267714558%26content_type%3DArticle%26match_order%3D1%26q%3DArthas%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=267714558&amp;content_type=Article&amp;match_order=1&amp;q=Arthas&amp;zhida_source=entity" ref="nofollow noopener noreferrer">Arthas</a>æ›´å¿«å®šä½</h2>
<p>ä¸Šé¢çš„æ–¹æ³•è™½ç„¶èƒ½æ‰¾åˆ°é—®é¢˜ï¼Œä½†æ­¥éª¤æœ‰ç‚¹å¤šã€‚åæ¥æˆ‘å­¦ä¼šäº†ç”¨Arthasï¼ŒçœŸçš„ä¸‰åˆ†é’Ÿå°±èƒ½å®šä½ã€‚</p>
<h3 data-id="heading-5">å®‰è£…Arthas</h3>
<pre><code class="hljs language-arduino" lang="arduino">curl -O https:<span class="hljs-comment">//arthas.aliyun.com/arthas-boot.jar</span>
java -jar arthas-boot.jar
</code></pre>
<p>é€‰æ‹©è¦attachçš„Javaè¿›ç¨‹ï¼Œè¿›å…¥Arthasæ§åˆ¶å°ã€‚</p>
<h3 data-id="heading-6">threadå‘½ä»¤ç›´æ¥çœ‹CPUæœ€é«˜çš„çº¿ç¨‹</h3>
<pre><code class="hljs language-arduino" lang="arduino">thread -n <span class="hljs-number">3</span>
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-string">"pool-3-thread-1"</span> Id=<span class="hljs-number">89</span> cpuUsage=<span class="hljs-number">98.32</span>% deltaTime=<span class="hljs-number">983</span>ms time=<span class="hljs-number">1345623</span>ms RUNNABLE
at java.util.regex.<span class="hljs-built_in">Pattern</span>$GroupHead.match(<span class="hljs-built_in">Pattern</span>.java:<span class="hljs-number">4658</span>)
at java.util.regex.<span class="hljs-built_in">Pattern</span>$Loop.match(<span class="hljs-built_in">Pattern</span>.java:<span class="hljs-number">4785</span>)
at java.util.regex.<span class="hljs-built_in">Pattern</span>$GroupTail.match(<span class="hljs-built_in">Pattern</span>.java:<span class="hljs-number">4717</span>)
at com.xxx.service.ContentService.filterContent(ContentService.java:<span class="hljs-number">156</span>)
at com.xxx.controller.ContentController.submit(ContentController.java:<span class="hljs-number">42</span>)
</code></pre>
<p>ä¸€æ¡å‘½ä»¤å°±å®šä½åˆ°äº†ï¼Œæ¯”<code>top + jstack</code>æ–¹ä¾¿å¤ªå¤šã€‚</p>
<h3 data-id="heading-7">profiler<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D267714558%26content_type%3DArticle%26match_order%3D1%26q%3D%25E7%2581%25AB%25E7%2584%25B0%25E5%259B%25BE%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=267714558&amp;content_type=Article&amp;match_order=1&amp;q=%E7%81%AB%E7%84%B0%E5%9B%BE&amp;zhida_source=entity" ref="nofollow noopener noreferrer">ç«ç„°å›¾</a></h3>
<p>å¦‚æœæƒ³æ›´ç›´è§‚åœ°çœ‹CPUæ¶ˆè€—åˆ†å¸ƒï¼š</p>
<pre><code class="hljs language-css" lang="css">profiler start

# ç­‰å¾…<span class="hljs-number">30</span>ç§’é‡‡æ ·

profiler stop <span class="hljs-attr">--format</span> <span class="hljs-selector-tag">html</span>
</code></pre>
<p>ä¼šç”Ÿæˆä¸€ä¸ªç«ç„°å›¾HTMLæ–‡ä»¶ï¼Œå“ªä¸ªæ–¹æ³•å ç”¨CPUå¤šä¸€ç›®äº†ç„¶ã€‚</p>
<h2 data-id="heading-8">é—®é¢˜æ ¹å› </h2>
<p>æ‰¾åˆ°é—®é¢˜ä»£ç åï¼Œçœ‹äº†ä¸€ä¸‹ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// ContentService.java:156</span>
public String <span class="hljs-built_in">filterContent</span>(String content) {
    <span class="hljs-comment">// è¿™ä¸ªæ­£åˆ™æœ‰é—®é¢˜</span>
    String pattern = "(a]è¡¨è¾¾å¼å¯¼è‡´çš„CPU <span class="hljs-number">100%</span>é—®é¢˜ï¼Œé€šå¸¸æœ‰ä»¥ä¸‹å‡ ä¸ªåŸå› ï¼š

### <span class="hljs-number">1</span>. å›æº¯é™·é˜±ï¼ˆCatastrophic Backtrackingï¼‰

åƒ`(a+)+<span class="hljs-selector-tag">b</span>`è¿™ç§åµŒå¥—é‡è¯ï¼Œé‡åˆ°ä¸åŒ¹é…çš„å­—ç¬¦ä¸²æ—¶ï¼Œä¼šäº§ç”ŸæŒ‡æ•°çº§çš„å›æº¯ã€‚

### <span class="hljs-number">2</span>. è§£å†³æ–¹æ¡ˆ

**æ–¹æ¡ˆä¸€ï¼šä¼˜åŒ–æ­£åˆ™è¡¨è¾¾å¼**

```java
<span class="hljs-comment">// é¿å…åµŒå¥—é‡è¯</span>
<span class="hljs-comment">// åï¼š(a+)+</span>
<span class="hljs-comment">// å¥½ï¼ša+</span>

<span class="hljs-comment">// ä½¿ç”¨åŸå­ç»„æˆ–å æœ‰é‡è¯</span>
<span class="hljs-comment">// å¥½ï¼š(?&gt;a+)+ æˆ– a++</span>
</code></pre>
<p><strong>æ–¹æ¡ˆäºŒï¼šè®¾ç½®è¶…æ—¶</strong></p>
<pre><code class="hljs language-ini" lang="ini">// Java 9+ æ”¯æŒ
Pattern <span class="hljs-attr">pattern</span> = Pattern.compile(regex)<span class="hljs-comment">;</span>
Matcher <span class="hljs-attr">matcher</span> = pattern.matcher(input).timeout(<span class="hljs-number">1000</span>, TimeUnit.MILLISECONDS)<span class="hljs-comment">;</span>
</code></pre>
<p><strong>æ–¹æ¡ˆä¸‰ï¼šæ¢ç”¨å…¶ä»–åº“</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.google.re2j<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>re2j<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.7<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D267714558%26content_type%3DArticle%26match_order%3D1%26q%3DRE2J%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=267714558&amp;content_type=Article&amp;match_order=1&amp;q=RE2J&amp;zhida_source=entity" ref="nofollow noopener noreferrer">RE2J</a>ä½¿ç”¨çš„æ˜¯çº¿æ€§æ—¶é—´çš„ç®—æ³•ï¼Œä¸ä¼šå‡ºç°å›æº¯é—®é¢˜ã€‚</p>
<h2 data-id="heading-9">å…¶ä»–å¸¸è§çš„CPU 100%åœºæ™¯</h2>
<h3 data-id="heading-10">æ­»å¾ªç¯</h3>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
    <span class="hljs-comment">// å¿˜äº†åŠ é€€å‡ºæ¡ä»¶æˆ–sleep</span>
}
</code></pre>
<p>ç”¨Arthasçš„<code>thread -n 3</code>ä¸€çœ¼å°±èƒ½çœ‹åˆ°å¡åœ¨å“ªä¸€è¡Œã€‚</p>
<h3 data-id="heading-11">é”ç«äº‰</h3>
<p>å¤šä¸ªçº¿ç¨‹ç–¯ç‹‚æŠ¢é”ï¼Œè™½ç„¶ä¸æ˜¯æ­»é”ï¼Œä½†CPUä¹Ÿä¼šæ‰“æ»¡ã€‚ç”¨<code>thread -b</code>å¯ä»¥çœ‹åˆ°é˜»å¡æƒ…å†µã€‚</p>
<h3 data-id="heading-12">é¢‘ç¹GC</h3>
<p>å¦‚æœæ˜¯GCçº¿ç¨‹å ç”¨CPUé«˜ï¼Œéœ€è¦ç”¨<code>jstat -gcutil</code>æˆ–è€…çœ‹GCæ—¥å¿—æ’æŸ¥ã€‚</p>
<h2 data-id="heading-13">è¿œç¨‹æ’æŸ¥å°æŠ€å·§</h2>
<p>æœ‰æ—¶å€™é—®é¢˜å‘ç”Ÿåœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šï¼ŒSSHè¿ä¸Šå»æ“ä½œæ¯”è¾ƒéº»çƒ¦ã€‚æˆ‘ç°åœ¨ä¹ æƒ¯ç”¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D267714558%26content_type%3DArticle%26match_order%3D1%26q%3D%25E6%2598%259F%25E7%25A9%25BA%25E7%25BB%2584%25E7%25BD%2591%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=267714558&amp;content_type=Article&amp;match_order=1&amp;q=%E6%98%9F%E7%A9%BA%E7%BB%84%E7%BD%91&amp;zhida_source=entity" ref="nofollow noopener noreferrer">æ˜Ÿç©ºç»„ç½‘</a>å·¥å…·æŠŠæœåŠ¡å™¨å’Œæœ¬åœ°æ‰“é€šï¼Œç›´æ¥åœ¨æœ¬åœ°IDEAé‡Œè¿œç¨‹è¿æ¥Arthasï¼Œä½“éªŒå¥½å¾ˆå¤šã€‚ç‰¹åˆ«æ˜¯éœ€è¦ä¸‹è½½ç«ç„°å›¾æˆ–è€…heap dumpçš„æ—¶å€™ï¼Œå†…ç½‘ç›´ä¼ æ¯”scpå¿«å¤šäº†ã€‚</p>
<h2 data-id="heading-14">æ€»ç»“</h2>
<p>CPU 100%é—®é¢˜æ’æŸ¥æµç¨‹ï¼š</p>
<ol>
<li><code>top</code>Â ç¡®è®¤æ˜¯å“ªä¸ªè¿›ç¨‹</li>
<li><code>top -Hp &lt;pid&gt;</code>Â æ‰¾åˆ°CPUé«˜çš„çº¿ç¨‹</li>
<li><code>jstack</code>Â æˆ– ArthasÂ <code>thread -n 3</code>Â çœ‹çº¿ç¨‹å †æ ˆ</li>
<li>æ ¹æ®å †æ ˆå®šä½é—®é¢˜ä»£ç </li>
</ol>
<p>ArthasçœŸçš„æ˜¯çº¿ä¸Šæ’æŸ¥ç¥å™¨ï¼Œå¼ºçƒˆæ¨èè¿˜æ²¡ç”¨è¿‡çš„åŒå­¦è¯•è¯•ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸æƒ³ä¸Šç­ï¼Œæ‰€ä»¥æˆ‘å†™äº†ä¸ªèƒ½æé’±çš„å·¥å…·]]></title>    <link>https://juejin.cn/post/7600034446947254310</link>    <guid>https://juejin.cn/post/7600034446947254310</guid>    <pubDate>2026-01-28T05:53:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600034446947254310" data-draft-id="7600060708932108298" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸æƒ³ä¸Šç­ï¼Œæ‰€ä»¥æˆ‘å†™äº†ä¸ªèƒ½æé’±çš„å·¥å…·"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-28T05:53:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜å‡Œè§ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/3350967174565198"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸æƒ³ä¸Šç­ï¼Œæ‰€ä»¥æˆ‘å†™äº†ä¸ªèƒ½æé’±çš„å·¥å…·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3350967174565198/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜å‡Œè§ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T05:53:41.000Z" title="Wed Jan 28 2026 05:53:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å‡Œè§ˆã€‚</p>
<ul>
<li>ä¸ªäººç½‘ç«™ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.code24.top%2F" target="_blank" title="https://blog.code24.top/" ref="nofollow noopener noreferrer">blog.code24.top</a></li>
<li>å»æ°´å°ä¸‹è½½é¸­ï¼š<a href="https://link.juejin.cn?target=http%3A%2F%2Fnologo.code24.top%2F" target="_blank" title="http://nologo.code24.top/" ref="nofollow noopener noreferrer">nologo.code24.top</a></li>
</ul>
<p>å¦‚æœæœ¬æ–‡èƒ½ç»™ä½ æä¾›å¯å‘æˆ–å¸®åŠ©ï¼Œæ¬¢è¿åŠ¨åŠ¨å°æ‰‹æŒ‡ï¼Œä¸€é”®ä¸‰è¿ï¼ˆ<code>ç‚¹èµ</code>ã€<code>è¯„è®º</code>ã€<code>è½¬å‘</code>ï¼‰ï¼Œç»™æˆ‘ä¸€äº›æ”¯æŒå’Œé¼“åŠ±è°¢è°¢ã€‚</p>
<hr/>
<p>è¿˜è®°å¾—é’‰é’‰æç¤ºéŸ³è®©å¿ƒè„æ¼è·³åŠæ‹çš„æ„Ÿè§‰ï¼Ÿè¿˜è®°å¾—å‘¨äº”ç«é”…åƒåˆ°ä¸€åŠï¼Œå¼¹å‡ºé‚£å¥"ä¸æ€¥ï¼Œå‘¨ä¸€ç»™æˆ‘"çš„ç»æœ›ï¼Ÿ</p>
<p>æ¯ä¸ªæœˆæ€»æœ‰é‚£ä¹ˆå‡ ä¸ªç¬é—´ï¼Œæ‰‹æŒ‡æ‚¬åœ¨"ç¦»èŒç”³è¯·"ä¸Šï¼Œæƒ³æŠŠé‚£äº›"æŠ“æ‰‹èµ‹èƒ½""é“¾è·¯é—­ç¯"çš„é»‘è¯ç»Ÿç»Ÿç ¸å›è€æ¿è„¸ä¸Šï¼Œæ‹‰ç€å§‘å¨˜ç›´å¥”æµ·è¾¹ï¼Œè®©æµ·é£æŠŠKPIã€OKRç»Ÿç»Ÿå¹æ•£ã€‚</p>
<p>ä½†æ·±å¤œç®—å®Œé“¶è¡Œå¡ã€è´¦å•å’Œé€€ä¼‘æ”¿ç­–åï¼Œç°å®å¾ˆéª¨æ„Ÿï¼šæŒ‰ç°åœ¨çš„æ”’é’±é€Ÿåº¦ï¼Œæˆ‘å¾—æ‰“å·¥æ‰“åˆ°é€€ä¼‘ã€‚</p>
<p>ç›¯ç€æ»¡æ¡Œæ¼”ç®—è‰ç¨¿ï¼Œæˆ‘çªç„¶å¼€çªï¼šæˆ‘æ˜¯ä¸ªå¼€å‘è€…å•Šï¼ æ—¢ç„¶è·ç¦»è‡ªç”±è¿˜æœ‰åä¸‡å…«åƒé‡Œï¼Œä¸ºä»€ä¹ˆä¸å¼€å‘ä¸ªäº§å“èµšç¡åæ”¶å…¥ï¼Œè®©ä»£ç æ›¿æˆ‘åŠ é€Ÿè·‘è·¯ï¼Ÿ</p>
<p>ä¹‹å‰åšè‡ªåª’ä½“å‰ªè§†é¢‘ï¼Œæœ€çƒ¦çš„å°±æ˜¯æ‰¾ç´ æâ€”â€”å¥½ä¸å®¹æ˜“ä»å¹³å°æ‰’ä¸‹æ¥çš„è§†é¢‘ï¼Œä¸­é—´æ€»æŒ‚ç€ç¢çœ¼çš„æ°´å°ï¼Œå…³é”®å¸§æ ¹æœ¬æ²¡æ³•ç”¨ã€‚</p>
<p>ä¸å…¶åˆ°å¤„æ±‚æ— æ°´å°èµ„æºï¼Œæˆ–æ˜¯å¼€ç€ PS ä¸€å¸§å¸§æŠ å›¾ï¼Œæˆ‘å¹²è„†ä¸€æ‹é”®ç›˜ï¼šä¸å¦‚è‡ªå·±å†™ä¸ªå·¥å…·ï¼Œä¸€é”®æŠŠæ°´å°æŠ¹å¹²å‡€ã€‚</p>
<h2 data-id="heading-0">è°ƒç ”</h2>
<p>æœ‰äº†æƒ³æ³•è‚¯å®šå¾—è°ƒç ”å¯ä¸å¯è¡Œï¼Œæ‰¾æ‰¾ç«å“æœ‰å“ªäº›é—®é¢˜ã€‚</p>
<p>æ€»ç»“ä¸‹æ¥,ç«å“è›®å¤š,å½“ç„¶é—®é¢˜ä¹Ÿå¤šã€‚</p>
<p>è°ƒç ”å®Œå‘ç°ç«å“é—®é¢˜å¾ˆé›†ä¸­:</p>
<ol>
<li>ä¸ªäººå¼€å‘å±…å¤šï¼Œæ‰“å¼€å°±æ˜¯è¾“å…¥æ¡†+æŒ‰é’®ï¼Œç”¨æˆ·ä¸çŸ¥é“æ€ä¹ˆç”¨</li>
<li>ä¼ä¸šçº§äº§å“å¼ºåˆ¶å¼€ä¼šå‘˜ï¼Œæˆæœ¬å°±ä¸Šæ¥äº†</li>
<li>å¤§éƒ¨åˆ†ä¸ºå°ç¨‹åºï¼Œå¯¹äºPCç«¯å¹¶ä¸æ”¯æŒ</li>
<li>æ‰å †ä¼ ç»Ÿå¹³å°ï¼ŒAIè§†é¢‘/å›¾ç‰‡çš„æ–°å¹³å°å®Œå…¨ç©ºç™½</li>
</ol>
<p>è¿™å››ç‚¹å…¨æ˜¯æœºä¼šï¼Œä¸åŒè´¨åŒ–ç«äº‰ï¼Œåšå·®å¼‚åŒ–ã€‚</p>
<h2 data-id="heading-1">è®¾è®¡+å¼€å‘</h2>
<p>é¦–å…ˆï¼Œæˆ‘ä¸æ˜¯è®¾è®¡å¸ˆï¼ŒUI è¿™å—æ²¡ä»€ä¹ˆä¸“ä¸šè§è§£ã€‚å…·ä½“åšæ³•æ˜¯å…ˆæ‰’ä¸€éç«å“ï¼Œåœ¨å·¨äººè‚©è†€ä¸Šä¿®ä¿®è¡¥è¡¥ã€‚</p>
<p>æŠ€æœ¯æ ˆæ²¡æŠ˜è…¾ï¼Œç›´æ¥ä¸Šç†Ÿç»ƒå·¥ï¼šVue3 + Tailwind + UniApp + Node.jsã€‚æœ¬èŒå‰ç«¯ï¼Œåç«¯æ‰¾äº†ä¸ª 24 å°æ—¶åœ¨çº¿çš„ã€Œèµ›åšåŒäº‹ã€â€”â€”AI è´Ÿè´£å†™ï¼Œæˆ‘è´Ÿè´£ Review å’Œæ”¹ Bugï¼ˆæ¯•ç«Ÿåº•å­è¿˜åœ¨ï¼Œåªæ˜¯ç”Ÿé”ˆäº†ï¼‰ã€‚</p>
<p>åšæŒèƒ½ç®€åˆ™ç®€,ä»€ä¹ˆé«˜å¹¶å‘ã€ä»€ä¹ˆæ•°æ®åº“ç­‰é€‰æ‹©èƒ½çœåˆ™çœã€‚æ¯”å¦‚å…¶ä¸­æœ‰ä¸ª IP é™æµçš„åŠŸèƒ½ï¼Œç›´æ¥æœ¬åœ° JSON æ–‡ä»¶ä¸´æ—¶å­˜å‚¨ï¼Œè¶³å¤Ÿç”¨äº†ã€‚</p>
<p>ä¸»é¡µé¢ UI å¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/13dd98af44b54e7285aef3b91977a165~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5YeM6KeI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770184421&amp;x-signature=8C4fN17y49n%2B1zYCpV3X1et%2BS5Y%3D" alt="11.png" loading="lazy"/></p>
<h2 data-id="heading-2">ä¸Šçº¿ä¸æ”¶ç›Š</h2>
<p>å›  wx å¹³å°å®¡æ ¸å¯¼è‡´å°ç¨‹åºåç§°ä¸ PC ç«¯å“ç‰Œåè¢«è¿«ä¸ä¸€è‡´,æ›´ç¹ççš„æ˜¯æ•´ä¸ªä¸Šçº¿å‰çš„å„ç§å®¡æ ¸â€”â€”å¤‡æ¡ˆã€å…¬å®‰å¤‡æ¡ˆã€ä¼ä¸šè®¤è¯ï¼Œå±‚å±‚å®¡æ ¸ç¡®å®æ¶ˆè€—äº†å¤§é‡è€å¿ƒï¼Œè¿™æ­¥ä¸è¯¦ç»†æè¿°è·³è¿‡ã€‚</p>
<p>ä¸Šçº¿åï¼Œæˆ‘æŠŠå®ƒåˆ†äº«ç»™äº†æˆ‘çš„æœ‹å‹ï¼Œä¹Ÿå¾—åˆ°äº†å¾ˆå¤šäººçš„è®¤å¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ade6ffdd4ce64a988161d28ab324f357~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5YeM6KeI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770184421&amp;x-signature=Cno9llIY9c3t%2FBs2cdIrDHPzawM%3D" alt="gh_cb56a387b645_258.jpg" loading="lazy"/></p>
<p>èŠèŠæ”¶ç›Šï¼Œå…¶å®æˆ‘æœ‰ä¸‰æ¡æ¥é’±è·¯å­ã€‚ä»Šå¤©å…ˆèŠæœ€ã€Œèººã€çš„é‚£ä¸ªâ€”â€”æµé‡ä¸»ã€‚</p>
<p>æµé‡ä¸»æœ‰ä¸ªã€Œæ–°æ‰‹æ‘ã€é—¨æ§›ï¼š500 ä¸ªç´¯è®¡ç”¨æˆ·ã€‚è·¨è¿‡å»ä¹‹åå€’æ˜¯çœå¿ƒï¼Œå¹³å°æŠŠå¹¿å‘Šç»„ä»¶éƒ½æ‰“åŒ…å¥½äº†ï¼Œæ¥èµ·æ¥è´¼æ–¹ä¾¿ã€‚
PC ç«¯æœ¬æ¥ä¹Ÿæƒ³æŒ‚ Google Ads èµšç‚¹ç¾åˆ€ï¼Œä½†ä¸€çœ‹è¦å¡«è¡¨ã€ç”³è¯·ã€è¿‡å®¡â€¦â€¦ç®—äº†ï¼Œæ‹–å»¶ç—‡çŠ¯äº†ï¼Œè‡³ä»Šæ²¡æã€‚ä¸»è¦æ˜¯å«Œçƒ¦ï¼Œå…ˆæ”¾ç€å§ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ba19d790d291414087355448aeae1349~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5YeM6KeI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770184421&amp;x-signature=2WdtkZvZw2dYZw1%2FM5pDWEzeHF0%3D" alt="image.png" loading="lazy"/></p>
<p>æ”¶å…¥ä¸å¤šï¼Œä½†æ¯å¤©ä¸€æ ¹ç«è…¿è‚ æ˜¯æ²¡é—®é¢˜çš„ã€‚æ¨å¹¿åˆ°ä½å•é æµé‡ä¸»ä¸€ä¸ªæœˆä¹Ÿèƒ½æœ‰300ï¼Œæ¯å¹´åªéœ€è¦æ”¯ä»˜è®¤è¯è´¹ç”¨30å†åŠ æœåŠ¡å™¨æˆæœ¬ï¼Œå¯¹äºæˆ‘æ¥è¯´è¿˜æ˜¯èµšçš„ã€‚</p>
<h2 data-id="heading-3">æœ€å</h2>
<p>å½“ç„¶ï¼Œè¿™ä¸ªå·¥å…·è¿˜ä¸è¶³ä»¥è®©æˆ‘å®ç°ä¸æƒ³ä¸Šç­çš„æ„¿æœ›,è¿˜åœ¨åŠªåŠ›ä¸­ã€‚</p>
<p>è‡³å°‘ç°åœ¨æˆ‘æ¯å¤©èƒ½å¤šåƒä¸€æ ¹ç«è…¿è‚ äº†ï¼ï¼ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flutter Shorebird æ¥å…¥æµç¨‹è®°å½•]]></title>    <link>https://juejin.cn/post/7599983917664550955</link>    <guid>https://juejin.cn/post/7599983917664550955</guid>    <pubDate>2026-01-28T05:53:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599983917664550955" data-draft-id="7599924721006641215" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flutter Shorebird æ¥å…¥æµç¨‹è®°å½•"/> <meta itemprop="keywords" content="Android,iOS"/> <meta itemprop="datePublished" content="2026-01-28T05:53:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="x_w"/> <meta itemprop="url" content="https://juejin.cn/user/1538972008590855"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flutter Shorebird æ¥å…¥æµç¨‹è®°å½•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1538972008590855/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    x_w
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T05:53:58.000Z" title="Wed Jan 28 2026 05:53:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.shorebird.dev%2F" target="_blank" title="https://docs.shorebird.dev/" ref="nofollow noopener noreferrer">Shorebird</a> é›†æˆæ­¥éª¤ï¼ˆä»¥ Mac ä¸ºä¾‹ï¼‰</p>
<h2 data-id="heading-0">å®‰è£…</h2>
<pre><code class="hljs language-ruby" lang="ruby">curl --proto <span class="hljs-string">'=https'</span> --tlsv1.<span class="hljs-number">2</span> <span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/raw.githubusercontent.com/shorebirdtech</span><span class="hljs-regexp">/install/main</span><span class="hljs-regexp">/install.sh -sSf | bash
</span></code></pre>
<h2 data-id="heading-1">æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ</h2>
<p>æ‰§è¡Œ<code>shorebird doctor</code></p>
<pre><code class="hljs language-scss" lang="scss">Shorebird <span class="hljs-number">1.6</span><span class="hljs-selector-class">.76</span> â€¢ git<span class="hljs-keyword">@github</span>.<span class="hljs-attribute">com</span>:shorebirdtech/shorebird.git
Flutter <span class="hljs-number">3.38</span>.<span class="hljs-number">6</span> â€¢ revision <span class="hljs-number">55</span>c197eb61ef2219a709002c39ffa445b05600f8
Engine â€¢ revision <span class="hljs-number">6062</span>c68600c53ff4e1fecf3ce79157ef4ce33000
</code></pre>
<p>å‡ºç°ä»¥ä¸Šä¿¡æ¯è¯´æ˜å®‰è£…æˆåŠŸï¼ˆps: å»ºè®®æœ¬åœ° <code>flutter</code> ç‰ˆæœ¬ä¸<code>shorebird</code> ä¸­ <code>flutter</code> ç‰ˆæœ¬å¯¹åº”ï¼Œè™½ç„¶<code>shorebird</code>æ–‡æ¡£ä¸­ä¹Ÿè¯´æ˜æ‰“åŸºå‡†åŒ…çš„æ—¶å€™å¯ä»¥æŒ‡å®š <code>flutter</code> ç‰ˆæœ¬ï¼Œ<code>shorebird release android --flutter-version 3.19.0</code>ï¼‰</p>
<h2 data-id="heading-2">ç™»å½•</h2>
<p>æ‰§è¡Œ<code>shorebird login</code>è¿›è¡Œç™»å½•</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f114cdc84f74562ac526319462a132b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeF93:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770184710&amp;x-signature=2YYn0eY3avz9sMmeqjDWZBG3lZU%3D" alt="image.png" loading="lazy"/></p>
<p>é€‰æ‹©åˆé€‚çš„ç™»å½•æ–¹å¼å³å¯</p>
<h2 data-id="heading-3">åˆå§‹åŒ–é¡¹ç›®</h2>
<p><code>cd åˆ°å¯¹åº”é¡¹ç›®çš„æ ¹ç›®å½•æ‰§è¡Œ shorebird init</code></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9b735f43e5714549bf0c5e1539ccfa4c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeF93:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770184710&amp;x-signature=LgSqUZBWkTl600xdgxb4vkerZc4%3D" alt="image.png" loading="lazy"/></p>
<ol>
<li>ä¼šç”Ÿæˆ<code>shorebird.yaml </code>æ–‡ä»¶</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/37d853747c10484e8beb6cb971872277~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeF93:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770184710&amp;x-signature=j6ZulhMZ1wSlyG5wOjUD%2BwMaJGo%3D" alt="image.png" loading="lazy"/>
auto_update é»˜è®¤æ˜¯æ³¨é‡Šçš„ï¼Œå³é»˜è®¤ä¸ºè‡ªåŠ¨æ›´æ–°ï¼Œå¦‚æœéœ€è¦æ‰‹åŠ¨æ›´æ–°åˆ™è§£å¼€æ³¨é‡Šå³å¯</p>
<ol start="2">
<li>åœ¨<code>pubspec.yaml</code>æ–‡ä»¶<code> assets</code> ä¸­è‡ªåŠ¨å¼•å…¥
<code>- shorebird.yaml </code></li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/debc9abfbb554720aa4cb531544b9137~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeF93:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770184710&amp;x-signature=YSOZOOMfu26OeY3k5D%2BBe3h0NHQ%3D" alt="image.png" loading="lazy"/></p>
<ol start="3">
<li>åœ¨<code>pubspec.yaml</code>æ–‡ä»¶æ·»åŠ <code>shorebird_code_push: ^2.0.5</code></li>
</ol>

<pre><code class="hljs language-ini" lang="ini">åœ¨ main.dart å¦‚æœæ·»åŠ ä»¥ä¸‹ä»£ç 

import 'package:shorebird_code_push/shorebird_code_push.dart'<span class="hljs-comment">;</span>

final <span class="hljs-attr">updater</span> = ShorebirdUpdater()<span class="hljs-comment">;</span>
if (updater.isAvailable) {
  updater.checkForUpdate().then((status) {
    if (<span class="hljs-attr">status</span> == UpdateStatus.outdated) {
      updater.update()<span class="hljs-comment">;</span>
    }
  })<span class="hljs-comment">;</span>
}
</code></pre>
<p>å¦‚æœæ˜¯auto_update: false åˆ™åœ¨åˆé€‚çš„æ—¶æœºè°ƒç”¨</p>
<h2 data-id="heading-4">æ‰“åŸºå‡†åŒ…</h2>
<h4 data-id="heading-5">1. Android</h4>
<pre><code class="hljs language-css" lang="css">shorebird release android <span class="hljs-attr">--artifact</span>=apk <span class="hljs-attr">--target-platform</span>=android-arm,android-arm64 <span class="hljs-attr">--dart-define</span>=ENV_TYPE_NAME=app
</code></pre>
<ol>
<li><code>--artifact=apk</code> è¾“å‡ºçš„æ˜¯ <code>apk</code>ï¼Œå¦‚æœä¸éœ€è¦ <code>apk</code> æ ¼å¼åˆ™ä¸éœ€è¦åŠ æ­¤å‘½ä»¤</li>
<li><code>--target-platform=android-arm,android-arm64</code> ç”±äº<code>shorebird</code>é»˜è®¤æ‰“åŒ…æ˜¯<code>arm,arm64,x86</code> æ¶æ„ï¼Œå¯ä»¥æŒ‡å®šæ¶æ„</li>
<li><code>--dart-define</code> <code>flutter</code>çš„æ‰“åŒ…å‘½ä»¤å‚æ•°ä¹Ÿæ”¯æŒ</li>
</ol>
<h4 data-id="heading-6">2. iOS</h4>
<pre><code class="hljs language-arduino" lang="arduino">shorebirdÂ releaseÂ iosÂ --<span class="hljs-keyword">export</span>-options-plist=/Users<span class="hljs-comment">/**/</span>ExportOptions.plistÂ --dart-define=ENV_TYPE_NAME=app
</code></pre>
<ol>
<li><code>-export-options-plist=/Users/**/ExportOptions.plist</code> <code>ios</code>æ‰“åŒ…å¯¼å‡ºæ–‡ä»¶ï¼Œå¯ä»¥ç”¨ <code>xcode</code> æ‰“ä¸€ä¸ª <code>ipa</code> åŒ…å°±æœ‰è¿™ä¸ªæ–‡ä»¶äº†</li>
</ol>
<h2 data-id="heading-7">æ‰“æ›´æ–°åŒ…</h2>
<pre><code class="hljs language-css" lang="css">shorebird patch <span class="hljs-selector-attr">[android|ios]</span>

 åŒæ—¶æ‰“ Androidã€iOS æ›´æ–°åŒ…
</code></pre>
<h2 data-id="heading-8">åŸºå‡†åŒ…ä¸æ›´æ–°åŒ…éƒ½åœ¨<code>shorebird</code>æœåŠ¡å™¨ä¸Š</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1e480008c78a43a2a77f587728ed2fcb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeF93:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770184710&amp;x-signature=sypec99qXLEgZaktLG6nPpfzSF8%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-9">é‡åˆ°é—®é¢˜</h2>
<ol>
<li>èµ„æºçƒ­æ›´æ–°ä¸ä¼šç”Ÿæ•ˆ</li>
<li><code>native</code> ä»£ç ä¸å»ºè®®çƒ­æ›´æ–°</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è€é¡¹ç›® Vue2 å‡½æ•°å¼æ‰“å¼€å¼¹å±‚ã€é™„æºç ã€‘]]></title>    <link>https://juejin.cn/post/7600060708932141066</link>    <guid>https://juejin.cn/post/7600060708932141066</guid>    <pubDate>2026-01-28T05:59:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600060708932141066" data-draft-id="7600034446947303462" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è€é¡¹ç›® Vue2 å‡½æ•°å¼æ‰“å¼€å¼¹å±‚ã€é™„æºç ã€‘"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-28T05:59:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜å¤§å«"/> <meta itemprop="url" content="https://juejin.cn/user/1961184474695213"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è€é¡¹ç›® Vue2 å‡½æ•°å¼æ‰“å¼€å¼¹å±‚ã€é™„æºç ã€‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1961184474695213/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜å¤§å«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T05:59:24.000Z" title="Wed Jan 28 2026 05:59:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯<strong>å‰ç«¯æ¶æ„å¸ˆ</strong>ï¼Œå…³æ³¨å¾®ä¿¡å…¬ä¼—å·ã€@<strong>ç¨‹åºå‘˜å¤§å«</strong>ã€‘å…è´¹é¢†å–å‰ç«¯ç²¾å“èµ„æ–™ã€‚</p>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨è€é¡¹ç›®ï¼ˆVue2 + ElementUIï¼‰é‡Œå†™å¼¹å±‚ï¼Œå¤§å®¶ä¸€å®šå¾ˆç†Ÿæ‚‰ä¸‹é¢è¿™ç§å†™æ³•ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">dialog-test</span>
  <span class="hljs-attr">v-if</span>=<span class="hljs-string">"dialogVisible"</span>
  <span class="hljs-attr">:text</span>=<span class="hljs-string">"text"</span>
  @<span class="hljs-attr">confirm</span>=<span class="hljs-string">"handleConfirm"</span>
  @<span class="hljs-attr">close</span>=<span class="hljs-string">"dialogVisible = false"</span>
/&gt;</span>
</code></pre>
<p>é—®é¢˜æ˜¯ï¼š</p>
<ul>
<li>æ¯ä¸ªé¡µé¢éƒ½è¦å†™ä¸€å † <code>visible</code></li>
<li>å…³é—­å¼¹å±‚è¿˜å¾—æ‰‹åŠ¨é”€æ¯ç»„ä»¶</li>
<li>å¤šä¸ªå¼¹å±‚æ—¶ï¼Œä»£ç åˆè‡­åˆé•¿</li>
<li>åªæ˜¯æƒ³ <strong>â€œç‚¹ä¸ªæŒ‰é’®å¼¹ä¸ªæ¡†â€</strong>ï¼Œå´è¦æ”¹ä¸€å †æ¨¡æ¿</li>
</ul>
<p>æ‰€ä»¥æˆ‘åœ¨è€é¡¹ç›®é‡Œå°è£…äº†ä¸€ä¸ª <strong>å‡½æ•°å¼æ‰“å¼€å¼¹å±‚</strong> çš„æ–¹æ³•ï¼š</p>
<ul>
<li>ä¸ç”¨å†™ templateï¼Œä¸ç”¨å®šä¹‰å˜é‡ dialogVisible</li>
<li>ç›´æ¥ JS è°ƒç”¨</li>
<li>è‡ªåŠ¨åˆ›å»º / é”€æ¯</li>
<li>æ”¯æŒç¼“å­˜ï¼Œä¸é”€æ¯åå¤ç”¨</li>
</ul>
<h2 data-id="heading-1">æœ€ç»ˆæ•ˆæœ</h2>
<p>åƒè¿™æ ·ç›´æ¥è°ƒç”¨å³å¯ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title function_">dialogOpen</span>(
  <span class="hljs-title class_">DialogTest</span>,
  {
    <span class="hljs-attr">text</span>: <span class="hljs-string">"Hello World!"</span>,
    <span class="hljs-attr">onConfirm</span>: <span class="hljs-function">(<span class="hljs-params">text</span>) =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(text);
    },
  },
  { <span class="hljs-attr">context</span>: <span class="hljs-variable language_">this</span> },
);
</code></pre>
<p>ä¸€å¥è¯æ€»ç»“ï¼š</p>
<blockquote>
<p><strong>æŠŠâ€œå†™ç»„ä»¶â€è¿™ä»¶äº‹ï¼Œå˜æˆâ€œè°ƒå‡½æ•°â€</strong></p>
</blockquote>
<h2 data-id="heading-2">ä¸€ã€å¼¹å±‚ç»„ä»¶æœ¬èº«ï¼ˆDialogTest.vueï¼‰</h2>
<p>è¿™ä¸ªç»„ä»¶æœ¬èº«éå¸¸æ™®é€šï¼Œæ²¡æœ‰ä»»ä½•é»‘é­”æ³•ã€‚</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;el-dialog title="æç¤º" visible width="30%" @close="doClose" append-to-body&gt;
    &lt;span&gt;{{ text }}&lt;/span&gt;

    &lt;span slot="footer" class="dialog-footer"&gt;
      &lt;el-button type="primary" @click="doCancle"&gt;å–æ¶ˆ&lt;/el-button&gt;
      &lt;el-button type="primary" @click="doConfirm"&gt;ç¡® å®š&lt;/el-button&gt;
    &lt;/span&gt;
  &lt;/el-dialog&gt;
&lt;/template&gt;
</code></pre>
<h3 data-id="heading-3">å…³é”®ç‚¹è¯´æ˜</h3>
<ul>
<li><code>visible</code> ç”±å¤–éƒ¨æ§åˆ¶ï¼ˆå‡½æ•°å¼ä¼ å…¥ï¼‰</li>
<li>æ‰€æœ‰è¡Œä¸ºé€šè¿‡ <code>$emit</code> å¾€å¤–æŠ›</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-string">"DialogTest"</span>, <span class="hljs-comment">// âš ï¸ å¿…é¡»æœ‰ nameï¼Œåé¢åšç¼“å­˜ç”¨</span>
  <span class="hljs-attr">props</span>: {
    <span class="hljs-attr">text</span>: <span class="hljs-title class_">String</span>,
  },
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-title function_">doClose</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.$emit(<span class="hljs-string">"close"</span>);
    },
    <span class="hljs-title function_">doCancle</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">doClose</span>();
    },
    <span class="hljs-title function_">doConfirm</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.$emit(<span class="hljs-string">"confirm"</span>, <span class="hljs-string">"ç‚¹å‡»ç¡®è®¤æŒ‰é’®"</span>);
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">doClose</span>();
    },
  },
};
</code></pre>
<blockquote>
<p><strong>è®°ä½ä¸€å¥è¯ï¼šç»„ä»¶åªè´Ÿè´£å±•ç¤ºå’ŒæŠ›äº‹ä»¶ï¼Œä¸ç®¡æ€ä¹ˆè¢«åˆ›å»ºã€‚</strong></p>
</blockquote>
<h2 data-id="heading-4">äºŒã€æ ¸å¿ƒæ€è·¯ï¼šå‡½æ•°å¼å¼¹å±‚æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ</h2>
<p>ä¸€å¥è¯æ¦‚æ‹¬å®ç°åŸç†ï¼š</p>
<blockquote>
<p><strong>ç”¨ <code>new Vue()</code> åœ¨ JS é‡ŒåŠ¨æ€åˆ›å»ºç»„ä»¶ï¼Œå¹¶æ‰‹åŠ¨æŒ‚è½½åˆ° body ä¸Š</strong></p>
</blockquote>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬ä¸å†ä¾èµ– templateï¼Œè€Œæ˜¯ï¼š</p>
<ol>
<li>JS åˆ›å»º Vue å®ä¾‹</li>
<li>render ä¸€ä¸ª Dialog ç»„ä»¶</li>
<li>æŒ‚è½½åˆ° DOM</li>
<li>å…³é—­æ—¶é”€æ¯æˆ–éšè—</li>
</ol>
<h2 data-id="heading-5">ä¸‰ã€dialogOpen.js æ•´ä½“ç»“æ„è¯´æ˜</h2>
<p>æˆ‘ä»¬å…ˆçœ‹å‡½æ•°ç­¾åï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title function_">dialogOpen</span>(<span class="hljs-title class_">Component</span>, props = {}, options = {})
</code></pre>
<h3 data-id="heading-6">ä¸‰ä¸ªå‚æ•°åˆ†åˆ«æ˜¯ï¼š</h3>





























<table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Component</td><td>å¼¹å±‚ç»„ä»¶</td></tr><tr><td>props</td><td>ä¼ ç»™ç»„ä»¶çš„ props + äº‹ä»¶</td></tr><tr><td>options.context</td><td>å½“å‰é¡µé¢çš„ this</td></tr><tr><td>options.destroyOnClose</td><td>å…³é—­æ˜¯å¦é”€æ¯ï¼ˆé»˜è®¤ trueï¼‰</td></tr><tr><td>options.key</td><td>ç¼“å­˜ key</td></tr></tbody></table>
<h2 data-id="heading-7">å››ã€ä¸ºä»€ä¹ˆå¿…é¡»ä¼  contextï¼Ÿ</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title function_">dialogOpen</span>(<span class="hljs-title class_">DialogTest</span>, {...}, { <span class="hljs-attr">context</span>: <span class="hljs-variable language_">this</span> })
</code></pre>
<p>è¿™æ˜¯å¾ˆå¤šäººç¬¬ä¸€æ¬¡çœ‹ä¸æ‡‚çš„åœ°æ–¹ã€‚</p>
<h3 data-id="heading-8">åŸå› åªæœ‰ä¸€ä¸ªï¼š</h3>
<blockquote>
<p><strong>è®©å¼¹å±‚ç»„ä»¶ç»§æ‰¿å½“å‰é¡µé¢çš„ <code>$router</code>ã€<code>$store</code> ç­‰ä¸Šä¸‹æ–‡</strong></p>
</blockquote>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>({
  <span class="hljs-attr">parent</span>: context
})
</code></pre>
<p>å¦åˆ™ï¼š</p>
<ul>
<li><code>$router</code> å¯èƒ½æ˜¯ undefined</li>
<li><code>$store</code> ç”¨ä¸äº†</li>
<li>inject / provide å¤±æ•ˆ</li>
</ul>
<h2 data-id="heading-9">äº”ã€props å’Œäº‹ä»¶æ˜¯å¦‚ä½•åŒºåˆ†çš„ï¼Ÿ</h2>
<p>è°ƒç”¨æ—¶æˆ‘ä»¬è¿™æ ·å†™ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title function_">dialogOpen</span>(<span class="hljs-title class_">DialogTest</span>, {
  <span class="hljs-attr">text</span>: <span class="hljs-string">"Hello World"</span>,
  <span class="hljs-attr">onConfirm</span>: <span class="hljs-function">() =&gt;</span> {},
  <span class="hljs-attr">onClose</span>: <span class="hljs-function">() =&gt;</span> {}
})
</code></pre>
<p>é‚£é—®é¢˜æ¥äº†ï¼š</p>
<ul>
<li>å“ªäº›æ˜¯ propsï¼Ÿ</li>
<li>å“ªäº›æ˜¯äº‹ä»¶ï¼Ÿ</li>
</ul>
<h3 data-id="heading-10">è§£å†³æ–¹æ¡ˆï¼šç»Ÿä¸€çº¦å®š</h3>
<pre><code class="hljs language-js" lang="js">onXxx =&gt; äº‹ä»¶
å…¶å®ƒ =&gt; props
</code></pre>
<p>å¯¹åº”ä»£ç ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">splitPropsAndListeners</span> = (<span class="hljs-params">input = {}</span>) =&gt; {
  <span class="hljs-keyword">const</span> props = {};
  <span class="hljs-keyword">const</span> on = {};

  <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(input).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">key</span> =&gt;</span> {
    <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/^on[A-Z]/</span>.<span class="hljs-title function_">test</span>(key) &amp;&amp; <span class="hljs-keyword">typeof</span> input[key] === <span class="hljs-string">'function'</span>) {
      <span class="hljs-keyword">const</span> event = key.<span class="hljs-title function_">slice</span>(<span class="hljs-number">2</span>).<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/^[A-Z]/</span>, <span class="hljs-function"><span class="hljs-params">s</span> =&gt;</span> s.<span class="hljs-title function_">toLowerCase</span>());
      on[event] = input[key];
    } <span class="hljs-keyword">else</span> {
      props[key] = input[key];
    }
  });

  <span class="hljs-keyword">return</span> { props, on };
};
</code></pre>
<p>æœ€ç»ˆä¼šå˜æˆï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title function_">h</span>(<span class="hljs-title class_">Component</span>, {
  <span class="hljs-attr">props</span>: { text },
  <span class="hljs-attr">on</span>: { confirm, close }
})
</code></pre>
<h2 data-id="heading-11">å…­ã€çœŸæ­£åˆ›å»ºå¼¹å±‚çš„åœ°æ–¹ï¼ˆæ ¸å¿ƒä»£ç ï¼‰</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">let</span> wrapperVm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>({
  <span class="hljs-attr">parent</span>: context,
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">rawProps</span>: initialProps
    };
  },
  <span class="hljs-attr">computed</span>: {
    <span class="hljs-title function_">vnodeData</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> { props, on } = <span class="hljs-title function_">splitPropsAndListeners</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">rawProps</span>);
      <span class="hljs-keyword">return</span> { props, on };
    }
  },
  <span class="hljs-title function_">render</span>(<span class="hljs-params">h</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">Component</span>, {
      <span class="hljs-attr">props</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">vnodeData</span>.<span class="hljs-property">props</span>,
      <span class="hljs-attr">on</span>: {
        ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">vnodeData</span>.<span class="hljs-property">on</span>,
        <span class="hljs-attr">close</span>: <span class="hljs-function">(<span class="hljs-params">...args</span>) =&gt;</span> {
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">vnodeData</span>.<span class="hljs-property">on</span>.<span class="hljs-property">close</span>?.(...args);
          <span class="hljs-title function_">closeHandler</span>();
        }
      }
    });
  }
});
</code></pre>
<h3 data-id="heading-12">è¿™é‡Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</h3>
<ol>
<li><code>rawProps</code> ä¿å­˜æ‰€æœ‰ä¼ å…¥å‚æ•°</li>
<li><code>computed</code> åŠ¨æ€æ‹†åˆ† props / äº‹ä»¶</li>
<li><code>render</code> æ‰‹åŠ¨æ¸²æŸ“ç»„ä»¶</li>
<li>æ‹¦æˆª <code>close</code>ï¼Œç»Ÿä¸€å¤„ç†é”€æ¯é€»è¾‘</li>
</ol>
<h2 data-id="heading-13">ä¸ƒã€å¼¹å±‚æ˜¯æ€ä¹ˆæŒ‚è½½åˆ°é¡µé¢ä¸Šçš„ï¼Ÿ</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">let</span> container = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>);
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(container);
wrapperVm.$mount(container);
</code></pre>
<p>ğŸ‘‰ è¿™ä¸€æ­¥ç›¸å½“äºï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- Dialog ç»„ä»¶ --&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
</code></pre>
<h2 data-id="heading-14">å…«ã€å…³é—­æ—¶é”€æ¯ vs ä¸é”€æ¯ï¼ˆç¼“å­˜æœºåˆ¶ï¼‰</h2>
<h3 data-id="heading-15">é»˜è®¤è¡Œä¸ºï¼ˆdestroyOnClose = trueï¼‰</h3>
<pre><code class="hljs language-js" lang="js">wrapperVm.$destroy();
<span class="hljs-title function_">removeElement</span>(wrapperVm.<span class="hljs-property">$el</span>);
</code></pre>
<p><strong>å¥½å¤„ï¼š</strong></p>
<ul>
<li>ä¸å å†…å­˜</li>
<li>æœ€å®‰å…¨</li>
</ul>
<h3 data-id="heading-16">å¼€å¯ç¼“å­˜ï¼ˆdestroyOnClose = falseï¼‰</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> instanceCache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
</code></pre>
<ul>
<li>åŒä¸€ä¸ª key åªåˆ›å»ºä¸€æ¬¡</li>
<li>å…³é—­æ—¶åªæ˜¯ <code>visible = false</code></li>
<li>å†æ¬¡æ‰“å¼€ç›´æ¥å¤ç”¨</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">if</span> (!destroyOnClose &amp;&amp; instanceCache.<span class="hljs-title function_">has</span>(key)) {
  <span class="hljs-keyword">const</span> cacheWrapperVm = instanceCache.<span class="hljs-title function_">get</span>(key);
  cacheWrapperVm.<span class="hljs-title function_">updateProps</span>(initialProps);
  <span class="hljs-keyword">return</span> cacheWrapperVm.<span class="hljs-property">triggerClose</span>;
}
</code></pre>
<p>é€‚åˆï¼š</p>
<ul>
<li>è¡¨å•å¼¹å±‚</li>
<li>é¢‘ç¹æ‰“å¼€çš„å¼¹çª—</li>
</ul>
<h2 data-id="heading-17">ä¹ã€ä¸ºä»€ä¹ˆè¦ç›‘å¬é¡µé¢é”€æ¯ï¼Ÿ</h2>
<pre><code class="hljs language-js" lang="js">context.$once(<span class="hljs-string">'hook:beforeDestroy'</span>, destroy);
</code></pre>
<p>é˜²æ­¢ï¼š</p>
<ul>
<li>é¡µé¢é”€æ¯äº†</li>
<li>å¼¹å±‚è¿˜ç•™åœ¨ body</li>
<li>é€ æˆå†…å­˜æ³„æ¼</li>
</ul>
<h2 data-id="heading-18">åã€æ€»ç»“</h2>
<p>è¿™ä¸ªæ–¹æ¡ˆé€‚åˆï¼š</p>
<ul>
<li>Vue2 è€é¡¹ç›®</li>
<li>ElementUI å¼¹å±‚</li>
<li>ä¸æƒ³æ¯ä¸ªé¡µé¢éƒ½å†™ dialog</li>
</ul>
<h2 data-id="heading-19">é™„æºç </h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fzm8%2Fwechat-oa%2Ftree%2Fmain%2Fexamples%2Fvue2-dialogOpen" target="_blank" title="https://github.com/zm8/wechat-oa/tree/main/examples/vue2-dialogOpen" ref="nofollow noopener noreferrer">github.com/zm8/wechat-â€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Day37 | çº¿ç¨‹å®‰å…¨ä¸synchronized]]></title>    <link>https://juejin.cn/post/7599964577900756992</link>    <guid>https://juejin.cn/post/7599964577900756992</guid>    <pubDate>2026-01-28T05:55:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599964577900756992" data-draft-id="7599927813602279464" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Day37 | çº¿ç¨‹å®‰å…¨ä¸synchronized"/> <meta itemprop="keywords" content="åç«¯,Java,Java EE"/> <meta itemprop="datePublished" content="2026-01-28T05:55:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‡’æƒ°èœ—ç‰›"/> <meta itemprop="url" content="https://juejin.cn/user/615342556327752"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Day37 | çº¿ç¨‹å®‰å…¨ä¸synchronized
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/615342556327752/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‡’æƒ°èœ—ç‰›
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T05:55:23.000Z" title="Wed Jan 28 2026 05:55:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å‰é¢çš„æ–‡ç« é‡Œï¼Œæˆ‘ä»¬å·²ç»å­¦ä¼šäº†å¦‚ä½•åˆ›å»ºçº¿ç¨‹ï¼Œå¹¶ä¸”ä½¿ç”¨çº¿ç¨‹æ± æŠ€æœ¯ç®¡ç†ä»–ä»¬ã€‚</p>
<p>åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ï¼Œè¿˜æœ‰ä¸€ä¸ªéå¸¸å…³é”®çš„é—®é¢˜éœ€è¦æˆ‘ä»¬æ³¨æ„ï¼Œé‚£å°±æ˜¯çº¿ç¨‹å®‰å…¨çš„é—®é¢˜ã€‚</p>
<p>å½“å¤šä¸ªçº¿ç¨‹éœ€è¦è®¿é—®æˆ–ä¿®æ”¹åŒä¸€ä¸ªå…±äº«èµ„æºçš„æ—¶å€™ï¼Œå¦‚æœä¸èƒ½è§£å†³å¥½çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œå°±å¾ˆå®¹æ˜“å‡ºç°æ•°æ®é”™ä¹±ï¼Œç³»ç»Ÿå®‰å…¨ï¼Œç”šè‡³å®‰å…¨äº‹æ•…ã€‚</p>
<p>ä»Šå¤©æˆ‘ä»¬å°±ä¸€èµ·æ¥çœ‹ä¸€ä¸‹å¹¶å‘ç¼–ç¨‹ä¸­æœ€æ ¸å¿ƒçš„æŒ‘æˆ˜--çº¿ç¨‹å®‰å…¨ã€‚</p>
<p>é€šè¿‡Javaæä¾›çš„æœ€åŸºç¡€ã€æœ€é‡è¦çš„synchronizedå…³é”®å­—ï¼Œæ„Ÿå—ä¸€ä¸‹å¦‚ä½•åœ¨å¹¶å‘ç¼–ç¨‹ä¸­è§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€è€ç”Ÿå¸¸è°ˆçš„æ¡ˆä¾‹</h2>
<p>è¿™ä¸ªæ¡ˆä¾‹ä¹Ÿç®—æ˜¯ç»å…¸äº†ï¼Œæˆ‘è®°å¾—æˆ‘å­¦Javaçš„æ—¶å€™å°±æ˜¯ç”¨çš„è¿™ä¸ªæ¡ˆä¾‹ã€‚è´´è¿‘ç”Ÿæ´»ï¼Œä¹Ÿå®¹æ˜“ç†è§£ã€‚</p>
<p>å‡è®¾é“¶è¡Œè´¦æˆ·è´¦æˆ·é‡Œé¢æœ‰1000å—é’±ï¼Œæˆ‘ä»¬ç”¨ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶ä»è¿™ä¸ªè´¦æˆ·é‡Œå„å–800ï¼Œçœ‹ä¸‹ä¼šå‘ç”Ÿä»€ä¹ˆã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.lazy.snail.day37;

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@ClassName</span> BankAccount
 * <span class="hljs-doctag">@Description</span> TODO
 * <span class="hljs-doctag">@Author</span> lazysnail
 * <span class="hljs-doctag">@Date</span> 2025/7/28 11:18
 * <span class="hljs-doctag">@Version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BankAccount</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> balance;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">BankAccount</span><span class="hljs-params">(<span class="hljs-type">double</span> initialBalance)</span> {
        <span class="hljs-built_in">this</span>.balance = initialBalance;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">withdraw</span><span class="hljs-params">(<span class="hljs-type">double</span> amount)</span> {
        <span class="hljs-type">double</span> <span class="hljs-variable">currentBalance</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.balance;
        <span class="hljs-keyword">if</span> (currentBalance &gt;= amount) {
            <span class="hljs-keyword">try</span> { Thread.sleep(<span class="hljs-number">10</span>); } <span class="hljs-keyword">catch</span> (InterruptedException e) {}
            <span class="hljs-built_in">this</span>.balance = currentBalance - amount;
            System.out.println(Thread.currentThread().getName() + <span class="hljs-string">" å–æ¬¾æˆåŠŸï¼Œå½“å‰ä½™é¢: "</span> + <span class="hljs-built_in">this</span>.balance);
        } <span class="hljs-keyword">else</span> {
            System.out.println(Thread.currentThread().getName() + <span class="hljs-string">" ä½™é¢ä¸è¶³ï¼"</span>);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">double</span> <span class="hljs-title function_">getBalance</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.balance;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InterruptedException {
        <span class="hljs-type">BankAccount</span> <span class="hljs-variable">account</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BankAccount</span>(<span class="hljs-number">1000</span>);

        <span class="hljs-type">Thread</span> <span class="hljs-variable">t1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; account.withdraw(<span class="hljs-number">800</span>), <span class="hljs-string">"æŸœå°A"</span>);
        <span class="hljs-type">Thread</span> <span class="hljs-variable">t2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; account.withdraw(<span class="hljs-number">800</span>), <span class="hljs-string">"æŸœå°B"</span>);

        t1.start();
        t2.start();
        t1.join();
        t2.join();

        System.out.println(<span class="hljs-string">"---------------------------------"</span>);
        System.out.println(<span class="hljs-string">"ç¨‹åºç»“æŸï¼Œæœ€ç»ˆè´¦æˆ·ä½™é¢: "</span> + account.getBalance());
    }
}
</code></pre>
<p>å¯ä»¥å…ˆä¸æ‰§è¡Œmainæ–¹æ³•ï¼Œè‡ªå·±è„‘è·‘ä¸€ä¸‹ä»£ç ï¼Œæ€è€ƒä¸€ä¸‹ä¼šå‡ºç°å“ªäº›æƒ…å†µçš„è¾“å‡ºã€‚</p>
<p>æˆ‘ä»¬åŸæœ¬å†™è¿™æ®µä»£ç çš„ç”¨æ„æ˜¯å¸Œæœ›å…¶ä¸­ä¸€ä¸ªçº¿ç¨‹å–æ¬¾æˆåŠŸï¼Œè€Œå¦ä¸€ä¸ªå–æ¬¾å¤±è´¥ï¼Œæœ€ç»ˆçš„ä½™é¢æ˜¯200ã€‚</p>
<p>ä½†æ˜¯å®é™…ä¸Šï¼Œè¿™æ®µä»£ç ä¼šè·‘å‡ºå…¶ä»–çš„ç»“æœã€‚</p>
<p>ç»“æœä¸€</p>
<p>ç¬¬ä¸€ç§ç»“æœçš„è¿æ°”å¾ˆå¥½ï¼Œä¸¤ä¸ªçº¿ç¨‹çš„æ“ä½œå®Œå…¨ä¸²è¡ŒåŒ–ï¼Œæ²¡æœ‰å‘ç”Ÿè‡´å‘½çš„äº¤é”™ã€‚</p>
<p>åªæœ‰ä¸€ä¸ªæŸœå°æˆåŠŸå–èµ°äº†800å—ï¼Œå¦ä¸€ä¸ªæŸœå°å–æ¬¾å¤±è´¥ï¼Œæœ€ç»ˆçš„è´¦æˆ·ä½™é¢æ˜¯200å—ã€‚è¿™æ˜¯æˆ‘ä»¬å–œé—»ä¹è§çš„ç»“æœã€‚</p>
<p>ç±»ä¼¼äºä¸€ä¸ªçº¿ç¨‹ç»“æŸäº†æ•´ä¸ªæ“ä½œï¼Œå¦ä¸€ä¸ªçº¿ç¨‹æ‰å¼€å§‹å¹²æ´»ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/003f73508e31460b925509a6a4f47b16~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oeS5oOw6JyX54mb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770184527&amp;x-signature=wWW%2BpkqqjPCgS%2F8HwoLANylJ9DA%3D" alt="" loading="lazy"/></p>
<p>ç»“æœäºŒ</p>
<p>æŸœå°Aå’ŒæŸœå°Bå‡ ä¹åŒæ—¶è¯»å–åˆ°è´¦æˆ·ä½™é¢æ˜¯1000å—ã€‚ä¸¤ä¸ªçº¿ç¨‹éƒ½é€šè¿‡äº†if(currentBalance &gt;= amount)çš„åˆ¤æ–­ã€‚</p>
<p>å„è‡ªsleep(10ms) åï¼Œéƒ½æ‰§è¡Œäº†this.balance = currentBalance - amountï¼Œç„¶åè´¦æˆ·é‡Œçš„ä½™é¢è¢«ç¬¬äºŒä¸ªæ¬¡è¦†ç›–æˆäº†200ã€‚</p>
<p>è¿™ä¸ªç»“æœå°±å‡ºé—®é¢˜äº†ï¼Œä¸¤ä¸ªæŸœå°éƒ½å–å‡ºäº†800å—ï¼Œè´¦æˆ·ä½™é¢å˜æˆäº†200ã€‚æ— ä¸­ç”Ÿæœ‰ï¼Œå¤šäº§ç”Ÿäº†800å—ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/985ffbc67b6c4656b340a0de02e3b9c2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oeS5oOw6JyX54mb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770184527&amp;x-signature=t7N3ZrM8vNtyneMScs5CS2%2BYbPM%3D" alt="" loading="lazy"/></p>
<p>å¤§è‡´çš„ç”»äº†ä¸€ä¸‹ä»£ç æ‰§è¡Œçš„æ—¶åºå›¾ï¼Œæ–¹ä¾¿ç†è§£ï¼ŒT1~T8è¡¨ç¤ºçš„æ˜¯æ—¶é—´ç‚¹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e55fc93aaa1845318282cbe720591fa7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oeS5oOw6JyX54mb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770184527&amp;x-signature=ZZTYnFC40GD1QV%2B%2Fvwlf1fI0kbE%3D" alt="" loading="lazy"/></p>
<p>balance = currentBalance - amount;è¿™è¡Œä»£ç ï¼Œå…¶å®åŒ…æ‹¬äº†è¯»å–-ä¿®æ”¹-å†™å…¥ä¸‰ä¸ªæ­¥éª¤ã€‚</p>
<p>å¤šçº¿ç¨‹çš„æ‰§è¡Œç”±CPUè°ƒåº¦ï¼Œé¡ºåºæ²¡åŠæ³•é¢„æµ‹ï¼Œå½“ä¸¤ä¸ªçº¿ç¨‹çš„æ“ä½œæ­¥éª¤å‘ç”Ÿäº¤é”™çš„æ—¶å€™ï¼Œå¯èƒ½å°±ä¼šå‘ç”Ÿæˆ‘ä»¬æƒ³ä¸åˆ°çš„ç»“æœã€‚</p>
<p>è¿™é‡Œæœ‰ä¸¤ä¸ªæ¦‚å¿µéœ€è¦äº†è§£ï¼š</p>
<p>ç«æ€æ¡ä»¶ï¼šå½“å¤šä¸ªçº¿ç¨‹çš„æ‰§è¡Œé¡ºåºä¼šå½±å“åˆ°ç¨‹åºçš„æœ€ç»ˆç»“æœæ—¶ï¼Œå°±å‘ç”Ÿäº†ç«æ€æ¡ä»¶ã€‚</p>
<p>åŸå­æ€§ï¼šä¸€ä¸ªæˆ–å¤šä¸ªæ“ä½œï¼Œè¦ä¹ˆå…¨éƒ¨æ‰§è¡ŒæˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨ä¸æ‰§è¡Œï¼Œä¸­é—´ä¸èƒ½è¢«ä»»ä½•å…¶ä»–çº¿ç¨‹å¹²æ‰°ã€‚</p>
<h2 data-id="heading-1">äºŒã€è§£å†³æ–¹æ¡ˆ</h2>
<p>ä¸ºäº†è§£å†³ä¸Šè¿°æ¡ˆä¾‹ä¸­çš„é—®é¢˜ï¼ŒJavaæä¾›äº†synchronizedå…³é”®å­—ï¼Œå®ƒå¯ä»¥åˆ›å»ºä¸€ä¸ªäº’æ–¥é”ï¼Œæ¥ä¿è¯å…±äº«èµ„æºä»£ç çš„åŸå­æ€§ã€‚</p>
<p>synchronizedå¯ä»¥ç†è§£æˆç»™æ–¹æ³•æˆ–è€…ä»£ç å—è£…ä¸Šäº†ä¸€æŠŠé”ã€‚åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½æ‹¿åˆ°é’¥åŒ™å¹¶è¿›å…¥ï¼Œå…¶ä»–çº¿ç¨‹å¿…é¡»åœ¨é—¨å£æ’é˜Ÿç­‰å¾…ï¼Œç›´åˆ°é‡Œé¢çš„çº¿ç¨‹å‡ºæ¥å¹¶äº¤è¿˜é’¥åŒ™ã€‚</p>
<p>synchronizedæœ‰ä¸‰ç§ç”¨æ³•ï¼š</p>
<p>ç”¨æ³•ä¸€ï¼šä¿®é¥°å®ä¾‹æ–¹æ³•</p>
<p>æˆ‘ä»¬ç›´æ¥åœ¨ä¸Šé¢å–æ¬¾æ¡ˆä¾‹çš„ä»£ç ä¸­åŠ ä¸Šsynchronizedå…³é”®å­—ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">withdraw</span><span class="hljs-params">(<span class="hljs-type">double</span> amount)</span> {
<span class="hljs-comment">// ......</span>
}
</code></pre>
<p>è¿™ä¸ªæ“ä½œå°±æ˜¯æŠŠå½“å‰BankAccountå®ä¾‹ä½œä¸ºé”å¯¹è±¡ï¼Œåªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½åœ¨æŸä¸€æ—¶åˆ»è¿›å…¥withdrawæ–¹æ³•ã€‚</p>
<p>ä¸ç®¡æ˜¯æŸœå°Aå…ˆæ‰§è¡Œè¿˜æ˜¯æŸœå°Bå…ˆæ‰§è¡Œï¼š</p>
<p>ç¬¬ä¸€ä¸ªçº¿ç¨‹è¿›å…¥withdrawï¼Œæ£€æŸ¥balance &gt;= 800æˆç«‹ï¼Œä¼‘çœ ã€æ‰£æ¬¾ã€æ‰“å°æˆåŠŸã€‚</p>
<p>ç¬¬äºŒä¸ªçº¿ç¨‹ç­‰å¾…ï¼Œç­‰ç¬¬ä¸€ä¸ªçº¿ç¨‹é€€å‡ºåè¿›å…¥withdrawï¼Œè¿™ä¸ªæ—¶å€™balance == 200ï¼Œä¸è¶³800ï¼Œæ‰“å°ä½™é¢ä¸è¶³ã€‚</p>
<p>æ‰€ä»¥æœ€ç»ˆè¾“å‡ºä¸€å®šæ˜¯ä¸€ä¸ªæˆåŠŸï¼Œä¸€ä¸ªå¤±è´¥ï¼Œä½™é¢æ˜¯200ã€‚</p>
<p>ç»™å®ä¾‹æ–¹æ³•åŠ ä¸Šsynchronizedï¼Œç±»ä¼¼äºsynchronized(this)ï¼Œç†è§£ä¸ºç»™å½“å‰å®ä¾‹å¯¹è±¡ä¸Šäº†ä¸€æŠŠé”ã€‚</p>
<p>å¦‚æœæŠŠçº¿ç¨‹è°ƒç”¨çš„ä»£ç å†™æˆä¸‹é¢è¿™æ ·ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">Thread</span> <span class="hljs-variable">t1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">BankAccount</span>(<span class="hljs-number">1000</span>).withdraw(<span class="hljs-number">800</span>));
<span class="hljs-type">Thread</span> <span class="hljs-variable">t2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">BankAccount</span>(<span class="hljs-number">1000</span>).withdraw(<span class="hljs-number">800</span>));
</code></pre>
<p>é‚£å°±èµ·ä¸åˆ°æ•ˆæœäº†ï¼Œå› ä¸ºä¸¤ä¸ªçº¿ç¨‹è®¿é—®çš„æ˜¯ä¸åŒå¯¹è±¡ï¼Œå³ä½¿æ–¹æ³•ä¸ŠåŠ ä¸Šäº†synchronizedï¼Œä¹Ÿä¸æ˜¯åŒä¸€æŠŠé”ã€‚</p>
<p>ç”¨æ³•äºŒï¼šä¿®é¥°é™æ€æ–¹æ³•</p>
<p>å¦‚æœç”¨synchronizedæ¥ä¿®é¥°ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œå®ƒåŒæ ·ä¼šä¸ºè¿™ä¸ªæ–¹æ³•åŠ ä¸Šé”ï¼Œä½†é”çš„å¯¹è±¡è·Ÿå®ä¾‹æ–¹æ³•ä¸åŒã€‚</p>
<p>ä»–é”çš„æ˜¯å½“å‰ç±»çš„Classå¯¹è±¡ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.lazy.snail.day37;

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@ClassName</span> SynchronizedTest
 * <span class="hljs-doctag">@Description</span> TODO
 * <span class="hljs-doctag">@Author</span> lazysnail
 * <span class="hljs-doctag">@Date</span> 2025/7/28 16:18
 * <span class="hljs-doctag">@Version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SynchronizedTest</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Runnable</span> {
    <span class="hljs-keyword">static</span> <span class="hljs-type">SynchronizedTest</span> <span class="hljs-variable">instance1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SynchronizedTest</span>();
    <span class="hljs-keyword">static</span> <span class="hljs-type">SynchronizedTest</span> <span class="hljs-variable">instance2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SynchronizedTest</span>();

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> {
        syncMethod();
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">syncMethod</span><span class="hljs-params">()</span> {
        System.out.println(Thread.currentThread().getName() + <span class="hljs-string">"===begin"</span>);
        <span class="hljs-keyword">try</span> {
            Thread.sleep(<span class="hljs-number">1000</span>);
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
        }
        System.out.println(Thread.currentThread().getName() + <span class="hljs-string">"===end"</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">Thread</span> <span class="hljs-variable">t1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(instance1, <span class="hljs-string">"çº¿ç¨‹A (æŒæœ‰instance1)"</span>);
        <span class="hljs-type">Thread</span> <span class="hljs-variable">t2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(instance2, <span class="hljs-string">"çº¿ç¨‹B (æŒæœ‰instance2)"</span>);
        t1.start();
        t2.start();
    }
}
</code></pre>
<p>åœ¨staticä¿®é¥°çš„æ–¹æ³•ç­¾åä¸­åŠ ä¸Šsynchronizedå…³é”®å­—ã€‚</p>
<p>æ¡ˆä¾‹ä¸­åˆ›å»ºäº†ä¸¤ä¸ªä¸åŒçš„å®ä¾‹ï¼Œinstance1å’Œinstance2ï¼Œè®©ä¸¤ä¸ªçº¿ç¨‹åˆ†åˆ«æŒæœ‰ä¸åŒçš„å®ä¾‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3204bbcc7edb45d3a5b06247c14a0509~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oeS5oOw6JyX54mb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770184527&amp;x-signature=DWH9iM401exuk%2FzlnB8eUeywS0A%3D" alt="" loading="lazy"/></p>
<p>ä»è¾“å‡ºç»“æœæ¥çœ‹ï¼Œå³ä½¿t1å’Œt2å…³è”çš„æ˜¯ä¸åŒçš„å®ä¾‹å¯¹è±¡ï¼ˆinstance1å’Œinstance2ï¼‰ï¼Œå®ƒä»¬åœ¨è°ƒç”¨syncMethod()çš„æ—¶å€™ç«äº‰çš„æ˜¯åŒä¸€æŠŠé”ã€‚</p>
<p>è¿™æŠŠé”ä¸å±äºä»»ä½•ä¸€ä¸ªå®ä¾‹ï¼Œè€Œæ˜¯å±äºSynchronizedTestè¿™ä¸ªç±»æœ¬èº«ï¼ŒSynchronizedTest.classå¯¹è±¡ã€‚</p>
<p>ç”¨æ³•ä¸‰ï¼šä¿®é¥°ä»£ç å—</p>
<p>è¿™æ˜¯æœ€çµæ´»ã€ä¹Ÿæ˜¯æœ€æ¨èçš„ç”¨æ³•ã€‚å¯ä»¥ç²¾ç¡®åœ°æŒ‡å®šéœ€è¦åŒæ­¥çš„ä»£ç èŒƒå›´ï¼Œè¿˜èƒ½æ˜ç¡®åœ°é€‰æ‹©ç”¨å“ªä¸ªå¯¹è±¡ä½œä¸ºé”ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.lazy.snail.day37;

<span class="hljs-comment">/**
   * <span class="hljs-doctag">@ClassName</span> BankAccount2 
   * <span class="hljs-doctag">@Description</span> TODO
   * <span class="hljs-doctag">@Author</span> lazysnail
   * <span class="hljs-doctag">@Date</span> 2025/7/28 16:32
   * <span class="hljs-doctag">@Version</span> 1.0
   */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BankAccount2</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> balance;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Object</span> <span class="hljs-variable">lock</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>();

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">withdraw</span><span class="hljs-params">(<span class="hljs-type">double</span> amount)</span> {
        <span class="hljs-keyword">synchronized</span> (lock) {
            <span class="hljs-keyword">if</span> (balance &gt;= amount) {
                balance -= amount;
            }
        }
    }
}
</code></pre>
<p>ç¤ºä¾‹ä»£ç ä¸­åˆ›å»ºäº†ä¸€ä¸ªç§æœ‰çš„ã€finalçš„å¯¹è±¡ä½œä¸ºé”ã€‚</p>
<p>ä»»ä½•çº¿ç¨‹åªæœ‰æ‹¿åˆ°è¿™ä¸ªå¯¹è±¡çš„é”ï¼Œæ‰èƒ½è¿›å…¥åˆ°synchronizedä»£ç å—ä¸­ã€‚å¦åˆ™å°±åªèƒ½åœ¨å¤–é¢ç­‰ç€ã€‚</p>
<p>è¿™ç§é”åªé”å®šçœŸæ­£éœ€è¦ä¿æŠ¤çš„ä»£ç ï¼Œè€Œä¸æ˜¯æ•´ä¸ªæ–¹æ³•ã€‚å‡å°äº†é”çš„ç²’åº¦ã€‚å¯ä»¥æé«˜ä»£ç çš„å¹¶å‘æ€§èƒ½ã€‚</p>
<p>å› ä¸ºé™¤äº†éœ€è¦æ“ä½œä¸´ç•ŒåŒºèµ„æºçš„ä»£ç è¢«é”ä½ï¼Œå…¶ä»–çº¿ç¨‹å®Œå…¨å¯ä»¥è·‘æ–¹æ³•ä¸­ä¸´ç•ŒåŒºä»¥å¤–çš„ä»£ç ã€‚</p>
<p>è€Œä¸æ˜¯å¤§å®¶éƒ½è¢«æ‹¦åœ¨æ–¹æ³•å¤–é¢ã€‚</p>
<h2 data-id="heading-2">ä¸‰ã€synchronizedçš„ä¼˜åŒ–</h2>
<p>åœ¨Java1.6ä¹‹å‰ï¼Œsynchronizedæ˜¯é‡é‡çº§çš„é”ï¼Œæ¯ä¸ªé”éƒ½ç›´æ¥å…³è”åˆ°é‡é‡çº§æ“ä½œç³»ç»Ÿäº’æ–¥é‡ã€‚</p>
<p>çº¿ç¨‹é˜»å¡å’Œå”¤é†’éƒ½æ¶‰åŠç³»ç»Ÿè°ƒç”¨ï¼Œå¼€é”€å¾ˆå¤§ã€‚</p>
<p>ç‰¹åˆ«æ˜¯åœ¨Java1.5ä¸­å¼•å…¥äº†ReentrantLockç­‰Lockæ¥å£çš„å¹¶å‘å·¥å…·ç±»ï¼Œè®©ç”¨æˆ·å¯ä»¥ç²¾ç»†æ§åˆ¶é”è¡Œä¸ºã€‚</p>
<p>é‚£ä¸ªæ—¶æœŸï¼Œsynchronizedä¸€è‡´è¢«è®¤ä¸ºåˆç²—åˆç¬¨åˆæ…¢ã€‚å®Œå…¨è¢«ReentrantLockç¢¾å‹ã€‚</p>
<p>é‚£æ—¶å€™å¤§å®¶éƒ½å»ºè®®ä¸è¦ä½¿ç”¨synchronizedã€‚</p>
<p>åæ¥Java1.6ä¸­ï¼Œå®Œæˆäº†å¯¹synchronizedçš„å¤§æ”¹è¿›ï¼š</p>
<p>æ‰€æœ‰é”ä¼˜åŒ–çš„ä¿¡æ¯ï¼ˆé”çŠ¶æ€ã€æŒæœ‰é”çš„çº¿ç¨‹IDç­‰ï¼‰éƒ½å­˜å‚¨åœ¨Javaå¯¹è±¡çš„å¯¹è±¡å¤´ä¸­çš„ä¸€ä¸ªå«Mark Wordçš„åŒºåŸŸé‡Œã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d374893eac13488e9747b427e27da912~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oeS5oOw6JyX54mb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770184527&amp;x-signature=e3Pt40QDO0VwfxHf6nJHJOfOur4%3D" alt="" loading="lazy"/></p>
<p>ä¸‹é¢å¤§è‡´çš„æè¿°æ— é” -&gt; åå‘é” -&gt; è½»é‡çº§é” -&gt; é‡é‡çº§é”çš„è·¯å¾„ï¼š</p>
<p>æ— é”ï¼š</p>
<p>ä¸€ä¸ªå¯¹è±¡åˆšè¢«åˆ›å»ºæ—¶å€™ï¼Œä¸åŒ…å«ä»»ä½•é”ä¿¡æ¯ã€‚è¿™ä¸ªæ—¶å€™å®ƒçš„Mark Wordé‡Œå­˜å‚¨çš„æ˜¯å¯¹è±¡çš„å“ˆå¸Œç ã€GCåˆ†ä»£å¹´é¾„ç­‰ã€‚</p>
<p>åå‘é”ï¼š</p>
<p>ä¸»è¦æ˜¯ä¸ºäº†ä¼˜åŒ–åŒä¸€ä¸ªçº¿ç¨‹å¤šæ¬¡è·å–åŒä¸€ä¸ªé”çš„åœºæ™¯ï¼Œæ¶ˆé™¤ä¸å¿…è¦çš„åŒæ­¥å¼€é”€ã€‚å½“çº¿ç¨‹Aç¬¬ä¸€æ¬¡è·å–é”æ—¶ï¼ŒJVMä¼šä½¿ç”¨CASæ“ä½œæŠŠè¯¥çº¿ç¨‹çš„IDè®°å½•åœ¨å¯¹è±¡çš„Mark Wordé‡Œï¼Œå¹¶å°†é”çŠ¶æ€æ ‡è®°æˆåå‘é”ã€‚</p>
<p>å½“çº¿ç¨‹Aå†æ¬¡å°è¯•è·å–è¿™ä¸ªé”çš„æ—¶å€™ï¼Œä»–åªéœ€è¦æ£€æŸ¥Mark Wordé‡Œçš„çº¿ç¨‹IDæ˜¯ä¸æ˜¯è‡ªå·±ï¼Œå¦‚æœæ˜¯ï¼Œå°±ä¸éœ€è¦ä»»ä½•åŒæ­¥æ“ä½œï¼ˆæ— éœ€CASï¼‰å°±å¯ä»¥ç›´æ¥è·å–é”äº†ï¼Œæé«˜äº†æ•ˆç‡ã€‚</p>
<p>å¦‚æœæœ‰å¦ä¸€ä¸ªçº¿ç¨‹Bå°è¯•è·å–è¿™ä¸ªå·²ç»è¢«åå‘çš„é”ï¼Œåå‘æ¨¡å¼å°±ç»“æŸäº†ã€‚JVMä¼šæ’¤é”€åå‘é”ï¼ŒæŠŠé”å‡çº§æˆè½»é‡çº§é”ã€‚å½“ç„¶æ’¤é”€åå‘é”æœ¬èº«è‚¯å®šä¹Ÿæ˜¯æœ‰ä¸€ç‚¹å¼€é”€çš„ã€‚</p>
<p>è½»é‡çº§é”ï¼š</p>
<p>è½»é‡çº§é”çš„ç›®çš„ä¸»è¦æ˜¯å½“ç³»ç»Ÿä¸­å­˜åœ¨å°‘é‡ã€çŸ­æ—¶é—´çš„çº¿ç¨‹ç«äº‰æ—¶ï¼Œé¿å…è®©çº¿ç¨‹è¿›å…¥é˜»å¡çŠ¶æ€ã€‚å› ä¸ºçº¿ç¨‹é˜»å¡å’Œå”¤é†’çš„å¼€é”€å¾ˆå¤§ã€‚</p>
<p>çº¿ç¨‹åœ¨è‡ªå·±çš„çº¿ç¨‹æ ˆé‡Œåˆ›å»ºä¸€ä¸ªåå«é”è®°å½•çš„ç©ºé—´ã€‚ä½¿ç”¨CASæ“ä½œï¼Œå°è¯•æŠŠå¯¹è±¡çš„Mark Wordæ›´æ–°æˆæŒ‡å‘è¿™ä¸ªé”è®°å½•çš„æŒ‡é’ˆã€‚</p>
<p>å¦‚æœæ›´æ–°æˆåŠŸï¼Œè¿™ä¸ªçº¿ç¨‹å°±è·å–äº†é”ã€‚å¦‚æœæ›´æ–°å¤±è´¥ï¼Œè¯´æ˜å­˜åœ¨ç«äº‰ã€‚è¿™ä¸ªçº¿ç¨‹ä¸ä¼šç«‹é©¬æŒ‚èµ·ï¼Œè€Œæ˜¯ä¼šè¿›è¡Œè‡ªæ—‹â€”â€”æ‰§è¡Œä¸€ä¸ªç©ºçš„å¾ªç¯ï¼ŒçŸ­æš‚åœ°ç­‰å¾…é”è¢«é‡Šæ”¾ï¼Œå¹¶è¿™æ®µæ—¶é—´ä¸æ–­å°è¯•CASè·å–é”ã€‚</p>
<p>JVMä¼šæ ¹æ®ä¸Šæ¬¡è‡ªæ—‹çš„æˆåŠŸç‡å’Œé”çš„æŒæœ‰è€…çŠ¶æ€ï¼Œæ¥åŠ¨æ€å†³å®šè‡ªæ—‹çš„æ¬¡æ•°ï¼Œè€Œä¸æ˜¯å›ºå®šæ¬¡æ•°ã€‚</p>
<p>å¦‚æœè‡ªæ—‹è¶…è¿‡äº†ä¸€å®šçš„æ¬¡æ•°ï¼Œæˆ–è€…æœ‰å…¶ä»–çº¿ç¨‹ä¹Ÿåœ¨è‡ªæ—‹ç­‰å¾…ï¼ŒJVMå°±ä¼šè®¤ä¸ºç«äº‰æ¯”è¾ƒæ¿€çƒˆï¼Œä»è€ŒæŠŠè½»é‡çº§é”å‡çº§æˆé‡é‡çº§é”ã€‚</p>
<p>é‡é‡çº§é” ï¼š</p>
<p>é‡é‡çº§é”å°±æ˜¯æœ€ä¼ ç»Ÿçš„å®ç°æ–¹å¼ã€‚å®ƒä¾èµ–äºæ“ä½œç³»ç»Ÿçš„äº’æ–¥é‡æ¥å®ç°ã€‚</p>
<p>å½“çº¿ç¨‹è·å–é”å¤±è´¥åï¼Œä»–å°±ä¼šè¢«æŒ‚èµ·ï¼ˆé˜»å¡ï¼‰ï¼Œè¿›å…¥ç­‰å¾…é˜Ÿåˆ—ï¼Œå¹¶æ”¾å¼ƒCPUã€‚ç›´åˆ°é”è¢«é‡Šæ”¾åï¼Œå®ƒæ‰ä¼šè¢«æ“ä½œç³»ç»Ÿå”¤é†’å¹¶é‡æ–°å‚ä¸ç«äº‰ã€‚</p>
<p>è™½ç„¶é‡é‡çº§é”ä¸ä¼šåƒè‡ªæ—‹é‚£æ ·æ¶ˆè€—CPUï¼Œä½†æ˜¯çº¿ç¨‹çš„é˜»å¡å’Œå”¤é†’éƒ½æ¶‰åŠç”¨æˆ·æ€å’Œå†…æ ¸æ€çš„åˆ‡æ¢ï¼Œæ˜¯ç³»ç»Ÿè°ƒç”¨ï¼Œå¼€é”€å¾ˆå¤§ã€‚</p>
<h2 data-id="heading-3">å››ã€synchronizedåœ¨JDKä¸­çš„åº”ç”¨</h2>
<p>synchronizedåœ¨JDKæºç ä¸­æœ‰å¾ˆå¤šçš„åº”ç”¨ï¼Œä¸‹é¢æ‰¾ä¸¤ä¸ªæ¯”è¾ƒå…¸å‹çš„çœ‹ä¸€ä¸‹ã€‚</p>
<p>StringBufferå’ŒStringBuilder</p>
<p>StringBufferå’ŒStringBuilderæ˜¯æ—©æœŸçš„é«˜é¢‘é¢è¯•é¢˜ä¸­å¿…é—®çš„ã€‚</p>
<p>StringBufferæ˜¯JDK1.0çš„ç±»ï¼Œåœ¨è®¾è®¡çš„æ—¶å€™å°±è€ƒè™‘äº†å¤šçº¿ç¨‹å®‰å…¨ã€‚</p>
<p>è€ŒStringBuilderæ˜¯JDK1.5å¼•å…¥çš„ï¼ŒAPIè·ŸStringBufferå®Œå…¨å…¼å®¹ï¼Œåªæ˜¯å»æ‰äº†çº¿ç¨‹å®‰å…¨ä¿éšœæ¥æ¢å–æ›´é«˜çš„æ€§èƒ½ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/409aa51a168045afa557570fdd06e3a8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oeS5oOw6JyX54mb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770184527&amp;x-signature=r8t0uxmL4uJdeZhwqq0a25R4cSU%3D" alt="" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ï¼ŒStringBufferçš„appendæ–¹æ³•è¢«synchronizedå…³é”®å­—ä¿®é¥°ã€‚</p>
<p>è¿™æ„å‘³ç€æ¯æ¬¡è°ƒç”¨appendæ—¶ï¼Œå½“å‰StringBufferå®ä¾‹ï¼ˆthisï¼‰éƒ½ä¼šè¢«é”å®šã€‚</p>
<p>è¿™å°±ä¿è¯äº†åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œå­—ç¬¦ä¸²æ‹¼æ¥æ“ä½œä¸ä¼šè¢«æ‰“æ–­ï¼Œæ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚</p>
<p>StringBuilderä¸­å®Œå…¨æ²¡æœ‰synchronizedå…³é”®å­—ã€‚</p>
<p>ä»»ä½•çº¿ç¨‹éƒ½å¯ä»¥éšæ—¶è°ƒç”¨ï¼Œæ²¡æœ‰åŠ é”å’Œè§£é”çš„å¼€é”€ã€‚</p>
<p>è¿™å°±è®©å®ƒåœ¨å•çº¿ç¨‹ç¯å¢ƒä¸‹é€Ÿåº¦æ›´å¿«ï¼Œä½†å¦‚æœå¤šä¸ªçº¿ç¨‹å…±äº«åŒä¸€ä¸ªStringBuilderå®ä¾‹å¹¶åŒæ—¶ä¿®æ”¹ï¼Œå°±ä¼šå¯¼è‡´æ•°æ®é”™ä¹±ï¼Œæ˜¯éçº¿ç¨‹å®‰å…¨çš„ã€‚</p>
<p>Vectorå’ŒArrayList</p>
<p>Vectoræ˜¯æ—©æœŸçº¿ç¨‹å®‰å…¨çš„åŠ¨æ€æ•°ç»„å®ç°ï¼Œæ‰€æœ‰æ–¹æ³•éƒ½ç”¨synchronizedã€‚ä¹Ÿæ˜¯JDK1.0å¼€å§‹å°±æœ‰çš„ã€‚</p>
<p>ArrayListæ˜¯JDK1.2æ–°å¢çš„ï¼Œæ˜¯ä½œä¸ºVectorçš„éåŒæ­¥æ›¿ä»£å“ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b5d8a8409a83402ca87d5284925fe878~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oeS5oOw6JyX54mb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770184527&amp;x-signature=irBhsmROgJjUgl3yjr8QY%2BIUan0%3D" alt="" loading="lazy"/></p>
<p>Vectorä¸­çš„æ–¹æ³•è¢«synchronizedä¿®é¥°ï¼Œé”ä½çš„æ˜¯Vectorå®ä¾‹ã€‚</p>
<p>è™½ç„¶ä¿è¯äº†çº¿ç¨‹å®‰å…¨ï¼Œä½†ä¹Ÿæ„å‘³ç€æ¯æ¬¡åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½æ“ä½œè¿™ä¸ªVectorï¼Œå¹¶å‘æ€§èƒ½æå·®ã€‚</p>
<blockquote>
<p>Vectorå·²ç»åŸºæœ¬ä¸Šè¢«è§†ä¸ºé—ç•™ç±»äº† ï¼Œå¼€å‘è¿‡ç¨‹ä¸­åŸºæœ¬ä¸ä¼šç”¨åˆ°ï¼Œä¹Ÿä¸å»ºè®®ä½¿ç”¨ã€‚åœ¨éœ€è¦çº¿ç¨‹å®‰å…¨çš„Listçš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨Collectionså·¥å…·ç±»æ¥åŒ…è£…ä¸€ä¸ªArrayListã€‚ List list = new ArrayList&lt;&gt;(); List safeList = Collections.synchronizedList(list);</p>
</blockquote>
<h2 data-id="heading-4">ç»“è¯­</h2>
<p>æœ¬æ–‡ä¸­æåˆ°äº†å„ç§é”ã€è¿˜æœ‰å¯¹è±¡å¤´ã€Mark Wordã€CASç­‰å„ç§æ¦‚å¿µæˆ–è€…æŠ€æœ¯æœ¯è¯­ã€‚</p>
<p>ä¹çœ‹è®©äººæ™•å¤´è½¬å‘ï¼Œå¯¹äºæ— æ³•ç†è§£æˆ–è€…æ²¡æœ‰æ¥è§¦è¿‡çš„å¯ä»¥æš‚æ—¶è·³è¿‡ã€‚</p>
<p>ä¸»è¦æŒæ¡ä»€ä¹ˆæƒ…å†µä¸‹ä¼šå¼•å‘çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œä»¥åŠsynchronizedçš„å‡ ç§ç”¨æ³•ã€‚</p>
<p>å¯¹äºsynchronizedçš„åŸç†å’Œå®ç°ï¼Œä»¥åŠå…¶ä»–çš„æ¦‚å¿µï¼Œå°†åœ¨åç»­çš„æ–‡ç« ä¸­æåŠï¼ˆæˆ–è€…å¦å¤–çš„ç³»åˆ—è¯¦ç»†è®²ï¼‰ã€‚</p>
<p><strong>ä¸‹ä¸€ç¯‡é¢„å‘Š</strong></p>
<blockquote>
<p>Day38 | Javaä¸­æ›´çµæ´»çš„é”ReentrantLock</p>
</blockquote>
<p>å¦‚æœä½ è§‰å¾—è¿™ç³»åˆ—æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿å…³æ³¨ä¸“æ ï¼Œæˆ‘ä»¬ä¸€èµ·åšæŒä¸‹å»ï¼</p>
<p><strong>æ›´å¤šæ–‡ç« è¯·å…³æ³¨æˆ‘çš„å…¬ä¼—å·ã€Šæ‡’æƒ°èœ—ç‰›å·¥åŠã€‹</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¾èµ–æ³¨å…¥ï¼šæ„å»ºå¯æµ‹è¯•çš„Pythonåº”ç”¨æ¶æ„]]></title>    <link>https://juejin.cn/post/7599951933594730506</link>    <guid>https://juejin.cn/post/7599951933594730506</guid>    <pubDate>2026-01-28T05:59:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599951933594730506" data-draft-id="7600034446947287078" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¾èµ–æ³¨å…¥ï¼šæ„å»ºå¯æµ‹è¯•çš„Pythonåº”ç”¨æ¶æ„"/> <meta itemprop="keywords" content="åç«¯,Python"/> <meta itemprop="datePublished" content="2026-01-28T05:59:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Javaæ°´è§£"/> <meta itemprop="url" content="https://juejin.cn/user/2441349519143037"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¾èµ–æ³¨å…¥ï¼šæ„å»ºå¯æµ‹è¯•çš„Pythonåº”ç”¨æ¶æ„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2441349519143037/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Javaæ°´è§£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T05:59:41.000Z" title="Wed Jan 28 2026 05:59:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">æ‘˜è¦</h3>
<blockquote>
<p>æœ¬æ–‡æ·±å…¥æ¢è®¨ä¾èµ–æ³¨å…¥åœ¨Pythonä¸­çš„åº”ç”¨ï¼Œèšç„¦<strong>ä¾èµ–åè½¬åŸåˆ™</strong>å’Œ<strong>æœåŠ¡å®¹å™¨</strong>ä¸¤å¤§æ ¸å¿ƒæ¦‚å¿µï¼Œé‡ç‚¹åˆ†æFastAPIä¾èµ–ç³»ç»Ÿçš„å®ç°æœºåˆ¶ã€‚é€šè¿‡æ¶æ„æµç¨‹å›¾ã€å®Œæ•´å¯è¿è¡Œä»£ç ç¤ºä¾‹å’Œä¼ä¸šçº§å®æˆ˜æ¡ˆä¾‹ï¼Œæ­ç¤ºå¦‚ä½•æ„å»ºæ¾è€¦åˆã€å¯æµ‹è¯•çš„åº”ç”¨æ¶æ„ã€‚æ–‡ç« åŒ…å«æ€§èƒ½ä¼˜åŒ–æŠ€å·§ã€æ•…éšœæ’æŸ¥æŒ‡å—ä»¥åŠä¾èµ–æ³¨å…¥åœ¨æµ‹è¯•ä¸­çš„å…·ä½“åº”ç”¨ï¼Œä¸ºPythonå¼€å‘è€…æä¾›ä»ç†è®ºåˆ°å®è·µçš„å®Œæ•´è§£å†³æ–¹æ¡ˆã€‚</p>
</blockquote>
<h3 data-id="heading-1"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>1 ä¾èµ–æ³¨å…¥ï¼šä¸ºä»€ä¹ˆæ˜¯ç°ä»£Pythonå¼€å‘çš„å¿…å¤‡æŠ€èƒ½</h3>
<p>ä¾èµ–æ³¨å…¥æ˜¯<strong>ä»£ç è´¨é‡çš„åˆ†æ°´å²­</strong>ã€‚è®°å¾—æ›¾ç»ç»´æŠ¤ä¸€ä¸ªå¤§å‹Djangoé¡¹ç›®ï¼Œä¸šåŠ¡é€»è¾‘ä¸æ•°æ®åº“è¿æ¥ã€ç¬¬ä¸‰æ–¹æœåŠ¡ç´§å¯†è€¦åˆï¼Œå•å…ƒæµ‹è¯•è¦†ç›–ç‡ä¸è¶³20%ã€‚å¼•å…¥ä¾èµ–æ³¨å…¥åï¼Œæµ‹è¯•è¦†ç›–ç‡æå‡åˆ°85%ä»¥ä¸Šï¼Œä»£ç çš„å¯ç»´æŠ¤æ€§æ˜¾è‘—æ”¹å–„ã€‚</p>
<h4 data-id="heading-2"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>1.1 ä¼ ç»Ÿå¼€å‘æ¨¡å¼çš„ç—›ç‚¹</h4>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-comment"># åä¾‹ï¼šç´§è€¦åˆçš„ä»£ç </span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span></span>):
        <span class="hljs-variable language_">self</span>.db = <span class="hljs-title class_">MySQLConnection</span>()  <span class="hljs-comment"># ç›´æ¥ä¾èµ–å…·ä½“å®ç°</span>
        <span class="hljs-variable language_">self</span>.email_sender = <span class="hljs-title class_">SMTPEmailSender</span>()
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">register_user</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span>, user_data</span>):
        <span class="hljs-comment"># ä¸šåŠ¡é€»è¾‘ä¸åŸºç¡€è®¾æ–½è€¦åˆ</span>
        user = <span class="hljs-title class_">User</span>(**user_data)
        <span class="hljs-variable language_">self</span>.db.save(user)
        <span class="hljs-variable language_">self</span>.email_sender.send_welcome_email(user.email)
        <span class="hljs-keyword">return</span> user
<span class="hljs-variable constant_">AI</span>å†™ä»£ç python
è¿è¡Œ
</code></pre>
<p>è¿™ç§ä¼ ç»Ÿæ¨¡å¼çš„é—®é¢˜ï¼š</p>
<ul>
<li><strong>éš¾ä»¥æµ‹è¯•</strong>ï¼šæ— æ³•éš”ç¦»æµ‹è¯•ä¸šåŠ¡é€»è¾‘</li>
<li><strong>ç´§è€¦åˆ</strong>ï¼šæ›´æ¢æ•°æ®åº“æˆ–é‚®ä»¶æœåŠ¡éœ€è¦ä¿®æ”¹ä¸šåŠ¡ä»£ç </li>
<li><strong>èŒè´£ä¸æ¸…</strong>ï¼šä¸€ä¸ªç±»æ‰¿æ‹…è¿‡å¤šèŒè´£</li>
</ul>
<h4 data-id="heading-3"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>1.2 ä¾èµ–æ³¨å…¥çš„æ ¸å¿ƒä»·å€¼</h4>
<p>ä¾èµ–æ³¨å…¥é€šè¿‡<strong>æ§åˆ¶åè½¬</strong>å°†ä¾èµ–å…³ç³»çš„åˆ›å»ºä¸ç®¡ç†å¤–éƒ¨åŒ–ï¼Œå¸¦æ¥ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7bd7076bf2074c7097485a4b1f40a778~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770184782&amp;x-signature=IFEvEwDzXLdhTQnZzBTCyNdsivI%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-4"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>2 ä¾èµ–æ³¨å…¥æ ¸å¿ƒåŸç†æ·±åº¦è§£æ</h3>
<h4 data-id="heading-5"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>2.1 ä¾èµ–åè½¬åŸåˆ™ï¼šé¢å‘æŠ½è±¡ç¼–ç¨‹</h4>
<p>ä¾èµ–åè½¬åŸåˆ™æ˜¯SOLIDåŸåˆ™ä¸­çš„"D"ï¼Œå®ƒè¦æ±‚ï¼š</p>
<ol>
<li>é«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–ä½å±‚æ¨¡å—ï¼Œä¸¤è€…éƒ½åº”è¯¥ä¾èµ–æŠ½è±¡</li>
<li>æŠ½è±¡ä¸åº”è¯¥ä¾èµ–ç»†èŠ‚ï¼Œç»†èŠ‚åº”è¯¥ä¾èµ–æŠ½è±¡</li>
</ol>

<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> abc <span class="hljs-keyword">import</span> ABC, abstractmethod
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">List</span>
 
<span class="hljs-comment"># å®šä¹‰æŠ½è±¡æ¥å£</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserRepository</span>(<span class="hljs-title class_ inherited__">ABC</span>):
    <span class="hljs-string">"""ç”¨æˆ·ä»“å‚¨æŠ½è±¡"""</span>
    
<span class="hljs-meta">    @abstractmethod</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">save</span>(<span class="hljs-params">self, user: User</span>) -&gt; <span class="hljs-literal">None</span>:
        <span class="hljs-keyword">pass</span>
    
<span class="hljs-meta">    @abstractmethod</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">find_by_id</span>(<span class="hljs-params">self, user_id: <span class="hljs-built_in">int</span></span>) -&gt; User:
        <span class="hljs-keyword">pass</span>
    
<span class="hljs-meta">    @abstractmethod</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">find_by_email</span>(<span class="hljs-params">self, email: <span class="hljs-built_in">str</span></span>) -&gt; User:
        <span class="hljs-keyword">pass</span>
 
<span class="hljs-keyword">class</span> <span class="hljs-title class_">EmailSender</span>(<span class="hljs-title class_ inherited__">ABC</span>):
    <span class="hljs-string">"""é‚®ä»¶å‘é€å™¨æŠ½è±¡"""</span>
    
<span class="hljs-meta">    @abstractmethod</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">send_welcome_email</span>(<span class="hljs-params">self, email: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">bool</span>:
        <span class="hljs-keyword">pass</span>
 
<span class="hljs-comment"># é«˜å±‚ä¸šåŠ¡æ¨¡å—ä¾èµ–æŠ½è±¡</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span>:
    <span class="hljs-string">"""ç”¨æˆ·æœåŠ¡ - ä¾èµ–æŠ½è±¡è€Œéå…·ä½“å®ç°"""</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, user_repo: UserRepository, email_sender: EmailSender</span>):
        self.user_repo = user_repo
        self.email_sender = email_sender
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">register_user</span>(<span class="hljs-params">self, user_data: <span class="hljs-built_in">dict</span></span>) -&gt; User:
        <span class="hljs-comment"># çº¯ä¸šåŠ¡é€»è¾‘ï¼Œä¸æ¶‰åŠå…·ä½“æŠ€æœ¯å®ç°</span>
        <span class="hljs-keyword">if</span> self.user_repo.find_by_email(user_data[<span class="hljs-string">'email'</span>]):
            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">"ç”¨æˆ·å·²å­˜åœ¨"</span>)
        
        user = User(**user_data)
        self.user_repo.save(user)
        self.email_sender.send_welcome_email(user.email)
        
        <span class="hljs-keyword">return</span> user
AIå†™ä»£ç python
è¿è¡Œ
</code></pre>
<h4 data-id="heading-6"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>2.2Â [ä¾èµ–æ³¨å…¥çš„ä¸‰ç§æ–¹å¼]</h4>
<p>æ ¹æ®å®é™…é¡¹ç›®ç»éªŒï¼Œä¸åŒåœºæ™¯é€‚åˆä¸åŒçš„æ³¨å…¥æ–¹å¼ï¼š</p>
<p><strong>æ„é€ å‡½æ•°æ³¨å…¥</strong>ï¼šæœ€æ¨èçš„æ–¹å¼ï¼Œæ˜ç¡®å£°æ˜å¿…éœ€ä¾èµ–</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span>:
    <span class="hljs-string">"""æ„é€ å‡½æ•°æ³¨å…¥ - ä¾èµ–æ˜ç¡®"""</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, repository: UserRepository, notifier: EmailSender</span>):
        self.repository = repository
        self.notifier = notifier
        <span class="hljs-comment"># ä¾èµ–åœ¨åˆ›å»ºæ—¶å³ç¡®å®šï¼Œä¿è¯äº†å®Œæ•´æ€§</span>
AIå†™ä»£ç python
è¿è¡Œ
</code></pre>
<p><strong>æ–¹æ³•æ³¨å…¥</strong>ï¼šé€‚åˆå¯é€‰ä¾èµ–æˆ–ä¸´æ—¶ä¾èµ–</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ReportGenerator</span>:
    <span class="hljs-string">"""æ–¹æ³•æ³¨å…¥ - å¯é€‰ä¾èµ–"""</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">generate_report</span>(<span class="hljs-params">self, data: <span class="hljs-type">List</span>, formatter: <span class="hljs-type">Optional</span>[Formatter] = <span class="hljs-literal">None</span></span>):
        <span class="hljs-keyword">if</span> formatter <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
            formatter = DefaultFormatter()
        <span class="hljs-keyword">return</span> formatter.<span class="hljs-built_in">format</span>(data)
AIå†™ä»£ç python
è¿è¡Œ
</code></pre>
<p><strong>å±æ€§æ³¨å…¥</strong>ï¼šè°¨æ…ä½¿ç”¨ï¼Œé€‚åˆæœ‰é»˜è®¤å®ç°çš„ä¾èµ–</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Application</span>:
    <span class="hljs-string">"""å±æ€§æ³¨å…¥ - æœ‰é»˜è®¤å€¼çš„ä¾èµ–"""</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        self._logger = DefaultLogger()  <span class="hljs-comment"># é»˜è®¤å®ç°</span>
    
<span class="hljs-meta">    @property</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">logger</span>(<span class="hljs-params">self</span>):
        <span class="hljs-keyword">return</span> self._logger
    
<span class="hljs-meta">    @logger.setter</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">logger</span>(<span class="hljs-params">self, logger_instance</span>):
        self._logger = logger_instance
AIå†™ä»£ç python
è¿è¡Œ
</code></pre>
<h4 data-id="heading-7"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>2.3 æœåŠ¡å®¹å™¨ï¼šä¾èµ–ç®¡ç†çš„æ ¸å¿ƒå¼•æ“</h4>
<p>æœåŠ¡å®¹å™¨æ˜¯ä¾èµ–æ³¨å…¥æ¨¡å¼çš„<strong>å¤§è„‘</strong>ï¼Œè´Ÿè´£ç®¡ç†ä¾èµ–çš„ç”Ÿå‘½å‘¨æœŸå’Œè§£æå…³ç³»ã€‚ä¸‹é¢æ˜¯æœåŠ¡å®¹å™¨çš„æ ¸å¿ƒæ¶æ„ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ba469639bc44afe82ea927ef8f21430~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770184782&amp;x-signature=Dqbcu05xtL%2Bk1gzTUNPKELiTeHk%3D" alt="" loading="lazy"/></p>
<p>Pythonä¸­å®ç°ä¸€ä¸ªåŸºç¡€æœåŠ¡å®¹å™¨ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Type</span>, TypeVar, <span class="hljs-type">Dict</span>, <span class="hljs-type">Any</span>, <span class="hljs-type">Callable</span>
<span class="hljs-keyword">from</span> threading <span class="hljs-keyword">import</span> Lock
 
T = TypeVar(<span class="hljs-string">'T'</span>)
 
<span class="hljs-keyword">class</span> <span class="hljs-title class_">DIContainer</span>:
    <span class="hljs-string">"""ç®€å•çš„ä¾èµ–æ³¨å…¥å®¹å™¨"""</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        self._registrations: <span class="hljs-type">Dict</span>[<span class="hljs-type">Type</span>, <span class="hljs-type">Callable</span>] = {}
        self._instances: <span class="hljs-type">Dict</span>[<span class="hljs-type">Type</span>, <span class="hljs-type">Any</span>] = {}
        self._lock = Lock()
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">register</span>(<span class="hljs-params">self, abstract: <span class="hljs-type">Type</span>, implementation: <span class="hljs-type">Callable</span>, singleton: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">False</span></span>):
        <span class="hljs-string">"""æ³¨å†Œä¾èµ–å…³ç³»"""</span>
        <span class="hljs-keyword">with</span> self._lock:
            self._registrations[abstract] = {
                <span class="hljs-string">'factory'</span>: implementation,
                <span class="hljs-string">'singleton'</span>: singleton
            }
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">resolve</span>(<span class="hljs-params">self, abstract: <span class="hljs-type">Type</span>[T]</span>) -&gt; T:
        <span class="hljs-string">"""è§£æä¾èµ–"""</span>
        <span class="hljs-keyword">if</span> abstract <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> self._registrations:
            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">f"æœªæ³¨å†Œçš„ä¾èµ–: <span class="hljs-subst">{abstract}</span>"</span>)
        
        registration = self._registrations[abstract]
        
        <span class="hljs-comment"># å•ä¾‹æ¨¡å¼å¤„ç†</span>
        <span class="hljs-keyword">if</span> registration[<span class="hljs-string">'singleton'</span>]:
            <span class="hljs-keyword">if</span> abstract <span class="hljs-keyword">in</span> self._instances:
                <span class="hljs-keyword">return</span> self._instances[abstract]
            
            instance = registration[<span class="hljs-string">'factory'</span>](self)
            self._instances[abstract] = instance
            <span class="hljs-keyword">return</span> instance
        <span class="hljs-keyword">else</span>:
            <span class="hljs-comment"># ç¬æ€å®ä¾‹ï¼Œæ¯æ¬¡åˆ›å»ºæ–°å¯¹è±¡</span>
            <span class="hljs-keyword">return</span> registration[<span class="hljs-string">'factory'</span>](self)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">register_instance</span>(<span class="hljs-params">self, abstract: <span class="hljs-type">Type</span>, instance: <span class="hljs-type">Any</span></span>):
        <span class="hljs-string">"""æ³¨å†Œå·²æœ‰å®ä¾‹"""</span>
        <span class="hljs-keyword">with</span> self._lock:
            self._instances[abstract] = instance
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">create_scope</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-string">'DIContainer'</span>:
        <span class="hljs-string">"""åˆ›å»ºä½œç”¨åŸŸï¼ˆç”¨äºè¯·æ±‚çº§åˆ«ç”Ÿå‘½å‘¨æœŸï¼‰"""</span>
        scoped_container = DIContainer()
        scoped_container._registrations = self._registrations.copy()
        <span class="hljs-keyword">return</span> scoped_container
 
<span class="hljs-comment"># ä½¿ç”¨ç¤ºä¾‹</span>
container = DIContainer()
 
<span class="hljs-comment"># æ³¨å†Œä¾èµ–</span>
container.register(UserRepository, <span class="hljs-keyword">lambda</span> c: MySQLUserRepository(), singleton=<span class="hljs-literal">True</span>)
container.register(EmailSender, <span class="hljs-keyword">lambda</span> c: SMTPEmailSender(), singleton=<span class="hljs-literal">True</span>)
container.register(UserService, <span class="hljs-keyword">lambda</span> c: UserService(
    c.resolve(UserRepository), 
    c.resolve(EmailSender)
))
 
<span class="hljs-comment"># è§£æä½¿ç”¨</span>
user_service = container.resolve(UserService)
AIå†™ä»£ç python
è¿è¡Œ
</code></pre>
<h3 data-id="heading-8"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>3Â FastAPIä¾èµ–æ³¨å…¥ç³»ç»Ÿæ·±åº¦è§£æ</h3>
<h4 data-id="heading-9"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>3.1 FastAPIä¾èµ–ç³»ç»Ÿçš„æ¶æ„è®¾è®¡</h4>
<p>FastAPIçš„ä¾èµ–æ³¨å…¥ç³»ç»Ÿæ˜¯å…¶<strong>æœ€å¼ºå¤§çš„ç‰¹æ€§ä¹‹ä¸€</strong>ï¼Œé‡‡ç”¨æ ‘çŠ¶ç»“æ„ç®¡ç†ä¾èµ–å…³ç³»ã€‚ä¸‹é¢æ˜¯å…¶æ ¸å¿ƒæ¶æ„å›¾ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d7383acb2efa4e91b722ad269c6e38bd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770184782&amp;x-signature=w%2BhYZafJYsCXKQibdVQVodeg%2FDY%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-10"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>3.2 å¤šå±‚çº§ä¾èµ–ç®¡ç†å®æˆ˜</h4>
<p>FastAPIæ”¯æŒå››ä¸ªå±‚çº§çš„ä¾èµ–æ³¨å…¥ï¼Œæ»¡è¶³ä¸åŒåœºæ™¯éœ€æ±‚ï¼š</p>
<p><strong>å‚æ•°çº§åˆ«ä¾èµ–</strong>ï¼šæœ€ç»†ç²’åº¦æ§åˆ¶</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> Depends, FastAPI, HTTPException
<span class="hljs-keyword">from</span> sqlalchemy.orm <span class="hljs-keyword">import</span> Session
 
app = FastAPI()
 
<span class="hljs-comment"># æ•°æ®åº“ä¾èµ–</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_db</span>() -&gt; Session:
    db = SessionLocal()
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">yield</span> db
    <span class="hljs-keyword">finally</span>:
        db.close()
 
<span class="hljs-comment"># è®¤è¯ä¾èµ–</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_current_user</span>(<span class="hljs-params">db: Session = Depends(<span class="hljs-params">get_db</span>)</span>) -&gt; User:
    token = get_token_from_header()
    user = db.query(User).<span class="hljs-built_in">filter</span>(User.token == token).first()
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> user:
        <span class="hljs-keyword">raise</span> HTTPException(status_code=<span class="hljs-number">401</span>, detail=<span class="hljs-string">"æ— æ•ˆä»¤ç‰Œ"</span>)
    <span class="hljs-keyword">return</span> user
 
<span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/users/me"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">read_current_user</span>(<span class="hljs-params">user: User = Depends(<span class="hljs-params">get_current_user</span>)</span>):
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"user"</span>: user.username, <span class="hljs-string">"email"</span>: user.email}
AIå†™ä»£ç python
è¿è¡Œ
</code></pre>
<p><strong>è·¯ç”±çº§åˆ«ä¾èµ–</strong>ï¼šå¤šä¸ªä¾èµ–ç»„åˆ</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> Depends, FastAPI
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">List</span>
 
app = FastAPI()
 
<span class="hljs-keyword">def</span> <span class="hljs-title function_">check_permission</span>(<span class="hljs-params">user: User = Depends(<span class="hljs-params">get_current_user</span>)</span>):
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> user.is_admin:
        <span class="hljs-keyword">raise</span> HTTPException(status_code=<span class="hljs-number">403</span>, detail=<span class="hljs-string">"æƒé™ä¸è¶³"</span>)
 
<span class="hljs-keyword">def</span> <span class="hljs-title function_">rate_limiter</span>() -&gt; <span class="hljs-built_in">bool</span>:
    <span class="hljs-comment"># å®ç°é™æµé€»è¾‘</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
 
<span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/admin/dashboard"</span>, dependencies=[Depends(<span class="hljs-params">check_permission</span>), Depends(<span class="hljs-params">rate_limiter</span>)]</span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">admin_dashboard</span>():
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"message"</span>: <span class="hljs-string">"ç®¡ç†å‘˜ä»ªè¡¨æ¿"</span>}
AIå†™ä»£ç python
è¿è¡Œ
</code></pre>
<p><strong>è·¯ç”±å™¨çº§åˆ«ä¾èµ–</strong>ï¼šæ¨¡å—åŒ–ä¾èµ–ç®¡ç†</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> APIRouter, Depends
 
<span class="hljs-comment"># åˆ›å»ºè·¯ç”±å™¨å¹¶æ·»åŠ å…±äº«ä¾èµ–</span>
admin_router = APIRouter(
    prefix=<span class="hljs-string">"/admin"</span>,
    tags=[<span class="hljs-string">"admin"</span>],
    dependencies=[Depends(get_current_user), Depends(check_permission)]
)
 
<span class="hljs-meta">@admin_router.get(<span class="hljs-params"><span class="hljs-string">"/users"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">list_users</span>():
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"users"</span>: []}
 
<span class="hljs-meta">@admin_router.post(<span class="hljs-params"><span class="hljs-string">"/users"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">create_user</span>():
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"message"</span>: <span class="hljs-string">"ç”¨æˆ·åˆ›å»ºæˆåŠŸ"</span>}
 
<span class="hljs-comment"># æ³¨å†Œè·¯ç”±å™¨</span>
app.include_router(admin_router)
AIå†™ä»£ç python
è¿è¡Œ
</code></pre>
<p><strong>å…¨å±€ä¾èµ–</strong>ï¼šåº”ç”¨çº§åˆ«æ§åˆ¶</p>
<pre><code class="hljs language-csharp" lang="csharp">app = FastAPI(
    title=<span class="hljs-string">"æˆ‘çš„åº”ç”¨"</span>,
    dependencies=[Depends(global_logging), Depends(maintenance_mode_check)]
)
 
@app.<span class="hljs-keyword">get</span>(<span class="hljs-string">"/health"</span>)
<span class="hljs-function"><span class="hljs-keyword">async</span> def <span class="hljs-title">health_check</span>():
    <span class="hljs-keyword">return</span></span> {<span class="hljs-string">"status"</span>: <span class="hljs-string">"healthy"</span>}
AIå†™ä»£ç python
è¿è¡Œ
</code></pre>
<h4 data-id="heading-11"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>3.3 ä¾èµ–å·¥å‚æ¨¡å¼ï¼šåŠ¨æ€ä¾èµ–åˆ›å»º</h4>
<p>å¯¹äºéœ€è¦å‚æ•°çš„ä¾èµ–åœºæ™¯ï¼Œå¯ä»¥ä½¿ç”¨<strong>ä¾èµ–å·¥å‚æ¨¡å¼</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> Depends, Query
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Optional</span>
 
<span class="hljs-keyword">class</span> <span class="hljs-title class_">PermissionChecker</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, required_permission: <span class="hljs-built_in">str</span></span>):
        self.required_permission = required_permission
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__call__</span>(<span class="hljs-params">self, user: User = Depends(<span class="hljs-params">get_current_user</span>)</span>):
        <span class="hljs-keyword">if</span> self.required_permission <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> user.permissions:
            <span class="hljs-keyword">raise</span> HTTPException(
                status_code=<span class="hljs-number">403</span>, 
                detail=<span class="hljs-string">f"éœ€è¦æƒé™: <span class="hljs-subst">{self.required_permission}</span>"</span>
            )
        <span class="hljs-keyword">return</span> user
 
<span class="hljs-comment"># ä½¿ç”¨å·¥å‚åˆ›å»ºåŠ¨æ€ä¾èµ–</span>
read_permission = PermissionChecker(<span class="hljs-string">"read"</span>)
write_permission = PermissionChecker(<span class="hljs-string">"write"</span>)
 
<span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/documents/{doc_id}"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">read_document</span>(<span class="hljs-params">user: User = Depends(<span class="hljs-params">read_permission</span>)</span>):
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"document"</span>: <span class="hljs-string">"å†…å®¹"</span>}
 
<span class="hljs-meta">@app.post(<span class="hljs-params"><span class="hljs-string">"/documents"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">create_document</span>(<span class="hljs-params">user: User = Depends(<span class="hljs-params">write_permission</span>)</span>):
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"message"</span>: <span class="hljs-string">"æ–‡æ¡£åˆ›å»ºæˆåŠŸ"</span>}
AIå†™ä»£ç python
è¿è¡Œ
</code></pre>
<h3 data-id="heading-12"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>4 å®æˆ˜åº”ç”¨ï¼šæ„å»ºå¯æµ‹è¯•çš„ç”µå­å•†åŠ¡ç³»ç»Ÿ</h3>
<h4 data-id="heading-13"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>4.1 ç³»ç»Ÿæ¶æ„è®¾è®¡</h4>
<p>ä¸‹é¢é€šè¿‡ä¸€ä¸ªç”µå­å•†åŠ¡ç³»ç»Ÿæ¡ˆä¾‹ï¼Œå±•ç¤ºä¾èµ–æ³¨å…¥åœ¨å®é™…é¡¹ç›®ä¸­çš„åº”ç”¨ã€‚ç³»ç»Ÿæ¶æ„å¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2aec16211bf348f0b375e8ab0c38ff1b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770184782&amp;x-signature=RdLE%2BCymyUk%2FpY2rFRzNFgKUVsg%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-14"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>4.2 é¢†åŸŸæ¨¡å‹è®¾è®¡</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> abc <span class="hljs-keyword">import</span> ABC, abstractmethod
<span class="hljs-keyword">from</span> dataclasses <span class="hljs-keyword">import</span> dataclass
<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">List</span>, <span class="hljs-type">Optional</span>
<span class="hljs-keyword">from</span> decimal <span class="hljs-keyword">import</span> Decimal
 
<span class="hljs-comment"># é¢†åŸŸæ¨¡å‹</span>
<span class="hljs-meta">@dataclass</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Product</span>:
    <span class="hljs-built_in">id</span>: <span class="hljs-built_in">int</span>
    name: <span class="hljs-built_in">str</span>
    price: Decimal
    stock_quantity: <span class="hljs-built_in">int</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">reduce_stock</span>(<span class="hljs-params">self, quantity: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-literal">None</span>:
        <span class="hljs-keyword">if</span> self.stock_quantity &lt; quantity:
            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">"åº“å­˜ä¸è¶³"</span>)
        self.stock_quantity -= quantity
 
<span class="hljs-meta">@dataclass</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Order</span>:
    <span class="hljs-built_in">id</span>: <span class="hljs-built_in">int</span>
    user_id: <span class="hljs-built_in">int</span>
    items: <span class="hljs-type">List</span>[<span class="hljs-string">'OrderItem'</span>]
    status: <span class="hljs-built_in">str</span>
    created_at: datetime
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">calculate_total</span>(<span class="hljs-params">self</span>) -&gt; Decimal:
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">sum</span>(item.price * item.quantity <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> self.items)
 
<span class="hljs-comment"># ä»“å‚¨æŠ½è±¡</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductRepository</span>(<span class="hljs-title class_ inherited__">ABC</span>):
<span class="hljs-meta">    @abstractmethod</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">find_by_id</span>(<span class="hljs-params">self, product_id: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-type">Optional</span>[Product]:
        <span class="hljs-keyword">pass</span>
    
<span class="hljs-meta">    @abstractmethod</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">save</span>(<span class="hljs-params">self, product: Product</span>) -&gt; <span class="hljs-literal">None</span>:
        <span class="hljs-keyword">pass</span>
 
<span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderRepository</span>(<span class="hljs-title class_ inherited__">ABC</span>):
<span class="hljs-meta">    @abstractmethod</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">save</span>(<span class="hljs-params">self, order: Order</span>) -&gt; <span class="hljs-literal">None</span>:
        <span class="hljs-keyword">pass</span>
 
<span class="hljs-comment"># é¢†åŸŸæœåŠ¡</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderService</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, 
                 product_repo: ProductRepository,
                 order_repo: OrderRepository,
                 payment_gateway: <span class="hljs-string">'PaymentGateway'</span></span>):
        self.product_repo = product_repo
        self.order_repo = order_repo
        self.payment_gateway = payment_gateway
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">place_order</span>(<span class="hljs-params">self, user_id: <span class="hljs-built_in">int</span>, items: <span class="hljs-type">List</span>[<span class="hljs-built_in">dict</span>]</span>) -&gt; Order:
        <span class="hljs-comment"># éªŒè¯äº§å“å’Œåº“å­˜</span>
        products = []
        <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> items:
            product = self.product_repo.find_by_id(item[<span class="hljs-string">'product_id'</span>])
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> product:
                <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">f"äº§å“ä¸å­˜åœ¨: <span class="hljs-subst">{item[<span class="hljs-string">'product_id'</span>]}</span>"</span>)
            <span class="hljs-keyword">if</span> product.stock_quantity &lt; item[<span class="hljs-string">'quantity'</span>]:
                <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">f"äº§å“åº“å­˜ä¸è¶³: <span class="hljs-subst">{product.name}</span>"</span>)
            products.append((product, item[<span class="hljs-string">'quantity'</span>]))
        
        <span class="hljs-comment"># åˆ›å»ºè®¢å•</span>
        order_items = [
            OrderItem(product_id=product.<span class="hljs-built_in">id</span>, 
                     price=product.price, 
                     quantity=quantity)
            <span class="hljs-keyword">for</span> product, quantity <span class="hljs-keyword">in</span> products
        ]
        
        order = Order(user_id=user_id, items=order_items, status=<span class="hljs-string">"pending"</span>)
        
        <span class="hljs-comment"># æ‰£å‡åº“å­˜</span>
        <span class="hljs-keyword">for</span> product, quantity <span class="hljs-keyword">in</span> products:
            product.reduce_stock(quantity)
            self.product_repo.save(product)
        
        <span class="hljs-comment"># ä¿å­˜è®¢å•</span>
        self.order_repo.save(order)
        
        <span class="hljs-keyword">return</span> order
AIå†™ä»£ç python
è¿è¡Œ
</code></pre>
<h4 data-id="heading-15"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>4.3 ä¾èµ–é…ç½®ä¸å®¹å™¨è®¾ç½®</h4>
<pre><code class="hljs language-ini" lang="ini">from dependency_injector import containers, providers
 
class ApplicationContainer(containers.DeclarativeContainer):
    """åº”ç”¨ä¾èµ–å®¹å™¨"""
    
    <span class="hljs-comment"># é…ç½®</span>
    <span class="hljs-attr">config</span> = providers.Configuration()
    
    <span class="hljs-comment"># æ•°æ®åº“è¿æ¥</span>
    <span class="hljs-attr">db</span> = providers.Singleton(Database, url=config.database.url)
    
    <span class="hljs-comment"># ä»“å‚¨å®ç°</span>
    <span class="hljs-attr">product_repository</span> = providers.Factory(
        SQLProductRepository, 
        <span class="hljs-attr">session_factory</span>=db.provided.session
    )
    
    <span class="hljs-attr">order_repository</span> = providers.Factory(
        SQLOrderRepository,
        <span class="hljs-attr">session_factory</span>=db.provided.session
    )
    
    <span class="hljs-comment"># å¤–éƒ¨æœåŠ¡</span>
    <span class="hljs-attr">payment_gateway</span> = providers.Factory(
        StripePaymentGateway,
        <span class="hljs-attr">api_key</span>=config.payments.stripe_api_key
    )
    
    <span class="hljs-attr">email_service</span> = providers.Factory(
        SendGridEmailService,
        <span class="hljs-attr">api_key</span>=config.email.sendgrid_api_key
    )
    
    <span class="hljs-comment"># åº”ç”¨æœåŠ¡</span>
    <span class="hljs-attr">order_service</span> = providers.Factory(
        OrderService,
        <span class="hljs-attr">product_repo</span>=product_repository,
        <span class="hljs-attr">order_repo</span>=order_repository,
        <span class="hljs-attr">payment_gateway</span>=payment_gateway
    )
    
    <span class="hljs-comment"># APIæ§åˆ¶å™¨</span>
    <span class="hljs-attr">order_controller</span> = providers.Factory(
        OrderController,
        <span class="hljs-attr">order_service</span>=order_service
    )
 
<span class="hljs-comment"># é…ç½®å®¹å™¨</span>
<span class="hljs-attr">container</span> = ApplicationContainer()
container.config.database.url.from_env("DATABASE_URL")
container.config.payments.stripe_api_key.from_env("STRIPE_API_KEY")
AIå†™ä»£ç python
è¿è¡Œ
</code></pre>
<h4 data-id="heading-16"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>4.4 æµ‹è¯•ç­–ç•¥ä¸å®ç°</h4>
<p>ä¾èµ–æ³¨å…¥æœ€å¤§çš„ä¼˜åŠ¿åœ¨äº<strong>å¯æµ‹è¯•æ€§</strong>ï¼Œä¸‹é¢å±•ç¤ºå®Œæ•´çš„æµ‹è¯•æ–¹æ¡ˆï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> pytest
<span class="hljs-keyword">from</span> unittest.mock <span class="hljs-keyword">import</span> Mock, create_autospec
<span class="hljs-keyword">from</span> dependency_injector <span class="hljs-keyword">import</span> providers
 
<span class="hljs-keyword">class</span> <span class="hljs-title class_">TestOrderService</span>:
    <span class="hljs-string">"""è®¢å•æœåŠ¡æµ‹è¯•"""</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_method</span>(<span class="hljs-params">self</span>):
        <span class="hljs-comment"># åˆ›å»ºæ¨¡æ‹Ÿä¾èµ–</span>
        self.mock_product_repo = create_autospec(ProductRepository)
        self.mock_order_repo = create_autospec(OrderRepository)
        self.mock_payment_gateway = create_autospec(PaymentGateway)
        
        <span class="hljs-comment"># åˆ›å»ºæµ‹è¯•å®ä¾‹</span>
        self.order_service = OrderService(
            product_repo=self.mock_product_repo,
            order_repo=self.mock_order_repo,
            payment_gateway=self.mock_payment_gateway
        )
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_place_order_success</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""æµ‹è¯•æˆåŠŸä¸‹å•"""</span>
        <span class="hljs-comment"># å‡†å¤‡æµ‹è¯•æ•°æ®</span>
        product = Product(<span class="hljs-built_in">id</span>=<span class="hljs-number">1</span>, name=<span class="hljs-string">"æµ‹è¯•äº§å“"</span>, price=<span class="hljs-number">100</span>, stock_quantity=<span class="hljs-number">10</span>)
        self.mock_product_repo.find_by_id.return_value = product
        
        <span class="hljs-comment"># æ‰§è¡Œæµ‹è¯•</span>
        order = self.order_service.place_order(
            user_id=<span class="hljs-number">1</span>, 
            items=[{<span class="hljs-string">"product_id"</span>: <span class="hljs-number">1</span>, <span class="hljs-string">"quantity"</span>: <span class="hljs-number">2</span>}]
        )
        
        <span class="hljs-comment"># éªŒè¯ç»“æœ</span>
        <span class="hljs-keyword">assert</span> order.status == <span class="hljs-string">"pending"</span>
        <span class="hljs-keyword">assert</span> order.user_id == <span class="hljs-number">1</span>
        <span class="hljs-keyword">assert</span> <span class="hljs-built_in">len</span>(order.items) == <span class="hljs-number">1</span>
        
        <span class="hljs-comment"># éªŒè¯ä¾èµ–è°ƒç”¨</span>
        self.mock_product_repo.find_by_id.assert_called_once_with(<span class="hljs-number">1</span>)
        self.mock_product_repo.save.assert_called_once()
        self.mock_order_repo.save.assert_called_once()
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_place_order_insufficient_stock</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""æµ‹è¯•åº“å­˜ä¸è¶³æƒ…å†µ"""</span>
        product = Product(<span class="hljs-built_in">id</span>=<span class="hljs-number">1</span>, name=<span class="hljs-string">"æµ‹è¯•äº§å“"</span>, price=<span class="hljs-number">100</span>, stock_quantity=<span class="hljs-number">1</span>)
        self.mock_product_repo.find_by_id.return_value = product
        
        <span class="hljs-keyword">with</span> pytest.raises(ValueError, <span class="hljs-keyword">match</span>=<span class="hljs-string">"åº“å­˜ä¸è¶³"</span>):
            self.order_service.place_order(
                user_id=<span class="hljs-number">1</span>,
                items=[{<span class="hljs-string">"product_id"</span>: <span class="hljs-number">1</span>, <span class="hljs-string">"quantity"</span>: <span class="hljs-number">2</span>}]
            )
        
        <span class="hljs-comment"># éªŒè¯æ²¡æœ‰ä¿å­˜æ“ä½œ</span>
        self.mock_product_repo.save.assert_not_called()
        self.mock_order_repo.save.assert_not_called()
 
<span class="hljs-comment"># é›†æˆæµ‹è¯•</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">TestOrderIntegration</span>:
    <span class="hljs-string">"""é›†æˆæµ‹è¯•"""</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_full_order_flow</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""å®Œæ•´è®¢å•æµç¨‹æµ‹è¯•"""</span>
        <span class="hljs-comment"># ä½¿ç”¨æµ‹è¯•å®¹å™¨</span>
        container = ApplicationContainer()
        
        <span class="hljs-comment"># è¦†ç›–ä¸ºæµ‹è¯•å®ç°</span>
        container.product_repository.override(
            providers.Factory(InMemoryProductRepository)
        )
        container.order_repository.override(
            providers.Factory(InMemoryOrderRepository)
        )
        container.payment_gateway.override(
            providers.Factory(MockPaymentGateway)
        )
        
        <span class="hljs-comment"># è·å–æœåŠ¡å®ä¾‹</span>
        order_service = container.order_service()
        
        <span class="hljs-comment"># æ‰§è¡Œæµ‹è¯•</span>
        order = order_service.place_order(
            user_id=<span class="hljs-number">1</span>,
            items=[{<span class="hljs-string">"product_id"</span>: <span class="hljs-number">1</span>, <span class="hljs-string">"quantity"</span>: <span class="hljs-number">1</span>}]
        )
        
        <span class="hljs-keyword">assert</span> order.status == <span class="hljs-string">"pending"</span>
AIå†™ä»£ç python
è¿è¡Œ
</code></pre>
<h3 data-id="heading-17"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>5Â æ€§èƒ½ä¼˜åŒ–ä¸æ•…éšœæ’æŸ¥</h3>
<h4 data-id="heading-18"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>5.1 ä¾èµ–æ³¨å…¥æ€§èƒ½ä¼˜åŒ–ç­–ç•¥</h4>
<p>ä¾èµ–æ³¨å…¥å¯èƒ½å¼•å…¥æ€§èƒ½å¼€é”€ï¼Œä»¥ä¸‹æ˜¯ä¼˜åŒ–å»ºè®®ï¼š</p>
<p><strong>å•ä¾‹æ¨¡å¼ä¼˜åŒ–</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> functools <span class="hljs-keyword">import</span> lru_cache
 
<span class="hljs-meta">@lru_cache(<span class="hljs-params">maxsize=<span class="hljs-number">128</span></span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_database_connection</span>():
    <span class="hljs-string">"""ç¼“å­˜æ•°æ®åº“è¿æ¥"""</span>
    <span class="hljs-keyword">return</span> create_engine(DATABASE_URL)
 
<span class="hljs-keyword">class</span> <span class="hljs-title class_">DatabaseService</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        self.engine = get_database_connection()
    
<span class="hljs-meta">    @classmethod</span>
<span class="hljs-meta">    @lru_cache(<span class="hljs-params">maxsize=<span class="hljs-number">1</span></span>)</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_instance</span>(<span class="hljs-params">cls</span>):
        <span class="hljs-string">"""å•ä¾‹å®ä¾‹ç¼“å­˜"""</span>
        <span class="hljs-keyword">return</span> cls()
AIå†™ä»£ç python
è¿è¡Œ
</code></pre>
<p><strong>ä¾èµ–è§£æä¼˜åŒ–</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> Depends
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Dict</span>, <span class="hljs-type">Any</span>
 
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CachedDependency</span>:
    <span class="hljs-string">"""å¸¦ç¼“å­˜çš„ä¾èµ–"""</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, dependency</span>):
        self.dependency = dependency
        self._cache = {}
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__call__</span>(<span class="hljs-params">self, *args, **kwargs</span>):
        cache_key = self._create_cache_key(args, kwargs)
        <span class="hljs-keyword">if</span> cache_key <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> self._cache:
            self._cache[cache_key] = self.dependency(*args, **kwargs)
        <span class="hljs-keyword">return</span> self._cache[cache_key]
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_create_cache_key</span>(<span class="hljs-params">self, args, kwargs</span>) -&gt; <span class="hljs-built_in">str</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">str</span>(args) + <span class="hljs-built_in">str</span>(kwargs)
 
<span class="hljs-comment"># ä½¿ç”¨ç¼“å­˜ä¾èµ–</span>
<span class="hljs-meta">@lru_cache(<span class="hljs-params">maxsize=<span class="hljs-number">100</span></span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_cached_service</span>():
    <span class="hljs-keyword">return</span> ExpensiveService()
 
<span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/data"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_data</span>(<span class="hljs-params">service: ExpensiveService = Depends(<span class="hljs-params">get_cached_service</span>)</span>):
    <span class="hljs-keyword">return</span> service.process_data()
AIå†™ä»£ç python
è¿è¡Œ
</code></pre>
<h4 data-id="heading-19"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>5.2 å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h4>
<p><strong>å¾ªç¯ä¾èµ–é—®é¢˜</strong>ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-comment"># é—®é¢˜ï¼šAä¾èµ–Bï¼ŒBä¾èµ–A</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Service</span><span class="hljs-symbol">A:</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span>, <span class="hljs-symbol">service_b:</span> <span class="hljs-title class_">Service</span>B</span>):
        <span class="hljs-variable language_">self</span>.service_b = service_b
 
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Service</span><span class="hljs-symbol">B:</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span>, <span class="hljs-symbol">service_a:</span> <span class="hljs-title class_">Service</span>A</span>):
        <span class="hljs-variable language_">self</span>.service_a = service_a
 
<span class="hljs-comment"># è§£å†³æ–¹æ¡ˆ1ï¼šä½¿ç”¨æ–¹æ³•æ³¨å…¥æ‰“ç ´å¾ªç¯</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Service</span><span class="hljs-symbol">A:</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span></span>):
        <span class="hljs-variable language_">self</span>.service_b = <span class="hljs-title class_">None</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">set_service_b</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span>, <span class="hljs-symbol">service_b:</span> <span class="hljs-title class_">Service</span>B</span>):
        <span class="hljs-variable language_">self</span>.service_b = service_b
 
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Service</span><span class="hljs-symbol">B:</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span>, <span class="hljs-symbol">service_a:</span> <span class="hljs-title class_">Service</span>A</span>):
        <span class="hljs-variable language_">self</span>.service_a = service_a
 
<span class="hljs-comment"># è§£å†³æ–¹æ¡ˆ2ï¼šä½¿ç”¨å±æ€§æ³¨å…¥</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Service</span><span class="hljs-symbol">A:</span>
    <span class="hljs-variable">@property</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">service_b</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span></span>) -&gt; <span class="hljs-title class_">Service</span><span class="hljs-symbol">B:</span>
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>._service_b
    
    <span class="hljs-variable">@service_b</span>.setter
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">service_b</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span>, value</span>):
        <span class="hljs-variable language_">self</span>._service_b = value
<span class="hljs-variable constant_">AI</span>å†™ä»£ç python
è¿è¡Œ
</code></pre>
<p><strong>ä¾èµ–ç”Ÿå‘½å‘¨æœŸç®¡ç†</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> contextlib <span class="hljs-keyword">import</span> contextmanager
<span class="hljs-keyword">from</span> sqlalchemy.orm <span class="hljs-keyword">import</span> sessionmaker
 
<span class="hljs-keyword">class</span> <span class="hljs-title class_">DatabaseManager</span>:
    <span class="hljs-string">"""æ•°æ®åº“ç”Ÿå‘½å‘¨æœŸç®¡ç†"""</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, connection_string: <span class="hljs-built_in">str</span></span>):
        self.engine = create_engine(connection_string)
        self.Session = sessionmaker(bind=self.engine)
    
<span class="hljs-meta">    @contextmanager</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">session_scope</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""ä¼šè¯ä½œç”¨åŸŸç®¡ç†"""</span>
        session = self.Session()
        <span class="hljs-keyword">try</span>:
            <span class="hljs-keyword">yield</span> session
            session.commit()
        <span class="hljs-keyword">except</span> Exception:
            session.rollback()
            <span class="hljs-keyword">raise</span>
        <span class="hljs-keyword">finally</span>:
            session.close()
 
<span class="hljs-comment"># ä½¿ç”¨ä¸Šä¸‹æ–‡ç®¡ç†å™¨ç®¡ç†ç”Ÿå‘½å‘¨æœŸ</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_user_service</span>():
    <span class="hljs-keyword">with</span> DatabaseManager(DATABASE_URL).session_scope() <span class="hljs-keyword">as</span> session:
        user_repo = SQLUserRepository(session)
        <span class="hljs-keyword">yield</span> UserService(user_repo)
AIå†™ä»£ç python
è¿è¡Œ
</code></pre>
<h4 data-id="heading-20"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>5.3 ç›‘æ§ä¸è¯Šæ–­</h4>
<p><strong>ä¾èµ–è§£æç›‘æ§</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> time
<span class="hljs-keyword">from</span> functools <span class="hljs-keyword">import</span> wraps
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Callable</span>, <span class="hljs-type">Any</span>
 
<span class="hljs-keyword">def</span> <span class="hljs-title function_">monitor_dependency_resolution</span>(<span class="hljs-params">func: <span class="hljs-type">Callable</span></span>) -&gt; <span class="hljs-type">Callable</span>:
    <span class="hljs-string">"""ä¾èµ–è§£æç›‘æ§è£…é¥°å™¨"""</span>
<span class="hljs-meta">    @wraps(<span class="hljs-params">func</span>)</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">wrapper</span>(<span class="hljs-params">*args, **kwargs</span>) -&gt; <span class="hljs-type">Any</span>:
        start_time = time.time()
        <span class="hljs-keyword">try</span>:
            result = func(*args, **kwargs)
            resolution_time = time.time() - start_time
            
            <span class="hljs-comment"># è®°å½•æ€§èƒ½æŒ‡æ ‡</span>
            <span class="hljs-keyword">if</span> resolution_time &gt; <span class="hljs-number">1.0</span>:  <span class="hljs-comment"># è¶…è¿‡1ç§’è­¦å‘Š</span>
                logger.warning(<span class="hljs-string">f"ä¾èµ–è§£æç¼“æ…¢: <span class="hljs-subst">{func.__name__}</span>, è€—æ—¶: <span class="hljs-subst">{resolution_time:<span class="hljs-number">.2</span>f}</span>s"</span>)
            
            <span class="hljs-keyword">return</span> result
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            logger.error(<span class="hljs-string">f"ä¾èµ–è§£æå¤±è´¥: <span class="hljs-subst">{func.__name__}</span>, é”™è¯¯: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)
            <span class="hljs-keyword">raise</span>
    
    <span class="hljs-keyword">return</span> wrapper
 
<span class="hljs-comment"># åº”ç”¨ç›‘æ§</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MonitoredContainer</span>(<span class="hljs-title class_ inherited__">DIContainer</span>):
<span class="hljs-meta">    @monitor_dependency_resolution</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">resolve</span>(<span class="hljs-params">self, abstract: <span class="hljs-type">Type</span></span>) -&gt; <span class="hljs-type">Any</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>().resolve(abstract)
AIå†™ä»£ç python
è¿è¡Œ
</code></pre>
<h3 data-id="heading-21"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>6 ä¼ä¸šçº§æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-22"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>6.1 æ¶æ„è®¾è®¡åŸåˆ™</h4>
<p>åŸºäºå¤šå¹´å®æˆ˜ç»éªŒï¼Œæ€»ç»“ä»¥ä¸‹ä¾èµ–æ³¨å…¥æœ€ä½³å®è·µï¼š</p>
<p><strong>åˆ†å±‚æ¶æ„è§„èŒƒ</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é¡¹ç›®ç»“æ„</span>
project/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ application/          <span class="hljs-comment"># åº”ç”¨å±‚</span>
â”‚   â”‚   â”œâ”€â”€ services/         <span class="hljs-comment"># åº”ç”¨æœåŠ¡</span>
â”‚   â”‚   â””â”€â”€ dto/              <span class="hljs-comment"># æ•°æ®ä¼ è¾“å¯¹è±¡</span>
â”‚   â”œâ”€â”€ domain/               <span class="hljs-comment"># é¢†åŸŸå±‚</span>
â”‚   â”‚   â”œâ”€â”€ entities/         <span class="hljs-comment"># é¢†åŸŸå®ä½“</span>
â”‚   â”‚   â”œâ”€â”€ repositories/     <span class="hljs-comment"># ä»“å‚¨æŠ½è±¡</span>
â”‚   â”‚   â””â”€â”€ services/         <span class="hljs-comment"># é¢†åŸŸæœåŠ¡</span>
â”‚   â”œâ”€â”€ infrastructure/        <span class="hljs-comment"># åŸºç¡€è®¾æ–½å±‚</span>
â”‚   â”‚   â”œâ”€â”€ persistence/      <span class="hljs-comment"># æŒä¹…åŒ–å®ç°</span>
â”‚   â”‚   â”œâ”€â”€ external/         <span class="hljs-comment"># å¤–éƒ¨æœåŠ¡</span>
â”‚   â”‚   â””â”€â”€ logging/          <span class="hljs-comment"># æ—¥å¿—è®°å½•</span>
â”‚   â””â”€â”€ presentation/         <span class="hljs-comment"># è¡¨ç°å±‚</span>
â”‚       â”œâ”€â”€ api/              <span class="hljs-comment"># APIæ§åˆ¶å™¨</span>
â”‚       â””â”€â”€ web/              <span class="hljs-comment"># Webç•Œé¢</span>
â”œâ”€â”€ tests/                    <span class="hljs-comment"># æµ‹è¯•</span>
â””â”€â”€ config/                   <span class="hljs-comment"># é…ç½®</span>
AIå†™ä»£ç 
</code></pre>
<p><strong>ä¾èµ–é…ç½®ç®¡ç†</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> pydantic <span class="hljs-keyword">import</span> BaseSettings
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Optional</span>
 
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ApplicationSettings</span>(<span class="hljs-title class_ inherited__">BaseSettings</span>):
    <span class="hljs-string">"""åº”ç”¨é…ç½®"""</span>
    
    database_url: <span class="hljs-built_in">str</span>
    redis_url: <span class="hljs-type">Optional</span>[<span class="hljs-built_in">str</span>] = <span class="hljs-literal">None</span>
    log_level: <span class="hljs-built_in">str</span> = <span class="hljs-string">"INFO"</span>
    
    <span class="hljs-comment"># å¤–éƒ¨æœåŠ¡é…ç½®</span>
    stripe_api_key: <span class="hljs-type">Optional</span>[<span class="hljs-built_in">str</span>] = <span class="hljs-literal">None</span>
    sendgrid_api_key: <span class="hljs-type">Optional</span>[<span class="hljs-built_in">str</span>] = <span class="hljs-literal">None</span>
    
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Config</span>:
        env_file = <span class="hljs-string">".env"</span>
        env_file_encoding = <span class="hljs-string">"utf-8"</span>
 
<span class="hljs-keyword">def</span> <span class="hljs-title function_">configure_container</span>(<span class="hljs-params">env: <span class="hljs-built_in">str</span> = <span class="hljs-string">"development"</span></span>) -&gt; ApplicationContainer:
    <span class="hljs-string">"""ç¯å¢ƒç‰¹å®šçš„å®¹å™¨é…ç½®"""</span>
    container = ApplicationContainer()
    
    <span class="hljs-keyword">if</span> env == <span class="hljs-string">"testing"</span>:
        container.config.database.url.from_value(<span class="hljs-string">"sqlite:///:memory:"</span>)
        <span class="hljs-comment"># ä½¿ç”¨æ¨¡æ‹Ÿå®ç°</span>
        container.payment_gateway.override(
            providers.Factory(MockPaymentGateway)
        )
    <span class="hljs-keyword">elif</span> env == <span class="hljs-string">"production"</span>:
        container.config.database.url.from_env(<span class="hljs-string">"DATABASE_URL"</span>)
        container.config.payments.stripe_api_key.from_env(<span class="hljs-string">"STRIPE_API_KEY"</span>)
    
    <span class="hljs-keyword">return</span> container
AIå†™ä»£ç python
è¿è¡Œ
</code></pre>
<h4 data-id="heading-23"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>6.2 æµ‹è¯•ç­–ç•¥æ€»ç»“</h4>
<p><strong>æµ‹è¯•é‡‘å­—å¡”å®è·µ</strong>ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/92b9fa513bc94b42b916c216846fdd31~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770184782&amp;x-signature=hU8m%2FXIJaydkjpYc69he9aXs7iM%3D" alt="" loading="lazy"/></p>
<p><strong>æµ‹è¯•æ•°æ®ç®¡ç†</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> pytest
<span class="hljs-keyword">from</span> dataclasses <span class="hljs-keyword">import</span> dataclass
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> Generator
 
<span class="hljs-meta">@dataclass</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">TestData</span>:
    <span class="hljs-string">"""æµ‹è¯•æ•°æ®å·¥å‚"""</span>
    
<span class="hljs-meta">    @staticmethod</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">create_product</span>(<span class="hljs-params">**overrides</span>) -&gt; Product:
        defaults = {
            <span class="hljs-string">"id"</span>: <span class="hljs-number">1</span>,
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"æµ‹è¯•äº§å“"</span>, 
            <span class="hljs-string">"price"</span>: <span class="hljs-number">100</span>,
            <span class="hljs-string">"stock_quantity"</span>: <span class="hljs-number">10</span>
        }
        defaults.update(overrides)
        <span class="hljs-keyword">return</span> Product(**defaults)
    
<span class="hljs-meta">    @staticmethod</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">create_user</span>(<span class="hljs-params">**overrides</span>) -&gt; User:
        defaults = {
            <span class="hljs-string">"id"</span>: <span class="hljs-number">1</span>,
            <span class="hljs-string">"username"</span>: <span class="hljs-string">"testuser"</span>,
            <span class="hljs-string">"email"</span>: <span class="hljs-string">"test@example.com"</span>
        }
        defaults.update(overrides)
        <span class="hljs-keyword">return</span> User(**defaults)
 
<span class="hljs-meta">@pytest.fixture</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">test_data</span>() -&gt; TestData:
    <span class="hljs-keyword">return</span> TestData()
 
<span class="hljs-meta">@pytest.fixture</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">sample_product</span>(<span class="hljs-params">test_data: TestData</span>) -&gt; Product:
    <span class="hljs-keyword">return</span> test_data.create_product()
 
<span class="hljs-meta">@pytest.fixture</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">sample_user</span>(<span class="hljs-params">test_data: TestData</span>) -&gt; User:
    <span class="hljs-keyword">return</span> test_data.create_user()
AIå†™ä»£ç python
è¿è¡Œ
</code></pre>
<h3 data-id="heading-24"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>7 æ€»ç»“ä¸å±•æœ›</h3>
<h4 data-id="heading-25"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>7.1 å…³é”®æ”¶è·</h4>
<p>é€šè¿‡æœ¬æ–‡çš„æ·±å…¥æ¢è®¨ï¼Œæˆ‘ä»¬å…¨é¢æŒæ¡äº†ä¾èµ–æ³¨å…¥åœ¨Pythonä¸­çš„åº”ç”¨ï¼š</p>
<ol>
<li><strong>ä¾èµ–åè½¬åŸåˆ™</strong>ï¼šç†è§£äº†é¢å‘æŠ½è±¡ç¼–ç¨‹çš„é‡è¦æ€§</li>
<li><strong>æœåŠ¡å®¹å™¨æœºåˆ¶</strong>ï¼šæŒæ¡äº†ä¾èµ–ç”Ÿå‘½å‘¨æœŸçš„ç®¡ç†</li>
<li><strong>FastAPIä¾èµ–ç³»ç»Ÿ</strong>ï¼šå­¦ä¼šäº†å¤šå±‚çº§ä¾èµ–ç®¡ç†</li>
<li><strong>æµ‹è¯•æ¶æ„è®¾è®¡</strong>ï¼šæ„å»ºäº†å¯æµ‹è¯•çš„åº”ç”¨æ¶æ„</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–ç­–ç•¥</strong>ï¼šå¹³è¡¡äº†æ¶æ„ä¼˜é›…ä¸æ€§èƒ½éœ€æ±‚</li>
</ol>
<h4 data-id="heading-26"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>7.2 æœªæ¥å‘å±•è¶‹åŠ¿</h4>
<p>ä¾èµ–æ³¨å…¥æŠ€æœ¯åœ¨Pythonç”Ÿæ€ä¸­æŒç»­æ¼”è¿›ï¼š</p>
<ol>
<li><strong>å¼‚æ­¥ä¾èµ–æ³¨å…¥</strong>ï¼šéšç€å¼‚æ­¥ç¼–ç¨‹æ™®åŠï¼Œå¯¹å¼‚æ­¥ä¾èµ–çš„æ”¯æŒå°†æ›´å®Œå–„</li>
<li><strong>ç±»å‹ç³»ç»Ÿé›†æˆ</strong>ï¼šPythonç±»å‹æç¤ºä¸ä¾èµ–æ³¨å…¥çš„æ·±åº¦ç»“åˆ</li>
<li><strong>äº‘åŸç”Ÿæ”¯æŒ</strong>ï¼šå®¹å™¨åŒ–ç¯å¢ƒä¸‹çš„ä¾èµ–ç®¡ç†æ–°èŒƒå¼</li>
<li><strong>AIè¾…åŠ©ä¼˜åŒ–</strong>ï¼šæ™ºèƒ½ä¾èµ–åˆ†æå’Œä¼˜åŒ–å»ºè®®</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[mysql ä¸­æ·»åŠ ç´¢å¼•çš„ä¸‰ç§æ–¹æ³•]]></title>    <link>https://juejin.cn/post/7599981538297839666</link>    <guid>https://juejin.cn/post/7599981538297839666</guid>    <pubDate>2026-01-28T06:01:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599981538297839666" data-draft-id="7599951933594746890" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="mysql ä¸­æ·»åŠ ç´¢å¼•çš„ä¸‰ç§æ–¹æ³•"/> <meta itemprop="keywords" content="åç«¯,MySQL"/> <meta itemprop="datePublished" content="2026-01-28T06:01:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Javaæ°´è§£"/> <meta itemprop="url" content="https://juejin.cn/user/2441349519143037"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            mysql ä¸­æ·»åŠ ç´¢å¼•çš„ä¸‰ç§æ–¹æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2441349519143037/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Javaæ°´è§£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T06:01:22.000Z" title="Wed Jan 28 2026 06:01:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä¸€ã€MySQLÂ åˆ›å»ºç´¢å¼•çš„ä¸‰ç§æ–¹æ³•</h3>
<h4 data-id="heading-1"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>1.1 åœ¨æ–°å»ºè¡¨æ—¶åˆ›å»ºç´¢å¼•</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- â‘  æ™®é€šç´¢å¼•</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> t_dept (
    <span class="hljs-keyword">no</span> <span class="hljs-type">INT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">PRIMARY</span> KEY,
    name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">NULL</span>,
    sex <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">2</span>) <span class="hljs-keyword">NULL</span>,
    info <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">NULL</span>,
    INDEX index_no(<span class="hljs-keyword">no</span>)
);
 
<span class="hljs-comment">-- â‘¡ å”¯ä¸€ç´¢å¼•</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> t_dept (
    <span class="hljs-keyword">no</span> <span class="hljs-type">INT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">PRIMARY</span> KEY,
    name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">NULL</span>,
    sex <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">2</span>) <span class="hljs-keyword">NULL</span>,
    info <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">NULL</span>,
    <span class="hljs-keyword">UNIQUE</span> INDEX index_name(name)
);
 
<span class="hljs-comment">-- â‘¢ å…¨æ–‡ç´¢å¼•ï¼ˆå…¨æ–‡ç´¢å¼•å­—æ®µé€šå¸¸ä¸º TEXT æˆ– VARCHARï¼Œä¸” InnoDB åœ¨ MySQL 5.6+ æ‰æ”¯æŒå…¨æ–‡ç´¢å¼•ï¼Œæ—©æœŸç‰ˆæœ¬ä»… MyISAM æ”¯æŒã€‚ï¼‰</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> t_dept (
    <span class="hljs-keyword">no</span> <span class="hljs-type">INT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">PRIMARY</span> KEY,
    name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">NULL</span>,
    sex <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">2</span>) <span class="hljs-keyword">NULL</span>,
    info TEXT <span class="hljs-keyword">NULL</span>,  <span class="hljs-comment">-- å…¨æ–‡ç´¢å¼•å­—æ®µå»ºè®®ç”¨ TEXT</span>
    FULLTEXT INDEX index_info(info)
);
 
<span class="hljs-comment">-- â‘£ å¤šåˆ—ï¼ˆå¤åˆï¼‰ç´¢å¼•</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> t_dept (
    <span class="hljs-keyword">no</span> <span class="hljs-type">INT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">PRIMARY</span> KEY,
    name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">NULL</span>,
    sex <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">2</span>) <span class="hljs-keyword">NULL</span>,
    info <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">NULL</span>,
    INDEX idx_no_name(<span class="hljs-keyword">no</span>, name)
);
AIå†™ä»£ç <span class="hljs-keyword">sql</span>
</code></pre>
<hr/>
<h4 data-id="heading-2"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>1.2 åœ¨å·²å­˜åœ¨è¡¨ä¸Šé€šè¿‡Â <code>CREATE INDEX</code>Â æ·»åŠ ç´¢å¼•</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æ™®é€šç´¢å¼•</span>
<span class="hljs-keyword">CREATE</span> INDEX idx_name <span class="hljs-keyword">ON</span> t_dept(name);
 
<span class="hljs-comment">-- å”¯ä¸€ç´¢å¼•</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">UNIQUE</span> INDEX idx_name <span class="hljs-keyword">ON</span> t_dept(name);
 
<span class="hljs-comment">-- å…¨æ–‡ç´¢å¼•</span>
<span class="hljs-keyword">CREATE</span> FULLTEXT INDEX idx_info <span class="hljs-keyword">ON</span> t_dept(info);
 
<span class="hljs-comment">-- å¤šåˆ—ç´¢å¼•</span>
<span class="hljs-keyword">CREATE</span> INDEX idx_name_no <span class="hljs-keyword">ON</span> t_dept(name, <span class="hljs-keyword">no</span>);
AIå†™ä»£ç <span class="hljs-keyword">sql</span>
</code></pre>
<blockquote>
<p>âš ï¸ æ­¤æ–¹å¼ä¸èƒ½ç”¨äºä¸»é”®æˆ–å¤–é”®çº¦æŸï¼Œä»…ç”¨äºæ™®é€š/å”¯ä¸€/å…¨æ–‡ç´¢å¼•ã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-3"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>1.3 é€šè¿‡Â <code>ALTER TABLE</code>Â ä¿®æ”¹è¡¨ç»“æ„æ·»åŠ ç´¢å¼•</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æ™®é€šç´¢å¼•</span>
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> t_dept <span class="hljs-keyword">ADD</span> INDEX idx_name(name);
 
<span class="hljs-comment">-- å”¯ä¸€ç´¢å¼•</span>
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> t_dept <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">UNIQUE</span> INDEX idx_name(name);
 
<span class="hljs-comment">-- å…¨æ–‡ç´¢å¼•</span>
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> t_dept <span class="hljs-keyword">ADD</span> FULLTEXT INDEX idx_info(info);
 
<span class="hljs-comment">-- å¤šåˆ—ç´¢å¼•</span>
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> t_dept <span class="hljs-keyword">ADD</span> INDEX idx_name_no(name, <span class="hljs-keyword">no</span>);
AIå†™ä»£ç 
</code></pre>
<blockquote>
<p>âœ… æ¨èåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨Â <code>ALTER TABLE</code>ï¼Œè¯­ä¹‰æ›´æ¸…æ™°ï¼Œä¸”æ”¯æŒæ›´å¤šé€‰é¡¹ï¼ˆå¦‚æŒ‡å®šç´¢å¼•ç±»å‹ï¼‰ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-4"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>äºŒã€MySQLÂ [ç´¢å¼•ç±»å‹]ä¸é€‚ç”¨åœºæ™¯</h3>









































<table><thead><tr><th>ç´¢å¼•ç±»å‹</th><th>å…³é”®å­—</th><th>ç‰¹ç‚¹</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>æ™®é€šç´¢å¼•</strong></td><td><code>INDEX</code>Â /Â <code>KEY</code></td><td>åŠ é€ŸæŸ¥è¯¢ï¼Œå…è®¸é‡å¤å€¼</td><td>é«˜é¢‘ WHEREã€ORDER BY å­—æ®µ</td></tr><tr><td><strong>å”¯ä¸€ç´¢å¼•</strong></td><td><code>UNIQUE</code></td><td>å€¼å”¯ä¸€ï¼Œè‡ªåŠ¨æ ¡éªŒé‡å¤</td><td>èº«ä»½è¯å·ã€é‚®ç®±ã€è®¢å•å·ç­‰éœ€å”¯ä¸€å­—æ®µ</td></tr><tr><td><strong>ä¸»é”®ç´¢å¼•</strong></td><td><code>PRIMARY KEY</code></td><td>ç‰¹æ®Šçš„å”¯ä¸€ç´¢å¼•ï¼Œä¸€å¼ è¡¨ä»…ä¸€ä¸ª</td><td>è¡¨çš„ä¸»æ ‡è¯†ï¼ˆè‡ªå¢ ID ç­‰ï¼‰</td></tr><tr><td><strong>å…¨æ–‡ç´¢å¼•</strong></td><td><code>FULLTEXT</code></td><td>æ”¯æŒå…³é”®è¯å…¨æ–‡æ£€ç´¢</td><td>æ–‡ç« å†…å®¹ã€å•†å“æè¿°ç­‰å¤§æ–‡æœ¬å­—æ®µ</td></tr><tr><td><strong>å¤åˆç´¢å¼•</strong></td><td><code>INDEX(col1, col2, ...)</code></td><td>å¤šå­—æ®µç»„åˆç´¢å¼•</td><td>å¤šæ¡ä»¶è”åˆæŸ¥è¯¢ï¼ˆæ³¨æ„æœ€å·¦å‰ç¼€åŸåˆ™ï¼‰</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-5"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>ä¸‰ã€ç´¢å¼•ä½¿ç”¨æ³¨æ„äº‹é¡¹ä¸é™åˆ¶</h3>
<h4 data-id="heading-6"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>âœ… æœ‰æ•ˆä½¿ç”¨ç´¢å¼•çš„åœºæ™¯</h4>
<ul>
<li><code>WHERE column = ?</code></li>
<li><code>WHERE column LIKE 'abc%'</code>ï¼ˆå‰ç¼€åŒ¹é…ï¼‰</li>
<li><code>ORDER BY column</code>ï¼ˆæ— è¡¨è¾¾å¼ï¼‰</li>
<li>å¤åˆç´¢å¼•éµå¾ªÂ <strong>æœ€å·¦å‰ç¼€åŸåˆ™</strong>ï¼š<code>INDEX(A,B,C)</code>Â å¯ç”¨äºÂ <code>(A)</code>ã€<code>(A,B)</code>ã€<code>(A,B,C)</code>Â æŸ¥è¯¢</li>
</ul>
<h4 data-id="heading-7"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>âŒ ç´¢å¼•å¤±æ•ˆçš„å¸¸è§æƒ…å†µ</h4>



































<table><thead><tr><th>åœºæ™¯</th><th>ç¤ºä¾‹</th><th>æ˜¯å¦èµ°ç´¢å¼•</th></tr></thead><tbody><tr><td>ä½¿ç”¨å‡½æ•°</td><td><code>WHERE DAY(create_time) = '2024-01-01'</code></td><td>âŒ</td></tr><tr><td>ä¸ç­‰å·æŸ¥è¯¢</td><td><code>WHERE status != 1</code></td><td>âŒï¼ˆéƒ¨åˆ†æƒ…å†µå¯èƒ½èµ°ï¼‰</td></tr><tr><td>é€šé…ç¬¦å¼€å¤´</td><td><code>WHERE name LIKE '%john'</code></td><td>âŒ</td></tr><tr><td>ç±»å‹éšå¼è½¬æ¢</td><td><code>WHERE user_id = '123'</code>ï¼ˆuser_id ä¸º INTï¼‰</td><td>âŒ</td></tr><tr><td>OR æ¡ä»¶æœªå…¨è¦†ç›–ç´¢å¼•</td><td><code>WHERE name = 'a' OR age = 20</code>ï¼ˆä»… name æœ‰ç´¢å¼•ï¼‰</td><td>âŒ</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-8"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>å››ã€ç´¢å¼•çš„ä¼˜ç¼ºç‚¹</h3>
<h4 data-id="heading-9"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>âœ… ä¼˜ç‚¹</h4>
<ul>
<li>æ˜¾è‘—æå‡Â <strong>SELECT</strong>Â æŸ¥è¯¢é€Ÿåº¦</li>
<li>åŠ é€ŸÂ <strong>JOIN</strong>ã€<strong>ORDER BY</strong>ã€<strong>GROUP BY</strong>Â æ“ä½œ</li>
<li>å”¯ä¸€ç´¢å¼•ä¿éšœæ•°æ®Â <strong>å®Œæ•´æ€§</strong></li>
</ul>
<h4 data-id="heading-10"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>âŒ ç¼ºç‚¹</h4>
<ul>
<li><strong>é™ä½å†™æ€§èƒ½</strong>ï¼šINSERT/UPDATE/DELETE éœ€åŒæ­¥æ›´æ–°ç´¢å¼•</li>
<li><strong>å ç”¨ç£ç›˜ç©ºé—´</strong>ï¼šç´¢å¼•æ–‡ä»¶å¯èƒ½æ¥è¿‘ç”šè‡³è¶…è¿‡æ•°æ®æœ¬èº«</li>
<li><strong>ç»´æŠ¤æˆæœ¬é«˜</strong>ï¼šè¿‡å¤šç´¢å¼•å¢åŠ ä¼˜åŒ–å™¨è´Ÿæ‹…</li>
</ul>
<blockquote>
<p>ğŸ“ŒÂ <strong>å»ºè®®</strong>ï¼š</p>
<ul>
<li>å•è¡¨ç´¢å¼•æ•°é‡ â‰¤ 5~8 ä¸ªï¼ˆMySQL é™åˆ¶æœ€å¤š 16 ä¸ªï¼‰</li>
<li>ä»…ä¸ºÂ <strong>é«˜é¢‘æŸ¥è¯¢å­—æ®µ</strong>Â å»ºç´¢å¼•</li>
<li>é¿å…ä¸ºä½åŒºåˆ†åº¦å­—æ®µå»ºç´¢å¼•ï¼ˆå¦‚æ€§åˆ«ã€çŠ¶æ€ 0/1ï¼‰</li>
</ul>
</blockquote>
<hr/>
<h3 data-id="heading-11"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>äº”ã€InnoDB ä¸ MyISAM ç´¢å¼•å·®å¼‚</h3>






























<table><thead><tr><th>ç‰¹æ€§</th><th>InnoDB</th><th>MyISAM</th></tr></thead><tbody><tr><td>ä¸»é”®ç´¢å¼•</td><td>èšç°‡ç´¢å¼•ï¼ˆæ•°æ®æŒ‰ä¸»é”®ç‰©ç†å­˜å‚¨ï¼‰</td><td>éèšç°‡ç´¢å¼•</td></tr><tr><td>å…¨æ–‡ç´¢å¼•</td><td>MySQL 5.6+ æ”¯æŒ</td><td>åŸç”Ÿæ”¯æŒ</td></tr><tr><td>è¡Œçº§é”</td><td>åŸºäºç´¢å¼•å®ç°</td><td>ä¸æ”¯æŒè¡Œé”</td></tr><tr><td>å´©æºƒæ¢å¤</td><td>æ”¯æŒäº‹åŠ¡å›æ»š</td><td>æ— äº‹åŠ¡</td></tr></tbody></table>
<blockquote>
<p>ğŸ”¥Â <strong>å…³é”®ç‚¹</strong>ï¼šInnoDB çš„è¡Œé”æ˜¯é€šè¿‡ç´¢å¼•å®ç°çš„ï¼<strong>æ— ç´¢å¼•çš„ UPDATE ä¼šé”å…¨è¡¨</strong>ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-12"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>å…­ã€ç´¢å¼•ä¼˜åŒ–å·¥å…·ï¼š<code>EXPLAIN</code></h3>
<p>ä½¿ç”¨Â <code>EXPLAIN</code>Â åˆ†æ SQL æ‰§è¡Œè®¡åˆ’ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">EXPLAIN SELECT * FROM t_dept WHERE <span class="hljs-attr">name</span> = <span class="hljs-string">'IT'</span><span class="hljs-comment">;</span>

AIå†™ä»£ç 
</code></pre>
<p>é‡ç‚¹å…³æ³¨å­—æ®µï¼š</p>
<ul>
<li><code>type</code>ï¼šè®¿é—®ç±»å‹ï¼ˆ<code>const</code>Â &gt;Â <code>ref</code>Â &gt;Â <code>range</code>Â &gt;Â <code>index</code>Â &gt;Â <code>ALL</code>ï¼‰</li>
<li><code>key</code>ï¼šå®é™…ä½¿ç”¨çš„ç´¢å¼•</li>
<li><code>rows</code>ï¼šæ‰«æè¡Œæ•°ï¼ˆè¶Šå°è¶Šå¥½ï¼‰</li>
<li><code>Extra</code>ï¼šæ˜¯å¦å‡ºç°Â <code>Using filesort</code>Â /Â <code>Using temporary</code></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScript å¼€å‘è€…å¿…çŸ¥çš„5ä¸ªé«˜æ•ˆè°ƒè¯•æŠ€å·§ï¼šå‘Šåˆ«console.logæ—¶ä»£ï¼]]></title>    <link>https://juejin.cn/post/7599927813601919016</link>    <guid>https://juejin.cn/post/7599927813601919016</guid>    <pubDate>2026-01-28T04:17:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599927813601919016" data-draft-id="7599966546559762432" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScript å¼€å‘è€…å¿…çŸ¥çš„5ä¸ªé«˜æ•ˆè°ƒè¯•æŠ€å·§ï¼šå‘Šåˆ«console.logæ—¶ä»£ï¼"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-28T04:17:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿æ©™çš„ç™¾å®ç®±"/> <meta itemprop="url" content="https://juejin.cn/user/1638743356481367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScript å¼€å‘è€…å¿…çŸ¥çš„5ä¸ªé«˜æ•ˆè°ƒè¯•æŠ€å·§ï¼šå‘Šåˆ«console.logæ—¶ä»£ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1638743356481367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿æ©™çš„ç™¾å®ç®±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T04:17:08.000Z" title="Wed Jan 28 2026 04:17:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>JavaScript å¼€å‘è€…å¿…çŸ¥çš„5ä¸ªé«˜æ•ˆè°ƒè¯•æŠ€å·§ï¼šå‘Šåˆ«console.logæ—¶ä»£ï¼</strong></h2>
<h2 data-id="heading-1">å¼•è¨€</h2>
<p>åœ¨JavaScriptå¼€å‘çš„ä¸–ç•Œä¸­ï¼Œè°ƒè¯•æ˜¯æ¯ä¸ªå¼€å‘è€…éƒ½æ— æ³•å›é¿çš„é‡è¦ç¯èŠ‚ã€‚é•¿æœŸä»¥æ¥ï¼Œ<code>console.log()</code> è¢«è§†ä¸ºè°ƒè¯•çš„"ç‘å£«å†›åˆ€"ï¼Œä½†è¿‡åº¦ä¾èµ–å®ƒå¾€å¾€ä¼šæ©ç›–æ›´é«˜æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚éšç€ç°ä»£æµè§ˆå™¨å¼€å‘å·¥å…·çš„ä¸æ–­è¿›åŒ–ä»¥åŠNode.jsç”Ÿæ€çš„æˆç†Ÿï¼ŒJavaScriptè°ƒè¯•å·²ç»è¿›å…¥äº†ä¸€ä¸ªå…¨æ–°çš„æ—¶ä»£ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨5ä¸ªä¸“ä¸šå¼€å‘è€…å¿…å¤‡çš„é«˜æ•ˆè°ƒè¯•æŠ€å·§ï¼Œå¸®åŠ©æ‚¨æå‡ç”Ÿäº§åŠ›ã€ç¼©çŸ­é—®é¢˜å®šä½æ—¶é—´ï¼Œå¹¶æœ€ç»ˆå‘Šåˆ«ä½æ•ˆçš„<code>console.log</code>æ—¶ä»£ã€‚</p>
<h2 data-id="heading-2">1. æ–­ç‚¹è°ƒè¯•çš„è‰ºæœ¯ï¼šæŒæ¡Chrome DevToolsçš„é«˜çº§ç”¨æ³•</h2>
<h3 data-id="heading-3">1.1 æ¡ä»¶æ–­ç‚¹ï¼ˆConditional Breakpointsï¼‰</h3>
<p>ä¼ ç»Ÿæ–­ç‚¹ä¼šåœ¨æ¯æ¬¡æ‰§è¡Œåˆ°è¯¥è¡Œä»£ç æ—¶æš‚åœï¼Œè¿™åœ¨å¾ªç¯æˆ–é«˜é¢‘è°ƒç”¨çš„å‡½æ•°ä¸­æä¸é«˜æ•ˆã€‚Chrome DevToolså…è®¸è®¾ç½®å¸¦æœ‰è¡¨è¾¾å¼çš„æ¡ä»¶æ–­ç‚¹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä»…åœ¨iå¤§äº10æ—¶è§¦å‘æ–­ç‚¹</span>
<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
    <span class="hljs-comment">// å³é”®ç‚¹å‡»è¡Œå· â†’ Add conditional breakpoint</span>
    <span class="hljs-comment">// è¾“å…¥æ¡ä»¶: i &gt; 10</span>
}
</code></pre>
<h3 data-id="heading-4">1.2 XHR/Fetchæ–­ç‚¹</h3>
<p>é’ˆå¯¹ç°ä»£å‰ç«¯åº”ç”¨é¢‘ç¹çš„ç½‘ç»œè¯·æ±‚ï¼Œå¯ä»¥è®¾ç½®ç‰¹å®šURLåŒ…å«æ¨¡å¼çš„è¯·æ±‚æ–­ç‚¹ï¼š</p>
<ol>
<li>æ‰“å¼€DevTools â†’ Sourcesé¢æ¿</li>
<li>åœ¨XHR BreakpointsåŒºåŸŸæ·»åŠ URLåŒ¹é…è§„åˆ™</li>
</ol>
<h3 data-id="heading-5">1.3 DOMå˜æ›´æ–­ç‚¹</h3>
<p>è¿½è¸ªéš¾ä»¥æ‰æ‘¸çš„DOMä¿®æ”¹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å³é”®å…ƒç´  â†’ Break on â†’ Subtree modifications/Attribute modifications/Node removal</span>
</code></pre>
<h3 data-id="heading-6">Pro Tipï¼š</h3>
<p>ä½¿ç”¨<code>debug(function)</code>APIå¯ä»¥åœ¨å‡½æ•°è¢«è°ƒç”¨æ—¶è‡ªåŠ¨æš‚åœæ‰§è¡Œï¼Œæ— éœ€æ‰‹åŠ¨æŸ¥æ‰¾æºä»£ç ä½ç½®ã€‚</p>
<h2 data-id="heading-7">2. Node.jsè°ƒè¯•çš„é©å‘½ï¼šV8 Inspectoré›†æˆ</h2>
<h3 data-id="heading-8">2.1 Chrome DevToolsè¿æ¥Nodeè¿›ç¨‹</h3>
<p>å¯åŠ¨Nodeåº”ç”¨æ—¶æ·»åŠ <code>--inspect</code>æ ‡å¿—ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">node --inspect server.js
</code></pre>
<p>ç„¶ååœ¨Chromeåœ°å€æ è®¿é—®<code>chrome://inspect</code></p>
<h3 data-id="heading-9">2.2 VS Codeå†…ç½®è°ƒè¯•å™¨é…ç½®ç¤ºä¾‹ï¼š</h3>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"node"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"request"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"launch"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Launch Program"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"skipFiles"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"&lt;node_internals&gt;/**"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"program"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${workspaceFolder}/app.js"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-10">Advanced Usageï¼š</h3>
<ul>
<li><code>--inspect-brk</code>åœ¨é¦–è¡Œä»£ç å¤„ä¸­æ–­</li>
<li>NODE_OPTIONSç¯å¢ƒå˜é‡å…¨å±€å¯ç”¨inspect</li>
</ul>
<h2 data-id="heading-11">3. consoleçš„é«˜çº§æŠ€æ³•ï¼šè¶…è¶Šç®€å•çš„æ—¥å¿—è¾“å‡º</h2>
<h3 data-id="heading-12">3.1 Structured Dataå±•ç¤ºï¼š</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">table</span>([
    {<span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Alice'</span>},
    {<span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Bob'</span>}
]);
</code></pre>
<h3 data-id="heading-13">3.2 Performance Tracingï¼š</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">time</span>(<span class="hljs-string">'databaseQuery'</span>);
<span class="hljs-keyword">await</span> <span class="hljs-title function_">queryDatabase</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">timeEnd</span>(<span class="hljs-string">'databaseQuery'</span>); <span class="hljs-comment">// databaseQuery: 325ms</span>
</code></pre>
<h3 data-id="heading-14">Deep Diveï¼š</h3>
<ul>
<li><code>console.dir()</code>æ˜¾ç¤ºDOMå…ƒç´ çš„å¯äº¤äº’å±æ€§åˆ—è¡¨</li>
<li><code>console.assert(condition, message)</code>å®ç°æ¡ä»¶æ—¥å¿—è®°å½•</li>
</ul>
<p>##4. Error Stack Traceè§£æä¸Source Mapå®æˆ˜</p>
<p>###4.1 Error.captureStackTraceå®šåˆ¶é”™è¯¯è¿½è¸ªï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">MyError</span>(<span class="hljs-params"/>) { 
 <span class="hljs-title class_">Error</span>.<span class="hljs-title function_">captureStackTrace</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-title class_">MyError</span>); 
} 
<span class="hljs-comment">// Creates cleaner stack traces by omitting this function frame </span>
</code></pre>
<p>###4.2 Source Mapæ·±åº¦é›†æˆï¼š
Webpacké…ç½®ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-attr">devtool</span>: <span class="hljs-string">'source-map'</span>, <span class="hljs-comment">// productionæ¨èç”¨hidden-source-map </span>
<span class="hljs-attr">productionSourceMap</span>: <span class="hljs-literal">true</span> 

é…åˆ<span class="hljs-variable constant_">HTTP</span>å¤´å®ç°å®‰å…¨éƒ¨ç½²ï¼š 
<span class="hljs-title class_">SourceMap</span>: <span class="hljs-regexp">/path/</span>to/file.<span class="hljs-property">map</span> 
X-<span class="hljs-title class_">SourceMap</span>-<span class="hljs-title class_">Version</span>: v3 

</code></pre>
<p>##5.Live Editingä¸Hot Code SwapæŠ€æœ¯</p>
<p>5.Chrome Workspacesç›´æ¥ç¼–è¾‘ç£ç›˜æ–‡ä»¶ ï¼š</p>
<p>â‘ å°†æœ¬åœ°æ–‡ä»¶å¤¹æ˜ å°„åˆ°DevTools Workspace</p>
<p>â‘¡å¯ç”¨File Systemæˆæƒ</p>
<p>â‘¢ä¿®æ”¹åCtrl+Sç›´æ¥ä¿å­˜åˆ°æºæ–‡ä»¶</p>
<p>5.React/Vueç»„ä»¶çƒ­æ›´æ–°åŸç† ï¼š</p>
<p>webpack-dev-serveré€šè¿‡WebSocketæ¨é€å˜æ›´<br/>
HMR Runtimeæ¥æ”¶æ›´æ–°å¹¶æ›¿æ¢æ¨¡å—<br/>
æ¡†æ¶ç‰¹å®šçš„reconcilerå¤„ç†çŠ¶æ€ä¿æŒ</p>
<p>Proçº§é…ç½®ï¼ˆwebpack.config.jsï¼‰ï¼š</p>
<p>devServer.hotOnly = true //å³ä½¿HMRå¤±è´¥ä¹Ÿä¸åˆ·æ–°é¡µé¢<br/>
module.hot.accept('./module', callback) //è‡ªå®šä¹‰çƒ­æ›´æ–°é€»è¾‘</p>
<hr/>
<p>##æ€»ç»“</p>
<p>ä»ä¼ ç»Ÿçš„æ—¥å¿—è¾“å‡ºåˆ°ç°ä»£çš„å®æ—¶è¯Šæ–­å·¥å…·é“¾ ï¼ŒJavaScriptè°ƒè¯•æŠ€æœ¯å·²ç»å‘ç”Ÿäº†è´¨çš„é£è·ƒ ã€‚æœ¬æ–‡ä»‹ç»çš„äº”ä¸ªç»´åº¦æ„æˆäº†å½“ä»£ä¸“ä¸šå¼€å‘è€…çš„æ ¸å¿ƒè°ƒè¯•èƒ½åŠ›æ¨¡å‹ ï¼š</p>
<p>â€¢ç²¾å‡†æ§åˆ¶çš„æ‰§è¡Œæµç®¡ç†ï¼ˆé«˜çº§æ–­ç‚¹ç³»ç»Ÿ ï¼‰<br/>
â€¢å…¨æ ˆç»Ÿä¸€çš„è¯Šæ–­ç•Œé¢ ï¼ˆNode+V8 inspectoræ•´åˆ ï¼‰<br/>
â€¢ç»“æ„åŒ–çš„é—®é¢˜æè¿°èƒ½åŠ› ï¼ˆå¢å¼ºå‹Console APIï¼‰<br/>
â€¢ç”Ÿäº§ç¯å¢ƒè¯Šæ–­æ”¯æŒ ï¼ˆSourceMapä¸é”™è¯¯è·Ÿè¸ª ï¼‰<br/>
â€¢å³æ—¶åé¦ˆçš„å¼€å‘å¾ªç¯ ï¼ˆLive Edit+HMRï¼‰</p>
<p>æŒæ¡è¿™äº›æŠ€æœ¯ä¸ä»…èƒ½å°†å¹³å‡é—®é¢˜è§£å†³æ—¶é—´ç¼©çŸ­60%ä»¥ä¸Š ï¼Œæ›´èƒ½ä»æ ¹æœ¬ä¸Šæ”¹å˜ä½ ä¸ä»£ç äº¤äº’çš„æ–¹å¼ ã€‚å½“ä½ å¯ä»¥ç›´æ¥åœ¨è¿è¡Œæ—¶ä¿®æ”¹çŠ¶æ€ ã€å›æº¯æ‰§è¡Œå†å²ç”šè‡³é¢„æµ‹æ½œåœ¨å¼‚å¸¸æ—¶ ï¼Œç¼–ç¨‹å°±å˜æˆäº†ä¸€ç§çœŸæ­£çš„å¯¹è¯è¿‡ç¨‹ ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Bun v1.3.7æ›´æ–°çŸ­è¯„]]></title>    <link>https://juejin.cn/post/7599927813602000936</link>    <guid>https://juejin.cn/post/7599927813602000936</guid>    <pubDate>2026-01-28T04:52:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599927813602000936" data-draft-id="7599927813601984552" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Bun v1.3.7æ›´æ–°çŸ­è¯„"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-28T04:52:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¹‹è™é™ˆéšæ˜“"/> <meta itemprop="url" content="https://juejin.cn/user/1239904846873326"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Bun v1.3.7æ›´æ–°çŸ­è¯„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1239904846873326/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¹‹è™é™ˆéšæ˜“
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T04:52:23.000Z" title="Wed Jan 28 2026 04:52:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å†œæ‘ç¨‹åºå‘˜ï¼Œç‹¬ç«‹å¼€å‘è€…ï¼Œå‰ç«¯ä¹‹è™é™ˆéšæ˜“ï¼ŒæŠ€æœ¯ç¾¤ä¸äº¤æœ‹å‹è¯·åœ¨ä¸ªäººç½‘ç«™ ğŸ‘‡ è”ç³»æˆ‘ âœŒï¸</p>
<ul>
<li>ä¸ªäººç½‘ç«™ 1ï¸âƒ£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fchensuiyi.me" target="_blank" title="https://chensuiyi.me" ref="nofollow noopener noreferrer">chensuiyi.me</a></li>
<li>ä¸ªäººç½‘ç«™ 2ï¸âƒ£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fme.yicode.tech" target="_blank" title="https://me.yicode.tech" ref="nofollow noopener noreferrer">me.yicode.tech</a></li>
</ul>
<p>æˆ‘çš„æ‰€æœ‰æ–‡ç« å‡ä¸ºå¤æ³•æ‰‹å†™ï¼Œæ—  AI æ·»åŠ å‰‚ï¼Œè¯·æ”¾å¿ƒé£Ÿç”¨ï¼Œå¦‚æœä½ è§‰å¾—æœ¬æ–‡æœ‰ç”¨ï¼Œä¸€é”®ä¸‰è¿ (<code>ç‚¹èµ</code>ã€<code>è¯„è®º</code>ã€<code>è½¬å‘</code>)ï¼Œå°±æ˜¯å¯¹æˆ‘æœ€å¤§çš„æ”¯æŒ~</p>
<hr/>
<p>è·ç¦»v1.3.6å‘å¸ƒåº”è¯¥ä¸åˆ°åŠä¸ªæœˆå§ï¼Œv1.3.7å·²ç»å‘å¸ƒäº†ï¼ŒBunçš„å‘ç‰ˆèŠ‚å¥çœŸæ˜¯æ¯”ç«ç®­è¿˜å¿«ã€‚</p>
<p>å‘ç‰ˆå¿«å°±ç®—äº†ï¼Œæ›´ç‰›çš„æ˜¯ï¼Œæ¯æ¬¡éƒ½èƒ½å¸¦æ¥ä¸€äº›äº®çœ¼çš„åŠŸèƒ½ï¼Œæœ¬æ–‡å°±æ¥ç®€å•ç›˜ç‚¹ä¸€ä¸‹ã€‚</p>
<h2 data-id="heading-0">å¿«ï¼Œå¿«ï¼Œå¿«</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/72ac7599408347e39c54474e5c07eb06~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5LmL6JmO6ZmI6ZqP5piT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770180743&amp;x-signature=42Y00%2BNu4JMhZcqeIfxn0RTJZwc%3D" alt="" loading="lazy"/></p>
<p>æ€§èƒ½æ˜¯Bunçš„ä¸»æ‰“æ–¹å‘ï¼Œè¿™æ¬¡ä¹Ÿä¸ä¾‹å¤–ï¼Œå¸¦æ¥äº†å¤§é‡çš„æ€§èƒ½æå‡ã€‚</p>
<ul>
<li><code>Buffer.from</code> å¿«äº†<code>50%</code></li>
<li><code>JavaScriptCore</code> å‡çº§åˆ°æœ€æ–°ç‰ˆ</li>
<li><code>async/await</code> å¿«äº† <code>35%</code></li>
<li><code>Array.from</code> å¿«äº† <code>2å€</code></li>
<li><code>string.padStart</code> å’Œ <code>string.padEnd</code>å¿«äº†<code>90%</code></li>
<li><code>array.flat</code>å¿«äº†<code>3å€</code></li>
<li><code>ARM64</code> ä¸Šé¢æ€§èƒ½æå‡</li>
</ul>
<h2 data-id="heading-1">fetch å‘é€ HTTP è¯·æ±‚æ—¶ä¿ç•™å¤´éƒ¨å¤§å°å†™</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://api.example.com/data'</span>, {
    <span class="hljs-attr">headers</span>: {
        <span class="hljs-title class_">Authorization</span>: <span class="hljs-string">'Bearer token123'</span>, <span class="hljs-comment">// å‘é€ "Authorization"</span>
        <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>, <span class="hljs-comment">// å‘é€ "Content-Type"</span>
        <span class="hljs-string">'X-Custom-Header'</span>: <span class="hljs-string">'value'</span> <span class="hljs-comment">// å‘é€ "X-Custom-Header"</span>
    }
});

<span class="hljs-keyword">const</span> headers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Headers</span>();
headers.<span class="hljs-title function_">set</span>(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'text/plain'</span>); <span class="hljs-comment">// å‘é€ "Content-Type"</span>
</code></pre>
<p>è¿™ä¸ªæˆ‘æŒºå–œæ¬¢çš„ï¼Œç¼–ç¨‹å°±åº”è¯¥è¦å…·å¤‡ç¡®å®šæ€§ï¼Œè™½ç„¶httpåè®®ä¸åŒºåˆ†å¤´éƒ¨å±æ€§çš„å¤§å°å†™ï¼Œä½†ä½ æ˜æ˜ä¼ äº†<code>Authorization</code>ï¼ŒæœåŠ¡ç«¯æ¥å—å´å˜æˆäº†<code>authorization</code>ï¼Œè¿˜æ˜¯æ€ªåˆ«æ‰­çš„ã€‚</p>
<h2 data-id="heading-2">æ–°å¢ Bun.wrapAnsi()</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/01d2aab533754581b680c2138675d98b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5LmL6JmO6ZmI6ZqP5piT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770180743&amp;x-signature=q0%2BhTV9GACDjmK33gFPs0ca0OW4%3D" alt="" loading="lazy"/></p>
<p>Bunå·²ç»å†…ç½®äº†npmåŒ…wrap-ansiçš„å®ç°ï¼Œè¿™æ˜¯åœ¨ç»ˆç«¯æ˜¾ç¤ºè½¬ä¹‰å­—ç¬¦ï¼Œå½©è‰²è¾“å‡ºçš„æ–¹æ³•ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/49b066683ed9462ab9fec22f8eea75dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5LmL6JmO6ZmI6ZqP5piT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770180743&amp;x-signature=1oudFCDvMAYhrp2ejFHiUYsmTbE%3D" alt="" loading="lazy"/></p>
<p>æˆ‘ä¹‹å‰å†™è¿‡çš„ä¸€ç¯‡æ–‡ç« <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FUjsuNUOnrIoDwiXsnlaYZw" target="_blank" title="https://mp.weixin.qq.com/s/UjsuNUOnrIoDwiXsnlaYZw" ref="nofollow noopener noreferrer">ç›˜ç‚¹Bunå†…ç½®äº†å“ªäº›npmåŒ…åŠŸèƒ½</a>ç°åœ¨åˆèƒ½æ–°å¢ä¸€ä¸ªå†…ç½®å¯æ›¿æ¢çš„npmåŒ…äº†ã€‚</p>
<p>æˆ‘ç‰¹åˆ«å–œæ¬¢è¿™ç§<code>å…¨åŒ…å¹²</code>ï¼Œä¸ºå•¥å‘¢ï¼Ÿå› ä¸ºå¾ˆå¤šä¸œè¥¿æœ¬å°±ç®€å•ï¼Œå‡ ä¹ä¸‡å¹´ä¸å˜çš„ï¼Œå†…ç½®åˆ°è¿è¡Œæ—¶é‡Œé¢ï¼Œæ–¹ä¾¿åˆå¿«æ·ã€‚</p>
<p>åŒæ—¶å‘¢ï¼Œå†…ç½®å®ç°ä¸€èˆ¬æ€§èƒ½æ›´é«˜ï¼Œæ¯”å¦‚<code>Bun.wrapAnsi</code>å°±æ¯”<code>wrap-ansi</code>å¿«äº†<code>33å€-88å€</code>ï¼Œä¹Ÿå‡å°‘äº†å¾ˆå¤šæ‰¾åº“ï¼Œæ‰¾åŒ…çš„æ—¶é—´ï¼Œéå¸¸Niceã€‚</p>
<h2 data-id="heading-3">Markdown CPU Profile è¾“å‡º</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/584ceb4aea2e493789326199f78da611~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5LmL6JmO6ZmI6ZqP5piT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770180743&amp;x-signature=OlYtEUw2BXjBXml36bZI8aZACMo%3D" alt="" loading="lazy"/></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä»…ç”Ÿæˆ Markdown é…ç½®æ–‡ä»¶</span>
bun --cpu-prof-md script.js

<span class="hljs-comment"># ç”Ÿæˆ Chrome DevTools JSON å’Œ Markdown æ ¼å¼</span>
bun --cpu-prof --cpu-prof-md script.js

<span class="hljs-comment"># ç”Ÿæˆä¸ V8 å…¼å®¹çš„å †å¿«ç…§ï¼ˆåœ¨ Chrome å¼€å‘è€…å·¥å…·ä¸­æ‰“å¼€ï¼‰</span>
bun --heap-prof script.js

<span class="hljs-comment"># ç”Ÿæˆ Markdown å †é…ç½®æ–‡ä»¶ï¼ˆç”¨äºä½¿ç”¨ grep/sed/awk è¿›è¡Œ CLI åˆ†æï¼‰</span>
bun --heap-prof-md script.js

<span class="hljs-comment"># æŒ‡å®šè¾“å‡ºä½ç½®</span>
bun --heap-prof --heap-prof-dir ./profiles --heap-prof-name my-snapshot.heapsnapshot script.js

</code></pre>
<p>é‡ç£…åŠŸèƒ½ï¼Œè€é“ä»¬ï¼ŒAIå‹å¥½çš„æ€§èƒ½åˆ†æï¼Œè°ƒä¼˜ï¼Œç›´æ¥å¾—åˆ°ä¸€ä¸ªæ€§èƒ½æ–¹é¢çš„mdæ–‡æ¡£ï¼Œæ‰”ç»™AIï¼Œé¡¹ç›®æ€§èƒ½é—®é¢˜ï¼Œå†…å­˜æ³„æ¼ï¼Œä¸€æ¸…äºŒæ¥šï¼Œä¼°è®¡è¿™ä¸ªåŠŸèƒ½å…¶ä»–å‡ ä¸ªè¿è¡Œæ—¶ï¼ŒåŒ…æ‹¬å…¶ä»–è¯­è¨€ä¹Ÿä¼šå¾ˆå¿«è·Ÿä¸Šã€‚</p>
<h2 data-id="heading-4">åŸç”Ÿ JSON5 æ”¯æŒ</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// è§£æJSON5å­—ç¬¦</span>
<span class="hljs-keyword">const</span> config = <span class="hljs-title class_">Bun</span>.<span class="hljs-property">JSON5</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-string">`{
  // Database configuration
  host: 'localhost',
  port: 5432,
  ssl: true,
}`</span>);

<span class="hljs-comment">// JSON5å­—ç¬¦ä¸²åŒ–</span>
<span class="hljs-keyword">const</span> output = <span class="hljs-title class_">Bun</span>.<span class="hljs-property">JSON5</span>.<span class="hljs-title function_">stringify</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'app'</span>, <span class="hljs-attr">version</span>: <span class="hljs-number">1</span> });

<span class="hljs-comment">// ç›´æ¥å¯¼å…¥JSON5æ–‡ä»¶</span>
<span class="hljs-keyword">import</span> settings <span class="hljs-keyword">from</span> <span class="hljs-string">'./config.json5'</span>;
</code></pre>
<p>JSON5 æ˜¯ JSON çš„è¶…é›†ï¼Œå¢åŠ äº†å¼€å‘è€…å‹å¥½çš„ç‰¹æ€§ï¼Œå¦‚æ³¨é‡Šã€å°¾éšé€—å·ã€æœªåŠ å¼•å·çš„é”®ã€å•å¼•å·å­—ç¬¦ä¸²å’Œåå…­è¿›åˆ¶æ•°å­—ã€‚</p>
<p>å®ƒè¢« Chromiumã€Next.jsã€Babel å’Œ WebStorm ç­‰ä¸»è¦é¡¹ç›®ä½¿ç”¨ã€‚</p>
<p>JSON5 ç‰¹åˆ«é€‚ç”¨äºé…ç½®æ–‡ä»¶ï¼Œå…¶ä¸­æ³¨é‡Šå’Œå°¾éšé€—å·å¯ä»¥æé«˜å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p>
<h2 data-id="heading-5">Bun.JSONL ç”¨äºæµå¼è§£æ JSONL</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> results = <span class="hljs-title class_">Bun</span>.<span class="hljs-property">JSONL</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-string">'{"name":"Alice"}\n{"name":"Bob"}\n'</span>);
<span class="hljs-comment">// [{ name: "Alice" }, { name: "Bob" }]</span>

<span class="hljs-comment">// Uint8Array ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œ (UTF-8 BOM è‡ªåŠ¨å¿½ç•¥)</span>
<span class="hljs-keyword">const</span> buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextEncoder</span>().<span class="hljs-title function_">encode</span>(<span class="hljs-string">'{"a":1}\n{"b":2}\n'</span>);
<span class="hljs-keyword">const</span> records = <span class="hljs-title class_">Bun</span>.<span class="hljs-property">JSONL</span>.<span class="hljs-title function_">parse</span>(buffer);
<span class="hljs-comment">// [{ a: 1 }, { b: 2 }]</span>
</code></pre>
<p>Bun ç°åœ¨å†…ç½®æ”¯æŒè§£æ JSONLï¼ˆæ¢è¡Œç¬¦åˆ†éš”çš„ JSONï¼‰ã€‚</p>
<p>è¯¥è§£æå™¨ä½¿ç”¨ JavaScriptCore çš„ä¼˜åŒ– JSON è§£æå™¨ä»¥ C++å®ç°ï¼Œä¸ºå®Œæ•´è¾“å…¥å’Œæµå¼ä½¿ç”¨åœºæ™¯æä¾›å¿«é€Ÿè§£æã€‚</p>
<p>æˆ‘èƒ½æƒ³åˆ°çš„ä¸€ä¸ªåœºæ™¯å°±æ˜¯ï¼Œjsonæ ¼å¼çš„æ—¥å¿—åˆ†æï¼Œåº”è¯¥ä¼šå¾ˆæ–¹ä¾¿ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> chunk = <span class="hljs-string">'{"id":1}\n{"id":2}\n{"id":3'</span>;

<span class="hljs-keyword">const</span> result = <span class="hljs-title class_">Bun</span>.<span class="hljs-property">JSONL</span>.<span class="hljs-title function_">parseChunk</span>(chunk);
result.<span class="hljs-property">values</span>; <span class="hljs-comment">// [{ id: 1 }, { id: 2 }]</span>
result.<span class="hljs-property">read</span>; <span class="hljs-comment">// 17 â€” characters consumed</span>
result.<span class="hljs-property">done</span>; <span class="hljs-comment">// false â€” incomplete value remains</span>
result.<span class="hljs-property">error</span>; <span class="hljs-comment">// null â€” no parse error</span>
</code></pre>
<p>åœ¨æµå¼åœºæ™¯ä¸­ï¼Œ parseChunk å°½å¯èƒ½è§£æå¤šä¸ªå®Œæ•´å€¼ï¼Œå¹¶è¿”å›è§£æçš„è¿›åº¦â€”â€”å½“ä»ç½‘ç»œæµé€æ­¥æ¥æ”¶æ•°æ®æ—¶å¾ˆæœ‰ç”¨ã€‚</p>
<h2 data-id="heading-6">S3 presign() ç°åœ¨æ”¯æŒ contentDisposition å’Œ type é€‰é¡¹</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { S3Client } <span class="hljs-keyword">from</span> <span class="hljs-string">'bun'</span>;

<span class="hljs-keyword">const</span> s3 = <span class="hljs-keyword">new</span> <span class="hljs-title function_">S3Client</span>({
    <span class="hljs-attr">region</span>: <span class="hljs-string">'us-east-1'</span>,
    <span class="hljs-attr">endpoint</span>: <span class="hljs-string">'https://s3.us-east-1.amazonaws.com'</span>,
    <span class="hljs-attr">accessKeyId</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">AWS_ACCESS_KEY_ID</span>,
    <span class="hljs-attr">secretAccessKey</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">AWS_SECRET_ACCESS_KEY</span>,
    <span class="hljs-attr">bucket</span>: <span class="hljs-string">'my-bucket'</span>
});

<span class="hljs-keyword">const</span> file = s3.<span class="hljs-title function_">file</span>(<span class="hljs-string">'report.pdf'</span>);

<span class="hljs-keyword">const</span> url = file.<span class="hljs-title function_">presign</span>({
    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,
    <span class="hljs-attr">expiresIn</span>: <span class="hljs-number">900</span>,
    <span class="hljs-attr">contentDisposition</span>: <span class="hljs-string">'attachment; filename="quarterly-report.pdf"'</span>,
    <span class="hljs-attr">type</span>: <span class="hljs-string">'application/octet-stream'</span>
});
</code></pre>
<p>ä¿®å¤äº†ä¸€ä¸ªé—®é¢˜ï¼Œå³åœ¨ç”Ÿæˆé¢„ç­¾å URL æ—¶ S3File.presign() ä¼šå¿½ç•¥ contentDisposition å’Œ type é€‰é¡¹ã€‚</p>
<p>è¿™äº›é€‰é¡¹ç°åœ¨è¢«æ­£ç¡®åœ°åŒ…å«ä¸º response-content-disposition å’Œ response-content-type æŸ¥è¯¢å‚æ•°ã€‚</p>
<p>è¿™åœ¨ä½ å¸Œæœ›æµè§ˆå™¨å°†æ–‡ä»¶ä½œä¸ºé™„ä»¶ä¸‹è½½è€Œä¸æ˜¯å†…è”æ˜¾ç¤ºæ—¶ç‰¹åˆ«æœ‰ç”¨ã€‚</p>
<h2 data-id="heading-7">bun pm pack ç°åœ¨ä¼šå°Šé‡æ¥è‡ªç”Ÿå‘½å‘¨æœŸè„šæœ¬å¯¹ package.json çš„æ›´æ”¹</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// package.json</span>
{
  <span class="hljs-string">"name"</span>: <span class="hljs-string">"my-package"</span>,
  <span class="hljs-string">"version"</span>: <span class="hljs-string">"1.0.0"</span>,
  <span class="hljs-string">"scripts"</span>: {
    <span class="hljs-string">"prepack"</span>: <span class="hljs-string">"node prepack.js"</span>
  },
  <span class="hljs-string">"description"</span>: <span class="hljs-string">"Original description"</span>,
  <span class="hljs-string">"devDependencies"</span>: { <span class="hljs-comment">/* ... */</span> }
}

<span class="hljs-comment">// prepack.js - æ‰“åŒ…ä¹‹å‰æ”¹å˜package.json</span>
<span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>);
<span class="hljs-keyword">const</span> pkg = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(fs.<span class="hljs-title function_">readFileSync</span>(<span class="hljs-string">'package.json'</span>, <span class="hljs-string">'utf8'</span>));
<span class="hljs-keyword">delete</span> pkg.<span class="hljs-property">devDependencies</span>;
pkg.<span class="hljs-property">description</span> = <span class="hljs-string">'Production build'</span>;
fs.<span class="hljs-title function_">writeFileSync</span>(<span class="hljs-string">'package.json'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(pkg, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>));

</code></pre>
<p>bun pm pack åœ¨è¿è¡Œ prepack ã€ prepare å’Œ prepublishOnly è„šæœ¬åé‡æ–°è¯»å– package.json ï¼Œç¡®ä¿è¿™äº›è„šæœ¬æ‰€åšçš„ä»»ä½•ä¿®æ”¹éƒ½åŒ…å«åœ¨ tarball ä¸­ã€‚</p>
<h2 data-id="heading-8">node:inspector åˆ†æå™¨ API</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> inspector <span class="hljs-keyword">from</span> <span class="hljs-string">'node:inspector/promises'</span>;

<span class="hljs-keyword">const</span> session = <span class="hljs-keyword">new</span> inspector.<span class="hljs-title class_">Session</span>();
session.<span class="hljs-title function_">connect</span>();

<span class="hljs-keyword">await</span> session.<span class="hljs-title function_">post</span>(<span class="hljs-string">'Profiler.enable'</span>);
<span class="hljs-keyword">await</span> session.<span class="hljs-title function_">post</span>(<span class="hljs-string">'Profiler.start'</span>);

<span class="hljs-keyword">const</span> { profile } = <span class="hljs-keyword">await</span> session.<span class="hljs-title function_">post</span>(<span class="hljs-string">'Profiler.stop'</span>);
<span class="hljs-keyword">await</span> session.<span class="hljs-title function_">post</span>(<span class="hljs-string">'Profiler.disable'</span>);
</code></pre>
<p>Bun ç°åœ¨é€šè¿‡ Chrome DevTools Protocol å®ç°äº† node:inspector Profiler APIï¼Œç”¨äº CPU åˆ†æã€‚</p>
<h2 data-id="heading-9">å¢åŠ æœ€å¤§ HTTP å¤´æ•°é‡</h2>
<p>è¯·æ±‚å’Œå“åº”ä¸­å…è®¸çš„æœ€å¤§ HTTP å¤´æ•°é‡å·²ä» 100 å¢åŠ åˆ° 200ã€‚</p>
<p>è¿™æé«˜äº†ä¸å‘é€å¤§é‡å¤´çš„æœåŠ¡çš„å…¼å®¹æ€§ï¼Œä¾‹å¦‚å…·æœ‰å¹¿æ³›å…ƒæ•°æ®çš„ API æˆ–é™„åŠ å¤šä¸ªè½¬å‘å¤´çš„ä»£ç†ã€‚</p>
<h2 data-id="heading-10">WebSocket URL å‡­è¯æ”¯æŒ</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å‡­è¯ä¼šè‡ªåŠ¨è½¬å‘</span>
<span class="hljs-keyword">const</span> ws = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebSocket</span>(<span class="hljs-string">'ws://username:password@example.com/socket'</span>);

<span class="hljs-comment">// ç”¨æˆ·æä¾›çš„æˆæƒæ ‡å¤´å…·æœ‰ä¼˜å…ˆæƒ</span>
<span class="hljs-keyword">const</span> ws2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebSocket</span>(<span class="hljs-string">'ws://user:pass@example.com/socket'</span>, {
    <span class="hljs-attr">headers</span>: {
        <span class="hljs-title class_">Authorization</span>: <span class="hljs-string">'Bearer custom-token'</span> <span class="hljs-comment">// è¿™å°†æ›¿æ¢é»˜è®¤è½¬å‘çš„ Authorization</span>
    }
});
</code></pre>
<p>WebSocket è¿æ¥ç°åœ¨æ­£ç¡®åœ°å°† URL ä¸­åµŒå…¥çš„å‡­è¯ä½œä¸ºåŸºæœ¬æˆæƒå¤´è½¬å‘ï¼Œä¸ Node.js è¡Œä¸ºä¸€è‡´ã€‚</p>
<p>å½“è¿æ¥åˆ°ä¸€ä¸ªåŒ…å«å‡­è¯çš„ WebSocket URLï¼ˆå¦‚ ws://user:pass@host ï¼‰æ—¶ï¼ŒBun ç°åœ¨ä¼šè‡ªåŠ¨æå–å‡­è¯ï¼Œå¹¶åœ¨ WebSocket å‡çº§æ¡æ‰‹è¿‡ç¨‹ä¸­å°†å…¶ä½œä¸ºæ­£ç¡®ç¼–ç çš„ Authorization: Basic å¤´éƒ¨å‘é€ã€‚</p>
<hr/>
<p>ä»¥ä¸Šå°±æ˜¯æœ¬æ¬¡æ›´æ–°å†…å®¹ï¼Œæˆ‘æ˜¯<code>ç¼–ç¨‹è®°è€…é™ˆéšæ˜“</code>ï¼Œç»™å¤§å®¶åˆ†äº«è¡Œä¸šçƒ­ç‚¹ï¼Œä»£ç æŠ€æœ¯ï¼Œç¼–ç¨‹èµ„è®¯ç­‰ï¼Œæ¬¢è¿å…³æ³¨~</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2026 å¼€å¹´å³ç”¨ï¼šæ¿å—å¼è¿›åº¦é€è§†ç®¡ç†å·¥å…·å¿«é€Ÿä¸Šæ‰‹ç§˜ç±ä¸æ ¸å¿ƒåŠŸèƒ½æ”»ç•¥]]></title>    <link>https://juejin.cn/post/7599852042531078154</link>    <guid>https://juejin.cn/post/7599852042531078154</guid>    <pubDate>2026-01-28T02:04:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599852042531078154" data-draft-id="7599912857392545838" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2026 å¼€å¹´å³ç”¨ï¼šæ¿å—å¼è¿›åº¦é€è§†ç®¡ç†å·¥å…·å¿«é€Ÿä¸Šæ‰‹ç§˜ç±ä¸æ ¸å¿ƒåŠŸèƒ½æ”»ç•¥"/> <meta itemprop="keywords" content="å›¢é˜Ÿç®¡ç†"/> <meta itemprop="datePublished" content="2026-01-28T02:04:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="dyinå‡Œgod"/> <meta itemprop="url" content="https://juejin.cn/user/2754714125992808"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2026 å¼€å¹´å³ç”¨ï¼šæ¿å—å¼è¿›åº¦é€è§†ç®¡ç†å·¥å…·å¿«é€Ÿä¸Šæ‰‹ç§˜ç±ä¸æ ¸å¿ƒåŠŸèƒ½æ”»ç•¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2754714125992808/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    dyinå‡Œgod
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T02:04:21.000Z" title="Wed Jan 28 2026 02:04:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨é¡¹ç›®ç®¡ç†æ—¥ç›Šå¤æ‚çš„æ•°å­—åŒ–ç¯å¢ƒä¸­ï¼Œå›¢é˜Ÿçš„æ•ˆç‡ç“¶é¢ˆå·²ä»"ä»»åŠ¡åˆ†é…"è½¬å‘"è¿›åº¦å…³ç³»çš„ç²¾å‡†è§£æ"ã€‚æ¿å—å¼è¿›åº¦é€è§†å·¥å…·ä¸ä»…æ˜¯é™æ€çš„ç”˜ç‰¹å›¾æˆ–çº¿æ€§è¿›åº¦è¡¨ï¼Œæ›´æ˜¯é€šè¿‡å¤šç»´æ‹“æ‰‘çš„é€»è¾‘æ˜ å°„ï¼Œå°†é”™ç»¼å¤æ‚çš„é¡¹ç›®ç½‘ç»œè½¬åŒ–ä¸ºå¯è§†åŒ–ã€å¯æ¨ªå‘/çºµå‘å…³è”çš„æ¿å—å¼è¿›åº¦èµ„äº§çš„è§£æå¼•æ“ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ ä¸ºä»€ä¹ˆç°ä»£é¡¹ç›®ç®¡ç†å¿…é¡»é‡è§†"æ¿å—å¼"é€è§†ï¼Ÿ</h2>
<p>ä¼ ç»Ÿå•å±‚è¿›åº¦è¡¨æˆ–çº¿æ€§ä»»åŠ¡åˆ—è¡¨å¾€å¾€å¯¼è‡´"è¿›åº¦ç›²åŒº"ï¼šå…³è”ä»»åŠ¡è¢«å‰²è£‚ï¼Œåº•å±‚ä¾èµ–è¢«æ©ç›–åœ¨ç¦»æ•£çš„æ¡ç›®ä¸­ã€‚æ¿å—å¼è¿›åº¦é€è§†å·¥å…·çš„æ ¸å¿ƒä»·å€¼åœ¨äºï¼š</p>
<ul>
<li><strong>æ¶ˆé™¤è¿›åº¦ç›²åŒº</strong>ï¼šé€šè¿‡æ¿å—å†…éƒ¨çš„æ— é™ç»†åˆ†ï¼Œç¡®ä¿æ¯ä¸€ä¸ªç»†å¾®ä»»åŠ¡éƒ½èƒ½åœ¨å®è§‚é¡¹ç›®ç»“æ„ä¸­æ‰¾åˆ°å½’å±ï¼Œè€Œéæ‚¬æµ®å­˜åœ¨ã€‚</li>
<li><strong>æ”¯æ’‘å¤šç»´è¿›åº¦ç©¿é€</strong>ï¼šæ”¯æŒåœ¨é€è§†è¿‡ç¨‹ä¸­å®ç°è·¨é˜¶æ®µç©¿é€ï¼Œä»æ ¸å¿ƒé‡Œç¨‹ç¢‘å±‚ç¬ç§»è‡³æœ€è¾¹ç¼˜çš„æ”¯æ’‘ç»†èŠ‚ã€‚</li>
<li><strong>å®ç°æ‹“æ‰‘è¿›åº¦å¯¹é½</strong>ï¼šé€šè¿‡å¤šé‡åŒ…å«å…³ç³»ï¼Œå„æ¨¡å—çš„è¿›åº¦é€»è¾‘è‡ªåŠ¨å½¢æˆäº’è”ç½‘ç»œï¼Œç¡®ä¿å›¢é˜Ÿå¯¹å¤æ‚é¡¹ç›®è®¤çŸ¥çš„ä¸€è‡´æ€§ã€‚</li>
<li><strong>éçº¿æ€§ä»»åŠ¡æ¨¡å—åŒ–å°è£…</strong>ï¼šå°†å·²éªŒè¯çš„è¿›åº¦æ¨¡å‹å°è£…ä¸ºæ¿å—ç»„ä»¶ï¼Œå®ç°å¤æ‚é¡¹ç›®åœ¨ä¸åŒä¸šåŠ¡åœºæ™¯ä¸‹çš„å¿«é€Ÿé€è§†ä¸è°ƒç”¨ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-1">äºŒã€ æ¿å—å¼é€è§†çš„æŠ€æœ¯è·¯å¾„ï¼šä¸‰ç»´è¿›åº¦æ¶æ„</h2>
<p>æ„å»ºæ¿å—å¼è¿›åº¦é€è§†ä½“ç³»éœ€è¦éµå¾ª"æ¿å—è§£æ„"ä¸"è¿›åº¦å…³è”"çš„é€»è¾‘ï¼š</p>
<ol>
<li><strong>å®è§‚æ¿å—å±‚ï¼ˆMacro Panelï¼‰</strong> ï¼šå®šä¹‰é€è§†çš„æ ¸å¿ƒé”šç‚¹ï¼Œå±•ç¤ºé¡¹ç›®å…¨å±€çš„ä»·å€¼æµå‘ã€å…³é”®é‡Œç¨‹ç¢‘åŠç³»ç»Ÿè¾¹ç•Œã€‚</li>
<li><strong>åµŒå¥—è¿›åº¦å±‚ï¼ˆNested Progressï¼‰</strong> ï¼šå°†æ ¸å¿ƒæ¿å—æ‹†è§£ä¸ºå…·æœ‰ä»å±æˆ–å¹¶åˆ—å…³ç³»çš„äºŒçº§è¿›åº¦ç©ºé—´ï¼Œè®°å½•ä»»åŠ¡é—´çš„åŠ¨æ€äº¤äº’ä¸ä¾èµ–é“¾æ¡ã€‚</li>
<li><strong>å…ƒæ•°æ®é€è§†å±‚ï¼ˆMetadata Perspectiveï¼‰</strong> ï¼šä½äºé€è§†çš„æœ€æ·±å¤„ï¼Œèšç„¦äºå…·ä½“ä»»åŠ¡çš„å®šä¹‰ä¸å‚æ•°ï¼Œæä¾›åŸå­çº§çš„çŠ¶æ€æè¿°ä¸éªŒè¯æ ‡å‡†ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€ æ ¸å¿ƒæŠ€æœ¯å®ç°ä¸ç®—æ³•ç¤ºä¾‹</h2>
<p>æ¿å—å¼è¿›åº¦é€è§†å·¥å…·çš„åº•å±‚é€»è¾‘æ¶‰åŠä»»åŠ¡æ·±åº¦éå†ã€ä¾èµ–ç¯è·¯æ£€æµ‹åŠè¿›åº¦è·¯å¾„ä¼˜åŒ–ç®—æ³•ã€‚</p>
<h3 data-id="heading-3">1. åŸºäºé€’å½’æœç´¢çš„åµŒå¥—ä»»åŠ¡æœç´¢ï¼ˆJavaScriptï¼‰</h3>
<p>åœ¨æ¿å—å¼è¿›åº¦ç»“æ„ä¸­ï¼Œå¿«é€Ÿå®šä½æ·±å±‚ä»»åŠ¡æ˜¯é€è§†çš„æ ¸å¿ƒã€‚ä»¥ä¸‹ä¸ºå®ç°ä»»åŠ¡æ·±åº¦æ£€ç´¢çš„é€»è¾‘ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">/**
 * é€’å½’æ£€ç´¢åµŒå¥—è¿›åº¦ç»“æ„ä¸­çš„ç›®æ ‡ä»»åŠ¡
 * <span class="hljs-doctag">@param</span> {Array} panelTasks æ¿å—ä»»åŠ¡æ•°ç»„
 * <span class="hljs-doctag">@param</span> {string} targetId ç›®æ ‡ä»»åŠ¡ID
 * <span class="hljs-doctag">@returns</span> {Object|null} åŒ¹é…åˆ°çš„åµŒå¥—ä»»åŠ¡å¯¹è±¡
 */</span>
function findNestedTask(panelTasks, targetId) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> task of panelTasks) {
        <span class="hljs-keyword">if</span> (task.id === targetId) <span class="hljs-keyword">return</span> task;
          
        <span class="hljs-comment">// å¦‚æœå­˜åœ¨åµŒå¥—å­å±‚çº§ï¼Œåˆ™ç»§ç»­å‘ä¸‹é€’å½’æ£€ç´¢</span>
        <span class="hljs-keyword">if</span> (task.nestedPanels &amp;&amp; task.nestedPanels.length &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">const</span> found = findNestedTask(task.nestedPanels, targetId);
            <span class="hljs-keyword">if</span> (found) <span class="hljs-keyword">return</span> found;
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
}
</code></pre>
<h3 data-id="heading-4">2. Pythonï¼šè¿›åº¦ç»“æ„å†—ä½™åº¦åŠ¨æ€å®¡è®¡å¼•æ“</h3>
<p>åˆ©ç”¨æ¿å—æ¨¡å‹ï¼Œè‡ªåŠ¨æ£€æµ‹ä»»åŠ¡é—´çš„é‡å¤è¿›åº¦ä¸è¿‡åº¦åµŒå¥—ï¼Œè¯†åˆ«è®¤çŸ¥å†—ä½™é£é™©ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ProgressAuditEngine</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-comment"># é¢„è®¾è¿›åº¦æ ‡å‡†ï¼šä»»åŠ¡ç±»å‹ -&gt; æ¨èåµŒå¥—æ·±åº¦ä¸å…³è”å¯†åº¦</span>
        self.progress_benchmarks = {
            <span class="hljs-string">"Development_Phase"</span>: {<span class="hljs-string">"max_depth"</span>: <span class="hljs-number">5</span>, <span class="hljs-string">"avg_links"</span>: <span class="hljs-number">3</span>},
            <span class="hljs-string">"Testing_Cycle"</span>: {<span class="hljs-string">"max_depth"</span>: <span class="hljs-number">3</span>, <span class="hljs-string">"avg_links"</span>: <span class="hljs-number">8</span>}
        }

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">verify_progress_efficiency</span>(<span class="hljs-params">self, current_panel, panel_type</span>):
        <span class="hljs-string">"""å¯¹æ¯”å®é™…åµŒå¥—æ·±åº¦ä¸æ ‡å‡†ï¼Œè¯†åˆ«å†—ä½™æˆ–è¿‡äºå¤æ‚çš„è¿›åº¦ç‚¹"""</span>
        std = self.progress_benchmarks.get(panel_type)
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> std:
            <span class="hljs-keyword">return</span> <span class="hljs-string">"æœªå®šä¹‰çš„è¿›åº¦æ ‡å‡†"</span>

        actual_depth = self._get_max_depth(current_panel)
        <span class="hljs-keyword">if</span> actual_depth &gt; std[<span class="hljs-string">'max_depth'</span>]:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"[Progress Alert] åµŒå¥—æ·±åº¦è¾¾ <span class="hljs-subst">{actual_depth}</span> å±‚ï¼Œå·²è¶…å‡ºè®¤çŸ¥è´Ÿè·é˜ˆå€¼"</span>)
            self._suggest_flattening(current_panel)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_get_max_depth</span>(<span class="hljs-params">self, task, level=<span class="hljs-number">1</span></span>):
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> task.get(<span class="hljs-string">'subtasks'</span>):
            <span class="hljs-keyword">return</span> level
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">max</span>(self._get_max_depth(t, level + <span class="hljs-number">1</span>) <span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> task[<span class="hljs-string">'subtasks'</span>])
</code></pre>
<h3 data-id="heading-5">3. SQLï¼šåµŒå¥—ä»»åŠ¡å…³è”è·¯å¾„ä¸å½±å“åˆ†æ</h3>
<p>é€šè¿‡é€’å½’å…¬ç”¨è¡¨è¡¨è¾¾å¼ï¼ˆCTEï¼‰ï¼ŒæŸ¥è¯¢ç‰¹å®šä»»åŠ¡åœ¨æ•´ä¸ªæ¿å—å¼è¿›åº¦ç½‘ç»œä¸­çš„æ³¢åŠèŒƒå›´ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">WITH</span> <span class="hljs-keyword">RECURSIVE</span> TaskImpactPath <span class="hljs-keyword">AS</span> (
    <span class="hljs-comment">-- èµ·å§‹ï¼šé€‰æ‹©ç›®æ ‡åµŒå¥—ä»»åŠ¡</span>
    <span class="hljs-keyword">SELECT</span> id, task_name, parent_id, <span class="hljs-number">1</span> <span class="hljs-keyword">AS</span> impact_level
    <span class="hljs-keyword">FROM</span> panel_tasks <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-string">'target_task_001'</span>
    <span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span>
    <span class="hljs-comment">-- é€’å½’ï¼šå‘ä¸Šæˆ–å‘ä¸‹è¿½è¸ªæ‰€æœ‰å—å½±å“çš„åµŒå¥—å…³è”å•å…ƒ</span>
    <span class="hljs-keyword">SELECT</span> pt.id, pt.task_name, pt.parent_id, tip.impact_level <span class="hljs-operator">+</span> <span class="hljs-number">1</span>
    <span class="hljs-keyword">FROM</span> panel_tasks pt
    <span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> TaskImpactPath tip <span class="hljs-keyword">ON</span> pt.parent_id <span class="hljs-operator">=</span> tip.id
)
<span class="hljs-keyword">SELECT</span> 
    task_name, 
    impact_level,
    <span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">OVER</span>() <span class="hljs-keyword">as</span> total_affected_tasks
<span class="hljs-keyword">FROM</span> TaskImpactPath
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> impact_level <span class="hljs-keyword">ASC</span>;
</code></pre>
<hr/>
<h2 data-id="heading-6">å››ã€ å·¥å…·åˆ†ç±»ä¸é€‰å‹æ€è·¯</h2>
<p>å®æ–½æ¿å—å¼è¿›åº¦é€è§†æ—¶ï¼Œå·¥å…·çš„é€‰æ‹©åº”åŸºäºå¯¹"ç©ºé—´å±•å¼€èƒ½åŠ›"çš„éœ€æ±‚ï¼š</p>
<ul>
<li><strong>æ— é™å¡ç‰‡æ¿å—ç±»ï¼ˆå¦‚ æ¿æ —çœ‹æ¿/Heptabaseï¼‰</strong> ï¼šæ ¸å¿ƒä¼˜åŠ¿åœ¨äº<strong>å¡ç‰‡çº§çš„çœ‹æ¿æ¿å—ä¸è§†è§‰è¿é€š</strong>ï¼Œæ”¯æŒå°†è¿›åº¦é€»è¾‘è½¬åŒ–ä¸ºç›´è§‚çš„è§†è§‰å¡ç‰‡ã€‚</li>
<li><strong>å…³ç³»å‹è¿›åº¦å›¾è°±ç±»ï¼ˆå¦‚ Obsidian/Logseqï¼‰</strong> ï¼šé€šè¿‡åŒå‘é“¾æ¥æ„å»ºéšæ€§çš„æ¿å—ç»“æ„ï¼Œé€‚åˆå¤„ç†éçº¿æ€§ã€ç½‘çŠ¶æ¼”åŒ–çš„ä»»åŠ¡ä½“ç³»ã€‚</li>
<li><strong>ç»“æ„åŒ–è¿›åº¦ç±»ï¼ˆå¦‚ MindManager/XMindï¼‰</strong> ï¼šç»å…¸çš„å±‚çº§æ¿å—å·¥å…·ï¼Œé€‚åˆå¯¹é¡¹ç›®æµç¨‹ã€ä»»åŠ¡æ¶æ„è¿›è¡Œå¼ºé€»è¾‘æ€§çš„å‚ç›´é€è§†ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-7">äº”ã€ å®æ–½ä¸­çš„é£é™©æ§åˆ¶ä¸ç®¡ç†ä¼˜åŒ–</h2>
<ul>
<li><strong>é˜²æ­¢"æ— é™æ¿å—å¯¼è‡´çš„é»‘æ´æ•ˆåº”"</strong> ï¼šåº”è®¾å®šåˆç†çš„æ¿å—é˜ˆå€¼ï¼ˆå¦‚ä¸è¶…è¿‡ 7 å±‚ï¼‰ï¼Œå¹¶åœ¨å·¥å…·ä¸­åˆ©ç”¨"ç¼©æ”¾è¯­ä¹‰ï¼ˆSemantic Zoomingï¼‰"æŠ€æœ¯ï¼Œç¡®ä¿åœ¨é«˜å€ç‡ç¼©æ”¾æ—¶ä»èƒ½è¯†åˆ«æ ¸å¿ƒä»»åŠ¡ã€‚</li>
<li><strong>åŠ¨æ€åŒæ­¥è¿›åº¦èµ„äº§</strong>ï¼šæ¿å—ä»»åŠ¡åº”å…·å¤‡å®æ—¶æ›´æ–°èƒ½åŠ›ï¼Œå½“åº•å±‚ä»»åŠ¡å‘ç”Ÿå˜åŠ¨æ—¶ï¼Œé«˜å±‚æ¿å—ç»“æ„çš„è¿›åº¦é€»è¾‘éœ€è‡ªåŠ¨å®Œæˆä¸€è‡´æ€§æ ¡éªŒã€‚</li>
<li><strong>å®šæœŸè¿›è¡Œç»“æ„"ä¿®å‰ª"</strong> ï¼šéšç€è¿›åº¦é€»è¾‘çš„æˆç†Ÿï¼Œåº”åˆå¹¶ç›¸ä¼¼çš„æ¿å—å±‚çº§ï¼Œä¿æŒè¿›åº¦å›¾è°±çš„æ¸…æ™°åº¦ä¸å†³ç­–æ”¯æŒæ•ˆèƒ½ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-8">å…­ã€ ç»“è¯­</h2>
<p><strong>æ¿å—å¼è¿›åº¦é€è§†æ˜¯è§£æé¡¹ç›®å¤æ‚æ€§çš„æ‰‹æœ¯åˆ€ã€‚</strong> â€‹ å®ƒä¸ä»…è§£å†³äº†"è¿›åº¦æ•£ä¹±"çš„é—®é¢˜ï¼Œæ›´é€šè¿‡ç²¾å¯†çš„å¤šç»´ç»“æ„ï¼Œå°†å›¢é˜Ÿé›¶æ•£çš„è¿›åº¦ç‰‡æ®µè½¬åŒ–ä¸ºå…·å¤‡é«˜åº¦é€»è¾‘è‡ªæ´½æ€§çš„æ™ºèƒ½èµ„äº§ã€‚å½“é¡¹ç›®çš„è¿›åº¦èƒ½å¤Ÿä»¥æ¿å—å½¢å¼å®ç°æ°´å¹³ä¸å‚ç›´çš„å®Œç¾å¯¹é½æ—¶ï¼Œå›¢é˜Ÿæ–¹èƒ½åœ¨å‰§çƒˆçš„é¡¹ç›®æ³¢åŠ¨ä¸­å®ç°"å…¨å±€æ´å¯Ÿ"ä¸"ç²¾å‡†æ‰“å‡»"çš„ç»Ÿä¸€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Agent Skillsï¼šèµ‹äºˆ AI Agent ä¸“ä¸šèƒ½åŠ›çš„å¼€æ”¾æ ‡å‡†]]></title>    <link>https://juejin.cn/post/7599927813601083432</link>    <guid>https://juejin.cn/post/7599927813601083432</guid>    <pubDate>2026-01-28T02:31:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599927813601083432" data-draft-id="7599964577899544576" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Agent Skillsï¼šèµ‹äºˆ AI Agent ä¸“ä¸šèƒ½åŠ›çš„å¼€æ”¾æ ‡å‡†"/> <meta itemprop="keywords" content="Agent,äººå·¥æ™ºèƒ½,Claude"/> <meta itemprop="datePublished" content="2026-01-28T02:31:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é™ˆæš–ç§‹"/> <meta itemprop="url" content="https://juejin.cn/user/493019579297533"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Agent Skillsï¼šèµ‹äºˆ AI Agent ä¸“ä¸šèƒ½åŠ›çš„å¼€æ”¾æ ‡å‡†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/493019579297533/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é™ˆæš–ç§‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T02:31:27.000Z" title="Wed Jan 28 2026 02:31:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    18
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#444;background-image:linear-gradient(90deg,rgba(59,59,59,.1) 3%,transparent 0),linear-gradient(1turn,rgba(122,120,121,.1) 3%,transparent 0);background-size:30px 30px;background-position:50%;letter-spacing:1px;word-spacing:1px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{position:relative;margin-top:34px;margin-bottom:16px;font-weight:700;line-height:1.3;cursor:text;color:#444;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body h1{font-size:41px;margin-bottom:34px;line-height:1.5}.markdown-body h1:before{content:""}.markdown-body h2{font-size:30px;padding-left:.4em;border-left:.4em solid #5e5e5e;border-bottom:1px solid #444}.markdown-body h2:after{content:"ğŸ•›";position:absolute;top:0;right:0;transition:all;animation:rotate 10s linear infinite}@keyframes rotate{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.markdown-body h3{border-left:.4em solid #8d8d8d;font-size:24px;padding-left:.4em}.markdown-body h4{font-size:20px}.markdown-body h5{font-size:16px}.markdown-body h6{font-size:14px}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body table,.markdown-body ul{margin:.8em 0}.markdown-body strong{font-weight:1000;position:relative;color:#444;padding:0 3px}.markdown-body em{font-weight:inherit}.markdown-body a{box-sizing:border-box;color:grey;position:relative}.markdown-body a:before{position:absolute;box-sizing:border-box;content:"Go -&gt;";left:0;width:100%;max-width:0;color:#fff;background-color:hsla(0,0%,50.2%,.8);white-space:nowrap;transition:.2s ease;pointer-events:none;overflow:hidden}.markdown-body a:after{content:"";position:absolute;bottom:0;left:0;width:100%;height:1px;background-color:grey}.markdown-body a:active:before,.markdown-body a:hover:before{max-width:100%;padding-left:8px;border-radius:5px}.markdown-body hr{position:relative;width:100%;height:1px;border:none;margin-top:36px;margin-bottom:36px;background:linear-gradient(90deg,grey,#f1f1f1,#444,#444,#f1f1f1,grey);overflow:visible}.markdown-body ol,.markdown-body ul{padding-left:32px}.markdown-body ol li,.markdown-body ul li{margin-bottom:6px;list-style:inherit}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol{counter-reset:my-counter}.markdown-body ol&gt;li{padding-left:6px;list-style:none;counter-increment:my-counter;position:relative}.markdown-body ol&gt;li:before{position:absolute;left:-1.5em;content:counter(my-counter);font-weight:700}.markdown-body ol&gt;li:first-child:before{content:"1ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(2):before{content:"2ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(3):before{content:"3ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(4):before{content:"4ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(5):before{content:"5ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(6):before{content:"6ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(7):before{content:"7ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(8):before{content:"8ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(9):before{content:"9ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(10):before{content:"ğŸ”Ÿ"}.markdown-body ul&gt;li{list-style:none;position:relative}.markdown-body ul&gt;li:before{z-index:10;position:absolute;left:-1.57em;content:"ğŸ”¹";margin-right:12px}.markdown-body ul&gt;li input{margin-left:8px!important}.markdown-body blockquote{position:relative;background-color:#d3d3d3;padding:5px 10px;border-left:.2em solid #000;border-radius:3px;transition:all .8s ease}.markdown-body blockquote:hover{opacity:.7}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(69,69,77,.8);color:#fff;font-size:.87em;padding:.07em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:7px;overflow:hidden}.markdown-body pre:before{z-index:10;position:absolute;top:14px;left:14px;width:12px;height:12px;border-radius:50%;background:#fc625d;-webkit-box-shadow:20px 0 #fdbc40,40px 0 #35cd4b;box-shadow:20px 0 #fdbc40,40px 0 #35cd4b;content:" "}.markdown-body pre:after{z-index:9;content:"";position:absolute;width:100%;height:40px;top:0;background-color:#1a1a1a}.markdown-body pre&gt;code{display:block;font-family:Menlo,Monaco,Consolas,Courier New,monospace;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#171717;color:#bababa;font-size:14px;padding:40px 20px 20px}.markdown-body del{color:grey}.markdown-body table{margin-bottom:1.25rem;border-collapse:collapse}.markdown-body table td,.markdown-body table th{margin:0;padding:8px;line-height:20px;vertical-align:middle;border:1px solid #ddd}.markdown-body table thead,.markdown-body table tr:nth-child(2n){background-color:#fcfcfc}.markdown-body table thead th,.markdown-body table tr:nth-child(2n) th{font-weight:700;vertical-align:middle;color:#444}.markdown-body table tbody tr td{font-weight:400;color:#444}.markdown-body table tbody tr:hover{background-color:#d3d3d3}.markdown-body table tbody tr:hover td{color:#fff}.markdown-body img{max-width:100%;margin:0 12px}@media (max-width:720px){.markdown-body h1{font-size:32.8px}.markdown-body h2{font-size:24px}.markdown-body h3{font-size:19.2px}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:12.8px}}</style><style data-highlight="" data-highlight-key="arduino-light">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff}.hljs-subst,.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#434f54}.hljs-attribute,.hljs-doctag,.hljs-keyword,.hljs-name,.hljs-selector-tag{color:#00979d}.hljs-addition,.hljs-built_in,.hljs-bullet,.hljs-code,.hljs-literal{color:#d35400}.hljs-link,.hljs-regexp,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-symbol,.hljs-template-variable,.hljs-variable{color:#00979d}.hljs-deletion,.hljs-quote,.hljs-selector-class,.hljs-selector-id,.hljs-string,.hljs-template-tag,.hljs-type{color:#005c5f}.hljs-section,.hljs-title{color:#800;font-weight:700}.hljs-comment{color:rgba(149,165,166,.8)}.hljs-meta-keyword{color:#728e00}.hljs-meta{color:#434f54}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-function{color:#728e00}.hljs-number{color:#8a7b52}</style><blockquote>
<p>ä¸€ç§ç®€å•ã€å¼€æ”¾çš„æ ¼å¼ï¼Œè®© AI Agent è·å¾—æ–°èƒ½åŠ›å’Œä¸“ä¸šçŸ¥è¯†</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ä»€ä¹ˆæ˜¯ Agent Skillsï¼Ÿ</h2>
<p>Agent Skills æ˜¯ä¸€ç§<strong>è½»é‡çº§ã€å¼€æ”¾çš„æ ¼å¼</strong>ï¼Œç”¨äºæ‰©å±• AI Agent çš„èƒ½åŠ›ï¼Œä½¿å…¶å…·å¤‡ä¸“ä¸šçŸ¥è¯†å’Œç‰¹å®šå·¥ä½œæµç¨‹ã€‚</p>
<p>ç®€å•æ¥è¯´ï¼ŒAgent Skills æ˜¯åŒ…å«æŒ‡ä»¤ã€è„šæœ¬å’Œèµ„æºçš„æ–‡ä»¶å¤¹ï¼ŒAgent å¯ä»¥å‘ç°å¹¶ä½¿ç”¨è¿™äº›èµ„æºæ¥æ›´å‡†ç¡®ã€æ›´é«˜æ•ˆåœ°å®Œæˆä»»åŠ¡ã€‚</p>
<blockquote>
<p><strong>æ ¸å¿ƒå®šä¹‰</strong>ï¼šAgent Skills æ˜¯åŒ…å« <code>SKILL.md</code> æ–‡ä»¶çš„æ–‡ä»¶å¤¹ï¼Œè¯¥æ–‡ä»¶åŒ…å«å…ƒæ•°æ®ï¼ˆè‡³å°‘åŒ…æ‹¬åç§°å’Œæè¿°ï¼‰ä»¥åŠå‘Šè¯‰ Agent å¦‚ä½•æ‰§è¡Œç‰¹å®šä»»åŠ¡çš„æŒ‡ä»¤ã€‚Skills è¿˜å¯ä»¥æ†ç»‘è„šæœ¬ã€æ¨¡æ¿å’Œå‚è€ƒææ–™ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-1">ä¸ºä»€ä¹ˆéœ€è¦ Agent Skillsï¼Ÿ</h2>
<p>éšç€ AI Agent èƒ½åŠ›çš„ä¸æ–­å¢å¼ºï¼Œå®ƒä»¬å¾€å¾€ç¼ºä¹æ‰§è¡Œå®é™…å·¥ä½œæ‰€éœ€çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚Agent Skills é€šè¿‡ä»¥ä¸‹æ–¹å¼è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p>

























<table><thead><tr><th>ç‰¹æ€§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>é¢†åŸŸä¸“ä¸šçŸ¥è¯†</strong></td><td>å°†æ³•å¾‹å®¡æŸ¥æµç¨‹ã€æ•°æ®åˆ†æç®¡é“ç­‰ä¸“ä¸šé¢†åŸŸçŸ¥è¯†æ‰“åŒ…æˆå¯é‡ç”¨çš„æŒ‡ä»¤</td></tr><tr><td><strong>æ–°èƒ½åŠ›æ‰©å±•</strong></td><td>èµ‹äºˆ Agent æ–°èƒ½åŠ›ï¼Œå¦‚åˆ›å»ºæ¼”ç¤ºæ–‡ç¨¿ã€æ„å»º MCP æœåŠ¡å™¨ã€åˆ†ææ•°æ®é›†ç­‰</td></tr><tr><td><strong>å¯é‡å¤å·¥ä½œæµ</strong></td><td>å°†å¤šæ­¥éª¤ä»»åŠ¡è½¬åŒ–ä¸ºä¸€è‡´ä¸”å¯å®¡è®¡çš„å·¥ä½œæµç¨‹ï¼Œç¡®ä¿æ¯æ¬¡æ‰§è¡Œçš„è´¨é‡</td></tr><tr><td><strong>äº’æ“ä½œæ€§</strong></td><td>åœ¨ä¸åŒçš„ Skills å…¼å®¹ Agent äº§å“ä¸­é‡ç”¨ç›¸åŒçš„ Skillï¼Œé¿å…é‡å¤å¼€å‘</td></tr></tbody></table>
<h3 data-id="heading-2">è°å¯ä»¥ä» Agent Skills ä¸­å—ç›Šï¼Ÿ</h3>
<ul>
<li><strong>Skill ä½œè€…</strong>ï¼šä¸€æ¬¡æ„å»ºèƒ½åŠ›ï¼Œéƒ¨ç½²åˆ°å¤šä¸ª Agent äº§å“ä¸­</li>
<li><strong>å…¼å®¹ Agent</strong>ï¼šæ”¯æŒ Skills è®©ç»ˆç«¯ç”¨æˆ·èƒ½å¤Ÿå¼€ç®±å³ç”¨åœ°èµ‹äºˆ Agent æ–°èƒ½åŠ›</li>
<li><strong>å›¢é˜Ÿå’Œä¼ä¸š</strong>ï¼šå°†ç»„ç»‡çŸ¥è¯†æ•è·åˆ°å¯ç§»æ¤ã€ç‰ˆæœ¬æ§åˆ¶çš„åŒ…ä¸­</li>
</ul>
<hr/>
<h2 data-id="heading-3">Agent Skills çš„å·¥ä½œåŸç†</h2>
<p>Agent Skills ä½¿ç”¨**æ¸è¿›å¼æŠ«éœ²ï¼ˆProgressive Disclosureï¼‰**æ¥é«˜æ•ˆç®¡ç†ä¸Šä¸‹æ–‡ï¼š</p>
<pre><code class="hljs language-objectivec" lang="objectivec">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   <span class="hljs-number">1.</span> å‘ç°    â”‚  â†’   â”‚   <span class="hljs-number">2.</span> æ¿€æ´»    â”‚  â†’   â”‚   <span class="hljs-number">3.</span> æ‰§è¡Œ    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å¯åŠ¨æ—¶ï¼ŒAgent â”‚      â”‚ å½“ä»»åŠ¡ä¸ Skill â”‚      â”‚ Agent éµå¾ªæŒ‡ä»¤ï¼Œâ”‚
â”‚ ä»…åŠ è½½æ¯ä¸ªå¯ç”¨ â”‚      â”‚ æè¿°åŒ¹é…æ—¶ï¼Œ   â”‚      â”‚ æŒ‰éœ€åŠ è½½å¼•ç”¨æ–‡ä»¶ â”‚
â”‚ Skill çš„åç§°å’Œ â”‚      â”‚ Agent è¯»å–å®Œæ•´ â”‚      â”‚ æˆ–æ‰§è¡Œæ†ç»‘ä»£ç   â”‚
â”‚ æè¿°        â”‚      â”‚ <span class="hljs-built_in">SKILL</span>.md æŒ‡ä»¤ â”‚      â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p>è¿™ç§æ–¹æ³•æ—¢ä¿æŒäº† Agent çš„å¿«é€Ÿå“åº”ï¼Œåˆä½¿å…¶èƒ½å¤ŸæŒ‰éœ€è®¿é—®æ›´å¤šä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚</p>
<hr/>
<h2 data-id="heading-4">SKILL.md æ–‡ä»¶æ ¼å¼</h2>
<p>æ¯ä¸ª Skill éƒ½å¿…é¡»åŒ…å«ä¸€ä¸ª <code>SKILL.md</code> æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶åŒ…å« YAML å‰ç½®å…ƒæ•°æ®å’Œ Markdown å†…å®¹ã€‚</p>
<h3 data-id="heading-5">ç›®å½•ç»“æ„</h3>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-keyword">my</span>-skill/
â”œâ”€â”€ SKILL.md          <span class="hljs-comment"># å¿…éœ€ï¼šæŒ‡ä»¤ + å…ƒæ•°æ®</span>
â”œâ”€â”€ scripts/          <span class="hljs-comment"># å¯é€‰ï¼šå¯æ‰§è¡Œä»£ç </span>
â”œâ”€â”€ references/       <span class="hljs-comment"># å¯é€‰ï¼šæ–‡æ¡£å‚è€ƒ</span>
â””â”€â”€ assets/           <span class="hljs-comment"># å¯é€‰ï¼šæ¨¡æ¿ã€èµ„æº</span>
</code></pre>
<h3 data-id="heading-6">å‰ç½®å…ƒæ•°æ®å­—æ®µ</h3>








































<table><thead><tr><th>å­—æ®µ</th><th>å¿…éœ€</th><th>çº¦æŸæ¡ä»¶</th></tr></thead><tbody><tr><td><code>name</code></td><td>æ˜¯</td><td>æœ€å¤š 64 å­—ç¬¦ï¼Œå°å†™å­—æ¯ã€æ•°å­—å’Œè¿å­—ç¬¦ï¼Œä¸èƒ½ä»¥è¿å­—ç¬¦å¼€å¤´æˆ–ç»“å°¾</td></tr><tr><td><code>description</code></td><td>æ˜¯</td><td>æœ€å¤š 1024 å­—ç¬¦ï¼Œæè¿° Skill çš„åŠŸèƒ½å’Œä½¿ç”¨æ—¶æœº</td></tr><tr><td><code>license</code></td><td>å¦</td><td>è®¸å¯è¯åç§°æˆ–æ†ç»‘è®¸å¯è¯æ–‡ä»¶çš„å¼•ç”¨</td></tr><tr><td><code>compatibility</code></td><td>å¦</td><td>æœ€å¤š 500 å­—ç¬¦ï¼ŒæŒ‡ç¤ºç¯å¢ƒè¦æ±‚</td></tr><tr><td><code>metadata</code></td><td>å¦</td><td>ä»»æ„é”®å€¼æ˜ å°„ï¼Œç”¨äºé™„åŠ å…ƒæ•°æ®</td></tr><tr><td><code>allowed-tools</code></td><td>å¦</td><td>Skill å¯ä½¿ç”¨çš„é¢„æ‰¹å‡†å·¥å…·åˆ—è¡¨ï¼ˆå®éªŒæ€§ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-7">å®Œæ•´ç¤ºä¾‹</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-meta">---</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">pdf-processing</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">ä»</span> <span class="hljs-string">PDF</span> <span class="hljs-string">æ–‡ä»¶ä¸­æå–æ–‡æœ¬å’Œè¡¨æ ¼ï¼Œå¡«å†™è¡¨å•ï¼Œåˆå¹¶æ–‡æ¡£ã€‚</span>
<span class="hljs-attr">license:</span> <span class="hljs-string">Apache-2.0</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">author:</span> <span class="hljs-string">example-org</span>
  <span class="hljs-attr">version:</span> <span class="hljs-string">"1.0"</span>
<span class="hljs-meta">---
</span>
<span class="hljs-comment"># PDF å¤„ç†</span>

<span class="hljs-comment">## ä½•æ—¶ä½¿ç”¨æ­¤ Skill</span>
<span class="hljs-string">å½“ç”¨æˆ·éœ€è¦å¤„ç†</span> <span class="hljs-string">PDF</span> <span class="hljs-string">æ–‡ä»¶æ—¶ä½¿ç”¨æ­¤</span> <span class="hljs-string">Skill...</span>

<span class="hljs-comment">## å¦‚ä½•æå–æ–‡æœ¬</span>
<span class="hljs-number">1</span><span class="hljs-string">.</span> <span class="hljs-string">ä½¿ç”¨</span> <span class="hljs-string">pdfplumber</span> <span class="hljs-string">è¿›è¡Œæ–‡æœ¬æå–...</span>

<span class="hljs-comment">## å¦‚ä½•å¡«å†™è¡¨å•</span>
<span class="hljs-string">...</span>
</code></pre>
<h3 data-id="heading-8">å„å­—æ®µè¯¦ç»†è¯´æ˜</h3>
<h4 data-id="heading-9">name å­—æ®µ</h4>
<p><strong>çº¦æŸæ¡ä»¶</strong>ï¼š</p>
<ul>
<li>å¿…é¡»æ˜¯ 1-64 ä¸ªå­—ç¬¦</li>
<li>åªèƒ½åŒ…å«å°å†™å­—æ¯ã€æ•°å­—å’Œè¿å­—ç¬¦ï¼ˆ<code>a-z</code> å’Œ <code>-</code>ï¼‰</li>
<li>ä¸èƒ½ä»¥ <code>-</code> å¼€å¤´æˆ–ç»“å°¾</li>
<li>ä¸èƒ½åŒ…å«è¿ç»­çš„è¿å­—ç¬¦ï¼ˆ<code>--</code>ï¼‰</li>
<li>å¿…é¡»ä¸çˆ¶ç›®å½•åç§°åŒ¹é…</li>
</ul>
<p><strong>æœ‰æ•ˆç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">name:</span> <span class="hljs-string">pdf-processing</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">data-analysis</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">code-review</span>
</code></pre>
<p><strong>æ— æ•ˆç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">name:</span> <span class="hljs-string">PDF-Processing</span>    <span class="hljs-comment"># ä¸å…è®¸å¤§å†™</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">-pdf</span>              <span class="hljs-comment"># ä¸èƒ½ä»¥è¿å­—ç¬¦å¼€å¤´</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">pdf--processing</span>   <span class="hljs-comment"># ä¸å…è®¸è¿ç»­è¿å­—ç¬¦</span>
</code></pre>
<h4 data-id="heading-10">description å­—æ®µ</h4>
<p><strong>çº¦æŸæ¡ä»¶</strong>ï¼š</p>
<ul>
<li>å¿…é¡»æ˜¯ 1-1024 ä¸ªå­—ç¬¦</li>
<li>åº”è¯¥æè¿° Skill çš„åŠŸèƒ½å’Œä½¿ç”¨æ—¶æœº</li>
<li>åº”åŒ…å«å¸®åŠ© Agent è¯†åˆ«ç›¸å…³ä»»åŠ¡çš„å…³é”®è¯</li>
</ul>
<p><strong>å¥½çš„ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">description:</span> <span class="hljs-string">ä»</span> <span class="hljs-string">PDF</span> <span class="hljs-string">æ–‡ä»¶ä¸­æå–æ–‡æœ¬å’Œè¡¨æ ¼ï¼Œå¡«å†™</span> <span class="hljs-string">PDF</span> <span class="hljs-string">è¡¨å•ï¼Œå¹¶åˆå¹¶å¤šä¸ª</span> <span class="hljs-string">PDFã€‚åœ¨å¤„ç†</span> <span class="hljs-string">PDF</span> <span class="hljs-string">æ–‡æ¡£æˆ–ç”¨æˆ·æåŠ</span> <span class="hljs-string">PDFã€è¡¨å•æˆ–æ–‡æ¡£æå–æ—¶ä½¿ç”¨ã€‚</span>
</code></pre>
<p><strong>å·®çš„ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">description:</span> <span class="hljs-string">å¸®åŠ©å¤„ç†</span> <span class="hljs-string">PDFã€‚</span>
</code></pre>
<h4 data-id="heading-11">license å­—æ®µï¼ˆå¯é€‰ï¼‰</h4>
<p>æŒ‡å®šåº”ç”¨äº Skill çš„è®¸å¯è¯ã€‚å»ºè®®ä¿æŒç®€çŸ­ï¼ˆè®¸å¯è¯åç§°æˆ–æ†ç»‘è®¸å¯è¯æ–‡ä»¶çš„åç§°ï¼‰ã€‚</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">license:</span> <span class="hljs-string">Proprietary.</span> <span class="hljs-string">LICENSE.txt</span> <span class="hljs-string">has</span> <span class="hljs-string">complete</span> <span class="hljs-string">terms</span>
</code></pre>
<h4 data-id="heading-12">compatibility å­—æ®µï¼ˆå¯é€‰ï¼‰</h4>
<p>æŒ‡ç¤ºç¯å¢ƒè¦æ±‚ï¼Œå¦‚ç›®æ ‡äº§å“ã€æ‰€éœ€ç³»ç»ŸåŒ…ã€ç½‘ç»œè®¿é—®éœ€æ±‚ç­‰ã€‚</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">compatibility:</span> <span class="hljs-string">Designed</span> <span class="hljs-string">for</span> <span class="hljs-string">Claude</span> <span class="hljs-string">Code</span> <span class="hljs-string">(or</span> <span class="hljs-string">similar</span> <span class="hljs-string">products)</span>
<span class="hljs-attr">compatibility:</span> <span class="hljs-string">Requires</span> <span class="hljs-string">git,</span> <span class="hljs-string">docker,</span> <span class="hljs-string">jq,</span> <span class="hljs-string">and</span> <span class="hljs-string">access</span> <span class="hljs-string">to</span> <span class="hljs-string">the</span> <span class="hljs-string">internet</span>
</code></pre>
<h4 data-id="heading-13">metadata å­—æ®µï¼ˆå¯é€‰ï¼‰</h4>
<p>å­—ç¬¦ä¸²é”®åˆ°å­—ç¬¦ä¸²å€¼çš„æ˜ å°„ï¼Œå®¢æˆ·ç«¯å¯ç”¨äºå­˜å‚¨ä»£ç†æŠ€èƒ½è§„èŒƒæœªå®šä¹‰çš„å…¶ä»–å±æ€§ã€‚</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">author:</span> <span class="hljs-string">example-org</span>
  <span class="hljs-attr">version:</span> <span class="hljs-string">"1.0"</span>
</code></pre>
<h4 data-id="heading-14">allowed-tools å­—æ®µï¼ˆå¯é€‰ï¼‰</h4>
<p>é¢„æ‰¹å‡†è¿è¡Œçš„å·¥å…·çš„ç©ºæ ¼åˆ†éš”åˆ—è¡¨ã€‚å®éªŒæ€§åŠŸèƒ½ï¼Œä¸åŒ Agent å®ç°å¯¹è¯¥å­—æ®µçš„æ”¯æŒå¯èƒ½æœ‰æ‰€ä¸åŒã€‚</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">allowed-tools:</span> <span class="hljs-string">Bash(git:*)</span> <span class="hljs-string">Bash(jq:*)</span> <span class="hljs-string">Read</span>
</code></pre>
<hr/>
<h2 data-id="heading-15">å¯é€‰ç›®å½•è¯¦è§£</h2>
<h3 data-id="heading-16">scripts/</h3>
<p>åŒ…å« Agent å¯ä»¥è¿è¡Œçš„å¯æ‰§è¡Œä»£ç ã€‚è„šæœ¬åº”è¯¥ï¼š</p>
<ul>
<li>è‡ªåŒ…å«æˆ–æ¸…æ™°è®°å½•ä¾èµ–é¡¹</li>
<li>åŒ…å«æœ‰ç”¨çš„é”™è¯¯æ¶ˆæ¯</li>
<li>ä¼˜é›…åœ°å¤„ç†è¾¹ç¼˜æƒ…å†µ</li>
</ul>
<p>æ”¯æŒçš„è¯­è¨€å–å†³äº Agent å®ç°ã€‚å¸¸è§é€‰é¡¹åŒ…æ‹¬ Pythonã€Bash å’Œ JavaScriptã€‚</p>
<h3 data-id="heading-17">references/</h3>
<p>åŒ…å« Agent å¯ä»¥æŒ‰éœ€è¯»å–çš„é™„åŠ æ–‡æ¡£ï¼š</p>
<ul>
<li><code>REFERENCE.md</code> - è¯¦ç»†æŠ€æœ¯å‚è€ƒ</li>
<li><code>FORMS.md</code> - è¡¨å•æ¨¡æ¿æˆ–ç»“æ„åŒ–æ•°æ®æ ¼å¼</li>
<li>é¢†åŸŸç‰¹å®šæ–‡ä»¶ï¼ˆ<code>finance.md</code>ã€<code>legal.md</code> ç­‰ï¼‰</li>
</ul>
<p>ä¿æŒå•ä¸ªå‚è€ƒæ–‡ä»¶èšç„¦ã€‚Agent æŒ‰éœ€åŠ è½½è¿™äº›æ–‡ä»¶ï¼Œå› æ­¤è¾ƒå°çš„æ–‡ä»¶æ„å‘³ç€æ›´å°‘çš„ä¸Šä¸‹æ–‡ä½¿ç”¨ã€‚</p>
<h3 data-id="heading-18">assets/</h3>
<p>åŒ…å«é™æ€èµ„æºï¼š</p>
<ul>
<li>æ¨¡æ¿ï¼ˆæ–‡æ¡£æ¨¡æ¿ã€é…ç½®æ¨¡æ¿ï¼‰</li>
<li>å›¾åƒï¼ˆå›¾è¡¨ã€ç¤ºä¾‹ï¼‰</li>
<li>æ•°æ®æ–‡ä»¶ï¼ˆæŸ¥æ‰¾è¡¨ã€æ¨¡å¼ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-19">æ¸è¿›å¼æŠ«éœ²æœ€ä½³å®è·µ</h2>
<p>Skills åº”è¯¥ä¸ºé«˜æ•ˆä½¿ç”¨ä¸Šä¸‹æ–‡è€Œæ„å»ºï¼š</p>

























<table><thead><tr><th>å±‚çº§</th><th>å†…å®¹</th><th>å¤§å°</th></tr></thead><tbody><tr><td><strong>å…ƒæ•°æ®</strong></td><td><code>name</code> å’Œ <code>description</code> å­—æ®µ</td><td>~100 tokens</td></tr><tr><td><strong>æŒ‡ä»¤</strong></td><td>å®Œæ•´çš„ <code>SKILL.md</code> æ­£æ–‡</td><td>&lt; 5000 tokensï¼ˆæ¨èï¼‰</td></tr><tr><td><strong>èµ„æº</strong></td><td><code>scripts/</code>ã€<code>references/</code> æˆ– <code>assets/</code> ä¸­çš„æ–‡ä»¶</td><td>æŒ‰éœ€åŠ è½½</td></tr></tbody></table>
<p>ä¿æŒä¸» <code>SKILL.md</code> åœ¨ 500 è¡Œä»¥ä¸‹ã€‚å°†è¯¦ç»†å‚è€ƒææ–™ç§»åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­ã€‚</p>
<hr/>
<h2 data-id="heading-20">å¦‚ä½•å°† Skills é›†æˆåˆ°ä½ çš„ Agent</h2>
<p>æœ‰ä¸¤ç§ä¸»è¦çš„é›†æˆæ–¹æ³•ï¼š</p>
<h3 data-id="heading-21">åŸºäºæ–‡ä»¶ç³»ç»Ÿçš„ Agent</h3>
<p>åœ¨è®¡ç®—æœºç¯å¢ƒï¼ˆbash/unixï¼‰ä¸­è¿è¡Œçš„ Agentï¼Œå½“æ¨¡å‹å‘å‡º shell å‘½ä»¤ï¼ˆå¦‚ <code>cat /path/to/my-skill/SKILL.md</code>ï¼‰æ—¶æ¿€æ´» Skillsã€‚æ†ç»‘çš„èµ„æºé€šè¿‡ shell å‘½ä»¤è®¿é—®ã€‚</p>
<h3 data-id="heading-22">åŸºäºå·¥å…·çš„ Agent</h3>
<p>åœ¨æ²¡æœ‰ä¸“ç”¨è®¡ç®—æœºç¯å¢ƒçš„æƒ…å†µä¸‹è¿è¡Œã€‚ç›¸åï¼Œå®ƒä»¬å®ç°å…è®¸æ¨¡å‹è§¦å‘ Skills å’Œè®¿é—®æ†ç»‘èµ„æºçš„å·¥å…·ã€‚å…·ä½“çš„å·¥å…·å®ç°ç”±å¼€å‘è€…å†³å®šã€‚</p>
<h3 data-id="heading-23">é›†æˆæ­¥éª¤</h3>
<p>ä¸€ä¸ªå…¼å®¹ Skills çš„ Agent éœ€è¦ï¼š</p>
<ol>
<li><strong>å‘ç°</strong>ï¼šåœ¨é…ç½®çš„ç›®å½•ä¸­å‘ç° Skills</li>
<li><strong>åŠ è½½å…ƒæ•°æ®</strong>ï¼šå¯åŠ¨æ—¶ä»…åŠ è½½åç§°å’Œæè¿°</li>
<li><strong>åŒ¹é…</strong>ï¼šå°†ç”¨æˆ·ä»»åŠ¡ä¸ç›¸å…³ Skills åŒ¹é…</li>
<li><strong>æ¿€æ´»</strong>ï¼šé€šè¿‡åŠ è½½å®Œæ•´æŒ‡ä»¤æ¥æ¿€æ´» Skills</li>
<li><strong>æ‰§è¡Œ</strong>ï¼šæŒ‰éœ€æ‰§è¡Œè„šæœ¬å’Œè®¿é—®èµ„æº</li>
</ol>
<h3 data-id="heading-24">Skill å‘ç°ä»£ç ç¤ºä¾‹</h3>
<pre><code class="hljs language-python" lang="python">function parseMetadata(skillPath):
    content = readFile(skillPath + <span class="hljs-string">"/SKILL.md"</span>)
    frontmatter = extractYAMLFrontmatter(content)
    <span class="hljs-keyword">return</span> {
        name: frontmatter.name,
        description: frontmatter.description,
        path: skillPath
    }
</code></pre>
<h3 data-id="heading-25">ç³»ç»Ÿæç¤ºæ ¼å¼</h3>
<p>å°† Skill å…ƒæ•°æ®åŒ…å«åœ¨ç³»ç»Ÿæç¤ºä¸­ï¼Œä»¥ä¾¿æ¨¡å‹çŸ¥é“æœ‰å“ªäº› Skills å¯ç”¨ã€‚å¯¹äº Claude æ¨¡å‹ï¼Œæ¨èæ ¼å¼ä½¿ç”¨ XMLï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">available_skills</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">skill</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>pdf-processing<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">description</span>&gt;</span>ä» PDF æ–‡ä»¶ä¸­æå–æ–‡æœ¬å’Œè¡¨æ ¼ï¼Œå¡«å†™è¡¨å•ï¼Œåˆå¹¶æ–‡æ¡£ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">description</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">location</span>&gt;</span>/path/to/skills/pdf-processing/SKILL.md<span class="hljs-tag">&lt;/<span class="hljs-name">location</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">skill</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">skill</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>data-analysis<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">description</span>&gt;</span>åˆ†ææ•°æ®é›†ï¼Œç”Ÿæˆå›¾è¡¨ï¼Œåˆ›å»ºæ‘˜è¦æŠ¥å‘Šã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">description</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">location</span>&gt;</span>/path/to/skills/data-analysis/SKILL.md<span class="hljs-tag">&lt;/<span class="hljs-name">location</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">skill</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">available_skills</span>&gt;</span>
</code></pre>
<p>å¯¹äºåŸºäºæ–‡ä»¶ç³»ç»Ÿçš„ Agentï¼ŒåŒ…å«å¸¦æœ‰ <code>SKILL.md</code> æ–‡ä»¶ç»å¯¹è·¯å¾„çš„ <code>location</code> å­—æ®µã€‚å¯¹äºåŸºäºå·¥å…·çš„ Agentï¼Œå¯ä»¥çœç•¥ locationã€‚</p>
<p>ä¿æŒå…ƒæ•°æ®ç®€æ´ã€‚æ¯ä¸ª Skill åº”è¯¥å‘ä¸Šä¸‹æ–‡æ·»åŠ å¤§çº¦ 50-100 ä¸ª tokensã€‚</p>
<hr/>
<h2 data-id="heading-26">å®é™…åº”ç”¨åœºæ™¯</h2>
<h3 data-id="heading-27">1. PDF å¤„ç† Skill</h3>
<p>è‡ªåŠ¨ä» PDF æ–‡ä»¶ä¸­æå–æ–‡æœ¬ã€è¡¨æ ¼ï¼Œå¡«å†™è¡¨å•ï¼Œåˆå¹¶å¤šä¸ªæ–‡æ¡£ã€‚é€‚ç”¨äºï¼š</p>
<ul>
<li>æ³•å¾‹æ–‡æ¡£å¤„ç†</li>
<li>è´¢åŠ¡æŠ¥è¡¨åˆ†æ</li>
<li>åˆåŒå®¡æŸ¥</li>
</ul>
<h3 data-id="heading-28">2. æ•°æ®åˆ†æ Skill</h3>
<p>åˆ†ææ•°æ®é›†ï¼Œç”Ÿæˆå¯è§†åŒ–å›¾è¡¨ï¼Œåˆ›å»ºæ‘˜è¦æŠ¥å‘Šã€‚é€‚ç”¨äºï¼š</p>
<ul>
<li>ä¸šåŠ¡æ•°æ®åˆ†æ</li>
<li>å¸‚åœºç ”ç©¶</li>
<li>è¿è¥æŠ¥å‘Š</li>
</ul>
<h3 data-id="heading-29">3. ä»£ç å®¡æŸ¥ Skill</h3>
<p>æä¾›ä»£ç å®¡æŸ¥æµç¨‹ã€æœ€ä½³å®è·µæ£€æŸ¥æ¸…å•ã€å®‰å…¨é—®é¢˜æ£€æµ‹ç­‰ä¸“ä¸šèƒ½åŠ›ã€‚é€‚ç”¨äºï¼š</p>
<ul>
<li>è½¯ä»¶å¼€å‘</li>
<li>DevOps æµç¨‹</li>
<li>å®‰å…¨å®¡è®¡</li>
</ul>
<h3 data-id="heading-30">4. æ¼”ç¤ºæ–‡ç¨¿åˆ›å»º Skill</h3>
<p>æ ¹æ®å†…å®¹è‡ªåŠ¨ç”Ÿæˆä¸“ä¸šçš„æ¼”ç¤ºæ–‡ç¨¿ï¼ŒåŒ…æ‹¬å¹»ç¯ç‰‡è®¾è®¡ã€å†…å®¹æ’ç‰ˆç­‰ã€‚é€‚ç”¨äºï¼š</p>
<ul>
<li>å•†åŠ¡æ±‡æŠ¥</li>
<li>æ•™è‚²åŸ¹è®­</li>
<li>äº§å“å±•ç¤º</li>
</ul>
<hr/>
<h2 data-id="heading-31">å®‰å…¨è€ƒè™‘</h2>
<p>è„šæœ¬æ‰§è¡Œå¼•å…¥äº†å®‰å…¨é£é™©ï¼Œå»ºè®®é‡‡å–ä»¥ä¸‹æªæ–½ï¼š</p>

























<table><thead><tr><th>æªæ–½</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>æ²™ç®±åŒ–</strong></td><td>åœ¨éš”ç¦»ç¯å¢ƒä¸­è¿è¡Œè„šæœ¬ï¼Œé™åˆ¶å…¶å¯¹ç³»ç»Ÿçš„è®¿é—®æƒé™</td></tr><tr><td><strong>ç™½åå•</strong></td><td>ä»…æ‰§è¡Œæ¥è‡ªå—ä¿¡ä»» Skills çš„è„šæœ¬ï¼Œé¿å…è¿è¡ŒæœªçŸ¥æ¥æºçš„ä»£ç </td></tr><tr><td><strong>ç¡®è®¤æœºåˆ¶</strong></td><td>åœ¨æ‰§è¡Œæ½œåœ¨å±é™©æ“ä½œå‰è¯¢é—®ç”¨æˆ·ç¡®è®¤ï¼Œå¢åŠ äººå·¥å®¡æ ¸ç¯èŠ‚</td></tr><tr><td><strong>æ—¥å¿—è®°å½•</strong></td><td>è®°å½•æ‰€æœ‰è„šæœ¬æ‰§è¡Œä»¥ä¾›å®¡è®¡ï¼Œä¾¿äºè¿½è¸ªå’Œæ’æŸ¥é—®é¢˜</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-32">éªŒè¯ Skills</h2>
<p>ä½¿ç”¨ <code>skills-ref</code> å‚è€ƒåº“éªŒè¯ä½ çš„ Skillsï¼š</p>
<pre><code class="hljs language-bash" lang="bash">skills-ref validate ./my-skill
</code></pre>
<p>è¿™å°†æ£€æŸ¥ä½ çš„ <code>SKILL.md</code> å‰ç½®å…ƒæ•°æ®æ˜¯å¦æœ‰æ•ˆå¹¶éµå¾ªæ‰€æœ‰å‘½åçº¦å®šã€‚</p>
<h3 data-id="heading-33">å‚è€ƒå®ç°åº“</h3>
<p><code>skills-ref</code> åº“æä¾›äº†ç”¨äºå¤„ç† Skills çš„ Python å·¥å…·å’Œ CLIï¼š</p>
<ul>
<li><strong>éªŒè¯ Skill ç›®å½•</strong>ï¼š<code>skills-ref validate &lt;path&gt;</code></li>
<li><strong>ç”Ÿæˆç³»ç»Ÿæç¤º XML</strong>ï¼š<code>skills-ref to-prompt &lt;path&gt;...</code></li>
</ul>
<p>ä½¿ç”¨åº“æºä»£ç ä½œä¸ºå‚è€ƒå®ç°ã€‚</p>
<hr/>
<h2 data-id="heading-34">å¼€å§‹ä½¿ç”¨ Agent Skills</h2>
<p>Agent Skills æ ¼å¼æœ€åˆç”± <strong>Anthropic</strong> å¼€å‘ï¼Œä½œä¸ºå¼€æ”¾æ ‡å‡†å‘å¸ƒï¼Œå¹¶å·²è¢«è¶Šæ¥è¶Šå¤šçš„ Agent äº§å“é‡‡ç”¨ã€‚è¯¥æ ‡å‡†å¼€æ”¾æ¥å—æ›´å¹¿æ³›ç”Ÿæ€ç³»ç»Ÿçš„è´¡çŒ®ã€‚</p>
<h3 data-id="heading-35">èµ„æºé“¾æ¥</h3>
<ul>
<li><strong>GitHub</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fagentskills%2Fagentskills" target="_blank" title="https://github.com/agentskills/agentskills" ref="nofollow noopener noreferrer">agentskills/agentskills</a></li>
<li><strong>æ–‡æ¡£</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fagentskills.io" target="_blank" title="https://agentskills.io" ref="nofollow noopener noreferrer">agentskills.io</a></li>
<li><strong>Stars</strong>: 7,571+</li>
</ul>
<hr/>
<h2 data-id="heading-36">æ€»ç»“</h2>
<p>Agent Skills æ˜¯ AI Agent ç”Ÿæ€ç³»ç»Ÿçš„å¼€æ”¾æ ‡å‡†ï¼Œè®©æ¯ä¸ªäººéƒ½èƒ½ä¸º AI èµ‹äºˆä¸“ä¸šèƒ½åŠ›ã€‚é€šè¿‡ç®€å•çš„æ–‡ä»¶å¤¹ç»“æ„å’Œ YAML + Markdown æ ¼å¼ï¼Œå¼€å‘è€…å’Œä¼ä¸šå¯ä»¥ï¼š</p>
<ol>
<li>åˆ›å»ºå¯é‡ç”¨çš„ä¸“ä¸šèƒ½åŠ›æ¨¡å—</li>
<li>åœ¨ä¸åŒ Agent äº§å“é—´å…±äº« Skills</li>
<li>å°†ç»„ç»‡çŸ¥è¯†ç‰ˆæœ¬åŒ–å’Œå¯ç§»æ¤åŒ–</li>
<li>è®© AI Agent æ›´å‡†ç¡®åœ°å®Œæˆä¸“ä¸šä»»åŠ¡</li>
</ol>
<p>æ— è®ºä½ æ˜¯ Skill ä½œè€…ã€Agent å¼€å‘è€…è¿˜æ˜¯ä¼ä¸šç”¨æˆ·ï¼ŒAgent Skills éƒ½ä¸ºä½ æä¾›äº†ä¸€ç§æ ‡å‡†åŒ–çš„æ–¹å¼æ¥æ‰©å±• AI çš„èƒ½åŠ›è¾¹ç•Œã€‚</p>
<hr/>
<p><em>æœ¬æ–‡å†…å®¹åŸºäº <a href="https://link.juejin.cn?target=https%3A%2F%2Fagentskills.io" target="_blank" title="https://agentskills.io" ref="nofollow noopener noreferrer">agentskills.io</a> å®˜æ–¹æ–‡æ¡£æ•´ç†</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»"äººå·¥é©±åŠ¨"åˆ°"æ™ºèƒ½ååŒ"ï¼šç”¨Agent Skillsé‡å¡‘è½¯ä»¶å¼€å‘å…¨æµç¨‹]]></title>    <link>https://juejin.cn/post/7599965904617209902</link>    <guid>https://juejin.cn/post/7599965904617209902</guid>    <pubDate>2026-01-28T03:04:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599965904617209902" data-draft-id="7599933828543578175" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»&quot;äººå·¥é©±åŠ¨&quot;åˆ°&quot;æ™ºèƒ½ååŒ&quot;ï¼šç”¨Agent Skillsé‡å¡‘è½¯ä»¶å¼€å‘å…¨æµç¨‹"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,å…¨æ ˆ,äº§å“ç»ç†"/> <meta itemprop="datePublished" content="2026-01-28T03:04:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="zh2526"/> <meta itemprop="url" content="https://juejin.cn/user/3989493469689965"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»"äººå·¥é©±åŠ¨"åˆ°"æ™ºèƒ½ååŒ"ï¼šç”¨Agent Skillsé‡å¡‘è½¯ä»¶å¼€å‘å…¨æµç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3989493469689965/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    zh2526
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T03:04:53.000Z" title="Wed Jan 28 2026 03:04:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    19
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»21åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€ï¼šè½¯ä»¶å¼€å‘çš„å›°å¢ƒä¸çªç ´</h2>
<p>åœ¨ä¸€ä¸ªå…¸å‹çš„è½¯ä»¶å¼€å‘å›¢é˜Ÿä¸­ï¼Œæˆ‘ä»¬ç»å¸¸çœ‹åˆ°è¿™æ ·çš„åœºæ™¯ï¼š</p>
<ul>
<li>äº§å“ç»ç†æå‡ºéœ€æ±‚åï¼Œç ”å‘å›¢é˜Ÿåå¤ç¡®è®¤ç»†èŠ‚ï¼Œè€—æ—¶3å¤©ä»æœ‰é—æ¼</li>
<li>æ¶æ„å¸ˆè®¾è®¡æ–¹æ¡ˆæ—¶ï¼Œæ–‡æ¡£ä¸ä»£ç å®ç°é€æ¸è„±èŠ‚ï¼Œæˆä¸º"å†å²æ–‡ç‰©"</li>
<li>æ–°å…¥èŒçš„å¼€å‘è€…ä¿®æ”¹ä¸€è¡Œä»£ç ï¼Œå´ä¸çŸ¥é“å½±å“äº†å“ªäº›æ¨¡å—ï¼Œå¯¼è‡´çº¿ä¸Šæ•…éšœ</li>
<li>æµ‹è¯•å·¥ç¨‹å¸ˆæ‰‹å·¥ç¼–å†™ç”¨ä¾‹ï¼Œè¦†ç›–ç‡ä¸è¶³50%ï¼Œå›å½’æµ‹è¯•é—æ¼å…³é”®åœºæ™¯</li>
<li>å‘å¸ƒå‰å¤œï¼Œå›¢é˜ŸåŠ ç­æ£€æŸ¥é…ç½®ï¼Œä»ç„¶å› ä¸ºé—æ¼ç¯å¢ƒå˜é‡å¯¼è‡´å›æ»š</li>
<li>çº¿ä¸Šå‘Šè­¦å“èµ·ï¼Œè¿ç»´å›¢é˜ŸèŠ±è´¹2å°æ—¶å®šä½é—®é¢˜ï¼Œå´å‘ç°æ˜¯ä¸€ä¸ªå·²çŸ¥çš„è€é—®é¢˜</li>
</ul>
<p><strong>è¿™äº›ç—›ç‚¹çš„æ ¹æºæ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<p>ä¸æ˜¯å·¥å…·ä¸å¤Ÿå¤šï¼Œä¹Ÿä¸æ˜¯æµç¨‹ä¸å¤Ÿä¸¥æ ¼ï¼Œè€Œæ˜¯<strong>ä¸“å®¶ç»éªŒæ— æ³•æ ‡å‡†åŒ–ã€çŸ¥è¯†æ— æ³•æ²‰æ·€ã€è´¨é‡ä¿éšœæ€»æ˜¯æ»å</strong>ã€‚</p>
<p>åœ¨Agentæ—¶ä»£ï¼Œæˆ‘ä»¬æœ‰äº†å…¨æ–°çš„è§£å†³æ–¹æ¡ˆï¼š<strong>Agent Skillsâ€”â€”å°†ä¸“å®¶ç»éªŒå°è£…ä¸ºå¯æ‰§è¡Œçš„æ™ºèƒ½å•å…ƒï¼Œè®©æ¯ä¸ªå›¢é˜Ÿæˆå‘˜éƒ½èƒ½è·å¾—"ä¸“å®¶çº§"çš„èƒ½åŠ›æ”¯æŒã€‚</strong></p>
<p>æœ¬æ–‡å°†ä¸ºæ‚¨å±•ç¤ºï¼Œå¦‚ä½•ç”¨Agent Skillsé‡æ„è½¯ä»¶å¼€å‘å…¨æµç¨‹ï¼Œå®ç°ä»éœ€æ±‚åˆ°è¿ç»´çš„æ™ºèƒ½åŒ–ååŒã€‚</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€é‡æ–°ç†è§£è½¯ä»¶å¼€å‘ï¼šä»æµç¨‹åˆ°æ™ºèƒ½ååŒ</h2>
<h3 data-id="heading-2">1.1 ä¼ ç»Ÿè½¯ä»¶å¼€å‘çš„å…­å¤§æŒ‘æˆ˜</h3>
<p>è½¯ä»¶å¼€å‘éµå¾ªç»å…¸çš„SDLCï¼ˆSoftware Development Life Cycleï¼‰æµç¨‹ï¼Œä½†æ¯ä¸ªç¯èŠ‚éƒ½é¢ä¸´æ•ˆç‡ä¸è´¨é‡çš„åŒé‡æŒ‘æˆ˜ï¼š</p>








































<table><thead><tr><th>å¼€å‘é˜¶æ®µ</th><th>æ ¸å¿ƒæŒ‘æˆ˜</th><th>åæœ</th></tr></thead><tbody><tr><td><strong>éœ€æ±‚åˆ†æ</strong></td><td>éœ€æ±‚ç†è§£åå·®ï¼Œè¿”å·¥ç‡é«˜</td><td>å¼€å‘å®Œæˆåæ‰å‘ç°ç†è§£é”™è¯¯</td></tr><tr><td><strong>æ¶æ„è®¾è®¡</strong></td><td>è®¾è®¡æ–‡æ¡£ä¸ä»£ç å®ç°è„±èŠ‚</td><td>åç»­ç»´æŠ¤å›°éš¾ï¼ŒæŠ€æœ¯å€ºç´¯ç§¯</td></tr><tr><td><strong>ç¼–ç å¼€å‘</strong></td><td>ä»£ç è´¨é‡å‚å·®ä¸é½ï¼Œä¾èµ–ä¸ªäººç»éªŒ</td><td>æ½œåœ¨ç¼ºé™·å¤šï¼Œç»´æŠ¤æˆæœ¬é«˜</td></tr><tr><td><strong>è´¨é‡æµ‹è¯•</strong></td><td>æµ‹è¯•è¦†ç›–ä¸è¶³ï¼Œå›å½’æµ‹è¯•é—æ¼</td><td>çº¿ä¸Šé—®é¢˜é¢‘å‘</td></tr><tr><td><strong>éƒ¨ç½²å‘å¸ƒ</strong></td><td>å‘å¸ƒæµç¨‹ä¸è§„èŒƒï¼Œå›æ»šå›°éš¾</td><td>å‘å¸ƒé£é™©é«˜ï¼Œæ¢å¤æ—¶é—´é•¿</td></tr><tr><td><strong>è¿ç»´ç›‘æ§</strong></td><td>é—®é¢˜å®šä½æ…¢ï¼Œç¼ºä¹é¢„é˜²æœºåˆ¶</td><td>æ•…éšœå½±å“å¤§ï¼Œç”¨æˆ·ä½“éªŒå·®</td></tr></tbody></table>
<h3 data-id="heading-3">1.2 Agent Skillsï¼šæ™ºèƒ½åŒ–çš„è§£å†³æ–¹æ¡ˆ</h3>
<p><strong>Agent Skillsæ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<p>Agent Skillsæ˜¯ä¸€ç§å°†ä¸“ä¸šçŸ¥è¯†ã€æ ‡å‡†æµç¨‹å’Œè‡ªåŠ¨åŒ–å·¥å…·å°è£…åœ¨ä¸€èµ·çš„å¯æ‰§è¡Œå•å…ƒã€‚å®ƒè®©AI Agentèƒ½å¤Ÿåƒäººç±»ä¸“å®¶ä¸€æ ·ï¼Œéµå¾ªæœ€ä½³å®è·µå®Œæˆå¤æ‚ä»»åŠ¡ã€‚</p>
<p><strong>ä¸€ä¸ªå®Œæ•´çš„SkillåŒ…å«ä¸‰ä¸ªæ ¸å¿ƒè¦ç´ ï¼š</strong></p>
<ol>
<li><strong>SOPæ–‡æ¡£ï¼ˆSKILL.mdï¼‰</strong>ï¼šæ­¥éª¤åŒ–ã€å¯æ‰§è¡Œçš„æ“ä½œæµç¨‹</li>
<li><strong>å·¥å…·è„šæœ¬</strong>ï¼šä¸ç°æœ‰å·¥å…·é“¾ï¼ˆGitã€CI/CDã€è´¨é‡å·¥å…·ï¼‰çš„é›†æˆ</li>
<li><strong>çŸ¥è¯†åº“</strong>ï¼šæ¶æ„æ–‡æ¡£ã€è§„èŒƒæ¸…å•ã€å†å²æ¡ˆä¾‹</li>
</ol>
<p><strong>Skillçš„å·¥ä½œæœºåˆ¶ï¼š</strong></p>
<pre><code class="hljs">ç”¨æˆ·è¯·æ±‚ â†’ Agentç†è§£æ„å›¾ â†’ æ¿€æ´»ç›¸å…³Skill â†’ æ‰§è¡ŒSOPæµç¨‹ â†’ è°ƒç”¨å·¥å…· â†’ ç”Ÿæˆäº¤ä»˜ç‰©
</code></pre>
<p>ä¸ä¼ ç»Ÿè‡ªåŠ¨åŒ–è„šæœ¬ä¸åŒï¼ŒAgent Skillså…·å¤‡<strong>ä¸Šä¸‹æ–‡æ„ŸçŸ¥èƒ½åŠ›</strong>å’Œ<strong>å†³ç­–èƒ½åŠ›</strong>ï¼Œèƒ½å¤Ÿæ ¹æ®å®é™…æƒ…å†µè°ƒæ•´æ‰§è¡Œç­–ç•¥ã€‚</p>
<hr/>
<h2 data-id="heading-4">äºŒã€å…­å¤§æ ¸å¿ƒSkillï¼šè¦†ç›–è½¯ä»¶å¼€å‘å…¨ç”Ÿå‘½å‘¨æœŸ</h2>
<p>æˆ‘ä»¬å°†è½¯ä»¶å¼€å‘æµç¨‹æ˜ å°„ä¸º6ä¸ªæ™ºèƒ½ååŒçš„Agent Skillsï¼Œæ¯ä¸ªSkillè§£å†³ä¸€ä¸ªå…³é”®é˜¶æ®µçš„æ ¸å¿ƒç—›ç‚¹ã€‚</p>
<h3 data-id="heading-5">Skill 1ï¼šæ™ºèƒ½éœ€æ±‚åˆ†æå¸ˆï¼ˆRequirement Analystï¼‰</h3>
<p><strong>è§£å†³çš„ç—›ç‚¹ï¼š</strong></p>
<ul>
<li>éœ€æ±‚æè¿°æ¨¡ç³Šï¼Œç†è§£ä¸ä¸€è‡´</li>
<li>é—æ¼è¾¹ç•Œåœºæ™¯å’Œå¼‚å¸¸æµç¨‹</li>
<li>éœ€æ±‚å˜æ›´å½±å“è¯„ä¼°å›°éš¾</li>
</ul>
<p><strong>æ ¸å¿ƒèƒ½åŠ›ï¼š</strong></p>
<ol>
<li>
<p><strong>éœ€æ±‚å®Œæ•´æ€§æ£€æŸ¥</strong></p>
<ul>
<li>è¯†åˆ«æ¨¡ç³Šè¯æ±‡ï¼ˆ"å°½å¿«"ã€"é€‚å½“"ã€"åˆç†"ï¼‰</li>
<li>æ£€æŸ¥æ˜¯å¦åŒ…å«ï¼šåŠŸèƒ½åœºæ™¯ã€å¼‚å¸¸å¤„ç†ã€æ€§èƒ½è¦æ±‚ã€å®‰å…¨è¦æ±‚</li>
<li>ç”Ÿæˆéœ€æ±‚æ¾„æ¸…é—®é¢˜æ¸…å•</li>
</ul>
</li>
<li>
<p><strong>éœ€æ±‚æ‹†è§£ä¸ç”¨ä¾‹ç”Ÿæˆ</strong></p>
<ul>
<li>è‡ªåŠ¨ç”Ÿæˆç”¨æˆ·æ•…äº‹ï¼ˆUser Storyï¼‰</li>
<li>ç”ŸæˆéªŒæ”¶æ ‡å‡†ï¼ˆAcceptance Criteriaï¼‰</li>
<li>è¯†åˆ«æ½œåœ¨æŠ€æœ¯ä¾èµ–</li>
</ul>
</li>
<li>
<p><strong>éœ€æ±‚å˜æ›´å½±å“åˆ†æ</strong></p>
<ul>
<li>è¿½æº¯éœ€æ±‚åˆ°å·²æœ‰åŠŸèƒ½æ¨¡å—</li>
<li>è¯„ä¼°å¯¹ç°æœ‰æ¶æ„çš„å½±å“</li>
<li>ç”Ÿæˆå˜æ›´å½±å“è¯„ä¼°æŠ¥å‘Š</li>
</ul>
</li>
</ol>
<p><strong>æŠ€æœ¯å®ç°ï¼š</strong></p>
<ul>
<li>NLPåˆ†æéœ€æ±‚æ–‡æœ¬</li>
<li>ä¸éœ€æ±‚ç®¡ç†ç³»ç»Ÿé›†æˆ</li>
<li>å†å²éœ€æ±‚çŸ¥è¯†åº“æ£€ç´¢</li>
</ul>
<p><strong>äº¤ä»˜äº§ç‰©ï¼š</strong></p>
<ul>
<li>éœ€æ±‚åˆ†ææŠ¥å‘Š</li>
<li>ç”¨æˆ·æ•…äº‹åˆ—è¡¨</li>
<li>éªŒæ”¶æ ‡å‡†æ¸…å•</li>
<li>æŠ€æœ¯ä¾èµ–è¯„ä¼°</li>
</ul>
<p><strong>æ¡ˆä¾‹ï¼š</strong>
å½“äº§å“ç»ç†æå‡º"ç”¨æˆ·ä¸‹å•åï¼Œå¦‚æœ30åˆ†é’Ÿå†…æ²¡æœ‰æ”¯ä»˜ï¼Œç³»ç»Ÿåº”è¯¥è‡ªåŠ¨å–æ¶ˆè®¢å•"æ—¶ï¼Œè¯¥Skillä¼šè‡ªåŠ¨è¯†åˆ«5ä¸ªéœ€è¦æ¾„æ¸…çš„é—®é¢˜ï¼š</p>
<ul>
<li>Q1: 30åˆ†é’Ÿçš„è®¡æ—¶èµ·ç‚¹æ˜¯å“ªä¸ªæ—¶é—´èŠ‚ç‚¹ï¼Ÿ</li>
<li>Q2: å–æ¶ˆè®¢å•åæ˜¯å¦éœ€è¦å‘é€é€šçŸ¥ï¼ˆç«™å†…ä¿¡/çŸ­ä¿¡/pushï¼‰?</li>
<li>Q3: åº“å­˜é”å®šå¦‚ä½•é‡Šæ”¾ï¼Ÿ</li>
<li>Q4: å¦‚æœç”¨æˆ·åœ¨ç¬¬29åˆ†é’Ÿæ”¯ä»˜æˆåŠŸï¼Œå¦‚ä½•å¤„ç†å¹¶å‘ï¼Ÿ</li>
<li>Q5: æ˜¯å¦éœ€è¦æ”¯æŒåå°æ‰‹åŠ¨å»¶é•¿æ”¯ä»˜æ—¶é—´ï¼Ÿ</li>
</ul>
<hr/>
<h3 data-id="heading-6">Skill 2ï¼šæ¶æ„è®¾è®¡é¡¾é—®ï¼ˆArchitecture Advisorï¼‰</h3>
<p><strong>è§£å†³çš„ç—›ç‚¹ï¼š</strong></p>
<ul>
<li>è®¾è®¡å†³ç­–ç¼ºä¹ä¾æ®ï¼Œéš¾ä»¥è¿½æº¯</li>
<li>æ¶æ„æ–‡æ¡£ä¸ä»£ç å®ç°ä¸åŒæ­¥</li>
<li>æŠ€æœ¯é€‰å‹ç¼ºä¹ç³»ç»Ÿæ€§è¯„ä¼°</li>
</ul>
<p><strong>æ ¸å¿ƒèƒ½åŠ›ï¼š</strong></p>
<ol>
<li>
<p><strong>æ¶æ„è®¾è®¡è¯„å®¡</strong></p>
<ul>
<li>æ£€æŸ¥æ˜¯å¦ç¬¦åˆSOLIDåŸåˆ™</li>
<li>è¯†åˆ«æ½œåœ¨çš„æ€§èƒ½ç“¶é¢ˆ</li>
<li>è¯„ä¼°å¯æ‰©å±•æ€§å’Œå¯ç»´æŠ¤æ€§</li>
</ul>
</li>
<li>
<p><strong>æŠ€æœ¯é€‰å‹è¾…åŠ©å†³ç­–</strong></p>
<ul>
<li>åŸºäºé¡¹ç›®ç‰¹å¾æ¨èæŠ€æœ¯æ ˆ</li>
<li>ç”ŸæˆæŠ€æœ¯å¯¹æ¯”çŸ©é˜µï¼ˆæ€§èƒ½ã€æˆç†Ÿåº¦ã€å­¦ä¹ æˆæœ¬ï¼‰</li>
<li>æä¾›ä¸šç•Œæœ€ä½³å®è·µå‚è€ƒ</li>
</ul>
</li>
<li>
<p><strong>æ¶æ„æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆ</strong></p>
<ul>
<li>ä»ä»£ç ç”Ÿæˆæ¶æ„å›¾ï¼ˆC4æ¨¡å‹ï¼‰</li>
<li>ç”ŸæˆAPIæ–‡æ¡£æ¡†æ¶</li>
<li>ç”Ÿæˆæ•°æ®åº“è®¾è®¡æ–‡æ¡£</li>
</ul>
</li>
<li>
<p><strong>æ¶æ„å†³ç­–è®°å½•ï¼ˆADRï¼‰</strong></p>
<ul>
<li>å¼•å¯¼è®°å½•è®¾è®¡å†³ç­–çš„ä¸Šä¸‹æ–‡ã€æ–¹æ¡ˆå¯¹æ¯”ã€æœ€ç»ˆå†³å®š</li>
<li>å»ºç«‹å¯è¿½æº¯çš„å†³ç­–å†å²</li>
</ul>
</li>
</ol>
<p><strong>æŠ€æœ¯å®ç°ï¼š</strong></p>
<ul>
<li>ä»£ç é™æ€åˆ†æå·¥å…·</li>
<li>PlantUML/Mermaidå›¾è¡¨ç”Ÿæˆ</li>
<li>æ¶æ„æ¨¡å¼åº“åŒ¹é…</li>
</ul>
<p><strong>äº¤ä»˜äº§ç‰©ï¼š</strong></p>
<ul>
<li>æ¶æ„è®¾è®¡æ–‡æ¡£</li>
<li>æŠ€æœ¯é€‰å‹æŠ¥å‘Š</li>
<li>ADRæ–‡æ¡£</li>
<li>ç³»ç»Ÿæ¶æ„å›¾</li>
</ul>
<p><strong>æ¡ˆä¾‹ç¤ºä¾‹ï¼š</strong></p>
<p>å½“éœ€è¦å®ç°"è®¢å•è¶…æ—¶è‡ªåŠ¨å–æ¶ˆ"åŠŸèƒ½æ—¶ï¼Œè¯¥Skillä¼šæä¾›æŠ€æœ¯æ–¹æ¡ˆå¯¹æ¯”ï¼š</p>





























<table><thead><tr><th>æ–¹æ¡ˆ</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th><th>æ¨èåº¦</th></tr></thead><tbody><tr><td>æ•°æ®åº“å®šæ—¶è½®è¯¢</td><td>ç®€å•</td><td>æ€§èƒ½å·®ã€å»¶è¿Ÿé«˜</td><td>â­â­</td></tr><tr><td>å»¶æ—¶é˜Ÿåˆ—ï¼ˆRabbitMQï¼‰</td><td>ç²¾å‡†ã€è§£è€¦</td><td>éœ€è¦é¢å¤–ç»„ä»¶</td><td>â­â­â­</td></tr><tr><td>æ—¶é—´è½®ç®—æ³•ï¼ˆæœ¬åœ°ï¼‰</td><td>é«˜æ€§èƒ½</td><td>å•æœºé™åˆ¶</td><td>â­â­</td></tr></tbody></table>
<p>å¹¶è‡ªåŠ¨ç”ŸæˆADRæ–‡æ¡£è®°å½•å†³ç­–è¿‡ç¨‹ã€‚</p>
<hr/>
<h3 data-id="heading-7">Skill 3ï¼šä»£ç å¼€å‘è´¨é‡å«å£«ï¼ˆCode Quality Guardianï¼‰</h3>
<p><strong>è§£å†³çš„ç—›ç‚¹ï¼š</strong></p>
<ul>
<li>ä»£ç é£æ ¼ä¸ç»Ÿä¸€</li>
<li>å˜æ›´å½±å“èŒƒå›´ä¸æ¸…ï¼Œå®¹æ˜“å¼•å…¥Bug</li>
<li>ç¼ºå°‘Code Reviewæ ‡å‡†</li>
</ul>
<p><strong>æ ¸å¿ƒèƒ½åŠ›ï¼š</strong></p>
<ol>
<li>
<p><strong>ä»£ç è´¨é‡å®æ—¶æ£€æŸ¥</strong></p>
<ul>
<li>ä»£ç è§„èŒƒæ£€æŸ¥ï¼ˆå‘½åã€æ³¨é‡Šã€å¤æ‚åº¦ï¼‰</li>
<li>é‡å¤ä»£ç æ£€æµ‹</li>
<li>æ½œåœ¨Bugæ¨¡å¼è¯†åˆ«</li>
</ul>
</li>
<li>
<p><strong>å˜æ›´å½±å“åˆ†æ</strong></p>
<ul>
<li>åˆ†æä¿®æ”¹çš„ä»£ç å½±å“èŒƒå›´</li>
<li>ç”Ÿæˆä¾èµ–å…³ç³»å›¾è°±</li>
<li>è¯†åˆ«éœ€è¦å›å½’æµ‹è¯•çš„æ¨¡å—</li>
</ul>
</li>
<li>
<p><strong>æ™ºèƒ½Code ReviewåŠ©æ‰‹</strong></p>
<ul>
<li>è‡ªåŠ¨ç”ŸæˆReview Checklist</li>
<li>è¯†åˆ«å¸¸è§é—®é¢˜ï¼ˆç©ºæŒ‡é’ˆã€èµ„æºæ³„æ¼ï¼‰</li>
<li>æä¾›ä¼˜åŒ–å»ºè®®</li>
</ul>
</li>
<li>
<p><strong>å®‰å…¨åˆè§„æ£€æŸ¥</strong></p>
<ul>
<li>SQLæ³¨å…¥ã€XSSç­‰æ¼æ´æ‰«æ</li>
<li>æ•æ„Ÿä¿¡æ¯æ£€æµ‹ï¼ˆå¯†é’¥ã€å¯†ç ï¼‰</li>
<li>ä¾èµ–åº“æ¼æ´æ‰«æï¼ˆSCAï¼‰</li>
</ul>
</li>
</ol>
<p><strong>æŠ€æœ¯å®ç°ï¼š</strong></p>
<ul>
<li>ASTè¯­æ³•æ ‘åˆ†æ</li>
<li>SonarQube/ESLinté›†æˆ</li>
<li>Git diffåˆ†æ</li>
<li>SAST/SCAå·¥å…·é›†æˆ</li>
</ul>
<p><strong>äº¤ä»˜äº§ç‰©ï¼š</strong></p>
<ul>
<li>ä»£ç è´¨é‡æŠ¥å‘Š</li>
<li>å˜æ›´å½±å“åˆ†ææŠ¥å‘Š</li>
<li>å®‰å…¨æ¼æ´æŠ¥å‘Š</li>
<li>Code Reviewå»ºè®®æ¸…å•</li>
</ul>
<p><strong>å®é™…æ•ˆæœï¼š</strong></p>
<ul>
<li>ä»£ç ç¼ºé™·ä¸‹é™60%</li>
<li>Code Reviewæ•ˆç‡æå‡3å€</li>
<li>å®‰å…¨æ¼æ´å‰ç½®å‘ç°ç‡æå‡80%</li>
</ul>
<hr/>
<h3 data-id="heading-8">Skill 4ï¼šæ™ºèƒ½æµ‹è¯•å·¥ç¨‹å¸ˆï¼ˆSmart Test Engineerï¼‰</h3>
<p><strong>è§£å†³çš„ç—›ç‚¹ï¼š</strong></p>
<ul>
<li>æµ‹è¯•ç”¨ä¾‹è¦†ç›–ä¸è¶³</li>
<li>å›å½’æµ‹è¯•é—æ¼</li>
<li>æµ‹è¯•æ•°æ®å‡†å¤‡å›°éš¾</li>
</ul>
<p><strong>æ ¸å¿ƒèƒ½åŠ›ï¼š</strong></p>
<ol>
<li>
<p><strong>æµ‹è¯•ç”¨ä¾‹æ™ºèƒ½ç”Ÿæˆ</strong></p>
<ul>
<li>åŸºäºä»£ç è·¯å¾„ç”Ÿæˆå•å…ƒæµ‹è¯•</li>
<li>åŸºäºAPIæ–‡æ¡£ç”Ÿæˆæ¥å£æµ‹è¯•</li>
<li>åŸºäºç”¨æˆ·æ•…äº‹ç”ŸæˆE2Eæµ‹è¯•</li>
</ul>
</li>
<li>
<p><strong>æµ‹è¯•èŒƒå›´åˆ†æ</strong></p>
<ul>
<li>æ ¹æ®ä»£ç å˜æ›´ç¡®å®šæµ‹è¯•èŒƒå›´</li>
<li>è¯†åˆ«éœ€è¦å›å½’æµ‹è¯•çš„æ¨¡å—</li>
<li>ç”Ÿæˆæµ‹è¯•ä¼˜å…ˆçº§æ’åº</li>
</ul>
</li>
<li>
<p><strong>æµ‹è¯•æ•°æ®ç®¡ç†</strong></p>
<ul>
<li>ç”Ÿæˆç¬¦åˆä¸šåŠ¡è§„åˆ™çš„æµ‹è¯•æ•°æ®</li>
<li>è„±æ•ç”Ÿäº§æ•°æ®ç”¨äºæµ‹è¯•</li>
<li>Mockæ•°æ®ç”Ÿæˆç­–ç•¥</li>
</ul>
</li>
<li>
<p><strong>æµ‹è¯•æŠ¥å‘Šä¸åˆ†æ</strong></p>
<ul>
<li>ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š</li>
<li>è¯†åˆ«æµ‹è¯•è–„å¼±ç¯èŠ‚</li>
<li>å¤±è´¥ç”¨ä¾‹æ ¹å› åˆ†æ</li>
</ul>
</li>
</ol>
<p><strong>æŠ€æœ¯å®ç°ï¼š</strong></p>
<ul>
<li>ä»£ç è¦†ç›–ç‡å·¥å…·ï¼ˆJaCoCo/Istanbulï¼‰</li>
<li>æµ‹è¯•æ¡†æ¶é›†æˆï¼ˆJUnit/Pytest/Jestï¼‰</li>
<li>æ•°æ®ç”Ÿæˆåº“ï¼ˆFakerï¼‰</li>
<li>å˜æ›´å½±å“å›¾è°±</li>
</ul>
<p><strong>äº¤ä»˜äº§ç‰©ï¼š</strong></p>
<ul>
<li>è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹</li>
<li>æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š</li>
<li>æµ‹è¯•æ•°æ®é›†</li>
<li>æµ‹è¯•æ‰§è¡ŒæŠ¥å‘Š</li>
</ul>
<p><strong>é‡åŒ–ä»·å€¼ï¼š</strong></p>
<ul>
<li>æµ‹è¯•ç”¨ä¾‹ç¼–å†™æ—¶é—´ç¼©çŸ­70%</li>
<li>æµ‹è¯•è¦†ç›–ç‡ä»50%æå‡åˆ°85%</li>
<li>å›å½’æµ‹è¯•é—æ¼ç‡é™ä½90%</li>
</ul>
<hr/>
<h3 data-id="heading-9">Skill 5ï¼šæ™ºèƒ½å‘å¸ƒç¼–æ’å¸ˆï¼ˆRelease Orchestratorï¼‰</h3>
<p><strong>è§£å†³çš„ç—›ç‚¹ï¼š</strong></p>
<ul>
<li>å‘å¸ƒæµç¨‹ä¸è§„èŒƒï¼Œæ­¥éª¤é—æ¼</li>
<li>ç¯å¢ƒé…ç½®ä¸ä¸€è‡´</li>
<li>å›æ»šå›°éš¾ï¼Œæ¢å¤æ—¶é—´é•¿</li>
</ul>
<p><strong>æ ¸å¿ƒèƒ½åŠ›ï¼š</strong></p>
<ol>
<li>
<p><strong>å‘å¸ƒå‰æ£€æŸ¥æ¸…å•</strong></p>
<ul>
<li>æ•°æ®åº“è¿ç§»è„šæœ¬æ£€æŸ¥</li>
<li>é…ç½®æ–‡ä»¶å˜æ›´æ£€æŸ¥</li>
<li>ä¾èµ–ç‰ˆæœ¬å…¼å®¹æ€§æ£€æŸ¥</li>
<li>ç¯å¢ƒå˜é‡å®Œæ•´æ€§æ£€æŸ¥</li>
</ul>
</li>
<li>
<p><strong>å‘å¸ƒç­–ç•¥ç¼–æ’</strong></p>
<ul>
<li>æ”¯æŒè“ç»¿éƒ¨ç½²ã€é‡‘ä¸é›€å‘å¸ƒ</li>
<li>è‡ªåŠ¨ç”Ÿæˆå‘å¸ƒæ­¥éª¤</li>
<li>å‘å¸ƒè¿›åº¦ç›‘æ§</li>
</ul>
</li>
<li>
<p><strong>è‡ªåŠ¨åŒ–æ–‡æ¡£ç”Ÿæˆ</strong></p>
<ul>
<li>ç”ŸæˆRelease Notes</li>
<li>ç”ŸæˆCHANGELOG</li>
<li>ç”Ÿæˆéƒ¨ç½²æ‰‹å†Œ</li>
</ul>
</li>
<li>
<p><strong>å›æ»šé¢„æ¡ˆ</strong></p>
<ul>
<li>è‡ªåŠ¨ç”Ÿæˆå›æ»šè„šæœ¬</li>
<li>å¤‡ä»½å…³é”®é…ç½®å’Œæ•°æ®</li>
<li>å›æ»šæ¼”ç»ƒéªŒè¯</li>
</ul>
</li>
</ol>
<p><strong>æŠ€æœ¯å®ç°ï¼š</strong></p>
<ul>
<li>CI/CDå¹³å°é›†æˆï¼ˆJenkins/GitLab CIï¼‰</li>
<li>å®¹å™¨ç¼–æ’ï¼ˆKubernetesï¼‰</li>
<li>Gitæäº¤å†å²åˆ†æ</li>
<li>é…ç½®ç®¡ç†å·¥å…·ï¼ˆAnsibleï¼‰</li>
</ul>
<p><strong>äº¤ä»˜äº§ç‰©ï¼š</strong></p>
<ul>
<li>å‘å¸ƒæ£€æŸ¥æ¸…å•</li>
<li>Release Notes</li>
<li>éƒ¨ç½²è„šæœ¬</li>
<li>å›æ»šæ–¹æ¡ˆ</li>
</ul>
<p><strong>é£é™©é™ä½ï¼š</strong></p>
<ul>
<li>å‘å¸ƒäº‹æ•…ç‡ä¸‹é™80%</li>
<li>å¹³å‡å‘å¸ƒæ—¶é—´ä»4å°æ—¶ç¼©çŸ­åˆ°30åˆ†é’Ÿ</li>
<li>å›æ»šæˆåŠŸç‡æå‡åˆ°99%</li>
</ul>
<hr/>
<h3 data-id="heading-10">Skill 6ï¼šè¿ç»´æ•…éšœè¯Šæ–­ä¸“å®¶ï¼ˆDevOps Troubleshooterï¼‰</h3>
<p><strong>è§£å†³çš„ç—›ç‚¹ï¼š</strong></p>
<ul>
<li>é—®é¢˜å®šä½æ…¢ï¼Œä¾èµ–ç»éªŒ</li>
<li>å‘Šè­¦å™ªéŸ³å¤šï¼Œéš¾ä»¥è¯†åˆ«çœŸå®é—®é¢˜</li>
<li>ç¼ºä¹é¢„é˜²æ€§è¿ç»´æœºåˆ¶</li>
</ul>
<p><strong>æ ¸å¿ƒèƒ½åŠ›ï¼š</strong></p>
<ol>
<li>
<p><strong>æ™ºèƒ½æ—¥å¿—åˆ†æ</strong></p>
<ul>
<li>å¼‚å¸¸æ—¥å¿—æ¨¡å¼è¯†åˆ«</li>
<li>é”™è¯¯æ ¹å› è‡ªåŠ¨å…³è”</li>
<li>ç”Ÿæˆé—®é¢˜å®šä½è·¯å¾„</li>
</ul>
</li>
<li>
<p><strong>æ€§èƒ½è¯Šæ–­</strong></p>
<ul>
<li>è¯†åˆ«æ€§èƒ½ç“¶é¢ˆï¼ˆCPU/å†…å­˜/IOï¼‰</li>
<li>SQLæ…¢æŸ¥è¯¢åˆ†æ</li>
<li>APIå“åº”æ—¶é—´åˆ†æ</li>
</ul>
</li>
<li>
<p><strong>å‘Šè­¦æ™ºèƒ½é™å™ª</strong></p>
<ul>
<li>å…³è”ç›¸å…³å‘Šè­¦ï¼Œåˆå¹¶é‡å¤</li>
<li>å‘Šè­¦ä¼˜å…ˆçº§è¯„ä¼°</li>
<li>ç”Ÿæˆå¤„ç†å»ºè®®</li>
</ul>
</li>
<li>
<p><strong>é¢„é˜²æ€§è¿ç»´</strong></p>
<ul>
<li>èµ„æºè¶‹åŠ¿é¢„æµ‹</li>
<li>æ½œåœ¨é£é™©è¯†åˆ«ï¼ˆç£ç›˜å°†æ»¡ã€è¯ä¹¦è¿‡æœŸï¼‰</li>
<li>ç”Ÿæˆè¿ç»´ä¼˜åŒ–å»ºè®®</li>
</ul>
</li>
<li>
<p><strong>æ•…éšœçŸ¥è¯†åº“</strong></p>
<ul>
<li>è®°å½•å†å²æ•…éšœåŠè§£å†³æ–¹æ¡ˆ</li>
<li>è‡ªåŠ¨åŒ¹é…ç›¸ä¼¼é—®é¢˜</li>
<li>ç”ŸæˆRunbook</li>
</ul>
</li>
</ol>
<p><strong>æŠ€æœ¯å®ç°ï¼š</strong></p>
<ul>
<li>æ—¥å¿—åˆ†æå·¥å…·ï¼ˆELK/Splunkï¼‰</li>
<li>ç›‘æ§ç³»ç»Ÿé›†æˆï¼ˆPrometheus/Grafanaï¼‰</li>
<li>APMå·¥å…·ï¼ˆSkywalking/Jaegerï¼‰</li>
<li>çŸ¥è¯†å›¾è°±æ„å»º</li>
</ul>
<p><strong>äº¤ä»˜äº§ç‰©ï¼š</strong></p>
<ul>
<li>æ•…éšœè¯Šæ–­æŠ¥å‘Š</li>
<li>æ€§èƒ½ä¼˜åŒ–å»ºè®®</li>
<li>å‘Šè­¦å¤„ç†æ‰‹å†Œ</li>
<li>è¿ç»´çŸ¥è¯†åº“æ›´æ–°</li>
</ul>
<p><strong>æ•ˆç‡æå‡ï¼š</strong></p>
<ul>
<li>æ•…éšœå¹³å‡å®šä½æ—¶é—´ä»2å°æ—¶ç¼©çŸ­åˆ°15åˆ†é’Ÿ</li>
<li>å‘Šè­¦å™ªéŸ³å‡å°‘70%</li>
<li>é¢„é˜²æ€§å‘ç°é—®é¢˜ï¼Œé¿å…80%çš„æ½œåœ¨æ•…éšœ</li>
</ul>
<hr/>
<h2 data-id="heading-11">ä¸‰ã€å®Œæ•´æ¡ˆä¾‹ï¼šä»éœ€æ±‚åˆ°ä¸Šçº¿çš„æ™ºèƒ½ååŒ</h2>
<p>è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªçœŸå®æ¡ˆä¾‹ï¼Œçœ‹çœ‹6ä¸ªSkillså¦‚ä½•ååŒå·¥ä½œã€‚</p>
<h3 data-id="heading-12">æ¡ˆä¾‹èƒŒæ™¯</h3>
<p>æŸç”µå•†å¹³å°éœ€è¦å®ç°"<strong>ç”¨æˆ·ä¸‹å•å30åˆ†é’Ÿæœªæ”¯ä»˜è‡ªåŠ¨å–æ¶ˆè®¢å•</strong>"åŠŸèƒ½ã€‚</p>
<hr/>
<h3 data-id="heading-13">é˜¶æ®µä¸€ï¼šéœ€æ±‚åˆ†æï¼ˆSkill 1ï¼šæ™ºèƒ½éœ€æ±‚åˆ†æå¸ˆï¼‰</h3>
<p><strong>è¾“å…¥ï¼š</strong> äº§å“ç»ç†æä¾›çš„éœ€æ±‚æè¿°</p>
<pre><code class="hljs">ç”¨æˆ·ä¸‹å•åï¼Œå¦‚æœ30åˆ†é’Ÿå†…æ²¡æœ‰æ”¯ä»˜ï¼Œç³»ç»Ÿåº”è¯¥è‡ªåŠ¨å–æ¶ˆè®¢å•ã€‚
</code></pre>
<p><strong>Skill 1æ‰§è¡Œæµç¨‹ï¼š</strong></p>
<ol>
<li>
<p><strong>æ¨¡ç³Šè¯æ±‡è¯†åˆ«</strong></p>
<ul>
<li>âš ï¸ "30åˆ†é’Ÿ"èµ·ç‚¹æ˜¯ä¸‹å•æ—¶é—´è¿˜æ˜¯è®¢å•ç¡®è®¤æ—¶é—´ï¼Ÿ</li>
<li>âš ï¸ "è‡ªåŠ¨å–æ¶ˆ"æ˜¯å¦éœ€è¦é€šçŸ¥ç”¨æˆ·ï¼Ÿ</li>
<li>âš ï¸ åº“å­˜å¦‚ä½•å¤„ç†ï¼Ÿ</li>
</ul>
</li>
<li>
<p><strong>è‡ªåŠ¨ç”Ÿæˆæ¾„æ¸…é—®é¢˜</strong></p>
<ul>
<li>Q1: 30åˆ†é’Ÿçš„è®¡æ—¶èµ·ç‚¹æ˜¯å“ªä¸ªæ—¶é—´èŠ‚ç‚¹ï¼Ÿ</li>
<li>Q2: å–æ¶ˆè®¢å•åæ˜¯å¦éœ€è¦å‘é€é€šçŸ¥ï¼ˆç«™å†…ä¿¡/çŸ­ä¿¡/pushï¼‰?</li>
<li>Q3: åº“å­˜é”å®šå¦‚ä½•é‡Šæ”¾ï¼Ÿ</li>
<li>Q4: å¦‚æœç”¨æˆ·åœ¨ç¬¬29åˆ†é’Ÿæ”¯ä»˜æˆåŠŸï¼Œå¦‚ä½•å¤„ç†å¹¶å‘ï¼Ÿ</li>
<li>Q5: æ˜¯å¦éœ€è¦æ”¯æŒåå°æ‰‹åŠ¨å»¶é•¿æ”¯ä»˜æ—¶é—´ï¼Ÿ</li>
</ul>
</li>
<li>
<p><strong>ç”Ÿæˆç”¨æˆ·æ•…äº‹</strong></p>
<pre><code class="hljs language-diff" lang="diff">US-001: ä½œä¸ºä¹°å®¶ï¼Œæˆ‘å¸Œæœ›åœ¨ä¸‹å•åæ‹¥æœ‰30åˆ†é’Ÿçš„æ”¯ä»˜æ—¶é—´
éªŒæ”¶æ ‡å‡†ï¼š
<span class="hljs-deletion">- è®¢å•åˆ›å»ºæ—¶è®°å½•è¶…æ—¶æ—¶é—´ï¼ˆåˆ›å»ºæ—¶é—´ + 30åˆ†é’Ÿï¼‰</span>
<span class="hljs-deletion">- è®¢å•é¡µé¢æ˜¾ç¤ºå€’è®¡æ—¶</span>

US-002: ä½œä¸ºç³»ç»Ÿï¼Œæˆ‘éœ€è¦åœ¨è®¢å•è¶…æ—¶åè‡ªåŠ¨å–æ¶ˆ
éªŒæ”¶æ ‡å‡†ï¼š
<span class="hljs-deletion">- è¶…æ—¶åè®¢å•çŠ¶æ€å˜æ›´ä¸º"å·²å–æ¶ˆ"</span>
<span class="hljs-deletion">- åº“å­˜é‡Šæ”¾å›åº“å­˜æ± </span>
<span class="hljs-deletion">- å‘é€å–æ¶ˆé€šçŸ¥ç»™ç”¨æˆ·</span>

US-003: ä½œä¸ºç³»ç»Ÿï¼Œæˆ‘éœ€è¦å¤„ç†æ”¯ä»˜å¹¶å‘åœºæ™¯
éªŒæ”¶æ ‡å‡†ï¼š
<span class="hljs-deletion">- ä½¿ç”¨åˆ†å¸ƒå¼é”é˜²æ­¢é‡å¤å–æ¶ˆ</span>
<span class="hljs-deletion">- å¦‚æœæ”¯ä»˜æˆåŠŸï¼Œå–æ¶ˆä»»åŠ¡åº”å¤±è´¥</span>
</code></pre>
</li>
</ol>
<p><strong>äº¤ä»˜äº§ç‰©ï¼š</strong></p>
<ul>
<li>æ¾„æ¸…é—®é¢˜æ¸…å•ï¼ˆ5ä¸ªé—®é¢˜ï¼‰</li>
<li>ç”¨æˆ·æ•…äº‹ï¼ˆ3ä¸ªï¼‰</li>
<li>æŠ€æœ¯ä¾èµ–è¯†åˆ«ï¼šéœ€è¦å®šæ—¶ä»»åŠ¡ã€åˆ†å¸ƒå¼é”ã€æ¶ˆæ¯é€šçŸ¥æœåŠ¡</li>
</ul>
<hr/>
<h3 data-id="heading-14">é˜¶æ®µäºŒï¼šæ¶æ„è®¾è®¡ï¼ˆSkill 2ï¼šæ¶æ„è®¾è®¡é¡¾é—®ï¼‰</h3>
<p><strong>Skill 2æ‰§è¡Œæµç¨‹ï¼š</strong></p>
<ol>
<li>
<p><strong>æŠ€æœ¯æ–¹æ¡ˆå¯¹æ¯”</strong></p>





























<table><thead><tr><th>æ–¹æ¡ˆ</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th><th>æ¨èåº¦</th></tr></thead><tbody><tr><td>æ•°æ®åº“å®šæ—¶è½®è¯¢</td><td>ç®€å•</td><td>æ€§èƒ½å·®ã€å»¶è¿Ÿé«˜</td><td>â­â­</td></tr><tr><td>å»¶æ—¶é˜Ÿåˆ—ï¼ˆRabbitMQ TTL + Dead Letterï¼‰</td><td>ç²¾å‡†ã€è§£è€¦</td><td>éœ€è¦é¢å¤–ç»„ä»¶</td><td>â­â­â­</td></tr><tr><td>æ—¶é—´è½®ç®—æ³•ï¼ˆæœ¬åœ°ï¼‰</td><td>é«˜æ€§èƒ½</td><td>å•æœºé™åˆ¶</td><td>â­â­</td></tr></tbody></table>
</li>
<li>
<p><strong>æ¨èæ–¹æ¡ˆ</strong>ï¼šå»¶æ—¶é˜Ÿåˆ—ï¼ˆRabbitMQ TTL + Dead Letterï¼‰</p>
</li>
<li>
<p><strong>ç”Ÿæˆæ¶æ„è®¾è®¡æ–‡æ¡£</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">ç»„ä»¶äº¤äº’æµç¨‹ï¼š
è®¢å•æœåŠ¡ â†’ åˆ›å»ºè®¢å• â†’ å‘é€å»¶æ—¶æ¶ˆæ¯(30åˆ†é’Ÿ) â†’ RabbitMQ
<span class="hljs-code">                                                 â†“
å–æ¶ˆä»»åŠ¡æ¶ˆè´¹è€… â† DLXé˜Ÿåˆ— â† TTLè¿‡æœŸ
</span></code></pre>
</li>
<li>
<p><strong>ç”ŸæˆADRï¼ˆæ¶æ„å†³ç­–è®°å½•ï¼‰</strong></p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># ADR-012: è®¢å•è¶…æ—¶å–æ¶ˆæ–¹æ¡ˆé€‰æ‹©</span>

<span class="hljs-section">## èƒŒæ™¯</span>
éœ€è¦å®ç°è®¢å•30åˆ†é’Ÿè‡ªåŠ¨å–æ¶ˆåŠŸèƒ½

<span class="hljs-section">## å†³ç­–</span>
é‡‡ç”¨RabbitMQå»¶æ—¶é˜Ÿåˆ—æ–¹æ¡ˆ

<span class="hljs-section">## ç†ç”±</span>
<span class="hljs-bullet">-</span> å·²æœ‰RabbitMQåŸºç¡€è®¾æ–½
<span class="hljs-bullet">-</span> æ”¯æŒåˆ†å¸ƒå¼éƒ¨ç½²
<span class="hljs-bullet">-</span> æ¶ˆæ¯å¯é æ€§æœ‰ä¿éšœ

<span class="hljs-section">## é£é™©</span>
<span class="hljs-bullet">-</span> RabbitMQæ•…éšœä¼šå¯¼è‡´å–æ¶ˆä»»åŠ¡ä¸¢å¤±ï¼Œéœ€è¦è¡¥å¿æœºåˆ¶
</code></pre>
</li>
</ol>
<p><strong>äº¤ä»˜äº§ç‰©ï¼š</strong></p>
<ul>
<li>æŠ€æœ¯æ–¹æ¡ˆå¯¹æ¯”è¡¨</li>
<li>æ¶æ„è®¾è®¡æ–‡æ¡£</li>
<li>æ—¶åºå›¾/ç»„ä»¶å›¾</li>
<li>ADRæ–‡æ¡£</li>
</ul>
<hr/>
<h3 data-id="heading-15">é˜¶æ®µä¸‰ï¼šç¼–ç å¼€å‘ï¼ˆSkill 3ï¼šä»£ç å¼€å‘è´¨é‡å«å£«ï¼‰</h3>
<p><strong>å¼€å‘å®Œæˆåï¼ŒSkill 3æ‰§è¡Œæ£€æŸ¥ï¼š</strong></p>
<ol>
<li>
<p><strong>ä»£ç è´¨é‡æ£€æŸ¥</strong></p>
<ul>
<li>âœ“ ä»£ç è§„èŒƒç¬¦åˆå›¢é˜Ÿæ ‡å‡†</li>
<li>âš ï¸ <code>OrderCancelTask.java</code> åœˆå¤æ‚åº¦ä¸º12ï¼Œå»ºè®®æ‹†åˆ†æ–¹æ³•</li>
<li>âœ“ æ— é‡å¤ä»£ç </li>
</ul>
</li>
<li>
<p><strong>å˜æ›´å½±å“åˆ†æ</strong></p>
<pre><code class="hljs language-diff" lang="diff">ä¿®æ”¹çš„æ–‡ä»¶ï¼š
<span class="hljs-deletion">- OrderService.javaï¼ˆæ–°å¢å–æ¶ˆé€»è¾‘ï¼‰</span>
<span class="hljs-deletion">- InventoryService.javaï¼ˆåº“å­˜é‡Šæ”¾ï¼‰</span>
<span class="hljs-deletion">- NotificationService.javaï¼ˆæ¶ˆæ¯é€šçŸ¥ï¼‰</span>

å½±å“èŒƒå›´ï¼š
<span class="hljs-deletion">- è®¢å•æ¨¡å—ï¼ˆç›´æ¥ä¿®æ”¹ï¼‰</span>
<span class="hljs-deletion">- åº“å­˜æ¨¡å—ï¼ˆè°ƒç”¨æ¥å£å˜æ›´ï¼‰</span>
<span class="hljs-deletion">- æ¶ˆæ¯æ¨¡å—ï¼ˆæ–°å¢é€šçŸ¥æ¨¡æ¿ï¼‰</span>

é£é™©è¯„ä¼°ï¼šä¸­ç­‰
<span class="hljs-deletion">- éœ€è¦å›å½’æµ‹è¯•ï¼šè®¢å•æ”¯ä»˜æµç¨‹ã€åº“å­˜æ‰£å‡æµç¨‹</span>
</code></pre>
</li>
<li>
<p><strong>å®‰å…¨åˆè§„æ£€æŸ¥</strong></p>
<ul>
<li>âš ï¸ å–æ¶ˆåŸå› éœ€è®°å½•å®¡è®¡æ—¥å¿—</li>
<li>âœ“ æ— SQLæ³¨å…¥é£é™©</li>
<li>âœ“ ç”¨æˆ·é€šçŸ¥å†…å®¹ä¸åŒ…å«æ•æ„Ÿä¿¡æ¯</li>
</ul>
</li>
</ol>
<p><strong>äº¤ä»˜äº§ç‰©ï¼š</strong></p>
<ul>
<li>ä»£ç è´¨é‡æŠ¥å‘Š</li>
<li>å˜æ›´å½±å“åˆ†ææŠ¥å‘Š</li>
<li>éœ€è¦å›å½’æµ‹è¯•çš„æ¨¡å—æ¸…å•</li>
</ul>
<hr/>
<h3 data-id="heading-16">é˜¶æ®µå››ï¼šè´¨é‡æµ‹è¯•ï¼ˆSkill 4ï¼šæ™ºèƒ½æµ‹è¯•å·¥ç¨‹å¸ˆï¼‰</h3>
<p><strong>Skill 4æ‰§è¡Œæµç¨‹ï¼š</strong></p>
<ol>
<li>
<p><strong>è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å•å…ƒæµ‹è¯•ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰</span>
<span class="hljs-meta">@Test</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testOrderCancelAfterTimeout</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// Given: è®¢å•åˆ›å»ºè¶…è¿‡30åˆ†é’Ÿ</span>
    <span class="hljs-type">Order</span> <span class="hljs-variable">order</span> <span class="hljs-operator">=</span> createOrder(<span class="hljs-number">30</span> * <span class="hljs-number">60</span> + <span class="hljs-number">1</span>);
    
    <span class="hljs-comment">// When: æ‰§è¡Œå–æ¶ˆä»»åŠ¡</span>
    orderCancelTask.execute(order.getId());
    
    <span class="hljs-comment">// Then: è®¢å•çŠ¶æ€ä¸ºå·²å–æ¶ˆ</span>
    assertEquals(OrderStatus.CANCELLED, order.getStatus());
}

<span class="hljs-meta">@Test</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testConcurrentPaymentAndCancel</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// æµ‹è¯•æ”¯ä»˜å’Œå–æ¶ˆçš„å¹¶å‘åœºæ™¯</span>
}
</code></pre>
</li>
<li>
<p><strong>æµ‹è¯•èŒƒå›´åˆ†æ</strong></p>
<ul>
<li>å•å…ƒæµ‹è¯•ï¼š15ä¸ªï¼ˆè®¢å•æœåŠ¡6ä¸ªã€åº“å­˜æœåŠ¡5ä¸ªã€æ¶ˆæ¯æœåŠ¡4ä¸ªï¼‰</li>
<li>é›†æˆæµ‹è¯•ï¼š8ä¸ªï¼ˆå®Œæ•´æµç¨‹æµ‹è¯•ï¼‰</li>
<li>å›å½’æµ‹è¯•ï¼šè®¢å•æ”¯ä»˜æµç¨‹ï¼ˆå·²æœ‰23ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼‰</li>
</ul>
</li>
<li>
<p><strong>ç”Ÿæˆæµ‹è¯•æ•°æ®</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"orderId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ORD20260128001"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"createTime"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2026-01-28 10:00:00"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"status"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"PENDING_PAYMENT"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"items"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>...<span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</li>
</ol>
<p><strong>æµ‹è¯•æ‰§è¡Œç»“æœï¼š</strong></p>
<ul>
<li>å•å…ƒæµ‹è¯•è¦†ç›–ç‡ï¼š87%</li>
<li>é›†æˆæµ‹è¯•ï¼šå…¨éƒ¨é€šè¿‡</li>
<li>å›å½’æµ‹è¯•ï¼šå‘ç°1ä¸ªBugï¼ˆåº“å­˜é‡Šæ”¾æ—¶æœªæ¸…ç†ç¼“å­˜ï¼‰</li>
</ul>
<p><strong>äº¤ä»˜äº§ç‰©ï¼š</strong></p>
<ul>
<li>è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹ï¼ˆ23ä¸ªï¼‰</li>
<li>æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š</li>
<li>BugæŠ¥å‘Š</li>
</ul>
<hr/>
<h3 data-id="heading-17">é˜¶æ®µäº”ï¼šéƒ¨ç½²å‘å¸ƒï¼ˆSkill 5ï¼šæ™ºèƒ½å‘å¸ƒç¼–æ’å¸ˆï¼‰</h3>
<p><strong>Skill 5æ‰§è¡Œæµç¨‹ï¼š</strong></p>
<ol>
<li>
<p><strong>å‘å¸ƒå‰æ£€æŸ¥æ¸…å•</strong></p>
<ul>
<li>âœ“ æ•°æ®åº“æ— å˜æ›´</li>
<li>âœ“ RabbitMQé˜Ÿåˆ—å·²åˆ›å»º</li>
<li>âœ“ é…ç½®æ–‡ä»¶å·²æ›´æ–°ï¼ˆè¶…æ—¶æ—¶é—´å¯é…ç½®ï¼‰</li>
<li>âš ï¸ éœ€è¦ç°åº¦å‘å¸ƒé…ç½®</li>
</ul>
</li>
<li>
<p><strong>ç”ŸæˆRelease Notes</strong></p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">## [v3.5.0] - 2026-01-28</span>

<span class="hljs-section">### æ–°å¢åŠŸèƒ½</span>
<span class="hljs-bullet">-</span> è®¢å•30åˆ†é’Ÿæœªæ”¯ä»˜è‡ªåŠ¨å–æ¶ˆ
<span class="hljs-bullet">-</span> å–æ¶ˆåè‡ªåŠ¨é‡Šæ”¾åº“å­˜
<span class="hljs-bullet">-</span> å–æ¶ˆåå‘é€é€šçŸ¥ç»™ç”¨æˆ·

<span class="hljs-section">### æŠ€æœ¯æ”¹è¿›</span>
<span class="hljs-bullet">-</span> å¼•å…¥RabbitMQå»¶æ—¶é˜Ÿåˆ—
<span class="hljs-bullet">-</span> å¢åŠ åˆ†å¸ƒå¼é”é˜²æ­¢å¹¶å‘é—®é¢˜

<span class="hljs-section">### é…ç½®å˜æ›´</span>
<span class="hljs-bullet">-</span> æ–°å¢é…ç½®é¡¹ï¼šorder.payment.timeoutï¼ˆé»˜è®¤30åˆ†é’Ÿï¼‰
</code></pre>
</li>
<li>
<p><strong>å‘å¸ƒç­–ç•¥</strong>ï¼šé‡‘ä¸é›€å‘å¸ƒ</p>
<ul>
<li>ç¬¬ä¸€é˜¶æ®µï¼š10%æµé‡ï¼ˆè§‚å¯Ÿ1å°æ—¶ï¼‰</li>
<li>ç¬¬äºŒé˜¶æ®µï¼š50%æµé‡ï¼ˆè§‚å¯Ÿ2å°æ—¶ï¼‰</li>
<li>ç¬¬ä¸‰é˜¶æ®µï¼š100%æµé‡</li>
</ul>
</li>
<li>
<p><strong>å›æ»šé¢„æ¡ˆ</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å›æ»šè„šæœ¬</span>
kubectl rollout undo deployment/order-service
<span class="hljs-comment"># å…³é—­å–æ¶ˆä»»åŠ¡æ¶ˆè´¹è€…</span>
kubectl scale deployment/cancel-task-consumer --replicas=0
</code></pre>
</li>
</ol>
<p><strong>äº¤ä»˜äº§ç‰©ï¼š</strong></p>
<ul>
<li>Release Notes</li>
<li>å‘å¸ƒæ£€æŸ¥æ¸…å•</li>
<li>ç°åº¦å‘å¸ƒé…ç½®</li>
<li>å›æ»šè„šæœ¬</li>
</ul>
<hr/>
<h3 data-id="heading-18">é˜¶æ®µå…­ï¼šè¿ç»´ç›‘æ§ï¼ˆSkill 6ï¼šè¿ç»´æ•…éšœè¯Šæ–­ä¸“å®¶ï¼‰</h3>
<p><strong>ä¸Šçº¿åï¼ŒSkill 6æŒç»­ç›‘æ§ï¼š</strong></p>
<ol>
<li>
<p><strong>å®æ—¶ç›‘æ§æŒ‡æ ‡</strong></p>
<ul>
<li>è®¢å•å–æ¶ˆæˆåŠŸç‡ï¼š99.8%</li>
<li>å–æ¶ˆä»»åŠ¡æ‰§è¡Œå»¶è¿Ÿï¼šå¹³å‡32ç§’</li>
<li>RabbitMQé˜Ÿåˆ—ç§¯å‹ï¼š0</li>
</ul>
</li>
<li>
<p><strong>å¼‚å¸¸æ—¥å¿—åˆ†æ</strong></p>
<ul>
<li>å‘ç°10ä¸ªè®¢å•å–æ¶ˆå¤±è´¥</li>
<li>æ ¹å› åˆ†æï¼šåº“å­˜æœåŠ¡å¶å‘è¶…æ—¶</li>
<li>ç”Ÿæˆå¤„ç†å»ºè®®ï¼šå¢åŠ é‡è¯•æœºåˆ¶</li>
</ul>
</li>
<li>
<p><strong>æ€§èƒ½åˆ†æ</strong></p>
<ul>
<li>è®¢å•æœåŠ¡QPSå¢åŠ 5%</li>
<li>æ•°æ®åº“æ…¢æŸ¥è¯¢ï¼šæ— </li>
<li>å»ºè®®ï¼šå½“å‰æ€§èƒ½è‰¯å¥½ï¼Œæ— éœ€ä¼˜åŒ–</li>
</ul>
</li>
<li>
<p><strong>ç”Ÿæˆè¿ç»´æŠ¥å‘Š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">## ä¸Šçº¿7å¤©è¿ç»´æŠ¥å‘Š</span>

<span class="hljs-section">### åŠŸèƒ½è¡¨ç°</span>
<span class="hljs-bullet">-</span> ç´¯è®¡è‡ªåŠ¨å–æ¶ˆè®¢å•ï¼š1,234å•
<span class="hljs-bullet">-</span> æˆåŠŸç‡ï¼š99.8%
<span class="hljs-bullet">-</span> ç”¨æˆ·æŠ•è¯‰ï¼š0

<span class="hljs-section">### å‘ç°é—®é¢˜</span>
<span class="hljs-bullet">-</span> åº“å­˜æœåŠ¡å¶å‘è¶…æ—¶ï¼ˆå·²ä¿®å¤ï¼‰

<span class="hljs-section">### ä¼˜åŒ–å»ºè®®</span>
<span class="hljs-bullet">-</span> å»ºè®®å°†è¶…æ—¶æ—¶é—´é…ç½®åŒ–ï¼Œæ”¯æŒä¸åŒå•†å“ç±»å‹
</code></pre>
</li>
</ol>
<p><strong>äº¤ä»˜äº§ç‰©ï¼š</strong></p>
<ul>
<li>ç›‘æ§å¤§ç›˜</li>
<li>å¼‚å¸¸åˆ†ææŠ¥å‘Š</li>
<li>è¿ç»´ä¼˜åŒ–å»ºè®®</li>
</ul>
<hr/>
<h3 data-id="heading-19">å…¨æµç¨‹ä»·å€¼æ€»ç»“</h3>





















































<table><thead><tr><th>é˜¶æ®µ</th><th>ä¼ ç»Ÿæ–¹å¼è€—æ—¶</th><th>Skill Setæ–¹å¼</th><th>è´¨é‡æå‡</th></tr></thead><tbody><tr><td>éœ€æ±‚åˆ†æ</td><td>2å¤©ï¼ˆå¤šæ¬¡è¿”å·¥ï¼‰</td><td>2å°æ—¶</td><td>éœ€æ±‚å®Œæ•´æ€§â†‘40%</td></tr><tr><td>æ¶æ„è®¾è®¡</td><td>3å¤©ï¼ˆæ–¹æ¡ˆè®¨è®ºï¼‰</td><td>4å°æ—¶</td><td>å†³ç­–æœ‰æ®å¯ä¾</td></tr><tr><td>ç¼–ç å¼€å‘</td><td>5å¤©</td><td>5å¤©ï¼ˆè´¨é‡â†‘ï¼‰</td><td>ä»£ç ç¼ºé™·â†“60%</td></tr><tr><td>è´¨é‡æµ‹è¯•</td><td>3å¤©ï¼ˆæ‰‹å·¥ç¼–å†™ç”¨ä¾‹ï¼‰</td><td>1å¤©</td><td>æµ‹è¯•è¦†ç›–ç‡â†‘35%</td></tr><tr><td>éƒ¨ç½²å‘å¸ƒ</td><td>1å¤©ï¼ˆæ£€æŸ¥é—æ¼ï¼‰</td><td>2å°æ—¶</td><td>å‘å¸ƒäº‹æ•…â†“80%</td></tr><tr><td>è¿ç»´ç›‘æ§</td><td>è¢«åŠ¨å“åº”</td><td>ä¸»åŠ¨é¢„é˜²</td><td>æ•…éšœæ¢å¤æ—¶é—´â†“50%</td></tr><tr><td><strong>æ€»è®¡</strong></td><td><strong>14å¤©</strong></td><td><strong>8å¤©</strong></td><td><strong>æ•´ä½“è´¨é‡æå‡45%</strong></td></tr></tbody></table>
<hr/>
<h2 data-id="heading-20">å››ã€å¦‚ä½•ä¸ºæ‚¨çš„å›¢é˜Ÿæ„å»ºSkill Set</h2>
<h3 data-id="heading-21">4.1 åœºæ™¯è¯†åˆ«ï¼šä»å“ªé‡Œå¼€å§‹ï¼Ÿ</h3>
<p>ä½¿ç”¨<strong>åœºæ™¯è¯†åˆ«çŸ©é˜µ</strong>è¯„ä¼°å›¢é˜Ÿç—›ç‚¹ï¼š</p>



































<table><thead><tr><th>è¯„ä¼°ç»´åº¦</th><th>é«˜ä¼˜å…ˆçº§ç‰¹å¾</th><th>ç¤ºä¾‹åœºæ™¯</th></tr></thead><tbody><tr><td>é¢‘ç‡</td><td>æ¯å‘¨å‘ç”Ÿâ‰¥3æ¬¡</td><td>éœ€æ±‚å˜æ›´å½±å“åˆ†æ</td></tr><tr><td>å¤æ‚åº¦</td><td>éœ€è¦3äººä»¥ä¸ŠååŒ</td><td>è·¨ç³»ç»Ÿæ¶æ„è®¾è®¡</td></tr><tr><td>é£é™©</td><td>å‡ºé”™å½±å“çº¿ä¸ŠæœåŠ¡</td><td>æ•°æ®åº“å˜æ›´ã€ç”Ÿäº§å‘å¸ƒ</td></tr><tr><td>ä¾èµ–æ€§</td><td>åªæœ‰1-2äººèƒ½åš</td><td>æ€§èƒ½ç“¶é¢ˆè¯Šæ–­</td></tr><tr><td>æ ‡å‡†åŒ–ç¨‹åº¦</td><td>å·²æœ‰SOPä½†æ‰§è¡Œä¸ä¸€è‡´</td><td>Code Reviewæµç¨‹</td></tr></tbody></table>
<p><strong>ä¼˜å…ˆæ„å»ºçš„Skill</strong>ï¼šåŒæ—¶æ»¡è¶³3ä¸ªä»¥ä¸Šç‰¹å¾çš„åœºæ™¯</p>
<p><strong>æ¨èèµ·ç‚¹</strong>ï¼š"ä»£ç å˜æ›´å½±å“åˆ†æSkill"</p>
<ul>
<li>å·¥å…·æˆç†Ÿï¼ˆGitã€ASTåˆ†æï¼‰</li>
<li>ä»·å€¼ç›´æ¥ï¼ˆé¿å…é—æ¼å›å½’æµ‹è¯•ï¼‰</li>
<li>å¤æ‚åº¦é€‚ä¸­ï¼ˆé€‚åˆç»ƒæ‰‹ï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-22">4.2 Skillè®¾è®¡è“å›¾</h3>
<p><strong>å®Œæ•´çš„SkillåŒ…å«6ä¸ªéƒ¨åˆ†ï¼š</strong></p>
<pre><code class="hljs language-csharp" lang="csharp">my-skill/
â”œâ”€â”€ SKILL.md                 <span class="hljs-meta"># SOPæ–‡æ¡£ï¼ˆå¿…é¡»ï¼‰</span>
â”œâ”€â”€ tools/                   <span class="hljs-meta"># å·¥å…·è„šæœ¬ç›®å½•</span>
â”‚   â”œâ”€â”€ analyzer.py         <span class="hljs-meta"># åˆ†æè„šæœ¬</span>
â”‚   â””â”€â”€ checker.sh          <span class="hljs-meta"># æ£€æŸ¥è„šæœ¬</span>
â”œâ”€â”€ templates/              <span class="hljs-meta"># æ¨¡æ¿æ–‡ä»¶</span>
â”‚   â””â”€â”€ report-template.md  <span class="hljs-meta"># æŠ¥å‘Šæ¨¡æ¿</span>
â”œâ”€â”€ knowledge/              <span class="hljs-meta"># çŸ¥è¯†åº“</span>
â”‚   â”œâ”€â”€ architecture.md     <span class="hljs-meta"># æ¶æ„æ–‡æ¡£</span>
â”‚   â””â”€â”€ best-practices.md   <span class="hljs-meta"># æœ€ä½³å®è·µ</span>
â”œâ”€â”€ examples/               <span class="hljs-meta"># ç¤ºä¾‹æ¡ˆä¾‹</span>
â”‚   â””â”€â”€ <span class="hljs-keyword">case</span><span class="hljs-number">-001.</span>md
â””â”€â”€ config.json             <span class="hljs-meta"># Skillé…ç½®</span>
</code></pre>
<p><strong>SKILL.mdæ ¸å¿ƒç»“æ„ï¼š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># Skillåç§°</span>

<span class="hljs-section">## è§¦å‘æ¡ä»¶</span>
æè¿°ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨è¿™ä¸ªSkill

<span class="hljs-section">## æ‰§è¡Œæµç¨‹</span>
<span class="hljs-section">### æ­¥éª¤1ï¼šXXX</span>
<span class="hljs-bullet">-</span> å­æ­¥éª¤1.1
<span class="hljs-bullet">-</span> å­æ­¥éª¤1.2
<span class="hljs-bullet">-</span> ã€å†³ç­–ç‚¹ã€‘å¦‚æœXXXï¼Œåˆ™è·³è½¬åˆ°æ­¥éª¤3

<span class="hljs-section">### æ­¥éª¤2ï¼šXXX</span>
...

<span class="hljs-section">## å·¥å…·è°ƒç”¨</span>
<span class="hljs-bullet">-</span> å·¥å…·Aï¼šç”¨äºXXXï¼Œè°ƒç”¨æ–¹å¼ï¼šxxx
<span class="hljs-bullet">-</span> å·¥å…·Bï¼šç”¨äºXXXï¼Œè°ƒç”¨æ–¹å¼ï¼šxxx

<span class="hljs-section">## è´¨é‡æ£€æŸ¥ç‚¹</span>
<span class="hljs-bullet">-</span> [ ] æ£€æŸ¥é¡¹1
<span class="hljs-bullet">-</span> [ ] æ£€æŸ¥é¡¹2

<span class="hljs-section">## äº¤ä»˜äº§ç‰©</span>
<span class="hljs-bullet">-</span> äº§ç‰©1ï¼šæ ¼å¼/æ¨¡æ¿è·¯å¾„
<span class="hljs-bullet">-</span> äº§ç‰©2ï¼šæ ¼å¼/æ¨¡æ¿è·¯å¾„

<span class="hljs-section">## å¸¸è§é—®é¢˜FAQ</span>
Q: XXX?
A: XXX
</code></pre>
<hr/>
<h3 data-id="heading-23">4.3 å·¥å…·é›†æˆç­–ç•¥</h3>
<p><strong>ä¸ç°æœ‰å·¥å…·é“¾çš„é›†æˆæ–¹å¼ï¼š</strong></p>
<ol>
<li>
<p><strong>ä»£ç ä»“åº“é›†æˆ</strong>ï¼ˆGitï¼‰</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># MCPå®¢æˆ·ç«¯ç¤ºä¾‹</span>
git_client.get_diff(commit_id)
git_client.analyze_history(file_path)
</code></pre>
</li>
<li>
<p><strong>CI/CDé›†æˆ</strong>ï¼ˆJenkins/GitLabï¼‰</p>
<ul>
<li>åœ¨Pipelineä¸­è°ƒç”¨Skillè„šæœ¬</li>
<li>ç”ŸæˆæŠ¥å‘Šè‡ªåŠ¨è¯„è®ºåˆ°MR</li>
</ul>
</li>
<li>
<p><strong>è´¨é‡å·¥å…·é›†æˆ</strong>ï¼ˆSonarQube/Snykï¼‰</p>
<ul>
<li>é€šè¿‡APIè·å–æ‰«æç»“æœ</li>
<li>æ•´åˆåˆ°ç»Ÿä¸€æŠ¥å‘Š</li>
</ul>
</li>
<li>
<p><strong>ç›‘æ§ç³»ç»Ÿé›†æˆ</strong>ï¼ˆPrometheus/Grafanaï¼‰</p>
<ul>
<li>è·å–è¿è¡Œæ—¶æŒ‡æ ‡</li>
<li>è¾…åŠ©é—®é¢˜è¯Šæ–­</li>
</ul>
</li>
<li>
<p><strong>åä½œå¹³å°é›†æˆ</strong>ï¼ˆJira/Confluenceï¼‰</p>
<ul>
<li>è‡ªåŠ¨åŒæ­¥éœ€æ±‚å’Œæ–‡æ¡£</li>
<li>ç”Ÿæˆå·¥ä½œæµè½¬è®°å½•</li>
</ul>
</li>
</ol>
<hr/>
<h3 data-id="heading-24">4.4 æ¸è¿›å¼å®æ–½è·¯å¾„</h3>
<h4 data-id="heading-25">é˜¶æ®µä¸€ï¼šè¯•ç‚¹éªŒè¯ï¼ˆ1-2ä¸ªæœˆï¼‰</h4>
<p><strong>é€‰æ‹©1ä¸ªç—›ç‚¹åœºæ™¯</strong></p>
<ul>
<li>æ¨èï¼šä»"ä»£ç è´¨é‡æ£€æŸ¥"æˆ–"æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆ"å¼€å§‹</li>
<li>ç›®æ ‡ï¼šéªŒè¯Skillæœºåˆ¶å¯è¡Œæ€§</li>
</ul>
<p><strong>å¿«é€Ÿæ„å»ºMVP</strong></p>
<ul>
<li>Week 1: ç¼–å†™SOPæ–‡æ¡£</li>
<li>Week 2: é›†æˆ1-2ä¸ªå·¥å…·</li>
<li>Week 3: å°èŒƒå›´è¯•ç”¨ï¼ˆ2-3äººï¼‰</li>
<li>Week 4: æ”¶é›†åé¦ˆï¼Œä¼˜åŒ–</li>
</ul>
<p><strong>æˆåŠŸæŒ‡æ ‡</strong></p>
<ul>
<li>è¯¥åœºæ™¯æ•ˆç‡æå‡â‰¥30%</li>
<li>å›¢é˜Ÿæ„¿æ„æŒç»­ä½¿ç”¨</li>
</ul>
<hr/>
<h4 data-id="heading-26">é˜¶æ®µäºŒï¼šæ¨ªå‘æ‰©å±•ï¼ˆ3-6ä¸ªæœˆï¼‰</h4>
<p><strong>æ„å»ºæ ¸å¿ƒSkillçŸ©é˜µ</strong></p>
<ul>
<li>è‡³å°‘è¦†ç›–3ä¸ªå¼€å‘é˜¶æ®µï¼ˆå¦‚ï¼šè®¾è®¡ã€å¼€å‘ã€æµ‹è¯•ï¼‰</li>
<li>å»ºç«‹Skillä¹‹é—´çš„ååŒæœºåˆ¶</li>
</ul>
<p><strong>åŸ¹å…»Skillç»´æŠ¤è€…</strong></p>
<ul>
<li>æ¯ä¸ªSkillæŒ‡å®šOwner</li>
<li>å»ºç«‹Skillä¼˜åŒ–çš„å¥–åŠ±æœºåˆ¶</li>
</ul>
<hr/>
<h4 data-id="heading-27">é˜¶æ®µä¸‰ï¼šè§„æ¨¡åŒ–æ¨å¹¿ï¼ˆ6-12ä¸ªæœˆï¼‰</h4>
<p><strong>å…¨æµç¨‹è¦†ç›–</strong></p>
<ul>
<li>6ä¸ªé˜¶æ®µçš„Skillå…¨éƒ¨å°±ä½</li>
<li>å»ºç«‹Skillç¼–æ’èƒ½åŠ›ï¼ˆä¸€ä¸ªä»»åŠ¡è‡ªåŠ¨è°ƒç”¨å¤šä¸ªSkillï¼‰</li>
</ul>
<p><strong>åº¦é‡ä¸ä¼˜åŒ–</strong></p>
<ul>
<li>å»ºç«‹Skillä½¿ç”¨dashboard</li>
<li>å®šæœŸReviewæ•ˆæœï¼ˆå­£åº¦ï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-28">4.5 å¸¸è§é™·é˜±ä¸åº”å¯¹</h3>



































<table><thead><tr><th>é™·é˜±</th><th>è¡¨ç°</th><th>åº”å¯¹æ–¹æ³•</th></tr></thead><tbody><tr><td>è¿‡åº¦è‡ªåŠ¨åŒ–</td><td>Skillæ›¿ä»£äº†æ‰€æœ‰äººå·¥å†³ç­–</td><td>ä¿ç•™å…³é”®å†³ç­–ç‚¹éœ€è¦äººå·¥å®¡æ ¸</td></tr><tr><td>SOPè¿‡äºæŠ½è±¡</td><td>å›¢é˜Ÿæ— æ³•æ‰§è¡Œ</td><td>ç”¨"å¯æ‰§è¡Œä¼ªä»£ç "ç¼–å†™SOP</td></tr><tr><td>å·¥å…·æ³›æ»¥</td><td>é›†æˆäº†20+å·¥å…·ï¼Œç»´æŠ¤å›°éš¾</td><td>èšç„¦æ ¸å¿ƒ3-5ä¸ªå·¥å…·</td></tr><tr><td>çŸ¥è¯†å­¤å²›</td><td>Skillåªæœ‰åˆ›å»ºè€…èƒ½ç»´æŠ¤</td><td>å¼ºåˆ¶æ–‡æ¡£åŒ–+å®šæœŸåˆ†äº«</td></tr><tr><td>åƒµåŒ–æµç¨‹</td><td>ç‰¹æ®Šåœºæ™¯æ— æ³•å¤„ç†</td><td>SOPä¸­è®¾è®¡"é€ƒç”Ÿèˆ±"æœºåˆ¶</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-29">4.6 æŠ•å…¥äº§å‡ºåˆ†æ</h3>
<p><strong>åˆæœŸæŠ•å…¥</strong>ï¼ˆä»¥1ä¸ªSkillä¸ºä¾‹ï¼‰ï¼š</p>
<ul>
<li>éœ€æ±‚è°ƒç ”ï¼š1å¤©</li>
<li>SOPç¼–å†™ï¼š2å¤©</li>
<li>å·¥å…·é›†æˆï¼š3-5å¤©</li>
<li>æµ‹è¯•éªŒè¯ï¼š2å¤©</li>
<li><strong>æ€»è®¡</strong>ï¼š8-10äººå¤©</li>
</ul>
<p><strong>é•¿æœŸæ”¶ç›Š</strong>ï¼ˆæŒ‰ä½¿ç”¨1å¹´è®¡ç®—ï¼‰ï¼š</p>
<ul>
<li>å‡è®¾æ¯å‘¨ä½¿ç”¨5æ¬¡ï¼Œæ¯æ¬¡èŠ‚çœ2å°æ—¶</li>
<li>å¹´èŠ‚çœæ—¶é—´ï¼š5æ¬¡ Ã— 2å°æ—¶ Ã— 52å‘¨ = 520å°æ—¶ â‰ˆ 65äººå¤©</li>
<li><strong>ROI</strong>ï¼š650% â†‘</li>
</ul>
<p><strong>éšæ€§æ”¶ç›Š</strong>ï¼š</p>
<ul>
<li>è´¨é‡æå‡ï¼Œå‡å°‘è¿”å·¥</li>
<li>æ–°äººä¸Šæ‰‹æ—¶é—´ç¼©çŸ­50%</li>
<li>å›¢é˜ŸçŸ¥è¯†èµ„äº§ç§¯ç´¯</li>
</ul>
<hr/>
<h2 data-id="heading-30">äº”ã€æœªæ¥å±•æœ›ï¼šAgentæ—¶ä»£çš„è½¯ä»¶å·¥ç¨‹</h2>
<h3 data-id="heading-31">5.1 æŠ€æœ¯æ¼”è¿›è¶‹åŠ¿</h3>
<h4 data-id="heading-32">è¶‹åŠ¿ä¸€ï¼šä»å•ä¸€æŠ€èƒ½åˆ°ååŒç¼–æ’</h4>
<pre><code class="hljs language-arduino" lang="arduino">å½“å‰ï¼šäººå·¥è§¦å‘å•ä¸ªSkill
â†“
æœªæ¥ï¼šAgentè‡ªåŠ¨ç¼–æ’å¤šä¸ªSkills

ç¤ºä¾‹ï¼š
<span class="hljs-string">"å¸®æˆ‘å®ŒæˆXXéœ€æ±‚"</span> â†’ Agentè‡ªåŠ¨è°ƒç”¨ï¼š
  éœ€æ±‚åˆ†æSkill â†’ æ¶æ„è®¾è®¡Skill â†’ ä»£ç ç”ŸæˆSkill â†’ æµ‹è¯•Skill
</code></pre>
<h4 data-id="heading-33">è¶‹åŠ¿äºŒï¼šä»é™æ€SOPåˆ°è‡ªå­¦ä¹ ä¼˜åŒ–</h4>
<ul>
<li>é€šè¿‡å†å²æ‰§è¡Œæ•°æ®ï¼Œè‡ªåŠ¨ä¼˜åŒ–SOPæ­¥éª¤</li>
<li>è¯†åˆ«é«˜é¢‘å¼‚å¸¸åœºæ™¯ï¼Œè‡ªåŠ¨è¡¥å……åˆ°æµç¨‹ä¸­</li>
<li>å»ºç«‹"Skillè¿›åŒ–"æœºåˆ¶</li>
</ul>
<h4 data-id="heading-34">è¶‹åŠ¿ä¸‰ï¼šä»ä»£ç åˆ°å…¨ç ”å‘èµ„äº§ç®¡ç†</h4>
<ul>
<li>æ‰©å±•åˆ°éœ€æ±‚æ–‡æ¡£ã€æµ‹è¯•ç”¨ä¾‹ã€éƒ¨ç½²é…ç½®çš„å…¨ç”Ÿå‘½å‘¨æœŸ</li>
<li>å»ºç«‹"æ•°å­—å­ªç”Ÿ"çš„ç ”å‘ä½“ç³»</li>
</ul>
<hr/>
<h3 data-id="heading-35">5.2 ç«‹å³å¯è¡ŒåŠ¨çš„3ä»¶äº‹</h3>
<h4 data-id="heading-36">è¡ŒåŠ¨1ï¼šç—›ç‚¹è°ƒç ”</h4>
<p><strong>å…·ä½“æ­¥éª¤ï¼š</strong></p>
<ol>
<li>å¬é›†å›¢é˜Ÿbrainstormä¼šè®®ï¼ˆ1å°æ—¶ï¼‰</li>
<li>åˆ—å‡ºå½“å‰Top 5ç—›ç‚¹åœºæ™¯</li>
<li>ç”¨"åœºæ™¯è¯†åˆ«çŸ©é˜µ"è¯„åˆ†</li>
<li>é€‰å‡º1ä¸ªåœºæ™¯ä½œä¸ºè¯•ç‚¹</li>
</ol>
<p><strong>å‚è€ƒé—®é¢˜ï¼š</strong></p>
<ul>
<li>å“ªä¸ªç¯èŠ‚ç»å¸¸è¿”å·¥ï¼Ÿ</li>
<li>å“ªä¸ªç¯èŠ‚å‡ºé”™å½±å“æœ€å¤§ï¼Ÿ</li>
<li>å“ªä¸ªç¯èŠ‚æ–°äººæœ€éš¾ä¸Šæ‰‹ï¼Ÿ</li>
</ul>
<hr/>
<h4 data-id="heading-37">è¡ŒåŠ¨2ï¼šæ„å»ºç¬¬ä¸€ä¸ªSkill</h4>
<p><strong>æ¨èèµ·ç‚¹</strong>ï¼š"ä»£ç å˜æ›´å½±å“åˆ†æSkill"</p>
<p><strong>åŸå› ï¼š</strong></p>
<ul>
<li>å·¥å…·æˆç†Ÿï¼ˆGitã€ASTåˆ†æï¼‰</li>
<li>ä»·å€¼ç›´æ¥ï¼ˆé¿å…é—æ¼å›å½’æµ‹è¯•ï¼‰</li>
<li>å¤æ‚åº¦é€‚ä¸­ï¼ˆé€‚åˆç»ƒæ‰‹ï¼‰</li>
</ul>
<p><strong>å…·ä½“ä»»åŠ¡ï¼š</strong></p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> ç¼–å†™SOPæ–‡æ¡£ï¼ˆå‚è€ƒæ¨¡æ¿ï¼‰</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> é›†æˆGit API</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> æµ‹è¯•3ä¸ªçœŸå®æ¡ˆä¾‹</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> å›¢é˜Ÿè¯•ç”¨å¹¶æ”¶é›†åé¦ˆ</li>
</ul>
<hr/>
<h4 data-id="heading-38">è¡ŒåŠ¨3ï¼šå»ºç«‹åˆ†äº«æœºåˆ¶ï¼ˆæŒç»­ï¼‰</h4>
<ul>
<li>æ¯æœˆSkill Showï¼šåˆ†äº«æ–°Skillå’Œä¼˜åŒ–ç»éªŒ</li>
<li>å»ºç«‹Skillä½¿ç”¨æ’è¡Œæ¦œï¼ˆgamificationï¼‰</li>
<li>è®¾ç«‹"æœ€ä½³Skillè´¡çŒ®å¥–"</li>
</ul>
<hr/>
<h3 data-id="heading-39">5.3 å†™åœ¨æœ€å</h3>
<p><strong>Agentæ—¶ä»£çš„è½¯ä»¶å¼€å‘ï¼Œä¸æ˜¯ç”¨AIæ›¿ä»£äººï¼Œè€Œæ˜¯è®©æ¯ä¸ªäººéƒ½æ‹¥æœ‰ä¸“å®¶çº§çš„èƒ½åŠ›æ”¯æŒã€‚</strong></p>
<p>Skillä¸æ˜¯ä¸‡èƒ½çš„ï¼Œå®ƒæ— æ³•æ›¿ä»£äººçš„åˆ›é€ åŠ›å’Œåˆ¤æ–­åŠ›ã€‚ä½†å®ƒèƒ½å¤Ÿï¼š</p>
<ul>
<li>å°†æœ€ä½³å®è·µæ ‡å‡†åŒ–ï¼Œè®©æ–°äººå¿«é€Ÿæˆé•¿</li>
<li>å°†ä¸“å®¶ç»éªŒæ˜¾æ€§åŒ–ï¼Œè®©çŸ¥è¯†æ°¸ä¹…æ²‰æ·€</li>
<li>å°†è´¨é‡ä¿éšœå‰ç½®åŒ–ï¼Œè®©é—®é¢˜æå‰å‘ç°</li>
</ul>
<p><strong>ä»Šå¤©å¸¦èµ°çš„æ ¸å¿ƒè§‚ç‚¹ï¼š</strong></p>
<ol>
<li>âœ… Skillä¸æ˜¯æ›¿ä»£äººï¼Œè€Œæ˜¯å°†"æœ€ä½³å®è·µ"æ ‡å‡†åŒ–</li>
<li>âœ… ä»ä¸€ä¸ªç—›ç‚¹åœºæ™¯å¼€å§‹ï¼Œå°æ­¥å¿«è·‘</li>
<li>âœ… å…¨æµç¨‹è¦†ç›–ï¼ˆéœ€æ±‚â†’è¿ç»´ï¼‰æ‰èƒ½å‘æŒ¥æœ€å¤§ä»·å€¼</li>
<li>âœ… Skillæ˜¯å›¢é˜Ÿçš„çŸ¥è¯†èµ„äº§ï¼Œéœ€è¦æŒç»­ç»´æŠ¤</li>
</ol>
<p><strong>ä»æ˜å¤©å¼€å§‹ï¼š</strong></p>
<ul>
<li>æ‰¾å‡ºæ‚¨å›¢é˜Ÿçš„Top 1ç—›ç‚¹</li>
<li>ç”¨2å‘¨æ—¶é—´æ„å»ºç¬¬ä¸€ä¸ªSkill</li>
<li>åº¦é‡æ•ˆæœï¼ŒæŒç»­ä¼˜åŒ–</li>
</ul>
<p><strong>Agentæ—¶ä»£å·²ç»åˆ°æ¥ï¼Œé‡æ–°å®šä¹‰è½¯ä»¶å¼€å‘çš„ä¸æ˜¯æŠ€æœ¯ï¼Œè€Œæ˜¯æˆ‘ä»¬å¯¹"çŸ¥è¯†"å’Œ"ååŒ"çš„æ–°ç†è§£ã€‚</strong></p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[äº‘è¾¹ååŒ AI æ¶æ„å›¾]]></title>    <link>https://juejin.cn/post/7599965904617226286</link>    <guid>https://juejin.cn/post/7599965904617226286</guid>    <pubDate>2026-01-28T03:06:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599965904617226286" data-draft-id="7599963665039605810" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="äº‘è¾¹ååŒ AI æ¶æ„å›¾"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-28T03:06:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LeonGao"/> <meta itemprop="url" content="https://juejin.cn/user/3976252950591149"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            äº‘è¾¹ååŒ AI æ¶æ„å›¾
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3976252950591149/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LeonGao
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T03:06:38.000Z" title="Wed Jan 28 2026 03:06:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{font-size:24px;display:inline-block;font-weight:700;background:#ef7060;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(239,112,96,.2)}.markdown-body h2:before{content:" ";display:inline-block;width:8px}.markdown-body h2:after{content:" ";position:absolute;display:block;width:calc(100% - 50px);border-bottom:3px solid #ef7060}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #3e3e3e;margin-top:32px;margin-bottom:32px;height:1px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(27,31,35,.05);color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:JetBranins Mono,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px;background-color:#fdfdfd}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#fdfdfd}.markdown-body a{text-decoration:none;font-weight:700;color:#ef7060;border-bottom:1px solid #ef7060}.markdown-body a:active,.markdown-body a:hover{color:#ef2d26}.markdown-body table tr td,.markdown-body table tr th{border:1px solid #ccc;padding:5px 10px}.markdown-body table{display:block!important;width:auto;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{background:#f0f0f0;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#f8f8f8}.markdown-body blockquote{margin-inline-start:0;margin-inline-end:0;border-left:3px solid #ef7060;background:#fff9f9;padding:1px 20px;margin-top:20px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-light">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#383a42;background:#fafafa}.hljs-comment,.hljs-quote{color:#a0a1a7;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e45649}.hljs-literal{color:#0184bb}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#50a14f}.hljs-built_in,.hljs-class .hljs-title{color:#c18401}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#4078f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h3 data-id="heading-0"><strong>å›¾åï¼šäº‘è¾¹ååŒ AI æ¶æ„å›¾ï¼ˆCloud-Edge Collaborative AI Architectureï¼‰</strong></h3>
<h4 data-id="heading-1"><strong>æ•´ä½“é£æ ¼</strong></h4>
<ul>
<li>æ¨ªå‘æµç¨‹å‹ç»“æ„å›¾ï¼Œé‡‡ç”¨ç®€æ´çš„ç§‘æŠ€é£è®¾è®¡ã€‚</li>
<li>ä¸‰å±‚ç»“æ„ï¼š<strong>ç”¨æˆ·ç»ˆç«¯å±‚ â†’ è¾¹ç¼˜è®¡ç®—å±‚ â†’ äº‘ç«¯æ™ºèƒ½å±‚</strong>ã€‚</li>
<li>ç”¨ç®­å¤´è¡¨ç¤ºæ•°æ®æµå‘ï¼ˆä»å·¦åˆ°å³ï¼‰ï¼Œä½¿ç”¨æ¸å˜è‰²å±•ç¤ºä¿¡æ¯æµåŠ¨ä¸æ™ºèƒ½ååŒã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-2"><strong>å›¾å±‚ä¸ç»„ä»¶è¯´æ˜</strong></h3>
<h4 data-id="heading-3"><strong>â‘  ç”¨æˆ·ç»ˆç«¯å±‚ï¼ˆUser Devices Layerï¼‰</strong></h4>
<p>ä½äºå›¾çš„æœ€å·¦ä¾§ã€‚åŒ…å«ï¼š</p>
<ul>
<li>æ™ºèƒ½æ‰‹æœºã€æ™ºèƒ½æ‰‹è¡¨ã€æ‘„åƒå¤´ã€ä¼ æ„Ÿå™¨ã€æ±½è½¦ç­‰å›¾æ ‡ã€‚</li>
<li>æ ‡ç­¾æ–‡å­—ï¼šâ€œæ•°æ®é‡‡é›† / æœ¬åœ°äº¤äº’â€ã€‚</li>
<li>æ•°æ®ç®­å¤´æŒ‡å‘ä¸­é—´å±‚ï¼ˆè¾¹ç¼˜è®¡ç®—å±‚ï¼‰ã€‚</li>
</ul>
<p><strong>ä½œç”¨è¯´æ˜ï¼š</strong><br/>
ç”¨æˆ·ç»ˆç«¯ç”¨äºé‡‡é›†è¯­éŸ³ã€å›¾åƒã€GPSã€è¡Œä¸ºç­‰æ•°æ®ï¼Œå¹¶å°†éƒ¨åˆ†è¯·æ±‚å‘é€åˆ°é™„è¿‘è¾¹ç¼˜èŠ‚ç‚¹ã€‚</p>
<hr/>
<h4 data-id="heading-4"><strong>â‘¡ è¾¹ç¼˜è®¡ç®—å±‚ï¼ˆEdge Computing Layerï¼‰</strong></h4>
<p>å±…ä¸­ä½ç½®ï¼ŒçŸ©å½¢æ¡†å†…éƒ¨åŒ…å«å¤šä¸ªå¾®èŠ‚ç‚¹å›¾æ ‡ï¼ˆå¦‚å°æœåŠ¡å™¨ã€AI èŠ¯ç‰‡ã€è¾¹ç¼˜ç½‘å…³ç­‰ï¼‰ã€‚</p>
<ul>
<li>
<p>æ ‡ç­¾æ–‡å­—ï¼šâ€œæœ¬åœ°å°æ¨¡å‹æ¨ç† / éšç§è®¡ç®— / å®æ—¶å“åº”â€ã€‚</p>
</li>
<li>
<p>æ•°æ®ç®­å¤´ï¼š</p>
<ul>
<li>å‘å³ â†’ ä¼ è¾“éƒ¨åˆ†æ¨¡å‹ç»“æœæˆ–åŠ å¯†æ•°æ®åˆ°äº‘ç«¯ï¼›</li>
<li>å‘å·¦ â†’ å®æ—¶è¿”å›ä½å»¶è¿Ÿå“åº”ç»™ç”¨æˆ·ã€‚</li>
</ul>
</li>
</ul>
<p><strong>åŠŸèƒ½è¯´æ˜ï¼š</strong></p>
<ul>
<li>æ‰¿è½½è½»é‡åŒ–æ¨¡å‹éƒ¨ç½²ï¼ˆTinyLLaMAã€MobileNetã€EdgeBERT ç­‰ï¼‰ã€‚</li>
<li>å…·å¤‡ç¼“å­˜æœºåˆ¶ä¸åŠ¨æ€è°ƒåº¦èƒ½åŠ›ã€‚</li>
<li>å¯è°ƒç”¨ GPU/NPU åŠ é€Ÿæ¨¡å—ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-5"><strong>â‘¢ äº‘ç«¯æ™ºèƒ½å±‚ï¼ˆCloud Intelligence Layerï¼‰</strong></h4>
<p>ä½äºå›¾çš„å³ä¾§ï¼Œä¸Šæ–¹æ˜¯å¤§å‹æœåŠ¡å™¨é›†ç¾¤æˆ–äº‘å›¾æ ‡ã€‚</p>
<ul>
<li>
<p>æ ‡ç­¾æ–‡å­—ï¼šâ€œå¤§æ¨¡å‹è®­ç»ƒ / çŸ¥è¯†æ›´æ–° / æ¨¡å‹è’¸é¦â€ã€‚</p>
</li>
<li>
<p>ç®­å¤´ï¼š</p>
<ul>
<li>ä»äº‘ç«¯è¿”å›åˆ°è¾¹ç¼˜å±‚ â†’ è¡¨ç¤ºå‘¨æœŸæ€§æ¨¡å‹åŒæ­¥æˆ–è’¸é¦çŸ¥è¯†ä¸‹å‘ï¼›</li>
<li>ä»è¾¹ç¼˜ä¸Šè¡Œè‡³äº‘ç«¯ â†’ è¡¨ç¤ºä¸Šä¼ åŒ¿ååŒ–æ•°æ®æˆ–è¯·æ±‚å¤æ‚æ¨ç†ã€‚</li>
</ul>
</li>
</ul>
<p><strong>åŠŸèƒ½è¯´æ˜ï¼š</strong></p>
<ul>
<li>äº‘ç«¯æ‰§è¡Œå¤§å‹æ¨¡å‹è®­ç»ƒï¼ˆå¦‚ GPTã€Geminiã€Claude ç­‰ï¼‰ã€‚</li>
<li>æä¾›ç»Ÿä¸€ API æ¥å£ä¸çŸ¥è¯†åº“æ›´æ–°ã€‚</li>
<li>æ”¯æ’‘è¾¹ç¼˜ç«¯çš„æ¨¡å‹è½»é‡åŒ–ä¸é€‚é…ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-6"><strong>â‘£ è¾…åŠ©å…ƒç´ </strong></h4>
<ul>
<li>
<p>å›¾ä¸‹æ–¹æ·»åŠ æ³¨é‡ŠåŒºåŸŸï¼š</p>
<ul>
<li>äº‘ç«¯ä¾§æ ‡æ³¨ï¼šâ€œé«˜ç²¾åº¦ / å¼ºç®—åŠ› / é›†ä¸­è®­ç»ƒâ€</li>
<li>è¾¹ç¼˜ä¾§æ ‡æ³¨ï¼šâ€œä½å»¶è¿Ÿ / æœ¬åœ°æ¨ç† / æ•°æ®éšç§â€</li>
</ul>
</li>
<li>
<p>ä½¿ç”¨æ¸å˜è‰²æ•°æ®æµç®­å¤´è¿æ¥ä¸‰å±‚ï¼Œä»¥è“è‰²æˆ–ç»¿è‰²è¡¨ç¤ºæ™ºèƒ½æµåŠ¨æ–¹å‘ã€‚</p>
</li>
<li>
<p>èƒŒæ™¯å¯ä¸ºæ·¡ç°è‰²ç”µè·¯çº¹ç†æˆ–ç½‘æ ¼ï¼Œå¢å¼ºç§‘æŠ€æ„Ÿã€‚</p>
</li>
</ul>
<hr/>
<h3 data-id="heading-7"><strong>è§†è§‰æ€»ç»“</strong></h3>
<p>æ•´ä½“é€»è¾‘è¡¨è¾¾ä¸ºï¼š</p>
<blockquote>
<p>â€œç”¨æˆ·æ•°æ®åœ¨æœ¬åœ°è¾¹ç¼˜èŠ‚ç‚¹å®Œæˆå³æ—¶æ™ºèƒ½å¤„ç†ï¼ŒåŒæ—¶ä¸äº‘ç«¯æ¨¡å‹å½¢æˆåŠ¨æ€ååŒâ€”â€”äº‘ç«¯æä¾›çŸ¥è¯†ï¼Œè¾¹ç¼˜æ‰§è¡Œå†³ç­–ï¼Œå®ç°æ™ºèƒ½å‰ç§»ä¸æŒç»­è¿›åŒ–ã€‚â€</p>
</blockquote>
<hr/>
<p>æ˜¯å¦å¸Œæœ›æˆ‘æ ¹æ®è¿™ä¸€æè¿°ç›´æ¥ä¸ºä½  <strong>ç”Ÿæˆä¸€å¼ ç¤ºæ„å›¾ï¼ˆé«˜æ¸… 16:9 æ¶æ„å›¾ï¼‰</strong> ï¼Ÿ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[nestjså­¦ä¹ 14ï¼šå‚æ•°éªŒè¯ä¸è½¬æ¢ pipe]]></title>    <link>https://juejin.cn/post/7599951933594157066</link>    <guid>https://juejin.cn/post/7599951933594157066</guid>    <pubDate>2026-01-28T03:05:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599951933594157066" data-draft-id="7599581204860141594" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="nestjså­¦ä¹ 14ï¼šå‚æ•°éªŒè¯ä¸è½¬æ¢ pipe"/> <meta itemprop="keywords" content="NestJS"/> <meta itemprop="datePublished" content="2026-01-28T03:05:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€æ±Ÿä¸œæµæ°´"/> <meta itemprop="url" content="https://juejin.cn/user/1151943917181880"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            nestjså­¦ä¹ 14ï¼šå‚æ•°éªŒè¯ä¸è½¬æ¢ pipe
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1151943917181880/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€æ±Ÿä¸œæµæ°´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T03:05:05.000Z" title="Wed Jan 28 2026 03:05:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Pipe æ˜¯åœ¨å‚æ•°ä¼ ç»™ handler ä¹‹å‰å¯¹å‚æ•°åšä¸€äº›éªŒè¯å’Œè½¬æ¢çš„ classã€‚</p>
<p>nestjs å†…ç½®çš„ Pipe æœ‰è¿™äº›ï¼š</p>
<ul>
<li>ValidationPipe</li>
<li>ParseIntPipe</li>
<li>ParseBoolPipe</li>
<li>ParseArrayPipe</li>
<li>ParseUUIDPipe</li>
<li>DefaultValuePipe</li>
<li>ParseEnumPipe</li>
<li>ParseFloatPipe</li>
<li>ParseFilePipe</li>
</ul>
<p>åˆ†åˆ«æ¥è¯•ä¸‹å†…ç½®çš„ Pipe çš„åŠŸèƒ½ã€‚</p>
<h2 data-id="heading-0">ParseIntPipe</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/64b45d6ba8314788a3ed075c587ccba0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=uIeOGNwzntmBpv53LgvQZgJ77QE%3D" alt="image.png" loading="lazy"/></p>
<p>å‚æ•°é»˜è®¤æ˜¯ string ç±»å‹ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ Pipe æŠŠå®ƒè½¬ä¸ºæ•´æ•°ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ab4087c61424e8c93d7e3301454b122~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=b%2FLO3cmUANoEhzY42X5vcequkKE%3D" alt="image.png" loading="lazy"/></p>
<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bbbeab4a1b9e4dc58026515188c8d4d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=JR1x0rEP6SnjayTCvGTXdEN69cQ%3D" alt="image.png" loading="lazy"/></p>
<p>å½“ä½ ä¼ å…¥çš„å‚æ•°ä¸èƒ½ parse ä¸º int æ—¶ï¼Œä¼šè¿”å›è¿™æ ·çš„å“åº”ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/706d6652c4a2454899168fe8de0b22df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=Yy%2Bm6CXZTG4%2FwtAuubCvimoTF%2Fo%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™ä¸ªä¹Ÿæ˜¯å¯ä»¥ä¿®æ”¹çš„ï¼Œä½†è¦ä½¿ç”¨ <code>new XxxPipe</code> çš„æ–¹å¼ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/db9b624bf7fa4e84bca0c27c975168d8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=R%2F8El%2Bpf3cTkwihDdrFMC%2FGJz20%3D" alt="image.png" loading="lazy"/></p>
<p>æ¯”å¦‚æˆ‘æŒ‡å®šé”™è¯¯æ—¶çš„çŠ¶æ€ç ä¸º 404ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ad596cdcb5bd484f97bddc923f409020~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=9tBxmDpVga7CQpn5ANdKHVe%2FVf4%3D" alt="image.png" loading="lazy"/></p>
<p>å°±ä¼šè¿”å›è¿™æ ·çš„å“åº”ã€‚</p>
<p>æ­¤å¤–ï¼Œä½ è¿˜å¯ä»¥è‡ªå·±æŠ›ä¸€ä¸ªå¼‚å¸¸å‡ºæ¥ï¼Œç„¶åè®© exception filter å¤„ç†ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/08da56dac87249f8bb87902fa4ef1cbb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=qx4Ogli%2B2aUtjdjrEdM4SP7TLss%3D" alt="image.png" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ï¼ŒçŠ¶æ€ç å’Œ message éƒ½æ”¹äº†ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/435df9e108314c97a7a25bed849fe93a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=fGjiEUM8FZAVu5b6wXE%2BaR%2BJrwI%3D" alt="image.png" loading="lazy"/></p>
<p>ä½ ä¹Ÿå¯ä»¥åŠ ä¸ª @UseFilters æ¥ä½¿ç”¨è‡ªå·±çš„ exception filter å¤„ç†ã€‚</p>
<p>ParseFloatPipe æ˜¯æŠŠå‚æ•°è½¬æ¢ä¸º float ç±»å‹çš„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b108476801084deaacd3802cbfcff735~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=J7llCXE38JG4Go1WciQTviNj2m0%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-1">ParseArrayPipe</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f3255ec068df4f47a4697c34461b45e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=aDdAG5Ej7c6sZFVWISRPq3a4hjc%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™æ—¶ä¼šæç¤ºéœ€è¦ <code>class-validator</code> å’Œ <code>class-transformer</code> è¿™ä¸¤ä¸ªåŒ…ï¼Œå‰è€…æ˜¯å¯ä»¥ç”¨è£…é¥°å™¨å’Œéè£…é¥°å™¨ä¸¤ç§æ–¹å¼å¯¹ class å±æ€§åšéªŒè¯çš„åº“ï¼Œåè€…æ˜¯æŠŠæ™®é€šå¯¹è±¡è½¬æ¢ä¸ºå¯¹åº”çš„ class å®ä¾‹çš„åŒ…ã€‚</p>
<pre><code class="hljs language-js" lang="js">npm install -D <span class="hljs-keyword">class</span>-validator <span class="hljs-keyword">class</span>-transformer
</code></pre>
<p>ç„¶åè®¿é—®ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7ad811ab814949048db95af5ebc6a88f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=s6Apv%2FZQW14S6tK1%2FW%2FbvFJbuoM%3D" alt="image.png" loading="lazy"/></p>
<p>ä½ ä¼šå‘ç°å®ƒç¡®å®æŠŠæ¯ä¸€é¡¹éƒ½æå–å‡ºæ¥äº†ï¼Œä½†æ˜¯æ²¡æœ‰è½¬ä¸º numberã€‚</p>
<p>è¿™æ—¶å€™å°±éœ€è¦ç”¨ new XxxPipe çš„æ–¹å¼ä¼ å…¥å‚æ•°äº†ï¼ŒæŒ‡å®š item çš„ç±»å‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/39fb5c302498496fa32c878dfdc29c16~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=6dPQlbT0a4Fbd9Ae0DDrBh9Uke8%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™æ ·å°±æŠŠæ•°ç»„æ¯ä¸€é¡¹å¤„ç†ä¸º number äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7141a0808ef94186b1efb52dabfbe8a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=ADY22dpTF8OkvaS5JOnaviEYYGI%3D" alt="image.png" loading="lazy"/></p>
<p>æ­¤å¤–ï¼Œä½ è¿˜å¯ä»¥æŒ‡å®šåˆ†éš”ç¬¦ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eb17a2e27d22421eabc0420c5094215f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=IevaCC2eMnaULv%2BdMSTpqXm4ZGA%3D" alt="image.png" loading="lazy"/></p>
<p>å½“æ²¡æœ‰ä¼ å‚æ•°çš„æ—¶å€™ä¼šæŠ¥é”™ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/314ec5b264f44c26a01e79f91a7fd229~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=AltJhaV7eUX4t5hOppk%2F9fv7yeY%3D" alt="image.png" loading="lazy"/></p>
<p>å¯ä»¥æŠŠå®ƒè®¾ç½®ä¸º optionalï¼Œè¿™æ ·ä¸å¸¦å‚æ•°å°±ä¸ä¼šæŠ¥é”™äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a87113cbfb814cc4aea4bbeb6543e34c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=rC9ZKAJ5D8FsYLBSuYoutISt0MU%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-2">ParseEnumPipe</h2>
<p>å‡è®¾æˆ‘ä»¬æœ‰è¿™æ ·ä¸€ä¸ªæšä¸¾ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aedb0e602a194a3684ad5bf1aaf07c23~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=bi7Se%2B44Xu78j7iqADIoI2EbgBU%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™ä¸æ˜¯å¤šæ­¤ä¸€ä¸¾ä¹ˆï¼Œæœ¬æ¥ @Param ä¹Ÿèƒ½æŠŠå®ƒå–å‡ºæ¥å‘€ã€‚</p>
<p>ParseEnumPipe è¿˜æ˜¯æœ‰ç”¨çš„ï¼š</p>
<p>ç¬¬ä¸€ä¸ªæ˜¯å¯ä»¥é™åˆ¶å‚æ•°çš„å–å€¼èŒƒå›´ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f5a2ff71196647149046aa54290d8d22~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=gCQx3KW%2Bu8IerSOLcuMqu4KemaI%3D" alt="image.png" loading="lazy"/></p>
<p>å¦‚æœå‚æ•°å€¼ä¸æ˜¯æšä¸¾é‡Œçš„ï¼Œå°±ä¼šæŠ¥é”™ã€‚</p>
<p>è¿™ä¸ªé”™è¯¯è‡ªç„¶ä¹Ÿå¯ä»¥é€šè¿‡ errorHttpStatusCode å’Œ exceptionFactory æ¥å®šåˆ¶ã€‚</p>
<p>ç¬¬äºŒä¸ªæ˜¯å¸®ä½ è½¬æ¢ç±»å‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6161ce0726a54ae598a25832c09001fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=U8sFeh%2B6cGZa7pWGervcEm1kD2w%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™é‡Œæ‹¿åˆ°çš„å°±ç›´æ¥æ˜¯æšä¸¾ç±»å‹äº†ï¼Œå¦‚æœæœ‰ä¸ªæ–¹æ³•çš„å‚æ•°æ˜¯è¿™æ ·çš„æšä¸¾ç±»å‹ï¼Œå°±å¯ä»¥ç›´æ¥ä¼ å…¥ã€‚</p>
<h2 data-id="heading-3">ParseUUIDPipe</h2>
<p>UUID æ˜¯ä¸€ç§éšæœºç”Ÿæˆçš„å‡ ä¹ä¸å¯èƒ½é‡å¤çš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥ç”¨æ¥åš idã€‚</p>
<p>å®ƒæœ‰ v3ã€v4ã€v5 3 ä¸ªç‰ˆæœ¬ï¼Œæˆ‘ä»¬ç”¨ uuid åŒ…å¯ä»¥ç”Ÿæˆè¿™ç§ idï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/600119af36ee468b81a79e4d318242cc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=r%2B0DhGGVok0NrvpZvfVaF27NWig%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨å‚æ•°é‡Œï¼Œå¯ä»¥ç”¨ ParseUUIDPipe æ¥æ ¡éªŒæ˜¯å¦æ˜¯ UUIDï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c6991eca3e2e486f9764f252fa7daafe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=mw%2FYhfthQwCd3sK8zzRhvJSOatQ%3D" alt="image.png" loading="lazy"/></p>
<p>å¦‚æœä¸æ˜¯ uuid ä¼šæŠ›å¼‚å¸¸ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a8ab656221ca4f9da7f771053bfffd4b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=quULFoP49BETDYEmh0bZE0cGdKc%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-4">DefaultValuePipe</h2>
<p>è¿™ä¸ªæ˜¯è®¾ç½®å‚æ•°é»˜è®¤å€¼çš„ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6acfc592998e423f9c474cf1e90f350d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=TEOLVmbkfqTFv1M3ilyHHejDkXs%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-5">è‡ªå®šä¹‰Pipe</h2>
<pre><code class="hljs language-js" lang="js">nest g pipe aaa --flat --no-spec
</code></pre>
<p>ç”Ÿæˆä¸€ä¸ª pipeï¼Œæ‰“å°ä¸‹å‚æ•°å€¼ï¼Œè¿”å› aaaï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/39fcd6fda51341899ac4e6fb5e51906b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=m%2FXilsYF7su%2BOgWxzSpmYoK9STw%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨ handler é‡Œç”¨ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3bc8abb2492141138ef314f590bfb6ac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=NLX2NyGtlHoEn2XPvJFJufr5HSw%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c03f4bd855c14c23a96b25cde4df5677~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=8uo4idKaeGQB%2BgHKpQV0yQustSg%3D" alt="image.png" loading="lazy"/></p>
<p>è¿”å›çš„å€¼æ˜¯ aaaaaaï¼Œä¹Ÿå°±æ˜¯è¯´ pipe çš„è¿”å›å€¼å°±æ˜¯ä¼ ç»™ handler çš„å‚æ•°å€¼ã€‚</p>
<p>æ‰“å°çš„ value å°±æ˜¯ queryã€param çš„å€¼ï¼Œè€Œ metadata é‡ŒåŒ…å« typeã€metatypeã€dataï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e6e202d4c1a14085884ea9fb9d2fd882~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=jvnDL3QMeaUyWHiX0CBRtgw3UaE%3D" alt="image.png" loading="lazy"/></p>
<p>type å°±æ˜¯ @Queryã€@Paramã€@Body è£…é¥°å™¨ï¼Œæˆ–è€…è‡ªå®šä¹‰è£…é¥°å™¨ã€‚</p>
<p>è€Œ metatype æ˜¯å‚æ•°çš„ ts ç±»å‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7d112289c6e148969207d36914b94e50~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=Nl%2Fm3f0zM%2Bgse342mI0fzbTrbto%3D" alt="image.png" loading="lazy"/></p>
<p>data æ˜¯ä¼ ç»™ @Queryã€@Paramã€@Body ç­‰è£…é¥°å™¨çš„å‚æ•°ã€‚</p>
<p>æœ‰äº†è¿™äº›ä¸œè¥¿ï¼Œåšä¸€ä¸‹éªŒè¯ï¼ŒæŠ›å‡ºå¼‚å¸¸ç»™ exception filter å¤„ç†ï¼Œæˆ–è€…å¯¹ value åšäº›è½¬æ¢å†ä¼ ç»™ handler å°±éƒ½æ˜¯å¾ˆç®€å•çš„äº‹æƒ…äº†ã€‚</p>
<h2 data-id="heading-6">ValidatetionPipe</h2>
<p>ä¸Šé¢å­¦äº† pipe æ¥å¯¹å‚æ•°åšéªŒè¯å’Œè½¬æ¢ï¼Œ<strong>ä½†é‚£äº›éƒ½æ˜¯ get è¯·æ±‚çš„å‚æ•°ï¼Œå¦‚æœæ˜¯ post è¯·æ±‚å‘¢ï¼Ÿ</strong></p>
<p>post è¯·æ±‚çš„æ•°æ®æ˜¯é€šè¿‡ @Body è£…é¥°å™¨æ¥å–ï¼Œå¹¶ä¸”è¦æœ‰ä¸€ä¸ª dto class æ¥æ¥æ”¶ï¼š</p>
<p>ï¼ˆdto æ˜¯ data transfer objectï¼Œæ•°æ®ä¼ è¾“å¯¹è±¡ï¼Œç”¨äºå°è£…è¯·æ±‚ä½“çš„æ•°æ®ï¼‰</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1e954c05edec4a1cbd7620d2af194cde~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=iztwJVBlej9IOV5HfurtgU8sKS8%3D" alt="image.png" loading="lazy"/></p>
<p>æˆ‘ä»¬ç”¨ postman æ¥å‘ä¸ª post è¯·æ±‚ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cc49848e4caf48238591d56a283a7cd6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=nMnqV9WDvJZ29zTCqGTRMZ78fPY%3D" alt="image.png" loading="lazy"/></p>
<p>content-type æŒ‡å®šä¸º jsonã€‚</p>
<p>ç‚¹å‡» sendï¼Œå°±å¯ä»¥çœ‹åˆ°æœåŠ¡ç«¯æ¥æ”¶åˆ°äº†æ•°æ®ï¼Œå¹¶ä¸”<strong>æŠŠå®ƒè½¬ä¸ºäº† dto ç±»çš„å¯¹è±¡</strong>ã€‚</p>
<p>ä½†å¦‚æœæˆ‘ä»¬ age ä¼ ä¸€ä¸ªæµ®ç‚¹æ•°ï¼ŒæœåŠ¡ç«¯ä¹Ÿèƒ½æ­£å¸¸æ¥æ”¶ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e04d87ebca5404e8589d09e61d421e7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=dk8U47fMU7b21rTw2PtyZwqiS%2Fk%3D" alt="image.png" loading="lazy"/></p>
<p>å› ä¸ºå®ƒä¹Ÿæ˜¯ numberã€‚</p>
<p>è€Œè¿™å¾ˆå¯èƒ½ä¼šå¯¼è‡´åç»­çš„é€»è¾‘å‡ºé”™ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬è¦å¯¹ä»–åšå‚æ•°éªŒè¯ã€‚</p>
<p>æ€ä¹ˆåšå‘¢ï¼Ÿ</p>
<p>è¿™å°±éœ€è¦ç”¨åˆ° ValidationPipe äº†ã€‚</p>
<p>å®ƒéœ€è¦ä¸¤ä¸ªä¾èµ–åŒ…ï¼š</p>
<pre><code class="hljs language-js" lang="js">npm install <span class="hljs-keyword">class</span>-validator <span class="hljs-keyword">class</span>-transformer
</code></pre>
<p>ç„¶ååœ¨ @Body é‡Œæ·»åŠ è¿™ä¸ª pipeï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/17eb6c93a5f94f8a97cb7d70767576a3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=gc7OKEyKEVgw7Gmf4yQiL2buNFk%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨ dto è¿™é‡Œï¼Œç”¨ class-validator åŒ…çš„ @IsInt è£…é¥°å™¨æ ‡è®°ä¸€ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e253ebd3fea9458eb98d82bf9d52f17d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=r2mVE3yzrCzTObCFvJjQzx8W%2FVs%3D" alt="image.png" loading="lazy"/></p>
<p>å†æ¬¡è¯·æ±‚ï¼Œä½ å°±ä¼šå‘ç°å®ƒæ£€æŸ¥å‡ºäº†å‚æ•°é‡Œçš„é”™è¯¯ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7e15efaec184526a2f3c95819ab9ef4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=cbAmiCXhi0lSpvljUx5C%2FL9Hx%2BU%3D" alt="image.png" loading="lazy"/></p>
<p>é‚£å®ƒæ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ</p>
<p>class-validatorÂ åŒ…æä¾›äº†åŸºäºè£…é¥°å™¨å£°æ˜çš„è§„åˆ™å¯¹å¯¹è±¡åšæ ¡éªŒçš„åŠŸèƒ½ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ceb1dded526a473db5209e3d78a11b58~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=lDv8ESjpSN8dFUZrAcUsJGLKYqI%3D" alt="image.png" loading="lazy"/></p>
<p>è€ŒÂ class-transformerÂ åˆ™æ˜¯æŠŠä¸€ä¸ªæ™®é€šå¯¹è±¡è½¬æ¢ä¸ºæŸä¸ª class çš„å®ä¾‹å¯¹è±¡çš„ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5796355609c648d6ba4a653e377ba653~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=wKeI2Y94mmCPGVL6Mlx3CcjwXpY%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™ä¸¤è€…ä¸€ç»“åˆï¼Œé‚£ ValidationPipe æ˜¯æ€ä¹ˆå®ç°çš„ä¸å°±æƒ³æ˜ç™½äº†ä¹ˆï¼š</p>
<p><strong>æˆ‘ä»¬å£°æ˜äº†å‚æ•°çš„ç±»å‹ä¸º dto ç±»ï¼Œpipe é‡Œæ‹¿åˆ°è¿™ä¸ªç±»ï¼ŒæŠŠå‚æ•°å¯¹è±¡é€šè¿‡ class-transformer è½¬æ¢ä¸º dto ç±»çš„å¯¹è±¡ï¼Œä¹‹åå†ç”¨ class-validator åŒ…æ¥å¯¹è¿™ä¸ªå¯¹è±¡åšéªŒè¯ã€‚</strong></p>
<p>æˆ‘ä»¬è‡ªå·±å†™å†™çœ‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">PipeTransform</span>, <span class="hljs-title class_">Injectable</span>, <span class="hljs-title class_">ArgumentMetadata</span>, <span class="hljs-title class_">BadRequestException</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@nestjs/common'</span>;
<span class="hljs-keyword">import</span> { validate } <span class="hljs-keyword">from</span> <span class="hljs-string">'class-validator'</span>;
<span class="hljs-keyword">import</span> { plainToInstance } <span class="hljs-keyword">from</span> <span class="hljs-string">'class-transformer'</span>;

@<span class="hljs-title class_">Injectable</span>()
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyValidationPipe</span> implements <span class="hljs-title class_">PipeTransform</span>&lt;any&gt; {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">transform</span>(<span class="hljs-params">value: any, { metatype }: ArgumentMetadata</span>) {
    <span class="hljs-keyword">if</span> (!metatype) {
      <span class="hljs-keyword">return</span> value;
    }
    <span class="hljs-comment">// æŠŠå‚æ•°å€¼è½¬åŒ–ä¸ºclass Ooo çš„å®ä¾‹</span>
    <span class="hljs-keyword">const</span> object = <span class="hljs-title function_">plainToInstance</span>(metatype, value);
    <span class="hljs-comment">// ç„¶åå°±å¯ä»¥è¿›è¡ŒéªŒè¯äº†</span>
    <span class="hljs-keyword">const</span> errors = <span class="hljs-keyword">await</span> <span class="hljs-title function_">validate</span>(object);
    <span class="hljs-keyword">if</span> (errors.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BadRequestException</span>(<span class="hljs-string">'å‚æ•°éªŒè¯å¤±è´¥'</span>);
    }
    <span class="hljs-keyword">return</span> value;
  }
}

</code></pre>
<p>metatype ä¸ºå‚æ•°çš„ç±»å‹ï¼Œä¹Ÿå°±æ˜¯ class Ooo:</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e3156dff334d48d887f8435badf1709d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=ispY8W28pEjATdrb%2FR7QwVqUw2I%3D" alt="image.png" loading="lazy"/></p>
<p>å¦‚æœæ²¡æœ‰å£°æ˜è¿™éƒ¨åˆ†ï¼Œé‚£å°±æ²¡æ³•è½¬æ¢å’ŒéªŒè¯ï¼Œç›´æ¥è¿”å› valueã€‚</p>
<p>å¦åˆ™ï¼Œé€šè¿‡ class-transformer åŒ…çš„ plainToInstance æŠŠæ™®é€šå¯¹è±¡è½¬æ¢ä¸º dto class çš„å®ä¾‹å¯¹è±¡ã€‚</p>
<p>ä¹‹åè°ƒç”¨ class-validator åŒ…çš„ validate api å¯¹å®ƒåšéªŒè¯ã€‚å¦‚æœéªŒè¯ä¸é€šè¿‡ï¼Œå°±æŠ›ä¸€ä¸ªå¼‚å¸¸ã€‚</p>
<p>æ›¿æ¢ä¸ºæˆ‘ä»¬è‡ªå·±å®ç°çš„ MyValidationPipeã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/05b3856d22334a318450110ac7882dcc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=20wevgwyO5L4Tt73mRd23mkHveU%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9276cbeb3a574dc6a21567d3c16aa6e1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=XqUZMv40WRAgzpn7b%2BOkCan%2BNss%3D" alt="image.png" loading="lazy"/></p>
<p>ç¡®å®æ£€æŸ¥å‡ºäº†é”™è¯¯ã€‚</p>
<p>å½“ç„¶ï¼Œæˆ‘ä»¬åšçš„å¹¶ä¸å¤Ÿå®Œå–„ï¼Œè¿˜æ˜¯ç›´æ¥ç”¨å†…ç½®çš„ ValidationPipe å¥½äº†ã€‚</p>
<p>pipe é‡Œä¹Ÿæ˜¯å¯ä»¥æ³¨å…¥ä¾èµ–çš„ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5cf809c4c69548d59361119ad70c6237~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=MVSPZ3pA9BOC6Kuae5sY104t0rw%3D" alt="image.png" loading="lazy"/></p>
<p>æ¯”å¦‚ï¼Œæˆ‘ä»¬æŒ‡å®š @Inject æ³¨å…¥ token ä¸º validation_options çš„å¯¹è±¡ã€‚</p>
<p>å› ä¸ºæ ‡è®°äº† @Optionalï¼Œæ²¡æ‰¾åˆ°å¯¹åº”çš„ provider ä¹Ÿä¸ä¼šæŠ¥é”™ã€‚</p>
<p>ä½†å½“æˆ‘ä»¬åœ¨ module é‡Œæ·»åŠ äº†è¿™ä¸ª providerï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c02ea288b2d40b3b9e8c5d200638c9b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=zG4LqByPvqGSQDORIOCCjzq8WAI%3D" alt="image.png" loading="lazy"/></p>
<p>å°±å¯ä»¥æ­£å¸¸æ³¨å…¥äº†ã€‚</p>
<p>å½“ç„¶ï¼Œè¿™ç§æ–¹å¼å°±ä¸èƒ½ç”¨ new çš„æ–¹å¼äº†ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d45518141e048f5a31db016f969d057~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=aaxUj%2BsyhmfXHdjxigoOPac3PfA%3D" alt="image.png" loading="lazy"/></p>
<p>ç›´æ¥æŒ‡å®š classï¼Œè®© Nest å»åˆ›å»ºå¯¹è±¡æ”¾åˆ° ioc å®¹å™¨é‡Œã€‚</p>
<p>å¦‚æœæ˜¯å…¨å±€çš„ pipeï¼Œè¦é€šè¿‡è¿™ç§æ–¹å¼æ¥åˆ›å»ºæ‰èƒ½æ³¨å…¥ä¾èµ–ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f9f42ed1439f42ea94d56ebd7763bae8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=5h9yqUTxsFia0ovspkt%2BU4uurPk%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™å°±å’Œæˆ‘ä»¬ä¹‹å‰åˆ›å»ºå…¨å±€ interceptor ä¸€æ ·ã€‚</p>
<p>åŒç†ï¼Œå…¶ä½™çš„ filterã€guard ä¹Ÿå¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼å£°æ˜ä¸ºå…¨å±€ç”Ÿæ•ˆçš„ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eb1ea6ff68d548b1b96ba93de9d5407b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=oXh7uXPfuLyvQcwgsHK6EH%2FNGx8%3D" alt="image.png" loading="lazy"/></p>
<p>ç°åœ¨æˆ‘ä»¬å°±å¯ä»¥æŠŠ handler é‡Œçš„ ValidationPipe å»æ‰äº†</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a9bb2e31113c4935b5c5c73d2db394c0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=C0yKZhUa171JPnl3fbZb8tgfPKU%3D" alt="image.png" loading="lazy"/></p>
<p>å†æ¬¡è®¿é—®ï¼Œå®ƒä¾ç„¶æ˜¯ç”Ÿæ•ˆçš„ã€‚</p>
<p>ä¼šç”¨ ValidationPipe ä¹‹åï¼Œæˆ‘ä»¬å›è¿‡å¤´æ¥å†çœ‹çœ‹ class-validator éƒ½æ”¯æŒå“ªäº›éªŒè¯æ–¹å¼ï¼š</p>
<p>æˆ‘ä»¬å£°æ˜è¿™æ ·ä¸€ä¸ª dto classï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Contains</span>, <span class="hljs-title class_">IsDate</span>, <span class="hljs-title class_">IsEmail</span>, <span class="hljs-title class_">IsFQDN</span>, <span class="hljs-title class_">IsInt</span>, <span class="hljs-title class_">Length</span>, <span class="hljs-title class_">Max</span>, <span class="hljs-title class_">Min</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'class-validator'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Ppp</span> {
    @<span class="hljs-title class_">Length</span>(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>)
    <span class="hljs-attr">title</span>: string;
  
    @<span class="hljs-title class_">Contains</span>(<span class="hljs-string">'hello'</span>)
    <span class="hljs-attr">text</span>: string;
  
    @<span class="hljs-title class_">IsInt</span>()
    @<span class="hljs-title class_">Min</span>(<span class="hljs-number">0</span>)
    @<span class="hljs-title class_">Max</span>(<span class="hljs-number">10</span>)
    <span class="hljs-attr">rating</span>: number;
  
    @<span class="hljs-title class_">IsEmail</span>()
    <span class="hljs-attr">email</span>: string;
  
    @<span class="hljs-title class_">IsFQDN</span>()
    <span class="hljs-attr">site</span>: string;
}
</code></pre>
<p>å…¶ä¸­ @IsFQDN æ˜¯æ˜¯å¦æ˜¯åŸŸåçš„æ„æ€ã€‚</p>
<p>ç„¶åæ·»åŠ ä¸€ä¸ª post çš„ handlerï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1cb8ebc92e56404791a947389c5c36a6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=mB4gJrsA9k7sXXovwECTN%2BwB1no%3D" alt="image.png" loading="lazy"/></p>
<p>å½“å‚æ•°ä¸æ­£ç¡®ï¼ŒValidationPipe å°±ä¼šè¿”å› class-validator çš„æŠ¥é”™ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c9a25a99c475479cab2d0e1f1c18a77a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=Jqr%2Ft9AN9CvRxNZWr0rJDVyfDSc%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™ä¸ªé”™è¯¯æ¶ˆæ¯ä¹Ÿæ˜¯å¯ä»¥å®šåˆ¶çš„ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/39341b3c48cb4c979589f7ed35b95b9b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=i0HjI5%2BhXC%2B8Yof5Y8Vp2hinHfA%3D" alt="image.png" loading="lazy"/></p>
<p>æ·»åŠ ä¸€ä¸ª options å¯¹è±¡ï¼Œä¼ å…¥ message å‡½æ•°ï¼Œæ‰“å°ä¸‹å®ƒçš„å‚æ•°ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/270e638cebb54644ab1e871f30401e61~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=rXE4ZfHM%2FV0eFLUmshWKNq1Wb%2Bc%3D" alt="image.png" loading="lazy"/></p>
<p>å¯ä»¥æ‹¿åˆ°å¯¹è±¡ã€å±æ€§åã€å±æ€§å€¼ã€class åç­‰å„ç§ä¿¡æ¯ï¼Œç„¶åä½ å¯ä»¥è¿”å›è‡ªå®šä¹‰çš„ messageï¼š</p>
<pre><code class="hljs language-js" lang="js">@<span class="hljs-title class_">Length</span>(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, {
    <span class="hljs-title function_">message</span>(<span class="hljs-params">{targetName, property, value, constraints}</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${targetName}</span> ç±»çš„ <span class="hljs-subst">${property}</span> å±æ€§çš„å€¼ <span class="hljs-subst">${value}</span> ä¸æ»¡è¶³çº¦æŸ: <span class="hljs-subst">${constraints}</span>`</span>
    }
})
<span class="hljs-attr">title</span>: string;
</code></pre>
<p>å†æ¬¡è®¿é—®ï¼Œè¿”å›çš„å°±æ˜¯è‡ªå®šä¹‰çš„é”™è¯¯æ¶ˆæ¯ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b6ccf23823d41d9949492557e1223e2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174304&amp;x-signature=ACvXfYaTcpIKjnlaUrEwZxXeE38%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-7">æ€»ç»“</h2>
<p>æ¥æ”¶ post è¯·æ±‚çš„æ–¹å¼æ˜¯å£°æ˜ä¸€ä¸ª dto classï¼Œç„¶åé€šè¿‡ @Body æ¥å–è¯·æ±‚ä½“æ¥æ³¨å…¥å€¼ã€‚</p>
<p>å¯¹å®ƒåšéªŒè¯è¦ä½¿ç”¨ ValidationPipeã€‚</p>
<p>å®ƒçš„å®ç°åŸç†æ˜¯åŸºäº class-tranformer æŠŠå‚æ•°å¯¹è±¡è½¬æ¢ä¸º dto class çš„å¯¹è±¡ï¼Œç„¶åé€šè¿‡ class-validator åŸºäºè£…é¥°å™¨å¯¹è¿™ä¸ªå¯¹è±¡åšéªŒè¯ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥è‡ªå·±å®ç°è¿™æ ·çš„ pipeï¼Œpipe é‡Œå¯ä»¥æ³¨å…¥ä¾èµ–ã€‚</p>
<p>å¦‚æœæ˜¯å…¨å±€ pipe æƒ³æ³¨å…¥ä¾èµ–ï¼Œéœ€è¦é€šè¿‡ APP_PIPE çš„ token åœ¨ AppModule é‡Œå£°æ˜ providerã€‚</p>
<p>class-validator æ”¯æŒå¾ˆå¤šç§éªŒè¯è§„åˆ™ï¼Œæ¯”å¦‚é‚®ç®±ã€åŸŸåã€é•¿åº¦ã€å€¼çš„èŒƒå›´ç­‰ï¼Œè€Œä¸”é”™è¯¯æ¶ˆæ¯ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ã€‚</p>
<p>ValidationPipe æ˜¯éå¸¸å¸¸ç”¨çš„ pipeï¼Œåé¢ä¼šå¤§é‡ç”¨åˆ°ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¯•ç”¨ opencodeä¸€å‘¨ï¼Œæˆ‘æŠŠ Claude Code æ‰”äº†ï¼ˆé™„opencodeå®‰è£…æŒ‡å—ï¼‰]]></title>    <link>https://juejin.cn/post/7599965904617242670</link>    <guid>https://juejin.cn/post/7599965904617242670</guid>    <pubDate>2026-01-28T03:07:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599965904617242670" data-draft-id="7599640782569259035" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¯•ç”¨ opencodeä¸€å‘¨ï¼Œæˆ‘æŠŠ Claude Code æ‰”äº†ï¼ˆé™„opencodeå®‰è£…æŒ‡å—ï¼‰"/> <meta itemprop="keywords" content="AIç¼–ç¨‹,Claude"/> <meta itemprop="datePublished" content="2026-01-28T03:07:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é™ˆä½¬æ˜”ç¼–ç¨‹äººç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3087084378402445"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¯•ç”¨ opencodeä¸€å‘¨ï¼Œæˆ‘æŠŠ Claude Code æ‰”äº†ï¼ˆé™„opencodeå®‰è£…æŒ‡å—ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3087084378402445/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é™ˆä½¬æ˜”ç¼–ç¨‹äººç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T03:07:02.000Z" title="Wed Jan 28 2026 03:07:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¶ç€ Claude Code å°é”ç¬¬ä¸‰æ–¹å·¥å…·çš„çƒ­åº¦ï¼ŒOpenCode ç€å®ç«äº†ä¸€æŠŠã€‚ç­‰è¿™é˜µé£å¤´è¿‡å»ï¼Œæˆ‘æ‰æ…¢æ‚ æ‚ åœ°å¼€å§‹è¯•ç”¨ï¼Œæƒ³å°½é‡é¿å¼€æƒ…ç»ªæ»¤é•œï¼Œçœ‹çœ‹å®ƒåˆ°åº•æœ‰å‡ æ–¤å‡ ä¸¤ã€‚</p>
<p>è¿™ä¸€å‘¨ï¼Œæˆ‘ä¸»è¦ç”¨å®ƒå¹²äº†ä¿©æ´»å„¿ï¼šä¸€ä¸ªæ˜¯å¼€å‘è‹¹æœ Appï¼Œå¦ä¸€ä¸ªæ˜¯æä¸€ä¸ªç”µå•†é¡¹ç›®ã€‚</p>
<p>è¯´å®è¯ï¼Œè‹¹æœ App çš„å¼€å‘ä½“éªŒå¹³å¹³æ— å¥‡ï¼Œæ²¡è®©æˆ‘è§‰å¾—æœ‰å¤šæƒŠè‰³ã€‚ä½†åˆ°äº†ç”µå•†é¡¹ç›®è¿™é‡Œï¼Œç”»é£çªå˜â€”â€”ä»…ä»…ç”¨äº†æœ€åŸºç¡€çš„ â€œPlanâ€ æ¨¡å¼ï¼Œå¼€å‘é€Ÿåº¦å±…ç„¶æ¯” Claude Code è¿˜å¿«ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5b2e4a6ae0ae45b7b062e4f9328f27a3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmI5L2s5piU57yW56iL5Lq655Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174422&amp;x-signature=1W7BaeyAbXOpY6lqEIa6f95gJ9E%3D" alt="ç½‘ç«™.jpg" loading="lazy"/></p>
<p>è¿™ä¸å¯¹åŠ²å•Šï¼Ÿæˆ‘èµ¶ç´§å»æŸ¥äº†æŸ¥èµ„æ–™ã€‚å¥½å®¶ä¼™ï¼ŒåŸæ¥ OpenCode è‡ªå¸¦äº†ä¸€ä¸ªç§˜å¯†æ­¦å™¨ï¼š<strong>LSPï¼ˆè¯­è¨€æœåŠ¡å™¨ï¼‰</strong>ã€‚æœ‰äº†å®ƒï¼ŒAI å†™ä»£ç å°±ä»â€œé—­çœ¼ç›²æ‰“ã€å…¨é è’™â€å˜æˆäº†â€œæ‰‹æ‹¿åœ°å›¾ã€ç²¾å‡†å¯¼èˆªâ€ï¼Œæ•ˆç‡ç›´æ¥èµ·é£ã€‚</p>
<p>ä¸è¿‡ï¼ŒOpenCode è‡ªå¸¦çš„ LSP æ”¯æŒçš„è¯­è¨€æœ‰é™ã€‚è¿™ä¹Ÿè§£é‡Šäº†ä¸ºä»€ä¹ˆå¯¹ Swift æ”¯æŒä¸€èˆ¬çš„è‹¹æœ App é¡¹ç›®ï¼Œä½“éªŒåè€Œä¸å¦‚åŸºäº TypeScript çš„ç”µå•†é¡¹ç›®æ¥å¾—çˆ½å¿«ã€‚</p>
<p>ï¼ˆé¡ºå¸¦ä¸€æï¼ŒClaude Code å…¶å®ä¹Ÿæ”¯æŒ LSPï¼Œä½†éœ€è¦è‡ªå·±æ‰‹åŠ¨å®‰è£…ï¼Œè€Œä¸”æ ¹æ®å‰ä¸¤å‘¨å…¶ä»–åšä¸»çš„æµ‹è¯•è§†é¢‘æ¥çœ‹ï¼Œè°ƒç”¨æˆåŠŸç‡ä¸å¤ªç¨³å®šã€‚ï¼‰</p>
<p>æ›´è®©æˆ‘æƒŠå–œçš„æ˜¯ï¼ŒClaude Code é‚£äº›å¼•ä»¥ä¸ºå‚²çš„ Commandsã€Skillsã€Agents åŠŸèƒ½ï¼ŒOpenCode å…¨éƒ½æœ‰ï¼Œé…ç½®æ–‡ä»¶å¤åˆ¶ç²˜è´´è¿‡æ¥å³å¯ï¼Œæ— ç¼åˆ‡æ¢.ã€‚ç”šè‡³ä½ å¦‚æœä¸åšä¿®æ”¹ï¼ŒOpenCode ä¹Ÿä¼šåšå…¼å®¹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d3a72a8a09334fe68fd172798e75cc35~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmI5L2s5piU57yW56iL5Lq655Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174422&amp;x-signature=8OL571m6DnKpXyUS7dInu%2FU4mZ4%3D" alt="è¯•ç”¨ opencodeä¸€å‘¨æˆ‘æŠŠ Claude Code æ‰”äº†é™„opencodeå®‰è£…æŒ‡å—-å…¼å®¹claudecode.png" loading="lazy"/></p>
<p>Claude Code è¿™æ³¢å°é”æ“ä½œï¼Œåè€Œæš´éœ²äº†è‡ªå·±çš„ç„¦è™‘ï¼Œä¹Ÿè¯æ˜äº† Agent å¼€å‘æœ¬èº«å¹¶æ— å¤ªé«˜é—¨æ§›ã€‚è¿™ä¸€æ‹›â€œé—­å…³é”å›½â€ï¼Œå€’æ˜¯ç»™ OpenCode åšäº†ä¸€æ¬¡å®Œç¾çš„å…è´¹å®£ä¼ ã€‚</p>
<p>è¯•ç”¨ä¸€å‘¨ä¸‹æ¥ï¼Œæˆ‘çš„ç»“è®ºæ˜¯ï¼š<strong>OpenCode å®Œå…¨æœ‰èƒ½åŠ›æˆä¸º Claude Code çš„å¹³æ›¿ï¼Œç”šè‡³åœ¨æŸäº›æ–¹é¢ä½“éªŒæ›´ä½³ã€‚</strong></p>
<p>å¦‚æœæ„Ÿå…´è¶£ï¼Œå¯ä»¥å‚è€ƒä¸‹é¢æ•™ç¨‹ï¼Œå®‰è£…ä½¿ç”¨  OpenCodeï¼š</p>
<h2 data-id="heading-0">0. ç¯å¢ƒå®‰è£…</h2>
<p>opencode éœ€è¦åœ¨ Node.js 22 + çš„æœºå™¨ä¸Šè·‘ã€‚</p>
<p>åœ¨å‘½ä»¤è¡Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼Œç‰ˆæœ¬å·å¤§äº 22 å³å¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">node -v
</code></pre>
<p>å¦‚æœå·²ç»å®‰è£…ï¼Œå¹¶ä¸”ç‰ˆæœ¬æ­£ç¡®å¯ä»¥ç»§ç»­ä¸‹ä¸€æ­¥ã€‚</p>
<p>å¦‚æœéœ€è¦å®‰è£…æˆ–å‡çº§ï¼Œåˆ™å¯åˆ° <a href="https://link.juejin.cn?target=https%3A%2F%2Fnodejs.org%2Fzh-cn%2Fdownload" target="_blank" title="https://nodejs.org/zh-cn/download" ref="nofollow noopener noreferrer">nodejs.org/zh-cn/downlâ€¦</a> ä¸‹è½½å¹¶å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ Node.jsã€‚</p>
<h2 data-id="heading-1">1. opencode å®‰è£…</h2>
<p>å¦‚æœå·²ç»å®‰è£…å¯ä»¥è·³è¿‡ã€‚</p>
<p>å¦‚æœæ²¡æœ‰ï¼Œåˆ™å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œå®‰è£…</p>
<pre><code class="hljs language-bash" lang="bash">npm install -g @anthropic-ai/claude-code
</code></pre>
<p>é™¤äº†å‘½ä»¤è¡Œï¼Œopencode ä¹Ÿæœ‰æ’ä»¶å’Œæ¡Œé¢ç«¯ã€‚</p>
<h3 data-id="heading-2">æ¡Œé¢ç«¯</h3>
<p>æ¡Œé¢ç«¯ä¹Ÿæ˜¯ä»–æ¯” Claude codeæ›´å¥½ç”¨çš„ä¸€ä¸ªç‰¹ç‚¹ã€‚ å¯¹äºæ¯«æ— å¼€å‘ç»éªŒçš„äº§å“ç»ç†æˆ–æ™®é€šäººï¼Œä½¿ç”¨æ¡Œé¢ç‰ˆæ˜¯æœ€å¥½çš„ã€‚æ¯•ç«Ÿèƒ½ç”¨é¼ æ ‡ï¼Œæ•´ä¸ªæ“ä½œç®€å•å¾ˆå¤šã€‚åé¢æ“ä½œä¹Ÿä¼šä»¥æ¡Œé¢ç«¯ä¸ºä¾‹ã€‚æ¨èå®‰è£…ï¼</p>
<p>ä¸‹è½½åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopencode.ai%2Fdownload" target="_blank" title="https://opencode.ai/download" ref="nofollow noopener noreferrer">opencode.ai/download</a></p>
<p>åœ¨ OpenCode Desktop (Beta) ä¸‹ï¼Œé€‰æ‹©æ“ä½œç³»ç»Ÿå¯¹åº”çš„å®‰è£…åŒ…ä¸‹è½½ã€‚</p>
<h3 data-id="heading-3">æ’ä»¶å®‰è£…</h3>
<p>å¯¹åº”è¿˜æ˜¯éœ€è¦çœ‹ä»£ç çš„ç¨‹åºå‘˜ï¼Œåˆ™åœ¨ IDE æ’ä»¶å¸‚åœºï¼Œæœç´¢é€‰æ‹© opencode å®‰è£…ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/07842fa92950439c92ee37c75a19c7e2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmI5L2s5piU57yW56iL5Lq655Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174422&amp;x-signature=z9nQEuOrb5tXp5CIOd7Vx%2FT%2Fq9I%3D" alt="è¯•ç”¨ opencode ä¸€å‘¨æˆ‘æŠŠ Claude Code æ‰”äº†é™„opencodeå®‰è£…æŒ‡å—-opencodeæŒ‡å—.png" loading="lazy"/></p>
<h2 data-id="heading-4">2. è®¢é˜…å¤§æ¨¡å‹å¥—é¤</h2>
<p>OpenCode æ¯”è¾ƒè‡ªç”±ï¼Œæ™®é€šçš„å¤§æ¨¡å‹ API ä¹Ÿèƒ½ä½¿ç”¨ã€‚ä¸è¿‡è¿˜æ˜¯æ¨èæ”¯æŒ Coding Plan çš„å¤§æ¨¡å‹ã€‚æ¯•ç«Ÿç¼–ç¨‹å·¥å…·çš„ä½¿ç”¨é‡å¾ˆå¤§ï¼Œä¸€èˆ¬çš„ API å¯èƒ½å¾ˆå¿«å°±è¢«æ¶ˆè€—å…‰ã€‚</p>
<p>å›½å†…æ¨èä½¿ç”¨ GLM å¤§æ¨¡å‹æˆ– MiniMax å¤§æ¨¡å‹çš„ Coding Plan å¥—é¤ã€‚ä¹°å“ªä¸ªå¥—é¤è‡ªè¡Œå†³å®šã€‚ä¹Ÿå¯ä»¥éƒ½è®¢é˜…ä¸€ä¸ªæœˆå°è¯•ï¼Œåé¢å†å–æ¶ˆã€‚<strong>å¯ä»¥ä»æœ€ä¾¿å®œçš„å¥—é¤å¼€å§‹ï¼Œéœ€è¦å†å‡çº§ã€‚</strong></p>
<h3 data-id="heading-5">MiniMax</h3>
<p>Starter 29å…ƒ/æœˆï¼ŒPlus 49å…ƒ/æœˆï¼ŒMax 119å…ƒ/æœˆã€‚è®¢é˜…åœ°å€ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.minimaxi.com%2Fsubscribe%2Fcoding-plan" target="_blank" title="https://platform.minimaxi.com/subscribe/coding-plan" ref="nofollow noopener noreferrer">platform.minimaxi.com/subscribe/câ€¦</a></p>
<h3 data-id="heading-6">GLM</h3>
<p>Lite 40å…ƒ/æœˆï¼ŒPro 200å…ƒ/æœˆï¼ŒMax 400å…ƒ/æœˆï¼Œç›®å‰é¦–æœˆåŠä»·ã€‚è®¢é˜…åœ°å€ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fbigmodel.cn%2Fglm-coding" target="_blank" title="https://bigmodel.cn/glm-coding" ref="nofollow noopener noreferrer">bigmodel.cn/glm-coding</a></p>
<h2 data-id="heading-7">3. API Key è·å–</h2>
<p>åœ¨ä¸Šé¢è®¢é˜…å¥—é¤çš„ï¼Œä»¥ä¸‹ä»¥ MiniMax å›½å†…ç«™ä¸ºä¾‹ã€‚</p>
<p>è¿›å…¥å®˜ç½‘ï¼Œç™»å½•åï¼Œè¿›å…¥è´¦æˆ·ç®¡ç†ï¼Œç‚¹å‡»å·¦ä¾§èœå•â€œè®¢é˜…ç®¡ç†â€ä¸‹æ–¹çš„ Coding Planã€‚</p>
<p>æ­¤æ—¶å‡ºæ¥çš„é¡µé¢ï¼Œä¾¿èƒ½çœ‹åˆ° API Key äº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/14c5d77d50a64b7ea852b240afb0153c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmI5L2s5piU57yW56iL5Lq655Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174422&amp;x-signature=5MWfdYWxOp7l%2FQeAzUGXPygRYPQ%3D" alt="Claude Code è½»æ¾æ¥å…¥å›½å†…æ¨¡å‹-coding Plan.png" loading="lazy"/></p>
<p>ç‚¹å‡»é‡ç½®å¹¶å¤åˆ¶å³å¯ã€‚</p>
<h2 data-id="heading-8">4. å¼€å§‹ä½¿ç”¨</h2>
<p>OpenCode æ˜¯ä»¥é¡¹ç›®ä¸ºå•ä½è¿›è¡Œå¼€å‘çš„ï¼Œé€‰æ‹©ä»ä¸€ä¸ªæ–‡ä»¶å¤¹æˆ–è€…æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹å¼€å§‹éƒ½å¯ä»¥ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e4a9f72645f412aaf358d5a8937399f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmI5L2s5piU57yW56iL5Lq655Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174422&amp;x-signature=lvqaeHciqJhLFQDnWzsJkzyhD5Y%3D" alt="è¯•ç”¨ opencode ä¸€å‘¨æˆ‘æŠŠ Claude Code æ‰”äº†é™„opencodeå®‰è£…æŒ‡å—-æ¡Œé¢ç‰ˆç•Œé¢.png" loading="lazy"/></p>
<p>OpenCode ä¹Ÿä¼šåŸºäºä½ ç³»ç»Ÿçš„è¯­è¨€ï¼Œå±•ç¤ºç•Œé¢ï¼Œå¦‚æœæ²¡æœ‰å‡ºç°ä¸­æ–‡ï¼Œå¯ä»¥åœ¨è®¾ç½®ä¸­è¿›è¡Œä¿®æ”¹ã€‚</p>
<p>å¦å¤–ï¼Œä¹Ÿæä¾›äº† 10å¤šä¸ªä¸»é¢˜ä¾›é€‰æ‹©ï¼Œå¯¹ä¸å–œæ¬¢é»‘è‰²ç•Œé¢çš„ï¼Œå¯ä»¥æ‰¾æ‰¾è‡ªå·±æ›´å–œæ¬¢çš„ä¸»é¢˜ã€‚</p>
<h3 data-id="heading-9">5. æ¥å…¥æ¨¡å‹</h3>
<p>opencode æ¥å…¥æ¨¡å‹æ¯” Claude codeç®€å•ã€‚</p>
<p>è¿›å…¥é¡¹ç›®ç•Œé¢ä¹‹åï¼Œåœ¨å¯¹è¯æ¡†ï¼Œè¾“å…¥ <code>/modal</code>ï¼Œä¼šå¼¹å‡ºæ¨¡å‹é€‰æ‹©çª—ã€‚</p>
<p>opencode å†…ç½®äº†60å¤šä¸ªå¤§æ¨¡å‹æä¾›å•†ï¼Œç‚¹å‡»â€œæŸ¥çœ‹å…¨éƒ¨ä¾›åº”å•†â€ï¼Œèƒ½çœ‹åˆ°å›½å†…çš„ä¾›åº”å•†ï¼Œé™¤äº†åˆšåˆšæåŠçš„ GLM å’Œ MiniMaxï¼Œè¿˜åŒ…æ‹¬ é˜¿é‡Œå·´å·´ã€Deepseekã€Z.AI ã€æœˆä¹‹æš—é¢ç­‰ç­‰ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/388df40dcb484e02aa63fc9b166b68c5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmI5L2s5piU57yW56iL5Lq655Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174422&amp;x-signature=EchOGA27AuZNYrQtinaBRkO3rW4%3D" alt="è¯•ç”¨ opencode ä¸€å‘¨æˆ‘æŠŠ Claude Code æ‰”äº†é™„opencodeå®‰è£…æŒ‡å—-ä¾›åº”å•†.png" loading="lazy"/></p>
<p>å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œä½ åªéœ€è¦ä»ä¾›åº”å•†é‚£è¾¹å¤åˆ¶ api keyå³å¯ã€‚ï¼ˆMiniMax æ³¨æ„åŒºåˆ†å›½å†…å›½å¤–ç«™ï¼‰</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9597758463aa4aeaa6866a0b91897f67~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmI5L2s5piU57yW56iL5Lq655Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174422&amp;x-signature=RPvl1tWKhGG1VPSw2SMzgoGDE40%3D" alt="è¯•ç”¨ opencode ä¸€å‘¨æˆ‘æŠŠ Claude Code æ‰”äº†é™„opencodeå®‰è£…æŒ‡å—-é€‰æ‹©æ¨¡å‹.png" loading="lazy"/></p>
<p>é…ç½®å®Œæˆï¼Œåœ¨å¯¹è¯æ¡†æ­£å¸¸å¯¹è¯ï¼Œæœ‰è¿”å›ï¼Œé…ç½®å°±æˆåŠŸäº†ï¼</p>
<h2 data-id="heading-10">6. åŸºæœ¬æ“ä½œ</h2>
<h3 data-id="heading-11">Agents</h3>
<p>ç›®å‰æœ‰ä¸¤ä¸ª Agent å’Œ SubAgentï¼š</p>
<ul>
<li>Buildï¼Œé»˜è®¤ Agentï¼Œé˜…è¯»ç¼–è¾‘å¤„ç†æ–‡ä»¶æ—¶ä½¿ç”¨</li>
<li>Planï¼Œè®¡åˆ’ Agentï¼Œå¸®ä½ è§„åˆ’å¤æ‚ä»»åŠ¡</li>
<li>Generalï¼Œé€šè¿‡ @general è°ƒç”¨ï¼Œå¸®ä½ ç ”ç©¶å¤æ‚é—®é¢˜ï¼Œæ‰§è¡Œå¤šæ­¥éª¤ä»»åŠ¡ã€‚</li>
<li>Exploreï¼Œé€šè¿‡ @explore è°ƒç”¨ï¼Œå¸®ä½ åšç®€å•çš„æŸ¥æ‰¾ã€é˜…è¯»ä»£ç ï¼Œå›ç­”é—®é¢˜</li>
</ul>
<h3 data-id="heading-12">å·¥å…·</h3>
<p>opencode æ²¡æœ‰æŠŠå·¥å…·åˆ†é‚£ä¹ˆç»†ï¼Œskills å’Œ commands ä¹Ÿæ˜¯å·¥å…·çš„ä¸€ç§ã€‚å®ƒä»¬ç»Ÿä¸€éƒ½æ˜¯ä½¿ç”¨ <code>/å…·ä½“å·¥å…·</code> çš„æ–¹å¼è°ƒç”¨ã€‚</p>
<p>å®‰è£… skills/commandsï¼Œæœ‰ä¸¤ç§æ–¹æ³•ï¼š</p>
<p>æ–¹æ³•ä¸€ã€æŠŠ skills æ–‡ä»¶å¤¹çš„å†…å®¹å¤åˆ¶åˆ° .opencode/skillsï¼Œæˆ– .opencode/commands ä¸‹ï¼›</p>
<p>æ–¹æ³•äºŒã€ä½¿ç”¨ skills/commands å®˜æ–¹æä¾›çš„æ–¹æ³•ï¼Œæˆ–å®˜æ–¹æä¾›çš„å¯¹è¯ä¿¡æ¯æäº¤ç»™ opencodeã€‚</p>
<p>åœ¨è¿™é‡Œæ¨èä¸€ä¸ªä¸“é—¨ç»™ OpenCode åšçš„å¼€å‘ç”¨çš„åº“ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fcode-yeongyu%2Foh-my-opencode" target="_blank" title="https://github.com/code-yeongyu/oh-my-opencode" ref="nofollow noopener noreferrer">github.com/code-yeongyâ€¦</a></p>
<h3 data-id="heading-13">å‘½ä»¤è¡Œç»ˆç«¯</h3>
<p>å¦‚æœä½ éœ€è¦ç›‘æ§æœåŠ¡æƒ…å†µæˆ–å…¶ä¸€äº›éœ€è¦ç”¨åˆ°ç»ˆç«¯çš„æƒ…å†µï¼ŒOpencode ä¹Ÿæ”¯æŒè¾“å…¥ <code>!</code> åˆ‡æ¢åˆ°å‘½ä»¤è¡Œæ¨¡å¼ã€‚</p>
<p>æ­¤æ—¶ç›´æ¥è¾“å…¥ shell å‘½ä»¤ï¼Œèƒ½è§¦å‘æ‰§è¡Œã€‚</p>
<p>ä¹Ÿå¯ä»¥æ–°å¢ä¸€ä¸ª ç»ˆç«¯çª—å£ï¼Œæ›´æ–¹ä¾¿æ“ä½œã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1e496203df184641a933774bab0428aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmI5L2s5piU57yW56iL5Lq655Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174422&amp;x-signature=igE11j9hYJdvDg7MPZIYgSQJ7H0%3D" alt="è¯•ç”¨ opencode ä¸€å‘¨æˆ‘æŠŠ Claude Code æ‰”äº†é™„opencodeå®‰è£…æŒ‡å—-æ–°å¢ç»ˆç«¯çª—å£.png" loading="lazy"/></p>
<p>å…¶ä»–çš„ä½¿ç”¨æ–¹æ³•ï¼Œå¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fopencode.ai%2Fdocs" target="_blank" title="https://opencode.ai/docs" ref="nofollow noopener noreferrer">opencode.ai/docs</a></p>
<h2 data-id="heading-14">7. é«˜ç«¯ç©æ³•-æ‰‹æœºæ“ä½œ</h2>
<p>ç½‘å‹çš„æ“ä½œè®©äººè„‘æ´å¤§å¼€ï¼š</p>
<p>å›  opencode æ”¯æŒä»¥ Web æœåŠ¡å™¨çš„å½¢å¼è¿è¡Œï¼Œå¦‚æœä½ æŠŠ opencode éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šï¼Œç„¶åå†ç”¨æ‰‹æœºè®¿é—®ã€‚</p>
<p>é‚£ä½ å°±æ­å»ºäº†ä¸€ä¸ªæ‰‹æœºæ“ä½œçš„ opencodeï¼Œä»æ­¤ç¼–ç¨‹ä¸å†é™åˆ¶åœ¨ç”µè„‘ä¸Šï¼Œé‚£ä½ å°±æ‹¥æœ‰äº†éšæ—¶éšåœ°å¸®ä½ å¼€å‘çš„ AI ç¼–ç åŠ©æ‰‹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a8753f4f32864c868ab84e6a14d25e46~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmI5L2s5piU57yW56iL5Lq655Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770174422&amp;x-signature=edN7umdyIVJlAdmGzuP76NvDVMY%3D" alt="ç”Ÿæˆç‰¹å®šå›¾ç‰‡.png" loading="lazy"/></p>
<p>è€Œä¸”ä½ è¿˜å¯ä»¥åˆ©ç”¨æ‰‹æœºç«¯çš„è¯­éŸ³è¾“å…¥æ³•ï¼Œå®ç°çœŸçš„Vibe Codingã€‚</p>
<p>å¯ä»¥è¯´ï¼Œå¼€æºç¤¾åŒºå¤§å¤§æ¿€æ´»äº†å¤§å®¶çš„åˆ›æ„ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ•°æ®å·¥ç¨‹æ–°èŒƒå¼ï¼šNoETL ç»Ÿä¸€è¯­ä¹‰å±‚ç ´è§£è·¨å¢ƒç”µå•† ROI ç»Ÿç­¹ä¸æ•°æ®å­¤å²›éš¾é¢˜]]></title>    <link>https://juejin.cn/post/7599899147419189300</link>    <guid>https://juejin.cn/post/7599899147419189300</guid>    <pubDate>2026-01-28T03:11:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599899147419189300" data-draft-id="7599910677579333632" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ•°æ®å·¥ç¨‹æ–°èŒƒå¼ï¼šNoETL ç»Ÿä¸€è¯­ä¹‰å±‚ç ´è§£è·¨å¢ƒç”µå•† ROI ç»Ÿç­¹ä¸æ•°æ®å­¤å²›éš¾é¢˜"/> <meta itemprop="keywords" content="æ•°æ®åˆ†æ"/> <meta itemprop="datePublished" content="2026-01-28T03:11:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Aloudataå¤§åº”ç§‘æŠ€"/> <meta itemprop="url" content="https://juejin.cn/user/1579340474099927"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ•°æ®å·¥ç¨‹æ–°èŒƒå¼ï¼šNoETL ç»Ÿä¸€è¯­ä¹‰å±‚ç ´è§£è·¨å¢ƒç”µå•† ROI ç»Ÿç­¹ä¸æ•°æ®å­¤å²›éš¾é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1579340474099927/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Aloudataå¤§åº”ç§‘æŠ€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T03:11:30.000Z" title="Wed Jan 28 2026 03:11:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"/>
<p>æœ¬æ–‡é¦–å‘äº Aloudata å®˜æ–¹æŠ€æœ¯åšå®¢ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fai.noetl.cn%2Fknowledge-base%2Fcross-border-ecommerce-roi-unify-semantic-layer" target="_blank" title="https://ai.noetl.cn/knowledge-base/cross-border-ecommerce-roi-unify-semantic-layer" ref="nofollow noopener noreferrer">ã€Šè·¨å¢ƒç”µå•† ROI ç»Ÿç­¹éš¾ï¼ŸNoETL ç»Ÿä¸€è¯­ä¹‰å±‚ç ´è§£äºšé©¬é€Šã€Shopify ä¸å¹¿å‘Šæ•°æ®å­¤å²›ã€‹</a>è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
<p><strong>æ‘˜è¦</strong>ï¼šè·¨å¢ƒç”µå•†ä¼ä¸šæ™®éé¢ä¸´äºšé©¬é€Šã€Shopifyã€å¹¿å‘Šå¹³å°ç­‰å¤šæºæ•°æ®å­¤å²›é—®é¢˜ï¼Œå¯¼è‡´è·¨å¹³å° ROI è®¡ç®—ä¸å‡†ã€å†³ç­–æ»åã€‚æœ¬æ–‡æ·±å…¥æ¢è®¨ä¼ ç»ŸETLä¸ç‰©ç†å®½è¡¨æ¨¡å¼çš„å±€é™æ€§ï¼Œå¹¶ä»‹ç»å¦‚ä½•é€šè¿‡ NoETL æŒ‡æ ‡å¹³å°æ„å»ºç»Ÿä¸€è¯­ä¹‰å±‚ï¼Œå®ç°ä¸šåŠ¡é€»è¾‘ä¸ç‰©ç†å­˜å‚¨çš„è§£è€¦ï¼Œä»è€Œè‡ªåŠ¨åŒ–æ•´åˆæ•°æ®ã€ä¿éšœæŒ‡æ ‡å£å¾„ä¸€è‡´ï¼Œå¹¶å®ç°ç§’çº§åˆ†æå“åº”ï¼Œä¸ºæ•°æ®å·¥ç¨‹ä¸æ•æ·åˆ†ææä¾›æ–°èŒƒå¼ã€‚</p>
<h3 data-id="heading-1">è·¨å¢ƒç”µå•†çš„ ROI ç»Ÿç­¹å›°å¢ƒï¼šä¸‰å¤§ç—›ç‚¹è¡¨ç°</h3>
<p>è·¨å¢ƒç”µå•†çš„æ—¥å¸¸è¿è¥æ˜¯å…¸å‹çš„å¤šå¹³å°ã€é«˜é¢‘æ¬¡ã€å¼ºæ—¶æ•ˆçš„â€œæ•æ€â€ä¸šåŠ¡ã€‚ä¼ä¸šæ™®éåœ¨äºšé©¬é€Šã€Shopify/ç‹¬ç«‹ç«™ã€Google/Facebook/TikTok å¹¿å‘Šå¹³å°ç­‰å¤šæ¡æˆ˜çº¿åŒæ—¶ä½œæˆ˜ã€‚ç„¶è€Œï¼Œè¿™ç§ä¸šåŠ¡æ¨¡å¼å¤©ç„¶å¸¦æ¥äº†æ•°æ®å‰²è£‚çš„é¡½ç–¾ï¼Œå¯¼è‡´æ ¸å¿ƒçš„ ROIï¼ˆæŠ•èµ„å›æŠ¥ç‡ï¼‰è®¡ç®—ä¸ç»Ÿç­¹é™·å…¥å›°å¢ƒã€‚</p>
<ol>
<li>
<p>æ•°æ®å‰²è£‚ï¼Œå…¨å±€æ´å¯Ÿç¼ºå¤±</p>
<ul>
<li>å¹³å°å£å’ï¼šäºšé©¬é€Šçš„ A9 ç®—æ³•æ•°æ®ã€Shopify çš„åº—é“ºè¿è¥æ•°æ®ã€å„å¹¿å‘Šå¹³å°çš„æŠ•æ”¾ä¸è½¬åŒ–æ•°æ®ï¼Œåˆ†æ•£åœ¨ä¸åŒç³»ç»Ÿä¸­ã€‚è¿™äº›å¹³å°çš„ API æ¥å£æ ‡å‡†ä¸ä¸€ã€æ•°æ®æ ¼å¼å„å¼‚ï¼Œå½¢æˆå¤©ç„¶çš„æŠ€æœ¯å£å’ã€‚</li>
<li>ä¸šåŠ¡ç›²åŒºï¼šä¼ä¸šæ— æ³•å‡†ç¡®è®¡ç®—â€œå…¨æ¸ é“ ROIâ€ã€‚ä¾‹å¦‚ï¼Œæ— æ³•å°† Facebook å¹¿å‘Šçš„ç‚¹å‡»æˆæœ¬ä¸æœ€ç»ˆåœ¨äºšé©¬é€Šäº§ç”Ÿçš„è®¢å•æ”¶å…¥ç²¾å‡†å…³è”ï¼Œå¯¼è‡´è¥é”€é¢„ç®—åˆ†é…å¦‚åŒâ€œç›²äººæ‘¸è±¡â€ï¼Œé”™å¤±é”€å”®æœºä¼šæˆ–é€ æˆèµ„æºæµªè´¹ã€‚</li>
</ul>
</li>
<li>
<p>å“åº”è¿Ÿç¼“ï¼Œé”™å¤±å¸‚åœºæ—¶æœº</p>
<ul>
<li>å†—é•¿é“¾è·¯ï¼šä¼ ç»Ÿæ¨¡å¼ä¸‹ï¼Œä»ä¸šåŠ¡æå‡ºä¸€ä¸ªè·¨å¹³å°çš„ ROI åˆ†æéœ€æ±‚ï¼ˆå¦‚â€œå¯¹æ¯” TikTok å’Œ Google Ads å¯¹æŸæ–°å“åœ¨åŒ—ç¾çš„å¼•æµæ•ˆæœâ€ï¼‰ï¼Œåˆ°æ•°æ®å·¥ç¨‹å¸ˆæ’æœŸã€å¼€å‘ ETL è„šæœ¬ã€ç‰©ç†æ‰“å®½ã€æµ‹è¯•ä¸Šçº¿ï¼Œå‘¨æœŸå¾€å¾€ä»¥â€œå‘¨â€ä¸ºå•ä½ã€‚</li>
<li>å†³ç­–æ»åï¼šé¢å¯¹ç›´æ’­å¸¦è´§ã€èŠ‚æ—¥å¤§ä¿ƒç­‰äº§ç”Ÿçš„â€œè„‰å†²å¼â€é”€å”®æ•°æ®ï¼ˆå¯å è®¢å•æ€»é‡ 23% ä»¥ä¸Šï¼‰ï¼Œä¼ ç»Ÿæ¶æ„æ— æ³•å®ç°åˆ†é’Ÿçº§çš„ç­–ç•¥è°ƒæ•´ï¼Œåº“å­˜ç§¯å‹ä¸æ–­è´§é£é™©å¹¶å­˜ï¼Œç›´æ¥ä¾µèš€åˆ©æ¶¦ã€‚</li>
</ul>
</li>
<li>
<p>å£å¾„æ··ä¹±ï¼Œä¿¡ä»»å±æœºå‡¸æ˜¾</p>
<ul>
<li>åˆ†æ•£å®šä¹‰ï¼šä¸ºå¿«é€Ÿå“åº”ä¸´æ—¶éœ€æ±‚ï¼Œä¸åŒåˆ†æå¸ˆåœ¨ä¸åŒ BI å·¥å…·æˆ–æŠ¥è¡¨ä¸­è‡ªè¡Œå®šä¹‰â€œå‡€åˆ©æ¶¦â€ã€â€œå¹¿å‘ŠROIâ€ç­‰æŒ‡æ ‡ï¼Œè®¡ç®—é€»è¾‘å­˜åœ¨å¾®å°å·®å¼‚ã€‚</li>
<li>æŠ¥è¡¨æ‰“æ¶ï¼šç®¡ç†å±‚å¸¸å‘ç°é”€å”®æŠ¥è¡¨ä¸è´¢åŠ¡æŠ¥è¡¨ä¸­çš„åŒä¸€æ ¸å¿ƒæŒ‡æ ‡æ•°æ®å¯¹ä¸ä¸Šï¼ŒIT éœ€è¦è€—è´¹å¤§é‡æ—¶é—´æ’æŸ¥å£å¾„å·®å¼‚ã€‚ä¸šåŠ¡éƒ¨é—¨é™·å…¥â€œæ•°æ®ä¸å¥½æ‰¾ã€æ‰¾äº†ä¸æ•¢ç”¨â€çš„çª˜å¢ƒï¼Œä¸¥é‡é˜»ç¢æ•°æ®é©±åŠ¨æ–‡åŒ–çš„å½¢æˆã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-2">æ ¹å› åˆ†æï¼šä¼ ç»Ÿâ€œå®½è¡¨æ¨¡å¼â€åœ¨æ•æ€ä¸šåŠ¡ä¸‹çš„å¿…ç„¶å¤±æ•ˆ</h3>
<p>ä¸Šè¿°ç—›ç‚¹å¹¶éå¶ç„¶ï¼Œè€Œæ˜¯ä¼ ç»Ÿæ•°æ®æ¶æ„ä¸è·¨å¢ƒç”µå•†ä¸šåŠ¡æœ¬è´¨çŸ›ç›¾æ¿€åŒ–çš„å¿…ç„¶ç»“æœã€‚è¿™ä¸€çŸ›ç›¾é›†ä¸­ä½“ç°ä¸ºÂ â€œæ•°æ®åˆ†æçš„ä¸å¯èƒ½ä¸‰è§’â€ï¼šä¸šåŠ¡è¿½æ±‚æè‡´çµæ´»çš„åˆ†æï¼Œç®¡ç†å±‚è¦æ±‚ç»å¯¹ç»Ÿä¸€çš„å£å¾„ï¼Œè€Œå·¥ç¨‹å›¢é˜Ÿéœ€è¦åœ¨æœ‰é™æˆæœ¬ä¸‹ä¿éšœæŸ¥è¯¢æ€§èƒ½ã€‚ä¸ºäº†å¹³è¡¡ï¼Œä¼ä¸šä¸å¾—ä¸ä¾èµ–â€œäººå·¥é¢„è®¡ç®—â€çš„å®½è¡¨æ¨¡å¼ï¼Œä½†è¿™åœ¨æ•æ€ä¸šåŠ¡ä¸‹å·²èµ°å‘ç»ˆç»“ã€‚</p>
<ol>
<li>äººå·¥é¢„è®¡ç®—çš„æ•°å­¦æé™ï¼šè¯•å›¾é€šè¿‡é¢„å»ºç‰©ç†å®½è¡¨æ¥åº”å¯¹ AI æ™ºèƒ½ä½“ï¼ˆAgentï¼‰æˆ–ä¸šåŠ¡äººå‘˜æå‡ºçš„å‘æ•£æ€§ã€éé¢„è®¾çš„åˆ†æéœ€æ±‚ï¼ˆå¦‚â€œå¯¹æ¯”åŒ—ç¾å’Œæ¬§æ´²å¸‚åœºï¼ŒTikTok ä¸ Facebook å¹¿å‘Šå¯¹ A å“ç±»æ–°å®¢çš„ ROI è´¡çŒ®â€ï¼‰ï¼Œç‰©ç†è¡¨çš„æ•°é‡å°†éšç»´åº¦ç»„åˆå‘ˆæŒ‡æ•°çº§çˆ†ç‚¸ã€‚è¿™åœ¨å·¥ç¨‹å’Œç»´æŠ¤ä¸Šæ˜¯ä¸å¯æŒç»­çš„ç©·ä¸¾æ³•ã€‚</li>
<li>é€»è¾‘ä¸ç‰©ç†çš„ç´§è€¦åˆä¹‹æ®‡ï¼šä¸šåŠ¡è¯­ä¹‰ï¼ˆå¦‚â€œæœ‰æ•ˆè®¢å•â€ï¼‰è¢«ç¡¬ç¼–ç åœ¨ ETL è„šæœ¬å’Œå›ºåŒ–çš„ç‰©ç†å®½è¡¨ï¼ˆDWS/ADSï¼‰ä¸­ã€‚ä»»ä½•ä¸šåŠ¡å£å¾„çš„å¾®è°ƒï¼Œéƒ½éœ€è¦åº•å±‚æ•°æ®é“¾è·¯çš„é‡æ–°å¼€å‘ã€æ•°æ®å›åˆ·å’Œä»»åŠ¡è°ƒåº¦ï¼Œå˜æ›´æˆæœ¬é«˜æ˜‚ï¼Œä¸”ææ˜“åœ¨å¤šä¸ªå®½è¡¨é—´äº§ç”Ÿä¸ä¸€è‡´ï¼Œå½¢æˆæ²‰é‡çš„â€œæŠ€æœ¯å€ºåŠ¡â€ã€‚</li>
<li>äººæ‰ä¸æˆæœ¬çš„åŒé‡å‹åŠ›ï¼šä¸“ä¸šæ•°æ®äººæ‰ç¼ºå£å·¨å¤§ï¼Œè€Œæ•°æ®å›¢é˜Ÿå¤§é‡ç²¾åŠ›æ¶ˆè€—åœ¨é‡å¤çš„å®½è¡¨å¼€å‘ä¸è¿ç»´ä¸­ã€‚åŒæ—¶ï¼Œå†—ä½™çš„å®½è¡¨åŠ å·¥å¯¼è‡´ä¼ä¸šæ¹–ä»“æ•°æ®å¹³å‡å†—ä½™ 5 å€ä»¥ä¸Šï¼Œé€ æˆå·¨å¤§çš„å­˜å‚¨ä¸è®¡ç®—èµ„æºæµªè´¹ã€‚</li>
</ol>
<h3 data-id="heading-3">æ–°èŒƒå¼è§£æ³•ï¼šNoETL ç»Ÿä¸€è¯­ä¹‰å±‚å¦‚ä½•é‡æ„æ•°æ®ä¾›åº”é“¾</h3>
<p>è¦æ ¹æ²»æ•°æ®å­¤å²›ï¼Œå¿…é¡»ä»æ¶æ„å±‚é¢è¿›è¡ŒèŒƒå¼é‡æ„ã€‚NoETL è¯­ä¹‰ç¼–ç»‡çš„æ ¸å¿ƒåœ¨äºÂ å°†ä¸šåŠ¡é€»è¾‘ï¼ˆé€»è¾‘å®šä¹‰ï¼‰ä¸ç‰©ç†å­˜å‚¨å’Œè®¡ç®—ï¼ˆç‰©ç†æ‰§è¡Œï¼‰å½»åº•è§£è€¦ï¼Œåœ¨ä¼ä¸šæ˜ç»†æ•°æ®å±‚ï¼ˆDWDï¼‰ä¹‹ä¸Šï¼Œæ„å»ºä¸€ä¸ªç»Ÿä¸€ã€ä¸­ç«‹ã€æ™ºèƒ½çš„è¯­ä¹‰å±‚ã€‚</p>








































<table><thead><tr><th>å¯¹æ¯”ç»´åº¦</th><th>ä¼ ç»Ÿå®½è¡¨æ¨¡å¼</th><th>NoETL è¯­ä¹‰ç¼–ç»‡æ¨¡å¼</th></tr></thead><tbody><tr><td>æ ¸å¿ƒæ¶æ„</td><td>ODS -&gt; DWD -&gt;Â DWS/ADSï¼ˆç‰©ç†å®½è¡¨ï¼‰Â -&gt; BI</td><td>ODS -&gt; DWD -&gt;Â ç»Ÿä¸€è¯­ä¹‰å±‚ï¼ˆé€»è¾‘è™šæ‹Ÿï¼‰Â -&gt; BI/AI</td></tr><tr><td>å¼€å‘æ–¹å¼</td><td>æ‰‹åŠ¨ç¼–å†™ ETL è„šæœ¬ï¼Œç‰©ç†æ‰“å®½</td><td>å£°æ˜å¼å®šä¹‰æŒ‡æ ‡ã€ç»´åº¦ä¸å…³è”å…³ç³»</td></tr><tr><td>çµæ´»æ€§</td><td>ç»´åº¦å›ºå®šï¼Œæ–°éœ€æ±‚éœ€é‡æ–°å¼€å‘å®½è¡¨ï¼ˆå“åº”ä»¥å‘¨è®¡ï¼‰</td><td>ä¸€ä¸ªæŒ‡æ ‡æ”¯æŒä»»æ„ç»´åº¦ç»„åˆåˆ†æï¼ˆå“åº”ä»¥åˆ†é’Ÿè®¡ï¼‰</td></tr><tr><td>ä¸€è‡´æ€§</td><td>å£å¾„åˆ†æ•£åœ¨ä¸åŒå®½è¡¨ï¼Œæ˜“â€œæ‰“æ¶â€</td><td>ä¸€æ¬¡å®šä¹‰ï¼Œå¤„å¤„æ¶ˆè´¹ï¼Œå£å¾„ 100% ä¸€è‡´</td></tr><tr><td>æ€§èƒ½ä¿éšœ</td><td>ä¾èµ–é¢„è®¡ç®—çš„å®½è¡¨ï¼Œæ— æ³•åº”å¯¹å‘æ•£æŸ¥è¯¢</td><td>åŸºäºå£°æ˜å¼ç­–ç•¥çš„æ™ºèƒ½ç‰©åŒ–åŠ é€Ÿï¼Œå®ç°ç™¾äº¿æ˜ç»†ç§’çº§å“åº”</td></tr><tr><td>æ€»æ‹¥æœ‰æˆæœ¬</td><td>é«˜ï¼ˆé‡å¤åŠ å·¥ã€å†—ä½™å­˜å‚¨ã€äººåŠ›å¯†é›†ï¼‰</td><td>ä½ï¼ˆæ¶æ„ç®€åŒ–ã€æŒ‰éœ€åŠ é€Ÿã€è‡ªåŠ¨åŒ–è¿ç»´ï¼‰</td></tr></tbody></table>
<p>å…·ä½“å®ç°æœºåˆ¶ï¼š</p>
<ol>
<li>
<p>å£°æ˜å¼å®šä¹‰ï¼Œè™šæ‹Ÿå…³è”ï¼šæ•°æ®å·¥ç¨‹å¸ˆæ— éœ€ç¼–å†™ JOIN çš„ ETL è„šæœ¬ï¼Œç›´æ¥åœ¨å¹³å°ç•Œé¢å£°æ˜â€œäºšé©¬é€Šè®¢å•è¡¨â€ä¸â€œFacebook å¹¿å‘Šç‚¹å‡»è¡¨â€çš„é€»è¾‘å…³è”å…³ç³»ã€‚å¹³å°æ®æ­¤æ„å»ºä¸€ä¸ªè¦†ç›–å…¨åŸŸçš„Â â€œè™šæ‹Ÿä¸šåŠ¡äº‹å®ç½‘ç»œâ€Â ï¼Œä¸šåŠ¡äººå‘˜é¢å¯¹çš„æ˜¯ä¸€ä¸ªå·²é€»è¾‘å…³è”çš„æ¸…æ™°æ•°æ®è§†å›¾ï¼Œæ— éœ€å…³å¿ƒåº•å±‚ç‰©ç†è¡¨ç»“æ„ã€‚</p>
</li>
<li>
<p>è‡ªåŠ¨åŒ–ç”Ÿäº§ï¼Œæ™ºèƒ½åŠ é€Ÿï¼š</p>
<ul>
<li>æŸ¥è¯¢ç”Ÿæˆï¼šå½“ä¸šåŠ¡äººå‘˜æ‹–æ‹½æŒ‡æ ‡è¿›è¡Œ ROI åˆ†ææ—¶ï¼Œå¹³å°è¯­ä¹‰å¼•æ“è‡ªåŠ¨å°†æ“ä½œç¿»è¯‘ä¸ºé«˜æ•ˆã€ä¼˜åŒ–çš„ SQLã€‚</li>
<li>æ€§èƒ½æœåŠ¡ï¼šç®¡ç†å‘˜å¯å£°æ˜å¼åœ°æŒ‡å®šéœ€è¦åŠ é€Ÿçš„æŒ‡æ ‡å’Œç»´åº¦ç»„åˆï¼ˆå¦‚â€œåŒ—ç¾åŒºå¹¿å‘Š ROIâ€ï¼‰ï¼Œå¹³å°æ™ºèƒ½ç‰©åŒ–å¼•æ“æ ¹æ®å£°æ˜è‡ªåŠ¨åˆ›å»ºã€è¿ç»´ç‰©åŒ–è§†å›¾ï¼ˆåŠ é€Ÿè¡¨ï¼‰ï¼Œå¹¶åœ¨æŸ¥è¯¢æ—¶å®ç°é€æ˜çš„æ™ºèƒ½è·¯ç”±ä¸ SQL æ”¹å†™ï¼Œåœ¨ä¿éšœæè‡´çµæ´»æ€§çš„åŒæ—¶ï¼Œåšåˆ°å¯¹ä¸šåŠ¡é€æ˜çš„ç§’çº§å“åº”ã€‚è¯¥å¼•æ“æ”¯æŒå¯¹å»é‡è®¡æ•°ã€æ¯”ç‡ç±»ç­‰ä¸å¯ç´¯åŠ æŒ‡æ ‡è¿›è¡Œç‰©åŒ–ä¸Šå·ã€‚</li>
</ul>
</li>
<li>
<p>ç»Ÿä¸€æœåŠ¡ï¼Œä¸€æ¬¡å®šä¹‰å¤„å¤„æ¶ˆè´¹ï¼šé€šè¿‡æ ‡å‡†åŒ–çš„ Restful API å’Œ JDBC æ¥å£ï¼Œå°†ç»è¿‡ä¸¥æ ¼æ²»ç†çš„æŒ‡æ ‡ï¼ˆå¦‚â€œè·¨å¢ƒç»¼åˆ ROIâ€ï¼‰åŒæ—¶æä¾›ç»™ï¼š</p>
<ul>
<li>BIå·¥å…·ï¼šå¦‚æ·±åº¦èåˆçš„ FineBIã€Quick BIï¼Œæˆ–é€šè¿‡ JDBC å¯¹æ¥çš„å…¶ä»– BI å·¥å…·ã€‚</li>
<li>ä¸šåŠ¡ç³»ç»Ÿï¼šCRMã€ERP ç­‰ã€‚</li>
<li>AIæ•°æ®åˆ†æåŠ©æ‰‹ï¼ˆAgentï¼‰ï¼šæä¾›ç»“æ„åŒ–çš„è¯­ä¹‰ APIã€‚</li>
<li>åŠå…¬è½¯ä»¶ï¼šé€šè¿‡ä¸“ç”¨æ’ä»¶åœ¨ WPS è¡¨æ ¼ä¸­ç›´æ¥è°ƒç”¨ã€‚<br/>
ç¡®ä¿å…¨å…¬å¸æ¶ˆè´¹åŒä¸€ä»½â€œæ•°å­—çœŸç†â€ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-4">å››æ­¥å®è·µè·¯å¾„ï¼šä»æ•°æ®å­¤å²›åˆ°æ•æ·æ´å¯Ÿ</h3>
<p>å¼•å…¥ NoETL æ–°èŒƒå¼å¹¶éä¸€åœºâ€œæ¨å€’é‡æ¥â€çš„é©å‘½ï¼Œè€Œåº”é‡‡ç”¨æ¸è¿›å¼ç­–ç•¥ï¼Œå¹³æ»‘æ¼”è¿›ï¼Œä»·å€¼é©±åŠ¨ã€‚</p>
<ol>
<li>å­˜é‡æŒ‚è½½ï¼ˆç»Ÿä¸€å‡ºå£ï¼‰ï¼šå°†ç°æœ‰ç¨³å®šã€æ€§èƒ½å°šå¯çš„ç‰©ç†å®½è¡¨å¿«é€Ÿæ¥å…¥å¹³å°ï¼Œæ˜ å°„ä¸ºé€»è¾‘è§†å›¾ã€‚ä»·å€¼ï¼šé›¶å¼€å‘æˆæœ¬ï¼Œè¿…é€Ÿå»ºç«‹ç»Ÿä¸€çš„æŒ‡æ ‡æœåŠ¡å‡ºå£ï¼Œè§£å†³å–æ•°æ··ä¹±çš„ç‡ƒçœ‰ä¹‹æ€¥ï¼Œä¿æŠ¤å†å²æŠ•èµ„ã€‚</li>
<li>å¢é‡åŸç”Ÿï¼ˆæ•æ·å“åº”ï¼‰ï¼šæ‰€æœ‰æ–°äº§ç”Ÿçš„åˆ†æéœ€æ±‚ï¼Œå°¤å…¶æ˜¯è·¨å¹³å° ROI å½’å› ç­‰å¤æ‚åœºæ™¯ï¼Œç›´æ¥åŸºäº DWD æ˜ç»†æ•°æ®åœ¨è¯­ä¹‰å±‚è¿›è¡Œå£°æ˜å¼å®šä¹‰ï¼Œç”±å¹³å°è‡ªåŠ¨åŒ–ç”Ÿäº§ã€‚ä»·å€¼ï¼šå®ç° T+0 æ•æ·å“åº”ï¼Œä»æºå¤´éåˆ¶æ–°å€ºäº§ç”Ÿï¼ŒéªŒè¯å¹³å°ä»·å€¼ã€‚</li>
<li>å­˜é‡æ›¿æ—§ï¼ˆé™æœ¬å¢æ•ˆï¼‰ï¼šè¯†åˆ«å¹¶é€æ­¥ä¸‹çº¿é‚£äº›é«˜è€—èƒ½ã€éš¾ç»´æŠ¤ã€é€»è¾‘å˜æ›´é¢‘ç¹çš„â€œåŒ…è¢±å‹â€æ—§å®½è¡¨ ETL ä»»åŠ¡ï¼Œç”¨è¯­ä¹‰å±‚æ¨¡å‹æ›¿ä»£ã€‚ä»·å€¼ï¼šé‡Šæ”¾æ˜‚è´µçš„è®¡ç®—ä¸å­˜å‚¨èµ„æºï¼Œé™ä½æ€»æ‹¥æœ‰æˆæœ¬ï¼ˆTCOï¼‰ï¼Œå°†â€œæ­»é€»è¾‘â€ç›˜æ´»ã€‚</li>
<li>ç”Ÿæ€èåˆï¼ˆæ·±åŒ–ä»·å€¼ï¼‰ï¼šå°†è¯­ä¹‰å±‚æŒ‡æ ‡æœåŠ¡é€šè¿‡ API å¹¿æ³›èµ‹èƒ½ç»™ BI æŠ¥è¡¨ã€ä¸šåŠ¡è¿è¥ç³»ç»ŸåŠ AI åº”ç”¨ï¼Œæ„å»ºä¼ä¸šçº§æ•°æ®ä¸­æ¢ã€‚ä»·å€¼ï¼šåŸ¹è‚²æ•°æ®é©±åŠ¨æ–‡åŒ–ï¼Œå®ç°æ•°æ®ä»·å€¼çš„æœ€å¤§åŒ–ã€‚</li>
</ol>
<h3 data-id="heading-5">æ¡ˆä¾‹éªŒè¯ï¼šNoETL å¦‚ä½•é©±åŠ¨è·¨å¢ƒç”µå•†ä¸é›¶å”®å·¨å¤´ææ•ˆ</h3>
<p>NoETL èŒƒå¼å¹¶éç†è®ºç©ºæƒ³ï¼Œå·²åœ¨é‡‘èã€é›¶å”®ç­‰å¤æ‚æ•°æ®åœºæ™¯çš„å¤´éƒ¨ä¼ä¸šä¸­å¾—åˆ°æˆåŠŸéªŒè¯ï¼Œå…¶è§£å†³æ•°æ®æ•´åˆä¸æ•æ·åˆ†æé—®é¢˜çš„èƒ½åŠ›å…·æœ‰æ™®é€‚æ€§ã€‚</p>
<ul>
<li>æŸå¤´éƒ¨åˆ¸å•†ï¼šåŸºäº Aloudata CAN æ„å»ºæŒ‡æ ‡â€œç®¡ç ”ç”¨â€ä¸€ä½“åŒ–ä½“ç³»ï¼Œæ›¿ä»£ä¼ ç»Ÿ ETL å¼€å‘ï¼Œå®ç°å¼€å‘ææ•ˆ 50%ï¼Œåˆ†ææé€Ÿ 10 å€ï¼ŒæŒ‡æ ‡å£å¾„ 100% ä¸€è‡´ï¼Œä¸ºæ™ºèƒ½å†³ç­–å¥ å®šäº†åšå®çš„å¯ä¿¡æ•°æ®åº•åº§ã€‚</li>
<li>éº¦å½“åŠ³ä¸­å›½ï¼šæ„å»ºâ€œç®¡ç ”ç”¨â€ä¸€ä½“çš„ NoETL æŒ‡æ ‡ä¸­å°ï¼Œæ²‰æ·€ä¸Šåƒä¸ªæ ‡å‡†æŒ‡æ ‡ï¼Œç»Ÿä¸€ API æœåŠ¡è¦†ç›– 30+ ä¸šåŠ¡åœºæ™¯ï¼Œæ—¥å‡æ”¯æ’‘ç™¾ä¸‡çº§ API è°ƒç”¨ï¼Œé©±åŠ¨å…¨åŸŸæ•°å­—åŒ–è¿è¥ï¼Œå¹¶ä¸º AI åº”ç”¨æä¾›å°±ç»ªçš„æ•°æ®åº•åº§ã€‚</li>
<li>æ™®éä»·å€¼ï¼šæ®ä¼—å¤šæ¡ˆä¾‹éªŒè¯ï¼Œå®æ–½ NoETL æŒ‡æ ‡å¹³å°å¯å°†æŒ‡æ ‡ä¸Šçº¿å‘¨æœŸä»æ•°å‘¨ç¼©çŸ­åˆ°å°æ—¶ï¼Œè·¨éƒ¨é—¨æ•°æ®äº‰è®®ç‡é™ä½ 90% ä»¥ä¸Šï¼Œä»æŠ€æœ¯å±‚é¢ä¿éšœäº†æˆ˜ç•¥ç›®æ ‡çš„ç»Ÿä¸€æ‹†è§£ä¸é«˜æ•ˆæ‰§è¡Œã€‚</li>
</ul>
<h3 data-id="heading-6">è¡ŒåŠ¨å»ºè®®ï¼šå¯åŠ¨ä½ çš„æ•°æ®æ¶æ„å‡çº§</h3>
<p>é¢å¯¹æ•°æ®å­¤å²›å’Œ ROI ç»Ÿç­¹éš¾é¢˜ï¼Œè§‚æœ›å’Œä¿®è¡¥å·²æ— æ³•åº”å¯¹æœªæ¥çš„ç«äº‰ã€‚ä¼ä¸šåº”ä¸»åŠ¨è¯„ä¼°å¹¶å¼•å…¥ NoETL æ–°èŒƒå¼ï¼Œé€‰æ‹©ä¸€ä¸ªçœŸæ­£å…·å¤‡æ ¸å¿ƒèƒ½åŠ›çš„æŒ‡æ ‡å¹³å°ä½œä¸ºè½¬å‹åŸºåº§ã€‚</p>
<ol>
<li>
<p>æ˜ç¡®è¯„ä¼°ç»´åº¦ï¼šåœ¨é€‰å‹ POC ä¸­ï¼Œé‡ç‚¹è€ƒå¯Ÿå¹³å°æ˜¯å¦å…·å¤‡ï¼š</p>
<ul>
<li>åŸºäºæ˜ç»†æ•°æ®çš„â€œè™šæ‹Ÿå®½è¡¨â€æ„å»ºèƒ½åŠ›ï¼ˆèƒ½å¦å£°æ˜é€»è¾‘å…³è”ï¼Œæ‹’ç»ç‰©ç†æ‰“å®½ï¼‰ã€‚</li>
<li>å¤æ‚æŒ‡æ ‡çš„è¡¨è¾¾åŠ›ï¼ˆæ˜¯å¦æ”¯æŒè·¨è¡¨èšåˆã€äºŒæ¬¡èšåˆã€åŠ¨æ€ç»´åº¦ç­›é€‰ç­‰ï¼‰ã€‚</li>
<li>å£°æ˜å¼æ™ºèƒ½ç‰©åŒ–åŠ é€Ÿæœºåˆ¶ï¼ˆæ˜¯å¦åŸºäºç®¡ç†å‘˜å£°æ˜è‡ªåŠ¨è¿ç»´åŠ é€Ÿï¼Œè€Œéå…¨è‡ªåŠ¨æˆ–å…¨æ‰‹åŠ¨ï¼‰ã€‚</li>
<li>æ ‡å‡†çš„å¼€æ”¾æ¥å£ï¼ˆJDBC/APIï¼‰å’Œç”Ÿæ€èåˆèƒ½åŠ›ã€‚</li>
</ul>
</li>
<li>
<p>å¯åŠ¨ç¯å¡”é¡¹ç›®ï¼šé€‰æ‹©ä¸€æ¡ä¸šåŠ¡ä»·å€¼æ¸…æ™°ã€ç—›ç‚¹æ˜ç¡®çš„ä¸šåŠ¡çº¿ï¼ˆå¦‚Â â€œåŒ—ç¾å¸‚åœºå…¨æ¸ é“å¹¿å‘Šæ•ˆæœåˆ†æâ€Â ï¼‰ä½œä¸ºè¯•ç‚¹ã€‚èšç„¦äºè§£å†³è·¨å¹³å°æ•°æ®æ•´åˆä¸å®æ—¶ ROI åˆ†æçš„å…·ä½“é—®é¢˜ï¼Œå¿«é€ŸéªŒè¯å¹³å°èƒ½åŠ›ä¸ä¸šåŠ¡ä»·å€¼ã€‚</p>
</li>
<li>
<p>è§„åˆ’æ¸è¿›è·¯çº¿ï¼šé‡‡ç”¨ä¸Šè¿°Â â€œå››æ­¥å®è·µè·¯å¾„â€Â ï¼Œä»ç»Ÿä¸€æ•°æ®å‡ºå£å¼€å§‹ï¼Œé€æ­¥å®ç°æ–°éœ€æ±‚çš„æ•æ·å“åº”å’Œæ—§å€ºåŠ¡çš„æ¸…ç†ï¼Œæœ€ç»ˆæ„å»ºä¼ä¸šçº§æ™ºèƒ½æ•°æ®åŸºåº§ï¼Œä»å®¹åº”å¯¹ AI æ—¶ä»£çš„æŒ‘æˆ˜ã€‚</p>
</li>
</ol>
<h3 data-id="heading-7">FAQ</h3>
<h5 data-id="heading-8">Q1: NoETL å’Œä¼ ç»Ÿ ETL æœ€å¤§çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h5>
<p>ä¼ ç»Ÿ ETL éœ€è¦æ•°æ®å·¥ç¨‹å¸ˆæ‰‹åŠ¨ç¼–å†™è„šæœ¬ï¼Œå°†æ•°æ®åŠ å·¥æˆå›ºåŒ–çš„ç‰©ç†å®½è¡¨ï¼Œä¸šåŠ¡åˆ†æè¢«é™åˆ¶åœ¨é¢„å»ºçš„ç»´åº¦ç»„åˆå†…ã€‚NoETL é€šè¿‡ç»Ÿä¸€è¯­ä¹‰å±‚ï¼Œå°†ä¸šåŠ¡é€»è¾‘ï¼ˆæŒ‡æ ‡ã€ç»´åº¦ã€å…³è”ï¼‰ä¸ç‰©ç†å­˜å‚¨è§£è€¦ã€‚ä¸šåŠ¡äººå‘˜åœ¨è¯­ä¹‰å±‚é€šè¿‡å£°æ˜å¼ã€ç•Œé¢åŒ–çš„æ–¹å¼å®šä¹‰åˆ†æéœ€æ±‚ï¼Œç”±å¹³å°è‡ªåŠ¨ç”Ÿæˆæœ€ä¼˜æŸ¥è¯¢å¹¶åˆ©ç”¨æ™ºèƒ½ç‰©åŒ–åŠ é€Ÿä¿éšœæ€§èƒ½ï¼Œå®ç°äº†ä»â€œäººå·¥é“ºè·¯â€åˆ°â€œç³»ç»Ÿè‡ªåŠ¨é©¾é©¶â€çš„è½¬å˜ã€‚</p>
<h5 data-id="heading-9">Q2: NoETL å¦‚ä½•ä¿è¯è·¨å¹³å°æ•°æ®æ•´åˆæ—¶çš„æŸ¥è¯¢æ€§èƒ½ï¼Ÿ</h5>
<p>NoETL å¹¶éå–æ¶ˆæ‰€æœ‰è®¡ç®—ï¼Œè€Œæ˜¯é€šè¿‡æ™ºèƒ½ç‰©åŒ–å¼•æ“å°†é¢„è®¡ç®—å‡çº§ä¸ºä¸€ç§è‡ªåŠ¨åŒ–æ€§èƒ½æœåŠ¡ã€‚å¹³å°ä¼šæ ¹æ®ç®¡ç†å‘˜å£°æ˜çš„åŠ é€Ÿç­–ç•¥ï¼Œè‡ªåŠ¨åˆ›å»ºå¹¶è¿ç»´æœ€ä¼˜çš„ç‰©åŒ–è§†å›¾ã€‚å½“ç”¨æˆ·è¿›è¡Œå¤æ‚ ROI åˆ†ææ—¶ï¼ŒæŸ¥è¯¢ä¼šè¢«è‡ªåŠ¨ã€é€æ˜åœ°è·¯ç”±åˆ°æœ€åˆé€‚çš„ç‰©åŒ–ç»“æœä¸Šï¼Œä»è€Œå®ç°å¯¹åäº¿çº§æ˜ç»†æ•°æ®çš„ç§’çº§å“åº”ï¼ŒåŒæ—¶é¿å…äººå·¥ç®¡ç†ç‰©åŒ–è§†å›¾çš„å¤æ‚åº¦å’Œæµªè´¹ã€‚</p>
<h5 data-id="heading-10">Q3: å¼•å…¥ NoETL æŒ‡æ ‡å¹³å°ï¼Œå¯¹æˆ‘ä»¬ç°æœ‰çš„æ•°æ®ä»“åº“å’Œ BI å·¥å…·æœ‰ä½•å½±å“ï¼Ÿ</h5>
<p>NoETL å¹³å°è®¾è®¡ä¸ºä¸­ç«‹ã€å¼€æ”¾çš„åŸºåº§ï¼Œæ—¨åœ¨å¢å¼ºè€Œéå–ä»£ç°æœ‰æŠ•èµ„ã€‚å®ƒå¯ä»¥æ— ç¼å¯¹æ¥ä¼ä¸šå·²æœ‰çš„æ•°æ®æ¹–/ä»“ï¼ˆç›´æ¥è¯»å– DWD å±‚ï¼‰ï¼Œå¹¶é€šè¿‡æ ‡å‡† API/JDBC æ¥å£ä¸å„ç±» BI å·¥å…·ä»¥åŠä¸šåŠ¡ç³»ç»Ÿé›†æˆã€‚å¹³å°æˆä¸ºç»Ÿä¸€çš„æŒ‡æ ‡å®šä¹‰ã€è®¡ç®—å’ŒæœåŠ¡å‡ºå£ï¼Œä¸‹æ¸¸ BI å·¥å…·å›å½’ä¸ºçº¯ç²¹çš„â€œå¯è§†åŒ–æ¸²æŸ“å¼•æ“â€ï¼Œä»è€Œæ‰“ç ´å‚å•†é”å®šï¼Œå®ç°â€œä¸€ä¸ªæŒ‡æ ‡ï¼Œå¤„å¤„æ¶ˆè´¹â€ã€‚</p>
<h5 data-id="heading-11">Q4: NoETL å¦‚ä½•æ”¯æŒ AI æ•°æ®åˆ†æåŠ©æ‰‹ï¼ˆAgentï¼‰ï¼Ÿ</h5>
<p>NoETL ç»Ÿä¸€è¯­ä¹‰å±‚ä¸º AI æä¾›äº†ç»“æ„åŒ–çš„ã€æ— æ­§ä¹‰çš„â€œä¸šåŠ¡è¯­è¨€â€å’Œâ€œå·¥å…·â€ã€‚AI Agent ä¸å†éœ€è¦ç›´æ¥é¢å¯¹å¤æ‚çš„ç‰©ç†è¡¨ç”Ÿæˆæ˜“é”™çš„ SQLï¼Œè€Œæ˜¯é€šè¿‡è°ƒç”¨è¯­ä¹‰å±‚çš„æ ‡å‡† APIï¼Œä¼ å…¥æŒ‡æ ‡ã€ç»´åº¦ç­‰å‚æ•°ï¼Œç”±å¹³å°è´Ÿè´£ç²¾ç¡®è®¡ç®—å¹¶è¿”å›ç»“æœã€‚è¿™ä»æ ¹æœ¬ä¸Šæ¶ˆé™¤äº† AI çš„æ•°æ®å¹»è§‰ï¼Œå¹¶ä½¿å…¶èƒ½å¤ŸåŸºäºç¡®å®šæ€§çš„æŒ‡æ ‡è¿›è¡Œæ·±åº¦å½’å› ä¸æ´å¯Ÿã€‚</p>
<h3 data-id="heading-12">Key Takeawaysï¼ˆæ ¸å¿ƒè¦ç‚¹ï¼‰</h3>
<ol>
<li>æ¶æ„è§£è€¦æ˜¯æ ¹æœ¬ï¼šè·¨å¢ƒç”µå•†çš„ ROI ç»Ÿç­¹éš¾é¢˜ï¼Œæ ¹æºäºä¼ ç»Ÿâ€œå®½è¡¨æ¨¡å¼â€ä¸‹ä¸šåŠ¡é€»è¾‘ä¸ç‰©ç†å®ç°çš„ç´§è€¦åˆã€‚NoETL é€šè¿‡æ„å»ºç»Ÿä¸€è¯­ä¹‰å±‚ï¼Œå®ç°å½»åº•è§£è€¦ï¼Œæ˜¯æ²»æœ¬ä¹‹ç­–ã€‚</li>
<li>å£°æ˜å¼é©±åŠ¨è‡ªåŠ¨åŒ–ï¼šNoETL çš„æ ¸å¿ƒä¸æ˜¯å–æ¶ˆè®¡ç®—ï¼Œè€Œæ˜¯é€šè¿‡Â â€œå£°æ˜å¼ç­–ç•¥â€Â é©±åŠ¨æ™ºèƒ½ç‰©åŒ–åŠ é€Ÿä¸æŸ¥è¯¢ç”Ÿæˆï¼Œåœ¨ä¿éšœç™¾äº¿æ•°æ®ç§’çº§å“åº”çš„åŒæ—¶ï¼Œèµ‹äºˆä¸šåŠ¡å‰æ‰€æœªæœ‰çš„åˆ†æçµæ´»æ€§ã€‚</li>
<li>ç»Ÿä¸€å£å¾„é‡Šæ”¾ä»·å€¼ï¼šé€šè¿‡Â â€œä¸€æ¬¡å®šä¹‰ï¼Œå¤„å¤„æ¶ˆè´¹â€Â çš„æ ‡å‡†åŒ–æŒ‡æ ‡æœåŠ¡ï¼ŒNoETL å¹³å°èƒ½ç»ˆç»“æ•°æ®å£å¾„æ··ä¹±ï¼Œå»ºç«‹å…¬å¸çº§â€œæ•°å­—çœŸç†â€ï¼Œä¸ºç²¾å‡†å†³ç­–å’Œ AI åº”ç”¨æä¾›å¯ä¿¡åº•åº§ï¼ŒçœŸæ­£é‡Šæ”¾æ•°æ®ç”Ÿäº§åŠ›ã€‚</li>
</ol>
<hr/>
<p>æœ¬æ–‡é¦–å‘äº Aloudata å®˜æ–¹æŠ€æœ¯åšå®¢ï¼ŒæŸ¥çœ‹æ›´å¤šæŠ€æœ¯ç»†èŠ‚ä¸é«˜æ¸…å›¾è¡¨ï¼Œè¯·è®¿é—®åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fai.noetl.cn%2Fknowledge-base%2Fcross-border-ecommerce-roi-unify-semantic-layer" target="_blank" title="https://ai.noetl.cn/knowledge-base/cross-border-ecommerce-roi-unify-semantic-layer" ref="nofollow noopener noreferrer">ai.noetl.cn/knowledge-bâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>