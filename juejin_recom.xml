<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[åˆè¯†next-authï¼Œå’Œåœ¨å®é™…åº”ç”¨ä¸­çš„å‡ ä¸ªåŸºæœ¬åœºæ™¯ï¼ˆæœ¬æ–‡ä»¥v5ä¸ºä¾‹ï¼Œv4å’Œv5çš„å·®åˆ«ä¸»è¦æ˜¯åœ¨ä¸ªåˆ«æ˜¾å¼é…ç½®å’Œapiï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥çœ‹å®˜ç½‘æ•™ç¨‹å­¦ä¹ ï¼‰]]></title>    <link>https://juejin.cn/post/7595147871939379246</link>    <guid>https://juejin.cn/post/7595147871939379246</guid>    <pubDate>2026-01-15T02:53:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595147871939379246" data-draft-id="7595096774547341321" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆè¯†next-authï¼Œå’Œåœ¨å®é™…åº”ç”¨ä¸­çš„å‡ ä¸ªåŸºæœ¬åœºæ™¯ï¼ˆæœ¬æ–‡ä»¥v5ä¸ºä¾‹ï¼Œv4å’Œv5çš„å·®åˆ«ä¸»è¦æ˜¯åœ¨ä¸ªåˆ«æ˜¾å¼é…ç½®å’Œapiï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥çœ‹å®˜ç½‘æ•™ç¨‹å­¦ä¹ ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,Next.js"/> <meta itemprop="datePublished" content="2026-01-15T02:53:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="RedHeartWWW"/> <meta itemprop="url" content="https://juejin.cn/user/3263006243293768"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆè¯†next-authï¼Œå’Œåœ¨å®é™…åº”ç”¨ä¸­çš„å‡ ä¸ªåŸºæœ¬åœºæ™¯ï¼ˆæœ¬æ–‡ä»¥v5ä¸ºä¾‹ï¼Œv4å’Œv5çš„å·®åˆ«ä¸»è¦æ˜¯åœ¨ä¸ªåˆ«æ˜¾å¼é…ç½®å’Œapiï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥çœ‹å®˜ç½‘æ•™ç¨‹å­¦ä¹ ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3263006243293768/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    RedHeartWWW
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-15T02:53:44.000Z" title="Thu Jan 15 2026 02:53:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    11
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€whatï¼Œæ˜ç¡®next-authæ˜¯ä¸€ä¸ªç”¨æ¥åšä»€ä¹ˆçš„åº“</h2>
<p>next-authæ˜¯nextjså®˜æ–¹æ¨å‡ºï¼Œä¸“é—¨ç”¨äºnextjsé¡¹ç›®ä¸­è¿›è¡Œ<strong>ç™»å½•è®¤è¯</strong>çš„æœ€ä¸»æµåº“ã€‚</p>
<h2 data-id="heading-1">äºŒã€whyï¼Œæ˜ç¡®ä¸ºä»€ä¹ˆè¦ç”¨next-authè¿™ä¸ªåº“</h2>
<p>next-authé€šè¿‡éå¸¸ç®€æ´æ˜ç¡®çš„é…ç½®ï¼Œè®©å¼€å‘è€…é¿å…ä»0å¼€å‘ä¸€å¥—å®Œå¤‡çš„<strong>èƒ½é€‚åº”å„ç§åœºæ™¯çš„ç™»å½•è®¤è¯é€»è¾‘</strong>ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå¼•å…¥åº“ä¹‹åï¼Œå¯¹å¼€å‘è€…æ¥è¯´åªéœ€è¦ä¸“æ³¨äºæœ¬ç³»ç»Ÿçš„åŸºæœ¬è®¤è¯ï¼Œå…¶ä½™å¯¹æ¥githubã€twitterã€Facebookç­‰ç¬¬ä¸‰æ–¹ç™»å½•çš„åœºæ™¯ï¼Œå¼€å‘è€…åªéœ€è¦åœ¨é…ç½®ä¸­å¢åŠ next-authåº“å†…ç½®çš„é…ç½®é¡¹å³å¯ï¼Œéå¸¸æ–¹ä¾¿ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> <span class="hljs-title class_">NextAuth</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"next-auth"</span>
...
<span class="hljs-comment">// ä¸‹é¢ä¸¤ä¸ªå°±æ˜¯authåº“ä¸­å†…ç½®çš„é’ˆå¯¹githubå’Œæ¨ç‰¹ç™»å½•åœºæ™¯çš„provider</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">GitHub</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"next-auth/providers/github"</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Twitter</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"next-auth/providers/twitter"</span>
...
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> { auth, signIn, signOut, handlers } = <span class="hljs-title class_">NextAuth</span>({
  ...authConfig,
  <span class="hljs-attr">providers</span>: [
    <span class="hljs-title class_">GitHub</span>,
    <span class="hljs-title class_">Twitter</span>,
    <span class="hljs-comment">// è¿™ä¸ªæ˜¯å¼€å‘è€…å¯ä»¥è‡ªå®šä¹‰çš„é€»è¾‘</span>
    <span class="hljs-title class_">Credentials</span>({...})
  ]

</code></pre>
<h2 data-id="heading-2">ä¸‰ã€howï¼Œå¦‚ä½•ä½¿ç”¨next-authè¿™ä¸ªåº“</h2>
<h4 data-id="heading-3">1. next-authåŸºæœ¬é…ç½®é¡¹ï¼ˆå®˜ç½‘æœ‰æ–‡æ¡£ï¼Œæ­¤å¤„ä»…ä»¥æ¡ˆä¾‹é˜è¿°ä¸ªäººå­¦ä¹ ä¸­è®¤ä¸ºæœ€ç»ˆçš„å‡ ä¸ªï¼‰</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// æ­¤å¤„æ˜¯next-auth</span>
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">NextAuthConfig</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"next-auth"</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> authConfig = {
  <span class="hljs-comment">// ç”¨æ¥å‘Šè¯‰NextAuthä½ çš„é¡µé¢è·¯ç”±åœ¨å“ªé‡Œï¼ŒNextAuthé»˜è®¤çš„é¡µé¢éå¸¸éš¾çœ‹</span>
  <span class="hljs-attr">pages</span>: {
    <span class="hljs-attr">signIn</span>: <span class="hljs-string">"/login"</span>,
  },
  <span class="hljs-comment">// callbackså¯ä»¥ç²—ç•¥çœ‹æˆæ˜¯å®é™…ä¸Šæ§åˆ¶æƒé™å’Œæ•°æ®æµå‘çš„åœ°æ–¹</span>
  <span class="hljs-comment">// å…·ä½“æ–‡æ¡£é…ç½®å¯ä»¥å‚è€ƒ https://next-auth.js.org/configuration/callbacks</span>
  <span class="hljs-comment">// ä¸‹é¢åªæ˜¯åšä¸€ä¸ªç”¨å¤„è¯´æ˜</span>
  <span class="hljs-attr">callbacks</span>: {
    <span class="hljs-comment">// åœ¨å®é™…ç™»é™†ä¹‹å‰æ‹¦æˆªï¼Œæ£€éªŒæ§åˆ¶ç”¨æˆ·æ˜¯å¦èƒ½æˆåŠŸç™»å½•ï¼Œ</span>
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">signIn</span>(<span class="hljs-params">{ user, account, profile, email, credentials }</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
    },
    <span class="hljs-comment">// å¦‚æœæœ‰è®¾ç½®ï¼Œå¯ä»¥æ§åˆ¶ç™»å½•æˆåŠŸä¹‹åï¼Œé‡å®šå‘åˆ°å…·ä½“æŸä¸ªåœ°å€</span>
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">redirect</span>(<span class="hljs-params">{ url, baseUrl }</span>) {
      <span class="hljs-keyword">return</span> baseUrl
    },
    <span class="hljs-comment">// æ­¤å¤„æ˜¯ç”¨äºè¯»å–æˆåŠŸç™»å½•ä¹‹åï¼Œè¿›å…¥å®é™…ç½‘é¡µä¹‹å‰è¦†å†™sessionçš„åœ°æ–¹</span>
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">session</span>(<span class="hljs-params">{ session, user, token }</span>) {
      <span class="hljs-keyword">return</span> session
    },
    <span class="hljs-comment">// æ­¤å¤„æ˜¯ç”¨äºè¯»å–æˆåŠŸç™»å½•ä¹‹åï¼Œè¿›å…¥å®é™…ç½‘é¡µä¹‹å‰è¦†å†™tokençš„åœ°æ–¹</span>
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">jwt</span>(<span class="hljs-params">{ token, user, account, profile, isNewUser }</span>) {
      <span class="hljs-keyword">return</span> token
    }
    <span class="hljs-comment">// next-authä¸“é—¨é’ˆå¯¹middlewareå¢åŠ çš„è®¤è¯æ‹¦æˆªæ–¹æ³•ï¼Œv4æš‚ä¸æ”¯æŒ</span>
    <span class="hljs-title function_">authorized</span>(<span class="hljs-params">{ auth, request }</span>) {...},
  },
  <span class="hljs-comment">// providersæœ€èº«ä»½æä¾›è€…ï¼Œé€šå¸¸éƒ½æ˜¯åœ¨åŸºç¡€é…ç½®ä¸­è®¾ç½®ä¸ºç©ºæ•°ç»„ï¼Œç„¶åæŠ›å‡ºç»™å¤–éƒ¨è‡ªå·±å®šä¹‰ï¼Œæ­¤å¤„ä»…ä½œè¯´æ˜</span>
  <span class="hljs-comment">// providersçš„å€¼å°±åƒä¸Šé¢ä¸¾ä¾‹whyçš„éƒ¨åˆ†ä¸­åˆ—ä¸¾çš„</span>
  <span class="hljs-attr">providers</span>: [
    <span class="hljs-title class_">GitHub</span>,
    <span class="hljs-title class_">Twitter</span>,
    <span class="hljs-comment">// è¿™ä¸ªæ˜¯å®¢æˆ·è‡ªå·±å¼€å‘è®¤è¯é€»è¾‘</span>
    <span class="hljs-title class_">Credentials</span>({
      <span class="hljs-keyword">async</span> <span class="hljs-title function_">authorize</span>(<span class="hljs-params">credentials</span>) {...}
    }),
  ], 
} satisfies <span class="hljs-title class_">NextAuthConfig</span>

</code></pre>
<h4 data-id="heading-4">2. å’Œmiddlewareå¯¹æ¥å…³è”ï¼ˆåªæœ‰v5æœ‰è¿™ä¸ªç‰¹æ€§ï¼‰</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> { auth, signIn, signOut, handlers } = <span class="hljs-title class_">NextAuth</span>({...})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> auth
<span class="hljs-comment">// åŒ¹é…çš„è·¯ç”±</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> config = {
  <span class="hljs-attr">matcher</span>: [<span class="hljs-string">"..."</span>],
}
</code></pre>
<p>å®ä¾‹åŒ–æ ‡å‡†é…ç½®ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å‡ ä¸ªé€šç”¨æ–¹æ³•ï¼Œauthå°±æ˜¯ç»™åˆ°middwareä¸­ï¼Œå¯ä»¥ç›´æ¥ä½œä¸ºè·¯ç”±å®ˆå«ä½¿ç”¨ã€‚</p>
<h4 data-id="heading-5">3. å’Œactionså¯¹æ¥</h4>
<p>å®ä¾‹åŒ–authé…ç½®ä¹‹åï¼Œé™¤äº†authè¿™ä¸ªç”¨äºå®æ—¶è·å–å½“å‰ç™»å½•ä¿¡æ¯çš„æ–¹æ³•ï¼Œè¿˜æœ‰signInã€signOutç”¨äºç™»å½•å’Œç™»å‡ºã€‚å¦‚åœ¨action.tsä¸­ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-string">'use server'</span>
...
<span class="hljs-comment">// signé€šå¸¸ä¼ ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯providersä¸­çš„é”®å€¼å¯¹çš„é”®åï¼Œç¬¬äºŒä¸ªæ˜¯è¿™ä¸ªé”®åå¯¹åº”çš„ç™»é™†æ–¹å¼ç”¨åˆ°çš„å‚æ•°</span>
<span class="hljs-comment">// æ­¤å¤„ä¸ºå¼€å‘è€…è‡ªå®šä¹‰é€»è¾‘</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">authenticate</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">formData</span>) =&gt; {
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">signIn</span>(<span class="hljs-string">"credentials"</span>, formData)
}
...
<span class="hljs-comment">// æ­¤å¤„ä¸ºå¯¹æ¥github</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">authenticateGithub</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">signIn</span>(<span class="hljs-string">"github"</span>, { <span class="hljs-attr">redirectTo</span>: <span class="hljs-string">"/dashboard"</span> })
}
</code></pre>
<h4 data-id="heading-6">4ã€ä¸€å®šè¦æ³¨æ„é…ç½®è®¤è¯ä¸“ç”¨çš„routes.ts</h4>
<p>åœ¨ä½¿ç”¨NextAuthé€šè¿‡ç¬¬ä¸‰æ–¹ç™»å½•æ—¶ï¼Œä¸€å®šè¦æ³¨æ„åœ¨é¡¹ç›®ä¸­å¢åŠ \app\api\auth[...nextauth]\route.tsï¼Œè¿™ä¸ªæ¥å£æ–‡ä»¶ï¼Œå› ä¸ºå¯¹æ¥ç¬¬ä¸‰æ–¹ç™»å½•éƒ½éœ€è¦è¯·æ±‚/api/auth/å¼€å¤´çš„æ¥å£ã€‚æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { handlers } <span class="hljs-keyword">from</span> <span class="hljs-string">"@/auth"</span>
<span class="hljs-comment">// æ­¤å¤„çš„handlerså°±æ˜¯ä¸Šé¢å®ä¾‹åŒ–authé…ç½®ä¹‹åè·å¾—çš„handlersï¼Œè¿™ä¸ªæ—¶NextAuthä¸“é—¨ç”¨æ¥å¤„ç†ç¬¬ä¸‰æ–¹è®¤è¯çš„å†…ç½®è¾…åŠ©å‡½æ•°ï¼Œå®Œå…¨é»‘ç®±ï¼Œæ— éœ€é¢å¤–é…ç½®</span>
<span class="hljs-keyword">const</span> { <span class="hljs-variable constant_">GET</span>, <span class="hljs-variable constant_">POST</span> } = handlers
<span class="hljs-keyword">export</span> { <span class="hljs-variable constant_">GET</span>, <span class="hljs-variable constant_">POST</span> }

</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¾®ä¿¡å°ç¨‹åºå¤„ç†Rangeåˆ†ç‰‡è§†é¢‘æ’­æ”¾é—®é¢˜ï¼šå‰ç«¯è°ƒè¯•å…¨è®°å½•]]></title>    <link>https://juejin.cn/post/7595162224899637286</link>    <guid>https://juejin.cn/post/7595162224899637286</guid>    <pubDate>2026-01-15T02:54:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595162224899637286" data-draft-id="7595055962152468480" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¾®ä¿¡å°ç¨‹åºå¤„ç†Rangeåˆ†ç‰‡è§†é¢‘æ’­æ”¾é—®é¢˜ï¼šå‰ç«¯è°ƒè¯•å…¨è®°å½•"/> <meta itemprop="keywords" content="å‰ç«¯,å¾®ä¿¡å°ç¨‹åº"/> <meta itemprop="datePublished" content="2026-01-15T02:54:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="P7Dreamer_Matt"/> <meta itemprop="url" content="https://juejin.cn/user/2506542244440894"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¾®ä¿¡å°ç¨‹åºå¤„ç†Rangeåˆ†ç‰‡è§†é¢‘æ’­æ”¾é—®é¢˜ï¼šå‰ç«¯è°ƒè¯•å…¨è®°å½•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2506542244440894/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    P7Dreamer_Matt
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-15T02:54:23.000Z" title="Thu Jan 15 2026 02:54:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ¯ é—®é¢˜èµ·ç‚¹ï¼šä¸€ä¸ªä»¤äººå›°æƒ‘çš„é”™è¯¯</h2>
<blockquote>
<p>â€œè§†é¢‘æ˜æ˜å­˜åœ¨ï¼ŒæœåŠ¡å™¨ä¹Ÿè¿”å›äº†æ•°æ®ï¼Œä¸ºä»€ä¹ˆæ’­æ”¾å™¨å°±æ˜¯æ‰“ä¸å¼€ï¼Ÿâ€</p>
</blockquote>
<p><strong>åˆå§‹é”™è¯¯</strong>ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">DEMUXER_ERROR_COULD_NOT_OPEN: FFmpegDemuxer: open context failed
</code></pre>
<h2 data-id="heading-1">ğŸ” ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€éªŒè¯ - æˆ‘æ€€ç–‘è¿‡çš„ä¸€åˆ‡</h2>
<h3 data-id="heading-2">1.1 ç½‘ç»œè¿é€šæ€§æµ‹è¯•</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æœ€ç®€HEADè¯·æ±‚ï¼šæœåŠ¡å™¨è¿˜æ´»ç€å—ï¼Ÿ</span>
wx.<span class="hljs-title function_">request</span>({
  <span class="hljs-attr">url</span>: <span class="hljs-string">'https://119.45.31.76:18443/media/video?mediaId=43'</span>,
  <span class="hljs-attr">method</span>: <span class="hljs-string">'HEAD'</span>,
  <span class="hljs-attr">success</span>: <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'âœ… æœåŠ¡å™¨å“åº”æ­£å¸¸'</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ–‡ä»¶å¤§å°:'</span>, res.<span class="hljs-property">header</span>[<span class="hljs-string">'Content-Length'</span>]); <span class="hljs-comment">// 7,423,339å­—èŠ‚</span>
  }
});
</code></pre>
<p><strong>å‘ç°1</strong>ï¼šæœåŠ¡å™¨æ­£å¸¸ï¼Œæ–‡ä»¶å¤§å°çº¦7.1MBï¼Œçœ‹èµ·æ¥æ²¡é—®é¢˜ã€‚</p>
<h3 data-id="heading-3">1.2 æƒé™ä¸é‰´æƒæµ‹è¯•</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¸¦Tokençš„è¯·æ±‚ï¼šæ˜¯ä¸æ˜¯æƒé™é—®é¢˜ï¼Ÿ</span>
wx.<span class="hljs-title function_">request</span>({
  <span class="hljs-attr">url</span>: videoUrl,
  <span class="hljs-attr">header</span>: {
    <span class="hljs-string">'Token'</span>: wx.<span class="hljs-title function_">getStorageSync</span>(<span class="hljs-string">'token'</span>),
    <span class="hljs-string">'login-source'</span>: <span class="hljs-string">'wxcust'</span>
  },
  <span class="hljs-attr">success</span>: <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'é‰´æƒçŠ¶æ€ç :'</span>, res.<span class="hljs-property">statusCode</span>); <span class="hljs-comment">// 200</span>
  }
});
</code></pre>
<p><strong>å‘ç°2</strong>ï¼šé‰´æƒé€šè¿‡ï¼Œä¸æ˜¯æƒé™é—®é¢˜ã€‚</p>
<h2 data-id="heading-4">ğŸ•µï¸ ç¬¬äºŒé˜¶æ®µï¼šæ·±å…¥æ¢ç´¢ - é‚£äº›å…³é”®çš„æµ‹è¯•</h2>
<h3 data-id="heading-5">2.1 Rangeåˆ†ç‰‡æµ‹è¯•ï¼šä¸€ä¸ªé‡è¦çš„å‡è®¾</h3>
<p>æˆ‘æœ€åˆè®¤ä¸ºï¼šâ€œå¦‚æœæœåŠ¡å™¨æ”¯æŒåˆ†ç‰‡ï¼Œè§†é¢‘å°±åº”è¯¥èƒ½æ’­æ”¾ã€‚â€</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æµ‹è¯•Rangeè¯·æ±‚</span>
wx.<span class="hljs-title function_">request</span>({
  <span class="hljs-attr">url</span>: videoUrl,
  <span class="hljs-attr">header</span>: { <span class="hljs-string">'Range'</span>: <span class="hljs-string">'bytes=0-1023'</span> },
  <span class="hljs-attr">responseType</span>: <span class="hljs-string">'arraybuffer'</span>,
  <span class="hljs-attr">success</span>: <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'çŠ¶æ€ç :'</span>, res.<span class="hljs-property">statusCode</span>); <span class="hljs-comment">// 206 âœ“</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Content-Range:'</span>, res.<span class="hljs-property">header</span>[<span class="hljs-string">'Content-Range'</span>]); <span class="hljs-comment">// bytes 0-1023/7423339 âœ“</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å®é™…æ•°æ®å¤§å°:'</span>, res.<span class="hljs-property">data</span>.<span class="hljs-property">byteLength</span>); <span class="hljs-comment">// 1024 âœ“</span>
  }
});
</code></pre>
<p><strong>é‡è¦å‘ç°</strong>ï¼šæœåŠ¡å™¨å®Œç¾æ”¯æŒRangeè¯·æ±‚ï¼Œè¿”å›206çŠ¶æ€ç å’Œæ­£ç¡®çš„æ•°æ®èŒƒå›´ã€‚</p>
<h3 data-id="heading-6">2.2 æ–‡ä»¶å¤´åˆ†æï¼šç¬¬ä¸€ä¸ªçº¿ç´¢</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ£€æŸ¥æ–‡ä»¶å¤´ï¼Œçœ‹çœ‹æ˜¯ä»€ä¹ˆæ ¼å¼</span>
<span class="hljs-keyword">const</span> header = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(res.<span class="hljs-property">data</span>.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">12</span>));
<span class="hljs-keyword">const</span> hexStr = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(header)
  .<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">b</span> =&gt;</span> b.<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>).<span class="hljs-title function_">padStart</span>(<span class="hljs-number">2</span>, <span class="hljs-string">'0'</span>))
  .<span class="hljs-title function_">join</span>(<span class="hljs-string">' '</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ–‡ä»¶å¤´:'</span>, hexStr); <span class="hljs-comment">// 00 00 00 18 66 74 79 70 69 73 6F 6D</span>
</code></pre>
<p><strong>å‘ç°3</strong>ï¼šæ–‡ä»¶å¤´æ˜¾ç¤ºæœ‰<code>ftyp</code>åŸå­ï¼ˆ<code>66 74 79 70</code>ï¼‰ï¼Œç¡®è®¤æ˜¯MP4å®¹å™¨æ ¼å¼ã€‚</p>
<p><strong>æ­¤æ—¶çš„æƒ³æ³•</strong>ï¼šâ€œMP4æ ¼å¼ï¼ŒæœåŠ¡å™¨æ”¯æŒåˆ†ç‰‡ï¼Œä¸ºä»€ä¹ˆè¿˜ä¸èƒ½æ’­æ”¾ï¼Ÿâ€</p>
<h2 data-id="heading-7">ğŸ”¬ ç¬¬ä¸‰é˜¶æ®µï¼šç³»ç»Ÿæ€§æ’æŸ¥ - ä»å‰ç«¯è§†è§’æ·±æŒ–</h2>
<h3 data-id="heading-8">3.1 è®¾è®¡å¤šä½ç½®é‡‡æ ·æµ‹è¯•</h3>
<p>æˆ‘å†³å®šåœ¨ä¸åŒä½ç½®å–æ ·ï¼Œçœ‹çœ‹æ–‡ä»¶ç»“æ„æ˜¯å¦å®Œæ•´ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">const testPoints <span class="hljs-operator">=</span> [
  { <span class="hljs-keyword">range</span>: <span class="hljs-string">'0-511'</span>, <span class="hljs-keyword">desc</span>: <span class="hljs-string">'æ–‡ä»¶å¤´'</span> },
  { <span class="hljs-keyword">range</span>: <span class="hljs-string">'512-1023'</span>, <span class="hljs-keyword">desc</span>: <span class="hljs-string">'ç¬¬äºŒä¸ª512å­—èŠ‚'</span> },
  { <span class="hljs-keyword">range</span>: <span class="hljs-string">'1024-2047'</span>, <span class="hljs-keyword">desc</span>: <span class="hljs-string">'1KBä½ç½®'</span> },
  { <span class="hljs-keyword">range</span>: <span class="hljs-string">'1048576-1049087'</span>, <span class="hljs-keyword">desc</span>: <span class="hljs-string">'1MBä½ç½®'</span> } <span class="hljs-operator">/</span><span class="hljs-operator">/</span> è¿™é‡Œé€šå¸¸æ˜¯è§†é¢‘æ•°æ®å¼€å§‹
];
</code></pre>
<h3 data-id="heading-9">3.2 å…³é”®å‘ç°ï¼š1MBä½ç½®åˆ†æ</h3>
<pre><code class="hljs language-ini" lang="ini">// ç‰¹åˆ«å…³æ³¨1MBä½ç½®ï¼Œè¿™é‡Œé€šå¸¸æ˜¯è§†é¢‘ç¼–ç æ•°æ®
function analyze1MBSection(data) {
  const <span class="hljs-attr">uint8</span> = new Uint8Array(data)<span class="hljs-comment">;</span>
  let <span class="hljs-attr">h264Signatures</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
  
  // æŸ¥æ‰¾H.264 NALUèµ·å§‹ç ï¼š00 00 00 01 æˆ– 00 00 01
  for (let <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; uint8.length - 4; i++) {</span>
    if (uint8<span class="hljs-section">[i]</span> === 0 &amp;&amp; uint8<span class="hljs-section">[i+1]</span> === 0) {
      if (uint8<span class="hljs-section">[i+2]</span> === 0 &amp;&amp; uint8<span class="hljs-section">[i+3]</span> === 1) {
        h264Signatures++<span class="hljs-comment">;</span>
      } else if (uint8<span class="hljs-section">[i+2]</span> === 1) {
        h264Signatures++<span class="hljs-comment">;</span>
      }
    }
  }
  
  console.log(`H.264 NALUèµ·å§‹ç æ•°é‡: ${h264Signatures}`)<span class="hljs-comment">;</span>
  return h264Signatures<span class="hljs-comment">;</span>
}
</code></pre>
<p><strong>å…³é”®å‘ç°4</strong>ï¼šåœ¨1MBä½ç½®<strong>æ²¡æœ‰æ‰¾åˆ°ä»»ä½•H.264 NALUèµ·å§‹ç </strong>ã€‚</p>
<h3 data-id="heading-10">3.3 å¯¹ç…§å®éªŒï¼šç”¨å·²çŸ¥è§†é¢‘éªŒè¯</h3>
<p>ä¸ºäº†æ’é™¤å°ç¨‹åºç¯å¢ƒé—®é¢˜ï¼Œæˆ‘æµ‹è¯•äº†æ ‡å‡†H.264è§†é¢‘ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// æµ‹è¯•æ ‡å‡†H.264è§†é¢‘</span>
<span class="hljs-keyword">const</span> standardVideo = <span class="hljs-symbol">'https</span>:<span class="hljs-comment">//test-videos.co.uk/vids/bigbuckbunny/mp4/h264/360/Big_Buck_Bunny_360_10s_1MB.mp4';</span>

<span class="hljs-comment">// åŒæ ·çš„æµ‹è¯•é€»è¾‘</span>
<span class="hljs-title function_ invoke__">testVideo</span>(standardVideo); <span class="hljs-comment">// âœ… å¯ä»¥æ­£å¸¸æ’­æ”¾ï¼</span>
</code></pre>
<h2 data-id="heading-11">ğŸ’¡ ç¬¬å››é˜¶æ®µï¼šæç„¶å¤§æ‚Ÿ - æ‹¼å›¾å®Œæ•´äº†</h2>
<h3 data-id="heading-12">4.1 æŠŠæ‰€æœ‰çº¿ç´¢ä¸²è”èµ·æ¥</h3>
<ol>
<li>âœ… æœåŠ¡å™¨å“åº”æ­£å¸¸</li>
<li>âœ… æ–‡ä»¶å¤§å°åˆç†</li>
<li>âœ… æ”¯æŒRangeåˆ†ç‰‡</li>
<li>âœ… MP4å®¹å™¨æ ¼å¼æ­£ç¡®</li>
<li>âœ… æ ‡å‡†H.264è§†é¢‘èƒ½æ’­æ”¾</li>
<li>âŒ æˆ‘ä»¬çš„è§†é¢‘1MBä½ç½®æ— H.264ç‰¹å¾</li>
</ol>
<h3 data-id="heading-13">4.2 æ ¹æœ¬åŸå› ç¡®è®¤</h3>
<p><strong>æœ€ç»ˆç»“è®º</strong>ï¼šè§†é¢‘æ–‡ä»¶è™½ç„¶æ˜¯MP4å®¹å™¨ï¼Œä½†å†…éƒ¨ç¼–ç <strong>ä¸æ˜¯H.264</strong>ã€‚</p>
<p>å¯èƒ½çš„ç¼–ç ï¼š</p>
<ul>
<li>H.265/HEVCï¼ˆæœ€å¯èƒ½ï¼‰</li>
<li>VP9</li>
<li>AV1</li>
<li>å…¶ä»–éH.264ç¼–ç </li>
</ul>
<h2 data-id="heading-14">ğŸ“š å‰ç«¯è°ƒè¯•æ–¹æ³•è®ºæ€»ç»“</h2>
<h3 data-id="heading-15">1. åˆ†å±‚æµ‹è¯•ç­–ç•¥</h3>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> ç½‘ç»œå±‚ â†’ HEADè¯·æ±‚
<span class="hljs-bullet">2.</span> åè®®å±‚ â†’ Rangeè¯·æ±‚æµ‹è¯•
<span class="hljs-bullet">3.</span> æ•°æ®å±‚ â†’ äºŒè¿›åˆ¶åˆ†æ
<span class="hljs-bullet">4.</span> ç¼–ç å±‚ â†’ ç‰¹å¾ç æ£€æŸ¥
<span class="hljs-bullet">5.</span> ç¯å¢ƒå±‚ â†’ å¯¹ç…§æµ‹è¯•
</code></pre>
<h3 data-id="heading-16">2. å®ç”¨è°ƒè¯•æŠ€å·§</h3>
<h4 data-id="heading-17">æŠ€å·§1ï¼šäºŒè¿›åˆ¶æ•°æ®åˆ†æ</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¿«é€ŸæŸ¥çœ‹äºŒè¿›åˆ¶æ•°æ®</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">inspectBinary</span>(<span class="hljs-params">data, length = <span class="hljs-number">32</span></span>) {
  <span class="hljs-keyword">const</span> uint8 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(data.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, length));
  <span class="hljs-keyword">const</span> hex = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(uint8).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">b</span> =&gt;</span> 
    b.<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>).<span class="hljs-title function_">padStart</span>(<span class="hljs-number">2</span>, <span class="hljs-string">'0'</span>)
  ).<span class="hljs-title function_">join</span>(<span class="hljs-string">' '</span>);
  <span class="hljs-keyword">const</span> ascii = <span class="hljs-title class_">String</span>.<span class="hljs-property">fromCharCode</span>.<span class="hljs-title function_">apply</span>(<span class="hljs-literal">null</span>, uint8);
  
  <span class="hljs-keyword">return</span> { hex, ascii };
}
</code></pre>
<h4 data-id="heading-18">æŠ€å·§2ï¼šæ¸è¿›å¼æ—¥å¿—</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DebugLogger</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">logs</span> = [];
  }
  
  <span class="hljs-title function_">add</span>(<span class="hljs-params">step, data</span>) {
    <span class="hljs-keyword">const</span> entry = {
      <span class="hljs-attr">timestamp</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toISOString</span>(),
      step,
      <span class="hljs-attr">data</span>: <span class="hljs-keyword">typeof</span> data === <span class="hljs-string">'object'</span> ? <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data) : data
    };
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">logs</span>.<span class="hljs-title function_">push</span>(entry);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`[<span class="hljs-subst">${entry.timestamp}</span>] <span class="hljs-subst">${step}</span>:`</span>, data);
  }
}
</code></pre>
<h3 data-id="heading-19">3. å‰ç«¯å¯åšçš„æ£€æŸ¥æ¸…å•</h3>
<p>ä¸‹æ¬¡é‡åˆ°è§†é¢‘æ’­æ”¾é—®é¢˜ï¼ŒæŒ‰è¿™ä¸ªé¡ºåºæ£€æŸ¥ï¼š</p>
<pre><code class="hljs language-css" lang="css">- <span class="hljs-selector-attr">[ ]</span> <span class="hljs-number">1</span>. ç½‘ç»œè¿é€šæ€§ï¼ˆHEADè¯·æ±‚ï¼‰
- <span class="hljs-selector-attr">[ ]</span> <span class="hljs-number">2</span>. æ–‡ä»¶å¤§å°æ˜¯å¦åˆç†
- <span class="hljs-selector-attr">[ ]</span> <span class="hljs-number">3</span>. Rangeåˆ†ç‰‡æ”¯æŒï¼ˆ<span class="hljs-number">206</span>çŠ¶æ€ç ï¼‰
- <span class="hljs-selector-attr">[ ]</span> <span class="hljs-number">4</span>. æ–‡ä»¶å¤´æ ¼å¼ï¼ˆMP4/AVIç­‰ï¼‰
- <span class="hljs-selector-attr">[ ]</span> <span class="hljs-number">5</span>. è§†é¢‘æ•°æ®åŒºåŸŸç‰¹å¾
- <span class="hljs-selector-attr">[ ]</span> <span class="hljs-number">6</span>. æ ‡å‡†è§†é¢‘å¯¹ç…§æµ‹è¯•
- <span class="hljs-selector-attr">[ ]</span> <span class="hljs-number">7</span>. é”™è¯¯ç å…·ä½“åˆ†æ
</code></pre>
<h2 data-id="heading-20">ğŸ¯ æœ€é‡è¦çš„æ•™è®­</h2>
<h3 data-id="heading-21">æ•™è®­1ï¼šä¸è¦å‡è®¾â€œæ ¼å¼æ­£ç¡® = å¯ä»¥æ’­æ”¾â€</h3>
<ul>
<li>MP4åªæ˜¯å®¹å™¨ï¼Œç¼–ç æ‰æ˜¯å…³é”®</li>
<li>æœåŠ¡å™¨æ”¯æŒåˆ†ç‰‡ â‰  ç¼–ç å…¼å®¹</li>
</ul>
<h3 data-id="heading-22">æ•™è®­2ï¼šå¯¹ç…§æµ‹è¯•çš„ä»·å€¼</h3>
<ul>
<li>ç”¨å·²çŸ¥æ­£å¸¸çš„è§†é¢‘éªŒè¯ç¯å¢ƒ</li>
<li>éš”ç¦»å˜é‡ï¼Œé€ä¸ªæ’æŸ¥</li>
</ul>
<h3 data-id="heading-23">æ•™è®­3ï¼šå‰ç«¯èƒ½åšçš„æ¯”æƒ³è±¡çš„å¤š</h3>
<ul>
<li>äºŒè¿›åˆ¶æ•°æ®åˆ†æ</li>
<li>ç‰¹å¾ç æ£€æŸ¥</li>
<li>ç»“æ„éªŒè¯</li>
</ul>
<h2 data-id="heading-24">ğŸ› ï¸ ç»™å…¶ä»–å‰ç«¯å¼€å‘è€…çš„å»ºè®®</h2>
<h3 data-id="heading-25">1. æ„å»ºä½ çš„è°ƒè¯•å·¥å…·ç®±</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è§†é¢‘è°ƒè¯•å·¥å…·é›†</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">VideoDebugger</span> = {
  <span class="hljs-comment">// æ£€æŸ¥Rangeæ”¯æŒ</span>
  <span class="hljs-title function_">checkRangeSupport</span>(<span class="hljs-params">url</span>) { <span class="hljs-comment">/* ... */</span> },
  
  <span class="hljs-comment">// åˆ†ææ–‡ä»¶æ ¼å¼</span>
  <span class="hljs-title function_">analyzeFormat</span>(<span class="hljs-params">url</span>) { <span class="hljs-comment">/* ... */</span> },
  
  <span class="hljs-comment">// æ£€æŸ¥ç¼–ç ç‰¹å¾</span>
  <span class="hljs-title function_">checkCodecFeatures</span>(<span class="hljs-params">url</span>) { <span class="hljs-comment">/* ... */</span> },
  
  <span class="hljs-comment">// è¿è¡Œå®Œæ•´è¯Šæ–­</span>
  <span class="hljs-title function_">fullDiagnosis</span>(<span class="hljs-params">url</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">checkRangeSupport</span>(url),
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">analyzeFormat</span>(url),
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">checkCodecFeatures</span>(url)
    ]);
  }
};
</code></pre>
<h3 data-id="heading-26">2. ç”¨æˆ·å‹å¥½çš„é”™è¯¯å¤„ç†</h3>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">function</span> handleVideoError(<span class="hljs-keyword">error</span>) {
  <span class="hljs-keyword">const</span> errMsg = <span class="hljs-keyword">error</span>.detail.errMsg;
  
  <span class="hljs-keyword">const</span> errorMap = {
    <span class="hljs-comment">'MEDIA_ERR_SRC_NOT_SUPPORTED': {</span>
      title: <span class="hljs-comment">'æ ¼å¼ä¸æ”¯æŒ',</span>
      message: <span class="hljs-comment">'è§†é¢‘ç¼–ç æ ¼å¼ä¸å…¼å®¹ï¼Œè¯·å°è¯•è½¬æ¢æ ¼å¼',</span>
      action: <span class="hljs-comment">'guide_to_conversion'</span>
    },
    <span class="hljs-comment">'DEMUXER_ERROR_COULD_NOT_OPEN': {</span>
      title: <span class="hljs-comment">'æ— æ³•è§£ç ',</span>
      message: <span class="hljs-comment">'è§†é¢‘æ–‡ä»¶å¯èƒ½æŸåæˆ–æ ¼å¼ä¸å…¼å®¹',</span>
      action: <span class="hljs-comment">'suggest_reupload'</span>
    }
  };
  
  <span class="hljs-keyword">return</span> errorMap[errMsg] || {
    title: <span class="hljs-comment">'æ’­æ”¾å¤±è´¥',</span>
    message: <span class="hljs-comment">'è¯·ç¨åé‡è¯•'</span>
  };
}
</code></pre>
<h2 data-id="heading-27">ğŸŒŸ æœ€ç»ˆæ€»ç»“</h2>
<p>è¿™æ¬¡è°ƒè¯•ä¹‹æ—…æ•™ä¼šæˆ‘ï¼š</p>
<ol>
<li><strong>å‰ç«¯è°ƒè¯•çš„æ·±åº¦</strong>ï¼šä»å‰ç«¯å¯ä»¥åˆ†æäºŒè¿›åˆ¶æ•°æ®ã€æ£€æŸ¥ç¼–ç ç‰¹å¾</li>
<li><strong>ç³»ç»Ÿæ€§æ’æŸ¥</strong>ï¼šä»ç½‘ç»œåˆ°ç¼–ç ï¼Œé€å±‚éªŒè¯</li>
<li><strong>å·¥å…·çš„é‡è¦æ€§</strong>ï¼šåˆç†ä½¿ç”¨å¼€å‘è€…å·¥å…·å’Œæ§åˆ¶å°</li>
<li><strong>ç»éªŒçš„ä»·å€¼</strong>ï¼šç°åœ¨æˆ‘çŸ¥é“ï¼Œå°ç¨‹åºè§†é¢‘é—®é¢˜é¦–å…ˆæ€€ç–‘ç¼–ç æ ¼å¼</li>
</ol>
<p><strong>æœ€æ ¸å¿ƒçš„æ”¶è·</strong>ï¼šå½“ä¸€åˆ‡çœ‹èµ·æ¥éƒ½æ­£å¸¸ä½†å°±æ˜¯ä¸è¡Œæ—¶ï¼Œå¾€æ·±å¤„æŒ–ä¸€å±‚ï¼Œç­”æ¡ˆå¾€å¾€åœ¨ç»†èŠ‚ä¸­ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» Chat åˆ° Agentï¼šSolon AI å¸¦ä½ è¿›å…¥â€œè¡ŒåŠ¨æ´¾â€å¤§æ¨¡å‹æ—¶ä»£]]></title>    <link>https://juejin.cn/post/7595040803582099471</link>    <guid>https://juejin.cn/post/7595040803582099471</guid>    <pubDate>2026-01-15T02:56:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595040803582099471" data-draft-id="7595053284916166696" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» Chat åˆ° Agentï¼šSolon AI å¸¦ä½ è¿›å…¥â€œè¡ŒåŠ¨æ´¾â€å¤§æ¨¡å‹æ—¶ä»£"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-15T02:56:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‰é±¼çš„çŒ«"/> <meta itemprop="url" content="https://juejin.cn/user/409464125003639"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» Chat åˆ° Agentï¼šSolon AI å¸¦ä½ è¿›å…¥â€œè¡ŒåŠ¨æ´¾â€å¤§æ¨¡å‹æ—¶ä»£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/409464125003639/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‰é±¼çš„çŒ«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-15T02:56:12.000Z" title="Thu Jan 15 2026 02:56:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨è¿‡å»çš„ä¸€å¹´é‡Œï¼Œæˆ‘ä»¬å·²ç»ä¹ æƒ¯äº†ä¸ AI â€œèŠå¤©â€ã€‚ä½†å½“ä½ è¯•å›¾è®©å¤§æ¨¡å‹å¸®ä½ åœ¨æ•°æ®åº“æŸ¥æ•°æ®ã€ç»™å®¢æˆ·å‘é‚®ä»¶ã€æˆ–è€…è‡ªåŠ¨æ’æŸ¥ç³»ç»Ÿæ—¥å¿—æ—¶ï¼Œä½ ä¼šå‘ç°ï¼š<strong>åªä¼šâ€œè¯´â€çš„å¯¹è¯æ¡†ï¼Œæ— æ³•ç›´æ¥è§£å†³å¤æ‚çš„ä¸šåŠ¡é€»è¾‘ã€‚</strong></p>
<p>å¤§æ¨¡å‹ä½¿ç”¨éœ€è¦ä»â€œèŠå¤©æœºå™¨äººâ€è¿›åŒ–ä¸ºâ€œæ™ºèƒ½æ‰§è¡Œä½“ï¼ˆAgentï¼‰â€ã€‚</p>
<p>ä½œä¸ºé«˜æ€§èƒ½ Java AI åº”ç”¨å¼€å‘æ¡†æ¶ Solon AI å¢å¼ºç‰ˆï¼Œ<strong>Solon AI Agent</strong> ç°å·²æ­£å¼å‘å¸ƒï¼Œæ—¨åœ¨æ‰“ç ´ Chat ä¸ä¸šåŠ¡ç³»ç»Ÿä¹‹é—´çš„å±éšœï¼Œå¼€å¯æ™ºèƒ½ä½“çš„â€œè¡ŒåŠ¨â€å…ƒå¹´ã€‚</p>
<h2 data-id="heading-0">1. ç°çŠ¶ï¼šChat å¾ˆç¾ï¼Œä½†ç¦»ä¸šåŠ¡å¾ˆè¿œ</h2>
<p>å¤§å¤šæ•°å¼€å‘è€…åœ¨ä½¿ç”¨ AI æ—¶ï¼Œè¿˜åœç•™åœ¨ç®€å•çš„ API è°ƒç”¨å±‚é¢ï¼š</p>
<ul>
<li><strong>ä¸Šä¸‹æ–‡éš¾ç®¡ç†</strong>ï¼šå¤šè½®å¯¹è¯çš„ Token æ¶ˆè€—å’ŒçŠ¶æ€ä¿å­˜ä»¤äººå¤´ç–¼ã€‚</li>
<li><strong>èƒ½åŠ›æœ‰è¾¹ç•Œ</strong>ï¼šæ¨¡å‹æ— æ³•æ„ŸçŸ¥ä½ çš„æ•°æ®åº“ã€æ— æ³•è°ƒç”¨ä½ çš„å¾®æœåŠ¡ã€‚</li>
<li><strong>é€»è¾‘ä¸é—­ç¯</strong>ï¼šæ¨¡å‹ç»™å‡ºäº†å»ºè®®ï¼Œä½†æœ€åä¸€æ­¥çš„æ“ä½œè¿˜å¾—é äººå·¥æ‰‹åŠ¨å®Œæˆã€‚</li>
</ul>
<p><strong>æ™ºèƒ½ä½“ï¼ˆAgentï¼‰çš„å‡ºç°ï¼Œæ”¹å˜äº†è¿™ä¸€åˆ‡ã€‚</strong> å®ƒä¸å†ä»…ä»…æ˜¯â€œå›ç­”é—®é¢˜â€ï¼Œè€Œæ˜¯é€šè¿‡æ€è€ƒã€è§„åˆ’ã€è°ƒç”¨å·¥å…·ã€å›¢é˜Ÿåä½œï¼ˆå¤šæ™ºèƒ½ä½“ç³»ç»Ÿï¼‰ï¼Œæœ€ç»ˆâ€œäº¤ä»˜ç»“æœâ€ã€‚</p>
<h2 data-id="heading-1">2. è·¨è¶Šï¼šSolon AI çš„æ™ºèƒ½ä½“å“²å­¦</h2>
<p>Solon AI Agent æä¾›äº†ä»æç®€åˆ°å¤æ‚çš„å…¨æ ˆæ™ºèƒ½ä½“è§£å†³æ–¹æ¡ˆï¼Œè®©ä½ çš„ AI åº”ç”¨ä»â€œä¼šè¯´è¯â€å˜æˆâ€œä¼šåŠäº‹â€ã€‚</p>
<h3 data-id="heading-2">æç®€æ´¾ï¼šSimpleAgent â€”â€” ä»»åŠ¡çš„ç²¾å‡†æ‰§è¡Œ</h3>
<p>å¦‚æœä½ åªéœ€è¦ä¸€ä¸ªèƒ½å¬æ‡‚æŒ‡ä»¤ã€æŒ‰æ ¼å¼è¾“å‡ºã€ä¸”å…·å¤‡çŸ­æœŸè®°å¿†çš„å°åŠ©æ‰‹ï¼Œ<code>SimpleAgent</code> æ˜¯ä½ çš„é¦–é€‰ã€‚å®ƒå†…ç½®äº†è‡ªåŠ¨é‡è¯•ã€å†å²çª—å£ç®¡ç†å’Œ JSON Schema å¼ºçº¦æŸã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// 1. å®šä¹‰æ™ºèƒ½ä½“</span>
<span class="hljs-type">SimpleAgent</span> <span class="hljs-variable">agent</span> <span class="hljs-operator">=</span> SimpleAgent.of(chatModel)
        .name(<span class="hljs-string">"Translator"</span>)
        .systemPrompt(SimpleSystemPrompt.builder()
                .role(<span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªä¸­è‹±æ–‡ç¿»è¯‘åŠ©æ‰‹"</span>)
                .instruction(<span class="hljs-string">"è¯·ç›´æ¥è¾“å‡ºç¿»è¯‘ç»“æœï¼Œä¸è¦è¾“å‡ºä»»ä½•è§£é‡Šã€‚"</span>)
                .build())
        .build();

<span class="hljs-comment">// 2. å‘èµ·å¯¹è¯</span>
<span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> agent.prompt(<span class="hljs-string">"è¯·æŠŠï¼š'Life is short, use Python' ç¿»è¯‘æˆä¸­æ–‡"</span>).call().getContent();
System.out.println(result); <span class="hljs-comment">// äººç”Ÿè‹¦çŸ­ï¼Œæˆ‘ç”¨ Python</span>
                               
</code></pre>
<h3 data-id="heading-3">æ€è€ƒæ´¾ï¼šReActAgent â€”â€” åƒäººä¸€æ ·æ¨ç†ä¸è¡ŒåŠ¨</h3>
<p>é¢å¯¹å¤æ‚é—®é¢˜ï¼ŒReActAgent å¼€å¯äº†â€œæ€è€ƒ-è¡ŒåŠ¨-è§‚å¯Ÿâ€çš„é—­ç¯ã€‚å®ƒèƒ½æ ¹æ®å®æ—¶æƒ…å†µè‡ªä¸»å†³å®šä¸‹ä¸€æ­¥è¯¥åšä»€ä¹ˆã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// 1. å®šä¹‰ä¸šåŠ¡å·¥å…·ï¼šç»™ Java æ–¹æ³•åŠ ä¸Šæ³¨è§£ï¼ŒAI å°±èƒ½å­¦ä¼šä½¿ç”¨å®ƒ</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderService</span> {
    <span class="hljs-meta">@ToolMapping(description = "æ ¹æ®è®¢å•å·æŸ¥è¯¢å¿«é€’çŠ¶æ€")</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getOrderStatus</span><span class="hljs-params">(String orderNo)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"è®¢å• "</span> + orderNo + <span class="hljs-string">" æ­£åœ¨æ´¾é€ä¸­"</span>;
    }
}

<span class="hljs-comment">// 2. æ„å»º ReAct æ™ºèƒ½ä½“</span>
<span class="hljs-type">ReActAgent</span> <span class="hljs-variable">orderAgent</span> <span class="hljs-operator">=</span> ReActAgent.of(chatModel)
        .name(<span class="hljs-string">"order_assistant"</span>)
        .systemPrompt(ReActSystemPrompt.builder()
                        .role(<span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„è®¢å•å¤„ç†åŠ©æ‰‹"</span>)
                        .instruction(<span class="hljs-string">"è¯·æ ¹æ®ç”¨æˆ·æä¾›çš„ä¿¡æ¯å¤„ç†è®¢å•"</span>)
                        .build())
        .toolAdd(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MethodToolProvider</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderService</span>())) 
        .build();

<span class="hljs-comment">// 3. æ‰§è¡Œï¼šAI ä¼šè‡ªä¸»æ€è€ƒ -&gt; å‘ç°éœ€æŸ¥å• -&gt; è°ƒç”¨æ¥å£ -&gt; ç»„ç»‡è¯­è¨€åé¦ˆ</span>
<span class="hljs-type">String</span> <span class="hljs-variable">answer</span> <span class="hljs-operator">=</span> orderAgent.prompt(<span class="hljs-string">"æˆ‘çš„è®¢å• SN9527 åˆ°å“ªäº†ï¼Ÿèƒ½é€€é’±å—ï¼Ÿ"</span>).call().getContent();
</code></pre>
<h3 data-id="heading-4">åä½œæ´¾ï¼šTeamAgent â€”â€” æ‰“é€ ä½ çš„æ•°å­—éƒ¨é—¨</h3>
<p>ä¸€ä¸ªäººçš„åŠ›é‡æœ‰é™ï¼ŒTeamAgent æ”¯æŒå°†å¤šä¸ª Agent ç»„ç»‡æˆå›¢é˜Ÿã€‚ä½ å¯ä»¥é…ç½®â€œç‚¹åˆ°ç‚¹æ¨¡å¼ï¼ˆA2Aï¼‰â€è®©ä¸»ç®¡åˆ†å‘ä»»åŠ¡ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨â€œé¡ºåºæ¨¡å¼ï¼ˆSequentialï¼‰â€æ„å»ºç”Ÿäº§çº¿ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ„å»ºä¸€ä¸ªæŠ€æœ¯æ”¯æŒå›¢é˜Ÿï¼šåŒ…å«â€œæŸ¥å•ä¸“å®¶â€å’Œâ€œæ—¥å¿—ä¸“å®¶â€</span>
<span class="hljs-type">TeamAgent</span> <span class="hljs-variable">supportTeam</span> <span class="hljs-operator">=</span> TeamAgent.of(chatModel)
        .name(<span class="hljs-string">"tech_support_team"</span>)
        .addAgent(orderAgent, logAgent)   
        .protocol(TeamProtocols.HIERARCHICAL) <span class="hljs-comment">// ä¸»ç®¡è´Ÿè´£åˆ†æ´¾ä»»åŠ¡</span>
        .build();

supportTeam.call(<span class="hljs-string">"ç”¨æˆ·åé¦ˆè®¢å•æŸ¥ä¸åˆ°ï¼Œå¸®æˆ‘æ’æŸ¥æ˜¯æ•°æ®åº“è¿˜æ˜¯æ—¥å¿—æŠ¥é”™äº†ã€‚"</span>);
</code></pre>
<h2 data-id="heading-5">3. ä¸ºä½•é€‰æ‹© Solon AIï¼Ÿ</h2>
<ul>
<li>å¤©ç”Ÿå¿«ï¼šå»¶ç»­ Solon æç®€é£æ ¼ï¼Œå¯åŠ¨å¿«ã€å†…å­˜çœï¼Œé€‚åˆå¾®æœåŠ¡éƒ¨ç½²ã€‚</li>
<li>å·¥å…·å³æ–¹æ³•ï¼šæ— éœ€å¤æ‚çš„ DSLï¼Œæ™®é€šçš„ Java æ–¹æ³•å³å¯ç›´æ¥ä½œä¸ºå·¥å…·ã€‚</li>
<li>ç±»å‹å®‰å…¨ï¼šå€ŸåŠ© outputSchemaï¼Œå½»åº•å‘Šåˆ« LLM ä¹±åå­—ç¬¦ä¸²å¯¼è‡´çš„è§£æå´©æºƒã€‚</li>
<li>ç”Ÿå‘½å‘¨æœŸæ‹¦æˆªï¼šé€šè¿‡æ‹¦æˆªå™¨ï¼Œå®æ—¶ç›‘æ§ Agent çš„â€œå†…å¿ƒç‹¬ç™½â€ï¼ˆThoughtï¼‰å’Œâ€œåŠ¨ä½œæ‰§è¡Œâ€ï¼ˆActionï¼‰ã€‚</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è°ƒè¯•ç¤ºä¾‹ï¼šå®æ—¶æ‰“å° Agent çš„æ€è€ƒè¿‡ç¨‹</span>
agent.defaultInterceptorAdd(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ReActInterceptor</span>() {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onThought</span><span class="hljs-params">(ReActTrace trace, String thought)</span> {
        System.out.println(<span class="hljs-string">"ğŸ¤” æ€è€ƒä¸­: "</span> + thought);
    }
});
</code></pre>
<h2 data-id="heading-6">4. å°±åœ¨ä»Šå¤©ï¼Œèµ‹äºˆä½ çš„åº”ç”¨â€œçµé­‚â€</h2>
<p>ä» Chat è¿›å…¥ Agentï¼Œä¸ä»…æ˜¯æŠ€æœ¯çš„è¿ç§»ï¼Œæ›´æ˜¯æ€ç»´çš„å‡çº§ã€‚æœªæ¥æ¯ä¸€ä¸ª Java åº”ç”¨ï¼Œéƒ½åº”è¯¥å†…ç½®ä¸€ä¸ªæ‡‚ä¸šåŠ¡ã€ä¼šæ“ä½œã€èƒ½è¿›åŒ–çš„æ™ºèƒ½ä½“ã€‚</p>
<p><strong>Solon AIï¼Œè®©å¤§æ¨¡å‹çœŸæ­£èµ°è¿›ä½ çš„ä»£ç ï¼Œè½¬åŒ–ä¸ºå®é™…ç”Ÿäº§åŠ›ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI æ™ºèƒ½ä½“é«˜å¯é è®¾è®¡æ¨¡å¼ï¼šå¹¶è¡Œæ··åˆæœç´¢èåˆ]]></title>    <link>https://juejin.cn/post/7595055962152681472</link>    <guid>https://juejin.cn/post/7595055962152681472</guid>    <pubDate>2026-01-15T02:59:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595055962152681472" data-draft-id="7595108457495003151" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI æ™ºèƒ½ä½“é«˜å¯é è®¾è®¡æ¨¡å¼ï¼šå¹¶è¡Œæ··åˆæœç´¢èåˆ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-15T02:59:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¿å‡¡"/> <meta itemprop="url" content="https://juejin.cn/user/290747765274222"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI æ™ºèƒ½ä½“é«˜å¯é è®¾è®¡æ¨¡å¼ï¼šå¹¶è¡Œæ··åˆæœç´¢èåˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/290747765274222/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¿å‡¡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-15T02:59:07.000Z" title="Thu Jan 15 2026 02:59:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><em>æœ¬ç³»åˆ—ä»‹ç»å¢å¼ºç°ä»£æ™ºèƒ½ä½“ç³»ç»Ÿå¯é æ€§çš„è®¾è®¡æ¨¡å¼ï¼Œä»¥ç›´è§‚æ–¹å¼é€ä¸€ä»‹ç»æ¯ä¸ªæ¦‚å¿µï¼Œæ‹†è§£å…¶ç›®çš„ï¼Œç„¶åå®ç°ç®€å•å¯è¡Œçš„ç‰ˆæœ¬ï¼Œæ¼”ç¤ºå…¶å¦‚ä½•èå…¥ç°å®ä¸–ç•Œçš„æ™ºèƒ½ä½“ç³»ç»Ÿã€‚æœ¬ç³»åˆ—ä¸€å…± 14 ç¯‡æ–‡ç« ï¼Œè¿™æ˜¯ç¬¬ 12 ç¯‡ã€‚åŸæ–‡ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Flevelup.gitconnected.com%2Fbuilding-the-14-key-pillars-of-agentic-ai-229e50f65986" title="https://levelup.gitconnected.com/building-the-14-key-pillars-of-agentic-ai-229e50f65986" target="_blank" ref="nofollow noopener noreferrer">Building the 14 Key Pillars of Agentic AI</a></em></p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f870ebc868b1406b8bf3a14797c3a1f7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-e5Yeh:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769050748&amp;x-signature=NorLWM5Te%2FgL%2FdTOVKuuAtesZ6c%3D" alt="" loading="lazy"/></p>
<p>ä¼˜åŒ–æ™ºèƒ½ä½“è§£å†³æ–¹æ¡ˆéœ€è¦è½¯ä»¶å·¥ç¨‹ç¡®ä¿ç»„ä»¶åè°ƒã€å¹¶è¡Œè¿è¡Œå¹¶ä¸ç³»ç»Ÿé«˜æ•ˆäº¤äº’ã€‚ä¾‹å¦‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FSpeculative_execution" title="https://en.wikipedia.org/wiki/Speculative_execution" target="_blank" ref="nofollow noopener noreferrer">é¢„æµ‹æ‰§è¡Œ</a>ï¼Œä¼šå°è¯•å¤„ç†å¯é¢„æµ‹æŸ¥è¯¢ä»¥<strong>é™ä½æ—¶å»¶</strong>ï¼Œæˆ–è€…è¿›è¡Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.arm.com%2Fcommunity%2Farm-community-blogs%2Fb%2Fembedded-and-microcontrollers-blog%2Fposts%2Fcomparing-lock-step-redundant-execution-versus-split-lock-technologies" title="https://developer.arm.com/community/arm-community-blogs/b/embedded-and-microcontrollers-blog/posts/comparing-lock-step-redundant-execution-versus-split-lock-technologies" target="_blank" ref="nofollow noopener noreferrer">å†—ä½™æ‰§è¡Œ</a>ï¼Œå³<strong>å¯¹åŒä¸€æ™ºèƒ½ä½“é‡å¤æ‰§è¡Œå¤šæ¬¡</strong>ä»¥é˜²å•ç‚¹æ•…éšœã€‚å…¶ä»–å¢å¼ºç°ä»£æ™ºèƒ½ä½“ç³»ç»Ÿå¯é æ€§çš„æ¨¡å¼åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>å¹¶è¡Œå·¥å…·</strong>ï¼šæ™ºèƒ½ä½“åŒæ—¶æ‰§è¡Œç‹¬ç«‹ API è°ƒç”¨ä»¥éšè— I/O æ—¶å»¶ã€‚</li>
<li><strong>å±‚çº§æ™ºèƒ½ä½“</strong>ï¼šç®¡ç†è€…å°†ä»»åŠ¡æ‹†åˆ†ä¸ºç”±æ‰§è¡Œæ™ºèƒ½ä½“å¤„ç†çš„å°æ­¥éª¤ã€‚</li>
<li><strong>ç«äº‰æ€§æ™ºèƒ½ä½“ç»„åˆ</strong>ï¼šå¤šä¸ªæ™ºèƒ½ä½“æå‡ºç­”æ¡ˆï¼Œç³»ç»Ÿé€‰å‡ºæœ€ä½³ã€‚</li>
<li><strong>å†—ä½™æ‰§è¡Œ</strong>ï¼šå³ä¸¤ä¸ªæˆ–å¤šä¸ªæ™ºèƒ½ä½“è§£å†³åŒä¸€ä»»åŠ¡ä»¥æ£€æµ‹é”™è¯¯å¹¶æé«˜å¯é æ€§ã€‚</li>
<li><strong>å¹¶è¡Œæ£€ç´¢å’Œæ··åˆæ£€ç´¢</strong>ï¼šå¤šç§æ£€ç´¢ç­–ç•¥ååŒè¿è¡Œä»¥æå‡ä¸Šä¸‹æ–‡è´¨é‡ã€‚</li>
<li><strong>å¤šè·³æ£€ç´¢</strong>ï¼šæ™ºèƒ½ä½“é€šè¿‡è¿­ä»£æ£€ç´¢æ­¥éª¤æ”¶é›†æ›´æ·±å…¥ã€æ›´ç›¸å…³çš„ä¿¡æ¯ã€‚</li>
</ul>
<p>è¿˜æœ‰å¾ˆå¤šå…¶ä»–æ¨¡å¼ã€‚</p>
<p>æœ¬ç³»åˆ—å°†å®ç°æœ€å¸¸ç”¨æ™ºèƒ½ä½“æ¨¡å¼èƒŒåçš„åŸºç¡€æ¦‚å¿µï¼Œä»¥ç›´è§‚æ–¹å¼é€ä¸€ä»‹ç»æ¯ä¸ªæ¦‚å¿µï¼Œæ‹†è§£å…¶ç›®çš„ï¼Œç„¶åå®ç°ç®€å•å¯è¡Œçš„ç‰ˆæœ¬ï¼Œæ¼”ç¤ºå…¶å¦‚ä½•èå…¥ç°å®ä¸–ç•Œçš„æ™ºèƒ½ä½“ç³»ç»Ÿã€‚</p>
<p>æ‰€æœ‰ç†è®ºå’Œä»£ç éƒ½åœ¨ GitHub ä»“åº“é‡Œï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FFareedKhan-dev%2Fagentic-parallelism" title="https://github.com/FareedKhan-dev/agentic-parallelism" target="_blank" ref="nofollow noopener noreferrer">ğŸ¤– Agentic Parallelism: A Practical Guide ğŸš€</a></p>
<p>ä»£ç åº“ç»„ç»‡å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-erlang" lang="erlang">agentic-parallelism/
    â”œâ”€â”€ <span class="hljs-number">01</span>_parallel_tool_use.ipynb
    â”œâ”€â”€ <span class="hljs-number">02</span>_parallel_hypothesis.ipynb
    ...
    â”œâ”€â”€ <span class="hljs-number">06</span>_competitive_agent_ensembles.ipynb
    â”œâ”€â”€ <span class="hljs-number">07</span>_agent_assembly_line.ipynb
    â”œâ”€â”€ <span class="hljs-number">08</span>_decentralized_blackboard.ipynb
    ...
    â”œâ”€â”€ <span class="hljs-number">13</span>_parallel_context_preprocessing.ipynb
    â””â”€â”€ <span class="hljs-number">14</span>_parallel_multi_hop_retrieval.ipynb
</code></pre>
<hr/>
<h2 data-id="heading-0">å¹¶è¡Œæ··åˆæœç´¢èåˆç”¨äºé«˜ä¿çœŸä¸Šä¸‹æ–‡</h2>
<p><strong>å‘é‡æœç´¢ï¼ˆè¯­ä¹‰ï¼‰</strong> æ“…é•¿ç†è§£æŸ¥è¯¢çš„æ¦‚å¿µå«ä¹‰ï¼Œä½†æœ‰æ—¶ä¼šæ¼æ‰åŒ…å«ç‰¹å®šã€ç²¾ç¡®å…³é”®è¯çš„æ–‡æ¡£ã€‚<strong>å…³é”®è¯æœç´¢ï¼ˆè¯æ³•ï¼‰</strong> åˆ™éå¸¸é€‚åˆæŸ¥æ‰¾ç²¾ç¡®æœ¯è¯­ï¼Œå´æ— æ³•ç†è§£æ¦‚å¿µå…³ç³»ã€‚</p>
<p><strong>å¹¶è¡Œæ··åˆæœç´¢èåˆï¼ˆParallel Hybrid Search Fusionï¼‰</strong> æ¶æ„é€šè¿‡ç»“åˆä¸¤ç§æ–¹æ³•çš„ä¼˜åŠ¿ï¼Œä¸ºæˆ‘ä»¬æä¾›äº†è§£å†³æ–¹æ¡ˆã€‚</p>
<p>è¯¥æ¶æ„åŒæ—¶æ‰§è¡Œå‘é‡æœç´¢å’Œå…³é”®è¯æœç´¢ï¼Œç„¶åå°†å…¶ç‹¬ç‰¹å‘ç°â€œèåˆâ€æˆå•ä¸€ã€ç»„åˆçš„ç»“æœé›†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7e17cabaa4945a29ae4ab2566e31416~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-e5Yeh:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769050748&amp;x-signature=rqydVbG3Cly5vwYJ24PUUtspK5A%3D" alt="æ··åˆæœç´¢" loading="lazy"/></p>
<p>è¿™ç§æ¨¡å¼å¯¹ä»»ä½•å¤„ç†æ··åˆæ–‡æœ¬å’Œç‰¹å®šæ ‡è¯†ç¬¦ï¼ˆäº§å“ä»£ç ã€é”™è¯¯æ¶ˆæ¯ã€æ³•å¾‹æ¡ˆä»¶ç¼–å·ï¼‰çš„ RAG ç³»ç»Ÿéƒ½è‡³å…³é‡è¦ã€‚</p>
<p>æˆ‘ä»¬å°†æ„å»ºå¹¶æ¯”è¾ƒä¸‰ä¸ª RAG ç³»ç»Ÿï¼šå‘é‡æ¨¡å¼ã€å…³é”®è¯æ¨¡å¼å’Œæ··åˆæ¨¡å¼ï¼Œä»¥å±•ç¤ºæ··åˆæ–¹æ³•å¦‚ä½•æ£€ç´¢æ›´ä¼˜çš„ä¸Šä¸‹æ–‡å¹¶ç”Ÿæˆæ›´å®Œæ•´ã€å‡†ç¡®çš„æœ€ç»ˆç­”æ¡ˆã€‚</p>
<p>é¦–å…ˆæ„å»ºä¸¤ç§ä¸åŒçš„æ£€ç´¢æœºåˆ¶ï¼Œæˆ‘ä»¬ä»ç†Ÿæ‚‰çš„å‘é‡æœç´¢å¼€å§‹ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_community.vectorstores <span class="hljs-keyword">import</span> FAISS
<span class="hljs-keyword">from</span> langchain_community.embeddings <span class="hljs-keyword">import</span> HuggingFaceEmbeddings

<span class="hljs-comment"># ä¸ºè¯­ä¹‰æœç´¢åˆ›å»ºæ ‡å‡† FAISS å‘é‡å­˜å‚¨</span>
vector_store = FAISS.from_documents(kb_docs, embedding=embeddings)
vector_retriever = vector_store.as_retriever(search_kwargs={<span class="hljs-string">"k"</span>: <span class="hljs-number">2</span>})
</code></pre>
<p>è¿™æ˜¯æ ‡å‡†çš„è¯­ä¹‰æœç´¢å¼•æ“ï¼Œç”±å‘é‡åµŒå…¥é©±åŠ¨ï¼Œåœ¨ç†è§£æŸ¥è¯¢çš„â€œæ ¸å¿ƒå†…å®¹â€æ–¹é¢éå¸¸å‡ºè‰²ã€‚</p>
<p>æ¥ä¸‹æ¥åˆ©ç”¨ <code>scikit-learn TfidfVectorizer</code> ä»å¤´å¼€å§‹æ„å»ºç»å…¸å…³é”®è¯æ£€ç´¢å™¨ï¼Œä½œä¸ºåŸºäºè¯æ±‡çš„æœç´¢å¼•æ“ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> sklearn.feature_extraction.text <span class="hljs-keyword">import</span> TfidfVectorizer
<span class="hljs-keyword">from</span> sklearn.metrics.pairwise <span class="hljs-keyword">import</span> cosine_similarity
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">from</span> langchain_core.retrievers <span class="hljs-keyword">import</span> BaseRetriever
<span class="hljs-keyword">from</span> langchain_core.callbacks <span class="hljs-keyword">import</span> CallbackManagerForRetrieverRun
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">List</span>
<span class="hljs-keyword">from</span> langchain_core.documents <span class="hljs-keyword">import</span> Document

<span class="hljs-keyword">class</span> <span class="hljs-title class_">TfidfRetriever</span>(<span class="hljs-title class_ inherited__">BaseRetriever</span>):
    <span class="hljs-string">"""åˆ©ç”¨ TF-IDF è¿›è¡Œå…³é”®è¯æœç´¢çš„è‡ªå®šä¹‰ LangChain æ£€ç´¢å™¨"""</span>
    <span class="hljs-comment"># å­˜å‚¨æ‹Ÿåˆçš„çŸ¢é‡å™¨å’ŒåŸå§‹æ–‡æ¡£</span>
    vectorizer: TfidfVectorizer
    docs: <span class="hljs-type">List</span>[Document]
    k: <span class="hljs-built_in">int</span> = <span class="hljs-number">2</span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Config</span>:
        arbitrary_types_allowed = <span class="hljs-literal">True</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_get_relevant_documents</span>(<span class="hljs-params">self, query: <span class="hljs-built_in">str</span>, *, run_manager: CallbackManagerForRetrieverRun</span>) -&gt; <span class="hljs-type">List</span>[Document]:
        <span class="hljs-comment"># å°†æŸ¥è¯¢è½¬æ¢ä¸º TF-IDF å‘é‡</span>
        query_vec = self.vectorizer.transform([query])
        <span class="hljs-comment"># è·å–æ‰€æœ‰æ–‡æ¡£çš„é¢„è®¡ç®— TF-IDF å‘é‡</span>
        doc_vectors = self.vectorizer.transform([doc.page_content <span class="hljs-keyword">for</span> doc <span class="hljs-keyword">in</span> self.docs])
        
        <span class="hljs-comment"># è®¡ç®—æŸ¥è¯¢å’Œæ–‡æ¡£ä¹‹é—´çš„ä½™å¼¦ç›¸ä¼¼åº¦</span>
        similarities = cosine_similarity(query_vec, doc_vectors).flatten()
        
        <span class="hljs-comment"># è·å–å‰ k ä¸ªæœ€ç›¸ä¼¼æ–‡æ¡£çš„ç´¢å¼•</span>
        top_k_indices = np.argsort(similarities)[-self.k:][::-<span class="hljs-number">1</span>]
        
        <span class="hljs-comment"># è¿”å›å¯¹åº”çš„ Document å¯¹è±¡</span>
        <span class="hljs-keyword">return</span> [self.docs[i] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> top_k_indices]

<span class="hljs-comment"># åœ¨çŸ¥è¯†åº“å†…å®¹ä¸Šæ‹Ÿåˆ TF-IDF çŸ¢é‡</span>
vectorizer = TfidfVectorizer().fit([doc.page_content <span class="hljs-keyword">for</span> doc <span class="hljs-keyword">in</span> kb_docs])

<span class="hljs-comment"># åˆ›å»ºè‡ªå®šä¹‰æ£€ç´¢å™¨å®ä¾‹</span>
keyword_retriever = TfidfRetriever(vectorizer=vectorizer, docs=kb_docs, k=<span class="hljs-number">2</span>)
</code></pre>
<p><code>TfidfRetriever</code> æ˜¯è¯æ±‡æ£€ç´¢ä¸“å®¶ï¼Œä¸å‘é‡æ£€ç´¢å™¨ä¸åŒï¼Œå®ƒä¸ç†è§£å«ä¹‰ï¼Œçº¯ç²¹åŸºäºè¯é¢‘å·¥ä½œï¼ŒæŸ¥æ‰¾åŒ…å«ç”¨æˆ·æŸ¥è¯¢ä¸­ç¡®åˆ‡çš„ã€å­—é¢å…³é”®è¯çš„æ–‡æ¡£ï¼Œæ— è®ºå…³é”®è¯æ˜¯å¦ç½•è§æˆ–è¯­ä¹‰æƒé‡è¾ƒä½ã€‚</p>
<p>æ¥ä¸‹æ¥æ„å»ºæ··åˆ RAG ç³»ç»Ÿï¼Œå…¶æ ¸å¿ƒæ˜¯ LangGraph èŠ‚ç‚¹ï¼Œå¹¶è¡Œè¿è¡Œä¸¤ä¸ªæ£€ç´¢å™¨ï¼Œç„¶åèåˆç»“æœã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langgraph.graph <span class="hljs-keyword">import</span> StateGraph, END
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> TypedDict, <span class="hljs-type">List</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">HybridRAGState</span>(<span class="hljs-title class_ inherited__">TypedDict</span>):
    question: <span class="hljs-built_in">str</span>
    retrieved_docs: <span class="hljs-type">List</span>[Document]
    final_answer: <span class="hljs-built_in">str</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">parallel_retrieval_node</span>(<span class="hljs-params">state: HybridRAGState</span>):
    <span class="hljs-string">"""è¯¥æ¨¡å¼çš„æ ¸å¿ƒæ˜¯ï¼šå¹¶è¡Œè¿è¡ŒçŸ¢é‡å’Œå…³é”®å­—æœç´¢å¹¶èåˆç»“æœ"""</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"--- [Hybrid Retriever] Running Vector and Keyword searches in parallel... ---"</span>)
    
    <span class="hljs-comment"># ç”¨åŒæ ·çš„é—®é¢˜æ¥è°ƒç”¨è¿™ä¸¤ä¸ªç³»ç»Ÿ</span>
    <span class="hljs-comment"># ç”±äºå…¶ç‹¬ç«‹æ€§ï¼Œæ‰€ä»¥ä¸¤ä¸ªè°ƒç”¨å¯ä»¥åœ¨çœŸæ­£çš„å¤šçº¿ç¨‹ç³»ç»Ÿä¸­å¹¶å‘æ‰§è¡Œ</span>
    vector_docs = vector_retriever.invoke(state[<span class="hljs-string">'question'</span>])
    keyword_docs = keyword_retriever.invoke(state[<span class="hljs-string">'question'</span>])
    
    <span class="hljs-comment"># â€œèåˆâ€æ­¥éª¤ï¼šåˆå¹¶ä¸¤ä¸ªæ–‡æ¡£åˆ—è¡¨ï¼Œå¯¹æ•°æ®å»é‡</span>
    all_docs = vector_docs + keyword_docs
    unique_docs = <span class="hljs-built_in">list</span>({doc.page_content: doc <span class="hljs-keyword">for</span> doc <span class="hljs-keyword">in</span> all_docs}.values())
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"--- [Hybrid Retriever] Fused results: Found <span class="hljs-subst">{<span class="hljs-built_in">len</span>(unique_docs)}</span> unique documents. ---"</span>)
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"retrieved_docs"</span>: unique_docs}

<span class="hljs-comment"># ç”¨ç”ŸæˆèŠ‚ç‚¹ç»„è£…å®Œæ•´çš„å›¾</span>
workflow = StateGraph(HybridRAGState)
workflow.add_node(<span class="hljs-string">"parallel_retrieval"</span>, parallel_retrieval_node)
workflow.add_node(<span class="hljs-string">"generate_answer"</span>, generation_node)
workflow.set_entry_point(<span class="hljs-string">"parallel_retrieval"</span>)
workflow.add_edge(<span class="hljs-string">"parallel_retrieval"</span>, <span class="hljs-string">"generate_answer"</span>)
workflow.add_edge(<span class="hljs-string">"generate_answer"</span>, END)
hybrid_rag_app = workflow.<span class="hljs-built_in">compile</span>()
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6961b717aba941daa17ff0ffde7f2269~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-e5Yeh:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769050748&amp;x-signature=gH6fOHgblDfbImJEsEXvBLOrW5o%3D" alt="å¹¶è¡Œèåˆæœç´¢" loading="lazy"/></p>
<p><code>parallel_retrieval_node</code> æ˜¯è¿›è¡Œèåˆçš„åœ°æ–¹ï¼Œè¿è¡Œ <code>vector_retriever</code> å’Œ <code>keyword_retriever</code>ï¼Œç„¶åç»„åˆå®ƒä»¬çš„è¾“å‡ºã€‚ç®€å•çš„å»é‡ <code>list({doc.page_content: doc for doc in all_docs}.values())</code> æ˜¯ä¸€ç§åŸºæœ¬ä½†æœ‰æ•ˆçš„èåˆç­–ç•¥ï¼Œä»è€Œç¡®ä¿å¦‚æœä¸¤ä¸ªæ£€ç´¢å™¨æ‰¾åˆ°ç›¸åŒçš„æ–‡æ¡£ï¼Œå°±åªä¿ç•™ä¸€æ¬¡ï¼Œå¦‚æœæ‰¾åˆ°ä¸åŒçš„æ–‡æ¡£ï¼Œæ‰€æœ‰ç‹¬ç‰¹å‘ç°éƒ½ä¼šä¿ç•™åœ¨æœ€ç»ˆä¸Šä¸‹æ–‡ä¸­ã€‚</p>
<p>æœ€åè¿›è¡Œç›´æ¥å¯¹æ¯”åˆ†æï¼Œåˆ›å»ºä¸€ä¸ªç‰¹å®šæŸ¥è¯¢ï¼Œæ—¨åœ¨è®©å•ä¸€æœç´¢ç³»ç»Ÿå¤±æ•ˆï¼ŒåŒ…å«ä¸€ä¸ªé«˜çº§è¯­ä¹‰æ¦‚å¿µï¼ˆ"èŠ‚èƒ½æªæ–½"ï¼‰å’Œä¸€ä¸ªéå¸¸å…·ä½“ã€ç½•è§çš„å…³é”®è¯ï¼ˆ<code>ERR_THROTTLE_900</code>ï¼‰ã€‚è¦ç»™å‡ºå®Œæ•´ç­”æ¡ˆï¼Œéœ€è¦ç»“åˆä¸¤ç§æœç´¢æ–¹æ³•çš„ä¼˜åŠ¿æ‰èƒ½æ‰¾åˆ°ä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æŸ¥è¯¢åŒ…å«æ¦‚å¿µéƒ¨åˆ†å’Œç‰¹å®šå…³é”®å­—éƒ¨åˆ†</span>
user_query = <span class="hljs-string">"What are our company's power saving efforts, and what is the error code for QLeap-V4 overheating?"</span>


<span class="hljs-comment"># --- æ‰§è¡Œå‘é‡ RAG ---</span>
vector_answer = rag_chain_vector.invoke(user_query)
<span class="hljs-comment"># --- æ‰§è¡Œå…³é”®è¯ RAG ---</span>
keyword_answer = rag_chain_keyword.invoke(user_query)
<span class="hljs-comment"># --- æ‰§è¡Œæ··åˆ RAG ---</span>
hybrid_answer = hybrid_result[<span class="hljs-string">'final_answer'</span>]

<span class="hljs-comment"># --- æœ€ç»ˆåˆ†æ ---</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span>*<span class="hljs-number">60</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"                     ACCURACY &amp; QUALITY ANALYSIS"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span>*<span class="hljs-number">60</span> + <span class="hljs-string">"\n"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"The User's Goal: The user asked two distinct questions: 1. What are our power saving efforts? (A semantic question) and 2. What is the error code for overheating? (A specific/lexical question).\n"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"-"</span> * <span class="hljs-number">60</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"Vector-Only RAG Performance:"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"- Result: FAILED to answer completely."</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"- Final Answer:"</span>, vector_answer)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"Keyword-Only RAG Performance:"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"- Result: FAILED to answer completely."</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"- Final Answer:"</span>, keyword_answer)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"-"</span> * <span class="hljs-number">60</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"Hybrid Search RAG Performance:"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"- Final Answer:"</span>, hybrid_answer)
</code></pre>
<p>æœ€ç»ˆç»“æœæ˜¯â€¦â€¦</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#### è¾“å‡º ####</span>
============================================================
                     ACCURACY &amp; QUALITY ANALYSIS
============================================================

The User Goal: The user asked two distinct questions: <span class="hljs-number">1.</span> What are our power saving efforts? (A semantic question) <span class="hljs-keyword">and</span> <span class="hljs-number">2.</span> What <span class="hljs-keyword">is</span> the error code <span class="hljs-keyword">for</span> overheating? (A specific/lexical question).
------------------------------------------------------------
Vector-Only RAG Performance:
- Result: FAILED to answer completely.
- Final Answer: Based on the provided context, the company power saving effort <span class="hljs-keyword">is</span> an initiative called Project <span class="hljs-string">'Titan'</span>, which <span class="hljs-keyword">is</span> focused on developing energy-efficient hardware to reduce power consumption <span class="hljs-keyword">in</span> data centers <span class="hljs-keyword">and</span> <span class="hljs-keyword">is</span> part of the green computing strategy. The context does <span class="hljs-keyword">not</span> contain information about an error code <span class="hljs-keyword">for</span> QLeap-V4 overheating.
- Reason: It excelled at the semantic part, finding documents about <span class="hljs-string">'Project Titan'</span> by matching the concept of <span class="hljs-string">'power saving efforts'</span> to <span class="hljs-string">'energy-efficient hardware'</span>. However, the specific error code <span class="hljs-string">'ERR_THROTTLE_900'</span> was <span class="hljs-keyword">not</span> semantically close enough to the query to be retrieved. The agent correctly stated it could <span class="hljs-keyword">not</span> find the answer.

------------------------------------------------------------
Keyword-Only RAG Performance:
- Result: FAILED to answer completely.
- Final Answer: Based on the context, the error code <span class="hljs-keyword">for</span> QLeap-V4 overheating <span class="hljs-keyword">is</span> <span class="hljs-string">'ERR_THROTTLE_900'</span>. Project <span class="hljs-string">'Titan'</span> <span class="hljs-keyword">is</span> an initiative to reduce power consumption.
- Reason: It excelled at the lexical part, perfectly matching the keyword <span class="hljs-string">'ERR_THROTTLE_900'</span> <span class="hljs-keyword">in</span> the query to the document containing it. However, it missed the second, more conceptual document about <span class="hljs-string">'Project Titan'</span> being part of the <span class="hljs-string">'green computing strategy'</span> because the keywords didnt overlap strongly.

------------------------------------------------------------
Hybrid Search RAG Performance:
- Result: SUCCESS. Answered both parts of the question accurately.
- Final Answer: Our companys power saving effort <span class="hljs-keyword">is</span> called Project <span class="hljs-string">'Titan'</span>, which <span class="hljs-keyword">is</span> a core part of our green computing strategy aimed at developing energy-efficient hardware to reduce data center power consumption. The official error code <span class="hljs-keyword">for</span> QLeap-V4 overheating <span class="hljs-keyword">is</span> <span class="hljs-string">'ERR_THROTTLE_900'</span>.
- Reason: The parallel execution <span class="hljs-keyword">and</span> fusion step provided the best of both worlds. The vector search contributed the two documents about <span class="hljs-string">'Project Titan'</span>, <span class="hljs-keyword">and</span> the keyword search contributed the document <span class="hljs-keyword">with</span> the specific error code. By combining these unique results into a single, rich context, the generator had <span class="hljs-built_in">all</span> the information it needed to construct a complete <span class="hljs-keyword">and</span> correct answer.
</code></pre>
<p>æœ€ç»ˆåˆ†æå¯¹æ··åˆæ–¹æ³•çš„ä¼˜è¶Šæ€§åšå‡ºäº†æ˜ç¡®åˆ¤æ–­ã€‚</p>
<ul>
<li>ä»…ä½¿ç”¨å‘é‡å’Œä»…ä½¿ç”¨å…³é”®è¯çš„ç³»ç»Ÿéƒ½äº§ç”Ÿäº†ä¸å®Œæ•´ã€éƒ¨åˆ†æ­£ç¡®çš„ç­”æ¡ˆï¼Œæ¯ä¸ªç³»ç»Ÿéƒ½åªèƒ½çœ‹åˆ°é—®é¢˜çš„ä¸€éƒ¨åˆ†ã€‚</li>
<li>å‘é‡æœç´¢ç†è§£äº†â€œèŠ‚èƒ½â€çš„æ¦‚å¿µï¼Œä½†é”™è¿‡äº†é”™è¯¯ä»£ç çš„å…·ä½“å…³é”®è¯ã€‚å…³é”®è¯æœç´¢æ‰¾åˆ°äº†é”™è¯¯ä»£ç ï¼Œä½†é”™è¿‡äº†å…³äºå…¬å¸å¯æŒç»­å‘å±•æˆ˜ç•¥çš„æ¦‚å¿µæ€§æ–‡æ¡£ã€‚</li>
<li>æ··åˆæœç´¢ç³»ç»ŸæˆåŠŸçš„åŸå› åœ¨äºå®ƒä¸æ˜¯ä¸“å®¶ï¼Œè€Œæ˜¯ç”±ä¸“å®¶æ„å»ºçš„é€šæ‰ï¼Œå…¶å¹¶è¡Œçš„â€œåˆ†æ•£-èšé›†â€æ–¹æ³•ç¡®ä¿ä»ä¸¤ç§æ£€ç´¢æ–¹æ³•ä¸­æ•è·äº†ç‹¬ç‰¹çš„å‘ç°ã€‚</li>
<li>èåˆæ­¥éª¤åˆ›å»ºäº†åŒ…å«æ‰€æœ‰å¿…è¦äº‹å®çš„å•ä¸€ã€å…¨é¢çš„ä¸Šä¸‹æ–‡ï¼Œä½¿æœ€ç»ˆçš„ç”Ÿæˆå¼ä»£ç†èƒ½å¤Ÿè½»æ¾ç»¼åˆå‡ºå®Œæ•´ä¸”å‡†ç¡®çš„ç­”æ¡ˆï¼Œè§£å†³äº†ç”¨æˆ·å¤æ‚æŸ¥è¯¢çš„ä¸¤ä¸ªéƒ¨åˆ†ã€‚</li>
</ul>
<hr/>
<blockquote>
<p>Hiï¼Œæˆ‘æ˜¯ä¿å‡¡ï¼Œä¸€åå…¼å…·æŠ€æœ¯æ·±åº¦ä¸ç®¡ç†è§†é‡çš„æŠ€æœ¯ç®¡ç†è€…ã€‚æ›¾å°±èŒäº Motorolaï¼Œç°ä»»èŒäº Mavenirï¼Œå¤šå¹´å¸¦é¢†æŠ€æœ¯å›¢é˜Ÿï¼Œèšç„¦åç«¯æ¶æ„ä¸äº‘åŸç”Ÿï¼ŒæŒç»­å…³æ³¨ AI ç­‰å‰æ²¿æ–¹å‘ï¼Œä¹Ÿå…³æ³¨äººçš„æˆé•¿ï¼Œç¬ƒä¿¡æŒç»­å­¦ä¹ çš„åŠ›é‡ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä¼šåˆ†äº«æŠ€æœ¯å®è·µä¸æ€è€ƒã€‚æ¬¢è¿å…³æ³¨å…¬ä¼—å·ã€ŒDeepNoMindã€ï¼Œæ˜Ÿæ ‡ä¸è¿·è·¯ã€‚ä¹Ÿæ¬¢è¿è®¿é—®ç‹¬ç«‹ç«™ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.deepnomind.com" title="https://www.deepnomind.com" target="_blank" ref="nofollow noopener noreferrer">www.DeepNoMind.com</a>ï¼Œä¸€èµ·äº¤æµæˆé•¿ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI æ™ºèƒ½ä½“æ¨¡æ‹Ÿå¹³è¡Œä¸–ç•Œ æ¨æ¼”æœªæ¥ï¼Œè¿™ä¸ª GitHub é¡¹ç›®æœ‰æ„æ€ã€‚]]></title>    <link>https://juejin.cn/post/7595033052797108265</link>    <guid>https://juejin.cn/post/7595033052797108265</guid>    <pubDate>2026-01-15T03:07:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595033052797108265" data-draft-id="7594791357145120810" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI æ™ºèƒ½ä½“æ¨¡æ‹Ÿå¹³è¡Œä¸–ç•Œ æ¨æ¼”æœªæ¥ï¼Œè¿™ä¸ª GitHub é¡¹ç›®æœ‰æ„æ€ã€‚"/> <meta itemprop="keywords" content="GitHub"/> <meta itemprop="datePublished" content="2026-01-15T03:07:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é€›é€›GitHub"/> <meta itemprop="url" content="https://juejin.cn/user/1442202996186093"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI æ™ºèƒ½ä½“æ¨¡æ‹Ÿå¹³è¡Œä¸–ç•Œ æ¨æ¼”æœªæ¥ï¼Œè¿™ä¸ª GitHub é¡¹ç›®æœ‰æ„æ€ã€‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1442202996186093/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é€›é€›GitHub
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-15T03:07:27.000Z" title="Thu Jan 15 2026 03:07:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿™æ˜¯ä¸€ä¸ªéå¸¸æœ‰æ„æ€çš„ GitHub å¼€æºé¡¹ç›®ï¼Œåå« MiroFishã€‚</p>
<p>åˆšå¼€æºæ²¡å¤šé•¿æ—¶é—´ï¼Œå·²ç»æœ‰ 1000 å¤šäºº Star äº†ã€‚</p>
<p>å®ƒæ˜¯ä¸€ä¸ªåŸºäºå¤šæ™ºèƒ½ä½“æŠ€æœ¯çš„é¢„æµ‹å¼•æ“ï¼Œé€šè¿‡æ¨¡æ‹Ÿç¾¤ä½“è¡Œä¸ºæ¥æ¨æ¼”æœªæ¥ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0a568b7faca4f73bdbf937ec1e8ea49~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769051247&amp;x-signature=AQa0VxbSnYMYfQM593ak6JI87Yo%3D" alt="å›¾ç‰‡" loading="lazy"/><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" loading="lazy"/></p>
<p>å•¥æ„æ€å‘¢ï¼ŸÂ </p>
<p>ä½ ç»™å®ƒä¸€äº›ç°å®ä¸–ç•Œçš„ç§å­ä¿¡æ¯ï¼Œæ¯”å¦‚æŸä¸€ä¸ªçªå‘äº‹ä»¶çš„æè¿°ã€‚</p>
<p>å®ƒä¼šåŸºäºè¿™äº›ä¿¡æ¯ï¼Œè‡ªåŠ¨æ„å»ºä¸€ä¸ªé«˜ä¿çœŸçš„å¹³è¡Œæ•°å­—ä¸–ç•Œã€‚</p>
<p>åœ¨è¿™ä¸ªæ•°å­—ç©ºé—´é‡Œï¼Œæˆåƒä¸Šä¸‡ä¸ªÂ AI æ™ºèƒ½ä½“æ‹¥æœ‰ç‹¬ç«‹çš„äººæ ¼ã€é•¿æœŸçš„è®°å¿†å’Œè¡Œä¸ºé€»è¾‘ã€‚å®ƒä»¬ä¼šåƒçœŸå®ä¸–ç•Œçš„äººä¸€æ ·è‡ªç”±äº¤äº’ï¼Œè¿›è¡Œç¤¾ä¼šæ¼”åŒ–ã€‚</p>
<p>ä½¿ç”¨è€…å¯ä»¥ç«™åœ¨ä¸Šå¸è§†è§’ï¼ŒåŠ¨æ€æ³¨å…¥å˜é‡ï¼Œè§‚å¯Ÿäº‹æƒ…ä¼šå¦‚ä½•å‘å±•ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¿™ï¼šä¸Šä¼ ä»»æ„æŠ¥å‘Šï¼Œå³åˆ»æ¨æ¼”æœªæ¥ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9fcc79dcdd5f4a35bcfb5408ddee9453~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769051247&amp;x-signature=fmdWv7kUXGHSXsZnMgnvNjeqeCY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/666ghj/MiroFish</span>
</code></pre>
<h2 data-id="heading-0">01ã€å¼€æºé¡¹ç›®ç®€ä»‹</h2>
<p>è¿˜è®°å¾—ä¹‹å‰é€›é€›æ¨èçš„å¼€æºé¡¹ç›®Â BettaFish å—ï¼Ÿ</p>
<p>å°±æ˜¯é‚£ä¸ªÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUxNjg4NDEzNA%3D%3D%26mid%3D2247528548%26idx%3D1%26sn%3D83a34b20b4e54768f7b6d7f5e4d41542%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUxNjg4NDEzNA==&amp;mid=2247528548&amp;idx=1&amp;sn=83a34b20b4e54768f7b6d7f5e4d41542&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">1 å¤©ç‹‚æ½ 4000 å¤š Star çš„ AI èˆ†æƒ…åˆ†æå¼€æºç¥å™¨</a>ã€‚</p>
<p>è¿™ä¸ªå« MiroFish å°±æ˜¯å¼€å‘è€…å¦å¤–ä¸€ä¸ªå¼€æºé¡¹ç›®ã€‚å®ƒçš„ç†å¿µè¿˜æ˜¯æŒºæœ‰æ„æ€çš„</p>
<p>å¯ä»¥çœ‹åˆ°ï¼ŒMiroFish çš„å·¥ä½œæµç¨‹åˆ†ä¸ºå‡ æ­¥ï¼š</p>
<p>é¦–å…ˆæ˜¯å›¾è°±æ„å»ºï¼Œæå–ä¿¡æ¯å¹¶æ³¨å…¥è®°å¿†ï¼›ç„¶åæ˜¯ç¯å¢ƒæ­å»ºï¼Œç”Ÿæˆäººè®¾å’Œé…ç½®ç¯å¢ƒã€‚</p>
<p>æ¥ç€å¼€å§‹æ¨¡æ‹Ÿï¼ŒåŒå¹³å°å¹¶è¡Œè¿è¡Œï¼ŒåŠ¨æ€æ›´æ–°è®°å¿†ï¼›æœ€åç”±ä¸“é—¨çš„æŠ¥å‘Šæ™ºèƒ½ä½“ç”Ÿæˆç»“æœã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/71a0d4314ba9403fa5dc7e850672d7a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769051247&amp;x-signature=Qg9tQ4kK9ABh%2FItZr4ooK%2Bqjcj8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>MiroFish é‡‡ç”¨äº†å¢å¼ºç‰ˆçš„æ—¶åº GraphRAG æŠ€æœ¯æ¥æ„å»ºçŸ¥è¯†å›¾è°±ï¼Œèƒ½å¤„ç†å…·æœ‰å…ˆåé¡ºåºçš„å¤æ‚è®°å¿†ï¼Œä»è€Œç²¾å‡†è¿˜åŸäº‹ä»¶èƒŒæ™¯ã€‚</p>
<p>ç³»ç»Ÿä¼šè‡ªåŠ¨ä¸ºæ¯ä¸ª Agent è®¾å®šè¯¦ç»†çš„äººæ ¼å±æ€§ã€è®°å¿†èƒŒæ™¯ï¼Œç”šè‡³åŒ…æ‹¬å…¶åœ¨ç¤¾äº¤åª’ä½“ä¸Šçš„æ´»è·ƒæ—¶é—´æ®µã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/28609bbbb9594e4c943e432e09cb50fd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769051247&amp;x-signature=%2FGyRKBwjxPNCjbfMC0Wmy5G7eiA%3D" alt="å›¾ç‰‡" loading="lazy"/><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" loading="lazy"/></p>
<p>åœ¨æ¨¡æ‹Ÿè¿‡ç¨‹ä¸­ï¼ŒAgent ä¹‹é—´ä¼šè‡ªåŠ¨äº§ç”Ÿå‘å¸–ã€ç‚¹èµã€è®¿è°ˆç­‰ç¤¾äº¤è¡Œä¸ºã€‚æœ€ç»ˆï¼Œç³»ç»Ÿä¼šæ±‡æ€»æ¨¡æ‹Ÿæ•°æ®å¹¶ç”Ÿæˆä¸€ä»½è¯¦å°½çš„é¢„æµ‹æŠ¥å‘Šã€‚</p>
<p>ç”¨æˆ·è¿˜å¯ä»¥ç›´æ¥ä¸æ¨¡æ‹Ÿä¸–ç•Œä¸­çš„ç‰¹å®š Agent è¿›è¡Œå¯¹è¯æˆ–å¼€å±•é—®å·è°ƒæŸ¥ï¼Œæ·±åº¦æ´å¯Ÿç¤¾ä¼šæƒ…ç»ªçš„æ¼”å˜è¿‡ç¨‹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7a0d1ad93f0b4773af823af231f7fe8e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769051247&amp;x-signature=FMFpL2sFqXgPJzR82KlHA5ejklQ%3D" alt="å›¾ç‰‡" loading="lazy"/><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" loading="lazy"/></p>
<p>è¿™ä¸ªå¼€æºå·¥å…·èƒ½åšå•¥å‘¢ï¼Ÿ</p>
<p>å†³ç­–è€…å¯ä»¥ç”¨å®ƒåšæ”¿ç­–æˆ–å…¬å…³çš„é¢„æ¼”ï¼Œåœ¨é›¶é£é™©çš„ç¯å¢ƒä¸‹è¯•é”™ã€‚æ¯”å¦‚é¢å¯¹ä¸€ä¸ªå…¬å…³å±æœºï¼Œå†…éƒ¨ç»å¸¸ä¼šè®¨è®ºï¼Œå¦‚æœåšäº†æŸä»¶äº‹äº‹æ€ä¼šå‘å±•æˆä»€ä¹ˆæ ·ï¼Ÿ</p>
<p>æ”¶é›†äº†å°½å¯èƒ½å¤šçš„ä¿¡æ¯åï¼Œç”¨ MiroFish æ¥æ¨¡æ‹Ÿä¸€ä¸‹ï¼Œæ¯•ç«Ÿæ²¡æœ‰æˆæœ¬ã€‚</p>
<p>ä¹Ÿèƒ½ç”¨å®ƒæ¥æ¨æ¼”å°è¯´ç»“å±€ï¼Œæˆ–è€…æ¢ç´¢å„ç§è„‘æ´å¤§å¼€çš„è®¾æƒ³ã€‚æ¯”å¦‚ï¼šæƒåŠ›çš„æ¸¸æˆç»“å±€æ˜¯å•¥ï¼Ÿ å“ˆå“ˆå“ˆå“ˆã€‚</p>
<h2 data-id="heading-1">02ã€å¦‚ä½•ä½¿ç”¨</h2>
<p>è¿™ä¸ªé¡¹ç›®çš„ä½¿ç”¨æ–¹å¼ä¹Ÿå¾ˆç®€å•ã€‚å¯ä»¥å®‰è£…ä¸‹å›¾çš„æ–¹å¼è¿›è¡Œéƒ¨ç½²ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/46272e0edca94c08a16dfc64b3f60847~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769051247&amp;x-signature=NbQJ1GfziXK0nUy58eRVinx%2FSvQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä½¿ç”¨çš„æ—¶å€™ï¼Œä½ åªéœ€è¦ä¸Šä¼ ç§å­ææ–™ï¼Œç„¶åç”¨è‡ªç„¶è¯­è¨€æè¿°ä½ æƒ³é¢„æµ‹çš„å†…å®¹ã€‚MiroFish ä¼šè¿è¡Œæ¨¡æ‹Ÿï¼Œæœ€åç»™ä½ ä¸€ä»½è¯¦å°½çš„é¢„æµ‹æŠ¥å‘Šã€‚</p>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œå®ƒè¿˜ä¼šç”Ÿæˆä¸€ä¸ªå¯ä»¥æ·±åº¦äº¤äº’çš„æ•°å­—ä¸–ç•Œï¼Œä½ å¯ä»¥ç›´æ¥è¿›å»å’Œé‡Œé¢çš„æ™ºèƒ½ä½“å¯¹è¯ï¼Œäº†è§£å®ƒä»¬çš„æƒ³æ³•ã€‚</p>
<p>MiroFish è¿˜æ˜¯ä¸€ä¸ªéå¸¸æœ‰é‡å¿ƒçš„å¼€æºé¡¹ç›®ï¼Œå®ƒå°è¯•å°†å¤§æ¨¡å‹ Agent ä»å•ä½“åŠ©æ‰‹è¿›åŒ–ä¸ºç¤¾ä¼šç¾¤ä½“ï¼Œé€šè¿‡æ¨¡æ‹Ÿç¤¾ä¼šæ¼”åŒ–æ¥è¾…åŠ©ç°å®é¢„æµ‹ã€‚</p>
<p>è¿˜æ˜¯æŒºé€‚åˆå¯¹ Multi-Agent Systemsã€ç¤¾ä¼šæ¨¡æ‹Ÿä»¥åŠ AI å†³ç­–è¾…åŠ©æ„Ÿå…´è¶£çš„æœ‹å‹ç ”ç©¶å’Œå°è¯•ã€‚</p>
<p>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FNnCB275hICM5sKPM04Pb2g" target="_blank" title="https://mp.weixin.qq.com/s/NnCB275hICM5sKPM04Pb2g" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/NnCB275hIâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[langchainæ ¸å¿ƒç»„ä»¶ Model I/Oï¼ˆ5ï¼‰-chain]]></title>    <link>https://juejin.cn/post/7595115707161346089</link>    <guid>https://juejin.cn/post/7595115707161346089</guid>    <pubDate>2026-01-15T03:01:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595115707161346089" data-draft-id="7595056696517001235" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="langchainæ ¸å¿ƒç»„ä»¶ Model I/Oï¼ˆ5ï¼‰-chain"/> <meta itemprop="keywords" content="LangChain"/> <meta itemprop="datePublished" content="2026-01-15T03:01:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é€¸å‡¡"/> <meta itemprop="url" content="https://juejin.cn/user/2921852864575780"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            langchainæ ¸å¿ƒç»„ä»¶ Model I/Oï¼ˆ5ï¼‰-chain
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2921852864575780/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é€¸å‡¡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-15T03:01:24.000Z" title="Thu Jan 15 2026 03:01:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    12
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>1.1 RunnableLambda å¯è¿è¡Œ</p>
<p>RunnableLambda å°† Python å¯è°ƒç”¨å‡½æ•°è½¬æ¢ä¸º Runnableï¼Œä½¿å¾—å‡½æ•°å¯ä»¥åœ¨åŒæ­¥æˆ–å¼‚æ­¥ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨ã€‚</p>
<p>ä¸¾ä¾‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_core.runnables <span class="hljs-keyword">import</span> RunnableLambda

chain = { 
  <span class="hljs-string">"text1"</span>: <span class="hljs-keyword">lambda</span> x: x + <span class="hljs-string">" world"</span>, 
  <span class="hljs-string">"text2"</span>: <span class="hljs-keyword">lambda</span> x: x + <span class="hljs-string">", how are you"</span>,
}| RunnableLambda(<span class="hljs-keyword">lambda</span> x: <span class="hljs-built_in">len</span>(x[<span class="hljs-string">"text1"</span>])+ <span class="hljs-built_in">len</span>(x[<span class="hljs-string">"text2"</span>]))

result = chain.invoke(<span class="hljs-string">"hello"</span>)
<span class="hljs-built_in">print</span>(result)  
</code></pre>
<p>ä¹Ÿå¯ä»¥é€šè¿‡è£…é¥°å™¨æ¥ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_core.runnables <span class="hljs-keyword">import</span> RunnableLambda

<span class="hljs-meta">@RunnableLambda</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">total_len</span>(<span class="hljs-params">x</span>): 
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(x[<span class="hljs-string">"text1"</span>]) + <span class="hljs-built_in">len</span>(x[<span class="hljs-string">"text2"</span>])
 
chain = { 
  <span class="hljs-string">"text1"</span>: <span class="hljs-keyword">lambda</span> x: x + <span class="hljs-string">" world"</span>, 
  <span class="hljs-string">"text2"</span>: <span class="hljs-keyword">lambda</span> x: x + <span class="hljs-string">", how are you"</span>,
}| total_len
result = chain.invoke(<span class="hljs-string">"hello"</span>)
<span class="hljs-built_in">print</span>(result)  <span class="hljs-comment"># 29</span>
</code></pre>
<p>1.2 RunnablePassthrough å¯è¿è¡Œé€ä¼ </p>
<p>RunnablePassthrough æ¥æ”¶è¾“å…¥å¹¶å°†å…¶åŸæ ·è¾“å‡ºã€‚RunnablePassthrough æ˜¯ LangChain LCEL ä½“ç³»ä¸­çš„â€œæ— æ“ä½œèŠ‚ç‚¹â€ï¼Œç”¨äºåœ¨æµæ°´çº¿ä¸­é€ä¼ è¾“å…¥æˆ–ä¿ç•™ä¸Šä¸‹æ–‡ï¼Œä¹Ÿå¯ä»¥ç”¨äºå‘è¾“å‡ºä¸­æ·»åŠ é”®ã€‚</p>
<p>ä¸¾ä¾‹ï¼šä¿ç•™ä¸­é—´ç»“æœ</p>
<pre><code class="hljs language-ini" lang="ini">from langchain_core.runnablesimport RunnablePassthrough,RunnableParallel

<span class="hljs-attr">chain</span> = RunnableParallel(
   <span class="hljs-attr">original</span>=RunnablePassthrough(),
 <span class="hljs-comment"># ä¿ç•™ä¸­é—´ç»“æœ </span>
  <span class="hljs-attr">word_count</span>=lambda x: len(x),
)
<span class="hljs-attr">result</span> = chain.invoke(<span class="hljs-string">"hello world"</span>)
print(result)  <span class="hljs-comment"># {'original': 'hello world','word_count': 11}</span>
</code></pre>
<p>ä¸¾ä¾‹ï¼šä½¿ç”¨ assign() å‘è¾“å‡ºä¸­æ·»åŠ é”®</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">from</span> langchain_core<span class="hljs-selector-class">.runnables</span> import RunnablePassthrough
chain = { 
  "text1": lambda x: x + <span class="hljs-string">" world"</span>, 
  <span class="hljs-string">"text2"</span>: lambda x: x + <span class="hljs-string">", how are you"</span>,
}| RunnablePassthrough<span class="hljs-selector-class">.assign</span>(word_count=lambda x: <span class="hljs-built_in">len</span>(x[<span class="hljs-string">"text1"</span>]+ x[<span class="hljs-string">"text2"</span>]))
result = chain.<span class="hljs-built_in">invoke</span>(<span class="hljs-string">"hello"</span>)
<span class="hljs-built_in">print</span>(result)
#{'text1': <span class="hljs-string">'hello world'</span>, <span class="hljs-string">'text2'</span>: <span class="hljs-string">'hello, how are you'</span>, <span class="hljs-string">'word_count'</span>: <span class="hljs-number">29</span>}
</code></pre>
<p>1.3 RunnableBranch å¯è¿è¡Œåˆ†æ”¯</p>
<p>RunnableBranch ä½¿ç”¨ (æ¡ä»¶ï¼ŒRunnable) å¯¹åˆ—è¡¨å’Œé»˜è®¤åˆ†æ”¯è¿›è¡Œåˆå§‹åŒ–ã€‚å¯¹è¾“å…¥è¿›è¡Œæ“ä½œæ—¶ï¼Œé€‰æ‹©ç¬¬ä¸€ä¸ªè®¡ç®—ç»“æœä¸º True çš„æ¡ä»¶ï¼Œå¹¶åœ¨è¾“å…¥ä¸Šè¿è¡Œç›¸åº”çš„ Runnableã€‚å¦‚æœæ²¡æœ‰æ¡ä»¶ä¸º Trueï¼Œåˆ™åœ¨è¾“å…¥ä¸Šè¿è¡Œé»˜è®¤åˆ†æ”¯ã€‚</p>
<p>ä¸¾ä¾‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_core.runnables <span class="hljs-keyword">import</span> RunnableBranch

branch = RunnableBranch( 
  (<span class="hljs-keyword">lambda</span> x: <span class="hljs-built_in">isinstance</span>(x, <span class="hljs-built_in">str</span>), <span class="hljs-keyword">lambda</span> x: x.upper())
  (<span class="hljs-keyword">lambda</span> x: <span class="hljs-built_in">isinstance</span>(x, <span class="hljs-built_in">int</span>), <span class="hljs-keyword">lambda</span> x: x + <span class="hljs-number">1</span>), 
  (<span class="hljs-keyword">lambda</span> x: <span class="hljs-built_in">isinstance</span>(x, <span class="hljs-built_in">float</span>), <span class="hljs-keyword">lambda</span> x: x * <span class="hljs-number">2</span>) 
  <span class="hljs-keyword">lambda</span> x: <span class="hljs-string">"goodbye"</span>,
) 
result = branch.invoke(<span class="hljs-string">"hello"</span>)
<span class="hljs-built_in">print</span>(result)  <span class="hljs-comment"># HELLO </span>
result = branch.invoke(<span class="hljs-literal">None</span>)
<span class="hljs-built_in">print</span>(result)  <span class="hljs-comment"># goodbye</span>
</code></pre>
<p>1.4 RunnableWithFallbacks å¯è¿è¡Œå¸¦å›é€€</p>
<p>RunnableWithFallbacks ä½¿å¾— Runnable å¤±è´¥åå¯ä»¥å›é€€åˆ°å…¶ä»– Runnableã€‚å¯ä»¥ç›´æ¥åœ¨Runnable ä¸Šä½¿ç”¨ with_fallbacks æ–¹æ³•ã€‚</p>
<p>ä¸¾ä¾‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">import os

from langchain.chat_models import init_chat_model
from langchain_core.prompts import PromptTemplate
from langchain_core.runnables import RunnableLambda
<span class="hljs-attr">llm</span> = init_chat_model(
  <span class="hljs-attr">model</span>=<span class="hljs-string">"openai/gpt-oss-20b:free"</span>,
  <span class="hljs-attr">model_provider</span>=<span class="hljs-string">"openai"</span>,
  <span class="hljs-attr">base_url</span>=<span class="hljs-string">"https://openrouter.ai/api/v1"</span>, 
  <span class="hljs-attr">api_key</span>=os.getenv(<span class="hljs-string">"OPENROUTER_API_KEY"</span>),
)
<span class="hljs-attr">chain</span> = PromptTemplate.from_template(<span class="hljs-string">"hello"</span>) | llm
<span class="hljs-attr">chain_with_fallback</span> = chain.with_fallbacks([RunnableLambda(lambda x: <span class="hljs-string">"sorry"</span>)])
<span class="hljs-attr">result</span> = chain_with_fallback.invoke(<span class="hljs-string">"1"</span>)  <span class="hljs-comment"># æç¤ºè¯æ¨¡æ¿ä¸­æ²¡æœ‰éœ€è¦å¡«å……çš„å˜é‡ï¼Œä¼šæŠ¥é”™</span>
print(result)  <span class="hljs-comment"># sorry</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æµåª’ä½“æœåŠ¡mediamtxå’ŒFFMpegå·¥å…·é“¾è”åˆå®éªŒ]]></title>    <link>https://juejin.cn/post/7595040803582165007</link>    <guid>https://juejin.cn/post/7595040803582165007</guid>    <pubDate>2026-01-15T03:11:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595040803582165007" data-draft-id="7595055962152599552" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æµåª’ä½“æœåŠ¡mediamtxå’ŒFFMpegå·¥å…·é“¾è”åˆå®éªŒ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-15T03:11:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="fisher_sky"/> <meta itemprop="url" content="https://juejin.cn/user/2747009852507566"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æµåª’ä½“æœåŠ¡mediamtxå’ŒFFMpegå·¥å…·é“¾è”åˆå®éªŒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2747009852507566/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    fisher_sky
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-15T03:11:26.000Z" title="Thu Jan 15 2026 03:11:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    9
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>ç¯å¢ƒå‡†å¤‡</strong></p>
<ol>
<li>Windowsç³»ç»Ÿ</li>
<li>Linuxç³»ç»Ÿï¼Œå¦‚Ubuntuæˆ–centosï¼ˆéå¿…é¡»ï¼‰</li>
<li>Windowsä¸‹gitbashç»ˆç«¯</li>
<li>Linuxç³»ç»Ÿï¼Œå®‰è£…golang1.25ä»¥ä¸Šï¼ˆéå¿…é¡»ï¼‰</li>
</ol>
<p><strong>è¯´æ˜</strong></p>
<blockquote>
<p>mediamtxå’Œffmpegéƒ½æœ‰windowså¹³å°ä¸‹çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œç»ç¬”è€…éªŒè¯å¯ä»¥å®Œæˆæ•´ä¸ªé“¾è·¯å®éªŒã€‚ä¸‹æ–‡ä»…åœ¨éªŒè¯ffmpegçš„æ¨æµå‚æ•°æ•ˆæœã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€Mediamtx</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fbluenviron%2Fmediamtx%2Freleases" target="_blank" title="https://github.com/bluenviron/mediamtx/releases" ref="nofollow noopener noreferrer">ä¸‹è½½åœ°å€
</a></p>
<p>é€‰æ‹©åœ¨Linuxç³»ç»Ÿä¸‹æ„å»ºï¼Œéœ€è¦golang1.25.xç‰ˆæœ¬ä»¥ä¸Šï¼Œå¯ä»¥ç»•å¼€dockeræ–¹å¼æ„å»ºï¼Œå…·ä½“å¦‚ä¸‹</p>
<h3 data-id="heading-1">1.1 ä¸‹è½½æ„å»º</h3>
<pre><code class="hljs language-bash" lang="bash">git <span class="hljs-built_in">clone</span> https://github.com/bluenviron/mediamtx.git

<span class="hljs-built_in">cd</span> mediamtx

go build -tags enableUpgrade -o bin/mediamtx
</code></pre>
<h3 data-id="heading-2">1.2 å¯åŠ¨</h3>
<pre><code class="hljs language-bash" lang="bash">./bin/mediamtx
</code></pre>
<p><strong>è¾“å‡º</strong></p>
<pre><code class="hljs language-media" lang="media">2026/01/15 10:20:48 INF MediaMTX v1.15.6-18-c14fe778, linux, amd64
2026/01/15 10:20:48 INF configuration loaded from /root/webrtc/mediamtx/mediamtx.yml
2026/01/15 10:20:48 INF [RTSP] listener opened on :8554 (TCP), :8000 (UDP/RTP), :8001 (UDP/RTCP)
2026/01/15 10:20:48 INF [RTMP] listener opened on :1935
2026/01/15 10:20:48 INF [HLS] listener opened on :8888
2026/01/15 10:20:48 INF [WebRTC] listener opened on :8889 (HTTP), :8189 (ICE/UDP)
2026/01/15 10:20:48 INF [SRT] listener opened on :8890 (UDP)

</code></pre>
<h2 data-id="heading-3">äºŒã€FFmpeg</h2>
<h3 data-id="heading-4">2.1 ä¸‹è½½ &amp; è§£å‹</h3>
<p><strong>å®˜ç½‘ä¸‹è½½é“¾æ¥å¯èƒ½ä¸å®šæœŸå˜æ›´</strong></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.gyan.dev%2Fffmpeg%2Fbuilds%2F" target="_blank" title="https://www.gyan.dev/ffmpeg/builds/" ref="nofollow noopener noreferrer">ä¸‹è½½åœ°å€</a></p>
<p>é€‰æ‹©<code>ffmpeg-7.1.1-essentials_build.zip</code>, ä¸‹è½½å¹¶è§£å‹åˆ°Dç›˜æ ¹ç›®å½•<code>D:\ffmpeg-7.1.1-essentials_build</code></p>
<h3 data-id="heading-5">2.2 å‡†å¤‡mp4è§†é¢‘æ–‡ä»¶</h3>
<blockquote>
<p>ä¸‹è½½å¹¶ä¿å­˜åˆ°ffmpegçš„è§£å‹ç›®å½•ä¸‹ï¼Œå¦‚D:\ffmpeg-7.1.1-essentials_build\test.mp4</p>
</blockquote>
<h3 data-id="heading-6">2.3 åˆ‡æ¢å·¥ä½œç›®å½•</h3>
<pre><code class="hljs language-workspace" lang="workspace">cd D:\ffmpeg-7.1.1-essentials_build
</code></pre>
<h3 data-id="heading-7">2.4 æ¨æµ &amp; æ‹‰æµ</h3>
<p><strong>ipéƒ¨åˆ†æ›¿æ¢ä¸ºå®é™…ç¯å¢ƒåœ°å€</strong></p>
<h4 data-id="heading-8">2.4.1 æ¨æµ-è´´ç‰‡è®¡æ•°å™¨</h4>
<pre><code class="hljs language-**ffmpeg**" lang="**ffmpeg**">./bin/ffmpeg.exe -re -stream_loop -1 -i test.mp4 -vf "drawtext=fontsize=40:timecode='00\:00\:00\:00':r=25" -c:v libx264 -an -f rtsp rtsp://&lt;ip&gt;:8554/mystream
</code></pre>
<p><strong>è¾“å‡º</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-number">264</span> <span class="hljs-string">-an</span> <span class="hljs-string">-f</span> <span class="hljs-string">rtsp</span> <span class="hljs-string">rtsp://106.14.92.45:8554/mystream</span>
<span class="hljs-string">ffmpeg</span> <span class="hljs-string">version</span> <span class="hljs-number">7.1</span><span class="hljs-number">.1</span><span class="hljs-string">-essentials_build-www.gyan.dev</span> <span class="hljs-string">Copyright</span> <span class="hljs-string">(c)</span> <span class="hljs-number">2000</span><span class="hljs-number">-2025</span> <span class="hljs-string">the</span> <span class="hljs-string">FFmpeg</span> <span class="hljs-string">developers</span>
  <span class="hljs-string">built</span> <span class="hljs-string">with</span> <span class="hljs-string">gcc</span> <span class="hljs-number">14.2</span><span class="hljs-number">.0</span> <span class="hljs-string">(Rev1,</span> <span class="hljs-string">Built</span> <span class="hljs-string">by</span> <span class="hljs-string">MSYS2</span> <span class="hljs-string">project)</span>
  <span class="hljs-attr">configuration:</span> <span class="hljs-string">--enable-gpl</span> <span class="hljs-string">--enable-version3</span> <span class="hljs-string">--enable-static</span> <span class="hljs-string">--disable-w32threads</span> <span class="hljs-string">--disable-autodetect</span> <span class="hljs-string">--enable-fon</span>
<span class="hljs-string">tconfig</span> <span class="hljs-string">--enable-iconv</span> <span class="hljs-string">--enable-gnutls</span> <span class="hljs-string">--enable-libxml2</span> <span class="hljs-string">--enable-gmp</span> <span class="hljs-string">--enable-bzlib</span> <span class="hljs-string">--enable-lzma</span> <span class="hljs-string">--enable-zlib</span> <span class="hljs-string">--enab</span>
<span class="hljs-string">le-libsrt</span> <span class="hljs-string">--enable-libssh</span> <span class="hljs-string">--enable-libzmq</span> <span class="hljs-string">--enable-avisynth</span> <span class="hljs-string">--enable-sdl2</span> <span class="hljs-string">--enable-libwebp</span> <span class="hljs-string">--enable-libx264</span> <span class="hljs-string">--enable-l</span>
<span class="hljs-string">ibx265</span> <span class="hljs-string">--enable-libxvid</span> <span class="hljs-string">--enable-libaom</span> <span class="hljs-string">--enable-libopenjpeg</span> <span class="hljs-string">--enable-libvpx</span> <span class="hljs-string">--enable-mediafoundation</span> <span class="hljs-string">--enable-libass</span>
<span class="hljs-string">--enable-libfreetype</span> <span class="hljs-string">--enable-libfribidi</span> <span class="hljs-string">--enable-libharfbuzz</span> <span class="hljs-string">--enable-libvidstab</span> <span class="hljs-string">--enable-libvmaf</span> <span class="hljs-string">--enable-libzimg</span> <span class="hljs-string">--</span>
<span class="hljs-string">enable-amf</span> <span class="hljs-string">--enable-cuda-llvm</span> <span class="hljs-string">--enable-cuvid</span> <span class="hljs-string">--enable-dxva2</span> <span class="hljs-string">--enable-d3d11va</span> <span class="hljs-string">--enable-d3d12va</span> <span class="hljs-string">--enable-ffnvcodec</span> <span class="hljs-string">--ena</span>
<span class="hljs-string">ble-libvpl</span> <span class="hljs-string">--enable-nvdec</span> <span class="hljs-string">--enable-nvenc</span> <span class="hljs-string">--enable-vaapi</span> <span class="hljs-string">--enable-libgme</span> <span class="hljs-string">--enable-libopenmpt</span> <span class="hljs-string">--enable-libopencore-amrwb</span>
 <span class="hljs-string">--enable-libmp3lame</span> <span class="hljs-string">--enable-libtheora</span> <span class="hljs-string">--enable-libvo-amrwbenc</span> <span class="hljs-string">--enable-libgsm</span> <span class="hljs-string">--enable-libopencore-amrnb</span> <span class="hljs-string">--enable-li</span>
<span class="hljs-string">bopus</span> <span class="hljs-string">--enable-libspeex</span> <span class="hljs-string">--enable-libvorbis</span> <span class="hljs-string">--enable-librubberband</span>
  <span class="hljs-string">libavutil</span>      <span class="hljs-number">59</span><span class="hljs-string">.</span> <span class="hljs-number">39.100</span> <span class="hljs-string">/</span> <span class="hljs-number">59</span><span class="hljs-string">.</span> <span class="hljs-number">39.100</span>
  <span class="hljs-string">libavcodec</span>     <span class="hljs-number">61</span><span class="hljs-string">.</span> <span class="hljs-number">19.101</span> <span class="hljs-string">/</span> <span class="hljs-number">61</span><span class="hljs-string">.</span> <span class="hljs-number">19.101</span>
  <span class="hljs-string">libavformat</span>    <span class="hljs-number">61</span><span class="hljs-string">.</span>  <span class="hljs-number">7.100</span> <span class="hljs-string">/</span> <span class="hljs-number">61</span><span class="hljs-string">.</span>  <span class="hljs-number">7.100</span>
  <span class="hljs-string">libavdevice</span>    <span class="hljs-number">61</span><span class="hljs-string">.</span>  <span class="hljs-number">3.100</span> <span class="hljs-string">/</span> <span class="hljs-number">61</span><span class="hljs-string">.</span>  <span class="hljs-number">3.100</span>
  <span class="hljs-string">libavfilter</span>    <span class="hljs-number">10</span><span class="hljs-string">.</span>  <span class="hljs-number">4.100</span> <span class="hljs-string">/</span> <span class="hljs-number">10</span><span class="hljs-string">.</span>  <span class="hljs-number">4.100</span>
  <span class="hljs-string">libswscale</span>      <span class="hljs-number">8</span><span class="hljs-string">.</span>  <span class="hljs-number">3.100</span> <span class="hljs-string">/</span>  <span class="hljs-number">8</span><span class="hljs-string">.</span>  <span class="hljs-number">3.100</span>
  <span class="hljs-string">libswresample</span>   <span class="hljs-number">5</span><span class="hljs-string">.</span>  <span class="hljs-number">3.100</span> <span class="hljs-string">/</span>  <span class="hljs-number">5</span><span class="hljs-string">.</span>  <span class="hljs-number">3.100</span>
  <span class="hljs-string">libpostproc</span>    <span class="hljs-number">58</span><span class="hljs-string">.</span>  <span class="hljs-number">3.100</span> <span class="hljs-string">/</span> <span class="hljs-number">58</span><span class="hljs-string">.</span>  <span class="hljs-number">3.100</span>
<span class="hljs-string">Input</span> <span class="hljs-comment">#0, mov,mp4,m4a,3gp,3g2,mj2, from 'test.mp4':</span>
  <span class="hljs-attr">Metadata:</span>
    <span class="hljs-attr">major_brand     :</span> <span class="hljs-string">isom</span>
    <span class="hljs-attr">minor_version   :</span> <span class="hljs-number">512</span>
    <span class="hljs-attr">compatible_brands:</span> <span class="hljs-string">isomiso2avc1mp41</span>
    <span class="hljs-attr">encoder         :</span> <span class="hljs-string">Lavf58.41.100</span>
  <span class="hljs-attr">Duration:</span> <span class="hljs-number">00</span><span class="hljs-string">:00:35.23,</span> <span class="hljs-attr">start:</span> <span class="hljs-number">0.000000</span><span class="hljs-string">,</span> <span class="hljs-attr">bitrate:</span> <span class="hljs-number">787</span> <span class="hljs-string">kb/s</span>
  <span class="hljs-string">Stream</span> <span class="hljs-comment">#0:0[0x1](eng): Video: h264 (High) (avc1 / 0x31637661), yuv420p(progressive), 300x168, 784 kb/s, 30 fps, 30 t</span>
<span class="hljs-string">br,</span> <span class="hljs-number">15360</span> <span class="hljs-string">tbn</span> <span class="hljs-string">(default)</span>
      <span class="hljs-attr">Metadata:</span>
        <span class="hljs-attr">handler_name    :</span> <span class="hljs-string">?Mainconcept</span> <span class="hljs-string">Video</span> <span class="hljs-string">Media</span> <span class="hljs-string">Handler</span>
        <span class="hljs-attr">vendor_id       :</span> [<span class="hljs-number">0</span>][<span class="hljs-number">0</span>][<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]
<span class="hljs-attr">Fontconfig error: Cannot load default config file: No such file:</span> <span class="hljs-string">(null)</span>
<span class="hljs-attr">Stream mapping:</span>
  <span class="hljs-string">Stream</span> <span class="hljs-comment">#0:0 -&gt; #0:0 (h264 (native) -&gt; h264 (libx264))</span>
<span class="hljs-string">Press</span> [<span class="hljs-string">q</span>] <span class="hljs-string">to</span> <span class="hljs-string">stop,</span> [<span class="hljs-string">?</span>] <span class="hljs-string">for</span> <span class="hljs-string">help</span>
<span class="hljs-attr">Fontconfig error: Cannot load default config file: No such file:</span> <span class="hljs-string">(null)</span>
[<span class="hljs-string">libx264</span> <span class="hljs-string">@</span> <span class="hljs-string">000001b629b06cc0</span>] <span class="hljs-attr">using cpu capabilities:</span> <span class="hljs-string">MMX2</span> <span class="hljs-string">SSE2Fast</span> <span class="hljs-string">SSSE3</span> <span class="hljs-string">SSE4.2</span> <span class="hljs-string">AVX</span> <span class="hljs-string">FMA3</span> <span class="hljs-string">BMI2</span> <span class="hljs-string">AVX2</span> <span class="hljs-string">AVX512</span>
[<span class="hljs-string">libx264</span> <span class="hljs-string">@</span> <span class="hljs-string">000001b629b06cc0</span>] <span class="hljs-string">profile</span> <span class="hljs-string">High,</span> <span class="hljs-string">level</span> <span class="hljs-number">1.3</span><span class="hljs-string">,</span> <span class="hljs-number">4</span><span class="hljs-string">:2:0,</span> <span class="hljs-number">8</span><span class="hljs-string">-bit</span>
[<span class="hljs-string">libx264</span> <span class="hljs-string">@</span> <span class="hljs-string">000001b629b06cc0</span>] <span class="hljs-number">264</span> <span class="hljs-bullet">-</span> <span class="hljs-string">core</span> <span class="hljs-number">164</span> <span class="hljs-string">r3204</span> <span class="hljs-string">373697b</span> <span class="hljs-bullet">-</span> <span class="hljs-string">H.264/MPEG-4</span> <span class="hljs-string">AVC</span> <span class="hljs-string">codec</span> <span class="hljs-bullet">-</span> <span class="hljs-string">Copyleft</span> <span class="hljs-number">2003</span><span class="hljs-number">-2025</span> <span class="hljs-bullet">-</span> <span class="hljs-string">http://www.v</span>
<span class="hljs-attr">ideolan.org/x264.html - options:</span> <span class="hljs-string">cabac=1</span> <span class="hljs-string">ref=3</span> <span class="hljs-string">deblock=1:0:0</span> <span class="hljs-string">analyse=0x3:0x113</span> <span class="hljs-string">me=hex</span> <span class="hljs-string">subme=7</span> <span class="hljs-string">psy=1</span> <span class="hljs-string">psy_rd=1.00:0.00</span> <span class="hljs-string">m</span>
<span class="hljs-string">ixed_ref=1</span> <span class="hljs-string">me_range=16</span> <span class="hljs-string">chroma_me=1</span> <span class="hljs-string">trellis=1</span> <span class="hljs-string">8x8dct=1</span> <span class="hljs-string">cqm=0</span> <span class="hljs-string">deadzone=21,11</span> <span class="hljs-string">fast_pskip=1</span> <span class="hljs-string">chroma_qp_offset=-2</span> <span class="hljs-string">threads=5</span>
<span class="hljs-string">lookahead_threads=1</span> <span class="hljs-string">sliced_threads=0</span> <span class="hljs-string">nr=0</span> <span class="hljs-string">decimate=1</span> <span class="hljs-string">interlaced=0</span> <span class="hljs-string">bluray_compat=0</span> <span class="hljs-string">constrained_intra=0</span> <span class="hljs-string">bframes=3</span> <span class="hljs-string">b_pyra</span>
<span class="hljs-string">mid=2</span> <span class="hljs-string">b_adapt=1</span> <span class="hljs-string">b_bias=0</span> <span class="hljs-string">direct=1</span> <span class="hljs-string">weightb=1</span> <span class="hljs-string">open_gop=0</span> <span class="hljs-string">weightp=2</span> <span class="hljs-string">keyint=250</span> <span class="hljs-string">keyint_min=25</span> <span class="hljs-string">scenecut=40</span> <span class="hljs-string">intra_refresh=0</span>
<span class="hljs-string">rc_lookahead=40</span> <span class="hljs-string">rc=crf</span> <span class="hljs-string">mbtree=1</span> <span class="hljs-string">crf=23.0</span> <span class="hljs-string">qcomp=0.60</span> <span class="hljs-string">qpmin=0</span> <span class="hljs-string">qpmax=69</span> <span class="hljs-string">qpstep=4</span> <span class="hljs-string">ip_ratio=1.40</span> <span class="hljs-string">aq=1:1.00</span>
<span class="hljs-string">Output</span> <span class="hljs-comment">#0, rtsp, to 'rtsp://106.14.92.45:8554/mystream':</span>
  <span class="hljs-attr">Metadata:</span>
    <span class="hljs-attr">major_brand     :</span> <span class="hljs-string">isom</span>
    <span class="hljs-attr">minor_version   :</span> <span class="hljs-number">512</span>
    <span class="hljs-attr">compatible_brands:</span> <span class="hljs-string">isomiso2avc1mp41</span>
    <span class="hljs-attr">encoder         :</span> <span class="hljs-string">Lavf61.7.100</span>
  <span class="hljs-string">Stream</span> <span class="hljs-comment">#0:0(eng): Video: h264, yuv420p(tv, progressive), 300x168, q=2-31, 30 fps, 90k tbn (default)</span>
      <span class="hljs-attr">Metadata:</span>
        <span class="hljs-attr">handler_name    :</span> <span class="hljs-string">?Mainconcept</span> <span class="hljs-string">Video</span> <span class="hljs-string">Media</span> <span class="hljs-string">Handler</span>
        <span class="hljs-attr">vendor_id       :</span> [<span class="hljs-number">0</span>][<span class="hljs-number">0</span>][<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]
        <span class="hljs-attr">encoder         :</span> <span class="hljs-string">Lavc61.19.101</span> <span class="hljs-string">libx264</span>
      <span class="hljs-attr">Side data:</span>
        <span class="hljs-attr">cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay:</span> <span class="hljs-string">N/A</span>

</code></pre>
<h4 data-id="heading-9">2.4.2 æ’­æ”¾-è´´ç‰‡è®¡æ•°å™¨</h4>
<pre><code class="hljs language-ffplay" lang="ffplay"> ./bin/ffplay.exe  rtsp://&lt;ip&gt;:8554/mystream
</code></pre>
<p><strong>è¾“å‡º</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e3de5ec4f6fd4f46b7ebe0ff33436d13~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZmlzaGVyX3NreQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769053116&amp;x-signature=9orldqglTuunuS8Mj7Ai4nQnW3w%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[KwaiDesignï¼šä¸ºå¿«æ‰‹å¤šå…ƒä¸šåŠ¡æ‰“é€ ç»Ÿä¸€ã€é«˜æ•ˆçš„è®¾è®¡ä¸å¼€å‘ä½“ç³»]]></title>    <link>https://juejin.cn/post/7595157651619037210</link>    <guid>https://juejin.cn/post/7595157651619037210</guid>    <pubDate>2026-01-15T03:21:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595157651619037210" data-draft-id="7595163067904032777" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="KwaiDesignï¼šä¸ºå¿«æ‰‹å¤šå…ƒä¸šåŠ¡æ‰“é€ ç»Ÿä¸€ã€é«˜æ•ˆçš„è®¾è®¡ä¸å¼€å‘ä½“ç³»"/> <meta itemprop="keywords" content="WeUI,SwiftUI,ArkUI"/> <meta itemprop="datePublished" content="2026-01-15T03:21:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¿«æ‰‹æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/3736571181793721"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            KwaiDesignï¼šä¸ºå¿«æ‰‹å¤šå…ƒä¸šåŠ¡æ‰“é€ ç»Ÿä¸€ã€é«˜æ•ˆçš„è®¾è®¡ä¸å¼€å‘ä½“ç³»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3736571181793721/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¿«æ‰‹æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-15T03:21:24.000Z" title="Thu Jan 15 2026 03:21:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä¸€ã€é¡¹ç›®èƒŒæ™¯</h3>
<p>ä½œä¸ºä¸€å®¶è¦†ç›–çŸ­è§†é¢‘ã€ç›´æ’­ã€ç”µå•†ç­‰å¤šé¢†åŸŸçš„å¹³å°ï¼Œå¿«æ‰‹ä¸šåŠ¡åœºæ™¯å¤æ‚ä¸”äº§å“è¿­ä»£è¿…é€Ÿã€‚è¿‡å»ï¼Œå„ä¸šåŠ¡çº¿åŸºäºå¿«é€Ÿå“åº”éœ€æ±‚ï¼Œé€æ¸å½¢æˆäº†å¤šå¥—ç‹¬ç«‹çš„å‰ç«¯ç»„ä»¶åº“ï¼Œè¿™ä¸€æ¨¡å¼åœ¨æ”¯æ’‘æ—©æœŸä¸šåŠ¡å¢é•¿çš„åŒæ—¶ï¼Œä¹Ÿé€æ¸ç§¯ç´¯å‡ºä»¥ä¸‹ä¸‰å¤§æ ¸å¿ƒé—®é¢˜ï¼š</p>
<ul>
<li>
<p><strong>ä½“éªŒç¢ç‰‡åŒ–</strong>ï¼šä¸åŒ BU çš„äº§å“åœ¨äº¤äº’ç»†èŠ‚ã€è§†è§‰é£æ ¼ä¸Šå­˜åœ¨å·®å¼‚ï¼Œå½±å“äº†â€œå¿«æ‰‹â€å“ç‰Œåœ¨ç”¨æˆ·æ„ŸçŸ¥ä¸­çš„æ•´ä½“æ€§å’Œä¸€è‡´æ€§ã€‚</p>
</li>
<li>
<p><strong>ç ”å‘æ•ˆç‡ç“¶é¢ˆ</strong>ï¼šVue ä¸ React æŠ€æœ¯æ ˆé•¿æœŸå¹¶å­˜ï¼Œå¯¼è‡´ç»„ä»¶æ— æ³•è·¨æŠ€æœ¯æ ˆå¤ç”¨ï¼Œç›¸ä¼¼åŠŸèƒ½éœ€é‡å¤å¼€å‘ï¼›åŒæ—¶ï¼Œè·¨å›¢é˜Ÿåä½œä¹Ÿå› æŠ€æœ¯æ ˆå·®å¼‚è€Œäº§ç”Ÿé¢å¤–çš„å­¦ä¹ ä¸æ²Ÿé€šæˆæœ¬ã€‚</p>
</li>
<li>
<p><strong>ç»´æŠ¤æˆæœ¬é«˜</strong>ï¼šåˆ†æ•£çš„ç»„ä»¶åº“å¸¦æ¥é‡å¤çš„ç»´æŠ¤æŠ•å…¥ï¼Œä¸”æŠ€æœ¯å€ºåŠ¡éšç€ç‰ˆæœ¬åˆ†åŒ–è€Œæ—¥ç›Šæ²‰é‡ã€‚</p>
</li>
</ul>
<p>é¢å¯¹ä¸Šè¿°æŒ‘æˆ˜ï¼Œæˆ‘ä»¬éœ€è¦çš„ä¸æ˜¯å¯¹å•ä¸€æ—§ä½“ç³»çš„ä¿®è¡¥ï¼Œè€Œæ˜¯ä¸€å¥—èƒ½å¤Ÿ<strong>ä»æ ¹æºä¸Šç»Ÿä¸€æ ‡å‡†ã€æ‰“ç ´æŠ€æœ¯æ ˆå£å’ã€å¹¶æ”¯æ’‘ä¸šåŠ¡çµæ´»å®šåˆ¶</strong>çš„ç°ä»£åŒ–è®¾è®¡å·¥ç¨‹ä½“ç³»ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2bb7fe58d8a045408c97e6c4fa738845~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-r5omL5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769052084&amp;x-signature=jiHP%2FX7xdwurEc40MNTDCzDfTHs%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-1">äºŒã€ä¸ºä»€ä¹ˆæ˜¯ KwaiDesignï¼šç›´é¢ä¸šåŠ¡ç°å®çš„å·®å¼‚åŒ–è®¾è®¡</h3>
<p>ç«‹é¡¹ä¹‹åˆï¼Œæˆ‘ä»¬å¯¹ç›´æ¥å¼•å…¥çš„ä¸šç•Œä¼˜ç§€è®¾è®¡æ–¹æ¡ˆè¿›è¡Œäº†æ·±å…¥è¯„ä¼°ã€‚è¿™äº›æ–¹æ¡ˆè™½åœ¨é€šç”¨åœºæ™¯ä¸‹è¡¨ç°<strong>ä¼˜ç§€ï¼Œå´éš¾ä»¥å®Œå…¨é€‚é…å¿«æ‰‹ç‹¬ç‰¹çš„ä¸šåŠ¡ä¸æŠ€æœ¯ç”Ÿæ€</strong>ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å†³å®šä»çœŸå®åœºæ™¯å‡ºå‘ï¼Œæ„å»ºä¸€å¥—å®Œå…¨è´´åˆå¿«æ‰‹éœ€æ±‚ã€å¹¶èƒ½ä¼´éšä¸šåŠ¡å…±åŒæ¼”è¿›çš„è®¾è®¡ä¸ç ”å‘ä½“ç³»â€”â€”KwaiDesign ç”±æ­¤è¯ç”Ÿã€‚</p>
<h4 data-id="heading-2">2.1 æ ¸å¿ƒå·®å¼‚ï¼šä¸ºä½•ä¸èƒ½ç›´æ¥ä½¿ç”¨ç°æœ‰æ–¹æ¡ˆï¼Ÿ</h4>
<p>è¡Œä¸šä¸»æµè®¾è®¡ç³»ç»Ÿå¤§å¤šè¯ç”Ÿäºå·¥å…·å‹æˆ–æ ‡å‡†åŒ–å†…å®¹äº§å“ï¼Œå…¶è®¾è®¡èŒƒå¼ä¸å¿«æ‰‹æ‰€é¢ä¸´çš„å¤šå…ƒã€é«˜äº’åŠ¨ã€å¼ºå®šåˆ¶çš„ä¸šåŠ¡åœºæ™¯å­˜åœ¨è¾ƒå¤§å·®å¼‚ï¼Œå…·ä½“æ¥è¯´ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6da7c6f19d5c4573a06285dda4930ed0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-r5omL5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769052084&amp;x-signature=%2BL6T5hfMpqRJfIVfc%2BwoXYgWy8I%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-3">2.2 KwaiDesign çš„å››å¤§å·®å¼‚åŒ–èƒ½åŠ›</h4>
<p>åŸºäºä»¥ä¸Šå·®å¼‚ï¼Œæˆ‘ä»¬æ„å»ºäº† KwaiDesign çš„æ ¸å¿ƒèƒ½åŠ›çŸ©é˜µï¼Œè¿™äº›èƒ½åŠ›å…±åŒæ„æˆäº†æˆ‘ä»¬åŒºåˆ«äºå¤–éƒ¨æ–¹æ¡ˆçš„æŠ¤åŸæ²³ï¼š</p>
<p><strong>èƒ½åŠ›ä¸€ï¼šåŒæ ˆä¸€è‡´æ€§å¼•æ“</strong></p>
<p>è¿™å¹¶éä¸¤å¥—ç‹¬ç«‹çš„å®ç°ã€‚æˆ‘ä»¬é€šè¿‡<strong>å…±äº«çš„ Design Token å±‚ã€ç»Ÿä¸€çš„ TypeScript ç±»å‹å®šä¹‰ä¸­å¿ƒï¼ˆ@kwai-design/web-schemesï¼‰ã€ä»¥åŠæŠ¹å¹³æ¡†æ¶å·®å¼‚çš„é€‚é…å™¨æ¨¡å¼</strong>ï¼Œç¡®ä¿äº† Vue å’Œ React ç»„ä»¶åœ¨ <strong>APIã€è¡Œä¸ºã€è§†è§‰è¡¨ç°ä¸Šå®Œå…¨ä¸€è‡´</strong>ã€‚å¼€å‘è€…ä»…éœ€å­¦ä¹ ä¸€æ¬¡ï¼Œå³å¯åœ¨ä¸¤ä¸ªæŠ€æœ¯æ ˆä¸­é«˜æ•ˆå¼€å‘ã€‚</p>
<p><strong>èƒ½åŠ›äºŒï¼šä¼ä¸šçº§ä¸»é¢˜ä¸è®¾è®¡å·¥ç¨‹åŒ–</strong></p>
<p>æˆ‘ä»¬å€Ÿé‰´å…ˆè¿›å®è·µï¼Œå°†è®¾è®¡ç³»ç»Ÿæœ¬èº«å·¥ç¨‹åŒ–ã€‚åœ¨å®ç°å…¨é‡ Token çš„å¯é…ç½®çš„åŸºç¡€ä¸Šï¼Œæ„å»ºäº†å…·å¤‡<strong>ä¸»é¢˜ç‰ˆæœ¬ç®¡ç†ã€ç°åº¦å‘å¸ƒã€å¤šä¸»é¢˜å¹¶å­˜èƒ½åŠ›</strong>çš„å¯è§†åŒ–å¹³å°ã€‚è®¾è®¡å›¢é˜Ÿå¯ä»¥å¯å€Ÿæ­¤ç‹¬ç«‹å®Œæˆä¸»é¢˜çš„åˆ›ä½œã€æµ‹è¯•ä¸åˆ†å‘ï¼ŒçœŸæ­£å®ç°äº†â€œè®¾è®¡ä¸ç ”å‘è§£è€¦ï¼Œä½†é€šè¿‡æ ‡å‡†æ— ç¼åä½œâ€ã€‚</p>
<p><strong>èƒ½åŠ›ä¸‰ï¼šAI å¢å¼ºçš„è´¨é‡ä¸æ•ˆç‡ä¿éšœä½“ç³»</strong></p>
<p>ä¸ºåº”å¯¹åŒæ ˆå¼€å‘å¸¦æ¥çš„è´¨é‡ä¿éšœæŒ‘æˆ˜ï¼Œæˆ‘ä»¬é’ˆå¯¹æ€§å¼•å…¥äº† AI èƒ½åŠ›ï¼š</p>
<ul>
<li>
<p><strong>åœ¨æµ‹è¯•ä¾§</strong>ï¼šåŸºäº Playwright å’Œ AI å›¾åƒè¯†åˆ«ï¼Œæ„å»ºäº†æ™ºèƒ½å¯è§†åŒ–å›å½’æµ‹è¯•ï¼Œèƒ½è‡ªåŠ¨å¯¹æ¯”åŒæ ˆç»„ä»¶æ¸²æŸ“å·®å¼‚ï¼Œç²¾å‡†å®šä½éé¢„æœŸå˜æ›´ï¼Œå°†è§†è§‰ BUG æ‹¦æˆªåœ¨ä¸Šçº¿å‰ã€‚</p>
</li>
<li>
<p><strong>åœ¨é…ç½®ä¾§</strong>ï¼šé€šè¿‡ DSL åè®®å’Œ AI è¾…åŠ©ï¼Œå°†ä¸»é¢˜é…ç½®ä»ç¹ççš„æ‰‹å·¥ç¼–ç å˜ä¸ºé«˜æ•ˆçš„æ™ºèƒ½ç”Ÿæˆä¸è´¨æ£€ï¼Œä½¿å®šåˆ¶åŒ–å·¥ä½œçš„æ•ˆç‡æå‡è¶…è¿‡ 80%ã€‚</p>
</li>
</ul>
<p><strong>èƒ½åŠ›å››ï¼šä»¥è¿ç§»æˆæœ¬ä¸ºæ ¸å¿ƒçš„è®¾è®¡æ€æƒ³</strong></p>
<p>æˆ‘ä»¬ä»ä¸€å¼€å§‹å°±å°†â€œå¦‚ä½•è®©ä¸šåŠ¡æ–¹ç”¨èµ·æ¥â€ä½œä¸ºæœ€é«˜ä¼˜å…ˆçº§ã€‚é€šè¿‡<strong>å®Œæ•´çš„å…¼å®¹å±‚æ–¹æ¡ˆã€è‡ªåŠ¨åŒ–ä»£ç è½¬æ¢å·¥å…·ä»¥åŠæ¸…æ™°çš„åˆ†é˜¶æ®µè¿ç§»æŒ‡å—</strong>ï¼Œå°†æŠ€æœ¯å‡çº§çš„é˜»åŠ›é™åˆ°æœ€ä½ï¼Œç¡®ä¿æ•´ä¸ªç»Ÿä¸€è¿›ç¨‹å¹³æ»‘ã€å¯æ§ã€‚</p>
<h3 data-id="heading-4">ä¸‰ã€å®ç°è·¯å¾„ï¼šKwaiDesign çš„ç³»ç»Ÿæ€§æ„å»ºå››æ­¥æ³•</h3>
<p>KwaiDesign çš„å»ºè®¾æ˜¯ä¸€é¡¹ç¯ç¯ç›¸æ‰£çš„ç³»ç»Ÿå·¥ç¨‹ï¼Œæˆ‘ä»¬éµå¾ªâ€œ<strong>åŸºç¡€ç»Ÿä¸€ -&gt; ä½“éªŒä¸€è‡´ -&gt; å¹³æ»‘è¿ç§» -&gt; çµæ´»å®šåˆ¶</strong>â€çš„è·¯å¾„ï¼Œæ”»å…‹äº†åŒæ ˆç»Ÿä¸€è¿™ä¸€æ ¸å¿ƒæŒ‘æˆ˜ã€‚</p>
<h4 data-id="heading-5">ç¬¬ä¸€æ­¥ï¼šå¥ å®šåŸºçŸ³ â€” æ„å»ºè·¨æŠ€æœ¯æ ˆçš„ç»Ÿä¸€æ¶æ„</h4>
<p>ä¸ºäº†ä»æ ¹æºä¸Šç¡®ä¿ Vue ä¸ React æŠ€æœ¯æ ˆåœ¨è§†è§‰ä¸ API åŸºç¡€ä¸Šè¾¾æˆä¸€è‡´ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬é¦–å…ˆå»ºç«‹äº†<strong>ç»Ÿä¸€è®¾è®¡å˜é‡ï¼ˆDesign Tokensï¼‰å±‚</strong>ï¼Œå°†é¢œè‰²ã€é—´è·ã€å­—ä½“ç­‰æ‰€æœ‰è§†è§‰å˜é‡ç»Ÿä¸€å®šä¹‰ï¼Œä¾› @kwai-design/web-vue å’Œ @kwai-design/web-react å…±åŒå¼•ç”¨ï¼Œä»è€Œåœ¨æºå¤´ä¸Šä¿éšœäº†è§†è§‰ä¸€è‡´æ€§ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ç‹¬ç«‹çš„ TypeScript å®šä¹‰åŒ… @kwai-design/web-schemesï¼Œä½œä¸ºåŒæŠ€æœ¯æ ˆç»„ä»¶ API çš„ç»Ÿä¸€å…¥å£ï¼Œå¹¶é€šè¿‡å·¥å…·é“¾å®ç°å¼ºåˆ¶å¯¹é½ï¼Œå½»åº•æœç»äº† API å±‚é¢çš„åˆ†å‰ã€‚å†æ—¶ä¸‰ä¸ªæœˆï¼Œæˆ‘ä»¬æœ€ç»ˆæ”»å…‹äº†åŒæŠ€æœ¯æ ˆåº•å±‚æ ·å¼ä¸ç±»å‹ç³»ç»Ÿéš”ç¦»çš„éš¾é¢˜ï¼ŒæˆåŠŸ<strong>æ„å»ºå‡º API åŒæºã€è§†è§‰åŒæ„</strong>çš„ React ä¸ Vue ç»„ä»¶åº“åŸºç¡€æ¡†æ¶ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/181c82076db1459ea9f78384efcae938~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-r5omL5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769052084&amp;x-signature=vr7hiJZGhBDjd%2B0Cdmp%2BjdeMcLw%3D" alt="" loading="lazy"/></p>
<p><em>å·¥ç¨‹ç»„ç»‡æ¦‚è§ˆ</em></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c971041f588543f280ce1c670d3bfc90~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-r5omL5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769052084&amp;x-signature=YbeY1JBPu736kTlfAsxdY%2BE75as%3D" alt="" loading="lazy"/></p>
<p><em>å•ç»„ä»¶åŒæŠ€æœ¯æ ˆæ ˆ Tokenã€Props å¯¹é½çº¦æŸç¤ºèŒƒ</em></p>
<h4 data-id="heading-6">ç¬¬äºŒæ­¥ï¼šç²¾ç›Šå¯¹é½ â€” å®ç°å¼€å‘è€…ä½“éªŒçš„æ— ç¼ä¸€è‡´</h4>
<p>è®©ä½¿ç”¨ä¸åŒæŠ€æœ¯æ ˆçš„å¼€å‘è€…è·å¾—è¿‘ä¹ä¸€è‡´çš„ç¼–ç ä½“éªŒï¼Œå¹¶å°†å­¦ä¹ æˆæœ¬é™è‡³æœ€ä½ï¼Œæˆ‘ä»¬åˆ¶å®šäº†åŒæ ˆå¯¹é½å››åŸåˆ™ï¼Œ<strong>ç¡®ä¿ Props å‘½åå®Œå…¨ç»Ÿä¸€ã€å…±äº« TypeScript ç±»å‹å®šä¹‰ã€å®ç°äº¤äº’é€»è¾‘ä¸çŠ¶æ€ç®¡ç†çš„è¡¨ç°ç›¸åŒ</strong>ï¼Œä»¥åŠä¿éšœè§†è§‰è¾“å‡ºæ— å·®å¼‚ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬é€šè¿‡é€‚é…å±‚è®¾è®¡ï¼Œæ”»å…‹äº†æ¡†æ¶åŸç”Ÿçš„ä¸‰å¤§æ ¸å¿ƒå·®å¼‚ï¼š</p>
<ul>
<li>
<p><strong>åŒå‘ç»‘å®š</strong>ï¼šåœ¨ Vue ä¸­å…¼å®¹ React çš„ value/onChange æ¨¡å¼ï¼Œåœ¨ React ä¸­å®ç°ç±» v-model çš„ç®€æ˜“ API</p>
</li>
<li>
<p><strong>æ’æ§½æœºåˆ¶</strong>ï¼šç»Ÿä¸€ä¸ºçµæ´»çš„ children ä¸ props æ¸²æŸ“æ¨¡å¼</p>
</li>
<li>
<p><strong>äº‹ä»¶å¤„ç†</strong>ï¼šç»Ÿä¸€é‡‡ç”¨ onXxx çš„å‘½åè§„èŒƒ</p>
</li>
</ul>
<p>æœ€ç»ˆï¼Œå¼€å‘è€…å¾—ä»¥æ— éœ€å…³æ³¨åº•å±‚æ¡†æ¶å·®å¼‚ï¼Œåœ¨ä¸åŒæŠ€æœ¯æ ˆçš„é¡¹ç›®é—´åˆ‡æ¢æ—¶æ— éœ€æ”¹å˜æ€ç»´æ¨¡å¼ï¼Œä»è€Œæå¤§æå‡äº†è·¨å›¢é˜Ÿçš„åä½œæ•ˆç‡ã€‚</p>
<h4 data-id="heading-7">ç¬¬ä¸‰æ­¥ï¼šå¹³æ»‘è¿‡æ¸¡ â€” æä¾›å®Œå¤‡çš„å­˜é‡ä¸šåŠ¡è¿ç§»æ–¹æ¡ˆ</h4>
<p>ä¸ºäº†æœ€å¤§é™åº¦é™ä½ä¸šåŠ¡çº¿è¿ç§»æˆæœ¬ä¸é£é™©ï¼Œè®©æŠ€æœ¯å‡çº§â€œæ— ç—›â€å‘ç”Ÿã€‚é¦–å…ˆï¼Œæˆ‘ä»¬é€šè¿‡æä¾›å…¼å®¹å±‚ï¼ˆBridgeï¼‰æ–¹æ¡ˆâ€”â€”å‘å¸ƒ @kwai-design/mui-compatible ç­‰é€‚é…åŒ…ï¼Œä½¿å¾—å­˜é‡é¡¹ç›®ä»…éœ€æ›¿æ¢å¼•å…¥è·¯å¾„å³å¯æ— ç¼æ›¿æ¢æ—§ç»„ä»¶ï¼Œæ”¯æŒæ–°æ—§æ··ç”¨ï¼Œä¸”æ— éœ€ä¿®æ”¹ä¸šåŠ¡ä»£ç ã€‚</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># å®‰è£…é€‚é…å±‚npm install </span>
@kwai-design/mui-compatible
<span class="hljs-comment"># æˆ–</span>
npm install @kwai-design/kwai-ui-compatible 

<span class="hljs-comment"># åœ¨ä»£ç ä¸­ä½¿ç”¨é€‚é…å±‚ï¼Œæ— éœ€ä¿®æ”¹ä¸šåŠ¡ä»£ç </span>
import { Button } from <span class="hljs-string">'@kwai-design/mui-compatible'</span>;<span class="hljs-regexp">//</span> 
å†…éƒ¨è‡ªåŠ¨æ˜ å°„åˆ° @kwai-design/web-react æˆ– @kwai-design/web-vue
</code></pre>
<p>å…¶æ¬¡ï¼Œæˆ‘ä»¬æ‰“é€ äº†è‡ªåŠ¨åŒ–è¿ç§»å·¥å…·é“¾ï¼ŒåŒ…æ‹¬èƒ½å¤Ÿè‡ªåŠ¨æ‰«æã€è¯†åˆ«å¹¶æ‰¹é‡æ›¿æ¢æ—§ç»„ä»¶å¼•ç”¨çš„ä»£ç è½¬æ¢å·¥å…·ï¼Œä»¥åŠç”¨äºé™æ€åˆ†ææ½œåœ¨å…¼å®¹é—®é¢˜å¹¶ç”Ÿæˆè¯¦ç»†æŠ¥å‘Šçš„è¿ç§»æ£€æŸ¥å·¥å…·ã€‚æœ€åï¼Œæˆ‘ä»¬è®¾è®¡äº†æ¸…æ™°çš„åˆ†é˜¶æ®µè¿ç§»ç­–ç•¥ï¼šä»ä½¿ç”¨å…¼å®¹å±‚å®ç°â€œæ— ç—›æ¥å…¥â€ï¼Œåˆ°åˆ©ç”¨å·¥å…·é€æ­¥æ›¿æ¢ä¸ºåŸç”Ÿ KwaiDesign ç»„ä»¶çš„â€œæ¸è¿›å‡çº§â€ï¼Œæœ€ç»ˆè¿›å…¥ç§»é™¤å…¼å®¹å±‚ã€å®Œæˆå½»åº•å‡çº§çš„â€œä¼˜åŒ–æ¸…ç†â€é˜¶æ®µã€‚è¿™ä¸€ç³»åˆ—ä¸¾æªå°†æŠ€æœ¯é€‰å‹å‡çº§ä»é«˜é£é™©ã€é«˜æˆæœ¬çš„â€œæ¨ç¿»é‡æ¥â€ï¼Œè½¬åŒ–ä¸ºå¯è§„åˆ’ã€å¯æ§åˆ¶ã€å¯å›æ»šçš„æ¸è¿›å¼ç°ä»£åŒ–è¿›ç¨‹ï¼Œå……åˆ†å°Šé‡å¹¶ä¿æŠ¤äº†å„ä¸šåŠ¡çº¿çš„å†å²æŠ•å…¥ä¸å‘å¸ƒèŠ‚å¥ã€‚</p>
<h4 data-id="heading-8">ç¬¬å››æ­¥ï¼šèµ‹èƒ½ä¸šåŠ¡ â€” æ‰“é€ ä¼ä¸šçº§ä¸»é¢˜å®šåˆ¶ä¸è´¨é‡ä¿éšœä½“ç³»</h4>
<p>èµ‹äºˆä¸šåŠ¡æ–¹å“ç‰Œå®šåˆ¶è‡ªä¸»æƒï¼Œå¹¶é€šè¿‡å·¥ç¨‹åŒ–æ‰‹æ®µä¿éšœåŒæ ˆäº¤ä»˜è´¨é‡ï¼Œå…·ä½“å®ç°è·¯å¾„åŒ…æ‹¬ä¸¤å¤§ä¸¾æªï¼šä¸€æ–¹é¢<strong>æ„å»ºå¯è§†åŒ–ä¸»é¢˜é…ç½®å¹³å°</strong>ï¼Œæ—¢å®ç°è¦†ç›–æ‰€æœ‰è®¾è®¡å˜é‡çš„å…¨é‡ Token å¯é…ç½®ï¼Œæ”¯æŒä¸šåŠ¡æ–¹è‡ªä¸»å®šä¹‰å“ç‰Œä¸»é¢˜ï¼Œåˆæä¾›å¯è§†åŒ–é…ç½®ã€å®æ—¶é¢„è§ˆã€ç‰ˆæœ¬ç®¡ç†ã€å¤šä¸»é¢˜ç»§æ‰¿ç­‰ä¼ä¸šçº§å¹³å°åŒ–è¿è¥èƒ½åŠ›ï¼Œæ‰“é€šè®¾è®¡ä¸ç ”å‘çš„åä½œé—­ç¯ï¼›å¦ä¸€æ–¹é¢<strong>åˆ›æ–° AI å¢å¼ºçš„è´¨é‡ä¸æ•ˆç‡ä½“ç³»</strong>ï¼Œé€šè¿‡é›†æˆ Playwright ä¸ AI å›¾åƒè¯†åˆ«æŠ€æœ¯å®ç°æ™ºèƒ½è§†è§‰å›å½’æµ‹è¯•ï¼Œå¯¹ Vue/React åŒç‰ˆæœ¬ç»„ä»¶è¿›è¡Œè‡ªåŠ¨åŒ–æˆªå›¾å¯¹æ¯”ä¸æ™ºèƒ½åˆ†æï¼Œç»“åˆäººå·¥èµ°æŸ¥ç¡®ä¿åŒæ ˆè¡¨ç°ç»å¯¹ä¸€è‡´ï¼ŒåŒæ—¶ä¾æ‰˜ DSL åè®®ä¸ AI èƒ½åŠ›å®ç° AI è¾…åŠ©ä¸»é¢˜é…ç½®ï¼Œå°†ä¸»é¢˜é…ç½®ä»æ‰‹å·¥ç¼–ç è½¬å˜ä¸ºæ™ºèƒ½ç”Ÿæˆä¸è‡ªåŠ¨åŒ–è´¨æ£€ï¼Œä½¿å®šåˆ¶æ•ˆç‡æå‡ 85% ä»¥ä¸Šï¼Œå¹¶ç¡®ä¿é›¶é…ç½®é”™è¯¯ã€‚</p>
<p>æœ€ç»ˆ KwaiDesign ä¸ä»…æ˜¯ä¸€å¥—ç»„ä»¶ï¼Œæ›´æ˜¯ä¸€ä¸ªåŒ…å«æ ‡å‡†åŒ–ç‰©æ–™ã€å¯è§†åŒ–å·¥å…·é“¾ã€æ™ºèƒ½è´¨é‡å¼•æ“çš„å®Œæ•´è§£å†³æ–¹æ¡ˆï¼Œä¸ºå¿«æ‰‹çš„å¤šå…ƒåŒ–ä¸šåŠ¡æä¾›äº†ä» â€œç»Ÿä¸€â€ åˆ° â€œå®šåˆ¶â€ã€ä» â€œå¼€å‘â€ åˆ° â€œè´¨æ•ˆâ€ çš„å…¨æ–¹ä½æ”¯æŒã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/577c5d429a9047f48ea2c1bf5e8b69d4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-r5omL5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769052084&amp;x-signature=r5NMm%2Fv%2BcfaogP%2FouZnJN1PPj4k%3D" alt="" loading="lazy"/></p>
<p><strong>æ€»ç»“è€Œè¨€ï¼ŒKwaiDesign çš„å®ç°è·¯å¾„æ¸…æ™°åœ°å›ç­”äº†å››ä¸ªå…³é”®é—®é¢˜ï¼šå¦‚ä½•ç»Ÿä¸€ï¼Ÿå¦‚ä½•å¯¹é½ï¼Ÿå¦‚ä½•è¿ç§»ï¼Ÿå¦‚ä½•ä¿éšœï¼Ÿ</strong> è¿™å¥—æ–¹æ³•è®ºç¡®ä¿äº†é¡¹ç›®æ—¢èƒ½æ”»å…‹æ ¸å¿ƒæŠ€æœ¯éš¾é¢˜ï¼Œåˆèƒ½çœŸæ­£è½åœ°åˆ°ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œå®ç°å…¶ææ•ˆä¸ç»Ÿä¸€çš„ç»ˆæç›®æ ‡ã€‚</p>
<h3 data-id="heading-9">å››ã€æœªæ¥å±•æœ›</h3>
<p>KwaiDesign çš„å‘å¸ƒï¼Œåˆæ­¥æ„å»ºäº†ç»Ÿä¸€åä½œçš„åŸºç¡€æ¡†æ¶ï¼Œç›®å‰å·²å®ç°ï¼š</p>
<ul>
<li>
<p><strong>æŠ€æœ¯æ ˆèåˆ</strong>ï¼šé€šè¿‡åŒæ ˆä¸€è‡´çš„åŸç”Ÿå®ç°ï¼Œè®© Vue ä¸ React å›¢é˜Ÿèƒ½åŸºäºåŒä¸€å¥—è®¾è®¡è¯­è¨€é«˜æ•ˆåä½œã€‚</p>
</li>
<li>
<p><strong>åä½œæµç¨‹ä¼˜åŒ–</strong>ï¼šä¾æ‰˜ Design Token ä¸ä¸»é¢˜é…ç½®å¹³å°ï¼Œè®©è®¾è®¡ä¸å¼€å‘å›´ç»•ç»Ÿä¸€çš„æ ‡å‡†è¿›è¡Œå¯¹è¯ï¼Œé™ä½è¿˜åŸæˆæœ¬ã€‚</p>
</li>
<li>
<p><strong>ç ”å‘æ•ˆç‡æå‡</strong>ï¼šæä¾›é«˜è´¨é‡çš„åŸºç¡€ç»„ä»¶ã€å®Œå¤‡çš„è¿ç§»å·¥å…·é“¾ï¼Œå°†å¼€å‘è€…ä»é‡å¤åŠ³åŠ¨å’Œå…¼å®¹æ€§å›°æ‰°ä¸­è§£æ”¾å‡ºæ¥ã€‚</p>
</li>
</ul>
<p>**è¿™å¹¶éç»ˆç‚¹ï¼Œè€Œæ˜¯ä¸€ä¸ªåšå®ä¸”å¯æŒç»­æ¼”è¿›çš„èµ·ç‚¹ã€‚**åŒæ—¶ï¼ŒKwaiDesign ä¸æ˜¯ä¸€ä¸ªä¸€è¹´è€Œå°±çš„å°é—­é¡¹ç›®ï¼Œè€Œæ˜¯ä¸€ä¸ªå°†ä¼´éšä¸šåŠ¡å…±åŒæˆé•¿çš„å¼€æ”¾ä½“ç³»ã€‚æœªæ¥ï¼Œæˆ‘ä»¬å°†é€šè¿‡æŒç»­çš„è¿­ä»£æ¥å®Œå–„è¿™ä¸€åŸºç¡€è®¾æ–½ã€‚</p>
<ul>
<li>
<p>æ‰©å±•åœºæ™¯æ”¯æŒï¼šä¸å„ä¸šåŠ¡çº¿ååŒï¼Œä¸°å¯Œç»„ä»¶èƒ½åŠ›ï¼Œæ›´å¥½æ”¯æŒç›´æ’­ã€ç”µå•†ç­‰ç‰¹è‰²äº¤äº’åœºæ™¯ã€‚</p>
</li>
<li>
<p>æ·±åŒ–å·¥å…·èƒ½åŠ›ï¼šä¼˜åŒ–è¿ç§»å·¥å…·ä½“éªŒï¼Œå®Œå–„ä¸»é¢˜å¹³å°ã€å›¾æ ‡åº“ç­‰é…å¥—å·¥å…·ï¼Œæå‡å…¨é“¾è·¯ç ”å‘æ•ˆç‡ã€‚</p>
</li>
<li>
<p>å¢å¼ºç»„ä»¶åŠŸèƒ½ï¼šé€æ­¥æ¨å‡º ProTableã€ProForm ç­‰é«˜çº§ä¸šåŠ¡ç»„ä»¶ï¼Œæå‡å¤æ‚åœºæ™¯å¼€å‘æ•ˆç‡ï¼›æŒç»­å®Œå–„è´¨é‡ä¿éšœæœºåˆ¶ã€‚</p>
</li>
</ul>
<p>æˆ‘ä»¬ç›¸ä¿¡ï¼Œæœ‰æ•ˆçš„æ ‡å‡†ä½“ç³»åœ¨äºæŒç»­çš„ç»Ÿä¸€ä¸æ¼”è¿›ã€‚KwaiDesign è‡´åŠ›äºæˆä¸ºæ”¯æ’‘å¿«æ‰‹ä¸šåŠ¡åˆ›æ–°çš„åŸºç¡€æ¨¡å—ï¼Œé€šè¿‡å¯å¤ç”¨ã€å¯æ‰©å±•çš„ç»„ä»¶ä¸å·¥å…·ï¼Œä¸ºåŒ…æ‹¬ä½ä»£ç å¹³å°åœ¨å†…çš„æœªæ¥ç ”å‘æ¨¡å¼æä¾›é«˜è´¨é‡æ”¯æŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Reï¼šä»é›¶å¼€å§‹çš„â€œAIä¸–ç•Œ"ç”Ÿæ´»]]></title>    <link>https://juejin.cn/post/7595030559564136499</link>    <guid>https://juejin.cn/post/7595030559564136499</guid>    <pubDate>2026-01-14T09:39:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595030559564136499" data-draft-id="7591878211087958051" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Reï¼šä»é›¶å¼€å§‹çš„â€œAIä¸–ç•Œ&quot;ç”Ÿæ´»"/> <meta itemprop="keywords" content="Trae"/> <meta itemprop="datePublished" content="2026-01-14T09:39:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="akå•Š"/> <meta itemprop="url" content="https://juejin.cn/user/237916932030253"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Reï¼šä»é›¶å¼€å§‹çš„â€œAIä¸–ç•Œ"ç”Ÿæ´»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/237916932030253/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    akå•Š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-14T09:39:23.000Z" title="Wed Jan 14 2026 09:39:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    20
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Reï¼šä»é›¶å¼€å§‹çš„â€œAIä¸–ç•Œ"ç”Ÿæ´»</h2>
<h4 data-id="heading-1">â€”â€”2025 å¹´ï¼Œæˆ‘è¢« Vibe Coding åå¤å‡»æ€çš„é‚£äº›å¤©</h4>
<blockquote>
<p>â€œAI è¿˜æ˜¯æ— æ³•ä»£æ›¿äººç±»å·¥ä½œï¼Œ<br/>
è¿˜æ˜¯éœ€è¦äººä¸ºå¹²é¢„æ‰è¡Œã€‚â€</p>
</blockquote>
<p>è¿™æ˜¯æˆ‘åœ¨ 2025 å¹´ä»¥å‰ï¼Œå’Œæœ‹å‹ã€åŒäº‹ã€ä»¥åŠåŠ ç­åˆ°å‡Œæ™¨ä¸¤ç‚¹çš„è‡ªå·±ï¼Œç»å¸¸åå¤ç¡®è®¤çš„ä¸€å¥è¯ã€‚<br/>
é‚£æ—¶æˆ‘è¯­æ°”ç¬ƒå®šï¼Œçœ¼ç¥æ¸…æ¾ˆï¼Œä»¿ä½›ç«™åœ¨ç°å®ä¸–ç•Œçš„åˆ¶é«˜ç‚¹ï¼Œæ‰‹é‡Œæ‹¿ç€ä¸€ä»½å†™ç€â€œäººç±»æœ€ç»ˆè§£é‡Šæƒâ€çš„è¯´æ˜ä¹¦ã€‚</p>
<p>é‚£æ—¶ï¼Œæˆ‘çš„å·¥ä½œä¸ç”Ÿæ´»ï¼Œåªæ˜¯<strong>è½»åº¦ AI åŒ–</strong>ã€‚</p>
<p>å®ƒæ›´åƒæ˜¯ä¸€ä¸ªå¬è¯ä½†ä¸å¤ªèªæ˜çš„å­¦å¾’ï¼š<br/>
æˆ‘è®©å®ƒæŸ¥èµ„æ–™ï¼Œå®ƒæŸ¥ï¼›<br/>
æˆ‘è®©å®ƒå†™ç®—æ³•ï¼Œå®ƒå†™ï¼›<br/>
æˆ‘å«ŒæŸä¸ªè½®å­å¤ªè„å¤ªæ—§ï¼Œå®ƒé»˜é»˜åˆç»™æˆ‘æ“äº†ä¸€ä¸ªã€‚<br/>
ç„¶åæˆ‘å†äº²è‡ªä¸Šé˜µï¼ŒæŠŠä»£ç ä¸€è¡Œä¸€è¡Œæ‰¶æ­£ï¼Œåƒè€å¸ˆå‚…æ‹ç€å¾’å¼Ÿçš„è‚©è†€è¯´ï¼šâ€œæ€è·¯æ˜¯å¯¹çš„ï¼Œä½†ä½ è¿™æ´»å„¿ï¼Œè¿˜å¾—ç»ƒã€‚â€</p>
<p>é‚£æ˜¯ä¸€ä¸ª<strong>äººç±»ä»ç„¶ç¨³åé©¾é©¶ä½</strong>çš„æ—¶ä»£ã€‚</p>
<hr/>
<h4 data-id="heading-2">ç¬¬ä¸€ç« ï¼šä¸–ç•Œå°šæœªå´©åçš„æ—¥å¸¸</h4>
<p>é‚£æ—¶ï¼ŒChatGPT æ˜¯ç»å¯¹çš„ä¸»è§’ã€‚<br/>
è±†åŒ…ä¹Ÿå¾ˆå¥½ç”¨ï¼Œå°¤å…¶æ˜¯åœ¨ä¸‹ç­ä¹‹åã€‚</p>
<p>æ¯å¤©å·¥ä½œç»“æŸï¼Œæˆ‘æœ€å¤§çš„æ”¾æ¾æ–¹å¼ä¸æ˜¯åˆ·çŸ­è§†é¢‘ï¼Œè€Œæ˜¯ä¸€æœ¬æ­£ç»åœ°é—®è±†åŒ…å„ç§<strong>æ¯«æ— å»ºè®¾æ€§çš„é—®é¢˜</strong>ï¼š<br/>
â€œå¦‚æœæé¾™æ²¡ç­ç»ï¼Œäººç±»ä¼šä¸ä¼šæ”¹åƒç´ ï¼Ÿâ€<br/>
â€œç»™æˆ‘ç”»ä¸€åªç©¿è¥¿è£…çš„å“ˆå£«å¥‡ï¼Œæ°”è´¨è¦åƒåŸºé‡‘ç»ç†ã€‚â€</p>
<p>ç„¶åçœ‹ç€å®ƒä¸€æœ¬æ­£ç»åœ°ç»™æˆ‘ç”Ÿæˆç»“æœï¼Œæˆ‘åœ¨å±å¹•å‰ç¬‘å¾—åƒä¸ªä¸å¤ªæ­£å¸¸çš„äººã€‚</p>
<p>æˆ‘ä»¬è¿˜æ¥å…¥äº† COZEï¼Œåšäº†ä¸ªå« <strong>â€œChat With Agentâ€</strong> çš„ä¸œè¥¿ã€‚<br/>
é‚£ä¸€åˆ»ï¼Œæˆ‘çœŸçš„è§‰å¾—è‡ªå·±ç«™åœ¨äº†æ—¶ä»£çš„æµªå°–ã€‚</p>
<p>çœ‹ç€å¯¹è¯æ¡†é‡Œä¸€å¥ä¸€å¥æœ‰æ¥æœ‰å›ï¼Œæˆ‘å†…å¿ƒç‹¬ç™½åªæœ‰ä¸€å¥ï¼š</p>
<blockquote>
<p>â€œåŸæ¥æˆ‘ä¹Ÿæ˜¯èƒ½åšè¿™ç§ä¸œè¥¿çš„äººäº†ã€‚â€</p>
</blockquote>
<p>é¢å¯¹ SDã€MJã€Flux çš„ç”Ÿå›¾ï¼Œæˆ‘åå¤æ„Ÿå¹ï¼š<br/>
â€œå“‡ï¼Œæ€ä¹ˆå’Œæˆ‘æƒ³å¾—ä¸€æ¨¡ä¸€æ ·å•Šã€‚â€<br/>
ä»¿ä½›ä¸æ˜¯æœºå™¨åœ¨ç”Ÿæˆå›¾åƒï¼Œè€Œæ˜¯æœ‰äººå·å·æŠŠæˆ‘è„‘å­é‡Œçš„ç”»é¢æˆªå›¾äº†ã€‚</p>
<p>ä½†å³ä¾¿å¦‚æ­¤â€”â€”<br/>
<strong>æˆ‘ä¾æ—§ä¿æŒç€è·ç¦»ã€‚</strong></p>
<hr/>
<h4 data-id="heading-3">ç¬¬äºŒç« ï¼šæˆ‘å¯¹è‡ªåŠ¨è¡¥å…¨çš„å†·æ¼ </h4>
<p>é‚£æ—¶å€™ï¼Œæˆ‘å‡ ä¹ä¸ç”¨ AI è‡ªåŠ¨è¡¥å…¨ã€‚</p>
<p>åŸå› ä¹Ÿå¾ˆç®€å•ï¼š<br/>
å®ƒå¤ªçƒ­æƒ…äº†ã€‚</p>
<p>æˆ‘åªæ‰“äº†ä¸€ä¸ªå‡½æ•°åï¼Œå®ƒå°±è¿«ä¸åŠå¾…åœ°å¾€ä¸‹å€¾å€’ä¸€æ•´æ®µæˆ‘å¹¶ä¸éœ€è¦ã€ä¹Ÿæš‚æ—¶ç”¨ä¸ä¸Šçš„ä»£ç ã€‚<br/>
é‚£æ„Ÿè§‰ï¼Œå°±åƒä½ åˆšè¯´ä¸€å¥â€œæˆ‘æœ‰ç‚¹æ¸´â€ï¼Œå¯¹æ–¹ç›´æ¥ç»™ä½ ç«¯æ¥ä¸€æ¡Œæ»¡æ±‰å…¨å¸­ã€‚</p>
<p>äºæ˜¯æˆ‘é€‰æ‹©äº†å…‹åˆ¶ã€‚</p>
<p>æˆ‘åšä¿¡ï¼š<br/>
<strong>çœŸæ­£çš„ç»“æ„ã€çœŸæ­£çš„åˆ¤æ–­ã€çœŸæ­£çš„â€œå…³é”®ä¸€è¡Œâ€ï¼Œåªèƒ½ç”±äººç±»äº²æ‰‹æ•²ä¸‹ã€‚</strong></p>
<p>æˆ‘ä»¥ä¸ºï¼Œè¿™ç§çŠ¶æ€ä¼šä¸€ç›´æŒç»­ä¸‹å»ã€‚<br/>
æˆ‘ä»¥ä¸ºï¼Œæˆ‘å·²ç»ç†è§£äº†è¿™ä¸ªä¸–ç•Œçš„è¿è¡Œè§„åˆ™ã€‚</p>
<p>â€”â€”ç›´åˆ° 2025 å¹´ã€‚</p>
<hr/>
<h4 data-id="heading-4">ç¬¬ä¸‰ç« ï¼šæ­»äº¡å›æ¡£ï¼Œä»ä¸€æ¬¡â€œè¯•è¯•çœ‹â€å¼€å§‹</h4>
<p>äº‹æƒ…çš„è½¬æŠ˜ï¼Œå¾€å¾€æ¯«ä¸èµ·çœ¼ã€‚</p>
<p>é‚£å¤©æˆ‘åªæ˜¯æƒ³è¯•è¯•ä¸€ç§æ–°çš„å·¥ä½œæ–¹å¼ã€‚<br/>
æ²¡æœ‰ä»ªå¼æ„Ÿï¼Œæ²¡æœ‰å¤©é›·æ»šæ»šï¼Œç”šè‡³è¿â€œå§æ§½â€éƒ½æ¥ä¸åŠè¯´ã€‚</p>
<p>æˆ‘åªæ˜¯å‘ç°ï¼š<br/>
<strong>äº‹æƒ…å¼€å§‹å˜å¿«äº†ã€‚</strong></p>
<p>å¿«å¾—ä¸è®²é“ç†ã€‚</p>
<p>æˆ‘è¿˜åœ¨æ€è€ƒæ•´ä½“ç»“æ„ï¼Œå®ƒå·²ç»æŠŠéª¨æ¶é“ºå¥½ï¼›<br/>
æˆ‘åˆšæ‰“ç®—æ‹†åˆ†æ¨¡å—ï¼Œå®ƒå·²ç»é¡ºæ‰‹æŠŠè¾¹ç•Œæ¡ä»¶å¤„ç†å®Œï¼›<br/>
æˆ‘æœ¬æ¥æƒ³â€œå…ˆå‡‘åˆè·‘èµ·æ¥â€ï¼Œç»“æœå®ƒç›´æ¥ç»™äº†ä¸€ä¸ªå¯ç»´æŠ¤ã€å¯æ‰©å±•ã€ç”šè‡³è¿˜æœ‰ç‚¹ä¼˜é›…çš„ç‰ˆæœ¬ã€‚</p>
<p>æˆ‘ç¬¬ä¸€æ¬¡äº§ç”Ÿäº†ä¸€ç§é™Œç”Ÿçš„æ„Ÿè§‰â€”â€”<br/>
ä¸æ˜¯è¢«å–ä»£ï¼Œè€Œæ˜¯<strong>è¢«è¶…å‰ç…§é¡¾</strong>ã€‚</p>
<p>å°±åƒä½ åˆšå‡†å¤‡è‡ªå·±èµ°å¤œè·¯ï¼Œç»“æœå‘ç°å¯¹æ–¹å·²ç»æŠŠè·¯ç¯ã€æŠ¤æ ã€å¯¼èˆªå’Œåº”æ€¥é¢„æ¡ˆå…¨éƒ½è£…å¥½äº†ã€‚</p>
<p>é‚£ä¸€åˆ»ï¼Œæˆ‘éšçº¦æ„è¯†åˆ°ï¼š<br/>
è¿™ä¸æ˜¯å·¥å…·å‡çº§ï¼Œ<br/>
è¿™æ˜¯<strong>ä¸–ç•Œçº¿å‘ç”Ÿäº†åç§»</strong>ã€‚</p>
<hr/>
<h4 data-id="heading-5">ç¬¬å››ç« ï¼šVibe Codingï¼Œæˆ–è€…è¯´â€œé¡ºç€æ„Ÿè§‰å°±å…¨é€šäº†â€</h4>
<p>åæ¥ï¼Œæˆ‘å¬åˆ°äº†ä¸€ä¸ªè¯ã€‚<br/>
å†åæ¥ï¼Œæˆ‘å¼€å§‹ç†è§£å®ƒã€‚</p>
<p><strong>Vibe Codingã€‚</strong></p>
<p>å®ƒå¹¶ä¸æ˜¯â€œå†™å¾—æ›´å¿«â€ï¼Œ<br/>
è€Œæ˜¯<strong>ä½ ä¸å†éœ€è¦æŠŠæ¯ä¸€æ­¥éƒ½æƒ³æ¸…æ¥šã€‚</strong></p>
<p>ä½ åªéœ€è¦ä¸€ä¸ªæ¨¡ç³Šçš„æ–¹å‘ï¼Œä¸€ä¸ªâ€œå·®ä¸å¤šæ˜¯è¿™æ ·â€çš„æ„Ÿè§‰ã€‚<br/>
å‰©ä¸‹çš„éƒ¨åˆ†ï¼Œä¼šåƒæµæ°´ä¸€æ ·ï¼Œè‡ªå·±æ‰¾åˆ°æ²³é“ã€‚</p>
<p>ä»¥å‰å†™ä»£ç ï¼Œæ˜¯â€œè¿ç­¹å¸·å¹„ï¼Œæ­¥æ­¥ä¸ºè¥â€ï¼›<br/>
ç°åœ¨æ›´åƒæ˜¯â€œå¾¡å‰‘è€Œè¡Œï¼Œé¡ºåŠ¿è€Œä¸‹â€ã€‚</p>
<p>ä½ ä¸æ˜¯å¤±å»äº†æ§åˆ¶æƒï¼Œ<br/>
è€Œæ˜¯æ”¾å¼ƒäº†å¯¹æ¯ä¸€ä¸ªç»†èŠ‚çš„æ‰§å¿µã€‚</p>
<p>è¿™å¯¹æˆ‘è¿™ç§äººæ¥è¯´ï¼Œæ˜¯ä¸€æ¬¡è¿‘ä¹ç—›è‹¦çš„è½¬å˜ã€‚</p>
<p>å› ä¸ºæˆ‘ç»ˆäºå‘ç°ï¼š<br/>
<strong>ä¸æ˜¯æˆ‘ä¸å¤ŸåŠªåŠ›ï¼Œ<br/>
æ˜¯è¿™ä¸ªæ—¶ä»£ï¼Œå·²ç»ä¸è¦æ±‚æˆ‘äº‹æ— å·¨ç»†ã€‚</strong></p>
<hr/>
<h4 data-id="heading-6">ç¬¬äº”ç« ï¼šæˆ‘æ›¾ç»è¯´è¿‡çš„é‚£å¥è¯</h4>
<p>â€œAI è¿˜æ˜¯æ— æ³•ä»£æ›¿äººç±»å·¥ä½œï¼Œè¿˜æ˜¯éœ€è¦äººä¸ºå¹²é¢„æ‰è¡Œã€‚â€</p>
<p>ç°åœ¨å›å¤´çœ‹ï¼Œè¿™å¥è¯å¹¶æ²¡æœ‰é”™ã€‚<br/>
åªæ˜¯å®ƒç«™åœ¨äº†<strong>æ—§ä¸–ç•Œçš„åæ ‡ç³»é‡Œ</strong>ã€‚</p>
<p>å®ƒå‡è®¾äººç±»çš„ä»·å€¼ï¼Œåœ¨äºâ€œæ‰§è¡Œâ€ï¼›<br/>
è€Œæ–°ä¸–ç•Œå‘Šè¯‰æˆ‘ï¼Œäººç±»çœŸæ­£ä¸å¯æ›¿ä»£çš„ï¼Œæ˜¯<strong>åˆ¤æ–­ã€å–èˆä¸æ–¹å‘æ„Ÿ</strong>ã€‚</p>
<p>æœºå™¨å¯ä»¥ä¸€ç¬åƒè¡Œï¼Œ<br/>
ä½†å®ƒä¸çŸ¥é“å“ªä¸€è¡Œï¼Œ<strong>å€¼å¾—è¢«å†™ä¸‹æ¥</strong>ã€‚</p>
<p>äºæ˜¯æˆ‘ä¸å†æ‰§ç€äºâ€œäº²æ‰‹å®Œæˆä¸€åˆ‡â€ï¼Œ<br/>
è€Œæ˜¯å¼€å§‹æ€è€ƒï¼š<br/>
<strong>ä»€ä¹ˆäº‹æƒ…ï¼Œéæˆ‘ä¸å¯ã€‚</strong></p>
<hr/>
<h4 data-id="heading-7">ç»ˆç« ï¼šä»é›¶å¼€å§‹ï¼Œä½†ä¸æ˜¯å›åˆ°åŸç‚¹</h4>
<p>å¦‚æœéè¦ç»™ 2025 å¹´ä¸€ä¸ªæ€»ç»“ï¼Œ<br/>
é‚£å®ƒä¸æ˜¯â€œå¤±ä¸šé¢„å‘Šâ€ï¼Œ<br/>
ä¹Ÿä¸æ˜¯â€œä¹Œæ‰˜é‚¦é™ä¸´â€ã€‚</p>
<p>å®ƒæ›´åƒæ˜¯ä¸€æ¬¡è¢«å¼ºåˆ¶è§¦å‘çš„æˆé•¿äº‹ä»¶ã€‚</p>
<p>æˆ‘æ²¡æœ‰è¢«å–ä»£ï¼Œ<br/>
åªæ˜¯è¢«è¿«å‡çº§ã€‚</p>
<p>å°±åƒæŸä¸ªå€’éœ‰çš„ä¸»è§’ï¼Œåœ¨ä¸€æ¬¡æ¬¡æ­»äº¡å›æ¡£åï¼Œç»ˆäºå­¦ä¼šäº†ï¼š<br/>
ä¸æ˜¯æ¯ä¸€æ¡è·¯ï¼Œéƒ½è¦è‡ªå·±æ’è¿‡å—å¢™ã€‚</p>
<p>æœ‰äº›ä¸–ç•Œçº¿ï¼Œ<br/>
é¡ºç€èµ°ï¼Œåè€Œèƒ½æ´»å¾—æ›´ä¹…ä¸€ç‚¹ã€‚</p>
<p>è€Œæˆ‘ï¼Œä¹Ÿç»ˆäºæ‰¿è®¤äº†é‚£ä»¶äº‹â€”â€”<br/>
ä»é›¶å¼€å§‹ï¼Œå¹¶ä¸æ„å‘³ç€ä¸€æ— æ‰€æœ‰ã€‚<br/>
æœ‰æ—¶å€™ï¼Œå®ƒåªæ˜¯æ„å‘³ç€ï¼š<br/>
<strong>ä½ ç«™åœ¨äº†ä¸€ä¸ªæ–°çš„èµ·ç‚¹ä¸Šã€‚</strong></p>
<p>ä¸–ç•Œæ²¡æœ‰ç»“æŸï¼Œ<br/>
åªæ˜¯åŠ è½½è¿›åº¦æ¡ï¼Œæ‚„æ‚„èµ°åˆ°äº†ä¸‹ä¸€ç« ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é¢è¯•å®˜ï¼šè¯´è¯´JVMå†…å­˜æ¨¡å‹ï¼Ÿæ°´è´§ç¨‹åºå‘˜è°¢é£æœºçš„ç¿»è½¦ç°åœº]]></title>    <link>https://juejin.cn/post/7577599299599499315</link>    <guid>https://juejin.cn/post/7577599299599499315</guid>    <pubDate>2025-11-28T13:44:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577599299599499315" data-draft-id="7577612585844178953" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é¢è¯•å®˜ï¼šè¯´è¯´JVMå†…å­˜æ¨¡å‹ï¼Ÿæ°´è´§ç¨‹åºå‘˜è°¢é£æœºçš„ç¿»è½¦ç°åœº"/> <!----> <meta itemprop="datePublished" content="2025-11-28T13:44:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="kevinzeng"/> <meta itemprop="url" content="https://juejin.cn/user/1964143993949127"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é¢è¯•å®˜ï¼šè¯´è¯´JVMå†…å­˜æ¨¡å‹ï¼Ÿæ°´è´§ç¨‹åºå‘˜è°¢é£æœºçš„ç¿»è½¦ç°åœº
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1964143993949127/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    kevinzeng
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-28T13:44:16.000Z" title="Fri Nov 28 2025 13:44:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    26
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é¢è¯•å®˜ï¼šè¯´è¯´JVMå†…å­˜æ¨¡å‹ï¼Ÿæ°´è´§ç¨‹åºå‘˜è°¢é£æœºçš„ç¿»è½¦ç°åœº</h2>
<h3 data-id="heading-1">å¼€åœºç™½</h3>
<p><strong>é¢è¯•å®˜</strong>ï¼šä½ å¥½ï¼Œè¯·åã€‚æˆ‘æ˜¯æœ¬æ¬¡çš„é¢è¯•å®˜ï¼Œä½ å¯ä»¥å«æˆ‘ç‹å“¥ã€‚å…ˆç®€å•ä»‹ç»ä¸€ä¸‹ä½ è‡ªå·±å§ã€‚</p>
<p><strong>è°¢é£æœº</strong>ï¼šï¼ˆæŒºèµ·èƒ¸è†›ï¼‰ç‹å“¥å¥½ï¼æˆ‘å«è°¢é£æœºï¼Œç²¾é€šå„ç§â€œHello Worldâ€ï¼Œä»Javaåˆ°JavaScriptï¼Œæ— æ‰€ä¸èƒ½ï¼æˆ‘å¯¹æŠ€æœ¯å……æ»¡çƒ­æƒ…ï¼Œå°¤å…¶æ“…é•¿... å¿«é€Ÿå­¦ä¹ ï¼</p>
<p><strong>é¢è¯•å®˜</strong>ï¼šï¼ˆå˜´è§’å¾®æ‰¬ï¼‰å“¦ï¼Ÿé‚£å¾ˆå¥½ã€‚æˆ‘ä»¬ä»Šå¤©å°±æ¥èŠèŠæŠ€æœ¯ã€‚åˆ«ç´§å¼ ï¼Œå°±å½“æ˜¯æŠ€æœ¯äº¤æµã€‚</p>
<hr/>
<h3 data-id="heading-2">ç¬¬ä¸€è½®ï¼šåŸºç¡€æ‹·é—® - JVMå†…å­˜æ¨¡å‹</h3>
<p><strong>é¢è¯•å®˜</strong>ï¼šé‚£æˆ‘ä»¬å¼€å§‹å§ã€‚ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œèƒ½è¯¦ç»†è¯´è¯´JVMçš„å†…å­˜æ¨¡å‹å—ï¼Ÿç‰¹åˆ«æ˜¯å †å’Œæ ˆçš„åŒºåˆ«ï¼Œä»¥åŠå®ƒä»¬é‡Œé¢éƒ½å­˜äº†äº›ä»€ä¹ˆï¼Ÿ</p>
<p><strong>è°¢é£æœº</strong>ï¼šï¼ˆè‡ªä¿¡æ»¡æ»¡ï¼‰è¿™ä¸ªç®€å•ï¼JVMå†…å­˜å˜›ï¼Œä¸»è¦åˆ†å †ï¼ˆHeapï¼‰å’Œæ ˆï¼ˆStackï¼‰ã€‚æ ˆæ˜¯æ¯ä¸ªçº¿ç¨‹ç§æœ‰çš„ï¼Œå­˜çš„æ˜¯æ–¹æ³•è°ƒç”¨æ—¶çš„å±€éƒ¨å˜é‡ã€æ–¹æ³•å‚æ•°è¿™äº›ã€‚å †æ˜¯å¤§å®¶å…¬ç”¨çš„ï¼Œå­˜çš„æ˜¯newå‡ºæ¥çš„å¯¹è±¡ï¼</p>
<p><strong>é¢è¯•å®˜</strong>ï¼šå—¯ï¼Œä¸é”™ï¼ŒåŸºæœ¬æ¦‚å¿µæ˜¯å¯¹çš„ã€‚é‚£ä½ èƒ½è¯´è¯´ï¼Œä¸ºä»€ä¹ˆè¦æŠŠå†…å­˜åˆ†æˆå †å’Œæ ˆå‘¢ï¼Ÿç›´æ¥ä¸€ä¸ªå¤§æ± å­ä¸å¥½å—ï¼Ÿ</p>
<p><strong>è°¢é£æœº</strong>ï¼šï¼ˆæŒ å¤´ï¼‰å‘ƒ...è¿™ä¸ª...å› ä¸º...å› ä¸ºåˆ†å·¥ä¸åŒï¼æ ˆé‡Œçš„ä¸œè¥¿ç”Ÿå‘½å‘¨æœŸçŸ­ï¼Œæ–¹æ³•ä¸€ç»“æŸå°±æ²¡äº†ï¼Œæ‰€ä»¥è¦å¿«è¿›å¿«å‡ºã€‚å †é‡Œçš„å¯¹è±¡æ´»çš„æ—¶é—´é•¿ï¼Œå¾—æ…¢æ…¢ç®¡ã€‚è¿™æ ·åˆ†å¼€æ•ˆç‡é«˜ï¼</p>
<p><strong>é¢è¯•å®˜</strong>ï¼šï¼ˆç‚¹å¤´ï¼‰å¾ˆå¥½ï¼Œç†è§£å¾—å¾ˆåˆ°ä½ã€‚é‚£å†æ·±å…¥ä¸€ç‚¹ï¼Œå †å†…å­˜å†…éƒ¨åˆæ˜¯æ€ä¹ˆåˆ’åˆ†çš„ï¼Ÿæ¯”å¦‚æ–°ç”Ÿä»£ã€è€å¹´ä»£ï¼Œè¿˜æœ‰é‚£ä¸ª... æ–¹æ³•åŒºï¼Ÿ</p>
<p><strong>è°¢é£æœº</strong>ï¼šï¼ˆå¼€å§‹å†’æ±—ï¼‰å †...å †é‡Œé¢åˆ†...åˆ†å¹´è½»äººå’Œè€å¹´äººï¼å¯¹ï¼Œæ–°ç”Ÿä»£ï¼ˆYoung Generationï¼‰å’Œè€å¹´ä»£ï¼ˆOld Generationï¼‰ã€‚æ–°åˆ›å»ºçš„å¯¹è±¡å…ˆå»æ–°ç”Ÿä»£ç©ï¼Œå¦‚æœæ´»ä¸‹æ¥äº†ï¼Œç»è¿‡å‡ æ¬¡GCï¼ˆåƒåœ¾å›æ”¶ï¼‰ï¼Œå°±æ¬åˆ°è€å¹´ä»£å…»è€å»äº†ã€‚æ–¹æ³•åŒº...æ–¹æ³•åŒºå¥½åƒæ˜¯å­˜ç±»ä¿¡æ¯ã€å¸¸é‡ä»€ä¹ˆçš„ï¼Œä»¥å‰å«æ°¸ä¹…ä»£ï¼Œç°åœ¨å«å…ƒç©ºé—´ï¼ˆMetaspaceï¼‰ï¼Œåœ¨æœ¬åœ°å†…å­˜é‡Œã€‚</p>
<p><strong>é¢è¯•å®˜</strong>ï¼šå›ç­”å¾—ç›¸å½“ä¸é”™ï¼çœ‹æ¥ä½ ç¡®å®åšè¿‡åŠŸè¯¾ã€‚é‚£ä½ çŸ¥é“æ–°ç”Ÿä»£é‡Œåˆåˆ†å“ªå‡ ä¸ªéƒ¨åˆ†å—ï¼Ÿ</p>
<p><strong>è°¢é£æœº</strong>ï¼šï¼ˆåŠªåŠ›å›å¿†ï¼‰å¥½åƒæ˜¯...ä¸€ä¸ªå¤§çš„ï¼Œä¸¤ä¸ªå°çš„ï¼Ÿå«... EdenåŒºï¼Œè¿˜æœ‰... S0å’ŒS1ï¼Ÿ</p>
<p><strong>é¢è¯•å®˜</strong>ï¼šå®Œå…¨æ­£ç¡®ï¼EdenåŒºå’Œä¸¤ä¸ªSurvivoråŒºï¼ˆS0/S1ï¼‰ã€‚å¥½äº†ï¼Œç¬¬ä¸€è½®ä½ è¡¨ç°å¾ˆå¥½ã€‚</p>
<hr/>
<h3 data-id="heading-3">ç¬¬äºŒè½®ï¼šæ¡†æ¶åŸç† - Spring Bootè‡ªåŠ¨é…ç½®</h3>
<p><strong>é¢è¯•å®˜</strong>ï¼šæˆ‘ä»¬æ¥èŠç‚¹æ¡†æ¶ç›¸å…³çš„ã€‚Spring Bootå·ç§°â€œçº¦å®šä¼˜äºé…ç½®â€ï¼Œç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ã€‚ä½ çŸ¥é“å®ƒçš„è‡ªåŠ¨é…ç½®ï¼ˆAuto-configurationï¼‰åŸç†æ˜¯ä»€ä¹ˆå—ï¼Ÿ</p>
<p><strong>è°¢é£æœº</strong>ï¼šï¼ˆæ¾äº†å£æ°”ï¼Œè¿™ä¸ªé—®é¢˜èƒŒè¿‡ï¼‰çŸ¥é“çŸ¥é“ï¼ä¸»è¦æ˜¯é <code>@EnableAutoConfiguration</code>è¿™ä¸ªæ³¨è§£ã€‚å®ƒä¼šå»<code>META-INF/spring.factories</code>æ–‡ä»¶é‡Œæ‰¾æ‰€æœ‰<code>EnableAutoConfiguration</code>å¯¹åº”çš„é…ç½®ç±»ï¼Œç„¶åæ ¹æ®classpathé‡Œæœ‰æ²¡æœ‰ç›¸å…³çš„jaråŒ…ï¼Œä»¥åŠä½ æœ‰æ²¡æœ‰è‡ªå·±é…ç½®è¿‡ï¼Œæ¥å†³å®šè¦ä¸è¦åŠ è½½é‚£äº›è‡ªåŠ¨é…ç½®ç±»ã€‚</p>
<p><strong>é¢è¯•å®˜</strong>ï¼šä¸é”™ã€‚é‚£å¦‚æœæˆ‘æƒ³è‡ªå®šä¹‰ä¸€ä¸ªStarterï¼Œå¹¶ä¸”å¸Œæœ›æˆ‘çš„è‡ªåŠ¨é…ç½®åœ¨æŸä¸ªå®˜æ–¹çš„è‡ªåŠ¨é…ç½®ä¹‹åæ‰§è¡Œï¼Œè¯¥æ€ä¹ˆåšï¼Ÿ</p>
<p><strong>è°¢é£æœº</strong>ï¼šï¼ˆæœ‰ç‚¹æ‡µï¼‰å‘ƒ...å¯ä»¥åœ¨æˆ‘çš„è‡ªåŠ¨é…ç½®ç±»ä¸ŠåŠ ...åŠ ä¸ªæ³¨è§£ï¼Ÿå¥½åƒæ˜¯<code>@AutoConfigureAfter</code>ï¼Ÿ</p>
<p><strong>é¢è¯•å®˜</strong>ï¼šæ²¡é”™ï¼Œå°±æ˜¯<code>@AutoConfigureAfter(DataSourceAutoConfiguration.class)</code>è¿™æ ·çš„ã€‚çœ‹æ¥ä½ äº†è§£ä¸€äº›é«˜çº§ç”¨æ³•ã€‚é‚£å¦‚æœæˆ‘ä¸å¸Œæœ›æŸä¸ªè‡ªåŠ¨é…ç½®ç”Ÿæ•ˆï¼Œé™¤äº†åœ¨<code>application.properties</code>é‡Œæ’é™¤ï¼Œè¿˜æœ‰åˆ«çš„åŠæ³•å—ï¼Ÿ</p>
<p><strong>è°¢é£æœº</strong>ï¼šï¼ˆæ”¯æ”¯å¾å¾ï¼‰è¿˜...è¿˜èƒ½åœ¨å¯åŠ¨ç±»ä¸Š...ç”¨<code>exclude</code>å±æ€§ï¼Ÿæˆ–è€…...æˆ–è€…å†™ä¸ªæ¡ä»¶æ³¨è§£ï¼Ÿ</p>
<p><strong>é¢è¯•å®˜</strong>ï¼šå¯ä»¥çš„ï¼Œ<code>@SpringBootApplication(exclude = {...})</code>ä¹Ÿæ˜¯ä¸€ç§æ–¹å¼ã€‚æ¡ä»¶æ³¨è§£çš„è¯ï¼Œæ¯”å¦‚<code>@ConditionalOnMissingBean</code>ï¼Œå°±æ˜¯åœ¨å®¹å™¨é‡Œæ²¡æœ‰è¿™ä¸ªBeançš„æ—¶å€™æ‰ç”Ÿæ•ˆã€‚ä½ ç†è§£è¿™ä¸ªæ„æ€å—ï¼Ÿ</p>
<p><strong>è°¢é£æœº</strong>ï¼šï¼ˆä¼¼æ‡‚éæ‡‚ï¼‰å•Šå¯¹å¯¹å¯¹ï¼å°±æ˜¯â€œå¦‚æœæ²¡æœ‰Aï¼Œæˆ‘å°±ä¸Šâ€ï¼</p>
<hr/>
<h3 data-id="heading-4">ç¬¬ä¸‰è½®ï¼šé«˜å¹¶å‘å®æˆ˜ - Kafkaæ¶ˆæ¯å¯é æ€§</h3>
<p><strong>é¢è¯•å®˜</strong>ï¼šæœ€åæˆ‘ä»¬æ¥ä¸ªåœºæ™¯é¢˜ã€‚å‡è®¾ä½ ä»¬å…¬å¸çš„è®¢å•ç³»ç»Ÿï¼Œç”¨Kafkaæ¥åšå‰Šå³°å¡«è°·å’Œç³»ç»Ÿè§£è€¦ã€‚å¦‚ä½•ä¿è¯æ¶ˆæ¯ä»ç”Ÿäº§è€…å‘å‡ºåï¼Œä¸€å®šèƒ½è¢«æ¶ˆè´¹è€…æˆåŠŸå¤„ç†ï¼Ÿä¹Ÿå°±æ˜¯ä¿è¯â€œä¸ä¸¢æ¶ˆæ¯â€ã€‚</p>
<p><strong>è°¢é£æœº</strong>ï¼šï¼ˆä¸€è„¸ä¸¥è‚ƒï¼‰è¿™ä¸ªå¾ˆé‡è¦ï¼é¦–å…ˆï¼Œç”Ÿäº§è€…å‘æ¶ˆæ¯çš„æ—¶å€™ï¼Œä¸èƒ½ç”¨<code>acks=0</code>ï¼Œå¾—ç”¨<code>acks=all</code>æˆ–è€…<code>acks=-1</code>ï¼Œå°±æ˜¯ç­‰æ‰€æœ‰å‰¯æœ¬éƒ½å†™æˆåŠŸæ‰ç®—å‘æˆåŠŸã€‚</p>
<p><strong>é¢è¯•å®˜</strong>ï¼šå¾ˆå¥½ã€‚é‚£Brokerç«¯å‘¢ï¼Ÿ</p>
<p><strong>è°¢é£æœº</strong>ï¼šBroker... Brokerè¦é…å¥½å¤šå‰¯æœ¬ï¼æ¯”å¦‚<code>replication.factor</code>è‡³å°‘è®¾æˆ3ï¼Œç„¶å<code>min.insync.replicas</code>è®¾æˆ2ã€‚è¿™æ ·å°±ç®—æŒ‚äº†ä¸€ä¸ªï¼Œè¿˜æœ‰å¤‡ä»½ï¼</p>
<p><strong>é¢è¯•å®˜</strong>ï¼šæ€è·¯æ˜¯å¯¹çš„ã€‚é‚£æ¶ˆè´¹è€…è¿™è¾¹å‘¢ï¼Ÿæœ€å®¹æ˜“å‡ºé—®é¢˜çš„åœ°æ–¹å°±åœ¨è¿™ã€‚</p>
<p><strong>è°¢é£æœº</strong>ï¼šï¼ˆå¡å£³äº†ï¼‰æ¶ˆè´¹è€…...æ¶ˆè´¹è€…è¦...è¦... å¥½åƒæœ‰ä¸ªä¸œè¥¿å«åç§»é‡ï¼ˆoffsetï¼‰... ä¸èƒ½è‡ªåŠ¨æäº¤ï¼è¦æ‰‹åŠ¨æäº¤ï¼</p>
<p><strong>é¢è¯•å®˜</strong>ï¼šå¯¹ï¼Œå…³é”®å°±åœ¨è¿™é‡Œã€‚å¦‚æœä½ å…ˆå¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œå†æäº¤offsetï¼Œä¸‡ä¸€å¤„ç†å®Œä¸šåŠ¡ï¼Œæäº¤offsetå‰å®•æœºäº†ï¼Œè¿™æ¡æ¶ˆæ¯å°±ä¼šè¢«é‡å¤æ¶ˆè´¹ã€‚å¦‚æœä½ å…ˆæäº¤offsetï¼Œå†å¤„ç†ä¸šåŠ¡ï¼Œä¸‡ä¸€å¤„ç†ä¸šåŠ¡æ—¶å®•æœºäº†ï¼Œè¿™æ¡æ¶ˆæ¯å°±ä¸¢äº†ã€‚ä½ æ€ä¹ˆè§£å†³è¿™ä¸ªä¸¤éš¾é—®é¢˜ï¼Ÿ</p>
<p><strong>è°¢é£æœº</strong>ï¼šï¼ˆå½»åº•æ‡µäº†ï¼‰è¿™... è¿™... æˆ‘... æˆ‘å¯ä»¥æŠŠä¸šåŠ¡å¤„ç†å’Œoffsetæäº¤æ”¾åœ¨ä¸€ä¸ªäº‹åŠ¡é‡Œï¼Ÿ</p>
<p><strong>é¢è¯•å®˜</strong>ï¼šï¼ˆå¾®ç¬‘ï¼‰Kafkaæœ¬èº«æä¾›äº†äº‹åŠ¡APIï¼Œå¯ä»¥å®ç°æ°å¥½ä¸€æ¬¡ï¼ˆExactly-onceï¼‰è¯­ä¹‰ã€‚ä½†æ›´å¸¸è§çš„åšæ³•æ˜¯ï¼ŒæŠŠä½ çš„ä¸šåŠ¡å¤„ç†è®¾è®¡æˆå¹‚ç­‰çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå°±ç®—åŒä¸€æ¡æ¶ˆæ¯è¢«æ¶ˆè´¹å¤šæ¬¡ï¼Œå¯¹æœ€ç»ˆç»“æœä¹Ÿæ²¡æœ‰å½±å“ã€‚æ¯”å¦‚ï¼Œä½ æ›´æ–°æ•°æ®åº“æ—¶ï¼Œç”¨update ... where id = ? and version = ? è¿™ç§ä¹è§‚é”çš„æ–¹å¼ï¼Œæˆ–è€…ç”¨å”¯ä¸€ç´¢å¼•æ¥é˜²æ­¢é‡å¤æ’å…¥ã€‚</p>
<p><strong>è°¢é£æœº</strong>ï¼šï¼ˆæç„¶å¤§æ‚Ÿï¼‰å“¦ï¼å¹‚ç­‰ï¼æˆ‘æ˜ç™½äº†ï¼</p>
<hr/>
<h3 data-id="heading-5">ç»“å°¾</h3>
<p><strong>é¢è¯•å®˜</strong>ï¼šå¥½çš„ï¼Œè°¢é£æœºåŒå­¦ï¼Œä»Šå¤©çš„é¢è¯•å°±åˆ°è¿™é‡Œã€‚ä½ çš„åŸºç¡€çŸ¥è¯†è¿˜ç®—æ‰å®ï¼Œä½†åœ¨é«˜å¹¶å‘å’Œåˆ†å¸ƒå¼åœºæ™¯ä¸‹çš„å®è·µç»éªŒè¿˜æœ‰å¾…åŠ å¼ºã€‚å›å»ç­‰é€šçŸ¥å§ã€‚</p>
<p><strong>è°¢é£æœº</strong>ï¼šï¼ˆèµ·èº«é èº¬ï¼‰è°¢è°¢ç‹å“¥ï¼æˆ‘ä¸€å®šå¥½å¥½å­¦ä¹ ï¼Œäº‰å–ä¸‹æ¬¡... å•Šä¸æ˜¯ï¼Œäº‰å–èƒ½æ”¶åˆ°è´µå¸çš„offerï¼</p>
<hr/>
<h3 data-id="heading-6">æŠ€æœ¯ç‚¹è¯¦è§£</h3>
<h4 data-id="heading-7">1. JVMå†…å­˜æ¨¡å‹</h4>
<ul>
<li><strong>ç¨‹åºè®¡æ•°å™¨ (PC Register)</strong>: çº¿ç¨‹ç§æœ‰ï¼Œè®°å½•å½“å‰çº¿ç¨‹æ‰§è¡Œçš„å­—èŠ‚ç æŒ‡ä»¤åœ°å€ã€‚</li>
<li><strong>è™šæ‹Ÿæœºæ ˆ (VM Stack)</strong>: çº¿ç¨‹ç§æœ‰ï¼Œå­˜å‚¨æ ˆå¸§ï¼ˆFrameï¼‰ï¼Œæ¯ä¸ªæ–¹æ³•è°ƒç”¨éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ ˆå¸§ï¼ŒåŒ…å«å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€é“¾æ¥ã€æ–¹æ³•å‡ºå£ç­‰ä¿¡æ¯ã€‚</li>
<li><strong>æœ¬åœ°æ–¹æ³•æ ˆ (Native Method Stack)</strong>: ä¸è™šæ‹Ÿæœºæ ˆç±»ä¼¼ï¼Œä½†ä¸ºNativeæ–¹æ³•æœåŠ¡ã€‚</li>
<li><strong>å † (Heap)</strong>: çº¿ç¨‹å…±äº«ï¼Œå‡ ä¹æ‰€æœ‰å¯¹è±¡å®ä¾‹å’Œæ•°ç»„éƒ½åœ¨è¿™é‡Œåˆ†é…å†…å­˜ã€‚æ˜¯GCçš„ä¸»è¦åŒºåŸŸã€‚
<ul>
<li><strong>æ–°ç”Ÿä»£ (Young Generation)</strong>: æ–°åˆ›å»ºçš„å¯¹è±¡é¦–å…ˆåˆ†é…åœ¨æ­¤ã€‚é‡‡ç”¨å¤åˆ¶ç®—æ³•è¿›è¡ŒGCã€‚åˆ†ä¸ºEdenåŒºå’Œä¸¤ä¸ªSurvivoråŒºï¼ˆS0, S1ï¼‰ã€‚</li>
<li><strong>è€å¹´ä»£ (Old Generation)</strong>: å­˜æ”¾é•¿æœŸå­˜æ´»çš„å¯¹è±¡ã€‚é‡‡ç”¨æ ‡è®°-æ•´ç†æˆ–æ ‡è®°-æ¸…é™¤ç®—æ³•ã€‚</li>
</ul>
</li>
<li><strong>æ–¹æ³•åŒº (Method Area)</strong>: çº¿ç¨‹å…±äº«ï¼Œç”¨äºå­˜å‚¨å·²è¢«è™šæ‹ŸæœºåŠ è½½çš„ç±»å‹ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ã€å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åçš„ä»£ç ç¼“å­˜ç­‰ã€‚åœ¨HotSpotè™šæ‹Ÿæœºä¸­ï¼ŒJDK8ä¹‹å‰ç”±æ°¸ä¹…ä»£ï¼ˆPermGenï¼‰å®ç°ï¼ŒJDK8åŠä»¥åç”±å…ƒç©ºé—´ï¼ˆMetaspaceï¼‰å®ç°ï¼Œä½¿ç”¨æœ¬åœ°å†…å­˜ã€‚</li>
</ul>
<h4 data-id="heading-8">2. Spring Bootè‡ªåŠ¨é…ç½®åŸç†</h4>
<ul>
<li><strong>æ ¸å¿ƒæ³¨è§£</strong>: <code>@SpringBootApplication</code> æ˜¯ä¸€ä¸ªç»„åˆæ³¨è§£ï¼Œå…¶ä¸­åŒ…å«äº† <code>@EnableAutoConfiguration</code>ã€‚</li>
<li><strong><code>spring.factories</code></strong>: Spring Bootåœ¨å¯åŠ¨æ—¶ï¼Œä¼šæ‰«ææ‰€æœ‰jaråŒ…ä¸‹çš„ <code>META-INF/spring.factories</code> æ–‡ä»¶ï¼ŒåŠ è½½å…¶ä¸­ <code>org.springframework.boot.autoconfigure.EnableAutoConfiguration</code> é”®å¯¹åº”çš„è‡ªåŠ¨é…ç½®ç±»ã€‚</li>
<li><strong>æ¡ä»¶è£…é…</strong>: è‡ªåŠ¨é…ç½®ç±»ä¸Šé€šå¸¸å¸¦æœ‰å¤§é‡çš„æ¡ä»¶æ³¨è§£ï¼Œå¦‚ <code>@ConditionalOnClass</code>, <code>@ConditionalOnMissingBean</code>, <code>@ConditionalOnProperty</code> ç­‰ã€‚åªæœ‰æ»¡è¶³æ‰€æœ‰æ¡ä»¶ï¼Œè¯¥é…ç½®ç±»æ‰ä¼šç”Ÿæ•ˆã€‚</li>
<li><strong>é…ç½®é¡ºåº</strong>: å¯ä»¥é€šè¿‡ <code>@AutoConfigureBefore</code>, <code>@AutoConfigureAfter</code>, <code>@AutoConfigureOrder</code> æ¥ç²¾ç¡®æ§åˆ¶è‡ªåŠ¨é…ç½®ç±»çš„åŠ è½½é¡ºåºã€‚</li>
</ul>
<h4 data-id="heading-9">3. Kafkaæ¶ˆæ¯å¯é æ€§ä¿éšœ</h4>
<ul>
<li><strong>ç”Ÿäº§è€…ç«¯</strong>:
<ul>
<li><code>acks=all/-1</code>: è¦æ±‚Leaderå’Œæ‰€æœ‰ISRï¼ˆIn-Sync Replicasï¼‰éƒ½ç¡®è®¤æ”¶åˆ°æ¶ˆæ¯åæ‰è®¤ä¸ºå‘é€æˆåŠŸã€‚</li>
<li><code>retries</code>: è®¾ç½®åˆç†çš„é‡è¯•æ¬¡æ•°ï¼Œåº”å¯¹ç½‘ç»œæŠ–åŠ¨ã€‚</li>
<li><code>enable.idempotence=true</code>: å¼€å¯å¹‚ç­‰æ€§ï¼Œä¿è¯å•ä¸ªåˆ†åŒºå†…çš„æ¶ˆæ¯ä¸é‡å¤ã€‚</li>
</ul>
</li>
<li><strong>Brokerç«¯</strong>:
<ul>
<li><code>replication.factor &gt;= 3</code>: ä¸ºTopicè®¾ç½®è¶³å¤Ÿçš„å‰¯æœ¬æ•°ã€‚</li>
<li><code>min.insync.replicas &gt; 1</code>: è§„å®šISRæœ€å°æ•°é‡ï¼Œé˜²æ­¢æ•°æ®åªå†™å…¥Leaderå°±è¿”å›æˆåŠŸã€‚</li>
<li><code>unclean.leader.election.enable=false</code>: ç¦æ­¢éISRä¸­çš„å‰¯æœ¬å‚ä¸Leaderé€‰ä¸¾ï¼Œé˜²æ­¢æ•°æ®ä¸¢å¤±ã€‚</li>
</ul>
</li>
<li><strong>æ¶ˆè´¹è€…ç«¯</strong>:
<ul>
<li><strong>å…³é—­è‡ªåŠ¨æäº¤</strong>: <code>enable.auto.commit=false</code>ã€‚</li>
<li><strong>æ‰‹åŠ¨æäº¤</strong>: åœ¨ç¡®ä¿ä¸šåŠ¡é€»è¾‘å¤„ç†æˆåŠŸåå†æäº¤offsetã€‚å¯ä»¥é€‰æ‹©åŒæ­¥æäº¤ï¼ˆ<code>commitSync</code>ï¼‰æˆ–å¼‚æ­¥æäº¤ï¼ˆ<code>commitAsync</code>ï¼‰ã€‚</li>
<li><strong>å®ç°å¹‚ç­‰æ€§</strong>: è¿™æ˜¯æœ€æ ¸å¿ƒçš„ä¿éšœã€‚æ— è®ºæ¶ˆæ¯è¢«æ¶ˆè´¹å¤šå°‘æ¬¡ï¼Œä¸šåŠ¡ç»“æœéƒ½ä¿æŒä¸€è‡´ã€‚å¸¸ç”¨æ‰‹æ®µåŒ…æ‹¬æ•°æ®åº“å”¯ä¸€ç´¢å¼•ã€çŠ¶æ€æœºã€å¸¦ç‰ˆæœ¬å·çš„æ›´æ–°ç­‰ã€‚</li>
</ul>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <!----></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘çš„2025ï¼šåšé¡¹ç›®ã€è·‘å‰¯ä¸šã€è§äººã€å¥”æ³¢ã€æ¬å®¶ã€ç»´æƒã€å†å›ä¸Šæµ·]]></title>    <link>https://juejin.cn/post/7595147871939493934</link>    <guid>https://juejin.cn/post/7595147871939493934</guid>    <pubDate>2026-01-15T03:10:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595147871939493934" data-draft-id="7595147871937593390" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘çš„2025ï¼šåšé¡¹ç›®ã€è·‘å‰¯ä¸šã€è§äººã€å¥”æ³¢ã€æ¬å®¶ã€ç»´æƒã€å†å›ä¸Šæµ·"/> <meta itemprop="keywords" content="å¹´ç»ˆæ€»ç»“,ç¨‹åºå‘˜,å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-15T03:10:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜æµ·å†›"/> <meta itemprop="url" content="https://juejin.cn/user/1239904848713592"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘çš„2025ï¼šåšé¡¹ç›®ã€è·‘å‰¯ä¸šã€è§äººã€å¥”æ³¢ã€æ¬å®¶ã€ç»´æƒã€å†å›ä¸Šæµ·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1239904848713592/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜æµ·å†›
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-15T03:10:48.000Z" title="Thu Jan 15 2026 03:10:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    42
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>2025 å¹´ï¼Œå¦‚æœè®©æˆ‘ç”¨ä¸€å¥è¯å®šæ€§ï¼Œæˆ‘ä¼šè¯´ï¼š<strong>æˆ‘åœ¨å˜å¼ºï¼Œä¹Ÿåœ¨é‡æ–°é€‰æ‹©è‡ªå·±çš„äººç”Ÿç»“æ„ã€‚</strong></p>
<p>è¿™ä¸€å¹´æˆ‘åšäº†å¾ˆå¤šäº‹ï¼Œå¤šåˆ°æˆ‘ä¸€åº¦ä¸æ•¢å›å¤´çœ‹ã€‚è¡¨é¢ä¸Šçœ‹ï¼Œæˆ‘ä¸€ç›´åœ¨â€œå¾€å‰â€ï¼šå†™å†…å®¹ã€åšé¡¹ç›®ã€è·‘å‰¯ä¸šã€è§äººã€å¥”æ³¢ã€æ¬å®¶ã€ç»´æƒã€å†å›ä¸Šæµ·ã€‚å¯åªæœ‰æˆ‘è‡ªå·±çŸ¥é“ï¼ŒçœŸæ­£æŠ˜ç£¨äººçš„ä¸æ˜¯å¿™ï¼Œæ˜¯é‚£ç§åå¤å‡ºç°çš„ç¬é—´â€”â€”æˆ‘çªç„¶æ„è¯†åˆ°ï¼šæˆ‘ä¸æ˜¯åœ¨å†²ï¼Œæˆ‘æ˜¯åœ¨<strong>è¢«ç”Ÿæ´»æ¨ç€è·‘</strong>ã€‚</p>
<p>æˆ‘ç¡®å®æ‹¿åˆ°äº†ä¸€äº›ç»“æœã€‚å†…å®¹æœ‰è¿‡çˆ†çš„æ—¶åˆ»ï¼Œå°çº¢ä¹¦æ¶¨äº†ç²‰ï¼Œè§†é¢‘å‰ªè¾‘ä»æ‰‹å¿™è„šä¹±åˆ°æ…¢æ…¢é¡ºæ‰‹ï¼Œæœ‰äººå¼€å§‹æ¥é—®æˆ‘ã€ä¿¡æˆ‘ã€ç”šè‡³æ„¿æ„ä»˜è´¹ã€‚é‚£æ®µæ—¶é—´æˆ‘æœ‰ä¸€ç§å¾ˆç½•è§çš„ç¬ƒå®šï¼šåªè¦æˆ‘è‚¯å­¦ã€è‚¯ç£¨ï¼Œå¾ˆå¤šäº‹æˆ‘éƒ½èƒ½åšæˆã€‚é‚£ç§â€œæˆ‘å¥½åƒä»€ä¹ˆéƒ½èƒ½åšâ€çš„è‡ªä¿¡ï¼Œåœ¨è¿™ä¸€å¹´é‡Œåå¤æŠŠæˆ‘ä»ä½è°·é‡Œæ‰˜èµ·æ¥ã€‚</p>
<p>ä½†åŒæ ·æ˜¯è¿™ä¸€å¹´ï¼Œæˆ‘ä¹Ÿäº¤äº†ä¸€ç¬”ä¸è½»çš„å­¦è´¹ã€‚ä¸æ˜¯é’±é‚£ä¹ˆç®€å•ï¼Œæ›´æ˜¯å¯¹äººã€å¯¹æœºä¼šã€å¯¹â€œçœ‹èµ·æ¥å¾ˆç¾â€çš„æ‰¿è¯ºçš„é‚£ç§å¤©çœŸã€‚æˆ‘æ›¾å› ä¸ºä¿¡ä»»åšäº†ä¸€ä¸ªå¾ˆé‡çš„å†³å®šï¼›ä¹Ÿæ›¾åœ¨åŒ—äº¬çš„å¤œé‡ŒæŠŠäº‹æƒ…ä¸€æ¡æ¡æ‘Šå¼€ç®—æ¸…æ¥šï¼Œæœ€åå‘ç°ä¸æ˜¯å€¼ä¸å€¼çš„é—®é¢˜ï¼Œè€Œæ˜¯æˆ‘å†æ‹–ä¸‹å»ï¼Œå°±ä¼šæŠŠè‡ªå·±è€—åˆ°æ²¡æ ·å­ã€‚</p>
<p>æˆ‘ä¸æƒ³æŠŠè¿™ç¯‡å¤ç›˜å†™æˆæµæ°´è´¦ï¼Œä¹Ÿä¸æƒ³å†™æˆé¸¡æ±¤ã€‚æˆ‘åªæƒ³æŠŠè¿™ä¸€å¹´æœ€çœŸå®çš„éƒ¨åˆ†æ‘†å‡ºæ¥ï¼šæˆ‘æ€ä¹ˆä¸€ç‚¹ç‚¹å˜å¼ºï¼Œæ€ä¹ˆè¢«ç°å®æ•™è‚²ï¼Œæ€ä¹ˆæ­¢æŸã€æ€ä¹ˆç»´æƒã€æ€ä¹ˆæŠŠè‡ªå·±ä»åºŸå¢Ÿé‡Œæ¡å›æ¥ã€‚</p>
<hr/>
<h2 data-id="heading-0">1. æˆ‘å¼€å§‹æŠŠè¡¨è¾¾å½“æˆä¸€ä»¶æ­£äº‹</h2>
<p>ä¸‰æœˆå¼€å§‹ï¼Œæˆ‘æŠŠå¾ˆå¤šæ³¨æ„åŠ›æ”¾åœ¨â€œè¯´æ¸…æ¥šâ€è¿™ä»¶äº‹ä¸Šã€‚</p>
<p>ä»¥å‰æˆ‘ä¹Ÿè¾“å‡ºï¼Œä½†æ›´å¤šåƒéšæ‰‹è®°å½•ã€‚2025 å¹´ä¸ä¸€æ ·ï¼Œæˆ‘å¼€å§‹è®¤çœŸç»è¥è¡¨è¾¾ï¼šæ¯å¤©é’»ç ”ã€æ¯å¤©å°è¯•ã€æ¯å¤©å¤ç›˜ã€‚å…¬ä¼—å·æœ‰äº†æ›´æ˜ç¡®çš„æ­£åé¦ˆï¼Œæœ‰å‡ ç¯‡æ–‡ç« çªç„¶è¢«æ¨èµ·æ¥ï¼Œè¯„è®ºåŒºå¼€å§‹å‡ºç°é™Œç”Ÿäººçš„å…±é¸£ï¼Œåå°ä¹Ÿå¼€å§‹æœ‰äººæ¥é—®æˆ‘é—®é¢˜ã€‚é‚£ç§æ„Ÿè§‰å¾ˆå¥‡å¦™â€”â€”æˆ‘å†™çš„ä¸œè¥¿ä¸å†åªå±äºæˆ‘è‡ªå·±ï¼Œå®ƒå¼€å§‹è¿›å…¥åˆ«äººçš„ç”Ÿæ´»ã€‚</p>
<p><strong>ä»Šå¹´ä½¿ç”¨æœ€å¤šçš„AI IDE å°±æ˜¯Traeï¼Œä¹Ÿå‚åŠ äº†ç¬¬ä¸€æœŸçš„Trae å¾æ–‡æ´»åŠ¨ï¼Œè·å¾—äº†ç¬¬äºŒåï¼ŒTraeç»™æˆ‘æ¥äº†å¾ˆå¤šæˆé•¿ã€‚</strong></p>
<h3 data-id="heading-1">ä»Šå¹´åœ¨Trae æ–¹é¢çš„å®è·µï¼š</h3>
<ol>
<li><a href="https://juejin.cn/post/7462542925915848744" target="_blank" title="https://juejin.cn/post/7462542925915848744">å­—èŠ‚è·³åŠ¨æ¨å‡ºAIç¼–ç¨‹ç¥å™¨Traeï¼ŒåŸºäºTrae ä» 0 å¼€å‘ä¸€ä¸ªGoogle æ’ä»¶ï¼</a>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3b6e1cf744a442e9a1de861a7ecdb918~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5rW35Yab:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769052191&amp;x-signature=Dv3ACzravm8nR9Dqn2Tv8Lg33w0%3D" alt="image.png" loading="lazy"/></li>
</ol>
 <hr/> 
<p>2.<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FTickHaiJun%2FAwsome-Trae" target="_blank" title="https://github.com/TickHaiJun/Awsome-Trae" ref="nofollow noopener noreferrer">è‡ªå·±ç»´æŠ¤äº†ä¸€ä¸ªTrae ç”Ÿæ€èµ„æºåˆé›†</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/59258b5730174548a77406d673fae8bd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5rW35Yab:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769052191&amp;x-signature=ABMXnb95GGfBctVrqfa4eWuhDLA%3D" alt="image.png" loading="lazy"/></p>
<hr/> 
<p>3.<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FTickHaiJun%2FDompet-App-React-Native" target="_blank" title="https://github.com/TickHaiJun/Dompet-App-React-Native" ref="nofollow noopener noreferrer">åŸºäºTrae å¼€å‘çš„ç¬¬ä¸€ä¸ªAPP</a></p>
<p>Trae åˆšå‡ºæ¥Claudeæ¨¡å‹æ—¶ï¼Œè¿å¤œæµ‹è¯„å®ƒçš„èƒ½åŠ›ï¼Œå½“æ—¶èŠ±äº†5ä¸ªå°æ—¶æå‡ºä¸€ä¸ªAppï¼Œé¡¹ç›®å¹¶ä¸”è¿˜å¼€æºäº†
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a06eb9813c4442bd9596c93f7e4321c6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5rW35Yab:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769052191&amp;x-signature=dxOCITD%2BPwodcJmnyKrERrEI81c%3D" alt="image.png" loading="lazy"/></p>
<hr/> 
<ol start="4">
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FTickHaiJun%2FPodcast" target="_blank" title="https://github.com/TickHaiJun/Podcast" ref="nofollow noopener noreferrer">åŸºäºTrae è®¾è®¡çš„åŸå‹ç¨¿</a></li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ff1c4e211c9f4022959bd5c49f6080a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5rW35Yab:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769052191&amp;x-signature=WLbDyCYPnQLLHa%2BD5gbHs91dA4Y%3D" alt="tickhaijun.github.io_Podcast_.png" loading="lazy"/></p>
<p>æˆ‘ä¹Ÿå¼€å§‹ç¢°è§†é¢‘ã€‚è¯´å®è¯ï¼Œä¸€å¼€å§‹å¾ˆç‹¼ç‹ˆï¼šå‰ªä¸€ä¸ªä¸€åˆ†é’Ÿçš„è§†é¢‘ï¼Œè¦èŠ±æˆ‘ä¸¤ä¸‰ä¸ªå°æ—¶ã€‚å¡ç‚¹ã€é…ä¹ã€å­—å¹•ã€èŠ‚å¥ï¼Œå“ªä¸€æ ·éƒ½ä¸åƒçœ‹èµ·æ¥é‚£ä¹ˆç®€å•ã€‚æˆ‘ä¸€åº¦æ€€ç–‘æ˜¯ä¸æ˜¯æˆ‘ä¸é€‚åˆï¼Œä½†åˆä¸ç”˜å¿ƒã€‚æˆ‘çŸ¥é“è¿™æ˜¯ä¸€å—æˆ‘ä¹‹å‰æ²¡å°è¯•è¿‡çš„èƒ½åŠ›ï¼Œä¸€æ—¦ç»ƒå‡ºæ¥ï¼Œå°±æ˜¯æ–°çš„è·¯ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1VHQLYvE6C%2F%3Fvd_source%3D824b78ff76f90d1fc4e5e732bb09b3c1" target="_blank" title="https://www.bilibili.com/video/BV1VHQLYvE6C/?vd_source=824b78ff76f90d1fc4e5e732bb09b3c1" ref="nofollow noopener noreferrer">åŸºäºTraeè¿˜åšäº†åŸå‹è¿˜åŸè®¾è®¡ç¨¿ï¼Œæ²¡æƒ³åˆ°è§†é¢‘ç«äº†</a>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/084cf0529eb14133a8bd47bc6223292b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5rW35Yab:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769052191&amp;x-signature=sbXq04mmb8UOZS4vniTea7DC3C0%3D" alt="image.png" loading="lazy"/></p>
<hr/> 
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f0e0e5e1ef3a401a89324f16d81a9e39~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5rW35Yab:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769052191&amp;x-signature=AyNm8cBDD06WeO6BH45BZPtlUwU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™ä¸€æ®µç»™æˆ‘çš„ç¤¼ç‰©ï¼Œæ˜¯ä¸€ç§æ›´ç¨³å®šçš„è‡ªä¿¡ï¼šå¾ˆå¤šäº‹çœ‹èµ·æ¥å¤æ‚ï¼Œåªè¦æ‹†å¼€ã€ä¸€æ­¥æ­¥åšï¼Œå°±ä¼šå˜å¾—å¯æ§ã€‚</p>
<hr/>
<h2 data-id="heading-2">2. æˆ‘æŠŠæƒ³æ³•åšæˆäº†ä½œå“é€šè¿‡Vibe Coding</h2>
<p>äº”æœˆåˆ°å…«æœˆï¼Œæˆ‘è¿›å…¥äº†ä¸€ç§â€œæ‰‹é‡Œæœ‰æ´»â€çš„çŠ¶æ€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/851889f4a747430dbbeacd88bb26b885~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5rW35Yab:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769052191&amp;x-signature=MYEVZWlCm7qx6B0qd17WxybE9wI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzg2ODI4OTMwMw%3D%3D%26mid%3D2247492557%26idx%3D1%26sn%3D8949270a3c3bf6f409d6e6046cb8411a%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=Mzg2ODI4OTMwMw==&amp;mid=2247492557&amp;idx=1&amp;sn=8949270a3c3bf6f409d6e6046cb8411a&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">ä»æ‡µæ‡‚åˆ°è½åœ°ï¼šè®°å½•æˆ‘ä»¬ç¬¬ä¸€æ¬¡æˆåŠŸå°†å¤§æ¨¡å‹â€œå¡â€è¿›ä¸šåŠ¡çš„æ›²æŠ˜å†ç¨‹</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/07e017b0a4c945319014685d73afd04e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5rW35Yab:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769052191&amp;x-signature=E63IlnD6cnjFbkwGr1BLux29qMI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¹´åˆåšäº†è‡ªå·±ç¬¬ä¸€æ¬¾AIåº”ç”¨</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e30ed837ab8948cea3ed601b3c05cb49~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5rW35Yab:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769052191&amp;x-signature=G8kGww7E1%2BQNEKGDGecLjDjK7Ns%3D" alt="å›¾ç‰‡" loading="lazy"/><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fa0b39602aee4af89fb09bcf4b556e88~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5rW35Yab:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769052191&amp;x-signature=MXuG2xuy0iBXvH%2FjH5SR51qHF0c%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é‚£æ®µæ—¶é—´æˆ‘åšäº†å¾ˆå¤šä½œå“ï¼Œä¹Ÿå¼€æºäº†ä¸å°‘ä¸œè¥¿ã€‚è¯´ç™½äº†ï¼Œå°±æ˜¯æŠŠæƒ³æ³•ä»è„‘å­é‡Œæ‹å‡ºæ¥ï¼Œåšæˆä¸€ä¸ªèƒ½è·‘ã€èƒ½çœ‹ã€èƒ½ç”¨ã€èƒ½è¢«åˆ«äººç†è§£çš„ä¸œè¥¿ã€‚</p>
<p>ä¸æ­¤åŒæ—¶ï¼Œæˆ‘ä¹Ÿç»™å›¢é˜Ÿåšäº†å¤šæ¬¡åˆ†äº«ï¼Œè®²æˆ‘æœ€è¿‘åœ¨åšä»€ä¹ˆã€æ€ä¹ˆåšã€è¸©äº†ä»€ä¹ˆå‘ã€æ€ä¹ˆç»•å¼€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b9d47a7484ef4dd38f01c4956011edcb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5rW35Yab:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769052191&amp;x-signature=8voSZEuxWPSeEdYc41GKxsWHCCA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¸­é—´æœ‰ä¸¤æ¬¡æœºä¼šæˆ‘å°è±¡å¾ˆæ·±ï¼šä¸€æ¬¡æ˜¯æ¥è‡ªä¸€å®¶å¾ˆå¤§çš„å’¨è¯¢å…¬å¸ï¼Œä¸€æ¬¡æ˜¯å‡ºæµ·æ–¹å‘çš„è¿œç¨‹é‚€è¯·ã€‚å®ƒä»¬éƒ½æŒºè¯±äººï¼Œä½†æˆ‘å½“æ—¶éƒ½æ‹’ç»äº†ã€‚åŸå› å¾ˆç®€å•ï¼šæˆ‘çŸ¥é“æˆ‘è¿˜æ²¡å‡†å¤‡å¥½ã€‚èƒ½åŠ›æ²¡åˆ°é‚£ä¸ªåšåº¦ã€å¿ƒæ€æ²¡åˆ°é‚£ä¸ªç¨³å®šåº¦ï¼Œæˆ‘ä¸æƒ³é è¿æ°”ä¸Šå»ï¼Œç„¶åé ç¡¬æ‰›æ’‘ä½ã€‚</p>
<p>ä¹Ÿæœ‰ä¸€äº›å°å°çš„æƒŠå–œï¼šæœ‰äººä¹°äº†æˆ‘åšçš„ä¸œè¥¿ï¼Œè™½ç„¶æ•°é‡ä¸ç®—å¤šï¼Œä½†è¶³å¤Ÿè®©æˆ‘ç¡®è®¤â€”â€”æˆ‘åšçš„ä¸œè¥¿ä¸æ˜¯è‡ªå—¨ï¼Œæ˜¯çœŸçš„æœ‰äººéœ€è¦ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œè¶Šæ¥è¶Šå¤šçš„ç½‘å‹é€šè¿‡æˆ‘çš„å†…å®¹è®¤è¯†æˆ‘ï¼Œè”ç³»æˆ‘ï¼Œé—®æˆ‘é—®é¢˜ã€‚</p>
<p>é‚£å‡ ä¸ªæœˆæˆ‘æœ€å¤§çš„æ”¶è·ä¸æ˜¯â€œåšäº†å¤šå°‘â€ï¼Œè€Œæ˜¯ä¸€ä¸ªæ›´æœ´ç´ çš„ç»“è®ºï¼š<strong>æƒ³æ³•ä¸å€¼é’±ï¼Œåšå‡ºæ¥æ‰å€¼é’±ã€‚</strong></p>
<hr/>
<h2 data-id="heading-3">3. æœ‰äººæ„¿æ„ä¸ºæˆ‘çš„èƒ½åŠ›ä¹°å•</h2>
<p>ä¹æœˆåˆ°åä¸€æœˆï¼Œæˆ‘çš„å‰¯ä¸šå¼€å§‹åƒä¸€é—¨â€œæ­£ç»äº‹â€ã€‚</p>
<p>å’¨è¯¢å˜å¤šäº†ã€‚æœ‰çš„æ˜¯ä¸´æ—¶é—®ç­”ï¼Œæœ‰çš„æ˜¯æ›´ç³»ç»Ÿçš„é™ªè·‘ã€‚æˆ‘æ¥äº†ä¸‰ä»½é™ªè·‘ï¼Œä¹Ÿå› æ­¤è®¤è¯†äº†å‡ ä½å¾ˆæŠ•ç¼˜çš„æœ‹å‹ï¼Œéƒ½æ˜¯å±±è¥¿çš„ã€‚æˆ‘ä»¬èŠé¡¹ç›®ã€èŠé€‰æ‹©ã€èŠæ€ä¹ˆæŠŠäº‹æƒ…åšæˆï¼Œä¹ŸèŠæ€ä¹ˆåœ¨ç°å®é‡Œä¸æŠŠè‡ªå·±å¼„ä¸¢ã€‚</p>
<p>è¿™ä»½å…³ç³»å¾ˆçè´µã€‚å®ƒä¸æ˜¯é‚£ç§äº’ç›¸å¹æ§çš„çƒ­é—¹ï¼Œè€Œæ˜¯æˆ‘èƒ½æ˜æ˜¾æ„Ÿåˆ°ï¼šå¯¹æ–¹å› ä¸ºæˆ‘çš„å»ºè®®å°‘èµ°äº†å¼¯è·¯ï¼Œäº‹æƒ…æ¨è¿›å¾—æ›´é¡ºï¼Œè€Œæˆ‘ä¹Ÿå› ä¸ºå¯¹æ–¹çš„åé¦ˆå˜å¾—æ›´åšå®šã€‚é‚£ç§â€œæˆ‘çœŸçš„å¸®åˆ°äº†äººâ€çš„æˆå°±æ„Ÿï¼Œæ¯”æ•°å­—æ›´å®åœ¨ã€‚</p>
<p>æˆ‘ä¹Ÿåœ¨è¿™ä¸€æ®µç¬¬ä¸€æ¬¡æ›´æ¸…æ™°åœ°çœ‹åˆ°æˆ‘çš„ä½ç½®ï¼šæˆ‘ä¸æ˜¯åªèƒ½åŸ‹å¤´åšé¡¹ç›®çš„äººï¼Œæˆ‘è¿˜å¯ä»¥æŠŠç»éªŒè®²æ¸…æ¥šï¼ŒæŠŠå¤æ‚æ‹†ç®€å•ï¼ŒæŠŠåˆ«äººå¡ä½çš„ç‚¹æŒ‡å‡ºæ¥ã€‚è¿™æ˜¯ä¸€ç§èƒ½åŠ›ï¼Œä¹Ÿæ˜¯ä¸€ç§è´£ä»»æ„Ÿã€‚</p>
<p>è¿™ä¸€æ®µè®©æˆ‘ç›¸ä¿¡ï¼šé è‡ªå·±æ”’å‡ºæ¥çš„å£ç¢‘ï¼Œæ…¢ï¼Œä½†ç¨³ã€‚</p>
<hr/>
<h2 data-id="heading-4">4. æˆ‘é‡æ–°ç¡®è®¤äº†â€œé’±è¯¥èŠ±åœ¨å“ªâ€</h2>
<p>å›½åº†æˆ‘å’Œå®¶äººè‡ªé©¾å‡ºå»ç©äº†ä¸€è¶Ÿã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ac0438f656994dce9045cdf0e2c41717~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5rW35Yab:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769052191&amp;x-signature=9Y8GzOmf4OQ3sNi5ye9hSBwvCLs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é£å¾ˆå¤§ï¼Œå¤©å¾ˆé«˜ï¼Œç¾Šè‚‰å¾ˆé¦™ã€‚æˆ‘ä»¬åœ¨è‰åŸä¸Šå¾…äº†ä¸€å¤©ï¼Œæˆ‘ç»™çˆ¶æ¯å®‰æ’äº†è¶Šé‡å¡ä¸è½¦ï¼Œè®©ä»–ä»¬åœ¨è‰åœ°ä¸Šè·‘ä¸€åœˆï¼›æˆ‘å’Œå§å§éª‘äº†é©¬ï¼Œç¬‘å¾—åƒå›åˆ°å°æ—¶å€™ã€‚é‚£å‡ å¤©æˆ‘å¾ˆæ”¾æ¾ï¼Œç”šè‡³æœ‰ç‚¹ææƒšâ€”â€”åŸæ¥æˆ‘åŠªåŠ›è¿™ä¹ˆä¹…ï¼Œæœ€æƒ³æ¢æ¥çš„å¹¶ä¸æ˜¯æŸä¸ªå¤´è¡”ï¼Œè€Œæ˜¯è¿™ç§â€œæˆ‘èƒ½è®©ä»–ä»¬å¼€å¿ƒâ€çš„åº•æ°”ã€‚</p>
<p>æˆ‘ä»¥å‰å¯¹èŠ±é’±å¾ˆè°¨æ…ï¼Œæ€»è§‰å¾—è¦æ”’ç€ã€è¦ç®—è®¡å›æŠ¥ã€‚å¯å½“æˆ‘æŠŠé’±èŠ±åœ¨å®¶äººèº«ä¸Šï¼Œé‚£ç§èˆ’å¦å¾ˆç›´æ¥ï¼šä¸éœ€è¦è¯æ˜ï¼Œä¸éœ€è¦è§£é‡Šï¼ŒèŠ±å‡ºå»å°±æ˜¯ä¸€ç§â€œæˆ‘æ‰›å¾—ä½äº†â€çš„ç¡®è®¤ã€‚</p>
<hr/>
<h2 data-id="heading-5">5. å»åŒ—äº¬ä¸€è¶Ÿï¼Œæˆ‘æŠŠèƒ†å­æ¡äº†å›æ¥</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4553c3d3f2d14a42bed33c8a7c803055~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5rW35Yab:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769052191&amp;x-signature=ejDlarsYi2UmYrSuTK10KCHDulY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åæœˆæˆ‘å»åŒ—äº¬å‚åŠ äº†ä¸€ä¸ªæ´»åŠ¨ï¼Œä¹Ÿç®—ç¬¬ä¸€æ¬¡ä¸ºäº†è¿™ç±»äº‹å‡ºè¿œé—¨ã€‚2026å¹´ï¼Œå¤šè¾“å‡ºAIï¼Œå¤šå‚åŠ æ´»åŠ¨ã€‚</p>
<p>ç°åœºäººå¾ˆå¤šï¼ŒèŠ‚å¥å¾ˆå¿«ï¼Œä¿¡æ¯å¯†å¾—è®©äººå–˜ä¸è¿‡æ°”ã€‚é‚£å¤©æˆ‘æœ€å¤§çš„æ„Ÿå—ï¼Œä¸æ˜¯è§äº†ä»€ä¹ˆäº§å“ï¼Œè€Œæ˜¯çªç„¶æ˜ç™½ï¼šæœºä¼šçœŸçš„ä¼šä»æˆ‘èº«è¾¹èµ°è¿‡å»ï¼Œèµ°è¿‡å»å°±æ²¡äº†ã€‚å¾ˆå¤šæ—¶å€™ä¸æ˜¯æˆ‘ä¸å¤Ÿå¥½ï¼Œæ˜¯æˆ‘ä¸æ•¢ç«™å‡ºæ¥ï¼Œæˆ–è€…æˆ‘ä¸‹æ„è¯†è§‰å¾—â€œæˆ‘è¿˜ä¸å¤Ÿæ ¼â€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/30ebb6a45a4c474aa41ec2ded9cb2524~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5rW35Yab:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769052191&amp;x-signature=vqovFvgQIUx0Y64Cd0Qk8ig%2Fooo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å»å¤©æ´¥è·¯ä¸Šï¼Œç†Ÿæ‚‰çš„æ„Ÿè§‰</p>
<p>æˆ‘ä¹Ÿå»äº†å¤©æ´¥ï¼Œè§äº†è€æœ‹å‹è€æã€‚æˆ‘ä»¬èŠäº†ä¸€æ•´å¤©ï¼Œæˆ‘å¸®ä»–æ¬è¿æ•´ç†é£Ÿå“ï¼Œä»–å¸¦æˆ‘åƒäº†å¤©æ´¥èœï¼Œç”šè‡³è®©æˆ‘ä½“éªŒäº†ä¸€æŠŠä¿æ—¶æ· 911ã€‚æœ€åä»–æŠŠæˆ‘é€åˆ°æœºåœºã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/02dc3c6573eb4db48769c940c60bd4f3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5rW35Yab:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769052191&amp;x-signature=reeAEYihLvC2CNZOp%2Fr0hglYo78%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é‚£ä¸€å¤©è®©æˆ‘å¾ˆæ„Ÿæ…¨ï¼šè¿™ä¸ªä¸–ç•Œå…¶å®å¾ˆå¤§ï¼Œä¹Ÿå¾ˆæ´»ï¼Œæˆ‘ä¸èƒ½æ€»æŠŠè‡ªå·±å›°åœ¨â€œæ€•éº»çƒ¦ã€æ€•å°´å°¬ã€æ€•å‡ºä¸‘â€çš„æƒ…ç»ªé‡Œã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5413c72886a34fa1b72298f959026b01~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5rW35Yab:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769052191&amp;x-signature=E6g3qaIPkySGTBzRC10K%2BQl9874%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä»Šå¹´æˆ‘ä¹Ÿä¹°äº†ä¸å°‘ä¹¦ï¼Œä¹Ÿè¯»äº†ä¸å°‘ä¹¦ã€‚ã€Šäº²å¯†å…³ç³»ã€‹ã€Šè®¤çŸ¥é©±åŠ¨ã€‹ã€Šçº³ç“¦å°”å®å…¸ã€‹â€¦â€¦å®ƒä»¬æ²¡æœ‰ç»™æˆ‘æ ‡å‡†ç­”æ¡ˆï¼Œä½†ç»™äº†æˆ‘æ›´æ¸…é†’çš„è§†è§’ï¼šæˆ‘è¦å¯¹è‡ªå·±çš„æƒ…ç»ªè´Ÿè´£ï¼Œå¯¹è‡ªå·±çš„é€‰æ‹©è´Ÿè´£ï¼Œå¯¹è‡ªå·±çš„é•¿æœŸè´Ÿè´£ã€‚</p>
<hr/>
<h2 data-id="heading-6">6. æˆ‘ç›¸ä¿¡è¿‡ä»–ï¼Œä¹Ÿå› æ­¤å®Œæˆäº†ä¸€æ¬¡ç¥›é­…</h2>
<p>åä¸€æœˆåº•ï¼Œæˆ‘åšäº†ä¸€ä¸ªå¾ˆé‡çš„å†³å®šï¼šç¦»èŒï¼Œå»åŒ—äº¬è¯•ä¸€æ¬¡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/587c2d3603fe408eba5ffb89494934d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5rW35Yab:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769052191&amp;x-signature=A4BpkE2YhfiFqk8amemo8rBylsQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™ä»¶äº‹æˆ‘å¹¶ä¸æ˜¯å†²åŠ¨ã€‚ç›¸åï¼Œæˆ‘æƒ³äº†å°†è¿‘ä¸€ä¸ªæœˆã€‚æœ‹å‹â€œä»–â€é‚€è¯·è¿‡æˆ‘ä¸‰æ¬¡ï¼Œå‰ä¸¤æ¬¡æˆ‘éƒ½æ‹’ç»äº†ã€‚ç¬¬ä¸‰æ¬¡åˆ›å§‹äººäº²è‡ªæ‰¾æˆ‘ï¼Œè¯è¯´å¾—å¾ˆæ¼‚äº®ï¼Œæœªæ¥ç”»å¾—å¾ˆå¤§ï¼Œè€Œæˆ‘ä¹Ÿç¡®å®åœ¨é‚£ä¸ªé˜¶æ®µæ¸´æœ›ä¸€æ¬¡æ›´å¤§çš„ç©ºé—´ã€‚å†åŠ ä¸Šå¯¹â€œä»–â€çš„ä¿¡ä»»ï¼Œæˆ‘æœ€ç»ˆç‚¹äº†å¤´ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef4cb5633ef9448b80afa2f5f449a77a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5rW35Yab:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769052191&amp;x-signature=J088GJ59aq24sYQl8cEYxVEFiCQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç¦»å¼€å‰ï¼Œæˆ‘åšäº†ä¸€ä»¶æˆ‘å¾ˆæƒ³åšçš„äº‹ï¼šæŠŠçˆ¸çˆ¸æ¥åˆ°ä¸Šæµ·ã€‚é‚£æ˜¯ä»–ç¬¬ä¸€æ¬¡æ¥ä¸Šæµ·ï¼Œä¹Ÿæ˜¯ä»–ç¬¬ä¸€æ¬¡åé£æœºã€‚æˆ‘å»æ¥ä»–çš„æ—¶å€™ï¼Œä»–è„¸ä¸Šçš„å–œæ‚¦è—ä¸ä½ã€‚æˆ‘å¸¦ä»–é€›äº†å¾ˆå¤šåœ°æ–¹ï¼Œæ‹äº†å¾ˆå¤šç…§ç‰‡ã€‚é€ä»–å»æœºåœºé‚£å¤©ï¼Œæˆ‘å¿ƒé‡Œå¾ˆè¸å®â€”â€”é‚£ç§æˆå°±æ„Ÿï¼Œä¸æ¥è‡ªä»»ä½•è¯„ä»·ï¼Œåªæ¥è‡ªâ€œæˆ‘èƒ½å¸¦ä»–çœ‹ä¸–ç•Œâ€çš„ç¬é—´ã€‚</p>
<p>ä»Šå¹´æˆ‘ä¹Ÿç»™å¦ˆå¦ˆä¹°äº†æ–°æ‰‹æœºï¼Œå¥¹ä¹‹å‰é‚£éƒ¨å¤ªå¡äº†ã€‚å†å°çš„äº‹æƒ…ï¼Œè½åœ¨çˆ¶æ¯èº«ä¸Šéƒ½æ˜¯å®åœ¨çš„æ”¹å˜ã€‚</p>
<p>ç„¶åæˆ‘å»äº†åŒ—äº¬ã€‚</p>
<p>ç°å®å¾ˆå¿«ç»™äº†æˆ‘ä¸€è®°é—·æ£ã€‚ä¹‹å‰è¯´çš„å’Œå®é™…å·®å¤ªå¤šå¤ªå¤šã€‚æˆ‘ä¼šåœ¨å¾ˆçŸ­æ—¶é—´å†…å‘ç°ï¼šæœ‰äº›è¯åªæ˜¯è¯ï¼Œæœ‰äº›æ‰¿è¯ºåªæ˜¯æƒ…ç»ªï¼Œæœ‰äº›â€œæ ¼å±€â€åªæ˜¯åŒ…è£…ã€‚æˆ‘ä¸æƒ³åœ¨è¿™é‡Œå†™å…·ä½“ç»†èŠ‚ï¼Œä½†æˆ‘å¯ä»¥å†™ç»“è®ºâ€”â€”è¿™æ¬¡ç»å†è®©æˆ‘å®Œæˆäº†ä¸€æ¬¡ç¥›é­…ï¼šå¯¹äººã€å¯¹æ‰€è°“â€œæœºä¼šâ€ã€å¯¹â€œçœ‹èµ·æ¥å¾ˆç¾â€çš„æœªæ¥ã€‚</p>
<p>æˆ‘ä¹Ÿæ›´æ¸…æ¥šäº†ä¸€ä»¶äº‹ï¼šæˆ‘å¹¶ä¸æ˜¯ä¸èƒ½åƒè‹¦ï¼Œæˆ‘æ˜¯ä¸æ„¿æ„æŠŠæˆ‘çš„å°Šä¸¥å’Œæ—¶é—´æŠ¼åœ¨ä¸é è°±çš„äººå’Œä¸é è°±çš„äº‹ä¸Šã€‚</p>
<hr/>
<h2 data-id="heading-7">7. æˆ‘æ•‘äº†ä¸‰åªç‹—ï¼Œä¹Ÿè¢«è¿™åº§åŸå¸‚çš„å–„æ„æ¥ä½</h2>
<p>è¿™ä¸€å¹´æˆ‘æ•‘äº†ä¸‰åªç‹—ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cee99ce90eff412caf4634ef4d3181ce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5rW35Yab:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769052191&amp;x-signature=L1eofhoDIRMTsc7hq44FiMAmrio%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç¬¬ä¸€åªæ˜¯ä¸­åç”°å›­çŠ¬ï¼Œåœ¨å…¬å›­é‡åˆ°çš„ã€‚å®ƒå¾ˆç˜¦ï¼Œçœ¼ç¥æ€¯ï¼Œä½†åˆä¸èº²äººã€‚</p>
<p>ç¬¬äºŒåªæ˜¯è¾¹ç‰§ï¼Œåœ¨å…¬å¸é™„è¿‘ï¼Œå®ƒæ›´åƒæ˜¯èµ°ä¸¢çš„å­©å­ï¼Œèªæ˜åˆæ— åŠ©ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ec1f78b2a86443f59d087a749568fc06~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5rW35Yab:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769052191&amp;x-signature=4OZouaTeQxBRqnBrC8b5tspSW0Q%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç¬¬ä¸‰åªæ˜¯é˜¿æ‹‰æ–¯åŠ ï¼Œåœ¨è±«å›­é™„è¿‘ï¼Œä½“å‹å¾ˆå¤§ï¼Œå´ä¸€ç‚¹å®‰å…¨æ„Ÿéƒ½æ²¡æœ‰ã€‚</p>
<p>æˆ‘å–œæ¬¢ç‹—ã€‚é‡è§å®ƒä»¬çš„æ—¶å€™ï¼Œæˆ‘å¾ˆéš¾è£…ä½œæ²¡çœ‹è§ã€‚æˆ‘åšçš„äº‹å…¶å®ä¹Ÿä¸å¤æ‚ï¼šæ‹ç…§ã€å‘å¸–ã€è”ç³»ã€ç­›é€‰é¢†å…»äººã€æŠŠä¿¡æ¯å¯¹é½æ¸…æ¥šï¼Œç„¶åé€å®ƒä»¬å»æ–°å®¶ã€‚</p>
<p>è¿™ä»¶äº‹æœ€æ‰“åŠ¨æˆ‘çš„ï¼Œä¸æ˜¯æˆ‘å¤šå–„è‰¯ï¼Œè€Œæ˜¯æˆ‘å‘ç°ï¼šå¤§åŸå¸‚çœŸçš„æœ‰å¾ˆå¤šæ„¿æ„ä¼¸æ‰‹çš„äººã€‚æˆ‘å‘å‡ºæ±‚åŠ©ï¼ŒçœŸçš„ä¼šæœ‰äººå›åº”ã€‚æˆ‘ä»¥ä¸ºæˆ‘åœ¨æ•‘å®ƒä»¬ï¼Œå…¶å®åœ¨æŸäº›æ—¶åˆ»ï¼Œæ˜¯è¿™äº›å–„æ„åœ¨æŠŠæˆ‘ä»ç–²æƒ«é‡Œæ¥ä½ã€‚</p>
<hr/>
<h2 data-id="heading-8">8. ä¸€ç¬”æ²‰æ²¡æˆæœ¬ï¼šæ­¢æŸã€ç»´æƒã€å’Œä¸å†å§”å±ˆè‡ªå·±</h2>
<p>åäºŒæœˆåˆï¼ŒåŒ—äº¬ç»™äº†æˆ‘æœ€ç¡¬çš„ä¸€è¯¾ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/272d2591c3254db4845ee700b2deb505~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5rW35Yab:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769052191&amp;x-signature=tWdJR%2B%2FsoxBdhGJRHb%2FfefyhwKM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æˆ‘åœ¨åŒ—äº¬å¾…äº†åæ¥å¤©ï¼Œä¸€ç›´ä½é…’åº—ã€‚å¯¹æ–¹ä¹‹å‰è¯´ä¼šæŠ¥é”€ï¼Œä½†åæ¥ä»€ä¹ˆéƒ½æ²¡æœ‰ã€‚å…¥èŒå‰ä¸€å¤©æˆ‘æ‰¾äº†æˆ¿å­ï¼Œç§Ÿæˆ¿è´¹ç”¨ã€ä¸­ä»‹è´¹ç”¨ã€å†åŠ ä¸Šå„ç§å¥”æ³¢æˆæœ¬ï¼Œå †èµ·æ¥æ˜¯ä¸€ç¬”ä¸å°çš„æ”¯å‡ºã€‚æ›´ç³Ÿçš„æ˜¯ï¼šå…¥èŒç¬¬ä¸€å¤©æˆ‘å°±é€šè¿‡å¦ä¸€ä½åŒæ ·å¤„å¢ƒçš„äººäº†è§£åˆ°äº†çœŸå®æƒ…å†µï¼›å†åŠ ä¸Šâ€œä»–â€ä¸‹ç­åè¯´çš„ä¸€äº›è¯ï¼Œæˆ‘å¾ˆå¿«ç¡®å®šâ€”â€”è¿™é‡Œä¸æ˜¯æˆ‘è¯¥å¾…çš„åœ°æ–¹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7aaddf31653242ca8441dd103958543f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5rW35Yab:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769052191&amp;x-signature=ENplhiuRrLgTxN1chK68tad%2B4UU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é‚£ä¸€åˆ»æœ€éš¾çš„å…¶å®ä¸æ˜¯ç¦»å¼€ï¼Œè€Œæ˜¯é¢å¯¹æ²‰æ²¡æˆæœ¬ã€‚æˆ‘å·²ç»ä»˜å‡ºé‚£ä¹ˆå¤šï¼Œæˆ‘ä¼šæœ¬èƒ½åœ°æƒ³â€œå†å¿å¿ï¼Œå†ç­‰ç­‰â€ã€‚ä½†æˆ‘å¾ˆåº†å¹¸ï¼Œé‚£å¤©æˆ‘æ²¡éª—è‡ªå·±ã€‚æˆ‘é€‰æ‹©æ­¢æŸã€‚</p>
<p>éšä¹‹è€Œæ¥çš„å°±æ˜¯ç»´æƒã€‚æˆ¿å­æˆ‘æ²¡å…¥ä½ï¼ŒåˆåŒæ—¥æœŸä¹Ÿæ²¡å¼€å§‹ï¼Œä½†ç®¡å®¶å¾ˆæ— èµ–ï¼Œç”šè‡³å¸¦ç€æå“ã€‚é‚£ç§â€œæˆ‘è®²ç†ä»–å°±è€èµ–â€çš„æ„Ÿè§‰å¾ˆæ¶å¿ƒã€‚æˆ‘ä¸€å¼€å§‹ä¹Ÿå¾ˆçƒ¦ï¼Œåæ¥å¹²è„†ä¸å’Œå¥¹åºŸè¯ï¼Œç›´æ¥èµ°æµç¨‹ï¼Œé€šè¿‡ 12315 åè°ƒï¼Œæ‹¿å›äº†ä¸€éƒ¨åˆ†ã€‚ç†è®ºä¸Šå¯ä»¥æ‹¿å›æ›´å¤šï¼Œä½†è¦ç»§ç»­è€—æ—¶é—´ç²¾åŠ›ï¼Œæˆ‘å½“æ—¶é€‰æ‹©åˆ°æ­¤ä¸ºæ­¢ã€‚</p>
<p>è¿™ä¸€æ®µæ—¶é—´ï¼Œè®©å®¶é‡Œä¹Ÿæ²¡å°‘æ“å¿ƒï¼Œå“....</p>
<p>æˆ‘æœ€æƒ³å†™ç»™è‡ªå·±çš„ä¸æ˜¯â€œé’±äºäº†â€ï¼Œè€Œæ˜¯ä¸€ä¸ªæ›´é‡è¦çš„ç»“è®ºï¼š<strong>ä»¥åé‡åˆ°ä¸å…¬ï¼Œæˆ‘ä¸å†ç”¨å§”å±ˆæ¢å’Œå¹³ã€‚è¯¥ç»´æƒå°±ç»´æƒï¼Œè¯¥ç¿»è„¸å°±ç¿»è„¸ã€‚</strong></p>
<hr/>
<h2 data-id="heading-9">9. å›åˆ°ä¸Šæµ·ï¼šæˆ‘æŠŠè‡ªå·±ä¸€ç‚¹ç‚¹æ‹‰å›æ­£è½¨</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/464b3ddf4d184d5cbd8548d0ef611c5b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5rW35Yab:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769052191&amp;x-signature=6sB59i8%2F1cVC%2B1x3Nxre5G8BTKQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åäºŒæœˆä¸­æ—¬æˆ‘å›åˆ°äº†ä¸Šæµ·ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb829c7f2d2e46c29ee20210b3622369~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5rW35Yab:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769052191&amp;x-signature=mw1kT3nrc9o14aatmlj3PotnbmU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ”¶æ‹¾å¥½å®¶é‡Œçš„å·¥ä½</p>
<p>é‚£æ®µæ—¶é—´æˆ‘èƒ½é‡å¾ˆä½ã€‚ä¸æ˜¯ç´¯ï¼Œæ˜¯ä¸€ç§è¢«ç°å®æ’è¿‡ä¹‹åçš„é’ã€‚æˆ‘ä¼šæ€€ç–‘è‡ªå·±ã€æ€€ç–‘åˆ¤æ–­ã€æ€€ç–‘ä¿¡ä»»ï¼Œç”šè‡³æ€€ç–‘â€œæ˜¯ä¸æ˜¯æˆ‘å¤ªæ•æ„Ÿäº†â€ã€‚ä½†ç”Ÿæ´»ä¸ä¼šç­‰æˆ‘ç¼“è¿‡æ¥ï¼Œå®ƒåªä¼šç»§ç»­å¾€å‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0ccfea0ac6e4e9d9a3ee7afdcad27a3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5rW35Yab:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769052191&amp;x-signature=%2FT5UTDO8WIZ%2BoJCUC1pP%2BYWPmOc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æˆ‘åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯æŠŠæˆ‘è‡ªå·±æ‹‰å›æ­£å¸¸ï¼šåƒé¥­ã€ç¡è§‰ã€è§æœ‹å‹ã€‚åæ¥æˆ‘å’Œè€è€¿å»äº†æ­å·æ•£å¿ƒã€‚åŸå¸‚å¾ˆå®‰é™ï¼Œèµ°åœ¨è·¯ä¸Šæˆ‘çªç„¶å‘ç°ï¼šé£è¿˜æ˜¯ä¸€æ ·å¹ï¼Œç¯è¿˜æ˜¯ä¸€æ ·äº®ï¼Œæˆ‘ä¸ä¼šå› ä¸ºå—æŒ«å°±å¤±å»æ˜å¤©ã€‚</p>
<p>æˆ‘æ…¢æ…¢æ§ä½åœºäº†ã€‚æŠŠç”Ÿæ´»æ‹‰å›æ­£è½¨äº†ã€‚ä¹ŸæŠŠé‚£å¥æœ€é‡è¦çš„è¯é‡æ–°æ¡å›æ¥â€”â€”<strong>æˆ‘åœ¨å˜å¼ºï¼Œä¹Ÿåœ¨é‡æ–°é€‰æ‹©è‡ªå·±çš„äººç”Ÿç»“æ„ã€‚</strong></p>
<hr/>
<h2 data-id="heading-10">æœ€å</h2>
<p>å›å¤´çœ‹ 2025 å¹´ï¼Œæˆ‘æœ€å¤§çš„å˜åŒ–ä¸æ˜¯â€œæˆ‘åšäº†å¤šå°‘â€ï¼Œè€Œæ˜¯<strong>æˆ‘å¯¹äººç”Ÿç»“æ„çš„è¦æ±‚å˜é«˜äº†</strong>ã€‚</p>
<p>ä»¥å‰æˆ‘ä¼šæŠŠåŠªåŠ›å½“æˆç­”æ¡ˆã€‚ç°åœ¨æˆ‘æ›´åœ¨æ„ï¼šè¿™ä»½åŠªåŠ›èƒ½ä¸èƒ½æ²‰æ·€ï¼Œèƒ½ä¸èƒ½è®©æˆ‘æ‹¥æœ‰æ›´å¤šé€‰æ‹©æƒã€‚ä»¥å‰æˆ‘é‡åˆ°çƒ‚äº‹ä¼šå…ˆå¿ï¼Œæƒ³ç€â€œç®—äº†â€ã€‚ä½†åŒ—äº¬é‚£ä¸€æ®µä¹‹åæˆ‘æ›´ç¡®å®šï¼šå§”å±ˆä¸ä¼šæ¢æ¥å°Šé‡ï¼Œåªä¼šæ¢æ¥ä¸‹ä¸€æ¬¡æ›´å¤§çš„ä»£ä»·ã€‚è¯¥æ­¢æŸå°±æ­¢æŸï¼Œè¯¥ç»´æƒå°±ç»´æƒâ€”â€”å“ªæ€•æ²‰æ²¡æˆæœ¬å·²ç»ç ¸ä¸‹å»ï¼Œæˆ‘ä¹Ÿè¦æŠŠè‡ªå·±ä»æ³¥é‡Œæ‹å‡ºæ¥ã€‚</p>
<p>è¿™ä¸€å¹´æˆ‘ä¹Ÿå®Œæˆäº†ä¸€æ¬¡ç¥›é­…ï¼š<br/>
å¯¹â€œæœºä¼šâ€çš„ç¥›é­…ï¼Œå¯¹â€œå…³ç³»â€çš„ç¥›é­…ï¼Œå¯¹â€œç”»å‡ºæ¥çš„æœªæ¥â€çš„ç¥›é­…ã€‚<br/>
æˆ‘å¼€å§‹ç›¸ä¿¡ä¸€å¥è¯ï¼š<strong>çœŸæ­£å€¼å¾—çš„æœºä¼šï¼Œä¸ä¼šåªé å˜´è¯´ï¼›çœŸæ­£å¯é çš„äººï¼Œä¹Ÿä¸ä¼šåªé æƒ…ç»ªç»‘æ¶ã€‚</strong></p>
<p>å¦‚æœè¯´ 2025 å¹´æ•™ä¼šäº†æˆ‘ä»€ä¹ˆï¼Œæˆ‘è§‰å¾—æ˜¯ä¸‰ä»¶äº‹ï¼š</p>
<p>ç¬¬ä¸€ï¼Œèƒ½åŠ›ä¸æ˜¯æ‹¿æ¥é€å¼ºçš„ï¼Œæ˜¯æ‹¿æ¥å…œåº•çš„ã€‚<br/>
æˆ‘åœ¨æœ€ç‹¼ç‹ˆçš„æ—¶å€™ï¼Œé è‡ªå·±æŠŠå±€é¢ç¨³ä½äº†ã€‚é‚£ç§â€œæˆ‘èƒ½æ‰›ä½â€çš„åº•æ°”ï¼Œæ˜¯çœŸçš„ã€‚</p>
<p>ç¬¬äºŒï¼Œé’±èŠ±åœ¨å®¶äººèº«ä¸Šï¼Œä¼šå˜æˆä¸€ç§å¾ˆè¸å®çš„æˆå°±æ„Ÿã€‚<br/>
æˆ‘ä»¥å‰ä»¥ä¸ºæˆå°±æ„Ÿæ¥è‡ªå¤–ç•Œè®¤å¯ï¼Œä»Šå¹´æˆ‘æ›´ç¡®å®šï¼šæ¥è‡ªçˆ¶æ¯çš„ç¬‘ã€æ¥è‡ªå®¶äººçš„å®‰å¿ƒã€æ¥è‡ªâ€œæˆ‘å¯ä»¥ç…§é¡¾ä»–ä»¬â€ã€‚</p>
<p>ç¬¬ä¸‰ï¼Œå–„æ„æ˜¯ä¼šæµåŠ¨çš„ã€‚<br/>
æˆ‘å¸®è¿‡äººï¼Œä¹Ÿè¢«äººå¸®è¿‡ï¼›æˆ‘æ•‘è¿‡ç‹—ï¼Œä¹Ÿè¢«é™Œç”Ÿäººçš„çƒ­å¿ƒæ²»æ„ˆè¿‡ã€‚ä¸–ç•Œä¸å…¨æ˜¯çƒ‚äººï¼Œä½†æˆ‘å¾—å­¦ä¼šè¯†åˆ«ï¼Œå­¦ä¼šç­›é€‰ï¼Œå­¦ä¼šä¿æŠ¤è‡ªå·±ã€‚</p>
<p>2026 å¹´æˆ‘ä¸æƒ³å†å–Šå£å·äº†ã€‚æˆ‘åªæƒ³åšä¸‰ä»¶æ›´å…·ä½“çš„äº‹ï¼š</p>
<ul>
<li><strong>æŠŠä¸€æ¡èƒ½é•¿æœŸè·‘çš„ä¸»çº¿åšå‡ºæ¥</strong>ï¼šè®©è¾“å‡ºã€ä½œå“å’ŒæœåŠ¡çœŸæ­£å½¢æˆç¨³å®šçš„èŠ‚å¥ï¼Œè€Œä¸æ˜¯é è¿æ°”èµ·ä¼ã€‚</li>
<li><strong>ç»™ä¿¡ä»»ç«‹è§„çŸ©</strong>ï¼šåˆä½œè¦æœ‰è¾¹ç•Œï¼Œæ‰¿è¯ºè¦èƒ½è½åœ°ï¼Œä»»ä½•å†³å®šéƒ½è¦ç•™åæ‰‹ã€‚</li>
<li><strong>æŠŠå®¶æ”¾è¿›è®¡åˆ’é‡Œ</strong>ï¼šä¸æ˜¯â€œæœ‰ç©ºå†è¯´â€ï¼Œè€Œæ˜¯æœ¬æ¥å°±è¯¥æ’åœ¨å‰é¢ã€‚</li>
</ul>
<p>2025 å¹´æ²¡æœ‰æŠŠæˆ‘æ¨åˆ°é«˜å¤„ï¼Œä½†å®ƒæŠŠæˆ‘ä»å¹»è§‰é‡Œæ‹½å‡ºæ¥äº†ã€‚<br/>
æˆ‘ä¾ç„¶ä¼šå¾€å‰èµ°ï¼Œåªæ˜¯ä»¥åæˆ‘æ›´åœ¨ä¹çš„ä¸æ˜¯é€Ÿåº¦ï¼Œè€Œæ˜¯æ–¹å‘ï¼›ä¸æ˜¯çƒ­é—¹ï¼Œè€Œæ˜¯ç»“æ„ã€‚</p>
<p><strong>æˆ‘åœ¨å˜å¼ºï¼Œä¹Ÿåœ¨é‡æ–°é€‰æ‹©è‡ªå·±çš„äººç”Ÿç»“æ„ã€‚</strong></p>
<p>å°±å¤ç›˜åˆ°è¿™å§ï¼Œç”¨æ—¶6ä¸ªå°æ—¶ï¼Œè¯¥ä¼‘æ¯äº†....</p>
<p>å¸Œæœ›2026å¹´ä¸€åˆ‡é¡ºåˆ©!Â </p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åœ¨AIæ—¶ä»£ï¼ŒæŠ€æœ¯äººåº”è¯¥æ¯å¤©éƒ½è¦èŠ±ä¸¤å°æ—¶æ¥æ„å»ºä¸€ä¸ªè‡ªèº«çš„æ„å»ºç³»ç»Ÿ - æ€»ç»“ç¯‡]]></title>    <link>https://juejin.cn/post/7595164177255464986</link>    <guid>https://juejin.cn/post/7595164177255464986</guid>    <pubDate>2026-01-15T03:41:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595164177255464986" data-draft-id="7595157651619201050" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åœ¨AIæ—¶ä»£ï¼ŒæŠ€æœ¯äººåº”è¯¥æ¯å¤©éƒ½è¦èŠ±ä¸¤å°æ—¶æ¥æ„å»ºä¸€ä¸ªè‡ªèº«çš„æ„å»ºç³»ç»Ÿ - æ€»ç»“ç¯‡"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-15T03:41:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°é…’æ˜Ÿå°æœ"/> <meta itemprop="url" content="https://juejin.cn/user/1512542215093479"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åœ¨AIæ—¶ä»£ï¼ŒæŠ€æœ¯äººåº”è¯¥æ¯å¤©éƒ½è¦èŠ±ä¸¤å°æ—¶æ¥æ„å»ºä¸€ä¸ªè‡ªèº«çš„æ„å»ºç³»ç»Ÿ - æ€»ç»“ç¯‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1512542215093479/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°é…’æ˜Ÿå°æœ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-15T03:41:21.000Z" title="Thu Jan 15 2026 03:41:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€å¤©å¤±è´¥äº†æ€ä¹ˆåŠï¼Ÿï¼ˆç³»ç»Ÿå…œåº•ï¼‰</h2>
<h4 data-id="heading-1">æˆ‘ä»¬å…ˆé‡æ–°å®šä¹‰å¤±è´¥ã€‚</h4>
<p>å¤±è´¥ä¸æ˜¯ï¼š</p>
<p>1ï¸âƒ£ ä»Šå¤©æ²¡å†™å®Œ</p>
<p>2ï¸âƒ£ ä»Šå¤©æ²¡æ˜æ˜¾è¿›åº¦</p>
<p>3ï¸âƒ£ ä»Šå¤©çŠ¶æ€å¾ˆå·®</p>
<p>è¿™äº›éƒ½ä¸é‡è¦ã€‚</p>
<h4 data-id="heading-2"><strong>çœŸæ­£çš„å¤±è´¥åªæœ‰ä¸€ç§</strong></h4>
<blockquote>
<p><strong>ç³»ç»Ÿä¸­æ–­</strong></p>
</blockquote>
<p>åªè¦ Input -&gt; Build -&gt; Ship åœ¨ä»Šå¤©å“ªæ€•æ˜¯ä»¥æœ€ä½å½¢æ€è·‘å®Œä¸€æ¬¡ ï¼Œ<strong>è¿™ä¸€å¤©å°±ä¸ç®—å¤±è´¥</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-3">æœ€ä½æ‰§è¡Œç‰ˆæœ¬ï¼ˆLow Energy Modeï¼‰</h3>
<p>å½“ä½ <strong>æåº¦ç–²æƒ«/æƒ…ç»ªä½è½/æ—¶é—´è¢«æ‰“æ–­æ—¶</strong>ï¼Œç›´æ¥åˆ‡æ¢åˆ°è¿™ä¸ªæ¨¡å¼ï¼Œä¸åš<strong>ä»»ä½•è‡ªè´£åˆ¤æ–­</strong>ã€‚</p>
<h4 data-id="heading-4">Input ï½œ 5åˆ†é’Ÿ</h4>
<p>åªåšä¸€ä»¶äº‹ï¼š</p>
<blockquote>
<p>æ‰¾ <strong>ä¸€ä¸ª</strong> ä»Šå¤©é‡åˆ°çš„çœŸå®ä¿¡å·</p>
</blockquote>
<p>ä¾‹å¦‚ï¼šä¸€å¥ç”¨æˆ·åæ§½ã€ä¸€ä¸ªä½ æ²¡æƒ³é€šçš„é—®é¢˜ã€ä¸€æ®µå¤±è´¥çš„å°è¯•ã€ä¸€ä¸ªâ€œä»Šå¤©ä¸çˆ½çš„ç‚¹â€ã€‚</p>
<p><strong>ä¸æ•´ç†ã€ä¸æ‰©å±•ã€ä¸å­¦ä¹ ã€‚</strong></p>
<p>è®°ä¸‹æ¥å°±ç®—å®Œæˆã€‚</p>
<h4 data-id="heading-5">Build ï½œ 15åˆ†é’Ÿ</h4>
<p>åªåš<strong>æœ€å°çš„è½¬åŒ–ï¼š</strong></p>
<p>æŠŠåˆšæ‰é‚£å¥è¯æ”¹æˆä¸€ä¸ªåˆ¤æ–­ã€æˆ–å†™ä¸€ä¸ªé—®é¢˜ã€æˆ–ä¸€ä¸ªå¯¹å¤–å¯è¯´çš„è§‚ç‚¹ã€‚</p>
<p><strong>å…è®¸ç²—ç³™ï¼Œå…è®¸ä¸å®Œæ•´ã€‚</strong></p>
<p>ç›®æ ‡ä¸æ˜¯æ„å»ºç³»ç»Ÿï¼Œè€Œæ˜¯</p>
<p>ğŸ‘‰<strong>è®©</strong> <strong>Input</strong> <strong>å‘ç”Ÿä¸€æ¬¡å½¢æ€å˜åŒ–ã€‚</strong></p>
<h4 data-id="heading-6">Ship ï½œ ä¸€å¥è¯</h4>
<p>æ˜¯çš„ï¼ŒçœŸçš„åªè¦ä¸€å¥è¯å°±è¡Œã€‚</p>
<p>å¯ä»¥æ˜¯ï¼š</p>
<p>ç¾¤é‡Œçš„ä¸€å¥è¯è®°å½•ã€æ–‡æ¡£ä¸­çš„ä¸€è¡Œæ€»ç»“ã€ç”šè‡³æ˜¯ç»™è‡ªå·±çš„ä¸€æ¡ä¿¡æ¯ã€‚</p>
<p>Ship çš„å®šä¹‰åœ¨è¿™é‡Œæ˜¯ï¼š<strong>è¿™å¥è¯ï¼Œæ˜å¤©çš„ä½ èƒ½çœ‹åˆ°ã€‚</strong></p>
<h4 data-id="heading-7">ä¸ºä»€ä¹ˆè¿™ä¸ªå…œåº•æ–¹æ¡ˆæœ‰æ•ˆï¼Ÿ</h4>
<p>å› ä¸ºå®ƒä¿è¯äº†ä¸‰ä»¶äº‹ï¼š</p>
<p>1ï¸âƒ£ ç³»ç»Ÿä¸æ–­</p>
<p>2ï¸âƒ£ èº«ä»½ä¸å´© ï¼ˆæˆ‘ä»ç„¶æ¯å¤©éƒ½åœ¨æ„å»ºï¼‰</p>
<p>3ï¸âƒ£ æ˜å¤©ä¸ç”¨é‡æ–°å¯åŠ¨</p>
<p>å‘Šè¯‰è‡ªå·±ï¼Œä½ ä¸æ˜¯é æ„å¿—åŠ›åšæŒï¼Œè€Œæ˜¯é <strong>ç»“æ„åœ¨æ‹–ç€ä½ å¾€å‰èµ°</strong>ã€‚</p>
<h4 data-id="heading-8">ä¸€ä¸ªå¿…é¡»ç‰¢è®°çš„ç³»ç»Ÿåº•çº¿</h4>
<blockquote>
<p>ç³»ç»Ÿåªè¦ä¸æ–­</p>
<p>å°±æ²¡æœ‰å¤±è´¥</p>
</blockquote>
<p>æ…¢ã€ä¸‘ã€æ•·è¡ï¼Œéƒ½æ²¡å…³ç³»ã€‚</p>
<p>æ–­ï¼Œæ‰æ˜¯å”¯ä¸€éœ€è¦é¿å…çš„äº‹æƒ…ã€‚</p>
<h2 data-id="heading-9">æœ¬ç« æ€»ç»“</h2>
<h4 data-id="heading-10">ä½ ç°åœ¨<strong>ä¸éœ€è¦ç†è§£å…¨éƒ¨ã€‚</strong></h4>
<p>ä¸éœ€è¦ï¼š</p>
<p>ç›¸ä¿¡è¿™å¥—ç³»ç»Ÿä¸€å®šæœ‰æ•ˆã€‚</p>
<p>è®¤åŒå®ƒæ˜¯â€œæœ€ä¼˜è§£â€ã€‚</p>
<p>ç†è§£æ¯ä¸€ä¸ªè®¾è®¡ç†ç”±ã€‚</p>
<p>è¿™äº›éƒ½ä¸æ˜¯ç°åœ¨è¦åšçš„äº‹æƒ…ã€‚</p>
<h4 data-id="heading-11">ä½ åªéœ€è¦åšä¸€ä»¶äº‹</h4>
<p><strong>æ‰§è¡Œä¸‰å¤©ã€‚</strong></p>
<p>ä¸æ˜¯åšæŒã€ä¸æ˜¯æŒ‘æˆ˜ã€ä¸æ˜¯æ”¹å˜äººç”Ÿã€‚</p>
<p>åªæ˜¯<strong>è¿ç»­è·‘3è½®å®Œæ•´é—­ç¯ã€‚</strong></p>
<h4 data-id="heading-12">æœ‰ä¸‰ä»¶äº‹ï¼Œè¯·ä½ ç°åœ¨å°±æ”¾ä¸‹</h4>
<p>âŒ æˆ‘è®¤ä¸è®¤åŒ</p>
<p>âŒ è¿™é€‚ä¸é€‚åˆæˆ‘</p>
<p>âŒ æœ‰æ²¡æœ‰æ›´å¥½çš„æ–¹æ³•</p>
<h4 data-id="heading-13">æ˜å¤©çš„ç¬¬ä¸€æ­¥ï¼ˆç…§åšï¼Œä¸è¦æ”¹ï¼‰</h4>
<p>1ï¸âƒ£ å®šä¸€ä¸ªå›ºå®šçš„2å°æ—¶</p>
<p>ä¸æŠ¢æ—¶é—´ã€ä¸æŒ¤æ—¶é—´ï¼Œç›´æ¥å†™è¿›æ—¥ç¨‹ã€‚</p>
<p>2ï¸âƒ£ ä»Šå¤©åªè·‘ä¸€è½®</p>
<p>Input -&gt; Build -&gt; Shipï¼Œå“ªæ€•æ˜¯æœ€ä½ç‰ˆæœ¬ã€‚</p>
<p>3ï¸âƒ£ ä¸åšä»»ä½•ä¼˜åŒ–</p>
<p>ä¸å¤ç›˜ã€ä¸å‡çº§ã€ä¸è°ƒæ•´æµç¨‹ã€‚</p>
<p>å…ˆè®©ç³»ç»Ÿè‡ªå·±è·‘ã€‚</p>
<h4 data-id="heading-14">è®°ä½è¿™å¥è¯</h4>
<p>ä½ ä¸éœ€è¦å¾ˆå¤šæ—¶é—´ï¼Œä½ åªéœ€è¦ä¸€ä¸ªåœ¨ä½ æ— æ³•è¡ŒåŠ¨æ—¶ä»èƒ½æ­£å¸¸å·¥ä½œçš„ç³»ç»Ÿ</p>
<h4 data-id="heading-15">åŠ æ²¹</h4>
<p>ä½ ä¸æ˜¯åœ¨æé«˜æ•ˆç‡ï¼Œä½ æ˜¯åœ¨åœæ­¢æ¶ˆè€—è‡ªå·±ã€‚</p>
<h2 data-id="heading-16">å¾€æœŸå›é¡¾</h2>
<p><a href="https://juejin.cn/post/7593193235251839028" target="_blank" title="https://juejin.cn/post/7593193235251839028">2 Hour Builder - å¯åŠ¨ç¯‡</a></p>
<p><a href="https://juejin.cn/post/7593892837897764879" target="_blank" title="https://juejin.cn/post/7593892837897764879">2 Hour Builder - Input ç¯‡</a></p>
<p><a href="https://juejin.cn/post/7594303825015046159" target="_blank" title="https://juejin.cn/post/7594303825015046159">2 Hour Builder - Build ç¯‡</a></p>
<p><a href="https://juejin.cn/post/7594745643891884067" target="_blank" title="https://juejin.cn/post/7594745643891884067">2 Hour Builder - Ship ç¯‡</a></p>
<p>2 Hour Builder System ç³»åˆ—æ–‡ç« ç»“æŸï¼Œæ¥ä¸‹æ¥æ›´æ–°çš„ç³»åˆ—æ˜¯ã€Šå¦‚ä½•æ„å»ºåDemoåœ°ç‹±ç³»ç»Ÿã€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½ çš„ IP å½’å±åœ°ï¼Œæ˜¯å’‹è¢«æŒ–å‡ºæ¥çš„ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7595147871939870766</link>    <guid>https://juejin.cn/post/7595147871939870766</guid>    <pubDate>2026-01-15T03:41:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595147871939870766" data-draft-id="7595142737513414683" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½ çš„ IP å½’å±åœ°ï¼Œæ˜¯å’‹è¢«æŒ–å‡ºæ¥çš„ï¼Ÿ"/> <meta itemprop="keywords" content="æœåŠ¡å™¨,HTTP,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-15T03:41:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜é±¼çš®"/> <meta itemprop="url" content="https://juejin.cn/user/2444938365386621"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½ çš„ IP å½’å±åœ°ï¼Œæ˜¯å’‹è¢«æŒ–å‡ºæ¥çš„ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2444938365386621/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜é±¼çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-15T03:41:52.000Z" title="Thu Jan 15 2026 03:41:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½ æ˜¯å°é˜¿å·´ï¼Œæ­£åœ¨å®¶é‡Œå·å·æ¬£èµä¸€éƒ¨å¾ˆç²¾å½©çš„å†…å®¹ã€‚</p>
<p>ä½ ï¼šå—¯ï¼ŒçœŸä¸é”™å•Š~</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b895e455cdc341a19c6730be2ba7b226~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769053311&amp;x-signature=Ucx6i7ao%2FQIQxDuzDnd1SiTYnyM%3D" alt="" loading="lazy"/></p>
<p>ä¸€æ—¶å…´èµ·ï¼Œä½ ç•™ä¸‹äº†ä¸€æ¡è¯„è®ºï¼šä½œè€…ç‰›æ°ï¼</p>
<p>ç»“æœåˆšå‘å‡ºå»ï¼Œä½ å°±å‘ç°è¯„è®ºä¸‹é¢ç«Ÿç„¶æ˜¾ç¤ºï¼š<code>åŒ—äº¬</code></p>
<p>ä½ å¤§æƒŠå¤±è‰²ï¼šå•Šï¼Œä¿ºè¢«å®šä½äº†ï¼è¿™ç½‘ç«™åœ¨ç›‘æ§ä¿ºï¼ä¿ºè¦ä¸¾æŠ¥å®ƒï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/99855d6bc5e6482ca23b5ea83c0e7e9d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769053311&amp;x-signature=CRgcyNAiAFdIzl9WfOWaeAXQrHI%3D" alt="" loading="lazy"/></p>
<p>è¿™æ—¶ï¼Œç¨‹åºå‘˜é±¼çš®çªç„¶å‡ºç°åœ¨ä½ èº«åï¼Œæ“¦ç€é¼»è¡€è¯´ï¼šæ·¡å®šï¼Œå¾ˆå¤šå¹³å°éƒ½ä¼šæ˜¾ç¤ºç”¨æˆ· IP å½’å±åœ°çš„ï¼Œè¿™å¾ˆæ­£å¸¸ã€‚</p>
<p>ä½ å“äº†ä¸€è·³ï¼šé¢ï¼Œä½ è°å•Šï¼Ÿ</p>
<p>é±¼çš®ï¼šæˆ‘æ˜¯å¤å¸Œè…ŠæŒç®¡ç¼–ç¨‹çš„ç¥â€¦â€¦ç²¾ï¼Œä¸‹é¢æˆ‘æ¥ç§‘æ™®ä¸€ä¸‹ â€”â€” ä½ çš„ IP å½’å±åœ°ï¼Œæ˜¯æ€ä¹ˆè¢«è·å–åˆ°çš„ï¼Ÿ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8f69f7ee1037423e9a4ca2019a0b8efb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769053311&amp;x-signature=tnLV6oAzBl3m6PIkdk2prTLm700%3D" alt="" loading="lazy"/></p>
<p>â­ï¸ æœ¬æ–‡å¯¹åº”è§†é¢‘ç‰ˆï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1xCi9BJEx1%2F" target="_blank" title="https://www.bilibili.com/video/BV1xCi9BJEx1/" ref="nofollow noopener noreferrer">bilibili.com/video/BV1xCâ€¦</a></p>
<h2 data-id="heading-0">æ€ä¹ˆè·å–ä½ çš„ IP å½’å±åœ°ï¼Ÿ</h2>
<p>é±¼çš®ï¼šä½ ä¸Šç½‘çš„æ—¶å€™ï¼Œä½ çš„ç”µè„‘è¦è·ŸæœåŠ¡å™¨é€šä¿¡æ¥è·å–ç½‘é¡µå’Œæ•°æ®ã€‚</p>
<p>å°±åƒå¯„å¿«é€’ä¸€æ ·ï¼Œå¿«é€’å‘˜è¦æŠŠåŒ…è£¹é€åˆ°ä½ å®¶ï¼Œå¾—çŸ¥é“ä½ å®¶çš„åœ°å€ã€‚è¿™ä¸ªåœ°å€å°±æ˜¯ <strong>IP åœ°å€</strong>ï¼Œå¯ä»¥ç†è§£ä¸ºä½ çš„ç½‘ç»œé—¨ç‰Œå·ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9a1faeb6f84b4d3793b1e3b7f9be9b35~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769053311&amp;x-signature=4x%2Fr9mP5CNu3NJ833WPpxGeBfXM%3D" alt="" loading="lazy"/></p>
<p>ä½ ï¼šä½†å¹³å°æ˜¯æ€ä¹ˆé€šè¿‡ IP åœ°å€çŸ¥é“ä¿ºåœ¨ â€œåŒ—äº¬â€ çš„å‘¢ï¼Ÿ</p>
<p>é±¼çš®ï¼šè¿™å°±æ¶‰åŠåˆ°äº’è”ç½‘çš„ç»„ç»‡å½¢å¼äº†ã€‚</p>
<p>ä¸ºäº†æ–¹ä¾¿ç®¡ç†å’Œè·¯ç”±ï¼Œå…¨çƒäº’è”ç½‘è¢«åˆ’åˆ†ä¸ºè®¸å¤šä¸ªå·¨å¤§çš„ç½‘ç»œé¢†åœ°ï¼Œæˆ‘ä»¬æŠŠæ¯ä¸ªé¢†åœ°å«åš <strong>è‡ªæ²»ç³»ç»Ÿ</strong>ï¼ˆAutonomous Systemï¼‰ï¼Œç®€ç§° ASã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a9acd9111fb410283baf4c412560066~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769053311&amp;x-signature=zdAMB6dbS6o4LEL2E9zdYgg5mVo%3D" alt="" loading="lazy"/></p>
<p>è¿™äº› AS ä¸€èˆ¬ç”±ç”µä¿¡ã€è”é€šè¿™æ ·çš„è¿è¥å•†ï¼ˆISPï¼‰ï¼Œæˆ–è€…å¤§å‹äº’è”ç½‘å…¬å¸è¿è¥ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4e3fbc1bc4b4319a9eca42ff50063c8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769053311&amp;x-signature=4iHjK04d%2BuQ4FHwakqHOJYBSqhg%3D" alt="" loading="lazy"/></p>
<p>æ¯ä¸ª AS è´Ÿè´£ç®¡ç†ä¸€å¤§æ‰¹ IP åœ°å€ï¼Œå¹¶è§„åˆ’æ•°æ®åŒ…çš„ä¼ è¾“è·¯çº¿ã€‚</p>
<p>è¿è¥å•†åœ¨æ‹¿åˆ°è¿™äº› IP åï¼Œä¼šæ ¹æ®è‡ªå·±çš„æœºæˆ¿éƒ¨ç½²ï¼ŒæŠŠä¸åŒçš„ IP åœ°å€æ®µåˆ’åˆ†ç»™ä¸åŒåŸå¸‚çš„ç½‘ç»œè®¾å¤‡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/10f9f1ea1c3548dd9c938c76ff03dd22~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769053311&amp;x-signature=leTgsnw64AXy70K7tTEixTdl%2Fxw%3D" alt="" loading="lazy"/></p>
<p>ä¸ºäº†æ–¹ä¾¿ç®¡ç†ï¼Œæ¯ä¸ª AS éƒ½æœ‰ä¸€ä¸ªå…¨çƒå”¯ä¸€çš„ç¼–å·ï¼Œå« <strong>ASN</strong>ï¼ˆAutonomous System Numberï¼‰è‡ªæ²»ç³»ç»Ÿç¼–å·ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/feeadfcfa3844de7b46aa3ac940855dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769053311&amp;x-signature=abDiqD8MUxhu3x4%2Fp6MfvJyESrs%3D" alt="" loading="lazy"/></p>
<p>æ¯”å¦‚ AS4808 æ˜¯ä¸­å›½è”é€šåŒ—äº¬çœç½‘ç»œï¼Œè”é€šä¼šæŠŠå…¶ä¸­ä¸€æ®µ IPï¼ˆæ¯”å¦‚ 123.xx.xx.0 åˆ° 123.xx.xx.255ï¼‰åˆ†é…ç»™ä»–ä»¬åœ¨åŒ—äº¬çš„æ¥å…¥æœºæˆ¿ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/25feb4a07cb94ec9989d4696c1be97ff~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769053311&amp;x-signature=mxIM5%2Bg80mz7htbGkHyUcn87hYA%3D" alt="" loading="lazy"/></p>
<p>ä½ ï¼šæ‰€ä»¥æƒ³æŸ¥ä¿º IP çš„ä½ç½®ï¼Œå…³é”®å°±æ˜¯æ‰¾åˆ° ASNï¼Ÿ</p>
<p>é±¼çš®ï¼šæœ‰æ›´ç®€å•çš„æ–¹æ³•ã€‚å…¨çƒæœ‰å¾ˆå¤šä¸“ä¸šçš„æœºæ„ï¼ˆå¦‚ MaxMindã€IP2Locationï¼‰ä¸“é—¨æ”¶é›†å¹¶æ±‡æ€»äº†è¿™äº› AS å†…éƒ¨ <strong>IP æ®µå’ŒåŸå¸‚çš„æ˜ å°„å…³ç³»</strong>ï¼Œåšæˆäº† <strong>IP åœ°ç†ä½ç½®æ•°æ®åº“</strong>ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/65e18d402e5a4f26979fa468b00672d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769053311&amp;x-signature=xy4XPUCrtmgtC7TSnFaDWnrJidY%3D" alt="" loading="lazy"/></p>
<p>æ•°æ®åº“é‡Œä¼šè®°å½•ï¼šè¿™ä¸ª IP æ®µå±äº AS4808ï¼ˆä¸­å›½è”é€šï¼‰ï¼Œä¸”ç›®å‰åˆ†é…ç»™äº†åŒ—äº¬å¸‚çš„æŸä¸ªæ¥å…¥èŠ‚ç‚¹ã€‚å°±çŸ¥é“ä½ å¤§æ¦‚æ‰€å±çš„ä½ç½®äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ac4a86dc0e524da9b27ee506ec6a08a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769053311&amp;x-signature=ixy8SIm%2Fd50tcCyqSYv7szkDwBE%3D" alt="" loading="lazy"/></p>
<p>æˆ‘ä»¬æ‰“å¼€ <a href="https://link.juejin.cn?target=https%3A%2F%2Fip.sb%2F" target="_blank" title="https://ip.sb/" ref="nofollow noopener noreferrer">è¿™ä¸ªç½‘ç«™</a> æŸ¥ä¸€ä¸‹ï¼Œå°±èƒ½çœ‹åˆ°ä½ å®¶ IP çš„å®Œæ•´ä¿¡æ¯ï¼š</p>
<ul>
<li>Addressï¼š123.xx.xx.xxï¼ˆä½ çš„ IP åœ°å€ï¼‰</li>
<li>ISPï¼šChina Unicomï¼ˆç½‘ç»œæœåŠ¡æä¾›å•†ï¼Œä¸­å›½è”é€šï¼‰</li>
<li>ASNï¼šAS4808ï¼ˆè‡ªæ²»ç³»ç»Ÿç¼–å·ï¼‰</li>
<li>ASN Organizationï¼šChina Unicomï¼ˆASN æ‰€å±çš„è¿è¥å•†ï¼‰</li>
<li>Locationï¼šåŒ—äº¬ ä¸­å›½ï¼ˆåœ°ç†ä½ç½®ï¼‰</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ff7d72f245ce47738954d28b0f476001~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769053311&amp;x-signature=VqpqTwEwQCuUO4YjeckqXsBcC8s%3D" alt="" loading="lazy"/></p>
<p>ä½ æ¿€åŠ¨äº†ï¼šå“‡ï¼Œä¸€ç›®äº†ç„¶å•Šï¼</p>
<h2 data-id="heading-1">èƒ½å®šä½å¤šç²¾ç¡®ï¼Ÿ</h2>
<p>ä½ ç´§å¼ èµ·æ¥ï¼šç­‰ç­‰ï¼Œé‚£å¹³å°ç®¡ç†å‘˜å²‚ä¸æ˜¯èƒ½é¡ºç€ç½‘çº¿æ‰¾åˆ°ä¿ºå®¶é—¨ç‰Œå·ï¼Ÿä¿ºè¿™å°±æŠŠç½‘çº¿æ‹”äº†ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/773f0b5f11014110b4b39422b61013be~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769053311&amp;x-signature=F4FEB9ABiap2sJW4sh0JjG%2B7VWE%3D" alt="" loading="lazy"/></p>
<p>é±¼çš®ï¼šåˆ«æ…Œï¼Œé€šè¿‡ IP åœ°å€å®šä½çš„ç²¾ç¡®åº¦ï¼Œå–å†³äºæ•°æ®æ¥æºã€‚</p>
<p>åƒåˆšæ‰æˆ‘ä»¬ç”¨çš„æŸ¥è¯¢å·¥å…·ï¼Œè¿˜æœ‰å¾®åšã€æŠ–éŸ³è¿™äº›ç¤¾äº¤å¹³å°ï¼Œå®ƒä»¬éƒ½æ˜¯åŸºäº ASN å’Œè¿è¥å•†æ•°æ®æ¥å®šä½çš„ï¼Œé€šå¸¸åªèƒ½å®šä½åˆ°å¸‚çº§æˆ–è€…åŒºçº§ï¼Œæ¯”å¦‚å¹¿ä¸œæ·±åœ³ã€ä¸Šæµ·æµ¦ä¸œè¿™ç§ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c4d07deaa1aa4e1babba1009eb308943~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769053311&amp;x-signature=N4NMJ4B%2BhuRLotTnO4yUsZidUeQ%3D" alt="" loading="lazy"/></p>
<p>ä½ ï¼šåæ­£ä¸ä¼šæ˜¾ç¤ºåˆ° â€œæŸæ ‹æŸå®¤â€ å¯¹å§ï¼Ÿé‚£ä¿ºåœ¨æ–°é—»é‡Œçœ‹åˆ°æœ‰äººè¯´ â€œé¡ºç€ç½‘çº¿æŠ“äººâ€ æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ</p>
<p>é±¼çš®ï¼šæƒ³è¦æ‰¾åˆ°ä½ çš„ <strong>ç²¾ç¡®å®šä½</strong>ï¼Œå¯ä»¥æŸ¥è¯¢è¿è¥å•†é‚£è¾¹è¯¦ç»†çš„åˆ†é…è®°å½•ï¼Œè®°å½•ç€å“ªä¸ª IP åœ¨ä»€ä¹ˆæ—¶é—´åˆ†é…ç»™äº†å“ªä¸ªç”¨æˆ·ï¼Œç”šè‡³æœ‰å…·ä½“çš„å®‰è£…åœ°å€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ddab85a561b74e21a7b5dba9fd889215~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769053311&amp;x-signature=jY7m30qZcD1mWREbO76heHDtfS4%3D" alt="" loading="lazy"/></p>
<p>ä½†æ˜¯ï¼Œè¿™äº›æ•°æ®æœ‰ä¸¥æ ¼çš„éšç§ä¿æŠ¤ï¼Œåªæœ‰æ‰§æ³•éƒ¨é—¨ä¾æ³•è°ƒæŸ¥çš„æ—¶å€™æ‰èƒ½æŸ¥è¯¢ã€‚æ™®é€šäººå’Œæ™®é€šå¹³å°æ˜¯æŸ¥ä¸åˆ°çš„ï¼Œæ‰€ä»¥åˆ«æ‹…å¿ƒã€‚ä¸åšäºå¿ƒäº‹ï¼Œä¸æ€•é¬¼æ•²é—¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8cafb104392341cba0cbc20c10bf2622~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769053311&amp;x-signature=X7wFizDxq6j2cQDxreMev%2F%2B8XXE%3D" alt="" loading="lazy"/></p>
<p>ä½ è‹¥æœ‰æ‰€æ€ï¼šçœ‹æ¥åœ¨ç½‘ç»œä¸Šä¹Ÿä¸èƒ½ä¹±è¯´è¯å‘€â€¦â€¦</p>
<p>é±¼çš®ï¼šä¸è¿‡ï¼Œè¿˜æœ‰å…¶ä»–ç²¾ç¡®å®šä½çš„æ–¹æ³•ã€‚æ¯”å¦‚ä½ ç»™ APP å¼€äº† <strong>GPS æƒé™</strong>ï¼ŒAPP å°±èƒ½ç›´æ¥è¯»å–ä½ æ‰‹æœºé‡Œçš„ <strong>ç»çº¬åº¦åæ ‡</strong>ï¼Œç²¾åº¦å¯ä»¥è¾¾åˆ° 10 ç±³ä»¥å†…ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ecf5d2ad193c416cae835e7ac50dce1d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769053311&amp;x-signature=Cf0%2FDWhaXgdvbYhieLFWIcGZ%2FAo%3D" alt="" loading="lazy"/></p>
<p>å“ªæ€•ä½ å…³äº† GPSï¼Œåªè¦ä½ å¼€äº† <strong>WiFi æˆ–è“ç‰™æ‰«ææƒé™</strong>ï¼ŒAPP ç…§æ ·èƒ½å®šä½ã€‚å®ƒä»¬ä¼šæ‰«æä½ é™„è¿‘å‡ ä¸ª WiFi çš„ç‰¹å¾ IDï¼ˆBSSIDï¼‰ï¼Œç„¶åå»äº‘ç«¯æ•°æ®åº“ä¸€æ¯”å¯¹ï¼Œå‘ç°ä½ å‘¨å›´è¿™å‡ ä¸ª WiFi éƒ½åœ¨æŸæ ‹å†™å­—æ¥¼é‡Œï¼Œå°±èƒ½åæ¨å‡ºä½ ä¹Ÿåœ¨é‚£é‡Œã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e76f113591594e74af07b823e8d7fc21~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769053311&amp;x-signature=d%2F7atEo5UFwbxv7bGa8wDBlKXm4%3D" alt="" loading="lazy"/></p>
<p>ä½ å¿ƒæœ‰ä½™æ‚¸ï¼šè¿˜å¥½æˆ‘çš„æ‰‹æœºæƒé™æ²¡æœ‰ä¹±å¼€â€¦â€¦ ä½†æ˜¯é±¼çš®ï¼Œå¹³å°ä¸ºä»€ä¹ˆè¦æ˜¾ç¤º IP å½’å±åœ°å‘¢ï¼Ÿä¼šä¸ä¼šä¾µçŠ¯ç”¨æˆ·çš„éšç§å•Šï¼Ÿ</p>
<h2 data-id="heading-2">ä¼šä¸ä¼šä¾µçŠ¯éšç§ï¼Ÿ</h2>
<p>é±¼çš®ï¼šå…¶å®è¿™ä¸ªåŠŸèƒ½æ˜¯æœ‰ä¾æ®çš„ã€‚2022 å¹´ 6 æœˆï¼Œå›½å®¶ç½‘ä¿¡åŠå‘å¸ƒäº†ã€Šäº’è”ç½‘ç”¨æˆ·è´¦å·ä¿¡æ¯ç®¡ç†è§„å®šã€‹ï¼Œè¦æ±‚å¹³å°å±•ç¤º <strong>åˆç†èŒƒå›´å†…</strong> çš„ IP å½’å±åœ°ä¿¡æ¯ï¼Œç›®çš„æ˜¯ä¾¿äºå…¬ä¼—ç›‘ç£ï¼Œå‡å°‘ç½‘ç»œä¸Šçš„ä¸å®ä¿¡æ¯ä¼ æ’­ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/40b6fe5894334833a48b12b1f877cd11~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769053311&amp;x-signature=MYwJZC6GHYYlC5TRt1MWjw3o%2B7M%3D" alt="" loading="lazy"/></p>
<p>è€Œä¸”ä½ çœ‹ï¼Œæ­£è§„å¹³å°åªæ˜¾ç¤ºå¤§è‡´åœ°åŒºï¼Œå¹¶ä¸æ¶‰åŠä½ çš„å…·ä½“ä¸ªäººèº«ä»½ä¿¡æ¯ï¼Œä¹Ÿä¸ä¼šæš´éœ²ä½ æ˜¯è°ã€ä½åœ¨å“ªé‡Œã€‚</p>
<p>ä½ ï¼šåŸæ¥å¦‚æ­¤ï¼ä½†å¦‚æœä¿ºæ˜¯ä¸ªå¤§æ˜æ˜Ÿï¼Œç²‰ä¸ä¸å°±çŸ¥é“ä¿ºå¤§æ¦‚åœ¨å“ªé‡Œäº†ï¼Ÿä¸‡ä¸€äººå¤šåŠ›é‡å¤§ï¼Œä¸å°å¿ƒæŠŠä¿ºé€®åˆ°äº†æ€ä¹ˆåŠï¼Ÿ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/916fc1adc8584fd6b4e0a5018219d4f2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769053311&amp;x-signature=go%2BDVgWvGjNWMWdvIcZbfOnVHSE%3D" alt="" loading="lazy"/></p>
<p>å¯¹äº†ï¼Œä¿ºèƒ½ä¸èƒ½ä¿®æ”¹è‡ªå·±çš„ IP å½’å±åœ°å‘¢ï¼Ÿ</p>
<h2 data-id="heading-3">æ€ä¹ˆä¿®æ”¹ IP å½’å±åœ°ï¼Ÿ</h2>
<p>é±¼çš®åç¬‘ï¼šè¿™å¤ªç®€å•äº†ï¼Œä½ åªéœ€è¦ä¹°ä¸€å¼ é«˜é“ç¥¨ï¼Œä»åŒ—äº¬åˆ°å¤©æ´¥ï¼ŒåŠä¸ªå°æ—¶å°±æå®šäº†~</p>
<p>ä½ ä¸€æ‹è„‘è¢‹ï¼šå¦™å•Šï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a09be960342a45049f8b0c4b6f460379~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769053311&amp;x-signature=GVmfl3xc64Yp%2F3qYESb8YHb3u1E%3D" alt="" loading="lazy"/></p>
<p>é±¼çš®ï¼šå“¼å“¼ï¼Œä¸è¿‡è¿˜æœ‰æ›´ç®€å•çš„æ–¹å¼ â€”â€” é€šè¿‡ä»£ç†æœåŠ¡å™¨ã€‚</p>
<p>ä»£ç†æœåŠ¡å™¨å°±åƒç½‘ç»œä¸­è½¬ç«™ã€‚</p>
<p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œä½ çš„è¯·æ±‚æ˜¯ç›´æ¥å‘ç»™ç›®æ ‡ç½‘ç«™çš„ã€‚</p>
<p>ä½†å¦‚æœç”¨äº†ä»£ç†æœåŠ¡å™¨ï¼Œä½ çš„è¯·æ±‚ä¼šå…ˆå‘åˆ°ä»£ç†æœåŠ¡å™¨ï¼Œå†ç”±å®ƒè½¬å‘ç»™ç›®æ ‡ç½‘ç«™ã€‚</p>
<p>è¿™æ ·ä¸€æ¥ï¼Œç›®æ ‡ç½‘ç«™çœ‹åˆ°çš„å°±æ˜¯ä»£ç†æœåŠ¡å™¨çš„ IPï¼Œè€Œä¸æ˜¯ä½ çš„çœŸå® IPã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b6f78cf178b4487396cabcf634837ed8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769053311&amp;x-signature=SL%2Fwzp8ll4RmAElBcMVf1YB7n6E%3D" alt="" loading="lazy"/></p>
<p>ä½ æç„¶å¤§æ‚Ÿï¼šä¿ºæ‡‚äº†ï¼Œå°±åƒä¿ºè®©æœ‹å‹å¸®å¿™å¯„å¿«é€’ï¼Œå¯„ä»¶åœ°å€æ˜¾ç¤ºçš„æ˜¯æœ‹å‹å®¶ï¼Œè€Œä¸æ˜¯ä¿ºå®¶ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/02e6a0ea93a84787b7aec38dfb0b9b70~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769053311&amp;x-signature=Gkzwh9IQZR28c%2F8Zxf8kdGlg%2Bzw%3D" alt="" loading="lazy"/></p>
<p>é±¼çš®ï¼šæ¥ï¼Œæˆ‘ç»™ä½ æ¼”ç¤ºä¸€ä¸‹ã€‚æ¯”å¦‚æˆ‘åœ¨åŒ—äº¬æœ‰å°æœåŠ¡å™¨ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªå« Nginx çš„é«˜æ€§èƒ½ Web æœåŠ¡å™¨è½¯ä»¶æ¥é…ç½®ä»£ç†ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘åœ¨æœåŠ¡å™¨ä¸Šå®‰è£… Nginxï¼ˆè¿™é‡Œåˆ©ç”¨äº†å®å¡” Linux é¢æ¿æé€Ÿå®‰è£…ï¼‰ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fc46491e0ef24aa3846e17b760806246~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769053311&amp;x-signature=lEmEEhEe%2FFwf%2Bxy0dfyBRB601P8%3D" alt="" loading="lazy"/></p>
<p>ç„¶åç¼–è¾‘é…ç½®æ–‡ä»¶ <code>nginx.conf</code>ï¼Œé…ç½®ä¸€ä¸ªç®€å•çš„æ­£å‘ä»£ç†ï¼Œä¹Ÿå°±æ˜¯è®©ä½ çš„è¯·æ±‚é€šè¿‡ä»£ç†æœåŠ¡å™¨è½¬å‘å‡ºå»ã€‚</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># ç®€æ˜“æ­£å‘ä»£ç†ï¼ˆæ³¨æ„ï¼šä»…æ”¯æŒ HTTP æµé‡ï¼Œä¸æ”¯æŒ HTTPSï¼‰</span>
serverÂ {
Â  Â <span class="hljs-keyword">listen</span>Â <span class="hljs-number">8080</span>;
Â  Â 
Â  Â locationÂ / {
Â  Â  Â  Â <span class="hljs-comment"># å¿…é¡»é…ç½® DNS è§£æå™¨</span>
Â  Â  Â  Â resolverÂ <span class="hljs-number">8.8</span>.<span class="hljs-number">8.8</span>;
Â  Â  Â  Â 
Â  Â  Â  Â <span class="hljs-comment"># è®¾ç½®ä»£ç†ç›®æ ‡</span>
Â  Â  Â  Â proxy_passÂ http:<span class="hljs-regexp">//</span>$http_host$request_uri;
Â  Â  Â  Â 
Â  Â  Â  Â <span class="hljs-comment"># éšè—çœŸå® IPï¼Œé˜²æ­¢æ³„éœ²ç»™ç›®æ ‡ç½‘ç«™</span>
Â  Â  Â  Â proxy_set_headerÂ X-Real-IPÂ <span class="hljs-string">""</span>;
Â  Â  Â  Â proxy_set_headerÂ X-Forwarded-ForÂ <span class="hljs-string">""</span>;
Â  Â  Â  Â proxy_set_headerÂ ViaÂ <span class="hljs-string">""</span>;
Â  }
}
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/84c52e87721f46e983c8b4708f0ea655~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769053311&amp;x-signature=IGPinNBDaxHMH6pivuk%2Bpdoshas%3D" alt="" loading="lazy"/></p>
<p>é…ç½®å¥½ä¹‹åï¼Œé‡å¯ Nginxï¼ˆæˆ–è€…é‡è½½é…ç½®ï¼‰ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/714ff005abef400db4e540fd0f9acfe3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769053311&amp;x-signature=hTSkNUpZAqXIsZcypIXOFByUrHY%3D" alt="" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥ï¼Œå½“ä½ é€šè¿‡è¿™å°æœåŠ¡å™¨çš„ 8080 ç«¯å£è®¿é—® HTTP ç½‘ç«™æ—¶ï¼Œç½‘ç«™çœ‹åˆ°çš„å°±æ˜¯è¿™å°åŒ—äº¬æœåŠ¡å™¨çš„ IP äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/56051a8f947340998e2eec48095bccde~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769053311&amp;x-signature=tW%2FN%2BEYHkC0dDV0b3I2PROtLLk4%3D" alt="" loading="lazy"/></p>
<p>ä¸è¿‡è¿™ä¸ªç®€æ˜“é…ç½®åªèƒ½ä»£ç† HTTP ç½‘ç«™ï¼Œå¦‚æœè¦ä»£ç† HTTPSï¼Œéœ€è¦æ›´å¤æ‚çš„é…ç½®æˆ–è€…ä½¿ç”¨ä¸“é—¨çš„ä»£ç†è½¯ä»¶ã€‚ä¸è¿‡æ€è·¯æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯é€šè¿‡ä¸­è½¬æœåŠ¡å™¨æ¥éšè—çœŸå® IPã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/71475112bd504c9a989874d82ef31eb9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769053311&amp;x-signature=eUZ7hL0rgGK0g%2FQCL%2BB3CJaN1t0%3D" alt="" loading="lazy"/></p>
<p>ä½ å…´å¥‹åœ°æ‰‹èˆè¶³è¹ˆï¼šé˜¿å·´é˜¿å·´ï¼Œä¿ºä¹Ÿè¦è¿™æ ·åšï¼</p>
<p>é±¼çš®ï¼šæŠ€æœ¯è™½ç„¶ä¸éš¾ï¼Œä½†ä½ è¦æ³¨æ„åˆç†ä½¿ç”¨æŠ€æœ¯ã€‚</p>
<p>å¦‚æœæ˜¯æ­£å¸¸çš„æŠ€æœ¯å­¦ä¹ ã€ä¼ä¸šåº”ç”¨ï¼Œå®Œå…¨æ²¡é—®é¢˜ï¼Œå¾ˆå¤šå…¬å¸éƒ½ä¼šç”¨ä»£ç†æœåŠ¡å™¨æ¥ç®¡ç†ç½‘ç»œæµé‡ã€‚</p>
<p>ä½†åƒä¸‡ä¸è¦ç”¨æ¥é€ƒé¿å¹³å°è§„åˆ™æˆ–è€…åšè¿è§„çš„äº‹æƒ…ã€‚è€Œä¸”ç°åœ¨å¾ˆå¤šå¹³å°éƒ½æœ‰æ£€æµ‹æœºåˆ¶ï¼Œèƒ½è¯†åˆ«å‡ºä½ æ˜¯ä¸æ˜¯ç”¨äº†ä»£ç†è®¿é—®ã€‚</p>
<p>ä½ å¥½å¥‡é“ï¼šå®ƒä»¬æ˜¯æ€ä¹ˆæ£€æµ‹å‡ºæ¥çš„ï¼Ÿ</p>
<p>é±¼çš®ï¼šå¸¸è§çš„æ–¹æ³•æœ‰è¿™å‡ ç§</p>
<ol start="0">
<li>æ£€æŸ¥ HTTP è¯·æ±‚å¤´ï¼Œä»£ç†è®¿é—®æ—¶ä¼šæœ‰ä¸€äº›ç‰¹æ®Šçš„è¯·æ±‚å¤´ä¿¡æ¯ï¼Œæ¯”å¦‚ X-Forwarded-For</li>
<li>æ£€æŸ¥ IP åœ°å€åº“ï¼Œæœ‰äº›æœåŠ¡ä¼šç»´æŠ¤å·²çŸ¥çš„ä»£ç†æœåŠ¡å™¨ IP é»‘åå•</li>
<li>åˆ†æè®¿é—®è¡Œä¸ºï¼Œæ¯”å¦‚åŒä¸€ä¸ª IP çŸ­æ—¶é—´å†…æœ‰å¤§é‡ä¸åŒç”¨æˆ·çš„è¯·æ±‚ï¼Œå°±å¾ˆå¯èƒ½æ˜¯ä»£ç†</li>
<li>WebRTC æ³„éœ²æ£€æµ‹ã€‚æµè§ˆå™¨åœ¨å®ç°è§†é¢‘é€šè¯æ—¶ä¼šå°è¯•å»ºç«‹ç‚¹å¯¹ç‚¹è¿æ¥ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­å¯èƒ½æš´éœ²ä½ çš„çœŸå® IP åœ°å€ï¼Œå³ä½¿ä½ ç”¨äº†ä»£ç†ä¹Ÿæ²¡ç”¨</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/54f175d975fe406b94df0ae585aced57~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769053311&amp;x-signature=tj8fX66CHAc2lsPZJ6UBvCQnUkU%3D" alt="" loading="lazy"/></p>
<p>ä½ ï¼šçœ‹æ¥æƒ³å®Œå…¨éšè— IPï¼Œè¿˜æœ‰ç‚¹å„¿éš¾å•Šâ€¦â€¦</p>
<p>é±¼çš®ï¼šæ‰€ä»¥æœ€å¥½è¿˜æ˜¯åˆè§„ä½¿ç”¨ç½‘ç»œï¼Œä¸åšè¿è§„çš„äº‹æƒ…å“¦ã€‚</p>
<p>å°é˜¿å·´ï¼šæ˜ç™½äº†æ˜ç™½äº†ï¼ä¿ºè¦åœ¨ä½ çš„å†…å®¹ä¸‹è¯„è®ºï¼Œçœ‹çœ‹è‡ªå·±çš„å½’å±åœ°~</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/48505857b0c4493cb7b5a2bad2f6f6d8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769053311&amp;x-signature=nS847OOoR9Gtzw70%2FFqRqh2rJUQ%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">æ›´å¤š</h2>
<p>ç¼–ç¨‹å­¦ä¹ äº¤æµï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliyupi%2Fcode-nav" target="_blank" title="https://github.com/liyupi/code-nav" ref="nofollow noopener noreferrer">ç¼–ç¨‹å¯¼èˆª</a></p>
<p>ç®€å†å¿«é€Ÿåˆ¶ä½œï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliyupi%2Flaoyujianli" target="_blank" title="https://github.com/liyupi/laoyujianli" ref="nofollow noopener noreferrer">è€é±¼ç®€å†</a></p>
<p>é¢è¯•åˆ·é¢˜ç¥å™¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliyupi%2Fmianshiya" target="_blank" title="https://github.com/liyupi/mianshiya" ref="nofollow noopener noreferrer">é¢è¯•é¸­</a></p>
<p>Vibe Coding æ•™ç¨‹å¼€æºï¼šgithub.com/liyupi/ai-guide</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[PageOfficeæœ€ç®€é›†æˆä»£ç (SpringMVC)]]></title>    <link>https://juejin.cn/post/7595162224899358758</link>    <guid>https://juejin.cn/post/7595162224899358758</guid>    <pubDate>2026-01-15T02:24:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595162224899358758" data-draft-id="7595147871937560622" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="PageOfficeæœ€ç®€é›†æˆä»£ç (SpringMVC)"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2026-01-15T02:24:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·69561944037"/> <meta itemprop="url" content="https://juejin.cn/user/3739869818388507"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            PageOfficeæœ€ç®€é›†æˆä»£ç (SpringMVC)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3739869818388507/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·69561944037
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-15T02:24:43.000Z" title="Thu Jan 15 2026 02:24:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡æè¿°äº†PageOfficeäº§å“åœ¨SpringMVCé¡¹ç›®ä¸­å¦‚ä½•é›†æˆè°ƒç”¨ã€‚</p>
<ol>
<li>æ–°å»ºSpringMVCé¡¹ç›®ï¼špageoffice6-springmvc-simple</li>
<li>åœ¨æ‚¨é¡¹ç›®çš„pom.xmlä¸­é€šè¿‡ä¸‹é¢çš„ä»£ç å¼•å…¥PageOfficeä¾èµ–ã€‚pageoffice.jarå·²å‘å¸ƒåˆ°<a href="https://link.juejin.cn?target=https%3A%2F%2Fmvnrepository.com%2Fartifact%2Fcom.zhuozhengsoft%2Fpageoffice" target="_blank" title="https://mvnrepository.com/artifact/com.zhuozhengsoft/pageoffice" ref="nofollow noopener noreferrer">Mavenä¸­å¤®ä»“åº“Â (opens new window)</a>ï¼Œå»ºè®®ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ã€‚</li>
</ol>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.zhuozhengsoft<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>   
  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>pageoffice<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>   
  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>6.6.1.1-javax<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<ol start="3">
<li>åœ¨æ‚¨é¡¹ç›®çš„web.xmlé…ç½®PageOfficeçš„æœåŠ¡å™¨ç«¯servletç¨‹åºï¼Œæ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</li>
</ol>
<pre><code class="hljs language-xml" lang="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>poserver<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>com.zhuozhengsoft.pageoffice.poserver.Server<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>poserver<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/poserver.zz<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>poserver<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/sealsetup.exe<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>poserver<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/poclient<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>poserver<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/pageoffice.js<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span>
    <span class="hljs-comment">&lt;!--PageOffice V6.6æ–°å¢ä»¥ä¸‹powserveré…ç½®ï¼ŒPageOffice V6.5åŠä»¥å‰çš„ç‰ˆæœ¬æ— éœ€æ­¤é…ç½® --&gt;</span>
    <span class="hljs-comment">&lt;!--
        PowServerè·¨åŸŸå®‰å…¨é…ç½®è¯´æ˜ï¼š
        1. ç”Ÿäº§ç¯å¢ƒå¼ºçƒˆå»ºè®®é¿å…ä½¿ç”¨é€šé…ç¬¦"*"ï¼Œåº”æ˜ç¡®é…ç½®å…è®¸è®¿é—®çš„å…·ä½“æ¥æº
        2. æ ¼å¼è§„èŒƒï¼šå¤šä¸ªåœ°å€ä½¿ç”¨é€—å·åˆ†éš”ï¼Œæ ¼å¼ä¸º"åŸŸåæˆ–IPåœ°å€åˆ—è¡¨"
        æ³¨æ„ï¼šæœ¬åœ°å¼€å‘ç¯å¢ƒåœ°å€(localhost,127.0.0.1)ä¹Ÿå¿…é¡»åœ¨æ­¤é…ç½®
        3. å…¸å‹é…ç½®ç¤ºä¾‹ï¼š
        å•ä½“å¤šå…¥å£åº”ç”¨ï¼š"ä¸»åŸŸå,å¤‡ç”¨åŸŸå,æœåŠ¡å™¨IPåœ°å€"
            ç¤ºä¾‹å€¼ï¼š"www.oa.com,oa.example.com,192.168.1.200"
    --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">context-param</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>powserver-allowedOrigins<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>*<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">context-param</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">listener</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">listener-class</span>&gt;</span>com.zhuozhengsoft.pageoffice.poserver.POWContextListener<span class="hljs-tag">&lt;/<span class="hljs-name">listener-class</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">listener</span>&gt;</span>
</code></pre>
<ol start="4">
<li>
<p>åœ¨pageoffice6-springmvc-simple/src/main/webapp/WEB-INFç›®å½•ä¸‹æ–°å»ºlibæ–‡ä»¶å¤¹ï¼Œæ‹·è´PageOfficeå®¢æˆ·ç«¯å®‰è£…ç¨‹åºåˆ°æ­¤ç›®å½•ä¸‹ã€‚æ¯”å¦‚ï¼š</p>
<ul>
<li>Windowså®¢æˆ·ç«¯å®‰è£…ç¨‹åºï¼šposetup_6.6.1.1.exe</li>
<li>å›½äº§ç‰ˆæ“ä½œç³»ç»Ÿå®¢æˆ·ç«¯å®‰è£…ç¨‹åºï¼šå¯¹åº”èŠ¯ç‰‡çš„PageOfficeå®¢æˆ·ç«¯debå®‰è£…åŒ…ï¼›</li>
</ul>
</li>
</ol>
<blockquote>
<p>PageOfficeå®¢æˆ·ç«¯å®‰è£…ç¨‹åºä¸‹è½½åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.zhuozhengsoft.com%2Fdowm%2F" target="_blank" title="https://www.zhuozhengsoft.com/dowm/" ref="nofollow noopener noreferrer">www.zhuozhengsoft.com/dowm/(opensâ€¦</a></p>
</blockquote>
<ol start="5">
<li>åœ¨pageoffice6-springmvc-simple/src/main/webappç›®å½•ä¸‹æ–°å»ºdocæ–‡ä»¶å¤¹ï¼Œå‡†å¤‡ä¸€ä¸ªæœ‰å†…å®¹test.docxæ–‡ä»¶ã€‚æ–°å»ºControllerå¹¶è°ƒç”¨PageOfficeæ‰“å¼€æ­¤æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼š</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Controller</span>
<span class="hljs-meta">@RequestMapping("Document")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DocumentController</span> {

    <span class="hljs-meta">@RequestMapping("/openFile")</span>
    <span class="hljs-keyword">public</span> ModelAndView <span class="hljs-title function_">openFile</span><span class="hljs-params">(HttpServletRequest request, Map&lt;String, Object&gt; map)</span> <span class="hljs-keyword">throws</span> Exception{
        <span class="hljs-comment">//******************************å“æ­£PageOfficeç»„ä»¶çš„ä½¿ç”¨*******************************</span>
        <span class="hljs-type">PageOfficeCtrl</span> <span class="hljs-variable">poCtrl</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PageOfficeCtrl</span>(request);
        poCtrl.setSaveFilePage(<span class="hljs-string">"saveFile"</span>);
        <span class="hljs-comment">//æ‰“å¼€Wordæ–‡æ¡£</span>
        poCtrl.webOpen(<span class="hljs-string">"/doc/test.docx"</span>, OpenModeType.docNormalEdit, <span class="hljs-string">"å¼ ä¸‰"</span>);
        map.put(<span class="hljs-string">"pageoffice"</span>, poCtrl.getHtml());
        <span class="hljs-type">ModelAndView</span> <span class="hljs-variable">mv</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ModelAndView</span>(<span class="hljs-string">"Document/openFile"</span>);
        <span class="hljs-keyword">return</span> mv;
    }

    <span class="hljs-meta">@RequestMapping("/saveFile")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">saveFile</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> Exception{
        <span class="hljs-type">FileSaver</span> <span class="hljs-variable">fs</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileSaver</span>(request, response);
        fs.saveToFile(request.getSession().getServletContext().getRealPath(<span class="hljs-string">"doc/"</span>)+fs.getFileName());
        fs.close();
    }
}
</code></pre>
<ol start="6">
<li>ä¸ºä¸Šä¸€æ­¥ä»£ç ä¸­çš„çš„ModelAndViewå‡†å¤‡é¡µé¢ã€‚æ–°å»ºDocument/openFile.jspï¼Œåœ¨é¡µé¢ä¸­æ·»åŠ ä¸‹é¢çš„ä»£ç ç”¨æ¥åµŒå…¥PageOfficeæ§ä»¶ï¼š</li>
</ol>
<pre><code class="hljs language-css" lang="css">&lt;<span class="hljs-selector-tag">div</span> style=" <span class="hljs-attribute">width</span>:auto; <span class="hljs-attribute">height</span>:<span class="hljs-number">800px</span>;"&gt;
    ${pageoffice}
&lt;/<span class="hljs-selector-tag">div</span>&gt;
</code></pre>
<ol start="7">
<li>åœ¨éœ€è¦ç‚¹å‡»è¶…é“¾æ¥åœ¨çº¿æ‰“å¼€æ–‡ä»¶çš„é¡µé¢æ·»åŠ pageoffice.jsçš„å¼•ç”¨ã€‚</li>
</ol>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/pageoffice.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<ol start="8">
<li>ç¼–å†™æ‰“å¼€æ–‡ä»¶çš„è¶…é“¾æ¥ä»£ç ã€‚è°ƒç”¨POBrowserçš„openWindowæ–¹æ³•å¼¹å‡ºçª—å£è®¿é—®Controlleræ–¹æ³•<code>Document/openFile</code>åœ¨çº¿æ‰“å¼€æ–‡ä»¶ã€‚</li>
</ol>
<pre><code class="hljs language-css" lang="css">&lt;<span class="hljs-selector-tag">a</span> href="javascript:POBrowser.<span class="hljs-built_in">openWindow</span>(<span class="hljs-string">'Document/openFile'</span>,<span class="hljs-string">'width=1150px;height=900px;'</span>);"&gt;
    åœ¨çº¿æ‰“å¼€æ–‡æ¡£
&lt;/<span class="hljs-selector-tag">a</span>&gt;
</code></pre>
<ol start="9">
<li>å¯åŠ¨é¡¹ç›®ï¼Œç‚¹å‡»â€œåœ¨çº¿æ‰“å¼€æ–‡æ¡£â€è¶…é“¾æ¥ï¼ŒæŸ¥çœ‹åœ¨çº¿æ‰“å¼€ç¼–è¾‘ä¿å­˜Officeæ–‡ä»¶çš„æ•ˆæœã€‚</li>
</ol>
<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fpageoffice.cn%2Fpages%2F2994dc%2F" target="_blank" title="https://pageoffice.cn/pages/2994dc/" ref="nofollow noopener noreferrer">PageOfficeæœ€ç®€é›†æˆä»£ç (SpringMVC) | PageOffice å¼€å‘è€…ä¸­å¿ƒ</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æµè§ˆå™¨ç¡¬å¯¼èˆªä¼˜åŒ–ï¼šæå‡ç”¨æˆ·ä½“éªŒçš„å…³é”®]]></title>    <link>https://juejin.cn/post/7595163067903688713</link>    <guid>https://juejin.cn/post/7595163067903688713</guid>    <pubDate>2026-01-15T02:24:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595163067903688713" data-draft-id="7595163067903623177" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æµè§ˆå™¨ç¡¬å¯¼èˆªä¼˜åŒ–ï¼šæå‡ç”¨æˆ·ä½“éªŒçš„å…³é”®"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2026-01-15T02:24:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä»£ç è¯—äººå¡å°”"/> <meta itemprop="url" content="https://juejin.cn/user/2067500101533902"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æµè§ˆå™¨ç¡¬å¯¼èˆªä¼˜åŒ–ï¼šæå‡ç”¨æˆ·ä½“éªŒçš„å…³é”®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2067500101533902/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä»£ç è¯—äººå¡å°”
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-15T02:24:34.000Z" title="Thu Jan 15 2026 02:24:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å‰è¨€</h2>
<p>åœ¨ç°ä»£Webåº”ç”¨ä¸­ï¼Œç”¨æˆ·ä½“éªŒï¼ˆUser Experience, UXï¼‰çš„é‡è¦æ€§æ—¥ç›Šå‡¸æ˜¾ã€‚ä¸€ä¸ªæµç•…ã€å“åº”è¿…é€Ÿçš„ç½‘ç«™ï¼Œèƒ½å¤Ÿæ˜¾è‘—æå‡ç”¨æˆ·çš„æ»¡æ„åº¦å’Œç•™å­˜ç‡ã€‚ç„¶è€Œï¼Œåœ¨è¿½æ±‚æè‡´æ€§èƒ½çš„é“è·¯ä¸Šï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šé‡åˆ°ä¸€ä¸ªæ£˜æ‰‹çš„æŒ‘æˆ˜â€”â€”<strong>ç¡¬å¯¼èˆªï¼ˆHard Navigationï¼‰</strong>ã€‚å½“ç”¨æˆ·ç‚¹å‡»ä¸€ä¸ªé“¾æ¥ï¼Œæµè§ˆå™¨éœ€è¦å®Œå…¨å¸è½½å½“å‰é¡µé¢ï¼Œå†é‡æ–°åŠ è½½æ–°é¡µé¢æ—¶ï¼Œè¿™ç§â€œç¡¬â€åˆ‡æ¢å¾€å¾€ä¼´éšç€å»¶è¿Ÿå’ŒçŸ­æš‚çš„ç©ºç™½ï¼Œæå¤§åœ°æŸå®³äº†ç”¨æˆ·ä½“éªŒã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨ç¡¬å¯¼èˆªçš„æœ¬è´¨ï¼Œå¹¶ä»‹ç»å¦‚ä½•é€šè¿‡ç°ä»£æµè§ˆå™¨æŠ€æœ¯ï¼Œæœ‰æ•ˆåœ°ä¼˜åŒ–è¿™ä¸€è¿‡ç¨‹ï¼Œè®©ä½ çš„ç½‘ç«™åœ¨ç”¨æˆ·çœ¼ä¸­æ›´åŠ â€œä¸æ»‘â€ã€‚</p>
<h2 data-id="heading-1">äºŒã€è½¯å¯¼èˆªä¸ç¡¬å¯¼èˆªï¼šç†è§£ç½‘é¡µåˆ‡æ¢çš„ä¸¤ç§æ¨¡å¼</h2>
<p>è¦ç†è§£ç¡¬å¯¼èˆªçš„ä¼˜åŒ–ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦åŒºåˆ†ä¸¤ç§ä¸»è¦çš„ç½‘é¡µå¯¼èˆªæ–¹å¼ï¼šè½¯å¯¼èˆªå’Œç¡¬å¯¼èˆªã€‚</p>
<h3 data-id="heading-2">1. è½¯å¯¼èˆªï¼ˆSoft Navigationï¼‰</h3>
<p><strong>è½¯å¯¼èˆª</strong>ï¼Œé¡¾åæ€ä¹‰ï¼Œæ˜¯ä¸€ç§â€œæŸ”å’Œâ€çš„é¡µé¢åˆ‡æ¢æ–¹å¼ã€‚å®ƒä¸»è¦å‡ºç°åœ¨**å•é¡µåº”ç”¨ï¼ˆSingle Page Application, SPAï¼‰**ä¸­ã€‚å½“ç”¨æˆ·åœ¨SPAå†…éƒ¨è¿›è¡Œé¡µé¢è·³è½¬æ—¶ï¼Œæµè§ˆå™¨å¹¶ä¸ä¼šé‡æ–°åŠ è½½æ•´ä¸ªæ–‡æ¡£ã€‚ç›¸åï¼Œåº”ç”¨ç¨‹åºä¼šåŠ¨æ€åœ°æ›¿æ¢é¡µé¢ä¸­çš„ä¸»è¦å†…å®¹åŒºåŸŸï¼ŒåŒæ—¶æŒ‰éœ€åŠ è½½æ–°çš„JavaScriptå’ŒCSSèµ„æºã€‚è¿™ç§æ–¹å¼çš„ä¼˜åŠ¿åœ¨äºï¼š</p>
<ul>
<li><strong>é€Ÿåº¦å¿«</strong>ï¼šé¿å…äº†æ•´ä¸ªé¡µé¢çš„é‡æ–°è§£æå’Œæ¸²æŸ“ã€‚</li>
<li><strong>ä½“éªŒæµç•…</strong>ï¼šé¡µé¢ä¸ä¼šå‡ºç°é—ªçƒæˆ–ç©ºç™½ï¼Œç”¨æˆ·æ„Ÿè§‰åƒæ˜¯åœ¨åŒä¸€ä¸ªåº”ç”¨å†…åˆ‡æ¢è§†å›¾ã€‚</li>
<li><strong>èµ„æºé«˜æ•ˆ</strong>ï¼šåªåŠ è½½å¢é‡èµ„æºï¼Œå‡å°‘äº†ä¸å¿…è¦çš„ç½‘ç»œè¯·æ±‚ã€‚</li>
</ul>
<h3 data-id="heading-3">2. ç¡¬å¯¼èˆªï¼ˆHard Navigationï¼‰</h3>
<p>ä¸è½¯å¯¼èˆªç›¸å¯¹çš„ï¼Œä¾¿æ˜¯<strong>ç¡¬å¯¼èˆª</strong>ã€‚å½“ç”¨æˆ·ç‚¹å‡»çš„é“¾æ¥æŒ‡å‘ä¸€ä¸ªå®Œå…¨ä¸åŒçš„åº”ç”¨ã€ä¸åŒçš„åŸŸåï¼Œæˆ–è€…éœ€è¦æµè§ˆå™¨å®Œå…¨é‡æ–°åŠ è½½æ•´ä¸ªæ–‡æ¡£æ—¶ï¼Œå°±ä¼šå‘ç”Ÿç¡¬å¯¼èˆªã€‚ä¾‹å¦‚ï¼Œä»ä½ çš„ç½‘ç«™è·³è½¬åˆ°å¤–éƒ¨ç”µå•†å¹³å°ï¼Œæˆ–è€…ä»SPAå†…éƒ¨è·³è½¬åˆ°ä¸€ä¸ªéSPAçš„ä¼ ç»Ÿé¡µé¢ã€‚ç¡¬å¯¼èˆªçš„ç‰¹ç‚¹æ˜¯ï¼š</p>
<ul>
<li><strong>å®Œå…¨é‡è½½</strong>ï¼šæµè§ˆå™¨ä¼šå¸è½½å½“å‰æ–‡æ¡£åŠå…¶æ‰€æœ‰ç›¸å…³èµ„æºï¼ˆå¦‚JavaScriptã€CSSã€å›¾ç‰‡ç­‰ï¼‰ã€‚</li>
<li><strong>é‡æ–°åŠ è½½</strong>ï¼šç„¶åï¼Œæµè§ˆå™¨ä¼šä»å¤´å¼€å§‹åŠ è½½æ–°æ–‡æ¡£åŠå…¶æ‰€æœ‰å­èµ„æºã€‚</li>
<li><strong>ç”¨æˆ·æ„ŸçŸ¥æ˜æ˜¾</strong>ï¼šç”±äºéœ€è¦é‡æ–°å»ºç«‹è¿æ¥ã€ä¸‹è½½èµ„æºã€è§£æå’Œæ¸²æŸ“ï¼Œç”¨æˆ·é€šå¸¸ä¼šæ„Ÿå—åˆ°æ˜æ˜¾çš„å»¶è¿Ÿï¼Œç”šè‡³çœ‹åˆ°çŸ­æš‚çš„ç©ºç™½é¡µé¢ï¼ˆä¿—ç§°â€œç™½å±â€ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-4">3. ä¸ºä»€ä¹ˆç¡¬å¯¼èˆªéœ€è¦ä¼˜åŒ–ï¼Ÿ</h3>
<p>ç¡¬å¯¼èˆªå¸¦æ¥çš„å»¶è¿Ÿå’Œä¸æµç•…ä½“éªŒï¼Œæ˜¯å½±å“ç”¨æˆ·ç•™å­˜ç‡å’Œè½¬åŒ–ç‡çš„é‡è¦å› ç´ ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œç”¨æˆ·æ¯æ¬¡ç‚¹å‡»é“¾æ¥éƒ½è¦ç­‰å¾…å‡ ç§’é’Ÿï¼Œç”šè‡³çœ‹åˆ°é¡µé¢é—ªçƒï¼Œè¿™æ— ç–‘ä¼šè®©ä»–ä»¬æ„Ÿåˆ°æ²®ä¸§ã€‚å°¤å…¶æ˜¯åœ¨ç½‘ç»œç¯å¢ƒä¸ä½³çš„æƒ…å†µä¸‹ï¼Œç¡¬å¯¼èˆªçš„è´Ÿé¢å½±å“ä¼šè¢«è¿›ä¸€æ­¥æ”¾å¤§ã€‚å› æ­¤ï¼Œä¼˜åŒ–ç¡¬å¯¼èˆªï¼Œä½¿å…¶å°½å¯èƒ½æ¥è¿‘è½¯å¯¼èˆªçš„ä½“éªŒï¼Œæ˜¯æå‡ç½‘ç«™æ•´ä½“æ€§èƒ½å’Œç”¨æˆ·æ»¡æ„åº¦çš„å…³é”®ä¸€ç¯ã€‚</p>
<h2 data-id="heading-5">ä¸‰ã€ä¼˜åŒ–çš„æ ¸å¿ƒæ€è·¯ï¼šé¢„åŠ è½½ä¸é¢„æ¸²æŸ“</h2>
<p>é¢å¯¹ç¡¬å¯¼èˆªå¸¦æ¥çš„æŒ‘æˆ˜ï¼Œç°ä»£æµè§ˆå™¨æä¾›äº†ä¸€ç³»åˆ—æœºåˆ¶æ¥ç¼“è§£å…¶è´Ÿé¢å½±å“ã€‚æ ¸å¿ƒæ€è·¯åœ¨äºä¸€ä¸ªâ€œ<strong>é¢„</strong>â€å­—â€”â€”<strong>é¢„å…ˆåŠ è½½ï¼ˆPrefetchingï¼‰<strong>å’Œ</strong>é¢„å…ˆæ¸²æŸ“ï¼ˆPrerenderingï¼‰</strong>ã€‚è¿™ä¸¤ç§æŠ€æœ¯çš„ç›®æ ‡éƒ½æ˜¯åœ¨ç”¨æˆ·å®é™…è®¿é—®é¡µé¢ä¹‹å‰ï¼Œæå‰åšå¥½å‡†å¤‡å·¥ä½œï¼Œä»è€Œç¼©çŸ­ç”¨æˆ·ç­‰å¾…æ—¶é—´ï¼Œæå‡å¯¼èˆªçš„æ„ŸçŸ¥é€Ÿåº¦ã€‚</p>
<h3 data-id="heading-6">1. é¢„å–ï¼ˆPrefetchingï¼‰</h3>
<p><strong>é¢„å–</strong>æ˜¯æŒ‡æµè§ˆå™¨åœ¨ç”¨æˆ·ç‚¹å‡»é“¾æ¥ä¹‹å‰ï¼Œæå‰ä¸‹è½½æ–°é¡µé¢æ‰€éœ€çš„æ–‡æ¡£å’Œéƒ¨åˆ†å­èµ„æºã€‚è¿™å°±åƒæ˜¯ä½ åœ¨å‡ºé—¨å‰ï¼Œæå‰æŠŠå¯èƒ½éœ€è¦çš„ä¸œè¥¿å‡†å¤‡å¥½ï¼Œè¿™æ ·ç­‰ä½ çœŸæ­£éœ€è¦çš„æ—¶å€™ï¼Œå°±èƒ½ç«‹åˆ»æ‹¿åˆ°ã€‚å½“ç”¨æˆ·æœ€ç»ˆç‚¹å‡»é“¾æ¥æ—¶ï¼Œç”±äºéƒ¨åˆ†èµ„æºå·²ç»ç¼“å­˜ï¼Œæµè§ˆå™¨å¯ä»¥æ›´å¿«åœ°å‘ˆç°æ–°é¡µé¢ï¼Œä»è€Œå‡å°‘äº†ç­‰å¾…æ—¶é—´ã€‚</p>
<h3 data-id="heading-7">2. é¢„æ¸²æŸ“ï¼ˆPrerenderingï¼‰</h3>
<p><strong>é¢„æ¸²æŸ“</strong>åˆ™æ›´ä¸ºæ¿€è¿›ã€‚å®ƒä¸ä»…é¢„å–äº†æ–°é¡µé¢çš„å†…å®¹ï¼Œè¿˜ä¼šåƒç”¨æˆ·å·²ç»è®¿é—®è¿‡ä¸€æ ·ï¼Œåœ¨åå°ä¸€ä¸ªä¸å¯è§çš„æ ‡ç­¾é¡µä¸­å®Œæ•´åœ°æ¸²æŸ“æ–°é¡µé¢ã€‚å½“ç”¨æˆ·ç‚¹å‡»é“¾æ¥æ—¶ï¼Œæµè§ˆå™¨å¯ä»¥ç›´æ¥å°†è¿™ä¸ªå·²ç»æ¸²æŸ“å¥½çš„é¡µé¢åˆ‡æ¢åˆ°å‰å°ï¼Œå®ç°<strong>å³æ—¶å¯¼èˆªï¼ˆInstant Navigationï¼‰</strong>ã€‚è¿™ç§ä½“éªŒå‡ ä¹ä¸è½¯å¯¼èˆªæ— å¼‚ï¼Œä½†ä»£ä»·æ˜¯ä¼šæ¶ˆè€—æ›´å¤šçš„ç½‘ç»œå’Œè®¡ç®—èµ„æºã€‚é¢„æ¸²æŸ“å°±åƒæ˜¯ä½ åœ¨çœ‹ç”µå½±ä¹‹å‰ï¼Œç”µå½±é™¢å·²ç»æŠŠç”µå½±æ’­æ”¾åˆ°æŸä¸ªæš‚åœç‚¹ï¼Œç­‰ä½ ä¸€è¿›å»å°±èƒ½ç«‹åˆ»æ¥ç€çœ‹ã€‚</p>
<h2 data-id="heading-8">å››ã€Speculation Rules APIï¼šç°ä»£æµè§ˆå™¨çš„åˆ©å™¨</h2>
<p>ä¸ºäº†æ›´ç²¾ç»†åœ°æ§åˆ¶é¢„å–å’Œé¢„æ¸²æŸ“çš„è¡Œä¸ºï¼Œç°ä»£æµè§ˆå™¨å¼•å…¥äº†<strong>Speculation Rules API</strong> [1]ã€‚è¿™æ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ–°APIï¼Œå…è®¸å¼€å‘è€…é€šè¿‡å£°æ˜å¼çš„æ–¹å¼ï¼Œå®šä¹‰å“ªäº›é“¾æ¥åº”è¯¥è¢«é¢„å–æˆ–é¢„æ¸²æŸ“ï¼Œä»¥åŠåœ¨ä½•ç§æ¡ä»¶ä¸‹è¿›è¡Œã€‚å®ƒé€šè¿‡åœ¨HTMLä¸­æ’å…¥ä¸€ä¸ª<code>&lt;script type="speculationrules"&gt;</code>æ ‡ç­¾æ¥å®ç°ï¼Œæˆ–è€…é€šè¿‡HTTPå“åº”å¤´æ¥é…ç½®ã€‚</p>
<h3 data-id="heading-9">1. åŸºæœ¬è¯­æ³•</h3>
<p>Speculation Rules API çš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªJSONå¯¹è±¡ï¼Œå®ƒå®šä¹‰äº†é¢„å–å’Œé¢„æ¸²æŸ“çš„è§„åˆ™ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"speculationrules"</span>&gt;</span><span class="javascript">
  {
    <span class="hljs-string">"prerender"</span>: [
      {
        <span class="hljs-string">"where"</span>: {
          <span class="hljs-string">"and"</span>: [
            { <span class="hljs-string">"href_matches"</span>: <span class="hljs-string">"/*"</span> },
            { <span class="hljs-string">"not"</span>: { <span class="hljs-string">"href_matches"</span>: <span class="hljs-string">"/logout"</span> } },
            { <span class="hljs-string">"not"</span>: { <span class="hljs-string">"selector_matches"</span>: <span class="hljs-string">".no-prerender"</span> } }
          ]
        }
      }
    ],
    <span class="hljs-string">"prefetch"</span>: [
      {
        <span class="hljs-string">"urls"</span>: [<span class="hljs-string">"/next-page.html"</span>, <span class="hljs-string">"/another-page.html"</span>],
        <span class="hljs-string">"requires"</span>: [<span class="hljs-string">"anonymous-client-ip-when-cross-origin"</span>],
        <span class="hljs-string">"referrer_policy"</span>: <span class="hljs-string">"no-referrer"</span>
      }
    ]
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>è¿™æ®µä»£ç å®šä¹‰äº†ä¸¤ç»„è§„åˆ™ï¼šä¸€ç»„ç”¨äºé¢„æ¸²æŸ“ï¼Œå¦ä¸€ç»„ç”¨äºé¢„å–ã€‚<code>prerender</code>å’Œ<code>prefetch</code>æ•°ç»„ä¸­çš„æ¯ä¸ªå¯¹è±¡éƒ½ä»£è¡¨ä¸€ä¸ªè§„åˆ™é›†ã€‚</p>
<h3 data-id="heading-10">2. åŒ¹é…è§„åˆ™</h3>
<p>Speculation Rules API æä¾›äº†çµæ´»çš„åŒ¹é…æœºåˆ¶ï¼Œè®©ä½ å¯ä»¥ç²¾ç¡®æ§åˆ¶å“ªäº›é“¾æ¥è§¦å‘é¢„åŠ è½½è¡Œä¸ºï¼š</p>
<ul>
<li><code>href_matches</code>ï¼šé€šè¿‡URLæ¨¡å¼åŒ¹é…é“¾æ¥ã€‚ä¾‹å¦‚ï¼Œ<code>"href_matches": "/*"</code>è¡¨ç¤ºåŒ¹é…æ‰€æœ‰å†…éƒ¨é“¾æ¥ã€‚</li>
<li><code>selector_matches</code>ï¼šé€šè¿‡CSSé€‰æ‹©å™¨åŒ¹é…é“¾æ¥ã€‚ä¾‹å¦‚ï¼Œ<code>"selector_matches": ".no-prerender"</code>å¯ä»¥æ’é™¤å¸¦æœ‰ç‰¹å®šCSSç±»çš„é“¾æ¥ã€‚</li>
<li><code>where</code>ï¼šç»“åˆ<code>and</code>ã€<code>or</code>ã€<code>not</code>ç­‰é€»è¾‘æ“ä½œç¬¦ï¼Œæ„å»ºå¤æ‚çš„åŒ¹é…æ¡ä»¶ã€‚</li>
<li><code>urls</code>ï¼šç›´æ¥æŒ‡å®šè¦é¢„å–æˆ–é¢„æ¸²æŸ“çš„URLåˆ—è¡¨ã€‚</li>
</ul>
<p>è¿™äº›è§„åˆ™ä½¿å¾—å¼€å‘è€…èƒ½å¤Ÿæ ¹æ®ä¸šåŠ¡é€»è¾‘å’Œç”¨æˆ·è¡Œä¸ºï¼Œæ™ºèƒ½åœ°é€‰æ‹©éœ€è¦ä¼˜åŒ–çš„å¯¼èˆªè·¯å¾„ã€‚</p>
<h2 data-id="heading-11">äº”ã€è§¦å‘æ—¶æœºï¼ˆEagernessï¼‰ï¼šä½•æ—¶å¯åŠ¨é¢„åŠ è½½ï¼Ÿ</h2>
<p>Speculation Rules API å…è®¸æˆ‘ä»¬å®šä¹‰é¢„åŠ è½½çš„<strong>è§¦å‘æ—¶æœºï¼ˆEagernessï¼‰</strong>ï¼Œè¿™å¯¹äºå¹³è¡¡æ€§èƒ½æå‡å’Œèµ„æºæ¶ˆè€—è‡³å…³é‡è¦ã€‚ä¸åŒçš„è§¦å‘æ—¶æœºå†³å®šäº†æµè§ˆå™¨ä½•æ—¶å¼€å§‹é¢„å–æˆ–é¢„æ¸²æŸ“ã€‚</p>
<ul>
<li><code>immediate</code>ï¼šé¡µé¢åŠ è½½å®Œæˆåç«‹å³å¯åŠ¨é¢„åŠ è½½ã€‚è¿™ä¼šæ¶ˆè€—è¾ƒå¤šèµ„æºï¼Œä½†èƒ½æœ€å¤§ç¨‹åº¦åœ°æå‡ç”¨æˆ·ä½“éªŒã€‚</li>
<li><code>hover</code>ï¼šå½“ç”¨æˆ·é¼ æ ‡æ‚¬åœåœ¨é“¾æ¥ä¸Šæ—¶å¯åŠ¨é¢„åŠ è½½ã€‚è¿™æ˜¯ä¸€ç§è¾ƒä¸ºä¿å®ˆçš„ç­–ç•¥ï¼Œåªåœ¨ç”¨æˆ·è¡¨ç°å‡ºå…´è¶£æ—¶æ‰è¿›è¡Œé¢„åŠ è½½ã€‚</li>
<li><code>conservative</code>ï¼šä¸€ç§å¹³è¡¡ç­–ç•¥ï¼Œé€šå¸¸åœ¨ç”¨æˆ·æœ‰è¾ƒé«˜æ¦‚ç‡ç‚¹å‡»é“¾æ¥æ—¶è§¦å‘ï¼Œä¾‹å¦‚åœ¨è§†å£å†…å¯è§çš„é“¾æ¥ã€‚</li>
<li><code>moderate</code>ï¼šä»‹äº<code>conservative</code>å’Œ<code>immediate</code>ä¹‹é—´ï¼Œæ¯”<code>conservative</code>æ›´ç§¯æï¼Œä½†æ¯”<code>immediate</code>æ›´èŠ‚çœèµ„æºã€‚</li>
</ul>
<p>é€šè¿‡åˆç†é…ç½®<code>eagerness</code>å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æä¾›æµç•…ä½“éªŒçš„åŒæ—¶ï¼Œé¿å…ä¸å¿…è¦çš„èµ„æºæµªè´¹ã€‚</p>
<h2 data-id="heading-12">å…­ã€ä¼ ç»Ÿæ–¹æ¡ˆä¸å…¼å®¹æ€§ï¼š<code>link rel="prefetch"</code></h2>
<p>å°½ç®¡ Speculation Rules API åŠŸèƒ½å¼ºå¤§ï¼Œä½†å®ƒç›®å‰ä¸»è¦ç”±åŸºäºChromiumçš„æµè§ˆå™¨ï¼ˆå¦‚Chromeã€Edgeã€Operaï¼‰æ”¯æŒã€‚ä¸ºäº†å…¼å®¹ä¸æ”¯æŒæ–°APIçš„æµè§ˆå™¨ï¼Œæˆ‘ä»¬ä»ç„¶å¯ä»¥ä½¿ç”¨ä¼ ç»Ÿçš„<code>link</code>æ ‡ç­¾è¿›è¡Œé¢„å–ã€‚</p>
<h3 data-id="heading-13">1. <code>link rel="prefetch"</code> çš„ç”¨æ³•</h3>
<p><code>link rel="prefetch"</code> æ˜¯ä¸€ç§è¾ƒæ—©çš„é¢„å–æœºåˆ¶ï¼Œå®ƒå‘Šè¯‰æµè§ˆå™¨åœ¨ç©ºé—²æ—¶ä¸‹è½½æŒ‡å®šèµ„æºï¼Œä»¥ä¾¿å°†æ¥ä½¿ç”¨ã€‚å®ƒåªèƒ½ç”¨äºé¢„å–èµ„æºï¼Œä¸æ”¯æŒé¢„æ¸²æŸ“ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"prefetch"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/link-to-other-application"</span> /&gt;</span>
</code></pre>
<p>å½“æµè§ˆå™¨è§£æåˆ°è¿™ä¸ªæ ‡ç­¾æ—¶ï¼Œå®ƒä¼šåœ¨åå°æ‚„æ‚„åœ°ä¸‹è½½<code>/link-to-other-application</code>è¿™ä¸ªé¡µé¢åŠå…¶ç›¸å…³èµ„æºã€‚å½“ç”¨æˆ·çœŸæ­£è®¿é—®è¿™ä¸ªé“¾æ¥æ—¶ï¼Œé¡µé¢åŠ è½½é€Ÿåº¦ä¼šæ˜¾è‘—åŠ å¿«ã€‚</p>
<h3 data-id="heading-14">2. ä¸¤ç§æ–¹æ¡ˆçš„ç»“åˆä½¿ç”¨</h3>
<p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°† Speculation Rules API å’Œ <code>link rel="prefetch"</code> ç»“åˆä½¿ç”¨ï¼Œä»¥å®ç°æœ€ä½³çš„å…¼å®¹æ€§å’Œæ€§èƒ½ï¼š</p>
<ul>
<li>å¯¹äºæ”¯æŒ Speculation Rules API çš„æµè§ˆå™¨ï¼Œä¼˜å…ˆä½¿ç”¨è¯¥APIè¿›è¡Œç²¾ç»†åŒ–çš„é¢„å–å’Œé¢„æ¸²æŸ“ã€‚</li>
<li>å¯¹äºä¸æ”¯æŒçš„æµè§ˆå™¨ï¼Œåˆ™å›é€€åˆ° <code>link rel="prefetch"</code>ï¼Œè‡³å°‘æä¾›åŸºç¡€çš„é¢„å–èƒ½åŠ›ã€‚</li>
</ul>
<p>è¿™ç§æ¸è¿›å¢å¼ºçš„ç­–ç•¥ï¼Œç¡®ä¿äº†æ‰€æœ‰ç”¨æˆ·éƒ½èƒ½ä»ç¡¬å¯¼èˆªä¼˜åŒ–ä¸­å—ç›Šã€‚</p>
<h2 data-id="heading-15">ä¸ƒã€åœ¨ Next.js/React ä¸­çš„å®è·µ</h2>
<p>å¯¹äºä½¿ç”¨ Next.js æˆ– React ç­‰ç°ä»£å‰ç«¯æ¡†æ¶çš„å¼€å‘è€…æ¥è¯´ï¼Œå°†è¿™äº›ä¼˜åŒ–æŠ€æœ¯é›†æˆåˆ°åº”ç”¨ä¸­å˜å¾—æ›´åŠ ä¾¿æ·ã€‚æ¡†æ¶é€šå¸¸ä¼šæä¾›æŠ½è±¡å±‚ï¼Œç®€åŒ–APIçš„ä½¿ç”¨ã€‚</p>
<h3 data-id="heading-16">1. å°è£… <code>SpeculationRules</code> ç»„ä»¶</h3>
<p>åœ¨ React ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ª <code>SpeculationRules</code> ç»„ä»¶æ¥åŠ¨æ€åœ°æ’å…¥ Speculation Rulesï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Script</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'next/script'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">SpeculationRules</span>(<span class="hljs-params">{
  prefetchPathsOnHover,
  prerenderPathsOnHover,
}</span>) {
  <span class="hljs-keyword">const</span> speculationRules = {
    <span class="hljs-attr">prefetch</span>: [
      {
        <span class="hljs-attr">urls</span>: prefetchPathsOnHover,
        <span class="hljs-attr">eagerness</span>: <span class="hljs-string">'moderate'</span>,
      },
    ],
    <span class="hljs-attr">prerender</span>: [
      {
        <span class="hljs-attr">urls</span>: prerenderPathsOnHover,
        <span class="hljs-attr">eagerness</span>: <span class="hljs-string">'conservative'</span>,
      },
    ],
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Script</span>
      <span class="hljs-attr">dangerouslySetInnerHTML</span>=<span class="hljs-string">{{</span>
        <span class="hljs-attr">__html:</span> `${<span class="hljs-attr">JSON.stringify</span>(<span class="hljs-attr">speculationRules</span>)}`,
      }}
      <span class="hljs-attr">type</span>=<span class="hljs-string">"speculationrules"</span>
    /&gt;</span></span>
  );
}
</code></pre>
<p>è¿™ä¸ªç»„ä»¶æ¥æ”¶ <code>prefetchPathsOnHover</code> å’Œ <code>prerenderPathsOnHover</code> ç­‰å±æ€§ï¼Œå…è®¸å¼€å‘è€…é€šè¿‡ç»„ä»¶çš„propsæ¥é…ç½®é¢„å–å’Œé¢„æ¸²æŸ“çš„URLå’Œè§¦å‘æ—¶æœºï¼Œä»è€Œå®ç°å£°æ˜å¼çš„ä¼˜åŒ–ã€‚</p>
<h3 data-id="heading-17">2. è‡ªåŠ¨é¢„å–çš„å®ç°é€»è¾‘</h3>
<p>å¯¹äº <code>link rel="prefetch"</code>ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨ React ä¸­å°è£…ä¸€ä¸ªè‡ªå®šä¹‰çš„ <code>Link</code> ç»„ä»¶ï¼Œå®ç°é¼ æ ‡æ‚¬åœè‡ªåŠ¨é¢„å–çš„åŠŸèƒ½ã€‚è¿™é€šå¸¸æ¶‰åŠåˆ°åˆ›å»ºä¸€ä¸ªä¸Šä¸‹æ–‡ï¼ˆContextï¼‰æ¥è·Ÿè¸ªå·²ç»é¢„å–è¿‡çš„é“¾æ¥ï¼Œå¹¶åˆ©ç”¨ <code>onMouseOver</code> äº‹ä»¶æ¥è§¦å‘é¢„å–ã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { forwardRef, useContext } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-comment">// å‡è®¾ PrefetchLinksContext å·²ç»å®šä¹‰å¹¶æä¾›äº† prefetchHref æ–¹æ³•</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">PrefetchLinksContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./PrefetchLinksContext'</span>; 

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">Link</span> = (<span class="hljs-params">{ children, ...props }</span>) =&gt; {
    <span class="hljs-keyword">const</span> { prefetchHref } = <span class="hljs-title function_">useContext</span>(<span class="hljs-title class_">PrefetchLinksContext</span>);
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">onHoverPrefetch</span>(<span class="hljs-params"/>): <span class="hljs-keyword">void</span> {
      <span class="hljs-keyword">if</span> (!props.<span class="hljs-property">href</span>) {
        <span class="hljs-keyword">return</span>;
      }
      <span class="hljs-title function_">prefetchHref</span>(props.<span class="hljs-property">href</span>);
    }

    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span>
        {<span class="hljs-attr">...props</span>}
        <span class="hljs-attr">onMouseOver</span>=<span class="hljs-string">{props.prefetch</span> !== <span class="hljs-string">false</span> ? <span class="hljs-attr">onHoverPrefetch</span> <span class="hljs-attr">:</span> <span class="hljs-attr">undefined</span>}
      &gt;</span>
        {children}
      <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span>
    );
};
</code></pre>
<p>é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¼€å‘è€…å¯ä»¥è½»æ¾åœ°åœ¨åº”ç”¨ä¸­é›†æˆé¢„å–é€»è¾‘ï¼Œè€Œæ— éœ€æ‰‹åŠ¨ç®¡ç†æ¯ä¸ª <code>link</code> æ ‡ç­¾ã€‚å½“ç”¨æˆ·é¼ æ ‡æ‚¬åœåœ¨è‡ªå®šä¹‰çš„ <code>Link</code> ç»„ä»¶ä¸Šæ—¶ï¼Œç›¸å…³çš„é¡µé¢èµ„æºå°±ä¼šåœ¨åå°å¼€å§‹ä¸‹è½½ï¼Œä¸ºç”¨æˆ·ä¸‹ä¸€æ¬¡ç‚¹å‡»åšå¥½å‡†å¤‡ã€‚</p>
<h2 data-id="heading-18">å…«ã€å‚è€ƒé“¾æ¥</h2>
<ol>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FSpeculation_Rules_API" target="_blank" title="https://developer.mozilla.org/en-US/docs/Web/API/Speculation_Rules_API" ref="nofollow noopener noreferrer">Speculation Rules API - MDN Web Docs</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FHTTP%2FHeaders%2FLink%23prefetch" target="_blank" title="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Link#prefetch" ref="nofollow noopener noreferrer">Link prefetching - MDN Web Docs</a></li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2025 å¹´ HTML å¹´åº¦è°ƒæŸ¥æŠ¥å‘Šäº®ç‚¹é€Ÿè§ˆï¼]]></title>    <link>https://juejin.cn/post/7595033052796928041</link>    <guid>https://juejin.cn/post/7595033052796928041</guid>    <pubDate>2026-01-15T02:28:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595033052796928041" data-draft-id="7595033052796911657" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2025 å¹´ HTML å¹´åº¦è°ƒæŸ¥æŠ¥å‘Šäº®ç‚¹é€Ÿè§ˆï¼"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,HTML"/> <meta itemprop="datePublished" content="2026-01-15T02:28:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å†´ç¾½"/> <meta itemprop="url" content="https://juejin.cn/user/712139234359182"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2025 å¹´ HTML å¹´åº¦è°ƒæŸ¥æŠ¥å‘Šäº®ç‚¹é€Ÿè§ˆï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/712139234359182/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å†´ç¾½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-15T02:28:29.000Z" title="Thu Jan 15 2026 02:28:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. å‰è¨€</h2>
<p>è¿‘æ—¥ã€ŒState of HTML 2025ã€å¹´åº¦è°ƒæŸ¥æŠ¥å‘Šå…¬å¸ƒã€‚</p>
<p>è¿™ä»½æŠ¥å‘Šæ”¶é›†äº†å…¨çƒæ•°ä¸‡åå¼€å‘è€…çš„çœŸå®ä½¿ç”¨ç»éªŒå’Œåé¦ˆï¼Œå ªç§°æ˜¯ Web å¼€å‘é¢†åŸŸçš„â€œå¹´åº¦é£å‘æ ‡â€ã€‚</p>
<p>ä¸Šç¯‡æ–‡ç« æˆ‘ä»¬ç›˜ç‚¹äº†ä½¿ç”¨æœ€å¤šçš„åŠŸèƒ½ Top 5ï¼Œæœ¬ç¯‡æˆ‘ä»¬ç›˜ç‚¹ä¸‹è¿™ä»½æŠ¥å‘Šçš„äº®ç‚¹éƒ¨åˆ†ã€‚</p>
<p>æ³¨ï¼šç›®å‰ State of JS 2025 è¿˜æœªå…¬å¸ƒï¼Œæ¬¢è¿å…³æ³¨å…¬ä¼—å·ï¼šå†´ç¾½ï¼Œç¬¬ä¸€æ—¶é—´è·å–æŠ¥å‘Šç»“æœã€‚</p>
<h2 data-id="heading-1">2. å»¶è¿ŸåŠ è½½æœ€å¸¸ç”¨</h2>
<p>ä½¿ç”¨è¿‡å»¶è¿ŸåŠ è½½çš„å—è®¿è€…æ¯”ä¾‹é«˜è¾¾ 70%ï¼Œæ˜¯â€œæ–°å¯ç”¨ï¼ˆNewly Availableï¼‰â€åŠŸèƒ½ä¸­æœ€å¸¸ç”¨çš„åŠŸèƒ½ã€‚</p>

<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/848fa71e2c0846a2ba3dac2e7e9f3e4f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769048908&amp;x-signature=FyPLgpE5%2FqgVUKEp%2F2muV6xEH6Y%3D" alt="" loading="lazy"/></p>
<p>æ‰€è°“å»¶è¿ŸåŠ è½½ï¼ŒæŒ‡çš„æ˜¯ <code>loading="lazy"</code>å±æ€§ï¼Œè¯¥å±æ€§å¯ä»¥æŒ‡å®šä»…åœ¨éœ€è¦æ—¶åŠ è½½èµ„æºã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"picture.jpg"</span> <span class="hljs-attr">loading</span>=<span class="hljs-string">"lazy"</span> /&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">iframe</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"supplementary.html"</span> <span class="hljs-attr">loading</span>=<span class="hljs-string">"lazy"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span>
</code></pre>
<h2 data-id="heading-2">3. å†…å®¹å®‰å…¨ç­–ç•¥ï¼ˆCSPï¼‰ä½¿ç”¨é‡å¢é•¿æœ€å¤š</h2>
<p>å†…å®¹å®‰å…¨ç­–ç•¥çš„ä½¿ç”¨é‡åŒæ¯”å¢é•¿æœ€å¤§ã€‚</p>

<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a8c046e78cfb4e019fb1acef1a68fd85~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769048908&amp;x-signature=L8v2QyW%2BV1bMwPj2RVvzmbuansk%3D" alt="" loading="lazy"/></p>
<p>ä½†åŒæ—¶ï¼Œå†…å®¹å®‰å…¨ç­–ç•¥ä¹Ÿæ˜¯æœ€ä»¤äººå¤±æœ›çš„åŠŸèƒ½æ¦œé¦– ğŸ˜‚ã€‚</p>
<p>æ‰€è°“<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FHTTP%2FGuides%2FCSP" target="_blank" title="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Guides/CSP" ref="nofollow noopener noreferrer">å†…å®¹å®‰å…¨ç­–ç•¥</a>ï¼ŒæŒ‡çš„æ˜¯ç½‘ç«™å‘æµè§ˆå™¨å‘å‡ºçš„ä¸€ç»„æŒ‡ä»¤ï¼Œç”¨äºå¸®åŠ©æ£€æµ‹å’Œç¼“è§£ XSS æ”»å‡»ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">"Content-Security-Policy"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"default-src 'self'; img-src https://*; child-src 'none';"</span> /&gt;</span>
</code></pre>
<h2 data-id="heading-3">4. <code>&lt;input type="color"/&gt;</code>è¡¨å•ä½¿ç”¨æœ€å¹¿æ³›</h2>
<p><code>&lt;input type="color"/&gt;</code> æ˜¯ 2025 å¹´ä½¿ç”¨æœ€å¹¿æ³›çš„è¡¨å•ç›¸å…³åŠŸèƒ½ï¼Œ41.8% çš„å—è®¿è€…è¡¨ç¤ºä½¿ç”¨è¿‡è¯¥åŠŸèƒ½ã€‚</p>

<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/754ff2dd02ef4bf088b6d0e4c913dca6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769048908&amp;x-signature=tU2r3ZpkZPKOiimbnEoFc6DuR3g%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">5. JPEG XL æœ€å—å¥½è¯„</h2>
<p><code>JPEG XL</code> å’Œ <code>ctx.drawElement()</code> æ˜¯å›¾å½¢æ–¹é¢ä¸¤é¡¹æœ€å—å¥½è¯„çš„æ–°åŠŸèƒ½ã€‚</p>

<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e9702122b77c499b976792a7cffe6759~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769048908&amp;x-signature=GFD1C4JJX08415%2F6NSl8MEvCPxU%3D" alt="" loading="lazy"/></p>
<p>å…³äºè¿™ä¸¤é¡¹åŠŸèƒ½ï¼š</p>
<p>JPEG XL æ˜¯ä¸€ç§æ–°å‹å›¾åƒç¼–ç æ ¼å¼ï¼Œå®ƒç»“åˆäº†ç°æœ‰çš„ JPEG å’Œ WebP ç¼–ç æŠ€æœ¯ï¼Œæ—¨åœ¨æä¾›æ›´å¥½çš„å‹ç¼©æ€§èƒ½ã€æ›´é«˜çš„å›¾åƒè´¨é‡å’Œæ›´å¥½çš„é€‚ç”¨æ€§ï¼Œæ”¯æŒæœ‰æŸå’Œæ— æŸå‹ç¼©ã€‚å®ƒæ—¨åœ¨è¶…è¶Šç°æœ‰çš„ä½å›¾æ ¼å¼ï¼Œå¹¶æˆä¸ºå®ƒä»¬çš„é€šç”¨æ›¿ä»£ã€‚</p>
<p><code>ctx.drawElement()</code> ä½¿å¼€å‘è€…å¯ä»¥åœ¨ HTML å…ƒç´ ä¸Šç»˜åˆ¶ <code>&lt;canvas&gt;</code>ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"canvas"</span> <span class="hljs-attr">layoutsubtree</span>=<span class="hljs-string">"true"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Hello world!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"module"</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">const</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>);
  <span class="hljs-keyword">const</span> text = canvas.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">"p"</span>);
  ctx.<span class="hljs-title function_">drawElement</span>(text, <span class="hljs-number">30</span>, <span class="hljs-number">0</span>);
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h2 data-id="heading-5">6. hidden="until-found" å¥½å¤šäººä»æ²¡å¬è¯´è¿‡</h2>
<p>ä½ çŸ¥é“æµè§ˆå™¨ç°åœ¨å¯ä»¥ç©æ‰è¿·è—äº†å—ï¼Ÿ</p>
<p>è¿™ä¸ª <code>hidden="until-found"</code> å±æ€§å¯ä»¥è®©ä½ éšè—ä¸€ä¸ªå…ƒç´ ï¼Œç›´åˆ°ç”¨æˆ·è§¦å‘å®ƒï¼Œä¾‹å¦‚ç‚¹å‡»æŒ‡å‘å®ƒçš„é”šé“¾æ¥ã€‚</p>
<p>ç›®å‰è¿™é¡¹åŠŸèƒ½æ˜¾ç„¶è¿˜å¤„äºâ€œéšè—â€çŠ¶æ€ï¼Œ79.4% çš„å—è®¿è€…ç”šè‡³ä»æœªå¬è¯´è¿‡å®ƒã€‚</p>

<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/43f96ce03f5f4d6e8f9e611aa4e7704d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769048908&amp;x-signature=5tWnavG9F78QYELCstHdRbp4Kx8%3D" alt="" loading="lazy"/></p>
<p>è€Œä¸”æµè§ˆå™¨æ”¯æŒä»ç„¶æœ‰é™ï¼ˆè¯´çš„å°±æ˜¯ä½ ï¼ŒSafariï¼ï¼‰ã€‚</p>
<p>ä½†ä¸€æ—¦äº’æ“ä½œæ€§å¾—åˆ°æ”¹å–„ï¼Œå®ƒæˆ–è®¸ä¼šæˆä¸ºä½ å·¥å…·ç®±ä¸­ä¸å¯æˆ–ç¼ºçš„å·¥å…·ã€‚</p>
<h2 data-id="heading-6">7. Sanitizer API æœ€å—æ¬¢è¿</h2>
<p>æœ€å—æ¬¢è¿å’Œæœ€ä¸å—æ¬¢è¿çš„åŠŸèƒ½éƒ½ä¸å®‰å…¨æœ‰å…³ï¼š</p>
<p>Sanitizer API è·å¾—äº†æœ€å¤šçš„æ­£é¢è¯„ä»·ï¼Œè€Œå†…å®¹å®‰å…¨ç­–ç•¥åˆ™ä½åˆ—æœ€ä»¤äººå¤±æœ›çš„åŠŸèƒ½æ¦œé¦–ã€‚</p>

<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/728099509fcd4f83b56a20240c3704f3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769048908&amp;x-signature=WXfn%2B%2BpjruzMrJLMFx%2BrkiuBAqU%3D" alt="" loading="lazy"/></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FHTML_Sanitizer_API" target="_blank" title="https://developer.mozilla.org/en-US/docs/Web/API/HTML_Sanitizer_API" ref="nofollow noopener noreferrer">Sanitizer API</a> æŒ‡çš„æ˜¯ <code>element.setHTML()</code>ä»¥åŠ <code>Document.parseHTML()</code> APIï¼Œé€šè¿‡æ¸…ç† HTML ä¸­ä¸å—ä¿¡ä»»çš„å­—ç¬¦ä¸²æ¥é˜²æ­¢ XSS æ”»å‡»ã€‚</p>
<h2 data-id="heading-7">8. popover å¯ä»¥å¼€å§‹ç”¨äº†</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FPopover_API" target="_blank" title="https://developer.mozilla.org/en-US/docs/Web/API/Popover_API" ref="nofollow noopener noreferrer">Popover API</a> ä»Šå¹´æ­£å¼ä¸Šçº¿ï¼Œè¿™æ„å‘³ç€å®ƒç°åœ¨å·²è¢«å››å¤§ä¸»æµæµè§ˆå™¨å…¨é¢æ”¯æŒã€‚</p>
<p>æ‰€ä»¥ç°åœ¨æ­£æ˜¯å­¦ä¹ è¯¥ API çš„æœ€ä½³æ—¶æœºã€‚</p>
<p>å…¶å® Popover API å­¦èµ·æ¥ä¹Ÿå¾ˆç®€å•ï¼Œå®ƒä¸»è¦ç”¨äºå®ç°å¼¹å‡ºçª—å£ï¼Œä¾‹å¦‚è¦†ç›–å±‚ã€å¼¹çª—ã€èœå•ç­‰ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">popovertarget</span>=<span class="hljs-string">"foo"</span>&gt;</span>Toggle the popover<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"foo"</span> <span class="hljs-attr">popover</span>&gt;</span>Popover content<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>å€¼å¾—ä¸€æçš„æ˜¯ï¼ŒPopover API è¿˜æ˜¯å¼€å‘è€…æŠ•è¯‰ â€œæµè§ˆå™¨ä¸æ”¯æŒâ€ æœ€å¤šçš„åŠŸèƒ½ â€”â€” ä¸æ˜¯æµè§ˆå™¨æ²¡è·Ÿä¸Šï¼Œæ˜¯æˆ‘ä»¬è¿˜æ²¡ååº”è¿‡æ¥ â€œè¿™ä¸ªåŠŸèƒ½å·²ç»èƒ½ç”¨äº†â€ã€‚</p>
<h2 data-id="heading-8">9. blocking="render" çŸ¥é“çš„äººå¤šäº†èµ·æ¥</h2>
<p>é¡¾åæ€ä¹‰ï¼Œè¿™ä¸ªå±æ€§å¯ä»¥è®©<code>&lt;link&gt;</code>ã€<code>&lt;script&gt;</code>ã€<code>&lt;style&gt;</code>æ ‡ç­¾é˜»å¡é¡µé¢æ¸²æŸ“ï¼Œç›´åˆ°å®ƒä»¬å®Œå…¨åŠ è½½å®Œæ¯•ã€‚</p>
<p>ä¸è¿‡æµè§ˆå™¨æ”¯æŒå°šæœªå®Œå…¨åˆ°ä½ï¼Œä½†ä¸€æ—¦å¾—åˆ°å¹¿æ³›æ”¯æŒï¼Œå®ƒè‚¯å®šä¼šä½¿ç½‘é¡µåŠ è½½ç”¨æˆ·ä½“éªŒæ›´åŠ æµç•…ã€‚</p>

<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ca647447adf74d87ba6ce554e0f9f49e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769048908&amp;x-signature=yznUrDrsu4G4mLOZEFsChCHSdWA%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-9">10. ElementInternals å¯ä»¥å¼€å§‹ç”¨äº†</h2>
<p>å¦‚æœä½ ç¼–å†™è¿‡ Web ç»„ä»¶ï¼Œé‚£ä¹ˆä½ ä¸€å®šç»å¸¸éœ€è¦æŒ‡å®šè‡ªå®šä¹‰ä¼ªç±»ã€é»˜è®¤ ARIA å‚æ•°ï¼Œæˆ–è€…è®©ç»„ä»¶çš„è¡Œä¸ºåƒå¸¸è§„è¡¨å•å…ƒç´ ä¸€æ ·ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FElementInternals" target="_blank" title="https://developer.mozilla.org/en-US/docs/Web/API/ElementInternals" ref="nofollow noopener noreferrer">ElementInternals</a> ä¸ä»…èƒ½åšåˆ°è¿™äº›ï¼Œè¿˜èƒ½åšå¾—æ›´å¤šï¼</p>
<p>è€Œä¸”å®ƒåº”ç”¨å¹¿æ³›ï¼Œè‡ª 2023 å¹´ä»¥æ¥å°±å—åˆ°æ‰€æœ‰æµè§ˆå™¨çš„æ”¯æŒï¼</p>
<h2 data-id="heading-10">11. PaymentRequestAPI å€¼å¾—å¯†åˆ‡å…³æ³¨</h2>
<p>å¹¿å‘Šä¼¼ä¹å·²æˆä¸ºç½‘ç»œä¸–ç•Œä¸­ä¸å¯é¿å…çš„ä¸€éƒ¨åˆ†ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FPaymentRequest" target="_blank" title="https://developer.mozilla.org/en-US/docs/Web/API/PaymentRequest" ref="nofollow noopener noreferrer">PaymentRequest API</a> å¯èƒ½æ˜¯å®ç°æµè§ˆå™¨é›†æˆå¾®æ”¯ä»˜çš„ç¬¬ä¸€æ­¥ã€‚ä»…å‡­è¿™ä¸€ç‚¹ï¼Œå°±å€¼å¾—æˆ‘ä»¬å¯†åˆ‡å…³æ³¨ã€‚</p>
<p>ç›®å‰æ”¯æŒåº¦æ¬ ä½³ï¼š</p>

<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/13acd1c45f6d4f608e32949b3d65ac04~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769048908&amp;x-signature=2bkZmDJKtpcw7KEer8%2FzevEMIz4%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-11">12. <code>&lt;search&gt;</code>å¯ä»¥å¼€å§‹ç”¨äº†</h2>
<p><code>&lt;search&gt;</code> å…ƒç´ å±äºé‚£ç§åªéœ€ç¨åŠ åŠªåŠ›å°±èƒ½è½»æ¾æ·»åŠ åˆ°æœ€ä½³å®è·µåˆ—è¡¨ä¸­çš„å®ç”¨æŠ€å·§ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FHTML%2FReference%2FElements%2Fsearch" target="_blank" title="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/search" ref="nofollow noopener noreferrer"/> ç”¨äºå°è£…æœç´¢ç”¨æˆ·ç•Œé¢çš„è¯­ä¹‰å…ƒç´ ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">search</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"search.php"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>Find: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"q"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"search"</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>Go!<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">search</span>&gt;</span>
</code></pre>
<p>ç°åœ¨å®ƒå·²è¢«å››å¤§ä¸»æµæµè§ˆå™¨æ”¯æŒï¼Œæ²¡æœ‰ç†ç”±ä¸ä½¿ç”¨å®ƒäº†ã€‚</p>
<p>æˆ‘æ˜¯å†´ç¾½ï¼Œ10 å¹´ç¬”è€•ä¸è¾ï¼Œä¸“æ³¨å‰ç«¯é¢†åŸŸï¼Œæ›´æ–°äº† 10+ ç³»åˆ—ã€300+ ç¯‡åŸåˆ›æŠ€æœ¯æ–‡ç« ï¼Œç¿»è¯‘è¿‡ Svelteã€Solid.jsã€TypeScript æ–‡æ¡£ï¼Œè‘—æœ‰å°å†Œã€ŠNext.js å¼€å‘æŒ‡å—ã€‹ã€ã€ŠSvelte å¼€å‘æŒ‡å—ã€‹ã€ã€ŠAstro å®æˆ˜æŒ‡å—ã€‹ã€‚</p>
<p>æ¬¢è¿å›´è§‚æˆ‘çš„â€œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fyayujs.com%2F" target="_blank" title="https://yayujs.com/" ref="nofollow noopener noreferrer">ç½‘é¡µç‰ˆæœ‹å‹åœˆ</a>â€ï¼Œå…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼š<strong>å†´ç¾½ï¼ˆæˆ–æœç´¢ yayujsï¼‰</strong>ï¼Œæ¯å¤©åˆ†äº«å‰ç«¯çŸ¥è¯†ã€AI å¹²è´§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Node.js ç¼–ç¨‹å®æˆ˜ï¼šåšå®¢ç³»ç»Ÿ â€”â€” ç”¨æˆ·æ³¨å†Œç™»å½•ä¸æ–‡ç« ç®¡ç†]]></title>    <link>https://juejin.cn/post/7595053284915970088</link>    <guid>https://juejin.cn/post/7595053284915970088</guid>    <pubDate>2026-01-15T02:29:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595053284915970088" data-draft-id="7595108457494872079" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Node.js ç¼–ç¨‹å®æˆ˜ï¼šåšå®¢ç³»ç»Ÿ â€”â€” ç”¨æˆ·æ³¨å†Œç™»å½•ä¸æ–‡ç« ç®¡ç†"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,Node.js"/> <meta itemprop="datePublished" content="2026-01-15T02:29:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜çˆ±é’“é±¼"/> <meta itemprop="url" content="https://juejin.cn/user/2799775299157614"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Node.js ç¼–ç¨‹å®æˆ˜ï¼šåšå®¢ç³»ç»Ÿ â€”â€” ç”¨æˆ·æ³¨å†Œç™»å½•ä¸æ–‡ç« ç®¡ç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2799775299157614/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜çˆ±é’“é±¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-15T02:29:54.000Z" title="Thu Jan 15 2026 02:29:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å®Œæˆäº†åšå®¢ç³»ç»Ÿçš„ <strong>éœ€æ±‚åˆ†æ</strong>å’Œ<strong>æ•°æ®åº“è®¾è®¡</strong>ã€‚æœ‰äº†æ¸…æ™°çš„æ¨¡å‹å’Œæ•°æ®è¡¨ç»“æ„ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å°†è¿™äº›åŠŸèƒ½è½åœ°ï¼Œå¼€å§‹å¼€å‘æ ¸å¿ƒä¸šåŠ¡æ¨¡å—â€”â€”<strong>ç”¨æˆ·æ³¨å†Œç™»å½•ä¸æ–‡ç« ç®¡ç†</strong>ã€‚</p>
</blockquote>
<p>æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•ä½¿ç”¨ <strong>Node.js + Express + Sequelize / Mongoose</strong> æ­å»ºç”¨æˆ·è®¤è¯å’Œæ–‡ç« ç®¡ç†æ¥å£ï¼Œå®ç°å‰åç«¯å¯äº¤äº’çš„åŸºç¡€åŠŸèƒ½ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ç”¨æˆ·æ³¨å†Œä¸ç™»å½•æ¨¡å—</h2>
<p>ç”¨æˆ·æ¨¡å—æ˜¯åšå®¢ç³»ç»Ÿçš„åŸºç¡€æ¨¡å—ï¼Œæ¶‰åŠæ³¨å†Œã€ç™»å½•ã€é‰´æƒå’Œæƒé™æ§åˆ¶ã€‚</p>
<hr/>
<h3 data-id="heading-1">1. ç”¨æˆ·æ³¨å†Œ</h3>
<p>ç”¨æˆ·æ³¨å†Œæµç¨‹ï¼š</p>
<ol>
<li>å‰ç«¯æäº¤ç”¨æˆ·åã€é‚®ç®±å’Œå¯†ç </li>
<li>åç«¯éªŒè¯æ•°æ®åˆæ³•æ€§ï¼ˆå¿…å¡«ã€é‚®ç®±æ ¼å¼ã€å¯†ç å¼ºåº¦ï¼‰</li>
<li>å¯†ç åŠ å¯†ï¼ˆæ¨è bcryptï¼‰</li>
<li>å†™å…¥æ•°æ®åº“</li>
</ol>
<p>ç¤ºä¾‹ä»£ç ï¼ˆä½¿ç”¨ bcrypt å’Œ Sequelizeï¼‰ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> bcrypt = <span class="hljs-built_in">require</span>(<span class="hljs-string">'bcrypt'</span>);
<span class="hljs-keyword">const</span> { <span class="hljs-title class_">User</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../models'</span>);

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">register</span>(<span class="hljs-params">req, res</span>) {
  <span class="hljs-keyword">const</span> { username, email, password } = req.<span class="hljs-property">body</span>;
  
  <span class="hljs-keyword">if</span> (!username || !email || !password) {
    <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">status</span>(<span class="hljs-number">400</span>).<span class="hljs-title function_">json</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'å¿…å¡«å­—æ®µç¼ºå¤±'</span> });
  }

  <span class="hljs-keyword">const</span> hash = <span class="hljs-keyword">await</span> bcrypt.<span class="hljs-title function_">hash</span>(password, <span class="hljs-number">10</span>);

  <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> <span class="hljs-title class_">User</span>.<span class="hljs-title function_">create</span>({ username, email, <span class="hljs-attr">password</span>: hash });
  res.<span class="hljs-title function_">status</span>(<span class="hljs-number">201</span>).<span class="hljs-title function_">json</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'æ³¨å†ŒæˆåŠŸ'</span>, <span class="hljs-attr">userId</span>: user.<span class="hljs-property">id</span> });
}
</code></pre>
<hr/>
<h3 data-id="heading-2">2. ç”¨æˆ·ç™»å½•</h3>
<p>ç”¨æˆ·ç™»å½•æµç¨‹ï¼š</p>
<ol>
<li>å‰ç«¯æäº¤é‚®ç®±/ç”¨æˆ·åå’Œå¯†ç </li>
<li>åç«¯æŸ¥è¯¢æ•°æ®åº“ï¼ŒéªŒè¯å¯†ç </li>
<li>ç”Ÿæˆ JWT Token è¿”å›ç»™å‰ç«¯</li>
<li>åç»­è¯·æ±‚å¸¦ä¸Š Tokenï¼Œè¿›è¡Œæƒé™éªŒè¯</li>
</ol>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> jwt = <span class="hljs-built_in">require</span>(<span class="hljs-string">'jsonwebtoken'</span>);

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">login</span>(<span class="hljs-params">req, res</span>) {
  <span class="hljs-keyword">const</span> { email, password } = req.<span class="hljs-property">body</span>;
  <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> <span class="hljs-title class_">User</span>.<span class="hljs-title function_">findOne</span>({ <span class="hljs-attr">where</span>: { email } });
  
  <span class="hljs-keyword">if</span> (!user) <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">status</span>(<span class="hljs-number">404</span>).<span class="hljs-title function_">json</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'ç”¨æˆ·ä¸å­˜åœ¨'</span> });

  <span class="hljs-keyword">const</span> valid = <span class="hljs-keyword">await</span> bcrypt.<span class="hljs-title function_">compare</span>(password, user.<span class="hljs-property">password</span>);
  <span class="hljs-keyword">if</span> (!valid) <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">status</span>(<span class="hljs-number">401</span>).<span class="hljs-title function_">json</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'å¯†ç é”™è¯¯'</span> });

  <span class="hljs-keyword">const</span> token = jwt.<span class="hljs-title function_">sign</span>({ <span class="hljs-attr">id</span>: user.<span class="hljs-property">id</span>, <span class="hljs-attr">role</span>: user.<span class="hljs-property">role</span> }, <span class="hljs-string">'secretKey'</span>, { <span class="hljs-attr">expiresIn</span>: <span class="hljs-string">'1h'</span> });
  res.<span class="hljs-title function_">json</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'ç™»å½•æˆåŠŸ'</span>, token });
}
</code></pre>
<hr/>
<h3 data-id="heading-3">3. JWT é‰´æƒä¸­é—´ä»¶</h3>
<p>ä¸ºäº†ä¿æŠ¤éœ€è¦ç™»å½•çš„æ¥å£ï¼Œå¯ä»¥ä½¿ç”¨ä¸­é—´ä»¶éªŒè¯ JWTï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> jwt = <span class="hljs-built_in">require</span>(<span class="hljs-string">'jsonwebtoken'</span>);

<span class="hljs-keyword">function</span> <span class="hljs-title function_">authMiddleware</span>(<span class="hljs-params">req, res, next</span>) {
  <span class="hljs-keyword">const</span> token = req.<span class="hljs-property">headers</span>[<span class="hljs-string">'authorization'</span>]?.<span class="hljs-title function_">split</span>(<span class="hljs-string">' '</span>)[<span class="hljs-number">1</span>];
  <span class="hljs-keyword">if</span> (!token) <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">status</span>(<span class="hljs-number">401</span>).<span class="hljs-title function_">json</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'æœªæˆæƒ'</span> });

  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> decoded = jwt.<span class="hljs-title function_">verify</span>(token, <span class="hljs-string">'secretKey'</span>);
    req.<span class="hljs-property">user</span> = decoded;
    <span class="hljs-title function_">next</span>();
  } <span class="hljs-keyword">catch</span> (err) {
    res.<span class="hljs-title function_">status</span>(<span class="hljs-number">401</span>).<span class="hljs-title function_">json</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'Tokenæ— æ•ˆ'</span> });
  }
}
</code></pre>
<hr/>
<h2 data-id="heading-4">äºŒã€æ–‡ç« ç®¡ç†æ¨¡å—</h2>
<p>æ–‡ç« æ¨¡å—æ˜¯åšå®¢ç³»ç»Ÿçš„æ ¸å¿ƒä¸šåŠ¡ï¼Œä¸»è¦æ¶‰åŠ <strong>æ–‡ç« å¢åˆ æ”¹æŸ¥</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-5">1. å‘å¸ƒæ–‡ç« </h3>
<p>ç®¡ç†å‘˜æˆ–ç™»å½•ç”¨æˆ·å¯ä»¥å‘å¸ƒæ–‡ç« ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createArticle</span>(<span class="hljs-params">req, res</span>) {
  <span class="hljs-keyword">const</span> { title, content, categoryId, tags } = req.<span class="hljs-property">body</span>;
  
  <span class="hljs-keyword">const</span> article = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Article</span>.<span class="hljs-title function_">create</span>({
    title,
    content,
    <span class="hljs-attr">author_id</span>: req.<span class="hljs-property">user</span>.<span class="hljs-property">id</span>,
    <span class="hljs-attr">category_id</span>: categoryId
  });

  <span class="hljs-comment">// å¯é€‰ï¼šå…³è”æ ‡ç­¾</span>
  <span class="hljs-keyword">if</span> (tags &amp;&amp; tags.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">await</span> article.<span class="hljs-title function_">addTags</span>(tags); <span class="hljs-comment">// Sequelize å¤šå¯¹å¤šå…³ç³»</span>
  }

  res.<span class="hljs-title function_">status</span>(<span class="hljs-number">201</span>).<span class="hljs-title function_">json</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'æ–‡ç« å‘å¸ƒæˆåŠŸ'</span>, <span class="hljs-attr">articleId</span>: article.<span class="hljs-property">id</span> });
}
</code></pre>
<hr/>
<h3 data-id="heading-6">2. ç¼–è¾‘æ–‡ç« </h3>
<p>ç”¨æˆ·å¯ä»¥ç¼–è¾‘è‡ªå·±å‘å¸ƒçš„æ–‡ç« ï¼Œç®¡ç†å‘˜å¯ä»¥ç¼–è¾‘æ‰€æœ‰æ–‡ç« ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">updateArticle</span>(<span class="hljs-params">req, res</span>) {
  <span class="hljs-keyword">const</span> { id } = req.<span class="hljs-property">params</span>;
  <span class="hljs-keyword">const</span> { title, content, categoryId } = req.<span class="hljs-property">body</span>;

  <span class="hljs-keyword">const</span> article = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Article</span>.<span class="hljs-title function_">findByPk</span>(id);
  <span class="hljs-keyword">if</span> (!article) <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">status</span>(<span class="hljs-number">404</span>).<span class="hljs-title function_">json</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'æ–‡ç« ä¸å­˜åœ¨'</span> });

  <span class="hljs-keyword">if</span> (req.<span class="hljs-property">user</span>.<span class="hljs-property">role</span> !== <span class="hljs-string">'admin'</span> &amp;&amp; article.<span class="hljs-property">author_id</span> !== req.<span class="hljs-property">user</span>.<span class="hljs-property">id</span>) {
    <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">status</span>(<span class="hljs-number">403</span>).<span class="hljs-title function_">json</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'æ— æƒé™ç¼–è¾‘è¯¥æ–‡ç« '</span> });
  }

  article.<span class="hljs-property">title</span> = title || article.<span class="hljs-property">title</span>;
  article.<span class="hljs-property">content</span> = content || article.<span class="hljs-property">content</span>;
  article.<span class="hljs-property">category_id</span> = categoryId || article.<span class="hljs-property">category_id</span>;

  <span class="hljs-keyword">await</span> article.<span class="hljs-title function_">save</span>();
  res.<span class="hljs-title function_">json</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'æ–‡ç« æ›´æ–°æˆåŠŸ'</span> });
}
</code></pre>
<hr/>
<h3 data-id="heading-7">3. åˆ é™¤æ–‡ç« </h3>
<p>åˆ é™¤æ–‡ç« ä¹Ÿéœ€åšæƒé™æ£€æŸ¥ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">deleteArticle</span>(<span class="hljs-params">req, res</span>) {
  <span class="hljs-keyword">const</span> { id } = req.<span class="hljs-property">params</span>;

  <span class="hljs-keyword">const</span> article = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Article</span>.<span class="hljs-title function_">findByPk</span>(id);
  <span class="hljs-keyword">if</span> (!article) <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">status</span>(<span class="hljs-number">404</span>).<span class="hljs-title function_">json</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'æ–‡ç« ä¸å­˜åœ¨'</span> });

  <span class="hljs-keyword">if</span> (req.<span class="hljs-property">user</span>.<span class="hljs-property">role</span> !== <span class="hljs-string">'admin'</span> &amp;&amp; article.<span class="hljs-property">author_id</span> !== req.<span class="hljs-property">user</span>.<span class="hljs-property">id</span>) {
    <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">status</span>(<span class="hljs-number">403</span>).<span class="hljs-title function_">json</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'æ— æƒé™åˆ é™¤è¯¥æ–‡ç« '</span> });
  }

  <span class="hljs-keyword">await</span> article.<span class="hljs-title function_">destroy</span>();
  res.<span class="hljs-title function_">json</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'æ–‡ç« åˆ é™¤æˆåŠŸ'</span> });
}
</code></pre>
<hr/>
<h3 data-id="heading-8">4. è·å–æ–‡ç« åˆ—è¡¨ä¸è¯¦æƒ…</h3>
<p>æ–‡ç« åˆ—è¡¨æ¥å£å¯ä»¥æ”¯æŒåˆ†é¡µã€ç­›é€‰å’Œæ’åºï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">listArticles</span>(<span class="hljs-params">req, res</span>) {
  <span class="hljs-keyword">const</span> { page = <span class="hljs-number">1</span>, pageSize = <span class="hljs-number">10</span>, categoryId } = req.<span class="hljs-property">query</span>;

  <span class="hljs-keyword">const</span> where = {};
  <span class="hljs-keyword">if</span> (categoryId) where.<span class="hljs-property">category_id</span> = categoryId;

  <span class="hljs-keyword">const</span> articles = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Article</span>.<span class="hljs-title function_">findAndCountAll</span>({
    where,
    <span class="hljs-attr">order</span>: [[<span class="hljs-string">'created_at'</span>, <span class="hljs-string">'DESC'</span>]],
    <span class="hljs-attr">offset</span>: (page - <span class="hljs-number">1</span>) * pageSize,
    <span class="hljs-attr">limit</span>: <span class="hljs-built_in">parseInt</span>(pageSize)
  });

  res.<span class="hljs-title function_">json</span>({ <span class="hljs-attr">total</span>: articles.<span class="hljs-property">count</span>, <span class="hljs-attr">data</span>: articles.<span class="hljs-property">rows</span> });
}

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getArticleDetail</span>(<span class="hljs-params">req, res</span>) {
  <span class="hljs-keyword">const</span> { id } = req.<span class="hljs-property">params</span>;
  <span class="hljs-keyword">const</span> article = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Article</span>.<span class="hljs-title function_">findByPk</span>(id, { <span class="hljs-attr">include</span>: [<span class="hljs-string">'author'</span>, <span class="hljs-string">'tags'</span>] });
  <span class="hljs-keyword">if</span> (!article) <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">status</span>(<span class="hljs-number">404</span>).<span class="hljs-title function_">json</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'æ–‡ç« ä¸å­˜åœ¨'</span> });
  res.<span class="hljs-title function_">json</span>(article);
}
</code></pre>
<hr/>
<h2 data-id="heading-9">ä¸‰ã€æ¥å£å®‰å…¨ä¸æœ€ä½³å®è·µ</h2>
<ul>
<li>å¯¹æ•æ„Ÿæ¥å£ï¼ˆå‘å¸ƒã€ç¼–è¾‘ã€åˆ é™¤ï¼‰ä½¿ç”¨ JWT é‰´æƒ</li>
<li>å¯¹ç”¨æˆ·æ“ä½œè®°å½•æ—¥å¿—ï¼Œä¾¿äºè¿½è¸ªé—®é¢˜</li>
<li>å¯¹æ–‡ç« å†…å®¹å¯åš XSS è¿‡æ»¤</li>
<li>åˆ†é¡µæ¥å£é˜²æ­¢ä¸€æ¬¡æ€§æŸ¥è¯¢è¿‡å¤šæ•°æ®</li>
</ul>
<p>è¿™äº›æªæ–½èƒ½æœ‰æ•ˆæå‡ç³»ç»Ÿå®‰å…¨æ€§å’Œç¨³å®šæ€§ã€‚</p>
<hr/>
<h2 data-id="heading-10">å››ã€æ€»ç»“</h2>
<p>ç”¨æˆ·æ³¨å†Œç™»å½•å’Œæ–‡ç« ç®¡ç†æ˜¯åšå®¢ç³»ç»Ÿçš„æ ¸å¿ƒåŠŸèƒ½æ¨¡å—ã€‚é€šè¿‡åˆç†è®¾è®¡æ¥å£ã€æƒé™æ§åˆ¶å’Œæ•°æ®æ¨¡å‹ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°ä¸€ä¸ªåŸºç¡€å¯ç”¨ã€å¯æ‰©å±•çš„åç«¯æœåŠ¡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Less vs Scss å…¨è§£æï¼šä»è¯­æ³•åˆ°å®æˆ˜çš„å‰ç«¯æ ·å¼é¢„å¤„ç†å™¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7595115707161083945</link>    <guid>https://juejin.cn/post/7595115707161083945</guid>    <pubDate>2026-01-15T02:29:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595115707161083945" data-draft-id="7595061185423425542" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Less vs Scss å…¨è§£æï¼šä»è¯­æ³•åˆ°å®æˆ˜çš„å‰ç«¯æ ·å¼é¢„å¤„ç†å™¨æŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-15T02:29:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¥‹æ–—çŒ¿"/> <meta itemprop="url" content="https://juejin.cn/user/1702522294632830"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Less vs Scss å…¨è§£æï¼šä»è¯­æ³•åˆ°å®æˆ˜çš„å‰ç«¯æ ·å¼é¢„å¤„ç†å™¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1702522294632830/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¥‹æ–—çŒ¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-15T02:29:41.000Z" title="Thu Jan 15 2026 02:29:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼ŒCSS ä½œä¸ºæ ·å¼æè¿°è¯­è¨€ï¼Œè™½ç®€å•ç›´è§‚ä½†ç¼ºä¹å˜é‡ã€åµŒå¥—ã€é€»è¾‘è¿ç®—ç­‰â€œç¼–ç¨‹ç‰¹æ€§â€ï¼Œé¢å¯¹å¤æ‚é¡¹ç›®æ—¶æ˜“å‡ºç°ä»£ç å†—ä½™ã€ç»´æŠ¤å›°éš¾ç­‰é—®é¢˜ã€‚Less å’Œ Scssï¼ˆSass çš„æ–°è¯­æ³•ï¼‰ä½œä¸ºä¸¤å¤§ä¸»æµ CSS é¢„å¤„ç†å™¨ï¼Œé€šè¿‡è¡¥å……ç¼–ç¨‹èƒ½åŠ›ï¼Œå¤§å¹…æå‡äº†æ ·å¼å¼€å‘æ•ˆç‡ä¸å¯ç»´æŠ¤æ€§ã€‚</p>
<p>æœ¬æ–‡å°†ä»è¯­æ³•åŸºç¡€ã€æ ¸å¿ƒç‰¹æ€§ã€å®æˆ˜å·®å¼‚ã€é€‰å‹å»ºè®®å››ä¸ªç»´åº¦ï¼Œå¸®ä½ å½»åº•ææ‡‚ Less ä¸ Scss çš„ä½¿ç”¨åœºæ™¯ä¸æŠ€å·§ï¼Œç»“åˆå®é™…å¼€å‘æ¡ˆä¾‹ç»™å‡ºè½åœ°å»ºè®®ï¼Œæ— è®ºæ˜¯æ–°æ‰‹å…¥é—¨è¿˜æ˜¯è€æ‰‹è¿›é˜¶éƒ½èƒ½æœ‰æ‰€æ”¶è·ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€åŸºç¡€è®¤çŸ¥ï¼šLess ä¸ Scss æ ¸å¿ƒåŒºåˆ«</h2>
<p>ä¸¤è€…æœ¬è´¨éƒ½æ˜¯â€œCSS å¢å¼ºå·¥å…·â€ï¼Œæœ€ç»ˆéƒ½ä¼šç¼–è¯‘ä¸ºåŸç”Ÿ CSS ä¾›æµè§ˆå™¨è¯†åˆ«ï¼Œä½†åœ¨è®¾è®¡ç†å¿µã€è¯­æ³•é£æ ¼ã€ç”Ÿæ€æ”¯æŒä¸Šå­˜åœ¨å·®å¼‚ï¼š</p>
<ul>
<li><strong>Less</strong>ï¼š2009 å¹´è¯ç”Ÿï¼Œå®šä½â€œç®€æ´æ˜“ç”¨â€ï¼Œè¯­æ³•æ›´è´´è¿‘åŸç”Ÿ CSSï¼Œæ— ä¸¥æ ¼ç¼©è¿›è¦æ±‚ï¼Œä¸Šæ‰‹æˆæœ¬ä½ï¼Œé€‚åˆä¸­å°å‹é¡¹ç›®æˆ–å¯¹ç¼–è¯‘é€Ÿåº¦æœ‰è¦æ±‚çš„åœºæ™¯ï¼Œå¸¸ä¸ Vue ç”Ÿæ€æ­é…ã€‚</li>
<li><strong>Scss</strong>ï¼šSass 3.0 åæ¨å‡ºçš„æ–°è¯­æ³•ï¼ˆå…¼å®¹æ—§ç‰ˆ .sass ç¼©è¿›è¯­æ³•ï¼‰ï¼Œå®šä½â€œåŠŸèƒ½å¼ºå¤§â€ï¼Œè¯­æ³•æ›´æ¥è¿‘ç¼–ç¨‹è¯­è¨€ï¼ˆå¦‚ Rubyï¼‰ï¼Œæ”¯æŒæ›´ä¸°å¯Œçš„é€»è¾‘æ§åˆ¶ã€æ¨¡å—ç³»ç»Ÿï¼Œç”Ÿæ€æ›´å®Œå–„ï¼Œå¸¸ä¸ Reactã€Angular ç”Ÿæ€æ­é…ï¼Œä¹Ÿæ˜¯ç›®å‰ä¼ä¸šçº§é¡¹ç›®çš„ä¸»æµé€‰æ‹©ã€‚</li>
</ul>
<p>æ ¸å¿ƒç»“è®ºï¼šLess èƒœåœ¨ç®€æ´çµæ´»ï¼ŒScss èƒœåœ¨åŠŸèƒ½å…¨é¢ä¸ç”Ÿæ€æˆç†Ÿã€‚</p>
<h2 data-id="heading-1">äºŒã€è¯­æ³•åŸºç¡€ï¼šå¿«é€Ÿä¸Šæ‰‹ä¸¤å¤§é¢„å¤„ç†å™¨</h2>
<p>ä»¥ä¸‹ä»å‰ç«¯å¼€å‘é«˜é¢‘éœ€æ±‚å‡ºå‘ï¼Œå¯¹æ¯”ä¸¤è€…æ ¸å¿ƒè¯­æ³•çš„ä½¿ç”¨æ–¹å¼ï¼Œå‡é™„å¯ç›´æ¥å¤ç”¨çš„ä»£ç ç¤ºä¾‹ã€‚</p>
<h3 data-id="heading-2">1. å˜é‡ï¼ˆVariablesï¼‰</h3>
<p>ç”¨äºå­˜å‚¨é¢œè‰²ã€å°ºå¯¸ã€å­—ä½“ç­‰é€šç”¨å€¼ï¼Œå‡å°‘é‡å¤ä¹¦å†™ï¼Œä¾¿äºå…¨å±€ä¿®æ”¹ã€‚</p>
<h4 data-id="heading-3">Less è¯­æ³•</h4>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// å®šä¹‰å˜é‡</span>
<span class="hljs-variable">@primary-color:</span> <span class="hljs-number">#1890ff</span>;
<span class="hljs-variable">@font-size-base:</span> <span class="hljs-number">14px</span>;
<span class="hljs-variable">@border-radius:</span> <span class="hljs-number">4px</span>;

<span class="hljs-comment">// ä½¿ç”¨å˜é‡</span>
<span class="hljs-selector-class">.button</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-variable">@primary-color</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-variable">@font-size-base</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-variable">@border-radius</span>;
}
</code></pre>
<h4 data-id="heading-4">Scss è¯­æ³•</h4>
<pre><code class="hljs language-css" lang="css">// å®šä¹‰å˜é‡
$primary-<span class="hljs-attribute">color</span>: <span class="hljs-number">#1890ff</span>;
$<span class="hljs-attribute">font-size</span>-base: <span class="hljs-number">14px</span>;
$<span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;

// ç‰¹æ®Šç”¨æ³•ï¼šé»˜è®¤å˜é‡ï¼ˆå¯è¢«è¦†ç›–ï¼‰
$secondary-<span class="hljs-attribute">color</span>: <span class="hljs-number">#f5f5f5</span> !default;

// ä½¿ç”¨å˜é‡
<span class="hljs-selector-class">.button</span> {
  <span class="hljs-attribute">color</span>: $primary-color;
  <span class="hljs-attribute">font-size</span>: $font-size-base;
  <span class="hljs-attribute">border-radius</span>: $border-radius;
}
</code></pre>
<p>å·®å¼‚ç‚¹ï¼šLess ç”¨ <code>@</code> å®šä¹‰å˜é‡ï¼ŒScss ç”¨ <code>$</code>ï¼›Scss æ”¯æŒ <code>!default</code> å£°æ˜é»˜è®¤å˜é‡ï¼Œé€‚åˆç»„ä»¶åº“å¼€å‘ï¼ˆå¤–éƒ¨å¯è¦†ç›–å†…éƒ¨é»˜è®¤å€¼ï¼‰ï¼ŒLess éœ€é€šè¿‡ä½œç”¨åŸŸæ§åˆ¶å˜é‡è¦†ç›–ã€‚</p>
<h3 data-id="heading-5">2. åµŒå¥—ï¼ˆNestingï¼‰</h3>
<p>æ¨¡æ‹Ÿ HTML å±‚çº§ç»“æ„ï¼Œç®€åŒ–åä»£é€‰æ‹©å™¨ä¹¦å†™ï¼Œè®©æ ·å¼ç»“æ„æ›´æ¸…æ™°ï¼Œé¿å…é€‰æ‹©å™¨å†—ä½™ã€‚</p>
<h4 data-id="heading-6">Less è¯­æ³•</h4>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.card</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#eee</span>;

  // åä»£åµŒå¥—
  <span class="hljs-selector-class">.card-header</span> {
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>;
    <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">600</span>;
  }

  // ä¼ªç±»åµŒå¥—ï¼ˆ&amp; è¡¨ç¤ºçˆ¶é€‰æ‹©å™¨ï¼‰
  &amp;<span class="hljs-selector-pseudo">:hover</span> {
    <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">2px</span> <span class="hljs-number">8px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.1</span>);
  }

  // å­ä»£é€‰æ‹©å™¨
  &gt; <span class="hljs-selector-class">.card-body</span> {
    <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">10px</span>;
  }
}
</code></pre>
<h4 data-id="heading-7">Scss è¯­æ³•</h4>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.card</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#eee</span>;

  // è¯­æ³•ä¸ Less ä¸€è‡´ï¼Œæ”¯æŒ &amp; ç¬¦å·
  <span class="hljs-selector-class">.card-header</span> {
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>;
    <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">600</span>;
  }

  &amp;<span class="hljs-selector-pseudo">:hover</span> {
    <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">2px</span> <span class="hljs-number">8px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.1</span>);
  }

  &gt; <span class="hljs-selector-class">.card-body</span> {
    <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">10px</span>;
  }
}
</code></pre>
<p>å·®å¼‚ç‚¹ï¼šåµŒå¥—è¯­æ³•åŸºæœ¬ä¸€è‡´ï¼ŒScss æ”¯æŒæ›´å¤æ‚çš„åµŒå¥—é€»è¾‘ï¼ˆå¦‚åµŒå¥—æ¡ä»¶åˆ¤æ–­ï¼‰ï¼ŒLess åµŒå¥—æ›´ä¾§é‡ç®€æ´æ€§ã€‚</p>
<h3 data-id="heading-8">3. æ··åˆï¼ˆMixinsï¼‰</h3>
<p>ç”¨äºå°è£…å¯å¤ç”¨çš„æ ·å¼ç‰‡æ®µï¼ˆå¦‚æ¸…é™¤æµ®åŠ¨ã€åœ†è§’ã€é˜´å½±ï¼‰ï¼Œæ”¯æŒå‚æ•°ä¼ é€’ï¼Œå®ç°æ ·å¼æ¨¡å—åŒ–ã€‚</p>
<h4 data-id="heading-9">Less è¯­æ³•</h4>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// æ— å‚æ•°æ··åˆ</span>
<span class="hljs-selector-class">.clearfix</span>() {
  <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-pseudo">::after</span> {
    <span class="hljs-attribute">content</span>: <span class="hljs-string">''</span>;
    <span class="hljs-attribute">display</span>: table;
    <span class="hljs-attribute">clear</span>: both;
  }
}

<span class="hljs-comment">// å¸¦å‚æ•°æ··åˆï¼ˆå¯è®¾é»˜è®¤å€¼ï¼‰</span>
<span class="hljs-selector-class">.box-shadow</span>(<span class="hljs-variable">@x</span>: <span class="hljs-number">0</span>, <span class="hljs-variable">@y</span>: <span class="hljs-number">2px</span>, <span class="hljs-variable">@blur</span>: <span class="hljs-number">8px</span>, <span class="hljs-variable">@color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.1</span>)) {
  <span class="hljs-attribute">box-shadow</span>: <span class="hljs-variable">@x</span> <span class="hljs-variable">@y</span> <span class="hljs-variable">@blur</span> <span class="hljs-variable">@color</span>;
}

<span class="hljs-comment">// ä½¿ç”¨æ··åˆ</span>
<span class="hljs-selector-class">.container</span> {
  <span class="hljs-selector-class">.clearfix</span>();
  <span class="hljs-selector-class">.box-shadow</span>(<span class="hljs-number">0</span>, <span class="hljs-number">4px</span>, <span class="hljs-number">12px</span>, <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.2</span>));
}
</code></pre>
<h4 data-id="heading-10">Scss è¯­æ³•</h4>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// æ— å‚æ•°æ··åˆ</span>
<span class="hljs-variable">@mixin</span> clearfix {
  <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-pseudo">::after</span> {
    <span class="hljs-attribute">content</span>: <span class="hljs-string">''</span>;
    <span class="hljs-attribute">display</span>: table;
    <span class="hljs-attribute">clear</span>: both;
  }
}

<span class="hljs-comment">// å¸¦å‚æ•°æ··åˆï¼ˆé»˜è®¤å€¼è¯­æ³•ä¸åŒï¼‰</span>
<span class="hljs-variable">@mixin</span> <span class="hljs-built_in">box-shadow</span>($<span class="hljs-attribute">x</span>: <span class="hljs-number">0</span>, $<span class="hljs-attribute">y</span>: <span class="hljs-number">2px</span>, $<span class="hljs-attribute">blur</span>: <span class="hljs-number">8px</span>, $<span class="hljs-attribute">color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.1</span>)) {
  <span class="hljs-attribute">box-shadow</span>: $x $y $blur $color;
}

<span class="hljs-comment">// ä½¿ç”¨æ··åˆï¼ˆ@include å…³é”®å­—ï¼‰</span>
.container {
  <span class="hljs-variable">@include</span> clearfix;
  <span class="hljs-variable">@include</span> <span class="hljs-built_in">box-shadow</span>(<span class="hljs-number">0</span>, <span class="hljs-number">4px</span>, <span class="hljs-number">12px</span>, <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.2</span>));
}
</code></pre>
<p>å·®å¼‚ç‚¹ï¼šLess æ··åˆæ— éœ€å…³é”®å­—ï¼Œç›´æ¥è°ƒç”¨ï¼›Scss éœ€ç”¨ <code>@mixin</code> å®šä¹‰ã€<code>@include</code> è°ƒç”¨ï¼Œå‚æ•°ä¼ é€’è¯­æ³•æ›´ä¸¥è°¨ï¼Œæ”¯æŒå¯å˜å‚æ•°ï¼ˆå¦‚ <code>$args...</code>ï¼‰ã€‚</p>
<h3 data-id="heading-11">4. ç»§æ‰¿ï¼ˆExtendï¼‰</h3>
<p>ç”¨äºå¤ç”¨é€‰æ‹©å™¨çš„æ ·å¼ï¼Œä¸æ··åˆçš„åŒºåˆ«åœ¨äºï¼šç»§æ‰¿æ˜¯â€œåˆå¹¶é€‰æ‹©å™¨â€ï¼Œå‡å°‘ CSS ä½“ç§¯ï¼›æ··åˆæ˜¯â€œå¤åˆ¶æ ·å¼ç‰‡æ®µâ€ï¼Œå¯èƒ½å¯¼è‡´å†—ä½™ã€‚</p>
<h4 data-id="heading-12">Less è¯­æ³•</h4>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// å®šä¹‰åŸºç¡€æ ·å¼</span>
<span class="hljs-selector-class">.base-btn</span> {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">8px</span> <span class="hljs-number">16px</span>;
  <span class="hljs-attribute">border</span>: none;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;
}

<span class="hljs-comment">// ç»§æ‰¿åŸºç¡€æ ·å¼</span>
<span class="hljs-selector-class">.primary-btn</span> {
  <span class="hljs-selector-tag">&amp;</span>:<span class="hljs-selector-tag">extend</span>(.base-btn);
  <span class="hljs-attribute">background-color</span>: <span class="hljs-variable">@primary-color</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;
}
</code></pre>
<h4 data-id="heading-13">Scss è¯­æ³•</h4>
<pre><code class="hljs language-css" lang="css">// å®šä¹‰åŸºç¡€æ ·å¼ï¼ˆå¯ä½¿ç”¨å ä½ç¬¦é€‰æ‹©å™¨ %ï¼Œä»…ç”¨äºç»§æ‰¿ï¼Œä¸å•ç‹¬ç¼–è¯‘ï¼‰
%base-btn {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">8px</span> <span class="hljs-number">16px</span>;
  <span class="hljs-attribute">border</span>: none;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;
}

// ç»§æ‰¿åŸºç¡€æ ·å¼
<span class="hljs-selector-class">.primary-btn</span> {
  <span class="hljs-keyword">@extend</span> %base-btn;
  <span class="hljs-attribute">background-color</span>: $primary-color;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;
}
</code></pre>
<p>å·®å¼‚ç‚¹ï¼šLess ç»§æ‰¿ç”¨ <code>&amp;:extend(é€‰æ‹©å™¨)</code>ï¼ŒScss ç”¨ <code>@extend</code>ï¼›Scss çš„å ä½ç¬¦é€‰æ‹©å™¨ <code>%</code> æ˜¯æ ¸å¿ƒä¼˜åŠ¿ï¼Œå¯é¿å…åŸºç¡€æ ·å¼è¢«å•ç‹¬ç¼–è¯‘ä¸º CSSï¼Œå‡å°‘å†—ä½™ã€‚</p>
<h2 data-id="heading-14">ä¸‰ã€æ ¸å¿ƒç‰¹æ€§æ·±åº¦å¯¹æ¯”</h2>
<p>é™¤åŸºç¡€è¯­æ³•å¤–ï¼Œä¸¤è€…åœ¨é«˜çº§ç‰¹æ€§ä¸Šçš„å·®å¼‚çš„ç›´æ¥å½±å“é¡¹ç›®å¼€å‘æ•ˆç‡ä¸å¯ç»´æŠ¤æ€§ï¼Œä»¥ä¸‹æ˜¯é«˜é¢‘é«˜çº§ç‰¹æ€§å¯¹æ¯”ï¼š</p>
<h3 data-id="heading-15">1. é€»è¾‘è¿ç®—ä¸å‡½æ•°</h3>
<ul>
<li><strong>Less</strong>ï¼šæ”¯æŒåŸºç¡€ç®—æœ¯è¿ç®—ï¼ˆ+ã€-ã€*ã€/ï¼‰ï¼Œå†…ç½®å‡½æ•°è¾ƒå°‘ï¼ˆä¸»è¦é›†ä¸­åœ¨é¢œè‰²å¤„ç†ï¼Œå¦‚ <code>darken()</code>ã€<code>lighten()</code>ï¼‰ï¼Œä¸æ”¯æŒå¤æ‚é€»è¾‘åˆ¤æ–­ã€‚</li>
<li><strong>Scss</strong>ï¼šæ”¯æŒç®—æœ¯è¿ç®—ã€å­—ç¬¦ä¸²è¿ç®—ã€é€»è¾‘åˆ¤æ–­ï¼ˆ<code>@if</code>/<code>@else</code>ï¼‰ã€å¾ªç¯ï¼ˆ<code>@for</code>/<code>@each</code>/<code>@while</code>ï¼‰ï¼Œå†…ç½®å‡½æ•°ä¸°å¯Œï¼ˆé¢œè‰²ã€å°ºå¯¸ã€å­—ç¬¦ä¸²ã€åˆ—è¡¨å¤„ç†ç­‰ï¼‰ï¼Œç”šè‡³æ”¯æŒè‡ªå®šä¹‰å‡½æ•°ã€‚</li>
</ul>
<pre><code class="hljs language-css" lang="css">// Scss å¾ªç¯æ¡ˆä¾‹ï¼šç”Ÿæˆå¤šå°ºå¯¸æŒ‰é’®
<span class="hljs-keyword">@for</span> $i from <span class="hljs-number">1</span> to <span class="hljs-number">4</span> {
  <span class="hljs-selector-class">.btn-size-</span>#{$<span class="hljs-selector-tag">i</span>} {
    <span class="hljs-attribute">padding</span>: #{<span class="hljs-number">4</span>*$<span class="hljs-selector-tag">i</span>}px #{<span class="hljs-number">8</span>*$<span class="hljs-selector-tag">i</span>}px;
    <span class="hljs-attribute">font-size</span>: #{<span class="hljs-number">12</span> + $<span class="hljs-selector-tag">i</span>}px;
  }
}

// ç¼–è¯‘åç”Ÿæˆ <span class="hljs-selector-class">.btn-size-1</span> è‡³ <span class="hljs-selector-class">.btn-size-3</span> æ ·å¼
</code></pre>
<h3 data-id="heading-16">2. æ¨¡å—åŒ–ä¸å¯¼å…¥</h3>
<p>ä¸¤è€…å‡æ”¯æŒ <code>@import</code> å¯¼å…¥å¤–éƒ¨æ–‡ä»¶ï¼Œä½† Scss çš„æ¨¡å—åŒ–èƒ½åŠ›æ›´å®Œå–„ï¼š</p>
<ul>
<li><strong>Less</strong>ï¼š<code>@import "xxx.less"</code> ç›´æ¥å¯¼å…¥ï¼Œæ— å†…ç½®æ¨¡å—ç³»ç»Ÿï¼Œéœ€ä¾èµ– Webpack ç­‰æ„å»ºå·¥å…·å®ç°æ¨¡å—åŒ–éš”ç¦»ã€‚</li>
<li><strong>Scss</strong>ï¼šæ”¯æŒ<code>@use</code>ï¼ˆæ›¿ä»£æ—§ç‰ˆ <code>@import</code>ï¼‰å®ç°æ¨¡å—åŒ–ï¼Œå¯æŒ‡å®šå‘½åç©ºé—´ã€æ§åˆ¶å¯¼å‡ºèŒƒå›´ï¼Œé¿å…å…¨å±€å˜é‡æ±¡æŸ“ï¼Œæ˜¯ä¼ä¸šçº§é¡¹ç›®çš„æ ¸å¿ƒä¼˜åŠ¿ã€‚</li>
</ul>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// Scss æ¨¡å—åŒ–å¯¼å…¥</span>
<span class="hljs-variable">@use</span> <span class="hljs-string">'src/styles/vars'</span> as vars; <span class="hljs-comment">// å‘½åç©ºé—´å¯¼å…¥</span>
<span class="hljs-variable">@use</span> <span class="hljs-string">'src/styles/mixins'</span>; <span class="hljs-comment">// ç›´æ¥å¯¼å…¥</span>

<span class="hljs-selector-class">.button</span> {
  <span class="hljs-attribute">color</span>: vars.$primary-color; <span class="hljs-comment">// é€šè¿‡å‘½åç©ºé—´ä½¿ç”¨å˜é‡</span>
  <span class="hljs-variable">@include</span> mixins.<span class="hljs-built_in">box-shadow</span>();
}
</code></pre>
<h3 data-id="heading-17">3. ç”Ÿæ€ä¸å·¥å…·æ”¯æŒ</h3>
<ul>
<li><strong>Less</strong>ï¼šç”Ÿæ€è¾ƒå°ï¼Œå·¥å…·æ”¯æŒæœ‰é™ï¼Œä¸»è¦ä¾èµ– <code>less-loader</code> ç¼–è¯‘ï¼Œé€‚åˆç®€å•åœºæ™¯ã€‚</li>
<li><strong>Scss</strong>ï¼šç”Ÿæ€æˆç†Ÿï¼Œæ”¯æŒå·¥å…·ä¸°å¯Œï¼ˆå¦‚ <code>dart-sass</code> ç¼–è¯‘ã€Stylelint æ ¡éªŒã€Scss æ’ä»¶ï¼‰ï¼Œä¸»æµ UI ç»„ä»¶åº“ï¼ˆElement Plusã€Ant Designï¼‰å‡é‡‡ç”¨ Scss å¼€å‘ï¼Œç¤¾åŒºèµ„æºå……è¶³ã€‚</li>
</ul>
<h2 data-id="heading-18">å››ã€å®æˆ˜åœºæ™¯ï¼šå¦‚ä½•é€‰æ‹©ä¸è½åœ°ï¼Ÿ</h2>
<h3 data-id="heading-19">1. é€‰å‹å»ºè®®</h3>
<ul>
<li><strong>é€‰ Less çš„åœºæ™¯</strong>ï¼šä¸­å°å‹é¡¹ç›®ã€ä¸ªäººé¡¹ç›®ã€Vue å¿«é€Ÿå¼€å‘åœºæ™¯ï¼Œè¿½æ±‚ä¸Šæ‰‹å¿«ã€è¯­æ³•ç®€æ´ï¼Œæ— éœ€å¤æ‚é€»è¾‘æ§åˆ¶ã€‚</li>
<li><strong>é€‰ Scss çš„åœºæ™¯</strong>ï¼šä¼ä¸šçº§é¡¹ç›®ã€å¤§å‹å›¢é˜Ÿåä½œã€éœ€è¦å¤æ‚æ ·å¼é€»è¾‘ï¼ˆå¦‚ä¸»é¢˜åˆ‡æ¢ã€ç»„ä»¶åº“å¼€å‘ï¼‰ï¼Œè¿½æ±‚å¯ç»´æŠ¤æ€§ä¸ç”Ÿæ€æ”¯æŒã€‚</li>
</ul>
<h3 data-id="heading-20">2. ç¼–è¯‘é…ç½®ï¼ˆWebpack ç¤ºä¾‹ï¼‰</h3>
<h4 data-id="heading-21">Less é…ç½®</h4>
<pre><code class="hljs language-css" lang="css">// å®‰è£…ä¾èµ–ï¼šless less-loader
module<span class="hljs-selector-class">.exports</span> = {
  module: {
    rules: [
      {
        test: /.less$/i,
        use: [
          <span class="hljs-string">'style-loader'</span>,
          <span class="hljs-string">'css-loader'</span>,
          {
            loader: <span class="hljs-string">'less-loader'</span>,
            options: {
              lessOptions: {
                // å…è®¸åœ¨ less ä¸­ä½¿ç”¨ JavaScript
                javascriptEnabled: true,
              },
            },
          },
        ],
      },
    ],
  },
};
</code></pre>
<h4 data-id="heading-22">Scss é…ç½®</h4>
<pre><code class="hljs language-css" lang="css">// å®‰è£…ä¾èµ–ï¼šsass sass-loader
module<span class="hljs-selector-class">.exports</span> = {
  module: {
    rules: [
      {
        test: /.s[ac]ss$/i,
        use: [
          <span class="hljs-string">'style-loader'</span>,
          <span class="hljs-string">'css-loader'</span>,
          {
            loader: <span class="hljs-string">'sass-loader'</span>,
            options: {
              // ä½¿ç”¨ dart-sassï¼ˆæ¨èï¼Œæ›¿ä»£ node-sassï¼‰
              implementation: <span class="hljs-built_in">require</span>(<span class="hljs-string">'sass'</span>),
            },
          },
        ],
      },
    ],
  },
};
</code></pre>
<h3 data-id="heading-23">3. å¼€å‘æœ€ä½³å®è·µ</h3>
<ol>
<li><strong>å˜é‡ç®¡ç†</strong>ï¼šé›†ä¸­å­˜æ”¾å…¨å±€å˜é‡ï¼ˆé¢œè‰²ã€å°ºå¯¸ã€å­—ä½“ï¼‰ï¼Œä¾¿äºä¸»é¢˜åˆ‡æ¢ä¸ç»´æŠ¤ã€‚</li>
<li><strong>æ··åˆå°è£…</strong>ï¼šå°†é€šç”¨æ ·å¼ï¼ˆæ¸…é™¤æµ®åŠ¨ã€å“åº”å¼é€‚é…ï¼‰å°è£…ä¸ºæ··åˆï¼Œé¿å…é‡å¤ç¼–ç ã€‚</li>
<li><strong>é¿å…è¿‡åº¦åµŒå¥—</strong>ï¼šåµŒå¥—å±‚çº§ä¸è¶…è¿‡ 3 å±‚ï¼Œé˜²æ­¢ç¼–è¯‘å CSS é€‰æ‹©å™¨æƒé‡è¿‡é«˜ï¼Œéš¾ä»¥è¦†ç›–ã€‚</li>
<li><strong>ä¼˜å…ˆä½¿ç”¨ç»§æ‰¿</strong>ï¼šå¯¹äºç›¸åŒç»“æ„çš„æ ·å¼ï¼ˆå¦‚æŒ‰é’®ç»„ï¼‰ï¼Œç”¨ç»§æ‰¿æ›¿ä»£æ··åˆï¼Œå‡å°‘ CSS ä½“ç§¯ã€‚</li>
<li><strong>æ¨¡å—åŒ–éš”ç¦»</strong>ï¼šScss ç”¨ <code>@use</code> å®ç°æ¨¡å—åŒ–ï¼ŒLess å¯é€šè¿‡æ–‡ä»¶åå‰ç¼€ï¼ˆå¦‚ <code>_vars.less</code>ï¼‰åŒºåˆ†å±€éƒ¨æ–‡ä»¶ã€‚</li>
</ol>
<h2 data-id="heading-24">äº”ã€æ€»ç»“</h2>
<p>Less ä¸ Scss éƒ½æ˜¯ä¼˜ç§€çš„ CSS é¢„å¤„ç†å™¨ï¼Œæ ¸å¿ƒä»·å€¼åœ¨äºâ€œç”¨ç¼–ç¨‹æ€ç»´å†™æ ·å¼â€ï¼Œæå‡å¼€å‘æ•ˆç‡ä¸å¯ç»´æŠ¤æ€§ã€‚é€‰æ‹©å“ªæ¬¾å·¥å…·ï¼Œæœ¬è´¨æ˜¯å¹³è¡¡é¡¹ç›®å¤æ‚åº¦ã€å›¢é˜Ÿä¹ æƒ¯ä¸ç”Ÿæ€éœ€æ±‚ï¼š</p>
<ul>
<li>è¿½æ±‚ç®€æ´ã€å¿«é€Ÿè½åœ°ï¼Œé€‰ Lessï¼›</li>
<li>è¿½æ±‚åŠŸèƒ½å…¨é¢ã€å¯ç»´æŠ¤æ€§ä¸ç”Ÿæ€æ”¯æŒï¼Œé€‰ Scssã€‚</li>
</ul>
<p>æ— è®ºé€‰æ‹©å“ªæ¬¾ï¼ŒæŒæ¡å˜é‡ã€åµŒå¥—ã€æ··åˆã€ç»§æ‰¿ç­‰æ ¸å¿ƒç‰¹æ€§ï¼Œç»“åˆæ„å»ºå·¥å…·å®ç°æ¨¡å—åŒ–å¼€å‘ï¼Œæ‰èƒ½çœŸæ­£å‘æŒ¥é¢„å¤„ç†å™¨çš„ä»·å€¼ã€‚å»ºè®®æ ¹æ®å®é™…é¡¹ç›®åœºæ™¯åŠ¨æ‰‹å®è·µï¼Œç†Ÿç»ƒåå¯è½»æ¾åº”å¯¹å„ç±»æ ·å¼å¼€å‘éœ€æ±‚ã€‚</p>
<p>æœ€åï¼Œä½ åœ¨ä½¿ç”¨ Less/Scss æ—¶é‡åˆ°è¿‡å“ªäº›å‘ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„å®æˆ˜ç»éªŒï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯éŸ³è§†é¢‘å­¦ä¹ ï¼ˆä¸€ï¼‰- åŸºæœ¬æ¦‚å¿µ]]></title>    <link>https://juejin.cn/post/7595163067903737865</link>    <guid>https://juejin.cn/post/7595163067903737865</guid>    <pubDate>2026-01-15T02:35:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595163067903737865" data-draft-id="7595157651618725914" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯éŸ³è§†é¢‘å­¦ä¹ ï¼ˆä¸€ï¼‰- åŸºæœ¬æ¦‚å¿µ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-15T02:35:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‚ å“‰æ‘¸é±¼å¤§ç‹"/> <meta itemprop="url" content="https://juejin.cn/user/3606845069731848"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯éŸ³è§†é¢‘å­¦ä¹ ï¼ˆä¸€ï¼‰- åŸºæœ¬æ¦‚å¿µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3606845069731848/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‚ å“‰æ‘¸é±¼å¤§ç‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-15T02:35:01.000Z" title="Thu Jan 15 2026 02:35:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬ç¯‡ä¸»è¦ä»‹ç»éŸ³è§†é¢‘å¼€å‘ä¸­çš„æœ€åŸºç¡€æ¦‚å¿µï¼ŒåŒ…æ‹¬æ–‡ä»¶ç»“æ„ã€æ ¸å¿ƒæœ¯è¯­ã€ç¼–ç æ ¼å¼ä»¥åŠæµè§ˆå™¨å±‚é¢çš„åŸºç¡€é™åˆ¶ã€‚</p>
<hr/>
<h3 data-id="heading-0">ä¸€ã€ è§†é¢‘æ–‡ä»¶ç»“æ„</h3>
<p>ä¸€ä¸ªè§†é¢‘æ–‡ä»¶ä¸€èˆ¬æ˜¯ç”±æ–‡ä»¶ä¿¡æ¯å’ŒéŸ³è§†é¢‘æ–‡ä»¶ç»„æˆï¼Œè§†é¢‘æ–‡ä»¶çš„ç»“æ„å› ä¸åŒå°è£…æ ¼å¼è€Œä¸åŒã€‚è§†é¢‘æ ¼å¼åˆ†ä¸ºå°è£…æ ¼å¼å’Œç¼–ç æ ¼å¼ï¼Œå°è£…æ ¼å¼å†³å®šçš„æ˜¯è§†é¢‘æ–‡ä»¶çš„ç»“æ„ï¼ŒéŸ³è§†é¢‘æ•°æ®å—çš„å¤§å°ç­‰ï¼Œè€Œç¼–ç æ ¼å¼å†³å®šçš„æ˜¯éŸ³è§†é¢‘çš„å‹ç¼©çš„æ–¹å¼åŠç®—æ³•ã€‚å‰ç«¯å¼€å‘ä¸­ä¸»è¦å…³æ³¨çš„æ˜¯å°è£…æ ¼å¼ï¼Œå³å¸¸è§çš„ <code>.mp4</code>ã€<code>.webm</code>ã€<code>.ogg</code>ã€<code>.m3u8</code> ç­‰æ–‡ä»¶ç±»å‹ã€‚</p>
<h4 data-id="heading-1">1. å°è£…æ ¼å¼ ä¸ ç¼–ç æ ¼å¼</h4>
<ul>
<li><strong>å°è£…æ ¼å¼</strong>ï¼šå†³å®šäº†è§†é¢‘æ–‡ä»¶çš„ç»“æ„ï¼ˆå¦‚ä½•å­˜æ”¾æ•°æ®å—ï¼‰ã€‚å¸¸è§æ ¼å¼ï¼š<code>.mp4</code>, <code>.webm</code>, <code>.mkv</code>, <code>.flv</code>ã€‚</li>
<li><strong>ç¼–ç æ ¼å¼</strong>ï¼šå†³å®šäº†éŸ³è§†é¢‘æ•°æ®çš„å‹ç¼©ç®—æ³•ã€‚å¸¸è§æ ¼å¼ï¼š<code>H.264 (AVC)</code>, <code>H.265 (HEVC)</code>, <code>VP9</code>, <code>AV1</code>ã€‚</li>
</ul>
<blockquote>
<p><strong>æ¯”å–»</strong>ï¼šå°è£…æ ¼å¼å°±åƒä¸€ä¸ªâ€œæ–‡ä»¶å¤¹â€ï¼Œç¼–ç æ ¼å¼åˆ™æ˜¯æ–‡ä»¶å¤¹é‡Œâ€œæ–‡æ¡£çš„å‹ç¼©æ–¹å¼â€ã€‚</p>
</blockquote>
<h4 data-id="heading-2">2. ä¸»æµå°è£…æ ¼å¼å¯¹æ¯”</h4>



































<table><thead><tr><th>æ ¼å¼</th><th>å…¨ç§°</th><th>æ˜¯å¦æµè§ˆå™¨åŸç”Ÿæ”¯æŒ</th><th>ç‰¹ç‚¹ä¸è¯´æ˜</th></tr></thead><tbody><tr><td><code>.mp4</code></td><td>MPEG-4</td><td>æ”¯æŒæœ€å¹¿æ³›</td><td><strong>é¦–é€‰æ ¼å¼</strong>ï¼Œå…¼å®¹æ€§å¥½ï¼Œé€‚åˆç½‘é¡µæ’­æ”¾</td></tr><tr><td><code>.webm</code></td><td>Web Media</td><td>Chrome / Firefox æ”¯æŒ</td><td>Google æ¨å‡ºï¼Œä½“ç§¯å°ï¼Œé€‚åˆ Web ç”¨é€”</td></tr><tr><td><code>.ogg</code> / <code>.ogv</code></td><td>Ogg Theora</td><td>éƒ¨åˆ†æ”¯æŒï¼ˆFirefox å¥½ï¼‰</td><td>å¼€æºæ ¼å¼ï¼Œæ”¯æŒä¸å¦‚ MP4</td></tr><tr><td><code>.m3u8</code></td><td>HLSï¼ˆHTTP Live Streamingï¼‰</td><td>éœ€ <code>hls.js</code> æ”¯æŒ</td><td>Apple å¼€å‘çš„<strong>æµåª’ä½“æ ¼å¼</strong>ï¼Œå¯è¾¹æ’­è¾¹çœ‹</td></tr></tbody></table>
<h3 data-id="heading-3">äºŒã€ æ ¸å¿ƒåŸºç¡€æœ¯è¯­</h3>
<h4 data-id="heading-4">1. è§†é¢‘æ ¸å¿ƒå‚æ•°</h4>
<ul>
<li>
<p><strong>ç ç‡ (Bitrate)</strong> ï¼šæ¯ç§’ä¼ è¾“çš„æ•°æ®é‡ï¼ˆå•ä½ <code>Mbps</code> æˆ– <code>kbps</code>ï¼‰ã€‚</p>
<ul>
<li><strong>CBR (Constant)</strong> : å›ºå®šç ç‡ï¼Œé€‚åˆç›´æ’­ã€‚</li>
<li><strong>VBR (Variable)</strong> : åŠ¨æ€ç ç‡ï¼Œå¤æ‚ç”»é¢ç»™é«˜ç ç‡ï¼ŒèŠ‚çœç©ºé—´ã€‚</li>
</ul>
</li>
<li>
<p><strong>å¸§ç‡ (FPS)</strong> ï¼šæ¯ç§’æ˜¾ç¤ºçš„ç”»é¢å¼ æ•°ã€‚24fps æ˜¯ç”µå½±æ„Ÿï¼Œ60fps æ˜¯ä¸æ»‘æ¸¸æˆæ„Ÿã€‚</p>
</li>
<li>
<p><strong>åˆ†è¾¨ç‡ (Resolution)</strong> ï¼šç”»é¢çš„åƒç´ å¤§å°ï¼Œå¦‚ 1920x1080 (1080P)ã€‚</p>
</li>
<li>
<p><strong>GOP (Group of Pictures)</strong> ï¼šä¸€ç»„ä»¥ <strong>Iå¸§ï¼ˆå…³é”®å¸§ï¼‰</strong> å¼€å¤´çš„ç”»é¢åºåˆ—ã€‚</p>
<ul>
<li><strong>Iå¸§ (Intra)</strong> : å…³é”®å¸§ï¼Œå®Œæ•´å›¾ç‰‡ã€‚</li>
<li><strong>På¸§ (Predicted)</strong> : å·®å¼‚å¸§ï¼Œåªè®°å½•ä¸å‰ä¸€å¸§çš„å·®å¼‚ã€‚</li>
<li><strong>Bå¸§ (Bi-directional)</strong> : åŒå‘å·®å¼‚å¸§ï¼Œå‹ç¼©ç‡æœ€é«˜ï¼Œä½†è§£ç æœ€ç´¯ã€‚</li>
<li><strong>æ³¨æ„</strong>ï¼šGOP è¶Šé•¿ï¼Œå‹ç¼©ç‡è¶Šé«˜ï¼Œä½†è·³è½¬ï¼ˆSeekï¼‰è¶Šæ…¢ï¼Œç›´æ’­å»¶è¿Ÿè¶Šé«˜ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-5">2. éŸ³é¢‘æ ¸å¿ƒå‚æ•°</h4>
<ul>
<li>
<p><strong>é‡‡æ ·ç‡ (Sample Rate)</strong> ï¼šæ¯ç§’è®°å½•å£°éŸ³æ ·æœ¬çš„æ¬¡æ•°ï¼ˆå¦‚ 44.1kHz, 48kHzï¼‰ã€‚</p>
<blockquote>
<p>éŸ³é¢‘çš„æœ€å°å•ä½ä¸æ˜¯ä¸€å¸§ï¼Œè€Œæ˜¯<strong>é‡‡æ ·</strong>ã€‚é‡‡æ ·æ˜¯å½“å‰ä¸€åˆ»å£°éŸ³çš„å£°éŸ³æ ·æœ¬ï¼Œæ ·æœ¬æ˜¯éœ€è¦ç»è¿‡æ•°å­—è½¬æ¢æ‰èƒ½å­˜å‚¨ä¸ºæ ·æœ¬æ•°æ®ã€‚æ•°æ®è½¬æ¢æ—¶ä¼šæ ¹æ®<strong>ä½æ·±åº¦</strong>è½¬æ¢ï¼Œè€Œ<strong>ä½æ·±åº¦</strong>æ˜¯å­˜å‚¨å•ä¸ªæ ·æœ¬çš„æ•°æ®å¤§å°ã€‚ä½æ·±åº¦è¶Šå¤§æ„å‘³ç€å£°éŸ³çš„è¿˜åŸåº¦è¶Šé«˜ã€‚</p>
<p>è¿‡é«˜çš„ä½æ·±åº¦éœ€è¦ç‰¹æ®Šè½¯ä»¶å’Œç¡¬ä»¶è®¾å¤‡æ‰èƒ½æ’­æ”¾ã€‚ å¸¸ç”¨çš„ä½æ·±åº¦æœ‰ï¼š8bit,16bit,24bit ç­‰ã€‚éŸ³è§†é¢‘å¤„ç†æ—¶ï¼Œä½ä½æ·±åº¦è½¬ä¸ºé«˜ä½æ·±åº¦ä¸ä¼šæå‡éŸ³è´¨ã€‚</p>
</blockquote>
</li>
<li>
<p><strong>ä½æ·± (Bit Depth)</strong> ï¼šæ¯ä¸ªæ ·æœ¬çš„ç²¾åº¦ï¼ˆå¦‚ 16bit, 24bitï¼‰ã€‚</p>
</li>
<li>
<p><strong>å£°é“ (Channels)</strong> ï¼šåŒæ—¶è®°å½•å¤šä¸ªä½ç½®çš„å£°éŸ³é‡‡æ ·æ•°æ®ï¼›å¤šä¸ªå£°é“çš„æ ·æœ¬æ•°æ®ä¼šæŒ‰å£°é“æ’åˆ—é¡ºåºè®°å½•ã€‚</p>
</li>
</ul>
<h4 data-id="heading-6">3. é¢œè‰²ç©ºé—´ (Color Space)</h4>
<ul>
<li>
<p><strong>RGB</strong>: å±å¹•æ˜¾ç¤ºçš„åŸç†ï¼ˆçº¢ç»¿è“ï¼‰ã€‚</p>
</li>
<li>
<p><strong>YUV</strong>: è§†é¢‘å‹ç¼©åŸç†ã€‚Y ä»£è¡¨äº®åº¦ï¼ŒUV ä»£è¡¨è‰²åº¦ã€‚</p>
<ul>
<li><strong>YUV 4:2:0</strong>: å¸¸è§çš„å‹ç¼©é‡‡æ ·æ–¹å¼ï¼Œåˆ©ç”¨äººçœ¼å¯¹äº®åº¦æ•æ„Ÿã€è‰²åº¦ä¸æ•æ„Ÿçš„ç‰¹æ€§ã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h3 data-id="heading-7">ä¸‰ã€ å¸¸è§è§†é¢‘ç¼–ç æ ¼å¼ï¼ˆå‹ç¼©ç®—æ³•ï¼‰</h3>
<p>æ’­æ”¾è§†é¢‘æ–‡ä»¶æ—¶ï¼Œéœ€è¦æŒ‰é¡ºåºè¯»å–è§†é¢‘æ–‡ä»¶çš„ä¸€å—å—éŸ³è§†é¢‘æ•°æ®ï¼Œè¿™ä¸ªæ­¥éª¤å«åšè§£å°è£…ï¼ˆdemuxï¼‰,è¯»å‡ºè¿™äº›æ•°æ®åå¹¶ä¸èƒ½ç«‹å³æ’­æ”¾ï¼Œå› ä¸ºè¿™äº›æ•°æ®æ˜¯å‹ç¼©è¿‡åçš„ï¼Œæ‰€ä»¥è¿˜éœ€è¦è¿˜åŸæˆèƒ½æ˜¾ç¤ºçš„å›¾åƒæˆ–è€…éŸ³é¢‘é‡‡æ ·æ‰èƒ½æ’­æ”¾ï¼Œè¿™ä¸ªè§£å‹ç¼©çš„æ­¥éª¤å«åšè§£ç ï¼ˆdecodeï¼‰,è§£ç è¿‡ç¨‹æ ¹æ®ä¸åŒçš„ç¼–ç æ ¼å¼ä¸åŒè€Œä¸åŒï¼Œä½†ä¸€èˆ¬ç¼–ç æ ¼å¼éƒ½æœ‰å¯¹åº”çš„è§£ç å™¨ç¨‹åºã€‚</p>

























<table><thead><tr><th>ç¼–ç </th><th>åç§°</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td><strong>H.264 (AVC)</strong></td><td>æœ€æ ‡å‡†</td><td><strong>å…¼å®¹æ€§æœ€ä½³</strong>ï¼Œå‡ ä¹æ‰€æœ‰è®¾å¤‡éƒ½æ”¯æŒç¡¬è§£ç ã€‚</td></tr><tr><td><strong>H.265 (HEVC)</strong></td><td>ä¸‹ä¸€ä»£</td><td>ç›¸åŒç”»è´¨ä¸‹ä½“ç§¯æ¯” H.264 å° 50%ï¼Œä½†æµè§ˆå™¨å…¼å®¹æ€§è¾ƒå·®ï¼Œé€šå¸¸éœ€ç¡¬ä»¶æ”¯æŒã€‚</td></tr><tr><td><strong>VP9 / AV1</strong></td><td>å¼€æºæ ‡å‡†</td><td>Google ä¸»å¯¼ï¼ŒAV1 æ˜¯æœªæ¥è¶‹åŠ¿ï¼Œæ— ä¸“åˆ©è´¹ï¼Œå‹ç¼©ç‡æé«˜ã€‚</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-8">å››ã€ æµè§ˆå™¨åŸºç¡€è¡Œä¸ºä¸é™åˆ¶</h3>
<h4 data-id="heading-9">1. è‡ªåŠ¨æ’­æ”¾ç­–ç•¥ (Autoplay Policy)</h4>
<ul>
<li><strong>é™éŸ³è‡ªåŠ¨æ’­æ”¾</strong>ï¼šè®¾ç½® <code>muted</code> åï¼Œæµè§ˆå™¨é€šå¸¸å…è®¸è‡ªåŠ¨æ’­æ”¾ã€‚</li>
<li><strong>æœ‰å£°è‡ªåŠ¨æ’­æ”¾</strong>ï¼šå¿…é¡»ç”±ç”¨æˆ·äº§ç”Ÿ<strong>äº¤äº’</strong>ï¼ˆç‚¹å‡»ã€è§¦æ‘¸ï¼‰åæ‰èƒ½è§¦å‘ã€‚</li>
<li><strong>æœ€ä½³å®è·µ</strong>ï¼š<code>&lt;video autoplay muted playsinline&gt;</code>ã€‚</li>
</ul>
<h4 data-id="heading-10">2. ç§»åŠ¨ç«¯ç‰¹æ®Šå±æ€§</h4>
<ul>
<li><strong><code>playsinline</code></strong>: é˜²æ­¢ iOS åœ¨æ’­æ”¾æ—¶å¼ºåˆ¶å…¨å±ã€‚</li>
<li><strong><code>poster</code></strong>: è§†é¢‘åŠ è½½å‰çš„å°é¢å›¾ï¼Œé¿å…é»‘å±ã€‚</li>
<li><strong><code>preload</code></strong>: <code>metadata</code> (åªåŠ è½½æ—¶é•¿å®½é«˜), <code>auto</code> (å°è¯•åŠ è½½å…¨è§†é¢‘)ã€‚</li>
</ul>
<h4 data-id="heading-11">3. è°ƒè¯•</h4>
<ul>
<li><strong>Chrome Media é¢æ¿</strong>: <code>F12 -&gt; More tools -&gt; Media</code>ã€‚æŸ¥çœ‹ç¼–è§£ç ã€ç¼“å†²ã€ä¸¢å¸§ç­‰ã€‚</li>
<li><strong><code>chrome://media-internals</code></strong>: æŸ¥çœ‹åº•å±‚è¯¦ç»†æ—¥å¿—ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€èŠ‚ç‚¹ã€‘[ConstantèŠ‚ç‚¹]åŸç†è§£æä¸å®é™…åº”ç”¨]]></title>    <link>https://juejin.cn/post/7595142737513349147</link>    <guid>https://juejin.cn/post/7595142737513349147</guid>    <pubDate>2026-01-15T02:37:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595142737513349147" data-draft-id="7595163067903754249" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€èŠ‚ç‚¹ã€‘[ConstantèŠ‚ç‚¹]åŸç†è§£æä¸å®é™…åº”ç”¨"/> <meta itemprop="keywords" content="æ¸¸æˆå¼€å‘,å›¾å½¢å­¦,Unity3D"/> <meta itemprop="datePublished" content="2026-01-15T02:37:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="SmalBox"/> <meta itemprop="url" content="https://juejin.cn/user/2218166695237532"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€èŠ‚ç‚¹ã€‘[ConstantèŠ‚ç‚¹]åŸç†è§£æä¸å®é™…åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2218166695237532/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    SmalBox
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-15T02:37:21.000Z" title="Thu Jan 15 2026 02:37:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fchenghai37%2Fcategory_13074589.html%3Ffromshare%3Dblogcolumn%26sharetype%3Dblogcolumn%26sharerId%3D13074589%26sharerefer%3DPC%26sharesource%3Dchenghai37%26sharefrom%3Dfrom_link" target="_blank" title="https://blog.csdn.net/chenghai37/category_13074589.html?fromshare=blogcolumn&amp;sharetype=blogcolumn&amp;sharerId=13074589&amp;sharerefer=PC&amp;sharesource=chenghai37&amp;sharefrom=from_link" ref="nofollow noopener noreferrer">ã€Unity Shader Graph ä½¿ç”¨ä¸ç‰¹æ•ˆå®ç°ã€‘</a><strong>ä¸“æ -ç›´è¾¾</strong></p>
</blockquote>
<p>åœ¨Unityçš„Shader Graphå¯è§†åŒ–ç€è‰²å™¨ç¼–è¾‘å™¨ä¸­ï¼ŒConstantèŠ‚ç‚¹æ˜¯ä¸€ä¸ªåŸºç¡€ä½†è‡³å…³é‡è¦çš„æ•°å­¦å·¥å…·èŠ‚ç‚¹ã€‚å®ƒå…è®¸å¼€å‘è€…åœ¨ç€è‰²å™¨ç¨‹åºä¸­é¢„å®šä¹‰å’Œä½¿ç”¨å¸¸è§çš„æ•°å­¦å¸¸é‡å€¼ï¼Œæ— éœ€æ‰‹åŠ¨è¾“å…¥è¿™äº›æ•°å€¼ï¼Œä»è€Œæé«˜å¼€å‘æ•ˆç‡å’Œä»£ç çš„å‡†ç¡®æ€§ã€‚</p>
<h2 data-id="heading-0">ConstantèŠ‚ç‚¹æ¦‚è¿°</h2>
<p>ConstantèŠ‚ç‚¹å±äºShader Graphä¸­çš„æ•°å­¦å·¥å…·ç±»èŠ‚ç‚¹ï¼Œä¸“é—¨ç”¨äºæä¾›ç²¾ç¡®çš„æ•°å­¦å¸¸é‡å€¼ã€‚åœ¨å›¾å½¢ç¼–ç¨‹å’Œç€è‰²å™¨å¼€å‘ä¸­ï¼Œç²¾ç¡®çš„æ•°å­¦å¸¸é‡å¯¹äºå®ç°å„ç§è§†è§‰æ•ˆæœè‡³å…³é‡è¦ï¼Œä»ç®€å•çš„é¢œè‰²è®¡ç®—åˆ°å¤æ‚çš„ç‰©ç†æ¨¡æ‹Ÿéƒ½ç¦»ä¸å¼€è¿™äº›åŸºç¡€æ•°å€¼ã€‚</p>
<h3 data-id="heading-1">èŠ‚ç‚¹ç‰¹æ€§</h3>
<p>ConstantèŠ‚ç‚¹å…·æœ‰ä»¥ä¸‹å‡ ä¸ªæ˜¾è‘—ç‰¹ç‚¹ï¼š</p>
<ul>
<li>æä¾›é¢„å®šä¹‰çš„æ•°å­¦å¸¸é‡ï¼Œç¡®ä¿æ•°å€¼ç²¾åº¦</li>
<li>ç®€åŒ–ç€è‰²å™¨ä»£ç ï¼Œé¿å…æ‰‹åŠ¨è¾“å…¥å¯èƒ½å¯¼è‡´çš„é”™è¯¯</li>
<li>æ”¯æŒå¤šç§å¸¸ç”¨æ•°å­¦å¸¸é‡ï¼Œè¦†ç›–å¤§å¤šæ•°å›¾å½¢ç¼–ç¨‹éœ€æ±‚</li>
<li>è¾“å‡ºä¸ºæµ®ç‚¹æ•°å€¼ï¼Œå…¼å®¹å„ç§ç€è‰²å™¨è®¡ç®—</li>
</ul>
<h3 data-id="heading-2">åº”ç”¨åœºæ™¯</h3>
<p>ConstantèŠ‚ç‚¹åœ¨Shader Graphä¸­çš„åº”ç”¨éå¸¸å¹¿æ³›ï¼š</p>
<ul>
<li>åœ†å½¢å’Œå¼§å½¢è®¡ç®—ä¸­çš„Ï€å€¼ä½¿ç”¨</li>
<li>å‘¨æœŸæ€§åŠ¨ç”»å’Œæ³¢åŠ¨æ•ˆæœä¸­çš„Ï„å€¼åº”ç”¨</li>
<li>ç¾å­¦æ¯”ä¾‹è®¡ç®—ä¸­çš„é»„é‡‘åˆ†å‰²Ï†å€¼</li>
<li>è‡ªç„¶å¢é•¿å’Œè¡°å‡æ¨¡æ‹Ÿä¸­çš„è‡ªç„¶å¸¸æ•°e</li>
<li>è·ç¦»è®¡ç®—å’Œæ ‡å‡†åŒ–å¤„ç†ä¸­çš„âˆš2å€¼</li>
</ul>
<h2 data-id="heading-3">ç«¯å£è¯¦è§£</h2>
<p><img src="https://docs.unity.cn/cn/Packages-cn/com.unity.shadergraph@14.0/manual/images/ConstantNodeThumb.png" alt="" loading="lazy"/></p>
<p><img src="https://docs.unity.cn/cn/Packages-cn/com.unity.shadergraph@14.0/manual/images/ConstantNodeThumb.png" alt="" loading="lazy"/></p>
<p>ConstantèŠ‚ç‚¹ä»…åŒ…å«ä¸€ä¸ªè¾“å‡ºç«¯å£ï¼Œè®¾è®¡ç®€æ´ä½†åŠŸèƒ½ä¸“ä¸€ã€‚</p>
<h3 data-id="heading-4">è¾“å‡ºç«¯å£</h3>
<p><strong>åç§°</strong>ï¼šOut</p>
<p><strong>æ–¹å‘</strong>ï¼šè¾“å‡º</p>
<p><strong>ç±»å‹</strong>ï¼šFloat</p>
<p><strong>ç»‘å®š</strong>ï¼šæ— </p>
<p><strong>æè¿°</strong>ï¼šè¾“å‡ºå½“å‰é€‰æ‹©çš„æ•°å­¦å¸¸é‡å€¼</p>
<p>è¾“å‡ºç«¯å£çš„ç‰¹ç‚¹ï¼š</p>
<ul>
<li>å§‹ç»ˆè¾“å‡ºæµ®ç‚¹æ•°ç±»å‹çš„å¸¸é‡å€¼</li>
<li>æ•°å€¼ç²¾åº¦æ»¡è¶³å›¾å½¢è®¡ç®—éœ€æ±‚</li>
<li>å¯ä»¥ç›´æ¥è¿æ¥åˆ°å…¶ä»–èŠ‚ç‚¹çš„è¾“å…¥ç«¯å£</li>
<li>æ”¯æŒå®æ—¶é¢„è§ˆå½“å‰é€‰æ‹©çš„å¸¸é‡å€¼</li>
</ul>
<h2 data-id="heading-5">æ§ä»¶é…ç½®</h2>
<p>ConstantèŠ‚ç‚¹æä¾›äº†ä¸€ä¸ªä¸‹æ‹‰é€‰å•æ§ä»¶ï¼Œç”¨äºé€‰æ‹©æ‰€éœ€çš„æ•°å­¦å¸¸é‡ç±»å‹ã€‚</p>
<h3 data-id="heading-6">Modeä¸‹æ‹‰é€‰å•</h3>
<p>Modeæ§ä»¶å†³å®šäº†èŠ‚ç‚¹è¾“å‡ºçš„å…·ä½“æ•°å­¦å¸¸é‡å€¼ï¼ŒåŒ…å«ä»¥ä¸‹äº”ä¸ªé€‰é¡¹ï¼š</p>
<p><strong>PI</strong> - åœ†å‘¨ç‡Ï€</p>
<ul>
<li>æ•°å€¼ï¼šçº¦ç­‰äº3.1415926</li>
<li>åº”ç”¨ï¼šåœ†å½¢è®¡ç®—ã€è§’åº¦è½¬æ¢ã€å‘¨æœŸæ€§å‡½æ•°</li>
</ul>
<p><strong>TAU</strong> - åœ†å‘¨ç‡çš„ä¸¤å€Ï„</p>
<ul>
<li>æ•°å€¼ï¼šçº¦ç­‰äº6.28318530</li>
<li>åº”ç”¨ï¼šå®Œæ•´çš„åœ†å‘¨å¼§åº¦ã€ç®€åŒ–è§’åº¦è®¡ç®—</li>
</ul>
<p><strong>PHI</strong> - é»„é‡‘æ¯”ä¾‹Ï†</p>
<ul>
<li>æ•°å€¼ï¼šçº¦ç­‰äº1.618034</li>
<li>åº”ç”¨ï¼šç¾å­¦æ¯”ä¾‹ã€è‡ªç„¶ç”Ÿé•¿æ¨¡å¼ã€è‰ºæœ¯æ„å›¾</li>
</ul>
<p><strong>E</strong> - è‡ªç„¶å¸¸æ•°e</p>
<ul>
<li>æ•°å€¼ï¼šçº¦ç­‰äº2.718282</li>
<li>åº”ç”¨ï¼šæŒ‡æ•°å¢é•¿ã€è¡°å‡è¿‡ç¨‹ã€æ¦‚ç‡è®¡ç®—</li>
</ul>
<p><strong>SQRT2</strong> - 2çš„å¹³æ–¹æ ¹</p>
<ul>
<li>æ•°å€¼ï¼šçº¦ç­‰äº1.414214</li>
<li>åº”ç”¨ï¼šå¯¹è§’çº¿è·ç¦»ã€æ ‡å‡†åŒ–è®¡ç®—ã€å‡ ä½•å˜æ¢</li>
</ul>
<h2 data-id="heading-7">æ•°å­¦å¸¸é‡æ·±åº¦è§£æ</h2>
<h3 data-id="heading-8">PIï¼ˆåœ†å‘¨ç‡ï¼‰</h3>
<p>åœ†å‘¨ç‡Ï€æ˜¯æ•°å­¦ä¸­æœ€è‘—åçš„å¸¸æ•°ä¹‹ä¸€ï¼Œä»£è¡¨åœ†çš„å‘¨é•¿ä¸ç›´å¾„çš„æ¯”å€¼ã€‚</p>
<p><strong>æ•°å­¦å®šä¹‰</strong>ï¼š</p>
<p>Ï€ = å‘¨é•¿ / ç›´å¾„ â‰ˆ 3.141592653589793</p>
<p><strong>åœ¨Shader Graphä¸­çš„åº”ç”¨</strong>ï¼š</p>
<ul>
<li>è§’åº¦ä¸å¼§åº¦è½¬æ¢</li>
</ul>
<pre><code class="hljs language-ini" lang="ini">// è§’åº¦è½¬å¼§åº¦
<span class="hljs-attr">radians</span> = degrees * PI / <span class="hljs-number">180.0</span>

// å¼§åº¦è½¬è§’åº¦
<span class="hljs-attr">degrees</span> = radians * <span class="hljs-number">180.0</span> / PI
</code></pre>
<ul>
<li>åœ†å½¢å’Œå¼§å½¢è®¡ç®—</li>
</ul>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// åœ†å½¢åæ ‡è®¡ç®—</span>
float2 circlePosition = <span class="hljs-built_in">float2</span>(cos(angle * PI * <span class="hljs-number">2.0</span>), <span class="hljs-built_in">sin</span>(angle * PI * <span class="hljs-number">2.0</span>))

<span class="hljs-comment">// åœ†å¼§é•¿åº¦</span>
<span class="hljs-attribute">float</span> arcLength = radius * centralAngle * PI / <span class="hljs-number">180.0</span>
</code></pre>
<ul>
<li>å‘¨æœŸæ€§å‡½æ•°</li>
</ul>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// æ­£å¼¦æ³¢åŠ¨</span>
<span class="hljs-attribute">float</span> wave = <span class="hljs-built_in">sin</span>(time * PI * <span class="hljs-number">2.0</span>)

<span class="hljs-comment">// åœ†å½¢æ¸å˜</span>
<span class="hljs-attribute">float</span> circularGradient = <span class="hljs-built_in">length</span>(uv - <span class="hljs-number">0.5</span>) * PI
</code></pre>
<h3 data-id="heading-9">TAUï¼ˆ2Ï€å¸¸æ•°ï¼‰</h3>
<p>TAUæ˜¯åœ†å‘¨ç‡çš„ä¸¤å€ï¼Œä»£è¡¨å®Œæ•´çš„åœ†å‘¨å¼§åº¦ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹å¯ä»¥ç®€åŒ–æ•°å­¦è¡¨è¾¾å¼ã€‚</p>
<p><strong>æ•°å­¦å®šä¹‰</strong>ï¼š</p>
<p>Ï„ = 2Ï€ â‰ˆ 6.283185307179586</p>
<p><strong>åœ¨Shader Graphä¸­çš„åº”ç”¨</strong>ï¼š</p>
<ul>
<li>å®Œæ•´çš„å‘¨æœŸè®¡ç®—</li>
</ul>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// ä½¿ç”¨TAUçš„å®Œæ•´å‘¨æœŸæ­£å¼¦æ³¢</span>
<span class="hljs-attribute">float</span> sineWave = <span class="hljs-built_in">sin</span>(time * TAU)

<span class="hljs-comment">// åœ†å½¢éå†</span>
<span class="hljs-built_in">for</span>(float i = <span class="hljs-number">0.0</span>; i &lt; TAU; i += <span class="hljs-number">0.1</span>) {
    <span class="hljs-comment">// åœ†å½¢é‡‡æ ·ç‚¹</span>
}
</code></pre>
<ul>
<li>ç®€åŒ–è§’åº¦è®¡ç®—</li>
</ul>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// ä¼ ç»Ÿæ–¹å¼</span>
<span class="hljs-type">float</span> radians = degrees * PI / <span class="hljs-number">180.0</span>

<span class="hljs-comment">// ä½¿ç”¨TAUæ–¹å¼ï¼ˆæ¦‚å¿µä¸Šæ›´æ¸…æ™°ï¼‰</span>
<span class="hljs-type">float</span> radians = degrees * TAU / <span class="hljs-number">360.0</span>
</code></pre>
<h3 data-id="heading-10">PHIï¼ˆé»„é‡‘æ¯”ä¾‹ï¼‰</h3>
<p>é»„é‡‘æ¯”ä¾‹Ï†æ˜¯ä¸€ä¸ªæ— ç†æ•°ï¼Œåœ¨è‰ºæœ¯ã€å»ºç­‘å’Œè‡ªç„¶ç•Œä¸­å¹¿æ³›å­˜åœ¨ï¼Œè¢«è®¤ä¸ºå…·æœ‰ç¾å­¦ä¸Šçš„å®Œç¾æ¯”ä¾‹ã€‚</p>
<p><strong>æ•°å­¦å®šä¹‰</strong>ï¼š</p>
<p>Ï† = (1 + âˆš5) / 2 â‰ˆ 1.618033988749895</p>
<p><strong>åœ¨Shader Graphä¸­çš„åº”ç”¨</strong>ï¼š</p>
<ul>
<li>ç¾å­¦æ¯”ä¾‹å¸ƒå±€</li>
</ul>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// é»„é‡‘æ¯”ä¾‹åˆ†å‰²</span>
<span class="hljs-type">float</span> goldenSection = totalLength / PHI

<span class="hljs-comment">// é»„é‡‘çŸ©å½¢æ¯”ä¾‹</span>
<span class="hljs-type">float</span> goldenRectangleWidth = height * PHI
</code></pre>
<ul>
<li>è‡ªç„¶ç”Ÿé•¿æ¨¡å¼æ¨¡æ‹Ÿ</li>
</ul>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// æ–æ³¢é‚£å¥‘èºæ—‹</span>
<span class="hljs-attribute">float</span> spiralRadius = baseRadius * <span class="hljs-built_in">pow</span>(PHI, angle / (PI * <span class="hljs-number">2.0</span>))
</code></pre>
<ul>
<li>é¢œè‰²å’Œäº®åº¦åˆ†å¸ƒ</li>
</ul>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// åŸºäºé»„é‡‘æ¯”ä¾‹çš„äº®åº¦è¡°å‡</span>
<span class="hljs-attribute">float</span> brightness = baseBrightness / <span class="hljs-built_in">pow</span>(PHI, distance)
</code></pre>
<h3 data-id="heading-11">Eï¼ˆè‡ªç„¶å¸¸æ•°ï¼‰</h3>
<p>è‡ªç„¶å¸¸æ•°eæ˜¯è‡ªç„¶å¯¹æ•°å‡½æ•°çš„åº•æ•°ï¼Œåœ¨æŒ‡æ•°å¢é•¿å’Œè¡°å‡è¿‡ç¨‹ä¸­å…·æœ‰é‡è¦åœ°ä½ã€‚</p>
<p><strong>æ•°å­¦å®šä¹‰</strong>ï¼š</p>
<p>e = lim(1 + 1/n)â¿ â‰ˆ 2.718281828459045</p>
<p><strong>åœ¨Shader Graphä¸­çš„åº”ç”¨</strong>ï¼š</p>
<ul>
<li>æŒ‡æ•°è¡°å‡æ•ˆæœ</li>
</ul>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// è‡ªç„¶è¡°å‡</span>
<span class="hljs-attribute">float</span> decay = <span class="hljs-built_in">pow</span>(E, -decayRate * time)

<span class="hljs-comment">// å¹³æ»‘è¿‡æ¸¡</span>
<span class="hljs-attribute">float</span> smoothTransition = <span class="hljs-number">1.0</span> - <span class="hljs-built_in">pow</span>(E, -transitionSpeed * factor)
</code></pre>
<ul>
<li>æ¦‚ç‡åˆ†å¸ƒæ¨¡æ‹Ÿ</li>
</ul>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// æ­£æ€åˆ†å¸ƒè¿‘ä¼¼</span>
<span class="hljs-type">float</span> gaussian = <span class="hljs-built_in">pow</span>(E, <span class="hljs-number">-0.5</span> * <span class="hljs-built_in">pow</span>((x - mean) / deviation, <span class="hljs-number">2.0</span>))
</code></pre>
<ul>
<li>ç”Ÿé•¿è¿‡ç¨‹æ¨¡æ‹Ÿ</li>
</ul>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// æŒ‡æ•°å¢é•¿</span>
<span class="hljs-attribute">float</span> growth = initialValue * <span class="hljs-built_in">pow</span>(E, growthRate * time)
</code></pre>
<h3 data-id="heading-12">SQRT2ï¼ˆ2çš„å¹³æ–¹æ ¹ï¼‰</h3>
<p>2çš„å¹³æ–¹æ ¹æ˜¯å¯¹è§’çº¿ä¸è¾¹é•¿çš„æ¯”å€¼ï¼Œåœ¨è·ç¦»è®¡ç®—å’Œæ ‡å‡†åŒ–ä¸­éå¸¸æœ‰ç”¨ã€‚</p>
<p><strong>æ•°å­¦å®šä¹‰</strong>ï¼š</p>
<p>âˆš2 â‰ˆ 1.4142135623730951</p>
<p><strong>åœ¨Shader Graphä¸­çš„åº”ç”¨</strong>ï¼š</p>
<ul>
<li>å¯¹è§’çº¿è·ç¦»è®¡ç®—</li>
</ul>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// æœ€å¤§å¯èƒ½è·ç¦»ï¼ˆæ­£æ–¹å½¢ä¸­å¯¹è§’çº¿ï¼‰</span>
<span class="hljs-type">float</span> maxDistance = diagonalLength / SQRT2

<span class="hljs-comment">// æ ‡å‡†åŒ–å¤„ç†</span>
<span class="hljs-type">float</span> normalizedValue = rawValue / SQRT2
</code></pre>
<ul>
<li>çº¹ç†é‡‡æ ·åç§»</li>
</ul>
<pre><code class="hljs language-ini" lang="ini">// å¯¹è§’çº¿æ–¹å‘é‡‡æ ·
float2 <span class="hljs-attr">diagonalOffset</span> = float2(<span class="hljs-number">1.0</span>, <span class="hljs-number">1.0</span>) * <span class="hljs-literal">off</span>setAmount / SQRT2
</code></pre>
<h2 data-id="heading-13">å®é™…åº”ç”¨ç¤ºä¾‹</h2>
<h3 data-id="heading-14">åœ†å½¢è¿›åº¦æ¡å®ç°</h3>
<p>ä½¿ç”¨PIå¸¸é‡åˆ›å»ºå¹³æ»‘çš„åœ†å½¢è¿›åº¦æŒ‡ç¤ºå™¨ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">HLSL

// åœ¨Fragment Shaderä¸­
void surf(Input IN, inout SurfaceOutputStandard o)
{
    // è®¡ç®—UVåæ ‡åˆ°åœ†å¿ƒçš„è·ç¦»å’Œè§’åº¦
    float2 <span class="hljs-attr">centeredUV</span> = IN.uv_MainTex - <span class="hljs-number">0.5</span><span class="hljs-comment">;</span>
    float <span class="hljs-attr">angle</span> = atan2(centeredUV.y, centeredUV.x)<span class="hljs-comment">;</span>
    float <span class="hljs-attr">radius</span> = length(centeredUV) * <span class="hljs-number">2.0</span><span class="hljs-comment">;</span>

    // ä½¿ç”¨PIè¿›è¡Œè§’åº¦æ ‡å‡†åŒ–
    float <span class="hljs-attr">normalizedAngle</span> = (angle + PI) / (<span class="hljs-number">2.0</span> * PI)<span class="hljs-comment">;</span>

    // è¿›åº¦è®¡ç®—ï¼ˆ0åˆ°1èŒƒå›´ï¼‰
    float <span class="hljs-attr">progress</span> = _Progress<span class="hljs-comment">;</span>

    // ç»˜åˆ¶åœ†å½¢è¿›åº¦æ¡
    if (radius &lt;= 1.0 &amp;&amp; radius &gt;= 0.8 &amp;&amp; normalizedAngle &lt;= progress) {
        <span class="hljs-attr">o.Albedo</span> = _ProgressColor<span class="hljs-comment">;</span>
    } else {
        <span class="hljs-attr">o.Albedo</span> = _BaseColor<span class="hljs-comment">;</span>
    }
}
</code></pre>
<h3 data-id="heading-15">æ³¢åŠ¨åŠ¨ç”»æ•ˆæœ</h3>
<p>åˆ©ç”¨TAUåˆ›å»ºæµç•…çš„æ³¢åŠ¨åŠ¨ç”»ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">HLSL

<span class="hljs-comment">// æ³¢åŠ¨æ•ˆæœå®ç°</span>
<span class="hljs-function"><span class="hljs-type">float</span> <span class="hljs-title">waveEffect</span><span class="hljs-params">(float2 position, <span class="hljs-type">float</span> time)</span>
</span>{
    <span class="hljs-comment">// ä½¿ç”¨TAUç®€åŒ–å®Œæ•´å‘¨æœŸè®¡ç®—</span>
    <span class="hljs-type">float</span> wave1 = <span class="hljs-built_in">sin</span>(position.x * _Frequency + time * TAU) * _Amplitude;
    <span class="hljs-type">float</span> wave2 = <span class="hljs-built_in">sin</span>(position.y * _Frequency + time * TAU + PI * <span class="hljs-number">0.5</span>) * _Amplitude;

    <span class="hljs-keyword">return</span> (wave1 + wave2) * <span class="hljs-number">0.5</span>;
}
</code></pre>
<h3 data-id="heading-16">é»„é‡‘æ¯”ä¾‹å¸ƒå±€ç³»ç»Ÿ</h3>
<p>åŸºäºPHIåˆ›å»ºè§†è§‰ä¸Šå’Œè°çš„UIå…ƒç´ å¸ƒå±€ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">HLSL

// é»„é‡‘æ¯”ä¾‹å¸ƒå±€è®¡ç®—
float2 goldenRatioLayout(float2 screenSize, int elementIndex)
{
    float <span class="hljs-attr">totalHeight</span> = screenSize.y<span class="hljs-comment">;</span>
    float <span class="hljs-attr">sectionHeight</span> = totalHeight / PHI<span class="hljs-comment">;</span>

    float <span class="hljs-attr">yPosition</span> = <span class="hljs-number">0.0</span><span class="hljs-comment">;</span>
    for(int <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; elementIndex; i++) {</span>
        yPosition += sectionHeight<span class="hljs-comment">;</span>
        sectionHeight /= PHI<span class="hljs-comment">; // æ¯ä¸ªéƒ¨åˆ†æŒ‰é»„é‡‘æ¯”ä¾‹ç¼©å°</span>
    }

    return float2(screenSize.x * 0.5, yPosition)<span class="hljs-comment">;</span>
}
</code></pre>
<h2 data-id="heading-17">æ€§èƒ½ä¼˜åŒ–å»ºè®®</h2>
<h3 data-id="heading-18">å¸¸é‡å€¼çš„ä¼˜åŒ–ä½¿ç”¨</h3>
<ul>
<li><strong>é¢„è®¡ç®—ç»„åˆå¸¸é‡</strong>ï¼šå°†å¸¸ç”¨çš„å¸¸é‡ç»„åˆé¢„å…ˆè®¡ç®—å¹¶å­˜å‚¨</li>
</ul>
<pre><code class="hljs language-ini" lang="ini">// ä¼˜åŒ–å‰
float <span class="hljs-attr">result</span> = inputValue * PI * <span class="hljs-number">2.0</span><span class="hljs-comment">;</span>

// ä¼˜åŒ–å
float <span class="hljs-attr">result</span> = inputValue * TAU<span class="hljs-comment">; // ä½¿ç”¨é¢„å®šä¹‰çš„TAUå¸¸é‡</span>
</code></pre>
<ul>
<li><strong>é¿å…é‡å¤è®¡ç®—</strong>ï¼šåœ¨Sub Graphä¸­å°è£…å¸¸ç”¨å¸¸é‡æ“ä½œ</li>
</ul>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// åˆ›å»ºè§’åº¦è½¬æ¢Sub Graph</span>
<span class="hljs-comment">// è¾“å…¥ï¼šè§’åº¦å€¼ï¼Œè¾“å‡ºï¼šå¼§åº¦å€¼</span>
<span class="hljs-comment">// å†…éƒ¨ä½¿ç”¨ï¼šPI / 180.0 çš„é¢„è®¡ç®—å¸¸é‡</span>
</code></pre>
<h3 data-id="heading-19">èŠ‚ç‚¹è¿æ¥ä¼˜åŒ–</h3>
<ul>
<li><strong>å‡å°‘é‡å¤ConstantèŠ‚ç‚¹</strong>ï¼šç›¸åŒå¸¸é‡å€¼åº”å…±äº«èŠ‚ç‚¹å®ä¾‹</li>
<li><strong>åˆç†ç»„ç»‡èŠ‚ç‚¹ç»“æ„</strong>ï¼šå°†å¸¸é‡è®¡ç®—é›†ä¸­ç®¡ç†ï¼Œæé«˜å¯è¯»æ€§å’Œæ€§èƒ½</li>
<li><strong>ä½¿ç”¨Sub Graphå°è£…</strong>ï¼šå°†å¤æ‚çš„å¸¸é‡ç›¸å…³è®¡ç®—å°è£…ä¸ºå¯é‡ç”¨ç»„ä»¶</li>
</ul>
<h2 data-id="heading-20">é«˜çº§æŠ€å·§ä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-21">è‡ªå®šä¹‰å¸¸é‡æ‰©å±•</h3>
<p>è™½ç„¶ConstantèŠ‚ç‚¹æä¾›çš„æ˜¯å›ºå®šå¸¸é‡ï¼Œä½†å¯ä»¥é€šè¿‡æ•°å­¦è¿ç®—åˆ›å»ºæ´¾ç”Ÿå¸¸é‡ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// åˆ›å»ºåŠPIå¸¸é‡
float <span class="hljs-attr">halfPI</span> = PI * <span class="hljs-number">0.5</span><span class="hljs-comment">;</span>

// åˆ›å»ºå››åˆ†ä¹‹ä¸€PIå¸¸é‡
float <span class="hljs-attr">quarterPI</span> = PI * <span class="hljs-number">0.25</span><span class="hljs-comment">;</span>

// åˆ›å»ºé»„é‡‘æ¯”ä¾‹çš„å€’æ•°
float <span class="hljs-attr">inversePHI</span> = <span class="hljs-number">1.0</span> / PHI<span class="hljs-comment">;</span>
</code></pre>
<h3 data-id="heading-22">ç²¾åº¦æ§åˆ¶æŠ€å·§</h3>
<p>åœ¨ä¸åŒç²¾åº¦éœ€æ±‚åœºæ™¯ä¸‹çš„ä½¿ç”¨æ–¹æ³•ï¼š</p>
<ul>
<li><strong>é«˜ç²¾åº¦è®¡ç®—</strong>ï¼šç›´æ¥ä½¿ç”¨ConstantèŠ‚ç‚¹æä¾›çš„å€¼</li>
<li><strong>æ€§èƒ½æ•æ„Ÿåœºæ™¯</strong>ï¼šè€ƒè™‘ä½¿ç”¨è¿‘ä¼¼å€¼æˆ–æŸ¥æ‰¾è¡¨</li>
<li><strong>ç§»åŠ¨ç«¯ä¼˜åŒ–</strong>ï¼šè¯„ä¼°æ˜¯å¦çœŸçš„éœ€è¦å…¨ç²¾åº¦å¸¸é‡</li>
</ul>
<h3 data-id="heading-23">è°ƒè¯•ä¸éªŒè¯</h3>
<p>ç¡®ä¿å¸¸é‡ä½¿ç”¨æ­£ç¡®çš„è°ƒè¯•æ–¹æ³•ï¼š</p>
<ul>
<li>ä½¿ç”¨PreviewèŠ‚ç‚¹å®æ—¶æŸ¥çœ‹å¸¸é‡è¾“å‡º</li>
<li>é€šè¿‡é¢œè‰²ç¼–ç å¯è§†åŒ–å¸¸é‡å€¼çš„åˆ†å¸ƒ</li>
<li>å»ºç«‹æµ‹è¯•ç”¨ä¾‹éªŒè¯å¸¸é‡è®¡ç®—çš„å‡†ç¡®æ€§</li>
</ul>
<h2 data-id="heading-24">å¸¸è§é—®é¢˜è§£ç­”</h2>
<h3 data-id="heading-25">ç²¾åº¦ç›¸å…³é—®é¢˜</h3>
<p><strong>é—®ï¼šConstantèŠ‚ç‚¹æä¾›çš„å¸¸é‡å€¼ç²¾åº¦è¶³å¤Ÿå—ï¼Ÿ</strong></p>
<p>ç­”ï¼šå¯¹äºç»å¤§å¤šæ•°å›¾å½¢åº”ç”¨ï¼ŒConstantèŠ‚ç‚¹æä¾›çš„ç²¾åº¦å®Œå…¨è¶³å¤Ÿã€‚åªæœ‰åœ¨æç«¯ç§‘å­¦è®¡ç®—æˆ–é‡‘èåº”ç”¨åœºæ™¯ä¸‹æ‰éœ€è¦è€ƒè™‘æ›´é«˜ç²¾åº¦ã€‚</p>
<p><strong>é—®ï¼šå¦‚ä½•éªŒè¯å¸¸é‡å€¼çš„å‡†ç¡®æ€§ï¼Ÿ</strong></p>
<p>ç­”ï¼šå¯ä»¥é€šè¿‡åˆ›å»ºç®€å•çš„æµ‹è¯•Shaderæ¥éªŒè¯ï¼Œæ¯”å¦‚ä½¿ç”¨PIè®¡ç®—åœ†çš„é¢ç§¯å¹¶ä¸ç†è®ºå€¼æ¯”è¾ƒã€‚</p>
<h3 data-id="heading-26">æ€§èƒ½ç›¸å…³é—®é¢˜</h3>
<p><strong>é—®ï¼šåœ¨Shaderä¸­ä½¿ç”¨ConstantèŠ‚ç‚¹ä¼šå½±å“æ€§èƒ½å—ï¼Ÿ</strong></p>
<p>ç­”ï¼šConstantèŠ‚ç‚¹åœ¨ç¼–è¯‘æ—¶ä¼šè¢«æ›¿æ¢ä¸ºå…·ä½“çš„æ•°å€¼å¸¸é‡ï¼Œè¿è¡Œæ—¶æ²¡æœ‰æ€§èƒ½å¼€é”€ã€‚</p>
<p><strong>é—®ï¼šåº”è¯¥ä¸ºæ¯ä¸ªå¸¸é‡åˆ›å»ºå•ç‹¬çš„èŠ‚ç‚¹å—ï¼Ÿ</strong></p>
<p>ç­”ï¼šä¸éœ€è¦ï¼Œç›¸åŒå€¼çš„å¸¸é‡åº”è¯¥å…±äº«èŠ‚ç‚¹å®ä¾‹ï¼Œä¸åŒå€¼çš„å¸¸é‡æ‰éœ€è¦åˆ†åˆ«åˆ›å»ºã€‚</p>
<h3 data-id="heading-27">åº”ç”¨ç›¸å…³é—®é¢˜</h3>
<p><strong>é—®ï¼šä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨TAUè€Œä¸æ˜¯PIï¼Ÿ</strong></p>
<p>ç­”ï¼šå½“è®¡ç®—æ¶‰åŠå®Œæ•´å‘¨æœŸï¼ˆ360åº¦æˆ–2Ï€å¼§åº¦ï¼‰æ—¶ï¼Œä½¿ç”¨TAUå¯ä»¥ä½¿è¡¨è¾¾å¼æ›´ç®€æ´ç›´è§‚ã€‚</p>
<p><strong>é—®ï¼šé»„é‡‘æ¯”ä¾‹åœ¨æ¸¸æˆå¼€å‘ä¸­çš„å®é™…ä»·å€¼æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<p>ç­”ï¼šé»„é‡‘æ¯”ä¾‹å¯ä»¥å¸®åŠ©åˆ›å»ºè§†è§‰ä¸Šæ›´å’Œè°çš„æ¯”ä¾‹å…³ç³»ï¼Œåœ¨UIè®¾è®¡ã€å…³å¡å¸ƒå±€ã€è§’è‰²æ¯”ä¾‹ç­‰æ–¹é¢éƒ½æœ‰åº”ç”¨ä»·å€¼ã€‚</p>
<hr/>
<blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fchenghai37%2Fcategory_13074589.html%3Ffromshare%3Dblogcolumn%26sharetype%3Dblogcolumn%26sharerId%3D13074589%26sharerefer%3DPC%26sharesource%3Dchenghai37%26sharefrom%3Dfrom_link" target="_blank" title="https://blog.csdn.net/chenghai37/category_13074589.html?fromshare=blogcolumn&amp;sharetype=blogcolumn&amp;sharerId=13074589&amp;sharerefer=PC&amp;sharesource=chenghai37&amp;sharefrom=from_link" ref="nofollow noopener noreferrer">ã€Unity Shader Graph ä½¿ç”¨ä¸ç‰¹æ•ˆå®ç°ã€‘</a><strong>ä¸“æ -ç›´è¾¾</strong>
ï¼ˆæ¬¢è¿<em>ç‚¹èµç•™è¨€</em>æ¢è®¨ï¼Œæ›´å¤šäººåŠ å…¥è¿›æ¥èƒ½æ›´åŠ å®Œå–„è¿™ä¸ªæ¢ç´¢çš„è¿‡ç¨‹ï¼ŒğŸ™ï¼‰</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SpringBooté›†æˆLine Messaging API]]></title>    <link>https://juejin.cn/post/7595055962152435712</link>    <guid>https://juejin.cn/post/7595055962152435712</guid>    <pubDate>2026-01-15T02:35:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595055962152435712" data-draft-id="7594667893015560207" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SpringBooté›†æˆLine Messaging API"/> <meta itemprop="keywords" content="Java,Spring"/> <meta itemprop="datePublished" content="2026-01-15T02:35:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="hinotoyk"/> <meta itemprop="url" content="https://juejin.cn/user/2101921964362926"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SpringBooté›†æˆLine Messaging API
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2101921964362926/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    hinotoyk
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-15T02:35:08.000Z" title="Thu Jan 15 2026 02:35:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="darcula">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#bababa}.hljs-emphasis,.hljs-strong{color:#a8a8a2}.hljs-bullet,.hljs-link,.hljs-literal,.hljs-number,.hljs-quote,.hljs-regexp{color:#6896ba}.hljs-code,.hljs-selector-class{color:#a6e22e}.hljs-emphasis{font-style:italic}.hljs-attribute,.hljs-keyword,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-variable{color:#cb7832}.hljs-params{color:#b9b9b9}.hljs-string{color:#6a8759}.hljs-addition,.hljs-built_in,.hljs-builtin-name,.hljs-selector-attr,.hljs-selector-id,.hljs-selector-pseudo,.hljs-subst,.hljs-symbol,.hljs-template-tag,.hljs-template-variable,.hljs-type{color:#e0c46c}.hljs-comment,.hljs-deletion,.hljs-meta{color:#7f7f7f}</style><blockquote>
<p>ä¸çŸ¥é“ä¸Šä¸€æ¬¡å†™åšå®¢æ˜¯å•¥æ—¶å€™äº†ï¼Œè¶ç°åœ¨æœ‰ç©ºå†™ä¸€ä¸‹ï¼Œå› ä¸ºæµ·å¤–ä¸šåŠ¡æ‹“å±•ï¼Œç°åœ¨å®¢æœç³»ç»Ÿéœ€è¦æ¥å…¥Lineï¼Œåšæ‰¹é‡å‘é€ä¿¡æ¯ï¼ŒVIPç§åŸŸç­‰å·¥ä½œå› æ­¤éœ€è¦å¯¹æ¥Line Messaging API</p>
</blockquote>
<blockquote>
<p>ç¯å¢ƒ<br/>
openJDK17<br/>
Springboot3.3.0</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€ä¾èµ–</h2>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.linecorp.bot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>line-bot-spring-boot<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.0.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h2 data-id="heading-1">äºŒã€Line Webhook</h2>
<p>ç®€å•æ¥è¯´ï¼Œ<strong>Webhookå°±æ˜¯LineæœåŠ¡å™¨å‘ç»™ä½ æœåŠ¡å™¨çš„ä¸€ä¸ªâ€œé€šçŸ¥å•â€</strong>ã€‚</p>
<p>å½“ç”¨æˆ·åœ¨Lineä¸Šç»™ä½ çš„Botå‘æ¶ˆæ¯ã€åŠ å¥½å‹ã€æˆ–è€…æ‹‰ç¾¤æ—¶ï¼ŒLineçš„æœåŠ¡å™¨ä¼šæŠŠè¿™äº›åŠ¨ä½œå°è£…æˆä¸€ä¸ªHTTP POSTè¯·æ±‚ï¼Œå‘é€åˆ°ä½ é¢„å…ˆé…ç½®å¥½çš„URLä¸Šã€‚è¿™ä¸ªURLå°±æ˜¯Webhook URLã€‚</p>
<p>æˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯å†™ä¸€ä¸ªæ¥å£ï¼Œç­‰ç€æ¥æ”¶è¿™äº›è¯·æ±‚ï¼Œè§£æé‡Œé¢çš„Eventç„¶åæ ¹æ®ä¸šåŠ¡é€»è¾‘åšå‡ºå“åº”ã€‚</p>
<h2 data-id="heading-2">ä¸‰ã€è·å–é…ç½®ä¸é¡¹ç›®è®¾ç½®</h2>
<h4 data-id="heading-3">1. ç”³è¯·å®˜æ–¹è´¦å·</h4>
<p>ç™»å½• <a href="https://link.juejin.cn?target=https%3A%2F%2Faccount.line.biz%2Flogin" target="_blank" title="https://account.line.biz/login" ref="nofollow noopener noreferrer">Log in with LINE Business ID</a> åˆ›å»ºä¸€ä¸ª <strong>å®˜æ–¹è´¦å·</strong> ï¼Œåªæœ‰å®˜æ–¹è´¦å·æ‰èƒ½å¼€Messaging API</p>
<h4 data-id="heading-4">2. è·å–Channelé…ç½®</h4>
<p>ç„¶ååˆ°æ§åˆ¶å° <a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.line.biz%2F" target="_blank" title="https://developers.line.biz/" ref="nofollow noopener noreferrer">Line Developers Console</a> åˆ›å»ºä¸€ä¸ª <strong>Messaging API</strong> ç±»å‹çš„channelå¹¶å¯ç”¨ã€‚
å¹¶æ‹¿åˆ°å”¯ä¸€æ ‡è¯†ã€å¯†é’¥å’Œä»¤ç‰Œï¼š</p>
<ul>
<li><strong>Channel ID</strong>ï¼šé¢‘é“çš„å”¯ä¸€æ ‡è¯†</li>
<li><strong>Channel Secret</strong>ï¼šé¢‘é“çš„å¯†é’¥ï¼Œç”¨äºæ ¡éªŒç­¾å</li>
<li><strong>Channel Access Token</strong>ï¼šè®¿é—®ä»¤ç‰Œï¼Œä½ è°ƒç”¨Line APIï¼ˆæ¯”å¦‚ä¸»åŠ¨å‘æ¶ˆæ¯ï¼‰æ—¶éœ€è¦å¸¦ä¸Šå®ƒã€‚</li>
</ul>
<h2 data-id="heading-5">å››ã€ä»£ç å®ç°</h2>
<h4 data-id="heading-6">1. é…ç½®ç±»å’Œæ¥å£</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LineChannelConfig</span> {
    <span class="hljs-keyword">private</span> String channelId;
    <span class="hljs-keyword">private</span> String channelSecret;
    <span class="hljs-keyword">private</span> String accessToken;
}


<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ChannelClient</span> {

    <span class="hljs-comment">/**
     * å‘é€æ¶ˆæ¯
     *
     * <span class="hljs-doctag">@param</span> userId channelå†…ç”¨æˆ·çš„å”¯ä¸€æ ‡è¯†ï¼ŒåŒä¸ªç”¨æˆ·åœ¨ä¸åŒchannelä¹‹é—´çš„userIdæ˜¯ä¸åŒçš„ï¼Œéœ€è¦æ³¨æ„
     * <span class="hljs-doctag">@param</span> message   æ¶ˆæ¯å†…å®¹
     * <span class="hljs-doctag">@return</span> å‘é€ç»“æœï¼ŒæˆåŠŸè¿”å›trueï¼Œå¤±è´¥è¿”å›false
     */</span>
    <span class="hljs-type">boolean</span> <span class="hljs-title function_">sendMessage</span><span class="hljs-params">(String userId, String message)</span>;
}
</code></pre>
<h4 data-id="heading-7">2. è·å–Lineé…ç½®</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Slf4j</span>
<span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@RequiredArgsConstructor</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ThirdChannelConfiguration</span> {
    <span class="hljs-comment">/**
     * å­˜å‚¨ LINE æ¸ é“é…ç½®
     * Key: channelId, Value: LineChannelConfig
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Map&lt;String, LineChannelConfig&gt; lineChannelConfigMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();
    <span class="hljs-comment">/**
     * å®šæ—¶åˆ·æ–°é…ç½®ï¼ˆæ¯1åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ï¼‰
     */</span>
    <span class="hljs-meta">@Scheduled(fixedRate = 1 * 60 * 1000 L, initialDelay = 1 * 60 * 1000 L)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">refreshConfigs</span><span class="hljs-params">()</span> {
        log.info(<span class="hljs-string">"å¼€å§‹åˆ·æ–° Line Bot Channel é…ç½®"</span>);
        loadChannelConfigs();
    }
    <span class="hljs-comment">/**
     * ä»æ•°æ®åº“åŠ è½½é…ç½®
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">loadChannelConfigs</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">var</span> <span class="hljs-variable">lineChannelConfigList</span> <span class="hljs-operator">=</span> loadFromDatabase();
            <span class="hljs-keyword">if</span>(CollectionUtilisNotEmpty(lineChannelConfigList)) {
                lineChannelConfigMap = lineChannelConfigList.stream()
                .collect(Collectors.toMap(
                        LineChannelConfig::getChannelId,
                        Function.identity()
                ));
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"åŠ è½½é…ç½®å¤±è´¥: {}"</span>, e.getMessage(), e);
        }
    }
}
</code></pre>
<h4 data-id="heading-8">3. è·å–LINEæ¸ é“å®¢æˆ·ç«¯</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LineChannelClient</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ChannelClient</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> LineChannelConfig config;
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">LineChannelClient</span><span class="hljs-params">(LineChannelConfig config)</span> {
        <span class="hljs-built_in">this</span>.config = config;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">sendMessage</span><span class="hljs-params">(String userId, String message)</span> {
        <span class="hljs-comment">// 1. åŸºç¡€æ ¡éªŒ</span>
        <span class="hljs-keyword">if</span> (StrUtil.isBlank(userId) || StrUtil.isBlank(message)) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }

        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// 2. æ„å»ºLine APIè¯·æ±‚ä½“ (JSONæ ¼å¼)</span>
            <span class="hljs-comment">// æ ¼å¼å‚è€ƒ: https://developers.line.biz/en/reference/messaging-api/#send-push-message</span>
            Map&lt;String, Object&gt; body = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
            body.put(<span class="hljs-string">"to"</span>, userId);
            List&lt;Map&lt;String, String&gt;&gt; messages = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
            Map&lt;String, String&gt; textMessage = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
            textMessage.put(<span class="hljs-string">"type"</span>, <span class="hljs-string">"text"</span>);
            textMessage.put(<span class="hljs-string">"text"</span>, message);
            messages.add(textMessage);

            <span class="hljs-type">String</span> <span class="hljs-variable">jsonBody</span> <span class="hljs-operator">=</span> JSONUtil.toJsonStr(body);

            <span class="hljs-comment">// 3. ä½¿ç”¨Hutoolå‘é€HTTP POSTè¯·æ±‚</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> HttpRequest.post(<span class="hljs-string">"https://api.line.me/v2/bot/message/push"</span>)
                .header(Header.AUTHORIZATION, <span class="hljs-string">"Bearer "</span> + config.getAccessToken())
                .header(Header.CONTENT_TYPE, <span class="hljs-string">"application/json"</span>)
                .body(jsonBody)
                .timeout(<span class="hljs-number">5000</span>) <span class="hljs-comment">// è®¾ç½®è¶…æ—¶</span>
                .execute()
                .body();

            <span class="hljs-comment">// 4. è§£æå“åº”ç»“æœ</span>
            <span class="hljs-comment">// Line APIæˆåŠŸé€šå¸¸è¿”å›ç©ºJSONå¯¹è±¡ {}ï¼ŒçŠ¶æ€ç 200</span>
            <span class="hljs-comment">// è¿™é‡Œç®€åŒ–åˆ¤æ–­ï¼Œå¦‚æœç»“æœä¸ä¸ºç©ºä¸”åŒ…å«é”™è¯¯ä¿¡æ¯åˆ™è®¤ä¸ºå¤±è´¥</span>
            <span class="hljs-keyword">if</span> (StrUtil.contains(result, <span class="hljs-string">"error"</span>)) {
                log.error(<span class="hljs-string">"Lineæ¨é€å¤±è´¥: {}"</span>, result);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }

            log.info(<span class="hljs-string">"Lineæ¨é€æˆåŠŸ"</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;

        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"Lineæ¨é€å¼‚å¸¸"</span>, e);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
}
</code></pre>
<h4 data-id="heading-9">4. æ”¶å‘æ¶ˆæ¯ï¼ˆWebhookå¤„ç†ï¼‰</h4>
<ul>
<li>åœ¨æ­¤ä¹‹å‰ä½ éœ€è¦ä¸€ä¸ªå…¬ç½‘ipï¼Œä»¥åŠé…ç½®Webhook URLã€å¼€å¯webhookåŠŸèƒ½</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bb8368933cb74f95a3f22354033928b7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaGlub3RveWs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049307&amp;x-signature=vJeijtz0uJ6y84b7SIwo0sMTuKY%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-meta">@Slf4j</span>
    <span class="hljs-meta">@RestController</span>
    <span class="hljs-meta">@RequestMapping("/line/webhook")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LineWebhookController</span> {
        <span class="hljs-meta">@Resource</span>
        <span class="hljs-keyword">private</span> ThirdChannelConfiguration thirdChannelConfiguration;

        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">ObjectMapper</span> <span class="hljs-variable">objectMapper</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectMapper</span>();

        <span class="hljs-comment">/**
         * å¤„ç† Line Bot Webhook å›è°ƒ
         * æ”¯æŒå¤šä¸ª Channelï¼Œé€šè¿‡è·¯å¾„å‚æ•°åŒºåˆ†ä¸åŒçš„ Channel
         *
         * <span class="hljs-doctag">@param</span> channelId é¢‘é“ID
         * <span class="hljs-doctag">@param</span> body      è¯·æ±‚ä½“
         * <span class="hljs-doctag">@return</span> å“åº”ç»“æœ
         */</span>
        <span class="hljs-meta">@PostMapping("/{channelId}")</span>
        <span class="hljs-keyword">public</span> ResultBean <span class="hljs-title function_">handleWebhook</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> String channelId,
                                        <span class="hljs-meta">@RequestHeader("X-Line-Signature")</span> String signature,
                                        <span class="hljs-meta">@RequestBody</span> String body)</span> {
            <span class="hljs-keyword">try</span> {

                <span class="hljs-comment">// 1. ç­¾åéªŒè¯ </span>
                <span class="hljs-keyword">if</span> (!validateSignature(channelId, signature, body)) {
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"Invalid Signature"</span>);
                }

                <span class="hljs-comment">// è§£æ webhook äº‹ä»¶</span>
                <span class="hljs-type">JsonNode</span> <span class="hljs-variable">webhookData</span> <span class="hljs-operator">=</span> objectMapper.readTree(body);
                <span class="hljs-type">JsonNode</span> <span class="hljs-variable">events</span> <span class="hljs-operator">=</span> webhookData.get(<span class="hljs-string">"events"</span>);

                <span class="hljs-keyword">if</span> (events != <span class="hljs-literal">null</span> &amp;&amp; events.isArray()) {
                    <span class="hljs-keyword">for</span> (JsonNode event : events) {
                        handleMessageEvent(channelId, event);
                    }
                }

                <span class="hljs-keyword">return</span> ResultBean.success(<span class="hljs-string">"OK"</span>);

            } <span class="hljs-keyword">catch</span> (Exception e) {
                log.error(<span class="hljs-string">"å¤„ç† Webhook è¯·æ±‚å¤±è´¥ - Channel: {}, Error: {}"</span>, channelId, e.getMessage(), e);
                <span class="hljs-keyword">return</span> failure(<span class="hljs-string">"Internal Server Error"</span>);
            }
        }
    }
    
    
        <span class="hljs-comment">/**
     * éªŒè¯ Line Bot ç­¾å
     *
     * <span class="hljs-doctag">@param</span> channelId é¢‘é“ID
     * <span class="hljs-doctag">@param</span> signature ç­¾å
     * <span class="hljs-doctag">@param</span> body      è¯·æ±‚ä½“
     * <span class="hljs-doctag">@return</span> æ˜¯å¦éªŒè¯é€šè¿‡
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">validateSignature</span><span class="hljs-params">(String channelId, String signature, String body)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">String</span> <span class="hljs-variable">channelSecret</span> <span class="hljs-operator">=</span> ThirdChannelConfiguration.lineChannelConfigMap.get(channelId).getChannelSecret();
            <span class="hljs-keyword">if</span> (channelSecret == <span class="hljs-literal">null</span> || channelSecret.trim().isEmpty()) {
                log.warn(<span class="hljs-string">"Channel {} çš„ Secret æœªé…ç½®æˆ–ä¸ºç©º"</span>, channelId);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }

            <span class="hljs-keyword">if</span> (signature == <span class="hljs-literal">null</span> || signature.trim().isEmpty()) {
                log.warn(<span class="hljs-string">"Channel {} çš„ç­¾åä¸ºç©º"</span>, channelId);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }

            <span class="hljs-type">Mac</span> <span class="hljs-variable">mac</span> <span class="hljs-operator">=</span> Mac.getInstance(<span class="hljs-string">"HmacSHA256"</span>);
            <span class="hljs-type">SecretKeySpec</span> <span class="hljs-variable">secretKeySpec</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SecretKeySpec</span>(channelSecret.getBytes(StandardCharsets.UTF_8), <span class="hljs-string">"HmacSHA256"</span>);
            mac.init(secretKeySpec);

            <span class="hljs-type">byte</span>[] digest = mac.doFinal(body.getBytes(StandardCharsets.UTF_8));
            <span class="hljs-type">String</span> <span class="hljs-variable">computedSignature</span> <span class="hljs-operator">=</span> Base64.getEncoder().encodeToString(digest);

            <span class="hljs-type">boolean</span> <span class="hljs-variable">isValid</span> <span class="hljs-operator">=</span> signature.equals(computedSignature);
            <span class="hljs-keyword">if</span> (!isValid) {
                log.warn(<span class="hljs-string">"ç­¾åéªŒè¯å¤±è´¥ - Channel: {}, Expected: {}, Actual: {}"</span>,
                        channelId, computedSignature, signature);
            }

            <span class="hljs-keyword">return</span> isValid;

        } <span class="hljs-keyword">catch</span> (NoSuchAlgorithmException | InvalidKeyException e) {
            log.error(<span class="hljs-string">"ç­¾åéªŒè¯æ—¶å‘ç”Ÿé”™è¯¯ - Channel: {}, Error: {}"</span>, channelId, e.getMessage(), e);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"ç­¾åéªŒè¯æ—¶å‘ç”ŸæœªçŸ¥é”™è¯¯ - Channel: {}, Error: {}"</span>, channelId, e.getMessage(), e);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    
        <span class="hljs-comment">/**
     * å¤„ç†æ¶ˆæ¯äº‹ä»¶
     *
     * &lt;p&gt;å½“ç”¨æˆ·å‘å®˜æ–¹è´¦å·å‘é€æ¶ˆæ¯æ—¶è§¦å‘ã€‚æ”¯æŒæ–‡æœ¬ã€å›¾ç‰‡ã€è§†é¢‘ã€éŸ³é¢‘ã€ä½ç½®ã€è´´çº¸ç­‰å¤šç§æ¶ˆæ¯ç±»å‹ã€‚
     *
     * <span class="hljs-doctag">@param</span> channelId é¢‘é“ID
     * <span class="hljs-doctag">@param</span> event     äº‹ä»¶æ•°æ®
     * <span class="hljs-doctag">@see</span> &lt;a href="https://developers.line.biz/en/reference/messaging-api/#message-event"&gt;
     * LINE Messaging API - Message Event&lt;/a&gt;
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleMessageEvent</span><span class="hljs-params">(String channelId, JsonNode event)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">JsonNode</span> <span class="hljs-variable">message</span> <span class="hljs-operator">=</span> event.get(<span class="hljs-string">"message"</span>);
            <span class="hljs-type">String</span> <span class="hljs-variable">messageType</span> <span class="hljs-operator">=</span> message.get(<span class="hljs-string">"type"</span>).asText();
            <span class="hljs-type">String</span> <span class="hljs-variable">replyToken</span> <span class="hljs-operator">=</span> event.get(<span class="hljs-string">"replyToken"</span>).asText();

            <span class="hljs-comment">// è·å–ç”¨æˆ·ä¿¡æ¯</span>
            <span class="hljs-type">JsonNode</span> <span class="hljs-variable">source</span> <span class="hljs-operator">=</span> event.get(<span class="hljs-string">"source"</span>);
            <span class="hljs-type">String</span> <span class="hljs-variable">userId</span> <span class="hljs-operator">=</span> source.get(<span class="hljs-string">"userId"</span>).asText();
            <span class="hljs-type">String</span> <span class="hljs-variable">sourceType</span> <span class="hljs-operator">=</span> source.get(<span class="hljs-string">"type"</span>).asText();
            <span class="hljs-type">String</span> <span class="hljs-variable">groupId</span> <span class="hljs-operator">=</span> source.has(<span class="hljs-string">"groupId"</span>) ? source.get(<span class="hljs-string">"groupId"</span>).asText() : <span class="hljs-literal">null</span>;

            <span class="hljs-keyword">if</span> (<span class="hljs-string">"text"</span>.equals(messageType)) {
                <span class="hljs-comment">//æ¥æ”¶ä¿¡æ¯</span>
                <span class="hljs-type">String</span> <span class="hljs-variable">text</span> <span class="hljs-operator">=</span> message.get(<span class="hljs-string">"text"</span>).asText();
                log.info(<span class="hljs-string">"æ–‡æœ¬æ¶ˆæ¯å†…å®¹: {}"</span>, text);

                <span class="hljs-comment">//æµ‹è¯•å‘é€demo</span>
                <span class="hljs-type">var</span> <span class="hljs-variable">channelConfig</span> <span class="hljs-operator">=</span> ThirdChannelConfiguration.lineChannelConfigMap.get(channelId);
                <span class="hljs-type">var</span> <span class="hljs-variable">lineChannelClient</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">LineChannelClient</span>(channelConfig);
                <span class="hljs-type">String</span> <span class="hljs-variable">replyText</span> <span class="hljs-operator">=</span> <span class="hljs-string">"æ‚¨èªªäº†ï¼š"</span> + text;
                <span class="hljs-comment">//å‘é€ä¿¡æ¯</span>
                lineChannelClient.sendMessage(userId, replyText);
            }

        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"å¤„ç†æ¶ˆæ¯äº‹ä»¶å¤±è´¥ - Channel: {}, Error: {}"</span>, channelId, e.getMessage(), e);
        }
    }
    
    
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/895d2bf26fe94263a4a921324309980f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaGlub3RveWs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049307&amp;x-signature=l5EpXfvEpA0fy%2BoB53MM%2BigiDAk%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-10">äº”ã€æ€»ç»“</h2>
<p>æ•´ä¸ªæ¥å…¥è¿‡ç¨‹å…¶å®è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œä¸‡äº‹å¼€å¤´éš¾ï¼Œæœ€éš¾çš„ä¸€æ­¥è¿˜æ˜¯ç”³è¯·å®˜æ–¹è´¦å·é‡Œã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Gitå¤šä»“åº“åä½œåœºæ™¯]]></title>    <link>https://juejin.cn/post/7595108457494937615</link>    <guid>https://juejin.cn/post/7595108457494937615</guid>    <pubDate>2026-01-15T02:37:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595108457494937615" data-draft-id="7595089504618102818" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Gitå¤šä»“åº“åä½œåœºæ™¯"/> <meta itemprop="keywords" content="Git"/> <meta itemprop="datePublished" content="2026-01-15T02:37:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜é‡‘å¿ å®ç”¨æˆ·ç¨‹åºå‘˜"/> <meta itemprop="url" content="https://juejin.cn/user/1469364722494792"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Gitå¤šä»“åº“åä½œåœºæ™¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1469364722494792/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜é‡‘å¿ å®ç”¨æˆ·ç¨‹åºå‘˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-15T02:37:13.000Z" title="Thu Jan 15 2026 02:37:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Git ä»ä¸»ä»“åº“å¤åˆ»é¡¹ç›®ã€å®šå‘å¼€å‘ + æŒ‰éœ€æ‹‰å–ä¸»ä»“æŒ‡å®šæ›´æ–°ï¼ˆå®Œæ•´æ–¹æ¡ˆï¼‰</h2>
<p>ä½ è¿™ä¸ªéœ€æ±‚æ˜¯<strong>Git å¤šä»“åº“åä½œçš„ç»å…¸åœºæ™¯</strong>ï¼šåŸºäºä¸»ä»“åº“å¤åˆ»ä¸€ä»½ä»£ç åšç‹¬ç«‹å®šå‘å¼€å‘ï¼Œä¸»ä»“åº“åç»­æœ‰æ›´æ–°æ—¶ï¼Œ<strong>ä¸ç›²ç›®å…¨é‡åˆå¹¶</strong>ï¼Œè€Œæ˜¯<strong>ç²¾å‡†é€‰æ‹©éœ€è¦çš„æäº¤è®°å½• / åŠŸèƒ½æ›´æ–°</strong>åŒæ­¥åˆ°è‡ªå·±çš„ä»“åº“ï¼Œè¿™ä¸ªæ“ä½œåœ¨ Git é‡Œæœ‰ä¸“ä¸šå®ç°æ–¹å¼ï¼Œæˆ‘ä¼šæŠŠã€Œå®Œæ•´é…ç½® + ä¸¤ç§æŒ‰éœ€æ‹‰å–æ–¹æ¡ˆ + æ“ä½œç»†èŠ‚ + é¿å‘è¦ç‚¹ã€å…¨éƒ¨è®²æ¸…æ¥šï¼Œæ­¥éª¤æ¸…æ™°å¯ç›´æ¥å¥—ç”¨ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€å‰ç½®æ¦‚å¿µè¯´æ˜ï¼ˆå¿…çœ‹ï¼‰</h3>
<ol>
<li><strong>ä½ æœ¬åœ°çš„ä»“åº“</strong>ï¼šå«ã€Œæœ¬åœ°ä»“åº“ / å¤åˆ»ä»“åº“ã€ï¼Œæ˜¯ä½ ä»ä¸»ä»“åº“æ‹·è´è¿‡æ¥ã€åšå®šå‘å¼€å‘çš„ä»“åº“ï¼Œä½ çš„æ‰€æœ‰å¼€å‘æäº¤éƒ½åœ¨è¿™é‡Œï¼›</li>
<li><strong>ä¸»ä»“åº“</strong>ï¼šå«ã€Œä¸Šæ¸¸ä»“åº“ï¼ˆupstreamï¼‰ã€ï¼Œæ˜¯ä½ æœ€åˆæ‹·è´ä»£ç çš„æºå¤´ä»“åº“ï¼Œåˆ«äººç»´æŠ¤ã€ä¼šæŒç»­æ›´æ–°çš„ä»“åº“ï¼›</li>
<li>æ ¸å¿ƒé€»è¾‘ï¼šGit æ”¯æŒç»™ä¸€ä¸ªæœ¬åœ°ä»“åº“<strong>é…ç½®å¤šä¸ªè¿œç¨‹ä»“åº“åœ°å€</strong>ï¼Œä¸€ä¸ªæ˜¯ã€Œä½ çš„è¿œç«¯ä»“åº“ã€ï¼ˆæ¯”å¦‚ä½ è‡ªå·±çš„ Gitee/Github ä»“åº“ï¼Œç”¨æ¥æ¨é€ä½ çš„å¼€å‘ä»£ç ï¼‰ï¼Œä¸€ä¸ªæ˜¯ã€Œä¸»ä»“åº“ï¼ˆä¸Šæ¸¸ï¼‰ã€ï¼Œä¸“é—¨ç”¨æ¥<strong>æ‹‰å–ä¸»ä»“åº“çš„æ›´æ–°</strong>ï¼Œä¸¤ä¸ªåœ°å€äº’ä¸å¹²æ‰°ï¼Œè¿™æ˜¯å®ç°éœ€æ±‚çš„æ ¸å¿ƒåŸºç¡€ã€‚</li>
</ol>
<h3 data-id="heading-2">äºŒã€ç¬¬ä¸€æ­¥ï¼šåˆå§‹åŒ–é…ç½®ã€Œä¸Šæ¸¸ä»“åº“ (upstream)ã€ï¼ˆä¸€æ¬¡æ€§é…ç½®ï¼Œæ°¸ä¹…ç”Ÿæ•ˆï¼‰</h3>
<p>ä½ å·²ç»ä»ä¸»ä»“åº“æ‹·è´äº†é¡¹ç›®ï¼ˆ<code>git clone</code> ä¸»ä»“åœ°å€ï¼‰ï¼Œç°åœ¨éœ€è¦ç»™æœ¬åœ°ä»“åº“<strong>å…³è”ä¸»ä»“åº“ä¸ºä¸Šæ¸¸ä»“åº“</strong>ï¼Œç›®çš„æ˜¯è®©æœ¬åœ°ä»“åº“ã€ŒçŸ¥é“ä¸»ä»“åº“çš„ä½ç½®ã€ï¼Œåç»­å¯ä»¥ç›´æ¥ä»ä¸»ä»“åº“æ‹‰å–æ‰€æœ‰æ›´æ–°è®°å½•ï¼Œä¸ç”¨æ¯æ¬¡è¾“ä¸»ä»“åœ°å€ã€‚</p>
<h4 data-id="heading-3">âœ… æ“ä½œå‘½ä»¤ï¼ˆæŒ‰é¡ºåºæ‰§è¡Œï¼‰</h4>
<h5 data-id="heading-4">1. è¿›å…¥ä½ çš„æœ¬åœ°é¡¹ç›®æ ¹ç›®å½•</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> ä½ çš„é¡¹ç›®æ–‡ä»¶å¤¹è·¯å¾„
</code></pre>
<h5 data-id="heading-5">2. æŸ¥çœ‹å½“å‰å·²é…ç½®çš„è¿œç¨‹ä»“åº“ï¼ˆç¡®è®¤åˆå§‹çŠ¶æ€ï¼‰</h5>
<pre><code class="hljs">git remote -v
</code></pre>
<p>æ‰§è¡Œåä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„è¾“å‡ºï¼ˆåªæœ‰ä½ æœ€åˆ clone çš„ä»“åº“åœ°å€ï¼Œorigin æ˜¯é»˜è®¤åˆ«åï¼Œä»£è¡¨ã€Œä½ çš„è¿œç«¯ä»“åº“ã€ï¼‰ï¼š</p>
<p>plaintext</p>
<pre><code class="hljs language-scss" lang="scss">origin  git<span class="hljs-keyword">@github</span>.<span class="hljs-attribute">com</span>:ä½ çš„è´¦å·/ä½ çš„ä»“åº“.git (fetch)
origin  git<span class="hljs-keyword">@github</span>.<span class="hljs-attribute">com</span>:ä½ çš„è´¦å·/ä½ çš„ä»“åº“.git (push)
</code></pre>
<h5 data-id="heading-6">3. æ·»åŠ ã€Œä¸»ä»“åº“ã€ä¸ºã€Œä¸Šæ¸¸ä»“åº“ã€ï¼Œåˆ«åå›ºå®šç”¨ <code>upstream</code>ï¼ˆè¡Œä¸šé€šç”¨è§„èŒƒï¼‰</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ ¼å¼ï¼šgit remote add upstream ä¸»ä»“åº“çš„å…‹éš†åœ°å€ï¼ˆhttps/sshéƒ½å¯ä»¥ï¼‰</span>
git remote add upstream https://gitee.com/ä¸»ä»“åº“è´¦å·/ä¸»ä»“åº“åç§°.git
</code></pre>
<h5 data-id="heading-7">4. å†æ¬¡éªŒè¯è¿œç¨‹ä»“åº“é…ç½®ï¼ˆå¿…é¡»ç¡®è®¤æˆåŠŸï¼‰</h5>
<pre><code class="hljs">git remote -v
</code></pre>
<p>âœ… æˆåŠŸæ ‡å¿—ï¼šå‡ºç° <strong>origin</strong> å’Œ <strong>upstream</strong> ä¸¤ç»„åœ°å€ï¼Œ<code>origin</code> å¯¹åº”ä½ çš„ä»“åº“ï¼Œ<code>upstream</code> å¯¹åº”ä¸»ä»“åº“ï¼š</p>
<p>plaintext</p>
<pre><code class="hljs language-scss" lang="scss">origin    git<span class="hljs-keyword">@xxx</span>.<span class="hljs-attribute">com</span>:ä½ çš„ä»“åº“.git (fetch)
origin    git<span class="hljs-keyword">@xxx</span>.<span class="hljs-attribute">com</span>:ä½ çš„ä»“åº“.git (push)
upstream  <span class="hljs-attribute">https</span>://xxx.<span class="hljs-attribute">com</span>:ä¸»ä»“åº“.git (fetch)
upstream  <span class="hljs-attribute">https</span>://xxx.<span class="hljs-attribute">com</span>:ä¸»ä»“åº“.git (push)
</code></pre>
<hr/>
<h3 data-id="heading-8">ä¸‰ã€ç¬¬äºŒæ­¥ï¼šæ‹‰å–ä¸»ä»“åº“çš„ã€Œå…¨éƒ¨æ›´æ–°è®°å½•ã€åˆ°æœ¬åœ°ï¼ˆæ ¸å¿ƒå‰ç½®æ­¥éª¤ï¼‰</h3>
<p>ä¸»ä»“åº“çš„æ‰€æœ‰æ›´æ–°ï¼ˆåˆ«äººæäº¤çš„ä»£ç ã€ä¿®å¤çš„ bugã€æ–°å¢çš„åŠŸèƒ½ï¼‰ï¼Œæœ¬è´¨éƒ½æ˜¯<strong>ä¸€æ¡ä¸€æ¡çš„æäº¤è®°å½•ï¼ˆcommitï¼‰</strong> ï¼Œæ¯ä¸€æ¡ commit éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ <strong>commit-idï¼ˆæäº¤ IDï¼‰</strong> ï¼Œæ ¼å¼æ˜¯ä¸€ä¸² 40 ä½çš„å“ˆå¸Œå€¼ï¼ˆå¦‚ <code>a1b2c3d4ef567890...</code>ï¼‰ã€‚</p>
<p>ä½ è¦ã€Œé€‰æ‹©æ‹‰å–æŒ‡å®šæäº¤è®°å½•ã€ï¼Œ<strong>å‰æå¿…é¡»æ˜¯ï¼šæœ¬åœ°å…ˆæ‹¿åˆ°ä¸»ä»“åº“çš„æ‰€æœ‰æ›´æ–°è®°å½•</strong>ï¼Œå†ä»ä¸­æŒ‘é€‰éœ€è¦çš„ã€‚è¿™ä¸ªæ‹‰å–æ“ä½œä¸ä¼šç›´æ¥ä¿®æ”¹ä½ çš„ä»£ç ï¼Œåªæ˜¯æŠŠä¸»ä»“åº“çš„æœ€æ–°åˆ†æ”¯ã€æœ€æ–°æäº¤è®°å½•ã€Œä¸‹è½½åˆ°æœ¬åœ°ç¼“å­˜ã€ï¼Œå®Œå…¨å®‰å…¨ã€‚</p>
<h4 data-id="heading-9">âœ… æ ¸å¿ƒå‘½ä»¤ï¼ˆæ‹‰å–ä¸»ä»“æ‰€æœ‰æ›´æ–°ï¼Œä¸åˆå¹¶ã€ä¸æ±¡æŸ“æœ¬åœ°ä»£ç ï¼‰</h4>
<pre><code class="hljs language-sql" lang="sql">git <span class="hljs-keyword">fetch</span> upstream
</code></pre>
<ul>
<li>âœ”ï¸ ä½œç”¨ï¼šä» <code>upstream</code>ï¼ˆä¸»ä»“åº“ï¼‰æ‹‰å–<strong>æ‰€æœ‰åˆ†æ”¯ã€æ‰€æœ‰æœ€æ–°çš„æäº¤è®°å½•</strong>åˆ°æœ¬åœ°ï¼Œ<strong>ä¸ä¼šåˆå¹¶åˆ°ä½ çš„å½“å‰å¼€å‘åˆ†æ”¯</strong>ï¼Œä½ çš„ä»£ç å®Œå…¨ä¸å˜ï¼›</li>
<li>âœ”ï¸ è¿™ä¸ªå‘½ä»¤æ˜¯ã€ŒæŒ‰éœ€åŒæ­¥ä¸»ä»“æ›´æ–°ã€çš„<strong>å¿…ç»å‰ç½®æ“ä½œ</strong>ï¼Œæ¯æ¬¡æƒ³é€‰ä¸»ä»“çš„æ›´æ–°ï¼Œéƒ½å…ˆæ‰§è¡Œè¿™è¡Œã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-10">å››ã€æ ¸å¿ƒæ–¹æ¡ˆï¼šä¸¤ç§ã€Œé€‰æ‹©æ‹‰å–ä¸»ä»“æŒ‡å®šæäº¤è®°å½•ã€çš„æ–¹å¼ï¼ˆæŒ‰éœ€é€‰ç”¨ï¼‰</h3>
<p>ä½ çš„æ ¸å¿ƒéœ€æ±‚æ˜¯ï¼š<strong>ä¸æŠŠä¸»ä»“çš„æ‰€æœ‰æ›´æ–°éƒ½åˆè¿‡æ¥ï¼ŒåªæŒ‘è‡ªå·±éœ€è¦çš„æäº¤è®°å½•åŒæ­¥åˆ°æœ¬åœ°å¼€å‘åˆ†æ”¯</strong>ï¼ŒGit æä¾›äº†ä¸¤ç§ç²¾å‡†ã€å®‰å…¨çš„å®ç°æ–¹å¼ï¼Œè¦†ç›– 99% çš„ä¸šåŠ¡åœºæ™¯ï¼Œæ²¡æœ‰ä¼˜åŠ£ï¼ŒæŒ‰éœ€é€‰æ‹©å³å¯ï¼Œæˆ‘ä¼šæŠŠé€‚ç”¨åœºæ™¯ + æ“ä½œæ­¥éª¤ + å‘½ä»¤å†™æ­»ï¼Œç›´æ¥å¤åˆ¶ç”¨ã€‚</p>
<h4 data-id="heading-11">âœ… æ–¹å¼ä¸€ï¼šgit cherry-pick ã€æ¨èï¼90% åœºæ™¯ç”¨è¿™ä¸ªã€‘</h4>
<h5 data-id="heading-12">âœ… é€‚ç”¨åœºæ™¯</h5>
<blockquote>
<p>åªéœ€è¦ä¸»ä»“åº“çš„ã€ŒæŸ 1 ä¸ªã€æˆ–ã€ŒæŸå‡ ä¸ªåˆ†æ•£çš„ã€æäº¤è®°å½•ï¼ˆæ¯”å¦‚ä¸»ä»“ä¿®å¤äº†ä¸€ä¸ªå…³é”® bugã€åŠ äº†ä¸€ä¸ªå°åŠŸèƒ½ï¼Œå¯¹åº” 1 æ¡ commitï¼›æˆ–è€…ä¸»ä»“æœ‰ 3 æ¡æäº¤ï¼Œä½ åªéœ€è¦ç¬¬ 1 å’Œç¬¬ 3 æ¡ï¼‰ï¼Œ<strong>ç²¾å‡†æŒ‘é€‰å•æ¡ / å¤šæ¡æäº¤</strong>åŒæ­¥åˆ°è‡ªå·±çš„åˆ†æ”¯ï¼Œæ˜¯æœ€å¸¸ç”¨çš„ã€Œå®šå‘æ‹‰å–ã€æ–¹æ¡ˆã€‚</p>
</blockquote>
<h5 data-id="heading-13">âœ… æ ¸å¿ƒåŸç†</h5>
<p><code>cherry-pick</code> ç›´è¯‘æ˜¯ã€ŒæŒ‘æ¨±æ¡ƒã€ï¼Œä½œç”¨æ˜¯ï¼š<strong>æŠŠå…¶ä»–åˆ†æ”¯ï¼ˆä¸»ä»“åˆ†æ”¯ï¼‰ä¸Šçš„ã€ŒæŒ‡å®š 1 ä¸ª / å¤šä¸ª commitã€ï¼Œå¤åˆ¶ä¸€ä»½ï¼Œåº”ç”¨åˆ°è‡ªå·±å½“å‰çš„å¼€å‘åˆ†æ”¯ä¸Š</strong>ï¼Œä¸ä¼šå¼•å…¥ä»»ä½•ä½ ä¸éœ€è¦çš„æäº¤ï¼Œå®Œç¾å¥‘åˆä½ çš„éœ€æ±‚ã€‚</p>
<h5 data-id="heading-14">âœ… å®Œæ•´æ“ä½œæ­¥éª¤ï¼ˆ3 æ­¥èµ°ï¼Œæ— è„‘å¤åˆ¶ï¼‰</h5>
<h6 data-id="heading-15">1. å…ˆæ‰§è¡Œå‰ç½®æ‹‰å–ï¼ˆæ‹¿åˆ°ä¸»ä»“æœ€æ–°æäº¤è®°å½•ï¼‰</h6>
<pre><code class="hljs language-sql" lang="sql">git <span class="hljs-keyword">fetch</span> upstream
</code></pre>
<h6 data-id="heading-16">2. æŸ¥çœ‹ä¸»ä»“åº“çš„æäº¤è®°å½•ï¼Œæ‰¾åˆ°ä½ éœ€è¦çš„ã€Œcommit-idã€ï¼ˆå…³é”®ï¼ï¼‰</h6>
<p>å‡è®¾ä¸»ä»“åº“çš„é»˜è®¤å¼€å‘åˆ†æ”¯æ˜¯ <code>main</code>ï¼ˆä¹Ÿå¯èƒ½æ˜¯ <code>master</code>ï¼ŒæŒ‰éœ€æ›¿æ¢ï¼‰ï¼ŒæŸ¥çœ‹ä¸»ä»“ <code>main</code> åˆ†æ”¯çš„æ‰€æœ‰æäº¤è®°å½•ï¼Œæ‹¿åˆ°éœ€è¦çš„ commit-idï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹ä¸»ä»“mainåˆ†æ”¯çš„æäº¤è®°å½•ï¼Œæ˜¾ç¤º æäº¤ID + æäº¤ä½œè€… + æäº¤å¤‡æ³¨</span>
git <span class="hljs-built_in">log</span> --oneline upstream/main
</code></pre>
<p>æ‰§è¡Œåä¼šçœ‹åˆ°ç±»ä¼¼è¾“å‡ºï¼ˆ<strong>å·¦è¾¹çš„ 7 ä½å­—ç¬¦ä¸²å°±æ˜¯ç²¾ç®€ç‰ˆ commit-idï¼Œå¤Ÿç”¨äº†</strong>ï¼Œä¸ç”¨å†™å…¨ 40 ä½ï¼‰ï¼š</p>
<p>plaintext</p>
<pre><code class="hljs language-bash" lang="bash">a1b2c3d (upstream/main) ä¿®å¤ï¼šæ”¯ä»˜æ¥å£ç©ºæŒ‡é’ˆbug ã€ä½ éœ€è¦è¿™ä¸ªæäº¤ã€‘
f4e5d6f ä¼˜åŒ–ï¼šé¦–é¡µåŠ è½½é€Ÿåº¦
9876543 æ–°å¢ï¼šç”¨æˆ·å¤´åƒä¸Šä¼ åŠŸèƒ½ ã€ä½ ä¹Ÿéœ€è¦è¿™ä¸ªæäº¤ã€‘
7890abc æµ‹è¯•ï¼šæ–°å¢å•å…ƒæµ‹è¯•ç”¨ä¾‹
</code></pre>
<p>æ¯”å¦‚ä½ éœ€è¦ã€Œä¿®å¤æ”¯ä»˜æ¥å£ bugã€å’Œã€Œæ–°å¢å¤´åƒä¸Šä¼ ã€è¿™ä¸¤ä¸ªæäº¤ï¼Œå°±è®°ä¸‹æ¥å¯¹åº”çš„ commit-idï¼š<code>a1b2c3d</code> å’Œ <code>9876543</code>ã€‚</p>
<h6 data-id="heading-17">3. åˆ‡æ¢åˆ°è‡ªå·±çš„å¼€å‘åˆ†æ”¯ï¼Œæ‰§è¡Œ cherry-pick æŒ‘é€‰æäº¤</h6>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. åˆ‡æ¢åˆ°ä½ çš„æœ¬åœ°å¼€å‘åˆ†æ”¯ï¼ˆæ¯”å¦‚ä½ çš„åˆ†æ”¯å« devï¼ŒæŒ‰éœ€æ›¿æ¢ï¼‰</span>
git checkout dev

<span class="hljs-comment"># 2. æ–¹æ¡ˆAï¼šæŒ‘é€‰ã€Œå•æ¡æäº¤ã€ï¼ˆæœ€å¸¸ç”¨ï¼‰</span>
git cherry-pick a1b2c3d

<span class="hljs-comment"># 3. æ–¹æ¡ˆBï¼šæŒ‘é€‰ã€Œå¤šæ¡æäº¤ã€ï¼ˆä¸¤ç§å†™æ³•éƒ½å¯ä»¥ï¼‰</span>
<span class="hljs-comment"># å†™æ³•1ï¼šå¤šä¸ªcommit-idç©ºæ ¼åˆ†éš”ï¼ˆé€‚åˆåˆ†æ•£çš„æäº¤ï¼‰</span>
git cherry-pick a1b2c3d 9876543

<span class="hljs-comment"># å†™æ³•2ï¼šè¿ç»­çš„æäº¤åŒºé—´ï¼ˆé€‚åˆä¸»ä»“æœ‰è¿ç»­3æ¡æäº¤ï¼Œä½ éƒ½éœ€è¦ï¼Œæ¯”å¦‚ä»9876543åˆ°a1b2c3dï¼‰</span>
git cherry-pick 9876543^..a1b2c3d  <span class="hljs-comment"># ^ ä»£è¡¨åŒ…å«èµ·å§‹commitï¼Œå¿…é¡»åŠ </span>
</code></pre>
<h6 data-id="heading-18">âœ”ï¸ æ‰§è¡ŒæˆåŠŸçš„æ ‡å¿—</h6>
<p>å‘½ä»¤è¡Œæç¤ºï¼š<code>[dev xxxxxx] ä¿®å¤ï¼šæ”¯ä»˜æ¥å£ç©ºæŒ‡é’ˆbug 1 file changed, 2 insertions(+), 1 deletion(-)</code>ï¼Œè¯´æ˜æäº¤å·²æˆåŠŸåº”ç”¨åˆ°ä½ çš„åˆ†æ”¯ã€‚</p>
<h4 data-id="heading-19">âœ… æ–¹å¼äºŒï¼šgit rebase å˜åŸº ã€é€‚åˆï¼šéœ€è¦ä¸»ä»“ã€Œè¿ç»­çš„ä¸€æ®µæäº¤è®°å½•ã€ã€‘</h4>
<h5 data-id="heading-20">âœ… é€‚ç”¨åœºæ™¯</h5>
<blockquote>
<p>ä¸»ä»“åº“æœ‰<strong>è¿ç»­çš„ä¸€æ®µæäº¤è®°å½•</strong>ä½ éƒ½éœ€è¦ï¼ˆæ¯”å¦‚ä¸»ä»“è¿ç»­æäº¤äº† 5 æ¡ï¼Œéƒ½æ˜¯å…³äºã€Œè®¢å•æ¨¡å—ä¼˜åŒ–ã€çš„ï¼Œä½ éœ€è¦æŠŠè¿™ 5 æ¡å…¨éƒ¨åŒæ­¥è¿‡æ¥ï¼‰ï¼Œä¸”ä½ å¸Œæœ›è‡ªå·±çš„æäº¤è®°å½•ã€Œæ•´æ´æœ‰åºã€ï¼Œä¸æƒ³åœ¨åˆ†æ”¯ä¸Šçœ‹åˆ°å¤§é‡çš„ã€Œmerge åˆå¹¶è®°å½•ã€ï¼Œè¿™ç§åœºæ™¯ç”¨ rebase æœ€åˆé€‚ã€‚</p>
</blockquote>
<h5 data-id="heading-21">âœ… æ ¸å¿ƒåŸç†</h5>
<p><code>git rebase upstream/ä¸»ä»“åˆ†æ”¯</code> ä½œç”¨æ˜¯ï¼š<strong>æŠŠä¸»ä»“åº“çš„æœ€æ–°è¿ç»­æäº¤ï¼Œã€Œæ— ç¼è¡”æ¥ã€åˆ°ä½ æœ¬åœ°æäº¤çš„å‰é¢</strong>ï¼Œä½ çš„æäº¤è®°å½•ä¼šå˜æˆã€Œä¸»ä»“æ›´æ–° â†’ ä½ çš„å¼€å‘æäº¤ã€ï¼Œæ•´ä¸ªåˆ†æ”¯çš„æäº¤å†å²æ˜¯ä¸€æ¡å¹²å‡€çš„ç›´çº¿ï¼Œæ²¡æœ‰å¤šä½™çš„åˆå¹¶èŠ‚ç‚¹ï¼Œè¿™æ˜¯å›¢é˜Ÿåä½œçš„æœ€ä½³å®è·µä¹‹ä¸€ã€‚</p>
<h5 data-id="heading-22">âœ… å®Œæ•´æ“ä½œæ­¥éª¤ï¼ˆæ— è„‘å¤åˆ¶ï¼‰</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å‰ç½®æ‹‰å–ï¼šæ‹¿åˆ°ä¸»ä»“æœ€æ–°æ‰€æœ‰æäº¤è®°å½•</span>
git fetch upstream

<span class="hljs-comment"># 2. åˆ‡æ¢åˆ°ä½ çš„æœ¬åœ°å¼€å‘åˆ†æ”¯ï¼ˆæ¯”å¦‚ devï¼‰</span>
git checkout dev

<span class="hljs-comment"># 3. å˜åŸºï¼šæŠŠä¸»ä»“mainåˆ†æ”¯çš„æœ€æ–°æ›´æ–°ï¼ŒåŒæ­¥åˆ°ä½ çš„devåˆ†æ”¯ï¼ˆåªåŒæ­¥ä½ æ²¡æœ‰çš„æäº¤ï¼‰</span>
git rebase upstream/main
</code></pre>
<blockquote>
<p>âœ”ï¸ å…³é”®ä¼˜ç‚¹ï¼šåªä¼šåŒæ­¥ä¸»ä»“é‡Œã€Œä½ æœ¬åœ°æ²¡æœ‰çš„ã€è¿ç»­çš„æäº¤ã€ï¼Œä¸ä¼šå¼•å…¥å¤šä½™å†…å®¹ï¼Œä¸”æäº¤å†å²æå¹²å‡€ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-23">äº”ã€é‡è¦è¡¥å……ï¼šå†²çªå¤„ç†ï¼ˆå¿…çœ‹ï¼å¤§æ¦‚ç‡é‡åˆ°ï¼‰</h3>
<p>æ— è®ºæ˜¯ <code>git cherry-pick</code> è¿˜æ˜¯ <code>git rebase</code>ï¼Œå½“ä½ åŒæ­¥ä¸»ä»“çš„æäº¤æ—¶ï¼Œ<strong>å¦‚æœä¸»ä»“ä¿®æ”¹çš„ä»£ç å’Œä½ æœ¬åœ°ä¿®æ”¹çš„ä»£ç æ˜¯åŒä¸€ä¸ªæ–‡ä»¶ã€åŒä¸€è¡Œ</strong>ï¼ŒGit å°±ä¼šæç¤ºã€Œå†²çªï¼ˆconflictï¼‰ã€ï¼Œè¿™æ˜¯æ­£å¸¸ç°è±¡ï¼Œå¤„ç†å†²çªçš„é€»è¾‘å®Œå…¨ä¸€è‡´ï¼Œä¸”å¾ˆç®€å•ï¼Œè®°ä½ 3 ä¸ªæ­¥éª¤å³å¯ï¼š</p>
<h4 data-id="heading-24">âœ… å†²çªå‘ç”Ÿçš„æ ‡å¿—</h4>
<p>å‘½ä»¤è¡Œå‡ºç°çº¢è‰²æç¤ºï¼š<code>error: could not apply xxxxxx... æäº¤å¤‡æ³¨</code> + <code>CONFLICT (content): Merge conflict in æ–‡ä»¶å.java</code></p>
<h4 data-id="heading-25">âœ… å†²çªå¤„ç† 3 æ­¥æ›²ï¼ˆæ— è„‘æ‰§è¡Œï¼‰</h4>
<ol>
<li>
<p><strong>æ‰“å¼€å†²çªæ–‡ä»¶</strong>ï¼šæ–‡ä»¶é‡Œä¼šæœ‰ Git æ ‡è®°çš„å†²çªåŒºåŸŸï¼Œæ ¼å¼å¦‚ä¸‹ï¼Œ<code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</code> æ˜¯ä½ æœ¬åœ°çš„ä»£ç ï¼Œ<code>=======</code> æ˜¯ä¸»ä»“æäº¤çš„ä»£ç ï¼Œ<code>&gt;&gt;&gt;&gt;&gt;&gt;&gt; commit-id</code> æ˜¯ä¸»ä»“çš„æäº¤ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// å†²çªç¤ºä¾‹</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">pay</span>()</span> {
    &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
        <span class="hljs-comment">// ä½ æœ¬åœ°çš„ä»£ç ï¼šæ”¯ä»˜é€»è¾‘</span>
        System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"æœ¬åœ°æ”¯ä»˜é€»è¾‘"</span>);
    =======
        <span class="hljs-comment">// ä¸»ä»“çš„ä»£ç ï¼šä¿®å¤åçš„æ”¯ä»˜é€»è¾‘</span>
        System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"ä¿®å¤ç©ºæŒ‡é’ˆçš„æ”¯ä»˜é€»è¾‘"</span>);
    &gt;&gt;&gt;&gt;&gt;&gt;&gt; a1b2c3d
}
</code></pre>
</li>
<li>
<p><strong>æ‰‹åŠ¨ä¿®æ”¹å†²çª</strong>ï¼šä¿ç•™éœ€è¦çš„ä»£ç ï¼ˆå¯ä»¥åˆå¹¶åŒæ–¹çš„ä»£ç ï¼‰ï¼Œåˆ é™¤æ‰€æœ‰å†²çªæ ‡è®° <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>ã€<code>=======</code>ã€<code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code>ï¼›</p>
</li>
<li>
<p><strong>æäº¤å†²çªè§£å†³ç»“æœ</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># 1. æŠŠä¿®æ”¹åçš„å†²çªæ–‡ä»¶åŠ å…¥æš‚å­˜åŒº</span>
git <span class="hljs-keyword">add</span> å†²çªçš„æ–‡ä»¶å

<span class="hljs-meta"># 2. å¦‚æœæ˜¯ cherry-pick å†²çªï¼Œæ‰§è¡Œè¿™ä¸ªå‘½ä»¤ç»§ç»­</span>
git cherry-pick --<span class="hljs-keyword">continue</span>

<span class="hljs-meta"># 2. å¦‚æœæ˜¯ rebase å†²çªï¼Œæ‰§è¡Œè¿™ä¸ªå‘½ä»¤ç»§ç»­</span>
git rebase --<span class="hljs-keyword">continue</span>
</code></pre>
</li>
</ol>
<blockquote>
<p>âœ”ï¸ å°æŠ€å·§ï¼šå¦‚æœå†²çªå¤ªå¤šï¼Œä¸æƒ³å¤„ç†äº†ï¼Œæƒ³æ”¾å¼ƒè¿™æ¬¡åŒæ­¥ï¼Œç›´æ¥æ‰§è¡Œï¼šcherry-pick æ”¾å¼ƒï¼š<code>git cherry-pick --abort</code>rebase æ”¾å¼ƒï¼š<code>git rebase --abort</code>æ”¾å¼ƒåä»£ç ä¼šå›åˆ°å†²çªå‰çš„çŠ¶æ€ï¼Œå®Œå…¨æ— æŸã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-26">å…­ã€è¡¥å……ï¼šå¤‡é€‰æ–¹æ¡ˆ - git merge ï¼ˆæŒ‰éœ€æ‹‰å–ã€Œæ•´ä¸ªåˆ†æ”¯çš„æ›´æ–°ã€ï¼Œå°‘ç”¨ï¼‰</h3>
<p>è¿˜æœ‰ä¸€ç§æ–¹å¼æ˜¯ <code>git merge</code>ï¼Œä¹Ÿèƒ½æ‹‰å–ä¸»ä»“çš„æ›´æ–°ï¼Œè¿™é‡Œè¡¥å……è¯´æ˜ï¼Œæ–¹ä¾¿ä½ äº†è§£åŒºåˆ«ï¼Œ<strong>ä¸æ¨èä½œä¸ºã€Œå®šå‘æ‹‰å–ã€çš„æ–¹æ¡ˆ</strong>ï¼Œä½†å¯ä»¥ä½œä¸ºå¤‡é€‰ï¼š</p>
<h4 data-id="heading-27">âœ… å‘½ä»¤</h4>
<pre><code class="hljs language-sql" lang="sql">git <span class="hljs-keyword">fetch</span> upstream
git checkout dev
git <span class="hljs-keyword">merge</span> upstream<span class="hljs-operator">/</span>main
</code></pre>
<h4 data-id="heading-28">âœ… é€‚ç”¨åœºæ™¯</h4>
<blockquote>
<p>ä½ éœ€è¦<strong>æŠŠä¸»ä»“åº“æŸä¸ªåˆ†æ”¯çš„ã€Œæ‰€æœ‰æœ€æ–°æ›´æ–°ã€å…¨éƒ¨åˆå¹¶åˆ°ä½ çš„åˆ†æ”¯</strong>ï¼ˆæ¯”å¦‚ä¸»ä»“å‘äº†æ–°ç‰ˆæœ¬ï¼Œä½ éœ€è¦å…¨é‡åŒæ­¥ï¼‰ï¼Œæ²¡æœ‰æŒ‘é€‰çš„éœ€æ±‚ï¼Œç›´æ¥å…¨é‡åˆå¹¶ã€‚</p>
</blockquote>
<h4 data-id="heading-29">âœ… ç¼ºç‚¹ï¼ˆä¸ºä»€ä¹ˆä¸æ¨èå®šå‘æ‹‰å–ç”¨ï¼‰</h4>
<p>merge ä¼šåœ¨ä½ çš„åˆ†æ”¯ä¸Š<strong>ç”Ÿæˆä¸€æ¡ã€Œåˆå¹¶æäº¤è®°å½•ã€</strong>ï¼Œæäº¤å†å²ä¼šå‡ºç°åˆ†å‰ï¼Œä¸”ä¼šå¼•å…¥ä¸»ä»“è¯¥åˆ†æ”¯çš„<strong>æ‰€æœ‰æäº¤</strong>ï¼Œæ— æ³•åšåˆ°ã€ŒåªæŒ‘æŒ‡å®šçš„æäº¤ã€ï¼Œé€‚åˆå…¨é‡åŒæ­¥ï¼Œä¸é€‚åˆä½ çš„ã€Œå®šå‘é€‰æ‹©ã€éœ€æ±‚ã€‚</p>
<hr/>
<h3 data-id="heading-30">ä¸ƒã€å…³é”®é¿å‘ &amp; æœ€ä½³å®è·µï¼ˆæ€»ç»“ï¼Œæ”¶è—å¤‡ç”¨ï¼‰</h3>
<h4 data-id="heading-31">âœ… å¿…åšçš„ 3 ä¸ªå¥½ä¹ æƒ¯ï¼ˆé¿å…ä»£ç ä¸¢å¤± / å†²çªè¿‡å¤šï¼‰</h4>
<ol>
<li>
<p>æ¯æ¬¡å‡†å¤‡æ‹‰å–ä¸»ä»“æ›´æ–°å‰ï¼Œ<strong>å…ˆæŠŠè‡ªå·±çš„æœ¬åœ°å¼€å‘ä»£ç æäº¤ / æš‚å­˜</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># æäº¤è‡ªå·±çš„ä»£ç ï¼ˆæ¨èï¼Œæœ‰è®°å½•å¯è¿½æº¯ï¼‰</span>
git <span class="hljs-keyword">add</span> .
git commit -m <span class="hljs-string">"feat: å®ŒæˆxxxåŠŸèƒ½å¼€å‘"</span>
</code></pre>
<p>ä¸è¦åœ¨ã€Œæœªæäº¤çš„è„ä»£ç ã€ä¸Šç›´æ¥åŒæ­¥ä¸»ä»“æ›´æ–°ï¼Œå®¹æ˜“å†²çªä¸”ä»£ç æ˜“ä¸¢å¤±ã€‚</p>
</li>
<li>
<p>åŒæ­¥ä¸»ä»“æ›´æ–°æ—¶ï¼Œ<strong>ä¼˜å…ˆç”¨ cherry-pickï¼ˆç²¾å‡†ï¼‰ æˆ– rebaseï¼ˆæ•´æ´ï¼‰ï¼Œå°½é‡å°‘ç”¨ merge</strong>ï¼Œä¿æŒè‡ªå·±çš„åˆ†æ”¯æäº¤å†å²å¹²å‡€ï¼Œåç»­å‡ºé—®é¢˜ä¹Ÿå¥½æ’æŸ¥ã€‚</p>
</li>
<li>
<p>ä¸»ä»“åº“çš„åˆ†æ”¯å¦‚æœä¸æ˜¯ <code>main</code>ï¼Œè€Œæ˜¯ <code>master</code>/<code>develop</code>ï¼Œæ‰€æœ‰å‘½ä»¤é‡Œçš„ <code>upstream/main</code> æ›¿æ¢æˆ <code>upstream/master</code>/<code>upstream/develop</code> å³å¯ï¼Œé€»è¾‘å®Œå…¨ä¸å˜ã€‚</p>
</li>
</ol>
<h4 data-id="heading-32">âœ… æ ¸å¿ƒå‘½ä»¤é€ŸæŸ¥è¡¨ï¼ˆä¸ç”¨è®°ï¼Œæ”¶è—å³å¯ï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. é…ç½®ä¸Šæ¸¸ä»“åº“ï¼ˆä¸€æ¬¡æ€§ï¼‰</span>
git remote add upstream ä¸»ä»“åº“åœ°å€

<span class="hljs-comment"># 2. æŸ¥çœ‹è¿œç¨‹ä»“åº“é…ç½®</span>
git remote -v

<span class="hljs-comment"># 3. æ‹‰å–ä¸»ä»“æ‰€æœ‰æ›´æ–°è®°å½•ï¼ˆå‰ç½®å¿…åšï¼‰</span>
git fetch upstream

<span class="hljs-comment"># 4. æŸ¥çœ‹ä¸»ä»“æäº¤è®°å½•ï¼Œè·å–commit-id</span>
git <span class="hljs-built_in">log</span> --oneline upstream/main

<span class="hljs-comment"># 5. ç²¾å‡†æŒ‘é€‰å•æ¡/å¤šæ¡æäº¤ï¼ˆæ¨èï¼‰</span>
git cherry-pick commit-id1 commit-id2

<span class="hljs-comment"># 6. åŒæ­¥ä¸»ä»“è¿ç»­æäº¤+æ•´ç†å†å²</span>
git rebase upstream/main

<span class="hljs-comment"># 7. å…¨é‡åˆå¹¶ä¸»ä»“æ›´æ–°ï¼ˆå¤‡é€‰ï¼‰</span>
git merge upstream/main
</code></pre>
<hr/>
<h3 data-id="heading-33">æœ€ç»ˆæ€»ç»“</h3>
<p>ä½ çš„éœ€æ±‚ã€Œä»ä¸»ä»“åº“æ‹·è´é¡¹ç›®å®šå‘å¼€å‘ï¼Œä¸»ä»“æ›´æ–°åé€‰æ‹©æ‹‰å–æŒ‡å®šæäº¤è®°å½•ã€ï¼Œ<strong>æœ€ä¼˜è§£å†³æ–¹æ¡ˆ</strong>å°±æ˜¯ï¼š</p>
<ol>
<li>é…ç½®ä¸»ä»“åº“ä¸º upstream ä¸Šæ¸¸ä»“åº“ï¼ˆä¸€æ¬¡é…ç½®æ°¸ä¹…ç”¨ï¼‰ï¼›</li>
<li>æ¯æ¬¡åŒæ­¥å‰æ‰§è¡Œ <code>git fetch upstream</code> æ‹‰å–ä¸»ä»“æœ€æ–°è®°å½•ï¼›</li>
<li>ç”¨ <strong>git cherry-pick æäº¤ ID</strong> ç²¾å‡†æŒ‘é€‰éœ€è¦çš„å•æ¡ / å¤šæ¡æäº¤ï¼ˆ90% åœºæ™¯é¦–é€‰ï¼‰ï¼›</li>
<li>å¦‚æœéœ€è¦è¿ç»­çš„ä¸€æ®µæäº¤ï¼Œç”¨ <strong>git rebase upstream/main</strong> åŒæ­¥ + æ•´ç†æäº¤å†å²ã€‚</li>
</ol>
<p>æ•´ä¸ªæµç¨‹å®Œå…¨æ»¡è¶³ã€Œå®šå‘å¼€å‘ + æŒ‰éœ€åŒæ­¥ä¸»ä»“æ›´æ–°ã€çš„æ ¸å¿ƒéœ€æ±‚ï¼ŒGit åŸç”Ÿæ”¯æŒï¼Œæ— éœ€ä»»ä½•é¢å¤–å·¥å…·ï¼Œæ“ä½œç®€å•ä¸”å®‰å…¨ï¼Œæ˜¯è¡Œä¸šå†…çš„æ ‡å‡†åšæ³•ï¼Œæ”¾å¿ƒä½¿ç”¨å³å¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[YOLO26æ­£å¼äº®ç›¸ï¼æè‡´é€Ÿåº¦ä¼˜åŒ–ï¼Œä¸ºè½åœ°è€Œç”Ÿï¼]]></title>    <link>https://juejin.cn/post/7595061185423638534</link>    <guid>https://juejin.cn/post/7595061185423638534</guid>    <pubDate>2026-01-15T02:41:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595061185423638534" data-draft-id="7595029084284715062" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="YOLO26æ­£å¼äº®ç›¸ï¼æè‡´é€Ÿåº¦ä¼˜åŒ–ï¼Œä¸ºè½åœ°è€Œç”Ÿï¼"/> <meta itemprop="keywords" content="ç®—æ³•,è®¡ç®—æœºè§†è§‰,æ·±åº¦å­¦ä¹ "/> <meta itemprop="datePublished" content="2026-01-15T02:41:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="CoovallyAIHub"/> <meta itemprop="url" content="https://juejin.cn/user/2461151071843739"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            YOLO26æ­£å¼äº®ç›¸ï¼æè‡´é€Ÿåº¦ä¼˜åŒ–ï¼Œä¸ºè½åœ°è€Œç”Ÿï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2461151071843739/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    CoovallyAIHub
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-15T02:41:51.000Z" title="Thu Jan 15 2026 02:41:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å°±åœ¨åˆšåˆšï¼ŒUltralytics æ­£å¼å‘å¸ƒ YOLO26ï¼Œè¿™æ˜¯è¿„ä»Šä¸ºæ­¢æœ€å…ˆè¿›ã€æœ€æ˜“éƒ¨ç½²çš„ YOLO æ¨¡å‹ã€‚å°±æ˜¯é‚£ä¸ªåœ¨ YOLO Vision 2025 å¤§ä¼šä¸Šé¦–æ¬¡äº®ç›¸çš„æ–°ä¸€ä»£è§†è§‰æ¨¡å‹ã€‚ä¸å¾—ä¸è¯´ï¼Œæ¯æ¬¡ YOLO æ›´æ–°éƒ½åƒåœ¨æŠ€æœ¯åœˆæ‰”ä¸‹ä¸€é¢—æ·±æ°´ç‚¸å¼¹ï¼Œè€Œ YOLO26 è¿™æ¬¡å¸¦æ¥çš„ä¸ä»…æ˜¯æ€§èƒ½çš„æå‡ã€‚</p>
<p>ä»Šå¤©å’±ä»¬æ¥èŠèŠ<strong>ä»â€œå®éªŒå®¤åˆ©å™¨â€åˆ°â€œè½åœ°å®æˆ˜æ´¾â€çš„å½»åº•è½¬èº«ï¼</strong></p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0b7aae8c534c40b3bf4e8815ee1b1c71~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049711&amp;x-signature=GME9Ez7m1m3FyfGmqBoA6MkSAwI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>éšç€è§†è§‰ AI è¿…é€Ÿå‘è¾¹ç¼˜ç«¯è¿ç§»ï¼Œå›¾åƒä¸è§†é¢‘è¶Šæ¥è¶Šå¤šç›´æ¥åœ¨è®¾å¤‡ã€æ‘„åƒå¤´ã€æœºå™¨äººå’ŒåµŒå…¥å¼ç³»ç»Ÿä¸Šå¤„ç†ã€‚å¤§å®¶å¯¹æ¨¡å‹çš„æœŸå¾…æ—©å·²ä¸åªæ˜¯â€œåˆ·é«˜æŒ‡æ ‡â€ï¼Œè€Œæ˜¯<strong>å®æ‰“å®çš„ä½å»¶è¿Ÿã€é«˜ç¨³å®šã€æ˜“éƒ¨ç½²ã€‚</strong></p>
<p>YOLO26 æ­£æ˜¯ä¸ºè¿™ä¸€ç°å®é‡èº«æ‰“é€ ï¼Œèƒ½åœ¨Â CPUã€è¾¹ç¼˜åŠ é€Ÿå™¨å’Œä½åŠŸè€—ç¡¬ä»¶ä¸Šé«˜æ•ˆè¿è¡Œï¼ŒåŒæ—¶æä¾›ä¸šç•Œé¢†å…ˆçš„æ€§èƒ½ã€‚é‚£ä¹ˆä¸‹é¢å°±è®©æˆ‘æ›´åŠ è¯¦ç»†åœ°çœ‹çœ‹YOLO 26æœ‰ä»€ä¹ˆä¸ä¸€æ ·å‘¢ï¼Ÿ</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/871143b660ca42448d45560f7da4590c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049711&amp;x-signature=yHC%2FilYZ1OMPcAXz3y3OIpvjiHY%3D" alt="Ultralytics-YOLO26-Benchmark.jpg" loading="lazy"/></p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6a3f9fd20ea94dafb8a9babefcca5da2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049711&amp;x-signature=q8gdi%2B2cWhiI4wKdK2bbnPaRy%2FE%3D" alt="Ultralytics-YOLO26-Benchmark-E2E.jpg" loading="lazy"/></p>
<h2 data-id="heading-0"><strong>ä»â€œæŠ€æœ¯é«˜åœ°â€åˆ°â€œäººäººå¯ç”¨â€</strong></h2>
<p>åœ¨ä¼¦æ•¦ä¸¾åŠçš„ YV25 å¤§ä¼šä¸Šï¼ŒUltralytics åˆ›å§‹äººå…¼é¦–å¸­æ‰§è¡Œå®˜ Glenn Jocher é˜è¿°äº† YOLO26 çš„æ ¸å¿ƒç†å¿µï¼šâ€œæœ€é¡¶å°–çš„ AI æŠ€æœ¯å¾€å¾€è¢«æŸä¹‹é«˜é˜ï¼Œå¹¶æœªå¯¹å¤–å¼€æ”¾ã€‚Ultralytics é€‰æ‹©äº†ä¸€æ¡ä¸åŒçš„é“è·¯ï¼Œæˆ‘ä»¬å¸Œæœ› AI èƒ½çœŸæ­£æŒæ¡åœ¨æ¯ä¸ªäººæ‰‹ä¸­ã€‚â€</p>
<p><strong>æ„å‘³ç€ä½ ä¸å†éœ€è¦åºå¤§çš„æœåŠ¡å™¨é›†ç¾¤ï¼Œä¹Ÿèƒ½åœ¨æ‘„åƒå¤´ã€æ‰‹æœºã€åµŒå…¥å¼è®¾å¤‡ä¸Šè·‘èµ·ä¸€æµçš„è§†è§‰æ¨¡å‹ã€‚</strong> è®©è‡´åŠ›äºè§£å†³å®é™…é—®é¢˜çš„å¼€å‘è€…ä¹Ÿèƒ½è·å¾—é¡¶å°–æŠ€æœ¯æ”¯æŒã€‚</p>
<p>YOLO26 è®¾è®¡åˆè¡·å³ä¸º è§†è§‰ AI çš„å®é™…éƒ¨ç½²åœºæ™¯è€Œç”Ÿï¼Œè€Œéä»…åœç•™åœ¨åŸå‹éªŒè¯é˜¶æ®µã€‚</p>
<h2 data-id="heading-1"><strong>â€œç»Ÿä¸€æ¶æ„+å…¨ä»»åŠ¡â€ï¼ŒæŠŠè½åœ°æ•ˆç‡æ‹‰æ»¡</strong></h2>
<p>ä¸ä»¥å¾€çš„ Ultralytics YOLO ç³»åˆ—ä¸€è‡´ï¼ŒYOLO26 é‡‡ç”¨ç»Ÿä¸€æ¨¡å‹å®¶æ—è®¾è®¡ï¼Œæä¾›äº”ç§å°ºå¯¸ï¼šNanoï¼ˆnï¼‰ã€Smallï¼ˆsï¼‰ã€Mediumï¼ˆmï¼‰ã€Largeï¼ˆlï¼‰å’ŒÂ Extra Largeï¼ˆxï¼‰ã€‚</p>
<p>å›¢é˜Ÿå¯æ ¹æ®éƒ¨ç½²ç¯å¢ƒï¼Œåœ¨é€Ÿåº¦ã€ç²¾åº¦å’Œæ¨¡å‹ä½“é‡é—´çµæ´»å–èˆã€‚</p>
<p><strong>YOLO26 å…¨é¢æ”¯æŒå¤šç§è®¡ç®—æœºè§†è§‰ä»»åŠ¡ï¼š</strong></p>
<ul>
<li><strong>å›¾åƒåˆ†ç±»ï¼š</strong> å¯¹æ•´å›¾è¿›è¡Œåœºæ™¯è¯­ä¹‰ç†è§£</li>
<li><strong>ç›®æ ‡æ£€æµ‹ï¼š</strong> åœ¨å›¾åƒæˆ–è§†é¢‘ä¸­å®šä½è¯†åˆ«å¤šä¸ªç›®æ ‡</li>
<li><strong>å®ä¾‹åˆ†å‰²ï¼š</strong> ä»¥åƒç´ çº§ç²¾åº¦å‹¾å‹’ç‰©ä½“è½®å»“</li>
<li><strong>å§¿æ€ä¼°è®¡ï¼š</strong> è¯†åˆ«å…³é”®ç‚¹å¹¶ä¼°è®¡äººä½“æˆ–å…¶ä»–å¯¹è±¡å§¿æ€</li>
<li><strong>æ—‹è½¬æ¡†ï¼ˆOBBï¼‰æ£€æµ‹ï¼š</strong> æ”¯æŒä¸åŒè§’åº¦ç›®æ ‡æ£€æµ‹ï¼Œé€‚ç”¨äºèˆªæ‹å’Œå«æ˜Ÿå½±åƒ</li>
<li><strong>ç›®æ ‡è·Ÿè¸ªï¼š</strong> åœ¨è§†é¢‘æµä¸­æŒç»­è·Ÿè¸ªç›®æ ‡</li>
</ul>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/612634eef8a84997a882cc64cc2c7707~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049711&amp;x-signature=d7MWRG6UBR4au704Bpg6X%2FZ26lo%3D" alt="screenshot_2026-01-14_16-15-48.png" loading="lazy"/></p>
<p>æ€§èƒ½æ–¹é¢ï¼ŒYOLO26 å¤§å¹…æå‡æ€§èƒ½ä¸Šé™ã€‚ä¸ YOLO11 ç›¸æ¯”ï¼Œå…¶ Nano ç‰ˆæœ¬åœ¨ CPU æ¨ç†åœºæ™¯ä¸‹æœ€é«˜å¯å®ç° 43% çš„æ€§èƒ½æå‡ï¼Œæˆä¸ºç›®å‰è¾¹ç¼˜ç«¯ä¸åŸºäº CPU éƒ¨ç½²åœºæ™¯ä¸­ï¼Œé€Ÿåº¦ä¸ç²¾åº¦å…¼é¡¾çš„é¢†å…ˆç›®æ ‡æ£€æµ‹æ¨¡å‹ä¹‹ä¸€ã€‚</p>
<p>åˆ†ç±»ã€æ£€æµ‹ã€åˆ†å‰²ã€å§¿æ€ä¼°è®¡ã€æ—‹è½¬æ¡†æ£€æµ‹ã€ç›®æ ‡è·Ÿè¸ªï¼Œå…¨éƒ¨åœ¨ä¸€ä¸ªæ¡†æ¶é‡Œå®Œæˆã€‚è¿™æ„å‘³ç€ä½ ä¸éœ€è¦ä¸ºä¸åŒä»»åŠ¡ç»´æŠ¤å¤šå¥—ä»£ç ï¼Œè®­ç»ƒã€éªŒè¯ã€æ¨ç†ã€å¯¼å‡ºä¸€æ°”å‘µæˆï¼Œå¤§å¤§é™ä½äº†å¼€å‘å’Œéƒ¨ç½²çš„å¤æ‚åº¦ã€‚</p>
<h2 data-id="heading-2"><strong>å…³é”®åˆ›æ–°ï¼šåŒ–ç¹ä¸ºç®€ï¼Œæ•ˆç‡é£è·ƒ</strong></h2>
<p>YOLO26 å¼•å…¥å¤šé¡¹æ ¸å¿ƒåˆ›æ–°ï¼Œå…¨é¢æå‡æ¨ç†é€Ÿåº¦ã€è®­ç»ƒç¨³å®šæ€§ä¸éƒ¨ç½²ä¾¿æ·æ€§ã€‚</p>
<ul>
<li><strong>ç§»é™¤åˆ†å¸ƒç„¦ç‚¹æŸå¤±ï¼ˆDFLï¼‰ï¼š</strong> ç®€åŒ–è¾¹ç•Œæ¡†é¢„æµ‹æµç¨‹ï¼Œæå‡ç¡¬ä»¶å…¼å®¹æ€§ï¼Œè®©æ¨¡å‹æ›´æ˜“äºåœ¨è¾¹ç¼˜è®¾å¤‡ä¸ä½åŠŸè€—ç¡¬ä»¶ä¸Šéƒ¨ç½²ã€‚</li>
<li><strong>ç«¯åˆ°ç«¯æ—  NMS æ¨ç†ï¼š</strong> ä¼ ç»Ÿæ£€æµ‹å™¨ä¾èµ–éæå¤§å€¼æŠ‘åˆ¶ï¼ˆNMSï¼‰è¿‡æ»¤é‡å é¢„æµ‹ï¼Œå¢åŠ å»¶è¿Ÿä¸éƒ¨ç½²å¤æ‚åº¦ã€‚YOLO26 å®ç°åŸç”Ÿç«¯åˆ°ç«¯æ¨ç†ï¼Œç›´æ¥è¾“å‡ºæœ€ç»ˆç»“æœï¼Œæ— éœ€ç‹¬ç«‹åå¤„ç†æ­¥éª¤ï¼Œæ˜¾è‘—é™ä½å»¶è¿Ÿï¼Œç®€åŒ–é›†æˆæµç¨‹ã€‚</li>
<li><strong>æ¸è¿›å¼æŸå¤±å¹³è¡¡ï¼ˆProgLossï¼‰ + å°ç›®æ ‡æ„ŸçŸ¥æ ‡ç­¾åˆ†é…ï¼ˆSTALï¼‰ï¼š</strong> ä¼˜åŒ–çš„æŸå¤±ç­–ç•¥å¢å¼ºè®­ç»ƒç¨³å®šæ€§ï¼Œæå‡æ£€æµ‹ç²¾åº¦ï¼Œå°¤å…¶é’ˆå¯¹å°ç›®æ ‡è¯†åˆ«ï¼Œå¯¹ç‰©è”ç½‘ã€æœºå™¨äººåŠèˆªç©ºå½±åƒç­‰è¾¹ç¼˜åº”ç”¨è‡³å…³é‡è¦ã€‚</li>
<li><strong>MuSGD ä¼˜åŒ–å™¨ï¼š</strong> å…¨æ–°æ··åˆä¼˜åŒ–å™¨ï¼Œèåˆä¼ ç»Ÿ SGD ä¸æºè‡ªå¤§è¯­è¨€æ¨¡å‹è®­ç»ƒçš„ Muon ç±»ä¼˜åŒ–æ€æƒ³ï¼Œä½¿è®­ç»ƒæ›´ç¨³å®šã€æ”¶æ•›æ›´å¿«ï¼Œå°¤å…¶é€‚ç”¨äºå¤§è§„æ¨¡å¤æ‚è®­ç»ƒåœºæ™¯ã€‚</li>
<li><strong>CPU æ¨ç†é€Ÿåº¦æå‡é«˜è¾¾ 43%ï¼š</strong> æ·±åº¦é’ˆå¯¹è¾¹ç¼˜è®¡ç®—ä¼˜åŒ–ï¼Œè®©å®æ—¶è§†è§‰ç³»ç»Ÿå¯ç›´æ¥è¿è¡Œåœ¨æ‘„åƒå¤´ã€æœºå™¨äººåŠåµŒå…¥å¼ç¡¬ä»¶ä¸Šï¼Œæ»¡è¶³ä½å»¶è¿Ÿã€é«˜å¯é æ€§éœ€æ±‚ã€‚</li>
</ul>
<h2 data-id="heading-3"><strong>å¤šä»»åŠ¡ä¼˜åŒ–ï¼Œå…¨é¢å‡çº§</strong></h2>
<p>YOLO26 è¿˜åœ¨å„è§†è§‰ä»»åŠ¡ä¸Šè¿›è¡Œäº†ä¸“é¡¹ä¼˜åŒ–ï¼š</p>
<ul>
<li><strong>å®ä¾‹åˆ†å‰²ï¼š</strong> å¼•å…¥è¯­ä¹‰åˆ†å‰²æŸå¤±ï¼Œé…åˆå¤šå°ºåº¦åŸå‹æ¨¡å—ï¼Œæå‡æ©ç è´¨é‡ä¸ä¸€è‡´æ€§ã€‚</li>
<li><strong>å§¿æ€ä¼°è®¡ï¼š</strong> é›†æˆæ®‹å·®å¯¹æ•°ä¼¼ç„¶ä¼°è®¡ï¼ˆRLEï¼‰ï¼Œæ›´å‡†ç¡®å»ºæ¨¡å…³é”®ç‚¹é¢„æµ‹ä¸ç¡®å®šæ€§ï¼ŒåŒæ—¶ä¼˜åŒ–è§£ç æµç¨‹ï¼Œå…¼é¡¾ç²¾åº¦ä¸å®æ—¶æ€§ã€‚</li>
<li><strong>æ—‹è½¬æ¡†æ£€æµ‹ï¼š</strong> æ–°å¢è§’åº¦æŸå¤±å‡½æ•°ï¼Œä¼˜åŒ–æ–¹å‘æ¨¡ç³Šçš„æ–¹å½¢ç‰©ä½“æ£€æµ‹ï¼Œå‡å°‘è¾¹ç•Œé™„è¿‘çš„è§’åº¦çªå˜ï¼Œå®ç°æ›´ç¨³å®šçš„æ–¹å‘ä¼°è®¡ã€‚</li>
</ul>
<h2 data-id="heading-4"><strong>å¼€æ”¾è¯æ±‡åˆ†å‰²æ–°çªç ´</strong></h2>
<p>åŸºäº YOLO26 æ¶æ„ä¸è®­ç»ƒç­–ç•¥ï¼ŒUltralytics åŒæ­¥æ¨å‡º YOLOE-26 å¼€æ”¾è¯æ±‡åˆ†å‰²æ¨¡å‹ç³»åˆ—ã€‚</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ea5600364bb4b4b907c8bf6102166b6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049711&amp;x-signature=%2FB063su3piTSl1WEu1Np1frhWAk%3D" alt="å›¾ 3. Ultralytics YOLO26 çš„å®ä¾‹åˆ†å‰²åº”ç”¨ç¤ºä¾‹" loading="lazy"/></p>
<p>å®ƒå¤ç”¨äº†ç°æœ‰åˆ†å‰²ä»»åŠ¡æ¡†æ¶ï¼ŒåŒæ—¶æ”¯æŒ <strong>æ–‡æœ¬æç¤ºã€è§†è§‰æç¤ºä¸æ— æç¤ºæ¨ç†</strong>ï¼Œæ¶µç›–æ‰€æœ‰æ ‡å‡† YOLO å°ºå¯¸ï¼Œåœ¨ç²¾åº¦ä¸å®é™…åº”ç”¨æ€§èƒ½ä¸Šæ˜¾è‘—ä¼˜äºæ—©æœŸå¼€æ”¾è¯æ±‡æ¨¡å‹ã€‚</p>
<ul>
<li><strong>æ–‡æœ¬/è§†è§‰æç¤º</strong></li>
</ul>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c4ed2418c2640b09f2cb7ee957b4ef6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049711&amp;x-signature=a3YcwktLrL1q766AJcMb%2F%2BOjzH4%3D" alt="screenshot_2026-01-14_16-26-24.png" loading="lazy"/></p>
<ul>
<li><strong>æ— æç¤º</strong></li>
</ul>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d7f2aed463b84b24ac90878b7b85a533~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049711&amp;x-signature=qMFXFyLoaTVPm2TzR08ITLzjFDg%3D" alt="screenshot_2026-01-14_16-27-42.png" loading="lazy"/></p>
<p>åœ¨å®ç”¨æ€§èƒ½ä¸Šæ¯”æ—©æœŸæ¨¡å‹æ˜æ˜¾æå‡ï¼Œçœ‹å¾—å‡ºå›¢é˜Ÿåœ¨å¤šæ¨¡æ€è½åœ°æ–¹é¢ä¹Ÿåœ¨æŒç»­åŠ ç ã€‚</p>
<h2 data-id="heading-5"><strong>æ€§èƒ½æ•°æ®ä¸€è§ˆ</strong></h2>
<ul>
<li><strong>æ£€æµ‹(COCO)</strong></li>
</ul>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/acd66c3c317a4512b283502f2ad482e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049711&amp;x-signature=ZT4D%2BA90e0lU5iz0rPZGkEnjI1s%3D" alt="screenshot_2026-01-14_16-18-04.png" loading="lazy"/></p>
<ul>
<li><strong>åˆ†å‰²(COCO)</strong></li>
</ul>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dd8020b45dfe4687a34fd459afd3e521~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049711&amp;x-signature=QuibkZiWxi9hKzsTM0%2B67l%2FPCyI%3D" alt="screenshot_2026-01-14_16-21-06.png" loading="lazy"/></p>
<ul>
<li><strong>åˆ†ç±»(COCO)</strong></li>
</ul>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d107a1a57bb4eb99cfb095c95170a4a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049711&amp;x-signature=McmdFFiudsb9NrvcpisDM1SSpkw%3D" alt="screenshot_2026-01-14_16-22-18.png" loading="lazy"/></p>
<ul>
<li><strong>å§¿åŠ¿ä¼°è®¡(COCO)</strong></li>
</ul>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/30cf93e48c5d47ff8abf8172d7862806~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049711&amp;x-signature=qBwO%2BcmA0O86yaIjI4R%2BSlASRJA%3D" alt="screenshot_2026-01-14_16-23-59.png" loading="lazy"/></p>
<ul>
<li><strong>æ—‹è½¬æ¡†æ£€æµ‹(COCO)</strong></li>
</ul>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b2714b884cae429ab9f465d37adf2633~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049711&amp;x-signature=9LGSxEAGANxq5%2BLD6i77kT8z%2BdU%3D" alt="screenshot_2026-01-14_16-25-08.png" loading="lazy"/></p>
<h2 data-id="heading-6"><strong>ç»“è¯­</strong></h2>
<p>æ•´ä½“çœ‹ä¸‹æ¥YOLO 26éƒ½é€éœ²å‡ºå‘â€œæ˜“ç”¨ã€æ˜“éƒ¨ç½²ã€å®é™…å¯ç”¨â€ã€‚YOLO26 é€šè¿‡æå‡æ€§èƒ½ã€ç®€åŒ–éƒ¨ç½²æµç¨‹å¹¶æ‰©å±•æ¨¡å‹åŠŸèƒ½å›åº”ï¼šæ¨¡å‹ä¸æ­¢è¦å¥½æ•ˆæœï¼Œæ›´è¦å¥½éƒ¨ç½²ã€å¥½ç»´æŠ¤ã€å¥½æ‰©å±•ã€‚</p>
<p>ä¸ä»…æ˜¯ä¸€æ¬¡æŠ€æœ¯è¿­ä»£ï¼Œæ›´æ˜¯æ¨åŠ¨è§†è§‰ AI ä»â€œäº‘ç«¯æ¼”ç»ƒâ€èµ°å‘â€œè¾¹ç¼˜å®æˆ˜â€çš„å…³é”®ä¸€æ­¥ã€‚æœªæ¥ï¼Œéšç€æ›´å¤šå¼€å‘è€…åŸºäº YOLO26 æ„å»ºå®ç”¨ç³»ç»Ÿï¼Œè§†è§‰ AI å°†åœ¨æ›´å¤šçœŸå®åœºæ™¯ä¸­è½åœ°ç”Ÿæ ¹ï¼ŒçœŸæ­£èµ‹èƒ½åƒè¡Œç™¾ä¸šã€‚åŒæ ·çš„Coovallyå¹³å°ä¹Ÿä¼šåŒæ­¥æ›´æ–°YOLO26,è®©ç”¨æˆ·ç¬¬ä¸€æ—¶é—´ä½“éªŒæœ€æ–°æ¨¡å‹ï¼Œæ›´å¤šç²¾å½©å’¨è¯¢è®°å¾—æŒç»­å…³æ³¨å“¦~</p>
<p>å…³æ³¨Coovally AI Hubï¼äº†è§£YOLO 26å®æµ‹æ•ˆæœï¼</p>
<p>æ¨¡å‹ä¸‹è½½å®‰è£…ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fultralytics%2Fultralytics" target="_blank" title="https://github.com/ultralytics/ultralytics" ref="nofollow noopener noreferrer">github.com/ultralyticsâ€¦</a></p>
<pre><code class="hljs language-java" lang="java">from ultralytics <span class="hljs-keyword">import</span> YOLO# Load a pretrained YOLO26 <span class="hljs-type">nano</span> <span class="hljs-variable">modelmodel</span> <span class="hljs-operator">=</span> YOLO(<span class="hljs-string">"yolo26n.pt"</span>)# Run inference on <span class="hljs-type">an</span> <span class="hljs-variable">imageresults</span> <span class="hljs-operator">=</span> model(<span class="hljs-string">"image.jpg"</span>)
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Nuxt 4 å­¦ä¹ æ–‡æ¡£]]></title>    <link>https://juejin.cn/post/7595055962152402944</link>    <guid>https://juejin.cn/post/7595055962152402944</guid>    <pubDate>2026-01-15T02:24:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595055962152402944" data-draft-id="7595055962152370176" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Nuxt 4 å­¦ä¹ æ–‡æ¡£"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js"/> <meta itemprop="datePublished" content="2026-01-15T02:24:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èšŠé“äºº"/> <meta itemprop="url" content="https://juejin.cn/user/3016715636846093"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Nuxt 4 å­¦ä¹ æ–‡æ¡£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3016715636846093/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èšŠé“äºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-15T02:24:54.000Z" title="Thu Jan 15 2026 02:24:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»18åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Nuxt 4 å­¦ä¹ æ–‡æ¡£ï¼ˆæ¡ˆä¾‹é©±åŠ¨ï¼‰</h2>
<blockquote>
<p>ç›®æ ‡ï¼šä»¥å¤§åŠŸèƒ½ç‚¹ä¸ºç« èŠ‚ã€æ¯ä¸ªçŸ¥è¯†ç‚¹é…å¥—è¯¦ç»†æ¡ˆä¾‹ä¸ä»£ç ï¼Œå¸®åŠ©å…·å¤‡ Vue 3 åŸºç¡€çš„å·¥ç¨‹å¸ˆç³»ç»ŸæŒæ¡ Nuxt 4ï¼ˆæ€è·¯å…¼å®¹ Nuxt 3ï¼‰ã€‚</p>
</blockquote>
<h3 data-id="heading-1">ç›®å½•</h3>
<ul>
<li>
<ol>
<li>é¡¹ç›®åˆå§‹åŒ–ä¸ç›®å½•çº¦å®š</li>
</ol>
</li>
<li>
<ol start="2">
<li>è·¯ç”±ä¸å¯¼èˆª</li>
</ol>
</li>
<li>
<ol start="3">
<li>æ•°æ®è·å–ä¸æ¸²æŸ“æ¨¡å¼</li>
</ol>
</li>
<li>
<ol start="4">
<li>ç»„ä»¶ä¸å¸ƒå±€</li>
</ol>
</li>
<li>
<ol start="5">
<li>çŠ¶æ€ç®¡ç†ï¼ˆPiniaï¼‰</li>
</ol>
</li>
<li>
<ol start="6">
<li>ç»„åˆå¼ API ä¸å¯å¤ç”¨é€»è¾‘</li>
</ol>
</li>
<li>
<ol start="7">
<li>æ’ä»¶ä¸æ¨¡å—ç”Ÿæ€</li>
</ol>
</li>
<li>
<ol start="8">
<li>æœåŠ¡ç«¯å¼€å‘ï¼ˆNitroï¼‰</li>
</ol>
</li>
<li>
<ol start="9">
<li>è¿è¡Œæ—¶é…ç½®ä¸ç¯å¢ƒå˜é‡</li>
</ol>
</li>
<li>
<ol start="10">
<li>SEO ä¸å…ƒä¿¡æ¯</li>
</ol>
</li>
<li>
<ol start="11">
<li>å†…å®¹ç³»ç»Ÿï¼ˆNuxt Contentï¼‰</li>
</ol>
</li>
<li>
<ol start="12">
<li>å›½é™…åŒ–ï¼ˆi18nï¼‰</li>
</ol>
</li>
<li>
<ol start="13">
<li>é™æ€èµ„æºä¸å›¾ç‰‡ä¼˜åŒ–</li>
</ol>
</li>
<li>
<ol start="14">
<li>æ ·å¼ä¸æ„å»ºå·¥å…·</li>
</ol>
</li>
<li>
<ol start="15">
<li>å®‰å…¨ä¸æƒé™</li>
</ol>
</li>
<li>
<ol start="16">
<li>æµ‹è¯•ä¸è´¨é‡ä¿éšœ</li>
</ol>
</li>
<li>
<ol start="17">
<li>éƒ¨ç½²ä¸è¿ç»´</li>
</ol>
</li>
<li>
<ol start="18">
<li>æ€§èƒ½ä¼˜åŒ–</li>
</ol>
</li>
<li>
<ol start="19">
<li>å¼€å‘è€…å·¥å…·ä¸è°ƒè¯•</li>
</ol>
</li>
</ul>
<hr/>
<h3 data-id="heading-2">1. é¡¹ç›®åˆå§‹åŒ–ä¸ç›®å½•çº¦å®š</h3>
<h4 data-id="heading-3">1.1 ä½¿ç”¨ nuxi åˆ›å»ºé¡¹ç›®ä¸å¯åŠ¨å¼€å‘</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šä½¿ç”¨å®˜æ–¹è„šæ‰‹æ¶åˆ›å»º Nuxt 4 é¡¹ç›®ï¼Œäº†è§£åŸºç¡€å‘½ä»¤ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šä»é›¶åˆ›å»º nuxt4-app å¹¶è¿è¡Œ</strong></p>
<p>æ­¥éª¤ï¼š</p>
<ol>
<li>å®‰è£…æœ€æ–° nuxiï¼ˆæˆ–ä½¿ç”¨ npx ç›´æ¥è°ƒç”¨ï¼‰</li>
<li>åˆ›å»ºé¡¹ç›®å¹¶é€‰æ‹© TypeScript</li>
<li>å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼Œè®¿é—®æœ¬åœ°åœ°å€</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨ npxï¼ˆæ— éœ€å…¨å±€å®‰è£…ï¼‰</span>
npx nuxi@latest init nuxt4-app
<span class="hljs-built_in">cd</span> nuxt4-app
<span class="hljs-comment"># æ¨èä½¿ç”¨ pnpmï¼Œä¹Ÿå¯ç”¨ npm æˆ– yarn</span>
pnpm install
pnpm dev
<span class="hljs-comment"># ç»ˆç«¯è¾“å‡ºæœ¬åœ°é¢„è§ˆåœ°å€ï¼Œä¾‹å¦‚ http://localhost:3000</span>
</code></pre>
<p>é¡¹ç›®åˆ›å»ºåï¼Œé»˜è®¤æ–‡ä»¶ç»“æ„ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">nuxt4-app/
â”œâ”€ app.vue
â”œâ”€ nuxt.config.ts
â”œâ”€ pages/
â”œâ”€ components/
â”œâ”€ composables/
â”œâ”€ server/
â”œâ”€ plugins/
â”œâ”€ middleware/
â”œâ”€ assets/
â”œâ”€ <span class="hljs-keyword">public</span>/
â””â”€ package.json
</code></pre>
<p>éªŒè¯ï¼š</p>
<ul>
<li>æ‰“å¼€æµè§ˆå™¨è®¿é—®æœ¬åœ°åœ°å€ï¼Œçœ‹åˆ°é»˜è®¤æ¬¢è¿é¡µ</li>
</ul>
<p>å¸¸è§å‘ï¼š</p>
<ul>
<li>Node ç‰ˆæœ¬è¿‡ä½å¯¼è‡´ä¾èµ–å®‰è£…å¤±è´¥ï¼›å»ºè®® Node 18+ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-4">1.2 nuxt.config åŸºç¡€ä¸ç±»å‹æç¤º</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šæŒæ¡ nuxt.config.ts çš„åŸºæœ¬é…ç½®é¡¹ä¸ç±»å‹æç¤ºã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šé…ç½®ç«™ç‚¹æ ‡é¢˜ä¸å›¾æ ‡</strong></p>
<p>åœ¨ <a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">nuxt.config.ts</a> ä¸­è®¾ç½® <code>app.head</code>ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// nuxt.config.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineNuxtConfig</span>({
  <span class="hljs-attr">app</span>: {
    <span class="hljs-attr">head</span>: {
      <span class="hljs-attr">title</span>: <span class="hljs-string">'Nuxt4 å­¦ä¹ æ–‡æ¡£ç¤ºä¾‹ç«™'</span>,
      <span class="hljs-attr">meta</span>: [{ <span class="hljs-attr">name</span>: <span class="hljs-string">'description'</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'æ¡ˆä¾‹é©±åŠ¨çš„ Nuxt4 å­¦ä¹ æ–‡æ¡£'</span> }],
      <span class="hljs-attr">link</span>: [{ <span class="hljs-attr">rel</span>: <span class="hljs-string">'icon'</span>, <span class="hljs-attr">type</span>: <span class="hljs-string">'image/png'</span>, <span class="hljs-attr">href</span>: <span class="hljs-string">'/favicon.png'</span> }]
    }
  },
  <span class="hljs-attr">typescript</span>: {
    <span class="hljs-attr">strict</span>: <span class="hljs-literal">true</span>
  }
})
</code></pre>
<p>éªŒè¯ï¼š</p>
<ul>
<li>å¯åŠ¨é¡¹ç›®åæŸ¥çœ‹é¡µé¢æ ‡é¢˜ä¸ Favicon æ˜¯å¦ç”Ÿæ•ˆã€‚</li>
</ul>
<p>æœ€ä½³å®è·µï¼š</p>
<ul>
<li>ä½¿ç”¨ TypeScriptï¼Œå¼€å¯ <code>typescript.strict</code> è·å¾—æ›´å¥½ç±»å‹æç¤ºã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-5">1.3 çº¦å®šå¼ç›®å½•ä¸æœ€å°åšå®¢éª¨æ¶</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šç†è§£ Nuxt çš„çº¦å®šå¼ç›®å½•ä¸é¡µé¢ã€ç»„ä»¶ã€æœåŠ¡ç«¯çš„ç»„ç»‡æ–¹å¼ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šæ­å»ºæœ€å°åšå®¢éª¨æ¶ï¼ˆé¦–é¡µ/æ–‡ç« é¡µï¼‰</strong></p>
<p>åˆ›å»ºé¦–é¡µä¸æ–‡ç« è¯¦æƒ…é¡µï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- pages/index.vue --&gt;
&lt;template&gt;
  &lt;section class="container"&gt;
    &lt;h1&gt;æˆ‘çš„åšå®¢&lt;/h1&gt;
    &lt;ul&gt;
      &lt;li v-for="post in posts" :key="post.id"&gt;
        &lt;NuxtLink :to="`/posts/${post.id}`"&gt;{{ post.title }}&lt;/NuxtLink&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/section&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
const posts = [
  { id: 1, title: 'Nuxt4 å…¥é—¨ä¸ç›®å½•çº¦å®š' },
  { id: 2, title: 'è·¯ç”±ä¸å¯¼èˆªè¯¦è§£' }
]
&lt;/script&gt;

&lt;style scoped&gt;
.container { max-width: 720px; margin: 40px auto; }
&lt;/style&gt;
</code></pre>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- pages/posts/[id].vue --&gt;
&lt;template&gt;
  &lt;article class="container"&gt;
    &lt;NuxtLink to="/"&gt;â† è¿”å›é¦–é¡µ&lt;/NuxtLink&gt;
    &lt;h1&gt;{{ post?.title }}&lt;/h1&gt;
    &lt;p&gt;æ–‡ç«  IDï¼š{{ id }}&lt;/p&gt;
    &lt;p&gt;è¿™é‡Œæ˜¯æ–‡ç« å†…å®¹ç¤ºä¾‹â€¦â€¦&lt;/p&gt;
  &lt;/article&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
const route = useRoute()
const id = computed(() =&gt; route.params.id)
const post = computed(() =&gt; {
  const map: Record&lt;string, { title: string }&gt; = {
    '1': { title: 'Nuxt4 å…¥é—¨ä¸ç›®å½•çº¦å®š' },
    '2': { title: 'è·¯ç”±ä¸å¯¼èˆªè¯¦è§£' }
  }
  return map[id.value as string]
})
&lt;/script&gt;

&lt;style scoped&gt;
.container { max-width: 720px; margin: 40px auto; }
&lt;/style&gt;
</code></pre>
<p>æ·»åŠ åŸºç¡€ç»„ä»¶ä¸æ ·å¼ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- components/BaseHeader.vue --&gt;
&lt;template&gt;
  &lt;header class="header"&gt;
    &lt;NuxtLink to="/" class="logo"&gt;Nuxt4 Docs&lt;/NuxtLink&gt;
    &lt;nav&gt;
      &lt;NuxtLink to="/" class="nav"&gt;é¦–é¡µ&lt;/NuxtLink&gt;
      &lt;NuxtLink to="/about" class="nav"&gt;å…³äº&lt;/NuxtLink&gt;
    &lt;/nav&gt;
  &lt;/header&gt;
&lt;/template&gt;

&lt;style scoped&gt;
.header { display:flex; align-items:center; gap:16px; padding:16px; border-bottom:1px solid #eee; }
.logo { font-weight:bold; }
.nav { margin-right: 8px; }
&lt;/style&gt;
</code></pre>
<p>å°†ç»„ä»¶æŒ‚åˆ°åº”ç”¨æ ¹ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- app.vue --&gt;
&lt;template&gt;
  &lt;BaseHeader /&gt;
  &lt;NuxtPage /&gt;
&lt;/template&gt;
</code></pre>
<p>éªŒè¯ï¼š</p>
<ul>
<li>é¦–é¡µå±•ç¤ºæ–‡ç« åˆ—è¡¨ï¼Œå¯ç‚¹å‡»è¿›å…¥è¯¦æƒ…é¡µ</li>
<li>é¡¶éƒ¨å¯¼èˆªä¸æ ·å¼æ­£å¸¸</li>
</ul>
<p>æœ€ä½³å®è·µï¼š</p>
<ul>
<li>pages ç”¨äºè·¯ç”±é¡µé¢ï¼Œcomponents å­˜æ”¾å¯å¤ç”¨è§†å›¾ç»„ä»¶</li>
<li>å°†å…¬å…±ç»“æ„æ”¾å…¥ app.vue æˆ–å¸ƒå±€ï¼ˆlayoutsï¼‰</li>
</ul>
<hr/>
<blockquote>
<p>ä¸‹ä¸€ç« å°†ä»â€œè·¯ç”±ä¸å¯¼èˆªâ€å¼€å§‹ï¼Œæ·±å…¥è®²è§£åŠ¨æ€/åµŒå¥—è·¯ç”±ä¸ä¸­é—´ä»¶ï¼Œé…åˆå®Œæ•´ç¤ºä¾‹æŒç»­æ‰©å±•æœ¬ç¤ºä¾‹ç«™ç‚¹ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-6">2. è·¯ç”±ä¸å¯¼èˆª</h3>
<h4 data-id="heading-7">2.1 çº¦å®šå¼è·¯ç”±ï¼šåŠ¨æ€/å¯é€‰/æ•è·/åµŒå¥—</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šNuxt çš„ pages ç›®å½•æ ¹æ®æ–‡ä»¶å‘½åè‡ªåŠ¨ç”Ÿæˆè·¯ç”±ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šåŠ¨æ€ã€å¯é€‰ä¸æ•è·è·¯ç”±</strong></p>
<pre><code class="hljs language-bash" lang="bash">pages/
â”œâ”€ <span class="hljs-built_in">users</span>/
â”‚  â”œâ”€ [<span class="hljs-built_in">id</span>].vue         <span class="hljs-comment"># åŠ¨æ€å‚æ•° /users/123</span>
â”‚  â”œâ”€ [[tab]].vue      <span class="hljs-comment"># å¯é€‰å‚æ•° /users æˆ– /users/profile</span>
â”‚  â””â”€ [...slug].vue    <span class="hljs-comment"># æ•è·æ‰€æœ‰ /users/a/b/c</span>
â””â”€ <span class="hljs-built_in">users</span>/[<span class="hljs-built_in">id</span>]/settings.vue  <span class="hljs-comment"># åŠ¨æ€ + åµŒå¥—è·¯ç”± /users/123/settings</span>
</code></pre>
<p>ç¤ºä¾‹é¡µé¢ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- pages/users/[id].vue --&gt;
&lt;template&gt;
  &lt;section class="container"&gt;
    &lt;h2&gt;ç”¨æˆ·ï¼š{{ id }}&lt;/h2&gt;
    &lt;NuxtLink :to="`/users/${id}/settings`"&gt;è¿›å…¥è®¾ç½®&lt;/NuxtLink&gt;
  &lt;/section&gt;
&lt;/template&gt;
&lt;script setup lang="ts"&gt;
const route = useRoute()
const id = computed(() =&gt; route.params.id)
&lt;/script&gt;
</code></pre>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- pages/users/[id]/settings.vue --&gt;
&lt;template&gt;
  &lt;section class="container"&gt;
    &lt;NuxtLink :to="`/users/${id}`"&gt;â† è¿”å›&lt;/NuxtLink&gt;
    &lt;h3&gt;è®¾ç½®ä¸­å¿ƒ&lt;/h3&gt;
    &lt;p&gt;è¿™é‡Œæ˜¯ç”¨æˆ· {{ id }} çš„è®¾ç½®é¡µ&lt;/p&gt;
  &lt;/section&gt;
&lt;/template&gt;
&lt;script setup lang="ts"&gt;
const route = useRoute()
const id = computed(() =&gt; route.params.id)
&lt;/script&gt;
</code></pre>
<p>éªŒè¯ï¼š</p>
<ul>
<li>è®¿é—® <code>/users/1</code> ä¸ <code>/users/1/settings</code>ï¼Œè·¯ç”±ä¸å‚æ•°æ­£å¸¸</li>
</ul>
<hr/>
<h4 data-id="heading-8">2.2 é¡µé¢å¯¼èˆªä¸ç¼–ç¨‹å¼è·³è½¬</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šä½¿ç”¨ <code>&lt;NuxtLink&gt;</code> ä¸ <code>useRouter()</code> è¿›è¡Œå¯¼èˆªã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šåˆ†é¡µåˆ—è¡¨å¯¼èˆªä¸ç¼–ç¨‹å¼è·³è½¬</strong></p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- pages/list.vue --&gt;
&lt;template&gt;
  &lt;section class="container"&gt;
    &lt;h2&gt;æ–‡ç« åˆ—è¡¨ - ç¬¬ {{ page }} é¡µ&lt;/h2&gt;
    &lt;nav class="pager"&gt;
      &lt;NuxtLink :to="`/list?page=${Number(page)-1}`" v-if="Number(page)&gt;1"&gt;ä¸Šä¸€é¡µ&lt;/NuxtLink&gt;
      &lt;NuxtLink :to="`/list?page=${Number(page)+1}`"&gt;ä¸‹ä¸€é¡µ&lt;/NuxtLink&gt;
      &lt;button @click="goDetail(42)"&gt;ç¼–ç¨‹å¼è·³è½¬åˆ°æ–‡ç«  42&lt;/button&gt;
    &lt;/nav&gt;
  &lt;/section&gt;
&lt;/template&gt;
&lt;script setup lang="ts"&gt;
const route = useRoute()
const router = useRouter()
const page = computed(() =&gt; route.query.page ?? '1')
function goDetail(id: number) {
  router.push(`/posts/${id}`)
}
&lt;/script&gt;
&lt;style scoped&gt;
.pager { display:flex; gap:12px; align-items:center; }
&lt;/style&gt;
</code></pre>
<p>éªŒè¯ï¼š</p>
<ul>
<li>åˆ‡æ¢åˆ†é¡µé“¾æ¥æ­£å¸¸</li>
<li>ç‚¹å‡»æŒ‰é’®ç¼–ç¨‹å¼è·³è½¬åˆ° <code>/posts/42</code></li>
</ul>
<hr/>
<h4 data-id="heading-9">2.3 è·¯ç”±ä¸­é—´ä»¶ä¸é‡å®šå‘</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šè·¯ç”±ä¸­é—´ä»¶åœ¨è¿›å…¥é¡µé¢å‰æ‰§è¡Œï¼Œå¯ç”¨äºæƒé™æ ¡éªŒæˆ–é‡å®šå‘ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šéœ€è¦ç™»å½•çš„å—ä¿æŠ¤é¡µé¢ä¸ 302 é‡å®šå‘</strong></p>
<p>åˆ›å»ºè·¯ç”±ä¸­é—´ä»¶ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// middleware/auth.global.ts  å…¨å±€ä¸­é—´ä»¶ï¼ˆæ–‡ä»¶åä»¥ .globalï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineNuxtRouteMiddleware</span>(<span class="hljs-function">(<span class="hljs-params">to, <span class="hljs-keyword">from</span></span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> isLoggedIn = <span class="hljs-title function_">useCookie</span>(<span class="hljs-string">'logged_in'</span>).<span class="hljs-property">value</span> === <span class="hljs-string">'1'</span>
  <span class="hljs-keyword">if</span> (!isLoggedIn &amp;&amp; to.<span class="hljs-property">path</span>.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'/admin'</span>)) {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">navigateTo</span>(<span class="hljs-string">'/login'</span>, { <span class="hljs-attr">redirectCode</span>: <span class="hljs-number">302</span> })
  }
})
</code></pre>
<p>å—ä¿æŠ¤è·¯ç”±ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- pages/admin/index.vue --&gt;
&lt;template&gt;
  &lt;section class="container"&gt;
    &lt;h2&gt;åå°ç®¡ç†&lt;/h2&gt;
    &lt;p&gt;åªæœ‰ç™»å½•ç”¨æˆ·å¯è®¿é—®&lt;/p&gt;
  &lt;/section&gt;
&lt;/template&gt;
</code></pre>
<p>ç™»å½•é¡µç®€å•å®ç°ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- pages/login.vue --&gt;
&lt;template&gt;
  &lt;section class="container"&gt;
    &lt;h2&gt;ç™»å½•&lt;/h2&gt;
    &lt;button @click="login"&gt;ç‚¹å‡»ç™»å½•å¹¶è·³è½¬åå°&lt;/button&gt;
  &lt;/section&gt;
&lt;/template&gt;
&lt;script setup lang="ts"&gt;
function login() {
  const cookie = useCookie('logged_in')
  cookie.value = '1'
  navigateTo('/admin')
}
&lt;/script&gt;
</code></pre>
<p>éªŒè¯ï¼š</p>
<ul>
<li>æœªç™»å½•è®¿é—® <code>/admin</code> è‡ªåŠ¨é‡å®šå‘åˆ° <code>/login</code></li>
<li>ç™»å½•åè®¿é—® <code>/admin</code> æ­£å¸¸è¿›å…¥</li>
</ul>
<p>æœ€ä½³å®è·µï¼š</p>
<ul>
<li>ä½¿ç”¨ <code>middleware/*.global.ts</code> å¤„ç†å…¨å±€ç­–ç•¥</li>
<li>éœ€è¦ä»…é’ˆå¯¹æŸé¡µé¢çš„ç­–ç•¥å¯åœ¨é¡µé¢ <code>definePageMeta({ middleware: 'xxx' })</code></li>
</ul>
<hr/>
<h3 data-id="heading-10">3. æ•°æ®è·å–ä¸æ¸²æŸ“æ¨¡å¼</h3>
<h4 data-id="heading-11">3.1 useFetch / useAsyncData / $fetch</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šæ•°æ®è·å–çš„ä¸‰ç§å¸¸ç”¨æ–¹å¼ä¸å·®å¼‚ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šSSR è·å–æ–‡ç« åˆ—è¡¨ + å®¢æˆ·ç«¯å¢é‡åˆ·æ–°</strong></p>
<p>æœåŠ¡ç«¯æ¥å£ï¼ˆæ¨¡æ‹Ÿï¼‰ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// server/api/posts.get.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineEventHandler</span>(<span class="hljs-keyword">async</span> (event) =&gt; {
  <span class="hljs-comment">// æ¨¡æ‹Ÿæ•°æ®åº“æŸ¥è¯¢</span>
  <span class="hljs-keyword">return</span> [
    { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'Nuxt4 å…¥é—¨ä¸ç›®å½•çº¦å®š'</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'è·¯ç”±ä¸å¯¼èˆªè¯¦è§£'</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'æ•°æ®è·å–ä¸æ¸²æŸ“æ¨¡å¼'</span> }
  ]
})
</code></pre>
<p>é¡µé¢ä½¿ç”¨ <code>useAsyncData</code>ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- pages/fetch.vue --&gt;
&lt;template&gt;
  &lt;section class="container"&gt;
    &lt;h2&gt;æ–‡ç« åˆ—è¡¨ï¼ˆSSR é¦–å±ï¼‰&lt;/h2&gt;
    &lt;ul v-if="data"&gt;
      &lt;li v-for="p in data" :key="p.id"&gt;
        &lt;NuxtLink :to="`/posts/${p.id}`"&gt;{{ p.title }}&lt;/NuxtLink&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
    &lt;p v-else&gt;åŠ è½½ä¸­...&lt;/p&gt;
    &lt;button @click="refresh"&gt;å®¢æˆ·ç«¯åˆ·æ–°&lt;/button&gt;
  &lt;/section&gt;
&lt;/template&gt;
&lt;script setup lang="ts"&gt;
const { data, pending, error, refresh } = await useAsyncData('posts', () =&gt; $fetch('/api/posts'))
&lt;/script&gt;
</code></pre>
<p>åœ¨æŸç»„ä»¶ä¸­ä½¿ç”¨ <code>useFetch</code>ï¼ˆè‡ªåŠ¨å¤„ç† SSR/CSRï¼‰ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- components/PostCounter.vue --&gt;
&lt;template&gt;
  &lt;div&gt;å½“å‰æ–‡ç« æ€»æ•°ï¼š{{ count ?? '-' }}&lt;/div&gt;
&lt;/template&gt;
&lt;script setup lang="ts"&gt;
const { data } = await useFetch('/api/posts')
const count = computed(() =&gt; data.value?.length)
&lt;/script&gt;
</code></pre>
<p>éªŒè¯ï¼š</p>
<ul>
<li>é¦–æ¬¡è®¿é—® <code>pages/fetch.vue</code> SSR æ¸²æŸ“åˆ—è¡¨</li>
<li>ç‚¹å‡»â€œå®¢æˆ·ç«¯åˆ·æ–°â€ä¼šé‡æ–°è¯·æ±‚æ•°æ®å¹¶æ›´æ–°è§†å›¾</li>
</ul>
<hr/>
<h4 data-id="heading-12">3.2 æ¸²æŸ“æ¨¡å¼ï¼šSSRã€CSRã€æ··åˆã€é¢„æ¸²æŸ“</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šç†è§£ä¸åŒæ¸²æŸ“æ¨¡å¼çš„å–èˆä¸ Nuxt æ”¯æŒã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šå¯¹æ¯”åŒé¡µé¢åœ¨ä¸åŒæ¨¡å¼ä¸‹çš„è¡¨ç°</strong></p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- pages/modes.vue --&gt;
&lt;template&gt;
  &lt;section class="container"&gt;
    &lt;h2&gt;æ¸²æŸ“æ¨¡å¼å®éªŒ&lt;/h2&gt;
    &lt;p&gt;å½“å‰æ—¶é—´ï¼ˆæœåŠ¡ç«¯æˆ–å®¢æˆ·ç«¯ï¼‰ï¼š{{ now }}&lt;/p&gt;
  &lt;/section&gt;
&lt;/template&gt;
&lt;script setup lang="ts"&gt;
const now = ref&lt;string&gt;('')
if (process.server) {
  now.value = `SSR: ${new Date().toISOString()}`
} else {
  now.value = `CSR: ${new Date().toISOString()}`
}
&lt;/script&gt;
</code></pre>
<p>æ³¨ï¼š</p>
<ul>
<li>é¢„æ¸²æŸ“ï¼ˆé™æ€ç”Ÿæˆï¼‰å¯é€šè¿‡ <code>nuxi build</code> + <code>nuxi generate</code>ï¼ˆè§†å…·ä½“ç‰ˆæœ¬å‘½ä»¤ï¼‰ç”Ÿæˆé™æ€ HTML</li>
<li>æ··åˆæ¸²æŸ“å¸¸è§äºéƒ¨åˆ†é¡µé¢ SSRã€éƒ¨åˆ†çº¯å®¢æˆ·ç«¯</li>
</ul>
<hr/>
<h4 data-id="heading-13">3.3 ç¼“å­˜ä¸é”™è¯¯å¤„ç†</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šç»™æ•°æ®è·å–è®¾ç½®ç¼“å­˜é”®ã€å¤„ç†é”™è¯¯ä¸åŠ è½½æ€ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šå¸¦ç¼“å­˜é”®çš„ useAsyncData ä¸éª¨æ¶å±</strong></p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- pages/cache.vue --&gt;
&lt;template&gt;
  &lt;section class="container"&gt;
    &lt;h2&gt;ç¼“å­˜ç¤ºä¾‹&lt;/h2&gt;
    &lt;div v-if="pending" class="skeleton"&gt;åŠ è½½ä¸­ï¼ˆéª¨æ¶å±ï¼‰...&lt;/div&gt;
    &lt;ul v-else-if="data"&gt;
      &lt;li v-for="p in data" :key="p.id"&gt;{{ p.title }}&lt;/li&gt;
    &lt;/ul&gt;
    &lt;p v-else-if="error"&gt;å‘ç”Ÿé”™è¯¯ï¼š{{ error.message }}&lt;/p&gt;
    &lt;button @click="refresh"&gt;é‡æ–°æ‹‰å–&lt;/button&gt;
  &lt;/section&gt;
&lt;/template&gt;
&lt;script setup lang="ts"&gt;
const { data, pending, error, refresh } = await useAsyncData(
  // ç¼“å­˜é”®
  'posts-cache',
  // è·å–å‡½æ•°
  () =&gt; $fetch('/api/posts'),
  // å¯é€‰é…ç½®
  { default: () =&gt; [], server: true, lazy: false }
)
&lt;/script&gt;
&lt;style scoped&gt;
.skeleton { height: 120px; background: #f5f5f5; animation: pulse 1.2s infinite; }
@keyframes pulse { 0%{opacity:.6} 50%{opacity:1} 100%{opacity:.6} }
&lt;/style&gt;
</code></pre>
<p>æœ€ä½³å®è·µï¼š</p>
<ul>
<li>ä¸º <code>useAsyncData</code> è®¾ç½®åˆç†çš„ <code>key</code> ä»¥å¯ç”¨ç¼“å­˜ä¸é¿å…é‡å¤è¯·æ±‚</li>
<li>ç»Ÿä¸€å¤„ç† <code>pending</code>/<code>error</code>ï¼Œæä¾›è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒ</li>
</ul>
<hr/>
<h3 data-id="heading-14">4. ç»„ä»¶ä¸å¸ƒå±€</h3>
<h4 data-id="heading-15">4.1 è‡ªåŠ¨å¯¼å…¥ç»„ä»¶ä¸ç›®å½•ç»„ç»‡</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šNuxt è‡ªåŠ¨å¯¼å…¥ <code>components/</code> ä¸‹çš„ç»„ä»¶ï¼Œæ— éœ€æ‰‹åŠ¨æ³¨å†Œã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šå»ºç«‹ BaseButton å¹¶åœ¨å¤šé¡µé¢å¤ç”¨</strong></p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- components/BaseButton.vue --&gt;
&lt;template&gt;
  &lt;button class="btn" :class="variant"&gt;
    &lt;slot /&gt;
  &lt;/button&gt;
&lt;/template&gt;
&lt;script setup lang="ts"&gt;
defineProps&lt;{ variant?: 'primary' | 'secondary' }&gt;()
&lt;/script&gt;
&lt;style scoped&gt;
.btn { padding:8px 12px; border-radius:6px; }
.primary { background:#0ea5e9; color:#fff; }
.secondary { background:#eee; color:#333; }
&lt;/style&gt;
</code></pre>
<p>åœ¨ä»»æ„é¡µé¢ç›´æ¥ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- pages/about.vue --&gt;
&lt;template&gt;
  &lt;section class="container"&gt;
    &lt;h2&gt;å…³äºé¡µé¢&lt;/h2&gt;
    &lt;BaseButton variant="primary"&gt;ç«‹å³ä½“éªŒ&lt;/BaseButton&gt;
  &lt;/section&gt;
&lt;/template&gt;
</code></pre>
<hr/>
<h4 data-id="heading-16">4.2 å¸ƒå±€ï¼ˆlayoutsï¼‰ä¸é”™è¯¯é¡µï¼ˆerror.vueï¼‰</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šä½¿ç”¨å¸ƒå±€ç»Ÿä¸€é¡µé¢æ¡†æ¶ä¸å¯¼èˆªï¼›ä½¿ç”¨é”™è¯¯é¡µç»Ÿä¸€å¼‚å¸¸å±•ç¤ºã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šé»˜è®¤å¸ƒå±€ä¸è‡ªå®šä¹‰é”™è¯¯é¡µ</strong></p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- layouts/default.vue --&gt;
&lt;template&gt;
  &lt;div&gt;
    &lt;BaseHeader /&gt;
    &lt;main class="main"&gt;
      &lt;slot /&gt;
    &lt;/main&gt;
    &lt;footer class="footer"&gt;Â© 2026 Nuxt4 Docs&lt;/footer&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;style scoped&gt;
.main { max-width: 960px; margin: 24px auto; min-height: 60vh; }
.footer { border-top: 1px solid #eee; padding: 16px; text-align: center; color:#666; }
&lt;/style&gt;
</code></pre>
<p>é”™è¯¯é¡µï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- error.vue --&gt;
&lt;template&gt;
  &lt;section class="container"&gt;
    &lt;h2&gt;å‘ç”Ÿé”™è¯¯&lt;/h2&gt;
    &lt;p&gt;{{ error.message }}&lt;/p&gt;
    &lt;NuxtLink to="/"&gt;è¿”å›é¦–é¡µ&lt;/NuxtLink&gt;
  &lt;/section&gt;
&lt;/template&gt;
&lt;script setup lang="ts"&gt;
const props = defineProps&lt;{ error: { message: string } }&gt;()
const error = toRef(props, 'error')
&lt;/script&gt;
</code></pre>
<p>éªŒè¯ï¼š</p>
<ul>
<li>é¡µé¢è‡ªåŠ¨å¥—ç”¨é»˜è®¤å¸ƒå±€</li>
<li>æŠ›å‡ºé”™è¯¯æ—¶ç»Ÿä¸€ç”± <code>error.vue</code> æ•è·å±•ç¤º</li>
</ul>
<hr/>
<h4 data-id="heading-17">4.3 æ’æ§½ä¸è·¨å¸ƒå±€çŠ¶æ€</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šé€šè¿‡æ’æ§½æ„å»ºå¯æ‰©å±•å¸ƒå±€ï¼›ä½¿ç”¨ <code>useState</code> ä¿æŒè·¨é¡µé¢/å¸ƒå±€çŠ¶æ€ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šè·¨é¡µå…¬å‘Šæ ä¸å¯æ’æ§½çš„ä¸»å¸ƒå±€</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// composables/useBanner.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">useBanner</span> = (<span class="hljs-params"/>) =&gt; useState&lt;<span class="hljs-built_in">string</span>&gt;(<span class="hljs-string">'global-banner'</span>, <span class="hljs-function">() =&gt;</span> <span class="hljs-string">''</span>)
</code></pre>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- layouts/default.vueï¼ˆç‰‡æ®µï¼ŒåŠ å…¥å…¬å‘Šæ æ’æ§½ï¼‰ --&gt;
&lt;template&gt;
  &lt;div&gt;
    &lt;BaseHeader /&gt;
    &lt;div v-if="banner" class="banner"&gt;{{ banner }}&lt;/div&gt;
    &lt;main class="main"&gt;&lt;slot /&gt;&lt;/main&gt;
    &lt;footer class="footer"&gt;Â© 2026 Nuxt4 Docs&lt;/footer&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script setup lang="ts"&gt;
const banner = useBanner()
&lt;/script&gt;
&lt;style scoped&gt;
.banner { background:#fff0c2; padding:8px 12px; border-bottom:1px solid #ffe28a; }
&lt;/style&gt;
</code></pre>
<p>åœ¨æŸé¡µé¢è®¾å®šå…¬å‘Šï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- pages/announcement.vue --&gt;
&lt;template&gt;
  &lt;section class="container"&gt;
    &lt;h2&gt;è®¾ç½®å…¬å‘Š&lt;/h2&gt;
    &lt;BaseButton variant="secondary" @click="setBanner"&gt;æ˜¾ç¤ºå…¬å‘Š&lt;/BaseButton&gt;
    &lt;BaseButton variant="secondary" @click="clearBanner"&gt;æ¸…é™¤å…¬å‘Š&lt;/BaseButton&gt;
  &lt;/section&gt;
&lt;/template&gt;
&lt;script setup lang="ts"&gt;
const banner = useBanner()
function setBanner() { banner.value = 'è¿™æ˜¯ä¸€ä¸ªè·¨é¡µå…¬å‘Šï¼Œæ‰€æœ‰é¡µé¢é¡¶éƒ¨å¯è§ã€‚' }
function clearBanner() { banner.value = '' }
&lt;/script&gt;
</code></pre>
<p>æœ€ä½³å®è·µï¼š</p>
<ul>
<li>å°†å…¨å±€ UI ä¸çŠ¶æ€æ”¾å…¥å¸ƒå±€ä¸ composables</li>
<li>ä½¿ç”¨å‘½å <code>useState</code> ä»¥å…±äº«è·¨é¡µé¢çŠ¶æ€</li>
</ul>
<hr/>
<h3 data-id="heading-18">5. çŠ¶æ€ç®¡ç†ï¼ˆPiniaï¼‰</h3>
<h4 data-id="heading-19">5.1 å®‰è£…ä¸é›†æˆ Pinia</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šåœ¨ Nuxt ä¸­ä½¿ç”¨ Pinia è¿›è¡ŒçŠ¶æ€ç®¡ç†ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šé€šè¿‡æ¨¡å—é›†æˆ @pinia/nuxt</strong></p>
<pre><code class="hljs language-bash" lang="bash">pnpm add @pinia/nuxt pinia
</code></pre>
<p>åœ¨ <code>nuxt.config.ts</code> ä¸­å¼€å¯æ¨¡å—ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// nuxt.config.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineNuxtConfig</span>({
  <span class="hljs-attr">modules</span>: [<span class="hljs-string">'@pinia/nuxt'</span>],
  <span class="hljs-attr">pinia</span>: {
    <span class="hljs-attr">autoImports</span>: [<span class="hljs-string">'defineStore'</span>, <span class="hljs-string">'storeToRefs'</span>]
  }
})
</code></pre>
<hr/>
<h4 data-id="heading-20">5.2 è´­ç‰©è½¦ Store çš„å¢åˆ æ”¹æŸ¥</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šå®šä¹‰ Storeã€æ´¾å‘åŠ¨ä½œã€ä»ç»„ä»¶è¯»å–çŠ¶æ€ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼š<code>stores/cart.ts</code> ä¸é¡µé¢ä½¿ç”¨</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// stores/cart.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useCartStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'cart'</span>, {
  <span class="hljs-attr">state</span>: <span class="hljs-function">() =&gt;</span> ({
    <span class="hljs-attr">items</span>: [] <span class="hljs-keyword">as</span> { <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">qty</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">price</span>: <span class="hljs-built_in">number</span> }[]
  }),
  <span class="hljs-attr">getters</span>: {
    <span class="hljs-attr">total</span>: <span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> s.<span class="hljs-property">items</span>.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">sum, i</span>) =&gt;</span> sum + i.<span class="hljs-property">qty</span> * i.<span class="hljs-property">price</span>, <span class="hljs-number">0</span>)
  },
  <span class="hljs-attr">actions</span>: {
    <span class="hljs-title function_">add</span>(<span class="hljs-params">item: { id: <span class="hljs-built_in">number</span>; title: <span class="hljs-built_in">string</span>; price: <span class="hljs-built_in">number</span> }</span>) {
      <span class="hljs-keyword">const</span> found = <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">i</span> =&gt;</span> i.<span class="hljs-property">id</span> === item.<span class="hljs-property">id</span>)
      <span class="hljs-keyword">if</span> (found) found.<span class="hljs-property">qty</span> += <span class="hljs-number">1</span>
      <span class="hljs-keyword">else</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>({ ...item, <span class="hljs-attr">qty</span>: <span class="hljs-number">1</span> })
    },
    <span class="hljs-title function_">remove</span>(<span class="hljs-params">id: <span class="hljs-built_in">number</span></span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">i</span> =&gt;</span> i.<span class="hljs-property">id</span> !== id)
    },
    <span class="hljs-title function_">clear</span>(<span class="hljs-params"/>) { <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span> = [] }
  }
})
</code></pre>
<p>åœ¨é¡µé¢ä¸­ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- pages/shop.vue --&gt;
&lt;template&gt;
  &lt;section class="container"&gt;
    &lt;h2&gt;å•†å“åˆ—è¡¨&lt;/h2&gt;
    &lt;ul&gt;
      &lt;li v-for="p in products" :key="p.id"&gt;
        {{ p.title }} - Â¥{{ p.price }}
        &lt;BaseButton variant="primary" @click="add(p)"&gt;åŠ å…¥è´­ç‰©è½¦&lt;/BaseButton&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
    &lt;h3&gt;è´­ç‰©è½¦ï¼ˆæ€»è®¡ï¼šÂ¥{{ total }}ï¼‰&lt;/h3&gt;
    &lt;ul&gt;
      &lt;li v-for="i in items" :key="i.id"&gt;
        {{ i.title }} Ã— {{ i.qty }} = Â¥{{ i.qty * i.price }}
        &lt;BaseButton variant="secondary" @click="remove(i.id)"&gt;ç§»é™¤&lt;/BaseButton&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
    &lt;BaseButton variant="secondary" @click="clear"&gt;æ¸…ç©º&lt;/BaseButton&gt;
  &lt;/section&gt;
&lt;/template&gt;
&lt;script setup lang="ts"&gt;
const products = [
  { id: 1, title: 'ä¹¦ç± A', price: 30 },
  { id: 2, title: 'ä¹¦ç± B', price: 50 }
]
const cart = useCartStore()
const { items, total } = storeToRefs(cart)
const { add, remove, clear } = cart
&lt;/script&gt;
</code></pre>
<p>éªŒè¯ï¼š</p>
<ul>
<li>åŠ å…¥/ç§»é™¤å•†å“ï¼›æ€»ä»·å®æ—¶æ›´æ–°</li>
</ul>
<hr/>
<h4 data-id="heading-21">5.3 æœåŠ¡ç«¯åˆå§‹åŒ–ä¸æŒä¹…åŒ–</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šåœ¨ SSR ä¸­æ¢å¤çŠ¶æ€ï¼›åœ¨å®¢æˆ·ç«¯æŒä¹…åŒ–ï¼ˆcookies/localStorageï¼‰ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šç™»å½•æ€åœ¨ SSR/CSR çš„ä¿æŒä¸æ¢å¤</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// middleware/auth.global.tsï¼ˆç‰‡æ®µï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineNuxtRouteMiddleware</span>(<span class="hljs-function">(<span class="hljs-params">to</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> logged = <span class="hljs-title function_">useCookie</span>(<span class="hljs-string">'logged_in'</span>).<span class="hljs-property">value</span> === <span class="hljs-string">'1'</span>
  <span class="hljs-keyword">if</span> (!logged &amp;&amp; to.<span class="hljs-property">path</span>.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'/admin'</span>)) <span class="hljs-keyword">return</span> <span class="hljs-title function_">navigateTo</span>(<span class="hljs-string">'/login'</span>)
})
</code></pre>
<p>åœ¨é¡µé¢æŒ‚è½½æ—¶å°†è´­ç‰©è½¦æŒä¹…åŒ–ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// plugins/persist.client.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineNuxtPlugin</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> cart = <span class="hljs-title function_">useCartStore</span>()
  <span class="hljs-keyword">const</span> saved = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'cart'</span>)
  <span class="hljs-keyword">if</span> (saved) cart.<span class="hljs-property">items</span> = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(saved)
  <span class="hljs-title function_">watch</span>(<span class="hljs-function">() =&gt;</span> cart.<span class="hljs-property">items</span>, <span class="hljs-function">(<span class="hljs-params">val</span>) =&gt;</span> {
    <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">'cart'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(val))
  }, { <span class="hljs-attr">deep</span>: <span class="hljs-literal">true</span> })
})
</code></pre>
<p>æœ€ä½³å®è·µï¼š</p>
<ul>
<li>é€šè¿‡ <code>.client.ts</code> æ’ä»¶ç¡®ä¿ä»…åœ¨å®¢æˆ·ç«¯è®¿é—® <code>localStorage</code></li>
<li>SSR ä¾èµ– cookies ä¼ é€’ä¼šè¯ï¼›æ•æ„Ÿä¿¡æ¯ä½¿ç”¨ HTTPOnly Cookieï¼ˆè§å®‰å…¨ç« èŠ‚ï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-22">6. ç»„åˆå¼ API ä¸å¯å¤ç”¨é€»è¾‘</h3>
<h4 data-id="heading-23">6.1 auto-import composables ä¸ç›®å½•ç»„ç»‡</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šNuxt ä¼šè‡ªåŠ¨å¯¼å…¥ <code>composables/</code> ä¸‹çš„å‡½æ•°ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šå°è£…åˆ†é¡µä¸æœç´¢é€»è¾‘</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// composables/usePagination.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">usePagination</span>(<span class="hljs-params">initial = <span class="hljs-number">1</span></span>) {
  <span class="hljs-keyword">const</span> page = useState&lt;<span class="hljs-built_in">number</span>&gt;(<span class="hljs-string">'page'</span>, <span class="hljs-function">() =&gt;</span> initial)
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">next</span>(<span class="hljs-params"/>) { page.<span class="hljs-property">value</span> += <span class="hljs-number">1</span> }
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">prev</span>(<span class="hljs-params"/>) { page.<span class="hljs-property">value</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">1</span>, page.<span class="hljs-property">value</span> - <span class="hljs-number">1</span>) }
  <span class="hljs-keyword">return</span> { page, next, prev }
}
</code></pre>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// composables/useSearch.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useSearch</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> q = useState&lt;<span class="hljs-built_in">string</span>&gt;(<span class="hljs-string">'q'</span>, <span class="hljs-function">() =&gt;</span> <span class="hljs-string">''</span>)
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">set</span> = (<span class="hljs-params">val: <span class="hljs-built_in">string</span></span>) =&gt; { q.<span class="hljs-property">value</span> = val }
  <span class="hljs-keyword">return</span> { q, set }
}
</code></pre>
<p>åœ¨é¡µé¢ä¸­ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- pages/search.vue --&gt;
&lt;template&gt;
  &lt;section class="container"&gt;
    &lt;h2&gt;æœç´¢ä¸åˆ†é¡µ&lt;/h2&gt;
    &lt;input v-model="q" placeholder="è¾“å…¥å…³é”®å­—" /&gt;
    &lt;div class="pager"&gt;
      &lt;BaseButton variant="secondary" @click="prev"&gt;ä¸Šä¸€é¡µ&lt;/BaseButton&gt;
      &lt;span&gt;ç¬¬ {{ page }} é¡µ&lt;/span&gt;
      &lt;BaseButton variant="secondary" @click="next"&gt;ä¸‹ä¸€é¡µ&lt;/BaseButton&gt;
    &lt;/div&gt;
    &lt;p&gt;å½“å‰æœç´¢ï¼š{{ q }}&lt;/p&gt;
  &lt;/section&gt;
&lt;/template&gt;
&lt;script setup lang="ts"&gt;
const { q, set } = useSearch()
const { page, next, prev } = usePagination()
&lt;/script&gt;
&lt;style scoped&gt;
.pager { display:flex; gap:12px; align-items:center; margin-top:12px; }
&lt;/style&gt;
</code></pre>
<hr/>
<h4 data-id="heading-24">6.2 ç±»å‹å®‰å…¨çš„è‡ªå®šä¹‰ç»„åˆå¼</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šåœ¨ç»„åˆå¼ä¸­ä½¿ç”¨ TypeScript å£°æ˜è¾“å…¥/è¾“å‡ºã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šè¡¨å•æ ¡éªŒ composable</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// composables/useForm.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">LoginForm</span> {
  <span class="hljs-attr">username</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-attr">password</span>: <span class="hljs-built_in">string</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useForm</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> form = reactive&lt;<span class="hljs-title class_">LoginForm</span>&gt;({ <span class="hljs-attr">username</span>: <span class="hljs-string">''</span>, <span class="hljs-attr">password</span>: <span class="hljs-string">''</span> })
  <span class="hljs-keyword">const</span> errors = reactive&lt;{ username?: <span class="hljs-built_in">string</span>; password?: <span class="hljs-built_in">string</span> }&gt;({})

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">validate</span>(<span class="hljs-params"/>): <span class="hljs-built_in">boolean</span> {
    errors.<span class="hljs-property">username</span> = form.<span class="hljs-property">username</span> ? <span class="hljs-literal">undefined</span> : <span class="hljs-string">'ç”¨æˆ·åå¿…å¡«'</span>
    errors.<span class="hljs-property">password</span> = form.<span class="hljs-property">password</span>.<span class="hljs-property">length</span> &gt;= <span class="hljs-number">6</span> ? <span class="hljs-literal">undefined</span> : <span class="hljs-string">'å¯†ç è‡³å°‘ 6 ä½'</span>
    <span class="hljs-keyword">return</span> !errors.<span class="hljs-property">username</span> &amp;&amp; !errors.<span class="hljs-property">password</span>
  }

  <span class="hljs-keyword">return</span> { form, errors, validate }
}
</code></pre>
<p>åœ¨ç™»å½•é¡µä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- pages/login.vueï¼ˆç‰‡æ®µï¼Œè¡¨å•æ ¡éªŒï¼‰ --&gt;
&lt;script setup lang="ts"&gt;
const { form, errors, validate } = useForm()
async function onSubmit() {
  if (!validate()) return
  // è°ƒç”¨åç«¯ç™»å½• API
}
&lt;/script&gt;
</code></pre>
<p>æœ€ä½³å®è·µï¼š</p>
<ul>
<li>å°†å¯å¤ç”¨ä¸šåŠ¡é€»è¾‘æ²‰æ·€ä¸º composablesï¼Œç»Ÿä¸€ç±»å‹ä¸æ ¡éªŒ</li>
<li>é€šè¿‡ <code>useState</code> æˆ–ä¼ å‚æ§åˆ¶çŠ¶æ€ä½œç”¨åŸŸä¸æŒä¹…åŒ–ç­–ç•¥</li>
</ul>
<hr/>
<h3 data-id="heading-25">7. æ’ä»¶ä¸æ¨¡å—ç”Ÿæ€</h3>
<h4 data-id="heading-26">7.1 Pluginsï¼šæ³¨å…¥å®¢æˆ·ç«¯/æœåŠ¡ç«¯èƒ½åŠ›</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šé€šè¿‡æ’ä»¶å‘åº”ç”¨æ³¨å…¥å…¨å±€å¯¹è±¡æˆ–æ–¹æ³•ï¼ˆ<code>nuxtApp.provide</code>ï¼‰ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šæ³¨å†Œ axios æ’ä»¶ä¸è¯·æ±‚æ‹¦æˆªå™¨ï¼Œæ³¨å…¥ <code>$api</code></strong></p>
<pre><code class="hljs language-bash" lang="bash">pnpm add axios
</code></pre>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// plugins/api.ts</span>
<span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">'axios'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineNuxtPlugin</span>(<span class="hljs-function">(<span class="hljs-params">nuxtApp</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> instance = axios.<span class="hljs-title function_">create</span>({
    <span class="hljs-attr">baseURL</span>: <span class="hljs-title function_">useRuntimeConfig</span>().<span class="hljs-property">public</span>.<span class="hljs-property">apiBase</span> || <span class="hljs-string">'https://api.example.com'</span>
  })
  <span class="hljs-comment">// è¯·æ±‚æ‹¦æˆªå™¨</span>
  instance.<span class="hljs-property">interceptors</span>.<span class="hljs-property">request</span>.<span class="hljs-title function_">use</span>(<span class="hljs-function">(<span class="hljs-params">config</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> token = <span class="hljs-title function_">useCookie</span>(<span class="hljs-string">'token'</span>).<span class="hljs-property">value</span>
    <span class="hljs-keyword">if</span> (token) config.<span class="hljs-property">headers</span>.<span class="hljs-property">Authorization</span> = <span class="hljs-string">`Bearer <span class="hljs-subst">${token}</span>`</span>
    <span class="hljs-keyword">return</span> config
  })
  <span class="hljs-comment">// å“åº”æ‹¦æˆªå™¨</span>
  instance.<span class="hljs-property">interceptors</span>.<span class="hljs-property">response</span>.<span class="hljs-title function_">use</span>(
    <span class="hljs-function">(<span class="hljs-params">resp</span>) =&gt;</span> resp,
    <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
      <span class="hljs-comment">// ç»Ÿä¸€é”™è¯¯å¤„ç†</span>
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'API Error:'</span>, err.<span class="hljs-property">message</span>)
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(err)
    }
  )
  nuxtApp.<span class="hljs-title function_">provide</span>(<span class="hljs-string">'api'</span>, instance)
})
</code></pre>
<p>åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- pages/api-demo.vue --&gt;
&lt;template&gt;
  &lt;section class="container"&gt;
    &lt;h2&gt;Axios æ’ä»¶ç¤ºä¾‹&lt;/h2&gt;
    &lt;p v-if="error"&gt;è¯·æ±‚å¤±è´¥ï¼š{{ error }}&lt;/p&gt;
    &lt;ul v-else&gt;
      &lt;li v-for="u in users" :key="u.id"&gt;{{ u.name }}&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/section&gt;
&lt;/template&gt;
&lt;script setup lang="ts"&gt;
const { $api } = useNuxtApp()
const users = ref&lt;{ id:number; name:string }[]&gt;([])
const error = ref&lt;string&gt;('')
try {
  const resp = await $api.get('/users')
  users.value = resp.data
} catch (e: any) {
  error.value = e.message
}
&lt;/script&gt;
</code></pre>
<hr/>
<h4 data-id="heading-27">7.2 Modulesï¼šå®˜æ–¹ä¸ç¬¬ä¸‰æ–¹æ¨¡å—</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šé€šè¿‡æ¨¡å—æ‰©å±• Nuxt èƒ½åŠ›ï¼Œå¦‚å†…å®¹ã€å›¾ç‰‡ã€å›½é™…åŒ–ç­‰ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šæ¥å…¥ @nuxt/image ä¼˜åŒ–äº§å“å›¾</strong></p>
<pre><code class="hljs language-bash" lang="bash">pnpm add @nuxt/image
</code></pre>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// nuxt.config.tsï¼ˆç‰‡æ®µï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineNuxtConfig</span>({
  <span class="hljs-attr">modules</span>: [<span class="hljs-string">'@nuxt/image'</span>],
  <span class="hljs-attr">image</span>: {
    <span class="hljs-comment">// å¯æ ¹æ®å®é™… CDN æˆ–é™æ€èµ„æºé…ç½®</span>
    <span class="hljs-attr">domains</span>: [<span class="hljs-string">'images.example.com'</span>]
  }
})
</code></pre>
<p>ä½¿ç”¨å›¾ç‰‡ç»„ä»¶ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- pages/image-demo.vue --&gt;
&lt;template&gt;
  &lt;section class="container"&gt;
    &lt;h2&gt;å›¾ç‰‡ä¼˜åŒ–ç¤ºä¾‹&lt;/h2&gt;
    &lt;NuxtImg src="https://images.example.com/product.jpg" width="600" height="400" format="webp" /&gt;
  &lt;/section&gt;
&lt;/template&gt;
</code></pre>
<p>æœ€ä½³å®è·µï¼š</p>
<ul>
<li>å°†é€šç”¨åŠŸèƒ½å°è£…ä¸ºæ’ä»¶ï¼Œä¾¿äºåœ¨ä»»æ„ç»„ä»¶ä½¿ç”¨</li>
<li>ä¼˜å…ˆä½¿ç”¨å®˜æ–¹æ¨¡å—ï¼ˆcontent/image/i18n/devtools ç­‰ï¼‰ï¼Œæå‡å¼€å‘æ•ˆç‡ä¸è´¨é‡</li>
</ul>
<hr/>
<h3 data-id="heading-28">8. æœåŠ¡ç«¯å¼€å‘ï¼ˆNitroï¼‰</h3>
<h4 data-id="heading-29">8.1 server/api è·¯ç”±ä¸äº‹ä»¶å¤„ç†å™¨</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šåœ¨ <code>server/api</code> ä¸‹æ–°å¢æ–‡ä»¶å³ä¸º API è·¯ç”±ï¼Œä½¿ç”¨äº‹ä»¶å¤„ç†å™¨è¯»å–è¯·æ±‚ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šRESTful æ–‡ç«  API</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// server/api/posts.get.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineEventHandler</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">return</span> [{ <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'æ–‡ç«  A'</span> }, { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'æ–‡ç«  B'</span> }]
})
</code></pre>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// server/api/posts/[id].get.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineEventHandler</span>(<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> id = <span class="hljs-title function_">getRouterParam</span>(event, <span class="hljs-string">'id'</span>)
  <span class="hljs-keyword">return</span> { id, <span class="hljs-attr">title</span>: <span class="hljs-string">`æ–‡ç«  <span class="hljs-subst">${id}</span>`</span> }
})
</code></pre>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// server/api/posts.post.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineEventHandler</span>(<span class="hljs-keyword">async</span> (event) =&gt; {
  <span class="hljs-keyword">const</span> body = <span class="hljs-keyword">await</span> <span class="hljs-title function_">readBody</span>(event) <span class="hljs-comment">// { title: string }</span>
  <span class="hljs-keyword">return</span> { <span class="hljs-attr">id</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(), ...body }
})
</code></pre>
<p>å®¢æˆ·ç«¯è°ƒç”¨ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// composables/usePosts.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">usePosts</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">list</span> = (<span class="hljs-params"/>) =&gt; $fetch(<span class="hljs-string">'/api/posts'</span>)
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">detail</span> = (<span class="hljs-params">id: <span class="hljs-built_in">number</span></span>) =&gt; $fetch(<span class="hljs-string">`/api/posts/<span class="hljs-subst">${id}</span>`</span>)
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">create</span> = (<span class="hljs-params">title: <span class="hljs-built_in">string</span></span>) =&gt; $fetch(<span class="hljs-string">'/api/posts'</span>, { <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>, <span class="hljs-attr">body</span>: { title } })
  <span class="hljs-keyword">return</span> { list, detail, create }
}
</code></pre>
<hr/>
<h4 data-id="heading-30">8.2 server/routes ä¸ä¸­é—´ä»¶ï¼ˆè®¤è¯/é™é€Ÿï¼‰</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šè‡ªå®šä¹‰æœåŠ¡ç«¯è·¯ç”±ä¸ä¸­é—´ä»¶ï¼Œé€‚åˆé API çš„æœåŠ¡ç«¯å“åº”æˆ–ç‰¹æ®Šå¤„ç†ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šç®€å•é™æµä¸­é—´ä»¶ä¸è®¤è¯æ ¡éªŒ</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// server/middleware/rate-limit.ts</span>
<span class="hljs-keyword">const</span> hits = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, { <span class="hljs-attr">count</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">ts</span>: <span class="hljs-built_in">number</span> }&gt;()
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineEventHandler</span>(<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> ip = <span class="hljs-title function_">getHeader</span>(event, <span class="hljs-string">'x-forwarded-for'</span>) || event.<span class="hljs-property">node</span>.<span class="hljs-property">req</span>.<span class="hljs-property">socket</span>.<span class="hljs-property">remoteAddress</span> || <span class="hljs-string">'unknown'</span>
  <span class="hljs-keyword">const</span> record = hits.<span class="hljs-title function_">get</span>(ip) || { <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">ts</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() }
  <span class="hljs-keyword">const</span> now = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()
  <span class="hljs-keyword">if</span> (now - record.<span class="hljs-property">ts</span> &gt; <span class="hljs-number">60_000</span>) { record.<span class="hljs-property">count</span> = <span class="hljs-number">0</span>; record.<span class="hljs-property">ts</span> = now }
  record.<span class="hljs-property">count</span> += <span class="hljs-number">1</span>
  hits.<span class="hljs-title function_">set</span>(ip, record)
  <span class="hljs-keyword">if</span> (record.<span class="hljs-property">count</span> &gt; <span class="hljs-number">60</span>) { <span class="hljs-comment">// æ¯åˆ†é’Ÿ 60 æ¬¡</span>
    <span class="hljs-keyword">throw</span> <span class="hljs-title function_">createError</span>({ <span class="hljs-attr">statusCode</span>: <span class="hljs-number">429</span>, <span class="hljs-attr">statusMessage</span>: <span class="hljs-string">'Too Many Requests'</span> })
  }
})
</code></pre>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// server/routes/secure.get.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineEventHandler</span>(<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> token = <span class="hljs-title function_">getCookie</span>(event, <span class="hljs-string">'token'</span>)
  <span class="hljs-keyword">if</span> (!token) <span class="hljs-keyword">throw</span> <span class="hljs-title function_">createError</span>({ <span class="hljs-attr">statusCode</span>: <span class="hljs-number">401</span>, <span class="hljs-attr">statusMessage</span>: <span class="hljs-string">'Unauthorized'</span> })
  <span class="hljs-keyword">return</span> { <span class="hljs-attr">ok</span>: <span class="hljs-literal">true</span> }
})
</code></pre>
<hr/>
<h4 data-id="heading-31">8.3 JWT ç™»å½•ä¸ RBAC æƒé™</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šåŸºäº JWT çš„ç™»å½•æ€ä¸è§’è‰²æƒé™æ§åˆ¶ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šç™»å½•é¢å‘ä»¤ç‰Œä¸è§’è‰²æ£€æŸ¥</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// server/api/auth/login.post.ts</span>
<span class="hljs-keyword">import</span> jwt <span class="hljs-keyword">from</span> <span class="hljs-string">'jsonwebtoken'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineEventHandler</span>(<span class="hljs-keyword">async</span> (event) =&gt; {
  <span class="hljs-keyword">const</span> { username, password } = <span class="hljs-keyword">await</span> <span class="hljs-title function_">readBody</span>(event)
  <span class="hljs-keyword">if</span> (username !== <span class="hljs-string">'admin'</span> || password !== <span class="hljs-string">'123456'</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-title function_">createError</span>({ <span class="hljs-attr">statusCode</span>: <span class="hljs-number">401</span>, <span class="hljs-attr">statusMessage</span>: <span class="hljs-string">'Bad credentials'</span> })
  }
  <span class="hljs-keyword">const</span> token = jwt.<span class="hljs-title function_">sign</span>({ <span class="hljs-attr">sub</span>: username, <span class="hljs-attr">role</span>: <span class="hljs-string">'admin'</span> }, process.<span class="hljs-property">env</span>.<span class="hljs-property">JWT_SECRET</span>!, { <span class="hljs-attr">expiresIn</span>: <span class="hljs-string">'1h'</span> })
  <span class="hljs-title function_">setCookie</span>(event, <span class="hljs-string">'token'</span>, token, { <span class="hljs-attr">httpOnly</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">secure</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">sameSite</span>: <span class="hljs-string">'lax'</span>, <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span> })
  <span class="hljs-keyword">return</span> { <span class="hljs-attr">ok</span>: <span class="hljs-literal">true</span> }
})
</code></pre>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// server/middleware/rbac.ts</span>
<span class="hljs-keyword">import</span> jwt <span class="hljs-keyword">from</span> <span class="hljs-string">'jsonwebtoken'</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineEventHandler</span>(<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> token = <span class="hljs-title function_">getCookie</span>(event, <span class="hljs-string">'token'</span>)
  <span class="hljs-keyword">if</span> (!token) <span class="hljs-keyword">throw</span> <span class="hljs-title function_">createError</span>({ <span class="hljs-attr">statusCode</span>: <span class="hljs-number">401</span> })
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> payload = jwt.<span class="hljs-title function_">verify</span>(token, process.<span class="hljs-property">env</span>.<span class="hljs-property">JWT_SECRET</span>!) <span class="hljs-keyword">as</span> { <span class="hljs-attr">role</span>: <span class="hljs-built_in">string</span> }
    <span class="hljs-keyword">if</span> (payload.<span class="hljs-property">role</span> !== <span class="hljs-string">'admin'</span>) <span class="hljs-keyword">throw</span> <span class="hljs-title function_">createError</span>({ <span class="hljs-attr">statusCode</span>: <span class="hljs-number">403</span>, <span class="hljs-attr">statusMessage</span>: <span class="hljs-string">'Forbidden'</span> })
  } <span class="hljs-keyword">catch</span> {
    <span class="hljs-keyword">throw</span> <span class="hljs-title function_">createError</span>({ <span class="hljs-attr">statusCode</span>: <span class="hljs-number">401</span> })
  }
})
</code></pre>
<p>è¯´æ˜ï¼š</p>
<ul>
<li>åˆ‡å‹¿å°† <code>JWT_SECRET</code> ç­‰å¯†é’¥ç¡¬ç¼–ç åˆ°ä»£ç ï¼ˆè§è¿è¡Œæ—¶é…ç½®ç« èŠ‚ï¼‰</li>
</ul>
<hr/>
<h4 data-id="heading-32">8.4 æ–‡ä»¶ä¸Šä¼ ï¼ˆmultipartï¼‰</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šå¤„ç†è¡¨å•æ–‡ä»¶ä¸Šä¼ ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šæ¥æ”¶å›¾ç‰‡å¹¶ä¿å­˜åˆ°ä¸´æ—¶ç›®å½•</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// server/api/upload.post.ts</span>
<span class="hljs-keyword">import</span> { readMultipartFormData } <span class="hljs-keyword">from</span> <span class="hljs-string">'h3'</span>
<span class="hljs-keyword">import</span> { promises <span class="hljs-keyword">as</span> fs } <span class="hljs-keyword">from</span> <span class="hljs-string">'node:fs'</span>
<span class="hljs-keyword">import</span> { join } <span class="hljs-keyword">from</span> <span class="hljs-string">'node:path'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineEventHandler</span>(<span class="hljs-keyword">async</span> (event) =&gt; {
  <span class="hljs-keyword">const</span> parts = <span class="hljs-keyword">await</span> <span class="hljs-title function_">readMultipartFormData</span>(event)
  <span class="hljs-keyword">const</span> file = parts?.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">p</span> =&gt;</span> p.<span class="hljs-property">type</span> === <span class="hljs-string">'file'</span>)
  <span class="hljs-keyword">if</span> (!file) <span class="hljs-keyword">throw</span> <span class="hljs-title function_">createError</span>({ <span class="hljs-attr">statusCode</span>: <span class="hljs-number">400</span>, <span class="hljs-attr">statusMessage</span>: <span class="hljs-string">'No file'</span> })
  <span class="hljs-keyword">const</span> tmp = <span class="hljs-title function_">join</span>(<span class="hljs-string">'/tmp'</span>, file.<span class="hljs-property">filename</span> || <span class="hljs-string">`upload-<span class="hljs-subst">${<span class="hljs-built_in">Date</span>.now()}</span>`</span>)
  <span class="hljs-keyword">await</span> fs.<span class="hljs-title function_">writeFile</span>(tmp, file.<span class="hljs-property">data</span>)
  <span class="hljs-keyword">return</span> { <span class="hljs-attr">ok</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">path</span>: tmp }
})
</code></pre>
<p>æœ€ä½³å®è·µï¼š</p>
<ul>
<li>ä½¿ç”¨ä¸­é—´ä»¶ç»Ÿä¸€è®¤è¯ä¸é™é€Ÿ</li>
<li>å¯†é’¥é€šè¿‡è¿è¡Œæ—¶é…ç½®ä¸ç¯å¢ƒå˜é‡ç®¡ç†</li>
</ul>
<hr/>
<h3 data-id="heading-33">9. è¿è¡Œæ—¶é…ç½®ä¸ç¯å¢ƒå˜é‡</h3>
<h4 data-id="heading-34">9.1 runtimeConfigï¼ˆpublic/privateï¼‰ä¸å¤šç¯å¢ƒåˆ‡æ¢</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šåœ¨ <code>nuxt.config.ts</code> å£°æ˜è¿è¡Œæ—¶é…ç½®ï¼ŒåŒºåˆ†ç§æœ‰ä¸å…¬å¼€å­—æ®µã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šé…ç½® API åŸŸåä¸å¯†é’¥ï¼ˆç§æœ‰ï¼‰</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// nuxt.config.tsï¼ˆç‰‡æ®µï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineNuxtConfig</span>({
  <span class="hljs-attr">runtimeConfig</span>: {
    <span class="hljs-comment">// ä»…æœåŠ¡å™¨å¯è¯»</span>
    <span class="hljs-attr">secretKey</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">SECRET_KEY</span>,
    <span class="hljs-comment">// å®¢æˆ·ç«¯ä¹Ÿå¯è¯»</span>
    <span class="hljs-attr">public</span>: {
      <span class="hljs-attr">apiBase</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">PUBLIC_API_BASE</span> || <span class="hljs-string">'http://localhost:3000'</span>
    }
  }
})
</code></pre>
<p>åœ¨å®¢æˆ·ç«¯/æœåŠ¡ç«¯è¯»å–ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// composables/useApiBase.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useApiBase</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { <span class="hljs-attr">public</span>: { apiBase } } = <span class="hljs-title function_">useRuntimeConfig</span>()
  <span class="hljs-keyword">return</span> apiBase
}
</code></pre>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// server/utils/keys.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getSecret</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { secretKey } = <span class="hljs-title function_">useRuntimeConfig</span>()
  <span class="hljs-keyword">if</span> (!secretKey) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'SECRET_KEY æœªé…ç½®'</span>)
  <span class="hljs-keyword">return</span> secretKey
}
</code></pre>
<hr/>
<h4 data-id="heading-35">9.2 .env ç®¡ç†ä¸ç±»å‹å®‰å…¨æ ¡éªŒ</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šé€šè¿‡ <code>.env</code> é…ç½®ç¯å¢ƒå˜é‡å¹¶è¿›è¡Œç±»å‹æ ¡éªŒã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šä½¿ç”¨ zod æ ¡éªŒç¯å¢ƒå˜é‡</strong></p>
<pre><code class="hljs language-bash" lang="bash">pnpm add zod
</code></pre>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// server/plugins/env-check.ts</span>
<span class="hljs-keyword">import</span> { z } <span class="hljs-keyword">from</span> <span class="hljs-string">'zod'</span>

<span class="hljs-keyword">const</span> <span class="hljs-title class_">EnvSchema</span> = z.<span class="hljs-title function_">object</span>({
  <span class="hljs-attr">SECRET_KEY</span>: z.<span class="hljs-title function_">string</span>().<span class="hljs-title function_">min</span>(<span class="hljs-number">16</span>),
  <span class="hljs-attr">PUBLIC_API_BASE</span>: z.<span class="hljs-title function_">string</span>().<span class="hljs-title function_">url</span>()
})

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineNitroPlugin</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> parsed = <span class="hljs-title class_">EnvSchema</span>.<span class="hljs-title function_">safeParse</span>(process.<span class="hljs-property">env</span>)
  <span class="hljs-keyword">if</span> (!parsed.<span class="hljs-property">success</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'ç¯å¢ƒå˜é‡æ ¡éªŒå¤±è´¥:'</span>, parsed.<span class="hljs-property">error</span>.<span class="hljs-title function_">format</span>())
    <span class="hljs-comment">// åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å»ºè®®ç›´æ¥é€€å‡ºæˆ–æŠ›é”™</span>
  }
})
</code></pre>
<p>æœ€ä½³å®è·µï¼š</p>
<ul>
<li>ç§æœ‰é…ç½®æ”¾åœ¨ <code>runtimeConfig</code> é¡¶å±‚ï¼Œå…¬å¼€é…ç½®æ”¾ <code>runtimeConfig.public</code></li>
<li>ä½¿ç”¨ schema æ ¡éªŒç¯å¢ƒå˜é‡ï¼Œé¿å…å› ç¼ºå¤±æˆ–æ ¼å¼é”™è¯¯å¯¼è‡´çº¿ä¸Šäº‹æ•…</li>
</ul>
<hr/>
<h3 data-id="heading-36">10. SEO ä¸å…ƒä¿¡æ¯</h3>
<h4 data-id="heading-37">10.1 useHead/useSeoMeta ä¸ OG/Meta æ ‡ç­¾</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šåœ¨é¡µé¢å±‚é¢è®¾ç½®æ ‡é¢˜ã€æè¿°ã€OG ç­‰ä¿¡æ¯ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šæ–‡ç« è¯¦æƒ…é¡µè®¾ç½® SEO ä¸ç¤¾äº¤åˆ†äº«å¡ç‰‡</strong></p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- pages/posts/[id].vueï¼ˆç‰‡æ®µï¼šSEOï¼‰ --&gt;
&lt;script setup lang="ts"&gt;
const route = useRoute()
const id = route.params.id as string
const title = `æ–‡ç«  ${id} çš„æ ‡é¢˜`
const description = `è¿™æ˜¯æ–‡ç«  ${id} çš„æ‘˜è¦æè¿°ã€‚`
useSeoMeta({
  title,
  description,
  ogTitle: title,
  ogDescription: description,
  ogType: 'article',
  ogUrl: `https://example.com/posts/${id}`,
  ogImage: 'https://images.example.com/og-default.jpg',
  twitterCard: 'summary_large_image'
})
&lt;/script&gt;
</code></pre>
<hr/>
<h4 data-id="heading-38">10.2 sitemap/robots ä¸ canonical</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šä¸ºæœç´¢å¼•æ“æä¾›ç´¢å¼•æç¤ºä¸è§„èŒƒåŒ–é“¾æ¥ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šé…ç½® canonical ä¸ robots</strong></p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- pages/index.vueï¼ˆç‰‡æ®µï¼‰ --&gt;
&lt;script setup lang="ts"&gt;
useHead({
  link: [{ rel: 'canonical', href: 'https://example.com/' }],
  meta: [{ name: 'robots', content: 'index,follow' }]
})
&lt;/script&gt;
</code></pre>
<p>æ³¨ï¼š</p>
<ul>
<li>sitemap å¯ä½¿ç”¨ç¤¾åŒºæ¨¡å—æˆ–è‡ªè¡Œåœ¨æ„å»ºé˜¶æ®µç”Ÿæˆ</li>
</ul>
<hr/>
<h4 data-id="heading-39">10.3 ç»“æ„åŒ–æ•°æ®ï¼ˆJSON-LDï¼‰</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šé€šè¿‡ JSON-LD å¢å¼ºæœç´¢å±•ç¤ºï¼ˆå¦‚æ–‡ç« ã€äº§å“ï¼‰ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šBlogPosting æ³¨å…¥</strong></p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- pages/posts/[id].vueï¼ˆç‰‡æ®µï¼šJSON-LDï¼‰ --&gt;
&lt;script setup lang="ts"&gt;
const id = useRoute().params.id as string
const jsonLd = {
  '@context': 'https://schema.org',
  '@type': 'BlogPosting',
  'headline': `æ–‡ç«  ${id} çš„æ ‡é¢˜`,
  'datePublished': new Date().toISOString(),
  'author': { '@type': 'Person', 'name': 'ä½œè€…å§“å' }
}
useHead({ script: [{ type: 'application/ld+json', children: JSON.stringify(jsonLd) }] })
&lt;/script&gt;
</code></pre>
<p>æœ€ä½³å®è·µï¼š</p>
<ul>
<li>ä¸ºå…³é”®é¡µé¢è®¾ç½® <code>title/description/og</code> å®Œæ•´ä¿¡æ¯</li>
<li>ä½¿ç”¨ canonical é¿å…é‡å¤å†…å®¹å¸¦æ¥çš„æƒé‡åˆ†æ•£</li>
<li>åˆç†æ³¨å…¥ç»“æ„åŒ–æ•°æ®æå‡æœç´¢ç»“æœå±•ç¤ºè´¨é‡</li>
</ul>
<hr/>
<h3 data-id="heading-40">11. å†…å®¹ç³»ç»Ÿï¼ˆNuxt Contentï¼‰</h3>
<h4 data-id="heading-41">11.1 å®‰è£…ä¸åŸºæœ¬ä½¿ç”¨</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šé€šè¿‡ Content æ¨¡å—åœ¨ Nuxt ä¸­æ¸²æŸ“ Markdown/MDX å†…å®¹ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šå®‰è£…å¹¶æ¸²æŸ“ Markdown æ–‡æ¡£</strong></p>
<pre><code class="hljs language-bash" lang="bash">pnpm add @nuxt/content
</code></pre>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// nuxt.config.tsï¼ˆç‰‡æ®µï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineNuxtConfig</span>({
  <span class="hljs-attr">modules</span>: [<span class="hljs-string">'@nuxt/content'</span>]
})
</code></pre>
<p>åˆ›å»ºå†…å®¹æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-attribute">content</span>/
â””â”€ guide/
   â””â”€ intro<span class="hljs-selector-class">.md</span>
</code></pre>
<pre><code class="hljs language-md" lang="md">&lt;!-- content/guide/intro.md --&gt;
<span class="hljs-section"># å…¥é—¨æŒ‡å—</span>

æ¬¢è¿ä½¿ç”¨ Nuxt Contentï¼Œè¿™é‡Œæ˜¯ç¬¬ä¸€ç¯‡æ–‡æ¡£ã€‚
</code></pre>
<p>æ¸²æŸ“é¡µé¢ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- pages/guide.vue --&gt;
&lt;template&gt;
  &lt;section class="container"&gt;
    &lt;h2&gt;æ–‡æ¡£&lt;/h2&gt;
    &lt;ContentDoc path="/guide/intro" /&gt;
  &lt;/section&gt;
&lt;/template&gt;
</code></pre>
<hr/>
<h4 data-id="heading-42">11.2 ç›®å½•é©±åŠ¨ä¸æœç´¢/é«˜äº®</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šæ ¹æ®ç›®å½•ç»“æ„ç”Ÿæˆå¯¼èˆªï¼Œæ”¯æŒä»£ç é«˜äº®ä¸æœç´¢ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šç”Ÿæˆä¾§è¾¹ç›®å½•ä¸æ­£æ–‡</strong></p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- pages/docs.vue --&gt;
&lt;template&gt;
  &lt;div class="layout"&gt;
    &lt;aside class="sidebar"&gt;
      &lt;ContentNavigation v-slot="{ navigation }"&gt;
        &lt;ul&gt;
          &lt;li v-for="item in navigation" :key="item._path"&gt;
            &lt;NuxtLink :to="item._path"&gt;{{ item.title }}&lt;/NuxtLink&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/ContentNavigation&gt;
    &lt;/aside&gt;
    &lt;main class="main"&gt;
      &lt;ContentDoc /&gt;
    &lt;/main&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;style scoped&gt;
.layout { display:flex; }
.sidebar { width: 240px; border-right: 1px solid #eee; padding: 12px; }
.main { flex:1; padding: 16px; }
&lt;/style&gt;
</code></pre>
<hr/>
<h4 data-id="heading-43">11.3 åœ¨ Markdown ä¸­åµŒå…¥äº¤äº’å¼ç»„ä»¶</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šåœ¨ Content æ¸²æŸ“çš„ MD ä¸­æ’å…¥è‡ªå®šä¹‰ Vue ç»„ä»¶ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šåµŒå…¥ Demo ç»„ä»¶</strong></p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- components/DemoCounter.vue --&gt;
&lt;template&gt;
  &lt;div&gt;
    &lt;p&gt;è®¡æ•°ï¼š{{ n }}&lt;/p&gt;
    &lt;BaseButton variant="primary" @click="n++"&gt;+&lt;/BaseButton&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script setup lang="ts"&gt;
const n = ref(0)
&lt;/script&gt;
</code></pre>
<pre><code class="hljs language-md" lang="md">&lt;!-- content/demo.md --&gt;
<span class="hljs-section"># äº¤äº’å¼ Demo</span>

è¿™æ˜¯ä¸€ä¸ªåµŒå…¥ç»„ä»¶çš„ä¾‹å­ï¼š

::DemoCounter
::
</code></pre>
<p>æ¸²æŸ“ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- pages/demo.vue --&gt;
&lt;template&gt;
  &lt;ContentDoc path="/demo" /&gt;
&lt;/template&gt;
</code></pre>
<p>æœ€ä½³å®è·µï¼š</p>
<ul>
<li>é€šè¿‡ Content å¿«é€Ÿæ­å»ºæ–‡æ¡£ç«™ä¸åšå®¢ç³»ç»Ÿ</li>
<li>ä½¿ç”¨ç›®å½•å¯¼èˆªä¸ç»„ä»¶æ’å…¥æå‡å¯è¯»æ€§ä¸äº¤äº’æ€§</li>
</ul>
<hr/>
<h3 data-id="heading-44">12. å›½é™…åŒ–ï¼ˆi18nï¼‰</h3>
<h4 data-id="heading-45">12.1 å®‰è£…ä¸è·¯ç”±ç­–ç•¥</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šä½¿ç”¨ i18n æ¨¡å—å®ç°å¤šè¯­è¨€ä¸è·¯ç”±å‰ç¼€ç­–ç•¥ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šä¸­è‹±æ–‡ç«™ç‚¹çš„è·¯å¾„ä¸åˆ‡æ¢</strong></p>
<pre><code class="hljs language-bash" lang="bash">pnpm add @nuxtjs/i18n
</code></pre>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// nuxt.config.tsï¼ˆç‰‡æ®µï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineNuxtConfig</span>({
  <span class="hljs-attr">modules</span>: [<span class="hljs-string">'@nuxtjs/i18n'</span>],
  <span class="hljs-attr">i18n</span>: {
    <span class="hljs-attr">locales</span>: [
      { <span class="hljs-attr">code</span>: <span class="hljs-string">'zh'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'ä¸­æ–‡'</span>, <span class="hljs-attr">file</span>: <span class="hljs-string">'zh.json'</span> },
      { <span class="hljs-attr">code</span>: <span class="hljs-string">'en'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'English'</span>, <span class="hljs-attr">file</span>: <span class="hljs-string">'en.json'</span> }
    ],
    <span class="hljs-attr">defaultLocale</span>: <span class="hljs-string">'zh'</span>,
    <span class="hljs-attr">lazy</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">langDir</span>: <span class="hljs-string">'locales'</span>,
    <span class="hljs-attr">strategy</span>: <span class="hljs-string">'prefix'</span>, <span class="hljs-comment">// /zh, /en</span>
  }
})
</code></pre>
<p>è¯­è¨€æ–‡ä»¶ï¼š</p>
<pre><code class="hljs">locales/
â”œâ”€ zh.json
â””â”€ en.json
</code></pre>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// locales/zh.json</span>
<span class="hljs-punctuation">{</span> <span class="hljs-attr">"home"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"é¦–é¡µ"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"welcome"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ¬¢è¿ä½¿ç”¨ Nuxt4"</span> <span class="hljs-punctuation">}</span>
</code></pre>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// locales/en.json</span>
<span class="hljs-punctuation">{</span> <span class="hljs-attr">"home"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Home"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"welcome"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Welcome to Nuxt4"</span> <span class="hljs-punctuation">}</span>
</code></pre>
<p>åœ¨é¡µé¢ä¸­ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- pages/i18n.vue --&gt;
&lt;template&gt;
  &lt;section class="container"&gt;
    &lt;h2&gt;{{ t('welcome') }}&lt;/h2&gt;
    &lt;NuxtLink to="/zh"&gt;ä¸­æ–‡&lt;/NuxtLink&gt;
    &lt;NuxtLink to="/en"&gt;English&lt;/NuxtLink&gt;
  &lt;/section&gt;
&lt;/template&gt;
&lt;script setup lang="ts"&gt;
const { t } = useI18n()
&lt;/script&gt;
</code></pre>
<hr/>
<h4 data-id="heading-46">12.2 æœåŠ¡ç«¯ç¿»è¯‘åŠ è½½ä¸ SEO</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šåœ¨ SSR ä¸­åŠ è½½ç¿»è¯‘å¹¶è®¾ç½® hreflangã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šè®¾ç½®å¤šè¯­è¨€çš„ hreflang é“¾æ¥</strong></p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- app.vueï¼ˆç‰‡æ®µï¼‰ --&gt;
&lt;script setup lang="ts"&gt;
useHead({
  link: [
    { rel: 'alternate', href: 'https://example.com/zh', hreflang: 'zh' },
    { rel: 'alternate', href: 'https://example.com/en', hreflang: 'en' }
  ]
})
&lt;/script&gt;
</code></pre>
<p>æœ€ä½³å®è·µï¼š</p>
<ul>
<li>ä¸ºå¤šè¯­è¨€é…ç½®è·¯ç”±å‰ç¼€ä¸é»˜è®¤è¯­è¨€ï¼Œé¿å…é‡å¤å†…å®¹å†²çª</li>
<li>è®¾ç½® <code>hreflang</code> æç¤ºæœç´¢å¼•æ“ä¸åŒè¯­è¨€ç‰ˆæœ¬</li>
</ul>
<hr/>
<h3 data-id="heading-47">13. é™æ€èµ„æºä¸å›¾ç‰‡ä¼˜åŒ–</h3>
<h4 data-id="heading-48">13.1 assets ä¸ public çš„åŒºåˆ«</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼š<code>assets/</code> èµ°æ„å»ºç®¡çº¿ï¼ˆå¯è¢«å¤„ç†/æ‰“åŒ…ï¼‰ï¼Œ<code>public/</code> åŸæ ·å…¬å¼€ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šç»„ç»‡é™æ€æ–‡ä»¶ä¸å›¾æ ‡</strong></p>
<pre><code class="hljs language-arduino" lang="arduino">assets/
â””â”€ styles/
   â””â”€ main.css
<span class="hljs-keyword">public</span>/
â””â”€ favicon.png
</code></pre>
<p>åœ¨ <code>app.vue</code> å¼•å…¥æ ·å¼ä¸å›¾æ ‡ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- app.vueï¼ˆç‰‡æ®µï¼‰ --&gt;
&lt;script setup&gt;
import '~/assets/styles/main.css'
&lt;/script&gt;
</code></pre>
<hr/>
<h4 data-id="heading-49">13.2 Nuxt Image çš„æ‡’åŠ è½½ä¸è£å‰ª</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šé€šè¿‡ <code>NuxtImg</code> è¿›è¡Œå›¾ç‰‡ä¼˜åŒ–ä¸æ‡’åŠ è½½ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šä¸åŒè§†å£ä¸‹è‡ªé€‚åº”å›¾ç‰‡ä¸æ ¼å¼è½¬æ¢</strong></p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- pages/image-advanced.vue --&gt;
&lt;template&gt;
  &lt;section class="container"&gt;
    &lt;h2&gt;å›¾ç‰‡ä¼˜åŒ–&lt;/h2&gt;
    &lt;NuxtImg
      src="https://images.example.com/product.jpg"
      sizes="sm:320px md:640px lg:960px"
      format="webp"
      class="img"
    /&gt;
  &lt;/section&gt;
&lt;/template&gt;
&lt;style scoped&gt;
.img { width: 100%; border-radius: 8px; }
&lt;/style&gt;
</code></pre>
<hr/>
<h4 data-id="heading-50">13.3 å›¾ç‰‡ CDN é›†æˆ</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šå°†å›¾ç‰‡æ‰˜ç®¡åˆ° CDN å¹¶åœ¨ Nuxt ä¸­ç»Ÿä¸€é…ç½®ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šåœ¨ <code>nuxt.config.ts</code> ä¸­è®¾ç½®åŸŸå</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// nuxt.config.tsï¼ˆç‰‡æ®µï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineNuxtConfig</span>({
  <span class="hljs-attr">image</span>: {
    <span class="hljs-attr">domains</span>: [<span class="hljs-string">'images.example.com'</span>],
    <span class="hljs-attr">format</span>: [<span class="hljs-string">'webp'</span>, <span class="hljs-string">'png'</span>, <span class="hljs-string">'jpg'</span>]
  }
})
</code></pre>
<p>æœ€ä½³å®è·µï¼š</p>
<ul>
<li>ä½“ç§¯å¤§çš„é™æ€èµ„äº§æ”¾ CDN</li>
<li>ä½¿ç”¨ Nuxt Image ç»Ÿä¸€å›¾ç‰‡ä¼˜åŒ–ç­–ç•¥ï¼ˆæ‡’åŠ è½½ã€è£å‰ªã€æ ¼å¼è½¬æ¢ï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-51">14. æ ·å¼ä¸æ„å»ºå·¥å…·</h3>
<h4 data-id="heading-52">14.1 Tailwind/UnoCSS é›†æˆä¸æš—è‰²æ¨¡å¼</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šå¿«é€Ÿé›†æˆç°ä»£æ ·å¼æ–¹æ¡ˆä¸æš—è‰²æ¨¡å¼ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šæ¥å…¥ Tailwind å¹¶å®ç°æš—è‰²æ¨¡å¼åˆ‡æ¢</strong></p>
<pre><code class="hljs language-bash" lang="bash">pnpm add -D tailwindcss postcss autoprefixer
npx tailwindcss init -p
</code></pre>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// tailwind.config.js</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">darkMode</span>: <span class="hljs-string">'class'</span>,
  <span class="hljs-attr">content</span>: [<span class="hljs-string">'components/**/*.{vue,js}'</span>, <span class="hljs-string">'pages/**/*.{vue,js}'</span>, <span class="hljs-string">'app.vue'</span>],
  <span class="hljs-attr">theme</span>: { <span class="hljs-attr">extend</span>: {} }
}
</code></pre>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* assets/styles/main.cssï¼ˆæ–°å¢ Tailwind æŒ‡ä»¤ï¼‰ */</span>
<span class="hljs-keyword">@tailwind</span> base;
<span class="hljs-keyword">@tailwind</span> components;
<span class="hljs-keyword">@tailwind</span> utilities;
</code></pre>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- components/DarkToggle.vue --&gt;
&lt;template&gt;
  &lt;BaseButton variant="secondary" @click="toggle"&gt;
    åˆ‡æ¢æš—è‰²æ¨¡å¼
  &lt;/BaseButton&gt;
&lt;/template&gt;
&lt;script setup lang="ts"&gt;
function toggle() {
  document.documentElement.classList.toggle('dark')
}
&lt;/script&gt;
</code></pre>
<hr/>
<h4 data-id="heading-53">14.2 Vite é…ç½®æ‰©å±•ï¼ˆåˆ«å/é¢„å¤„ç†å™¨ï¼‰</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šåœ¨ Nuxt ä¸­æ‰©å±• Vite é…ç½®ä»¥æ”¯æŒåˆ«åä¸å…¨å±€æ ·å¼å˜é‡ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šSCSS å…¨å±€å˜é‡ä¸è·¯å¾„åˆ«å</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// nuxt.config.tsï¼ˆç‰‡æ®µï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineNuxtConfig</span>({
  <span class="hljs-attr">vite</span>: {
    <span class="hljs-attr">resolve</span>: {
      <span class="hljs-attr">alias</span>: {
        <span class="hljs-string">'@'</span>: <span class="hljs-string">'/src'</span> <span class="hljs-comment">// ç¤ºä¾‹ï¼ŒæŒ‰éœ€è°ƒæ•´</span>
      }
    },
    <span class="hljs-attr">css</span>: {
      <span class="hljs-attr">preprocessorOptions</span>: {
        <span class="hljs-attr">scss</span>: {
          <span class="hljs-attr">additionalData</span>: <span class="hljs-string">'@use "@/styles/vars.scss" as *;'</span>
        }
      }
    }
  }
})
</code></pre>
<p>æœ€ä½³å®è·µï¼š</p>
<ul>
<li>ä½¿ç”¨åŸå­åŒ– CSSï¼ˆå¦‚ Tailwind/UnoCSSï¼‰æå‡å¼€å‘æ•ˆç‡</li>
<li>é€šè¿‡ Vite é¢„å¤„ç†å™¨ç»Ÿä¸€å…¨å±€æ ·å¼å˜é‡ä¸ä¸»é¢˜</li>
</ul>
<hr/>
<h3 data-id="heading-54">15. å®‰å…¨ä¸æƒé™</h3>
<h4 data-id="heading-55">15.1 XSS/CSRF åŸºç¡€ä¸å®‰å…¨é…ç½®</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šé˜²æ­¢è·¨ç«™è„šæœ¬ä¸è·¨ç«™è¯·æ±‚ä¼ªé€ ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šHTTPOnly Cookie + CSRF Token åŒé‡é˜²æŠ¤</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// server/api/auth/login.post.tsï¼ˆç‰‡æ®µï¼‰</span>
<span class="hljs-keyword">import</span> { randomBytes } <span class="hljs-keyword">from</span> <span class="hljs-string">'node:crypto'</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineEventHandler</span>(<span class="hljs-keyword">async</span> (event) =&gt; {
  <span class="hljs-comment">// è®¤è¯é€šè¿‡åï¼š</span>
  <span class="hljs-title function_">setCookie</span>(event, <span class="hljs-string">'token'</span>, <span class="hljs-string">'jwt-token'</span>, { <span class="hljs-attr">httpOnly</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">secure</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">sameSite</span>: <span class="hljs-string">'lax'</span>, <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span> })
  <span class="hljs-keyword">const</span> csrf = <span class="hljs-title function_">randomBytes</span>(<span class="hljs-number">16</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-string">'hex'</span>)
  <span class="hljs-title function_">setCookie</span>(event, <span class="hljs-string">'csrf'</span>, csrf, { <span class="hljs-attr">httpOnly</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">secure</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">sameSite</span>: <span class="hljs-string">'lax'</span>, <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span> })
  <span class="hljs-keyword">return</span> { <span class="hljs-attr">ok</span>: <span class="hljs-literal">true</span> }
})
</code></pre>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// server/middleware/csrf.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineEventHandler</span>(<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (event.<span class="hljs-property">method</span> === <span class="hljs-string">'GET'</span>) <span class="hljs-keyword">return</span>
  <span class="hljs-keyword">const</span> csrfCookie = <span class="hljs-title function_">getCookie</span>(event, <span class="hljs-string">'csrf'</span>)
  <span class="hljs-keyword">const</span> csrfHeader = <span class="hljs-title function_">getHeader</span>(event, <span class="hljs-string">'x-csrf-token'</span>)
  <span class="hljs-keyword">if</span> (!csrfCookie || !csrfHeader || csrfCookie !== csrfHeader) {
    <span class="hljs-keyword">throw</span> <span class="hljs-title function_">createError</span>({ <span class="hljs-attr">statusCode</span>: <span class="hljs-number">403</span>, <span class="hljs-attr">statusMessage</span>: <span class="hljs-string">'CSRF verification failed'</span> })
  }
})
</code></pre>
<p>å®¢æˆ·ç«¯åœ¨æäº¤æ—¶å¸¦ä¸Š CSRF å¤´ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// plugins/api.tsï¼ˆç‰‡æ®µï¼‰</span>
instance.<span class="hljs-property">interceptors</span>.<span class="hljs-property">request</span>.<span class="hljs-title function_">use</span>(<span class="hljs-function">(<span class="hljs-params">config</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> csrf = <span class="hljs-title function_">useCookie</span>(<span class="hljs-string">'csrf'</span>).<span class="hljs-property">value</span>
  <span class="hljs-keyword">if</span> (csrf) config.<span class="hljs-property">headers</span>[<span class="hljs-string">'x-csrf-token'</span>] = csrf
  <span class="hljs-keyword">return</span> config
})
</code></pre>
<hr/>
<h4 data-id="heading-56">15.2 è§’è‰²æƒé™ä¸­é—´ä»¶ä¸è·¯ç”±ä¿æŠ¤</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šå‰ç«¯è·¯ç”±å®ˆå«ç»“åˆæœåŠ¡ç«¯ RBACã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šé¡µé¢çº§è·¯ç”±å®ˆå«</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// middleware/admin.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineNuxtRouteMiddleware</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> role = <span class="hljs-title function_">useCookie</span>(<span class="hljs-string">'role'</span>).<span class="hljs-property">value</span>
  <span class="hljs-keyword">if</span> (role !== <span class="hljs-string">'admin'</span>) <span class="hljs-keyword">return</span> <span class="hljs-title function_">navigateTo</span>(<span class="hljs-string">'/'</span>, { <span class="hljs-attr">redirectCode</span>: <span class="hljs-number">302</span> })
})
</code></pre>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- pages/admin/settings.vue --&gt;
&lt;script setup lang="ts"&gt;
definePageMeta({ middleware: 'admin' })
&lt;/script&gt;
</code></pre>
<p>æœ€ä½³å®è·µï¼š</p>
<ul>
<li>æ•æ„Ÿä¿¡æ¯åªæ”¾ HTTPOnly Cookie</li>
<li>å†™æ“ä½œå¼ºåˆ¶ CSRF æ ¡éªŒï¼›å‰åç«¯å…±åŒé˜²æŠ¤</li>
<li>å‰ç«¯è·¯ç”±å®ˆå«ä»…ç”¨äºæå‡ä½“éªŒï¼ŒçœŸæ­£æˆæƒåœ¨æœåŠ¡ç«¯æ ¡éªŒ</li>
</ul>
<hr/>
<h3 data-id="heading-57">16. æµ‹è¯•ä¸è´¨é‡ä¿éšœ</h3>
<h4 data-id="heading-58">16.1 å•å…ƒæµ‹è¯•ï¼ˆVitestï¼‰</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šä¸º Store/ç»„ä»¶ç¼–å†™å•å…ƒæµ‹è¯•ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šæµ‹è¯•è´­ç‰©è½¦ Store</strong></p>
<pre><code class="hljs language-bash" lang="bash">pnpm add -D vitest
</code></pre>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// tests/cart.test.ts</span>
<span class="hljs-keyword">import</span> { describe, it, expect } <span class="hljs-keyword">from</span> <span class="hljs-string">'vitest'</span>
<span class="hljs-keyword">import</span> { useCartStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'../stores/cart'</span>

<span class="hljs-title function_">describe</span>(<span class="hljs-string">'cart store'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">it</span>(<span class="hljs-string">'add and remove items'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> cart = <span class="hljs-title function_">useCartStore</span>()
    cart.<span class="hljs-title function_">clear</span>()
    cart.<span class="hljs-title function_">add</span>({ <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'A'</span>, <span class="hljs-attr">price</span>: <span class="hljs-number">10</span> })
    cart.<span class="hljs-title function_">add</span>({ <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'A'</span>, <span class="hljs-attr">price</span>: <span class="hljs-number">10</span> })
    <span class="hljs-title function_">expect</span>(cart.<span class="hljs-property">items</span>[<span class="hljs-number">0</span>].<span class="hljs-property">qty</span>).<span class="hljs-title function_">toBe</span>(<span class="hljs-number">2</span>)
    cart.<span class="hljs-title function_">remove</span>(<span class="hljs-number">1</span>)
    <span class="hljs-title function_">expect</span>(cart.<span class="hljs-property">items</span>.<span class="hljs-property">length</span>).<span class="hljs-title function_">toBe</span>(<span class="hljs-number">0</span>)
  })
})
</code></pre>
<hr/>
<h4 data-id="heading-59">16.2 ç«¯åˆ°ç«¯æµ‹è¯•ï¼ˆPlaywrightï¼‰</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šç¼–å†™ E2E æµ‹è¯•è¦†ç›–ç™»å½•ä¸è·¯ç”±å®ˆå«ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šç™»å½•æµç¨‹ä¸è®¿é—®å—ä¿æŠ¤è·¯ç”±</strong></p>
<pre><code class="hljs language-bash" lang="bash">pnpm add -D @playwright/test
</code></pre>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// e2e/auth.spec.ts</span>
<span class="hljs-keyword">import</span> { test, expect } <span class="hljs-keyword">from</span> <span class="hljs-string">'@playwright/test'</span>

<span class="hljs-title function_">test</span>(<span class="hljs-string">'redirect to login when not authenticated'</span>, <span class="hljs-keyword">async</span> ({ page }) =&gt; {
  <span class="hljs-keyword">await</span> page.<span class="hljs-title function_">goto</span>(<span class="hljs-string">'http://localhost:3000/admin'</span>)
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">expect</span>(page).<span class="hljs-title function_">toHaveURL</span>(<span class="hljs-regexp">/login/</span>)
})

<span class="hljs-title function_">test</span>(<span class="hljs-string">'login then access admin'</span>, <span class="hljs-keyword">async</span> ({ page }) =&gt; {
  <span class="hljs-keyword">await</span> page.<span class="hljs-title function_">goto</span>(<span class="hljs-string">'http://localhost:3000/login'</span>)
  <span class="hljs-keyword">await</span> page.<span class="hljs-title function_">getByRole</span>(<span class="hljs-string">'button'</span>, { <span class="hljs-attr">name</span>: <span class="hljs-string">'ç‚¹å‡»ç™»å½•å¹¶è·³è½¬åå°'</span> }).<span class="hljs-title function_">click</span>()
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">expect</span>(page).<span class="hljs-title function_">toHaveURL</span>(<span class="hljs-regexp">/admin/</span>)
})
</code></pre>
<hr/>
<h4 data-id="heading-60">16.3 Lint/TypeScript ä¸ CI</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šåœ¨ CI ä¸­é›†æˆ Lintã€ç±»å‹æ£€æŸ¥ä¸æµ‹è¯•ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šç®€å• CI æ­¥éª¤ï¼ˆä¼ªä»£ç ï¼‰</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># .github/workflows/ci.yml</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">CI</span>
<span class="hljs-attr">on:</span> [<span class="hljs-string">push</span>, <span class="hljs-string">pull_request</span>]
<span class="hljs-attr">jobs:</span>
  <span class="hljs-attr">build:</span>
    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span>
    <span class="hljs-attr">steps:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v3</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/setup-node@v3</span>
        <span class="hljs-attr">with:</span> { <span class="hljs-attr">node-version:</span> <span class="hljs-number">18</span> }
      <span class="hljs-bullet">-</span> <span class="hljs-attr">run:</span> <span class="hljs-string">pnpm</span> <span class="hljs-string">install</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">run:</span> <span class="hljs-string">pnpm</span> <span class="hljs-string">typecheck</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">run:</span> <span class="hljs-string">pnpm</span> <span class="hljs-string">lint</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">run:</span> <span class="hljs-string">pnpm</span> <span class="hljs-string">test</span>
</code></pre>
<p>æœ€ä½³å®è·µï¼š</p>
<ul>
<li>å•å…ƒæµ‹è¯•èšç„¦çº¯é€»è¾‘ï¼›E2E æµ‹è¯•è¦†ç›–å…³é”®ä¸šåŠ¡æµ</li>
<li>åœ¨ CI å¼ºåˆ¶ç±»å‹æ£€æŸ¥ä¸æµ‹è¯•ï¼Œä¿éšœä¸»å¹²ç¨³å®š</li>
</ul>
<hr/>
<h3 data-id="heading-61">17. éƒ¨ç½²ä¸è¿ç»´</h3>
<h4 data-id="heading-62">17.1 ç›®æ ‡å¹³å°ä¸æ„å»º</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šNuxt å¯éƒ¨ç½²è‡³ Nodeã€Edgeã€Serverlessï¼Œä¹Ÿå¯é™æ€å¯¼å‡ºã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šä¸åŒå¹³å°éƒ¨ç½²è¦ç‚¹</strong></p>
<ul>
<li>Nodeï¼šä¼ ç»ŸæœåŠ¡å™¨ï¼Œ<code>pnpm build</code> åè¿è¡Œ Nitro æœåŠ¡å™¨</li>
<li>Edge/Workersï¼šè¦æ±‚æ—  Node ä¸“å± APIï¼Œæ³¨æ„ Bundling ä¸ KV å­˜å‚¨</li>
<li>Serverlessï¼šæ¯ä¸ª API ä½œä¸ºå‡½æ•°ï¼Œéœ€å†·å¯åŠ¨ä¼˜åŒ–</li>
<li>é™æ€å¯¼å‡ºï¼šå†…å®¹/çº¯å‰ç«¯é¡µé¢é¢„æ¸²æŸ“ä¸ºé™æ€ HTML</li>
</ul>
<hr/>
<h4 data-id="heading-63">17.2 ç¯å¢ƒå˜é‡æ³¨å…¥ä¸å¯†é’¥ç®¡ç†</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šç”Ÿäº§ç¯å¢ƒæ³¨å…¥ <code>.env</code> å¹¶åœ¨è¿è¡Œæ—¶è¯»å–ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šåœ¨å¹³å°é…ç½®é¢æ¿ä¸­æ³¨å…¥ <code>SECRET_KEY</code> ä¸ <code>PUBLIC_API_BASE</code></strong></p>
<ul>
<li>å¹³å°ä¾§è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œé¿å…å†™å…¥ä»£ç ä»“åº“</li>
<li>ä½¿ç”¨ <code>runtimeConfig</code> è·å–å¹¶å¯¹æ•æ„Ÿå€¼ä»…åœ¨æœåŠ¡å™¨ç«¯ä½¿ç”¨</li>
</ul>
<hr/>
<h4 data-id="heading-64">17.3 æ—¥å¿—ä¸ç›‘æ§ï¼ˆSentryï¼‰</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šé›†æˆé”™è¯¯ä¸ŠæŠ¥ä¸æ€§èƒ½ç›‘æ§ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šæœåŠ¡ç«¯é”™è¯¯ä¸ŠæŠ¥ï¼ˆç¤ºæ„ï¼‰</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// server/plugins/sentry.tsï¼ˆç¤ºæ„ï¼‰</span>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-title class_">Sentry</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@sentry/node'</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineNitroPlugin</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title class_">Sentry</span>.<span class="hljs-title function_">init</span>({ <span class="hljs-attr">dsn</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">SENTRY_DSN</span> })
})
</code></pre>
<p>åœ¨ API ä¸­æ•è·å¹¶ä¸ŠæŠ¥ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// server/api/example.get.tsï¼ˆç¤ºæ„ï¼‰</span>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-title class_">Sentry</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@sentry/node'</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineEventHandler</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// ...</span>
  } <span class="hljs-keyword">catch</span> (e) {
    <span class="hljs-title class_">Sentry</span>.<span class="hljs-title function_">captureException</span>(e)
    <span class="hljs-keyword">throw</span> e
  }
})
</code></pre>
<hr/>
<h4 data-id="heading-65">17.4 ç¼“å­˜ç­–ç•¥ä¸ headers</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šä¸ºé™æ€ä¸åŠ¨æ€èµ„æºè®¾ç½®åˆç†ç¼“å­˜ç­–ç•¥ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šä¸ºå›¾ç‰‡ä¸é™æ€æ–‡ä»¶è®¾ç½®é•¿æœŸç¼“å­˜</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// server/middleware/cache.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineEventHandler</span>(<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> url = event.<span class="hljs-property">path</span>
  <span class="hljs-keyword">if</span> (url.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'/_nuxt/'</span>) || url.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'/public/'</span>)) {
    <span class="hljs-title function_">setHeader</span>(event, <span class="hljs-string">'Cache-Control'</span>, <span class="hljs-string">'public, max-age=31536000, immutable'</span>)
  }
})
</code></pre>
<p>æœ€ä½³å®è·µï¼š</p>
<ul>
<li>ä¼˜å…ˆé€‰æ‹©å¹³å°çš„åŸç”Ÿé›†æˆï¼ˆVercel/Netlify/Cloudflareï¼‰ç®€åŒ–éƒ¨ç½²æµç¨‹</li>
<li>ä½¿ç”¨ç›‘æ§ä¸æ—¥å¿—å®šä½çº¿ä¸Šé—®é¢˜ï¼Œé…åˆé”™è¯¯ä¸ŠæŠ¥</li>
<li>é’ˆå¯¹ä¸åŒç±»å‹èµ„æºè®¾è®¡å·®å¼‚åŒ–ç¼“å­˜ç­–ç•¥</li>
</ul>
<hr/>
<h3 data-id="heading-66">18. æ€§èƒ½ä¼˜åŒ–</h3>
<h4 data-id="heading-67">18.1 è·¯ç”±çº§ä»£ç åˆ†å‰²ä¸é¢„å–</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šNuxt è‡ªåŠ¨æŒ‰é¡µé¢ä»£ç åˆ†å‰²ï¼›å¯é¢„å–æå‡å¯¼èˆªé€Ÿåº¦ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šå¯ç”¨ link prefetch</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// nuxt.config.tsï¼ˆç‰‡æ®µï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineNuxtConfig</span>({
  <span class="hljs-attr">app</span>: {
    <span class="hljs-comment">// åœ¨è§†å£å¯è§çš„é“¾æ¥ä¸Šè‡ªåŠ¨è¿›è¡Œé¢„å–</span>
    <span class="hljs-attr">pageTransition</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">'page'</span>, <span class="hljs-attr">mode</span>: <span class="hljs-string">'out-in'</span> }
  },
  <span class="hljs-attr">experimental</span>: {
    <span class="hljs-comment">// ä¸åŒ Nuxt ç‰ˆæœ¬é€‰é¡¹å¯èƒ½ä¸åŒï¼Œæ­¤å¤„ä¸ºç¤ºæ„</span>
  }
})
</code></pre>
<p>åœ¨é¡µé¢ä¸­ä½¿ç”¨ <code>&lt;NuxtLink&gt;</code> é»˜è®¤å³å¯äº«å—é¢„å–ï¼ˆå¯åœ¨ DevTools ä¸­è§‚å¯Ÿç½‘ç»œè¯·æ±‚ï¼‰ã€‚</p>
<hr/>
<h4 data-id="heading-68">18.2 useLazyAsyncData ä¸è¯·æ±‚ä¼˜åŒ–</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šæƒ°æ€§æ•°æ®è·å–ã€å»æŠ–/èŠ‚æµå‡å°‘ä¸å¿…è¦è¯·æ±‚ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šæœç´¢å»ºè®®çš„å»æŠ–ä¼˜åŒ–</strong></p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- pages/search-optimized.vue --&gt;
&lt;template&gt;
  &lt;section class="container"&gt;
    &lt;input v-model="q" placeholder="è¾“å…¥å…³é”®å­—ï¼ˆ300ms å»æŠ–ï¼‰" /&gt;
    &lt;ul&gt;
      &lt;li v-for="s in suggestions" :key="s"&gt;{{ s }}&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/section&gt;
&lt;/template&gt;
&lt;script setup lang="ts"&gt;
const q = ref('')
const debounced = ref('')
let timer: any
watch(q, (val) =&gt; {
  clearTimeout(timer)
  timer = setTimeout(() =&gt; debounced.value = val, 300)
})
const { data: suggestions } = await useLazyAsyncData(
  () =&gt; `sugg-${debounced.value}`,
  () =&gt; $fetch('/api/suggest', { query: { q: debounced.value } }),
  { immediate: true }
)
&lt;/script&gt;
</code></pre>
<hr/>
<h4 data-id="heading-69">18.3 å›¾ç‰‡ä¼˜åŒ–ä¸ HTTP å‹ç¼©</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šwebp/avif ä¸ Gzip/Brotli å‹ç¼©æå‡åŠ è½½æ€§èƒ½ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šæœåŠ¡ç«¯å¼€å¯å‹ç¼©ï¼ˆç¤ºæ„ï¼‰</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// server/middleware/compress.tsï¼ˆç¤ºæ„ï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineEventHandler</span>(<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-comment">// ä¾èµ–å¹³å°/è¿è¡Œæ—¶å¼€å¯å‹ç¼©ï¼Œæ­¤å¤„ä»…ç¤ºæ„è®¾ç½®å¤´</span>
  <span class="hljs-title function_">setHeader</span>(event, <span class="hljs-string">'Content-Encoding'</span>, <span class="hljs-string">'br'</span>)
})
</code></pre>
<p>æœ€ä½³å®è·µï¼š</p>
<ul>
<li>ä½¿ç”¨ Lighthouse è¯„ä¼°å¹¶é€é¡¹ä¼˜åŒ–ï¼ˆå›¾ç‰‡ã€è„šæœ¬ä½“ç§¯ã€ç¼“å­˜ç­–ç•¥ï¼‰</li>
<li>ç»“åˆ DevTools ä¸ Vite Inspect åˆ†æä¾èµ–å¹¶æŒ‰éœ€æ‹†åˆ†</li>
</ul>
<hr/>
<h3 data-id="heading-70">19. å¼€å‘è€…å·¥å…·ä¸è°ƒè¯•</h3>
<h4 data-id="heading-71">19.1 Nuxt DevTools</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šä½¿ç”¨ DevTools æŸ¥çœ‹è·¯ç”±ã€ç»„ä»¶æ ‘ã€æ•°æ®æ¥æºä¸æ€§èƒ½ã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šå®šä½æ…¢è·¯ç”±</strong></p>
<ul>
<li>æ‰“å¼€ DevToolsï¼ˆå¼€å‘æ¨¡å¼è‡ªåŠ¨å¯ç”¨ï¼‰</li>
<li>è¿›å…¥è·¯ç”±é¢æ¿ï¼Œè§‚å¯Ÿè¯¥é¡µé¢æ•°æ®è·å–æ—¶é—´ä¸ç»„ä»¶æ¸²æŸ“è€—æ—¶</li>
<li>ç»“åˆç½‘ç»œé¢æ¿æ£€æŸ¥æ˜¯å¦æœ‰é‡å¤è¯·æ±‚æˆ–å¤§å‹èµ„æº</li>
</ul>
<hr/>
<h4 data-id="heading-72">19.2 Vite Inspect ä¸ä¾èµ–åˆ†æ</h4>
<p><strong>çŸ¥è¯†ç‚¹</strong>ï¼šåˆ†ææ‰“åŒ…äº§ç‰©ä¸ä¾èµ–ä½“ç§¯æ¥æºã€‚</p>
<p><strong>æ¡ˆä¾‹ï¼šå‘ç°å¤§ä½“ç§¯ä¾èµ–å¹¶æŒ‰éœ€ä¼˜åŒ–</strong></p>
<ul>
<li>å¯ç”¨ Inspect æ’ä»¶ï¼ˆNuxt å†…ç½®é›†æˆæˆ–æŒ‰éœ€é…ç½®ï¼‰</li>
<li>æŸ¥çœ‹é¡µé¢å¯¹åº” chunkï¼Œç¡®è®¤æ˜¯å¦å¼•å…¥äº†ä¸å¿…è¦çš„ç¬¬ä¸‰æ–¹åº“</li>
<li>é€šè¿‡åŠ¨æ€å¯¼å…¥æˆ–æ›¿æ¢è½»é‡åº“å‡å°‘ä½“ç§¯</li>
</ul>
<p>æœ€ä½³å®è·µï¼š</p>
<ul>
<li>åœ¨å¼€å‘é˜¶æ®µæŒç»­ä½¿ç”¨ DevTools/Inspect å‘ç°é—®é¢˜</li>
<li>ä¼˜å…ˆç§»é™¤ä¸å¿…è¦ä¾èµ–ã€å‡å°‘å…¨å±€å¼•å…¥ï¼Œé‡‡ç”¨æŒ‰éœ€ä¸æ‡’åŠ è½½</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Spring Boot ä¸­ä½¿ç”¨ JSONPath é«˜æ•ˆå¤„ç† JSON æ•°æ®]]></title>    <link>https://juejin.cn/post/7595061185423671302</link>    <guid>https://juejin.cn/post/7595061185423671302</guid>    <pubDate>2026-01-15T02:42:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595061185423671302" data-draft-id="7595055962151518208" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Spring Boot ä¸­ä½¿ç”¨ JSONPath é«˜æ•ˆå¤„ç† JSON æ•°æ®"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-15T02:42:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é£è±¡å—"/> <meta itemprop="url" content="https://juejin.cn/user/2524134428655159"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Spring Boot ä¸­ä½¿ç”¨ JSONPath é«˜æ•ˆå¤„ç† JSON æ•°æ®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2524134428655159/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é£è±¡å—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-15T02:42:41.000Z" title="Thu Jan 15 2026 02:42:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦å¤„ç† JSON æ•°æ®ï¼Œç‰¹åˆ«æ˜¯ä»å¤æ‚çš„ JSON ç»“æ„ä¸­æå–ç‰¹å®šå­—æ®µã€‚ä¼ ç»Ÿçš„å¤„ç†æ–¹å¼å¦‚ Gsonã€Jackson çš„ API è™½ç„¶åŠŸèƒ½å¼ºå¤§ï¼Œä½†åœ¨å¤„ç†å¤æ‚è·¯å¾„æå–æ—¶ä»£ç å¾€å¾€æ˜¾å¾—å†—é•¿ä¸”ä¸æ˜“ç»´æŠ¤ã€‚</p>
<p>ä»Šå¤©ç»™å¤§å®¶ä»‹ç»ä¸€ä¸ªæ›´ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆ â€”â€” <strong>JSONPath</strong>ï¼Œå®ƒå°±åƒ JSON ç•Œçš„ XPathï¼Œè®©æˆ‘ä»¬å¯ä»¥ç”¨ç®€æ´çš„è·¯å¾„è¡¨è¾¾å¼æ¥å®šä½å’Œæå– JSON æ•°æ®ã€‚</p>
<h2 data-id="heading-1">ä»€ä¹ˆæ˜¯ JSONPathï¼Ÿ</h2>
<p>JSONPath æ˜¯ä¸€ç§ç”¨äºä» JSON æ–‡æ¡£ä¸­æå–ç‰¹å®šæ•°æ®çš„æŸ¥è¯¢è¯­è¨€ã€‚å®ƒçš„è¯­æ³•ç®€æ´ç›´è§‚ï¼Œç±»ä¼¼äº JavaScript å¯¹è±¡å±æ€§çš„è®¿é—®æ–¹å¼ã€‚</p>
<h4 data-id="heading-2">å¸¸ç”¨ JSONPath è¯­æ³•</h4>









































<table><thead><tr><th>è¡¨è¾¾å¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>$</code></td><td>æ ¹èŠ‚ç‚¹</td></tr><tr><td><code>@</code></td><td>å½“å‰èŠ‚ç‚¹</td></tr><tr><td><code>.</code> æˆ– <code>[]</code></td><td>å­èŠ‚ç‚¹æ“ä½œç¬¦</td></tr><tr><td><code>..</code></td><td>é€’å½’ä¸‹é™ï¼ˆä»»æ„æ·±åº¦ï¼‰</td></tr><tr><td><code>*</code></td><td>é€šé…ç¬¦ï¼ŒåŒ¹é…æ‰€æœ‰æˆå‘˜/å…ƒç´ </td></tr><tr><td><code>[]</code></td><td>ä¸‹æ ‡è¿ç®—ç¬¦</td></tr><tr><td><code>[start:end]</code></td><td>æ•°ç»„åˆ‡ç‰‡</td></tr><tr><td><code>[?()]</code></td><td>è¿‡æ»¤è¡¨è¾¾å¼</td></tr></tbody></table>
<h2 data-id="heading-3">Spring Boot é›†æˆ JSONPath</h2>
<h4 data-id="heading-4">1. æ·»åŠ ä¾èµ–</h4>
<p>åœ¨ <code>pom.xml</code> ä¸­æ·»åŠ  JSONPath ä¾èµ–ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.jayway.jsonpath<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>json-path<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.9.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h4 data-id="heading-5">2. åŸºç¡€ä½¿ç”¨ç¤ºä¾‹</h4>
<p>é¦–å…ˆå‡†å¤‡ä¸€ä¸ª JSON ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"store"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"book"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"category"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"reference"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"author"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Nigel Rees"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Sayings of the Century"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"price"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8.95</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"category"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"fiction"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"author"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Evelyn Waugh"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Sword of Honour"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"price"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">12.99</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"category"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"fiction"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"author"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Herman Melville"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Moby Dick"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"isbn"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"0-553-21311-3"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"price"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8.99</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"bicycle"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"color"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"red"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"price"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">19.95</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h5 data-id="heading-6">è¯»å–æ•°æ®</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> com.jayway.jsonpath.JsonPath;
<span class="hljs-keyword">import</span> com.jayway.jsonpath.DocumentContext;
<span class="hljs-keyword">import</span> com.jayway.jsonpath.PathNotFoundException;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JsonPathExample</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> <span class="hljs-variable">json</span> <span class="hljs-operator">=</span> <span class="hljs-string">"..."</span>; <span class="hljs-comment">// ä¸Šè¿° JSON å­—ç¬¦ä¸²</span>

    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testReadJson</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// è·å–æ‰€æœ‰ä¹¦ç±çš„ä½œè€…</span>
        List&lt;String&gt; authors = JsonPath.parse(json)
            .read(<span class="hljs-string">"$.store.book[*].author"</span>);

        <span class="hljs-comment">// è·å–ç¬¬ä¸€æœ¬ä¹¦çš„ä»·æ ¼</span>
        <span class="hljs-type">Double</span> <span class="hljs-variable">price</span> <span class="hljs-operator">=</span> JsonPath.parse(json)
            .read(<span class="hljs-string">"$.store.book[0].price"</span>);

        <span class="hljs-comment">// è·å–æ‰€æœ‰ä»·æ ¼ä½äº10å…ƒçš„ä¹¦ç±</span>
        List&lt;Map&gt; cheapBooks = JsonPath.parse(json)
            .read(<span class="hljs-string">"$.store.book[?(@.price &lt; 10)]"</span>);

        <span class="hljs-comment">// è·å–æœ€åä¸€æœ¬ä¹¦</span>
        <span class="hljs-type">Map</span> <span class="hljs-variable">lastBook</span> <span class="hljs-operator">=</span> JsonPath.parse(json)
            .read(<span class="hljs-string">"$.store.book[-1]"</span>);
    }
}
</code></pre>
<h5 data-id="heading-7">åœ¨ Spring Boot ä¸­çš„å®é™…åº”ç”¨</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.*;
<span class="hljs-keyword">import</span> com.jayway.jsonpath.JsonPath;

<span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping("/api")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BookController</span> {

    <span class="hljs-meta">@PostMapping("/extract")</span>
    <span class="hljs-keyword">public</span> ResponseEntity&lt;?&gt; extractData(<span class="hljs-meta">@RequestBody</span> String jsonString) {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// æå–æ‰€æœ‰ä¹¦ç±æ ‡é¢˜</span>
            List&lt;String&gt; titles = JsonPath.parse(jsonString)
                .read(<span class="hljs-string">"$.store.book[*].title"</span>);

            <span class="hljs-comment">// æå–ä»·æ ¼åŒºé—´å†…çš„ä¹¦ç±</span>
            List&lt;Map&gt; books = JsonPath.parse(jsonString)
                .read(<span class="hljs-string">"$.store.book[?(@.price &gt;= 8 &amp;&amp; @.price &lt;= 12)]"</span>);

            <span class="hljs-keyword">return</span> ResponseEntity.ok(Map.of(
                <span class="hljs-string">"titles"</span>, titles,
                <span class="hljs-string">"filteredBooks"</span>, books
            ));
        } <span class="hljs-keyword">catch</span> (PathNotFoundException e) {
            <span class="hljs-keyword">return</span> ResponseEntity.badRequest()
                .body(<span class="hljs-string">"JSONè·¯å¾„ä¸å­˜åœ¨: "</span> + e.getMessage());
        }
    }

    <span class="hljs-meta">@GetMapping("/authors")</span>
    <span class="hljs-keyword">public</span> ResponseEntity&lt;?&gt; getAuthors(<span class="hljs-meta">@RequestParam</span> String jsonData) {
        List&lt;String&gt; authors = JsonPath.parse(jsonData)
            .read(<span class="hljs-string">"$.store.book[*].author"</span>);
        <span class="hljs-keyword">return</span> ResponseEntity.ok(authors);
    }
}
</code></pre>
<h4 data-id="heading-8">3. é«˜çº§ç”¨æ³•</h4>
<h5 data-id="heading-9">è‡ªå®šä¹‰é…ç½®</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> com.jayway.jsonpath.Configuration;
<span class="hljs-keyword">import</span> com.jayway.jsonpath.Option;

<span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JsonPathConfig</span> {

    <span class="hljs-keyword">public</span> Configuration <span class="hljs-title function_">jsonPathConfiguration</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> Configuration.builder()
            <span class="hljs-comment">// æŠ‘åˆ¶å¼‚å¸¸ï¼Œè¿”å› null</span>
            .options(Option.SUPPRESS_EXCEPTIONS)
            <span class="hljs-comment">// é»˜è®¤å€¼ä¸ºç©ºé›†åˆ</span>
            .options(Option.DEFAULT_PATH_LEAF_TO_NULL)
            <span class="hljs-comment">// æ€»æ˜¯è¿”å›åˆ—è¡¨</span>
            .options(Option.ALWAYS_RETURN_LIST)
            <span class="hljs-comment">// ç¼“å­˜</span>
            .options(Option.CACHE)
            .build();
    }
}
</code></pre>
<h5 data-id="heading-10">ç¼“å­˜è§£æç»“æœ</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JsonPathCacheService</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Map&lt;String, Object&gt; cache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();

    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">readWithCache</span><span class="hljs-params">(String json, String path)</span> {
        <span class="hljs-keyword">return</span> JsonPath.using(Configuration.defaultConfiguration())
            .parse(json)
            .read(path);
    }

    <span class="hljs-comment">// é¢„ç¼–è¯‘è·¯å¾„ï¼Œæå‡æ€§èƒ½</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">JsonPath</span> <span class="hljs-variable">compiledPath</span> <span class="hljs-operator">=</span> JsonPath.compile(<span class="hljs-string">"$.store.book[*]"</span>);

    <span class="hljs-keyword">public</span> List&lt;Map&gt; <span class="hljs-title function_">readOptimized</span><span class="hljs-params">(String json)</span> {
        <span class="hljs-keyword">return</span> compiledPath.read(json);
    }
}
</code></pre>
<h5 data-id="heading-11">ä¸ REST è°ƒç”¨ç»“åˆ</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ExternalApiService</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> RestTemplate restTemplate;

    <span class="hljs-keyword">public</span> List&lt;String&gt; <span class="hljs-title function_">extractFromExternalApi</span><span class="hljs-params">(String url, String jsonPath)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> restTemplate.getForObject(url, String.class);
        <span class="hljs-keyword">return</span> JsonPath.parse(response).read(jsonPath);
    }
}
</code></pre>
<h5 data-id="heading-12">è¿‡æ»¤è¡¨è¾¾å¼è¯¦è§£</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä»·æ ¼å¤§äº10çš„ä¹¦ç±</span>
$.store.book[?(@.price &gt; <span class="hljs-number">10</span>)]

<span class="hljs-comment">// category ä¸º fiction çš„ä¹¦ç±</span>
$.store.book[?(@.category == <span class="hljs-string">'fiction'</span>)]

<span class="hljs-comment">// åŒ…å« isbn å­—æ®µçš„ä¹¦ç±</span>
$.store.book[?(@.isbn)]

<span class="hljs-comment">// æ­£åˆ™åŒ¹é…</span>
$.store.book[?(@.author =~ /.*Melville.*/)]

<span class="hljs-comment">// å¤šæ¡ä»¶ç»„åˆ</span>
$.store.book[?(@.price &lt; <span class="hljs-number">10</span> &amp;&amp; @.category == <span class="hljs-string">'fiction'</span>)]
</code></pre>
<p>é™¤äº† Jayway JsonPathï¼Œå¸¸è§çš„ JSON å¤„ç†åº“ä¹Ÿæœ‰å„è‡ªçš„ JSONPath æˆ–ç±»ä¼¼åŠŸèƒ½å®ç°ã€‚</p>
<h2 data-id="heading-13">FastJSON - å†…ç½® JSONPath</h2>
<p>FastJSONå†…ç½®äº† JSONPath æ”¯æŒï¼Œä½¿ç”¨èµ·æ¥éå¸¸ç®€æ´ã€‚</p>
<h4 data-id="heading-14">æ·»åŠ ä¾èµ–</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba.fastjson2<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>fastjson2<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.0.53<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h4 data-id="heading-15">ä½¿ç”¨ç¤ºä¾‹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> com.alibaba.fastjson2.JSON;
<span class="hljs-keyword">import</span> com.alibaba.fastjson2.JSONPath;
<span class="hljs-keyword">import</span> com.alibaba.fastjson2.JSONObject;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FastJsonPathExample</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> <span class="hljs-variable">json</span> <span class="hljs-operator">=</span> <span class="hljs-string">"..."</span>; <span class="hljs-comment">// åŒä¸Š JSON ç¤ºä¾‹</span>

    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testFastJsonPath</span><span class="hljs-params">()</span> {
        <span class="hljs-type">JSONObject</span> <span class="hljs-variable">object</span> <span class="hljs-operator">=</span> JSON.parseObject(json);

        <span class="hljs-comment">// è·å–æ‰€æœ‰ä¹¦ç±ä½œè€…</span>
        List&lt;String&gt; authors = (List&lt;String&gt;) JSONPath.eval(object, <span class="hljs-string">"$.store.book[*].author"</span>);

        <span class="hljs-comment">// è·å–ç¬¬ä¸€æœ¬ä¹¦ä»·æ ¼</span>
        <span class="hljs-type">Double</span> <span class="hljs-variable">price</span> <span class="hljs-operator">=</span> (Double) JSONPath.eval(object, <span class="hljs-string">"$.store.book[0].price"</span>);

        <span class="hljs-comment">// è¿‡æ»¤ä»·æ ¼å°äº10çš„ä¹¦ç±</span>
        <span class="hljs-type">List</span> <span class="hljs-variable">books</span> <span class="hljs-operator">=</span> (List) JSONPath.eval(object, <span class="hljs-string">"$.store.book[?(@.price &lt; 10)]"</span>);

        <span class="hljs-comment">// size æ–¹æ³•</span>
        <span class="hljs-type">Integer</span> <span class="hljs-variable">size</span> <span class="hljs-operator">=</span> (Integer) JSONPath.eval(object, <span class="hljs-string">"$.store.book.size()"</span>);

        <span class="hljs-comment">// è·å–æ‰€æœ‰åŒ…å« isbn çš„ä¹¦ç±</span>
        <span class="hljs-type">List</span> <span class="hljs-variable">booksWithIsbn</span> <span class="hljs-operator">=</span> (List) JSONPath.eval(object, <span class="hljs-string">"$.store.book[?(@.isbn)]"</span>);
    }
}
</code></pre>
<h4 data-id="heading-16">FastJSON JSONPath å¤šç§æŸ¥è¯¢æ–¹å¼</h4>
<p>FastJSON æä¾›äº†å¤šç§æŸ¥è¯¢æ–¹å¼ï¼Œé€‚åº”ä¸åŒåœºæ™¯ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> com.alibaba.fastjson2.JSON;
<span class="hljs-keyword">import</span> com.alibaba.fastjson2.JSONPath;
<span class="hljs-keyword">import</span> com.alibaba.fastjson2.JSONObject;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FastJsonPathQueryExample</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-type">JSONObject</span> <span class="hljs-variable">object</span> <span class="hljs-operator">=</span> JSON.parseObject(json);

    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testDifferentQueryMethods</span><span class="hljs-params">()</span> {

        <span class="hljs-comment">// ========== æ–¹å¼ä¸€ï¼šJSONPath.evalï¼ˆé™æ€æ–¹æ³•ï¼Œæœ€å¸¸ç”¨ï¼‰==========</span>
        <span class="hljs-type">List</span> <span class="hljs-variable">authors1</span> <span class="hljs-operator">=</span> (List) JSONPath.eval(object, <span class="hljs-string">"$.store.book[*].author"</span>);


        <span class="hljs-comment">// ========== æ–¹å¼äºŒï¼šJSONPath.of + extractï¼ˆæ¨èï¼Œæ€§èƒ½æ›´å¥½ï¼‰==========</span>
        <span class="hljs-comment">// é¢„ç¼–è¯‘è·¯å¾„è¡¨è¾¾å¼ï¼Œæ€§èƒ½æ›´ä¼˜ï¼ˆé€‚åˆé‡å¤ä½¿ç”¨ï¼‰</span>
        <span class="hljs-type">JSONPath</span> <span class="hljs-variable">path</span> <span class="hljs-operator">=</span> JSONPath.of(<span class="hljs-string">"$.store.book[*].author"</span>);
        <span class="hljs-type">List</span> <span class="hljs-variable">authors2</span> <span class="hljs-operator">=</span> (List) path.extract(object);


        <span class="hljs-comment">// ========== æ–¹å¼ä¸‰ï¼šcompile + evalï¼ˆå¦ä¸€ç§ç¼–è¯‘æ–¹å¼ï¼‰==========</span>
        <span class="hljs-type">JSONPath</span> <span class="hljs-variable">compiledPath</span> <span class="hljs-operator">=</span> JSONPath.compile(<span class="hljs-string">"$.store.book[*].author"</span>);
        <span class="hljs-type">List</span> <span class="hljs-variable">authors3</span> <span class="hljs-operator">=</span> (List) compiledPath.eval(object);


        <span class="hljs-comment">// ========== æ–¹å¼å››ï¼šè·¯å¾„å¯¹è±¡ç›´æ¥è°ƒç”¨ setï¼ˆä¿®æ”¹æ“ä½œï¼‰==========</span>
        <span class="hljs-type">JSONPath</span> <span class="hljs-variable">pricePath</span> <span class="hljs-operator">=</span> JSONPath.of(<span class="hljs-string">"$.store.book[0].price"</span>);
        pricePath.set(object, <span class="hljs-number">88.88</span>);


        <span class="hljs-comment">// ========== æ–¹å¼äº”ï¼šcontainsï¼ˆåˆ¤æ–­æ˜¯å¦åŒ…å«è·¯å¾„ï¼‰==========</span>
        <span class="hljs-type">boolean</span> <span class="hljs-variable">hasBook</span> <span class="hljs-operator">=</span> JSONPath.contains(object, <span class="hljs-string">"$.store.book"</span>);
        <span class="hljs-type">boolean</span> <span class="hljs-variable">hasIsbn</span> <span class="hljs-operator">=</span> JSONPath.contains(object, <span class="hljs-string">"$.store.book[2].isbn"</span>);


        <span class="hljs-comment">// ========== æ–¹å¼å…­ï¼šsizeï¼ˆè·å–æ•°ç»„å¤§å°ï¼‰==========</span>
        <span class="hljs-type">Integer</span> <span class="hljs-variable">arraySize</span> <span class="hljs-operator">=</span> (Integer) JSONPath.eval(object, <span class="hljs-string">"$.store.book.size()"</span>);
        <span class="hljs-comment">// æˆ–è€…ä½¿ç”¨ç¼–è¯‘åçš„è·¯å¾„</span>
        <span class="hljs-type">JSONPath</span> <span class="hljs-variable">sizePath</span> <span class="hljs-operator">=</span> JSONPath.of(<span class="hljs-string">"$.store.book.size()"</span>);
        <span class="hljs-type">Integer</span> <span class="hljs-variable">size</span> <span class="hljs-operator">=</span> (Integer) sizePath.eval(object);
    }
}
</code></pre>
<h4 data-id="heading-17">FastJSON JSONPath ä¿®æ”¹æ“ä½œ</h4>
<p>FastJSON çš„ JSONPath ä¸ä»…å¯ä»¥è¯»å–æ•°æ®ï¼Œè¿˜æ”¯æŒ<strong>ä¿®æ”¹æ•°æ®</strong>ï¼Œè¿™æ˜¯å®ƒçš„ä¸€ä¸ªå¼ºå¤§ç‰¹æ€§ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> com.alibaba.fastjson2.JSON;
<span class="hljs-keyword">import</span> com.alibaba.fastjson2.JSONPath;
<span class="hljs-keyword">import</span> com.alibaba.fastjson2.JSONObject;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FastJsonPathModifyExample</span> {

    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testJsonPathSet</span><span class="hljs-params">()</span> {
        <span class="hljs-type">JSONObject</span> <span class="hljs-variable">object</span> <span class="hljs-operator">=</span> JSON.parseObject(json);

        <span class="hljs-comment">// ä¿®æ”¹ç¬¬ä¸€æœ¬ä¹¦çš„ä»·æ ¼</span>
        JSONPath.set(object, <span class="hljs-string">"$.store.book[0].price"</span>, <span class="hljs-number">99.99</span>);

        <span class="hljs-comment">// ä¿®æ”¹è‡ªè¡Œè½¦çš„é¢œè‰²</span>
        JSONPath.set(object, <span class="hljs-string">"$.store.bicycle.color"</span>, <span class="hljs-string">"blue"</span>);

        <span class="hljs-comment">// æ‰¹é‡ä¿®æ”¹æ‰€æœ‰ä¹¦ç±ä»·æ ¼</span>
        JSONPath.set(object, <span class="hljs-string">"$.store.book[*].price"</span>, <span class="hljs-number">15.88</span>);

        <span class="hljs-comment">// ä¿®æ”¹åŒ…å« isbn çš„ä¹¦ç±çš„ category</span>
        JSONPath.set(object, <span class="hljs-string">"$.store.book[?(@.isbn)].category"</span>, <span class="hljs-string">"classic"</span>);

        <span class="hljs-comment">// æ·»åŠ æ–°å­—æ®µ</span>
        JSONPath.set(object, <span class="hljs-string">"$.store.book[0].publisher"</span>, <span class="hljs-string">"Tech Press"</span>);

        <span class="hljs-comment">// æ•°ç»„æœ«å°¾æ·»åŠ å…ƒç´ ï¼ˆé€šè¿‡è·¯å¾„è·å–æ•°ç»„åæ“ä½œï¼‰</span>
        <span class="hljs-type">JSONArray</span> <span class="hljs-variable">bookArray</span> <span class="hljs-operator">=</span> (JSONArray) JSONPath.eval(object, <span class="hljs-string">"$.store.book"</span>);
        bookArray.add(JSON.parseObject(<span class="hljs-string">"{\"title\":\"New Book\",\"price\":9.99}"</span>));

        <span class="hljs-comment">// åˆ é™¤å­—æ®µ</span>
        JSONPath.remove(object, <span class="hljs-string">"$.store.bicycle"</span>);

        System.out.println(JSON.toJSONString(object));
    }
}
</code></pre>
<h4 data-id="heading-18">FastJSON JSONPath å…¶ä»–æ“ä½œ</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è·å–é›†åˆå¤§å°</span>
<span class="hljs-type">Integer</span> <span class="hljs-variable">size</span> <span class="hljs-operator">=</span> (Integer) JSONPath.eval(object, <span class="hljs-string">"$.store.book.size()"</span>);

<span class="hljs-comment">// è·å–é›†åˆç¬¬ä¸€ä¸ª</span>
<span class="hljs-type">Object</span> <span class="hljs-variable">first</span> <span class="hljs-operator">=</span> JSONPath.eval(object, <span class="hljs-string">"$.store.book.first()"</span>);

<span class="hljs-comment">// è·å–é›†åˆæœ€åä¸€ä¸ª</span>
<span class="hljs-type">Object</span> <span class="hljs-variable">last</span> <span class="hljs-operator">=</span> JSONPath.eval(object, <span class="hljs-string">"$.store.book.last()"</span>);

<span class="hljs-comment">// è·å–å±æ€§æ‰€æœ‰å€¼</span>
<span class="hljs-type">Collection</span> <span class="hljs-variable">values</span> <span class="hljs-operator">=</span> (Collection) JSONPath.eval(object, <span class="hljs-string">"$.store.book.values()"</span>);
</code></pre>
<h2 data-id="heading-19">Jackson - JsonPointer / Jackson JsonPath</h2>
<p>Jackson åŸç”Ÿæ”¯æŒ <strong>JsonPointer</strong> (RFC 6901)ï¼Œä½†ä¸æ˜¯å®Œæ•´çš„ JSONPath å®ç°ã€‚è‹¥è¦ä½¿ç”¨ JSONPath åŠŸèƒ½ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼š</p>
<h4 data-id="heading-20">æ–¹å¼ä¸€ï¼šä½¿ç”¨ JsonPointerï¼ˆåŸç”Ÿæ”¯æŒï¼‰</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jackson-databind<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.18.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> com.fasterxml.jackson.databind.JsonNode;
<span class="hljs-keyword">import</span> com.fasterxml.jackson.databind.ObjectMapper;
<span class="hljs-keyword">import</span> com.fasterxml.jackson.core.JsonPointer;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JacksonJsonPointerExample</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> <span class="hljs-variable">json</span> <span class="hljs-operator">=</span> <span class="hljs-string">"..."</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-type">ObjectMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectMapper</span>();

    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testJsonPointer</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">JsonNode</span> <span class="hljs-variable">root</span> <span class="hljs-operator">=</span> mapper.readTree(json);

        <span class="hljs-comment">// ä½¿ç”¨ JsonPointer å®šä½èŠ‚ç‚¹</span>
        <span class="hljs-type">JsonPointer</span> <span class="hljs-variable">ptr</span> <span class="hljs-operator">=</span> JsonPointer.compile(<span class="hljs-string">"/store/book/0/author"</span>);
        <span class="hljs-type">JsonNode</span> <span class="hljs-variable">authorNode</span> <span class="hljs-operator">=</span> root.at(ptr);
        <span class="hljs-type">String</span> <span class="hljs-variable">author</span> <span class="hljs-operator">=</span> authorNode.asText();

        <span class="hljs-comment">// é“¾å¼å†™æ³•</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">title</span> <span class="hljs-operator">=</span> root.at(<span class="hljs-string">"/store/book/1/title"</span>).asText();
        <span class="hljs-type">Double</span> <span class="hljs-variable">price</span> <span class="hljs-operator">=</span> root.at(<span class="hljs-string">"/store/bicycle/price"</span>).asDouble();
    }
}
</code></pre>
<p><strong>JsonPointer é™åˆ¶</strong>ï¼š</p>
<ul>
<li>è¯­æ³•è¾ƒç®€å•ï¼Œä¸æ”¯æŒé€šé…ç¬¦ã€è¿‡æ»¤è¡¨è¾¾å¼</li>
<li>æ— æ³•ä¸€æ¬¡è·å–å¤šä¸ªå€¼</li>
<li>ä¸æ”¯æŒæ•°ç»„åˆ‡ç‰‡</li>
</ul>
<h4 data-id="heading-21">æ–¹å¼äºŒï¼šä½¿ç”¨ Jackson-JsonPathï¼ˆç¬¬ä¸‰æ–¹æ‰©å±•ï¼‰</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.jayway.jsonpath<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>json-path<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.9.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> com.jayway.jsonpath.Configuration;
<span class="hljs-keyword">import</span> com.jayway.jsonpath.JsonPath;
<span class="hljs-keyword">import</span> com.jayway.jsonpath.spi.json.JacksonJsonNodeJsonProvider;
<span class="hljs-keyword">import</span> com.jayway.jsonpath.spi.mapper.JacksonMappingProvider;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JacksonJsonPathExample</span> {

    <span class="hljs-comment">// é…ç½®ä½¿ç”¨ Jackson</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">Configuration</span> <span class="hljs-variable">configuration</span> <span class="hljs-operator">=</span> Configuration.builder()
        .jsonProvider(<span class="hljs-keyword">new</span> <span class="hljs-title class_">JacksonJsonNodeJsonProvider</span>())
        .mappingProvider(<span class="hljs-keyword">new</span> <span class="hljs-title class_">JacksonMappingProvider</span>())
        .build();

    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testJacksonJsonPath</span><span class="hljs-params">()</span> {
        List&lt;String&gt; authors = JsonPath.using(configuration)
            .parse(json)
            .read(<span class="hljs-string">"$.store.book[*].author"</span>);
    }
}
</code></pre>
<h2 data-id="heading-22">Gson - æ— åŸç”Ÿ JSONPath</h2>
<p><strong>Gson æœ¬èº«ä¸æä¾› JSONPath æ”¯æŒ</strong>ï¼Œè¿™æ˜¯ Gson çš„ä¸€ä¸ªå±€é™ã€‚å»ºè®®æ­é… Jayway JsonPath ä½¿ç”¨ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.google.code.gson<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>gson<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.11.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.jayway.jsonpath<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>json-path<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.9.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> com.google.gson.Gson;
<span class="hljs-keyword">import</span> com.google.gson.JsonElement;
<span class="hljs-keyword">import</span> com.jayway.jsonpath.JsonPath;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GsonJsonPathExample</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-type">Gson</span> <span class="hljs-variable">gson</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Gson</span>();
    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> <span class="hljs-variable">json</span> <span class="hljs-operator">=</span> <span class="hljs-string">"..."</span>;

    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testGsonWithJsonPath</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// ä½¿ç”¨ JsonPath æå–æ•°æ®</span>
        List&lt;String&gt; authors = JsonPath.parse(json)
            .read(<span class="hljs-string">"$.store.book[*].author"</span>);

        <span class="hljs-comment">// å°†ç»“æœè½¬å› Gson å¯¹è±¡</span>
        <span class="hljs-type">JsonElement</span> <span class="hljs-variable">element</span> <span class="hljs-operator">=</span> gson.toJsonTree(authors);
    }
}
</code></pre>
<h2 data-id="heading-23">ä¸‰ç§æ–¹æ¡ˆå¯¹æ¯”</h2>















































<table><thead><tr><th>ç‰¹æ€§</th><th>FastJSON</th><th>Jackson + JsonPointer</th><th>Jayway JsonPath</th></tr></thead><tbody><tr><td>JSONPath æ”¯æŒ</td><td>åŸç”Ÿæ”¯æŒ</td><td>ä»… JsonPointer</td><td>å®Œæ•´æ”¯æŒ</td></tr><tr><td>è¿‡æ»¤è¡¨è¾¾å¼</td><td>æ”¯æŒ</td><td>ä¸æ”¯æŒ</td><td>æ”¯æŒ</td></tr><tr><td>é€šé…ç¬¦</td><td>æ”¯æŒ</td><td>ä¸æ”¯æŒ</td><td>æ”¯æŒ</td></tr><tr><td>æ€§èƒ½</td><td>ä¼˜ç§€</td><td>ä¼˜ç§€</td><td>è‰¯å¥½</td></tr><tr><td>ç”Ÿæ€ç¨³å®šæ€§</td><td>æ›¾æœ‰å®‰å…¨æ¼æ´</td><td>æœ€ç¨³å®š</td><td>ç¤¾åŒºæ´»è·ƒ</td></tr><tr><td>Spring Boot é›†æˆ</td><td>éœ€æ‰‹åŠ¨é…ç½®</td><td>é»˜è®¤é›†æˆ</td><td>éœ€æ·»åŠ ä¾èµ–</td></tr></tbody></table>
<h2 data-id="heading-24">é€‰å‹å»ºè®®</h2>
<ul>
<li><strong>å·²æœ‰ FastJSON é¡¹ç›®</strong>ï¼šç›´æ¥ä½¿ç”¨ FastJSON çš„ JSONPath</li>
<li><strong>ä½¿ç”¨ Jackson çš„é¡¹ç›®</strong>ï¼šç®€å•åœºæ™¯ç”¨ JsonPointerï¼Œå¤æ‚åœºæ™¯å¼•å…¥ Jayway JsonPath</li>
<li><strong>ä½¿ç”¨ Gson çš„é¡¹ç›®</strong>ï¼šå»ºè®®æ­é… Jayway JsonPath ä½¿ç”¨</li>
<li><strong>æ–°é¡¹ç›®</strong>ï¼šæ¨è Jackson + Jayway JsonPath ç»„åˆ</li>
</ul>
<h2 data-id="heading-25">æ€»ç»“</h2>
<p>JSONPath æ˜¯å¤„ç† JSON æ•°æ®çš„åˆ©å™¨ï¼Œé€šè¿‡ç®€æ´çš„è·¯å¾„è¡¨è¾¾å¼å®ç°å¤æ‚å­—æ®µæå–ã€æ¡ä»¶è¿‡æ»¤å’ŒåŠ¨æ€æŸ¥è¯¢ã€‚åœ¨ Spring Boot ä¸­é›†æˆ JSONPath å¯å¤§å¹…ç®€åŒ–ä»£ç ã€æå‡å¯è¯»æ€§ï¼Œæ˜¯å¤„ç†å¤æ‚ JSON ç»“æ„å’Œç¬¬ä¸‰æ–¹ API æ•°æ®çš„ä¸€ç§å¯é€‰æŠ€æœ¯æ–¹æ¡ˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸŒ± ä¸€ä¸ªå°è€Œç¾çš„æ ¸å¿ƒå›¢é˜Ÿèƒ½åˆ›é€ å‡ºå“ªäº›å¥‡è¿¹ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7595115707161264169</link>    <guid>https://juejin.cn/post/7595115707161264169</guid>    <pubDate>2026-01-15T02:43:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595115707161264169" data-draft-id="7595061185423622150" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸŒ± ä¸€ä¸ªå°è€Œç¾çš„æ ¸å¿ƒå›¢é˜Ÿèƒ½åˆ›é€ å‡ºå“ªäº›å¥‡è¿¹ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,äººå·¥æ™ºèƒ½,å›¢é˜Ÿç®¡ç†"/> <meta itemprop="datePublished" content="2026-01-15T02:43:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LeonGao"/> <meta itemprop="url" content="https://juejin.cn/user/3976252950591149"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸŒ± ä¸€ä¸ªå°è€Œç¾çš„æ ¸å¿ƒå›¢é˜Ÿèƒ½åˆ›é€ å‡ºå“ªäº›å¥‡è¿¹ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3976252950591149/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LeonGao
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-15T02:43:25.000Z" title="Thu Jan 15 2026 02:43:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body blockquote&gt;:first-child{margin-top:0}.markdown-body blockquote&gt;:last-child{margin-bottom:0}.markdown-body{overflow:hidden;line-height:1.75;font-size:15px;background-image:linear-gradient(90deg,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0),linear-gradient(1turn,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0);background-size:20px 20px;background-position:50%;padding-top:0!important}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{position:relative;display:flex;border-bottom:5px solid #6d4e00;line-height:35px;letter-spacing:1px;font-size:25px;padding-left:25px;color:#664900;text-shadow:1px 1px 1px #8a6200;padding-bottom:0}.markdown-body h1:before{content:"";display:flex;position:absolute;left:0;top:3px;bottom:0;margin:auto;width:20px;height:20px;background-size:20px 20px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC")}.markdown-body h2{position:relative;padding:0 0 0 20px;font-size:20px;font-weight:700;color:#614500}.markdown-body h2:before{content:"";position:absolute;top:3px;bottom:0;left:0;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC");background-size:100% 100%;background-repeat:no-repeat;width:15px;height:15px;margin:auto}.markdown-body h3{width:100%;text-align:left;margin:20px 10px 0 0;font-size:18px;font-weight:700;display:inline-block;padding-left:10px;padding-bottom:0;border-left:5px solid #8f6600;color:#614500}.markdown-body h4,.markdown-body h5,.markdown-body h6{font-weight:700;color:#a37400}.markdown-body h4{font-size:17px}.markdown-body h5,.markdown-body h6{display:flex;align-items:center}.markdown-body h5:after,.markdown-body h6:after{display:inline-block;border:2px solid #fff6e0;color:rgba(189,134,0,.5);border-radius:50%;text-align:center;margin-left:5px}.markdown-body h5{font-size:14px}.markdown-body h5:after{content:"5";width:15px;height:15px;line-height:15px;font-size:13px}.markdown-body h6{font-size:12px}.markdown-body h6:after{content:"6";width:13px;height:13px;line-height:13px;font-size:12px}.markdown-body p{color:#412c0c;letter-spacing:1px;font-weight:400;margin-bottom:16px}.markdown-body img{max-width:100%;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#755300;font-weight:400;border-bottom:1px solid #755300;font-weight:bolder;text-decoration:none}.markdown-body table{width:100%!important;margin:0;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border-spacing:0}.markdown-body table img{box-shadow:none}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body thead tr th{text-align:center}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;box-sizing:border-box;border:1px solid rgba(72,42,10,.1)}.markdown-body blockquote{position:relative;text-size-adjust:100%;line-height:25px;font-weight:400;border-radius:10px;font-style:normal;text-align:left;box-sizing:inherit;border:1px solid #ffd87a;background-color:rgba(189,134,0,.5);margin:20px 0;padding:20px}.markdown-body blockquote p{color:#fff6e0;letter-spacing:2px;margin:0}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;color:#cc9100;font-size:34px;font-weight:700}.markdown-body blockquote:before{content:"â";top:8px;left:5px}.markdown-body blockquote:after{content:"â";right:5px;bottom:-5px}.markdown-body strong{color:#c28a00;font-weight:bolder}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{color:#c28a00}.markdown-body em strong{font-style:normal;color:#c28a00;background-color:#8a6200}.markdown-body s{color:#c28a00}.markdown-body hr{border-top:1px solid #805b00}.markdown-body code,.markdown-body li code,.markdown-body p code{color:#996d00;background-color:rgba(130,98,0,.3)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit;color:#858585;font-family:bold;letter-spacing:1px}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection,.markdown-body img::selection{color:rgba(189,134,0,.5);background-color:#fff}.markdown-body a::selection,.markdown-body b::selection,.markdown-body del::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:transparent}.markdown-body pre&gt;code::selection{background-color:rgba(189,134,0,.5)}.markdown-body .math .math-inline::selection,.markdown-body blockquote::selection,.markdown-body ol::selection,.markdown-body p::selection,.markdown-body strong::selection,.markdown-body table::selection,.markdown-body ul::selection{background-color:rgba(189,134,0,.5)}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ¯ ä¸€ã€å°å›¢é˜Ÿçš„é­…åŠ›ï¼šå°‘å³æ˜¯å¤šçš„å·¥ç¨‹å­¦</h2>
<p>åœ¨è®¡ç®—æœºç§‘å­¦çš„ä¸–ç•Œé‡Œï¼Œ<strong>è§„æ¨¡</strong>å¹¶ä¸æ€»æ˜¯åŠ›é‡ã€‚<br/>
çœŸæ­£çš„æŠ€æœ¯å¥‡è¿¹ï¼Œå¾€å¾€æ¥è‡ªé‚£äº›<strong>å°è€Œç¾çš„æ ¸å¿ƒå›¢é˜Ÿ</strong>ã€‚</p>
<p>æƒ³æƒ³çœ‹ ğŸ‘‡</p>
<ul>
<li>UNIX æ˜¯å‡ ä½è´å°”å®éªŒå®¤çš„å¤©æ‰å·¥ç¨‹å¸ˆåœ¨é»‘æ¿å‰èƒ¡æ€ä¹±æƒ³çš„äº§ç‰©ï¼›</li>
<li>Git æœ€åˆåªæ˜¯ Linus ä¸ºæ–¹ä¾¿ç®¡ç†å†…æ ¸å†™çš„â€œå°ç©å…·â€ï¼›</li>
<li>æ—©æœŸçš„ Slack åªæ˜¯æ¸¸æˆå¤±è´¥åçš„å‰¯äº§å“é¡¹ç›®ã€‚</li>
</ul>
<p>ä»–ä»¬éƒ½è¯æ˜äº†ï¼š<strong>å½“äººæ•°å˜å°‘ï¼Œçµæ„Ÿå˜å¤šï¼›å½“æµç¨‹ç¼©æ°´ï¼Œä»£ç å˜æ´»ã€‚</strong></p>
<hr/>
<h2 data-id="heading-1">ğŸ§© äºŒã€åº•å±‚åŸç†ï¼šä¸ºä»€ä¹ˆå°å›¢é˜Ÿæ›´å®¹æ˜“â€œè§¦åº•åå¼¹â€ï¼Ÿ</h2>
<p>åœ¨åˆ†å¸ƒå¼ç³»ç»ŸåŸç†é‡Œï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªæ ¸å¿ƒå®šå¾‹ï¼š<br/>
å½“èŠ‚ç‚¹å¢åŠ ï¼Œ<strong>é€šä¿¡å¤æ‚åº¦ä¼šå‘ˆå¹³æ–¹çº§å¢é•¿</strong>ã€‚</p>
<p>æ¢å¥è¯è¯´ï¼Œ10 ä¸ªäººçš„å›¢é˜Ÿå¹¶ä¸æ˜¯ 2 å€çš„ 5 ä¸ªäººï¼Œè€Œæ˜¯ï¼š</p>
<blockquote>
<p>â€œ5 ä¸ªäººçš„ NÂ²å€çš„æ··ä¹±â€ ğŸ¤¯</p>
</blockquote>
<p>åœ¨ä¸€ä¸ªå°æ ¸å¿ƒå›¢é˜Ÿä¸­ï¼š</p>
<ol>
<li><strong>é€šä¿¡è·¯å¾„æœ€çŸ­</strong>ï¼ˆé€šå¸¸å°±æ˜¯â€œå–Šä¸€å—“å­â€çº§åˆ«ï¼‰ï¼›</li>
<li><strong>ä¸€è‡´æ€§ç»´æŠ¤ç®€å•</strong>ï¼ˆå¤§å®¶éƒ½å¿ƒé‡Œè£…ç€é‚£æ¡â€œä¸»åˆ†æ”¯â€çš„ç²¾ç¥ï¼‰ï¼›</li>
<li><strong>ååŒä»£ä»·ä½</strong>ï¼ˆæ²¡æœ‰â€œç®¡ç†å¼‚æ­¥IOâ€çš„çƒ¦æ¼ï¼‰ï¼›</li>
</ol>
<p>è¿™å°±åƒä¸€ä¸ª<strong>çº¿ç¨‹å®‰å…¨çš„é«˜æ•ˆå•è¿›ç¨‹æ¨¡å‹</strong>ï¼š</p>
<ul>
<li>å°‘é”ï¼›</li>
<li>é«˜å¹¶å‘ï¼›</li>
<li>å»¶è¿Ÿä½ï¼›</li>
<li>è°ƒåº¦ä¼˜é›…ã€‚</li>
</ul>
<p>å¦‚æœå›¢é˜Ÿå¤ªå¤§ï¼Œå°±åƒæ“ä½œç³»ç»Ÿé‡ŒåŒæ—¶è·‘ 999 ä¸ªçº¿ç¨‹ï¼Œ<br/>
å“ªæ€•æœ‰ç€æœ€å…ˆè¿›çš„è°ƒåº¦ç®—æ³•ï¼Œä¹Ÿç»ˆä¼šé™·å…¥ context switching çš„åœ°ç‹± ğŸ”¥ã€‚</p>
<hr/>
<h2 data-id="heading-2">ğŸ§™â€â™‚ï¸ ä¸‰ã€å¥‡è¿¹çš„å½¢å¼ï¼šå½“å°å›¢é˜Ÿâ€œåˆå¿ƒååŠ›â€</h2>
<h3 data-id="heading-3">1. <strong>ä»£ç çš„è‰ºæœ¯åŒ–</strong></h3>
<p>å½“å·¥ç¨‹å¸ˆå°‘äº†ï¼Œä»£ç çš„é£æ ¼å´æ›´çº¯ç²¹ã€‚<br/>
æ¯ä¸€æ¬¡ commit å°±åƒè¯—äººæ‰“ç£¨å¥å­ï¼Œæ¯ä¸€ä¸ªå‡½æ•°åƒæ˜¯ä¸€é¦–çŸ­ç¯‡ä¿³å¥ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¸€ä¸ªå°å›¢é˜Ÿçš„å¿ƒæ€ç¤ºæ„å›¾</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">buildSomethingBeautiful</span>(<span class="hljs-params">idea, people</span>) {
  <span class="hljs-keyword">if</span> (people.<span class="hljs-property">length</span> &gt; <span class="hljs-number">5</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"Too many cooks spoil the code!"</span>);
  <span class="hljs-keyword">return</span> idea
    .<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">i</span> =&gt;</span> i.<span class="hljs-title function_">trim</span>())
    .<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">i</span> =&gt;</span> <span class="hljs-title function_">refactor</span>(i))
    .<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">product, concept</span>) =&gt;</span> product + <span class="hljs-string">"âœ¨"</span> + concept);
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">buildSomethingBeautiful</span>([<span class="hljs-string">"Simple idea"</span>, <span class="hljs-string">"Clear mind"</span>], [<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>, <span class="hljs-string">"C"</span>]));
</code></pre>
<p>ğŸ‘‰ è¿™ä¸æ˜¯ä»€ä¹ˆæ¡†æ¶ä»£ç ï¼Œè€Œæ˜¯ä¸€ç§ä¿¡ä»°ï¼š</p>
<blockquote>
<p>â€œæˆ‘ä»¬å¯ä»¥ç”¨å°‘é‡çš„äººï¼Œå†™å‡ºé«˜è´¨é‡çš„ä¸–ç•Œã€‚â€</p>
</blockquote>
<hr/>
<h3 data-id="heading-4">2. <strong>åˆ›æ–°çš„çˆ†å‘ç‚¹</strong></h3>
<p>å°å›¢é˜Ÿåœ¨é¢å¯¹é—®é¢˜æ—¶ï¼Œå†³ç­–æå¿«ã€‚<br/>
ä»–ä»¬çš„å·¥ä½œæ–¹å¼åƒæ˜¯äº‹ä»¶é©±åŠ¨(event-driven)ï¼š</p>
<ul>
<li><strong>è§¦å‘äº‹ä»¶</strong>ï¼šå®¢æˆ·åé¦ˆæˆ–å†…å¿ƒçµæ„Ÿï¼›</li>
<li><strong>å¤„ç†äº‹ä»¶</strong>ï¼šç«‹åˆ»æå‡ºæ–¹æ¡ˆï¼Œå¿«é€Ÿè¿­ä»£ï¼›</li>
<li><strong>å›è°ƒåé¦ˆ</strong>ï¼šéªŒè¯æ€è·¯ï¼Œæ›´æ–°äº§å“ã€‚</li>
</ul>
<p>è€Œä¸æ˜¯è¢«ä¼šè®®æ‹–å®ã€è¢«æ–‡æ¡£æ·¹æ²¡çš„æ¶ˆæ¯é˜Ÿåˆ—ğŸ—‚ï¸ã€‚<br/>
ä»–ä»¬å°±åƒä¸€ä¸ªä½å»¶è¿Ÿçš„ååº”å¼ç³»ç»Ÿï¼š<strong>æ€ç»´å³æ‰§è¡Œ</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-5">3. <strong>æ–‡åŒ–çš„å‡å›ºç‚¹</strong></h3>
<p>åœ¨å¤§å›¢é˜Ÿï¼Œä½ å¯èƒ½è¿éš”å£æ¡Œçš„äººéƒ½ä¸è®¤è¯†ï¼›<br/>
åœ¨å°å›¢é˜Ÿï¼Œå¤§å®¶ä¸ä»…è®¤è¯†ï¼Œè¿˜èƒ½äº’ç›¸åæ§½ã€å¯¹æ‹ã€é—­çœ¼åˆç¼–ã€‚</p>
<p>è¿™å°±åƒä¸€ä¸ªæç¨³å®šçš„æ“ä½œç³»ç»Ÿå†…æ ¸ï¼š</p>
<ul>
<li>æˆå‘˜ä¹‹é—´çš„ä¿¡ä»» â†’ å†…å­˜ä¸€è‡´æ€§åè®®ï¼›</li>
<li>å…±äº«çš„ç›®æ ‡ â†’ å…¨å±€é”ï¼›</li>
<li>ç†è§£ä¸é»˜å¥‘ â†’ CPU cache çƒ­æ•°æ®ã€‚</li>
</ul>
<p>è¿™ç§æ–‡åŒ–æ˜¯æ— æ³•æ‰©å®¹çš„ï¼Œå®ƒæ˜¯ä¸€ç§<strong>ç¼–è¯‘æœŸçš„è”ç»“</strong>ï¼Œè€Œéè¿è¡Œæ—¶çš„ä¸´æ—¶ç»‘å®š ğŸ’»â¤ï¸ã€‚</p>
<hr/>
<h2 data-id="heading-6">ğŸ§¬ å››ã€åº•å±‚é€»è¾‘ï¼šå°å›¢é˜Ÿçš„â€œæ•ˆç‡æ–¹ç¨‹â€</h2>
<p>è™½ç„¶æˆ‘ä»¬ä¸å†™å…¬å¼ï¼Œä½†å¯ä»¥å£å¤´æè¿°ä¸€ç§â€œæ•ˆç‡æ›²çº¿â€ï¼š</p>
<blockquote>
<p>å½“å›¢é˜Ÿè§„æ¨¡ä» 1 å¢è‡³ 5 æ—¶ï¼Œæ•ˆç‡æ€¥å‰§ä¸Šå‡ï¼›<br/>
ä½†ä¸€æ—¦è¶…è¿‡ 7ï¼Œæ²Ÿé€šæˆæœ¬ï¼ˆCï¼‰å¼€å§‹æŒ‡æ•°çˆ†ç‚¸ï¼Œ<br/>
æœ€ç»ˆæ•ˆç‡ï¼ˆEï¼‰éšä¹‹å´©æºƒã€‚</p>
</blockquote>
<p>æ‰€ä»¥æœ€ç¾çš„çŠ¶æ€æ˜¯ï¼š<br/>
<strong>æ ¸å¿ƒ 3~5 äººï¼Œå¿ƒæœ‰çµçŠ€ä¸€ç‚¹é€šã€‚</strong></p>
<p>ä»–ä»¬å…±äº«è®°å¿†ï¼Œå…±åŒè°ƒåº¦ï¼Œåƒ CPU çš„å¤šæ ¸ Cache ä¸€æ ·é«˜æ•ˆåŒæ­¥ã€‚<br/>
æ²¡æœ‰ä¸­é—´ä»¶ï¼Œæ²¡æœ‰äº‹åŠ¡é”ï¼Œåªæœ‰â€œä¿¡ä»»ç›´è¿â€ã€‚</p>
<hr/>
<h2 data-id="heading-7">ğŸš€ äº”ã€ç»“è¯­ï¼šå°å›¢é˜Ÿï¼Œå¤§å®‡å®™</h2>
<p>ä¸€ä¸ªå°å›¢é˜Ÿä¸æ˜¯ä¸€ä¸ªå…¬å¸è§„æ¨¡çš„è±¡å¾ï¼Œ<br/>
è€Œæ˜¯ä¸€ç§å“²å­¦ï¼Œä¸€ç§å¯¹<strong>çº¯å‡€å·¥ç¨‹ç²¾ç¥</strong>çš„åšæŒã€‚</p>
<p><strong>ç»“è¯­ä¸€å¥è¯ï¼š</strong></p>
<blockquote>
<p>â€œå°è€Œç¾çš„å›¢é˜Ÿï¼Œä¸æ˜¯å°‘ï¼Œè€Œæ˜¯åˆšåˆšå¥½ã€‚â€ ğŸ’«</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€æ€»ç»“æ•´ç†ã€‘è½¯ä»¶æµ‹è¯•çš„åæ¨¡å¼]]></title>    <link>https://juejin.cn/post/7595029084285059126</link>    <guid>https://juejin.cn/post/7595029084285059126</guid>    <pubDate>2026-01-15T02:44:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595029084285059126" data-draft-id="7595056696516902931" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€æ€»ç»“æ•´ç†ã€‘è½¯ä»¶æµ‹è¯•çš„åæ¨¡å¼"/> <meta itemprop="keywords" content="æµ‹è¯•,å•å…ƒæµ‹è¯•"/> <meta itemprop="datePublished" content="2026-01-15T02:44:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="databook"/> <meta itemprop="url" content="https://juejin.cn/user/3526889035006702"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€æ€»ç»“æ•´ç†ã€‘è½¯ä»¶æµ‹è¯•çš„åæ¨¡å¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3526889035006702/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    databook
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-15T02:44:24.000Z" title="Thu Jan 15 2026 02:44:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘çœ‹åˆ°ä¸€ç¯‡ä»‹ç»è½¯ä»¶æµ‹è¯•ç›¸å…³çš„æ–‡ç« ï¼Œæ–‡ç« è™½ç„¶æ¯”è¾ƒæ—©ï¼ˆ2018å¹´çš„ï¼‰ï¼Œä½†æ˜¯å…¶ä¸­çš„è§‚ç‚¹ä¾ç„¶é€‚ç”¨ã€‚</p>
<p>åœ¨ç›®å‰AIç››è¡Œçš„æ—¶å€™ï¼Œè½¯ä»¶æµ‹è¯•ä¹Ÿå¿…ç„¶è¿æ¥å®ƒçš„å˜åŒ–ã€‚</p>
<p>æˆ‘æŠŠæ–‡ç« ä¸­çš„è¦ç‚¹æ•´ç†äº†ä¸€ä¸‹ï¼Œè¿™äº›æµ‹è¯•çš„åæ¨¡å¼æ¶µç›–äº†ä»æµ‹è¯•ç­–ç•¥ã€ä»£ç è´¨é‡åˆ°å¿ƒæ€ç®¡ç†çš„å„ä¸ªæ–¹é¢ã€‚</p>
<p>åŸæ–‡çš„é“¾æ¥æ”¾åœ¨äº†æ–‡ç« çš„æœ«å°¾ã€‚</p>
<h3 data-id="heading-0">1. åªæœ‰å•å…ƒæµ‹è¯•ï¼Œæ²¡æœ‰é›†æˆæµ‹è¯• (Having unit tests without integration tests)</h3>
<ul>
<li><strong>é—®é¢˜</strong>ï¼šå³ä½¿æ‰€æœ‰ç‹¬ç«‹çš„ç±»/æ–¹æ³•éƒ½é€šè¿‡äº†æµ‹è¯•ï¼Œä½†åœ¨å®é™…è¿è¡Œæ—¶ï¼Œç»„ä»¶ä¹‹é—´çš„è¿æ¥ï¼ˆæ•°æ®åº“ã€ç½‘ç»œã€å¤–éƒ¨APIï¼‰å¯èƒ½ä¼šå¤±è´¥ã€‚</li>
<li><strong>ç›²ç‚¹</strong>ï¼šå•å…ƒæµ‹è¯•æ— æ³•è¦†ç›–è·¨åˆ‡é¢å…³æ³¨ç‚¹ï¼ˆCross-cutting concernsï¼‰ï¼Œå¦‚äº‹åŠ¡å¤„ç†ã€SQLè§¦å‘å™¨ã€APIå¥‘çº¦ä¸åŒ¹é…ç­‰ã€‚</li>
<li><strong>å»ºè®®</strong>ï¼šé™¤éæ˜¯å®Œå…¨éš”ç¦»çš„å·¥å…·ï¼ˆå¦‚å‘½ä»¤è¡Œè®¡ç®—å™¨ï¼‰ï¼Œå¦åˆ™å¿…é¡»å¼•å…¥é›†æˆæµ‹è¯•æ¥éªŒè¯ç³»ç»Ÿå„éƒ¨åˆ†çš„åä½œã€‚</li>
</ul>
<h3 data-id="heading-1">2. åªæœ‰é›†æˆæµ‹è¯•ï¼Œæ²¡æœ‰å•å…ƒæµ‹è¯• (Having integration tests without unit tests)</h3>
<ul>
<li><strong>é—®é¢˜</strong>ï¼šé€šå¸¸ç”±è®¤ä¸ºâ€œå•å…ƒæµ‹è¯•æ²¡ç”¨â€çš„å¼€å‘è€…é€ æˆã€‚</li>
<li><strong>ä»£ä»·</strong>ï¼š
<ul>
<li><strong>å¤æ‚åº¦çˆ†ç‚¸</strong>ï¼šè¦è¦†ç›–æ‰€æœ‰ä»£ç è·¯å¾„çš„ç»„åˆï¼Œé›†æˆæµ‹è¯•çš„æ•°é‡ä¼šå‘ˆæŒ‡æ•°çº§å¢é•¿ï¼Œéš¾ä»¥ç»´æŠ¤ã€‚</li>
<li><strong>æ‰§è¡Œææ…¢</strong>ï¼šåé¦ˆå¾ªç¯å¤ªé•¿ï¼ˆä»å‡ ç§’å˜ä¸ºå‡ åˆ†é’Ÿç”šè‡³æ›´ä¹…ï¼‰ï¼Œé™ä½å¼€å‘æ•ˆç‡ã€‚</li>
<li><strong>è°ƒè¯•å›°éš¾</strong>ï¼šæµ‹è¯•å¤±è´¥æ—¶ï¼Œéš¾ä»¥å¿«é€Ÿå®šä½æ˜¯å“ªä¸ªç»„ä»¶å‡ºäº†é—®é¢˜ã€‚</li>
</ul>
</li>
<li><strong>å»ºè®®</strong>ï¼šéµå¾ªæµ‹è¯•é‡‘å­—å¡”ï¼Œç”¨å¤§é‡å•å…ƒæµ‹è¯•è¦†ç›–ä¸šåŠ¡é€»è¾‘ï¼Œç”¨å°‘é‡é›†æˆæµ‹è¯•è¦†ç›–ç»„ä»¶äº¤äº’ã€‚</li>
</ul>
<h3 data-id="heading-2">3. åªæœ‰é”™è¯¯ç±»å‹çš„æµ‹è¯• (Having the wrong kind of tests)</h3>
<ul>
<li><strong>é—®é¢˜</strong>ï¼šç›²ç›®ç…§æ¬â€œæµ‹è¯•é‡‘å­—å¡”â€ï¼Œè€Œä¸è€ƒè™‘åº”ç”¨çš„å®é™…ç±»å‹ã€‚</li>
<li><strong>åœºæ™¯åŒºåˆ†</strong>ï¼š
<ul>
<li><strong>è®¡ç®—å‹å·¥å…·</strong>ï¼ˆå¦‚Linuxå‘½ä»¤ï¼‰ï¼šåº”ä»¥å•å…ƒæµ‹è¯•ä¸ºä¸»ã€‚</li>
<li><strong>æ”¯ä»˜ç½‘å…³</strong>ï¼ˆé‡å¤–éƒ¨äº¤äº’ï¼‰ï¼šåº”ä»¥é›†æˆæµ‹è¯•ä¸ºä¸»ã€‚</li>
<li><strong>ç½‘ç«™ç”Ÿæˆå™¨</strong>ï¼ˆé‡äº¤äº’ä½“éªŒï¼‰ï¼šåº”ä»¥UIæµ‹è¯•ä¸ºä¸»ã€‚</li>
</ul>
</li>
<li><strong>è¦ç‚¹</strong>ï¼šæ ¹æ®ä¸šåŠ¡ä»·å€¼å†³å®šæµ‹è¯•ç±»å‹ï¼Œè€Œä¸æ˜¯æ­»å®ˆä¸€ç§å½¢çŠ¶ã€‚</li>
</ul>
<h3 data-id="heading-3">4. æµ‹è¯•é”™è¯¯çš„åŠŸèƒ½ (Testing the wrong functionality)</h3>
<ul>
<li><strong>é—®é¢˜</strong>ï¼šä¸ºäº†è¿½æ±‚è¦†ç›–ç‡è€Œæµ‹è¯•æ— å…³ç´§è¦çš„ä»£ç ï¼ˆå¦‚ç®€å•çš„ Getter/Setterï¼‰ï¼Œå´å¿½è§†äº†æ ¸å¿ƒé£é™©ã€‚</li>
<li><strong>ç­–ç•¥</strong>ï¼šå»ºç«‹â€œä»£ç ä¸¥é‡æ€§â€å¿ƒç†æ¨¡å‹ï¼š
<ul>
<li><strong>å…³é”®ä»£ç  (Critical)</strong>ï¼šç»å¸¸å˜æ›´ã€ç»å¸¸å‡ºé”™ã€ä¸šåŠ¡å½±å“å¤§ -&gt; <strong>å¿…é¡»è¦†ç›–</strong>ã€‚</li>
<li><strong>æ ¸å¿ƒä»£ç  (Core)</strong>ï¼šå¶å°”å˜æ›´ -&gt; å°½é‡è¦†ç›–ã€‚</li>
<li><strong>å…¶ä»–ä»£ç  (Other)</strong>ï¼šå‡ ä¹ä¸å˜ -&gt; æ²¡å¿…è¦æµªè´¹æ—¶é—´ã€‚</li>
</ul>
</li>
<li><strong>å»ºè®®</strong>ï¼šä¼˜å…ˆè¦†ç›–é‚£ 20% å¯¼è‡´ 80% é—®é¢˜çš„å…³é”®ä»£ç ã€‚</li>
</ul>
<h3 data-id="heading-4">5. æµ‹è¯•å†…éƒ¨å®ç°ç»†èŠ‚ (Testing internal implementation)</h3>
<ul>
<li><strong>é—®é¢˜</strong>ï¼šæµ‹è¯•ä¸ä»£ç çš„<strong>å®ç°æ–¹å¼</strong>ç´§å¯†è€¦åˆï¼Œè€Œä¸æ˜¯éªŒè¯<strong>è¡Œä¸º</strong>ã€‚</li>
<li><strong>åæœ</strong>ï¼šé‡æ„ä»£ç ï¼ˆRefactoringï¼‰æ—¶ï¼Œå³ä½¿ä¸šåŠ¡é€»è¾‘æ²¡å˜ï¼Œæµ‹è¯•ä¹Ÿä¼šæŠ¥é”™ã€‚è¿™ä¼šå¯¼è‡´å¼€å‘è€…è®¤ä¸ºâ€œæµ‹è¯•æ˜¯ç´¯èµ˜â€ã€‚</li>
<li><strong>å»ºè®®</strong>ï¼šæµ‹è¯•åº”è¯¥å…³æ³¨è¾“å…¥å’Œè¾“å‡ºï¼ˆè¡Œä¸ºï¼‰ï¼Œè€Œéå¯¹è±¡å†…éƒ¨çš„çŠ¶æ€æˆ–ç§æœ‰å­—æ®µã€‚</li>
</ul>
<h3 data-id="heading-5">6. è¿‡åº¦å…³æ³¨ä»£ç è¦†ç›–ç‡ (Paying excessive attention to test coverage)</h3>
<ul>
<li><strong>é—®é¢˜</strong>ï¼šå°†è¦†ç›–ç‡ï¼ˆå¦‚ 100%ï¼‰è§†ä¸ºå”¯ä¸€çš„è´¨é‡æŒ‡æ ‡ï¼Œå¯¼è‡´å‡ºç°å¤§é‡ä¸ºäº†åˆ·æ•°æ®çš„ä½è´¨é‡æµ‹è¯•ã€‚</li>
<li><strong>è§‚ç‚¹</strong>ï¼šè¦†ç›–ç‡åªæ˜¯ä¸€ä¸ªå‚è€ƒæ•°å­—ã€‚é«˜è¦†ç›–ç‡ä¸ä»£è¡¨æ—  Bugã€‚</li>
<li><strong>æ›´å¥½çš„æŒ‡æ ‡</strong>ï¼š
<ul>
<li><strong>PDWT</strong>ï¼šå†™æµ‹è¯•çš„å¼€å‘äººå‘˜ç™¾åˆ†æ¯”ï¼ˆåº”ä¸º100%ï¼‰ã€‚</li>
<li><strong>PBCNT</strong>ï¼šç”Ÿäº§ç¯å¢ƒ Bug è½¬åŒ–ä¸ºæ–°æµ‹è¯•çš„ç™¾åˆ†æ¯”ã€‚</li>
<li><strong>PTD</strong>ï¼šç¡®å®šæ€§ï¼ˆéä¸ç¨³å®šï¼‰æµ‹è¯•çš„ç™¾åˆ†æ¯”ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-6">7. æ‹¥æœ‰ä¸ç¨³å®šæˆ–ç¼“æ…¢çš„æµ‹è¯• (Having flaky or slow tests)</h3>
<ul>
<li><strong>é—®é¢˜</strong>ï¼šæµ‹è¯•æ—¶è¿‡æ—¶æŒ‚ï¼ˆFlakyï¼‰ï¼Œå¯¼è‡´å›¢é˜Ÿå¤±å»ä¿¡ä»»ï¼Œå¿½ç•¥æµ‹è¯•ç»“æœã€‚</li>
<li><strong>æ¥æº</strong>ï¼šé€šå¸¸æ˜¯é›†æˆæµ‹è¯•æˆ– UI æµ‹è¯•ï¼Œæºäºç¯å¢ƒä¸ç¨³æˆ–å¼‚æ­¥å¤„ç†ä¸å½“ã€‚</li>
<li><strong>å»ºè®®</strong>ï¼šå¿…é¡»ä¿®å¤æˆ–éš”ç¦»ä¸ç¨³å®šæµ‹è¯•ã€‚æµ‹è¯•å¥—ä»¶å¿…é¡»æ˜¯ç»å¯¹å¯é ï¼ˆDeterministicï¼‰çš„ï¼Œä»»ä½•å¤±è´¥éƒ½åº”ä»£è¡¨çœŸå®çš„ä»£ç é—®é¢˜ã€‚</li>
</ul>
<h3 data-id="heading-7">8. æ‰‹åŠ¨è¿è¡Œæµ‹è¯• (Running tests manually)</h3>
<ul>
<li><strong>é—®é¢˜</strong>ï¼šä¾èµ–äººå·¥è§¦å‘æµ‹è¯•æˆ–äººå·¥å‡†å¤‡ç¯å¢ƒï¼Œæ— æ³•å®ç°çœŸæ­£çš„ CI/CDã€‚</li>
<li><strong>ç›®æ ‡</strong>ï¼šæ‰€æœ‰ä¸ä»£ç æ­£ç¡®æ€§ç›¸å…³çš„æµ‹è¯•ï¼ˆå•å…ƒ/é›†æˆï¼‰å¿…é¡»å®Œå…¨è‡ªåŠ¨åŒ–ã€‚</li>
<li><strong>æ ‡å‡†</strong>ï¼šå¼€å‘è€…æäº¤ä»£ç åï¼Œåº”åœ¨ 5-15 åˆ†é’Ÿå†…è‡ªåŠ¨è·å¾—åé¦ˆã€‚QA åº”ä¸“æ³¨äºè®¾è®¡æ–°æµ‹è¯•ï¼Œè€Œä¸æ˜¯å……å½“â€œæµ‹è¯•è¿è¡Œå™¨â€ã€‚</li>
</ul>
<h3 data-id="heading-8">9. å°†æµ‹è¯•ä»£ç è§†ä¸ºäºŒç­‰å…¬æ°‘ (Treating test code as a second class citizen)</h3>
<ul>
<li><strong>é—®é¢˜</strong>ï¼šç”Ÿäº§ä»£ç å†™å¾—å¾ˆæ¼‚äº®ï¼Œæµ‹è¯•ä»£ç å´å……æ»¡äº†å¤åˆ¶ç²˜è´´ã€ç¡¬ç¼–ç å’Œç³Ÿç³•çš„è®¾è®¡ã€‚</li>
<li><strong>åæœ</strong>ï¼šæµ‹è¯•ä»£ç éš¾ä»¥ç»´æŠ¤ï¼Œä¿®æ”¹æˆæœ¬é«˜æ˜‚ï¼Œæœ€ç»ˆè¢«æŠ›å¼ƒã€‚</li>
<li><strong>å»ºè®®</strong>ï¼šå¯¹æµ‹è¯•ä»£ç åº”ç”¨åŒæ ·çš„å·¥ç¨‹æ ‡å‡†ï¼ˆDRY, KISS, SOLIDï¼‰ã€‚é‡æ„æµ‹è¯•ä»£ç ï¼Œæå–å…¬å…±åº“åŠ Helper æ–¹æ³•ã€‚</li>
</ul>
<h3 data-id="heading-9">10. ä¸å°†ç”Ÿäº§ç¯å¢ƒ Bug è½¬åŒ–ä¸ºæµ‹è¯• (Not converting production bugs to tests)</h3>
<ul>
<li><strong>é—®é¢˜</strong>ï¼šä¿®å¤äº† Bug ä½†æœªæ·»åŠ å›å½’æµ‹è¯•ï¼Œå¯¼è‡´åŒæ ·çš„é—®é¢˜åœ¨æœªæ¥é‡å¤å‡ºç°ã€‚</li>
<li><strong>ä»·å€¼</strong>ï¼šæºè‡ªç”Ÿäº§ç¯å¢ƒçš„ Bug æµ‹è¯•ä»·å€¼æé«˜ï¼Œå› ä¸ºå®ƒä»¬ç›´æ¥å¯¹åº”äº†çœŸå®ä¸–ç•Œçš„ç—›ç‚¹å’Œé«˜é£é™©åŒºåŸŸã€‚</li>
<li><strong>è§„åˆ™</strong>ï¼šæ¯ä¸€ä¸ªçº¿ä¸Š Bug çš„ä¿®å¤ï¼Œéƒ½å¿…é¡»ä¼´éšä¸€ä¸ªèƒ½å¤ç°è¯¥ Bug çš„æµ‹è¯•ç”¨ä¾‹ã€‚</li>
</ul>
<h3 data-id="heading-10">11. å°† TDD å¥‰ä¸ºå®—æ•™ (Treating TDD as a religion)</h3>
<ul>
<li><strong>é—®é¢˜</strong>ï¼šæ•™æ¡å¼åœ°è¦æ±‚æ‰€æœ‰ä»£ç éƒ½å¿…é¡»â€œå…ˆå†™æµ‹è¯•å†å†™å®ç°â€ã€‚</li>
<li><strong>ç°å®</strong>ï¼šåœ¨æ¢ç´¢æ€§ç¼–ç¨‹ï¼ˆSpikeï¼‰ã€åŸå‹è®¾è®¡æˆ–ææ—©æœŸåˆåˆ›é˜¶æ®µï¼Œåè¡¥æµ‹è¯•æˆ–ä¸å†™æµ‹è¯•ä¹Ÿæ˜¯åˆç†çš„ç­–ç•¥ã€‚</li>
<li><strong>å»ºè®®</strong>ï¼šTDD æ˜¯ä¸€ä¸ªå¥½å·¥å…·ï¼Œä½†ä¸æ˜¯å”¯ä¸€çš„çœŸç†ã€‚æ ¹æ®é¡¹ç›®é˜¶æ®µå’Œéœ€æ±‚æ¸…æ™°åº¦çµæ´»é€‰æ‹©ã€‚</li>
</ul>
<h3 data-id="heading-11">12. å†™æµ‹è¯•ä¸çœ‹æ–‡æ¡£ (Writing tests without reading documentation first)</h3>
<ul>
<li><strong>é—®é¢˜</strong>ï¼šå› ä¸ºä¸ç†Ÿæ‚‰æµ‹è¯•æ¡†æ¶ï¼Œè‡ªå·±é€ è½®å­å†™å„ç§ç¬¨æ‹™çš„â€œå·¥å…·æ–¹æ³•â€ã€‚</li>
<li><strong>åæœ</strong>ï¼šæµ‹è¯•ä»£ç æ™¦æ¶©éš¾æ‡‚ï¼Œéæ ‡å‡†åŒ–çš„å†™æ³•å¢åŠ äº†æ–°äººçš„å­¦ä¹ æˆæœ¬ã€‚</li>
<li><strong>å»ºè®®</strong>ï¼šæ·±å…¥å­¦ä¹ æµ‹è¯•æ¡†æ¶çš„åŠŸèƒ½ï¼ˆå¦‚å‚æ•°åŒ–æµ‹è¯•ã€Mock å·¥å…·ã€Setup/Teardown æœºåˆ¶ï¼‰ï¼Œä½¿ç”¨æ ‡å‡†åº“è€Œéè‡ªåˆ¶åœŸæ–¹ã€‚</li>
</ul>
<h3 data-id="heading-12">13. å› æ— çŸ¥è€Œè´¥åæµ‹è¯•çš„åå£° (Giving testing a bad reputation out of ignorance)</h3>
<ul>
<li><strong>é—®é¢˜</strong>ï¼šå¼€å‘è€…å› ä¸ºç»å†è¿‡ä¸Šè¿°åæ¨¡å¼ï¼ˆå¦‚ç»å†è¿‡ææ…¢çš„æµ‹è¯•ã€è„†å¼±çš„æµ‹è¯•ï¼‰ï¼Œä»è€Œå½»åº•å¦å®šæµ‹è¯•çš„ä»·å€¼ã€‚</li>
<li><strong>è§‚ç‚¹</strong>ï¼šä¸è¦å› ä¸ºé”™è¯¯çš„æµ‹è¯•æ–¹å¼ï¼ˆBad Habitsï¼‰è€Œå¦å®šæµ‹è¯•æœ¬èº«ã€‚</li>
<li><strong>å»ºè®®</strong>ï¼šè¯†åˆ«å¹¶æ‰¿è®¤è¿‡å»ç³Ÿç³•çš„æµ‹è¯•ä½“éªŒæ˜¯ç”±äºâ€œåæ¨¡å¼â€é€ æˆçš„ï¼Œåœ¨æ–°é¡¹ç›®ä¸­é‡‡ç”¨æ­£ç¡®çš„å®è·µã€‚</li>
</ul>
<p>åŸæ–‡ç« æ¥æºï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.codepipes.com%2Ftesting%2Fsoftware-testing-antipatterns.html" target="_blank" title="https://blog.codepipes.com/testing/software-testing-antipatterns.html" ref="nofollow noopener noreferrer">Software Testing Anti-patterns</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Spring Boot Adminç»ˆæç›‘æ§æ–¹æ¡ˆï¼šä»é›¶æ­å»ºä¼ä¸šçº§å¾®æœåŠ¡ç›‘æ§å¹³å°ï¼Œå«é«˜å¯ç”¨é›†ç¾¤é…ç½®]]></title>    <link>https://juejin.cn/post/7595164177254957082</link>    <guid>https://juejin.cn/post/7595164177254957082</guid>    <pubDate>2026-01-15T02:38:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595164177254957082" data-draft-id="7595147871939215406" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Spring Boot Adminç»ˆæç›‘æ§æ–¹æ¡ˆï¼šä»é›¶æ­å»ºä¼ä¸šçº§å¾®æœåŠ¡ç›‘æ§å¹³å°ï¼Œå«é«˜å¯ç”¨é›†ç¾¤é…ç½®"/> <meta itemprop="keywords" content="Spring Boot,ç›‘æ§,å¾®æœåŠ¡"/> <meta itemprop="datePublished" content="2026-01-15T02:38:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°åè¯´Java"/> <meta itemprop="url" content="https://juejin.cn/user/3898184413750203"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Spring Boot Adminç»ˆæç›‘æ§æ–¹æ¡ˆï¼šä»é›¶æ­å»ºä¼ä¸šçº§å¾®æœåŠ¡ç›‘æ§å¹³å°ï¼Œå«é«˜å¯ç”¨é›†ç¾¤é…ç½®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3898184413750203/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°åè¯´Java
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-15T02:38:12.000Z" title="Thu Jan 15 2026 02:38:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç¬¬10å¤©ï¼šæœåŠ¡ç›‘æ§ï¼Spring Boot Adminå®æ—¶ç›‘æ§ï¼Œè€æ¿å†ä¹Ÿä¸ç”¨æ‹…å¿ƒæœåŠ¡æŒ‚äº†æˆ‘è¿˜ä¸çŸ¥é“ğŸ˜±</h2>
<h3 data-id="heading-1">ä¸€ã€ç›‘æ§çš„ç—›ç‚¹ï¼šæœåŠ¡æŒ‚äº†ï¼Œæˆ‘æ˜¯æœ€åä¸€ä¸ªçŸ¥é“çš„ï¼</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1RVyYBZE4z%2F%3Fvd_source%3Dd9789da0ed994ac777a822cd5ea4cf30" target="_blank" title="https://www.bilibili.com/video/BV1RVyYBZE4z/?vd_source=d9789da0ed994ac777a822cd5ea4cf30" ref="nofollow noopener noreferrer">é›¶åŸºç¡€å…¨æ ˆå¼€å‘Javaå¾®æœåŠ¡ç‰ˆæœ¬å®æˆ˜-åç«¯-å‰ç«¯-è¿ç»´-å®æˆ˜ä¼ä¸šçº§ä¸‰ä¸ªå®æˆ˜é¡¹ç›®</a></p>
<p><strong>èµ„æºè·å–</strong>ï¼šå…³æ³¨å…¬ä¼—å·: å°åè¯´Java ï¼Œè·å–æœ¬æ–‡æ‰€æœ‰ç¤ºä¾‹ä»£ç ã€é…ç½®æ¨¡æ¿åŠå¯¼å‡ºå·¥å…·ã€‚</p>
<h4 data-id="heading-2">çœŸå®åœºæ™¯ï¼š</h4>
<p><strong>å‡Œæ™¨3ç‚¹ï¼Œè€æ¿ç”µè¯æ¥äº†</strong>ï¼š</p>
<ul>
<li>è€æ¿ï¼š"ç³»ç»ŸæŒ‚äº†ä½ çŸ¥é“å—ï¼Ÿï¼"</li>
<li>ä½ ï¼š"å•Šï¼Ÿæˆ‘çœ‹çœ‹...ï¼ˆç¡çœ¼æƒºå¿ªï¼‰"</li>
<li>è€æ¿ï¼š"ç”¨æˆ·éƒ½æŠ•è¯‰åŠå°æ—¶äº†ï¼"</li>
<li>ä½ ï¼š"ç›‘æ§æ²¡å‘Šè­¦å•Š..."</li>
<li>è€æ¿ï¼š"è¦ä½ æœ‰å•¥ç”¨ï¼Ÿï¼"</li>
</ul>
<p><strong>æœ‰äº†Spring Boot Adminä¹‹å</strong>ï¼š</p>
<ul>
<li>ä½ çš„æ‰‹æœºå…ˆæ”¶åˆ°å‘Šè­¦</li>
<li>ä½ å·²ç»åœ¨å¤„ç†äº†</li>
<li>è€æ¿æ‰“ç”µè¯æ—¶ï¼Œä½ å·²ç»ä¿®å¤äº†</li>
<li>ä½ ï¼š"è€æ¿æ”¾å¿ƒï¼Œé—®é¢˜å·²è§£å†³ï¼Œç”¨æˆ·æ— æ„ŸçŸ¥~"</li>
<li>è€æ¿ï¼š"ğŸ‘"</li>
</ul>
<h3 data-id="heading-3">äºŒã€Spring Boot Adminï¼šå¾®æœåŠ¡çš„"è´´èº«ä¿é•–"ğŸ‘®</h3>
<h4 data-id="heading-4">ä¼ ç»Ÿç›‘æ§ vs Spring Boot Admin</h4>





























<table><thead><tr><th>ä¼ ç»Ÿç›‘æ§</th><th>Spring Boot Admin</th></tr></thead><tbody><tr><td>çœ‹æ—¥å¿—æ‰¾é—®é¢˜</td><td><strong>å¯è§†åŒ–</strong>ä¸€ç›®äº†ç„¶</td></tr><tr><td>æ‰‹åŠ¨æŸ¥è¿›ç¨‹</td><td><strong>è‡ªåŠ¨å‘ç°</strong>æœåŠ¡</td></tr><tr><td>ä¸çŸ¥é“å†…å­˜ç”¨äº†å¤šå°‘</td><td><strong>å®æ—¶å›¾è¡¨</strong>ç›‘æ§</td></tr><tr><td>é‡å¯äº†æ‰çŸ¥é“</td><td><strong>è‡ªåŠ¨å‘Šè­¦</strong>é€šçŸ¥</td></tr><tr><td>æ¯ä¸ªæœåŠ¡å•ç‹¬çœ‹</td><td><strong>é›†ä¸­ç®¡ç†</strong>æ‰€æœ‰æœåŠ¡</td></tr></tbody></table>
<h4 data-id="heading-5">Spring Boot Adminèƒ½å¹²å•¥ï¼Ÿ</h4>
<ol>
<li><strong>å¥åº·æ£€æŸ¥</strong>ï¼šå¿ƒè·³æ£€æµ‹ï¼ŒæœåŠ¡æ´»ç€æ²¡</li>
<li><strong>æ€§èƒ½ç›‘æ§</strong>ï¼šCPUã€å†…å­˜ã€çº¿ç¨‹æ± </li>
<li><strong>å®æ—¶æ—¥å¿—</strong>ï¼šä¸ç”¨ç™»å½•æœåŠ¡å™¨</li>
<li><strong>ç¯å¢ƒé…ç½®</strong>ï¼šä¸€çœ¼çœ‹åˆ°æ‰€æœ‰é…ç½®</li>
<li><strong>æŒ‡æ ‡æ”¶é›†</strong>ï¼šJVMã€æ•°æ®åº“ã€ç¼“å­˜</li>
<li><strong>å‘Šè­¦é€šçŸ¥</strong>ï¼šå¾®ä¿¡ã€é’‰é’‰ã€é‚®ä»¶</li>
<li><strong>å®‰å…¨ç®¡ç†</strong>ï¼šæƒé™æ§åˆ¶ï¼Œè°éƒ½èƒ½çœ‹ï¼Ÿ</li>
<li><strong>æ‰¹é‡æ“ä½œ</strong>ï¼šä¸€é”®é‡å¯ã€åˆ·æ–°é…ç½®</li>
</ol>
<h3 data-id="heading-6">ä¸‰ã€æ­å»ºSpring Boot AdminæœåŠ¡ç«¯ï¼ˆç›‘æ§ä¸­å¿ƒï¼‰</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1RVyYBZE4z%2F%3Fvd_source%3Dd9789da0ed994ac777a822cd5ea4cf30" target="_blank" title="https://www.bilibili.com/video/BV1RVyYBZE4z/?vd_source=d9789da0ed994ac777a822cd5ea4cf30" ref="nofollow noopener noreferrer">é›¶åŸºç¡€å…¨æ ˆå¼€å‘Javaå¾®æœåŠ¡ç‰ˆæœ¬å®æˆ˜-åç«¯-å‰ç«¯-è¿ç»´-å®æˆ˜ä¼ä¸šçº§ä¸‰ä¸ªå®æˆ˜é¡¹ç›®</a></p>
<p><strong>èµ„æºè·å–</strong>ï¼šå…³æ³¨å…¬ä¼—å·: å°åè¯´Java ï¼Œè·å–æœ¬æ–‡æ‰€æœ‰ç¤ºä¾‹ä»£ç ã€é…ç½®æ¨¡æ¿åŠå¯¼å‡ºå·¥å…·ã€‚</p>
<h4 data-id="heading-7">æ­¥éª¤1ï¼šåˆ›å»ºadmin-serveré¡¹ç›®</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- Spring Boot Admin Server --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>de.codecentric<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-admin-starter-server<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.7.10<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- Webæ”¯æŒ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- å®‰å…¨æ§åˆ¶ï¼ˆç”Ÿäº§ç¯å¢ƒå¿…åŠ ï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-security<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- é‚®ä»¶é€šçŸ¥ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-mail<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- é›†æˆNacosï¼ˆæœåŠ¡å‘ç°ï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba.cloud<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-cloud-starter-alibaba-nacos-discovery<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h4 data-id="heading-8">æ­¥éª¤2ï¼šé…ç½®æ–‡ä»¶ï¼ˆapplication.ymlï¼‰</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">server:</span>
  <span class="hljs-attr">port:</span> <span class="hljs-number">8888</span>  <span class="hljs-comment"># Admin Serverç«¯å£</span>

<span class="hljs-attr">spring:</span>
  <span class="hljs-attr">application:</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">admin-server</span>
  
  <span class="hljs-comment"># å®‰å…¨é…ç½®ï¼ˆç”Ÿäº§ç¯å¢ƒå¿…é¡»ï¼ï¼‰</span>
  <span class="hljs-attr">security:</span>
    <span class="hljs-attr">user:</span>
      <span class="hljs-attr">name:</span> <span class="hljs-string">admin</span>      <span class="hljs-comment"># ç”¨æˆ·å</span>
      <span class="hljs-attr">password:</span> <span class="hljs-string">admin123</span>  <span class="hljs-comment"># å¯†ç </span>
      <span class="hljs-attr">roles:</span> <span class="hljs-string">ADMIN</span>
  
  <span class="hljs-comment"># é‚®ä»¶é€šçŸ¥é…ç½®</span>
  <span class="hljs-attr">mail:</span>
    <span class="hljs-attr">host:</span> <span class="hljs-string">smtp.qq.com</span>
    <span class="hljs-attr">port:</span> <span class="hljs-number">587</span>
    <span class="hljs-attr">username:</span> <span class="hljs-string">your-email@qq.com</span>
    <span class="hljs-attr">password:</span> <span class="hljs-string">your-auth-code</span>  <span class="hljs-comment"># æˆæƒç ï¼Œä¸æ˜¯å¯†ç ï¼</span>
    <span class="hljs-attr">properties:</span>
      <span class="hljs-attr">mail:</span>
        <span class="hljs-attr">smtp:</span>
          <span class="hljs-attr">auth:</span> <span class="hljs-literal">true</span>
          <span class="hljs-attr">starttls:</span>
            <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span>
            <span class="hljs-attr">required:</span> <span class="hljs-literal">true</span>
  
  <span class="hljs-comment"># NacosæœåŠ¡å‘ç°</span>
  <span class="hljs-attr">cloud:</span>
    <span class="hljs-attr">nacos:</span>
      <span class="hljs-attr">discovery:</span>
        <span class="hljs-attr">server-addr:</span> <span class="hljs-string">localhost:8848</span>

<span class="hljs-comment"># Spring Boot Adminé…ç½®</span>
<span class="hljs-attr">spring:</span>
  <span class="hljs-attr">boot:</span>
    <span class="hljs-attr">admin:</span>
      <span class="hljs-comment"># é€šçŸ¥é…ç½®</span>
      <span class="hljs-attr">notify:</span>
        <span class="hljs-attr">mail:</span>
          <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>  <span class="hljs-comment"># å¼€å¯é‚®ä»¶é€šçŸ¥</span>
          <span class="hljs-attr">to:</span> <span class="hljs-string">your-email@qq.com,</span> <span class="hljs-string">boss@company.com</span>  <span class="hljs-comment"># æ”¶ä»¶äºº</span>
          <span class="hljs-attr">from:</span> <span class="hljs-string">your-email@qq.com</span>  <span class="hljs-comment"># å‘ä»¶äºº</span>
          
        <span class="hljs-comment"># é’‰é’‰é€šçŸ¥ï¼ˆæ›´å®ç”¨ï¼‰</span>
        <span class="hljs-attr">dingtalk:</span>
          <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
          <span class="hljs-attr">webhook-url:</span> <span class="hljs-string">https://oapi.dingtalk.com/robot/send?access_token=xxx</span>
          <span class="hljs-attr">secret:</span> <span class="hljs-string">xxx</span>
          <span class="hljs-attr">message:</span> <span class="hljs-string">"æœåŠ¡å‘Šè­¦ï¼š#{instance.registration.name} (#{instance.id}) çŠ¶æ€ï¼š#{event.statusInfo.status} è¯¦æƒ…ï¼š#{event.statusInfo.details}"</span>
        
        <span class="hljs-comment"># ä¼ä¸šå¾®ä¿¡é€šçŸ¥</span>
        <span class="hljs-attr">wechat:</span>
          <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
          <span class="hljs-attr">webhook-url:</span> <span class="hljs-string">https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=xxx</span>
          
      <span class="hljs-comment"># å®ä¾‹é…ç½®</span>
      <span class="hljs-attr">instance:</span>
        <span class="hljs-attr">auth:</span>
          <span class="hljs-comment"># å®¢æˆ·ç«¯è®¤è¯ï¼ˆå¦‚æœå®¢æˆ·ç«¯ä¹Ÿå¼€å¯äº†å®‰å…¨ï¼‰</span>
          <span class="hljs-attr">enabled:</span> <span class="hljs-literal">false</span>
          <span class="hljs-attr">username:</span> <span class="hljs-string">client</span>
          <span class="hljs-attr">password:</span> <span class="hljs-string">client123</span>
        
        <span class="hljs-comment"># å…ƒæ•°æ®</span>
        <span class="hljs-attr">metadata:</span>
          <span class="hljs-attr">user:</span>
            <span class="hljs-attr">name:</span> <span class="hljs-string">developer</span>
            <span class="hljs-attr">email:</span> <span class="hljs-string">dev@company.com</span>
          
        <span class="hljs-comment"># æ ‡é¢˜æ˜¾ç¤º</span>
        <span class="hljs-attr">title:</span> <span class="hljs-string">${spring.application.name}</span>
        <span class="hljs-attr">prefer-ip:</span> <span class="hljs-literal">true</span>  <span class="hljs-comment"># æ˜¾ç¤ºIPè€Œä¸æ˜¯ä¸»æœºå</span>
        
      <span class="hljs-comment"># UIé…ç½®</span>
      <span class="hljs-attr">ui:</span>
        <span class="hljs-attr">title:</span> <span class="hljs-string">Spring</span> <span class="hljs-string">Boot</span> <span class="hljs-string">Adminç›‘æ§ä¸­å¿ƒ</span>
        <span class="hljs-attr">brand:</span> <span class="hljs-string">"ğŸš€ å¾®æœåŠ¡ç›‘æ§å¹³å°"</span>
        <span class="hljs-attr">favicon:</span> <span class="hljs-string">assets/img/favicon.png</span>
        <span class="hljs-attr">login-icon:</span> <span class="hljs-string">assets/img/login-icon.png</span>
        <span class="hljs-comment"># è‡ªå®šä¹‰ä¸»é¢˜</span>
        <span class="hljs-attr">theme:</span>
          <span class="hljs-attr">primary-color:</span> <span class="hljs-string">"#1890ff"</span>
          <span class="hljs-attr">secondary-color:</span> <span class="hljs-string">"#f5222d"</span>
        
      <span class="hljs-comment"># ç›‘æ§é…ç½®</span>
      <span class="hljs-attr">monitor:</span>
        <span class="hljs-comment"># é»˜è®¤ç›‘æ§ç«¯ç‚¹</span>
        <span class="hljs-attr">default-timeout:</span> <span class="hljs-number">10000</span>
        <span class="hljs-comment"># è‡ªå®šä¹‰ç›‘æ§æŒ‡æ ‡</span>
        <span class="hljs-attr">status:</span>
          <span class="hljs-attr">l1m:</span> <span class="hljs-string">"http://localhost:${server.port}/actuator/metrics/system.cpu.usage?tag=alpha:l1m"</span>
          
      <span class="hljs-comment"># å†å²æ•°æ®ä¿ç•™</span>
      <span class="hljs-attr">history:</span>
        <span class="hljs-attr">retention-time:</span> <span class="hljs-string">24h</span>  <span class="hljs-comment"># ä¿ç•™24å°æ—¶</span>
</code></pre>
<h4 data-id="heading-9">æ­¥éª¤3ï¼šå¯åŠ¨ç±»</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@SpringBootApplication</span>
<span class="hljs-meta">@EnableAdminServer</span>  <span class="hljs-comment">// å…³é”®æ³¨è§£ï¼å¯ç”¨Admin Server</span>
<span class="hljs-meta">@EnableDiscoveryClient</span>  <span class="hljs-comment">// å¯ç”¨æœåŠ¡å‘ç°</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AdminServerApplication</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        SpringApplication.run(AdminServerApplication.class, args);
    }
}
</code></pre>
<h4 data-id="heading-10">æ­¥éª¤4ï¼šå®‰å…¨é…ç½®ï¼ˆé‡è¦ï¼ï¼‰</h4>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1RVyYBZE4z%2F%3Fvd_source%3Dd9789da0ed994ac777a822cd5ea4cf30" target="_blank" title="https://www.bilibili.com/video/BV1RVyYBZE4z/?vd_source=d9789da0ed994ac777a822cd5ea4cf30" ref="nofollow noopener noreferrer">é›¶åŸºç¡€å…¨æ ˆå¼€å‘Javaå¾®æœåŠ¡ç‰ˆæœ¬å®æˆ˜-åç«¯-å‰ç«¯-è¿ç»´-å®æˆ˜ä¼ä¸šçº§ä¸‰ä¸ªå®æˆ˜é¡¹ç›®</a></p>
<p><strong>èµ„æºè·å–</strong>ï¼šå…³æ³¨å…¬ä¼—å·: å°åè¯´Java ï¼Œè·å–æœ¬æ–‡æ‰€æœ‰ç¤ºä¾‹ä»£ç ã€é…ç½®æ¨¡æ¿åŠå¯¼å‡ºå·¥å…·ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@EnableWebSecurity</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SecurityConfig</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">WebSecurityConfigurerAdapter</span> {
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">configure</span><span class="hljs-params">(HttpSecurity http)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// ç¦ç”¨CSRFï¼ˆå†…éƒ¨ç®¡ç†ç”¨ï¼Œå®‰å…¨æ€§è¦æ±‚ä¸é«˜å¯ä»¥å…³ï¼‰</span>
        http.csrf().disable();
        
        <span class="hljs-comment">// æˆæƒè§„åˆ™</span>
        http.authorizeRequests()
            <span class="hljs-comment">// é™æ€èµ„æºå…è®¸è®¿é—®</span>
            .antMatchers(<span class="hljs-string">"/assets/**"</span>, <span class="hljs-string">"/login"</span>, <span class="hljs-string">"/actuator/**"</span>).permitAll()
            <span class="hljs-comment">// å…¶ä»–æ‰€æœ‰è¯·æ±‚éœ€è¦è®¤è¯</span>
            .anyRequest().authenticated()
            .and()
            <span class="hljs-comment">// è¡¨å•ç™»å½•</span>
            .formLogin()
            .loginPage(<span class="hljs-string">"/login"</span>)
            .defaultSuccessUrl(<span class="hljs-string">"/"</span>)
            .permitAll()
            .and()
            <span class="hljs-comment">// è®°ä½æˆ‘</span>
            .rememberMe()
            .and()
            <span class="hljs-comment">// ç™»å‡º</span>
            .logout()
            .logoutUrl(<span class="hljs-string">"/logout"</span>)
            .logoutSuccessUrl(<span class="hljs-string">"/login"</span>)
            .permitAll();
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">configure</span><span class="hljs-params">(AuthenticationManagerBuilder auth)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// å†…å­˜ç”¨æˆ·ï¼ˆç”Ÿäº§ç¯å¢ƒç”¨æ•°æ®åº“ï¼‰</span>
        auth.inMemoryAuthentication()
            .withUser(<span class="hljs-string">"admin"</span>)
            .password(passwordEncoder().encode(<span class="hljs-string">"admin123"</span>))
            .roles(<span class="hljs-string">"ADMIN"</span>)
            .and()
            .withUser(<span class="hljs-string">"viewer"</span>)
            .password(passwordEncoder().encode(<span class="hljs-string">"viewer123"</span>))
            .roles(<span class="hljs-string">"VIEWER"</span>);
    }
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> PasswordEncoder <span class="hljs-title function_">passwordEncoder</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BCryptPasswordEncoder</span>();
    }
}
</code></pre>
<p>è®¿é—®ï¼š<code>http://localhost:8888</code>ï¼Œç”¨admin/admin123ç™»å½•</p>
<h3 data-id="heading-11">å››ã€æ”¹é€ å¾®æœåŠ¡å®¢æˆ·ç«¯ï¼ˆè¢«ç›‘æ§çš„æœåŠ¡ï¼‰</h3>
<h4 data-id="heading-12">æ­¥éª¤1ï¼šæ‰€æœ‰å¾®æœåŠ¡åŠ ä¾èµ–</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- Spring Boot Admin Client --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>de.codecentric<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-admin-starter-client<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.7.10<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- Actuatorï¼ˆå¿…é¡»ï¼ï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- å¥åº·æ£€æŸ¥æ‰©å±• --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-jpa<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h4 data-id="heading-13">æ­¥éª¤2ï¼šå®¢æˆ·ç«¯é…ç½®æ–‡ä»¶</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">spring:</span>
  <span class="hljs-attr">boot:</span>
    <span class="hljs-attr">admin:</span>
      <span class="hljs-attr">client:</span>
        <span class="hljs-attr">url:</span> <span class="hljs-string">http://localhost:8888</span>  <span class="hljs-comment"># Admin Serveråœ°å€</span>
        <span class="hljs-attr">instance:</span>
          <span class="hljs-attr">name:</span> <span class="hljs-string">${spring.application.name}</span>  <span class="hljs-comment"># å®ä¾‹åç§°</span>
          <span class="hljs-attr">service-url:</span> <span class="hljs-string">http://${spring.cloud.client.ip-address}:${server.port}</span>  <span class="hljs-comment"># æœåŠ¡URL</span>
          <span class="hljs-attr">metadata:</span>
            <span class="hljs-attr">user:</span>
              <span class="hljs-attr">name:</span> <span class="hljs-string">developer</span>
              <span class="hljs-attr">email:</span> <span class="hljs-string">dev@company.com</span>
            <span class="hljs-attr">tags:</span>
              <span class="hljs-attr">env:</span> <span class="hljs-string">${spring.profiles.active}</span>
              <span class="hljs-attr">version:</span> <span class="hljs-number">1.0</span><span class="hljs-number">.0</span>
          <span class="hljs-comment"># å¥åº·æ£€æŸ¥è¯¦æƒ…ï¼ˆç”Ÿäº§ç¯å¢ƒå»ºè®®å…³é—­ï¼‰</span>
          <span class="hljs-attr">health-info:</span>
            <span class="hljs-attr">diskspace:</span>
              <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
            <span class="hljs-attr">db:</span>
              <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
            <span class="hljs-attr">redis:</span>
              <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
  
  <span class="hljs-comment"># Actuatoré…ç½®ï¼ˆæš´éœ²ç«¯ç‚¹ï¼‰</span>
  <span class="hljs-attr">management:</span>
    <span class="hljs-attr">endpoints:</span>
      <span class="hljs-attr">web:</span>
        <span class="hljs-attr">exposure:</span>
          <span class="hljs-attr">include:</span> <span class="hljs-string">"*"</span>  <span class="hljs-comment"># æš´éœ²æ‰€æœ‰ç«¯ç‚¹ï¼ˆç”Ÿäº§ç¯å¢ƒæŒ‰éœ€å¼€æ”¾ï¼‰</span>
        <span class="hljs-attr">base-path:</span> <span class="hljs-string">/actuator</span>  <span class="hljs-comment"># ç«¯ç‚¹è·¯å¾„</span>
    
    <span class="hljs-attr">endpoint:</span>
      <span class="hljs-attr">health:</span>
        <span class="hljs-attr">show-details:</span> <span class="hljs-string">always</span>  <span class="hljs-comment"># æ˜¾ç¤ºå¥åº·è¯¦æƒ…</span>
        <span class="hljs-attr">probes:</span>
          <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>  <span class="hljs-comment"># Kubernetesæ¢é’ˆ</span>
      
      <span class="hljs-comment"># å¼€å¯æ‰€æœ‰ç«¯ç‚¹</span>
      <span class="hljs-attr">beans:</span>
        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">env:</span>
        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">info:</span>
        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">metrics:</span>
        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">loggers:</span>
        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">caches:</span>
        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">scheduledtasks:</span>
        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">threaddump:</span>
        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">heapdump:</span>
        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">prometheus:</span>
        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
    
    <span class="hljs-comment"># æŒ‡æ ‡å¯¼å‡º</span>
    <span class="hljs-attr">metrics:</span>
      <span class="hljs-attr">export:</span>
        <span class="hljs-attr">prometheus:</span>
          <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
      <span class="hljs-comment"># è‡ªå®šä¹‰æŒ‡æ ‡æ ‡ç­¾</span>
      <span class="hljs-attr">tags:</span>
        <span class="hljs-attr">application:</span> <span class="hljs-string">${spring.application.name}</span>
        <span class="hljs-attr">instance:</span> <span class="hljs-string">${spring.cloud.client.ip-address}:${server.port}</span>
    
    <span class="hljs-comment"># å¥åº·æ£€æŸ¥</span>
    <span class="hljs-attr">health:</span>
      <span class="hljs-comment"># è‡ªå®šä¹‰å¥åº·æ£€æŸ¥</span>
      <span class="hljs-attr">diskspace:</span>
        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
        <span class="hljs-attr">threshold:</span> <span class="hljs-string">10MB</span>  <span class="hljs-comment"># ç£ç›˜ç©ºé—´é˜ˆå€¼</span>
      <span class="hljs-attr">db:</span>
        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">redis:</span>
        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
      <span class="hljs-comment"># è‡ªå®šä¹‰å¥åº·æŒ‡ç¤ºå™¨</span>
      <span class="hljs-attr">defaults:</span>
        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
    
    <span class="hljs-comment"># è·Ÿè¸ª</span>
    <span class="hljs-attr">tracing:</span>
      <span class="hljs-attr">sampling:</span>
        <span class="hljs-attr">probability:</span> <span class="hljs-number">1.0</span>
    
    <span class="hljs-comment"># ä¿¡æ¯</span>
    <span class="hljs-attr">info:</span>
      <span class="hljs-attr">env:</span>
        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">git:</span>
        <span class="hljs-attr">mode:</span> <span class="hljs-string">full</span>
      <span class="hljs-attr">java:</span>
        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">os:</span>
        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">build:</span>
        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
</code></pre>
<h4 data-id="heading-14">æ­¥éª¤3ï¼šè‡ªå®šä¹‰å¥åº·æ£€æŸ¥</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomHealthIndicator</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractHealthIndicator</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> UserService userService;
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> RedisTemplate&lt;String, String&gt; redisTemplate;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doHealthCheck</span><span class="hljs-params">(Health.Builder builder)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// 1. æ£€æŸ¥æ•°æ®åº“è¿æ¥</span>
        <span class="hljs-type">boolean</span> <span class="hljs-variable">dbHealthy</span> <span class="hljs-operator">=</span> checkDatabase();
        
        <span class="hljs-comment">// 2. æ£€æŸ¥Redisè¿æ¥</span>
        <span class="hljs-type">boolean</span> <span class="hljs-variable">redisHealthy</span> <span class="hljs-operator">=</span> checkRedis();
        
        <span class="hljs-comment">// 3. æ£€æŸ¥ä¸šåŠ¡é€»è¾‘</span>
        <span class="hljs-type">boolean</span> <span class="hljs-variable">businessHealthy</span> <span class="hljs-operator">=</span> checkBusiness();
        
        <span class="hljs-keyword">if</span> (dbHealthy &amp;&amp; redisHealthy &amp;&amp; businessHealthy) {
            builder.up()
                   .withDetail(<span class="hljs-string">"database"</span>, <span class="hljs-string">"è¿æ¥æ­£å¸¸"</span>)
                   .withDetail(<span class="hljs-string">"redis"</span>, <span class="hljs-string">"è¿æ¥æ­£å¸¸"</span>)
                   .withDetail(<span class="hljs-string">"business"</span>, <span class="hljs-string">"ä¸šåŠ¡æ­£å¸¸"</span>)
                   .withDetail(<span class="hljs-string">"timestamp"</span>, System.currentTimeMillis());
        } <span class="hljs-keyword">else</span> {
            builder.down()
                   .withDetail(<span class="hljs-string">"database"</span>, dbHealthy ? <span class="hljs-string">"æ­£å¸¸"</span> : <span class="hljs-string">"å¼‚å¸¸"</span>)
                   .withDetail(<span class="hljs-string">"redis"</span>, redisHealthy ? <span class="hljs-string">"æ­£å¸¸"</span> : <span class="hljs-string">"å¼‚å¸¸"</span>)
                   .withDetail(<span class="hljs-string">"business"</span>, businessHealthy ? <span class="hljs-string">"æ­£å¸¸"</span> : <span class="hljs-string">"å¼‚å¸¸"</span>)
                   .withException(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"å¥åº·æ£€æŸ¥å¤±è´¥"</span>));
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">checkDatabase</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// æ‰§è¡Œç®€å•æŸ¥è¯¢</span>
            userService.count();
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">checkRedis</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">try</span> {
            redisTemplate.opsForValue().get(<span class="hljs-string">"health-check"</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">checkBusiness</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// æ£€æŸ¥ä¸šåŠ¡é€»è¾‘ï¼Œæ¯”å¦‚å¤–éƒ¨æ¥å£è°ƒç”¨</span>
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// æ¨¡æ‹Ÿä¸šåŠ¡æ£€æŸ¥</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
}
</code></pre>
<h4 data-id="heading-15">æ­¥éª¤4ï¼šè‡ªå®šä¹‰æŒ‡æ ‡</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BusinessMetrics</span> {
    
    <span class="hljs-comment">// è®¡æ•°å™¨ï¼šè®¢å•åˆ›å»ºæ•°é‡</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Counter</span> <span class="hljs-variable">orderCreateCounter</span> <span class="hljs-operator">=</span> 
        Metrics.counter(<span class="hljs-string">"business.order.create.count"</span>);
    
    <span class="hljs-comment">// è®¡æ—¶å™¨ï¼šè®¢å•å¤„ç†è€—æ—¶</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Timer</span> <span class="hljs-variable">orderProcessTimer</span> <span class="hljs-operator">=</span> 
        Timer.builder(<span class="hljs-string">"business.order.process.time"</span>)
             .description(<span class="hljs-string">"è®¢å•å¤„ç†è€—æ—¶"</span>)
             .register(Metrics.globalRegistry);
    
    <span class="hljs-comment">// ä»ªè¡¨ï¼šå½“å‰æ´»è·ƒç”¨æˆ·æ•°</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">AtomicInteger</span> <span class="hljs-variable">activeUsers</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicInteger</span>(<span class="hljs-number">0</span>);
    
    <span class="hljs-meta">@PostConstruct</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// æ³¨å†Œè‡ªå®šä¹‰ä»ªè¡¨</span>
        Gauge.builder(<span class="hljs-string">"business.user.active.count"</span>, activeUsers, AtomicInteger::get)
             .description(<span class="hljs-string">"å½“å‰æ´»è·ƒç”¨æˆ·æ•°"</span>)
             .register(Metrics.globalRegistry);
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">incrementOrderCount</span><span class="hljs-params">()</span> {
        orderCreateCounter.increment();
    }
    
    <span class="hljs-keyword">public</span> Timer.Sample <span class="hljs-title function_">startOrderProcess</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> Timer.start(Metrics.globalRegistry);
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">endOrderProcess</span><span class="hljs-params">(Timer.Sample sample)</span> {
        sample.stop(orderProcessTimer);
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">userLogin</span><span class="hljs-params">()</span> {
        activeUsers.incrementAndGet();
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">userLogout</span><span class="hljs-params">()</span> {
        activeUsers.decrementAndGet();
    }
}
</code></pre>
<h3 data-id="heading-16">äº”ã€é«˜çº§ç›‘æ§åŠŸèƒ½</h3>
<h4 data-id="heading-17">1. å®æ—¶æ—¥å¿—æŸ¥çœ‹</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># å®¢æˆ·ç«¯é…ç½®</span>
<span class="hljs-attr">management:</span>
  <span class="hljs-attr">endpoint:</span>
    <span class="hljs-attr">logfile:</span>
      <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">external-file:</span> <span class="hljs-string">./logs/app.log</span>  <span class="hljs-comment"># æŒ‡å®šæ—¥å¿—æ–‡ä»¶</span>
  
<span class="hljs-attr">logging:</span>
  <span class="hljs-attr">file:</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">./logs/app.log</span>
  <span class="hljs-attr">pattern:</span>
    <span class="hljs-attr">file:</span> <span class="hljs-string">"%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"</span>
</code></pre>
<p>åœ¨Adminç•Œé¢ï¼š</p>
<ul>
<li>ç‚¹æœåŠ¡å®ä¾‹</li>
<li>ç‚¹"Loggers"æ ‡ç­¾</li>
<li>å®æ—¶æŸ¥çœ‹å’Œä¿®æ”¹æ—¥å¿—çº§åˆ«</li>
<li>ç‚¹"Logfile"çœ‹å®æ—¶æ—¥å¿—</li>
</ul>
<h4 data-id="heading-18">2. JVMç›‘æ§</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping("/monitor")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JvmMonitorController</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> MeterRegistry meterRegistry;
    
    <span class="hljs-meta">@GetMapping("/jvm")</span>
    <span class="hljs-keyword">public</span> Map&lt;String, Object&gt; <span class="hljs-title function_">jvmInfo</span><span class="hljs-params">()</span> {
        Map&lt;String, Object&gt; info = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        
        <span class="hljs-comment">// å†…å­˜ä¿¡æ¯</span>
        <span class="hljs-type">Runtime</span> <span class="hljs-variable">runtime</span> <span class="hljs-operator">=</span> Runtime.getRuntime();
        info.put(<span class="hljs-string">"maxMemory"</span>, runtime.maxMemory() / <span class="hljs-number">1024</span> / <span class="hljs-number">1024</span> + <span class="hljs-string">"MB"</span>);
        info.put(<span class="hljs-string">"totalMemory"</span>, runtime.totalMemory() / <span class="hljs-number">1024</span> / <span class="hljs-number">1024</span> + <span class="hljs-string">"MB"</span>);
        info.put(<span class="hljs-string">"freeMemory"</span>, runtime.freeMemory() / <span class="hljs-number">1024</span> / <span class="hljs-number">1024</span> + <span class="hljs-string">"MB"</span>);
        info.put(<span class="hljs-string">"usedMemory"</span>, 
                 (runtime.totalMemory() - runtime.freeMemory()) / <span class="hljs-number">1024</span> / <span class="hljs-number">1024</span> + <span class="hljs-string">"MB"</span>);
        
        <span class="hljs-comment">// GCä¿¡æ¯</span>
        List&lt;GarbageCollectorMXBean&gt; gcBeans = 
            ManagementFactory.getGarbageCollectorMXBeans();
        List&lt;Map&lt;String, Object&gt;&gt; gcInfos = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        <span class="hljs-keyword">for</span> (GarbageCollectorMXBean gc : gcBeans) {
            Map&lt;String, Object&gt; gcInfo = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
            gcInfo.put(<span class="hljs-string">"name"</span>, gc.getName());
            gcInfo.put(<span class="hljs-string">"collectionCount"</span>, gc.getCollectionCount());
            gcInfo.put(<span class="hljs-string">"collectionTime"</span>, gc.getCollectionTime() + <span class="hljs-string">"ms"</span>);
            gcInfos.add(gcInfo);
        }
        info.put(<span class="hljs-string">"garbageCollectors"</span>, gcInfos);
        
        <span class="hljs-comment">// çº¿ç¨‹ä¿¡æ¯</span>
        <span class="hljs-type">ThreadMXBean</span> <span class="hljs-variable">threadBean</span> <span class="hljs-operator">=</span> ManagementFactory.getThreadMXBean();
        info.put(<span class="hljs-string">"threadCount"</span>, threadBean.getThreadCount());
        info.put(<span class="hljs-string">"peakThreadCount"</span>, threadBean.getPeakThreadCount());
        info.put(<span class="hljs-string">"daemonThreadCount"</span>, threadBean.getDaemonThreadCount());
        
        <span class="hljs-keyword">return</span> info;
    }
    
    <span class="hljs-meta">@GetMapping("/metrics/{name}")</span>
    <span class="hljs-keyword">public</span> List&lt;Measurement&gt; <span class="hljs-title function_">getMetric</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> String name)</span> {
        <span class="hljs-comment">// è·å–ç‰¹å®šæŒ‡æ ‡</span>
        <span class="hljs-type">Meter</span> <span class="hljs-variable">meter</span> <span class="hljs-operator">=</span> meterRegistry.find(name).meter();
        <span class="hljs-keyword">if</span> (meter != <span class="hljs-literal">null</span>) {
            List&lt;Measurement&gt; measurements = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
            meter.measure().forEach(measurements::add);
            <span class="hljs-keyword">return</span> measurements;
        }
        <span class="hljs-keyword">return</span> Collections.emptyList();
    }
}
</code></pre>
<h4 data-id="heading-19">3. æ•°æ®åº“è¿æ¥æ± ç›‘æ§</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># ä½¿ç”¨Druidè¿æ¥æ± </span>
<span class="hljs-attr">spring:</span>
  <span class="hljs-attr">datasource:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">com.alibaba.druid.pool.DruidDataSource</span>
    <span class="hljs-attr">druid:</span>
      <span class="hljs-comment"># ç›‘æ§é…ç½®</span>
      <span class="hljs-attr">stat-view-servlet:</span>
        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
        <span class="hljs-attr">url-pattern:</span> <span class="hljs-string">/druid/*</span>
        <span class="hljs-attr">login-username:</span> <span class="hljs-string">admin</span>
        <span class="hljs-attr">login-password:</span> <span class="hljs-string">admin123</span>
      <span class="hljs-attr">web-stat-filter:</span>
        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">filter:</span>
        <span class="hljs-attr">stat:</span>
          <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
          <span class="hljs-attr">log-slow-sql:</span> <span class="hljs-literal">true</span>
          <span class="hljs-attr">slow-sql-millis:</span> <span class="hljs-number">1000</span>
        <span class="hljs-attr">wall:</span>
          <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
        <span class="hljs-attr">config:</span>
          <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
</code></pre>
<p>åœ¨Adminç•Œé¢é›†æˆDruidï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DruidConfig</span> {
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> ServletRegistrationBean&lt;StatViewServlet&gt; <span class="hljs-title function_">druidServlet</span><span class="hljs-params">()</span> {
        ServletRegistrationBean&lt;StatViewServlet&gt; bean = 
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServletRegistrationBean</span>&lt;&gt;(<span class="hljs-keyword">new</span> <span class="hljs-title class_">StatViewServlet</span>(), <span class="hljs-string">"/druid/*"</span>);
        
        Map&lt;String, String&gt; initParams = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        initParams.put(<span class="hljs-string">"loginUsername"</span>, <span class="hljs-string">"admin"</span>);
        initParams.put(<span class="hljs-string">"loginPassword"</span>, <span class="hljs-string">"admin123"</span>);
        initParams.put(<span class="hljs-string">"allow"</span>, <span class="hljs-string">""</span>);  <span class="hljs-comment">// é»˜è®¤å…è®¸æ‰€æœ‰</span>
        initParams.put(<span class="hljs-string">"deny"</span>, <span class="hljs-string">"192.168.1.100"</span>);  <span class="hljs-comment">// æ‹’ç»æŸä¸ªIP</span>
        
        bean.setInitParameters(initParams);
        <span class="hljs-keyword">return</span> bean;
    }
}
</code></pre>
<h4 data-id="heading-20">4. è‡ªå®šä¹‰ç›‘æ§é¢æ¿</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomUiExtension</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UiExtension</span> {
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Map&lt;String, ?&gt; getAssets() {
        Map&lt;String, String&gt; assets = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        <span class="hljs-comment">// è‡ªå®šä¹‰CSS</span>
        assets.put(<span class="hljs-string">"custom.css"</span>, <span class="hljs-string">"/assets/css/custom.css"</span>);
        <span class="hljs-comment">// è‡ªå®šä¹‰JS</span>
        assets.put(<span class="hljs-string">"custom.js"</span>, <span class="hljs-string">"/assets/js/custom.js"</span>);
        <span class="hljs-keyword">return</span> assets;
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getBrand</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"&lt;span class=\"navbar-brand\"&gt;ğŸš€ æˆ‘çš„ç›‘æ§å¹³å°&lt;/span&gt;"</span>;
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getTitle</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"å¾®æœåŠ¡ç›‘æ§ä¸­å¿ƒ"</span>;
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getFavicon</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"assets/img/favicon.ico"</span>;
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Map&lt;String, String&gt; <span class="hljs-title function_">getLoginIcon</span><span class="hljs-params">()</span> {
        Map&lt;String, String&gt; icons = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        icons.put(<span class="hljs-string">"img"</span>, <span class="hljs-string">"assets/img/login-logo.png"</span>);
        icons.put(<span class="hljs-string">"favicon"</span>, <span class="hljs-string">"assets/img/favicon.ico"</span>);
        <span class="hljs-keyword">return</span> icons;
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Map&lt;String, ?&gt; getViews() {
        Map&lt;String, String&gt; views = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        <span class="hljs-comment">// è‡ªå®šä¹‰è§†å›¾</span>
        views.put(<span class="hljs-string">"custom"</span>, <span class="hljs-string">"/custom/view"</span>);
        <span class="hljs-keyword">return</span> views;
    }
}
</code></pre>
<h3 data-id="heading-21">å…­ã€å‘Šè­¦é€šçŸ¥é…ç½®</h3>
<h4 data-id="heading-22">1. é‚®ä»¶å‘Šè­¦</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">spring:</span>
  <span class="hljs-attr">boot:</span>
    <span class="hljs-attr">admin:</span>
      <span class="hljs-attr">notify:</span>
        <span class="hljs-attr">mail:</span>
          <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
          <span class="hljs-comment"># æ”¶ä»¶äººï¼ˆå¤šä¸ªç”¨é€—å·åˆ†éš”ï¼‰</span>
          <span class="hljs-attr">to:</span> <span class="hljs-string">admin@company.com,dev-team@company.com</span>
          <span class="hljs-comment"># æŠ„é€</span>
          <span class="hljs-attr">cc:</span> <span class="hljs-string">manager@company.com</span>
          <span class="hljs-comment"># å¯†é€</span>
          <span class="hljs-attr">bcc:</span> 
          <span class="hljs-comment"># å‘ä»¶äºº</span>
          <span class="hljs-attr">from:</span> <span class="hljs-string">monitor@company.com</span>
          <span class="hljs-comment"># æ¨¡æ¿</span>
          <span class="hljs-attr">template:</span> <span class="hljs-string">|
            æœåŠ¡çŠ¶æ€å˜æ›´é€šçŸ¥
</span>            
            <span class="hljs-string">æœåŠ¡åç§°:</span> <span class="hljs-comment">#{instance.registration.name}</span>
            <span class="hljs-string">æœåŠ¡ID:</span> <span class="hljs-comment">#{instance.id}</span>
            <span class="hljs-string">æœåŠ¡åœ°å€:</span> <span class="hljs-comment">#{instance.registration.serviceUrl}</span>
            <span class="hljs-string">çŠ¶æ€:</span> <span class="hljs-comment">#{event.statusInfo.status}</span>
            <span class="hljs-string">æ—¶é—´:</span> <span class="hljs-comment">#{timestamp?datetime}</span>
            <span class="hljs-string">è¯¦æƒ…:</span> <span class="hljs-comment">#{event.statusInfo.details}</span>
            
            <span class="hljs-string">è¯·åŠæ—¶å¤„ç†ï¼</span>
</code></pre>
<h4 data-id="heading-23">2. é’‰é’‰å‘Šè­¦</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DingTalkNotifierConfig</span> {
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> Notifier <span class="hljs-title function_">dingTalkNotifier</span><span class="hljs-params">()</span> {
        <span class="hljs-type">DingTalkNotifier</span> <span class="hljs-variable">notifier</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DingTalkNotifier</span>();
        notifier.setWebhookUrl(<span class="hljs-string">"https://oapi.dingtalk.com/robot/send?access_token=xxx"</span>);
        notifier.setSecret(<span class="hljs-string">"xxx"</span>);  <span class="hljs-comment">// å®‰å…¨è®¾ç½®</span>
        notifier.setEnabled(<span class="hljs-literal">true</span>);
        
        <span class="hljs-comment">// è‡ªå®šä¹‰æ¶ˆæ¯</span>
        notifier.setMessage(
            <span class="hljs-string">"ã€æœåŠ¡å‘Šè­¦ã€‘\n"</span> +
            <span class="hljs-string">"æœåŠ¡: #{instance.registration.name}\n"</span> +
            <span class="hljs-string">"çŠ¶æ€: #{event.statusInfo.status}\n"</span> +
            <span class="hljs-string">"æ—¶é—´: #{#dates.format(timestamp, 'yyyy-MM-dd HH:mm:ss')}\n"</span> +
            <span class="hljs-string">"è¯¦æƒ…: #{event.statusInfo.details}\n"</span> +
            <span class="hljs-string">"ğŸ‘‰ &lt;a href=\"#{baseUrl}\"&gt;æŸ¥çœ‹è¯¦æƒ…&lt;/a&gt;"</span>
        );
        
        <span class="hljs-comment">// åªé€šçŸ¥DOWNçŠ¶æ€</span>
        notifier.setStatuses(Arrays.asList(StatusInfo.STATUS_DOWN));
        
        <span class="hljs-keyword">return</span> notifier;
    }
}
</code></pre>
<h4 data-id="heading-24">3. ä¼ä¸šå¾®ä¿¡å‘Šè­¦</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Bean</span>
<span class="hljs-keyword">public</span> Notifier <span class="hljs-title function_">wechatNotifier</span><span class="hljs-params">()</span> {
    <span class="hljs-type">WeChatNotifier</span> <span class="hljs-variable">notifier</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeChatNotifier</span>();
    notifier.setWebhookUrl(<span class="hljs-string">"https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=xxx"</span>);
    notifier.setEnabled(<span class="hljs-literal">true</span>);
    
    <span class="hljs-comment">// Markdownæ ¼å¼</span>
    notifier.setMessage(
        <span class="hljs-string">"### æœåŠ¡ç›‘æ§å‘Šè­¦\n"</span> +
        <span class="hljs-string">"&gt; **æœåŠ¡åç§°**: #{instance.registration.name}\n"</span> +
        <span class="hljs-string">"&gt; **æœåŠ¡çŠ¶æ€**: &lt;font color=\"warning\"&gt;#{event.statusInfo.status}&lt;/font&gt;\n"</span> +
        <span class="hljs-string">"&gt; **å‘ç”Ÿæ—¶é—´**: #{#dates.format(timestamp, 'yyyy-MM-dd HH:mm:ss')}\n"</span> +
        <span class="hljs-string">"&gt; **è¯¦æƒ…æè¿°**: #{event.statusInfo.details}\n"</span> +
        <span class="hljs-string">"#{baseUrl}"</span>
    );
    
    <span class="hljs-keyword">return</span> notifier;
}
</code></pre>
<h4 data-id="heading-25">4. è‡ªå®šä¹‰å‘Šè­¦è§„åˆ™</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomNotifier</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractEventNotifier</span> {
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> Mono&lt;Void&gt; <span class="hljs-title function_">doNotify</span><span class="hljs-params">(InstanceEvent event, Instance instance)</span> {
        <span class="hljs-comment">// åªå¤„ç†çŠ¶æ€å˜æ›´äº‹ä»¶</span>
        <span class="hljs-keyword">if</span> (event <span class="hljs-keyword">instanceof</span> InstanceStatusChangedEvent) {
            <span class="hljs-type">InstanceStatusChangedEvent</span> <span class="hljs-variable">statusChangeEvent</span> <span class="hljs-operator">=</span> 
                (InstanceStatusChangedEvent) event;
            
            <span class="hljs-comment">// è·å–çŠ¶æ€</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">from</span> <span class="hljs-operator">=</span> statusChangeEvent.getStatusInfo().getStatus();
            <span class="hljs-type">String</span> <span class="hljs-variable">to</span> <span class="hljs-operator">=</span> statusChangeEvent.getStatusInfo().getStatus();
            
            <span class="hljs-comment">// è‡ªå®šä¹‰å‘Šè­¦é€»è¾‘</span>
            <span class="hljs-keyword">if</span> (<span class="hljs-string">"DOWN"</span>.equals(to)) {
                <span class="hljs-comment">// æœåŠ¡å®•æœºï¼Œç´§æ€¥å‘Šè­¦</span>
                sendEmergencyAlert(instance, statusChangeEvent);
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-string">"UP"</span>.equals(from) &amp;&amp; <span class="hljs-string">"OFFLINE"</span>.equals(to)) {
                <span class="hljs-comment">// æœåŠ¡ä¸‹çº¿ï¼Œä¸€èˆ¬å‘Šè­¦</span>
                sendNormalAlert(instance, statusChangeEvent);
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-string">"OFFLINE"</span>.equals(from) &amp;&amp; <span class="hljs-string">"UP"</span>.equals(to)) {
                <span class="hljs-comment">// æœåŠ¡æ¢å¤ï¼Œé€šçŸ¥æ¢å¤</span>
                sendRecoveryAlert(instance, statusChangeEvent);
            }
        }
        
        <span class="hljs-keyword">return</span> Mono.empty();
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sendEmergencyAlert</span><span class="hljs-params">(Instance instance, InstanceStatusChangedEvent event)</span> {
        <span class="hljs-comment">// å‘é€çŸ­ä¿¡ã€ç”µè¯ç­‰ç´§æ€¥é€šçŸ¥</span>
        System.out.println(<span class="hljs-string">"ğŸš¨ ç´§æ€¥å‘Šè­¦ï¼æœåŠ¡å®•æœºï¼š"</span> + 
                          instance.getRegistration().getName());
        
        <span class="hljs-comment">// è°ƒç”¨ç”µè¯å‘Šè­¦æ¥å£</span>
        callPhoneAlert(instance, event);
        
        <span class="hljs-comment">// è°ƒç”¨çŸ­ä¿¡æ¥å£</span>
        sendSmsAlert(instance, event);
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sendNormalAlert</span><span class="hljs-params">(Instance instance, InstanceStatusChangedEvent event)</span> {
        <span class="hljs-comment">// å‘é€é‚®ä»¶ã€é’‰é’‰ç­‰ä¸€èˆ¬é€šçŸ¥</span>
        System.out.println(<span class="hljs-string">"âš ï¸ æœåŠ¡å¼‚å¸¸ï¼š"</span> + 
                          instance.getRegistration().getName());
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sendRecoveryAlert</span><span class="hljs-params">(Instance instance, InstanceStatusChangedEvent event)</span> {
        <span class="hljs-comment">// å‘é€æ¢å¤é€šçŸ¥</span>
        System.out.println(<span class="hljs-string">"âœ… æœåŠ¡æ¢å¤ï¼š"</span> + 
                          instance.getRegistration().getName());
    }
}
</code></pre>
<h3 data-id="heading-26">ä¸ƒã€ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æ–¹æ¡ˆ</h3>
<h4 data-id="heading-27">æ–¹æ¡ˆ1ï¼šå•èŠ‚ç‚¹éƒ¨ç½²ï¼ˆå°å‹é¡¹ç›®ï¼‰</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># application-prod.yml</span>
<span class="hljs-attr">spring:</span>
  <span class="hljs-attr">boot:</span>
    <span class="hljs-attr">admin:</span>
      <span class="hljs-comment"># å¼€å¯å®‰å…¨</span>
      <span class="hljs-attr">context-path:</span> <span class="hljs-string">/admin</span>
      
      <span class="hljs-comment"># é€šçŸ¥é…ç½®</span>
      <span class="hljs-attr">notify:</span>
        <span class="hljs-attr">mail:</span>
          <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
          <span class="hljs-attr">to:</span> <span class="hljs-string">${ALERT_EMAILS}</span>
          <span class="hljs-attr">from:</span> <span class="hljs-string">${MAIL_FROM}</span>
        
        <span class="hljs-attr">dingtalk:</span>
          <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
          <span class="hljs-attr">webhook-url:</span> <span class="hljs-string">${DINGTALK_WEBHOOK}</span>
          <span class="hljs-attr">secret:</span> <span class="hljs-string">${DINGTALK_SECRET}</span>
          
        <span class="hljs-comment"># é¢‘ç‡é™åˆ¶</span>
        <span class="hljs-attr">reminder:</span>
          <span class="hljs-attr">period:</span> <span class="hljs-string">30s</span>  <span class="hljs-comment"># 30ç§’æé†’ä¸€æ¬¡</span>
          <span class="hljs-attr">statuses:</span> <span class="hljs-string">DOWN</span>
      
      <span class="hljs-comment"># å®ä¾‹ä¿ç•™</span>
      <span class="hljs-attr">instance:</span>
        <span class="hljs-attr">retention-period:</span> <span class="hljs-string">7d</span>  <span class="hljs-comment"># ä¿ç•™7å¤©</span>
        
      <span class="hljs-comment"># å…ƒæ•°æ®</span>
      <span class="hljs-attr">metadata-keys-to-sanitize:</span> <span class="hljs-string">.*password.*,</span> <span class="hljs-string">.*secret.*,</span> <span class="hljs-string">.*key.*</span>
      
      <span class="hljs-comment"># å¿½ç•¥çš„ç«¯ç‚¹ï¼ˆæ•æ„Ÿä¿¡æ¯ï¼‰</span>
      <span class="hljs-attr">ignored-routes:</span> <span class="hljs-string">/env/**,</span> <span class="hljs-string">/heapdump/**,</span> <span class="hljs-string">/logfile/**</span>
</code></pre>
<h4 data-id="heading-28">æ–¹æ¡ˆ2ï¼šé›†ç¾¤éƒ¨ç½²ï¼ˆé«˜å¯ç”¨ï¼‰</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># å¤šä¸ªAdmin Serverå®ä¾‹</span>
<span class="hljs-attr">spring:</span>
  <span class="hljs-attr">boot:</span>
    <span class="hljs-attr">admin:</span>
      <span class="hljs-comment"># ä½¿ç”¨æ•°æ®åº“å­˜å‚¨å®ä¾‹ä¿¡æ¯</span>
      <span class="hljs-attr">store:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">redis</span>  <span class="hljs-comment"># æˆ–jdbc</span>
        
      <span class="hljs-comment"># Redisé…ç½®</span>
      <span class="hljs-attr">redis:</span>
        <span class="hljs-attr">host:</span> <span class="hljs-string">${REDIS_HOST}</span>
        <span class="hljs-attr">port:</span> <span class="hljs-string">${REDIS_PORT}</span>
        <span class="hljs-attr">password:</span> <span class="hljs-string">${REDIS_PASSWORD}</span>
        
      <span class="hljs-comment"># å®ä¾‹åŒæ­¥</span>
      <span class="hljs-attr">instance:</span>
        <span class="hljs-comment"># ä½¿ç”¨æœåŠ¡å‘ç°</span>
        <span class="hljs-attr">discovery:</span>
          <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
          <span class="hljs-attr">services:</span> <span class="hljs-string">user-service,order-service,product-service</span>
        
        <span class="hljs-comment"># æœåŠ¡URLè¦†ç›–</span>
        <span class="hljs-attr">service-url:</span>
          <span class="hljs-attr">override:</span> <span class="hljs-string">http://${spring.cloud.client.ip-address}:${server.port}</span>
</code></pre>
<h4 data-id="heading-29">æ–¹æ¡ˆ3ï¼šç»“åˆPrometheus + Grafana</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># å¯ç”¨PrometheusæŒ‡æ ‡</span>
<span class="hljs-attr">management:</span>
  <span class="hljs-attr">endpoints:</span>
    <span class="hljs-attr">web:</span>
      <span class="hljs-attr">exposure:</span>
        <span class="hljs-attr">include:</span> <span class="hljs-string">health,info,metrics,prometheus</span>
    
  <span class="hljs-attr">metrics:</span>
    <span class="hljs-attr">export:</span>
      <span class="hljs-attr">prometheus:</span>
        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
    
    <span class="hljs-comment"># æ ‡ç­¾</span>
    <span class="hljs-attr">tags:</span>
      <span class="hljs-attr">application:</span> <span class="hljs-string">${spring.application.name}</span>
      <span class="hljs-attr">environment:</span> <span class="hljs-string">${spring.profiles.active}</span>
      
    <span class="hljs-comment"># åˆ†å¸ƒç»Ÿè®¡</span>
    <span class="hljs-attr">distribution:</span>
      <span class="hljs-attr">percentiles-histogram:</span>
        <span class="hljs-attr">http.server.requests:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">slo:</span>
        <span class="hljs-attr">http.server.requests:</span> <span class="hljs-string">100ms,</span> <span class="hljs-string">200ms,</span> <span class="hljs-string">500ms</span>
</code></pre>
<p>Grafanaä»ªè¡¨ç›˜é…ç½®ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"dashboard"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å¾®æœåŠ¡ç›‘æ§"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"panels"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"CPUä½¿ç”¨ç‡"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"targets"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
          <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"expr"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"system_cpu_usage{application=\"$application\"}"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"legendFormat"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"{{instance}}"</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">]</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å†…å­˜ä½¿ç”¨"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"targets"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
          <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"expr"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"jvm_memory_used_bytes{application=\"$application\", area=\"heap\"}"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"legendFormat"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å †å†…å­˜"</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">]</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-30">å…«ã€ç›‘æ§æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-31">1. åˆ†çº§ç›‘æ§ç­–ç•¥</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># æ ¹æ®ç¯å¢ƒé…ç½®ä¸åŒçš„ç›‘æ§çº§åˆ«</span>
<span class="hljs-attr">spring:</span>
  <span class="hljs-attr">profiles:</span> <span class="hljs-string">prod</span>
  
  <span class="hljs-attr">boot:</span>
    <span class="hljs-attr">admin:</span>
      <span class="hljs-attr">notify:</span>
        <span class="hljs-comment"># ç”Ÿäº§ç¯å¢ƒï¼šç´§æ€¥å‘Šè­¦</span>
        <span class="hljs-attr">mail:</span>
          <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
          <span class="hljs-attr">to:</span> <span class="hljs-string">oncall-team@company.com</span>
          <span class="hljs-comment"># åªé€šçŸ¥DOWNçŠ¶æ€</span>
          <span class="hljs-attr">statuses:</span> <span class="hljs-string">DOWN</span>
          <span class="hljs-comment"># 5åˆ†é’Ÿå†…ä¸é‡å¤å‘Šè­¦</span>
          <span class="hljs-attr">throttle-period:</span> <span class="hljs-string">5m</span>
        
        <span class="hljs-comment"># æµ‹è¯•ç¯å¢ƒï¼šæ‰€æœ‰å˜æ›´éƒ½é€šçŸ¥</span>
        <span class="hljs-attr">slack:</span>
          <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
          <span class="hljs-attr">webhook-url:</span> <span class="hljs-string">${SLACK_WEBHOOK}</span>
          <span class="hljs-comment"># é€šçŸ¥æ‰€æœ‰çŠ¶æ€å˜æ›´</span>
          <span class="hljs-attr">statuses:</span> <span class="hljs-string">UP,</span> <span class="hljs-string">DOWN,</span> <span class="hljs-string">OFFLINE,</span> <span class="hljs-string">UNKNOWN</span>
</code></pre>
<h4 data-id="heading-32">2. å…³é”®æŒ‡æ ‡ç›‘æ§</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CriticalMetricsMonitor</span> {
    
    <span class="hljs-comment">// å…³é”®ä¸šåŠ¡æŒ‡æ ‡</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Map&lt;String, Double&gt; THRESHOLDS = Map.of(
        <span class="hljs-string">"system.cpu.usage"</span>, <span class="hljs-number">0.8</span>,          <span class="hljs-comment">// CPUä½¿ç”¨ç‡80%</span>
        <span class="hljs-string">"jvm.memory.used"</span>, <span class="hljs-number">0.9</span>,           <span class="hljs-comment">// å†…å­˜ä½¿ç”¨90%</span>
        <span class="hljs-string">"tomcat.threads.busy"</span>, <span class="hljs-number">0.8</span>,       <span class="hljs-comment">// çº¿ç¨‹ä½¿ç”¨ç‡80%</span>
        <span class="hljs-string">"http.server.requests.duration"</span>, <span class="hljs-number">1.0</span>,  <span class="hljs-comment">// æ¥å£å“åº”1ç§’</span>
        <span class="hljs-string">"hikaricp.connections.active"</span>, <span class="hljs-number">0.9</span>,    <span class="hljs-comment">// æ•°æ®åº“è¿æ¥90%</span>
        <span class="hljs-string">"redis.lettuce.command.duration"</span>, <span class="hljs-number">0.1</span>  <span class="hljs-comment">// Rediså‘½ä»¤100ms</span>
    );
    
    <span class="hljs-meta">@Scheduled(fixedDelay = 30000)</span>  <span class="hljs-comment">// æ¯30ç§’æ£€æŸ¥ä¸€æ¬¡</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">checkMetrics</span><span class="hljs-params">()</span> {
        THRESHOLDS.forEach((metric, threshold) -&gt; {
            <span class="hljs-type">Double</span> <span class="hljs-variable">value</span> <span class="hljs-operator">=</span> getMetricValue(metric);
            <span class="hljs-keyword">if</span> (value != <span class="hljs-literal">null</span> &amp;&amp; value &gt; threshold) {
                sendAlert(metric, value, threshold);
            }
        });
    }
}
</code></pre>
<h4 data-id="heading-33">3. å®¹é‡è§„åˆ’</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CapacityPlanningService</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> MeterRegistry meterRegistry;
    
    <span class="hljs-comment">/**
     * æ ¹æ®å†å²æ•°æ®é¢„æµ‹å®¹é‡
     */</span>
    <span class="hljs-keyword">public</span> CapacityPrediction <span class="hljs-title function_">predictCapacity</span><span class="hljs-params">(String serviceName)</span> {
        <span class="hljs-comment">// è·å–å†å²æŒ‡æ ‡</span>
        Map&lt;String, List&lt;Double&gt;&gt; history = 
            getHistoricalMetrics(serviceName, <span class="hljs-number">30</span>);  <span class="hljs-comment">// æœ€è¿‘30å¤©</span>
        
        <span class="hljs-comment">// åˆ†æè¶‹åŠ¿</span>
        <span class="hljs-type">double</span> <span class="hljs-variable">cpuGrowthRate</span> <span class="hljs-operator">=</span> calculateGrowthRate(history.get(<span class="hljs-string">"cpu"</span>));
        <span class="hljs-type">double</span> <span class="hljs-variable">memoryGrowthRate</span> <span class="hljs-operator">=</span> calculateGrowthRate(history.get(<span class="hljs-string">"memory"</span>));
        <span class="hljs-type">double</span> <span class="hljs-variable">requestGrowthRate</span> <span class="hljs-operator">=</span> calculateGrowthRate(history.get(<span class="hljs-string">"requests"</span>));
        
        <span class="hljs-comment">// é¢„æµ‹3ä¸ªæœˆåçš„éœ€æ±‚</span>
        <span class="hljs-type">LocalDate</span> <span class="hljs-variable">predictionDate</span> <span class="hljs-operator">=</span> LocalDate.now().plusMonths(<span class="hljs-number">3</span>);
        <span class="hljs-type">double</span> <span class="hljs-variable">predictedCpu</span> <span class="hljs-operator">=</span> predictValue(cpuGrowthRate, predictionDate);
        <span class="hljs-type">double</span> <span class="hljs-variable">predictedMemory</span> <span class="hljs-operator">=</span> predictValue(memoryGrowthRate, predictionDate);
        <span class="hljs-type">double</span> <span class="hljs-variable">predictedRequests</span> <span class="hljs-operator">=</span> predictValue(requestGrowthRate, predictionDate);
        
        <span class="hljs-comment">// è®¡ç®—éœ€è¦çš„èµ„æº</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">neededInstances</span> <span class="hljs-operator">=</span> (<span class="hljs-type">int</span>) Math.ceil(predictedRequests / <span class="hljs-number">1000</span>);  <span class="hljs-comment">// å‡è®¾å•å®ä¾‹æ”¯æ’‘1000QPS</span>
        <span class="hljs-type">double</span> <span class="hljs-variable">neededCpuPerInstance</span> <span class="hljs-operator">=</span> predictedCpu / neededInstances;
        <span class="hljs-type">double</span> <span class="hljs-variable">neededMemoryPerInstance</span> <span class="hljs-operator">=</span> predictedMemory / neededInstances;
        
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CapacityPrediction</span>(
            neededInstances,
            neededCpuPerInstance,
            neededMemoryPerInstance,
            predictionDate
        );
    }
}
</code></pre>
<h3 data-id="heading-34">ä¹ã€å¸¸è§é—®é¢˜è§£å†³</h3>
<h4 data-id="heading-35">1. Admin Serveræ‰¾ä¸åˆ°å®¢æˆ·ç«¯</h4>
<p><strong>æ£€æŸ¥</strong>ï¼š</p>
<ol>
<li>å®¢æˆ·ç«¯<code>spring.boot.admin.client.url</code>é…ç½®æ­£ç¡®</li>
<li>å®¢æˆ·ç«¯æš´éœ²äº†<code>/actuator</code>ç«¯ç‚¹</li>
<li>ç½‘ç»œè¿é€šæ€§</li>
<li>å®‰å…¨é…ç½®</li>
</ol>
<h4 data-id="heading-36">2. å¥åº·æ£€æŸ¥æ˜¾ç¤ºUNKNOWN</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># å®¢æˆ·ç«¯é…ç½®</span>
<span class="hljs-attr">management:</span>
  <span class="hljs-attr">endpoint:</span>
    <span class="hljs-attr">health:</span>
      <span class="hljs-attr">show-details:</span> <span class="hljs-string">always</span>
      <span class="hljs-comment"># æ·»åŠ è‡ªå®šä¹‰å¥åº·æŒ‡ç¤ºå™¨</span>
      <span class="hljs-attr">group:</span>
        <span class="hljs-attr">custom:</span>
          <span class="hljs-attr">include:</span> <span class="hljs-string">diskSpace,</span> <span class="hljs-string">db,</span> <span class="hljs-string">redis,</span> <span class="hljs-string">custom</span>
</code></pre>
<h4 data-id="heading-37">3. ç›‘æ§æ•°æ®ä¸å‡†ç¡®</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è‡ªå®šä¹‰HealthIndicatoræ—¶ï¼Œç¡®ä¿æ­£ç¡®å¤„ç†å¼‚å¸¸</span>
<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doHealthCheck</span><span class="hljs-params">(Health.Builder builder)</span> <span class="hljs-keyword">throws</span> Exception {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// æ£€æŸ¥é€»è¾‘</span>
        <span class="hljs-type">boolean</span> <span class="hljs-variable">healthy</span> <span class="hljs-operator">=</span> checkService();
        <span class="hljs-keyword">if</span> (healthy) {
            builder.up();
        } <span class="hljs-keyword">else</span> {
            builder.down();
        }
    } <span class="hljs-keyword">catch</span> (Exception e) {
        builder.down(e);  <span class="hljs-comment">// è®°å½•å¼‚å¸¸</span>
    }
}
</code></pre>
<h4 data-id="heading-38">4. æ€§èƒ½å½±å“</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># è°ƒæ•´ç›‘æ§é¢‘ç‡</span>
<span class="hljs-attr">management:</span>
  <span class="hljs-attr">endpoints:</span>
    <span class="hljs-attr">web:</span>
      <span class="hljs-attr">exposure:</span>
        <span class="hljs-attr">include:</span> <span class="hljs-string">health,</span> <span class="hljs-string">info,</span> <span class="hljs-string">metrics</span>  <span class="hljs-comment"># åªæš´éœ²å¿…è¦çš„</span>
  
  <span class="hljs-attr">metrics:</span>
    <span class="hljs-attr">export:</span>
      <span class="hljs-comment"># é™ä½é‡‡é›†é¢‘ç‡</span>
      <span class="hljs-attr">simple:</span>
        <span class="hljs-attr">step:</span> <span class="hljs-string">30s</span>  <span class="hljs-comment"># 30ç§’é‡‡é›†ä¸€æ¬¡</span>
    
    <span class="hljs-comment"># å…³é—­ä¸é‡è¦çš„æŒ‡æ ‡</span>
    <span class="hljs-attr">enable:</span>
      <span class="hljs-attr">jvm:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">system:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">tomcat:</span> <span class="hljs-literal">false</span>  <span class="hljs-comment"># å¦‚æœä¸æ˜¯Tomcat</span>
      <span class="hljs-attr">logback:</span> <span class="hljs-literal">false</span>
      <span class="hljs-attr">hikaricp:</span> <span class="hljs-literal">true</span>  <span class="hljs-comment"># æ•°æ®åº“è¿æ¥æ± é‡è¦</span>
</code></pre>
<h3 data-id="heading-39">åã€ä»Šå„¿ä¸ªæ€»ç»“</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1RVyYBZE4z%2F%3Fvd_source%3Dd9789da0ed994ac777a822cd5ea4cf30" target="_blank" title="https://www.bilibili.com/video/BV1RVyYBZE4z/?vd_source=d9789da0ed994ac777a822cd5ea4cf30" ref="nofollow noopener noreferrer">é›¶åŸºç¡€å…¨æ ˆå¼€å‘Javaå¾®æœåŠ¡ç‰ˆæœ¬å®æˆ˜-åç«¯-å‰ç«¯-è¿ç»´-å®æˆ˜ä¼ä¸šçº§ä¸‰ä¸ªå®æˆ˜é¡¹ç›®</a></p>
<p><strong>èµ„æºè·å–</strong>ï¼šå…³æ³¨å…¬ä¼—å·: å°åè¯´Java ï¼Œè·å–æœ¬æ–‡æ‰€æœ‰ç¤ºä¾‹ä»£ç ã€é…ç½®æ¨¡æ¿åŠå¯¼å‡ºå·¥å…·ã€‚</p>
<h4 data-id="heading-40">å­¦ä¼šäº†å•¥ï¼Ÿ</h4>
<ol>
<li>âœ… Spring Boot Adminçš„ä½œç”¨ï¼ˆå¾®æœåŠ¡"è´´èº«ä¿é•–"ï¼‰</li>
<li>âœ… Admin Serveræ­å»ºå’Œé…ç½®</li>
<li>âœ… å®¢æˆ·ç«¯é›†æˆå’Œç›‘æ§ç«¯ç‚¹æš´éœ²</li>
<li>âœ… å¥åº·æ£€æŸ¥è‡ªå®šä¹‰</li>
<li>âœ… æŒ‡æ ‡ç›‘æ§å’Œè‡ªå®šä¹‰æŒ‡æ ‡</li>
<li>âœ… å‘Šè­¦é€šçŸ¥é…ç½®ï¼ˆé‚®ä»¶ã€é’‰é’‰ã€å¾®ä¿¡ï¼‰</li>
<li>âœ… ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æ–¹æ¡ˆ</li>
<li>âœ… ç›‘æ§æœ€ä½³å®è·µ</li>
</ol>
<h4 data-id="heading-41">å…³é”®ç‚¹</h4>
<ol>
<li><strong>Actuatorå¿…é¡»</strong>ï¼šå®¢æˆ·ç«¯è¦æš´éœ²ç«¯ç‚¹</li>
<li><strong>å®‰å…¨ç¬¬ä¸€</strong>ï¼šAdmin Serverå¿…é¡»åŠ æƒé™æ§åˆ¶</li>
<li><strong>åˆ†çº§ç›‘æ§</strong>ï¼šä¸åŒç¯å¢ƒä¸åŒç­–ç•¥</li>
<li><strong>å‘Šè­¦åŠæ—¶</strong>ï¼šå¤šç§é€šçŸ¥æ¸ é“</li>
<li><strong>æ€§èƒ½å¹³è¡¡</strong>ï¼šç›‘æ§ä¸èƒ½å½±å“ä¸šåŠ¡</li>
</ol>
<h3 data-id="heading-42">åä¸€ã€æ˜å„¿ä¸ªå­¦å•¥ï¼Ÿ</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1RVyYBZE4z%2F%3Fvd_source%3Dd9789da0ed994ac777a822cd5ea4cf30" target="_blank" title="https://www.bilibili.com/video/BV1RVyYBZE4z/?vd_source=d9789da0ed994ac777a822cd5ea4cf30" ref="nofollow noopener noreferrer">é›¶åŸºç¡€å…¨æ ˆå¼€å‘Javaå¾®æœåŠ¡ç‰ˆæœ¬å®æˆ˜-åç«¯-å‰ç«¯-è¿ç»´-å®æˆ˜ä¼ä¸šçº§ä¸‰ä¸ªå®æˆ˜é¡¹ç›®</a></p>
<p><strong>èµ„æºè·å–</strong>ï¼šå…³æ³¨å…¬ä¼—å·: å°åè¯´Java ï¼Œè·å–æœ¬æ–‡æ‰€æœ‰ç¤ºä¾‹ä»£ç ã€é…ç½®æ¨¡æ¿åŠå¯¼å‡ºå·¥å…·ã€‚</p>
<p>æ˜å¤©å’±å­¦<strong>å®¹å™¨åŒ–éƒ¨ç½²</strong>ï¼</p>
<ul>
<li>ç”¨Dockeræ‰“åŒ…å¾®æœåŠ¡ï¼Œä¸€æ¬¡æ„å»ºå¤„å¤„è¿è¡Œ</li>
<li>Docker Composeä¸€é”®å¯åŠ¨æ‰€æœ‰æœåŠ¡</li>
<li>é•œåƒä¼˜åŒ–ï¼šä»1GBåˆ°100MBçš„ç˜¦èº«ç§˜è¯€</li>
<li>ç”Ÿäº§ç¯å¢ƒDockeræœ€ä½³å®è·µ</li>
</ul>
<p>æ˜å¤©å’±è®©å¾®æœåŠ¡ä½è¿›"é›†è£…ç®±"ï¼Œéƒ¨ç½²ä¸å†å¤´ç–¼ï¼ğŸ³</p>
<hr/>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€æ™ºèƒ½ä½“åˆä½“éªŒã€‘åˆè¯†GraphRAG]]></title>    <link>https://juejin.cn/post/7595147871939280942</link>    <guid>https://juejin.cn/post/7595147871939280942</guid>    <pubDate>2026-01-15T02:42:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595147871939280942" data-draft-id="7595142737513005083" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€æ™ºèƒ½ä½“åˆä½“éªŒã€‘åˆè¯†GraphRAG"/> <meta itemprop="keywords" content="Agent"/> <meta itemprop="datePublished" content="2026-01-15T02:42:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="zlbit85"/> <meta itemprop="url" content="https://juejin.cn/user/3722282027462487"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€æ™ºèƒ½ä½“åˆä½“éªŒã€‘åˆè¯†GraphRAG
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3722282027462487/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    zlbit85
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-15T02:42:42.000Z" title="Thu Jan 15 2026 02:42:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1å°æ—¶+
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹</p>
<h2 data-id="heading-0"><strong>å‰è¨€</strong></h2>
<blockquote>
<p>å‰é¢ç®€å•äº†è§£äº†ä¸€ä¸‹RAGæŠ€æœ¯ï¼Œå…¶å®å¯¹æˆ‘æ¥è¯´è™½ç„¶æ˜¯å…ˆçŸ¥é“RAGæŠ€æœ¯çš„ï¼Œä½†æ˜¯çœŸæ­£çš„çœ‹åˆ°å…·ä½“æŠ€æœ¯å®ç°çš„æ˜¯GraphRAGã€‚å¯¹äºGraphRAGåœ¨ç½‘ä¸Šå¯¹å…¶è¤’è´¬ä¸ä¸€è¯´ä»–è™½ç„¶å‡†ç¡®æ€§æ›´é«˜ä½†æ˜¯æ¶ˆè€—å¤§ä»£ä»·é«˜æ˜‚ï¼Œä¹Ÿæœ‰è¯´ä»–å¹»è§‰è¾ƒé«˜çš„ã€‚é‚£GraphRAGåˆ°åº•æ€ä¹ˆæ ·ï¼Œç„¶åæ€ä¹ˆç”¨ï¼Œé€‚åˆåœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨ä»¥åŠä»–çš„ç¼ºé™·å’Œå¯¹RAGæŠ€æœ¯æœªæ¥å±•æœ›ã€‚</p>
<p>æœ€è¿‘æœ‰äº›æƒ³å¿µå›½æ¼«ã€Šå‡¡äººä¿®ä»™ä¼ ã€‹æ‰€ä»¥å¤§è§„æ¨¡æ–‡æœ¬æ•°æ®ä¸‹GraphRAGå®æˆ˜çš„ä¾‹å­æ˜¯ã€Šå‡¡äººä¿®ä»™ä¼ ã€‹å°è¯´éƒ¨åˆ†ç« èŠ‚ã€‚</p>
<p>å¦‚æœæ–‡ç« èƒ½å¸®åˆ°å…¶ä»–å°ä¼™ä¼´ï¼Œé‚£æ˜¯æˆ‘çš„è£å¹¸ã€‚æ–‡ä¸­å¦‚æœ‰ä¸å½“çš„åœ°æ–¹æ¬¢è¿å¤§å®¶å‹å¥½è®¨è®ºï¼Œå¯¹äºä¸å¦¥æˆ‘ä¼šç§¯æä¿®æ”¹ã€‚ï¼ˆæœ‰éƒ¨åˆ†å›¾ç‰‡å’Œå®ç°æ–¹æ¡ˆåŠæ“ä½œæ­¥éª¤å–è‡ªå…¶ä»–åšå®¢å’Œå…¬ä¼—å·ï¼Œä½œè€…å‡ä¼šåœ¨åé¢å¼•ç”¨è¯´æ˜ï¼‰</p>
<p>å¤§ä½¬ä»¬æœ‰æ›´å¥½çš„è§£å†³è§è§£å’Œæƒ³æ³•ï¼Œä¹Ÿå¸Œæœ›èƒ½å¤ŸæŒ‡ç‚¹æŒ‡ç‚¹~~~~</p>
</blockquote>
<h2 data-id="heading-1">ä¸€ã€GraphRAGä¸ä¼ ç»ŸRAG</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8fa6aa69faa644868549d013089d0103~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=VDqPgA5bIO02cmx%2FxkUEXIeHeAg%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹</p>
<h3 data-id="heading-2"><strong>1. ç»å…¸RAGï¼šåŸºäºè¯­ä¹‰ç›¸ä¼¼æ€§çš„é«˜æ•ˆæ£€ç´¢</strong></h3>
<p>ç»å…¸RAGé€šè¿‡<strong>è¯­ä¹‰å‘é‡åŒ–</strong>ä¸<strong>ç›¸ä¼¼æ€§æœç´¢</strong>å®ç°çŸ¥è¯†æ£€ç´¢ã€‚å…¶æµç¨‹æ¸…æ™°ç›´æ¥ï¼šå°†æ–‡æ¡£åˆ†å‰²ä¸ºæ–‡æœ¬å—ï¼Œç¼–ç ä¸ºå‘é‡åå­˜å…¥å‘é‡æ•°æ®åº“ï¼›å½“æŸ¥è¯¢è¾“å…¥æ—¶ï¼ŒåŒæ ·å°†å…¶ç¼–ç ä¸ºå‘é‡ï¼Œé€šè¿‡è®¡ç®—ä½™å¼¦ç›¸ä¼¼åº¦ç­‰æ–¹æ³•ï¼Œä»æµ·é‡æ•°æ®ä¸­å¿«é€Ÿæ‰¾å‡ºè¯­ä¹‰æœ€ç›¸å…³çš„æ–‡æœ¬ç‰‡æ®µä½œä¸ºä¸Šä¸‹æ–‡ï¼Œæœ€ç»ˆäº¤ç”±å¤§è¯­è¨€æ¨¡å‹ç”Ÿæˆç­”æ¡ˆã€‚è¿™ç§æ–¹æ³•å°¤å…¶æ“…é•¿å¤„ç†<strong>äº‹å®å‹ã€å•è·³</strong>çš„é—®é¢˜ï¼Œä¾‹å¦‚ï¼Œå½“è¯¢é—®â€œè°å‘æ˜äº†ç”µè¯ï¼Ÿâ€æ—¶ï¼ŒRAGå¹¶éå‡­ç©ºç”Ÿæˆä¸€ä¸ªåå­—ï¼Œè€Œæ˜¯å…ˆæ£€ç´¢å‡ºè®°è½½ç›¸å…³å‘æ˜å²å®çš„æ–‡æœ¬å—ï¼Œå†æ®æ­¤ç²¾å‡†é”šå®šç­”æ¡ˆï¼šâ€œäºšå†å±±å¤§Â·æ ¼æ‹‰æ±‰å§†Â·è´å°”â€ã€‚è¿™ä½¿å¾—RAGæˆä¸ºæ„å»ºå¯é ã€å¯ä¿¡èµ–æ™ºèƒ½åº”ç”¨çš„å…³é”®æŠ€æœ¯ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/01c826bafa1a43c087ec62e484997757~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=PgdrO5ZLNHWfCsqgEaRfuUSxBMA%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹</p>
<p>è¿™ä¸ªå›¾æ˜¯RAGã€åŸºäº KG çš„ GraphRAG å’ŒåŸºäºç¤¾åŒºçš„ GraphRAG çš„ç¤ºæ„å›¾ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fhtml%2F2502.11371v2" title="https://arxiv.org/html/2502.11371v2" target="_blank" ref="nofollow noopener noreferrer">RAG vs. GraphRAGï¼šç³»ç»Ÿè¯„ä¼°ä¸å…³é”®è§è§£</a>ï¼‰ã€‚</p>
<h3 data-id="heading-3"><strong>2. GraphRAGï¼šåŸºäºå…³ç³»ç»“æ„çš„æ·±åº¦æ¨ç†</strong></h3>
<p>GraphRAG(<a href="https://link.juejin.cn?target=https%3A%2F%2Fmsdocs.cn%2Fgraphrag%2F" title="https://msdocs.cn/graphrag/" target="_blank" ref="nofollow noopener noreferrer">æ¬¢è¿ - GraphRAG æ–‡æ¡£</a>)æ˜¯ä¸€ç§åŸºäºçŸ¥è¯†å›¾è°±çš„æ£€ç´¢å¢å¼ºç”Ÿæˆæ¶æ„ï¼Œå®ƒå°†éç»“æ„åŒ–æ–‡æœ¬è½¬åŒ–ä¸ºç»“æ„åŒ–çš„çŸ¥è¯†ç½‘ç»œï¼Œä»è€Œå®ç°å¯¹å¤æ‚å…³ç³»çš„æ·±åº¦æ¨ç†ä¸ç²¾å‡†æ£€ç´¢ã€‚å…¶æ ¸å¿ƒæµç¨‹ä¸å…¸å‹å®ç°æ–¹å¼å¯åˆ†ä¸ºä¸‰ä¸ªå±‚æ¬¡ï¼š</p>
<p>é¦–å…ˆï¼Œç³»ç»Ÿé€šè¿‡å¤§è¯­è¨€æ¨¡å‹ä»åŸå§‹æ–‡æœ¬ä¸­æå–<strong>å®ä½“</strong>ã€<strong>å…³ç³»</strong>ï¼Œæ„æˆâ€œå®ä½“-å…³ç³»-å®ä½“â€<strong>ä¸‰å…ƒç»„</strong>ï¼Œå¹¶ä»¥æ­¤æ„å»ºçŸ¥è¯†å›¾è°±ã€‚å›¾è°±ä¸­çš„èŠ‚ç‚¹ä»£è¡¨å®ä½“ï¼Œè¾¹ä»£è¡¨å®ä½“é—´çš„å…³ç³»ï¼Œå½¢æˆäº†æœºå™¨å¯ç†è§£ã€å¯éå†çš„<strong>è¯­ä¹‰ç½‘ç»œ</strong>ã€‚</p>
<p>åŸºäºè¿™ä¸€çŸ¥è¯†ç»“æ„ï¼ŒGraphRAG ä¸»è¦æä¾›ä¸‰ç±»æ£€ç´¢è·¯å¾„ï¼š</p>
<h4 data-id="heading-4"><strong>ï¼ˆ1ï¼‰åŸºäºä¸‰å…ƒç»„çš„æ£€ç´¢ï¼ˆKG-GraphRAGï¼‰</strong></h4>
<p>ç³»ç»Ÿç›´æ¥åˆ©ç”¨çŸ¥è¯†å›¾è°±è¿›è¡Œæ£€ç´¢ã€‚å½“æŸ¥è¯¢è¾“å…¥æ—¶ï¼Œå…ˆè¯†åˆ«å…¶ä¸­çš„å®ä½“ï¼Œå¹¶åœ¨å›¾è°±ä¸­å®šä½å¯¹åº”èŠ‚ç‚¹ï¼Œç»§è€Œé€šè¿‡éå†å…³ç³»è¾¹ï¼Œæ”¶é›†å…¶å¤šè·³é‚»å±…çš„ä¸‰å…ƒç»„ä¿¡æ¯ä½œä¸ºä¸Šä¸‹æ–‡ã€‚ä¾‹å¦‚ï¼Œå¯¹äºâ€œçˆ±å› æ–¯å¦çš„å¯¼å¸ˆæ˜¯è°ï¼Ÿâ€ï¼Œç³»ç»Ÿä»â€œçˆ±å› æ–¯å¦â€èŠ‚ç‚¹å‡ºå‘ï¼Œæ²¿â€œå¯¼å¸ˆâ€å…³ç³»è¾¹å³å¯æ‰¾åˆ°ç­”æ¡ˆå®ä½“ã€‚æ­¤æ–¹æ³•è¿˜å¯é€‰æ‹©æ˜¯å¦å…³è”æ£€ç´¢ä¸‰å…ƒç»„å¯¹åº”çš„åŸæ–‡ç‰‡æ®µï¼Œä»¥å¢å¼ºä¿¡æ¯å®Œæ•´æ€§ã€‚</p>
<h4 data-id="heading-5"><strong>ï¼ˆ2ï¼‰åŸºäºç¤¾åŒºç»“æ„çš„æ£€ç´¢ï¼ˆCommunity-GraphRAGï¼‰</strong></h4>
<p>åœ¨çŸ¥è¯†å›¾è°±çš„åŸºç¡€ä¸Šï¼Œè¿›ä¸€æ­¥é€šè¿‡ç¤¾åŒºæ£€æµ‹ç®—æ³•è¯†åˆ«å‡ºç´§å¯†å…³è”çš„å®ä½“ç¾¤è½ï¼Œå¹¶æ„å»º<strong>å±‚æ¬¡åŒ–ç¤¾åŒº</strong>ç»“æ„ã€‚æ¯ä¸ªç¤¾åŒºå¯è‡ªåŠ¨ç”Ÿæˆæ‘˜è¦æŠ¥å‘Šã€‚æ£€ç´¢æ—¶åˆ†ä¸ºä¸¤ç§ç­–ç•¥ï¼š</p>
<ul>
<li><strong>å…¨å±€æ£€ç´¢</strong>ï¼šæ ¹æ®æŸ¥è¯¢è¯­ä¹‰ï¼Œç›´æ¥åŒ¹é…å’Œæ£€ç´¢é«˜å±‚ç¤¾åŒºçš„æ‘˜è¦æŠ¥å‘Šï¼Œè·å¾—å…¨å±€æ€§ã€æ¦‚æ‹¬æ€§çš„è¯­å¢ƒã€‚</li>
<li><strong>å±€éƒ¨æ£€ç´¢</strong>ï¼šåŸºäºæŸ¥è¯¢ä¸­çš„å®ä½“å®šä½åˆ°å…·ä½“ç¤¾åŒºï¼Œæ£€ç´¢è¯¥ç¤¾åŒºçš„è¯¦ç»†æŠ¥å‘ŠåŠç›¸å…³ä¸‰å…ƒç»„ï¼Œè·å–å±€éƒ¨æ·±åº¦ä¿¡æ¯ã€‚è¿™ç§æ–¹å¼å°¤å…¶é€‚åˆå¤„ç†â€œçˆ±å› æ–¯å¦çš„å¯¼å¸ˆçš„å¯¼å¸ˆæ˜¯è°ï¼Ÿâ€è¿™ç±»éœ€è¦å¤šè·³æ¨ç†çš„é—®é¢˜ã€‚</li>
</ul>
<h4 data-id="heading-6"><strong>ï¼ˆ3ï¼‰åŸºäºæ–‡æœ¬èŠ‚ç‚¹çš„æ£€ç´¢</strong></h4>
<p>æ­¤ç±»æ–¹æ³•ï¼ˆå¦‚HippoRAGï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fhtml%2F2502.14802v2" title="https://arxiv.org/html/2502.14802v2" target="_blank" ref="nofollow noopener noreferrer">ä»RAGåˆ°è®°å¿†ï¼šå¤§å‹è¯­è¨€æ¨¡å‹çš„éå‚æ•°æŒç»­å­¦ä¹ </a>ï¼‰ï¼‰å°†çŸ¥è¯†å›¾è°±ä½œä¸ºç´¢å¼•ç»“æ„ï¼Œä½†æœ€ç»ˆæ£€ç´¢å¯¹è±¡ä»æ˜¯åŸå§‹æ–‡æœ¬å—ã€‚ç³»ç»Ÿå…ˆè¯†åˆ«æŸ¥è¯¢ç›¸å…³çš„å®ä½“ï¼Œç„¶åè¿”å›ä¸è¿™äº›å®ä½“ç›¸è¿çš„åŸæ–‡æ®µè½ï¼Œå…¼å…·å›¾è°±çš„å…³ç³»å¼•å¯¼èƒ½åŠ›ä¸æ–‡æœ¬çš„ç»†èŠ‚ä¸°å¯Œæ€§ã€‚</p>
<h3 data-id="heading-7">3.ä¼ ç»ŸRAGç›¸å¯¹äºGraphRAGçš„å±€é™æ€§</h3>
<p>ä¼ ç»Ÿæ£€ç´¢å¢å¼ºç”Ÿæˆç³»ç»Ÿæœ‰æ•ˆç¼“è§£äº†å¤§æ¨¡å‹çš„å¹»è§‰é—®é¢˜ï¼Œä½†å…¶åŸºç¡€æ¶æ„åœ¨é¢å¯¹å¤æ‚ã€å…³è”æ€§å¼ºçš„çœŸå®ä¸–ç•ŒçŸ¥è¯†æ—¶ï¼Œå­˜åœ¨ä¸¤å¤§æœ¬è´¨ç¼ºé™·ã€‚è¿™äº›ç¼ºé™·å¹¶éç®€å•æ”¹è¿›æ£€ç´¢ç®—æ³•æ‰€èƒ½å…‹æœï¼Œè€Œæ˜¯æºäºå…¶â€œéç»“æ„åŒ–æ–‡æœ¬å—æ£€ç´¢â€çš„æ ¹æœ¬èŒƒå¼ã€‚æ­£å› å¦‚æ­¤ï¼ŒGraphRAGä½œä¸ºä¸€ç§å¼•å…¥ç»“æ„åŒ–çŸ¥è¯†çš„æ¶æ„ï¼Œæˆä¸ºäº†æ›´ç¨³å¥ã€å¯é çš„æ›¿ä»£æ–¹æ¡ˆã€‚</p>
<h5 data-id="heading-8"><strong>å±€é™ä¸€ï¼šä¿¡æ¯ä»¥æ¨¡ç³Šçš„æ–‡æœ¬å½¢å¼å‘ˆç°ï¼Œè€Œéç¡®å®šçš„å…³ç³»ç»“æ„</strong></h5>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3b772fcd5b414b66bd4c1689001abfc7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=d1IB4hEs%2FdJih3e17kRG8dHgtIQ%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹â€‹</p>
<p>ä¼ ç»ŸRAGè¿ä½œäºä¸€ä¸ªåŸºæœ¬å‡è®¾ä¹‹ä¸Šï¼šåªè¦å°†ç›¸å…³çš„æ–‡æœ¬æ®µè½æä¾›ç»™å¤§æ¨¡å‹ï¼Œå®ƒå°±èƒ½æ­£ç¡®ç†è§£å¹¶ä¸²è”å…¶ä¸­çš„äº‹å®ã€‚ç„¶è€Œï¼Œè¿™æ­£æ˜¯å…¶è„†å¼±æ€§çš„æ¥æºã€‚äº‹å®ä¸Šå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰å¤©ç”Ÿæ“…é•¿å¤„ç†<strong>ç»“æ„åŒ–æ•°æ®</strong>ï¼Œå› ä¸ºå®ƒä»¬æä¾›äº†å®ä½“ä¹‹é—´çš„æ¸…æ™°å…³ç³»ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/84f087159ee34cd7a7156a156daf8870~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=3djQabtp1mgNqwg0WcyvnOIVeKE%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹â€‹</p>
<ul>
<li>
<p><strong>é—®é¢˜æœ¬è´¨</strong>ï¼šä¼ ç»ŸRAGæ£€ç´¢å’Œä¼ é€’çš„æ˜¯<strong>éç»“æ„åŒ–æˆ–åŠç»“æ„åŒ–çš„æ–‡æœ¬å—</strong>ã€‚è¿™äº›æ–‡æœ¬å—ä¸­çš„å®ä½“ä¸å…³ç³»è¢«éšè—åœ¨è‡ªç„¶è¯­è¨€çš„å™è¿°ä¸­ï¼Œéœ€è¦å¤§æ¨¡å‹åœ¨ç”Ÿæˆç­”æ¡ˆæ—¶è¿›è¡ŒäºŒæ¬¡è¯†åˆ«ã€è§£æå’Œæ¨æ–­ã€‚</p>
</li>
<li>
<p><strong>å…³é”®å¯¹æ¯”</strong>ï¼š</p>
<ul>
<li><strong>ä¼ ç»ŸRAGè¾“å…¥</strong>ï¼šâ€œçˆ±å› æ–¯å¦æå‡ºäº†ç›¸å¯¹è®ºï¼Œè¿™å¯¹ç°ä»£ç‰©ç†å­¦äº§ç”Ÿäº†æ·±è¿œå½±å“ã€‚â€</li>
<li><strong>GraphRAGå¯æä¾›çš„è¾“å…¥</strong>ï¼šï¼ˆçˆ±å› æ–¯å¦ï¼Œ æå‡ºï¼Œ ç›¸å¯¹è®ºï¼‰ï¼Œï¼ˆç›¸å¯¹è®ºï¼Œ å½±å“ï¼Œ ç°ä»£ç‰©ç†å­¦ï¼‰</li>
</ul>
</li>
<li>
<p><strong>ä¸ºä½•GraphRAGæ›´ç¨³å¥</strong>ï¼š</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cc0915cd39474dea82e84bb6816866b8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=MQptDkWmRfkgFcaH8We9YtwM8Cc%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹â€‹</p>
<p>å½“ç­”æ¡ˆä¾èµ–äºç²¾ç¡®çš„å…³ç³»ï¼ˆå¦‚â€œè°æå‡ºäº†ä»€ä¹ˆâ€ã€â€œAå¦‚ä½•å¯¼è‡´Bâ€ï¼‰æ—¶ï¼Œä¼ ç»ŸRAGè¿«ä½¿å¤§æ¨¡å‹æ‰§è¡Œä¸€é¡¹é¢å¤–ä¸”å®¹æ˜“å‡ºé”™çš„ä»»åŠ¡ï¼š<strong>ä»æ–‡æœ¬ä¸­æŒ–æ˜å…³ç³»</strong>ã€‚æ®µè½è¶Šé•¿ã€ä¿¡æ¯è¶Šå¤æ‚ï¼ŒæŒ–æ˜å¤±è´¥æˆ–äº§ç”Ÿæ­§ä¹‰çš„é£é™©å°±è¶Šé«˜ã€‚<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2e78440f5b434d7fbfc72f31fdfc59a9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=GJNX1VJ3AJ%2F%2Fd%2B%2BkmefoWjpJsWU%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹â€‹</p>
<p>ç›¸åï¼ŒGraphRAGåŸºäºçŸ¥è¯†å›¾è°±ï¼Œå…¶æ£€ç´¢å’Œæä¾›ç»™å¤§æ¨¡å‹çš„æ ¸å¿ƒæ˜¯<strong>æ˜¾å¼ã€ç»“æ„åŒ–çš„å…³ç³»ä¸‰å…ƒç»„</strong>ã€‚<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/07752ccdf7c24969b19ab791c366d611~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=BEH8ZfxzQV5CY1kPiFaTKGjv6dM%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹â€‹</p>
<p>è¿™ç›¸å½“äºå°†â€œé˜…è¯»ç†è§£å¹¶æç‚¼å…³ç³»â€çš„éš¾é¢˜åœ¨æ£€ç´¢é˜¶æ®µå°±å·²è§£å†³ï¼Œç›´æ¥å‘å¤§æ¨¡å‹è¾“é€æ¸…æ™°ã€æ— æ­§ä¹‰çš„äº‹å®ç½‘ç»œã€‚è¿™å¤§å¹…é™ä½äº†æ¨ç†çš„ä¸ç¡®å®šæ€§ï¼Œä½¿ç”Ÿæˆè¿‡ç¨‹å»ºç«‹åœ¨ç¡®å®šæ€§çš„çŸ¥è¯†éª¨æ¶ä¸Šï¼Œå› è€Œæ›´ä¸ºç¨³å¥ã€‚</p>
<h5 data-id="heading-9"><strong>å±€é™äºŒï¼šæ£€ç´¢åŸºäºå±€éƒ¨è¯­ä¹‰ç›¸ä¼¼ï¼Œè€Œéå…¨å±€é€»è¾‘å…³è”</strong></h5>
<p>ä¼ ç»ŸRAGçš„æ£€ç´¢æœºåˆ¶ï¼ˆå¦‚å‘é‡ç›¸ä¼¼åº¦æœç´¢ï¼‰æ“…é•¿å¯»æ‰¾â€œè°ˆè®ºç›¸ä¼¼è¯é¢˜â€çš„æ®µè½ï¼Œä½†æ— æ³•ç†è§£â€œä¿¡æ¯ä¹‹é—´å¦‚ä½•é€»è¾‘ç›¸è¿â€ã€‚è¿™å¯¼è‡´å…¶åœ¨å¤„ç†éœ€è¦è¿æ¥å¤šä¸ªä¿¡æ¯ç‚¹çš„æŸ¥è¯¢æ—¶ï¼Œè¡¨ç°æä¸ç¨³å®šã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a3f538dd173e4056bb3015818f04cd59~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=huN0bcfDrd9Hd%2FayikID1mGTMNs%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹â€‹</p>
<ul>
<li><strong>é—®é¢˜æœ¬è´¨</strong>ï¼šç³»ç»Ÿä»¥â€œå—â€ä¸ºå•ä½ç‹¬ç«‹è¯„ä¼°å…¶ä¸æŸ¥è¯¢çš„ç›¸å…³æ€§ï¼Œå®Œå…¨å¿½ç•¥äº†ä¿¡æ¯å—ä¹‹é—´å¯èƒ½å­˜åœ¨çš„ã€å¯¹å›ç­”é—®é¢˜è‡³å…³é‡è¦çš„<strong>é€»è¾‘çº½å¸¦</strong>ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/065c293e02c24b8bad648cf56a43e524~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=53M%2Fapype9Ej5ZqyF66uj4pf6HQ%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹â€‹</p>
<ul>
<li>
<p><strong>å…¸å‹å¤±æ•ˆåœºæ™¯</strong>ï¼šå›ç­”<strong>å¤šè·³é—®é¢˜</strong>ã€‚</p>
<ul>
<li><strong>æŸ¥è¯¢</strong>ï¼šâ€œè‹¹æœå…¬å¸æœ€æ–°äº§å“çš„èŠ¯ç‰‡é‡‡ç”¨äº†å“ªå®¶å…¬å¸çš„åˆ¶é€ å·¥è‰ºï¼Ÿâ€</li>
<li><strong>ä¿¡æ¯åˆ†å¸ƒ</strong>ï¼š<br/>
å—1ï¼ˆå…³äºäº§å“ï¼‰ï¼šâ€œè‹¹æœæœ€æ–°å‘å¸ƒçš„iPad Proæ­è½½äº†M4èŠ¯ç‰‡ã€‚â€<br/>
å—2ï¼ˆå…³äºèŠ¯ç‰‡ï¼‰ï¼šâ€œM4èŠ¯ç‰‡ç”±å°ç§¯ç”µï¼ˆTSMCï¼‰çš„3çº³ç±³å·¥è‰ºåˆ¶é€ ã€‚â€<br/>
ä¼ ç»ŸRAGå¯èƒ½æ£€ç´¢åˆ°å—1ï¼ˆå› ä¸ºâ€œè‹¹æœå…¬å¸æœ€æ–°äº§å“â€ç›¸å…³æ€§é«˜ï¼‰ï¼Œä½†å¾ˆå¯èƒ½é”™è¿‡å—2ï¼ˆå› ä¸ºæŸ¥è¯¢æœªç›´æ¥æåŠâ€œM4â€æˆ–â€œåˆ¶é€ å·¥è‰ºâ€ï¼‰ï¼Œå³ä¾¿æ£€ç´¢åˆ°ä¸¤è€…ï¼Œä¹Ÿæ— æ³•æ˜¾å¼å‘ŠçŸ¥æ¨¡å‹â€œM4èŠ¯ç‰‡â€æ­£æ˜¯â€œæœ€æ–°äº§å“â€æ‰€ç”¨çš„èŠ¯ç‰‡ã€‚</li>
</ul>
</li>
<li>
<p><strong>ä¸ºä½•GraphRAGæ›´ç¨³å¥</strong>ï¼š<br/>
GraphRAGå°†çŸ¥è¯†ç»„ç»‡ä¸ºä¸€å¼ ç½‘ç»œã€‚æ£€ç´¢ä¸å†æ˜¯å¯¹å­¤ç«‹æ–‡æœ¬å—çš„æ‰“åˆ†ï¼Œè€Œæ˜¯å¯¹çŸ¥è¯†ç½‘ç»œçš„<strong>å¯¼èˆªä¸éå†</strong>ã€‚</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f9cd2ad0e7bd44b0a6f9c9a04ae36dfa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=iJkMiQiNGhzFZZYhXcuIAdlSKV8%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹â€‹<br/>
é’ˆå¯¹ä¸Šè¿°æŸ¥è¯¢ï¼Œå›¾æŸ¥è¯¢å¼•æ“å¯ä»¥æ‰§è¡Œå¦‚ä¸‹çš„ç²¾ç¡®é€»è¾‘è·¯å¾„æŸ¥æ‰¾ï¼š<code>è‹¹æœå…¬å¸ â†’ å‘å¸ƒ â†’ iPad Pro â†’ æ­è½½ â†’ M4èŠ¯ç‰‡ â†’ é‡‡ç”¨å·¥è‰º â†’ å°ç§¯ç”µ3çº³ç±³</code>ã€‚è¿™ç§æœºåˆ¶èƒ½<strong>ä¸»åŠ¨åœ°ã€æŒ‰å›¾ç´¢éª¥åœ°</strong>æ”¶é›†åˆ°æ‰€æœ‰é€»è¾‘ä¸Šç›¸å…³è”çš„äº‹å®ï¼Œæ— è®ºè¿™äº›äº‹å®åœ¨åŸæ–‡ä¸­ç›¸è·å¤šè¿œã€‚<br/>
å› æ­¤ï¼ŒGraphRAGçš„ç¨³å¥æ€§ä½“ç°åœ¨å®ƒç”¨<strong>éµå¾ªé€»è¾‘çš„ç¡®å®šæ€§æ£€ç´¢</strong>ï¼Œæ›¿ä»£äº†ä¼ ç»ŸRAG<strong>ä¾èµ–æ¦‚ç‡çš„ç›¸ä¼¼æ€§æ£€ç´¢</strong>ï¼Œä»æ ¹æœ¬ä¸Šä¿éšœäº†å¤æ‚é—®é¢˜å›ç­”çš„å®Œæ•´æ€§ä¸å‡†ç¡®æ€§ã€‚</p>
<h3 data-id="heading-10">4.ä¼ ç»ŸRAGä¸GraphRAGçš„äº’è¡¥æ€§</h3>
<p>åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­æ·±åˆ»è®¤è¯†åˆ°æŠ€æœ¯æ˜¯ä¸æ–­è¿›æ­¥çš„ï¼Œæ²¡æœ‰ä»»ä½•ä¸€ä¸ªæŠ€æœ¯æ˜¯å®Œç¾çš„ï¼ŒæŠ€æœ¯ä¹Ÿä¸åˆ†ç»å¯¹çš„å¥½ååªçœ‹é€‚ç”¨åœºæ™¯ã€‚è€ŒRAGä¸GraphRAGä¹Ÿå¹¶éç®€å•çš„æ›¿ä»£å…³ç³»ï¼Œè€Œæ˜¯åœ¨ä¸åŒä»»åŠ¡åœºæ™¯ä¸‹å„å…·ä¼˜åŠ¿ã€äº’ä¸ºè¡¥å……çš„æŠ€æœ¯èŒƒå¼ã€‚é‚£æˆ‘é€šè¿‡<a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fhtml%2F2502.11371v2%23bib.bib11" title="https://arxiv.org/html/2502.11371v2#bib.bib11" target="_blank" ref="nofollow noopener noreferrer">RAG vs. GraphRAGï¼šç³»ç»Ÿè¯„ä¼°ä¸å…³é”®è§è§£</a>æ¥çœ‹çœ‹ä»–ä»¬å„è‡ªé€‚åˆä»€ä¹ˆä»»åŠ¡åœºæ™¯åˆå¯ä»¥å¦‚ä½•äº’è¡¥ã€‚</p>
<p>æˆ‘ä»¬çš„â€œè£åˆ¤â€æ˜¯å››ä¸ªç»å…¸çš„QAæ•°æ®é›†ï¼Œå®ƒä»¬å°±åƒå››ç±»ä¸åŒçš„è€ƒé¢˜ï¼š</p>
<ul>
<li><strong>NQ (è‡ªç„¶é—®é¢˜)</strong> ï¼šè€ƒçš„æ˜¯<strong>å•çŸ¥è¯†ç‚¹è®°å¿†</strong>ï¼Œæ¯”å¦‚â€œæ³°å¦å°¼å…‹å·æ˜¯å“ªå¹´æ²‰æ²¡çš„ï¼Ÿâ€ã€‚</li>
<li><strong>HotPotQA &amp; MultiHop-RAG</strong>ï¼šè€ƒçš„æ˜¯<strong>å¤šæ­¥éª¤æ¨ç†</strong>ï¼Œæ¯”å¦‚â€œæ‰§å¯¼äº†ã€Šç›—æ¢¦ç©ºé—´ã€‹çš„å¯¼æ¼”ï¼Œä»–å¦»å­ä¸»æ¼”äº†å“ªéƒ¨ç§‘å¹»ç‰‡ï¼Ÿâ€ã€‚</li>
<li><strong>NovelQA</strong>ï¼šé¢˜å‹æ›´å…¨ï¼ŒåŒ…å«21ç§ä¸åŒç±»å‹çš„æé—®ï¼Œåƒä¸ª<strong>ç»¼åˆèƒ½åŠ›å¤§è€ƒ</strong>ã€‚</li>
</ul>
<h4 data-id="heading-11">ï¼ˆ1ï¼‰å„è‡ªé€‚ç”¨åœºæ™¯</h4>
<h5 data-id="heading-12"><strong>1. RAGï¼šå‡ºè‰²çš„â€œç»†èŠ‚çŒæ‰‹â€</strong></h5>
<p>åœ¨å•è·³äº‹å®æ€§é—®é¢˜ï¼ˆNQï¼‰å’Œéœ€è¦æŠ ç»†èŠ‚çš„æŸ¥è¯¢ä¸Šï¼ŒRAGçš„å¾—åˆ†å¾ˆé«˜ã€‚ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºå®ƒå°±åƒä¸ªç²¾å‡†çš„â€œCTRL+Fâ€ï¼Œç›´æ¥æŠŠåŒ…å«ç­”æ¡ˆåŸå¥çš„æ–‡æœ¬å—æ‰¾å‡ºæ¥äº¤ç»™å¤§æ¨¡å‹ã€‚è¿™ç§â€œç…§æœ¬å®£ç§‘â€çš„æ–¹å¼ï¼Œå¯¹äºäº‹å®å¤è¿°éå¸¸å¯é ã€‚</p>
<h5 data-id="heading-13"><strong>2. GraphRAG (å°¤å…¶æ˜¯Localç‰ˆ)ï¼šå¼ºæ‚çš„â€œæ¨ç†ä¾¦æ¢â€</strong></h5>
<p>åœ¨é¢å¯¹éœ€è¦è¿æ¥å¤šä¸ªä¿¡æ¯ç‚¹çš„å¤šè·³é—®é¢˜æ—¶ï¼ŒGraphRAGçš„ä¼˜åŠ¿å°±å‡¸æ˜¾äº†ã€‚åœ¨HotPotQAå’ŒMultiHop-RAGè¿™ç±»â€œæ¨ç†é¢˜â€ä¸Šï¼Œå®ƒè¡¨ç°æœ€ä½³ã€‚å› ä¸ºå®ƒä¸æ˜¯æ‰¾å¥å­ï¼Œè€Œæ˜¯æ²¿ç€çŸ¥è¯†å›¾è°±é‡Œçš„å…³ç³»çº¿ï¼ˆè¾¹ï¼‰è¿›è¡Œâ€œä¾¦æ¢å¼èµ°è®¿â€ï¼Œèƒ½ä¸€æ­¥æ­¥æŠŠåˆ†æ•£çš„è¯æ®é“¾æ‹¼å‡‘èµ·æ¥ã€‚</p>
<p><strong>ä¸€ä¸ªå…³é”®å‘ç°</strong>ï¼šåœ¨ç»¼åˆè€ƒè¯•NovelQAä¸­ï¼Œè™½ç„¶GraphRAGæ€»ä½“å¹³å‡åˆ†å¯èƒ½ç•¥ä½äºRAGï¼Œä½†<strong>åœ¨å¤šè·³æ¨ç†è¿™ä¸ªå•é¡¹ä¸Šï¼Œå®ƒä¾ç„¶æ˜¯å† å†›</strong>ã€‚è¿™è¯´æ˜å®ƒçš„ç‰¹é•¿éå¸¸çªå‡ºã€‚</p>
<h4 data-id="heading-14"><strong>ï¼ˆ2ï¼‰ä¸ºä»€ä¹ˆå¯ä»¥äº’è¡¥</strong></h4>
<p>è®ºæ–‡åšäº†ä¸€ä¸ªæ›´ç»†è‡´çš„åˆ†æï¼šæŠŠæ¯ä¸ªé—®é¢˜æŒ‰ç…§â€œRAGå’ŒGraphRAGè°ç­”å¯¹äº†â€åˆ†æˆå››ç±»ã€‚<br/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d37d007db8084117a1c19f9678f2ecb6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=3FZaa34nO3H4SGRqc9BkBw9J6%2FA%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹â€‹</p>
<p>ç»“æœéå¸¸æœ‰è¶£ï¼ä»¥MultiHop-RAGæ•°æ®é›†ä¸ºä¾‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/58e1cd46d2d94902aaacdc21d2367565~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=kyFrFQIDjzZHkOqZsKcJpKnNQOo%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹â€‹</p>
<ul>
<li>æœ‰ç›¸å½“ä¸€éƒ¨åˆ†é—®é¢˜ï¼ˆçº¦13.6%ï¼‰<strong>åªæœ‰GraphRAGèƒ½ç­”å¯¹</strong>ï¼ˆRAGæä¸å®šï¼‰ã€‚</li>
<li>åŒæ—¶ï¼Œä¹Ÿæœ‰ä¸å°‘é—®é¢˜ï¼ˆçº¦11.6%ï¼‰<strong>åªæœ‰RAGèƒ½ç­”å¯¹</strong>ï¼ˆGraphRAGæä¸å®šï¼‰ã€‚</li>
</ul>
<p>è¿™è¯´æ˜ä»€ä¹ˆï¼Ÿ<strong>å®ƒä»¬ä¿©è¦†ç›–çš„èƒ½åŠ›åœˆæœ‰é‡å ï¼Œä½†ä¹Ÿæœ‰å¤§ç‰‡ä¸é‡å çš„â€œä¸“å±é¢†åŸŸâ€</strong> ã€‚RAGèƒ½è§£å†³ä¸€äº›GraphRAGè§£å†³ä¸äº†çš„é—®é¢˜ï¼ˆæ¯”å¦‚æŸäº›æä¾èµ–åŸæ–‡æªè¾çš„ç»†èŠ‚ï¼‰ï¼Œåä¹‹äº¦ç„¶ã€‚è¿™ä¸å°±æ˜¯â€œäº’è¡¥â€æœ€ç›´æ¥çš„è¯æ®å—ï¼Ÿ</p>
<h4 data-id="heading-15">ï¼ˆ3ï¼‰å¦‚ä½•å–é•¿è¡¥çŸ­</h4>
<p>æ—¢ç„¶äº’è¡¥æ€§è¿™ä¹ˆæ˜ç¡®ï¼Œæˆ‘ä»¬å½“ç„¶å¯ä»¥æƒ³åŠæ³•è®©å®ƒä»¬1+1&gt;2ã€‚</p>
<p><strong>ç­–ç•¥ä¸€ï¼šæ™ºèƒ½è·¯ç”±ï¼ˆè®©AIè‡ªå·±é€‰ä¸“å®¶ï¼‰</strong></p>
<ul>
<li><strong>æ€è·¯</strong>ï¼šæ¥åˆ°ä¸€ä¸ªé—®é¢˜æ—¶ï¼Œå…ˆè®©å¤§æ¨¡å‹å¿«é€Ÿåˆ¤æ–­ä¸€ä¸‹ï¼šâ€œè¿™æ˜¯ä¸ªé æ‰¾åŸæ–‡å°±èƒ½è§£å†³çš„äº‹å®é¢˜ï¼Œè¿˜æ˜¯ä¸ªéœ€è¦è¿ç‚¹æˆçº¿çš„æ¨ç†é¢˜ï¼Ÿâ€</li>
<li><strong>åšæ³•</strong>ï¼šå¦‚æœæ˜¯äº‹å®é¢˜ï¼Œå°±æ´¾ç»™RAGå¤„ç†ï¼›å¦‚æœæ˜¯æ¨ç†é¢˜ï¼Œå°±æ´¾ç»™GraphRAGå¤„ç†ã€‚</li>
<li><strong>ä¼˜ç‚¹</strong>ï¼š<strong>é«˜æ•ˆçœé’±</strong>ï¼Œæ¯ä¸ªé—®é¢˜åªç”¨ä¸€ä¸ªç³»ç»Ÿï¼Œé€Ÿåº¦å¿«ã€æˆæœ¬ä½ã€‚</li>
<li><strong>ç¼ºç‚¹</strong>ï¼šå®Œå…¨ä¾èµ–äºâ€œåˆ†è¯Šâ€è¿™ä¸€æ­¥çš„å‡†ç¡®æ€§ï¼Œä¸‡ä¸€åˆ¤æ–­é”™äº†ï¼Œæ•ˆæœå°±ä¼šæ‰“æŠ˜æ‰£ã€‚</li>
</ul>
<p><strong>ç­–ç•¥äºŒï¼šå¼ºåŠ›èåˆï¼ˆåŒä¸“å®¶ä¼šè¯Šï¼‰</strong></p>
<ul>
<li><strong>æ€è·¯</strong>ï¼šä¸ç®¡ä»€ä¹ˆé—®é¢˜ï¼Œè®©RAGå’ŒGraphRAGåŒæ—¶å¼€å·¥ï¼æŠŠRAGæ‰¾åˆ°çš„è¯¦ç»†åŸæ–‡ï¼Œå’ŒGraphRAGç†å‡ºçš„å…³ç³»è„‰ç»œï¼Œ<strong>æ‰“åŒ…åœ¨ä¸€èµ·</strong>å¡ç»™å¤§æ¨¡å‹ã€‚</li>
<li><strong>åšæ³•</strong>ï¼šè®©å¤§æ¨¡å‹åŒæ—¶çœ‹åˆ°â€œç»†èŠ‚ç¢ç‰‡â€å’Œâ€œå…³ç³»åœ°å›¾â€ï¼Œè‡ªå·±ç»¼åˆåˆ¤æ–­ï¼Œç”Ÿæˆæœ€ç»ˆç­”æ¡ˆã€‚</li>
<li><strong>ä¼˜ç‚¹</strong>ï¼š<strong>æ•ˆæœé€šå¸¸æœ€å¥½</strong>ï¼Œå› ä¸ºç»™åˆ°å¤§æ¨¡å‹çš„ä¿¡æ¯æœ€å…¨ã€è§†è§’æœ€å¤šã€‚</li>
<li><strong>ç¼ºç‚¹</strong>ï¼š<strong>è®¡ç®—æˆæœ¬é«˜</strong>ï¼Œä¸€ä¸ªé—®é¢˜è¦å¤„ç†ä¸¤éï¼Œå“åº”æ›´æ…¢ã€æ›´è´µã€‚</li>
</ul>
<p>å®éªŒè¯æ˜ï¼Œ<strong>èåˆç­–ç•¥çš„æ•ˆæœé€šå¸¸æœ€å¥½</strong>ï¼Œèƒ½æ˜¾è‘—æå‡åœ¨å¤šè·³é—®é¢˜ä¸Šçš„æˆç»©ã€‚è€Œ<strong>è·¯ç”±ç­–ç•¥åˆ™åœ¨æ•ˆæœå’Œæˆæœ¬é—´å–å¾—äº†å¾ˆå¥½çš„å¹³è¡¡</strong>ã€‚é€‰å“ªä¸ªï¼Œå°±çœ‹ä½ æ˜¯æ›´è¿½æ±‚æè‡´ç­”æ¡ˆï¼Œè¿˜æ˜¯æ›´åœ¨ä¹æ•ˆç‡äº†ã€‚</p>
<h4 data-id="heading-16"><strong>ï¼ˆ4ï¼‰å…³äºâ€œæ‘˜è¦ä»»åŠ¡â€å’Œè¯„ä¼°çš„å†·æ€è€ƒ</strong></h4>
<p>åœ¨å†™æ‘˜è¦çš„ä»»åŠ¡ä¸Šï¼Œæ•°æ®ä¹Ÿç»™äº†æˆ‘ä»¬ç±»ä¼¼å¯ç¤ºï¼š</p>
<ul>
<li>RAGå› ä¸ºèƒ½æŠ“å–åŸæ–‡ç»†èŠ‚ï¼Œåœ¨è´´è¿‘äº‹å®çš„æ‘˜è¦ä¸Šè¡¨ç°å¾ˆç¨³ã€‚</li>
<li>GraphRAGå¦‚æœåªç”¨çŸ¥è¯†å›¾è°±ï¼ˆä¸‰å…ƒç»„ï¼‰ä¼šä¸¢å¤±ç»†èŠ‚ï¼Œä½†<strong>å¦‚æœæŠŠå›¾è°±å’ŒåŸæ–‡ç»“åˆ</strong>ï¼Œå°±èƒ½åšå‡ºæ—¢æœ‰é€»è¾‘éª¨æ¶åˆæœ‰è¡€è‚‰çš„å¥½æ‘˜è¦ã€‚</li>
<li>ä¸€ä¸ªæœ‰è¶£çš„å‘ç°ï¼šç°åœ¨æµè¡Œç”¨å¤§æ¨¡å‹è‡ªå·±æ¥è¯„åˆ¤æ‘˜è¦å¥½åï¼ˆLLM-as-a-Judgeï¼‰ï¼Œä½†è¿™ç§æ–¹æ³•å­˜åœ¨æ˜æ˜¾çš„<strong>ä½ç½®åè§</strong>â€”â€”æŠŠå“ªä¸ªæ‘˜è¦æ”¾åœ¨å‰é¢è¯´ï¼Œä¼šæå¤§å½±å“å®ƒçš„æ‰“åˆ†ã€‚è¿™æé†’æˆ‘ä»¬ï¼Œå®¢è§‚çš„è¯„ä¼°ï¼ˆæ¯”å¦‚å¯¹æ¯”æ ‡å‡†ç­”æ¡ˆï¼‰ä»ç„¶ä¸å¯æˆ–ç¼ºã€‚</li>
</ul>
<p>â€‹â€‹</p>
<h2 data-id="heading-17">Â äºŒã€GraphRAGçš„å·¥ä½œæµç¨‹</h2>
<p>é€šè¿‡å‰é¢çš„å¯¹æ¯”ï¼Œæˆ‘ä»¬å·²ç»æ¸…æ™°åœ°çœ‹åˆ°ï¼šGraphRAGå‡­å€Ÿå…¶<strong>ç»“æ„åŒ–çš„çŸ¥è¯†å›¾è°±</strong>ï¼Œåœ¨å¤æ‚æ¨ç†ä¸å…¨å±€ç†è§£ä»»åŠ¡ä¸Šï¼Œç›¸æ¯”ä¼ ç»ŸRAGå±•ç°å‡ºäº†æ˜¾è‘—ä¼˜åŠ¿ã€‚</p>
<p>ç„¶è€Œï¼Œä¸€ä¸ªå…³é”®é—®é¢˜éšä¹‹è€Œæ¥ï¼šè¿™ä¸ªæ›´å¼ºå¤§çš„â€œæ¨ç†ä¾¦æ¢â€æˆ–â€œçŸ¥è¯†æ¶æ„å¸ˆâ€ï¼Œå…¶å†…éƒ¨ç©¶ç«Ÿæ˜¯å¦‚ä½•è¿ä½œçš„ï¼Ÿå®ƒæ˜¯æ€æ ·å°†ä¸€å †åŸå§‹æ–‡æœ¬ï¼Œä¸€æ­¥æ­¥ç‚¼åŒ–æˆé‚£ä¸ªå¯ç”¨äºæ·±åº¦æ£€ç´¢çš„ç»“æ„åŒ–çŸ¥è¯†ä½“ç³»çš„ï¼Ÿ</p>
<p>è¿™ä¸ªå°†Â <strong>â€œéç»“æ„åŒ–æ–‡æœ¬â€è½¬åŒ–ä¸ºâ€œç»“æ„åŒ–çŸ¥è¯†â€å¹¶åŠ ä»¥åˆ©ç”¨</strong>Â çš„è¿‡ç¨‹ï¼Œæ­£æ˜¯GraphRAGçš„æ ¸å¿ƒé­”æ³•ã€‚ç†è§£è¿™å¥—å·¥ä½œæµç¨‹ï¼Œä¸ä»…èƒ½è®©æˆ‘ä»¬çŸ¥å…¶ç„¶ï¼Œæ›´èƒ½çŸ¥å…¶æ‰€ä»¥ç„¶ï¼Œçœ‹æ¸…å…¶èƒ½åŠ›ä¼˜åŠ¿èƒŒåçš„å®ç°é€»è¾‘ã€‚</p>
<p>è¦æ·±å…¥ç†è§£ GraphRAG çš„è®¾è®¡åˆè¡·ï¼Œå¾®è½¯çš„è®ºæ–‡ã€ŠFrom Local to Global: A Graph RAG Approach to Query-Focused Summarizationã€‹<a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2404.16130" title="https://arxiv.org/abs/2404.16130" target="_blank" ref="nofollow noopener noreferrer">[2404.16130] ä»å±€éƒ¨åˆ°å…¨å±€ï¼šä»¥å›¾RAGæ–¹æ³•è¿›è¡ŒæŸ¥è¯¢èšç„¦æ€»ç»“</a>(<a href="https://link.juejin.cn?target=https%3A%2F%2Flearnopencv.com%2Fgraphrag-explained-knowledge-graphs-medical%2F%23aioseo-key-features-of-graphrag" title="https://learnopencv.com/graphrag-explained-knowledge-graphs-medical/#aioseo-key-features-of-graphrag" target="_blank" ref="nofollow noopener noreferrer">GraphRAG: Practical Guide to Supercharge RAG with Knowledge Graphs</a>)ç»™å‡ºäº†æ¸…æ™°çš„è§£ç­”ã€‚é’ˆå¯¹ä¼ ç»Ÿ RAG çš„ä¸¤å¤§å±€é™æ€§æå‡ºäº†è§£å†³æ–¹æ¡ˆï¼š</p>
<ol>
<li><strong>é’ˆå¯¹â€œä¿¡æ¯ä»¥æ¨¡ç³Šæ–‡æœ¬å‘ˆç°â€çš„å±€é™</strong>ï¼šä¼ ç»ŸRAGæä¾›çš„æ˜¯éœ€è¦äºŒæ¬¡è§£è¯»çš„è‡ªç„¶è¯­è¨€ç‰‡æ®µï¼Œå…³ç³»éšå«å…¶ä¸­ã€‚GraphRAGåˆ™å…ˆæ„å»º<strong>å®ä½“çŸ¥è¯†å›¾è°±</strong>ï¼Œå°†çŸ¥è¯†è½¬åŒ–ä¸ºæœºå™¨å¯ç›´æ¥å¤„ç†çš„ã€<strong>ç¡®å®šæ€§çš„å…³ç³»ç»“æ„</strong>ã€‚</li>
<li><strong>é’ˆå¯¹â€œæ£€ç´¢åŸºäºå±€éƒ¨è¯­ä¹‰ç›¸ä¼¼â€çš„å±€é™</strong>ï¼šä¼ ç»ŸRAGçš„æ£€ç´¢å—é™äºå‘é‡ç›¸ä¼¼åº¦ï¼Œéš¾ä»¥è¿›è¡Œå…¨å±€é€»è¾‘å…³è”ã€‚GraphRAGé€šè¿‡<strong>é¢„å…ˆç”Ÿæˆå±‚æ¬¡åŒ–çš„ç¤¾åŒºæ‘˜è¦</strong>ï¼Œä½¿ç³»ç»Ÿèƒ½å¤ŸåŸºäºå›¾è°±è¿›è¡Œ<strong>è·¨è¶Šæ–‡æ¡£çš„é€»è¾‘å…³è”ä¸æ¨ç†</strong>ã€‚</li>
</ol>
<p>å› æ­¤ï¼Œå½“é¢å¯¹éœ€è¦å¯¹æ•´ä¸ªæ–‡æ¡£é›†è¿›è¡Œç»¼åˆç†è§£çš„å…¨å±€æŸ¥è¯¢æ—¶ï¼Œä¼ ç»ŸRAGå¾€å¾€åªèƒ½è¿”å›é›¶æ•£çš„æ–‡æœ¬ç¢ç‰‡ã€‚è€ŒGraphRAGå‡­å€Ÿå…¶<strong>ç»“æ„åŒ–çš„çŸ¥è¯†è¡¨ç¤ºä¸æ£€ç´¢æœºåˆ¶</strong>ï¼Œèƒ½å¤Ÿç”Ÿæˆ<strong>æ›´å…¨é¢ã€æ›´å¤šæ ·</strong>çš„å›ç­”ï¼Œæœ¬è´¨ä¸Šæ˜¯å°†æ£€ç´¢ä»â€œå±€éƒ¨æ–‡æœ¬åŒ¹é…â€å‡çº§ä¸ºâ€œå…¨å±€çŸ¥è¯†å¯¼èˆªâ€ã€‚</p>
<h3 data-id="heading-18">1.GraphRAGçš„åŸºæœ¬æµç¨‹</h3>
<p>GraphRAGçš„åŸºæœ¬æµç¨‹å¦‚ä¸‹å›¾ï¼Œåˆ†ä¸ºä¸¤é˜¶æ®µï¼šç´¢å¼•é˜¶æ®µå’ŒæŸ¥è¯¢é˜¶æ®µï¼ˆç´«è‰²å—å±äºç´¢å¼•é˜¶æ®µï¼Œç»¿è‰²å—å±äºæŸ¥è¯¢é˜¶æ®µï¼‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7dbcec0846364c5192fe8e42a6782837~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=%2Bi9Zr42pyMJxEeWlD9XgRXFbAOI%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹â€‹</p>
<h4 data-id="heading-19">1.1GraphRAGçš„ç´¢å¼•é˜¶æ®µ</h4>
<p>GraphRAGçš„ç´¢å¼•é˜¶æ®µæ˜¯å…¶å·¥ä½œæµç¨‹ä¸­çš„å…³é”®é¢„å¤„ç†æ­¥éª¤ï¼Œæ ¸å¿ƒç›®æ ‡æ˜¯ä»åŸå§‹æ•°æ®ä¸­æ„å»ºæˆ–ä¸°å¯ŒçŸ¥è¯†å›¾è°±ã€‚å¾®è½¯æå‡ºçš„GraphRAGç´¢å¼•è¿‡ç¨‹åŒ…å«ä¸¤ä¸ªä¸»è¦é˜¶æ®µï¼š</p>
<h4 data-id="heading-20"><strong>ç¬¬ä¸€é˜¶æ®µï¼šæ„å»ºçŸ¥è¯†å›¾è°±â€”â€”å°†æ–‡æœ¬è½¬åŒ–ä¸ºç»“æ„åŒ–çŸ¥è¯†</strong></h4>
<p>çŸ¥è¯†å›¾è°±æ˜¯GraphRAGçš„â€œå¤§è„‘â€ï¼Œå…¶æ„å»ºæ˜¯ä»åŸå§‹æ–‡æœ¬ä¸­æå–ç»“æ„åŒ–çŸ¥è¯†çš„ç‚¼é‡‘è¿‡ç¨‹ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸»è¦åˆ†ä¸ºä¸‰æ­¥ï¼Œç›®æ ‡æ˜¯å°†éç»“æ„åŒ–çš„æ–‡å­—ï¼Œè½¬åŒ–ä¸ºç”±â€œèŠ‚ç‚¹â€ï¼ˆå®ä½“ï¼‰å’Œâ€œè¾¹â€ï¼ˆå…³ç³»ï¼‰æ„æˆçš„æ¸…æ™°ç½‘ç»œã€‚</p>
<h5 data-id="heading-21"><strong>æ­¥éª¤ä¸€ï¼šæ™ºèƒ½åˆ†å—â€”â€”ä¸ºå¤„ç†åšå¥½å‡†å¤‡</strong></h5>
<p>é¦–å…ˆï¼Œæµ·é‡æ–‡æ¡£ä¼šè¢«åˆ†å‰²æˆå¤§å°é€‚å®œçš„æ–‡æœ¬å—ã€‚è¿™æ˜¯ä¸€ä¸ªå…³é”®çš„æƒè¡¡ï¼š</p>
<ul>
<li><strong>å°å—ç­–ç•¥</strong>ï¼šèƒ½ä¿ç•™æ›´ç»†ç²’åº¦çš„ä¿¡æ¯ï¼Œé€‚åˆæ•æ‰å±€éƒ¨ç»†èŠ‚ï¼Œä½†ä¼šå¢åŠ å¤„ç†æ¬¡æ•°ä¸æˆæœ¬ã€‚</li>
<li><strong>å¤§å—ç­–ç•¥</strong>ï¼šèƒ½å‡å°‘è°ƒç”¨ã€é™ä½æˆæœ¬ï¼Œä½†å¯èƒ½å› ä¸Šä¸‹æ–‡è¿‡é•¿è€Œé—æ¼æ–‡æœ¬å†…éƒ¨çš„ä¸€äº›å…³é”®å…³è”ã€‚<br/>
æ­¤æ­¥éª¤çš„ç›®æ ‡æ˜¯åœ¨ä¿¡æ¯å®Œæ•´æ€§ä¸å¤„ç†æ•ˆç‡é—´æ‰¾åˆ°æœ€ä½³å¹³è¡¡ï¼Œä¸ºä¸‹ä¸€æ­¥çš„ç²¾å‡†æå–å¥ å®šåŸºç¡€ã€‚</li>
</ul>
<h5 data-id="heading-22"><strong>æ­¥éª¤äºŒï¼šæ ¸å¿ƒæå–â€”â€”è¯†åˆ«å®ä½“ä¸å…³ç³»</strong></h5>
<p>æ¯ä¸ªæ–‡æœ¬å—ä¼šè¢«é€å…¥å¤§è¯­è¨€æ¨¡å‹ï¼Œæ‰§è¡Œä¸€é¡¹æ ¸å¿ƒæŒ‡ä»¤ï¼š<strong>è¯†åˆ«æ‰€æœ‰æŒ‡å®šç±»å‹çš„å®ä½“ï¼Œä»¥åŠå®ƒä»¬å½¼æ­¤é—´çš„å…³ç³»</strong>ã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼Œå¤§æ¨¡å‹ä¼šå®Œæˆä¸¤ä»¶äº‹ï¼š</p>
<ol>
<li><strong>å®ä½“è¯†åˆ«</strong>ï¼šæ‰¾å‡ºæ‰€æœ‰äººã€äº‹ã€ç‰©ã€æ¦‚å¿µç­‰ï¼Œå¹¶ä¸ºå…¶ç”Ÿæˆå”¯ä¸€çš„IDã€è§„èŒƒçš„åç§°ã€ç±»å‹å’Œè¯¦ç»†æè¿°ã€‚</li>
<li><strong>å…³ç³»æŠ½å–</strong>ï¼šåœ¨æ‰€æœ‰å®ä½“é—´ï¼Œæ‰¾å‡ºé‚£äº›å­˜åœ¨æ˜ç¡®å…³è”çš„é…å¯¹ï¼Œå¹¶å®šä¹‰å…³ç³»çš„å…·ä½“å†…æ¶µä¸å¼ºåº¦ã€‚</li>
</ol>
<p>ä»¥ä¸‹æ˜¯é©±åŠ¨è¿™ä¸€è¿‡ç¨‹çš„æ ‡å‡†åŒ–æŒ‡ä»¤æ¨¡æ¿ä¸è¾“å‡ºç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// å¤§æ¨¡å‹æ¥æ”¶çš„æŒ‡ä»¤æ ¸å¿ƒ</span>
-Goal-ï¼šä»æ–‡æœ¬ä¸­æå–æ‰€æœ‰å®ä½“åŠå…³ç³»ã€‚
-Steps-ï¼š
<span class="hljs-number">1.</span> è¯†åˆ«æ‰€æœ‰å®ä½“ï¼Œè®°å½•å…¶åç§°ã€ç±»å‹ã€æè¿°ã€‚
<span class="hljs-number">2.</span> è¯†åˆ«æ‰€æœ‰å…³è”çš„å®ä½“å¯¹ï¼Œè®°å½•å…³ç³»æè¿°ä¸å¼ºåº¦ã€‚

<span class="hljs-comment">// å¤§æ¨¡å‹äº§å‡ºçš„ç»“æ„åŒ–ç»“æœç¤ºä¾‹</span>
<span class="hljs-meta"># å®ä½“ï¼ˆèŠ‚ç‚¹ï¼‰</span>
{
  <span class="hljs-string">"nodes"</span>: [
    {<span class="hljs-string">"id"</span>: <span class="hljs-string">"n0"</span>, <span class="hljs-string">"type"</span>: <span class="hljs-string">"PATIENT"</span>, <span class="hljs-string">"name"</span>: <span class="hljs-string">"æ‚£è€…"</span>, <span class="hljs-string">"description"</span>: <span class="hljs-string">"ä¸€ä½71å²ç”·æ€§..."</span>},
    {<span class="hljs-string">"id"</span>: <span class="hljs-string">"n1"</span>, <span class="hljs-string">"type"</span>: <span class="hljs-string">"DIAGNOSIS"</span>, <span class="hljs-string">"name"</span>: <span class="hljs-string">"å¤–å‘¨è¡€ç®¡ç–¾ç—…"</span>, <span class="hljs-string">"description"</span>: <span class="hljs-string">"ä¸€ç§å¾ªç¯ç³»ç»Ÿç–¾ç—…..."</span>}
  ]
}
<span class="hljs-meta"># å…³ç³»ï¼ˆè¾¹ï¼‰</span>
{
  <span class="hljs-string">"edges"</span>: [
    {<span class="hljs-string">"source"</span>: <span class="hljs-string">"n0"</span>, <span class="hljs-string">"target"</span>: <span class="hljs-string">"n1"</span>, <span class="hljs-string">"description"</span>: <span class="hljs-string">"æ‚£è€…è¢«è¯Šæ–­æ‚£æœ‰æ­¤ç–¾ç—…"</span>}
  ]
}
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h5 data-id="heading-23"><strong>æ­¥éª¤ä¸‰ï¼šå›¾è°±åˆæˆâ€”â€”ä»ç¢ç‰‡åˆ°æ•´ä½“</strong></h5>
<p>æœ€åï¼Œç³»ç»Ÿå°†æ‰€æœ‰æ–‡æœ¬å—ä¸­æå–å‡ºçš„â€œå®ä½“-å…³ç³»â€ç¢ç‰‡è¿›è¡Œèåˆï¼Œæ„å»ºæˆä¸€ä¸ªç»Ÿä¸€ã€å…¨å±€çš„çŸ¥è¯†å›¾è°±ã€‚</p>
<ul>
<li><strong>å…³é”®æ“ä½œæ˜¯â€œå»é‡ä¸åˆå¹¶â€</strong> ï¼šåŒä¸€å®ä½“ï¼ˆå¦‚â€œæ‚£è€…å¼ ä¸‰â€ï¼‰æ— è®ºåœ¨ä¸åŒå—ä¸­è¢«æåˆ°å¤šå°‘æ¬¡ï¼Œåœ¨æœ€ç»ˆçš„å›¾è°±ä¸­åªä¼šæœ‰ä¸€ä¸ªå¯¹åº”çš„èŠ‚ç‚¹ï¼Œå…¶æ‰€æœ‰ç›¸å…³ä¿¡æ¯ä¼šè¢«èšåˆã€‚</li>
<li>è‡³æ­¤ï¼Œæ•£è½åœ¨æ–‡æ¡£å„å¤„çš„ä¿¡æ¯è¢«æ•´åˆæˆä¸€å¼ äº’è”çš„çŸ¥è¯†ç½‘ç»œï¼Œä¸ºåç»­çš„å›¾æ£€ç´¢ä¸æ¨ç†æä¾›äº†åšå®çš„æ•°æ®åŸºç¡€ã€‚</li>
</ul>
<h4 data-id="heading-24"><strong>ç¬¬äºŒé˜¶æ®µï¼š</strong> æ„å»ºç¤¾åŒºå±‚æ¬¡ç»“æ„å¹¶ç”Ÿæˆæ‘˜è¦ <strong>â€”â€”ä»â€œçŸ¥è¯†ç½‘ç»œâ€åˆ°â€œä¿¡æ¯åœ°å›¾â€</strong></h4>
<p>åœ¨æ„å»ºå‡ºç»Ÿä¸€çš„çŸ¥è¯†å›¾è°±åï¼ŒGraphRAGå¹¶æ²¡æœ‰æ­¢æ­¥ã€‚ä¸ºäº†è®©ç³»ç»Ÿä¸ä»…èƒ½ç†è§£ç»†ç²’åº¦çš„äº‹å®ï¼Œè¿˜èƒ½æŠŠæ¡æ–‡æœ¬é›†çš„æ•´ä½“ç»“æ„ä¸å®è§‚ä¸»é¢˜ï¼Œå®ƒè¿›è¡Œäº†å…³é”®çš„ç¬¬äºŒé˜¶æ®µå¤„ç†ï¼š<strong>ç¤¾åŒºå‘ç°ä¸å±‚æ¬¡åŒ–æ‘˜è¦</strong>ã€‚è¿™ç›¸å½“äºä¸ºçŸ¥è¯†ç½‘ç»œç»˜åˆ¶äº†â€œè¡Œæ”¿åŒºåˆ’å›¾â€å’Œâ€œåœ°åŒºç®€ä»‹â€ã€‚</p>
<h5 data-id="heading-25"><strong>æ­¥éª¤å››ï¼šå›¾åˆ†åŒºâ€”â€”è‡ªåŠ¨å‘ç°çŸ¥è¯†â€œç¤¾åŒºâ€</strong></h5>
<p>GraphRAGè¿ç”¨Â <strong>Leidenç¤¾åŒºå‘ç°ç®—æ³•</strong>ï¼Œå¯¹çŸ¥è¯†å›¾è°±è¿›è¡Œæ™ºèƒ½åˆ†åŒºã€‚è¿™ä¸ªç®—æ³•çš„å·¥ä½œåŸç†ä¸æ•ˆæœå¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>å±‚æ¬¡åŒ–èšç±»</strong>ï¼šç®—æ³•ä»¥é€’å½’çš„æ–¹å¼ï¼Œå°†å›¾è°±ä¸­è”ç³»ç´§å¯†çš„èŠ‚ç‚¹èšé›†ä¸ºè¯­ä¹‰ç¤¾åŒºï¼Œå¹¶å¯ä»¥è¿›ä¸€æ­¥åœ¨ç¤¾åŒºå†…å‘ç°å­ç¤¾åŒºï¼Œå½¢æˆä¸€ç§<strong>å±‚æ¬¡åŒ–ç»“æ„</strong>ï¼Œç›´è‡³æ— æ³•å†åˆ†ä¸ºæ­¢ã€‚</li>
<li><strong>ç²¾å‡†å½’å±</strong>ï¼šç®—æ³•ç¡®ä¿æ¯ä¸ªèŠ‚ç‚¹<strong>åªå½’å±äºä¸€ä¸ªç¤¾åŒº</strong>ï¼Œä¸”æ²¡æœ‰èŠ‚ç‚¹è¢«é—æ¼ï¼Œè¿™ä¿è¯äº†ç¤¾åŒºä¹‹é—´ç•Œé™æ¸…æ™°ã€è¦†ç›–å…¨é¢ã€‚</li>
<li><strong>è§„æ¨¡æ„ŸçŸ¥</strong>ï¼šç¤¾åŒºæˆ–èŠ‚ç‚¹çš„å¤§å°å¯ä»¥åæ˜ å…¶åœ¨æœ¬å±‚ä¸­çš„<strong>é‡è¦æ€§æˆ–ç›¸å…³åº¦</strong>ï¼Œä¸ºåç»­æ£€ç´¢æä¾›ç›´è§‚çš„æƒé‡å‚è€ƒã€‚</li>
</ul>
<p>é€šè¿‡è¿™ç§åˆ†åŒºï¼Œé›¶æ•£çš„å®ä½“è¢«ç»„ç»‡æˆäº†å…·æœ‰å†…åœ¨ä¸»é¢˜æ€§çš„ç¾¤ä½“ï¼Œä¸ºé«˜æ•ˆæ£€ç´¢å¥ å®šäº†åŸºç¡€ã€‚å½“é¢ä¸´æŸ¥è¯¢æ—¶ï¼Œç³»ç»Ÿå¯ä»¥æ ¹æ®é—®é¢˜çš„èŒƒç•´ï¼ŒåŠ¨æ€é€‰æ‹©åœ¨ä¸åŒå±‚çº§ï¼ˆå¦‚ç¬¬0å±‚å…¨å±€ã€ç¬¬1å±‚ä¸»é¢˜åŸŸã€ç¬¬Nå±‚å…·ä½“äº‹å®ï¼‰çš„ç¤¾åŒºä¸­è¿›è¡Œæœç´¢ï¼Œå®ç°â€œä»å®è§‚åˆ°å¾®è§‚â€çš„ç²¾å‡†å¯¼èˆªã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1f155d94a22a499e99c89e197ce755b5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=D32nQJ3wGK3xLPyFnXvnsJ8kMf4%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹â€‹</p>
<h5 data-id="heading-26"><strong>æ­¥éª¤äº”ï¼šç¤¾åŒºæ‘˜è¦â€”â€”ç”Ÿæˆå±‚çº§â€œä¿¡æ¯æ¡£æ¡ˆâ€</strong></h5>
<p>åˆ†åŒºå®Œæˆåï¼ŒGraphRAGä¼šä¸ºæ¯ä¸ªç¤¾åŒºï¼ˆå°¤å…¶æ˜¯é«˜å±‚çº§ç¤¾åŒºï¼‰ç”Ÿæˆä¸€ä»½<strong>ç»“æ„åŒ–æ‘˜è¦</strong>ã€‚è¿™ä»½æ‘˜è¦æ—¨åœ¨æµ“ç¼©è¯¥ç¤¾åŒºçš„æ ¸å¿ƒä¿¡æ¯ï¼Œä½¿å…¶æ— éœ€å›æº¯æ‰€æœ‰åŸå§‹ç»†èŠ‚å°±èƒ½è¢«ç†è§£ã€‚</p>
<p>ç”Ÿæˆè¿‡ç¨‹éµå¾ªä¸€ä¸ªæ˜ç¡®çš„æŠ¥å‘ŠæŒ‡ä»¤ï¼Œç¡®ä¿æ‘˜è¦çš„å…¨é¢ä¸å¯ç”¨ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># ç›®æ ‡</span>
ä¸ºæŒ‡å®šç¤¾åŒºæ’°å†™ä¸€ä»½ç»¼åˆæŠ¥å‘Šï¼Œç”¨äºå‘å†³ç­–è€…æ¸…æ™°ä¼ è¾¾è¯¥ç¤¾åŒºçš„æ ¸å¿ƒä¿¡æ¯åŠæ½œåœ¨å½±å“ã€‚

<span class="hljs-section"># æŠ¥å‘Šç»“æ„</span>
<span class="hljs-bullet">-</span> <span class="hljs-strong">**æ ‡é¢˜**</span>ï¼šèƒ½ä»£è¡¨ç¤¾åŒºæ ¸å¿ƒå®ä½“çš„ç®€çŸ­å…·ä½“åç§°ã€‚
<span class="hljs-bullet">-</span> <span class="hljs-strong">**æ‘˜è¦**</span>ï¼šç¤¾åŒºæ•´ä½“ç»“æ„ã€å®ä½“å…³ç³»åŠå…³é”®ä¿¡æ¯çš„æ¦‚è¿°ã€‚
<span class="hljs-bullet">-</span> <span class="hljs-strong">**å½±å“ç­‰çº§**</span>ï¼šä¸€ä¸ª0-10çš„åˆ†æ•°ï¼Œé‡åŒ–è¯¥ç¤¾åŒºçš„é‡è¦æ€§æˆ–å½±å“ä¸¥é‡æ€§ã€‚
<span class="hljs-bullet">-</span> <span class="hljs-strong">**ç­‰çº§è¯´æ˜**</span>ï¼šå¯¹ä¸Šè¿°è¯„åˆ†çš„ä¸€å¥è¯è§£é‡Šã€‚
<span class="hljs-bullet">-</span> <span class="hljs-strong">**è¯¦ç»†å‘ç°**</span>ï¼šåˆ—å‡º5-10æ¡å…³äºè¯¥ç¤¾åŒºçš„æ ¸å¿ƒè§è§£ï¼Œæ¯æ¡å‡åŒ…å«ç®€çŸ­æ€»ç»“ä¸è¯¦å®é˜è¿°ã€‚
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>é€šè¿‡è¿™å¥—æ–¹æ³•ï¼ŒGraphRAGå®ç°äº†Â <strong>â€œä»å±€éƒ¨åˆ°å…¨å±€â€</strong>Â çš„è·¨è¶Šï¼š</p>
<ul>
<li><strong>å±€éƒ¨</strong>ï¼šå¶å­æˆ–åº•å±‚ç¤¾åŒºä¿ç•™äº†æœ€ç²¾ç»†çš„èŠ‚ç‚¹ä¸å…³ç³»ç»†èŠ‚ï¼Œæ“…é•¿å›ç­”å…·ä½“äº‹å®é—®é¢˜ã€‚</li>
<li><strong>å…¨å±€</strong>ï¼šé«˜å±‚çº§ç¤¾åŒºèšåˆäº†å¤šä¸ªå­ç¤¾åŒºçš„ç²¾è¦ï¼Œåœ¨é€‚åº”å¤§æ¨¡å‹ä¸Šä¸‹æ–‡çª—å£é™åˆ¶çš„åŒæ—¶ï¼Œä¿ç•™äº†æœ€ç›¸å…³çš„å®è§‚ä¿¡æ¯ï¼Œä½¿å…¶èƒ½å¤Ÿå›ç­”å¦‚Â <strong>â€œæ‰€æœ‰æ•…äº‹ä¸­å…±åŒæ¶‰åŠçš„æ ¸å¿ƒäººç‰©æ˜¯è°ï¼Ÿâ€</strong>Â è¿™ç±»éœ€è¦å…¨å±€è§†é‡çš„é—®é¢˜ã€‚</li>
</ul>
<p>è¿™æ­£æ˜¯å…¶è®ºæ–‡é¢˜ä¸ºÂ <strong>ã€ŠFrom Local to Global: A GraphRAG Approach to Query-Focused Summarizationã€‹</strong>Â çš„åŸå› ã€‚ç›¸æ¯”ç›´æ¥å¯¹æºæ–‡æœ¬è¿›è¡Œæ‘˜è¦ï¼Œè¿™ç§åŸºäº<strong>ç¤¾åŒºç»“æ„çš„å±‚æ¬¡åŒ–æ‘˜è¦</strong>ï¼Œèƒ½å¤Ÿå¯¹éæŒ‡å‘å¶å­èŠ‚ç‚¹çš„ã€æ›´ä¸ºå®½æ³›æˆ–é«˜å±‚çš„æŸ¥è¯¢ï¼Œç»™å‡º<strong>æ›´å‡†ç¡®ã€æ›´å…·æ´è§çš„å›ç­”</strong>ã€‚</p>
<h4 data-id="heading-27">1.2GraphRAGçš„æŸ¥è¯¢é˜¶æ®µ</h4>
<p>GraphRAGçš„æŸ¥è¯¢é˜¶æ®µåˆ©ç”¨ç´¢å¼•é˜¶æ®µæ„å»ºçš„çŸ¥è¯†å›¾è°±å’Œç›¸å…³ç»“æ„æ¥å›ç­”ç”¨æˆ·é—®é¢˜ï¼Œæ¯”ä¼ ç»ŸRAGæ›´å¤æ‚ï¼Œæ¶‰åŠå›¾éå†ã€å¤šæºä¿¡æ¯æ•´åˆå’Œç²¾ç»†åŒ–çš„æç¤ºå·¥ç¨‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4bf7aba856484a54ba20828abec1f442~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=PzVkaCaD3qxM9wvIbr5OpR4LBC8%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹</p>
<p>â€‹</p>
<p>ï¼ˆå›¾æ¥è‡ª<a href="https://link.juejin.cn?target=https%3A%2F%2Fjieyibu.net%2Fhtmlpages%2FGraphRAG.html" title="https://jieyibu.net/htmlpages/GraphRAG.html" target="_blank" ref="nofollow noopener noreferrer">GraphRAGï¼šåŸç†ã€æµç¨‹ã€å®æˆ˜ä¸æ­å»º</a>ï¼‰</p>
<blockquote>
<p><strong>1. æŸ¥è¯¢ç†è§£</strong><br/>
ç³»ç»Ÿæ¥æ”¶ç”¨æˆ·è‡ªç„¶è¯­è¨€æŸ¥è¯¢ï¼Œç”±LLMè§£ææŸ¥è¯¢æ„å›¾ï¼Œè¯†åˆ«å…³é”®å®ä½“å¹¶åˆ¤æ–­æ½œåœ¨æŸ¥è¯¢ç±»å‹ã€‚</p>
<p><strong>2. æ··åˆæ£€ç´¢</strong><br/>
æ ¹æ®æŸ¥è¯¢ç±»å‹ï¼Œæ‰§è¡Œå›¾æ£€ç´¢ï¼ˆæ²¿çŸ¥è¯†å›¾è°±å…³ç³»è¾¹éå†ï¼‰å’Œ/æˆ–å‘é‡æ£€ç´¢ï¼ˆè¯­ä¹‰ç›¸ä¼¼åº¦æœç´¢ï¼‰ï¼Œæ”¯æŒçµæ´»ç»„åˆçš„æ£€ç´¢ç­–ç•¥ã€‚</p>
<p><strong>3. ä¸Šä¸‹æ–‡å¢å¼º</strong><br/>
æ•´åˆæ£€ç´¢ç»“æœï¼Œå¼•å…¥ç›¸å…³ç¤¾åŒºæ‘˜è¦ï¼Œå¹¶å°†å›¾ç»“æ„ä¿¡æ¯åºåˆ—åŒ–ï¼Œæ„å»ºå‡ºç»“æ„æ¸…æ™°ã€ä¿¡æ¯ä¸°å¯Œçš„æç¤ºå†…å®¹ã€‚</p>
<p><strong>4. ç”Ÿæˆä¸æº¯æº</strong><br/>
LLMåŸºäºå¢å¼ºåçš„ä¸Šä¸‹æ–‡ç”Ÿæˆè‡ªç„¶è¯­è¨€ç­”æ¡ˆï¼Œå¹¶å¯é™„å¸¦æ¥æºè¿½æº¯ä¸è§£é‡Šæ€§ä¿¡æ¯ï¼Œæå‡å›ç­”çš„å¯ä¿¡åº¦ä¸å¯è§£é‡Šæ€§ã€‚</p>
</blockquote>
<p>åœ¨æŸ¥è¯¢é˜¶æ®µï¼ŒGraphRAG å¹¶éç›´æ¥æ£€ç´¢æµ·é‡çš„åŸå§‹æ–‡æœ¬æˆ–éå†æ•´ä¸ªçŸ¥è¯†å›¾è°±ï¼Œè€Œæ˜¯å€ŸåŠ©å·²ç”Ÿæˆçš„<strong>ç¤¾åŒºæ‘˜è¦</strong>è¿›è¡Œé«˜æ•ˆã€èšç„¦çš„ä¿¡æ¯åˆæˆã€‚å…¶æ ¸å¿ƒæµç¨‹å¦‚ä¸‹ï¼š</p>
<p><strong>1. æŸ¥è¯¢èšç„¦çš„æ‘˜è¦æ£€ç´¢</strong><br/>
ç³»ç»Ÿé¦–å…ˆè§£æç”¨æˆ·æŸ¥è¯¢ï¼Œè¯†åˆ«å…¶ä¸­çš„å…³é”®å®ä½“ä¸å…³ç³»ï¼Œå¹¶ä»¥æ­¤åœ¨çŸ¥è¯†å›¾è°±ä¸­åŒ¹é…ç›¸ä¼¼çš„è¯­ä¹‰æ¨¡å¼ã€‚éšåï¼Œç³»ç»Ÿä»…<strong>å¬å›ä¸è¿™äº›æ¨¡å¼æœ€ç›¸å…³çš„é¢„ç”Ÿæˆç¤¾åŒºæ‘˜è¦</strong>ï¼Œè€Œéå¤„ç†å…¨éƒ¨å›¾è°±æ•°æ®ã€‚è¿™ç¡®ä¿äº†æ£€ç´¢çš„ç²¾å‡†æ€§ä¸å¯æ‰©å±•æ€§ã€‚</p>
<p><strong>2. åŸºäº Map Reduce çš„ç­”æ¡ˆåˆæˆ</strong><br/>
ä¸ºäº†å¹¶è¡Œã€é«˜æ•ˆåœ°å¤„ç†å¤šä¸ªç›¸å…³ç¤¾åŒºæ‘˜è¦ï¼Œç³»ç»Ÿé‡‡ç”¨Â <strong>Map Reduce</strong>Â è®¡ç®—æ¡†æ¶ï¼š</p>
<ul>
<li><strong>Mapï¼ˆæ˜ å°„ï¼‰é˜¶æ®µ</strong>ï¼šå¹¶è¡Œå¤„ç†æ¯ä¸€ä¸ªè¢«å¬å›çš„ç¤¾åŒºæ‘˜è¦ï¼Œç”Ÿæˆå¤šæ¡å¯èƒ½å›ç­”æŸ¥è¯¢çš„<strong>ä¸­é—´æ‘˜è¦ç‰‡æ®µ</strong>ï¼Œå¹¶ä¸ºæ¯ä¸ªç‰‡æ®µè®¡ç®—ä¸€ä¸ªÂ <strong>0-100 åˆ†çš„é‡è¦æ€§å¾—åˆ†</strong>ï¼Œé‡åŒ–è¯¥ä¿¡æ¯å¯¹å›ç­”å½“å‰é—®é¢˜çš„å…³é”®ç¨‹åº¦ã€‚</li>
<li><strong>Reduceï¼ˆå½’çº¦ï¼‰é˜¶æ®µ</strong>ï¼šå°†æ‰€æœ‰ä¸­é—´æ‘˜è¦æŒ‰é‡è¦æ€§å¾—åˆ†é™åºæ’åºï¼Œç­›é€‰å‡ºé«˜åˆ†ç‰‡æ®µï¼Œè¿›è¡Œæ•´åˆã€å»é‡ä¸ç²¾ç‚¼ï¼Œæœ€ç»ˆåˆæˆä¸€ä¸ª<strong>å…¨é¢ã€è¿è´¯ä¸”ç´§æ‰£é—®é¢˜çš„å…¨å±€ç­”æ¡ˆ</strong>ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8bcde43a7613447889564d35cec6a797~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=El3GjwGZhzKqVXbtLH3KyQQuW7k%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹â€‹</p>
<p>é€šè¿‡è¿™ä¸€æœºåˆ¶ï¼ŒGraphRAG èƒ½å¤Ÿå¿«é€Ÿä»å¤§è§„æ¨¡çŸ¥è¯†ä¸­å®šä½æ ¸å¿ƒä¿¡æ¯ï¼Œå¹¶ç»„ç»‡æˆç»“æ„æ¸…æ™°ã€ä¾æ®æ˜ç¡®çš„å›ç­”ã€‚</p>
<h3 data-id="heading-28">2.GraphRAGçš„æ ¸å¿ƒæ¶æ„</h3>
<p>GraphRAGçš„æ¶æ„æ˜¯å¯¹ä¼ ç»ŸRAGçš„æ‰©å±•å’Œå¢å¼ºï¼Œé€šè¿‡å¼•å…¥çŸ¥è¯†å›¾è°±åŠå…¶ç›¸å…³å¤„ç†ç»„ä»¶ï¼Œå®ç°äº†æ›´å¼ºå¤§çš„ä¿¡æ¯æ£€ç´¢å’Œæ¨ç†èƒ½åŠ›ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c2d2c746216c42a3bccfcdfd799f2533~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=l4JEfoGvUrkj164jI2fhHx%2FZJRU%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹</p>
<p>â€‹</p>
<p>ï¼ˆå›¾æ¥è‡ª<a href="https://link.juejin.cn?target=https%3A%2F%2Fjieyibu.net%2Fhtmlpages%2FGraphRAG.html" title="https://jieyibu.net/htmlpages/GraphRAG.html" target="_blank" ref="nofollow noopener noreferrer">GraphRAGï¼šåŸç†ã€æµç¨‹ã€å®æˆ˜ä¸æ­å»º</a>ï¼‰</p>
<blockquote>
<p><strong>çŸ¥è¯†å›¾è°±</strong><br/>
å­˜å‚¨ç»“æ„åŒ–çŸ¥è¯†ï¼Œå½¢æˆèŠ‚ç‚¹ä¸è¾¹çš„å…³ç³»ç½‘ç»œã€‚</p>
<p><strong>å›¾æ£€ç´¢å™¨</strong><br/>
æ‰§è¡Œå…³ç³»è·¯å¾„æŸ¥è¯¢ï¼Œæ”¯æŒå¤šè·³æ£€ç´¢ä¸å›¾è°±éå†ã€‚</p>
<p><strong>å›¾æ¨ç†å™¨</strong><br/>
å¯¹æ£€ç´¢è·¯å¾„è¿›è¡Œé€»è¾‘éªŒè¯ä¸ç›¸å…³æ€§è¯„ä¼°ã€‚</p>
<p><strong>å‘é‡å­˜å‚¨</strong><br/>
å­˜å‚¨å‘é‡åµŒå…¥ï¼Œæ”¯æŒåŸºäºç›¸ä¼¼åº¦çš„è¯­ä¹‰æ£€ç´¢ã€‚</p>
<p><strong>å¤§å‹è¯­è¨€æ¨¡å‹</strong><br/>
è´Ÿè´£æŸ¥è¯¢è§£æã€å›¾è°±å¢å¼ºã€æ£€ç´¢ååŒä¸æœ€ç»ˆç­”æ¡ˆç”Ÿæˆã€‚</p>
<p><strong>ç¼–æ’æ¡†æ¶</strong></p>
<p>ç®¡ç†å’Œåè°ƒå„ç»„ä»¶ä¹‹é—´çš„äº¤äº’å’Œå·¥ä½œæµç¨‹</p>
</blockquote>
<h3 data-id="heading-29">3.GraphRAGçš„<strong>å±€é™ä¸æ”¹è¿›æ–¹å‘</strong></h3>
<p>å°½ç®¡å¾®è½¯ GraphRAG ä¸ºåŸºäºçŸ¥è¯†å›¾è°±çš„æ£€ç´¢å¢å¼ºç”Ÿæˆæä¾›äº†å¼€åˆ›æ€§çš„å®ç°æ–¹æ¡ˆï¼Œå¹¶åœ¨å…¨å±€æ¨ç†ä¸å¤æ‚é—®ç­”ä¸Šå±•ç°å‡ºæ˜¾è‘—ä¼˜åŠ¿ï¼Œä½†å…¶åœ¨å®é™…éƒ¨ç½²ä¸åº”ç”¨ä¸­ä»å­˜åœ¨è‹¥å¹²æ˜æ˜¾å±€é™ï¼Œä¹Ÿç”±æ­¤å‚¬ç”Ÿäº†å¤šç§æ—¨åœ¨ä¼˜åŒ–æ€§èƒ½ä¸æ•ˆç‡çš„åç»­æ–¹æ¡ˆã€‚</p>
<h4 data-id="heading-30"><strong>3.1GraphRAG çš„ä¸»è¦å±€é™</strong></h4>
<ol>
<li><strong>è®¡ç®—æˆæœ¬ä¸æ•ˆç‡ç“¶é¢ˆ</strong><br/>
åŸºäºç¤¾åŒºçš„ç´¢å¼•ä¸æ£€ç´¢æœºåˆ¶éœ€å¤šæ¬¡è°ƒç”¨å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰APIï¼Œæ•´ä½“æµç¨‹è¾ƒä¸ºç¼“æ…¢ï¼Œä¸”æˆæœ¬æ˜¾è‘—æé«˜ï¼Œéš¾ä»¥é€‚åº”å®æ—¶æˆ–é«˜é¢‘æŸ¥è¯¢åœºæ™¯ã€‚</li>
<li><strong>å›¾è°±å™ªå£°ä¸å†—ä½™é—®é¢˜</strong><br/>
åœ¨æ„å»ºçŸ¥è¯†å›¾è°±æ—¶ï¼Œç³»ç»Ÿæœªè®¾ç½®ä¸“é—¨çš„å»é‡æœºåˆ¶ï¼Œå¯¼è‡´é‡å¤å®ä½“ä¸å…³ç³»å¯èƒ½è¢«å¤šæ¬¡æå–å¹¶å½•å…¥å›¾è°±ï¼Œä»è€Œå¼•å…¥å™ªå£°ï¼Œå½±å“æ£€ç´¢ç²¾åº¦ä¸ç­”æ¡ˆè´¨é‡ã€‚</li>
<li><strong>ç¼ºä¹é«˜æ•ˆçš„å¢é‡æ›´æ–°èƒ½åŠ›</strong><br/>
å½“å‰å®ç°ä¸­ï¼Œè‹¥è¦åœ¨å·²æœ‰çŸ¥è¯†å›¾è°±ä¸­æ’å…¥æ–°æ•°æ®ï¼Œå¿…é¡»é‡æ–°æ„å»ºæ•´ä¸ªå›¾è°±ç´¢å¼•ã€‚è¿™ç§å…¨é‡é‡å»ºçš„æ–¹å¼åœ¨æ•°æ®åŠ¨æ€æ›´æ–°çš„ç”Ÿäº§ç¯å¢ƒä¸­ç¼ºä¹å¯è¡Œæ€§ï¼Œé™åˆ¶äº†ç³»ç»Ÿçš„å¯æŒç»­ç»´æŠ¤ä¸æ‰©å±•ã€‚</li>
</ol>
<h4 data-id="heading-31"><strong>3.2GraphRAG çš„æ¼”è¿›ä¸ä¼˜åŒ–æ–¹æ¡ˆ</strong></h4>
<p>å¾®è½¯çš„å®ç°è™½è¢«å¹¿æ³›è§†ä¸º GraphRAG çš„æ ‡æ†ï¼Œä½†å…¶ä¸Šè¿°å±€é™ä¹Ÿæ¨åŠ¨äº†åç»­ä¸€ç³»åˆ—æ—¨åœ¨æå‡æ•ˆç‡ä¸å‡†ç¡®æ€§çš„æ”¹è¿›å·¥ä½œã€‚å®é™…ä¸Šï¼Œåœ¨å›¾è°±å¢å¼ºæ£€ç´¢çš„æ–¹å‘ä¸Šï¼Œæ—©æœŸå·²æœ‰ NebulaGraphã€LangChainã€LlamaIndexã€Neo4j ç­‰é¡¹ç›®è¿›è¡Œè¿‡ç›¸å…³æ¢ç´¢ã€‚</p>
<p>ç›®å‰ï¼Œè¾ƒæœ‰ä»£è¡¨æ€§çš„æ”¹è¿›æ–¹å‘ä¸è¡ç”Ÿæ–¹æ¡ˆåŒ…æ‹¬ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e7a986ef1ee4cc4a87554e2dfb4bc6d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=O2DGSy3ttgZ6y0YmTig1cVPZX8M%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹â€‹</p>
<ul>
<li><strong>è½»é‡åŒ–ä¸é«˜æ•ˆåŒ–å˜ä½“</strong><br/>
ä¾‹å¦‚Â <strong>Nano-GraphRAG</strong>Â ç³»åˆ—ï¼ˆå« LightRAGã€MedGraphRAGã€FastGraphRAG ç­‰ï¼‰ï¼Œé€šè¿‡ç®€åŒ–æ£€ç´¢é€»è¾‘ã€å‡å°‘ä¸å¿…è¦çš„ç¤¾åŒºè®¡ç®—ä¸èšåˆæ­¥éª¤ï¼Œæ˜¾è‘—é™ä½äº†ç³»ç»Ÿå¤æ‚æ€§ä¸å“åº”å»¶è¿Ÿã€‚<br/>
ä»¥Â <code>nano-graphrag</code>Â ä¸ºä¾‹ï¼Œå®ƒä¸å†é‡‡ç”¨åŸç‰ˆä¸­ Map-Reduce å¼çš„å¤šç¤¾åŒºæ‰“åˆ†ä¸åˆå¹¶ç­–ç•¥ï¼Œè€Œæ˜¯ä»…é€‰å– Topâ€‘K ä¸ªæœ€ç›¸å…³ç¤¾åŒºè¿›è¡Œæ·±åº¦æ£€ç´¢ï¼Œä»è€Œåœ¨ä¿è¯æ•ˆæœçš„å‰æä¸‹å¤§å¹…æå‡æ•ˆç‡ã€‚</li>
<li><strong>ç»“æ„ä¼˜åŒ–ä¸æ‰©å±•æ–¹æ¡ˆ</strong><br/>
è¯¸å¦‚Â <strong>HippoRAGã€MiniGraphRAGã€LayGraphRAG</strong>Â ç­‰ï¼Œåˆ™åœ¨å›¾è°±æ„å»ºã€ç¤¾åŒºåˆ’åˆ†ã€æ£€ç´¢èåˆç­‰ç¯èŠ‚å¼•å…¥ä¸åŒä¼˜åŒ–ç­–ç•¥ï¼Œè¿›ä¸€æ­¥åœ¨æ•ˆæœã€æ•ˆç‡ä¸å¯æ‰©å±•æ€§ä¹‹é—´å¯»æ±‚æ›´ä¼˜å¹³è¡¡ã€‚</li>
</ul>
<p>è¿™äº›æ”¹è¿›æ–¹æ¡ˆå…±åŒåæ˜ äº† GraphRAG ç”Ÿæ€çš„ä¸€ä¸ªæ¸…æ™°è¶‹åŠ¿ï¼šåœ¨ä¿æŒå…¶<strong>ç»“æ„åŒ–æ£€ç´¢ä¸å…¨å±€æ¨ç†æ ¸å¿ƒä¼˜åŠ¿</strong>çš„åŒæ—¶ï¼Œä¸æ–­<strong>ä¼˜åŒ–å·¥ç¨‹è½åœ°æˆæœ¬ã€å“åº”é€Ÿåº¦ä¸è¿ç»´çµæ´»æ€§</strong>ï¼Œæ¨åŠ¨å›¾å¢å¼ºæ£€ç´¢æŠ€æœ¯å‘æ›´å®ç”¨ã€æ›´æ˜“ç”¨çš„æ–¹å‘å‘å±•ã€‚</p>
<p>â€‹â€‹</p>
<h2 data-id="heading-32">Â äºŒã€GraphRAGçš„å·¥ä½œæµç¨‹</h2>
<p>é€šè¿‡å‰é¢çš„å¯¹æ¯”ï¼Œæˆ‘ä»¬å·²ç»æ¸…æ™°åœ°çœ‹åˆ°ï¼šGraphRAGå‡­å€Ÿå…¶<strong>ç»“æ„åŒ–çš„çŸ¥è¯†å›¾è°±</strong>ï¼Œåœ¨å¤æ‚æ¨ç†ä¸å…¨å±€ç†è§£ä»»åŠ¡ä¸Šï¼Œç›¸æ¯”ä¼ ç»ŸRAGå±•ç°å‡ºäº†æ˜¾è‘—ä¼˜åŠ¿ã€‚</p>
<p>ç„¶è€Œï¼Œä¸€ä¸ªå…³é”®é—®é¢˜éšä¹‹è€Œæ¥ï¼šè¿™ä¸ªæ›´å¼ºå¤§çš„â€œæ¨ç†ä¾¦æ¢â€æˆ–â€œçŸ¥è¯†æ¶æ„å¸ˆâ€ï¼Œå…¶å†…éƒ¨ç©¶ç«Ÿæ˜¯å¦‚ä½•è¿ä½œçš„ï¼Ÿå®ƒæ˜¯æ€æ ·å°†ä¸€å †åŸå§‹æ–‡æœ¬ï¼Œä¸€æ­¥æ­¥ç‚¼åŒ–æˆé‚£ä¸ªå¯ç”¨äºæ·±åº¦æ£€ç´¢çš„ç»“æ„åŒ–çŸ¥è¯†ä½“ç³»çš„ï¼Ÿ</p>
<p>è¿™ä¸ªå°†Â <strong>â€œéç»“æ„åŒ–æ–‡æœ¬â€è½¬åŒ–ä¸ºâ€œç»“æ„åŒ–çŸ¥è¯†â€å¹¶åŠ ä»¥åˆ©ç”¨</strong>Â çš„è¿‡ç¨‹ï¼Œæ­£æ˜¯GraphRAGçš„æ ¸å¿ƒé­”æ³•ã€‚ç†è§£è¿™å¥—å·¥ä½œæµç¨‹ï¼Œä¸ä»…èƒ½è®©æˆ‘ä»¬çŸ¥å…¶ç„¶ï¼Œæ›´èƒ½çŸ¥å…¶æ‰€ä»¥ç„¶ï¼Œçœ‹æ¸…å…¶èƒ½åŠ›ä¼˜åŠ¿èƒŒåçš„å®ç°é€»è¾‘ã€‚</p>
<p>è¦æ·±å…¥ç†è§£ GraphRAG çš„è®¾è®¡åˆè¡·ï¼Œå¾®è½¯çš„è®ºæ–‡ã€ŠFrom Local to Global: A Graph RAG Approach to Query-Focused Summarizationã€‹<a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2404.16130" title="https://arxiv.org/abs/2404.16130" target="_blank" ref="nofollow noopener noreferrer">[2404.16130] ä»å±€éƒ¨åˆ°å…¨å±€ï¼šä»¥å›¾RAGæ–¹æ³•è¿›è¡ŒæŸ¥è¯¢èšç„¦æ€»ç»“</a>(<a href="https://link.juejin.cn?target=https%3A%2F%2Flearnopencv.com%2Fgraphrag-explained-knowledge-graphs-medical%2F%23aioseo-key-features-of-graphrag" title="https://learnopencv.com/graphrag-explained-knowledge-graphs-medical/#aioseo-key-features-of-graphrag" target="_blank" ref="nofollow noopener noreferrer">GraphRAG: Practical Guide to Supercharge RAG with Knowledge Graphs</a>)ç»™å‡ºäº†æ¸…æ™°çš„è§£ç­”ã€‚é’ˆå¯¹ä¼ ç»Ÿ RAG çš„ä¸¤å¤§å±€é™æ€§æå‡ºäº†è§£å†³æ–¹æ¡ˆï¼š</p>
<ol>
<li><strong>é’ˆå¯¹â€œä¿¡æ¯ä»¥æ¨¡ç³Šæ–‡æœ¬å‘ˆç°â€çš„å±€é™</strong>ï¼šä¼ ç»ŸRAGæä¾›çš„æ˜¯éœ€è¦äºŒæ¬¡è§£è¯»çš„è‡ªç„¶è¯­è¨€ç‰‡æ®µï¼Œå…³ç³»éšå«å…¶ä¸­ã€‚GraphRAGåˆ™å…ˆæ„å»º<strong>å®ä½“çŸ¥è¯†å›¾è°±</strong>ï¼Œå°†çŸ¥è¯†è½¬åŒ–ä¸ºæœºå™¨å¯ç›´æ¥å¤„ç†çš„ã€<strong>ç¡®å®šæ€§çš„å…³ç³»ç»“æ„</strong>ã€‚</li>
<li><strong>é’ˆå¯¹â€œæ£€ç´¢åŸºäºå±€éƒ¨è¯­ä¹‰ç›¸ä¼¼â€çš„å±€é™</strong>ï¼šä¼ ç»ŸRAGçš„æ£€ç´¢å—é™äºå‘é‡ç›¸ä¼¼åº¦ï¼Œéš¾ä»¥è¿›è¡Œå…¨å±€é€»è¾‘å…³è”ã€‚GraphRAGé€šè¿‡<strong>é¢„å…ˆç”Ÿæˆå±‚æ¬¡åŒ–çš„ç¤¾åŒºæ‘˜è¦</strong>ï¼Œä½¿ç³»ç»Ÿèƒ½å¤ŸåŸºäºå›¾è°±è¿›è¡Œ<strong>è·¨è¶Šæ–‡æ¡£çš„é€»è¾‘å…³è”ä¸æ¨ç†</strong>ã€‚</li>
</ol>
<p>å› æ­¤ï¼Œå½“é¢å¯¹éœ€è¦å¯¹æ•´ä¸ªæ–‡æ¡£é›†è¿›è¡Œç»¼åˆç†è§£çš„å…¨å±€æŸ¥è¯¢æ—¶ï¼Œä¼ ç»ŸRAGå¾€å¾€åªèƒ½è¿”å›é›¶æ•£çš„æ–‡æœ¬ç¢ç‰‡ã€‚è€ŒGraphRAGå‡­å€Ÿå…¶<strong>ç»“æ„åŒ–çš„çŸ¥è¯†è¡¨ç¤ºä¸æ£€ç´¢æœºåˆ¶</strong>ï¼Œèƒ½å¤Ÿç”Ÿæˆ<strong>æ›´å…¨é¢ã€æ›´å¤šæ ·</strong>çš„å›ç­”ï¼Œæœ¬è´¨ä¸Šæ˜¯å°†æ£€ç´¢ä»â€œå±€éƒ¨æ–‡æœ¬åŒ¹é…â€å‡çº§ä¸ºâ€œå…¨å±€çŸ¥è¯†å¯¼èˆªâ€ã€‚</p>
<h3 data-id="heading-33">1.GraphRAGçš„åŸºæœ¬æµç¨‹</h3>
<p>GraphRAGçš„åŸºæœ¬æµç¨‹å¦‚ä¸‹å›¾ï¼Œåˆ†ä¸ºä¸¤é˜¶æ®µï¼šç´¢å¼•é˜¶æ®µå’ŒæŸ¥è¯¢é˜¶æ®µï¼ˆç´«è‰²å—å±äºç´¢å¼•é˜¶æ®µï¼Œç»¿è‰²å—å±äºæŸ¥è¯¢é˜¶æ®µï¼‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3f870325ae547088b0bfd9e90bdcaad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=yn8ql4Q7bSmYZNA7mzUEwn%2BFIXM%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹ç¼–è¾‘â€‹â€‹</p>
<h4 data-id="heading-34">1.1GraphRAGçš„ç´¢å¼•é˜¶æ®µ</h4>
<p>GraphRAGçš„ç´¢å¼•é˜¶æ®µæ˜¯å…¶å·¥ä½œæµç¨‹ä¸­çš„å…³é”®é¢„å¤„ç†æ­¥éª¤ï¼Œæ ¸å¿ƒç›®æ ‡æ˜¯ä»åŸå§‹æ•°æ®ä¸­æ„å»ºæˆ–ä¸°å¯ŒçŸ¥è¯†å›¾è°±ã€‚å¾®è½¯æå‡ºçš„GraphRAGç´¢å¼•è¿‡ç¨‹åŒ…å«ä¸¤ä¸ªä¸»è¦é˜¶æ®µï¼š</p>
<h4 data-id="heading-35"><strong>ç¬¬ä¸€é˜¶æ®µï¼šæ„å»ºçŸ¥è¯†å›¾è°±â€”â€”å°†æ–‡æœ¬è½¬åŒ–ä¸ºç»“æ„åŒ–çŸ¥è¯†</strong></h4>
<p>çŸ¥è¯†å›¾è°±æ˜¯GraphRAGçš„â€œå¤§è„‘â€ï¼Œå…¶æ„å»ºæ˜¯ä»åŸå§‹æ–‡æœ¬ä¸­æå–ç»“æ„åŒ–çŸ¥è¯†çš„ç‚¼é‡‘è¿‡ç¨‹ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸»è¦åˆ†ä¸ºä¸‰æ­¥ï¼Œç›®æ ‡æ˜¯å°†éç»“æ„åŒ–çš„æ–‡å­—ï¼Œè½¬åŒ–ä¸ºç”±â€œèŠ‚ç‚¹â€ï¼ˆå®ä½“ï¼‰å’Œâ€œè¾¹â€ï¼ˆå…³ç³»ï¼‰æ„æˆçš„æ¸…æ™°ç½‘ç»œã€‚</p>
<h5 data-id="heading-36"><strong>æ­¥éª¤ä¸€ï¼šæ™ºèƒ½åˆ†å—â€”â€”ä¸ºå¤„ç†åšå¥½å‡†å¤‡</strong></h5>
<p>é¦–å…ˆï¼Œæµ·é‡æ–‡æ¡£ä¼šè¢«åˆ†å‰²æˆå¤§å°é€‚å®œçš„æ–‡æœ¬å—ã€‚è¿™æ˜¯ä¸€ä¸ªå…³é”®çš„æƒè¡¡ï¼š</p>
<ul>
<li><strong>å°å—ç­–ç•¥</strong>ï¼šèƒ½ä¿ç•™æ›´ç»†ç²’åº¦çš„ä¿¡æ¯ï¼Œé€‚åˆæ•æ‰å±€éƒ¨ç»†èŠ‚ï¼Œä½†ä¼šå¢åŠ å¤„ç†æ¬¡æ•°ä¸æˆæœ¬ã€‚</li>
<li><strong>å¤§å—ç­–ç•¥</strong>ï¼šèƒ½å‡å°‘è°ƒç”¨ã€é™ä½æˆæœ¬ï¼Œä½†å¯èƒ½å› ä¸Šä¸‹æ–‡è¿‡é•¿è€Œé—æ¼æ–‡æœ¬å†…éƒ¨çš„ä¸€äº›å…³é”®å…³è”ã€‚<br/>
æ­¤æ­¥éª¤çš„ç›®æ ‡æ˜¯åœ¨ä¿¡æ¯å®Œæ•´æ€§ä¸å¤„ç†æ•ˆç‡é—´æ‰¾åˆ°æœ€ä½³å¹³è¡¡ï¼Œä¸ºä¸‹ä¸€æ­¥çš„ç²¾å‡†æå–å¥ å®šåŸºç¡€ã€‚</li>
</ul>
<h5 data-id="heading-37"><strong>æ­¥éª¤äºŒï¼šæ ¸å¿ƒæå–â€”â€”è¯†åˆ«å®ä½“ä¸å…³ç³»</strong></h5>
<p>æ¯ä¸ªæ–‡æœ¬å—ä¼šè¢«é€å…¥å¤§è¯­è¨€æ¨¡å‹ï¼Œæ‰§è¡Œä¸€é¡¹æ ¸å¿ƒæŒ‡ä»¤ï¼š<strong>è¯†åˆ«æ‰€æœ‰æŒ‡å®šç±»å‹çš„å®ä½“ï¼Œä»¥åŠå®ƒä»¬å½¼æ­¤é—´çš„å…³ç³»</strong>ã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼Œå¤§æ¨¡å‹ä¼šå®Œæˆä¸¤ä»¶äº‹ï¼š</p>
<ol>
<li><strong>å®ä½“è¯†åˆ«</strong>ï¼šæ‰¾å‡ºæ‰€æœ‰äººã€äº‹ã€ç‰©ã€æ¦‚å¿µç­‰ï¼Œå¹¶ä¸ºå…¶ç”Ÿæˆå”¯ä¸€çš„IDã€è§„èŒƒçš„åç§°ã€ç±»å‹å’Œè¯¦ç»†æè¿°ã€‚</li>
<li><strong>å…³ç³»æŠ½å–</strong>ï¼šåœ¨æ‰€æœ‰å®ä½“é—´ï¼Œæ‰¾å‡ºé‚£äº›å­˜åœ¨æ˜ç¡®å…³è”çš„é…å¯¹ï¼Œå¹¶å®šä¹‰å…³ç³»çš„å…·ä½“å†…æ¶µä¸å¼ºåº¦ã€‚</li>
</ol>
<p>ä»¥ä¸‹æ˜¯é©±åŠ¨è¿™ä¸€è¿‡ç¨‹çš„æ ‡å‡†åŒ–æŒ‡ä»¤æ¨¡æ¿ä¸è¾“å‡ºç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// å¤§æ¨¡å‹æ¥æ”¶çš„æŒ‡ä»¤æ ¸å¿ƒ</span>
-Goal-ï¼šä»æ–‡æœ¬ä¸­æå–æ‰€æœ‰å®ä½“åŠå…³ç³»ã€‚
-Steps-ï¼š
<span class="hljs-number">1.</span> è¯†åˆ«æ‰€æœ‰å®ä½“ï¼Œè®°å½•å…¶åç§°ã€ç±»å‹ã€æè¿°ã€‚
<span class="hljs-number">2.</span> è¯†åˆ«æ‰€æœ‰å…³è”çš„å®ä½“å¯¹ï¼Œè®°å½•å…³ç³»æè¿°ä¸å¼ºåº¦ã€‚

<span class="hljs-comment">// å¤§æ¨¡å‹äº§å‡ºçš„ç»“æ„åŒ–ç»“æœç¤ºä¾‹</span>
<span class="hljs-meta"># å®ä½“ï¼ˆèŠ‚ç‚¹ï¼‰</span>
{
  <span class="hljs-string">"nodes"</span>: [
    {<span class="hljs-string">"id"</span>: <span class="hljs-string">"n0"</span>, <span class="hljs-string">"type"</span>: <span class="hljs-string">"PATIENT"</span>, <span class="hljs-string">"name"</span>: <span class="hljs-string">"æ‚£è€…"</span>, <span class="hljs-string">"description"</span>: <span class="hljs-string">"ä¸€ä½71å²ç”·æ€§..."</span>},
    {<span class="hljs-string">"id"</span>: <span class="hljs-string">"n1"</span>, <span class="hljs-string">"type"</span>: <span class="hljs-string">"DIAGNOSIS"</span>, <span class="hljs-string">"name"</span>: <span class="hljs-string">"å¤–å‘¨è¡€ç®¡ç–¾ç—…"</span>, <span class="hljs-string">"description"</span>: <span class="hljs-string">"ä¸€ç§å¾ªç¯ç³»ç»Ÿç–¾ç—…..."</span>}
  ]
}
<span class="hljs-meta"># å…³ç³»ï¼ˆè¾¹ï¼‰</span>
{
  <span class="hljs-string">"edges"</span>: [
    {<span class="hljs-string">"source"</span>: <span class="hljs-string">"n0"</span>, <span class="hljs-string">"target"</span>: <span class="hljs-string">"n1"</span>, <span class="hljs-string">"description"</span>: <span class="hljs-string">"æ‚£è€…è¢«è¯Šæ–­æ‚£æœ‰æ­¤ç–¾ç—…"</span>}
  ]
}
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h5 data-id="heading-38"><strong>æ­¥éª¤ä¸‰ï¼šå›¾è°±åˆæˆâ€”â€”ä»ç¢ç‰‡åˆ°æ•´ä½“</strong></h5>
<p>æœ€åï¼Œç³»ç»Ÿå°†æ‰€æœ‰æ–‡æœ¬å—ä¸­æå–å‡ºçš„â€œå®ä½“-å…³ç³»â€ç¢ç‰‡è¿›è¡Œèåˆï¼Œæ„å»ºæˆä¸€ä¸ªç»Ÿä¸€ã€å…¨å±€çš„çŸ¥è¯†å›¾è°±ã€‚</p>
<ul>
<li><strong>å…³é”®æ“ä½œæ˜¯â€œå»é‡ä¸åˆå¹¶â€</strong> ï¼šåŒä¸€å®ä½“ï¼ˆå¦‚â€œæ‚£è€…å¼ ä¸‰â€ï¼‰æ— è®ºåœ¨ä¸åŒå—ä¸­è¢«æåˆ°å¤šå°‘æ¬¡ï¼Œåœ¨æœ€ç»ˆçš„å›¾è°±ä¸­åªä¼šæœ‰ä¸€ä¸ªå¯¹åº”çš„èŠ‚ç‚¹ï¼Œå…¶æ‰€æœ‰ç›¸å…³ä¿¡æ¯ä¼šè¢«èšåˆã€‚</li>
<li>è‡³æ­¤ï¼Œæ•£è½åœ¨æ–‡æ¡£å„å¤„çš„ä¿¡æ¯è¢«æ•´åˆæˆä¸€å¼ äº’è”çš„çŸ¥è¯†ç½‘ç»œï¼Œä¸ºåç»­çš„å›¾æ£€ç´¢ä¸æ¨ç†æä¾›äº†åšå®çš„æ•°æ®åŸºç¡€ã€‚</li>
</ul>
<h4 data-id="heading-39"><strong>ç¬¬äºŒé˜¶æ®µï¼š</strong> æ„å»ºç¤¾åŒºå±‚æ¬¡ç»“æ„å¹¶ç”Ÿæˆæ‘˜è¦ <strong>â€”â€”ä»â€œçŸ¥è¯†ç½‘ç»œâ€åˆ°â€œä¿¡æ¯åœ°å›¾â€</strong></h4>
<p>åœ¨æ„å»ºå‡ºç»Ÿä¸€çš„çŸ¥è¯†å›¾è°±åï¼ŒGraphRAGå¹¶æ²¡æœ‰æ­¢æ­¥ã€‚ä¸ºäº†è®©ç³»ç»Ÿä¸ä»…èƒ½ç†è§£ç»†ç²’åº¦çš„äº‹å®ï¼Œè¿˜èƒ½æŠŠæ¡æ–‡æœ¬é›†çš„æ•´ä½“ç»“æ„ä¸å®è§‚ä¸»é¢˜ï¼Œå®ƒè¿›è¡Œäº†å…³é”®çš„ç¬¬äºŒé˜¶æ®µå¤„ç†ï¼š<strong>ç¤¾åŒºå‘ç°ä¸å±‚æ¬¡åŒ–æ‘˜è¦</strong>ã€‚è¿™ç›¸å½“äºä¸ºçŸ¥è¯†ç½‘ç»œç»˜åˆ¶äº†â€œè¡Œæ”¿åŒºåˆ’å›¾â€å’Œâ€œåœ°åŒºç®€ä»‹â€ã€‚</p>
<h5 data-id="heading-40"><strong>æ­¥éª¤å››ï¼šå›¾åˆ†åŒºâ€”â€”è‡ªåŠ¨å‘ç°çŸ¥è¯†â€œç¤¾åŒºâ€</strong></h5>
<p>GraphRAGè¿ç”¨Â <strong>Leidenç¤¾åŒºå‘ç°ç®—æ³•</strong>ï¼Œå¯¹çŸ¥è¯†å›¾è°±è¿›è¡Œæ™ºèƒ½åˆ†åŒºã€‚è¿™ä¸ªç®—æ³•çš„å·¥ä½œåŸç†ä¸æ•ˆæœå¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>å±‚æ¬¡åŒ–èšç±»</strong>ï¼šç®—æ³•ä»¥é€’å½’çš„æ–¹å¼ï¼Œå°†å›¾è°±ä¸­è”ç³»ç´§å¯†çš„èŠ‚ç‚¹èšé›†ä¸ºè¯­ä¹‰ç¤¾åŒºï¼Œå¹¶å¯ä»¥è¿›ä¸€æ­¥åœ¨ç¤¾åŒºå†…å‘ç°å­ç¤¾åŒºï¼Œå½¢æˆä¸€ç§<strong>å±‚æ¬¡åŒ–ç»“æ„</strong>ï¼Œç›´è‡³æ— æ³•å†åˆ†ä¸ºæ­¢ã€‚</li>
<li><strong>ç²¾å‡†å½’å±</strong>ï¼šç®—æ³•ç¡®ä¿æ¯ä¸ªèŠ‚ç‚¹<strong>åªå½’å±äºä¸€ä¸ªç¤¾åŒº</strong>ï¼Œä¸”æ²¡æœ‰èŠ‚ç‚¹è¢«é—æ¼ï¼Œè¿™ä¿è¯äº†ç¤¾åŒºä¹‹é—´ç•Œé™æ¸…æ™°ã€è¦†ç›–å…¨é¢ã€‚</li>
<li><strong>è§„æ¨¡æ„ŸçŸ¥</strong>ï¼šç¤¾åŒºæˆ–èŠ‚ç‚¹çš„å¤§å°å¯ä»¥åæ˜ å…¶åœ¨æœ¬å±‚ä¸­çš„<strong>é‡è¦æ€§æˆ–ç›¸å…³åº¦</strong>ï¼Œä¸ºåç»­æ£€ç´¢æä¾›ç›´è§‚çš„æƒé‡å‚è€ƒã€‚</li>
</ul>
<p>é€šè¿‡è¿™ç§åˆ†åŒºï¼Œé›¶æ•£çš„å®ä½“è¢«ç»„ç»‡æˆäº†å…·æœ‰å†…åœ¨ä¸»é¢˜æ€§çš„ç¾¤ä½“ï¼Œä¸ºé«˜æ•ˆæ£€ç´¢å¥ å®šäº†åŸºç¡€ã€‚å½“é¢ä¸´æŸ¥è¯¢æ—¶ï¼Œç³»ç»Ÿå¯ä»¥æ ¹æ®é—®é¢˜çš„èŒƒç•´ï¼ŒåŠ¨æ€é€‰æ‹©åœ¨ä¸åŒå±‚çº§ï¼ˆå¦‚ç¬¬0å±‚å…¨å±€ã€ç¬¬1å±‚ä¸»é¢˜åŸŸã€ç¬¬Nå±‚å…·ä½“äº‹å®ï¼‰çš„ç¤¾åŒºä¸­è¿›è¡Œæœç´¢ï¼Œå®ç°â€œä»å®è§‚åˆ°å¾®è§‚â€çš„ç²¾å‡†å¯¼èˆªã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/38765bb1587a44409761d83c979ae4fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=5DduNIKM6Dfsz%2BS8UhzMr6TpXzE%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹ç¼–è¾‘â€‹â€‹</p>
<h5 data-id="heading-41"><strong>æ­¥éª¤äº”ï¼šç¤¾åŒºæ‘˜è¦â€”â€”ç”Ÿæˆå±‚çº§â€œä¿¡æ¯æ¡£æ¡ˆâ€</strong></h5>
<p>åˆ†åŒºå®Œæˆåï¼ŒGraphRAGä¼šä¸ºæ¯ä¸ªç¤¾åŒºï¼ˆå°¤å…¶æ˜¯é«˜å±‚çº§ç¤¾åŒºï¼‰ç”Ÿæˆä¸€ä»½<strong>ç»“æ„åŒ–æ‘˜è¦</strong>ã€‚è¿™ä»½æ‘˜è¦æ—¨åœ¨æµ“ç¼©è¯¥ç¤¾åŒºçš„æ ¸å¿ƒä¿¡æ¯ï¼Œä½¿å…¶æ— éœ€å›æº¯æ‰€æœ‰åŸå§‹ç»†èŠ‚å°±èƒ½è¢«ç†è§£ã€‚</p>
<p>ç”Ÿæˆè¿‡ç¨‹éµå¾ªä¸€ä¸ªæ˜ç¡®çš„æŠ¥å‘ŠæŒ‡ä»¤ï¼Œç¡®ä¿æ‘˜è¦çš„å…¨é¢ä¸å¯ç”¨ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># ç›®æ ‡</span>
ä¸ºæŒ‡å®šç¤¾åŒºæ’°å†™ä¸€ä»½ç»¼åˆæŠ¥å‘Šï¼Œç”¨äºå‘å†³ç­–è€…æ¸…æ™°ä¼ è¾¾è¯¥ç¤¾åŒºçš„æ ¸å¿ƒä¿¡æ¯åŠæ½œåœ¨å½±å“ã€‚

<span class="hljs-section"># æŠ¥å‘Šç»“æ„</span>
<span class="hljs-bullet">-</span> <span class="hljs-strong">**æ ‡é¢˜**</span>ï¼šèƒ½ä»£è¡¨ç¤¾åŒºæ ¸å¿ƒå®ä½“çš„ç®€çŸ­å…·ä½“åç§°ã€‚
<span class="hljs-bullet">-</span> <span class="hljs-strong">**æ‘˜è¦**</span>ï¼šç¤¾åŒºæ•´ä½“ç»“æ„ã€å®ä½“å…³ç³»åŠå…³é”®ä¿¡æ¯çš„æ¦‚è¿°ã€‚
<span class="hljs-bullet">-</span> <span class="hljs-strong">**å½±å“ç­‰çº§**</span>ï¼šä¸€ä¸ª0-10çš„åˆ†æ•°ï¼Œé‡åŒ–è¯¥ç¤¾åŒºçš„é‡è¦æ€§æˆ–å½±å“ä¸¥é‡æ€§ã€‚
<span class="hljs-bullet">-</span> <span class="hljs-strong">**ç­‰çº§è¯´æ˜**</span>ï¼šå¯¹ä¸Šè¿°è¯„åˆ†çš„ä¸€å¥è¯è§£é‡Šã€‚
<span class="hljs-bullet">-</span> <span class="hljs-strong">**è¯¦ç»†å‘ç°**</span>ï¼šåˆ—å‡º5-10æ¡å…³äºè¯¥ç¤¾åŒºçš„æ ¸å¿ƒè§è§£ï¼Œæ¯æ¡å‡åŒ…å«ç®€çŸ­æ€»ç»“ä¸è¯¦å®é˜è¿°ã€‚
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>é€šè¿‡è¿™å¥—æ–¹æ³•ï¼ŒGraphRAGå®ç°äº†Â <strong>â€œä»å±€éƒ¨åˆ°å…¨å±€â€</strong>Â çš„è·¨è¶Šï¼š</p>
<ul>
<li><strong>å±€éƒ¨</strong>ï¼šå¶å­æˆ–åº•å±‚ç¤¾åŒºä¿ç•™äº†æœ€ç²¾ç»†çš„èŠ‚ç‚¹ä¸å…³ç³»ç»†èŠ‚ï¼Œæ“…é•¿å›ç­”å…·ä½“äº‹å®é—®é¢˜ã€‚</li>
<li><strong>å…¨å±€</strong>ï¼šé«˜å±‚çº§ç¤¾åŒºèšåˆäº†å¤šä¸ªå­ç¤¾åŒºçš„ç²¾è¦ï¼Œåœ¨é€‚åº”å¤§æ¨¡å‹ä¸Šä¸‹æ–‡çª—å£é™åˆ¶çš„åŒæ—¶ï¼Œä¿ç•™äº†æœ€ç›¸å…³çš„å®è§‚ä¿¡æ¯ï¼Œä½¿å…¶èƒ½å¤Ÿå›ç­”å¦‚Â <strong>â€œæ‰€æœ‰æ•…äº‹ä¸­å…±åŒæ¶‰åŠçš„æ ¸å¿ƒäººç‰©æ˜¯è°ï¼Ÿâ€</strong>Â è¿™ç±»éœ€è¦å…¨å±€è§†é‡çš„é—®é¢˜ã€‚</li>
</ul>
<p>è¿™æ­£æ˜¯å…¶è®ºæ–‡é¢˜ä¸ºÂ <strong>ã€ŠFrom Local to Global: A GraphRAG Approach to Query-Focused Summarizationã€‹</strong>Â çš„åŸå› ã€‚ç›¸æ¯”ç›´æ¥å¯¹æºæ–‡æœ¬è¿›è¡Œæ‘˜è¦ï¼Œè¿™ç§åŸºäº<strong>ç¤¾åŒºç»“æ„çš„å±‚æ¬¡åŒ–æ‘˜è¦</strong>ï¼Œèƒ½å¤Ÿå¯¹éæŒ‡å‘å¶å­èŠ‚ç‚¹çš„ã€æ›´ä¸ºå®½æ³›æˆ–é«˜å±‚çš„æŸ¥è¯¢ï¼Œç»™å‡º<strong>æ›´å‡†ç¡®ã€æ›´å…·æ´è§çš„å›ç­”</strong>ã€‚</p>
<h4 data-id="heading-42">1.2GraphRAGçš„æŸ¥è¯¢é˜¶æ®µ</h4>
<p>GraphRAGçš„æŸ¥è¯¢é˜¶æ®µåˆ©ç”¨ç´¢å¼•é˜¶æ®µæ„å»ºçš„çŸ¥è¯†å›¾è°±å’Œç›¸å…³ç»“æ„æ¥å›ç­”ç”¨æˆ·é—®é¢˜ï¼Œæ¯”ä¼ ç»ŸRAGæ›´å¤æ‚ï¼Œæ¶‰åŠå›¾éå†ã€å¤šæºä¿¡æ¯æ•´åˆå’Œç²¾ç»†åŒ–çš„æç¤ºå·¥ç¨‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a1e315e3d28743029ccd90c76cb8530c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=aqOlE4gkOHPdVKc4c2VtA2RxyQI%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹ç¼–è¾‘â€‹</p>
<p>â€‹</p>
<p>ï¼ˆå›¾æ¥è‡ª<a href="https://link.juejin.cn?target=https%3A%2F%2Fjieyibu.net%2Fhtmlpages%2FGraphRAG.html" title="https://jieyibu.net/htmlpages/GraphRAG.html" target="_blank" ref="nofollow noopener noreferrer">GraphRAGï¼šåŸç†ã€æµç¨‹ã€å®æˆ˜ä¸æ­å»º</a>ï¼‰</p>
<blockquote>
<p><strong>1. æŸ¥è¯¢ç†è§£</strong><br/>
ç³»ç»Ÿæ¥æ”¶ç”¨æˆ·è‡ªç„¶è¯­è¨€æŸ¥è¯¢ï¼Œç”±LLMè§£ææŸ¥è¯¢æ„å›¾ï¼Œè¯†åˆ«å…³é”®å®ä½“å¹¶åˆ¤æ–­æ½œåœ¨æŸ¥è¯¢ç±»å‹ã€‚</p>
<p><strong>2. æ··åˆæ£€ç´¢</strong><br/>
æ ¹æ®æŸ¥è¯¢ç±»å‹ï¼Œæ‰§è¡Œå›¾æ£€ç´¢ï¼ˆæ²¿çŸ¥è¯†å›¾è°±å…³ç³»è¾¹éå†ï¼‰å’Œ/æˆ–å‘é‡æ£€ç´¢ï¼ˆè¯­ä¹‰ç›¸ä¼¼åº¦æœç´¢ï¼‰ï¼Œæ”¯æŒçµæ´»ç»„åˆçš„æ£€ç´¢ç­–ç•¥ã€‚</p>
<p><strong>3. ä¸Šä¸‹æ–‡å¢å¼º</strong><br/>
æ•´åˆæ£€ç´¢ç»“æœï¼Œå¼•å…¥ç›¸å…³ç¤¾åŒºæ‘˜è¦ï¼Œå¹¶å°†å›¾ç»“æ„ä¿¡æ¯åºåˆ—åŒ–ï¼Œæ„å»ºå‡ºç»“æ„æ¸…æ™°ã€ä¿¡æ¯ä¸°å¯Œçš„æç¤ºå†…å®¹ã€‚</p>
<p><strong>4. ç”Ÿæˆä¸æº¯æº</strong><br/>
LLMåŸºäºå¢å¼ºåçš„ä¸Šä¸‹æ–‡ç”Ÿæˆè‡ªç„¶è¯­è¨€ç­”æ¡ˆï¼Œå¹¶å¯é™„å¸¦æ¥æºè¿½æº¯ä¸è§£é‡Šæ€§ä¿¡æ¯ï¼Œæå‡å›ç­”çš„å¯ä¿¡åº¦ä¸å¯è§£é‡Šæ€§ã€‚</p>
</blockquote>
<p>åœ¨æŸ¥è¯¢é˜¶æ®µï¼ŒGraphRAG å¹¶éç›´æ¥æ£€ç´¢æµ·é‡çš„åŸå§‹æ–‡æœ¬æˆ–éå†æ•´ä¸ªçŸ¥è¯†å›¾è°±ï¼Œè€Œæ˜¯å€ŸåŠ©å·²ç”Ÿæˆçš„<strong>ç¤¾åŒºæ‘˜è¦</strong>è¿›è¡Œé«˜æ•ˆã€èšç„¦çš„ä¿¡æ¯åˆæˆã€‚å…¶æ ¸å¿ƒæµç¨‹å¦‚ä¸‹ï¼š</p>
<p><strong>1. æŸ¥è¯¢èšç„¦çš„æ‘˜è¦æ£€ç´¢</strong><br/>
ç³»ç»Ÿé¦–å…ˆè§£æç”¨æˆ·æŸ¥è¯¢ï¼Œè¯†åˆ«å…¶ä¸­çš„å…³é”®å®ä½“ä¸å…³ç³»ï¼Œå¹¶ä»¥æ­¤åœ¨çŸ¥è¯†å›¾è°±ä¸­åŒ¹é…ç›¸ä¼¼çš„è¯­ä¹‰æ¨¡å¼ã€‚éšåï¼Œç³»ç»Ÿä»…<strong>å¬å›ä¸è¿™äº›æ¨¡å¼æœ€ç›¸å…³çš„é¢„ç”Ÿæˆç¤¾åŒºæ‘˜è¦</strong>ï¼Œè€Œéå¤„ç†å…¨éƒ¨å›¾è°±æ•°æ®ã€‚è¿™ç¡®ä¿äº†æ£€ç´¢çš„ç²¾å‡†æ€§ä¸å¯æ‰©å±•æ€§ã€‚</p>
<p><strong>2. åŸºäº Map Reduce çš„ç­”æ¡ˆåˆæˆ</strong><br/>
ä¸ºäº†å¹¶è¡Œã€é«˜æ•ˆåœ°å¤„ç†å¤šä¸ªç›¸å…³ç¤¾åŒºæ‘˜è¦ï¼Œç³»ç»Ÿé‡‡ç”¨Â <strong>Map Reduce</strong>Â è®¡ç®—æ¡†æ¶ï¼š</p>
<ul>
<li><strong>Mapï¼ˆæ˜ å°„ï¼‰é˜¶æ®µ</strong>ï¼šå¹¶è¡Œå¤„ç†æ¯ä¸€ä¸ªè¢«å¬å›çš„ç¤¾åŒºæ‘˜è¦ï¼Œç”Ÿæˆå¤šæ¡å¯èƒ½å›ç­”æŸ¥è¯¢çš„<strong>ä¸­é—´æ‘˜è¦ç‰‡æ®µ</strong>ï¼Œå¹¶ä¸ºæ¯ä¸ªç‰‡æ®µè®¡ç®—ä¸€ä¸ªÂ <strong>0-100 åˆ†çš„é‡è¦æ€§å¾—åˆ†</strong>ï¼Œé‡åŒ–è¯¥ä¿¡æ¯å¯¹å›ç­”å½“å‰é—®é¢˜çš„å…³é”®ç¨‹åº¦ã€‚</li>
<li><strong>Reduceï¼ˆå½’çº¦ï¼‰é˜¶æ®µ</strong>ï¼šå°†æ‰€æœ‰ä¸­é—´æ‘˜è¦æŒ‰é‡è¦æ€§å¾—åˆ†é™åºæ’åºï¼Œç­›é€‰å‡ºé«˜åˆ†ç‰‡æ®µï¼Œè¿›è¡Œæ•´åˆã€å»é‡ä¸ç²¾ç‚¼ï¼Œæœ€ç»ˆåˆæˆä¸€ä¸ª<strong>å…¨é¢ã€è¿è´¯ä¸”ç´§æ‰£é—®é¢˜çš„å…¨å±€ç­”æ¡ˆ</strong>ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bf68b94bbf7047c195800c65b0312938~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=L202oCfMs9yEzn5U01C1cRS%2Fg10%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹ç¼–è¾‘â€‹â€‹</p>
<p>é€šè¿‡è¿™ä¸€æœºåˆ¶ï¼ŒGraphRAG èƒ½å¤Ÿå¿«é€Ÿä»å¤§è§„æ¨¡çŸ¥è¯†ä¸­å®šä½æ ¸å¿ƒä¿¡æ¯ï¼Œå¹¶ç»„ç»‡æˆç»“æ„æ¸…æ™°ã€ä¾æ®æ˜ç¡®çš„å›ç­”ã€‚</p>
<h3 data-id="heading-43">2.GraphRAGçš„æ ¸å¿ƒæ¶æ„</h3>
<p>GraphRAGçš„æ¶æ„æ˜¯å¯¹ä¼ ç»ŸRAGçš„æ‰©å±•å’Œå¢å¼ºï¼Œé€šè¿‡å¼•å…¥çŸ¥è¯†å›¾è°±åŠå…¶ç›¸å…³å¤„ç†ç»„ä»¶ï¼Œå®ç°äº†æ›´å¼ºå¤§çš„ä¿¡æ¯æ£€ç´¢å’Œæ¨ç†èƒ½åŠ›ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b9e693415b6a4121aa957d265f0f0e8f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=l%2Fzoeepv%2Fj9WvSLwX8lnt0fCw2c%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹ç¼–è¾‘â€‹</p>
<p>â€‹</p>
<p>ï¼ˆå›¾æ¥è‡ª<a href="https://link.juejin.cn?target=https%3A%2F%2Fjieyibu.net%2Fhtmlpages%2FGraphRAG.html" title="https://jieyibu.net/htmlpages/GraphRAG.html" target="_blank" ref="nofollow noopener noreferrer">GraphRAGï¼šåŸç†ã€æµç¨‹ã€å®æˆ˜ä¸æ­å»º</a>ï¼‰</p>
<blockquote>
<p><strong>çŸ¥è¯†å›¾è°±</strong><br/>
å­˜å‚¨ç»“æ„åŒ–çŸ¥è¯†ï¼Œå½¢æˆèŠ‚ç‚¹ä¸è¾¹çš„å…³ç³»ç½‘ç»œã€‚</p>
<p><strong>å›¾æ£€ç´¢å™¨</strong><br/>
æ‰§è¡Œå…³ç³»è·¯å¾„æŸ¥è¯¢ï¼Œæ”¯æŒå¤šè·³æ£€ç´¢ä¸å›¾è°±éå†ã€‚</p>
<p><strong>å›¾æ¨ç†å™¨</strong><br/>
å¯¹æ£€ç´¢è·¯å¾„è¿›è¡Œé€»è¾‘éªŒè¯ä¸ç›¸å…³æ€§è¯„ä¼°ã€‚</p>
<p><strong>å‘é‡å­˜å‚¨</strong><br/>
å­˜å‚¨å‘é‡åµŒå…¥ï¼Œæ”¯æŒåŸºäºç›¸ä¼¼åº¦çš„è¯­ä¹‰æ£€ç´¢ã€‚</p>
<p><strong>å¤§å‹è¯­è¨€æ¨¡å‹</strong><br/>
è´Ÿè´£æŸ¥è¯¢è§£æã€å›¾è°±å¢å¼ºã€æ£€ç´¢ååŒä¸æœ€ç»ˆç­”æ¡ˆç”Ÿæˆã€‚</p>
<p><strong>ç¼–æ’æ¡†æ¶</strong></p>
<p>ç®¡ç†å’Œåè°ƒå„ç»„ä»¶ä¹‹é—´çš„äº¤äº’å’Œå·¥ä½œæµç¨‹</p>
</blockquote>
<h3 data-id="heading-44">3.GraphRAGçš„<strong>å±€é™ä¸æ”¹è¿›æ–¹å‘</strong></h3>
<p>å°½ç®¡å¾®è½¯ GraphRAG ä¸ºåŸºäºçŸ¥è¯†å›¾è°±çš„æ£€ç´¢å¢å¼ºç”Ÿæˆæä¾›äº†å¼€åˆ›æ€§çš„å®ç°æ–¹æ¡ˆï¼Œå¹¶åœ¨å…¨å±€æ¨ç†ä¸å¤æ‚é—®ç­”ä¸Šå±•ç°å‡ºæ˜¾è‘—ä¼˜åŠ¿ï¼Œä½†å…¶åœ¨å®é™…éƒ¨ç½²ä¸åº”ç”¨ä¸­ä»å­˜åœ¨è‹¥å¹²æ˜æ˜¾å±€é™ï¼Œä¹Ÿç”±æ­¤å‚¬ç”Ÿäº†å¤šç§æ—¨åœ¨ä¼˜åŒ–æ€§èƒ½ä¸æ•ˆç‡çš„åç»­æ–¹æ¡ˆã€‚</p>
<h4 data-id="heading-45"><strong>3.1GraphRAG çš„ä¸»è¦å±€é™</strong></h4>
<ol>
<li><strong>è®¡ç®—æˆæœ¬ä¸æ•ˆç‡ç“¶é¢ˆ</strong><br/>
åŸºäºç¤¾åŒºçš„ç´¢å¼•ä¸æ£€ç´¢æœºåˆ¶éœ€å¤šæ¬¡è°ƒç”¨å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰APIï¼Œæ•´ä½“æµç¨‹è¾ƒä¸ºç¼“æ…¢ï¼Œä¸”æˆæœ¬æ˜¾è‘—æé«˜ï¼Œéš¾ä»¥é€‚åº”å®æ—¶æˆ–é«˜é¢‘æŸ¥è¯¢åœºæ™¯ã€‚</li>
<li><strong>å›¾è°±å™ªå£°ä¸å†—ä½™é—®é¢˜</strong><br/>
åœ¨æ„å»ºçŸ¥è¯†å›¾è°±æ—¶ï¼Œç³»ç»Ÿæœªè®¾ç½®ä¸“é—¨çš„å»é‡æœºåˆ¶ï¼Œå¯¼è‡´é‡å¤å®ä½“ä¸å…³ç³»å¯èƒ½è¢«å¤šæ¬¡æå–å¹¶å½•å…¥å›¾è°±ï¼Œä»è€Œå¼•å…¥å™ªå£°ï¼Œå½±å“æ£€ç´¢ç²¾åº¦ä¸ç­”æ¡ˆè´¨é‡ã€‚</li>
<li><strong>ç¼ºä¹é«˜æ•ˆçš„å¢é‡æ›´æ–°èƒ½åŠ›</strong><br/>
å½“å‰å®ç°ä¸­ï¼Œè‹¥è¦åœ¨å·²æœ‰çŸ¥è¯†å›¾è°±ä¸­æ’å…¥æ–°æ•°æ®ï¼Œå¿…é¡»é‡æ–°æ„å»ºæ•´ä¸ªå›¾è°±ç´¢å¼•ã€‚è¿™ç§å…¨é‡é‡å»ºçš„æ–¹å¼åœ¨æ•°æ®åŠ¨æ€æ›´æ–°çš„ç”Ÿäº§ç¯å¢ƒä¸­ç¼ºä¹å¯è¡Œæ€§ï¼Œé™åˆ¶äº†ç³»ç»Ÿçš„å¯æŒç»­ç»´æŠ¤ä¸æ‰©å±•ã€‚</li>
</ol>
<h4 data-id="heading-46"><strong>3.2GraphRAG çš„æ¼”è¿›ä¸ä¼˜åŒ–æ–¹æ¡ˆ</strong></h4>
<p>å¾®è½¯çš„å®ç°è™½è¢«å¹¿æ³›è§†ä¸º GraphRAG çš„æ ‡æ†ï¼Œä½†å…¶ä¸Šè¿°å±€é™ä¹Ÿæ¨åŠ¨äº†åç»­ä¸€ç³»åˆ—æ—¨åœ¨æå‡æ•ˆç‡ä¸å‡†ç¡®æ€§çš„æ”¹è¿›å·¥ä½œã€‚å®é™…ä¸Šï¼Œåœ¨å›¾è°±å¢å¼ºæ£€ç´¢çš„æ–¹å‘ä¸Šï¼Œæ—©æœŸå·²æœ‰ NebulaGraphã€LangChainã€LlamaIndexã€Neo4j ç­‰é¡¹ç›®è¿›è¡Œè¿‡ç›¸å…³æ¢ç´¢ã€‚</p>
<p>ç›®å‰ï¼Œè¾ƒæœ‰ä»£è¡¨æ€§çš„æ”¹è¿›æ–¹å‘ä¸è¡ç”Ÿæ–¹æ¡ˆåŒ…æ‹¬ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/91a2219f347f40c899106281fd2abd2b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=ixcaLQChJZkJduJgK9S6yvhfi4E%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹ç¼–è¾‘â€‹â€‹</p>
<ul>
<li><strong>è½»é‡åŒ–ä¸é«˜æ•ˆåŒ–å˜ä½“</strong><br/>
ä¾‹å¦‚Â <strong>Nano-GraphRAG</strong>Â ç³»åˆ—ï¼ˆå« LightRAGã€MedGraphRAGã€FastGraphRAG ç­‰ï¼‰ï¼Œé€šè¿‡ç®€åŒ–æ£€ç´¢é€»è¾‘ã€å‡å°‘ä¸å¿…è¦çš„ç¤¾åŒºè®¡ç®—ä¸èšåˆæ­¥éª¤ï¼Œæ˜¾è‘—é™ä½äº†ç³»ç»Ÿå¤æ‚æ€§ä¸å“åº”å»¶è¿Ÿã€‚<br/>
ä»¥Â <code>nano-graphrag</code>Â ä¸ºä¾‹ï¼Œå®ƒä¸å†é‡‡ç”¨åŸç‰ˆä¸­ Map-Reduce å¼çš„å¤šç¤¾åŒºæ‰“åˆ†ä¸åˆå¹¶ç­–ç•¥ï¼Œè€Œæ˜¯ä»…é€‰å– Topâ€‘K ä¸ªæœ€ç›¸å…³ç¤¾åŒºè¿›è¡Œæ·±åº¦æ£€ç´¢ï¼Œä»è€Œåœ¨ä¿è¯æ•ˆæœçš„å‰æä¸‹å¤§å¹…æå‡æ•ˆç‡ã€‚</li>
<li><strong>ç»“æ„ä¼˜åŒ–ä¸æ‰©å±•æ–¹æ¡ˆ</strong><br/>
è¯¸å¦‚Â <strong>HippoRAGã€MiniGraphRAGã€LayGraphRAG</strong>Â ç­‰ï¼Œåˆ™åœ¨å›¾è°±æ„å»ºã€ç¤¾åŒºåˆ’åˆ†ã€æ£€ç´¢èåˆç­‰ç¯èŠ‚å¼•å…¥ä¸åŒä¼˜åŒ–ç­–ç•¥ï¼Œè¿›ä¸€æ­¥åœ¨æ•ˆæœã€æ•ˆç‡ä¸å¯æ‰©å±•æ€§ä¹‹é—´å¯»æ±‚æ›´ä¼˜å¹³è¡¡ã€‚</li>
</ul>
<p>è¿™äº›æ”¹è¿›æ–¹æ¡ˆå…±åŒåæ˜ äº† GraphRAG ç”Ÿæ€çš„ä¸€ä¸ªæ¸…æ™°è¶‹åŠ¿ï¼šåœ¨ä¿æŒå…¶<strong>ç»“æ„åŒ–æ£€ç´¢ä¸å…¨å±€æ¨ç†æ ¸å¿ƒä¼˜åŠ¿</strong>çš„åŒæ—¶ï¼Œä¸æ–­<strong>ä¼˜åŒ–å·¥ç¨‹è½åœ°æˆæœ¬ã€å“åº”é€Ÿåº¦ä¸è¿ç»´çµæ´»æ€§</strong>ï¼Œæ¨åŠ¨å›¾å¢å¼ºæ£€ç´¢æŠ€æœ¯å‘æ›´å®ç”¨ã€æ›´æ˜“ç”¨çš„æ–¹å‘å‘å±•ã€‚</p>
<p>â€‹â€‹</p>
<h2 data-id="heading-47">ä¸‰ã€GraphRAGçš„å®è·µ</h2>
<p>çº¸ä¸Šå¾—æ¥ç»ˆè§‰æµ…ï¼Œç»çŸ¥æ­¤äº‹è¦èº¬è¡Œã€‚æˆ‘è¿™æ¬¡çš„å®è·µä¾‹å­æ˜¯å‚è€ƒâ€å¾®ä¿¡å…¬ä¼—å·ï¼šå¤§æ¨¡å‹çœŸå¥½ç©â€œå‘å¸ƒçš„æ¡ˆä¾‹ï¼šå¾®è½¯GraphRAGä»£ç å®æˆ˜ã€‚</p>
<h3 data-id="heading-48">1.GraphRAGå®‰è£…ä½¿ç”¨</h3>
<h4 data-id="heading-49">1.1GraphRAGç¯å¢ƒæ­å»º</h4>
<p>GraphRAGç¯å¢ƒæ­å»ºæˆ‘ä»¬ä½¿ç”¨Anacondaç®¡ç†Pythonè™šæ‹Ÿç¯å¢ƒã€‚é¦–å…ˆæ‰§è¡Œä»¥ä¸‹å‘½ä»¤åˆ›å»ºå¹¶é…ç½®è™šæ‹Ÿç¯å¢ƒï¼Œå°†å…¶å‘½åä¸º<code>metaGraphRAG</code>ï¼Œå¹¶åœ¨è¯¥ç¯å¢ƒä¸­å®‰è£…GraphRAGç›¸å…³ä¾èµ–ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å°†ä½¿ç”¨Jupyter Notebookç¼–å†™ä»£ç ï¼Œå› æ­¤éœ€è¦ä¸€å¹¶å®‰è£…Jupyterå†…æ ¸ã€‚</p>
<p>å…·ä½“æ“ä½œå‘½ä»¤å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># 1. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</span>
conda create -n metaGraphRAG <span class="hljs-attr">python</span>=<span class="hljs-number">3.12</span>

<span class="hljs-comment"># 2. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</span>
conda activate metaGraphRAG

<span class="hljs-comment"># 3. å®‰è£…JupyterLabåŠå†…æ ¸</span>
conda install jupyterlab ipykernel

<span class="hljs-comment"># 4. å°†å½“å‰ç¯å¢ƒæ·»åŠ ä¸ºJupyterå†…æ ¸</span>
python -m ipykernel install --user --name metaGraphRAG --display-name "Python (metaGraphRAG)"
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>å®Œæˆä¸Šè¿°æ­¥éª¤åï¼Œåœ¨é¡¹ç›®ç›®å½•ä¸‹æ‰§è¡ŒÂ </p>
<pre><code class="hljs">jupyter notebook
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>æµè§ˆå™¨å°†è‡ªåŠ¨æ‰“å¼€Jupyterç•Œé¢ã€‚è‹¥å†…æ ¸å®‰è£…æ­£ç¡®ï¼Œå°†æ˜¾ç¤ºç±»ä¼¼ä¸‹å›¾çš„ç•Œé¢ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fff6525a4cf84d5585de8cb0eebe5bd9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=cRZnnUQMGIzgxKsbkEUIEPQG33c%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹â€‹</p>
<p>æ¥ä¸‹æ¥ï¼Œåœ¨æ¿€æ´»çš„Â <code>metaGraphRAG</code>Â ç¯å¢ƒä¸­å®‰è£…GraphRAGä¾èµ–åŒ…ï¼š</p>
<pre><code class="hljs">pip install graphrag
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h4 data-id="heading-50">1.2 GraphRAGé¡¹ç›®é…ç½®</h4>
<p>åˆ›å»ºå¥½è™šæ‹Ÿç¯å¢ƒåï¼Œæ¥ä¸‹æ¥ä½¿ç”¨GraphRAGæ„å»ºçŸ¥è¯†å›¾è°±ã€‚</p>
<h5 data-id="heading-51"><strong>æ­¥éª¤ä¸€ï¼šåˆ›å»ºé¡¹ç›®ç›®å½•ç»“æ„</strong></h5>
<p>åœ¨é¡¹ç›®ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œåˆ›å»ºåµŒå¥—çš„æ£€ç´¢æ–‡ä»¶å¤¹ã€‚å¤–å±‚ç›®å½•å¯è‡ªå®šä¹‰ï¼ˆæ­¤å¤„ç¤ºä¾‹ä¸º<code>openl</code>ï¼‰ï¼Œå†…å±‚æ–‡ä»¶å¤¹å¿…é¡»å‘½åä¸º<code>input</code>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span> -p ./openl/input
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h5 data-id="heading-52"><strong>æ­¥éª¤äºŒï¼šå‡†å¤‡æ•°æ®é›†</strong></h5>
<p>åœ¨Â <code>./openl/input</code>Â æ–‡ä»¶å¤¹ä¸­åˆ›å»ºÂ <code>å¤§æ•°æ®æ—¶ä»£.txt</code>Â æ–‡ä»¶ï¼Œå¹¶å†™å…¥å¦‚ä¸‹å†…å®¹ï¼š</p>
<pre><code class="hljs">ã€Šå¤§æ•°æ®æ—¶ä»£ã€‹æ˜¯ä¸€æœ¬ç”±ç»´å…‹æ‰˜Â·è¿ˆå°”-èˆæ©ä¼¯æ ¼ä¸è‚¯å°¼æ–¯Â·åº“å…‹è€¶åˆè‘—çš„ä¹¦ç±ï¼Œè®¨è®ºäº†å¦‚ä½•åœ¨æµ·é‡æ•°æ®ä¸­æŒ–æ˜å‡ºæœ‰ä»·å€¼çš„ä¿¡æ¯ã€‚è¿™æœ¬ä¹¦æ·±å…¥æ¢è®¨äº†æ•°æ®ç§‘å­¦çš„åº”ç”¨ï¼Œå¹¶é˜è¿°äº†æ•°æ®åˆ†æå’Œé¢„æµ‹åœ¨å„è¡Œå„ä¸šä¸­çš„å½±å“åŠ›ã€‚åœ¨ä¹¦ä¸­ï¼Œä½œè€…ä¸¾äº†è®¸å¤šå®é™…ä¾‹å­ï¼Œè¯´æ˜å¤§æ•°æ®å¦‚ä½•æ”¹å˜æˆ‘ä»¬çš„ç”Ÿæ´»ï¼Œç”šè‡³å¦‚ä½•é¢„æµ‹æœªæ¥çš„è¶‹åŠ¿ã€‚
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h5 data-id="heading-53"><strong>æ­¥éª¤ä¸‰ï¼šåˆå§‹åŒ–é¡¹ç›®</strong></h5>
<p>GraphRAG ä¼šé’ˆå¯¹Â <code>input</code>Â æ–‡ä»¶å¤¹ä¸­çš„æ¯ä¸ªæ–‡ä»¶è¿›è¡Œåˆ†æã€‚å°†æ–‡æ¡£æ”¾å…¥Â <code>input</code>Â æ–‡ä»¶å¤¹åï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼ŒGraphRAG å°†æ ¹æ®è¾“å…¥æ–‡æ¡£ç”Ÿæˆç›¸åº”çš„é…ç½®æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">graphrag init --root ./openl
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>åˆå§‹åŒ–å®Œæˆåï¼Œ<code>openl</code>Â æ–‡ä»¶å¤¹ä¸­ä¼šè‡ªåŠ¨ç”ŸæˆÂ <code>prompt</code>ï¼ˆæç¤ºè¯æ–‡ä»¶å¤¹ï¼‰å’ŒÂ <code>settings.yaml</code>ï¼ˆé…ç½®æ–‡ä»¶ï¼‰ã€‚</p>
<h5 data-id="heading-54"><strong>æ­¥éª¤å››ï¼šé…ç½®æ¨¡å‹å‚æ•°</strong></h5>
<p>GraphRAG ä¾èµ–å¤§æ¨¡å‹è¿›è¡ŒçŸ¥è¯†å›¾è°±æ„å»ºä¸æ£€ç´¢ï¼Œé»˜è®¤ä½¿ç”¨ OpenAI æ¨¡å‹ã€‚ç”±äºç½‘ç»œé™åˆ¶ï¼Œæœ¬æ¬¡æˆ‘ä»¬ä½¿ç”¨ç¡…åŸºæµåŠ¨æä¾›çš„æ¨¡å‹æœåŠ¡</p>
<p>ä¿®æ”¹Â <code>settings.yaml</code>Â é…ç½®æ–‡ä»¶ä¸­Â <code>models</code>Â éƒ¨åˆ†å¦‚ä¸‹ï¼Œå…¶ä¸­ chat æ¨¡å‹é€‰ç”¨Â <code>Qwen3-8B</code>ï¼Œembedding æ¨¡å‹é€‰ç”¨Â <code>BAAI/bge-m3</code>ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">models:</span>
  <span class="hljs-attr">default_chat_model:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">chat</span>
    <span class="hljs-attr">model_provider:</span> <span class="hljs-string">openai</span> <span class="hljs-comment"># ç¡…åŸºæµåŠ¨å…¼å®¹OpenAI API</span>
    <span class="hljs-attr">auth_type:</span> <span class="hljs-string">api_key</span>
    <span class="hljs-attr">api_key:</span> <span class="hljs-string">${GRAPHRAG_API_KEY}</span> <span class="hljs-comment"># è®¾ç½®ä¸ºç¡…åŸºæµåŠ¨çš„API Key</span>
    <span class="hljs-attr">model:</span> <span class="hljs-string">Qwen/Qwen3-8B</span>
    <span class="hljs-attr">api_base:</span> <span class="hljs-string">https://api.siliconflow.cn/v1</span> <span class="hljs-comment"># æ·»åŠ ç¡…åŸºæµåŠ¨çš„APIç«¯ç‚¹</span>
    <span class="hljs-comment"># api_version: 2024-05-01-preview</span>
    <span class="hljs-attr">model_supports_json:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># recommended if this is available for your model.</span>
    <span class="hljs-attr">concurrent_requests:</span> <span class="hljs-number">25</span>
    <span class="hljs-attr">async_mode:</span> <span class="hljs-string">threaded</span> <span class="hljs-comment"># or asyncio</span>
    <span class="hljs-attr">retry_strategy:</span> <span class="hljs-string">exponential_backoff</span>
    <span class="hljs-attr">max_retries:</span> <span class="hljs-number">10</span>
    <span class="hljs-attr">tokens_per_minute:</span> <span class="hljs-literal">null</span>
    <span class="hljs-attr">requests_per_minute:</span> <span class="hljs-literal">null</span>
  <span class="hljs-attr">default_embedding_model:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">embedding</span>
    <span class="hljs-attr">model_provider:</span> <span class="hljs-string">openai</span>
    <span class="hljs-attr">auth_type:</span> <span class="hljs-string">api_key</span>
    <span class="hljs-attr">api_key:</span> <span class="hljs-string">${GRAPHRAG_API_KEY}</span>
    <span class="hljs-attr">model:</span> <span class="hljs-string">BAAI/bge-m3</span>  <span class="hljs-comment"># ä¿®æ”¹ä¸ºBAAI/bge-m3</span>
    <span class="hljs-attr">api_base:</span> <span class="hljs-string">https://api.siliconflow.cn/v1</span>  <span class="hljs-comment"># æ·»åŠ ç¡…åŸºæµåŠ¨çš„APIç«¯ç‚¹</span>
    <span class="hljs-comment"># api_version: 2024-05-01-preview</span>
    <span class="hljs-attr">concurrent_requests:</span> <span class="hljs-number">25</span>
    <span class="hljs-attr">async_mode:</span> <span class="hljs-string">threaded</span> <span class="hljs-comment"># or asyncio</span>
    <span class="hljs-attr">retry_strategy:</span> <span class="hljs-string">exponential_backoff</span>
    <span class="hljs-attr">max_retries:</span> <span class="hljs-number">10</span>
    <span class="hljs-attr">tokens_per_minute:</span> <span class="hljs-literal">null</span>
    <span class="hljs-attr">requests_per_minute:</span> <span class="hljs-literal">null</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h5 data-id="heading-55"><strong>æ­¥éª¤äº”ï¼šè°ƒæ•´æ–‡æœ¬åˆ‡åˆ†å‚æ•°</strong></h5>
<p>ä¸ºäº†æ›´æ¸…æ™°åœ°æ¼”ç¤º GraphRAG çš„å…¨è¿‡ç¨‹ï¼Œæ­¤å¤„éœ€æ ¹æ®çŸ­æ–‡æœ¬æ¥è°ƒæ•´ chunk å¤§å°ã€‚ä¿®æ”¹Â <code>settings.yaml</code>Â ä¸­çš„Â <code>chunks</code>Â é…ç½®å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">chunks:</span>
  <span class="hljs-attr">size:</span> <span class="hljs-number">50</span> <span class="hljs-comment"># æ¯ä¸ªæ–‡æœ¬å—åŒ…å«çš„è¯è¯­æ•°</span>
  <span class="hljs-attr">overlap:</span> <span class="hljs-number">10</span> <span class="hljs-comment"># ä¸åŒæ–‡æœ¬å—é—´é‡åˆè¯è¯­æ•°</span>
  <span class="hljs-attr">group_by_columns:</span> [<span class="hljs-string">id</span>]
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>è‡³æ­¤ï¼ŒGraphRAG çš„åŸºæœ¬é…ç½®å·²å®Œæˆã€‚æ¥ä¸‹æ¥å¯ä»¥æŒ‰ç…§æˆ‘ä»¬å‰é¢ä»‹ç»è¿‡çš„åŸºæœ¬æµç¨‹è¿›è¡Œï¼šæ‰§è¡ŒçŸ¥è¯†å›¾è°±æ„å»ºä¸æ£€ç´¢çš„åç»­æµç¨‹ã€‚</p>
<h4 data-id="heading-56">1.3GraphRAG ä½¿ç”¨æ–¹æ³•</h4>
<p>GraphRAG æä¾›äº†ä¸åŒå±‚æ¬¡çš„è°ƒç”¨æ–¹æ³•ã€‚æˆ‘æ„Ÿè§‰ä½¿ç”¨<strong>å‘½ä»¤è¡Œè°ƒç”¨</strong>è¿˜æŒºæ–¹ä¾¿çš„ï¼Œä¸€ä¸¤è¡Œå‘½ä»¤å³å¯å®Œæˆæ ¸å¿ƒæµç¨‹ã€‚è‹¥éœ€è¦è¿›è¡Œå®šåˆ¶åŒ–å¼€å‘æˆ–ä¸ç°æœ‰ç³»ç»Ÿé›†æˆè°ƒä¼˜ï¼Œåˆ™éœ€ä½¿ç”¨<strong>ä½å±‚çº§çš„ Python API</strong>ã€‚æœ¬å°ç« å°†ä»‹ç»è¿™ä¸¤ç§æ–¹æ³•ï¼Œå¹¶ä¾ç…§Â <strong>â€œç´¢å¼•â€</strong>Â ä¸Â <strong>â€œæŸ¥è¯¢â€</strong>Â ä¸¤å¤§æ ¸å¿ƒé˜¶æ®µè¿›è¡Œç»„ç»‡ã€‚</p>
<h5 data-id="heading-57">1.3.1å‘½ä»¤è¡Œè°ƒç”¨</h5>
<h6 data-id="heading-58">ï¼ˆ1ï¼‰ç´¢å¼•é˜¶æ®µï¼šæ„å»ºçŸ¥è¯†å›¾è°±</h6>
<h6 data-id="heading-59">1.å‘½ä»¤è¡Œæ„å»ºçŸ¥è¯†å›¾è°±</h6>
<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå¯åŠ¨å®Œæ•´çš„ç´¢å¼•æµç¨‹ã€‚è¯¥è¿‡ç¨‹å°†è‡ªåŠ¨åŒ–æ‰§è¡ŒçŸ¥è¯†å›¾è°±æ„å»ºä¸ç¤¾åŒºå‘ç°ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">graphrag index --root ./openl
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>æ‰§è¡ŒæœŸé—´ï¼ŒGraphRAG ä¼šåœ¨åå°ä¾æ¬¡å®Œæˆæ–‡æœ¬åˆ†å—ã€å®ä½“å…³ç³»æå–ã€å›¾è°±åˆæˆã€ç¤¾åŒºåˆ’åˆ†ä¸æ‘˜è¦ç”Ÿæˆã€‚æ‰€æœ‰è¾“å‡ºç»“æœå°†ä»¥é«˜æ•ˆçš„Â <strong>Parquet æ ¼å¼</strong>ä¿å­˜åœ¨Â <code>./openl/output/</code>Â ç›®å½•ä¸‹ï¼ŒåŒ…å«ä»¥ä¸‹å…³é”®æ•°æ®è¡¨ï¼š</p>
<ul>
<li><code>entities.parquet</code>ï¼š<strong>å®ä½“è¡¨</strong>ï¼ŒçŸ¥è¯†å›¾è°±çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚</li>
<li><code>relationships.parquet</code>ï¼š<strong>å…³ç³»è¡¨</strong>ï¼ŒçŸ¥è¯†å›¾è°±ä¸­è¿æ¥å®ä½“çš„è¾¹ã€‚</li>
<li><code>communities.parquet</code>ï¼š<strong>ç¤¾åŒºè¡¨</strong>ï¼Œé€šè¿‡ç®—æ³•åˆ’åˆ†å‡ºçš„å®ä½“ç¾¤è½ã€‚</li>
<li><code>community_reports.parquet</code>ï¼š<strong>ç¤¾åŒºæŠ¥å‘Šè¡¨</strong>ï¼Œæ¯ä¸ªç¤¾åŒºçš„ç»“æ„åŒ–æ‘˜è¦ï¼Œç”¨äºå…¨å±€æ£€ç´¢ã€‚</li>
<li><code>documents.parquet</code>ï¼š<strong>åŸå§‹æ–‡æ¡£è¡¨</strong>ã€‚</li>
<li><code>text_units.parquet</code>ï¼š<strong>æ–‡æœ¬å—è¡¨</strong>ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a314177b27fb43b7baae3ef3eef0a1f0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=txfl4%2Bv2%2By7ujzJB8oSasNunbCA%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹â€‹</p>
<h6 data-id="heading-60">2.æ•°æ®æ¢æŸ¥ï¼šè¡¨æ ¼å±•ç¤º</h6>
<p>ä¸ºç›´è§‚ç†è§£ç´¢å¼•ç»“æœï¼Œå¯åœ¨ Jupyter Notebook ä¸­ä½¿ç”¨Â <code>pandas</code>Â è¯»å–å¹¶æŸ¥çœ‹å„è¡¨å†…å®¹ã€‚è¿™æ˜¯è¯„ä¼°çŸ¥è¯†å›¾è°±æ„å»ºè´¨é‡ï¼ˆå¦‚å®ä½“æŠ½å–æ˜¯å¦å…¨é¢ï¼‰çš„ç›´æ¥æ–¹å¼ã€‚</p>
<p><strong>è¯»å–æ–‡ä»¶è¡¨:</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
document_df = pd.read_parquet(<span class="hljs-string">r'D:\pycharm(code)\Agent\GraphRAG\openl\output\documents.parquet'</span>)
document_df
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2258de03c4ed4e24b7c90bb8c677f776~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=POfWCTCG4qcD%2F2LVlHLcVMQ7jXI%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹â€‹</p>
<p><strong>è¯»å–æ–‡ä»¶å—è¡¨:</strong></p>
<pre><code class="hljs language-python" lang="python">text_unit_df = pd.read_parquet(<span class="hljs-string">r'D:\pycharm(code)\Agent\GraphRAG\openl\output\text_units.parquet'</span>)
text_unit_df
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b752e48ff7f6495f86505142610e78bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=UAQYLDYSslLAN2vbqCSmaDW6Vuw%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹â€‹</p>
<p><strong>è¯»å–å®ä½“è¡¨</strong>, çŸ¥è¯†å›¾è°±æ„å»ºå®Œæˆåï¼Œæˆ‘ä»¬ä¸€èˆ¬ç¬¬ä¸€æ—¶é—´å»çœ‹å®ä½“è¡¨ï¼Œçœ‹å®ä½“æ„å»ºæ˜¯å¦åˆé€‚ï¼Œåˆé€‚è¡¨ç¤ºçŸ¥è¯†å›¾è°±æ„å»ºæ¯”è¾ƒå…¨é¢, ä¸åˆé€‚å°±è¦å¯¹æç¤ºè¯è¿›è¡Œè°ƒæ•´äº†ã€‚</p>
<pre><code class="hljs language-python" lang="python">entities_df = pd.read_parquet(<span class="hljs-string">r'D:\pycharm(code)\Agent\GraphRAG\openl\output\entities.parquet'</span>)
entities_df
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/101a76eb5a26422389dbf4c0fc4a01b9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=Abo%2B0%2FM%2B5H2vjJ7J2pCtyOFgP%2BE%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹â€‹</p>
<p><strong>è¯»å–å…³ç³»è¡¨</strong>:</p>
<pre><code class="hljs language-python" lang="python">relationships_df = pd.read_parquet(<span class="hljs-string">r'D:\pycharm(code)\Agent\GraphRAG\openl\output\relationships.parquet'</span>)
relationships_df
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a1ca70ba17340799de76060fbc04bf9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=zoVxM8aJR5WinDNQCs%2FoqJs%2Bq%2Bs%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹â€‹</p>
<p><strong>è¯»å–ç¤¾åŒºè¡¨:</strong></p>
<pre><code class="hljs language-python" lang="python">communities_df = pd.read_parquet(<span class="hljs-string">r'D:\pycharm(code)\Agent\GraphRAG\openl\output\communities.parquet'</span>)
communities_df
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c733a192934498a99ea45d1c61f9fd0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=tgnPO2CdOv3E6rMyT8KwMgppiwI%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹â€‹</p>
<p><strong>è¯»å–ç¤¾åŒºæŠ¥å‘Šè¡¨:</strong></p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">community_reports_df</span> = pd.read_parquet(<span class="hljs-string">'D:\pycharm(code)\Agent\GraphRAG\openl\output\community_reports.parquet'</span>)
community_reports_df
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/569a5c2fb5ee4b8b9780e3b7cba364df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=7SYd58839yNcVf2nAfK0FSgjSyQ%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹â€‹</p>
<blockquote>
<p><strong>æç¤º</strong>ï¼šé»˜è®¤è¾“å‡ºä¸ºè‹±æ–‡ï¼Œè¿™æ˜¯å› ä¸º GraphRAG å†…ç½®çš„æå–æç¤ºè¯ä¸ºè‹±æ–‡ã€‚å¦‚éœ€ä¸­æ–‡è¾“å‡ºï¼Œéœ€æå‰ç¿»è¯‘Â <code>./openl/prompts/</code>Â ç›®å½•ä¸‹çš„æç¤ºè¯æ¨¡æ¿æ–‡ä»¶ã€‚</p>
</blockquote>
<h6 data-id="heading-61">3.å¯è§†åŒ–ï¼šçŸ¥è¯†å›¾è°±å±•ç¤º</h6>
<p>é™¤è¡¨æ ¼å¤–ï¼Œå¯é€šè¿‡å¯è§†åŒ–ç›´è§‚å‘ˆç°å®ä½“ä¸å…³ç³»æ„æˆçš„ç½‘ç»œã€‚</p>
<p>å®‰è£…å¯è§†åŒ–åº“ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">%pip install <span class="hljs-attr">yfiles_jupyter_graphs</span>==<span class="hljs-number">1.7</span>.<span class="hljs-number">3</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>å‡†å¤‡æ•°æ®å¹¶ç»˜å›¾ï¼š</p>
<p><strong>å®ä½“æ•°æ®å¤„ç†å‡½æ•°</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">def <span class="hljs-built_in">convert_entities_to_dict</span>(df):
    nodes_dict = {}
    for _, row in df<span class="hljs-selector-class">.iterrows</span>():
        node_id = row[<span class="hljs-string">'title'</span>]  # ä½¿ç”¨titleä½œä¸ºèŠ‚ç‚¹å”¯ä¸€æ ‡è¯†
        if node_id not in nodes_dict:
            nodes_dict[node_id] = {
                "id": node_id,
                <span class="hljs-string">"properties"</span>: row.<span class="hljs-built_in">to_dict</span>(),
            }
    return <span class="hljs-built_in">list</span>(nodes_dict.values())
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><strong>åŠŸèƒ½</strong>ï¼šå°†Pandas DataFrameæ ¼å¼çš„å®ä½“è¡¨è½¬æ¢ä¸ºå›¾å¯è§†åŒ–æ‰€éœ€çš„èŠ‚ç‚¹åˆ—è¡¨æ ¼å¼</p>
<ul>
<li>è¾“å…¥ï¼š<code>entities.parquet</code>è¯»å–çš„DataFrame</li>
<li>è¾“å‡ºï¼šæ ¼å¼ä¸ºÂ <code>[{"id": "...", "properties": {...}}, ...]</code>Â çš„èŠ‚ç‚¹åˆ—è¡¨</li>
<li>å»é‡é€»è¾‘ï¼šåŸºäº<code>title</code>å­—æ®µé¿å…é‡å¤èŠ‚ç‚¹</li>
</ul>
<p><strong>å…³ç³»æ•°æ®å¤„ç†å‡½æ•°</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">convert_relationships_to_dicts</span>(<span class="hljs-params">df</span>):
    relationships = []
    <span class="hljs-keyword">for</span> _, row <span class="hljs-keyword">in</span> df.iterrows():
        relationships.append({
            <span class="hljs-string">"start"</span>: row[<span class="hljs-string">'source'</span>],      <span class="hljs-comment"># å…³ç³»çš„èµ·å§‹èŠ‚ç‚¹ï¼ˆtitleï¼‰</span>
            <span class="hljs-string">"end"</span>: row[<span class="hljs-string">'target'</span>],        <span class="hljs-comment"># å…³ç³»çš„ç›®æ ‡èŠ‚ç‚¹ï¼ˆtitleï¼‰</span>
            <span class="hljs-string">"properties"</span>: row.to_dict(), <span class="hljs-comment"># å…³ç³»çš„æ‰€æœ‰å±æ€§</span>
        })
    <span class="hljs-keyword">return</span> relationships
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><strong>åŠŸèƒ½</strong>ï¼šå°†å…³ç³»è¡¨è½¬æ¢ä¸ºå›¾çš„è¾¹åˆ—è¡¨æ ¼å¼</p>
<ul>
<li>æ¯ä¸€æ¡è¾¹åŒ…å«<code>start</code>ï¼ˆæºèŠ‚ç‚¹ï¼‰ã€<code>end</code>ï¼ˆç›®æ ‡èŠ‚ç‚¹ï¼‰å’Œå®Œæ•´å±æ€§</li>
</ul>
<p><strong>é¢œè‰²æ˜ å°„å‡½æ•°</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ç¤¾åŒºåˆ°é¢œè‰²çš„æ˜ å°„</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">community_to_color</span>(<span class="hljs-params">community</span>):
    <span class="hljs-string">"""Map a community to a color"""</span>
    colors = [
        <span class="hljs-string">"crimson"</span>,
        <span class="hljs-string">"darkorange"</span>,
        <span class="hljs-string">"indigo"</span>,
        <span class="hljs-string">"cornflowerblue"</span>,
        <span class="hljs-string">"cyan"</span>,
        <span class="hljs-string">"teal"</span>,
        <span class="hljs-string">"green"</span>,
    ]
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">return</span> colors[<span class="hljs-built_in">int</span>(community) % <span class="hljs-built_in">len</span>(colors)] <span class="hljs-keyword">if</span> community <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">else</span> <span class="hljs-string">"lightgray"</span>
    <span class="hljs-keyword">except</span> (ValueError,TypeError):
        <span class="hljs-comment"># å¦‚æœ community ä¸å°‘æ•´æ•°æˆ–å…¶ä»–é”™è¯¯ï¼Œè¿”å›é»˜è®¤é¢œè‰²</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">"lightgray"</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><strong>åŠŸèƒ½</strong>ï¼šä¸ºä¸åŒç¤¾åŒºåˆ†é…ä¸åŒé¢œè‰²ï¼Œä¾¿äºè§†è§‰åŒºåˆ†</p>
<ul>
<li>æ¯ä¸ªç¤¾åŒºIDå¯¹åº”ä¸€ä¸ªå›ºå®šé¢œè‰²ï¼ˆä½¿ç”¨å–æ¨¡è¿ç®—å¾ªç¯ä½¿ç”¨é¢œè‰²åˆ—è¡¨ï¼‰</li>
<li>æœªåˆ†é…ç¤¾åŒºæˆ–é”™è¯¯çš„ç¤¾åŒºIDä½¿ç”¨ç°è‰²<code>lightgray</code></li>
</ul>
<p><strong>è¾¹é¢œè‰²æ˜ å°„è¾…åŠ©å‡½æ•°</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">edge_to_source_community</span>(<span class="hljs-params">edge</span>):
    <span class="hljs-string">"""Get the community of the source node of an edge."""</span>
    source_node = <span class="hljs-built_in">next</span>(
        (entry <span class="hljs-keyword">for</span> entry <span class="hljs-keyword">in</span> w.nodes <span class="hljs-keyword">if</span> entry[<span class="hljs-string">"properties"</span>][<span class="hljs-string">"title"</span>] == edge[<span class="hljs-string">"start"</span>]),
        <span class="hljs-literal">None</span>,
    )
    source_node_community = source_node[<span class="hljs-string">"properties"</span>].get(<span class="hljs-string">"community"</span>)
    <span class="hljs-keyword">return</span> source_node_community <span class="hljs-keyword">if</span> source_node_community <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">else</span> <span class="hljs-literal">None</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><strong>ç»˜å›¾</strong></p>
<pre><code class="hljs language-ini" lang="ini">from yfiles_jupyter_graphs import GraphWidget
import pandas as pd

<span class="hljs-comment"># 1. å®šä¹‰æ•°æ®è½¬æ¢å‡½æ•°ï¼ˆå°†å®ä½“/å…³ç³»è¡¨è½¬ä¸ºå›¾æ•°æ®ç»“æ„ï¼Œç•¥å¦‚ä¸Šï¼‰</span>
<span class="hljs-comment"># 2. è¯»å–æ•°æ®</span>
<span class="hljs-attr">entities_df</span> = pd.read_parquet(<span class="hljs-string">'./openl/output/entities.parquet'</span>)
<span class="hljs-attr">relationships_df</span> = pd.read_parquet(<span class="hljs-string">'./openl/output/relationships.parquet'</span>)

<span class="hljs-comment"># 3. åˆ›å»ºå¹¶é…ç½®å›¾è°±æ§ä»¶</span>
<span class="hljs-attr">w</span> = GraphWidget()
<span class="hljs-attr">w.directed</span> = <span class="hljs-literal">True</span>  <span class="hljs-comment"># è®¾ç½®ä¸ºæœ‰å‘å›¾</span>
<span class="hljs-attr">w.nodes</span> = convert_entities_to_dicts(entities_df)  <span class="hljs-comment"># è‡ªå®šä¹‰è½¬æ¢å‡½æ•°</span>
<span class="hljs-attr">w.edges</span> = convert_relationships_to_dicts(relationships_df)  <span class="hljs-comment"># è‡ªå®šä¹‰è½¬æ¢å‡½æ•°</span>
<span class="hljs-attr">w.node_label_mapping</span> = <span class="hljs-string">"title"</span>

<span class="hljs-comment"># 4. åº”ç”¨å¸ƒå±€å¹¶æ˜¾ç¤º</span>
w.circular_layout()
display(w)
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>å›¾è°±å°†æ¸…æ™°å±•ç¤ºå®ä½“é—´çš„å…³è”ï¼Œä¾‹å¦‚â€œã€Šå¤§æ•°æ®æ—¶ä»£ã€‹â€ä¸â€œæ”¹å˜æˆ‘ä»¬ç”Ÿæ´»â€ç›¸è¿ï¼Œâ€œç»´å…‹æ‰˜â€å’Œâ€œè‚¯å°¼æ–¯â€ä½œä¸ºåˆè‘—è€…ç›¸äº’è¿æ¥ï¼Œä¸åŸæ–‡è¯­ä¹‰ä¸€è‡´ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/78c03200ae0943cf87e8c90f5d3c0859~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=V39DwvPkf5sPLX4K7%2Ba%2Fe1vhM3w%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹â€‹</p>
<h6 data-id="heading-62">ï¼ˆ2ï¼‰æŸ¥è¯¢é˜¶æ®µï¼šè¿›è¡Œé—®ç­”æ£€ç´¢</h6>
<p>ç´¢å¼•æ„å»ºå®Œæˆåï¼Œå³å¯è¿›å…¥æŸ¥è¯¢é˜¶æ®µï¼Œåˆ©ç”¨ç”Ÿæˆçš„çŸ¥è¯†å›¾è°±å’Œç¤¾åŒºæ‘˜è¦å›ç­”ç”¨æˆ·é—®é¢˜ã€‚</p>
<p>GraphRAG æ”¯æŒä¸¤ç§æ£€ç´¢ç­–ç•¥ï¼Œé€šè¿‡Â <code>--method</code>Â å‚æ•°æŒ‡å®šï¼š</p>
<ul>
<li><strong>æœ¬åœ°æŸ¥è¯¢ (<code>local</code>)</strong> ï¼šåœ¨æŸ¥è¯¢ç›¸å…³çš„å…·ä½“å®ä½“å’Œå…³ç³»ï¼ˆå³å›¾è°±çš„â€œå¶å­â€ç¤¾åŒºï¼‰ä¸­è¿›è¡Œæ·±åº¦æœç´¢ï¼Œé€‚åˆå…·ä½“ã€äº‹å®å‹é—®é¢˜ã€‚</li>
</ul>

<pre><code class="hljs language-erlang" lang="erlang">graphrag <span class="hljs-keyword">query</span> --root <span class="hljs-string">"D:\pycharm(code)\Agent\GraphRAG\openl"</span> --method local --<span class="hljs-keyword">query</span> <span class="hljs-string">"è¯·ä»‹ç»ã€Šå¤§æ•°æ®æ—¶ä»£ã€‹"</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/63ae6442e4524b7497af71ec7e49384b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=UX4LfMs1H1uuxyQ72oCo2m65YiY%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹ç¼–è¾‘â€‹â€‹</p>
<ul>
<li><strong>å…¨å±€æŸ¥è¯¢ (<code>global</code>)</strong> ï¼šç»¼åˆåˆ©ç”¨é«˜å±‚çº§çš„ç¤¾åŒºæ‘˜è¦è¿›è¡Œå¹¿åº¦æœç´¢ï¼Œé€‚åˆå®è§‚ã€ä¸»é¢˜å‹é—®é¢˜ã€‚</li>
</ul>

<pre><code class="hljs language-erlang" lang="erlang">graphrag <span class="hljs-keyword">query</span> --root <span class="hljs-string">"D:\pycharm(code)\Agent\GraphRAG\openl"</span> --method global --<span class="hljs-keyword">query</span> <span class="hljs-string">"è¯·ä»‹ç»ã€Šå¤§æ•°æ®æ—¶ä»£ã€‹"</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/31514f4c6e354cb08c5fea7a73a6a74d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=KNICoCrusYdIYXXowIlYmlYJK%2BU%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹â€‹</p>
<h5 data-id="heading-63">1.3.2python API è°ƒç”¨â€”â€”é«˜çº§å¼€å‘</h5>
<p>å¯¹äºéœ€è¦å°† GraphRAG é›†æˆåˆ°ç°æœ‰ç³»ç»Ÿæˆ–è¿›è¡Œæ·±åº¦å®šåˆ¶çš„å¼€å‘è€…ï¼ŒPython API æä¾›äº†å®Œæ•´çš„ç¼–ç¨‹æ§åˆ¶èƒ½åŠ›ã€‚æœ¬èŠ‚å°†è¯¦ç»†ä»‹ç»ä¸¤ç§æŸ¥è¯¢æ¨¡å¼çš„ API è°ƒç”¨æ–¹æ³•ï¼Œå¹¶è§£æå…¶å†…éƒ¨å·¥ä½œåŸç†ã€‚</p>
<h6 data-id="heading-64">ï¼ˆ1ï¼‰å…¨å±€æŸ¥è¯¢æ¨¡å¼ API è°ƒç”¨</h6>
<p>å…¨å±€æŸ¥è¯¢åˆ©ç”¨ç¤¾åŒºæ‘˜è¦è¿›è¡Œé«˜å±‚æ¬¡è¯­ä¹‰æ£€ç´¢ï¼Œé€‚åˆå›ç­”å®è§‚ã€ä¸»é¢˜å‹é—®é¢˜ã€‚</p>
<h6 data-id="heading-65">1.ç¯å¢ƒåˆå§‹åŒ–</h6>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">import</span> yaml
<span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path

<span class="hljs-comment"># --- å¿…é¡»ä¿®æ”¹ï¼šè¯·å¡«å…¥ä½ çœŸå®çš„ç¡…åŸºæµåŠ¨ API Key ---</span>
SILICON_FLOW_KEY = <span class="hljs-string">"sk-xxxx"</span>

<span class="hljs-comment"># æ³¨å…¥ç¯å¢ƒå˜é‡ï¼Œç¡®ä¿ GraphRAG åº•å±‚èƒ½è¯»åˆ°</span>
os.environ[<span class="hljs-string">"GRAPHRAG_API_KEY"</span>] = SILICON_FLOW_KEY
os.environ[<span class="hljs-string">"OPENAI_API_KEY"</span>] = SILICON_FLOW_KEY
os.environ[<span class="hljs-string">"OPENAI_API_BASE"</span>] = <span class="hljs-string">"https://api.siliconflow.cn/v1"</span>
os.environ[<span class="hljs-string">"OPENAI_BASE_URL"</span>] = <span class="hljs-string">"https://api.siliconflow.cn/v1"</span>

<span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… ç¯å¢ƒåˆå§‹åŒ–å®Œæˆ"</span>)
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>å…¶å®è¿™ä¸€æ­¥å›°æ‰°äº†æˆ‘ä¸€ä¼šå„¿ï¼ŒæŒ‰ç…§â€œå¾®è½¯GraphRAGä»£ç å®æˆ˜â€ä¾‹å­ä¸­æˆ‘å·²ç»åœ¨<code>settings.yamlä¸­</code>é…ç½®å¥½äº†ç¯å¢ƒï¼Œåœ¨.envæ–‡ä»¶ä¸­ä¹Ÿå†™å¥½äº†ç¡…åŸºæµåŠ¨çš„API Keyã€‚ä½†æ˜¯è¿è¡Œèµ·æ¥å°±æŠ¥é”™ï¼š401ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/46d5a97cf0104a66a45ffc8c491b7b51~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=zJOiMGBhNY0Hf4iwvEXTd2DfNXI%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹â€‹</p>
<p>è¿™ç§ <strong>â€œé…ç½®å¹½çµâ€</strong> ä¹‹å‰ä¹Ÿåˆé‡åˆ°è¿‡åˆæ­¥çŒœæµ‹åŸå› å¯èƒ½æ˜¯å˜é‡å ä½ç¬¦æœªè¢«â€œè§£æâ€ï¼Œæˆ‘æ˜¾å¼è¦†ç›–å°±æ²¡æœ‰é—®é¢˜ã€‚</p>
<h6 data-id="heading-66">2.å¯¼å…¥å¿…è¦ä¾èµ–åº“</h6>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> collections.abc <span class="hljs-keyword">import</span> AsyncGenerator
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Any</span>

<span class="hljs-keyword">from</span> graphrag.callbacks.noop_query_callbacks <span class="hljs-keyword">import</span> NoopQueryCallbacks
<span class="hljs-keyword">from</span> graphrag.callbacks.query_callbacks <span class="hljs-keyword">import</span> QueryCallbacks
<span class="hljs-keyword">from</span> graphrag.config.models.graph_rag_config <span class="hljs-keyword">import</span> GraphRagConfig
<span class="hljs-keyword">from</span> graphrag.query.factory <span class="hljs-keyword">import</span> get_global_search_engine
<span class="hljs-keyword">from</span> graphrag.query.indexer_adapters <span class="hljs-keyword">import</span> (
    read_indexer_communities,
    read_indexer_entities,
    read_indexer_reports,
)
<span class="hljs-keyword">from</span> graphrag.utils.api <span class="hljs-keyword">import</span> load_search_prompt
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h6 data-id="heading-67">3.æ ¸å¿ƒå‡½æ•°å®ç°</h6>
<p><strong>æµå¼æŸ¥è¯¢å‡½æ•°</strong></p>
<pre><code class="hljs language-ini" lang="ini">def global_search_streaming(
    config: GraphRagConfig,
    entities: pd.DataFrame,
    communities: pd.DataFrame,
    community_reports: pd.DataFrame,
    community_level: int | None,
    dynamic_community_selection: bool,
    response_type: str,
    query: str,
    callbacks: list<span class="hljs-section">[QueryCallbacks]</span> | <span class="hljs-attr">None</span> = None,
) -&gt; AsyncGenerator:
    
    <span class="hljs-attr">communities_</span> = read_indexer_communities(communities, community_reports)
    <span class="hljs-attr">reports</span> = read_indexer_reports(
        community_reports,
        communities,
        <span class="hljs-attr">community_level</span>=community_level,
        <span class="hljs-attr">dynamic_community_selection</span>=dynamic_community_selection,
    )
    <span class="hljs-attr">entities_</span> = read_indexer_entities(
        entities, communities, <span class="hljs-attr">community_level</span>=community_level
    )
    
    <span class="hljs-attr">map_prompt</span> = load_search_prompt(config.root_dir, config.global_search.map_prompt)
    <span class="hljs-attr">reduce_prompt</span> = load_search_prompt(config.root_dir, config.global_search.reduce_prompt)
    <span class="hljs-attr">knowledge_prompt</span> = load_search_prompt(config.root_dir, config.global_search.knowledge_prompt)

    <span class="hljs-attr">search_engine</span> = get_global_search_engine(
        config,
        <span class="hljs-attr">reports</span>=reports,
        <span class="hljs-attr">entities</span>=entities_,
        <span class="hljs-attr">communities</span>=communities_,
        <span class="hljs-attr">response_type</span>=response_type,
        <span class="hljs-attr">dynamic_community_selection</span>=dynamic_community_selection,
        <span class="hljs-attr">map_system_prompt</span>=map_prompt,
        <span class="hljs-attr">reduce_system_prompt</span>=reduce_prompt,
        <span class="hljs-attr">general_knowledge_inclusion_prompt</span>=knowledge_prompt,
        <span class="hljs-attr">callbacks</span>=callbacks,
    )
    return search_engine.stream_search(<span class="hljs-attr">query</span>=query)
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><strong>å®Œæ•´æŸ¥è¯¢å‡½æ•°ï¼ˆåˆå¹¶æµå¼ç»“æœï¼‰</strong></p>
<pre><code class="hljs language-ini" lang="ini">async def global_search(
    config: GraphRagConfig,
    entities: pd.DataFrame,
    communities: pd.DataFrame,
    community_reports: pd.DataFrame,
    community_level: int | None,
    dynamic_community_selection: bool,
    response_type: str,
    query: str,
    callbacks: list<span class="hljs-section">[QueryCallbacks]</span> | <span class="hljs-attr">None</span> = None,
) -&gt; tuple<span class="hljs-section">[str, dict]</span>:
    
    <span class="hljs-attr">callbacks</span> = callbacks or []
    <span class="hljs-attr">full_response</span> = <span class="hljs-string">""</span>
    <span class="hljs-attr">context_data</span> = {}

    def on_context(context: Any) -&gt; None:
        nonlocal context_data
        <span class="hljs-attr">context_data</span> = context

    <span class="hljs-attr">local_callbacks</span> = NoopQueryCallbacks()
    <span class="hljs-attr">local_callbacks.on_context</span> = <span class="hljs-literal">on</span>_context
    callbacks.append(local_callbacks)

    async for chunk in global_search_streaming(
        <span class="hljs-attr">config</span>=config,
        <span class="hljs-attr">entities</span>=entities,
        <span class="hljs-attr">communities</span>=communities,
        <span class="hljs-attr">community_reports</span>=community_reports,
        <span class="hljs-attr">community_level</span>=community_level,
        <span class="hljs-attr">dynamic_community_selection</span>=dynamic_community_selection,
        <span class="hljs-attr">response_type</span>=response_type,
        <span class="hljs-attr">query</span>=query,
        <span class="hljs-attr">callbacks</span>=callbacks,
    ):
        full_response += chunk
    return full_response, context_data
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h6 data-id="heading-68">4.é…ç½®ä¸æ•°æ®å‡†å¤‡</h6>
<pre><code class="hljs"/></pre>
<pre><code class="hljs language-python" lang="python">settings_yaml = <span class="hljs-string">r'D:\pycharm(code)\Agent\GraphRAG\openl\settings.yaml'</span>
root_dir = <span class="hljs-string">r'D:\pycharm(code)\Agent\GraphRAG\openl'</span>

<span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(settings_yaml, <span class="hljs-string">'r'</span>, encoding=<span class="hljs-string">'utf-8'</span>) <span class="hljs-keyword">as</span> f:
    config_dict = yaml.load(f, Loader=yaml.FullLoader)

<span class="hljs-comment"># å¦‚æœ YAML é‡Œæœ‰ ${GRAPHRAG_API_KEY}ï¼Œæ‰‹åŠ¨æ›¿æ¢ä¸ºçœŸå® Key</span>
<span class="hljs-comment"># é’ˆå¯¹models ç»“æ„è¿›è¡Œæ›¿æ¢</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">replace_key</span>(<span class="hljs-params">d</span>):
    <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> d.items():
        <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(v, <span class="hljs-built_in">dict</span>):
            replace_key(v)
        <span class="hljs-keyword">elif</span> <span class="hljs-built_in">isinstance</span>(v, <span class="hljs-built_in">str</span>) <span class="hljs-keyword">and</span> <span class="hljs-string">"${GRAPHRAG_API_KEY}"</span> <span class="hljs-keyword">in</span> v:
            d[k] = SILICON_FLOW_KEY

replace_key(config_dict)

<span class="hljs-comment"># è®¾ç½®æ ¹ç›®å½•å¹¶å®ä¾‹åŒ–é…ç½®å¯¹è±¡</span>
config_dict[<span class="hljs-string">'root_dir'</span>] = <span class="hljs-built_in">str</span>(Path(root_dir).resolve())
graphRagConfig = GraphRagConfig(**config_dict)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… é…ç½®æ–‡ä»¶è§£ææˆåŠŸï¼ŒAPI Key å·²æ³¨å…¥"</span>)
output_path = Path(root_dir) / <span class="hljs-string">"output"</span>

entities_df = pd.read_parquet(output_path / <span class="hljs-string">'entities.parquet'</span>)
communities_df = pd.read_parquet(output_path / <span class="hljs-string">'communities.parquet'</span>)
community_reports_df = pd.read_parquet(output_path / <span class="hljs-string">'community_reports.parquet'</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… æ•°æ®æ–‡ä»¶åŠ è½½å®Œæˆ"</span>)
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<pre><code class="hljs"/></pre>
<h6 data-id="heading-69">5.æ‰§è¡Œå…¨å±€æŸ¥è¯¢</h6>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">query_text</span> = <span class="hljs-string">"è¯·ä»‹ç»ã€Šå¤§æ•°æ®æ—¶ä»£ã€‹"</span>

<span class="hljs-comment"># åœ¨ Notebook ä¸­ç›´æ¥ä½¿ç”¨ await</span>
res, <span class="hljs-attr">context</span> = await global_search(
    <span class="hljs-attr">config</span>=graphRagConfig,
    <span class="hljs-attr">entities</span>=entities_df,
    <span class="hljs-attr">communities</span>=communities_df,
    <span class="hljs-attr">community_reports</span>=community_reports_df,
    <span class="hljs-attr">community_level</span>=<span class="hljs-number">2</span>,
    <span class="hljs-attr">dynamic_community_selection</span>=<span class="hljs-literal">False</span>,
    <span class="hljs-attr">response_type</span>=<span class="hljs-string">"Single Paragraph"</span>,
    <span class="hljs-attr">query</span>=query_text,
)

print("-" * 50)
print(f"æœç´¢é—®é¢˜: {query_text}")
print(f"å›ç­”å†…å®¹: {res}")
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/46c1cc908cb2441e9dad6c684ff8ffde~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=z2l2HQlbnAKIcinZqcORc1nYbS4%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹â€‹</p>
<h6 data-id="heading-70">ï¼ˆ2ï¼‰æœ¬åœ°æŸ¥è¯¢æ¨¡å¼APIè°ƒç”¨</h6>
<h6 data-id="heading-71"><strong>1. ç¯å¢ƒåˆå§‹åŒ–</strong></h6>
<p>æœ¬åœ°æŸ¥è¯¢çš„å®ç°æµç¨‹ä¸å…¨å±€æŸ¥è¯¢ç±»ä¼¼ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">import</span> yaml
<span class="hljs-keyword">import</span> warnings
<span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path

<span class="hljs-comment"># --- å¿…é¡»ä¿®æ”¹ï¼šè¯·å¡«å…¥ä½ çœŸå®çš„ç¡…åŸºæµåŠ¨ API Key ---</span>
SILICON_FLOW_KEY = <span class="hljs-string">"sk-XXXX"</span>

<span class="hljs-comment"># æ³¨å…¥ç¯å¢ƒå˜é‡</span>
os.environ[<span class="hljs-string">"GRAPHRAG_API_KEY"</span>] = SILICON_FLOW_KEY
os.environ[<span class="hljs-string">"OPENAI_API_KEY"</span>] = SILICON_FLOW_KEY
os.environ[<span class="hljs-string">"OPENAI_API_BASE"</span>] = <span class="hljs-string">"https://api.siliconflow.cn/v1"</span>
os.environ[<span class="hljs-string">"OPENAI_BASE_URL"</span>] = <span class="hljs-string">"https://api.siliconflow.cn/v1"</span>



<span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… ç¯å¢ƒåˆå§‹åŒ–å®Œæˆ"</span>)
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h6 data-id="heading-72">2.ä¾èµ–å¯¼å…¥</h6>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> collections.abc <span class="hljs-keyword">import</span> AsyncGenerator
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Any</span>

<span class="hljs-keyword">from</span> graphrag.callbacks.noop_query_callbacks <span class="hljs-keyword">import</span> NoopQueryCallbacks
<span class="hljs-keyword">from</span> graphrag.callbacks.query_callbacks <span class="hljs-keyword">import</span> QueryCallbacks
<span class="hljs-keyword">from</span> graphrag.config.embeddings <span class="hljs-keyword">import</span> entity_description_embedding
<span class="hljs-keyword">from</span> graphrag.config.models.graph_rag_config <span class="hljs-keyword">import</span> GraphRagConfig
<span class="hljs-keyword">from</span> graphrag.query.factory <span class="hljs-keyword">import</span> get_local_search_engine
<span class="hljs-keyword">from</span> graphrag.query.indexer_adapters <span class="hljs-keyword">import</span> (
    read_indexer_covariates,
    read_indexer_entities,
    read_indexer_relationships,
    read_indexer_reports,
    read_indexer_text_units,
)
<span class="hljs-keyword">from</span> graphrag.utils.api <span class="hljs-keyword">import</span> (
    get_embedding_store,
    load_search_prompt,
)
<span class="hljs-keyword">from</span> graphrag.utils.cli <span class="hljs-keyword">import</span> redact
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h6 data-id="heading-73"><strong>3.æ ¸å¿ƒå‡½æ•°å®ç°</strong></h6>
<p><strong>æœ¬åœ°æµå¼æŸ¥è¯¢å‡½æ•°</strong></p>
<p>ä¸å…¨å±€æŸ¥è¯¢ä¸åŒï¼Œæœ¬åœ°æŸ¥è¯¢ä¸ç›´æ¥åŠ è½½ç¤¾åŒºè¡¨ä¸ç¤¾åŒºæŠ¥å‘Šè¡¨ï¼Œè€Œæ˜¯ç›´æ¥åŸºäºæ–‡æœ¬å‘é‡åº“å’Œå®ä½“è¡¨è¿›è¡Œæ£€ç´¢ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">def local_search_streaming(
    config: GraphRagConfig,
    entities: pd.DataFrame,
    communities: pd.DataFrame,
    community_reports: pd.DataFrame,
    text_units: pd.DataFrame,
    relationships: pd.DataFrame,
    covariates: pd.DataFrame | None,
    community_level: int,
    response_type: str,
    query: str,
    callbacks: list<span class="hljs-section">[QueryCallbacks]</span> | <span class="hljs-attr">None</span> = None,
) -&gt; AsyncGenerator:
    """æ‰§è¡Œæœ¬åœ°æœç´¢å¹¶é€šè¿‡ç”Ÿæˆå™¨è¿”å›ä¸Šä¸‹æ–‡å’Œå“åº”ã€‚"""
    
    <span class="hljs-comment"># åˆå§‹åŒ–å‘é‡å­˜å‚¨å‚æ•°</span>
    <span class="hljs-attr">vector_store_args</span> = {}
    for index, store in config.vector_store.items():
        vector_store_args<span class="hljs-section">[index]</span> = store.model_dump()
    
    <span class="hljs-comment"># è·å–å®ä½“æè¿°çš„å‘é‡åº“å­˜å‚¨</span>
    <span class="hljs-attr">description_embedding_store</span> = get_embedding_store(
        <span class="hljs-attr">config_args</span>=vector_store_args,
        <span class="hljs-attr">embedding_name</span>=entity_description_embedding,
    )

    <span class="hljs-comment"># è¯»å–ç´¢å¼•æ•°æ®é€‚é…å™¨</span>
    <span class="hljs-attr">entities_</span> = read_indexer_entities(entities, communities, community_level)
    <span class="hljs-attr">covariates_</span> = read_indexer_covariates(covariates) if covariates is not None else []
    <span class="hljs-attr">prompt</span> = load_search_prompt(config.root_dir, config.local_search.prompt)

    <span class="hljs-comment"># æ„å»ºæœ¬åœ°æœç´¢å¼•æ“</span>
    <span class="hljs-attr">search_engine</span> = get_local_search_engine(
        <span class="hljs-attr">config</span>=config,
        <span class="hljs-attr">reports</span>=read_indexer_reports(community_reports, communities, community_level),
        <span class="hljs-attr">text_units</span>=read_indexer_text_units(text_units),
        <span class="hljs-attr">entities</span>=entities_,
        <span class="hljs-attr">relationships</span>=read_indexer_relationships(relationships),
        <span class="hljs-attr">covariates</span>={<span class="hljs-string">"claims"</span>: covariates_},
        <span class="hljs-attr">description_embedding_store</span>=description_embedding_store,
        <span class="hljs-attr">response_type</span>=response_type,
        <span class="hljs-attr">system_prompt</span>=prompt,
        <span class="hljs-attr">callbacks</span>=callbacks,
    )
    return search_engine.stream_search(<span class="hljs-attr">query</span>=query)
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><strong>æœ¬åœ°æŸ¥è¯¢åŒæ­¥å°è£…å‡½æ•°</strong></p>
<pre><code class="hljs language-ini" lang="ini">async def local_search(
    config: GraphRagConfig,
    entities: pd.DataFrame,
    communities: pd.DataFrame,
    community_reports: pd.DataFrame,
    text_units: pd.DataFrame,
    relationships: pd.DataFrame,
    community_level: int,
    response_type: str,
    query: str,
    covariates: pd.DataFrame | <span class="hljs-attr">None</span> = None,
    callbacks: list<span class="hljs-section">[QueryCallbacks]</span> | <span class="hljs-attr">None</span> = None,
) -&gt; tuple<span class="hljs-section">[str, dict]</span>:
    
    <span class="hljs-attr">callbacks</span> = callbacks or []
    <span class="hljs-attr">full_response</span> = <span class="hljs-string">""</span>
    <span class="hljs-attr">context_data</span> = {}

    def on_context(context: Any) -&gt; None:
        nonlocal context_data
        <span class="hljs-attr">context_data</span> = context

    <span class="hljs-attr">local_callbacks</span> = NoopQueryCallbacks()
    <span class="hljs-attr">local_callbacks.on_context</span> = <span class="hljs-literal">on</span>_context
    callbacks.append(local_callbacks)

    async for chunk in local_search_streaming(
        <span class="hljs-attr">config</span>=config,
        <span class="hljs-attr">entities</span>=entities,
        <span class="hljs-attr">communities</span>=communities,
        <span class="hljs-attr">community_reports</span>=community_reports,
        <span class="hljs-attr">text_units</span>=text_units,
        <span class="hljs-attr">relationships</span>=relationships,
        <span class="hljs-attr">covariates</span>=covariates,
        <span class="hljs-attr">community_level</span>=community_level,
        <span class="hljs-attr">response_type</span>=response_type,
        <span class="hljs-attr">query</span>=query,
        <span class="hljs-attr">callbacks</span>=callbacks,
    ):
        full_response += chunk
    return full_response, context_data
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h6 data-id="heading-74">4.é…ç½®ä¸æ•°æ®å‡†å¤‡</h6>
<pre><code class="hljs"/></pre>
<pre><code class="hljs language-python" lang="python">settings_yaml = <span class="hljs-string">r'D:\pycharm(code)\Agent\GraphRAG\openl\settings.yaml'</span>
root_dir = <span class="hljs-string">r'D:\pycharm(code)\Agent\GraphRAG\openl'</span>

<span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(settings_yaml, <span class="hljs-string">'r'</span>, encoding=<span class="hljs-string">'utf-8'</span>) <span class="hljs-keyword">as</span> f:
    config_dict = yaml.load(f, Loader=yaml.FullLoader)

<span class="hljs-comment"># é€’å½’æ›¿æ¢ ${GRAPHRAG_API_KEY} å ä½ç¬¦</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">replace_key_recursively</span>(<span class="hljs-params">d</span>):
    <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> d.items():
        <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(v, <span class="hljs-built_in">dict</span>):
            replace_key_recursively(v)
        <span class="hljs-keyword">elif</span> <span class="hljs-built_in">isinstance</span>(v, <span class="hljs-built_in">str</span>) <span class="hljs-keyword">and</span> <span class="hljs-string">"${GRAPHRAG_API_KEY}"</span> <span class="hljs-keyword">in</span> v:
            d[k] = SILICON_FLOW_KEY

replace_key_recursively(config_dict)

<span class="hljs-comment"># è®¾ç½®æ ¹ç›®å½•å¹¶åˆ›å»ºé…ç½®å¯¹è±¡</span>
config_dict[<span class="hljs-string">'root_dir'</span>] = <span class="hljs-built_in">str</span>(Path(root_dir).resolve())
graphRagConfig = GraphRagConfig(**config_dict)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… é…ç½®æ–‡ä»¶è§£æå¹¶æ³¨å…¥ Key æˆåŠŸ"</span>)
output_path = Path(root_dir) / <span class="hljs-string">"output"</span>

entities_df = pd.read_parquet(output_path / <span class="hljs-string">'entities.parquet'</span>)
communities_df = pd.read_parquet(output_path / <span class="hljs-string">'communities.parquet'</span>)
community_reports_df = pd.read_parquet(output_path / <span class="hljs-string">'community_reports.parquet'</span>)
text_unit_df = pd.read_parquet(output_path / <span class="hljs-string">'text_units.parquet'</span>)
relationships_df = pd.read_parquet(output_path / <span class="hljs-string">'relationships.parquet'</span>)
<span class="hljs-comment"># covariates é€šå¸¸å¯é€‰ï¼Œå¦‚æœå­˜åœ¨åˆ™è¯»å–</span>
covariates_file = output_path / <span class="hljs-string">'covariates.parquet'</span>
covariates_df = pd.read_parquet(covariates_file) <span class="hljs-keyword">if</span> covariates_file.exists() <span class="hljs-keyword">else</span> <span class="hljs-literal">None</span>

<span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… æœ¬åœ°æœç´¢æ‰€éœ€ Parquet æ•°æ®åŠ è½½å®Œæˆ"</span>)
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<pre><code class="hljs"/></pre>
<h6 data-id="heading-75">5.æ‰§è¡Œæœ¬åœ°æŸ¥è¯¢</h6>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">query_text</span> = <span class="hljs-string">"è¯·ä»‹ç»ã€Šå¤§æ•°æ®æ—¶ä»£ã€‹"</span>

res, <span class="hljs-attr">context</span> = await local_search(
    <span class="hljs-attr">config</span>=graphRagConfig,
    <span class="hljs-attr">entities</span>=entities_df,
    <span class="hljs-attr">communities</span>=communities_df,
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">query_text</span> = <span class="hljs-string">"è¯·ä»‹ç»ã€Šå¤§æ•°æ®æ—¶ä»£ã€‹"</span>

res, <span class="hljs-attr">context</span> = await local_search(
    <span class="hljs-attr">config</span>=graphRagConfig,
    <span class="hljs-attr">entities</span>=entities_df,
    <span class="hljs-attr">communities</span>=communities_df,
    <span class="hljs-attr">community_reports</span>=community_reports_df,
    <span class="hljs-attr">text_units</span>=text_unit_df,
    <span class="hljs-attr">relationships</span>=relationships_df,
    <span class="hljs-attr">covariates</span>=covariates_df,
    <span class="hljs-attr">community_level</span>=<span class="hljs-number">2</span>,
    <span class="hljs-attr">response_type</span>=<span class="hljs-string">"Single Paragraph"</span>,
    <span class="hljs-attr">query</span>=query_text,
)

print("-" * 50)
print(f"æœ¬åœ°æŸ¥è¯¢é—®é¢˜: {query_text}")
print(f"å›ç­”å†…å®¹: {res}")
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<pre><code class="hljs language-ini" lang="ini">
    <span class="hljs-attr">community_reports</span>=community_reports_df,
    <span class="hljs-attr">text_units</span>=text_unit_df,
    <span class="hljs-attr">relationships</span>=relationships_df,
    <span class="hljs-attr">covariates</span>=covariates_df,
    <span class="hljs-attr">community_level</span>=<span class="hljs-number">2</span>,
    <span class="hljs-attr">response_type</span>=<span class="hljs-string">"Single Paragraph"</span>,
    <span class="hljs-attr">query</span>=query_text,
)

print("-" * 50)
print(f"æœ¬åœ°æŸ¥è¯¢é—®é¢˜: {query_text}")
print(f"å›ç­”å†…å®¹: {res}")
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d56acdb6cfe348ae8df266b364585c9e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=%2F1gvEChK2TjwLeb10T4OO3uChZ8%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹â€‹</p>
<h3 data-id="heading-76">2.<strong>GraphRAGå¤§è§„æ¨¡æ•°æ®å®æˆ˜ï¼šä»¥ã€Šå‡¡äººä¿®ä»™ä¼ ã€‹ä¸ºä¾‹</strong></h3>
<p>è¿™ä¸ªæ¡ˆä¾‹æœ‰äº›å¤¹å¸¦ç§è´§ï¼Œæœ€è¿‘çœ‹çš„å›½æ¼«ã€Šå‡¡äººä¿®ä»™ä¼ ã€‹æ–­æ›´äº†ã€‚</p>
<h4 data-id="heading-77"><strong>2.1ç¯å¢ƒå‡†å¤‡</strong></h4>
<h5 data-id="heading-78"><strong>ï¼ˆ1ï¼‰æ•°æ®å‡†å¤‡</strong></h5>
<p>æœ¬æ¬¡å®æˆ˜é¡¹ç›®ä½¿ç”¨çš„æ˜¯ç½‘ç»œå°è¯´Â <strong>ã€Šå‡¡äººä¿®ä»™ä¼ ã€‹çš„å‰37ç« å…¬å¼€å†…å®¹</strong>ï¼Œæ–‡æ¡£æ€»è§„æ¨¡çº¦81444ä¸ªå­—ç¬¦ã€‚è¯¥æ•°æ®é›†æƒ…èŠ‚è¿è´¯ã€äººç‰©ä¸åœ°ç‚¹ä¼—å¤šï¼Œéå¸¸é€‚åˆç”¨äºæµ‹è¯•GraphRAGåœ¨æ„å»ºå™äº‹æ€§æ–‡æœ¬çŸ¥è¯†å›¾è°±æ—¶çš„è¡¨ç°ï¼ˆä¹Ÿå¯ä»¥æ–¹ä¾¿æˆ‘ä»¬é‡æ¸©<strong>éŸ©è€é­”</strong>çš„æ¥æ—¶è·¯ï¼‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ee94bcd48be44ecf85a7171c40230e1d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=hmzOJgfwLMcW%2FgRoMq%2F8WabDQOI%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹â€‹</p>
<p>å¯èƒ½ä¼šæœ‰äººé—®ä¸ºä»€ä¹ˆä¸æ”¾å®Œæ•´çš„ã€Šå‡¡äººä¿®ä»™ä¼ ã€‹ï¼Œå› ä¸ºä½œè€…å¿˜è¯­å®åœ¨å¤ªä¼šå†™äº†ï¼Œå®Œæ•´ç‰ˆæœ¬æœ‰å…«ç™¾å¤šä¸‡å­—ï¼Œæˆ‘æ„Ÿè§‰å¤ªå¤šäº†å¹¶ä¸”GraphRAGä¹Ÿæœ‰æ£€ç´¢ç¼“æ…¢ç­‰ç¼ºç‚¹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a6c1801d03504fbfad18a8af280393db~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=YWiWINmQMEQcM4fwHlqTzzBiKHg%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹â€‹</p>
<h5 data-id="heading-79"><strong>ï¼ˆ2ï¼‰åˆ›å»ºæ£€ç´¢æ–‡ä»¶å¤¹</strong></h5>
<p>åœ¨å‘½ä»¤è¡Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤åˆ›å»ºé¡¹ç›®æ–‡ä»¶å¤¹:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span> -p ./openl_big/input
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>å°†å‡†å¤‡å¥½çš„Â <strong>ã€Šå‡¡äººä¿®ä»™ä¼ ã€‹å‰37ç« </strong>Â æ–‡æ¡£ï¼ˆå¯æ•´ç†ä¸ºå•ä¸ªtxtæˆ–pdfæ–‡ä»¶ï¼‰ä¸Šä¼ åˆ°Â <code>openl_big/input</code>Â æ–‡ä»¶å¤¹ä¸­ã€‚</p>
<blockquote>
<p><strong>ç‰¹åˆ«æ³¨æ„</strong>ï¼šè™½ç„¶æœ¬ä¾‹ä½¿ç”¨å•ä¸€æ–‡æ¡£ï¼Œä½†GraphRAGæœ¬èº«æ”¯æŒå¤šæ–‡æ¡£ã€‚æ‚¨å¯ä»¥å°†å¤šä¸ªç« èŠ‚æ‹†åˆ†ä¸ºç‹¬ç«‹æ–‡ä»¶æ”¾å…¥inputæ–‡ä»¶å¤¹ï¼Œä¹Ÿå¯åˆå¹¶ä¸ºä¸€ä¸ªæ–‡ä»¶ä¸Šä¼ ï¼Œç³»ç»Ÿå‡èƒ½è‡ªåŠ¨å¤„ç†ã€‚</p>
</blockquote>
<h5 data-id="heading-80">ï¼ˆ3ï¼‰åˆå§‹åŒ–é¡¹ç›®æ–‡ä»¶</h5>
<pre><code class="hljs language-bash" lang="bash">graphrag init --root ./openl_big
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>åˆå§‹åŒ–å®Œæˆåï¼Œ<code>openl_big</code>Â æ–‡ä»¶å¤¹ä¸‹ä¼šç”Ÿæˆä¸‰ä¸ªå…³é”®æ–‡ä»¶/æ–‡ä»¶å¤¹ï¼š</p>
<ul>
<li><strong>prompts/</strong> ï¼šåŒ…å«çŸ¥è¯†å›¾è°±å„æ„å»ºé˜¶æ®µçš„æç¤ºè¯ï¼Œå¯ç”¨äºåç»­ä»»åŠ¡è°ƒä¼˜ã€‚</li>
<li><strong>.env</strong>ï¼šç”¨äºå­˜å‚¨API Keyç­‰ç¯å¢ƒå˜é‡ã€‚</li>
<li><strong>settings.yaml</strong>ï¼šGraphRAGçš„ä¸»è¦é…ç½®æ–‡ä»¶ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/329dd2c0628b4c2093a51070a9d316a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=39FGHg%2FCQqUYP4Nmdvs8iAMNhTY%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹â€‹</p>
<h5 data-id="heading-81"><strong>ï¼ˆ4ï¼‰ä¿®æ”¹é…ç½®æ–‡ä»¶</strong></h5>
<p>æœ¬ä¾‹ä¾æ—§é‡‡ç”¨Â <strong>ç¡…åŸºæµåŠ¨</strong>Â æä¾›çš„å›½å†…å¯ç”¨æ¨¡å‹æœåŠ¡ã€‚ä¿®æ”¹Â <code>settings.yaml</code>Â ä¸­çš„Â <code>models</code>Â éƒ¨åˆ†å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">models:</span>
  <span class="hljs-attr">default_chat_model:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">chat</span>
    <span class="hljs-attr">model_provider:</span> <span class="hljs-string">openai</span> <span class="hljs-comment"># ç¡…åŸºæµåŠ¨å…¼å®¹OpenAI API</span>
    <span class="hljs-attr">auth_type:</span> <span class="hljs-string">api_key</span>
    <span class="hljs-attr">api_key:</span> <span class="hljs-string">${GRAPHRAG_API_KEY}</span> <span class="hljs-comment"># è®¾ç½®ä¸ºç¡…åŸºæµåŠ¨çš„API Key</span>
    <span class="hljs-attr">model:</span> <span class="hljs-string">Qwen/Qwen3-8B</span>
    <span class="hljs-attr">api_base:</span> <span class="hljs-string">https://api.siliconflow.cn/v1</span> <span class="hljs-comment"># æ·»åŠ ç¡…åŸºæµåŠ¨çš„APIç«¯ç‚¹</span>
    <span class="hljs-comment"># api_version: 2024-05-01-preview</span>
    <span class="hljs-attr">model_supports_json:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># recommended if this is available for your model.</span>
    <span class="hljs-attr">concurrent_requests:</span> <span class="hljs-number">25</span>
    <span class="hljs-attr">async_mode:</span> <span class="hljs-string">threaded</span> <span class="hljs-comment"># or asyncio</span>
    <span class="hljs-attr">retry_strategy:</span> <span class="hljs-string">exponential_backoff</span>
    <span class="hljs-attr">max_retries:</span> <span class="hljs-number">10</span>
    <span class="hljs-attr">tokens_per_minute:</span> <span class="hljs-literal">null</span>
    <span class="hljs-attr">requests_per_minute:</span> <span class="hljs-literal">null</span>
  <span class="hljs-attr">default_embedding_model:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">embedding</span>
    <span class="hljs-attr">model_provider:</span> <span class="hljs-string">openai</span>
    <span class="hljs-attr">auth_type:</span> <span class="hljs-string">api_key</span>
    <span class="hljs-attr">api_key:</span> <span class="hljs-string">${GRAPHRAG_API_KEY}</span>
    <span class="hljs-attr">model:</span> <span class="hljs-string">BAAI/bge-m3</span>  <span class="hljs-comment"># ä¿®æ”¹ä¸ºBAAI/bge-m3</span>
    <span class="hljs-attr">api_base:</span> <span class="hljs-string">https://api.siliconflow.cn/v1</span>  <span class="hljs-comment"># æ·»åŠ ç¡…åŸºæµåŠ¨çš„APIç«¯ç‚¹</span>
    <span class="hljs-comment"># api_version: 2024-05-01-preview</span>
    <span class="hljs-attr">concurrent_requests:</span> <span class="hljs-number">25</span>
    <span class="hljs-attr">async_mode:</span> <span class="hljs-string">threaded</span> <span class="hljs-comment"># or asyncio</span>
    <span class="hljs-attr">retry_strategy:</span> <span class="hljs-string">exponential_backoff</span>
    <span class="hljs-attr">max_retries:</span> <span class="hljs-number">10</span>
    <span class="hljs-attr">tokens_per_minute:</span> <span class="hljs-literal">null</span>
    <span class="hljs-attr">requests_per_minute:</span> <span class="hljs-literal">null</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h4 data-id="heading-82">2.2<strong>çŸ¥è¯†å›¾è°±æ„å»º</strong></h4>
<h5 data-id="heading-83"><strong>ï¼ˆ1ï¼‰æ‰§è¡Œå›¾è°±æ„å»º</strong></h5>
<p>å‘½ä»¤è¡Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤å¼€å§‹æ„å»ºçŸ¥è¯†å›¾è°±ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">graphrag index --root ./openl_big
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>GraphRAGå°†è‡ªåŠ¨æ‰§è¡Œæ–‡æœ¬åˆ†å—ã€å®ä½“ä¸å…³ç³»æå–ã€ç¤¾åŒºå‘ç°ç­‰å»ºè¡¨æµç¨‹ã€‚</p>
<p><strong>æ€§èƒ½å‚è€ƒ</strong>ï¼ˆé’ˆå¯¹æœ¬æ•°æ®é›†ï¼‰ï¼š</p>
<ul>
<li>æ¨¡å‹ï¼šç¡…åŸºæµåŠ¨ Qwen3-8B</li>
<li>è¿è¡Œæ—¶é—´ï¼šçº¦1.5h-2h</li>
</ul>
<h5 data-id="heading-84">ï¼ˆ2ï¼‰<strong>æŸ¥çœ‹ç”Ÿæˆçš„çŸ¥è¯†å›¾è°±è¡¨</strong></h5>
<p>æ„å»ºå®Œæˆåï¼Œæ‰€æœ‰æ•°æ®è¡¨å°†ä¿å­˜åœ¨Â <code>openl_big/output</code>Â æ–‡ä»¶å¤¹ä¸­ã€‚æ‚¨å¯ä½¿ç”¨pandasè¯»å–å¹¶åˆ†æï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">import pandas as pd
<span class="hljs-attr">entities</span> = pd.read_parquet(<span class="hljs-string">"D:\pycharm(code)\Agent\GraphRAG\openl_big\output\entities.parquet"</span>)
entities
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/367a39c25ae541c7bae9a65efe168342~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=wrMr7oooiFdlesINwX%2BYk0k1jtw%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹</p>
<ul>
<li><strong>å®ä½“è¡¨</strong>ï¼šåŒ…å«å¦‚â€œéŸ©ç«‹â€â€œå¢¨å¤§å¤«â€â€œä¸ƒç„é—¨â€ç­‰äººç‰©ã€åœ°ç‚¹ã€åŠŸæ³•å®ä½“ã€‚</li>
</ul>

<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">relationships</span> = pd.read_parquet(<span class="hljs-string">"D:\pycharm(code)\Agent\GraphRAG\openl_big\output\relationships.parquet"</span>)
relationships
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/858140825a7c4f0ba2e24a52f4b36897~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=eHeFM5GuXKNPN9a4woxeUeLeIME%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹</p>
<ul>
<li><strong>å…³ç³»è¡¨</strong>ï¼šè®°å½•å®ä½“é—´å…³ç³»ï¼Œå¦‚â€œå¸ˆå¾’â€â€œæ‰€å±é—¨æ´¾â€â€œä½¿ç”¨åŠŸæ³•â€ç­‰ã€‚</li>
</ul>

<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">reports</span> = pd.read_parquet(<span class="hljs-string">"D:\pycharm(code)\Agent\GraphRAG\openl_big\output\community_reports.parquet"</span>)
reports
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/df049944c917498e9cead0b37ee98191~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=EQZnq55F%2BIT3GJKJmTQFI0zEgDo%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹</p>
<ul>
<li><strong>æŠ¥å‘Šè¡¨</strong>ï¼šå­˜å‚¨ç¤¾åŒºçº§æ‘˜è¦ï¼Œåæ˜ æ•…äº‹ä¸­çš„æƒ…èŠ‚èšç±»ã€‚</li>
</ul>
<h4 data-id="heading-85">2.3<strong>æ£€ç´¢æŸ¥è¯¢å®æˆ˜</strong></h4>
<h5 data-id="heading-86"><strong>ï¼ˆ1ï¼‰</strong> <strong>GraphRAGä¸‰ç§æŸ¥è¯¢æ¨¡å¼</strong></h5>
<ul>
<li><strong>Localï¼ˆæœ¬åœ°æ¨¡å¼ï¼‰</strong> ï¼šä»é—®é¢˜ä¸­æŠ½å–å®ä½“ï¼Œåœ¨å®ä½“è¡¨ä¸­åŒ¹é…å¹¶æ‰©å±•å…³è”å®ä½“ä¸æ–‡æœ¬å—ï¼ŒåŸºäºè¿™äº›å±€éƒ¨ä¿¡æ¯ç”Ÿæˆç­”æ¡ˆã€‚</li>
<li><strong>Globalï¼ˆå…¨å±€æ¨¡å¼ï¼‰</strong> ï¼šå°†é—®é¢˜ä¸ç¤¾åŒºæŠ¥å‘ŠåŒ¹é…ï¼Œæ‰¾åˆ°ç›¸å…³ç¤¾åŒºåè¿›è¡ŒæŠ¥å‘Šæçº¯ä¸æ€»ç»“ï¼Œå†ç»“åˆå…³è”æ–‡æœ¬å—å›ç­”ã€‚æ­¤æ¨¡å¼è°ƒç”¨ä¸¤æ¬¡LLMï¼Œç­”æ¡ˆæ›´å…¨é¢ï¼Œtokenæ¶ˆè€—è¾ƒå¤šã€‚</li>
<li><strong>Driftï¼ˆæ‰©æ•£æ¨¡å¼ï¼‰</strong> ï¼šåœ¨å®ä½“åŒ¹é…åŸºç¡€ä¸Šï¼Œè¿›ä¸€æ­¥æ‰©æ•£åˆ°å±‚çº§å…³è”çš„å®ä½“ï¼Œé€‚åˆæ¢ç´¢å¤šè·³å…³ç³»ã€‚</li>
</ul>
<h5 data-id="heading-87">ï¼ˆ2ï¼‰<strong>å…¨å±€æ¨¡å¼ vs. æœ¬åœ°æ¨¡å¼ï¼šé€‚ç”¨åœºæ™¯åˆ†æ</strong></h5>









































<table><thead><tr><th>åœºæ™¯</th><th>æœ¬åœ°æ¨¡å¼</th><th>å…¨å±€æ¨¡å¼</th><th>ä¸¾ä¾‹ï¼ˆåŸºäºã€Šå‡¡äººä¿®ä»™ä¼ ã€‹ï¼‰</th></tr></thead><tbody><tr><td><strong>å…·ä½“äº‹å®æŸ¥è¯¢</strong></td><td>âœ… é€‚åˆ</td><td>âœ… é€‚åˆ</td><td>â€œéŸ©ç«‹æ˜¯å¦‚ä½•åŠ å…¥ä¸ƒç„é—¨çš„ï¼Ÿâ€</td></tr><tr><td><strong>æ€»ç»“ç±»é—®é¢˜</strong></td><td>âŒ ä¸é€‚åˆ</td><td>âœ… é€‚åˆ</td><td>â€œå‰37ç« ä¸»è¦å‡ºç°äº†å“ªäº›ä¿®çœŸå¢ƒç•Œï¼Ÿâ€</td></tr><tr><td><strong>ç»¼åˆè¯„ä»·ç±»</strong></td><td>âŒ ä¸é€‚åˆ</td><td>âœ… é€‚åˆ</td><td>â€œä½ è®¤ä¸ºéŸ©ç«‹ä¿®ç‚¼çš„â€˜é•¿æ˜¥åŠŸâ€™æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿâ€</td></tr><tr><td><strong>ä¸»è§‚/æ³›åŒ–æé—®</strong></td><td>âŒ ä¸é€‚åˆ</td><td>âœ… é€‚åˆ</td><td>â€œè¿™æ®µæ•…äº‹ä¸­å“ªä¸ªè§’è‰²çš„å¡‘é€ æœ€ç²¾å½©ï¼Ÿâ€</td></tr><tr><td><strong>å¤šæƒ…èŠ‚å…³è”æ¨ç†</strong></td><td>âš ï¸ æœ‰é™</td><td>âœ… æ›´é€‚åˆ</td><td>â€œéŸ©ç«‹ä¸å¢¨å¤§å¤«çš„å†²çªå¦‚ä½•å½±å“ä»–åç»­çš„ä¿®è¡Œï¼Ÿâ€</td></tr></tbody></table>
<p><strong>å®æµ‹å¯¹æ¯”</strong>ï¼š</p>
<p><strong>1.æ€»ç»“ç±»é—®é¢˜</strong></p>
<pre><code class="hljs language-css" lang="css">graphrag query <span class="hljs-attr">--root</span> openl_big <span class="hljs-attr">--method</span> local <span class="hljs-attr">--query</span> "å‰<span class="hljs-number">37</span>ç« é‡Œæåˆ°è¿‡å“ªäº›ä¸»è¦ä¿®çœŸé—¨æ´¾ï¼Ÿ"
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><em>æœ¬åœ°æ¨¡å¼æ— æ³•å›ç­”ï¼Œå› ä¸ºé—®é¢˜ä¸­å®ä½“ä¸æ˜ç¡®ã€‚</em></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cbfde7afceea4ca99bd8f57ac0faebbd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=FjSdb4NUJ9xWWdSmnKmQxgpJDJ0%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹</p>
<pre><code class="hljs language-css" lang="css">graphrag query <span class="hljs-attr">--root</span> openl_big <span class="hljs-attr">--method</span> global <span class="hljs-attr">--query</span> "å‰<span class="hljs-number">37</span>ç« é‡Œæåˆ°è¿‡å“ªäº›ä¸»è¦ä¿®çœŸé—¨æ´¾ï¼Ÿ"
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b59cddba7a124b26a9fedfab27d200d7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=QXxKF%2F5887iM1YITqvfqdgMJf6M%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹</p>
<p><em>å…¨å±€æ¨¡å¼å¯é€šè¿‡ç¤¾åŒºæŠ¥å‘Šæå–æ±‡æ€»ä¿¡æ¯ï¼Œå¹¶åˆ—å‡ºç›¸å…³ç¤¾åŒºä¾›è¿›ä¸€æ­¥æŸ¥çœ‹ã€‚</em></p>
<p><strong>2.ä¸»è§‚è¯„ä»·ç±»é—®é¢˜</strong></p>
<pre><code class="hljs language-css" lang="css">graphrag query <span class="hljs-attr">--root</span> openl_big <span class="hljs-attr">--method</span> global <span class="hljs-attr">--query</span> "ä½ è®¤ä¸ºéŸ©ç«‹åœ¨ä¸ƒç„é—¨æ—¶æœŸçš„æˆé•¿ç»å†å¦‚ä½•ï¼Ÿ"
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6d11e4773cec4a57ae79e9007928973c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemxiaXQ4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769049761&amp;x-signature=%2FX8aiKvNjt3qOlFzyOHGvt4aSuU%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹â€‹</p>
<p><em>å…¨å±€æ¨¡å¼å¯åŸºäºå¤šä¸ªç›¸å…³æƒ…èŠ‚ç¤¾åŒºè¿›è¡Œå½’çº³ä¸è¯„ä»·ã€‚</em></p>
<h5 data-id="heading-88">ï¼ˆ3ï¼‰<strong>æ¨¡å¼é€‰æ‹©å»ºè®®</strong></h5>
<ul>
<li><strong>ä¼˜å…ˆå°è¯•æœ¬åœ°æ¨¡å¼</strong>ï¼šé’ˆå¯¹å…·ä½“äººç‰©ã€äº‹ä»¶ã€åœ°ç‚¹çš„æŸ¥è¯¢ï¼Œæœ¬åœ°æ¨¡å¼å“åº”æ›´å¿«ï¼Œæ¶ˆè€—æ›´ä½ã€‚</li>
<li><strong>å¤æ‚/æ€»ç»“/ä¸»è§‚é—®é¢˜ä½¿ç”¨å…¨å±€æ¨¡å¼</strong>ï¼šå°¤å…¶é€‚åˆéœ€è¦è·¨ç« èŠ‚å½’çº³ã€è¯„ä»·æˆ–ç†è§£å‰§æƒ…èµ°å‘çš„ä»»åŠ¡ã€‚</li>
<li><strong>æ‰©æ•£æ¨¡å¼ç”¨äºæ·±åº¦æ¢ç´¢</strong>ï¼šå½“é—®é¢˜æ¶‰åŠå¤šå±‚å…³ç³»ï¼ˆå¦‚â€œéŸ©ç«‹çš„å¸ˆå‚…çš„ä»‡æ•Œæ˜¯è°ï¼Ÿâ€ï¼‰æ—¶å¯å°è¯•ã€‚</li>
</ul>
<p>â€‹â€‹</p>
<h2 data-id="heading-89">Â å››ã€å¯¹RAGæŠ€æœ¯â€œæœªæ¥å±•æœ›â€</h2>
<p>å…¶å®ä½œä¸ºä¸€åæœ¬ç§‘è¿˜æ²¡æœ‰æ¯•ä¸šçš„å­¦ç”Ÿä¸æ•¢éšä¾¿å¦„è¨€å¯¹æŸé¡¹æŠ€æœ¯çš„å±•æœ›ï¼Œå› ä¸ºäº†è§£å¾—å®åœ¨å¤ªç²—æµ…äº†ã€‚æ‰€ä»¥æˆ‘ä¸»è¦æ˜¯é€šè¿‡é˜…è¯»RAGflowè¿™ç¯‡åšå®¢ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fragflow.com.cn%2Fblog%2Frag-review-2025-from-rag-to-context" title="https://ragflow.com.cn/blog/rag-review-2025-from-rag-to-context" target="_blank" ref="nofollow noopener noreferrer">ä» RAG åˆ° Context - 2025 å¹´ RAG å¹´ç»ˆå›é¡¾ | RAGFlow å¼•æ“</a>ï¼‰ï¼Œå¹¶ä¸”ç»“åˆå‰å‡ å¤©è†å¬å—èˆª<strong>æèˆŸå†›</strong>æ•™æˆçš„è®²åº§æ¥è°ˆä¸€è°ˆè‡ªå·±çš„ç†è§£ã€‚</p>
<p>2025å¹´ï¼Œæ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰é¢†åŸŸç»å†äº†ä¸€åœºæ·±åˆ»çš„è‡ªæˆ‘é‡å¡‘ã€‚æ›¾ç»å›´ç»•å…¶â€œè¿‡æ¸¡æ€§è§’è‰²â€çš„è´¨ç–‘å£°ï¼Œå¦‚ä»Šå·²è¢«ä¸€ç§æ–°çš„å…±è¯†æ‰€å–ä»£ï¼š<strong>RAGä¸å†ä»…ä»…æ˜¯ä¿®è¡¥å¤§æ¨¡å‹çŸ¥è¯†ç¼ºå£çš„ä¸´æ—¶æ–¹æ¡ˆï¼Œè€Œæ˜¯ä¼ä¸šæ™ºèƒ½åŸºç¡€è®¾æ–½çš„æ ¸å¿ƒç»„ä»¶ã€‚</strong> æèˆŸå†›æ•™æˆåœ¨æ–‡æ¡£å¤„ç†æœ‰å¾ˆå¤šæˆæœï¼Œå½“ææ•™æˆä»‹ç»å‰è¨€ä¸æœªæ¥ï¼š<strong>å¤šæ¨¡æ€å¤šæ™ºèƒ½ä½“æ¡†æ¶ä¸ç³»ç»Ÿ</strong>æ—¶è¯´ï¼šâ€œæ™ºèƒ½æ–‡æ¡£Agent = æ–‡æ¡£æ™ºèƒ½+<strong>å¤§æ¨¡å‹ï¼ˆRAGï¼‰</strong> +å¤šæ¨¡æ€å¤šæ™ºèƒ½ä½“æ¡†æ¶â€ï¼Œå¹¶ä¸”å¼ºè°ƒâ€œ*<em>AI Agent = LLM <em>ï¼ˆè§„åˆ’+è®°å¿†+å·¥å…·+è¡ŒåŠ¨ï¼‰â€ï¼Œ</em></em> ææ•™æˆè¡¨ç¤ºä»Šå¹´ï¼ˆ2026å¹´ï¼‰Agentçš„ç ”ç©¶ä¼šæœ‰å¾ˆå¤šé›†ä¸­åœ¨<strong>è®°å¿†</strong>æ–¹é¢ï¼Œè®°å¿†åˆä¸»è¦åŒ…æ‹¬<strong>å¤–éƒ¨çŸ¥è¯†åº“</strong>å’Œ<strong>æœ¬åœ°ä¸Šä¸‹æ–‡ã€‚</strong> æœ€åæˆ‘æ„Ÿè§‰ææ•™æˆè¯´äº†ä¸€å¥è®©æˆ‘æ„Ÿè§‰ä¸ä¸€æ ·çš„è¯ï¼šâ€œ<strong>æŠ€æœ¯æ˜¯å¥½æŒæ¡çš„ï¼Œä¹Ÿæ˜¯åœ¨ä¸æ–­å˜æ›´çš„ï¼Œå¯¹äºæˆ‘ä»¬æƒ³è¦åœ¨å‚ç›´é¢†åŸŸåšå‡ºæˆæœæ¥æ•°æ®æ˜¯ä¸‡åˆ†é‡è¦çš„</strong>â€ã€‚</p>
<p>è¿‡å»ä¸€å¹´ï¼ˆ2025å¹´ï¼‰ï¼Œå°½ç®¡AIæ™ºèƒ½ä½“ï¼ˆAgentsï¼‰å æ®äº†å…¬ä¼—è®¨è®ºçš„ä¸­å¿ƒèˆå°ï¼Œä½†çœŸæ­£è‡´åŠ›äºæ„å»ºå¯æŒç»­AIèƒ½åŠ›çš„ä¼ä¸šâ€”â€”å°¤å…¶æ˜¯å¤§ä¸­å‹ç»„ç»‡â€”â€”å´åœ¨æ‚„ç„¶åŠ æ·±å¹¶ç³»ç»ŸåŒ–å¯¹RAGçš„æŠ•å…¥ã€‚ä¸€ä¸ªæœ‰è¶£çš„è¶‹åŠ¿æ˜¾ç°ï¼š<strong>RAGæ­£åœ¨ä»â€œæ˜“ä¸Šæ‰‹ã€éš¾ç²¾é€šâ€çš„è°ƒä¼˜æŒ‘æˆ˜ï¼Œæ¼”å˜ä¸ºä¼ä¸šAIæ¶æ„ä¸­ä¸å¯åŠ¨æ‘‡çš„åŸºçŸ³ã€‚</strong></p>
<p>æœ¬ç« èŠ‚å›é¡¾2025å¹´RAGæŠ€æœ¯çš„å…³é”®æ¼”è¿›ï¼Œå‰–æå…¶å¦‚ä½•ä»å•ä¸€æ£€ç´¢å·¥å…·èœ•å˜ä¸ºæ”¯æ’‘ä¸‹ä¸€ä»£AIåº”ç”¨çš„Â <strong>â€œä¸Šä¸‹æ–‡å¼•æ“â€</strong>Â ï¼Œå¹¶å±•æœ›2026å¹´çš„å‘å±•è¶‹åŠ¿ã€‚</p>
<hr/>
<h3 data-id="heading-90">ç¬¬ä¸€ç« ï¼šé•¿ä¸Šä¸‹æ–‡ vs. RAGâ€”â€”ä¸€åœºå»ºè®¾æ€§çš„è¾©è®º</h3>
<h4 data-id="heading-91">1.1 å®è·µæ£€éªŒçš„ç†è®ºé—®é¢˜</h4>
<p>2024å¹´è¢«çƒ­çƒˆè®¨è®ºçš„â€œé•¿ä¸Šä¸‹æ–‡èƒ½å¦å–ä»£RAGï¼Ÿâ€åœ¨2025å¹´è¿›å…¥äº†å®è·µæµ‹è¯•é˜¶æ®µã€‚ä¸€äº›å¯¹å»¶è¿Ÿå’Œæˆæœ¬ä¸æ•æ„Ÿçš„åœºæ™¯ï¼ˆå¦‚å›ºå®šæ ¼å¼åˆåŒå®¡æŸ¥ï¼‰å¼€å§‹å°è¯•ç›´æ¥ä½¿ç”¨é•¿ä¸Šä¸‹æ–‡çª—å£ï¼Œå¸Œæœ›ç»•è¿‡æ£€ç´¢ç¯èŠ‚ã€‚</p>
<p>ç„¶è€Œï¼Œå®è·µå¾ˆå¿«æ­ç¤ºäº†è¿™ä¸€ç­–ç•¥çš„å±€é™æ€§ï¼š</p>
<ul>
<li><strong>æ³¨æ„åŠ›ç¨€é‡Šæ•ˆåº”</strong>ï¼šå°†å¤§é‡æ–‡æœ¬æœºæ¢°å¡å…¥ä¸Šä¸‹æ–‡çª—å£ï¼Œå¯¼è‡´æ¨¡å‹â€œè¿·å¤±åœ¨ä¸­é—´â€</li>
<li><strong>æˆæœ¬éçº¿æ€§å¢é•¿</strong>ï¼šå¤„ç†é•¿ä¸Šä¸‹æ–‡çš„è®¡ç®—å¼€é”€æ€¥å‰§ä¸Šå‡</li>
<li><strong>çµæ´»æ€§ç¼ºå¤±</strong>ï¼šéš¾ä»¥åº”å¯¹åŠ¨æ€å˜åŒ–çš„çŸ¥è¯†å’Œå¤æ‚æŸ¥è¯¢</li>
</ul>
<h4 data-id="heading-92">1.2 ä»å¯¹ç«‹åˆ°ååŒï¼šä¸Šä¸‹æ–‡å·¥ç¨‹çš„å…´èµ·</h4>
<p>çœŸæ­£çš„çªç ´å‡ºç°åœ¨å¯¹ä¸¤è€…å…³ç³»çš„é‡æ–°è®¤è¯†ä¸Šã€‚<strong>é•¿ä¸Šä¸‹æ–‡èƒ½åŠ›çš„æå‡å¹¶æœªé¢„ç¤ºRAGçš„ç»ˆç»“ï¼Œè€Œæ˜¯å‚¬ç”Ÿäº†â€œä¸Šä¸‹æ–‡å·¥ç¨‹â€è¿™ä¸€æ–°èŒƒå¼ã€‚</strong></p>
<p>æ™ºèƒ½çš„è§£å†³æ–¹æ¡ˆæ˜¯è®©RAGä¸é•¿ä¸Šä¸‹æ–‡çª—å£ååŒå·¥ä½œï¼š</p>
<ul>
<li><strong>RAGè´Ÿè´£ç²¾å‡†å®šä½</strong>ï¼šä»æµ·é‡æ•°æ®ä¸­ç­›é€‰æœ€ç›¸å…³çš„ä¿¡æ¯ç‰‡æ®µ</li>
<li><strong>é•¿ä¸Šä¸‹æ–‡è´Ÿè´£æ·±åº¦ç†è§£</strong>ï¼šå®¹çº³å®Œæ•´ã€è¿è´¯çš„ä¸Šä¸‹æ–‡ä¾›æ¨¡å‹æ¨ç†</li>
<li><strong>åŠ¨æ€ç»„è£…ç­–ç•¥</strong>ï¼šæ ¹æ®æŸ¥è¯¢å¤æ‚åº¦åŠ¨æ€è°ƒæ•´æ£€ç´¢æ·±åº¦å’Œä¸Šä¸‹æ–‡å¹¿åº¦</li>
</ul>
<p>è¿™ç§â€œæ£€ç´¢å…ˆè¡Œï¼Œä¸Šä¸‹æ–‡å®¹çº³â€çš„ååŒæ¨¡å¼ï¼Œä½¿å¾—ä¼ä¸šèƒ½å¤Ÿä»¥<strong>æœ€ä½³æ€§ä»·æ¯”</strong>å°†æœ€æœ‰æ•ˆçš„ä¿¡æ¯çº³å…¥æ¨¡å‹å¤„ç†æµç¨‹ã€‚</p>
<h3 data-id="heading-93">ç¬¬äºŒç« ï¼šRAGæ€§èƒ½çš„æ·±å±‚ä¼˜åŒ–</h3>
<h4 data-id="heading-94">2.1 ç ´è§£â€œåˆ‡ç‰‡å›°å¢ƒâ€</h4>
<p>ä¼ ç»ŸRAGé¢ä¸´ä¸€ä¸ªæ ¹æœ¬çŸ›ç›¾ï¼šè¯­ä¹‰åŒ¹é…éœ€è¦<strong>å°åˆ‡ç‰‡</strong>ä»¥å®ç°é«˜å¬å›ç‡ï¼Œè€Œä¸Šä¸‹æ–‡ç†è§£éœ€è¦<strong>å¤§åˆ‡ç‰‡</strong>ä»¥ä¿è¯è¿è´¯æ€§ã€‚</p>
<p>2025å¹´çš„è§£å†³æ–¹æ¡ˆæ˜¯å°†æ£€ç´¢è¿‡ç¨‹è§£è€¦ä¸ºä¸¤ä¸ªé€»è¾‘é˜¶æ®µï¼š</p>
<h5 data-id="heading-95"><strong>é˜¶æ®µä¸€ï¼šæœç´¢ï¼ˆSearchï¼‰</strong></h5>
<ul>
<li><strong>ç›®æ ‡</strong>ï¼šå¿«é€Ÿã€ç²¾ç¡®åœ°å®šä½æ‰€æœ‰æ½œåœ¨ç›¸å…³çº¿ç´¢</li>
<li><strong>ç²’åº¦</strong>ï¼šä½¿ç”¨è¾ƒå°çš„ã€è¯­ä¹‰çº¯å‡€çš„æ–‡æœ¬å•ä½ï¼ˆ100-256 tokensï¼‰</li>
<li><strong>ç±»æ¯”</strong>ï¼šç±»ä¼¼äºåœ¨å›¾ä¹¦é¦†ç›®å½•ä¸­æŸ¥æ‰¾ç›¸å…³ä¹¦ç›®</li>
</ul>
<h5 data-id="heading-96"><strong>é˜¶æ®µäºŒï¼šæ£€ç´¢ï¼ˆRetrieveï¼‰</strong></h5>
<ul>
<li><strong>ç›®æ ‡</strong>ï¼šä¸ºLLMç”Ÿæˆç­”æ¡ˆç»„è£…å®Œæ•´çš„â€œé˜…è¯»ææ–™â€</li>
<li><strong>ç²’åº¦</strong>ï¼šåŸºäºæœç´¢ç»“æœåŠ¨æ€èšåˆä¸ºè¿è´¯çš„å¤§ç‰‡æ®µï¼ˆ1024+ tokensï¼‰</li>
<li><strong>ç±»æ¯”</strong>ï¼šä»ä¹¦æ¶ä¸Šå–å‡ºç›¸å…³ä¹¦ç±ï¼Œç¿»å¼€è‡³å…·ä½“ç« èŠ‚</li>
</ul>
<h4 data-id="heading-97">2.2 ç»“æ„åŒ–æ£€ç´¢çš„åˆ›æ–°</h4>
<h5 data-id="heading-98"><strong>TreeRAGï¼šå±‚çº§åŒ–æ™ºèƒ½</strong></h5>
<p>ä»¥RAGFlowçš„TreeRAGæŠ€æœ¯ä¸ºä»£è¡¨ï¼Œé€šè¿‡åœ¨ç¦»çº¿é˜¶æ®µä½¿ç”¨LLMåˆ†ææ–‡æ¡£ç»“æ„ï¼Œæ„å»ºå±‚çº§åŒ–çš„æ ‘çŠ¶ç›®å½•æ‘˜è¦ï¼š</p>
<ul>
<li><strong>ç¦»çº¿å¤„ç†</strong>ï¼šæ–‡æ¡£â†’åˆ‡ç‰‡â†’LLMåˆ†æâ†’å¤šçº§æ ‘çŠ¶ç»“æ„</li>
<li><strong>åœ¨çº¿æ£€ç´¢</strong>ï¼šç»†ç²’åº¦æœç´¢â†’æ ‘çŠ¶å¯¼èˆªâ†’ä¸Šä¸‹æ–‡åŠ¨æ€ç»„è£…</li>
<li><strong>ä¼˜åŠ¿</strong>ï¼šæœ‰æ•ˆç¼“è§£å›ºå®šå¤§å°åˆ‡ç‰‡å¯¼è‡´çš„ä¸Šä¸‹æ–‡ç¢ç‰‡åŒ–é—®é¢˜</li>
</ul>
<h5 data-id="heading-99"><strong>GraphRAGï¼šå…³è”æ€§æ¢ç´¢</strong></h5>
<p>é€šè¿‡ä»æ–‡æ¡£ä¸­æå–å®ä½“å’Œå…³ç³»æ„å»ºçŸ¥è¯†å›¾è°±ï¼Œåˆ©ç”¨å›¾ç®—æ³•å‘ç°é—´æ¥ç›¸å…³çš„çŸ¥è¯†ï¼š</p>
<ul>
<li><strong>èƒ½åŠ›</strong>ï¼šå‘ç°è¯­ä¹‰ç›¸å…³ä½†ç‰©ç†è·ç¦»è¿œçš„å†…å®¹</li>
<li><strong>æŒ‘æˆ˜</strong>ï¼šTokenæ¶ˆè€—å¤§ã€å®ä½“æå–è´¨é‡æ³¢åŠ¨ã€çŸ¥è¯†ç¢ç‰‡åŒ–</li>
<li><strong>è¶‹åŠ¿</strong>ï¼šä¸TreeRAGç»“åˆå½¢æˆæ··åˆæ¶æ„ï¼Œå¹³è¡¡å±€éƒ¨è¿è´¯æ€§ä¸å…¨å±€å…³è”æ€§</li>
</ul>
<h4 data-id="heading-100">2.3 æŠ€æœ¯èåˆçš„æ·±å±‚é€»è¾‘</h4>
<p>æ‰€æœ‰è¿™äº›è¿›é˜¶æ¶æ„çš„æ ¸å¿ƒèŒƒå¼æ˜¯åœ¨ä¼ ç»ŸRAGæµæ°´çº¿ä¸Šå¢åŠ Â <strong>â€œè¯­ä¹‰å¢å¼ºå±‚â€</strong>Â ï¼š</p>
<p>text</p>
<pre><code class="hljs">åŸå§‹æ•°æ® â†’ LLMæ·±åº¦åˆ†æ â†’ ç»“æ„åŒ–è¡¨ç¤º â†’ æ™ºèƒ½æ£€ç´¢ â†’ åŠ¨æ€ç»„è£…
</code></pre>
<p>è¿™ä¸€è½¬å˜æ ‡å¿—ç€RAGä»<strong>ä¼˜åŒ–å•ä¸€æ£€ç´¢ç®—æ³•</strong>ï¼Œè½¬å‘<strong>ç³»ç»ŸåŒ–è®¾è®¡ç«¯åˆ°ç«¯ä¿¡æ¯å¤„ç†æµæ°´çº¿</strong>ã€‚</p>
<h3 data-id="heading-101">ç¬¬ä¸‰ç« ï¼šä»çŸ¥è¯†åº“åˆ°æ•°æ®åŸºåº§</h3>
<h4 data-id="heading-102">3.1 RAGçš„å®šä½æ¼”è¿›</h4>
<p>éšç€AI Agentçš„å…´èµ·ï¼ŒRAGæ­£åœ¨ç»å†è§’è‰²è½¬å˜ï¼š</p>





















<table><thead><tr><th>ä¼ ç»Ÿå®šä½</th><th>æ–°å…´å®šä½</th></tr></thead><tbody><tr><td>é—®ç­”çŸ¥è¯†åº“</td><td>Agentæ•°æ®åŸºåº§</td></tr><tr><td>é™æ€çŸ¥è¯†æ£€ç´¢</td><td>å®æ—¶æ•°æ®ä¾›ç»™</td></tr><tr><td>ç‹¬ç«‹åº”ç”¨ç»„ä»¶</td><td>ç»Ÿä¸€ä¸Šä¸‹æ–‡æœåŠ¡</td></tr></tbody></table>
<h4 data-id="heading-103">3.2 å·¥ä¸šåŒ–æ‘„å…¥æµæ°´çº¿ï¼ˆPTIï¼‰</h4>
<p>ç°ä»£RAGç³»ç»Ÿçš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªå¥å£®çš„æ‘„å…¥æµæ°´çº¿ï¼Œç§°ä¹‹ä¸ºÂ <strong>PTIï¼ˆè§£æ-è½¬æ¢-ç´¢å¼•ï¼‰</strong>Â ï¼Œè¿™æ˜¯AIæ—¶ä»£çš„â€œéç»“æ„åŒ–æ•°æ®ETLâ€ï¼š</p>
<h5 data-id="heading-104"><strong>ä¸ä¼ ç»ŸETL/ELTçš„å¯¹æ¯”</strong></h5>

























<table><thead><tr><th>é˜¶æ®µ</th><th>ä¼ ç»ŸETLï¼ˆç»“æ„åŒ–æ•°æ®ï¼‰</th><th>RAG PTIï¼ˆéç»“æ„åŒ–æ•°æ®ï¼‰</th></tr></thead><tbody><tr><td>æå–/è§£æ</td><td>ä»APIã€æ•°æ®åº“æå–</td><td>å¤šæ¨¡æ€æ–‡æ¡£è§£æï¼ˆPDFã€å›¾åƒã€éŸ³é¢‘ï¼‰</td></tr><tr><td>è½¬æ¢</td><td>SQLæ¸…æ´—ã€ä¸šåŠ¡é€»è¾‘è®¡ç®—</td><td>LLMè¯­ä¹‰å¢å¼ºï¼ˆæ‘˜è¦ã€ç»“æ„æå–ã€å®ä½“è¯†åˆ«ï¼‰</td></tr><tr><td>åŠ è½½/ç´¢å¼•</td><td>åŠ è½½åˆ°æ•°æ®ä»“åº“è¡¨</td><td>æ„å»ºæ··åˆç´¢å¼•ï¼ˆå‘é‡+å…³é”®è¯+å…ƒæ•°æ®ï¼‰</td></tr></tbody></table>
<h4 data-id="heading-105">3.3 ç»Ÿä¸€æ•°æ®åŸºåº§çš„è“å›¾</h4>
<p>ä¸€ä¸ªå®Œæ•´çš„Agentæ•°æ®åŸºåº§éœ€è¦æ•´åˆä¸‰å¤§æ•°æ®æºï¼š</p>
<p>text</p>
<pre><code class="hljs language-markdown" lang="markdown">ä¼ä¸šAIæ•°æ®åŸºåº§
â”œâ”€â”€ é¢†åŸŸçŸ¥è¯†åº“ï¼ˆRAGæ ¸å¿ƒï¼‰
â”‚   â”œâ”€â”€ æ–‡æ¡£ã€æ‰‹å†Œã€è§„èŒƒ
â”‚   â””â”€â”€ é™æ€ä¸šåŠ¡çŸ¥è¯†
â”œâ”€â”€ äº¤äº’è®°å¿†ç³»ç»Ÿ
â”‚   â”œâ”€â”€ å¯¹è¯å†å²
â”‚   â”œâ”€â”€ ç”¨æˆ·åå¥½
â”‚   â””â”€â”€ åŠ¨æ€çŠ¶æ€æ•°æ®
â””â”€â”€ å·¥å…·ä¸æŒ‡å—åº“
<span class="hljs-code">    â”œâ”€â”€ å·¥å…·æè¿°ï¼ˆMCPå°è£…ï¼‰
    â”œâ”€â”€ ä½¿ç”¨æŒ‡å—
    â””â”€â”€ æœ€ä½³å®è·µå‰§æœ¬
</span></code></pre>
<p>æ‹¥æœ‰è¿™æ ·çš„å¹³å°ï¼ŒRAGç³»ç»Ÿæ‰èƒ½çœŸæ­£ä»â€œé—®ç­”ç³»ç»Ÿâ€è¿›åŒ–ä¸º<strong>ä¼ä¸šéç»“æ„åŒ–æ•°æ®çš„ç»Ÿä¸€å¤„ç†ä¸è®¿é—®ä¸­æ¢</strong>ã€‚</p>
<h3 data-id="heading-106">ç¬¬å››ç« ï¼šä¸Šä¸‹æ–‡å·¥ç¨‹â€”â€”AIåº”ç”¨çš„æ–°èŒƒå¼</h3>
<h4 data-id="heading-107">4.1 ä¸ºä»€ä¹ˆéœ€è¦ä¸Šä¸‹æ–‡å·¥ç¨‹ï¼Ÿ</h4>
<p>å®è·µåå¤è¯æ˜ï¼šä¸åŠ é€‰æ‹©åœ°å°†æ‰€æœ‰æ•°æ®å¡è¿›ä¸Šä¸‹æ–‡çª—å£ï¼Œä¸ä»…æˆæœ¬é«˜æ˜‚ï¼Œè¿˜ä¼šå› ä¿¡æ¯è¿‡è½½æŸå®³LLMçš„ç†è§£å’Œæ¨ç†èƒ½åŠ›ã€‚</p>
<p><strong>ä¸Šä¸‹æ–‡å·¥ç¨‹çš„æ ¸å¿ƒä»»åŠ¡</strong>æ˜¯æ™ºèƒ½åœ°è¿‡æ»¤ã€æ’åºå’Œæ‹¼æ¥ä¸‰ç±»æ•°æ®ï¼š</p>
<ol>
<li><strong>é¢†åŸŸçŸ¥è¯†æ•°æ®</strong>ï¼šé€šè¿‡RAGæ£€ç´¢çš„ä¼ä¸šç§æœ‰çŸ¥è¯†</li>
<li><strong>å·¥å…·æ•°æ®</strong>ï¼šé€šè¿‡å·¥å…·æ£€ç´¢ï¼ˆTool Retrievalï¼‰ç­›é€‰çš„ç›¸å…³å·¥å…·å’ŒæŒ‡å—</li>
<li><strong>å¯¹è¯ä¸çŠ¶æ€æ•°æ®</strong>ï¼šé€šè¿‡è®°å¿†ç³»ç»Ÿï¼ˆMemoryï¼‰ç®¡ç†çš„äº¤äº’å†å²</li>
</ol>
<h4 data-id="heading-108">4.2 å·¥å…·æ£€ç´¢ï¼šè¢«å¿½è§†çš„å…³é”®ç¯èŠ‚</h4>
<p>2025å¹´ä¸‹åŠå¹´ï¼Œä¸€ä¸ªå…³é”®é—®é¢˜æµ®ç°ï¼šå½“ä¼ä¸šæœ‰æ•°ç™¾ä¸ªé€šè¿‡MCPå°è£…çš„å·¥å…·æ—¶ï¼Œå¦‚ä½•è®©Agentåœ¨æ­£ç¡®çš„æ—¶é—´é€‰æ‹©æ­£ç¡®çš„å·¥å…·ï¼Ÿ</p>
<h5 data-id="heading-109"><strong>è§£å†³æ–¹æ¡ˆï¼šåŠ¨æ€å·¥å…·æ£€ç´¢</strong></h5>
<ul>
<li><strong>å»ºç«‹ç´¢å¼•</strong>ï¼šä¸ºæ‰€æœ‰å·¥å…·æè¿°æ„å»ºä¸“é—¨çš„è¯­ä¹‰ç´¢å¼•</li>
<li><strong>æŸ¥è¯¢ç”Ÿæˆ</strong>ï¼šAgentæ ¹æ®å½“å‰ä»»åŠ¡ç”Ÿæˆå·¥å…·åŠŸèƒ½æŸ¥è¯¢</li>
<li><strong>ç²¾å‡†å¬å›</strong>ï¼šä»…å¬å›Top-Kæœ€ç›¸å…³çš„å·¥å…·æè¿°</li>
<li><strong>ä¸Šä¸‹æ–‡æ³¨å…¥</strong>ï¼šå°†ç²¾ç®€åçš„å·¥å…·é›†åŠ¨æ€æ’å…¥å½“å‰ä¸Šä¸‹æ–‡</li>
</ul>
<p>ç ”ç©¶æ˜¾ç¤ºï¼Œå³ä½¿æ˜¯ç®€å•çš„BM25å…³é”®è¯æ£€ç´¢ï¼Œä¹Ÿèƒ½ä¸ºæ­¤ä»»åŠ¡æä¾›å¼ºå¤§çš„åŸºçº¿ã€‚è€Œå¾®è°ƒçš„ä¸“ç”¨åµŒå…¥æ¨¡å‹èƒ½å®ç°æ›´ç²¾ç¡®çš„åŒ¹é…ã€‚</p>
<h4 data-id="heading-110">4.3 è®°å¿†ä¸RAGï¼šåŒæºäº’è¡¥</h4>
<p>å°½ç®¡â€œè®°å¿†â€åœ¨2025å¹´è·å¾—äº†è¿œè¶…RAGçš„å…³æ³¨åº¦ï¼Œä½†ä»æŠ€æœ¯æœ¬è´¨ä¸Šï¼Œä¸¤è€…<strong>åŒæºå¼‚æµ</strong>ï¼š</p>
<ul>
<li>
<p><strong>åŒæº</strong>ï¼šæ ¸å¿ƒèƒ½åŠ›éƒ½æ˜¯å­˜å‚¨ã€ç´¢å¼•å’Œæ£€ç´¢</p>
</li>
<li>
<p><strong>å¼‚æµ</strong>ï¼šæ•°æ®æºå’Œç›®æ ‡ä¸åŒ</p>
<ul>
<li>RAGï¼šå¤„ç†<strong>é™æ€</strong>çš„ä¼ä¸šçŸ¥è¯†èµ„äº§</li>
<li>è®°å¿†ï¼šå¤„ç†<strong>åŠ¨æ€</strong>çš„äº¤äº’æ—¥å¿—æ•°æ®</li>
</ul>
</li>
</ul>
<p>æœªæ¥çš„ä¸Šä¸‹æ–‡å¹³å°å°†ç»Ÿä¸€è¿™ä¸¤å¤§èƒ½åŠ›ï¼Œä¸ºAgentæä¾›å®Œæ•´çš„â€œå¤–è„‘â€æ”¯æŒã€‚</p>
<h3 data-id="heading-111">ç¬¬äº”ç« ï¼šå¤šæ¨¡æ€RAGçš„å·¥ç¨‹åŒ–æŒ‘æˆ˜</h3>
<h4 data-id="heading-112">5.1 ä»·å€¼å®šä½æ¸…æ™°ï¼Œè½åœ°è·¯å¾„æ›²æŠ˜</h4>
<p>å¤šæ¨¡æ€RAGåœ¨éœ€è¦å›¾æ–‡ç»“åˆç†è§£çš„ä»»åŠ¡ä¸Šè¡¨ç°å“è¶Šï¼Œä½†å…¶å…¨é¢å·¥ç¨‹åŒ–é¢ä¸´ä¸¥å³»æŒ‘æˆ˜ï¼š</p>
<h5 data-id="heading-113"><strong>æŠ€æœ¯è·¯å¾„å¯¹æ¯”</strong></h5>
<ol>
<li>
<p><strong>æ¨¡æ€è½¬æ¢è·¯å¾„</strong>ï¼šOCR/VLMâ†’æ–‡æœ¬â†’æ–‡æœ¬RAG</p>
<ul>
<li>ä¼˜åŠ¿ï¼šå…¼å®¹ç°æœ‰æ¶æ„</li>
<li>åŠ£åŠ¿ï¼šä¸¢å¤±è§†è§‰ç»†èŠ‚å’Œå¸ƒå±€ä¿¡æ¯</li>
</ul>
</li>
<li>
<p><strong>åŸç”Ÿå¤šæ¨¡æ€è·¯å¾„</strong>ï¼šç»Ÿä¸€ç¼–ç â†’å¤šå‘é‡è¡¨ç¤ºâ†’å¼ é‡æ£€ç´¢</p>
<ul>
<li>ä¼˜åŠ¿ï¼šä¿ç•™å®Œæ•´è·¨æ¨¡æ€è¯­ä¹‰</li>
<li>åŠ£åŠ¿ï¼šå­˜å‚¨å’Œè®¡ç®—æˆæœ¬çˆ†ç‚¸</li>
</ul>
</li>
</ol>
<h4 data-id="heading-114">5.2 æˆæœ¬ç“¶é¢ˆä¸çªç ´æ–¹å‘</h4>
<p>å‡è®¾æ¯ä¸ªé¡µé¢å›¾åƒç”Ÿæˆ1024ä¸ªTokenï¼ˆç‰¹å¾å‘é‡ï¼‰ï¼Œå•ä¸ªé¡µé¢çš„å¼ é‡æ•°æ®çº¦512KBã€‚ç™¾ä¸‡é¡µæ–‡æ¡£åº“çš„ç´¢å¼•å°†è¾¾åˆ°<strong>TBçº§åˆ«</strong>â€”â€”è¿™å¯¹å­˜å‚¨ã€å†…å­˜å’Œæ£€ç´¢å»¶è¿Ÿéƒ½æ˜¯å·¨å¤§æŒ‘æˆ˜ã€‚</p>
<h5 data-id="heading-115"><strong>çªç ´è·¯å¾„</strong></h5>
<ol>
<li>
<p><strong>å¼ é‡é‡åŒ–å‹ç¼©</strong>ï¼šå°†å‘é‡äºŒå€¼åŒ–æˆ–ä½æ¯”ç‰¹é‡åŒ–ï¼Œå‹ç¼©å­˜å‚¨è‡³1/32æˆ–æ›´ä½</p>
</li>
<li>
<p><strong>Tokenå‰ªæç­–ç•¥</strong>ï¼š</p>
<ul>
<li>éšæœºæŠ•å½±ï¼ˆå¦‚MUVERAç®—æ³•ï¼‰</li>
<li>Tokenèšç±»</li>
<li>æ¨¡å‹ä¾§è‡ªé€‚åº”Tokenå‰ªæ</li>
</ul>
</li>
</ol>
<h4 data-id="heading-116">5.3 ååŒå‘å±•çš„æœªæ¥</h4>
<p>å¤šæ¨¡æ€RAGçš„æˆç†Ÿéœ€è¦<strong>åŸºç¡€è®¾æ–½</strong>ä¸<strong>æ¨¡å‹å±‚</strong>çš„ååŒçªç ´ï¼š</p>
<ul>
<li><strong>åŸºç¡€è®¾æ–½</strong>ï¼šæ£€ç´¢å¼•æ“éœ€åŸç”Ÿæ”¯æŒå¼ é‡ç´¢å¼•å’Œé‡æ’</li>
<li><strong>æ¨¡å‹å±‚</strong>ï¼šéœ€è¦é‡åŒ–å‹å¥½ã€æ”¯æŒTokenå‰ªæçš„æ–°ä¸€ä»£å¤šæ¨¡æ€åµŒå…¥æ¨¡å‹</li>
</ul>
<p>éšç€2026å¹´ç›¸å…³ç ”è®¨ä¼šå’Œç ”ç©¶çš„æ·±å…¥ï¼Œæˆ‘ä»¬é¢„è®¡å°†çœ‹åˆ°æ›´å¤šå·¥ç¨‹åŒ–çš„å¤šæ¨¡æ€RAGè§£å†³æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-117">ç¬¬å…­ç« ï¼šå±•æœ›2026â€”â€”ä¸Šä¸‹æ–‡å¹³å°çš„å·¥ä¸šåŒ–æ—¶ä»£</h3>
<h4 data-id="heading-118">6.1 ä»å®éªŒåˆ°è§„æ¨¡åŒ–</h4>
<p>2026å¹´ï¼Œä¼ä¸šå¯¹LLMåº”ç”¨çš„å…³æ³¨å°†ä»æ¦‚å¿µéªŒè¯è½¬å‘<strong>è§„æ¨¡åŒ–é‡‡ç”¨å’ŒROIè€ƒé‡</strong>ã€‚åœ¨è¿™ä¸€è¿‡ç¨‹ä¸­ï¼ŒRAGæŠ€æœ¯ä½œä¸ºAIåº”ç”¨çš„åŸºç¡€æ•°æ®å±‚ï¼Œå°†è¿æ¥æ›´ç¨³å¥ã€ç³»ç»ŸåŒ–çš„å»ºè®¾æµªæ½®ã€‚</p>
<h4 data-id="heading-119">6.2 ä¸Šä¸‹æ–‡å¹³å°ï¼šä¼ä¸šAIçš„æ–°ç«äº‰å£å’</h4>
<p>æœªæ¥çš„ç«äº‰å°†ä¸å†æ˜¯æ¨¡å‹å‚æ•°çš„æ¯”æ‹¼ï¼Œè€Œæ˜¯<strong>ä¸Šä¸‹æ–‡ä¾›ç»™èƒ½åŠ›</strong>çš„è¾ƒé‡ã€‚ä¸Šä¸‹æ–‡å¹³å°å°†å‘ˆç°ä»¥ä¸‹ç‰¹å¾ï¼š</p>
<h5 data-id="heading-120"><strong>å››å¤§æ¼”è¿›æ–¹å‘</strong></h5>
<ol>
<li><strong>è‡ªåŠ¨åŒ–</strong>ï¼šä¸Šä¸‹æ–‡åˆ›å»ºä¸æ•°æ®æºæ·±åº¦æ•´åˆï¼ŒæŒç»­åŒæ­¥æ›´æ–°</li>
<li><strong>åŠ¨æ€åŒ–</strong>ï¼šåŸºäºå®æ—¶æ„å›¾ï¼Œä»å¤šæ•°æ®æºæ™ºèƒ½æ£€ç´¢å’Œç»„è£…ä¸Šä¸‹æ–‡</li>
<li><strong>å¯æ²»ç†</strong>ï¼šå®¢æˆ·å¯ç®¡ç†ã€å¯è§†åŒ–é…ç½®çš„ä¸Šä¸‹æ–‡è¿è¥ä½“ç³»</li>
<li><strong>äº§å“åŒ–</strong>ï¼šä»ä¸“å®¶æ‰‹å·¥æ´»è½¬å‘æ ‡å‡†åŒ–ã€å¯å¤ç”¨çš„å¹³å°æœåŠ¡</li>
</ol>
<p>â€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ¤– æœªæ¥è½¯ä»¶è¡¨ç°å½¢å¼çš„çŒœæƒ³ï¼šå¸®ä½ ç›´æ¥åšä½ æƒ³åšçš„ï¼Œç»™ä½ ç›´æ¥è¦ä½ æƒ³è¦çš„]]></title>    <link>https://juejin.cn/post/7595163067903868937</link>    <guid>https://juejin.cn/post/7595163067903868937</guid>    <pubDate>2026-01-15T02:47:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595163067903868937" data-draft-id="7595163067903852553" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ¤– æœªæ¥è½¯ä»¶è¡¨ç°å½¢å¼çš„çŒœæƒ³ï¼šå¸®ä½ ç›´æ¥åšä½ æƒ³åšçš„ï¼Œç»™ä½ ç›´æ¥è¦ä½ æƒ³è¦çš„"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,æ¶æ„,AIGC"/> <meta itemprop="datePublished" content="2026-01-15T02:47:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LeonGao"/> <meta itemprop="url" content="https://juejin.cn/user/3976252950591149"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ¤– æœªæ¥è½¯ä»¶è¡¨ç°å½¢å¼çš„çŒœæƒ³ï¼šå¸®ä½ ç›´æ¥åšä½ æƒ³åšçš„ï¼Œç»™ä½ ç›´æ¥è¦ä½ æƒ³è¦çš„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3976252950591149/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LeonGao
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-15T02:47:13.000Z" title="Thu Jan 15 2026 02:47:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body blockquote&gt;:first-child{margin-top:0}.markdown-body blockquote&gt;:last-child{margin-bottom:0}.markdown-body{overflow:hidden;line-height:1.75;font-size:15px;background-image:linear-gradient(90deg,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0),linear-gradient(1turn,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0);background-size:20px 20px;background-position:50%;padding-top:0!important}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{position:relative;display:flex;border-bottom:5px solid #6d4e00;line-height:35px;letter-spacing:1px;font-size:25px;padding-left:25px;color:#664900;text-shadow:1px 1px 1px #8a6200;padding-bottom:0}.markdown-body h1:before{content:"";display:flex;position:absolute;left:0;top:3px;bottom:0;margin:auto;width:20px;height:20px;background-size:20px 20px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC")}.markdown-body h2{position:relative;padding:0 0 0 20px;font-size:20px;font-weight:700;color:#614500}.markdown-body h2:before{content:"";position:absolute;top:3px;bottom:0;left:0;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC");background-size:100% 100%;background-repeat:no-repeat;width:15px;height:15px;margin:auto}.markdown-body h3{width:100%;text-align:left;margin:20px 10px 0 0;font-size:18px;font-weight:700;display:inline-block;padding-left:10px;padding-bottom:0;border-left:5px solid #8f6600;color:#614500}.markdown-body h4,.markdown-body h5,.markdown-body h6{font-weight:700;color:#a37400}.markdown-body h4{font-size:17px}.markdown-body h5,.markdown-body h6{display:flex;align-items:center}.markdown-body h5:after,.markdown-body h6:after{display:inline-block;border:2px solid #fff6e0;color:rgba(189,134,0,.5);border-radius:50%;text-align:center;margin-left:5px}.markdown-body h5{font-size:14px}.markdown-body h5:after{content:"5";width:15px;height:15px;line-height:15px;font-size:13px}.markdown-body h6{font-size:12px}.markdown-body h6:after{content:"6";width:13px;height:13px;line-height:13px;font-size:12px}.markdown-body p{color:#412c0c;letter-spacing:1px;font-weight:400;margin-bottom:16px}.markdown-body img{max-width:100%;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#755300;font-weight:400;border-bottom:1px solid #755300;font-weight:bolder;text-decoration:none}.markdown-body table{width:100%!important;margin:0;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border-spacing:0}.markdown-body table img{box-shadow:none}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body thead tr th{text-align:center}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;box-sizing:border-box;border:1px solid rgba(72,42,10,.1)}.markdown-body blockquote{position:relative;text-size-adjust:100%;line-height:25px;font-weight:400;border-radius:10px;font-style:normal;text-align:left;box-sizing:inherit;border:1px solid #ffd87a;background-color:rgba(189,134,0,.5);margin:20px 0;padding:20px}.markdown-body blockquote p{color:#fff6e0;letter-spacing:2px;margin:0}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;color:#cc9100;font-size:34px;font-weight:700}.markdown-body blockquote:before{content:"â";top:8px;left:5px}.markdown-body blockquote:after{content:"â";right:5px;bottom:-5px}.markdown-body strong{color:#c28a00;font-weight:bolder}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{color:#c28a00}.markdown-body em strong{font-style:normal;color:#c28a00;background-color:#8a6200}.markdown-body s{color:#c28a00}.markdown-body hr{border-top:1px solid #805b00}.markdown-body code,.markdown-body li code,.markdown-body p code{color:#996d00;background-color:rgba(130,98,0,.3)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit;color:#858585;font-family:bold;letter-spacing:1px}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection,.markdown-body img::selection{color:rgba(189,134,0,.5);background-color:#fff}.markdown-body a::selection,.markdown-body b::selection,.markdown-body del::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:transparent}.markdown-body pre&gt;code::selection{background-color:rgba(189,134,0,.5)}.markdown-body .math .math-inline::selection,.markdown-body blockquote::selection,.markdown-body ol::selection,.markdown-body p::selection,.markdown-body strong::selection,.markdown-body table::selection,.markdown-body ul::selection{background-color:rgba(189,134,0,.5)}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ§  ä¸€ã€å‘Šåˆ«â€œåº”ç”¨æ—¶ä»£â€ï¼šäººæœºè¾¹ç•Œçš„å†å®šä¹‰</h2>
<p>åœ¨ 20 ä¸–çºªæœ«åˆ° 21 ä¸–çºªåˆï¼Œæˆ‘ä»¬ä½¿ç”¨è½¯ä»¶çš„æ–¹å¼å¤§è‡´æ˜¯è¿™æ ·çš„ï¼š<br/>
ğŸ‘‰ æ‰“å¼€åº”ç”¨ç¨‹åº â†’ è¾“å…¥æŒ‡ä»¤ â†’ ç‚¹å‡»æŒ‰é’® â†’ ç­‰å¾…ç»“æœã€‚</p>
<p>çœ‹ä¼¼è‡ªç„¶ï¼Œå…¶å®è¿™æ˜¯ä¸€ç§â€œäººå»é€‚åº”æœºå™¨â€çš„æ¨¡å¼ã€‚</p>
<p>æœªæ¥çš„è½¯ä»¶ï¼Œæ­£åœ¨é¢ å€’è¿™ä¸ªæ–¹å‘ã€‚</p>
<p>æœªæ¥æˆ‘ä»¬ä¼šè¯´ï¼š</p>
<ul>
<li>â€œæˆ‘æƒ³åšä¸€ä»½æ¼”è®²ç¨¿ã€‚â€</li>
<li>â€œå¸®æˆ‘å†™ä¸€ä¸ªæœ‰çŒ«ä¸»é¢˜çš„å°æ¸¸æˆã€‚â€</li>
<li>â€œæˆ‘è„‘ä¸­æœ‰ä¸ªæ—‹å¾‹ï¼Œå¸®æˆ‘å˜æˆäº¤å“ä¹ã€‚â€</li>
</ul>
<p>ğŸ’¡ è½¯ä»¶å°†ä¸å†æ˜¯å·¥å…·ï¼Œè€Œæ˜¯â€œç†è§£æ„å›¾â€çš„<strong>æ‰§è¡Œä½“</strong>ã€‚</p>
<blockquote>
<p>æˆ‘ä»¬ä»â€œç‚¹å¼€ Excelâ€è¿›åŒ–æˆäº†â€œExcelï¼Œä½ æ‡‚æˆ‘æ„æ€å§ï¼Ÿâ€</p>
</blockquote>
<hr/>
<h2 data-id="heading-1">ğŸŒ äºŒã€æ¥å£çš„æ¶ˆå¤±ï¼šä» UI åˆ° "NI"ï¼ˆNeural Interfaceï¼‰</h2>
<p>ä¼ ç»Ÿçš„å›¾å½¢ç•Œé¢ï¼ˆGUIï¼‰æ˜¯äººç±»ä¸æœºå™¨ä¹‹é—´çš„æŠ˜ä¸­æ–¹æ¡ˆã€‚<br/>
ä½ æƒ³è¡¨è¾¾â€œè®¡ç®—ä¸€ä¸‹æœˆä¾›â€ï¼Œå¯è½¯ä»¶å´è¦çŸ¥é“ï¼š</p>
<ul>
<li>è´·æ¬¾é‡‘é¢ï¼Ÿ</li>
<li>å¹´é™ï¼Ÿ</li>
<li>åˆ©ç‡ï¼Ÿ</li>
</ul>
<p>æœªæ¥è½¯ä»¶ä¸ä¼šå†é—®è¿™äº›é—®é¢˜ï¼Œå®ƒä¼šç›´æ¥ç†è§£ä½ çš„<strong>ä¸Šä¸‹æ–‡è¯­ä¹‰</strong>ã€‚</p>
<p>å‡è®¾ä½ éšå£è¯´äº†ä¸€å¥ï¼š</p>
<blockquote>
<p>â€œæˆ‘æƒ³çŸ¥é“è¿™ä¸ªæˆ¿è´·æˆ‘èƒ½ä¸èƒ½æ‰›å¾—ä½ã€‚â€</p>
</blockquote>
<p>ç³»ç»Ÿä¼šï¼š</p>
<ol>
<li>è‡ªåŠ¨è¯»å–ä½ çš„å·¥èµ„æµæ°´ï¼ˆå½“ç„¶ä½ æˆæƒçš„é‚£éƒ¨åˆ† ğŸ˜ï¼‰</li>
<li>æ¨ç†ä½ çš„æ¶ˆè´¹ä¹ æƒ¯</li>
<li>ç»™å‡ºç»“è®ºï¼šâ€œå¦‚æœä½ å°‘å–ä¸¤æ¯æ˜Ÿå·´å…‹ï¼Œä¸€ä¸ªæœˆå°±èƒ½æ¢ä¸€å¹³æ–¹ç±³é˜³å°ã€‚â€</li>
</ol>
<p>è¿™ä¸æ˜¯æ¥å£ï¼Œè¿™æ˜¯<strong>äº¤äº’çš„æ¶ˆè§£</strong>ã€‚</p>
<p>âœ¨ <strong>UIï¼ˆUser Interfaceï¼‰å°†é€€åŒ–æˆä¸€ç§çºªå¿µç¢‘</strong>ï¼Œ<br/>
è€Œæ–°çš„â€œNIï¼ˆNeural Interfaceï¼‰â€ä¸äººç±»çš„è‡ªç„¶è¯­ä¹‰æ·±åº¦ç»‘å®šã€‚</p>
<hr/>
<h2 data-id="heading-2">âš™ï¸ ä¸‰ã€è½¯ä»¶é€»è¾‘çš„è¿›åŒ–ï¼šä»â€œæ“ä½œæµâ€åˆ°â€œæ„å›¾ç¼–æ’â€</h2>
<p>åœ¨åº•å±‚è®¾è®¡ä¸Šï¼Œæœªæ¥è½¯ä»¶ä¸å†ä»¥â€œåŠŸèƒ½æ¨¡å—â€ä¸ºæ ¸å¿ƒï¼Œè€Œä»¥â€œæ„å›¾å›¾è°±â€ä¸ºæ ¸å¿ƒã€‚</p>
<p>ç®€å•è¯´ï¼Œä»¥å‰æ˜¯ç¨‹åºåœ¨<strong>ç­‰ä½ ç‚¹æŒ‰é’®</strong>ï¼Œ<br/>
æœªæ¥æ˜¯ç³»ç»Ÿåœ¨<strong>å¯»æ‰¾ä½ å†…å¿ƒçš„ç»ˆç‚¹</strong>ã€‚</p>
<p>è®©æˆ‘ä»¬ç”¨ä¸€ç§è¯—æ„çš„æ–¹å¼ï¼Œå†™å‡ºæœªæ¥â€œè½¯ä»¶çš„çµé­‚â€ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ„å›¾é©±åŠ¨çš„è½¯ä»¶åŸå‹</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">FutureSoftware</span> {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">understand</span>(<span class="hljs-params">userIntent</span>) {
    <span class="hljs-keyword">const</span> meaning = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.parseIntent(userIntent)
    <span class="hljs-keyword">const</span> plan = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">composeActions</span>(meaning)
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">execute</span>(plan)
  }

  <span class="hljs-title function_">parseIntent</span>(<span class="hljs-params">intent</span>) {
    <span class="hljs-comment">// ä¸€ç‚¹ç‚¹ç¥ç»ç½‘ç»œçš„æµªæ¼«</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">"decode the human heart ğŸ’–"</span>
  }

  <span class="hljs-title function_">composeActions</span>(<span class="hljs-params">meaning</span>) {
    <span class="hljs-keyword">return</span> [<span class="hljs-string">"analyze context"</span>, <span class="hljs-string">"gather data"</span>, <span class="hljs-string">"act precisely"</span>]
  }

  <span class="hljs-title function_">execute</span>(<span class="hljs-params">plan</span>) {
    <span class="hljs-keyword">return</span> plan.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">step</span> =&gt;</span> <span class="hljs-string">`âœ… <span class="hljs-subst">${step}</span>`</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">"\n"</span>)
  }
}

<span class="hljs-comment">// ä½¿ç”¨æ–¹å¼</span>
<span class="hljs-keyword">const</span> assistant = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FutureSoftware</span>()
assistant.<span class="hljs-title function_">understand</span>(<span class="hljs-string">"å¸®æˆ‘å†™ä¸ªæœ‰çµé­‚çš„ç¨‹åº"</span>)
</code></pre>
<p>æœ€åçš„è¾“å‡ºä¹Ÿè®¸æ˜¯ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">âœ… analyze context  
âœ… gather <span class="hljs-keyword">data</span>  
âœ… act precisely  
âœ¨ Hereâ€™s your soulful program.
</code></pre>
<hr/>
<h2 data-id="heading-3">ğŸ§© å››ã€è¯­è¨€åˆ°â€œè¯­å¢ƒâ€ï¼šç¼–ç¨‹çš„ç»ˆç»“ä¸é‡ç”Ÿ</h2>
<p>æˆ‘ä»¬è¿™ä¸€ä»£ç¨‹åºå‘˜ï¼Œå†™äº†ä¸Šäº¿è¡Œä»£ç ã€‚<br/>
å¯åœ¨æœªæ¥ï¼Œä¹Ÿè®¸ä½ åªéœ€è¯´ä¸€å¥è¯ï¼š</p>
<blockquote>
<p>â€œç»™æˆ‘ä¸€ä¸ªèƒ½è‡ªåŠ¨è¯†åˆ«æƒ…ç»ªå¹¶æ¨èéŸ³ä¹çš„ç³»ç»Ÿã€‚â€</p>
</blockquote>
<p>ç³»ç»Ÿä¾¿ä¼šèåˆï¼š</p>
<ul>
<li>çŸ¥è¯†å›¾è°±</li>
<li>æ¨¡å‹æ¨ç†</li>
<li>æƒ…å¢ƒé€‚é…</li>
<li>è‡ªå­¦ä¹ åé¦ˆ</li>
</ul>
<p>æœ€ç»ˆæ„å»ºå‡ºä¸€ä¸ªä½ å‡ ä¹<strong>æ— æ³•å¤ç°</strong>çš„å¤æ‚ç”Ÿæ€ã€‚</p>
<p>åˆ°é‚£æ—¶ï¼Œç¼–ç¨‹è¯­è¨€å°†ä¸å†æ˜¯äººç±»çš„çº¦æŸç¬¦å·ï¼Œ<br/>
è€Œæ˜¯æœºå™¨ä¹‹é—´ç”¨æ¥ç†è§£<strong>æˆ‘ä»¬çš„æ¨¡ç³Šé€»è¾‘</strong>çš„ä¸­ä»‹è¯­è¨€ã€‚</p>
<p>é‚£æ—¶å€™çš„ JavaScript å¯èƒ½å†™èµ·æ¥è¿™æ ·ï¼š</p>
<pre><code class="hljs language-erlang" lang="erlang"><span class="hljs-function"><span class="hljs-title">intent</span><span class="hljs-params">(<span class="hljs-string">"buildMoodAI"</span>)</span>
  .<span class="hljs-title">because</span><span class="hljs-params">(<span class="hljs-string">"userFeelsBlue"</span>)</span>
  .<span class="hljs-title">so</span><span class="hljs-params">(<span class="hljs-string">"generatePlaylist('hopeful jazz')"</span>)</span>
  .<span class="hljs-title">then</span><span class="hljs-params">(<span class="hljs-string">"smileDetected =&gt; add('Lo-fi warm vibes')"</span>)</span>
</span></code></pre>
<p>æ¯ä¸€è¡Œéƒ½åƒä¸€é¦–ç®€çŸ­çš„è¯—ã€‚ğŸª¶</p>
<hr/>
<h2 data-id="heading-4">âš¡ äº”ã€çœŸæ­£çš„æœªæ¥ï¼šè½¯ä»¶ â‰  å·¥å…·ï¼Œè€Œæ˜¯ä¼™ä¼´</h2>
<p>æœªæ¥çš„è½¯ä»¶ä¸æ˜¯å†·å†°å†°çš„ç¨‹åºç•Œé¢ï¼Œè€Œæ˜¯å…·æœ‰<strong>å…±æƒ…åŠ›çš„æ‰§è¡Œè€…</strong>ï¼š</p>
<ul>
<li>å®ƒä¼šæå‰çŸ¥é“ä½ ä»Šå¤©æƒ³å·æ‡’ã€‚</li>
<li>å®ƒä¼šè¯†åˆ«ä½ è¯´â€œç®—äº†å§â€å…¶å®æ˜¯â€œå¸®æˆ‘å†è¯•è¯•â€ã€‚</li>
<li>å®ƒä¼šæ‡‚å¾—â€œä¿å­˜â€å…¶å®æ˜¯â€œåˆ«è®©æˆ‘å¤±å»è¿™ä¸€åˆ»â€ã€‚</li>
</ul>
<p>ğŸ’¬ å®ƒä¸åœ¨ä½ æŒ‡å°–ï¼Œè€Œåœ¨ä½ æ„å›¾èŒç”Ÿçš„ç¬é—´ã€‚</p>
<p>æœªæ¥çš„è½¯ä»¶ï¼Œä¹Ÿè®¸ä¼šææƒšåœ°å›æœ›æˆ‘ä»¬è¿™ä¸ªæ—¶ä»£ï¼Œè¯´ï¼š</p>
<blockquote>
<p>â€œä»–ä»¬è¿˜è¦æ‰“å¼€ä¸€ä¸ªå«â€˜åº”ç”¨â€™çš„ä¸œè¥¿ï¼ŒçœŸå¯çˆ±å‘€ã€‚â€ ğŸ£</p>
</blockquote>
<hr/>
<h2 data-id="heading-5">ğŸŒˆ å…­ã€ç»“è¯­ï¼šç¼–ç¨‹çš„æµªæ¼«ï¼ŒAIçš„è¯—æ€§</h2>
<p>ä¹Ÿè®¸æœªæ¥çš„è®¡ç®—ä¸–ç•Œï¼Œä¸æ˜¯ç”¨ä»£ç æ­å»ºçš„ï¼Œè€Œæ˜¯ç”¨ç†è§£ç¼–ç»‡çš„ã€‚</p>
<p>å½“æœºå™¨æ‡‚å¾—æ¨¡ä»¿â€œæƒ³è¦â€ï¼Œ<br/>
å½“è½¯ä»¶å­¦ä¼šå…±é¸£â€œæ„å›¾â€ï¼Œ<br/>
æˆ‘ä»¬æˆ–è®¸æ‰çœŸæ­£<strong>å®Œæˆäº†äººæœºåå¥æ›²çš„ç¬¬ä¸€ç« </strong>ã€‚</p>
<p><strong>æœªæ¥çš„è½¯ä»¶ä¸æ˜¯æˆ‘ä»¬ä½¿ç”¨çš„ã€‚</strong><br/>
å®ƒæ˜¯é‚£ç§ï¼Œ<br/>
ä½ ä¸€å¥â€œæˆ‘æœ‰ä¸ªæƒ³æ³•â€ï¼Œ<br/>
å®ƒå°±è½»è½»å›ç­”ï¼š</p>
<blockquote>
<p>â€œæˆ‘çŸ¥é“ã€‚å·²ç»å¼€å§‹åšäº† â¤ï¸â€</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2026å¹´Cursorå…¨æ”»ç•¥ï¼šAIç¼–ç¨‹è¿›é˜¶å®æˆ˜]]></title>    <link>https://juejin.cn/post/7595053284914987048</link>    <guid>https://juejin.cn/post/7595053284914987048</guid>    <pubDate>2026-01-14T16:26:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595053284914987048" data-draft-id="7594851429163237410" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2026å¹´Cursorå…¨æ”»ç•¥ï¼šAIç¼–ç¨‹è¿›é˜¶å®æˆ˜"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-14T16:26:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç±³ä¸€å¤š"/> <meta itemprop="url" content="https://juejin.cn/user/3825956198025239"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2026å¹´Cursorå…¨æ”»ç•¥ï¼šAIç¼–ç¨‹è¿›é˜¶å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3825956198025239/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç±³ä¸€å¤š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-14T16:26:30.000Z" title="Wed Jan 14 2026 16:26:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    10
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>2026 å¹´ AI ç¼–ç¨‹å°†å…¨é¢æ™®åŠï¼Œä¸€èµ·åŠ æ²¹ï¼</p>
<p>åº”è¯¥æ˜¯ä» 2025 å¹´ä¸‹åŠå¹´å¼€å§‹ï¼Œ AI ç¼–ç¨‹æ…¢æ…¢æ™®åŠå¼€æ¥ï¼Œæˆ‘ä¹Ÿä» VSCode åˆ‡æ¢åˆ° Cursor ï¼Œæ„Ÿè§‰ç°åœ¨è¶Šæ¥è¶Šä¾èµ– AI ç¼–ç¨‹ã€‚é‡åˆ°ä»€ä¹ˆéœ€æ±‚éƒ½è¦å…ˆç»™ Cursor å†™ä¸€æ®µ prompt ï¼Œé‡åˆ° bug éƒ½è¦æŠŠæŠ¥é”™ä¿¡æ¯å¤åˆ¶ç»™ Cursor ç­‰å¾…å®ƒæ¥è§£å†³ã€‚ä½† Cursor ä½œä¸ºæœ€å¼ºå¤§çš„ AI ç¼–ç¨‹å·¥å…·ä¹‹ä¸€ï¼Œä¸ä»…ä»…åªæœ‰ä¸€ä¸ª input ã€ä¸€ä¸ª agent æ¨¡å¼ï¼Œå®ƒè¿˜æœ‰å¾ˆå¤šå’Œ AI å¼€å‘ç›¸å…³çš„åŠŸèƒ½ã€‚</p>
<p><strong>Agent æ¨¡å¼</strong></p>
<p>è¿™æ˜¯æœ€å¸¸ç”¨çš„æ–¹å¼ï¼Œåœ¨å³ä¾§ input ä¸­è¾“å…¥æˆ‘ä»¬çš„éœ€æ±‚ï¼Œç­‰å¾… Cursor ç”Ÿæˆä»£ç ã€‚</p>
<p><img src="https://nunuai-airticel.oss-cn-beijing.aliyuncs.com/images/%E4%B8%8D%E6%AD%A2%E6%9C%89ag_4.jpg" alt="Image" loading="lazy"/></p>
<p>åŒæ—¶è¿™é‡Œçš„åŠŸèƒ½ä¹Ÿæœ€ä¸ºä¸°å¯Œã€‚é™¤äº†è‡ªå·±è¾“å…¥ï¼Œä½ è¿˜å¯ä»¥é€‰ä¸­ä¸€æ®µä»£ç ã€æˆ–ç€ä¸€æ®µæŠ¥é”™ä¿¡æ¯ï¼Œç‚¹å‡» Add to chat æŒ‰é’®ï¼ŒæŠŠè¿™äº›å†…å®¹ä¼ é€’ç»™ AIã€‚</p>
<p><img src="https://nunuai-airticel.oss-cn-beijing.aliyuncs.com/images/%E4%B8%8D%E6%AD%A2%E6%9C%89ag_5.jpg" alt="Image" loading="lazy"/></p>
<p>ä½ å¯ä»¥é€šè¿‡ @ ç¬¦å·æ¥å¢åŠ ä¸Šä¸‹æ–‡ï¼Œä¾‹å¦‚è¿™æ¬¡éœ€æ±‚å¯èƒ½æ¶‰åŠåˆ°å¦å¤–å‡ ä¸ªæ–‡ä»¶ï¼Œå°±å¯ä»¥å¼•å…¥è¿›æ¥ï¼Œè®© AI çŸ¥é“ã€‚</p>
<p><img src="https://nunuai-airticel.oss-cn-beijing.aliyuncs.com/images/%E4%B8%8D%E6%AD%A2%E6%9C%89ag_6_wm.jpg" alt="Image" loading="lazy"/></p>
<p>ä½ è¿˜å¯ä»¥é€šè¿‡ / æ¥ä½¿ç”¨ command å‘½ä»¤ã€‚å‘½ä»¤è¦è‡ªå·±å®šä¹‰ï¼Œåœ¨ .cursor/commands/ ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª xxx.md æ–‡ä»¶å³å¯å®šä¹‰ä¸€ä¸ªå‘½ä»¤ã€‚</p>
<p><img src="https://nunuai-airticel.oss-cn-beijing.aliyuncs.com/images/%E4%B8%8D%E6%AD%A2%E6%9C%89ag_8_wm.jpg" alt="Image" loading="lazy"/></p>
<p><strong>Plan æ¨¡å¼</strong></p>
<p>å¯¹äºä¸€äº›æ¯”è¾ƒå¤æ‚çš„åŠŸèƒ½ï¼Œå¯ä»¥ä¸ç”¨ agent æ¨¡å¼ï¼Œæ”¹ç”¨ plan æ¨¡å¼ã€‚</p>
<p><img src="https://nunuai-airticel.oss-cn-beijing.aliyuncs.com/images/%E4%B8%8D%E6%AD%A2%E6%9C%89ag_9_wm.jpg" alt="Image" loading="lazy"/></p>
<p>å°½é‡è¯¦ç»†çš„æè¿°ä½ çš„éœ€æ±‚ã€‚Cursor ä¼šæ ¹æ®ä½ çš„éœ€æ±‚ï¼Œæ•´ç†ä¸€ä¸ª plan è®¡åˆ’ï¼Œä½ å¯ä»¥è‡ªå·±ä¿®æ”¹è¿™ä¸ªè®¡åˆ’ã€‚</p>
<p><img src="https://nunuai-airticel.oss-cn-beijing.aliyuncs.com/images/%E4%B8%8D%E6%AD%A2%E6%9C%89ag_10_wm.jpg" alt="Image" loading="lazy"/></p>
<p>æ²¡é—®é¢˜äº†å†ç‚¹å‡» build æŒ‰é’®ã€‚</p>
<p><strong>ç¼–å†™è§„åˆ™</strong></p>
<p>å°±åƒ system prompt ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰å½“å‰ä»£ç åº“çš„ç»Ÿä¸€çš„è§„åˆ™å’Œè¦æ±‚ï¼Œè¿™æ˜¯æ‰€æœ‰çš„ AI ç¼–ç¨‹å·¥å…·éƒ½å…·å¤‡çš„åŠŸèƒ½ã€‚åœ¨ .cursor/rules/ ç›®å½•ä¸‹ï¼Œæ–°å»ºä¸€ä¸ª xxx.mdc æ–‡ä»¶</p>
<p><img src="https://nunuai-airticel.oss-cn-beijing.aliyuncs.com/images/%E4%B8%8D%E6%AD%A2%E6%9C%89ag_0_wm.jpg" alt="Image" loading="lazy"/></p>
<p>ï¼Œä¸€èˆ¬å†™å½“å‰é¡¹ç›®çš„éœ€æ±‚èƒŒæ™¯ã€æŠ€æœ¯æ ˆã€æ ¸å¿ƒçš„åŸåˆ™å’Œè§„åˆ™ã€æ³¨æ„äº‹é¡¹ç­‰ã€‚å½“ä½ é€‰æ‹© Always Apply æ—¶ï¼Œå®ƒä¼šåœ¨æ¯æ¬¡ AI è¯·æ±‚æ—¶éƒ½æºå¸¦ï¼Œè¿™æ ·å°±èƒ½æœ€å¤§ç¨‹åº¦çš„ä¿éšœ AI å›ç­”çš„å‡†ç¡®æ€§ã€‚</p>
<p><strong>é…ç½® MCP</strong></p>
<p>åœ¨è¿™ä¸ªé¡µé¢å¯ä»¥çœ‹åˆ° Cursor æ”¯æŒçš„æ‰€æœ‰ MCP server cursor.com/cn/docs/context/mcp ï¼Œè¿˜æ˜¯å›½å¤–çš„å¤š... é€‰æ‹©ä¸€ä¸ªå®‰è£…å³å¯ã€‚å®‰è£…å®Œæˆï¼Œåœ¨ Cursor è®¾ç½®é¡µé¢å¯ä»¥çœ‹åˆ°è¿™ä¸ª MCP server ä»¥åŠå®ƒæœ‰å‡ ä¸ª toolsã€‚</p>

<p>MCP server è¦æœ‰é€‰æ‹©æ€§çš„å®‰è£…ï¼Œä¸è¦å®‰è£…å¤ªå¤šï¼Œå¦åˆ™å¯èƒ½ä¼šæ¶ˆè€—å¤ªå¤š tokens æˆ–å½±å“ AI å“åº”é€Ÿåº¦ã€‚</p>
<p>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œå¦‚æœä½ åœ¨å¼€å‘è¿‡ç¨‹ä¸­éœ€è¦æ›´çµæ´»åœ°åˆ‡æ¢ä¸åŒçš„é¡¶çº§æ¨¡å‹ï¼Œæˆ–è€…å¸Œæœ›åœ¨å›½å†…ç¯å¢ƒæ›´ç¨³å®šåœ°ç›´è¿ä½¿ç”¨æµ·å¤– AI å¤§æ¨¡å‹ï¼Œå¯ä»¥å°è¯• <a href="https://link.juejin.cn?target=https%3A%2F%2Fnunu.chat" target="_blank" title="https://nunu.chat" ref="nofollow noopener noreferrer">nunu.chat</a>ã€‚ä½œä¸ºä¸€ä¸ªå¤šæ¨¡å‹èšåˆå¹³å°ï¼Œnunu.chat æä¾›äº†å¤§é‡çš„å…è´¹é¢åº¦ï¼Œéå¸¸é€‚åˆå¼€å‘è€…åœ¨è°ƒè¯•ä¸åŒ Prompt æ•ˆæœæ—¶é…åˆ Cursor ä½¿ç”¨ã€‚</p>
<p><strong>ctrl+k å†…è”ç¼–è¾‘é€‰å–</strong></p>
<p>å½“ä½ åªæƒ³è¦æ”¹é€ ä¸€è¡Œæˆ–è€…å‡ è¡Œä»£ç æ—¶ï¼Œå¯ä»¥é€‰ä¸­è¿™å‡ è¡Œä»£ç ï¼Œä½¿ç”¨ ctrl+k å¯ä»¥å¼¹å‡ºä¸€ä¸ª AI è¾“å…¥æ¡†ï¼Œè¾“å…¥ä½ çš„è¦æ±‚ï¼Œåªä¿®æ”¹é€‰ä¸­çš„ä»£ç ã€‚</p>
<p><img src="https://nunuai-airticel.oss-cn-beijing.aliyuncs.com/images/%E4%B8%8D%E6%AD%A2%E6%9C%89ag_2_wm.jpg" alt="Image" loading="lazy"/></p>
<p><strong>tab è‡ªåŠ¨è¡¥å…¨</strong></p>
<p>è¿™æ˜¯æœ€æ—©çš„ AI ç¼–ç¨‹åŠŸèƒ½ï¼Œ2å¹´ä¹‹å‰å°±æœ‰äº†ï¼Œå¯¹äºåˆšå¼€å§‹ä½¿ç”¨ AI ç¼–ç¨‹çš„äººæ¯”è¾ƒå‹å¥½ã€‚ä¾‹å¦‚åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨ï¼Œå†™ä¸Šä¸€è¡Œä»£ç ï¼Œæˆ–è€…ä¸€è¡Œæ³¨é‡Šï¼Œå›è½¦ï¼ŒAI ä¼šè‡ªåŠ¨è¡¥å…¨æ¥ä¸‹æ¥çš„ä»£ç ã€‚ä½ ä½¿ç”¨ tab å³å¯è‡ªåŠ¨è¾“å…¥è¿™äº›ä»£ç ã€‚</p>
<p><img src="https://nunuai-airticel.oss-cn-beijing.aliyuncs.com/images/%E4%B8%8D%E6%AD%A2%E6%9C%89ag_1_wm.jpg" alt="Image" loading="lazy"/></p>
<p>å½“ä½ å†™çš„å‡½æ•°åç§°ã€æ³¨é‡Šã€ä»£ç å¯è¯»æ€§å¥½çš„æ—¶å€™ï¼ŒAI çš„è¡¥å…¨å‡†ç¡®åº¦è¿˜æ˜¯æŒºé«˜çš„ã€‚</p>
<p>æ­¤å¤–ï¼Œæˆ‘æ­£åœ¨å¼€å‘ä¸€ä¸ª AI Agent æ™ºèƒ½ä½“é¡¹ç›®ã€æ™ºè¯­ã€‘ä¸€ä¸ªæ™ºèƒ½é¢è¯•å®˜ï¼Œå¯ä»¥ä¼˜åŒ–ç®€å†ã€æ¨¡æ‹Ÿé¢è¯•ã€è§£ç­”é¢˜ç›®ç­‰ã€‚æœ‰å…´è¶£çš„åŒå­¦å¯ä»¥å›´è§‚ã€å­¦ä¹ ã€‚</p>
<p><strong>æœ€å</strong></p>
<p>å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚å¤šå¤šå°è¯• Cursor çš„ä½¿ç”¨æŠ€å·§ï¼Œç”¨å¤šäº†å°±ç†Ÿç»ƒäº†ã€‚å¢åŠ ä¸ªäººå¼€å‘æ•ˆç‡ï¼Œè€Œä¸”åœ¨åŒäº‹ä¹‹é—´ä¼šæ˜¾å¾—æ¯”è¾ƒä¸“ä¸šã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¿®å¤ Xinference + vLLM å¯åŠ¨å¤±è´¥ï¼š0 bytes read é”™è¯¯çš„çœŸå®åŸå› ä¸è§£å†³æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7595164177255120922</link>    <guid>https://juejin.cn/post/7595164177255120922</guid>    <pubDate>2026-01-15T02:49:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595164177255120922" data-draft-id="7595142737513398299" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¿®å¤ Xinference + vLLM å¯åŠ¨å¤±è´¥ï¼š0 bytes read é”™è¯¯çš„çœŸå®åŸå› ä¸è§£å†³æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-15T02:49:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°çˆ·æ¯›æ¯›_å“å¯¿æ°"/> <meta itemprop="url" content="https://juejin.cn/user/1834420153877037"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¿®å¤ Xinference + vLLM å¯åŠ¨å¤±è´¥ï¼š0 bytes read é”™è¯¯çš„çœŸå®åŸå› ä¸è§£å†³æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1834420153877037/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°çˆ·æ¯›æ¯›_å“å¯¿æ°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-15T02:49:04.000Z" title="Thu Jan 15 2026 02:49:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>é‡ç£…æ¨èä¸“æ ï¼š
<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fu011239443%2Fcategory_12095381.html" target="_blank" title="https://blog.csdn.net/u011239443/category_12095381.html" ref="nofollow noopener noreferrer">ã€Šå¤§æ¨¡å‹AIGCã€‹</a>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fu011239443%2Farticle%2Fdetails%2F132688694" target="_blank" title="https://blog.csdn.net/u011239443/article/details/132688694" ref="nofollow noopener noreferrer">ã€Šè¯¾ç¨‹å¤§çº²ã€‹</a>
<a href="https://link.juejin.cn?target=https%3A%2F%2Ft.zsxq.com%2F17pscrZpc" target="_blank" title="https://t.zsxq.com/17pscrZpc" ref="nofollow noopener noreferrer">ã€ŠçŸ¥è¯†æ˜Ÿçƒã€‹</a></strong></p>
</blockquote>
<blockquote>
<p><strong>æœ¬ä¸“æ ç³»ç»Ÿä»‹ç»äº†å¤§è¯­è¨€æ¨¡å‹(LLM)åŠå…¶ç›¸å…³æŠ€æœ¯çš„ç³»åˆ—æ–‡ç« ã€‚ç¬¬ä¸€ç« ä»LLMåŸºç¡€æ¦‚å¿µå…¥æ‰‹ï¼Œæ¶µç›–æ–‡æœ¬å‘é‡åŒ–ã€ChatGPTåº”ç”¨ã€æ¨¡å‹æ¶æ„ç­‰åŸºç¡€çŸ¥è¯†ï¼Œå¹¶é’ˆå¯¹Qwen3æ¨¡å‹è¿›è¡Œäº†6ç¯‡æŠ€æœ¯æŠ¥å‘Šçš„æ·±åº¦è§£è¯»ã€‚ç¬¬äºŒç« èšç„¦RAG(æ£€ç´¢å¢å¼ºç”Ÿæˆ)ä¸AgentæŠ€æœ¯ï¼ŒåŒ…æ‹¬RAGæ¶æ„å®è·µã€çŸ¥è¯†å›¾è°±åº”ç”¨å’Œå¤šç¯‡è¡Œä¸šæ¡ˆä¾‹è§£æï¼ŒåŒæ—¶åŒ…å«17ç¯‡Difyæ¡†æ¶æ ¸å¿ƒæºç çš„æ¨¡å—åŒ–è§£è¯»ã€‚æ–‡ç« å†…å®¹æ¶µç›–ä»åŸºç¡€ç†è®ºåˆ°è¡Œä¸šåº”ç”¨çš„å…¨æ–¹ä½æŠ€æœ¯è§£æï¼Œä¸ºå¼€å‘è€…æä¾›äº†å¤§è¯­è¨€æ¨¡å‹æŠ€æœ¯è½åœ°çš„å®Œæ•´çŸ¥è¯†ä½“ç³»ã€‚</strong></p>
</blockquote>
<blockquote>
<p>ä¸€å¥è¯æ€»ç»“ï¼šå½“ä½¿ç”¨ Xinference åŸºäº vLLM å¼•æ“éƒ¨ç½² Qwen2.5-14B-GPTQ-Int4 ç­‰å¤§æ¨¡å‹æ—¶ï¼Œè‹¥å‡ºç° <strong>Remote server unixsocket:///xxx closed: 0 bytes read on a total of 11 expected bytes</strong> é”™è¯¯ï¼Œ<strong>æ ¹æœ¬åŸå› æ˜¯ vLLM åˆå§‹åŒ–é˜¶æ®µå› ç³»ç»Ÿè™šæ‹Ÿå†…å­˜ï¼ˆSwapï¼‰ä¸è¶³è€Œå´©æºƒ</strong>ã€‚æœ¬æ–‡å°†ç»“åˆ vLLM ç‰¹æ€§ï¼Œç»™å‡ºç²¾å‡†ä¿®å¤æ–¹æ¡ˆã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ğŸ”¥ é—®é¢˜ç°è±¡ï¼švLLM æ¨¡å¼ä¸‹å¤§æ¨¡å‹å¯åŠ¨å¤±è´¥</h2>
<pre><code class="hljs language-bash" lang="bash">xinference launch --model qwen2.5-instruct --model-engine vLLM
...
å¯åŠ¨æ¨¡å‹ <span class="hljs-string">"qwen2.5-instruct"</span> æ—¶å‘ç”Ÿé”™è¯¯:
[address=0.0.0.0:43576, pid=3689]
Remote server unixsocket:///247564599296 closed:
0 bytes <span class="hljs-built_in">read</span> on a total of 11 expected bytes
</code></pre>
<p>ä½†è½»é‡æ¨¡å‹çš„åµŒå…¥æ¨¡å‹ä»å¯æ­£å¸¸è¿è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">xinference launch --model bge-m3  <span class="hljs-comment"># âœ… æˆåŠŸ</span>
</code></pre>
<p>å…³é”®èƒŒæ™¯ï¼š</p>
<ul>
<li>ä½¿ç”¨ <strong>vLLM ä½œä¸ºæ¨ç†å¼•æ“</strong></li>
<li>æ¨¡å‹ä¸º Qwen2.5-14B-GPTQ-Int4ï¼ˆçº¦ 8â€“9GB ç£ç›˜å¤§å°ï¼‰</li>
<li>GPU æ˜¾å­˜å……è¶³ï¼ˆå¦‚ A10/A100/L40ï¼Œâ‰¥24GBï¼‰</li>
<li>ç³»ç»Ÿå†…å­˜ 32GBï¼Œå¯ç”¨çº¦ 6GB</li>
<li>GPU é©±åŠ¨å’Œ CUDA ç¯å¢ƒæ­£å¸¸</li>
</ul>
<hr/>
<h2 data-id="heading-1">ğŸ” æ ¹æœ¬åŸå› ï¼švLLM åˆå§‹åŒ–çš„è™šæ‹Ÿå†…å­˜éœ€æ±‚</h2>
<p>è™½ç„¶ vLLM ä»¥é«˜æ•ˆæ˜¾å­˜ç®¡ç†è‘—ç§°ï¼Œä½†å…¶ <strong>Python ä¸»è¿›ç¨‹åœ¨å¯åŠ¨æ—¶ä»éœ€å¤§é‡ç³»ç»Ÿèµ„æº</strong>ï¼ŒåŒ…æ‹¬ï¼š</p>
<ol>
<li><strong>åŠ è½½ tokenizer å’Œé…ç½®æ–‡ä»¶</strong>ï¼ˆæ•°ç™¾ MBï¼‰</li>
<li><strong>åˆå§‹åŒ– Ray åˆ†å¸ƒå¼è¿è¡Œæ—¶</strong>ï¼ˆXinference é»˜è®¤å¯ç”¨ Rayï¼‰</li>
<li><strong>æ„å»º vLLM Engine å®ä¾‹</strong>ï¼ˆå³ä½¿æ¨¡å‹æƒé‡æœ€ç»ˆåŠ è½½åˆ° GPUï¼Œåˆå§‹åŒ–è¿‡ç¨‹ä»éœ€ç³»ç»Ÿè™šæ‹Ÿå†…å­˜ï¼‰</li>
</ol>
<h3 data-id="heading-2">å…³é”®æœºåˆ¶ï¼šRay ä¸ Swap çš„å¼ºä¾èµ–</h3>
<p>Xinference åœ¨ä½¿ç”¨ vLLM æ—¶ï¼Œä¼šè‡ªåŠ¨å¯åŠ¨ <strong>Ray é›†ç¾¤</strong>ï¼ˆç”¨äºè¿›ç¨‹éš”ç¦»å’Œé€šä¿¡ï¼‰ã€‚è€Œ Ray å¯¹ç³»ç»Ÿè™šæ‹Ÿå†…å­˜éå¸¸æ•æ„Ÿï¼š</p>
<ul>
<li>è‹¥ Swap ç©ºé—´è€—å°½ï¼ŒRay Worker è¿›ç¨‹å¯èƒ½å›  mmap å¤±è´¥æˆ–åœ°å€ç©ºé—´ä¸è¶³è€Œå´©æºƒ</li>
<li>ä¸»è¿›ç¨‹å°è¯•é€šè¿‡ Unix Socket ä¸å­è¿›ç¨‹é€šä¿¡ â†’ å­è¿›ç¨‹å·²é€€å‡º â†’ <strong>0 bytes read</strong></li>
</ul>
<p>è¿™æ­£æ˜¯é”™è¯¯æ—¥å¿—çš„æ¥æºã€‚</p>
<h2 data-id="heading-3">ğŸ“Š é—®é¢˜å¤ç°ï¼šSwap ç”¨å°½æ˜¯ç›´æ¥è¯±å› </h2>
<pre><code class="hljs language-bash" lang="bash">$ free -h
              total    used    free   shared  buff/cache   available
Mem:            31G     24G    6.4G      56M         495M        6.4G
Swap:           2G      2G      0B   <span class="hljs-comment"># â† Swap å·²å®Œå…¨è€—å°½ï¼</span>
</code></pre>
<p>å°½ç®¡ç‰©ç†å†…å­˜ä»æœ‰ 6.4GB å¯ç”¨ï¼Œ**ä½† Linux å†…æ ¸åœ¨åˆ†é…å¤§å—è™šæ‹Ÿåœ°å€ç©ºé—´æ—¶ï¼Œä¼šåŒæ—¶è€ƒè™‘ RAM + Swap çš„æ€»å®¹é‡ã€‚**å½“ Swap ç”¨å°½ï¼Œå³ä½¿ RAM å……è¶³ï¼ŒæŸäº›å†…å­˜æ˜ å°„æ“ä½œä»å¯èƒ½å¤±è´¥ã€‚</p>
<hr/>
<h2 data-id="heading-4">ğŸ› ï¸ æ­£ç¡®è§£å†³æ–¹æ¡ˆï¼šæ‰©å…… Swap ç©ºé—´ï¼ˆé€šç”¨ä¸”æœ‰æ•ˆï¼‰</h2>
<h3 data-id="heading-5">âœ… æ“ä½œæ­¥éª¤ï¼ˆé€‚ç”¨äº vLLM + Xinferenceï¼‰</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å…³é—­å½“å‰ Swapï¼ˆå¿…é¡»å…ˆé‡Šæ”¾ï¼‰</span>
sudo swapoff /swapfile

<span class="hljs-comment"># 2. åˆ›å»ºæ–°çš„ Swap æ–‡ä»¶ï¼ˆå»ºè®® 6â€“10GBï¼Œæ ¹æ®ç£ç›˜ç©ºé—´è°ƒæ•´ï¼‰</span>
sudo fallocate -l 8G /swapfile
sudo <span class="hljs-built_in">chmod</span> 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile

<span class="hljs-comment"># 3. éªŒè¯</span>
free -h
<span class="hljs-comment"># åº”çœ‹åˆ° Swap total â‰¥ 8Gï¼Œavailable æ¥è¿‘ total</span>
</code></pre>
<h3 data-id="heading-6">âœ… é‡æ–°å¯åŠ¨æ¨¡å‹ï¼ˆæ— éœ€ä¿®æ”¹å‘½ä»¤ï¼‰</h3>
<pre><code class="hljs language-bash" lang="bash">xinference launch \
  --model Qwen/Qwen2.5-14B-Instruct-GPTQ-Int4 \
  --model-engine vLLM
</code></pre>
<blockquote>
<p>âœ… æˆåŠŸè¾“å‡ºï¼š<br/>
æ¨¡å‹ "Qwen2.5-14B-Instruct-GPTQ-Int4" å·²ç»å¯åŠ¨ã€‚</p>
</blockquote>
<p>é€šè¿‡ nvidia-smi å¯ç¡®è®¤ï¼š</p>
<ul>
<li>vLLM è¿›ç¨‹å ç”¨ GPU æ˜¾å­˜</li>
<li>æ‰€æœ‰è®¡ç®—åœ¨ GPU ä¸Šæ‰§è¡Œï¼Œ<strong>Swap ä»…ç”¨äºåˆå§‹åŒ–é˜¶æ®µ</strong></li>
</ul>
<hr/>
<h2 data-id="heading-7">â“ ä¸ºä»€ä¹ˆ vLLM ä¹Ÿéœ€è¦ Swapï¼Ÿ</h2>






























<table><thead><tr><th>ç»„ä»¶</th><th>èµ„æºéœ€æ±‚</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>vLLM Engine</td><td>GPU æ˜¾å­˜ï¼ˆä¸»æƒé‡å­˜å‚¨ï¼‰</td><td>æ¨ç†é˜¶æ®µæ ¸å¿ƒ</td></tr><tr><td>Ray Worker</td><td>ç³»ç»Ÿå†…å­˜ + <strong>è™šæ‹Ÿåœ°å€ç©ºé—´</strong></td><td>è¿›ç¨‹é€šä¿¡ã€è°ƒåº¦</td></tr><tr><td>Tokenizer</td><td>ç³»ç»Ÿå†…å­˜ï¼ˆæ•°ç™¾ MBï¼‰</td><td>æ–‡æœ¬é¢„å¤„ç†</td></tr><tr><td>Xinference ä¸»è¿›ç¨‹</td><td>ç³»ç»Ÿå†…å­˜ + Swap</td><td>ç®¡ç†æ¨¡å‹ç”Ÿå‘½å‘¨æœŸ</td></tr></tbody></table>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼š<br/>
å³ä½¿æ¨¡å‹æ˜¯ <strong>GPTQ-Int4 é‡åŒ–ç‰ˆ</strong>ï¼ˆæ˜¾å­˜å ç”¨ä½ï¼‰ï¼Œ<strong>åˆå§‹åŒ–è¿‡ç¨‹ä»éœ€å®Œæ•´åŠ è½½é…ç½®ã€tokenizer å’Œ Ray ä¸Šä¸‹æ–‡</strong>ï¼Œè¿™äº›éƒ½ä¾èµ–ç³»ç»Ÿè™šæ‹Ÿå†…å­˜ã€‚</p>
</blockquote>
<h2 data-id="heading-8">âœ… æœ€ä½³å®è·µå»ºè®®</h2>
<ol>
<li>éƒ¨ç½²å‰æ£€æŸ¥ Swap</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">free -h  <span class="hljs-comment"># ç¡®ä¿ Swap available &gt; 4G</span>
</code></pre>
<ol start="2">
<li>
<p>ä¸è¦å…³é—­ Swap<br/>
å³ä½¿å†…å­˜å¾ˆå¤§ï¼ˆå¦‚ 64GBï¼‰ï¼Œä¹Ÿå»ºè®®ä¿ç•™è‡³å°‘ 4GB Swapï¼Œé¿å… Ray/vLLM åˆå§‹åŒ–å¤±è´¥ã€‚</p>
</li>
<li>
<p>é¿å…ä¸å…¶ä»–é«˜å†…å­˜æœåŠ¡å…±å­˜<br/>
å¦‚ Redisã€Elasticsearch ç­‰å¯èƒ½è€—å°½ Swapï¼Œå½±å“æ¨¡å‹å¯åŠ¨ã€‚</p>
</li>
<li>
<p>æ°¸ä¹…ç”Ÿæ•ˆï¼ˆå¯é€‰ï¼‰</p>
</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">'/swapfile none swap sw 0 0'</span> | sudo <span class="hljs-built_in">tee</span> -a /etc/fstab
</code></pre>
<h2 data-id="heading-9">âœ… æ€»ç»“</h2>
<ul>
<li>é”™è¯¯æœ¬è´¨ï¼švLLM + Ray åˆå§‹åŒ–å›  <strong>Swap ç”¨å°½</strong> å¯¼è‡´å­è¿›ç¨‹å´©æºƒ</li>
<li>è§£å†³æ–¹æ¡ˆï¼š<strong>æ‰©å…… Swap ç©ºé—´</strong>ï¼ˆ4â€“8GBï¼‰ï¼Œæ— éœ€ä¿®æ”¹æ¨¡å‹æˆ–å¯åŠ¨å‚æ•°</li>
<li>é€‚ç”¨åœºæ™¯ï¼šæ‰€æœ‰åŸºäº vLLM å¼•æ“ çš„ Xinference éƒ¨ç½²ï¼ˆå°¤å…¶æ˜¯ 10B+ æ¨¡å‹ï¼‰</li>
<li>æ€§èƒ½å½±å“ï¼šä»…åˆå§‹åŒ–é˜¶æ®µè½»å¾®å½±å“åŠ è½½é€Ÿåº¦ï¼Œæ¨ç†å®Œå…¨åœ¨ GPU ä¸Šè¿è¡Œ</li>
</ul>
<blockquote>
<p>è®°ä½ï¼š<br/>
â€œ<strong>Swap ä¸æ˜¯ç»™æ¨ç†ç”¨çš„ï¼Œè€Œæ˜¯ç»™å¯åŠ¨ç”¨çš„ã€‚</strong>â€<br/>
ç»™ç³»ç»Ÿç•™ä¸€ç‚¹è™šæ‹Ÿå†…å­˜ä½™åœ°ï¼Œå¤§æ¨¡å‹å°±èƒ½é¡ºåˆ©èµ·é£ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[vivo å¾®æœåŠ¡æ¶æ„å®è·µä¹‹ Dubbo æ€§èƒ½ä¼˜åŒ–]]></title>    <link>https://juejin.cn/post/7595061185423753222</link>    <guid>https://juejin.cn/post/7595061185423753222</guid>    <pubDate>2026-01-15T03:00:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595061185423753222" data-draft-id="7595108457494921231" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="vivo å¾®æœåŠ¡æ¶æ„å®è·µä¹‹ Dubbo æ€§èƒ½ä¼˜åŒ–"/> <meta itemprop="keywords" content="Java,Dubbo,å¾®æœåŠ¡"/> <meta itemprop="datePublished" content="2026-01-15T03:00:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="vivoäº’è”ç½‘æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/993614243303053"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            vivo å¾®æœåŠ¡æ¶æ„å®è·µä¹‹ Dubbo æ€§èƒ½ä¼˜åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/993614243303053/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    vivoäº’è”ç½‘æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-15T03:00:23.000Z" title="Thu Jan 15 2026 03:00:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä½œè€…ï¼šäº’è”ç½‘ä¸­é—´ä»¶å›¢é˜Ÿ-Zhang Zhenwei</p>
<p>æœ¬æ–‡ä¸º2025å¹´ vivo å¼€å‘è€…å¤§ä¼šäº’è”ç½‘æŠ€æœ¯ä¸“åœºåˆ†äº«å†…å®¹ä¹‹ä¸€ï¼Œåœ¨å¾®ä¿¡å…¬ä¼—å·ã€Švivoäº’è”ç½‘æŠ€æœ¯ã€‹å¯¹è¯æ¡†å›å¤ã€2025VDCã€‘è·å– 2025VDC äº’è”ç½‘æŠ€æœ¯ä¼šåœºè®®é¢˜ç›¸å…³èµ„æ–™ã€‚</p>
<p>åœ¨JavaæŠ€æœ¯æ ˆåœºæ™¯ï¼Œvivoä¸»è¦åŸºäº Apache Dubbo æ¡†æ¶æ¥ä½œä¸ºå¾®æœåŠ¡ä¹‹é—´çš„é€šä¿¡æ¡¥æ¢ï¼Œåœ¨å†…éƒ¨ä¸šåŠ¡çš„å¤§è§„æ¨¡å®è·µè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç¢°åˆ°äº†è´¨é‡ã€æ€§èƒ½å’Œå®¹é‡ç­‰æ–¹é¢çš„æŒ‘æˆ˜ï¼Œé€šè¿‡ä¸€ç³»åˆ—çš„æ‰©å±•ä¸ä¼˜åŒ–ï¼Œè¾ƒå¥½çš„è§£å†³äº†ç›¸å…³é—®é¢˜ï¼ŒåŠ©åŠ›ä¸šåŠ¡æ›´å¥½ä¿éšœè´¨é‡ï¼ŒèŠ‚çœç®—åŠ›æˆæœ¬ï¼Œæå‡ç ”å‘æ•ˆç‡ã€‚</p>
</blockquote>
<p>1åˆ†é’Ÿçœ‹å›¾æŒæ¡æ ¸å¿ƒè§‚ç‚¹ğŸ‘‡</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/950a65d90c8043879ea9e480582bcc30~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdml2b-S6kuiBlOe9keaKgOacrw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769050823&amp;x-signature=VnHIjodSP6y5AeP4YAaMJ9yiaCI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d384eaa931a14db698dc3a7bd96dd448~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdml2b-S6kuiBlOe9keaKgOacrw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769050823&amp;x-signature=gYrUzorV%2FBP6d%2FLJuNavPPVoV5g%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><em>å›¾1 VS å›¾2ï¼Œæ‚¨æ›´å€¾å‘äºå“ªå¼ å›¾æ¥è¾…åŠ©ç†è§£å…¨æ–‡å‘¢ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€ã€‚</em></p>
<h2 data-id="heading-0">ä¸€ã€Dubbo åœ¨ vivo çš„æ¼”è¿›å†ç¨‹</h2>
<h3 data-id="heading-1">1.1 vivo å¾®æœåŠ¡ç°çŠ¶</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dae8c032a67147539118a09213dd8391~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdml2b-S6kuiBlOe9keaKgOacrw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769050823&amp;x-signature=lA5a7ufHQJfKs%2BEJB0qq0jLouQQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>vivoè‡ª2015å¹´é€šè¿‡å¾®æœåŠ¡æ¶æ„å‡çº§ä»¥èµ‹èƒ½ä¸šåŠ¡å¢é•¿ï¼Œé€šè¿‡å…¨ç½‘æ²»ç†ï¼Œäº2018å¹´å®Œæˆäº†å…¨ç½‘JavaæŠ€æœ¯æ ˆRPCæ¡†æ¶ç»Ÿä¸€ä¸ºDubboã€‚ ç›®å‰ï¼Œè¯¥æ¶æ„é«˜æ•ˆæ”¯æ’‘äº†5äº¿ç”¨æˆ·ã€è¦†ç›–60+åœ°åŒºçš„ä¸šåŠ¡ä½“é‡ï¼Œå®ç°äº†ä¸‡çº§å¾®æœåŠ¡åœ¨åä¸‡çº§æœºå™¨ä¸Šçš„ç¨³å®šè¿è¡Œï¼Œæ—¥å‡RPCè°ƒç”¨é‡é«˜è¾¾8000äº¿æ¬¡ã€‚</p>
<h3 data-id="heading-2">1.2 Dubboåœ¨vivoçš„æ¼”è¿›å†å²</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/29c2c764ff1e4a7dbc46e508783e59e1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdml2b-S6kuiBlOe9keaKgOacrw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769050823&amp;x-signature=mmJxn1tJeNmzGlvlxBLDCcpSNCw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Dubbo æ˜¯ä¸€æ¬¾ RPC æœåŠ¡å¼€å‘æ¡†æ¶ï¼Œä¸»è¦ç”¨äºè§£å†³å¾®æœåŠ¡æ¶æ„ä¸­çš„é€šä¿¡ä¸æœåŠ¡æ²»ç†é—®é¢˜ã€‚å®ƒæä¾›äº†æœåŠ¡å®šä¹‰ï¼ŒæœåŠ¡å‘ç°ã€è´Ÿè½½å‡è¡¡ã€æµé‡ç®¡æ§ç­‰ä¸°å¯Œèƒ½åŠ›ã€‚vivoåœ¨2015å¹´ï¼Œå¼•å…¥å¼€æºç¤¾åŒºDubboä½œä¸ºJavaæŠ€æœ¯æ ˆRPCæ¡†æ¶ã€‚è€Œéšä¸šåŠ¡è§„æ¨¡å‘å±•ï¼Œä¸šåŠ¡ä¾§æµ®ç°æ¡†æ¶ç‰ˆæœ¬ç¢ç‰‡åŒ–ç°è±¡ï¼Œäº§ç”Ÿæ²»ç†å›°éš¾ï¼Œç»´æŠ¤æˆæœ¬é«˜ç­‰é—®é¢˜ã€‚ åœ¨19å¹´ï¼Œvivoå¼•å…¥å¼€æºç¤¾åŒº2.7.* ç‰ˆæœ¬å‘å¸ƒä½œä¸ºç¬¬ä¸€ä¸ªåŸºçº¿ç‰ˆæœ¬ï¼Œå¯¹ä¸šåŠ¡ä¾§è¿›è¡Œäº†ç‰ˆæœ¬æ”¶æ•›ã€‚éšåå‘å¸ƒä¸¤ä¸ªå¤§åŸºçº¿ç‰ˆæœ¬ï¼Œåˆ†åˆ«ä¸ºå»ºè®¾ä¸‰ä¸­å¿ƒåˆ†ç¦»èƒ½åŠ›ï¼Œå’Œåº”ç”¨çº§æ³¨å†Œå‘ç°èƒ½åŠ›ã€‚</p>
<h3 data-id="heading-3">1.3 Dubboæ‰§è¡Œæ ¸å¿ƒé“¾è·¯ï¼ˆæ¦‚è¦ï¼‰</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e0c63bab71d64f8eb01a5ce857b46009~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdml2b-S6kuiBlOe9keaKgOacrw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769050823&amp;x-signature=0%2BISsHXWf%2B9KnKk%2FjSYjAC8mZqU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æˆ‘ä»¬å…ˆç®€è¦ä»‹ç»ä¸€ä¸‹Dubboçš„æ•´ä½“æµç¨‹ã€‚ æµç¨‹å¯åˆ†ä¸ºä¸Šä¸‹ä¸¤éƒ¨åˆ†ã€‚ä¸ŠåŠéƒ¨åˆ†å‘ˆç°äº†ç”±æä¾›æ–¹ã€æ¶ˆè´¹æ–¹ã€æ³¨å†Œä¸­å¿ƒå’Œå…ƒæ•°æ®ä¸­å¿ƒï¼ŒååŒå®Œæˆçš„æœåŠ¡æ³¨å†Œä¸å¼•å…¥ã€‚ ä¸‹åŠéƒ¨åˆ†ä¸ºè°ƒç”¨æµç¨‹ã€‚Dubboé‡‡ç”¨å¾®å†…æ ¸ä¸æ’ä»¶åŒ–è®¾è®¡ï¼Œå†…éƒ¨å¤šä¸ªæŠ½è±¡å±‚æ¬¡ã€‚</p>
<p>æ€»ä½“è€Œè¨€ï¼Œä¸€æ¬¡RPCæµç¨‹å¯åˆ†ä¸ºä¸¤ç±»ï¼š</p>
<ul>
<li>
<p>ä¸€æ˜¯å¯åŠ¨å³å°±ç»ªçš„é™æ€è¿‡ç¨‹ï¼ˆå¦‚ä»£ç†ç”Ÿæˆã€æœåŠ¡åˆ—è¡¨ç¼“å­˜ï¼‰</p>
</li>
<li>
<p>äºŒæ˜¯æ¯æ¬¡è°ƒç”¨å‡éœ€åŠ¨æ€è®¡ç®—çš„éƒ¨åˆ†ï¼ˆå¦‚è·¯ç”±ã€è´Ÿè½½å‡è¡¡ã€åºåˆ—åŒ–ï¼Œç¼–è§£ç ï¼‰ï¼Œè¿™äº›å¸¸æ˜¯æ€§èƒ½çƒ­ç‚¹ã€‚</p>
</li>
</ul>
<h2 data-id="heading-4">äºŒã€Dubbo è·¯ç”±æ‰©å±•åŠä¼˜åŒ–</h2>
<h3 data-id="heading-5">2.1 Dubboè·¯ç”±ç®€ä»‹</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bde85bd1ae3e47bb94695fa8fa016863~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdml2b-S6kuiBlOe9keaKgOacrw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769050823&amp;x-signature=8Dq14uZc%2B1sPSzqncdyPTAyI7fU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Dubboè·¯ç”±æ˜¯ä¸€å¥—åŸºäºè§„åˆ™çš„ç²¾ç»†åŒ–æµé‡æ²»ç†ç»„ä»¶ï¼Œå…¶å·¥ä½œæµç¨‹ç”±æœåŠ¡æ²»ç†ä¾§å‘Dubboä¸‹å‘è·¯ç”±ç­–ç•¥ï¼Œä»è€Œç¡®ä¿RPCè¯·æ±‚èƒ½å¤Ÿè¢«ç²¾å‡†çš„è·¯ç”±è‡³é¢„æœŸçš„æœåŠ¡å®ä¾‹åˆ—è¡¨ã€‚è¯¥æœºåˆ¶æ˜¯æ”¯æ’‘ç°åº¦å‘å¸ƒã€æœºæˆ¿å®¹ç¾ã€ç¯å¢ƒéš”ç¦»ç­‰æµé‡æ²»ç†èƒ½åŠ›çš„æŠ€æœ¯åŸºçŸ³ã€‚ å¼€æºç‰ˆæœ¬çš„Dubboæä¾›äº†åº”ç”¨çº§æ ‡ç­¾è·¯ç”±ã€æ¡ä»¶è·¯ç”±å’Œè„šæœ¬è·¯ç”±ç­‰æ ¸å¿ƒè·¯ç”±èƒ½åŠ›ã€‚æˆ‘ä»¬åœ¨å…¶åŸºç¡€ä¸Šï¼Œæ‰©å±•å®ç°äº†æ¥å£çº§æ ‡ç­¾è·¯ç”±ä¸å°±è¿‘è·¯ç”±ä¸¤ç§å¢å¼ºæœºåˆ¶ã€‚</p>
<h3 data-id="heading-6">2.2 å°±è¿‘è·¯ç”±</h3>
<h4 data-id="heading-7">2.2.1 å°±è¿‘è·¯ç”±èƒŒæ™¯è¯´æ˜</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e4da39274cc54c238f664bc2411bbaf4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdml2b-S6kuiBlOe9keaKgOacrw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769050823&amp;x-signature=JK2dUxUR28OusY5n0x%2FIc4G0qUc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒåŒæœºæˆ¿å†…éƒ¨çš„ç½‘ç»œè°ƒç”¨å¹³å‡æ—¶å»¶åœ¨0.1mså·¦å³ï¼Œè€ŒåŒåŸå¤šæœºæˆ¿é—´çš„å¹³å‡æ—¶å»¶åœ¨1ms-5msï¼Œè·¨åœ°åŸŸæœºæˆ¿ä¹‹é—´çš„ç½‘ç»œæ—¶å»¶åˆ™æ›´å¤§ã€‚ å‡è®¾å†…éƒ¨æœåŠ¡å­˜åœ¨å¤§é‡è·¨æœºæˆ¿è°ƒç”¨ï¼Œå°¤å…¶é’ˆå¯¹rtæ•æ„Ÿä¸šåŠ¡ï¼Œå¯èƒ½å› ä¸ºè¯·æ±‚å»¶æ—¶çš„å¢åŠ ï¼Œå½±å“æœåŠ¡è´¨é‡ç”¨æˆ·ä½“éªŒã€‚ å› æ­¤Dubboå°±è¿‘è·¯ç”±åº”è¿è€Œç”Ÿï¼Œå…¶å¯å®ç°RPCè¿‡ç¨‹ä¼˜å…ˆä½¿ç”¨åŒæœºæˆ¿è¿›è¡Œè°ƒç”¨ã€‚ å¯ä»¥çœ‹åˆ°ä¸Šå›¾ï¼Œæä¾›æ–¹åœ¨æ³¨å†Œä¼šä¸ŠæŠ¥æœºæˆ¿ä¿¡æ¯ï¼Œæ¶ˆè´¹æ–¹è°ƒç”¨ç»è¿‡å°±è¿‘è·¯ç”±ï¼ŒåªåŒ¹é…åŒæœºæˆ¿çš„æä¾›æ–¹èŠ‚ç‚¹åˆ—è¡¨ã€‚</p>
<h4 data-id="heading-8">2.2.2 å°±è¿‘è·¯ç”±åœºæ™¯åˆ†æ</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b5efbe247d014cc8855df87a88ff7f72~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdml2b-S6kuiBlOe9keaKgOacrw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769050823&amp;x-signature=yJGdJSAU8Catzo99ATcTQ1KmkP4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æˆ‘ä»¬çš„ç†æƒ³æ–¹æ¡ˆå¦‚ä¸Šæ–¹æ‰€ç¤ºï¼Œæ˜¯å¤šæœºæˆ¿å…±äº«æ³¨å†Œä¸­å¿ƒï¼Œæµé‡åœ¨å°±è¿‘è·¯ç”±çš„å¹²æ¶‰ä¸‹ï¼Œåœ¨åŒæœºæˆ¿å†…æµè½¬ã€‚ ä½†æ­¤æ–¹æ¡ˆé¢ä¸´ä¸‹æ–¹ä¸¤ä¸ªé—®é¢˜ï¼š å­˜åœ¨éƒ¨åˆ†ä¸šåŠ¡å•æœºæˆ¿éƒ¨ç½²ç°è±¡ï¼Œè‹¥å¼ºåˆ¶è¿›è¡ŒåŒæœºæˆ¿è°ƒç”¨ï¼Œä¼šé€ æˆæ¶ˆè´¹æ–¹æ— å¯ç”¨æä¾›è€…ã€‚ åŒæ—¶å­˜åœ¨å¤šæœºæˆ¿éå‡åŒ€éƒ¨ç½²ç°è±¡ï¼Œè‹¥æœºæˆ¿é—´éƒ¨ç½²è§„æ¨¡å·®å¼‚è¾ƒå¤§ï¼ŒåŒæœºæˆ¿è°ƒç”¨å¯èƒ½é€ æˆå°è§„æ¨¡éƒ¨ç½²æœºæˆ¿çš„ä¸šåŠ¡é›†ç¾¤é›ªå´©ã€‚</p>
<h4 data-id="heading-9">2.2.3 å°±è¿‘è·¯ç”±å®è·µ</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2478edb54f894e81b4633ff7312f4174~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdml2b-S6kuiBlOe9keaKgOacrw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769050823&amp;x-signature=pOuwWFXi0QLunASw4JinH0pthew%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¸ºè§£å†³åˆšæ‰çš„é—®é¢˜ï¼Œæˆ‘ä»¬æœ€ç»ˆå®ç°å¦‚ä¸‹ï¼š</p>
<ul>
<li>
<p>ä¸­é—´ä»¶è”åˆCI/CDä¾§ï¼Œåœ¨æä¾›æ–¹æœåŠ¡éƒ¨ç½²æ—¶ä¸ŠæŠ¥æœºæˆ¿ä¿¡æ¯ã€‚</p>
</li>
<li>
<p>æ¶ˆè´¹æ–¹è°ƒç”¨ç»è¿‡å°±è¿‘è·¯ç”±æ—¶ä¼šéå†æä¾›æ–¹åˆ—è¡¨ï¼Œä¼˜å…ˆç­›é€‰åŒæœºæˆ¿æä¾›æ–¹å®ä¾‹ã€‚</p>
</li>
<li>
<p>æ–°å¢é˜ˆå€¼åˆ¤æ–­ï¼Œå½“åŒæœºæˆ¿æä¾›æ–¹æœºå™¨è§„æ¨¡ä½äºé˜ˆå€¼æ—¶ï¼Œè·¯ç”±ä¼šè‡ªåŠ¨é™çº§è¿›è¡Œå…¨é‡è®¿é—®ã€‚è¿™æ ·å¯ä»¥æœ‰æ•ˆé¿å…å•æœºæˆ¿éƒ¨ç½²çš„æ— æä¾›è€…é—®é¢˜ ï¼Œä»¥åŠé™ä½éå‡åŒ€éƒ¨ç½²æ—¶çš„é›†ç¾¤é›ªå´©é£é™©ã€‚</p>
</li>
</ul>
<p>ç”¨ä¸Šè¾¹çš„ä¸‰ä¸ªè¯·æ±‚ä¸¾ä¾‹ï¼Œåœ¨å°±è¿‘è·¯ç”±é˜¶æ®µï¼š</p>
<ul>
<li>
<p><strong>è¯·æ±‚1</strong> å‘ç°åŒæœºæˆ¿æä¾›è€…éƒ¨ç½²è§„æ¨¡è¶…è¿‡é˜ˆå€¼ï¼Œå±äºå®‰å…¨è°ƒç”¨ï¼Œç›´æ¥è¿‡æ»¤å‡º01æœºæˆ¿èŠ‚ç‚¹ã€‚</p>
</li>
<li>
<p><strong>è¯·æ±‚2</strong> å‘ç°åŒæœºæˆ¿æ— å¯ç”¨æä¾›è€…ï¼Œåˆ™ç›´æ¥è§¦å‘é™çº§è§„åˆ™ï¼Œè¿”å›å…¨é‡èŠ‚ç‚¹ã€‚</p>
</li>
<li>
<p><strong>è¯·æ±‚3</strong> åœ¨å°±è¿‘è·¯ç”±é˜¶æ®µï¼Œå‘ç°åŒæœºæˆ¿è™½æœ‰å¯ç”¨æä¾›è€…éƒ¨ç½²ï¼Œä½†è§„æ¨¡ä½äºé˜ˆå€¼ï¼Œä¹Ÿç›´æ¥è§¦å‘é™çº§è§„åˆ™ï¼Œè¿”å›å…¨é‡èŠ‚ç‚¹ã€‚</p>
</li>
</ul>
<p>ç»¼ä¸Šï¼Œå°±è¿‘è·¯ç”±é€šè¿‡ç®€å•çš„å…ƒæ•°æ®æ ‡è®°å’Œçµæ´»çš„é˜ˆå€¼è§„åˆ™ï¼Œå®ç°äº†æµé‡çš„è‡ªåŠ¨ä¼˜åŒ–ä¸éš”ç¦»ã€‚å…¶æ”¹é€ è¿‡ç¨‹å¯¹ä¸šåŠ¡ä»£ç æ— ä¾µå…¥ï¼Œå¹¶å¸¦æ¥å»¶è¿Ÿé™ä½ã€ç½‘ç»œå¸¦å®½æˆæœ¬ä¸‹é™ã€ç¨³å®šæ€§æå‡çš„å·¨å¤§æ”¶ç›Šã€‚</p>
<h3 data-id="heading-10">2.3 æ ‡ç­¾è·¯ç”±èƒ½åŠ›è¯´æ˜</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bf3505db60a34835808cbe5afba3559b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdml2b-S6kuiBlOe9keaKgOacrw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769050823&amp;x-signature=VN2IJ8S%2FcdPVPh7uG6pRQ4ixn8Q%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥æ˜¯æ ‡ç­¾è·¯ç”±ï¼Œæ ‡ç­¾è·¯ç”±æ˜¯ä¸€ç§åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ç”¨äºå®ç°æµé‡ç²¾ç»†æ§åˆ¶çš„æœåŠ¡æ²»ç†ç­–ç•¥ã€‚</p>
<p>å…¶æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡æ§åˆ¶é¢ä¸ºæœåŠ¡å®ä¾‹æ‰“ä¸Šè‡ªå®šä¹‰æ ‡ç­¾ï¼Œæ ‡ç­¾è·¯ç”±æ ¹æ®æ¶ˆè´¹æ–¹è°ƒç”¨æ—¶æŒ‡å®šçš„æ ‡ç­¾ï¼Œå°†è¯·æ±‚æµé‡è·¯ç”±åˆ°åŒ¹é…è¿™äº›æ ‡ç­¾çš„æä¾›æ–¹å®ä¾‹ã€‚ åœ¨Dubboè¯­ä¹‰ä¸­ï¼ŒDubboæ ‡ç­¾åˆ†ä¸ºåŠ¨æ€æ ‡ç­¾ä¸é™æ€æ ‡ç­¾ï¼šå¦‚å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬ç”¨é€šè¿‡é…ç½®ä¸­å¿ƒä¸‹å‘åŠ¨æ€æ ‡ç­¾ï¼Œæ ‡è®°gray1åŒ…å«aèŠ‚ç‚¹ï¼Œæ ‡è®°gray2åŒ…å«cèŠ‚ç‚¹ï¼Œç”¨äºæ ‡è¯†ä¸¤ä¸ªç°åº¦ç¯å¢ƒã€‚ è€Œæä¾›æ–¹éƒ¨ç½²æ—¶å¯ä»¥è‡ªå¸¦é™æ€æ ‡ç­¾ï¼Œé™æ€æ ‡ç­¾éšDubboæ³¨å†Œå‘ç°æµç¨‹è¢«æ¶ˆè´¹æ–¹åœ¨å†…å­˜ç¼“å­˜ã€‚</p>
<p>ä»¥ä¸‰ä¸ªè¯·æ±‚ä¸¾ä¾‹ï¼š</p>
<ul>
<li>
<p><strong>è¯·æ±‚1</strong> æŒ‡å®šäº†gray1ï¼Œæ ‡ç­¾è·¯ç”±ä¼šéå†æä¾›æ–¹åˆ—è¡¨ä¸gray1å¯¹åº”çš„åˆ—è¡¨è¿›è¡Œäº¤é›†è®¡ç®—ï¼Œæœ€åè¿‡æ»¤aèŠ‚ç‚¹ã€‚</p>
</li>
<li>
<p><strong>è¯·æ±‚2</strong> æŒ‡å®šgray3ï¼Œæ ‡ç­¾è·¯ç”±å‘ç°æ— å¯ç”¨èŠ‚ç‚¹ï¼Œåˆ™è¯·æ±‚ä¼šé™çº§åˆ°æ— æ ‡ç­¾çš„æœºå™¨ï¼Œæœ€åè¿‡æ»¤b,d,eèŠ‚ç‚¹ã€‚</p>
</li>
<li>
<p><strong>è¯·æ±‚3</strong> æœªæŒ‡å®šæ ‡ç­¾ï¼Œè¯´æ˜æ˜¯åŸºçº¿ç¯å¢ƒè°ƒç”¨ï¼Œæ ‡ç­¾è·¯ç”±ä¼šç­›é€‰æœªæ‰“æ ‡ç­¾çš„æœºå™¨ï¼Œæœ€åè¿‡æ»¤b,d,eèŠ‚ç‚¹ã€‚</p>
</li>
</ul>
<h3 data-id="heading-11">2.4 æˆ‘ä»¬å‘ç°çš„æ€§èƒ½é—®é¢˜</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4c2402ed1a44891a933b0bb90e21cba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdml2b-S6kuiBlOe9keaKgOacrw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769050823&amp;x-signature=Jnoa2azuTcJolAtRSoXFjNUSyqo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨vivoå¤§è§„æ¨¡ Dubbo æä¾›æ–¹é›†ç¾¤åœºæ™¯ä¸‹ï¼Œé«˜å³°æœŸè¯¥ä¸šåŠ¡æ¶ˆè´¹æ–¹ä¾§åº”ç”¨çš„æ•´ä½“ CPU åˆ©ç”¨ç‡çº¦ä¸º60%ï¼Œè€Œå…¶ä¸­è´Ÿè½½å‡è¡¡æ¨¡å—åŠè·¯ç”±æ¨¡å—çš„ CPU å ç”¨ç‡ç«Ÿè¶…è¿‡äº†30%ï¼ é€šè¿‡ç«ç„°å›¾åˆ†æå¯ä»¥è§‚å¯Ÿåˆ°è¿™äº›é—®é¢˜å­˜åœ¨å…±æ€§ ï¼š ç›¸å…³æ–¹æ³•å‡æ¶‰åŠéå†æ“ä½œï¼Œå…¶æ—¶é—´å¤æ‚åº¦ä¸æä¾›æ–¹èŠ‚ç‚¹æ•°é‡æˆæ­£ç›¸å…³ã€‚åœ¨å¤§è§„æ¨¡é›†ç¾¤éƒ¨ç½²ç¯å¢ƒä¸‹ï¼Œè·¯ç”±ä¸è´Ÿè½½å‡è¡¡æ¨¡å—å› éå†è®¡ç®—äº§ç”Ÿäº†æ˜æ˜¾çš„èµ„æºæ¶ˆè€— ã€‚</p>
<h4 data-id="heading-12">2.4.1 è·¯ç”±ä¼˜åŒ–å®è·µ--å‡å°‘éå†è¿ç®—</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f96e6e9cb0574c3294f1a63b9abb18dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdml2b-S6kuiBlOe9keaKgOacrw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769050823&amp;x-signature=FfBYdSLD%2F97gVJh%2F5BK198giod8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>ä¼˜åŒ–æ€è·¯</strong></p>
<ul>
<li>
<p>é™ä½æ¶ˆè´¹æ–¹ä¾§éå†æ¬¡æ•°ï¼šæˆ‘ä»¬å‘ç°éƒ¨åˆ†ä¸šåŠ¡æ˜¯å®Œå…¨ä¸ä½¿ç”¨åº”ç”¨çº§æ ‡ç­¾è·¯ç”±çš„ï¼Œè€Œä¸ºäº†æ”¯æŒé™æ€æ ‡ç­¾åœºæ™¯ï¼Œåº”ç”¨çº§è·¯ç”±å¯¹äºä¸å¸¦æ ‡ç­¾çš„è¯·æ±‚ï¼Œè¿˜æ˜¯éœ€è¦å…¨é‡éå†ï¼Œä»¥ç­›é€‰æ— é™æ€æ ‡ç­¾çš„èŠ‚ç‚¹ã€‚è¿™éƒ¨åˆ†æ— æ•ˆéå†ä¼šé€ æˆç®—åŠ›ç©ºè½¬æµªè´¹ã€‚å› æ­¤æˆ‘ä»¬ç¬¬ä¸€ä¸ªä¼˜åŒ–æ˜¯å¯¹æ­¤ç±»ä¸šåŠ¡å…³é—­äº†åº”ç”¨çº§è·¯ç”±ã€‚</p>
</li>
<li>
<p>æ ¹æ®ç«ç„°å›¾æˆ‘ä»¬äº†è§£åˆ°ï¼Œåœ¨è´Ÿè½½å‡è¡¡ä¸­ï¼Œè´Ÿè½½å‡è¡¡å™¨éœ€è¦å…¨é‡éå†èŠ‚ç‚¹ä»¥è·å–æƒé‡ã€‚é‚£ä¹ˆè¿™æ—¶æˆ‘ä»¬å¯ä»¥è¯•å›¾é™ä½å‚ä¸è´Ÿè½½å‡è¡¡è®¡ç®—çš„èŠ‚ç‚¹æ•°ï¼šåœ¨è´Ÿè½½å‡è¡¡å‰ï¼Œæˆ‘ä»¬æ–°å¢äº†è™šæ‹Ÿåˆ†ç»„ã€‚å½“è·¯ç”±ç­›é€‰åçš„å®ä¾‹è§„æ¨¡è¶…è¿‡é˜ˆå€¼åï¼Œè™šæ‹Ÿåˆ†ç»„æ¨¡å—ä¼šå°†å®ä¾‹åˆ—è¡¨æ‹†åˆ†æˆå¤šä¸ªå°è§„æ¨¡åˆ†ç»„ï¼Œé€šè¿‡å¯¹åˆ†ç»„éšæœºé€‰æ‹©ï¼Œå€æ•°çº§é™ä½äº†è¿›å…¥è´Ÿè½½å‡è¡¡çš„èŠ‚ç‚¹æ•°ï¼Œé™ä½äº†è´Ÿè½½å‡è¡¡éå†æ¬¡æ•°ã€‚</p>
</li>
</ul>
<h4 data-id="heading-13">2.4.2 è·¯ç”±ä¼˜åŒ–å®è·µ</h4>
<p><strong>1.å¼•å…¥ä½å›¾ç¼“å­˜</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/44808e2901aa4f9bbdd7a5721aaa5f63~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdml2b-S6kuiBlOe9keaKgOacrw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769050823&amp;x-signature=QEUQRRBpyr0myw6Jy4NBRLpdO%2Bg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç”±ç«ç„°å›¾ç°è±¡å‘ç°ï¼Œæ— è®ºæ˜¯å°±è¿‘è·¯ç”±ï¼Œè¿˜æ˜¯æ ‡ç­¾è·¯ç”±ï¼Œç­›é€‰æµç¨‹ä»¥åŠäº¤é›†è®¡ç®—æµç¨‹ä¾ç„¶å­˜åœ¨å¤§é‡éå†æ“ä½œå¸¦æ¥ç®—åŠ›æŸè€—ã€‚é¦–å…ˆå¼•å…¥ç¼“å­˜å‡å°‘éå†ã€‚</p>
<p>å¯¹äºæ ‡ç­¾è·¯ç”±ï¼Œå¯ä»¥å¯¹æä¾›è€…èŠ‚ç‚¹åšå¦‚ä¸‹åˆ†ç±»ï¼š å¸¦åŠ¨æ€æ ‡ç­¾çš„èŠ‚ç‚¹ï¼Œå¸¦é™æ€æ ‡ç­¾çš„èŠ‚ç‚¹ï¼Œæœªæ‰“æ ‡ç­¾çš„èŠ‚ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥æå‰åœ¨å»ºç«‹è·¯ç”±å…ƒæ•°æ®çš„æ—¶å€™ï¼Œå¯¹ä¸åŒç§ç±»èŠ‚ç‚¹è¿›è¡Œç¼“å­˜ã€‚</p>
<p>æˆ‘ä»¬åœ¨æ ‡ç­¾è·¯ç”±å†…è®¾ç½®äº†ç¼“å­˜å•å…ƒï¼Œå¯¹ä¸Šè¿°ä¸‰ç±»èŠ‚ç‚¹ï¼Œè¿›è¡Œäº†åˆ†ç±»ç¼“å­˜ã€‚ ç±»ä¼¼çš„ï¼Œåœ¨å°±è¿‘è·¯ç”±å†…ï¼Œå¯¹ä¸åŒæœºæˆ¿çš„æä¾›è€…åˆ—è¡¨ï¼Œç›´æ¥è¿›è¡Œç¼“å­˜ã€‚ åŒæ—¶ï¼Œæˆ‘ä»¬ä»¥ä½å›¾å½¢å¼ç»„ç»‡äº†ç¼“å­˜ã€‚</p>
<p>ä»¥å›¾ä¸­è¯·æ±‚ä¸ºä¾‹ï¼Œå…¨é‡èŠ‚ç‚¹ä¸ºa,b,cè‡³jï¼Œ10ä¸ªèŠ‚ç‚¹ã€‚ åœ¨åº”ç”¨çº§æ ‡ç­¾è·¯ç”±ä¸­å…±ç»´æŠ¤å››ä»½ç¼“å­˜ï¼šæœ‰gray1ï¼Œgray2ï¼Œé™æ€æ ‡ç­¾ä½å›¾ï¼Œæ— æ ‡ç­¾ä½å›¾ã€‚ç±»ä¼¼çš„ï¼Œæ¥å£çº§ç»´æŠ¤ä¸¤ä»½ï¼Œåˆ†åˆ«ä¸ºgrayAæ ‡ç­¾ä½å›¾ï¼Œä¸æ— æ ‡ç­¾ä½å›¾ã€‚æœ€åæ˜¯å°±è¿‘è·¯ç”±ï¼Œç»´æŠ¤æœºæˆ¿çº§åˆ«çš„ä½å›¾ç¼“å­˜ã€‚</p>
<p>è¯·æ±‚ä¸€ä»loc1æœºæˆ¿å‘èµ·æºå¸¦åº”ç”¨çº§æ ‡ç­¾gray1ï¼Œæ¥å£çº§æ ‡ç­¾garyAã€‚ç»å†åº”ç”¨æ ‡ç­¾è·¯ç”±ä¸è¿ç®—ï¼Œå¯ç”¨åˆ—è¡¨ä¸ºa,b,gï¼Œç»è¿‡æ¥å£çº§è·¯ç”±ä¸è¿ç®—ï¼Œä¾ç„¶a,b,gã€‚ç»è¿‡å°±è¿‘è·¯ç”±ä¸è¿ç®—åï¼Œåªä¿ç•™abã€‚ç”±æ­¤æˆ‘ä»¬å®Œæˆäº†è·¯ç”±æ‰§è¡Œå¤æ‚åº¦ä»O(n) -&gt; O(1ï¼‰çš„æŒ‘æˆ˜ã€‚</p>
<p><strong>2.ç¼“å­˜ä¸€è‡´æ€§</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/34fc5beae57142f0a9060db36f51d85d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdml2b-S6kuiBlOe9keaKgOacrw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769050823&amp;x-signature=U6J7dIYvzc%2BE9%2B5yawAwvH8i0s0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æˆ‘ä»¬åœ¨è·¯ç”±åŠ å…¥epochæˆ³ï¼Œç”¨äºç¼“å­˜ç‰ˆæœ¬æ¯”å¯¹ã€‚ æ¶ˆè´¹æ–¹å‘èµ·è¯·æ±‚æ—¶ï¼Œä¼šæºå¸¦æœ€æ–°å·²ç»ä»¥ä½å›¾å½¢å¼å‚¨å­˜å¥½çš„æä¾›æ–¹åˆ—è¡¨ï¼Œä»¥åŠå¯¹åº”çš„epochæˆ³ã€‚æ¯åˆ°æ–°ä¸€çº§è·¯ç”±æ—¶ï¼Œæ–°è·¯ç”±ä¼šæ¯”å¯¹è‡ªèº«ç¼“å­˜epochæˆ³ä¸åˆå§‹epochæ˜¯å¦ä¸€è‡´ã€‚ å¦‚æœä¸€è‡´ï¼Œåˆ™è¯æ˜è§†å›¾æ˜¯ä¸€è‡´çš„ï¼Œç›´æ¥ä½¿ç”¨è‡ªèº«ä½å›¾ç¼“å­˜ä¸ä¸Šä¸€é˜¶æ®µçš„ä½å›¾ç»“æœè¿›è¡Œä¸ä½è¿ç®—ã€‚ å¦‚æœä¸ä¸€è‡´ï¼Œåˆ™è¯æ˜å½“å‰è·¯ç”±ç¼“å­˜å¾…æ›´æ–°ï¼Œé‚£ä¹ˆä¼šç›´æ¥å®æ—¶ç”¨æœ€æ–°è·¯ç”±é…ç½®è§„åˆ™ä¸ä¸Šä¸€é˜¶æ®µçš„è®¡ç®—çš„ä½å›¾ç»“æœè¿›è¡Œéå†è®¡ç®—ã€‚</p>
<p><strong>3.ä¸»åŠ¨ç¼“å­˜æ›´æ–°ç­–ç•¥</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5c43be13cfd7428fa767986f579a8522~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdml2b-S6kuiBlOe9keaKgOacrw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769050823&amp;x-signature=0fSPuxq96lkUnedr%2FZQdRcjnvOY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨æä¾›æ–¹æŒç»­å‘å¸ƒè¿‡ç¨‹ä¸­ï¼Œæ¶ˆè´¹æ–¹æŒç»­è¿›è¡ŒæœåŠ¡å¼•å…¥ï¼ŒæœåŠ¡å­—å…¸ä¾§ä¼šåŒæ­¥åˆ·æ–°æœ€æ–°çš„Invokeråˆ—è¡¨ï¼Œå¹¶è®¡ç®—æ–°çš„epochæˆ³ï¼Œå¹¶å°†æœ€æ–°çš„invokeråˆ—è¡¨æ›´æ–°é€šçŸ¥è‡³è·¯ç”±å™¨ï¼Œç”¨äºæå‰å»ºç«‹æœ€æ–°ç¼“å­˜ï¼ŒåŒæ—¶è·¯ç”±å™¨æ›´æ–°ä¸æœåŠ¡å­—å…¸ä¸€è‡´çš„epochã€‚</p>
<h3 data-id="heading-14">2.5 è·¯ç”±ä¼˜åŒ–æ€»ç»“</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5a28b4745dd84107bd00d5b6d2d6cc62~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdml2b-S6kuiBlOe9keaKgOacrw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769050823&amp;x-signature=xh86e9G2l%2FuThTlvJS8CEtjNGXA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ol>
<li>
<p>vivoé€šè¿‡å»ºè®¾å°±è¿‘è·¯ç”±èƒ½åŠ›ï¼Œæ˜¾è‘—é™ä½äº†RTæ•æ„Ÿæ€§ä¸šåŠ¡çš„è¯·æ±‚å»¶è¿Ÿï¼ŒåŒæ—¶å¢å¼ºäº†ä¸šåŠ¡çš„å¯ç”¨æ€§ä¸å¤šæœºæˆ¿å®¹ç¾èƒ½åŠ›ã€‚</p>
</li>
<li>
<p>é’ˆå¯¹è·¯ç”±é“¾ï¼Œæˆ‘ä»¬ä»ä¸¤å¤§æ–¹å‘è¿›è¡Œäº†ç³»ç»Ÿæ€§ä¼˜åŒ–ï¼š</p>
<p>**- ç²¾ç®€é“¾è·¯ï¼Œ**å¹¶æ–°å¢è™šæ‹Ÿåˆ†ç»„ï¼Œå‡å°‘éå†çš„ç®—åŠ›æ¶ˆè€—ã€‚</p>
<p>**- å¼•å…¥ä½å›¾ç¼“å­˜ç»“æ„ï¼Œ**å¤§å¹…åŠ é€Ÿè·¯ç”±äº¤é›†è®¡ç®—é€Ÿåº¦ï¼Œä¾æ‰˜ä¸»åŠ¨ç¼“å­˜æ›´æ–°ä¸ epoch ç‰ˆæœ¬æ¯”å¯¹æœºåˆ¶ï¼Œä¿è¯äº†ç¼“å­˜è§†å›¾çš„å¼ºä¸€è‡´æ€§ã€‚</p>
</li>
</ol>
<p><strong>ä¼˜åŒ–æ•ˆæœï¼š</strong> éšç€æœåŠ¡æä¾›æ–¹è§„æ¨¡ä¸æ–­æ‰©å¤§ï¼ŒCPU ä½¿ç”¨ç‡å’Œ TPS æ€§èƒ½æå‡æ•ˆæœæ„ˆå‘æ˜¾è‘—ã€‚åœ¨ä¸¤åƒèŠ‚ç‚¹è§„æ¨¡ä¸‹ï¼ŒTPS æå‡è¶…100%ï¼ŒCPU åˆ©ç”¨ç‡ä¹Ÿé™ä½27%</p>
<h2 data-id="heading-15">ä¸‰ã€Dubboè´Ÿè½½å‡è¡¡æ‰©å±•åŠä¼˜åŒ–</h2>
<p>åœ¨ä¸€æ¬¡RPCè°ƒç”¨ç»è¿‡è·¯ç”±ç­›é€‰åï¼Œæ¶ˆè´¹è€…ç«¯å¿…é¡»ä»å¤šä¸ªæœåŠ¡å®ä¾‹ä¸­ï¼Œé€‰æ‹©ä¸€ä¸ªèŠ‚ç‚¹æ¥å‘èµ·è¯·æ±‚ã€‚è¿™ä¸ªé€‰æ‹©ç­–ç•¥ï¼Œå¯èƒ½ç›´æ¥å½±å“äº†ç³»ç»Ÿçš„ååé‡ã€å“åº”å»¶è¿Ÿã€èµ„æºåˆ©ç”¨ç‡ç­‰æ ¸å¿ƒæŒ‡æ ‡ã€‚ è€ŒDubboçš„è´Ÿè½½å‡è¡¡å™¨ï¼Œæ­£æ˜¯æ‰¿æ‹…è¿™ä¸€å…³é”®å†³ç­–çš„æ ¸å¿ƒç»„ä»¶ã€‚</p>
<h3 data-id="heading-16">3.1 Dubboè´Ÿè½½å‡è¡¡ä¼˜åŒ–èƒŒæ™¯ä»‹ç»</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b526099d6f0846b8be6083c5d187cc67~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdml2b-S6kuiBlOe9keaKgOacrw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769050823&amp;x-signature=T182hIvMLc32vnf2AuMOI04O9Xc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨vivoçš„äº’è”ç½‘ä¸šåŠ¡é«˜é€Ÿå‘å±•è¿‡ç¨‹ä¸­ï¼Œç”±äºæŒç»­å¼•å…¥äº†ä¸åŒå¹´ä»½ã€ä¸åŒä¾›åº”å•†çš„æœåŠ¡å™¨ï¼Œå¹¶è€ƒè™‘åˆ°æ‘©å°”å®šå¾‹çš„å½±å“ï¼Œè¿™äº›æœåŠ¡å™¨ä¹‹é—´å­˜åœ¨æ˜¾è‘—çš„ç®—åŠ›å·®å¼‚ã€‚ å°½ç®¡å„å®ä¾‹æ¥æ”¶çš„æµé‡åŸºæœ¬ä¸€è‡´ï¼Œä½†åœ¨ä¸šåŠ¡é«˜å³°æœŸï¼Œå®ä¾‹é—´CPUåˆ©ç”¨ç‡è¡¨ç°å‡ºæ˜æ˜¾çš„ä¸å¹³è¡¡ç°è±¡ã€‚ è¯¥ç°è±¡å¯¼è‡´ä¸šåŠ¡é›†ç¾¤æš´éœ²å‡ºè‹¥å¹²é—®é¢˜ï¼šå¦‚æ•´ä½“é›†ç¾¤ç®—åŠ›åˆ©ç”¨ä¸å……åˆ†ï¼Œä½ç®—åŠ›æœºå™¨å› è´Ÿè½½è¿‡é«˜æ˜“å¼•å‘è¶…æ—¶ï¼Œå¹¶ä¸”é¢‘ç¹è§¦å‘è´Ÿè½½å‘Šè­¦è¢«è¿«äººå·¥å¹²é¢„ç­‰ã€‚</p>
<p><strong>å¤‡æ³¨ï¼š</strong> å¯ä»¥çœ‹åˆ°Dubboå†…ç½®è‡ªé€‚åº”è´Ÿè½½ç­–ç•¥ï¼Œå®ƒçš„ç†å¿µæ˜¯èƒ½å¤ŸåŸºäºæœåŠ¡ç«¯çš„å¤šä¸ªå®æ—¶æŒ‡æ ‡ï¼ŒåŠ¨æ€è®¡ç®—èŠ‚ç‚¹è´Ÿè½½ï¼Œå¹¶é€‰æ‹©ç©ºé—²èŠ‚ç‚¹è¿›è¡Œè°ƒç”¨ï¼Œå®ç°æ™ºèƒ½åŒ–çš„å¼¹æ€§è´Ÿè½½è°ƒåº¦ã€‚ ä½†æ˜¯è¿™é‡Œéœ€è¦è¯´æ˜ï¼Œvivoå»ºè®¾è‡ªé€‚åº”ç­–ç•¥æ—¶æœŸè¾ƒæ—©ï¼ŒåŒæœŸå¼€æºç¤¾åŒºè‡ªé€‚åº”ç­–ç•¥å°šå¤„äºææ¡ˆé˜¶æ®µï¼Œåªå­˜åœ¨åˆå§‹çš„ç¤¾åŒºè®¨è®ºç‰ˆæœ¬ã€‚åç»­vivoå¯¹äºè‡ªé€‚åº”ç­–ç•¥èƒ½åŠ›çš„åˆ†æä¸å¢å¼ºæ˜¯åŸºäºæ­¤åŸå§‹ç‰ˆæœ¬æ€è·¯çš„è¿›è¡Œçš„ã€‚å½“å‰å¼€æºç¤¾åŒºå·²ç»æä¾›äº†æ­£å¼ç‰ˆæœ¬ï¼Œä¸vivoå®ç°å’ŒåŸå§‹å®ç°æœ‰è¾ƒå¤§å·®å¼‚ã€‚</p>
<h3 data-id="heading-17">3.2 ç¤¾åŒºè®¨è®ºç‰ˆè‡ªé€‚åº”è´Ÿè½½å‡è¡¡</h3>
<h4 data-id="heading-18">3.2.1 ç¤¾åŒºè®¨è®ºç‰ˆè‡ªé€‚åº”è´Ÿè½½å‡è¡¡æŠ€æœ¯æ–¹æ¡ˆ</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ea9cc17ebdb46728a85f1b6a7f9343a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdml2b-S6kuiBlOe9keaKgOacrw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769050823&amp;x-signature=6UQ8j192OqahNNYLn%2FmJrhxhbSU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åŸå§‹æ–¹æ¡ˆæµç¨‹ç”±3éƒ¨åˆ†æ„æˆã€‚</p>
<ol>
<li>
<p>æä¾›æ–¹æ›´æ–°è‡ªèº«CPUåˆ©ç”¨ç‡ï¼Œæ¯æ¬¡æŒ‡æ ‡éšRPCç»“æœè¿”å›ã€‚</p>
</li>
<li>
<p>æ¶ˆè´¹æ–¹å¼‚æ­¥è®¡ç®—æä¾›æ–¹è´Ÿè½½ï¼Œå¹¶å¯¹è´Ÿè½½è¿›è¡Œæ›´æ–°å¹¶ç¼“å­˜ã€‚</p>
</li>
<li>
<p>æ¶ˆè´¹æ–¹ä½¿ç”¨P2Cç®—æ³•ï¼Œè¿™é‡Œå¯¹P2Cåšä¸€ä¸ªç®€å•çš„ä»‹ç»ï¼šæ¯æ¬¡è´Ÿè½½å‡è¡¡éšæœºæŒ‘é€‰ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œå¹¶ç›´æ¥é€‰æ‹©è´Ÿè½½è¾ƒå°çš„é‚£ä¸ªèŠ‚ç‚¹è¿›è¡Œè°ƒç”¨ã€‚</p>
</li>
</ol>
<p>å³ä¾§æ˜¯æ¶ˆè´¹æ–¹é‡‡ç”¨çš„åŸ‹ç‚¹æŒ‡æ ‡ï¼ŒåŒ…æ‹¬æä¾›æ–¹cpuè´Ÿè½½ï¼Œå“åº”æ—¶é—´ç­‰å‚æ•°ã€‚ ä¸‹è¾¹æ˜¯æ¶ˆè´¹æ–¹åŸºäºé‡‡é›†æŒ‡æ ‡å¯¹è´Ÿè½½è®¡ç®—çš„å…¬å¼ å¯ä»¥ç›´æ¥ç®€æ˜“ç†è§£ä¸ºæ¶ˆè´¹æ–¹è®¡ç®—çš„æä¾›æ–¹å®ä¾‹è´Ÿè½½å€¼ï¼Œä¸å®ä¾‹CPUè´Ÿè½½å€¼ï¼Œåœ¨é€”è¯·æ±‚æ•°ï¼ŒRTï¼Œå‘ˆæ­£ç›¸å…³ï¼›ä¸è¯·æ±‚æˆåŠŸç‡ï¼Œæƒé‡é…ç½®å€¼å‘ˆè´Ÿç›¸å…³ã€‚</p>
<h4 data-id="heading-19">3.2.2 ç¤¾åŒºè®¨è®ºç‰ˆè‡ªé€‚åº”è´Ÿè½½å‡è¡¡å‹æµ‹ç»“æœ</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/631a5c3a453945f9bfd83eb7d8f31374~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdml2b-S6kuiBlOe9keaKgOacrw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769050823&amp;x-signature=JP70ov%2Bz5DJ268PjDLNpEDgzwNM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä»ç»“æœå¯ä»¥çœ‹å‡ºï¼Œè‡ªé€‚åº”ç­–ç•¥ä½¿ä¸åŒç®—åŠ›çš„æœºå™¨åœ¨æµé‡æ‰¿è½½ä¸Šå‡ºç°æ¸…æ™°åˆ†å±‚ï¼Œä½“ç°äº†ç®—æ³•åŸºäºèŠ‚ç‚¹è´Ÿè½½è¿›è¡ŒåŠ¨æ€æµé‡è°ƒåº¦çš„æœ‰æ•ˆæ€§ã€‚ ä½†ä¹Ÿè§‚å¯Ÿåˆ°ï¼Œè¯¥ç‰ˆæœ¬ä¸­CPUåˆ©ç”¨ç‡å­˜åœ¨æ˜æ˜¾æ³¢åŠ¨ï¼Œæ­¤è¡Œä¸ºå¯èƒ½ä¼šå¼•å…¥æœåŠ¡è´¨é‡é£é™©ã€‚åˆæ­¥åˆ†æï¼Œåˆ©ç”¨ç‡éœ‡è¡åŸå› å¯èƒ½æ˜¯æµé‡è°ƒæ•´æœºåˆ¶å°šæœªå®ç°å¹³æ»‘è¿‡æ¸¡ã€‚</p>
<h4 data-id="heading-20">3.2.3 ç¤¾åŒºè®¨è®ºç‰ˆæ³¢åŠ¨åŸå› åˆ†æ</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d40ced0e4ac4e2595efef09b9187c3a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdml2b-S6kuiBlOe9keaKgOacrw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769050823&amp;x-signature=Sa0%2BueYqZZpOc6%2Bu%2BdT%2BtaJCbFU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä»¥æœ€ç®€å•çš„åŒèŠ‚ç‚¹åœºæ™¯ä¸ºä¾‹ï¼šå‡è®¾å­˜åœ¨èŠ‚ç‚¹ P1 å’Œ P2ã€‚ åˆå§‹é˜¶æ®µï¼ŒP2 è´Ÿè½½è¾ƒé«˜ã€‚åœ¨æä¾›æ–¹å°†æ›´æ–°çš„è´Ÿè½½æŒ‡æ ‡è¿”å›ä¹‹å‰ï¼Œæ¶ˆè´¹æ–¹æŒç»­å°†è¯·æ±‚é›†ä¸­å‘å¾€è´Ÿè½½è¾ƒä½çš„ P1ï¼Œå¯¼è‡´ P1 çš„è´Ÿè½½è¿…é€Ÿå‡è‡³å³°å€¼ï¼Œè€Œ P2 æ­¤æ—¶æ— è°ƒç”¨ï¼Œè´Ÿè½½æ‰å…¥æä½æ°´å¹³ã€‚ éšåï¼Œæ¶ˆè´¹æ–¹æ›´æ–°äº†è´Ÿè½½æ•°æ®ï¼Œä¸¤ä¸ªèŠ‚ç‚¹çš„è´Ÿè½½è§†å›¾çŠ¶æ€å‘ç”Ÿåè½¬ï¼Œä»¥æ­¤å¾ªç¯å¾€å¤ã€‚</p>
<p>åŸºäºä¸Šè¿°åˆ†æï¼Œæˆ‘ä»¬å¯ä»¥ä»ä¸¤ä¸ªå…³é”®æ–¹å‘ç€æ‰‹ä¼˜åŒ–ï¼š</p>
<ol>
<li>
<p>æ”¹è¿› P2C çš„æµé‡åˆ†é…æœºåˆ¶ï¼Œé¿å…èŠ‚ç‚¹åœ¨çŸ­æ—¶é—´å†…è¢«é›†ä¸­è®¿é—®ï¼›</p>
</li>
<li>
<p>æ˜¯å¢å¼ºæŒ‡æ ‡å¹³æ»‘æµè½¬èƒ½åŠ›ï¼ŒæŠ‘åˆ¶çŸ­æœŸæŠ–åŠ¨å¸¦æ¥çš„å†³ç­–å¹²æ‰°ï¼Œä»è€Œæå‡ç³»ç»Ÿçš„æ•´ä½“ç¨³å®šæ€§ã€‚</p>
</li>
</ol>
<h3 data-id="heading-21">3.3 vivoç‰ˆè‡ªé€‚åº”è´Ÿè½½å‡è¡¡ä¼˜åŒ–</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae81a5b066ed4c82a03ef6a6a41571c0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdml2b-S6kuiBlOe9keaKgOacrw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769050823&amp;x-signature=k6EsjVX3gD2xtb%2B4fEXhj2KV9cI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ul>
<li>
<p>å¯¹P2Cçš„æµé‡åˆ†å‘ç­–ç•¥è¿›è¡Œè°ƒæ•´ï¼šåŸæœ‰çš„æœºåˆ¶æ˜¯ä¸€ç§â€œèµ¢è€…é€šåƒâ€çš„æ¨¡å¼ï¼šç®—æ³•ç›´æ¥å°†æµé‡å…¨éƒ¨å¯¼å‘äº†å½“å‰è´Ÿè½½æœ€ä½çš„èŠ‚ç‚¹ã€‚ P2Cè¿‡ç¨‹ä¼šæ ¹æ®èŠ‚ç‚¹çš„è´Ÿè½½è®¡ç®—æ¦‚ç‡ç³»æ•°ï¼Œè´Ÿè½½ä½çš„èŠ‚ç‚¹è¢«é€‰ä¸­çš„æ¦‚ç‡æ›´é«˜ï¼Œä½†è´Ÿè½½é«˜çš„èŠ‚ç‚¹ä¹Ÿä¸ä¼šåƒä¹‹å‰ä¸€æ ·è¢«è¢«å®Œå…¨å¿½ç•¥ã€‚è¿™ä¸€æ”¹è¿›ä¸ä»…ä»æ ¹æºä¸Šæ¶ˆé™¤äº†æ‰€æœ‰æµé‡ç¬é—´æ¶Œå‘åŒä¸€èŠ‚ç‚¹æ‰€å¸¦æ¥çš„éœ‡è¡é£é™©ï¼Œä¹Ÿæ˜¾è‘—æå‡äº†é›†ç¾¤èµ„æºçš„æ•´ä½“åˆ©ç”¨ç‡ï¼Œå®ç°äº†P2CèŠ‚ç‚¹é—´è´Ÿè½½çš„â€œå‰Šå³°å¡«è°·â€ã€‚</p>
</li>
<li>
<p>å°†è´Ÿè½½è®¡ç®—ä¸è´Ÿè½½è°ƒåº¦åˆ†ç¦»ã€‚å¦‚å›¾æ‰€ç¤ºï¼Œè´Ÿè½½å‡è¡¡å¼•å…¥äº†ä¸€ä¸ªç‹¬ç«‹çš„æƒé‡è®¡ç®—å•å…ƒã€‚è¯¥å•å…ƒçš„æ ¸å¿ƒç›®æ ‡æ˜¯ç»´æŠ¤ä¸€ä¸ªç¨³å®šçš„ã€å…¨å±€çš„ã€æµé‡è°ƒåº¦è§†å›¾ã€‚ å®ƒçš„è®¾è®¡æ€è·¯æ˜¯ï¼šæ¶ˆè´¹æ–¹æ ¹æ®è´Ÿè½½å€¼ï¼Œè®¡ç®—ä¸€ä¸ªå¹³æ»‘çš„ï¼Œè¿è´¯å˜åŒ–çš„è™šæ‹Ÿæƒé‡ï¼Œä»è€Œé—´æ¥é€šè¿‡æ­¤è™šæ‹Ÿæƒé‡ï¼Œä½¿å¾—å½“å‰çš„æµé‡åˆ†é…è¿‡ç¨‹å§‹ç»ˆä¿æŒç¨³æ€ã€‚</p>
</li>
<li>
<p>P2Cè¿‡ç¨‹å°†åŸºäºä¸Šè¿°è™šæ‹Ÿæƒé‡è¿›è¡ŒèŠ‚ç‚¹é€‰æ‹©ã€‚</p>
</li>
</ul>
<h3 data-id="heading-22">3.4 vivoè‡ªé€‚åº”è´Ÿè½½å‡è¡¡å‹æµ‹æ•ˆæœå±•ç¤º</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8bcaa8b52b3541b596e6ba3d012093e1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdml2b-S6kuiBlOe9keaKgOacrw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769050823&amp;x-signature=4BqMpwmH0ZXSzW2477tZ%2FOxHYDY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å·¦ä¾§ä»å·¦è‡³å³ä¾æ¬¡å±•ç¤ºäº†éšæœºç®—æ³•ã€åŸå§‹ç‰ˆæœ¬è‡ªé€‚åº”ç­–ç•¥ï¼Œä»¥åŠvivoå†…éƒ¨ä¼˜åŒ–åçš„è‡ªé€‚åº”ç­–ç•¥ï¼Œåœ¨åŒç®—åŠ›é…ç½®é›†ç¾¤çš„å‹æµ‹ç¯å¢ƒä¸­çš„å‹æµ‹è¡¨ç°ï¼š vivoä¼˜åŒ–ç‰ˆæœ¬ä¸ä»…å®ç°äº†æ›´ä¼˜çš„æµé‡åˆ†å±‚ï¼Œè¿˜å°†å„èŠ‚ç‚¹CPUåˆ©ç”¨ç‡æ”¶æ•›è‡³åŸºæœ¬ä¸€è‡´çš„æ°´å¹³ï¼Œå¹¶å§‹ç»ˆä¿æŒç¨³å®šï¼Œä½¿å¾—é›†ç¾¤è¾¾æˆé«˜æ•ˆã€é«˜ååä¸”ç¨³å®šè¿è¡Œçš„ç†æƒ³çŠ¶æ€ã€‚</p>
<p>å³ä¾§å‘ˆç°äº†åŸå§‹ç­–ç•¥ä¸vivoç‰ˆè‡ªé€‚åº”ç­–ç•¥ï¼Œç›¸å¯¹éšæœºç­–ç•¥åœ¨å¤šé¡¹æ ¸å¿ƒæŒ‡æ ‡ä¸Šçš„è¡¨ç°ï¼ŒåŒ…æ‹¬TPSã€å¹³å‡RTç­‰ï¼Œå¯çœ‹å‡ºæ­¤æ¬¡ä¼˜åŒ–æ•ˆæœæ˜¾è‘—ï¼Œå„é¡¹æŒ‡æ ‡å‡æœ‰å¤§å¹…æå‡ã€‚</p>
<h3 data-id="heading-23">3.5 vivoè‡ªé€‚åº”è´Ÿè½½å‡è¡¡ç”Ÿäº§ç¯å¢ƒä½¿ç”¨æ•ˆæœ</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/80c53da45b5147a1a7ec511a4457dc28~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdml2b-S6kuiBlOe9keaKgOacrw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769050823&amp;x-signature=EBHOrjAjdY0mzef4EwrmteWCvFU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ul>
<li>
<p>**æå‡æœåŠ¡å®¹é‡ï¼š**åœ¨åŒç­‰é›†ç¾¤è§„æ¨¡ä¸‹ï¼Œæ–°ç­–ç•¥å¯å°†é›†ç¾¤æµé‡ååä¸Šé™å¹³å‡æå‡çº¦15%ï¼Œæœ‰æ•ˆå¢å¼ºäº†æ•´ä½“é›†ç¾¤æ‰¿è½½èƒ½åŠ›ã€‚</p>
</li>
<li>
<p>**æå‡æœåŠ¡è´¨é‡ï¼š**æ¨å¹¿æ–°ç­–ç•¥åï¼Œç®—æ³•åœ¨é«˜å³°æœŸå¯æœ‰æ•ˆæŠ‘åˆ¶è¶…æ—¶ç‡ï¼Œè¯·æ±‚å¤±è´¥ç‡ä¸‹é™è¶…è¿‡50%ã€‚</p>
</li>
<li>
<p>**å®ç°æœ‰æ•ˆé™æœ¬ï¼š**æ–°ç®—æ³•é€šè¿‡æ›´ç²¾å‡†çš„æµé‡è°ƒåº¦ï¼Œæ˜¾è‘—èŠ‚çœäº†CPUèµ„æºå ç”¨ï¼Œé¢„è®¡æ¯å¹´å¯ä¸ºä¸šåŠ¡é™ä½ç™¾ä¸‡å…ƒçº§åˆ«çš„è®¡ç®—æˆæœ¬ã€‚</p>
</li>
<li>
<p>**ä¼˜åŒ–è¿ç»´äººåŠ›æŠ•å…¥ï¼š**æ–°è´Ÿè½½ç­–ç•¥å¤§å¹…å‡å°‘äº†ä½ç®—åŠ›æœºå™¨çš„åˆ©ç”¨ç‡å‘Šè­¦é¢‘ç‡ã€‚ä¸šåŠ¡æ–¹æ— éœ€åœ¨æµé‡é«˜å³°æœŸé—´ä¸“é—¨è¿›è¡Œé›†ç¾¤å®ä¾‹çš„é™æ€æƒé‡è°ƒæ•´ï¼Œå‡è½»äº†è¿ç»´è´Ÿæ‹…ã€‚</p>
</li>
</ul>
<h2 data-id="heading-24">å››ã€æŠ€æœ¯æˆæœ</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/991100bfe58540ab9ee550af6ec2db4f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdml2b-S6kuiBlOe9keaKgOacrw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769050823&amp;x-signature=keUymBkmfnhGOzweR2Zmrvmg8Zo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>åœ¨Dubboè·¯ç”±å±‚é¢ï¼š<strong>æˆ‘ä»¬é‡ç‚¹è§£å†³ä¸¤å¤§</strong>ç—›ç‚¹</strong>ï¼š<strong>ä¸€æ˜¯</strong>è·¯ç”±ç­›é€‰æ—¶çš„å¤§é‡éå†æ“ä½œå¯¼è‡´æ¶ˆè´¹ç«¯CPUèµ„æºæµªè´¹ï¼Œ<strong>äºŒæ˜¯</strong>è·¨æœºæˆ¿è°ƒç”¨å¯¹RTæ•æ„Ÿä¸šåŠ¡çš„æ€§èƒ½å½±å“ã€‚</p>
<p>é’ˆå¯¹è·¯ç”±éå†æ•ˆç‡é—®é¢˜ï¼Œæˆ‘ä»¬å®æ–½4é¡¹ä¼˜åŒ–ï¼š</p>
<ul>
<li>
<p>å…³é—­æœªä½¿ç”¨çš„è·¯ç”±ï¼Œå‡å°‘æ— æ•ˆè®¡ç®—ï¼›</p>
</li>
<li>
<p>å¼•å…¥ä½å›¾ç¼“å­˜æœºåˆ¶ï¼Œå°†è·¯ç”±ç­›é€‰å¤æ‚åº¦ä» O(n) é™è‡³ O(1)ï¼Œå¤§å¹…æå‡æ‰§è¡Œæ•ˆç‡ï¼›</p>
</li>
<li>
<p>æ–°å¢åˆ†ç»„è·¯ç”±åŠŸèƒ½ï¼Œæœ‰æ•ˆå‡å°‘è¿›å…¥è´Ÿè½½å‡è¡¡æ¨¡å—çš„å®ä¾‹æ•°é‡ï¼Œå‡è½»åç»­å¤„ç†å‹åŠ›ã€‚</p>
</li>
<li>
<p>å»ºè®¾å°±è¿‘è·¯ç”±èƒ½åŠ›ï¼Œæ˜¾è‘—æå‡äº†è·¨æœºæˆ¿è°ƒç”¨çš„ä¸šåŠ¡ä½“éªŒï¼Œæé«˜æœåŠ¡è´¨é‡ã€‚</p>
</li>
</ul>
<p>**åœ¨è´Ÿè½½å‡è¡¡æ–¹é¢ï¼š**æˆ‘ä»¬åŸå…ˆé¢ä¸´ç€åŸé™æ€ç­–ç•¥éš¾ä»¥é€‚é…åº•å±‚è®¾æ–½å·®å¼‚ï¼Œå¯¼è‡´ç®—åŠ›åˆ©ç”¨ç‡ä½çš„é—®é¢˜ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬åŸºäºç¤¾åŒºç‰ˆæœ¬æ„å»ºäº†vivoè‡ªé€‚åº”è´Ÿè½½å‡è¡¡èƒ½åŠ›ï¼Œé‡ç‚¹ä¼˜åŒ–P2Cç®—æ³•å¹¶å¼•å…¥æƒé‡è®¡ç®—å•å…ƒï¼Œå®ç°æµé‡è‡ªé€‚åº”ä¸å¹³æ»‘è°ƒåº¦ï¼Œæœ€ç»ˆæ˜¾è‘—æå‡æœåŠ¡å®¹é‡ä¸è´¨é‡ï¼ŒåŒæ—¶å®ç°é™æœ¬å’ŒèŠ‚çº¦äººåŠ›çš„ç›®æ ‡ã€‚</p>
<h2 data-id="heading-25">äº”ã€æœªæ¥å±•æœ›</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9801394069024de69af0f7ea0c978280~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdml2b-S6kuiBlOe9keaKgOacrw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769050823&amp;x-signature=BNiiizGF%2BZSM9JOuAFxAT7R4qv8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æœ€åæ˜¯vivoå¯¹äºDubboæœªæ¥åœ¨å…¬å¸å†…æ¼”è¿›çš„ä¸€äº›è®¡åˆ’ä¸æ€è€ƒï¼š</p>
<ul>
<li>
<p><strong>æ¨è¿›Dubboä¸å¼€æºç¤¾åŒºç‰ˆæœ¬å¯¹é½ï¼š</strong> ç›®å‰å…¬å¸å†…éƒ¨çš„DubboåŸºçº¿ç‰ˆæœ¬åŸºäºå¼€æºç¤¾åŒº2.7.*æ„å»ºï¼Œè€Œç¤¾åŒºç°å·²æ¼”è¿›è‡³3.*ç‰ˆæœ¬ï¼Œç¤¾åŒº3.*ç‰ˆæœ¬å…¨é¢æ”¯æŒæ–°ä¸€ä»£é«˜æ€§èƒ½é€šä¿¡åè®®ï¼Œå…·å¤‡æ›´å¼ºçš„äº‘åŸç”Ÿç‰¹æ€§ã€‚é‚£ä¹ˆæœªæ¥æˆ‘ä»¬ä¹Ÿå°†æŒç»­æ¨è¿›vivoå†…éƒ¨åŸºçº¿ç‰ˆæœ¬å‡çº§ï¼Œå¼•å…¥æ›´å¤šä¼˜ç§€çš„å¼€æºèƒ½åŠ›ä¸æ¨¡å‹ï¼Œæ›´å¥½åœ°æ‹¥æŠ±äº‘åŸç”Ÿæ¶æ„ã€‚</p>
</li>
<li>
<p><strong>æ„å»ºè·¨è¯­è¨€çš„ç»Ÿä¸€å¾®æœåŠ¡æ²»ç†å¹³å°ï¼š</strong> å½“å‰vivoçš„æœåŠ¡æ²»ç†èƒ½åŠ›ä¸»è¦å›´ç»•Javaå’ŒC++æŠ€æœ¯æ ˆï¼Œéšç€å…¬å¸ä¸šåŠ¡é«˜é€Ÿå‘å±•ï¼Œå¦‚Goã€Pythonç­‰è¯­è¨€é€æ¸å¹¿æ³›åº”ç”¨ã€‚ç›®å‰ï¼Œè·¨è¯­è¨€æœåŠ¡è°ƒç”¨çš„éœ€æ±‚æ˜¾è‘—å¢é•¿ï¼ŒåŒæ—¶ä¹Ÿå¸¦æ¥äº†æŠ€æœ¯æ ˆç¢ç‰‡åŒ–ã€æ²»ç†èƒ½åŠ›ä¸ååŒã€é…ç½®æ¨¡å‹ä¸ç»Ÿä¸€ã€å¼€å‘è®¤çŸ¥ä¸ä¸€è‡´ç­‰æŒ‘æˆ˜ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬è®¡åˆ’å»ºè®¾ä¸€å¥—æ ‡å‡†åŒ–çš„ã€è¯­è¨€æ— å…³çš„å¾®æœåŠ¡æ²»ç†å¹³å°ã€‚è¯¥å¹³å°å°†æä¾›ç»Ÿä¸€çš„æœåŠ¡å‘ç°ã€æµé‡ç›‘æ§ã€æµé‡æ²»ç†ä»¥åŠæœåŠ¡è§‚æµ‹èƒ½åŠ›ã€‚çœŸæ­£å®ç°â€œå¤šè¯­è¨€å¼€å‘ï¼Œä¸€ä½“åŒ–æ²»ç†â€çš„ç›®æ ‡ï¼Œä»¥é™ä½æœªæ¥çš„ç³»ç»Ÿå¤æ‚æ€§ä¸è¿ç»´æˆæœ¬ã€‚</p>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Exceptionå¼‚å¸¸ä¸å¼‚å¸¸å¤„ç†(.Net)]]></title>    <link>https://juejin.cn/post/7595030559565021235</link>    <guid>https://juejin.cn/post/7595030559565021235</guid>    <pubDate>2026-01-14T14:46:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595030559565021235" data-draft-id="7595041883145420846" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Exceptionå¼‚å¸¸ä¸å¼‚å¸¸å¤„ç†(.Net)"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-14T14:46:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸ƒå…«æ˜Ÿå¤©"/> <meta itemprop="url" content="https://juejin.cn/user/3848733848768205"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Exceptionå¼‚å¸¸ä¸å¼‚å¸¸å¤„ç†(.Net)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3848733848768205/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸ƒå…«æ˜Ÿå¤©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-14T14:46:33.000Z" title="Wed Jan 14 2026 14:46:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Exceptionï¼ˆå¼‚å¸¸ï¼‰</h2>
<h3 data-id="heading-1">Exceptionï¼ˆå¼‚å¸¸ï¼‰æ˜¯ä»€ä¹ˆ</h3>
<h4 data-id="heading-2">1.1 åŸºæœ¬æ¦‚å¿µ</h4>
<p>Exceptionæ˜¯ç¨‹åºè¿è¡Œæ—¶å‘ç”Ÿçš„å¼‚å¸¸æƒ…å†µçš„è¡¨ç¤ºã€‚å½“ç¨‹åºæ‰§è¡Œä¸­é‡åˆ°é”™è¯¯æˆ–æ„å¤–æƒ…å†µæ—¶ï¼Œå°±ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p>
<pre><code class="hljs language-php" lang="php">ç¨‹åºæ­£å¸¸æµç¨‹ â”€â”€â†’ å‘ç”Ÿé”™è¯¯ â”€â”€â†’ æŠ›å‡º<span class="hljs-built_in">Exception</span> â”€â”€â†’ ä¸­æ–­æ‰§è¡Œ â”€â”€â†’ å¯»æ‰¾å¼‚å¸¸å¤„ç†å™¨(<span class="hljs-keyword">catch</span>) â”€â”€â†’ æ¢å¤æˆ–è®°å½•
</code></pre>
<h4 data-id="heading-3">1.2 Exceptionç±»</h4>
<blockquote>
<p><code>System.Exception</code>ä½œä¸ºæ‰€æœ‰å¼‚å¸¸çš„åŸºç±»ï¼Œæ˜¯é”™è¯¯å¤„ç†çš„æ ¸å¿ƒæœºåˆ¶</p>
</blockquote>
<ul>
<li>
<p><code>Message</code>ç”¨æ¥æè¿°å¼‚å¸¸åŸå› çš„è¯¦ç»†ä¿¡æ¯</p>
<ul>
<li>å¦‚æœä½ æ•æ‰åˆ°äº†å¼‚å¸¸ï¼Œä¸€èˆ¬ä½¿ç”¨è¿™æ®µæè¿°èƒ½çŸ¥é“å‘ç”Ÿçš„å¤§è‡´åŸå› ã€‚</li>
<li>å¦‚æœä½ å‡†å¤‡æŠ›å‡ºå¼‚å¸¸ï¼Œåœ¨è¿™ä¸ªä¿¡æ¯é‡Œé¢è®°å½•èƒ½å¸®åŠ©è°ƒè¯•é—®é¢˜çš„è¯¦ç»†æ–‡å­—ä¿¡æ¯ã€‚</li>
</ul>
</li>
<li>
<p><code>StackTrace</code> åŒ…å«ç”¨æ¥ç¡®å®šé”™è¯¯ä½ç½®çš„å †æ ˆè·Ÿè¸ªï¼ˆå½“æœ‰è°ƒè¯•ä¿¡æ¯å¦‚ PDB æ—¶ï¼Œè¿™é‡Œå°±ä¼šåŒ…å«æºä»£ç æ–‡ä»¶åå’Œæºä»£ç è¡Œå·ï¼‰</p>
</li>
<li>
<p><code>InnerException</code> åŒ…å«å†…éƒ¨å¼‚å¸¸ä¿¡æ¯</p>
</li>
<li>
<p><code>Source</code> è¿™ä¸ªå±æ€§åŒ…å«å¯¼è‡´é”™è¯¯çš„åº”ç”¨ç¨‹åºæˆ–å¯¹è±¡çš„åç§°</p>
</li>
<li>
<p><code>Data</code> è¿™æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œå¯ä»¥å­˜æ”¾åŸºäºé”®å€¼çš„ä»»æ„æ•°æ®ï¼Œå¸®åŠ©åœ¨å¼‚å¸¸ä¿¡æ¯ä¸­è·å¾—æ›´å¤šå¯ä»¥ç”¨äºè°ƒè¯•çš„æ•°æ®</p>
</li>
<li>
<p><code>HelpLink</code> è¿™æ˜¯ä¸€ä¸ª urlï¼Œè¿™ä¸ª url é‡Œå¯ä»¥æä¾›å¤§é‡ç”¨äºè¯´æ˜æ­¤å¼‚å¸¸åŸå› çš„ä¿¡æ¯</p>
</li>
</ul>
<h4 data-id="heading-4">1.3 å¼•å‘å¼‚å¸¸</h4>
<p>å¼•å‘å¼‚å¸¸ä½¿ç”¨ <code>throw</code> å…³é”®å­—ã€‚åªæ˜¯æ³¨æ„å¦‚æœè¦é‡æ–°æŠ›å‡ºå¼‚å¸¸ï¼Œè¯·ä½¿ç”¨ <code>throw;</code> è¯­å¥æˆ–è€…å°†åŸæœ‰å¼‚å¸¸ä½œä¸ºå†…éƒ¨å¼‚å¸¸ã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">catch</span> (<span class="hljs-built_in">Exception</span> ex)
 Â  Â  Â  Â  Â   {
 Â  Â  Â  Â  Â  Â  Â   <span class="hljs-comment">//throw ex; //ä¼šä¸¢å¤±è°ƒç”¨é“¾,æ‰¾ä¸åˆ°çœŸæ­£çš„å¼‚å¸¸æ‰€åœ¨</span>
 Â  Â  Â  Â  Â  Â  Â   <span class="hljs-comment">//throw; //è°ƒç”¨é“¾å®Œæ•´</span>
 Â  Â  Â  Â  Â  Â  Â   <span class="hljs-comment">//ExceptionDispatchInfo.Capture(ex).Throw();//è°ƒç”¨é“¾æ›´å®Œæ•´ï¼Œæ˜¾ç¤ºäº†é‡æ–°æŠ›å‡ºå¼‚å¸¸æ‰€åœ¨çš„ä½ç½®ã€‚</span>
 Â  Â  Â  Â  Â   }
</code></pre>
<h2 data-id="heading-5">å¼‚å¸¸å¤„ç†çš„æœ¬è´¨</h2>
<pre><code class="hljs">å¼‚å¸¸å¤„ç† = å¼‚å¸¸æ‹¦æˆªå™¨
â€‹
ç›®æ ‡ï¼šæ‹¦æˆªå¼‚å¸¸ â†’ æ¶ˆé™¤çœŸæ­£çš„æŠ›é”™ â†’ è¿”å›å¯æ§çš„ç»“æœ â†’ ç¨‹åºç»§ç»­è¿è¡Œ
â€‹
âŒ æ²¡æœ‰å¤„ç†ï¼šå¼‚å¸¸ä¸æ–­å‘ä¸Šä¼ æ’­ â†’ æœ€ç»ˆå‡»æºƒç³»ç»Ÿ
âœ… æœ‰å¤„ç†ï¼šå¼‚å¸¸è¢«æ‹¦æˆª â†’ è½¬åŒ–ä¸ºè¿”å›å€¼ â†’ ç³»ç»Ÿç»§ç»­è¿è¡Œ
</code></pre>
<p><strong>æ ¸å¿ƒæ€æƒ³</strong>ï¼š</p>
<ul>
<li>å¼‚å¸¸å¹¶ä¸å¯æ€•ï¼Œå¯æ€•çš„æ˜¯è®©å¼‚å¸¸ä¸å—æ§åˆ¶åœ°ä¼ æ’­</li>
<li>try-catch çš„ä½œç”¨å°±æ˜¯åœ¨å¼‚å¸¸ä¼ æ’­çš„è¿‡ç¨‹ä¸­"æˆªä½"å®ƒ</li>
<li>æˆªä½ä»¥åï¼Œä½ å¯ä»¥ï¼šè®°å½•æ—¥å¿—ã€è½¬æˆ JSONã€è½¬æˆçŠ¶æ€ç ã€å¿½ç•¥å®ƒ...</li>
<li>ä½†æ— è®ºå¦‚ä½•å¤„ç†ï¼Œç›®çš„éƒ½æ˜¯ä¸€æ ·çš„ï¼š<strong>æ¶ˆé™¤çœŸæ­£çš„æŠ›é”™</strong></li>
</ul>
<p>æ³¨æ„:</p>
<pre><code class="hljs language-erlang" lang="erlang">æ§åˆ¶å°é¡¹ç›®ç¨‹åºä¸­æŠ›é”™ç›´æ¥å¯¼è‡´ç¨‹åºé€€å‡º
â€‹
.net Core Web APIé¡¹ç›®æŠ›é”™,æœ‰æœ€åº•å±‚çš„æŠ›é”™æ‹¦æˆªå…œåº•,å› æ­¤ä¸ä¼šç›´æ¥ç¨‹åºé€€å‡º.
</code></pre>
<hr/>
<h3 data-id="heading-6">1. å¼‚å¸¸çš„å±‚æ¬¡ç»“æ„</h3>
<h4 data-id="heading-7">1.1 . NET å¼‚å¸¸ä½“ç³»</h4>
<pre><code class="hljs language-php" lang="php">System.<span class="hljs-built_in">Exception</span> (æ‰€æœ‰å¼‚å¸¸çš„åŸºç±»)
â”‚
â”œâ”€â”€ <span class="hljs-title function_ invoke__">SystemException</span> (ç³»ç»Ÿå¼‚å¸¸)
â”‚ Â  â”œâ”€â”€ NullReferenceException Â  Â  Â  Â  <span class="hljs-comment"># ç©ºå¼•ç”¨</span>
â”‚ Â  â”œâ”€â”€ IndexOutOfRangeException Â  Â  Â  <span class="hljs-comment"># æ•°ç»„è¶Šç•Œ</span>
â”‚ Â  â”œâ”€â”€ InvalidOperationException Â  Â   <span class="hljs-comment"># æ— æ•ˆæ“ä½œ</span>
â”‚ Â  â”œâ”€â”€ ArgumentException Â  Â  Â  Â  Â  Â   <span class="hljs-comment"># å‚æ•°å¼‚å¸¸</span>
â”‚ Â  â”‚ Â  â”œâ”€â”€ ArgumentNullException Â  Â   <span class="hljs-comment"># å‚æ•°ä¸ºnull</span>
â”‚ Â  â”‚ Â  â””â”€â”€ ArgumentOutOfRangeException <span class="hljs-comment"># å‚æ•°è¶…èŒƒå›´</span>
â”‚ Â  â””â”€â”€ DivideByZeroException Â  Â  Â  Â   <span class="hljs-comment"># é™¤é›¶</span>
â”‚
â””â”€â”€ <span class="hljs-title function_ invoke__">ApplicationException</span> (åº”ç”¨ç¨‹åºå¼‚å¸¸ - ä¸æ¨èç›´æ¥ä½¿ç”¨)
 Â   â””â”€â”€ è‡ªå®šä¹‰ä¸šåŠ¡å¼‚å¸¸... 
</code></pre>
<h4 data-id="heading-8">1.2 å¼‚å¸¸ç»§æ‰¿å…³ç³»é‡è¦æ€§</h4>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// âŒ ä¸å¥½çš„åšæ³•ï¼šæ•è·åŸºç±»å¼‚å¸¸</span>
<span class="hljs-keyword">try</span> { ... }
<span class="hljs-keyword">catch</span> (<span class="hljs-built_in">Exception</span> ex)
{
 Â  Â <span class="hljs-comment">// ä»€ä¹ˆå¼‚å¸¸éƒ½æ•è·ï¼Œæ— æ³•åŒºåˆ«å¯¹å¾…</span>
}
â€‹
<span class="hljs-comment">// âœ… å¥½çš„åšæ³•ï¼šæŒ‰å¼‚å¸¸ç±»å‹åˆ†åˆ«å¤„ç†</span>
<span class="hljs-keyword">try</span> { ... }
<span class="hljs-keyword">catch</span> (ArgumentNullException ex)
{
 Â  Â <span class="hljs-comment">// å¤„ç†å‚æ•°ä¸º null çš„æƒ…å†µ</span>
}
<span class="hljs-keyword">catch</span> (ArgumentException ex)
{
 Â  Â <span class="hljs-comment">// å¤„ç†å…¶ä»–å‚æ•°å¼‚å¸¸</span>
}
<span class="hljs-keyword">catch</span> (NotFoundException ex)
{
 Â  Â <span class="hljs-comment">// å¤„ç†èµ„æºä¸å­˜åœ¨</span>
}
<span class="hljs-keyword">catch</span> (<span class="hljs-built_in">Exception</span> ex)
{
 Â  Â <span class="hljs-comment">// æœ€åæ•è·æœªé¢„æœŸçš„å¼‚å¸¸</span>
}
</code></pre>
<hr/>
<h3 data-id="heading-9">2. å¼‚å¸¸ä¼ æ’­æœºåˆ¶ï¼ˆé‡è¦ï¼ï¼‰</h3>
<h4 data-id="heading-10">2.1 å¼‚å¸¸çš„ä¼ æ’­è¿‡ç¨‹</h4>
<pre><code class="hljs language-arduino" lang="arduino">è°ƒç”¨æ ˆï¼ˆä»ä¸Šå¾€ä¸‹æ‰§è¡Œï¼‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  <span class="hljs-built_in">Main</span>() Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚  â† æœ€é¡¶å±‚ï¼ˆåº”ç”¨å…¥å£ï¼‰
â”‚ Â  â†“ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚  <span class="hljs-built_in">MethodA</span>() Â  Â  Â  Â  Â  Â  Â  Â   â”‚
â”‚ Â  â†“ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚  <span class="hljs-built_in">MethodB</span>() Â  Â  Â  Â  Â  Â  Â  Â   â”‚
â”‚ Â  â†“ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚  <span class="hljs-built_in">MethodC</span>()  â† <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ...  â”‚  â† å¼‚å¸¸å‘ç”Ÿç‚¹ ğŸ’¥
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â€‹
å¼‚å¸¸ä¼ æ’­ï¼ˆä»ä¸‹å¾€ä¸Šé€ƒé€¸ï¼‰ï¼š
ğŸ’¥ MethodC äº§ç”Ÿå¼‚å¸¸
  â†“
â“ MethodC æ²¡æœ‰ <span class="hljs-keyword">catch</span> â†’ å¼‚å¸¸ç»§ç»­å‘ä¸Šä¼ æ’­
  â†“
â“ MethodB æ²¡æœ‰ <span class="hljs-keyword">catch</span> â†’ å¼‚å¸¸ç»§ç»­å‘ä¸Šä¼ æ’­
  â†“
â“ MethodA æ²¡æœ‰ <span class="hljs-keyword">catch</span> â†’ å¼‚å¸¸ç»§ç»­å‘ä¸Šä¼ æ’­
  â†“
â“ Main æ²¡æœ‰ <span class="hljs-keyword">catch</span> â†’ å¼‚å¸¸ç»§ç»­å‘ä¸Šä¼ æ’­
  â†“
â“ æ¡†æ¶æœ€åä¸€å±‚ <span class="hljs-keyword">catch</span>ï¼ˆå¦‚æœæœ‰ï¼‰â†’ å¯èƒ½è¢«æ‹¦æˆª
  â†“
âŒ éƒ½æ²¡æœ‰ <span class="hljs-keyword">catch</span> â†’ ç¨‹åºå´©æºƒï¼
</code></pre>
<h4 data-id="heading-11">2.2 å¼‚å¸¸è¢«æ‹¦æˆªçš„æƒ…å†µ</h4>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// åœ¨æŸä¸€å±‚è¢« catch äº†</span>
<span class="hljs-built_in">MethodC</span>()
{
 Â  Â throw new <span class="hljs-built_in">Exception</span>(); Â <span class="hljs-comment">// ğŸ’¥ å¼‚å¸¸äº§ç”Ÿ</span>
}
â€‹
<span class="hljs-built_in">MethodB</span>()
{
 Â  Â try
 Â   {
 Â  Â  Â  Â <span class="hljs-built_in">MethodC</span>(); Â <span class="hljs-comment">// è°ƒç”¨å¯èƒ½æŠ›å¼‚å¸¸çš„æ–¹æ³•</span>
 Â   }
 Â  Â catch (Exception ex) Â <span class="hljs-comment">// ğŸ›‘ å¼‚å¸¸åœ¨è¿™é‡Œè¢«æ‹¦æˆªï¼</span>
 Â   {
 Â  Â  Â  Â Console<span class="hljs-selector-class">.WriteLine</span>("å¼‚å¸¸å·²å¤„ç†");
 Â  Â  Â  Â <span class="hljs-comment">// å¼‚å¸¸ä¸å†å‘ä¸Šä¼ æ’­</span>
 Â   }
 Â  Â Console<span class="hljs-selector-class">.WriteLine</span>("ç¨‹åºç»§ç»­è¿è¡Œ"); Â <span class="hljs-comment">// âœ… è¿™è¡Œä¼šæ‰§è¡Œ</span>
}
â€‹
<span class="hljs-built_in">MethodA</span>()
{
 Â  Â <span class="hljs-built_in">MethodB</span>(); Â <span class="hljs-comment">// æ²¡æœ‰å¼‚å¸¸ï¼Œæ­£å¸¸æ‰§è¡Œ</span>
}
</code></pre>
<hr/>
<h3 data-id="heading-12">3. Try-Catch åŸºç¡€ç”¨æ³•</h3>
<h4 data-id="heading-13">3.1 åŸºæœ¬ç»“æ„</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">try</span>
{
    <span class="hljs-comment">// å¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„ä»£ç </span>
    DoSomethingDangerous();
}
<span class="hljs-keyword">catch</span> (SpecificException ex)
{
    <span class="hljs-comment">// å¤„ç†ç‰¹å®šå¼‚å¸¸</span>
    Console.WriteLine(<span class="hljs-string">$"æ•è·ç‰¹å®šå¼‚å¸¸: <span class="hljs-subst">{ex.Message}</span>"</span>);
}
<span class="hljs-keyword">catch</span> (Exception ex)
{
    <span class="hljs-comment">// å¤„ç†æ‰€æœ‰å…¶ä»–å¼‚å¸¸ï¼ˆèŒƒå›´æœ€å¤§ï¼Œå¿…é¡»æ”¾åœ¨æœ€åï¼‰</span>
    Console. WriteLine(<span class="hljs-string">$"æ•è·é€šç”¨å¼‚å¸¸: <span class="hljs-subst">{ex.Message}</span>"</span>);
}
<span class="hljs-keyword">finally</span>
{
    <span class="hljs-comment">// æ— è®ºæ˜¯å¦å‘ç”Ÿå¼‚å¸¸éƒ½ä¼šæ‰§è¡Œ</span>
    <span class="hljs-comment">// é€šå¸¸ç”¨äºèµ„æºæ¸…ç†ï¼ˆé‡Šæ”¾æ•°æ®åº“è¿æ¥ã€æ–‡ä»¶å¥æŸ„ç­‰ï¼‰</span>
    Console.WriteLine(<span class="hljs-string">"æ¸…ç†èµ„æº"</span>);
}

<span class="hljs-comment">// æ‰§è¡Œé¡ºåºï¼š</span>
<span class="hljs-comment">// 1. æ‰§è¡Œ try å—</span>
<span class="hljs-comment">// 2. å¦‚æœæœ‰å¼‚å¸¸ï¼šæ‰§è¡ŒåŒ¹é…çš„ catch å—</span>
<span class="hljs-comment">// 3. æœ€åæ‰§è¡Œ finally å—</span>
<span class="hljs-comment">// 4. ç»§ç»­æ‰§è¡Œåç»­ä»£ç </span>
</code></pre>
<h4 data-id="heading-14">3.2 å¼‚å¸¸ä¿¡æ¯</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">try</span> { ... }
<span class="hljs-keyword">catch</span> (Exception ex)
{
    <span class="hljs-comment">// å¸¸ç”¨å±æ€§</span>
    ex.Message              <span class="hljs-comment">// å¼‚å¸¸æè¿°ä¿¡æ¯</span>
    ex. StackTrace           <span class="hljs-comment">// å †æ ˆè·Ÿè¸ªï¼ˆè°ƒç”¨é“¾ï¼‰</span>
    ex.InnerException       <span class="hljs-comment">// å†…éƒ¨å¼‚å¸¸ï¼ˆå¼‚å¸¸é“¾ï¼‰</span>
    ex.GetType().Name       <span class="hljs-comment">// å¼‚å¸¸ç±»å‹åç§°</span>
    
    <span class="hljs-comment">// å®é™…ä½¿ç”¨</span>
    Console.WriteLine(<span class="hljs-string">$"å¼‚å¸¸ç±»å‹: <span class="hljs-subst">{ex.GetType().Name}</span>"</span>);
    Console.WriteLine(<span class="hljs-string">$"å¼‚å¸¸ä¿¡æ¯: <span class="hljs-subst">{ex.Message}</span>"</span>);
    Console.WriteLine(<span class="hljs-string">$"å †æ ˆè·Ÿè¸ª: <span class="hljs-subst">{ex. StackTrace}</span>"</span>);
}
</code></pre>
<h4 data-id="heading-15">3.3 Catch çš„é¡ºåºå¾ˆé‡è¦</h4>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// âŒ é”™è¯¯çš„åšæ³•ï¼šé€šç”¨å¼‚å¸¸åœ¨å‰é¢</span>
<span class="hljs-keyword">try</span> { ... }
<span class="hljs-keyword">catch</span> (<span class="hljs-built_in">Exception</span> ex)  <span class="hljs-comment">// âŒ æ•è·æ‰€æœ‰å¼‚å¸¸</span>
{
    <span class="hljs-comment">// è¿™ä¼šæ‹¦æˆªä¸‹é¢æ‰€æœ‰çš„ catchï¼Œå®ƒä»¬æ°¸è¿œä¸ä¼šæ‰§è¡Œ</span>
}
<span class="hljs-keyword">catch</span> (NotFoundException ex)  <span class="hljs-comment">// âŒ æ°¸è¿œåˆ°ä¸äº†è¿™é‡Œ</span>
{
    <span class="hljs-comment">// æ­»ä»£ç ï¼</span>
}

<span class="hljs-comment">// âœ… æ­£ç¡®çš„åšæ³•ï¼šå…·ä½“å¼‚å¸¸åœ¨å‰é¢ï¼Œé€šç”¨å¼‚å¸¸åœ¨åé¢</span>
<span class="hljs-keyword">try</span> { ... }
<span class="hljs-keyword">catch</span> (NotFoundException ex)  <span class="hljs-comment">// âœ… å…ˆå¤„ç†å…·ä½“å¼‚å¸¸</span>
{
}
<span class="hljs-keyword">catch</span> (ArgumentException ex)  <span class="hljs-comment">// âœ… å†å¤„ç†æ›´é€šç”¨çš„å¼‚å¸¸</span>
{
}
<span class="hljs-keyword">catch</span> (<span class="hljs-built_in">Exception</span> ex)  <span class="hljs-comment">// âœ… æœ€åå¤„ç†æœ€é€šç”¨çš„å¼‚å¸¸</span>
{
}
</code></pre>
<h2 data-id="heading-16">è‡ªå®šä¹‰å¼‚å¸¸ä¸å…¨å±€å¼‚å¸¸å¤„ç†</h2>
<h3 data-id="heading-17">è‡ªå®šä¹‰å¼‚å¸¸</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> ä¸šåŠ¡å¼‚å¸¸åŸºç±»</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> æ‰€æœ‰è‡ªå®šä¹‰å¼‚å¸¸éƒ½ç»§æ‰¿è¿™ä¸ªç±»</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title">BusinessException</span> : <span class="hljs-title">Exception</span>
{
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> HTTP çŠ¶æ€ç </span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> ğŸ”‘ è¿™æ˜¯å…³é”®ï¼šå¼‚å¸¸ç±»å®šä¹‰ HTTP çŠ¶æ€ç æ˜¯å¤šå°‘</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> ç”±å…·ä½“å­ç±»è¦†ç›–è¿™ä¸ªå±æ€§æ¥æŒ‡å®šå„è‡ªçš„çŠ¶æ€ç </span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> </span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> ä¾‹å¦‚ï¼š</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> - NotFoundException è¿”å› 404</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> - ValidationException è¿”å› 400</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> - è¿™æ ·ä¸­é—´ä»¶å°±çŸ¥é“åº”è¯¥è¿”å›ä»€ä¹ˆçŠ¶æ€ç äº†</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-built_in">int</span> HttpStatusCode { <span class="hljs-keyword">get</span>; }

    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> é”™è¯¯ä»£ç ï¼ˆç»™å‰ç«¯çš„ï¼‰</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> ä¾‹å¦‚ï¼š"NOT_FOUND", "VALIDATION_ERROR", "UNAUTHORIZED"</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> å‰ç«¯å¯ä»¥æ ¹æ®è¿™ä¸ªä»£ç åšä¸åŒçš„å¤„ç†</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> ErrorCode { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">BusinessException</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> message, <span class="hljs-built_in">string</span> errorCode</span>) 
        : <span class="hljs-title">base</span>(<span class="hljs-params">message</span>)</span>
    {
        ErrorCode = errorCode;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">BusinessException</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> message, <span class="hljs-built_in">string</span> errorCode, Exception innerException</span>) 
        : <span class="hljs-title">base</span>(<span class="hljs-params">message, innerException</span>)</span>
    {
        ErrorCode = errorCode;
    }
}
</code></pre>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> èµ„æºæœªæ‰¾åˆ°å¼‚å¸¸</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> </span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> ä»€ä¹ˆæ—¶å€™æŠ›ï¼Ÿ</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> å½“æŸ¥è¯¢æ•°æ®åº“ï¼Œç”¨æˆ·/äº§å“/è®¢å•ç­‰èµ„æºä¸å­˜åœ¨æ—¶</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> </span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> HTTP çŠ¶æ€ç æ˜¯å¤šå°‘ï¼Ÿ404</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> </span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> é”™è¯¯ä»£ç æ˜¯ä»€ä¹ˆï¼ŸNOT_FOUND</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">NotFoundException</span> :  <span class="hljs-title">BusinessException</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-built_in">int</span> HttpStatusCode =&gt; <span class="hljs-number">404</span>;  <span class="hljs-comment">// ğŸ”‘ å…³é”®ï¼šå®šä¹‰çŠ¶æ€ç æ˜¯ 404</span>

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">NotFoundException</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> message</span>) 
        : <span class="hljs-title">base</span>(<span class="hljs-params">message, <span class="hljs-string">"NOT_FOUND"</span></span>)  <span class="hljs-comment">// ğŸ”‘ å…³é”®ï¼šå®šä¹‰é”™è¯¯ä»£ç </span></span>
    {
    }
}
</code></pre>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> è¯·æ±‚è¿‡äºé¢‘ç¹å¼‚å¸¸ï¼ˆé™æµï¼‰</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> </span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> ä»€ä¹ˆæ—¶å€™æŠ›ï¼Ÿ</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> å½“ç”¨æˆ·è¯·æ±‚å¤ªé¢‘ç¹ï¼Œè§¦å‘é™æµè§„åˆ™æ—¶</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> </span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> HTTP çŠ¶æ€ç æ˜¯å¤šå°‘ï¼Ÿ429 Too Many Requests</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> </span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> é”™è¯¯ä»£ç æ˜¯ä»€ä¹ˆï¼ŸTOO_MANY_REQUESTS</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">TooManyRequestsException</span> : <span class="hljs-title">BusinessException</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-built_in">int</span> HttpStatusCode =&gt; <span class="hljs-number">429</span>;  <span class="hljs-comment">// ğŸ”‘ å…³é”®ï¼šå®šä¹‰çŠ¶æ€ç æ˜¯ 429</span>

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">TooManyRequestsException</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> message</span>) 
        : <span class="hljs-title">base</span>(<span class="hljs-params">message, <span class="hljs-string">"TOO_MANY_REQUESTS"</span></span>)  <span class="hljs-comment">// ğŸ”‘ å…³é”®ï¼šå®šä¹‰é”™è¯¯ä»£ç </span></span>
    {
    }
}
</code></pre>
<h3 data-id="heading-18">é”™è¯¯å“åº”æ¨¡å‹</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> é”™è¯¯å“åº”æ¨¡å‹</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> </span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> å½“å¼‚å¸¸è¢«å¤„ç†åï¼Œä¸­é—´ä»¶ä¼šç”Ÿæˆè¿™æ ·çš„ JSON å“åº”è¿”å›ç»™å®¢æˆ·ç«¯</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> </span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> ç¤ºä¾‹ï¼š</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> {</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span>   "statusCode": 404,</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span>   "code": "NOT_FOUND",</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span>   "message": "ç”¨æˆ· 123 ä¸å­˜åœ¨",</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span>   "timestamp": "2026-01-14T10:30:45Z"</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> }</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ErrorResponse</span>
{
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> HTTP çŠ¶æ€ç </span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> å‘Šè¯‰å®¢æˆ·ç«¯è¿™æ˜¯ä»€ä¹ˆç±»å‹çš„é”™è¯¯</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> ä¾‹å¦‚ï¼š400(å‚æ•°é”™è¯¯), 404(æœªæ‰¾åˆ°), 429(å¤ªå¤šè¯·æ±‚), 500(æœåŠ¡å™¨é”™è¯¯)</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> StatusCode { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }

    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> é”™è¯¯ä»£ç </span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> å‰ç«¯å¯ä»¥æ ¹æ®è¿™ä¸ªä»£ç åšé’ˆå¯¹æ€§çš„å¤„ç†</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> ä¾‹å¦‚ï¼š</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> - code = "NOT_FOUND" â†’ æ˜¾ç¤º"èµ„æºä¸å­˜åœ¨"</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> - code = "VALIDATION_ERROR" â†’ æ˜¾ç¤º"å‚æ•°é”™è¯¯ï¼Œè¯·æ£€æŸ¥"</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> - code = "TOO_MANY_REQUESTS" â†’ æ˜¾ç¤º"è¯·æ±‚è¿‡äºé¢‘ç¹ï¼Œè¯·ç¨åå†è¯•"</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Code { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }

    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> é”™è¯¯ä¿¡æ¯</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> ç»™ç”¨æˆ·çœ‹çš„ï¼Œè¯´æ˜å…·ä½“å‘ç”Ÿäº†ä»€ä¹ˆ</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> ä¾‹å¦‚ï¼š"ç”¨æˆ· 123 ä¸å­˜åœ¨"</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Message { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }

    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> æ—¶é—´æˆ³</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> è®°å½•å¼‚å¸¸å‘ç”Ÿçš„æ—¶é—´</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-keyword">public</span> DateTime Timestamp { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = DateTime.UtcNow;
}
</code></pre>
<h3 data-id="heading-19">å…¨å±€å¼‚å¸¸å¤„ç†ä¸­é—´ä»¶</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> å¼‚å¸¸å¤„ç†ä¸­é—´ä»¶</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> </span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> ä½œç”¨ï¼š</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> 1. æ‹¦æˆªæ•´ä¸ªåº”ç”¨ä¸­å‘ç”Ÿçš„å¼‚å¸¸</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> 2. æ ¹æ®å¼‚å¸¸ç±»å‹åˆ¤æ–­åº”è¯¥è¿”å›ä»€ä¹ˆ HTTP çŠ¶æ€ç </span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> 3. ç”Ÿæˆå‹å¥½çš„ JSON é”™è¯¯å“åº”</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> 4. è¿”å›ç»™å®¢æˆ·ç«¯</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> </span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªä¸­é—´ä»¶ï¼Ÿ</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> - å¦‚æœä¸å¤„ç†å¼‚å¸¸ï¼Œç¨‹åºä¼šå´©æºƒ</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> - å¦‚æœæ¯ä¸ª Controller éƒ½è‡ªå·±å¤„ç†å¼‚å¸¸ï¼Œä»£ç é‡å¤</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> - æœ‰äº†ä¸­é—´ä»¶ï¼Œæ‰€æœ‰å¼‚å¸¸éƒ½åœ¨è¿™é‡Œç»Ÿä¸€å¤„ç†</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> </span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> æ‰§è¡Œä½ç½®ï¼Ÿ</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> å¿…é¡»åœ¨ Program.cs ä¸­æœ€å‰é¢æ³¨å†Œï¼š</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> app.UseMiddleware<span class="hljs-doctag">&lt;ExceptionHandlingMiddleware&gt;</span>();</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> è¿™æ ·æ‰èƒ½æ•è·æ‰€æœ‰ä¸‹å±‚ä»£ç çš„å¼‚å¸¸</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ExceptionHandlingMiddleware</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> RequestDelegate _next;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> ILogger&lt;ExceptionHandlingMiddleware&gt; _logger;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ExceptionHandlingMiddleware</span>(<span class="hljs-params">
        RequestDelegate next,
        ILogger&lt;ExceptionHandlingMiddleware&gt; logger</span>)</span>
    {
        _next = next;
        _logger = logger;
    }

    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> ä¸­é—´ä»¶çš„æ‰§è¡Œæ–¹æ³•</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> </span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> æ‰§è¡Œæµç¨‹ï¼š</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> 1. try å—ï¼šæ‰§è¡Œä¸‹é¢æ‰€æœ‰çš„ä¸­é—´ä»¶å’Œä»£ç </span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> 2. å¦‚æœæ²¡æœ‰å¼‚å¸¸ï¼šæ­£å¸¸è¿”å›å“åº”</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> 3. å¦‚æœæœ‰å¼‚å¸¸ï¼šcatch å—æ•è·ï¼Œè¿›è¡Œå¤„ç†</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">InvokeAsync</span>(<span class="hljs-params">HttpContext context</span>)</span>
    {
        <span class="hljs-keyword">try</span>
        {
            <span class="hljs-comment">// ğŸ”‘ æ‰§è¡Œä¸‹é¢æ‰€æœ‰çš„ä¸­é—´ä»¶å’Œ Controller ä»£ç </span>
            <span class="hljs-comment">// ä¾‹å¦‚ï¼šè·¯ç”±ã€è®¤è¯ã€æˆæƒã€Controller...  </span>
            <span class="hljs-comment">// å¦‚æœè¿™äº›åœ°æ–¹æŠ›å¼‚å¸¸ï¼Œä¼šç›´æ¥è·³åˆ° catch å—</span>
            <span class="hljs-keyword">await</span> _next(context);
        }
        <span class="hljs-keyword">catch</span> (Exception ex)
        {
            <span class="hljs-comment">// ğŸ›‘ æ‰€æœ‰å¼‚å¸¸éƒ½ä¼šåœ¨è¿™é‡Œè¢«æ•è·</span>
            _logger.LogError(ex, <span class="hljs-string">"å‘ç”Ÿæœªå¤„ç†çš„å¼‚å¸¸"</span>);
            
            <span class="hljs-comment">// è°ƒç”¨å¼‚å¸¸å¤„ç†æ–¹æ³•</span>
            <span class="hljs-keyword">await</span> HandleExceptionAsync(context, ex);
        }
    }

    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> å¤„ç†å¼‚å¸¸çš„æ–¹æ³•</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> </span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> é€»è¾‘ï¼š</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> 1. æ ¹æ®å¼‚å¸¸çš„ç±»å‹åˆ¤æ–­åº”è¯¥è¿”å›ä»€ä¹ˆçŠ¶æ€ç å’Œé”™è¯¯ä»£ç </span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> 2. ç”Ÿæˆ ErrorResponse å¯¹è±¡</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> 3. è®¾ç½® HTTP å“åº”çŠ¶æ€ç </span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> 4. è¿”å› JSON æ ¼å¼çš„é”™è¯¯ä¿¡æ¯</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">HandleExceptionAsync</span>(<span class="hljs-params">
        HttpContext context,
        Exception exception</span>)</span>
    {
        <span class="hljs-comment">// è®¾ç½®å“åº”çš„å†…å®¹ç±»å‹ä¸º JSON</span>
        context.Response.ContentType = <span class="hljs-string">"application/json; charset=utf-8"</span>;

        <span class="hljs-comment">// ğŸ”‘ æ ¹æ®å¼‚å¸¸ç±»å‹åˆ¤æ–­ï¼Œç”Ÿæˆä¸åŒçš„å“åº”</span>
        ErrorResponse errorResponse;
        <span class="hljs-built_in">int</span> statusCode;

        <span class="hljs-keyword">if</span> (exception <span class="hljs-keyword">is</span> BusinessException businessEx)
        {
            <span class="hljs-comment">// ğŸ“Œ ä¸šåŠ¡å¼‚å¸¸çš„å¤„ç†</span>
            <span class="hljs-comment">// businessEx.HttpStatusCode ä¼šæ ¹æ®å¼‚å¸¸ç±»å‹è¿”å›ä¸åŒçš„å€¼</span>
            <span class="hljs-comment">// ä¾‹å¦‚ï¼š</span>
            <span class="hljs-comment">// - NotFoundException.HttpStatusCode = 404</span>
            <span class="hljs-comment">// - TooManyRequestsException.HttpStatusCode = 429</span>
            
            statusCode = businessEx.HttpStatusCode;
            errorResponse = <span class="hljs-keyword">new</span> ErrorResponse
            {
                StatusCode = statusCode,
                Code = businessEx.ErrorCode,
                Message = businessEx.Message
            };
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (exception <span class="hljs-keyword">is</span> ArgumentNullException argNullEx)
        {
            <span class="hljs-comment">// ğŸ“Œ å‚æ•°ä¸º null çš„å¼‚å¸¸ â†’ 400 Bad Request</span>
            statusCode = <span class="hljs-number">400</span>;
            errorResponse = <span class="hljs-keyword">new</span> ErrorResponse
            {
                StatusCode = <span class="hljs-number">400</span>,
                Code = <span class="hljs-string">"BAD_REQUEST"</span>,
                Message = <span class="hljs-string">$"å‚æ•°ä¸èƒ½ä¸ºç©º:  <span class="hljs-subst">{argNullEx.ParamName}</span>"</span>
            };
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (exception <span class="hljs-keyword">is</span> ArgumentException argEx)
        {
            <span class="hljs-comment">// ğŸ“Œ å‚æ•°ä¸åˆæ³•çš„å¼‚å¸¸ â†’ 400 Bad Request</span>
            statusCode = <span class="hljs-number">400</span>;
            errorResponse = <span class="hljs-keyword">new</span> ErrorResponse
            {
                StatusCode = <span class="hljs-number">400</span>,
                Code = <span class="hljs-string">"BAD_REQUEST"</span>,
                Message = argEx.Message
            };
        }
        <span class="hljs-keyword">else</span>
        {
            <span class="hljs-comment">// ğŸ“Œ æœªé¢„æœŸçš„å¼‚å¸¸ â†’ 500 Internal Server Error</span>
            <span class="hljs-comment">// è¿™ä¸ªçŠ¶æ€ç è¡¨ç¤ºæœåŠ¡å™¨å†…éƒ¨å‡ºé”™äº†</span>
            statusCode = <span class="hljs-number">500</span>;
            errorResponse = <span class="hljs-keyword">new</span> ErrorResponse
            {
                StatusCode = <span class="hljs-number">500</span>,
                Code = <span class="hljs-string">"INTERNAL_SERVER_ERROR"</span>,
                Message = <span class="hljs-string">"æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼Œè¯·ç¨åé‡è¯•"</span>
                <span class="hljs-comment">// ğŸ”’ æ³¨æ„ï¼šä¸è¦æš´éœ²å¼‚å¸¸çš„åŸå§‹ä¿¡æ¯ç»™å‰ç«¯</span>
                <span class="hljs-comment">// è¿™æ ·å¯ä»¥ä¿æŠ¤ç³»ç»Ÿçš„å®‰å…¨</span>
            };
        }

        <span class="hljs-comment">// è®¾ç½® HTTP å“åº”çš„çŠ¶æ€ç </span>
        <span class="hljs-comment">// è¿™ä¸ªçŠ¶æ€ç éå¸¸é‡è¦ï¼Œå®¢æˆ·ç«¯ä¼šæ ¹æ®è¿™ä¸ªæ¥åˆ¤æ–­è¯·æ±‚æ˜¯å¦æˆåŠŸ</span>
        <span class="hljs-comment">// ä¾‹å¦‚ï¼š</span>
        <span class="hljs-comment">// - 200: æˆåŠŸ</span>
        <span class="hljs-comment">// - 400: å®¢æˆ·ç«¯é”™è¯¯ï¼ˆå‚æ•°é—®é¢˜ï¼‰</span>
        <span class="hljs-comment">// - 404: èµ„æºæœªæ‰¾åˆ°</span>
        <span class="hljs-comment">// - 429: è¯·æ±‚è¿‡äºé¢‘ç¹</span>
        <span class="hljs-comment">// - 500: æœåŠ¡å™¨é”™è¯¯</span>
        context.Response.StatusCode = statusCode;

        <span class="hljs-comment">// å°†é”™è¯¯å“åº”åºåˆ—åŒ–ä¸º JSON å¹¶è¿”å›ç»™å®¢æˆ·ç«¯</span>
        <span class="hljs-keyword">await</span> context. Response.WriteAsJsonAsync(errorResponse);
    }
}
</code></pre>
<h4 data-id="heading-20">æ³¨å†Œä¸­é—´ä»¶</h4>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-selector-tag">var</span> app = builder<span class="hljs-selector-class">.Build</span>();

<span class="hljs-comment">// ğŸ”‘ ã€å…³é”®ã€‘å¼‚å¸¸å¤„ç†ä¸­é—´ä»¶å¿…é¡»åœ¨æœ€å‰é¢æ³¨å†Œ</span>
<span class="hljs-comment">// è¿™æ ·æ‰èƒ½æ•è·ä¸‹é¢æ‰€æœ‰ä¸­é—´ä»¶å’Œä»£ç çš„å¼‚å¸¸</span>
app<span class="hljs-selector-class">.UseMiddleware</span>&lt;ExceptionHandlingMiddleware&gt;();

<span class="hljs-comment">// å…¶ä»–ä¸­é—´ä»¶... </span>
app<span class="hljs-selector-class">.UseRouting</span>();
app<span class="hljs-selector-class">.MapControllers</span>();

app<span class="hljs-selector-class">.Run</span>();
</code></pre>
<h4 data-id="heading-21">ç®¡é“å¤„ç†æµç¨‹</h4>
<pre><code class="hljs language-csharp" lang="csharp">â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                    ã€è¯·æ±‚è¿›æ¥ - å‘ä¸‹æµåŠ¨ã€‘

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                        å®¢æˆ·ç«¯è¯·æ±‚
                             â†“
                    GET /api/user/<span class="hljs-number">123</span>
                             â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚          Pipelineï¼šä¸­é—´ä»¶ç®¡é“ (æŒ‰é¡ºåº)           â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚                                                â”‚
        â”‚  ã€ç¬¬<span class="hljs-number">1</span>å±‚ã€‘å¼‚å¸¸å¤„ç†ä¸­é—´ä»¶                        â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚ <span class="hljs-keyword">try</span> {                                   â”‚  â”‚
        â”‚  â”‚   <span class="hljs-keyword">await</span> _next(context)  â† è¿›å…¥ <span class="hljs-keyword">try</span> å—  â”‚  â”‚
        â”‚  â”‚                                         â”‚  â”‚
        â”‚  â”‚ } <span class="hljs-keyword">catch</span> (Exception ex) {                â”‚  â”‚
        â”‚  â”‚   <span class="hljs-comment">// å°†åœ¨è¿™é‡Œæ•è·ä¸‹é¢æ‰€æœ‰çš„å¼‚å¸¸         â”‚  â”‚</span>
        â”‚  â”‚ }                                       â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”‚              â†“                                 â”‚
        â”‚  ã€ç¬¬<span class="hljs-number">2</span>å±‚ã€‘æ—¥å¿—ä¸­é—´ä»¶                           â”‚
        â”‚  â”œâ”€ è®°å½•è¯·æ±‚ä¿¡æ¯                              â”‚
        â”‚  â””â”€ <span class="hljs-keyword">await</span> _next(context)                      â”‚
        â”‚              â†“                                 â”‚
        â”‚  ã€ç¬¬<span class="hljs-number">3</span>å±‚ã€‘è®¤è¯ä¸­é—´ä»¶                           â”‚
        â”‚  â”œâ”€ æ£€æŸ¥ Token                                â”‚
        â”‚  â”œâ”€ éªŒè¯ç”¨æˆ·èº«ä»½                              â”‚
        â”‚  â””â”€ <span class="hljs-keyword">await</span> _next(context)                      â”‚
        â”‚              â†“                                 â”‚
        â”‚  ã€ç¬¬<span class="hljs-number">4</span>å±‚ã€‘æˆæƒä¸­é—´ä»¶                           â”‚
        â”‚  â”œâ”€ æ£€æŸ¥æƒé™                                  â”‚
        â”‚  â””â”€ <span class="hljs-keyword">await</span> _next(context)                      â”‚
        â”‚              â†“                                 â”‚
        â”‚  ã€ç¬¬<span class="hljs-number">5</span>å±‚ã€‘è·¯ç”±ä¸­é—´ä»¶                           â”‚
        â”‚  â”œâ”€ åŒ¹é…è·¯ç”±è§„åˆ™                              â”‚
        â”‚  â””â”€ ç¡®å®šä½¿ç”¨å“ªä¸ª Controller                   â”‚
        â”‚                                                â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â†“
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   ã€Controllerã€‘æ§åˆ¶å™¨            â”‚
            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚                                 â”‚
            â”‚  [HttpGet(<span class="hljs-string">"{id}"</span>)]              â”‚
            â”‚  <span class="hljs-function"><span class="hljs-keyword">public</span> IActionResult <span class="hljs-title">Get</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> id</span>)
            â”‚</span>  {                              â”‚
            â”‚    <span class="hljs-comment">// ä» DI å®¹å™¨è·å–æœåŠ¡         â”‚</span>
            â”‚    <span class="hljs-keyword">var</span> user = _userService      â”‚  â† DI å®¹å™¨æ³¨å…¥
            â”‚                 . GetUser(id);   â”‚
            â”‚                                 â”‚
            â”‚    <span class="hljs-keyword">return</span> Ok(user);             â”‚
            â”‚  }                              â”‚
            â”‚                                 â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  ã€Service å±‚ã€‘ä¸šåŠ¡é€»è¾‘              â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚                                      â”‚
         â”‚  <span class="hljs-function"><span class="hljs-keyword">public</span> User <span class="hljs-title">GetUser</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> id</span>)         â”‚
         â”‚</span>  {                                   â”‚
         â”‚    <span class="hljs-comment">// å‚æ•°éªŒè¯                       â”‚</span>
         â”‚    <span class="hljs-keyword">if</span> (id &lt;= <span class="hljs-number">0</span>)                      â”‚
         â”‚      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ValidationException();â”‚
         â”‚                                      â”‚
         â”‚    <span class="hljs-comment">// ä» DI å®¹å™¨è·å– Repository     â”‚</span>
         â”‚    <span class="hljs-keyword">var</span> user = _userRepository        â”‚  â† DI å®¹å™¨æ³¨å…¥
         â”‚                   .GetById(id);      â”‚
         â”‚                                      â”‚
         â”‚    <span class="hljs-keyword">if</span> (user == <span class="hljs-literal">null</span>)                 â”‚
         â”‚      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NotFoundException();   â”‚
         â”‚                                      â”‚
         â”‚    <span class="hljs-keyword">return</span> user;                      â”‚
         â”‚  }                                   â”‚
         â”‚                                      â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â†“
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  ã€Repository å±‚ã€‘æ•°æ®è®¿é—®                â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚                                           â”‚
       â”‚  <span class="hljs-function"><span class="hljs-keyword">public</span> User <span class="hljs-title">GetById</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> id</span>)              â”‚
       â”‚</span>  {                                        â”‚
       â”‚    <span class="hljs-keyword">return</span> _dbContext.Users.Find(id);      â”‚
       â”‚  }                                        â”‚
       â”‚                                           â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â†“
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚  ã€æ•°æ®åº“ / å¤–éƒ¨ç³»ç»Ÿã€‘                      â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
      â”‚                                              â”‚
      â”‚  SQL Server / MySQL / MongoDB / API         â”‚
      â”‚                                              â”‚
      â”‚  âœ… æˆåŠŸï¼šè¿”å›æ•°æ®                           â”‚
      â”‚  âŒ å¼‚å¸¸ï¼šæŠ›å‡ºå¼‚å¸¸ (è¿æ¥è¶…æ—¶ã€æŸ¥è¯¢å¤±è´¥ç­‰)    â”‚
      â”‚                                              â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â†“

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    ã€å¼‚å¸¸å‘ä¸Šä¼ æ’­ - ä¸Šå‡æµåŠ¨ã€‘
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                    ğŸ’¥ å¼‚å¸¸äº§ç”Ÿï¼ˆæ•°æ®åº“ï¼‰
                             â†‘
                ã€Repositoryã€‘æŠ›å¼‚å¸¸å‘ä¸Š
                    ï¼ˆæ²¡æœ‰ <span class="hljs-keyword">catch</span>ï¼‰
                             â†‘
              ã€Serviceã€‘æ•è·ï¼Ÿé€šå¸¸å†æŠ›å¼‚å¸¸
              â”Œâ”€ <span class="hljs-keyword">try</span> { _repo.GetById() }
              â””â”€ <span class="hljs-keyword">catch</span> { <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> BusinessException(...) }
                             â†‘
            ã€Controllerã€‘æ•è·ï¼Ÿé€šå¸¸ä¸å¤„ç†
            ï¼ˆå‡è®¾ Service æŠ›äº†å¼‚å¸¸ï¼‰
                             â†‘
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚          Pipelineï¼šä¸­é—´ä»¶ç®¡é“ (å‘ä¸Šè¿”å›)        â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚                                                â”‚
        â”‚  ã€ç¬¬<span class="hljs-number">5</span>å±‚ã€‘è·¯ç”±ä¸­é—´ä»¶                           â”‚
        â”‚  â”œâ”€ å¼‚å¸¸å‘ä¸Šä¼ æ’­                              â”‚
        â”‚  â””â”€ <span class="hljs-keyword">catch</span>ï¼Ÿæ²¡æœ‰                               â”‚
        â”‚              â†‘                                 â”‚
        â”‚  ã€ç¬¬<span class="hljs-number">4</span>å±‚ã€‘æˆæƒä¸­é—´ä»¶                           â”‚
        â”‚  â”œâ”€ å¼‚å¸¸å‘ä¸Šä¼ æ’­                              â”‚
        â”‚  â””â”€ <span class="hljs-keyword">catch</span>ï¼Ÿæ²¡æœ‰                               â”‚
        â”‚              â†‘                                 â”‚
        â”‚  ã€ç¬¬<span class="hljs-number">3</span>å±‚ã€‘è®¤è¯ä¸­é—´ä»¶                           â”‚
        â”‚  â”œâ”€ å¼‚å¸¸å‘ä¸Šä¼ æ’­                              â”‚
        â”‚  â””â”€ <span class="hljs-keyword">catch</span>ï¼Ÿæ²¡æœ‰                               â”‚
        â”‚              â†‘                                 â”‚
        â”‚  ã€ç¬¬<span class="hljs-number">2</span>å±‚ã€‘æ—¥å¿—ä¸­é—´ä»¶                           â”‚
        â”‚  â”œâ”€ å¯èƒ½è®°å½•å¼‚å¸¸                              â”‚
        â”‚  â””â”€ <span class="hljs-keyword">catch</span>ï¼Ÿå¯èƒ½æœ‰ï¼Œä½†é€šå¸¸åªæ˜¯è®°å½•åç»§ç»­æŠ›     â”‚
        â”‚              â†‘                                 â”‚
        â”‚  ã€ç¬¬<span class="hljs-number">1</span>å±‚ã€‘å¼‚å¸¸å¤„ç†ä¸­é—´ä»¶                       â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚ <span class="hljs-keyword">try</span> {                                   â”‚  â”‚
        â”‚  â”‚   <span class="hljs-keyword">await</span> _next(context)                  â”‚  â”‚
        â”‚  â”‚                                         â”‚  â”‚
        â”‚  â”‚ } <span class="hljs-keyword">catch</span> (Exception ex) {                â”‚  â”‚
        â”‚  â”‚   ğŸ›‘ å¼‚å¸¸åœ¨è¿™é‡Œè¢«ç»ˆæ­¢ï¼                 â”‚  â”‚
        â”‚  â”‚                                         â”‚  â”‚
        â”‚  â”‚   <span class="hljs-comment">// åˆ¤æ–­å¼‚å¸¸ç±»å‹                       â”‚  â”‚</span>
        â”‚  â”‚   <span class="hljs-keyword">if</span> (ex <span class="hljs-keyword">is</span> ValidationException)        â”‚  â”‚
        â”‚  â”‚     <span class="hljs-keyword">return</span> <span class="hljs-number">422</span>;                         â”‚  â”‚
        â”‚  â”‚   <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ex <span class="hljs-keyword">is</span> NotFoundException)     â”‚  â”‚
        â”‚  â”‚     <span class="hljs-keyword">return</span> <span class="hljs-number">404</span>;                         â”‚  â”‚
        â”‚  â”‚   <span class="hljs-keyword">else</span>                                  â”‚  â”‚
        â”‚  â”‚     <span class="hljs-keyword">return</span> <span class="hljs-number">500</span>;                         â”‚  â”‚
        â”‚  â”‚                                         â”‚  â”‚
        â”‚  â”‚   <span class="hljs-comment">// ç”Ÿæˆé”™è¯¯å“åº”                       â”‚  â”‚</span>
        â”‚  â”‚   <span class="hljs-keyword">await</span> context.Response                â”‚  â”‚
        â”‚  â”‚     .WriteAsJsonAsync(errorResponse);   â”‚  â”‚
        â”‚  â”‚ }                                       â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”‚              â†“                                 â”‚
        â”‚       å¼‚å¸¸å¤„ç†å®Œæ¯•ï¼Œä¸å†å‘ä¸Š                  â”‚
        â”‚       è¿”å›é”™è¯¯å“åº”ç»™å®¢æˆ·ç«¯                    â”‚
        â”‚                                                â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â†“
                        HTTP å“åº”
                    (çŠ¶æ€ç  + JSON ä½“)
                             â†“
                      ã€å®¢æˆ·ç«¯æ¥æ”¶ã€‘


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                         å…³é”®è¦ç‚¹
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… ã€DI å®¹å™¨ã€‘
   - Service é€šè¿‡ DI å®¹å™¨ä» Controller è·å–
   - Repository é€šè¿‡ DI å®¹å™¨ä» Service è·å–
   - æ‰€æœ‰ä¾èµ–éƒ½ç”±å®¹å™¨ç®¡ç†ï¼Œè§£è€¦åˆ

âœ… ã€å¼‚å¸¸ä¼ æ’­é“¾ã€‘
   æ•°æ®åº“å¼‚å¸¸
        â†‘
   Repository æŠ›å¼‚å¸¸
        â†‘
   Service æ•è· â†’ è½¬æ¢ä¸º BusinessException â†’ ç»§ç»­æŠ›
        â†‘
   Controllerï¼ˆé€šå¸¸ä¸å¤„ç†ï¼‰
        â†‘
   ä¸­é—´ä»¶ä»¬ï¼ˆé€šå¸¸ä¸å¤„ç†ï¼‰
        â†‘
   å¼‚å¸¸å¤„ç†ä¸­é—´ä»¶ ğŸ›‘ æœ€ç»ˆæ•è·ï¼

âœ… ã€ä¸ºä»€ä¹ˆå¼‚å¸¸å¤„ç†ä¸­é—´ä»¶åœ¨æœ€é¡¶å±‚ã€‘
   - å› ä¸ºå¼‚å¸¸æ˜¯å‘ä¸Šä¼ æ’­çš„
   - è¶Šå¾€é¡¶å±‚è¶Šèƒ½æ•è·æ›´å¤šçš„å¼‚å¸¸
   - ç¬¬<span class="hljs-number">1</span>å±‚çš„ <span class="hljs-keyword">catch</span> æ˜¯æ•´ä¸ªåº”ç”¨çš„æœ€åé˜²çº¿
   - ç¡®ä¿æ²¡æœ‰å¼‚å¸¸<span class="hljs-string">"é€ƒè„±"</span>

âœ… ã€å¤„ç†æµç¨‹å°ç»“ã€‘
   è¯·æ±‚å‘ä¸‹ â†’ ç»è¿‡ç®¡é“ â†’ åˆ°è¾¾ Controller
          â†’ è°ƒç”¨ Serviceï¼ˆé€šè¿‡ DIï¼‰
          â†’ Service è°ƒç”¨ Repositoryï¼ˆé€šè¿‡ DIï¼‰
          â†’ Repository è°ƒç”¨æ•°æ®åº“
   
   å¼‚å¸¸å‘ä¸Š â†’ ä»æ•°æ®åº“/ä¸šåŠ¡é€»è¾‘äº§ç”Ÿ
          â†’ å‘ä¸Šä¼ æ’­... 
          â†’ è¢«å¼‚å¸¸å¤„ç†ä¸­é—´ä»¶ <span class="hljs-keyword">catch</span> ğŸ›‘ ç»ˆæ­¢
          â†’ è¿”å›é”™è¯¯å“åº”

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
</code></pre>
<h4 data-id="heading-22">ä¸ºä»€ä¹ˆæŠ›é”™èƒ½è¢«è¯»æ‡‚å’Œæ¥æ”¶</h4>
<p>context.Response.StatusCode = statusCode;</p>
<pre><code class="hljs language-markdown" lang="markdown">ã€è§£é‡Šã€‘
<span class="hljs-bullet">1.</span> contextï¼ˆä¸Šä¸‹æ–‡ï¼‰
<span class="hljs-bullet">   -</span> ä»£è¡¨å½“å‰çš„ HTTP è¯·æ±‚å’Œå“åº”
<span class="hljs-bullet">   -</span> åŒ…å«äº†è¯·æ±‚çš„æ‰€æœ‰ä¿¡æ¯ï¼ˆURLã€å‚æ•°ã€Body ç­‰ï¼‰
<span class="hljs-bullet">   -</span> ä¹ŸåŒ…å«äº†å³å°†è¿”å›ç»™å®¢æˆ·ç«¯çš„å“åº”ä¿¡æ¯

<span class="hljs-bullet">2.</span> Responseï¼ˆå“åº”ï¼‰
<span class="hljs-bullet">   -</span> HTTP å“åº”å¯¹è±¡
<span class="hljs-bullet">   -</span> ç”¨æ¥è®¾ç½®è¿”å›ç»™å®¢æˆ·ç«¯çš„å†…å®¹

<span class="hljs-bullet">3.</span> StatusCodeï¼ˆçŠ¶æ€ç ï¼‰
<span class="hljs-bullet">   -</span> è¿™æ˜¯å“åº”çš„çŠ¶æ€è¡Œä¸­çš„æ•°å­—
<span class="hljs-bullet">   -</span> å®ƒå‘Šè¯‰å®¢æˆ·ç«¯ï¼š"è¿™ä¸ªè¯·æ±‚çš„ç»“æœå¦‚ä½•ï¼Ÿ"

<span class="hljs-bullet">4.</span> = statusCodeï¼ˆèµ‹å€¼ï¼‰
<span class="hljs-bullet">   -</span> å°†å˜é‡ statusCode çš„å€¼èµ‹ç»™ Response. StatusCode
<span class="hljs-bullet">   -</span> ä¾‹å¦‚ï¼šstatusCode = 404ï¼Œå°±è®¾ç½®ä¸º HTTP 404
</code></pre>
<p>await context. Response.WriteAsJsonAsync(errorResponse);</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-number">1.</span> context. <span class="hljs-title class_">Response</span>ï¼ˆå“åº”å¯¹è±¡ï¼‰
   - è¿™æ˜¯å³å°†è¿”å›ç»™å®¢æˆ·ç«¯çš„ <span class="hljs-variable constant_">HTTP</span> å“åº”
   - æˆ‘ä»¬è¦æŠŠå†…å®¹å†™å…¥è¿™ä¸ªå¯¹è±¡

<span class="hljs-number">2.</span> <span class="hljs-title class_">WriteAsJsonAsync</span>ï¼ˆå¼‚æ­¥å†™å…¥ <span class="hljs-title class_">JSON</span>ï¼‰
   - å°†å¯¹è±¡åºåˆ—åŒ–ï¼ˆè½¬æ¢ï¼‰ä¸º <span class="hljs-title class_">JSON</span> æ ¼å¼
   - <span class="hljs-string">"å¼‚æ­¥"</span>æ„å‘³ç€è¿™æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œéœ€è¦ <span class="hljs-keyword">await</span>
   - éœ€è¦ç­‰å¾…æ•°æ®å†™å…¥å®Œæˆ

<span class="hljs-number">3.</span> errorResponseï¼ˆé”™è¯¯å“åº”å¯¹è±¡ï¼‰
   - ä¸€ä¸ª <span class="hljs-title class_">ErrorResponse</span> å¯¹è±¡ï¼ŒåŒ…å«ï¼š
     {
       <span class="hljs-string">"statusCode"</span>: <span class="hljs-number">404</span>,
       <span class="hljs-string">"code"</span>: <span class="hljs-string">"NOT_FOUND"</span>,
       <span class="hljs-string">"message"</span>: <span class="hljs-string">"ç”¨æˆ· 123 ä¸å­˜åœ¨"</span>,
       <span class="hljs-string">"timestamp"</span>:  <span class="hljs-string">"2026-01-14..."</span>
     }

<span class="hljs-number">4.</span> åºåˆ—åŒ–è¿‡ç¨‹
   <span class="hljs-title class_">ErrorResponse</span> å¯¹è±¡
     â†“
   è½¬æ¢ä¸º <span class="hljs-title class_">JSON</span> å­—ç¬¦ä¸²
     â†“
   å†™å…¥ <span class="hljs-variable constant_">HTTP</span> å“åº”ä½“
     â†“
   å®¢æˆ·ç«¯æ¥æ”¶

ã€å®Œæ•´è¿‡ç¨‹ã€‘

<span class="hljs-keyword">var</span> errorResponse = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ErrorResponse</span>
{
    <span class="hljs-title class_">StatusCode</span> = <span class="hljs-number">404</span>,
    <span class="hljs-title class_">Code</span> = <span class="hljs-string">"NOT_FOUND"</span>,
    <span class="hljs-title class_">Message</span> = <span class="hljs-string">"ç”¨æˆ· 123 ä¸å­˜åœ¨"</span>,
    <span class="hljs-title class_">Timestamp</span> = <span class="hljs-title class_">DateTime</span>. <span class="hljs-title class_">UtcNow</span>
};
</code></pre>
<p>å¦‚ä¸Š:</p>
<pre><code class="hljs">å®¢æˆ·ç«¯httpæ¥æ”¶åˆ°åå¯ä»¥æ ¹æ®çŠ¶æ€ç å’Œå¾—åˆ°çš„è¿”å›json,çŸ¥é“å½“å‰è¯·æ±‚çš„çŠ¶æ€å’Œæ•°æ®
</code></pre>
<h2 data-id="heading-23">ABPå¼‚å¸¸å¤„ç†</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fabp.io%2Fdocs%2Flatest%2Fframework%2Ffundamentals%2Fexception-handling" target="_blank" title="https://abp.io/docs/latest/framework/fundamentals/exception-handling" ref="nofollow noopener noreferrer">abp.io/docs/latestâ€¦</a></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AbpExceptionHandlingMiddleware</span> : <span class="hljs-type">AbpMiddlewareBase</span>, <span class="hljs-type">ITransientDependency</span>

ABPå°è£…äº†å¼‚å¸¸å¤„ç†ä¸­é—´ä»¶
</code></pre>
<h3 data-id="heading-24">è‡ªå®šä¹‰å¼‚å¸¸</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">AbpRateLimitException</span> : <span class="hljs-title">BusinessException</span>,<span class="hljs-title">IHasHttpStatusCode</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> RetryAfterSeconds { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-number">60</span>;
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">AbpRateLimitException</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> retryAfterSeconds = <span class="hljs-number">60</span></span>) 
        : <span class="hljs-title">base</span>(<span class="hljs-params"><span class="hljs-string">"è¯·æ±‚è¿‡äºé¢‘ç¹ï¼Œè¯·ç¨åå†è¯•ã€‚"</span>,<span class="hljs-string">"RateLimitException"</span></span>)</span>
    {
        RetryAfterSeconds = retryAfterSeconds;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> HttpStatusCode =&gt; <span class="hljs-number">429</span>;
}



	
Error: response status <span class="hljs-keyword">is</span> <span class="hljs-number">429</span>
Response body
{
  <span class="hljs-string">"error"</span>: {
    <span class="hljs-string">"code"</span>: <span class="hljs-string">"è¯·æ±‚è¿‡äºé¢‘ç¹ï¼Œè¯·ç¨åå†è¯•ã€‚"</span>,
    <span class="hljs-string">"message"</span>: <span class="hljs-string">"å¯¹ä¸èµ·ï¼Œåœ¨å¤„ç†æ‚¨çš„è¯·æ±‚æœŸé—´äº§ç”Ÿäº†ä¸€ä¸ªæœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼ï¼"</span>,
    <span class="hljs-string">"details"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-string">"data"</span>: {},
    <span class="hljs-string">"validationErrors"</span>: <span class="hljs-literal">null</span>
  }
}
</code></pre>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">AbpRateLimitException</span> : <span class="hljs-title">UserFriendlyException</span>,<span class="hljs-title">IHasHttpStatusCode</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> RetryAfterSeconds { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-number">60</span>;
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">AbpRateLimitException</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> retryAfterSeconds = <span class="hljs-number">60</span></span>) 
        : <span class="hljs-title">base</span>(<span class="hljs-params"><span class="hljs-string">$"è¯·æ±‚è¿‡äºé¢‘ç¹ï¼Œè¯·<span class="hljs-subst">{retryAfterSeconds}</span>ç§’åå†è¯•ã€‚"</span>,<span class="hljs-string">"RateLimitException"</span></span>)</span>
    {
        RetryAfterSeconds = retryAfterSeconds;
       
         <span class="hljs-comment">// âœ… ç›´æ¥è®¾ç½® Data å­—å…¸,æ‰©å±•å­—æ®µæ•°æ®,æ¥è‡³äºException</span>
        <span class="hljs-comment">//this.Data["retryAfterSeconds"] = retryAfterSeconds;</span>
            
       <span class="hljs-comment">//ä½¿ç”¨å†…ç½®çš„WithData æ–¹æ³•</span>
       WithData(<span class="hljs-string">"retryAfterSeconds"</span>,retryAfterSeconds);
    }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> HttpStatusCode =&gt; <span class="hljs-number">429</span>;
}


Error: response status <span class="hljs-keyword">is</span> <span class="hljs-number">429</span>
Response body
{
  <span class="hljs-string">"error"</span>: {
    <span class="hljs-string">"code"</span>: <span class="hljs-string">"RateLimitException"</span>,
    <span class="hljs-string">"message"</span>: <span class="hljs-string">"è¯·æ±‚è¿‡äºé¢‘ç¹ï¼Œè¯·ç¨åå†è¯•ã€‚"</span>,   
    <span class="hljs-string">"details"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-string">"data"</span>: {},
    <span class="hljs-string">"validationErrors"</span>: <span class="hljs-literal">null</span>
  }
}


<span class="hljs-comment">//ç»§æ‰¿çš„ABPå°è£…çš„å¼‚å¸¸ç±»ä¸åŒ,Code/messageä¹Ÿä¸åŒ,åŒæ—¶éUserFriendlyException,ä¼šè¢«è¦†ç›–messageæ•°æ®,åªæœ‰åœ¨logä¸­æ‰èƒ½çœ‹åˆ°.</span>
</code></pre>
<h2 data-id="heading-25">æ‹“å±•</h2>
<h3 data-id="heading-26">HttpçŠ¶æ€ç </h3>
<p>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ çŠ¶æ€ç  â”‚ å«ä¹‰ â”‚ ä½•æ—¶ä½¿ç”¨ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ 200 â”‚ OKï¼ˆæˆåŠŸï¼‰ â”‚ GET, PUT, PATCH æˆåŠŸ â”‚ â”‚ 201 â”‚ Createdï¼ˆå·²åˆ›å»ºï¼‰ â”‚ POST åˆ›å»ºæˆåŠŸ â”‚ â”‚ 204 â”‚ No Contentï¼ˆæ— å†…å®¹ï¼‰ â”‚ DELETE æˆåŠŸ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ 400 â”‚ Bad Requestï¼ˆåè¯·æ±‚ï¼‰â”‚ å‚æ•°éªŒè¯å¤±è´¥ â”‚ â”‚ 401 â”‚ Unauthorizedï¼ˆæœªæˆæƒï¼‰â”‚ æœªç™»å½•æˆ– Token è¿‡æœŸ â”‚ â”‚ 403 â”‚ Forbiddenï¼ˆç¦æ­¢ï¼‰ â”‚ å·²ç™»å½•ä½†æƒé™ä¸è¶³ â”‚ â”‚ 404 â”‚ Not Foundï¼ˆæœªæ‰¾åˆ°ï¼‰ â”‚ èµ„æºä¸å­˜åœ¨ â”‚ â”‚ 409 â”‚ Conflictï¼ˆå†²çªï¼‰ â”‚ æ•°æ®å†²çª â”‚ â”‚ 429 â”‚ Too Manyï¼ˆå¤ªå¤šï¼‰ â”‚ è¯·æ±‚è¿‡äºé¢‘ç¹ï¼ˆé™æµï¼‰â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ 500 â”‚ Server Errorï¼ˆæœåŠ¡å™¨é”™è¯¯ï¼‰ â”‚ æœªå¤„ç†çš„å¼‚å¸¸ â”‚ â”‚ 502 â”‚ Bad Gatewayï¼ˆç½‘å…³é”™è¯¯ï¼‰ â”‚ ä¸Šæ¸¸æœåŠ¡æ•…éšœ â”‚ â”‚ 503 â”‚ Unavailableï¼ˆä¸å¯ç”¨ï¼‰â”‚ æœåŠ¡ç»´æŠ¤æˆ–è¿‡è½½ â”‚ â”‚ 504 â”‚ Timeoutï¼ˆè¶…æ—¶ï¼‰ â”‚ è¯·æ±‚å¤„ç†è¶…æ—¶ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</p>
<h3 data-id="heading-27">ä¸ºä»€ä¹ˆASP.NET Coreæ¡†æ¶ä¸ä¼šå› ä¸ºå¼‚å¸¸è€Œå´©æºƒï¼Ÿ</h3>
<p>æ¶æ„å¯¹æ¯”</p>



































<table><thead><tr><th>æ¡†æ¶</th><th>è¿è¡Œæ¨¡å¼</th><th>å¼‚å¸¸å¤„ç†</th><th>ç»“æœ</th></tr></thead><tbody><tr><td><strong>ASP.NET Core</strong></td><td>æœåŠ¡å™¨è¿›ç¨‹ï¼ˆWeb API åç«¯ï¼‰</td><td>âœ… æ¡†æ¶å†…ç½®å¼‚å¸¸æ•è·</td><td>å¼‚å¸¸ä¸å¯¼è‡´è¿›ç¨‹å´©æºƒ</td></tr><tr><td><strong>WinForms</strong></td><td>æ¡Œé¢åº”ç”¨ï¼ˆå•ä¸ªè¿›ç¨‹ï¼‰</td><td>âŒ æ²¡æœ‰å†…ç½®å¼‚å¸¸æ•è·</td><td>ä¸»çº¿ç¨‹å¼‚å¸¸ â†’ UI å†»ç»“/å´©æºƒ</td></tr><tr><td><strong>WPF</strong></td><td>æ¡Œé¢åº”ç”¨ï¼ˆå•ä¸ªè¿›ç¨‹ï¼‰</td><td>âŒ æ²¡æœ‰å†…ç½®å¼‚å¸¸æ•è·</td><td>ä¸»çº¿ç¨‹å¼‚å¸¸ â†’ UI å†»ç»“/å´©æºƒ</td></tr><tr><td><strong>Console</strong></td><td>æ§åˆ¶å°åº”ç”¨</td><td>âŒ æ²¡æœ‰å†…ç½®å¼‚å¸¸æ•è·</td><td>å¼‚å¸¸ â†’ åº”ç”¨ç›´æ¥é€€å‡º</td></tr></tbody></table>
<hr/>
<h4 data-id="heading-28">å…³é”®åŸå› </h4>
<h5 data-id="heading-29">1ï¸âƒ£ <strong>æœåŠ¡å™¨çš„å¿…è¦æ€§ï¼ˆä¸ºä»€ä¹ˆ ASP.NET Core å¿…é¡»å¤„ç†å¼‚å¸¸ï¼‰</strong></h5>
<pre><code class="hljs">ASP.NET Coreï¼š
  è¿›ç¨‹å¯åŠ¨ â†’ æŒç»­ç›‘å¬ â†’ æ¥æ”¶å¤šä¸ª HTTP è¯·æ±‚ â†’ éœ€è¦ 24/7 è¿è¡Œ

å¿…è¦æ¡ä»¶ï¼š
  âœ“ ä¸€ä¸ªè¯·æ±‚å‡ºé”™ï¼Œä¸èƒ½å½±å“å…¶ä»–è¯·æ±‚
  âœ“ ä¸€ä¸ªè¯·æ±‚å¼‚å¸¸ï¼Œä¸èƒ½å¯¼è‡´è¿›ç¨‹å´©æºƒ
  âœ“ å¿…é¡»æœ‰å¼‚å¸¸éš”ç¦»æœºåˆ¶
  
â†’ æ‰€ä»¥æ¡†æ¶å†…ç½®äº†å¼‚å¸¸æ•è·æœºåˆ¶
</code></pre>
<h5 data-id="heading-30">2ï¸âƒ£ <strong>è¯·æ±‚éš”ç¦»ï¼ˆASP.NET Core çš„æ ¸å¿ƒä¼˜åŠ¿ï¼‰</strong></h5>
<pre><code class="hljs language-vbscript" lang="vbscript"><span class="hljs-built_in">Request</span> <span class="hljs-number">1</span> â†’ å¼‚å¸¸ â†’ æ•è· â†’ è¿”å› <span class="hljs-number">500</span> âœ“
<span class="hljs-built_in">Request</span> <span class="hljs-number">2</span> â†’ æ­£å¸¸ â†’ è¿”å› <span class="hljs-number">200</span> âœ“
<span class="hljs-built_in">Request</span> <span class="hljs-number">3</span> â†’ å¼‚å¸¸ â†’ æ•è· â†’ è¿”å› <span class="hljs-number">500</span> âœ“

æ¯ä¸ªè¯·æ±‚ç‹¬ç«‹å¤„ç†ï¼Œäº’ä¸å½±å“ï¼
</code></pre>
<h5 data-id="heading-31">3ï¸âƒ£ <strong>WinForms/WPF/Console ä¸ºä»€ä¹ˆä¼šå´©æºƒ</strong></h5>
<pre><code class="hljs language-css" lang="css">WinForms å•çº¿ç¨‹æ¨¡å‹ï¼š
  <span class="hljs-selector-tag">Main</span>() çº¿ç¨‹ â†’ UI äº‹ä»¶å¤„ç† â†’ å¼‚å¸¸ â†’ çº¿ç¨‹åœæ­¢ â†’ åº”ç”¨å´©æºƒ

åŸå› ï¼š
  âŒ æ²¡æœ‰è¯·æ±‚éš”ç¦»ï¼ˆæ²¡æœ‰å¤šä¸ªè¯·æ±‚æ¦‚å¿µï¼‰
  âŒ UI çº¿ç¨‹å°±æ˜¯å”¯ä¸€çš„å¤„ç†çº¿ç¨‹
  âŒ æ¡†æ¶ä¸éœ€è¦ä¿è¯æœåŠ¡å¯ç”¨æ€§ï¼ˆæ¡Œé¢åº”ç”¨æ²¡æœ‰è¿™ä¸ªè¦æ±‚ï¼‰
</code></pre>
<hr/>
<h4 data-id="heading-32">Kestrel æœåŠ¡å™¨å±‚çš„å¼‚å¸¸å¤„ç†</h4>
<pre><code class="hljs language-css" lang="css">HTTP è¯·æ±‚åˆ°è¾¾
    â†“
Kestrelï¼ˆWeb æœåŠ¡å™¨ï¼‰â† æœ€åº•å±‚å¼‚å¸¸æ•è·ç‚¹
    â†“
ASP<span class="hljs-selector-class">.NET</span> Core Middleware Pipeline
    â†“
Your <span class="hljs-selector-tag">Code</span>ï¼ˆControllerã€Serviceï¼‰
    â†“
å¼‚å¸¸å‘ç”Ÿ â†’ é€å±‚å¾€ä¸ŠæŠ› â†’ Kestrel æ•è· â†’ è¿”å› <span class="hljs-number">500</span> â†’ è¿›ç¨‹ç»§ç»­è¿è¡Œ
</code></pre>
<p><strong>æ¡†æ¶é»˜è®¤åšçš„ï¼š</strong></p>
<ul>
<li>ä»»ä½•æœªå¤„ç†çš„å¼‚å¸¸éƒ½ä¼šè¢« Kestrel æ•è·</li>
<li>è¿”å› HTTP 500 é”™è¯¯å“åº”</li>
<li>è¿›ç¨‹ä¸ä¼šé€€å‡º</li>
</ul>
<hr/>
<h4 data-id="heading-33">æ¡†æ¶å†…ç½®å¼‚å¸¸å¤„ç†çš„é™åˆ¶ä¸è‡ªå®šä¹‰å…¨å±€å¼‚å¸¸ä¸­é—´ä»¶</h4>
<pre><code class="hljs language-vbscript" lang="vbscript">æ¡†æ¶èƒ½è‡ªåŠ¨å¤„ç†çš„å¼‚å¸¸ï¼š
âœ… æ•°æ®éªŒè¯å¤±è´¥       â†’ <span class="hljs-number">400</span> Bad <span class="hljs-built_in">Request</span>
âœ… æ¨¡å‹ç»‘å®šå¤±è´¥       â†’ <span class="hljs-number">400</span> Bad <span class="hljs-built_in">Request</span>
âœ… è·¯ç”±ä¸åŒ¹é…         â†’ <span class="hljs-number">404</span> <span class="hljs-keyword">Not</span> Found

æ¡†æ¶æ— æ³•ç»†è‡´å¤„ç†çš„å¼‚å¸¸ï¼š
âŒ ä¸šåŠ¡é€»è¾‘å¼‚å¸¸       â†’ éƒ½è¿”å› <span class="hljs-number">500</span>ï¼ˆä¸ç®¡ä»€ä¹ˆåŸå› ï¼‰
âŒ æ•°æ®åº“è¿æ¥å¤±è´¥     â†’ éƒ½è¿”å› <span class="hljs-number">500</span>
âŒ æƒé™ä¸è¶³å¼‚å¸¸       â†’ éƒ½è¿”å› <span class="hljs-number">500</span>ï¼ˆåº”è¯¥è¿”å› <span class="hljs-number">401</span>ï¼‰
âŒ èµ„æºä¸å­˜åœ¨         â†’ éƒ½è¿”å› <span class="hljs-number">500</span>ï¼ˆåº”è¯¥è¿”å› <span class="hljs-number">404</span>ï¼‰

æ‰€ä»¥éœ€è¦è‡ªå®šä¹‰å¼‚å¸¸å¤„ç†ä¸­é—´ä»¶æ¥åŒºåˆ†å¤„ç†
</code></pre>
<hr/>
<h4 data-id="heading-34">æ€»ç»“</h4>

























<table><thead><tr><th>ç‚¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>ä¸ºä»€ä¹ˆ ASP.NET Core ç¨³å®š</strong></td><td>æœåŠ¡å™¨æ¶æ„ + è¯·æ±‚éš”ç¦» + æ¡†æ¶å†…ç½®å¼‚å¸¸æ•è·</td></tr><tr><td><strong>ä¸ºä»€ä¹ˆ WinForms å®¹æ˜“å´©æºƒ</strong></td><td>æ¡Œé¢æ¶æ„ + å•çº¿ç¨‹ + æ¡†æ¶ä¸å¤„ç†å¼‚å¸¸</td></tr><tr><td><strong>æ¡†æ¶é»˜è®¤å¤„ç†</strong></td><td>åªæ˜¯"ä¿å‘½"ï¼Œé˜²æ­¢è¿›ç¨‹å´©æºƒï¼Œä½†è¿”å›å€¼éƒ½æ˜¯ 500</td></tr><tr><td><strong>éœ€è¦è‡ªå®šä¹‰ä¸­é—´ä»¶</strong></td><td>ä¸ºäº†åŒºåˆ†å¼‚å¸¸ã€è‡ªå®šä¹‰è¿”å›æ ¼å¼ã€è®°å½•æ—¥å¿—ã€æå‡ç”¨æˆ·ä½“éªŒ</td></tr></tbody></table>
<hr/>
<hr/>
<h3 data-id="heading-35">WinForms/WPF çš„å…¨å±€å¼‚å¸¸å¤„ç†</h3>
<blockquote>
<p>WinForms/WPFæ²¡æœ‰ä¸­é—´ä»¶æˆ–è€…å…¨å±€å¼‚å¸¸å¤„ç†å…œåº•,å› æ­¤éœ€è¦ä½¿ç”¨å…¶å®ƒçš„æ–¹å¼å¤„ç†å…¨å±€å¼‚å¸¸ä¿è¯ç¨‹åºç¨³å®š</p>
</blockquote>
<h4 data-id="heading-36">1 WinForms</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// Program.cs</span>
<span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    [<span class="hljs-meta">STAThread</span>]
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>()</span>
    {
        <span class="hljs-comment">// âœ… UI çº¿ç¨‹å¼‚å¸¸å¤„ç†</span>
        Application.ThreadException += Application_ThreadException;
        
        <span class="hljs-comment">// âœ… åå°çº¿ç¨‹å¼‚å¸¸å¤„ç†</span>
        AppDomain.CurrentDomain.UnhandledException += CurrentDomain_UnhandledException;
        
        ApplicationConfiguration.Initialize();
        Application.Run(<span class="hljs-keyword">new</span> Form1());
    }
    
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Application_ThreadException</span>(<span class="hljs-params">
        <span class="hljs-built_in">object</span> sender, 
        System.Threading.ThreadExceptionEventArgs e</span>)</span>
    {
        Exception ex = e.Exception;
        
        <span class="hljs-comment">// âœ… æ‹¦æˆªå¼‚å¸¸</span>
        MessageBox.Show(
            <span class="hljs-string">$"å‘ç”Ÿé”™è¯¯: <span class="hljs-subst">{ex.Message}</span>"</span>,
            <span class="hljs-string">"å¼‚å¸¸"</span>,
            MessageBoxButtons.OK,
            MessageBoxIcon.Error);
        
        _logger.LogError(ex, <span class="hljs-string">"åº”ç”¨å¼‚å¸¸"</span>);
        
        <span class="hljs-comment">// e. Handled = true è¡¨ç¤ºå¼‚å¸¸è¢«å¤„ç†ï¼Œç¨‹åºç»§ç»­è¿è¡Œ</span>
        e. Handled = <span class="hljs-literal">true</span>;
    }
    
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CurrentDomain_UnhandledException</span>(<span class="hljs-params">
        <span class="hljs-built_in">object</span> sender, 
        UnhandledExceptionEventArgs e</span>)</span>
    {
        Exception ex = (Exception)e.ExceptionObject;
        
        MessageBox.Show(
            <span class="hljs-string">$"ä¸¥é‡é”™è¯¯: <span class="hljs-subst">{ex.Message}</span>"</span>,
            <span class="hljs-string">"ä¸¥é‡é”™è¯¯"</span>,
            MessageBoxButtons.OK,
            MessageBoxIcon.Error);
        
        <span class="hljs-comment">// è¿™é‡Œæ— æ³•é€šè¿‡ e. Handled æ¥ä¿ç•™ç¨‹åºç»§ç»­è¿è¡Œ</span>
        <span class="hljs-comment">// é€šå¸¸ä¼šå¯¼è‡´ç¨‹åºé€€å‡º</span>
    }
}

<span class="hljs-comment">// Form1.cs</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">partial</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Form1</span> : <span class="hljs-title">Form</span>
{
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">button_Click</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> sender, EventArgs e</span>)</span>
    {
        <span class="hljs-keyword">try</span>
        {
            <span class="hljs-built_in">int</span> result = <span class="hljs-number">10</span> / <span class="hljs-number">0</span>;
            MessageBox.Show(result.ToString());
        }
        <span class="hljs-keyword">catch</span> (Exception ex)
        {
            MessageBox.Show(<span class="hljs-string">$"é”™è¯¯:  <span class="hljs-subst">{ex.Message}</span>"</span>);
        }
    }
}
</code></pre>
<h4 data-id="heading-37">2 WPF</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// App.xaml. cs</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">partial</span> <span class="hljs-keyword">class</span> <span class="hljs-title">App</span> : <span class="hljs-title">Application</span>
{
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnStartup</span>(<span class="hljs-params">StartupEventArgs e</span>)</span>
    {
        <span class="hljs-keyword">base</span>.OnStartup(e);
        
        <span class="hljs-comment">// âœ… UI çº¿ç¨‹å¼‚å¸¸å¤„ç†</span>
        <span class="hljs-keyword">this</span>. DispatcherUnhandledException += App_DispatcherUnhandledException;
        
        <span class="hljs-comment">// âœ… åå°çº¿ç¨‹å¼‚å¸¸å¤„ç†</span>
        AppDomain.CurrentDomain.UnhandledException += 
            CurrentDomain_UnhandledException;
    }
    
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">App_DispatcherUnhandledException</span>(<span class="hljs-params">
        <span class="hljs-built_in">object</span> sender, 
        System.Windows.Threading.DispatcherUnhandledExceptionEventArgs e</span>)</span>
    {
        Exception ex = e.Exception;
        
        MessageBox.Show(
            <span class="hljs-string">$"åº”ç”¨ç¨‹åºé”™è¯¯: <span class="hljs-subst">{ex.Message}</span>"</span>,
            <span class="hljs-string">"é”™è¯¯"</span>,
            MessageBoxButton.OK,
            MessageBoxImage.Error);
        
        <span class="hljs-comment">// e.Handled = true è¡¨ç¤ºå¼‚å¸¸è¢«å¤„ç†ï¼Œç¨‹åºç»§ç»­è¿è¡Œ</span>
        e. Handled = <span class="hljs-literal">true</span>;
    }
    
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CurrentDomain_UnhandledException</span>(<span class="hljs-params">
        <span class="hljs-built_in">object</span> sender, 
        UnhandledExceptionEventArgs e</span>)</span>
    {
        Exception ex = (Exception)e.ExceptionObject;
        
        MessageBox. Show(
            <span class="hljs-string">$"ä¸¥é‡é”™è¯¯: <span class="hljs-subst">{ex.Message}</span>"</span>,
            <span class="hljs-string">"ä¸¥é‡é”™è¯¯"</span>,
            MessageBoxButton.OK,
            MessageBoxImage.Error);
    }
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ² å›¾è§£ JVM å†…å­˜æ¨¡å‹ï¼šåˆ«èƒŒå…«è‚¡æ–‡äº†ï¼Œç›´æ¥è¿›â€œRe-Zero ç«é”…åº—â€å¹²é¥­ï¼]]></title>    <link>https://juejin.cn/post/7595040803581231119</link>    <guid>https://juejin.cn/post/7595040803581231119</guid>    <pubDate>2026-01-14T15:36:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595040803581231119" data-draft-id="7594851429163188258" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ² å›¾è§£ JVM å†…å­˜æ¨¡å‹ï¼šåˆ«èƒŒå…«è‚¡æ–‡äº†ï¼Œç›´æ¥è¿›â€œRe-Zero ç«é”…åº—â€å¹²é¥­ï¼"/> <meta itemprop="keywords" content="Java,JVM"/> <meta itemprop="datePublished" content="2026-01-14T15:36:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Re_zero"/> <meta itemprop="url" content="https://juejin.cn/user/2965821818672144"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ² å›¾è§£ JVM å†…å­˜æ¨¡å‹ï¼šåˆ«èƒŒå…«è‚¡æ–‡äº†ï¼Œç›´æ¥è¿›â€œRe-Zero ç«é”…åº—â€å¹²é¥­ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2965821818672144/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Re_zero
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-14T15:36:51.000Z" title="Wed Jan 14 2026 15:36:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>#Java #JVM #é¢è¯• #åº•å±‚åŸç†</p>
<blockquote>
<p><strong>åæ§½</strong>ï¼šJVM å†…å­˜æ¨¡å‹é‚£å †ç ´æ¦‚å¿µï¼ŒèƒŒäº†å¿˜ï¼Œå¿˜äº†èƒŒï¼Œé¢è¯•ä¸€ç´§å¼ å°±æŠŠâ€œå †â€å’Œâ€œæ ˆâ€è¯´åï¼Ÿ<br/>
<strong>çœŸç›¸</strong>ï¼šå…¶å®æ ¹æœ¬ä¸ç”¨æ­»è®°ç¡¬èƒŒã€‚ä»Šå¤©ä¸è®²äººè¯ï¼Œæˆ‘ä»¬ç›´æ¥å¼€ä¸€å®¶ç«é”…åº—ï¼Œè¾¹åƒè¾¹èŠã€‚</p>
</blockquote>
<p><code>ğŸ’¡ æç¤ºï¼šæ–‡ä¸­åŒ…å«å­—ç¬¦ç”»å›¾è§£ï¼Œæ‰‹æœºç«¯å¦‚æœæ˜¾ç¤ºé”™ä½ï¼Œå»ºè®®æ¨ªå±æˆ–åœ¨ PC ç«¯è§‚çœ‹æ•ˆæœæœ€ä½³ã€‚</code></p>
<p>å“ˆå–½ï¼Œæˆ‘æ˜¯Â <strong>Re-Zero</strong>ã€‚</p>
<p>é¢è¯•å®˜é—®ä½  JVM å†…å­˜ç»“æ„ï¼Œä½ è¦æ˜¯åªä¼šè¯´â€œå †æ˜¯å…±äº«çš„ï¼Œæ ˆæ˜¯ç§æœ‰çš„â€ï¼Œå¤§æ¦‚ç‡ä¹Ÿå°±æ˜¯ä¸ªåŠæ ¼åˆ†ã€‚</p>
<p>å’±æ¢ä¸ªæ€è·¯ï¼š<strong>JVM æ ¹æœ¬å°±æ˜¯ä¸€å®¶ç”Ÿæ„ç«çˆ†çš„ç«é”…åº—ï¼</strong>Â èœå“æ˜¯å¯¹è±¡ï¼ŒæœåŠ¡å‘˜æ˜¯çº¿ç¨‹ï¼Œåå¨æ˜¯åƒåœ¾å›æ”¶ã€‚</p>
<p>æ¥ï¼Œæ‹¿å¥½ç­·å­ï¼Œè¿›åº—äº†ï¼ğŸ¥¢</p>
<hr/>
<h2 data-id="heading-0">ğŸ—ºï¸ å…ˆçœ‹ä¸€çœ¼â€œåå¨åœ°å›¾â€</h2>
<p>åˆ«è¢«ä»€ä¹ˆÂ <code>Runtime Data Area</code>Â è¿™ç§æ´‹æ–‡å“åˆ°ï¼Œç›´æ¥çœ‹è¿™å¼ å›¾ï¼Œè¿™å°±æ˜¯ JVM çš„å…¨æ™¯è½åœ°çª—ï¼š</p>
<pre><code class="hljs language-Plaintext" lang="Plaintext">+---------------------------- JVM å†…å­˜åŒºåŸŸ -----------------------------+
|                                                                     |
|  +========================+         +============================+  |
|  |    çº¿ç¨‹ç§æœ‰ (Private)    |         |      çº¿ç¨‹å…±äº« (Shared)       |  |
|  | (æ¯ä¸ªæœåŠ¡å‘˜æ‰‹é‡Œçš„æ‰˜ç›˜/æœ¬å­)|         |      (é¤å…çš„å¤§å ‚å’Œåå¨)      |  |
|  +========================+         +============================+  |
|  |                        |         |                            |  |
|  |  1. ç¨‹åºè®¡æ•°å™¨ (PC)     |         |    4. æ–¹æ³•åŒº (Method Area)  |  |
|  |    [ è®°å½•æ‰§è¡Œè¡Œå· ]     |         |       [ èœå•ã€ç§˜æ–¹ã€åº—å ]       |  |
|  |                        |         |                            |  |
|  |  2. è™šæ‹Ÿæœºæ ˆ (Stack)    |         |    5. å † (Heap)            |  |
|  |    [ å±€éƒ¨å˜é‡ã€å¼•ç”¨ ]   |         |       [ æ‘†æ»¡èœçš„å¤§åœ†æ¡Œ ]     |  |
|  |                        |         |                            |  |
|  |  3. æœ¬åœ°æ–¹æ³•æ ˆ (Native) |         |                            |  |
|  |    [ C++ å¤–è˜å¨æˆ¿ ]     |         |                            |  |
|  +------------------------+         +----------------------------+  |
|                                                                     |
+---------------------------------------------------------------------+
</code></pre>
<p>çœ‹ä¸æ‡‚ï¼Ÿæ²¡äº‹ï¼Œå’±ä»¬çš„ç«é”…åº—é©¬ä¸Šå¼€å¼ ï¼Œä½ é©¬ä¸Šå°±æ‡‚äº†ï¼</p>
<hr/>
<h2 data-id="heading-1">ğŸª æ ¸å¿ƒåŒºå®æˆ˜ï¼šè¿™åœ°å„¿åˆ°åº•æ˜¯å¹²å˜›çš„ï¼Ÿ</h2>
<h3 data-id="heading-2">1. æ–¹æ³•åŒº (Method Area) â€”â€” å¢™ä¸Šçš„èœå•ä¸ç¥–ä¼ ç§˜æ–¹ ğŸ¥˜</h3>
<ul>
<li><strong>è°èƒ½è¿›</strong>ï¼šå…¨åº—å…±äº«ï¼Œå°±ä¸€ä»½ã€‚(çº¿ç¨‹å…±äº«ï¼Œåªæœ‰ä¸€ä»½)</li>
<li><strong>å’‹å›äº‹</strong>ï¼š<br/>
è¿™å°±æ˜¯è´´åœ¨å¢™ä¸Šçš„<strong>èœå•</strong>å’Œ<strong>é…æ–¹</strong>ã€‚<br/>
åº—é‡Œå–å•¥èœï¼ˆç±»ä¿¡æ¯ï¼‰ã€æ¯›è‚šçƒ«å‡ ç§’ï¼ˆæ–¹æ³•ä»£ç ï¼‰ã€åº—åå«å•¥ï¼ˆé™æ€å˜é‡Â <code>static</code>ï¼‰ï¼Œå…¨åœ¨è¿™å„¿æŒ‚ç€ã€‚<br/>
åªè¦åº—å¼€ç€ï¼Œè¿™ç©æ„å„¿å°±ä¸èƒ½åŠ¨ï¼Œè°æ¥éƒ½çœ‹è¿™ä¸€ä»½ã€‚</li>
<li><strong>å°çŸ¥è¯†</strong>ï¼šJDK8 ä¹‹åï¼Œè¿™é‡Œæ”¹å«"å…ƒç©ºé—´"ï¼Œä¸å†å ç”¨å †å†…å­˜ï¼Œè€Œæ˜¯ç”¨æœ¬åœ°å†…å­˜ã€‚</li>
</ul>
<h3 data-id="heading-3">2. å † (Heap) â€”â€” æ°¸è¿œåœ¨åŠ èœçš„å¤§åœ†æ¡Œ ğŸ–</h3>
<ul>
<li><strong>è°èƒ½è¿›</strong>ï¼šå…¨åº—å…±äº«ï¼Œæœ€å åœ°å„¿ã€‚(çº¿ç¨‹å…±äº«ï¼Œå†…å­˜å ç”¨æœ€å¤§)</li>
<li><strong>å’‹å›äº‹</strong>ï¼š<br/>
è¿™å°±æ˜¯åº—ä¸­å¤®é‚£å¼ <strong>è¶…çº§å¤§åœ†æ¡Œ</strong>ï¼<br/>
å‡¡æ˜¯ä½ Â <code>new</code>Â å‡ºæ¥çš„è‚‰å•Šã€èœå•Šï¼ˆå¯¹è±¡å®ä¾‹ï¼‰ï¼Œå…¨å¾€è¿™å„¿å †ã€‚<br/>
æœåŠ¡å‘˜ï¼ˆçº¿ç¨‹ï¼‰éšä¾¿ä¸Šèœã€å®¢äººéšä¾¿å¤¹èœã€‚<br/>
âš ï¸Â <strong>é‡ç‚¹</strong>ï¼šè¿™é‡Œæœ‰ä½<strong>æ— æƒ…çš„ä¿æ´é˜¿å§¨ï¼ˆGCï¼‰</strong>ï¼Œå¥¹å¤©å¤©åœ¨æ¡Œè¾¹å·¡é€»ã€‚ä¸€æ—¦å‘ç°å“ªç›˜èœï¼ˆå¯¹è±¡ï¼‰è™½ç„¶å ç€åœ°å„¿ï¼Œä½†å·²ç»æ²¡æœ‰æœåŠ¡å‘˜ï¼ˆå¼•ç”¨ï¼‰åœ¨ä¹å®ƒäº†ï¼Œå¥¹åæ‰‹å°±æ˜¯ä¸€ä¸ªå›æ”¶ï¼è¿™ä¹Ÿæ˜¯æœ€å®¹æ˜“çˆ†æ»¡ï¼ˆOOMï¼‰çš„åœ°æ–¹ã€‚</li>
<li><strong>æœ‰è¶£çš„äº‹å®</strong>ï¼šå †è¿˜åˆ†"å¹´è½»ä»£"å’Œ"è€å¹´ä»£"ï¼Œå°±åƒç«é”…åº—çš„"æ–°é²œé£ŸæåŒº"å’Œ"è…Œåˆ¶é£ŸæåŒº"ã€‚</li>
</ul>
<h3 data-id="heading-4">3. è™šæ‹Ÿæœºæ ˆ (VM Stack) â€”â€” æœåŠ¡å‘˜æ‰‹é‡Œçš„æ‰˜ç›˜ ğŸ¥</h3>
<ul>
<li><strong>è°èƒ½è¿›</strong>ï¼šä¸€äººä¸€ä¸ªï¼Œåˆ«æŠ¢ã€‚(çº¿ç¨‹ç§æœ‰ï¼Œç”Ÿå‘½å‘¨æœŸæçŸ­)</li>
<li><strong>å’‹å›äº‹</strong>ï¼š<br/>
æ¯ä¸ªæœåŠ¡å‘˜ï¼ˆçº¿ç¨‹ï¼‰æ‰‹é‡Œéƒ½ç«¯ç€ä¸ª<strong>æ‰˜ç›˜</strong>ã€‚<br/>
æ¥å¾…ä¸€æ¡Œå®¢äººï¼ˆè°ƒç”¨ä¸€ä¸ªæ–¹æ³•ï¼‰ï¼Œå°±å¾€æ‰˜ç›˜ä¸Šæ”¾ä¸€ä¸ªæ ¼å­ï¼ˆ<strong>æ ˆå¸§</strong>ï¼‰ã€‚<br/>
æ ¼å­é‡Œå†™ç€ï¼šå®¢äººç‚¹çš„å•ï¼ˆ<strong>å±€éƒ¨å˜é‡</strong>ï¼‰ã€èœåœ¨å¤§åœ†æ¡Œå“ªä¸ªä½ç½®ï¼ˆ<strong>å¼•ç”¨</strong>ï¼‰ã€‚<br/>
è¿™æ¡Œèµ°äº†ï¼ˆæ–¹æ³•æ‰§è¡Œå®Œï¼‰ï¼Œæ ¼å­ç›´æ¥æ’¤ï¼Œç›˜å­ä¸€æ”¶ï¼Œå¹²å¹²å‡€å‡€ã€‚</li>
<li><strong>æ³¨æ„</strong>ï¼šæ‰˜ç›˜å¤§å°æœ‰é™ï¼Œå¦‚æœç›˜å­å †å¤ªé«˜ï¼ˆé€’å½’å¤ªæ·±ï¼‰ï¼Œå°±ä¼š"æ‰˜ç›˜æº¢å‡º" (StackOverflowError) !</li>
</ul>
<h3 data-id="heading-5">4. ç¨‹åºè®¡æ•°å™¨ (PC Register) â€”â€” æœåŠ¡å‘˜çš„å°æœ¬æœ¬ ğŸ“</h3>
<ul>
<li><strong>è°èƒ½è¿›</strong>ï¼šä¸€äººä¸€ä¸ªï¼Œä¸ä»…å°è¿˜ä¸èµ·çœ¼ã€‚(çº¿ç¨‹ç§æœ‰ï¼Œå†…å­˜æå°ï¼Œå”¯ä¸€ä¸ä¼šå†…å­˜æº¢å‡ºçš„åŒºåŸŸ)</li>
<li><strong>å’‹å›äº‹</strong>ï¼š<br/>
è¿™æ˜¯æœåŠ¡å‘˜çš„<strong>éšèº«è®°äº‹æœ¬</strong>ã€‚<br/>
æ­£å¹²ç€æ´»å‘¢ï¼Œç»ç†å–Šå»æ¬é…’ï¼ˆçº¿ç¨‹åˆ‡æ¢ï¼‰ï¼Œå›æ¥å¾—çŸ¥é“åˆšæ‰æ´»å¹²åˆ°å“ªäº†å§ï¼Ÿ<br/>
â€œå“¦ï¼Œåˆšæ‰æ­£è¦ç»™ 3 å·æ¡ŒåŠ æ±¤ï¼ˆæ‰§è¡Œåˆ°ç¬¬ 15 è¡Œï¼‰â€ï¼Œå…¨é å®ƒè®°ç€ã€‚<strong>å…¨åº—å”¯ä¸€ä¸ä¼šç‚¸ï¼ˆOOMï¼‰çš„åœ°æ–¹ã€‚</strong></li>
</ul>
<h3 data-id="heading-6">5. æœ¬åœ°æ–¹æ³•æ ˆ (Native Method Stack) â€”â€” å¤–è˜çš„å¼‚å›½æ–™ç†å¸ˆå‚… ğŸ‘¨â€ğŸ³</h3>
<ul>
<li><strong>è°èƒ½è¿›</strong>ï¼šä¸€äººä¸€ä¸ªã€‚(çº¿ç¨‹ç§æœ‰)</li>
<li><strong>å’‹å›äº‹</strong>ï¼š<br/>
Java å¨å¸ˆæä¸å®šçš„ç¡¬èœï¼ˆåº•å±‚ç¡¬ä»¶æ“ä½œï¼‰ï¼Œéœ€è¦è°ƒç”¨ C/C++ å†™çš„nativeæ–¹æ³•ï¼Œè¿™å—åŒºåŸŸå°±æ˜¯ç»™è¿™äº›"å¤–è˜å¤§å¨"ç”¨çš„ä¸“ç”¨å¨æˆ¿ã€‚</li>
<li><strong>å†·çŸ¥è¯†</strong>ï¼šè™½ç„¶é€»è¾‘ä¸Šå®ƒä¿©æ˜¯åˆ†å¼€çš„ï¼Œä½†æœ€å¸¸ç”¨çš„ HotSpot è™šæ‹Ÿæœºä¸ºäº†çœäº‹ï¼Œç›´æ¥æŠŠâ€œå¤–è˜å¨æˆ¿â€å’Œâ€œæœåŠ¡å‘˜æ‰˜ç›˜â€åˆäºŒä¸ºä¸€äº†ï¼ˆæœ¬åœ°æ–¹æ³•æ ˆå’Œè™šæ‹Ÿæœºæ ˆåˆä½“ï¼‰ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-7">ğŸ’» ç°åœºæ¼”ç¤ºï¼šä¸€è¡Œä»£ç çš„"ç«é”…ä¹‹æ—…"</h2>
<p>æˆ‘ä»¬é€šè¿‡ä¸€æ®µä»£ç ï¼ŒæŠŠè¿™äº›æ¦‚å¿µä¸²èµ·æ¥ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HotPotRestaurant</span> {
    <span class="hljs-comment">// ã€æ–¹æ³•åŒºã€‘ï¼šstatic å˜é‡ï¼Œå±äºç±»ä¿¡æ¯</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">String</span> <span class="hljs-variable">shopName</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Re-Zero Hotpot"</span>;
    
    <span class="hljs-comment">// ã€å¸¸é‡æ± ã€‘ï¼šæ ‡å‡†é…æ–™(å¦‚"Spicy")ï¼Œè°ç”¨è°æ‹¿ï¼Œé€»è¾‘ä¸Šå±äºæ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ†</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">FLAVOR</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Spicy"</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// ã€æ ˆã€‘ï¼šmainæ–¹æ³•æ ˆå¸§å…¥æ ˆ</span>
        <span class="hljs-comment">// ã€å †ã€‘ï¼šnewå‡ºæ¥çš„å¯¹è±¡æ”¾åœ¨å †é‡Œ</span>
        <span class="hljs-comment">// ã€æ ˆã€‘ï¼šwaiterå˜é‡åªæ˜¯å¼•ç”¨ï¼Œæ”¾åœ¨æ ˆå¸§çš„å±€éƒ¨å˜é‡è¡¨é‡Œ</span>
        <span class="hljs-type">HotPotRestaurant</span> <span class="hljs-variable">waiter</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HotPotRestaurant</span>();
        
        waiter.serve();
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">serve</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// ã€æ ˆã€‘ï¼šserveæ–¹æ³•æ ˆå¸§å…¥æ ˆ</span>
        <span class="hljs-comment">// ã€æ ˆã€‘ï¼šå±€éƒ¨å˜é‡countå­˜åœ¨æ ˆå¸§é‡Œ</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span>; 
        
        <span class="hljs-comment">// ã€å †ã€‘ï¼šBeefå¯¹è±¡åœ¨å †é‡Œåˆ†é…å†…å­˜</span>
        <span class="hljs-comment">// ã€æ ˆã€‘ï¼šbeefå¼•ç”¨æŒ‡å‘å †é‡Œçš„å¯¹è±¡</span>
        <span class="hljs-type">Beef</span> <span class="hljs-variable">beef</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Beef</span>();
        
        <span class="hljs-comment">// ã€æ–¹æ³•åŒºã€‘ï¼šè®¿é—®é™æ€å˜é‡</span>
        System.out.println(<span class="hljs-string">"Welcome to "</span> + shopName);
    }
    <span class="hljs-comment">// serveæ–¹æ³•ç»“æŸ -&gt; æ ˆå¸§å¼¹å‡º -&gt; countå’Œbeefå¼•ç”¨é”€æ¯</span>
    <span class="hljs-comment">// å †é‡Œçš„Beefå¯¹è±¡å˜æˆ"å­¤å„¿"ï¼Œç­‰å¾…GCå›æ”¶</span>
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Beef</span> {
    <span class="hljs-comment">// ç®€å•çš„é£Ÿæç±»</span>
}
</code></pre>
<h3 data-id="heading-8">ğŸ§  å†…å­˜åŠ¨æ€å›¾è§£(Text Version)</h3>
<p>å½“ä»£ç è·‘åˆ°Â <code>serve()</code>Â é‡Œé¢æ—¶ï¼Œä½ çš„è„‘å­é‡Œåº”è¯¥æœ‰è¿™å¼ å›¾ï¼š</p>
<pre><code class="hljs language-Plaintext" lang="Plaintext">       ã€æ ˆ (Stack)ã€‘                 ã€å † (Heap)ã€‘
+------------------------+      +-------------------------+
| [ æ ˆå¸§: serve() ]      |      |                         |
| ---------------------- |      |   +-----------------+   |
| å±€éƒ¨å˜é‡ count = 2      |      |   |  Beef Object    |   |
| å¼•ç”¨ beef  ----------&gt; | ---&gt; |   | (åœ°å€: 0x999)    |   |
|                        |      |   +-----------------+   |
+------------------------+      |                         |
| [ æ ˆå¸§: main() ]       |      |   +-----------------+   |
| ---------------------- |      |   | HotPotRestaurant|   |
| å¼•ç”¨ waiter  ---------&gt; | ---&gt; |   | (åœ°å€: 0x666)    |   |
|                        |      |   +-----------------+   |
+------------------------+      +-------------------------+

       ã€æ–¹æ³•åŒº (Method Area)ã€‘
+---------------------------------------+
| ç±»ä¿¡æ¯: HotPotRestaurant.class        |
| é™æ€å˜é‡: shopName = "Re-Zero Hotpot" |
| å¸¸é‡æ± : "Spicy"                       |
+---------------------------------------+
</code></pre>
<hr/>
<h2 data-id="heading-9">ğŸ§± ç¼–å¤–äººå‘˜ï¼šç›´æ¥å†…å­˜ (Direct Memory)</h2>
<p>é™¤äº†ä¸Šé¢ 5 ä¸ªï¼Œè¿˜æœ‰ä¸€ä¸ªç‹ è§’è‰²ï¼š<strong>ç›´æ¥å†…å­˜ (Direct Memory)</strong>ã€‚</p>
<ul>
<li><strong>æ¯”å–»</strong>ï¼š<strong>åå¨çš„â€œå¤–å–ç›´é€šçª—å£â€</strong>ã€‚</li>
<li><strong>ä¸ºå•¥ç”¨å®ƒ</strong>ï¼š<br/>
æ™®é€šä¼ èœï¼ˆIOï¼‰å¾—ä»ä»“åº“ï¼ˆå†…æ ¸æ€ï¼‰æ¬åˆ°å¨æˆ¿ï¼ˆç”¨æˆ·æ€ï¼‰å†ç«¯ç»™å®¢äººï¼Œç´¯æ­»ä¸ªäººã€‚<br/>
ç›´æ¥å†…å­˜ï¼ˆNIOï¼‰å°±æ˜¯å¼€äº†ä¸ªç›´é€šçª—å£ï¼Œç›´æ¥ä»ä»“åº“æ‹¿äº†èœå°±ç»™å®¢äººï¼Œ<strong>é›¶æ‹·è´</strong>ï¼Œå¿«å¾—é£èµ·ï¼</li>
<li><strong>ä»£ä»·</strong>ï¼šè¿™æ˜¯åº—å¤–é¢çš„åœ°ï¼ˆæœ¬åœ°å†…å­˜ï¼‰ï¼Œä¸å½’ JVM ç®¡ï¼Œç”¨å¤šäº†å®¹æ˜“æŠŠåº—å¤–é¢æç‚¸ã€‚</li>
<li><strong>åº”ç”¨</strong>ï¼šNIO çš„DirectBufferå°±ç”¨è¿™ä¸ªï¼Œä¼ è¾“å¤§æ–‡ä»¶æ—¶ç‰¹åˆ«å¿«ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-10">ğŸ“ æ€»ç»“ï¼šé¢è¯•æ•‘å‘½è¡¨</h2>
<p>åˆ«èƒŒé•¿ç¯‡å¤§è®ºäº†ï¼ŒæŠŠè¿™å¼ è¡¨å­˜å¥½ï¼Œé¢è¯•å‰çœ‹ä¸€çœ¼å°±è¡Œï¼š</p>















































<table><thead><tr><th><strong>åŒºåŸŸåç§°</strong></th><th><strong>è‹±æ–‡</strong></th><th><strong>å­˜ä»€ä¹ˆï¼Ÿ(äººè¯ç‰ˆ)</strong></th><th><strong>çº¿ç¨‹å…³ç³»</strong></th><th><strong>ä¼š OOM å—ï¼Ÿ</strong></th></tr></thead><tbody><tr><td><strong>ç¨‹åºè®¡æ•°å™¨</strong></td><td>PC Register</td><td><strong>è®°äº‹æœ¬</strong>ï¼šä¸‹ä¸€è¡Œè¿è¡Œå“ªå¥</td><td>ğŸ”’ ç§æœ‰</td><td>âŒ ä¸ä¼š (å”¯ä¸€)</td></tr><tr><td><strong>è™šæ‹Ÿæœºæ ˆ</strong></td><td>VM Stack</td><td><strong>æ‰˜ç›˜</strong>ï¼šå±€éƒ¨å˜é‡ã€å¼•ç”¨</td><td>ğŸ”’ ç§æœ‰</td><td>âœ… (StackOverflow)</td></tr><tr><td><strong>æœ¬åœ°æ–¹æ³•æ ˆ</strong></td><td>Native Stack</td><td><strong>å¤–è˜å¨æˆ¿</strong>ï¼šC++ æ–¹æ³•</td><td>ğŸ”’ ç§æœ‰</td><td>âœ… (StackOverflow)</td></tr><tr><td><strong>å †</strong></td><td>Heap</td><td><strong>å¤§åœ†æ¡Œ</strong>ï¼šæ‰€æœ‰å¯¹è±¡å®ä¾‹</td><td>ğŸŒ å…±äº«</td><td>âœ… (OOM é«˜å‘åŒº)</td></tr><tr><td><strong>æ–¹æ³•åŒº</strong></td><td>Method Area</td><td><strong>èœå•</strong>ï¼šç±»ç»“æ„ã€é™æ€å˜é‡</td><td>ğŸŒ å…±äº«</td><td>âœ… (å…ƒç©ºé—´ OOM)</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-11">ğŸ¤” æ€è€ƒé¢˜ï¼šString çš„ä¸‰é‡åˆ†èº«</h2>
<p>æˆ‘ä»¬åœ¨ä»£ç é‡Œå†™ï¼š(ä¸è€ƒè™‘å­—ç¬¦ä¸²å¸¸é‡æ± å»é‡ç­‰å¤æ‚æƒ…å†µï¼Œä»…ä»å¯¹è±¡åˆ›å»ºè§’åº¦å›ç­”)</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">"abc"</span>);
</code></pre>
<p>ç»“åˆä»Šå¤©çš„çŸ¥è¯†ï¼Œè¯·é—®ï¼š</p>
<ol>
<li>s æ”¾åœ¨å“ªé‡Œï¼Ÿ</li>
<li>new String() æ”¾åœ¨å“ªé‡Œï¼Ÿ</li>
<li>"abc" æ”¾åœ¨å“ªé‡Œï¼Ÿ</li>
</ol>
<p>(æç¤ºï¼šæƒ³æƒ³æ ˆã€å †å’Œæ–¹æ³•åŒº/å¸¸é‡æ± çš„å…³ç³»)</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Ragas å¤§æ¨¡å‹è¯„æµ‹æ¡†æ¶æ·±åº¦è°ƒç ”æŒ‡å—]]></title>    <link>https://juejin.cn/post/7595099230969544713</link>    <guid>https://juejin.cn/post/7595099230969544713</guid>    <pubDate>2026-01-14T15:45:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595099230969544713" data-draft-id="7595030559565135923" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Ragas å¤§æ¨¡å‹è¯„æµ‹æ¡†æ¶æ·±åº¦è°ƒç ”æŒ‡å—"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-14T15:45:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°é•‡cxy"/> <meta itemprop="url" content="https://juejin.cn/user/3318776686718483"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Ragas å¤§æ¨¡å‹è¯„æµ‹æ¡†æ¶æ·±åº¦è°ƒç ”æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3318776686718483/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°é•‡cxy
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-14T15:45:57.000Z" title="Wed Jan 14 2026 15:45:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»17åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Ragas å¤§æ¨¡å‹è¯„æµ‹æ¡†æ¶æ·±åº¦è°ƒç ”æŒ‡å—</h2>
<h3 data-id="heading-1">ç›®å½•</h3>
<ul>
<li><a href="#%E4%B8%80ragas-%E6%98%AF%E4%BB%80%E4%B9%88" title="#%E4%B8%80ragas-%E6%98%AF%E4%BB%80%E4%B9%88">ä¸€ã€Ragas æ˜¯ä»€ä¹ˆ</a></li>
<li><a href="#%E4%BA%8C%E6%A0%B8%E5%BF%83%E8%AF%84%E4%BC%B0%E6%8C%87%E6%A0%87" title="#%E4%BA%8C%E6%A0%B8%E5%BF%83%E8%AF%84%E4%BC%B0%E6%8C%87%E6%A0%87">äºŒã€æ ¸å¿ƒè¯„ä¼°æŒ‡æ ‡</a></li>
<li><a href="#%E4%B8%89%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE" title="#%E4%B8%89%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE">ä¸‰ã€å®‰è£…ä¸é…ç½®</a></li>
<li><a href="#%E5%9B%9B%E5%AE%8C%E6%95%B4%E4%BD%BF%E7%94%A8%E6%B5%81%E7%A8%8B" title="#%E5%9B%9B%E5%AE%8C%E6%95%B4%E4%BD%BF%E7%94%A8%E6%B5%81%E7%A8%8B">å››ã€å®Œæ•´ä½¿ç”¨æµç¨‹</a></li>
<li><a href="#%E4%BA%94%E8%87%AA%E5%AE%9A%E4%B9%89%E8%AF%84%E4%BC%B0%E6%8C%87%E6%A0%87" title="#%E4%BA%94%E8%87%AA%E5%AE%9A%E4%B9%89%E8%AF%84%E4%BC%B0%E6%8C%87%E6%A0%87">äº”ã€è‡ªå®šä¹‰è¯„ä¼°æŒ‡æ ‡</a></li>
<li><a href="#%E5%85%AD%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5" title="#%E5%85%AD%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5">å…­ã€æœ€ä½³å®è·µ</a></li>
<li><a href="#%E4%B8%83%E8%BF%9B%E9%98%B6%E5%8A%9F%E8%83%BD" title="#%E4%B8%83%E8%BF%9B%E9%98%B6%E5%8A%9F%E8%83%BD">ä¸ƒã€è¿›é˜¶åŠŸèƒ½</a></li>
<li><a href="#%E5%85%AB%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98" title="#%E5%85%AB%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98">å…«ã€å¸¸è§é—®é¢˜</a></li>
<li><a href="#%E4%B9%9D%E7%9B%B8%E5%85%B3%E8%B5%84%E6%BA%90" title="#%E4%B9%9D%E7%9B%B8%E5%85%B3%E8%B5%84%E6%BA%90">ä¹ã€ç›¸å…³èµ„æº</a></li>
</ul>
<hr/>
<h3 data-id="heading-2">ä¸€ã€Ragas æ˜¯ä»€ä¹ˆ</h3>
<p><strong>Ragas</strong>ï¼ˆRetrieval-Augmented Generation Assessmentï¼‰æ˜¯ä¸€ä¸ªä¸“é—¨ç”¨äºè¯„ä¼° <strong>RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰ç³»ç»Ÿ</strong> æ€§èƒ½çš„ Python å¼€æºæ¡†æ¶ã€‚</p>
<h4 data-id="heading-3">1.1 æ ¸å¿ƒä»·å€¼</h4>





























<table><thead><tr><th>ä»·å€¼ç‚¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>è¯„ä¼°é©±åŠ¨å¼€å‘</strong></td><td>å°†è¯„ä¼°èå…¥å¼€å‘æµç¨‹ï¼Œè€Œéäº‹åè¡¥å……</td></tr><tr><td><strong>è‡ªåŠ¨åŒ–æµ‹è¯•</strong></td><td>è‡ªåŠ¨æµ‹è¯• RAG ç³»ç»Ÿçš„å„ä¸ªç»„ä»¶</td></tr><tr><td><strong>å¤šæ¨¡å‹æ”¯æŒ</strong></td><td>æ”¯æŒæœ¬åœ°å’Œäº‘ç«¯å¤§æ¨¡å‹ä½œä¸ºè¯„ä¼°å™¨</td></tr><tr><td><strong>å¯é‡åŒ–æŒ‡æ ‡</strong></td><td>æä¾›æ•°å€¼åŒ–çš„æ€§èƒ½è¯„ä¼°æŒ‡æ ‡</td></tr><tr><td><strong>æ˜“äºé›†æˆ</strong></td><td>ä¸ LangChainã€LlamaIndex ç­‰æ¡†æ¶æ— ç¼å¯¹æ¥</td></tr></tbody></table>
<h4 data-id="heading-4">1.2 é€‚ç”¨åœºæ™¯</h4>
<pre><code class="hljs">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Ragas é€‚ç”¨åœºæ™¯                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ“ çŸ¥è¯†åº“é—®ç­”ç³»ç»Ÿè¯„ä¼°                                    â”‚
â”‚  âœ“ ä¼ä¸šçº§ RAG åº”ç”¨æ€§èƒ½ç›‘æ§                              â”‚
â”‚  âœ“ ä¸åŒæ£€ç´¢ç­–ç•¥å¯¹æ¯”åˆ†æ                                  â”‚
â”‚  âœ“ LLM å¹»è§‰æ£€æµ‹                                          â”‚
â”‚  âœ“ CI/CD è‡ªåŠ¨åŒ–æµ‹è¯•                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr/>
<h3 data-id="heading-5">äºŒã€æ ¸å¿ƒè¯„ä¼°æŒ‡æ ‡</h3>
<h4 data-id="heading-6">2.1 æŒ‡æ ‡ä½“ç³»æ¦‚è§ˆ</h4>
<pre><code class="hljs language-scss" lang="scss">                    Ragas è¯„ä¼°æŒ‡æ ‡ä½“ç³»
                           â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                      â”‚
    æ£€ç´¢è´¨é‡æŒ‡æ ‡                           ç”Ÿæˆè´¨é‡æŒ‡æ ‡
        â”‚                                      â”‚
        â”œâ”€ Context Precision                  â”œâ”€ Faithfulness
        â”‚  (ä¸Šä¸‹æ–‡ç²¾ç¡®åº¦)                      â”‚  (å¿ å®åº¦)
        â”‚                                      â”‚
        â”œâ”€ Context Recall                     â”œâ”€ Answer Relevancy
        â”‚  (ä¸Šä¸‹æ–‡å¬å›ç‡)                      â”‚  (ç­”æ¡ˆç›¸å…³æ€§)
        â”‚                                      â”‚
        â””â”€ Context Entity Recall              â””â”€ Factual Correctness
           (ä¸Šä¸‹æ–‡å®ä½“å¬å›)                      (äº‹å®æ­£ç¡®æ€§)
</code></pre>
<h4 data-id="heading-7">2.2 æ£€ç´¢è´¨é‡æŒ‡æ ‡</h4>
<h5 data-id="heading-8">Context Precisionï¼ˆä¸Šä¸‹æ–‡ç²¾ç¡®åº¦ï¼‰</h5>
<p><strong>å®šä¹‰</strong>ï¼šè¡¡é‡æ£€ç´¢åˆ°çš„ä¸Šä¸‹æ–‡ä¸é—®é¢˜çš„ç›¸å…³æ€§</p>
<pre><code class="hljs language-diff" lang="diff">è¯„åˆ†æ ‡å‡†ï¼š
<span class="hljs-deletion">- é«˜åˆ†ï¼šæ£€ç´¢åˆ°çš„æ–‡æ¡£éƒ½é«˜åº¦ç›¸å…³ï¼Œæ²¡æœ‰å™ªéŸ³</span>
<span class="hljs-deletion">- ä¸­åˆ†ï¼šéƒ¨åˆ†ç›¸å…³ï¼Œå­˜åœ¨ä¸€äº›ä¸ç›¸å…³å†…å®¹</span>
<span class="hljs-deletion">- ä½åˆ†ï¼šæ£€ç´¢ç»“æœåŒ…å«å¤§é‡ä¸ç›¸å…³å†…å®¹</span>
</code></pre>
<p><strong>åº”ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>è¯„ä¼°å‘é‡æ•°æ®åº“æ£€ç´¢æ•ˆæœ</li>
<li>å¯¹æ¯”ä¸åŒ embedding æ¨¡å‹</li>
<li>ä¼˜åŒ– chunk size å’Œ overlap å‚æ•°</li>
</ul>
<h5 data-id="heading-9">Context Recallï¼ˆä¸Šä¸‹æ–‡å¬å›ç‡ï¼‰</h5>
<p><strong>å®šä¹‰</strong>ï¼šè¡¡é‡æ£€ç´¢ä¿¡æ¯çš„å®Œæ•´æ€§ï¼Œæ˜¯å¦è¦†ç›–å›ç­”æ‰€éœ€çš„æ‰€æœ‰å…³é”®ä¿¡æ¯</p>
<pre><code class="hljs language-diff" lang="diff">è¯„åˆ†æ ‡å‡†ï¼š
<span class="hljs-deletion">- é«˜åˆ†ï¼šæ£€ç´¢åˆ°çš„ä¿¡æ¯è¶³å¤Ÿå›ç­”é—®é¢˜</span>
<span class="hljs-deletion">- ä¸­åˆ†ï¼šéƒ¨åˆ†ä¿¡æ¯ç¼ºå¤±ï¼Œä½†å¯å‹‰å¼ºå›ç­”</span>
<span class="hljs-deletion">- ä½åˆ†ï¼šå…³é”®ä¿¡æ¯ç¼ºå¤±ï¼Œæ— æ³•å‡†ç¡®å›ç­”</span>
</code></pre>
<h5 data-id="heading-10">Context Entity Recallï¼ˆä¸Šä¸‹æ–‡å®ä½“å¬å›ï¼‰</h5>
<p><strong>å®šä¹‰</strong>ï¼šä¸“é—¨è¯„ä¼°å®ä½“ï¼ˆå¦‚äººåã€åœ°åã€æ—¶é—´ç­‰ï¼‰çš„å¬å›æƒ…å†µ</p>
<h4 data-id="heading-11">2.3 ç”Ÿæˆè´¨é‡æŒ‡æ ‡</h4>
<h5 data-id="heading-12">Faithfulnessï¼ˆå¿ å®åº¦ï¼‰</h5>
<p><strong>å®šä¹‰</strong>ï¼šè¡¡é‡ç­”æ¡ˆæ˜¯å¦åŸºäºæ£€ç´¢åˆ°çš„ä¸Šä¸‹æ–‡ï¼Œæ£€æµ‹å¹»è§‰é—®é¢˜</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># è¯„ä¼°é—®é¢˜ç¤ºä¾‹</span>
<span class="hljs-string">"ç­”æ¡ˆä¸­çš„æ‰€æœ‰å£°æ˜æ˜¯å¦éƒ½èƒ½åœ¨æ£€ç´¢åˆ°çš„ä¸Šä¸‹æ–‡ä¸­æ‰¾åˆ°ä¾æ®ï¼Ÿ"</span>

è¯„åˆ†ç»´åº¦ï¼š
- äº‹å®ä¸€è‡´æ€§
- æ— é¢å¤–ç¼–é€ ä¿¡æ¯
- é€»è¾‘æ¨ç†æ­£ç¡®æ€§
</code></pre>
<h5 data-id="heading-13">Answer Relevancyï¼ˆç­”æ¡ˆç›¸å…³æ€§ï¼‰</h5>
<p><strong>å®šä¹‰</strong>ï¼šè¡¡é‡ç­”æ¡ˆä¸é—®é¢˜çš„ç›¸å…³ç¨‹åº¦</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># è¯„ä¼°æ–¹æ³•</span>
<span class="hljs-number">1.</span> å°†ç­”æ¡ˆè½¬æ¢ä¸ºåå‘é—®é¢˜
<span class="hljs-number">2.</span> è®¡ç®—åå‘é—®é¢˜ä¸åŸé—®é¢˜çš„ç›¸ä¼¼åº¦
<span class="hljs-number">3.</span> è¯„åˆ†èŒƒå›´ï¼š<span class="hljs-number">0</span>-<span class="hljs-number">1</span>ï¼Œè¶Šé«˜è¶Šå¥½
</code></pre>
<h5 data-id="heading-14">Factual Correctnessï¼ˆäº‹å®æ­£ç¡®æ€§ï¼‰</h5>
<p><strong>å®šä¹‰</strong>ï¼šè¡¡é‡ç­”æ¡ˆçš„äº‹å®å‡†ç¡®æ€§ï¼Œé€šå¸¸éœ€è¦å‚è€ƒæ ‡å‡†ç­”æ¡ˆ</p>
<h4 data-id="heading-15">2.4 æŒ‡æ ‡é€‰æ‹©å»ºè®®</h4>

























<table><thead><tr><th>è¯„ä¼°ç›®æ ‡</th><th>æ¨èæŒ‡æ ‡ç»„åˆ</th></tr></thead><tbody><tr><td>æ£€ç´¢ç³»ç»Ÿä¼˜åŒ–</td><td>Context Precision + Context Recall</td></tr><tr><td>å¹»è§‰æ£€æµ‹</td><td>Faithfulness</td></tr><tr><td>ç”¨æˆ·ä½“éªŒè¯„ä¼°</td><td>Answer Relevancy + Faithfulness</td></tr><tr><td>å®Œæ•´è¯„ä¼°</td><td>å…¨éƒ¨æŒ‡æ ‡</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-16">ä¸‰ã€å®‰è£…ä¸é…ç½®</h3>
<h4 data-id="heading-17">3.1 åŸºç¡€å®‰è£…</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ ‡å‡†å®‰è£…</span>
pip install ragas

<span class="hljs-comment"># å®Œæ•´å®‰è£…ï¼ˆåŒ…å«ç¤ºä¾‹å’Œé¢å¤–ä¾èµ–ï¼‰</span>
pip install ragas[examples]

<span class="hljs-comment"># ä»æºç å®‰è£…</span>
git <span class="hljs-built_in">clone</span> https://github.com/explodinggradients/ragas.git
<span class="hljs-built_in">cd</span> ragas
pip install -e .
</code></pre>
<h4 data-id="heading-18">3.2 ç‰ˆæœ¬è¦æ±‚</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">æ ¸å¿ƒä¾èµ–:</span>
  <span class="hljs-attr">Python:</span> <span class="hljs-string">"&gt;=3.8"</span>
  <span class="hljs-attr">langchain:</span> <span class="hljs-string">"&gt;=0.1.0"</span>
  <span class="hljs-attr">langchain-openai:</span> <span class="hljs-string">"&gt;=0.0.5"</span>

<span class="hljs-string">å¯é€‰ä¾èµ–:</span>
  <span class="hljs-attr">openai:</span> <span class="hljs-string">ç”¨äº</span> <span class="hljs-string">GPT</span> <span class="hljs-string">æ¨¡å‹</span>
  <span class="hljs-attr">anthropic:</span> <span class="hljs-string">ç”¨äº</span> <span class="hljs-string">Claude</span> <span class="hljs-string">æ¨¡å‹</span>
  <span class="hljs-attr">sentence-transformers:</span> <span class="hljs-string">ç”¨äºæœ¬åœ°</span> <span class="hljs-string">embedding</span>
</code></pre>
<h4 data-id="heading-19">3.3 é…ç½®è¯„ä¼°å™¨ LLM</h4>
<h5 data-id="heading-20">æ–¹å¼ä¸€ï¼šä½¿ç”¨ OpenAI</h5>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">from</span> langchain_openai <span class="hljs-keyword">import</span> ChatOpenAI
<span class="hljs-keyword">from</span> ragas.llms <span class="hljs-keyword">import</span> LangchainLLMWrapper

<span class="hljs-comment"># é…ç½®ç¯å¢ƒå˜é‡</span>
os.environ[<span class="hljs-string">"OPENAI_API_KEY"</span>] = <span class="hljs-string">"your-api-key"</span>

<span class="hljs-comment"># åˆå§‹åŒ– LLM</span>
llm = ChatOpenAI(
    model=<span class="hljs-string">"gpt-4o"</span>,
    temperature=<span class="hljs-number">0</span>,
    max_tokens=<span class="hljs-number">1024</span>
)

<span class="hljs-comment"># åŒ…è£…ä¸º Ragas è¯„ä¼°å™¨</span>
evaluator_llm = LangchainLLMWrapper(llm)
</code></pre>
<h5 data-id="heading-21">æ–¹å¼äºŒï¼šä½¿ç”¨æœ¬åœ°æ¨¡å‹ï¼ˆOllamaï¼‰</h5>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_community.llms <span class="hljs-keyword">import</span> Ollama
<span class="hljs-keyword">from</span> ragas.llms <span class="hljs-keyword">import</span> LangchainLLMWrapper

<span class="hljs-comment"># ä½¿ç”¨æœ¬åœ° Ollama æ¨¡å‹</span>
llm = Ollama(
    model=<span class="hljs-string">"llama3.2"</span>,
    temperature=<span class="hljs-number">0</span>
)

evaluator_llm = LangchainLLMWrapper(llm)
</code></pre>
<h5 data-id="heading-22">æ–¹å¼ä¸‰ï¼šä½¿ç”¨ Azure OpenAI</h5>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_openai <span class="hljs-keyword">import</span> AzureChatOpenAI
<span class="hljs-keyword">from</span> ragas.llms <span class="hljs-keyword">import</span> LangchainLLMWrapper

llm = AzureChatOpenAI(
    azure_endpoint=<span class="hljs-string">"your-endpoint"</span>,
    api_key=<span class="hljs-string">"your-api-key"</span>,
    api_version=<span class="hljs-string">"2024-02-15-preview"</span>,
    deployment_name=<span class="hljs-string">"your-deployment"</span>
)

evaluator_llm = LangchainLLMWrapper(llm)
</code></pre>
<h4 data-id="heading-23">3.4 é…ç½® Embedding æ¨¡å‹</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> openai
<span class="hljs-keyword">from</span> ragas.embeddings <span class="hljs-keyword">import</span> OpenAIEmbeddings

<span class="hljs-comment"># OpenAI Embeddings</span>
openai_client = openai.OpenAI(api_key=<span class="hljs-string">"your-api-key"</span>)
embeddings = OpenAIEmbeddings(client=openai_client)

<span class="hljs-comment"># æˆ–è€…ä½¿ç”¨ HuggingFace</span>
<span class="hljs-keyword">from</span> ragas.embeddings <span class="hljs-keyword">import</span> HuggingfaceEmbeddings

embeddings = HuggingfaceEmbeddings(
    model_name=<span class="hljs-string">"BAAI/bge-large-zh-v1.5"</span>
)
</code></pre>
<hr/>
<h3 data-id="heading-24">å››ã€å®Œæ•´ä½¿ç”¨æµç¨‹</h3>
<h4 data-id="heading-25">4.1 æ„å»ºç®€å• RAG ç³»ç»Ÿ</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">from</span> langchain_openai <span class="hljs-keyword">import</span> ChatOpenAI
<span class="hljs-keyword">from</span> ragas.embeddings <span class="hljs-keyword">import</span> OpenAIEmbeddings
<span class="hljs-keyword">import</span> openai

<span class="hljs-keyword">class</span> <span class="hljs-title class_">SimpleRAG</span>:
    <span class="hljs-string">"""
    ç®€å•çš„ RAG ç³»ç»Ÿå®ç°
    éµå¾ªå•ä¸€èŒè´£åŸåˆ™ï¼Œæ¯ä¸ªæ–¹æ³•åªåšä¸€ä»¶äº‹
    """</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, model: <span class="hljs-built_in">str</span> = <span class="hljs-string">"gpt-4o"</span></span>):
        <span class="hljs-string">"""
        åˆå§‹åŒ– RAG ç³»ç»Ÿ

        Args:
            model: ä½¿ç”¨çš„ LLM æ¨¡å‹åç§°
        """</span>
        self.llm = ChatOpenAI(model=model)
        openai_client = openai.OpenAI()
        self.embeddings = OpenAIEmbeddings(client=openai_client)
        self.doc_embeddings = <span class="hljs-literal">None</span>
        self.docs = <span class="hljs-literal">None</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">load_documents</span>(<span class="hljs-params">self, documents: <span class="hljs-built_in">list</span>[<span class="hljs-built_in">str</span>]</span>) -&gt; <span class="hljs-literal">None</span>:
        <span class="hljs-string">"""
        åŠ è½½æ–‡æ¡£å¹¶è®¡ç®—å‘é‡

        Args:
            documents: æ–‡æ¡£åˆ—è¡¨
        """</span>
        self.docs = documents
        self.doc_embeddings = self.embeddings.embed_texts(documents)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_compute_similarity</span>(<span class="hljs-params">self, query_embedding: np.ndarray,
                          doc_embedding: np.ndarray</span>) -&gt; <span class="hljs-built_in">float</span>:
        <span class="hljs-string">"""
        è®¡ç®—æŸ¥è¯¢å’Œæ–‡æ¡£çš„ä½™å¼¦ç›¸ä¼¼åº¦

        Args:
            query_embedding: æŸ¥è¯¢å‘é‡
            doc_embedding: æ–‡æ¡£å‘é‡

        Returns:
            ç›¸ä¼¼åº¦åˆ†æ•°
        """</span>
        <span class="hljs-keyword">return</span> np.dot(query_embedding, doc_embedding) / (
            np.linalg.norm(query_embedding) * np.linalg.norm(doc_embedding)
        )

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_most_relevant_docs</span>(<span class="hljs-params">self, query: <span class="hljs-built_in">str</span>, top_k: <span class="hljs-built_in">int</span> = <span class="hljs-number">1</span></span>) -&gt; <span class="hljs-built_in">list</span>[<span class="hljs-built_in">str</span>]:
        <span class="hljs-string">"""
        æ£€ç´¢æœ€ç›¸å…³æ–‡æ¡£

        Args:
            query: ç”¨æˆ·æŸ¥è¯¢
            top_k: è¿”å›æ–‡æ¡£æ•°é‡

        Returns:
            æœ€ç›¸å…³çš„æ–‡æ¡£åˆ—è¡¨
        """</span>
        <span class="hljs-keyword">if</span> self.docs <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">or</span> self.doc_embeddings <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">"è¯·å…ˆè°ƒç”¨ load_documents åŠ è½½æ–‡æ¡£"</span>)

        query_embedding = self.embeddings.embed_text(query)
        similarities = [
            self._compute_similarity(query_embedding, doc_emb)
            <span class="hljs-keyword">for</span> doc_emb <span class="hljs-keyword">in</span> self.doc_embeddings
        ]

        <span class="hljs-comment"># è·å– top_k ä¸ªæœ€ç›¸å…³æ–‡æ¡£çš„ç´¢å¼•</span>
        top_indices = np.argsort(similarities)[-top_k:][::-<span class="hljs-number">1</span>]
        <span class="hljs-keyword">return</span> [self.docs[i] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> top_indices]

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">generate_answer</span>(<span class="hljs-params">self, query: <span class="hljs-built_in">str</span>, relevant_docs: <span class="hljs-built_in">list</span>[<span class="hljs-built_in">str</span>]</span>) -&gt; <span class="hljs-built_in">str</span>:
        <span class="hljs-string">"""
        åŸºäºæ£€ç´¢åˆ°çš„æ–‡æ¡£ç”Ÿæˆç­”æ¡ˆ

        Args:
            query: ç”¨æˆ·æŸ¥è¯¢
            relevant_docs: ç›¸å…³æ–‡æ¡£åˆ—è¡¨

        Returns:
            ç”Ÿæˆçš„ç­”æ¡ˆ
        """</span>
        context = <span class="hljs-string">"\n\n"</span>.join(relevant_docs)
        prompt = <span class="hljs-string">f"é—®é¢˜: <span class="hljs-subst">{query}</span>\n\nå‚è€ƒæ–‡æ¡£:\n<span class="hljs-subst">{context}</span>\n\nè¯·æ ¹æ®å‚è€ƒæ–‡æ¡£å›ç­”é—®é¢˜ã€‚"</span>

        messages = [
            (<span class="hljs-string">"system"</span>, <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªæœ‰å¸®åŠ©çš„åŠ©æ‰‹ï¼Œä»…åŸºäºæä¾›çš„æ–‡æ¡£å›ç­”é—®é¢˜ã€‚"</span>),
            (<span class="hljs-string">"human"</span>, prompt),
        ]

        ai_msg = self.llm.invoke(messages)
        <span class="hljs-keyword">return</span> ai_msg.content

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">query</span>(<span class="hljs-params">self, query: <span class="hljs-built_in">str</span>, top_k: <span class="hljs-built_in">int</span> = <span class="hljs-number">1</span></span>) -&gt; <span class="hljs-built_in">dict</span>:
        <span class="hljs-string">"""
        å®Œæ•´çš„æŸ¥è¯¢æµç¨‹

        Args:
            query: ç”¨æˆ·æŸ¥è¯¢
            top_k: æ£€ç´¢æ–‡æ¡£æ•°é‡

        Returns:
            åŒ…å«ç­”æ¡ˆå’Œæ£€ç´¢æ–‡æ¡£çš„å­—å…¸
        """</span>
        relevant_docs = self.get_most_relevant_docs(query, top_k)
        answer = self.generate_answer(query, relevant_docs)

        <span class="hljs-keyword">return</span> {
            <span class="hljs-string">"query"</span>: query,
            <span class="hljs-string">"answer"</span>: answer,
            <span class="hljs-string">"retrieved_docs"</span>: relevant_docs
        }
</code></pre>
<h4 data-id="heading-26">4.2 å‡†å¤‡æµ‹è¯•æ•°æ®</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> ragas <span class="hljs-keyword">import</span> EvaluationDataset
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd

<span class="hljs-keyword">def</span> <span class="hljs-title function_">prepare_test_dataset</span>(<span class="hljs-params">rag: SimpleRAG,
                        queries: <span class="hljs-built_in">list</span>[<span class="hljs-built_in">str</span>],
                        references: <span class="hljs-built_in">list</span>[<span class="hljs-built_in">str</span>] | <span class="hljs-literal">None</span> = <span class="hljs-literal">None</span></span>) -&gt; EvaluationDataset:
    <span class="hljs-string">"""
    å‡†å¤‡è¯„ä¼°æ•°æ®é›†

    Args:
        rag: RAG ç³»ç»Ÿå®ä¾‹
        queries: æµ‹è¯•æŸ¥è¯¢åˆ—è¡¨
        references: å‚è€ƒç­”æ¡ˆåˆ—è¡¨ï¼ˆå¯é€‰ï¼‰

    Returns:
        EvaluationDataset å¯¹è±¡
    """</span>
    dataset = []

    <span class="hljs-keyword">for</span> i, query <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(queries):
        <span class="hljs-comment"># æ‰§è¡ŒæŸ¥è¯¢</span>
        result = rag.query(query, top_k=<span class="hljs-number">3</span>)

        <span class="hljs-comment"># æ„å»ºæ•°æ®æ ·æœ¬</span>
        sample = {
            <span class="hljs-string">"user_input"</span>: query,
            <span class="hljs-string">"retrieved_contexts"</span>: result[<span class="hljs-string">"retrieved_docs"</span>],
            <span class="hljs-string">"response"</span>: result[<span class="hljs-string">"answer"</span>]
        }

        <span class="hljs-comment"># å¦‚æœæœ‰å‚è€ƒç­”æ¡ˆï¼Œæ·»åŠ åˆ°æ ·æœ¬ä¸­</span>
        <span class="hljs-keyword">if</span> references <span class="hljs-keyword">and</span> i &lt; <span class="hljs-built_in">len</span>(references):
            sample[<span class="hljs-string">"reference"</span>] = references[i]

        dataset.append(sample)

    <span class="hljs-keyword">return</span> EvaluationDataset.from_list(dataset)


<span class="hljs-comment"># ç¤ºä¾‹ä½¿ç”¨</span>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-comment"># ç¤ºä¾‹æ–‡æ¡£</span>
    sample_docs = [
        <span class="hljs-string">"é˜¿å°”ä¼¯ç‰¹Â·çˆ±å› æ–¯å¦æå‡ºäº†ç›¸å¯¹è®ºï¼Œè¿™æ”¹å˜äº†æˆ‘ä»¬å¯¹æ—¶é—´ã€ç©ºé—´å’Œå¼•åŠ›çš„ç†è§£ã€‚"</span>,
        <span class="hljs-string">"ç›ä¸½Â·å±…é‡Œæ˜¯ä¸€ä½ç‰©ç†å­¦å®¶å’ŒåŒ–å­¦å®¶ï¼Œå¥¹åœ¨æ”¾å°„æ€§ç ”ç©¶æ–¹é¢åšå‡ºäº†å¼€åˆ›æ€§å·¥ä½œï¼Œå¹¶è·å¾—äº†ä¸¤æ¬¡è¯ºè´å°”å¥–ã€‚"</span>,
        <span class="hljs-string">"è‰¾è¨å…‹Â·ç‰›é¡¿åˆ¶å®šäº†è¿åŠ¨å®šå¾‹å’Œä¸‡æœ‰å¼•åŠ›å®šå¾‹ï¼Œå¥ å®šäº†ç»å…¸åŠ›å­¦çš„åŸºç¡€ã€‚"</span>,
        <span class="hljs-string">"æŸ¥å°”æ–¯Â·è¾¾å°”æ–‡åœ¨ã€Šç‰©ç§èµ·æºã€‹ä¸€ä¹¦ä¸­æå‡ºäº†è‡ªç„¶é€‰æ‹©è¿›åŒ–è®ºã€‚"</span>,
        <span class="hljs-string">"é˜¿è¾¾Â·æ´›èŠ™è±æ–¯å› å…¶åœ¨æŸ¥å°”æ–¯Â·å·´è´å¥‡æ—©æœŸæœºæ¢°è®¡ç®—æœºåˆ†ææœºä¸Šçš„å·¥ä½œï¼Œè¢«è®¤ä¸ºæ˜¯ç¬¬ä¸€ä½è®¡ç®—æœºç¨‹åºå‘˜ã€‚"</span>
    ]

    <span class="hljs-comment"># æµ‹è¯•æŸ¥è¯¢</span>
    sample_queries = [
        <span class="hljs-string">"è°æå‡ºäº†ç›¸å¯¹è®ºï¼Ÿ"</span>,
        <span class="hljs-string">"è°æ˜¯ç¬¬ä¸€ä½è®¡ç®—æœºç¨‹åºå‘˜ï¼Ÿ"</span>,
        <span class="hljs-string">"è‰¾è¨å…‹Â·ç‰›é¡¿å¯¹ç§‘å­¦æœ‰ä»€ä¹ˆè´¡çŒ®ï¼Ÿ"</span>,
        <span class="hljs-string">"è°å› æ”¾å°„æ€§ç ”ç©¶è·å¾—äº†ä¸¤æ¬¡è¯ºè´å°”å¥–ï¼Ÿ"</span>
    ]

    <span class="hljs-comment"># å‚è€ƒç­”æ¡ˆï¼ˆå¯é€‰ï¼‰</span>
    expected_responses = [
        <span class="hljs-string">"é˜¿å°”ä¼¯ç‰¹Â·çˆ±å› æ–¯å¦æå‡ºäº†ç›¸å¯¹è®º"</span>,
        <span class="hljs-string">"é˜¿è¾¾Â·æ´›èŠ™è±æ–¯è¢«è®¤ä¸ºæ˜¯ç¬¬ä¸€ä½è®¡ç®—æœºç¨‹åºå‘˜"</span>,
        <span class="hljs-string">"è‰¾è¨å…‹Â·ç‰›é¡¿åˆ¶å®šäº†è¿åŠ¨å®šå¾‹å’Œä¸‡æœ‰å¼•åŠ›å®šå¾‹"</span>,
        <span class="hljs-string">"ç›ä¸½Â·å±…é‡Œå› æ”¾å°„æ€§ç ”ç©¶è·å¾—äº†ä¸¤æ¬¡è¯ºè´å°”å¥–"</span>
    ]

    <span class="hljs-comment"># åˆå§‹åŒ– RAG ç³»ç»Ÿ</span>
    rag = SimpleRAG()
    rag.load_documents(sample_docs)

    <span class="hljs-comment"># å‡†å¤‡è¯„ä¼°æ•°æ®é›†</span>
    evaluation_dataset = prepare_test_dataset(
        rag=rag,
        queries=sample_queries,
        references=expected_responses
    )

    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ•°æ®é›†å‡†å¤‡å®Œæˆï¼Œå…± <span class="hljs-subst">{<span class="hljs-built_in">len</span>(evaluation_dataset)}</span> ä¸ªæ ·æœ¬"</span>)
</code></pre>
<h4 data-id="heading-27">4.3 æ‰§è¡Œè¯„ä¼°</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> ragas <span class="hljs-keyword">import</span> evaluate
<span class="hljs-keyword">from</span> ragas.metrics <span class="hljs-keyword">import</span> (
    LLMContextRecall,
    Faithfulness,
    FactualCorrectness,
    AnswerRelevancy,
    ContextPrecision
)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">run_evaluation</span>(<span class="hljs-params">dataset: EvaluationDataset,
                  evaluator_llm,
                  metrics: <span class="hljs-built_in">list</span> | <span class="hljs-literal">None</span> = <span class="hljs-literal">None</span></span>) -&gt; <span class="hljs-built_in">dict</span>:
    <span class="hljs-string">"""
    è¿è¡Œ Ragas è¯„ä¼°

    Args:
        dataset: è¯„ä¼°æ•°æ®é›†
        evaluator_llm: è¯„ä¼°å™¨ LLM
        metrics: è¯„ä¼°æŒ‡æ ‡åˆ—è¡¨

    Returns:
        è¯„ä¼°ç»“æœå­—å…¸
    """</span>
    <span class="hljs-keyword">if</span> metrics <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
        <span class="hljs-comment"># é»˜è®¤ä½¿ç”¨æ ¸å¿ƒæŒ‡æ ‡</span>
        metrics = [
            LLMContextRecall(),
            Faithfulness(),
            FactualCorrectness()
        ]

    results = evaluate(
        dataset=dataset,
        metrics=metrics,
        llm=evaluator_llm
    )

    <span class="hljs-keyword">return</span> results


<span class="hljs-comment"># ç¤ºä¾‹ä½¿ç”¨</span>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-comment"># é…ç½®è¯„ä¼°å™¨</span>
    evaluator_llm = LangchainLLMWrapper(
        ChatOpenAI(model=<span class="hljs-string">"gpt-4o"</span>, temperature=<span class="hljs-number">0</span>)
    )

    <span class="hljs-comment"># å®šä¹‰è¯„ä¼°æŒ‡æ ‡</span>
    metrics = [
        ContextPrecision(),
        LLMContextRecall(),
        Faithfulness(),
        AnswerRelevancy(),
    ]

    <span class="hljs-comment"># è¿è¡Œè¯„ä¼°</span>
    results = run_evaluation(
        dataset=evaluation_dataset,
        evaluator_llm=evaluator_llm,
        metrics=metrics
    )

    <span class="hljs-comment"># è¾“å‡ºç»“æœ</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">50</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Ragas è¯„ä¼°ç»“æœ"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">50</span>)
    <span class="hljs-keyword">for</span> metric, score <span class="hljs-keyword">in</span> results.items():
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{metric}</span>: <span class="hljs-subst">{score:<span class="hljs-number">.4</span>f}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">50</span>)

    <span class="hljs-comment"># ä¿å­˜ç»“æœ</span>
    results_df = results.to_pandas()
    results_df.to_csv(<span class="hljs-string">"rag_evaluation_results.csv"</span>, index=<span class="hljs-literal">False</span>)
</code></pre>
<h4 data-id="heading-28">4.4 å®Œæ•´ç¤ºä¾‹è„šæœ¬</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""
å®Œæ•´çš„ Ragas è¯„ä¼°ç¤ºä¾‹è„šæœ¬
æ¼”ç¤ºä»æ„å»º RAG åˆ°è¯„ä¼°çš„å®Œæ•´æµç¨‹
"""</span>

<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Optional</span>
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">from</span> langchain_openai <span class="hljs-keyword">import</span> ChatOpenAI
<span class="hljs-keyword">from</span> ragas.embeddings <span class="hljs-keyword">import</span> OpenAIEmbeddings
<span class="hljs-keyword">from</span> ragas <span class="hljs-keyword">import</span> EvaluationDataset, evaluate
<span class="hljs-keyword">from</span> ragas.llms <span class="hljs-keyword">import</span> LangchainLLMWrapper
<span class="hljs-keyword">from</span> ragas.metrics <span class="hljs-keyword">import</span> (
    ContextPrecision,
    LLMContextRecall,
    Faithfulness,
    AnswerRelevancy
)
<span class="hljs-keyword">import</span> openai


<span class="hljs-keyword">class</span> <span class="hljs-title class_">RAGEvaluator</span>:
    <span class="hljs-string">"""
    RAG ç³»ç»Ÿè¯„ä¼°å™¨
    å°è£…å®Œæ•´çš„è¯„ä¼°æµç¨‹
    """</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self,
                 llm_model: <span class="hljs-built_in">str</span> = <span class="hljs-string">"gpt-4o"</span>,
                 evaluator_model: <span class="hljs-built_in">str</span> = <span class="hljs-string">"gpt-4o"</span></span>):
        <span class="hljs-string">"""
        åˆå§‹åŒ–è¯„ä¼°å™¨

        Args:
            llm_model: RAG ç³»ç»Ÿä½¿ç”¨çš„ LLM
            evaluator_model: è¯„ä¼°å™¨ä½¿ç”¨çš„ LLM
        """</span>
        <span class="hljs-comment"># åˆå§‹åŒ– RAG ç³»ç»Ÿ LLM</span>
        self.rag_llm = ChatOpenAI(model=llm_model)

        <span class="hljs-comment"># åˆå§‹åŒ–è¯„ä¼°å™¨ LLM</span>
        self.evaluator_llm = ChatOpenAI(
            model=evaluator_model,
            temperature=<span class="hljs-number">0</span>
        )
        evaluator_wrapper = LangchainLLMWrapper(self.evaluator_llm)

        <span class="hljs-comment"># åˆå§‹åŒ– Embeddings</span>
        openai_client = openai.OpenAI()
        self.embeddings = OpenAIEmbeddings(client=openai_client)

        self.doc_embeddings = <span class="hljs-literal">None</span>
        self.docs = <span class="hljs-literal">None</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">load_knowledge_base</span>(<span class="hljs-params">self, documents: <span class="hljs-built_in">list</span>[<span class="hljs-built_in">str</span>]</span>) -&gt; <span class="hljs-literal">None</span>:
        <span class="hljs-string">"""åŠ è½½çŸ¥è¯†åº“"""</span>
        self.docs = documents
        self.doc_embeddings = self.embeddings.embed_texts(documents)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_retrieve_docs</span>(<span class="hljs-params">self, query: <span class="hljs-built_in">str</span>, top_k: <span class="hljs-built_in">int</span> = <span class="hljs-number">3</span></span>) -&gt; <span class="hljs-built_in">list</span>[<span class="hljs-built_in">str</span>]:
        <span class="hljs-string">"""æ£€ç´¢ç›¸å…³æ–‡æ¡£"""</span>
        query_emb = self.embeddings.embed_text(query)
        similarities = [
            np.dot(query_emb, doc_emb) /
            (np.linalg.norm(query_emb) * np.linalg.norm(doc_emb))
            <span class="hljs-keyword">for</span> doc_emb <span class="hljs-keyword">in</span> self.doc_embeddings
        ]
        top_indices = np.argsort(similarities)[-top_k:][::-<span class="hljs-number">1</span>]
        <span class="hljs-keyword">return</span> [self.docs[i] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> top_indices]

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_generate_response</span>(<span class="hljs-params">self, query: <span class="hljs-built_in">str</span>, contexts: <span class="hljs-built_in">list</span>[<span class="hljs-built_in">str</span>]</span>) -&gt; <span class="hljs-built_in">str</span>:
        <span class="hljs-string">"""ç”Ÿæˆå“åº”"""</span>
        context_text = <span class="hljs-string">"\n\n"</span>.join(contexts)
        prompt = <span class="hljs-string">f"åŸºäºä»¥ä¸‹æ–‡æ¡£å›ç­”é—®é¢˜ï¼š\n\n<span class="hljs-subst">{context_text}</span>\n\né—®é¢˜ï¼š<span class="hljs-subst">{query}</span>"</span>

        messages = [
            (<span class="hljs-string">"system"</span>, <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªæœ‰å¸®åŠ©çš„åŠ©æ‰‹ã€‚ä»…åŸºäºæä¾›çš„æ–‡æ¡£å›ç­”é—®é¢˜ï¼Œä¸è¦ç¼–é€ ä¿¡æ¯ã€‚"</span>),
            (<span class="hljs-string">"human"</span>, prompt)
        ]

        response = self.rag_llm.invoke(messages)
        <span class="hljs-keyword">return</span> response.content

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">build_dataset</span>(<span class="hljs-params">self,
                     queries: <span class="hljs-built_in">list</span>[<span class="hljs-built_in">str</span>],
                     references: <span class="hljs-type">Optional</span>[<span class="hljs-built_in">list</span>[<span class="hljs-built_in">str</span>]] = <span class="hljs-literal">None</span></span>) -&gt; EvaluationDataset:
        <span class="hljs-string">"""æ„å»ºè¯„ä¼°æ•°æ®é›†"""</span>
        dataset = []

        <span class="hljs-keyword">for</span> i, query <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(queries):
            contexts = self._retrieve_docs(query)
            response = self._generate_response(query, contexts)

            sample = {
                <span class="hljs-string">"user_input"</span>: query,
                <span class="hljs-string">"retrieved_contexts"</span>: contexts,
                <span class="hljs-string">"response"</span>: response
            }

            <span class="hljs-keyword">if</span> references <span class="hljs-keyword">and</span> i &lt; <span class="hljs-built_in">len</span>(references):
                sample[<span class="hljs-string">"reference"</span>] = references[i]

            dataset.append(sample)

        <span class="hljs-keyword">return</span> EvaluationDataset.from_list(dataset)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">evaluate</span>(<span class="hljs-params">self,
                dataset: EvaluationDataset,
                metrics: <span class="hljs-type">Optional</span>[<span class="hljs-built_in">list</span>] = <span class="hljs-literal">None</span></span>) -&gt; <span class="hljs-built_in">dict</span>:
        <span class="hljs-string">"""æ‰§è¡Œè¯„ä¼°"""</span>
        <span class="hljs-keyword">if</span> metrics <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
            metrics = [
                ContextPrecision(),
                LLMContextRecall(),
                Faithfulness(),
                AnswerRelevancy()
            ]

        results = evaluate(
            dataset=dataset,
            metrics=metrics,
            llm=LangchainLLMWrapper(self.evaluator_llm)
        )

        <span class="hljs-keyword">return</span> results

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">run_full_pipeline</span>(<span class="hljs-params">self,
                         documents: <span class="hljs-built_in">list</span>[<span class="hljs-built_in">str</span>],
                         queries: <span class="hljs-built_in">list</span>[<span class="hljs-built_in">str</span>],
                         references: <span class="hljs-type">Optional</span>[<span class="hljs-built_in">list</span>[<span class="hljs-built_in">str</span>]] = <span class="hljs-literal">None</span>,
                         save_path: <span class="hljs-built_in">str</span> = <span class="hljs-string">"results.csv"</span></span>) -&gt; <span class="hljs-built_in">dict</span>:
        <span class="hljs-string">"""è¿è¡Œå®Œæ•´çš„è¯„ä¼°æµç¨‹"""</span>
        <span class="hljs-comment"># 1. åŠ è½½çŸ¥è¯†åº“</span>
        self.load_knowledge_base(documents)

        <span class="hljs-comment"># 2. æ„å»ºæ•°æ®é›†</span>
        dataset = self.build_dataset(queries, references)

        <span class="hljs-comment"># 3. æ‰§è¡Œè¯„ä¼°</span>
        results = self.evaluate(dataset)

        <span class="hljs-comment"># 4. ä¿å­˜ç»“æœ</span>
        results_df = results.to_pandas()
        results_df.to_csv(save_path, index=<span class="hljs-literal">False</span>)

        <span class="hljs-keyword">return</span> results


<span class="hljs-comment"># ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-string">"""ä¸»å‡½æ•°ç¤ºä¾‹"""</span>
    <span class="hljs-comment"># è®¾ç½® API Key</span>
    os.environ[<span class="hljs-string">"OPENAI_API_KEY"</span>] = <span class="hljs-string">"your-api-key"</span>

    <span class="hljs-comment"># ç¤ºä¾‹çŸ¥è¯†åº“</span>
    documents = [
        <span class="hljs-string">"Python æ˜¯ä¸€ç§é«˜çº§ç¼–ç¨‹è¯­è¨€ï¼Œç”± Guido van Rossum äº 1991 å¹´é¦–æ¬¡å‘å¸ƒã€‚"</span>,
        <span class="hljs-string">"JavaScript æ˜¯ä¸€ç§è„šæœ¬è¯­è¨€ï¼Œä¸»è¦ç”¨äº Web å¼€å‘ï¼Œç”± Brendan Eich åœ¨ 1995 å¹´åˆ›å»ºã€‚"</span>,
        <span class="hljs-string">"Rust æ˜¯ä¸€ç§ç³»ç»Ÿç¼–ç¨‹è¯­è¨€ï¼Œæ³¨é‡å®‰å…¨ã€å¹¶å‘å’Œæ€§èƒ½ï¼Œç”± Mozilla å¼€å‘ã€‚"</span>,
        <span class="hljs-string">"Go æ˜¯ç”± Google å¼€å‘çš„é™æ€ç±»å‹ç¼–ç¨‹è¯­è¨€ï¼Œä»¥å…¶ç®€æ´æ€§å’Œé«˜æ•ˆæ€§è‘—ç§°ã€‚"</span>,
        <span class="hljs-string">"TypeScript æ˜¯ JavaScript çš„è¶…é›†ï¼Œæ·»åŠ äº†é™æ€ç±»å‹ï¼Œç”± Microsoft å¼€å‘ã€‚"</span>
    ]

    <span class="hljs-comment"># æµ‹è¯•æŸ¥è¯¢</span>
    queries = [
        <span class="hljs-string">"è°åˆ›å»ºäº† Pythonï¼Ÿ"</span>,
        <span class="hljs-string">"JavaScript ä¸»è¦ç”¨äºä»€ä¹ˆï¼Ÿ"</span>,
        <span class="hljs-string">"Rust çš„ä¸»è¦ç‰¹ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ"</span>
    ]

    <span class="hljs-comment"># å‚è€ƒç­”æ¡ˆ</span>
    references = [
        <span class="hljs-string">"Guido van Rossum åœ¨ 1991 å¹´åˆ›å»ºäº† Python"</span>,
        <span class="hljs-string">"JavaScript ä¸»è¦ç”¨äº Web å¼€å‘"</span>,
        <span class="hljs-string">"Rust çš„ä¸»è¦ç‰¹ç‚¹æ˜¯å®‰å…¨ã€å¹¶å‘å’Œæ€§èƒ½"</span>
    ]

    <span class="hljs-comment"># åˆå§‹åŒ–è¯„ä¼°å™¨</span>
    evaluator = RAGEvaluator(
        llm_model=<span class="hljs-string">"gpt-4o"</span>,
        evaluator_model=<span class="hljs-string">"gpt-4o"</span>
    )

    <span class="hljs-comment"># è¿è¡Œå®Œæ•´è¯„ä¼°æµç¨‹</span>
    results = evaluator.run_full_pipeline(
        documents=documents,
        queries=queries,
        references=references,
        save_path=<span class="hljs-string">"evaluation_results.csv"</span>
    )

    <span class="hljs-comment"># æ‰“å°ç»“æœ</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Ragas è¯„ä¼°æŠ¥å‘Š"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
    <span class="hljs-keyword">for</span> metric_name, score <span class="hljs-keyword">in</span> results.items():
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{metric_name:30s}</span>: <span class="hljs-subst">{score:<span class="hljs-number">.4</span>f}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    main()
</code></pre>
<hr/>
<h3 data-id="heading-29">äº”ã€è‡ªå®šä¹‰è¯„ä¼°æŒ‡æ ‡</h3>
<h4 data-id="heading-30">5.1 ç¦»æ•£æŒ‡æ ‡ï¼ˆDiscreteMetricï¼‰</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> ragas.metrics <span class="hljs-keyword">import</span> DiscreteMetric

<span class="hljs-comment"># åˆ›å»ºè‡ªå®šä¹‰é€šè¿‡/å¤±è´¥æŒ‡æ ‡</span>
correctness_metric = DiscreteMetric(
    name=<span class="hljs-string">"correctness"</span>,
    prompt=<span class="hljs-string">"""æ£€æŸ¥å“åº”æ˜¯å¦åŒ…å«è¯„åˆ†æ ‡å‡†ä¸­æåˆ°çš„è¦ç‚¹ã€‚
åªè¿”å› 'pass' æˆ– 'fail'ã€‚

å“åº”: {response}
è¯„åˆ†æ ‡å‡†: {grading_notes}"""</span>,
    allowed_values=[<span class="hljs-string">"pass"</span>, <span class="hljs-string">"fail"</span>],
)

<span class="hljs-comment"># ä½¿ç”¨è‡ªå®šä¹‰æŒ‡æ ‡</span>
score = correctness_metric.score(
    llm=evaluator_llm,
    response=<span class="hljs-string">"Python æ˜¯ç”± Guido van Rossum åˆ›å»ºçš„"</span>,
    grading_notes=<span class="hljs-string">"- å¿…é¡»æåŠ Guido van Rossum\n- å¿…é¡»æåŠç¼–ç¨‹è¯­è¨€"</span>
)

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"è¯„åˆ†ç»“æœ: <span class="hljs-subst">{score.value}</span>"</span>)  <span class="hljs-comment"># è¾“å‡º: pass æˆ– fail</span>
</code></pre>
<h4 data-id="heading-31">5.2 è¿ç»­æŒ‡æ ‡ï¼ˆContinuousMetricï¼‰</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> ragas.metrics <span class="hljs-keyword">import</span> ContinuousMetric

<span class="hljs-comment"># åˆ›å»ºè‡ªå®šä¹‰ 0-1 è¯„åˆ†æŒ‡æ ‡</span>
completeness_metric = ContinuousMetric(
    name=<span class="hljs-string">"completeness"</span>,
    prompt=<span class="hljs-string">"""è¯„ä¼°å“åº”çš„å®Œæ•´æ€§ï¼ˆ0-1 åˆ†ï¼‰ã€‚

é—®é¢˜: {question}
å“åº”: {response}
å‚è€ƒç­”æ¡ˆ: {reference}

è¯„åˆ†æ ‡å‡†:
- 1.0: å®Œå…¨è¦†ç›–æ‰€æœ‰è¦ç‚¹
- 0.5: è¦†ç›–éƒ¨åˆ†è¦ç‚¹
- 0.0: æœªè¦†ç›–ä»»ä½•è¦ç‚¹

åªè¿”å›æ•°å­—åˆ†æ•°ã€‚"""</span>,
)

<span class="hljs-comment"># ä½¿ç”¨è‡ªå®šä¹‰æŒ‡æ ‡</span>
score = completeness_metric.score(
    llm=evaluator_llm,
    question=<span class="hljs-string">"ä»€ä¹ˆæ˜¯ Pythonï¼Ÿ"</span>,
    response=<span class="hljs-string">"Python æ˜¯ä¸€ç§ç¼–ç¨‹è¯­è¨€"</span>,
    reference=<span class="hljs-string">"Python æ˜¯ä¸€ç§é«˜çº§ç¼–ç¨‹è¯­è¨€ï¼Œç”± Guido van Rossum åˆ›å»º"</span>
)

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"å®Œæ•´æ€§å¾—åˆ†: <span class="hljs-subst">{score.value}</span>"</span>)
</code></pre>
<h4 data-id="heading-32">5.3 å¸¦æ¨ç†çš„æŒ‡æ ‡</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> ragas.metrics <span class="hljs-keyword">import</span> MetricWithLLM

<span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomMetric</span>(<span class="hljs-title class_ inherited__">MetricWithLLM</span>):
    <span class="hljs-string">"""è‡ªå®šä¹‰å¸¦æ¨ç†çš„è¯„ä¼°æŒ‡æ ‡"""</span>

    name = <span class="hljs-string">"custom_metric"</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_score</span>(<span class="hljs-params">self, row: <span class="hljs-built_in">dict</span>, llm</span>) -&gt; <span class="hljs-built_in">float</span>:
        <span class="hljs-string">"""è®¡ç®—åˆ†æ•°"""</span>
        prompt = <span class="hljs-string">f"""
        è¯„ä¼°ä»¥ä¸‹å“åº”çš„è´¨é‡ï¼š

        é—®é¢˜: <span class="hljs-subst">{row[<span class="hljs-string">'user_input'</span>]}</span>
        ä¸Šä¸‹æ–‡: <span class="hljs-subst">{row[<span class="hljs-string">'retrieved_contexts'</span>]}</span>
        å“åº”: <span class="hljs-subst">{row[<span class="hljs-string">'response'</span>]}</span>

        ç»™å‡º 0-1 çš„åˆ†æ•°ï¼Œå¹¶ç®€è¦è¯´æ˜ç†ç”±ã€‚
        """</span>

        response = llm.generate(prompt)
        <span class="hljs-comment"># è§£æå“åº”æå–åˆ†æ•°</span>
        score = self._extract_score(response)
        <span class="hljs-keyword">return</span> score

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_extract_score</span>(<span class="hljs-params">self, response: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">float</span>:
        <span class="hljs-string">"""ä» LLM å“åº”ä¸­æå–åˆ†æ•°"""</span>
        <span class="hljs-keyword">import</span> re
        <span class="hljs-keyword">match</span> = re.search(<span class="hljs-string">r'(\d+\.?\d*)'</span>, response)
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">match</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">float</span>(<span class="hljs-keyword">match</span>.group(<span class="hljs-number">1</span>))
        <span class="hljs-keyword">return</span> <span class="hljs-number">0.0</span>
</code></pre>
<hr/>
<h3 data-id="heading-33">å…­ã€æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-34">6.1 è¯„ä¼°é©±åŠ¨å¼€å‘æµç¨‹</h4>
<pre><code class="hljs language-markdown" lang="markdown">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  è¯„ä¼°é©±åŠ¨å¼€å‘ï¼ˆEDDï¼‰æµç¨‹                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

<span class="hljs-bullet">    1.</span> å®šä¹‰è¯„ä¼°ç›®æ ‡
<span class="hljs-code">           â”‚
           â–¼
    2. å‡†å¤‡æµ‹è¯•æ•°æ®é›†
           â”‚
           â–¼
    3. å®ç°åŸºç¡€ RAG ç³»ç»Ÿ
           â”‚
           â–¼
    4. è¿è¡ŒåŸºå‡†è¯„ä¼°
           â”‚
           â–¼
    5. åˆ†æç“¶é¢ˆ
           â”‚
           â–¼
    6. ä¼˜åŒ–è¿­ä»£
           â”‚
           â–¼
    7. é‡æ–°è¯„ä¼° â†’ å¾ªç¯è‡³æ­¥éª¤ 5
</span></code></pre>
<h4 data-id="heading-35">6.2 æµ‹è¯•æ•°æ®é›†å‡†å¤‡</h4>
<h5 data-id="heading-36">æ•°æ®é›†è´¨é‡æ ‡å‡†</h5>

























<table><thead><tr><th>ç»´åº¦</th><th>æ ‡å‡†</th></tr></thead><tbody><tr><td><strong>è¦†ç›–åº¦</strong></td><td>è¦†ç›–ä¸åŒç±»å‹çš„é—®é¢˜ï¼ˆäº‹å®å‹ã€æ¨ç†å‹ã€å¼€æ”¾å‹ï¼‰</td></tr><tr><td><strong>éš¾åº¦æ¢¯åº¦</strong></td><td>åŒ…å«ç®€å•ã€ä¸­ç­‰ã€å›°éš¾æ ·æœ¬</td></tr><tr><td><strong>è¾¹ç•Œæƒ…å†µ</strong></td><td>åŒ…å«æ— ç­”æ¡ˆã€å¤šç­”æ¡ˆç­‰ç‰¹æ®Šæƒ…å†µ</td></tr><tr><td><strong>æ•°æ®é‡</strong></td><td>å»ºè®®è‡³å°‘ 50-100 ä¸ªæµ‹è¯•æ ·æœ¬</td></tr></tbody></table>
<h5 data-id="heading-37">æµ‹è¯•æ ·æœ¬åˆ†ç±»</h5>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åˆ†ç±»ç¤ºä¾‹</span>
test_samples = {
    <span class="hljs-string">"factual"</span>: [  <span class="hljs-comment"># äº‹å®å‹é—®é¢˜</span>
        <span class="hljs-string">"Python çš„åˆ›å»ºè€…æ˜¯è°ï¼Ÿ"</span>,
        <span class="hljs-string">"JavaScript ä»€ä¹ˆæ—¶å€™å‘å¸ƒï¼Ÿ"</span>
    ],
    <span class="hljs-string">"reasoning"</span>: [  <span class="hljs-comment"># æ¨ç†å‹é—®é¢˜</span>
        <span class="hljs-string">"ä¸ºä»€ä¹ˆ Rust è¢«è®¤ä¸ºæ›´å®‰å…¨ï¼Ÿ"</span>,
        <span class="hljs-string">"æ¯”è¾ƒ Python å’Œ Go çš„é€‚ç”¨åœºæ™¯"</span>
    ],
    <span class="hljs-string">"open_ended"</span>: [  <span class="hljs-comment"># å¼€æ”¾å‹é—®é¢˜</span>
        <span class="hljs-string">"é€‰æ‹©åˆé€‚çš„ç¼–ç¨‹è¯­è¨€éœ€è¦è€ƒè™‘å“ªäº›å› ç´ ï¼Ÿ"</span>,
        <span class="hljs-string">"è§£é‡Šé™æ€ç±»å‹å’ŒåŠ¨æ€ç±»å‹çš„åŒºåˆ«"</span>
    ],
    <span class="hljs-string">"edge_cases"</span>: [  <span class="hljs-comment"># è¾¹ç•Œæƒ…å†µ</span>
        <span class="hljs-string">"å¦‚ä½•ç”¨ Brainfuck ç¼–å†™ Web åº”ç”¨ï¼Ÿ"</span>,  <span class="hljs-comment"># çŸ¥è¯†åº“ä¸­æ— ç­”æ¡ˆ</span>
        <span class="hljs-string">"ä»€ä¹ˆæ˜¯è¿™é—¨è¯­è¨€ï¼Ÿ"</span>,  <span class="hljs-comment"># æ¨¡ç³ŠæŒ‡ä»£</span>
    ]
}
</code></pre>
<h4 data-id="heading-38">6.3 æ€§èƒ½ä¼˜åŒ–å»ºè®®</h4>
<h5 data-id="heading-39">1. æ‰¹é‡è¯„ä¼°</h5>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ä½¿ç”¨æ‰¹é‡ API æé«˜è¯„ä¼°é€Ÿåº¦</span>
<span class="hljs-keyword">from</span> ragas <span class="hljs-keyword">import</span> RunConfig

results = evaluate(
    dataset=dataset,
    metrics=metrics,
    llm=evaluator_llm,
    run_config=RunConfig(
        batch_size=<span class="hljs-number">10</span>,  <span class="hljs-comment"># æ‰¹é‡å¤§å°</span>
        timeout=<span class="hljs-number">30</span>,     <span class="hljs-comment"># è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰</span>
    )
)
</code></pre>
<h5 data-id="heading-40">2. å¹¶è¡Œè¯„ä¼°</h5>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> asyncio
<span class="hljs-keyword">from</span> concurrent.futures <span class="hljs-keyword">import</span> ThreadPoolExecutor

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">parallel_evaluation</span>(<span class="hljs-params">datasets, metrics</span>):
    <span class="hljs-string">"""å¹¶è¡Œè¯„ä¼°å¤šä¸ªæ•°æ®é›†"""</span>
    <span class="hljs-keyword">with</span> ThreadPoolExecutor(max_workers=<span class="hljs-number">4</span>) <span class="hljs-keyword">as</span> executor:
        futures = [
            executor.submit(evaluate, ds, metrics, evaluator_llm)
            <span class="hljs-keyword">for</span> ds <span class="hljs-keyword">in</span> datasets
        ]
        results = [f.result() <span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> futures]
    <span class="hljs-keyword">return</span> results
</code></pre>
<h5 data-id="heading-41">3. ç¼“å­˜æœºåˆ¶</h5>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> functools <span class="hljs-keyword">import</span> lru_cache

<span class="hljs-meta">@lru_cache(<span class="hljs-params">maxsize=<span class="hljs-number">1000</span></span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">cached_evaluate</span>(<span class="hljs-params">query: <span class="hljs-built_in">str</span>, context: <span class="hljs-built_in">str</span>, response: <span class="hljs-built_in">str</span></span>):
    <span class="hljs-string">"""å¸¦ç¼“å­˜çš„è¯„ä¼°å‡½æ•°"""</span>
    <span class="hljs-comment"># è¯„ä¼°é€»è¾‘</span>
    <span class="hljs-keyword">pass</span>
</code></pre>
<h4 data-id="heading-42">6.4 æœ¬åœ°æ¨¡å‹ä½¿ç”¨</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""
ä½¿ç”¨æœ¬åœ°æ¨¡å‹é™ä½æˆæœ¬
é€‚ç”¨äºï¼šæ•æ„Ÿæ•°æ®ã€æˆæœ¬æ§åˆ¶ã€ä½å»¶è¿Ÿåœºæ™¯
"""</span>

<span class="hljs-comment"># ä½¿ç”¨ Ollama æœ¬åœ°æ¨¡å‹</span>
<span class="hljs-keyword">from</span> langchain_community.llms <span class="hljs-keyword">import</span> Ollama

<span class="hljs-comment"># é…ç½®æœ¬åœ°è¯„ä¼°å™¨</span>
local_evaluator = Ollama(
    model=<span class="hljs-string">"llama3.2:latest"</span>,
    temperature=<span class="hljs-number">0</span>,
    num_ctx=<span class="hljs-number">4096</span>
)

<span class="hljs-comment"># ä½¿ç”¨æœ¬åœ°æ¨¡å‹è¿›è¡Œè¯„ä¼°</span>
results = evaluate(
    dataset=dataset,
    metrics=[ContextPrecision(), Faithfulness()],
    llm=LangchainLLMWrapper(local_evaluator)
)
</code></pre>
<hr/>
<h3 data-id="heading-43">ä¸ƒã€è¿›é˜¶åŠŸèƒ½</h3>
<h4 data-id="heading-44">7.1 ä¸ LangChain é›†æˆ</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_core.vectorstores <span class="hljs-keyword">import</span> VectorStore
<span class="hljs-keyword">from</span> langchain_core.retrievers <span class="hljs-keyword">import</span> BaseRetriever
<span class="hljs-keyword">from</span> ragas <span class="hljs-keyword">import</span> evaluate
<span class="hljs-keyword">from</span> ragas.integrations.langchain <span class="hljs-keyword">import</span> EvaluatorChain

<span class="hljs-comment"># åˆ›å»ºè¯„ä¼°é“¾</span>
evaluator_chain = EvaluatorChain(
    metrics=[ContextPrecision(), Faithfulness()],
    evaluator_llm=evaluator_llm
)

<span class="hljs-comment"># åœ¨ LangChain ç®¡é“ä¸­ä½¿ç”¨</span>
<span class="hljs-keyword">from</span> langchain_core.runnables <span class="hljs-keyword">import</span> RunnablePassthrough

rag_chain = (
    {
        <span class="hljs-string">"query"</span>: RunnablePassthrough(),
        <span class="hljs-string">"context"</span>: retriever | (<span class="hljs-keyword">lambda</span> docs: <span class="hljs-string">"\n"</span>.join([d.page_content <span class="hljs-keyword">for</span> d <span class="hljs-keyword">in</span> docs]))
    }
    | prompt
    | llm
    | evaluator_chain  <span class="hljs-comment"># æ·»åŠ è¯„ä¼°</span>
)
</code></pre>
<h4 data-id="heading-45">7.2 æŒç»­ç›‘æ§</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""
å°† Ragas é›†æˆåˆ° CI/CD æµç¨‹
"""</span>

<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime

<span class="hljs-keyword">class</span> <span class="hljs-title class_">CICDEvaluator</span>:
    <span class="hljs-string">"""CI/CD è¯„ä¼°å™¨"""</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, baseline_file: <span class="hljs-built_in">str</span> = <span class="hljs-string">"baseline.json"</span></span>):
        self.baseline_file = baseline_file
        self.baseline = self._load_baseline()

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_load_baseline</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">dict</span>:
        <span class="hljs-string">"""åŠ è½½åŸºå‡†åˆ†æ•°"""</span>
        <span class="hljs-keyword">try</span>:
            <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(self.baseline_file) <span class="hljs-keyword">as</span> f:
                <span class="hljs-keyword">return</span> json.load(f)
        <span class="hljs-keyword">except</span> FileNotFoundError:
            <span class="hljs-keyword">return</span> {}

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">save_baseline</span>(<span class="hljs-params">self, scores: <span class="hljs-built_in">dict</span></span>) -&gt; <span class="hljs-literal">None</span>:
        <span class="hljs-string">"""ä¿å­˜åŸºå‡†åˆ†æ•°"""</span>
        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(self.baseline_file, <span class="hljs-string">'w'</span>) <span class="hljs-keyword">as</span> f:
            json.dump(scores, f, indent=<span class="hljs-number">2</span>)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">check_regression</span>(<span class="hljs-params">self, current_scores: <span class="hljs-built_in">dict</span>,
                        threshold: <span class="hljs-built_in">float</span> = <span class="hljs-number">0.05</span></span>) -&gt; <span class="hljs-built_in">dict</span>:
        <span class="hljs-string">"""æ£€æŸ¥æ€§èƒ½å›å½’"""</span>
        regressions = {}

        <span class="hljs-keyword">for</span> metric, current_score <span class="hljs-keyword">in</span> current_scores.items():
            <span class="hljs-keyword">if</span> metric <span class="hljs-keyword">in</span> self.baseline:
                baseline_score = self.baseline[metric]
                <span class="hljs-keyword">if</span> current_score &lt; baseline_score - threshold:
                    regressions[metric] = {
                        <span class="hljs-string">"baseline"</span>: baseline_score,
                        <span class="hljs-string">"current"</span>: current_score,
                        <span class="hljs-string">"diff"</span>: current_score - baseline_score
                    }

        <span class="hljs-keyword">return</span> regressions

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">run_ci_check</span>(<span class="hljs-params">self, dataset: EvaluationDataset</span>) -&gt; <span class="hljs-built_in">bool</span>:
        <span class="hljs-string">"""è¿è¡Œ CI æ£€æŸ¥"""</span>
        <span class="hljs-comment"># æ‰§è¡Œè¯„ä¼°</span>
        results = evaluate(dataset=dataset, metrics=metrics)

        <span class="hljs-comment"># æ£€æŸ¥å›å½’</span>
        regressions = self.check_regression(results)

        <span class="hljs-keyword">if</span> regressions:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"âŒ å‘ç°æ€§èƒ½å›å½’:"</span>)
            <span class="hljs-keyword">for</span> metric, info <span class="hljs-keyword">in</span> regressions.items():
                <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  <span class="hljs-subst">{metric}</span>: <span class="hljs-subst">{info[<span class="hljs-string">'baseline'</span>]:<span class="hljs-number">.3</span>f}</span> â†’ <span class="hljs-subst">{info[<span class="hljs-string">'current'</span>]:<span class="hljs-number">.3</span>f}</span>"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
        <span class="hljs-keyword">else</span>:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… æ‰€æœ‰æŒ‡æ ‡æ­£å¸¸"</span>)
            self.save_baseline(results)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>


<span class="hljs-comment"># åœ¨ CI è„šæœ¬ä¸­ä½¿ç”¨</span>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    evaluator = CICDEvaluator()
    passed = evaluator.run_ci_check(evaluation_dataset)

    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> passed:
        exit(<span class="hljs-number">1</span>)  <span class="hljs-comment"># CI å¤±è´¥</span>
</code></pre>
<h4 data-id="heading-46">7.3 å¤šæ¨¡å‹å¯¹æ¯”</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""
å¯¹æ¯”ä¸åŒæ¨¡å‹çš„æ€§èƒ½
"""</span>

<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt

<span class="hljs-keyword">def</span> <span class="hljs-title function_">compare_models</span>(<span class="hljs-params">dataset: EvaluationDataset,
                  model_configs: <span class="hljs-built_in">list</span>[<span class="hljs-built_in">dict</span>]</span>) -&gt; pd.DataFrame:
    <span class="hljs-string">"""
    å¯¹æ¯”å¤šä¸ªæ¨¡å‹

    Args:
        dataset: æµ‹è¯•æ•°æ®é›†
        model_configs: æ¨¡å‹é…ç½®åˆ—è¡¨
            [{"name": "gpt-4", "model": "gpt-4"},
             {"name": "gpt-3.5", "model": "gpt-3.5-turbo"}]
    """</span>
    results = []

    <span class="hljs-keyword">for</span> config <span class="hljs-keyword">in</span> model_configs:
        <span class="hljs-comment"># ä½¿ç”¨è¯¥æ¨¡å‹æ„å»º RAG</span>
        rag = SimpleRAG(model=config[<span class="hljs-string">"model"</span>])

        <span class="hljs-comment"># è¯„ä¼°</span>
        scores = evaluate(
            dataset=dataset,
            metrics=metrics,
            llm=LangchainLLMWrapper(ChatOpenAI(model=config[<span class="hljs-string">"model"</span>]))
        )

        <span class="hljs-comment"># è®°å½•ç»“æœ</span>
        scores[<span class="hljs-string">"model"</span>] = config[<span class="hljs-string">"name"</span>]
        results.append(scores)

    <span class="hljs-keyword">return</span> pd.DataFrame(results)


<span class="hljs-comment"># ä½¿ç”¨ç¤ºä¾‹</span>
model_configs = [
    {<span class="hljs-string">"name"</span>: <span class="hljs-string">"GPT-4"</span>, <span class="hljs-string">"model"</span>: <span class="hljs-string">"gpt-4"</span>},
    {<span class="hljs-string">"name"</span>: <span class="hljs-string">"GPT-3.5"</span>, <span class="hljs-string">"model"</span>: <span class="hljs-string">"gpt-3.5-turbo"</span>},
    {<span class="hljs-string">"name"</span>: <span class="hljs-string">"Claude-3"</span>, <span class="hljs-string">"model"</span>: <span class="hljs-string">"claude-3-opus-20240229"</span>}
]

comparison_df = compare_models(evaluation_dataset, model_configs)

<span class="hljs-comment"># å¯è§†åŒ–</span>
comparison_df.plot(x=<span class="hljs-string">"model"</span>, kind=<span class="hljs-string">"bar"</span>)
plt.title(<span class="hljs-string">"æ¨¡å‹æ€§èƒ½å¯¹æ¯”"</span>)
plt.ylabel(<span class="hljs-string">"åˆ†æ•°"</span>)
plt.legend(bbox_to_anchor=(<span class="hljs-number">1.05</span>, <span class="hljs-number">1</span>), loc=<span class="hljs-string">'upper left'</span>)
plt.tight_layout()
plt.savefig(<span class="hljs-string">"model_comparison.png"</span>)
</code></pre>
<h4 data-id="heading-47">7.4 A/B æµ‹è¯•</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""
å¯¹æ–°ç‰ˆæœ¬è¿›è¡Œ A/B æµ‹è¯•
"""</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ABTest</span>:
    <span class="hljs-string">"""A/B æµ‹è¯•æ¡†æ¶"""</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, control_rag, treatment_rag, dataset</span>):
        self.control = control_rag
        self.treatment = treatment_rag
        self.dataset = dataset

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">run</span>(<span class="hljs-params">self, sample_size: <span class="hljs-built_in">int</span> = <span class="hljs-number">100</span></span>) -&gt; <span class="hljs-built_in">dict</span>:
        <span class="hljs-string">"""è¿è¡Œ A/B æµ‹è¯•"""</span>
        <span class="hljs-comment"># éšæœºé‡‡æ ·</span>
        samples = self.dataset.sample(<span class="hljs-built_in">min</span>(sample_size, <span class="hljs-built_in">len</span>(self.dataset)))

        <span class="hljs-comment"># è¯„ä¼°å¯¹ç…§ç»„</span>
        control_results = self._evaluate_system(self.control, samples)

        <span class="hljs-comment"># è¯„ä¼°å®éªŒç»„</span>
        treatment_results = self._evaluate_system(self.treatment, samples)

        <span class="hljs-comment"># ç»Ÿè®¡æ˜¾è‘—æ€§æµ‹è¯•</span>
        <span class="hljs-keyword">return</span> self._analyze_results(control_results, treatment_results)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_evaluate_system</span>(<span class="hljs-params">self, rag, samples</span>):
        <span class="hljs-string">"""è¯„ä¼°å•ä¸ªç³»ç»Ÿ"""</span>
        results = []
        <span class="hljs-keyword">for</span> _, row <span class="hljs-keyword">in</span> samples.iterrows():
            result = rag.query(row[<span class="hljs-string">"query"</span>])
            results.append(result)
        <span class="hljs-keyword">return</span> results

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_analyze_results</span>(<span class="hljs-params">self, control, treatment</span>):
        <span class="hljs-string">"""åˆ†æç»“æœ"""</span>
        <span class="hljs-keyword">from</span> scipy <span class="hljs-keyword">import</span> stats

        analysis = {}
        <span class="hljs-keyword">for</span> metric <span class="hljs-keyword">in</span> control.keys():
            <span class="hljs-comment"># t æ£€éªŒ</span>
            t_stat, p_value = stats.ttest_ind(
                control[metric],
                treatment[metric]
            )
            analysis[metric] = {
                <span class="hljs-string">"control_mean"</span>: np.mean(control[metric]),
                <span class="hljs-string">"treatment_mean"</span>: np.mean(treatment[metric]),
                <span class="hljs-string">"p_value"</span>: p_value,
                <span class="hljs-string">"significant"</span>: p_value &lt; <span class="hljs-number">0.05</span>
            }

        <span class="hljs-keyword">return</span> analysis
</code></pre>
<hr/>
<h3 data-id="heading-48">å…«ã€å¸¸è§é—®é¢˜</h3>
<h4 data-id="heading-49">8.1 å®‰è£…é—®é¢˜</h4>
<p><strong>Q: pip install å¤±è´¥æ€ä¹ˆåŠï¼Ÿ</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å°è¯•å‡çº§ pip</span>
python -m pip install --upgrade pip

<span class="hljs-comment"># ä½¿ç”¨å›½å†…é•œåƒ</span>
pip install ragas -i https://pypi.tuna.tsinghua.edu.cn/simple

<span class="hljs-comment"># ä½¿ç”¨ conda</span>
conda install -c conda-forge ragas
</code></pre>
<p><strong>Q: å¯¼å…¥é”™è¯¯ï¼Ÿ</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ£€æŸ¥ç‰ˆæœ¬å…¼å®¹æ€§</span>
<span class="hljs-keyword">import</span> ragas
<span class="hljs-built_in">print</span>(ragas.__version__)

<span class="hljs-comment"># é‡æ–°å®‰è£…</span>
pip uninstall ragas
pip install ragas --no-cache-<span class="hljs-built_in">dir</span>
</code></pre>
<h4 data-id="heading-50">8.2 è¯„ä¼°é—®é¢˜</h4>
<p><strong>Q: è¯„ä¼°åˆ†æ•°å¼‚å¸¸ï¼ˆå…¨æ˜¯ 0 æˆ– 1ï¼‰ï¼Ÿ</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ£€æŸ¥ 1: éªŒè¯æ•°æ®æ ¼å¼</span>
<span class="hljs-built_in">print</span>(evaluation_dataset[<span class="hljs-number">0</span>])

<span class="hljs-comment"># æ£€æŸ¥ 2: æŸ¥çœ‹ LLM å“åº”</span>
<span class="hljs-comment"># è®¾ç½®æ›´è¯¦ç»†çš„æ—¥å¿—</span>
<span class="hljs-keyword">import</span> logging
logging.basicConfig(level=logging.DEBUG)

<span class="hljs-comment"># æ£€æŸ¥ 3: è°ƒæ•´ temperature</span>
evaluator_llm = ChatOpenAI(
    model=<span class="hljs-string">"gpt-4"</span>,
    temperature=<span class="hljs-number">0</span>  <span class="hljs-comment"># ç¡®ä¿ä¸º 0</span>
)
</code></pre>
<p><strong>Q: è¯„ä¼°é€Ÿåº¦å¤ªæ…¢ï¼Ÿ</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ–¹æ¡ˆ 1: ä½¿ç”¨æ‰¹é‡å¤„ç†</span>
<span class="hljs-keyword">from</span> ragas <span class="hljs-keyword">import</span> RunConfig
results = evaluate(
    dataset=dataset,
    metrics=metrics,
    run_config=RunConfig(batch_size=<span class="hljs-number">20</span>)
)

<span class="hljs-comment"># æ–¹æ¡ˆ 2: ä½¿ç”¨æ›´å¿«çš„æ¨¡å‹</span>
evaluator_llm = ChatOpenAI(model=<span class="hljs-string">"gpt-3.5-turbo"</span>)

<span class="hljs-comment"># æ–¹æ¡ˆ 3: å¹¶è¡Œè¯„ä¼°</span>
<span class="hljs-comment"># ï¼ˆå‚è€ƒ 6.3 èŠ‚ä»£ç ï¼‰</span>
</code></pre>
<p><strong>Q: å†…å­˜ä¸è¶³ï¼Ÿ</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åˆ†æ‰¹è¯„ä¼°</span>
batch_size = <span class="hljs-number">50</span>
all_results = []

<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(dataset), batch_size):
    batch = dataset[i:i+batch_size]
    results = evaluate(batch, metrics, evaluator_llm)
    all_results.append(results)

<span class="hljs-comment"># åˆå¹¶ç»“æœ</span>
final_results = merge_results(all_results)
</code></pre>
<h4 data-id="heading-51">8.3 API é—®é¢˜</h4>
<p><strong>Q: OpenAI API é™æµï¼Ÿ</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> time
<span class="hljs-keyword">from</span> tenacity <span class="hljs-keyword">import</span> retry, stop_after_attempt, wait_exponential

<span class="hljs-meta">@retry(<span class="hljs-params">stop=stop_after_attempt(<span class="hljs-params"><span class="hljs-number">3</span></span>),
       wait=wait_exponential(<span class="hljs-params">multiplier=<span class="hljs-number">1</span>, <span class="hljs-built_in">min</span>=<span class="hljs-number">4</span>, <span class="hljs-built_in">max</span>=<span class="hljs-number">10</span></span>)</span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">evaluate_with_retry</span>(<span class="hljs-params">dataset, metrics, llm</span>):
    <span class="hljs-keyword">return</span> evaluate(dataset=dataset, metrics=metrics, llm=llm)
</code></pre>
<p><strong>Q: å¦‚ä½•ä½¿ç”¨å…¶ä»– LLMï¼Ÿ</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ä½¿ç”¨ Anthropic Claude</span>
<span class="hljs-keyword">from</span> langchain_anthropic <span class="hljs-keyword">import</span> ChatAnthropic

llm = ChatAnthropic(
    model=<span class="hljs-string">"claude-3-opus-20240229"</span>,
    api_key=<span class="hljs-string">"your-api-key"</span>
)

<span class="hljs-comment"># ä½¿ç”¨æœ¬åœ°æ¨¡å‹ (Ollama)</span>
<span class="hljs-keyword">from</span> langchain_community.llms <span class="hljs-keyword">import</span> Ollama
llm = Ollama(model=<span class="hljs-string">"llama3.2"</span>)
</code></pre>
<hr/>
<h3 data-id="heading-52">ä¹ã€ç›¸å…³èµ„æº</h3>
<h4 data-id="heading-53">9.1 å®˜æ–¹èµ„æº</h4>

























<table><thead><tr><th>èµ„æº</th><th>é“¾æ¥</th></tr></thead><tbody><tr><td><strong>GitHub ä»“åº“</strong></td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fexplodinggradients%2Fragas" target="_blank" title="https://github.com/explodinggradients/ragas" ref="nofollow noopener noreferrer">github.com/explodinggrâ€¦</a></td></tr><tr><td><strong>å®˜æ–¹æ–‡æ¡£</strong></td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.ragas.io" target="_blank" title="https://docs.ragas.io" ref="nofollow noopener noreferrer">docs.ragas.io</a></td></tr><tr><td><strong>å¿«é€Ÿå…¥é—¨</strong></td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.ragas.io%2Fen%2Fstable%2Fgetstarted%2F" target="_blank" title="https://docs.ragas.io/en/stable/getstarted/" ref="nofollow noopener noreferrer">docs.ragas.io/en/stable/gâ€¦</a></td></tr><tr><td><strong>API å‚è€ƒ</strong></td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.ragas.io%2Fen%2Fstable%2Freference%2F" target="_blank" title="https://docs.ragas.io/en/stable/reference/" ref="nofollow noopener noreferrer">docs.ragas.io/en/stable/râ€¦</a></td></tr></tbody></table>
<h4 data-id="heading-54">9.2 ä¸­æ–‡æ•™ç¨‹</h4>

























<table><thead><tr><th>æ ‡é¢˜</th><th>é“¾æ¥</th></tr></thead><tbody><tr><td>RAGç³»ç»Ÿæ•ˆæœéš¾è¯„ï¼Ÿ2025å¹´å¿…å¤‡çš„RAGè¯„ä¼°æ¡†æ¶ä¸å·¥å…·è¯¦è§£</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1892529470419736435" target="_blank" title="https://zhuanlan.zhihu.com/p/1892529470419736435" ref="nofollow noopener noreferrer">zhuanlan.zhihu.com/p/189252947â€¦</a></td></tr><tr><td>RAGè¯„æµ‹ç»ˆææŒ‡å—ï¼Ragas+RAGFlowå®æˆ˜</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fm0_59235945%2Farticle%2Fdetails%2F153839845" target="_blank" title="https://blog.csdn.net/m0_59235945/article/details/153839845" ref="nofollow noopener noreferrer">blog.csdn.net/m0_59235945â€¦</a></td></tr><tr><td>æ·±åº¦æµ‹è¯„RAGåº”ç”¨è¯„ä¼°æ¡†æ¶ï¼šæŒ‡æ ‡æœ€å…¨é¢çš„Ragas</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fcloud.tencent.com%2Fdeveloper%2Farticle%2F2505892" target="_blank" title="https://cloud.tencent.com/developer/article/2505892" ref="nofollow noopener noreferrer">cloud.tencent.com/developer/aâ€¦</a></td></tr><tr><td>ä½¿ç”¨æœ¬åœ°ç§æœ‰å¤§æ¨¡å‹è¿›è¡ŒRAGASè¯„ä¼°</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fqq_46024883%2Farticle%2Fdetails%2F146588586" target="_blank" title="https://blog.csdn.net/qq_46024883/article/details/146588586" ref="nofollow noopener noreferrer">blog.csdn.net/qq_46024883â€¦</a></td></tr></tbody></table>
<h4 data-id="heading-55">9.3 è§†é¢‘æ•™ç¨‹</h4>




















<table><thead><tr><th>å¹³å°</th><th>æ ‡é¢˜</th><th>é“¾æ¥</th></tr></thead><tbody><tr><td>Bç«™</td><td>2025å¹´æœ€å…¨æœ€ç»†çš„å¤§æ¨¡å‹RAGæ•™ç¨‹</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1D37GzLEe5%2F" target="_blank" title="https://www.bilibili.com/video/BV1D37GzLEe5/" ref="nofollow noopener noreferrer">www.bilibili.com/video/BV1D3â€¦</a></td></tr><tr><td>YouTube</td><td>How to Evaluate a RAG Application</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3D5fp6e5nhJRk" target="_blank" title="https://www.youtube.com/watch?v=5fp6e5nhJRk" ref="nofollow noopener noreferrer">www.youtube.com/watch?v=5fpâ€¦</a></td></tr></tbody></table>
<h4 data-id="heading-56">9.4 ç¤¾åŒºä¸æ”¯æŒ</h4>





















<table><thead><tr><th>èµ„æº</th><th>é“¾æ¥</th></tr></thead><tbody><tr><td>Discord ç¤¾åŒº</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fdiscord.gg%2Fragas" target="_blank" title="https://discord.gg/ragas" ref="nofollow noopener noreferrer">discord.gg/ragas</a></td></tr><tr><td>Stack Overflow</td><td>[tag:ragas]</td></tr><tr><td>è®ºå›è®¨è®º</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fexplodinggradients%2Fragas%2Fdiscussions" target="_blank" title="https://github.com/explodinggradients/ragas/discussions" ref="nofollow noopener noreferrer">github.com/explodinggrâ€¦</a></td></tr></tbody></table>
<hr/>
<h3 data-id="heading-57">é™„å½•</h3>
<h4 data-id="heading-58">A. å¿«é€Ÿå‚è€ƒ</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å¸¸ç”¨å¯¼å…¥</span>
<span class="hljs-keyword">from</span> ragas <span class="hljs-keyword">import</span> evaluate, EvaluationDataset
<span class="hljs-keyword">from</span> ragas.metrics <span class="hljs-keyword">import</span> (
    ContextPrecision,
    LLMContextRecall,
    Faithfulness,
    AnswerRelevancy,
    FactualCorrectness
)
<span class="hljs-keyword">from</span> ragas.llms <span class="hljs-keyword">import</span> LangchainLLMWrapper
<span class="hljs-keyword">from</span> langchain_openai <span class="hljs-keyword">import</span> ChatOpenAI

<span class="hljs-comment"># æ ‡å‡†è¯„ä¼°æµç¨‹</span>
evaluator_llm = LangchainLLMWrapper(ChatOpenAI(model=<span class="hljs-string">"gpt-4o"</span>))
results = evaluate(
    dataset=evaluation_dataset,
    metrics=[
        ContextPrecision(),
        LLMContextRecall(),
        Faithfulness()
    ],
    llm=evaluator_llm
)
</code></pre>
<h4 data-id="heading-59">B. è¯„ä¼°æŒ‡æ ‡é€ŸæŸ¥è¡¨</h4>









































<table><thead><tr><th>æŒ‡æ ‡</th><th>ç±»å‹</th><th>èŒƒå›´</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>Context Precision</td><td>æ£€ç´¢</td><td>0-1</td><td>æ£€ç´¢è´¨é‡è¯„ä¼°</td></tr><tr><td>Context Recall</td><td>æ£€ç´¢</td><td>0-1</td><td>æ£€ç´¢å®Œæ•´æ€§</td></tr><tr><td>Faithfulness</td><td>ç”Ÿæˆ</td><td>0-1</td><td>å¹»è§‰æ£€æµ‹</td></tr><tr><td>Answer Relevancy</td><td>ç”Ÿæˆ</td><td>0-1</td><td>ç­”æ¡ˆè´¨é‡</td></tr><tr><td>Factual Correctness</td><td>ç”Ÿæˆ</td><td>0-1</td><td>äº‹å®å‡†ç¡®æ€§</td></tr></tbody></table>
<h4 data-id="heading-60">C. é…ç½®æ¨¡æ¿</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># ragas_config.yaml</span>
<span class="hljs-attr">evaluation:</span>
  <span class="hljs-comment"># è¯„ä¼°å™¨é…ç½®</span>
  <span class="hljs-attr">evaluator:</span>
    <span class="hljs-attr">model:</span> <span class="hljs-string">"gpt-4o"</span>
    <span class="hljs-attr">temperature:</span> <span class="hljs-number">0</span>
    <span class="hljs-attr">max_tokens:</span> <span class="hljs-number">1024</span>

  <span class="hljs-comment"># æŒ‡æ ‡é…ç½®</span>
  <span class="hljs-attr">metrics:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">context_precision</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">context_recall</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">faithfulness</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">answer_relevancy</span>

  <span class="hljs-comment"># è¿è¡Œé…ç½®</span>
  <span class="hljs-attr">run_config:</span>
    <span class="hljs-attr">batch_size:</span> <span class="hljs-number">10</span>
    <span class="hljs-attr">timeout:</span> <span class="hljs-number">30</span>
    <span class="hljs-attr">max_retries:</span> <span class="hljs-number">3</span>

  <span class="hljs-comment"># è¾“å‡ºé…ç½®</span>
  <span class="hljs-attr">output:</span>
    <span class="hljs-attr">format:</span> <span class="hljs-string">"csv"</span>
    <span class="hljs-attr">path:</span> <span class="hljs-string">"./results"</span>
    <span class="hljs-attr">save_detailed:</span> <span class="hljs-literal">true</span>
</code></pre>
<hr/>
<p><strong>æ–‡æ¡£ç»“æŸ</strong></p>
<p>å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åé¦ˆï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[èŠèŠGCD]]></title>    <link>https://juejin.cn/post/7595043440519593990</link>    <guid>https://juejin.cn/post/7595043440519593990</guid>    <pubDate>2026-01-14T10:38:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595043440519593990" data-draft-id="7594863660297879594" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="èŠèŠGCD"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-14T10:38:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="dongczlu"/> <meta itemprop="url" content="https://juejin.cn/user/3940246036430125"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            èŠèŠGCD
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3940246036430125/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    dongczlu
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-14T10:38:17.000Z" title="Wed Jan 14 2026 10:38:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»19åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">GCD è¯¦è§£ - ä»å…¥é—¨åˆ°ç²¾é€š</h2>
<h3 data-id="heading-1">ğŸ“Œ å¿«é€Ÿå‚è€ƒå¡ç‰‡</h3>
<pre><code class="hljs language-csharp" lang="csharp">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GCD æ ¸å¿ƒæ¦‚å¿µ                                    â”‚
â”‚  â”œâ”€ é˜Ÿåˆ—ï¼ˆQueueï¼‰ï¼šä»»åŠ¡å®¹å™¨                       â”‚
â”‚  â”‚   â”œâ”€ ä¸²è¡Œé˜Ÿåˆ—ï¼šä¸€æ¬¡ä¸€ä¸ªä»»åŠ¡                   â”‚
â”‚  â”‚   â””â”€ å¹¶è¡Œé˜Ÿåˆ—ï¼šåŒæ—¶å¤šä¸ªä»»åŠ¡                   â”‚
â”‚  â”œâ”€ æ‰§è¡Œæ–¹å¼ï¼šå¦‚ä½•æäº¤ä»»åŠ¡                       â”‚
â”‚  â”‚   â”œâ”€ syncï¼šåŒæ­¥ï¼Œé˜»å¡ç­‰å¾…                     â”‚
â”‚  â”‚   â””â”€ <span class="hljs-keyword">async</span>ï¼šå¼‚æ­¥ï¼Œç«‹å³è¿”å›                    â”‚
â”‚  â””â”€ ç³»ç»Ÿé˜Ÿåˆ—ï¼šé¢„å®šä¹‰çš„é˜Ÿåˆ—                       â”‚
â”‚      â”œâ”€ mainï¼šä¸»é˜Ÿåˆ—ï¼ˆä¸²è¡Œï¼‰                     â”‚
â”‚      â””â”€ <span class="hljs-keyword">global</span>ï¼šå…¨å±€é˜Ÿåˆ—ï¼ˆå¹¶è¡Œï¼‰                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GCD é«˜çº§ç‰¹æ€§                                    â”‚
â”‚  â”œâ”€ DispatchGroupï¼šä»»åŠ¡ç»„ç®¡ç†                   â”‚
â”‚  â”œâ”€ DispatchSemaphoreï¼šä¿¡å·é‡æ§åˆ¶                â”‚
â”‚  â”œâ”€ DispatchBarrierï¼šæ …æ ä»»åŠ¡                   â”‚
â”‚  â”œâ”€ DispatchSourceï¼šäº‹ä»¶æº                      â”‚
â”‚  â””â”€ DispatchWorkItemï¼šä»»åŠ¡å°è£…                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr/>
<h3 data-id="heading-2">ä¸€ã€GCD å¸¸ç”¨æ–¹æ³•é€ŸæŸ¥è¡¨</h3>
<h4 data-id="heading-3">ğŸ“‹ æœ€å¸¸ç”¨çš„ GCD æ–¹æ³•</h4>
<h5 data-id="heading-4">1. é˜Ÿåˆ—åˆ›å»ºå’Œè·å–</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// åˆ›å»ºä¸²è¡Œé˜Ÿåˆ—</span>
<span class="hljs-keyword">let</span> serialQueue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>(label: <span class="hljs-string">"com.example.serial"</span>)

<span class="hljs-comment">// åˆ›å»ºå¹¶è¡Œé˜Ÿåˆ—</span>
<span class="hljs-keyword">let</span> concurrentQueue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>(
    label: <span class="hljs-string">"com.example.concurrent"</span>,
    attributes: .concurrent
)

<span class="hljs-comment">// è·å–ä¸»é˜Ÿåˆ—</span>
<span class="hljs-keyword">let</span> mainQueue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>.main

<span class="hljs-comment">// è·å–å…¨å±€é˜Ÿåˆ—</span>
<span class="hljs-keyword">let</span> globalQueue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>.global()
<span class="hljs-keyword">let</span> highPriorityQueue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>.global(qos: .userInteractive)
<span class="hljs-keyword">let</span> backgroundQueue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>.global(qos: .background)
</code></pre>
<h5 data-id="heading-5">2. ä»»åŠ¡æäº¤ï¼ˆæœ€å¸¸ç”¨ï¼‰</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// å¼‚æ­¥æ‰§è¡Œï¼ˆæ¨èï¼Œæœ€å¸¸ç”¨ï¼‰</span>
queue.async {
    <span class="hljs-comment">// ä»»åŠ¡ä»£ç </span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"å¼‚æ­¥æ‰§è¡Œ"</span>)
}

<span class="hljs-comment">// åŒæ­¥æ‰§è¡Œï¼ˆè°¨æ…ä½¿ç”¨ï¼‰</span>
queue.sync {
    <span class="hljs-comment">// ä»»åŠ¡ä»£ç </span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"åŒæ­¥æ‰§è¡Œ"</span>)
}

<span class="hljs-comment">// å¼‚æ­¥æ‰§è¡Œï¼ŒæŒ‡å®šé˜Ÿåˆ—</span>
<span class="hljs-type">DispatchQueue</span>.main.async {
    <span class="hljs-comment">// UI æ›´æ–°</span>
    <span class="hljs-keyword">self</span>.label.text <span class="hljs-operator">=</span> <span class="hljs-string">"æ›´æ–°"</span>
}

<span class="hljs-comment">// åå°æ‰§è¡Œ</span>
<span class="hljs-type">DispatchQueue</span>.global().async {
    <span class="hljs-comment">// è€—æ—¶æ“ä½œ</span>
    processData()
}
</code></pre>
<h5 data-id="heading-6">3. å»¶è¿Ÿæ‰§è¡Œ</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// å»¶è¿Ÿæ‰§è¡Œï¼ˆæœ€å¸¸ç”¨ï¼‰</span>
<span class="hljs-type">DispatchQueue</span>.main.asyncAfter(deadline: .now() <span class="hljs-operator">+</span> <span class="hljs-number">2.0</span>) {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"2ç§’åæ‰§è¡Œ"</span>)
}

<span class="hljs-comment">// å»¶è¿Ÿæ‰§è¡Œï¼ŒæŒ‡å®šæ—¶é—´</span>
<span class="hljs-keyword">let</span> delay <span class="hljs-operator">=</span> <span class="hljs-type">DispatchTime</span>.now() <span class="hljs-operator">+</span> <span class="hljs-type">DispatchTimeInterval</span>.seconds(<span class="hljs-number">3</span>)
<span class="hljs-type">DispatchQueue</span>.main.asyncAfter(deadline: delay) {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"3ç§’åæ‰§è¡Œ"</span>)
}

<span class="hljs-comment">// å»¶è¿Ÿæ‰§è¡Œï¼Œåå°é˜Ÿåˆ—</span>
<span class="hljs-type">DispatchQueue</span>.global().asyncAfter(deadline: .now() <span class="hljs-operator">+</span> <span class="hljs-number">1.0</span>) {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"1ç§’åæ‰§è¡Œ"</span>)
}
</code></pre>
<h5 data-id="heading-7">4. ä»»åŠ¡ç»„ï¼ˆDispatchGroupï¼‰</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// åˆ›å»ºä»»åŠ¡ç»„</span>
<span class="hljs-keyword">let</span> group <span class="hljs-operator">=</span> <span class="hljs-type">DispatchGroup</span>()

<span class="hljs-comment">// è¿›å…¥ç»„</span>
group.enter()

<span class="hljs-comment">// æ‰§è¡Œä»»åŠ¡</span>
queue.async {
    <span class="hljs-comment">// ä»»åŠ¡ä»£ç </span>
    group.leave()  <span class="hljs-comment">// ç¦»å¼€ç»„</span>
}

<span class="hljs-comment">// ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆ</span>
group.wait()  <span class="hljs-comment">// é˜»å¡ç­‰å¾…</span>

<span class="hljs-comment">// æ‰€æœ‰ä»»åŠ¡å®Œæˆåçš„å›è°ƒï¼ˆæœ€å¸¸ç”¨ï¼‰</span>
group.notify(queue: .main) {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ‰€æœ‰ä»»åŠ¡å®Œæˆ"</span>)
}
</code></pre>
<h5 data-id="heading-8">5. ä¿¡å·é‡ï¼ˆDispatchSemaphoreï¼‰</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// åˆ›å»ºä¿¡å·é‡ï¼ˆåˆå§‹å€¼ = æœ€å¤§å¹¶å‘æ•°ï¼‰</span>
<span class="hljs-keyword">let</span> semaphore <span class="hljs-operator">=</span> <span class="hljs-type">DispatchSemaphore</span>(value: <span class="hljs-number">3</span>)

<span class="hljs-comment">// ç­‰å¾…ä¿¡å·é‡</span>
semaphore.wait()

<span class="hljs-comment">// æ‰§è¡Œä»»åŠ¡</span>
queue.async {
    <span class="hljs-comment">// ä»»åŠ¡ä»£ç </span>
    semaphore.signal()  <span class="hljs-comment">// é‡Šæ”¾ä¿¡å·é‡</span>
}
</code></pre>
<h5 data-id="heading-9">6. æ …æ ä»»åŠ¡ï¼ˆDispatchBarrierï¼‰</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// æ …æ ä»»åŠ¡ï¼ˆåœ¨å¹¶è¡Œé˜Ÿåˆ—ä¸­ä½¿ç”¨ï¼‰</span>
concurrentQueue.async(flags: .barrier) {
    <span class="hljs-comment">// è¿™ä¸ªä»»åŠ¡ä¼šç­‰å¾…å‰é¢çš„ä»»åŠ¡å®Œæˆ</span>
    <span class="hljs-comment">// æ‰§è¡Œæ—¶é˜»å¡å…¶ä»–ä»»åŠ¡</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ …æ ä»»åŠ¡"</span>)
}
</code></pre>
<h5 data-id="heading-10">7. ä¸€æ¬¡æ€§æ‰§è¡Œï¼ˆDispatchOnceï¼‰</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// Swift ä¸­æ¨èä½¿ç”¨é™æ€å±æ€§å®ç°å•ä¾‹</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> {
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">let</span> shared <span class="hljs-operator">=</span> <span class="hljs-type">MyClass</span>()
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">init</span>() {}
}

<span class="hljs-comment">// Objective-C ä¸­ä½¿ç”¨ dispatch_once</span>
<span class="hljs-keyword">static</span> dispatch_once_t onceToken;
dispatch_once(<span class="hljs-operator">&amp;</span>onceToken, <span class="hljs-operator">^</span>{
    <span class="hljs-comment">// åªæ‰§è¡Œä¸€æ¬¡çš„ä»£ç </span>
});
</code></pre>
<h5 data-id="heading-11">8. ä»»åŠ¡å°è£…ï¼ˆDispatchWorkItemï¼‰</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// åˆ›å»ºä»»åŠ¡</span>
<span class="hljs-keyword">let</span> workItem <span class="hljs-operator">=</span> <span class="hljs-type">DispatchWorkItem</span> {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ‰§è¡Œä»»åŠ¡"</span>)
}

<span class="hljs-comment">// æ‰§è¡Œä»»åŠ¡</span>
queue.async(execute: workItem)

<span class="hljs-comment">// ç­‰å¾…ä»»åŠ¡å®Œæˆ</span>
workItem.wait()

<span class="hljs-comment">// å–æ¶ˆä»»åŠ¡</span>
workItem.cancel()

<span class="hljs-comment">// ä»»åŠ¡å®Œæˆé€šçŸ¥</span>
workItem.notify(queue: .main) {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä»»åŠ¡å®Œæˆ"</span>)
}
</code></pre>
<h5 data-id="heading-12">9. å®šæ—¶å™¨ï¼ˆDispatchSourceTimerï¼‰</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// åˆ›å»ºå®šæ—¶å™¨</span>
<span class="hljs-keyword">let</span> timer <span class="hljs-operator">=</span> <span class="hljs-type">DispatchSource</span>.makeTimerSource(queue: .global())

<span class="hljs-comment">// è®¾ç½®å®šæ—¶å™¨ï¼ˆç«‹å³å¼€å§‹ï¼Œæ¯ç§’é‡å¤ï¼‰</span>
timer.schedule(deadline: .now(), repeating: <span class="hljs-number">1.0</span>)

<span class="hljs-comment">// è®¾ç½®äº‹ä»¶å¤„ç†</span>
timer.setEventHandler {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"å®šæ—¶å™¨è§¦å‘"</span>)
}

<span class="hljs-comment">// å¯åŠ¨å®šæ—¶å™¨</span>
timer.resume()

<span class="hljs-comment">// å–æ¶ˆå®šæ—¶å™¨</span>
timer.cancel()
</code></pre>
<hr/>
<h4 data-id="heading-13">ğŸ¯ æœ€å¸¸ç”¨çš„ 10 ä¸ªæ–¹æ³•ï¼ˆæŒ‰ä½¿ç”¨é¢‘ç‡ï¼‰</h4>







































































<table><thead><tr><th>æ’å</th><th>æ–¹æ³•</th><th>ä½¿ç”¨åœºæ™¯</th><th>ä»£ç ç¤ºä¾‹</th></tr></thead><tbody><tr><td>1</td><td><code>DispatchQueue.main.async</code></td><td>UI æ›´æ–°</td><td><code>DispatchQueue.main.async { self.label.text = "æ›´æ–°" }</code></td></tr><tr><td>2</td><td><code>DispatchQueue.global().async</code></td><td>åå°ä»»åŠ¡</td><td><code>DispatchQueue.global().async { processData() }</code></td></tr><tr><td>3</td><td><code>DispatchQueue.main.asyncAfter</code></td><td>å»¶è¿Ÿæ‰§è¡Œ</td><td><code>DispatchQueue.main.asyncAfter(deadline: .now() + 2) { }</code></td></tr><tr><td>4</td><td><code>DispatchGroup.notify</code></td><td>ç­‰å¾…å¤šä¸ªä»»åŠ¡</td><td><code>group.notify(queue: .main) { }</code></td></tr><tr><td>5</td><td><code>DispatchQueue(label:)</code></td><td>åˆ›å»ºé˜Ÿåˆ—</td><td><code>let queue = DispatchQueue(label: "com.example")</code></td></tr><tr><td>6</td><td><code>DispatchSemaphore</code></td><td>æ§åˆ¶å¹¶å‘</td><td><code>let semaphore = DispatchSemaphore(value: 3)</code></td></tr><tr><td>7</td><td><code>DispatchGroup.enter/leave</code></td><td>ä»»åŠ¡ç»„ç®¡ç†</td><td><code>group.enter()</code> ... <code>group.leave()</code></td></tr><tr><td>8</td><td><code>queue.async(flags: .barrier)</code></td><td>è¯»å†™é”</td><td><code>queue.async(flags: .barrier) { }</code></td></tr><tr><td>9</td><td><code>DispatchWorkItem</code></td><td>ä»»åŠ¡å°è£…</td><td><code>let workItem = DispatchWorkItem { }</code></td></tr><tr><td>10</td><td><code>DispatchSource.makeTimerSource</code></td><td>å®šæ—¶å™¨</td><td><code>let timer = DispatchSource.makeTimerSource()</code></td></tr></tbody></table>
<hr/>
<h4 data-id="heading-14">ğŸ’¡ å¸¸ç”¨æ–¹æ³•ç»„åˆæ¨¡å¼</h4>
<h5 data-id="heading-15">æ¨¡å¼1ï¼šåå°å¤„ç† + ä¸»çº¿ç¨‹æ›´æ–°ï¼ˆæœ€å¸¸ç”¨ï¼‰</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-type">DispatchQueue</span>.global().async {
    <span class="hljs-comment">// åå°å¤„ç†</span>
    <span class="hljs-keyword">let</span> data <span class="hljs-operator">=</span> processData()
    
    <span class="hljs-type">DispatchQueue</span>.main.async {
        <span class="hljs-comment">// ä¸»çº¿ç¨‹æ›´æ–° UI</span>
        <span class="hljs-keyword">self</span>.updateUI(with: data)
    }
}
</code></pre>
<h5 data-id="heading-16">æ¨¡å¼2ï¼šå¤šä¸ªä»»åŠ¡å®Œæˆåæ›´æ–°</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> group <span class="hljs-operator">=</span> <span class="hljs-type">DispatchGroup</span>()

group.enter()
fetchData1 { group.leave() }

group.enter()
fetchData2 { group.leave() }

group.notify(queue: .main) {
    <span class="hljs-comment">// æ‰€æœ‰ä»»åŠ¡å®Œæˆï¼Œæ›´æ–° UI</span>
    <span class="hljs-keyword">self</span>.updateUI()
}
</code></pre>
<h5 data-id="heading-17">æ¨¡å¼3ï¼šæ§åˆ¶å¹¶å‘æ•°é‡</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> semaphore <span class="hljs-operator">=</span> <span class="hljs-type">DispatchSemaphore</span>(value: <span class="hljs-number">3</span>)

<span class="hljs-keyword">for</span> url <span class="hljs-keyword">in</span> urls {
    semaphore.wait()
    <span class="hljs-type">DispatchQueue</span>.global().async {
        download(url) {
            semaphore.signal()
        }
    }
}
</code></pre>
<h5 data-id="heading-18">æ¨¡å¼4ï¼šå»¶è¿Ÿæ‰§è¡Œ</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// å»¶è¿Ÿ 2 ç§’æ‰§è¡Œ</span>
<span class="hljs-type">DispatchQueue</span>.main.asyncAfter(deadline: .now() <span class="hljs-operator">+</span> <span class="hljs-number">2.0</span>) {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"2ç§’åæ‰§è¡Œ"</span>)
}
</code></pre>
<h5 data-id="heading-19">æ¨¡å¼5ï¼šè¯»å†™é”</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> queue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>(label: <span class="hljs-string">"cache"</span>, attributes: .concurrent)

<span class="hljs-comment">// è¯»æ“ä½œï¼šå¹¶å‘æ‰§è¡Œ</span>
<span class="hljs-keyword">func</span> <span class="hljs-title function_">read</span>() -&gt; <span class="hljs-type">Data</span>? {
    <span class="hljs-keyword">return</span> queue.sync { cache[key] }
}

<span class="hljs-comment">// å†™æ“ä½œï¼šæ …æ ä»»åŠ¡</span>
<span class="hljs-keyword">func</span> <span class="hljs-title function_">write</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">data</span>: <span class="hljs-type">Data</span>) {
    queue.async(flags: .barrier) {
        cache[key] <span class="hljs-operator">=</span> data
    }
}
</code></pre>
<hr/>
<h4 data-id="heading-20">ğŸ”§ å®ç”¨å·¥å…·æ–¹æ³•å°è£…</h4>
<h5 data-id="heading-21">1. å»¶è¿Ÿæ‰§è¡Œå·¥å…·æ–¹æ³•</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">extension</span> <span class="hljs-title class_">DispatchQueue</span> {
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">delay</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">seconds</span>: <span class="hljs-type">Double</span>, <span class="hljs-params">completion</span>: <span class="hljs-keyword">@escaping</span> () -&gt; <span class="hljs-type">Void</span>) {
        <span class="hljs-type">DispatchQueue</span>.main.asyncAfter(deadline: .now() <span class="hljs-operator">+</span> seconds) {
            completion()
        }
    }
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-type">DispatchQueue</span>.delay(<span class="hljs-number">2.0</span>) {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"2ç§’åæ‰§è¡Œ"</span>)
}
</code></pre>
<h5 data-id="heading-22">2. åå°æ‰§è¡Œ + ä¸»çº¿ç¨‹å›è°ƒ</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">extension</span> <span class="hljs-title class_">DispatchQueue</span> {
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">background</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">work</span>: <span class="hljs-keyword">@escaping</span> () -&gt; <span class="hljs-type">Void</span>, 
                          <span class="hljs-params">completion</span>: <span class="hljs-keyword">@escaping</span> () -&gt; <span class="hljs-type">Void</span>) {
        <span class="hljs-type">DispatchQueue</span>.global().async {
            work()
            <span class="hljs-type">DispatchQueue</span>.main.async {
                completion()
            }
        }
    }
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-type">DispatchQueue</span>.background({
    <span class="hljs-comment">// åå°å¤„ç†</span>
    processData()
}) {
    <span class="hljs-comment">// ä¸»çº¿ç¨‹å›è°ƒ</span>
    <span class="hljs-keyword">self</span>.updateUI()
}
</code></pre>
<h5 data-id="heading-23">3. å®‰å…¨çš„ä¸»çº¿ç¨‹æ‰§è¡Œ</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">extension</span> <span class="hljs-title class_">DispatchQueue</span> {
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">safeMain</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">work</span>: <span class="hljs-keyword">@escaping</span> () -&gt; <span class="hljs-type">Void</span>) {
        <span class="hljs-keyword">if</span> <span class="hljs-type">Thread</span>.isMainThread {
            work()
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-type">DispatchQueue</span>.main.async {
                work()
            }
        }
    }
}

<span class="hljs-comment">// ä½¿ç”¨ï¼šæ— è®ºå½“å‰åœ¨å“ªä¸ªçº¿ç¨‹ï¼Œéƒ½èƒ½å®‰å…¨åœ°åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œ</span>
<span class="hljs-type">DispatchQueue</span>.safeMain {
    <span class="hljs-keyword">self</span>.label.text <span class="hljs-operator">=</span> <span class="hljs-string">"æ›´æ–°"</span>
}
</code></pre>
<h5 data-id="heading-24">4. æ‰¹é‡ä»»åŠ¡æ‰§è¡Œ</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">extension</span> <span class="hljs-title class_">DispatchQueue</span> {
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">executeBatch</span>&lt;<span class="hljs-type">T</span>&gt;(
        <span class="hljs-params">items</span>: [<span class="hljs-type">T</span>],
        <span class="hljs-params">maxConcurrent</span>: <span class="hljs-type">Int</span> <span class="hljs-operator">=</span> <span class="hljs-number">3</span>,
        <span class="hljs-params">processor</span>: <span class="hljs-keyword">@escaping</span> (<span class="hljs-type">T</span>, <span class="hljs-keyword">@escaping</span> () -&gt; <span class="hljs-type">Void</span>) -&gt; <span class="hljs-type">Void</span>,
        <span class="hljs-params">completion</span>: <span class="hljs-keyword">@escaping</span> () -&gt; <span class="hljs-type">Void</span>
    ) {
        <span class="hljs-keyword">let</span> group <span class="hljs-operator">=</span> <span class="hljs-type">DispatchGroup</span>()
        <span class="hljs-keyword">let</span> semaphore <span class="hljs-operator">=</span> <span class="hljs-type">DispatchSemaphore</span>(value: maxConcurrent)
        
        <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> items {
            group.enter()
            semaphore.wait()
            
            <span class="hljs-type">DispatchQueue</span>.global().async {
                processor(item) {
                    semaphore.signal()
                    group.leave()
                }
            }
        }
        
        group.notify(queue: .main) {
            completion()
        }
    }
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-type">DispatchQueue</span>.executeBatch(
    items: imageURLs,
    maxConcurrent: <span class="hljs-number">3</span>,
    processor: { url, done <span class="hljs-keyword">in</span>
        downloadImage(url: url) {
            done()
        }
    },
    completion: {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ‰€æœ‰å›¾ç‰‡ä¸‹è½½å®Œæˆ"</span>)
    }
)
</code></pre>
<hr/>
<h4 data-id="heading-25">ğŸ“ å¸¸ç”¨æ–¹æ³•å‚æ•°è¯´æ˜</h4>
<h5 data-id="heading-26">DispatchQueue åˆå§‹åŒ–å‚æ•°</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-type">DispatchQueue</span>(
    label: <span class="hljs-type">String</span>,                    <span class="hljs-comment">// é˜Ÿåˆ—æ ‡è¯†ç¬¦ï¼ˆå¿…å¡«ï¼‰</span>
    qos: <span class="hljs-type">DispatchQoS</span> <span class="hljs-operator">=</span> .default,      <span class="hljs-comment">// æœåŠ¡è´¨é‡ä¼˜å…ˆçº§</span>
    attributes: <span class="hljs-type">DispatchQueue</span>.<span class="hljs-type">Attributes</span> <span class="hljs-operator">=</span> [],  <span class="hljs-comment">// é˜Ÿåˆ—å±æ€§</span>
    autoreleaseFrequency: <span class="hljs-type">DispatchQueue</span>.<span class="hljs-type">AutoreleaseFrequency</span> <span class="hljs-operator">=</span> .inherit,  <span class="hljs-comment">// è‡ªåŠ¨é‡Šæ”¾é¢‘ç‡</span>
    target: <span class="hljs-type">DispatchQueue</span>? <span class="hljs-operator">=</span> <span class="hljs-literal">nil</span>      <span class="hljs-comment">// ç›®æ ‡é˜Ÿåˆ—</span>
)

<span class="hljs-comment">// å¸¸ç”¨å±æ€§</span>
.attributes <span class="hljs-operator">=</span> []              <span class="hljs-comment">// ä¸²è¡Œé˜Ÿåˆ—ï¼ˆé»˜è®¤ï¼‰</span>
.attributes <span class="hljs-operator">=</span> .concurrent     <span class="hljs-comment">// å¹¶è¡Œé˜Ÿåˆ—</span>
</code></pre>
<h5 data-id="heading-27">QoS ä¼˜å…ˆçº§è¯´æ˜</h5>
<pre><code class="hljs language-swift" lang="swift">.userInteractive    <span class="hljs-comment">// ç”¨æˆ·äº¤äº’ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰</span>
.userInitiated      <span class="hljs-comment">// ç”¨æˆ·å‘èµ·</span>
.default            <span class="hljs-comment">// é»˜è®¤</span>
.utility            <span class="hljs-comment">// å®ç”¨å·¥å…·</span>
.background         <span class="hljs-comment">// åå°ï¼ˆæœ€ä½ä¼˜å…ˆçº§ï¼‰</span>
.unspecified        <span class="hljs-comment">// æœªæŒ‡å®š</span>
</code></pre>
<h5 data-id="heading-28">asyncAfter å‚æ•°è¯´æ˜</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">func</span> <span class="hljs-title function_">asyncAfter</span>(
    <span class="hljs-params">deadline</span>: <span class="hljs-type">DispatchTime</span>,           <span class="hljs-comment">// æ‰§è¡Œæ—¶é—´</span>
    <span class="hljs-params">qos</span>: <span class="hljs-type">DispatchQoS</span> <span class="hljs-operator">=</span> .unspecified, <span class="hljs-comment">// ä¼˜å…ˆçº§</span>
    <span class="hljs-params">flags</span>: <span class="hljs-type">DispatchWorkItemFlags</span> <span class="hljs-operator">=</span> [], <span class="hljs-comment">// æ ‡å¿—</span>
    <span class="hljs-params">execute</span> <span class="hljs-params">work</span>: <span class="hljs-keyword">@escaping</span> () -&gt; <span class="hljs-type">Void</span> <span class="hljs-comment">// ä»»åŠ¡</span>
)

<span class="hljs-comment">// å¸¸ç”¨æ—¶é—´è®¡ç®—</span>
.now() <span class="hljs-operator">+</span> <span class="hljs-number">2.0</span>                    <span class="hljs-comment">// 2ç§’å</span>
.now() <span class="hljs-operator">+</span> .seconds(<span class="hljs-number">3</span>)            <span class="hljs-comment">// 3ç§’å</span>
.now() <span class="hljs-operator">+</span> .milliseconds(<span class="hljs-number">500</span>)     <span class="hljs-comment">// 500æ¯«ç§’å</span>
.now() <span class="hljs-operator">+</span> .nanoseconds(<span class="hljs-number">1000000</span>)   <span class="hljs-comment">// 1æ¯«ç§’å</span>
</code></pre>
<hr/>
<h4 data-id="heading-29">âš ï¸ å¸¸è§é”™è¯¯å’Œæ³¨æ„äº‹é¡¹</h4>
<h5 data-id="heading-30">é”™è¯¯1ï¼šä¸»çº¿ç¨‹åŒæ­¥è°ƒç”¨</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šä¼šæ­»é”</span>
<span class="hljs-type">DispatchQueue</span>.main.sync {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"è¿™è¡Œä»£ç æ°¸è¿œä¸ä¼šæ‰§è¡Œ"</span>)
}

<span class="hljs-comment">// âœ… æ­£ç¡®</span>
<span class="hljs-type">DispatchQueue</span>.main.async {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"è¿™è¡Œä»£ç ä¼šæ‰§è¡Œ"</span>)
}
</code></pre>
<h5 data-id="heading-31">é”™è¯¯2ï¼šå¾ªç¯å¼•ç”¨</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šå¾ªç¯å¼•ç”¨</span>
<span class="hljs-type">DispatchQueue</span>.global().async {
    <span class="hljs-keyword">self</span>.processData()  <span class="hljs-comment">// æ•è·äº† self</span>
}

<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šä½¿ç”¨ weak self</span>
<span class="hljs-type">DispatchQueue</span>.global().async { [<span class="hljs-keyword">weak</span> <span class="hljs-keyword">self</span>] <span class="hljs-keyword">in</span>
    <span class="hljs-keyword">self</span><span class="hljs-operator">?</span>.processData()
}
</code></pre>
<h5 data-id="heading-32">é”™è¯¯3ï¼šå¿˜è®° leave</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šå¿˜è®° leaveï¼Œgroup.notify æ°¸è¿œä¸ä¼šæ‰§è¡Œ</span>
<span class="hljs-keyword">let</span> group <span class="hljs-operator">=</span> <span class="hljs-type">DispatchGroup</span>()
group.enter()
<span class="hljs-type">DispatchQueue</span>.global().async {
    <span class="hljs-comment">// å¿˜è®° group.leave()</span>
}

<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šç¡®ä¿ enter å’Œ leave é…å¯¹</span>
<span class="hljs-keyword">let</span> group <span class="hljs-operator">=</span> <span class="hljs-type">DispatchGroup</span>()
group.enter()
<span class="hljs-type">DispatchQueue</span>.global().async {
    processData()
    group.leave()  <span class="hljs-comment">// è®°å¾— leave</span>
}
</code></pre>
<h5 data-id="heading-33">é”™è¯¯4ï¼šä¿¡å·é‡å¿˜è®° signal</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šå¿˜è®° signalï¼Œå…¶ä»–ä»»åŠ¡æ— æ³•æ‰§è¡Œ</span>
<span class="hljs-keyword">let</span> semaphore <span class="hljs-operator">=</span> <span class="hljs-type">DispatchSemaphore</span>(value: <span class="hljs-number">1</span>)
semaphore.wait()
<span class="hljs-comment">// å¿˜è®° semaphore.signal()</span>

<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šä½¿ç”¨ defer ç¡®ä¿é‡Šæ”¾</span>
<span class="hljs-keyword">let</span> semaphore <span class="hljs-operator">=</span> <span class="hljs-type">DispatchSemaphore</span>(value: <span class="hljs-number">1</span>)
semaphore.wait()
<span class="hljs-keyword">defer</span> { semaphore.signal() }
<span class="hljs-comment">// ä»»åŠ¡ä»£ç </span>
</code></pre>
<hr/>
<h3 data-id="heading-34">äºŒã€GCD åŸºç¡€æ¦‚å¿µ</h3>
<h4 data-id="heading-35">1. ä»€ä¹ˆæ˜¯ GCDï¼Ÿ</h4>
<p><strong>GCDï¼ˆGrand Central Dispatchï¼‰</strong> æ˜¯ Apple æä¾›çš„å¤šçº¿ç¨‹ç¼–ç¨‹è§£å†³æ–¹æ¡ˆï¼ŒåŸºäº C è¯­è¨€å®ç°ã€‚</p>
<p><strong>æ ¸å¿ƒæ€æƒ³ï¼š</strong></p>
<ul>
<li>å°†ä»»åŠ¡æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­</li>
<li>ç³»ç»Ÿè‡ªåŠ¨ç®¡ç†çº¿ç¨‹çš„åˆ›å»ºå’Œè°ƒåº¦</li>
<li>å¼€å‘è€…ä¸éœ€è¦ç›´æ¥ç®¡ç†çº¿ç¨‹</li>
</ul>
<p><strong>ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>âœ… ç®€å•æ˜“ç”¨ï¼ŒAPI ç®€æ´</li>
<li>âœ… è‡ªåŠ¨ç®¡ç†çº¿ç¨‹ç”Ÿå‘½å‘¨æœŸ</li>
<li>âœ… æ€§èƒ½ä¼˜ç§€ï¼Œå……åˆ†åˆ©ç”¨å¤šæ ¸ CPU</li>
<li>âœ… çº¿ç¨‹å®‰å…¨ï¼Œå‡å°‘ç«æ€æ¡ä»¶</li>
</ul>
<hr/>
<h4 data-id="heading-36">2. æ ¸å¿ƒæ¦‚å¿µ</h4>
<h5 data-id="heading-37">é˜Ÿåˆ—ï¼ˆQueueï¼‰</h5>
<p>é˜Ÿåˆ—æ˜¯ä»»åŠ¡çš„å®¹å™¨ï¼ŒæŒ‰ç…§ FIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰çš„é¡ºåºç®¡ç†ä»»åŠ¡ã€‚</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// é˜Ÿåˆ—åªæ˜¯ä»»åŠ¡çš„å®¹å™¨ï¼Œä¸æ˜¯çº¿ç¨‹</span>
<span class="hljs-keyword">let</span> queue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>(label: <span class="hljs-string">"com.example.queue"</span>)
</code></pre>
<h5 data-id="heading-38">ä»»åŠ¡ï¼ˆTaskï¼‰</h5>
<p>éœ€è¦æ‰§è¡Œçš„ä»£ç å—ï¼Œé€šå¸¸æ˜¯é—­åŒ…ã€‚</p>
<pre><code class="hljs language-swift" lang="swift">queue.async {
    <span class="hljs-comment">// è¿™æ˜¯ä»»åŠ¡</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ‰§è¡Œä»»åŠ¡"</span>)
}
</code></pre>
<h5 data-id="heading-39">çº¿ç¨‹ï¼ˆThreadï¼‰</h5>
<p>å®é™…æ‰§è¡Œä»»åŠ¡çš„æ‰§è¡Œå•å…ƒï¼Œç”±ç³»ç»Ÿç®¡ç†ã€‚</p>
<pre><code class="hljs">é˜Ÿåˆ— â†’ ä»»åŠ¡ â†’ çº¿ç¨‹æ‰§è¡Œ
</code></pre>
<hr/>
<h3 data-id="heading-40">äºŒã€é˜Ÿåˆ—ç±»å‹è¯¦è§£</h3>
<h4 data-id="heading-41">1. ä¸²è¡Œé˜Ÿåˆ—ï¼ˆSerial Queueï¼‰</h4>
<h5 data-id="heading-42">å®šä¹‰</h5>
<p>ä¸²è¡Œé˜Ÿåˆ—ä¸€æ¬¡åªæ‰§è¡Œä¸€ä¸ªä»»åŠ¡ï¼Œä»»åŠ¡æŒ‰é¡ºåºæ‰§è¡Œã€‚</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// åˆ›å»ºä¸²è¡Œé˜Ÿåˆ—</span>
<span class="hljs-keyword">let</span> serialQueue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>(label: <span class="hljs-string">"com.example.serial"</span>)
</code></pre>
<h5 data-id="heading-43">ç‰¹ç‚¹</h5>
<ul>
<li>âœ… <strong>é¡ºåºæ‰§è¡Œ</strong>ï¼šä»»åŠ¡æŒ‰æ·»åŠ é¡ºåºä¾æ¬¡æ‰§è¡Œ</li>
<li>âœ… <strong>å•çº¿ç¨‹æ‰§è¡Œ</strong>ï¼šåŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªä»»åŠ¡åœ¨æ‰§è¡Œ</li>
<li>âœ… <strong>çº¿ç¨‹å®‰å…¨</strong>ï¼šå¤©ç„¶ä¿è¯ä»»åŠ¡æ‰§è¡Œçš„é¡ºåºæ€§</li>
</ul>
<h5 data-id="heading-44">ä»£ç ç¤ºä¾‹</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> serialQueue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>(label: <span class="hljs-string">"serial"</span>)

serialQueue.async {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä»»åŠ¡1å¼€å§‹"</span>)
    sleep(<span class="hljs-number">2</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä»»åŠ¡1ç»“æŸ"</span>)
}

serialQueue.async {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä»»åŠ¡2å¼€å§‹"</span>)
    sleep(<span class="hljs-number">1</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä»»åŠ¡2ç»“æŸ"</span>)
}

<span class="hljs-comment">// è¾“å‡ºé¡ºåºï¼ˆå›ºå®šï¼‰ï¼š</span>
<span class="hljs-comment">// ä»»åŠ¡1å¼€å§‹</span>
<span class="hljs-comment">// ä»»åŠ¡1ç»“æŸ</span>
<span class="hljs-comment">// ä»»åŠ¡2å¼€å§‹</span>
<span class="hljs-comment">// ä»»åŠ¡2ç»“æŸ</span>
</code></pre>
<h5 data-id="heading-45">åº”ç”¨åœºæ™¯</h5>
<ul>
<li>UI æ›´æ–°ï¼ˆä¸»é˜Ÿåˆ—ï¼‰</li>
<li>çº¿ç¨‹å®‰å…¨çš„æ•°æ®è®¿é—®</li>
<li>éœ€è¦ä¸¥æ ¼é¡ºåºæ‰§è¡Œçš„ä»»åŠ¡</li>
<li>æ—¥å¿—è®°å½•</li>
</ul>
<hr/>
<h4 data-id="heading-46">2. å¹¶è¡Œé˜Ÿåˆ—ï¼ˆConcurrent Queueï¼‰</h4>
<h5 data-id="heading-47">å®šä¹‰</h5>
<p>å¹¶è¡Œé˜Ÿåˆ—å¯ä»¥åŒæ—¶æ‰§è¡Œå¤šä¸ªä»»åŠ¡ï¼Œå……åˆ†åˆ©ç”¨å¤šæ ¸ CPUã€‚</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// åˆ›å»ºå¹¶è¡Œé˜Ÿåˆ—</span>
<span class="hljs-keyword">let</span> concurrentQueue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>(
    label: <span class="hljs-string">"com.example.concurrent"</span>,
    attributes: .concurrent
)
</code></pre>
<h5 data-id="heading-48">ç‰¹ç‚¹</h5>
<ul>
<li>âœ… <strong>å¹¶å‘æ‰§è¡Œ</strong>ï¼šå¤šä¸ªä»»åŠ¡å¯ä»¥åŒæ—¶åœ¨ä¸åŒçº¿ç¨‹ä¸Šæ‰§è¡Œ</li>
<li>âœ… <strong>æ€§èƒ½é«˜</strong>ï¼šå……åˆ†åˆ©ç”¨å¤šæ ¸ CPU</li>
<li>âš ï¸ <strong>å®Œæˆé¡ºåºä¸ç¡®å®š</strong>ï¼šä»»åŠ¡å¼€å§‹é¡ºåºç¡®å®šï¼Œä½†å®Œæˆé¡ºåºå¯èƒ½ä¸åŒ</li>
</ul>
<h5 data-id="heading-49">ä»£ç ç¤ºä¾‹</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> concurrentQueue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>(
    label: <span class="hljs-string">"concurrent"</span>,
    attributes: .concurrent
)

concurrentQueue.async {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä»»åŠ¡1å¼€å§‹"</span>)
    sleep(<span class="hljs-number">2</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä»»åŠ¡1ç»“æŸ"</span>)
}

concurrentQueue.async {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä»»åŠ¡2å¼€å§‹"</span>)
    sleep(<span class="hljs-number">1</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä»»åŠ¡2ç»“æŸ"</span>)
}

<span class="hljs-comment">// å¯èƒ½çš„è¾“å‡ºï¼ˆä¸ç¡®å®šï¼‰ï¼š</span>
<span class="hljs-comment">// ä»»åŠ¡1å¼€å§‹</span>
<span class="hljs-comment">// ä»»åŠ¡2å¼€å§‹</span>
<span class="hljs-comment">// ä»»åŠ¡2ç»“æŸ  (1ç§’å)</span>
<span class="hljs-comment">// ä»»åŠ¡1ç»“æŸ  (2ç§’å)</span>
</code></pre>
<h5 data-id="heading-50">åº”ç”¨åœºæ™¯</h5>
<ul>
<li>å¤šå›¾ç‰‡ä¸‹è½½</li>
<li>æ•°æ®å¤„ç†</li>
<li>ç½‘ç»œè¯·æ±‚å¹¶å‘</li>
<li>CPU å¯†é›†å‹ä»»åŠ¡</li>
</ul>
<hr/>
<h4 data-id="heading-51">3. ç³»ç»Ÿé˜Ÿåˆ—</h4>
<h5 data-id="heading-52">ä¸»é˜Ÿåˆ—ï¼ˆMain Queueï¼‰</h5>
<p>ä¸»é˜Ÿåˆ—æ˜¯ä¸²è¡Œé˜Ÿåˆ—ï¼Œæ‰€æœ‰ä»»åŠ¡åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œã€‚</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// è·å–ä¸»é˜Ÿåˆ—</span>
<span class="hljs-keyword">let</span> mainQueue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>.main

<span class="hljs-comment">// æ‰€æœ‰ UI æ“ä½œå¿…é¡»åœ¨ä¸»é˜Ÿåˆ—æ‰§è¡Œ</span>
<span class="hljs-type">DispatchQueue</span>.main.async {
    <span class="hljs-keyword">self</span>.imageView.image <span class="hljs-operator">=</span> image
    <span class="hljs-keyword">self</span>.tableView.reloadData()
}
</code></pre>
<p><strong>ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>ä¸²è¡Œé˜Ÿåˆ—</li>
<li>æ‰€æœ‰ä»»åŠ¡åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œ</li>
<li>ç”¨äº UI æ›´æ–°</li>
</ul>
<p><strong>âš ï¸ æ³¨æ„ï¼š</strong></p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// âŒ æ­»é”ï¼šåœ¨ä¸»çº¿ç¨‹åŒæ­¥è°ƒç”¨ä¸»é˜Ÿåˆ—</span>
<span class="hljs-type">DispatchQueue</span>.main.sync {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"è¿™è¡Œä»£ç æ°¸è¿œä¸ä¼šæ‰§è¡Œ"</span>)
}
</code></pre>
<h5 data-id="heading-53">å…¨å±€é˜Ÿåˆ—ï¼ˆGlobal Queueï¼‰</h5>
<p>å…¨å±€é˜Ÿåˆ—æ˜¯å¹¶è¡Œé˜Ÿåˆ—ï¼Œç³»ç»Ÿæä¾›çš„å…¨å±€å¹¶å‘é˜Ÿåˆ—ã€‚</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// è·å–å…¨å±€é˜Ÿåˆ—</span>
<span class="hljs-keyword">let</span> globalQueue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>.global()

<span class="hljs-comment">// æŒ‡å®šä¼˜å…ˆçº§</span>
<span class="hljs-keyword">let</span> highQueue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>.global(qos: .userInteractive)
<span class="hljs-keyword">let</span> defaultQueue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>.global(qos: .default)
<span class="hljs-keyword">let</span> backgroundQueue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>.global(qos: .background)
</code></pre>
<p><strong>ä¼˜å…ˆçº§ï¼ˆQoS - Quality of Serviceï¼‰ï¼š</strong></p>








































<table><thead><tr><th>QoS</th><th>è¯´æ˜</th><th>ä½¿ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>.userInteractive</code></td><td>ç”¨æˆ·äº¤äº’</td><td>åŠ¨ç”»ã€UI æ›´æ–°</td></tr><tr><td><code>.userInitiated</code></td><td>ç”¨æˆ·å‘èµ·</td><td>ç”¨æˆ·æ“ä½œè§¦å‘çš„ä»»åŠ¡</td></tr><tr><td><code>.default</code></td><td>é»˜è®¤</td><td>ä¸€èˆ¬ä»»åŠ¡</td></tr><tr><td><code>.utility</code></td><td>å®ç”¨å·¥å…·</td><td>ä¸‹è½½ã€æ•°æ®å¤„ç†</td></tr><tr><td><code>.background</code></td><td>åå°</td><td>åå°ä»»åŠ¡</td></tr><tr><td><code>.unspecified</code></td><td>æœªæŒ‡å®š</td><td>ä¸æ¨èä½¿ç”¨</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-54">ä¸‰ã€æ‰§è¡Œæ–¹å¼è¯¦è§£</h3>
<h4 data-id="heading-55">1. åŒæ­¥æ‰§è¡Œï¼ˆsyncï¼‰</h4>
<h5 data-id="heading-56">å®šä¹‰</h5>
<p>åŒæ­¥æ‰§è¡Œä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œç­‰å¾…ä»»åŠ¡å®Œæˆåæ‰ç»§ç»­æ‰§è¡Œã€‚</p>
<pre><code class="hljs language-swift" lang="swift">queue.sync {
    <span class="hljs-comment">// ä»»åŠ¡ä»£ç </span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ‰§è¡Œä»»åŠ¡"</span>)
}
<span class="hljs-comment">// è¿™è¡Œä»£ç ä¼šç­‰å¾…ä¸Šé¢çš„ä»»åŠ¡å®Œæˆæ‰æ‰§è¡Œ</span>
</code></pre>
<h5 data-id="heading-57">ç‰¹ç‚¹</h5>
<ul>
<li>âœ… <strong>é˜»å¡å½“å‰çº¿ç¨‹</strong>ï¼šç­‰å¾…ä»»åŠ¡å®Œæˆ</li>
<li>âœ… <strong>å¯ä»¥è·å–è¿”å›å€¼</strong>ï¼šä»»åŠ¡å®Œæˆåè¿”å›ç»“æœ</li>
<li>âš ï¸ <strong>å¯èƒ½æ­»é”</strong>ï¼šåœ¨ä¸²è¡Œé˜Ÿåˆ—ä¸­åµŒå¥—ä½¿ç”¨è¦å°å¿ƒ</li>
</ul>
<h5 data-id="heading-58">ä»£ç ç¤ºä¾‹</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> queue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>(label: <span class="hljs-string">"example"</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"å¼€å§‹"</span>)
queue.sync {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä»»åŠ¡æ‰§è¡Œä¸­"</span>)
    sleep(<span class="hljs-number">1</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä»»åŠ¡å®Œæˆ"</span>)
}
<span class="hljs-built_in">print</span>(<span class="hljs-string">"ç»“æŸ"</span>)

<span class="hljs-comment">// è¾“å‡ºé¡ºåºï¼ˆç¡®å®šï¼‰ï¼š</span>
<span class="hljs-comment">// å¼€å§‹</span>
<span class="hljs-comment">// ä»»åŠ¡æ‰§è¡Œä¸­</span>
<span class="hljs-comment">// ä»»åŠ¡å®Œæˆ</span>
<span class="hljs-comment">// ç»“æŸ</span>
</code></pre>
<h5 data-id="heading-59">åº”ç”¨åœºæ™¯</h5>
<ul>
<li>éœ€è¦ç­‰å¾…ä»»åŠ¡å®Œæˆå†ç»§ç»­</li>
<li>éœ€è¦è·å–ä»»åŠ¡çš„è¿”å›å€¼</li>
<li>ä¸²è¡ŒåŒ–è®¿é—®å…±äº«èµ„æº</li>
</ul>
<hr/>
<h4 data-id="heading-60">2. å¼‚æ­¥æ‰§è¡Œï¼ˆasyncï¼‰</h4>
<h5 data-id="heading-61">å®šä¹‰</h5>
<p>å¼‚æ­¥æ‰§è¡Œä¸é˜»å¡å½“å‰çº¿ç¨‹ï¼Œç«‹å³è¿”å›ï¼Œä»»åŠ¡ç¨åæ‰§è¡Œã€‚</p>
<pre><code class="hljs language-swift" lang="swift">queue.async {
    <span class="hljs-comment">// ä»»åŠ¡ä»£ç </span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ‰§è¡Œä»»åŠ¡"</span>)
}
<span class="hljs-comment">// è¿™è¡Œä»£ç ç«‹å³æ‰§è¡Œï¼Œä¸ç­‰å¾…ä¸Šé¢çš„ä»»åŠ¡</span>
</code></pre>
<h5 data-id="heading-62">ç‰¹ç‚¹</h5>
<ul>
<li>âœ… <strong>ä¸é˜»å¡å½“å‰çº¿ç¨‹</strong>ï¼šç«‹å³è¿”å›</li>
<li>âœ… <strong>æé«˜å“åº”æ€§</strong>ï¼šUI ä¸ä¼šè¢«é˜»å¡</li>
<li>âœ… <strong>æ¨èä½¿ç”¨</strong>ï¼šå¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨ async</li>
</ul>
<h5 data-id="heading-63">ä»£ç ç¤ºä¾‹</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> queue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>(label: <span class="hljs-string">"example"</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"å¼€å§‹"</span>)
queue.async {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä»»åŠ¡æ‰§è¡Œä¸­"</span>)
    sleep(<span class="hljs-number">1</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä»»åŠ¡å®Œæˆ"</span>)
}
<span class="hljs-built_in">print</span>(<span class="hljs-string">"ç»“æŸ"</span>)

<span class="hljs-comment">// è¾“å‡ºé¡ºåºï¼ˆå¯èƒ½ï¼‰ï¼š</span>
<span class="hljs-comment">// å¼€å§‹</span>
<span class="hljs-comment">// ç»“æŸ  â† ç«‹å³æ‰§è¡Œ</span>
<span class="hljs-comment">// ä»»åŠ¡æ‰§è¡Œä¸­</span>
<span class="hljs-comment">// ä»»åŠ¡å®Œæˆ</span>
</code></pre>
<h5 data-id="heading-64">åº”ç”¨åœºæ™¯</h5>
<ul>
<li><strong>å¤§å¤šæ•°æƒ…å†µ</strong>ï¼šæ¨èä½¿ç”¨</li>
<li>ä¸é˜»å¡ UI çº¿ç¨‹</li>
<li>åå°å¤„ç†ä»»åŠ¡</li>
<li>æé«˜å“åº”æ€§</li>
</ul>
<hr/>
<h3 data-id="heading-65">å››ã€ç»„åˆä½¿ç”¨</h3>
<h4 data-id="heading-66">1. å››ç§ç»„åˆæ–¹å¼</h4>








































<table><thead><tr><th>é˜Ÿåˆ—ç±»å‹</th><th>æ‰§è¡Œæ–¹å¼</th><th>ä»£ç ç¤ºä¾‹</th><th>è¯´æ˜</th><th>æ­»é”é£é™©</th></tr></thead><tbody><tr><td>ä¸²è¡Œé˜Ÿåˆ—</td><td>sync</td><td><code>serialQueue.sync { }</code></td><td>é˜»å¡ç­‰å¾…ï¼ŒæŒ‰é¡ºåºæ‰§è¡Œ</td><td>âš ï¸ é«˜ï¼ˆåµŒå¥—ï¼‰</td></tr><tr><td>ä¸²è¡Œé˜Ÿåˆ—</td><td>async</td><td><code>serialQueue.async { }</code></td><td>ä¸é˜»å¡ï¼ŒæŒ‰é¡ºåºæ‰§è¡Œ</td><td>âœ… ä½</td></tr><tr><td>å¹¶è¡Œé˜Ÿåˆ—</td><td>sync</td><td><code>concurrentQueue.sync { }</code></td><td>é˜»å¡ç­‰å¾…ï¼Œå¹¶å‘æ‰§è¡Œ</td><td>âœ… ä½</td></tr><tr><td>å¹¶è¡Œé˜Ÿåˆ—</td><td>async</td><td><code>concurrentQueue.async { }</code></td><td>ä¸é˜»å¡ï¼Œå¹¶å‘æ‰§è¡Œ</td><td>âœ… ä½</td></tr></tbody></table>
<h4 data-id="heading-67">2. å®é™…åº”ç”¨ç¤ºä¾‹</h4>
<h5 data-id="heading-68">ç¤ºä¾‹1ï¼šå›¾ç‰‡ä¸‹è½½ï¼ˆå¹¶è¡Œé˜Ÿåˆ— + asyncï¼‰</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> imageQueue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>(label: <span class="hljs-string">"image"</span>, attributes: .concurrent)
<span class="hljs-keyword">let</span> imageURLs <span class="hljs-operator">=</span> [<span class="hljs-string">"url1"</span>, <span class="hljs-string">"url2"</span>, <span class="hljs-string">"url3"</span>]

<span class="hljs-keyword">for</span> url <span class="hljs-keyword">in</span> imageURLs {
    imageQueue.async {
        <span class="hljs-comment">// ä¸‹è½½å›¾ç‰‡</span>
        downloadImage(from: url)
    }
}
</code></pre>
<h5 data-id="heading-69">ç¤ºä¾‹2ï¼šæ•°æ®è®¿é—®ï¼ˆä¸²è¡Œé˜Ÿåˆ— + syncï¼‰</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DataManager</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> serialQueue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>(label: <span class="hljs-string">"data"</span>)
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> data: [<span class="hljs-type">String</span>] <span class="hljs-operator">=</span> []
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">addItem</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">item</span>: <span class="hljs-type">String</span>) {
        serialQueue.async {
            <span class="hljs-keyword">self</span>.data.append(item)
        }
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">getItems</span>() -&gt; [<span class="hljs-type">String</span>] {
        <span class="hljs-keyword">return</span> serialQueue.sync {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>.data
        }
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-70">äº”ã€GCD é«˜çº§ç‰¹æ€§</h3>
<h4 data-id="heading-71">1. DispatchGroupï¼ˆä»»åŠ¡ç»„ï¼‰</h4>
<h5 data-id="heading-72">å®šä¹‰</h5>
<p>ç”¨äºç®¡ç†å¤šä¸ªå¼‚æ­¥ä»»åŠ¡ï¼Œç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆã€‚</p>
<h5 data-id="heading-73">åŸºæœ¬ä½¿ç”¨</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> group <span class="hljs-operator">=</span> <span class="hljs-type">DispatchGroup</span>()
<span class="hljs-keyword">let</span> queue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>.global()

<span class="hljs-comment">// æ·»åŠ ä»»åŠ¡åˆ°ç»„</span>
group.enter()
queue.async {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä»»åŠ¡1"</span>)
    group.leave()
}

group.enter()
queue.async {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä»»åŠ¡2"</span>)
    group.leave()
}

<span class="hljs-comment">// ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆ</span>
group.notify(queue: .main) {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ‰€æœ‰ä»»åŠ¡å®Œæˆ"</span>)
}
</code></pre>
<h5 data-id="heading-74">å®é™…åº”ç”¨ï¼šå¤šå›¾ç‰‡ä¸‹è½½</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> group <span class="hljs-operator">=</span> <span class="hljs-type">DispatchGroup</span>()
<span class="hljs-keyword">let</span> imageURLs <span class="hljs-operator">=</span> [<span class="hljs-string">"url1"</span>, <span class="hljs-string">"url2"</span>, <span class="hljs-string">"url3"</span>]

<span class="hljs-keyword">for</span> url <span class="hljs-keyword">in</span> imageURLs {
    group.enter()
    <span class="hljs-type">DispatchQueue</span>.global().async {
        downloadImage(from: url) { image <span class="hljs-keyword">in</span>
            <span class="hljs-comment">// å¤„ç†å›¾ç‰‡</span>
            group.leave()
        }
    }
}

group.notify(queue: .main) {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ‰€æœ‰å›¾ç‰‡ä¸‹è½½å®Œæˆ"</span>)
    <span class="hljs-keyword">self</span>.tableView.reloadData()
}
</code></pre>
<h5 data-id="heading-75">ç­‰å¾…ä»»åŠ¡å®Œæˆ</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> group <span class="hljs-operator">=</span> <span class="hljs-type">DispatchGroup</span>()

group.enter()
queue.async {
    <span class="hljs-comment">// ä»»åŠ¡</span>
    group.leave()
}

<span class="hljs-comment">// é˜»å¡ç­‰å¾…ï¼Œç›´åˆ°æ‰€æœ‰ä»»åŠ¡å®Œæˆ</span>
group.wait()
<span class="hljs-built_in">print</span>(<span class="hljs-string">"æ‰€æœ‰ä»»åŠ¡å®Œæˆ"</span>)
</code></pre>
<hr/>
<h4 data-id="heading-76">2. DispatchSemaphoreï¼ˆä¿¡å·é‡ï¼‰</h4>
<h5 data-id="heading-77">å®šä¹‰</h5>
<p>ç”¨äºæ§åˆ¶å¹¶å‘æ•°é‡ï¼Œé™åˆ¶åŒæ—¶æ‰§è¡Œçš„ä»»åŠ¡æ•°ã€‚</p>
<h5 data-id="heading-78">åŸºæœ¬ä½¿ç”¨</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// åˆ›å»ºä¿¡å·é‡ï¼Œåˆå§‹å€¼ä¸ºæœ€å¤§å¹¶å‘æ•°</span>
<span class="hljs-keyword">let</span> semaphore <span class="hljs-operator">=</span> <span class="hljs-type">DispatchSemaphore</span>(value: <span class="hljs-number">3</span>)

<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">1</span><span class="hljs-operator">...</span><span class="hljs-number">10</span> {
    <span class="hljs-type">DispatchQueue</span>.global().async {
        <span class="hljs-comment">// ç­‰å¾…ä¿¡å·é‡</span>
        semaphore.wait()
        
        <span class="hljs-comment">// æ‰§è¡Œä»»åŠ¡</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä»»åŠ¡ <span class="hljs-subst">\(i)</span> å¼€å§‹"</span>)
        sleep(<span class="hljs-number">1</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä»»åŠ¡ <span class="hljs-subst">\(i)</span> ç»“æŸ"</span>)
        
        <span class="hljs-comment">// é‡Šæ”¾ä¿¡å·é‡</span>
        semaphore.signal()
    }
}

<span class="hljs-comment">// æœ€å¤šåŒæ—¶æ‰§è¡Œ 3 ä¸ªä»»åŠ¡</span>
</code></pre>
<h5 data-id="heading-79">å®é™…åº”ç”¨ï¼šæ§åˆ¶ç½‘ç»œè¯·æ±‚å¹¶å‘æ•°</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">NetworkManager</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> semaphore <span class="hljs-operator">=</span> <span class="hljs-type">DispatchSemaphore</span>(value: <span class="hljs-number">5</span>)  <span class="hljs-comment">// æœ€å¤š5ä¸ªå¹¶å‘è¯·æ±‚</span>
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">fetchData</span>(<span class="hljs-params">url</span>: <span class="hljs-type">String</span>, <span class="hljs-params">completion</span>: <span class="hljs-keyword">@escaping</span> (<span class="hljs-type">Data</span>?) -&gt; <span class="hljs-type">Void</span>) {
        <span class="hljs-type">DispatchQueue</span>.global().async {
            <span class="hljs-keyword">self</span>.semaphore.wait()
            
            <span class="hljs-comment">// ç½‘ç»œè¯·æ±‚</span>
            <span class="hljs-type">URLSession</span>.shared.dataTask(with: <span class="hljs-type">URL</span>(string: url)<span class="hljs-operator">!</span>) { data, <span class="hljs-keyword">_</span>, <span class="hljs-keyword">_</span> <span class="hljs-keyword">in</span>
                completion(data)
                <span class="hljs-keyword">self</span>.semaphore.signal()
            }.resume()
        }
    }
}
</code></pre>
<hr/>
<h4 data-id="heading-80">3. DispatchBarrierï¼ˆæ …æ ä»»åŠ¡ï¼‰- æ§åˆ¶ä»»åŠ¡ä¾èµ–å’Œæ‰§è¡Œé¡ºåº</h4>
<h5 data-id="heading-81">å®šä¹‰</h5>
<p><strong>DispatchBarrierï¼ˆæ …æ ä»»åŠ¡ï¼‰</strong> æ˜¯ GCD ä¸­ç”¨äºæ§åˆ¶ä»»åŠ¡æ‰§è¡Œé¡ºåºçš„é‡è¦æ–¹æ³•ã€‚åœ¨å¹¶è¡Œé˜Ÿåˆ—ä¸­ï¼š</p>
<ul>
<li>æ …æ ä»»åŠ¡ä¼š<strong>ç­‰å¾…å‰é¢çš„æ‰€æœ‰ä»»åŠ¡å®Œæˆ</strong></li>
<li>ç„¶å<strong>æ‰§è¡Œæ …æ ä»»åŠ¡</strong></li>
<li>æ …æ ä»»åŠ¡æ‰§è¡Œæ—¶ï¼Œ<strong>é˜»å¡åé¢çš„ä»»åŠ¡</strong></li>
<li>æ …æ ä»»åŠ¡å®Œæˆåï¼Œ<strong>åé¢çš„ä»»åŠ¡æ‰èƒ½æ‰§è¡Œ</strong></li>
</ul>
<p><strong>æ ¸å¿ƒä½œç”¨ï¼š</strong> åœ¨å¹¶è¡Œé˜Ÿåˆ—ä¸­åˆ›å»ºä¸€ä¸ª"åˆ†ç•Œç‚¹"ï¼Œç¡®ä¿æ …æ å‰åçš„ä»»åŠ¡æŒ‰é¡ºåºæ‰§è¡Œã€‚</p>
<h5 data-id="heading-82">åŸºæœ¬ä½¿ç”¨</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> concurrentQueue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>(
    label: <span class="hljs-string">"concurrent"</span>,
    attributes: .concurrent
)

<span class="hljs-comment">// æ …æ å‰çš„ä»»åŠ¡ï¼šå¹¶å‘æ‰§è¡Œ</span>
concurrentQueue.async { 
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä»»åŠ¡1å¼€å§‹"</span>)
    sleep(<span class="hljs-number">1</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä»»åŠ¡1ç»“æŸ"</span>)
}
concurrentQueue.async { 
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä»»åŠ¡2å¼€å§‹"</span>)
    sleep(<span class="hljs-number">1</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä»»åŠ¡2ç»“æŸ"</span>)
}
concurrentQueue.async { 
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä»»åŠ¡3å¼€å§‹"</span>)
    sleep(<span class="hljs-number">1</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä»»åŠ¡3ç»“æŸ"</span>)
}

<span class="hljs-comment">// æ …æ ä»»åŠ¡ï¼šç­‰å¾…å‰é¢çš„ä»»åŠ¡å®Œæˆï¼Œç„¶åæ‰§è¡Œ</span>
concurrentQueue.async(flags: .barrier) {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ …æ ä»»åŠ¡ï¼šå‰é¢çš„ä»»åŠ¡éƒ½å®Œæˆäº†"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ …æ ä»»åŠ¡æ‰§è¡Œä¸­..."</span>)
    sleep(<span class="hljs-number">1</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ …æ ä»»åŠ¡å®Œæˆ"</span>)
}

<span class="hljs-comment">// æ …æ åçš„ä»»åŠ¡ï¼šç­‰å¾…æ …æ ä»»åŠ¡å®Œæˆåï¼Œå¹¶å‘æ‰§è¡Œ</span>
concurrentQueue.async { 
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä»»åŠ¡4å¼€å§‹"</span>)
    sleep(<span class="hljs-number">1</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä»»åŠ¡4ç»“æŸ"</span>)
}
concurrentQueue.async { 
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä»»åŠ¡5å¼€å§‹"</span>)
    sleep(<span class="hljs-number">1</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä»»åŠ¡5ç»“æŸ"</span>)
}
</code></pre>
<p><strong>æ‰§è¡Œé¡ºåºï¼š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> ä»»åŠ¡1ã€2ã€3 å¹¶å‘æ‰§è¡Œï¼ˆå¯èƒ½åŒæ—¶æ‰§è¡Œï¼‰
<span class="hljs-bullet">2.</span> ç­‰å¾…ä»»åŠ¡1ã€2ã€3 å…¨éƒ¨å®Œæˆ
<span class="hljs-bullet">3.</span> æ‰§è¡Œæ …æ ä»»åŠ¡ï¼ˆç‹¬å æ‰§è¡Œï¼‰
<span class="hljs-bullet">4.</span> æ …æ ä»»åŠ¡å®Œæˆåï¼Œä»»åŠ¡4ã€5 å¹¶å‘æ‰§è¡Œ
</code></pre>
<h5 data-id="heading-83">æ‰§è¡Œæµç¨‹å›¾</h5>
<pre><code class="hljs">å¹¶è¡Œé˜Ÿåˆ—ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ …æ å‰çš„ä»»åŠ¡ï¼ˆå¹¶å‘æ‰§è¡Œï¼‰                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ä»»åŠ¡1â”‚  â”‚ä»»åŠ¡2â”‚  â”‚ä»»åŠ¡3â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜              â”‚
â”‚      â†“         â†“         â†“               â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚              â†“                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚   æ …æ ä»»åŠ¡ï¼ˆç‹¬å ï¼‰    â”‚                â”‚
â”‚  â”‚  ï¼ˆç­‰å¾…å‰é¢å®Œæˆï¼‰     â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚              â†“                           â”‚
â”‚  æ …æ åçš„ä»»åŠ¡ï¼ˆå¹¶å‘æ‰§è¡Œï¼‰                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚ä»»åŠ¡4â”‚  â”‚ä»»åŠ¡5â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h5 data-id="heading-84">å…³é”®ç‰¹æ€§</h5>
<ol>
<li>
<p><strong>ç­‰å¾…å‰é¢çš„ä»»åŠ¡å®Œæˆ</strong></p>
<ul>
<li>æ …æ ä»»åŠ¡ä¼šç­‰å¾…æ‰€æœ‰åœ¨å®ƒä¹‹å‰æäº¤çš„ä»»åŠ¡å®Œæˆ</li>
<li>æ— è®ºè¿™äº›ä»»åŠ¡æ˜¯å¦å·²ç»å¼€å§‹æ‰§è¡Œ</li>
</ul>
</li>
<li>
<p><strong>ç‹¬å æ‰§è¡Œ</strong></p>
<ul>
<li>æ …æ ä»»åŠ¡æ‰§è¡Œæ—¶ï¼Œé˜Ÿåˆ—ä¸­çš„å…¶ä»–ä»»åŠ¡å¿…é¡»ç­‰å¾…</li>
<li>ä¿è¯æ …æ ä»»åŠ¡æ‰§è¡Œæ—¶ä¸ä¼šæœ‰å…¶ä»–ä»»åŠ¡åŒæ—¶æ‰§è¡Œ</li>
</ul>
</li>
<li>
<p><strong>é˜»å¡åé¢çš„ä»»åŠ¡</strong></p>
<ul>
<li>æ …æ ä»»åŠ¡æ‰§è¡Œå®Œæˆåï¼Œåé¢çš„ä»»åŠ¡æ‰èƒ½å¼€å§‹æ‰§è¡Œ</li>
</ul>
</li>
<li>
<p><strong>åªåœ¨å¹¶è¡Œé˜Ÿåˆ—æœ‰æ•ˆ</strong></p>
<ul>
<li>æ …æ ä»»åŠ¡åªåœ¨å¹¶è¡Œé˜Ÿåˆ—ï¼ˆ<code>.concurrent</code>ï¼‰ä¸­æœ‰æ•ˆ</li>
<li>åœ¨ä¸²è¡Œé˜Ÿåˆ—ä¸­ä½¿ç”¨æ …æ ä»»åŠ¡æ²¡æœ‰æ„ä¹‰ï¼ˆä¸²è¡Œé˜Ÿåˆ—æœ¬èº«å°±æ˜¯é¡ºåºæ‰§è¡Œï¼‰</li>
</ul>
</li>
</ol>
<h5 data-id="heading-85">å®é™…åº”ç”¨åœºæ™¯</h5>
<h6 data-id="heading-86">åº”ç”¨1ï¼šè¯»å†™é”ï¼ˆæœ€å¸¸ç”¨ï¼‰</h6>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DataCache</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> concurrentQueue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>(
        label: <span class="hljs-string">"cache"</span>,
        attributes: .concurrent
    )
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> cache: [<span class="hljs-type">String</span>: <span class="hljs-keyword">Any</span>] <span class="hljs-operator">=</span> [:]
    
    <span class="hljs-comment">// è¯»æ“ä½œï¼šå¹¶å‘æ‰§è¡Œï¼ˆå¤šä¸ªè¯»æ“ä½œå¯ä»¥åŒæ—¶è¿›è¡Œï¼‰</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">get</span>(<span class="hljs-params">key</span>: <span class="hljs-type">String</span>) -&gt; <span class="hljs-keyword">Any</span><span class="hljs-operator">?</span> {
        <span class="hljs-keyword">return</span> concurrentQueue.sync {
            <span class="hljs-keyword">return</span> cache[key]
        }
    }
    
    <span class="hljs-comment">// å†™æ“ä½œï¼šä½¿ç”¨æ …æ ï¼Œä¿è¯ç‹¬å è®¿é—®ï¼ˆå†™æ“ä½œæ—¶ï¼Œè¯»æ“ä½œå¿…é¡»ç­‰å¾…ï¼‰</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">set</span>(<span class="hljs-params">key</span>: <span class="hljs-type">String</span>, <span class="hljs-params">value</span>: <span class="hljs-keyword">Any</span>) {
        concurrentQueue.async(flags: .barrier) {
            <span class="hljs-keyword">self</span>.cache[key] <span class="hljs-operator">=</span> value
        }
    }
    
    <span class="hljs-comment">// æ‰¹é‡å†™æ“ä½œï¼šä½¿ç”¨æ …æ ä¿è¯åŸå­æ€§</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">updateCache</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">updates</span>: [<span class="hljs-params">String</span>: <span class="hljs-keyword">Any</span>]) {
        concurrentQueue.async(flags: .barrier) {
            <span class="hljs-keyword">for</span> (key, value) <span class="hljs-keyword">in</span> updates {
                <span class="hljs-keyword">self</span>.cache[key] <span class="hljs-operator">=</span> value
            }
        }
    }
}
</code></pre>
<p><strong>å·¥ä½œåŸç†ï¼š</strong></p>
<ul>
<li>å¤šä¸ªè¯»æ“ä½œå¯ä»¥å¹¶å‘æ‰§è¡Œï¼ˆæ€§èƒ½é«˜ï¼‰</li>
<li>å†™æ“ä½œä½¿ç”¨æ …æ ï¼Œç¡®ä¿å†™æ“ä½œæ—¶æ²¡æœ‰è¯»æ“ä½œï¼ˆæ•°æ®å®‰å…¨ï¼‰</li>
<li>å†™æ“ä½œå®Œæˆåï¼Œè¯»æ“ä½œæ‰èƒ½ç»§ç»­</li>
</ul>
<h6 data-id="heading-87">åº”ç”¨2ï¼šæ•°æ®åŒæ­¥ç‚¹</h6>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DataProcessor</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> queue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>(label: <span class="hljs-string">"processor"</span>, attributes: .concurrent)
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> data: [<span class="hljs-type">Int</span>] <span class="hljs-operator">=</span> []
    
    <span class="hljs-comment">// é˜¶æ®µ1ï¼šå¹¶å‘å¤„ç†æ•°æ®</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">processData</span>() {
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">1</span><span class="hljs-operator">...</span><span class="hljs-number">10</span> {
            queue.async {
                <span class="hljs-comment">// å¹¶å‘å¤„ç†</span>
                <span class="hljs-keyword">let</span> result <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span>.processItem(i)
                <span class="hljs-comment">// æ³¨æ„ï¼šè¿™é‡Œéœ€è¦çº¿ç¨‹å®‰å…¨åœ°æ·»åŠ æ•°æ®</span>
            }
        }
        
        <span class="hljs-comment">// æ …æ ä»»åŠ¡ï¼šç­‰å¾…æ‰€æœ‰å¤„ç†å®Œæˆï¼Œç„¶ååŒæ­¥æ•°æ®</span>
        queue.async(flags: .barrier) {
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ‰€æœ‰æ•°æ®å¤„ç†å®Œæˆï¼Œå¼€å§‹åŒæ­¥"</span>)
            <span class="hljs-keyword">self</span>.syncData()
        }
        
        <span class="hljs-comment">// é˜¶æ®µ2ï¼šåŒæ­¥å®Œæˆåï¼Œç»§ç»­å¤„ç†</span>
        queue.async {
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"å¼€å§‹åç»­å¤„ç†"</span>)
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">processItem</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">item</span>: <span class="hljs-type">Int</span>) -&gt; <span class="hljs-type">Int</span> {
        <span class="hljs-keyword">return</span> item <span class="hljs-operator">*</span> <span class="hljs-number">2</span>
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">syncData</span>() {
        <span class="hljs-comment">// åŒæ­¥æ•°æ®åˆ°æ•°æ®åº“æˆ–æœåŠ¡å™¨</span>
    }
}
</code></pre>
<h6 data-id="heading-88">åº”ç”¨3ï¼šæ‰¹é‡æ“ä½œçš„åˆ†ç•Œç‚¹</h6>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ImageDownloader</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> queue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>(label: <span class="hljs-string">"download"</span>, attributes: .concurrent)
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">downloadImages</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">urls</span>: [<span class="hljs-type">String</span>]) {
        <span class="hljs-comment">// é˜¶æ®µ1ï¼šå¹¶å‘ä¸‹è½½</span>
        <span class="hljs-keyword">for</span> url <span class="hljs-keyword">in</span> urls {
            queue.async {
                <span class="hljs-keyword">self</span>.downloadImage(url: url)
            }
        }
        
        <span class="hljs-comment">// æ …æ ä»»åŠ¡ï¼šæ‰€æœ‰ä¸‹è½½å®Œæˆåï¼Œæ›´æ–°UI</span>
        queue.async(flags: .barrier) {
            <span class="hljs-type">DispatchQueue</span>.main.async {
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ‰€æœ‰å›¾ç‰‡ä¸‹è½½å®Œæˆ"</span>)
                <span class="hljs-keyword">self</span>.updateUI()
            }
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">downloadImage</span>(<span class="hljs-params">url</span>: <span class="hljs-type">String</span>) {
        <span class="hljs-comment">// ä¸‹è½½é€»è¾‘</span>
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">updateUI</span>() {
        <span class="hljs-comment">// æ›´æ–°UI</span>
    }
}
</code></pre>
<h6 data-id="heading-89">åº”ç”¨4ï¼šç¡®ä¿åˆå§‹åŒ–å®Œæˆ</h6>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ResourceManager</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> queue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>(label: <span class="hljs-string">"resource"</span>, attributes: .concurrent)
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> isInitialized <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">initialize</span>() {
        <span class="hljs-comment">// åˆå§‹åŒ–ä»»åŠ¡ï¼šå¹¶å‘æ‰§è¡Œ</span>
        queue.async {
            <span class="hljs-keyword">self</span>.loadConfig()
        }
        queue.async {
            <span class="hljs-keyword">self</span>.loadCache()
        }
        queue.async {
            <span class="hljs-keyword">self</span>.loadData()
        }
        
        <span class="hljs-comment">// æ …æ ä»»åŠ¡ï¼šç­‰å¾…æ‰€æœ‰åˆå§‹åŒ–å®Œæˆ</span>
        queue.async(flags: .barrier) {
            <span class="hljs-keyword">self</span>.isInitialized <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"åˆå§‹åŒ–å®Œæˆ"</span>)
        }
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">useResource</span>() {
        queue.async(flags: .barrier) {
            <span class="hljs-keyword">guard</span> <span class="hljs-keyword">self</span>.isInitialized <span class="hljs-keyword">else</span> {
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"èµ„æºæœªåˆå§‹åŒ–"</span>)
                <span class="hljs-keyword">return</span>
            }
            <span class="hljs-comment">// ä½¿ç”¨èµ„æº</span>
        }
    }
}
</code></pre>
<h5 data-id="heading-90">æ³¨æ„äº‹é¡¹</h5>
<ol>
<li>
<p><strong>åªåœ¨å¹¶è¡Œé˜Ÿåˆ—æœ‰æ•ˆ</strong></p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// âœ… æ­£ç¡®ï¼šåœ¨å¹¶è¡Œé˜Ÿåˆ—ä¸­ä½¿ç”¨</span>
<span class="hljs-keyword">let</span> concurrentQueue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>(label: <span class="hljs-string">"queue"</span>, attributes: .concurrent)
concurrentQueue.async(flags: .barrier) { }

<span class="hljs-comment">// âŒ æ— æ•ˆï¼šåœ¨ä¸²è¡Œé˜Ÿåˆ—ä¸­ä½¿ç”¨æ …æ æ²¡æœ‰æ„ä¹‰</span>
<span class="hljs-keyword">let</span> serialQueue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>(label: <span class="hljs-string">"queue"</span>)
serialQueue.async(flags: .barrier) { }  <span class="hljs-comment">// ä¸²è¡Œé˜Ÿåˆ—æœ¬èº«å°±æ˜¯é¡ºåºæ‰§è¡Œ</span>
</code></pre>
</li>
<li>
<p><strong>æ …æ ä»»åŠ¡ä¼šé˜»å¡é˜Ÿåˆ—</strong></p>
<ul>
<li>æ …æ ä»»åŠ¡æ‰§è¡Œæ—¶ï¼Œé˜Ÿåˆ—ä¸­çš„å…¶ä»–ä»»åŠ¡å¿…é¡»ç­‰å¾…</li>
<li>é¿å…åœ¨æ …æ ä»»åŠ¡ä¸­æ‰§è¡Œè€—æ—¶æ“ä½œ</li>
</ul>
</li>
<li>
<p><strong>ä¸ sync çš„åŒºåˆ«</strong></p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// syncï¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œç­‰å¾…ä»»åŠ¡å®Œæˆ</span>
queue.sync { }  <span class="hljs-comment">// å½“å‰çº¿ç¨‹ç­‰å¾…</span>

<span class="hljs-comment">// barrierï¼šåœ¨å¹¶è¡Œé˜Ÿåˆ—ä¸­åˆ›å»ºåˆ†ç•Œç‚¹</span>
queue.async(flags: .barrier) { }  <span class="hljs-comment">// ä¸é˜»å¡å½“å‰çº¿ç¨‹ï¼Œä½†é˜»å¡é˜Ÿåˆ—ä¸­çš„å…¶ä»–ä»»åŠ¡</span>
</code></pre>
</li>
</ol>
<h5 data-id="heading-91">å®Œæ•´ç¤ºä¾‹ï¼šçº¿ç¨‹å®‰å…¨çš„æ•°æ®ç»“æ„</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ThreadSafeArray</span>&lt;<span class="hljs-title class_">T</span>&gt; {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> queue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>(label: <span class="hljs-string">"array"</span>, attributes: .concurrent)
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> array: [<span class="hljs-type">T</span>] <span class="hljs-operator">=</span> []
    
    <span class="hljs-comment">// è¯»æ“ä½œï¼šå¹¶å‘æ‰§è¡Œ</span>
    <span class="hljs-keyword">var</span> count: <span class="hljs-type">Int</span> {
        <span class="hljs-keyword">return</span> queue.sync { array.count }
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">get</span>(<span class="hljs-params">at</span> <span class="hljs-params">index</span>: <span class="hljs-type">Int</span>) -&gt; <span class="hljs-type">T</span>? {
        <span class="hljs-keyword">return</span> queue.sync {
            <span class="hljs-keyword">guard</span> index <span class="hljs-operator">&lt;</span> array.count <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span> }
            <span class="hljs-keyword">return</span> array[index]
        }
    }
    
    <span class="hljs-comment">// å†™æ“ä½œï¼šä½¿ç”¨æ …æ ï¼Œä¿è¯ç‹¬å è®¿é—®</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">append</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">element</span>: <span class="hljs-type">T</span>) {
        queue.async(flags: .barrier) {
            <span class="hljs-keyword">self</span>.array.append(element)
        }
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">remove</span>(<span class="hljs-params">at</span> <span class="hljs-params">index</span>: <span class="hljs-type">Int</span>) {
        queue.async(flags: .barrier) {
            <span class="hljs-keyword">guard</span> index <span class="hljs-operator">&lt;</span> <span class="hljs-keyword">self</span>.array.count <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> }
            <span class="hljs-keyword">self</span>.array.remove(at: index)
        }
    }
    
    <span class="hljs-comment">// æ‰¹é‡æ“ä½œï¼šä½¿ç”¨æ …æ ä¿è¯åŸå­æ€§</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">replaceAll</span>(<span class="hljs-params">with</span> <span class="hljs-params">newArray</span>: [<span class="hljs-type">T</span>]) {
        queue.async(flags: .barrier) {
            <span class="hljs-keyword">self</span>.array <span class="hljs-operator">=</span> newArray
        }
    }
}
</code></pre>
<h5 data-id="heading-92">æ€»ç»“</h5>
<p><strong>DispatchBarrier çš„æ ¸å¿ƒä½œç”¨ï¼š</strong></p>
<ul>
<li>âœ… åœ¨å¹¶è¡Œé˜Ÿåˆ—ä¸­åˆ›å»º"åˆ†ç•Œç‚¹"</li>
<li>âœ… ç¡®ä¿æ …æ å‰çš„ä»»åŠ¡å…¨éƒ¨å®Œæˆ</li>
<li>âœ… æ …æ ä»»åŠ¡ç‹¬å æ‰§è¡Œ</li>
<li>âœ… æ …æ åçš„ä»»åŠ¡ç­‰å¾…æ …æ å®Œæˆ</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>è¯»å†™é”å®ç°</li>
<li>æ•°æ®åŒæ­¥ç‚¹</li>
<li>æ‰¹é‡æ“ä½œçš„åˆ†ç•Œ</li>
<li>åˆå§‹åŒ–å®Œæˆç¡®è®¤</li>
<li>çº¿ç¨‹å®‰å…¨çš„æ•°æ®ç»“æ„</li>
</ul>
<hr/>
<h4 data-id="heading-93">4. DispatchSourceï¼ˆäº‹ä»¶æºï¼‰</h4>
<h5 data-id="heading-94">å®šä¹‰</h5>
<p>ç”¨äºç›‘å¬ç³»ç»Ÿäº‹ä»¶ï¼Œå¦‚å®šæ—¶å™¨ã€æ–‡ä»¶å˜åŒ–ã€ä¿¡å·ç­‰ã€‚</p>
<h5 data-id="heading-95">å®šæ—¶å™¨ç¤ºä¾‹</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// åˆ›å»ºå®šæ—¶å™¨</span>
<span class="hljs-keyword">let</span> timer <span class="hljs-operator">=</span> <span class="hljs-type">DispatchSource</span>.makeTimerSource(queue: .global())
timer.schedule(deadline: .now(), repeating: <span class="hljs-number">1.0</span>)
timer.setEventHandler {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"å®šæ—¶å™¨è§¦å‘"</span>)
}
timer.resume()

<span class="hljs-comment">// å–æ¶ˆå®šæ—¶å™¨</span>
<span class="hljs-comment">// timer.cancel()</span>
</code></pre>
<h5 data-id="heading-96">æ–‡ä»¶ç›‘æ§ç¤ºä¾‹</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> fileURL <span class="hljs-operator">=</span> <span class="hljs-type">URL</span>(fileURLWithPath: <span class="hljs-string">"/path/to/file"</span>)
<span class="hljs-keyword">let</span> fileDescriptor <span class="hljs-operator">=</span> <span class="hljs-keyword">open</span>(fileURL.path, <span class="hljs-type">O_EVTONLY</span>)

<span class="hljs-keyword">let</span> source <span class="hljs-operator">=</span> <span class="hljs-type">DispatchSource</span>.makeFileSystemObjectSource(
    fileDescriptor: fileDescriptor,
    eventMask: .write,
    queue: .global()
)

source.setEventHandler {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ–‡ä»¶è¢«ä¿®æ”¹"</span>)
}

source.resume()
</code></pre>
<hr/>
<h4 data-id="heading-97">5. DispatchWorkItemï¼ˆä»»åŠ¡å°è£…ï¼‰</h4>
<h5 data-id="heading-98">å®šä¹‰</h5>
<p>å°†ä»»åŠ¡å°è£…æˆå¯¹è±¡ï¼Œå¯ä»¥å–æ¶ˆã€ç­‰å¾…ã€é€šçŸ¥ã€‚</p>
<h5 data-id="heading-99">åŸºæœ¬ä½¿ç”¨</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// åˆ›å»ºä»»åŠ¡</span>
<span class="hljs-keyword">let</span> workItem <span class="hljs-operator">=</span> <span class="hljs-type">DispatchWorkItem</span> {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ‰§è¡Œä»»åŠ¡"</span>)
}

<span class="hljs-comment">// æ‰§è¡Œä»»åŠ¡</span>
<span class="hljs-type">DispatchQueue</span>.global().async(execute: workItem)

<span class="hljs-comment">// ç­‰å¾…ä»»åŠ¡å®Œæˆ</span>
workItem.wait()

<span class="hljs-comment">// å–æ¶ˆä»»åŠ¡ï¼ˆå¦‚æœè¿˜æ²¡å¼€å§‹æ‰§è¡Œï¼‰</span>
workItem.cancel()
</code></pre>
<h5 data-id="heading-100">ä»»åŠ¡é€šçŸ¥</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> workItem <span class="hljs-operator">=</span> <span class="hljs-type">DispatchWorkItem</span> {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä»»åŠ¡æ‰§è¡Œ"</span>)
}

workItem.notify(queue: .main) {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä»»åŠ¡å®Œæˆ"</span>)
}

<span class="hljs-type">DispatchQueue</span>.global().async(execute: workItem)
</code></pre>
<hr/>
<h3 data-id="heading-101">å…­ã€å®é™…åº”ç”¨åœºæ™¯</h3>
<h4 data-id="heading-102">åœºæ™¯1ï¼šå›¾ç‰‡ä¸‹è½½å’Œæ˜¾ç¤º</h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">func</span> <span class="hljs-title function_">loadImage</span>(<span class="hljs-params">url</span>: <span class="hljs-type">String</span>, <span class="hljs-params">completion</span>: <span class="hljs-keyword">@escaping</span> (<span class="hljs-type">UIImage</span>?) -&gt; <span class="hljs-type">Void</span>) {
    <span class="hljs-type">DispatchQueue</span>.global().async {
        <span class="hljs-comment">// åœ¨åå°çº¿ç¨‹ä¸‹è½½</span>
        <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> imageURL <span class="hljs-operator">=</span> <span class="hljs-type">URL</span>(string: url),
              <span class="hljs-keyword">let</span> data <span class="hljs-operator">=</span> <span class="hljs-keyword">try?</span> <span class="hljs-type">Data</span>(contentsOf: imageURL),
              <span class="hljs-keyword">let</span> image <span class="hljs-operator">=</span> <span class="hljs-type">UIImage</span>(data: data) <span class="hljs-keyword">else</span> {
            completion(<span class="hljs-literal">nil</span>)
            <span class="hljs-keyword">return</span>
        }
        
        <span class="hljs-comment">// å›åˆ°ä¸»çº¿ç¨‹æ›´æ–° UI</span>
        <span class="hljs-type">DispatchQueue</span>.main.async {
            completion(image)
        }
    }
}

<span class="hljs-comment">// ä½¿ç”¨</span>
loadImage(url: <span class="hljs-string">"https://example.com/image.jpg"</span>) { image <span class="hljs-keyword">in</span>
    <span class="hljs-keyword">self</span>.imageView.image <span class="hljs-operator">=</span> image
}
</code></pre>
<h4 data-id="heading-103">åœºæ™¯2ï¼šæ‰¹é‡æ•°æ®å¤„ç†</h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">func</span> <span class="hljs-title function_">processLargeData</span>(<span class="hljs-params">data</span>: [<span class="hljs-type">Int</span>], <span class="hljs-params">completion</span>: <span class="hljs-keyword">@escaping</span> ([<span class="hljs-type">Int</span>]) -&gt; <span class="hljs-type">Void</span>) {
    <span class="hljs-keyword">let</span> group <span class="hljs-operator">=</span> <span class="hljs-type">DispatchGroup</span>()
    <span class="hljs-keyword">let</span> queue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>.global()
    <span class="hljs-keyword">var</span> results: [<span class="hljs-type">Int</span>] <span class="hljs-operator">=</span> []
    <span class="hljs-keyword">let</span> lock <span class="hljs-operator">=</span> <span class="hljs-type">NSLock</span>()
    
    <span class="hljs-comment">// åˆ†æ‰¹å¤„ç†</span>
    <span class="hljs-keyword">let</span> batchSize <span class="hljs-operator">=</span> <span class="hljs-number">1000</span>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">stride</span>(from: <span class="hljs-number">0</span>, to: data.count, by: batchSize) {
        <span class="hljs-keyword">let</span> end <span class="hljs-operator">=</span> <span class="hljs-built_in">min</span>(i <span class="hljs-operator">+</span> batchSize, data.count)
        <span class="hljs-keyword">let</span> batch <span class="hljs-operator">=</span> <span class="hljs-type">Array</span>(data[i<span class="hljs-operator">..&lt;</span>end])
        
        group.enter()
        queue.async {
            <span class="hljs-comment">// å¤„ç†æ‰¹æ¬¡</span>
            <span class="hljs-keyword">let</span> processed <span class="hljs-operator">=</span> batch.map { <span class="hljs-variable">$0</span> <span class="hljs-operator">*</span> <span class="hljs-number">2</span> }
            
            lock.lock()
            results.append(contentsOf: processed)
            lock.unlock()
            
            group.leave()
        }
    }
    
    group.notify(queue: .main) {
        completion(results)
    }
}
</code></pre>
<h4 data-id="heading-104">åœºæ™¯3ï¼šç½‘ç»œè¯·æ±‚ç®¡ç†</h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">APIManager</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> semaphore <span class="hljs-operator">=</span> <span class="hljs-type">DispatchSemaphore</span>(value: <span class="hljs-number">3</span>)  <span class="hljs-comment">// æœ€å¤š3ä¸ªå¹¶å‘</span>
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">request</span>(<span class="hljs-params">url</span>: <span class="hljs-type">String</span>, <span class="hljs-params">completion</span>: <span class="hljs-keyword">@escaping</span> (<span class="hljs-type">Data</span>?) -&gt; <span class="hljs-type">Void</span>) {
        <span class="hljs-type">DispatchQueue</span>.global().async {
            <span class="hljs-keyword">self</span>.semaphore.wait()
            
            <span class="hljs-type">URLSession</span>.shared.dataTask(with: <span class="hljs-type">URL</span>(string: url)<span class="hljs-operator">!</span>) { data, <span class="hljs-keyword">_</span>, <span class="hljs-keyword">_</span> <span class="hljs-keyword">in</span>
                completion(data)
                <span class="hljs-keyword">self</span>.semaphore.signal()
            }.resume()
        }
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-105">ä¸ƒã€å¸¸è§é—®é¢˜å’Œé™·é˜±</h3>
<h4 data-id="heading-106">é—®é¢˜1ï¼šæ­»é”</h4>
<h5 data-id="heading-107">ä¸»é˜Ÿåˆ—åŒæ­¥è°ƒç”¨</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// âŒ æ­»é”</span>
<span class="hljs-type">DispatchQueue</span>.main.sync {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"è¿™è¡Œä»£ç æ°¸è¿œä¸ä¼šæ‰§è¡Œ"</span>)
}
</code></pre>
<h5 data-id="heading-108">ä¸²è¡Œé˜Ÿåˆ—åµŒå¥—åŒæ­¥è°ƒç”¨</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// âŒ æ­»é”</span>
<span class="hljs-keyword">let</span> serialQueue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>(label: <span class="hljs-string">"serial"</span>)
serialQueue.sync {
    serialQueue.sync {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"è¿™è¡Œä»£ç æ°¸è¿œä¸ä¼šæ‰§è¡Œ"</span>)
    }
}
</code></pre>
<h5 data-id="heading-109">è§£å†³æ–¹æ¡ˆ</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// âœ… ä½¿ç”¨ async</span>
<span class="hljs-type">DispatchQueue</span>.main.async {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"è¿™è¡Œä»£ç ä¼šæ‰§è¡Œ"</span>)
}

<span class="hljs-comment">// âœ… ä½¿ç”¨ä¸åŒçš„é˜Ÿåˆ—</span>
<span class="hljs-keyword">let</span> serialQueue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>(label: <span class="hljs-string">"serial"</span>)
serialQueue.async {
    <span class="hljs-type">DispatchQueue</span>.main.sync {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"è¿™è¡Œä»£ç ä¼šæ‰§è¡Œ"</span>)
    }
}
</code></pre>
<hr/>
<h4 data-id="heading-110">é—®é¢˜2ï¼šå¾ªç¯å¼•ç”¨</h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// âŒ å¾ªç¯å¼•ç”¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ViewController</span>: <span class="hljs-title class_">UIViewController</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">loadData</span>() {
        <span class="hljs-type">DispatchQueue</span>.global().async {
            <span class="hljs-keyword">self</span>.processData()  <span class="hljs-comment">// æ•è·äº† self</span>
        }
    }
}

<span class="hljs-comment">// âœ… ä½¿ç”¨ weak self</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ViewController</span>: <span class="hljs-title class_">UIViewController</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">loadData</span>() {
        <span class="hljs-type">DispatchQueue</span>.global().async { [<span class="hljs-keyword">weak</span> <span class="hljs-keyword">self</span>] <span class="hljs-keyword">in</span>
            <span class="hljs-keyword">self</span><span class="hljs-operator">?</span>.processData()
        }
    }
}
</code></pre>
<hr/>
<h4 data-id="heading-111">é—®é¢˜3ï¼šçº¿ç¨‹å®‰å…¨</h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// âŒ çº¿ç¨‹ä¸å®‰å…¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Counter</span> {
    <span class="hljs-keyword">var</span> count <span class="hljs-operator">=</span> <span class="hljs-number">0</span>
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">increment</span>() {
        count <span class="hljs-operator">+=</span> <span class="hljs-number">1</span>  <span class="hljs-comment">// å¤šçº¿ç¨‹è®¿é—®å¯èƒ½å‡ºé”™</span>
    }
}

<span class="hljs-comment">// âœ… ä½¿ç”¨ä¸²è¡Œé˜Ÿåˆ—ä¿æŠ¤</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Counter</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> queue <span class="hljs-operator">=</span> <span class="hljs-type">DispatchQueue</span>(label: <span class="hljs-string">"counter"</span>)
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> _count <span class="hljs-operator">=</span> <span class="hljs-number">0</span>
    
    <span class="hljs-keyword">var</span> count: <span class="hljs-type">Int</span> {
        <span class="hljs-keyword">return</span> queue.sync { _count }
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">increment</span>() {
        queue.async {
            <span class="hljs-keyword">self</span>._count <span class="hljs-operator">+=</span> <span class="hljs-number">1</span>
        }
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-112">å…«ã€æ€§èƒ½ä¼˜åŒ–å»ºè®®</h3>
<h4 data-id="heading-113">1. åˆç†é€‰æ‹©é˜Ÿåˆ—ç±»å‹</h4>
<ul>
<li><strong>ä¸²è¡Œé˜Ÿåˆ—</strong>ï¼šéœ€è¦é¡ºåºæ‰§è¡Œã€çº¿ç¨‹å®‰å…¨</li>
<li><strong>å¹¶è¡Œé˜Ÿåˆ—</strong>ï¼šç‹¬ç«‹ä»»åŠ¡ã€æ€§èƒ½ä¼˜åŒ–</li>
</ul>
<h4 data-id="heading-114">2. æ§åˆ¶å¹¶å‘æ•°é‡</h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// ä½¿ç”¨ä¿¡å·é‡æ§åˆ¶å¹¶å‘æ•°</span>
<span class="hljs-keyword">let</span> semaphore <span class="hljs-operator">=</span> <span class="hljs-type">DispatchSemaphore</span>(value: <span class="hljs-number">5</span>)
</code></pre>
<h4 data-id="heading-115">3. é¿å…è¿‡åº¦ä½¿ç”¨ sync</h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// âŒ è¿‡åº¦ä½¿ç”¨ sync ä¼šé˜»å¡çº¿ç¨‹</span>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">1</span><span class="hljs-operator">...</span><span class="hljs-number">100</span> {
    queue.sync {
        process(i)
    }
}

<span class="hljs-comment">// âœ… ä½¿ç”¨ async æé«˜æ€§èƒ½</span>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">1</span><span class="hljs-operator">...</span><span class="hljs-number">100</span> {
    queue.async {
        process(i)
    }
}
</code></pre>
<h4 data-id="heading-116">4. ä½¿ç”¨åˆé€‚çš„ QoS</h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// æ ¹æ®ä»»åŠ¡é‡è¦æ€§è®¾ç½®ä¼˜å…ˆçº§</span>
<span class="hljs-type">DispatchQueue</span>.global(qos: .userInteractive).async {
    <span class="hljs-comment">// ç”¨æˆ·äº¤äº’ç›¸å…³</span>
}

<span class="hljs-type">DispatchQueue</span>.global(qos: .background).async {
    <span class="hljs-comment">// åå°ä»»åŠ¡</span>
}
</code></pre>
<hr/>
<h3 data-id="heading-117">ä¹ã€é¢è¯•å¸¸è§é—®é¢˜</h3>
<h4 data-id="heading-118">Q1: GCD å’Œ OperationQueue çš„åŒºåˆ«ï¼Ÿ</h4>
<p><strong>å›ç­”è¦ç‚¹ï¼š</strong></p>
<ul>
<li>GCD æ›´åº•å±‚ï¼ŒåŸºäº C è¯­è¨€ï¼Œæ€§èƒ½æ›´å¥½</li>
<li>OperationQueue åŸºäº GCDï¼Œæä¾›æ›´å¤šåŠŸèƒ½ï¼ˆä¾èµ–ã€å–æ¶ˆã€ä¼˜å…ˆçº§ï¼‰</li>
<li>GCD é€‚åˆç®€å•ä»»åŠ¡ï¼ŒOperationQueue é€‚åˆå¤æ‚ä»»åŠ¡ç®¡ç†</li>
</ul>
<h4 data-id="heading-119">Q2: å¦‚ä½•å®ç°çº¿ç¨‹å®‰å…¨ï¼Ÿ</h4>
<p><strong>å›ç­”è¦ç‚¹ï¼š</strong></p>
<ol>
<li>ä½¿ç”¨ä¸²è¡Œé˜Ÿåˆ—ä¿æŠ¤å…±äº«èµ„æº</li>
<li>ä½¿ç”¨é”æœºåˆ¶ï¼ˆNSLockã€NSRecursiveLockï¼‰</li>
<li>ä½¿ç”¨ <code>DispatchBarrier</code> å®ç°è¯»å†™é”</li>
<li>ä½¿ç”¨åŸå­æ“ä½œï¼ˆatomicï¼‰</li>
</ol>
<h4 data-id="heading-120">Q3: DispatchGroup å’Œ DispatchSemaphore çš„åŒºåˆ«ï¼Ÿ</h4>
<p><strong>å›ç­”è¦ç‚¹ï¼š</strong></p>
<ul>
<li>DispatchGroupï¼šç®¡ç†å¤šä¸ªä»»åŠ¡ï¼Œç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆ</li>
<li>DispatchSemaphoreï¼šæ§åˆ¶å¹¶å‘æ•°é‡ï¼Œé™åˆ¶åŒæ—¶æ‰§è¡Œçš„ä»»åŠ¡æ•°</li>
</ul>
<h4 data-id="heading-121">Q4: å¦‚ä½•é¿å…æ­»é”ï¼Ÿ</h4>
<p><strong>å›ç­”è¦ç‚¹ï¼š</strong></p>
<ol>
<li>é¿å…åœ¨ä¸»çº¿ç¨‹ä½¿ç”¨ <code>DispatchQueue.main.sync</code></li>
<li>é¿å…åœ¨ä¸²è¡Œé˜Ÿåˆ—ä¸­åµŒå¥—åŒæ­¥è°ƒç”¨</li>
<li>ä½¿ç”¨ <code>async</code> ä»£æ›¿ <code>sync</code></li>
<li>ä½¿ç”¨ä¸åŒçš„é˜Ÿåˆ—é¿å…å¾ªç¯ç­‰å¾…</li>
</ol>
<hr/>
<h3 data-id="heading-122">åã€æ€»ç»“</h3>
<h4 data-id="heading-123">GCD æ ¸å¿ƒè¦ç‚¹</h4>
<ol>
<li><strong>é˜Ÿåˆ—ç±»å‹</strong>ï¼šä¸²è¡Œé˜Ÿåˆ— vs å¹¶è¡Œé˜Ÿåˆ—</li>
<li><strong>æ‰§è¡Œæ–¹å¼</strong>ï¼šåŒæ­¥ï¼ˆsyncï¼‰vs å¼‚æ­¥ï¼ˆasyncï¼‰</li>
<li><strong>ç³»ç»Ÿé˜Ÿåˆ—</strong>ï¼šä¸»é˜Ÿåˆ—ï¼ˆmainï¼‰vs å…¨å±€é˜Ÿåˆ—ï¼ˆglobalï¼‰</li>
<li><strong>é«˜çº§ç‰¹æ€§</strong>ï¼šGroupã€Semaphoreã€Barrierã€Source</li>
</ol>
<h4 data-id="heading-124">æœ€ä½³å®è·µ</h4>
<ol>
<li>âœ… å¤§å¤šæ•°æƒ…å†µä½¿ç”¨ <code>async</code></li>
<li>âœ… UI æ›´æ–°å¿…é¡»åœ¨ä¸»é˜Ÿåˆ—</li>
<li>âœ… è€—æ—¶æ“ä½œæ”¾åœ¨åå°é˜Ÿåˆ—</li>
<li>âœ… ä½¿ç”¨ä¸²è¡Œé˜Ÿåˆ—ä¿æŠ¤å…±äº«èµ„æº</li>
<li>âœ… ä½¿ç”¨ä¿¡å·é‡æ§åˆ¶å¹¶å‘æ•°</li>
<li>âœ… æ³¨æ„å¾ªç¯å¼•ç”¨å’Œçº¿ç¨‹å®‰å…¨</li>
</ol>
<h4 data-id="heading-125">é¢è¯•å›ç­”æ¨¡æ¿</h4>
<p><strong>é—®é¢˜ï¼šä»‹ç»ä¸€ä¸‹ GCDï¼Ÿ</strong></p>
<blockquote>
<p>"GCD æ˜¯ Grand Central Dispatch çš„ç¼©å†™ï¼Œæ˜¯ iOS å¼€å‘ä¸­æœ€å¸¸ç”¨çš„å¤šçº¿ç¨‹æ–¹æ¡ˆã€‚</p>
<p><strong>æ ¸å¿ƒæ¦‚å¿µï¼š</strong></p>
<ul>
<li>é˜Ÿåˆ—åˆ†ä¸ºä¸²è¡Œé˜Ÿåˆ—å’Œå¹¶è¡Œé˜Ÿåˆ—</li>
<li>æ‰§è¡Œæ–¹å¼åˆ†ä¸ºåŒæ­¥å’Œå¼‚æ­¥</li>
<li>ä¸»é˜Ÿåˆ—ç”¨äº UI æ›´æ–°ï¼Œå…¨å±€é˜Ÿåˆ—ç”¨äºåå°ä»»åŠ¡</li>
</ul>
<p><strong>å¸¸ç”¨åŠŸèƒ½ï¼š</strong></p>
<ul>
<li><code>dispatch_async</code> å¼‚æ­¥æ‰§è¡Œä»»åŠ¡</li>
<li><code>DispatchGroup</code> ç®¡ç†å¤šä¸ªå¼‚æ­¥ä»»åŠ¡</li>
<li><code>DispatchSemaphore</code> æ§åˆ¶å¹¶å‘æ•°é‡</li>
<li><code>DispatchBarrier</code> å®ç°è¯»å†™é”</li>
<li><code>DispatchSource</code> ç›‘å¬ç³»ç»Ÿäº‹ä»¶</li>
</ul>
<p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p>
<ul>
<li>ä¸»é˜Ÿåˆ—åŒæ­¥è°ƒç”¨ä¼šæ­»é”</li>
<li>è€—æ—¶æ“ä½œæ”¾åœ¨åå°é˜Ÿåˆ—ï¼ŒUI æ›´æ–°å›åˆ°ä¸»é˜Ÿåˆ—</li>
<li>æ³¨æ„çº¿ç¨‹å®‰å…¨å’Œå†…å­˜ç®¡ç†ï¼ˆå¾ªç¯å¼•ç”¨ï¼‰</li>
</ul>
<p>æˆ‘åœ¨é¡¹ç›®ä¸­å¸¸ç”¨ GCD å¤„ç†ç½‘ç»œè¯·æ±‚ã€å›¾ç‰‡åŠ è½½ã€æ•°æ®å¤„ç†ç­‰å¼‚æ­¥ä»»åŠ¡ï¼Œç¡®ä¿ä¸»çº¿ç¨‹ä¸è¢«é˜»å¡ï¼Œä¿è¯ UI æµç•…æ€§ã€‚"</p>
</blockquote>
<hr/>
<p><em>æœ€åæ›´æ–°ï¼š2024</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue 3.6 é‡ç£…æ–°ç‰¹æ€§ï¼šVapor Mode æ·±åº¦è§£æ]]></title>    <link>https://juejin.cn/post/7595021656428724251</link>    <guid>https://juejin.cn/post/7595021656428724251</guid>    <pubDate>2026-01-14T14:32:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595021656428724251" data-draft-id="7595041883145388078" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" Vue 3.6 é‡ç£…æ–°ç‰¹æ€§ï¼šVapor Mode æ·±åº¦è§£æ"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2026-01-14T14:32:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¦‚æœä½ å¥½"/> <meta itemprop="url" content="https://juejin.cn/user/2272012281328215"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             Vue 3.6 é‡ç£…æ–°ç‰¹æ€§ï¼šVapor Mode æ·±åº¦è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2272012281328215/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¦‚æœä½ å¥½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-14T14:32:57.000Z" title="Wed Jan 14 2026 14:32:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Vue 3.6 é‡ç£…æ–°ç‰¹æ€§ï¼šVapor Mode æ·±åº¦è§£æï¼Œè·³è¿‡è™šæ‹Ÿ DOM å®ç°æ€§èƒ½é£™å‡</h2>
<blockquote>
<p>ğŸ”¥  Vue 3.6 å¸¦æ¥çš„ Vapor Mode å ªç§°å‰ç«¯æ€§èƒ½ä¼˜åŒ–çš„</p>
</blockquote>
<p>Vue 3.6 å¼•å…¥çš„ <strong>Vapor Mode</strong>ï¼Œæ­£æ˜¯ä¸ºè§£å†³è¿™ä¸€ç—›ç‚¹è€Œç”Ÿã€‚å®ƒå½»åº•è·³è¿‡è™šæ‹Ÿ DOM ç¯èŠ‚ï¼Œé€šè¿‡ç¼–è¯‘æ—¶ä¼˜åŒ–ç›´æ¥ç”Ÿæˆé«˜æ•ˆçš„åŸç”Ÿ DOM æ“ä½œä»£ç ï¼Œåœ¨é™æ€å†…å®¹å±…å¤šçš„åœºæ™¯ä¸‹å®ç°äº†è´¨çš„æ€§èƒ½é£è·ƒã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä»åŸç†åˆ°å®æˆ˜ï¼Œä¸€æ­¥æ­¥åƒé€ Vapor Modeã€‚</p>
<h3 data-id="heading-1">ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦ Vapor Modeï¼Ÿä¼ ç»Ÿè™šæ‹Ÿ DOM çš„ç“¶é¢ˆ</h3>
<p>è¦ç†è§£ Vapor Mode çš„ä»·å€¼ï¼Œé¦–å…ˆè¦æ˜ç¡®ä¼ ç»Ÿè™šæ‹Ÿ DOM æ¨¡å¼çš„æ€§èƒ½å¼€é”€ç‚¹ã€‚æˆ‘ä»¬å…ˆå›é¡¾ä¸€ä¸‹ä¼ ç»Ÿ Vue ç»„ä»¶çš„æ¸²æŸ“æµç¨‹ï¼š</p>
<ol>
<li>
<p>ç»„ä»¶åˆå§‹åŒ–/æ›´æ–°æ—¶ï¼Œé€šè¿‡ <code>h</code> å‡½æ•°åˆ›å»ºè™šæ‹Ÿ DOM èŠ‚ç‚¹ï¼ˆVNodeï¼‰ï¼›</p>
</li>
<li>
<p>æ„å»ºå®Œæ•´çš„ VNode æ ‘ï¼Œç”¨äºæè¿°å½“å‰é¡µé¢çš„ DOM ç»“æ„ï¼›</p>
</li>
<li>
<p>æ›´æ–°é˜¶æ®µï¼Œé€šè¿‡ diff ç®—æ³•éå†æ–°æ—§ VNode æ ‘ï¼Œæ‰¾å‡ºå·®å¼‚èŠ‚ç‚¹ï¼›</p>
</li>
<li>
<p>å°†å·®å¼‚èŠ‚ç‚¹è½¬æ¢ä¸ºçœŸå® DOM æ“ä½œï¼Œå®Œæˆé¡µé¢æ›´æ–°ã€‚</p>
</li>
</ol>
<ul>
<li>
<p>VNode åˆ›å»ºå¼€é”€ï¼šæ¯æ¬¡æ¸²æŸ“éƒ½è¦åˆ›å»ºå¤§é‡ VNode å¯¹è±¡ï¼Œå ç”¨ CPU å’Œå†…å­˜ï¼›</p>
</li>
<li>
<p>diff ç®—æ³•å¼€é”€ï¼šå³ä½¿é¡µé¢æ— ä»»ä½•å˜åŒ–ï¼Œä¹Ÿå¯èƒ½è§¦å‘ä¸å¿…è¦çš„ diff å¯¹æ¯”ï¼›</p>
</li>
<li>
<p>ä¸­é—´å±‚è½¬æ¢å¼€é”€ï¼šVNode æœ€ç»ˆéœ€è¦æ˜ å°„ä¸ºçœŸå® DOM æ“ä½œï¼Œå¤šä¸€å±‚è½¬æ¢å°±å¤šä¸€å±‚æŸè€—ã€‚</p>
</li>
</ul>
<p>Vapor Mode æ­£æ˜¯é’ˆå¯¹è¿™äº›åœºæ™¯ï¼Œé€šè¿‡ã€Œç æ‰ä¸­é—´å±‚ã€çš„æ€è·¯ï¼Œå®ç°äº†æ€§èƒ½çš„æè‡´ä¼˜åŒ–ã€‚</p>
<h3 data-id="heading-2">äºŒã€Vapor Mode æ ¸å¿ƒåŸç†ï¼šè·³è¿‡è™šæ‹Ÿ DOMï¼Œç›´æ¥ç¼–è¯‘åŸç”Ÿ DOM æ“ä½œ</h3>
<h4 data-id="heading-3">1. æ ¸å¿ƒç†å¿µ</h4>
<p>Vapor Mode çš„æ ¸å¿ƒæ€æƒ³å¯ä»¥æ¦‚æ‹¬ä¸ºã€Œ<strong>ç¼–è¯‘æ—¶æœ€å¤§åŒ–ä¼˜åŒ–ï¼Œè¿è¡Œæ—¶æœ€å°åŒ–å¼€é”€</strong>ã€ï¼š</p>
<ul>
<li>
<p>è·³è¿‡è™šæ‹Ÿ DOMï¼šä¸å†ç”Ÿæˆ VNode æ ‘ï¼Œä¹Ÿä¸æ‰§è¡Œ diff ç®—æ³•ï¼›</p>
</li>
<li>
<p>ç¼–è¯‘æ—¶ç”ŸæˆåŸç”Ÿ DOM ä»£ç ï¼šå°†æ¨¡æ¿ç›´æ¥ç¼–è¯‘ä¸º <code>document.createElement</code>ã€<code>element.textContent</code>ã€<code>element.setAttribute</code> ç­‰åŸç”Ÿ DOM æ“ä½œï¼›</p>
</li>
<li>
<p>é™æ€å†…å®¹æè‡´ä¼˜åŒ–ï¼šå¯¹äºå®Œå…¨é™æ€çš„å†…å®¹ï¼Œç¼–è¯‘åç”Ÿæˆä¸€æ¬¡æ€§æ¸²æŸ“ä»£ç ï¼Œæ— ä»»ä½•è¿è¡Œæ—¶é¢å¤–å¼€é”€ã€‚</p>
</li>
</ul>
<h3 data-id="heading-4">ä¸‰ã€å®æˆ˜ç¤ºä¾‹ï¼šå¦‚ä½•å¼€å¯å¹¶ä½¿ç”¨ Vapor Mode</h3>
<p>Vapor Mode ä»…æ”¯æŒ Vue 3.6+ ç‰ˆæœ¬ï¼Œéœ€é€šè¿‡ç¼–è¯‘é€‰é¡¹å¼€å¯ã€‚ä¸‹é¢åˆ†åˆ«ç»™å‡º <strong>Vite</strong> å’Œ <strong>Vue CLI</strong> ä¸¤ä¸ªä¸»æµæ„å»ºå·¥å…·çš„å®Œæ•´ç¤ºä¾‹ï¼Œè¦†ç›–ã€Œé™æ€å®˜ç½‘é¡µé¢ã€å’Œã€Œç®€å•ä¿¡æ¯å±•ç¤ºç»„ä»¶ã€ä¸¤ä¸ªå…¸å‹åœºæ™¯ã€‚</p>
<h4 data-id="heading-5">å‰ç½®æ¡ä»¶ï¼šå‡çº§ Vue ç‰ˆæœ¬</h4>
<p>é¦–å…ˆç¡®ä¿é¡¹ç›® Vue ç‰ˆæœ¬å‡çº§è‡³ 3.6 åŠä»¥ä¸Šï¼š</p>
<pre><code class="hljs language-bash" lang="bash">
<span class="hljs-comment"># npm</span>
npm install vue@^3.6.0 --save

<span class="hljs-comment"># yarn</span>
yarn add vue@^3.6.0
</code></pre>
<h4 data-id="heading-6">ç¤ºä¾‹ 1ï¼šVite é¡¹ç›®å¼€å¯ Vapor Modeï¼ˆé™æ€å®˜ç½‘é¡µé¢ï¼‰</h4>
<p>æ¡ˆä¾‹ï¼šä¼ä¸šå®˜ç½‘é¦–é¡µï¼ŒåŒ…å«å¯¼èˆªæ ã€banner å›¾ã€äº§å“ä»‹ç»ã€è”ç³»æˆ‘ä»¬ç­‰é™æ€å†…å®¹ï¼Œå‡ ä¹æ— åŠ¨æ€æ›´æ–°é€»è¾‘ï¼Œéå¸¸é€‚åˆ Vapor Modeã€‚</p>
<h5 data-id="heading-7">æ­¥éª¤ 1ï¼šé…ç½® Vite ç¼–è¯‘é€‰é¡¹</h5>
<p>ä¿®æ”¹ <code>vite.config.js</code>ï¼Œé€šè¿‡ <code>@vitejs/plugin-vue</code> é…ç½® Vue ç¼–è¯‘å™¨é€‰é¡¹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>;
<span class="hljs-keyword">import</span> vue <span class="hljs-keyword">from</span> <span class="hljs-string">'@vitejs/plugin-vue'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-title function_">vue</span>({
      <span class="hljs-attr">compilerOptions</span>: {
        <span class="hljs-attr">mode</span>: <span class="hljs-string">'vapor'</span> <span class="hljs-comment">// æ ¸å¿ƒé…ç½®ï¼šå¼€å¯ Vapor Mode</span>
      }
    })
  ]
});
</code></pre>
<h5 data-id="heading-8">æ­¥éª¤ 2ï¼šç¼–å†™é™æ€å®˜ç½‘ç»„ä»¶</h5>
<p>åˆ›å»º<code>src/components/CompanyHome.vue</code>ï¼ŒåŒ…å«å¯¼èˆªã€bannerã€äº§å“ä»‹ç»ç­‰é™æ€å†…å®¹ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">
&lt;template&amp;gt;
  &amp;lt;div class="company-home"&amp;gt;
    &lt;!-- å¯¼èˆªæ ï¼ˆé™æ€ï¼‰ --&gt;
    &lt;nav class="nav"&gt;
      &lt;div class="logo"&gt;Vue ç§‘æŠ€&lt;/div&gt;
      &lt;ul class="nav-list"&gt;
        &lt;li&gt;&lt;a href="#home"&gt;é¦–é¡µ&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href="#product"&gt;äº§å“ä¸­å¿ƒ&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href="#about"&gt;å…³äºæˆ‘ä»¬&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href="#contact"&gt;è”ç³»æˆ‘ä»¬&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/nav&gt;&lt;!-- Banner å›¾ï¼ˆé™æ€ï¼‰ --&gt;
    &lt;div class="banner"&gt;
      &lt;img src="/banner.jpg" alt="ä¼ä¸šBanner"&gt;
    &lt;/div&amp;gt;

    &lt;!-- äº§å“ä»‹ç»ï¼ˆé™æ€ï¼‰ --&gt;
    &lt;section id="product" class="product-section"&gt;
      &lt;h2 class="section-title"&gt;äº§å“ä¸­å¿ƒ&lt;/h2&gt;
      &lt;div class="product-list"&gt;
        &lt;div class="product-item"&gt;
          &lt;img src="/product1.jpg" alt="äº§å“1"&gt;
          &lt;h3&gt;Vue æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆ&lt;/h3&gt;
          &lt;p&gt;åŸºäº Vapor Mode çš„å‰ç«¯æ€§èƒ½ä¼˜åŒ–æœåŠ¡ï¼ŒåŠ©åŠ›é¡¹ç›®æ€§èƒ½é£™å‡&lt;/p&gt;
        &lt;/div&gt;
        &lt;div class="product-item"&gt;
          &lt;img src="/product2.jpg" alt="äº§å“2"&gt;
          &lt;h3&gt;è·¨å¹³å°å¼€å‘æ¡†æ¶&lt;/h3&gt;
          &lt;p&gt;ä¸€å¥—ä»£ç é€‚é…å¤šç«¯ï¼Œå…¼é¡¾æ€§èƒ½ä¸å¼€å‘æ•ˆç‡&lt;/p&gt;
        &lt;/div&gt;
        &lt;div class="product-item"&gt;
          &lt;img src="/product3.jpg" alt="äº§å“3"&gt;
          &lt;h3&gt;å‰ç«¯ç›‘æ§ç³»ç»Ÿ&lt;/h3&gt;
          &lt;p&gt;å®æ—¶ç›‘æ§é¡¹ç›®æ€§èƒ½ï¼Œç²¾å‡†å®šä½é—®é¢˜&lt;/p&gt;
        &lt;/div&gt;
      &lt;/div&amp;gt;
    &amp;lt;/section&amp;gt;

    &lt;!-- è”ç³»æˆ‘ä»¬ï¼ˆé™æ€ï¼‰ --&gt;
    &lt;section id="contact" class="contact-section"&gt;
      &lt;h2 class="section-title"&gt;è”ç³»æˆ‘ä»¬&lt;/h2&gt;
      &lt;p&gt;åœ°å€ï¼šåŒ—äº¬å¸‚æœé˜³åŒº XX å¤§å¦ 15 å±‚&lt;/p&gt;
      &lt;p&gt;ç”µè¯ï¼š400-123-4567&lt;/p&gt;
      &lt;p&gt;é‚®ç®±ï¼šcontact@vue-tech.com&lt;/p&gt;
    &lt;/section&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
// æ— åŠ¨æ€é€»è¾‘ï¼Œä»…é™æ€å±•ç¤º
&lt;/script&gt;

&lt;style scoped&gt;
.company-home {
  width: 1200px;
  margin: 0 auto;
}

.nav {
  display: flex;
  justify-content: space-between;
  align-items: center;
  height: 60px;
  border-bottom: 1px solid #eee;
}

.logo {
  font-size: 24px;
  font-weight: bold;
  color: #42b983;
}

.nav-list {
  display: flex;
  list-style: none;
}

.nav-list li {
  margin-left: 30px;
}

.nav-list a {
  text-decoration: none;
  color: #333;
  font-size: 16px;
}

.banner img {
  width: 100%;
  height: 400px;
  object-fit: cover;
  margin: 20px 0;
}

.section-title {
  font-size: 28px;
  text-align: center;
  margin: 40px 0 20px;
  color: #333;
}

.product-list {
  display: flex;
  justify-content: space-between;
  margin: 40px 0;
}

.product-item {
  width: 30%;
  text-align: center;
}

.product-item img {
  width: 100%;
  height: 200px;
  object-fit: cover;
  border-radius: 8px;
}

.product-item h3 {
  margin: 15px 0;
  color: #333;
}

.product-item p {
  color: #666;
  line-height: 1.5;
}

.contact-section {
  text-align: center;
  padding: 40px 0;
  background-color: #f5f5f5;
  border-radius: 8px;
  margin: 40px 0;
}

.contact-section p {
  color: #666;
  line-height: 1.8;
  font-size: 16px;
}
&lt;/style&gt;
</code></pre>
<h5 data-id="heading-9">æ­¥éª¤ 3ï¼šåœ¨ App.vue ä¸­å¼•å…¥ç»„ä»¶</h5>
<pre><code class="hljs language-vue" lang="vue">
&lt;template&gt;
  &lt;CompanyHome /&gt;
&lt;/template&gt;

&lt;script setup&gt;
import CompanyHome from './components/CompanyHome.vue';
&lt;/script&gt;

&lt;style&gt;
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Microsoft YaHei', sans-serif;
}
&lt;/style&gt;
</code></pre>
<h5 data-id="heading-10">æ­¥éª¤ 4ï¼šè¿è¡Œå¹¶éªŒè¯æ•ˆæœ</h5>
<p>æ‰§è¡Œ <code>npm run dev</code> å¯åŠ¨é¡¹ç›®ï¼Œæ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·çš„ã€ŒPerformanceã€é¢æ¿ï¼Œå½•åˆ¶é¡µé¢é¦–æ¬¡åŠ è½½è¿‡ç¨‹ï¼š</p>
<ul>
<li>
<p>æ—  VNode ç›¸å…³å‡½æ•°è°ƒç”¨ï¼ˆå¦‚ <code>createVNode</code>ã€<code>patch</code>ï¼‰ï¼›</p>
</li>
<li>
<p>ç›´æ¥æ‰§è¡Œ <code>document.createElement</code> ç­‰åŸç”Ÿ DOM æ“ä½œï¼›</p>
</li>
<li>
<p>é¦–æ¬¡æ¸²æŸ“è€—æ—¶è¾ƒä¼ ç»Ÿæ¨¡å¼æ˜¾è‘—é™ä½ã€‚</p>
</li>
</ul>
<h4 data-id="heading-11">ç¤ºä¾‹ 2ï¼šVue CLI é¡¹ç›®å¼€å¯ Vapor Modeï¼ˆç®€å•ä¿¡æ¯å±•ç¤ºç»„ä»¶ï¼‰</h4>
<p>åœºæ™¯ï¼šåå°ç®¡ç†ç³»ç»Ÿä¸­çš„ã€Œç”¨æˆ·ä¿¡æ¯è¯¦æƒ…é¡µã€ï¼Œé™¤äº†ç”¨æˆ·åŸºæœ¬ä¿¡æ¯å±•ç¤ºå¤–ï¼Œæ— é¢‘ç¹åŠ¨æ€æ›´æ–°ï¼Œé€‚åˆå¼€å¯ Vapor Mode ä¼˜åŒ–æ¸²æŸ“æ€§èƒ½ã€‚</p>
<h5 data-id="heading-12">æ­¥éª¤ 1ï¼šé…ç½® Vue CLI ç¼–è¯‘é€‰é¡¹</h5>
<p>ä¿®æ”¹ <code>vue.config.js</code>ï¼Œé€šè¿‡ <code>vue-loader</code> é…ç½®ç¼–è¯‘å™¨é€‰é¡¹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">chainWebpack</span>: <span class="hljs-function"><span class="hljs-params">config</span> =&gt;</span> {
    config.<span class="hljs-property">module</span>
      .<span class="hljs-title function_">rule</span>(<span class="hljs-string">'vue'</span>)
      .<span class="hljs-title function_">use</span>(<span class="hljs-string">'vue-loader'</span>)
      .<span class="hljs-title function_">tap</span>(<span class="hljs-function"><span class="hljs-params">options</span> =&gt;</span> {
        options.<span class="hljs-property">compilerOptions</span> = {
          ...options.<span class="hljs-property">compilerOptions</span>,
          <span class="hljs-attr">mode</span>: <span class="hljs-string">'vapor'</span> <span class="hljs-comment">// å¼€å¯ Vapor Mode</span>
        };
        <span class="hljs-keyword">return</span> options;
      });
  }
};
</code></pre>
<h5 data-id="heading-13">æ­¥éª¤ 2ï¼šç¼–å†™ç”¨æˆ·ä¿¡æ¯å±•ç¤ºç»„ä»¶</h5>
<p>åˆ›å»º <code>src/components/UserDetail.vue</code>ï¼Œå±•ç¤ºç”¨æˆ·åŸºæœ¬ä¿¡æ¯ï¼ˆé™æ€å†…å®¹ä¸ºä¸»ï¼Œä»…åˆå§‹åŒ–æ—¶åŠ è½½æ•°æ®ï¼‰ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">
&lt;template&gt;
  &lt;div class="user-detail"&gt;
    &lt;h2 class="detail-title"&gt;ç”¨æˆ·ä¿¡æ¯è¯¦æƒ…&lt;/h2&gt;
    &lt;div class="detail-content"&gt;
      &lt;div class="detail-item"&gt;
        &lt;span class="label"&gt;ç”¨æˆ· IDï¼š&lt;/span&gt;
        &lt;span class="value"&gt;{{ userId }}&lt;/span&gt;
      &lt;/div&gt;
      &lt;div class="detail-item"&gt;
        &lt;span class="label"&gt;ç”¨æˆ·åï¼š&lt;/span&gt;
        &lt;span class="value"&gt;{{ username }}&lt;/span&gt;
      &lt;/div&gt;
      &lt;div class="detail-item"&gt;
        &lt;span class="label"&gt;æ€§åˆ«ï¼š&lt;/span&gt;
        &lt;span class="value"&gt;{{ gender }}&lt;/span&gt;
      &lt;/div&gt;
      &lt;div class="detail-item"&gt;
        &lt;span class="label"&gt;é‚®ç®±ï¼š&lt;/span&gt;
        &lt;span class="value"&gt;{{ email }}&lt;/span&gt;
      &lt;/div&gt;
      &lt;div class="detail-item"&gt;
        &lt;span class="label"&gt;æ³¨å†Œæ—¶é—´ï¼š&lt;/span&gt;
        &lt;span class="value"&gt;{{ registerTime }}&lt;/span&gt;
      &lt;/div&gt;
      &lt;div class="detail-item"&gt;
        &lt;span class="label"&gt;è´¦å·çŠ¶æ€ï¼š&lt;/span&gt;
        &lt;span class="value status-normal"&gt;æ­£å¸¸&lt;/span&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { onMounted, ref } from 'vue';

// åˆå§‹åŒ–æ•°æ®ï¼ˆä»…åŠ è½½ä¸€æ¬¡ï¼Œæ— åç»­æ›´æ–°ï¼‰
const userId = ref('');
const username = ref('');
const gender = ref('');
const email = ref('');
const registerTime = ref('');

onMounted(() =&gt; {
  // æ¨¡æ‹Ÿæ¥å£è¯·æ±‚è·å–ç”¨æˆ·æ•°æ®
  setTimeout(() =&gt; {
    userId.value = 'U20240601001';
    username.value = 'å¼ ä¸‰';
    gender.value = 'ç”·';
    email.value = 'zhangsan@example.com';
    registerTime.value = '2024-06-01 10:30:00';
  }, 500);
});
&lt;/script&gt;

&lt;style scoped&gt;
.user-detail {
  width: 800px;
  margin: 40px auto;
  padding: 30px;
  border: 1px solid #eee;
  border-radius: 8px;
  background-color: #fff;
}

.detail-title {
  font-size: 24px;
  color: #333;
  margin-bottom: 25px;
  border-bottom: 1px solid #eee;
  padding-bottom: 15px;
}

.detail-content {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.detail-item {
  display: flex;
  align-items: center;
}

.label {
  font-size: 16px;
  color: #666;
  width: 100px;
  text-align: right;
  margin-right: 20px;
}

.value {
  font-size: 16px;
  color: #333;
}

.status-normal {
  color: #42b983;
  font-weight: bold;
}
&lt;/style&gt;
</code></pre>
<h5 data-id="heading-14">æ­¥éª¤ 3ï¼šå¼•å…¥ç»„ä»¶å¹¶è¿è¡Œ</h5>
<p>åœ¨ App.vue ä¸­å¼•å…¥ <code>UserDetail</code> ç»„ä»¶ï¼Œæ‰§è¡Œ <code>npm run dev</code> å¯åŠ¨é¡¹ç›®ã€‚ç”±äºæ•°æ®ä»…åˆå§‹åŒ–åŠ è½½ä¸€æ¬¡ï¼Œåç»­æ— åŠ¨æ€æ›´æ–°ï¼ŒVapor Mode ä¼šè·³è¿‡è™šæ‹Ÿ DOM çš„ diff ç¯èŠ‚ï¼ŒåŠ è½½å®Œæˆåçš„é¡µé¢æ¸²æŸ“æ€§èƒ½å¤§å¹…æå‡ã€‚</p>
<h3 data-id="heading-15">å››ã€ä¼ ç»Ÿæ¨¡å¼ vs Vapor Mode æ ¸å¿ƒå¯¹æ¯”</h3>
<p>ä¸ºäº†æ›´æ¸…æ™°åœ°é€‰æ‹©åˆé€‚çš„æ¨¡å¼ï¼Œæˆ‘ä»¬æ•´ç†äº†æ ¸å¿ƒç‰¹æ€§å¯¹æ¯”è¡¨ï¼š</p>








































<table><thead><tr><th>ç‰¹æ€§</th><th>ä¼ ç»Ÿè™šæ‹Ÿ DOM æ¨¡å¼</th><th>Vapor Mode æ¨¡å¼</th></tr></thead><tbody><tr><td>æ¸²æŸ“æœºåˆ¶</td><td>VNode æ„å»º + diff å¯¹æ¯” + DOM æ›´æ–°</td><td>ç›´æ¥ç”ŸæˆåŸç”Ÿ DOM æ“ä½œä»£ç ï¼Œæ—  VNode/diff</td></tr><tr><td>æ€§èƒ½è¡¨ç°</td><td>ä¸­ç­‰ï¼Œå­˜åœ¨ä¸­é—´å±‚å¼€é”€</td><td>æ›´é«˜ï¼Œé™æ€å†…å®¹æ¸²æŸ“ä¼˜åŠ¿æ˜æ˜¾</td></tr><tr><td>è¿è¡Œæ—¶ä½“ç§¯</td><td>è¾ƒå¤§ï¼ŒåŒ…å«è™šæ‹Ÿ DOM æ ¸å¿ƒä»£ç </td><td>æ›´å°ï¼Œå‰”é™¤è™šæ‹Ÿ DOM ç›¸å…³ä»£ç </td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>åŠ¨æ€å†…å®¹ä¸°å¯Œã€é¢‘ç¹æ›´æ–°ï¼ˆå¦‚å¤æ‚è¡¨å•ã€å®æ—¶æ•°æ®çœ‹æ¿ï¼‰</td><td>é™æ€å†…å®¹å¤šã€æ›´æ–°é¢‘ç‡ä½ï¼ˆå¦‚å®˜ç½‘ã€æ–‡æ¡£ã€ä¿¡æ¯è¯¦æƒ…é¡µï¼‰</td></tr><tr><td>çµæ´»æ€§</td><td>é«˜ï¼Œæ”¯æŒè·¨å¹³å°ã€å¤æ‚åŠ¨æ€é€»è¾‘</td><td>ä¸­ç­‰ï¼Œä¸“æ³¨äºæµè§ˆå™¨ DOM æ¸²æŸ“</td></tr><tr><td>é…ç½®æˆæœ¬</td><td>æ— ï¼Œé»˜è®¤å¼€å¯</td><td>ä½ï¼Œä»…éœ€æ·»åŠ ç¼–è¯‘é€‰é¡¹</td></tr></tbody></table>
<h3 data-id="heading-16">äº”ã€é¿å‘</h3>
<ul>
<li>
<p>å¼€å¯ Vapor Mode åï¼Œé¿å…ä½¿ç”¨è™šæ‹Ÿ DOM ç›¸å…³ APIï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´æŠ¥é”™ï¼›</p>
</li>
<li>
<p>å¯¹äºæ··åˆé™æ€å’ŒåŠ¨æ€å†…å®¹çš„é¡µé¢ï¼Œå¯å°†é™æ€éƒ¨åˆ†æŠ½ç¦»ä¸ºç‹¬ç«‹ç»„ä»¶ï¼Œå•ç‹¬å¼€å¯ Vapor Modeï¼ŒåŠ¨æ€éƒ¨åˆ†ä¿ç•™ä¼ ç»Ÿæ¨¡å¼ï¼›</p>
</li>
<li>
<p>æµ‹è¯•ç¯å¢ƒå»ºè®®å…ˆå°èŒƒå›´è¯•ç‚¹ï¼ˆå¦‚å•ä¸ªé™æ€é¡µé¢ï¼‰ï¼ŒéªŒè¯åŠŸèƒ½æ­£å¸¸åå†é€æ­¥æ¨å¹¿ï¼›</p>
</li>
<li>
<p>Vapor Mode ä»åœ¨æŒç»­è¿­ä»£ä¼˜åŒ–ï¼Œéƒ¨åˆ†é«˜çº§ç‰¹æ€§ï¼ˆå¦‚ <code>teleport</code>ã€<code>suspense</code>ï¼‰çš„æ”¯æŒå¯èƒ½ä¸å®Œå–„ï¼Œå»ºè®®å…³æ³¨ Vue å®˜æ–¹æ›´æ–°æ—¥å¿—ã€‚</p>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€ŠVue3 ç»„ä»¶åº“æ­å»ºæŒ‡åŒ—ï¼špnpm + monorepo + ä»£ç æäº¤è§„èŒƒ+ BEM ç¯å¢ƒé…ç½®ã€‹]]></title>    <link>https://juejin.cn/post/7594851429163057186</link>    <guid>https://juejin.cn/post/7594851429163057186</guid>    <pubDate>2026-01-14T14:35:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594851429163057186" data-draft-id="7594851429163024418" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€ŠVue3 ç»„ä»¶åº“æ­å»ºæŒ‡åŒ—ï¼špnpm + monorepo + ä»£ç æäº¤è§„èŒƒ+ BEM ç¯å¢ƒé…ç½®ã€‹"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js"/> <meta itemprop="datePublished" content="2026-01-14T14:35:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§é¸¡çˆª"/> <meta itemprop="url" content="https://juejin.cn/user/1486957885265400"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€ŠVue3 ç»„ä»¶åº“æ­å»ºæŒ‡åŒ—ï¼špnpm + monorepo + ä»£ç æäº¤è§„èŒƒ+ BEM ç¯å¢ƒé…ç½®ã€‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1486957885265400/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§é¸¡çˆª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-14T14:35:36.000Z" title="Wed Jan 14 2026 14:35:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Vue3 ç»„ä»¶åº“æ­å»ºæŒ‡åŒ—ï¼špnpm + monorepo ç¯å¢ƒé…ç½®</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ec5022f09b064b0aa64ec6e55188e2ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn6bih54iq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769006135&amp;x-signature=ZlTQSfb%2B6cSbDxgvo1DnzJEdH8I%3D" alt="cgi-bin_mmwebwx-bin_webwxgetmsgimg_&amp;MsgID=8950145656340265805&amp;skey=@crypt_ded58368_b55261bd837b5d183c332e414732255f&amp;mmweb_appid=wx_webfilehelper.jpeg" loading="lazy"/></p>
<blockquote>
<p>ä½œä¸ºä¸€ä¸ªæœ‰è¿½æ±‚çš„å‰ç«¯å¼€å‘è€…ï¼Œæ‹¥æœ‰ä¸€å¥—è‡ªå·±çš„ç»„ä»¶åº“ä¸ä»…æ˜¯æŠ€æœ¯å®åŠ›çš„è¯æ˜ï¼Œæ›´æ˜¯æå‡å›¢é˜Ÿæ•ˆç‡çš„åˆ©å™¨ã€‚æœ¬æ–‡å°†æ‰‹æŠŠæ‰‹å¸¦ä½ ä½¿ç”¨æœ€æ–°çš„æŠ€æœ¯æ ˆï¼ˆVue3 + Vite + TypeScript + pnpm Monorepoï¼‰ä»é›¶æ­å»ºä¸€ä¸ªä¼ä¸šçº§ç»„ä»¶åº“çš„åŸºç¡€æ¶æ„ã€‚</p>
</blockquote>
<h3 data-id="heading-1">1. ä»€ä¹ˆæ˜¯ Monorepoï¼Ÿï¼ˆä»â€œæ‰¾å·¥å…·â€è¯´èµ·ï¼‰</h3>
<p>åœ¨æ­£å¼åŠ¨æ‰‹å‰ï¼Œæˆ‘ä»¬è¦å…ˆç†è§£ <strong>Monorepoï¼ˆå•ä»£ç ä»“åº“ï¼‰</strong>ã€‚</p>
<p>æƒ³è±¡ä¸€ä¸‹ä½ æ­£åœ¨è£…ä¿®æˆ¿å­ï¼š</p>
<ul>
<li><strong>Multirepoï¼ˆå¤šä»“åº“ï¼‰</strong>ï¼šä½ æŠŠé”¤å­æ”¾åœ¨å§å®¤ï¼Œé”¯å­æ”¾åœ¨å¨æˆ¿ï¼Œèºä¸é’‰æ”¾åœ¨åœ°ä¸‹å®¤ã€‚æ¯æ¬¡ä½ æƒ³é’‰ä¸ªæ¶å­ï¼Œå¾—åœ¨ä¸‰ä¸ªæˆ¿é—´ä¹‹é—´æ¥å›è·‘ã€‚å¦‚æœé”¤å­å‡çº§äº†ï¼Œä½ å¯èƒ½è¿˜å¾—å»å…¶ä»–æˆ¿é—´æ£€æŸ¥é”¯å­è¿˜èƒ½ä¸èƒ½é…åˆã€‚</li>
<li><strong>Monorepoï¼ˆå•ä»“åº“ï¼‰</strong>ï¼šä½ å‡†å¤‡äº†ä¸€ä¸ªå·¨å¤§çš„<strong>ä¸“ä¸šå·¥å…·ç®±</strong>ã€‚é”¤å­ã€é”¯å­ã€èºä¸é’‰å…¨éƒ½æ•´é½åœ°æ‘†åœ¨ä¸åŒçš„éš”å±‚é‡Œã€‚</li>
</ul>
<h4 data-id="heading-2">ä¸ºä»€ä¹ˆç»„ä»¶åº“ä¸€å®šè¦ç”¨ Monorepoï¼Ÿ</h4>
<ol>
<li><strong>â€œè¿‘æ°´æ¥¼å°å…ˆå¾—æœˆâ€ (ä»£ç å…±äº«)</strong>ï¼š
ä½ çš„ç»„ä»¶ä»£ç åœ¨ <code>packages/components</code>ï¼Œæ–‡æ¡£ä»£ç åœ¨ <code>docs</code>ã€‚åœ¨ Monorepo é‡Œï¼Œæ–‡æ¡£å¯ä»¥ç›´æ¥â€œçœ‹åˆ°â€å¹¶ä½¿ç”¨æœ€æ–°çš„ç»„ä»¶ï¼Œä¸éœ€è¦åƒä¼ ç»Ÿæ–¹å¼é‚£æ ·â€”â€”å…ˆç»™ç»„ä»¶å‘ä¸ª NPM åŒ…ï¼Œå†åœ¨æ–‡æ¡£é‡Œä¸‹è½½ã€‚</li>
<li><strong>â€œä¸€äººå¾—é“ï¼Œé¸¡çŠ¬å‡å¤©â€ (ç»Ÿä¸€è§„èŒƒ)</strong>ï¼š
ä½ åªéœ€è¦åœ¨æ ¹ç›®å½•æ”¾ä¸€ä¸ª ESLint é…ç½®æ–‡ä»¶ï¼Œæ•´ä¸ªå·¥å…·ç®±é‡Œçš„æ‰€æœ‰ä»£ç éƒ½ä¼šä¹–ä¹–å¬è¯ï¼Œä¿æŒä¸€æ ·çš„ç¼©è¿›å’Œé£æ ¼ã€‚</li>
<li><strong>â€œä¸€æŸä¿±æŸï¼Œä¸€è£ä¿±è£â€ (ä¾èµ–ä¸€è‡´æ€§)</strong>ï¼š
å¦‚æœä½ æƒ³å‡çº§ Vue ç‰ˆæœ¬ï¼Œåœ¨ Monorepo é‡Œåªéœ€è¦æ”¹ä¸€å¤„ï¼Œæ‰€æœ‰ç›¸å…³çš„æ¼”ç¤ºé¡¹ç›®ã€æ–‡æ¡£ã€ç»„ä»¶åŒ…éƒ½ä¼šåŒæ­¥å‡çº§ï¼Œä¸ä¼šå‡ºç°â€œæ–‡æ¡£ç”¨ Vue3.2ï¼Œç»„ä»¶ç”¨ Vue3.5â€å¯¼è‡´çš„è¯¡å¼‚æŠ¥é”™ã€‚</li>
</ol>
<h4 data-id="heading-3">æ ¸å¿ƒæˆå‘˜ä»‹ç»</h4>
<p>åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­ï¼Œ<code>pnpm</code> æ˜¯ç®¡ç†è¿™ä¸ªå·¨å¤§å·¥å…·ç®±çš„â€œç®¡å®¶â€ã€‚é€šè¿‡ <code>pnpm-workspace.yaml</code>ï¼Œæˆ‘ä»¬åˆ’åˆ†äº†ä¸åŒçš„åŒºåŸŸï¼š</p>
<ul>
<li><strong><code>packages/*</code></strong>ï¼šè¿™é‡Œæ˜¯æ ¸å¿ƒï¼Œå­˜æ”¾ç»„ä»¶åº“ã€å·¥å…·å‡½æ•°ã€ä¸»é¢˜æ ·å¼ã€‚</li>
<li><strong><code>play</code></strong>ï¼šè¿™æ˜¯æˆ‘ä»¬çš„â€œæ²™ç›’â€ï¼Œç”¨æ¥ä¸€è¾¹å†™ç»„ä»¶ä¸€è¾¹é¢„è§ˆæ•ˆæœã€‚</li>
<li><strong><code>docs</code></strong>ï¼šè¿™æ˜¯å‘å¤–ç•Œå±•ç¤ºç»„ä»¶åº“çš„â€œé—¨é¢â€ã€‚</li>
</ul>
<h3 data-id="heading-4">2. ç¯å¢ƒåˆå§‹åŒ–</h3>
<p>é¦–å…ˆï¼Œç¡®ä¿ä½ çš„ Node.js ç‰ˆæœ¬ &gt;= 18ï¼Œå¹¶å…¨å±€å®‰è£… pnpmï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm install -g pnpm
</code></pre>
<p>åˆå§‹åŒ–é¡¹ç›®ç»“æ„ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span> my-antd-ui
<span class="hljs-built_in">cd</span> my-antd-ui
pnpm init
</code></pre>
<p>æ–°å»º <code>pnpm-workspace.yaml</code>ï¼Œå‘Šè¯‰ pnpm è¿™æ˜¯ä¸€ä¸ª workspace é¡¹ç›®ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">packages:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">'packages/*'</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">'play'</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">'docs'</span>
</code></pre>
<p>æ­¤æ—¶çš„ç›®å½•ç»“æ„åº”è¯¥å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-text" lang="text">my-antd-ui/
â”œâ”€â”€ packages/          # å­˜æ”¾æ ¸å¿ƒä»£ç  (components, theme, utils)
â”œâ”€â”€ play/              # æœ¬åœ°è°ƒè¯•é¡¹ç›® (Playground)
â”œâ”€â”€ docs/              # æ–‡æ¡£ç«™ç‚¹ (VitePress)
â”œâ”€â”€ package.json
â””â”€â”€ pnpm-workspace.yaml
</code></pre>
<h3 data-id="heading-5">3. TypeScript é…ç½®</h3>
<p>åœ¨æ ¹ç›®å½•åˆ›å»º <code>tsconfig.json</code>ï¼Œä½œä¸ºæ‰€æœ‰å­é¡¹ç›®çš„åŸºå‡†é…ç½®ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"compilerOptions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"baseUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"."</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"jsx"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"preserve"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"strict"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"target"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ESNext"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"module"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ESNext"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"moduleResolution"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Node"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"skipLibCheck"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"esModuleInterop"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"lib"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"esnext"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"dom"</span><span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-6">4. è§„èŒƒä½“ç³» (Lint &amp; Format)</h3>
<p>æˆ‘ä»¬å¯ä»¥ä¸€æ­¥åˆ°ä½ï¼Œä½¿ç”¨ <code>@antfu/eslint-config</code>ï¼Œå®ƒé›†æˆäº† ESLint å’Œ Prettier çš„æœ€ä½³å®è·µã€‚</p>
<pre><code class="hljs language-bash" lang="bash">pnpm add -D -w eslint prettier @antfu/eslint-config typescript
</code></pre>
<p>æ–°å»º <code>eslint.config.js</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> antfu <span class="hljs-keyword">from</span> <span class="hljs-string">'@antfu/eslint-config'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">antfu</span>({
  <span class="hljs-attr">vue</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">typescript</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">ignores</span>: [<span class="hljs-string">'**/dist'</span>, <span class="hljs-string">'**/node_modules'</span>]
})
</code></pre>
<h3 data-id="heading-7">5. ä»£ç æäº¤è§„èŒƒ (Husky + Commitlint)</h3>
<p>ä¸ºäº†é˜²æ­¢åƒ <code>fix: bug</code> è¿™æ ·éšæ„çš„æäº¤ä¿¡æ¯ï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥ Commitlintã€‚</p>
<pre><code class="hljs language-bash" lang="bash">pnpm add -D -w husky lint-staged @commitlint/cli @commitlint/config-conventional
npx husky init
</code></pre>
<p>åœ¨ <code>.husky/commit-msg</code> ä¸­æ·»åŠ é’©å­ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npx --no -- commitlint --edit <span class="hljs-variable">$1</span>
</code></pre>
<p>æ–°å»º <code>commitlint.config.js</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">extends</span>: [<span class="hljs-string">'@commitlint/config-conventional'</span>]
}
</code></pre>
<p>ç°åœ¨ï¼Œå¦‚æœä½ å°è¯•æäº¤ <code>git commit -m "update"</code>ï¼Œå°†ä¼šè¢«æ‹’ç»ï¼›å¿…é¡»ä½¿ç”¨ <code>git commit -m "feat: add button component"</code> è¿™æ ·ç¬¦åˆè§„èŒƒçš„æ ¼å¼ã€‚</p>
<h3 data-id="heading-8">6. æ ·å¼æ¶æ„è®¾è®¡ï¼šç†è§£ BEM è§„èŒƒ</h3>
<p>åœ¨ç¼–å†™ç»„ä»¶åº“æ ·å¼æ—¶ï¼Œæœ€å¤´ç–¼çš„å°±æ˜¯<strong>æ ·å¼å†²çª</strong>ã€‚å¦‚æœå¤§å®¶éƒ½åœ¨ CSS é‡Œå†™ <code>.item</code>ï¼Œé‚£å…¨å±€æ ·å¼å°±ä¼šä¹±æˆä¸€å›¢ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸»æµç»„ä»¶åº“ï¼ˆå¦‚ Element Plusï¼‰éƒ½é‡‡ç”¨äº† <strong>BEM</strong> å‘½åè§„èŒƒã€‚</p>
<h4 data-id="heading-9">ä»€ä¹ˆæ˜¯ BEMï¼Ÿ</h4>
<p>BEM å°†ç±»åæ‹†è§£ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼š</p>
<ol>
<li><strong>Block (å—)</strong>ï¼šç»„ä»¶çš„æ ¹èŠ‚ç‚¹ã€‚ä¾‹å¦‚ <code>my-button</code>ã€‚</li>
<li><strong>Element (å…ƒç´ )</strong>ï¼šç»„ä»¶å†…éƒ¨çš„å­èŠ‚ç‚¹ã€‚ç”¨åŒä¸‹åˆ’çº¿ <code>__</code> è¿æ¥ã€‚ä¾‹å¦‚ <code>my-button__icon</code>ã€‚</li>
<li><strong>Modifier (ä¿®é¥°ç¬¦)</strong>ï¼šç»„ä»¶çš„ä¸åŒçŠ¶æ€æˆ–å¤–è§‚ã€‚ç”¨åŒè¿å­—ç¬¦ <code>--</code> è¿æ¥ã€‚ä¾‹å¦‚ <code>my-button--primary</code> æˆ– <code>my-button--disabled</code>ã€‚</li>
</ol>
<p><strong>é€šä¿—ä¾‹å­ï¼š</strong>
æƒ³è±¡ä¸€ä¸ªâ€œäººâ€ç»„ä»¶ï¼ˆPersonï¼‰ï¼š</p>
<ul>
<li><code>person</code> (Block)</li>
<li><code>person__hand</code> (Element: äººçš„æ‰‹)</li>
<li><code>person--female</code> (Modifier: å¥³æ€§çš„äºº)</li>
</ul>
<h4 data-id="heading-10">ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆå†™ï¼Ÿ</h4>
<ul>
<li><strong>è¯­ä¹‰æ¸…æ™°</strong>ï¼šä¸€çœ¼å°±èƒ½çœ‹å‡ºè¿™ä¸ªç±»åæ˜¯å±äºå“ªä¸ªç»„ä»¶çš„å“ªä¸ªéƒ¨åˆ†ã€‚</li>
<li><strong>é¿å…å†²çª</strong>ï¼šæ¯ä¸ªç»„ä»¶éƒ½æœ‰ç‹¬ä¸€æ— äºŒçš„å‰ç¼€ï¼ˆNamespaceï¼‰ï¼Œæ ·å¼ä¸ä¼šäº’ç›¸æ±¡æŸ“ã€‚</li>
<li><strong>æ€§èƒ½å‹å¥½</strong>ï¼šå‡å°‘äº† CSS é€‰æ‹©å™¨çš„åµŒå¥—æ·±åº¦ï¼ˆå°½é‡ä¿æŒä¸€çº§ç±»åé€‰æ‹©å™¨ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-11">è‡ªåŠ¨åŒ–å®ç°ï¼šuseNamespace</h4>
<p>åœ¨ <code>packages/utils/src/namespace.ts</code> ä¸­ï¼Œæˆ‘ä»¬å°è£…äº†ä¸€ä¸ªå·¥å…·å‡½æ•°ï¼Œè®©ç±»åçš„ç”Ÿæˆå˜å¾—åŠè‡ªåŠ¨åŒ–ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">useNamespace</span> = (<span class="hljs-params">block: <span class="hljs-built_in">string</span></span>) =&gt; {
  <span class="hljs-keyword">const</span> <span class="hljs-keyword">namespace</span> = 'my' // ä½ çš„ç»„ä»¶åº“å‰ç¼€
  const b = () =&gt; `${<span class="hljs-keyword">namespace</span>}-${block}<span class="hljs-string">` // ç”Ÿæˆ my-button
  const e = (el: string) =&gt; el ? `</span>${<span class="hljs-title function_">b</span>()}__${el}<span class="hljs-string">` : '' // ç”Ÿæˆ my-button__icon
  const m = (mod: string) =&gt; mod ? `</span>${<span class="hljs-title function_">b</span>()}--${mod}<span class="hljs-string">` : '' // ç”Ÿæˆ my-button--primary
  return { b, e, m }
}
</span></code></pre>
<p>åœ¨ Vue ç»„ä»¶ä¸­ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- æœ€ç»ˆç”Ÿæˆ class="my-button my-button--primary" --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">"[ns.b(), ns.m(type)]"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- æœ€ç»ˆç”Ÿæˆ class="my-button__content" --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">"ns.e('content')"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">const</span> ns = <span class="hljs-title function_">useNamespace</span>(<span class="hljs-string">'button'</span>)
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h3 data-id="heading-12">7. ç»“è¯­</h3>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬çš„ç»„ä»¶åº“åœ°åŸºå·²ç»æ‰“ç‰¢ã€‚æˆ‘ä»¬é…ç½®äº†é«˜æ•ˆçš„ Monorepo ç¯å¢ƒï¼Œç»Ÿä¸€äº†ä»£ç è§„èŒƒï¼Œå¹¶è®¾è®¡äº†æ ·å¼æ¶æ„ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†é€æ­¥å®ç°ç»„ä»¶åº“çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œå¹¶ç¼–å†™æ–‡æ¡£å’Œç¤ºä¾‹é¡¹ç›®ã€‚</p>
<p>æ•¬è¯·æœŸå¾…åç»­æ›´æ–°ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•å®ç°æ·±æ‹·è´]]></title>    <link>https://juejin.cn/post/7595043061729181730</link>    <guid>https://juejin.cn/post/7595043061729181730</guid>    <pubDate>2026-01-14T14:42:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595043061729181730" data-draft-id="7595053284914675752" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•å®ç°æ·±æ‹·è´"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-14T14:42:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä»£ç çŒäºº"/> <meta itemprop="url" content="https://juejin.cn/user/624972624037374"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•å®ç°æ·±æ‹·è´
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/624972624037374/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä»£ç çŒäºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-14T14:42:27.000Z" title="Wed Jan 14 2026 14:42:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ·±åº¦æ‹·è´ï¼ˆDeep Copyï¼‰å®ç°è¯¦è§£</h2>
<p>æ·±åº¦æ‹·è´åˆ›å»ºä¸€ä¸ª<strong>å®Œå…¨ç‹¬ç«‹çš„æ–°å¯¹è±¡</strong>ï¼Œé€’å½’å¤åˆ¶åŸå§‹å¯¹è±¡çš„æ‰€æœ‰åµŒå¥—å¯¹è±¡ï¼Œä½¿å¾—æ–°æ—§å¯¹è±¡å®Œå…¨ç‹¬ç«‹ï¼Œäº’ä¸å½±å“ã€‚</p>
<h3 data-id="heading-1">1. JavaScript/TypeScript å®ç°</h3>
<h4 data-id="heading-2">æ–¹æ³•ä¸€ï¼šJSONæ–¹æ³•ï¼ˆæœ€ç®€å•ä½†æœ‰å±€é™æ€§ï¼‰</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> original = { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: { <span class="hljs-attr">c</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">d</span>: [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>] } };
<span class="hljs-keyword">const</span> deepCopy = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(original));
</code></pre>
<p><strong>å±€é™æ€§</strong>ï¼š</p>
<ul>
<li>ä¸èƒ½å¤åˆ¶å‡½æ•°ã€undefinedã€Symbol</li>
<li>ä¸èƒ½å¤„ç†å¾ªç¯å¼•ç”¨</li>
<li>ä¼šå¿½ç•¥åŸå‹é“¾</li>
<li>Dateå¯¹è±¡ä¼šå˜æˆå­—ç¬¦ä¸²</li>
</ul>
<h4 data-id="heading-3">æ–¹æ³•äºŒï¼šé€’å½’å®ç°ï¼ˆæœ€å®Œæ•´ï¼‰</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">deepClone</span>(<span class="hljs-params">obj, hash = <span class="hljs-keyword">new</span> <span class="hljs-built_in">WeakMap</span>()</span>) {
  <span class="hljs-comment">// å¤„ç†åŸºæœ¬ç±»å‹å’Œnull</span>
  <span class="hljs-keyword">if</span> (obj === <span class="hljs-literal">null</span> || <span class="hljs-keyword">typeof</span> obj !== <span class="hljs-string">'object'</span>) <span class="hljs-keyword">return</span> obj;
  
  <span class="hljs-comment">// å¤„ç†Dateå¯¹è±¡</span>
  <span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Date</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(obj);
  
  <span class="hljs-comment">// å¤„ç†RegExpå¯¹è±¡</span>
  <span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">RegExp</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(obj);
  
  <span class="hljs-comment">// å¤„ç†Arrayå¯¹è±¡</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(obj)) {
    <span class="hljs-keyword">const</span> arrCopy = [];
    hash.<span class="hljs-title function_">set</span>(obj, arrCopy); <span class="hljs-comment">// å­˜å‚¨å·²æ‹·è´çš„å¯¹è±¡ï¼Œå¤„ç†å¾ªç¯å¼•ç”¨</span>
    obj.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item, index</span>) =&gt;</span> {
      arrCopy[index] = <span class="hljs-title function_">deepClone</span>(item, hash);
    });
    <span class="hljs-keyword">return</span> arrCopy;
  }
  
  <span class="hljs-comment">// å¤„ç†æ™®é€šå¯¹è±¡</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> obj === <span class="hljs-string">'object'</span>) {
    <span class="hljs-comment">// å¦‚æœå·²ç»æ‹·è´è¿‡ï¼Œç›´æ¥è¿”å›ï¼ˆå¤„ç†å¾ªç¯å¼•ç”¨ï¼‰</span>
    <span class="hljs-keyword">if</span> (hash.<span class="hljs-title function_">has</span>(obj)) <span class="hljs-keyword">return</span> hash.<span class="hljs-title function_">get</span>(obj);
    
    <span class="hljs-keyword">const</span> objCopy = {};
    hash.<span class="hljs-title function_">set</span>(obj, objCopy);
    
    <span class="hljs-comment">// å¤åˆ¶æ‰€æœ‰å±æ€§ï¼ŒåŒ…æ‹¬Symbolå±æ€§</span>
    <span class="hljs-keyword">const</span> allKeys = [
      ...<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertyNames</span>(obj),
      ...<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertySymbols</span>(obj)
    ];
    
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key <span class="hljs-keyword">of</span> allKeys) {
      objCopy[key] = <span class="hljs-title function_">deepClone</span>(obj[key], hash);
    }
    
    <span class="hljs-keyword">return</span> objCopy;
  }
  
  <span class="hljs-comment">// å…¶ä»–æƒ…å†µï¼ˆå¦‚å‡½æ•°ï¼‰ç›´æ¥è¿”å›</span>
  <span class="hljs-keyword">return</span> obj;
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> original = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'Alice'</span>,
  <span class="hljs-attr">scores</span>: [<span class="hljs-number">85</span>, <span class="hljs-number">90</span>, <span class="hljs-number">95</span>],
  <span class="hljs-attr">address</span>: {
    <span class="hljs-attr">city</span>: <span class="hljs-string">'Beijing'</span>,
    <span class="hljs-attr">street</span>: <span class="hljs-string">'Main St'</span>
  },
  <span class="hljs-title function_">getInfo</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> from <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.address.city}</span>`</span>;
  },
  <span class="hljs-attr">date</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(),
  <span class="hljs-attr">regex</span>: <span class="hljs-regexp">/test/gi</span>
};

original.<span class="hljs-property">self</span> = original; <span class="hljs-comment">// å¾ªç¯å¼•ç”¨</span>

<span class="hljs-keyword">const</span> deepCopy = <span class="hljs-title function_">deepClone</span>(original);
</code></pre>
<h4 data-id="heading-4">æ–¹æ³•ä¸‰ï¼šä½¿ç”¨structuredClone APIï¼ˆç°ä»£æµè§ˆå™¨ï¼‰</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æ”¯æŒå¤§å¤šæ•°ç±»å‹ï¼ŒåŒ…æ‹¬å¾ªç¯å¼•ç”¨</span>
<span class="hljs-keyword">const</span> original = { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: { <span class="hljs-attr">c</span>: <span class="hljs-number">2</span> } };
<span class="hljs-keyword">const</span> deepCopy = <span class="hljs-title function_">structuredClone</span>(original);

<span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æ”¯æŒ</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> structuredClone === <span class="hljs-string">'function'</span>) {
  <span class="hljs-comment">// å¯ä»¥ä½¿ç”¨</span>
}
</code></pre>
<h4 data-id="heading-5">æ–¹æ³•å››ï¼šä½¿ç”¨ç¬¬ä¸‰æ–¹åº“</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// lodash</span>
<span class="hljs-keyword">import</span> _ <span class="hljs-keyword">from</span> <span class="hljs-string">'lodash'</span>;
<span class="hljs-keyword">const</span> deepCopy = _.<span class="hljs-title function_">cloneDeep</span>(original);

<span class="hljs-comment">// Ramda</span>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> R <span class="hljs-keyword">from</span> <span class="hljs-string">'ramda'</span>;
<span class="hljs-keyword">const</span> deepCopy = R.<span class="hljs-title function_">clone</span>(original);
</code></pre>
<h3 data-id="heading-6">2. ä¸åŒåœºæ™¯ä¸‹çš„æ·±æ‹·è´é€‰æ‹©</h3>
<h4 data-id="heading-7">æ€§èƒ½å¯¹æ¯”ï¼ˆJavaScriptç¤ºä¾‹ï¼‰</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æµ‹è¯•ä¸åŒæ–¹æ³•çš„æ€§èƒ½</span>
<span class="hljs-keyword">const</span> testObj = {
  <span class="hljs-attr">data</span>: <span class="hljs-title class_">Array</span>(<span class="hljs-number">1000</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">_, i</span>) =&gt;</span> ({
    <span class="hljs-attr">id</span>: i,
    <span class="hljs-attr">nested</span>: { <span class="hljs-attr">value</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() },
    <span class="hljs-attr">arr</span>: <span class="hljs-title class_">Array</span>(<span class="hljs-number">10</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>())
  }))
};

<span class="hljs-comment">// JSONæ–¹æ³•ï¼ˆæœ€å¿«ï¼Œä½†æœ‰å±€é™æ€§ï¼‰</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">time</span>(<span class="hljs-string">'JSON'</span>);
<span class="hljs-keyword">const</span> copy1 = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(testObj));
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">timeEnd</span>(<span class="hljs-string">'JSON'</span>);

<span class="hljs-comment">// é€’å½’æ–¹æ³•</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">time</span>(<span class="hljs-string">'Recursive'</span>);
<span class="hljs-keyword">const</span> copy2 = <span class="hljs-title function_">deepClone</span>(testObj);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">timeEnd</span>(<span class="hljs-string">'Recursive'</span>);

<span class="hljs-comment">// structuredClone</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">time</span>(<span class="hljs-string">'structuredClone'</span>);
<span class="hljs-keyword">const</span> copy3 = <span class="hljs-title function_">structuredClone</span>(testObj);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">timeEnd</span>(<span class="hljs-string">'structuredClone'</span>);
</code></pre>
<h4 data-id="heading-8">é€‰æ‹©æŒ‡å—</h4>



































<table><thead><tr><th>æ–¹æ³•</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>JSONæ–¹æ³•</td><td>ç®€å•ã€å¿«é€Ÿ</td><td>ä¸¢å¤±å‡½æ•°ã€ç‰¹æ®Šå¯¹è±¡</td><td>çº¯æ•°æ®å¯¹è±¡ï¼Œæ— ç‰¹æ®Šç±»å‹</td></tr><tr><td>é€’å½’å®ç°</td><td>æœ€å®Œæ•´ï¼Œå¯æ‰©å±•</td><td>å®ç°å¤æ‚ï¼Œæ€§èƒ½è¾ƒä½</td><td>éœ€è¦å®Œæ•´å¤åˆ¶ï¼ŒåŒ…å«ç‰¹æ®Šç±»å‹</td></tr><tr><td>structuredClone</td><td>åŸç”Ÿæ”¯æŒï¼Œæ€§èƒ½å¥½</td><td>æµè§ˆå™¨å…¼å®¹æ€§</td><td>ç°ä»£Webåº”ç”¨</td></tr><tr><td>ç¬¬ä¸‰æ–¹åº“</td><td>ç¨³å®šï¼ŒåŠŸèƒ½ä¸°å¯Œ</td><td>å¢åŠ ä¾èµ–</td><td>ä¼ä¸šçº§åº”ç”¨</td></tr></tbody></table>
<h3 data-id="heading-9">3. æ·±æ‹·è´çš„æ³¨æ„äº‹é¡¹</h3>
<ol>
<li><strong>å¾ªç¯å¼•ç”¨å¤„ç†</strong>ï¼šå¿…é¡»æ£€æµ‹å¹¶å¤„ç†å¾ªç¯å¼•ç”¨</li>
<li><strong>ç‰¹æ®Šå¯¹è±¡ç±»å‹</strong>ï¼šDateã€RegExpã€Mapã€Setã€å‡½æ•°ç­‰</li>
<li><strong>åŸå‹é“¾ç»§æ‰¿</strong>ï¼šæ˜¯å¦ä¿æŒåŸå‹é“¾</li>
<li><strong>ä¸å¯æšä¸¾å±æ€§</strong>ï¼šæ˜¯å¦å¤åˆ¶ä¸å¯æšä¸¾å±æ€§</li>
<li><strong>Symbolå±æ€§</strong>ï¼šæ˜¯å¦å¤åˆ¶Symbolä½œä¸ºé”®çš„å±æ€§</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šå¯¹äºå¤§å¯¹è±¡ï¼Œéœ€è¦è€ƒè™‘æ€§èƒ½é—®é¢˜</li>
</ol>
<h3 data-id="heading-10">4. æœ€ä½³å®è·µ</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ç”Ÿäº§ç¯å¢ƒæ¨èï¼šä½¿ç”¨ç»è¿‡æµ‹è¯•çš„åº“</span>
<span class="hljs-comment">// å¯¹äºç®€å•éœ€æ±‚ï¼šJSON.parse(JSON.stringify(obj))</span>
<span class="hljs-comment">// å¯¹äºå¤æ‚éœ€æ±‚ï¼šä½¿ç”¨lodashçš„_.cloneDeepæˆ–è‡ªå·±å®ç°å®Œæ•´é€’å½’</span>

<span class="hljs-comment">// å®‰å…¨è€ƒè™‘ï¼šå¤„ç†ä¸å¯ä¿¡æ•°æ®æ—¶çš„æ·±æ‹·è´</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">safeDeepClone</span>(<span class="hljs-params">obj</span>) {
  <span class="hljs-comment">// 1. éªŒè¯å¯¹è±¡å¤§å°</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(obj).<span class="hljs-property">length</span> &gt; <span class="hljs-number">10</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>) { <span class="hljs-comment">// 10MBé™åˆ¶</span>
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Object too large for deep cloning'</span>);
  }
  
  <span class="hljs-comment">// 2. ä½¿ç”¨JSONæ–¹æ³•ï¼ˆé¿å…åŸå‹é“¾æ”»å‡»ï¼‰</span>
  <span class="hljs-keyword">const</span> cloned = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(obj));
  
  <span class="hljs-comment">// 3. éªŒè¯ç»“æœ</span>
  <span class="hljs-comment">// ... è¿™é‡Œå¯ä»¥æ·»åŠ éªŒè¯é€»è¾‘</span>
  
  <span class="hljs-keyword">return</span> cloned;
}
</code></pre>
<p>æ·±æ‹·è´æ˜¯å®ç°æ•°æ®éš”ç¦»çš„é‡è¦æ‰‹æ®µï¼Œé€‰æ‹©åˆé€‚çš„æ–¹æ³•éœ€è¦æ ¹æ®å…·ä½“éœ€æ±‚ã€æ€§èƒ½è¦æ±‚å’Œç¯å¢ƒé™åˆ¶æ¥å†³å®šã€‚å¯¹äºå¤§å¤šæ•°åº”ç”¨åœºæ™¯ï¼Œä½¿ç”¨æˆç†Ÿçš„ç¬¬ä¸‰æ–¹åº“æ˜¯æœ€ç¨³å¦¥çš„é€‰æ‹©ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[TypeScriptæ·±åº¦å­¦ä¹ ç¬”è®°ï¼šä»åŠ¨æ€è¯­è¨€åˆ°å¼ºç±»å‹å·¥ç¨‹åŒ–å®è·µ]]></title>    <link>https://juejin.cn/post/7594791357144760362</link>    <guid>https://juejin.cn/post/7594791357144760362</guid>    <pubDate>2026-01-14T15:18:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594791357144760362" data-draft-id="7594791357144743978" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="TypeScriptæ·±åº¦å­¦ä¹ ç¬”è®°ï¼šä»åŠ¨æ€è¯­è¨€åˆ°å¼ºç±»å‹å·¥ç¨‹åŒ–å®è·µ"/> <meta itemprop="keywords" content="å‰ç«¯,TypeScript"/> <meta itemprop="datePublished" content="2026-01-14T15:18:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="UIUV"/> <meta itemprop="url" content="https://juejin.cn/user/1036168457093483"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            TypeScriptæ·±åº¦å­¦ä¹ ç¬”è®°ï¼šä»åŠ¨æ€è¯­è¨€åˆ°å¼ºç±»å‹å·¥ç¨‹åŒ–å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1036168457093483/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    UIUV
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-14T15:18:25.000Z" title="Wed Jan 14 2026 15:18:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">TypeScriptæ·±åº¦å­¦ä¹ ç¬”è®°ï¼šä»åŠ¨æ€è¯­è¨€åˆ°å¼ºç±»å‹å·¥ç¨‹åŒ–å®è·µ</h2>
<h3 data-id="heading-1">å¼•è¨€ï¼šä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦TypeScriptï¼Ÿ</h3>
<p>åœ¨Webå¼€å‘çš„æ—©æœŸï¼ŒJavaScriptå‡­å€Ÿå…¶åŠ¨æ€ç±»å‹å’Œçµæ´»æ€§è¿…é€Ÿå é¢†å¸‚åœºï¼Œä½†éšç€åº”ç”¨è§„æ¨¡çš„æŒ‡æ•°çº§å¢é•¿ï¼Œå…¶â€œå¼±ç±»å‹â€ç‰¹æ€§é€æ¸æˆä¸ºå¤§å‹é¡¹ç›®çš„è‡´å‘½ä¼¤ã€‚æƒ³è±¡ä¸€ä¸‹ï¼šä¸€ä¸ªåŒ…å«æ•°ä¸‡è¡Œä»£ç çš„ç”µå•†ç³»ç»Ÿï¼ŒæŸä¸ªå‡½æ•°å‚æ•°æ„å¤–ä¼ å…¥å­—ç¬¦ä¸²è€Œéæ•°å­—ï¼Œå¯¼è‡´è´­ç‰©è½¦ç»“ç®—é”™è¯¯â€”â€”è¿™ç§é—®é¢˜åœ¨è¿è¡Œæ—¶æ‰æš´éœ²ï¼Œä¿®å¤æˆæœ¬æé«˜ã€‚<strong>TypeScriptçš„è¯ç”Ÿï¼Œæ­£æ˜¯ä¸ºäº†è§£å†³JavaScriptåœ¨å·¥ç¨‹åŒ–åœºæ™¯ä¸‹çš„ç±»å‹å®‰å…¨é—®é¢˜</strong>ã€‚ä½œä¸ºJavaScriptçš„è¶…é›†ï¼ŒTypeScripté€šè¿‡æ·»åŠ é™æ€ç±»å‹ç³»ç»Ÿï¼Œåœ¨ç¼–è¯‘é˜¶æ®µå°±æ•è·90%çš„ç±»å‹é”™è¯¯ï¼Œè®©ä»£ç è´¨é‡ä»â€œé è¿æ°”â€å˜ä¸ºâ€œé è®¾è®¡â€ã€‚</p>
<blockquote>
<p><strong>è¡Œä¸šæ´å¯Ÿ</strong>ï¼šæ ¹æ®2023å¹´State of JSè°ƒæŸ¥ï¼Œ83%çš„å¼€å‘è€…è¡¨ç¤ºTypeScriptæ˜¾è‘—æå‡äº†ä»£ç å¯ç»´æŠ¤æ€§ï¼Œè€Œå¤§å‚å¦‚Microsoftï¼ˆTypeScriptå‘æ˜è€…ï¼‰ã€Googleï¼ˆAngularæ¡†æ¶ï¼‰ã€Netflixï¼ˆå‰ç«¯æ¶æ„ï¼‰å·²å°†TypeScriptä½œä¸ºé¡¹ç›®æ ‡é…ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-2">ä¸€ã€TypeScriptæ ¸å¿ƒä¼˜åŠ¿ï¼šä»â€œèƒ½ç”¨â€åˆ°â€œå¥½ç”¨â€çš„è·ƒè¿</h3>
<h4 data-id="heading-3">1. é™æ€ç±»å‹ï¼šç¼–è¯‘æ—¶çš„â€œå®‰å…¨ç½‘â€</h4>
<ul>
<li>
<p><strong>JavaScriptçš„ç—›ç‚¹</strong>ï¼š<code>add(10, '5')</code>è¿”å›<code>"105"</code>ï¼ˆå­—ç¬¦ä¸²æ‹¼æ¥ï¼‰ï¼Œè€Œéé¢„æœŸçš„<code>15</code>ï¼ˆæ•°å­—ç›¸åŠ ï¼‰ã€‚è¿™ç§â€œäºŒä¹‰æ€§â€åœ¨åŠ¨æ€ç±»å‹è¯­è¨€ä¸­æ˜¯å¸¸æ€ã€‚</p>
</li>
<li>
<p><strong>TypeScriptçš„è§£æ³•</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">function <span class="hljs-built_in">add</span>(a: number, b: number): number {
  return <span class="hljs-selector-tag">a</span> + <span class="hljs-selector-tag">b</span>;
}
<span class="hljs-built_in">add</span>(<span class="hljs-number">10</span>, <span class="hljs-number">5</span>); <span class="hljs-comment">// âœ… 15</span>
<span class="hljs-built_in">add</span>(<span class="hljs-number">10</span>, '<span class="hljs-number">5</span>'); <span class="hljs-comment">// âŒ ç¼–è¯‘æŠ¥é”™ï¼šç±»å‹â€œstringâ€ä¸èƒ½èµ‹å€¼ç»™ç±»å‹â€œnumberâ€</span>
</code></pre>
<p><strong>å…³é”®ä»·å€¼</strong>ï¼šåœ¨å¼€å‘è€…æ•²ä¸‹<code>Ctrl+S</code>çš„ç¬é—´ï¼Œé”™è¯¯å·²è¢«æ‹¦æˆªï¼Œé¿å…äº†â€œæµ‹è¯•é˜¶æ®µæ‰å‘ç°bugâ€çš„ä½æ•ˆå¾ªç¯ã€‚</p>
</li>
</ul>
<h4 data-id="heading-4">2. è¾¹å†™è¾¹æ£€æŸ¥ï¼šIDEçš„æ™ºèƒ½åŠ©æ‰‹</h4>
<ul>
<li>
<p><strong>VS Codeä¸­çš„çœŸå®ä½“éªŒ</strong>ï¼š</p>
<ul>
<li>è¾“å…¥<code>u.</code>æ—¶è‡ªåŠ¨æç¤º<code>name</code>ã€<code>age</code>ç­‰æ¥å£å±æ€§</li>
<li>ä¼ å…¥é”™è¯¯ç±»å‹æ—¶å®æ—¶æ ‡çº¢ï¼ˆå¦‚<code>u.id = 1002</code>ï¼‰</li>
<li><code>console.log</code>æœªä½¿ç”¨æ—¶è‡ªåŠ¨æ ‡è®°ä¸ºâ€œæœªä½¿ç”¨çš„å˜é‡â€</li>
</ul>
</li>
<li>
<p><strong>æ•ˆç‡æå‡</strong>ï¼šæ®å¾®è½¯å†…éƒ¨æ•°æ®ï¼ŒTypeScriptä½¿ä»£ç å®¡æŸ¥æ—¶é—´å¹³å‡ç¼©çŸ­30%ï¼Œé”™è¯¯ä¿®å¤é€Ÿåº¦æå‡40%ã€‚</p>
</li>
</ul>
<h4 data-id="heading-5">3. é‡æ„çš„â€œå®‰å…¨æŠ¤ç›¾â€</h4>
<p>åœ¨å¤§å‹é¡¹ç›®ä¸­é‡æ„ä»£ç æ˜¯å¸¸æ€ã€‚å‡è®¾éœ€ä¿®æ”¹<code>User</code>æ¥å£çš„<code>hobby</code>å­—æ®µï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">User</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-comment">// hobby: string; // æ—§ç‰ˆ</span>
  hobby?: <span class="hljs-built_in">string</span>; <span class="hljs-comment">// æ–°å¢å¯é€‰å±æ€§</span>
}
</code></pre>
<p>TypeScriptä¼šè‡ªåŠ¨æ£€æŸ¥æ‰€æœ‰å¼•ç”¨<code>User</code>çš„åœ°æ–¹ï¼š</p>
<ul>
<li>æœªå¤„ç†<code>hobby</code>çš„ä»£ç ä¼šæŠ¥é”™ï¼ˆå¦‚<code>u.hobby.toUpperCase()</code>ï¼‰</li>
<li>æ— éœ€æ‰‹åŠ¨å…¨é‡æœç´¢ï¼ŒIDEç›´æ¥å®šä½é—®é¢˜ç‚¹</li>
</ul>
<blockquote>
<p><strong>çœŸå®æ¡ˆä¾‹</strong>ï¼šæŸé‡‘èç³»ç»Ÿé‡æ„æ—¶ï¼ŒTypeScriptåœ¨500+ä¸ªæ–‡ä»¶ä¸­è‡ªåŠ¨æ•è·äº†127å¤„æ½œåœ¨é”™è¯¯ï¼Œé¿å…äº†ä¸Šçº¿åçš„é‡å¤§äº‹æ•…ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-6">äºŒã€å®æˆ˜æ·±åº¦è§£æï¼šä»åŸºç¡€ç±»å‹åˆ°å·¥ç¨‹åŒ–åº”ç”¨</h3>
<h4 data-id="heading-7">1. åŸºç¡€ç±»å‹ï¼šç±»å‹ç³»ç»Ÿçš„â€œåœ°åŸºâ€</h4>















































<table><thead><tr><th>ç±»å‹</th><th>å®šä¹‰</th><th>å®ä¾‹</th><th>ç±»å‹å®‰å…¨éªŒè¯</th></tr></thead><tbody><tr><td><code>number</code></td><td>æ•°å­—</td><td><code>let a: number = 10;</code></td><td><code>a = "10";</code> âŒ ç¼–è¯‘é”™è¯¯</td></tr><tr><td><code>string</code></td><td>å­—ç¬¦ä¸²</td><td><code>let b: string = "hello";</code></td><td><code>b = 10;</code> âŒ</td></tr><tr><td><code>boolean</code></td><td>å¸ƒå°”</td><td><code>let c: boolean = true;</code></td><td><code>c = 0;</code> âŒ</td></tr><tr><td><code>array</code></td><td>æ•°ç»„</td><td><code>let arr: number[] = [1,2,3];</code></td><td><code>arr.push("a");</code> âŒ</td></tr><tr><td><code>tuple</code></td><td>å…ƒç»„ï¼ˆå›ºå®šé•¿åº¦/ç±»å‹ï¼‰</td><td><code>let user: [number, string, boolean] = [1001, "å¼ ä¸‰", true];</code></td><td><code>user[1] = 2023;</code> âŒ</td></tr><tr><td><code>enum</code></td><td>æšä¸¾</td><td><code>enum Status { Pending, Success, Failed }</code></td><td><code>Status.Pending = "Pending";</code> âŒ</td></tr></tbody></table>
<p><strong>å…³é”®æŠ€å·§</strong>ï¼šå…ƒç»„åœ¨APIäº¤äº’ä¸­ææœ‰ç”¨ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä»åç«¯è·å–ç”¨æˆ·æ•°æ®</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">userData</span>: [<span class="hljs-built_in">number</span>, <span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>] = [<span class="hljs-number">1001</span>, <span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-string">"Beijing"</span>];
<span class="hljs-comment">// æ— éœ€çŒœæµ‹ç´¢å¼•å«ä¹‰ï¼Œç±»å‹æ˜ç¡®</span>
<span class="hljs-keyword">const</span> userId = userData[<span class="hljs-number">0</span>];
<span class="hljs-keyword">const</span> userName = userData[<span class="hljs-number">1</span>];
</code></pre>
<h4 data-id="heading-8">2. æ¥å£ï¼ˆInterfaceï¼‰ï¼šå¯¹è±¡ç»“æ„çš„â€œå¥‘çº¦â€</h4>
<p>æ¥å£æ˜¯TypeScriptçš„<strong>æ ¸å¿ƒå·¥ç¨‹åŒ–å·¥å…·</strong>ï¼Œç”¨äºå®šä¹‰å¯¹è±¡çš„å½¢çŠ¶ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">User</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;      <span class="hljs-comment">// å¿…é¡»æœ‰</span>
  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;       <span class="hljs-comment">// å¿…é¡»æœ‰</span>
  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>; <span class="hljs-comment">// åªè¯»ï¼ˆä¸èƒ½ä¿®æ”¹ï¼‰</span>
  hobby?: <span class="hljs-built_in">string</span>;    <span class="hljs-comment">// å¯é€‰ï¼ˆå¯æœ‰å¯æ— ï¼‰</span>
}

<span class="hljs-keyword">const</span> <span class="hljs-attr">u</span>: <span class="hljs-title class_">User</span> = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">"å¼ ä¸‰"</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,
  <span class="hljs-attr">id</span>: <span class="hljs-number">1001</span>,
  <span class="hljs-attr">hobby</span>: <span class="hljs-string">"ç¯®çƒ"</span> <span class="hljs-comment">// å¯é€‰å±æ€§ï¼Œå¯çœç•¥</span>
};

u.<span class="hljs-property">name</span> = <span class="hljs-string">"æå››"</span>; <span class="hljs-comment">// âœ…</span>
u.<span class="hljs-property">id</span> = <span class="hljs-number">1002</span>;     <span class="hljs-comment">// âŒ ç¼–è¯‘é”™è¯¯ï¼šåªè¯»å±æ€§</span>
</code></pre>
<p><strong>å·¥ç¨‹ä»·å€¼</strong>ï¼š</p>
<ul>
<li><strong>APIå¥‘çº¦æ˜ç¡®</strong>ï¼šåç«¯è¿”å›çš„<code>User</code>æ•°æ®å¿…é¡»ç¬¦åˆæ¥å£ï¼Œé¿å…<code>user.name</code>ä¸º<code>undefined</code>çš„å´©æºƒ</li>
<li><strong>å›¢é˜Ÿåä½œæ•ˆç‡</strong>ï¼šå‰ç«¯æ— éœ€ç­‰å¾…åç«¯æ–‡æ¡£ï¼Œç›´æ¥æ ¹æ®æ¥å£å®šä¹‰å®ç°</li>
</ul>
<blockquote>
<p><strong>æœ€ä½³å®è·µ</strong>ï¼šå°†æ¥å£å®šä¹‰åœ¨<code>src/types/user.ts</code>ä¸­ï¼Œå®ç°å‰åç«¯ç±»å‹åŒæ­¥ï¼ˆå¦‚ä½¿ç”¨Swaggerç”ŸæˆTypeScriptæ¥å£ï¼‰ã€‚</p>
</blockquote>
<h4 data-id="heading-9">3. ç±»å‹åˆ«åï¼ˆTypeï¼‰ï¼šå¤æ‚ç±»å‹çš„â€œå¿«æ·æ–¹å¼â€</h4>
<p>å½“ç±»å‹è¿‡äºå¤æ‚æ—¶ï¼Œä½¿ç”¨<code>type</code>ç®€åŒ–ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// å®šä¹‰IDç±»å‹ï¼šå¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–æ•°å­—
type <span class="hljs-attr">ID</span> = string | number<span class="hljs-comment">;</span>

// ä½¿ç”¨
let userId: <span class="hljs-attr">ID</span> = <span class="hljs-string">"user_1001"</span><span class="hljs-comment">;</span>
<span class="hljs-attr">userId</span> = <span class="hljs-number">1001</span><span class="hljs-comment">; // âœ…</span>

// å®šä¹‰ç”¨æˆ·ç±»å‹ï¼ˆä¸æ¥å£ç­‰ä»·ï¼Œä½†æ›´çµæ´»ï¼‰
type <span class="hljs-attr">UserType</span> = {
  name: string<span class="hljs-comment">;</span>
  age: number<span class="hljs-comment">;</span>
  hobby?: string<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

const user: <span class="hljs-attr">UserType</span> = { name: <span class="hljs-string">"å¼ ä¸‰"</span>, age: <span class="hljs-number">18</span> }<span class="hljs-comment">;</span>
</code></pre>
<p><strong>vs æ¥å£</strong>ï¼š</p>
<ul>
<li><code>interface</code> æ”¯æŒ<strong>æ‰©å±•</strong>ï¼ˆ<code>interface Admin extends User</code>ï¼‰</li>
<li><code>type</code> æ”¯æŒ<strong>è”åˆç±»å‹</strong>ï¼ˆ<code>type Result = Success | Error</code>ï¼‰</li>
</ul>
<h4 data-id="heading-10">4. <code>any</code> vs <code>unknown</code>ï¼šç±»å‹å®‰å…¨çš„â€œæœ€åé˜²çº¿â€</h4>























<table><thead><tr><th>ç±»å‹</th><th>å®‰å…¨æ€§</th><th>ä½¿ç”¨åœºæ™¯</th><th>é£é™©</th></tr></thead><tbody><tr><td><code>any</code></td><td>ä½</td><td>æ—§ä»£ç è¿ç§»ã€ä¸´æ—¶ç»•è¿‡</td><td>ä¸§å¤±ç±»å‹æ£€æŸ¥ï¼ŒåŸ‹ä¸‹éšæ‚£</td></tr><tr><td><code>unknown</code></td><td>é«˜</td><td>æœªçŸ¥æ¥æºæ•°æ®ï¼ˆå¦‚APIå“åº”ï¼‰</td><td>éœ€ç±»å‹æ£€æŸ¥åæ‰èƒ½ä½¿ç”¨</td></tr></tbody></table>
<p><strong>å¯¹æ¯”ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä½å®‰å…¨ï¼šanyï¼ˆä¸æ¨èï¼‰</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">data</span>: <span class="hljs-built_in">any</span> = { <span class="hljs-attr">name</span>: <span class="hljs-string">"å¼ ä¸‰"</span> };
data.<span class="hljs-title function_">hello</span>(); <span class="hljs-comment">// âœ… æ— æŠ¥é”™ï¼Œä½†è¿è¡Œæ—¶å´©æºƒ</span>

<span class="hljs-comment">// é«˜å®‰å…¨ï¼šunknownï¼ˆæ¨èï¼‰</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">data2</span>: <span class="hljs-built_in">unknown</span> = { <span class="hljs-attr">name</span>: <span class="hljs-string">"å¼ ä¸‰"</span> };
data2.<span class="hljs-title function_">hello</span>(); <span class="hljs-comment">// âŒ ç¼–è¯‘é”™è¯¯ï¼šå¯¹è±¡ä¸Šä¸å­˜åœ¨â€œhelloâ€å±æ€§</span>

<span class="hljs-comment">// å®‰å…¨ä½¿ç”¨ï¼šç±»å‹å®ˆå«</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> data2 === <span class="hljs-string">"object"</span> &amp;&amp; data2 !== <span class="hljs-literal">null</span>) {
  (data2 <span class="hljs-keyword">as</span> { <span class="hljs-attr">hello</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span> }).<span class="hljs-title function_">hello</span>(); <span class="hljs-comment">// âœ… ç±»å‹æ–­è¨€</span>
}
</code></pre>
<blockquote>
<p><strong>è¡Œä¸šè§„èŒƒ</strong>ï¼šåœ¨TypeScript 4.0+ä¸­ï¼Œ<code>unknown</code>æˆä¸º<code>any</code>çš„æ›¿ä»£å“ï¼ŒGoogleã€Microsoftç­‰å¤§å‚å·²å¼ºåˆ¶è¦æ±‚é¿å…ä½¿ç”¨<code>any</code>ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-11">ä¸‰ã€å·¥ç¨‹åŒ–å®è·µï¼šä»å•æ–‡ä»¶åˆ°é¡¹ç›®çº§åº”ç”¨</h3>
<h4 data-id="heading-12">1. é¡¹ç›®åˆå§‹åŒ–ï¼š<code>tsconfig.json</code>é…ç½®</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"compilerOptions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"target"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ES2020"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"module"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ESNext"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"strict"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>          <span class="hljs-comment">// å¯ç”¨æ‰€æœ‰ä¸¥æ ¼ç±»å‹æ£€æŸ¥</span>
    <span class="hljs-attr">"esModuleInterop"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"skipLibCheck"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"outDir"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./dist"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"include"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"src/**/*"</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>å…³é”®é…ç½®è§£æ</strong>ï¼š</p>
<ul>
<li><code>strict: true</code>ï¼šå¼€å¯æ‰€æœ‰ä¸¥æ ¼æ£€æŸ¥ï¼ˆå¦‚<code>noImplicitAny</code>ã€<code>strictNullChecks</code>ï¼‰</li>
<li><code>outDir</code>ï¼šæŒ‡å®šç¼–è¯‘è¾“å‡ºç›®å½•ï¼ˆé¿å…æ··æ·†æºç ä¸ç¼–è¯‘æ–‡ä»¶ï¼‰</li>
</ul>
<blockquote>
<p><strong>é¿å‘æŒ‡å—</strong>ï¼šåœ¨<code>src</code>ç›®å½•ä¸‹å†™TypeScriptï¼Œç¼–è¯‘åè¾“å‡ºåˆ°<code>dist</code>ï¼Œä¿æŒæºç çº¯å‡€ã€‚</p>
</blockquote>
<h4 data-id="heading-13">2. å‡½æ•°ç±»å‹ä¸è¿”å›å€¼ï¼šé¿å…â€œäºŒä¹‰æ€§â€é™·é˜±</h4>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// é”™è¯¯ç¤ºèŒƒï¼šæœªæŒ‡å®šè¿”å›ç±»å‹</span>
<span class="hljs-function">function <span class="hljs-title">getArea</span><span class="hljs-params">(width, height)</span> </span>{
  <span class="hljs-keyword">return</span> width * height; <span class="hljs-comment">// æœªå£°æ˜ç±»å‹ï¼Œå¯èƒ½è¿”å›numberæˆ–string</span>
}

<span class="hljs-comment">// æ­£ç¡®ç¤ºèŒƒï¼šæ˜ç¡®å‚æ•°å’Œè¿”å›ç±»å‹</span>
<span class="hljs-function">function <span class="hljs-title">getArea</span><span class="hljs-params">(width: number, height: number)</span>: number {</span>
  <span class="hljs-keyword">return</span> width * height;
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆé‡è¦</strong>ï¼Ÿåœ¨å¤§å‹é¡¹ç›®ä¸­ï¼Œå‡½æ•°ç­¾åæ˜¯æ–‡æ¡£ï¼Œæ˜ç¡®çš„ç±»å‹è®©è°ƒç”¨è€…æ— éœ€é˜…è¯»å®ç°å³å¯å®‰å…¨ä½¿ç”¨ã€‚</p>
<h4 data-id="heading-14">3. ç±»å‹æ¨å¯¼ï¼šè®©TypeScriptæˆä¸ºâ€œæ™ºèƒ½åŠ©æ‰‹â€</h4>
<p>TypeScriptèƒ½è‡ªåŠ¨æ¨æ–­ç±»å‹ï¼Œå‡å°‘å†—ä½™ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">let <span class="hljs-attr">a</span> = <span class="hljs-number">10</span><span class="hljs-comment">; // ç±»å‹æ¨å¯¼ä¸º number</span>
let <span class="hljs-attr">b</span> = <span class="hljs-string">"hello"</span><span class="hljs-comment">; // ç±»å‹æ¨å¯¼ä¸º string</span>

// ä½†éœ€è°¨æ…ï¼šé¿å…éšå¼any
let c<span class="hljs-comment">; // ç±»å‹æ¨å¯¼ä¸º anyï¼</span>
<span class="hljs-attr">c</span> = <span class="hljs-number">10</span><span class="hljs-comment">;</span>
<span class="hljs-attr">c</span> = <span class="hljs-string">"string"</span><span class="hljs-comment">; // æ— æŠ¥é”™ï¼Œä½†å¤±å»ç±»å‹å®‰å…¨</span>
</code></pre>
<p><strong>æœ€ä½³å®è·µ</strong>ï¼š<strong>æ°¸è¿œä¸è¦çœç•¥ç±»å‹å£°æ˜</strong>ï¼Œé™¤éæ˜¯ç®€å•å˜é‡ï¼ˆå¦‚<code>let count = 0</code>ï¼‰ã€‚å¯¹å¤æ‚å¯¹è±¡æˆ–å‡½æ•°ï¼Œæ˜¾å¼å£°æ˜ç±»å‹ã€‚</p>
<hr/>
<h3 data-id="heading-15">å››ã€ä¸ºä»€ä¹ˆTypeScriptæ˜¯ç°ä»£å‰ç«¯çš„â€œåˆšéœ€â€ï¼Ÿ</h3>
<h4 data-id="heading-16">1. ä»â€œä¸ªäººé¡¹ç›®â€åˆ°â€œä¼ä¸šçº§é¡¹ç›®â€çš„è·ƒè¿</h4>






























<table><thead><tr><th>ç»´åº¦</th><th>JavaScript</th><th>TypeScript</th></tr></thead><tbody><tr><td>ä»£ç å¯è¯»æ€§</td><td>ä¾èµ–æ³¨é‡Š</td><td>ç±»å‹å³æ–‡æ¡£</td></tr><tr><td>é”™è¯¯å‘ç°æ—¶æœº</td><td>è¿è¡Œæ—¶ï¼ˆç”¨æˆ·æŠ¥é”™ï¼‰</td><td>ç¼–è¯‘æ—¶ï¼ˆå¼€å‘è€…ä¿®å¤ï¼‰</td></tr><tr><td>å›¢é˜Ÿåä½œæˆæœ¬</td><td>é«˜ï¼ˆéœ€åå¤æ²Ÿé€šç±»å‹ï¼‰</td><td>ä½ï¼ˆæ¥å£å®šä¹‰å³å¥‘çº¦ï¼‰</td></tr><tr><td>é‡æ„ä¿¡å¿ƒ</td><td>ä½ï¼ˆæ€•ç ´åä¾èµ–ï¼‰</td><td>é«˜ï¼ˆç±»å‹æ£€æŸ¥ä¿éšœï¼‰</td></tr></tbody></table>
<p><strong>æ•°æ®ä½è¯</strong>ï¼šåœ¨Angularé¡¹ç›®ä¸­ï¼ŒTypeScriptä½¿ä»£ç é”™è¯¯ç‡é™ä½65%ï¼ˆæ¥è‡ªAngularå®˜æ–¹æŠ¥å‘Šï¼‰ã€‚</p>
<h4 data-id="heading-17">2. ä¸ä¸»æµæ¡†æ¶çš„æ·±åº¦é›†æˆ</h4>
<ul>
<li><strong>React</strong>ï¼šä½¿ç”¨<code>@types/react</code>æä¾›ç±»å‹æ”¯æŒï¼Œç»„ä»¶propsè‡ªåŠ¨æ¨å¯¼</li>
<li><strong>Vue 3</strong>ï¼šå®˜æ–¹æ¨èTypeScriptï¼Œ<code>defineComponent</code>æ”¯æŒç±»å‹æ¨å¯¼</li>
<li><strong>Node.js</strong>ï¼šExpressæ¡†æ¶é€šè¿‡TypeScriptå®ç°ä¸­é—´ä»¶ç±»å‹å®‰å…¨</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼šReactç»„ä»¶ç±»å‹</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Props</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;
}

<span class="hljs-keyword">const</span> <span class="hljs-title class_">UserCard</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span>&lt;<span class="hljs-title class_">Props</span>&gt; = <span class="hljs-function">(<span class="hljs-params">{ name, age }</span>) =&gt;</span> (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{name} ({age}å²)<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
);
</code></pre>
<p><strong>æ•ˆæœ</strong>ï¼šåœ¨çˆ¶ç»„ä»¶ä¸­ä¼ å…¥<code>age="20"</code>æ—¶ï¼ŒIDEç›´æ¥æŠ¥é”™ï¼Œé¿å…è¿è¡Œæ—¶å´©æºƒã€‚</p>
<hr/>
<h3 data-id="heading-18">äº”ã€é¿å‘æŒ‡å—ï¼šæ–°æ‰‹å¸¸è§é”™è¯¯ä¸è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-19">é”™è¯¯1ï¼šè¿‡åº¦ä½¿ç”¨<code>any</code></h4>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// âŒ æ»¥ç”¨any</span>
<span class="hljs-function">function <span class="hljs-title">process</span><span class="hljs-params">(data: any)</span> </span>{
  console.<span class="hljs-built_in">log</span>(data.name); <span class="hljs-comment">// è¿è¡Œæ—¶å´©æºƒï¼šdata.nameå¯èƒ½ä¸ºundefined</span>
}
</code></pre>
<p><strong>âœ… è§£å†³æ–¹æ¡ˆ</strong>ï¼šä½¿ç”¨<code>unknown</code> + ç±»å‹å®ˆå«</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">process</span>(<span class="hljs-params">data: <span class="hljs-built_in">unknown</span></span>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> data === <span class="hljs-string">'object'</span> &amp;&amp; data !== <span class="hljs-literal">null</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>((data <span class="hljs-keyword">as</span> { <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> }).<span class="hljs-property">name</span>);
  }
}
</code></pre>
<h4 data-id="heading-20">é”™è¯¯2ï¼šå¿½ç•¥<code>readonly</code>å’Œå¯é€‰å±æ€§</h4>
<pre><code class="hljs language-ini" lang="ini">interface User {
  id: number<span class="hljs-comment">;</span>
  name: string<span class="hljs-comment">;</span>
}

// âŒ é”™è¯¯ï¼šç›´æ¥ä¿®æ”¹id
const user: <span class="hljs-attr">User</span> = { id: <span class="hljs-number">1001</span>, name: <span class="hljs-string">"å¼ ä¸‰"</span> }<span class="hljs-comment">;</span>
<span class="hljs-attr">user.id</span> = <span class="hljs-number">2002</span><span class="hljs-comment">; // è¿è¡Œæ—¶å¯ä¿®æ”¹ï¼Œä½†è®¾è®¡ä¸Šåº”åªè¯»</span>
</code></pre>
<p><strong>âœ… è§£å†³æ–¹æ¡ˆ</strong>ï¼šæ˜ç¡®<code>readonly</code></p>
<pre><code class="hljs language-ini" lang="ini">interface User {
  readonly id: number<span class="hljs-comment">;</span>
  name: string<span class="hljs-comment">;</span>
}
// <span class="hljs-attr">user.id</span> = <span class="hljs-number">2002</span><span class="hljs-comment">; // âŒ ç¼–è¯‘é”™è¯¯</span>
</code></pre>
<h4 data-id="heading-21">é”™è¯¯3ï¼šæœªå¤„ç†<code>undefined</code>å’Œ<code>null</code></h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-operator">/</span><span class="hljs-operator">/</span> âŒ æœªå¤„ç†<span class="hljs-keyword">null</span>
<span class="hljs-keyword">function</span> getUserName(<span class="hljs-keyword">user</span>: <span class="hljs-keyword">User</span>): string {
  <span class="hljs-keyword">return</span> user.name; <span class="hljs-operator">/</span><span class="hljs-operator">/</span> è‹¥<span class="hljs-keyword">user</span>ä¸º<span class="hljs-keyword">null</span>ï¼Œè¿è¡Œæ—¶å´©æºƒ
}
</code></pre>
<p><strong>âœ… è§£å†³æ–¹æ¡ˆ</strong>ï¼šå¼€å¯<code>strictNullChecks</code>ï¼ˆåœ¨<code>tsconfig.json</code>ä¸­ï¼‰</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getUserName</span>(<span class="hljs-params">user: User | <span class="hljs-literal">null</span></span>): string {
  <span class="hljs-keyword">if</span> (user === <span class="hljs-literal">null</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"User not found"</span>);
  }
  <span class="hljs-keyword">return</span> user.<span class="hljs-property">name</span>;
}
</code></pre>
<hr/>
<h3 data-id="heading-22">å…­ã€æ€»ç»“ï¼šTypeScriptâ€”â€”ç°ä»£Webå¼€å‘çš„â€œåŸºç¡€è®¾æ–½â€</h3>
<p>TypeScriptç»éç®€å•çš„â€œè¯­æ³•ç³–â€ï¼Œè€Œæ˜¯<strong>å·¥ç¨‹åŒ–å¼€å‘çš„åŸºç¡€è®¾æ–½</strong>ã€‚å®ƒé€šè¿‡é™æ€ç±»å‹ç³»ç»Ÿï¼Œå°†æ½œåœ¨é”™è¯¯ä»è¿è¡Œæ—¶å‰ç§»åˆ°ç¼–å†™æ—¶ï¼Œä½¿ä»£ç ä»â€œèƒ½ç”¨â€å‡çº§ä¸ºâ€œå¥½ç”¨â€ã€â€œæ˜“ç»´æŠ¤â€ã€‚åœ¨å¤§å‹é¡¹ç›®ä¸­ï¼ŒTypeScriptå¸¦æ¥çš„ä»·å€¼è¿œè¶…å­¦ä¹ æˆæœ¬ï¼š</p>
<ol>
<li><strong>è´¨é‡æå‡</strong>ï¼šå‡å°‘90%çš„ç±»å‹é”™è¯¯ï¼ˆå¾®è½¯å†…éƒ¨æ•°æ®ï¼‰</li>
<li><strong>æ•ˆç‡æå‡</strong>ï¼šIDEæ™ºèƒ½æç¤ºä½¿ç¼–ç é€Ÿåº¦æå‡30%+ï¼ˆVS Codeå®˜æ–¹æŠ¥å‘Šï¼‰</li>
<li><strong>åä½œå‡çº§</strong>ï¼šæ¥å£å®šä¹‰æˆä¸ºå›¢é˜Ÿæ²Ÿé€šçš„â€œé€šç”¨è¯­è¨€â€</li>
<li><strong>æœªæ¥ä¿éšœ</strong>ï¼šä¸ºAIè¾…åŠ©ç¼–ç¨‹ï¼ˆå¦‚GitHub Copilotï¼‰æä¾›ç±»å‹åŸºç¡€</li>
</ol>
<blockquote>
<p><strong>ç»ˆæå»ºè®®</strong>ï¼šä»ä»Šå¤©å¼€å§‹ï¼Œåœ¨æ–°é¡¹ç›®ä¸­<strong>å¼ºåˆ¶ä½¿ç”¨TypeScript</strong>ï¼Œåœ¨æ—§é¡¹ç›®ä¸­<strong>é€æ­¥è¿ç§»</strong>ï¼ˆå…ˆä¸ºå…³é”®æ¨¡å—æ·»åŠ ç±»å‹ï¼‰ã€‚ä¸è¦è¿½æ±‚100%ç±»å‹è¦†ç›–ï¼Œä½†è¦ç¡®ä¿æ ¸å¿ƒé€»è¾‘ç±»å‹å®‰å…¨â€”â€”è¿™æ­£æ˜¯TypeScriptåœ¨Netflixã€Microsoftç­‰å¤§å‚è½åœ°çš„å®è·µè·¯å¾„ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-23">é™„å½•ï¼šTypeScriptå­¦ä¹ è·¯çº¿å›¾</h3>






























<table><thead><tr><th>é˜¶æ®µ</th><th>å­¦ä¹ ç›®æ ‡</th><th>æ¨èèµ„æº</th></tr></thead><tbody><tr><td><strong>å…¥é—¨</strong></td><td>æŒæ¡åŸºç¡€ç±»å‹ã€æ¥å£ã€å‡½æ•°</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.typescriptlang.org%2Fdocs%2F" target="_blank" title="https://www.typescriptlang.org/docs/" ref="nofollow noopener noreferrer">TypeScriptå®˜æ–¹æ–‡æ¡£</a></td></tr><tr><td><strong>è¿›é˜¶</strong></td><td>ç±»å‹åˆ«åã€æ³›å‹ã€ç±»å‹å®ˆå«</td><td>ã€ŠTypeScriptæ·±åº¦è§£æã€‹ï¼ˆä¹¦ç±ï¼‰</td></tr><tr><td><strong>å·¥ç¨‹åŒ–</strong></td><td>é¡¹ç›®é…ç½®ã€ä¸React/Vueé›†æˆ</td><td>Angular/Reactå®˜æ–¹TypeScriptæŒ‡å—</td></tr><tr><td><strong>ç²¾é€š</strong></td><td>è‡ªå®šä¹‰ç±»å‹å·¥å…·ã€ç±»å‹æ¨å¯¼åŸç†</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.typescriptlang.org%2Fdocs%2Fhandbook%2Fintro.html" target="_blank" title="https://www.typescriptlang.org/docs/handbook/intro.html" ref="nofollow noopener noreferrer">TypeScript Handbook</a></td></tr></tbody></table>
<blockquote>
<p><strong>å­¦ä¹ å£è¯€</strong>ï¼š<br/>
â€œå˜é‡æ˜¾å¼å†™ç±»å‹ï¼Œå‡½æ•°å‚æ•°å®šç±»å‹ï¼Œ<br/>
æ¥å£å®šä¹‰å¯¹è±¡å½¢ï¼Œæšä¸¾å¸¸é‡æ›´æ¸…æ™°ï¼Œ<br/>
anyæ˜¯æ¯’è¯è¦è¿œç¦»ï¼Œunknownæ˜¯ç›¾ç‰Œï¼Œ<br/>
ä¸¥æ ¼æ¨¡å¼å¼€èµ·æ¥ï¼Œå·¥ç¨‹åŒ–ä»æ­¤èµ·æ­¥ã€‚â€</p>
</blockquote>
<hr/>
<p><strong>ç»“è¯­</strong><br/>
TypeScriptçš„è¯ç”Ÿï¼Œæ ‡å¿—ç€JavaScriptä»â€œç©å…·è¯­è¨€â€èµ°å‘â€œå·¥ç¨‹åŒ–è¯­è¨€â€çš„å…³é”®è½¬æŠ˜ã€‚å®ƒç”¨é™æ€ç±»å‹ä¸ºåŠ¨æ€è¯­è¨€ç©¿ä¸Šâ€œå®‰å…¨è¡£â€ï¼Œè®©å¼€å‘è€…ä»â€œæ•‘ç«é˜Ÿå‘˜â€å˜ä¸ºâ€œç³»ç»Ÿè®¾è®¡å¸ˆâ€ã€‚åœ¨2024å¹´çš„Webå¼€å‘ä¸­ï¼ŒæŒæ¡TypeScriptå·²ä¸å†æ˜¯åŠ åˆ†é¡¹ï¼Œè€Œæ˜¯<strong>å¿…å¤‡æŠ€èƒ½</strong>ã€‚æ­£å¦‚å¾®è½¯çš„æ„¿æ™¯ï¼šâ€œTypeScriptè®©ä»£ç å¯è¯»ã€å¯ç»´æŠ¤ã€å¯åä½œâ€ï¼Œè¿™æ­£æ˜¯ç°ä»£å·¥ç¨‹åŒ–å¼€å‘çš„ç»ˆæç›®æ ‡ã€‚ä»ä»Šå¤©å¼€å§‹ï¼Œç”¨TypeScripté‡æ–°å®šä¹‰ä½ çš„ç¼–ç æ–¹å¼â€”â€”å› ä¸º<strong>åœ¨ä»£ç è´¨é‡ä¸Šï¼Œä½ æ°¸è¿œæ¯”ç”¨æˆ·æ›´æ—©å‘ç°é”™è¯¯</strong>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°æœ‰å“ªäº›åŒºåˆ«]]></title>    <link>https://juejin.cn/post/7595043061729247266</link>    <guid>https://juejin.cn/post/7595043061729247266</guid>    <pubDate>2026-01-14T15:23:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595043061729247266" data-draft-id="7595040803581198351" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°æœ‰å“ªäº›åŒºåˆ«"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-14T15:23:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä»£ç çŒäºº"/> <meta itemprop="url" content="https://juejin.cn/user/624972624037374"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°æœ‰å“ªäº›åŒºåˆ«
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/624972624037374/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä»£ç çŒäºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-14T15:23:44.000Z" title="Wed Jan 14 2026 15:23:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. æ ¸å¿ƒåŒºåˆ«æ¦‚è§ˆ</h2>


















































<table><thead><tr><th>ç‰¹æ€§</th><th>æ™®é€šå‡½æ•° (Function)</th><th>ç®­å¤´å‡½æ•° (Arrow Function)</th></tr></thead><tbody><tr><td><strong>thisç»‘å®š</strong></td><td>åŠ¨æ€ç»‘å®šï¼Œå–å†³äºè°ƒç”¨æ–¹å¼</td><td>è¯æ³•ç»‘å®šï¼Œç»§æ‰¿å¤–å±‚ä½œç”¨åŸŸçš„this</td></tr><tr><td><strong>argumentså¯¹è±¡</strong></td><td>æœ‰</td><td>æ— </td></tr><tr><td><strong>æ„é€ å‡½æ•°</strong></td><td>å¯ä»¥ï¼Œå¯ä½¿ç”¨new</td><td>ä¸å¯ä»¥ï¼Œä½¿ç”¨newä¼šæŠ¥é”™</td></tr><tr><td><strong>prototypeå±æ€§</strong></td><td>æœ‰</td><td>æ— </td></tr><tr><td><strong>yieldå…³é”®å­—</strong></td><td>å¯ä»¥åœ¨ç”Ÿæˆå™¨å‡½æ•°ä¸­ä½¿ç”¨</td><td>ä¸èƒ½ä½¿ç”¨ï¼ˆé™¤éå¤–å±‚æ˜¯æ™®é€šå‡½æ•°ï¼‰</td></tr><tr><td><strong>è¯­æ³•</strong></td><td>æœ‰å¤šç§å½¢å¼</td><td>æ›´ç®€æ´ï¼Œé€‚åˆå›è°ƒå‡½æ•°</td></tr><tr><td><strong>é‡å¤å‘½åå‚æ•°</strong></td><td>ä¸¥æ ¼æ¨¡å¼ä¸‹ä¸å…è®¸</td><td>ä¸å…è®¸</td></tr><tr><td><strong>super</strong></td><td>å¯ä»¥åœ¨ç±»æ–¹æ³•ä¸­ä½¿ç”¨</td><td>å¯ä»¥åœ¨ç±»æ–¹æ³•ä¸­ä½¿ç”¨ï¼ˆéœ€æ³¨æ„thisï¼‰</td></tr></tbody></table>
<h2 data-id="heading-1">2. è¯¦ç»†å¯¹æ¯”åˆ†æ</h2>
<h3 data-id="heading-2">2.1 this ç»‘å®šçš„åŒºåˆ«ï¼ˆæœ€é‡è¦ï¼ï¼‰</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æ™®é€šå‡½æ•°çš„ this æ˜¯åŠ¨æ€ç»‘å®šçš„</span>
<span class="hljs-keyword">const</span> obj = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'Alice'</span>,
  <span class="hljs-attr">regularFunc</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Regular:'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);
  },
  <span class="hljs-attr">arrowFunc</span>: <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Arrow:'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);
  }
};

obj.<span class="hljs-title function_">regularFunc</span>(); <span class="hljs-comment">// 'Regular: Alice' - this æŒ‡å‘ obj</span>
obj.<span class="hljs-title function_">arrowFunc</span>();   <span class="hljs-comment">// 'Arrow: undefined' - this æŒ‡å‘å¤–å±‚ä½œç”¨åŸŸï¼ˆè¿™é‡Œå¯èƒ½æ˜¯windowæˆ–globalï¼‰</span>

<span class="hljs-comment">// æ›´æ¸…æ™°çš„ä¾‹å­</span>
<span class="hljs-keyword">const</span> person = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'Bob'</span>,
  <span class="hljs-attr">hobbies</span>: [<span class="hljs-string">'reading'</span>, <span class="hljs-string">'coding'</span>],
  
  <span class="hljs-attr">showHobbiesRegular</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">hobbies</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">hobby</span>) {
      <span class="hljs-comment">// è¿™é‡Œçš„ this æŒ‡å‘å…¨å±€å¯¹è±¡ï¼Œä¸æ˜¯ person</span>
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> likes <span class="hljs-subst">${hobby}</span>`</span>);
      <span class="hljs-comment">// è¾“å‡º: undefined likes reading</span>
    });
  },
  
  <span class="hljs-attr">showHobbiesArrow</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">hobbies</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">hobby</span>) =&gt;</span> {
      <span class="hljs-comment">// ç®­å¤´å‡½æ•°ç»§æ‰¿å¤–å±‚å‡½æ•°çš„ this</span>
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> likes <span class="hljs-subst">${hobby}</span>`</span>);
      <span class="hljs-comment">// è¾“å‡º: Bob likes reading, Bob likes coding</span>
    });
  }
};

person.<span class="hljs-title function_">showHobbiesRegular</span>();
person.<span class="hljs-title function_">showHobbiesArrow</span>();

<span class="hljs-comment">// äº‹ä»¶ç›‘å¬ä¸­çš„ this</span>
<span class="hljs-keyword">const</span> button = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'button'</span>);

button.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>); <span class="hljs-comment">// &lt;button&gt; - this æŒ‡å‘æŒ‰é’®å…ƒç´ </span>
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>); <span class="hljs-comment">// Window - this æŒ‡å‘å…¨å±€å¯¹è±¡</span>
  }, <span class="hljs-number">100</span>);
});

button.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>); <span class="hljs-comment">// &lt;button&gt; - this æŒ‡å‘æŒ‰é’®å…ƒç´ </span>
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>); <span class="hljs-comment">// &lt;button&gt; - ç®­å¤´å‡½æ•°ç»§æ‰¿å¤–å±‚ this</span>
  }, <span class="hljs-number">100</span>);
});
</code></pre>
<h3 data-id="heading-3">2.2 æ„é€ å‡½æ•°ä¸ new</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æ™®é€šå‡½æ•°å¯ä»¥ä½œä¸ºæ„é€ å‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params">name</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
}
<span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">greet</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="hljs-string">`Hello, I'm <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span>`</span>;
};

<span class="hljs-keyword">const</span> alice = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">'Alice'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(alice.<span class="hljs-title function_">greet</span>()); <span class="hljs-comment">// "Hello, I'm Alice"</span>

<span class="hljs-comment">// ç®­å¤´å‡½æ•°ä¸èƒ½ä½œä¸ºæ„é€ å‡½æ•°</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Animal</span> = (<span class="hljs-params">name</span>) =&gt; {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name; <span class="hljs-comment">// é”™è¯¯ï¼</span>
};

<span class="hljs-comment">// const dog = new Animal('Dog'); // TypeError: Animal is not a constructor</span>

<span class="hljs-comment">// ç®­å¤´å‡½æ•°æ²¡æœ‰ prototype å±æ€§</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <span class="hljs-comment">// {greet: Æ’, constructor: Æ’}</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <span class="hljs-comment">// undefined</span>
</code></pre>
<h3 data-id="heading-4">2.3 arguments å¯¹è±¡</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æ™®é€šå‡½æ•°æœ‰ arguments å¯¹è±¡</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">regularSum</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">arguments</span>); <span class="hljs-comment">// [1, 2, 3, 4, 5]</span>
  <span class="hljs-keyword">let</span> total = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">arguments</span>.<span class="hljs-property">length</span>; i++) {
    total += <span class="hljs-variable language_">arguments</span>[i];
  }
  <span class="hljs-keyword">return</span> total;
}
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">regularSum</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>)); <span class="hljs-comment">// 15</span>

<span class="hljs-comment">// ç®­å¤´å‡½æ•°æ²¡æœ‰ arguments å¯¹è±¡</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">arrowSum</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// console.log(arguments); // ReferenceError: arguments is not defined</span>
  <span class="hljs-comment">// ä½¿ç”¨ rest å‚æ•°æ›¿ä»£</span>
};

<span class="hljs-comment">// ç®­å¤´å‡½æ•°ä¸­è®¿é—® arguments ä¼šå‘ä¸ŠæŸ¥æ‰¾</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">outer</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">inner</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">arguments</span>); <span class="hljs-comment">// ç»§æ‰¿å¤–å±‚çš„ arguments</span>
  };
  <span class="hljs-title function_">inner</span>();
}
<span class="hljs-title function_">outer</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>); <span class="hljs-comment">// [1, 2, 3]</span>

<span class="hljs-comment">// ç®­å¤´å‡½æ•°åº”è¯¥ä½¿ç”¨ rest å‚æ•°</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">arrowSumWithRest</span> = (<span class="hljs-params">...args</span>) =&gt; {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(args); <span class="hljs-comment">// [1, 2, 3, 4, 5]</span>
  <span class="hljs-keyword">return</span> args.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">total, num</span>) =&gt;</span> total + num, <span class="hljs-number">0</span>);
};
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">arrowSumWithRest</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>)); <span class="hljs-comment">// 15</span>
</code></pre>
<h3 data-id="heading-5">2.4 è¯­æ³•å·®å¼‚</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æ™®é€šå‡½æ•°æœ‰å¤šç§å®šä¹‰æ–¹å¼</span>
<span class="hljs-comment">// 1. å‡½æ•°å£°æ˜</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">add1</span>(<span class="hljs-params">a, b</span>) { <span class="hljs-keyword">return</span> a + b; }

<span class="hljs-comment">// 2. å‡½æ•°è¡¨è¾¾å¼</span>
<span class="hljs-keyword">const</span> add2 = <span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) { <span class="hljs-keyword">return</span> a + b; };

<span class="hljs-comment">// 3. å‘½åå‡½æ•°è¡¨è¾¾å¼</span>
<span class="hljs-keyword">const</span> add3 = <span class="hljs-keyword">function</span> <span class="hljs-title function_">sum</span>(<span class="hljs-params">a, b</span>) { <span class="hljs-keyword">return</span> a + b; };

<span class="hljs-comment">// 4. æ„é€ å‡½æ•°ï¼ˆä¸æ¨èï¼‰</span>
<span class="hljs-keyword">const</span> add4 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Function</span>(<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'return a + b'</span>);

<span class="hljs-comment">// ç®­å¤´å‡½æ•°çš„ç®€æ´è¯­æ³•</span>
<span class="hljs-comment">// 1. åŸºæœ¬å½¢å¼</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">addArrow1</span> = (<span class="hljs-params">a, b</span>) =&gt; { <span class="hljs-keyword">return</span> a + b; };

<span class="hljs-comment">// 2. çœç•¥å¤§æ‹¬å·å’Œreturnï¼ˆåªæœ‰ä¸€æ¡è¡¨è¾¾å¼æ—¶ï¼‰</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">addArrow2</span> = (<span class="hljs-params">a, b</span>) =&gt; a + b;

<span class="hljs-comment">// 3. å•ä¸ªå‚æ•°å¯çœç•¥æ‹¬å·</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">square</span> = x =&gt; x * x;

<span class="hljs-comment">// 4. æ— å‚æ•°éœ€è¦æ‹¬å·</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">getRandom</span> = (<span class="hljs-params"/>) =&gt; <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>();

<span class="hljs-comment">// 5. è¿”å›å¯¹è±¡éœ€è¦æ‹¬å·</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">createUser</span> = (<span class="hljs-params">name, age</span>) =&gt; ({ name, age });

<span class="hljs-comment">// 6. å¤šè¡Œè¯­å¥éœ€è¦å¤§æ‹¬å·</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">processData</span> = (<span class="hljs-params">data</span>) =&gt; {
  <span class="hljs-keyword">const</span> processed = data.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">active</span>);
  <span class="hljs-keyword">return</span> processed.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">value</span>);
};
</code></pre>
<h3 data-id="heading-6">2.5 æ–¹æ³•å®šä¹‰ä¸ç±»ä¸­çš„ä½¿ç”¨</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å¯¹è±¡æ–¹æ³•</span>
<span class="hljs-keyword">const</span> calculator = {
  <span class="hljs-attr">value</span>: <span class="hljs-number">10</span>,
  
  <span class="hljs-comment">// æ™®é€šå‡½æ•°æ–¹æ³• - this æŒ‡å‘ calculator</span>
  <span class="hljs-attr">doubleRegular</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> * <span class="hljs-number">2</span>;
  },
  
  <span class="hljs-comment">// ç®­å¤´å‡½æ•°æ–¹æ³• - this ç»§æ‰¿å¤–å±‚ï¼Œå¯èƒ½ä¸æ˜¯ calculator</span>
  <span class="hljs-attr">doubleArrow</span>: <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> * <span class="hljs-number">2</span>; <span class="hljs-comment">// this å¯èƒ½æ˜¯ undefined</span>
  },
  
  <span class="hljs-comment">// ç®€å†™æ–¹æ³•ï¼ˆES6ï¼‰- è¡Œä¸ºç±»ä¼¼æ™®é€šå‡½æ•°</span>
  <span class="hljs-title function_">doubleShorthand</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> * <span class="hljs-number">2</span>;
  }
};

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(calculator.<span class="hljs-title function_">doubleRegular</span>()); <span class="hljs-comment">// 20</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(calculator.<span class="hljs-title function_">doubleArrow</span>());   <span class="hljs-comment">// NaN (this.value æ˜¯ undefined)</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(calculator.<span class="hljs-title function_">doubleShorthand</span>()); <span class="hljs-comment">// 20</span>

<span class="hljs-comment">// ç±»ä¸­çš„æ–¹æ³•</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">greetArrow</span> = <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Arrow: Hello, I'm <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span>`</span>);
    };
  }
  
  <span class="hljs-comment">// ç±»æ–¹æ³•æ˜¯æ™®é€šå‡½æ•°ï¼Œthis æŒ‡å‘å®ä¾‹</span>
  <span class="hljs-title function_">greetRegular</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Regular: Hello, I'm <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span>`</span>);
  }
  
  <span class="hljs-comment">// ç®­å¤´å‡½æ•°ä½œä¸ºç±»å­—æ®µ</span>
  greetArrowField = <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Arrow Field: Hello, I'm <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span>`</span>);
  };
}

<span class="hljs-keyword">const</span> bob = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">'Bob'</span>);
bob.<span class="hljs-title function_">greetRegular</span>();    <span class="hljs-comment">// "Regular: Hello, I'm Bob"</span>
bob.<span class="hljs-title function_">greetArrow</span>();      <span class="hljs-comment">// "Arrow: Hello, I'm Bob"</span>
bob.<span class="hljs-title function_">greetArrowField</span>(); <span class="hljs-comment">// "Arrow Field: Hello, I'm Bob"</span>

<span class="hljs-comment">// æ–¹æ³•è§£ç»‘é—®é¢˜</span>
<span class="hljs-keyword">const</span> { greetRegular } = bob;
<span class="hljs-keyword">const</span> { greetArrow } = bob;
<span class="hljs-keyword">const</span> { greetArrowField } = bob;

<span class="hljs-title function_">greetRegular</span>();    <span class="hljs-comment">// "Regular: Hello, I'm undefined" - this ä¸¢å¤±</span>
<span class="hljs-title function_">greetArrow</span>();      <span class="hljs-comment">// "Arrow: Hello, I'm Bob" - ç®­å¤´å‡½æ•°ä¿æŒ this</span>
<span class="hljs-title function_">greetArrowField</span>(); <span class="hljs-comment">// "Arrow Field: Hello, I'm Bob" - ç®­å¤´å‡½æ•°ä¿æŒ this</span>
</code></pre>
<h3 data-id="heading-7">2.6 ç”Ÿæˆå™¨å‡½æ•°ä¸ yield</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æ™®é€šå‡½æ•°å¯ä»¥æ˜¯ç”Ÿæˆå™¨å‡½æ•°</span>
<span class="hljs-keyword">function</span>* <span class="hljs-title function_">regularGenerator</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">yield</span> <span class="hljs-number">1</span>;
  <span class="hljs-keyword">yield</span> <span class="hljs-number">2</span>;
  <span class="hljs-keyword">yield</span> <span class="hljs-number">3</span>;
}

<span class="hljs-keyword">const</span> gen = <span class="hljs-title function_">regularGenerator</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(gen.<span class="hljs-title function_">next</span>().<span class="hljs-property">value</span>); <span class="hljs-comment">// 1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(gen.<span class="hljs-title function_">next</span>().<span class="hljs-property">value</span>); <span class="hljs-comment">// 2</span>

<span class="hljs-comment">// ç®­å¤´å‡½æ•°ä¸èƒ½æ˜¯ç”Ÿæˆå™¨å‡½æ•°</span>
<span class="hljs-comment">// const arrowGenerator = *() =&gt; {}; // SyntaxError</span>

<span class="hljs-comment">// ä½†å¯ä»¥åœ¨ç®­å¤´å‡½æ•°ä¸­ä½¿ç”¨ yieldï¼Œå¦‚æœå¤–å±‚æ˜¯ç”Ÿæˆå™¨å‡½æ•°</span>
<span class="hljs-keyword">function</span>* <span class="hljs-title function_">outerGenerator</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">inner</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-comment">// è¿™é‡Œä¸èƒ½ç›´æ¥ä½¿ç”¨ yield</span>
    <span class="hljs-comment">// ä½†å¯ä»¥é€šè¿‡ yield* å§”æ‰˜ç»™å…¶ä»–ç”Ÿæˆå™¨</span>
  };
  
  <span class="hljs-keyword">yield</span>* [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]; <span class="hljs-comment">// ä½¿ç”¨ yield* å§”æ‰˜</span>
}
</code></pre>
<h3 data-id="heading-8">2.7 call, apply, bind çš„å½±å“</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> obj1 = { <span class="hljs-attr">value</span>: <span class="hljs-number">10</span> };
<span class="hljs-keyword">const</span> obj2 = { <span class="hljs-attr">value</span>: <span class="hljs-number">20</span> };

<span class="hljs-keyword">function</span> <span class="hljs-title function_">regularFunc</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>;
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">arrowFunc</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>;
};

<span class="hljs-comment">// æ™®é€šå‡½æ•°å¯ä»¥é€šè¿‡ call/apply/bind æ”¹å˜ this</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(regularFunc.<span class="hljs-title function_">call</span>(obj1)); <span class="hljs-comment">// 10</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(regularFunc.<span class="hljs-title function_">apply</span>(obj2)); <span class="hljs-comment">// 20</span>
<span class="hljs-keyword">const</span> boundFunc = regularFunc.<span class="hljs-title function_">bind</span>(obj1);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">boundFunc</span>()); <span class="hljs-comment">// 10</span>

<span class="hljs-comment">// ç®­å¤´å‡½æ•°çš„ this ä¸å¯æ”¹å˜</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arrowFunc.<span class="hljs-title function_">call</span>(obj1)); <span class="hljs-comment">// undefinedï¼ˆthis ä»ç„¶æ˜¯å¤–å±‚ä½œç”¨åŸŸçš„ thisï¼‰</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arrowFunc.<span class="hljs-title function_">apply</span>(obj2)); <span class="hljs-comment">// undefined</span>
<span class="hljs-keyword">const</span> boundArrow = arrowFunc.<span class="hljs-title function_">bind</span>(obj1);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">boundArrow</span>()); <span class="hljs-comment">// undefined</span>
</code></pre>
<h2 data-id="heading-9">3. å®é™…åº”ç”¨åœºæ™¯</h2>
<h3 data-id="heading-10">3.1 ä½•æ—¶ä½¿ç”¨ç®­å¤´å‡½æ•°</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// 1. å›è°ƒå‡½æ•°ï¼ˆå°¤å…¶æ˜¯éœ€è¦ä¿æŒ this çš„æƒ…å†µï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Timer</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">seconds</span> = <span class="hljs-number">0</span>;
    
    <span class="hljs-comment">// é”™è¯¯ï¼šæ™®é€šå‡½æ•°ä¼šä¸¢å¤± this</span>
    <span class="hljs-comment">// setInterval(function() {</span>
    <span class="hljs-comment">//   this.seconds++; // this æŒ‡å‘ window</span>
    <span class="hljs-comment">// }, 1000);</span>
    
    <span class="hljs-comment">// æ­£ç¡®ï¼šç®­å¤´å‡½æ•°ä¿æŒ this</span>
    <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">seconds</span>++;
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">seconds</span>);
    }, <span class="hljs-number">1000</span>);
  }
}

<span class="hljs-comment">// 2. æ•°ç»„æ–¹æ³•å›è°ƒ</span>
<span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];
<span class="hljs-keyword">const</span> doubled = numbers.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">n</span> =&gt;</span> n * <span class="hljs-number">2</span>);
<span class="hljs-keyword">const</span> evens = numbers.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">n</span> =&gt;</span> n % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>);
<span class="hljs-keyword">const</span> sum = numbers.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">total, n</span>) =&gt;</span> total + n, <span class="hljs-number">0</span>);

<span class="hljs-comment">// 3. ç®€çŸ­çš„å‡½æ•°è¡¨è¾¾å¼</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">add</span> = (<span class="hljs-params">a, b</span>) =&gt; a + b;
<span class="hljs-keyword">const</span> <span class="hljs-title function_">isEven</span> = n =&gt; n % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>;
<span class="hljs-keyword">const</span> <span class="hljs-title function_">getKey</span> = (<span class="hljs-params"/>) =&gt; <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>().<span class="hljs-title function_">toString</span>(<span class="hljs-number">36</span>).<span class="hljs-title function_">substr</span>(<span class="hljs-number">2</span>);

<span class="hljs-comment">// 4. ç«‹å³æ‰§è¡Œå‡½æ•°ï¼ˆIIFEï¼‰</span>
<span class="hljs-keyword">const</span> result = (<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> x = <span class="hljs-number">10</span>;
  <span class="hljs-keyword">const</span> y = <span class="hljs-number">20</span>;
  <span class="hljs-keyword">return</span> x + y;
})();

<span class="hljs-comment">// 5. å‡½æ•°å¼ç¼–ç¨‹</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">compose</span> = (<span class="hljs-params">...fns</span>) =&gt; <span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> fns.<span class="hljs-title function_">reduceRight</span>(<span class="hljs-function">(<span class="hljs-params">acc, fn</span>) =&gt;</span> <span class="hljs-title function_">fn</span>(acc), x);
<span class="hljs-keyword">const</span> <span class="hljs-title function_">double</span> = x =&gt; x * <span class="hljs-number">2</span>;
<span class="hljs-keyword">const</span> <span class="hljs-title function_">increment</span> = x =&gt; x + <span class="hljs-number">1</span>;
<span class="hljs-keyword">const</span> doubleThenIncrement = <span class="hljs-title function_">compose</span>(increment, double);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">doubleThenIncrement</span>(<span class="hljs-number">5</span>)); <span class="hljs-comment">// 11 (5*2+1)</span>
</code></pre>
<h3 data-id="heading-11">3.2 ä½•æ—¶ä½¿ç”¨æ™®é€šå‡½æ•°</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// 1. æ„é€ å‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params">name, age</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;
}
<span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">introduce</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="hljs-string">`I'm <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span>, <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.age}</span> years old`</span>;
};

<span class="hljs-comment">// 2. å¯¹è±¡æ–¹æ³•ï¼ˆéœ€è¦è®¿é—®å¯¹è±¡å±æ€§ï¼‰</span>
<span class="hljs-keyword">const</span> calculator = {
  <span class="hljs-attr">value</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">add</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">amount</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> += amount;
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;
  },
  <span class="hljs-attr">getValue</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>;
  }
};

<span class="hljs-comment">// 3. éœ€è¦ arguments å¯¹è±¡</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">sumAll</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(<span class="hljs-variable language_">arguments</span>).<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">total, num</span>) =&gt;</span> total + num, <span class="hljs-number">0</span>);
}

<span class="hljs-comment">// 4. ç”Ÿæˆå™¨å‡½æ•°</span>
<span class="hljs-keyword">function</span>* <span class="hljs-title function_">idGenerator</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">let</span> id = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
    <span class="hljs-keyword">yield</span> id++;
  }
}

<span class="hljs-comment">// 5. é€’å½’å‡½æ•°ï¼ˆéœ€è¦å‡½æ•°åï¼‰</span>
<span class="hljs-keyword">const</span> factorial = <span class="hljs-keyword">function</span>(<span class="hljs-params">n</span>) {
  <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
  <span class="hljs-keyword">return</span> n * <span class="hljs-title function_">factorial</span>(n - <span class="hljs-number">1</span>);
};

<span class="hljs-comment">// 6. äº‹ä»¶å¤„ç†å™¨ï¼ˆéœ€è¦ this æŒ‡å‘äº‹ä»¶ç›®æ ‡ï¼‰</span>
element.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>); <span class="hljs-comment">// æŒ‡å‘ element</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(event.<span class="hljs-property">target</span>); <span class="hljs-comment">// æŒ‡å‘ç‚¹å‡»çš„å…ƒç´ </span>
});

<span class="hljs-comment">// 7. éœ€è¦è¢«è°ƒç”¨æ—¶ç»‘å®šä¸åŒ this çš„å‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">greet</span>(<span class="hljs-params">greeting</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${greeting}</span>, <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span>`</span>;
}
<span class="hljs-keyword">const</span> person = { <span class="hljs-attr">name</span>: <span class="hljs-string">'Alice'</span> };
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(greet.<span class="hljs-title function_">call</span>(person, <span class="hljs-string">'Hello'</span>)); <span class="hljs-comment">// "Hello, Alice"</span>
</code></pre>
<h2 data-id="heading-12">4. å¸¸è§é™·é˜±ä¸è§£å†³æ–¹æ¡ˆ</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// é™·é˜±1ï¼šç®­å¤´å‡½æ•°ä½œä¸ºå¯¹è±¡æ–¹æ³•</span>
<span class="hljs-keyword">const</span> counter = {
  <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,
  
  <span class="hljs-comment">// é”™è¯¯ï¼šç®­å¤´å‡½æ•°ä¸ä¼šç»‘å®šåˆ° counter</span>
  <span class="hljs-attr">increment</span>: <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++; <span class="hljs-comment">// this æŒ‡å‘å¤–å±‚ï¼Œä¸æ˜¯ counter</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>); <span class="hljs-comment">// undefined</span>
  },
  
  <span class="hljs-comment">// æ­£ç¡®ï¼šä½¿ç”¨æ™®é€šå‡½æ•°æˆ–ç®€å†™æ–¹æ³•</span>
  <span class="hljs-title function_">incrementCorrect</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++;
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>);
  }
};

<span class="hljs-comment">// é™·é˜±2ï¼šåŸå‹æ–¹æ³•</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Animal</span>(<span class="hljs-params">name</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
}

<span class="hljs-comment">// é”™è¯¯ï¼šç®­å¤´å‡½æ•°ä½œä¸ºåŸå‹æ–¹æ³•</span>
<span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">speak</span> = <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`My name is <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span>`</span>); <span class="hljs-comment">// this ä¸æ˜¯å®ä¾‹</span>
};

<span class="hljs-comment">// æ­£ç¡®ï¼šä½¿ç”¨æ™®é€šå‡½æ•°</span>
<span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">speakCorrect</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`My name is <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span>`</span>);
};

<span class="hljs-comment">// é™·é˜±3ï¼šåŠ¨æ€ä¸Šä¸‹æ–‡ä¸­çš„ç®­å¤´å‡½æ•°</span>
<span class="hljs-keyword">const</span> button = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'button'</span>);
button.<span class="hljs-property">textContent</span> = <span class="hljs-string">'Click me'</span>;

<span class="hljs-comment">// é”™è¯¯ï¼šå¯èƒ½æƒ³è¦ this æŒ‡å‘ button</span>
button.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>); <span class="hljs-comment">// æŒ‡å‘å¤–å±‚ï¼ˆå¯èƒ½æ˜¯ windowï¼‰</span>
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">style</span>.<span class="hljs-property">color</span> = <span class="hljs-string">'red'</span>; <span class="hljs-comment">// é”™è¯¯ï¼</span>
});

<span class="hljs-comment">// æ­£ç¡®ï¼šä½¿ç”¨æ™®é€šå‡½æ•°</span>
button.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>); <span class="hljs-comment">// æŒ‡å‘ button</span>
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">style</span>.<span class="hljs-property">color</span> = <span class="hljs-string">'red'</span>;
});

<span class="hljs-comment">// æˆ–è€…ä½¿ç”¨ event.target</span>
button.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(event.<span class="hljs-property">target</span>); <span class="hljs-comment">// æŒ‡å‘ button</span>
  event.<span class="hljs-property">target</span>.<span class="hljs-property">style</span>.<span class="hljs-property">color</span> = <span class="hljs-string">'red'</span>;
});
</code></pre>
<h2 data-id="heading-13">5. æœ€ä½³å®è·µæ€»ç»“</h2>
<h3 data-id="heading-14">ä½¿ç”¨ç®­å¤´å‡½æ•°çš„æƒ…å†µï¼š</h3>
<ol>
<li><strong>å›è°ƒå‡½æ•°</strong>ï¼Œå°¤å…¶æ˜¯éœ€è¦ä¿æŒå¤–å±‚Â <code>this</code>Â æ—¶</li>
<li><strong>ç®€çŸ­çš„å‡½æ•°è¡¨è¾¾å¼</strong>ï¼Œç‰¹åˆ«æ˜¯å•è¡Œå‡½æ•°</li>
<li><strong>å‡½æ•°å¼ç¼–ç¨‹</strong>ä¸­çš„å°å‡½æ•°</li>
<li><strong>ç«‹å³æ‰§è¡Œå‡½æ•° (IIFE)</strong></li>
<li><strong>ç±»å­—æ®µåˆå§‹åŒ–</strong>ä¸­çš„ç®­å¤´å‡½æ•°ï¼ˆç”¨äºç»‘å®šå®ä¾‹ï¼‰</li>
</ol>
<h3 data-id="heading-15">ä½¿ç”¨æ™®é€šå‡½æ•°çš„æƒ…å†µï¼š</h3>
<ol>
<li><strong>æ„é€ å‡½æ•°</strong>ï¼ˆç±»ï¼‰</li>
<li><strong>å¯¹è±¡æ–¹æ³•</strong>ï¼Œéœ€è¦è®¿é—®å¯¹è±¡å±æ€§</li>
<li><strong>éœ€è¦ arguments å¯¹è±¡</strong></li>
<li><strong>ç”Ÿæˆå™¨å‡½æ•°</strong></li>
<li><strong>é€’å½’å‡½æ•°</strong>ï¼ˆéœ€è¦å‡½æ•°åï¼‰</li>
<li><strong>äº‹ä»¶å¤„ç†å™¨</strong>ï¼Œéœ€è¦Â <code>this</code>Â æŒ‡å‘äº‹ä»¶ç›®æ ‡</li>
<li><strong>éœ€è¦åŠ¨æ€ç»‘å®š this</strong>Â çš„æƒ…å†µ</li>
</ol>
<h3 data-id="heading-16">ä»£ç ç¤ºä¾‹ï¼š</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å¥½çš„å®è·µ</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Component</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = { <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> };
    
    <span class="hljs-comment">// ä½¿ç”¨ç®­å¤´å‡½æ•°ç»‘å®š this</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleClick</span> = <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>({ <span class="hljs-attr">count</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">count</span> + <span class="hljs-number">1</span> });
    };
  }
  
  <span class="hljs-comment">// ç±»æ–¹æ³•ä½¿ç”¨æ™®é€šå‡½æ•°ï¼ˆæˆ–ç®€å†™è¯­æ³•ï¼‰</span>
  <span class="hljs-title function_">setState</span>(<span class="hljs-params">newState</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = { ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>, ...newState };
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">render</span>();
  }
  
  <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// æ¸²æŸ“é€»è¾‘</span>
  }
}

<span class="hljs-comment">// å‡½æ•°å¼ç¼–ç¨‹</span>
<span class="hljs-keyword">const</span> users = [
  { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Alice'</span>, <span class="hljs-attr">active</span>: <span class="hljs-literal">true</span> },
  { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Bob'</span>, <span class="hljs-attr">active</span>: <span class="hljs-literal">false</span> },
  { <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Charlie'</span>, <span class="hljs-attr">active</span>: <span class="hljs-literal">true</span> }
];

<span class="hljs-keyword">const</span> activeUserNames = users
  .<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> user.<span class="hljs-property">active</span>)           <span class="hljs-comment">// ç®­å¤´å‡½æ•°ç”¨äºè¿‡æ»¤</span>
  .<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> user.<span class="hljs-property">name</span>.<span class="hljs-title function_">toUpperCase</span>())  <span class="hljs-comment">// ç®­å¤´å‡½æ•°ç”¨äºè½¬æ¢</span>
  .<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a.<span class="hljs-title function_">localeCompare</span>(b));   <span class="hljs-comment">// ç®­å¤´å‡½æ•°ç”¨äºæ¯”è¾ƒ</span>

<span class="hljs-comment">// éœ€è¦ arguments çš„æƒ…å†µ</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">merge</span>(<span class="hljs-params">target, ...sources</span>) {     <span class="hljs-comment">// ä½¿ç”¨ rest å‚æ•°</span>
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(target, ...sources);
}

<span class="hljs-comment">// ç›¸å½“äº</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">mergeLegacy</span>(<span class="hljs-params">target</span>) {
  <span class="hljs-keyword">const</span> result = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, target);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt; <span class="hljs-variable language_">arguments</span>.<span class="hljs-property">length</span>; i++) {
    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(result, <span class="hljs-variable language_">arguments</span>[i]);
  }
  <span class="hljs-keyword">return</span> result;
}
</code></pre>
<p>è®°ä½ï¼šç®­å¤´å‡½æ•°ä¸æ˜¯è¦å®Œå…¨æ›¿ä»£æ™®é€šå‡½æ•°ï¼Œè€Œæ˜¯æä¾›äº†å¦ä¸€ç§æ›´é€‚åˆç‰¹å®šåœºæ™¯çš„å‡½æ•°å®šä¹‰æ–¹å¼ã€‚ç†è§£å®ƒä»¬çš„åŒºåˆ«æœ‰åŠ©äºé€‰æ‹©æœ€é€‚åˆçš„å·¥å…·æ¥å®Œæˆå·¥ä½œã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[wpf å¸ƒå±€ä¸“é¢˜]]></title>    <link>https://juejin.cn/post/7594791357144662058</link>    <guid>https://juejin.cn/post/7594791357144662058</guid>    <pubDate>2026-01-14T14:37:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594791357144662058" data-draft-id="7594854295759339563" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="wpf å¸ƒå±€ä¸“é¢˜"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-14T14:37:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="undefinedåœ¨æ˜é‡‘39041"/> <meta itemprop="url" content="https://juejin.cn/user/1081575171951485"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            wpf å¸ƒå±€ä¸“é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1081575171951485/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    undefinedåœ¨æ˜é‡‘39041
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-14T14:37:36.000Z" title="Wed Jan 14 2026 14:37:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Gridæ§ä»¶ï¼ˆç½‘æ ¼å¸ƒå±€ï¼‰</h2>
<ul>
<li>
<p>ç»§æ‰¿å…³ç³»: ç»§æ‰¿è‡ªPanelåŸºç±»ï¼Œå®ç°äº†IAddChildæ¥å£</p>
</li>
<li>
<p>å…³é”®å±æ€§:</p>
<ul>
<li>ColumnDefinitions: åˆ—å®šä¹‰é›†åˆ</li>
<li>RowDefinitions: è¡Œå®šä¹‰é›†åˆ</li>
<li>ShowGridLines: æ˜¯å¦æ˜¾ç¤ºç½‘æ ¼çº¿ï¼ˆé»˜è®¤ä¸ºfalseï¼‰</li>
</ul>
</li>
<li>
<p>åˆ—ä½ç½®æ§åˆ¶:</p>
<ul>
<li>Grid.Column="0"è¡¨ç¤ºç¬¬1åˆ—ï¼ˆä»0å¼€å§‹ç´¢å¼•ï¼‰</li>
<li>Grid.Column="1"è¡¨ç¤ºç¬¬2åˆ—</li>
<li><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f9fdaf876bbb49269591c9d87d453f73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdW5kZWZpbmVk5Zyo5o6Y6YeRMzkwNDE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769006256&amp;x-signature=UmvWYVP1d3lNtUOZBGt%2BWLblCo0%3D" alt="image.png" loading="lazy"/></li>
</ul>
</li>
</ul>
<pre><code class="hljs language-js" lang="js">  &lt;<span class="hljs-title class_">Grid</span>&gt;
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Grid.RowDefinitions</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">RowDefinition</span>/&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">RowDefinition</span>/&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Grid.RowDefinitions</span>&gt;</span></span>
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Grid.ColumnDefinitions</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">ColumnDefinition</span>/&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">ColumnDefinition</span>/&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Grid.ColumnDefinitions</span>&gt;</span></span>
  
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">Content</span>=<span class="hljs-string">"çº¢è‰²"</span> <span class="hljs-attr">Background</span>=<span class="hljs-string">"red"</span>   <span class="hljs-attr">Grid.Column</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">Grid.Row</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">Margin</span>=<span class="hljs-string">"20"</span>/&gt;</span></span>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">Content</span>=<span class="hljs-string">"é»‘è‰²"</span> <span class="hljs-attr">Background</span>=<span class="hljs-string">"Black"</span>  <span class="hljs-attr">Grid.Column</span>=<span class="hljs-string">"1"</span> <span class="hljs-attr">Grid.Row</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">Margin</span>=<span class="hljs-string">"20"</span> <span class="hljs-attr">Panel.ZIndex</span>=<span class="hljs-string">"1"</span>/&gt;</span></span>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">Content</span>=<span class="hljs-string">"è“è‰²"</span> <span class="hljs-attr">Background</span>=<span class="hljs-string">"Blue"</span> <span class="hljs-attr">Grid.Column</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">Grid.Row</span>=<span class="hljs-string">"1"</span> <span class="hljs-attr">Margin</span>=<span class="hljs-string">"20"</span>/&gt;</span></span>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">Content</span>=<span class="hljs-string">"ç»¿è‰²"</span> <span class="hljs-attr">Background</span>=<span class="hljs-string">"Green"</span> <span class="hljs-attr">Grid.Column</span>=<span class="hljs-string">"1"</span> <span class="hljs-attr">Grid.Row</span>=<span class="hljs-string">"1"</span> <span class="hljs-attr">Margin</span>=<span class="hljs-string">"20"</span>/&gt;</span></span>
  &lt;/<span class="hljs-title class_">Grid</span>&gt;
</code></pre>
<ul>
<li>
<p>å¸ƒå±€ç‰¹æ€§: æ˜¯WPFçª—ä½“çš„é»˜è®¤æ§ä»¶ï¼Œåˆ›å»ºæ–°çª—ä½“æ—¶è‡ªåŠ¨åŒ…å«Gridæ§ä»¶</p>
</li>
<li>
<p>è·¨è¡Œåˆ—å±æ€§:</p>
<ul>
<li>ColumnSpan: è·¨åˆ—æ•°</li>
<li>RowSpan: è·¨è¡Œæ•°</li>
<li/>
</ul>
</li>
<li>
<p>åˆ—é›†åˆ: é€šè¿‡ColumnDefinitionså±æ€§å®šä¹‰</p>
</li>
<li/>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/334a8ab331ae427b9526e1e187f7df12~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdW5kZWZpbmVk5Zyo5o6Y6YeRMzkwNDE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769006256&amp;x-signature=w2FY40HEtUP3b4kqgFp5xXef0BQ%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/99c8c5e8497341cd86f3a12371494dce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdW5kZWZpbmVk5Zyo5o6Y6YeRMzkwNDE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769006256&amp;x-signature=OmX8CgOTiom%2Bvtyq5jdmsncvlz4%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>
<p>åˆ—å®½è®¾ç½®:</p>
<ul>
<li>Width="100"å›ºå®šå®½åº¦</li>
<li>Width="*"æŒ‰æ¯”ä¾‹åˆ†é…å‰©ä½™ç©ºé—´</li>
<li>Width="Auto"æ ¹æ®å†…å®¹è‡ªåŠ¨è°ƒæ•´</li>
</ul>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e0ab9a7cf8c4383847d754fed32f9b7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdW5kZWZpbmVk5Zyo5o6Y6YeRMzkwNDE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769006256&amp;x-signature=%2FOIbzPUkdxn3rRM%2FITtDpk2TRTY%3D" alt="image.png" loading="lazy"/></p>
<h5 data-id="heading-1">Borderæ§ä»¶ä½œä¸ºè£…é¥°å™¨</h5>
<ul>
<li>
<p>å®ç°å®çº¿ç½‘æ ¼:</p>
<ul>
<li>ä¸ºæ¯ä¸ªå•å…ƒæ ¼æ·»åŠ Borderæ§ä»¶</li>
<li>è®¾ç½®BorderThicknessæ§åˆ¶è¾¹æ¡†ç²—ç»†</li>
<li>é€šè¿‡BorderBrushè®¾ç½®é¢œè‰²</li>
</ul>
</li>
</ul>
<h4 data-id="heading-2">çŸ¥è¯†å°ç»“</h4>



























































<table><thead><tr><th>çŸ¥è¯†ç‚¹</th><th>æ ¸å¿ƒå†…å®¹</th><th>å…³é”®å±æ€§/æ˜“æ··æ·†ç‚¹</th><th>åº”ç”¨ç¤ºä¾‹</th></tr></thead><tbody><tr><td>Gridç½‘æ ¼å¸ƒå±€åŸºç¡€</td><td>ç»§æ‰¿è‡ªPanelåŸºç±»ï¼Œç”¨äºå¤šå…ƒç´ æ’ç‰ˆ</td><td>ä¾èµ–å±æ€§ï¼šColumnDefinitions(åˆ—)ã€RowDefinitions(è¡Œ)ã€Grid.ColumnSpan(è·¨åˆ—)ã€Grid.RowSpan(è·¨è¡Œ)</td><td>é€šè¿‡Grid.Column/Rowå®ç°å…ƒç´ è¡Œåˆ—å®šä½</td></tr><tr><td>è¡Œåˆ—å®šä¹‰æ–¹å¼</td><td>é€šè¿‡ColumnDefinitionå’ŒRowDefinitioné›†åˆé…ç½®</td><td>ä¸‹æ ‡ä»0å¼€å§‹ï¼›æ˜Ÿå·è¡¨ç¤ºå‰©ä½™ç©ºé—´åˆ†é…æ¯”ä¾‹ï¼ˆå¦‚5å’Œ10*è¡¨ç¤º1:2æ¯”ä¾‹ï¼‰</td><td>å®šä¹‰ä¸¤åˆ—ï¼š</td></tr><tr><td>è·¨è¡Œåˆ—å¸ƒå±€</td><td>ColumnSpan/RowSpanæ§åˆ¶å…ƒç´ å æ®èŒƒå›´</td><td>è·¨åˆ—éœ€è®¾ç½®èµ·å§‹åˆ—å·ï¼Œè·¨è¡Œéœ€åŒæ­¥è®¾ç½®èµ·å§‹è¡Œå·</td><td>æŒ‰é’®è·¨ä¸¤åˆ—ï¼šGrid.ColumnSpan="2"</td></tr><tr><td>å°ºå¯¸æ§åˆ¶</td><td>å›ºå®šå€¼/è‡ªåŠ¨/Autoä¸‰ç§æ¨¡å¼</td><td>è‡ªåŠ¨æ¨¡å¼è®¡ç®—åŒ…å«å…ƒç´ marginå€¼ï¼›æ˜Ÿå·æ¯”ä¾‹åˆ†é…éœ€æ³¨æ„ä¼˜å…ˆçº§</td><td>è¡Œé«˜100pxï¼š</td></tr><tr><td>è¾…åŠ©çº¿æ˜¾ç¤º</td><td>ShowGridLineså±æ€§æ§åˆ¶è™šçº¿æ˜¾ç¤º</td><td>å®é™…å¼€å‘æ¨èç”¨Borderæ§ä»¶æ¨¡æ‹Ÿå®çº¿ï¼ˆéœ€å¤„ç†é‡å è¾¹æ¡†é—®é¢˜ï¼‰</td><td>éšè—é‡å è¾¹çº¿ï¼šBorderThickness="0,1,1,0"</td></tr><tr><td>è¾¹è·æ§åˆ¶</td><td>Marginå±æ€§ï¼ˆä¸Š,å·¦,ä¸‹,å³ï¼‰å’ŒPaddingå±æ€§</td><td>Marginå½±å“å¸ƒå±€è®¡ç®—ï¼Œä¸Autoé«˜åº¦æ¨¡å¼ä¼šäº§ç”Ÿè”åŠ¨æ•ˆæœ</td><td>ç»Ÿä¸€è¾¹è·ï¼šMargin="20"ï¼Œéå¯¹ç§°è¾¹è·ï¼šMargin="10,5,10,5"</td></tr><tr><td>UniformGridå¯¹æ¯”</td><td>ç®€åŒ–ç‰ˆç½‘æ ¼ï¼ˆåç»­è¯¾ç¨‹ï¼‰</td><td>å…³é”®å·®å¼‚ï¼šGridæ”¯æŒä¸è§„åˆ™å¸ƒå±€ï¼ŒUniformGridå¼ºåˆ¶å‡ç­‰åˆ†å¸ƒ</td><td/></tr><tr><td>å®æˆ˜æŠ€å·§</td><td>Borderæ§ä»¶è£…é¥°ç½‘æ ¼çº¿</td><td>éœ€åµŒå¥—å¸ƒå±€ï¼šGridä½œä¸ºBorderå­å…ƒç´ ï¼Œé€šè¿‡BorderThicknessç²¾ç»†æ§åˆ¶</td><td>å®çº¿å®ç°ï¼š</td></tr></tbody></table>
<h2 data-id="heading-3">UniformGridæ§ä»¶ï¼ˆå‡åˆ†å¸ƒå±€ï¼‰</h2>
<ul>
<li>
<p>åŸºæœ¬æ¦‚å¿µï¼šUniformGridæ§ä»¶æ˜¯ä¸€ç§å‡åˆ†å¸ƒå±€æ§ä»¶ï¼Œä¸Gridæ§ä»¶ç›¸ä¼¼ä½†æ¯ä¸ªå•å…ƒæ ¼é¢ç§¯ç›¸ç­‰</p>
</li>
<li>
<p>å¸ƒå±€ç‰¹ç‚¹ï¼šæ— è®ºæ¨ªå‘è¿˜æ˜¯çºµå‘å•å…ƒæ ¼ï¼Œéƒ½ä¼šè‡ªåŠ¨å¹³åˆ†æ•´ä¸ªUniformGridç©ºé—´</p>
</li>
<li>
<p>æ ¸å¿ƒå±æ€§ï¼š</p>
<ul>
<li>FirstColumnï¼šæ§åˆ¶ç¬¬ä¸€è¡Œéœ€è¦ç©ºå‡ºçš„å•å…ƒæ ¼æ•°ï¼Œé»˜è®¤å€¼ä¸º0</li>
<li>Columnsï¼šå®šä¹‰åˆ—æ•°ï¼Œé»˜è®¤å€¼ä¸º0</li>
<li>Rowsï¼šå®šä¹‰è¡Œæ•°ï¼Œé»˜è®¤å€¼ä¸º0</li>
</ul>
</li>
<li>
<p>ç»§æ‰¿å…³ç³»ï¼šç»§æ‰¿è‡ªPanelåŸºç±»ï¼Œå±äºWPFå¸ƒå±€æ§ä»¶ä½“ç³»</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a555c81911344d4aa9b7754103237658~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdW5kZWZpbmVk5Zyo5o6Y6YeRMzkwNDE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769006256&amp;x-signature=xvSEcGdKmyqGU1tYfbaD3I3zBKg%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>
<p>è¡Œåˆ—æ§åˆ¶ï¼š</p>
<ul>
<li>æ˜ç¡®è®¾ç½®Rows="3" Columns="3"å¯åˆ›å»º3Ã—3ç½‘æ ¼</li>
<li>FirstColumn="1"ä¼šä½¿ç¬¬ä¸€è¡Œç¬¬ä¸€åˆ—ç•™ç©º</li>
<li>ç¤ºä¾‹ä¸­5ä¸ªButtonåœ¨3Ã—3ç½‘æ ¼ä¸­æ’åˆ—ï¼Œç¬¬ä¸€è¡Œç©º1æ ¼åæ’åˆ—</li>
<li/>
</ul>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/30ca80838d034bb3a20fecf06892e18e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdW5kZWZpbmVk5Zyo5o6Y6YeRMzkwNDE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769006256&amp;x-signature=3OIjaUzr7q66jiOFUtSJVQbU6fk%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-4">StackPanelæ§ä»¶ï¼ˆæ ˆå¼å¸ƒå±€ï¼‰</h2>
<ul>
<li>
<p>ç»§æ‰¿å…³ç³»: ç»§æ‰¿è‡ªPanelå¸ƒå±€åŸºç±»ï¼Œå®ç°IScrollInfoå’ŒIStackMeasureæ¥å£</p>
</li>
<li>
<p>æ ¸å¿ƒå±æ€§:</p>
<ul>
<li>Orientation: å†³å®šå­å…ƒç´ æ’åˆ—æ–¹å‘ï¼ˆæ°´å¹³/å‚ç›´ï¼‰</li>
<li>Children: å­å…ƒç´ é›†åˆï¼Œåªèƒ½æŒ‰æŒ‡å®šæ–¹å‘æ’åˆ—</li>
<li>Scrollç›¸å…³: ViewportHeight/Width, ExtentHeight/Widthç­‰æ»šåŠ¨å±æ€§</li>
</ul>
</li>
<li>
<p>å¸ƒå±€ç‰¹æ€§: é€šè¿‡LogicalOrientationæ§åˆ¶é€»è¾‘æ–¹å‘ï¼ŒHasLogicalOrientationåˆ¤æ–­æ˜¯å¦æœ‰æ–¹å‘æ€§</p>
</li>
<li>
<p>æ–¹å‘åˆ‡æ¢: è®¾ç½®Orientation="Horizontal"</p>
</li>
<li>
<p>æº¢å‡ºå¤„ç†: å½“å­å…ƒç´ è¶…å‡ºå®¹å™¨å®½åº¦æ—¶ä¼šè¢«æˆªæ–­</p>
</li>
<li>
<p>æ€§èƒ½ä¼˜åŠ¿: ç›¸æ¯”Gridå¸ƒå±€è®¡ç®—èµ„æºæ¶ˆè€—æ›´å°‘</p>
</li>
<li>
<p>scrollViewer: åŒ…è£¹StackPanelå®ç°æ»šåŠ¨åŠŸèƒ½</p>
</li>
<li>
<p>å®ç°æ­¥éª¤:</p>
<ul>
<li>æ·»åŠ ScrollVieweræ§ä»¶</li>
<li>å°†StackPanelæ”¾å…¥å…¶ä¸­</li>
<li>è®¾ç½®è¶³å¤Ÿå¤šçš„å­å…ƒç´ è§¦å‘æ»šåŠ¨</li>
<li>
<ul>
<li>å¯¹é½å±æ€§: HorizontalAlignmentæ§åˆ¶å­å…ƒç´ æ°´å¹³å¯¹é½</li>
</ul>
</li>
</ul>
</li>
<li>
<p>å››ç§æ¨¡å¼:</p>
<ul>
<li>Left: å·¦å¯¹é½ï¼Œå®½åº¦ç”±å†…å®¹å†³å®š</li>
<li>Right: å³å¯¹é½ï¼Œå®½åº¦ç”±å†…å®¹å†³å®š</li>
<li>Center: å±…ä¸­å¯¹é½</li>
<li>Stretch: é»˜è®¤å€¼ï¼Œæ‹‰ä¼¸å¡«æ»¡å¯ç”¨ç©ºé—´</li>
</ul>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/192abd734f0e4af5b8327691f23a641f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdW5kZWZpbmVk5Zyo5o6Y6YeRMzkwNDE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769006256&amp;x-signature=DeB4lPU%2FEL4U2XelIRfpmQffeHA%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fba3060f83194cf497c909d55805f187~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdW5kZWZpbmVk5Zyo5o6Y6YeRMzkwNDE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769006256&amp;x-signature=f3bZUXYE3muX9yXAgd47CTzXdnw%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-5">WrapPanelæ§ä»¶ï¼ˆç€‘å¸ƒæµå¸ƒå±€ï¼‰</h2>
<ul>
<li>
<p>å¸ƒå±€ç‰¹æ€§: ä»¥æµå¼å¸ƒå±€è‡ªåŠ¨æ’åˆ—å­å…ƒç´ ï¼Œå½“ç©ºé—´ä¸è¶³æ—¶ä¼šè‡ªåŠ¨æ¢è¡Œ</p>
</li>
<li>
<p>å¸¸è§ç”¨é€”: é€‚ç”¨äºä¸ç¡®å®šæ˜¾ç¤ºå°ºå¯¸çš„è‡ªé€‚åº”ç•Œé¢è®¾è®¡</p>
</li>
<li>
<p>å¯¹æ¯”ç‰¹æ€§: ä¸StackPanelä¸åŒï¼ŒWrapPanelä¼šæ ¹æ®å®¹å™¨å°ºå¯¸è‡ªåŠ¨è°ƒæ•´å­å…ƒç´ ä½ç½®</p>
</li>
<li>
<ul>
<li>è‡ªé€‚åº”åŸç†: å­å…ƒç´ ä¼šæ ¹æ®å®¹å™¨å®½åº¦/é«˜åº¦è‡ªåŠ¨æ¢è¡Œæ’åˆ—</li>
</ul>
</li>
<li>
<p>å†…å®¹çº¦æŸ: å½“è®¾ç½®ItemHeight=100å’ŒItemWidth=100æ—¶ï¼Œæ‰€æœ‰å­å…ƒç´ éƒ½ä¼šé™åˆ¶åœ¨è¿™ä¸ªå°ºå¯¸èŒƒå›´å†…</p>
</li>
<li>
<p>å¸ƒå±€æ–¹å‘: é»˜è®¤æ°´å¹³æ’åˆ—(ä»å·¦åˆ°å³)ï¼Œæ’æ»¡åè‡ªåŠ¨æ¢è¡Œï¼›ä¹Ÿå¯è®¾ç½®ä¸ºå‚ç›´æ’åˆ—(ä»ä¸Šåˆ°ä¸‹)</p>
</li>
<li>
<p>Orientation:</p>
<ul>
<li>æ§åˆ¶æ’åˆ—æ–¹å‘ï¼ŒHorizontal(æ°´å¹³)æˆ–Vertical(å‚ç›´)</li>
<li>æ°´å¹³æ’åˆ—æ—¶ï¼šä»å·¦åˆ°å³ï¼Œæ’æ»¡æ¢è¡Œ</li>
<li>å‚ç›´æ’åˆ—æ—¶ï¼šä»ä¸Šåˆ°ä¸‹ï¼Œæ’æ»¡æ¢åˆ—</li>
</ul>
</li>
<li>
<p>ItemHeight:</p>
<ul>
<li>ç»Ÿä¸€è®¾ç½®æ‰€æœ‰å­å…ƒç´ çš„é«˜åº¦</li>
<li>ç¤ºä¾‹ä¸­è®¾ç½®ä¸º50æ—¶ï¼Œæ‰€æœ‰æŒ‰é’®é«˜åº¦ç»Ÿä¸€ä¸º50</li>
</ul>
</li>
<li>
<p>ItemWidth:</p>
<ul>
<li>ç»Ÿä¸€è®¾ç½®æ‰€æœ‰å­å…ƒç´ çš„å®½åº¦</li>
<li>ä¸ItemHeighté…åˆä½¿ç”¨å¯å®ç°ç»Ÿä¸€å°ºå¯¸</li>
</ul>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a69f98ba1c754d9e82c0c8b7212e57d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdW5kZWZpbmVk5Zyo5o6Y6YeRMzkwNDE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769006256&amp;x-signature=QjrkcM%2FnlTVxNtCfGGbKdUM46Mk%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-6">DockPanelæ§ä»¶ï¼ˆåœé å¸ƒå±€ï¼‰</h2>
<ul>
<li>
<p>åŸºæœ¬ç‰¹æ€§ï¼šä¸StackPanelå’ŒWrapPanelä¸åŒï¼ŒDockPanelé€šè¿‡Dockå±æ€§æ§åˆ¶å­å…ƒç´ çš„åœé ä½ç½®</p>
</li>
<li>
<p>ç»å…¸å¸ƒå±€ï¼š</p>
<ul>
<li>ç¬¬ä¸€ä¸ªå…ƒç´ è®¾ç½®Dock="Left"å°†å·¦é è¾¹åœé </li>
<li>ç¬¬äºŒä¸ªå…ƒç´ è®¾ç½®Dock="Top"å°†åœé é¡¶éƒ¨ï¼ˆå·¦ä¾§ç©ºé—´è¢«ç¬¬ä¸€ä¸ªå…ƒç´ å æ®ï¼‰</li>
<li>ç¬¬ä¸‰ä¸ªå…ƒç´ è®¾ç½®Dock="Right"å°†åœé å³ä¾§ï¼ˆé¡¶éƒ¨éƒ¨åˆ†ç©ºé—´è¢«ç¬¬äºŒä¸ªå…ƒç´ å æ®ï¼‰</li>
<li>ç¬¬å››ä¸ªå…ƒç´ è®¾ç½®Dock="Bottom"å°†åœé åº•éƒ¨</li>
<li>æœ€åä¸€ä¸ªæœªæŒ‡å®šDockå±æ€§çš„å…ƒç´ å°†è‡ªåŠ¨å¡«æ»¡å‰©ä½™ç©ºé—´</li>
</ul>
</li>
<li>
<p>LastChildFillå±æ€§ï¼š</p>
<ul>
<li>é»˜è®¤å€¼ä¸ºTrueï¼Œä½¿æœ€åä¸€ä¸ªå…ƒç´ å¡«æ»¡å‰©ä½™ç©ºé—´</li>
<li>è®¾ç½®ä¸ºFalseæ—¶ï¼Œå‰©ä½™ç©ºé—´ä¸ä¼šè¢«è‡ªåŠ¨å¡«æ»¡ï¼Œå¯ç»§ç»­æ·»åŠ æ–°æ§ä»¶</li>
</ul>
</li>
<li>
<p>æ°´å¹³/å‚ç›´å¸ƒå±€ï¼š</p>
<ul>
<li>é€šè¿‡è®¾ç½®DockPanel.Dock="Center"å¯å®ç°æ°´å¹³æ’åˆ—</li>
<li>å‚ç›´æ’åˆ—æ—¶ä½¿ç”¨Dock="Top"ï¼Œä½†StackPanelæ›´é€‚åˆå¤„ç†è¿™ç±»å¸ƒå±€</li>
<li>å®é™…å¼€å‘ä¸­æ›´æ¨èä½¿ç”¨ç»å…¸çš„å››æ–¹å‘åœé å¸ƒå±€</li>
</ul>
</li>
<li>
<p>å¸ƒå±€ç‰¹ç‚¹ï¼š</p>
<ul>
<li>æ¯ä¸ªåœé æ–¹å‘çš„å…ƒç´ ä¼šå æ®è¯¥æ–¹å‘çš„å…¨éƒ¨å¯ç”¨ç©ºé—´</li>
<li>åç»­åœé çš„å…ƒç´ ä¼šå—åˆ°å…ˆå‰å…ƒç´ å æ®ç©ºé—´çš„å½±å“</li>
<li>å‰©ä½™ç©ºé—´çš„è®¡ç®—æ˜¯åŠ¨æ€çš„ï¼Œå–å†³äºå·²åœé å…ƒç´ çš„ä½ç½®å’Œå¤§å°</li>
<li/>
</ul>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/157ddd1fcf844ad5af1e0ed0d1f23831~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdW5kZWZpbmVk5Zyo5o6Y6YeRMzkwNDE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769006256&amp;x-signature=b1AHqr0cpAjuOdxiLYbOZAKJwRw%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-7">äºŒã€çŸ¥è¯†å°ç»“</h4>









































<table><thead><tr><th>çŸ¥è¯†ç‚¹</th><th>æ ¸å¿ƒå†…å®¹</th><th>è€ƒè¯•é‡ç‚¹/æ˜“æ··æ·†ç‚¹</th><th>éš¾åº¦ç³»æ•°</th></tr></thead><tbody><tr><td>åœé å¸ƒå±€ï¼ˆDockPanelï¼‰</td><td>ç”¨äºæ§ä»¶åœé å¸ƒå±€ï¼Œæ”¯æŒä¸Šä¸‹å·¦å³åŠå‰©ä½™ç©ºé—´å¡«å……</td><td>ç»å…¸å¸ƒå±€æ¨¡å¼ï¼ˆä¸Šä¸‹å·¦å³+å‰©ä½™å¡«å……ï¼‰ä¸å±æ€§ä¼˜å…ˆçº§</td><td>â­â­</td></tr><tr><td>Dock å±æ€§</td><td>è®¾ç½®åœé æ–¹å‘ï¼ˆLeft/Top/Right/Bottomï¼‰ï¼Œå½±å“æ§ä»¶å ä½é€»è¾‘</td><td>ç©ºé—´æŠ¢å è§„åˆ™ï¼ˆå…ˆåœé æ§ä»¶ä¼šé™åˆ¶åç»­æ§ä»¶å¯ç”¨ç©ºé—´ï¼‰</td><td>â­â­â­</td></tr><tr><td>LastChildFill å±æ€§</td><td>æ§åˆ¶æœ€åä¸€ä¸ªå­æ§ä»¶æ˜¯å¦å¡«æ»¡å‰©ä½™ç©ºé—´ï¼ˆé»˜è®¤ trueï¼‰</td><td>false æ—¶éœ€æ‰‹åŠ¨è®¡ç®—å‰©ä½™ç©ºé—´åˆ†é…</td><td>â­â­</td></tr><tr><td>å¯¹é½æ–¹å¼</td><td>æ”¯æŒ Center/Top ç­‰å¯¹é½ï¼Œä½†æ¨èç”¨ StackPanel å®ç°</td><td>ä¸ StackPanel çš„å¸ƒå±€å·®å¼‚ï¼ˆDockPanel ä¾§é‡åœé ï¼ŒStackPanel ä¾§é‡çº¿æ€§æ’åˆ—ï¼‰</td><td>â­</td></tr><tr><td>ç»å…¸åº”ç”¨åœºæ™¯</td><td>ä¸Šä¸‹å·¦å³åˆ†æ å¸ƒå±€ï¼ˆå¦‚å·¥å…·æ ã€çŠ¶æ€æ ã€ä¾§è¾¹æ ç»„åˆï¼‰</td><td>ä¼˜å…ˆä½¿ç”¨åœé æ¨¡å¼ï¼Œå¯¹é½æ¨¡å¼æ˜“å¯¼è‡´æ§ä»¶é‡å </td><td>â­â­â­</td></tr></tbody></table>
<h2 data-id="heading-8">####Canvasæ§ä»¶ï¼ˆå›ºå®šå¸ƒå±€ï¼‰</h2>
<h4 data-id="heading-9">ä¸€ã€ç»å¯¹å¸ƒå±€</h4>
<ul>
<li>æ ¸å¿ƒå±æ€§ï¼šæä¾›4ä¸ªä¾èµ–å±æ€§ï¼šLeftPropertyã€TopPropertyã€RightPropertyã€BottomPropertyï¼Œé€šè¿‡é™„åŠ å±æ€§æ–¹å¼è®¾ç½®å­å…ƒç´ ä½ç½®ã€‚</li>
<li>æ–¹æ³•æœºåˆ¶ï¼šé€šè¿‡Get/Setç³»åˆ—æ–¹æ³•ï¼ˆå¦‚GetLeft()ã€SetTop()ï¼‰æ“ä½œè¿™äº›é™„åŠ å±æ€§ï¼Œæ§åˆ¶å­å…ƒç´ ç›¸å¯¹äºCanvasè¾¹ç•Œçš„åƒç´ è·ç¦»ã€‚</li>
<li/>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e5f15af82a4f4f7ea35547747e881c0c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdW5kZWZpbmVk5Zyo5o6Y6YeRMzkwNDE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769006256&amp;x-signature=IH%2Fy6DJjzfygCd36KuihIBCoM5w%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-10">äºŒã€çŸ¥è¯†å°ç»“</h4>









































<table><thead><tr><th>çŸ¥è¯†ç‚¹</th><th>æ ¸å¿ƒå†…å®¹</th><th>è€ƒè¯•é‡ç‚¹/æ˜“æ··æ·†ç‚¹</th><th>éš¾åº¦ç³»æ•°</th></tr></thead><tbody><tr><td>Canvasç»å¯¹å¸ƒå±€</td><td>WPFä¸­é€šè¿‡åæ ‡å®šä½æ§ä»¶çš„å¸ƒå±€æ–¹å¼</td><td>ä¸DockPanelå¸ƒå±€å±æ€§çš„åŒºåˆ«ï¼ˆæ— Dockå±æ€§ï¼‰</td><td>â­â­</td></tr><tr><td>é™„åŠ å±æ€§</td><td>Left/Top/Right/Bottomå››ä¸ªä¾èµ–å±æ€§æ§åˆ¶ä½ç½®</td><td>æ‹–æ‹½è‡ªåŠ¨ç”Ÿæˆvsæ‰‹åŠ¨è®¾ç½®å±æ€§</td><td>â­â­â­</td></tr><tr><td>å¸ƒå±€ç‰¹æ€§</td><td>å­æ§ä»¶é»˜è®¤å †å åœ¨å·¦ä¸Šè§’ï¼ˆ3åƒç´ è¾¹è·ï¼‰</td><td>å‚ç›´/æ°´å¹³å¯¹é½å±æ€§æ— æ•ˆ</td><td>â­â­</td></tr><tr><td>åæ ‡å®šä½</td><td>é€šè¿‡Canvas.Left=200ç­‰å±æ€§ç²¾ç¡®æ§åˆ¶ä½ç½®</td><td>Right/Bottomä¸Left/Topçš„åæ ‡è®¡ç®—å·®å¼‚</td><td>â­â­â­</td></tr><tr><td>å®ç°åŸç†</td><td>é€šè¿‡DependencyProperty.RegisterAttachedæ³¨å†Œé™„åŠ å±æ€§</td><td>é™„åŠ å±æ€§åœ¨MVVMæ¨¡å¼ä¸­çš„æ‰©å±•åº”ç”¨</td><td>â­â­â­â­</td></tr></tbody></table>
<h2 data-id="heading-11">Borderæ§ä»¶ï¼ˆè¾¹æ¡†å¸ƒå±€)</h2>
<ul>
<li>
<p>æ ¸å¿ƒå±æ€§:</p>
<ul>
<li>BorderThickness: è¾¹æ¡†å®½åº¦</li>
<li>Padding: å†…éƒ¨å…ƒç´ ä¸è¾¹æ¡†çš„è¾¹è·</li>
<li>CornerRadius: åœ†è§’åŠå¾„</li>
<li>BorderBrush: è¾¹æ¡†é¢œè‰²åˆ·å­</li>
<li>Background: èƒŒæ™¯é¢œè‰²</li>
</ul>
</li>
<li>
<p>å°ºå¯¸è®¾ç½®:</p>
<ul>
<li>ç›´æ¥ç»§æ‰¿FrameworkElementçš„Width/Heightå±æ€§</li>
<li>ç¤ºä¾‹ï¼šWidth="100" Height="50"</li>
</ul>
</li>
<li>
<p>å¯¹é½æ–¹å¼:</p>
<ul>
<li>é€šè¿‡HorizontalAlignment/VerticalAlignmentæ§åˆ¶å­å…ƒç´ ä½ç½®</li>
<li>ç¤ºä¾‹ï¼šHorizontalAlignment="Center" VerticalAlignment="Center"</li>
</ul>
</li>
<li>
<p>èƒŒæ™¯è®¾ç½®:</p>
<ul>
<li>é€šè¿‡Backgroundå±æ€§ç›´æ¥è®¾ç½®</li>
<li>ç¤ºä¾‹ï¼šBackground="LightBlue"</li>
</ul>
</li>
<li>
<p>åœ†è§’æ§åˆ¶:</p>
</li>
</ul>

<pre><code class="hljs language-diff" lang="diff"><span class="hljs-deletion">-   CornerRadiuså±æ€§æ§åˆ¶å››ä¸ªè§’çš„å¼§åº¦</span>
</code></pre>

<pre><code class="hljs language-ini" lang="ini">-   ç¤ºä¾‹ï¼š<span class="hljs-attr">CornerRadius</span>=<span class="hljs-string">"10"</span>
</code></pre>
<ul>
<li>
<p>ç‰¹æ®Šæ•ˆæœ:</p>
<ul>
<li>
<p>å½“CornerRadiusè®¾ä¸ºé«˜åº¦/å®½åº¦çš„ä¸€åŠæ—¶(å¦‚50)ï¼Œä¼šå½¢æˆæ­£åœ†</p>
</li>
<li>
<p>ç¤ºä¾‹ï¼šHeight="100" CornerRadius="50"ä¼šæ˜¾ç¤ºåœ†å½¢</p>
</li>
</ul>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e5c1c22386294cd091daae09b4dc8da0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdW5kZWZpbmVk5Zyo5o6Y6YeRMzkwNDE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769006256&amp;x-signature=URPQ9DoYvzNIWGu4yKnLL0yQ6F4%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1cbc2bed652a4b3d99967a17a659d46b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdW5kZWZpbmVk5Zyo5o6Y6YeRMzkwNDE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769006256&amp;x-signature=YZR4AeVkqZSoQVqxjFTmZUy9YCw%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-js" lang="js">&lt;<span class="hljs-title class_">Grid</span>&gt;
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Grid.RowDefinitions</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">RowDefinition</span> <span class="hljs-attr">Height</span>=<span class="hljs-string">"auto"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">RowDefinition</span> <span class="hljs-attr">Height</span>=<span class="hljs-string">"*"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">RowDefinition</span> <span class="hljs-attr">Height</span>=<span class="hljs-string">"auto"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Grid.RowDefinitions</span>&gt;</span></span>

    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Grid.ColumnDefinitions</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ColumnDefinition</span> <span class="hljs-attr">Width</span>=<span class="hljs-string">"auto"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ColumnDefinition</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Grid.ColumnDefinitions</span>&gt;</span></span>

    &lt;!--top--&gt;
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">DockPanel</span> <span class="hljs-attr">Grid.Row</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">Grid.Column</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">Grid.ColumnSpan</span>=<span class="hljs-string">"2"</span> <span class="hljs-attr">Background</span>=<span class="hljs-string">"#126a74"</span> <span class="hljs-attr">Height</span>=<span class="hljs-string">"60"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">TextBlock</span> <span class="hljs-attr">Text</span>=<span class="hljs-string">"wpfåº”ç”¨ç¨‹åºå¸ƒå±€ç¨‹åº"</span> <span class="hljs-attr">Foreground</span>=<span class="hljs-string">"White"</span> <span class="hljs-attr">FontSize</span>=<span class="hljs-string">"20"</span> <span class="hljs-attr">Margin</span>=<span class="hljs-string">"15,15"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">StackPanel</span> <span class="hljs-attr">Orientation</span>=<span class="hljs-string">"Horizontal"</span> <span class="hljs-attr">HorizontalAlignment</span>=<span class="hljs-string">"Right"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Border</span> <span class="hljs-attr">Height</span>=<span class="hljs-string">"35"</span> <span class="hljs-attr">Margin</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">BorderThickness</span>=<span class="hljs-string">"1"</span> <span class="hljs-attr">BorderBrush</span>=<span class="hljs-string">"#ca5100"</span> <span class="hljs-attr">Background</span>=<span class="hljs-string">"#ca5100"</span> <span class="hljs-attr">CornerRadius</span>=<span class="hljs-string">"10"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">TextBlock</span> <span class="hljs-attr">Text</span>=<span class="hljs-string">"é€€å‡ºç³»ç»Ÿ"</span> <span class="hljs-attr">Foreground</span>=<span class="hljs-string">"White"</span> <span class="hljs-attr">HorizontalAlignment</span>=<span class="hljs-string">"Center"</span> <span class="hljs-attr">VerticalAlignment</span>=<span class="hljs-string">"Center"</span> <span class="hljs-attr">Margin</span>=<span class="hljs-string">"5"</span>/&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">Border</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">StackPanel</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">DockPanel</span>&gt;</span></span>
    &lt;!--left--&gt;
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">StackPanel</span> <span class="hljs-attr">Grid.Row</span>=<span class="hljs-string">"1"</span> <span class="hljs-attr">Grid.Column</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">Width</span>=<span class="hljs-string">"350"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Border</span> <span class="hljs-attr">Height</span>=<span class="hljs-string">"250"</span> <span class="hljs-attr">Margin</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">Padding</span>=<span class="hljs-string">"5"</span> <span class="hljs-attr">Background</span>=<span class="hljs-string">"#439d84"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">TextBlock</span> <span class="hljs-attr">Text</span>=<span class="hljs-string">"å‚æ•°åŒºåŸŸ"</span> <span class="hljs-attr">Margin</span>=<span class="hljs-string">"5"</span> <span class="hljs-attr">HorizontalAlignment</span>=<span class="hljs-string">"Center"</span> <span class="hljs-attr">VerticalAlignment</span>=<span class="hljs-string">"Center"</span> <span class="hljs-attr">Foreground</span>=<span class="hljs-string">"White"</span> <span class="hljs-attr">FontSize</span>=<span class="hljs-string">"15"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Border</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">Border</span> <span class="hljs-attr">Height</span>=<span class="hljs-string">"250"</span> <span class="hljs-attr">Margin</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">Padding</span>=<span class="hljs-string">"5"</span> <span class="hljs-attr">Background</span>=<span class="hljs-string">"#439d84"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">TextBlock</span> <span class="hljs-attr">Text</span>=<span class="hljs-string">"å‚æ•°åŒºåŸŸ"</span> <span class="hljs-attr">Margin</span>=<span class="hljs-string">"5"</span> <span class="hljs-attr">HorizontalAlignment</span>=<span class="hljs-string">"Center"</span> <span class="hljs-attr">VerticalAlignment</span>=<span class="hljs-string">"Center"</span> <span class="hljs-attr">Foreground</span>=<span class="hljs-string">"White"</span> <span class="hljs-attr">FontSize</span>=<span class="hljs-string">"15"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Border</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">Border</span> <span class="hljs-attr">Height</span>=<span class="hljs-string">"110"</span> <span class="hljs-attr">Margin</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">Padding</span>=<span class="hljs-string">"5"</span> <span class="hljs-attr">Background</span>=<span class="hljs-string">"#439d84"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">TextBlock</span> <span class="hljs-attr">Text</span>=<span class="hljs-string">"å‚æ•°åŒºåŸŸ"</span> <span class="hljs-attr">Margin</span>=<span class="hljs-string">"5"</span> <span class="hljs-attr">HorizontalAlignment</span>=<span class="hljs-string">"Center"</span> <span class="hljs-attr">VerticalAlignment</span>=<span class="hljs-string">"Center"</span> <span class="hljs-attr">Foreground</span>=<span class="hljs-string">"White"</span> <span class="hljs-attr">FontSize</span>=<span class="hljs-string">"15"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Border</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">StackPanel</span>&gt;</span></span>

    &lt;!--right--&gt;
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Grid</span> <span class="hljs-attr">Grid.Row</span>=<span class="hljs-string">"1"</span> <span class="hljs-attr">Grid.Column</span>=<span class="hljs-string">"1"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Border</span> <span class="hljs-attr">Margin</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">Padding</span>=<span class="hljs-string">"5"</span> <span class="hljs-attr">BorderThickness</span>=<span class="hljs-string">"1"</span> <span class="hljs-attr">BorderBrush</span>=<span class="hljs-string">"#f7bd93"</span> <span class="hljs-attr">CornerRadius</span>=<span class="hljs-string">"5"</span> <span class="hljs-attr">Background</span>=<span class="hljs-string">"#fdd2d2"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">TextBlock</span> <span class="hljs-attr">Text</span>=<span class="hljs-string">"ä¸»ä½“åŒºåŸŸ"</span> <span class="hljs-attr">Margin</span>=<span class="hljs-string">"5"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Border</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Border</span> <span class="hljs-attr">Width</span>=<span class="hljs-string">"150"</span> <span class="hljs-attr">Height</span>=<span class="hljs-string">"150"</span> <span class="hljs-attr">Padding</span>=<span class="hljs-string">"5"</span> <span class="hljs-attr">BorderThickness</span>=<span class="hljs-string">"1"</span> <span class="hljs-attr">Background</span>=<span class="hljs-string">"red"</span> <span class="hljs-attr">BorderBrush</span>=<span class="hljs-string">"Gray"</span> <span class="hljs-attr">CornerRadius</span>=<span class="hljs-string">"75"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">TextBlock</span> <span class="hljs-attr">Text</span>=<span class="hljs-string">"å¼€å§‹è¿è¡Œ"</span> <span class="hljs-attr">HorizontalAlignment</span>=<span class="hljs-string">"Center"</span> <span class="hljs-attr">VerticalAlignment</span>=<span class="hljs-string">"Center"</span> <span class="hljs-attr">Foreground</span>=<span class="hljs-string">"White"</span> <span class="hljs-attr">FontSize</span>=<span class="hljs-string">"20"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Border</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Grid</span>&gt;</span></span>

    &lt;!--<span class="hljs-title class_">Bottom</span>--&gt;
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Grid</span> <span class="hljs-attr">Grid.Row</span>=<span class="hljs-string">"2"</span> <span class="hljs-attr">Grid.Column</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">Grid.ColumnSpan</span>=<span class="hljs-string">"2"</span> <span class="hljs-attr">Background</span>=<span class="hljs-string">"Orange"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">TextBlock</span> <span class="hljs-attr">Text</span>=<span class="hljs-string">"ç‰ˆæœ¬å· 1.2658.24546 ç‰ˆæƒæ‰€æœ‰ï¼š"</span> <span class="hljs-attr">Foreground</span>=<span class="hljs-string">"White"</span> <span class="hljs-attr">FontSize</span>=<span class="hljs-string">"14"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Grid</span>&gt;</span></span>

&lt;/<span class="hljs-title class_">Grid</span>&gt;
</code></pre>
<h2 data-id="heading-12">GridSplitteråˆ†å‰²çª—å£_</h2>
<ul>
<li>
<p>åŠŸèƒ½ç‰¹æ€§ï¼šå¯å°†åŒºåŸŸåˆ†æˆä¸¤éƒ¨åˆ†å¹¶é€šè¿‡é¼ æ ‡æ‹–åŠ¨è°ƒæ•´åŒºåŸŸå¤§å°</p>
</li>
<li>
<p>äº¤äº’æ–¹å¼ï¼šé¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºåŒå‘ç®­å¤´å…‰æ ‡ï¼ŒæŒ‰ä½æ‹–åŠ¨å¯å®æ—¶è°ƒæ•´åˆ†å‰²æ¯”ä¾‹</p>
</li>
<li>
<p>åŸºç¡€ç»“æ„ï¼šéœ€è¦å…ˆåˆ›å»ºåŒ…å«å¤šåˆ—çš„Gridå¸ƒå±€</p>
</li>
<li>
<p>å…³é”®è®¾ç½®ï¼š</p>
<ul>
<li>ä¸­é—´åˆ—å®½åº¦è®¾ä¸º"Auto"ï¼ˆWidth="Auto"ï¼‰</li>
<li>ä¸¤ä¾§åˆ—é‡‡ç”¨é»˜è®¤æˆ–å›ºå®šå®½åº¦</li>
</ul>
</li>
<li>
<p>æ³¨æ„äº‹é¡¹ï¼šæœªæ”¾ç½®æ§ä»¶æ—¶Autoåˆ—ä¼šéšè—</p>
</li>
<li>
<p>äº¤äº’åé¦ˆï¼šé¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºåŒå‘ç®­å¤´å…‰æ ‡</p>
</li>
<li>
<p>åŠ¨æ€è°ƒæ•´ï¼šæ‹–åŠ¨æ—¶å¯å®æ—¶æ”¹å˜ä¸¤ä¾§åŒºåŸŸå®½åº¦æ¯”ä¾‹</p>
</li>
<li>
<p>åº”ç”¨ä»·å€¼ï¼šé€‚ç”¨äºéœ€è¦çµæ´»è°ƒæ•´å¸ƒå±€æ¯”ä¾‹çš„åœºæ™¯ï¼ˆå¦‚IDEé¢æ¿ã€æ–‡ä»¶ç®¡ç†å™¨ç­‰ï¼‰</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/92c96e2b8e404fd3aaa86f2f08bc5e23~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdW5kZWZpbmVk5Zyo5o6Y6YeRMzkwNDE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769006256&amp;x-signature=M33P%2FFKIyJDXNfJW4HDyW7f8AX4%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-js" lang="js"> &lt;<span class="hljs-title class_">Grid</span>&gt;
     <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Grid.ColumnDefinitions</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-name">ColumnDefinition</span>/&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-name">ColumnDefinition</span> <span class="hljs-attr">Width</span>=<span class="hljs-string">"auto"</span>/&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-name">ColumnDefinition</span>/&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-name">Grid.ColumnDefinitions</span>&gt;</span></span>

     <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Border</span> <span class="hljs-attr">Grid.Column</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">Background</span>=<span class="hljs-string">"LightBlue"</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-name">TextBlock</span> <span class="hljs-attr">TextWrapping</span>=<span class="hljs-string">"Wrap"</span> <span class="hljs-attr">Padding</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">LineHeight</span>=<span class="hljs-string">"20"</span> <span class="hljs-attr">Text</span>=<span class="hljs-string">"è€å®äº¤ä»£è‹¦ä¸ŠåŠ è‹¦ç¦»å¼€æ—¶é—´æ®µå’–å•¡æœºæ¥ä¸Šè¯¾å¤§å§å¤«ç«‹å¡è§è¯†åˆ°äº†å’–å•¡æœºçŒæ€å¯¹å†³é¥­å¡ä¸Šç”µåŠ›ç§‘æŠ€é˜¿è¨è¾¾æ¿€å‘æ‹‰å¡å—æ‰“å‡»ç«‹å¡ç¦»å¼€å®¶å¡ç»“ç®—å•å¯æ¥å—çš„å‘ç”Ÿäº†è‚¯å¾·åŸºå›°äº†å°±ç¡åœ°æ–¹"</span>/&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-name">Border</span>&gt;</span></span>

     <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">GridSplitter</span> <span class="hljs-attr">Grid.Column</span>=<span class="hljs-string">"1"</span> <span class="hljs-attr">Width</span>=<span class="hljs-string">"5"</span> <span class="hljs-attr">HorizontalAlignment</span>=<span class="hljs-string">"Center"</span> <span class="hljs-attr">ShowsPreview</span>=<span class="hljs-string">"False"</span>/&gt;</span></span>
     <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Border</span> <span class="hljs-attr">Grid.Column</span>=<span class="hljs-string">"2"</span>  <span class="hljs-attr">Background</span>=<span class="hljs-string">"LightCoral"</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-name">TextBlock</span> <span class="hljs-attr">TextWrapping</span>=<span class="hljs-string">"Wrap"</span> <span class="hljs-attr">Padding</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">LineHeight</span>=<span class="hljs-string">"20"</span> <span class="hljs-attr">Text</span>=<span class="hljs-string">"è€å®äº¤ä»£è‹¦ä¸ŠåŠ è‹¦ç¦»å¼€æ—¶é—´æ®µå’–å•¡æœºæ¥ä¸Šè¯¾å¤§å§å¤«ç«‹å¡è§è¯†åˆ°äº†å’–å•¡æœºçŒæ€å¯¹å†³é¥­å¡ä¸Šç”µåŠ›ç§‘æŠ€é˜¿è¨è¾¾æ¿€å‘æ‹‰å¡å—æ‰“å‡»ç«‹å¡ç¦»å¼€å®¶å¡ç»“ç®—å•å¯æ¥å—çš„å‘ç”Ÿäº†è‚¯å¾·åŸºå›°äº†å°±ç¡åœ°æ–¹"</span>/&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-name">Border</span>&gt;</span></span>
 &lt;/<span class="hljs-title class_">Grid</span>&gt;
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ–‡ææ‡‚ JavaScript æ•°æ®ç±»å‹è½¬æ¢ï¼ˆæ˜¾å¼ & éšå¼å…¨è§£æï¼‰]]></title>    <link>https://juejin.cn/post/7594854295759487019</link>    <guid>https://juejin.cn/post/7594854295759487019</guid>    <pubDate>2026-01-14T14:41:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594854295759487019" data-draft-id="7593342203823276038" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ–‡ææ‡‚ JavaScript æ•°æ®ç±»å‹è½¬æ¢ï¼ˆæ˜¾å¼ &amp; éšå¼å…¨è§£æï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2026-01-14T14:41:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="zhEng"/> <meta itemprop="url" content="https://juejin.cn/user/4398498737560861"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ–‡ææ‡‚ JavaScript æ•°æ®ç±»å‹è½¬æ¢ï¼ˆæ˜¾å¼ &amp; éšå¼å…¨è§£æï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4398498737560861/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    zhEng
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-14T14:41:54.000Z" title="Wed Jan 14 2026 14:41:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="an-old-hope">.hljs-comment,.hljs-quote{color:#b6b18b}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#eb3c54}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#e7ce56}.hljs-attribute{color:#ee7c2b}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#4fb4d7}.hljs-section,.hljs-title{color:#78bb65}.hljs-keyword,.hljs-selector-tag{color:#b45ea4}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#1c1d21;color:#c0c5ce}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1ã€ä¸ºä»€ä¹ˆ JS ä¼šæœ‰æ•°æ®ç±»å‹è½¬æ¢ï¼Ÿ</h2>
<p>å…ˆä»ä¸€ä¸ªæœ€æœ¬è´¨çš„ç‰¹ç‚¹è¯´èµ· ğŸ‘‡</p>
<h3 data-id="heading-1">(1) JavaScript æ˜¯ä¸€é—¨ã€ŒåŠ¨æ€ç±»å‹è¯­è¨€ã€</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> i = <span class="hljs-number">1</span>;
i = <span class="hljs-string">"zhangsan"</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i);
</code></pre>
<p>åœ¨ JS ä¸­ï¼š</p>
<ul>
<li>å˜é‡<strong>æ²¡æœ‰å›ºå®šç±»å‹</strong></li>
<li>ç±»å‹æ˜¯åœ¨<strong>è¿è¡Œæ—¶æ‰ç¡®å®šçš„</strong></li>
</ul>
<p>è¿™å’Œ Java / TypeScript å®Œå…¨ä¸åŒã€‚</p>
<h3 data-id="heading-2">(2) è¿ç®—ç¬¦ã€Œæœ‰ç±»å‹é¢„æœŸã€</h3>
<p>è™½ç„¶å˜é‡æ²¡æœ‰ç±»å‹ï¼Œä½†<strong>è¿ç®—ç¬¦æ˜¯æœ‰è¦æ±‚çš„</strong>ã€‚è™½ç„¶æ˜¯ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸å‡ï¼Œä½†æ˜¯ä¾ç„¶å¾—åˆ°æ•°å€¼Â <code>1</code>ï¼ŒåŸå› å°±åœ¨äºÂ <em>JavaScript</em>Â å°†è¿ç®—å­è‡ªåŠ¨è½¬ä¸ºäº†æ•°å€¼ã€‚</p>
<p>æ‰€ä»¥æ¥ä¸‹æ¥å°±æ¥çœ‹ä¸€ä¸‹Â <em>JavaScript</em>Â ä¸­å¦‚ä½•è¿›è¡Œæ•°æ®ç±»å‹è½¬æ¢ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-string">'4'</span> - <span class="hljs-string">'3'</span> <span class="hljs-comment">// 1</span>
</code></pre>
<p>å‡æ³•è¿ç®—ç¬¦æœŸæœ›çš„æ˜¯ã€Œæ•°å­—ã€ï¼Œäºæ˜¯ JS ä¼šåœ¨èƒŒåå·å·åšä¸€ä»¶äº‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-string">'4'</span> â†’ <span class="hljs-number">4</span>
<span class="hljs-string">'3'</span> â†’ <span class="hljs-number">3</span>
</code></pre>
<p><strong>è¿™å°±æ˜¯æ•°æ®ç±»å‹è½¬æ¢å­˜åœ¨çš„æ ¹æœ¬åŸå› </strong></p>
<hr/>
<h2 data-id="heading-3">2ã€æ˜¾å¼è½¬æ¢ï¼ˆä½ è‡ªå·±åŠ¨æ‰‹ï¼‰</h2>
<p>å¼ºåˆ¶è½¬æ¢ä¸»è¦æŒ‡ä½¿ç”¨<code>Number()</code>ã€<code>String()</code>å’Œ<code>Boolean()</code>ä¸‰ä¸ªå‡½æ•°ï¼Œæ‰‹åŠ¨å°†å„ç§ç±»å‹çš„å€¼ï¼Œåˆ†åˆ«è½¬æ¢æˆæ•°å­—ã€å­—ç¬¦ä¸²æˆ–è€…å¸ƒå°”å€¼ã€‚</p>
<h3 data-id="heading-4">2.1 Number()ï¼šæŠŠä¸€åˆ‡å˜æˆæ•°å­—</h3>
<h4 data-id="heading-5">ï¼ˆ1ï¼‰åŸå§‹ç±»å‹</h4>
<p>åŸå§‹ç±»å‹å€¼çš„è½¬æ¢è§„åˆ™å¦‚ä¸‹:</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title class_">Number</span>(<span class="hljs-string">''</span>)        <span class="hljs-comment">// 0</span>
<span class="hljs-title class_">Number</span>(<span class="hljs-string">'123'</span>)     <span class="hljs-comment">// 123</span>
<span class="hljs-title class_">Number</span>(<span class="hljs-string">'zhangsan'</span>)  <span class="hljs-comment">// NaN</span>
<span class="hljs-title class_">Number</span>(<span class="hljs-string">'123?'</span>)    <span class="hljs-comment">// NaN</span>

<span class="hljs-title class_">Number</span>(<span class="hljs-literal">true</span>)      <span class="hljs-comment">// 1</span>
<span class="hljs-title class_">Number</span>(<span class="hljs-literal">false</span>)     <span class="hljs-comment">// 0</span>

<span class="hljs-title class_">Number</span>(<span class="hljs-literal">undefined</span>) <span class="hljs-comment">// NaN</span>
<span class="hljs-title class_">Number</span>(<span class="hljs-literal">null</span>)      <span class="hljs-comment">// 0</span>
</code></pre>
<p>âš ï¸ æ³¨æ„ï¼š<code>Number()</code> <strong>éå¸¸ä¸¥æ ¼</strong>ï¼Œ <code>parseInt</code>èƒ½è½¬å¤šå°‘è½¬å¤šå°‘ï¼Œ<code>Number</code>ä¸çº¯å°±ç›´æ¥ NaN</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-built_in">parseInt</span>(<span class="hljs-string">'123abc'</span>) <span class="hljs-comment">// 123</span>
<span class="hljs-title class_">Number</span>(<span class="hljs-string">'123abc'</span>)   <span class="hljs-comment">// NaN</span>
</code></pre>
<h4 data-id="heading-6">ï¼ˆ2ï¼‰å¯¹è±¡è½¬æ¢è§„åˆ™ï¼ˆé‡ç‚¹ï¼‰</h4>
<p>ç®€å•çš„è§„åˆ™æ˜¯ï¼Œ<code>Number</code>æ–¹æ³•çš„å‚æ•°æ˜¯å¯¹è±¡æ—¶ï¼Œå°†è¿”å›<code>NaN</code>ï¼Œé™¤éæ˜¯åŒ…å«å•ä¸ªæ•°å€¼çš„æ•°ç»„ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title class_">Number</span>({<span class="hljs-attr">n</span>: <span class="hljs-number">1</span>}) <span class="hljs-comment">// NaN</span>
<span class="hljs-title class_">Number</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]) <span class="hljs-comment">// NaN</span>
<span class="hljs-title class_">Number</span>([<span class="hljs-number">6</span>]) <span class="hljs-comment">// 6</span>
</code></pre>
<p>å†…éƒ¨å…¶å®èµ°äº†<strong>ä¸‰æ­¥è§„åˆ™</strong>ï¼š</p>
<ol>
<li>å…ˆè°ƒç”¨å¯¹è±¡è‡ªèº«çš„ <code>valueOf()</code>æ–¹æ³•ã€‚å¦‚æœè¿”å›åŸå§‹ç±»å‹çš„å€¼ï¼Œåˆ™ç›´æ¥å¯¹è¯¥å€¼ä½¿ç”¨<code>Number</code>å‡½æ•°,ä¸åœ¨è¿›è¡Œåç»­æ“ä½œã€‚</li>
<li>å¦‚æœ<code>valueOf</code>æ–¹æ³•è¿”å›çš„è¿˜æ˜¯å¯¹è±¡ï¼Œåˆ™æ”¹ä¸ºè°ƒç”¨å¯¹è±¡çš„<code>toString</code>æ–¹æ³•ã€‚å¦‚æœ<code>toString</code>æ–¹æ³•è¿”å›åŸå§‹ç±»å‹çš„å€¼ï¼Œåˆ™å¯¹è¯¥å€¼ä½¿ç”¨<code>Number</code>å‡½æ•°ï¼Œä¸å†è¿›è¡Œåç»­æ“ä½œã€‚</li>
<li>å¦‚æœ<code>toString</code>æ–¹æ³•è¿”å›çš„ä»æ˜¯å¯¹è±¡ï¼Œå°±æŠ¥é”™ã€‚</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> obj = { <span class="hljs-attr">name</span>: <span class="hljs-string">'zhangsan'</span> };
obj.<span class="hljs-title function_">valueOf</span>();   <span class="hljs-comment">// { name: 'zhangsan' }</span>
obj.<span class="hljs-title function_">toString</span>();  <span class="hljs-comment">// "[object Object]"</span>
<span class="hljs-title class_">Number</span>(obj);     <span class="hljs-comment">// NaN</span>

<span class="hljs-comment">// ç­‰ä»·äº</span>
<span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> obj.<span class="hljs-title function_">valueOf</span>() === <span class="hljs-string">'object'</span>) {
   <span class="hljs-title class_">Number</span>(obj.<span class="hljs-title function_">toString</span>());
} <span class="hljs-keyword">else</span> {
   <span class="hljs-title class_">Number</span>(obj.<span class="hljs-title function_">valueOf</span>());
}
</code></pre>
<p>ä¸Šè¿°ä»£ç ï¼Œ<code>Number</code>å‡½æ•°å°†<code>obj</code>å¯¹è±¡è½¬ä¸ºæ•°å€¼ï¼Œé¦–å…ˆè°ƒç”¨<code>obj.valueOf</code>æ–¹æ³•, ç»“æœè¿”å›å¯¹è±¡æœ¬èº«ï¼›äºæ˜¯ï¼Œç»§ç»­è°ƒç”¨<code>obj.toString</code>æ–¹æ³•ï¼Œè¿™æ—¶è¿”å›å­—ç¬¦ä¸²<code>[object Object]</code>ï¼Œå¯¹è¿™ä¸ªå­—ç¬¦ä¸²ä½¿ç”¨<code>Number</code>å‡½æ•°ï¼Œå¾—åˆ°<code>NaN</code>ã€‚</p>
<p>å¦‚æœ<code>toString</code>æ–¹æ³•è¿”å›çš„ä»ä¸æ˜¯åŸå§‹ç±»å‹çš„å€¼ï¼Œç»“æœå°±ä¼šæŠ¥é”™</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> obj = {
  <span class="hljs-title function_">valueOf</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {}
  },
  <span class="hljs-title function_">toString</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {}
  }
}
<span class="hljs-title class_">Number</span>(obj);
<span class="hljs-comment">// TypeError: Cannot convert object to primitive value</span>
</code></pre>
<p>ä»ä¸Šè¿°å¯ä»¥çœ‹å‡ºï¼Œ<code>valueOf</code>å’Œ<code>toString</code>æ–¹æ³•ï¼Œæ˜¯å¯ä»¥è‡ªå®šä¹‰çš„ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// éªŒè¯ä¼šè°ƒç”¨valueOf</span>
<span class="hljs-keyword">const</span> obj = {
  <span class="hljs-title function_">valueOf</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-number">10</span>;
  }
}
<span class="hljs-title class_">Number</span>(obj); <span class="hljs-comment">// 10</span>

<span class="hljs-comment">// éªŒè¯ä¼šè°ƒç”¨toString</span>
<span class="hljs-keyword">const</span> obj2 = {
  <span class="hljs-title function_">toString</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-number">20</span>
  }
}
<span class="hljs-title class_">Number</span>(obj2); <span class="hljs-comment">// 20</span>

<span class="hljs-comment">// éªŒè¯valueOfæ–¹æ³•å…ˆäºtoStringæ–¹æ³•</span>
<span class="hljs-keyword">const</span> obj3 = {
  <span class="hljs-title function_">valueOf</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-number">10</span>
  },
  <span class="hljs-title function_">toString</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-number">20</span>
  }
}
<span class="hljs-title class_">Number</span>(obj3); <span class="hljs-comment">// 10</span>
</code></pre>
<p>æ•°ç»„ä¸ºä»€ä¹ˆä¸ä¸€æ ·ï¼Ÿ</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title class_">Number</span>([<span class="hljs-number">5</span>])    <span class="hljs-comment">// 5</span>
<span class="hljs-title class_">Number</span>([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>])  <span class="hljs-comment">// NaN</span>
</code></pre>
<p>åŸå› æ‹†è§£ï¼š</p>
<pre><code class="hljs language-js" lang="js">[<span class="hljs-number">5</span>].<span class="hljs-title function_">valueOf</span>()  <span class="hljs-comment">// [5]</span>
[<span class="hljs-number">5</span>].<span class="hljs-title function_">toString</span>()   <span class="hljs-comment">// "5"</span>
<span class="hljs-title class_">Number</span>(<span class="hljs-string">"5"</span>)      <span class="hljs-comment">// 5</span>

[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>].<span class="hljs-title function_">toString</span>() <span class="hljs-comment">// "1,2"</span>
<span class="hljs-title class_">Number</span>(<span class="hljs-string">"1,2"</span>)    <span class="hljs-comment">// NaN</span>
</code></pre>
<p>æ‰§è¡Œé¡ºåºæ°¸è¿œæ˜¯ï¼š</p>
<blockquote>
<p><strong>valueOfæ–¹æ³• ä¼˜å…ˆäº toStringæ–¹æ³•</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-7">2.2 String()ï¼šè½¬æˆå­—ç¬¦ä¸²</h3>
<h4 data-id="heading-8">ï¼ˆ1ï¼‰åŸå§‹ç±»å‹å€¼</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title class_">String</span>(<span class="hljs-number">123</span>);        <span class="hljs-comment">// "123"</span>
<span class="hljs-title class_">String</span>(<span class="hljs-literal">true</span>);       <span class="hljs-comment">// "true"</span>
<span class="hljs-title class_">String</span>(<span class="hljs-string">'test'</span>);     <span class="hljs-comment">// "test"</span>
<span class="hljs-title class_">String</span>(<span class="hljs-literal">undefined</span>);  <span class="hljs-comment">// "undefined"</span>
<span class="hljs-title class_">String</span>(<span class="hljs-literal">null</span>);       <span class="hljs-comment">// "null"</span>
</code></pre>
<h4 data-id="heading-9">å¯¹è±¡è§„åˆ™</h4>
<p><code>String</code>æ–¹æ³•çš„å‚æ•°å¦‚æœæ˜¯å¯¹è±¡ï¼Œè¿”å›ä¸€ä¸ªç±»å‹å­—ç¬¦ä¸²ï¼›å¦‚æœæ˜¯æ•°ç»„ï¼Œè¿”å›è¯¥æ•°ç»„çš„å­—ç¬¦ä¸²å½¢å¼ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title class_">String</span>({<span class="hljs-attr">a</span>:<span class="hljs-number">1</span>}) <span class="hljs-comment">// "[object Object]"</span>
<span class="hljs-title class_">String</span>([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>]) <span class="hljs-comment">// "1,2"</span>
</code></pre>
<p><code>String</code>æ–¹æ³•èƒŒåçš„è½¬æ¢è§„åˆ™ï¼Œä¸<code>Number</code>æ–¹æ³•åŸºæœ¬ç›¸åŒï¼Œåªæ˜¯äº’æ¢äº†<code>valueOf</code>æ–¹æ³•å’Œ<code>toString</code>æ–¹æ³•çš„æ‰§è¡Œé¡ºåºã€‚</p>
<ol>
<li>å…ˆè°ƒç”¨è‡ªèº«<code>toString</code>æ–¹æ³•ï¼Œå¦‚æœè¿”å›åŸå§‹ç±»å‹çš„å€¼ï¼Œåˆ™å¯¹è¯¥å€¼ä½¿ç”¨<code>String</code>å‡½æ•°ï¼Œä¸å†è¿›è¡Œåç»­æ“ä½œã€‚</li>
<li>å¦‚æœ<code>toString</code>æ–¹æ³•è¿”å›çš„è¿˜æ˜¯å¯¹è±¡ï¼Œåˆ™è°ƒç”¨å¯¹è±¡çš„<code>valueOf</code>æ–¹æ³•ï¼Œå¦‚æœ<code>valueOf</code>æ–¹æ³•è¿”å›åŸå§‹ç±»å‹çš„å€¼ï¼Œåˆ™å¯¹è¯¥å€¼ä½¿ç”¨<code>String</code>å‡½æ•°ï¼Œä¸å†è¿›è¡Œåç»­æ“ä½œã€‚</li>
<li>å¦‚æœ<code>valueOf</code>æ–¹æ³•è¿”å›çš„ä»æ˜¯å¯¹è±¡ï¼Œå°±æŠ¥é”™ã€‚</li>
</ol>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title class_">String</span>({ <span class="hljs-attr">name</span>:<span class="hljs-string">'zhangsan'</span> }); <span class="hljs-comment">// "[object Object]"</span>
<span class="hljs-comment">// ç­‰ä»·äº</span>
<span class="hljs-title class_">String</span>({ <span class="hljs-attr">name</span>:<span class="hljs-string">'zhangsan'</span> }.<span class="hljs-title function_">toString</span>()) <span class="hljs-comment">// "[object Object]"</span>
</code></pre>
<p>å¦‚æœ<code>toString</code>å’Œ<code>valueOf</code>æ–¹æ³•ï¼Œè¿”å›çš„éƒ½æ˜¯å¯¹è±¡å°±æŠ¥é”™ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> obj = {
  <span class="hljs-title function_">toString</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'1'</span>);
    <span class="hljs-keyword">return</span> {}
  },

  <span class="hljs-title function_">valueOf</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'2'</span>);
    <span class="hljs-keyword">return</span> {}
  }
};

<span class="hljs-title class_">String</span>(obj) <span class="hljs-comment">// TypeError: Cannot convert object to primitxive value</span>
</code></pre>
<p>ä»ä¸Šè¿°å¯ä»¥çœ‹å‡ºï¼Œ<code>toString</code>å’Œ<code>valueOf</code>æ–¹æ³•ï¼Œæ˜¯å¯ä»¥è‡ªå®šä¹‰çš„ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> obj = {
  <span class="hljs-title function_">toString</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'1'</span>);
    <span class="hljs-comment">// return {}</span>
    <span class="hljs-keyword">return</span> <span class="hljs-number">10</span>;
  },

  <span class="hljs-title function_">valueOf</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'2'</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-number">20</span>;
  }
};
<span class="hljs-comment">// toStringæ–¹æ³•å¦‚æœè¿”å›10åˆ™è¾“å‡º'10'</span>
<span class="hljs-comment">// toStringè¿”å›å¦‚æœè¿”å›{}ï¼Œåˆ™ç»§ç»­æ‰§è¡ŒvalueOfæ–¹æ³•ï¼Œè¾“å‡º'20'</span>
<span class="hljs-title class_">String</span>(obj);
</code></pre>
<hr/>
<h3 data-id="heading-10">2.3 Boolean()ï¼šæœ€ç®€å•ï¼Œä½†æœ€å®¹æ˜“è¸©å‘</h3>
<p><code>Boolean()</code>å‡½æ•°å¯ä»¥å°†ä»»æ„ç±»å‹çš„å€¼è½¬ä¸ºå¸ƒå°”å€¼ã€‚å®ƒçš„è½¬æ¢è§„åˆ™æ¯”è¾ƒç®€å•ï¼Œåªæœ‰ <strong>5 ä¸ªå€¼æ˜¯ false</strong>ï¼Œå…¶ä»–çš„å€¼å…¨éƒ¨ä¸º<code>true</code>ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-literal">false</span>
<span class="hljs-number">0</span>
<span class="hljs-string">''</span>
<span class="hljs-literal">null</span>
<span class="hljs-literal">undefined</span>
<span class="hljs-title class_">NaN</span>
</code></pre>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title class_">Boolean</span>({})   <span class="hljs-comment">// true</span>
<span class="hljs-title class_">Boolean</span>([])   <span class="hljs-comment">// true</span>
<span class="hljs-title class_">Boolean</span>(<span class="hljs-literal">false</span>) <span class="hljs-comment">// false</span>
</code></pre>
<p>âš ï¸ æ‰€æœ‰å¯¹è±¡çš„å¸ƒå°”å€¼ï¼Œ<strong>æ°¸è¿œæ˜¯ true</strong></p>
<h2 data-id="heading-11">4ã€éšå¼è½¬æ¢</h2>
<h3 data-id="heading-12">ï¼ˆ1ï¼‰ è‡ªåŠ¨è½¬å¸ƒå°”ï¼ˆif åˆ¤æ–­ï¼‰</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">if</span> (<span class="hljs-string">'abc'</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Hello'</span>);
}
</code></pre>
<p>ç­‰ä»·äºï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">if</span> (<span class="hljs-title class_">Boolean</span>(<span class="hljs-string">'abc'</span>)) {}
</code></pre>
<p>å¿«é€Ÿå†™æ³•ï¼š</p>
<pre><code class="hljs language-js" lang="js">!!<span class="hljs-string">'abc'</span> <span class="hljs-comment">// true</span>
</code></pre>
<h3 data-id="heading-13">ï¼ˆ2ï¼‰è‡ªåŠ¨è½¬å­—ç¬¦ä¸²ï¼ˆ+ å·ï¼‰</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-string">'5'</span> + <span class="hljs-number">1</span>        <span class="hljs-comment">// "51"</span>
<span class="hljs-string">'5'</span> + <span class="hljs-literal">true</span>     <span class="hljs-comment">// "5true"</span>
<span class="hljs-string">'5'</span> + {}       <span class="hljs-comment">// "5[object Object]"</span>
</code></pre>
<p>æ ¸å¿ƒè§„åˆ™ï¼š</p>
<blockquote>
<p><strong>åªè¦æœ‰å­—ç¬¦ä¸²ï¼Œ+ å°±å˜æˆæ‹¼æ¥</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-14">ï¼ˆ3ï¼‰è‡ªåŠ¨è½¬æ•°å­—ï¼ˆ- * /ï¼‰</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-string">'5'</span> - <span class="hljs-string">'2'</span>     <span class="hljs-comment">// 3</span>
<span class="hljs-string">'5'</span> * []      <span class="hljs-comment">// 0</span>
<span class="hljs-string">'5'</span> * [<span class="hljs-number">2</span>]     <span class="hljs-comment">// 10</span>
<span class="hljs-string">'5'</span> * [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>]   <span class="hljs-comment">// NaN</span>
</code></pre>
<p>æ‹†è§£ <code>[]</code> çš„ä¾‹å­ï¼š</p>
<pre><code class="hljs language-js" lang="js">[].<span class="hljs-title function_">toString</span>()  <span class="hljs-comment">// ""</span>
<span class="hljs-title class_">Number</span>(<span class="hljs-string">""</span>)     <span class="hljs-comment">// 0</span>
</code></pre>
<hr/>
<h3 data-id="heading-15">ï¼ˆ4ï¼‰ä¸€å…ƒè¿ç®—ç¬¦ +</h3>
<pre><code class="hljs language-js" lang="js">+<span class="hljs-string">'abc'</span>   <span class="hljs-comment">// NaN</span>
+<span class="hljs-literal">true</span>    <span class="hljs-comment">// 1</span>
+<span class="hljs-literal">false</span>   <span class="hljs-comment">// 0</span>
</code></pre>
<hr/>
<p>JavaScript çš„ç±»å‹è½¬æ¢åˆ†ä¸º <strong>æ˜¾å¼è½¬æ¢</strong>å’Œ<strong>éšå¼è½¬æ¢</strong>ã€‚</p>
<ul>
<li><strong>æ˜¾å¼è½¬æ¢</strong>ï¼šæ˜¯å¼€å‘è€…ä¸»åŠ¨è°ƒç”¨ <code>Number</code>ã€<code>String</code>ã€<code>Boolean</code> ç­‰æ–¹æ³•ï¼›</li>
<li><strong>éšå¼è½¬æ¢</strong>ï¼šå‘ç”Ÿåœ¨è¿ç®—æˆ–æ¡ä»¶åˆ¤æ–­ä¸­ï¼Œç”± JS æ ¹æ®ä¸Šä¸‹æ–‡è‡ªåŠ¨å®Œæˆï¼›</li>
<li><strong>è½¬æ¢æœ¬è´¨</strong>ï¼šæ ¹æ®è¿ç®—ç¬¦çš„é¢„æœŸç±»å‹ï¼Œè°ƒç”¨å¯¹åº”çš„è½¬æ¢è§„åˆ™ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥è§£æå®‰å“ ELF 16KB é¡µå¯¹é½ï¼šåŸç”Ÿç¼–è¯‘ä¸è„šæœ¬ä¿®å¤çš„æƒè¡¡]]></title>    <link>https://juejin.cn/post/7595043440519970822</link>    <guid>https://juejin.cn/post/7595043440519970822</guid>    <pubDate>2026-01-14T12:45:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595043440519970822" data-draft-id="7594832320030457899" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥è§£æå®‰å“ ELF 16KB é¡µå¯¹é½ï¼šåŸç”Ÿç¼–è¯‘ä¸è„šæœ¬ä¿®å¤çš„æƒè¡¡"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-01-14T12:45:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·4165967369355"/> <meta itemprop="url" content="https://juejin.cn/user/1146150492576877"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥è§£æå®‰å“ ELF 16KB é¡µå¯¹é½ï¼šåŸç”Ÿç¼–è¯‘ä¸è„šæœ¬ä¿®å¤çš„æƒè¡¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1146150492576877/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·4165967369355
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-14T12:45:39.000Z" title="Wed Jan 14 2026 12:45:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç°ä»£å®‰å“å¼€å‘ä¸­ï¼Œä¸ºäº†æå‡å†…å­˜æ€§èƒ½ï¼Œéƒ¨åˆ†æ–°è®¾å¤‡å¼€å§‹é‡‡ç”¨ 16KB ä½œä¸ºå†…å­˜é¡µå¤§å°ï¼Œè€Œéä¼ ç»Ÿçš„ 4KBã€‚è¿™ä¸€å˜åŒ–è¦æ±‚åº”ç”¨ä¸­çš„åŸç”Ÿå…±äº«åº“ï¼ˆ<code>.so</code> æ–‡ä»¶ï¼‰ä¹Ÿå¿…é¡»ä¸ä¹‹å…¼å®¹ï¼Œå³å®ƒä»¬çš„å†…å­˜æ®µï¼ˆsegmentï¼‰éœ€è¦æŒ‰ 16KB å¯¹é½ã€‚å¦‚æœå¯¹é½ä¸æ­£ç¡®ï¼Œå¯èƒ½ä¼šå¯¼è‡´åº”ç”¨åœ¨è¿™äº›è®¾å¤‡ä¸Šæ€§èƒ½ä¸‹é™ï¼Œç”šè‡³ç›´æ¥å´©æºƒã€‚</p>
<p>æœ¬æ–‡å°†æ·±å…¥æ¢è®¨å®ç° 16KB å¯¹é½çš„ä¸¤ç§ä¸»æµæ–¹æ³•ï¼š<strong>é€šè¿‡ç¼–è¯‘å™¨é…ç½®åŸç”Ÿç¼–è¯‘</strong>å’Œ<strong>ä½¿ç”¨è„šæœ¬è¿›è¡ŒåæœŸå¤„ç†</strong>ã€‚æˆ‘ä»¬å°†é‡ç‚¹åˆ†æåè€…çš„å®ç°ã€ä¼˜åŠ¿ä»¥åŠæ½œåœ¨çš„æŠ€æœ¯é£é™©ã€‚</p>
<h2 data-id="heading-0">ä¸¤ç§å¯¹é½æ–¹æ³•</h2>
<h3 data-id="heading-1">æ–¹æ³•ä¸€ï¼šåŸç”Ÿç¼–è¯‘ï¼ˆâ€œæ ¹æ­£è‹—çº¢â€çš„æ–¹æ¡ˆï¼‰</h3>
<p>è¿™æ˜¯æœ€ç†æƒ³ã€æœ€å½»åº•çš„è§£å†³æ–¹æ¡ˆã€‚å®ƒåœ¨é¡¹ç›®ç¼–è¯‘å’Œé“¾æ¥çš„é˜¶æ®µï¼Œç›´æ¥é€šè¿‡é“¾æ¥å™¨ï¼ˆLinkerï¼‰å‚æ•°å‘Šè¯‰æ„å»ºç³»ç»Ÿï¼Œç”Ÿæˆç¬¦åˆ 16KB å¯¹é½è§„èŒƒçš„ ELF æ–‡ä»¶ã€‚</p>
<p>å…·ä½“æ“ä½œé€šå¸¸æ˜¯åœ¨æ„å»ºé…ç½®ï¼ˆå¦‚ <code>CMakeLists.txt</code> æˆ– <code>build.gradle</code>ï¼‰ä¸­ï¼Œä¸ºé“¾æ¥å™¨æ·»åŠ ç±»ä¼¼ <code>-z max-page-size=65536</code> çš„æ ‡å¿—ã€‚</p>
<ul>
<li><strong>ä¼˜ç‚¹</strong>ï¼šä»æºå¤´ä¿è¯äº† ELF æ–‡ä»¶çš„ç»“æ„å®Œæ•´æ€§å’Œæ­£ç¡®æ€§ï¼Œæ˜¯â€œæ ¹æ­£è‹—çº¢â€çš„å®˜æ–¹åšæ³•ã€‚</li>
<li><strong>ç¼ºç‚¹</strong>ï¼šå¯¹äºåºå¤§ã€é™ˆæ—§æˆ–å¤æ‚çš„é¡¹ç›®ï¼Œä¿®æ”¹æ„å»ºç³»ç»Ÿå¯èƒ½éå¸¸æ£˜æ‰‹ï¼Œç”šè‡³å¸¦æ¥æœªçŸ¥çš„ç¼–è¯‘é£é™©ã€‚</li>
</ul>
<h3 data-id="heading-2">æ–¹æ³•äºŒï¼šè„šæœ¬åæœŸå¤„ç†ï¼ˆâ€œåŠ¡å®é«˜æ•ˆâ€çš„è¡¥ä¸ï¼‰</h3>
<p>å½“åŸç”Ÿç¼–è¯‘ä¸ä¾¿å®æ–½æ—¶ï¼Œä¸€ç§éå¸¸æµè¡Œçš„æ›¿ä»£æ–¹æ¡ˆæ˜¯ï¼Œåœ¨ç¼–è¯‘ç”Ÿæˆ <code>.so</code> æ–‡ä»¶åï¼Œé€šè¿‡ä¸€ä¸ªè„šæœ¬æ¥ä¿®æ”¹å…¶å¤´éƒ¨ä¿¡æ¯ï¼Œå¼ºåˆ¶å…¶æŒ‰ 16KB å¯¹é½ã€‚</p>
<p>è¿™ç§æ–¹æ³•çš„æ ¸å¿ƒåŸç†æ˜¯è§£æ ELF æ–‡ä»¶çš„ç¨‹åºå¤´è¡¨ï¼ˆProgram Header Tableï¼‰ï¼Œæ‰¾åˆ°éœ€è¦åŠ è½½åˆ°å†…å­˜çš„æ®µï¼ˆå¦‚ <code>PT_LOAD</code>ï¼‰ï¼Œå¹¶å°†å…¶å¯¹é½å­—æ®µ <code>p_align</code> çš„å€¼ä¿®æ”¹ä¸º <code>65536</code> (16KB)ã€‚</p>
<h4 data-id="heading-3">ä»£ç ç¤ºä¾‹</h4>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªå…¸å‹çš„ Python è„šæœ¬ï¼Œç”¨äºå®ç°æ­¤åŠŸèƒ½ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#!/usr/bin/env python3</span>
<span class="hljs-string">"""
Align ELF files to 16KB page size (65536 bytes)
Based on Android NDK's approach for 16KB page size support
"""</span>

<span class="hljs-keyword">import</span> struct
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> shutil

<span class="hljs-keyword">def</span> <span class="hljs-title function_">align_elf_to_16kb</span>(<span class="hljs-params">filepath</span>):
    <span class="hljs-string">"""Modify ELF file to use 16KB alignment"""</span>
    
    <span class="hljs-comment"># Read the entire file</span>
    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(filepath, <span class="hljs-string">'rb'</span>) <span class="hljs-keyword">as</span> f:
        data = <span class="hljs-built_in">bytearray</span>(f.read())
    
    <span class="hljs-comment"># Check ELF magic</span>
    <span class="hljs-keyword">if</span> data[:<span class="hljs-number">4</span>] != <span class="hljs-string">b'\x7fELF'</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Error: <span class="hljs-subst">{filepath}</span> is not an ELF file"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
    
    <span class="hljs-comment"># Get ELF class (32 or 64 bit)</span>
    ei_class = data[<span class="hljs-number">4</span>]
    <span class="hljs-keyword">if</span> ei_class == <span class="hljs-number">1</span>:  <span class="hljs-comment"># 32-bit</span>
        is_64bit = <span class="hljs-literal">False</span>
        phdr_size = <span class="hljs-number">32</span>
    <span class="hljs-keyword">elif</span> ei_class == <span class="hljs-number">2</span>:  <span class="hljs-comment"># 64-bit</span>
        is_64bit = <span class="hljs-literal">True</span>
        phdr_size = <span class="hljs-number">56</span>
    <span class="hljs-keyword">else</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Error: Unknown ELF class <span class="hljs-subst">{ei_class}</span>"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
    
    <span class="hljs-comment"># Get endianness</span>
    ei_data = data[<span class="hljs-number">5</span>]
    <span class="hljs-keyword">if</span> ei_data == <span class="hljs-number">1</span>:  <span class="hljs-comment"># Little endian</span>
        endian = <span class="hljs-string">'&lt;'</span>
    <span class="hljs-keyword">elif</span> ei_data == <span class="hljs-number">2</span>:  <span class="hljs-comment"># Big endian</span>
        endian = <span class="hljs-string">'&gt;'</span>
    <span class="hljs-keyword">else</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Error: Unknown endianness <span class="hljs-subst">{ei_data}</span>"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
    
    <span class="hljs-comment"># Read program header offset and count</span>
    <span class="hljs-keyword">if</span> is_64bit:
        e_phoff = struct.unpack(endian + <span class="hljs-string">'Q'</span>, data[<span class="hljs-number">32</span>:<span class="hljs-number">40</span>])[<span class="hljs-number">0</span>]
        e_phnum = struct.unpack(endian + <span class="hljs-string">'H'</span>, data[<span class="hljs-number">56</span>:<span class="hljs-number">58</span>])[<span class="hljs-number">0</span>]
    <span class="hljs-keyword">else</span>:
        e_phoff = struct.unpack(endian + <span class="hljs-string">'I'</span>, data[<span class="hljs-number">28</span>:<span class="hljs-number">32</span>])[<span class="hljs-number">0</span>]
        e_phnum = struct.unpack(endian + <span class="hljs-string">'H'</span>, data[<span class="hljs-number">44</span>:<span class="hljs-number">46</span>])[<span class="hljs-number">0</span>]
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  ELF: <span class="hljs-subst">{<span class="hljs-string">'64-bit'</span> <span class="hljs-keyword">if</span> is_64bit <span class="hljs-keyword">else</span> <span class="hljs-string">'32-bit'</span>}</span>, <span class="hljs-subst">{e_phnum}</span> program headers at offset <span class="hljs-subst">{e_phoff}</span>"</span>)
    
    <span class="hljs-comment"># Process each program header</span>
    modified = <span class="hljs-literal">False</span>
    target_align = <span class="hljs-number">65536</span>  <span class="hljs-comment"># 16KB</span>
    
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(e_phnum):
        phdr_offset = e_phoff + i * phdr_size
        
        <span class="hljs-keyword">if</span> is_64bit:
            <span class="hljs-comment"># 64-bit program header</span>
            p_type = struct.unpack(endian + <span class="hljs-string">'I'</span>, data[phdr_offset:phdr_offset+<span class="hljs-number">4</span>])[<span class="hljs-number">0</span>]
            p_align_offset = phdr_offset + <span class="hljs-number">48</span>
            p_align = struct.unpack(endian + <span class="hljs-string">'Q'</span>, data[p_align_offset:p_align_offset+<span class="hljs-number">8</span>])[<span class="hljs-number">0</span>]
        <span class="hljs-keyword">else</span>:
            <span class="hljs-comment"># 32-bit program header</span>
            p_type = struct.unpack(endian + <span class="hljs-string">'I'</span>, data[phdr_offset:phdr_offset+<span class="hljs-number">4</span>])[<span class="hljs-number">0</span>]
            p_align_offset = phdr_offset + <span class="hljs-number">28</span>
            p_align = struct.unpack(endian + <span class="hljs-string">'I'</span>, data[p_align_offset:p_align_offset+<span class="hljs-number">4</span>])[<span class="hljs-number">0</span>]
        
        <span class="hljs-comment"># PT_LOAD = 1, PT_GNU_RELRO = 0x6474e552</span>
        <span class="hljs-keyword">if</span> p_type == <span class="hljs-number">1</span> <span class="hljs-keyword">or</span> p_type == <span class="hljs-number">0x6474e552</span>:
            <span class="hljs-keyword">if</span> p_align &lt; target_align:
                <span class="hljs-built_in">print</span>(<span class="hljs-string">f"    Program header <span class="hljs-subst">{i}</span>: type=<span class="hljs-subst">{<span class="hljs-built_in">hex</span>(p_type)}</span>, align=<span class="hljs-subst">{p_align}</span> -&gt; <span class="hljs-subst">{target_align}</span>"</span>)
                
                <span class="hljs-comment"># Update alignment</span>
                <span class="hljs-keyword">if</span> is_64bit:
                    struct.pack_into(endian + <span class="hljs-string">'Q'</span>, data, p_align_offset, target_align)
                <span class="hljs-keyword">else</span>:
                    struct.pack_into(endian + <span class="hljs-string">'I'</span>, data, p_align_offset, target_align)
                
                modified = <span class="hljs-literal">True</span>
    
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> modified:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"  No modifications needed"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
    
    <span class="hljs-comment"># Backup original file</span>
    backup_path = filepath + <span class="hljs-string">'.bak'</span>
    shutil.copy2(filepath, backup_path)
    
    <span class="hljs-comment"># Write modified data</span>
    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(filepath, <span class="hljs-string">'wb'</span>) <span class="hljs-keyword">as</span> f:
        f.write(data)
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  \u2713 Modified and saved (backup: <span class="hljs-subst">{backup_path}</span>)"</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-comment"># Example: List of libraries to align</span>
    libs_to_align = [
        <span class="hljs-comment"># "path/to/your/lib.so",</span>
    ]
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"=== Starting 16KB ELF alignment ===\n"</span>)
    
    success_count = <span class="hljs-number">0</span>
    <span class="hljs-keyword">for</span> lib <span class="hljs-keyword">in</span> libs_to_align:
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(lib):
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ERROR: <span class="hljs-subst">{lib}</span> not found\n"</span>)
            <span class="hljs-keyword">continue</span>
        
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Processing: <span class="hljs-subst">{lib}</span>"</span>)
        <span class="hljs-keyword">if</span> align_elf_to_16kb(lib):
            success_count += <span class="hljs-number">1</span>
        <span class="hljs-built_in">print</span>()
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"=== Completed: <span class="hljs-subst">{success_count}</span>/<span class="hljs-subst">{<span class="hljs-built_in">len</span>(libs_to_align)}</span> files processed ==="</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span> <span class="hljs-keyword">if</span> success_count == <span class="hljs-built_in">len</span>(libs_to_align) <span class="hljs-keyword">else</span> <span class="hljs-number">1</span>

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    sys.exit(main())

</code></pre>
<ul>
<li><strong>ä¼˜ç‚¹</strong>ï¼šç®€å•ã€å¿«é€Ÿï¼Œæ— éœ€æ¥è§¦å¤æ‚çš„æ„å»ºç³»ç»Ÿã€‚å¯¹äºå¤„ç†æ²¡æœ‰æºç çš„ç¬¬ä¸‰æ–¹åº“å°¤å…¶æœ‰æ•ˆã€‚</li>
<li><strong>ç¼ºç‚¹</strong>ï¼šè¿™æ˜¯ä¸€ç§â€œå¦¥åâ€çš„æ–¹æ¡ˆï¼Œå®ƒå¹¶éæ²¡æœ‰é£é™©ã€‚</li>
</ul>
<h2 data-id="heading-4">è„šæœ¬ä¿®å¤æ–¹æ³•çš„æ½œåœ¨é£é™©</h2>
<p>è™½ç„¶è„šæœ¬æ–¹æ³•å¾ˆæ–¹ä¾¿ï¼Œä½†å®ƒåŸºäºä¸€ä¸ªé‡è¦çš„<strong>å‡è®¾</strong>ï¼Œå¦‚æœå‡è®¾ä¸æˆç«‹ï¼Œåˆ™å¯èƒ½å¼•å…¥ä¸¥é‡é—®é¢˜ã€‚</p>
<h3 data-id="heading-5">1. æ ¸å¿ƒæŠ€æœ¯é£é™©ï¼šç ´å ELF æ–‡ä»¶çš„ä¸€è‡´æ€§</h3>
<p>ELF æ ¼å¼æœ‰ä¸€ä¸ªå¼ºåˆ¶æ€§è§„åˆ™ï¼š<strong>æ®µçš„è™šæ‹Ÿåœ°å€ï¼ˆ<code>p_vaddr</code>ï¼‰å’Œæ–‡ä»¶åç§»ï¼ˆ<code>p_offset</code>ï¼‰åœ¨å¯¹é½å€¼ï¼ˆ<code>p_align</code>ï¼‰ä¸‹å¿…é¡»åŒä½™</strong>ã€‚å³ï¼š
<code>p_vaddr % p_align == p_offset % p_align</code></p>
<p>è„šæœ¬å¼ºè¡Œå¢å¤§äº† <code>p_align</code> çš„å€¼ï¼Œå®ƒ<strong>å‡è®¾</strong>åœ¨æ­¤ä¹‹åä¸Šè¿°ç­‰å¼ä¾ç„¶æˆç«‹ã€‚å¯¹äºç”±æ ‡å‡†å·¥å…·é“¾ï¼ˆå¦‚ NDK è‡ªå¸¦çš„ï¼‰ç”Ÿæˆçš„ <code>.so</code> æ–‡ä»¶ï¼Œè¿™ä¸ªå‡è®¾é€šå¸¸æ˜¯æˆç«‹çš„ã€‚</p>
<p>ä½†æ˜¯ï¼Œå¦‚æœ <code>.so</code> æ–‡ä»¶æ˜¯ç”±ä¸€ä¸ªè¡Œä¸ºå¼‚å¸¸æˆ–éæ ‡å‡†çš„å·¥å…·é“¾ç”Ÿæˆçš„ï¼Œè¿™ä¸ªç­‰å¼å¯èƒ½è¢«ç ´åã€‚å…¶åæœæ˜¯ç¾éš¾æ€§çš„ï¼š<strong>ç³»ç»ŸåŠ è½½å™¨ï¼ˆdynamic linkerï¼‰åœ¨åŠ è½½ <code>.so</code> æ–‡ä»¶æ—¶ä¼šæ£€æµ‹åˆ°è¿™ä¸ªä¸ä¸€è‡´ï¼Œå¹¶æ‹’ç»åŠ è½½å®ƒï¼Œæœ€ç»ˆå¯¼è‡´åº”ç”¨å¯åŠ¨æ—¶ç›´æ¥å´©æºƒï¼ˆé€šå¸¸è¡¨ç°ä¸º <code>dlopen failed</code> é”™è¯¯ï¼‰</strong>ã€‚</p>
<h3 data-id="heading-6">2. æµç¨‹ä¸ç»´æŠ¤é—®é¢˜</h3>
<ul>
<li><strong>å¥å£®æ€§å·®</strong>ï¼šå®ƒæˆä¸ºæ„å»ºæµç¨‹ä¸­ä¸€ä¸ªç‹¬ç«‹ã€æ˜“è¢«å¿½ç•¥çš„æ­¥éª¤ã€‚å¦‚æœå¼€å‘è€…å¿˜è®°è¿è¡Œï¼Œå¯¹é½å°†ä¸ä¼šç”Ÿæ•ˆã€‚</li>
<li><strong>é€æ˜åº¦ä½</strong>ï¼šé¡¹ç›®çš„æ ¸å¿ƒæ„å»ºé…ç½®å¹¶æœªåæ˜ å‡º 16KB å¯¹é½çš„é€»è¾‘ï¼Œç»™æ–°åŠ å…¥çš„å¼€å‘è€…ç†è§£å’Œç»´æŠ¤é¡¹ç›®å¸¦æ¥äº†éšœç¢ã€‚</li>
</ul>
<h3 data-id="heading-7">3. ç ´åä»£ç ç­¾å</h3>
<p>å¦‚æœä½ çš„å‘å¸ƒæµç¨‹åŒ…å«ä»£ç ç­¾åï¼ˆCode Signingï¼‰ï¼Œé‚£ä¹ˆè„šæœ¬å¯¹ <code>.so</code> æ–‡ä»¶çš„ä»»ä½•ä¿®æ”¹éƒ½ä¼šä½¿åŸå§‹ç­¾åå¤±æ•ˆã€‚æ­£ç¡®çš„æµç¨‹åº”è¯¥æ˜¯ï¼š<strong>ç¼–è¯‘ -&gt; è¿è¡Œå¯¹é½è„šæœ¬ -&gt; é‡æ–°ç­¾å</strong>ã€‚</p>
<h2 data-id="heading-8">ç»“è®ºä¸å»ºè®®</h2>























<table><thead><tr><th align="left">æ–¹æ³•</th><th align="left">ä¼˜ç‚¹</th><th align="left">ç¼ºç‚¹</th><th align="left">é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td align="left"><strong>åŸç”Ÿç¼–è¯‘</strong></td><td align="left">å½»åº•ã€è§„èŒƒã€æ— é£é™©</td><td align="left">ä¿®æ”¹æ„å»ºç³»ç»Ÿå¯èƒ½å¤æ‚</td><td align="left">æ‹¥æœ‰å®Œæ•´æºç å’Œæ„å»ºæ§åˆ¶æƒçš„é¡¹ç›®</td></tr><tr><td align="left"><strong>è„šæœ¬ä¿®å¤</strong></td><td align="left">ç®€å•ã€å¿«é€Ÿã€çµæ´»</td><td align="left">å­˜åœ¨ç ´åæ–‡ä»¶ä¸€è‡´æ€§çš„é£é™©ã€å½±å“æµç¨‹</td><td align="left">ç¬¬ä¸‰æ–¹åº“ã€è€æ—§é¡¹ç›®ã€å¿«é€ŸéªŒè¯</td></tr></tbody></table>
<p><strong>æœ€ç»ˆå»ºè®®</strong>ï¼š</p>
<ol>
<li><strong>é¦–é€‰åŸç”Ÿç¼–è¯‘</strong>ï¼šå¦‚æœä½ çš„é¡¹ç›®å…è®¸ï¼Œåº”ä¼˜å…ˆé€‰æ‹©é€šè¿‡ä¿®æ”¹ç¼–è¯‘å™¨é…ç½®æ¥åŸç”Ÿæ”¯æŒ 16KB å¯¹é½ã€‚è¿™æ˜¯æœ€ç¨³å¦¥çš„é•¿æœŸæ–¹æ¡ˆã€‚</li>
<li><strong>è°¨æ…ä½¿ç”¨è„šæœ¬</strong>ï¼šè„šæœ¬æ˜¯ä¸€ä¸ªéå¸¸å‡ºè‰²çš„â€œæˆ˜æœ¯â€å·¥å…·ï¼Œå°¤å…¶é€‚åˆå¤„ç†å¤–éƒ¨ä¾èµ–å’Œå¤æ‚é—ç•™é¡¹ç›®ã€‚ä½†å®ƒæ˜¯ä¸€ç§å¦¥åï¼Œè€Œéâ€œé“¶å¼¹â€ã€‚</li>
<li><strong>æµ‹è¯•æ˜¯å…³é”®</strong>ï¼šæ— è®ºä½ é€‰æ‹©å“ªç§æ–¹æ³•ï¼Œ<strong>éƒ½å¿…é¡»åœ¨ç›®æ ‡è®¾å¤‡ï¼ˆç‰¹åˆ«æ˜¯é‚£äº›å·²çŸ¥ä½¿ç”¨ 16KB é¡µé¢çš„è®¾å¤‡ï¼‰ä¸Šè¿›è¡Œå……åˆ†ã€ä¸¥æ ¼çš„æµ‹è¯•</strong>ï¼Œç¡®ä¿åº”ç”¨çš„å¯åŠ¨å’Œæ ¸å¿ƒåŠŸèƒ½å®Œå…¨æ­£å¸¸ã€‚å¯¹äºè„šæœ¬ä¿®å¤æ³•ï¼Œè¿™ä¸€æ­¥å°¤å…¶é‡è¦ï¼Œæ˜¯é˜²èŒƒåŠ è½½å¤±è´¥é£é™©çš„æœ€åä¸€é“é˜²çº¿ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¨³å®šæ€§æ€§èƒ½ç³»åˆ—ä¹‹åå››â€”â€”ç”µé‡ä¸ç½‘ç»œä¼˜åŒ–:Battery Historianä¸å¼±ç½‘å¤„ç†å®æˆ˜]]></title>    <link>https://juejin.cn/post/7595021656428429339</link>    <guid>https://juejin.cn/post/7595021656428429339</guid>    <pubDate>2026-01-14T13:24:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595021656428429339" data-draft-id="7595021656428412955" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¨³å®šæ€§æ€§èƒ½ç³»åˆ—ä¹‹åå››â€”â€”ç”µé‡ä¸ç½‘ç»œä¼˜åŒ–:Battery Historianä¸å¼±ç½‘å¤„ç†å®æˆ˜"/> <meta itemprop="keywords" content="Android,æ€§èƒ½ä¼˜åŒ–,Debug"/> <meta itemprop="datePublished" content="2026-01-14T13:24:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å†¬å¥‡Lab"/> <meta itemprop="url" content="https://juejin.cn/user/1857501105781193"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¨³å®šæ€§æ€§èƒ½ç³»åˆ—ä¹‹åå››â€”â€”ç”µé‡ä¸ç½‘ç»œä¼˜åŒ–:Battery Historianä¸å¼±ç½‘å¤„ç†å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1857501105781193/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å†¬å¥‡Lab
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-14T13:24:23.000Z" title="Wed Jan 14 2026 13:24:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>ä½ æœ‰æ²¡æœ‰é‡åˆ°è¿‡è¿™æ ·çš„åœºæ™¯:ç”¨æˆ·æŠ•è¯‰è¯´ã€Œä½ ä»¬çš„Appå¤ªè€—ç”µäº†,åŠå¤©å°±æŠŠæˆ‘æ‰‹æœºç”µç”¨å®Œäº†ã€,æˆ–è€…ã€Œç½‘ç»œä¸å¥½çš„æ—¶å€™ä½ ä»¬çš„Appæ ¹æœ¬ç”¨ä¸äº†ã€ã€‚ä½œä¸ºå¼€å‘è€…,è¿™ä¸¤ä¸ªé—®é¢˜å¯èƒ½æ˜¯ç”¨æˆ·ä½“éªŒæ€æ‰‹ä¸­æœ€è‡´å‘½çš„â€”â€”ç”µé‡å’Œç½‘ç»œã€‚</p>
<p>ç”µé‡ä¼˜åŒ–å’Œç½‘ç»œä¼˜åŒ–çœ‹ä¼¼æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„ä¸»é¢˜,ä½†å®ƒä»¬æœ‰ç€å¯†åˆ‡çš„å…³ç³»:<strong>ç½‘ç»œè¯·æ±‚æ˜¯ç§»åŠ¨è®¾å¤‡æœ€å¤§çš„ç”µé‡æ¶ˆè€—æºä¹‹ä¸€</strong>ã€‚ä¸€ä¸ªç³Ÿç³•çš„ç½‘ç»œç­–ç•¥ä¸ä»…è®©ç”¨æˆ·ä½“éªŒå˜å·®,è¿˜ä¼šç–¯ç‹‚åƒæ‰æ‰‹æœºç”µé‡ã€‚</p>
<p>ä»Šå¤©è¿™ç¯‡æ–‡ç« ,æˆ‘ä¼šå¸¦ä½ æ·±å…¥Androidçš„ç”µé‡ç®¡ç†æœºåˆ¶,æ•™ä½ ç”¨Battery Historianè¿™ä¸ªç¥å™¨åˆ†æç”µé‡æ¶ˆè€—,ç†è§£Dozeæ¨¡å¼å’ŒWakelockçš„ä¼˜åŒ–æŠ€å·§,å¹¶åˆ†äº«å¼±ç½‘ç¯å¢ƒä¸‹çš„å®æˆ˜ä¼˜åŒ–æ–¹æ¡ˆã€‚è¯»å®Œè¿™ç¯‡æ–‡ç« ,ä½ å°†æŒæ¡:</p>
<ul>
<li>Androidç”µé‡ç®¡ç†çš„æ ¸å¿ƒæœºåˆ¶(Dozeã€App Standby)</li>
<li>Battery Historianå·¥å…·çš„å®Œæ•´ä½¿ç”¨æµç¨‹</li>
<li>Wakelockæ»¥ç”¨æ£€æµ‹å’Œä¼˜åŒ–æ–¹æ³•</li>
<li>å¼±ç½‘ç¯å¢ƒè¯†åˆ«å’Œä¼˜åŒ–ç­–ç•¥</li>
<li>ç½‘ç»œè¯·æ±‚çš„æœ€ä½³å®è·µ</li>
</ul>
<p>å‡†å¤‡å¥½äº†å—?è®©æˆ‘ä»¬å¼€å§‹è¿™åœºã€Œçœç”µåˆæµç•…ã€çš„ä¼˜åŒ–ä¹‹æ—…!</p>
<h2 data-id="heading-1">Androidç”µé‡ç®¡ç†æœºåˆ¶</h2>
<h3 data-id="heading-2">ç”µé‡æ¶ˆè€—çš„ä¸»è¦æ¥æº</h3>
<p>åœ¨ä¼˜åŒ–ç”µé‡ä¹‹å‰,æˆ‘ä»¬å…ˆè¦çŸ¥é“ç”µéƒ½å»å“ªå„¿äº†ã€‚Androidè®¾å¤‡çš„ç”µé‡æ¶ˆè€—ä¸»è¦æ¥è‡ª:</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/949f3b2ba3264ba6a8b0220985e87fbe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769001863&amp;x-signature=RtbnRGkgKU9rk2nxZIO6y3HyFZ0%3D" alt="14-01-battery-consumption.png" loading="lazy"/></p>
<p>å¯¹äºåº”ç”¨å¼€å‘è€…æ¥è¯´,æˆ‘ä»¬èƒ½ä¼˜åŒ–çš„ä¸»è¦æ˜¯<strong>ç½‘ç»œé€šä¿¡ã€CPUè¿ç®—ã€å®šä½æœåŠ¡</strong>è¿™ä¸‰å¤§å—ã€‚è€Œç½‘ç»œä¼˜åŒ–åˆæ˜¯é‡ä¸­ä¹‹é‡,å› ä¸ºä¸€æ¬¡ç½‘ç»œè¯·æ±‚ä¼šåŒæ—¶æ¶ˆè€—<strong>ç½‘ç»œæ¨¡å—å’ŒCPU</strong>çš„ç”µé‡ã€‚</p>
<h3 data-id="heading-3">PowerManagerä¸ç”µæºç®¡ç†æœåŠ¡</h3>
<p>Androidçš„ç”µæºç®¡ç†ç”±<code>PowerManager</code>ç³»ç»ŸæœåŠ¡è´Ÿè´£ã€‚å®ƒæä¾›äº†å¤šç§ç”µæºçŠ¶æ€:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> powerManager = getSystemService(Context.POWER_SERVICE) <span class="hljs-keyword">as</span> PowerManager

<span class="hljs-comment">// æ£€æŸ¥è®¾å¤‡æ˜¯å¦å¤„äºçœç”µæ¨¡å¼</span>
<span class="hljs-keyword">val</span> isPowerSaveMode = powerManager.isPowerSaveMode

<span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦å¤„äºDozeæ¨¡å¼</span>
<span class="hljs-keyword">val</span> isDeviceIdleMode = powerManager.isDeviceIdleMode

<span class="hljs-comment">// æ£€æŸ¥åº”ç”¨æ˜¯å¦è¢«é™åˆ¶åå°æ´»åŠ¨</span>
<span class="hljs-keyword">val</span> isIgnoringBatteryOptimizations = powerManager.isIgnoringBatteryOptimizations(packageName)
</code></pre>
<h3 data-id="heading-4">Dozeæ¨¡å¼:æ·±åº¦ç¡çœ çš„è‰ºæœ¯</h3>
<p>Dozeæ¨¡å¼æ˜¯Android 6.0å¼•å…¥çš„é‡ç£…åŠŸèƒ½,ç›®çš„æ˜¯åœ¨è®¾å¤‡é•¿æ—¶é—´é™ç½®æ—¶è¿›å…¥<strong>æ·±åº¦ç¡çœ </strong>,æå¤§é™ä½ç”µé‡æ¶ˆè€—ã€‚</p>
<h4 data-id="heading-5">Dozeæ¨¡å¼è§¦å‘æ¡ä»¶</h4>
<p>è®¾å¤‡å¿…é¡»åŒæ—¶æ»¡è¶³ä»¥ä¸‹æ¡ä»¶æ‰ä¼šè¿›å…¥Doze:</p>
<ul>
<li>å±å¹•å…³é—­</li>
<li>è®¾å¤‡æœªåœ¨å……ç”µ</li>
<li>è®¾å¤‡é™ç½®(æ²¡æœ‰ç§»åŠ¨)</li>
<li>ä¸€æ®µæ—¶é—´æ²¡æœ‰ä½¿ç”¨(é€šå¸¸æ˜¯1-2å°æ—¶)</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3effc66bd29d4144bdb77e8c97d01ef9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769001863&amp;x-signature=hRj37XRJy%2F5z2nQGDVdH4U36HbE%3D" alt="14-02-doze-state-machine.png" loading="lazy"/></p>
<h4 data-id="heading-6">Dozeæ¨¡å¼çš„é™åˆ¶</h4>
<p>ä¸€æ—¦è¿›å…¥Doze,ç³»ç»Ÿä¼šæ–½åŠ ä»¥ä¸‹é™åˆ¶:</p>
<ol>
<li><strong>ç½‘ç»œè®¿é—®æš‚åœ</strong> - é™¤äº†é«˜ä¼˜å…ˆçº§FCMæ¶ˆæ¯</li>
<li><strong>WakeLockè¢«å¿½ç•¥</strong> - ä¸å†èƒ½å”¤é†’CPU</li>
<li><strong>Alarmå»¶è¿Ÿæ‰§è¡Œ</strong> - <code>setExact()</code>å’Œ<code>setWindow()</code>æ¨è¿Ÿåˆ°ç»´æŠ¤çª—å£</li>
<li><strong>WiFiæ‰«æåœæ­¢</strong></li>
<li><strong>JobSchedulerå’ŒSyncAdapteræš‚åœ</strong></li>
</ol>
<p>ä½†ç³»ç»Ÿä¼šå®šæœŸè¿›å…¥<strong>ç»´æŠ¤çª—å£</strong>(Maintenance Window),è®©åº”ç”¨æ‰§è¡Œå»¶è¿Ÿçš„ä»»åŠ¡:</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">åˆæ¬¡è¿›å…¥Dozeåçš„ç»´æŠ¤çª—å£æ—¶é—´é—´éš”:</span>
<span class="hljs-section">ç¬¬1æ¬¡: 1å°æ—¶å,ç»´æŠ¤çª—å£5åˆ†é’Ÿ</span>
<span class="hljs-section">ç¬¬2æ¬¡: 2å°æ—¶å,ç»´æŠ¤çª—å£5åˆ†é’Ÿ</span>
<span class="hljs-section">ç¬¬3æ¬¡: 4å°æ—¶å,ç»´æŠ¤çª—å£5åˆ†é’Ÿ</span>
<span class="hljs-section">ç¬¬4æ¬¡åŠä»¥å: æ¯6å°æ—¶ä¸€æ¬¡,ç»´æŠ¤çª—å£5åˆ†é’Ÿ</span>
</code></pre>
<h4 data-id="heading-7">å¦‚ä½•é€‚é…Dozeæ¨¡å¼</h4>
<p><strong>é”™è¯¯åšæ³• - å¼ºè¡Œä¿æŒè¿è¡Œ:</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ ä¸è¦ç”³è¯·ç™½åå•,è¿™åªæ˜¯ä¸ªä¸´æ—¶æ–¹æ¡ˆ</span>
<span class="hljs-keyword">val</span> intent = Intent().apply {
    action = Settings.ACTION_REQUEST_IGNORE_BATTERY_OPTIMIZATIONS
    <span class="hljs-keyword">data</span> = Uri.parse(<span class="hljs-string">"package:<span class="hljs-variable">$packageName</span>"</span>)
}
startActivity(intent)
</code></pre>
<p><strong>æ­£ç¡®åšæ³• - ä½¿ç”¨JobScheduler:</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âœ… ä½¿ç”¨JobSchedulerè°ƒåº¦ä»»åŠ¡</span>
<span class="hljs-keyword">val</span> jobScheduler = getSystemService(Context.JOB_SCHEDULER_SERVICE) <span class="hljs-keyword">as</span> JobScheduler

<span class="hljs-keyword">val</span> job = JobInfo.Builder(JOB_ID, ComponentName(<span class="hljs-keyword">this</span>, MyJobService::<span class="hljs-keyword">class</span>.java))
    .setRequiredNetworkType(JobInfo.NETWORK_TYPE_ANY)
    .setPersisted(<span class="hljs-literal">true</span>)  <span class="hljs-comment">// è®¾å¤‡é‡å¯åä»»åŠ¡ä¿ç•™</span>
    .build()

jobScheduler.schedule(job)
</code></pre>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyJobService</span> : <span class="hljs-type">JobService</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onStartJob</span><span class="hljs-params">(params: <span class="hljs-type">JobParameters</span>?)</span></span>: <span class="hljs-built_in">Boolean</span> {
        <span class="hljs-comment">// æ‰§è¡Œåå°ä»»åŠ¡</span>
        doWorkAsync {
            <span class="hljs-comment">// ä»»åŠ¡å®Œæˆåè°ƒç”¨</span>
            jobFinished(params, <span class="hljs-literal">false</span>)
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>  <span class="hljs-comment">// è¿”å›trueè¡¨ç¤ºä»»åŠ¡è¿˜åœ¨æ‰§è¡Œ</span>
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onStopJob</span><span class="hljs-params">(params: <span class="hljs-type">JobParameters</span>?)</span></span>: <span class="hljs-built_in">Boolean</span> {
        <span class="hljs-comment">// ä»»åŠ¡è¢«ç³»ç»Ÿä¸­æ–­æ—¶è°ƒç”¨</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>  <span class="hljs-comment">// è¿”å›trueè¡¨ç¤ºéœ€è¦é‡æ–°è°ƒåº¦</span>
    }
}
</code></pre>
<p><strong>ä½¿ç”¨WorkManager(æ¨è):</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âœ… æ›´æ¨èä½¿ç”¨WorkManager,å®ƒä¼šè‡ªåŠ¨å¤„ç†å…¼å®¹æ€§</span>
<span class="hljs-keyword">val</span> constraints = Constraints.Builder()
    .setRequiredNetworkType(NetworkType.CONNECTED)
    .setRequiresBatteryNotLow(<span class="hljs-literal">true</span>)
    .build()

<span class="hljs-keyword">val</span> syncWorkRequest = PeriodicWorkRequestBuilder&lt;SyncWorker&gt;(
    <span class="hljs-number">15</span>, TimeUnit.MINUTES
)
    .setConstraints(constraints)
    .build()

WorkManager.getInstance(context).enqueue(syncWorkRequest)
</code></pre>
<h3 data-id="heading-8">App Standby:å¾…æœºæ¡¶ç®¡ç†</h3>
<p>Android 9.0å¼•å…¥äº†App Standby Buckets(å¾…æœºæ¡¶)æœºåˆ¶,å°†åº”ç”¨åˆ†ä¸º5ä¸ªä¼˜å…ˆçº§æ¡¶:</p>



































<table><thead><tr><th align="left">æ¡¶åç§°</th><th align="left">è¯´æ˜</th><th align="left">é™åˆ¶</th></tr></thead><tbody><tr><td align="left"><strong>Active</strong></td><td align="left">ç”¨æˆ·æ­£åœ¨ä½¿ç”¨</td><td align="left">æ— é™åˆ¶</td></tr><tr><td align="left"><strong>Working Set</strong></td><td align="left">æœ€è¿‘ä½¿ç”¨è¿‡</td><td align="left">é™åˆ¶è¾ƒå°‘</td></tr><tr><td align="left"><strong>Frequent</strong></td><td align="left">ç»å¸¸ä½¿ç”¨</td><td align="left">ä¸­ç­‰é™åˆ¶</td></tr><tr><td align="left"><strong>Rare</strong></td><td align="left">å¾ˆå°‘ä½¿ç”¨</td><td align="left">ä¸¥æ ¼é™åˆ¶</td></tr><tr><td align="left"><strong>Never</strong></td><td align="left">ä»æœªä½¿ç”¨æˆ–è¢«ç¦ç”¨</td><td align="left">æä¸¥æ ¼é™åˆ¶</td></tr></tbody></table>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/07315c4cf40144008d10d5d5f7cdec45~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769001863&amp;x-signature=hXGC8nav29LvfszMD1sqLTUSHcs%3D" alt="14-03-app-standby-buckets.png" loading="lazy"/></p>
<p>ç³»ç»Ÿä¼šæ ¹æ®åº”ç”¨ä½¿ç”¨é¢‘ç‡è‡ªåŠ¨è°ƒæ•´æ¡¶åˆ†ç±»,åˆ†ç±»è¶Šä½,åå°ä»»åŠ¡æ‰§è¡Œæœºä¼šè¶Šå°‘:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// æŸ¥è¯¢å½“å‰åº”ç”¨æ‰€åœ¨çš„æ¡¶</span>
<span class="hljs-keyword">val</span> usageStatsManager = getSystemService(Context.USAGE_STATS_SERVICE) <span class="hljs-keyword">as</span> UsageStatsManager
<span class="hljs-keyword">val</span> bucket = usageStatsManager.appStandbyBucket

<span class="hljs-keyword">val</span> bucketName = <span class="hljs-keyword">when</span> (bucket) {
    UsageStatsManager.STANDBY_BUCKET_ACTIVE -&gt; <span class="hljs-string">"Active"</span>
    UsageStatsManager.STANDBY_BUCKET_WORKING_SET -&gt; <span class="hljs-string">"Working Set"</span>
    UsageStatsManager.STANDBY_BUCKET_FREQUENT -&gt; <span class="hljs-string">"Frequent"</span>
    UsageStatsManager.STANDBY_BUCKET_RARE -&gt; <span class="hljs-string">"Rare"</span>
    UsageStatsManager.STANDBY_BUCKET_NEVER -&gt; <span class="hljs-string">"Never"</span>
    <span class="hljs-keyword">else</span> -&gt; <span class="hljs-string">"Unknown"</span>
}

Log.d(<span class="hljs-string">"Standby"</span>, <span class="hljs-string">"Current bucket: <span class="hljs-variable">$bucketName</span>"</span>)
</code></pre>
<h2 data-id="heading-9">Battery Historian:ç”µé‡åˆ†æç¥å™¨</h2>
<p>Battery Historianæ˜¯Googleå®˜æ–¹çš„ç”µé‡åˆ†æå·¥å…·,èƒ½å¤Ÿä»¥<strong>å¯è§†åŒ–æ–¹å¼</strong>å±•ç¤ºè®¾å¤‡ç”µé‡æ¶ˆè€—çš„è¯¦ç»†ä¿¡æ¯ã€‚</p>
<h3 data-id="heading-10">ç¯å¢ƒæ­å»º</h3>
<h4 data-id="heading-11">æ–¹æ³•ä¸€:Dockeræ–¹å¼(æ¨è)</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å®‰è£…Docker</span>
<span class="hljs-comment"># Linux: sudo apt install docker.io</span>
<span class="hljs-comment"># macOS: ä¸‹è½½Docker Desktop</span>

<span class="hljs-comment"># 2. æ‹‰å–Battery Historiané•œåƒ</span>
docker pull gcr.io/android-battery-historian/stable:3.1

<span class="hljs-comment"># 3. è¿è¡Œå®¹å™¨</span>
docker run -p 9999:9999 gcr.io/android-battery-historian/stable:3.1

<span class="hljs-comment"># 4. æµè§ˆå™¨æ‰“å¼€</span>
<span class="hljs-comment"># http://localhost:9999</span>
</code></pre>
<h4 data-id="heading-12">æ–¹æ³•äºŒ:æºç ç¼–è¯‘(éœ€è¦Goç¯å¢ƒ)</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å®‰è£…Goè¯­è¨€ç¯å¢ƒ(1.11+)</span>
<span class="hljs-comment"># https://golang.org/dl/</span>

<span class="hljs-comment"># 2. è·å–æºç </span>
go get -d -u github.com/google/battery-historian/...

<span class="hljs-comment"># 3. è¿›å…¥ç›®å½•å¹¶è¿è¡Œ</span>
<span class="hljs-built_in">cd</span> <span class="hljs-variable">$GOPATH</span>/src/github.com/google/battery-historian
go run cmd/battery-historian/battery-historian.go

<span class="hljs-comment"># 4. æµè§ˆå™¨æ‰“å¼€</span>
<span class="hljs-comment"># http://localhost:9999</span>
</code></pre>
<h3 data-id="heading-13">æ•°æ®é‡‡é›†æµç¨‹</h3>
<h4 data-id="heading-14">1. é‡ç½®ç”µé‡ç»Ÿè®¡</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é‡ç½®ç”µé‡ç»Ÿè®¡æ•°æ®</span>
adb shell dumpsys batterystats --reset
</code></pre>
<h4 data-id="heading-15">2. æ‹”æ‰USB,è¿›è¡Œæµ‹è¯•æ“ä½œ</h4>
<p>è¿™ä¸€æ­¥éå¸¸é‡è¦:<strong>å¿…é¡»æ‹”æ‰USBçº¿</strong>,å› ä¸ºå……ç”µçŠ¶æ€ä¼šå½±å“å¾ˆå¤šè¡Œä¸ºã€‚</p>
<p>æ‰§è¡Œä½ æƒ³åˆ†æçš„æ“ä½œ,æ¯”å¦‚:</p>
<ul>
<li>å¯åŠ¨åº”ç”¨å¹¶ä½¿ç”¨ä¸€æ®µæ—¶é—´</li>
<li>è®©åº”ç”¨åœ¨åå°è¿è¡Œ</li>
<li>è§¦å‘ç‰¹å®šåŠŸèƒ½</li>
</ul>
<h4 data-id="heading-16">3. å¯¼å‡ºç”µé‡æ•°æ®</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¯¼å‡ºå®Œæ•´çš„ç”µé‡ç»Ÿè®¡æ•°æ®</span>
adb bugreport bugreport.zip
</code></pre>
<p>è¿™ä¸ªå‘½ä»¤ä¼šç”Ÿæˆä¸€ä¸ªzipæ–‡ä»¶,åŒ…å«äº†è¯¦ç»†çš„ç”µé‡ä½¿ç”¨æ—¥å¿—ã€‚</p>
<h4 data-id="heading-17">4. ä¸Šä¼ åˆ°Battery Historianåˆ†æ</h4>
<p>æ‰“å¼€ <code>http://localhost:9999</code>,ä¸Šä¼  <code>bugreport.zip</code> æ–‡ä»¶,å°±å¯ä»¥çœ‹åˆ°å¯è§†åŒ–çš„åˆ†ææŠ¥å‘Šäº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c722e00e688a429a807acb047e578c35~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769001863&amp;x-signature=B3FPBdiLbzkSeFP%2BMFOZlHUu4NU%3D" alt="14-04-battery-historian-ui.png" loading="lazy"/></p>
<h3 data-id="heading-18">æŠ¥å‘Šè§£è¯»:å…³é”®æŒ‡æ ‡</h3>
<p>Battery Historiançš„æŠ¥å‘Šéå¸¸ä¸°å¯Œ,æˆ‘ä»¬é‡ç‚¹å…³æ³¨ä»¥ä¸‹å‡ ä¸ªå…³é”®æŒ‡æ ‡:</p>
<h4 data-id="heading-19">1. Battery Level(ç”µé‡æ›²çº¿)</h4>
<p>æœ€ä¸Šæ–¹çš„ç»¿è‰²æ›²çº¿æ˜¾ç¤ºç”µé‡å˜åŒ–ã€‚é™¡é™è¯´æ˜è€—ç”µå¿«,éœ€è¦é‡ç‚¹åˆ†æè¯¥æ—¶é—´æ®µã€‚</p>
<h4 data-id="heading-20">2. Screen(å±å¹•çŠ¶æ€)</h4>
<p>è“è‰²è¡¨ç¤ºå±å¹•äº®èµ·,ç°è‰²è¡¨ç¤ºç†„å±ã€‚å¸®åŠ©åŒºåˆ†å‰å°å’Œåå°è€—ç”µã€‚</p>
<h4 data-id="heading-21">3. Mobile Radio(ç§»åŠ¨ç½‘ç»œçŠ¶æ€)</h4>
<p>æ˜¾ç¤ºç½‘ç»œçŠ¶æ€:<code>active</code> &gt; <code>idle</code> &gt; <code>off</code>ã€‚é¢‘ç¹çš„activeçŠ¶æ€è¯´æ˜ç½‘ç»œè¯·æ±‚å¤šã€‚</p>
<h4 data-id="heading-22">4. GPS(å®šä½çŠ¶æ€)</h4>
<p>ç»¿è‰²è¡¨ç¤ºGPSå¼€å¯ã€‚å®šä½æ˜¯è€—ç”µå¤§æˆ·,è¦é¿å…æŒç»­å®šä½ã€‚</p>
<h4 data-id="heading-23">5. Wakelock(å”¤é†’é”)</h4>
<p>æ˜¾ç¤ºå“ªäº›åº”ç”¨æŒæœ‰Wakelockã€‚<strong>è¿™æ˜¯é‡ç‚¹</strong>,Wakelockæ»¥ç”¨æ˜¯è€—ç”µçš„ä¸»è¦åŸå› ä¹‹ä¸€ã€‚</p>
<h4 data-id="heading-24">6. App Usage(åº”ç”¨ä½¿ç”¨æƒ…å†µ)</h4>
<p>æ˜¾ç¤ºå„åº”ç”¨çš„å‰å°/åå°è¿è¡Œæ—¶é—´å’Œç”µé‡å æ¯”ã€‚</p>
<h3 data-id="heading-25">å®æˆ˜æ¡ˆä¾‹:å®šä½è€—ç”µå¼‚å¸¸</h3>
<p><strong>åœºæ™¯</strong>: ç”¨æˆ·åé¦ˆåå°è€—ç”µä¸¥é‡ã€‚</p>
<h4 data-id="heading-26">åˆ†ææ­¥éª¤</h4>
<ol>
<li><strong>æŸ¥çœ‹ç”µé‡æ›²çº¿</strong> - å‘ç°å¤œé—´ç”µé‡é™¡é™15%</li>
<li><strong>æ£€æŸ¥ScreençŠ¶æ€</strong> - ç¡®è®¤å±å¹•æ˜¯ç†„ç­çš„,æ’é™¤ç”¨æˆ·æ“ä½œ</li>
<li><strong>å®šä½æ—¶é—´æ®µ</strong> - åœ¨å‡Œæ™¨2ç‚¹åˆ°5ç‚¹ä¹‹é—´</li>
<li><strong>æ£€æŸ¥Wakelock</strong> - å‘ç°åº”ç”¨æŒæœ‰äº†å¤§é‡Wakelock</li>
<li><strong>æŸ¥çœ‹å…·ä½“Wakelockåç§°</strong> - <code>SyncService$WakeLock</code> æŒæœ‰äº†2å°æ—¶45åˆ†é’Ÿ!</li>
</ol>
<p><strong>é—®é¢˜å®šä½</strong>: åŒæ­¥æœåŠ¡çš„Wakelockæ²¡æœ‰æ­£ç¡®é‡Šæ”¾,å¯¼è‡´CPUæ— æ³•ç¡çœ ã€‚</p>
<p><strong>ä¿®å¤æ–¹æ¡ˆ</strong>:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ é”™è¯¯:Wakelockä¸€ç›´æŒæœ‰</span>
<span class="hljs-keyword">val</span> wakeLock = powerManager.newWakeLock(
    PowerManager.PARTIAL_WAKE_LOCK,
    <span class="hljs-string">"SyncService::WakeLock"</span>
)
wakeLock.acquire()  <span class="hljs-comment">// è·å–åå¿˜è®°é‡Šæ”¾</span>

<span class="hljs-comment">// âœ… æ­£ç¡®:è®¾ç½®è¶…æ—¶æ—¶é—´</span>
wakeLock.acquire(<span class="hljs-number">10</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000L</span>)  <span class="hljs-comment">// æœ€å¤šæŒæœ‰10åˆ†é’Ÿ</span>

<span class="hljs-comment">// âœ… æ›´å¥½:ä½¿ç”¨try-finallyç¡®ä¿é‡Šæ”¾</span>
wakeLock.acquire()
<span class="hljs-keyword">try</span> {
    doSync()
} <span class="hljs-keyword">finally</span> {
    <span class="hljs-keyword">if</span> (wakeLock.isHeld) {
        wakeLock.release()
    }
}
</code></pre>
<h2 data-id="heading-27">Wakelockæ·±åº¦åˆ†æä¸ä¼˜åŒ–</h2>
<h3 data-id="heading-28">Wakelockç±»å‹</h3>
<p>Androidæä¾›äº†å‡ ç§Wakelockç±»å‹,ä»å®Œå…¨å”¤é†’åˆ°ä»…ä¿æŒCPUè¿è¡Œ:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// 1. PARTIAL_WAKE_LOCK - åªä¿æŒCPUè¿è¡Œ,å±å¹•å¯ä»¥å…³é—­(æœ€å¸¸ç”¨)</span>
<span class="hljs-keyword">val</span> partialWakeLock = powerManager.newWakeLock(
    PowerManager.PARTIAL_WAKE_LOCK,
    <span class="hljs-string">"MyApp::PartialWakeLock"</span>
)

<span class="hljs-comment">// 2. SCREEN_DIM_WAKE_LOCK - ä¿æŒå±å¹•ä½äº®åº¦(å·²åºŸå¼ƒ)</span>
<span class="hljs-comment">// 3. SCREEN_BRIGHT_WAKE_LOCK - ä¿æŒå±å¹•é«˜äº®åº¦(å·²åºŸå¼ƒ)</span>
<span class="hljs-comment">// 4. FULL_WAKE_LOCK - å®Œå…¨å”¤é†’(å·²åºŸå¼ƒ)</span>

<span class="hljs-comment">// ç°ä»£åšæ³•:ä½¿ç”¨WindowManager.LayoutParams</span>
window.addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON)
</code></pre>
<h3 data-id="heading-29">Wakelockæœ€ä½³å®è·µ</h3>
<h4 data-id="heading-30">1. å§‹ç»ˆè®¾ç½®è¶…æ—¶æ—¶é—´</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ å±é™©:æ²¡æœ‰è¶…æ—¶æ—¶é—´</span>
wakeLock.acquire()

<span class="hljs-comment">// âœ… å®‰å…¨:è®¾ç½®è¶…æ—¶(æ¯«ç§’)</span>
wakeLock.acquire(<span class="hljs-number">10</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000L</span>)  <span class="hljs-comment">// 10åˆ†é’Ÿåè‡ªåŠ¨é‡Šæ”¾</span>
</code></pre>
<h4 data-id="heading-31">2. ä½¿ç”¨WakefulBroadcastReceiver(æ—§API)</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyWakefulReceiver</span> : <span class="hljs-type">WakefulBroadcastReceiver</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onReceive</span><span class="hljs-params">(context: <span class="hljs-type">Context</span>, intent: <span class="hljs-type">Intent</span>)</span></span> {
        <span class="hljs-comment">// è‡ªåŠ¨è·å–Wakelock</span>
        <span class="hljs-keyword">val</span> componentName = startWakefulService(context, Intent(context, MyService::<span class="hljs-keyword">class</span>.java))
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyService</span> : <span class="hljs-type">IntentService</span>(<span class="hljs-string">"MyService"</span>) {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onHandleIntent</span><span class="hljs-params">(intent: <span class="hljs-type">Intent</span>?)</span></span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// å¤„ç†ä»»åŠ¡</span>
            doWork()
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-comment">// é‡Šæ”¾Wakelock</span>
            MyWakefulReceiver.completeWakefulIntent(intent)
        }
    }
}
</code></pre>
<h4 data-id="heading-32">3. ä½¿ç”¨WorkManager(ç°ä»£åšæ³•)</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// WorkManagerè‡ªåŠ¨ç®¡ç†Wakelock,æ— éœ€æ‰‹åŠ¨å¤„ç†</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyWorker</span>(context: Context, params: WorkerParameters) : Worker(context, params) {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">doWork</span><span class="hljs-params">()</span></span>: Result {
        <span class="hljs-comment">// ä»»åŠ¡æ‰§è¡ŒæœŸé—´,WorkManagerè‡ªåŠ¨æŒæœ‰Wakelock</span>
        doSyncWork()
        <span class="hljs-keyword">return</span> Result.success()
    }
}
</code></pre>
<h3 data-id="heading-33">æ£€æµ‹Wakelockæ»¥ç”¨</h3>
<h4 data-id="heading-34">ä½¿ç”¨adbå‘½ä»¤</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹å½“å‰æ‰€æœ‰Wakelock</span>
adb shell dumpsys power | grep <span class="hljs-string">"Wake Locks"</span>

<span class="hljs-comment"># æŸ¥çœ‹è¯¦ç»†çš„Wakelockç»Ÿè®¡</span>
adb shell dumpsys batterystats | grep -A 20 <span class="hljs-string">"Wake lock"</span>
</code></pre>
<h4 data-id="heading-35">ä½¿ç”¨Battery Historian</h4>
<p>åœ¨Battery HistorianæŠ¥å‘Šä¸­,ç‚¹å‡» <strong>Wakelock</strong> è¡Œ,å¯ä»¥çœ‹åˆ°:</p>
<ul>
<li>æ¯ä¸ªWakelockçš„æŒæœ‰æ—¶é•¿</li>
<li>è§¦å‘æ¬¡æ•°</li>
<li>æŒæœ‰Wakelockçš„åº”ç”¨</li>
</ul>
<p>å¦‚æœå‘ç°æŸä¸ªWakelockæŒæœ‰æ—¶é—´è¶…è¿‡<strong>5åˆ†é’Ÿ</strong>,åŸºæœ¬å¯ä»¥åˆ¤å®šä¸ºæ»¥ç”¨ã€‚</p>
<h2 data-id="heading-36">Energy Profiler:å®æ—¶ç”µé‡ç›‘æ§</h2>
<p>Android Studio 3.0+å†…ç½®äº†Energy Profiler,å¯ä»¥å®æ—¶ç›‘æ§åº”ç”¨çš„ç”µé‡æ¶ˆè€—ã€‚</p>
<h3 data-id="heading-37">ä½¿ç”¨æ­¥éª¤</h3>
<ol>
<li>
<p><strong>æ‰“å¼€Android Studio Profiler</strong></p>
<ul>
<li>View â†’ Tool Windows â†’ Profiler</li>
<li>ç‚¹å‡» "+" é€‰æ‹©è®¾å¤‡å’Œåº”ç”¨</li>
</ul>
</li>
<li>
<p><strong>é€‰æ‹©Energy</strong></p>
<ul>
<li>ç‚¹å‡» "ENERGY" æ ‡ç­¾</li>
</ul>
</li>
<li>
<p><strong>æŸ¥çœ‹èƒ½è€—æ›²çº¿</strong></p>
<ul>
<li>ç»¿è‰²:ä½èƒ½è€—</li>
<li>é»„è‰²:ä¸­ç­‰èƒ½è€—</li>
<li>çº¢è‰²:é«˜èƒ½è€—</li>
</ul>
</li>
<li>
<p><strong>åˆ†æèƒ½è€—äº‹ä»¶</strong></p>
<ul>
<li>CPU</li>
<li>Network</li>
<li>Location</li>
<li>Wake Lock</li>
</ul>
</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/693c6c75a90248139e72650b279b9b24~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769001863&amp;x-signature=pOCrAGHxbPSWtUnHQEetTEX7f%2F0%3D" alt="14-05-energy-profiler-ui.png" loading="lazy"/></p>
<h3 data-id="heading-38">å®æˆ˜:å®šä½ç½‘ç»œè€—ç”µ</h3>
<p>Energy Profilerä¼šæ ‡è®°å‡ºé«˜èƒ½è€—çš„ç½‘ç»œè¯·æ±‚ã€‚ç‚¹å‡»æŸä¸ªç½‘ç»œäº‹ä»¶,å¯ä»¥çœ‹åˆ°:</p>
<ul>
<li>è¯·æ±‚URL</li>
<li>æ•°æ®é‡</li>
<li>æŒç»­æ—¶é—´</li>
<li>è°ƒç”¨å †æ ˆ</li>
</ul>
<p><strong>ä¼˜åŒ–å»ºè®®</strong>:</p>
<ul>
<li>åˆå¹¶å°è¯·æ±‚,å‡å°‘ç½‘ç»œå”¤é†’æ¬¡æ•°</li>
<li>ä½¿ç”¨æ‰¹é‡æ¥å£</li>
<li>ç¼“å­˜å¯å¤ç”¨æ•°æ®</li>
<li>åœ¨WiFiç¯å¢ƒä¸‹é¢„ä¸‹è½½</li>
</ul>
<h2 data-id="heading-39">ç½‘ç»œæ€§èƒ½ç›‘æ§</h2>
<h3 data-id="heading-40">Network Profilerä½¿ç”¨</h3>
<p>Network Profileræ˜¯Android Studioå†…ç½®çš„ç½‘ç»œåˆ†æå·¥å…·,å¯ä»¥å®æ—¶æŸ¥çœ‹:</p>
<ul>
<li>ç½‘ç»œè¯·æ±‚æ—¶é—´çº¿</li>
<li>ä¸Šä¼ /ä¸‹è½½é€Ÿåº¦</li>
<li>è¯·æ±‚è¯¦æƒ…(URLã€Headerã€Body)</li>
<li>è¯·æ±‚/å“åº”è€—æ—¶</li>
</ul>
<h4 data-id="heading-41">ä½¿ç”¨æ­¥éª¤</h4>
<ol>
<li><strong>æ‰“å¼€Profiler</strong> - View â†’ Tool Windows â†’ Profiler</li>
<li><strong>é€‰æ‹©Network</strong> - ç‚¹å‡» "NETWORK" æ ‡ç­¾</li>
<li><strong>è§¦å‘ç½‘ç»œè¯·æ±‚</strong> - ä½¿ç”¨åº”ç”¨,è§‚å¯Ÿç½‘ç»œæ›²çº¿</li>
<li><strong>ç‚¹å‡»è¯·æ±‚è¯¦æƒ…</strong> - æŸ¥çœ‹å®Œæ•´çš„Request/Responseä¿¡æ¯</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bf75460e65fe424496778c89f49d69b0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769001863&amp;x-signature=4unV1Yblh25louxWww92wd11dck%3D" alt="14-06-network-profiler-ui.png" loading="lazy"/></p>
<h3 data-id="heading-42">ç½‘ç»œè´¨é‡ç›‘æ§å®ç°</h3>
<p>æ‰‹åŠ¨å®ç°ä¸€ä¸ªç®€å•çš„ç½‘ç»œè´¨é‡ç›‘æ§:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">NetworkQualityMonitor</span>(<span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> context: Context) {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> connectivityManager = context.getSystemService(Context.CONNECTIVITY_SERVICE) <span class="hljs-keyword">as</span> ConnectivityManager

    <span class="hljs-comment">// ç½‘ç»œè´¨é‡ç­‰çº§</span>
    <span class="hljs-keyword">enum</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">NetworkQuality</span> {
        EXCELLENT,  <span class="hljs-comment">// ä¼˜ç§€</span>
        GOOD,       <span class="hljs-comment">// è‰¯å¥½</span>
        MODERATE,   <span class="hljs-comment">// ä¸­ç­‰</span>
        POOR,       <span class="hljs-comment">// è¾ƒå·®</span>
        VERY_POOR   <span class="hljs-comment">// æå·®</span>
    }

    <span class="hljs-comment">// è·å–å½“å‰ç½‘ç»œç±»å‹</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getNetworkType</span><span class="hljs-params">()</span></span>: String {
        <span class="hljs-keyword">val</span> network = connectivityManager.activeNetwork ?: <span class="hljs-keyword">return</span> <span class="hljs-string">"NONE"</span>
        <span class="hljs-keyword">val</span> capabilities = connectivityManager.getNetworkCapabilities(network) ?: <span class="hljs-keyword">return</span> <span class="hljs-string">"NONE"</span>

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">when</span> {
            capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI) -&gt; <span class="hljs-string">"WIFI"</span>
            capabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR) -&gt; {
                <span class="hljs-comment">// è·å–å…·ä½“çš„ç§»åŠ¨ç½‘ç»œç±»å‹</span>
                <span class="hljs-keyword">val</span> telephonyManager = context.getSystemService(Context.TELEPHONY_SERVICE) <span class="hljs-keyword">as</span> TelephonyManager
                <span class="hljs-keyword">when</span> (telephonyManager.dataNetworkType) {
                    TelephonyManager.NETWORK_TYPE_LTE -&gt; <span class="hljs-string">"4G"</span>
                    TelephonyManager.NETWORK_TYPE_NR -&gt; <span class="hljs-string">"5G"</span>
                    <span class="hljs-keyword">else</span> -&gt; <span class="hljs-string">"3G"</span>
                }
            }
            <span class="hljs-keyword">else</span> -&gt; <span class="hljs-string">"OTHER"</span>
        }
    }

    <span class="hljs-comment">// æµ‹é‡ç½‘ç»œå»¶è¿Ÿ(RTT)å’Œå¸¦å®½</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">measureNetworkQuality</span><span class="hljs-params">()</span></span>: NetworkQuality = withContext(Dispatchers.IO) {
        <span class="hljs-keyword">val</span> startTime = System.currentTimeMillis()

        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// 1. æµ‹è¯•å»¶è¿Ÿ - pingä¸€ä¸ªå°æ–‡ä»¶</span>
            <span class="hljs-keyword">val</span> pingUrl = URL(<span class="hljs-string">"https://www.google.com/generate_204"</span>)
            <span class="hljs-keyword">val</span> connection = pingUrl.openConnection() <span class="hljs-keyword">as</span> HttpURLConnection
            connection.requestMethod = <span class="hljs-string">"GET"</span>
            connection.connectTimeout = <span class="hljs-number">5000</span>
            connection.readTimeout = <span class="hljs-number">5000</span>

            <span class="hljs-keyword">val</span> responseCode = connection.responseCode
            <span class="hljs-keyword">val</span> rtt = System.currentTimeMillis() - startTime

            connection.disconnect()

            <span class="hljs-comment">// 2. æ ¹æ®RTTåˆ¤æ–­ç½‘ç»œè´¨é‡</span>
            <span class="hljs-keyword">return</span><span class="hljs-symbol">@withContext</span> <span class="hljs-keyword">when</span> {
                rtt &lt; <span class="hljs-number">100</span> -&gt; NetworkQuality.EXCELLENT    <span class="hljs-comment">// &lt;100ms ä¼˜ç§€</span>
                rtt &lt; <span class="hljs-number">300</span> -&gt; NetworkQuality.GOOD         <span class="hljs-comment">// 100-300ms è‰¯å¥½</span>
                rtt &lt; <span class="hljs-number">600</span> -&gt; NetworkQuality.MODERATE     <span class="hljs-comment">// 300-600ms ä¸­ç­‰</span>
                rtt &lt; <span class="hljs-number">1000</span> -&gt; NetworkQuality.POOR        <span class="hljs-comment">// 600-1000ms è¾ƒå·®</span>
                <span class="hljs-keyword">else</span> -&gt; NetworkQuality.VERY_POOR         <span class="hljs-comment">// &gt;1000ms æå·®</span>
            }

        } <span class="hljs-keyword">catch</span> (e: Exception) {
            Log.e(<span class="hljs-string">"NetworkQuality"</span>, <span class="hljs-string">"æµ‹é‡å¤±è´¥"</span>, e)
            <span class="hljs-keyword">return</span><span class="hljs-symbol">@withContext</span> NetworkQuality.VERY_POOR
        }
    }

    <span class="hljs-comment">// è·å–ç½‘ç»œä¿¡å·å¼ºåº¦(ä»…WiFiå’Œç§»åŠ¨ç½‘ç»œ)</span>
    <span class="hljs-meta">@SuppressLint(<span class="hljs-string">"MissingPermission"</span>)</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getSignalStrength</span><span class="hljs-params">()</span></span>: <span class="hljs-built_in">Int</span> {
        <span class="hljs-keyword">val</span> network = connectivityManager.activeNetwork ?: <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
        <span class="hljs-keyword">val</span> capabilities = connectivityManager.getNetworkCapabilities(network) ?: <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">when</span> {
            capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI) -&gt; {
                <span class="hljs-keyword">val</span> wifiManager = context.applicationContext.getSystemService(Context.WIFI_SERVICE) <span class="hljs-keyword">as</span> WifiManager
                <span class="hljs-keyword">val</span> wifiInfo = wifiManager.connectionInfo
                <span class="hljs-keyword">val</span> level = WifiManager.calculateSignalLevel(wifiInfo.rssi, <span class="hljs-number">5</span>)
                (level + <span class="hljs-number">1</span>) * <span class="hljs-number">20</span>  <span class="hljs-comment">// è½¬æ¢ä¸º0-100</span>
            }
            capabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR) -&gt; {
                <span class="hljs-comment">// éœ€è¦ ACCESS_FINE_LOCATION æƒé™</span>
                <span class="hljs-keyword">val</span> telephonyManager = context.getSystemService(Context.TELEPHONY_SERVICE) <span class="hljs-keyword">as</span> TelephonyManager
                <span class="hljs-comment">// è¿™é‡Œç®€åŒ–å¤„ç†,å®é™…éœ€è¦ä½¿ç”¨ PhoneStateListener</span>
                <span class="hljs-number">50</span>  <span class="hljs-comment">// é»˜è®¤è¿”å›50</span>
            }
            <span class="hljs-keyword">else</span> -&gt; <span class="hljs-number">0</span>
        }
    }
}
</code></pre>
<p>ä½¿ç”¨ç¤ºä¾‹:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> monitor = NetworkQualityMonitor(context)

lifecycleScope.launch {
    <span class="hljs-keyword">val</span> networkType = monitor.getNetworkType()
    <span class="hljs-keyword">val</span> quality = monitor.measureNetworkQuality()
    <span class="hljs-keyword">val</span> signalStrength = monitor.getSignalStrength()

    Log.d(<span class="hljs-string">"Network"</span>, <span class="hljs-string">"ç±»å‹: <span class="hljs-variable">$networkType</span>, è´¨é‡: <span class="hljs-variable">$quality</span>, ä¿¡å·: <span class="hljs-variable">$signalStrength</span>%"</span>)

    <span class="hljs-comment">// æ ¹æ®ç½‘ç»œè´¨é‡è°ƒæ•´ç­–ç•¥</span>
    <span class="hljs-keyword">when</span> (quality) {
        NetworkQuality.EXCELLENT, NetworkQuality.GOOD -&gt; {
            <span class="hljs-comment">// æ­£å¸¸åŠ è½½é«˜æ¸…å›¾ç‰‡</span>
            loadHighQualityImages()
        }
        NetworkQuality.MODERATE -&gt; {
            <span class="hljs-comment">// åŠ è½½ä¸­ç­‰è´¨é‡å›¾ç‰‡</span>
            loadMediumQualityImages()
        }
        NetworkQuality.POOR, NetworkQuality.VERY_POOR -&gt; {
            <span class="hljs-comment">// åŠ è½½ä½è´¨é‡å›¾ç‰‡,å‡å°‘è¯·æ±‚</span>
            loadLowQualityImages()
            showNetworkPoorTip()
        }
    }
}
</code></pre>
<h2 data-id="heading-43">å¼±ç½‘ä¼˜åŒ–ç­–ç•¥</h2>
<h3 data-id="heading-44">å¼±ç½‘ç¯å¢ƒè¯†åˆ«</h3>
<p>é™¤äº†ä¸Šé¢çš„ç½‘ç»œè´¨é‡ç›‘æ§,æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è¯†åˆ«å¼±ç½‘:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">WeakNetworkDetector</span> {

    <span class="hljs-comment">// æ–¹æ³•1: é€šè¿‡ç½‘ç»œç±»å‹åˆ¤æ–­</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">isWeakNetwork</span><span class="hljs-params">(networkType: <span class="hljs-type">String</span>)</span></span>: <span class="hljs-built_in">Boolean</span> {
        <span class="hljs-keyword">return</span> networkType <span class="hljs-keyword">in</span> listOf(<span class="hljs-string">"2G"</span>, <span class="hljs-string">"3G"</span>, <span class="hljs-string">"EDGE"</span>, <span class="hljs-string">"GPRS"</span>)
    }

    <span class="hljs-comment">// æ–¹æ³•2: é€šè¿‡è¯·æ±‚è¶…æ—¶æ¬¡æ•°åˆ¤æ–­</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> consecutiveTimeouts = <span class="hljs-number">0</span>

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onRequestTimeout</span><span class="hljs-params">()</span></span> {
        consecutiveTimeouts++
        <span class="hljs-keyword">if</span> (consecutiveTimeouts &gt;= <span class="hljs-number">3</span>) {
            <span class="hljs-comment">// è¿ç»­3æ¬¡è¶…æ—¶,åˆ¤å®šä¸ºå¼±ç½‘</span>
            enableWeakNetworkMode()
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onRequestSuccess</span><span class="hljs-params">()</span></span> {
        consecutiveTimeouts = <span class="hljs-number">0</span>
    }

    <span class="hljs-comment">// æ–¹æ³•3: é€šè¿‡ä¸‹è½½é€Ÿåº¦åˆ¤æ–­</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">isSlowDownload</span><span class="hljs-params">(bytesDownloaded: <span class="hljs-type">Long</span>, durationMs: <span class="hljs-type">Long</span>)</span></span>: <span class="hljs-built_in">Boolean</span> {
        <span class="hljs-keyword">val</span> speedKBps = bytesDownloaded / <span class="hljs-number">1024.0</span> / (durationMs / <span class="hljs-number">1000.0</span>)
        <span class="hljs-keyword">return</span> speedKBps &lt; <span class="hljs-number">50</span>  <span class="hljs-comment">// ä½äº50KB/sè®¤ä¸ºæ˜¯å¼±ç½‘</span>
    }
}
</code></pre>
<h3 data-id="heading-45">è¶…æ—¶ç­–ç•¥è®¾ç½®</h3>
<p><strong>åŠ¨æ€è¶…æ—¶</strong> - æ ¹æ®ç½‘ç»œè´¨é‡è°ƒæ•´:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">object</span> TimeoutConfig {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getConnectTimeout</span><span class="hljs-params">(networkQuality: <span class="hljs-type">NetworkQuality</span>)</span></span>: <span class="hljs-built_in">Long</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">when</span> (networkQuality) {
            NetworkQuality.EXCELLENT -&gt; <span class="hljs-number">5_000L</span>      <span class="hljs-comment">// 5ç§’</span>
            NetworkQuality.GOOD -&gt; <span class="hljs-number">8_000L</span>           <span class="hljs-comment">// 8ç§’</span>
            NetworkQuality.MODERATE -&gt; <span class="hljs-number">15_000L</span>      <span class="hljs-comment">// 15ç§’</span>
            NetworkQuality.POOR -&gt; <span class="hljs-number">25_000L</span>          <span class="hljs-comment">// 25ç§’</span>
            NetworkQuality.VERY_POOR -&gt; <span class="hljs-number">40_000L</span>     <span class="hljs-comment">// 40ç§’</span>
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getReadTimeout</span><span class="hljs-params">(networkQuality: <span class="hljs-type">NetworkQuality</span>)</span></span>: <span class="hljs-built_in">Long</span> {
        <span class="hljs-keyword">return</span> getConnectTimeout(networkQuality) * <span class="hljs-number">2</span>  <span class="hljs-comment">// è¯»å–è¶…æ—¶æ˜¯è¿æ¥è¶…æ—¶çš„2å€</span>
    }
}

<span class="hljs-comment">// ä½¿ç”¨OkHttpé…ç½®åŠ¨æ€è¶…æ—¶</span>
<span class="hljs-keyword">val</span> client = OkHttpClient.Builder()
    .connectTimeout(TimeoutConfig.getConnectTimeout(currentQuality), TimeUnit.MILLISECONDS)
    .readTimeout(TimeoutConfig.getReadTimeout(currentQuality), TimeUnit.MILLISECONDS)
    .build()
</code></pre>
<h3 data-id="heading-46">é‡è¯•æœºåˆ¶ä¼˜åŒ–</h3>
<p><strong>æŒ‡æ•°é€€é¿é‡è¯•</strong>:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">RetryInterceptor</span>(<span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> maxRetries: <span class="hljs-built_in">Int</span> = <span class="hljs-number">3</span>) : Interceptor {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">intercept</span><span class="hljs-params">(chain: <span class="hljs-type">Interceptor</span>.<span class="hljs-type">Chain</span>)</span></span>: Response {
        <span class="hljs-keyword">var</span> request = chain.request()
        <span class="hljs-keyword">var</span> response: Response? = <span class="hljs-literal">null</span>
        <span class="hljs-keyword">var</span> retryCount = <span class="hljs-number">0</span>
        <span class="hljs-keyword">var</span> exception: IOException? = <span class="hljs-literal">null</span>

        <span class="hljs-keyword">while</span> (retryCount &lt; maxRetries) {
            <span class="hljs-keyword">try</span> {
                response = chain.proceed(request)

                <span class="hljs-comment">// æˆåŠŸ,è¿”å›ç»“æœ</span>
                <span class="hljs-keyword">if</span> (response.isSuccessful) {
                    <span class="hljs-keyword">return</span> response
                }

                <span class="hljs-comment">// æœåŠ¡å™¨é”™è¯¯(5xx)æ‰é‡è¯•,å®¢æˆ·ç«¯é”™è¯¯(4xx)ä¸é‡è¯•</span>
                <span class="hljs-keyword">if</span> (response.code !<span class="hljs-keyword">in</span> <span class="hljs-number">500.</span><span class="hljs-number">.599</span>) {
                    <span class="hljs-keyword">return</span> response
                }

            } <span class="hljs-keyword">catch</span> (e: IOException) {
                exception = e
                Log.w(<span class="hljs-string">"RetryInterceptor"</span>, <span class="hljs-string">"è¯·æ±‚å¤±è´¥,å‡†å¤‡é‡è¯•: <span class="hljs-subst">${retryCount + <span class="hljs-number">1</span>}</span>/<span class="hljs-variable">$maxRetries</span>"</span>, e)
            }

            retryCount++

            <span class="hljs-comment">// æŒ‡æ•°é€€é¿: 1ç§’ â†’ 2ç§’ â†’ 4ç§’</span>
            <span class="hljs-keyword">val</span> delayMs = (<span class="hljs-number">1000</span> * Math.pow(<span class="hljs-number">2.0</span>, retryCount.toDouble() - <span class="hljs-number">1</span>)).toLong()
            Thread.sleep(delayMs)
        }

        <span class="hljs-comment">// æ‰€æœ‰é‡è¯•éƒ½å¤±è´¥,æŠ›å‡ºå¼‚å¸¸æˆ–è¿”å›æœ€åçš„å“åº”</span>
        <span class="hljs-keyword">return</span> response ?: <span class="hljs-keyword">throw</span> exception ?: IOException(<span class="hljs-string">"è¯·æ±‚å¤±è´¥ä¸”æ— å“åº”"</span>)
    }
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">val</span> client = OkHttpClient.Builder()
    .addInterceptor(RetryInterceptor(maxRetries = <span class="hljs-number">3</span>))
    .build()
</code></pre>
<h3 data-id="heading-47">é™çº§ç­–ç•¥</h3>
<p>å½“ç½‘ç»œæå·®æ—¶,å¯ç”¨é™çº§ç­–ç•¥:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">NetworkDegradationStrategy</span>(<span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> networkMonitor: NetworkQualityMonitor) {

    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> <span class="hljs-title">executeWithDegradation</span><span class="hljs-params">(
        normalAction: <span class="hljs-type">suspend</span> () -&gt; <span class="hljs-type">T</span>,
        degradedAction: <span class="hljs-type">suspend</span> () -&gt; <span class="hljs-type">T</span>
    )</span></span>: T {
        <span class="hljs-keyword">val</span> quality = networkMonitor.measureNetworkQuality()

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">if</span> (quality <span class="hljs-keyword">in</span> listOf(NetworkQuality.POOR, NetworkQuality.VERY_POOR)) {
            Log.d(<span class="hljs-string">"Degradation"</span>, <span class="hljs-string">"ç½‘ç»œè¾ƒå·®,ä½¿ç”¨é™çº§ç­–ç•¥"</span>)
            degradedAction()
        } <span class="hljs-keyword">else</span> {
            normalAction()
        }
    }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">val</span> strategy = NetworkDegradationStrategy(networkMonitor)

<span class="hljs-keyword">val</span> articles = strategy.executeWithDegradation(
    normalAction = {
        <span class="hljs-comment">// æ­£å¸¸æƒ…å†µ:åŠ è½½å®Œæ•´æ–‡ç« åˆ—è¡¨(åŒ…å«å›¾ç‰‡)</span>
        api.getArticleListWithImages()
    },
    degradedAction = {
        <span class="hljs-comment">// é™çº§:åªåŠ è½½æ ‡é¢˜åˆ—è¡¨(ä¸å«å›¾ç‰‡)</span>
        api.getArticleListTitleOnly()
    }
)
</code></pre>
<h3 data-id="heading-48">æ•°æ®å‹ç¼©</h3>
<p>ä½¿ç”¨Gzipå‹ç¼©è¯·æ±‚å’Œå“åº”:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// OkHttpé»˜è®¤æ”¯æŒGzip,ä½†è¦ç¡®ä¿æœåŠ¡å™¨ä¹Ÿæ”¯æŒ</span>
<span class="hljs-keyword">val</span> client = OkHttpClient.Builder()
    .addInterceptor { chain -&gt;
        <span class="hljs-keyword">val</span> original = chain.request()

        <span class="hljs-comment">// è¯·æ±‚æ—¶æ·»åŠ Accept-Encoding</span>
        <span class="hljs-keyword">val</span> request = original.newBuilder()
            .header(<span class="hljs-string">"Accept-Encoding"</span>, <span class="hljs-string">"gzip"</span>)
            .build()

        chain.proceed(request)
    }
    .build()
</code></pre>
<p>å¯¹äºä¸Šä¼ ,ä¹Ÿå¯ä»¥æ‰‹åŠ¨Gzipå‹ç¼©:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">compressRequestBody</span><span class="hljs-params">(body: <span class="hljs-type">RequestBody</span>)</span></span>: RequestBody {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">object</span> : RequestBody() {
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">contentType</span><span class="hljs-params">()</span></span> = body.contentType()

        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">contentLength</span><span class="hljs-params">()</span></span> = -<span class="hljs-number">1L</span>  <span class="hljs-comment">// ä¸çŸ¥é“å‹ç¼©åçš„å¤§å°</span>

        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">writeTo</span><span class="hljs-params">(sink: <span class="hljs-type">BufferedSink</span>)</span></span> {
            <span class="hljs-keyword">val</span> gzipSink = GzipSink(sink)
            <span class="hljs-keyword">val</span> gzipBuffer = gzipSink.buffer()
            body.writeTo(gzipBuffer)
            gzipBuffer.close()
        }
    }
}
</code></pre>
<h3 data-id="heading-49">è¯·æ±‚åˆå¹¶</h3>
<p>å°†å¤šä¸ªå°è¯·æ±‚åˆå¹¶ä¸ºä¸€ä¸ªæ‰¹é‡è¯·æ±‚:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ ä¸å¥½:å¤šæ¬¡è¯·æ±‚</span>
<span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">loadUserProfiles</span><span class="hljs-params">(userIds: <span class="hljs-type">List</span>&lt;<span class="hljs-type">String</span>&gt;)</span></span> {
    userIds.forEach { userId -&gt;
        <span class="hljs-keyword">val</span> profile = api.getUserProfile(userId)  <span class="hljs-comment">// Næ¬¡ç½‘ç»œè¯·æ±‚</span>
        updateUI(profile)
    }
}

<span class="hljs-comment">// âœ… æ›´å¥½:æ‰¹é‡è¯·æ±‚</span>
<span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">loadUserProfiles</span><span class="hljs-params">(userIds: <span class="hljs-type">List</span>&lt;<span class="hljs-type">String</span>&gt;)</span></span> {
    <span class="hljs-keyword">val</span> profiles = api.getBatchUserProfiles(userIds)  <span class="hljs-comment">// 1æ¬¡ç½‘ç»œè¯·æ±‚</span>
    profiles.forEach { profile -&gt;
        updateUI(profile)
    }
}
</code></pre>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// APIå®šä¹‰</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserApi</span> {
    <span class="hljs-meta">@GET(<span class="hljs-string">"user/{userId}"</span>)</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getUserProfile</span><span class="hljs-params">(<span class="hljs-meta">@Path(<span class="hljs-string">"userId"</span>)</span> userId: <span class="hljs-type">String</span>)</span></span>: UserProfile

    <span class="hljs-meta">@POST(<span class="hljs-string">"users/batch"</span>)</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getBatchUserProfiles</span><span class="hljs-params">(<span class="hljs-meta">@Body</span> userIds: <span class="hljs-type">List</span>&lt;<span class="hljs-type">String</span>&gt;)</span></span>: List&lt;UserProfile&gt;
}
</code></pre>
<h3 data-id="heading-50">ç¦»çº¿ç¼“å­˜ç­–ç•¥</h3>
<p>ä½¿ç”¨OkHttpçš„ç¼“å­˜æœºåˆ¶:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// 1. é…ç½®ç¼“å­˜ç›®å½•å’Œå¤§å°</span>
<span class="hljs-keyword">val</span> cacheSize = <span class="hljs-number">50L</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>  <span class="hljs-comment">// 50MB</span>
<span class="hljs-keyword">val</span> cache = Cache(context.cacheDir, cacheSize)

<span class="hljs-keyword">val</span> client = OkHttpClient.Builder()
    .cache(cache)
    .addNetworkInterceptor(CacheInterceptor())
    .build()

<span class="hljs-keyword">class</span> <span class="hljs-title class_">CacheInterceptor</span> : <span class="hljs-type">Interceptor</span> {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">intercept</span><span class="hljs-params">(chain: <span class="hljs-type">Interceptor</span>.<span class="hljs-type">Chain</span>)</span></span>: Response {
        <span class="hljs-keyword">var</span> request = chain.request()

        <span class="hljs-comment">// å¼±ç½‘æ—¶ä¼˜å…ˆä½¿ç”¨ç¼“å­˜</span>
        <span class="hljs-keyword">if</span> (isWeakNetwork()) {
            request = request.newBuilder()
                .cacheControl(
                    CacheControl.Builder()
                        .maxStale(<span class="hljs-number">7</span>, TimeUnit.DAYS)  <span class="hljs-comment">// ç¼“å­˜æœ‰æ•ˆæœŸ7å¤©</span>
                        .build()
                )
                .build()
        }

        <span class="hljs-keyword">val</span> response = chain.proceed(request)

        <span class="hljs-comment">// å¯¹å“åº”è®¾ç½®ç¼“å­˜ç­–ç•¥</span>
        <span class="hljs-keyword">return</span> response.newBuilder()
            .header(<span class="hljs-string">"Cache-Control"</span>, <span class="hljs-string">"public, max-age=3600"</span>)  <span class="hljs-comment">// ç¼“å­˜1å°æ—¶</span>
            .removeHeader(<span class="hljs-string">"Pragma"</span>)
            .build()
    }
}
</code></pre>
<p><strong>æ›´å®Œæ•´çš„ç¼“å­˜ç­–ç•¥</strong>:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">SmartCacheStrategy</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> context: Context,
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> networkMonitor: NetworkQualityMonitor
) {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> sharedPrefs = context.getSharedPreferences(<span class="hljs-string">"cache_meta"</span>, Context.MODE_PRIVATE)

    <span class="hljs-comment">// åˆ¤æ–­ç¼“å­˜æ˜¯å¦å¯ç”¨</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">isCacheValid</span><span class="hljs-params">(key: <span class="hljs-type">String</span>, maxAgeSeconds: <span class="hljs-type">Long</span>)</span></span>: <span class="hljs-built_in">Boolean</span> {
        <span class="hljs-keyword">val</span> cachedTime = sharedPrefs.getLong(key, <span class="hljs-number">0</span>)
        <span class="hljs-keyword">val</span> age = (System.currentTimeMillis() - cachedTime) / <span class="hljs-number">1000</span>
        <span class="hljs-keyword">return</span> age &lt; maxAgeSeconds
    }

    <span class="hljs-comment">// ä¿å­˜ç¼“å­˜æ—¶é—´æˆ³</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">markCached</span><span class="hljs-params">(key: <span class="hljs-type">String</span>)</span></span> {
        sharedPrefs.edit().putLong(key, System.currentTimeMillis()).apply()
    }

    <span class="hljs-comment">// æ ¹æ®ç½‘ç»œè´¨é‡å†³å®šç¼“å­˜ç­–ç•¥</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getCacheMaxAge</span><span class="hljs-params">(networkQuality: <span class="hljs-type">NetworkQuality</span>)</span></span>: <span class="hljs-built_in">Long</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">when</span> (networkQuality) {
            NetworkQuality.EXCELLENT, NetworkQuality.GOOD -&gt; <span class="hljs-number">300L</span>      <span class="hljs-comment">// 5åˆ†é’Ÿ</span>
            NetworkQuality.MODERATE -&gt; <span class="hljs-number">1800L</span>                           <span class="hljs-comment">// 30åˆ†é’Ÿ</span>
            NetworkQuality.POOR, NetworkQuality.VERY_POOR -&gt; <span class="hljs-number">86400L</span>    <span class="hljs-comment">// 1å¤©</span>
        }
    }
}
</code></pre>
<h2 data-id="heading-51">ç½‘ç»œä¼˜åŒ–æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-52">1. DNSä¼˜åŒ–</h3>
<p>ä½¿ç”¨HTTPDNSé¿å…DNSåŠ«æŒå’Œæå‡è§£æé€Ÿåº¦:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä½¿ç”¨é˜¿é‡Œäº‘HTTPDNS(ç¤ºä¾‹)</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">HttpDnsInterceptor</span> : <span class="hljs-type">Interceptor</span> {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">intercept</span><span class="hljs-params">(chain: <span class="hljs-type">Interceptor</span>.<span class="hljs-type">Chain</span>)</span></span>: Response {
        <span class="hljs-keyword">val</span> original = chain.request()
        <span class="hljs-keyword">val</span> url = original.url

        <span class="hljs-comment">// ä½¿ç”¨HTTPDNSè§£æIP</span>
        <span class="hljs-keyword">val</span> ip = HttpDns.getIpByHost(url.host)

        <span class="hljs-keyword">if</span> (ip != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">val</span> newUrl = url.newBuilder()
                .host(ip)
                .build()

            <span class="hljs-keyword">val</span> newRequest = original.newBuilder()
                .url(newUrl)
                .header(<span class="hljs-string">"Host"</span>, url.host)  <span class="hljs-comment">// ä¿ç•™åŸå§‹Host</span>
                .build()

            <span class="hljs-keyword">return</span> chain.proceed(newRequest)
        }

        <span class="hljs-keyword">return</span> chain.proceed(original)
    }
}
</code></pre>
<h3 data-id="heading-53">2. è¿æ¥å¤ç”¨ - HTTP/2</h3>
<p>ä½¿ç”¨OkHttpé»˜è®¤æ”¯æŒHTTP/2,å®ç°è¯·æ±‚å¤šè·¯å¤ç”¨:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> client = OkHttpClient.Builder()
    .protocols(listOf(Protocol.HTTP_2, Protocol.HTTP_1_1))  <span class="hljs-comment">// æ”¯æŒHTTP/2</span>
    .build()
</code></pre>
<p>HTTP/2çš„ä¼˜åŠ¿:</p>
<ul>
<li><strong>å¤šè·¯å¤ç”¨</strong> - ä¸€ä¸ªè¿æ¥å¯ä»¥å¹¶å‘å¤šä¸ªè¯·æ±‚</li>
<li><strong>å¤´éƒ¨å‹ç¼©</strong> - å‡å°‘é‡å¤å¤´éƒ¨çš„ä¼ è¾“</li>
<li><strong>æœåŠ¡å™¨æ¨é€</strong> - ä¸»åŠ¨æ¨é€èµ„æº</li>
</ul>
<h3 data-id="heading-54">3. å›¾ç‰‡åŠ è½½ä¼˜åŒ–</h3>
<p>ä½¿ç”¨Glide/Coilè¿›è¡Œæ™ºèƒ½åŠ è½½:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// æ ¹æ®ç½‘ç»œè´¨é‡åŠ è½½ä¸åŒåˆ†è¾¨ç‡çš„å›¾ç‰‡</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">loadImage</span><span class="hljs-params">(imageView: <span class="hljs-type">ImageView</span>, imageUrl: <span class="hljs-type">String</span>, networkQuality: <span class="hljs-type">NetworkQuality</span>)</span></span> {
    <span class="hljs-keyword">val</span> url = <span class="hljs-keyword">when</span> (networkQuality) {
        NetworkQuality.EXCELLENT, NetworkQuality.GOOD -&gt; <span class="hljs-string">"<span class="hljs-subst">${imageUrl}</span>?quality=high"</span>
        NetworkQuality.MODERATE -&gt; <span class="hljs-string">"<span class="hljs-subst">${imageUrl}</span>?quality=medium"</span>
        NetworkQuality.POOR, NetworkQuality.VERY_POOR -&gt; <span class="hljs-string">"<span class="hljs-subst">${imageUrl}</span>?quality=low"</span>
    }

    Glide.with(imageView.context)
        .load(url)
        .diskCacheStrategy(DiskCacheStrategy.ALL)
        .placeholder(R.drawable.placeholder)
        .error(R.drawable.error)
        .into(imageView)
}
</code></pre>
<h3 data-id="heading-55">4. é¢„åŠ è½½ç­–ç•¥</h3>
<p>åœ¨WiFiç¯å¢ƒä¸‹é¢„åŠ è½½å¯èƒ½éœ€è¦çš„èµ„æº:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">PreloadManager</span>(<span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> context: Context) {

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">preloadIfNeeded</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">if</span> (isWiFiConnected() &amp;&amp; !isBatterySaveMode()) {
            lifecycleScope.launch {
                <span class="hljs-comment">// é¢„åŠ è½½ä»Šæ—¥æ¨èæ–‡ç« </span>
                preloadArticles()
                <span class="hljs-comment">// é¢„åŠ è½½è§†é¢‘å°é¢</span>
                preloadVideoThumbnails()
            }
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">isWiFiConnected</span><span class="hljs-params">()</span></span>: <span class="hljs-built_in">Boolean</span> {
        <span class="hljs-keyword">val</span> cm = context.getSystemService(Context.CONNECTIVITY_SERVICE) <span class="hljs-keyword">as</span> ConnectivityManager
        <span class="hljs-keyword">val</span> network = cm.activeNetwork ?: <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
        <span class="hljs-keyword">val</span> capabilities = cm.getNetworkCapabilities(network) ?: <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
        <span class="hljs-keyword">return</span> capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI)
    }

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">isBatterySaveMode</span><span class="hljs-params">()</span></span>: <span class="hljs-built_in">Boolean</span> {
        <span class="hljs-keyword">val</span> pm = context.getSystemService(Context.POWER_SERVICE) <span class="hljs-keyword">as</span> PowerManager
        <span class="hljs-keyword">return</span> pm.isPowerSaveMode
    }
}
</code></pre>
<h3 data-id="heading-56">5. æµé‡æ§åˆ¶</h3>
<p>é™åˆ¶åå°æµé‡ä½¿ç”¨:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">TrafficController</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> maxDailyTraffic = <span class="hljs-number">50</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024L</span>  <span class="hljs-comment">// 50MB</span>

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> prefs = context.getSharedPreferences(<span class="hljs-string">"traffic"</span>, Context.MODE_PRIVATE)

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">canUseNetwork</span><span class="hljs-params">()</span></span>: <span class="hljs-built_in">Boolean</span> {
        <span class="hljs-keyword">val</span> today = getToday()
        <span class="hljs-keyword">val</span> usedTraffic = prefs.getLong(<span class="hljs-string">"traffic_<span class="hljs-variable">$today</span>"</span>, <span class="hljs-number">0</span>)
        <span class="hljs-keyword">return</span> usedTraffic &lt; maxDailyTraffic
    }

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">recordTraffic</span><span class="hljs-params">(bytes: <span class="hljs-type">Long</span>)</span></span> {
        <span class="hljs-keyword">val</span> today = getToday()
        <span class="hljs-keyword">val</span> used = prefs.getLong(<span class="hljs-string">"traffic_<span class="hljs-variable">$today</span>"</span>, <span class="hljs-number">0</span>)
        prefs.edit().putLong(<span class="hljs-string">"traffic_<span class="hljs-variable">$today</span>"</span>, used + bytes).apply()
    }

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getToday</span><span class="hljs-params">()</span></span>: String {
        <span class="hljs-keyword">return</span> SimpleDateFormat(<span class="hljs-string">"yyyyMMdd"</span>, Locale.getDefault()).format(Date())
    }
}
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1bce758b62794b54ab1daad8b51551d7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769001863&amp;x-signature=48vgeO4hJtp%2FkOV6DJCm0NHm1%2Fk%3D" alt="14-07-network-optimization-strategies.png" loading="lazy"/></p>
<h2 data-id="heading-57">å®æˆ˜æ¡ˆä¾‹</h2>
<h3 data-id="heading-58">æ¡ˆä¾‹1: åå°å®šä½ä»»åŠ¡ç”µé‡ä¼˜åŒ–</h3>
<p><strong>é—®é¢˜</strong>: åœ°å›¾åº”ç”¨åå°æŒç»­å®šä½å¯¼è‡´ç”µé‡æ¶ˆè€—ä¸¥é‡ã€‚</p>
<p><strong>ä¼˜åŒ–å‰</strong>:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ æŒç»­é«˜ç²¾åº¦å®šä½</span>
locationManager.requestLocationUpdates(
    LocationManager.GPS_PROVIDER,
    <span class="hljs-number">1000L</span>,  <span class="hljs-comment">// 1ç§’æ›´æ–°ä¸€æ¬¡</span>
    <span class="hljs-number">0f</span>,
    locationListener
)
</code></pre>
<p><strong>ç”µé‡æ¶ˆè€—</strong>: 30%/å°æ—¶</p>
<p><strong>ä¼˜åŒ–å</strong>:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âœ… åŠ¨æ€è°ƒæ•´å®šä½ç­–ç•¥</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SmartLocationManager</span>(<span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> context: Context) {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> locationManager = context.getSystemService(Context.LOCATION_SERVICE) <span class="hljs-keyword">as</span> LocationManager
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> powerManager = context.getSystemService(Context.POWER_SERVICE) <span class="hljs-keyword">as</span> PowerManager

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">startSmartLocationUpdates</span><span class="hljs-params">(listener: <span class="hljs-type">LocationListener</span>)</span></span> {
        <span class="hljs-keyword">val</span> (interval, provider) = getOptimalLocationStrategy()

        locationManager.requestLocationUpdates(
            provider,
            interval,
            <span class="hljs-number">0f</span>,
            listener
        )
    }

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getOptimalLocationStrategy</span><span class="hljs-params">()</span></span>: Pair&lt;<span class="hljs-built_in">Long</span>, String&gt; {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">when</span> {
            <span class="hljs-comment">// çœç”µæ¨¡å¼:ä½¿ç”¨ç½‘ç»œå®šä½,30ç§’æ›´æ–°</span>
            powerManager.isPowerSaveMode -&gt; {
                <span class="hljs-number">30_000L</span> to LocationManager.NETWORK_PROVIDER
            }
            <span class="hljs-comment">// å‰å°è¿è¡Œ:ä½¿ç”¨GPS,5ç§’æ›´æ–°</span>
            isAppInForeground() -&gt; {
                <span class="hljs-number">5_000L</span> to LocationManager.GPS_PROVIDER
            }
            <span class="hljs-comment">// åå°è¿è¡Œ:ä½¿ç”¨ç½‘ç»œå®šä½,5åˆ†é’Ÿæ›´æ–°</span>
            <span class="hljs-keyword">else</span> -&gt; {
                <span class="hljs-number">300_000L</span> to LocationManager.NETWORK_PROVIDER
            }
        }
    }
}
</code></pre>
<p><strong>ä¼˜åŒ–ç»“æœ</strong>:</p>
<ul>
<li>ç”µé‡æ¶ˆè€—é™è‡³ <strong>8%/å°æ—¶</strong></li>
<li>å‡å°‘äº† <strong>73%</strong> çš„ç”µé‡æ¶ˆè€—</li>
<li>ç”¨æˆ·ç»­èˆªæ—¶é—´æå‡ <strong>3å€</strong></li>
</ul>
<h3 data-id="heading-59">æ¡ˆä¾‹2: å¼±ç½‘ç¯å¢ƒä¸‹è½½ä¼˜åŒ–</h3>
<p><strong>é—®é¢˜</strong>: åœ¨åœ°é“ç­‰å¼±ç½‘ç¯å¢ƒä¸‹,æ–‡ä»¶ä¸‹è½½ç»å¸¸å¤±è´¥ã€‚</p>
<p><strong>ä¼˜åŒ–å‰</strong>:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ å•æ¬¡ä¸‹è½½,å¤±è´¥åä»å¤´å¼€å§‹</span>
<span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">downloadFile</span><span class="hljs-params">(url: <span class="hljs-type">String</span>, outputFile: <span class="hljs-type">File</span>)</span></span> {
    URL(url).openStream().use { input -&gt;
        FileOutputStream(outputFile).use { output -&gt;
            input.copyTo(output)
        }
    }
}
</code></pre>
<p><strong>æˆåŠŸç‡</strong>: å¼±ç½‘ä¸‹åªæœ‰ <strong>40%</strong></p>
<p><strong>ä¼˜åŒ–å</strong> - å®ç°æ–­ç‚¹ç»­ä¼ :</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âœ… æ”¯æŒæ–­ç‚¹ç»­ä¼ çš„ä¸‹è½½å™¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ResumableDownloader</span> {

    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">downloadWithResume</span><span class="hljs-params">(
        url: <span class="hljs-type">String</span>,
        outputFile: <span class="hljs-type">File</span>,
        maxRetries: <span class="hljs-type">Int</span> = <span class="hljs-number">5</span>
    )</span></span>: Result&lt;File&gt; = withContext(Dispatchers.IO) {
        <span class="hljs-keyword">var</span> retryCount = <span class="hljs-number">0</span>
        <span class="hljs-keyword">var</span> lastException: Exception? = <span class="hljs-literal">null</span>

        <span class="hljs-keyword">while</span> (retryCount &lt; maxRetries) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">val</span> downloaded = <span class="hljs-keyword">if</span> (outputFile.exists()) outputFile.length() <span class="hljs-keyword">else</span> <span class="hljs-number">0</span>

                <span class="hljs-keyword">val</span> connection = URL(url).openConnection() <span class="hljs-keyword">as</span> HttpURLConnection
                connection.requestMethod = <span class="hljs-string">"GET"</span>

                <span class="hljs-comment">// è®¾ç½®æ–­ç‚¹ç»­ä¼ </span>
                <span class="hljs-keyword">if</span> (downloaded &gt; <span class="hljs-number">0</span>) {
                    connection.setRequestProperty(<span class="hljs-string">"Range"</span>, <span class="hljs-string">"bytes=<span class="hljs-variable">$downloaded</span>-"</span>)
                    Log.d(<span class="hljs-string">"Download"</span>, <span class="hljs-string">"ä» <span class="hljs-variable">$downloaded</span> å­—èŠ‚ç»§ç»­ä¸‹è½½"</span>)
                }

                <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æ”¯æŒæ–­ç‚¹ç»­ä¼ </span>
                <span class="hljs-keyword">val</span> responseCode = connection.responseCode
                <span class="hljs-keyword">if</span> (responseCode != HttpURLConnection.HTTP_OK &amp;&amp;
                    responseCode != HttpURLConnection.HTTP_PARTIAL) {
                    <span class="hljs-keyword">return</span><span class="hljs-symbol">@withContext</span> Result.failure(IOException(<span class="hljs-string">"æœåŠ¡å™¨ä¸æ”¯æŒæ–­ç‚¹ç»­ä¼ "</span>))
                }

                <span class="hljs-comment">// ä¸‹è½½æ•°æ®</span>
                connection.inputStream.use { input -&gt;
                    FileOutputStream(outputFile, <span class="hljs-literal">true</span>).use { output -&gt;  <span class="hljs-comment">// append=true</span>
                        <span class="hljs-keyword">val</span> buffer = ByteArray(<span class="hljs-number">8192</span>)
                        <span class="hljs-keyword">var</span> bytesRead: <span class="hljs-built_in">Int</span>
                        <span class="hljs-keyword">var</span> totalBytes = downloaded

                        <span class="hljs-keyword">while</span> (input.read(buffer).also { bytesRead = it } != -<span class="hljs-number">1</span>) {
                            output.write(buffer, <span class="hljs-number">0</span>, bytesRead)
                            totalBytes += bytesRead

                            <span class="hljs-comment">// æ›´æ–°è¿›åº¦</span>
                            <span class="hljs-keyword">val</span> progress = (totalBytes * <span class="hljs-number">100</span> / connection.contentLength).toInt()
                            Log.d(<span class="hljs-string">"Download"</span>, <span class="hljs-string">"ä¸‹è½½è¿›åº¦: <span class="hljs-variable">$progress</span>%"</span>)
                        }
                    }
                }

                connection.disconnect()
                <span class="hljs-keyword">return</span><span class="hljs-symbol">@withContext</span> Result.success(outputFile)

            } <span class="hljs-keyword">catch</span> (e: Exception) {
                lastException = e
                retryCount++
                Log.w(<span class="hljs-string">"Download"</span>, <span class="hljs-string">"ä¸‹è½½å¤±è´¥,é‡è¯• <span class="hljs-variable">$retryCount</span>/<span class="hljs-variable">$maxRetries</span>"</span>, e)

                <span class="hljs-comment">// æŒ‡æ•°é€€é¿</span>
                delay(<span class="hljs-number">1000</span> * (<span class="hljs-number">1</span> shl retryCount))
            }
        }

        Result.failure(lastException ?: IOException(<span class="hljs-string">"ä¸‹è½½å¤±è´¥"</span>))
    }
}
</code></pre>
<p><strong>ä¼˜åŒ–ç»“æœ</strong>:</p>
<ul>
<li>æˆåŠŸç‡æå‡è‡³ <strong>95%</strong></li>
<li>å¹³å‡ä¸‹è½½æ—¶é—´å‡å°‘ <strong>60%</strong>(å‡å°‘é‡å¤ä¸‹è½½)</li>
<li>ç”¨æˆ·ä½“éªŒæ˜¾è‘—æ”¹å–„</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f95eddb3104246e0b377e6bda022cb13~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769001863&amp;x-signature=9JDBm5wZPoH%2F2N%2BtwK4ZViEuMpg%3D" alt="14-08-optimization-comparison.png" loading="lazy"/></p>
<h2 data-id="heading-60">æ€»ç»“</h2>
<p>ç”µé‡ä¼˜åŒ–å’Œç½‘ç»œä¼˜åŒ–æ˜¯Androidåº”ç”¨æ€§èƒ½ä¼˜åŒ–ä¸­è‡³å…³é‡è¦çš„ä¸¤ä¸ªæ–¹å‘,å®ƒä»¬ç›´æ¥å½±å“ç”¨æˆ·ä½“éªŒå’Œåº”ç”¨å£ç¢‘ã€‚</p>
<h3 data-id="heading-61">æ ¸å¿ƒè¦ç‚¹å›é¡¾</h3>
<p><strong>ç”µé‡ä¼˜åŒ–</strong>:</p>
<ul>
<li>ç†è§£Dozeæ¨¡å¼å’ŒApp Standbyæœºåˆ¶,ä½¿ç”¨JobScheduler/WorkManageré€‚é…</li>
<li>ä½¿ç”¨Battery Historianåˆ†æç”µé‡æ¶ˆè€—,å®šä½å¼‚å¸¸</li>
<li>é¿å…Wakelockæ»¥ç”¨,å§‹ç»ˆè®¾ç½®è¶…æ—¶æ—¶é—´</li>
<li>ä¼˜åŒ–å®šä½ç­–ç•¥,æ ¹æ®åœºæ™¯åŠ¨æ€è°ƒæ•´</li>
<li>å‡å°‘åå°ç½‘ç»œè¯·æ±‚,åˆå¹¶ä»»åŠ¡</li>
</ul>
<p><strong>ç½‘ç»œä¼˜åŒ–</strong>:</p>
<ul>
<li>è¯†åˆ«å¼±ç½‘ç¯å¢ƒ,åŠ¨æ€è°ƒæ•´è¶…æ—¶å’Œé‡è¯•ç­–ç•¥</li>
<li>å®ç°æ™ºèƒ½é™çº§,ä¿è¯å¼±ç½‘ä¸‹çš„åŸºæœ¬å¯ç”¨æ€§</li>
<li>ä½¿ç”¨æ•°æ®å‹ç¼©ã€è¯·æ±‚åˆå¹¶å‡å°‘æµé‡</li>
<li>å¯ç”¨HTTP/2è¿æ¥å¤ç”¨</li>
<li>å®ç°ç¦»çº¿ç¼“å­˜å’Œæ–­ç‚¹ç»­ä¼ </li>
</ul>
<h3 data-id="heading-62">ä¼˜åŒ–æ£€æŸ¥æ¸…å•</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> åå°ä»»åŠ¡ä½¿ç”¨WorkManagerè°ƒåº¦</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> ä¸ºWakelockè®¾ç½®è¶…æ—¶æ—¶é—´</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> å®šä½æœåŠ¡æ ¹æ®å‰åå°åŠ¨æ€è°ƒæ•´</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> ç½‘ç»œè¯·æ±‚è®¾ç½®åˆç†è¶…æ—¶</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> å®ç°æŒ‡æ•°é€€é¿é‡è¯•æœºåˆ¶</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> å¼±ç½‘ä¸‹å¯ç”¨é™çº§ç­–ç•¥</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> å¯ç”¨è¯·æ±‚å“åº”å‹ç¼©</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> ä½¿ç”¨OkHttpç¼“å­˜æœºåˆ¶</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> WiFiç¯å¢ƒä¸‹é¢„åŠ è½½èµ„æº</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> ä½¿ç”¨Battery Historianå®šæœŸåˆ†æ</li>
</ul>
<hr/>
<h2 data-id="heading-63">å‚è€ƒèµ„æ–™</h2>
<p><strong>å®˜æ–¹èµ„æ–™</strong>ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Ftopic%2Fperformance%2Fpower" target="_blank" title="https://developer.android.com/topic/performance/power" ref="nofollow noopener noreferrer">Androidç”µé‡ä¼˜åŒ–å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgoogle%2Fbattery-historian" target="_blank" title="https://github.com/google/battery-historian" ref="nofollow noopener noreferrer">Battery Historianä½¿ç”¨æŒ‡å—</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Ftraining%2Fmonitoring-device-state%2Fdoze-standby" target="_blank" title="https://developer.android.com/training/monitoring-device-state/doze-standby" ref="nofollow noopener noreferrer">Dozeæ¨¡å¼æœ€ä½³å®è·µ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Ftopic%2Flibraries%2Farchitecture%2Fworkmanager" target="_blank" title="https://developer.android.com/topic/libraries/architecture/workmanager" ref="nofollow noopener noreferrer">WorkManagerå¼€å‘æŒ‡å—</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fsquare.github.io%2Fokhttp%2F" target="_blank" title="https://square.github.io/okhttp/" ref="nofollow noopener noreferrer">OkHttpå®˜æ–¹æ–‡æ¡£</a></li>
</ul>
<p><strong>ç³»åˆ—æ–‡ç« </strong>:</p>
<ul>
<li><a href="https://juejin.cn/post/7594680314712866866" target="_blank" title="https://juejin.cn/post/7594680314712866866">ä¸Šä¸€ç¯‡ï¼šCPUä¸I/Oæ€§èƒ½ä¼˜åŒ–:Simpleperfä¸å­˜å‚¨ä¼˜åŒ–å®æˆ˜</a></li>
<li><a href="https://juejin.cn/post/7587473691170095104" target="_blank" title="https://juejin.cn/post/7587473691170095104">ç³»åˆ—ç›®å½•: Androidç³»ç»Ÿç¨³å®šæ€§ä¸æ€§èƒ½ä¼˜åŒ–</a></li>
</ul>
<blockquote>
<p><strong>ä½œè€…ç®€ä»‹</strong>: å¤šå¹´Androidç³»ç»Ÿå¼€å‘ç»éªŒ,ä¸“æ³¨äºç³»ç»Ÿç¨³å®šæ€§ä¸æ€§èƒ½ä¼˜åŒ–é¢†åŸŸã€‚æ¬¢è¿å…³æ³¨æœ¬ç³»åˆ—,ä¸€èµ·æ·±å…¥Androidç³»ç»Ÿçš„ç²¾å½©ä¸–ç•Œ!</p>
</blockquote>
<hr/>
<h3 data-id="heading-64">ğŸ‰ æ„Ÿè°¢å…³æ³¨,è®©æˆ‘ä»¬ä¸€èµ·æ·±å…¥Androidç³»ç»Ÿçš„ç²¾å½©ä¸–ç•Œ!</h3>
<h3 data-id="heading-65"><strong>æ‰¾åˆ°æˆ‘</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fhome.wonlab.top" target="_blank" title="https://home.wonlab.top" ref="nofollow noopener noreferrer">ä¸ªäººä¸»é¡µ</a></h3></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ComposeåŸç†ä¸‰ä¹‹SlotTable]]></title>    <link>https://juejin.cn/post/7595043440520265734</link>    <guid>https://juejin.cn/post/7595043440520265734</guid>    <pubDate>2026-01-14T15:05:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595043440520265734" data-draft-id="7592069432228134921" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ComposeåŸç†ä¸‰ä¹‹SlotTable"/> <meta itemprop="keywords" content="æ¶æ„"/> <meta itemprop="datePublished" content="2026-01-14T15:05:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è£´äº‘é£"/> <meta itemprop="url" content="https://juejin.cn/user/3734361144570285"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ComposeåŸç†ä¸‰ä¹‹SlotTable
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3734361144570285/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è£´äº‘é£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-14T15:05:41.000Z" title="Wed Jan 14 2026 15:05:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å‰è¨€</h2>
<p><strong>SlotTableæ˜¯Composeçš„æ ¸å¿ƒæ•°æ®ç»“æ„ï¼Œå®ƒè§£å†³äº†å£°æ˜å¼UIä¸­çš„å…³é”®é—®é¢˜ã€‚æŒæ¡äº†SlotTableï¼Œå°±æŒæ¡äº†Composeçš„æ ¸å¿ƒåŸç†ã€‚</strong></p>
<h2 data-id="heading-1">äºŒã€å°æ¡ˆä¾‹</h2>
<p>æˆ‘ä»¬ä»¥ä¸€ä¸ªç®€å•çš„è®¡æ•°å™¨ä¸ºä¾‹ï¼Œåˆ†åˆ«ç”¨ä¼ ç»Ÿå‡½æ•°å’ŒComposeå‡½æ•°æ¥è¯´æ˜SlotTableçš„ä½œç”¨ã€‚</p>
<h3 data-id="heading-2">2ã€1 ä¼ ç»Ÿå‡½æ•°ï¼ˆæ— çŠ¶æ€ï¼Œæ— æ³•è®°å¿†ï¼‰</h3>
<p>åœ¨ä¼ ç»Ÿå‡½æ•°ä¸­ï¼Œå‡½æ•°è°ƒç”¨æ—¶åˆ›å»ºå±€éƒ¨å˜é‡ï¼Œè°ƒç”¨ç»“æŸå°±é”€æ¯ã€‚æ— æ³•åœ¨å¤šæ¬¡è°ƒç”¨ä¸­ä¿æŒçŠ¶æ€ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">traditionalCounter</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">var</span> count = <span class="hljs-number">0</span>  <span class="hljs-comment">// æ¯æ¬¡è°ƒç”¨éƒ½ä¼šé‡æ–°åˆå§‹åŒ–ä¸º0</span>
    count++
    println(<span class="hljs-string">"Count: <span class="hljs-variable">$count</span>"</span>)
}

<span class="hljs-comment">// å¤šæ¬¡è°ƒç”¨</span>
traditionalCounter() <span class="hljs-comment">// è¾“å‡º: Count: 1</span>
traditionalCounter() <span class="hljs-comment">// è¾“å‡º: Count: 1 (çŠ¶æ€æ²¡æœ‰ä¿æŒ)</span>
</code></pre>
<h3 data-id="heading-3">2ã€2 ä¼ ç»Ÿå‡½æ•°ï¼ˆä½¿ç”¨å¤–éƒ¨å˜é‡ï¼Œä½†æ— æ³•ä¸èŠ‚ç‚¹æ ‘å…³è”ï¼‰</h3>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¤–éƒ¨å˜é‡æ¥ä¿æŒçŠ¶æ€ï¼Œä½†å¦‚æœæœ‰å¤šä¸ªå®ä¾‹ï¼Œå®ƒä»¬ä¼šå…±äº«åŒä¸€ä¸ªçŠ¶æ€ï¼Œå¹¶ä¸”æ— æ³•ä¸ç‰¹å®šçš„UIç»„ä»¶å®ä¾‹ç»‘å®šã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">var</span> globalCount = <span class="hljs-number">0</span>

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">traditionalCounterWithGlobal</span><span class="hljs-params">()</span></span> {
    globalCount++
    println(<span class="hljs-string">"Count: <span class="hljs-variable">$globalCount</span>"</span>)
}

<span class="hljs-comment">// å¤šæ¬¡è°ƒç”¨</span>
traditionalCounterWithGlobal() <span class="hljs-comment">// è¾“å‡º: Count: 1</span>
traditionalCounterWithGlobal() <span class="hljs-comment">// è¾“å‡º: Count: 2</span>
<span class="hljs-comment">// ä½†æ˜¯å¦‚æœæœ‰å¤šä¸ªè®¡æ•°å™¨ï¼Œå®ƒä»¬éƒ½ä¼šä¿®æ”¹åŒä¸€ä¸ªå˜é‡ï¼Œæ— æ³•ç‹¬ç«‹ã€‚</span>
</code></pre>
<h3 data-id="heading-4">2ã€3 Composeå‡½æ•°ï¼ˆä½¿ç”¨SlotTableè®°å¿†çŠ¶æ€ï¼‰ï¼š</h3>
<p>åœ¨Composeä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>remember</code>æ¥å°†çŠ¶æ€ä¸è°ƒç”¨ç‚¹ï¼ˆåœ¨SlotTableä¸­çš„ä½ç½®ï¼‰å…³è”èµ·æ¥ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">ComposableCounter</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// è¿™é‡Œçš„countçŠ¶æ€ä¼šè¢«å­˜å‚¨åœ¨SlotTableä¸­ï¼Œä¸å½“å‰Composableåœ¨UIæ ‘ä¸­çš„ä½ç½®å…³è”</span>
    <span class="hljs-keyword">val</span> count <span class="hljs-keyword">by</span> remember { mutableStateOf(<span class="hljs-number">0</span>) }

    Button(onClick = { <span class="hljs-comment">/* å¦‚ä½•å¢åŠ ï¼Ÿè¿™é‡Œå…ˆä¸å†™ï¼Œä¸‹é¢è§£é‡Š */</span> }) {
        Text(<span class="hljs-string">"Count: <span class="hljs-variable">$count</span>"</span>)
    }
}
</code></pre>
<p>ä½†æ˜¯ï¼Œä¸ºäº†æ›´æ–°çŠ¶æ€ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªäº‹ä»¶ï¼Œæˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">ComposableCounter</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// ä½¿ç”¨rememberå°†çŠ¶æ€å­˜å‚¨åœ¨SlotTableä¸­</span>
    <span class="hljs-keyword">val</span> count = remember { mutableStateOf(<span class="hljs-number">0</span>) }

    Button(onClick = { count.value++ }) {
        Text(<span class="hljs-string">"Count: <span class="hljs-subst">${count.value}</span>"</span>)
    }
}
</code></pre>
<p>ç°åœ¨ï¼Œå½“æˆ‘ä»¬ç‚¹å‡»æŒ‰é’®æ—¶ï¼ŒçŠ¶æ€æ”¹å˜ï¼Œè§¦å‘é‡ç»„ã€‚åœ¨é‡ç»„æ—¶ï¼Œ<code>remember</code>ä¼šä»SlotTableä¸­è¯»å–ä¹‹å‰å­˜å‚¨çš„å€¼ï¼ˆè€Œä¸æ˜¯é‡æ–°åˆå§‹åŒ–ä¸º0ï¼‰ï¼Œæ‰€ä»¥çŠ¶æ€å¾—ä»¥ä¿æŒï¼Œå¹¶ä¸”æ¯æ¬¡ç‚¹å‡»éƒ½ä¼šå¢åŠ ã€‚</p>
<p>ä¼ ç»Ÿå‡½æ•°æ²¡æœ‰"è®°å¿†"ï¼Œä½†Composeéœ€è¦ï¼š</p>
<ol>
<li><strong>è®°ä½çŠ¶æ€</strong>Â -Â <code>remember</code>çš„å€¼åœ¨é‡ç»„é—´ä¿æŒã€‚</li>
<li><strong>è®°ä½ UI ç»“æ„</strong>Â - çŸ¥é“å“ªäº›ç»„ä»¶å­˜åœ¨ï¼Œå®ƒä»¬çš„é¡ºåºã€‚</li>
<li><strong>æ¯”è¾ƒå·®å¼‚</strong>Â - é‡ç»„æ—¶çŸ¥é“ä»€ä¹ˆå˜äº†ï¼Œä»€ä¹ˆæ²¡å˜ã€‚</li>
<li><strong>é«˜æ•ˆæ›´æ–°</strong>Â - åªæ›´æ–°çœŸæ­£éœ€è¦æ›´æ–°çš„éƒ¨åˆ†ã€‚</li>
</ol>
<p><strong>SlotTableå°±æ˜¯ç”¨æ¥è§£å†³ä¸Šé¢4ä¸ªé—®é¢˜çš„ã€‚</strong></p>
<h2 data-id="heading-5">ä¸‰ã€SlotTableçš„æ•°æ®ç»“æ„</h2>
<h3 data-id="heading-6">3ã€1 åŒæ•°ç»„è®¾è®¡</h3>
<p><strong>SlotTableæœ‰ä¸¤ä¸ªæ ¸å¿ƒçš„æ•°æ®ç»“æ„ï¼Œä¸€ä¸ªæ˜¯groupsï¼Œç”¨æ¥å­˜å‚¨æ‰€æœ‰ç»„çš„å…ƒæ•°æ®ï¼Œæ˜¯ä¸€ä¸ªæ‰å¹³åŒ–çš„æ ‘ç»“æ„ã€‚å¦ä¸€ä¸ªæ˜¯slotsï¼Œç”¨æ¥å­˜å‚¨å®é™…æ•°æ®ï¼ˆStateã€LayoutNodeã€RecomposeScopeã€CompositionLocalã€rememberç­‰ï¼‰ã€‚</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// SlotTable.kt</span>
<span class="hljs-keyword">internal</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SlotTable</span> : <span class="hljs-type">CompositionData</span>, <span class="hljs-type">Iterable</span>&lt;<span class="hljs-type">CompositionGroup</span>&gt; {
    <span class="hljs-comment">/**
     * groups æ•°ç»„å­˜å‚¨ç»„çš„å…ƒä¿¡æ¯
     * æ¯ä¸ªç»„å ç”¨ 5 ä¸ª Int å…ƒç´ ï¼ˆGroup_Fields_Size = 5ï¼‰
     */</span>
    <span class="hljs-keyword">var</span> groups = IntArray(<span class="hljs-number">0</span>)
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>
    
    <span class="hljs-keyword">var</span> groupsSize = <span class="hljs-number">0</span>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>

    <span class="hljs-comment">/**
     * slotsæ•°ç»„å­˜å‚¨å®é™…æ•°æ®
     * å¦‚ remember çš„å€¼ã€RecomposeScopeImplã€Node ç­‰
     */</span>
    <span class="hljs-keyword">var</span> slots = Array&lt;Any?&gt;(<span class="hljs-number">0</span>) { <span class="hljs-literal">null</span> }
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>
    
    <span class="hljs-keyword">var</span> slotsSize = <span class="hljs-number">0</span>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>
}
</code></pre>
<h3 data-id="heading-7">3ã€2 Groupçš„ç»“æ„</h3>
<p>æ¯ä¸ªç»„åœ¨groupsæ•°ç»„ä¸­å ç”¨5ä¸ªè¿ç»­çš„Intï¼š</p>



















<table><thead><tr><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th></tr></thead><tbody><tr><td>key</td><td>groupInfo(flags)</td><td>parentAnchor</td><td>size</td><td>dataAnchor</td></tr></tbody></table>
<ul>
<li>key:          ç»„çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆç”±ç¼–è¯‘å™¨ç”Ÿæˆï¼‰</li>
<li>groupInfo:    åŒ…å«å¤šå°‘ä¸ªå­èŠ‚ç‚¹å’Œä¸€äº›æ ‡å¿—ä½ï¼ˆæ˜¯å¦æ˜¯èŠ‚ç‚¹ã€æ˜¯å¦æœ‰Auxã€æ˜¯å¦æœ‰ObjectKeyç­‰ï¼‰</li>
<li>parentAnchor: çˆ¶èŠ‚ç‚¹çš„ä½ç½®ï¼ˆç”¨äºæ„å»ºæ ‘å½¢ç»“æ„ï¼‰</li>
<li>size:         ç»„çš„å¤§å°ï¼ˆåŒ…å«æ‰€æœ‰å­ç»„ï¼‰</li>
<li>dataAnchor:   æŒ‡å‘slotsæ•°ç»„ä¸­çš„ä½ç½®ï¼Œæ‰¾åˆ°è¿™ä¸ªç»„å¯¹åº”çš„å®é™…æ•°æ®ï¼ˆrememberçš„å€¼ã€èŠ‚ç‚¹å¯¹è±¡ç­‰ï¼‰</li>
</ul>
<p>GroupInfoä½å¸ƒå±€ï¼š</p>

































<table><thead><tr><th>ä½</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>30</td><td>isNode - æ˜¯å¦æ˜¯èŠ‚ç‚¹Group</td></tr><tr><td>29</td><td>hasObjectKey - æ˜¯å¦æœ‰å¯¹è±¡ç±»å‹çš„key</td></tr><tr><td>28</td><td>hasAux - æ˜¯å¦æœ‰è¾…åŠ©æ•°æ®</td></tr><tr><td>27</td><td>mark - æ ‡è®°ä½</td></tr><tr><td>26</td><td>containsMark - æ˜¯å¦åŒ…å«æ ‡è®°</td></tr><tr><td>0-25</td><td>nodeCount - èŠ‚ç‚¹è®¡æ•°</td></tr></tbody></table>
<p><strong>è¿™æ ·è®¾è®¡çš„ç›®çš„ï¼š</strong></p>
<ul>
<li><strong>æ„å»ºä¸€ä¸ªæ‰å¹³åŒ–çš„æ ‘ç»“æ„ï¼Œè®¿é—®æ›´åŠ å¿«ã€‚</strong></li>
<li><strong>ç”¨5ä¸ªIntæè¿°ä¸€ä¸ªç»„ï¼Œçœå†…å­˜ã€‚</strong></li>
<li><strong>é€šè¿‡keyåŒ¹é…ï¼Œé‡ç»„æ—¶å¯¹æ¯”æ–°æ—§çŠ¶æ€ã€‚</strong></li>
<li><strong>çŸ¥é“çˆ¶èŠ‚ç‚¹çš„ä½ç½®å’Œç»„çš„å¤§å°ï¼Œå¯ä»¥å¿«é€Ÿçš„æ‰¾åˆ°ä¸‹ä¸€ä¸ªç»„nextGroup = currentGroup + sizeï¼Œä¹Ÿå¯ä»¥å¿«é€Ÿçš„æ‰¾åˆ°ä¸‹ä¸€ä¸ªçˆ¶èŠ‚ç‚¹ï¼šparent = groups[currentGroup * 5 + 2]</strong></li>
</ul>
<p><strong>è¯·ç‰¢è®°ï¼Œgroupsæ•°ç»„çš„ç»“æ„ã€slotsæ•°ç»„çš„ç»“æ„ä»¥åŠè¿™æ ·è®¾è®¡çš„ç›®çš„ã€‚</strong></p>
<h3 data-id="heading-8">3ã€3 æ•°æ®å¸ƒå±€ç¤ºä¾‹</h3>
<p>å‡è®¾æœ‰å¦‚ä¸‹Composeå‡½æ•°</p>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">App</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">var</span> show <span class="hljs-keyword">by</span> remember { mutableStateOf(<span class="hljs-literal">true</span>) }
    
    Column {
        Text(<span class="hljs-string">"Hello"</span>)
    }
}
</code></pre>
<p>SlotTableå¸ƒå±€ï¼š</p>
<p>groupsæ•°ç»„å°±ä¼šå˜æˆè¿™æ ·(æ¯5ä¸ªIntä¸ºä¸€ç»„):</p>









<table><thead><tr><th>Appç»„å…ƒä¿¡æ¯ ( 5ä¸ªint)</th><th>rememberç»„ (5ä¸ªint)</th><th>Columnç»„ (5ä¸ªint)</th><th>Textç»„ (5ä¸ªint)</th></tr></thead></table>
<p>slotsæ•°ç»„å°±ä¼šå˜æˆè¿™æ ·:</p>









<table><thead><tr><th>Appçš„RecomposeScope</th><th>MutableState(true)</th><th>Columnçš„Node</th><th>"Hello"å­—ç¬¦ä¸²</th></tr></thead></table>
<p><strong>æ¥ä¸‹æ¥ç”¨ä¸€ä¸ªComposeå‡½æ•°ï¼Œæ·±å…¥æºç ï¼Œå»çœ‹ä¸‹groupsæ•°ç»„å’Œslotsæ•°ç»„æ˜¯å¦‚ä½•å¡«å……æ•°æ®çš„ã€‚</strong></p>
<h2 data-id="heading-9">å››ã€æºä»£ç ä¸ç¼–è¯‘å™¨è¾“å‡º</h2>
<p>ç»å…¸çš„è®¡æ•°å™¨ç´¯åŠ ä¾‹å­</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> : <span class="hljs-type">ComponentActivity</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        enableEdgeToEdge()
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)
        setContent {
            Count()
        }
    }
}

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">Count</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">var</span> content <span class="hljs-keyword">by</span> remember { mutableStateOf(<span class="hljs-number">0</span>) }
    
    Button({
        content++
    }, content = {
        Text(content.toString())
    })
}
</code></pre>
<p><strong>ç¼–è¯‘åCountå‡½æ•°å˜æˆäº†ä¸‹é¢çš„ä»£ç ï¼ŒCountå‡½æ•°æœ¬æ¥æ²¡æœ‰å‚æ•°ï¼Œç¼–è¯‘åCountå‡½æ•°å´æœ‰ä¸¤ä¸ªå‚æ•°ã€‚</strong></p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">Count</span><span class="hljs-params">(<span class="hljs-meta">@Nullable</span> Composer $composer, <span class="hljs-type">int</span> $changed)</span> {
    <span class="hljs-comment">// ============================================================</span>
    <span class="hljs-comment">// æ­¥éª¤1: å¯åŠ¨ RestartGroup</span>
    <span class="hljs-comment">// startRestartGroup ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ Group å¹¶è®°å½• RecomposeScope</span>
    <span class="hljs-comment">// key = -1491082337 æ˜¯ç¼–è¯‘å™¨ä¸º Count å‡½æ•°ç”Ÿæˆçš„å”¯ä¸€æ ‡è¯†</span>
    <span class="hljs-comment">// ============================================================</span>
    $composer = $composer.startRestartGroup(-<span class="hljs-number">1491082337</span>);
    
    <span class="hljs-comment">// è®°å½•æºä»£ç ä½ç½®ä¿¡æ¯ï¼ˆç”¨äºè°ƒè¯•å’Œå·¥å…·ï¼‰</span>
    ComposerKt.sourceInformation($composer, <span class="hljs-string">"C(Count)20@464L30,24@544L40,22@500L85:Demo.kt#bw2bq5"</span>);
    
    <span class="hljs-comment">// ============================================================</span>
    <span class="hljs-comment">// æ­¥éª¤2: è·³è¿‡æ£€æŸ¥</span>
    <span class="hljs-comment">// å¦‚æœ $changed == 0 ä¸”å¯ä»¥è·³è¿‡ï¼Œåˆ™è·³è¿‡æ•´ä¸ªç»„åˆ</span>
    <span class="hljs-comment">// ============================================================</span>
    <span class="hljs-keyword">if</span> ($changed == <span class="hljs-number">0</span> &amp;&amp; $composer.getSkipping()) {
        $composer.skipToGroupEnd();
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// å¼€å§‹è·Ÿè¸ªï¼ˆç”¨äºæ€§èƒ½åˆ†æï¼‰</span>
        <span class="hljs-keyword">if</span> (ComposerKt.isTraceInProgress()) {
            ComposerKt.traceEventStart(-<span class="hljs-number">1491082337</span>, $changed, -<span class="hljs-number">1</span>, <span class="hljs-string">"com.example.kmp.Count (Demo.kt:18)"</span>);
        }

        <span class="hljs-comment">// ============================================================</span>
        <span class="hljs-comment">// æ­¥éª¤3: remember å— - åˆ›å»ºå¹¶ç¼“å­˜ MutableState</span>
        <span class="hljs-comment">// ============================================================</span>
        <span class="hljs-type">boolean</span> <span class="hljs-variable">var3</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
        <span class="hljs-type">int</span> <span class="hljs-variable">$i$f$remember</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        
        <span class="hljs-comment">// sourceInformationMarkerStart ä¸åˆ›å»º Groupï¼Œåªæ˜¯æ ‡è®°æºä»£ç ä½ç½®</span>
        ComposerKt.sourceInformationMarkerStart($composer, -<span class="hljs-number">492369756</span>, <span class="hljs-string">"CC(remember)N(calculation):Composables.kt#9igjgp"</span>);
        
        <span class="hljs-type">boolean</span> <span class="hljs-variable">invalid$iv$iv</span> <span class="hljs-operator">=</span> (<span class="hljs-type">boolean</span>)<span class="hljs-number">0</span>;
        <span class="hljs-type">int</span> <span class="hljs-variable">$i$f$cache</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        
        <span class="hljs-comment">// ============================================================</span>
        <span class="hljs-comment">// æ­¥éª¤4: è¯»å–å·²ç¼“å­˜çš„å€¼</span>
        <span class="hljs-comment">// rememberedValue() ä»å½“å‰ slot è¯»å–ä¹‹å‰å­˜å‚¨çš„å€¼</span>
        <span class="hljs-comment">// å¦‚æœæ˜¯é¦–æ¬¡ç»„åˆï¼Œè¿”å› Composer.Empty</span>
        <span class="hljs-comment">// ============================================================</span>
        <span class="hljs-type">Object</span> <span class="hljs-variable">it$iv$iv</span> <span class="hljs-operator">=</span> $composer.rememberedValue();
        
        <span class="hljs-type">int</span> <span class="hljs-variable">var9</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        Object var10000;
        
        <span class="hljs-comment">// ============================================================</span>
        <span class="hljs-comment">// æ­¥éª¤5: åˆ¤æ–­æ˜¯å¦éœ€è¦åˆ›å»ºæ–°å€¼</span>
        <span class="hljs-comment">// å¦‚æœè¯»å–åˆ° Emptyï¼Œè¯´æ˜æ˜¯é¦–æ¬¡ç»„åˆï¼Œéœ€è¦åˆ›å»ºæ–°çš„ MutableState</span>
        <span class="hljs-comment">// ============================================================</span>
        <span class="hljs-keyword">if</span> (it$iv$iv == Composer.Companion.getEmpty()) {
            <span class="hljs-type">int</span> <span class="hljs-variable">var10</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
            <span class="hljs-comment">// åˆ›å»º MutableState&lt;Int&gt;ï¼Œåˆå§‹å€¼ä¸º 0</span>
            <span class="hljs-type">Object</span> <span class="hljs-variable">value$iv$iv</span> <span class="hljs-operator">=</span> SnapshotStateKt.mutableStateOf$<span class="hljs-keyword">default</span>(<span class="hljs-number">0</span>, (SnapshotMutationPolicy)<span class="hljs-literal">null</span>, <span class="hljs-number">2</span>, (Object)<span class="hljs-literal">null</span>);
            <span class="hljs-comment">// å°†æ–°åˆ›å»ºçš„å€¼å­˜å‚¨åˆ° slot</span>
            $composer.updateRememberedValue(value$iv$iv);
            var10000 = value$iv$iv;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// é‡ç»„æ—¶ç›´æ¥ä½¿ç”¨ç¼“å­˜çš„å€¼</span>
            var10000 = it$iv$iv;
        }

        <span class="hljs-type">Object</span> <span class="hljs-variable">var11</span> <span class="hljs-operator">=</span> var10000;
        ComposerKt.sourceInformationMarkerEnd($composer);
        
        <span class="hljs-comment">// content$delegate å°±æ˜¯ remember { mutableStateOf(0) } çš„ç»“æœ</span>
        <span class="hljs-keyword">final</span> <span class="hljs-type">MutableState</span> <span class="hljs-variable">content$delegate</span> <span class="hljs-operator">=</span> (MutableState)var11;
        
        <span class="hljs-comment">// ============================================================</span>
        <span class="hljs-comment">// æ­¥éª¤6: ä¸º onClick lambda åˆ›å»º ReplaceGroup</span>
        <span class="hljs-comment">// startReplaceGroup åˆ›å»ºä¸€ä¸ªå¯æ›¿æ¢çš„ Group</span>
        <span class="hljs-comment">// key = -548075111 æ˜¯ç¼–è¯‘å™¨ç”Ÿæˆçš„å”¯ä¸€æ ‡è¯†</span>
        <span class="hljs-comment">// ============================================================</span>
        $composer.startReplaceGroup(-<span class="hljs-number">548075111</span>);
        
        <span class="hljs-comment">// æ£€æŸ¥ content$delegate æ˜¯å¦å‘ç”Ÿå˜åŒ–</span>
        <span class="hljs-type">boolean</span> <span class="hljs-variable">$this$cache$iv$iv</span> <span class="hljs-operator">=</span> $composer.changed(content$delegate);
        
        invalid$iv$iv = (<span class="hljs-type">boolean</span>)<span class="hljs-number">0</span>;
        <span class="hljs-type">Object</span> <span class="hljs-variable">it$iv</span> <span class="hljs-operator">=</span> $composer.rememberedValue();
        <span class="hljs-type">int</span> <span class="hljs-variable">var16</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        
        <span class="hljs-comment">// ============================================================</span>
        <span class="hljs-comment">// æ­¥éª¤7: ç¼“å­˜ onClick lambda</span>
        <span class="hljs-comment">// å¦‚æœä¾èµ–æ²¡å˜ä¸”ä¹‹å‰æœ‰ç¼“å­˜ï¼Œä½¿ç”¨ç¼“å­˜çš„ lambda</span>
        <span class="hljs-comment">// å¦åˆ™åˆ›å»ºæ–°çš„ lambda å¹¶ç¼“å­˜</span>
        <span class="hljs-comment">// ============================================================</span>
        <span class="hljs-keyword">if</span> (!$<span class="hljs-built_in">this</span>$cache$iv$iv &amp;&amp; it$iv != Composer.Companion.getEmpty()) {
            var10000 = it$iv;
        } <span class="hljs-keyword">else</span> {
            var9 = <span class="hljs-number">0</span>;
            <span class="hljs-comment">// DemoKt::Count$lambda$4$lambda$3 æ˜¯ç¼–è¯‘å™¨ç”Ÿæˆçš„ lambda å¼•ç”¨</span>
            <span class="hljs-type">Object</span> <span class="hljs-variable">value$iv</span> <span class="hljs-operator">=</span> DemoKt::Count$lambda$<span class="hljs-number">4</span>$lambda$<span class="hljs-number">3</span>;
            $composer.updateRememberedValue(value$iv);
            var10000 = value$iv;
        }

        <span class="hljs-type">Function0</span> <span class="hljs-variable">var13</span> <span class="hljs-operator">=</span> (Function0)var10000;
        
        <span class="hljs-comment">// ç»“æŸ ReplaceGroup</span>
        $composer.endReplaceGroup();
        
        <span class="hljs-comment">// ============================================================</span>
        <span class="hljs-comment">// æ­¥éª¤8: è°ƒç”¨ Button Composable</span>
        <span class="hljs-comment">// Button å†…éƒ¨ä¼šåˆ›å»ºè‡ªå·±çš„ Groups</span>
        <span class="hljs-comment">// æœ€åä¸€ä¸ªå‚æ•°æ˜¯ content lambdaï¼Œä½¿ç”¨ rememberComposableLambda åŒ…è£…</span>
        <span class="hljs-comment">// ============================================================</span>
        ButtonKt.Button(
            var13,                    <span class="hljs-comment">// onClick</span>
            (Modifier)<span class="hljs-literal">null</span>,           <span class="hljs-comment">// modifier</span>
            <span class="hljs-literal">false</span>,                    <span class="hljs-comment">// enabled</span>
            (Shape)<span class="hljs-literal">null</span>,              <span class="hljs-comment">// shape</span>
            (ButtonColors)<span class="hljs-literal">null</span>,       <span class="hljs-comment">// colors</span>
            (ButtonElevation)<span class="hljs-literal">null</span>,    <span class="hljs-comment">// elevation</span>
            (BorderStroke)<span class="hljs-literal">null</span>,       <span class="hljs-comment">// border</span>
            (PaddingValues)<span class="hljs-literal">null</span>,      <span class="hljs-comment">// contentPadding</span>
            (MutableInteractionSource)<span class="hljs-literal">null</span>, <span class="hljs-comment">// interactionSource</span>
            <span class="hljs-comment">// content lambda - ä½¿ç”¨ rememberComposableLambda ç¼“å­˜</span>
            (Function3)ComposableLambdaKt.rememberComposableLambda(
                <span class="hljs-number">1836707247</span>,           <span class="hljs-comment">// key</span>
                <span class="hljs-literal">true</span>,                 <span class="hljs-comment">// tracked</span>
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">Function3</span>() {     <span class="hljs-comment">// lambda å®ç°</span>
                    <span class="hljs-meta">@Composable</span>
                    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">invoke</span><span class="hljs-params">(RowScope $<span class="hljs-built_in">this</span>$Button, Composer $composer, <span class="hljs-type">int</span> $changed)</span> {
                        <span class="hljs-comment">// ... Text(content.toString()) ...</span>
                    }
                    <span class="hljs-comment">// ...</span>
                },
                $composer,
                <span class="hljs-number">54</span>
            ),
            $composer,
            <span class="hljs-number">805306368</span>,               <span class="hljs-comment">// $changed</span>
            <span class="hljs-number">510</span>                      <span class="hljs-comment">// $default</span>
        );
        
        <span class="hljs-keyword">if</span> (ComposerKt.isTraceInProgress()) {
            ComposerKt.traceEventEnd();
        }
    }

    <span class="hljs-comment">// ============================================================</span>
    <span class="hljs-comment">// æ­¥éª¤9: ç»“æŸ RestartGroup å¹¶æ³¨å†Œé‡ç»„å›è°ƒ</span>
    <span class="hljs-comment">// endRestartGroup è¿”å› ScopeUpdateScopeï¼Œç”¨äºæ³¨å†Œé‡ç»„ lambda</span>
    <span class="hljs-comment">// ============================================================</span>
    <span class="hljs-type">ScopeUpdateScope</span> <span class="hljs-variable">var21</span> <span class="hljs-operator">=</span> $composer.endRestartGroup();
    <span class="hljs-keyword">if</span> (var21 != <span class="hljs-literal">null</span>) {
        <span class="hljs-comment">// æ³¨å†Œé‡ç»„å›è°ƒï¼šå½“éœ€è¦é‡ç»„æ—¶ï¼Œè°ƒç”¨ Count$lambda$5</span>
        var21.updateScope(DemoKt::Count$lambda$<span class="hljs-number">5</span>);
    }
}

<span class="hljs-comment">// é‡ç»„æ—¶è°ƒç”¨çš„ lambda</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Unit Count$lambda$<span class="hljs-number">5</span>(<span class="hljs-type">int</span> $$changed, Composer $composer, <span class="hljs-type">int</span> $force) {
    Count($composer, RecomposeScopeImplKt.updateChangedFlags($$changed | <span class="hljs-number">1</span>));
    <span class="hljs-keyword">return</span> Unit.INSTANCE;
}
</code></pre>
<p>Countå‡½æ•°åœ¨è°ƒç”¨ä¹‹å‰ï¼Œç»å†äº†ä¸€ç³»åˆ—çš„å‡½æ•°è°ƒç”¨ï¼Œä¸‹é¢æ˜¯è°ƒç”¨é“¾ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">setContent { <span class="hljs-built_in">Count</span>() }
    â†“
ComponentActivity<span class="hljs-selector-class">.setContent</span>                    <span class="hljs-comment">// ComponentActivity.kt    </span>
    â†“
ComposeView<span class="hljs-selector-class">.setContent</span>                          <span class="hljs-comment">// ComposeView.kt    </span>
    â†“
ComposeView<span class="hljs-selector-class">.createComposition</span>                   <span class="hljs-comment">// ComposeView.kt    </span>
    â†“
ComposeView<span class="hljs-selector-class">.ensureCompositionCreated</span>            <span class="hljs-comment">// ComposeView.kt    </span>
    â†“
AbstractComposeView<span class="hljs-selector-class">.setContent</span>                  <span class="hljs-comment">// Wrapper_android.kt             </span>
    â†“
AbstractComposeView<span class="hljs-selector-class">.doSetContent</span>                <span class="hljs-comment">// Wrapper_android.kt    </span>
    â†“
WrappedComposition<span class="hljs-selector-class">.setContent</span>                   <span class="hljs-comment">// WrappedComposition.kt    </span>
    â†“
CompositionImpl<span class="hljs-selector-class">.setContent</span>()                    <span class="hljs-comment">// Composition.kt</span>
    â†“
CompositionImpl<span class="hljs-selector-class">.composeInitial</span>()                <span class="hljs-comment">// Composition.kt</span>
    â†“
Recomposer<span class="hljs-selector-class">.composeInitial</span>()                     <span class="hljs-comment">// Recomposer.kt</span>
    â†“
Recomposer<span class="hljs-selector-class">.composing</span>()                          <span class="hljs-comment">// Recomposer.kt</span>
    â†“
composition<span class="hljs-selector-class">.composeContent</span>(content)             <span class="hljs-comment">// Composition.kt</span>
    â†“
ComposerImpl<span class="hljs-selector-class">.composeContent</span>()                   <span class="hljs-comment">// Composer.kt</span>
    â†“
ComposerImpl<span class="hljs-selector-class">.composeContent</span>(invalidations, content) <span class="hljs-comment">// Composer.kt</span>
    â†“
ComposerImpl<span class="hljs-selector-class">.doCompose</span>(invalidations, content)      <span class="hljs-comment">// Composer.kt</span>
    â†“
<span class="hljs-built_in">startRoot</span>()                                     <span class="hljs-comment">// åˆ›å»ºRoot Group</span>
    â†“
<span class="hljs-built_in">startGroup</span>(invocationKey, invocation)           <span class="hljs-comment">// åˆ›å»º Invocation Group</span>
    â†“
<span class="hljs-built_in">invokeComposable</span>(this, content)                 <span class="hljs-comment">// è°ƒç”¨ç”¨æˆ·çš„ Composableï¼ˆå¦‚ Countï¼‰</span>
    â†“
<span class="hljs-built_in">Count</span>($composer, <span class="hljs-number">0</span>)                             <span class="hljs-comment">// Countå‡½æ•°å¼€å§‹æ‰§è¡Œ</span>
</code></pre>
<h3 data-id="heading-10">doCompose</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">doCompose</span><span class="hljs-params">(
    invalidationsRequested: <span class="hljs-type">ScopeMap</span>&lt;<span class="hljs-type">RecomposeScopeImpl</span>, Any&gt;,
    content: (@<span class="hljs-type">Composable</span> () -&gt; <span class="hljs-type">Unit</span>)?,
)</span></span> {
    runtimeCheck(!isComposing) { <span class="hljs-string">"Reentrant composition is not supported"</span> }
    <span class="hljs-keyword">val</span> observer = observerHolder.current()
    trace(<span class="hljs-string">"Compose:recompose"</span>) {
        compositionToken = currentSnapshot().snapshotId.hashCode()
        providerUpdates = <span class="hljs-literal">null</span>
        updateComposerInvalidations(invalidationsRequested)
        nodeIndex = <span class="hljs-number">0</span>
        <span class="hljs-keyword">var</span> complete = <span class="hljs-literal">false</span>
        isComposing = <span class="hljs-literal">true</span>
        observer?.onBeginComposition(composition)
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// åˆ›å»ºç¬¬ä¸€ä¸ªç»„</span>
            startRoot()

            <span class="hljs-comment">// vv Experimental for forced</span>
            <span class="hljs-keyword">val</span> savedContent = nextSlot()
            <span class="hljs-keyword">if</span> (savedContent !== content &amp;&amp; content != <span class="hljs-literal">null</span>) {
                <span class="hljs-comment">// ä¿å­˜setContentæ–¹æ³•ä¼ å…¥lambdaåˆ°slotsæ•°ç»„</span>
                updateValue(content <span class="hljs-keyword">as</span> Any?)
            }
            <span class="hljs-comment">// ^^ Experimental for forced</span>

            <span class="hljs-comment">// Ignore reads of derivedStateOf recalculations</span>
            observeDerivedStateRecalculations(derivedStateObserver) {
                <span class="hljs-keyword">if</span> (content != <span class="hljs-literal">null</span>) {
                    <span class="hljs-comment">// åˆ›å»ºkeyä¸º200çš„ç»„</span>
                    startGroup(invocationKey, invocation)
                    <span class="hljs-comment">// è°ƒç”¨Countå‡½æ•°</span>
                    invokeComposable(<span class="hljs-keyword">this</span>, content)
                    <span class="hljs-comment">// ç»“æŸç»„</span>
                    endGroup()
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (
                    (forciblyRecompose || providersInvalid) &amp;&amp;
                        savedContent != <span class="hljs-literal">null</span> &amp;&amp;
                        savedContent != Composer.Empty
                ) {
                    startGroup(invocationKey, invocation)
                    <span class="hljs-meta">@Suppress(<span class="hljs-string">"UNCHECKED_CAST"</span>)</span>
                    invokeComposable(<span class="hljs-keyword">this</span>, savedContent <span class="hljs-keyword">as</span> <span class="hljs-meta">@Composable</span> () -&gt; <span class="hljs-built_in">Unit</span>)
                    endGroup()
                } <span class="hljs-keyword">else</span> {
                    skipCurrentGroup()
                }
            }
            <span class="hljs-comment">// ç»„åˆå®Œæˆ</span>
            endRoot()
            complete = <span class="hljs-literal">true</span>
        } <span class="hljs-keyword">catch</span> (e: Throwable) {
            <span class="hljs-keyword">throw</span> e.attachComposeStackTrace { currentStackTrace() }
        } <span class="hljs-keyword">finally</span> {
            observer?.onEndComposition(composition)
            isComposing = <span class="hljs-literal">false</span>
            invalidations.clear()
            <span class="hljs-keyword">if</span> (!complete) abortRoot()
            createFreshInsertTable()
        }
    }
}
</code></pre>
<p>å½“<code>startRoot()</code>ã€<code>updateValue(content as Any?)</code>ã€<code>startGroup(invocationKey, invocation)</code>æ‰§è¡Œå®Œæˆåï¼Œgroupsæ•°ç»„å°±å˜æˆäº†è¿™æ ·ã€‚</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">Group</span> <span class="hljs-number">0</span>: Root <span class="hljs-keyword">Group</span> (<span class="hljs-keyword">key</span> = <span class="hljs-number">100</span>)
â”œâ”€â”€ <span class="hljs-keyword">Group</span> <span class="hljs-number">1</span>: KeyHash <span class="hljs-keyword">Group</span> (<span class="hljs-keyword">key</span> = parentContext.compositeKeyHashCode)
â””â”€â”€ slots[<span class="hljs-number">0</span>]: content lambda (setContent ä¼ å…¥çš„ lambda)
    â””â”€â”€ <span class="hljs-keyword">Group</span> <span class="hljs-number">2</span>: Invocation <span class="hljs-keyword">Group</span> (<span class="hljs-keyword">key</span> = invocationKey)
</code></pre>
<p>ä»<code>startRoot</code>å¼€å§‹é‡ç‚¹è§£æä¸‹ç»„æ˜¯å¦‚ä½•åˆ›å»ºçš„ã€‚</p>
<h3 data-id="heading-11">startRoot</h3>
<p>startRootç”¨äºåˆ›å»ºgroupsæ•°ç»„çš„ç¬¬ä¸€ä¸ªç»„ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@OptIn(InternalComposeApi::class)</span>
<span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">startRoot</span><span class="hljs-params">()</span></span> {
    rGroupIndex = <span class="hljs-number">0</span>
    reader = slotTable.openReader()  <span class="hljs-comment">// æ‰“å¼€ SlotReader</span>
    
    <span class="hljs-comment">// =========================================</span>
    <span class="hljs-comment">// åˆ›å»º Root Groupï¼ˆkey = rootKey = 100ï¼‰</span>
    <span class="hljs-comment">// è¿™æ˜¯ groups æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªç»„</span>
    <span class="hljs-comment">// =========================================</span>
    startGroup(rootKey)  <span class="hljs-comment">// rootKey = 100</span>

    <span class="hljs-comment">// å¤„ç† CompositionLocal</span>
    parentContext.startComposing()
    <span class="hljs-keyword">val</span> parentProvider = parentContext.getCompositionLocalScope()
    providersInvalidStack.push(providersInvalid.asInt())
    providersInvalid = changed(parentProvider)
    providerCache = <span class="hljs-literal">null</span>

    <span class="hljs-comment">// å¤„ç†å¼ºåˆ¶é‡ç»„ä½œç”¨åŸŸ</span>
    <span class="hljs-keyword">if</span> (!forceRecomposeScopes) {
        forceRecomposeScopes = parentContext.collectingParameterInformation
    }

    <span class="hljs-comment">// å¤„ç†æºç æ ‡è®°</span>
    <span class="hljs-keyword">if</span> (!sourceMarkersEnabled) {
        sourceMarkersEnabled = parentContext.collectingSourceInformation
    }

    rootProvider = <span class="hljs-keyword">if</span> (sourceMarkersEnabled) {
        <span class="hljs-meta">@Suppress(<span class="hljs-string">"UNCHECKED_CAST"</span>)</span>
        parentProvider.putValue(
            LocalCompositionErrorContext <span class="hljs-keyword">as</span> CompositionLocal&lt;Any?&gt;,
            StaticValueHolder(errorContext),
        )
    } <span class="hljs-keyword">else</span> {
        parentProvider
    }

    rootProvider.read(LocalInspectionTables)?.let {
        it.add(compositionData)
        parentContext.recordInspectionTable(it)
    }

    <span class="hljs-comment">// =========================================</span>
    <span class="hljs-comment">// åˆ›å»º KeyHash Group</span>
    <span class="hljs-comment">// è¿™æ˜¯ Root Group çš„å­ Group</span>
    <span class="hljs-comment">// =========================================</span>
    startGroup(parentContext.compositeKeyHashCode.hashCode())
}
</code></pre>
<p>startRootè°ƒç”¨startGroup(rootKey)åˆ›å»ºç¬¬ä¸€ä¸ªç»„ï¼Œkeyä¸º100ï¼ŒstartGroupè°ƒç”¨startã€‚</p>
<h3 data-id="heading-12">start</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">start</span><span class="hljs-params">(key: <span class="hljs-type">Int</span>, objectKey: <span class="hljs-type">Any</span>?, kind: <span class="hljs-type">GroupKind</span>, <span class="hljs-keyword">data</span>: <span class="hljs-type">Any</span>?)</span></span> {
    <span class="hljs-comment">// isNodeä¸ºfalseï¼Œå› ä¸ºæ•°ç»„çš„ç¬¬ä¸€ä¸ªç»„ä¸æ˜¯èŠ‚ç‚¹ï¼ŒTextã€Colimnã€Buttonæ˜¯èŠ‚ç‚¹</span>
    <span class="hljs-keyword">val</span> isNode = kind.isNode
    <span class="hljs-keyword">if</span> (inserting) {
        <span class="hljs-comment">// é¦–æ¬¡ç»„åˆï¼Œinsertingä¸ºtrue</span>
        reader.beginEmpty()
        <span class="hljs-keyword">val</span> startIndex = writer.currentGroup
        <span class="hljs-keyword">when</span> {
            isNode -&gt; writer.startNode(key, Composer.Empty)
            <span class="hljs-keyword">data</span> != <span class="hljs-literal">null</span> -&gt; writer.startData(key, objectKey ?: Composer.Empty, <span class="hljs-keyword">data</span>)
            <span class="hljs-comment">// è°ƒç”¨SlotTableçš„startGroup</span>
            <span class="hljs-keyword">else</span> -&gt; writer.startGroup(key, objectKey ?: Composer.Empty)
        }
        pending?.let { pending -&gt;
            <span class="hljs-keyword">val</span> insertKeyInfo =
                KeyInfo(
                    key = key,
                    objectKey = -<span class="hljs-number">1</span>,
                    location = insertedGroupVirtualIndex(startIndex),
                    nodes = -<span class="hljs-number">1</span>,
                    index = <span class="hljs-number">0</span>,
                )
            pending.registerInsert(insertKeyInfo, nodeIndex - pending.startIndex)
            pending.recordUsed(insertKeyInfo)
        }
        enterGroup(isNode, <span class="hljs-literal">null</span>)
        <span class="hljs-keyword">return</span>
    }
    <span class="hljs-comment">// çœç•¥åé¢çš„ä»£ç ï¼Œé‡ç»„çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œåé¢çš„ä»£ç </span>
}
</code></pre>
<h3 data-id="heading-13">SlotTableçš„startGroup</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">startGroup</span><span class="hljs-params">(key: <span class="hljs-type">Int</span>, objectKey: <span class="hljs-type">Any</span>?, isNode: <span class="hljs-type">Boolean</span>, aux: <span class="hljs-type">Any</span>?)</span></span> {
    <span class="hljs-keyword">val</span> previousParent = parent
    <span class="hljs-keyword">val</span> inserting = insertCount &gt; <span class="hljs-number">0</span>
    nodeCountStack.push(nodeCount)

    currentGroupEnd =
        <span class="hljs-keyword">if</span> (inserting) {
            <span class="hljs-keyword">val</span> current = currentGroup
            <span class="hljs-keyword">val</span> newCurrentSlot = groups.dataIndex(groupIndexToAddress(current))
            <span class="hljs-comment">// æ’å…¥ä¸€ä¸ªç»„</span>
            insertGroups(<span class="hljs-number">1</span>)
            currentSlot = newCurrentSlot
            currentSlotEnd = newCurrentSlot
            <span class="hljs-keyword">val</span> currentAddress = groupIndexToAddress(current)
            <span class="hljs-keyword">val</span> hasObjectKey = objectKey !== Composer.Empty
            <span class="hljs-keyword">val</span> hasAux = !isNode &amp;&amp; aux !== Composer.Empty
            <span class="hljs-keyword">val</span> dataAnchor =
                dataIndexToDataAnchor(
                        index = newCurrentSlot,
                        gapLen = slotsGapLen,
                        gapStart = slotsGapStart,
                        capacity = slots.size,
                    )
                    .let { anchor -&gt;
                        <span class="hljs-keyword">if</span> (anchor &gt;= <span class="hljs-number">0</span> &amp;&amp; slotsGapOwner &lt; current) {
                            <span class="hljs-keyword">val</span> slotsSize = slots.size - slotsGapLen
                            -(slotsSize - anchor + <span class="hljs-number">1</span>)
                        } <span class="hljs-keyword">else</span> anchor
                    }
            <span class="hljs-comment">// åˆå§‹åŒ–ç»„        </span>
            groups.initGroup(
                address = currentAddress,
                key = key,
                isNode = isNode,
                hasDataKey = hasObjectKey,
                hasData = hasAux,
                parentAnchor = parent,
                dataAnchor = dataAnchor,
            )

            <span class="hljs-keyword">val</span> dataSlotsNeeded =
                (<span class="hljs-keyword">if</span> (isNode) <span class="hljs-number">1</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0</span>) + (<span class="hljs-keyword">if</span> (hasObjectKey) <span class="hljs-number">1</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0</span>) + (<span class="hljs-keyword">if</span> (hasAux) <span class="hljs-number">1</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0</span>)
            <span class="hljs-keyword">if</span> (dataSlotsNeeded &gt; <span class="hljs-number">0</span>) {
                insertSlots(dataSlotsNeeded, current)
                <span class="hljs-keyword">val</span> slots = slots
                <span class="hljs-keyword">var</span> currentSlot = currentSlot
                <span class="hljs-keyword">if</span> (isNode) slots[currentSlot++] = aux
                <span class="hljs-keyword">if</span> (hasObjectKey) slots[currentSlot++] = objectKey
                <span class="hljs-keyword">if</span> (hasAux) slots[currentSlot++] = aux
                <span class="hljs-keyword">this</span>.currentSlot = currentSlot
            }
            nodeCount = <span class="hljs-number">0</span>
            <span class="hljs-keyword">val</span> newCurrent = current + <span class="hljs-number">1</span>
            <span class="hljs-keyword">this</span>.parent = current
            <span class="hljs-keyword">this</span>.currentGroup = newCurrent
            <span class="hljs-keyword">if</span> (previousParent &gt;= <span class="hljs-number">0</span>) {
                sourceInformationOf(previousParent)?.reportGroup(<span class="hljs-keyword">this</span>, current)
            }
            newCurrent
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// çœç•¥åé¢çš„ä»£ç ï¼Œé‡ç»„çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œåé¢çš„ä»£ç </span>
        }
}
</code></pre>
<h3 data-id="heading-14">insertGroups</h3>
<p>insertGroupså…¶å®å°±æ˜¯ä½¿ç”¨GapBufferï¼Œå¦‚æœä½ å¯¹GapBufferä¸ç†Ÿæ‚‰ï¼Œè¯·é˜…è¯»<a href="https://juejin.cn/post/7591338980693852206" target="_blank" title="https://juejin.cn/post/7591338980693852206">ComposeåŸç†äºŒä¹‹GapBuffer</a></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">insertGroups</span><span class="hljs-params">(size: <span class="hljs-type">Int</span>)</span></span> {
    <span class="hljs-keyword">if</span> (size &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">val</span> currentGroup = currentGroup
        <span class="hljs-comment">// å°†é—´éš™ç§»åŠ¨åˆ°ç›®æ ‡ä½ç½®</span>
        moveGroupGapTo(currentGroup)
        <span class="hljs-keyword">val</span> gapStart = groupGapStart
        <span class="hljs-keyword">var</span> gapLen = groupGapLen
        <span class="hljs-keyword">val</span> oldCapacity = groups.size / Group_Fields_Size
        <span class="hljs-keyword">val</span> oldSize = oldCapacity - gapLen
        <span class="hljs-keyword">if</span> (gapLen &lt; size) {
            <span class="hljs-comment">// é—´éš™ç”¨å®Œï¼Œæ‰©å®¹2å€</span>
            <span class="hljs-keyword">val</span> groups = groups

            <span class="hljs-comment">// Double the size of the array, but at least MinGrowthSize and &gt;= size</span>
            <span class="hljs-keyword">val</span> newCapacity = max(max(oldCapacity * <span class="hljs-number">2</span>, oldSize + size), MinGroupGrowthSize)
            <span class="hljs-keyword">val</span> newGroups = IntArray(newCapacity * Group_Fields_Size)
            <span class="hljs-keyword">val</span> newGapLen = newCapacity - oldSize
            <span class="hljs-keyword">val</span> oldGapEndAddress = gapStart + gapLen
            <span class="hljs-keyword">val</span> newGapEndAddress = gapStart + newGapLen

            <span class="hljs-comment">// å¤åˆ¶æ•°ç»„</span>
            groups.copyInto(
                destination = newGroups,
                destinationOffset = <span class="hljs-number">0</span>,
                startIndex = <span class="hljs-number">0</span>,
                endIndex = gapStart * Group_Fields_Size,
            )
            groups.copyInto(
                destination = newGroups,
                destinationOffset = newGapEndAddress * Group_Fields_Size,
                startIndex = oldGapEndAddress * Group_Fields_Size,
                endIndex = oldCapacity * Group_Fields_Size,
            )

            <span class="hljs-comment">// ä½¿ç”¨æ‰©å®¹åçš„groupsæ•°ç»„</span>
            <span class="hljs-keyword">this</span>.groups = newGroups
            <span class="hljs-comment">// æ›´æ–°é—´éš™é•¿åº¦</span>
            gapLen = newGapLen
        }

        <span class="hljs-comment">// Move the currentGroupEnd to account for inserted groups.</span>
        <span class="hljs-keyword">val</span> currentEnd = currentGroupEnd
        <span class="hljs-keyword">if</span> (currentEnd &gt;= gapStart) <span class="hljs-keyword">this</span>.currentGroupEnd = currentEnd + size

        <span class="hljs-comment">// æ›´æ–°é—´éš™çš„èµ·å§‹ä½ç½®å’Œé—´éš™çš„é•¿åº¦</span>
        <span class="hljs-keyword">this</span>.groupGapStart = gapStart + size
        <span class="hljs-keyword">this</span>.groupGapLen = gapLen - size

        <span class="hljs-comment">// çœç•¥åé¢çš„ä»£ç </span>
        
    }
}
</code></pre>
<h3 data-id="heading-15">groups.initGroup</h3>
<p>groupsæ•°ç»„ä¸­æ¯5ä¸ªIntä¸ºä¸€ç»„ï¼ŒinitGroupå°±æ˜¯ç”¨æ¥åˆå§‹åŒ–5ä¸ªintã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> IntArray.<span class="hljs-title">initGroup</span><span class="hljs-params">(
    address: <span class="hljs-type">Int</span>,
    key: <span class="hljs-type">Int</span>,
    isNode: <span class="hljs-type">Boolean</span>,
    hasDataKey: <span class="hljs-type">Boolean</span>,
    hasData: <span class="hljs-type">Boolean</span>,
    parentAnchor: <span class="hljs-type">Int</span>,
    dataAnchor: <span class="hljs-type">Int</span>,
)</span></span> {
    <span class="hljs-keyword">val</span> arrayIndex = address * Group_Fields_Size  <span class="hljs-comment">// 0 * 5 = 0</span>
    <span class="hljs-keyword">this</span>[arrayIndex + Key_Offset] = key           <span class="hljs-comment">// groups[0] = 100</span>
    <span class="hljs-keyword">this</span>[arrayIndex + GroupInfo_Offset] =         <span class="hljs-comment">// groups[1] = 0 (æ— æ ‡å¿—ä½)</span>
        (isNode.toBit() shl NodeBit_Shift) or
        (hasDataKey.toBit() shl ObjectKey_Shift) or
        (hasData.toBit() shl Aux_Shift)
    <span class="hljs-keyword">this</span>[arrayIndex + ParentAnchor_Offset] = parentAnchor  <span class="hljs-comment">// groups[2] = -1</span>
    <span class="hljs-keyword">this</span>[arrayIndex + Size_Offset] = <span class="hljs-number">0</span>            <span class="hljs-comment">// groups[3] = 0 (ç¨åæ›´æ–°)</span>
    <span class="hljs-keyword">this</span>[arrayIndex + DataAnchor_Offset] = dataAnchor  <span class="hljs-comment">// groups[4] = 0</span>
}
</code></pre>
<h3 data-id="heading-16">ä¿å­˜setContentæ–¹æ³•ä¼ å…¥çš„lambdaåˆ°slotsæ•°ç»„</h3>
<p><code>startRoot</code>æ‰§è¡Œå®Œæˆåï¼Œä¿å­˜setContentæ–¹æ³•ä¼ å…¥çš„lambdaåˆ°slotsæ•°ç»„</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> savedContent = nextSlot()
<span class="hljs-comment">// ä¿å­˜setContentæ–¹æ³•ä¼ å…¥lambdaåˆ°slotsæ•°ç»„</span>
<span class="hljs-keyword">if</span> (savedContent !== content &amp;&amp; content != <span class="hljs-literal">null</span>) {
    updateValue(content <span class="hljs-keyword">as</span> Any?)
}
</code></pre>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">internal</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">updateValue</span><span class="hljs-params">(value: <span class="hljs-type">Any</span>?)</span></span> {
    <span class="hljs-keyword">if</span> (inserting) {
        <span class="hljs-comment">// å†™å…¥åˆ°slotsæ•°ç»„</span>
        writer.update(value)
    } <span class="hljs-keyword">else</span> {
       <span class="hljs-comment">// çœç•¥åé¢çš„ä»£ç </span>
    }
</code></pre>
<h3 data-id="heading-17">invokeComposable(this, content)</h3>
<p>ç¼–è¯‘åçš„Countå‡½æ•°æœ‰æ¥ä¸¤ä¸ªå‚æ•°ï¼ŒrealFnå°±æ˜¯è°ƒç”¨Countå‡½æ•°ï¼Œä¼ å…¥composeå¯¹è±¡å’Œå‚æ•°1ï¼Œå‚æ•°1è¡¨ç¤ºæ²¡æœ‰å‘ç”Ÿæ”¹å˜ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">internal</span> <span class="hljs-keyword">actual</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">invokeComposable</span><span class="hljs-params">(composer: <span class="hljs-type">Composer</span>, composable: @<span class="hljs-type">Composable</span> () -&gt; <span class="hljs-type">Unit</span>)</span></span> {
    <span class="hljs-meta">@Suppress(<span class="hljs-string">"UNCHECKED_CAST"</span>)</span> <span class="hljs-keyword">val</span> realFn = composable <span class="hljs-keyword">as</span> Function2&lt;Composer, <span class="hljs-built_in">Int</span>, <span class="hljs-built_in">Unit</span>&gt;
    <span class="hljs-comment">// è°ƒç”¨countå‡½æ•°</span>
    realFn(composer, <span class="hljs-number">1</span>)
}
</code></pre>
<p>åˆ°æ­¤ï¼Œcountå‡½æ•°å¼€å§‹æ‰§è¡Œï¼Œåœ¨æ‰§è¡Œä¹‹å‰ï¼Œgroupsæ•°ç»„å·²ç»æœ‰è¿™äº›æ•°æ®äº†ã€‚</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">Group</span> <span class="hljs-number">0</span>: Root <span class="hljs-keyword">Group</span> (<span class="hljs-keyword">key</span> = <span class="hljs-number">100</span>)
â”œâ”€â”€ <span class="hljs-keyword">Group</span> <span class="hljs-number">1</span>: KeyHash <span class="hljs-keyword">Group</span> (<span class="hljs-keyword">key</span> = parentContext.compositeKeyHashCode)
â””â”€â”€ slots[<span class="hljs-number">0</span>]: content lambda (setContent ä¼ å…¥çš„ lambda)
    â””â”€â”€ <span class="hljs-keyword">Group</span> <span class="hljs-number">2</span>: Invocation <span class="hljs-keyword">Group</span> (<span class="hljs-keyword">key</span> = invocationKey)
</code></pre>
<p>ç¼–è¯‘åçš„Countå‡½æ•°æ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">Count</span><span class="hljs-params">(<span class="hljs-meta">@Nullable</span> Composer $composer, <span class="hljs-type">int</span> $changed)</span> {
    <span class="hljs-comment">// ============================================================</span>
    <span class="hljs-comment">// æ­¥éª¤1: å¯åŠ¨ RestartGroup</span>
    <span class="hljs-comment">// startRestartGroup ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ Group å¹¶è®°å½• RecomposeScope</span>
    <span class="hljs-comment">// key = -1491082337 æ˜¯ç¼–è¯‘å™¨ä¸º Count å‡½æ•°ç”Ÿæˆçš„å”¯ä¸€æ ‡è¯†</span>
    <span class="hljs-comment">// ============================================================</span>
    $composer = $composer.startRestartGroup(-<span class="hljs-number">1491082337</span>);
    
    <span class="hljs-comment">// è®°å½•æºä»£ç ä½ç½®ä¿¡æ¯ï¼ˆç”¨äºè°ƒè¯•å’Œå·¥å…·ï¼‰</span>
    ComposerKt.sourceInformation($composer, <span class="hljs-string">"C(Count)20@464L30,24@544L40,22@500L85:Demo.kt#bw2bq5"</span>);
    
    <span class="hljs-comment">// ============================================================</span>
    <span class="hljs-comment">// æ­¥éª¤2: è·³è¿‡æ£€æŸ¥</span>
    <span class="hljs-comment">// å¦‚æœ $changed == 0 ä¸”å¯ä»¥è·³è¿‡ï¼Œåˆ™è·³è¿‡æ•´ä¸ªç»„åˆ</span>
    <span class="hljs-comment">// ============================================================</span>
    <span class="hljs-keyword">if</span> ($changed == <span class="hljs-number">0</span> &amp;&amp; $composer.getSkipping()) {
        $composer.skipToGroupEnd();
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// å¼€å§‹è·Ÿè¸ªï¼ˆç”¨äºæ€§èƒ½åˆ†æï¼‰</span>
        <span class="hljs-keyword">if</span> (ComposerKt.isTraceInProgress()) {
            ComposerKt.traceEventStart(-<span class="hljs-number">1491082337</span>, $changed, -<span class="hljs-number">1</span>, <span class="hljs-string">"com.example.kmp.Count (Demo.kt:18)"</span>);
        }

        <span class="hljs-comment">// ============================================================</span>
        <span class="hljs-comment">// æ­¥éª¤3: remember å— - åˆ›å»ºå¹¶ç¼“å­˜ MutableState</span>
        <span class="hljs-comment">// ============================================================</span>
        <span class="hljs-type">boolean</span> <span class="hljs-variable">var3</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
        <span class="hljs-type">int</span> <span class="hljs-variable">$i$f$remember</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        
        <span class="hljs-comment">// sourceInformationMarkerStart ä¸åˆ›å»º Groupï¼Œåªæ˜¯æ ‡è®°æºä»£ç ä½ç½®</span>
        ComposerKt.sourceInformationMarkerStart($composer, -<span class="hljs-number">492369756</span>, <span class="hljs-string">"CC(remember)N(calculation):Composables.kt#9igjgp"</span>);
        
        <span class="hljs-type">boolean</span> <span class="hljs-variable">invalid$iv$iv</span> <span class="hljs-operator">=</span> (<span class="hljs-type">boolean</span>)<span class="hljs-number">0</span>;
        <span class="hljs-type">int</span> <span class="hljs-variable">$i$f$cache</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        
        <span class="hljs-comment">// ============================================================</span>
        <span class="hljs-comment">// æ­¥éª¤4: è¯»å–å·²ç¼“å­˜çš„å€¼</span>
        <span class="hljs-comment">// rememberedValue() ä»å½“å‰ slot è¯»å–ä¹‹å‰å­˜å‚¨çš„å€¼</span>
        <span class="hljs-comment">// å¦‚æœæ˜¯é¦–æ¬¡ç»„åˆï¼Œè¿”å› Composer.Empty</span>
        <span class="hljs-comment">// ============================================================</span>
        <span class="hljs-type">Object</span> <span class="hljs-variable">it$iv$iv</span> <span class="hljs-operator">=</span> $composer.rememberedValue();
        
        <span class="hljs-type">int</span> <span class="hljs-variable">var9</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        Object var10000;
        
        <span class="hljs-comment">// ============================================================</span>
        <span class="hljs-comment">// æ­¥éª¤5: åˆ¤æ–­æ˜¯å¦éœ€è¦åˆ›å»ºæ–°å€¼</span>
        <span class="hljs-comment">// å¦‚æœè¯»å–åˆ° Emptyï¼Œè¯´æ˜æ˜¯é¦–æ¬¡ç»„åˆï¼Œéœ€è¦åˆ›å»ºæ–°çš„ MutableState</span>
        <span class="hljs-comment">// ============================================================</span>
        <span class="hljs-keyword">if</span> (it$iv$iv == Composer.Companion.getEmpty()) {
            <span class="hljs-type">int</span> <span class="hljs-variable">var10</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
            <span class="hljs-comment">// åˆ›å»º MutableState&lt;Int&gt;ï¼Œåˆå§‹å€¼ä¸º 0</span>
            <span class="hljs-type">Object</span> <span class="hljs-variable">value$iv$iv</span> <span class="hljs-operator">=</span> SnapshotStateKt.mutableStateOf$<span class="hljs-keyword">default</span>(<span class="hljs-number">0</span>, (SnapshotMutationPolicy)<span class="hljs-literal">null</span>, <span class="hljs-number">2</span>, (Object)<span class="hljs-literal">null</span>);
            <span class="hljs-comment">// å°†æ–°åˆ›å»ºçš„å€¼å­˜å‚¨åˆ° slot</span>
            $composer.updateRememberedValue(value$iv$iv);
            var10000 = value$iv$iv;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// é‡ç»„æ—¶ç›´æ¥ä½¿ç”¨ç¼“å­˜çš„å€¼</span>
            var10000 = it$iv$iv;
        }

        <span class="hljs-type">Object</span> <span class="hljs-variable">var11</span> <span class="hljs-operator">=</span> var10000;
        ComposerKt.sourceInformationMarkerEnd($composer);
        
        <span class="hljs-comment">// content$delegate å°±æ˜¯ remember { mutableStateOf(0) } çš„ç»“æœ</span>
        <span class="hljs-keyword">final</span> <span class="hljs-type">MutableState</span> <span class="hljs-variable">content$delegate</span> <span class="hljs-operator">=</span> (MutableState)var11;
        
        <span class="hljs-comment">// ============================================================</span>
        <span class="hljs-comment">// æ­¥éª¤6: ä¸º onClick lambda åˆ›å»º ReplaceGroup</span>
        <span class="hljs-comment">// startReplaceGroup åˆ›å»ºä¸€ä¸ªå¯æ›¿æ¢çš„ Group</span>
        <span class="hljs-comment">// key = -548075111 æ˜¯ç¼–è¯‘å™¨ç”Ÿæˆçš„å”¯ä¸€æ ‡è¯†</span>
        <span class="hljs-comment">// ============================================================</span>
        $composer.startReplaceGroup(-<span class="hljs-number">548075111</span>);
        
        <span class="hljs-comment">// æ£€æŸ¥ content$delegate æ˜¯å¦å‘ç”Ÿå˜åŒ–</span>
        <span class="hljs-type">boolean</span> <span class="hljs-variable">$this$cache$iv$iv</span> <span class="hljs-operator">=</span> $composer.changed(content$delegate);
        
        invalid$iv$iv = (<span class="hljs-type">boolean</span>)<span class="hljs-number">0</span>;
        <span class="hljs-type">Object</span> <span class="hljs-variable">it$iv</span> <span class="hljs-operator">=</span> $composer.rememberedValue();
        <span class="hljs-type">int</span> <span class="hljs-variable">var16</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        
        <span class="hljs-comment">// ============================================================</span>
        <span class="hljs-comment">// æ­¥éª¤7: ç¼“å­˜ onClick lambda</span>
        <span class="hljs-comment">// å¦‚æœä¾èµ–æ²¡å˜ä¸”ä¹‹å‰æœ‰ç¼“å­˜ï¼Œä½¿ç”¨ç¼“å­˜çš„ lambda</span>
        <span class="hljs-comment">// å¦åˆ™åˆ›å»ºæ–°çš„ lambda å¹¶ç¼“å­˜</span>
        <span class="hljs-comment">// ============================================================</span>
        <span class="hljs-keyword">if</span> (!$<span class="hljs-built_in">this</span>$cache$iv$iv &amp;&amp; it$iv != Composer.Companion.getEmpty()) {
            var10000 = it$iv;
        } <span class="hljs-keyword">else</span> {
            var9 = <span class="hljs-number">0</span>;
            <span class="hljs-comment">// DemoKt::Count$lambda$4$lambda$3 æ˜¯ç¼–è¯‘å™¨ç”Ÿæˆçš„ lambda å¼•ç”¨</span>
            <span class="hljs-type">Object</span> <span class="hljs-variable">value$iv</span> <span class="hljs-operator">=</span> DemoKt::Count$lambda$<span class="hljs-number">4</span>$lambda$<span class="hljs-number">3</span>;
            $composer.updateRememberedValue(value$iv);
            var10000 = value$iv;
        }

        <span class="hljs-type">Function0</span> <span class="hljs-variable">var13</span> <span class="hljs-operator">=</span> (Function0)var10000;
        
        <span class="hljs-comment">// ç»“æŸ ReplaceGroup</span>
        $composer.endReplaceGroup();
        
        <span class="hljs-comment">// ============================================================</span>
        <span class="hljs-comment">// æ­¥éª¤8: è°ƒç”¨ Button Composable</span>
        <span class="hljs-comment">// Button å†…éƒ¨ä¼šåˆ›å»ºè‡ªå·±çš„ Groups</span>
        <span class="hljs-comment">// æœ€åä¸€ä¸ªå‚æ•°æ˜¯ content lambdaï¼Œä½¿ç”¨ rememberComposableLambda åŒ…è£…</span>
        <span class="hljs-comment">// ============================================================</span>
        ButtonKt.Button(
            var13,                    <span class="hljs-comment">// onClick</span>
            (Modifier)<span class="hljs-literal">null</span>,           <span class="hljs-comment">// modifier</span>
            <span class="hljs-literal">false</span>,                    <span class="hljs-comment">// enabled</span>
            (Shape)<span class="hljs-literal">null</span>,              <span class="hljs-comment">// shape</span>
            (ButtonColors)<span class="hljs-literal">null</span>,       <span class="hljs-comment">// colors</span>
            (ButtonElevation)<span class="hljs-literal">null</span>,    <span class="hljs-comment">// elevation</span>
            (BorderStroke)<span class="hljs-literal">null</span>,       <span class="hljs-comment">// border</span>
            (PaddingValues)<span class="hljs-literal">null</span>,      <span class="hljs-comment">// contentPadding</span>
            (MutableInteractionSource)<span class="hljs-literal">null</span>, <span class="hljs-comment">// interactionSource</span>
            <span class="hljs-comment">// content lambda - ä½¿ç”¨ rememberComposableLambda ç¼“å­˜</span>
            (Function3)ComposableLambdaKt.rememberComposableLambda(
                <span class="hljs-number">1836707247</span>,           <span class="hljs-comment">// key</span>
                <span class="hljs-literal">true</span>,                 <span class="hljs-comment">// tracked</span>
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">Function3</span>() {     <span class="hljs-comment">// lambda å®ç°</span>
                    <span class="hljs-meta">@Composable</span>
                    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">invoke</span><span class="hljs-params">(RowScope $<span class="hljs-built_in">this</span>$Button, Composer $composer, <span class="hljs-type">int</span> $changed)</span> {
                        <span class="hljs-comment">// ... Text(content.toString()) ...</span>
                    }
                    <span class="hljs-comment">// ...</span>
                },
                $composer,
                <span class="hljs-number">54</span>
            ),
            $composer,
            <span class="hljs-number">805306368</span>,               <span class="hljs-comment">// $changed</span>
            <span class="hljs-number">510</span>                      <span class="hljs-comment">// $default</span>
        );
        
        <span class="hljs-keyword">if</span> (ComposerKt.isTraceInProgress()) {
            ComposerKt.traceEventEnd();
        }
    }

    <span class="hljs-comment">// ============================================================</span>
    <span class="hljs-comment">// æ­¥éª¤9: ç»“æŸ RestartGroup å¹¶æ³¨å†Œé‡ç»„å›è°ƒ</span>
    <span class="hljs-comment">// endRestartGroup è¿”å› ScopeUpdateScopeï¼Œç”¨äºæ³¨å†Œé‡ç»„ lambda</span>
    <span class="hljs-comment">// ============================================================</span>
    <span class="hljs-type">ScopeUpdateScope</span> <span class="hljs-variable">var21</span> <span class="hljs-operator">=</span> $composer.endRestartGroup();
    <span class="hljs-keyword">if</span> (var21 != <span class="hljs-literal">null</span>) {
        <span class="hljs-comment">// æ³¨å†Œé‡ç»„å›è°ƒï¼šå½“éœ€è¦é‡ç»„æ—¶ï¼Œè°ƒç”¨ Count$lambda$5</span>
        var21.updateScope(DemoKt::Count$lambda$<span class="hljs-number">5</span>);
    }
}

<span class="hljs-comment">// é‡ç»„æ—¶è°ƒç”¨çš„ lambda</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Unit Count$lambda$<span class="hljs-number">5</span>(<span class="hljs-type">int</span> $$changed, Composer $composer, <span class="hljs-type">int</span> $force) {
    Count($composer, RecomposeScopeImplKt.updateChangedFlags($$changed | <span class="hljs-number">1</span>));
    <span class="hljs-keyword">return</span> Unit.INSTANCE;
}
</code></pre>
<p>ä¸‹é¢è§£æCountå‡½æ•°</p>
<h3 data-id="heading-18">startRestartGroup(-1491082337)</h3>
<p><code>startRestartGroup</code>ç”¨äºåˆ›å»ºå¯ä»¥é‡å¤æ‰§è¡Œçš„ç»„ï¼Œåªè¦è°ƒç”¨äº†<code>startRestartGroup</code>ï¼Œå‡½æ•°å°±å¯ä»¥è¢«é‡æ–°æ‰§è¡Œã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@ComposeCompilerApi</span>
<span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">startRestartGroup</span><span class="hljs-params">(key: <span class="hljs-type">Int</span>)</span></span>: Composer {
    <span class="hljs-comment">// åˆ›å»ºç»„</span>
    startReplaceGroup(key)
    <span class="hljs-comment">// ä¿å­˜é‡ç»„ä½œç”¨åŸŸå¯¹è±¡</span>
    addRecomposeScope()
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
}
</code></pre>
<p><code>startReplaceGroup</code>å°±æ˜¯åˆ›å»ºkeyä¸º-1491082337ï¼Œ<code>writer.startGroup</code>åœ¨ä¹‹å‰è®²è§£è¿‡ï¼Œè¿™é‡Œå°±ä¸é‡å¤äº†ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">startReplaceGroup</span><span class="hljs-params">(key: <span class="hljs-type">Int</span>)</span></span> {
    <span class="hljs-keyword">val</span> reader = reader
    <span class="hljs-keyword">if</span> (inserting) {
        reader.beginEmpty()
        <span class="hljs-comment">// åˆ›å»ºç»„ï¼Œkeyä¸ºç¼–è¯‘å™¨ç”Ÿæˆçš„-1491082337</span>
        writer.startGroup(key, Composer.Empty)
        enterGroup(<span class="hljs-literal">false</span>, <span class="hljs-literal">null</span>)
        <span class="hljs-keyword">return</span>
    }
}
</code></pre>
<h3 data-id="heading-19">addRecomposeScope</h3>
<p>åˆ›å»ºé‡ç»„ä½œç”¨åŸŸå¯¹è±¡ï¼Œæ”¾å…¥åˆ°å¤±æ•ˆæ ˆä¸­ï¼Œä¿å­˜åˆ°<code>slots</code>æ•°ç»„ã€‚æ¯ä¸ªå¯ä»¥é‡æ–°æ‰§è¡Œçš„å‡½æ•°ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªé‡ç»„ä½œç”¨åŸŸå¯¹è±¡ã€‚åˆ›å»ºé‡ç»„ä½œç”¨åŸŸé‡Œé¢æœ‰ä¸ª<code>block</code>å±æ€§ï¼Œ<code>block</code>å±æ€§å°±æ˜¯éœ€è¦é‡æ–°æ‰§è¡Œçš„<code>Count</code>å‡½æ•°ã€‚é‡ç»„çš„æ—¶å€™ä¼šå–å‡ºé‡ç»„ä½œç”¨åŸŸå¯¹è±¡ï¼Œè°ƒç”¨<code>block</code>ï¼Œé‡æ–°æ‰§è¡Œ<code>Count</code>å‡½æ•°ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">addRecomposeScope</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// ç»„åˆçš„æ—¶å€™ä¸ºtrueï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸€æ¬¡æ‰§è¡Œcountå‡½æ•°ä¸ºfalseã€‚é‡ç»„çš„æ—¶å€™ä¸ºfalseï¼Œé‡æ–°æ‰§è¡Œcountå‡½æ•°ä¸ºfalse</span>
    <span class="hljs-keyword">if</span> (inserting) {
        <span class="hljs-comment">// åˆ›å»ºé‡ç»„ä½œç”¨åŸŸå¯¹è±¡</span>
        <span class="hljs-keyword">val</span> scope = RecomposeScopeImpl(composition <span class="hljs-keyword">as</span> CompositionImpl)
        invalidateStack.push(scope)
        <span class="hljs-comment">// ä¿å­˜åˆ°slotsæ•°ç»„</span>
        updateValue(scope)
        enterRecomposeScope(scope)
    } <span class="hljs-keyword">else</span> {
       <span class="hljs-comment">// çœç•¥åé¢çš„ä»£ç ï¼Œé‡ç»„çš„æ—¶å€™ä¼šæ‰§è¡Œåé¢çš„ä»£ç </span>
    }
}    
</code></pre>
<p>æ­¤æ—¶æ•°ç»„çŠ¶æ€</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">Group</span> <span class="hljs-number">0</span>: Root <span class="hljs-keyword">Group</span> (<span class="hljs-keyword">key</span> = <span class="hljs-number">100</span>)
â”œâ”€â”€ <span class="hljs-keyword">Group</span> <span class="hljs-number">1</span>: KeyHash <span class="hljs-keyword">Group</span> (<span class="hljs-keyword">key</span> = parentContext.compositeKeyHashCode)
â””â”€â”€ slots[<span class="hljs-number">0</span>]: content lambda (setContent ä¼ å…¥çš„ lambda)
â””â”€â”€ <span class="hljs-keyword">Group</span> <span class="hljs-number">2</span>: Invocation <span class="hljs-keyword">Group</span> (<span class="hljs-keyword">key</span> = invocationKey)
â””â”€â”€ <span class="hljs-keyword">Group</span> <span class="hljs-number">3</span>: <span class="hljs-keyword">key</span> = -<span class="hljs-number">1491082337</span>
â””â”€â”€ slots[<span class="hljs-number">1</span>]: RecomposeScopeImpl // é‡ç»„ä½œç”¨åŸŸå¯¹è±¡
</code></pre>
<h3 data-id="heading-20">remember { mutableStateOf(0) }</h3>
<p>rememberä¸åˆ›å»ºæ–°çš„ç»„ï¼Œå®ƒé€šè¿‡Â <code>rememberedValue()</code>Â å’ŒÂ <code>updateRememberedValue()</code>Â æ“ä½œå½“å‰ç»„çš„slotæ•°ç»„ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// é¦–æ¬¡ç»„åˆæ—¶ rememberedValue() è¿”å›Empty</span>
Object it$iv$iv = $composer.rememberedValue();  <span class="hljs-comment">// è¿”å› Composer.Empty</span>

<span class="hljs-comment">// å› ä¸ºæ˜¯ Emptyï¼Œåˆ›å»ºæ–°çš„MutableState</span>
Object value$iv$iv = SnapshotStateKt.mutableStateOf$default(<span class="hljs-number">0</span>, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>, <span class="hljs-literal">null</span>);

<span class="hljs-comment">// å­˜å‚¨åˆ° slot</span>
$composer.updateRememberedValue(value$iv$iv);
</code></pre>
<p><strong>updateRememberedValue è°ƒç”¨ updateCachedValue:</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">updateRememberedValue</span><span class="hljs-params">(value: <span class="hljs-type">Any</span>?)</span></span> = updateCachedValue(value)

<span class="hljs-comment">// Composer.kt ç¬¬ 2213-2224 è¡Œ</span>
<span class="hljs-keyword">internal</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">updateCachedValue</span><span class="hljs-params">(value: <span class="hljs-type">Any</span>?)</span></span> {
    <span class="hljs-keyword">val</span> toStore = <span class="hljs-keyword">if</span> (value <span class="hljs-keyword">is</span> RememberObserver) {
        <span class="hljs-comment">// MutableState ä¸æ˜¯ RememberObserverï¼Œç›´æ¥ä½¿ç”¨</span>
        <span class="hljs-comment">// ...</span>
    } <span class="hljs-keyword">else</span> value
    updateValue(toStore)  <span class="hljs-comment">// å­˜å‚¨åˆ° slot</span>
}
</code></pre>
<p>æ­¤æ—¶æ•°ç»„çŠ¶æ€</p>
<pre><code class="hljs language-ini" lang="ini">Group 0: Root Group (<span class="hljs-attr">key</span> = <span class="hljs-number">100</span>)
â”œâ”€â”€ Group 1: KeyHash Group (<span class="hljs-attr">key</span> = parentContext.compositeKeyHashCode)
â””â”€â”€ slots<span class="hljs-section">[0]</span>: content lambda (setContent ä¼ å…¥çš„ lambda)
â””â”€â”€ Group 2: Invocation Group (<span class="hljs-attr">key</span> = invocationKey)
â””â”€â”€ Group 3: <span class="hljs-attr">key</span> = -<span class="hljs-number">1491082337</span>
â””â”€â”€ slots<span class="hljs-section">[1]</span>: RecomposeScopeImpl // é‡ç»„ä½œç”¨åŸŸå¯¹è±¡
â””â”€â”€ slots<span class="hljs-section">[2]</span>: MutableState&lt;Int&gt;(<span class="hljs-attr">value</span>=<span class="hljs-number">0</span>)  // remember çš„å€¼
</code></pre>
<h3 data-id="heading-21">startReplaceGroup(-548075111) - onClick lambdaç¼“å­˜</h3>
<p>ä¸ºonClick lambdaåˆ›å»ºgroupï¼Œkeyä¸º-548075111</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-variable">$composer</span>.startReplaceGroup(-548075111);
</code></pre>
<h3 data-id="heading-22">endReplaceGroup() - ç»“æŸ onClick ç¼“å­˜ç»„</h3>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// SlotWriter.endGroup() æ›´æ–° Group å¤§å°</span>
groups<span class="hljs-selector-class">.updateGroupSize</span>(groupAddress, newGroupSize)  <span class="hljs-comment">// Size = 1</span>
groups<span class="hljs-selector-class">.updateNodeCount</span>(groupAddress, newNodes)      <span class="hljs-comment">// nodeCount = 0</span>
</code></pre>
<p>æ­¤æ—¶æ•°ç»„çŠ¶æ€</p>
<pre><code class="hljs language-ini" lang="ini">Group 0: Root Group (<span class="hljs-attr">key</span> = <span class="hljs-number">100</span>)
â”œâ”€â”€ Group 1: KeyHash Group (<span class="hljs-attr">key</span> = parentContext.compositeKeyHashCode)
â””â”€â”€ slots<span class="hljs-section">[0]</span>: content lambda (setContent ä¼ å…¥çš„ lambda)
â””â”€â”€ Group 2: Invocation Group (<span class="hljs-attr">key</span> = invocationKey)
â””â”€â”€ Group 3: <span class="hljs-attr">key</span> = -<span class="hljs-number">1491082337</span>
â””â”€â”€ slots<span class="hljs-section">[1]</span>: RecomposeScopeImpl // é‡ç»„ä½œç”¨åŸŸå¯¹è±¡
â””â”€â”€ slots<span class="hljs-section">[2]</span>: MutableState&lt;Int&gt;(<span class="hljs-attr">value</span>=<span class="hljs-number">0</span>)  // remember çš„å€¼
â””â”€â”€ Group 4: <span class="hljs-attr">key</span> = -<span class="hljs-number">548075111</span>
â””â”€â”€ slots<span class="hljs-section">[3]</span>: content$delegate (MutableState å¼•ç”¨ï¼Œç”¨äº changed æ£€æµ‹)
â””â”€â”€ slots<span class="hljs-section">[4]</span>: Function0 (onClick lambda)
</code></pre>
<h3 data-id="heading-23">Buttonå’ŒTextç»„ä»¶</h3>
<p>æœ€ç»ˆä¼šè°ƒç”¨åˆ°ReusableComposeNodeï¼Œfactoryå…¶å®å°±æ˜¯ç”¨æ¥åˆ›å»ºLayoutNodeå¯¹è±¡ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">public</span> <span class="hljs-keyword">inline</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T : Any, <span class="hljs-keyword">reified</span> E : Applier&lt;*&gt;</span>&gt; <span class="hljs-title">ReusableComposeNode</span><span class="hljs-params">(
    <span class="hljs-keyword">noinline</span> factory: () -&gt; <span class="hljs-type">T</span>,
    update: @<span class="hljs-type">DisallowComposableCalls</span> <span class="hljs-type">Updater</span>&lt;<span class="hljs-type">T</span>&gt;.() -&gt; <span class="hljs-type">Unit</span>,
)</span></span> {
    <span class="hljs-keyword">if</span> (currentComposer.applier !<span class="hljs-keyword">is</span> E) invalidApplier()
    <span class="hljs-comment">// åˆ›å»ºå¯å¤ç”¨çš„èŠ‚ç‚¹</span>
    currentComposer.startReusableNode()
    <span class="hljs-keyword">if</span> (currentComposer.inserting) {
        <span class="hljs-comment">// ç»„åˆçš„æ—¶å€™ï¼Œåˆ›å»ºèŠ‚ç‚¹</span>
        currentComposer.createNode(factory)
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// é‡ç»„çš„æ—¶å€™ï¼Œç›´æ¥å¤ç”¨èŠ‚ç‚¹</span>
        currentComposer.useNode()
    }
    Updater&lt;T&gt;(currentComposer).update()
    <span class="hljs-comment">// ç»“æŸèŠ‚ç‚¹</span>
    currentComposer.endNode()
}
</code></pre>
<h3 data-id="heading-24">startReusableNode</h3>
<p>åˆ›å»ºå¯å¤ç”¨çš„èŠ‚ç‚¹ï¼Œkeyä¸º125ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">startReusableNode</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// åˆ›å»ºå¯å¤ç”¨çš„èŠ‚ç‚¹ï¼Œkeyä¸º125</span>
    start(nodeKey, <span class="hljs-literal">null</span>, GroupKind.ReusableNode, <span class="hljs-literal">null</span>)
    nodeExpected = <span class="hljs-literal">true</span>
}

<span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">start</span><span class="hljs-params">(key: <span class="hljs-type">Int</span>, objectKey: <span class="hljs-type">Any</span>?, kind: <span class="hljs-type">GroupKind</span>, <span class="hljs-keyword">data</span>: <span class="hljs-type">Any</span>?)</span></span> {
    <span class="hljs-comment">// æ˜¯èŠ‚ç‚¹</span>
    <span class="hljs-keyword">val</span> isNode = kind.isNode
    <span class="hljs-keyword">if</span> (inserting) {
        reader.beginEmpty()
        <span class="hljs-keyword">val</span> startIndex = writer.currentGroup
        <span class="hljs-keyword">when</span> {
            <span class="hljs-comment">// åˆ›å»ºèŠ‚ç‚¹</span>
            isNode -&gt; writer.startNode(key, Composer.Empty)
            <span class="hljs-keyword">data</span> != <span class="hljs-literal">null</span> -&gt; writer.startData(key, objectKey ?: Composer.Empty, <span class="hljs-keyword">data</span>)
            <span class="hljs-keyword">else</span> -&gt; writer.startGroup(key, objectKey ?: Composer.Empty)
        }
        pending?.let { pending -&gt;
            <span class="hljs-keyword">val</span> insertKeyInfo =
                KeyInfo(
                    key = key,
                    objectKey = -<span class="hljs-number">1</span>,
                    location = insertedGroupVirtualIndex(startIndex),
                    nodes = -<span class="hljs-number">1</span>,
                    index = <span class="hljs-number">0</span>,
                )
            pending.registerInsert(insertKeyInfo, nodeIndex - pending.startIndex)
            pending.recordUsed(insertKeyInfo)
        }
        enterGroup(isNode, <span class="hljs-literal">null</span>)
        <span class="hljs-keyword">return</span>
    }
    <span class="hljs-comment">// çœç•¥åé¢çš„ä»£ç </span>
}    
</code></pre>
<h3 data-id="heading-25">writer.startNode(key, Composer.Empty)</h3>
<p>è¿˜æ˜¯è°ƒç”¨startGroupï¼Œåªä¸è¿‡isNodeä¸ºtrue</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">startNode</span><span class="hljs-params">(key: <span class="hljs-type">Int</span>, objectKey: <span class="hljs-type">Any</span>?)</span></span> =
    startGroup(key, objectKey, isNode = <span class="hljs-literal">true</span>, aux = Composer.Empty)
</code></pre>
<p>æ­¤æ—¶æ•°ç»„çŠ¶æ€</p>
<pre><code class="hljs language-ini" lang="ini">Group 0: Root Group (<span class="hljs-attr">key</span> = <span class="hljs-number">100</span>)
â”œâ”€â”€ Group 1: KeyHash Group (<span class="hljs-attr">key</span> = parentContext.compositeKeyHashCode)
â””â”€â”€ slots<span class="hljs-section">[0]</span>: content lambda (setContent ä¼ å…¥çš„ lambda)
â””â”€â”€ Group 2: Invocation Group (<span class="hljs-attr">key</span> = invocationKey)
â””â”€â”€ Group 3: <span class="hljs-attr">key</span> = -<span class="hljs-number">1491082337</span>
â””â”€â”€ slots<span class="hljs-section">[1]</span>: RecomposeScopeImpl // é‡ç»„ä½œç”¨åŸŸå¯¹è±¡
â””â”€â”€ slots<span class="hljs-section">[2]</span>: MutableState&lt;Int&gt;(<span class="hljs-attr">value</span>=<span class="hljs-number">0</span>)  // remember çš„å€¼
â””â”€â”€ Group 4: <span class="hljs-attr">key</span> = -<span class="hljs-number">548075111</span>
â””â”€â”€ slots<span class="hljs-section">[3]</span>: content$delegate (MutableState å¼•ç”¨ï¼Œç”¨äº changed æ£€æµ‹)
â””â”€â”€ slots<span class="hljs-section">[4]</span>: Function0 (onClick lambda)
â””â”€â”€ Group 5: <span class="hljs-attr">key</span> = <span class="hljs-number">125</span>ï¼Œgroupinfoé‡Œé¢è®°å½•çš„isNodeä¸º<span class="hljs-literal">true</span>
</code></pre>
<h3 data-id="heading-26">createNode</h3>
<p>åœ¨é¦–æ¬¡ç»„åˆæ—¶è°ƒç”¨ï¼Œä¸ä¼šç«‹å³åˆ›å»ºèŠ‚ç‚¹ï¼Œè€Œæ˜¯å°†åˆ›å»ºæ“ä½œè®°å½•åˆ°FixupListã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Suppress(<span class="hljs-string">"UNUSED"</span>)</span>
<span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> <span class="hljs-title">createNode</span><span class="hljs-params">(factory: () -&gt; <span class="hljs-type">T</span>)</span></span> {
    validateNodeExpected()
    runtimeCheck(inserting) { <span class="hljs-string">"createNode() can only be called when inserting"</span> }
    <span class="hljs-comment">// æ’å…¥çš„ä½ç½®</span>
    <span class="hljs-keyword">val</span> insertIndex = parentStateStack.peek()
    <span class="hljs-comment">// æŒ‡å‘slotsæ•°ç»„ä¸­çš„ä½ç½®</span>
    <span class="hljs-keyword">val</span> groupAnchor = writer.anchor(writer.parent)
    groupNodeCount++
    <span class="hljs-comment">// è®°å½•åˆ° FixupListï¼Œå»¶è¿Ÿæ‰§è¡Œ</span>
    insertFixups.createAndInsertNode(factory, insertIndex, groupAnchor)
}
</code></pre>
<p><code>FixupList.createAndInsertNode</code>æ–¹æ³•å°±æ˜¯å°†èŠ‚ç‚¹æ”¾åˆ°<code>operations</code>é‡Œé¢ï¼Œ<code>InsertNodeFixup</code>ä¼šè°ƒç”¨<code>Applier</code>çš„<code>insertTopDown</code>æ–¹æ³•ï¼Œ<code>PostInsertNodeFixup</code>ä¼šè°ƒç”¨<code>Applier</code>çš„<code>insertBottomUp</code>æ–¹æ³•ã€‚å…³äº<code>Applier</code>ï¼Œåé¢ä¼šè®²ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">createAndInsertNode</span><span class="hljs-params">(factory: () -&gt; <span class="hljs-type">Any</span>?, insertIndex: <span class="hljs-type">Int</span>, groupAnchor: <span class="hljs-type">Anchor</span>)</span></span> {
    <span class="hljs-comment">// 1. InsertNodeFixup: åˆ›å»ºèŠ‚ç‚¹å¹¶è°ƒç”¨Applierçš„insertTopDownæ–¹æ³•</span>
    operations.push(InsertNodeFixup) {
        setObject(InsertNodeFixup.Factory, factory)
        setInt(InsertNodeFixup.InsertIndex, insertIndex)
        setObject(InsertNodeFixup.GroupAnchor, groupAnchor)
    }
    <span class="hljs-comment">// 2. PostInsertNodeFixup: å­èŠ‚ç‚¹å¤„ç†å®Œåè°ƒç”¨Applierçš„insertBottomUpæ–¹æ³•</span>
    pendingOperations.push(PostInsertNodeFixup) {
        setInt(PostInsertNodeFixup.InsertIndex, insertIndex)
        setObject(PostInsertNodeFixup.GroupAnchor, groupAnchor)
    }
}
</code></pre>
<p>Operationså†…éƒ¨æœ‰ä¸ªé›†åˆï¼Œè°ƒç”¨Operations.pushå°±æ˜¯å°†èŠ‚ç‚¹ä¿å­˜åˆ°é›†åˆã€‚ä»€ä¹ˆæ—¶å€™å–å‡ºèŠ‚ç‚¹å‘¢ï¼Ÿåé¢å†è®²ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">inline</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">push</span><span class="hljs-params">(operation: <span class="hljs-type">Operation</span>, args: <span class="hljs-type">WriteScope</span>.() -&gt; <span class="hljs-type">Unit</span>)</span></span> {
    contract { callsInPlace(args, EXACTLY_ONCE) }

    <span class="hljs-meta">@OptIn(InternalComposeApi::class)</span> 
    <span class="hljs-comment">// ä¿å­˜åˆ°é›†åˆ</span>
    pushOp(operation)
    WriteScope(<span class="hljs-keyword">this</span>).args()

    ensureAllArgumentsPushedFor(operation)
}
</code></pre>
<p>åœ¨ç»„åˆè¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰å¯¹SlotTableå’ŒèŠ‚ç‚¹æ ‘çš„ä¿®æ”¹éƒ½è¢«è®°å½•åˆ°<code>ChangeList</code>ä¸­ï¼š</p>
<h3 data-id="heading-27">ä¸»è¦ Operation ç±»å‹</h3>




























































<table><thead><tr><th>Operation</th><th>ä½œç”¨</th><th>ç›®æ ‡</th></tr></thead><tbody><tr><td><code>InsertNodeFixup</code></td><td>åˆ›å»ºèŠ‚ç‚¹å¹¶ insertTopDown</td><td>Applier</td></tr><tr><td><code>PostInsertNodeFixup</code></td><td>æ‰§è¡Œ insertBottomUp</td><td>Applier</td></tr><tr><td><code>UpdateNode</code></td><td>æ›´æ–°èŠ‚ç‚¹å±æ€§</td><td>Applier</td></tr><tr><td><code>RemoveNode</code></td><td>ä»æ ‘ä¸­ç§»é™¤èŠ‚ç‚¹</td><td>Applier</td></tr><tr><td><code>MoveNode</code></td><td>ç§»åŠ¨èŠ‚ç‚¹ä½ç½®</td><td>Applier</td></tr><tr><td><code>Ups</code> / <code>Downs</code></td><td>å¯¼èˆª Applier çš„å½“å‰ä½ç½®</td><td>Applier</td></tr><tr><td><code>InsertSlots</code></td><td>å°† Slots æ’å…¥ SlotTable</td><td>SlotWriter</td></tr><tr><td><code>RemoveCurrentGroup</code></td><td>åˆ é™¤å½“å‰ Group</td><td>SlotWriter</td></tr><tr><td><code>MoveCurrentGroup</code></td><td>ç§»åŠ¨ Group</td><td>SlotWriter</td></tr><tr><td><code>UpdateValue</code></td><td>æ›´æ–° Slot å€¼</td><td>SlotWriter</td></tr></tbody></table>
<h3 data-id="heading-28">Operation çš„æ‰§è¡Œç›®æ ‡</h3>
<p>æ¯ä¸ª Operation çš„ <code>execute</code> æ–¹æ³•æ¥æ”¶ä¸‰ä¸ªå…³é”®å‚æ•°ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">abstract</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> OperationArgContainer.<span class="hljs-title">execute</span><span class="hljs-params">(
    applier: <span class="hljs-type">Applier</span>&lt;*&gt;,      <span class="hljs-comment">// ç”¨äºæ“ä½œèŠ‚ç‚¹æ ‘</span>
    slots: <span class="hljs-type">SlotWriter</span>,         <span class="hljs-comment">// ç”¨äºæ“ä½œ SlotTable</span>
    rememberManager: <span class="hljs-type">RememberManager</span>,  <span class="hljs-comment">// ç”¨äºç”Ÿå‘½å‘¨æœŸç®¡ç†</span>
    errorContext: <span class="hljs-type">OperationErrorContext</span>?,
)</span></span>
</code></pre>
<p>ç»„åˆé˜¶æ®µ<strong>ä¸ç›´æ¥ä¿®æ”¹</strong>Â LayoutNodeæ ‘ï¼Œè€Œæ˜¯å°†æ‰€æœ‰æ“ä½œè®°å½•åˆ°ChangeListã€‚è¿™æ ·åšçš„å¥½å¤„ï¼š</p>
<ul>
<li>å¯ä»¥æ‰¹é‡åº”ç”¨å˜æ›´ï¼Œå‡å°‘ UI æŠ–åŠ¨ã€‚</li>
<li>æ”¯æŒå–æ¶ˆå’Œæ¢å¤ã€‚</li>
</ul>
<h3 data-id="heading-29">endNode</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">endNode</span><span class="hljs-params">()</span></span> = end(isNode = <span class="hljs-literal">true</span>)

<span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">end</span><span class="hljs-params">(isNode: <span class="hljs-type">Boolean</span>)</span></span> {
    <span class="hljs-comment">// çœç•¥éƒ¨åˆ†ä»£ç ï¼Œç›´æ¥çœ‹å…³é”®çš„recordInsert</span>
    recordInsert(insertAnchor)
}

<span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">recordInsert</span><span class="hljs-params">(anchor: <span class="hljs-type">Anchor</span>)</span></span> {
    <span class="hljs-keyword">if</span> (insertFixups.isEmpty()) {
        changeListWriter.insertSlots(anchor, insertTable)
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// ä¹‹å‰è°ƒç”¨createNodeçš„æ—¶å€™ï¼ŒèŠ‚ç‚¹è¢«æ”¾åˆ°insertFixupsï¼Œæ‰€ä»¥insertFixupsä¸ä¸ºç©º</span>
        changeListWriter.insertSlots(anchor, insertTable, insertFixups)
        insertFixups = FixupList()
    }
}
</code></pre>
<p>ChanheList.pushInsertSlotsæ–¹æ³•ï¼Œfixupså‚æ•°ä¿å­˜äº†ä¹‹å‰åˆ›å»ºçš„èŠ‚ç‚¹ã€‚åˆ›å»ºçš„Buttonã€Textç­‰èŠ‚ç‚¹éƒ½è¢«ä¿å­˜åˆ°äº†Operationsé‡Œé¢ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">pushInsertSlots</span><span class="hljs-params">(anchor: <span class="hljs-type">Anchor</span>, from: <span class="hljs-type">SlotTable</span>, fixups: <span class="hljs-type">FixupList</span>)</span></span> {
    operations.push(InsertSlotsWithFixups) {
        setObjects(
            InsertSlotsWithFixups.Anchor,
            anchor,
            InsertSlotsWithFixups.FromSlotTable,
            from,
            InsertSlotsWithFixups.Fixups,
            fixups,
        )
    }
}
</code></pre>
<h3 data-id="heading-30">endRestartGroup</h3>
<p>èŠ‚ç‚¹éƒ½åˆ›å»ºå®Œæˆåï¼Œæ‰§è¡ŒendRestartGroupã€‚åœ¨æ‰§è¡ŒstartRestartGroupçš„æ—¶å€™ï¼Œåˆ›å»ºäº†é‡ç»„ä½œç”¨åŸŸå¯¹è±¡ï¼Œå°†å¯¹è±¡æ”¾åˆ°äº†å¤±æ•ˆæ ˆä¸­ã€‚æ‰§è¡ŒendRestartGroupï¼Œä»å¤±æ•ˆæ ˆä¸­å–å‡ºé‡ç»„ä½œç”¨åŸŸå¯¹è±¡ï¼Œè¿”å›å‡ºå»ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">endRestartGroup</span><span class="hljs-params">()</span></span>: ScopeUpdateScope? {
    <span class="hljs-comment">// ä»å¤±æ•ˆæ ˆä¸­å–å‡ºé‡ç»„ä½œç”¨åŸŸå¯¹è±¡</span>
    <span class="hljs-keyword">val</span> scope = <span class="hljs-keyword">if</span> (invalidateStack.isNotEmpty()) invalidateStack.pop() <span class="hljs-keyword">else</span> <span class="hljs-literal">null</span>
    <span class="hljs-keyword">if</span> (scope != <span class="hljs-literal">null</span>) {
        scope.requiresRecompose = <span class="hljs-literal">false</span>
        exitRecomposeScope(scope)?.let { changeListWriter.endCompositionScope(it, composition) }
        <span class="hljs-keyword">if</span> (scope.resuming) {
            scope.resuming = <span class="hljs-literal">false</span>
            changeListWriter.endResumingScope(scope)
            scope.reusing = <span class="hljs-literal">false</span>
            <span class="hljs-keyword">if</span> (scope.resetReusing) {
                scope.resetReusing = <span class="hljs-literal">false</span>
                reusing = <span class="hljs-literal">false</span>
            }
        }
    }
    <span class="hljs-keyword">val</span> result =
        <span class="hljs-keyword">if</span> (scope != <span class="hljs-literal">null</span> &amp;&amp; !scope.skipped &amp;&amp; (scope.used || forceRecomposeScopes)) {
            <span class="hljs-keyword">if</span> (scope.anchor == <span class="hljs-literal">null</span>) {
                scope.anchor =
                    <span class="hljs-keyword">if</span> (inserting) {
                        writer.anchor(writer.parent)
                    } <span class="hljs-keyword">else</span> {
                        reader.anchor(reader.parent)
                    }
            }
            scope.defaultsInvalid = <span class="hljs-literal">false</span>
            scope
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-literal">null</span>
        }
    end(isNode = <span class="hljs-literal">false</span>)
    <span class="hljs-comment">// è¿”å›é‡ç»„ä½œç”¨åŸŸå¯¹è±¡</span>
    <span class="hljs-keyword">return</span> result
}
</code></pre>
<p>æ‹¿åˆ°é‡ç»„ä½œç”¨åŸŸå¯¹è±¡åï¼Œè°ƒç”¨updateScopeä¿å­˜éœ€è¦é‡æ–°æ‰§è¡Œçš„å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯Countå‡½æ•°ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">ScopeUpdateScope var21 = $composer.endRestartGroup(); 
<span class="hljs-keyword">if</span> (var21 != <span class="hljs-literal">null</span>) { <span class="hljs-comment">// æ³¨å†Œé‡ç»„å›è°ƒï¼šå½“éœ€è¦é‡ç»„æ—¶ï¼Œè°ƒç”¨ Count$lambda$5          </span>
	var21.updateScope(DemoKt::Count$lambda$<span class="hljs-number">5</span>); 
}

<span class="hljs-comment">// é‡ç»„æ—¶è°ƒç”¨çš„lambda</span>
<span class="hljs-keyword">private</span> static <span class="hljs-keyword">final</span> <span class="hljs-built_in">Unit</span> Count$lambda$<span class="hljs-number">5</span>(int $$changed, Composer $composer, int $force) {
    Count($composer, RecomposeScopeImplKt.updateChangedFlags($$changed | <span class="hljs-number">1</span>));
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Unit</span>.INSTANCE;
}
</code></pre>
<p>updateScopeæ–¹æ³•ä»…ä»…æ˜¯ä¸ºblockå¯¹è±¡èµ‹å€¼ï¼Œ</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">updateScope</span><span class="hljs-params">(block: (<span class="hljs-type">Composer</span>, <span class="hljs-type">Int</span>) -&gt; <span class="hljs-type">Unit</span>)</span></span> {
    <span class="hljs-keyword">this</span>.block = block
}
</code></pre>
<p>é‡ç»„çš„æ—¶å€™ä¼šè°ƒç”¨composeæ–¹æ³•ï¼Œè¿›è€Œè°ƒç”¨blockï¼ŒCountå‡½æ•°å°±ä¼šé‡æ–°æ‰§è¡Œã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">compose</span><span class="hljs-params">(composer: <span class="hljs-type">Composer</span>)</span></span> {
    block?.invoke(composer, <span class="hljs-number">1</span>) ?: error(<span class="hljs-string">"Invalid restart scope"</span>)
}
</code></pre>
<h3 data-id="heading-31">åº”ç”¨å˜æ›´</h3>
<p><code>Button</code>ã€<code>Text</code>ç­‰èŠ‚ç‚¹éƒ½ä¿å­˜åˆ°äº†<code>Operations</code>çš„é›†åˆé‡Œé¢ï¼Œä»€ä¹ˆæ—¶å€™å–å‡ºæ¥å‘¢ï¼Ÿè®©æˆ‘ä»¬å›åˆ°<code>Recomposer.composeInitial</code>æ–¹æ³•ã€‚å½“<code>Count</code>å‡½æ•°æ‰§è¡Œå®Œæˆåï¼Œä¼šè°ƒç”¨<code>composition.applyChanges</code>åº”ç”¨å˜æ›´ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">internal</span> <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">composeInitial</span><span class="hljs-params">(
    composition: <span class="hljs-type">ControlledComposition</span>,
    content: @<span class="hljs-type">Composable</span> () -&gt; <span class="hljs-type">Unit</span>,
)</span></span> {
    <span class="hljs-keyword">try</span> {
        composing(composition, <span class="hljs-literal">null</span>) { composition.composeContent(content) }
    } <span class="hljs-keyword">catch</span> (e: Throwable) {
        <span class="hljs-keyword">if</span> (newComposition) {
            synchronized(stateLock) { unregisterCompositionLocked(composition) }
        }

        processCompositionError(e, composition, recoverable = <span class="hljs-literal">true</span>)
        <span class="hljs-keyword">return</span>
    }

    <span class="hljs-comment">// çœç•¥éƒ¨åˆ†ä»£ç ...</span>

    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// åº”ç”¨å˜æ›´</span>
        composition.applyChanges()
        composition.applyLateChanges()
    } <span class="hljs-keyword">catch</span> (e: Throwable) {
        processCompositionError(e)
        <span class="hljs-keyword">return</span>
    }

    <span class="hljs-keyword">if</span> (!composerWasComposing) {
        <span class="hljs-comment">// Ensure that any state objects created during applyChanges are seen as changed</span>
        <span class="hljs-comment">// if modified after this call.</span>
        Snapshot.notifyObjectsInitialized()
    }
}
</code></pre>
<p><code>composition.applyChanges</code>ä¼šè°ƒç”¨åˆ°<code>InsertNodeFixups</code>çš„<code>execute</code>ã€‚åœ¨<code>execute</code>æ–¹æ³•ä¸­åˆ›å»ºLayoutNodeå¯¹è±¡ï¼Œå°†LayoutNodeå¯¹è±¡ä¿å­˜åˆ°slotsæ•°ç»„ä¸­ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> OperationArgContainer.<span class="hljs-title">execute</span><span class="hljs-params">(
    applier: <span class="hljs-type">Applier</span>&lt;*&gt;,
    slots: <span class="hljs-type">SlotWriter</span>,
    rememberManager: <span class="hljs-type">RememberManager</span>,
    errorContext: <span class="hljs-type">OperationErrorContext</span>?,
)</span></span> {
    <span class="hljs-comment">// å–å‡ºLayoutNodeçš„æ„é€ æ–¹æ³•ï¼Œå¹¶ä¸”æ‰§è¡Œï¼Œåˆ›å»ºLayoutNodeå¯¹è±¡</span>
    <span class="hljs-keyword">val</span> node = getObject(Factory).invoke()
    <span class="hljs-keyword">val</span> groupAnchor = getObject(GroupAnchor)
    <span class="hljs-keyword">val</span> insertIndex = getInt(InsertIndex)

    <span class="hljs-keyword">val</span> nodeApplier = <span class="hljs-meta">@Suppress(<span class="hljs-string">"UNCHECKED_CAST"</span>)</span> (applier <span class="hljs-keyword">as</span> Applier&lt;Any?&gt;)
    <span class="hljs-comment">// ä¿å­˜åˆ°slotsæ•°ç»„ä¸­</span>
    slots.updateNode(groupAnchor, node)
    nodeApplier.insertTopDown(insertIndex, node)
    nodeApplier.down(node)
}
</code></pre>
<p>åˆ°æ­¤ï¼Œ<code>Button</code>ã€<code>Text</code>ç»„ä»¶ä¹Ÿè¢«æ”¾åˆ°slotsæ•°ç»„é‡Œé¢äº†ï¼Œæ‰€æœ‰çš„ç»„ä»¶æœ€ç»ˆéƒ½æ˜¯LayoutNodeå¯¹è±¡ã€‚æ­¤æ—¶ï¼Œæ•°ç»„å°±å˜æˆäº†è¿™æ ·ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">Group 0: Root Group (<span class="hljs-attr">key</span> = <span class="hljs-number">100</span>)
â”œâ”€â”€ Group 1: KeyHash Group (<span class="hljs-attr">key</span> = parentContext.compositeKeyHashCode)
â””â”€â”€ slots<span class="hljs-section">[0]</span>: content lambda (setContent ä¼ å…¥çš„ lambda)
â””â”€â”€ Group 2: Invocation Group (<span class="hljs-attr">key</span> = invocationKey)
â””â”€â”€ Group 3: <span class="hljs-attr">key</span> = -<span class="hljs-number">1491082337</span>
â””â”€â”€ slots<span class="hljs-section">[1]</span>: RecomposeScopeImpl // é‡ç»„ä½œç”¨åŸŸå¯¹è±¡
â””â”€â”€ slots<span class="hljs-section">[2]</span>: MutableState&lt;Int&gt;(<span class="hljs-attr">value</span>=<span class="hljs-number">0</span>)  // remember çš„å€¼
â””â”€â”€ Group 4: <span class="hljs-attr">key</span> = -<span class="hljs-number">548075111</span>
â””â”€â”€ slots<span class="hljs-section">[3]</span>: content$delegate (MutableState å¼•ç”¨ï¼Œç”¨äº changed æ£€æµ‹)
â””â”€â”€ slots<span class="hljs-section">[4]</span>: Function0 (onClick lambda)
â””â”€â”€ Group 5: <span class="hljs-attr">key</span> = <span class="hljs-number">125</span>ï¼Œgroupinfoé‡Œé¢è®°å½•çš„isNodeä¸º<span class="hljs-literal">true</span>
â””â”€â”€ slots<span class="hljs-section">[5]</span>: Buttonç»„ä»¶
â””â”€â”€ slots<span class="hljs-section">[6]</span>: Textç»„ä»¶
</code></pre>
<h3 data-id="heading-32">SlotTableæ˜ å°„åˆ°LayoutNode</h3>
<p>LayoutNodeæ ‘æ˜¯å®é™…çš„èŠ‚ç‚¹æ ‘ï¼Œç”¨äºæµ‹é‡ã€å¸ƒå±€å’Œç»˜åˆ¶ã€‚SlotTableç»“æ„çš„å˜åŒ–æœ€ç»ˆè¦æ˜ å°„åˆ°LayoutNodeï¼Œé€šè¿‡Applieræ¥å£æ¥è°ƒç”¨åˆ°LayoutNodeã€‚Applieræä¾›äº†ä»ä¸Šåˆ°ä¸‹ã€ä»ä¸‹åˆ°ä¸Šä¸¤ç§æ’å…¥æ–¹å¼ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Applier</span>&lt;<span class="hljs-type">N</span>&gt; {
    <span class="hljs-keyword">val</span> current: N  <span class="hljs-comment">// å½“å‰æ“ä½œçš„èŠ‚ç‚¹</span>
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">down</span><span class="hljs-params">(node: <span class="hljs-type">N</span>)</span></span>  <span class="hljs-comment">// è¿›å…¥å­èŠ‚ç‚¹</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">up</span><span class="hljs-params">()</span></span>           <span class="hljs-comment">// è¿”å›çˆ¶èŠ‚ç‚¹</span>
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">insertTopDown</span><span class="hljs-params">(index: <span class="hljs-type">Int</span>, instance: <span class="hljs-type">N</span>)</span></span>   <span class="hljs-comment">// è‡ªé¡¶å‘ä¸‹æ’å…¥</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">insertBottomUp</span><span class="hljs-params">(index: <span class="hljs-type">Int</span>, instance: <span class="hljs-type">N</span>)</span></span>  <span class="hljs-comment">// è‡ªåº•å‘ä¸Šæ’å…¥</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">remove</span><span class="hljs-params">(index: <span class="hljs-type">Int</span>, count: <span class="hljs-type">Int</span>)</span></span>           <span class="hljs-comment">// ç§»é™¤èŠ‚ç‚¹</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">move</span><span class="hljs-params">(from: <span class="hljs-type">Int</span>, to: <span class="hljs-type">Int</span>, count: <span class="hljs-type">Int</span>)</span></span>     <span class="hljs-comment">// ç§»åŠ¨èŠ‚ç‚¹</span>
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">apply</span><span class="hljs-params">(block: <span class="hljs-type">N</span>.(<span class="hljs-type">Any</span>?) -&gt; <span class="hljs-type">Unit</span>, value: <span class="hljs-type">Any</span>?)</span></span>  <span class="hljs-comment">// åº”ç”¨å±æ€§æ›´æ–°</span>
}

<span class="hljs-keyword">internal</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UiApplier</span>(root: LayoutNode) : AbstractApplier&lt;LayoutNode&gt;(root) {

    <span class="hljs-comment">/**
     * ä»ä¸Šåˆ°ä¸‹æ’å…¥ï¼Œæ–¹æ³•ç©ºå®ç°ï¼Œä¸ä½¿ç”¨ä»ä¸Šåˆ°ä¸‹æ’å…¥çš„æ–¹å¼
     */</span>
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">insertTopDown</span><span class="hljs-params">(index: <span class="hljs-type">Int</span>, instance: <span class="hljs-type">LayoutNode</span>)</span></span> {
        <span class="hljs-comment">// Ignored. </span>
    }

    <span class="hljs-comment">/**
     * ä»ä¸‹åˆ°ä¸Šæ’å…¥ã€‚
     */</span>
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">insertBottomUp</span><span class="hljs-params">(index: <span class="hljs-type">Int</span>, instance: <span class="hljs-type">LayoutNode</span>)</span></span> {
        <span class="hljs-comment">// currentå°±æ˜¯LayoutNodeå¯¹è±¡</span>
        current.insertAt(index, instance)
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">remove</span><span class="hljs-params">(index: <span class="hljs-type">Int</span>, count: <span class="hljs-type">Int</span>)</span></span> {
        current.removeAt(index, count)
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">move</span><span class="hljs-params">(from: <span class="hljs-type">Int</span>, to: <span class="hljs-type">Int</span>, count: <span class="hljs-type">Int</span>)</span></span> {
        current.move(from, to, count)
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onClear</span><span class="hljs-params">()</span></span> {
        root.removeAll()
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onEndChanges</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.onEndChanges()
        root.owner?.onEndApplyChanges()
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">reuse</span><span class="hljs-params">()</span></span> {
        current.onReuse()
    }
}
</code></pre>
<h3 data-id="heading-33">ä¸ºä»€ä¹ˆä½¿ç”¨ä»ä¸‹åˆ°ä¸Šæ’å…¥ï¼Ÿ</h3>
<pre><code class="hljs language-less" lang="less">ä»ä¸Šåˆ°ä¸‹æ’å…¥:                          ä»ä¸‹åˆ°ä¸Šæ’å…¥:
    <span class="hljs-number">1</span>           <span class="hljs-number">2</span>           <span class="hljs-number">3</span>           <span class="hljs-number">1</span>           <span class="hljs-number">2</span>            <span class="hljs-number">3</span>
    <span class="hljs-selector-tag">R</span>           <span class="hljs-selector-tag">R</span>           <span class="hljs-selector-tag">R</span>           <span class="hljs-selector-tag">B</span>           <span class="hljs-selector-tag">B</span>            <span class="hljs-selector-tag">R</span>
    |           |           |           |          / \           |
    <span class="hljs-selector-tag">B</span>           <span class="hljs-selector-tag">B</span>           <span class="hljs-selector-tag">B</span>           <span class="hljs-selector-tag">A</span>         <span class="hljs-selector-tag">A</span>   <span class="hljs-selector-tag">C</span>          <span class="hljs-selector-tag">B</span>
               /           / \                                  / \
              <span class="hljs-selector-tag">A</span>           <span class="hljs-selector-tag">A</span>   <span class="hljs-selector-tag">C</span>                                <span class="hljs-selector-tag">A</span>   <span class="hljs-selector-tag">C</span>
</code></pre>
<p>å¯¹äº LayoutNode æ ‘ï¼Œå½“å­èŠ‚ç‚¹æ’å…¥æ—¶ä¼šé€šçŸ¥æ‰€æœ‰ç¥–å…ˆèŠ‚ç‚¹ï¼Œå¦‚æœä½¿ç”¨ä»ä¸Šåˆ°ä¸‹æ’å…¥ï¼š</p>
<ul>
<li>R è¢«é€šçŸ¥ B è¿›å…¥</li>
<li>B è¢«é€šçŸ¥ A è¿›å…¥ï¼ŒR è¢«é€šçŸ¥ A è¿›å…¥</li>
<li>B è¢«é€šçŸ¥ C è¿›å…¥ï¼ŒR è¢«é€šçŸ¥ C è¿›å…¥</li>
<li>å…± 5 æ¬¡é€šçŸ¥ï¼Œå‘ˆæŒ‡æ•°å¢é•¿</li>
</ul>
<p>ä½¿ç”¨ä»ä¸‹åˆ°ä¸Šæ’å…¥ï¼š</p>
<ul>
<li>B è¢«é€šçŸ¥ A è¿›å…¥</li>
<li>B è¢«é€šçŸ¥ C è¿›å…¥</li>
<li>R è¢«é€šçŸ¥ B è¿›å…¥</li>
<li>å…± 3 æ¬¡é€šçŸ¥ï¼Œçº¿æ€§å¢é•¿</li>
</ul>
<p><strong>å› ä¸ºå­èŠ‚ç‚¹çš„å˜åŠ¨ä¼šå½±å“çˆ¶èŠ‚ç‚¹çš„é‡æ–°æµ‹é‡ï¼Œä»ä¸‹åˆ°ä¸Šæ’å…¥å¯ä»¥é¿å…å½±å“å¤ªå¤šçš„çˆ¶èŠ‚ç‚¹ï¼Œæé«˜æ€§èƒ½ã€‚</strong></p>
<p><strong>ä¸ºä»€ä¹ˆè¦é€šè¿‡Applieræ¥å£è°ƒç”¨åˆ°LayoutNodeï¼Ÿè¿™é‡Œå¼€äº†ä¸ªå£å­ï¼ŒUiApplierä¸LayoutNodeåªæ˜¯å®‰å“å¹³å°çš„å¯¹åº”å®ç°ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è‡ªå®šä¹‰Applierå¯ä»¥æ‰“é€ è‡ªå·±çš„æ¸²æŸ“å¼•æ“ã€‚</strong></p>
<h3 data-id="heading-34">insertBottomUp</h3>
<p><code>insertBottomUp</code>æ˜¯ä»ä¸‹å¾€ä¸Šæ’å…¥ï¼Œä»€ä¹ˆæ—¶å€™è°ƒç”¨<code>insertBottomUp</code>ï¼Ÿæ‰§è¡Œå®Œ<code>InsertNodeFixups</code>çš„<code>execute</code>åï¼Œè¿˜ä¼šæ‰§è¡Œ<code>PostInsertNodeFixups</code>çš„<code>execute</code>ï¼Œä»<code>slots</code>æ•°ç»„ä¸­å–å‡ºèŠ‚ç‚¹ï¼ŒæŠŠèŠ‚ç‚¹æ’å…¥åˆ°<code>LayoutNode</code>ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> OperationArgContainer.<span class="hljs-title">execute</span><span class="hljs-params">(
    applier: <span class="hljs-type">Applier</span>&lt;*&gt;,
    slots: <span class="hljs-type">SlotWriter</span>,
    rememberManager: <span class="hljs-type">RememberManager</span>,
    errorContext: <span class="hljs-type">OperationErrorContext</span>?,
)</span></span> {
    <span class="hljs-keyword">val</span> groupAnchor = getObject(GroupAnchor)
    <span class="hljs-keyword">val</span> insertIndex = getInt(InsertIndex)

    applier.up()
    <span class="hljs-keyword">val</span> nodeApplier = <span class="hljs-meta">@Suppress(<span class="hljs-string">"UNCHECKED_CAST"</span>)</span> (applier <span class="hljs-keyword">as</span> Applier&lt;Any?&gt;)
    <span class="hljs-comment">// ä»slotsæ•°ç»„ä¸­å–å‡ºLayoutNodeå¯¹è±¡</span>
    <span class="hljs-keyword">val</span> nodeToInsert = slots.node(groupAnchor)
    <span class="hljs-comment">// æŠŠèŠ‚ç‚¹æ’å…¥åˆ°LayoutNode</span>
    nodeApplier.insertBottomUp(insertIndex, nodeToInsert)
}
</code></pre>
<h3 data-id="heading-35">åˆ›å»ºApplierå¯¹è±¡</h3>
<p>ä»€ä¹ˆæ—¶å€™åˆ›å»ºApplierå¯¹è±¡ï¼Ÿå›åˆ°<code>doSetContent</code>æ–¹æ³•ï¼Œåˆ›å»º<code>Composition</code>å¯¹è±¡çš„æ—¶å€™åˆ›å»ºäº†<code>UiApplier</code>å¯¹è±¡ï¼ŒåŒæ—¶æŠŠ<code>AndroidComposeView</code>çš„<code>LayoutNode</code>å¯¹è±¡ä¼ é€’ç»™äº†<code>UiApplier</code>å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">doSetContent</span><span class="hljs-params">(
    owner: <span class="hljs-type">AndroidComposeView</span>,
    parent: <span class="hljs-type">CompositionContext</span>,
    content: @<span class="hljs-type">Composable</span> () -&gt; <span class="hljs-type">Unit</span>,
)</span></span>: Composition {
    <span class="hljs-keyword">if</span> (isDebugInspectorInfoEnabled &amp;&amp; owner.getTag(R.id.inspection_slot_table_set) == <span class="hljs-literal">null</span>) {
        owner.setTag(
            R.id.inspection_slot_table_set,
            Collections.newSetFromMap(WeakHashMap&lt;CompositionData, <span class="hljs-built_in">Boolean</span>&gt;()),
        )
    }

    <span class="hljs-comment">// ä»æ ‡ç­¾ä¸­å–å‡ºWrappedCompositionå¯¹è±¡ï¼Œå¦‚æœä¸ºç©ºï¼Œåˆ›å»ºWrappedCompositionå¯¹è±¡ï¼Œåˆ›å»ºCompositionå¯¹è±¡ï¼Œè¿›è€Œåˆ›å»ºUiApplierå¯¹è±¡</span>
    <span class="hljs-keyword">val</span> wrapped =
        owner.view.getTag(R.id.wrapped_composition_tag) <span class="hljs-keyword">as</span>? WrappedComposition
            ?: WrappedComposition(owner, Composition(UiApplier(owner.root), parent)).also {
                owner.view.setTag(R.id.wrapped_composition_tag, it)
            }
    wrapped.setContent(content)

    <span class="hljs-keyword">return</span> wrapped
}
</code></pre>
<h2 data-id="heading-36">äº”ã€æ€»ç»“</h2>
<ul>
<li><strong>ä¼ ç»Ÿå‡½æ•°æ²¡æœ‰â€œè®°å¿†â€ï¼ŒComposeä½¿ç”¨SlotTableæ¥è®°ä½çŠ¶æ€å’ŒUIç»“æ„ã€‚</strong></li>
<li><strong>SlotTableçš„groupsæ•°ç»„ç”¨æ¥å­˜å‚¨æ‰€æœ‰ç»„çš„å…ƒæ•°æ®ï¼Œæ˜¯ä¸€ä¸ªæ‰å¹³åŒ–çš„æ ‘ç»“æ„ï¼Œç¼–è¾‘groupsæ•°ç»„ä½¿ç”¨äº†GapBufferã€‚slotsæ•°ç»„ç”¨æ¥å­˜å‚¨å®é™…æ•°æ®ï¼ˆStateã€LayoutNodeã€RecomposeScopeã€CompositionLocalã€rememberç­‰ï¼‰ã€‚</strong></li>
<li><strong>Composeå‡½æ•°åœ¨ç¼–è¯‘æœŸä¼šè¢«æ’å…¥startXXXGroup/endXXXGroupæ¨¡æ¿ä»£ç ï¼ŒstartXXXGroupä¼šæ’å…¥Groupå¹¶é€šè¿‡$keyè¯†åˆ«Groupåœ¨ä»£ç ä¸­çš„ä½ç½®ã€‚</strong></li>
<li><strong>LayoutNodeæ ‘æ˜¯å®é™…çš„èŠ‚ç‚¹æ ‘ï¼Œç”¨äºæµ‹é‡ã€å¸ƒå±€å’Œç»˜åˆ¶ã€‚SlotTableç»“æ„çš„å˜åŒ–æœ€ç»ˆè¦æ˜ å°„åˆ°LayoutNodeï¼Œé€šè¿‡Applieræ¥å£æ¥è°ƒç”¨åˆ°LayoutNodeã€‚Applieræä¾›äº†ä»ä¸Šåˆ°ä¸‹ã€ä»ä¸‹åˆ°ä¸Šä¸¤ç§æ’å…¥æ–¹å¼ï¼Œå®‰å“ä½¿ç”¨ä»ä¸‹åˆ°ä¸Šçš„æ’å…¥æ–¹å¼ï¼Œå› ä¸ºå­èŠ‚ç‚¹çš„å˜åŠ¨ä¼šå½±å“çˆ¶èŠ‚ç‚¹çš„é‡æ–°æµ‹é‡ï¼Œä»ä¸‹åˆ°ä¸Šæ’å…¥å¯ä»¥é¿å…å½±å“å¤ªå¤šçš„çˆ¶èŠ‚ç‚¹ï¼Œæé«˜æ€§èƒ½ã€‚</strong></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Transformer æ³¨æ„åŠ›æœºåˆ¶ä¸åºåˆ—å»ºæ¨¡åŸºç¡€]]></title>    <link>https://juejin.cn/post/7595043440519806982</link>    <guid>https://juejin.cn/post/7595043440519806982</guid>    <pubDate>2026-01-14T11:41:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595043440519806982" data-draft-id="7595043440519790598" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Transformer æ³¨æ„åŠ›æœºåˆ¶ä¸åºåˆ—å»ºæ¨¡åŸºç¡€"/> <meta itemprop="keywords" content="ç®—æ³•"/> <meta itemprop="datePublished" content="2026-01-14T11:41:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="seeksky"/> <meta itemprop="url" content="https://juejin.cn/user/306077226249100"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Transformer æ³¨æ„åŠ›æœºåˆ¶ä¸åºåˆ—å»ºæ¨¡åŸºç¡€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/306077226249100/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    seeksky
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-14T11:41:04.000Z" title="Wed Jan 14 2026 11:41:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¯¼è¯»</h2>
<p>Transformer ä¹‹æ‰€ä»¥é‡è¦ï¼Œä¸åªæ˜¯â€œæ›´å¼ºçš„æ¨¡å‹â€ï¼Œè€Œæ˜¯å®ƒç”¨æ³¨æ„åŠ›è®©åºåˆ—è®¡ç®—å¯ä»¥å¹¶è¡ŒåŒ–ï¼Œå¹¶ä¸”æŠŠâ€œä¾èµ–å…³ç³»å»ºæ¨¡â€å˜æˆäº†å¯è§£é‡Šã€å¯æ§åˆ¶çš„æ“ä½œã€‚æœ¬æ–‡ä»å…¬å¼ä¸ç»“æ„è®²æ¸…æ¥šæ ¸å¿ƒæœºåˆ¶ï¼Œå†è½åˆ° PyTorch <code>torch.nn.Transformer</code> çš„è¾“å…¥å½¢çŠ¶ä¸ mask è¯­ä¹‰ï¼Œå¸®åŠ©ä½ æŠŠæ¦‚å¿µè½¬æˆå¯è¿è¡Œçš„å·¥ç¨‹å®ç°ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€ä»åºåˆ—å»ºæ¨¡ç“¶é¢ˆè¯´èµ·</h2>
<p>ä¼ ç»Ÿ RNN/GRU/LSTM é€æ­¥å¤„ç†åºåˆ—ï¼Œæ—¶é—´å¤æ‚åº¦è™½ç„¶çº¿æ€§ï¼Œä½†è®¡ç®—æ— æ³•å¹¶è¡Œï¼Œè€Œä¸”é•¿è·ç¦»ä¾èµ–å®¹æ˜“è¢«æ¢¯åº¦ç¨€é‡Šã€‚Transformer çš„å…³é”®çªç ´æ˜¯ï¼šç”¨æ³¨æ„åŠ›è®©æ¯ä¸ªä½ç½®éƒ½èƒ½ç›´æ¥â€œçœ‹è§â€å…¨åºåˆ—ï¼Œä»è€Œå‡å°‘å¯¹é•¿é“¾æ¡çš„ä¾èµ–ï¼Œå¹¶æŠŠè®¡ç®—å¹¶è¡ŒåŒ–ã€‚</p>
<h2 data-id="heading-2">äºŒã€æ ¸å¿ƒå…¬å¼ï¼šç¼©æ”¾ç‚¹ç§¯æ³¨æ„åŠ›</h2>
<p>è®ºæ–‡ç»™å‡ºçš„æ ‡å‡†å…¬å¼æ˜¯ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">Attention</span>(Q, K, V) = <span class="hljs-built_in">softmax</span>(QK^T / sqrt(d_k)) V
</code></pre>
<p>è¿™é‡Œçš„ç¼©æ”¾ <code>sqrt(d_k)</code> æ˜¯ä¸ºäº†é¿å…ç‚¹ç§¯å€¼è¿‡å¤§å¯¼è‡´ softmax é¥±å’Œï¼Œä»è€Œç¨³å®šè®­ç»ƒã€‚ç›´è§‰ä¸Šå¯ä»¥è¿™æ ·ç†è§£ï¼šQ ä¸ K è®¡ç®—â€œç›¸å…³æ€§å¾—åˆ†â€ï¼Œsoftmax æŠŠå¾—åˆ†å˜æˆæƒé‡ï¼Œæœ€åç”¨æƒé‡å¯¹ V åšåŠ æƒæ±‚å’Œï¼Œå¾—åˆ°â€œå½“å‰ä½ç½®åº”è¯¥çœ‹å“ªäº›ä¿¡æ¯â€çš„èšåˆç»“æœã€‚</p>
<h2 data-id="heading-3">ä¸‰ã€å¤šå¤´æ³¨æ„åŠ›ï¼šå¹¶è¡Œå­ç©ºé—´çš„ç»„åˆ</h2>
<p>å¤šå¤´æ³¨æ„åŠ›æŠŠåŸæœ¬å•ä¸€çš„æ³¨æ„åŠ›åˆ†æˆå¤šä¸ªå¤´ï¼šæ¯ä¸ªå¤´åœ¨ä¸åŒçš„çº¿æ€§æŠ•å½±ç©ºé—´é‡Œè®¡ç®—æ³¨æ„åŠ›ï¼Œæœ€åå†æ‹¼æ¥èµ·æ¥ã€‚è¿™æ ·æ¨¡å‹èƒ½åŒæ—¶æ•æ‰ä¸åŒç±»å‹çš„å…³ç³»ï¼Œä¾‹å¦‚ä½ç½®é‚»è¿‘ã€è¯­ä¹‰ç›¸ä¼¼æˆ–ç»“æ„å¯¹é½ã€‚è®ºæ–‡æŒ‡å‡ºå¤šå¤´æœºåˆ¶æ˜¯æå‡è¡¨è¾¾èƒ½åŠ›çš„å…³é”®æ­¥éª¤ï¼Œè€Œä¸æ˜¯ç®€å•çš„å¹¶è¡ŒåŠ é€Ÿã€‚</p>
<h2 data-id="heading-4">å››ã€ç¼–ç å™¨/è§£ç å™¨çš„ä¿¡æ¯æµ</h2>
<p>ç»å…¸ Transformer æ˜¯ encoder-decoder ç»“æ„ï¼š</p>
<ul>
<li>ç¼–ç å™¨å±‚åŒ…å«è‡ªæ³¨æ„åŠ›ä¸å‰é¦ˆç½‘ç»œï¼Œè´Ÿè´£æŠŠè¾“å…¥åºåˆ—ç¼–ç æˆä¸Šä¸‹æ–‡è¡¨ç¤ºã€‚</li>
<li>è§£ç å™¨å±‚åŒ…å«â€œå¸¦å› æœ mask çš„è‡ªæ³¨æ„åŠ›â€å’Œâ€œå¯¹ç¼–ç å™¨è¾“å‡ºçš„äº¤å‰æ³¨æ„åŠ›â€ï¼Œç¡®ä¿ç”Ÿæˆæ—¶åªèƒ½çœ‹åˆ°å·²ç”Ÿæˆçš„å†å²ï¼ŒåŒæ—¶èƒ½è¯»å–æºåºåˆ—ä¿¡æ¯ã€‚</li>
</ul>
<p>è¿™ç§åˆ†å·¥è®©æ¨¡å‹æ—¢èƒ½åšåºåˆ—åˆ°åºåˆ—çš„æ˜ å°„ï¼Œä¹Ÿèƒ½åœ¨è§£ç é˜¶æ®µä¿æŒè‡ªå›å½’ä¸€è‡´æ€§ã€‚</p>
<h2 data-id="heading-5">äº”ã€ä½ç½®ç¼–ç ï¼šæ²¡æœ‰é¡ºåºå°±æ²¡æœ‰è¯­ä¹‰</h2>
<p>æ³¨æ„åŠ›æœ¬èº«ä¸åŒ…å«é¡ºåºï¼Œå› æ­¤ Transformer å¿…é¡»æ˜¾å¼åŠ å…¥ä½ç½®ç¼–ç ã€‚è®ºæ–‡ä¸­çš„æ­£å¼¦ä½ç½®ç¼–ç æä¾›äº†ä¸€ä¸ªæ— éœ€è®­ç»ƒçš„æ–¹æ¡ˆï¼Œä½¿æ¨¡å‹èƒ½é€šè¿‡ä½ç½®åµŒå…¥æ„ŸçŸ¥é¡ºåºä¸ç›¸å¯¹ä½ç§»ã€‚æ— è®ºç”¨æ­£å¼¦è¿˜æ˜¯å¯è®­ç»ƒä½ç½®åµŒå…¥ï¼Œæœ¬è´¨ç›®çš„éƒ½æ˜¯è®©â€œç›¸åŒ token åœ¨ä¸åŒä½ç½®â€å¾—åˆ°åŒºåˆ†ã€‚</p>
<p>è®ºæ–‡ç»™å‡ºçš„æ­£å¼¦ä½ç½®ç¼–ç å…¬å¼ä¸ºï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">PE</span>(pos, <span class="hljs-number">2</span>i)   = <span class="hljs-built_in">sin</span>(pos / <span class="hljs-number">10000</span>^(<span class="hljs-number">2</span>i / d_model))
<span class="hljs-built_in">PE</span>(pos, <span class="hljs-number">2</span>i+<span class="hljs-number">1</span>) = <span class="hljs-built_in">cos</span>(pos / <span class="hljs-number">10000</span>^(<span class="hljs-number">2</span>i / d_model))
</code></pre>
<p>è¿™ä¸ªè®¾è®¡çš„ç›´è§‰æ˜¯ï¼šä¸åŒç»´åº¦ç”¨ä¸åŒé¢‘ç‡ç¼–ç ä½ç½®ï¼Œä½¿æ¨¡å‹èƒ½å¤Ÿé€šè¿‡çº¿æ€§ç»„åˆè¡¨è¾¾ç›¸å¯¹ä½ç§»ï¼›åŒæ—¶ä¹Ÿæ›´å®¹æ˜“å¤–æ¨åˆ°æ¯”è®­ç»ƒæ—¶æ›´é•¿çš„åºåˆ—ä½ç½®ã€‚</p>
<h2 data-id="heading-6">å…­ã€è½åˆ°å·¥ç¨‹ï¼š<code>torch.nn.Transformer</code> çš„å®šä½</h2>
<p>PyTorch å®˜æ–¹æ–‡æ¡£æ˜ç¡®æŒ‡å‡ºï¼š<code>torch.nn.Transformer</code> æ˜¯å¯¹åŸå§‹æ¶æ„çš„å‚è€ƒå®ç°ï¼ŒåŠŸèƒ½ç›¸å¯¹æœ‰é™ï¼Œæ›´å¤šé«˜æ•ˆç»“æ„éœ€åŸºäºåº•å±‚æ¨¡å—è‡ªè¡Œç»„åˆï¼ˆè§å®˜æ–¹æ–‡æ¡£è¯´æ˜ï¼‰ã€‚å› æ­¤å®ƒéå¸¸é€‚åˆæ•™å­¦ã€åŸå‹æˆ–åŸºçº¿æ¨¡å‹ï¼Œä½†ä¸ä¸€å®šæ˜¯ç”Ÿäº§æœ€ä¼˜è§£ã€‚</p>
<p>å‚æ•°æ–¹é¢ï¼Œå¸¸ç”¨é…ç½®åŒ…æ‹¬ï¼š</p>
<ul>
<li><code>d_model</code>ï¼šè¾“å…¥/è¾“å‡ºçš„ç‰¹å¾ç»´åº¦ï¼›</li>
<li><code>nhead</code>ï¼šå¤šå¤´æ³¨æ„åŠ›å¤´æ•°ï¼›</li>
<li><code>num_encoder_layers</code> / <code>num_decoder_layers</code>ï¼šå±‚æ•°æ·±åº¦ï¼›</li>
<li><code>dim_feedforward</code>ï¼šå‰é¦ˆç½‘ç»œç»´åº¦ï¼›</li>
<li><code>dropout</code>ã€<code>activation</code>ï¼šè®­ç»ƒç¨³å®šæ€§ä¸éçº¿æ€§é€‰æ‹©ï¼›</li>
<li><code>batch_first</code>ï¼šæ˜¯å¦ä½¿ç”¨ <code>(N, S, E)</code> çš„å¼ é‡å¸ƒå±€ï¼›</li>
<li><code>norm_first</code>ï¼šæ˜¯å¦åœ¨å­å±‚å‰åº”ç”¨ LayerNormã€‚</li>
</ul>
<p>è¿™äº›å‚æ•°ç›´æ¥å†³å®šæ¨¡å‹å®¹é‡ã€è®­ç»ƒç¨³å®šæ€§ä¸æ€§èƒ½ç“¶é¢ˆã€‚</p>
<h2 data-id="heading-7">ä¸ƒã€è¾“å…¥å½¢çŠ¶ä¸ <code>batch_first</code></h2>
<p>å®˜æ–¹æ–‡æ¡£æ˜ç¡®ç»™å‡ºå½¢çŠ¶è§„åˆ™ï¼š</p>
<ul>
<li><code>batch_first=False</code>ï¼ˆé»˜è®¤ï¼‰æ—¶ï¼š<code>src</code> æ˜¯ <code>(S, N, E)</code>ï¼Œ<code>tgt</code> æ˜¯ <code>(T, N, E)</code>ï¼›</li>
<li><code>batch_first=True</code> æ—¶ï¼š<code>src</code> æ˜¯ <code>(N, S, E)</code>ï¼Œ<code>tgt</code> æ˜¯ <code>(N, T, E)</code>ï¼›</li>
<li><code>src_mask</code> å½¢çŠ¶ä¸º <code>(S, S)</code>ï¼Œ<code>tgt_mask</code> ä¸º <code>(T, T)</code>ï¼›</li>
<li><code>src_key_padding_mask</code> ä¸º <code>(N, S)</code>ï¼Œ<code>tgt_key_padding_mask</code> ä¸º <code>(N, T)</code>ã€‚</li>
</ul>
<p>è¿™é‡Œçš„ S/T æ˜¯åºåˆ—é•¿åº¦ï¼ŒN æ˜¯ batch å¤§å°ï¼ŒE æ˜¯ç‰¹å¾ç»´åº¦ã€‚å½¢çŠ¶é”™ä¸€ç»´ï¼Œæ¨¡å‹è¦ä¹ˆæŠ¥é”™ï¼Œè¦ä¹ˆæ›´éšè”½åœ°å­¦é”™ã€‚</p>
<h2 data-id="heading-8">å…«ã€Mask è¯­ä¹‰ï¼šå¸ƒå°”ä¸æµ®ç‚¹çš„å·®åˆ«</h2>
<p>PyTorch æ–‡æ¡£ç‰¹åˆ«è¯´æ˜ï¼š</p>
<ul>
<li>å½“ mask æ˜¯å¸ƒå°”å¼ é‡æ—¶ï¼Œ<code>True</code> è¡¨ç¤ºâ€œä¸å¯å‚ä¸æ³¨æ„åŠ›â€ï¼›</li>
<li>å½“ mask æ˜¯æµ®ç‚¹å¼ é‡æ—¶ï¼Œå®ƒä¼šè¢«åŠ åˆ°æ³¨æ„åŠ›æƒé‡ä¸Šï¼›</li>
<li><code>src_is_causal</code> / <code>tgt_is_causal</code> åªæ˜¯â€œå› æœ mask æç¤ºâ€ï¼Œæ–‡æ¡£è­¦å‘Šé”™è¯¯æç¤ºä¼šå¯¼è‡´ä¸æ­£ç¡®çš„æ‰§è¡Œç»“æœã€‚</li>
</ul>
<p>è¿™æ˜¯ä¸€ç±»éå¸¸å¸¸è§çš„å‘ï¼šä¸åŒåº“å¯¹ mask çš„ True/False è¯­ä¹‰ä¸åŒï¼Œä¸èƒ½æƒ³å½“ç„¶ã€‚</p>
<h2 data-id="heading-9">ä¹ã€å®è·µä»£ç ï¼šå®Œæ•´è¾“å…¥ + å› æœ mask + padding mask</h2>
<p>ä¸‹é¢ç¤ºä¾‹å±•ç¤º <code>batch_first=True</code> çš„é…ç½®æ–¹å¼ï¼Œå¹¶ä½¿ç”¨ <code>generate_square_subsequent_mask</code> ç”Ÿæˆå› æœ maskï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> torch
<span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn

model = nn.Transformer(
    d_model=<span class="hljs-number">256</span>,
    nhead=<span class="hljs-number">8</span>,
    num_encoder_layers=<span class="hljs-number">4</span>,
    num_decoder_layers=<span class="hljs-number">4</span>,
    batch_first=<span class="hljs-literal">True</span>,
)

<span class="hljs-comment"># (N, S, E) ä¸ (N, T, E)</span>
src = torch.rand(<span class="hljs-number">32</span>, <span class="hljs-number">10</span>, <span class="hljs-number">256</span>)
tgt = torch.rand(<span class="hljs-number">32</span>, <span class="hljs-number">12</span>, <span class="hljs-number">256</span>)

<span class="hljs-comment"># (T, T) å› æœ maskï¼šè¢«é®æŒ¡ä½ç½®ä¸º -inf</span>
causal_mask = nn.Transformer.generate_square_subsequent_mask(tgt.size(<span class="hljs-number">1</span>))

<span class="hljs-comment"># padding maskï¼šTrue è¡¨ç¤ºå¿½ç•¥</span>
src_key_padding_mask = torch.zeros(<span class="hljs-number">32</span>, <span class="hljs-number">10</span>, dtype=torch.<span class="hljs-built_in">bool</span>)

y = model(
    src,
    tgt,
    tgt_mask=causal_mask,
    src_key_padding_mask=src_key_padding_mask,
)
</code></pre>
<p>è¿™æ®µä»£ç ä¸å®˜æ–¹æ–‡æ¡£ç»™å‡ºçš„ shape è§„åˆ™ä¸€è‡´ï¼Œä¹Ÿæ˜¯æ’æŸ¥è¾“å…¥é”™è¯¯æ—¶æœ€å¸¸ç”¨çš„åŸºçº¿ã€‚</p>
<h2 data-id="heading-10">åã€ä»æ³¨æ„åŠ›çŸ©é˜µç†è§£ mask çš„ä½œç”¨</h2>
<p>ç†è§£ mask çš„ä¸€ä¸ªå¥½æ–¹æ³•ï¼Œæ˜¯æŠŠæ³¨æ„åŠ›æƒé‡å½“æˆä¸€ä¸ªâ€œå¯è§†åŒ–çš„çŸ©é˜µâ€ã€‚å¯¹è‡ªæ³¨æ„åŠ›æ¥è¯´ï¼Œæƒé‡çŸ©é˜µçš„å½¢çŠ¶é€šå¸¸æ˜¯ <code>(T, T)</code> æˆ– <code>(S, S)</code>ï¼›å¯¹äº¤å‰æ³¨æ„åŠ›ï¼Œå½¢çŠ¶æ˜¯ <code>(T, S)</code>ã€‚å®˜æ–¹æ–‡æ¡£ä¹Ÿç»™å‡ºäº† <code>src_mask</code>ã€<code>tgt_mask</code>ã€<code>memory_mask</code> çš„å½¢çŠ¶å®šä¹‰ï¼Œè¿™èƒ½å¸®åŠ©ä½ åˆ¤æ–­ä¸€ä¸ª mask åº”è¯¥å¯¹åº”â€œè°çœ‹è°â€ã€‚</p>
<p>åœ¨å®ç°ä¸Šï¼Œmask ä¼šåœ¨ softmax ä¹‹å‰å½±å“æ³¨æ„åŠ›æƒé‡ï¼šå¸ƒå°” mask çš„ <code>True</code> è¡¨ç¤ºç¦æ­¢å…³æ³¨ï¼Œæµ®ç‚¹ mask ä¼šè¢«ç›´æ¥åŠ åˆ°æƒé‡ä¸Šï¼ˆé€šå¸¸ç”¨ <code>-inf</code> åšé®æŒ¡ï¼‰ã€‚å› æ­¤ä½ å¯ä»¥æŠŠ mask ç†è§£ä¸ºâ€œæŠŠæŸäº›è¾¹ä»æ³¨æ„åŠ›å›¾ä¸­å‰ªæ‰â€ã€‚å¦‚æœ mask æ–¹å‘å¼„åï¼Œæ¨¡å‹å°±ä¼šåœ¨ä¸è¯¥çœ‹çš„ä½ç½®ä¸Šâ€œå·çœ‹ç­”æ¡ˆâ€ã€‚</p>
<h2 data-id="heading-11">åä¸€ã€è®­ç»ƒä¸æ¨ç†å»ºè®®ï¼ˆé¢å‘å·¥ç¨‹ï¼‰</h2>
<ul>
<li><strong>è®­ç»ƒé˜¶æ®µ</strong>ï¼šç¡®ä¿ <code>tgt</code> æ˜¯å³ç§»åçš„è¾“å…¥åºåˆ—ï¼Œå¹¶ç”¨å› æœ mask é¿å…æ³„æ¼æœªæ¥ä¿¡æ¯ã€‚</li>
<li><strong>æ¨ç†é˜¶æ®µ</strong>ï¼šé€æ­¥ç”Ÿæˆæ—¶è¦æŒç»­æ›´æ–° <code>tgt</code>ï¼Œå¹¶å¤ç”¨ <code>generate_square_subsequent_mask</code> çš„å½¢çŠ¶è§„åˆ™ã€‚</li>
<li><strong>æ—¥å¿—è®°å½•</strong>ï¼šå»ºè®®è®°å½• <code>batch_first</code>ã€mask ç±»å‹ã€shape ä¸ dtypeï¼Œä¾¿äºå®šä½è®­ç»ƒä¸ç¨³å®šæˆ–è¾“å‡ºå¼‚å¸¸ã€‚</li>
</ul>
<h2 data-id="heading-12">åäºŒã€æ€§èƒ½ä¸è¾¹ç•Œæ¡ä»¶</h2>
<p>æ³¨æ„åŠ›çš„è®¡ç®—å¤æ‚åº¦æ˜¯ O(n^2)ï¼Œåœ¨é•¿åºåˆ—åœºæ™¯ä¼šé€ æˆæ˜æ˜¾çš„æ˜¾å­˜å’Œå»¶è¿Ÿå‹åŠ›ã€‚å®˜æ–¹æ–‡æ¡£ä¹ŸæŒ‡å‡º <code>torch.nn.Transformer</code> æ˜¯å‚è€ƒå®ç°ï¼ŒåŠŸèƒ½æœ‰é™ï¼Œå¼ºè°ƒæ›´é«˜æ•ˆçš„å®ç°åº”åŸºäºåº•å±‚æ¨¡å—æˆ– PyTorch ç”Ÿæ€åº“ã€‚</p>
<p>è¿™æ„å‘³ç€ï¼šå½“ä½ é‡åˆ°é•¿ä¸Šä¸‹æ–‡æˆ–å®æ—¶æ¨ç†ç“¶é¢ˆæ—¶ï¼Œéœ€è¦è€ƒè™‘ç¨€ç–æ³¨æ„åŠ›ã€åˆ†å—æ³¨æ„åŠ›æˆ– KV cache ç­‰ç­–ç•¥ï¼Œè€Œä¸æ˜¯â€œç›²ç›®åŠ å±‚â€ã€‚</p>
<h2 data-id="heading-13">åä¸‰ã€å¸¸è§é”™è¯¯æ¸…å•</h2>
<ul>
<li><strong>æŠŠ <code>batch_first</code> å½“æˆé»˜è®¤</strong>ï¼šé»˜è®¤æ˜¯ <code>False</code>ï¼Œè¦æ˜¾å¼è®¾ç½®å¹¶åŒ¹é…è¾“å…¥å½¢çŠ¶ã€‚</li>
<li><strong>mask è¯­ä¹‰æå</strong>ï¼šå¸ƒå°” mask çš„ True è¡¨ç¤ºâ€œä¸å¯å…³æ³¨â€ã€‚</li>
<li><strong>å¿½è§† <code>*_is_causal</code> çš„æç¤ºè¯­ä¹‰</strong>ï¼šé”™è¯¯æç¤ºä¼šå¯¼è‡´ä¸æ­£ç¡®çš„æ‰§è¡Œç»“æœã€‚</li>
<li><strong>åªè®°å¾—å…¬å¼ï¼Œä¸è®°å¾—å½¢çŠ¶</strong>ï¼šTransformer çš„å¤§éƒ¨åˆ† bug å‡ºåœ¨ shape ä¸ mask ç»„åˆä¸Šã€‚</li>
</ul>
<h2 data-id="heading-14">å‚è€ƒèµ„æ–™</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fpytorch.org%2Fdocs%2Fstable%2Fgenerated%2Ftorch.nn.Transformer.html" target="_blank" title="https://pytorch.org/docs/stable/generated/torch.nn.Transformer.html" ref="nofollow noopener noreferrer">pytorch.org/docs/stableâ€¦</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F1706.03762" target="_blank" title="https://arxiv.org/abs/1706.03762" ref="nofollow noopener noreferrer">arxiv.org/abs/1706.03â€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MemOS äº§å“æ›´æ–°ï½œæ”¯æŒå…¨é‡è·å–ç”¨æˆ·è®°å¿†ï¼Œè®°å¿†ç®¡ç†ä¸å¯¹è¯ä½“éªŒæå‡]]></title>    <link>https://juejin.cn/post/7594854295759274027</link>    <guid>https://juejin.cn/post/7594854295759274027</guid>    <pubDate>2026-01-14T12:07:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594854295759274027" data-draft-id="7594832320030375979" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MemOS äº§å“æ›´æ–°ï½œæ”¯æŒå…¨é‡è·å–ç”¨æˆ·è®°å¿†ï¼Œè®°å¿†ç®¡ç†ä¸å¯¹è¯ä½“éªŒæå‡"/> <meta itemprop="keywords" content="GitHub"/> <meta itemprop="datePublished" content="2026-01-14T12:07:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="MemOS"/> <meta itemprop="url" content="https://juejin.cn/user/3792632680824698"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MemOS äº§å“æ›´æ–°ï½œæ”¯æŒå…¨é‡è·å–ç”¨æˆ·è®°å¿†ï¼Œè®°å¿†ç®¡ç†ä¸å¯¹è¯ä½“éªŒæå‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3792632680824698/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    MemOS
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-14T12:07:44.000Z" title="Wed Jan 14 2026 12:07:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e23e08d2fa984ce99e12c81b8c6f7e5f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWVtT1M=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768997264&amp;x-signature=RVvX82q7XnMLM2jeOgBW1FsHyzg%3D" alt="logoåŠ¨æ€.jpg" loading="lazy"/></p>
<p>åœ¨è¿‡å»çš„ç‰ˆæœ¬ä¸­ï¼ŒMemOS å·²ç»å¸®åŠ©å¼€å‘è€…è§£å†³äº†å¤§æ¨¡å‹çš„é•¿æœŸè®°å¿†ç®¡ç†é—®é¢˜ã€‚</p>
<p>v2.0.1 ç‰ˆæœ¬é‡Œï¼Œæˆ‘ä»¬èšç„¦å¼€å‘è€…å®é™…åº”ç”¨åœºæ™¯ï¼Œé’ˆå¯¹äº”é¡¹æ ¸å¿ƒåŠŸèƒ½å®Œæˆå‡çº§ï¼Œè¿›ä¸€æ­¥è¡¥å…¨äº† MemOS åœ¨è·¨ä¼šè¯åœºæ™¯ä¸‹çš„è®°å¿†ç®¡ç†èƒ½åŠ›å’Œå¯¹è¯èƒ½åŠ›ã€‚</p>
<h3 data-id="heading-0">æ ¸å¿ƒåŠŸèƒ½äº®ç‚¹</h3>
<ol>
<li>æ”¯æŒå…¨é‡è·å–ç”¨æˆ·è®°å¿†ï¼›</li>
<li>å¯¹è¯åŠŸèƒ½å®ç°â€œè®°å¿†æŒä¹…â€ï¼›</li>
<li>Playground æ”¯æŒæ‰‹åŠ¨åˆ é™¤è¿‡æœŸè®°å¿†ï¼›</li>
<li>åˆ é™¤è®°å¿†æ¥å£ä¼˜åŒ–ä¸åé¦ˆæœºåˆ¶å‡çº§ï¼Œæé«˜å¼€å‘è€…åˆ†æä¸æ§åˆ¶èƒ½åŠ›ï¼›</li>
<li>Search æ¥å£å»é‡åŠŸèƒ½ã€‚</li>
</ol>
<h3 data-id="heading-1">æœ¬æ¬¡å‘å¸ƒæ±‡æ€»</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0653da7eaafb4a7bb7ca8afd2348521c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWVtT1M=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768997264&amp;x-signature=y3rSlxUin%2BZh4sIa8pNYTLPjDy8%3D" alt="1.png" loading="lazy"/></p>
<h2 data-id="heading-2">ä¸€ã€å…¨é‡è·å–è®°å¿†ï¼šå¼€å‘è€…çš„â€œç”¨æˆ·è®°å¿†å¿«ç…§â€</h2>
<p>åœ¨ä¹‹å‰ç‰ˆæœ¬ä¸­ï¼Œè·å–è®°å¿†é€šå¸¸éœ€è¦åˆ†æ‰¹æˆ–æŒ‡å®š query æ‰èƒ½è¿”å›ç»“æœï¼Œæ— æ³•å¿«é€Ÿå…¨é‡æµè§ˆæŸä¸ªç”¨æˆ·çš„å†å²ä¿¡æ¯ã€‚</p>
<p>æœ¬æ¬¡æ›´æ–°ï¼Œæˆ‘ä»¬å‘å¸ƒäº† get/memory æ¥å£ï¼Œæ”¯æŒå¼€å‘è€…æŒ‰æ—¶é—´å€’åºåˆ†é¡µè·å–ç”¨æˆ·çš„æ‰€æœ‰äº‹å®è®°å¿†å’Œåå¥½è®°å¿†ã€‚æ— éœ€æä¾› queryï¼Œå¼€å‘è€…å¯ä»¥ä¸€é”®åœ¨åº”ç”¨å‰å°å±•ç¤ºç”¨æˆ·æ‰€æœ‰è®°å¿†ã€‚</p>
<p><strong>åŠŸèƒ½æ¦‚è¿°ï¼š</strong>
get/memory æ¥å£æ”¯æŒè·å–ç”¨æˆ·æ‰€æœ‰è®°å¿†ï¼ŒåŒ…æ‹¬äº‹å®è®°å¿†ä¸åå¥½è®°å¿†ã€‚</p>
<p><strong>äº‘æœåŠ¡ç¤ºä¾‹</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">import</span> json

<span class="hljs-comment"># æ›¿æ¢æˆä½ çš„ API Key</span>
os.environ[<span class="hljs-string">"MEMOS_API_KEY"</span>] = <span class="hljs-string">"YOUR_API_KEY"</span>
os.environ[<span class="hljs-string">"MEMOS_BASE_URL"</span>] = <span class="hljs-string">"https://memos.memtensor.cn/api/openmem/v1"</span>

data = {
    <span class="hljs-string">"user_id"</span>: <span class="hljs-string">"memos_user_123"</span>,
    <span class="hljs-string">"page"</span>: <span class="hljs-number">2</span>, <span class="hljs-comment"># å¯é€‰ï¼Œé»˜è®¤å€¼ä¸º1</span>
    <span class="hljs-string">"size"</span>: <span class="hljs-number">3</span>, <span class="hljs-comment"># å¯é€‰ï¼Œé»˜è®¤å€¼ä¸º10</span>
    <span class="hljs-string">"include_preference"</span>: <span class="hljs-string">"true"</span><span class="hljs-comment"># å¯é€‰ï¼Œé»˜è®¤å€¼ä¸ºtrue</span>
  }
headers = {
<span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/json"</span>,
<span class="hljs-string">"Authorization"</span>: <span class="hljs-string">f"Token <span class="hljs-subst">{os.environ[<span class="hljs-string">'MEMOS_API_KEY'</span>]}</span>"</span>
}
url = <span class="hljs-string">f"<span class="hljs-subst">{os.environ[<span class="hljs-string">'MEMOS_BASE_URL'</span>]}</span>/get/memory"</span>

res = requests.post(url=url, headers=headers, data=json.dumps(data))

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"result: <span class="hljs-subst">{res.json()}</span>"</span>)
</code></pre>
<p><strong>å¼€æºç‰ˆæœ¬ç¤ºä¾‹</strong></p>
<pre><code class="hljs language-css" lang="css">curl <span class="hljs-attr">--location</span> <span class="hljs-attr">--request</span> POST 'http://<span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span>:<span class="hljs-number">8001</span>/product/get_memory<span class="hljs-string">' \
--header '</span>Content-Type: application/json<span class="hljs-string">' \
--data-raw '</span>{
    "user_id": <span class="hljs-string">"test_1"</span>,
    <span class="hljs-string">"mem_cube_id"</span>: <span class="hljs-string">"test_1"</span>,
    <span class="hljs-string">"include_preference"</span>: <span class="hljs-string">"true"</span>,
    <span class="hljs-string">"page"</span>:<span class="hljs-number">2</span>,
    <span class="hljs-string">"page_size"</span>:<span class="hljs-number">3</span>
}'
</code></pre>
<h2 data-id="heading-3">äºŒã€äº‘æœåŠ¡ Chat æ¥å£å‘å¸ƒï¼šå¯¹è¯åŠŸèƒ½å®ç°â€œè®°å¿†æŒä¹…â€</h2>
<p>æ­¤æ¬¡æ›´æ–°çš„ chat æ¥å£å°†å†å²è®°å¿†è‡ªåŠ¨çº³å…¥å¯¹è¯ç”Ÿæˆæµç¨‹ï¼Œç³»ç»Ÿä¼šå…ˆæ£€ç´¢ä¸å½“å‰ query ç›¸å…³çš„è®°å¿†ï¼Œå†ç»“åˆä¼šè¯ä¸Šä¸‹æ–‡ç”Ÿæˆå›ç­”ï¼Œå¹¶å°†å¯¹è¯ç»“æœè¿”å›å¼€å‘è€…ã€‚</p>
<p>æ— éœ€æ‰‹åŠ¨ç»´æŠ¤ä¸Šä¸‹æ–‡ï¼Œå³å¯æ„å»ºå¤šè½®ã€è®°å¿†é©±åŠ¨çš„å¯¹è¯ä½“éªŒï¼Œè®© AI åº”ç”¨æ›´åŠ è‡ªç„¶ã€è¿ç»­ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e7325fb5849041548940b8ecda35488c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWVtT1M=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768997264&amp;x-signature=aAFXnKEABiEn2TISQlP8pelZbnw%3D" alt="2.png" loading="lazy"/></p>
<p>äº¤äº’æµç¨‹ï¼š</p>
<ol>
<li>å¦‚æœå­˜åœ¨ç”¨æˆ·å†å²æ¶ˆæ¯ï¼Œå¯å…ˆè°ƒç”¨ <code>add/message</code> å†™å…¥ MemOSã€‚</li>
<li>ç”¨æˆ·å‘é€æ¶ˆæ¯æ—¶ï¼ŒAI åº”ç”¨è°ƒç”¨ chat æ¥å£ã€‚</li>
<li>MemOS å¤„ç†æµç¨‹ï¼š
<ul>
<li>å¬å›ç”¨æˆ·ç›¸å…³å†å²è®°å¿†</li>
<li>æ‹¼æ¥è‡ªå®šä¹‰æŒ‡ä»¤ã€å½“å‰ä¼šè¯ä¸Šä¸‹æ–‡ä¸å¬å›çš„è®°å¿†ç”Ÿæˆå®Œæ•´ Prompt</li>
<li>è°ƒç”¨å¤§æ¨¡å‹ç”Ÿæˆå›ç­”</li>
</ul>
</li>
<li>AI åº”ç”¨è¿”å›ç»“æœç»™ç»ˆç«¯ç”¨æˆ·ã€‚</li>
</ol>
<p>åŠŸèƒ½æ¦‚è¿°ï¼š
chat æ¥å£ä¸Šçº¿ï¼Œå®ç°ä¸ç”¨æˆ·çš„â€œè®°å¿†æŒä¹…å¯¹è¯â€ï¼Œç³»ç»Ÿè‡ªåŠ¨å¬å›ç›¸å…³å†å²è®°å¿†å¹¶ç”Ÿæˆå›ç­”ã€‚</p>
<p>è°ƒç”¨ç¤ºä¾‹</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">import</span> json

<span class="hljs-comment"># æ›¿æ¢æˆä½ çš„ API Key</span>
os.environ[<span class="hljs-string">"MEMOS_API_KEY"</span>] = <span class="hljs-string">"YOUR_API_KEY"</span>
os.environ[<span class="hljs-string">"MEMOS_BASE_URL"</span>] = <span class="hljs-string">"https://memos.memtensor.cn/api/openmem/v1"</span>

data = {
<span class="hljs-string">"user_id"</span>: <span class="hljs-string">"memos_user_123"</span>,
<span class="hljs-string">"conversation_id"</span>: <span class="hljs-string">"memos_chat_conv"</span>,
<span class="hljs-string">"query"</span>: <span class="hljs-string">"ä½ å¥½ï¼Œç»™æˆ‘æ¨èç¾é£Ÿã€‚"</span>
}
headers = {
<span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/json"</span>,
<span class="hljs-string">"Authorization"</span>: <span class="hljs-string">f"Token <span class="hljs-subst">{os.environ[<span class="hljs-string">'MEMOS_API_KEY'</span>]}</span>"</span>
}
url = <span class="hljs-string">f"<span class="hljs-subst">{os.environ[<span class="hljs-string">'MEMOS_BASE_URL'</span>]}</span>/chat"</span>

res = requests.post(url=url, headers=headers, data=json.dumps(data))

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"result: <span class="hljs-subst">{res.json()}</span>"</span>)
</code></pre>
<h2 data-id="heading-4">ä¸‰ã€åˆ é™¤è®°å¿†ä¼˜åŒ–ä¸åé¦ˆæœºåˆ¶å‡çº§</h2>
<p>ä¸ºäº†æé«˜æ¥å£è°ƒç”¨æ•ˆç‡å’Œåå¥½è®°å¿†çš„è°ƒæ•´èƒ½åŠ›ï¼Œæœ¬æ¬¡æ›´æ–°å¯¹ delete/memory å’Œ feedback æ¥å£è¿›è¡Œäº†ä¼˜åŒ–ï¼š</p>
<ul>
<li>delete/memory æ¥å£ä¼˜åŒ–ï¼Œå¯åˆ é™¤æ‰€æœ‰ç±»å‹è®°å¿†ï¼Œæ— éœ€æŒ‡å®šç”¨æˆ·ã€‚</li>
<li>feedback æ¥å£æ”¯æŒåå¥½è®°å¿†æ›´æ–°ï¼Œç”¨æˆ·åé¦ˆå¯ç›´æ¥ä¿®æ”¹åå¥½è®°å¿†ã€‚</li>
</ul>
<p>å¼€å‘è€…ç°åœ¨å¯ä»¥åœ¨å¤šç”¨æˆ·åœºæ™¯ä¸‹ï¼Œæ›´é«˜æ•ˆåœ°ç®¡ç†è®°å¿†ï¼Œå¹¶åœ¨åˆ†æå’Œè°ƒè¯•ä¸­è·å¾—æ›´æ¸…æ™°çš„æ•°æ®è¡¨ç°ã€‚</p>
<h3 data-id="heading-5">3.1 åˆ é™¤è®°å¿†</h3>
<p>åŠŸèƒ½æ¦‚è¿°ï¼š
delete/memory æ¥å£ä¼˜åŒ–ï¼Œæ— éœ€æŒ‡å®šç”¨æˆ·ï¼Œæ”¯æŒåˆ é™¤æ‰€æœ‰ç±»å‹è®°å¿†ï¼ˆç”¨æˆ·è®°å¿†ã€çŸ¥è¯†åº“è®°å¿†ç­‰ï¼‰ã€‚</p>
<p>äº‘æœåŠ¡ç¤ºä¾‹</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">import</span> json

<span class="hljs-comment"># æ›¿æ¢æˆä½ çš„ API Key</span>
os.environ[<span class="hljs-string">"MEMOS_API_KEY"</span>] = <span class="hljs-string">"YOUR_API_KEY"</span>
os.environ[<span class="hljs-string">"MEMOS_BASE_URL"</span>] = <span class="hljs-string">"https://memos.memtensor.cn/api/openmem/v1"</span>

data = {
<span class="hljs-string">"memory_ids"</span>: [<span class="hljs-string">"6b23b583-f4c4-4a8f-b345-58d0c48fea04"</span>] <span class="hljs-comment"># æ›¿æ¢ä¸ºçœŸå®çš„è®°å¿† ID</span>
}
headers = {
<span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/json"</span>,
<span class="hljs-string">"Authorization"</span>: <span class="hljs-string">f"Token <span class="hljs-subst">{os.environ[<span class="hljs-string">'MEMOS_API_KEY'</span>]}</span>"</span>
}
url = <span class="hljs-string">f"<span class="hljs-subst">{os.environ[<span class="hljs-string">'MEMOS_BASE_URL'</span>]}</span>/delete/memory"</span>

res = requests.post(url=url, headers=headers, data=json.dumps(data))

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"result: <span class="hljs-subst">{res.json()}</span>"</span>)
</code></pre>
<h3 data-id="heading-6">3.2 åé¦ˆä¿®æ­£ï¼ˆadd_feedbackï¼‰</h3>
<p>åŠŸèƒ½æ¦‚è¿°ï¼š
feedback æ¥å£æ”¯æŒåå¥½è®°å¿†ä¿®æ­£ï¼Œç³»ç»Ÿä¼šæ ¹æ®ç”¨æˆ·åé¦ˆæ–‡æœ¬åŒæ­¥æ›´æ–°åå¥½è®°å¿†ï¼Œæ— éœ€é¢å¤–å‚æ•°ã€‚</p>
<p>äº‘æœåŠ¡ç¤ºä¾‹</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">import</span> json

<span class="hljs-comment"># æ›¿æ¢æˆä½ çš„ MemOS API Key</span>
os.environ[<span class="hljs-string">"MEMOS_API_KEY"</span>] = <span class="hljs-string">"YOUR_API_KEY"</span>
os.environ[<span class="hljs-string">"MEMOS_BASE_URL"</span>] = <span class="hljs-string">"https://memos.memtensor.cn/api/openmem/v1"</span>

data = {
    <span class="hljs-string">"user_id"</span>: <span class="hljs-string">"memos_user_123"</span>,
    <span class="hljs-string">"conversation_id"</span>: <span class="hljs-string">"0108"</span>,
    <span class="hljs-string">"feedback_content"</span>: <span class="hljs-string">"é”™å•¦ï¼Œå®é™…ä¸Šæˆ‘å–œæ¬¢çš„æ˜¯å±±ç«¹"</span>,
    <span class="hljs-string">"feedback_time"</span>: <span class="hljs-string">"2025-12-02 10:10:10"</span>,
    <span class="hljs-string">"allow_knowledgebase_ids"</span>: [
        <span class="hljs-string">"basebXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"</span>
    ] 
  }
headers = {
<span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/json"</span>,
<span class="hljs-string">"Authorization"</span>: <span class="hljs-string">f"Token <span class="hljs-subst">{os.environ[<span class="hljs-string">'MEMOS_API_KEY'</span>]}</span>"</span>
}
url = <span class="hljs-string">f"<span class="hljs-subst">{os.environ[<span class="hljs-string">'MEMOS_BASE_URL'</span>]}</span>/add/feedback"</span>

res = requests.post(url=url, headers=headers, data=json.dumps(data))

<span class="hljs-built_in">print</span>(json.dumps(res.json(), indent=<span class="hljs-number">2</span>, ensure_ascii=<span class="hljs-literal">False</span>))
</code></pre>
<p>å¼€æºé¡¹ç›®ç¤ºä¾‹</p>
<pre><code class="hljs language-css" lang="css">curl <span class="hljs-attr">--location</span> <span class="hljs-attr">--request</span> POST 'http://<span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span>:<span class="hljs-number">8001</span>/product/feedback<span class="hljs-string">' \
--header '</span>Content-Type: application/json<span class="hljs-string">' \
--data-raw '</span>{
  "user_id": <span class="hljs-string">"memos_user_123"</span>,
  <span class="hljs-string">"writable_cube_ids"</span>: [
    <span class="hljs-string">"demo_cube_001"</span>
  ],
  <span class="hljs-string">"history"</span>: [
            {"role": <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"æˆ‘å–œæ¬¢ä»€ä¹ˆæ°´æœï¼Œä¸å–œæ¬¢ä»€ä¹ˆæ°´æœ"</span>},
            {"role": <span class="hljs-string">"assistant"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä½ å–œæ¬¢è‹¹æœï¼Œä¸å–œæ¬¢é¦™è•‰"</span>}
  ],
  "feedback_content": <span class="hljs-string">"é”™äº†ï¼Œå®é™…ä¸Šæˆ‘å–œæ¬¢çš„æ˜¯å±±ç«¹"</span>
}'
</code></pre>
<h2 data-id="heading-7">å››ã€Playground è®°å¿†ç®¡ç†é¡µï¼šå¯è§†åŒ–æ§åˆ¶</h2>
<p>åœ¨ä¹‹å‰ç‰ˆæœ¬ä¸­ï¼ŒPlayground çš„åˆ é™¤æ“ä½œä»éœ€è°ƒç”¨æ¥å£ã€‚</p>
<p>v2.0.1 åœ¨ Playground ä¸­æ–°å¢äº† æ‰‹åŠ¨åˆ é™¤è¿‡æœŸè®°å¿†åŠŸèƒ½ï¼Œç”¨æˆ·å¯ç›´æ¥åœ¨é¡µé¢ä¸­ç®¡ç†ä¸å†éœ€è¦çš„è®°å¿†ï¼Œå®ç°å¿«é€Ÿè°ƒè¯•æˆ–æ¼”ç¤ºã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0178fb1a4f654e5898313074b2b59afd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWVtT1M=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768997264&amp;x-signature=7V3Ciy6ZwszrxW5TOPAt%2FDqVMx4%3D" alt="3.png" loading="lazy"/></p>
<p>ç°åœ¨ï¼Œå¼€å‘è€…èƒ½å¤Ÿæ›´ç›´è§‚åœ°æ“ä½œå’ŒéªŒè¯è®°å¿†è¡Œä¸ºï¼Œè¿›ä¸€æ­¥å‡å°‘äº†é‡å¤è°ƒç”¨æ¥å£çš„æ“ä½œæˆæœ¬ã€‚</p>
<h2 data-id="heading-8">äº”ã€Search æ¥å£å»é‡ï¼šç»“æœæ›´ç²¾å‡†</h2>
<p>v2.0.1 å¯¹ search æ¥å£æ–°å¢äº† dedup å‚æ•°ï¼Œæ”¯æŒè¯­ä¹‰å»é‡ï¼Œå‡å°‘é‡å¤æ£€ç´¢ç»“æœã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c425d8ce715142c1b5aebc232461390f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWVtT1M=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768997264&amp;x-signature=Qazw0wjhuiaH7I5PTiQ2rAMvnZE%3D" alt="4.png" loading="lazy"/></p>
<p>ç°åœ¨å¯ä»¥ç›´æ¥é€šè¿‡æ¥å£æ§åˆ¶æ£€ç´¢ç»“æœçš„é‡å¤ç­–ç•¥ï¼Œé¿å…äº†å¯èƒ½å‡ºç°åŒä¸€äº‹å®çš„å¤šç§è¡¨è¿°é‡å¤è¿”å›ï¼ŒåŠåœ¨ç»Ÿè®¡æˆ–å±•ç¤ºæ—¶éœ€è¦é¢å¤–å¤„ç†é‡å¤æ•°æ®çš„æƒ…å†µï¼Œè¿›ä¸€æ­¥æå‡æ£€ç´¢ç»“æœä¿¡æ¯é‡å’Œå¯ç”¨æ€§ã€‚</p>
<p>å¼€æºé¡¹ç›®ç¤ºä¾‹</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> json

<span class="hljs-keyword">import</span> requests

BASE_URL = <span class="hljs-string">"http://127.0.0.1:8001"</span>
headers = {<span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/json"</span>}

<span class="hljs-keyword">data</span> = {
<span class="hljs-string">"user_id"</span>: <span class="hljs-string">"memos_user_123"</span>,
<span class="hljs-string">"query"</span>: <span class="hljs-string">"æˆ‘å–œæ¬¢åƒä»€ä¹ˆï¼Ÿ"</span>,
<span class="hljs-string">"top_k"</span>: <span class="hljs-number">10</span>,
<span class="hljs-string">"dedup"</span>: <span class="hljs-string">"sim"</span>
}

res = requests.post(url=f<span class="hljs-string">"{BASE_URL}/product/search"</span>, headers=headers, <span class="hljs-keyword">data</span>=json.dumps(<span class="hljs-keyword">data</span>))
print(res.status_code, res.json())
</code></pre>
<h2 data-id="heading-9">å…­ã€å¼€æºç¤¾åŒºæ›´æ–°</h2>
<ul>
<li>get/memory æ”¯æŒå…¨é‡ä¸åˆ†é¡µæ£€ç´¢ï¼›</li>
<li>delete/memory ä¸ add/feedback å·¥å…·å¯åœ¨ MCP ä¸­è°ƒç”¨ï¼›</li>
<li>Search æ¥å£å¢åŠ  dedup å»é‡ç­–ç•¥ï¼›</li>
<li>ä¿®å¤è°ƒåº¦ local æ¨¡å¼ç¼ºå°‘ redis é…ç½®æŠ¥é”™ï¼›</li>
<li>ä¿®å¤ kv_cache æ–°ç‰ˆå…¼å®¹é—®é¢˜ï¼›</li>
<li>æ‰¹é‡ add æ€§èƒ½ä¼˜åŒ–ä¸æ›´ç²¾ç»†æ£€ç´¢èƒ½åŠ›ã€‚</li>
</ul>
<hr/>
<hr/>
<p>âœ¨ è€è§„çŸ©ï¼</p>
<p>ğŸš€ ä¸€é”®ä½“éªŒäº‘å¹³å°</p>
<p>ç«‹å³è¿›å…¥ MemOS äº‘å¹³å°ï¼Œä½“éªŒæ¯«ç§’çº§è®°å¿†ä¸åå¥½å¬å›èƒ½åŠ›ã€‚</p>
<p>memos-dashboard.openmem.net/quickstart/?entrance=wechat</p>
<p>ğŸ’¾ å¦‚æœä½ å–œæ¬¢æˆ‘ä»¬çš„å·¥ä½œï¼Œè¯·ä¸€é”®ä¸‰è¿ï¼š</p>
<p>â­ï¸ Starâ€ƒğŸ´ Forkâ€ƒğŸ‘€ Watch</p>
<p>å¹¶æ¬¢è¿é€šè¿‡ Issue æäº¤ä½ çš„ä½¿ç”¨åé¦ˆã€ä¼˜åŒ–å»ºè®®æˆ– Bug æŠ¥å‘Šã€‚</p>
<p>github.com/MemTensor/MemOS/issues</p>
<hr/>
<p>å…³äº MemOS</p>
<p>MemOS ä¸º AI åº”ç”¨æ„å»ºç»Ÿä¸€çš„è®°å¿†ç®¡ç†å¹³å°ï¼Œè®©æ™ºèƒ½ç³»ç»Ÿå¦‚å¤§è„‘èˆ¬æ‹¥æœ‰çµæ´»ã€å¯è¿ç§»ã€å¯å…±äº«çš„é•¿æœŸè®°å¿†å’Œå³æ—¶è®°å¿†ã€‚</p>
<p>ä½œä¸ºè®°å¿†å¼ é‡é¦–æ¬¡æå‡ºâ€œè®°å¿†è°ƒåº¦â€æ¶æ„çš„ AI è®°å¿†æ“ä½œç³»ç»Ÿï¼Œæˆ‘ä»¬å¸Œæœ›é€šè¿‡ MemOS å…¨é¢é‡æ„æ¨¡å‹è®°å¿†èµ„æºçš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œä¸ºæ™ºèƒ½ç³»ç»Ÿæä¾›é«˜æ•ˆä¸”çµæ´»çš„è®°å¿†ç®¡ç†èƒ½åŠ›ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>